function a0_0x2fcc(_0xac7774,_0x578e30){const _0x29d7bd=a0_0x29d7();return a0_0x2fcc=function(_0x2fcccc,_0x1b812c){_0x2fcccc=_0x2fcccc-0x89;let _0x2d07d1=_0x29d7bd[_0x2fcccc];return _0x2d07d1;},a0_0x2fcc(_0xac7774,_0x578e30);}function a0_0x29d7(){const _0x5c859c=['pub-sub-topic-does-not-exist','SystemTopic\x20publish','SenderPeerConnection.send','requestSubscriptionAction','Add','receiverStreams','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','handleFolderCreate','NodeUpdate','pop','sender','crewdleSDKDisableLogging','isWhereValue','Cannot\x20publish\x20folder:\x20','trackKinds','object-store-not-synced','aiSearchConnector','unsubscribeListener','eventTarget','findNewMediaSubscription','audioContext','memoryUsage','addIssue','dataChannel','Completed','getReport','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','Transaction','handleFileRequestAnswer','detectVideoIssues','receiverTimeProcessing','ratePrompt','collectSendersStats','resetConnection','RelationExtractor','receiverCurrentBytes','aws','getModels','syncKeyValueDatabase','\x20must\x20be\x20a\x20number','getDoc','createConnection','queryFileConnector','getOwnerId','nextNodeId','keyValueDatabases','toLocaleDateString','encode','publishFile','Job\x20with\x20id\x20','CloseJobDispatcher','messageType','deployedVersion','Subject','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','addNode','Logging\x20trace','setupRenderElement','deleteJob','setEncodingParameters','DatabaseEvent','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','setOnDisconnectHandler','ObjectStoreInvalidPath','getTransactions','Error\x20committing\x20batch:','key-value-database-creation-failed','Knowledge','getFirestore','outputType','connectionType','logBatch','User','MissingSystemTopic','Opened\x20key\x20value\x20database','Delete','Database\x20Opened','getContentType','skipEncryption','Reranker\x20block\x20is\x20missing\x20required\x20data','EntityExtractor','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','publishLocalMediaStream','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','onRemoveTrack','decodeJWT','LocalMediaStreamTrackFail','agentConfig','discoveryUnsubscriber','object-store-invalid-sync-message','fileSendingMap','bucketId','open','handleTransactionPayload','framesDecoded','registerSystemSource','sampleRate','.tsx','entries','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','JobWorker:\x20Received\x20job','loadFromDisk','asyncHeaders','.doc','ExternalStorageConnection\x20not\x20found','GenerativeAILabelConflict','getBufferedAmount','ccc','RemoteMediaStreamInvalidSubscriptionParams','String','asc','OutgoingMediaStreamNoTopic','Move','internal-sdk-error','localId','observe','serverTimestamp','logMMRRebuild','clientWidth','event','discoveryService','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','.vbs','\x27\x20to\x20','Receiver','initialize','sourceUrl','local-media-stream-no-audio-context','checkSyncComplete','feature-not-enabled','getDisplayMedia','object-store-invalid-state','senderBitrate','.vue','JobWorker:\x20Error\x20processing\x20job','getSupportedContentTypes','trackCallback','peaks','onMessage','processLocalReport','Pool','\x27\x20from\x20','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','url','KeyValueDatabaseTransactionValueNotSet','CloseVectorDatabase','logInitialMMR','st_volatility','GraphDatabaseNameNotString','subscription-request-does-not-exist','tableObserver','handshakeDebounce','createBuffer','loggingConnectors','.crewdle-last-transaction','links','connectionStateListener','openJobWorker','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','connectAgent','features','Invalid\x20data\x20channel.','enabled','Remote\x20MediaStream\x20already\x20exists','return\x20this','missing-incoming-connection','setDurationTime','isAvailable','text/','accumulated','min','orchestrator','uid','\x0a</','MediaStream','getWorkflowObjectStorageBuckets','clearOncloseTimeout','addAudioTrack','getId','manageOptimization','Result','gatheringState','dataBucketIds','undefined','detection','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','floor','maxTokens','setDisplayName','agent-config-changed','sendStats','getShareableStreamId','Boolean','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','generativeAIContexts','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','operator','capacityReporter','remoteNodes','getPubSubTopic','getReceiverTotalBytes','InternalSDKError','handleSubscriptionNeedMediaStream','Job\x20worker\x20creation\x20failed.','runJobQueue','removeTrack','dataUnsubscribers','removeItem','Invalid\x20value.\x20Property\x20\x27','jobWorkers','generative-ai-context-job-missing-thread-id','startTracing','index','Logging\x20not\x20enabled\x20for\x20channel\x20','setLoggingConnectors','job-worker-invalid-type','SubscriptionRequestFailed','getBitrate','waitAnswer','.dart','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','44jlyize','Execute\x20the\x20agent\x20','\x20already\x20exists','waitAsync','receiver-on-message','ancestors','Processing\x20agent\x20block:\x20','key-value-database','JobWorker:\x20Received\x20job\x20attribution','1.0.15.0','GenerativeAIContextInvalidPartialResult','count','Low','job-dispatcher-job-exists','getRemoteConnections','publishTransaction','1:420235181083:web:4eff6062bd845cb0748cbe','.php','evaluateProccessedJob','generative-ai','subscribeToLocalContent','getIdToken','responseTimeout','graph-database-missing-connector','providerListener','clientStream','update','maxLayer','bufferEvent','processSenderReport','Cannot\x20unpublish\x20object:\x20','LoggingService:\x20logging\x20enabled\x20for','Job\x20Dispatcher\x20does\x20not\x20exist','receiverUnsubscribers','loggingDatabaseConnector','From\x20','getApp','tail','isPartialResultResponse','handleContentRemoteMediaStreamTrackFail','node-type-required','unregisterSubscriber','firebase-disconnect','storageType','\x0a\x0a`Executing\x20custom\x20skill\x20','notifyCluster','engine','\x20received\x20result:','addConnection','createSenderConnection','media-stream','processBatch','SubscriptionRequestNoAnswer','modelStore','subject','value','handleSubscriptionSubscribeMediaStream','getDataCollections','sort','\x0a\x0a`Executing\x20query`\x0a\x0a','subscribeToJobs','processTransactionsToComputeMMR','ConnectionState','context','minRelevance','.html','queries','JobDispatcherAlreadyExists','detectProblems','senderConnection','compareTransactions','setConnectionType','external-storage-invalid-path','isBidResponse','Signaling','trace','Offline','discover','Local\x20node\x20rank\x20is\x20not\x20set','debounceReady','Job\x20','splitParts','contentSize','currentBytes','getConnectionType','threadId','getMaxDistance','.rkt','time','image','createAnswer','appendTransaction','Error\x20searching','Error\x20opening\x20trace','removeTopic','pool','handleSystemEvents','nodeKey','VectorDatabaseNameNotString','object-store-cannot-write-transaction','JobDispatcherObserverNotFound','peerConnectionConnector','.kt','origin','stopTracing','externalStorageConnectionIds','Invalid\x20layout:\x20','generative-ai-context-job-failed','AI\x20Service\x20already\x20exists','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','LoadKnowledgeFunction','processOutboundReport','SubscribeMediaStream','mediator','append','publishLocalDynamicMediaStream','Jobs','setupConnectionEvents','width','externalStorageConnectors','GenerativeAIContextJobAlreadyConsumed','Agent\x20group\x20not\x20found','logDataSent','packets','Disconnected','getName','removeSubscriptionsForNode','getPacketsLostPerc','Apply\x20remediation','KeyValueDatabaseSendTransactions','string','InvalidAccess','observer','setPriority','Remediation','getConnection','getPeakNode','KeyValueDatabasePeakNotFound','validateValue','crewdleSDKLoggingChannels','processRemoteInboundReport','handleMissingSenders','VectorDatabaseAlreadyExists','getTrackFromParam','GraphSearch','getSentences','GenerativeAIContextJobMissingThreadId','createMediaStreamDestination','Opened\x20object\x20store\x20bucket','createIncomingSubscription','No\x20connector\x20found\x20for\x20model','JobWorker:\x20Sending\x20job\x20bid','agent-update','Cannot\x20get\x20file:\x20','Object\x20store\x20not\x20synced.','answer','isFeatureSupported','drawImage','checkBackgrounds','exists','WebGL','addRemoteNode','unpublish','getRemoteNode','StorageEventType','vendorId','processAddContent','GetContextQuery','Incoming','objectStorageBuckets','1355152LyFsnt','\x20to\x20generate\x20a\x20response.','bitrate','add','WebRTC','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','recomputeRoot','searchOnGoogle','JobWorkerInvalidType','auth','parentId','queues','InitialPrompt','Problem','Outgoing','listenerUnsubscribers','Generative\x20AI\x20context\x20job\x20failed.','jobObservers','\x20transactions\x20from\x20node\x20','CPUCycle','authenticateUser','nodeManager','removeKeyValueDatabase','forceLog','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','outgoingManager','Subscribing\x20to\x20an\x20event:\x20on','getMaxConnections','doc','jobDispatchers','long','GenerativeAIContextCreationFailed','getRoot','.pl','.jinja','closeConnection','8wTKmXa','CloseExternalStorageConnection','.conf','removeRemoteConnection','Attribution','race','@root','configs','/resources/generative-ai-collection/items','AppSync\x20publish','loadLocalContent','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','/capacities','transactionTable','isConnected','name','listenerUnsubscriber','createObjectStoreBucket','keyPath','pipe','transformations','limitToFirst','onremovetrack','random','relations','pendingHandshakeCandidates','shouldContinuePropagation','Stats:\x20report','ObjectStoreInvalidState','.txt','events','KeyValueDatabaseCreationFailed','createJobDispatcher','page','FinalOutput','maxResolution','search','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','setSenderTimestamp','connectionState','versions','DataStream\x20onMessage','logServiceEvent','job-dispatcher-invalid-job-type','Bitrate','\x0a\x0a`Executing\x20agent\x20','Get','receiverCurrentTimestamp','GraphDatabaseAlreadyExists','snippet','listenUnsubscriber','traceLevel','Logger.getInstance','System','PubSubTopicDoesNotExist','Missing\x20vector\x20database\x20connector','contextInputVariable','JobWorker:\x20Sending\x20job\x20result','messagesReceived','Content','connect','peakHeights','firebaseUnsubscriber','tokens','/developers/','KeyValueDatabaseTableNameReserved','generative-ai-context-already-exists','publishSystemMessage','searchEngineId','File','pendingSyncTransactions','openVectorDatabase','.erl','getWorkflow','externalStores','external-storage-connection-does-not-exist','RequestFileWrite','httpsCallable','1459190YZislT','Query\x20is\x20required','ExternalStorageConnectionAlreadySubscribed','failJob','set','Model\x20not\x20found','createBatchOperation','addCluster','listener','processContentQueue','pendingFilesTransactions','crewdle-sdk-stg','Before\x20Synchronization','\x20were\x20ready\x20in','AgentSkill','Key-value\x20database\x20peak\x20not\x20found.','workflow-does-not-exist','DocumentParser','reject','ConnectionNotConnected','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','Opened\x20graph\x20database','.cs','KeyValueDatabaseNotOpen','download','connection-not-initialized','dataStores','Error\x20initializing\x20logging\x20database\x20with\x20\x27','canProvideResolution','startNoThrottlingHack','JobStatus','propagate','\x20with\x20\x27','transactions','pubSubTopics','Retrieve','videoHeight','isComputingMMR','getTime','internalId','addBidResponse','sendRequest','Connected','mediaDevices','PayloadAction','openKeyValueDatabase','prompts','setRank','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','handleContentCloseMediaStream','/resources/agent/items/','not-resolved','getTransactionByHash','audioSource','Could\x20not\x20open\x20trace','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','Sync\x20completed','minConnections','internalProcessJobStream','handleNodeDisconnect','Database\x20already\x20exists','dt_volatility','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','size','getDisplayName','Rejected\x20answer','element','Mistlet\x20capacity\x20report\x20not\x20set.','document-parser','dbKey','issues','RemoteConnectionExists','.yml','job-dispatcher-already-exists','Found\x20','chosenAnswers','objectStoreId','2-digit','thread-','setupListeners','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','entity','cluster-leave','getSettings','createBatch','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','ModelText','Rejected','AppSync\x20subscribe','\x20already\x20exists.','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','getContent','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','clearConnectionTimeout','job-worker-already-exists','logSyncMetrics','signOut','processContentAvailable','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','@id','providerId','setInterval','toLowerCase','failed','Media','crewdle-sdk.firebaseapp.com','split','operations','.sh','hasTracks','bytesSent','clear','authenticateAgent','.jl','batch','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','data-collection','request-accepted','queryOrPrompt','getRoundTripTime','Handshake','\x20writes\x20from\x20','TimePerFrame','getResolution','removeRemoteStreamSubscription','framesEncoded','vectorDatabaseConnector','publishSyncCompleted','accumulateResult','detail','ObjectStoreAlreadyExists','createNewBatch','PromptFunctionParamsType','GraphDatabaseMissingConnector','transactionHashMap','addDoc','New\x20MMR\x20Root:\x20','commit','GetContextResult','startAt','connection-no-retry-queue','getAncestors','lastHeartbeat','contentQueueRunning','AppSync\x20client\x20not\x20ready','firstValueFrom','GenerativeAIEngineType','entities','onGatheringStateChange','NodeType','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','setBytes','GenerativeAIWorkerMissingConnector','contentManager','Online','unregisterPublisher','bind','hasTable','retryCallback','searchApiKey','onValue','\x20MB','addTrack','AudioContext\x20is\x20not\x20available','Error\x20stringifying\x20object','completeSync','title','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','handleNoAnswer','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','graphDatabaseConnector','crewdle-sdk-logging-','data','getRemoteMediaStream','JobDispatcherDoesNotExist','sourceId','Setting\x20context\x20for\x20agent\x20block','vector','eventListener','validateAccess','createPendingFileWrite','endsWith','estimatedPlayoutTimestamp','detectAudioIssues','getHash','GraphDatabase\x20not\x20found','RequestFile','resizeHandler','Error\x20closing\x20trace','logConnectionState','debugEnabled','publishUserUpdate','maxOutgoingSubscriptions','WordSplitter','Context','Resolution','FolderMove','RequestAccepted','\x27\x20reserved','enumerateDevices','timePerFrame','getInstance','Invalid\x20where\x20clause','SystemStats','ContentType','removeSubscription','region','charCodeAt','maxBpp','STVolatility','KeyValueDatabaseInvalidQuery','unregisterSystemPublisher','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','frameHeight','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','renderElement','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','checkDeviceConfig','lastProcessRank','checkAudioContext','disconnected','clearWaitAnswer','Cannot\x20find\x20External\x20Storage\x20connection:\x20','connector','\x0a</uploaded-files>','vector-database','outgoingTopic','previousFrames','json','getJobObservable','remoteUnsubscriber','stop','Database\x20does\x20not\x20exist','database','api','request-file-sync','video','mistlet-capacity-report-not-set','getWorkflowModels','getLabel','\x20sending\x20attempt\x20','/nodes/','ObjectStoreNotInSync','messageCallback','arrayBufferToObject','closeSubscription','removeListener','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','vector-database-does-not-exist','retryLimit','handlePeerConnectionSystemEvents','/transactions/','Prompt','.java','Cannot\x20publish\x20payload:\x20','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','FileMove','authNode','commitType','\x27:\x20missing\x20or\x20invalid\x20keyPath','content-unpublish-media','remove','ObjectStoreAlreadySubscribed','indexes','publishNodeJoin','trackChanges','statsCollection','getItem','.ts','removeNode','assign','statsReport','clearWaitSuccess','getSTVolatility','handleChunkMessage','Opened\x20generative\x20AI\x20worker','CrewdleConnection\x20handlePeerConnectionSystemEvents','word-splitter','getInternalStreamId','shift','Invalid\x20workflow\x20block\x20type.','unshift','OfficeParser','notifyClusterNodeJoin','Remote\x20connection\x20already\x20exists.','ModelVector','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','Events','GenerativeAIWorkerStats','CloseMediaStream','query','retryQueue','.scala','Folder','optimizationLayers','pub-sub-topic-name-not-string','processRemoveContent','max','stream','ranges','subscriptionRequests','status','checkExistingPendingFileContent','searchInDataCollection','bodyParameters','WebRTCBrowserPeerConnectionConnector','tableLayout','GenerativeAIModelOutputType','writes','SenderSendMessage','Issue\x20detected:\x20','next','handleUnpublishMediaStream','setupStatsCollection','JobStream','key-value-database-not-open','objectToArrayBuffer','jobs','Support','peer-connection','Method\x20not\x20implemented.','G-F7W8KXRKQB','waitSendBuffer','unregisterRemoteNode','Cluster\x20already\x20joined','Info','clearSubscriptionRequestTimeout','NodeJoin','nlpLibraryConnector','.crewdle-transactions','/resources/generative-ai-agent/items','gain','concat','instance','compileStats','\x20is\x20required','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','onBufferedAmountLow','Job\x20service\x20job\x20not\x20found.','Graph\x20database\x20creation\x20failed.','connectionManager','contentType','Stream\x20does\x20not\x20exist','processPendingHandshakeCandidates','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','key-value-database-table-name-reserved','pathName','statsManager','transactionsToSync','Generative\x20AI\x20context\x20creation\x20failed.','frameWidth','Skill','jobType','Sender\x20connection\x20is\x20not\x20initialized.','destination','handleSubscriptionUnsubscribeMediaStream','\x20not\x20found.','OutgoingSubscription','getAvailableTrackKinds','PubSubTopicAlreadySubscribed','sendPeakTransactions','clearSyncTimeout','getRemoteMediaStreams','/resources/generative-ai-skill/items','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','newPath','getConnections','msalRefreshToken','.mustache','us-east-1','addPendingHandshakeCandidate','\x20check\x20failed','maxDepth','toFixed','history','functionsRegion','active','getCapacityReport','RemoteMediaStreamDoesNotExist','outgoingStreams','Sending\x20\x27','waitSuccess','ref','node','find','removeTrackListeners','Model','height','errorDetails','UnpublishMediaStream','ingestBlocks','generativeAIWorkerConnectors','getModel','Connection','setOnTableWriteHandler','/stats','getPartsFromSubscription','readyPromises','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','gpu','getMediaStream','computeHash','headers','clearHeartbeat','FolderDelete','sendReject','trim','label','Node\x20does\x20not\x20exist.','cluster','mediaUnsubscribers','AudioOutput','filteredDestinationIds','NodeInvalidType','PeerConnectionInvalidDestination','buffer','processOutboundReports','removeTrackCallback','isReady','NodeTypeRequired','AudioVolume','LocalMediaStreamAlreadyExists','ObjectStoreInvalidPayload','hash','Logging\x20database\x20not\x20initialized','removeContent','Jitter','deleteTransactionsForTable','setInternalId','instantiateTransactionTable','queryParameters','local-media-stream-already-exists','createGenerativeAIWorker','from','KeyValueDatabaseRequestPeakTransactions','/resources/generative-ai-model/items','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','mute','Number','support','contentMediator','Error\x20during\x20MMR\x20rebuild\x20logging:','ownerId','invalid-subscription','logWaitTime','ObjectStoreInvalidSyncMessage','storeId','getTotalBytes','FramePerSecond','globalObject','Backgrounds','createVectorDatabase','`\x0a\x0a','Model\x20store\x20not\x20initialized','removeExternalStorageConnection','Received\x20ContentSynchronized\x20from\x20','DataChannel\x20is\x20not\x20initialized.','pubsubTopics','topK','Object\x20store\x20is\x20not\x20in\x20sync','setCurrentVersion','updatePropagationProperties','LocalReport','Given\x20search\x20results\x20for\x20','getLocalNode','delete','action','SyncComplete','Start\x20Ingestion','processContentAvailable\x20-\x20Peak\x20comparison:','where','messageUnsubscriber','app','Method\x20not\x20supported','PubSub','handleProblem','version','generative-ai-worker-model-sync-error','cleanOldSubscription','handleFileSync','Problem\x20detected:\x20','reset','Internal\x20unknown\x20error:\x20','\x20completed.','outbound-rtp','cpu.time_per_frame','successNotified','node-already-exist','getJob','CannotProvideMediaStream','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','CloseKeyValueDatabase','ConnectionInvalidDataEvent','setOnMessageHandler','av_delay','IngestTrace','decode','handleIceCandidates','handleRequestPayload','getEmail','generativeAIWorkers','Ingest','systemMessages','insert','getVectorDatabase','Received\x20event\x20on\x20cluster','deleteFileChunks','addBatchOperation','getChannelData','getSkills','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','incomingTopic','KeyValueDatabase\x20not\x20found','openGenerativeAIWorker','KeyValueDatabaseSyncRequired','handleDetectionSystemEvents','maxConnections','manageBufferedChunks','isSyncing','createPubSubTopic','GenerativeAIContextAlreadyExists','mode','graph-database-does-not-exist','cachedRoot','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','.gguf','createTopic','checkWebRTC','Given\x20','nodes','.xlsx','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','openGraphDatabase','JobQueueService:\x20Running\x20job','registerSystemPublisher','.xml','orchestrator-close','emit','createLocalMediaStream','unregisterSource','Publish\x20the\x20transaction','getTable','isWhereValues','debounceRebuildMMRWithTransaction','Early\x20return:\x20','getCurrentMaxLayer','ObjectStoreNotSynced','Cannot\x20publish\x20move\x20operation:\x20','rejectReady','UnsubscribeMediaStream','GenerativeAIWorkerCreationFailed','function','URL\x20is\x20required','filesSynced','overlap','receiverTotalMessages','values','Error\x20writing\x20chunk\x20to\x20stream','Data\x20Sent','sequence','\x20attempts:','sendWithRetry','Partial','onClose','VectorSearch','publishFolder','Search','threshold','unsubscribeHandler','changesUnsubscriber','val','isReconnecting','Bid','GenerativeAIContextJobTimeout','isInternalLoggingConnector','connection','parseDataCollectionBlocks','graphDatabases','createReceiverConnection','payloadType','setSubscriptionRequestTimeout','graph-database-name-not-string','Internal\x20error:\x20','ConnectionNoRetryQueue','key-value-database-already-exists','orderByKey','Remote\x20stream\x20does\x20not\x20exist.','sendBid','removeIncomingSubscription','output','isMediaDestination','messageListeners','Rating','out','models','KeyValueDatabase','getExternalStorageConnection','getGenerativeAIWorkers','createGraphDatabase','Restart','Subscription\x20request\x20has\x20not\x20been\x20answered.','\x20failed.','Invalid\x20query','Subscription','filter','queueLength','JobDispatcherJobNotFound','.handlebars','startBidResponseHandling','bid','RequestFileSync','.cpp','getOrResetPendingFileTimeout','removeEventListener','setTransformations','removeLocalMediaStream','detectionManager','createLocalDynamicMediaStream','Job','oncloseTimeout','get','setupResizeHandler','reduce','ObjectStoreCannotWriteTransaction','once','_isReady','generative-ai-worker-already-exists','Invalid\x20peer\x20connection\x20event\x20destination.','timesCalled','join-cluster','requestSubscription','Connection\x20does\x20not\x20exist.','remediation','catch','job-dispatcher-job-not-found','getQuery','externalStorages','subscriptionRequestsQueue','Agent\x20output\x20is\x20not\x20a\x20string','length','queryFile','unregisterSystemSource','removeObjectStore','cluster-disconnect','syncTimeout','interval','unregisterCluster','.go','prototype','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','loggingCycle','Error\x20processing\x20ingest','agent','displayName','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','complete','inputTokens','ObjectStoreStats','disconnect','ObjectStoreDoesNotExist','GenerativeAIWorkerAlreadyExists','ExecuteAgent','callback','isEqual','receiverPreviousBytes','ConnectionNotinitialized','ClosePubSubTopic','remote-connection-exists','sendChunked','distance','getMinConnections','getTracks','openPubSubTopic','calculateSize','message','resolution','tableName','ObjectStore\x20not\x20found','updateDebounce','getKeyValueDatabase','remoteMediaStreams','handleDisconnect','right','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','processDataChannelReport','mergeParts','\x20does\x20not\x20exists','No\x20destinationIds\x20left','map','getResolutionScale','getJobDispatchers','.md','committed','indexOf','Request','Optimization','VectorDatabaseDoesNotExist','bufferedChunks','processReceivedTransactions','LoadSkillFunction','streamId','\x20must\x20be\x20a\x20valid\x20JSON\x20string','timeReceiving','canvas','Invalid\x20version\x20\x27','generative-ai-worker-creation-failed','handleContentSystemEvents','buildQuery','NeedMediaStream','problem','addEdge','maxBitrate','user','Error\x20reading\x20file\x20chunk\x20after\x20','start',',\x20Transactions:\x20','NodeDoesNotExist','inactive','getReceiverBitrate','lastTransactionId','scheduleTime','functions','joinCluster','entity-extractor','getJobs','endpointMethod','Node','handleHandshake','6tepdXT','hasMessage','topic','sdkValidateAccess','isRunning','closeTopic','ObjectStorageUpload','NodeManager\x20-\x20NodeUpdate','connectionConstructor','result','nodeId','Stream\x20already\x20exists','processList','handleStatsSystemEvents','Count','path','isProduction','getSenderBitrate','call','topicLabel','leave','logStorage','AI\x20Worker\x20already\x20exists','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','Queued','ExecuteCode','PublishMediaStream','connection-buffer-not-empty','handleFileRequest','setRemoteConnections','getLastUpdated','Initial\x20MMR\x20built\x20with','all','missing-system-topic','joinedAt','SenderPeerConnection\x20send','server','PubSubTopicAlreadyExists','previousBytes','deleteRemoteNode','request-file-write','rtt','timeoutValue','setTimeout','handleNodeLeave','byteLength','1.0.15','verb','closeTrace','getIsLoaded','object-store-name-not-string','Received\x20content\x20available\x20from\x20node','getObjectStoreBucket','isInternalSDKConfigs','updateDebounceTimeout','ExternalStorage','temperature','sourceVideo','JobDispatcherInvalidJobType','GraphDatabase','UpdateMediaStream','\x20seconds','Data','kind','object-store-invalid-path','msalGetAccessToken','firestore','Opened\x20vector\x20database','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','agent-join','disconnectCallback','syncTransactions','sendFile','Orchestrator\x20handleSystemEvents','getCurrentVersion','sync','maps','timeSending','All\x20recipients\x20already\x20received','20TiThbD','Multiple\x20files\x20found','registerCluster','modelId','getSize','now','getNumberOutgoingSubscriptions','round','success','getLocalMediaStream','handleSuccess','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','removeGraphDatabase','hasBufferedData','ClusterAlreadyJoined','\x20with\x20response:','Store\x20already\x20exists','documentPath','setReportCapacity','bandwidth.jitter','Missing\x20external\x20storage\x20connector','remote-media-stream-invalid-subscription-params','vectorDatabases','en-US','AiSearch','defineProperty','loadExternalContent','handleRemoteTrackFailure','getStatus','logDataReceived','Subscription\x20request\x20does\x20not\x20exist.','420235181083','SearchPerplexity','parameters','MediaStream\x20feature\x20not\x20enabled','minThreshold','JobType','subscription-request-failed','payload','statusText','ConnectionGroup','RemoteRemove','Default','moveObject','LocalMediaStreamNoAudioContext','outputTokens','getEngineType','urls','handleContentSubscribeMediaStream','user-update','close','commitLevel','GenerativeAIContextStats','destinationIds','move','track','number','Consuming\x20buffered\x20event','NodeConnectionsUpdate','processReport','createJob','JobWorkerAlreadyExists','table','processPendingSyncTransactions','Invalid\x20params','VectorDatabase','Pending','ExternalStorageInvalidPath','getRemoteId','ScreenSharing','connections','audio','upgrade','/objectstores/','standalone','signalingServer','graphql','hashTransaction','invalid-publisher','remediationManager','createMediaStreamSource','Connection\x20does\x20not\x20exist','play','openTrace','RemoteMediaStreamAlreadyExists','workflow','Stats','Entity','clusterId','Setting\x20context\x20for\x20custom\x20skill\x20block','receiverConnection','syncFolder','addContent','Node\x20type\x20is\x20invalid','JobWorker:\x20Tracing\x20not\x20implemented','handlePublishMediaStream','logPropagateSystemEvent','vectors','Module','includes','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Debug','getGenerativeAIContexts','executeJavascriptCodeSnippet','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','stringify','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','objectStoreConnector','subscription-request-in-progress','handleOptimizationConnectionSuccess','issue','addReservedTables','cpu.fps','searchOnPerplexity','removePubSubTopic','state','candidate','isIceCandidate','File\x20sending\x20interrupted','.js','jobPhase','sdk-internal-error:\x20','processServiceReport','manageAncestor','Remove','Warning','handleSubscriptionProvideMediaStream','DataChannel\x20is\x20not\x20open.','totalEncodeTime','writeTransaction','total','clusterKey','channel','onChildRemoved','KeyValueDatabaseNameNotString','isValidMediaSubscriptionParams','ExternalStorageConnectionDoesNotExist','object-store-not-in-sync','.jinja2','setEmail','consumeBufferedEvents','subtle','trackListeners','getOutgoingOptimizationConnections','.crewdle-layout','roundTripTime','cost','getAncestorIds','setProviderId','padStart','srcObject','messageBuffer','<uploaded-files>','nodeUpdate','jobBids','AITrace','loadEnabledChannels','connection-invalid-data-event','previousTimestamp','availableTrackKinds','_ready','appsync-disconnect','northamerica-northeast1','type','appendTransactionAndUpdateHashMap','params','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','sender-send-message','Error\x20loading\x20existing\x20content','Missing\x20graph\x20database\x20connector','substring','AudioVideoDelay','clusterEventEmitter','CrewdleReceiverConnection\x20ontrack','objectRequests','updateUser','keyValueDatabaseConnector','authService','Upgrade','vector-database-name-not-string','getEntities','isArray','buildInitialMMR','tableUnsubscriber','waitConnected','handleRemediationSystemEvents','connection-state','abs','PubSubTopic\x20not\x20found','pow','keys','docs','subscribe','VectorDatabaseCreationFailed','cores','RemoteAdd','setStatus','Invalid\x20key\x20\x27','Invalid\x20job\x20service\x20payload.','ner','crewdle-sdk-stg.appspot.com','\x20must\x20be\x20a\x20boolean','handshakeCandidates','CloseObjectStoreBucket','subscription','isJobAttribution','Connection\x20not\x20initialized.','onNodeDisconnect','relevance','getPubSubTopics','AudioContext','signInWithCredential','JobDispatcher:\x20Received\x20job','ChunkSplitter','pendingFilesRename','setLocalRank','.py','getSenderTotalBytes','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','transactionService','-leave','KeyValueDatabaseRequestTransactionsValue','syncedFileExists','lastExecuted','Invalid\x20value.\x20Must\x20be\x20an\x20object.','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','Support:\x20','isFailedResponse','Internal\x20SDK\x20Error:\x20','getShareableStream','::ï¿¿','List','external-storage-connectors-missing','subscribedTracks','sentence-splitter','wait','3976083isPLYh','isPromiseResolved','shouldProcessTransaction','getTotalNodes','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','clockSkew','handleSubscribeMediaStream','storage','registerPublisher','clusters/','match','previous','StreamReport','head','DTVolatility','MistletCapacityReportNotSet','localMediaStreams','Joined\x20cluster','aiSearchApiKey','openGenerativeAIContext','IncomingSubscription','setupTrackEndedListeners','\x20finalized.','accessToken','task','handleNodeJoinNeedPublishedStream','SHA-256','\x20does\x20not\x20support\x20content\x20type\x20','dataTopics','setVendorId','hasRemoteNode','MissingRemoteConnection','FileDelete','heartbeatUnsubscriber','.vb','token','systemMessagesReceived','GenerativeAIContextJobFailed','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','maxThreshold','stopConnection','remoteId','autoplay','KeyValueDatabaseContentAvailable','RemoteRemediation','NodeTypeNotSupported','node-invalid-type','senderTimeProcessing','IntermediateOutput','senderCurrentBytes','getConnectionGroup','key-value-database-transaction-table-not-initialized','3655287tFczOK','reads','\x20attributed\x20to\x20','joinedClusters','CrewdleSenderConnection\x20createOffer','content','Key-value\x20database\x20table\x20does\x20not\x20exist.','onProviderChange','removeJobDispatcher','commitTrace','getFunctions','onTrack','VectorDatabaseMissingConnector','Offer','Vector','IDBDatabaseConnector','retryDelay','receivers','batchSize','key-value-database-peak-not-found','registeredListeners','CloseJobWorker','dispatchEvent','query-file','.ini','uuid','systemTopic','systemTopicUnsubscribe','bufferedEvents','Error\x20loading\x20external\x20content','NeedRestart','appsync-close','MediaStreamUnavailable','KeyValueDatabaseInvalidValue','https://crewdle-sdk-default-rtdb.firebaseio.com','getAudioTracks','ceil','{\x20\x22status\x22:\x20\x22success\x22\x20}','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','unregisterPublisherListener','deletePendingFile','KeyValueDatabaseContentSynchronized','\x0a\x20===\x20Wait\x20Time:\x20','checkWebGL','JobDispatcherJobExists','Error\x20fetching\x20URL','offset','Relation','vector-database-missing-connector','FileStatus','FeatureNotEnabled','orderBy','appsync-no-destination','invalid-subscriber','clearUpgradeTimeout','Loaded\x20from\x20disk','Valid\x20layout','topics','Invalid\x20object\x20store\x20sync\x20message.','ExternalStorageConnectionAlreadyExists','publishSyncCompletedAfterWrites','getContext','GraphDatabaseStats','canRestartHandshake','Error\x20encountered\x20while\x20opening\x20database','subscriptionManager','createOutgoingSubscription','handleSubscriptionSystemEvents','childRemovedUnsubscriber','checksum','Success','handleOutgoingSystemEvents','relation','GenerativeAIContext','batchQueue','generative-ai-context-does-not-exist','splice','Key-value\x20database\x20transaction\x20value\x20not\x20set.','getEstimatedTimestamp','KeyValueDatabaseInvalidLayout','key-value-database-invalid-query','hashNodes','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','reportCapacity','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','transactionIds','debounceReadyTimeout','readyDebounce','FetchUrl','outgoing-stream-no-topic','unsubscribe','getPriority','.jsx','createGenerativeAIContext','removeJobWorker','handleNodeSystemEvents','parse','.tpl','getWorkflowExternalStorageConnections','supports','getVideoTracks','timestamp','currentFrames','ENOENT','\x20received\x20partial\x20result:','Data\x20cluster\x20is\x20not\x20open.','.ps1','handleUnsubscribeMediaStream','chunks','Today\x20Date:\x20','handleFileWrite','Unsupported\x20job\x20type','checkScreenSharing','true','Failed\x20to\x20send\x20job\x20','contentQueue','PromptRating','No\x20global\x20object\x20found','0\x20B','Wait','some','notifyObjectStoreOfNodeLeave','resume','Restart\x20NeedMediaStream','Agent','targetId','waitForArrayBufferSize','Cannot\x20publish\x20file:\x20','Core','counter','isNodeReady','Parameter\x20','logEvent','job-worker-creation-failed','transactionsToAppend','combinePeaks','getKeyValueDatabases','GenerativeAIRatingStatus','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','registerSubscriber','InvalidPublisher','getPartsForSubscriptionLabel','restartTimeout','\x20deleted.','Everyone\x20','RemoteMediaStreamMissingProviderId','externalStorageConnections','onConfigurationChange','muted','connectionGroup','getConnectionDestinations','answers','tables','job-dispatcher-does-not-exist','\x20created\x20and\x20dispatched.','nodesConnected','codes','documentParserConnector','authContext','High','startTime','Invalid\x20data\x20event.','Cannot\x20unpublish\x20object\x20at\x20','onDisconnectHandler','processJob','slice','\x0a\x20===\x20Current\x20MMR\x20Root','DeviceConfig','startsWith','QueryFile','SearchGoogle','createRemoteMediaStream','Workflow','handleCloseContent','startHeartbeat','openedTraces','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','GraphDatabaseDoesNotExist','getClosestNodes','not-in','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','answerContentAvailable','groupId','ObjectStoreNameNotString','canAddCandidates','generative-ai-context-invalid-partial-result','senderPreviousBytes','FPS','publish','onConnectionStateChange','incomingManager','\x0a\x20===\x20Total\x20Data\x20Received:\x20','warn','unregisterDestination','numeric','has','handleSubscriptionMediaStreamUnavailable','Base\x20Peer\x20Connection','upgradeTimeout','ExternalStorageNameNotString','Index','ai-search','removeRemoteNode','propn','getGraphDatabases','root\x20hash:\x20','setItem','Setting\x20context\x20for\x20answer\x20block','firebase-connect','evaluatePartialJob','Unknown\x20skill\x20type','getDataBucketIds','getEnabledChannels','exports','arrayBuffer','key-value-database-name-not-string','logs','featureSupport','Node\x20not\x20authenticated','retryQueues','FolderCreate','\x20received\x20responses:','searchConnector','KeyValueDatabaseDoesNotExist','loggingDb','checkMediaStream','error','DEBUG\x20-\x20','Update','asyncEndpointMethod','connectorConstructor','fetchUrl','removeOutgoingSubscription','time_per_frame','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Node\x20is\x20not\x20an\x20agent','prompt','calculateArrayBufferSize','contentRequestSent','connecting','maxFps','handleOffer','Operations:','Text','trackEndedListeners','getRank','JobWorkerDoesNotExist','appsync-connect','detectLocalIssues','direction','noun','currentTimestamp','Reranker','resolutionScale','registerDestination','object','\x20-\x20','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','createConstantSource','Memory\x20Usage\x20at\x20','isWhereBetween','GenerativeAIWorker:\x20Opening','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','handleObjectMove','take','senderStreams','pub-sub-topic-already-exists','engineType','initializeLoggingDatabase','jobId','handleContentUnsubscribeMediaStream','getObjectStoreBuckets','NodeManager\x20-\x20NodeLeave','text/plain','openJobDispatcher','taskType','VectorDatabaseStats','parseWorkflowDocument','initializeSystemTopic','4648692xDwIwq','Query\x20must\x20refer\x20to\x20the\x20file\x20table','sendTransactionsValue','join','writeFile','createFolder','.erb','Agent\x20block\x20is\x20missing\x20required\x20data','getProviderId','list','loop','sendAction','@context.','handleUpdateMediaStream','Invalid\x20credentials','\x0a\x20===\x20Total\x20Nodes:','results','currentVersion','query-helper-invalid-argument','retrieveBlocks','lastCapacityReport','More\x20content\x20available\x20on\x20page\x20','clusters','Received\x20track','startLoggingCycle','lastUpdated','stats','PartialResult','getBid','confirmSynchronization','code','DataStream\x20send','Cannot\x20get\x20size\x20of\x20path:\x20','attributes','Disconnect','/resources/generative-ai-grammar/items','JobWorker:\x20Received\x20job\x20request','answererId','resolveReady','default','sendFileRequestPayload','Setting\x20context\x20for\x20agent\x20skill\x20block','SubscriptionRequestDoesNotExist','blocks','getExternalStorageConnections','checkMediaRecording','streams','rate','applyRemediation','fps','Job\x20Dispatcher\x20already\x20exists','Error','videoWidth','42685CTZgbe','subscriptions','Opened\x20logging\x20database','resolve','.pptx','logSupport','logger','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','removeConnection','processTransactionPayload','mmrRoot','currentBatch','PubSubTopic\x20publish','DataCollection','PubSubTopicNameNotString','priority','absolutePathName','unsubscribeTrackEndedListener','createOffer','localNode','maxFramerate','signalingState','mediaStream','bufferedAmount','syncResolve','DataStream','comparePeaks','updateLastTransactionId','setPendingFileSyncingPayload','.Total\x20pages\x20available:\x20','clientHeight','onNodeUpdate','Knowledge\x20Cutoff\x20Date:\x20','Receiver\x20connection\x20is\x20not\x20initialized.','iceServers','CustomSkill','PubSub\x20already\x20exists','off','getJobWorkers','lastRemediations','.j2','initializeApp','totalNodes','chunk','createExternalStorageConnection','getConfigs','developers/','data-stream','relation-extractor','ExternalStorageStats','grammar','stopNoThrottlingHack','push','key-value-database-transaction-value-not-set','handleSubscriptionRestartNeedMediaStream','remote-stream-missing-provider-id','syncPendingFiles','text','No\x20async\x20endpoint\x20URL','description','bufferedAmountLowThreshold','ObjectStorage','Node\x20\x27','blockId','/resources/generative-ai-workflow/items/','transactionQueue','OPFSObjectStoreConnector','mediaTopics','setReceiverBytes','handleError','.hs','connected','asyncEndpointUrl','syncTransactionsWritten','durationTime','log','handshakeState','handleAnswer','Synced','updateLastUpdated','subscriptionRequestTimeouts','appsync-connect-fail','reranker','downloadDocument','RetrieveTrace','FileWrite','Channel\x20\x27','disableIntervalHack','ExternalStorageUpload','replace','isChannelEnabled','createSubscription','notifyObjectStoreOfNodeJoin','collectReceiversStats','syncContent','onHandshakeStateChange','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','evaluateBidsAndAttributeJob','Local\x20stream\x20does\x20not\x20exist.','answerJoin','RoundTripTime','JobDispatcherCreationFailed','everyone','QueryBuilderInvalidArgument','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','framerate','rank','graph-database','KeyValueDatabaseTableDoesNotExist','handleObjectDelete','reportMetric','source','jobQueue','.sql','rebuildMMR','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','sdkCreateToken','handleConnectionSuccess','created','mmr','left','ExternalStorageConnectorsMissing','getTableConnector','model','GenerativeAIContextDoesNotExist','end','endpoint','Sender','getTrack','contextOutputVariable','writeBatch','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','setRemoteNode','processRank','digest','Waiting','load','.hbs','client','processReceiverReport','CREWDLE_WEB_SDK','tracks','checkAudioVolume','All','.swift','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','toString','getLayout','jitter','onSnapshot','.\x20Confirmation?\x20','handleNodeJoin','\x20must\x20be\x20a\x20string','recipients','maxDistance','validateLayout','expectedTransactions','email','.cfg','processJobStream','collection','every','sendIceCandidates','LocalMediaStreamDoesNotExist','Llamacpp','processInboundReports','rootComputationPromise','logRaw','replaceTrack','getDistance','object-storage','receiverBitrate','Emitting\x20event\x20on\x20local\x20cluster','notifyJoin','createAIJob','key-value-database-table-does-not-exist','Key-value\x20database\x20creation\x20failed.','publishNodeLeave','deleteObject','streamLabel','hashPeakHashes','endpointUrl','job-dispatcher-creation-failed','rating','fromEntries','fileChunks','audioDestination','Recording','getGraphDatabase','cancel','JobDispatcherInvalidPayload','MediaStreamPriority','clearRestartTimeout','PeerConnection','bytesReceived','suspended','getSubscriptionInfo','packetsLost','captureStream','minResolutionScale','Failed','addMessage','handleContentUnpublishMediaStream','timeoutCallback','\x20not\x20supported','messages','NodeNotAuthenticated','instructions','Opened\x20model\x20store\x20bucket','addRemoteConnection','logging-db-','batchTimeout','NodeAlreadyExist','object-store-already-subscribed','Workflow\x20not\x20initialized','debounceProcessRank','knowledgeCutoffDate','then','getNextTargetRank','KeyValueDatabaseIndexNotFound','onUnregisterPublisher','senderCurrentTimestamp','getRemoteNodes','getSubscriptionLabel','logLevel','startIndex','eventEmitter','Error\x20executing\x20code','internalRatePrompt','ReceiverOnMessage','getDocs','workflow-invalid-block-type','WorkflowDoesNotExist','send\x20error\x20on\x20','collectTransactionsFromNode','generative-ai-context-job-already-consumed','buildTableEvent','Cannot\x20list\x20directory:\x20','custom-skill','receiverPreviousTimestamp','SentenceSplitter','debounceStats','AI\x20Search\x20connector\x20not\x20set','writeTransaction\x20-\x20transaction\x20already\x20exists','incrementVersion','AppSync\x20connection\x20not\x20ready','setUpgradeTimeout','InvalidSubscription','remoteConnections','listen','updated','setupStatsReporting','46AMipdl','debounceLogTimeout','object-store-stream-does-not-exist','currentDistance','boolean','createElement','options','registerSource','graphService','.ppt','external-storage','createWritableStream','getGrammars','application/octet-stream','CanProvideMediaStream','SHA-1','hasOwnProperty','/nodes','\x27\x20in\x20layout','getDatabase','asObservable','JobContext','CONNECTION_STATE_CHANGE','key-value-database-table-not-found','GraphDatabaseCreationFailed','handleNeedRestart','setTimestamp','object-store-invalid-payload','messagesSent','isSubscribed','layout','\x20to\x20send\x20dispatcherJob\x20','lastClockUpdate','limit','publishMove','KeyValueDatabaseTableNotFound','findIndex','iceConnectionState\x20failed','addProblem','component','generative-ai-context-creation-failed','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','Invalid\x20index\x20in\x20table\x20\x27','ObjectKind','getCoresFromCapacityReport','.ipynb','processContentSynchronized','getPeaks','job-dispatcher-observer-not-found','Error\x20executing\x20agent','Detection','key-value-database-does-not-exist','WorkflowInvalidBlockType','getInternalTrackParams','owner','.ex','setParams','debug','get-content','ObjectStorageBucket','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','bandwidth.rtt','onDisconnect','.crewdle-pending','chunksReceived','RestartNeedMediaStream','InvalidDataChannel','statsReporting','destroy','pendingFilesSyncing','Answer','isResultResponse','addVideoTrack','processReports','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','createRemoteNode','Code','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','parseWorkflowBlocks','senderPreviousTimestamp','Accepted','toStringTag','clearRect','getSubscribedTracks','Missing\x20AI\x20worker\x20connector','Buffered\x20chunks\x20are\x20too\x20large','debounceRebuildMMR','createBufferSource','setIsLoaded','ObjectStore','getVectorDatabases','ExecuteCustomSkill','connectionPool','WebScraper','removeVectorDatabase','addEventListener','PubSubTopicStats','chooseAnswer','warning','debounceAppendLog','checkAudioOutput','RemoteMediaStreamTrackFail','job-worker-does-not-exist','ready','graph-database-already-exists','internalProcessJob','/transactions','Vector\x20database\x20creation\x20failed.','OptimizationConnectionSuccess','getLocalMediaStreams','handleLocalTrackFailure','ended','KeyValueDatabaseAlreadyExists','handleOnMessage','invalid-data-chanel','validateQuery','.clj','.ejs','isSync','processInboundReport','frameTime','createKeyValueDatabase','canChooseAnswer','isOffer','No\x20files\x20found','Invalid\x20object\x20store\x20state.','\x20ms\x0a','KeyValueDatabaseTransactionTableNotInitialized','handleJobAttribution','detectStreamIssues','forEach','inputType','generative-ai-context-job-timeout','/logs','test-page','getAgents','file-upload','getSimilarity','39xuJBQy','pubsub','evaluateBids','onDataChannel','knowledge','onCandidate','Processing','Error\x20processing\x20content\x20queue','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','NodeLeave','NodeManager\x20-\x20PublishNodeLeave','objectStores','request','openObjectStoreBucket','Downgrade','isOpened','openExternalStorageConnection','CloseGraphDatabase','firebaseConfig','8022931pySyvr','amd','senderTotalMessages','chunk-splitter','KeyValueDatabaseStats','Chosen\x20answer','PubSubTopic\x20onMessage','file-write','between','getAuth','getMediaSubscription','senders','connectionTimeout','saveToDisk','internalContext','getAudioVideoDelay','Database\x20not\x20open','getDTVolatility','.bat','performCalculation','file','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','Medium','enabledChannels','feedback','missing-datachannel','remainingTracks','TestPage','collectStats','publishSyncCompletedAfterWrites\x20-\x20','key','send','isLoaded','removeRemoteMediaStream','WebScraperRaw','1:519415702791:web:5dd39042f881cfde3251a2','files','Job\x20Worker\x20does\x20not\x20exist','isMediaSource','getLocalId','isNeedRestart','InvalidSubscriber','Writable\x20stream\x20is\x20missing','getTransactionFromTableWriteEvent','closed','frames','readyResolve'];a0_0x29d7=function(){return _0x5c859c;};return a0_0x29d7();}(function(_0x55493a,_0x3647ea){const _0x5b69f7=a0_0x2fcc,_0x2afa7d=_0x55493a();while(!![]){try{const _0x1a2f7c=parseInt(_0x5b69f7(0x6b0))/0x1*(parseInt(_0x5b69f7(0x7ac))/0x2)+parseInt(_0x5b69f7(0x564))/0x3+parseInt(_0x5b69f7(0xaa))/0x4*(-parseInt(_0x5b69f7(0x444))/0x5)+-parseInt(_0x5b69f7(0x3f5))/0x6*(parseInt(_0x5b69f7(0x84a))/0x7)+-parseInt(_0x5b69f7(0xce))/0x8*(-parseInt(_0x5b69f7(0x530))/0x9)+-parseInt(_0x5b69f7(0x11c))/0xa*(parseInt(_0x5b69f7(0x957))/0xb)+-parseInt(_0x5b69f7(0x67b))/0xc*(-parseInt(_0x5b69f7(0x837))/0xd);if(_0x1a2f7c===_0x3647ea)break;else _0x2afa7d['push'](_0x2afa7d['shift']());}catch(_0x5437fe){_0x2afa7d['push'](_0x2afa7d['shift']());}}}(a0_0x29d7,0xaf94f),!function(_0x192d64,_0xd8be14){const _0x570d20=a0_0x2fcc;if(_0x570d20(0x663)==typeof exports&&'object'==typeof module)module[_0x570d20(0x639)]=_0xd8be14();else{if('function'==typeof define&&define[_0x570d20(0x84b)])define([],_0xd8be14);else{var _0x172857=_0xd8be14();for(var _0xbc2a4 in _0x172857)(_0x570d20(0x663)==typeof exports?exports:_0x192d64)[_0xbc2a4]=_0x172857[_0xbc2a4];}}}(this,()=>((()=>{'use strict';const _0x2f335d=a0_0x2fcc;var _0x544010={0x14d:(_0x30f0d8,_0x34c540,_0x4abb60)=>{const _0x455f5c=a0_0x2fcc;_0x4abb60['d'](_0x34c540,{'O':()=>_0x3fb184});const _0x3fb184={'version':_0x455f5c(0x960),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x455f5c(0x933),'projectId':_0x455f5c(0x127),'storageBucket':_0x455f5c(0x50c),'appId':_0x455f5c(0x86d),'functionsRegion':_0x455f5c(0x4e6)},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x455f5c(0x8b7),'region':_0x455f5c(0x28e)}};},0x33b:(_0x377585,_0x1b06ab,_0x590f80)=>{_0x590f80['d'](_0x1b06ab,{'O':()=>_0x2f6ade});const _0x2f6ade={};},0x3e6:(_0x2ac643,_0x3e1dec,_0xcc52cf)=>{const _0x432a02=a0_0x2fcc;_0xcc52cf['d'](_0x3e1dec,{'O':()=>_0x4f63bb});const _0x4f63bb={'version':_0x432a02(0x423),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x432a02(0x186),'databaseURL':_0x432a02(0x586),'projectId':'crewdle-sdk','storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x432a02(0x463),'appId':_0x432a02(0x967),'measurementId':_0x432a02(0x25e)},'aws':{'endpoint':_0x432a02(0x7f6),'region':'us-east-1'}};},0x20:(_0x563a75,_0x2792fc,_0x416ba8)=>{_0x416ba8['d'](_0x2792fc,{'O':()=>_0x4d9495});const _0x4d9495={};}},_0x2113fe={};function _0x3822a9(_0x2355d8){const _0x1e535f=a0_0x2fcc;var _0xdd0984=_0x2113fe[_0x2355d8];if(void 0x0!==_0xdd0984)return _0xdd0984[_0x1e535f(0x639)];var _0x359317=_0x2113fe[_0x2355d8]={'exports':{}};return _0x544010[_0x2355d8](_0x359317,_0x359317[_0x1e535f(0x639)],_0x3822a9),_0x359317[_0x1e535f(0x639)];}_0x3822a9['d']=(_0x10bc85,_0x5dedd5)=>{const _0x21151e=a0_0x2fcc;for(var _0x2469aa in _0x5dedd5)_0x3822a9['o'](_0x5dedd5,_0x2469aa)&&!_0x3822a9['o'](_0x10bc85,_0x2469aa)&&Object[_0x21151e(0x45d)](_0x10bc85,_0x2469aa,{'enumerable':!0x0,'get':_0x5dedd5[_0x2469aa]});},_0x3822a9['g']=(function(){const _0x5fa444=a0_0x2fcc;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x5fa444(0x91e))();}catch(_0x18be2e){if(_0x5fa444(0x663)==typeof window)return window;}}()),_0x3822a9['o']=(_0x2a2c19,_0x3b3430)=>Object[_0x2f335d(0x3a5)]['hasOwnProperty']['call'](_0x2a2c19,_0x3b3430),_0x3822a9['r']=_0x4e9fa3=>{const _0x521f08=_0x2f335d;_0x521f08(0x931)!=typeof Symbol&&Symbol[_0x521f08(0x7fe)]&&Object[_0x521f08(0x45d)](_0x4e9fa3,Symbol[_0x521f08(0x7fe)],{'value':_0x521f08(0x4a6)}),Object[_0x521f08(0x45d)](_0x4e9fa3,'__esModule',{'value':!0x0});};var _0x2e40c3,_0x35a2ee,_0x4abdbe,_0xfc9bc5={};_0x3822a9['r'](_0xfc9bc5),_0x3822a9['d'](_0xfc9bc5,{'KeyValueDatabase':()=>_0x41f8bd,'LayoutBuilder':()=>_0xe47ebe,'LoggingChannels':()=>_0x4abdbe,'QueryBuilder':()=>_0x4ba0c8,'SDK':()=>_0x4e2ee7,'SDKClientErrorCodes':()=>_0x2e40c3,'TableBuilder':()=>_0x15b1ad,'logger':()=>_0x5a023b}),function(_0x22d2f5){const _0x295700=_0x2f335d;_0x22d2f5['ConnectionBufferNotEmpty']=_0x295700(0x410),_0x22d2f5[_0x295700(0x452)]='cluster-already-joined',_0x22d2f5['ExternalStorageConnectionAlreadyExists']='external-storage-connection-already-exists',_0x22d2f5[_0x295700(0x11e)]='external-storage-connection-already-subscribed',_0x22d2f5[_0x295700(0x4cc)]=_0x295700(0x119),_0x22d2f5[_0x295700(0x729)]=_0x295700(0x52c),_0x22d2f5[_0x295700(0x487)]=_0x295700(0x99f),_0x22d2f5[_0x295700(0x62b)]='external-storage-name-not-string',_0x22d2f5[_0x295700(0x596)]=_0x295700(0x8fb),_0x22d2f5[_0x295700(0x325)]=_0x295700(0x110),_0x22d2f5[_0x295700(0x72c)]=_0x295700(0x5af),_0x22d2f5[_0x295700(0x92)]=_0x295700(0x94c),_0x22d2f5[_0x295700(0x8e3)]='generative-ai-label-conflict',_0x22d2f5[_0x295700(0x3b1)]=_0x295700(0x38f),_0x22d2f5[_0x295700(0x1b5)]='generative-ai-worker-missing-connector',_0x22d2f5['GenerativeAIWorkerModelSyncError']=_0x295700(0x2fa),_0x22d2f5[_0x295700(0xfe)]=_0x295700(0x815),_0x22d2f5[_0x295700(0x615)]=_0x295700(0x327),_0x22d2f5['GraphDatabaseMissingConnector']=_0x295700(0x96e),_0x22d2f5[_0x295700(0x90e)]=_0x295700(0x362),_0x22d2f5[_0x295700(0x99a)]=_0x295700(0x165),_0x22d2f5['JobDispatcherDoesNotExist']=_0x295700(0x5fd),_0x22d2f5[_0x295700(0x590)]=_0x295700(0x964),_0x22d2f5[_0x295700(0x37b)]='job-dispatcher-job-not-found',_0x22d2f5[_0x295700(0x42f)]=_0x295700(0xf9),_0x22d2f5[_0x295700(0x481)]=_0x295700(0x17b),_0x22d2f5[_0x295700(0x65a)]=_0x295700(0x813),_0x22d2f5[_0x295700(0x19f)]='object-store-already-exists',_0x22d2f5['ObjectStoreAlreadySubscribed']=_0x295700(0x785),_0x22d2f5['ObjectStoreDoesNotExist']=_0x295700(0x7ae),_0x22d2f5[_0x295700(0x61b)]=_0x295700(0x427),_0x22d2f5[_0x295700(0x2c3)]=_0x295700(0x7c7),_0x22d2f5['ObjectStoreInvalidPath']=_0x295700(0x435),_0x22d2f5['ObjectStoreNotInSync']=_0x295700(0x4cd),_0x22d2f5['InternalSDKError']=_0x295700(0x8eb),_0x22d2f5[_0x295700(0x9da)]='invalid-access',_0x22d2f5[_0x295700(0x81d)]=_0x295700(0x365),_0x22d2f5[_0x295700(0x643)]=_0x295700(0x7df),_0x22d2f5[_0x295700(0x78b)]='key-value-database-index-not-found',_0x22d2f5[_0x295700(0x1ef)]=_0x295700(0x5b4),_0x22d2f5[_0x295700(0x585)]='key-value-database-invalid-value',_0x22d2f5['KeyValueDatabaseNameNotString']=_0x295700(0x63b),_0x22d2f5['KeyValueDatabaseNotOpen']=_0x295700(0x258),_0x22d2f5[_0x295700(0x10f)]=_0x295700(0x276),_0x22d2f5[_0x295700(0x7cf)]=_0x295700(0x7c3),_0x22d2f5[_0x295700(0x5b3)]='key-value-database-invalid-layout',_0x22d2f5['LocalMediaStreamAlreadyExists']=_0x295700(0x2cc),_0x22d2f5[_0x295700(0x470)]=_0x295700(0x8f9),_0x22d2f5['PubSubTopicAlreadyExists']=_0x295700(0x66e),_0x22d2f5[_0x295700(0x104)]=_0x295700(0x879),_0x22d2f5[_0x295700(0x6be)]=_0x295700(0x244),_0x22d2f5[_0x295700(0x284)]='pub-sub-topic-already-subscribed',_0x22d2f5[_0x295700(0x717)]=_0x295700(0x68d),_0x22d2f5[_0x295700(0x498)]='remote-media-stream-already-exists',_0x22d2f5[_0x295700(0x8e6)]=_0x295700(0x459),_0x22d2f5['SubscriptionRequestInProgress']=_0x295700(0x4b0),_0x22d2f5['NodeNotAuthenticated']='node-not-authenticated',_0x22d2f5[_0x295700(0x2ba)]=_0x295700(0x55e),_0x22d2f5[_0x295700(0x55d)]='node-type-not-supported',_0x22d2f5[_0x295700(0x2c0)]=_0x295700(0x97f),_0x22d2f5['VectorDatabaseAlreadyExists']='vector-database-already-exists',_0x22d2f5['VectorDatabaseDoesNotExist']=_0x295700(0x215),_0x22d2f5[_0x295700(0x570)]=_0x295700(0x594),_0x22d2f5[_0x295700(0x9b9)]=_0x295700(0x4f7);}(_0x2e40c3||(_0x2e40c3={}));class _0x194c78 extends Error{[_0x2f335d(0x699)];constructor(_0x53be3a,_0x26f008){const _0x239f3d=_0x2f335d;super(_0x26f008),this[_0x239f3d(0x699)]=_0x53be3a;}}!function(_0x37ffda){const _0x3c4f32=_0x2f335d;_0x37ffda['PubSub']='pubsub',_0x37ffda[_0x3c4f32(0x6ed)]=_0x3c4f32(0x75a),_0x37ffda['KeyValueDatabase']=_0x3c4f32(0x95e),_0x37ffda[_0x3c4f32(0x485)]='vector-database',_0x37ffda[_0x3c4f32(0x430)]=_0x3c4f32(0x71b),_0x37ffda[_0x3c4f32(0x42c)]=_0x3c4f32(0x7b6),_0x37ffda[_0x3c4f32(0x928)]='media-stream',_0x37ffda[_0x3c4f32(0x5ad)]=_0x3c4f32(0x96a);}(_0x35a2ee||(_0x35a2ee={})),function(_0x28206e){const _0xd12088=_0x2f335d;_0x28206e[_0xd12088(0x73f)]=_0xd12088(0x415),_0x28206e[_0xd12088(0x46e)]=_0xd12088(0x6a2),_0x28206e[_0xd12088(0x2a6)]='connection',_0x28206e[_0xd12088(0x995)]=_0xd12088(0x4fe),_0x28206e['Cluster']=_0xd12088(0x2b6),_0x28206e['Content']=_0xd12088(0x569),_0x28206e[_0xd12088(0x6c9)]=_0xd12088(0x6df),_0x28206e[_0xd12088(0x7de)]=_0xd12088(0x932),_0x28206e[_0xd12088(0x23c)]=_0xd12088(0xec),_0x28206e['Error']=_0xd12088(0x646),_0x28206e['Jobs']=_0xd12088(0x25a),_0x28206e['KeyValueDatabase']=_0xd12088(0x95e),_0x28206e[_0xd12088(0x3f3)]='node',_0x28206e[_0xd12088(0x906)]=_0xd12088(0x9b6),_0x28206e[_0xd12088(0x2f7)]=_0xd12088(0x838),_0x28206e['ReceiverOnMessage']=_0xd12088(0x95b),_0x28206e[_0xd12088(0x9dd)]=_0xd12088(0x395),_0x28206e[_0xd12088(0x252)]=_0xd12088(0x4eb),_0x28206e[_0xd12088(0x9a1)]='signaling',_0x28206e[_0xd12088(0x49a)]=_0xd12088(0x695),_0x28206e['Subscription']=_0xd12088(0x510),_0x28206e[_0xd12088(0x25b)]=_0xd12088(0x2d4),_0x28206e[_0xd12088(0x103)]='system',_0x28206e[_0xd12088(0x1e8)]='system-stats',_0x28206e[_0xd12088(0x865)]=_0xd12088(0x833),_0x28206e[_0xd12088(0x771)]=_0xd12088(0x25c);}(_0x4abdbe||(_0x4abdbe={}));const _0x47407f=require('@crewdle/web-sdk-types');class _0x4ba0c8{[_0x2f335d(0x23f)];constructor(_0x3b8f4a){const _0x51c472=_0x2f335d;this[_0x51c472(0x23f)]={'orderBy':{'key':_0x3b8f4a,'direction':'asc'}};}static['index'](_0x54009a){const _0x127db2=_0x2f335d;if(_0x127db2(0x9d9)!=typeof _0x54009a||0x0===_0x54009a[_0x127db2(0x39c)])throw new _0x194c78(_0x2e40c3[_0x127db2(0x717)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x4ba0c8(_0x54009a);}static[_0x2f335d(0x820)](_0x3c3bc4){const _0x4daee0=_0x2f335d;try{return _0x4ba0c8[_0x4daee0(0x3e0)](_0x3c3bc4),!0x0;}catch(_0x55d216){return!0x1;}}static[_0x2f335d(0x3e0)](_0x3d28f7){const _0x803631=_0x2f335d,_0x52cc55=_0x4ba0c8[_0x803631(0x94e)](_0x3d28f7['orderBy']?.['key']??_0x3d28f7[_0x803631(0x2f3)]?.['key']??'');if(_0x3d28f7[_0x803631(0x2f3)]){const _0x10448f=_0x3d28f7[_0x803631(0x2f3)];if((_0x4ba0c8[_0x803631(0x885)](_0x10448f)||_0x4ba0c8[_0x803631(0x33b)](_0x10448f)||_0x4ba0c8[_0x803631(0x668)](_0x10448f))&&_0x52cc55['where'](_0x10448f[_0x803631(0x93e)],_0x10448f['value']),_0x3d28f7[_0x803631(0x597)]?.['key']&&_0x3d28f7[_0x803631(0x597)]?.[_0x803631(0x868)]!==_0x3d28f7['where']['key'])throw new _0x194c78(_0x2e40c3['QueryBuilderInvalidArgument'],_0x803631(0x8cd));}return _0x3d28f7[_0x803631(0x597)]&&_0x52cc55[_0x803631(0x597)](_0x3d28f7[_0x803631(0x597)][_0x803631(0x65d)]),_0x3d28f7[_0x803631(0x7cd)]&&_0x52cc55['limit'](_0x3d28f7[_0x803631(0x7cd)]),_0x3d28f7['offset']&&_0x52cc55[_0x803631(0x592)](_0x3d28f7[_0x803631(0x592)]),_0x52cc55;}['getQuery'](){return{...this['query']};}['where'](_0x26eb8,_0x27af05){const _0x13aa13=_0x2f335d,_0x1c81f7={'key':this['query']['orderBy'][_0x13aa13(0x868)],'operator':_0x26eb8,'value':_0x27af05};if(!_0x4ba0c8['isWhereValue'](_0x1c81f7)&&!_0x4ba0c8[_0x13aa13(0x33b)](_0x1c81f7)&&!_0x4ba0c8[_0x13aa13(0x668)](_0x1c81f7))throw new _0x194c78(_0x2e40c3['QueryBuilderInvalidArgument'],_0x13aa13(0x1e7));return this[_0x13aa13(0x23f)][_0x13aa13(0x2f3)]=_0x1c81f7,this;}[_0x2f335d(0x597)](_0x380526){const _0x100ef4=_0x2f335d;if(_0x100ef4(0x8e8)!==_0x380526&&'desc'!==_0x380526)throw new _0x194c78(_0x2e40c3[_0x100ef4(0x717)],_0x100ef4(0x16c));return this['query'][_0x100ef4(0x597)][_0x100ef4(0x65d)]=_0x380526,this;}[_0x2f335d(0x7cd)](_0x2e4087){const _0x2b910c=_0x2f335d;if(_0x2b910c(0x47c)!=typeof _0x2e4087||_0x2e4087<0x0)throw new _0x194c78(_0x2e40c3[_0x2b910c(0x717)],_0x2b910c(0x93b));return this[_0x2b910c(0x23f)]['limit']=_0x2e4087,this;}[_0x2f335d(0x592)](_0x3f128c){const _0x2b20e4=_0x2f335d;if('number'!=typeof _0x3f128c||_0x3f128c<0x0)throw new _0x194c78(_0x2e40c3['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x2b20e4(0x23f)][_0x2b20e4(0x592)]=_0x3f128c,this;}static[_0x2f335d(0x885)](_0x4deeda){const _0x17d524=_0x2f335d;if(!(_0x4deeda&&_0x17d524(0x663)==typeof _0x4deeda&&'operator'in _0x4deeda&&_0x17d524(0x98e)in _0x4deeda))return!0x1;const {operator:_0x2c89c9,value:_0x1e0deb}=_0x4deeda;return!(!['==','!=','>','<','<=','>='][_0x17d524(0x4a7)](_0x2c89c9)||Array[_0x17d524(0x4f9)](_0x1e0deb));}static[_0x2f335d(0x33b)](_0x1de572){const _0x31c263=_0x2f335d;if(!(_0x1de572&&_0x31c263(0x663)==typeof _0x1de572&&_0x31c263(0x93e)in _0x1de572&&_0x31c263(0x98e)in _0x1de572))return!0x1;const {operator:_0x36623c,value:_0x57034f}=_0x1de572;return!(!['in',_0x31c263(0x617)][_0x31c263(0x4a7)](_0x36623c)||!Array['isArray'](_0x57034f));}static[_0x2f335d(0x668)](_0x3630e8){const _0x46d063=_0x2f335d;if(!(_0x3630e8&&_0x46d063(0x663)==typeof _0x3630e8&&_0x46d063(0x93e)in _0x3630e8&&'value'in _0x3630e8))return!0x1;const {operator:_0x4585a4,value:_0xbb93ff}=_0x3630e8;return!(_0x46d063(0x852)!==_0x4585a4||!Array[_0x46d063(0x4f9)](_0xbb93ff)||0x2!==_0xbb93ff[_0x46d063(0x39c)]);}}class _0xe47ebe{[_0x2f335d(0x7ca)];constructor(_0x8114fa){const _0x4ab39f=_0x2f335d;this[_0x4ab39f(0x7ca)]={'tables':{},'version':_0x8114fa};}static[_0x2f335d(0x74b)](_0x36cb57){const _0x53bac5=_0x2f335d;for(const _0x49f521 in _0x36cb57){if('version'!==_0x49f521&&_0x53bac5(0x5fc)!==_0x49f521)return[!0x1,_0x53bac5(0x509)+_0x49f521+_0x53bac5(0x7be)];if(_0x53bac5(0x5fc)===_0x49f521)for(const _0x336afd in _0x36cb57['tables']){if(_0x53bac5(0x9d9)!=typeof _0x336afd)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x336afd+'\x27'];for(const _0x1504c1 in _0x36cb57[_0x53bac5(0x5fc)][_0x336afd]){if(_0x53bac5(0x224)!==_0x1504c1)return[!0x1,_0x53bac5(0x509)+_0x1504c1+'\x27\x20in\x20table\x20\x27'+_0x336afd+'\x27'];const _0x4bfca6=_0x36cb57[_0x53bac5(0x5fc)][_0x336afd][_0x1504c1]??[];for(const _0xa4e48c of _0x4bfca6)if(void 0x0===_0xa4e48c['keyPath']||_0x53bac5(0x9d9)!=typeof _0xa4e48c[_0x53bac5(0xe0)])return[!0x1,_0x53bac5(0x7d6)+_0x336afd+_0x53bac5(0x220)];}}else{if('version'===_0x49f521&&_0x53bac5(0x47c)!=typeof _0x36cb57[_0x49f521])return[!0x1,_0x53bac5(0x3dd)+_0x36cb57[_0x49f521]+_0x53bac5(0x85f)];}}return[!0x0,_0x53bac5(0x59c)];}static['layout'](_0x50734f){const _0x2f8383=_0x2f335d,_0x351dec=new _0xe47ebe(_0x50734f);return _0x351dec[_0x2f8383(0x7ca)][_0x2f8383(0x2f9)]=_0x50734f,_0x351dec;}[_0x2f335d(0x482)](_0x2a19b5){const _0x4dfb5f=_0x2f335d;return this[_0x4dfb5f(0x7ca)][_0x4dfb5f(0x5fc)][_0x2a19b5]={},new _0x15b1ad(this[_0x4dfb5f(0x7ca)][_0x4dfb5f(0x5fc)][_0x2a19b5]);}[_0x2f335d(0x743)](){const _0x4e6b1f=_0x2f335d;return this[_0x4e6b1f(0x7ca)];}}class _0x15b1ad{[_0x2f335d(0x24f)];constructor(_0x3309bb){const _0x530363=_0x2f335d;this[_0x530363(0x24f)]=_0x3309bb;}[_0x2f335d(0x94e)](_0x1a298c){const _0x422135=_0x2f335d;return this[_0x422135(0x24f)]['indexes']=this[_0x422135(0x24f)]['indexes']??[],this['tableLayout'][_0x422135(0x224)][_0x422135(0x6e4)]({'keyPath':_0x1a298c}),this;}}const _0x49f7ac=0x40000,_0x593546=0x3f800,_0x25c4c2=0x1388,_0x241269=_0x2f335d(0x914),_0x561a56=_0x2f335d(0x7eb),_0x3af0c0=_0x2f335d(0x266),_0x4c7d9d=_0x2f335d(0x4d4),_0x48db37=0xdbba0,_0x9be080=_0x2f335d(0x32a),_0x2d00ac=0x61a8,_0x5cb3ee=0x7530,_0x46e5ac='internal';var _0x3a3b65;!function(_0x217388){const _0x5c0b30=_0x2f335d;_0x217388[_0x5c0b30(0x3b6)]=_0x5c0b30(0x135),_0x217388[_0x5c0b30(0x12f)]='connection-not-connected',_0x217388[_0x5c0b30(0x364)]=_0x5c0b30(0x1a9),_0x217388[_0x5c0b30(0x309)]=_0x5c0b30(0x4e1),_0x217388[_0x5c0b30(0xc9)]=_0x5c0b30(0x7d4),_0x217388[_0x5c0b30(0x961)]=_0x5c0b30(0x61d),_0x217388[_0x5c0b30(0x9cf)]=_0x5c0b30(0x79b),_0x217388[_0x5c0b30(0x555)]=_0x5c0b30(0x9c2),_0x217388[_0x5c0b30(0x35a)]=_0x5c0b30(0x831),_0x217388[_0x5c0b30(0x343)]=_0x5c0b30(0x3de),_0x217388[_0x5c0b30(0x7c4)]='graph-database-creation-failed',_0x217388[_0x5c0b30(0x7ee)]=_0x5c0b30(0x81f),_0x217388[_0x5c0b30(0x5f0)]=_0x5c0b30(0x492),_0x217388[_0x5c0b30(0x873)]=_0x5c0b30(0x599),_0x217388[_0x5c0b30(0x7a7)]=_0x5c0b30(0x2d8),_0x217388[_0x5c0b30(0x715)]=_0x5c0b30(0x766),_0x217388[_0x5c0b30(0x76e)]='job-dispatcher-invalid-payload',_0x217388[_0x5c0b30(0x37b)]=_0x5c0b30(0x397),_0x217388[_0x5c0b30(0x9bb)]=_0x5c0b30(0x7dc),_0x217388['JobWorkerCreationFailed']=_0x5c0b30(0x5e9),_0x217388['JobWorkerInvalidType']=_0x5c0b30(0x951),_0x217388[_0x5c0b30(0xed)]=_0x5c0b30(0x8bc),_0x217388[_0x5c0b30(0x89)]=_0x5c0b30(0x577),_0x217388[_0x5c0b30(0x71c)]=_0x5c0b30(0x75f),_0x217388[_0x5c0b30(0x82c)]=_0x5c0b30(0x563),_0x217388[_0x5c0b30(0x90a)]=_0x5c0b30(0x6e5),_0x217388[_0x5c0b30(0x753)]='local-stream-does-not-exist',_0x217388['MissingRemoteConnection']=_0x5c0b30(0x91f),_0x217388['MissingSystemTopic']=_0x5c0b30(0x416),_0x217388[_0x5c0b30(0x53f)]=_0x5c0b30(0x20a),_0x217388[_0x5c0b30(0x38c)]=_0x5c0b30(0x9ba),_0x217388['ObjectStoreInvalidState']=_0x5c0b30(0x8fd),_0x217388[_0x5c0b30(0x2da)]=_0x5c0b30(0x8d3),_0x217388[_0x5c0b30(0x33f)]=_0x5c0b30(0x888),_0x217388[_0x5c0b30(0x8e9)]=_0x5c0b30(0x5bd),_0x217388['RemoteMediaStreamDoesNotExist']='remote-stream-does-not-exist',_0x217388[_0x5c0b30(0x5f5)]=_0x5c0b30(0x6e7),_0x217388['RemoteConnectionExists']=_0x5c0b30(0x3b8),_0x217388[_0x5c0b30(0x6a5)]=_0x5c0b30(0x90f),_0x217388['SubscriptionRequestFailed']=_0x5c0b30(0x469),_0x217388[_0x5c0b30(0x98b)]='subscription-request-no-answer',_0x217388[_0x5c0b30(0x3e9)]='node-does-not-exist',_0x217388[_0x5c0b30(0x784)]=_0x5c0b30(0x304),_0x217388[_0x5c0b30(0x2bb)]='peer-connection-invalid-destination',_0x217388[_0x5c0b30(0x505)]='vector-database-creation-failed',_0x217388['WorkflowDoesNotExist']=_0x5c0b30(0x12c),_0x217388['WorkflowInvalidBlockType']=_0x5c0b30(0x797);}(_0x3a3b65||(_0x3a3b65={}));const _0x418271=new Map([[_0x3a3b65[_0x2f335d(0x3b6)],_0x2f335d(0x512)],[_0x3a3b65[_0x2f335d(0x12f)],'Connection\x20not\x20connected.'],[_0x3a3b65[_0x2f335d(0x364)],_0x2f335d(0x275)],[_0x3a3b65['ConnectionInvalidDataEvent'],_0x2f335d(0x605)],[_0x3a3b65[_0x2f335d(0xc9)],_0x2f335d(0x27a)],[_0x3a3b65['GenerativeAIContextInvalidPartialResult'],_0x2f335d(0x153)],[_0x3a3b65[_0x2f335d(0x9cf)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x3a3b65['GenerativeAIContextJobFailed'],_0x2f335d(0xba)],[_0x3a3b65['GenerativeAIContextJobTimeout'],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x3a3b65[_0x2f335d(0x343)],'AI\x20worker\x20creation\x20failed.'],[_0x3a3b65[_0x2f335d(0x7c4)],_0x2f335d(0x270)],[_0x3a3b65[_0x2f335d(0x7ee)],_0x2f335d(0x91b)],[_0x3a3b65[_0x2f335d(0x5f0)],'Invalid\x20publisher.'],[_0x3a3b65['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x3a3b65[_0x2f335d(0x7a7)],'Invalid\x20subscription.'],[_0x3a3b65[_0x2f335d(0x715)],'Job\x20service\x20creation\x20failed.'],[_0x3a3b65['JobDispatcherInvalidPayload'],_0x2f335d(0x50a)],[_0x3a3b65[_0x2f335d(0x37b)],_0x2f335d(0x26f)],[_0x3a3b65['JobDispatcherObserverNotFound'],'Job\x20service\x20observer\x20not\x20found.'],[_0x3a3b65['JobWorkerCreationFailed'],_0x2f335d(0x945)],[_0x3a3b65[_0x2f335d(0xb2)],'Invalid\x20job\x20worker\x20type.'],[_0x3a3b65[_0x2f335d(0xed)],_0x2f335d(0x760)],[_0x3a3b65[_0x2f335d(0x89)],_0x2f335d(0x12b)],[_0x3a3b65['KeyValueDatabaseTableDoesNotExist'],_0x2f335d(0x56a)],[_0x3a3b65[_0x2f335d(0x82c)],_0x2f335d(0x64e)],[_0x3a3b65[_0x2f335d(0x90a)],_0x2f335d(0x5b1)],[_0x3a3b65[_0x2f335d(0x753)],_0x2f335d(0x712)],[_0x3a3b65[_0x2f335d(0x54f)],_0x2f335d(0x394)],[_0x3a3b65[_0x2f335d(0x8c3)],_0x2f335d(0x4ae)],[_0x3a3b65['MistletCapacityReportNotSet'],_0x2f335d(0x15f)],[_0x3a3b65[_0x2f335d(0x38c)],'Cannot\x20write\x20transaction.'],[_0x3a3b65[_0x2f335d(0x2da)],_0x2f335d(0x59e)],[_0x3a3b65[_0x2f335d(0xea)],_0x2f335d(0x82a)],[_0x3a3b65['ObjectStoreNotSynced'],_0x2f335d(0x9a)],[_0x3a3b65[_0x2f335d(0x8e9)],_0x2f335d(0x4a8)],[_0x3a3b65[_0x2f335d(0x297)],_0x2f335d(0x367)],[_0x3a3b65[_0x2f335d(0x5f5)],_0x2f335d(0x2ab)],[_0x3a3b65[_0x2f335d(0x163)],_0x2f335d(0x239)],[_0x3a3b65[_0x2f335d(0x6a5)],_0x2f335d(0x462)],[_0x3a3b65[_0x2f335d(0x952)],'Subscription\x20request\x20failed.'],[_0x3a3b65['SubscriptionRequestNoAnswer'],_0x2f335d(0x375)],[_0x3a3b65[_0x2f335d(0x3e9)],_0x2f335d(0x2b5)],[_0x3a3b65['NodeAlreadyExist'],'Node\x20already\x20exists.'],[_0x3a3b65[_0x2f335d(0x2bb)],_0x2f335d(0x390)],[_0x3a3b65['VectorDatabaseCreationFailed'],_0x2f335d(0x818)],[_0x3a3b65['WorkflowDoesNotExist'],'Workflow\x20does\x20not\x20exist.'],[_0x3a3b65[_0x2f335d(0x7e0)],_0x2f335d(0x235)]]);class _0x315451 extends Error{[_0x2f335d(0x699)];static [_0x2f335d(0x600)]=_0x3a3b65;[_0x2f335d(0x1c9)];constructor(_0x60f2af,_0x5e7ced){const _0x5cb8ce=_0x2f335d;super(_0x5cb8ce(0x528)+_0x60f2af+':\x20'+_0x418271[_0x5cb8ce(0x389)](_0x60f2af)+'\x0aAdditional\x20data:\x20'+JSON[_0x5cb8ce(0x4ad)](_0x5e7ced)),this['code']=_0x60f2af,this['data']=_0x5e7ced||{};}}var _0x314d98,_0x951bb1,_0x1a5335,_0x5ad431,_0x5c6370,_0x288dc8,_0x4ba688;!function(_0x491d34){const _0x45835b=_0x2f335d;_0x491d34[_0x491d34[_0x45835b(0x848)]=0x0]='CloseGraphDatabase',_0x491d34[_0x491d34[_0x45835b(0x8ab)]=0x1]=_0x45835b(0x8ab),_0x491d34[_0x491d34[_0x45835b(0x579)]=0x2]=_0x45835b(0x579),_0x491d34[_0x491d34[_0x45835b(0xcf)]=0x3]=_0x45835b(0xcf),_0x491d34[_0x491d34[_0x45835b(0x308)]=0x4]=_0x45835b(0x308),_0x491d34[_0x491d34[_0x45835b(0x23e)]=0x5]=_0x45835b(0x23e),_0x491d34[_0x491d34['CloseObjectStoreBucket']=0x6]='CloseObjectStoreBucket',_0x491d34[_0x491d34[_0x45835b(0x3b7)]=0x7]=_0x45835b(0x3b7),_0x491d34[_0x491d34[_0x45835b(0x90b)]=0x8]=_0x45835b(0x90b),_0x491d34[_0x491d34['ExternalStorageStats']=0x9]=_0x45835b(0x6e1),_0x491d34[_0x491d34[_0x45835b(0x478)]=0xa]='GenerativeAIContextStats',_0x491d34[_0x491d34[_0x45835b(0x23d)]=0xb]=_0x45835b(0x23d),_0x491d34[_0x491d34[_0x45835b(0x5a2)]=0xc]=_0x45835b(0x5a2),_0x491d34[_0x491d34['KeyValueDatabaseContentAvailable']=0xd]=_0x45835b(0x55b),_0x491d34[_0x491d34['KeyValueDatabaseContentSynchronized']=0xe]=_0x45835b(0x58d),_0x491d34[_0x491d34[_0x45835b(0x2cf)]=0xf]=_0x45835b(0x2cf),_0x491d34[_0x491d34['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x45835b(0x521),_0x491d34[_0x491d34[_0x45835b(0x9d8)]=0x11]='KeyValueDatabaseSendTransactions',_0x491d34[_0x491d34['KeyValueDatabaseStats']=0x12]='KeyValueDatabaseStats',_0x491d34[_0x491d34['KeyValueDatabaseSyncRequired']=0x13]=_0x45835b(0x31f),_0x491d34[_0x491d34[_0x45835b(0x8d0)]=0x14]=_0x45835b(0x8d0),_0x491d34[_0x491d34['ObjectStoreStats']=0x15]=_0x45835b(0x3ae),_0x491d34[_0x491d34[_0x45835b(0x80d)]=0x16]=_0x45835b(0x80d),_0x491d34[_0x491d34['PublishMediaStream']=0x17]=_0x45835b(0x40f),_0x491d34[_0x491d34[_0x45835b(0x812)]=0x18]=_0x45835b(0x812),_0x491d34[_0x491d34[_0x45835b(0x9c7)]=0x19]=_0x45835b(0x9c7),_0x491d34[_0x491d34[_0x45835b(0x2a2)]=0x1a]=_0x45835b(0x2a2),_0x491d34[_0x491d34[_0x45835b(0x342)]=0x1b]=_0x45835b(0x342),_0x491d34[_0x491d34['UpdateMediaStream']=0x1c]=_0x45835b(0x431),_0x491d34[_0x491d34[_0x45835b(0x678)]=0x1d]='VectorDatabaseStats';}(_0x314d98||(_0x314d98={})),function(_0x4aac4f){const _0x105dfb=_0x2f335d;_0x4aac4f[_0x105dfb(0x705)]=_0x105dfb(0x851),_0x4aac4f[_0x105dfb(0x640)]='folder-create',_0x4aac4f['Delete']=_0x105dfb(0x2ee),_0x4aac4f['Move']=_0x105dfb(0x47a),_0x4aac4f[_0x105dfb(0x1d7)]='request-file',_0x4aac4f['RequestAccepted']=_0x105dfb(0x192),_0x4aac4f[_0x105dfb(0x37f)]=_0x105dfb(0x208),_0x4aac4f['RequestFileWrite']=_0x105dfb(0x41d);}(_0x951bb1||(_0x951bb1={})),function(_0x3bb85b){const _0x267459=_0x2f335d;_0x3bb85b[_0x267459(0x3d3)]=_0x267459(0x843),_0x3bb85b[_0x267459(0x894)]='transaction';}(_0x1a5335||(_0x1a5335={})),function(_0x21431d){const _0x545587=_0x2f335d;_0x21431d[_0x545587(0x87d)]=_0x545587(0xad),_0x21431d['Update']='update',_0x21431d[_0x545587(0x8c5)]=_0x545587(0x2ee);}(_0x5ad431||(_0x5ad431={})),function(_0x548512){const _0xc44e34=_0x2f335d;_0x548512[_0xc44e34(0xfc)]=_0xc44e34(0x389),_0x548512['List']=_0xc44e34(0x684),_0x548512[_0xc44e34(0x403)]='count';}(_0x5c6370||(_0x5c6370={})),function(_0x59a53c){const _0x82193b=_0x2f335d;_0x59a53c[_0x59a53c[_0x82193b(0x3d3)]=0x0]=_0x82193b(0x3d3),_0x59a53c[_0x59a53c['Bid']=0x1]=_0x82193b(0x359),_0x59a53c[_0x59a53c[_0x82193b(0xd2)]=0x2]=_0x82193b(0xd2),_0x59a53c[_0x59a53c[_0x82193b(0x696)]=0x3]='PartialResult',_0x59a53c[_0x59a53c[_0x82193b(0x92e)]=0x4]=_0x82193b(0x92e),_0x59a53c[_0x59a53c[_0x82193b(0x778)]=0x5]=_0x82193b(0x778);}(_0x288dc8||(_0x288dc8={})),function(_0xace547){const _0x518dd0=_0x2f335d;_0xace547[_0xace547['PeerConnection']=0x0]='PeerConnection',_0xace547[_0xace547[_0x518dd0(0x3f3)]=0x1]=_0x518dd0(0x3f3),_0xace547[_0xace547[_0x518dd0(0x109)]=0x2]='Content',_0xace547[_0xace547[_0x518dd0(0x378)]=0x3]='Subscription',_0xace547[_0xace547['Stats']=0x4]=_0x518dd0(0x49a),_0xace547[_0xace547[_0x518dd0(0x7de)]=0x5]=_0x518dd0(0x7de),_0xace547[_0xace547[_0x518dd0(0x9dd)]=0x6]=_0x518dd0(0x9dd);}(_0x4ba688||(_0x4ba688={}));class _0x3c477d{[_0x2f335d(0x7e2)];[_0x2f335d(0x2b4)];[_0x2f335d(0x57e)];constructor(_0x3a9482,_0x18111d){const _0x57f62a=_0x2f335d;this[_0x57f62a(0x7e2)]=_0x3a9482,this[_0x57f62a(0x2b4)]=_0x18111d;}[_0x2f335d(0x20c)](){const _0x23139f=_0x2f335d;return this[_0x23139f(0x2b4)];}['getOwnerId'](){const _0x2fe6d5=_0x2f335d;return this[_0x2fe6d5(0x7e2)][_0x2fe6d5(0x92c)]();}[_0x2f335d(0x7f0)](){}[_0x2f335d(0x333)](_0x42d9f7){const _0x3a6456=_0x2f335d;this[_0x3a6456(0x57e)]=_0x42d9f7;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}const _0x50cb11=require('firebase/firestore');let _0x503ff8=_0x3822a9(0x14d)['O'];function _0x1efa11(_0x387a3a){const _0x695360=_0x2f335d;return!(!_0x387a3a||_0x695360(0x663)!=typeof _0x387a3a||Array[_0x695360(0x4f9)](_0x387a3a));}_0x503ff8=function _0x4313be(_0x23199a,..._0x3b5ce3){const _0x1d3dcc=_0x2f335d;if(!Array[_0x1d3dcc(0x4f9)](_0x3b5ce3)||0x0===_0x3b5ce3['length'])return _0x23199a;const _0x49416f=_0x3b5ce3[_0x1d3dcc(0x234)]();if(_0x1efa11(_0x23199a)&&_0x1efa11(_0x49416f)){for(const _0x57bad2 in _0x49416f)_0x1efa11(_0x49416f[_0x57bad2])?(_0x23199a[_0x57bad2]||Object[_0x1d3dcc(0x22b)](_0x23199a,{[_0x57bad2]:{}}),_0x4313be(_0x23199a[_0x57bad2],_0x49416f[_0x57bad2])):Object['assign'](_0x23199a,{[_0x57bad2]:_0x49416f[_0x57bad2]});}return _0x4313be(_0x23199a,..._0x3b5ce3);}(_0x503ff8,_0x3822a9(0x3e6)['O']);const _0x4dc50e=_0x503ff8,_0x276d60=require('firebase/app'),_0x17139d=require('firebase/auth'),_0x59ed33=require('firebase/database'),_0x53e21c=require('firebase/functions'),_0x2d9acc=require('uuid'),_0x39a7d3=_0x2f335d(0x73c);class _0x2a417f{static [_0x2f335d(0x26a)];['app'];['auth'];[_0x2f335d(0x3ee)];['database'];[_0x2f335d(0x437)];[_0x2f335d(0x535)];[_0x2f335d(0x7cc)];constructor(){const _0x505886=_0x2f335d;this[_0x505886(0x97b)]();}static[_0x2f335d(0x1e6)](){const _0xe14405=_0x2f335d;return _0x2a417f[_0xe14405(0x26a)]||(_0x2a417f[_0xe14405(0x26a)]=new _0x2a417f()),_0x2a417f[_0xe14405(0x26a)];}[_0x2f335d(0x97b)](){const _0x1a7f65=_0x2f335d;if(!this[_0x1a7f65(0x2f5)]){let _0x3f6f10=_0x39a7d3;_0x1a7f65(0x931)!=typeof window&&(_0x3f6f10=_0x39a7d3+'-'+(0x0,_0x2d9acc['v4'])()),this['app']=(0x0,_0x276d60[_0x1a7f65(0x6d9)])(_0x4dc50e[_0x1a7f65(0x849)],''+_0x3f6f10);}return this[_0x1a7f65(0x2f5)];}[_0x2f335d(0x853)](){const _0x31d3c0=_0x2f335d;return this[_0x31d3c0(0xb3)]||(this['auth']=(0x0,_0x17139d[_0x31d3c0(0x853)])(this['getApp']())),this[_0x31d3c0(0xb3)];}[_0x2f335d(0x56e)](){const _0x2a646f=_0x2f335d;return this['functions']||(this['functions']=(0x0,_0x53e21c[_0x2a646f(0x56e)])(this[_0x2a646f(0x97b)](),_0x4dc50e[_0x2a646f(0x849)][_0x2a646f(0x294)])),this['functions'];}[_0x2f335d(0x7bf)](){const _0x397dac=_0x2f335d;return this[_0x397dac(0x206)]||(this[_0x397dac(0x206)]=(0x0,_0x59ed33[_0x397dac(0x7bf)])(this['getApp']())),this[_0x397dac(0x206)];}[_0x2f335d(0x8be)](){const _0x500c33=_0x2f335d;return this[_0x500c33(0x437)]||(this[_0x500c33(0x437)]=(0x0,_0x50cb11['getFirestore'])(this[_0x500c33(0x97b)]())),this[_0x500c33(0x437)];}async['getEstimatedTimestamp'](){const _0xe1a5a2=_0x2f335d;if(this[_0xe1a5a2(0x535)]&&this[_0xe1a5a2(0x7cc)]&&Date[_0xe1a5a2(0x449)]()-this['lastClockUpdate']<0x493e0)return Date[_0xe1a5a2(0x449)]()+this[_0xe1a5a2(0x535)];const _0x222515=this['getDatabase'](),_0x4c96be=(0x0,_0x59ed33[_0xe1a5a2(0x29b)])(_0x222515,'.info/serverTimeOffset');return new Promise(_0x4a91af=>{const _0x5330ce=_0xe1a5a2;(0x0,_0x59ed33[_0x5330ce(0x1bd)])(_0x4c96be,_0x477a4f=>{const _0x4e4553=_0x5330ce;(0x0,_0x59ed33[_0x4e4553(0x6d5)])(_0x4c96be),this[_0x4e4553(0x535)]=_0x477a4f[_0x4e4553(0x357)](),this[_0x4e4553(0x7cc)]=Date['now'](),_0x4a91af(Date['now']()+(this[_0x4e4553(0x535)]??0x0));});});}}const _0x2825b2=_0x2a417f[_0x2f335d(0x1e6)]();class _0x50e1a4{static [_0x2f335d(0x26a)];[_0x2f335d(0x861)]=[_0x4abdbe['Default']];[_0x2f335d(0x1db)]=!0x1;[_0x2f335d(0x913)];['vendorId']='';[_0x2f335d(0x2de)];[_0x2f335d(0x5ae)]=[];[_0x2f335d(0x6bb)];[_0x2f335d(0x783)];[_0x2f335d(0x216)]=0xa;['retryDelay']=0x1f4;[_0x2f335d(0x576)]=0x1c2;[_0x2f335d(0x41f)]=0x3e8;constructor(){const _0x56bcc0=_0x2f335d;if('undefined'!=typeof window)this[_0x56bcc0(0x2de)]=window;else{if(void 0x0===_0x3822a9['g'])throw new Error(_0x56bcc0(0x5d9));this[_0x56bcc0(0x2de)]=_0x3822a9['g'];}this[_0x56bcc0(0x4e0)](),this[_0x56bcc0(0x2de)]['crewdleSDKEnableLogging']=_0x2b8fcf=>{const _0x42ec4f=_0x56bcc0;if(_0x2b8fcf===_0x4abdbe[_0x42ec4f(0x73f)])return this[_0x42ec4f(0x861)]=Object['keys'](_0x4abdbe)[_0x42ec4f(0x3cd)](_0x24bff6=>_0x4abdbe[_0x24bff6]),void Object[_0x42ec4f(0x502)](_0x4abdbe)['forEach'](_0x298c6f=>{const _0x1eabdb=_0x42ec4f,_0x7fbe4d=_0x298c6f;localStorage[_0x1eabdb(0x632)](_0x1eabdb(0x1c8)+_0x4abdbe[_0x7fbe4d],'true');});this[_0x42ec4f(0x861)][_0x42ec4f(0x4a7)](_0x2b8fcf)||(this['enabledChannels'][_0x42ec4f(0x6e4)](_0x2b8fcf),localStorage[_0x42ec4f(0x632)]('crewdle-sdk-logging-'+_0x2b8fcf,_0x42ec4f(0x5d5)));},this[_0x56bcc0(0x2de)][_0x56bcc0(0x884)]=_0x238f66=>{const _0x2b491a=_0x56bcc0;if(!_0x238f66||_0x238f66===_0x4abdbe['All'])return this[_0x2b491a(0x861)]=[],void Object[_0x2b491a(0x502)](_0x4abdbe)[_0x2b491a(0x82f)](_0x2213e2=>{const _0x37a96e=_0x2b491a,_0x38ba56=_0x2213e2;localStorage[_0x37a96e(0x949)](_0x37a96e(0x1c8)+_0x4abdbe[_0x38ba56]);});this[_0x2b491a(0x861)][_0x2b491a(0x4a7)](_0x238f66)&&(this['enabledChannels']=this[_0x2b491a(0x861)][_0x2b491a(0x379)](_0x2f1e67=>_0x2f1e67!==_0x238f66),localStorage[_0x2b491a(0x949)](_0x2b491a(0x1c8)+_0x238f66));},this[_0x56bcc0(0x2de)][_0x56bcc0(0x8b)]=_0x4abdbe;}static[_0x2f335d(0x1e6)](){const _0x24f5d4=_0x2f335d;try{return _0x50e1a4['instance']||(_0x50e1a4[_0x24f5d4(0x26a)]=new _0x50e1a4()),_0x50e1a4[_0x24f5d4(0x26a)];}catch(_0x4bc9bd){return console[_0x24f5d4(0x646)](_0x24f5d4(0x102),_0x4bc9bd),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x2f335d(0x54d)](_0x4e6971){const _0x2884de=_0x2f335d;this[_0x2884de(0xa5)]=_0x4e6971,this[_0x2884de(0x5ae)]=[],this[_0x2884de(0x6bb)]=this['createNewBatch'](),this[_0x2884de(0x783)]&&(clearTimeout(this[_0x2884de(0x783)]),this[_0x2884de(0x783)]=void 0x0);}[_0x2f335d(0x950)](_0x39e64f){const _0x29e4dd=_0x2f335d;this[_0x29e4dd(0x913)]=_0x39e64f;}[_0x2f335d(0x7e5)](_0x3bafb2,..._0x11c9dd){const _0x5e2a41=_0x2f335d;this[_0x5e2a41(0x1db)]&&this[_0x5e2a41(0x6fb)](_0x4abdbe[_0x5e2a41(0x46e)],_0x5e2a41(0x647)+_0x3bafb2,..._0x11c9dd);}[_0x2f335d(0xc1)](_0x4ac7cb,..._0x3dc0a6){const _0x275f43=_0x2f335d;console[_0x275f43(0x6fb)](_0x4ac7cb,..._0x3dc0a6),this[_0x275f43(0x913)]&&this[_0x275f43(0x913)][_0x275f43(0x82f)](_0x7d3cc1=>{const _0x1554aa=_0x275f43;_0x7d3cc1['log'](_0x4ac7cb,{'vendorId':this[_0x1554aa(0xa5)],'nodeId':'','nodeType':'','data':{..._0x3dc0a6}});});}[_0x2f335d(0x6fb)](_0x539f4d,_0x5bef3d,..._0x5abf4d){const _0x270fc6=_0x2f335d;_0x4dc50e['isProduction']||(this[_0x270fc6(0x861)][_0x270fc6(0x4a7)](_0x539f4d)&&console['log'](_0x270fc6(0x706)+_0x539f4d+'\x27\x0a',new Date()+'\x0a',_0x5bef3d,..._0x5abf4d),this['loggingConnectors']&&this[_0x270fc6(0x913)]['forEach'](_0x44d108=>{const _0x481037=_0x270fc6;this[_0x481037(0x35b)](_0x44d108)&&_0x44d108[_0x481037(0x638)]()[_0x481037(0x4a7)](_0x539f4d)&&_0x44d108[_0x481037(0x6fb)](_0x5bef3d,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x539f4d,..._0x5abf4d}});}));}[_0x2f335d(0x757)](_0x558fcb,_0x4a7e86,..._0x4bf96f){const _0x8c9c4c=_0x2f335d;_0x4dc50e[_0x8c9c4c(0x405)]||(this[_0x8c9c4c(0x861)]['includes'](_0x558fcb)&&console[_0x8c9c4c(0x6fb)](_0x4a7e86,..._0x4bf96f),this[_0x8c9c4c(0x913)]&&this[_0x8c9c4c(0x913)][_0x8c9c4c(0x82f)](_0x48a470=>{const _0x41d608=_0x8c9c4c;this['isInternalLoggingConnector'](_0x48a470)&&_0x48a470[_0x41d608(0x638)]()[_0x41d608(0x4a7)](_0x558fcb)&&_0x48a470[_0x41d608(0x6fb)](_0x4a7e86,{'vendorId':this[_0x41d608(0xa5)],'nodeId':'','nodeType':'','data':{'channel':_0x558fcb,..._0x4bf96f}});}));}['logEvent'](_0x5a6113,_0x40cbe6){const _0x2d3ef2=_0x2f335d;if(!this['loggingConnectors'])return;const _0x1debe7={'vendorId':this[_0x2d3ef2(0xa5)],..._0x40cbe6};this['loggingConnectors'][_0x2d3ef2(0x82f)](_0x55074f=>{_0x55074f['log'](_0x5a6113,_0x1debe7);});}[_0x2f335d(0xf8)](_0x5408f8,_0x1eb1f9){const _0x313e32=_0x2f335d;this[_0x313e32(0x122)](_0x5408f8,_0x1eb1f9),this[_0x313e32(0x8c1)]();}[_0x2f335d(0x40a)](_0x413570,_0x13c1df,_0x1dc8db){const _0x543674=_0x2f335d;(0x0,_0x50cb11['setDoc'])((0x0,_0x50cb11['doc'])(_0x2825b2[_0x543674(0x8be)](),_0x543674(0x6de)+this['vendorId']+'/'+_0x413570+'/'+_0x13c1df),{'storage':_0x1dc8db,'timestamp':(0x0,_0x50cb11['serverTimestamp'])()});}[_0x2f335d(0x8c1)](){const _0x40aae9=_0x2f335d;this[_0x40aae9(0x6bb)]&&(this[_0x40aae9(0x6bb)]['counter']+=0x1,this['currentBatch'][_0x40aae9(0x5e5)]===this[_0x40aae9(0x576)]?this[_0x40aae9(0x98a)]():this[_0x40aae9(0x783)]||(this[_0x40aae9(0x783)]=this[_0x40aae9(0x2de)][_0x40aae9(0x420)](()=>this['processBatch'](),this[_0x40aae9(0x41f)])));}async[_0x2f335d(0x98a)](){const _0xd2648a=_0x2f335d;if(this['currentBatch']){for(this[_0xd2648a(0x5ae)][_0xd2648a(0x6e4)](this[_0xd2648a(0x6bb)]),this[_0xd2648a(0x6bb)]=this[_0xd2648a(0x1a0)]();this['batchQueue'][_0xd2648a(0x39c)]>0x0;){const _0x42d1df=this[_0xd2648a(0x5ae)]['shift']();if(!await this['commitBatch'](_0x42d1df))break;}clearTimeout(this[_0xd2648a(0x783)]),this[_0xd2648a(0x783)]=void 0x0;}}['error'](_0x3b24bc,_0x4c2071,..._0x1d6e3c){const _0x2b9205=_0x2f335d;if(console['error'](new Date(),_0x3b24bc,_0x4c2071,..._0x1d6e3c),this[_0x2b9205(0x913)]){const _0x4f902b={'vendorId':this[_0x2b9205(0xa5)],..._0x4c2071};this['loggingConnectors']['forEach'](_0x3054b4=>{const _0x11e04d=_0x2b9205;_0x3054b4[_0x11e04d(0x646)](_0x3b24bc,_0x4f902b);});}}[_0x2f335d(0x80f)](_0x5edda6,_0x335b06,..._0x7e4da0){const _0x26a31d=_0x2f335d;if(console[_0x26a31d(0x624)](new Date(),_0x5edda6,_0x335b06,_0x7e4da0),this['loggingConnectors']){const _0x382461={'vendorId':this[_0x26a31d(0xa5)],..._0x335b06};this[_0x26a31d(0x913)][_0x26a31d(0x82f)](_0x3db2f4=>{const _0xd1e5e0=_0x26a31d;_0x3db2f4[_0xd1e5e0(0x624)](_0x5edda6,_0x382461);});}}[_0x2f335d(0x70a)](_0x21d76c){const _0x2a002c=_0x2f335d;return this[_0x2a002c(0x861)][_0x2a002c(0x4a7)](_0x21d76c);}async['commitBatch'](_0x292863,_0x36fca1=0x0){const _0x1117a5=_0x2f335d;if(_0x292863[_0x1117a5(0x5e5)]>0x0)try{return await _0x292863[_0x1117a5(0x18f)][_0x1117a5(0x1a6)](),!0x0;}catch(_0x101b7f){if(console[_0x1117a5(0x646)](_0x1117a5(0x8bb),_0x101b7f,_0x1117a5(0x656),_0x292863[_0x1117a5(0x188)]),!(_0x36fca1<this[_0x1117a5(0x216)])){const {nodeId:_0xf4ec27='',nodeType:_0x5945d3='',clusterId:_0x196848=''}=_0x292863[_0x1117a5(0x188)][0x0]['data'],_0x3c7449={'nodeId':_0xf4ec27,'nodeType':_0x5945d3,'clusterId':_0x196848,'data':{'operations':_0x292863[_0x1117a5(0x188)],'error':_0x101b7f}};return this[_0x1117a5(0x646)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x3c7449),!0x1;}{const _0x576e62=this[_0x1117a5(0x171)](_0x292863[_0x1117a5(0x188)]);setTimeout(()=>this['commitBatch'](_0x576e62,_0x36fca1+0x1),this[_0x1117a5(0x574)]*Math['pow'](0x2,_0x36fca1));}}}['loadEnabledChannels'](){const _0x5d7a66=_0x2f335d;try{Object[_0x5d7a66(0x502)](_0x4abdbe)[_0x5d7a66(0x82f)](_0x55fc05=>{const _0x592687=_0x5d7a66,_0x50ea97=_0x55fc05;localStorage[_0x592687(0x228)]('crewdle-sdk-logging-'+_0x4abdbe[_0x50ea97])&&(console[_0x592687(0x6fb)](_0x592687(0x976),_0x4abdbe[_0x50ea97]),this[_0x592687(0x861)]['push'](_0x4abdbe[_0x50ea97]));});}catch(_0x5321d2){}}[_0x2f335d(0x35b)](_0x5b20ae){const _0x30a282=_0x2f335d;return void 0x0!==_0x5b20ae[_0x30a282(0x638)];}['createNewBatch'](){const _0x53d88d=_0x2f335d;return{'batch':(0x0,_0x50cb11['writeBatch'])(_0x2825b2[_0x53d88d(0x8be)]()),'operations':[],'counter':0x0};}[_0x2f335d(0x171)](_0x57087e){const _0x539562=_0x2f335d,_0x49441a=(0x0,_0x50cb11[_0x539562(0x732)])(_0x2825b2[_0x539562(0x8be)]());return _0x57087e[_0x539562(0x82f)](_0x4f9261=>this[_0x539562(0x318)](_0x49441a,_0x4f9261)),{'batch':_0x49441a,'operations':_0x57087e,'counter':_0x57087e['length']};}[_0x2f335d(0x318)](_0x1886a7,_0x122f93){const _0x1d3d99=_0x2f335d;switch(_0x122f93[_0x1d3d99(0x4e7)]){case _0x1d3d99(0x120):_0x1886a7[_0x1d3d99(0x120)](_0x122f93[_0x1d3d99(0x29b)],_0x122f93[_0x1d3d99(0x1c9)]);break;case _0x1d3d99(0x971):_0x1886a7['update'](_0x122f93['ref'],_0x122f93['data']);break;case _0x1d3d99(0x2ee):_0x1886a7['delete'](_0x122f93[_0x1d3d99(0x29b)]);}}[_0x2f335d(0x122)](_0x3362f6,_0x3a60be){const _0x33ec6a=_0x2f335d;this[_0x33ec6a(0x6bb)]||(this['currentBatch']=this[_0x33ec6a(0x1a0)]());const _0x4deb7e=(0x0,_0x50cb11[_0x33ec6a(0xc6)])((0x0,_0x50cb11[_0x33ec6a(0x750)])(_0x2825b2['getFirestore'](),'developers/'+this[_0x33ec6a(0xa5)]+_0x33ec6a(0x832))),_0x21a0c6={..._0x3a60be,'service':_0x3362f6,'timestamp':(0x0,_0x50cb11[_0x33ec6a(0x8ee)])()},_0x6f2bac={'type':_0x33ec6a(0x120),'path':_0x4deb7e[_0x33ec6a(0x404)],'ref':_0x4deb7e,'data':_0x21a0c6};return this[_0x33ec6a(0x6bb)][_0x33ec6a(0x188)]['push'](_0x6f2bac),this[_0x33ec6a(0x318)](this[_0x33ec6a(0x6bb)][_0x33ec6a(0x18f)],_0x6f2bac),_0x4deb7e;}}const _0x5a023b=_0x50e1a4['getInstance']();function _0x57b980(_0x468c67,_0x41c5fe){return'/'===_0x468c67?_0x468c67+_0x41c5fe:_0x468c67+'/'+_0x41c5fe;}function _0x28f4ac(_0x508bf0){const _0x5820fd=_0x2f335d,_0x38bd4c=function(_0x137b30){const _0x4c228d=a0_0x2fcc;return _0x137b30[_0x4c228d(0x187)]('/')[_0x4c228d(0x379)](_0x1199c8=>_0x1199c8[_0x4c228d(0x39c)]>0x0);}(_0x508bf0),_0x3e41b4=_0x38bd4c[_0x5820fd(0x882)]()||'',_0xe1657b=_0x38bd4c[_0x5820fd(0x67e)]('/');return[0x0===_0xe1657b['length']?'/':_0xe1657b,_0x3e41b4];}async function _0x14f3b7(_0x3b750c){const _0x4912a7=_0x2f335d;let _0x1825aa;const _0x450b2d=_0x3b750c[_0x4912a7(0x15b)]/0x100000;_0x1825aa=_0x450b2d<=0xa?0x1:_0x450b2d<=0x64?0.5:_0x450b2d<=0x1f4?0.1:0.05;const _0x569746=Math[_0x4912a7(0x588)](_0x3b750c[_0x4912a7(0x15b)]/_0x49f7ac),_0x26caa9=Math[_0x4912a7(0x588)](_0x569746*_0x1825aa);let _0xd323dd=new Uint8Array();for(let _0x4c3ad0=0x0;_0x4c3ad0<_0x26caa9;_0x4c3ad0++){const _0x363187=Math[_0x4912a7(0x934)](_0x4c3ad0/_0x26caa9*_0x3b750c[_0x4912a7(0x15b)]);let _0x2a01a8=_0x363187+_0x49f7ac;_0x2a01a8>_0x3b750c['size']&&(_0x2a01a8=_0x3b750c[_0x4912a7(0x15b)]);const _0x218c43=_0x3b750c[_0x4912a7(0x609)](_0x363187,_0x2a01a8),_0x4bf1a0=await _0x218c43['arrayBuffer'](),_0x2fc647=new Uint8Array([..._0xd323dd,...new Uint8Array(_0x4bf1a0)]);_0xd323dd=new Uint8Array(await crypto['subtle'][_0x4912a7(0x736)](_0x4912a7(0x54a),_0x2fc647));}return Array[_0x4912a7(0x2ce)](new Uint8Array(_0xd323dd))[_0x4912a7(0x3cd)](_0x11f0be=>_0x11f0be[_0x4912a7(0x742)](0x10)[_0x4912a7(0x4d9)](0x2,'0'))[_0x4912a7(0x67e)]('');}async function*_0x517a6c(_0x3d4ad9,_0x462e88=0x0,_0x3b2728){const _0x5cee3b=_0x2f335d;let _0x148555=_0x462e88*_0x593546,_0x20808d=_0x3d4ad9;for(;_0x148555<_0x20808d[_0x5cee3b(0x15b)];){let _0x228d95=_0x148555+_0x593546;_0x228d95>_0x20808d[_0x5cee3b(0x15b)]&&(_0x228d95=_0x20808d[_0x5cee3b(0x15b)]);let _0x173c3f=0x0;for(;_0x173c3f<0x14;)try{await _0x3b2728?.();const _0x123a58=_0x20808d[_0x5cee3b(0x609)](_0x148555,_0x228d95,_0x5cee3b(0x7b9)),_0x481486=await _0x123a58[_0x5cee3b(0x63a)]();yield _0x481486,_0x148555=_0x228d95,await new Promise(_0x4bf268=>setTimeout(_0x4bf268,0x0));break;}catch(_0x2f0886){if(console[_0x5cee3b(0x646)](_0x5cee3b(0x3e6)+(_0x173c3f+0x1)+'\x20attempts:',_0x2f0886),_0x173c3f++,_0x173c3f>0x14)throw _0x2f0886;let _0x1efa41=0x3e8*Math[_0x5cee3b(0x501)](0x2,_0x173c3f);_0x1efa41>0x7530&&(_0x1efa41=0x7530),await new Promise(_0x57240f=>setTimeout(_0x57240f,_0x1efa41));}}}class _0x56016a extends _0x3c477d{[_0x2f335d(0x1ff)];[_0x2f335d(0x31c)];[_0x2f335d(0x769)]=new Map();['messagesSent']=0x0;['messagesReceived']=0x0;[_0x2f335d(0x18b)]=0x0;['bytesReceived']=0x0;constructor(_0x545dfa,_0x1ff04e){super(_0x545dfa,_0x1ff04e);}[_0x2f335d(0x20c)](){return this['label'];}[_0x2f335d(0x9d4)](){const _0x45a0ba=_0x2f335d;return this[_0x45a0ba(0x2b4)];}[_0x2f335d(0x8c7)](){const _0x5be2aa=_0x2f335d;return _0x47407f[_0x5be2aa(0x1e9)]['Data'];}['getInternalStreamId'](){return this['label'];}[_0x2f335d(0x538)](_0x544bce){const _0x2aa167=_0x2f335d;if(this[_0x2aa167(0x1ff)])throw new _0x315451(_0x315451[_0x2aa167(0x600)][_0x2aa167(0x5f0)],{'message':_0x2aa167(0x534)+this['owner'][_0x2aa167(0x92c)]()+_0x2aa167(0x664)+this['label'],'topic':this[_0x2aa167(0x1ff)]});this[_0x2aa167(0x1ff)]=_0x544bce;}[_0x2f335d(0x5ef)](_0x1f9ff9){const _0xe0dd67=_0x2f335d;if(this[_0xe0dd67(0x31c)])throw new _0x315451(_0x315451[_0xe0dd67(0x600)][_0xe0dd67(0x873)],{'message':_0xe0dd67(0x23b)+this[_0xe0dd67(0x7e2)]['getId']()+'\x20-\x20'+this[_0xe0dd67(0x2b4)],'topic':this[_0xe0dd67(0x31c)]});this[_0xe0dd67(0x31c)]=_0x1f9ff9;}[_0x2f335d(0x1b8)](){const _0x1170c6=_0x2f335d;delete this[_0x1170c6(0x1ff)];}[_0x2f335d(0x980)](){const _0x2f61ed=_0x2f335d;delete this[_0x2f61ed(0x31c)];}async[_0x2f335d(0x869)](_0x57ad8c,_0x2372ea){const _0x58069f=_0x2f335d;if(_0x5a023b[_0x58069f(0x6fb)](_0x4abdbe[_0x58069f(0x6c9)],_0x58069f(0x69a),this['owner'][_0x58069f(0x92c)](),_0x57ad8c,_0x2372ea),this[_0x58069f(0x7c8)]+=0x1,_0x57ad8c instanceof File){const _0x106b39=await async function(_0x28ce07){const _0x5b922e=[];for await(const _0x4459af of _0x517a6c(_0x28ce07))_0x5b922e['push'](_0x4459af);return _0x5b922e;}(_0x57ad8c);return this[_0x58069f(0x18b)]+=_0x106b39[_0x58069f(0x38b)]((_0x1fbc62,_0xe4fd40)=>_0x1fbc62+_0xe4fd40[_0x58069f(0x422)],0x0),void _0x106b39[_0x58069f(0x82f)]((_0x287179,_0x176c65)=>{const _0x311c6c=_0x58069f;this['outgoingTopic'][_0x311c6c(0x620)]({'sourceId':this[_0x311c6c(0x7e2)][_0x311c6c(0x92c)](),'destinationIds':_0x2372ea,'propagate':!0x0,'contentType':_0x47407f[_0x311c6c(0x1e9)][_0x311c6c(0x113)],'content':{'name':_0x57ad8c[_0x311c6c(0xdd)],'type':_0x57ad8c[_0x311c6c(0x4e7)],'data':_0x287179,'index':_0x176c65,'total':_0x106b39[_0x311c6c(0x39c)]}});});}this['bytesSent']+=JSON[_0x58069f(0x4ad)](_0x57ad8c)[_0x58069f(0x39c)],this[_0x58069f(0x1ff)][_0x58069f(0x620)]({'sourceId':this['owner']['getId'](),'destinationIds':_0x2372ea,'propagate':!0x0,'contentType':_0x47407f[_0x58069f(0x1e9)]['Data'],'content':_0x57ad8c});}[_0x2f335d(0x904)](_0x5c8a08){const _0x1dd3ac=_0x2f335d;return this[_0x1dd3ac(0x31c)][_0x1dd3ac(0x504)](_0x36ebcd=>{const _0x142718=_0x1dd3ac;switch(_0x5a023b[_0x142718(0x6fb)](_0x4abdbe['DataStream'],_0x142718(0xf7),this['owner'][_0x142718(0x92c)](),_0x36ebcd),_0x36ebcd[_0x142718(0x272)]){case _0x47407f[_0x142718(0x1e9)][_0x142718(0x433)]:this[_0x142718(0x108)]+=0x1,this[_0x142718(0x772)]+=JSON[_0x142718(0x4ad)](_0x36ebcd[_0x142718(0x569)])['length'],_0x5c8a08(_0x36ebcd[_0x142718(0x1cc)],_0x36ebcd[_0x142718(0x569)]);break;case _0x47407f[_0x142718(0x1e9)]['File']:this[_0x142718(0x769)][_0x142718(0x627)](_0x36ebcd[_0x142718(0x569)]['name'])||this[_0x142718(0x769)][_0x142718(0x120)](_0x36ebcd['content'][_0x142718(0xdd)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x261788=this[_0x142718(0x769)][_0x142718(0x389)](_0x36ebcd['content'][_0x142718(0xdd)]);if(_0x261788['chunksReceived']+=0x1,_0x261788['bytesReceived']+=_0x36ebcd['content'][_0x142718(0x1c9)]['byteLength'],_0x261788['content']&&(_0x261788['content'][_0x36ebcd[_0x142718(0x569)][_0x142718(0x94e)]]=_0x36ebcd[_0x142718(0x569)]['data']),this[_0x142718(0x769)][_0x142718(0x120)](_0x36ebcd[_0x142718(0x569)][_0x142718(0xdd)],_0x261788),_0x261788[_0x142718(0x7ec)]+0x1<_0x36ebcd[_0x142718(0x569)][_0x142718(0x4c6)])return;this[_0x142718(0x108)]+=0x1,this[_0x142718(0x772)]+=_0x261788['bytesReceived'],_0x261788[_0x142718(0x569)]&&_0x5c8a08(_0x36ebcd[_0x142718(0x1cc)],(_0x5d442b=_0x261788[_0x142718(0x569)],_0x29506b=_0x36ebcd['content']['name'],_0x32a12f=_0x36ebcd[_0x142718(0x569)]['type'],new File(_0x5d442b,_0x29506b,{'type':_0x32a12f}))),this[_0x142718(0x769)][_0x142718(0x2ee)](_0x36ebcd[_0x142718(0x569)][_0x142718(0xdd)]);}var _0x5d442b,_0x29506b,_0x32a12f;});}}function _0x390225(){let _0x5b57d6=[];return{'subscribe':_0x4bab77=>(_0x5b57d6['push'](_0x4bab77),()=>{const _0x4d55d4=a0_0x2fcc;_0x5b57d6=_0x5b57d6[_0x4d55d4(0x379)](_0x1e6b4b=>_0x1e6b4b!==_0x4bab77);}),'publish':_0x370e21=>{const _0x29c6c4=a0_0x2fcc;_0x5b57d6[_0x29c6c4(0x82f)](_0x429286=>_0x429286(_0x370e21));}};}function _0x245a70(){let _0x41dbe2;return{'subscribe':_0x539228=>(_0x41dbe2=_0x539228,()=>{_0x41dbe2=void 0x0;}),'publish':_0x31e6cd=>{_0x41dbe2&&_0x41dbe2(_0x31e6cd);}};}class _0x215c4a{['connector'];['tableName'];[_0x2f335d(0x910)];[_0x2f335d(0x1cf)]=_0x245a70();[_0x2f335d(0xde)];constructor(_0x5badca,_0x58887d,_0x25a7ce){const _0x4686eb=_0x2f335d;this['connector']=_0x5badca,this[_0x4686eb(0x3c1)]=_0x58887d,this[_0x4686eb(0x910)]=_0x25a7ce;}[_0x2f335d(0x7f0)](){this['listenerUnsubscriber']?.();}async[_0x2f335d(0x389)](_0x4919d2){const _0x3dc98d=_0x2f335d,_0x139683={'key':_0x4919d2,'tableName':this[_0x3dc98d(0x3c1)],'action':_0x5c6370['Get']};return this[_0x3dc98d(0x910)][_0x3dc98d(0x620)](_0x139683),this[_0x3dc98d(0x1fc)][_0x3dc98d(0x389)](_0x4919d2);}async[_0x2f335d(0x120)](_0x2e1c06,_0x359601,_0x20edcd=!0x0){const _0x414811=_0x2f335d;this[_0x414811(0x8a)](_0x359601);const _0x269a19=await this[_0x414811(0x1fc)][_0x414811(0x389)](_0x2e1c06),_0x14586e=await this[_0x414811(0x1fc)][_0x414811(0x120)](_0x2e1c06,_0x359601),_0x2da74a=_0x269a19?_0x5ad431[_0x414811(0x648)]:_0x5ad431[_0x414811(0x87d)];if(this[_0x414811(0x620)](_0x2da74a,_0x14586e),!_0x20edcd)return _0x14586e;const _0x4b4d33={'key':_0x2e1c06,'tableName':this[_0x414811(0x3c1)],'action':_0x2da74a,'value':_0x14586e};return this[_0x414811(0x910)][_0x414811(0x620)](_0x4b4d33),_0x14586e;}async[_0x2f335d(0xad)](_0x62e171){const _0x58d126=_0x2f335d;this['validateValue'](_0x62e171);const _0x23c4a2=await this[_0x58d126(0x1fc)][_0x58d126(0xad)](_0x62e171),_0x124227={'key':_0x23c4a2['id'],'tableName':this['tableName'],'action':_0x5ad431['Add'],'value':_0x23c4a2};return this[_0x58d126(0x910)]['publish'](_0x124227),this[_0x58d126(0x620)](_0x124227['action'],_0x23c4a2),_0x23c4a2;}async['delete'](_0x1d267b,_0x10ce8d=!0x0){const _0x465fae=_0x2f335d,_0x8a2232=await this[_0x465fae(0x1fc)][_0x465fae(0x389)](_0x1d267b);if(!_0x8a2232)return;await this['connector'][_0x465fae(0x2ee)](_0x1d267b);const _0xbe2339=_0x5ad431['Delete'];if(this[_0x465fae(0x620)](_0xbe2339,_0x8a2232),!_0x10ce8d)return;const _0x58aba8={'key':_0x1d267b,'tableName':this[_0x465fae(0x3c1)],'action':_0xbe2339,'value':_0x8a2232};this['tableObserver'][_0x465fae(0x620)](_0x58aba8);}async['clear'](){const _0xfa22b7=_0x2f335d,_0x290179=await this['list']();for(const _0x4769a4 of _0x290179){const _0xb7e03f=_0x5ad431['Delete'];this['publish'](_0xb7e03f,_0x4769a4);const _0x5b1065={'key':_0x4769a4['id'],'tableName':this['tableName'],'action':_0xb7e03f,'value':_0x4769a4};this[_0xfa22b7(0x910)]['publish'](_0x5b1065);}return this[_0xfa22b7(0x1fc)]['clear']();}async[_0x2f335d(0x684)](_0x55687a){const _0x31ed64=_0x2f335d,_0x5db7c8={'key':'','tableName':this['tableName'],'action':_0x5c6370[_0x31ed64(0x52b)]};this[_0x31ed64(0x910)]['publish'](_0x5db7c8);try{_0x55687a&&(_0x55687a=_0x55687a instanceof _0x4ba0c8?_0x55687a[_0x31ed64(0x398)]():_0x4ba0c8[_0x31ed64(0x3e0)](_0x55687a)[_0x31ed64(0x398)]());}catch(_0x54b996){throw new _0x194c78(_0x2e40c3[_0x31ed64(0x1ef)],_0x31ed64(0x377));}try{return await this['connector'][_0x31ed64(0x684)](_0x55687a);}catch(_0x249e60){let _0x2d3997=_0x31ed64(0x377);throw _0x249e60 instanceof Error&&(_0x2d3997=_0x249e60[_0x31ed64(0x3bf)]),new _0x194c78(_0x2e40c3[_0x31ed64(0x1ef)],_0x2d3997);}}async['count'](_0x67a722){const _0x134d14=_0x2f335d,_0x43b00b={'key':'','tableName':this[_0x134d14(0x3c1)],'action':_0x5c6370[_0x134d14(0x403)]};this['tableObserver'][_0x134d14(0x620)](_0x43b00b);try{_0x67a722&&(_0x67a722=_0x67a722 instanceof _0x4ba0c8?_0x67a722[_0x134d14(0x398)]():_0x4ba0c8[_0x134d14(0x3e0)](_0x67a722)[_0x134d14(0x398)]());}catch(_0x253b05){throw new _0x194c78(_0x2e40c3[_0x134d14(0x1ef)],_0x134d14(0x377));}try{return await this['connector'][_0x134d14(0x962)](_0x67a722);}catch(_0x2a40e1){let _0x15a101='Invalid\x20query';throw _0x2a40e1 instanceof Error&&(_0x15a101=_0x2a40e1['message']),new _0x194c78(_0x2e40c3[_0x134d14(0x1ef)],_0x15a101);}}[_0x2f335d(0x3be)](){return this['connector']['calculateSize']();}[_0x2f335d(0x504)](_0x43a2d5){const _0x46caa2=_0x2f335d;this[_0x46caa2(0xde)]=this[_0x46caa2(0x1cf)][_0x46caa2(0x504)](_0x43a2d5);}['unsubscribe'](){const _0x3d0be1=_0x2f335d;this[_0x3d0be1(0xde)]?.();}['publish'](_0x38f39e,_0x6a616c){const _0x438bdd=_0x2f335d,_0x5a878c=this[_0x438bdd(0x79c)](_0x38f39e,_0x6a616c);this[_0x438bdd(0x1cf)][_0x438bdd(0x620)](_0x5a878c);}[_0x2f335d(0x79c)](_0x188d36,_0x5da58b){const _0x30d601=_0x2f335d;let _0x2b16e7;switch(_0x188d36){case _0x5ad431['Add']:_0x2b16e7=_0x30d601(0xad);break;case _0x5ad431[_0x30d601(0x648)]:_0x2b16e7=_0x30d601(0x971);break;case _0x5ad431[_0x30d601(0x8c5)]:_0x2b16e7='delete';}return{'action':_0x2b16e7,'value':_0x5da58b};}[_0x2f335d(0x8a)](_0x4b9fcc){const _0x4a36fb=_0x2f335d;if(_0x4a36fb(0x663)!=typeof _0x4b9fcc||null===_0x4b9fcc)throw new _0x194c78(_0x2e40c3[_0x4a36fb(0x585)],_0x4a36fb(0x524));for(const _0x4eed8c in _0x4b9fcc){const _0xc8e449=_0x4b9fcc[_0x4eed8c];if('object'!=typeof _0xc8e449||_0xc8e449 instanceof Date){if(![_0x4a36fb(0x9d9),_0x4a36fb(0x47c),_0x4a36fb(0x7b0)][_0x4a36fb(0x4a7)](typeof _0xc8e449))throw new _0x194c78(_0x2e40c3[_0x4a36fb(0x585)],_0x4a36fb(0x94a)+_0x4eed8c+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x4a36fb(0x8a)](_0xc8e449);}}}class _0x28f664{[_0x2f335d(0x903)]=[];['totalNodes']=0x0;[_0x2f335d(0x6f1)]=[];[_0x2f335d(0x141)]=!0x1;[_0x2f335d(0x328)]=null;[_0x2f335d(0x756)]=null;['debounceLogTimeout'];[_0x2f335d(0x878)]=null;['readyPromises']=[];['debounceReadyTimeout'];[_0x2f335d(0x4e4)]=Promise['resolve']();['expectedTransactions']=0x0;constructor(){}get['ready'](){const _0x45e479=_0x2f335d;return this[_0x45e479(0x4e4)];}async[_0x2f335d(0x9b2)](_0x1509b6,_0x2026ed=0x0){const _0x1b62d4=_0x2f335d;this[_0x1b62d4(0x878)]||(this[_0x1b62d4(0x4e4)]=new Promise(_0x259124=>{this['readyResolve']=_0x259124;}),this[_0x1b62d4(0x74c)]=_0x2026ed);const _0x3a392d=Date[_0x1b62d4(0x449)]();if(this[_0x1b62d4(0x141)])return void this['transactionQueue'][_0x1b62d4(0x6e4)](_0x1509b6);this[_0x1b62d4(0x141)]=!0x0;let _0x1bc202={'hash':await this[_0x1b62d4(0x491)](_0x1509b6),'height':0x0};const _0x36ab31=this[_0x1b62d4(0x5eb)](_0x1bc202);this['readyPromises'][_0x1b62d4(0x6e4)](_0x36ab31),await _0x36ab31,this['totalNodes']+=0x1;const _0x4baf43=this['transactionQueue'][_0x1b62d4(0x39c)];for(;this[_0x1b62d4(0x6f1)][_0x1b62d4(0x39c)]>0x0;){const _0x1abb8a=this[_0x1b62d4(0x6f1)][_0x1b62d4(0x234)]();await this[_0x1b62d4(0x9b2)](_0x1abb8a);}this['debounceReady'](),await this[_0x1b62d4(0x814)],this[_0x1b62d4(0x810)](_0x3a392d,_0x4baf43);}async[_0x2f335d(0xca)](){const _0x24d5be=_0x2f335d;return await this[_0x24d5be(0x4e4)],this[_0x24d5be(0x141)]?(this['rootComputationPromise']||(this[_0x24d5be(0x756)]=this[_0x24d5be(0xb0)]()),await this[_0x24d5be(0x756)]):this[_0x24d5be(0x328)];}['getPeaks'](){const _0x2442af=_0x2f335d;return this[_0x2442af(0x903)][_0x2442af(0x3cd)](({hash:_0x20412a,height:_0x40db36})=>({'hash':_0x20412a,'height':_0x40db36}));}[_0x2f335d(0x533)](){const _0x432751=_0x2f335d;return this[_0x432751(0x6da)];}[_0x2f335d(0x9df)](_0x3049f2){const _0x25b66a=_0x2f335d;return this[_0x25b66a(0x903)]['find'](_0x51775c=>_0x51775c[_0x25b66a(0x2a0)]===_0x3049f2);}async['hashNodes'](_0x54cc62,_0x56b192){const _0x5e9c60=_0x2f335d;return await this[_0x5e9c60(0x2ae)](_0x54cc62+_0x56b192);}async[_0x2f335d(0x491)](_0x43b85f){const _0x5b8751=_0x2f335d;return await this['computeHash'](JSON[_0x5b8751(0x4ad)](_0x43b85f));}[_0x2f335d(0x6ca)](_0xb33e74){const _0xd49e71=_0x2f335d,_0x547eb1=this[_0xd49e71(0x7db)](),_0x285645=[],_0x1c620f=[],_0xf69d99=[];for(const _0x281f23 of _0x547eb1){const _0x303fd3=_0xb33e74[_0xd49e71(0x29d)](_0x294222=>_0x294222[_0xd49e71(0x2a0)]===_0x281f23[_0xd49e71(0x2a0)]);_0x303fd3?_0x281f23[_0xd49e71(0x2c4)]!==_0x303fd3['hash']&&_0x285645[_0xd49e71(0x6e4)]({'height':_0x281f23[_0xd49e71(0x2a0)],'localPeak':_0x281f23,'remotePeak':_0x303fd3}):_0x1c620f[_0xd49e71(0x6e4)](_0x281f23);}for(const _0x4c4aaa of _0xb33e74)_0x547eb1[_0xd49e71(0x29d)](_0x429225=>_0x429225[_0xd49e71(0x2a0)]===_0x4c4aaa['height'])||_0xf69d99[_0xd49e71(0x6e4)](_0x4c4aaa);return{'differingPeaks':_0x285645,'peaksMissingInRemote':_0x1c620f,'peaksMissingInLocal':_0xf69d99};}async[_0x2f335d(0xb0)](){const _0x4308a2=_0x2f335d;this[_0x4308a2(0x141)]=!0x0;const _0x5c4fa1=this['peaks'][_0x4308a2(0x3cd)](_0x3b1d9a=>_0x3b1d9a[_0x4308a2(0x2c4)]);return this[_0x4308a2(0x328)]=await this[_0x4308a2(0x764)](_0x5c4fa1),this[_0x4308a2(0x141)]=!0x1,this[_0x4308a2(0x756)]=null,this[_0x4308a2(0x9a6)](),this['cachedRoot'];}async[_0x2f335d(0x2ae)](_0x2eba73){const _0xaa79cc=_0x2f335d;try{const _0x271df6=new TextEncoder()[_0xaa79cc(0x8a8)](_0x2eba73),_0x2f6630=await crypto['subtle'][_0xaa79cc(0x736)](_0xaa79cc(0x54a),_0x271df6);return Array[_0xaa79cc(0x2ce)](new Uint8Array(_0x2f6630))[_0xaa79cc(0x3cd)](_0x41d9e8=>_0x41d9e8['toString'](0x10)['padStart'](0x2,'0'))[_0xaa79cc(0x67e)]('');}catch(_0x667f3e){return console[_0xaa79cc(0x646)]('Hash\x20computation\x20failed,\x20retrying...',_0x667f3e),this[_0xaa79cc(0x2ae)](_0x2eba73);}}async['hashPeakHashes'](_0x146ea6){return await this['computeHash'](_0x146ea6['join'](''));}async[_0x2f335d(0x5eb)](_0x37ed02){const _0x51ae8f=_0x2f335d;for(;this[_0x51ae8f(0x903)][_0x51ae8f(0x39c)]>0x0&&this[_0x51ae8f(0x903)][this[_0x51ae8f(0x903)][_0x51ae8f(0x39c)]-0x1][_0x51ae8f(0x2a0)]===_0x37ed02[_0x51ae8f(0x2a0)];){const _0x5437c4=this[_0x51ae8f(0x903)][_0x51ae8f(0x882)]();_0x37ed02={'hash':await this[_0x51ae8f(0x5b5)](_0x5437c4[_0x51ae8f(0x2c4)],_0x37ed02[_0x51ae8f(0x2c4)]),'left':_0x5437c4,'right':_0x37ed02,'height':_0x37ed02[_0x51ae8f(0x2a0)]+0x1};}this['peaks'][_0x51ae8f(0x6e4)](_0x37ed02),await this['recomputeRoot']();}['debounceAppendLog'](_0xdc629c,_0x242c1c){const _0x2e8452=_0x2f335d;if(!_0x5a023b[_0x2e8452(0x70a)](_0x4abdbe[_0x2e8452(0x370)]))return;this[_0x2e8452(0x7ad)]&&clearTimeout(this[_0x2e8452(0x7ad)]);const _0x253c1e=Date[_0x2e8452(0x449)]();this[_0x2e8452(0x7ad)]=setTimeout(()=>_0x5a023b[_0x2e8452(0x6fb)](_0x4abdbe['KeyValueDatabase'],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x2e8452(0x328)],_0x2e8452(0x32e),this[_0x2e8452(0x533)](),'queueLength',_0x242c1c,_0x2e8452(0x9af),_0x253c1e-_0xdc629c),0x7d0);}[_0x2f335d(0x9a6)](){const _0xc3e2fd=_0x2f335d;this[_0xc3e2fd(0x5ba)]&&clearTimeout(this[_0xc3e2fd(0x5ba)]),this[_0xc3e2fd(0x5ba)]=setTimeout(async()=>{const _0x5c1866=_0xc3e2fd;try{const _0x24b152=this['readyPromises'];if(this['readyPromises']=[],await Promise[_0x5c1866(0x415)](_0x24b152),this[_0x5c1866(0x74c)]-=_0x24b152[_0x5c1866(0x39c)],this[_0x5c1866(0x2aa)][_0x5c1866(0x39c)]>0x0||this[_0x5c1866(0x74c)]>0x0)return this[_0x5c1866(0x9a6)]();this[_0x5c1866(0x878)]&&(this[_0x5c1866(0x878)](),this[_0x5c1866(0x878)]=null),this[_0x5c1866(0x4e4)]=Promise[_0x5c1866(0x6b3)](),this[_0x5c1866(0x141)]=!0x1;}catch(_0x5da0e8){console['error']('Error\x20resolving\x20readyPromises:',_0x5da0e8);}},0xa);}}const _0x3c077c=['PeerConnection',_0x2f335d(0x3f3),_0x2f335d(0x109),_0x2f335d(0x378),_0x2f335d(0x49a),_0x2f335d(0x7de),_0x2f335d(0x9dd)],_0x507032=[[_0x2f335d(0x571),_0x2f335d(0x7f2),_0x2f335d(0x195),_0x2f335d(0x5aa),_0x2f335d(0x582),'Restart',_0x2f335d(0x69d),_0x2f335d(0x49a),_0x2f335d(0x819)],['NodeJoin',_0x2f335d(0x881),'NodeConnectionsUpdate',_0x2f335d(0x840)],[_0x2f335d(0x848),_0x2f335d(0x8ab),_0x2f335d(0x579),_0x2f335d(0xcf),_0x2f335d(0x308),_0x2f335d(0x23e),_0x2f335d(0x50f),'ClosePubSubTopic','CloseVectorDatabase',_0x2f335d(0x6e1),_0x2f335d(0x478),_0x2f335d(0x23d),_0x2f335d(0x5a2),_0x2f335d(0x55b),_0x2f335d(0x58d),_0x2f335d(0x2cf),_0x2f335d(0x521),'KeyValueDatabaseSendTransactions',_0x2f335d(0x84e),_0x2f335d(0x31f),_0x2f335d(0x8d0),_0x2f335d(0x3ae),_0x2f335d(0x80d),_0x2f335d(0x40f),_0x2f335d(0x812),_0x2f335d(0x9c7),'UnpublishMediaStream','UnsubscribeMediaStream',_0x2f335d(0x431),_0x2f335d(0x678)],[_0x2f335d(0x9c7),_0x2f335d(0x431),'UnsubscribeMediaStreamdiaStream',_0x2f335d(0x7ba),_0x2f335d(0x306),_0x2f335d(0x584)],['StreamReport',_0x2f335d(0x2eb)],[_0x2f335d(0xb7)],[_0x2f335d(0x9dd),_0x2f335d(0x55c)]];function _0x382246(_0x38f4e6){const _0x5f12db=_0x2f335d;return{..._0x38f4e6,'systemMessageType':_0x3c077c[_0x38f4e6['messageType']],'systemContentMessageType':_0x507032[_0x38f4e6[_0x5f12db(0x8ac)]][_0x38f4e6[_0x5f12db(0x569)][_0x5f12db(0x4e7)]]};}const _0x240ed6={'hour':'2-digit','minute':_0x2f335d(0x169),'second':_0x2f335d(0x169)};function _0x40388b(_0x43ab69,_0x592838){const _0x31d3bd=_0x2f335d,_0x21e55c=(function(){const _0x32ad3=a0_0x2fcc,_0x46ce9c=new Date(),_0x215a33=_0x46ce9c['getMilliseconds'](),_0x5dbdcc=_0x46ce9c[_0x32ad3(0x8a7)](_0x32ad3(0x45b),_0x240ed6)[_0x32ad3(0x53a)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x5dbdcc+'.'+(_0x215a33>0x64?''+_0x215a33:_0x215a33>0xa?'0'+_0x215a33:'00'+_0x215a33);}()),{sourceId:_0x5ecee0,destinationIds:_0x12b251,systemMessageType:_0x451914,systemContentMessageType:_0x2335dd}=_0x382246(_0x43ab69);return _0x21e55c+_0x31d3bd(0x664)+_0x592838+'\x20-\x20'+(_0x5ecee0===_0x592838?_0x31d3bd(0x299)+_0x451914+_0x31d3bd(0x8f5)+(_0x12b251?''+_0x12b251:_0x31d3bd(0x716)):_0x43ab69[_0x31d3bd(0x1cc)]===_0x46e5ac?'Internal\x20event\x20\x27'+_0x451914+'\x27':(_0x12b251?'':_0x31d3bd(0x5f4))+'Receiving\x20\x27'+_0x451914+_0x31d3bd(0x907)+_0x5ecee0)+_0x31d3bd(0x13c)+_0x2335dd+'\x27\x20payload:';}function _0x504a1d(_0xa2276,_0xbd535c){const _0x321152=_0x2f335d;if(!_0x5a023b[_0x321152(0x70a)](_0xa2276))return;if(_0x4dc50e[_0x321152(0x405)])return;if(_0x321152(0x931)==typeof process)return;const _0x51388c=process[_0x321152(0x88e)]();console[_0x321152(0x6fb)](_0x321152(0x667)+_0xbd535c+':');for(const _0x22a95a in _0x51388c)console[_0x321152(0x6fb)]('\x20\x20'+_0x22a95a+':\x20'+(_0x51388c[_0x22a95a]/0x400/0x400)[_0x321152(0x292)](0x2)+_0x321152(0x1be));}function _0x26e4a0(_0xc4b3dc,_0x46f3fd){const _0xbf0467=_0x2f335d;if(!_0x5a023b[_0xbf0467(0x70a)](_0x46f3fd))return _0x5a023b[_0xbf0467(0x7e5)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x46f3fd),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x20ffcb,_0x16af19)=>_0x16af19}};let _0x4b7d86=0x0;return{'timingLogger':((()=>{const _0x28c57a=_0xbf0467;let _0x2ba4b2=Date['now']();return{'start':()=>{const _0x1326b4=a0_0x2fcc;_0x2ba4b2=Date[_0x1326b4(0x449)]();},'now':()=>Date[_0x28c57a(0x449)](),'logWaitTime':_0x4fd3e8=>{const _0x3ebd18=_0x28c57a;_0x4b7d86+=Date[_0x3ebd18(0x449)]()-_0x2ba4b2,_0x5a023b[_0x3ebd18(0x6fb)](_0x46f3fd,_0x4fd3e8,_0x4b7d86+'ms',_0xc4b3dc);}};})()),'logger':{'log':(_0x55814e,_0x323621=()=>{})=>{const _0x2de0b6=_0xbf0467,_0x81214c=_0x323621();_0x81214c?_0x5a023b[_0x2de0b6(0x6fb)](_0x46f3fd,_0x55814e,_0x81214c,_0xc4b3dc):_0x5a023b['log'](_0x46f3fd,_0x55814e,_0xc4b3dc);},'performCalculation':(_0x209119,_0x1dda54)=>_0x209119()}};}function _0x57eaf2(_0x462212){const _0x33acee=_0x2f335d;return _0x33acee(0x931)==typeof Buffer?0x0:Buffer[_0x33acee(0x422)](JSON[_0x33acee(0x4ad)](_0x462212),'utf8');}function _0x354c88(_0x5b324e){const _0x2641a0=_0x2f335d;if(0x0===_0x5b324e)return _0x2641a0(0x5da);const _0x2df618=Math[_0x2641a0(0x934)](Math[_0x2641a0(0x6fb)](_0x5b324e)/Math[_0x2641a0(0x6fb)](0x400));return parseFloat((_0x5b324e/Math[_0x2641a0(0x501)](0x400,_0x2df618))['toFixed'](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x2df618];}class _0x41f8bd extends _0x56016a{['localNode'];[_0x2f335d(0x49c)];[_0x2f335d(0xa5)];[_0x2f335d(0x5e6)];['db'];[_0x2f335d(0x161)];[_0x2f335d(0x5fc)]=new Map();['tableObserver'];[_0x2f335d(0xdb)];[_0x2f335d(0x4fb)];['isSync'];['syncResolve'];[_0x2f335d(0x279)]=[];[_0x2f335d(0x77b)]=()=>{};['syncTimeout'];[_0x2f335d(0x1cf)]=_0x245a70();[_0x2f335d(0xde)];[_0x2f335d(0x6f9)]=[];[_0x2f335d(0x7ca)];['debounceStats'];['writes']=0x0;[_0x2f335d(0x565)]=0x0;[_0x2f335d(0x652)]=!0x1;[_0x2f335d(0x727)]=new _0x28f664();['transactionHashMap']=new Map();['transactions']=[];[_0x2f335d(0x803)];[_0x2f335d(0x5ea)]=[];[_0x2f335d(0x3a7)];constructor(_0x1e4fab,_0x8f533e,_0x1a7c46,_0x35a077,_0x406127,_0x2991f8,_0x58facf){const _0x5cb647=_0x2f335d;if('string'!=typeof _0x8f533e)throw new _0x194c78(_0x2e40c3[_0x5cb647(0x4ca)],_0x5cb647(0x7fa));if(super(_0x1e4fab,_0x8f533e),this[_0x5cb647(0x6c3)]=_0x1e4fab,this['clusterId']=_0x1a7c46,this['vendorId']=_0x35a077,this[_0x5cb647(0x5e6)]=_0x58facf,this[_0x5cb647(0x161)]='ccc'+this[_0x5cb647(0xa5)]+_0x5cb647(0x8e5)+this[_0x5cb647(0x49c)]+'ccc'+this[_0x5cb647(0x2b4)],this['tableObserver']=_0x245a70(),this[_0x5cb647(0x3a7)]=function(_0x34debf,_0x60fef9){const _0x105dbc=_0x5cb647;if(!_0x5a023b[_0x105dbc(0x70a)](_0x60fef9))return _0x5a023b[_0x105dbc(0x7e5)](_0x105dbc(0x94f)+_0x60fef9),{..._0x26e4a0(_0x34debf,_0x60fef9),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x105dbc(0x5da),'dataReceived':_0x105dbc(0x5da)})};const {timingLogger:_0x1d9142,logger:_0x2acf52}=_0x26e4a0(_0x34debf,_0x60fef9);let _0x20a21a=0x0,_0x58fee3=0x0;return{'timingLogger':_0x1d9142,'logger':_0x2acf52,'logDataSent':(_0x567ae3,_0x50e0e8=!0x1)=>{const _0x5d829d=_0x105dbc,_0x1af37e=_0x57eaf2(_0x567ae3);return _0x50e0e8&&_0x5a023b['log'](_0x60fef9,_0x5d829d(0x34b),_0x34debf,_0x1af37e),_0x20a21a+=_0x1af37e,_0x1af37e;},'logDataReceived':(_0x24d8a1,_0x397296=!0x1)=>{const _0x54fbc2=_0x105dbc,_0x2bec56=_0x57eaf2(_0x24d8a1);return _0x397296&&_0x5a023b[_0x54fbc2(0x6fb)](_0x60fef9,'Data\x20Received',_0x34debf,_0x2bec56),_0x58fee3+=_0x2bec56,_0x2bec56;},'getDataLogged':()=>({'dataSent':_0x354c88(_0x20a21a),'dataReceived':_0x354c88(_0x58fee3)})};}(this[_0x5cb647(0x2b4)],_0x4abdbe[_0x5cb647(0x370)]),this[_0x5cb647(0x823)]=new Promise(_0x5e8651=>{this['syncResolve']=_0x5e8651;}),_0x406127 instanceof _0xe47ebe)this[_0x5cb647(0x7ca)]=_0x406127[_0x5cb647(0x743)]();else{const [_0x91fd83,_0x140b46]=_0xe47ebe['validateLayout'](_0x406127);if(!_0x91fd83)throw new _0x194c78(_0x2e40c3['KeyValueDatabaseInvalidLayout'],_0x5cb647(0x9c1)+_0x140b46);this[_0x5cb647(0x7ca)]=structuredClone(_0x406127);}this[_0x5cb647(0x4b3)](this[_0x5cb647(0x7ca)]),this['db']=new _0x2991f8(this['dbKey'],this[_0x5cb647(0x7ca)]),this[_0x5cb647(0x938)]();}async[_0x2f335d(0x619)](_0x43d91c,_0x2f455d){const _0x1bdce1=_0x2f335d;if(_0x5a023b[_0x1bdce1(0x6fb)](_0x4abdbe[_0x1bdce1(0x370)],_0x1bdce1(0x44f),this[_0x1bdce1(0x2b4)]),!this[_0x1bdce1(0xdb)])throw new _0x315451(_0x315451[_0x1bdce1(0x600)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x1bdce1(0x823)],await this[_0x1bdce1(0x5e6)](_0x43d91c),await this[_0x1bdce1(0x727)][_0x1bdce1(0xca)]()===_0x2f455d){const _0x2d27d4={'sourceId':this[_0x1bdce1(0x6c3)][_0x1bdce1(0x92c)](),'destinationIds':[_0x43d91c],'propagate':!0x0,'messageType':_0x4ba688[_0x1bdce1(0x109)],'content':{'type':_0x314d98[_0x1bdce1(0x58d)],'label':this[_0x1bdce1(0x2b4)],'mmrRoot':_0x2f455d}};return this['loggingCycle'][_0x1bdce1(0x9d1)](_0x2d27d4),void this[_0x1bdce1(0x57e)]['publish'](_0x2d27d4);}const _0x39c00d=this[_0x1bdce1(0x727)][_0x1bdce1(0x7db)](),_0x5d335f={'sourceId':this[_0x1bdce1(0x6c3)]['getId'](),'destinationIds':[_0x43d91c],'propagate':!0x0,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98[_0x1bdce1(0x55b)],'label':this[_0x1bdce1(0x2b4)],'peaks':_0x39c00d}};this[_0x1bdce1(0x3a7)]['logDataSent'](_0x5d335f),this['systemTopic'][_0x1bdce1(0x620)](_0x5d335f);}async['processContentSynchronized'](_0x27c15e,_0x237930){const _0x51948b=_0x2f335d,_0x15749f=await this['mmr'][_0x51948b(0xca)](),_0x127521=_0x15749f===_0x237930;if(_0x5a023b[_0x51948b(0x6fb)](_0x4abdbe[_0x51948b(0x370)],_0x51948b(0x2e4)+_0x27c15e+_0x51948b(0x746)+_0x127521,this[_0x51948b(0x2b4)]),_0x127521)return this['clearSyncTimeout'](),void this[_0x51948b(0x19c)]();_0x5a023b[_0x51948b(0x6fb)](_0x4abdbe[_0x51948b(0x370)],_0x51948b(0x1f3),_0x15749f,_0x237930),_0x5a023b[_0x51948b(0x80f)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0x51948b(0x6c3)]['getId'](),'nodeType':this[_0x51948b(0x6c3)][_0x51948b(0x4e7)],'remoteId':_0x27c15e,'data':{'localMMRRoot':_0x15749f,'remoteMMRRoot':_0x237930}});const _0x4d0e98={'sourceId':this[_0x51948b(0x6c3)][_0x51948b(0x92c)](),'messageType':_0x4ba688[_0x51948b(0x109)],'propagate':!0x0,'content':{'type':_0x314d98[_0x51948b(0x31f)],'label':this[_0x51948b(0x2b4)],'mmrRoot':_0x15749f}};this[_0x51948b(0x57e)]['publish'](_0x4d0e98);}async[_0x2f335d(0x17e)](_0x49a83c,_0x3797a6){const _0x599d97=_0x2f335d;if(_0x5a023b['log'](_0x4abdbe['KeyValueDatabase'],_0x599d97(0x428),_0x49a83c,_0x599d97(0x2b4),this[_0x599d97(0x2b4)],_0x599d97(0x903),_0x3797a6),this[_0x599d97(0x652)])return;this[_0x599d97(0x652)]=!0x0,this[_0x599d97(0x286)]();const {differingPeaks:_0x3356be,peaksMissingInLocal:_0x2d4900,peaksMissingInRemote:_0x4f1990}=this[_0x599d97(0x727)][_0x599d97(0x6ca)](_0x3797a6);_0x5a023b[_0x599d97(0x6fb)](_0x4abdbe[_0x599d97(0x370)],_0x599d97(0x2f2),{'differingPeaks':_0x3356be,'peaksMissingInLocal':_0x2d4900,'peaksMissingInRemote':_0x4f1990});const _0x49ee76={'sourceId':this[_0x599d97(0x6c3)]['getId'](),'destinationIds':[_0x49a83c],'propagate':!0x0,'messageType':_0x4ba688[_0x599d97(0x109)],'content':{'type':_0x314d98[_0x599d97(0x2cf)],'label':this['label'],'peakHeights':_0x2d4900[_0x599d97(0x3cd)](_0x1e3d33=>_0x1e3d33[_0x599d97(0x2a0)])[_0x599d97(0x269)](_0x3356be[_0x599d97(0x3cd)](_0x54768d=>_0x54768d[_0x599d97(0x2a0)]))}};if(this[_0x599d97(0x57e)]['publish'](_0x49ee76),_0x3356be[_0x599d97(0x39c)]>0x0||_0x4f1990[_0x599d97(0x39c)]>0x0){const _0x403f47=_0x4f1990[_0x599d97(0x3cd)](_0x38f6cc=>_0x38f6cc['height'])[_0x599d97(0x269)](_0x3356be[_0x599d97(0x3cd)](_0xacc316=>_0xacc316[_0x599d97(0x2a0)]));await this[_0x599d97(0x285)](_0x49a83c,_0x403f47,!0x0);}}async[_0x2f335d(0x285)](_0x49db82,_0x12d9c5,_0x21abee=!0x1){const _0x5c3eff=_0x2f335d;_0x5a023b[_0x5c3eff(0x6fb)](_0x4abdbe[_0x5c3eff(0x370)],_0x5c3eff(0x4ea),this[_0x5c3eff(0x2b4)]);const _0x3e22dc=_0x12d9c5[_0x5c3eff(0x3cd)](_0x4a0fa7=>this[_0x5c3eff(0x727)][_0x5c3eff(0x9df)](_0x4a0fa7))[_0x5c3eff(0x379)](Boolean);if(!_0x3e22dc[_0x5c3eff(0x39c)]||_0x12d9c5['length']!==_0x3e22dc[_0x5c3eff(0x39c)])throw new _0x315451(_0x315451[_0x5c3eff(0x600)][_0x5c3eff(0x89)],{'message':_0x5c3eff(0x2d1),'peakHeights':_0x12d9c5,'peaks':_0x3e22dc[_0x5c3eff(0x3cd)](_0x294668=>_0x294668[_0x5c3eff(0x2a0)]),'nodeId':_0x49db82});const _0x23a27a=[];for(const _0x3c3f9a of _0x3e22dc)this[_0x5c3eff(0x79a)](_0x3c3f9a,_0x23a27a);const _0x2f7d7d=_0x21abee?void 0x0:[_0x49db82],_0x1fab9f={'sourceId':this[_0x5c3eff(0x6c3)]['getId'](),'destinationIds':_0x2f7d7d,'messageType':_0x4ba688[_0x5c3eff(0x109)],'propagate':!0x0,'content':{'type':_0x314d98[_0x5c3eff(0x9d8)],'label':this[_0x5c3eff(0x2b4)],'transactions':_0x23a27a}};this['loggingCycle'][_0x5c3eff(0x9d1)](_0x1fab9f),this[_0x5c3eff(0x57e)][_0x5c3eff(0x620)](_0x1fab9f);}async[_0x2f335d(0x3d7)](_0xcbb28c,_0x3c7cbd){const _0x3a40bf=_0x2f335d;_0x5a023b[_0x3a40bf(0x6fb)](_0x4abdbe['KeyValueDatabase'],'Received\x20'+_0x3c7cbd[_0x3a40bf(0x39c)]+_0x3a40bf(0xbc)+_0xcbb28c+_0x3a40bf(0x664)+this[_0x3a40bf(0x2b4)]);for(const _0x9debe7 of _0x3c7cbd){const _0x5b02bd=await this[_0x3a40bf(0xdb)][_0x3a40bf(0x389)](_0x9debe7['id']);if(!(_0x5b02bd&&this[_0x3a40bf(0x99d)](_0x5b02bd,_0x9debe7)>=0x0)){if(_0x9debe7[_0x3a40bf(0x2ef)]===_0x5ad431[_0x3a40bf(0x8c5)]){const [_0x1af942,_0x3005ce]=_0x9debe7['id'][_0x3a40bf(0x187)]('::'),_0x32e831=this[_0x3a40bf(0x33a)](_0x1af942);await _0x32e831[_0x3a40bf(0x2ee)](_0x3005ce);}else this[_0x3a40bf(0x279)][_0x3a40bf(0x6e4)](_0x9debe7['id']);}}if(_0x5a023b[_0x3a40bf(0x6fb)](_0x4abdbe['KeyValueDatabase'],_0x3a40bf(0x166)+this[_0x3a40bf(0x279)][_0x3a40bf(0x39c)]+'\x20new\x20transactions',this[_0x3a40bf(0x2b4)]),this[_0x3a40bf(0x279)][_0x3a40bf(0x39c)]>0x0){const _0x304529={'sourceId':this[_0x3a40bf(0x6c3)][_0x3a40bf(0x92c)](),'destinationIds':[_0xcbb28c],'messageType':_0x4ba688[_0x3a40bf(0x109)],'propagate':!0x0,'content':{'type':_0x314d98[_0x3a40bf(0x521)],'label':this[_0x3a40bf(0x2b4)],'transactionIds':this[_0x3a40bf(0x279)]}};this[_0x3a40bf(0x3a7)][_0x3a40bf(0x9d1)](_0x304529),this[_0x3a40bf(0x57e)][_0x3a40bf(0x620)](_0x304529);}}[_0x2f335d(0x2fe)](){const _0x2165d4=_0x2f335d;this[_0x2165d4(0x938)]();}['getContentType'](){const _0x45782b=_0x2f335d;return _0x47407f[_0x45782b(0x1e9)]['KeyValueDatabase'];}[_0x2f335d(0x7f0)](){const _0x227c9c=_0x2f335d;this['db'][_0x227c9c(0x476)](),this[_0x227c9c(0x4fb)]?.(),clearTimeout(this['debounceStats']),delete this[_0x227c9c(0x7a1)],super[_0x227c9c(0x7f0)]();}[_0x2f335d(0x476)](){const _0x196676=_0x2f335d;this[_0x196676(0x286)](),this['systemTopic']['publish']({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x196676(0x109)],'content':{'type':_0x314d98[_0x196676(0x308)],'label':this[_0x196676(0x2b4)]}});}[_0x2f335d(0x33a)](_0x4fe28a){const _0x2fb7d6=_0x2f335d,_0xff4927=this['tables']['get'](_0x4fe28a);if(_0xff4927)return _0xff4927;try{if(!this['db'][_0x2fb7d6(0x1ba)](_0x4fe28a))throw new _0x194c78(_0x2e40c3[_0x2fb7d6(0x7cf)],'Table\x20not\x20found');const _0x33cd2f=new _0x215c4a(this['db'][_0x2fb7d6(0x72a)](_0x4fe28a),_0x4fe28a,this[_0x2fb7d6(0x910)]);return this[_0x2fb7d6(0x5fc)][_0x2fb7d6(0x120)](_0x4fe28a,_0x33cd2f),{'get':_0x33cd2f[_0x2fb7d6(0x389)][_0x2fb7d6(0x1b9)](_0x33cd2f),'set':_0x33cd2f[_0x2fb7d6(0x120)][_0x2fb7d6(0x1b9)](_0x33cd2f),'add':_0x33cd2f['add']['bind'](_0x33cd2f),'delete':_0x33cd2f[_0x2fb7d6(0x2ee)][_0x2fb7d6(0x1b9)](_0x33cd2f),'clear':_0x33cd2f['clear'][_0x2fb7d6(0x1b9)](_0x33cd2f),'list':_0x33cd2f[_0x2fb7d6(0x684)]['bind'](_0x33cd2f),'count':_0x33cd2f[_0x2fb7d6(0x962)][_0x2fb7d6(0x1b9)](_0x33cd2f),'subscribe':_0x33cd2f['subscribe']['bind'](_0x33cd2f),'unsubscribe':_0x33cd2f[_0x2fb7d6(0x5be)]['bind'](_0x33cd2f)};}catch(_0x1d9583){if(_0x1d9583 instanceof _0x194c78)throw _0x1d9583;throw new _0x194c78(_0x2e40c3[_0x2fb7d6(0x133)],_0x2fb7d6(0x85a));}}[_0x2f335d(0x504)](_0x56d28d){const _0x26bbb4=_0x2f335d;this[_0x26bbb4(0xde)]=this[_0x26bbb4(0x1cf)][_0x26bbb4(0x504)](_0x56d28d),this[_0x26bbb4(0x531)](this['isSync'])[_0x26bbb4(0x789)](_0x14ca40=>{const _0xfb74b9=_0x26bbb4;_0x14ca40&&this['eventListener'][_0xfb74b9(0x620)]({'event':_0x47407f[_0xfb74b9(0x8b6)][_0xfb74b9(0x2f0)]});});}[_0x2f335d(0x5be)](){const _0x2058ac=_0x2f335d;this[_0x2058ac(0xde)]?.(),this[_0x2058ac(0xde)]=void 0x0;}async[_0x2f335d(0x8d6)](){const _0x289d58=_0x2f335d;_0x504a1d(_0x4abdbe[_0x289d58(0x370)],_0x289d58(0x8c6));const _0x125b27=[_0x3af0c0,_0x4c7d9d],_0x2f9bbb=[];try{await this['db'][_0x289d58(0x8d6)]();const _0x2349ea=this['db'][_0x289d58(0x72a)](_0x4c7d9d),_0x54d793=await _0x2349ea[_0x289d58(0x684)](),{id:_0x1e88e2,layout:_0x38754d}=_0x54d793[0x0]??{};if(_0x38754d){for(const _0x547c7e in _0x38754d)_0x125b27[_0x289d58(0x4a7)](_0x547c7e)||this['db']['hasTable'](_0x547c7e)||_0x2f9bbb[_0x289d58(0x6e4)](_0x547c7e);await _0x2349ea[_0x289d58(0x120)](_0x1e88e2,{'layout':this[_0x289d58(0x7ca)]});}else await _0x2349ea[_0x289d58(0xad)]({'layout':this[_0x289d58(0x7ca)]});}catch(_0x315642){throw new _0x194c78(_0x2e40c3[_0x289d58(0x133)],_0x315642[_0x289d58(0x3bf)]||_0x289d58(0x5a4));}this[_0x289d58(0x2ca)](),await this[_0x289d58(0x4fa)](),this[_0x289d58(0x30a)](),this[_0x289d58(0x2a7)](),_0x2f9bbb['forEach'](_0x55f0c7=>this['deleteTransactionsForTable'](_0x55f0c7));}async[_0x2f335d(0x440)](_0x377855,_0x2cf8ca=()=>{},_0x350eaf=!0x1){const _0x108ea1=_0x2f335d;if(!_0x377855)return setTimeout(()=>{const _0x4eeb8b=a0_0x2fcc;this[_0x4eeb8b(0x286)](),this[_0x4eeb8b(0x19c)]();},0x0),!0x0;if(this[_0x108ea1(0x652)]=!0x1,this[_0x108ea1(0x77b)]=_0x2cf8ca,this['syncTimeout']=setTimeout(_0x2cf8ca,0x7d0),!this[_0x108ea1(0x57e)])throw new _0x315451(_0x315451[_0x108ea1(0x600)][_0x108ea1(0x8c3)]);const _0x5872cc=await this[_0x108ea1(0x727)]['getRoot'](),_0xf3bea6={'sourceId':this['localNode'][_0x108ea1(0x92c)](),'messageType':_0x4ba688[_0x108ea1(0x109)],'propagate':_0x350eaf,'content':{'type':_0x314d98['KeyValueDatabaseSyncRequired'],'label':this[_0x108ea1(0x2b4)],'mmrRoot':_0x5872cc}};return this['loggingCycle'][_0x108ea1(0x9d1)](_0xf3bea6),this[_0x108ea1(0x57e)][_0x108ea1(0x620)](_0xf3bea6),this['isSync'];}async['sendTransactionsValue'](_0x5e8485,_0x274c16){const _0x4755dc=_0x2f335d;if(_0x5a023b['log'](_0x4abdbe[_0x4755dc(0x370)],_0x4755dc(0x51e)+_0x274c16[_0x4755dc(0x39c)],this[_0x4755dc(0x2b4)]),!this[_0x4755dc(0xdb)])throw new _0x315451(_0x315451[_0x4755dc(0x600)][_0x4755dc(0x82c)]);for(const _0x463c77 of _0x274c16){const _0xf7ffe0=await this[_0x4755dc(0xdb)][_0x4755dc(0x389)](_0x463c77);if(!_0xf7ffe0)continue;const [_0x5e0576,_0x3222b8]=_0x463c77[_0x4755dc(0x187)]('::'),_0x3439dc=this[_0x4755dc(0x33a)](_0x5e0576),_0x369aab=await _0x3439dc[_0x4755dc(0x389)](_0x3222b8);_0x369aab?(_0xf7ffe0[_0x4755dc(0x98e)]=_0x369aab,this[_0x4755dc(0x869)](_0xf7ffe0,[_0x5e8485])):_0x5a023b[_0x4755dc(0x80f)]('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this[_0x4755dc(0x6c3)][_0x4755dc(0x92c)](),'nodeType':this[_0x4755dc(0x6c3)][_0x4755dc(0x4e7)],'remoteId':_0x5e8485,'data':{'tableKeys':Object[_0x4755dc(0x502)](this[_0x4755dc(0x5fc)]),'transactionId':_0x463c77,'transactions':this['transactionsToSync'],'tableName':_0x5e0576,'key':_0x3222b8}});}}async[_0x2f335d(0x4c5)](_0x517572){const _0x4e5568=_0x2f335d;if(!this[_0x4e5568(0xdb)])throw new _0x315451(_0x315451[_0x4e5568(0x600)][_0x4e5568(0x82c)]);const _0x1f4175=await this[_0x4e5568(0x727)][_0x4e5568(0x491)](_0x517572),_0x47bbfc=this['transactionHashMap'][_0x4e5568(0x389)](_0x1f4175);if(_0x47bbfc&&this[_0x4e5568(0x99d)](_0x517572,_0x47bbfc)<=0x0)return void _0x5a023b[_0x4e5568(0x6fb)](_0x4abdbe[_0x4e5568(0x370)],_0x4e5568(0x7a3),_0x517572);const _0x42fac9={..._0x517572};return delete _0x42fac9[_0x4e5568(0x98e)],this[_0x4e5568(0x33c)](_0x42fac9),await this['transactionTable'][_0x4e5568(0x120)](_0x517572['id'],_0x42fac9),_0x517572;}[_0x2f335d(0x99d)](_0x3868a7,_0x2d2948){const _0x8c9b60=_0x2f335d;return _0x3868a7['timestamp']!==_0x2d2948[_0x8c9b60(0x5c9)]?_0x3868a7[_0x8c9b60(0x5c9)]-_0x2d2948[_0x8c9b60(0x5c9)]:_0x3868a7['priority']-_0x2d2948['priority'];}async[_0x2f335d(0x875)](_0x3664c0){const _0x1e56d8=_0x2f335d;if(!this['transactionTable'])throw new _0x315451(_0x315451['codes'][_0x1e56d8(0x82c)]);const _0x3dd182=_0x3664c0[_0x1e56d8(0x3c1)]+'::'+_0x3664c0[_0x1e56d8(0x868)],_0x2f3a95=await _0x2825b2[_0x1e56d8(0x5b2)](),_0x1d5bba={'id':_0x3dd182,'priority':Math[_0x1e56d8(0xe5)](),'timestamp':_0x2f3a95,'action':_0x3664c0['action']};if(await this[_0x1e56d8(0x4c5)](_0x1d5bba))return _0x1d5bba;}async[_0x2f335d(0x2c8)](_0x1ff32e){const _0x4c2cd5=_0x2f335d;if(!this[_0x4c2cd5(0xdb)])throw new _0x315451(_0x315451[_0x4c2cd5(0x600)][_0x4c2cd5(0x82c)]);const _0x3e90ed=_0x4ba0c8[_0x4c2cd5(0x94e)]('id')[_0x4c2cd5(0x2f3)](_0x4c2cd5(0x852),[_0x1ff32e+'::',_0x1ff32e+_0x4c2cd5(0x52a)]),_0x36f3dc=await this[_0x4c2cd5(0xdb)][_0x4c2cd5(0x684)](_0x3e90ed[_0x4c2cd5(0x398)]());for(const _0x340f03 of _0x36f3dc)await this[_0x4c2cd5(0xdb)][_0x4c2cd5(0x2ee)](_0x340f03['id']);}[_0x2f335d(0x30a)](){this['onMessage'](async(_0x577ad0,_0x293b6b)=>{const _0x10bad4=a0_0x2fcc;if(_0x293b6b instanceof File)return;if(this[_0x10bad4(0x3a7)][_0x10bad4(0x461)](_0x293b6b),!await this['writeTransaction'](_0x293b6b))return void this[_0x10bad4(0x8fa)](_0x577ad0,_0x293b6b);if(!_0x293b6b[_0x10bad4(0x98e)])throw new _0x315451(_0x315451[_0x10bad4(0x600)][_0x10bad4(0x90a)]);const [_0x17d783,_0x1a6d43]=_0x293b6b['id'][_0x10bad4(0x187)]('::'),_0x1de000=this['getTable'](_0x17d783);if(!_0x1de000)throw new _0x315451(_0x315451[_0x10bad4(0x600)][_0x10bad4(0x71c)],{'table':_0x1de000});let _0x514ae7=0x0;switch(_0x293b6b[_0x10bad4(0x2ef)]){case _0x5ad431['Add']:case _0x5ad431[_0x10bad4(0x648)]:{const _0x1bf585=_0x1de000[_0x10bad4(0x120)](_0x1a6d43,_0x293b6b[_0x10bad4(0x98e)],!0x1);_0x514ae7=JSON['stringify'](_0x293b6b[_0x10bad4(0x98e)])['length'],this[_0x10bad4(0x279)][_0x10bad4(0x4a7)](_0x293b6b['id'])&&this[_0x10bad4(0x6f9)][_0x10bad4(0x6e4)](_0x1bf585);break;}case _0x5ad431[_0x10bad4(0x8c5)]:{const _0x502827=_0x1de000[_0x10bad4(0x2ee)](_0x1a6d43,!0x1);this[_0x10bad4(0x279)][_0x10bad4(0x4a7)](_0x293b6b['id'])&&this[_0x10bad4(0x6f9)][_0x10bad4(0x6e4)](_0x502827);break;}}_0x5a023b[_0x10bad4(0xf8)](_0x35a2ee[_0x10bad4(0x370)],{'type':_0x10bad4(0x440),'label':this[_0x10bad4(0x2b4)],'nodeId':this[_0x10bad4(0x6c3)][_0x10bad4(0x92c)](),'nodeType':this[_0x10bad4(0x6c3)]['type'],'clusterId':this[_0x10bad4(0x49c)],'tableName':_0x17d783,'key':_0x1a6d43,'size':_0x514ae7}),this[_0x10bad4(0x8fa)](_0x577ad0,_0x293b6b);});}['setOnTableWriteHandler'](){const _0x306385=_0x2f335d;this[_0x306385(0x4fb)]=this['tableObserver'][_0x306385(0x504)](async _0x1f8ffb=>{const _0x290d73=_0x306385;let _0x2e44a1=0x0;switch(_0x1f8ffb[_0x290d73(0x2ef)]){case _0x5ad431[_0x290d73(0x87d)]:case _0x5ad431[_0x290d73(0x648)]:case _0x5ad431[_0x290d73(0x8c5)]:{const _0x314805=await this[_0x290d73(0x875)](_0x1f8ffb);if(!_0x314805)return;_0x314805[_0x290d73(0x98e)]=_0x1f8ffb['value'],this['send'](_0x314805),_0x2e44a1=JSON[_0x290d73(0x4ad)](_0x1f8ffb[_0x290d73(0x98e)])[_0x290d73(0x39c)],this[_0x290d73(0x251)]+=0x1;break;}case _0x5c6370[_0x290d73(0xfc)]:case _0x5c6370['List']:case _0x5c6370[_0x290d73(0x403)]:this[_0x290d73(0x565)]+=0x1;}_0x5a023b[_0x290d73(0xf8)](_0x35a2ee['KeyValueDatabase'],{'type':_0x1f8ffb[_0x290d73(0x2ef)],'label':this[_0x290d73(0x2b4)],'nodeId':this['localNode'][_0x290d73(0x92c)](),'nodeType':this['localNode'][_0x290d73(0x4e7)],'clusterId':this['clusterId'],'tableName':_0x1f8ffb[_0x290d73(0x3c1)],'key':_0x1f8ffb[_0x290d73(0x868)],'size':_0x2e44a1}),this[_0x290d73(0x938)]();});}[_0x2f335d(0x2ca)](){const _0x3754bd=_0x2f335d;this['db']&&(this[_0x3754bd(0xdb)]||(this[_0x3754bd(0xdb)]=this['db'][_0x3754bd(0x72a)](_0x3af0c0)));}[_0x2f335d(0x286)](){const _0x37a58a=_0x2f335d;this[_0x37a58a(0x3a1)]&&(clearTimeout(this[_0x37a58a(0x3a1)]),delete this[_0x37a58a(0x3a1)]);}async[_0x2f335d(0x19c)](){const _0x5ad022=_0x2f335d;await this[_0x5ad022(0x727)][_0x5ad022(0x814)],this[_0x5ad022(0x17c)](),this[_0x5ad022(0x1cf)][_0x5ad022(0x620)]({'event':_0x47407f[_0x5ad022(0x8b6)][_0x5ad022(0x2f0)]}),this[_0x5ad022(0x6c8)]?.(!0x0),delete this[_0x5ad022(0x6c8)],this['sendStats'](),_0x5a023b['log'](_0x4abdbe[_0x5ad022(0x370)],_0x5ad022(0x154),this['label']);}async[_0x2f335d(0x5a0)](_0x4c2b19){const _0x5bb764=_0x2f335d;await Promise[_0x5bb764(0x415)](this[_0x5bb764(0x6f9)]),_0x5a023b[_0x5bb764(0x6fb)](_0x4abdbe[_0x5bb764(0x370)],_0x5bb764(0x867)+this[_0x5bb764(0x6f9)][_0x5bb764(0x39c)]+_0x5bb764(0x196)+_0x4c2b19+_0x5bb764(0x300),this[_0x5bb764(0x2b4)]),await this[_0x5bb764(0x727)][_0x5bb764(0x814)],await this[_0x5bb764(0x698)](_0x4c2b19),await this[_0x5bb764(0x19c)]();}['checkSyncComplete'](_0x54251a,_0x3dde3e){const _0x44ad39=_0x2f335d;this['transactionsToSync'][_0x44ad39(0x4a7)](_0x3dde3e['id'])&&(this['clearSyncTimeout'](),this[_0x44ad39(0x279)]=this['transactionsToSync'][_0x44ad39(0x379)](_0x2d5572=>_0x2d5572!==_0x3dde3e['id']),0x0!==this[_0x44ad39(0x279)][_0x44ad39(0x39c)]?this['syncTimeout']=setTimeout(this[_0x44ad39(0x77b)],0x7d0):this[_0x44ad39(0x5a0)](_0x54251a));}[_0x2f335d(0x938)](){const _0x34ba8b=_0x2f335d;this['debounceStats']&&clearTimeout(this[_0x34ba8b(0x7a1)]),this['debounceStats']=setTimeout(async()=>{const _0x57eec1=_0x34ba8b;delete this[_0x57eec1(0x7a1)];let _0xae5e3=0x0;for(const _0x3b80d7 of this[_0x57eec1(0x5fc)][_0x57eec1(0x349)]())_0xae5e3+=await _0x3b80d7[_0x57eec1(0x3be)]();this[_0x57eec1(0x57e)][_0x57eec1(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x57eec1(0x109)],'content':{'type':_0x314d98[_0x57eec1(0x84e)],'label':this[_0x57eec1(0x2b4)],'stats':{'timestamp':Date[_0x57eec1(0x449)](),'storage':_0xae5e3,'messagesSent':this[_0x57eec1(0x7c8)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x57eec1(0x18b)],'bytesReceived':this['bytesReceived'],'writes':this[_0x57eec1(0x251)],'reads':this[_0x57eec1(0x565)],'prompts':0x0,'tokens':0x0}}}),_0x5a023b[_0x57eec1(0x40a)](_0x35a2ee[_0x57eec1(0x370)],_0x57eec1(0x8e5)+this[_0x57eec1(0x49c)]+_0x57eec1(0x8e5)+this[_0x57eec1(0x2b4)],_0xae5e3);},_0x25c4c2);}[_0x2f335d(0x4b3)](_0x385866){const _0x8b2f1a=_0x2f335d;if(_0x385866[_0x8b2f1a(0x5fc)][_0x3af0c0])throw new _0x194c78(_0x2e40c3['KeyValueDatabaseTableNameReserved'],_0x8b2f1a(0x7e8)+_0x3af0c0+_0x8b2f1a(0x1e3));if(_0x385866['tables'][_0x4c7d9d])throw new _0x194c78(_0x2e40c3[_0x8b2f1a(0x10f)],_0x8b2f1a(0x7e8)+_0x4c7d9d+_0x8b2f1a(0x1e3));_0x385866['tables'][_0x3af0c0]={'indexes':[]},_0x385866[_0x8b2f1a(0x5fc)][_0x4c7d9d]={'indexes':[]};}async[_0x2f335d(0x531)](_0x58e766){const _0x12d093=_0x2f335d;return Promise[_0x12d093(0xd3)]([_0x58e766,Promise[_0x12d093(0x6b3)](_0x12d093(0x14f))])[_0x12d093(0x789)](_0xe7544=>_0x12d093(0x14f)!==_0xe7544);}async[_0x2f335d(0x698)](_0x31a2da){const _0x508bd2=_0x2f335d;await this['processTransactionsToComputeMMR']();const _0x2aee2d=await this[_0x508bd2(0x727)][_0x508bd2(0xca)](),_0x57d42f={'sourceId':this[_0x508bd2(0x6c3)][_0x508bd2(0x92c)](),'destinationIds':[_0x31a2da],'propagate':!0x0,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98[_0x508bd2(0x58d)],'label':this[_0x508bd2(0x2b4)],'mmrRoot':_0x2aee2d}};this[_0x508bd2(0x57e)][_0x508bd2(0x620)](_0x57d42f);}async[_0x2f335d(0x4fa)](){const _0x358d6b=_0x2f335d;if(!this[_0x358d6b(0xdb)])throw new _0x315451(_0x315451[_0x358d6b(0x600)][_0x358d6b(0x82c)]);this[_0x358d6b(0x13d)]=await this[_0x358d6b(0xdb)][_0x358d6b(0x684)](),this[_0x358d6b(0x13d)][_0x358d6b(0x991)](this[_0x358d6b(0x99d)]),this[_0x358d6b(0x727)]=new _0x28f664(),this[_0x358d6b(0x1a3)]=new Map();for(const _0xbf399c of this['transactions'])this[_0x358d6b(0x4e8)](_0xbf399c,this['transactions'][_0x358d6b(0x39c)]);this[_0x358d6b(0x90c)]();}async['appendTransactionAndUpdateHashMap'](_0x3671d2,_0x29d107){const _0xb99200=_0x2f335d,_0x41066b={..._0x3671d2};delete _0x41066b[_0xb99200(0x98e)],await this[_0xb99200(0x727)]['appendTransaction'](_0x41066b,_0x29d107);const _0x3941d9=await this['mmr']['hashTransaction'](_0x41066b);this[_0xb99200(0x1a3)][_0xb99200(0x120)](_0x3941d9,_0x3671d2);}[_0x2f335d(0x150)](_0x452cb3){const _0x5cefad=_0x2f335d;return this[_0x5cefad(0x1a3)][_0x5cefad(0x389)](_0x452cb3);}['collectTransactionsFromNode'](_0x4edaba,_0x26717b){const _0x3ecffa=_0x2f335d;if(0x0!==_0x4edaba['height'])_0x4edaba[_0x3ecffa(0x728)]&&this[_0x3ecffa(0x79a)](_0x4edaba[_0x3ecffa(0x728)],_0x26717b),_0x4edaba[_0x3ecffa(0x3c7)]&&this['collectTransactionsFromNode'](_0x4edaba[_0x3ecffa(0x3c7)],_0x26717b);else{const _0x3f3370=this[_0x3ecffa(0x150)](_0x4edaba[_0x3ecffa(0x2c4)]);_0x3f3370&&_0x26717b[_0x3ecffa(0x6e4)](_0x3f3370);}}async['rebuildMMR'](){const _0x441942=_0x2f335d;this[_0x441942(0x803)]&&(clearTimeout(this[_0x441942(0x803)]),delete this[_0x441942(0x803)],this['transactionsToAppend'][_0x441942(0x39c)]>0x0&&(this[_0x441942(0x13d)][_0x441942(0x6e4)](...this['transactionsToAppend']['sort'](this['compareTransactions'])),this[_0x441942(0x5ea)]=[]));const _0x4a5926=this[_0x441942(0x693)]();this[_0x441942(0x727)]=new _0x28f664(),this['transactionHashMap'][_0x441942(0x18c)](),this[_0x441942(0x13d)][_0x441942(0x991)](this[_0x441942(0x99d)]);for(const _0x2ba32f of this[_0x441942(0x13d)])this[_0x441942(0x4e8)](_0x2ba32f,this['transactions']['length']);await this[_0x441942(0x727)][_0x441942(0x814)],this[_0x441942(0x8ef)](_0x4a5926);}[_0x2f335d(0x693)](){const _0x1bda3b=_0x2f335d;return this[_0x1bda3b(0x3a7)]['logger'][_0x1bda3b(0x85d)](async()=>{const _0x52124a=_0x1bda3b,_0x48649a=await this[_0x52124a(0x727)][_0x52124a(0xca)]();return{'startTime':Date[_0x52124a(0x449)](),'initialRoot':_0x48649a};},Promise[_0x1bda3b(0x6b3)]({'startTime':0x0,'initialRoot':''}));}async[_0x2f335d(0x8ef)](_0x51b046){const _0x471428=_0x2f335d;try{const {startTime:_0x5338c2,initialRoot:_0x5166d6}=await _0x51b046,_0x5e48d7=await this[_0x471428(0x727)][_0x471428(0xca)](),_0x222271=[_0x471428(0x21c)+(_0x5166d6!==_0x5e48d7),_0x471428(0x525)+_0x5166d6,_0x471428(0x17f)+_0x5e48d7,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0x471428(0x727)][_0x471428(0x533)](),_0x471428(0x58a)+(Date[_0x471428(0x449)]()-_0x5338c2)+_0x471428(0x82b)][_0x471428(0x67e)]('\x20');this['loggingCycle'][_0x471428(0x6b6)][_0x471428(0x6fb)]('',()=>_0x222271);}catch(_0x306594){console[_0x471428(0x646)](_0x471428(0x2d6),_0x306594);}}[_0x2f335d(0x33c)](_0x500bb9){const _0x27bf6f=_0x2f335d;this[_0x27bf6f(0x5ea)][_0x27bf6f(0x6e4)](_0x500bb9),this[_0x27bf6f(0x803)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x27bf6f(0x803)]),this[_0x27bf6f(0x803)]=setTimeout(()=>{const _0x2a8248=_0x27bf6f;this[_0x2a8248(0x994)]();},0x3e8);}async[_0x2f335d(0x994)](){const _0x220b46=_0x2f335d;if(this[_0x220b46(0x803)]&&(clearTimeout(this[_0x220b46(0x803)]),delete this[_0x220b46(0x803)]),0x0!==this[_0x220b46(0x5ea)][_0x220b46(0x39c)]){if(0x0===this[_0x220b46(0x13d)]['length'])return this[_0x220b46(0x13d)]=this[_0x220b46(0x5ea)],this[_0x220b46(0x5ea)]=[],await this[_0x220b46(0x722)]();if(this[_0x220b46(0x5ea)][_0x220b46(0x991)](this['compareTransactions']),this['compareTransactions'](this[_0x220b46(0x5ea)][0x0],this['transactions'][this[_0x220b46(0x13d)]['length']-0x1])>0x0){this[_0x220b46(0x3a7)]['logger'][_0x220b46(0x6fb)](_0x220b46(0x7d5)+this[_0x220b46(0x5ea)][_0x220b46(0x39c)]+_0x220b46(0x3e8)+this[_0x220b46(0x13d)][_0x220b46(0x39c)]);for(const _0x1b00dc of this['transactionsToAppend'])this[_0x220b46(0x13d)][_0x220b46(0x6e4)](_0x1b00dc),this[_0x220b46(0x4e8)](_0x1b00dc,this[_0x220b46(0x5ea)][_0x220b46(0x39c)]);return this[_0x220b46(0x5ea)]=[],void this[_0x220b46(0x3a7)][_0x220b46(0x6b6)][_0x220b46(0x6fb)](_0x220b46(0x307),async()=>_0x220b46(0x1a5)+await this['mmr'][_0x220b46(0xca)]()+',\x20Total\x20Nodes:'+this[_0x220b46(0x727)][_0x220b46(0x533)]());}this['loggingCycle']['logger'][_0x220b46(0x6fb)](_0x220b46(0x1c6)+this[_0x220b46(0x5ea)][_0x220b46(0x39c)]+_0x220b46(0x3e8)+this[_0x220b46(0x13d)][_0x220b46(0x39c)]),this[_0x220b46(0x13d)][_0x220b46(0x6e4)](...this[_0x220b46(0x5ea)]),this[_0x220b46(0x5ea)]=[],this[_0x220b46(0x722)]();}}async['logSyncMetrics'](){const _0x382e32=_0x2f335d;if(!_0x5a023b[_0x382e32(0x70a)](_0x4abdbe[_0x382e32(0x370)]))return;await this[_0x382e32(0x727)][_0x382e32(0x814)];const {dataSent:_0x2ccb7e,dataReceived:_0x475045}=this[_0x382e32(0x3a7)]['getDataLogged']();_0x5a023b[_0x382e32(0x6fb)](_0x4abdbe[_0x382e32(0x370)],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this[_0x382e32(0x2b4)],_0x382e32(0x1f5)+_0x2ccb7e,_0x382e32(0x623)+_0x475045,_0x382e32(0x60a),await this[_0x382e32(0x727)][_0x382e32(0xca)](),_0x382e32(0x68a),this[_0x382e32(0x727)][_0x382e32(0x533)]());}async[_0x2f335d(0x90c)](){const _0x443554=_0x2f335d;if(!_0x5a023b['isChannelEnabled'](_0x4abdbe[_0x443554(0x370)]))return;const _0xc1817c=this[_0x443554(0x727)][_0x443554(0x7db)](),_0x1c8abd=_0xc1817c[_0x443554(0x3cd)](_0x5c6b5c=>_0x5c6b5c[_0x443554(0x2a0)]),_0x2ef3f7=await this[_0x443554(0x727)][_0x443554(0xca)]();_0x5a023b[_0x443554(0x6fb)](_0x4abdbe[_0x443554(0x370)],_0x443554(0x414),this[_0x443554(0x13d)][_0x443554(0x39c)],_0x443554(0x13d),this['mmr'][_0x443554(0x533)](),_0x443554(0x6da),_0xc1817c[_0x443554(0x39c)],'peaks',_0x1c8abd,_0x443554(0x631),_0x2ef3f7);}}const _0x157a44=require('@crewdle/mist-connector-opfs'),_0x3a9808=require('@crewdle/mist-connector-indexed-db'),_0x288bf3=require('@crewdle/mist-connector-webrtc-browser'),_0x466788=0x1fc00000;var _0xb29486,_0x595c1f,_0x37a68d,_0x179164,_0x250754,_0xfc2002,_0x3c3d3c,_0x293356,_0x255818;!function(_0x1b55a4){const _0x57e1a9=_0x2f335d;_0x1b55a4[_0x57e1a9(0x516)]=_0x57e1a9(0x516),_0x1b55a4[_0x57e1a9(0x2b8)]='AudioOutput',_0x1b55a4[_0x57e1a9(0x2c1)]=_0x57e1a9(0x2c1),_0x1b55a4['Backgrounds']=_0x57e1a9(0x2df),_0x1b55a4[_0x57e1a9(0x60b)]=_0x57e1a9(0x60b),_0x1b55a4[_0x57e1a9(0x928)]=_0x57e1a9(0x928),_0x1b55a4[_0x57e1a9(0x76b)]='Recording',_0x1b55a4['ScreenSharing']=_0x57e1a9(0x489),_0x1b55a4['WebGL']=_0x57e1a9(0xa0),_0x1b55a4[_0x57e1a9(0xae)]=_0x57e1a9(0xae);}(_0xb29486||(_0xb29486={}));class _0x3d41d1{[_0x2f335d(0x578)];[_0x2f335d(0x580)];[_0x2f335d(0x88b)];constructor(_0x79ca4=new Map(),_0x3e0280=new Map(),_0x4b72be=new EventTarget()){const _0x59af24=_0x2f335d;this[_0x59af24(0x578)]=_0x79ca4,this[_0x59af24(0x580)]=_0x3e0280,this[_0x59af24(0x88b)]=_0x4b72be;}[_0x2f335d(0x336)]=(_0x2a951c,_0x1f5eb2)=>this[_0x2f335d(0x578)][_0x2f335d(0x627)](_0x2a951c)?(_0x5a023b[_0x2f335d(0x6fb)](_0x4abdbe['Events'],_0x2f335d(0x75c),{'event':_0x2a951c,'data':_0x1f5eb2}),this['eventTarget'][_0x2f335d(0x57a)](new CustomEvent(_0x2a951c,{'detail':_0x1f5eb2})),!0x0):(this[_0x2f335d(0x973)](_0x2a951c,_0x1f5eb2),!0x1);['on']=(_0x9d6fc6,_0x80dfbe)=>{const _0x5cbb8a=_0x2f335d,_0x5ed169=_0x5d62e0=>{const _0x815db8=a0_0x2fcc;_0x5a023b[_0x815db8(0x6fb)](_0x4abdbe['Events'],_0x815db8(0x316),_0x5d62e0['type'],_0x5d62e0[_0x815db8(0x19e)]),_0x80dfbe(_0x5d62e0[_0x815db8(0x19e)]);};return this[_0x5cbb8a(0x578)][_0x5cbb8a(0x120)](_0x9d6fc6,_0x5ed169),this[_0x5cbb8a(0x88b)]['addEventListener'](_0x9d6fc6,_0x5ed169),_0x5a023b['log'](_0x4abdbe['Cluster'],_0x5cbb8a(0xc4),_0x9d6fc6,_0x80dfbe),this[_0x5cbb8a(0x4d0)](_0x9d6fc6),this;};['off'](_0x32bc2f){const _0x31c6e9=_0x2f335d;if(!_0x32bc2f)return this[_0x31c6e9(0x578)][_0x31c6e9(0x82f)]((_0x19fc23,_0x179d45)=>{const _0x4913e7=_0x31c6e9;this[_0x4913e7(0x88b)]['removeEventListener'](_0x179d45,_0x19fc23);}),void this['registeredListeners'][_0x31c6e9(0x18c)]();'string'==typeof _0x32bc2f&&this[_0x31c6e9(0x213)](_0x32bc2f),Array['isArray'](_0x32bc2f)&&_0x32bc2f[_0x31c6e9(0x82f)](_0x1a26a3=>{const _0x4bf65c=_0x31c6e9;this[_0x4bf65c(0x213)](_0x1a26a3);});}[_0x2f335d(0x213)](_0x1d1791){const _0x1b8eb4=_0x2f335d,_0x2de1f0=this[_0x1b8eb4(0x578)][_0x1b8eb4(0x389)](_0x1d1791);_0x2de1f0&&(this[_0x1b8eb4(0x88b)][_0x1b8eb4(0x382)](_0x1d1791,_0x2de1f0),this[_0x1b8eb4(0x578)][_0x1b8eb4(0x2ee)](_0x1d1791));}[_0x2f335d(0x973)](_0x1dd9c8,_0x47acbe){const _0x11f84b=_0x2f335d;_0x5a023b[_0x11f84b(0x6fb)](_0x4abdbe[_0x11f84b(0x23c)],'Buffering\x20event',{'event':_0x1dd9c8,'data':_0x47acbe});const _0xf1a18e=this[_0x11f84b(0x580)][_0x11f84b(0x389)](_0x1dd9c8)||[];this[_0x11f84b(0x580)][_0x11f84b(0x120)](_0x1dd9c8,[..._0xf1a18e,_0x47acbe]);}['consumeBufferedEvents'](_0x4b2e5b){const _0x8822e4=_0x2f335d,_0x515441=this[_0x8822e4(0x580)][_0x8822e4(0x389)](_0x4b2e5b);_0x515441&&(_0x515441[_0x8822e4(0x82f)](_0x49c14e=>{const _0x695a60=_0x8822e4;_0x5a023b[_0x695a60(0x6fb)](_0x4abdbe['Events'],_0x695a60(0x47d),{'event':_0x4b2e5b,'data':_0x49c14e}),this[_0x695a60(0x88b)][_0x695a60(0x57a)](new CustomEvent(_0x4b2e5b,{'detail':_0x49c14e}));}),this[_0x8822e4(0x580)][_0x8822e4(0x2ee)](_0x4b2e5b));}}class _0x2d51ec extends Error{constructor(_0x3e82f0){const _0x41677f=_0x2f335d;super(_0x41677f(0x33d)+_0x3e82f0);}}!function(_0x4c64a9){const _0x50e463=_0x2f335d;_0x4c64a9[_0x4c64a9[_0x50e463(0x5e4)]=0x0]=_0x50e463(0x5e4),_0x4c64a9[_0x4c64a9['Optimization']=0x1]='Optimization';}(_0x595c1f||(_0x595c1f={})),function(_0x1d146f){const _0x2c55d3=_0x2f335d;_0x1d146f[_0x1d146f[_0x2c55d3(0x571)]=0x0]=_0x2c55d3(0x571),_0x1d146f[_0x1d146f[_0x2c55d3(0x7f2)]=0x1]=_0x2c55d3(0x7f2),_0x1d146f[_0x1d146f[_0x2c55d3(0x195)]=0x2]=_0x2c55d3(0x195),_0x1d146f[_0x1d146f[_0x2c55d3(0x5aa)]=0x3]=_0x2c55d3(0x5aa),_0x1d146f[_0x1d146f[_0x2c55d3(0x582)]=0x4]='NeedRestart',_0x1d146f[_0x1d146f[_0x2c55d3(0x374)]=0x5]=_0x2c55d3(0x374),_0x1d146f[_0x1d146f[_0x2c55d3(0x69d)]=0x6]='Disconnect',_0x1d146f[_0x1d146f[_0x2c55d3(0x49a)]=0x7]=_0x2c55d3(0x49a),_0x1d146f[_0x1d146f['OptimizationConnectionSuccess']=0x8]='OptimizationConnectionSuccess';}(_0x37a68d||(_0x37a68d={})),function(_0x3e5f10){const _0x70d1c9=_0x2f335d;_0x3e5f10[_0x3e5f10[_0x70d1c9(0x72f)]=0x0]=_0x70d1c9(0x72f),_0x3e5f10[_0x3e5f10[_0x70d1c9(0x8f6)]=0x1]=_0x70d1c9(0x8f6);}(_0x179164||(_0x179164={})),function(_0x16f3c0){const _0x29d631=_0x2f335d;_0x16f3c0['MediaStream']=_0x29d631(0x989);}(_0x250754||(_0x250754={})),function(_0x36d3f2){const _0x512510=_0x2f335d;_0x36d3f2[_0x36d3f2[_0x512510(0x264)]=0x0]=_0x512510(0x264),_0x36d3f2[_0x36d3f2[_0x512510(0x881)]=0x1]=_0x512510(0x881),_0x36d3f2[_0x36d3f2[_0x512510(0x47e)]=0x2]=_0x512510(0x47e),_0x36d3f2[_0x36d3f2[_0x512510(0x840)]=0x3]=_0x512510(0x840);}(_0xfc2002||(_0xfc2002={})),function(_0x4d09ee){const _0x13e3f1=_0x2f335d;_0x4d09ee[_0x4d09ee[_0x13e3f1(0x9dd)]=0x0]=_0x13e3f1(0x9dd),_0x4d09ee[_0x4d09ee[_0x13e3f1(0x55c)]=0x1]=_0x13e3f1(0x55c);}(_0x3c3d3c||(_0x3c3d3c={})),function(_0x49d6fa){const _0x4d1495=_0x2f335d;_0x49d6fa[_0x4d1495(0x4f6)]=_0x4d1495(0x48c),_0x49d6fa['Downgrade']='downgrade';}(_0x293356||(_0x293356={})),function(_0x4751be){const _0x53baa8=_0x2f335d;_0x4751be[_0x53baa8(0x1e0)]='resolution',_0x4751be[_0x53baa8(0xfa)]='bitrate';}(_0x255818||(_0x255818={}));const _0x30d8ed=require('aws-amplify'),_0x34250b=require('aws-amplify/utils'),_0x3dbefc=require('@aws-amplify/api'),_0x1d3416=require('@aws-amplify/core');class _0x1809f9{[_0x2f335d(0x49c)];[_0x2f335d(0x6c3)];[_0x2f335d(0x559)];constructor(_0x4d9e4c,_0x495fc4,_0x4086f7){const _0x58f411=_0x2f335d;this[_0x58f411(0x49c)]=_0x4d9e4c,this['localNode']=_0x495fc4,this[_0x58f411(0x559)]=_0x4086f7;}[_0x2f335d(0x871)](){const _0x2137f4=_0x2f335d;return this[_0x2137f4(0x6c3)][_0x2137f4(0x92c)]();}[_0x2f335d(0x488)](){return this['remoteId'];}}var _0x2fca62,_0x21fd1b,_0x444468;function _0x46621d(_0x218bda,_0x18c86c){const _0x3d5349=_0x2f335d;return _0x218bda[_0x3d5349(0x1cc)]===_0x18c86c;}function _0x262c2e(_0x2d5820,_0x1f9f8b){return _0x2d5820['destinationIds']?.['includes'](_0x1f9f8b)??function(_0x3e4006){return void 0x0===_0x3e4006['destinationIds'];}(_0x2d5820);}function _0x314a53(_0x53523d,{contentType:_0x1a2dc7,label:_0x556d08,remoteId:_0x4f5781}){return _0x53523d+'-'+_0x1a2dc7+'-'+_0x556d08+'-'+_0x4f5781;}function _0x5f0105(_0xd8a2f1,_0x33bde0,_0x3eb5d1){return''+_0xd8a2f1+_0x33bde0+_0x3eb5d1;}function _0x4120d1(_0x2bfac7){const _0xb19267=_0x2f335d;return _0x2bfac7===_0x21fd1b[_0xb19267(0xa8)]?_0xb19267(0x544):_0xb19267(0x282);}function _0x2a67f0(_0x109caf,_0x185784){const _0x40f8ec=_0x2f335d;return{'label':_0x109caf[_0x40f8ec(0x233)](),'contentType':_0x109caf[_0x40f8ec(0x8c7)](),'remoteId':_0x185784[_0x40f8ec(0x488)](),'supportsContentType':_0x185784[_0x40f8ec(0x901)]()[_0x40f8ec(0x4a7)](_0x109caf[_0x40f8ec(0x8c7)]())};}!function(_0x569015){const _0x2d63d7=_0x2f335d;_0x569015[_0x569015['Waiting']=0x0]=_0x2d63d7(0x737),_0x569015[_0x569015[_0x2d63d7(0x7fd)]=0x1]=_0x2d63d7(0x7fd),_0x569015[_0x569015[_0x2d63d7(0x174)]=0x2]='Rejected';}(_0x2fca62||(_0x2fca62={})),function(_0x51bcae){const _0x1c0f74=_0x2f335d;_0x51bcae[_0x1c0f74(0xa8)]='in',_0x51bcae[_0x1c0f74(0xb8)]=_0x1c0f74(0x36e);}(_0x21fd1b||(_0x21fd1b={}));class _0x2d02ef{[_0x2f335d(0x3b3)];[_0x2f335d(0x1bb)];constructor(_0x227324,_0xd1c4c7){const _0x5b66a9=_0x2f335d;this['callback']=_0x227324,this[_0x5b66a9(0x1bb)]=_0xd1c4c7;}['call'](_0x586ffb){const _0x59c288=_0x2f335d;this[_0x59c288(0x3b3)](_0x586ffb);}async[_0x2f335d(0x52f)](){const _0x74b09d=_0x2f335d;await this[_0x74b09d(0x1bb)]();}}class _0x491672{[_0x2f335d(0x3b3)];[_0x2f335d(0x1bb)];constructor(_0x59e367,_0x3f62da){const _0x1ee3f3=_0x2f335d;this['callback']=_0x59e367,this[_0x1ee3f3(0x1bb)]=_0x3f62da;}async['call'](_0x41296a){const _0x1cf2e1=_0x2f335d;await this[_0x1cf2e1(0x3b3)](_0x41296a);}async[_0x2f335d(0x52f)](){await this['retryCallback']();}}function _0x3eb059(_0x5b9450=()=>{},_0x388c5d=()=>!0x1,_0x154786=()=>{}){let _0x2f1f60,_0x49b29d,_0x2f8ad7=0x0;return{get 'size'(){return _0x2f8ad7;},get 'head'(){return _0x2f1f60;},get 'tail'(){return _0x49b29d;},set 'head'(_0x2f078e){_0x2f1f60=_0x2f078e;},set 'tail'(_0x5915c1){_0x49b29d=_0x5915c1;},'push'(_0x8415e7,_0x1f1021=!0x0){const _0x49d4b2=a0_0x2fcc,_0x80b2e0={'value':_0x8415e7};_0x1f1021&&_0x388c5d(_0x80b2e0)?_0x5b9450():(_0x49b29d&&(_0x80b2e0[_0x49d4b2(0x53b)]=_0x49b29d,_0x49b29d[_0x49d4b2(0x254)]=_0x80b2e0),_0x49b29d=_0x80b2e0,_0x2f1f60||(_0x2f1f60=_0x80b2e0),_0x2f8ad7+=0x1,_0x1f1021&&_0x5b9450());},'pop'(){const _0x322e22=a0_0x2fcc;if(!_0x49b29d)return;const _0x54f40e=_0x49b29d[_0x322e22(0x98e)];return _0x49b29d=_0x49b29d['previous'],_0x49b29d&&delete _0x49b29d['next'],_0x49b29d||(_0x2f1f60=void 0x0),_0x2f8ad7-=0x1,_0x54f40e;},'unshift'(_0x467b07,_0x28bcaa=!0x0){const _0x4a2d96=a0_0x2fcc,_0x4fc336={'value':_0x467b07};_0x28bcaa&&_0x388c5d(_0x4fc336)?_0x5b9450():(_0x2f1f60&&(_0x2f1f60['previous']=_0x4fc336,_0x4fc336[_0x4a2d96(0x254)]=_0x2f1f60),_0x2f1f60=_0x4fc336,_0x49b29d||(_0x49b29d=_0x4fc336),_0x2f8ad7+=0x1,_0x28bcaa&&_0x5b9450());},'shift'(){const _0x23a1dd=a0_0x2fcc;if(!_0x2f1f60)return;const _0x2df245=_0x2f1f60[_0x23a1dd(0x98e)];return _0x2f1f60=_0x2f1f60['next'],_0x2f1f60&&delete _0x2f1f60['previous'],_0x2f1f60||(_0x49b29d=void 0x0),_0x2f8ad7-=0x1,_0x2df245;},'clear'(){_0x154786(),_0x2f1f60=void 0x0,_0x49b29d=void 0x0,_0x2f8ad7=0x0;}};}function _0x1510e5(_0x596bdf,_0x3e4cb8=!0x1,_0x299607=()=>{},_0x11f4dc=()=>!0x1,_0x4e46a7=()=>{}){let _0x441e9e=!0x1;const _0x152d89=_0x3eb059(async function(){const _0x59c3e2=a0_0x2fcc;if(!_0x441e9e){for(_0x441e9e=!0x0;_0x152d89[_0x59c3e2(0x53d)];){const _0x5746b5=_0x152d89[_0x59c3e2(0x234)]();if(_0x5746b5)try{_0x596bdf instanceof _0x2d02ef&&_0x596bdf[_0x59c3e2(0x407)](_0x5746b5),_0x596bdf instanceof _0x491672&&await _0x596bdf[_0x59c3e2(0x407)](_0x5746b5),_0x299607(_0x5746b5);}catch(_0xd392b3){_0x3e4cb8?_0x152d89['push'](_0x5746b5,!0x1):_0x152d89[_0x59c3e2(0x236)](_0x5746b5,!0x1),await _0x596bdf[_0x59c3e2(0x52f)]();}}_0x441e9e=!0x1;}},_0x11f4dc,_0x4e46a7);return _0x152d89;}class _0x406482 extends _0x1809f9{['vendorId'];[_0x2f335d(0x4f5)];[_0x2f335d(0xf5)]=_0x3dbefc[_0x2f335d(0x995)][_0x2f335d(0x9d3)];[_0x2f335d(0x916)]=_0x245a70();[_0x2f335d(0x36c)]=_0x390225();[_0x2f335d(0x510)];[_0x2f335d(0x100)];[_0x2f335d(0x240)]=_0x1510e5(new _0x491672(this['sendAction'][_0x2f335d(0x1b9)](this),this['waitConnected'][_0x2f335d(0x1b9)](this)));[_0x2f335d(0x73a)];constructor(_0x181f1c,_0x3687ab,_0x151a75,_0x3dc44c,_0x5cb016){const _0x2c641f=_0x2f335d;super(_0x3687ab,_0x151a75,_0x3dc44c),this['vendorId']=_0x181f1c,this[_0x2c641f(0x4f5)]=_0x5cb016;}async['connect'](){const _0x231409=_0x2f335d;try{const _0x3ebf24={'getTokens':async()=>{const _0x93c660=a0_0x2fcc,_0x4e6fae=await this[_0x93c660(0x4f5)][_0x93c660(0x96c)]();return{'accessToken':(0x0,_0x1d3416[_0x93c660(0x8cf)])(_0x4e6fae),'idToken':(0x0,_0x1d3416[_0x93c660(0x8cf)])(_0x4e6fae)};}};_0x30d8ed['Amplify']['configure']({'API':{'GraphQL':{'endpoint':_0x4dc50e[_0x231409(0x89d)][_0x231409(0x72e)],'region':_0x4dc50e[_0x231409(0x89d)][_0x231409(0x1eb)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x3ebf24}});const _0x25ec1d=(0x0,_0x3dbefc['generateClient'])();this['client']=_0x25ec1d,await this['subscribe'](),this[_0x231409(0x100)]=_0x34250b['Hub'][_0x231409(0x7a9)](_0x231409(0x207),async({payload:_0x18e608})=>{const _0x5b865f=_0x231409;if(_0x18e608[_0x5b865f(0x8f1)]===_0x3dbefc[_0x5b865f(0x7c2)]){const _0x108dff=_0x18e608[_0x5b865f(0x1c9)];this[_0x5b865f(0xf5)]=_0x108dff[_0x5b865f(0xf5)],this[_0x5b865f(0x916)]['publish'](_0x108dff[_0x5b865f(0xf5)]),this[_0x5b865f(0xf5)]===_0x3dbefc['ConnectionState'][_0x5b865f(0x9d3)]?(_0x5a023b[_0x5b865f(0x646)](_0x5b865f(0x4e5),{'clusterId':this['clusterId'],'nodeId':this[_0x5b865f(0x871)](),'nodeType':this[_0x5b865f(0x6c3)][_0x5b865f(0x4e7)]}),this['close'](),this[_0x5b865f(0x10a)]()):this[_0x5b865f(0xf5)]===_0x3dbefc[_0x5b865f(0x995)][_0x5b865f(0x146)]?_0x5a023b[_0x5b865f(0x80f)](_0x5b865f(0x65b),{'clusterId':this[_0x5b865f(0x49c)],'nodeId':this[_0x5b865f(0x871)](),'nodeType':this[_0x5b865f(0x6c3)][_0x5b865f(0x4e7)]}):_0x5a023b[_0x5b865f(0x80f)]('appsync-statechange',{'clusterId':this[_0x5b865f(0x49c)],'nodeId':this[_0x5b865f(0x871)](),'nodeType':this['localNode'][_0x5b865f(0x4e7)],'data':{'state':_0x108dff[_0x5b865f(0xf5)]}});}});}catch(_0x599476){_0x5a023b[_0x231409(0x646)](_0x231409(0x701),{'clusterId':this[_0x231409(0x49c)],'nodeId':this['getLocalId'](),'nodeType':this[_0x231409(0x6c3)][_0x231409(0x4e7)]});}}[_0x2f335d(0x476)](){const _0x42cab0=_0x2f335d;_0x5a023b[_0x42cab0(0x80f)](_0x42cab0(0x583),{'clusterId':this[_0x42cab0(0x49c)],'nodeId':this[_0x42cab0(0x871)](),'nodeType':this[_0x42cab0(0x6c3)][_0x42cab0(0x4e7)]}),this[_0x42cab0(0x240)][_0x42cab0(0x18c)](),this[_0x42cab0(0x100)]?.(),this[_0x42cab0(0x510)]?.['unsubscribe'](),delete this[_0x42cab0(0x510)];}[_0x2f335d(0xdc)](){const _0x22e5c3=_0x2f335d;return this[_0x22e5c3(0xf5)]===_0x3dbefc[_0x22e5c3(0x995)]['Connected'];}[_0x2f335d(0x869)](_0x323fe1){const _0x362ea4=_0x2f335d;this['retryQueue'][_0x362ea4(0x6e4)](_0x323fe1);}[_0x2f335d(0x904)](_0x5f0f4b){const _0x1643cf=_0x2f335d;return this[_0x1643cf(0x36c)][_0x1643cf(0x504)](_0x5f0f4b);}['getSupportedContentTypes'](){const _0x23b8e5=_0x2f335d;return[_0x47407f[_0x23b8e5(0x1e9)]['Data']];}async[_0x2f335d(0x4fc)](){const _0x16349b=_0x2f335d;if(!this[_0x16349b(0xdc)]())return new Promise(_0x56116a=>{const _0x18ad87=_0x16349b,_0x74b5d2=this[_0x18ad87(0x916)][_0x18ad87(0x504)](_0x5ac64c=>{const _0x57b7a6=_0x18ad87;_0x5ac64c===_0x3dbefc[_0x57b7a6(0x995)][_0x57b7a6(0x146)]&&(_0x74b5d2(),_0x56116a());});});}async[_0x2f335d(0x686)](_0x2cdd95){const _0x3a9867=_0x2f335d;if(this['connectionState']!==_0x3dbefc['ConnectionState'][_0x3a9867(0x146)])throw new Error(_0x3a9867(0x7a5));_0x2cdd95[_0x3a9867(0x479)]&&0x1===_0x2cdd95[_0x3a9867(0x479)][_0x3a9867(0x39c)]?await this[_0x3a9867(0x620)](_0x2cdd95[_0x3a9867(0x479)][0x0],JSON[_0x3a9867(0x4ad)](_0x2cdd95)):_0x5a023b[_0x3a9867(0x646)](_0x3a9867(0x598),{'clusterId':this[_0x3a9867(0x49c)],'nodeId':this[_0x3a9867(0x871)](),'nodeType':this[_0x3a9867(0x6c3)][_0x3a9867(0x4e7)]});}async[_0x2f335d(0x620)](_0x63a050,_0x33cd65){const _0x465d74=_0x2f335d;if(!this[_0x465d74(0x73a)])throw new Error('AppSync\x20client\x20not\x20ready');_0x5a023b[_0x465d74(0x6fb)](_0x4abdbe[_0x465d74(0x9a1)],_0x465d74(0xd7),this[_0x465d74(0x871)](),_0x33cd65),await this[_0x465d74(0x73a)][_0x465d74(0x490)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x465d74(0x1d5)](_0x63a050),'data':_0x33cd65}});}async['subscribe'](){const _0x2f1cf2=_0x2f335d;if(this[_0x2f1cf2(0x510)])return;if(!this[_0x2f1cf2(0x73a)])throw new Error(_0x2f1cf2(0x1ad));_0x5a023b[_0x2f1cf2(0x6fb)](_0x4abdbe[_0x2f1cf2(0x9a1)],_0x2f1cf2(0x175),this[_0x2f1cf2(0x871)]());const _0x557cd5=await this[_0x2f1cf2(0x73a)][_0x2f1cf2(0x490)]({'query':_0x2f1cf2(0x15a),'variables':{'name':await this[_0x2f1cf2(0x1d5)]()},'authToken':await this[_0x2f1cf2(0x4f5)][_0x2f1cf2(0x96c)]()},{'Authorization':await this[_0x2f1cf2(0x4f5)][_0x2f1cf2(0x96c)]()});this[_0x2f1cf2(0x510)]=_0x557cd5[_0x2f1cf2(0x504)]({'next':({data:_0x396602})=>{const _0x3ba3a5=_0x2f1cf2,_0x2726d0=JSON['parse'](_0x396602[_0x3ba3a5(0x504)][_0x3ba3a5(0x1c9)]);!_0x46621d(_0x2726d0,this[_0x3ba3a5(0x871)]())&&_0x262c2e(_0x2726d0,this[_0x3ba3a5(0x871)]())&&this[_0x3ba3a5(0x36c)]['publish'](_0x2726d0);},'error':console[_0x2f1cf2(0x6fb)]});}async[_0x2f335d(0x1d5)](_0x3a9a5e){const _0x2897b8=_0x2f335d,_0x35eaa6=await crypto[_0x2897b8(0x4d1)][_0x2897b8(0x736)](_0x2897b8(0x7bb),new TextEncoder()['encode'](this[_0x2897b8(0xa5)]+'-'+this['clusterId']+'-'+(_0x3a9a5e??this[_0x2897b8(0x871)]())));return Array[_0x2897b8(0x2ce)](new Uint8Array(_0x35eaa6))['map'](_0x43ab68=>_0x43ab68[_0x2897b8(0x742)](0x10)['padStart'](0x2,'0'))[_0x2897b8(0x67e)]('');}}!function(_0x5bc2e9){const _0x3f479d=_0x2f335d;_0x5bc2e9[_0x5bc2e9[_0x3f479d(0x87d)]=0x0]='Add',_0x5bc2e9[_0x5bc2e9[_0x3f479d(0x4c0)]=0x1]=_0x3f479d(0x4c0),_0x5bc2e9[_0x5bc2e9[_0x3f479d(0x648)]=0x2]=_0x3f479d(0x648),_0x5bc2e9[_0x5bc2e9[_0x3f479d(0x507)]=0x3]=_0x3f479d(0x507),_0x5bc2e9[_0x5bc2e9['RemoteRemove']=0x4]=_0x3f479d(0x46d);}(_0x444468||(_0x444468={}));const _0x5b731d='0',_0x3d8da3=_0x2f335d(0x6db),_0x4d6054=_0x593546,_0x407548=0xbe800;class _0x181f4c{[_0x2f335d(0x49c)];[_0x2f335d(0x6c3)];[_0x2f335d(0x559)];[_0x2f335d(0x6d2)];[_0x2f335d(0x8c0)];[_0x2f335d(0x3fd)];[_0x2f335d(0x35c)];[_0x2f335d(0x890)];[_0x2f335d(0x68c)]=0x1;[_0x2f335d(0x57e)];[_0x2f335d(0x50e)]=[];['pendingHandshakeCandidates']=[];[_0x2f335d(0x911)];constructor(_0x3222da,_0x398992,_0xcec6cc,_0x327611,_0x193163,_0x5d520a){const _0x2de9b3=_0x2f335d;this[_0x2de9b3(0x49c)]=_0x3222da,this[_0x2de9b3(0x6c3)]=_0x398992,this['remoteId']=_0xcec6cc,this[_0x2de9b3(0x6d2)]=_0x327611,this[_0x2de9b3(0x8c0)]=_0x193163,this[_0x2de9b3(0x3fd)]=_0x5d520a,this[_0x2de9b3(0x35c)]=new this[(_0x2de9b3(0x3fd))]({'handshakeServers':this['iceServers']}),this['setupConnectionEvents']();}['close'](){this['stopConnection']();}[_0x2f335d(0x99e)](_0x52d626){const _0xc1055b=_0x2f335d;this[_0xc1055b(0x8c0)]=_0x52d626;}async[_0x2f335d(0x3f4)](_0x11b2b8,_0x32bb5b){const _0x4976e5=_0x2f335d;if(_0x32bb5b===this[_0x4976e5(0x68c)])for(const _0x2722b5 of _0x11b2b8){if(!this['connection'][_0x4976e5(0x61c)])return this[_0x4976e5(0x28f)](_0x2722b5);try{await this[_0x4976e5(0x35c)]['addCandidate'](_0x2722b5);}catch(_0x67904c){this[_0x4976e5(0x28f)](_0x2722b5);}}}[_0x2f335d(0xdc)](){const _0x52d502=_0x2f335d;return this['logConnectionState'](),_0x52d502(0x6f7)===this['connection']['connectionState']&&['connected','completed'][_0x52d502(0x4a7)](this['connection'][_0x52d502(0x6fc)])&&_0x52d502(0x876)!==this['connection'][_0x52d502(0x6c5)]&&'open'===this[_0x52d502(0x890)]?.[_0x52d502(0x4b7)];}[_0x2f335d(0x333)](_0x5af059){const _0x3c3420=_0x2f335d;this[_0x3c3420(0x57e)]=_0x5af059;}['unregisterSystemPublisher'](){const _0x1cb2e3=_0x2f335d;delete this[_0x1cb2e3(0x57e)];}['resetConnection'](_0x51042e){const _0x2bf8f2=_0x2f335d;this[_0x2bf8f2(0x558)](),this[_0x2bf8f2(0x35c)]=new this[(_0x2bf8f2(0x3fd))]({'handshakeServers':this['iceServers']}),_0x51042e?this[_0x2bf8f2(0x68c)]=_0x51042e:this['currentVersion']+=0x1,this[_0x2bf8f2(0x9cc)]();}[_0x2f335d(0x274)](){const _0x5db5ff=_0x2f335d;this['pendingHandshakeCandidates'][_0x5db5ff(0x82f)](_0x2698ee=>{const _0x33c9ae=_0x5db5ff;try{this[_0x33c9ae(0x35c)]['addCandidate'](_0x2698ee);}catch(_0x4ac763){}}),this[_0x5db5ff(0xe7)]=[];}[_0x2f335d(0x111)](_0xa7be80,_0x5486ea){const _0xa47089=_0x2f335d;if(!this['systemTopic'])throw new _0x315451(_0x315451[_0xa47089(0x600)][_0xa47089(0x8c3)],{'content':_0xa7be80});const _0x3d3ab8={'sourceId':this[_0xa47089(0x6c3)][_0xa47089(0x92c)](),'destinationIds':[this[_0xa47089(0x559)]],'propagate':this[_0xa47089(0x8c0)]!==_0x595c1f['Core'],'retry':this['connectionType']!==_0x595c1f[_0xa47089(0x5e4)],'messageType':_0x4ba688[_0xa47089(0x771)],'content':_0xa7be80};_0x5486ea&&(_0x3d3ab8[_0xa47089(0x57d)]=_0x5486ea),this[_0xa47089(0x57e)]['publish'](_0x3d3ab8);}[_0x2f335d(0x9cc)](){const _0x5a4db7=_0x2f335d;this['connection']['onGatheringStateChange']=()=>{const _0x16df8b=a0_0x2fcc;_0x16df8b(0x3ac)===this['connection'][_0x16df8b(0x92f)]&&this[_0x16df8b(0x50e)][_0x16df8b(0x39c)]>0x0&&(this[_0x16df8b(0x911)]&&clearTimeout(this[_0x16df8b(0x911)]),this[_0x16df8b(0x911)]=setTimeout(()=>{const _0x429516=_0x16df8b;delete this[_0x429516(0x911)],this['sendIceCandidates'](),this[_0x429516(0x50e)]=[];},0x1f4));},this[_0x5a4db7(0x35c)]['onCandidate']=_0x5bfd62=>{const _0x45ee87=_0x5a4db7;_0x5bfd62[_0x45ee87(0x4b8)]&&this[_0x45ee87(0x50e)][_0x45ee87(0x6e4)](_0x5bfd62[_0x45ee87(0x4b8)]);};}[_0x2f335d(0x558)](){const _0x33c316=_0x2f335d;clearTimeout(this[_0x33c316(0x911)]),delete this[_0x33c316(0x911)],this[_0x33c316(0x50e)]=[],this[_0x33c316(0xe7)]=[],this[_0x33c316(0x890)]&&(this[_0x33c316(0x890)][_0x33c316(0x904)]=null,this[_0x33c316(0x890)][_0x33c316(0x350)]=null,this['dataChannel'][_0x33c316(0x476)](),delete this[_0x33c316(0x890)]),this[_0x33c316(0x35c)][_0x33c316(0x1b1)]=null,this[_0x33c316(0x35c)][_0x33c316(0x83c)]=null,this[_0x33c316(0x35c)][_0x33c316(0x70f)]=null,this[_0x33c316(0x35c)][_0x33c316(0x621)]=null,this[_0x33c316(0x35c)][_0x33c316(0x56f)]=null,this[_0x33c316(0x35c)][_0x33c316(0x83a)]=null,this[_0x33c316(0x35c)]['close']();}[_0x2f335d(0x28f)](_0x39975b){this['pendingHandshakeCandidates']['push'](_0x39975b);}[_0x2f335d(0x1da)](){const _0x126fb7=_0x2f335d;_0x5a023b[_0x126fb7(0x6fb)](_0x4abdbe[_0x126fb7(0x995)],_0x126fb7(0x629),{'localId':this[_0x126fb7(0x6c3)]['getId'](),'remoteId':this[_0x126fb7(0x559)],'connectionState':this[_0x126fb7(0x35c)][_0x126fb7(0xf5)],'handshakeState':this[_0x126fb7(0x35c)][_0x126fb7(0x6fc)],'signalingState':this[_0x126fb7(0x35c)]['signalingState'],'dataChannelState':this[_0x126fb7(0x890)]?.[_0x126fb7(0x4b7)]});}}function _0x30d134(_0x42e160,_0x2cc87e){const _0x4191be=_0x2f335d;_0x2cc87e['publish']({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x4191be(0x771)],'content':_0x42e160});}class _0xc8a6fe{static ['instance'];['parameters']=[];['source'];constructor(){setInterval(()=>{const _0x2b49ce=a0_0x2fcc;this[_0x2b49ce(0x465)][_0x2b49ce(0x82f)](_0x588343=>{const _0x4538d0=_0x2b49ce;if(Date[_0x4538d0(0x449)]()-_0x588343[_0x4538d0(0x523)]>_0x588343[_0x4538d0(0x3a2)]){try{_0x588343[_0x4538d0(0x3b3)]();}catch(_0x19510f){}_0x588343[_0x4538d0(0x523)]=Date[_0x4538d0(0x449)]();}});},0x64);}static['getInstance'](){return _0xc8a6fe['instance']||(_0xc8a6fe['instance']=new _0xc8a6fe()),_0xc8a6fe['instance'];}[_0x2f335d(0x139)](_0x257094){const _0x153afe=_0x2f335d,_0x451454=this['createConstantSource'](_0x257094),_0x5a9592=_0x257094['createGain']();_0x5a9592&&_0x451454&&(_0x5a9592[_0x153afe(0x268)]['value']=0.001,_0x451454[_0x153afe(0x10a)](_0x5a9592),_0x5a9592[_0x153afe(0x10a)](_0x257094[_0x153afe(0x27f)]),_0x451454['start']());}[_0x2f335d(0x6e3)](){const _0x4aa898=_0x2f335d;this[_0x4aa898(0x71f)]&&(this['source'][_0x4aa898(0x204)](),this['source'][_0x4aa898(0x3af)](),this[_0x4aa898(0x71f)]=void 0x0);}[_0x2f335d(0x52f)](_0x5b3823){return new Promise(_0x3bc088=>{setTimeout(_0x3bc088,_0x5b3823);});}['setInterval'](_0x4a763a,_0x5874b8){const _0x2f3ab9=_0x2f335d;return this[_0x2f3ab9(0x465)]['push']({'callback':_0x4a763a,'interval':_0x5874b8,'lastExecuted':Date[_0x2f3ab9(0x449)]()}),()=>{const _0x486f13=_0x2f3ab9;this[_0x486f13(0x465)]=this['parameters'][_0x486f13(0x379)](_0x10af59=>_0x10af59[_0x486f13(0x3b3)]!==_0x4a763a);};}[_0x2f335d(0x666)](_0x44fee6){const _0x55862a=_0x2f335d;if(_0x44fee6[_0x55862a(0x666)])return _0x44fee6[_0x55862a(0x666)]();const _0x3b0f08=_0x44fee6[_0x55862a(0x804)](),_0x4d0896=_0x44fee6[_0x55862a(0x912)](0x1,0x1,_0x44fee6[_0x55862a(0x8da)]);return _0x4d0896[_0x55862a(0x319)](0x0)[0x0]=0xa,_0x3b0f08[_0x55862a(0x2bc)]=_0x4d0896,_0x3b0f08[_0x55862a(0x685)]=!0x0,_0x3b0f08;}}const _0x438e57=_0xc8a6fe['getInstance']();class _0x166063 extends _0x181f4c{['messageCallback']=_0x245a70();[_0x2f335d(0x902)]=_0x245a70();[_0x2f335d(0x2be)]=_0x245a70();[_0x2f335d(0x575)]=new Map();[_0x2f335d(0x5d0)]=new Map();[_0x2f335d(0x29a)];[_0x2f335d(0x108)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x2f335d(0x3db)]=0x0;['loggingCycle']=_0x26e4a0('ReceiverPeerConnection.onMessage',_0x4abdbe[_0x2f335d(0x795)]);['close'](){const _0x163adb=_0x2f335d;this[_0x163adb(0x22d)](),this[_0x163adb(0x575)][_0x163adb(0x18c)](),super[_0x163adb(0x476)]();}async[_0x2f335d(0x655)](_0xc26d61,_0x1429ac){const _0x2746e0=_0x2f335d;this[_0x2746e0(0x68c)]=_0x1429ac,this[_0x2746e0(0x22d)]();const _0x3e5fc9=await this[_0x2746e0(0x35c)][_0x2746e0(0x9b1)](_0xc26d61);this[_0x2746e0(0x274)]();const _0x2833a0=(0x0,_0x2d9acc['v4'])();this[_0x2746e0(0x111)]({'type':_0x37a68d['Answer'],'answer':_0x3e5fc9,'version':_0x1429ac,'connectionType':this[_0x2746e0(0x8c0)]},_0x2833a0),this[_0x2746e0(0x8c0)]===_0x595c1f['Core']&&(this[_0x2746e0(0x29a)]=_0x438e57[_0x2746e0(0x182)](()=>{const _0x19e3b5=_0x2746e0;this['publishSystemMessage']({'type':_0x37a68d[_0x19e3b5(0x7f2)],'answer':_0x3e5fc9,'version':_0x1429ac,'connectionType':this['connectionType']},_0x2833a0);},0x1388));}[_0x2f335d(0x44e)](){const _0x4882aa=_0x2f335d;this[_0x4882aa(0x22d)]();}[_0x2f335d(0x7c5)](_0xf2c892){const _0x3ca039=_0x2f335d;this['resetConnection'](_0xf2c892),this[_0x3ca039(0x111)]({'type':_0x37a68d[_0x3ca039(0x374)]});}async[_0x2f335d(0x866)](){const _0x43df67=_0x2f335d;this[_0x43df67(0x57e)]&&(await this[_0x43df67(0x35c)][_0x43df67(0x70d)](this['receivers'],(_0xc6cab0,_0x3f7453)=>{const _0x24755=_0x43df67;_0x30d134({'type':_0x37a68d[_0x24755(0x49a)],'streamId':_0x3f7453,'nodeId':this[_0x24755(0x559)],'stats':_0xc6cab0},this[_0x24755(0x57e)]);}),this[_0x43df67(0x57e)][_0x43df67(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688['PeerConnection'],'content':{'type':_0x37a68d[_0x43df67(0x49a)],'nodeId':this[_0x43df67(0x559)],'stats':{'origin':_0x179164[_0x43df67(0x8f6)],'timestamp':Date[_0x43df67(0x449)](),'messagesReceived':this[_0x43df67(0x108)],'bytesReceived':this[_0x43df67(0x772)],'timeReceiving':this[_0x43df67(0x3db)],'systemMessages':this[_0x43df67(0x554)]}}}));}[_0x2f335d(0x904)](_0x2a54a5){const _0x52bd05=_0x2f335d;return _0x4dc50e[_0x52bd05(0x405)]?this['messageCallback'][_0x52bd05(0x504)](_0x2a54a5):this[_0x52bd05(0x210)][_0x52bd05(0x504)](_0x318f8d=>{const _0x25e004=_0x52bd05;0x0===_0x318f8d[_0x25e004(0x408)]&&_0x318f8d[_0x25e004(0x8ac)]===_0x4ba688[_0x25e004(0x109)]&&this['loggingCycle']['logger'][_0x25e004(0x6fb)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this[_0x25e004(0x559)],()=>_0x382246(_0x318f8d)),_0x2a54a5(_0x318f8d);});}[_0x2f335d(0x56f)](_0xde00a){const _0x4f6298=_0x2f335d;return this[_0x4f6298(0x902)][_0x4f6298(0x504)](({track:_0x134d22,stream:_0xa18c43})=>_0xde00a(_0x134d22,_0xa18c43));}[_0x2f335d(0x8ce)](_0x54f4a9){const _0x5a70ff=_0x2f335d;return this[_0x5a70ff(0x2be)][_0x5a70ff(0x504)](({track:_0x4826b1,stream:_0x2d30aa})=>_0x54f4a9(_0x4826b1,_0x2d30aa));}[_0x2f335d(0x89a)](_0x1f2213){const _0x390023=_0x2f335d;this[_0x390023(0x22d)](),this[_0x390023(0x575)]['forEach'](_0x3ed319=>{_0x3ed319['clear']();}),super[_0x390023(0x89a)](_0x1f2213);}[_0x2f335d(0x752)](){const _0x419de4=_0x2f335d;this['publishSystemMessage']({'type':_0x37a68d['Handshake'],'candidates':this[_0x419de4(0x50e)],'origin':_0x179164[_0x419de4(0x8f6)],'version':this[_0x419de4(0x68c)],'connectionType':this[_0x419de4(0x8c0)]});}[_0x2f335d(0x9cc)](){const _0x2283c3=_0x2f335d;super['setupConnectionEvents'](),this[_0x2283c3(0x35c)][_0x2283c3(0x56f)]=_0x5c2ead=>{const _0x59126a=_0x2283c3;_0x5a023b[_0x59126a(0x6fb)](_0x4abdbe[_0x59126a(0x2a6)],_0x59126a(0x4f1),this['localNode'][_0x59126a(0x92c)](),_0x5c2ead),_0x5c2ead[_0x59126a(0x6a9)][0x0][_0x59126a(0xe4)]=_0x8d247c=>{const _0x210542=_0x59126a;this[_0x210542(0x575)][_0x210542(0x389)](_0x5c2ead[_0x210542(0x6a9)][0x0]['id'])?.['delete'](_0x8d247c['track']),0x0===this['receivers']['get'](_0x5c2ead[_0x210542(0x6a9)][0x0]['id'])?.[_0x210542(0x15b)]&&this[_0x210542(0x575)][_0x210542(0x2ee)](_0x5c2ead[_0x210542(0x6a9)][0x0]['id']),this[_0x210542(0x2be)]['publish']({'track':_0x8d247c[_0x210542(0x47b)],'stream':_0x5c2ead[_0x210542(0x6a9)][0x0]});},this[_0x59126a(0x575)]['has'](_0x5c2ead['streams'][0x0]['id'])||this[_0x59126a(0x575)]['set'](_0x5c2ead['streams'][0x0]['id'],new Set()),this[_0x59126a(0x575)][_0x59126a(0x389)](_0x5c2ead[_0x59126a(0x6a9)][0x0]['id'])[_0x59126a(0xad)](_0x5c2ead[_0x59126a(0x47b)]),this['trackCallback'][_0x59126a(0x620)]({'track':_0x5c2ead[_0x59126a(0x47b)],'stream':_0x5c2ead[_0x59126a(0x6a9)][0x0]});},this[_0x2283c3(0x35c)]['onDataChannel']=_0x27debb=>{const _0x79edd2=_0x2283c3;this[_0x79edd2(0x890)]=_0x27debb[_0x79edd2(0x4c8)],this['dataChannel'][_0x79edd2(0x904)]=_0x3ba453=>{const _0x578015=_0x79edd2;if(_0x3ba453[_0x578015(0x1c9)]!==_0x5b731d)this['handleOnMessage'](_0x3ba453[_0x578015(0x1c9)]);else{if(!this[_0x578015(0x890)])return void _0x5a023b[_0x578015(0x646)](_0x578015(0x863),{'clusterId':this[_0x578015(0x49c)],'nodeId':this[_0x578015(0x6c3)][_0x578015(0x92c)](),'nodeType':this['localNode'][_0x578015(0x4e7)],'remoteId':this[_0x578015(0x559)],'data':{'connection':'receiver'}});if(_0x578015(0x8d6)!==this[_0x578015(0x890)][_0x578015(0x4b7)])return;this[_0x578015(0x890)][_0x578015(0x869)]('1');}};};}[_0x2f335d(0x81e)](_0xd3d6be){const _0x417689=_0x2f335d;if(_0x417689(0x9d9)==typeof _0xd3d6be&&_0xd3d6be[_0x417689(0x60c)](_0x3d8da3))return this[_0x417689(0x108)]+=0x1,this[_0x417689(0x772)]+=_0xd3d6be[_0x417689(0x39c)],this[_0x417689(0x22f)](_0xd3d6be);setTimeout(()=>{const _0x25690b=_0x417689,_0x50c7ff=Date[_0x25690b(0x449)]();let _0x379d39;if((_0xd3d6be instanceof ArrayBuffer||_0xd3d6be[_0x25690b(0x39c)]<=_0x4d6054)&&(this['messagesReceived']+=0x1,this[_0x25690b(0x772)]+=_0xd3d6be instanceof ArrayBuffer?_0xd3d6be[_0x25690b(0x422)]:_0xd3d6be[_0x25690b(0x39c)]),_0xd3d6be instanceof ArrayBuffer){const [_0x44f61a,_0x24753c]=this[_0x25690b(0x9a8)](_0xd3d6be);_0x379d39=_0x44f61a,_0x379d39['content'][_0x25690b(0x1c9)]=_0x24753c;}else _0x379d39=JSON[_0x25690b(0x5c4)](_0xd3d6be);if(0x0===_0x379d39[_0x25690b(0x408)]){this[_0x25690b(0x554)][_0x25690b(0x77d)][_0x25690b(0x4c6)]+=0x1;const {systemMessageType:_0x3e81d9,systemContentMessageType:_0x2ae783}=_0x382246(_0x379d39);this['systemMessagesReceived'][_0x3e81d9]||(this[_0x25690b(0x554)][_0x3e81d9]={[_0x2ae783]:0x0}),this['systemMessagesReceived'][_0x3e81d9][_0x2ae783]||(this['systemMessagesReceived'][_0x3e81d9][_0x2ae783]=0x0),this[_0x25690b(0x554)][_0x3e81d9][_0x25690b(0x4c6)]||(this['systemMessagesReceived'][_0x3e81d9][_0x25690b(0x4c6)]=0x0),this[_0x25690b(0x554)][_0x3e81d9][_0x2ae783]+=0x1,this[_0x25690b(0x554)][_0x3e81d9][_0x25690b(0x4c6)]+=0x1;}this[_0x25690b(0x210)][_0x25690b(0x620)](_0x379d39),this['timeReceiving']+=Date[_0x25690b(0x449)]()-_0x50c7ff;},0x0);}[_0x2f335d(0x22f)](_0x1cb383){const _0x2d6ea8=_0x2f335d,_0x4e56ff=_0x1cb383['split'](';'),_0x376489=_0x4e56ff[0x1],_0x5a9204=parseInt(_0x4e56ff[0x2],0xa),_0x49da49=parseInt(_0x4e56ff[0x3],0xa),_0x5d07a5=_0x1cb383[_0x2d6ea8(0x709)](_0x3d8da3+';'+_0x376489+';'+_0x5a9204+';'+_0x49da49+';','');this[_0x2d6ea8(0x5d0)][_0x2d6ea8(0x627)](_0x376489)||this[_0x2d6ea8(0x5d0)][_0x2d6ea8(0x120)](_0x376489,[]);const _0x2aa5b1=this['chunks'][_0x2d6ea8(0x389)](_0x376489);_0x2aa5b1[_0x5a9204]=_0x5d07a5,_0x2aa5b1['length']===_0x49da49&&(this[_0x2d6ea8(0x81e)](_0x2aa5b1[_0x2d6ea8(0x67e)]('')),this[_0x2d6ea8(0x5d0)]['delete'](_0x376489));}[_0x2f335d(0x22d)](){const _0x3440e2=_0x2f335d;this[_0x3440e2(0x29a)]?.(),delete this[_0x3440e2(0x29a)];}[_0x2f335d(0x211)](_0x41fd2b){const _0x3d912c=_0x2f335d,_0x8f71d=new TextDecoder()[_0x3d912c(0x30d)](_0x41fd2b);return JSON[_0x3d912c(0x5c4)](_0x8f71d);}['splitParts'](_0x5827e1){const _0x2b950d=_0x2f335d,_0x274589=new Uint8Array(_0x5827e1['slice'](0x0,0x4)),_0x1b13f8=new Uint32Array(_0x274589[_0x2b950d(0x2bc)])[0x0],_0x487c5d=new Uint8Array(_0x5827e1[_0x2b950d(0x609)](0x4,0x4+_0x1b13f8)),_0x29847d=new Uint8Array(_0x5827e1['slice'](0x4+_0x1b13f8));return[this[_0x2b950d(0x211)](_0x487c5d[_0x2b950d(0x2bc)]),_0x29847d[_0x2b950d(0x2bc)]];}}const _0x20f9c5=0xc350;var _0x10667d,_0x207b64;!function(_0x5177f9){const _0x242fd=_0x2f335d;_0x5177f9[_0x5177f9[_0x242fd(0x603)]=0x0]=_0x242fd(0x603),_0x5177f9[_0x5177f9[_0x242fd(0x860)]=0x1]=_0x242fd(0x860),_0x5177f9[_0x5177f9['Low']=0x2]=_0x242fd(0x963);}(_0x10667d||(_0x10667d={}));class _0x15369c extends _0x181f4c{[_0x2f335d(0x654)];['maxBpp'];[_0x2f335d(0x855)]=new Map();[_0x2f335d(0x551)];[_0x2f335d(0x954)];[_0x2f335d(0x1ab)];[_0x2f335d(0x358)]=!0x1;[_0x2f335d(0x856)];[_0x2f335d(0x5f2)];[_0x2f335d(0x62a)];[_0x2f335d(0x240)]=function(e,t=_0x10667d,s=!0x1){const _0x7ba45f=_0x2f335d;let n=!0x1;const i=[];async function o(){const _0xed429b=a0_0x2fcc;if(!n){for(n=!0x0;i['some'](e=>e['head']);){let t,n=0x0;for(const [e,s]of i[_0xed429b(0x8dc)]())if(t=s[_0xed429b(0x234)](),n=e,t)break;if(t)try{if(e instanceof _0x2d02ef&&e[_0xed429b(0x407)](t),e instanceof _0x491672&&await e['call'](t),i[_0xed429b(0x609)](-0x1)[_0xed429b(0x5dc)](e=>e[_0xed429b(0x53d)]))continue;const s=i[_0xed429b(0x39c)]-0x1;n===s&&i[s][_0xed429b(0x53d)]&&await _0x438e57[_0xed429b(0x52f)](0x0);}catch(o){s?i[n][_0xed429b(0x6e4)](t,!0x1):i[n][_0xed429b(0x236)](t,!0x1),await e['wait']();}}n=!0x1;}}return Object[_0x7ba45f(0x349)](t)[_0x7ba45f(0x82f)](e=>{const _0x5867ce=_0x7ba45f;_0x5867ce(0x9d9)!=typeof e&&(i[e]=_0x3eb059(o));}),{'queues':i};}(new _0x2d02ef(this[_0x2f335d(0x686)]['bind'](this),this[_0x2f335d(0x25f)][_0x2f335d(0x1b9)](this)));[_0x2f335d(0x7c8)]=0x0;['bytesSent']=0x0;[_0x2f335d(0x442)]=0x0;[_0x2f335d(0x4d5)]=0x0;[_0x2f335d(0x388)];[_0x2f335d(0x3a7)]=_0x26e4a0(_0x2f335d(0x87b),_0x4abdbe['SenderSendMessage']);constructor(_0x3c6871,_0x553400,_0x3b0f04,_0x33c1ac,_0x2226f5,_0x18e449,_0x4799f5,_0x257e8a){const _0x2b9577=_0x2f335d;super(_0x3c6871,_0x553400,_0x3b0f04,_0x33c1ac,_0x2226f5,_0x257e8a),this[_0x2b9577(0x654)]=_0x18e449,this[_0x2b9577(0x1ed)]=_0x4799f5;}['close'](){const _0x4e8387=_0x2f335d;this[_0x4e8387(0x59a)](),this['clearHeartbeat'](),delete this['lastHeartbeat'],this[_0x4e8387(0x770)](),this[_0x4e8387(0x17a)](),this[_0x4e8387(0x1fa)](),this['senders']['clear'](),this[_0x4e8387(0x358)]=!0x1,this[_0x4e8387(0x240)]['queues']['forEach'](_0x6503e2=>_0x6503e2[_0x4e8387(0x18c)]()),this['clearOncloseTimeout'](),super['close']();}['isConnected'](){const _0x4ae699=_0x2f335d;return!!this[_0x4ae699(0x1ab)]&&super[_0x4ae699(0xdc)]()&&Date[_0x4ae699(0x449)]()-this['lastHeartbeat']<0x3a98;}async[_0x2f335d(0x866)](){const _0x4e33c3=_0x2f335d;this[_0x4e33c3(0x57e)]&&(await this[_0x4e33c3(0x35c)][_0x4e33c3(0x899)](this[_0x4e33c3(0x855)],(_0x13dd3d,_0x2a7bb4)=>{const _0x565863=_0x4e33c3;_0x30d134({'type':_0x37a68d[_0x565863(0x49a)],'streamId':_0x2a7bb4,'nodeId':this[_0x565863(0x559)],'stats':_0x13dd3d},this[_0x565863(0x57e)]);}),this['systemTopic'][_0x4e33c3(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x4e33c3(0x771)],'content':{'type':_0x37a68d['Stats'],'nodeId':this[_0x4e33c3(0x559)],'stats':{'origin':_0x179164[_0x4e33c3(0x72f)],'timestamp':Date[_0x4e33c3(0x449)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x4e33c3(0x18b)],'timeSending':this[_0x4e33c3(0x442)],'roundTripTime':this[_0x4e33c3(0x4d5)]}}}));}async[_0x2f335d(0x6c2)](_0x49f30a){const _0x41d5c9=_0x2f335d;_0x5a023b['log'](_0x4abdbe[_0x41d5c9(0x2a6)],_0x41d5c9(0x568),this[_0x41d5c9(0x6c3)][_0x41d5c9(0x92c)](),this['remoteId']),this[_0x41d5c9(0x770)](),this[_0x41d5c9(0x17a)](),this[_0x41d5c9(0x1fa)](),this['connectionTimeout']=setTimeout(()=>{const _0x97e375=_0x41d5c9;this[_0x97e375(0x3c6)]();},0x7530),this['dataChannel']||(this['dataChannel']=this[_0x41d5c9(0x35c)]['createDataChannel'](_0x41d5c9(0x1c9)),this[_0x41d5c9(0x890)][_0x41d5c9(0x6ec)]=_0x407548,this[_0x41d5c9(0x890)]['onClose']=()=>{const _0x1d0f6d=_0x41d5c9;this[_0x1d0f6d(0x388)]=setTimeout(()=>{const _0x254830=_0x1d0f6d;delete this[_0x254830(0x388)],[_0x254830(0x653),'open'][_0x254830(0x4a7)](this['dataChannel']?.[_0x254830(0x4b7)]??'')||this['handleDisconnect']();},0xfa);});const _0x35aa03=await this[_0x41d5c9(0x35c)][_0x41d5c9(0x6c2)](_0x49f30a);this[_0x41d5c9(0x1ab)]||(this[_0x41d5c9(0x1ab)]=Date[_0x41d5c9(0x449)]());const _0x7b8306=(0x0,_0x2d9acc['v4'])();this[_0x41d5c9(0x111)]({'type':_0x37a68d[_0x41d5c9(0x571)],'offer':_0x35aa03,'version':this[_0x41d5c9(0x68c)],'connectionType':this[_0x41d5c9(0x8c0)]},_0x7b8306),this['connectionType']===_0x595c1f[_0x41d5c9(0x5e4)]&&(this[_0x41d5c9(0x954)]=_0x438e57['setInterval'](()=>{const _0x2fb1c4=_0x41d5c9;this['publishSystemMessage']({'type':_0x37a68d[_0x2fb1c4(0x571)],'offer':_0x35aa03,'version':this[_0x2fb1c4(0x68c)],'connectionType':this[_0x2fb1c4(0x8c0)]},_0x7b8306);},0x1388));}async[_0x2f335d(0x6fd)](_0x2bb9b8,_0x3d85b0){const _0x3991cc=_0x2f335d;if(_0x3d85b0===this[_0x3991cc(0x68c)]){this[_0x3991cc(0x1fa)]();try{await this[_0x3991cc(0x35c)][_0x3991cc(0x6fd)](_0x2bb9b8,this[_0x3991cc(0x6c2)][_0x3991cc(0x1b9)](this)),this[_0x3991cc(0x274)](),this[_0x3991cc(0x17a)](),this['startHeartbeat']();}catch(_0x3c478b){this[_0x3991cc(0x3c6)]();}}}[_0x2f335d(0x869)](_0x13faaf){const _0x454039=_0x2f335d;if(!this[_0x454039(0x890)])throw new _0x315451(_0x315451[_0x454039(0x600)][_0x454039(0x7ee)],{'message':_0x454039(0x2e5),'localId':this[_0x454039(0x6c3)][_0x454039(0x92c)](),'remoteId':this[_0x454039(0x559)],'eventMessage':_0x13faaf});if(_0x454039(0x8d6)!==this[_0x454039(0x890)][_0x454039(0x4b7)])throw new _0x315451(_0x315451[_0x454039(0x600)][_0x454039(0x7ee)],{'message':_0x454039(0x5cd),'localId':this[_0x454039(0x6c3)][_0x454039(0x92c)](),'remoteId':this[_0x454039(0x559)],'eventMessage':_0x13faaf});let _0x4f94b0;if(_0x13faaf['content'][_0x454039(0x1c9)]instanceof ArrayBuffer){const _0x256a58=_0x13faaf[_0x454039(0x569)][_0x454039(0x1c9)];_0x13faaf={..._0x13faaf,'content':{..._0x13faaf['content'],'data':void 0x0}},_0x4f94b0=this['mergeParts'](_0x13faaf,_0x256a58);}else _0x4f94b0=JSON[_0x454039(0x4ad)](_0x13faaf);if('string'==typeof _0x4f94b0&&_0x4f94b0['length']>_0x4d6054)return this[_0x454039(0x3b9)](_0x13faaf,_0x4f94b0);0x0===_0x13faaf[_0x454039(0x408)]&&_0x13faaf[_0x454039(0x8ac)]===_0x4ba688[_0x454039(0x109)]&&this[_0x454039(0x3a7)][_0x454039(0x6b6)][_0x454039(0x85d)](()=>_0x5a023b[_0x454039(0x6fb)](_0x4abdbe[_0x454039(0x252)],_0x454039(0x418),this[_0x454039(0x559)],_0x382246(_0x13faaf)),void 0x0);const _0x326ef4=0x0===_0x13faaf[_0x454039(0x408)]&&[_0x4ba688[_0x454039(0x378)],_0x4ba688[_0x454039(0x771)]][_0x454039(0x4a7)](_0x13faaf[_0x454039(0x8ac)])?_0x10667d[_0x454039(0x603)]:_0x13faaf instanceof ArrayBuffer?_0x10667d[_0x454039(0x963)]:_0x10667d[_0x454039(0x860)];this[_0x454039(0x34e)](_0x4f94b0,_0x326ef4);}[_0x2f335d(0x1bf)](_0x2704c6,_0x4e834d,_0x26aa8b,_0x3a7bdb){const _0x127a36=_0x2f335d,_0x37be0b=(_0x5704c5=this['maxFps'],_0x4c53a1=this[_0x127a36(0x1ed)],Math['floor'](0xe1000*_0x5704c5*_0x4c53a1));var _0x5704c5,_0x4c53a1;const _0x15b031=this[_0x127a36(0x855)][_0x127a36(0x389)](_0x4e834d['id'])||{'stream':_0x4e834d,'priority':_0x26aa8b,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x37be0b,'maxBitrate':_0x37be0b,'framerate':this[_0x127a36(0x654)],'maxFramerate':this[_0x127a36(0x654)],'tracks':{},'params':_0x3a7bdb},_0xec0914=_0x15b031[_0x127a36(0x73d)][_0x2704c6[_0x127a36(0x434)]]||{'track':_0x2704c6};if(_0xec0914[_0x127a36(0x883)]?(_0xec0914[_0x127a36(0x47b)]=_0x2704c6,this['connection'][_0x127a36(0x758)](_0x2704c6,_0xec0914[_0x127a36(0x883)])):_0xec0914['sender']=this[_0x127a36(0x35c)][_0x127a36(0x1bf)](_0x2704c6,_0x4e834d),_0x15b031[_0x127a36(0x73d)][_0x2704c6['kind']]=_0xec0914,_0x3a7bdb&&(_0x15b031[_0x127a36(0x4e9)]=_0x3a7bdb),_0x3a7bdb&&_0x127a36(0x209)===_0x3a7bdb[_0x127a36(0x434)]&&_0x3a7bdb[_0x127a36(0x3c0)]&&_0x3a7bdb['maxResolution']&&(_0x15b031['resolutionScale']=this[_0x127a36(0x3ce)](_0x3a7bdb[_0x127a36(0x3c0)],_0x3a7bdb[_0x127a36(0xf1)]),_0x15b031[_0x127a36(0x777)]=_0x15b031[_0x127a36(0x661)],_0x15b031[_0x127a36(0x73d)][_0x127a36(0x209)]&&_0x15b031[_0x127a36(0x73d)]['video']['sender'])){const _0x5d995e=_0x15b031['tracks']['video'][_0x127a36(0x883)];this[_0x127a36(0x35c)]['setEncodingParameters'](_0x5d995e,Math[_0x127a36(0x934)](0xa*_0x15b031[_0x127a36(0x661)])/0xa,_0x15b031[_0x127a36(0x719)],_0x15b031[_0x127a36(0xac)],_0x15b031[_0x127a36(0x6bf)]);}this['senders'][_0x127a36(0x120)](_0x4e834d['id'],_0x15b031);}[_0x2f335d(0x9dc)](_0x187a06,_0x2e9324){const _0x577821=_0x2f335d,_0xdf081c=this[_0x577821(0x855)]['get'](_0x187a06['id']);if(_0xdf081c&&_0xdf081c[_0x577821(0x6bf)]!==_0x2e9324&&(_0xdf081c[_0x577821(0x6bf)]=_0x2e9324,_0xdf081c[_0x577821(0x73d)]['video']&&_0xdf081c[_0x577821(0x73d)][_0x577821(0x209)][_0x577821(0x883)])){const _0x5b0c2c=_0xdf081c[_0x577821(0x73d)]['video'][_0x577821(0x883)];this['connection']['setEncodingParameters'](_0x5b0c2c,Math['floor'](0xa*_0xdf081c['resolutionScale'])/0xa,_0xdf081c[_0x577821(0x719)],_0xdf081c['bitrate'],_0xdf081c[_0x577821(0x6bf)]);}}[_0x2f335d(0x7e4)](_0x3442bb,_0x4ed427){const _0x1e91bf=_0x2f335d,_0x828175=this[_0x1e91bf(0x855)]['get'](_0x3442bb['id']);if(_0x828175){if(_0x828175[_0x1e91bf(0x4e9)]=_0x4ed427,_0x4ed427&&_0x1e91bf(0x209)===_0x4ed427[_0x1e91bf(0x434)]&&_0x4ed427[_0x1e91bf(0x3c0)]&&_0x4ed427[_0x1e91bf(0xf1)]){if(_0x828175[_0x1e91bf(0x777)]=this['getResolutionScale'](_0x4ed427[_0x1e91bf(0x3c0)],_0x4ed427[_0x1e91bf(0xf1)]),_0x828175[_0x1e91bf(0x661)]<_0x828175[_0x1e91bf(0x777)]&&(_0x828175[_0x1e91bf(0x661)]=_0x828175[_0x1e91bf(0x777)]),_0x828175['tracks'][_0x1e91bf(0x209)]&&_0x828175['tracks'][_0x1e91bf(0x209)][_0x1e91bf(0x883)]){const _0x12c0ec=_0x828175[_0x1e91bf(0x73d)]['video'][_0x1e91bf(0x883)];this['connection'][_0x1e91bf(0x8b5)](_0x12c0ec,Math[_0x1e91bf(0x934)](0xa*_0x828175[_0x1e91bf(0x661)])/0xa,_0x828175[_0x1e91bf(0x719)],_0x828175[_0x1e91bf(0xac)],_0x828175['priority']);}this[_0x1e91bf(0x59a)](),this[_0x1e91bf(0x7a6)]();}this[_0x1e91bf(0x855)][_0x1e91bf(0x120)](_0x3442bb['id'],_0x828175);}}[_0x2f335d(0x947)](_0x48de4e,_0x195d3e){const _0xf26aad=_0x2f335d,_0x4dfa1f=this[_0xf26aad(0x855)][_0xf26aad(0x389)](_0x195d3e['id']);if(_0x4dfa1f){const _0x41ca46=_0x4dfa1f[_0xf26aad(0x73d)][_0x48de4e[_0xf26aad(0x434)]];_0x41ca46&&(_0x41ca46['sender']&&this[_0xf26aad(0x35c)][_0xf26aad(0x947)](_0x41ca46[_0xf26aad(0x883)]),_0x41ca46[_0xf26aad(0x47b)]=void 0x0);}}['applyRemediation'](_0x1fbc39){const _0x3bd5c8=_0x2f335d;this[_0x3bd5c8(0x59a)]();const _0x302b90=function(_0x55d4e0,_0x5c2fdc){const _0x3a676e=_0x3bd5c8;return _0x55d4e0[_0x3a676e(0x991)]((_0x47f5b2,_0x20c4bf)=>_0x5c2fdc['action']===_0x293356[_0x3a676e(0x845)]?_0x20c4bf[_0x3a676e(0x6bf)]-_0x47f5b2[_0x3a676e(0x6bf)]:_0x47f5b2[_0x3a676e(0x6bf)]-_0x20c4bf[_0x3a676e(0x6bf)])['find'](_0x9dd1f=>function(_0x1903bf,_0x27d4ef){const _0x43940a=_0x3a676e;if(_0x27d4ef[_0x43940a(0x2ef)]===_0x293356[_0x43940a(0x845)]){if(_0x27d4ef[_0x43940a(0x7d3)]===_0x255818[_0x43940a(0x1e0)])return _0x1903bf[_0x43940a(0x661)]<0x4||_0x1903bf[_0x43940a(0x6c4)]>0xf;if(_0x27d4ef[_0x43940a(0x7d3)]===_0x255818[_0x43940a(0xfa)])return _0x1903bf[_0x43940a(0x3e4)]>_0x20f9c5;}return _0x1903bf[_0x43940a(0x661)]>_0x1903bf[_0x43940a(0x777)]||_0x1903bf[_0x43940a(0x719)]<_0x1903bf[_0x43940a(0x6c4)]||_0x1903bf['bitrate']<_0x1903bf[_0x43940a(0x3e4)];}(_0x9dd1f,_0x5c2fdc));}(Array[_0x3bd5c8(0x2ce)](this[_0x3bd5c8(0x855)][_0x3bd5c8(0x349)]()),_0x1fbc39);if(_0x302b90&&(function(_0x15439b,_0x1cfcd1){const _0x5939ea=_0x3bd5c8;_0x15439b[_0x5939ea(0x73d)][_0x5939ea(0x209)]&&_0x15439b[_0x5939ea(0x73d)][_0x5939ea(0x209)][_0x5939ea(0x883)]&&(_0x15439b[_0x5939ea(0x661)]=function(_0x4d3ab5,_0x6ca30,_0x16b819){const _0x3565bf=_0x5939ea;switch(_0x16b819['action']){case _0x293356[_0x3565bf(0x845)]:_0x16b819[_0x3565bf(0x7d3)]===_0x255818[_0x3565bf(0x1e0)]&&(_0x4d3ab5+=0.5)>0x4&&(_0x4d3ab5=0x4);break;case _0x293356[_0x3565bf(0x4f6)]:(_0x4d3ab5-=0.5)<_0x6ca30&&(_0x4d3ab5=_0x6ca30);}return _0x4d3ab5;}(_0x15439b[_0x5939ea(0x661)],_0x15439b['minResolutionScale'],_0x1cfcd1),_0x15439b[_0x5939ea(0x719)]=function(_0x1e0f9a,_0x4a942f,_0x54c490){const _0x4bbebd=_0x5939ea;switch(_0x54c490[_0x4bbebd(0x2ef)]){case _0x293356[_0x4bbebd(0x845)]:_0x54c490[_0x4bbebd(0x7d3)]===_0x255818[_0x4bbebd(0x1e0)]&&(_0x1e0f9a-=0x3)<0xf&&(_0x1e0f9a=0xf);break;case _0x293356['Upgrade']:(_0x1e0f9a+=0x3)>_0x4a942f&&(_0x1e0f9a=_0x4a942f);}return _0x1e0f9a;}(_0x15439b['framerate'],_0x15439b[_0x5939ea(0x6c4)],_0x1cfcd1),_0x15439b[_0x5939ea(0xac)]=function(_0x410e69,_0x5f1d96,_0x1b2996){const _0x33e498=_0x5939ea;switch(_0x1b2996['action']){case _0x293356['Downgrade']:_0x1b2996['component']===_0x255818['Bitrate']&&(_0x410e69*=0.75)<_0x20f9c5&&(_0x410e69=_0x20f9c5);break;case _0x293356[_0x33e498(0x4f6)]:(_0x410e69*=1.25)>_0x5f1d96&&(_0x410e69=_0x5f1d96);}return _0x410e69;}(_0x15439b[_0x5939ea(0xac)],_0x15439b['maxBitrate'],_0x1cfcd1));}(_0x302b90,_0x1fbc39),_0x302b90[_0x3bd5c8(0x73d)]['video']&&_0x302b90['tracks'][_0x3bd5c8(0x209)][_0x3bd5c8(0x883)])){const _0x417bc1=_0x302b90[_0x3bd5c8(0x73d)]['video'][_0x3bd5c8(0x883)];this[_0x3bd5c8(0x35c)][_0x3bd5c8(0x8b5)](_0x417bc1,Math[_0x3bd5c8(0x934)](0xa*_0x302b90['resolutionScale'])/0xa,_0x302b90['framerate'],_0x302b90['bitrate'],_0x302b90[_0x3bd5c8(0x6bf)]);}(_0x302b90||_0x1fbc39[_0x3bd5c8(0x2ef)]===_0x293356[_0x3bd5c8(0x845)])&&this[_0x3bd5c8(0x7a6)]();}[_0x2f335d(0x651)](){const _0x42c54c=_0x2f335d;return this[_0x42c54c(0x240)][_0x42c54c(0xb5)][_0x42c54c(0x38b)]((_0x1a1e71,_0x247ede)=>_0x1a1e71+_0x247ede[_0x42c54c(0x15b)],0x0)*_0x593546;}[_0x2f335d(0x8e4)](){return this['dataChannel']?.['bufferedAmount']??0x0;}[_0x2f335d(0x89a)](){const _0x2064cb=_0x2f335d;super[_0x2064cb(0x89a)](),this[_0x2064cb(0x92a)](),this['clearWaitAnswer'](),this[_0x2064cb(0x855)][_0x2064cb(0x82f)](_0x776980=>{const _0x333977=_0x2064cb;_0x776980[_0x333977(0x73d)][_0x333977(0x209)]&&(_0x776980[_0x333977(0x73d)]['video']['sender']=void 0x0),_0x776980[_0x333977(0x73d)][_0x333977(0x48b)]&&(_0x776980[_0x333977(0x73d)]['audio'][_0x333977(0x883)]=void 0x0);}),this[_0x2064cb(0x358)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x3f1d80=>{const _0x97cdac=a0_0x2fcc;if(!this[_0x97cdac(0x890)]||_0x97cdac(0x8d6)!==this['dataChannel'][_0x97cdac(0x4b7)])return await _0x438e57['wait'](0x64),void _0x3f1d80();this[_0x97cdac(0x890)][_0x97cdac(0x6c7)]<_0x407548?_0x3f1d80():this[_0x97cdac(0x890)]['onBufferedAmountLow']=()=>{const _0x2ef738=_0x97cdac;this[_0x2ef738(0x890)]&&(this['dataChannel'][_0x2ef738(0x26e)]=null),_0x3f1d80();};});}['sendChunked'](_0x157dc9,_0x275ba8){const _0x506d34=_0x2f335d,_0x58609d=[];for(let _0x3ddfc8=0x0;_0x3ddfc8<_0x275ba8[_0x506d34(0x39c)];_0x3ddfc8+=_0x4d6054)_0x58609d[_0x506d34(0x6e4)](_0x275ba8[_0x506d34(0x609)](_0x3ddfc8,_0x3ddfc8+_0x4d6054));for(const _0x2874b4 of _0x58609d)this[_0x506d34(0x34e)](_0x3d8da3+';'+_0x157dc9[_0x506d34(0x57d)]+';'+_0x58609d['indexOf'](_0x2874b4)+';'+_0x58609d[_0x506d34(0x39c)]+';'+_0x2874b4,_0x10667d['Low']);}async['sendWithRetry'](_0x39c457,_0x5a47bd){const _0x326915=_0x2f335d;_0x39c457===_0x5b731d?this[_0x326915(0x240)][_0x326915(0xb5)][_0x5a47bd]['head']?.['value']!==_0x5b731d&&this['retryQueue'][_0x326915(0xb5)][_0x5a47bd][_0x326915(0x236)](_0x39c457):this[_0x326915(0x240)][_0x326915(0xb5)][_0x5a47bd][_0x326915(0x6e4)](_0x39c457);}[_0x2f335d(0x686)](_0x22de76){const _0x176125=_0x2f335d;if(!this[_0x176125(0x890)]||'open'!==this[_0x176125(0x890)][_0x176125(0x4b7)])throw new Error(_0x176125(0x4c3));if(this[_0x176125(0x890)]['bufferedAmount']>=0xbe8000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x30abf5=Date['now']();_0x22de76!==_0x5b731d&&(this[_0x176125(0x7c8)]+=0x1,this[_0x176125(0x18b)]+=_0x22de76 instanceof ArrayBuffer?_0x22de76[_0x176125(0x422)]:_0x22de76['length']),ArrayBuffer,this['dataChannel']['send'](_0x22de76),this[_0x176125(0x442)]+=Date[_0x176125(0x449)]()-_0x30abf5;}[_0x2f335d(0x612)](){const _0x41573a=_0x2f335d;this['heartbeatUnsubscriber']&&this[_0x41573a(0x2b0)]();let _0x12b224=!0x0,_0x4985db=Date[_0x41573a(0x449)]();this['lastHeartbeat']=Date['now'](),this[_0x41573a(0x890)]['onMessage']=_0x4fb730=>{const _0x4d26c1=_0x41573a;'1'===_0x4fb730['data']&&(this[_0x4d26c1(0x4d5)]=Date[_0x4d26c1(0x449)]()-_0x4985db,_0x12b224&&this['publishSystemMessage']({'type':_0x37a68d[_0x4d26c1(0x5aa)]}),_0x12b224=!0x1,this[_0x4d26c1(0x1ab)]=Date['now'](),this['isReconnecting']&&(this['isReconnecting']=!0x1,this[_0x4d26c1(0x8d)]()));},this[_0x41573a(0x551)]=_0x438e57[_0x41573a(0x182)](()=>{const _0x505a5c=_0x41573a;_0x4985db=Date[_0x505a5c(0x449)](),this['sendWithRetry'](_0x5b731d,_0x10667d['High']),Date[_0x505a5c(0x449)]()-this[_0x505a5c(0x1ab)]>(_0x12b224?0x15f90:0x3a98)&&this[_0x505a5c(0x3c6)]();},0xbb8);}['handleMissingSenders'](){const _0x57559d=_0x2f335d;this[_0x57559d(0x855)][_0x57559d(0x82f)](_0x4124d1=>{const _0x54ac86=_0x57559d;_0x4124d1['tracks'][_0x54ac86(0x209)]&&_0x4124d1[_0x54ac86(0x73d)][_0x54ac86(0x209)][_0x54ac86(0x47b)]&&!_0x4124d1['tracks'][_0x54ac86(0x209)]['sender']&&(_0x4124d1[_0x54ac86(0x73d)][_0x54ac86(0x209)][_0x54ac86(0x883)]=this[_0x54ac86(0x35c)][_0x54ac86(0x1bf)](_0x4124d1[_0x54ac86(0x73d)][_0x54ac86(0x209)][_0x54ac86(0x47b)],_0x4124d1[_0x54ac86(0x247)])),_0x4124d1[_0x54ac86(0x73d)][_0x54ac86(0x48b)]&&_0x4124d1[_0x54ac86(0x73d)][_0x54ac86(0x48b)][_0x54ac86(0x47b)]&&!_0x4124d1[_0x54ac86(0x73d)][_0x54ac86(0x48b)][_0x54ac86(0x883)]&&(_0x4124d1[_0x54ac86(0x73d)]['audio']['sender']=this['connection'][_0x54ac86(0x1bf)](_0x4124d1[_0x54ac86(0x73d)][_0x54ac86(0x48b)]['track'],_0x4124d1[_0x54ac86(0x247)]));});}[_0x2f335d(0x752)](){const _0x434b08=_0x2f335d;this[_0x434b08(0x111)]({'type':_0x37a68d['Handshake'],'candidates':this[_0x434b08(0x50e)],'origin':_0x179164[_0x434b08(0x72f)],'version':this[_0x434b08(0x68c)],'connectionType':this['connectionType']});}[_0x2f335d(0x9cc)](){const _0x36f4b0=_0x2f335d;super[_0x36f4b0(0x9cc)](),this[_0x36f4b0(0x35c)][_0x36f4b0(0x70f)]=()=>{const _0x125eb4=_0x36f4b0;if('failed'===this[_0x125eb4(0x35c)][_0x125eb4(0x6fc)]){_0x5a023b[_0x125eb4(0x6fb)](_0x4abdbe['ConnectionState'],_0x125eb4(0x7d1),this['localNode'][_0x125eb4(0x92c)](),this[_0x125eb4(0x559)]);try{if(this[_0x125eb4(0x35c)][_0x125eb4(0x5a3)])return void this[_0x125eb4(0x35c)]['restartHandshake']();}catch(_0x57ba91){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x36f4b0(0x35c)][_0x36f4b0(0x621)]=()=>{const _0x4ee918=_0x36f4b0;_0x4ee918(0x1f9)!==this['connection'][_0x4ee918(0xf5)]&&_0x4ee918(0x184)!==this[_0x4ee918(0x35c)][_0x4ee918(0xf5)]||this['handleDisconnect']();};}['handleDisconnect'](){const _0x5de181=_0x2f335d;this[_0x5de181(0x2b0)](),this[_0x5de181(0x770)](),this[_0x5de181(0x17a)](),_0x5a023b[_0x5de181(0x80f)](_0x5de181(0x3af),{'clusterId':this[_0x5de181(0x49c)],'nodeId':this['localNode'][_0x5de181(0x92c)](),'nodeType':this[_0x5de181(0x6c3)][_0x5de181(0x4e7)],'remoteId':this['remoteId'],'data':{'connectionType':this['connectionType'],'connectionState':this[_0x5de181(0x35c)][_0x5de181(0xf5)],'iceConnectionState':this[_0x5de181(0x35c)][_0x5de181(0x6fc)],'signalingState':this[_0x5de181(0x35c)]['signalingState'],'readyState':this['dataChannel']?.[_0x5de181(0x4b7)]||'','lastHeartbeat':this[_0x5de181(0x1ab)]?Date[_0x5de181(0x449)]()-this[_0x5de181(0x1ab)]:'','retryQueue':this[_0x5de181(0x240)]}}),(this[_0x5de181(0x1ab)]&&Date[_0x5de181(0x449)]()-this[_0x5de181(0x1ab)]>0xea60)??0x1?this[_0x5de181(0x57e)][_0x5de181(0x620)]({'sourceId':this[_0x5de181(0x559)],'destinationIds':[this[_0x5de181(0x6c3)][_0x5de181(0x92c)]()],'messageType':_0x4ba688[_0x5de181(0x771)],'content':{'type':_0x37a68d[_0x5de181(0x69d)]}}):(this[_0x5de181(0x89a)](),this[_0x5de181(0x111)]({'type':_0x37a68d[_0x5de181(0x582)],'version':this[_0x5de181(0x68c)],'connectionType':this[_0x5de181(0x8c0)]}),this[_0x5de181(0x5f2)]=setTimeout(()=>{const _0x1a0eaa=_0x5de181;this[_0x1a0eaa(0x3c6)]();},0x7530));}['clearHeartbeat'](){const _0x29c4de=_0x2f335d;this[_0x29c4de(0x551)]?.(),delete this['heartbeatUnsubscriber'];}[_0x2f335d(0x17a)](){const _0x5d9da1=_0x2f335d;this[_0x5d9da1(0x856)]&&(clearTimeout(this[_0x5d9da1(0x856)]),delete this[_0x5d9da1(0x856)]);}[_0x2f335d(0x770)](){const _0x3c5bb2=_0x2f335d;this[_0x3c5bb2(0x5f2)]&&(clearTimeout(this[_0x3c5bb2(0x5f2)]),delete this[_0x3c5bb2(0x5f2)]);}[_0x2f335d(0x59a)](){const _0xe0773f=_0x2f335d;this[_0xe0773f(0x62a)]&&(clearTimeout(this[_0xe0773f(0x62a)]),delete this[_0xe0773f(0x62a)]);}[_0x2f335d(0x7a6)](){const _0x38c01b=_0x2f335d;this[_0x38c01b(0x62a)]=setTimeout(()=>{const _0x4eb087=_0x38c01b;this[_0x4eb087(0x6ab)]({'type':_0x3c3d3c[_0x4eb087(0x9dd)],'action':_0x293356[_0x4eb087(0x4f6)]});},0x3a98);}[_0x2f335d(0x3ce)](_0x54333a,_0x51ecc0){const _0x2281d8=_0x2f335d,_0x5b5123=Math['max'](_0x54333a[_0x2281d8(0x9cd)]/_0x51ecc0['width'],_0x54333a[_0x2281d8(0x2a0)]/_0x51ecc0[_0x2281d8(0x2a0)]);return Math[_0x2281d8(0x924)](Math[_0x2281d8(0x246)](_0x5b5123,0x1),0x4);}['clearWaitAnswer'](){const _0x1d2951=_0x2f335d;this[_0x1d2951(0x954)]?.(),delete this[_0x1d2951(0x954)];}['clearOncloseTimeout'](){const _0x55383b=_0x2f335d;this[_0x55383b(0x388)]&&(clearTimeout(this[_0x55383b(0x388)]),delete this[_0x55383b(0x388)]);}[_0x2f335d(0x259)](_0x367456){const _0x2060bf=_0x2f335d,_0x222fad=JSON[_0x2060bf(0x4ad)](_0x367456);return new TextEncoder()['encode'](_0x222fad)['buffer'];}[_0x2f335d(0x3ca)](_0xec5a3c,_0x23c72e){const _0x4e47ff=_0x2f335d,_0x282061=this[_0x4e47ff(0x259)](_0xec5a3c),_0x1c1364=new Uint8Array(0x4),_0x306431=new Uint8Array(_0x282061),_0x3a5d7c=new Uint8Array(_0x23c72e);_0x1c1364[_0x4e47ff(0x120)](new Uint8Array(new Uint32Array([_0x306431[_0x4e47ff(0x39c)]])[_0x4e47ff(0x2bc)]));const _0xf14dbf=new Uint8Array(0x4+_0x306431[_0x4e47ff(0x39c)]+_0x3a5d7c[_0x4e47ff(0x39c)]);return _0xf14dbf[_0x4e47ff(0x120)](_0x1c1364),_0xf14dbf[_0x4e47ff(0x120)](_0x306431,0x4),_0xf14dbf[_0x4e47ff(0x120)](_0x3a5d7c,0x4+_0x306431[_0x4e47ff(0x39c)]),_0xf14dbf[_0x4e47ff(0x2bc)];}}class _0x4239e8 extends _0x1809f9{['iceServers'];['connectionType'];[_0x2f335d(0x654)];['maxBpp'];[_0x2f335d(0x3fd)];[_0x2f335d(0x99c)];['receiverConnection'];[_0x2f335d(0x978)]=[];['messageListeners']=_0x390225();[_0x2f335d(0x4d2)]=_0x390225();[_0x2f335d(0x29e)]=_0x390225();['listenerUnsubscribers']=[];[_0x2f335d(0x57e)];['dataTopics']=new Map();[_0x2f335d(0x948)]=new Map();[_0x2f335d(0x6f3)]=new Map();[_0x2f335d(0x2b7)]=new Map();[_0x2f335d(0x303)]=!0x1;constructor(_0x3606af,_0x552913,_0x406309,_0x5db2de,_0x1f0003,_0x12da66,_0x4aef1c,_0x23a2f7){const _0xb657b0=_0x2f335d;super(_0x3606af,_0x552913,_0x406309),this[_0xb657b0(0x6d2)]=_0x5db2de,this[_0xb657b0(0x8c0)]=_0x1f0003,this['maxFps']=_0x12da66,this[_0xb657b0(0x1ed)]=_0x4aef1c,this[_0xb657b0(0x3fd)]=_0x23a2f7;}[_0x2f335d(0x538)](_0x467011){const _0x1b4fa6=_0x2f335d;switch(_0x467011['getContentType']()){case _0x47407f[_0x1b4fa6(0x1e9)][_0x1b4fa6(0x433)]:case _0x47407f[_0x1b4fa6(0x1e9)]['PubSub']:case _0x47407f[_0x1b4fa6(0x1e9)][_0x1b4fa6(0x806)]:case _0x47407f[_0x1b4fa6(0x1e9)]['KeyValueDatabase']:case _0x47407f['ContentType'][_0x1b4fa6(0x387)]:case _0x47407f[_0x1b4fa6(0x1e9)][_0x1b4fa6(0x485)]:case _0x47407f[_0x1b4fa6(0x1e9)][_0x1b4fa6(0x430)]:case _0x47407f[_0x1b4fa6(0x1e9)][_0x1b4fa6(0x42c)]:this[_0x1b4fa6(0x54c)][_0x1b4fa6(0x120)](_0x467011[_0x1b4fa6(0x20c)](),_0x467011);break;case _0x47407f[_0x1b4fa6(0x1e9)][_0x1b4fa6(0x185)]:this['mediaTopics']['set'](_0x467011[_0x1b4fa6(0x20c)](),_0x467011);}}[_0x2f335d(0x1b8)](_0x1f1aa2){const _0x36347e=_0x2f335d;switch(_0x1f1aa2[_0x36347e(0x8c7)]()){case _0x47407f[_0x36347e(0x1e9)][_0x36347e(0x433)]:case _0x47407f[_0x36347e(0x1e9)][_0x36347e(0x2f7)]:case _0x47407f[_0x36347e(0x1e9)][_0x36347e(0x806)]:case _0x47407f[_0x36347e(0x1e9)][_0x36347e(0x370)]:case _0x47407f[_0x36347e(0x1e9)][_0x36347e(0x387)]:case _0x47407f['ContentType']['VectorDatabase']:case _0x47407f[_0x36347e(0x1e9)][_0x36347e(0x430)]:case _0x47407f['ContentType'][_0x36347e(0x42c)]:this[_0x36347e(0x54c)][_0x36347e(0x2ee)](_0x1f1aa2[_0x36347e(0x20c)]());break;case _0x47407f[_0x36347e(0x1e9)][_0x36347e(0x185)]:this[_0x36347e(0x6f3)][_0x36347e(0x2ee)](_0x1f1aa2[_0x36347e(0x20c)]());}}[_0x2f335d(0x5ef)](_0x4d910d){const _0x4885a3=_0x2f335d;switch(_0x4d910d[_0x4885a3(0x8c7)]()){case _0x47407f['ContentType']['Data']:case _0x47407f[_0x4885a3(0x1e9)][_0x4885a3(0x2f7)]:case _0x47407f[_0x4885a3(0x1e9)][_0x4885a3(0x806)]:case _0x47407f['ContentType'][_0x4885a3(0x370)]:case _0x47407f[_0x4885a3(0x1e9)][_0x4885a3(0x387)]:case _0x47407f[_0x4885a3(0x1e9)]['VectorDatabase']:case _0x47407f[_0x4885a3(0x1e9)][_0x4885a3(0x430)]:case _0x47407f[_0x4885a3(0x1e9)][_0x4885a3(0x42c)]:{const _0x9b6758=_0x4d910d[_0x4885a3(0x504)](_0x206dc3=>{const _0x4ff506=_0x4885a3;_0x46621d(_0x206dc3,this['getLocalId']())&&_0x262c2e(_0x206dc3,this[_0x4ff506(0x559)])&&this[_0x4ff506(0x869)](_0x206dc3);});this[_0x4885a3(0x948)][_0x4885a3(0x120)](_0x4d910d['getLabel'](),_0x9b6758);break;}case _0x47407f[_0x4885a3(0x1e9)]['Media']:{const _0x25db59=_0x4d910d['subscribe'](({content:_0x188c24})=>{const _0x5753d2=_0x4885a3;switch(_0x188c24[_0x5753d2(0x2ef)]){case _0x444468['Add']:this[_0x5753d2(0x1bf)](_0x188c24[_0x5753d2(0x47b)],_0x188c24[_0x5753d2(0x247)],_0x188c24['priority'],_0x188c24[_0x5753d2(0x4e9)]);break;case _0x444468[_0x5753d2(0x4c0)]:this[_0x5753d2(0x947)](_0x188c24[_0x5753d2(0x47b)],_0x188c24[_0x5753d2(0x247)]);break;case _0x444468['Update']:_0x188c24[_0x5753d2(0x6bf)]&&this[_0x5753d2(0x9dc)](_0x188c24[_0x5753d2(0x247)],_0x188c24[_0x5753d2(0x6bf)]),_0x188c24[_0x5753d2(0x4e9)]&&this[_0x5753d2(0x7e4)](_0x188c24[_0x5753d2(0x247)],_0x188c24['params']);}});this[_0x4885a3(0x2b7)][_0x4885a3(0x120)](_0x4d910d[_0x4885a3(0x20c)](),_0x25db59);break;}}}[_0x2f335d(0x980)](_0x222cb4){const _0xbd40ca=_0x2f335d;switch(_0x222cb4[_0xbd40ca(0x8c7)]()){case _0x47407f[_0xbd40ca(0x1e9)][_0xbd40ca(0x433)]:case _0x47407f[_0xbd40ca(0x1e9)]['PubSub']:case _0x47407f[_0xbd40ca(0x1e9)][_0xbd40ca(0x806)]:case _0x47407f[_0xbd40ca(0x1e9)]['KeyValueDatabase']:case _0x47407f[_0xbd40ca(0x1e9)]['Job']:case _0x47407f['ContentType'][_0xbd40ca(0x485)]:case _0x47407f[_0xbd40ca(0x1e9)]['GraphDatabase']:case _0x47407f['ContentType']['ExternalStorage']:this[_0xbd40ca(0x948)][_0xbd40ca(0x389)](_0x222cb4[_0xbd40ca(0x20c)]())?.(),this['dataUnsubscribers']['delete'](_0x222cb4[_0xbd40ca(0x20c)]());break;case _0x47407f[_0xbd40ca(0x1e9)][_0xbd40ca(0x185)]:this[_0xbd40ca(0x2b7)][_0xbd40ca(0x389)](_0x222cb4[_0xbd40ca(0x20c)]())?.(),this[_0xbd40ca(0x2b7)][_0xbd40ca(0x2ee)](_0x222cb4['getLabel']());}}[_0x2f335d(0x901)](){const _0x825d2b=_0x2f335d;return[_0x47407f['ContentType'][_0x825d2b(0x433)],_0x47407f[_0x825d2b(0x1e9)]['Media'],_0x47407f[_0x825d2b(0x1e9)][_0x825d2b(0x2f7)],_0x47407f['ContentType'][_0x825d2b(0x806)],_0x47407f[_0x825d2b(0x1e9)][_0x825d2b(0x370)],_0x47407f['ContentType'][_0x825d2b(0x387)],_0x47407f[_0x825d2b(0x1e9)][_0x825d2b(0x485)],_0x47407f['ContentType'][_0x825d2b(0x430)],_0x47407f['ContentType'][_0x825d2b(0x42c)]];}['registerSystemPublisher'](_0x9d571a){const _0x50e878=_0x2f335d;this[_0x50e878(0x57e)]=_0x9d571a;}[_0x2f335d(0x1f0)](){const _0x46e114=_0x2f335d;delete this[_0x46e114(0x57e)];}async[_0x2f335d(0x10a)](){const _0x3c14ce=_0x2f335d;this[_0x3c14ce(0x16b)](),await this['createOffer']();}['close'](){const _0x22a50a=_0x2f335d;this[_0x22a50a(0xb9)]['forEach'](_0x26e5db=>_0x26e5db()),this[_0x22a50a(0xb9)]=[],this[_0x22a50a(0x99c)]?.[_0x22a50a(0x1f0)](),this['senderConnection']?.[_0x22a50a(0x476)](),delete this['senderConnection'],this[_0x22a50a(0x978)][_0x22a50a(0x82f)](_0x4ec6a7=>_0x4ec6a7()),this[_0x22a50a(0x978)]=[],this['receiverConnection']?.[_0x22a50a(0x1f0)](),this[_0x22a50a(0x49e)]?.['close'](),delete this[_0x22a50a(0x49e)];}['isConnected'](){const _0x5954e1=_0x2f335d;return this[_0x5954e1(0x99c)]?.[_0x5954e1(0xdc)]()&&this[_0x5954e1(0x49e)]?.['isConnected']()||!0x1;}[_0x2f335d(0x869)](_0x3fef4f){const _0x3401c1=_0x2f335d;if(!this[_0x3401c1(0x99c)]||!this[_0x3401c1(0xdc)]())throw new _0x315451(_0x315451[_0x3401c1(0x600)][_0x3401c1(0x3b6)],{'message':_0x3401c1(0x8af),'senderConnected':this['senderConnection']?.[_0x3401c1(0xdc)](),'receiverConnected':this['receiverConnection']?.[_0x3401c1(0xdc)](),'localId':this[_0x3401c1(0x871)](),'remoteId':this['remoteId'],'data':_0x3fef4f});this['senderConnection'][_0x3401c1(0x869)](_0x3fef4f);}[_0x2f335d(0x904)](_0x363bc7){const _0x25c684=_0x2f335d;return this['messageListeners'][_0x25c684(0x504)](_0x363bc7);}[_0x2f335d(0x56f)](_0x39561b){const _0x43c6d8=_0x2f335d;return this[_0x43c6d8(0x4d2)]['subscribe'](({track:_0x12a29f,stream:_0x44e62d})=>_0x39561b(_0x12a29f,_0x44e62d));}[_0x2f335d(0x8ce)](_0x9c5b8){const _0x425c38=_0x2f335d;return this['removeTrackListeners'][_0x425c38(0x504)](({track:_0x1fcec6,stream:_0x202a07})=>_0x9c5b8(_0x1fcec6,_0x202a07));}[_0x2f335d(0x1bf)](_0x5044a4,_0x3e9ce8,_0x47f0ce,_0x53f5a3){const _0x590c31=_0x2f335d;this[_0x590c31(0x99c)]?.[_0x590c31(0x1bf)](_0x5044a4,_0x3e9ce8,_0x47f0ce,_0x53f5a3);}[_0x2f335d(0x9dc)](_0x192e88,_0x4dca17){const _0x5916ba=_0x2f335d;this[_0x5916ba(0x99c)]?.[_0x5916ba(0x9dc)](_0x192e88,_0x4dca17);}['setParams'](_0x1fb98a,_0x2ccd39){const _0x4e98df=_0x2f335d;this['senderConnection']?.[_0x4e98df(0x7e4)](_0x1fb98a,_0x2ccd39);}[_0x2f335d(0x947)](_0x51dcba,_0x58881a){const _0x6ec377=_0x2f335d;this[_0x6ec377(0x99c)]?.[_0x6ec377(0x947)](_0x51dcba,_0x58881a);}async[_0x2f335d(0x217)](_0x103fbd){const _0x591d7e=_0x2f335d;_0x5a023b[_0x591d7e(0x6fb)](_0x4abdbe[_0x591d7e(0x2a6)],_0x591d7e(0x231),this[_0x591d7e(0x871)](),_0x103fbd);const {content:_0x4b9680}=_0x103fbd;switch(_0x4b9680[_0x591d7e(0x4e7)]){case _0x37a68d[_0x591d7e(0x571)]:await this[_0x591d7e(0x655)](_0x4b9680);break;case _0x37a68d[_0x591d7e(0x7f2)]:await this[_0x591d7e(0x6fd)](_0x4b9680);break;case _0x37a68d[_0x591d7e(0x5aa)]:this[_0x591d7e(0x44e)]();break;case _0x37a68d[_0x591d7e(0x195)]:await this['handleIceCandidates'](_0x4b9680);break;case _0x37a68d[_0x591d7e(0x582)]:this[_0x591d7e(0x7c5)](_0x4b9680);break;case _0x37a68d[_0x591d7e(0x374)]:await this['createOffer']();}}[_0x2f335d(0x4fd)](_0x54ca1d){const _0x59d3b7=_0x2f335d;this[_0x59d3b7(0x99c)]?.['applyRemediation'](_0x54ca1d[_0x59d3b7(0x569)]['data']);}[_0x2f335d(0x9ab)](){const _0x1d9c5e=_0x2f335d;return this[_0x1d9c5e(0x8c0)];}[_0x2f335d(0x99e)](_0x90999f){const _0x5e9a4d=_0x2f335d;this['connectionType']=_0x90999f,this['senderConnection']?.[_0x5e9a4d(0x99e)](_0x90999f),this[_0x5e9a4d(0x49e)]?.[_0x5e9a4d(0x99e)](_0x90999f);}async[_0x2f335d(0x866)](){const _0x1dcc25=_0x2f335d;await this[_0x1dcc25(0x99c)]?.[_0x1dcc25(0x866)](),await this[_0x1dcc25(0x49e)]?.[_0x1dcc25(0x866)]();}['calculateArrayBufferSize'](){const _0x36e97a=_0x2f335d;return this[_0x36e97a(0x99c)]?.['calculateArrayBufferSize']()??0x0;}[_0x2f335d(0x8e4)](){const _0x4805bd=_0x2f335d;return this[_0x4805bd(0x99c)]?.[_0x4805bd(0x8e4)]()??0x0;}['setupListeners'](){const _0x32b5af=_0x2f335d;this[_0x32b5af(0xb9)][_0x32b5af(0x6e4)](this[_0x32b5af(0x904)](_0xe005a2=>{const _0x1808c7=_0x32b5af;_0x262c2e(_0xe005a2,this[_0x1808c7(0x871)]())&&0x0!==_0xe005a2[_0x1808c7(0x408)]&&this[_0x1808c7(0x54c)][_0x1808c7(0x389)](_0xe005a2['topicLabel'])?.['publish'](_0xe005a2);})),this[_0x32b5af(0xb9)][_0x32b5af(0x6e4)](this[_0x32b5af(0x56f)]((_0x5ed5b7,_0x1a5dbe)=>{const _0x909009=_0x32b5af,_0x2e425c=_0x5f0105(_0x47407f[_0x909009(0x1e9)][_0x909009(0x185)],_0x1a5dbe['id'],this[_0x909009(0x559)]);this[_0x909009(0x6f3)]['get'](_0x2e425c)?.['publish']({'topicLabel':_0x2e425c,'sourceId':this[_0x909009(0x559)],'contentType':_0x47407f[_0x909009(0x1e9)]['Media'],'content':{'action':_0x444468['RemoteAdd'],'track':_0x5ed5b7,'stream':_0x1a5dbe,'providerId':this[_0x909009(0x559)]}});})),this[_0x32b5af(0xb9)][_0x32b5af(0x6e4)](this['onRemoveTrack']((_0x154457,_0x35c661)=>{const _0x58b854=_0x32b5af,_0x26822f=_0x5f0105(_0x47407f[_0x58b854(0x1e9)][_0x58b854(0x185)],_0x35c661['id'],this['remoteId']);this[_0x58b854(0x6f3)][_0x58b854(0x389)](_0x26822f)?.[_0x58b854(0x620)]({'topicLabel':_0x26822f,'sourceId':this['remoteId'],'contentType':_0x47407f['ContentType'][_0x58b854(0x185)],'content':{'action':_0x444468[_0x58b854(0x46d)],'track':_0x154457,'stream':_0x35c661,'providerId':this[_0x58b854(0x559)]}});}));}[_0x2f335d(0x30e)]({candidates:_0x3269da,origin:_0x33dee9,version:_0x5c49c7}){const _0x578d21=_0x2f335d;return _0x33dee9===_0x179164['Sender']?(this['receiverConnection']||this[_0x578d21(0x35f)](),this['receiverConnection'][_0x578d21(0x3f4)](_0x3269da,_0x5c49c7)):this['senderConnection'][_0x578d21(0x3f4)](_0x3269da,_0x5c49c7);}async[_0x2f335d(0x6c2)](){const _0x167b32=_0x2f335d;this[_0x167b32(0x99c)]||this[_0x167b32(0x988)](),await this[_0x167b32(0x99c)][_0x167b32(0x6c2)]();}async[_0x2f335d(0x655)]({offer:_0x581cb4,version:_0x368370}){const _0x61c631=_0x2f335d;this[_0x61c631(0x49e)]||this['createReceiverConnection'](),await this[_0x61c631(0x49e)][_0x61c631(0x655)](_0x581cb4,_0x368370);}async[_0x2f335d(0x6fd)]({answer:_0x7f7c25,version:_0xc302c7}){const _0x324df4=_0x2f335d;if(!this['senderConnection'])throw new _0x315451(_0x315451[_0x324df4(0x600)][_0x324df4(0x3b6)],{'message':_0x324df4(0x27e),'localId':this[_0x324df4(0x871)](),'remoteId':this[_0x324df4(0x559)],'answer':_0x7f7c25});await this[_0x324df4(0x99c)][_0x324df4(0x6fd)](_0x7f7c25,_0xc302c7);}[_0x2f335d(0x44e)](){const _0x7911dc=_0x2f335d;if(!this['receiverConnection'])throw new _0x315451(_0x315451['codes'][_0x7911dc(0x3b6)],{'message':_0x7911dc(0x6d1),'localId':this[_0x7911dc(0x871)](),'remoteId':this[_0x7911dc(0x559)]});this[_0x7911dc(0x49e)][_0x7911dc(0x44e)](),this[_0x7911dc(0x303)]||this[_0x7911dc(0x8c0)]!==_0x595c1f[_0x7911dc(0x3d4)]||(this[_0x7911dc(0x303)]=!0x0,this[_0x7911dc(0x57e)]?.[_0x7911dc(0x620)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x7911dc(0x871)]()],'messageType':_0x4ba688[_0x7911dc(0x771)],'content':{'type':_0x37a68d[_0x7911dc(0x819)]}}));}[_0x2f335d(0x7c5)](_0x1d4185){const _0x535015=_0x2f335d;this['receiverConnection']||this[_0x535015(0x35f)](),this[_0x535015(0x49e)][_0x535015(0x7c5)](_0x1d4185[_0x535015(0x2f9)]);}[_0x2f335d(0x988)](){const _0x3cdecd=_0x2f335d;this[_0x3cdecd(0x99c)]=new _0x15369c(this['clusterId'],this[_0x3cdecd(0x6c3)],this['remoteId'],this[_0x3cdecd(0x6d2)],this['connectionType'],this[_0x3cdecd(0x654)],this['maxBpp'],this[_0x3cdecd(0x3fd)]),this['senderConnection'][_0x3cdecd(0x333)](this[_0x3cdecd(0x57e)]);}[_0x2f335d(0x35f)](){const _0x234f7f=_0x2f335d;this[_0x234f7f(0x49e)]=new _0x166063(this[_0x234f7f(0x49c)],this[_0x234f7f(0x6c3)],this[_0x234f7f(0x559)],this['iceServers'],this['connectionType'],this[_0x234f7f(0x3fd)]),this['receiverConnection']['registerSystemPublisher'](this[_0x234f7f(0x57e)]),this['receiverUnsubscribers'][_0x234f7f(0x6e4)](this[_0x234f7f(0x49e)][_0x234f7f(0x904)](_0x17012b=>this[_0x234f7f(0x36c)][_0x234f7f(0x620)](_0x17012b))),this[_0x234f7f(0x978)]['push'](this['receiverConnection'][_0x234f7f(0x56f)]((_0x33ede9,_0x1ee3b9)=>this[_0x234f7f(0x4d2)]['publish']({'track':_0x33ede9,'stream':_0x1ee3b9}))),this[_0x234f7f(0x978)][_0x234f7f(0x6e4)](this[_0x234f7f(0x49e)]['onRemoveTrack']((_0x4102d6,_0x1f8538)=>this['removeTrackListeners']['publish']({'track':_0x4102d6,'stream':_0x1f8538})));}}class _0x5b521a{[_0x2f335d(0x8ec)];[_0x2f335d(0x4db)];[_0x2f335d(0x7b4)];[_0x2f335d(0x48a)]=new Map();[_0x2f335d(0x36c)]=_0x390225();[_0x2f335d(0x2f4)];[_0x2f335d(0x54c)]=new Map();[_0x2f335d(0x948)]=new Map();[_0x2f335d(0x63f)]=new Map();constructor(_0x3a044f,_0x5ed937,_0x3d068b){const _0x5b4c1a=_0x2f335d;this[_0x5b4c1a(0x8ec)]=_0x3a044f,this[_0x5b4c1a(0x4db)]=_0x5ed937,this[_0x5b4c1a(0x7b4)]=_0x3d068b,this[_0x5b4c1a(0x2f4)]=this[_0x5b4c1a(0x904)](_0x21eb4d=>{const _0xad6435=_0x5b4c1a;this['messageBuffer'][_0xad6435(0x3f6)](_0x21eb4d['uuid'])||(_0x262c2e(_0x21eb4d,this[_0xad6435(0x8ec)])&&0x0!==_0x21eb4d['topicLabel']&&(this[_0xad6435(0x4db)][_0xad6435(0x779)](_0x21eb4d[_0xad6435(0x57d)]),this[_0xad6435(0x54c)][_0xad6435(0x389)](_0x21eb4d['topicLabel'])?.[_0xad6435(0x620)](_0x21eb4d)),_0x21eb4d['propagate']&&this[_0xad6435(0x869)](_0x21eb4d));});}[_0x2f335d(0x476)](){const _0x45f0e9=_0x2f335d;this[_0x45f0e9(0x2f4)]?.();}[_0x2f335d(0x987)](_0x34381d){const _0x556207=_0x2f335d,_0x229c3a=_0x34381d[_0x556207(0x904)](_0x397235=>{const _0x312bb1=_0x556207;this['messageListeners'][_0x312bb1(0x620)](_0x397235);});this['connections'][_0x556207(0x120)](_0x34381d,_0x229c3a),this[_0x556207(0x63f)][_0x556207(0x120)](_0x34381d[_0x556207(0x488)](),function(_0x5888ca,_0x2ad24e=!0x1){let _0x4a85fa=new Map();const _0x11e618=_0x1510e5(_0x5888ca,_0x2ad24e,function(_0x10f662){const _0x18a35e=a0_0x2fcc;_0x362a3d(_0x10f662)&&_0x4a85fa['delete'](_0x10f662[_0x18a35e(0x1cc)]+'-'+(_0x10f662[_0x18a35e(0x479)]??[])+'-'+_0x10f662[_0x18a35e(0x8ac)]+'-'+_0x10f662[_0x18a35e(0x569)]['type']);},function(_0x1ad498){return!!function(_0x5b9f43){const _0x2d0821=a0_0x2fcc,_0x45a8e8=_0x5b9f43[_0x2d0821(0x98e)];if(!_0x362a3d(_0x45a8e8))return!0x1;const _0x399260=_0x45a8e8[_0x2d0821(0x1cc)]+'-'+(_0x45a8e8[_0x2d0821(0x479)]??[])+'-'+_0x45a8e8['messageType']+'-'+_0x45a8e8['content'][_0x2d0821(0x4e7)],_0x5e5b14={'version':_0x45a8e8['content']['version'],'element':_0x5b9f43},_0x3c1511=_0x4a85fa[_0x2d0821(0x389)](_0x399260);return _0x3c1511?(_0x3c1511[_0x2d0821(0x2f9)]>=_0x45a8e8[_0x2d0821(0x569)]['version']||(_0x3c1511['element'][_0x2d0821(0x53b)]&&(_0x3c1511[_0x2d0821(0x15e)]['previous'][_0x2d0821(0x254)]=_0x5b9f43,_0x5b9f43[_0x2d0821(0x53b)]=_0x3c1511[_0x2d0821(0x15e)]['previous']),_0x3c1511[_0x2d0821(0x15e)][_0x2d0821(0x254)]&&(_0x3c1511[_0x2d0821(0x15e)][_0x2d0821(0x254)]['previous']=_0x5b9f43,_0x5b9f43[_0x2d0821(0x254)]=_0x3c1511[_0x2d0821(0x15e)][_0x2d0821(0x254)]),_0x3c1511[_0x2d0821(0x15e)]===_0x11e618['head']&&(_0x11e618['head']=_0x5b9f43),_0x3c1511[_0x2d0821(0x15e)]===_0x11e618[_0x2d0821(0x97c)]&&(_0x11e618[_0x2d0821(0x97c)]=_0x5b9f43),_0x4a85fa[_0x2d0821(0x120)](_0x399260,_0x5e5b14)),!0x0):(_0x4a85fa['set'](_0x399260,_0x5e5b14),!0x1);}(_0x1ad498);},function(){const _0x29fa5b=a0_0x2fcc;_0x4a85fa[_0x29fa5b(0x18c)]();});function _0x362a3d(_0xd65fd7){const _0x22d078=a0_0x2fcc;if(_0xd65fd7&&'object'==typeof _0xd65fd7&&_0xd65fd7['hasOwnProperty'](_0x22d078(0x569))&&_0xd65fd7['hasOwnProperty'](_0x22d078(0x8ac))&&_0xd65fd7['hasOwnProperty'](_0x22d078(0x1cc))){const _0x5c6054=_0xd65fd7;if(_0x5c6054['content']&&_0x22d078(0x663)==typeof _0x5c6054[_0x22d078(0x569)]&&_0x5c6054[_0x22d078(0x569)][_0x22d078(0x7bc)](_0x22d078(0x2f9))&&_0x5c6054[_0x22d078(0x569)]['hasOwnProperty']('type'))return!0x0;}return!0x1;}return _0x11e618;}(new _0x2d02ef(_0x249846=>_0x34381d['send'](_0x249846),()=>_0x438e57[_0x556207(0x52f)](0x64))));}[_0x2f335d(0x6b8)](_0x21b987){const _0x51770b=_0x2f335d;this[_0x51770b(0x48a)]['get'](_0x21b987)?.(),this['connections'][_0x51770b(0x2ee)](_0x21b987),this['retryQueues']['get'](_0x21b987['getRemoteId']())?.[_0x51770b(0x18c)](),this['retryQueues']['delete'](_0x21b987[_0x51770b(0x488)]());}[_0x2f335d(0xdc)](_0x301f1a){const _0x3164f8=_0x2f335d;return _0x5a023b[_0x3164f8(0x6fb)](_0x4abdbe[_0x3164f8(0x995)],_0x3164f8(0x46c),this[_0x3164f8(0x8ec)],this['connections'][_0x3164f8(0x502)]()),0x0!==this[_0x3164f8(0x48a)][_0x3164f8(0x15b)]&&(Array['from'](this[_0x3164f8(0x48a)][_0x3164f8(0x502)]())[_0x3164f8(0x29d)](_0x2a2f1e=>_0x2a2f1e[_0x3164f8(0x488)]()===_0x301f1a)?.[_0x3164f8(0xdc)]()??!0x1);}[_0x2f335d(0x538)](_0x79c6da){const _0x4886f5=_0x2f335d;this[_0x4886f5(0x54c)][_0x4886f5(0x120)](_0x79c6da[_0x4886f5(0x20c)](),_0x79c6da);}['unregisterPublisher'](_0x534802){const _0x153a53=_0x2f335d;this[_0x153a53(0x54c)]['delete'](_0x534802[_0x153a53(0x20c)]());}[_0x2f335d(0x5ef)](_0x37c257){const _0x23d2a6=_0x2f335d,_0x12ddba=_0x37c257[_0x23d2a6(0x504)](this['send'][_0x23d2a6(0x1b9)](this));this[_0x23d2a6(0x948)][_0x23d2a6(0x120)](_0x37c257[_0x23d2a6(0x20c)](),_0x12ddba);}[_0x2f335d(0x980)](_0x529c1c){const _0x4ee474=_0x2f335d;this[_0x4ee474(0x948)][_0x4ee474(0x389)](_0x529c1c['getLabel']())?.(),this[_0x4ee474(0x948)][_0x4ee474(0x2ee)](_0x529c1c[_0x4ee474(0x20c)]());}[_0x2f335d(0x901)](){const _0x57f2ac=_0x2f335d;return[_0x47407f[_0x57f2ac(0x1e9)][_0x57f2ac(0x433)],_0x47407f['ContentType'][_0x57f2ac(0x2f7)],_0x47407f[_0x57f2ac(0x1e9)][_0x57f2ac(0x806)],_0x47407f[_0x57f2ac(0x1e9)][_0x57f2ac(0x370)],_0x47407f[_0x57f2ac(0x1e9)]['Job'],_0x47407f['ContentType'][_0x57f2ac(0x485)],_0x47407f[_0x57f2ac(0x1e9)][_0x57f2ac(0x430)],_0x47407f[_0x57f2ac(0x1e9)][_0x57f2ac(0x42c)]];}['send'](_0x3e15f9){const _0x58d319=_0x2f335d;if(!0x1===_0x3e15f9['retry']){if(_0x3e15f9[_0x58d319(0x13b)]||!_0x3e15f9[_0x58d319(0x479)]||0x1!==_0x3e15f9['destinationIds'][_0x58d319(0x39c)])throw new _0x315451(_0x315451[_0x58d319(0x600)][_0x58d319(0x309)],{'message':_0x58d319(0x289),'localId':this[_0x58d319(0x8ec)]});if(!this[_0x58d319(0xdc)](_0x3e15f9[_0x58d319(0x479)][0x0]))throw new _0x2d51ec(_0x58d319(0x908));}const _0x4b8cd5=_0x3e15f9['recipients']??[];try{const {filteredDestinationIds:_0x451120,extendedRecipients:_0x576faa}=this[_0x58d319(0x2ea)](_0x3e15f9,_0x4b8cd5);_0x3e15f9['destinationIds']=_0x451120,_0x3e15f9[_0x58d319(0x749)]=_0x576faa;}catch(_0x30aea4){if(_0x30aea4 instanceof _0x2d51ec)return void _0x5a023b['log'](_0x4abdbe[_0x58d319(0x2a6)],'CrewdleConnectionGroup','Early\x20return',_0x3e15f9,_0x30aea4[_0x58d319(0x3bf)]);}const _0x2ae8cd=this[_0x58d319(0xe8)](_0x3e15f9);this[_0x58d319(0x4a4)](_0x3e15f9,_0x2ae8cd),_0x3e15f9[_0x58d319(0x13b)]=_0x2ae8cd;const _0x118a48=this[_0x58d319(0x5fa)](_0x3e15f9,_0x4b8cd5);for(const _0x1ea0f3 of _0x118a48){const _0x5591af=this[_0x58d319(0x63f)][_0x58d319(0x389)](_0x1ea0f3['getRemoteId']());if(!_0x5591af)throw new _0x315451(_0x315451[_0x58d319(0x600)][_0x58d319(0x364)],{'message':_0x58d319(0xc2),'localId':this['localId'],'remoteId':_0x1ea0f3['getRemoteId'](),'data':_0x3e15f9});_0x5591af[_0x58d319(0x6e4)](_0x3e15f9);}}[_0x2f335d(0x488)](){return'';}[_0x2f335d(0x871)](){const _0x3b23a4=_0x2f335d;return this[_0x3b23a4(0x8ec)];}[_0x2f335d(0x904)](_0x4e8c57){const _0x595e8c=_0x2f335d;return this[_0x595e8c(0x36c)][_0x595e8c(0x504)](_0x4e8c57);}[_0x2f335d(0x2ea)](_0x33d8f5,_0x1ed5ac){const _0x33f7ae=_0x2f335d,_0x1d64b8={'filteredDestinationIds':_0x33d8f5[_0x33f7ae(0x479)],'extendedRecipients':_0x33d8f5[_0x33f7ae(0x749)]};if(!_0x33d8f5[_0x33f7ae(0x13b)])return _0x1d64b8;const _0x18bb60=Array['from'](this[_0x33f7ae(0x48a)][_0x33f7ae(0x502)]())[_0x33f7ae(0x379)](_0xe55fb3=>_0xe55fb3[_0x33f7ae(0x9ab)]()===_0x595c1f[_0x33f7ae(0x5e4)]||_0xe55fb3['isConnected']())[_0x33f7ae(0x3cd)](_0x2314ac=>_0x2314ac[_0x33f7ae(0x488)]());if(_0x18bb60[_0x33f7ae(0x38b)]((_0x15bd9f,_0x44c355)=>_0x15bd9f&&_0x33d8f5['recipients'][_0x33f7ae(0x4a7)](_0x44c355),!0x0))throw new _0x2d51ec(_0x33f7ae(0x443));if(_0x33d8f5['destinationIds']){const _0x30610b=_0x33d8f5[_0x33f7ae(0x479)][_0x33f7ae(0x379)](_0xb03001=>_0xb03001!==this['localId']&&!_0x33d8f5[_0x33f7ae(0x749)][_0x33f7ae(0x4a7)](_0xb03001));if(0x0===_0x30610b[_0x33f7ae(0x39c)])throw new _0x2d51ec(_0x33f7ae(0x3cc));_0x1d64b8[_0x33f7ae(0x2b9)]=_0x30610b;}return _0x1d64b8['extendedRecipients']=[...new Set([..._0x1ed5ac,..._0x18bb60,this[_0x33f7ae(0x8ec)]])],_0x1d64b8;}[_0x2f335d(0x4a4)](_0x1e4706,_0x2ddd8a=!0x1){const _0x37474c=_0x2f335d;if(0x0===_0x1e4706['topicLabel']&&!_0x46621d(_0x1e4706,this[_0x37474c(0x8ec)])&&_0x1e4706[_0x37474c(0x13b)]){const _0x3c0d03=_0x40388b(_0x1e4706,this['localId']);_0x5a023b[_0x37474c(0x757)](_0x4abdbe['System'],_0x1e4706[_0x37474c(0x57d)]+'\x20-\x20Sending\x20propagation\x20('+_0x2ddd8a+')\x20'+_0x3c0d03,_0x1e4706,_0x2ddd8a);}}['shouldContinuePropagation'](_0x17b37c){const _0x297933=_0x2f335d;if(_0x17b37c[_0x297933(0x479)]&&_0x17b37c['propagate']){const _0x311aa0=Array[_0x297933(0x2ce)](this['connections']['keys']())[_0x297933(0x379)](_0x1c0b9c=>_0x1c0b9c[_0x297933(0x9ab)]()===_0x595c1f[_0x297933(0x5e4)]||_0x1c0b9c[_0x297933(0xdc)]())[_0x297933(0x3cd)](_0x1fdaa2=>_0x1fdaa2[_0x297933(0x488)]());return!_0x17b37c['destinationIds'][_0x297933(0x38b)]((_0x8ae1b0,_0x696289)=>_0x8ae1b0&&_0x311aa0[_0x297933(0x4a7)](_0x696289),!0x0);}return _0x17b37c[_0x297933(0x13b)]??!0x1;}[_0x2f335d(0x5fa)](_0x35b13e,_0x1e634b){const _0x55faae=_0x2f335d;if(_0x35b13e['propagate']&&_0x35b13e[_0x55faae(0x479)]){const _0x3c9529=Array['from'](this[_0x55faae(0x48a)]['keys']())[_0x55faae(0x379)](_0x49f685=>_0x49f685[_0x55faae(0x9ab)]()===_0x595c1f[_0x55faae(0x5e4)]||_0x49f685[_0x55faae(0xdc)]())[_0x55faae(0x3cd)](_0x196e47=>_0x196e47[_0x55faae(0x488)]()),_0x38019f=new Set(),_0x2e57f0=_0x35b13e[_0x55faae(0x1cc)]===this['localId']?0x3:0x1;return _0x35b13e[_0x55faae(0x479)]['forEach'](_0xf63b1d=>{const _0x1520b1=_0x55faae,_0x193570=this[_0x1520b1(0x7b4)]['getClosestNodes'](_0x3c9529,_0xf63b1d);let _0x2f433b=0x0,_0x45b309=0x0;_0x193570[_0x1520b1(0x82f)](_0x377de3=>{const _0x1f9a29=_0x1520b1;if(_0x2f433b>=_0x2e57f0)return;const _0x5d5fb5=Array['from'](this[_0x1f9a29(0x48a)][_0x1f9a29(0x502)]())['find'](_0x5609a5=>_0x5609a5[_0x1f9a29(0x488)]()===_0x377de3);if(_0x5d5fb5){if(_0x5d5fb5[_0x1f9a29(0x9ab)]()===_0x595c1f[_0x1f9a29(0x5e4)]&&_0x45b309>0x0)return void(_0x45b309-=0x1);_0x38019f[_0x1f9a29(0xad)](_0x5d5fb5),_0x5d5fb5[_0x1f9a29(0x9ab)]()===_0x595c1f[_0x1f9a29(0x3d4)]&&(_0x45b309+=0x1),_0x2f433b+=0x1;}});}),Array[_0x55faae(0x2ce)](_0x38019f);}return Array[_0x55faae(0x2ce)](this['connections'][_0x55faae(0x502)]())[_0x55faae(0x379)](_0x1eb2b5=>{const _0x3cc06a=_0x55faae;return _0x2ad0ab=_0x1eb2b5['getRemoteId'](),!_0x1e634b[_0x3cc06a(0x4a7)](_0x2ad0ab)&&(_0x262c2e(_0x35b13e,_0x2ad0ab)||_0x35b13e[_0x3cc06a(0x13b)])&&(!_0x35b13e['propagate']||_0x1eb2b5['isConnected']()||_0x1eb2b5[_0x3cc06a(0x9ab)]()===_0x595c1f[_0x3cc06a(0x5e4)]);var _0x2ad0ab;});}}class _0x3c90c5{['localId'];['messageBuffer'];[_0x2f335d(0x48a)]=new Map();[_0x2f335d(0x57e)];constructor(_0x5d140b,_0x301ef8){const _0x29afbb=_0x2f335d;this[_0x29afbb(0x8ec)]=_0x5d140b,this[_0x29afbb(0x4db)]=_0x301ef8;}[_0x2f335d(0x476)](){}[_0x2f335d(0x869)](_0x2f9f7a){const _0x35a18b=_0x2f335d;for(const _0xfb5631 of this[_0x35a18b(0x48a)]['keys']())try{return void _0xfb5631[_0x35a18b(0x869)]({'retry':!0x1,..._0x2f9f7a});}catch(_0x4eab88){_0x4eab88 instanceof _0x2d51ec||_0x5a023b[_0x35a18b(0x6fb)](_0x4abdbe[_0x35a18b(0x906)],_0x35a18b(0x799)+_0xfb5631,_0x4eab88,_0x2f9f7a);}_0x5a023b['log'](_0x4abdbe[_0x35a18b(0x906)],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x32f475){const _0x40907d=_0x2f335d,_0x2d6ecf=_0x32f475[_0x40907d(0x904)](_0x3ef682=>{const _0x4d463e=_0x40907d;this[_0x4d463e(0x4db)][_0x4d463e(0x3f6)](_0x3ef682['uuid'])||0x0===_0x3ef682['topicLabel']&&(this[_0x4d463e(0x4db)][_0x4d463e(0x779)](_0x3ef682[_0x4d463e(0x57d)]),_0x262c2e(_0x3ef682,this[_0x4d463e(0x8ec)])&&this['systemTopic']?.[_0x4d463e(0x620)](_0x3ef682));});this['connections'][_0x40907d(0x120)](_0x32f475,_0x2d6ecf);}[_0x2f335d(0x6b8)](_0x4e4499){const _0x12df77=_0x2f335d;this['connections'][_0x12df77(0x389)](_0x4e4499)?.(),this[_0x12df77(0x48a)][_0x12df77(0x2ee)](_0x4e4499);}[_0x2f335d(0x871)](){const _0x592787=_0x2f335d;return this[_0x592787(0x8ec)];}[_0x2f335d(0x488)](){return'';}[_0x2f335d(0x901)](){const _0x283fb0=_0x2f335d;return[_0x47407f[_0x283fb0(0x1e9)][_0x283fb0(0x433)]];}[_0x2f335d(0xdc)](){const _0x23fcc1=_0x2f335d;throw new Error(_0x23fcc1(0x25d));}[_0x2f335d(0x333)](_0x315fa7){const _0x5d1fc1=_0x2f335d;this[_0x5d1fc1(0x57e)]=_0x315fa7;}['unregisterSystemPublisher'](){const _0x30de9c=_0x2f335d;delete this[_0x30de9c(0x57e)];}}class _0x28119b{['buffer']=new Map();['unsubscribeHandler'];constructor(){const _0x472a1b=_0x2f335d;this[_0x472a1b(0x355)]=_0x438e57[_0x472a1b(0x182)](()=>{const _0x38ea76=_0x472a1b;for(const [_0x3dab45,_0x461fa1]of this[_0x38ea76(0x2bc)][_0x38ea76(0x8dc)]())Date[_0x38ea76(0x449)]()-_0x461fa1>0x124f80&&this[_0x38ea76(0x2bc)][_0x38ea76(0x2ee)](_0x3dab45);},0x1d4c0);}[_0x2f335d(0x476)](){const _0x3353f1=_0x2f335d;this[_0x3353f1(0x355)]();}[_0x2f335d(0x779)](_0x4a4c59){const _0x2263c2=_0x2f335d;this[_0x2263c2(0x2bc)][_0x2263c2(0x120)](_0x4a4c59,Date[_0x2263c2(0x449)]());}[_0x2f335d(0x3f6)](_0x38134b){const _0xe87ee3=_0x2f335d;return this[_0xe87ee3(0x2bc)]['has'](_0x38134b);}}class _0x545d8d{[_0x2f335d(0xd5)];[_0x2f335d(0x4f5)];[_0x2f335d(0x6d2)];[_0x2f335d(0x7b2)];[_0x2f335d(0x48a)]=new Map();['connectionPool'];['connectionGroup'];['signalingServer'];[_0x2f335d(0x4db)];constructor(_0x4f67c3,_0x18872f,_0x30f7fc,_0xda2924,_0x480675){const _0x52bf0b=_0x2f335d;this[_0x52bf0b(0xd5)]=_0x4f67c3,this[_0x52bf0b(0x4f5)]=_0x18872f,this[_0x52bf0b(0x6d2)]=_0xda2924,this[_0x52bf0b(0x7b2)]=_0x480675,this[_0x52bf0b(0x4db)]=new _0x28119b(),this[_0x52bf0b(0x5f9)]=new _0x5b521a(this[_0x52bf0b(0xd5)][_0x52bf0b(0x6c3)][_0x52bf0b(0x92c)](),this[_0x52bf0b(0x4db)],_0x30f7fc),this[_0x52bf0b(0x48f)]=new _0x406482(this[_0x52bf0b(0xd5)]['vendorId'],this[_0x52bf0b(0xd5)]['clusterId'],this['configs'][_0x52bf0b(0x6c3)],_0x52bf0b(0x419),this['authService']),this[_0x52bf0b(0x809)]=new _0x3c90c5(this[_0x52bf0b(0xd5)]['localNode'][_0x52bf0b(0x92c)](),this['messageBuffer']),this[_0x52bf0b(0x809)]['addConnection'](this[_0x52bf0b(0x5f9)]),this[_0x52bf0b(0x809)][_0x52bf0b(0x987)](this[_0x52bf0b(0x48f)]),this['configs'][_0x52bf0b(0x9c8)][_0x52bf0b(0x8d9)](this['connectionPool']);}[_0x2f335d(0x476)](){const _0x3349a5=_0x2f335d;this[_0x3349a5(0x4db)][_0x3349a5(0x476)](),this[_0x3349a5(0x48a)][_0x3349a5(0x82f)]((_0x40575c,_0x1665cb)=>this[_0x3349a5(0xcd)](_0x1665cb)),this[_0x3349a5(0xd5)][_0x3349a5(0x9c8)]['unregisterSystemSource'](this[_0x3349a5(0x809)]),this[_0x3349a5(0x809)]['removeConnection'](this[_0x3349a5(0x48f)]),this[_0x3349a5(0x809)][_0x3349a5(0x6b8)](this[_0x3349a5(0x5f9)]),this[_0x3349a5(0x809)][_0x3349a5(0x476)](),this[_0x3349a5(0x48f)][_0x3349a5(0x476)](),this[_0x3349a5(0x5f9)][_0x3349a5(0x476)]();}async['initialize'](){const _0x3e8a3b=_0x2f335d;await this[_0x3e8a3b(0x48f)][_0x3e8a3b(0x10a)]();}async[_0x2f335d(0x8a2)](_0x5b6df4,_0x4478e5=_0x595c1f[_0x2f335d(0x5e4)]){const _0x240b3d=_0x2f335d;if(this[_0x240b3d(0x48a)][_0x240b3d(0x627)](_0x5b6df4)){if(this['connections']['get'](_0x5b6df4)?.[_0x240b3d(0x9ab)]()===_0x595c1f['Optimization']&&_0x4478e5===_0x595c1f[_0x240b3d(0x5e4)])return void this[_0x240b3d(0x48a)][_0x240b3d(0x389)](_0x5b6df4)?.['setConnectionType'](_0x595c1f[_0x240b3d(0x5e4)]);throw new _0x315451(_0x315451['codes'][_0x240b3d(0x163)],{'localId':this['configs'][_0x240b3d(0x6c3)][_0x240b3d(0x92c)](),'remoteId':_0x5b6df4});}const _0x8addc4=new _0x4239e8(this['configs'][_0x240b3d(0x49c)],this[_0x240b3d(0xd5)][_0x240b3d(0x6c3)],_0x5b6df4,this[_0x240b3d(0x6d2)],_0x4478e5,this[_0x240b3d(0x7b2)][_0x240b3d(0x654)],this[_0x240b3d(0x7b2)][_0x240b3d(0x1ed)],this[_0x240b3d(0x7b2)][_0x240b3d(0x9bc)]);this[_0x240b3d(0x48a)][_0x240b3d(0x120)](_0x5b6df4,_0x8addc4),this['connectionGroup'][_0x240b3d(0x987)](_0x8addc4),this[_0x240b3d(0xd5)][_0x240b3d(0x9c8)][_0x240b3d(0x8d9)](_0x8addc4),this['configs'][_0x240b3d(0x9c8)]['registerRemoteNode'](_0x5b6df4),await _0x8addc4[_0x240b3d(0x10a)]();}[_0x2f335d(0x562)](){const _0x15e899=_0x2f335d;return this[_0x15e899(0x5f9)];}['getConnection'](_0x7f824){const _0x48cfa6=_0x2f335d;if(!this[_0x48cfa6(0x48a)][_0x48cfa6(0x627)](_0x7f824))throw new _0x315451(_0x315451['codes'][_0x48cfa6(0x54f)],{'localId':this['configs'][_0x48cfa6(0x6c3)][_0x48cfa6(0x92c)](),'remoteId':_0x7f824});return this[_0x48cfa6(0x48a)][_0x48cfa6(0x389)](_0x7f824);}[_0x2f335d(0x28b)](_0x53694b){const _0xf9a44=_0x2f335d,_0x15865e=Array[_0xf9a44(0x2ce)](this[_0xf9a44(0x48a)][_0xf9a44(0x349)]());return _0x53694b?_0x15865e['filter'](_0x53694b):_0x15865e;}async[_0x2f335d(0x866)](_0x4ee502){const _0x283fc9=_0x2f335d,_0x570f39=this[_0x283fc9(0x48a)][_0x283fc9(0x389)](_0x4ee502);_0x570f39&&_0x570f39[_0x283fc9(0xdc)]()&&await _0x570f39[_0x283fc9(0x866)]();}[_0x2f335d(0x5ab)](_0x4b206e){const _0x2c15a6=_0x2f335d;if(_0x4b206e[_0x2c15a6(0x8ac)]!==_0x4ba688[_0x2c15a6(0x771)]||_0x4b206e[_0x2c15a6(0x13b)])try{this[_0x2c15a6(0x5f9)][_0x2c15a6(0x869)](_0x4b206e);}catch(_0x317c8e){if(_0x317c8e instanceof _0x2d51ec)return;throw _0x317c8e;}else this['connectionPool']['send'](_0x4b206e);}async[_0x2f335d(0x217)](_0x188f54){const _0x1dc5ea=_0x2f335d;switch(_0x188f54[_0x1dc5ea(0x569)]['type']){case _0x37a68d[_0x1dc5ea(0x69d)]:case _0x37a68d[_0x1dc5ea(0x49a)]:case _0x37a68d[_0x1dc5ea(0x819)]:return;}if(!_0x188f54[_0x1dc5ea(0x479)]||0x1!==_0x188f54[_0x1dc5ea(0x479)][_0x1dc5ea(0x39c)])throw new _0x315451(_0x315451['codes'][_0x1dc5ea(0x2bb)],{'message':_0x1dc5ea(0x1f1),'event':_0x188f54});if(_0x188f54[_0x1dc5ea(0x479)][0x0]!==this[_0x1dc5ea(0xd5)][_0x1dc5ea(0x6c3)][_0x1dc5ea(0x92c)]())throw new _0x315451(_0x315451[_0x1dc5ea(0x600)][_0x1dc5ea(0x2bb)],{'message':_0x1dc5ea(0x330),'event':_0x188f54});if(!this['connections'][_0x1dc5ea(0x627)](_0x188f54[_0x1dc5ea(0x1cc)])){let _0x52a1f9=_0x595c1f[_0x1dc5ea(0x5e4)];if(!(this[_0x1dc5ea(0x828)](_0x188f54[_0x1dc5ea(0x569)])||this[_0x1dc5ea(0x4b9)](_0x188f54['content'])||this[_0x1dc5ea(0x872)](_0x188f54['content'])))return;_0x52a1f9=_0x188f54[_0x1dc5ea(0x569)]['connectionType'],await this[_0x1dc5ea(0x8a2)](_0x188f54[_0x1dc5ea(0x1cc)],_0x52a1f9);}const _0x2e9d77=this['connections']['get'](_0x188f54['sourceId']);await _0x2e9d77[_0x1dc5ea(0x217)](_0x188f54);}[_0x2f335d(0x4fd)](_0x5a851f){const _0x4730a6=_0x2f335d;if(_0x5a851f[_0x4730a6(0x569)][_0x4730a6(0x4e7)]===_0x3c3d3c[_0x4730a6(0x9dd)]){if(_0x5a851f[_0x4730a6(0x569)][_0x4730a6(0x5e1)]===this[_0x4730a6(0xd5)][_0x4730a6(0x6c3)][_0x4730a6(0x92c)]())return void this[_0x4730a6(0x48a)][_0x4730a6(0x82f)](_0x387953=>_0x387953['handleRemediationSystemEvents'](_0x5a851f));this[_0x4730a6(0x48a)][_0x4730a6(0x389)](_0x5a851f['content']['targetId'])?.['handleRemediationSystemEvents'](_0x5a851f);}}[_0x2f335d(0x5c3)]({content:_0x42fd38}){const _0x586873=_0x2f335d;_0x42fd38[_0x586873(0x4e7)]===_0xfc2002[_0x586873(0x840)]&&this[_0x586873(0xcd)](_0x42fd38['id']);}[_0x2f335d(0x5e2)](){const _0x4ebb52=_0x2f335d,_0x445a8d=Array[_0x4ebb52(0x2ce)](this['connections'][_0x4ebb52(0x349)]())[_0x4ebb52(0x38b)]((_0x408e7a,_0x20b280)=>_0x408e7a+_0x20b280['calculateArrayBufferSize'](),0x0);return _0x445a8d<_0x466788?Promise['resolve'](_0x445a8d):new Promise(_0x57979a=>{const _0x306010=setInterval(()=>{const _0x4fe531=a0_0x2fcc,_0x45249a=Array[_0x4fe531(0x2ce)](this[_0x4fe531(0x48a)]['values']())[_0x4fe531(0x38b)]((_0x1d3cc7,_0x3854c5)=>_0x1d3cc7+_0x3854c5[_0x4fe531(0x651)](),0x0);_0x45249a<_0x466788&&(clearInterval(_0x306010),_0x57979a(_0x45249a));},0x3e8);});}[_0x2f335d(0x451)](){const _0x10bd3d=_0x2f335d;for(const _0x29b729 of this[_0x10bd3d(0x48a)][_0x10bd3d(0x349)]())if(_0x29b729[_0x10bd3d(0x8e4)]()>0x0||_0x29b729[_0x10bd3d(0x651)]()>0x0)return!0x0;return!0x1;}[_0x2f335d(0xcd)](_0xecf74e){const _0x2939b7=_0x2f335d,_0x504375=this[_0x2939b7(0x48a)]['get'](_0xecf74e);_0x504375&&(this[_0x2939b7(0xd5)]['mediator'][_0x2939b7(0x260)](_0xecf74e),this[_0x2939b7(0xd5)][_0x2939b7(0x9c8)][_0x2939b7(0x39e)](_0x504375),_0x504375 instanceof _0x4239e8&&this[_0x2939b7(0x5f9)][_0x2939b7(0x6b8)](_0x504375),_0x504375[_0x2939b7(0x476)](),this[_0x2939b7(0x48a)]['delete'](_0xecf74e));}[_0x2f335d(0x828)](_0x37398f){const _0x5b5df0=_0x2f335d;return _0x37398f[_0x5b5df0(0x4e7)]===_0x37a68d[_0x5b5df0(0x571)];}[_0x2f335d(0x872)](_0x1e1757){const _0x56399a=_0x2f335d;return _0x1e1757[_0x56399a(0x4e7)]===_0x37a68d[_0x56399a(0x582)];}['isIceCandidate'](_0x5323fe){const _0x3d7d4e=_0x2f335d;return _0x5323fe[_0x3d7d4e(0x4e7)]===_0x37a68d[_0x3d7d4e(0x195)];}}!function(_0x5e4110){const _0x357ae0=_0x2f335d;_0x5e4110[_0x5e4110[_0x357ae0(0x9c7)]=0x0]='SubscribeMediaStream',_0x5e4110[_0x5e4110[_0x357ae0(0x431)]=0x1]=_0x357ae0(0x431),_0x5e4110[_0x5e4110['UnsubscribeMediaStream']=0x2]=_0x357ae0(0x342),_0x5e4110[_0x5e4110['NeedMediaStream']=0x3]='NeedMediaStream',_0x5e4110[_0x5e4110[_0x357ae0(0x7ed)]=0x4]=_0x357ae0(0x7ed),_0x5e4110[_0x5e4110['CanProvideMediaStream']=0x5]=_0x357ae0(0x7ba),_0x5e4110[_0x5e4110[_0x357ae0(0x306)]=0x6]=_0x357ae0(0x306),_0x5e4110[_0x5e4110[_0x357ae0(0x584)]=0x7]=_0x357ae0(0x584);}(_0x207b64||(_0x207b64={}));class _0x1ecb97 extends _0x56016a{[_0x2f335d(0x6c3)];[_0x2f335d(0x49c)];['vendorId'];['connectorConstructor'];[_0x2f335d(0x7a1)];[_0x2f335d(0x565)]=0x0;[_0x2f335d(0x1fc)];[_0x2f335d(0x1cf)]=_0x390225();['listenerUnsubscribers']=new Map();[_0x2f335d(0x356)];constructor(_0x53f01f,_0x1f8d8c,_0x42fa9f,_0x39f9ce,_0x35b026){const _0x62adc3=_0x2f335d;if(_0x62adc3(0x9d9)!=typeof _0x1f8d8c)throw new _0x194c78(_0x2e40c3[_0x62adc3(0x62b)],_0x62adc3(0x130));super(_0x53f01f,_0x1f8d8c),this['localNode']=_0x53f01f,this[_0x62adc3(0x49c)]=_0x42fa9f,this[_0x62adc3(0xa5)]=_0x39f9ce,this[_0x62adc3(0x64a)]=_0x35b026,this['sendStats']();}[_0x2f335d(0x7f0)](){const _0x2bc262=_0x2f335d;this[_0x2bc262(0x356)]?.(),this['listenerUnsubscribers'][_0x2bc262(0x82f)](_0xc2f71b=>_0xc2f71b()),clearTimeout(this[_0x2bc262(0x7a1)]),delete this[_0x2bc262(0x7a1)],super[_0x2bc262(0x7f0)]();}['reset'](){const _0x122245=_0x2f335d;this[_0x122245(0x938)]();}['close'](){const _0x4b25cb=_0x2f335d;this[_0x4b25cb(0x57e)]['publish']({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x4b25cb(0x109)],'content':{'type':_0x314d98['CloseExternalStorageConnection'],'label':this[_0x4b25cb(0x2b4)]}});}[_0x2f335d(0x8c7)](){const _0x4f12bc=_0x2f335d;return _0x47407f[_0x4f12bc(0x1e9)][_0x4f12bc(0x42c)];}async[_0x2f335d(0x389)](_0xdaf430){const _0x229cbe=_0x2f335d;if(!this[_0x229cbe(0x1fc)])throw new _0x194c78(_0x2e40c3[_0x229cbe(0x729)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x5a023b[_0x229cbe(0xf8)](_0x35a2ee['ExternalStorage'],{'type':_0x229cbe(0x389),'label':this[_0x229cbe(0x2b4)],'nodeId':this[_0x229cbe(0x6c3)][_0x229cbe(0x92c)](),'nodeType':this[_0x229cbe(0x6c3)]['type'],'clusterId':this[_0x229cbe(0x49c)],'path':_0xdaf430}),this['reads']+=0x1,this[_0x229cbe(0x938)]();try{return await this[_0x229cbe(0x1fc)][_0x229cbe(0x389)](_0xdaf430);}catch(_0x312593){throw new _0x194c78(_0x2e40c3[_0x229cbe(0x487)],_0x229cbe(0x99)+_0xdaf430);}}async[_0x2f335d(0x684)](_0x2699f0,_0xf551f9){const _0x231a08=_0x2f335d;if(!this[_0x231a08(0x1fc)])throw new _0x194c78(_0x2e40c3['ExternalStorageConnectorsMissing'],_0x231a08(0x3a6));const {recursive:_0x12666f=!0x1}=_0xf551f9??{};_0x5a023b[_0x231a08(0xf8)](_0x35a2ee['ExternalStorage'],{'type':_0x231a08(0x684),'label':this[_0x231a08(0x2b4)],'nodeId':this[_0x231a08(0x6c3)][_0x231a08(0x92c)](),'nodeType':this['localNode'][_0x231a08(0x4e7)],'clusterId':this[_0x231a08(0x49c)],'path':_0x2699f0}),this[_0x231a08(0x565)]+=0x1,this[_0x231a08(0x938)]();try{return await this[_0x231a08(0x1fc)]['list'](_0x2699f0,_0x12666f);}catch(_0x504451){throw new _0x194c78(_0x2e40c3['ExternalStorageInvalidPath'],_0x231a08(0x79d)+_0x2699f0);}}[_0x2f335d(0x504)](_0x204cb0,_0x55fbd0){const _0x5ebe97=_0x2f335d;if(this[_0x5ebe97(0xb9)]['has'](_0x204cb0))throw new _0x194c78(_0x2e40c3[_0x5ebe97(0x11e)],_0x5ebe97(0x14c));this[_0x5ebe97(0xb9)][_0x5ebe97(0x120)](_0x204cb0,this[_0x5ebe97(0x1cf)][_0x5ebe97(0x504)](_0x55fbd0));}[_0x2f335d(0x5be)](_0xe5db6d){const _0x338ffe=_0x2f335d;this[_0x338ffe(0xb9)][_0x338ffe(0x389)](_0xe5db6d)?.(),this[_0x338ffe(0xb9)][_0x338ffe(0x2ee)](_0xe5db6d);}async[_0x2f335d(0x8d6)](){const _0x3ea32f=_0x2f335d,_0x2ede5e=(await(0x0,_0x50cb11[_0x3ea32f(0x8a1)])((0x0,_0x50cb11['doc'])(_0x2825b2[_0x3ea32f(0x8be)](),'/developers/'+this[_0x3ea32f(0xa5)]+'/resources/external-storage/items/'+this['label'])))[_0x3ea32f(0x1c9)]();if(!_0x2ede5e)throw new _0x194c78(_0x2e40c3[_0x3ea32f(0x4cc)],_0x3ea32f(0x1fb)+this[_0x3ea32f(0x2b4)]);const {site:_0x2d32f0,drive:_0x319001}=_0x2ede5e,_0x5d1090=(await(0x0,_0x53e21c['httpsCallable'])(_0x2825b2[_0x3ea32f(0x56e)](),_0x3ea32f(0x436))({'storageId':this['label']}))['data'][_0x3ea32f(0x547)];this[_0x3ea32f(0x1fc)]=new this['connectorConstructor'](_0x2d32f0['id'],_0x319001['id'],_0x5d1090,async()=>(await(0x0,_0x53e21c[_0x3ea32f(0x11b)])(_0x2825b2[_0x3ea32f(0x56e)](),_0x3ea32f(0x28c))({'storageId':this['label']}))[_0x3ea32f(0x1c9)]['accessToken']),this['trackChanges']();}[_0x2f335d(0x938)](){const _0x5bec2c=_0x2f335d;this[_0x5bec2c(0x7a1)]&&clearTimeout(this[_0x5bec2c(0x7a1)]),this[_0x5bec2c(0x7a1)]=setTimeout(async()=>{const _0x56b5ce=_0x5bec2c;delete this['debounceStats'],this[_0x56b5ce(0x57e)][_0x56b5ce(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98[_0x56b5ce(0x6e1)],'label':this[_0x56b5ce(0x2b4)],'stats':{'timestamp':Date[_0x56b5ce(0x449)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x56b5ce(0x565)],'prompts':0x0,'tokens':0x0}}});},_0x25c4c2);}async[_0x2f335d(0x226)](){const _0x339ce9=_0x2f335d;await this[_0x339ce9(0x1fc)]?.['listChanges'](),this[_0x339ce9(0x356)]=_0x438e57[_0x339ce9(0x182)](async()=>{const _0x5671c1=_0x339ce9;try{if(!this[_0x5671c1(0x1fc)])return;const _0x8b15ce=await this['connector']['listChanges']();for(const _0x48cc58 of _0x8b15ce)this[_0x5671c1(0x1cf)][_0x5671c1(0x620)](_0x48cc58);}catch(_0xc5d808){}},0x493e0);}}const _0x36b2a7=require('rxjs');class _0x2bdf6b extends _0x56016a{[_0x2f335d(0x7b4)];[_0x2f335d(0x25a)]=new Map();[_0x2f335d(0xbb)]=new Map();['jobBids']=new Map();['unsubscribeHandler'];constructor(_0x3d1c0d,_0x3fa8a9,_0x2fdcb0){const _0x65da09=_0x2f335d;super(_0x3d1c0d,_0x3fa8a9),this[_0x65da09(0x7b4)]=_0x2fdcb0;}['getContentType'](){const _0x564d1f=_0x2f335d;return _0x47407f[_0x564d1f(0x1e9)][_0x564d1f(0x387)];}[_0x2f335d(0x8d6)](){const _0x43c87e=_0x2f335d;this[_0x43c87e(0x355)]=this[_0x43c87e(0x904)]((_0x2fff25,_0xe86e86)=>{const _0x494e00=_0x43c87e;if(_0x5a023b[_0x494e00(0x6fb)](_0x4abdbe['Jobs'],_0x494e00(0x518),_0x2fff25,_0xe86e86,this['graphService']['getRemoteNodes']()),!(_0xe86e86 instanceof File)){if(!_0xe86e86)throw new _0x315451(_0x315451[_0x494e00(0x600)]['JobDispatcherInvalidPayload']);return this[_0x494e00(0x9a0)](_0xe86e86)?this[_0x494e00(0x144)](_0x2fff25,_0xe86e86['id'],_0xe86e86):this[_0x494e00(0x97d)](_0xe86e86)?(_0x5a023b['log'](_0x4abdbe[_0x494e00(0x9cb)],_0x494e00(0x9a7)+_0xe86e86['id']+_0x494e00(0x5cc),_0xe86e86['result']),void this[_0x494e00(0x635)](_0xe86e86['id'],_0xe86e86)):this[_0x494e00(0x7f3)](_0xe86e86)?(_0x5a023b[_0x494e00(0x6fb)](_0x4abdbe[_0x494e00(0x9cb)],_0x494e00(0x9a7)+_0xe86e86['id']+_0x494e00(0x986),_0xe86e86['result']),void this[_0x494e00(0x969)](_0xe86e86['id'],_0xe86e86)):void(this['isFailedResponse'](_0xe86e86)&&this['failJob'](_0xe86e86['id'],_0xe86e86[_0x494e00(0x3bf)]));}});}['reset'](){const _0x31118c=_0x2f335d;this[_0x31118c(0x18c)](),this[_0x31118c(0x8d6)]();}[_0x2f335d(0x7f0)](){this['clear'](),super['destroy']();}[_0x2f335d(0x18c)](){const _0x223fd5=_0x2f335d;this['jobs'][_0x223fd5(0x18c)](),this['unsubscribeHandler']&&this['unsubscribeHandler']();}[_0x2f335d(0x476)](){const _0x2a2884=_0x2f335d;this['systemTopic']?.[_0x2a2884(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x2a2884(0x109)],'content':{'type':_0x314d98[_0x2a2884(0x8ab)],'label':this[_0x2a2884(0x2b4)]}});}async['createJob'](_0x5511d1){const _0x293749=_0x2f335d,{id:_0x4cc981,parameters:_0x5b288e,jobType:_0x3671ba}=_0x5511d1,_0x679af9={'id':_0x4cc981,'jobType':_0x3671ba,'parameters':_0x5b288e,'status':_0x47407f['JobStatus'][_0x293749(0x486)],'created':new Date(),'updated':new Date()};if(this[_0x293749(0x25a)][_0x293749(0x627)](_0x679af9['id']))throw new _0x194c78(_0x2e40c3[_0x293749(0x590)],_0x293749(0x8aa)+_0x679af9['id']+_0x293749(0x176));_0x679af9[_0x293749(0x726)]=new Date(),_0x679af9[_0x293749(0x7aa)]=new Date();const _0x3a8742=new _0x36b2a7[(_0x293749(0x8ae))]();this[_0x293749(0x25a)][_0x293749(0x120)](_0x679af9['id'],_0x679af9),this[_0x293749(0xbb)]['set'](_0x679af9['id'],_0x3a8742);try{const _0x41c8c0={'id':_0x679af9['id'],'jobPhase':_0x288dc8['Request'],'jobType':_0x679af9[_0x293749(0x27d)]},_0x310131=0x3;let _0x24503d=0x0;const _0x21e719=async()=>{const _0x116fc5=_0x293749;_0x24503d+=0x1;try{_0x5a023b[_0x116fc5(0x6fb)](_0x4abdbe['Jobs'],'Job\x20'+_0x679af9['id']+_0x116fc5(0x20d)+_0x24503d+'.',this[_0x116fc5(0x7b4)]['getRemoteNodes']()),await this[_0x116fc5(0x869)](_0x41c8c0),_0x679af9[_0x116fc5(0x7aa)]=new Date(),this[_0x116fc5(0x25a)][_0x116fc5(0x120)](_0x679af9['id'],_0x679af9),this[_0x116fc5(0x37d)](_0x679af9['id']);}catch(_0x1876dd){_0x24503d<_0x310131?(_0x5a023b[_0x116fc5(0x80f)]('Attempt\x20'+_0x24503d+_0x116fc5(0x7cb)+_0x679af9['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x116fc5(0x7e2)][_0x116fc5(0x92c)](),'nodeType':this['owner'][_0x116fc5(0x4e7)],'data':{'job':_0x679af9,'attempts':_0x24503d,'maxRetries':_0x310131}}),setTimeout(_0x21e719,0x3e8)):(_0x679af9[_0x116fc5(0x24a)]=_0x47407f[_0x116fc5(0x13a)][_0x116fc5(0x778)],_0x679af9[_0x116fc5(0x7aa)]=new Date(),this['jobs']['set'](_0x679af9['id'],_0x679af9),_0x5a023b['error'](_0x116fc5(0x5d6)+_0x679af9['id']+'\x20after\x20'+_0x310131+_0x116fc5(0x34d),{'nodeId':this['owner']['getId'](),'nodeType':this[_0x116fc5(0x7e2)][_0x116fc5(0x4e7)],'data':{'job':_0x679af9,'attempts':_0x24503d,'maxRetries':_0x310131,'error':_0x1876dd}}));}};_0x21e719();const {id:_0x25bd62}=_0x679af9;this[_0x293749(0x5e8)](_0x293749(0x9a7)+_0x679af9['id']+_0x293749(0x5fe),{'jobId':_0x25bd62}),_0x679af9[_0x293749(0x7aa)]=new Date();}catch(_0xa4604d){_0x679af9['status']=_0x47407f[_0x293749(0x13a)][_0x293749(0x778)],_0x5a023b[_0x293749(0x646)](_0x293749(0x5d6)+_0x679af9['id']+':',{'nodeId':this[_0x293749(0x7e2)][_0x293749(0x92c)](),'nodeType':this['owner']['type'],'data':{'job':_0x679af9,'error':_0xa4604d}});}return _0x3a8742[_0x293749(0x7c0)]();}[_0x2f335d(0x305)](_0x545753){const _0xf23b7d=_0x2f335d,_0x2f7e5f=this[_0xf23b7d(0x25a)][_0xf23b7d(0x389)](_0x545753);if(!_0x2f7e5f)throw new _0x194c78(_0x2e40c3[_0xf23b7d(0x37b)],_0xf23b7d(0x8aa)+_0x545753+_0xf23b7d(0x281));return{'id':_0x2f7e5f['id'],'jobType':_0x2f7e5f[_0xf23b7d(0x27d)],'status':_0x2f7e5f[_0xf23b7d(0x24a)],'parameters':_0x2f7e5f[_0xf23b7d(0x465)]};}[_0x2f335d(0x3f1)](){const _0x563233=_0x2f335d;return Array[_0x563233(0x2ce)](this[_0x563233(0x25a)][_0x563233(0x349)]())[_0x563233(0x3cd)](_0x11fe14=>this[_0x563233(0x305)](_0x11fe14['id']));}async['updateJob'](_0x385da4,_0x64fcb1){const _0x39b2cf=_0x2f335d,_0x2ec805=this[_0x39b2cf(0x25a)][_0x39b2cf(0x389)](_0x385da4);if(!_0x2ec805)throw new _0x194c78(_0x2e40c3['JobDispatcherJobNotFound'],_0x39b2cf(0x8aa)+_0x385da4+'\x20not\x20found.');_0x2ec805[_0x39b2cf(0x465)]=_0x64fcb1,_0x2ec805['updated']=new Date(),this[_0x39b2cf(0x25a)][_0x39b2cf(0x120)](_0x385da4,_0x2ec805);}async[_0x2f335d(0x8b4)](_0x155ddb){const _0xf450d2=_0x2f335d;if(!this['jobs'][_0xf450d2(0x2ee)](_0x155ddb))throw new _0x194c78(_0x2e40c3[_0xf450d2(0x37b)],_0xf450d2(0x8aa)+_0x155ddb+'\x20not\x20found.');const _0x2a500c=this[_0xf450d2(0xbb)][_0xf450d2(0x389)](_0x155ddb);if(!_0x2a500c)throw new _0x315451(_0x315451[_0xf450d2(0x600)][_0xf450d2(0x9bb)]);_0x2a500c[_0xf450d2(0x3ac)](),this['jobObservers'][_0xf450d2(0x2ee)](_0x155ddb),_0x5a023b[_0xf450d2(0x6fb)](_0x4abdbe['Jobs'],_0xf450d2(0x9a7)+_0x155ddb+_0xf450d2(0x5f3));}[_0x2f335d(0x144)](_0x53eae5,_0x136ed2,_0x16ff02){const _0x20ebad=_0x2f335d,_0x2806db=this[_0x20ebad(0x4de)]['get'](_0x136ed2)??new Map();_0x2806db[_0x20ebad(0x120)](_0x53eae5,[_0x16ff02,Date[_0x20ebad(0x449)]()]),this[_0x20ebad(0x4de)]['set'](_0x136ed2,_0x2806db),this[_0x20ebad(0x711)](_0x136ed2);}[_0x2f335d(0x37d)](_0x3f6228){const _0x544a8e=_0x2f335d,_0x36865c=this[_0x544a8e(0x25a)]['get'](_0x3f6228);if(!_0x36865c)throw new _0x315451(_0x315451[_0x544a8e(0x600)][_0x544a8e(0x37b)]);const _0x44a4cf=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x3f6228,!0x0),0xbb8);_0x36865c[_0x544a8e(0x96d)]=_0x44a4cf,this['jobs'][_0x544a8e(0x120)](_0x36865c['id'],_0x36865c);}[_0x2f335d(0x711)](_0x4b30a3,_0x5ce1a9=!0x1){const _0x5511fa=_0x2f335d,_0x515c3=this[_0x5511fa(0x7b4)]['getRemoteNodes'](),_0x27cd45=Array[_0x5511fa(0x2ce)](_0x515c3[_0x5511fa(0x349)]())[_0x5511fa(0x379)](_0x3ec700=>_0x3ec700['type']===_0x47407f[_0x5511fa(0x1b2)]['Agent']),_0x214605=this[_0x5511fa(0x4de)][_0x5511fa(0x389)](_0x4b30a3)??new Map();if(!_0x5ce1a9&&(!_0x214605||_0x214605[_0x5511fa(0x15b)]<_0x27cd45['length']))return;const _0x4cf8f9=this['jobs'][_0x5511fa(0x389)](_0x4b30a3);if(!_0x4cf8f9)throw new _0x315451(_0x315451['codes']['JobDispatcherJobNotFound']);if(clearTimeout(_0x4cf8f9[_0x5511fa(0x96d)]),_0x5a023b['log'](_0x4abdbe['Jobs'],_0x5511fa(0x9a7)+_0x4cf8f9['id']+_0x5511fa(0x641),_0x214605,this[_0x5511fa(0x4de)]),!_0x214605||0x0===_0x214605[_0x5511fa(0x15b)]){_0x4cf8f9[_0x5511fa(0x24a)]=_0x47407f['JobStatus']['Failed'],_0x4cf8f9['updated']=new Date(),_0x5a023b[_0x5511fa(0x646)](_0x5511fa(0x9a7)+_0x4cf8f9['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this['owner'][_0x5511fa(0x92c)](),'nodeType':this[_0x5511fa(0x7e2)][_0x5511fa(0x4e7)],'data':{'job':_0x4cf8f9,'responses':_0x214605}});const _0x4410d2=this[_0x5511fa(0xbb)][_0x5511fa(0x389)](_0x4b30a3);if(!_0x4410d2)throw new _0x315451(_0x315451[_0x5511fa(0x600)]['JobDispatcherObserverNotFound']);const _0x2a34fc='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x3e331b={'id':_0x4cf8f9['id'],'status':_0x4cf8f9[_0x5511fa(0x24a)],'message':_0x2a34fc};return _0x4410d2[_0x5511fa(0x254)](_0x3e331b),_0x4410d2['complete'](),this[_0x5511fa(0x25a)]['set'](_0x4cf8f9['id'],_0x4cf8f9),void this['jobBids'][_0x5511fa(0x2ee)](_0x4b30a3);}const {nodeId:_0x59bb3f,response:_0x1fbfe5}=this[_0x5511fa(0x839)](_0x4cf8f9['id'],_0x214605);_0x4cf8f9[_0x5511fa(0x24a)]=_0x47407f['JobStatus'][_0x5511fa(0x83d)],_0x4cf8f9[_0x5511fa(0x7aa)]=new Date(),_0x5a023b[_0x5511fa(0x6fb)](_0x4abdbe[_0x5511fa(0x9cb)],_0x5511fa(0x9a7)+_0x4cf8f9['id']+_0x5511fa(0x566)+_0x59bb3f+_0x5511fa(0x453),_0x1fbfe5);const _0x35bdf2={'id':_0x4cf8f9['id'],'jobType':_0x4cf8f9[_0x5511fa(0x27d)],'jobPhase':_0x288dc8[_0x5511fa(0xd2)],'parameters':_0x4cf8f9[_0x5511fa(0x465)]};this[_0x5511fa(0x869)](_0x35bdf2,[_0x59bb3f]),this[_0x5511fa(0x25a)]['set'](_0x4cf8f9['id'],_0x4cf8f9),this[_0x5511fa(0x4de)]['delete'](_0x4b30a3);}[_0x2f335d(0x839)](_0x977ccf,_0x70e857){const _0x59c693=_0x2f335d;let _0x5c599b;const _0x4a833c=Array['from'](_0x70e857[_0x59c693(0x8dc)]())['filter'](([,[_0x515975]])=>_0x515975['available']);if(_0x5c599b=_0x4a833c[_0x59c693(0x39c)]>0x0?Array[_0x59c693(0x2ce)](_0x70e857[_0x59c693(0x8dc)]())[_0x59c693(0x991)]((_0x178a47,_0x359f0e)=>_0x359f0e[0x1][0x0][_0x59c693(0x37e)]-_0x178a47[0x1][0x0]['bid']):Array[_0x59c693(0x2ce)](_0x70e857[_0x59c693(0x8dc)]())[_0x59c693(0x991)]((_0x2d184c,_0x5f2bfe)=>_0x2d184c[0x1][0x0][_0x59c693(0x37a)]-_0x5f2bfe[0x1][0x0]['queueLength']),0x1===_0x5c599b[_0x59c693(0x39c)])return{'nodeId':_0x5c599b[0x0][0x0],'response':_0x5c599b[0x0][0x1][0x0]};let _0x1dba88;if(_0x1dba88=_0x4a833c['length']>0x0?(_0xb64e2c=>{const _0x2b4987=_0x59c693,_0x258dad=_0xb64e2c[0x0][0x1][0x0][_0x2b4987(0x37e)];return _0xb64e2c['filter'](([,[_0x15b0a8]])=>_0x15b0a8[_0x2b4987(0x37e)]===_0x258dad);})(_0x5c599b):(_0x366683=>{const _0xa4fdc4=_0x59c693,_0x3d8d31=_0x366683[0x0][0x1][0x0]['queueLength'];return _0x366683[_0xa4fdc4(0x379)](([,[_0xc970a6]])=>_0xc970a6['queueLength']===_0x3d8d31);})(_0x5c599b),0x1===_0x1dba88['length'])return{'nodeId':_0x1dba88[0x0][0x0],'response':_0x1dba88[0x0][0x1][0x0]};const _0x1e3b6f=this[_0x59c693(0x25a)][_0x59c693(0x389)](_0x977ccf);if(!_0x1e3b6f)throw new _0x315451(_0x315451[_0x59c693(0x600)][_0x59c693(0x37b)]);const _0x2c6ff1=_0x1e3b6f[_0x59c693(0x726)][_0x59c693(0x142)](),_0x4fac53=_0x1dba88[_0x59c693(0x3cd)](([_0x15a7d3,[,_0x1f8c53]])=>({'nodeId':_0x15a7d3,'rtt':_0x1f8c53-_0x2c6ff1})),_0x557313=Math['min'](..._0x4fac53[_0x59c693(0x3cd)](({rtt:_0x24ac17})=>_0x24ac17)),_0x326455=_0x4fac53['find'](({rtt:_0x2f93ca})=>_0x2f93ca===_0x557313),[,[_0x7c16d4]]=_0x1dba88['find'](([_0x5adfdb])=>_0x5adfdb===_0x326455[_0x59c693(0x3ff)]);return{'nodeId':_0x326455[_0x59c693(0x3ff)],'response':_0x7c16d4};}[_0x2f335d(0x635)](_0x3b1241,_0x295d07){const _0x5b776b=_0x2f335d,_0x31ee33=this[_0x5b776b(0x25a)][_0x5b776b(0x389)](_0x3b1241);if(!_0x31ee33)throw new _0x315451(_0x315451['codes'][_0x5b776b(0x37b)]);const _0x3a4142=this['jobObservers']['get'](_0x3b1241);if(!_0x3a4142)throw new _0x315451(_0x315451[_0x5b776b(0x600)][_0x5b776b(0x9bb)]);const _0x2f448a={'id':_0x31ee33['id'],'status':_0x47407f['JobStatus'][_0x5b776b(0x34f)],'result':_0x295d07['result']};_0x3a4142['next'](_0x2f448a);}[_0x2f335d(0x969)](_0x509def,_0x72d80f){const _0x354f4d=_0x2f335d,_0x318ec3=this['jobs'][_0x354f4d(0x389)](_0x509def);if(!_0x318ec3)throw new _0x315451(_0x315451[_0x354f4d(0x600)]['JobDispatcherJobNotFound']);const _0x47b381=this[_0x354f4d(0xbb)][_0x354f4d(0x389)](_0x509def);if(!_0x47b381)throw new _0x315451(_0x315451['codes'][_0x354f4d(0x9bb)]);_0x318ec3[_0x354f4d(0x24a)]=_0x47407f[_0x354f4d(0x13a)][_0x354f4d(0x891)];const _0x22beae={'id':_0x318ec3['id'],'status':_0x318ec3[_0x354f4d(0x24a)],'result':_0x72d80f[_0x354f4d(0x3fe)]};_0x47b381[_0x354f4d(0x254)](_0x22beae),_0x47b381[_0x354f4d(0x3ac)](),this[_0x354f4d(0xbb)][_0x354f4d(0x2ee)](_0x509def),this[_0x354f4d(0x5e8)](_0x354f4d(0x9a7)+_0x509def+_0x354f4d(0x546),{'jobId':_0x509def});}[_0x2f335d(0x11f)](_0x4f2341,_0x3eb6b1){const _0x59afae=_0x2f335d,_0x1eb7c2=this[_0x59afae(0x25a)][_0x59afae(0x389)](_0x4f2341);if(!_0x1eb7c2)throw new _0x315451(_0x315451[_0x59afae(0x600)][_0x59afae(0x37b)]);const _0x3ef32e=this[_0x59afae(0xbb)][_0x59afae(0x389)](_0x4f2341);if(!_0x3ef32e)throw new _0x315451(_0x315451[_0x59afae(0x600)][_0x59afae(0x9bb)]);_0x1eb7c2[_0x59afae(0x24a)]=_0x47407f[_0x59afae(0x13a)][_0x59afae(0x778)];const _0x367139={'id':_0x1eb7c2['id'],'status':_0x1eb7c2[_0x59afae(0x24a)],'message':_0x3eb6b1};_0x3ef32e[_0x59afae(0x254)](_0x367139),_0x3ef32e[_0x59afae(0x3ac)](),this['jobObservers'][_0x59afae(0x2ee)](_0x4f2341),this['logEvent'](_0x59afae(0x9a7)+_0x4f2341+_0x59afae(0x376),{'jobId':_0x4f2341});}['logEvent'](_0x5cf648,{jobId:_0x24cfa2}){const _0x22ad0c=_0x2f335d,_0x1d974e={'jobId':_0x24cfa2,'mistletIds':Array[_0x22ad0c(0x2ce)](this['graphService'][_0x22ad0c(0x78e)]()[_0x22ad0c(0x349)]())[_0x22ad0c(0x379)](_0x5a1f1b=>_0x5a1f1b['type']===_0x47407f[_0x22ad0c(0x1b2)][_0x22ad0c(0x5e0)])[_0x22ad0c(0x3cd)](_0xef9648=>_0xef9648[_0x22ad0c(0x92c)]())};_0x5a023b[_0x22ad0c(0x5e8)](_0x5cf648,{'nodeId':this[_0x22ad0c(0x8a4)](),'nodeType':this[_0x22ad0c(0x7e2)][_0x22ad0c(0x4e7)],'data':_0x1d974e}),_0x5a023b[_0x22ad0c(0x6fb)](_0x4abdbe[_0x22ad0c(0x9cb)],_0x5cf648,_0x1d974e);}[_0x2f335d(0x9a0)](_0x226409){const _0x85981=_0x2f335d,{jobPhase:_0x59b804,available:_0x323915,bid:_0xb0c727}=_0x226409;return _0x59b804===_0x288dc8[_0x85981(0x359)]&&void 0x0!==_0x323915&&void 0x0!==_0xb0c727;}[_0x2f335d(0x97d)](_0x57a1c4){const _0x17f1a8=_0x2f335d,{jobPhase:_0x1fc26d,result:_0x50df2b}=_0x57a1c4;return _0x1fc26d===_0x288dc8[_0x17f1a8(0x696)]&&void 0x0!==_0x50df2b;}[_0x2f335d(0x7f3)](_0x20da19){const _0x281f7c=_0x2f335d,{jobPhase:_0x3bc8a7,result:_0x1c280f}=_0x20da19;return _0x3bc8a7===_0x288dc8[_0x281f7c(0x92e)]&&void 0x0!==_0x1c280f;}[_0x2f335d(0x527)](_0x5bcac3){const _0xc07f59=_0x2f335d,{jobPhase:_0x1e2577,message:_0x56b5b9}=_0x5bcac3;return _0x1e2577===_0x288dc8[_0xc07f59(0x778)]&&void 0x0!==_0x56b5b9&&'string'==typeof _0x56b5b9;}}var _0x1780d6,_0x3bbdbe,_0x19f002,_0x52a778;!function(_0x339949){const _0x4f6fe6=_0x2f335d;_0x339949['ObjectStorage']=_0x4f6fe6(0x75a),_0x339949['ExternalStorage']=_0x4f6fe6(0x7b6);}(_0x1780d6||(_0x1780d6={})),function(_0x54b649){const _0x3f7572=_0x2f335d;_0x54b649[_0x3f7572(0x5e0)]=_0x3f7572(0x3a9),_0x54b649[_0x3f7572(0x12a)]='agent-skill',_0x54b649[_0x3f7572(0x6d3)]=_0x3f7572(0x79e),_0x54b649[_0x3f7572(0x6bd)]=_0x3f7572(0x191),_0x54b649['Knowledge']=_0x3f7572(0x83b),_0x54b649[_0x3f7572(0x219)]='prompt',_0x54b649[_0x3f7572(0x7f2)]=_0x3f7572(0x9b),_0x54b649[_0x3f7572(0x7f9)]=_0x3f7572(0x699),_0x54b649[_0x3f7572(0x353)]='search',_0x54b649[_0x3f7572(0x45c)]=_0x3f7572(0x62d),_0x54b649[_0x3f7572(0x80a)]='web-scraper',_0x54b649[_0x3f7572(0x86c)]='web-scraper-raw',_0x54b649[_0x3f7572(0x60d)]=_0x3f7572(0x57b),_0x54b649[_0x3f7572(0x519)]=_0x3f7572(0x84d),_0x54b649[_0x3f7572(0x7a0)]='sentence-splitter',_0x54b649['WordSplitter']='word-splitter',_0x54b649[_0x3f7572(0x12d)]=_0x3f7572(0x160);}(_0x3bbdbe||(_0x3bbdbe={})),function(_0xd197fb){const _0x3df72d=_0x2f335d;_0xd197fb['ObjectStorageUpload']='object-storage-upload',_0xd197fb[_0x3df72d(0x708)]='external-storage-upload',_0xd197fb[_0x3df72d(0x12d)]=_0x3df72d(0x160),_0xd197fb[_0x3df72d(0x519)]=_0x3df72d(0x84d),_0xd197fb[_0x3df72d(0x1de)]=_0x3df72d(0x232),_0xd197fb['SentenceSplitter']=_0x3df72d(0x52e),_0xd197fb['RelationExtractor']=_0x3df72d(0x6e0),_0xd197fb[_0x3df72d(0x8ca)]=_0x3df72d(0x3f0),_0xd197fb[_0x3df72d(0x660)]=_0x3df72d(0x702),_0xd197fb[_0x3df72d(0x29f)]=_0x3df72d(0x72b),_0xd197fb[_0x3df72d(0x5e0)]='agent',_0xd197fb[_0x3df72d(0x7e7)]='object-storage',_0xd197fb[_0x3df72d(0x370)]=_0x3df72d(0x95e),_0xd197fb[_0x3df72d(0x485)]=_0x3df72d(0x1fe),_0xd197fb['GraphDatabase']=_0x3df72d(0x71b),_0xd197fb[_0x3df72d(0x219)]=_0x3df72d(0x650),_0xd197fb[_0x3df72d(0x1df)]=_0x3df72d(0x996);}(_0x19f002||(_0x19f002={})),function(_0x32e7b){const _0x21b140=_0x2f335d;_0x32e7b[_0x21b140(0x113)]='file',_0x32e7b['Text']=_0x21b140(0x6e9),_0x32e7b['Image']=_0x21b140(0x9b0),_0x32e7b['Audio']='audio',_0x32e7b[_0x21b140(0x433)]=_0x21b140(0x1c9),_0x32e7b[_0x21b140(0x572)]=_0x21b140(0x1ce),_0x32e7b[_0x21b140(0x49b)]=_0x21b140(0x16e),_0x32e7b[_0x21b140(0x593)]=_0x21b140(0x5ac),_0x32e7b['Search']='search',_0x32e7b['Index']=_0x21b140(0x94e),_0x32e7b['Knowledge']='knowledge',_0x32e7b['Skill']='skill',_0x32e7b[_0x21b140(0x1df)]=_0x21b140(0x996),_0x32e7b[_0x21b140(0x5db)]=_0x21b140(0x52f);}(_0x52a778||(_0x52a778={}));class _0x28716e{static [_0x2f335d(0x26a)];constructor(){}static[_0x2f335d(0x1e6)](){const _0x2d5b88=_0x2f335d;return _0x28716e[_0x2d5b88(0x26a)]||(_0x28716e['instance']=new _0x28716e()),_0x28716e['instance'];}async[_0x2f335d(0x117)](_0x56c96d,_0x28c7e8){const _0x672612=_0x2f335d,_0x416061=await(0x0,_0x50cb11[_0x672612(0x8a1)])((0x0,_0x50cb11[_0x672612(0xc6)])(_0x2825b2['getFirestore'](),_0x672612(0x10e)+_0x56c96d+_0x672612(0x6f0)+_0x28c7e8)),_0x3fb580=await this[_0x672612(0x834)](_0x56c96d),_0x3ea94d=await this[_0x672612(0x990)](_0x56c96d),_0x1a3556=await this[_0x672612(0x31a)](_0x56c96d),_0x5e9876=await this[_0x672612(0x89e)](_0x56c96d),_0x43e896=await this[_0x672612(0x7b8)](_0x56c96d);if(!_0x416061[_0x672612(0x9f)]())throw new _0x315451(_0x315451[_0x672612(0x600)][_0x672612(0x798)]);return this['parseWorkflowDocument'](_0x416061,_0x3fb580,_0x3ea94d,_0x1a3556,_0x5e9876,_0x43e896);}[_0x2f335d(0x679)](_0x50f592,_0x277e1f,_0x172696,_0x1003bc,_0x25fc6d,_0x351b0b){const _0x2fc0af=_0x2f335d,_0x1dd92f=_0x50f592[_0x2fc0af(0x1c9)]();if(!_0x1dd92f)throw new _0x315451(_0x315451[_0x2fc0af(0x600)][_0x2fc0af(0x798)]);const _0x36a5fa=_0x1dd92f[_0x2fc0af(0x8ad)]&&_0x1dd92f[_0x2fc0af(0xf6)]?_0x1dd92f['versions'][_0x1dd92f[_0x2fc0af(0x8ad)]-0x1]:_0x1dd92f,_0x2bae83=this[_0x2fc0af(0x7fb)](_0x36a5fa[_0x2fc0af(0x6a6)],_0x277e1f,_0x172696,_0x1003bc,_0x351b0b);return{'id':_0x50f592['id'],'modelsBucketId':_0x1dd92f[_0x2fc0af(0x8d5)],'blocks':_0x2bae83,'models':this['getWorkflowModels'](_0x2bae83,_0x25fc6d),'dataBucketIds':this[_0x2fc0af(0x929)](_0x2bae83),'externalStorageConnectionIds':this[_0x2fc0af(0x5c6)](_0x2bae83)};}[_0x2f335d(0x20b)](_0x4eedc4,_0x49cb14){const _0x1f738d=_0x2f335d,_0x3ca370=new Set();for(const _0x1f8291 of _0x4eedc4)if(_0x1f8291[_0x1f738d(0x4e7)]!==_0x3bbdbe[_0x1f738d(0x5e0)]&&_0x1f8291['type']!==_0x3bbdbe[_0x1f738d(0x12a)]||_0x3ca370[_0x1f738d(0xad)](_0x1f8291[_0x1f738d(0x447)]),_0x1f8291[_0x1f738d(0x4e7)]===_0x3bbdbe[_0x1f738d(0x8bd)]||_0x1f8291['type']===_0x3bbdbe[_0x1f738d(0x6bd)]){for(const _0x4e7772 of[..._0x1f8291[_0x1f738d(0x2a3)],..._0x1f8291[_0x1f738d(0x68e)]])_0x4e7772[_0x1f738d(0x4e7)]===_0x19f002['Model']&&_0x3ca370['add'](_0x4e7772['id']),_0x4e7772[_0x1f738d(0x4e7)]===_0x19f002[_0x1f738d(0x5e0)]&&_0x3ca370[_0x1f738d(0xad)](_0x4e7772[_0x1f738d(0x447)]);}return Array['from'](_0x3ca370)[_0x1f738d(0x3cd)](_0xf47671=>{const _0x3b1ebc=_0x1f738d,{id:_0x3ce6a5,engineType:_0x363a6c,taskType:_0x39f776,knowledgeCutoffDate:_0x351eb3,inputType:_0x5dbff2,outputType:_0x306ee2,sourceUrl:_0x10bfe4}=_0x49cb14[_0x3b1ebc(0x29d)](_0x2fcba9=>_0x2fcba9['id']===_0xf47671);return{'id':_0x3ce6a5,'engineType':_0x363a6c,'taskType':_0x39f776,'knowledgeCutoffDate':_0x351eb3,'inputType':_0x5dbff2,'outputType':_0x306ee2,'sourceUrl':_0x10bfe4};});}['getWorkflowObjectStorageBuckets'](_0x5c2478){const _0x549e8b=_0x2f335d,_0x2a8b97=new Set();for(const _0x10fbf6 of _0x5c2478)switch(_0x10fbf6[_0x549e8b(0x4e7)]){case _0x3bbdbe[_0x549e8b(0x8bd)]:case _0x3bbdbe[_0x549e8b(0x6bd)]:for(const _0x259fc6 of[..._0x10fbf6['ingestBlocks'],..._0x10fbf6['retrieveBlocks']])_0x259fc6[_0x549e8b(0x4e7)]===_0x19f002[_0x549e8b(0x3fb)]&&_0x2a8b97[_0x549e8b(0xad)](_0x259fc6['id']);}return Array[_0x549e8b(0x2ce)](_0x2a8b97);}[_0x2f335d(0x5c6)](_0x5bb537){const _0x5cedb3=_0x2f335d,_0xc82cbb=new Set();for(const _0x409f5d of _0x5bb537)switch(_0x409f5d['type']){case _0x3bbdbe['Knowledge']:case _0x3bbdbe[_0x5cedb3(0x6bd)]:for(const _0x541890 of[..._0x409f5d[_0x5cedb3(0x2a3)],..._0x409f5d['retrieveBlocks']])_0x541890[_0x5cedb3(0x4e7)]===_0x19f002[_0x5cedb3(0x708)]&&_0xc82cbb['add'](_0x541890['id']);}return Array['from'](_0xc82cbb);}[_0x2f335d(0x7fb)](_0x4e6701,_0x21973f,_0xf60d66,_0x1c3073,_0x5a7367){const _0x34a030=_0x2f335d;return _0x4e6701[_0x34a030(0x3cd)](_0x1ce344=>{const _0x483d20=_0x34a030;switch(_0x1ce344[_0x483d20(0x4e7)]){case _0x3bbdbe[_0x483d20(0x5e0)]:case _0x3bbdbe[_0x483d20(0x12a)]:const _0x2608b1=_0x21973f[_0x483d20(0x29d)](_0x4fd23a=>_0x4fd23a['id']===_0x1ce344['id']);if(!_0x2608b1)throw new _0x315451(_0x315451[_0x483d20(0x600)][_0x483d20(0x7e0)],{'block':_0x1ce344});const _0x259a52=_0x1ce344[_0x483d20(0x2f9)]&&_0x2608b1[_0x483d20(0xf6)]?_0x2608b1[_0x483d20(0xf6)][_0x1ce344['version']-0x1]:_0x2608b1;return{'type':_0x2608b1[_0x483d20(0x4e7)],'id':_0x2608b1['id'],'uid':_0x1ce344[_0x483d20(0x926)],'name':_0x259a52[_0x483d20(0xdd)],'description':_0x259a52[_0x483d20(0x6eb)],'instructions':_0x259a52['instructions'],'contextOutputVariable':_0x259a52[_0x483d20(0x731)],'contextInputVariable':_0x259a52[_0x483d20(0x106)],'grammar':[_0x483d20(0x6a2),_0x483d20(0x201),'json_arr'][_0x483d20(0x4a7)](_0x259a52[_0x483d20(0x6e2)])?_0x259a52[_0x483d20(0x6e2)]:_0x5a7367[_0x483d20(0x29d)](_0x43d453=>_0x43d453['id']===_0x259a52[_0x483d20(0x6e2)])['content'],'temperature':_0x259a52['temperature'],'maxTokens':_0x259a52[_0x483d20(0x935)],'modelId':_0x259a52[_0x483d20(0x447)],'links':_0x1ce344['links'],'version':_0x1ce344[_0x483d20(0x2f9)]};case _0x3bbdbe[_0x483d20(0x8bd)]:case _0x3bbdbe[_0x483d20(0x6bd)]:const _0x3908c7=_0xf60d66[_0x483d20(0x29d)](_0x359186=>_0x359186['id']===_0x1ce344['id']);if(!_0x3908c7)throw new _0x315451(_0x315451['codes'][_0x483d20(0x7e0)],{'block':_0x1ce344});const _0x1d33d1=_0x1ce344[_0x483d20(0x2f9)]&&_0x3908c7[_0x483d20(0xf6)]?_0x3908c7['versions'][_0x1ce344[_0x483d20(0x2f9)]-0x1]:_0x3908c7;return{'type':_0x1ce344[_0x483d20(0x4e7)],'id':_0x3908c7['id'],'uid':_0x1ce344[_0x483d20(0x926)],'name':_0x1d33d1['name'],'description':_0x1d33d1['description'],'ingestBlocks':this[_0x483d20(0x35d)](_0x1d33d1['ingestBlocks'],_0x21973f),'retrieveBlocks':this[_0x483d20(0x35d)](_0x1d33d1[_0x483d20(0x68e)],_0x21973f),'links':_0x1ce344['links'],'version':_0x1ce344['version']};case _0x3bbdbe[_0x483d20(0x6d3)]:const _0x4b7269=_0x1c3073[_0x483d20(0x29d)](_0x32ec40=>_0x32ec40['id']===_0x1ce344['id']);if(!_0x4b7269)throw new _0x315451(_0x315451[_0x483d20(0x600)]['WorkflowInvalidBlockType'],{'block':_0x1ce344});return{'type':_0x1ce344[_0x483d20(0x4e7)],'id':_0x4b7269['id'],'uid':_0x1ce344[_0x483d20(0x926)],'name':_0x4b7269[_0x483d20(0xdd)],'description':_0x4b7269['description'],'parameters':_0x4b7269[_0x483d20(0x465)],'endpointUrl':_0x4b7269['endpointUrl'],'endpointMethod':_0x4b7269['endpointMethod'],'headers':_0x4b7269[_0x483d20(0x2af)],'queryParameters':_0x4b7269[_0x483d20(0x2cb)],'bodyParameters':_0x4b7269[_0x483d20(0x24d)],'contextOutputVariable':_0x4b7269[_0x483d20(0x731)],'waitAsync':_0x4b7269['waitAsync'],'asyncEndpointUrl':_0x4b7269[_0x483d20(0x6f8)],'asyncEndpointMethod':_0x4b7269[_0x483d20(0x649)],'asyncHeaders':_0x4b7269[_0x483d20(0x8e0)],'links':_0x1ce344[_0x483d20(0x915)]};case _0x3bbdbe[_0x483d20(0x219)]:case _0x3bbdbe[_0x483d20(0x7f2)]:case _0x3bbdbe[_0x483d20(0x7f9)]:case _0x3bbdbe[_0x483d20(0x353)]:case _0x3bbdbe[_0x483d20(0x45c)]:case _0x3bbdbe[_0x483d20(0x80a)]:case _0x3bbdbe['WebScraperRaw']:case _0x3bbdbe[_0x483d20(0x60d)]:case _0x3bbdbe[_0x483d20(0x7a0)]:case _0x3bbdbe[_0x483d20(0x12d)]:return{'type':_0x1ce344['type'],'id':_0x1ce344['id'],'uid':_0x1ce344['uid'],'links':_0x1ce344[_0x483d20(0x915)]};case _0x3bbdbe[_0x483d20(0x519)]:case _0x3bbdbe[_0x483d20(0x1de)]:return{'type':_0x1ce344[_0x483d20(0x4e7)],'id':_0x1ce344['id'],'uid':_0x1ce344[_0x483d20(0x926)],'links':_0x1ce344[_0x483d20(0x915)],'attributes':_0x1ce344[_0x483d20(0x69c)]};default:throw new _0x315451(_0x315451[_0x483d20(0x600)]['WorkflowInvalidBlockType'],{'block':_0x1ce344});}});}[_0x2f335d(0x35d)](_0x449032,_0x51fcff){const _0x52c2fa=_0x2f335d;return _0x449032[_0x52c2fa(0x3cd)](_0x3d0475=>{const _0x2930ef=_0x52c2fa;switch(_0x3d0475[_0x2930ef(0x4e7)]){case _0x19f002[_0x2930ef(0x5e0)]:const _0x38ba74=_0x51fcff[_0x2930ef(0x29d)](_0xc1dcb0=>_0xc1dcb0['id']===_0x3d0475['id']);if(!_0x38ba74)throw new _0x315451(_0x315451[_0x2930ef(0x600)][_0x2930ef(0x7e0)],{'block':_0x3d0475});const _0x50b8a2=_0x3d0475[_0x2930ef(0x2f9)]&&_0x38ba74['versions']?_0x38ba74[_0x2930ef(0xf6)][_0x3d0475[_0x2930ef(0x2f9)]-0x1]:_0x38ba74;return{'type':_0x3d0475[_0x2930ef(0x4e7)],'id':_0x3d0475['id'],'uid':_0x3d0475['uid'],'description':_0x50b8a2[_0x2930ef(0x6eb)],'instructions':_0x50b8a2[_0x2930ef(0x77f)],'grammar':_0x50b8a2[_0x2930ef(0x6e2)],'temperature':_0x50b8a2[_0x2930ef(0x42d)],'maxTokens':_0x50b8a2['maxTokens'],'modelId':_0x50b8a2[_0x2930ef(0x447)],'links':_0x3d0475[_0x2930ef(0x915)],'version':_0x3d0475[_0x2930ef(0x2f9)]};case _0x19f002[_0x2930ef(0x430)]:case _0x19f002[_0x2930ef(0x485)]:case _0x19f002['WordSplitter']:case _0x19f002[_0x2930ef(0x519)]:case _0x19f002['EntityExtractor']:case _0x19f002[_0x2930ef(0x660)]:return{'type':_0x3d0475[_0x2930ef(0x4e7)],'id':_0x3d0475['id'],'uid':_0x3d0475[_0x2930ef(0x926)],'links':_0x3d0475[_0x2930ef(0x915)],'attributes':_0x3d0475[_0x2930ef(0x69c)]};case _0x19f002[_0x2930ef(0x29f)]:case _0x19f002['ObjectStorageBucket']:case _0x19f002['KeyValueDatabase']:case _0x19f002[_0x2930ef(0x89b)]:case _0x19f002[_0x2930ef(0x12d)]:case _0x19f002[_0x2930ef(0x7a0)]:case _0x19f002[_0x2930ef(0x3fb)]:case _0x19f002[_0x2930ef(0x708)]:case _0x19f002['Context']:case _0x19f002[_0x2930ef(0x219)]:return{'type':_0x3d0475[_0x2930ef(0x4e7)],'id':_0x3d0475['id'],'uid':_0x3d0475[_0x2930ef(0x926)],'links':_0x3d0475['links']};default:throw new _0x315451(_0x315451[_0x2930ef(0x600)][_0x2930ef(0x7e0)],{'block':_0x3d0475});}});}async[_0x2f335d(0x834)](_0x126b5d){const _0x53169a=_0x2f335d;return(await(0x0,_0x50cb11['getDocs'])((0x0,_0x50cb11[_0x53169a(0x750)])(_0x2825b2[_0x53169a(0x8be)](),'/developers/'+_0x126b5d+_0x53169a(0x267))))[_0x53169a(0x503)]['map'](_0x16f48e=>{const _0xb9b7e=_0x53169a,_0x6da672=_0x16f48e[_0xb9b7e(0x1c9)]();return{'type':_0x3bbdbe[_0xb9b7e(0x5e0)],'id':_0x16f48e['id'],'name':_0x6da672[_0xb9b7e(0xdd)],'description':_0x6da672[_0xb9b7e(0x6eb)],'instructions':_0x6da672['instructions'],'contextOutputVariable':_0x6da672['contextOutputVariable'],'contextInputVariable':_0x6da672[_0xb9b7e(0x106)],'grammar':_0x6da672[_0xb9b7e(0x6e2)]??_0xb9b7e(0x6a2),'temperature':_0x6da672[_0xb9b7e(0x42d)],'maxTokens':_0x6da672[_0xb9b7e(0x935)],'modelId':_0x6da672['modelId'],'versions':_0x6da672[_0xb9b7e(0xf6)]};});}async[_0x2f335d(0x990)](_0x4c8ec0){const _0x356233=_0x2f335d;return(await(0x0,_0x50cb11[_0x356233(0x796)])((0x0,_0x50cb11[_0x356233(0x750)])(_0x2825b2[_0x356233(0x8be)](),_0x356233(0x10e)+_0x4c8ec0+_0x356233(0xd6))))[_0x356233(0x503)][_0x356233(0x3cd)](_0x46c092=>{const _0x3930fc=_0x356233,_0x3d5464=_0x46c092[_0x3930fc(0x1c9)]();return{'type':_0x3bbdbe[_0x3930fc(0x6bd)],'id':_0x46c092['id'],'name':_0x3d5464[_0x3930fc(0xdd)],'description':_0x3d5464[_0x3930fc(0x6eb)],'ingestBlocks':_0x3d5464[_0x3930fc(0x2a3)],'retrieveBlocks':_0x3d5464[_0x3930fc(0x68e)],'versions':_0x3d5464['versions']};});}async[_0x2f335d(0x31a)](_0x6b5d42){const _0x17a227=_0x2f335d;return(await(0x0,_0x50cb11[_0x17a227(0x796)])((0x0,_0x50cb11[_0x17a227(0x750)])(_0x2825b2[_0x17a227(0x8be)](),_0x17a227(0x10e)+_0x6b5d42+_0x17a227(0x288))))[_0x17a227(0x503)][_0x17a227(0x3cd)](_0x31d82a=>{const _0x4b5491=_0x17a227,_0x3e4c92=_0x31d82a[_0x4b5491(0x1c9)]();return{'type':_0x3bbdbe[_0x4b5491(0x6d3)],'id':_0x31d82a['id'],'name':_0x3e4c92[_0x4b5491(0xdd)],'description':_0x3e4c92[_0x4b5491(0x6eb)],'parameters':_0x3e4c92[_0x4b5491(0x465)],'endpointUrl':_0x3e4c92['endpointUrl'],'endpointMethod':_0x3e4c92[_0x4b5491(0x3f2)],'headers':_0x3e4c92['headers'],'queryParameters':_0x3e4c92[_0x4b5491(0x2cb)],'bodyParameters':_0x3e4c92[_0x4b5491(0x24d)],'contextOutputVariable':_0x3e4c92['contextOutputVariable'],'waitAsync':_0x3e4c92[_0x4b5491(0x95a)]??!0x1,'asyncEndpointUrl':_0x3e4c92['asyncEndpointUrl'],'asyncEndpointMethod':_0x3e4c92[_0x4b5491(0x649)],'asyncHeaders':_0x3e4c92[_0x4b5491(0x8e0)]};});}async['getGrammars'](_0x9e8c12){const _0x3409a6=_0x2f335d;return(await(0x0,_0x50cb11[_0x3409a6(0x796)])((0x0,_0x50cb11['collection'])(_0x2825b2[_0x3409a6(0x8be)](),'/developers/'+_0x9e8c12+_0x3409a6(0x69e))))[_0x3409a6(0x503)][_0x3409a6(0x3cd)](_0xce54ef=>{const _0xfab135=_0x3409a6,_0x5ca94c=_0xce54ef[_0xfab135(0x1c9)]();return{'id':_0xce54ef['id'],'name':_0x5ca94c[_0xfab135(0xdd)],'description':_0x5ca94c[_0xfab135(0x6eb)],'content':_0x5ca94c['content']};});}async[_0x2f335d(0x89e)](_0x4f55e){const _0x12d53e=_0x2f335d;return(await(0x0,_0x50cb11['getDocs'])((0x0,_0x50cb11[_0x12d53e(0x750)])(_0x2825b2[_0x12d53e(0x8be)](),_0x12d53e(0x10e)+_0x4f55e+_0x12d53e(0x2d0))))[_0x12d53e(0x503)][_0x12d53e(0x3cd)](_0x1f8ba4=>{const _0x527083=_0x12d53e,_0x238251=_0x1f8ba4[_0x527083(0x1c9)]();return{'id':_0x1f8ba4['id'],'modelName':_0x238251['modelName'],'engineType':_0x238251[_0x527083(0x985)],'taskType':_0x238251[_0x527083(0x548)],'knowledgeCutoffDate':_0x238251[_0x527083(0x788)],'inputType':_0x238251[_0x527083(0x830)]??_0x47407f['GenerativeAIModelInputType'][_0x527083(0x657)],'outputType':_0x238251[_0x527083(0x8bf)]??_0x47407f[_0x527083(0x250)][_0x527083(0x657)],'sourceUrl':_0x238251['url']};});}}const _0x17a73e=_0x28716e[_0x2f335d(0x1e6)]();class _0x178dfb extends _0x2bdf6b{[_0x2f335d(0x6c3)];[_0x2f335d(0xa5)];[_0x2f335d(0x14a)]=0x0;[_0x2f335d(0x10d)]=0x0;[_0x2f335d(0x7a1)];constructor(_0x502508,_0x350ec9,_0xfdb8d9,_0x2d7f00){const _0x1cf7fa=_0x2f335d;super(_0x502508,_0x350ec9,_0x2d7f00),this[_0x1cf7fa(0x6c3)]=_0x502508,this[_0x1cf7fa(0xa5)]=_0xfdb8d9,this['sendStats']();}['destroy'](){const _0x24ce8b=_0x2f335d;this[_0x24ce8b(0x7a1)]&&(clearTimeout(this[_0x24ce8b(0x7a1)]),delete this[_0x24ce8b(0x7a1)]),super['destroy']();}[_0x2f335d(0x2fe)](){const _0x42962d=_0x2f335d;this[_0x42962d(0x14a)]=0x0,this[_0x42962d(0x10d)]=0x0,this[_0x42962d(0x938)](),super['reset']();}[_0x2f335d(0x75e)](_0x21a673){const _0x5e68ab=_0x2f335d,_0x4f3fae='job-'+(0x0,_0x2d9acc['v4'])();switch(_0x21a673[_0x5e68ab(0x4e7)]){case _0x5e68ab(0x650):let _0x198183=!0x1;const _0x5bc5fa=()=>{const _0x2ea2b8=_0x5e68ab;if(_0x198183)throw new _0x315451(_0x315451['codes'][_0x2ea2b8(0x9cf)]);_0x198183=!0x0;},_0x1e2e6e=()=>(_0x5bc5fa(),this[_0x5e68ab(0x650)](_0x4f3fae,_0x21a673[_0x5e68ab(0x650)],_0x21a673[_0x5e68ab(0x7b2)])),_0x4dc4c=()=>(_0x5bc5fa(),this[_0x5e68ab(0x247)](_0x4f3fae,_0x21a673[_0x5e68ab(0x650)],_0x21a673[_0x5e68ab(0x7b2)]));return{'id':_0x4f3fae,'prompt':_0x21a673[_0x5e68ab(0x650)],'options':_0x21a673['options']??{'threadId':_0x5e68ab(0x16a)+(0x0,_0x2d9acc['v4'])()},'run':_0x1e2e6e,'stream':_0x4dc4c};case _0x5e68ab(0x6aa):let _0x16a7b6=!0x1;const _0x3f8967=()=>{const _0x3637e3=_0x5e68ab;if(_0x16a7b6)throw new _0x315451(_0x315451[_0x3637e3(0x600)]['GenerativeAIContextJobAlreadyConsumed']);_0x16a7b6=!0x0;},_0x5ac105=()=>(_0x3f8967(),this[_0x5e68ab(0x794)](_0x4f3fae,_0x21a673[_0x5e68ab(0x767)],_0x21a673[_0x5e68ab(0x671)],_0x21a673[_0x5e68ab(0x7b2)]));if(!_0x21a673[_0x5e68ab(0x7b2)]?.[_0x5e68ab(0x9ac)])throw new _0x194c78(_0x2e40c3['GenerativeAIContextJobMissingThreadId'],_0x5e68ab(0x179));return{'id':_0x4f3fae,'rating':_0x21a673[_0x5e68ab(0x767)],'options':_0x21a673[_0x5e68ab(0x7b2)]??{'threadId':_0x5e68ab(0x16a)+(0x0,_0x2d9acc['v4'])()},'rate':_0x5ac105};case _0x5e68ab(0x703):let _0x234b9c=!0x1;const _0x47bc96=()=>{const _0x3f3230=_0x5e68ab;if(_0x234b9c)throw new _0x315451(_0x315451[_0x3f3230(0x600)][_0x3f3230(0x9cf)]);_0x234b9c=!0x0;};return{'id':_0x4f3fae,'objectStoreId':'','documentPath':_0x21a673['documentPath'],'download':()=>(_0x47bc96(),this['internalDownloadDocument'](_0x4f3fae,_0x21a673['objectStoreId'],_0x21a673[_0x5e68ab(0x455)]))};}}async[_0x2f335d(0x898)](_0x598a3b){const _0x4f0657=_0x2f335d;return this[_0x4f0657(0x75e)](_0x598a3b)['rate']();}async[_0x2f335d(0x703)](_0x51841c){const _0x29937b=_0x2f335d,_0x2e0aec={'type':'downloadDocument','objectStoreId':'','documentPath':_0x51841c};return this[_0x29937b(0x75e)](_0x2e0aec)[_0x29937b(0x134)]();}async[_0x2f335d(0x794)](_0xd481d5,_0x3a9c21,_0x8bfd98,{threadId:_0x5237fb,feedback:_0x2096f0=''}){const _0x21cad=_0x2f335d,_0x3f7ac3={'type':_0x21cad(0x6aa),'jobId':_0x8bfd98,'threadId':_0x5237fb,'rating':_0x3a9c21,'feedback':_0x2096f0},_0x5d5c1a=await this['getJobObservable'](_0xd481d5,_0x47407f['JobType'][_0x21cad(0x387)],_0x3f7ac3,{'threadId':_0x5237fb,'feedback':_0x2096f0});return new Promise((_0x2f7084,_0x1a35a2)=>{const _0x33d1c0=_0x21cad;let _0x50174c;const _0x5c69ff=_0x5d5c1a[_0x33d1c0(0x504)]({'next':_0x44b7d4=>{const _0x4fe4d4=_0x33d1c0;switch(_0x44b7d4[_0x4fe4d4(0x24a)]){case _0x47407f['JobStatus'][_0x4fe4d4(0x891)]:clearTimeout(_0x50174c),_0x2f7084(_0x44b7d4['result']),_0x5c69ff[_0x4fe4d4(0x5be)]();break;case _0x47407f['JobStatus'][_0x4fe4d4(0x778)]:clearTimeout(_0x50174c),_0x1a35a2(new _0x315451(_0x315451[_0x4fe4d4(0x600)][_0x4fe4d4(0x555)],{'updatedJob':_0x44b7d4})),_0x5c69ff['unsubscribe']();}},'error':_0x163bd8=>{const _0x17a51c=_0x33d1c0;clearTimeout(_0x50174c),_0x1a35a2(new _0x315451(_0x315451['codes'][_0x17a51c(0x555)],{'err':_0x163bd8})),_0x5c69ff['unsubscribe']();}});_0x50174c=setTimeout(()=>{const _0x129155=_0x33d1c0;_0x1a35a2(new _0x315451(_0x315451[_0x129155(0x600)]['GenerativeAIContextJobTimeout'])),_0x5c69ff[_0x129155(0x5be)]();},_0x48db37);});}async['internalDownloadDocument'](_0x60b2f7,_0x5e2d00,_0x8f5f1b){const _0x48b257=_0x2f335d,_0x2b60ee={'type':_0x48b257(0x703),'objectStoreId':_0x5e2d00,'documentPath':_0x8f5f1b,'threadId':'thread-'+(0x0,_0x2d9acc['v4'])()},_0x1c0912=await this[_0x48b257(0x202)](_0x60b2f7,_0x47407f[_0x48b257(0x468)][_0x48b257(0x387)],_0x2b60ee);return new Promise((_0x1d8234,_0x267269)=>{const _0x118124=_0x48b257;let _0x9383f7;const _0x1a43cb=_0x1c0912[_0x118124(0x504)]({'next':_0x162450=>{const _0x1a2047=_0x118124;switch(_0x162450['status']){case _0x47407f['JobStatus'][_0x1a2047(0x891)]:clearTimeout(_0x9383f7),_0x1d8234(_0x162450[_0x1a2047(0x3fe)]),_0x1a43cb[_0x1a2047(0x5be)]();break;case _0x47407f[_0x1a2047(0x13a)][_0x1a2047(0x778)]:clearTimeout(_0x9383f7),_0x267269(new _0x315451(_0x315451['codes'][_0x1a2047(0x555)],{'updatedJob':_0x162450})),_0x1a43cb['unsubscribe']();}},'error':_0x1d30c6=>{const _0x22e4de=_0x118124;clearTimeout(_0x9383f7),_0x267269(new _0x315451(_0x315451['codes'][_0x22e4de(0x555)],{'err':_0x1d30c6})),_0x1a43cb[_0x22e4de(0x5be)]();}});_0x9383f7=setTimeout(()=>{const _0xf31e17=_0x118124;_0x267269(new _0x315451(_0x315451[_0xf31e17(0x600)][_0xf31e17(0x35a)])),_0x1a43cb[_0xf31e17(0x5be)]();},_0x48db37);});}async[_0x2f335d(0x650)](_0x5c6d68,_0x303639,_0x1dc546){const _0x532619=_0x2f335d,_0xc1bf99={'type':_0x532619(0x650),'prompt':_0x303639,'threadId':_0x1dc546?.[_0x532619(0x9ac)]??_0x532619(0x16a)+(0x0,_0x2d9acc['v4'])()},_0x291f8b=await this[_0x532619(0x202)](_0x5c6d68,_0x47407f['JobType'][_0x532619(0x387)],_0xc1bf99,_0x1dc546);return new Promise((_0x2be13c,_0x470c41)=>{const _0x35b394=_0x532619;let _0x829eac;const _0x169f8c=_0x291f8b[_0x35b394(0x504)]({'next':_0x3d4e04=>{const _0x5ee706=_0x35b394;switch(_0x3d4e04[_0x5ee706(0x24a)]){case _0x47407f[_0x5ee706(0x13a)]['Completed']:if(_0x5ee706(0x650)!==_0x3d4e04[_0x5ee706(0x3fe)][_0x5ee706(0x4e7)])return;const _0x233fd3=_0x3d4e04[_0x5ee706(0x3fe)][_0x5ee706(0x3ad)]??0x0;this['logServiceEvent'](_0x303639,_0x233fd3),clearTimeout(_0x829eac),_0x2be13c(_0x3d4e04[_0x5ee706(0x3fe)]),_0x169f8c[_0x5ee706(0x5be)](),this[_0x5ee706(0x14a)]+=0x1,this[_0x5ee706(0x10d)]+=_0x233fd3,this[_0x5ee706(0x938)]();break;case _0x47407f['JobStatus'][_0x5ee706(0x778)]:clearTimeout(_0x829eac),_0x470c41(new _0x315451(_0x315451[_0x5ee706(0x600)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x3d4e04})),_0x169f8c[_0x5ee706(0x5be)](),this[_0x5ee706(0x938)]();}},'error':_0x4a6b99=>{const _0x272dfe=_0x35b394;clearTimeout(_0x829eac),_0x470c41(new _0x315451(_0x315451['codes'][_0x272dfe(0x555)],{'err':_0x4a6b99})),_0x169f8c[_0x272dfe(0x5be)]();}});_0x829eac=setTimeout(()=>{const _0x4dcf9c=_0x35b394;_0x470c41(new _0x315451(_0x315451[_0x4dcf9c(0x600)]['GenerativeAIContextJobTimeout'])),_0x169f8c['unsubscribe']();},_0x48db37);});}async*[_0x2f335d(0x247)](_0x35f5c3,_0x206bef,_0x2c20b2){const _0x558df4=_0x2f335d,_0x5977e8={'type':'prompt','prompt':_0x206bef,'threadId':_0x2c20b2?.[_0x558df4(0x9ac)]??_0x558df4(0x16a)+(0x0,_0x2d9acc['v4'])()},_0x3dee3a=await this[_0x558df4(0x202)](_0x35f5c3,_0x47407f['JobType'][_0x558df4(0x257)],_0x5977e8,_0x2c20b2);let _0x2a088c,_0x59f7ca,_0x396144=!0x1,_0x56e68e=0x0;const _0x27398e=[],_0x34364a=new Map();let _0x421017=null;const _0x3ae994=()=>{_0x421017&&(_0x421017(),_0x421017=null);},_0x302c94=_0x877201=>{const _0x379317=_0x558df4;_0x396144=!0x0,_0x3ae994(),_0x53f8f9[_0x379317(0x5be)](),_0x59f7ca=_0x877201;},_0x53f8f9=_0x3dee3a[_0x558df4(0x504)]({'next':_0x6048a5=>{const _0xff443d=_0x558df4;switch(_0x6048a5[_0xff443d(0x24a)]){case _0x47407f[_0xff443d(0x13a)][_0xff443d(0x34f)]:if(_0xff443d(0x650)!==_0x6048a5[_0xff443d(0x3fe)][_0xff443d(0x4e7)])return;if(_0x6048a5[_0xff443d(0x3fe)]&&void 0x0!==_0x6048a5[_0xff443d(0x3fe)][_0xff443d(0x36a)]){if(void 0x0===_0x6048a5[_0xff443d(0x3fe)][_0xff443d(0x94e)])return void _0x302c94(_0x315451['codes'][_0xff443d(0x961)]);_0x56e68e===_0x6048a5['result'][_0xff443d(0x94e)]?(_0x27398e[_0xff443d(0x6e4)](_0x6048a5[_0xff443d(0x3fe)]),_0x56e68e++,((()=>{const _0x3b4f73=_0xff443d;for(;_0x34364a[_0x3b4f73(0x627)](_0x56e68e);)_0x27398e[_0x3b4f73(0x6e4)](_0x34364a[_0x3b4f73(0x389)](_0x27398e[_0x3b4f73(0x39c)])),_0x34364a[_0x3b4f73(0x2ee)](_0x27398e[_0x3b4f73(0x39c)]),_0x56e68e++;})()),_0x3ae994(),_0xbea83()):_0x34364a[_0xff443d(0x120)](_0x6048a5['result'][_0xff443d(0x94e)],_0x6048a5[_0xff443d(0x3fe)]);}break;case _0x47407f['JobStatus'][_0xff443d(0x891)]:if(_0xff443d(0x650)!==_0x6048a5[_0xff443d(0x3fe)][_0xff443d(0x4e7)])return;const _0x14002c=_0x6048a5[_0xff443d(0x3fe)]['inputTokens']??0x0;this[_0xff443d(0xf8)](_0x206bef,_0x14002c),clearTimeout(_0x2a088c),_0x302c94(),this[_0xff443d(0x14a)]+=0x1,this[_0xff443d(0x10d)]+=_0x14002c,this[_0xff443d(0x938)]();break;case _0x47407f[_0xff443d(0x13a)][_0xff443d(0x778)]:clearTimeout(_0x2a088c),_0x302c94(_0x315451[_0xff443d(0x600)][_0xff443d(0x555)]),this[_0xff443d(0x938)]();}},'error':_0xd83577=>{const _0x2449f7=_0x558df4;clearTimeout(_0x2a088c),_0x302c94(_0x315451[_0x2449f7(0x600)]['GenerativeAIContextJobFailed']);}}),_0x40f55c=()=>{const _0x5e0c58=_0x558df4;_0x302c94(_0x315451[_0x5e0c58(0x600)][_0x5e0c58(0x35a)]);},_0xbea83=()=>{clearTimeout(_0x2a088c),_0x2a088c=setTimeout(_0x40f55c,_0x48db37);};for(_0x2a088c=setTimeout(_0x40f55c,_0x48db37);!_0x396144||_0x27398e[_0x558df4(0x39c)]>0x0;)_0x27398e[_0x558df4(0x39c)]>0x0?yield _0x27398e[_0x558df4(0x234)]():await new Promise(_0x619e92=>_0x421017=_0x619e92);if(_0x59f7ca)throw _0x5a023b[_0x558df4(0x646)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x558df4(0x6c3)][_0x558df4(0x92c)](),'nodeType':this[_0x558df4(0x6c3)]['type']}),new _0x315451(_0x59f7ca);}async[_0x2f335d(0x637)](){const _0x364ef0=_0x2f335d;return(await _0x17a73e[_0x364ef0(0x117)](this[_0x364ef0(0xa5)],this[_0x364ef0(0x2b4)]))['dataBucketIds'];}[_0x2f335d(0xf8)](_0x1288b1,_0x2238a8){const _0x6dce54=_0x2f335d,_0x9908c0=this[_0x6dce54(0x2b4)],_0x1802e5=this[_0x6dce54(0x8a4)]();_0x5a023b[_0x6dce54(0xf8)](_0x35a2ee['GenerativeAIContext'],{'topic':_0x9908c0,'prompt':_0x1288b1,'type':_0x6dce54(0x650),'nodeId':_0x1802e5,'tokenCount':_0x2238a8});}async[_0x2f335d(0x202)](_0x4b4cbe,_0x4dae66,_0x2f720d,_0x3b8987={}){const _0x428337=_0x2f335d;let _0x5d8083;switch(_0x2f720d['type']){case _0x428337(0x650):{const {threadId:_0x7da0de}=_0x3b8987;_0x5d8083={'id':_0x4b4cbe,'jobType':_0x4dae66,'parameters':{..._0x3b8987,'type':_0x428337(0x650),'prompt':_0x2f720d['prompt'],'threadId':_0x7da0de},'status':_0x47407f[_0x428337(0x13a)][_0x428337(0x486)]};break;}case _0x428337(0x6aa):{const {threadId:_0x35ffd2}=_0x3b8987;_0x5d8083={'id':_0x4b4cbe,'jobType':_0x4dae66,'parameters':{..._0x3b8987,'type':'rate','jobId':_0x2f720d[_0x428337(0x671)],'rating':_0x2f720d[_0x428337(0x767)],'feedback':_0x2f720d[_0x428337(0x862)]??'','threadId':_0x35ffd2},'status':_0x47407f['JobStatus'][_0x428337(0x486)]};break;}case _0x428337(0x703):_0x5d8083={'id':_0x4b4cbe,'jobType':_0x4dae66,'parameters':{..._0x3b8987,'type':_0x428337(0x703),'objectStoreId':_0x2f720d[_0x428337(0x168)],'documentPath':_0x2f720d['documentPath']},'status':_0x47407f['JobStatus'][_0x428337(0x486)]};}return await this[_0x428337(0x480)](_0x5d8083);}[_0x2f335d(0x938)](){const _0x5d1bf8=_0x2f335d;this[_0x5d1bf8(0x7a1)]&&clearTimeout(this[_0x5d1bf8(0x7a1)]),this[_0x5d1bf8(0x7a1)]=setTimeout(async()=>{const _0x2bfb15=_0x5d1bf8;delete this[_0x2bfb15(0x7a1)],this[_0x2bfb15(0x57e)][_0x2bfb15(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x2bfb15(0x109)],'content':{'type':_0x314d98[_0x2bfb15(0x478)],'label':this[_0x2bfb15(0x2b4)],'stats':{'timestamp':Date[_0x2bfb15(0x449)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x2bfb15(0x108)],'bytesSent':this[_0x2bfb15(0x18b)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x2bfb15(0x14a)],'tokens':this[_0x2bfb15(0x10d)]}}});},_0x25c4c2);}}var _0x570c5f,_0x1c39a3,_0xf41146,_0x223e6b,_0x46723d,_0x5b1a12,_0x36fe01,_0x3e443f,_0x4cc321,_0x28780b,_0x37758c;!function(_0x5e02a0){const _0x50d42e=_0x2f335d;_0x5e02a0[_0x50d42e(0x4df)]=_0x50d42e(0x4df),_0x5e02a0[_0x50d42e(0x30c)]=_0x50d42e(0x30c),_0x5e02a0[_0x50d42e(0x704)]=_0x50d42e(0x704),_0x5e02a0['WorkflowTrace']='WorkflowTrace';}(_0x570c5f||(_0x570c5f={})),function(_0x5ab06f){const _0x1ccd57=_0x2f335d;_0x5ab06f['ModelText']='ModelText',_0x5ab06f['ModelVector']=_0x1ccd57(0x23a),_0x5ab06f['VectorSearch']=_0x1ccd57(0x351),_0x5ab06f['EntityExtractor']=_0x1ccd57(0x8ca),_0x5ab06f[_0x1ccd57(0x90)]=_0x1ccd57(0x90),_0x5ab06f[_0x1ccd57(0x660)]=_0x1ccd57(0x660);}(_0x1c39a3||(_0x1c39a3={})),function(_0x5256f4){const _0x12e8fc=_0x2f335d;_0x5256f4[_0x5256f4[_0x12e8fc(0x4a9)]=0x0]='Debug',_0x5256f4[_0x5256f4[_0x12e8fc(0x262)]=0x5]=_0x12e8fc(0x262),_0x5256f4[_0x5256f4['Warning']=0xa]=_0x12e8fc(0x4c1),_0x5256f4[_0x5256f4['Error']=0xf]=_0x12e8fc(0x6ae);}(_0xf41146||(_0xf41146={})),function(_0x52f9d3){const _0x508b93=_0x2f335d;_0x52f9d3[_0x508b93(0x13f)]=_0x508b93(0x13f),_0x52f9d3[_0x508b93(0x312)]=_0x508b93(0x312),_0x52f9d3[_0x508b93(0x8bd)]=_0x508b93(0x8bd),_0x52f9d3[_0x508b93(0x27c)]=_0x508b93(0x27c),_0x52f9d3['Workflow']=_0x508b93(0x610),_0x52f9d3['Job']=_0x508b93(0x387),_0x52f9d3[_0x508b93(0x7c1)]=_0x508b93(0x7c1),_0x52f9d3['Rating']=_0x508b93(0x36d);}(_0x223e6b||(_0x223e6b={})),function(_0x153b98){const _0x4eedb9=_0x2f335d;_0x153b98[_0x4eedb9(0x40d)]=_0x4eedb9(0x40d),_0x153b98[_0x4eedb9(0x891)]=_0x4eedb9(0x891);}(_0x46723d||(_0x46723d={})),function(_0x316a6b){const _0x5662e6=_0x2f335d;_0x316a6b['InitialPrompt']=_0x5662e6(0xb6),_0x316a6b[_0x5662e6(0x560)]=_0x5662e6(0x560),_0x316a6b['DataCollection']='DataCollection',_0x316a6b[_0x5662e6(0xf0)]=_0x5662e6(0xf0);}(_0x5b1a12||(_0x5b1a12={})),function(_0x36f1f5){const _0x574982=_0x2f335d;_0x36f1f5[_0x574982(0x519)]=_0x574982(0x519),_0x36f1f5['DocumentParser']='DocumentParser',_0x36f1f5[_0x574982(0x8ca)]='EntityExtractor',_0x36f1f5[_0x574982(0x430)]=_0x574982(0x430),_0x36f1f5[_0x574982(0x5e0)]=_0x574982(0x5e0),_0x36f1f5[_0x574982(0x173)]=_0x574982(0x173),_0x36f1f5[_0x574982(0x23a)]='ModelVector',_0x36f1f5[_0x574982(0x89b)]=_0x574982(0x89b),_0x36f1f5[_0x574982(0x7a0)]=_0x574982(0x7a0),_0x36f1f5['VectorDatabase']=_0x574982(0x485),_0x36f1f5[_0x574982(0x1de)]=_0x574982(0x1de);}(_0x36fe01||(_0x36fe01={})),function(_0x14a1f6){const _0xf8b7cc=_0x2f335d;_0x14a1f6['GetContextQuery']=_0xf8b7cc(0xa7),_0x14a1f6[_0xf8b7cc(0x1a7)]='GetContextResult';}(_0x3e443f||(_0x3e443f={})),function(_0xdff555){const _0x2b59fd=_0x2f335d;_0xdff555[_0x2b59fd(0x40e)]='ExecuteCode',_0xdff555['FetchUrl']=_0x2b59fd(0x5bc),_0xdff555['SearchGoogle']=_0x2b59fd(0x60e),_0xdff555[_0x2b59fd(0x464)]=_0x2b59fd(0x464),_0xdff555[_0x2b59fd(0x3b2)]=_0x2b59fd(0x3b2),_0xdff555[_0x2b59fd(0x808)]='ExecuteCustomSkill',_0xdff555['QueryFile']='QueryFile';}(_0x4cc321||(_0x4cc321={})),function(_0x530b54){const _0x4c09bd=_0x2f335d;_0x530b54[_0x4c09bd(0x9c5)]=_0x4c09bd(0x9c5),_0x530b54[_0x4c09bd(0x3d8)]=_0x4c09bd(0x3d8);}(_0x28780b||(_0x28780b={})),function(_0x17009e){const _0x555155=_0x2f335d;_0x17009e['PromptRating']=_0x555155(0x5d8);}(_0x37758c||(_0x37758c={}));class _0x13ad76{static [_0x2f335d(0x26a)]=new _0x13ad76();[_0x2f335d(0x720)]=[];['isRunning']=!0x1;constructor(){}static[_0x2f335d(0x1e6)](){const _0x5e4ee4=_0x2f335d;return _0x13ad76[_0x5e4ee4(0x26a)];}get[_0x2f335d(0x39c)](){const _0x2d7dd2=_0x2f335d;return this[_0x2d7dd2(0x720)]['length'];}[_0x2f335d(0x921)](){return!this['isRunning'];}['clear'](_0x568b0a){const _0x4da5f0=_0x2f335d;_0x568b0a?this['jobQueue']=this[_0x4da5f0(0x720)][_0x4da5f0(0x379)](_0x2938a9=>_0x2938a9[_0x4da5f0(0x2d7)]!==_0x568b0a):(this[_0x4da5f0(0x720)]=[],this[_0x4da5f0(0x3f9)]=!0x1);}[_0x2f335d(0xad)](_0x365a3b,_0x497781){const _0xb12ca8=_0x2f335d;this[_0xb12ca8(0x720)][_0xb12ca8(0x6e4)]({'callback':_0x497781,'ownerId':_0x365a3b}),this[_0xb12ca8(0x946)]();}async[_0x2f335d(0x946)](){const _0x179f00=_0x2f335d;if(!this[_0x179f00(0x3f9)]){for(this[_0x179f00(0x3f9)]=!0x0;this[_0x179f00(0x720)][_0x179f00(0x39c)]>0x0;){const _0x4e3525=this[_0x179f00(0x720)][_0x179f00(0x234)]();if(_0x4e3525)try{console[_0x179f00(0x624)](_0x179f00(0x332)),await _0x4e3525[_0x179f00(0x3b3)](),console[_0x179f00(0x624)]('JobQueueService:\x20Job\x20completed');}catch(_0x14ab0f){console[_0x179f00(0x646)]('JobQueueService:\x20Error\x20running\x20job',_0x14ab0f);}}this[_0x179f00(0x3f9)]=!0x1;}}}const _0x1e0260=_0x13ad76['getInstance']();class _0x50160d extends _0x56016a{[_0x2f335d(0x93f)];[_0x2f335d(0x88a)];constructor(_0x5109c1,_0x17e20c,_0x3038ea){super(_0x5109c1,_0x17e20c),this['capacityReporter']=_0x3038ea;}[_0x2f335d(0x8c7)](){const _0x1c9476=_0x2f335d;return _0x47407f[_0x1c9476(0x1e9)]['Job'];}['open'](){const _0x2e3065=_0x2f335d;this[_0x2e3065(0x993)]();}['close'](){const _0x57955b=_0x2f335d;this[_0x57955b(0x57e)]?.[_0x57955b(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x57955b(0x109)],'content':{'type':_0x314d98['CloseJobWorker'],'label':this[_0x57955b(0x2b4)]}});}[_0x2f335d(0x2fe)](){const _0x2f7ad8=_0x2f335d;this[_0x2f7ad8(0x88a)]?.(),delete this['unsubscribeListener'],this[_0x2f7ad8(0x8d6)]();}['destroy'](){const _0x456708=_0x2f335d;_0x1e0260[_0x456708(0x18c)](this[_0x456708(0x2b4)]),this[_0x456708(0x88a)]?.(),delete this[_0x456708(0x88a)],super[_0x456708(0x7f0)]();}[_0x2f335d(0x921)](){const _0x5b3e99=_0x2f335d;return _0x1e0260[_0x5b3e99(0x921)]();}[_0x2f335d(0x697)](){return 0x1;}[_0x2f335d(0x26b)](_0x1bd15e,_0x289563,_0x4e2a67){}[_0x2f335d(0x19d)](_0x4bbda4,_0x89db23){return _0x4bbda4;}[_0x2f335d(0x94d)](_0x2f69e0,_0x136899){const _0x413578=_0x2f335d;console['warn'](_0x413578(0x4a2));}['stopTracing'](_0x4ed79a,_0x40d5f1){const _0x5d3e33=_0x2f335d;console[_0x5d3e33(0x624)](_0x5d3e33(0x4a2));}[_0x2f335d(0x993)](){const _0x409403=_0x2f335d;this[_0x409403(0x88a)]||(this[_0x409403(0x88a)]=this[_0x409403(0x904)]((_0x6b56f4,_0x738b06)=>{const _0x216536=_0x409403;if(_0x5a023b[_0x216536(0x6fb)](_0x4abdbe[_0x216536(0x9cb)],_0x216536(0x8de),_0x738b06),!(_0x738b06 instanceof File)){if(this['isJobRequest'](_0x738b06))_0x5a023b[_0x216536(0x6fb)](_0x4abdbe[_0x216536(0x9cb)],_0x216536(0x69f),_0x738b06),this[_0x216536(0x921)]()?this[_0x216536(0x368)](_0x738b06['id'],_0x738b06[_0x216536(0x27d)],_0x6b56f4):this[_0x216536(0x2b2)](_0x738b06['id'],_0x738b06[_0x216536(0x27d)],_0x6b56f4);else{if(this[_0x216536(0x511)](_0x738b06)){_0x5a023b['log'](_0x4abdbe[_0x216536(0x9cb)],_0x216536(0x95f),_0x738b06);const {id:_0x52cfd9,parameters:_0xb9361f}=_0x738b06;this['startTracing'](_0x52cfd9,_0xb9361f),_0x1e0260[_0x216536(0xad)](this['label'],()=>this[_0x216536(0x82d)](_0x738b06['id'],_0x738b06,_0x6b56f4));}}}}));}[_0x2f335d(0x368)](_0xcf6ab4,_0x4bac3f,_0x1d9934){const _0x1f869a=_0x2f335d,_0xa351a0={'id':_0xcf6ab4,'jobType':_0x4bac3f,'jobPhase':_0x288dc8[_0x1f869a(0x359)],'available':!0x0,'queueLength':_0x1e0260[_0x1f869a(0x39c)],'bid':this[_0x1f869a(0x697)]()};_0x5a023b[_0x1f869a(0x6fb)](_0x4abdbe[_0x1f869a(0x9cb)],_0x1f869a(0x97),_0xa351a0),this[_0x1f869a(0x869)](_0xa351a0,[_0x1d9934]);}[_0x2f335d(0x2b2)](_0xe2fbfc,_0x5dd650,_0x3fc000){const _0x10697a=_0x2f335d,_0x169789={'id':_0xe2fbfc,'jobType':_0x5dd650,'jobPhase':_0x288dc8['Bid'],'available':!0x1,'queueLength':_0x1e0260[_0x10697a(0x39c)],'bid':0x0};_0x5a023b[_0x10697a(0x6fb)](_0x4abdbe[_0x10697a(0x9cb)],'JobWorker:\x20Sending\x20job\x20reject',_0x169789),this[_0x10697a(0x869)](_0x169789,[_0x3fc000]);}async[_0x2f335d(0x82d)](_0x2dcf98,_0x195a4e,_0x4624fc){const _0x4c073f=_0x2f335d;_0x5a023b[_0x4c073f(0x6fb)](_0x4abdbe[_0x4c073f(0x9cb)],'JobWorker:\x20Handling\x20job\x20attribution',_0x195a4e);const _0xe3b916={'id':_0x2dcf98,'jobType':_0x195a4e['jobType'],'parameters':_0x195a4e['parameters']};try{switch(_0x195a4e[_0x4c073f(0x27d)]){case _0x47407f[_0x4c073f(0x468)][_0x4c073f(0x387)]:await this[_0x4c073f(0x608)](_0x2dcf98,_0x195a4e,_0xe3b916,_0x4624fc);break;case _0x47407f[_0x4c073f(0x468)][_0x4c073f(0x257)]:await this[_0x4c073f(0x74f)](_0x2dcf98,_0x195a4e,_0xe3b916,_0x4624fc);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x578862){_0x5a023b[_0x4c073f(0x646)](_0x4c073f(0x900),{'nodeId':this[_0x4c073f(0x7e2)][_0x4c073f(0x92c)](),'nodeType':this[_0x4c073f(0x7e2)][_0x4c073f(0x4e7)],'data':{'job':_0xe3b916}},_0x578862);const _0x41e3f3=_0x578862 instanceof Error?_0x578862[_0x4c073f(0x3bf)]:'An\x20error\x20occurred',_0x5691c5={'id':_0x2dcf98,'jobType':_0x195a4e['jobType'],'jobPhase':_0x288dc8[_0x4c073f(0x778)],'message':_0x41e3f3};await this['send'](_0x5691c5,[_0x4624fc]);}}async[_0x2f335d(0x608)](_0xfa4d3b,_0x4aa488,_0x47ef7a,_0x3c41d6){const _0x35a035=_0x2f335d,_0x223536=Date[_0x35a035(0x449)](),_0x4512cb=await this[_0x35a035(0x816)](_0xfa4d3b,_0x47ef7a[_0x35a035(0x465)]);this[_0x35a035(0x26b)](_0x4512cb,_0x223536,Date[_0x35a035(0x449)]());const _0x408fef={'id':_0xfa4d3b,'jobType':_0x4aa488[_0x35a035(0x27d)],'jobPhase':_0x288dc8['Result'],'result':_0x4512cb};_0x5a023b['log'](_0x4abdbe['Jobs'],_0x35a035(0x107),_0x408fef),await this[_0x35a035(0x869)](_0x408fef,[_0x3c41d6]),this[_0x35a035(0x9bf)](_0xfa4d3b,_0x47ef7a[_0x35a035(0x465)]);}async[_0x2f335d(0x74f)](_0x5ae423,_0x263ff6,_0x29b9a8,_0x4e488f){const _0x34b889=_0x2f335d,_0x430b47=Date['now']();let _0x2c28a0=0x0,_0x318bfe={};for await(const _0x4d0050 of this[_0x34b889(0x156)](_0x29b9a8['id'],_0x29b9a8[_0x34b889(0x465)])){const _0x273816={'id':_0x5ae423,'jobType':_0x263ff6[_0x34b889(0x27d)],'jobPhase':_0x288dc8[_0x34b889(0x696)],'result':{..._0x4d0050,'index':_0x2c28a0}};_0x5a023b[_0x34b889(0x6fb)](_0x4abdbe[_0x34b889(0x9cb)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x273816),this[_0x34b889(0x869)](_0x273816,[_0x4e488f]),_0x318bfe=this[_0x34b889(0x19d)](_0x318bfe,_0x4d0050),_0x2c28a0++;}this[_0x34b889(0x26b)](_0x318bfe,_0x430b47,Date[_0x34b889(0x449)]());const _0x54b90b={'id':_0x5ae423,'jobType':_0x263ff6[_0x34b889(0x27d)],'jobPhase':_0x288dc8[_0x34b889(0x92e)],'result':_0x318bfe};_0x5a023b[_0x34b889(0x6fb)](_0x4abdbe[_0x34b889(0x9cb)],_0x34b889(0x107),_0x54b90b),await this['send'](_0x54b90b,[_0x4e488f]),this[_0x34b889(0x9bf)](_0x5ae423,_0x29b9a8[_0x34b889(0x465)]);}['isJobRequest'](_0x1238bd){const _0x3475d9=_0x2f335d;return _0x1238bd[_0x3475d9(0x4bc)]===_0x288dc8[_0x3475d9(0x3d3)];}[_0x2f335d(0x511)](_0x2ae937){const _0x22c20a=_0x2f335d;return _0x2ae937[_0x22c20a(0x4bc)]===_0x288dc8[_0x22c20a(0xd2)];}}function _0x25f6ec(_0x3866c9,_0x461cd5){const _0x28e69=_0x2f335d;return _0x28e69(0x782)+_0x3866c9+'-'+_0x461cd5;}function _0x5b1811(){const _0x446aa8=_0x2f335d,_0x1f2264=_0xe47ebe['layout'](0x1);return _0x1f2264[_0x446aa8(0x482)](_0x446aa8(0x63c))[_0x446aa8(0x94e)]('id')[_0x446aa8(0x94e)]('jobId')['index']('agentId')[_0x446aa8(0x94e)](_0x446aa8(0x9ac))[_0x446aa8(0x94e)]('timestamp')[_0x446aa8(0x94e)](_0x446aa8(0x34c)),_0x1f2264;}function _0xbab919(_0x11cacc){const _0x2d6b00=_0x2f335d;try{return JSON['stringify'](_0x11cacc);}catch(_0x49a752){return _0x11cacc instanceof Error?_0x11cacc['toString']():JSON['stringify'](_0x2d6b00(0x1c1));}}class _0x41cbbe{static [_0x2f335d(0x26a)];[_0x2f335d(0x790)]=_0xf41146[_0x2f335d(0x6ae)];['commitLevel']=_0xf41146[_0x2f335d(0x262)];[_0x2f335d(0x21f)]=_0x223e6b['Retrieve'];[_0x2f335d(0x613)]={};static [_0x2f335d(0x1e6)]=()=>(_0x41cbbe[_0x2f335d(0x26a)]||(_0x41cbbe[_0x2f335d(0x26a)]=new _0x41cbbe()),_0x41cbbe['instance']);[_0x2f335d(0x497)](_0x70d9cf,_0x462124,_0x4fd1e8=!0x0){const _0x3c0980=_0x2f335d;try{if(this[_0x3c0980(0x613)][_0x462124])throw new Error(_0x3c0980(0x918));const _0x57ca43={'sequence':0x0};if(this['openedTraces'][_0x462124]=_0x57ca43,!_0x70d9cf)return!0x0;const _0xe9118f=function(_0x474a69){const _0x1cc687=_0x3c0980;return _0x474a69[_0x1cc687(0x33a)](_0x1cc687(0x63c));}(_0x70d9cf);return _0x57ca43[_0x3c0980(0x206)]=_0x70d9cf,_0x57ca43[_0x3c0980(0x482)]=_0xe9118f,!0x0;}catch(_0x1e0928){return console['error'](_0x3c0980(0x718)+_0x4fd1e8,_0x1e0928),!!_0x4fd1e8&&(this['closeTrace'](_0x462124),this[_0x3c0980(0x497)](_0x70d9cf,_0x462124,!0x1));}}[_0x2f335d(0x9a2)](_0x5f19ad){const _0x26c2e8=_0x2f335d;try{const _0x81d4a1=this[_0x26c2e8(0x613)][_0x5f19ad[_0x26c2e8(0x671)]];if(!_0x81d4a1)throw new Error(_0x26c2e8(0x956));_0x5f19ad[_0x26c2e8(0x34c)]=_0x81d4a1[_0x26c2e8(0x34c)]++,_0x5f19ad[_0x26c2e8(0x101)]>=this[_0x26c2e8(0x790)]&&console['log'](JSON[_0x26c2e8(0x4ad)](_0x5f19ad,null,0x2)),this[_0x26c2e8(0x56d)](_0x5f19ad);}catch(_0x5b1c01){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x5b1c01);}}['closeTrace'](_0x179261){const _0x596b37=_0x2f335d;if(!_0x41cbbe[_0x596b37(0x26a)])throw new Error(_0x596b37(0x190));if(!this['openedTraces'][_0x179261])throw new Error(_0x596b37(0x614));delete this[_0x596b37(0x613)][_0x179261];}[_0x2f335d(0x56d)](_0x2ba37a){const _0x35b4ca=_0x2f335d;if(_0x2ba37a[_0x35b4ca(0x101)]<this[_0x35b4ca(0x477)]&&_0x2ba37a[_0x35b4ca(0x27d)]!==this['commitType'])return;if(!this[_0x35b4ca(0x613)][_0x2ba37a[_0x35b4ca(0x671)]])throw new Error(_0x35b4ca(0xaf));const _0x460c02=this[_0x35b4ca(0x613)][_0x2ba37a[_0x35b4ca(0x671)]];if(!_0x460c02[_0x35b4ca(0x206)])throw new Error(_0x35b4ca(0x5b6));if(!_0x460c02[_0x35b4ca(0x482)])throw new Error(_0x35b4ca(0x83f));try{const _0x11c0f5=function(_0xbb0223){const _0x3dcf9c=_0x35b4ca,_0x302d00=['startTime',_0x3dcf9c(0x5c9),_0x3dcf9c(0x27d),_0x3dcf9c(0x4e7),_0x3dcf9c(0x671),_0x3dcf9c(0x101),_0x3dcf9c(0x6ef),_0x3dcf9c(0x24a),_0x3dcf9c(0x34c),_0x3dcf9c(0x2a1)],_0x2383e7={..._0xbb0223};for(const _0x4d5c97 of _0x302d00)delete _0x2383e7[_0x4d5c97];return{'timestamp':_0xbb0223[_0x3dcf9c(0x5c9)],'jobType':_0xbb0223[_0x3dcf9c(0x27d)],'type':_0xbb0223[_0x3dcf9c(0x4e7)],'jobId':_0xbb0223[_0x3dcf9c(0x671)],'agentId':_0xbb0223['agentId']??'','traceLevel':_0xbb0223['traceLevel'],'blockId':_0xbb0223[_0x3dcf9c(0x6ef)]??'','startTime':_0xbb0223['startTime'],'status':_0xbb0223['status'],'sequence':_0xbb0223[_0x3dcf9c(0x34c)]??0x0,'errorDetails':_0xbb0223[_0x3dcf9c(0x2a1)]??'','metadata':_0xbab919(_0x2383e7)};}(_0x2ba37a),_0x45d3b6=(0x0,_0x2d9acc['v4'])();console['log'](_0x35b4ca(0x8b2),_0x11c0f5[_0x35b4ca(0x4e7)]),_0x460c02[_0x35b4ca(0x482)]['set'](_0x45d3b6,_0x11c0f5);}catch(_0x2a5ca5){console[_0x35b4ca(0x646)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x2a5ca5);}}}const _0x5dfb84=_0x41cbbe[_0x2f335d(0x1e6)]();async function _0x472570(_0x3188f2,_0x40c5a3,_0x5af0e4,_0xaa40b3,_0x139485){const _0x414cd5=_0x2f335d,_0x1a22b0=Date['now'](),_0x405fc7=_0x139485[_0x414cd5(0x36f)][_0x414cd5(0x29d)](_0x3eb75d=>_0x3eb75d['id']===_0x5af0e4['modelId']);if(!_0x405fc7)throw new Error('Model\x20not\x20found');const _0x33cbed=_0x139485[_0x414cd5(0x2a4)][_0x414cd5(0x29d)](_0x3cdc19=>_0x3cdc19[_0x414cd5(0x472)]()===_0x405fc7[_0x414cd5(0x66f)]);if(!_0x33cbed)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x29236d=[],_0x3679f8=(0x0,_0x2d9acc['v4'])(),_0x5412fa=await _0x33cbed[_0x414cd5(0x608)]({'type':'prompt','prompt':_0x40c5a3,'instructions':_0x5af0e4[_0x414cd5(0x77f)],'grammar':_0x5af0e4[_0x414cd5(0x6e2)],'temperature':_0x5af0e4[_0x414cd5(0x42d)],'maxTokens':_0x5af0e4[_0x414cd5(0x935)],'threadId':_0x3679f8},{'model':_0x405fc7});if('string'!=typeof _0x5412fa[_0x414cd5(0x36a)])throw new Error(_0x414cd5(0x39b));if(_0x5dfb84[_0x414cd5(0x9a2)]({'jobType':_0x223e6b['Ingest'],'type':_0x36fe01[_0x414cd5(0x5e0)],'jobId':_0x3188f2,'blockId':_0x5af0e4['id'],'traceLevel':_0xf41146['Debug'],'timestamp':Date[_0x414cd5(0x449)](),'startTime':_0x1a22b0,'status':'success','agentId':_0x3679f8,'content':_0x40c5a3,'instructions':_0x5af0e4[_0x414cd5(0x77f)],'result':_0x5412fa[_0x414cd5(0x36a)]}),_0x5af0e4[_0x414cd5(0x915)]?.[_0x414cd5(0x5dc)](_0x52de18=>_0x52de18[_0x414cd5(0x4e7)]===_0x52a778[_0x414cd5(0x657)]))return _0x29236d[_0x414cd5(0x6e4)]({'content':_0x5412fa[_0x414cd5(0x36a)],'start':0x0,'length':_0x5412fa[_0x414cd5(0x36a)][_0x414cd5(0x39c)]}),await _0x1b476a(_0x3188f2,_0x29236d,_0x5af0e4,_0xaa40b3,_0x139485),void await _0x1b476a(_0x3188f2,_0x5412fa['output'],_0x5af0e4,_0xaa40b3,_0x139485);_0x29236d[_0x414cd5(0x6e4)]({'content':_0x5412fa[_0x414cd5(0x36a)],'start':0x0,'length':_0x40c5a3[_0x414cd5(0x39c)]}),await _0x1b476a(_0x3188f2,_0x29236d,_0x5af0e4,_0xaa40b3,_0x139485);}async function _0x33f8e1(_0x1f037d,_0x3078cd,_0x39d901,_0x2ce087,_0x28c7c8){const _0x9536e4=_0x2f335d,_0x9e495d=Date[_0x9536e4(0x449)]();let _0x12384d=[];if(_0x3078cd instanceof Array){for(const _0x562a47 of _0x3078cd)_0x12384d=_0x12384d[_0x9536e4(0x269)](_0x48cafe(_0x562a47[_0x9536e4(0x569)],_0x39d901,_0x562a47[_0x9536e4(0x3e7)],_0x562a47[_0x9536e4(0x39c)]));}else _0x12384d=_0x48cafe(_0x3078cd,_0x39d901);_0x5dfb84[_0x9536e4(0x9a2)]({'jobType':_0x223e6b[_0x9536e4(0x312)],'type':_0x36fe01[_0x9536e4(0x519)],'traceLevel':_0xf41146['Debug'],'jobId':_0x1f037d,'blockId':_0x39d901['id'],'startTime':_0x9e495d,'timestamp':Date[_0x9536e4(0x449)](),'status':_0x9536e4(0x44c),'totalChunks':_0x12384d[_0x9536e4(0x39c)],'chunkSize':_0x39d901[_0x9536e4(0x69c)][_0x9536e4(0x15b)]}),await _0x1b476a(_0x1f037d,_0x12384d,_0x39d901,_0x2ce087,_0x28c7c8);}function _0x48cafe(_0xf0e423,_0x442908,_0xfc9631,_0x4c7d31){const _0x2ffc5e=_0x2f335d,_0x4c0e37=[];for(let _0xd3ac31=0x0;_0xd3ac31<_0xf0e423[_0x2ffc5e(0x39c)];_0xd3ac31+=_0x442908[_0x2ffc5e(0x69c)][_0x2ffc5e(0x15b)]){let _0x41cba3=_0xd3ac31-_0x442908[_0x2ffc5e(0x69c)]['overlap'];_0x41cba3<0x0&&(_0x41cba3=0x0);let _0x1d3c31=_0xd3ac31+_0x442908[_0x2ffc5e(0x69c)]['size']+_0x442908[_0x2ffc5e(0x69c)][_0x2ffc5e(0x347)];_0x1d3c31>_0xf0e423['length']&&(_0x1d3c31=_0xf0e423['length']);const _0x47648c=_0xf0e423[_0x2ffc5e(0x4ee)](_0x41cba3,_0x1d3c31);_0x4c0e37[_0x2ffc5e(0x6e4)]({'content':_0x47648c,'start':_0xfc9631??_0xd3ac31,'length':_0x4c7d31??(_0xd3ac31+_0x442908[_0x2ffc5e(0x69c)][_0x2ffc5e(0x15b)]>_0xf0e423[_0x2ffc5e(0x39c)]?_0xf0e423[_0x2ffc5e(0x39c)]-_0xd3ac31:_0x442908[_0x2ffc5e(0x69c)][_0x2ffc5e(0x15b)])});}return _0x4c0e37;}async function _0x4102af(_0x465f76,_0x318d56,_0x2f99ec,_0x3b4b8c,_0x5821e3){const _0x5bcf6d=_0x2f335d,_0x3f7087=Date[_0x5bcf6d(0x449)]();let _0x495825;if(_0x318d56[_0x5bcf6d(0x85e)][_0x5bcf6d(0x4e7)][_0x5bcf6d(0x60c)](_0x5bcf6d(0x922))||_0x1f214d(_0x318d56[_0x5bcf6d(0x85e)]['name'],_0x981dc9))_0x495825=await _0x318d56['file'][_0x5bcf6d(0x6e9)]();else{if(!_0x5821e3['documentParserConnector'][_0x5bcf6d(0x5c7)](_0x318d56['file']))throw new Error(_0x5bcf6d(0xd9)+_0x318d56[_0x5bcf6d(0x85e)][_0x5bcf6d(0x4e7)]+_0x5bcf6d(0x664)+_0x318d56[_0x5bcf6d(0x85e)]['name']);_0x495825=await _0x5821e3[_0x5bcf6d(0x601)]['parse'](_0x318d56[_0x5bcf6d(0x85e)]);}_0x5dfb84[_0x5bcf6d(0x9a2)]({'jobType':_0x223e6b[_0x5bcf6d(0x312)],'type':_0x36fe01[_0x5bcf6d(0x12d)],'traceLevel':_0xf41146[_0x5bcf6d(0x4a9)],'blockId':_0x2f99ec['id'],'jobId':_0x465f76,'startTime':_0x3f7087,'timestamp':Date[_0x5bcf6d(0x449)](),'status':_0x5bcf6d(0x44c),'documentType':_0x318d56['file'][_0x5bcf6d(0x4e7)],'documentName':_0x318d56['file'][_0x5bcf6d(0xdd)],'extractionMethod':_0x5bcf6d(0x237)}),await _0x1b476a(_0x465f76,_0x495825,_0x2f99ec,_0x3b4b8c,_0x5821e3);}const _0x981dc9=[_0x2f335d(0x4bb),_0x2f335d(0x229),_0x2f335d(0x51c),'.json',_0x2f335d(0xeb),_0x2f335d(0x998),'.css',_0x2f335d(0x334),_0x2f335d(0x3d0),_0x2f335d(0x164),'.yaml',_0x2f335d(0x189),_0x2f335d(0x85c),_0x2f335d(0x57c),_0x2f335d(0x74e),_0x2f335d(0xd0),_0x2f335d(0x721),'.rb',_0x2f335d(0x968),_0x2f335d(0x21a),'.c',_0x2f335d(0x380),_0x2f335d(0x132),'.r',_0x2f335d(0x3a4),_0x2f335d(0x740),_0x2f335d(0x241),_0x2f335d(0x9bd),'.rs',_0x2f335d(0x955),_0x2f335d(0xcb),'.lua',_0x2f335d(0x6f6),_0x2f335d(0x821),'.groovy',_0x2f335d(0x116),_0x2f335d(0x7e3),'.exs',_0x2f335d(0x552),_0x2f335d(0x5ce),'.tcl','.m',_0x2f335d(0x8f4),'.awk',_0x2f335d(0x9ae),_0x2f335d(0x18e),_0x2f335d(0x7d9),_0x2f335d(0x5c0),_0x2f335d(0x8db),_0x2f335d(0x8ff),_0x2f335d(0x681),_0x2f335d(0xcc),_0x2f335d(0x4ce),_0x2f335d(0x739),_0x2f335d(0x37c),_0x2f335d(0x822),'.pug','.liquid',_0x2f335d(0x28d),_0x2f335d(0x5c5),'.twig',_0x2f335d(0x6d8),'.djt'];function _0x1f214d(_0x1c2cc2,_0x432b35){const _0x3f599b=_0x2f335d;return _0x432b35[_0x3f599b(0x4a7)]('.'+(_0x1c2cc2[_0x3f599b(0x187)]('.')[_0x3f599b(0x882)]()?.[_0x3f599b(0x183)]()||''));}async function _0x3c3d9a(_0x1361b3,_0x184d80,_0xdb78b5,_0x3a3324,_0x50450b){const _0x485bb9=_0x2f335d,_0x548508=Date[_0x485bb9(0x449)](),_0x4e300d=new Set();let _0x44df2f=0x0;for(const _0x1bbae1 of _0x184d80)_0x44df2f+=_0x1bbae1[_0x485bb9(0x569)]['length'],await _0x52aec6(_0x1bbae1['content'],_0x4e300d,_0xdb78b5,_0x50450b['nlpLibraryConnector']);_0x5dfb84[_0x485bb9(0x9a2)]({'jobType':_0x223e6b[_0x485bb9(0x312)],'type':_0x36fe01[_0x485bb9(0x8ca)],'jobId':_0x1361b3,'blockId':_0xdb78b5['id'],'traceLevel':_0xf41146['Debug'],'startTime':_0x548508,'timestamp':Date[_0x485bb9(0x449)](),'status':_0x485bb9(0x44c),'contentLength':_0x44df2f,'totalChunks':_0x184d80 instanceof Array?_0x184d80[_0x485bb9(0x39c)]:0x1,'entitiesExtracted':_0x4e300d,'totalEntities':_0x4e300d[_0x485bb9(0x15b)]}),await _0x1b476a(_0x1361b3,_0x4e300d,_0xdb78b5,_0x3a3324,_0x50450b);}async function _0x52aec6(_0x196fb1,_0x3d2d3b,_0x45e290,_0x50f452){const _0x1261be=_0x2f335d,_0x643727=await _0x50f452[_0x1261be(0x4f8)](_0x196fb1,{'ner':_0x45e290['attributes'][_0x1261be(0x50b)],'noun':_0x45e290[_0x1261be(0x69c)][_0x1261be(0x65e)],'propn':_0x45e290[_0x1261be(0x69c)][_0x1261be(0x62f)],'verb':_0x45e290['attributes'][_0x1261be(0x424)]});for(const _0x2030a1 of _0x643727)_0x3d2d3b['add'](_0x2030a1);}function _0x448400(_0x3806a8,_0x205beb,_0x16d4d1,_0x24213c,_0x5ef0f1){const _0x341b8e=_0x2f335d,_0x42349c=Date[_0x341b8e(0x449)]();if(_0x16d4d1[_0x341b8e(0x923)]||(_0x16d4d1['accumulated']={}),_0x341b8e(0x9d9)==typeof _0x205beb?_0x16d4d1[_0x341b8e(0x923)]['content']=_0x205beb:_0x205beb instanceof Set?_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x1b0)]=_0x205beb:_0x205beb instanceof Map?_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0xe6)]=_0x205beb:_0x205beb instanceof Array?_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x94e)]=_0x205beb:_0x16d4d1['accumulated']['file']=_0x205beb,_0x16d4d1[_0x341b8e(0x391)]=_0x16d4d1[_0x341b8e(0x391)]?_0x16d4d1[_0x341b8e(0x391)]+0x1:0x1,_0xfb0fc(_0x16d4d1,_0x24213c)>_0x16d4d1['timesCalled'])return;if(!(_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x1b0)]&&_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x85e)]&&_0x16d4d1[_0x341b8e(0x923)]['content']&&_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x94e)]))throw new Error(_0x341b8e(0x733));let _0x11fda0=0x0;const _0x30b293=_0x5ef0f1[_0x341b8e(0x2d5)][_0x341b8e(0x76c)](_0x16d4d1['id']);for(const _0x47ceca of _0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x1b0)]){let _0x4e8651=[];_0x4e8651=_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x94e)][_0x341b8e(0x379)](_0x2b7d10=>_0x2b7d10[_0x341b8e(0x569)][_0x341b8e(0x4a7)](_0x47ceca));try{_0x30b293[_0x341b8e(0x8b1)](_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x85e)]['pathName'],_0x16d4d1[_0x341b8e(0x923)]['content'],_0x4e8651,_0x47ceca),_0x11fda0+=0x1;}catch(_0xad0f55){}}if(_0x16d4d1['accumulated']['relations']){for(const [_0x148978,_0x4f1280]of _0x16d4d1['accumulated'][_0x341b8e(0xe6)])for(const _0x4046bf of _0x4f1280)try{_0x30b293[_0x341b8e(0x3e3)](_0x148978,_0x4046bf);}catch(_0x2a5ddf){}if(_0x30b293['getIsLoaded']()){let _0xffb040=''+(_0x5ef0f1[_0x341b8e(0x2f9)]??0x1);for(const _0x160e24 of _0x24213c)if(_0x160e24[_0x341b8e(0x4e7)]===_0x19f002[_0x341b8e(0x5e0)]){_0xffb040=_0xffb040+'-'+(_0x160e24[_0x341b8e(0x2f9)]??0x1);break;}_0x30b293[_0x341b8e(0x857)](_0xffb040);}_0x5dfb84[_0x341b8e(0x9a2)]({'jobType':_0x223e6b[_0x341b8e(0x312)],'type':_0x36fe01[_0x341b8e(0x430)],'jobId':_0x3806a8,'blockId':_0x16d4d1['id'],'status':_0x341b8e(0x44c),'startTime':_0x42349c,'timestamp':Date[_0x341b8e(0x449)](),'traceLevel':_0xf41146[_0x341b8e(0x4a9)],'nodesAdded':_0x11fda0,'entities':_0x16d4d1[_0x341b8e(0x923)][_0x341b8e(0x1b0)],'relations':_0x16d4d1[_0x341b8e(0x923)]['relations']});}}async function _0x576a49(_0xae6c17,_0x45fbd4,_0x3e0281,_0x4b6d23,_0x6ae273){const _0x202f90=_0x2f335d,_0x40c9e3=_0x6ae273[_0x202f90(0x36f)][_0x202f90(0x29d)](_0x50db09=>_0x50db09['id']===_0x3e0281['id']);if(!_0x40c9e3)throw new Error('Model\x20not\x20found');switch(_0x40c9e3[_0x202f90(0x8bf)]){case _0x47407f[_0x202f90(0x250)][_0x202f90(0x657)]:if(_0x202f90(0x9d9)!=typeof _0x45fbd4)throw new Error(_0x202f90(0x8cb));await async function(_0x128d9b,_0x2c4c13,_0x5cf0ea,_0x43547f,_0x465389,_0x306cc8){const _0x4a5ce4=_0x202f90,_0x4f3ee1=Date[_0x4a5ce4(0x449)]();let _0x1e532e;const _0x51161e=_0x306cc8[_0x4a5ce4(0x2a4)][_0x4a5ce4(0x29d)](_0x5b2eeb=>_0x5b2eeb[_0x4a5ce4(0x472)]()===_0x5cf0ea[_0x4a5ce4(0x66f)]);if(!_0x51161e)throw new Error(_0x4a5ce4(0x96));_0x1e532e=await async function(_0x5b463c,_0x50a9df,_0x54f419){const _0x51ce6e=_0x4a5ce4,_0x41655c=await _0x50a9df[_0x51ce6e(0x608)]({'type':'prompt','prompt':_0x5b463c,'threadId':''},{'model':_0x54f419});if(_0x41655c[_0x51ce6e(0x36a)]instanceof Array)throw new Error(_0x51ce6e(0x4ac));return _0x41655c['output'];}(_0x2c4c13,_0x51161e,_0x5cf0ea),_0x5dfb84['trace']({'jobType':_0x223e6b['Ingest'],'type':_0x36fe01['ModelText'],'jobId':_0x128d9b,'blockId':_0x43547f['id'],'traceLevel':_0xf41146[_0x4a5ce4(0x4a9)],'timestamp':Date[_0x4a5ce4(0x449)](),'startTime':_0x4f3ee1,'status':_0x4a5ce4(0x44c),'modelName':_0x5cf0ea['id'],'inputType':_0x5cf0ea[_0x4a5ce4(0x830)],'outputType':_0x5cf0ea[_0x4a5ce4(0x8bf)],'content':_0x2c4c13,'results':_0x1e532e}),await _0x1b476a(_0x128d9b,_0x1e532e,_0x43547f,_0x465389,_0x306cc8);}(_0xae6c17,_0x45fbd4,_0x40c9e3,_0x3e0281,_0x4b6d23,_0x6ae273);break;case _0x47407f[_0x202f90(0x250)][_0x202f90(0x572)]:if(!(_0x45fbd4 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x5ac994,_0xf98d2f,_0x316c72,_0x1b3d6a,_0xe88279,_0xee6a0d){const _0xfd26ee=_0x202f90,_0x28329f=Date[_0xfd26ee(0x449)](),_0x50d7ac=[],_0x2e41ac=_0xee6a0d[_0xfd26ee(0x2a4)][_0xfd26ee(0x29d)](_0x40d3e5=>_0x40d3e5['getEngineType']()===_0x316c72['engineType']);if(!_0x2e41ac)throw new Error(_0xfd26ee(0x96));for(const _0x5baf37 of _0xf98d2f)_0x50d7ac[_0xfd26ee(0x6e4)](await _0x725a48(_0x5baf37,_0x2e41ac,_0x316c72));_0x5dfb84[_0xfd26ee(0x9a2)]({'jobType':_0x223e6b['Ingest'],'type':_0x36fe01['ModelVector'],'jobId':_0x5ac994,'blockId':_0x1b3d6a['id'],'traceLevel':_0xf41146[_0xfd26ee(0x4a9)],'timestamp':Date[_0xfd26ee(0x449)](),'startTime':_0x28329f,'status':_0xfd26ee(0x44c),'modelName':_0x316c72['id'],'inputType':_0x316c72[_0xfd26ee(0x830)],'outputType':_0x316c72['outputType'],'totalVectors':_0x50d7ac['length']}),await _0x1b476a(_0x5ac994,_0x50d7ac,_0x1b3d6a,_0xe88279,_0xee6a0d);}(_0xae6c17,_0x45fbd4,_0x40c9e3,_0x3e0281,_0x4b6d23,_0x6ae273);}}async function _0x725a48(_0xcb1d4e,_0x3c02b1,_0x41c5d2){const _0x1ebb51=_0x2f335d;return(await _0x3c02b1[_0x1ebb51(0x608)]({'type':'prompt','prompt':_0xcb1d4e['content'],'threadId':''},{'model':_0x41c5d2}))[_0x1ebb51(0x36a)];}async function _0x4bfdb9(_0x939061,_0x38117e,_0x1dda6d,_0x53aad6,_0x405058){const _0x17e514=_0x2f335d,_0x412697=Date[_0x17e514(0x449)]();if(_0x1dda6d['accumulated']||(_0x1dda6d[_0x17e514(0x923)]={}),_0x38117e instanceof Array?_0x1dda6d['accumulated'][_0x17e514(0x94e)]=_0x38117e:_0x1dda6d[_0x17e514(0x923)][_0x17e514(0x1b0)]=_0x38117e,_0x1dda6d[_0x17e514(0x391)]=_0x1dda6d[_0x17e514(0x391)]?_0x1dda6d[_0x17e514(0x391)]+0x1:0x1,_0xfb0fc(_0x1dda6d,_0x53aad6)>_0x1dda6d[_0x17e514(0x391)])return;if(!_0x1dda6d[_0x17e514(0x923)][_0x17e514(0x94e)]||!_0x1dda6d[_0x17e514(0x923)][_0x17e514(0x1b0)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x3772a2=new Map();for(const _0x1114f1 of _0x1dda6d[_0x17e514(0x923)][_0x17e514(0x94e)])_0x3f1077(_0x1114f1['content'],_0x1dda6d[_0x17e514(0x923)][_0x17e514(0x1b0)],_0x3772a2);_0x5dfb84[_0x17e514(0x9a2)]({'jobType':_0x223e6b[_0x17e514(0x312)],'type':_0x36fe01['RelationExtractor'],'jobId':_0x939061,'blockId':_0x1dda6d['id'],'traceLevel':_0xf41146[_0x17e514(0x4a9)],'timestamp':Date[_0x17e514(0x449)](),'startTime':_0x412697,'status':_0x17e514(0x44c),'entities':_0x1dda6d[_0x17e514(0x923)]['entities'],'relations':_0x3772a2,'totalRelationsExtracted':_0x3772a2[_0x17e514(0x15b)]}),await _0x1b476a(_0x939061,_0x3772a2,_0x1dda6d,_0x53aad6,_0x405058);}function _0x3f1077(_0x5188c2,_0x5ce459,_0x2527e6){const _0x54a806=_0x2f335d;for(const _0x207639 of _0x5ce459)for(const _0x3a5ffe of _0x5ce459){if(_0x207639===_0x3a5ffe)continue;const _0x509193=_0x5188c2[_0x54a806(0x3d2)](_0x207639),_0x72d42=_0x5188c2[_0x54a806(0x3d2)](_0x3a5ffe);-0x1!==_0x509193&&-0x1!==_0x72d42&&(_0x2527e6[_0x54a806(0x627)](_0x207639)||_0x2527e6['set'](_0x207639,new Set()),_0x2527e6[_0x54a806(0x389)](_0x207639)[_0x54a806(0xad)](_0x3a5ffe));}return _0x2527e6;}async function _0x33eb15(_0x34a543,_0x103805,_0x350da4,_0x106760,_0x29035c){const _0x512763=_0x2f335d,_0x19cabd=Date[_0x512763(0x449)]();let _0xbe7c24=[];if(_0x103805 instanceof Array)for(const _0x13d0c7 of _0x103805){const _0x4d8379=await _0x29035c[_0x512763(0x265)][_0x512763(0x91)](_0x13d0c7[_0x512763(0x569)]);_0xbe7c24=_0xbe7c24[_0x512763(0x269)](_0x4d8379[_0x512763(0x3cd)](_0xc94a56=>({'content':_0xc94a56,'start':_0x13d0c7['start'],'length':_0x13d0c7['length']})));}else _0xbe7c24=(await _0x29035c['nlpLibraryConnector'][_0x512763(0x91)](_0x103805))[_0x512763(0x3cd)](_0x46e4fa=>({'content':_0x46e4fa,'start':_0x103805['indexOf'](_0x46e4fa),'length':_0x46e4fa[_0x512763(0x39c)]}));_0x5dfb84[_0x512763(0x9a2)]({'jobType':_0x223e6b[_0x512763(0x312)],'type':_0x36fe01[_0x512763(0x7a0)],'jobId':_0x34a543,'blockId':_0x350da4['id'],'traceLevel':_0xf41146[_0x512763(0x4a9)],'startTime':_0x19cabd,'timestamp':Date[_0x512763(0x449)](),'status':_0x512763(0x44c),'totalSentences':_0xbe7c24['length'],'averageSentenceLength':_0xbe7c24['reduce']((_0x5b86c4,_0x358578)=>_0x5b86c4+_0x358578[_0x512763(0x39c)],0x0)/_0xbe7c24[_0x512763(0x39c)]}),await _0x1b476a(_0x34a543,_0xbe7c24,_0x350da4,_0x106760,_0x29035c);}function _0x548748(_0x4d7c2e,_0x3d1148,_0x532650,_0x4f4cc6,_0x11a463){const _0x1ce7fa=_0x2f335d,_0x206d54=Date[_0x1ce7fa(0x449)]();var _0x4953e2;if(_0x532650[_0x1ce7fa(0x923)]||(_0x532650[_0x1ce7fa(0x923)]={}),_0x3d1148 instanceof Array?(_0x4953e2=_0x3d1148)[0x0]instanceof Array&&_0x1ce7fa(0x47c)==typeof _0x4953e2[0x0]?.[0x0]?_0x532650[_0x1ce7fa(0x923)][_0x1ce7fa(0x4a5)]=_0x3d1148:_0x532650[_0x1ce7fa(0x923)][_0x1ce7fa(0x94e)]=_0x3d1148:_0x1ce7fa(0x9d9)==typeof _0x3d1148?_0x532650['accumulated'][_0x1ce7fa(0x569)]=_0x3d1148:_0x532650['accumulated'][_0x1ce7fa(0x85e)]=_0x3d1148,_0x532650[_0x1ce7fa(0x391)]=_0x532650[_0x1ce7fa(0x391)]?_0x532650[_0x1ce7fa(0x391)]+0x1:0x1,_0xfb0fc(_0x532650,_0x4f4cc6)>_0x532650[_0x1ce7fa(0x391)])return;if(!(_0x532650[_0x1ce7fa(0x923)]['content']&&_0x532650[_0x1ce7fa(0x923)]['index']&&_0x532650[_0x1ce7fa(0x923)][_0x1ce7fa(0x4a5)]&&_0x532650[_0x1ce7fa(0x923)][_0x1ce7fa(0x85e)]))throw new Error(_0x1ce7fa(0x1b3));const _0x5951ed=_0x11a463[_0x1ce7fa(0x2d5)][_0x1ce7fa(0x315)](_0x532650['id']);if(_0x5951ed[_0x1ce7fa(0x314)](_0x532650['accumulated'][_0x1ce7fa(0x85e)][_0x1ce7fa(0x277)],_0x532650[_0x1ce7fa(0x923)][_0x1ce7fa(0x569)],_0x532650[_0x1ce7fa(0x923)]['index'],_0x532650['accumulated'][_0x1ce7fa(0x4a5)]),_0x5951ed[_0x1ce7fa(0x426)]()){let _0x56acdd=''+(_0x11a463[_0x1ce7fa(0x2f9)]??0x1);for(const _0x5a199e of _0x4f4cc6)_0x5a199e[_0x1ce7fa(0x4e7)]===_0x19f002[_0x1ce7fa(0x5e0)]&&(_0x56acdd=_0x56acdd+'-'+(_0x5a199e['version']??0x1));_0x5951ed[_0x1ce7fa(0x857)](_0x56acdd);}_0x5dfb84[_0x1ce7fa(0x9a2)]({'jobType':_0x223e6b['Ingest'],'type':_0x36fe01['VectorDatabase'],'jobId':_0x4d7c2e,'blockId':_0x532650['id'],'traceLevel':_0xf41146[_0x1ce7fa(0x4a9)],'startTime':_0x206d54,'timestamp':Date[_0x1ce7fa(0x449)](),'status':_0x1ce7fa(0x44c),'databaseName':_0x5951ed[_0x1ce7fa(0x9d4)](),'vectorsAdded':_0x532650[_0x1ce7fa(0x923)][_0x1ce7fa(0x4a5)]['length'],'filePathName':_0x532650[_0x1ce7fa(0x923)][_0x1ce7fa(0x85e)][_0x1ce7fa(0x277)]});}async function _0x59189d(_0x272b82,_0x15081b,_0x378a5e,_0x3aaec1,_0x3cd4c3){const _0x26efcc=_0x2f335d,_0x38d389=Date['now']();let _0x52fe1c=[];if(_0x15081b instanceof Array){for(const _0x44a468 of _0x15081b)_0x52fe1c=_0x52fe1c[_0x26efcc(0x269)](_0x31bad1(_0x44a468[_0x26efcc(0x569)],_0x378a5e,_0x44a468['start'],_0x44a468['length']));}else _0x52fe1c=_0x31bad1(_0x15081b,_0x378a5e);_0x5dfb84[_0x26efcc(0x9a2)]({'jobType':_0x223e6b[_0x26efcc(0x312)],'type':_0x36fe01['WordSplitter'],'jobId':_0x272b82,'traceLevel':_0xf41146[_0x26efcc(0x4a9)],'blockId':_0x378a5e['id'],'startTime':_0x38d389,'timestamp':Date[_0x26efcc(0x449)](),'status':_0x26efcc(0x44c),'totalChunks':_0x52fe1c['length'],'averageChunkLength':_0x52fe1c[_0x26efcc(0x38b)]((_0x3e380e,_0x18ccee)=>_0x3e380e+_0x18ccee[_0x26efcc(0x39c)],0x0)/_0x52fe1c[_0x26efcc(0x39c)]}),await _0x1b476a(_0x272b82,_0x52fe1c,_0x378a5e,_0x3aaec1,_0x3cd4c3);}function _0x31bad1(_0x51cefa,_0x5bd08c,_0x385550,_0x3f87a0){const _0x33efed=_0x2f335d,_0x661a1f=[],_0x5d9368=_0x51cefa['split']('\x20');let _0x235ac9='',_0x2d67d1=-0x1,_0x201df5=0x0,_0x5ca3af=0x0;for(const _0x11cded of _0x5d9368){if(_0x235ac9['length']+_0x11cded[_0x33efed(0x39c)]>_0x5bd08c[_0x33efed(0x69c)][_0x33efed(0x15b)]){const _0x3c217e=_0x235ac9[_0x33efed(0x39c)];let _0x31b0ab=_0x2d67d1,_0x3dc729='';for(;_0x31b0ab>=0x0&&_0x3dc729[_0x33efed(0x39c)]+_0x5d9368[_0x31b0ab][_0x33efed(0x39c)]<_0x5bd08c[_0x33efed(0x69c)][_0x33efed(0x347)];)_0x3dc729=_0x5d9368[_0x31b0ab]+'\x20'+_0x3dc729,_0x31b0ab--;let _0x247d6a=_0x201df5,_0xe84d4b='';for(;_0x247d6a<_0x5d9368[_0x33efed(0x39c)]&&_0xe84d4b[_0x33efed(0x39c)]+_0x5d9368[_0x247d6a]['length']<_0x5bd08c[_0x33efed(0x69c)]['overlap'];)_0xe84d4b+=_0x5d9368[_0x247d6a]+'\x20',_0x247d6a++;_0x235ac9=_0x3dc729+_0x235ac9+_0xe84d4b,_0x661a1f[_0x33efed(0x6e4)]({'content':_0x235ac9[_0x33efed(0x2b3)](),'start':_0x385550??_0x5ca3af,'length':_0x3f87a0??_0x3c217e}),_0x235ac9='',_0x2d67d1=_0x201df5-0x1,_0x5ca3af+=_0x3c217e;}_0x235ac9+=_0x11cded+'\x20',_0x201df5++;}if(_0x235ac9[_0x33efed(0x39c)]>0x0){const _0x57f800=_0x235ac9[_0x33efed(0x39c)];let _0x51887e=_0x2d67d1,_0x2cab70='';for(;_0x51887e>=0x0&&_0x2cab70[_0x33efed(0x39c)]+_0x5d9368[_0x51887e]['length']<_0x5bd08c[_0x33efed(0x69c)][_0x33efed(0x347)];)_0x2cab70=_0x5d9368[_0x51887e]+'\x20'+_0x2cab70,_0x51887e--;_0x235ac9=_0x2cab70+_0x235ac9,_0x661a1f[_0x33efed(0x6e4)]({'content':_0x235ac9[_0x33efed(0x2b3)](),'start':_0x385550??_0x5ca3af,'length':_0x3f87a0??_0x57f800});}return _0x661a1f;}async function _0x1b476a(_0x3c7955,_0x5cf3f0,_0x4c8d00,_0x2b4b75,_0x50b853){const _0xfa5e03=_0x2f335d;for(const _0x5aa2ed of _0x4c8d00[_0xfa5e03(0x915)]||[]){const _0x567f96=_0x2b4b75[_0xfa5e03(0x29d)](_0x11b1d9=>_0x11b1d9[_0xfa5e03(0x926)]===_0x5aa2ed[_0xfa5e03(0x926)]);if(_0x567f96)switch(_0x567f96['type']){case _0x19f002[_0xfa5e03(0x5e0)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x657)]&&_0xfa5e03(0x9d9)==typeof _0x5cf3f0&&await _0x472570(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x519)]:_0x5aa2ed['type']===_0x52a778[_0xfa5e03(0x657)]&&'string'==typeof _0x5cf3f0&&await _0x33f8e1(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x62c)]&&_0x5cf3f0 instanceof Array&&await _0x33f8e1(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x12d)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778['File']&&await _0x4102af(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x8ca)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x62c)]&&_0x5cf3f0 instanceof Array&&await _0x3c3d9a(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x430)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778['Text']&&_0xfa5e03(0x9d9)==typeof _0x5cf3f0&&_0x448400(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed['type']===_0x52a778[_0xfa5e03(0x62c)]&&_0x5cf3f0 instanceof Array&&_0x448400(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x49b)]&&_0x5cf3f0 instanceof Set&&_0x448400(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x593)]&&_0x5cf3f0 instanceof Map&&_0x448400(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778['File']&&_0x448400(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x29f)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x657)]&&_0xfa5e03(0x9d9)==typeof _0x5cf3f0&&await _0x576a49(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x62c)]&&_0x5cf3f0 instanceof Array&&await _0x576a49(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x89b)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778['Index']&&_0x5cf3f0 instanceof Array&&await _0x4bfdb9(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed['type']===_0x52a778[_0xfa5e03(0x49b)]&&_0x5cf3f0 instanceof Set&&await _0x4bfdb9(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x7a0)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x657)]&&_0xfa5e03(0x9d9)==typeof _0x5cf3f0&&await _0x33eb15(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x62c)]&&_0x5cf3f0 instanceof Array&&await _0x33eb15(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002[_0xfa5e03(0x485)]:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778['Text']&&_0xfa5e03(0x9d9)==typeof _0x5cf3f0&&_0x548748(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x62c)]&&_0x5cf3f0 instanceof Array&&_0x548748(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x572)]&&_0x5cf3f0 instanceof Array&&_0x548748(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778[_0xfa5e03(0x113)]&&_0x548748(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);break;case _0x19f002['WordSplitter']:_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778['Text']&&_0xfa5e03(0x9d9)==typeof _0x5cf3f0&&await _0x59189d(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853),_0x5aa2ed[_0xfa5e03(0x4e7)]===_0x52a778['Index']&&_0x5cf3f0 instanceof Array&&await _0x59189d(_0x3c7955,_0x5cf3f0,_0x567f96,_0x2b4b75,_0x50b853);}}}function _0xfb0fc(_0x2c923c,_0x4dbb58){const _0x2c814a=_0x2f335d;return _0x4dbb58['filter'](_0x57dd94=>_0x57dd94[_0x2c814a(0x915)]?.[_0x2c814a(0x5dc)](_0x57c3ce=>_0x57c3ce[_0x2c814a(0x926)]===_0x2c923c[_0x2c814a(0x926)]))[_0x2c814a(0x39c)];}async function _0x1fe0f9(_0x2d19db,_0x16857c,_0x3015b2,_0x528233,_0x5653dc){const _0x538c1d=_0x2f335d;try{let _0x3fa016;switch(_0x3015b2[_0x538c1d(0x4e7)]){case _0x19f002[_0x538c1d(0x3fb)]:const _0x285b90=_0x5653dc['contentMediator']['getObjectStoreBucket'](_0x3015b2['id']);_0x3fa016=await _0x285b90[_0x538c1d(0x389)](_0x16857c);break;case _0x19f002[_0x538c1d(0x708)]:const _0xd67f2d=_0x5653dc[_0x538c1d(0x2d5)][_0x538c1d(0x371)](_0x3015b2['id']);_0x3fa016=await _0xd67f2d[_0x538c1d(0x389)](_0x16857c);}if(!_0x3fa016)throw new Error('Failed\x20to\x20get\x20file');await _0x1b476a(_0x2d19db,{'file':_0x3fa016,'pathName':_0x16857c},_0x3015b2,structuredClone(_0x528233),_0x5653dc);}catch(_0x6b87c5){console[_0x538c1d(0x646)](_0x538c1d(0x3a8),_0x6b87c5);}}const _0x516f94=require('rxjs/operators');class _0x39333c{[_0x2f335d(0x98d)];constructor(){const _0xbed5e0=_0x2f335d;this[_0xbed5e0(0x98d)]=new _0x36b2a7['Subject']();}[_0x2f335d(0x336)](_0x1c4e3b){const _0x41fa18=_0x2f335d;this['subject'][_0x41fa18(0x254)](_0x1c4e3b);}async['once'](){const _0x36cecc=_0x2f335d;return(0x0,_0x36b2a7[_0x36cecc(0x1ae)])(this[_0x36cecc(0x98d)][_0x36cecc(0xe1)]((0x0,_0x516f94[_0x36cecc(0x66c)])(0x1)));}}function _0x13052e(_0x57fc01,_0x43b008,_0x40e284,_0x2d5d96,_0x4be20a,_0x5d8ed3,_0x1b5f79,_0x3db224){const _0x37107d=_0x2f335d,_0x3d4c0e=_0x37107d(0x958)+_0x4be20a[_0x37107d(0x6eb)]+_0x37107d(0xab),_0x8fec19={'prompt':{'type':_0x47407f[_0x37107d(0x1a1)][_0x37107d(0x8e7)]}};return _0x5dfb84['trace']({'jobType':_0x223e6b[_0x37107d(0x7c1)],'type':_0x28780b[_0x37107d(0x3d8)],'jobId':_0x57fc01,'agentId':_0x43b008,'threadId':_0x40e284,'traceLevel':_0xf41146[_0x37107d(0x262)],'startTime':Date[_0x37107d(0x449)](),'timestamp':Date[_0x37107d(0x449)](),'status':_0x37107d(0x44c),'function':_0x4cc321['ExecuteAgent'],'params':_0x8fec19,'functionDescription':_0x3d4c0e}),{'description':_0x3d4c0e,'params':_0x8fec19,'callback':async _0x50a8fb=>{const _0xb3c8e4=_0x37107d,_0x2f0ee7=Date[_0xb3c8e4(0x449)]();try{if(_0x3db224&&(await _0x438e57[_0xb3c8e4(0x52f)](0x1),_0x3db224[_0xb3c8e4(0x336)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x4be20a['name']+_0xb3c8e4(0x2e1),'type':_0xb3c8e4(0x650)})),_0xb3c8e4(0x9d9)!=typeof _0x50a8fb?.[_0xb3c8e4(0x650)])throw new Error('Prompt\x20is\x20required');const _0x5b1f81=_0x1b5f79['models'][_0xb3c8e4(0x29d)](_0x4c26a6=>_0x4c26a6['id']===_0x4be20a['modelId']);if(!_0x5b1f81)throw new Error(_0xb3c8e4(0x121));const _0x590d5b=_0x1b5f79[_0xb3c8e4(0x2a4)][_0xb3c8e4(0x29d)](_0x49e9da=>_0x49e9da['getEngineType']()===_0x5b1f81[_0xb3c8e4(0x66f)]);if(!_0x590d5b)throw new Error(_0xb3c8e4(0x96));const _0x1a1c72=_0x4be20a[_0xb3c8e4(0x915)]?.[_0xb3c8e4(0x5dc)](_0x9e2acf=>{const _0x592d70=_0xb3c8e4,_0x125045=_0x5d8ed3[_0x592d70(0x29d)](_0xfddb85=>_0xfddb85[_0x592d70(0x926)]===_0x9e2acf[_0x592d70(0x926)]);return!!_0x125045&&_0x9e2acf[_0x592d70(0x4e7)]===_0x52a778[_0x592d70(0x657)]&&_0x125045['type']===_0x3bbdbe['Answer'];})??!0x1;let _0x37864e;if(_0x3db224&&_0x1a1c72?(await _0x438e57[_0xb3c8e4(0x52f)](0x1),_0x3db224[_0xb3c8e4(0x336)]({'output':'\x0a\x0a','type':_0xb3c8e4(0x650)}),_0x37864e=await async function(_0x5bd64d,_0x367ca3,_0x1c963c,_0x3a0558,_0x10b995,_0x4c7884,_0x38e599,_0x2cd050,_0x292c85){const _0x3b939f=_0xb3c8e4;let _0x7eabd9='';const _0x2e976d=_0x292c85[_0x3b939f(0x36f)][_0x3b939f(0x29d)](_0x2559e9=>_0x2559e9['id']===_0x4c7884[_0x3b939f(0x447)]);if(!_0x2e976d)throw new Error('Model\x20not\x20found');const _0x17ebb2=_0x292c85['generativeAIWorkerConnectors'][_0x3b939f(0x29d)](_0x22793d=>_0x22793d[_0x3b939f(0x472)]()===_0x2e976d[_0x3b939f(0x66f)]);if(!_0x17ebb2)throw new Error(_0x3b939f(0x96));for await(const _0x24fac7 of _0x17ebb2[_0x3b939f(0x74f)]({'type':'prompt','prompt':_0x6cc5c2(_0x3a0558,_0x4c7884),'instructions':_0xdcc427('',_0x4c7884,_0x2e976d),'grammar':_0x4c7884[_0x3b939f(0x6e2)],'temperature':_0x4c7884['temperature'],'maxTokens':_0x4c7884[_0x3b939f(0x935)],'functions':await _0x431b0a(_0x5bd64d,_0x367ca3,_0x1c963c,_0x10b995,_0x4c7884,_0x38e599,_0x292c85,_0x2cd050),'threadId':_0x1c963c},{'model':_0x2e976d,'sequences':0x2}))_0x2cd050['emit'](_0x24fac7),_0x7eabd9+=_0x24fac7[_0x3b939f(0x36a)];return{'type':_0x3b939f(0x650),'output':_0x7eabd9};}(_0x57fc01,_0x43b008,_0x40e284,_0x50a8fb['prompt'],_0x2d5d96,_0x4be20a,_0x5d8ed3,_0x3db224,_0x1b5f79),await _0x438e57[_0xb3c8e4(0x52f)](0x1),_0x3db224[_0xb3c8e4(0x336)]({'output':'\x0a\x0a','type':_0xb3c8e4(0x650)})):_0x37864e=await _0x590d5b[_0xb3c8e4(0x608)]({'type':_0xb3c8e4(0x650),'prompt':_0x6cc5c2(_0x50a8fb[_0xb3c8e4(0x650)],_0x4be20a),'instructions':_0xdcc427('',_0x4be20a,_0x5b1f81),'grammar':_0x4be20a[_0xb3c8e4(0x6e2)],'temperature':_0x4be20a[_0xb3c8e4(0x42d)],'maxTokens':_0x4be20a[_0xb3c8e4(0x935)],'functions':await _0x431b0a(_0x57fc01,_0x43b008,_0x40e284,_0x2d5d96,_0x4be20a,_0x5d8ed3,_0x1b5f79,_0x3db224),'threadId':_0x40e284},{'model':_0x5b1f81,'sequences':0x2}),'string'!=typeof _0x37864e['output'])throw new Error(_0xb3c8e4(0x39b));return _0x5dfb84[_0xb3c8e4(0x9a2)]({'jobType':_0x223e6b[_0xb3c8e4(0x27c)],'type':_0x4cc321['ExecuteAgent'],'jobId':_0x57fc01,'blockId':_0x4be20a['id'],'agentId':_0x43b008,'threadId':_0x40e284,'traceLevel':_0xf41146[_0xb3c8e4(0x262)],'startTime':_0x2f0ee7,'timestamp':Date[_0xb3c8e4(0x449)](),'status':_0xb3c8e4(0x44c),'agentName':_0x4be20a[_0xb3c8e4(0xdd)],'prompt':_0x50a8fb['prompt'],'instructions':_0x4be20a[_0xb3c8e4(0x77f)],'result':_0x37864e[_0xb3c8e4(0x36a)],'inputTokens':0x0,'outputTokens':0x0}),_0x4be20a[_0xb3c8e4(0x915)]?.[_0xb3c8e4(0x5dc)](_0x2a315=>_0x2a315[_0xb3c8e4(0x4e7)]===_0x52a778['Context'])?(_0x19aa4b(_0x37864e['output'],_0x4be20a,_0x5d8ed3),'I\x20am\x20done'):_0x37864e[_0xb3c8e4(0x36a)];}catch(_0x551d07){return console[_0xb3c8e4(0x646)](_0x551d07),_0x5dfb84[_0xb3c8e4(0x9a2)]({'jobType':_0x223e6b['Skill'],'type':_0x4cc321[_0xb3c8e4(0x3b2)],'jobId':_0x57fc01,'blockId':_0x4be20a['id'],'agentId':_0x43b008,'threadId':_0x40e284,'traceLevel':_0xf41146[_0xb3c8e4(0x262)],'startTime':_0x2f0ee7,'timestamp':Date[_0xb3c8e4(0x449)](),'status':_0xb3c8e4(0x646),'errorDetails':_0x465292(_0x551d07),'agentName':_0x4be20a[_0xb3c8e4(0xdd)],'prompt':_0x50a8fb?.['prompt']??'','instructions':_0x4be20a[_0xb3c8e4(0x77f)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x551d07 instanceof Error?_0x551d07[_0xb3c8e4(0x3bf)]:_0xb3c8e4(0x7dd);}}};}async function _0x510d4b(_0x5975bd,_0x3908cc,_0x72ce69,_0x27a200,_0x957fc1,_0x359cf4,_0x447a71){const _0x562d8f=_0x2f335d,_0x2a2ffc=Date['now'](),_0x4b4872=new Set();if(_0x72ce69 instanceof Array){for(const _0x509623 of _0x72ce69)await _0x2110c6(_0x509623[_0x562d8f(0x569)],_0x957fc1,_0x4b4872,_0x447a71['nlpLibraryConnector']);}else await _0x2110c6(_0x72ce69,_0x957fc1,_0x4b4872,_0x447a71[_0x562d8f(0x265)]);_0x5dfb84[_0x562d8f(0x9a2)]({'jobType':_0x223e6b['Retrieve'],'type':_0x1c39a3[_0x562d8f(0x8ca)],'jobId':_0x5975bd,'threadId':_0x3908cc,'blockId':_0x957fc1['id'],'traceLevel':_0xf41146[_0x562d8f(0x4a9)],'startTime':_0x2a2ffc,'timestamp':Date[_0x562d8f(0x449)](),'status':_0x562d8f(0x44c),'content':_0x72ce69,'entitiesExtracted':Array[_0x562d8f(0x2ce)](_0x4b4872),'totalEntities':_0x4b4872[_0x562d8f(0x15b)]}),await _0x2d62d1(_0x5975bd,_0x3908cc,_0x4b4872,_0x27a200,_0x957fc1,_0x359cf4,_0x447a71);}async function _0x2110c6(_0x226a0a,_0x524ba4,_0x3c75b7,_0x5be0e1){const _0x1397b5=_0x2f335d,_0x295fe3=await _0x5be0e1['getEntities'](_0x226a0a,{'ner':_0x524ba4[_0x1397b5(0x69c)][_0x1397b5(0x50b)],'noun':_0x524ba4['attributes'][_0x1397b5(0x65e)],'propn':_0x524ba4[_0x1397b5(0x69c)][_0x1397b5(0x62f)],'verb':_0x524ba4[_0x1397b5(0x69c)][_0x1397b5(0x424)]});for(const _0x2c979f of _0x295fe3)_0x3c75b7[_0x1397b5(0xad)](_0x2c979f);}async function _0xe2d78a(_0xd39063,_0x55c00c,_0x48a8c6,_0x96dfa6,_0x3fe369,_0x14a3a8,_0x4d73f6){const _0x51e366=_0x2f335d,_0x1fc64f=Date[_0x51e366(0x449)]();if(_0x3fe369['accumulated']||(_0x3fe369[_0x51e366(0x923)]={}),_0x48a8c6 instanceof Array?(_0x3fe369[_0x51e366(0x923)][_0x51e366(0x68b)]||(_0x3fe369[_0x51e366(0x923)]['results']=[]),_0x3fe369[_0x51e366(0x923)][_0x51e366(0x68b)][_0x51e366(0x6e4)](..._0x48a8c6)):_0x48a8c6 instanceof Set?_0x3fe369['accumulated'][_0x51e366(0x1b0)]=_0x48a8c6:_0x3fe369[_0x51e366(0x923)]['prompt']=_0x48a8c6,_0x3fe369[_0x51e366(0x391)]=_0x3fe369[_0x51e366(0x391)]?_0x3fe369[_0x51e366(0x391)]+0x1:0x1,_0x17c72f(_0x3fe369,_0x14a3a8)>_0x3fe369[_0x51e366(0x391)])return;if(!_0x3fe369[_0x51e366(0x923)][_0x51e366(0x650)]&&!_0x3fe369[_0x51e366(0x923)][_0x51e366(0x68b)]||!_0x3fe369[_0x51e366(0x923)][_0x51e366(0x1b0)])throw new Error(_0x51e366(0x733));const _0x215de1=_0x4d73f6['contentMediator'][_0x51e366(0x76c)](_0x3fe369['id'])[_0x51e366(0x178)](Array['from'](_0x3fe369['accumulated'][_0x51e366(0x1b0)]),_0x3fe369[_0x51e366(0x69c)][_0x51e366(0x291)],_0x3fe369[_0x51e366(0x69c)][_0x51e366(0x9a9)]);let _0x415389=[];for(const _0x509c8c in _0x215de1){const _0x19f611=_0x215de1[_0x509c8c];for(const _0x1567c0 of _0x19f611){let _0x2590b7=0x0;if(_0x3fe369[_0x51e366(0x923)][_0x51e366(0x650)]&&(_0x2590b7=await _0x4d73f6[_0x51e366(0x265)]['getSimilarity'](_0x3fe369[_0x51e366(0x923)][_0x51e366(0x650)],_0x1567c0)),_0x3fe369['accumulated']['results']){for(const _0x537f9d of _0x3fe369[_0x51e366(0x923)][_0x51e366(0x68b)])_0x2590b7=Math[_0x51e366(0x246)](_0x2590b7,await _0x4d73f6[_0x51e366(0x265)]['getSimilarity'](_0x537f9d[_0x51e366(0x569)],_0x1567c0));}_0x2590b7<_0x3fe369[_0x51e366(0x69c)][_0x51e366(0x997)]||_0x415389[_0x51e366(0x6e4)]({'content':_0x1567c0,'relevance':_0x2590b7,'pathName':_0x509c8c});}}_0x415389=_0x415389[_0x51e366(0x991)]((_0x44518b,_0x1daf45)=>_0x1daf45[_0x51e366(0x514)]-_0x44518b[_0x51e366(0x514)])['slice'](0x0,_0x3fe369[_0x51e366(0x69c)]['topK']),_0x5dfb84[_0x51e366(0x9a2)]({'jobType':_0x223e6b[_0x51e366(0x13f)],'type':_0x1c39a3[_0x51e366(0x90)],'jobId':_0xd39063,'threadId':_0x55c00c,'blockId':_0x3fe369['id'],'traceLevel':_0xf41146[_0x51e366(0x4a9)],'timestamp':Date['now'](),'startTime':_0x1fc64f,'status':_0x51e366(0x44c),'content':_0x48a8c6,'topResults':_0x415389,'numResults':_0x415389[_0x51e366(0x39c)]}),await _0x2d62d1(_0xd39063,_0x55c00c,_0x415389,_0x96dfa6,_0x3fe369,_0x14a3a8,_0x4d73f6);}async function _0x17d744(_0x2cc714,_0x353c69,_0x202f7b,_0x48e2e2,_0x434231,_0x97d32b,_0x28567f){const _0xe7ed3d=_0x2f335d,_0xe6efb=_0x28567f[_0xe7ed3d(0x36f)][_0xe7ed3d(0x29d)](_0x2e86af=>_0x2e86af['id']===_0x434231['id']);if(!_0xe6efb)throw new Error(_0xe7ed3d(0x121));let _0x3737dd='';switch(_0x3737dd=_0x202f7b instanceof Array?_0x202f7b[_0xe7ed3d(0x3cd)](_0x18838c=>_0x18838c['content'])[_0xe7ed3d(0x67e)](',\x20'):_0x202f7b,_0xe6efb[_0xe7ed3d(0x8bf)]){case _0x47407f[_0xe7ed3d(0x250)][_0xe7ed3d(0x657)]:await async function(_0x20c455,_0x2a7203,_0x3262a2,_0x412b3d,_0x3b6340,_0x4264a0,_0x3861df,_0x1a2317){const _0x23c3a1=_0xe7ed3d,_0x77bc32=Date[_0x23c3a1(0x449)](),_0x5837b6=_0x1a2317[_0x23c3a1(0x2a4)][_0x23c3a1(0x29d)](_0x4c910f=>_0x4c910f['getEngineType']()===_0x3b6340[_0x23c3a1(0x66f)]);if(!_0x5837b6)throw new Error(_0x23c3a1(0x96));const _0x273e69=await async function(_0x6fdcae,_0x46d48f,_0x405fbc,_0x1c0e26,_0x4d43d7){const _0x146dc4=_0x23c3a1,_0x468d2e={'type':_0x146dc4(0x650),'prompt':_0x46d48f,'threadId':_0x6fdcae};_0x405fbc[_0x146dc4(0x996)][_0x146dc4(0x39c)]>0x0&&(_0x468d2e['instructions']='Additional\x20context:\x0a'+_0x405fbc[_0x146dc4(0x996)][_0x146dc4(0x3cd)](_0x381f3b=>_0x146dc4(0x97a)+_0x381f3b[_0x146dc4(0x277)]+':\x20'+_0x381f3b['content'])[_0x146dc4(0x67e)]('\x0a'));const _0x758aab=await _0x1c0e26['processJob'](_0x468d2e,{'model':_0x4d43d7});if(_0x758aab[_0x146dc4(0x36a)]instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x405fbc[_0x146dc4(0x3ad)]+=_0x758aab[_0x146dc4(0x3ad)]??0x0,_0x405fbc[_0x146dc4(0x471)]+=_0x758aab[_0x146dc4(0x471)]??0x0,_0x758aab[_0x146dc4(0x36a)];}(_0x2a7203,_0x3262a2,_0x412b3d,_0x5837b6,_0x3b6340);_0x5dfb84['trace']({'jobType':_0x223e6b[_0x23c3a1(0x13f)],'type':_0x1c39a3[_0x23c3a1(0x173)],'jobId':_0x20c455,'threadId':_0x2a7203,'blockId':_0x4264a0['id'],'traceLevel':_0xf41146[_0x23c3a1(0x4a9)],'startTime':_0x77bc32,'timestamp':Date[_0x23c3a1(0x449)](),'status':'success','modelName':_0x3b6340['id'],'content':_0x3262a2,'newPrompt':_0x273e69,'inputType':_0x3b6340[_0x23c3a1(0x830)],'outputType':_0x3b6340[_0x23c3a1(0x8bf)]}),await _0x2d62d1(_0x20c455,_0x2a7203,_0x273e69,_0x412b3d,_0x4264a0,_0x3861df,_0x1a2317);}(_0x2cc714,_0x353c69,_0x3737dd,_0x48e2e2,_0xe6efb,_0x434231,_0x97d32b,_0x28567f);break;case _0x47407f['GenerativeAIModelOutputType'][_0xe7ed3d(0x572)]:await async function(_0x222daa,_0x1698fb,_0x3348dc,_0x442559,_0x3153ee,_0x35c32a,_0x3cfae4,_0x335a8f){const _0x53b7f8=_0xe7ed3d,_0x51c535=Date[_0x53b7f8(0x449)](),_0x5f2131=_0x335a8f[_0x53b7f8(0x2a4)][_0x53b7f8(0x29d)](_0x2dd45d=>_0x2dd45d['getEngineType']()===_0x3153ee['engineType']);if(!_0x5f2131)throw new Error(_0x53b7f8(0x96));const _0x442243=await async function(_0x2c5a56,_0x13c9a7,_0x4c1ce2,_0x54a7fb){const _0x4f0525=_0x53b7f8;return(await _0x4c1ce2['processJob']({'type':_0x4f0525(0x650),'prompt':_0x13c9a7,'threadId':_0x2c5a56},{'model':_0x54a7fb}))['output'];}(_0x1698fb,_0x3348dc,_0x5f2131,_0x3153ee);_0x5dfb84[_0x53b7f8(0x9a2)]({'jobType':_0x223e6b[_0x53b7f8(0x13f)],'type':_0x1c39a3[_0x53b7f8(0x23a)],'jobId':_0x222daa,'threadId':_0x1698fb,'blockId':_0x35c32a['id'],'traceLevel':_0xf41146[_0x53b7f8(0x4a9)],'startTime':_0x51c535,'timestamp':Date[_0x53b7f8(0x449)](),'status':_0x53b7f8(0x44c),'modelName':_0x3153ee['id'],'content':_0x3348dc,'totalVectors':_0x442243[_0x53b7f8(0x39c)]}),await _0x2d62d1(_0x222daa,_0x1698fb,_0x442243,_0x442559,_0x35c32a,_0x3cfae4,_0x335a8f);}(_0x2cc714,_0x353c69,_0x3737dd,_0x48e2e2,_0xe6efb,_0x434231,_0x97d32b,_0x28567f);}}async function _0x10da4f(_0x1baa00,_0x11864e,_0x19a794,_0x5486ed,_0x446e44,_0x5372f2,_0x595642){const _0x37027b=_0x2f335d,_0x4ba0d1=Date[_0x37027b(0x449)](),_0x186324=_0x595642[_0x37027b(0x2d5)]['getVectorDatabase'](_0x446e44['id'])[_0x37027b(0xf2)](_0x19a794,_0x446e44['attributes'][_0x37027b(0x2e7)],_0x446e44['attributes']['minRelevance'],_0x446e44[_0x37027b(0x69c)][_0x37027b(0x9a9)]);_0x5dfb84['trace']({'jobType':_0x223e6b[_0x37027b(0x13f)],'type':_0x1c39a3['VectorSearch'],'jobId':_0x1baa00,'threadId':_0x11864e,'blockId':_0x446e44['id'],'traceLevel':_0xf41146[_0x37027b(0x4a9)],'startTime':_0x4ba0d1,'timestamp':Date[_0x37027b(0x449)](),'status':_0x37027b(0x44c),'topResults':_0x186324,'numResults':_0x186324['length']}),await _0x2d62d1(_0x1baa00,_0x11864e,_0x186324,_0x5486ed,_0x446e44,_0x5372f2,_0x595642);}async function _0x39f06f(_0x5670fb,_0x433e76,_0xe71b69,_0x465893,_0xac6f0,_0x245c85,_0x191474){const _0x517d08=_0x2f335d,_0x5292ad=Date[_0x517d08(0x449)]();if(_0xac6f0['accumulated']||(_0xac6f0[_0x517d08(0x923)]={}),_0xe71b69 instanceof Array?(_0xac6f0[_0x517d08(0x923)]['results']||(_0xac6f0[_0x517d08(0x923)][_0x517d08(0x68b)]=[]),_0xac6f0[_0x517d08(0x923)][_0x517d08(0x68b)][_0x517d08(0x6e4)](..._0xe71b69)):_0xac6f0['accumulated'][_0x517d08(0x650)]=_0xe71b69,_0xac6f0['timesCalled']=_0xac6f0[_0x517d08(0x391)]?_0xac6f0[_0x517d08(0x391)]+0x1:0x1,_0x17c72f(_0xac6f0,_0x245c85)>_0xac6f0[_0x517d08(0x391)])return;if(!_0xac6f0[_0x517d08(0x923)][_0x517d08(0x650)]||!_0xac6f0[_0x517d08(0x923)][_0x517d08(0x68b)])throw new Error(_0x517d08(0x8c9));for(const _0x400a6c of _0xac6f0[_0x517d08(0x923)]['results'])_0x400a6c[_0x517d08(0x514)]=await _0x191474[_0x517d08(0x265)][_0x517d08(0x836)](_0xac6f0[_0x517d08(0x923)][_0x517d08(0x650)],_0x400a6c[_0x517d08(0x569)]);const _0x4ccd4a=_0xac6f0['accumulated'][_0x517d08(0x68b)]['filter'](_0x1f3bff=>_0x1f3bff[_0x517d08(0x514)]>_0xac6f0[_0x517d08(0x69c)][_0x517d08(0x997)])['sort']((_0x1224e9,_0x5c8bc7)=>_0x5c8bc7[_0x517d08(0x514)]-_0x1224e9[_0x517d08(0x514)])[_0x517d08(0x609)](0x0,_0xac6f0[_0x517d08(0x69c)][_0x517d08(0x2e7)]);_0x5dfb84[_0x517d08(0x9a2)]({'jobType':_0x223e6b[_0x517d08(0x13f)],'type':_0x1c39a3[_0x517d08(0x660)],'jobId':_0x5670fb,'threadId':_0x433e76,'blockId':_0xac6f0['id'],'traceLevel':_0xf41146[_0x517d08(0x4a9)],'startTime':_0x5292ad,'timestamp':Date[_0x517d08(0x449)](),'status':_0x517d08(0x44c),'inputResults':_0xac6f0[_0x517d08(0x923)][_0x517d08(0x68b)],'rerankedResults':_0x4ccd4a}),await _0x2d62d1(_0x5670fb,_0x433e76,_0x4ccd4a,_0x465893,_0xac6f0,_0x245c85,_0x191474);}async function _0x2d62d1(_0x5e621c,_0x1a5c22,_0xee4a66,_0x1d9cff,_0x2842eb,_0xa1c752,_0x4d13a4){const _0x5e169c=_0x2f335d;for(const _0x391153 of _0x2842eb[_0x5e169c(0x915)]||[]){const _0x11755f=_0xa1c752['find'](_0x3a6a4d=>_0x3a6a4d[_0x5e169c(0x926)]===_0x391153[_0x5e169c(0x926)]);if(_0x11755f)switch(_0x11755f[_0x5e169c(0x4e7)]){case _0x19f002[_0x5e169c(0x1df)]:_0x1d9cff['context'][_0x5e169c(0x6e4)](..._0xee4a66);break;case _0x19f002[_0x5e169c(0x8ca)]:await _0x510d4b(_0x5e621c,_0x1a5c22,_0xee4a66,_0x1d9cff,_0x11755f,_0xa1c752,_0x4d13a4);break;case _0x19f002[_0x5e169c(0x430)]:await _0xe2d78a(_0x5e621c,_0x1a5c22,_0xee4a66,_0x1d9cff,_0x11755f,_0xa1c752,_0x4d13a4);break;case _0x19f002['Model']:await _0x17d744(_0x5e621c,_0x1a5c22,_0xee4a66,_0x1d9cff,_0x11755f,_0xa1c752,_0x4d13a4);break;case _0x19f002[_0x5e169c(0x660)]:await _0x39f06f(_0x5e621c,_0x1a5c22,_0xee4a66,_0x1d9cff,_0x11755f,_0xa1c752,_0x4d13a4);break;case _0x19f002[_0x5e169c(0x485)]:await _0x10da4f(_0x5e621c,_0x1a5c22,_0xee4a66,_0x1d9cff,_0x11755f,_0xa1c752,_0x4d13a4);}}}function _0x17c72f(_0x1992e4,_0x13b829){const _0x21924b=_0x2f335d;return _0x13b829[_0x21924b(0x379)](_0x48be87=>_0x48be87[_0x21924b(0x915)]?.[_0x21924b(0x5dc)](_0x2ccd9f=>_0x2ccd9f[_0x21924b(0x926)]===_0x1992e4[_0x21924b(0x926)]))[_0x21924b(0x39c)];}async function _0xfac642(_0x3862db,_0x424d75,_0xba838e,_0x5a57ed,_0x523bd0,_0x41438c){const _0x3aa146=_0x2f335d,_0x5052b5={'type':_0x3aa146(0x650),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x2d62d1(_0x3862db,_0x424d75,_0xba838e,_0x5052b5,_0x5a57ed,structuredClone(_0x523bd0),_0x41438c),_0x5052b5['output']='Additional\x20context:\x0a'+_0x5052b5[_0x3aa146(0x996)][_0x3aa146(0x3cd)](_0x1759ba=>_0x3aa146(0x97a)+_0x1759ba['pathName']+':\x20'+_0x1759ba[_0x3aa146(0x569)])['join']('\x0a');}catch(_0x46085e){console[_0x3aa146(0x646)]('Error\x20processing\x20retrieve',_0x46085e);}return _0x5052b5;}function _0x4515a8(_0x5b4a51,_0x164057,_0x62b9b7,_0x23a1ca,_0x2cfa12,_0x5a50f0,_0x4279e7){const _0x1e7ebb=_0x2f335d,_0x37dc3='Search\x20in\x20data\x20collection\x20'+_0x2cfa12[_0x1e7ebb(0x6eb)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x158bb4={'queryOrPrompt':{'type':_0x47407f[_0x1e7ebb(0x1a1)][_0x1e7ebb(0x8e7)]}};return _0x5dfb84['trace']({'jobType':_0x223e6b[_0x1e7ebb(0x7c1)],'type':_0x28780b[_0x1e7ebb(0x9c5)],'jobId':_0x5b4a51,'agentId':_0x164057,'threadId':_0x62b9b7,'blockId':_0x2cfa12['id'],'traceLevel':_0xf41146[_0x1e7ebb(0x262)],'startTime':Date[_0x1e7ebb(0x449)](),'timestamp':Date[_0x1e7ebb(0x449)](),'status':_0x1e7ebb(0x44c),'function':_0x3e443f[_0x1e7ebb(0xa7)],'params':_0x158bb4,'functionDescription':_0x37dc3}),{'description':_0x37dc3,'params':_0x158bb4,'callback':async _0x59a8cc=>{const _0x4f4b77=_0x1e7ebb,_0x5bca6f=Date[_0x4f4b77(0x449)]();try{if(_0x4279e7&&(await _0x438e57[_0x4f4b77(0x52f)](0x1),_0x4279e7[_0x4f4b77(0x336)]({'output':_0x4f4b77(0x439)+_0x2cfa12[_0x4f4b77(0xdd)]+'\x20for\x20'+_0x59a8cc?.[_0x4f4b77(0x193)]+'`\x0a\x0a','type':'prompt'})),_0x4f4b77(0x9d9)!=typeof _0x59a8cc?.[_0x4f4b77(0x193)])throw new Error(_0x4f4b77(0x11d));const _0x51f7e3=_0x2cfa12[_0x4f4b77(0x68e)][_0x4f4b77(0x29d)](_0x3131ec=>_0x3131ec[_0x4f4b77(0x4e7)]===_0x19f002['Prompt']),_0x37b841=await _0xfac642(_0x5b4a51,_0x62b9b7,_0x59a8cc[_0x4f4b77(0x193)],_0x51f7e3,_0x2cfa12['retrieveBlocks'],_0x5a50f0);return _0x23a1ca[_0x4f4b77(0x996)]=Array[_0x4f4b77(0x2ce)](new Set([..._0x23a1ca[_0x4f4b77(0x996)],..._0x37b841[_0x4f4b77(0x996)]])),_0x5dfb84[_0x4f4b77(0x9a2)]({'jobType':_0x223e6b[_0x4f4b77(0x8bd)],'type':_0x3e443f['GetContextResult'],'jobId':_0x5b4a51,'blockId':_0x2cfa12['id'],'agentId':_0x164057,'threadId':_0x62b9b7,'traceLevel':_0xf41146[_0x4f4b77(0x262)],'startTime':_0x5bca6f,'timestamp':Date[_0x4f4b77(0x449)](),'status':'success','query':_0x59a8cc['queryOrPrompt'],'context':_0x37b841[_0x4f4b77(0x996)]??[],'inputTokens':_0x37b841[_0x4f4b77(0x3ad)]??0x0,'outputTokens':_0x37b841[_0x4f4b77(0x471)]??0x0}),_0x37b841[_0x4f4b77(0x36a)];}catch(_0x3f220c){return console[_0x4f4b77(0x646)](_0x3f220c),_0x5dfb84[_0x4f4b77(0x9a2)]({'jobType':_0x223e6b[_0x4f4b77(0x8bd)],'type':_0x3e443f[_0x4f4b77(0x1a7)],'jobId':_0x5b4a51,'blockId':_0x2cfa12['id'],'agentId':_0x164057,'threadId':_0x62b9b7,'traceLevel':_0xf41146['Info'],'startTime':_0x5bca6f,'timestamp':Date[_0x4f4b77(0x449)](),'status':_0x4f4b77(0x646),'errorDetails':_0x465292(_0x3f220c),'query':_0x59a8cc?.[_0x4f4b77(0x193)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x3f220c instanceof Error?_0x3f220c[_0x4f4b77(0x3bf)]:'Error\x20retrieving\x20context';}}};}function _0x49d0b3(_0x48e422,_0x5292d0,_0x34c060,_0x31ae64,_0x202c44,_0x3c79a0){const _0x4d2eef=_0x2f335d,_0x25b610={};for(const _0x100053 of _0x31ae64['parameters'])switch(_0x100053[_0x4d2eef(0x4e7)]){case'string':case _0x4d2eef(0x201):_0x25b610[_0x100053[_0x4d2eef(0xdd)]]={'type':_0x47407f[_0x4d2eef(0x1a1)]['String']};break;case'number':_0x25b610[_0x100053[_0x4d2eef(0xdd)]]={'type':_0x47407f[_0x4d2eef(0x1a1)][_0x4d2eef(0x2d3)]};break;case _0x4d2eef(0x7b0):_0x25b610[_0x100053[_0x4d2eef(0xdd)]]={'type':_0x47407f[_0x4d2eef(0x1a1)][_0x4d2eef(0x93a)]};}return _0x5dfb84[_0x4d2eef(0x9a2)]({'jobType':_0x223e6b['JobContext'],'type':_0x28780b['LoadSkillFunction'],'jobId':_0x48e422,'agentId':_0x5292d0,'threadId':_0x34c060,'traceLevel':_0xf41146[_0x4d2eef(0x262)],'startTime':Date[_0x4d2eef(0x449)](),'timestamp':Date[_0x4d2eef(0x449)](),'status':_0x4d2eef(0x44c),'function':_0x4cc321[_0x4d2eef(0x808)],'params':_0x25b610,'functionDescription':_0x31ae64['description']}),{'description':'Execute\x20skill\x20'+_0x31ae64[_0x4d2eef(0x6eb)],'params':_0x25b610,'callback':async _0x4e1ef6=>{const _0x40bc95=_0x4d2eef,_0x374de2=Date['now']();try{if(_0x3c79a0&&(await _0x438e57[_0x40bc95(0x52f)](0x1),_0x3c79a0[_0x40bc95(0x336)]({'output':_0x40bc95(0x983)+_0x31ae64[_0x40bc95(0xdd)]+_0x40bc95(0x2e1),'type':_0x40bc95(0x650)})),!_0x4e1ef6)throw new Error('No\x20parameters\x20provided');for(const _0x4512bd of _0x31ae64['parameters']){if(void 0x0===_0x4e1ef6[_0x4512bd[_0x40bc95(0xdd)]])throw new Error(_0x40bc95(0x5e7)+_0x4512bd['name']+_0x40bc95(0x26c));if(_0x40bc95(0x9d9)===_0x4512bd['type']&&'string'!=typeof _0x4e1ef6[_0x4512bd['name']])throw new Error('Parameter\x20'+_0x4512bd[_0x40bc95(0xdd)]+'\x20must\x20be\x20a\x20string');if(_0x40bc95(0x47c)===_0x4512bd[_0x40bc95(0x4e7)]&&'number'!=typeof _0x4e1ef6[_0x4512bd[_0x40bc95(0xdd)]])throw new Error(_0x40bc95(0x5e7)+_0x4512bd['name']+_0x40bc95(0x8a0));if('boolean'===_0x4512bd[_0x40bc95(0x4e7)]&&_0x40bc95(0x7b0)!=typeof _0x4e1ef6[_0x4512bd[_0x40bc95(0xdd)]])throw new Error('Parameter\x20'+_0x4512bd['name']+_0x40bc95(0x50d));if(_0x40bc95(0x201)===_0x4512bd['type']&&_0x40bc95(0x9d9)!=typeof _0x4e1ef6[_0x4512bd['name']])throw new Error(_0x40bc95(0x5e7)+_0x4512bd[_0x40bc95(0xdd)]+_0x40bc95(0x748));if(_0x40bc95(0x201)===_0x4512bd[_0x40bc95(0x4e7)])try{_0x4e1ef6[_0x4512bd[_0x40bc95(0xdd)]]=JSON['parse'](_0x4e1ef6[_0x4512bd[_0x40bc95(0xdd)]]);}catch{throw new Error(_0x40bc95(0x5e7)+_0x4512bd['name']+_0x40bc95(0x3da));}}const _0x350f4a={};for(const _0x3e4f42 of _0x31ae64['headers']){let _0x295280=_0x3e4f42['value'];_0x295280[_0x40bc95(0x53a)](/\$[a-zA-Z0-9]+/)&&(_0x295280=_0x295280[_0x40bc95(0x709)](/\$[a-zA-Z0-9]+/g,_0x58073c=>{const _0x7ffe69=_0x40bc95,_0x5b002f=_0x58073c[_0x7ffe69(0x609)](0x1);return _0x4e1ef6[_0x5b002f];})),_0x350f4a[_0x3e4f42[_0x40bc95(0xdd)]]=_0x295280;}const _0x42e03c=new URLSearchParams();for(const _0x1f358b of _0x31ae64[_0x40bc95(0x2cb)]){let _0x3cc99f=_0x1f358b[_0x40bc95(0x98e)];if(_0x40bc95(0x9d9)==typeof _0x3cc99f&&_0x3cc99f[_0x40bc95(0x60c)]('$')){const _0x25ed7e=_0x3cc99f['slice'](0x1);_0x3cc99f=_0x4e1ef6[_0x25ed7e];}if('string'==typeof _0x3cc99f&&_0x3cc99f[_0x40bc95(0x60c)](_0x40bc95(0x687))){const _0x279495=_0x3cc99f['replace'](_0x40bc95(0x687),'');if(_0x31ae64[_0x40bc95(0x923)],_0x3cc99f=_0x31ae64['accumulated']?.[_0x40bc95(0x996)]?.[_0x279495],_0x40bc95(0x9d9)==typeof _0x3cc99f&&_0x3cc99f[_0x40bc95(0x60c)]('{')&&_0x3cc99f[_0x40bc95(0x1d2)]('}'))try{_0x3cc99f=JSON[_0x40bc95(0x5c4)](_0x3cc99f);}catch{}}_0x40bc95(0x9d9)==typeof _0x3cc99f&&_0x3cc99f[_0x40bc95(0x60c)]('[')&&_0x3cc99f[_0x40bc95(0x1d2)](']')&&(_0x3cc99f=_0x3cc99f[_0x40bc95(0x609)](0x1,-0x1)['split'](',')),_0x42e03c[_0x40bc95(0x9c9)](_0x1f358b[_0x40bc95(0xdd)],_0x3cc99f);}let _0x5c6e7b=_0x31ae64[_0x40bc95(0x765)];_0x42e03c[_0x40bc95(0x15b)]>0x0&&(_0x5c6e7b+='?'+_0x42e03c[_0x40bc95(0x742)]());let _0x3fe01b={};for(const _0x2e0b13 of _0x31ae64[_0x40bc95(0x24d)]){let _0x221a88=_0x2e0b13[_0x40bc95(0x98e)];if('string'==typeof _0x221a88&&_0x221a88[_0x40bc95(0x60c)]('$')){const _0x40aa04=_0x221a88[_0x40bc95(0x609)](0x1);_0x221a88=_0x4e1ef6[_0x40aa04];}if(_0x40bc95(0x9d9)==typeof _0x221a88&&_0x221a88['startsWith'](_0x40bc95(0x687))){const _0x1bbb6c=_0x221a88['replace']('@context.','');if(_0x221a88=_0x31ae64[_0x40bc95(0x923)]?.['context']?.[_0x1bbb6c],_0x40bc95(0x9d9)==typeof _0x221a88&&_0x221a88[_0x40bc95(0x60c)]('{')&&_0x221a88[_0x40bc95(0x1d2)]('}'))try{_0x221a88=JSON[_0x40bc95(0x5c4)](_0x221a88);}catch{}}if(_0x40bc95(0x9d9)==typeof _0x221a88&&_0x221a88['startsWith']('[')&&_0x221a88['endsWith'](']')&&(_0x221a88=_0x221a88['slice'](0x1,-0x1)[_0x40bc95(0x187)](',')),_0x40bc95(0xd4)===_0x2e0b13[_0x40bc95(0xdd)]){const _0x26e040=_0x221a88[_0x40bc95(0x53a)](/```html(.*)```/s);_0x26e040&&(_0x221a88=_0x26e040[0x1]),_0x221a88=_0x221a88[_0x40bc95(0x709)](/\n/g,''),_0x221a88=_0x221a88[_0x40bc95(0x709)](/'/g,'\x22'),_0x3fe01b=_0x221a88;break;}if(-0x1===_0x2e0b13[_0x40bc95(0xdd)]['indexOf']('.'))_0x3fe01b[_0x2e0b13[_0x40bc95(0xdd)]]=_0x221a88;else{const [_0x41bd8c,_0x14aea0]=_0x2e0b13[_0x40bc95(0xdd)][_0x40bc95(0x187)]('.');_0x3fe01b[_0x41bd8c]||(_0x3fe01b[_0x41bd8c]={}),_0x3fe01b[_0x41bd8c][_0x14aea0]=_0x221a88;}}const _0x6b0d22=await fetch(_0x5c6e7b,{'method':_0x31ae64['endpointMethod'],'headers':_0x350f4a,'body':_0x40bc95(0x9d9)==typeof _0x3fe01b?_0x3fe01b:JSON[_0x40bc95(0x4ad)](_0x3fe01b)});if(_0x6b0d22['ok']){let _0x162912=await _0x6b0d22[_0x40bc95(0x201)]();return _0x31ae64[_0x40bc95(0x95a)]&&(_0x162912=await function(_0x1b89a6,_0xbb5eec){return new Promise((_0x37ac95,_0x33d659)=>{const _0x4e7ac0=_0x438e57['setInterval'](async()=>{const _0x3bfce7=a0_0x2fcc;try{if(!_0x1b89a6[_0x3bfce7(0x6f8)]||!_0x1b89a6['asyncEndpointMethod'])throw new Error(_0x3bfce7(0x6ea));const _0x47e472={};if(_0x1b89a6['asyncHeaders']){for(const _0x14aaa3 of _0x1b89a6[_0x3bfce7(0x8e0)])_0x47e472[_0x14aaa3[_0x3bfce7(0xdd)]]=_0x14aaa3['value'];}const _0x23bbf3=_0x1b89a6[_0x3bfce7(0x6f8)][_0x3bfce7(0x709)](_0x3bfce7(0x180),_0xbb5eec),_0x284465=await fetch(_0x23bbf3,{'method':_0x1b89a6[_0x3bfce7(0x649)],'headers':_0x47e472});if(0xc8===_0x284465['status']){const _0x2a2ea3=await _0x284465['json']();_0x4e7ac0(),_0x37ac95(_0x2a2ea3);}_0x284465[_0x3bfce7(0x24a)]>=0x190&&(console[_0x3bfce7(0x646)](_0x284465[_0x3bfce7(0x46b)]),_0x4e7ac0(),_0x33d659(new Error(_0x284465[_0x3bfce7(0x46b)])));}catch(_0x5c2bb8){console[_0x3bfce7(0x646)](_0x5c2bb8),_0x4e7ac0(),_0x33d659(_0x5c2bb8);}},_0x5cb3ee);});}(_0x31ae64,_0x162912['id'])),_0x40bc95(0x9d9)!=typeof _0x162912&&(_0x162912=JSON[_0x40bc95(0x4ad)](_0x162912)),_0x5dfb84[_0x40bc95(0x9a2)]({'jobType':_0x223e6b[_0x40bc95(0x27c)],'type':_0x4cc321[_0x40bc95(0x808)],'jobId':_0x48e422,'agentId':_0x5292d0,'threadId':_0x34c060,'blockId':_0x31ae64['id'],'traceLevel':_0xf41146[_0x40bc95(0x262)],'startTime':_0x374de2,'timestamp':Date[_0x40bc95(0x449)](),'status':_0x40bc95(0x44c),'skillName':_0x31ae64['name'],'params':_0x4e1ef6,'result':_0x162912}),_0x31ae64['links']?.[_0x40bc95(0x5dc)](_0x495374=>_0x495374[_0x40bc95(0x4e7)]===_0x52a778[_0x40bc95(0x1df)])?(_0x19aa4b(_0x162912,_0x31ae64,_0x202c44),_0x40bc95(0x589)):_0x162912;}throw new Error(_0x6b0d22[_0x40bc95(0x46b)]);}catch(_0x166379){console[_0x40bc95(0x646)](_0x166379);const _0x3aeffd=_0x166379 instanceof Error?_0x166379[_0x40bc95(0x3bf)]:_0x40bc95(0x591);return _0x5dfb84[_0x40bc95(0x9a2)]({'jobType':_0x223e6b[_0x40bc95(0x27c)],'type':_0x4cc321[_0x40bc95(0x808)],'jobId':_0x48e422,'blockId':_0x31ae64['id'],'threadId':_0x34c060,'traceLevel':_0xf41146['Info'],'startTime':_0x374de2,'timestamp':Date[_0x40bc95(0x449)](),'agentId':_0x5292d0,'status':'error','skillName':_0x31ae64['name'],'params':_0x4e1ef6??{},'result':_0x3aeffd}),_0x3aeffd;}}};}function _0x1b0f17(_0x2070fd,_0x35d51b,_0x3f1aa4,_0x3d2746,_0x53dca7,_0x5d61d1=!0x0){const _0x34d30f=_0x2f335d,_0x29a9ee=_0x34d30f(0x40c),_0x4bb83b={'url':{'type':_0x47407f[_0x34d30f(0x1a1)][_0x34d30f(0x8e7)]},'page':{'type':_0x47407f['PromptFunctionParamsType'][_0x34d30f(0x2d3)]}};return _0x5dfb84[_0x34d30f(0x9a2)]({'jobType':_0x223e6b[_0x34d30f(0x7c1)],'type':_0x28780b[_0x34d30f(0x3d8)],'jobId':_0x2070fd,'agentId':_0x35d51b,'threadId':_0x3f1aa4,'traceLevel':_0xf41146[_0x34d30f(0x262)],'startTime':Date[_0x34d30f(0x449)](),'timestamp':Date[_0x34d30f(0x449)](),'status':_0x34d30f(0x44c),'function':_0x4cc321['FetchUrl'],'params':_0x4bb83b,'functionDescription':_0x29a9ee}),{'description':_0x29a9ee,'params':_0x4bb83b,'callback':async _0x57b70f=>{const _0x5e3b3d=_0x34d30f,_0x454339=Date[_0x5e3b3d(0x449)]();try{if(_0x53dca7&&(await _0x438e57[_0x5e3b3d(0x52f)](0x1),_0x53dca7[_0x5e3b3d(0x336)]({'output':'\x0a\x0a`Fetching\x20content\x20from\x20URL\x20'+_0x57b70f?.['url']+_0x5e3b3d(0x2e1),'type':_0x5e3b3d(0x650)})),_0x5e3b3d(0x9d9)!=typeof _0x57b70f?.['url'])throw new Error(_0x5e3b3d(0x345));const _0x3cee3c=_0x57b70f['url'];if(['.pdf',_0x5e3b3d(0x8e1),'.docx',_0x5e3b3d(0x7b5),_0x5e3b3d(0x6b4),'.xls',_0x5e3b3d(0x32f)]['some'](_0x64e38c=>_0x3cee3c[_0x5e3b3d(0x1d2)](_0x64e38c)))throw new Error(_0x5e3b3d(0x893));const _0x1f5025=await fetch(_0x3cee3c),_0x2d9c23=await _0x1f5025['text']();let _0x4bfc29=_0x2d9c23;if(_0x5d61d1){const _0x439468=_0x2d9c23[_0x5e3b3d(0x53a)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x191632=_0x439468?_0x439468[0x1]:_0x2d9c23,_0x400918=_0x191632[_0x5e3b3d(0x709)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x5e3b3d(0x709)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x5e3b3d(0x709)](/<br\s*\/?>/gi,'\x20')[_0x5e3b3d(0x709)](/&nbsp;/g,'\x20');_0x4bfc29=_0x400918[_0x5e3b3d(0x709)](/<\/?[^>]+(>|$)/g,'')[_0x5e3b3d(0x709)](/\s\s+/g,'\x20')[_0x5e3b3d(0x2b3)]();}const _0x312a02=_0x5e3b3d(0x47c)==typeof _0x57b70f[_0x5e3b3d(0xef)]?_0x57b70f[_0x5e3b3d(0xef)]:0x1,_0x1af423=Math['ceil'](_0x4bfc29['length']/_0x2d00ac);return _0x4bfc29['length']>_0x2d00ac&&(_0x4bfc29=_0x4bfc29[_0x5e3b3d(0x4ee)]((_0x312a02-0x1)*_0x2d00ac,(_0x312a02-0x1)*_0x2d00ac+_0x2d00ac)+_0x5e3b3d(0x690)+(_0x312a02+0x1)+_0x5e3b3d(0x6cd)+_0x1af423+'.'),_0x5dfb84[_0x5e3b3d(0x9a2)]({'jobType':_0x223e6b[_0x5e3b3d(0x27c)],'type':_0x4cc321['FetchUrl'],'jobId':_0x2070fd,'agentId':_0x35d51b,'threadId':_0x3f1aa4,'blockId':_0x3d2746,'traceLevel':_0xf41146[_0x5e3b3d(0x262)],'startTime':_0x454339,'timestamp':Date['now'](),'status':_0x1f5025['ok']?_0x5e3b3d(0x44c):_0x5e3b3d(0x646),'url':_0x57b70f[_0x5e3b3d(0x909)],'page':_0x312a02,'totalPages':_0x1af423,'response':_0x4bfc29}),_0x4bfc29;}catch(_0x511df9){console[_0x5e3b3d(0x646)](_0x511df9);const _0x34fe5f=_0x511df9 instanceof Error?_0x511df9[_0x5e3b3d(0x3bf)]:_0x5e3b3d(0x591);return _0x5dfb84[_0x5e3b3d(0x9a2)]({'jobType':_0x223e6b[_0x5e3b3d(0x27c)],'type':_0x4cc321[_0x5e3b3d(0x5bc)],'jobId':_0x2070fd,'blockId':_0x3d2746,'threadId':_0x3f1aa4,'traceLevel':_0xf41146[_0x5e3b3d(0x262)],'startTime':_0x454339,'timestamp':Date[_0x5e3b3d(0x449)](),'agentId':_0x35d51b,'status':_0x5e3b3d(0x646),'errorDetails':_0x465292(_0x511df9),'url':_0x57b70f?.[_0x5e3b3d(0x909)]??'','page':0x0,'totalPages':0x0,'response':_0x34fe5f}),_0x34fe5f;}}};}async function _0x431b0a(_0x1f9a17,_0x28bc21,_0x75b4bd,_0x3de44a,_0x169643,_0x3499b4,_0x143355,_0x391731){const _0x173efb=_0x2f335d,_0x4287c6=new Map(),_0x5befa3=_0x3499b4['filter'](_0x5e70e4=>_0x5e70e4['links']?.[_0x173efb(0x29d)](_0xb4e962=>_0xb4e962[_0x173efb(0x926)]===_0x169643['uid']&&(_0xb4e962[_0x173efb(0x4e7)]===_0x52a778[_0x173efb(0x8bd)]||_0xb4e962[_0x173efb(0x4e7)]===_0x52a778['Skill'])));for(const _0x55da1c of _0x5befa3)_0x55da1c['type']===_0x3bbdbe[_0x173efb(0x8bd)]||_0x55da1c['type']===_0x3bbdbe[_0x173efb(0x6bd)]?_0x4287c6['set'](_0x173efb(0x24c)+_0x55da1c[_0x173efb(0xdd)]['replace'](/[^a-zA-Z]/g,''),_0x4515a8(_0x1f9a17,_0x28bc21,_0x75b4bd,_0x3de44a,_0x55da1c,_0x143355,_0x391731)):_0x55da1c[_0x173efb(0x4e7)]===_0x3bbdbe['AgentSkill']||_0x55da1c[_0x173efb(0x4e7)]===_0x3bbdbe['Agent']?_0x4287c6[_0x173efb(0x120)]('executeAgent'+_0x55da1c[_0x173efb(0xdd)][_0x173efb(0x709)](/[^a-zA-Z]/g,''),_0x13052e(_0x1f9a17,_0x28bc21,_0x75b4bd,_0x3de44a,_0x55da1c,_0x3499b4,_0x143355,_0x391731)):_0x55da1c[_0x173efb(0x4e7)]===_0x3bbdbe[_0x173efb(0x6d3)]?_0x4287c6[_0x173efb(0x120)](_0x55da1c[_0x173efb(0xdd)][_0x173efb(0x709)](/[^a-zA-Z]/g,''),_0x49d0b3(_0x1f9a17,_0x28bc21,_0x75b4bd,_0x55da1c,_0x3499b4,_0x391731)):_0x4287c6[_0x173efb(0x120)](_0x8ed4aa(_0x55da1c),await _0x53a28b(_0x1f9a17,_0x28bc21,_0x75b4bd,_0x55da1c,_0x143355,_0x391731));return _0x4287c6;}function _0x8ed4aa(_0x1ed82c){const _0x5683ff=_0x2f335d;switch(_0x1ed82c[_0x5683ff(0x4e7)]){case _0x3bbdbe[_0x5683ff(0x7f9)]:return _0x5683ff(0x4ab);case _0x3bbdbe[_0x5683ff(0x353)]:return _0x5683ff(0xb1);case _0x3bbdbe[_0x5683ff(0x45c)]:return _0x5683ff(0x4b5);case _0x3bbdbe[_0x5683ff(0x60d)]:return _0x5683ff(0x39d);case _0x3bbdbe[_0x5683ff(0x80a)]:case _0x3bbdbe['WebScraperRaw']:return'fetchContentFromUrl';}throw new Error(_0x5683ff(0x636));}async function _0x53a28b(_0x51fa23,_0x5e5443,_0xde778f,_0x136e56,_0x218765,_0x1a3b54){const _0x1f5249=_0x2f335d;switch(_0x136e56[_0x1f5249(0x4e7)]){case _0x3bbdbe[_0x1f5249(0x7f9)]:return function(_0x7c60d6,_0x4039fd,_0x54f948,_0x2a7b02,_0x1d12ab){const _0x2c56a3=_0x1f5249,_0x7f241d='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0xa5c681={'code':{'type':_0x47407f[_0x2c56a3(0x1a1)]['String']}};return _0x5dfb84[_0x2c56a3(0x9a2)]({'jobType':_0x223e6b[_0x2c56a3(0x7c1)],'type':_0x28780b['LoadSkillFunction'],'jobId':_0x7c60d6,'agentId':_0x4039fd,'threadId':_0x54f948,'traceLevel':_0xf41146[_0x2c56a3(0x262)],'startTime':Date[_0x2c56a3(0x449)](),'timestamp':Date['now'](),'status':_0x2c56a3(0x44c),'function':_0x4cc321[_0x2c56a3(0x40e)],'params':_0xa5c681,'functionDescription':_0x7f241d}),{'description':_0x7f241d,'params':_0xa5c681,'callback':async _0x2bbece=>{const _0x1332f9=_0x2c56a3,_0x551f6c=Date[_0x1332f9(0x449)]();try{if(_0x1d12ab&&(await _0x438e57[_0x1332f9(0x52f)](0x1),_0x1d12ab[_0x1332f9(0x336)]({'output':_0x1332f9(0x8dd),'type':_0x1332f9(0x650)})),_0x1332f9(0x9d9)!=typeof _0x2bbece?.[_0x1332f9(0x699)])throw new Error('Code\x20is\x20required');const _0x1ad09f=Function(''+_0x2bbece?.[_0x1332f9(0x699)])();let _0x30042e='';try{_0x30042e=JSON[_0x1332f9(0x4ad)](_0x1ad09f);}catch{_0x30042e=_0x1ad09f[_0x1332f9(0x742)]();}return _0x5dfb84[_0x1332f9(0x9a2)]({'jobType':_0x223e6b[_0x1332f9(0x27c)],'type':_0x4cc321[_0x1332f9(0x40e)],'agentId':_0x4039fd,'threadId':_0x54f948,'jobId':_0x7c60d6,'blockId':_0x2a7b02,'traceLevel':_0xf41146[_0x1332f9(0x262)],'startTime':_0x551f6c,'timestamp':Date[_0x1332f9(0x449)](),'status':_0x1332f9(0x44c),'code':_0x2bbece[_0x1332f9(0x699)],'result':_0x30042e}),_0x1ad09f;}catch(_0x291b81){return console['error'](_0x291b81),_0x5dfb84[_0x1332f9(0x9a2)]({'jobType':_0x223e6b[_0x1332f9(0x27c)],'type':_0x4cc321[_0x1332f9(0x40e)],'jobId':_0x7c60d6,'blockId':_0x2a7b02,'traceLevel':_0xf41146[_0x1332f9(0x262)],'startTime':_0x551f6c,'timestamp':Date['now'](),'status':_0x1332f9(0x646),'errorDetails':_0x465292(_0x291b81),'agentId':_0x4039fd,'threadId':_0x54f948,'code':_0x2bbece?.['code']??'','result':_0x1332f9(0x793)}),_0x291b81 instanceof Error?_0x291b81[_0x1332f9(0x3bf)]:_0x1332f9(0x793);}}};}(_0x51fa23,_0x5e5443,_0xde778f,_0x136e56['id'],_0x1a3b54);case _0x3bbdbe['QueryFile']:return async function(_0x32a48f,_0x4d9992,_0x4e832e,_0x44be33,_0x370faa,_0x320b37){const _0x2f37e5=_0x1f5249;if(!_0x44be33[_0x2f37e5(0x923)]?.['files']||0x0===_0x44be33[_0x2f37e5(0x923)][_0x2f37e5(0x86e)]['length'])throw new Error(_0x2f37e5(0x829));if(_0x44be33[_0x2f37e5(0x923)][_0x2f37e5(0x86e)]['length']>0x1)throw new Error(_0x2f37e5(0x445));const _0x328ffb=[',',';','\x09','|',':'],_0x3aef8=['\x22','\x27'],_0x21c771=await _0x44be33[_0x2f37e5(0x923)][_0x2f37e5(0x86e)][0x0]['text'](),_0x37a795=_0x21c771['split']('\x0a')[0x0];let _0x256c6d=null,_0x16b139=null,_0x148229=0x0;for(const _0x2b82e5 of _0x328ffb){const _0xe1819c=(_0x37a795[_0x2f37e5(0x53a)](new RegExp('\x5c'+_0x2b82e5,'g'))||[])[_0x2f37e5(0x39c)];_0xe1819c>_0x148229&&(_0x148229=_0xe1819c,_0x256c6d=_0x2b82e5);}_0x256c6d||(_0x256c6d=','),_0x148229=0x0;for(const _0x52d450 of _0x3aef8){const _0x2ee917=(_0x37a795[_0x2f37e5(0x53a)](new RegExp('\x5c'+_0x52d450,'g'))||[])['length'];_0x2ee917>_0x148229&&(_0x148229=_0x2ee917,_0x16b139=_0x52d450);}_0x16b139||(_0x16b139='\x22');const _0x2e7ecf=_0x2f37e5(0xf3)+_0x37a795['split'](_0x256c6d)[_0x2f37e5(0x67e)](',\x20'),_0x305e8f={'query':{'type':_0x47407f[_0x2f37e5(0x1a1)][_0x2f37e5(0x8e7)]}};return _0x5dfb84['trace']({'jobType':_0x223e6b[_0x2f37e5(0x7c1)],'type':_0x28780b[_0x2f37e5(0x3d8)],'jobId':_0x32a48f,'agentId':_0x4d9992,'threadId':_0x4e832e,'traceLevel':_0xf41146[_0x2f37e5(0x262)],'startTime':Date['now'](),'timestamp':Date[_0x2f37e5(0x449)](),'status':_0x2f37e5(0x44c),'function':_0x4cc321['QueryFile'],'params':_0x305e8f,'functionDescription':_0x2e7ecf}),{'description':_0x2e7ecf,'params':_0x305e8f,'callback':async _0x509bd0=>{const _0x342ed8=_0x2f37e5,_0xc1720b=Date[_0x342ed8(0x449)]();try{if(_0x320b37&&(await _0x438e57[_0x342ed8(0x52f)](0x1),_0x320b37[_0x342ed8(0x336)]({'output':_0x342ed8(0x992),'type':_0x342ed8(0x650)})),!_0x370faa[_0x342ed8(0x8a3)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x342ed8(0x9d9)!=typeof _0x509bd0?.['query'])throw new Error('Query\x20is\x20required');if(!_0x509bd0[_0x342ed8(0x23f)]['includes']('FROM\x20file'))throw new Error(_0x342ed8(0x67c));const _0x25b26a=await _0x370faa[_0x342ed8(0x8a3)]['executeQuery'](_0x21c771,_0x509bd0[_0x342ed8(0x23f)],{'headers':!0x0,'quote':_0x16b139,'separator':_0x256c6d});return _0x5dfb84[_0x342ed8(0x9a2)]({'jobType':_0x223e6b['Skill'],'type':_0x4cc321[_0x342ed8(0x60d)],'jobId':_0x32a48f,'agentId':_0x4d9992,'threadId':_0x4e832e,'blockId':_0x44be33['id'],'traceLevel':_0xf41146[_0x342ed8(0x262)],'startTime':_0xc1720b,'timestamp':Date[_0x342ed8(0x449)](),'status':_0x342ed8(0x44c),'query':_0x509bd0[_0x342ed8(0x23f)],'results':_0x25b26a}),_0x25b26a;}catch(_0x15ccc3){return console['error'](_0x15ccc3),_0x5dfb84[_0x342ed8(0x9a2)]({'jobType':_0x223e6b[_0x342ed8(0x27c)],'type':_0x4cc321[_0x342ed8(0x60d)],'jobId':_0x32a48f,'blockId':_0x44be33['id'],'traceLevel':_0xf41146['Info'],'startTime':_0xc1720b,'timestamp':Date['now'](),'status':_0x342ed8(0x646),'errorDetails':_0x465292(_0x15ccc3),'agentId':_0x4d9992,'threadId':_0x4e832e,'query':_0x509bd0?.[_0x342ed8(0x23f)]??'','results':_0x342ed8(0x9b3)}),_0x15ccc3 instanceof Error?_0x15ccc3[_0x342ed8(0x3bf)]:'Error\x20fetching\x20file';}}};}(_0x51fa23,_0x5e5443,_0xde778f,_0x136e56,_0x218765,_0x1a3b54);case _0x3bbdbe[_0x1f5249(0x353)]:return function(_0x23712d,_0x26f2dc,_0x28b003,_0x43ce30,_0x48bf1a,_0x21e924,_0x225147){const _0x1306ed=_0x1f5249,_0x5c9865=_0x1306ed(0x8b0),_0x5b6664={'query':{'type':_0x47407f['PromptFunctionParamsType']['String']}};return _0x5dfb84[_0x1306ed(0x9a2)]({'jobType':_0x223e6b[_0x1306ed(0x7c1)],'type':_0x28780b[_0x1306ed(0x3d8)],'jobId':_0x23712d,'agentId':_0x26f2dc,'threadId':_0x28b003,'traceLevel':_0xf41146[_0x1306ed(0x262)],'startTime':Date[_0x1306ed(0x449)](),'timestamp':Date[_0x1306ed(0x449)](),'status':_0x1306ed(0x44c),'function':_0x4cc321['SearchGoogle'],'params':_0x5b6664,'functionDescription':_0x5c9865}),{'description':_0x5c9865,'params':_0x5b6664,'callback':async _0x482d53=>{const _0x293ceb=_0x1306ed,_0x4c3555=Date[_0x293ceb(0x449)]();try{if(_0x225147&&(await _0x438e57[_0x293ceb(0x52f)](0x1),_0x225147[_0x293ceb(0x336)]({'output':_0x293ceb(0x1c4)+_0x482d53?.['query']+_0x293ceb(0x2e1),'type':_0x293ceb(0x650)})),!_0x21e924[_0x293ceb(0x642)])throw new Error('Search\x20connector\x20not\x20set');if(_0x293ceb(0x9d9)!=typeof _0x482d53?.[_0x293ceb(0x23f)])throw new Error(_0x293ceb(0x11d));const _0x35dd44=await _0x21e924['searchConnector'][_0x293ceb(0xf2)](_0x482d53[_0x293ceb(0x23f)],_0x48bf1a,_0x4dc50e['google'][_0x293ceb(0x112)]);let _0x254c35='';for(const _0xf393cd of _0x35dd44)_0x254c35+=_0xf393cd[_0x293ceb(0x1c3)]+'\x20-\x20'+_0xf393cd[_0x293ceb(0x909)]+'\x0a'+_0xf393cd[_0x293ceb(0xff)]+'\x0a\x0a';return _0x5dfb84[_0x293ceb(0x9a2)]({'jobType':_0x223e6b[_0x293ceb(0x27c)],'type':_0x4cc321['SearchGoogle'],'jobId':_0x23712d,'agentId':_0x26f2dc,'threadId':_0x28b003,'blockId':_0x43ce30,'traceLevel':_0xf41146[_0x293ceb(0x262)],'startTime':_0x4c3555,'timestamp':Date['now'](),'status':_0x293ceb(0x44c),'query':_0x482d53[_0x293ceb(0x23f)],'results':_0x254c35}),_0x254c35;}catch(_0x54d7a8){return console[_0x293ceb(0x646)](_0x54d7a8),_0x5dfb84['trace']({'jobType':_0x223e6b[_0x293ceb(0x27c)],'type':_0x4cc321[_0x293ceb(0x60e)],'jobId':_0x23712d,'blockId':_0x43ce30,'traceLevel':_0xf41146[_0x293ceb(0x262)],'startTime':_0x4c3555,'timestamp':Date[_0x293ceb(0x449)](),'status':'error','errorDetails':_0x465292(_0x54d7a8),'agentId':_0x26f2dc,'threadId':_0x28b003,'query':_0x482d53?.[_0x293ceb(0x23f)]??'','results':_0x293ceb(0x9b3)}),_0x54d7a8 instanceof Error?_0x54d7a8[_0x293ceb(0x3bf)]:'Error\x20searching';}}};}(_0x51fa23,_0x5e5443,_0xde778f,_0x136e56['id'],_0x218765[_0x1f5249(0x1bc)],_0x218765,_0x1a3b54);case _0x3bbdbe['AiSearch']:return function(_0x2112d7,_0x5587c7,_0x170222,_0x7cd4d,_0x2c0c23,_0x2751b5,_0x207f26){const _0x3f65e8=_0x1f5249,_0xa5a515=_0x3f65e8(0x741),_0x356968={'query':{'type':_0x47407f[_0x3f65e8(0x1a1)][_0x3f65e8(0x8e7)]}};return _0x5dfb84[_0x3f65e8(0x9a2)]({'jobType':_0x223e6b[_0x3f65e8(0x7c1)],'type':_0x28780b[_0x3f65e8(0x3d8)],'jobId':_0x2112d7,'agentId':_0x5587c7,'threadId':_0x170222,'traceLevel':_0xf41146[_0x3f65e8(0x262)],'startTime':Date[_0x3f65e8(0x449)](),'timestamp':Date[_0x3f65e8(0x449)](),'status':_0x3f65e8(0x44c),'function':_0x4cc321['SearchPerplexity'],'params':_0x356968,'functionDescription':_0xa5a515}),{'description':_0xa5a515,'params':_0x356968,'callback':async _0x49b47f=>{const _0x33fb3f=_0x3f65e8,_0x3bbd8d=Date[_0x33fb3f(0x449)]();try{if(_0x207f26&&(await _0x438e57[_0x33fb3f(0x52f)](0x1),_0x207f26[_0x33fb3f(0x336)]({'output':_0x33fb3f(0x3c8)+_0x49b47f?.['query']+'`\x0a\x0a','type':_0x33fb3f(0x650)})),!_0x2751b5[_0x33fb3f(0x889)])throw new Error(_0x33fb3f(0x7a2));if(_0x33fb3f(0x9d9)!=typeof _0x49b47f?.[_0x33fb3f(0x23f)])throw new Error('Query\x20is\x20required');const _0x167abf=await _0x2751b5['aiSearchConnector'][_0x33fb3f(0xf2)](_0x49b47f['query'],_0x2c0c23);return _0x5dfb84[_0x33fb3f(0x9a2)]({'jobType':_0x223e6b[_0x33fb3f(0x27c)],'type':_0x4cc321[_0x33fb3f(0x464)],'jobId':_0x2112d7,'agentId':_0x5587c7,'threadId':_0x170222,'blockId':_0x7cd4d,'traceLevel':_0xf41146[_0x33fb3f(0x262)],'startTime':_0x3bbd8d,'timestamp':Date[_0x33fb3f(0x449)](),'status':'success','query':_0x49b47f[_0x33fb3f(0x23f)],'results':_0x167abf}),_0x167abf;}catch(_0x47f2db){return console['error'](_0x47f2db),_0x5dfb84[_0x33fb3f(0x9a2)]({'jobType':_0x223e6b[_0x33fb3f(0x27c)],'type':_0x4cc321['SearchPerplexity'],'jobId':_0x2112d7,'blockId':_0x7cd4d,'traceLevel':_0xf41146[_0x33fb3f(0x262)],'startTime':_0x3bbd8d,'timestamp':Date['now'](),'status':_0x33fb3f(0x646),'errorDetails':_0x465292(_0x47f2db),'agentId':_0x5587c7,'threadId':_0x170222,'query':_0x49b47f?.['query']??'','results':_0x33fb3f(0x9b3)}),_0x47f2db instanceof Error?_0x47f2db[_0x33fb3f(0x3bf)]:_0x33fb3f(0x9b3);}}};}(_0x51fa23,_0x5e5443,_0xde778f,_0x136e56['id'],_0x218765['aiSearchApiKey'],_0x218765,_0x1a3b54);case _0x3bbdbe[_0x1f5249(0x80a)]:return _0x1b0f17(_0x51fa23,_0x5e5443,_0xde778f,_0x136e56['id'],_0x1a3b54);case _0x3bbdbe[_0x1f5249(0x86c)]:return _0x1b0f17(_0x51fa23,_0x5e5443,_0xde778f,_0x136e56['id'],_0x1a3b54,!0x1);}throw new Error(_0x1f5249(0x636));}function _0x465292(_0x46c80f){const _0x100d49=_0x2f335d;try{return JSON[_0x100d49(0x4ad)](_0x46c80f);}catch(_0x143e0a){return _0x46c80f instanceof Error?_0x46c80f['toString']():'Error\x20fetching\x20context';}}async function _0x4b5f68(_0x4c34ab,_0x311def,_0x5e5c0f,_0xc048c8,_0x201932,_0x17f471,_0x4e2e6a,_0x15663f,_0x40afcf){const _0x13648e=_0x2f335d;if(_0x17f471[_0x13648e(0x923)]||(_0x17f471['accumulated']={}),_0x311def===_0x52a778[_0x13648e(0x657)]&&_0x13648e(0x9d9)==typeof _0x5e5c0f&&(_0x17f471['accumulated']['prompt']=_0x5e5c0f),_0x17f471[_0x13648e(0x391)]=_0x17f471[_0x13648e(0x391)]?_0x17f471['timesCalled']+0x1:0x1,_0x5d9de6(_0x17f471,_0x4e2e6a)>_0x17f471[_0x13648e(0x391)])return;if(_0x5a023b[_0x13648e(0xc1)](_0x13648e(0x95d)+_0x17f471[_0x13648e(0xdd)],_0x17f471['timesCalled']),!_0x17f471[_0x13648e(0x923)][_0x13648e(0x650)])throw new Error(_0x13648e(0x16d)+_0x17f471[_0x13648e(0xdd)]);const _0x291167=_0x15663f[_0x13648e(0x36f)]['find'](_0x21f500=>_0x21f500['id']===_0x17f471['modelId']);if(!_0x291167)throw new Error(_0x13648e(0x121));if(!_0x15663f[_0x13648e(0x2a4)][_0x13648e(0x29d)](_0x421a12=>_0x421a12['getEngineType']()===_0x291167[_0x13648e(0x66f)]))throw new Error(_0x13648e(0x96));_0x40afcf&&_0x40afcf[_0x13648e(0x336)]({'output':_0x13648e(0xfb)+_0x17f471[_0x13648e(0xdd)]+_0x13648e(0x2e1),'type':_0x13648e(0x650)});const _0xd6d2d8=Date[_0x13648e(0x449)](),_0x81ecb3=(0x0,_0x2d9acc['v4'])(),_0x2d4d8a=_0x40afcf?await async function(_0x2550d8,_0x1bccac,_0x20425d,_0xa24b81,_0x508e29,_0x272fee,_0x17c1fd,_0x5ac28a){const _0x42b686=_0x13648e,_0x54ee28=_0x5ac28a[_0x42b686(0x36f)][_0x42b686(0x29d)](_0x3c0e62=>_0x3c0e62['id']===_0x508e29[_0x42b686(0x447)]);if(!_0x54ee28)throw new Error(_0x42b686(0x121));const _0x2f56dc=_0x5ac28a['generativeAIWorkerConnectors'][_0x42b686(0x29d)](_0x3036eb=>_0x3036eb[_0x42b686(0x472)]()===_0x54ee28[_0x42b686(0x66f)]);if(!_0x2f56dc)throw new Error('No\x20connector\x20found\x20for\x20model');if(!_0x508e29[_0x42b686(0x923)]||!_0x508e29[_0x42b686(0x923)][_0x42b686(0x650)])throw new Error(_0x42b686(0x682));const _0x56c52c={'type':_0x42b686(0x650),'output':''};for await(const _0x221e54 of _0x2f56dc[_0x42b686(0x74f)]({'type':_0x20425d[_0x42b686(0x4e7)],'prompt':_0x6cc5c2(_0x508e29[_0x42b686(0x923)][_0x42b686(0x650)],_0x508e29),'instructions':_0xdcc427(_0x20425d[_0x42b686(0x77f)]??'',_0x508e29,_0x54ee28),'grammar':_0x508e29[_0x42b686(0x6e2)],'temperature':_0x508e29[_0x42b686(0x42d)],'maxTokens':_0x508e29[_0x42b686(0x935)],'history':_0x20425d[_0x42b686(0x293)],'functions':await _0x431b0a(_0x2550d8,_0x1bccac,_0x20425d[_0x42b686(0x9ac)],_0xa24b81,_0x508e29,_0x272fee,_0x5ac28a,_0x17c1fd),'threadId':_0x20425d['threadId']},{'model':_0x54ee28,'sequences':0x2}))_0x508e29[_0x42b686(0x915)]&&_0x508e29[_0x42b686(0x915)]['some'](_0x5725f1=>{const _0x4d0450=_0x42b686,_0x96f3ec=_0x272fee['find'](_0x15f461=>_0x15f461[_0x4d0450(0x926)]===_0x5725f1[_0x4d0450(0x926)]);return!!_0x96f3ec&&_0x5725f1['type']===_0x52a778[_0x4d0450(0x657)]&&_0x96f3ec[_0x4d0450(0x4e7)]===_0x3bbdbe[_0x4d0450(0x7f2)];})&&_0x17c1fd['emit'](_0x221e54),_0x42b686(0x9d9)==typeof _0x56c52c['output']&&'string'==typeof _0x221e54[_0x42b686(0x36a)]&&(_0x56c52c[_0x42b686(0x36a)]+=_0x221e54[_0x42b686(0x36a)]),_0x56c52c[_0x42b686(0x3ad)]=_0x221e54[_0x42b686(0x3ad)],_0x56c52c[_0x42b686(0x471)]=_0x221e54['outputTokens'];return _0x56c52c;}(_0x4c34ab,_0x81ecb3,_0xc048c8,_0x201932,_0x17f471,_0x4e2e6a,_0x40afcf,_0x15663f):await async function(_0x46e71b,_0x91c925,_0xb7a958,_0x10ea09,_0x2e107d,_0x467726,_0x5a0706){const _0x3d1799=_0x13648e,_0x2bddfc=_0x5a0706['models'][_0x3d1799(0x29d)](_0x57088d=>_0x57088d['id']===_0x2e107d[_0x3d1799(0x447)]);if(!_0x2bddfc)throw new Error(_0x3d1799(0x121));const _0x43ea80=_0x5a0706[_0x3d1799(0x2a4)]['find'](_0x417bfb=>_0x417bfb[_0x3d1799(0x472)]()===_0x2bddfc[_0x3d1799(0x66f)]);if(!_0x43ea80)throw new Error(_0x3d1799(0x96));if(!_0x2e107d[_0x3d1799(0x923)]||!_0x2e107d[_0x3d1799(0x923)][_0x3d1799(0x650)])throw new Error(_0x3d1799(0x682));return _0x43ea80['processJob']({'type':_0x3d1799(0x650),'prompt':_0x6cc5c2(_0x2e107d['accumulated'][_0x3d1799(0x650)],_0x2e107d),'instructions':_0xdcc427(_0xb7a958[_0x3d1799(0x77f)]??'',_0x2e107d,_0x2bddfc),'grammar':_0x2e107d[_0x3d1799(0x6e2)],'temperature':_0x2e107d[_0x3d1799(0x42d)],'maxTokens':_0x2e107d[_0x3d1799(0x935)],'history':_0xb7a958[_0x3d1799(0x293)],'functions':await _0x431b0a(_0x46e71b,_0x91c925,_0xb7a958[_0x3d1799(0x9ac)],_0x10ea09,_0x2e107d,_0x467726,_0x5a0706),'threadId':_0xb7a958[_0x3d1799(0x9ac)]},{'model':_0x2bddfc,'sequences':0x2});}(_0x4c34ab,_0x81ecb3,_0xc048c8,_0x201932,_0x17f471,_0x4e2e6a,_0x15663f);if(_0x13648e(0x9d9)!=typeof _0x2d4d8a[_0x13648e(0x36a)])throw new Error(_0x13648e(0x39b));_0x201932['inputTokens']+=_0x2d4d8a[_0x13648e(0x3ad)]??0x0,_0x201932[_0x13648e(0x471)]+=_0x2d4d8a[_0x13648e(0x471)]??0x0,_0x5dfb84[_0x13648e(0x9a2)]({'jobType':_0x223e6b['Workflow'],'type':_0x5b1a12[_0x13648e(0x560)],'jobId':_0x4c34ab,'agentId':_0x81ecb3,'threadId':_0xc048c8[_0x13648e(0x9ac)],'traceLevel':_0xf41146[_0x13648e(0x262)],'startTime':_0xd6d2d8,'timestamp':Date[_0x13648e(0x449)](),'blockId':_0x17f471['id'],'status':_0x13648e(0x44c),'output':_0x2d4d8a[_0x13648e(0x36a)],'prompt':_0x17f471[_0x13648e(0x923)][_0x13648e(0x650)],'agentName':_0x17f471[_0x13648e(0xdd)],'history':[],'instructions':''+_0x17f471[_0x13648e(0x77f)]+(_0xc048c8[_0x13648e(0x77f)]??''),'ragContext':_0x2d4d8a[_0x13648e(0x996)]??[],'inputTokens':_0x2d4d8a[_0x13648e(0x3ad)]??0x0,'outputTokens':_0x2d4d8a[_0x13648e(0x471)]??0x0}),_0x19aa4b(_0x2d4d8a[_0x13648e(0x36a)],_0x17f471,_0x4e2e6a),await _0xeb4500(_0x4c34ab,_0x2d4d8a[_0x13648e(0x36a)],_0xc048c8,_0x201932,_0x17f471,_0x4e2e6a,_0x15663f,_0x40afcf);}function _0x6cc5c2(_0x169e45,_0x1ff6ba){const _0x208ed1=_0x2f335d;if(!_0x1ff6ba[_0x208ed1(0x923)]||!_0x1ff6ba[_0x208ed1(0x923)][_0x208ed1(0x996)])return _0x169e45;if(_0x1ff6ba[_0x208ed1(0x923)][_0x208ed1(0x996)])for(const _0x7f0422 of Object[_0x208ed1(0x502)](_0x1ff6ba[_0x208ed1(0x923)][_0x208ed1(0x996)])){const _0x1c44e5=_0x1ff6ba[_0x208ed1(0x923)]['context'][_0x7f0422];_0x169e45=_0x1c44e5 instanceof Array?_0x208ed1(0x2ec)+_0x7f0422+':\x0a\x0a'+_0x1c44e5['map'](_0x32223f=>'From\x20'+_0x32223f['pathName']+':\x20'+_0x32223f['content'])['join']('\x0a\x0a')+'\x0a\x0a'+_0x169e45:_0x208ed1(0x32d)+_0x7f0422+':\x20'+_0x1c44e5+'\x0a\x0a'+_0x169e45;}return _0x169e45;}function _0xdcc427(_0x4ffcf9,_0x175a7a,_0x4723e7){const _0x43b061=_0x2f335d;let _0x10b835='';return _0x4723e7[_0x43b061(0x788)]&&''!==_0x4723e7['knowledgeCutoffDate']&&(_0x10b835=_0x43b061(0x6d0)+_0x4723e7['knowledgeCutoffDate']+'\x0a\x0a'),_0x10b835=_0x10b835+_0x43b061(0x5d1)+new Date()[_0x43b061(0x8a7)](void 0x0,{'weekday':'long','year':'numeric','month':_0x43b061(0xc8),'day':_0x43b061(0x626)})+'\x0a\x0a',''+_0x10b835+_0x175a7a['instructions']+_0x4ffcf9;}function _0x5b6e32(_0x29733e,_0x2f1455,_0x6a83c5){const _0x48719d=_0x2f335d;_0x6a83c5[_0x48719d(0x923)]||(_0x6a83c5[_0x48719d(0x923)]={}),_0x6a83c5['accumulated'][_0x48719d(0x996)]||(_0x6a83c5[_0x48719d(0x923)][_0x48719d(0x996)]={});const _0x2f9b45=_0x6a83c5[_0x48719d(0x106)]?.[_0x48719d(0x187)](',');_0x2f9b45&&_0x2f9b45[_0x48719d(0x4a7)](_0x29733e)&&(_0x6a83c5[_0x48719d(0x923)][_0x48719d(0x996)][_0x29733e]=_0x2f1455);}function _0x4a5141(_0x368db1,_0x38923f,_0x3f94bd,_0x4c5a44){const _0xe315ae=_0x2f335d;_0x368db1===_0x52a778[_0xe315ae(0x1df)]&&(_0x4c5a44['accumulated']||(_0x4c5a44['accumulated']={}),_0x4c5a44[_0xe315ae(0x923)]['context']||(_0x4c5a44['accumulated'][_0xe315ae(0x996)]={}),_0x4c5a44['accumulated'][_0xe315ae(0x996)][_0x38923f]=_0x3f94bd);}async function _0x21ae17(_0xf4282f,_0x7daf07,_0x24ab96,_0x15496f,_0x27fa55,_0xd1833e,_0x1953ca,_0x18fe91){const _0x1e94b6=function(_0x1309a8,_0x3c5ce1){const _0x3d2b34=a0_0x2fcc,_0x310195=[];for(let _0x121eb1=0x0;_0x121eb1<_0x1309a8[_0x3d2b34(0x39c)];_0x121eb1+=_0x3c5ce1['attributes'][_0x3d2b34(0x15b)]){let _0x4ca093=_0x121eb1-_0x3c5ce1['attributes'][_0x3d2b34(0x347)];_0x4ca093<0x0&&(_0x4ca093=0x0);let _0x5dd649=_0x121eb1+_0x3c5ce1[_0x3d2b34(0x69c)][_0x3d2b34(0x15b)]+_0x3c5ce1['attributes'][_0x3d2b34(0x347)];_0x5dd649>_0x1309a8['length']&&(_0x5dd649=_0x1309a8[_0x3d2b34(0x39c)]),length||(length=_0x121eb1+_0x3c5ce1['attributes'][_0x3d2b34(0x15b)],length>_0x1309a8['length']&&(length=_0x1309a8[_0x3d2b34(0x39c)])),_0x310195['push'](_0x1309a8[_0x3d2b34(0x4ee)](_0x4ca093,_0x5dd649));}return _0x310195;}(_0x7daf07,_0x27fa55);await _0xeb4500(_0xf4282f,_0x1e94b6,_0x24ab96,_0x15496f,_0x27fa55,_0xd1833e,_0x1953ca,_0x18fe91);}function _0x7c9520(_0x1f2d9e,_0x321859,_0x1fd209){const _0x25cff9=_0x2f335d;_0x1fd209['accumulated']||(_0x1fd209[_0x25cff9(0x923)]={}),_0x1fd209[_0x25cff9(0x923)][_0x25cff9(0x996)]||(_0x1fd209[_0x25cff9(0x923)][_0x25cff9(0x996)]={}),_0x1fd209['accumulated'][_0x25cff9(0x996)][_0x1f2d9e]=_0x321859;}async function _0xfdb49e(_0x338a5c,_0x57b613,_0xe3cb14,_0x4eefd5,_0x543ce2,_0x471b77,_0x5ac6df,_0x2db1db){const _0x29e969=_0x2f335d;if(_0x543ce2['accumulated']||(_0x543ce2[_0x29e969(0x923)]={}),_0x543ce2[_0x29e969(0x923)][_0x29e969(0x999)]||(_0x543ce2['accumulated'][_0x29e969(0x999)]=[]),_0x57b613 instanceof Array?_0x543ce2[_0x29e969(0x923)][_0x29e969(0x999)][_0x29e969(0x6e4)](..._0x57b613):_0x543ce2['accumulated'][_0x29e969(0x999)][_0x29e969(0x6e4)](_0x57b613),_0x543ce2[_0x29e969(0x391)]=_0x543ce2['timesCalled']?_0x543ce2['timesCalled']+0x1:0x1,_0x5d9de6(_0x543ce2,_0x471b77)>_0x543ce2[_0x29e969(0x391)])return;if(0x0===_0x543ce2[_0x29e969(0x923)][_0x29e969(0x999)][_0x29e969(0x39c)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x506768=[];const _0x192087=Date[_0x29e969(0x449)]();try{let _0x228059=0x0,_0x240112=0x0;for(const _0x1a1f1e of _0x543ce2['accumulated'][_0x29e969(0x999)]){const _0x742496=_0x543ce2['retrieveBlocks']['find'](_0x4cd417=>_0x4cd417[_0x29e969(0x4e7)]===_0x19f002[_0x29e969(0x219)]),_0x1749be=await _0xfac642(_0x338a5c,_0xe3cb14[_0x29e969(0x9ac)],_0x1a1f1e,_0x742496,_0x543ce2[_0x29e969(0x68e)],_0x5ac6df);_0x506768=Array[_0x29e969(0x2ce)](new Set([..._0x506768,..._0x1749be[_0x29e969(0x996)]])),_0x228059+=_0x1749be[_0x29e969(0x3ad)]??0x0,_0x240112+=_0x1749be[_0x29e969(0x471)]??0x0;}_0x4eefd5[_0x29e969(0x3ad)]+=_0x228059,_0x4eefd5[_0x29e969(0x471)]+=_0x240112,_0x4eefd5[_0x29e969(0x996)]=Array[_0x29e969(0x2ce)](new Set([..._0x4eefd5['context'],..._0x506768])),_0x5dfb84[_0x29e969(0x9a2)]({'jobType':_0x223e6b[_0x29e969(0x610)],'type':_0x5b1a12[_0x29e969(0x6bd)],'jobId':_0x338a5c,'threadId':_0xe3cb14[_0x29e969(0x9ac)],'traceLevel':_0xf41146[_0x29e969(0x262)],'startTime':_0x192087,'timestamp':Date[_0x29e969(0x449)](),'blockId':_0x543ce2['id'],'status':_0x29e969(0x44c),'queries':_0x543ce2[_0x29e969(0x923)][_0x29e969(0x999)],'context':_0x506768,'inputTokens':_0x228059,'outputTokens':_0x240112});}catch(_0x3e8923){console[_0x29e969(0x646)](_0x3e8923),_0x5dfb84[_0x29e969(0x9a2)]({'jobType':_0x223e6b[_0x29e969(0x610)],'type':_0x5b1a12[_0x29e969(0x6bd)],'jobId':_0x338a5c,'threadId':_0xe3cb14[_0x29e969(0x9ac)],'traceLevel':_0xf41146[_0x29e969(0x262)],'startTime':_0x192087,'timestamp':Date['now'](),'blockId':_0x543ce2['id'],'status':_0x29e969(0x646),'queries':_0x543ce2[_0x29e969(0x923)][_0x29e969(0x999)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x19aa4b(_0x506768,_0x543ce2,_0x471b77),await _0xeb4500(_0x338a5c,_0x506768,_0xe3cb14,_0x4eefd5,_0x543ce2,_0x471b77,_0x5ac6df,_0x2db1db);}async function _0x36cbf4(_0x31fb74,_0x1b2921,_0x3443a5,_0x2bad04,_0x37ced5,_0x206f75,_0xb07b27,_0x2df3da){const _0x49dfe7=_0x2f335d,_0xf1b4c=await _0xb07b27[_0x49dfe7(0x265)][_0x49dfe7(0x91)](_0x1b2921);await _0xeb4500(_0x31fb74,_0xf1b4c,_0x3443a5,_0x2bad04,_0x37ced5,_0x206f75,_0xb07b27,_0x2df3da);}async function _0x318ac4(_0x23b2ab,_0x185796,_0x2c9cf5,_0x2464cc,_0x4c2c0a,_0x36a8aa,_0x2bffe7,_0x54f7ad){const _0xe7e479=function(_0x1fefe6,_0x19238f){const _0x3d4c57=a0_0x2fcc,_0x3fa5cf=[],_0x418ff4=_0x1fefe6[_0x3d4c57(0x187)]('\x20');let _0x9bbedb='',_0x1967db=0x0,_0x1bab36=0x0,_0x2f444c=0x0;for(const _0x2b47d9 of _0x418ff4){if(_0x9bbedb[_0x3d4c57(0x39c)]+_0x2b47d9['length']>_0x19238f['attributes'][_0x3d4c57(0x15b)]){let _0x19bc51=_0x1967db,_0x3f414d='';for(;_0x19bc51>=0x0&&_0x3f414d[_0x3d4c57(0x39c)]+_0x418ff4[_0x19bc51][_0x3d4c57(0x39c)]<_0x19238f[_0x3d4c57(0x69c)][_0x3d4c57(0x347)];)_0x3f414d=_0x418ff4[_0x19bc51]+'\x20'+_0x3f414d,_0x19bc51--;let _0x258e1b=_0x1bab36,_0x231676='';for(;_0x258e1b<_0x418ff4['length']&&_0x231676[_0x3d4c57(0x39c)]+_0x418ff4[_0x258e1b]['length']<_0x19238f['attributes']['overlap'];)_0x231676+=_0x418ff4[_0x258e1b]+'\x20',_0x258e1b++;_0x9bbedb=_0x3f414d+_0x9bbedb+_0x231676,_0x3fa5cf[_0x3d4c57(0x6e4)](_0x9bbedb[_0x3d4c57(0x2b3)]()),_0x9bbedb='',_0x1967db=_0x1bab36;}_0x9bbedb+=_0x2b47d9+'\x20',_0x1bab36++,_0x2f444c+=_0x2b47d9[_0x3d4c57(0x39c)]+0x1;}if(_0x9bbedb[_0x3d4c57(0x39c)]>0x0){let _0x4e39f5=_0x1967db,_0x569faf='';for(;_0x4e39f5>=0x0&&_0x569faf['length']+_0x418ff4[_0x4e39f5][_0x3d4c57(0x39c)]<_0x19238f[_0x3d4c57(0x69c)][_0x3d4c57(0x347)];)_0x569faf=_0x418ff4[_0x4e39f5]+'\x20'+_0x569faf,_0x4e39f5--;_0x9bbedb=_0x569faf+_0x9bbedb,_0x3fa5cf[_0x3d4c57(0x6e4)](_0x9bbedb[_0x3d4c57(0x2b3)]());}return _0x3fa5cf;}(_0x185796,_0x4c2c0a);await _0xeb4500(_0x23b2ab,_0xe7e479,_0x2c9cf5,_0x2464cc,_0x4c2c0a,_0x36a8aa,_0x2bffe7,_0x54f7ad);}function _0x19aa4b(_0xa659af,_0x15ceb3,_0x3dd9d8,_0x360db2){const _0x116063=_0x2f335d;if(_0x15ceb3[_0x116063(0x915)])for(const _0x23d7dc of _0x15ceb3['links']){if(_0x23d7dc[_0x116063(0x4e7)]!==_0x52a778[_0x116063(0x1df)])continue;const _0x1e9960=_0x3dd9d8[_0x116063(0x29d)](_0x1e7076=>_0x1e7076[_0x116063(0x926)]===_0x23d7dc['uid']);if(!_0x1e9960)continue;let _0x674ccd=_0x15ceb3['id'];switch(_0x360db2?_0x674ccd=_0x360db2:(_0x15ceb3[_0x116063(0x4e7)]===_0x3bbdbe[_0x116063(0x6bd)]&&(_0x674ccd=_0x15ceb3['name']),_0x15ceb3[_0x116063(0x4e7)]!==_0x3bbdbe[_0x116063(0x5e0)]&&_0x15ceb3[_0x116063(0x4e7)]!==_0x3bbdbe[_0x116063(0x12a)]&&_0x15ceb3[_0x116063(0x4e7)]!==_0x3bbdbe[_0x116063(0x6d3)]||(_0x674ccd=_0x15ceb3['contextOutputVariable']??_0x15ceb3[_0x116063(0xdd)])),_0x1e9960[_0x116063(0x4e7)]){case _0x3bbdbe[_0x116063(0x5e0)]:_0x5a023b[_0x116063(0xc1)](_0x116063(0x1cd),_0x1e9960[_0x116063(0xdd)],_0x674ccd),_0x1e9960['accumulated']||(_0x1e9960['accumulated']={}),_0x1e9960['accumulated'][_0x116063(0x996)]||(_0x1e9960[_0x116063(0x923)]['context']={});const _0x38f4df=_0x1e9960[_0x116063(0x106)]?.[_0x116063(0x187)](',');if(!(_0x38f4df&&_0x38f4df[_0x116063(0x4a7)](_0x674ccd)||'file-upload'===_0x674ccd))return;_0x1e9960[_0x116063(0x923)][_0x116063(0x996)][_0x674ccd]=_0xa659af;break;case _0x3bbdbe[_0x116063(0x12a)]:_0x5a023b['forceLog'](_0x116063(0x6a4),_0x1e9960['name'],_0x674ccd),_0x5b6e32(_0x674ccd,_0xa659af,_0x1e9960);break;case _0x3bbdbe['Answer']:_0x5a023b[_0x116063(0xc1)](_0x116063(0x633),_0x674ccd),_0x4a5141(_0x23d7dc[_0x116063(0x4e7)],_0x674ccd,_0xa659af,_0x1e9960);break;case _0x3bbdbe[_0x116063(0x6d3)]:_0x5a023b[_0x116063(0xc1)](_0x116063(0x49d),_0x1e9960[_0x116063(0xdd)],_0x674ccd),_0x7c9520(_0x674ccd,_0xa659af,_0x1e9960);}}}async function _0xeb4500(_0x38b35f,_0x162dde,_0x3eb6cc,_0x874ea2,_0x1f8407,_0x3c45e3,_0x47b91d,_0x50a48a){const _0xfc4e2c=_0x2f335d;if(await _0x438e57['wait'](0x1),_0x1f8407['links']){for(const _0x5a40b3 of _0x1f8407[_0xfc4e2c(0x915)]){if(_0x5a40b3[_0xfc4e2c(0x4e7)]===_0x52a778['Context'])continue;const _0x220342=_0x3c45e3[_0xfc4e2c(0x29d)](_0x551eeb=>_0x551eeb[_0xfc4e2c(0x926)]===_0x5a40b3['uid']);if(_0x220342)switch(_0x220342['type']){case _0x3bbdbe['Agent']:await _0x4b5f68(_0x38b35f,_0x5a40b3['type'],_0x162dde,_0x3eb6cc,_0x874ea2,_0x220342,_0x3c45e3,_0x47b91d,_0x50a48a);break;case _0x3bbdbe['ChunkSplitter']:await _0x21ae17(_0x38b35f,_0x162dde,_0x3eb6cc,_0x874ea2,_0x220342,_0x3c45e3,_0x47b91d,_0x50a48a);break;case _0x3bbdbe[_0xfc4e2c(0x6bd)]:await _0xfdb49e(_0x38b35f,_0x162dde,_0x3eb6cc,_0x874ea2,_0x220342,_0x3c45e3,_0x47b91d,_0x50a48a);break;case _0x3bbdbe[_0xfc4e2c(0x7a0)]:await _0x36cbf4(_0x38b35f,_0x162dde,_0x3eb6cc,_0x874ea2,_0x220342,_0x3c45e3,_0x47b91d,_0x50a48a);break;case _0x3bbdbe[_0xfc4e2c(0x1de)]:await _0x318ac4(_0x38b35f,_0x162dde,_0x3eb6cc,_0x874ea2,_0x220342,_0x3c45e3,_0x47b91d,_0x50a48a);}}_0x1f8407[_0xfc4e2c(0x4e7)]===_0x3bbdbe[_0xfc4e2c(0x219)]&&_0x50a48a&&_0x50a48a['emit'](void 0x0);}else _0x1f8407[_0xfc4e2c(0x4e7)]===_0x3bbdbe[_0xfc4e2c(0x219)]&&_0x50a48a&&_0x50a48a[_0xfc4e2c(0x336)](void 0x0);}function _0x5d9de6(_0x5d6778,_0x21e4c9){const _0x3fd5d7=_0x2f335d;let _0x3380a0=0x0;for(const _0x5c013b of _0x21e4c9)for(const _0x23ee35 of _0x5c013b['links']??[])_0x23ee35[_0x3fd5d7(0x4e7)]!==_0x52a778['Context']&&_0x23ee35[_0x3fd5d7(0x4e7)]!==_0x52a778['Knowledge']&&_0x23ee35['type']!==_0x52a778[_0x3fd5d7(0x27c)]&&_0x23ee35[_0x3fd5d7(0x926)]===_0x5d6778['uid']&&_0x3380a0++;return _0x3380a0;}async function _0x330bf0(_0x17e3dc,_0x4bad48,_0xf70dba,_0x3c4072){const _0x292551=_0x2f335d;if(0x0===_0x17e3dc['length'])return;let _0x12395c=_0x292551(0x4dc);for(const _0x34783e of _0x17e3dc)if(_0x34783e['type'][_0x292551(0x60c)]('text/')||_0x1f214d(_0x34783e[_0x292551(0xdd)],_0x981dc9))_0x12395c+='\x0a<'+_0x34783e[_0x292551(0xdd)]+'>\x0a'+await _0x34783e['text']()+_0x292551(0x927)+_0x34783e['name']+'>';else{if(!_0x3c4072[_0x292551(0x601)]['supports'](_0x34783e))throw new Error(_0x292551(0xd9)+_0x34783e[_0x292551(0x4e7)]+_0x292551(0x664)+_0x34783e[_0x292551(0xdd)]);_0x12395c+='\x0a<'+_0x34783e['name']+'>\x0a'+await _0x3c4072[_0x292551(0x601)]['parse'](_0x34783e)+_0x292551(0x927)+_0x34783e[_0x292551(0xdd)]+'>';}_0x12395c+=_0x292551(0x1fd),_0x19aa4b(_0x12395c,_0x4bad48,_0xf70dba,_0x292551(0x835));}function _0x5b8c35(_0x45f0c8,_0x493b65){const _0x213866=_0x2f335d;_0x493b65[_0x213866(0x923)]||(_0x493b65[_0x213866(0x923)]={}),_0x493b65[_0x213866(0x923)][_0x213866(0x86e)]=_0x45f0c8;}async function _0x2e13ab(_0x5386d7,_0x460740,_0x4bcca1,_0x173a40){const _0x4093cf=_0x2f335d;if(_0x5386d7[_0x4093cf(0x86e)]&&_0x460740[_0x4093cf(0x915)]){const _0x333cdf=[];for(const _0x120bf8 of _0x5386d7[_0x4093cf(0x86e)])_0x333cdf[_0x4093cf(0x6e4)](_0x26d6ed(_0x120bf8));for(const _0x36f3f5 of _0x460740[_0x4093cf(0x915)])if('file'===_0x36f3f5[_0x4093cf(0x4e7)]){const _0x7ac779=_0x4bcca1[_0x4093cf(0x29d)](_0x31e4c7=>_0x31e4c7[_0x4093cf(0x926)]===_0x36f3f5[_0x4093cf(0x926)]);if(!_0x7ac779)continue;_0x7ac779[_0x4093cf(0x4e7)]===_0x3bbdbe['DocumentParser']&&await _0x330bf0(_0x333cdf,_0x7ac779,_0x4bcca1,_0x173a40),_0x7ac779[_0x4093cf(0x4e7)]===_0x3bbdbe[_0x4093cf(0x60d)]&&_0x5b8c35(_0x333cdf,_0x7ac779);}}}function _0x26d6ed(_0x16b5bb){const _0x2fcabf=_0x2f335d,_0x173a45=atob(_0x16b5bb[_0x2fcabf(0x569)]),_0x4e030d=_0x173a45['length'],_0x194086=new ArrayBuffer(_0x4e030d),_0x505b88=new Uint8Array(_0x194086);for(let _0x6d5f5=0x0;_0x6d5f5<_0x4e030d;_0x6d5f5++)_0x505b88[_0x6d5f5]=_0x173a45[_0x2fcabf(0x1ec)](_0x6d5f5);return new File([_0x505b88],_0x16b5bb[_0x2fcabf(0xdd)],{'type':_0x16b5bb['type']});}class _0x3bc721 extends _0x50160d{[_0x2f335d(0x6c3)];['vendorId'];[_0x2f335d(0x2d5)];['generativeAIWorkerConnectors'];[_0x2f335d(0x601)];['nlpLibraryConnector'];[_0x2f335d(0x1bc)];[_0x2f335d(0x542)];['searchConnector'];[_0x2f335d(0x889)];[_0x2f335d(0x8a3)];[_0x2f335d(0x499)];['modelStore'];[_0x2f335d(0x136)]=new Map();[_0x2f335d(0x118)]=new Map();[_0x2f335d(0x644)];[_0x2f335d(0x36f)]=new Map();['debounceStats'];[_0x2f335d(0x14a)]=0x0;[_0x2f335d(0x10d)]=0x0;['isOpened']=!0x1;['contentQueue']=[];[_0x2f335d(0x1ac)]=!0x1;constructor(_0x9c182f,_0x27c82a,_0xfb90d1,_0x49a19f,_0xa87064,_0x46e231,_0x412d38,_0x4d95af,_0xcb898f,_0x1c97d0,_0x1ae0cf,_0x20da11,_0x1046d1){const _0x19972b=_0x2f335d;super(_0x9c182f,_0x27c82a,_0x49a19f),this[_0x19972b(0x6c3)]=_0x9c182f,this[_0x19972b(0xa5)]=_0xfb90d1,this['contentMediator']=_0xa87064,this[_0x19972b(0x2a4)]=_0x46e231,this[_0x19972b(0x601)]=_0x412d38,this[_0x19972b(0x265)]=_0x4d95af,this[_0x19972b(0x1bc)]=_0xcb898f,this['aiSearchApiKey']=_0x1c97d0,this[_0x19972b(0x642)]=_0x1ae0cf,this['aiSearchConnector']=_0x20da11,this[_0x19972b(0x8a3)]=_0x1046d1;}async[_0x2f335d(0x7f0)](){const _0x102ae8=_0x2f335d;for(const _0x48f82e of this[_0x102ae8(0x2a4)])await _0x48f82e['close']();this['modelStore']?.[_0x102ae8(0x5be)](this[_0x102ae8(0x2b4)]),this['dataStores'][_0x102ae8(0x82f)](_0x8228d9=>_0x8228d9[_0x102ae8(0x5be)](this['label'])),this[_0x102ae8(0x7a1)]&&(clearTimeout(this[_0x102ae8(0x7a1)]),delete this[_0x102ae8(0x7a1)]),super['destroy']();}async['open'](_0x5e684f=!0x1){const _0x282f0a=_0x2f335d;if(this[_0x282f0a(0x846)])super[_0x282f0a(0x8d6)]();else{if(_0x5a023b['forceLog'](_0x282f0a(0x669),this[_0x282f0a(0x2b4)]),this['workflow']=await _0x17a73e[_0x282f0a(0x117)](this['vendorId'],this[_0x282f0a(0x2b4)]),this['modelStore']=this[_0x282f0a(0x2d5)][_0x282f0a(0x429)](this[_0x282f0a(0x499)]['modelsBucketId']),!this[_0x282f0a(0x98c)])throw new Error(_0x282f0a(0x2e2));this[_0x282f0a(0x670)](),_0x5a023b[_0x282f0a(0xc1)]('GenerativeAIWorker:\x20Models',this['workflow'][_0x282f0a(0x36f)]);for(const _0x5f1199 of this[_0x282f0a(0x499)]['models'])try{let _0x33a750;_0x5f1199[_0x282f0a(0x66f)]===_0x47407f[_0x282f0a(0x1af)][_0x282f0a(0x754)]&&(_0x33a750=await this[_0x282f0a(0x2a5)]('/'+_0x5f1199['id']+_0x9be080)),this[_0x282f0a(0x36f)][_0x282f0a(0x120)](_0x5f1199['id'],{'id':_0x5f1199['id'],'engineType':_0x5f1199[_0x282f0a(0x66f)],'taskType':_0x5f1199['taskType'],'inputType':_0x5f1199['inputType'],'outputType':_0x5f1199[_0x282f0a(0x8bf)],'sourceUrl':_0x5f1199['sourceUrl'],'pathName':_0x33a750});}catch(_0x587ff8){await this[_0x282f0a(0x98c)][_0x282f0a(0x620)]({'action':_0x47407f['PayloadAction']['File'],'file':new File([''],''+_0x5f1199['id']+_0x9be080),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x5f1199[_0x282f0a(0x8f8)]}}),this[_0x282f0a(0x36f)][_0x282f0a(0x120)](_0x5f1199['id'],{'id':_0x5f1199['id'],'engineType':_0x5f1199[_0x282f0a(0x66f)],'taskType':_0x5f1199[_0x282f0a(0x677)],'inputType':_0x5f1199[_0x282f0a(0x830)],'outputType':_0x5f1199[_0x282f0a(0x8bf)],'sourceUrl':_0x5f1199[_0x282f0a(0x8f8)],'pathName':await this[_0x282f0a(0x2a5)]('/'+_0x5f1199['id']+_0x9be080)});}try{for(const _0x37a97c of this[_0x282f0a(0x2a4)])await _0x37a97c[_0x282f0a(0x8f7)](this[_0x282f0a(0x2b4)],this['models']);}catch(_0x4c5b35){return this['open'](_0x5e684f);}for(const _0x1a8282 of this[_0x282f0a(0x499)][_0x282f0a(0x930)])this[_0x282f0a(0x136)]['set'](_0x1a8282,this[_0x282f0a(0x2d5)][_0x282f0a(0x429)](_0x1a8282));await this[_0x282f0a(0xd8)](),this[_0x282f0a(0x96b)]();for(const _0x523378 of this[_0x282f0a(0x499)][_0x282f0a(0x9c0)])this[_0x282f0a(0x118)][_0x282f0a(0x120)](_0x523378,this[_0x282f0a(0x2d5)]['getExternalStorageConnection'](_0x523378));await this[_0x282f0a(0x45e)](),this['subscribeToExternalContent'](),this[_0x282f0a(0x846)]=!0x0,this[_0x282f0a(0x938)](),super['open'](),_0x5a023b[_0x282f0a(0xc1)]('GenerativeAIWorker:\x20Opened',this[_0x282f0a(0x2b4)]);}}[_0x2f335d(0x2fe)](){const _0x1686c3=_0x2f335d;this[_0x1686c3(0x14a)]=0x0,this['tokens']=0x0,this[_0x1686c3(0x938)](),super['reset']();}[_0x2f335d(0x697)](){const _0x27785f=_0x2f335d;return this[_0x27785f(0x938)](),this[_0x27785f(0x7d8)]();}['compileStats'](_0x11a3bc,_0x3b5ceb,_0x1ba990){const _0x20423a=_0x2f335d,{outputTokens:_0x4e7570=0x0,output:_0x5f4ecb=''}=_0x11a3bc,_0x3ec599=_0x4e7570/((_0x1ba990-_0x3b5ceb)/0x3e8);this[_0x20423a(0x14a)]+=0x1,this['tokens']+=_0x4e7570,this[_0x20423a(0xf8)](_0x3ec599,_0x4e7570),this[_0x20423a(0x938)]();}[_0x2f335d(0x19d)](_0x8925d5,_0x20a545){const _0x30aaab=_0x2f335d;return _0x8925d5[_0x30aaab(0x36a)]=_0x8925d5[_0x30aaab(0x36a)]??'',{'type':_0x30aaab(0x650),'output':_0x30aaab(0x9d9)==typeof _0x8925d5[_0x30aaab(0x36a)]&&'string'==typeof _0x20a545[_0x30aaab(0x36a)]?_0x8925d5[_0x30aaab(0x36a)]+_0x20a545[_0x30aaab(0x36a)]:_0x20a545['output'],'outputTokens':_0x20a545[_0x30aaab(0x471)]??_0x8925d5[_0x30aaab(0x471)],'inputTokens':_0x20a545['inputTokens']??_0x8925d5[_0x30aaab(0x3ad)]};}async[_0x2f335d(0x816)](_0xa6f625,_0x547f09){const _0x47b719=_0x2f335d;if(this[_0x47b719(0x499)]=await _0x17a73e[_0x47b719(0x117)](this[_0x47b719(0xa5)],this[_0x47b719(0x2b4)]),_0x47b719(0x650)===_0x547f09[_0x47b719(0x4e7)]){const _0x20cc20=this['workflow'][_0x47b719(0x6a6)][_0x47b719(0x29d)](_0x29e9db=>_0x29e9db['type']===_0x3bbdbe[_0x47b719(0x219)]),_0x8d6858=await async function(_0x2fb994,_0xf5385b,_0x9d6b03,_0x44ed76,_0x397c4f){const _0xa591c0=_0x47b719,_0x136338=(0x0,_0x2d9acc['v4'])(),_0x10d218=Date[_0xa591c0(0x449)]();if(_0x5dfb84[_0xa591c0(0x9a2)]({'jobType':_0x223e6b[_0xa591c0(0x610)],'type':_0x5b1a12[_0xa591c0(0xb6)],'jobId':_0x2fb994,'blockId':_0x9d6b03['id'],'agentId':_0x136338,'threadId':_0xf5385b[_0xa591c0(0x9ac)],'traceLevel':_0xf41146[_0xa591c0(0x262)],'startTime':Date['now'](),'timestamp':Date[_0xa591c0(0x449)](),'status':_0xa591c0(0x44c),'initialPrompt':_0xf5385b['prompt']}),await _0x2e13ab(_0xf5385b,_0x9d6b03,_0x44ed76,_0x397c4f),_0xf5385b[_0xa591c0(0x858)]){for(const _0x428486 in _0xf5385b[_0xa591c0(0x858)])_0x19aa4b(_0xf5385b['internalContext'][_0x428486],_0x9d6b03,_0x44ed76,_0x428486);}const _0x144791={'type':_0xf5385b[_0xa591c0(0x4e7)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0xeb4500(_0x2fb994,''+_0xf5385b[_0xa591c0(0x650)],_0xf5385b,_0x144791,_0x9d6b03,_0x44ed76,_0x397c4f);const {inputTokens:_0x422fa0=0x0,outputTokens:_0x5b8ae8=0x0,context:_0x5cf038=[]}=_0x144791;return _0x5dfb84['trace']({'jobType':_0x223e6b[_0xa591c0(0x610)],'type':_0x5b1a12['FinalOutput'],'jobId':_0x2fb994,'agentId':_0x136338,'threadId':_0xf5385b['threadId'],'traceLevel':_0xf41146[_0xa591c0(0x262)],'startTime':_0x10d218,'timestamp':Date[_0xa591c0(0x449)](),'blockId':_0x9d6b03['id'],'status':'success','output':_0x144791['output']?.[_0xa591c0(0x742)]()??'','prompt':_0xf5385b[_0xa591c0(0x650)],'agentName':'','history':_0xf5385b[_0xa591c0(0x293)]??[],'instructions':''+(_0xf5385b[_0xa591c0(0x77f)]??''),'ragContext':_0x5cf038,'inputTokens':_0x422fa0,'outputTokens':_0x5b8ae8}),{'type':_0xf5385b[_0xa591c0(0x4e7)],'output':_0x144791[_0xa591c0(0x36a)],'context':_0x144791['context'],'internalContext':_0x44ed76[_0xa591c0(0x29d)](_0x73cf3c=>_0x73cf3c[_0xa591c0(0x4e7)]===_0x3bbdbe['Answer'])?.['accumulated']?.[_0xa591c0(0x996)]??{},'inputTokens':_0x144791[_0xa591c0(0x3ad)]??0x0,'outputTokens':_0x144791[_0xa591c0(0x471)]??0x0};}(_0xa6f625,_0x547f09,_0x20cc20,this[_0x47b719(0x499)]['blocks'],{'documentParserConnector':this[_0x47b719(0x601)],'nlpLibraryConnector':this[_0x47b719(0x265)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this['workflow'][_0x47b719(0x36f)],'contentMediator':this[_0x47b719(0x2d5)],'searchApiKey':this[_0x47b719(0x1bc)],'aiSearchApiKey':this[_0x47b719(0x542)],'searchConnector':this[_0x47b719(0x642)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x47b719(0x8a3)]});return _0x8d6858;}if(_0x47b719(0x6aa)===_0x547f09[_0x47b719(0x4e7)])return _0x5dfb84[_0x47b719(0x9a2)]({'jobType':_0x223e6b[_0x47b719(0x36d)],'type':_0x37758c[_0x47b719(0x5d8)],'jobId':_0x547f09[_0x47b719(0x671)],'threadId':_0x547f09['threadId'],'traceLevel':_0xf41146[_0x47b719(0x262)],'startTime':Date[_0x47b719(0x449)](),'timestamp':Date['now'](),'status':_0x47b719(0x44c),'rating':_0x547f09['rating'],'feedback':_0x547f09[_0x47b719(0x862)]}),{'type':_0x47b719(0x6aa),'status':_0x47407f[_0x47b719(0x5ed)][_0x47b719(0x5aa)]};if(_0x47b719(0x703)===_0x547f09['type']){let _0xaf9223;const _0x1e1d59=this['dataStores'][_0x47b719(0x502)]();for(;!_0xaf9223;){const _0x2ba02b=_0x1e1d59[_0x47b719(0x254)]()[_0x47b719(0x98e)];if(!_0x2ba02b)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0xaf9223=this['dataStores'][_0x47b719(0x389)](_0x2ba02b);try{const _0x5a208e=await _0xaf9223[_0x47b719(0x389)](_0x547f09[_0x47b719(0x455)]);return{'type':'downloadDocument','fileName':_0x5a208e[_0x47b719(0xdd)],'mimeType':_0x5a208e[_0x47b719(0x4e7)],'document':await _0x5a208e[_0x47b719(0x63a)]()};}catch(_0x2a39c4){continue;}}throw new Error(_0x47b719(0x26d));}throw new Error(_0x47b719(0x5d3));}async*[_0x2f335d(0x156)](_0x408845,_0xa9f504){const _0xf238d3=_0x2f335d;this[_0xf238d3(0x499)]=await _0x17a73e[_0xf238d3(0x117)](this[_0xf238d3(0xa5)],this[_0xf238d3(0x2b4)]);const _0x5a2ac1=this[_0xf238d3(0x499)][_0xf238d3(0x6a6)][_0xf238d3(0x29d)](_0x3189db=>_0x3189db[_0xf238d3(0x4e7)]===_0x3bbdbe[_0xf238d3(0x219)]);for await(const _0x24346c of async function*(_0x59aa0b,_0x45da44,_0x5dedfc,_0x28ea3d,_0x1996c1){const _0xfa4976=_0xf238d3,_0x5c1fcc=(0x0,_0x2d9acc['v4'])(),_0x5d283a=Date[_0xfa4976(0x449)]();if(_0x5dfb84['trace']({'jobType':_0x223e6b[_0xfa4976(0x610)],'type':_0x5b1a12[_0xfa4976(0xb6)],'jobId':_0x59aa0b,'agentId':_0x5c1fcc,'threadId':_0x45da44[_0xfa4976(0x9ac)],'traceLevel':_0xf41146[_0xfa4976(0x262)],'startTime':Date[_0xfa4976(0x449)](),'timestamp':Date[_0xfa4976(0x449)](),'blockId':_0x5dedfc['id'],'status':_0xfa4976(0x44c),'initialPrompt':_0x45da44[_0xfa4976(0x650)]}),await _0x2e13ab(_0x45da44,_0x5dedfc,_0x28ea3d,_0x1996c1),_0x45da44[_0xfa4976(0x858)]){for(const _0x4fae46 in _0x45da44[_0xfa4976(0x858)])_0x19aa4b(_0x45da44['internalContext'][_0x4fae46],_0x5dedfc,_0x28ea3d,_0x4fae46);}const _0x566e55={'type':_0x45da44['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x114f76=new _0x39333c();_0xeb4500(_0x59aa0b,''+_0x45da44[_0xfa4976(0x650)],_0x45da44,_0x566e55,_0x5dedfc,_0x28ea3d,_0x1996c1,_0x114f76);let _0x117f28='',_0x311b56={'type':_0x45da44[_0xfa4976(0x4e7)]};for(;;){const _0x1f256b=await _0x114f76[_0xfa4976(0x38d)]();if(!_0x1f256b)break;_0x117f28+=_0x1f256b['output'],_0x311b56={'type':_0x45da44['type'],'output':_0x1f256b['output'],'context':_0x566e55[_0xfa4976(0x996)],'internalContext':{},'inputTokens':(_0x566e55['inputTokens']??0x0)+(_0x1f256b[_0xfa4976(0x3ad)]??0x0),'outputTokens':(_0x566e55[_0xfa4976(0x471)]??0x0)+(_0x1f256b[_0xfa4976(0x471)]??0x0)},yield _0x311b56;}yield{..._0x311b56,'output':'','internalContext':_0x28ea3d['find'](_0x2bec92=>_0x2bec92[_0xfa4976(0x4e7)]===_0x3bbdbe[_0xfa4976(0x7f2)])?.[_0xfa4976(0x923)]?.[_0xfa4976(0x996)]??{}};const {inputTokens:_0x5bd4dd=0x0,outputTokens:_0x108342=0x0,context:_0x1ffcde=[]}=_0x311b56;_0x5dfb84[_0xfa4976(0x9a2)]({'jobType':_0x223e6b[_0xfa4976(0x610)],'type':_0x5b1a12[_0xfa4976(0xf0)],'jobId':_0x59aa0b,'agentId':_0x5c1fcc,'threadId':_0x45da44['threadId'],'traceLevel':_0xf41146[_0xfa4976(0x262)],'startTime':_0x5d283a,'timestamp':Date[_0xfa4976(0x449)](),'blockId':_0x5dedfc['id'],'status':_0xfa4976(0x44c),'output':_0x117f28,'prompt':_0x45da44['prompt'],'agentName':'','history':_0x45da44[_0xfa4976(0x293)]??[],'instructions':''+(_0x45da44[_0xfa4976(0x77f)]??''),'ragContext':_0x1ffcde,'inputTokens':_0x5bd4dd,'outputTokens':_0x108342});}(_0x408845,_0xa9f504,_0x5a2ac1,this[_0xf238d3(0x499)][_0xf238d3(0x6a6)],{'documentParserConnector':this[_0xf238d3(0x601)],'nlpLibraryConnector':this[_0xf238d3(0x265)],'generativeAIWorkerConnectors':this[_0xf238d3(0x2a4)],'models':this['workflow'][_0xf238d3(0x36f)],'contentMediator':this[_0xf238d3(0x2d5)],'searchApiKey':this[_0xf238d3(0x1bc)],'aiSearchApiKey':this[_0xf238d3(0x542)],'searchConnector':this[_0xf238d3(0x642)],'aiSearchConnector':this[_0xf238d3(0x889)],'queryFileConnector':this[_0xf238d3(0x8a3)]}))yield _0x24346c;}['startTracing'](_0x497a7a,_0x558d53){const _0x45a7d9=_0x2f335d;if(_0x45a7d9(0x6aa)===_0x558d53['type'])return _0x497a7a=_0x558d53[_0x45a7d9(0x671)],void this[_0x45a7d9(0x497)](_0x497a7a);this[_0x45a7d9(0x497)](_0x497a7a),_0x5dfb84['trace']({'jobType':_0x223e6b['Job'],'type':_0x46723d[_0x45a7d9(0x40d)],'traceLevel':_0xf41146[_0x45a7d9(0x262)],'jobId':_0x497a7a,'threadId':_0x558d53['threadId'],'startTime':Date[_0x45a7d9(0x449)](),'timestamp':Date[_0x45a7d9(0x449)](),'status':_0x45a7d9(0x44c)});}[_0x2f335d(0x9bf)](_0xaccdf6,_0x4fa7b3){const _0x41aadf=_0x2f335d;if(_0x41aadf(0x6aa)===_0x4fa7b3[_0x41aadf(0x4e7)])return _0xaccdf6=_0x4fa7b3[_0x41aadf(0x671)],void this[_0x41aadf(0x425)](_0xaccdf6);_0x5dfb84[_0x41aadf(0x9a2)]({'jobType':_0x223e6b['Job'],'type':_0x46723d[_0x41aadf(0x891)],'traceLevel':_0xf41146['Info'],'jobId':_0xaccdf6,'threadId':_0x4fa7b3[_0x41aadf(0x9ac)],'startTime':Date[_0x41aadf(0x449)](),'timestamp':Date['now'](),'status':_0x41aadf(0x44c)}),this[_0x41aadf(0x425)](_0xaccdf6);}async[_0x2f335d(0x2a5)](_0x95707e){const _0x424cdf=_0x2f335d;if(!this[_0x424cdf(0x98c)])throw new Error(_0x424cdf(0x2e2));const _0x511dbc=await this[_0x424cdf(0x98c)][_0x424cdf(0x684)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x560e9f of _0x511dbc)if(_0x560e9f[_0x424cdf(0x434)]===_0x47407f[_0x424cdf(0x7d7)][_0x424cdf(0x113)]&&_0x560e9f[_0x424cdf(0x277)]===_0x95707e)return _0x560e9f[_0x424cdf(0x6c0)]??_0x560e9f['pathName'];throw new Error('Model\x20not\x20found:\x20'+_0x95707e);}async[_0x2f335d(0xd8)](){const _0x68a23f=_0x2f335d;if(!this[_0x68a23f(0x499)])throw new Error(_0x68a23f(0x786));for(const _0x3a8213 of this['dataStores'][_0x68a23f(0x349)]())try{const _0x3da3c5=this[_0x68a23f(0x499)][_0x68a23f(0x6a6)][_0x68a23f(0x379)](_0x44e4ac=>(_0x44e4ac[_0x68a23f(0x4e7)]===_0x3bbdbe[_0x68a23f(0x6bd)]||_0x44e4ac[_0x68a23f(0x4e7)]===_0x3bbdbe[_0x68a23f(0x8bd)])&&_0x44e4ac[_0x68a23f(0x2a3)]?.['some'](_0x1953be=>_0x1953be['id']===_0x3a8213[_0x68a23f(0x20c)]()));for(let _0x2ab355=_0x3da3c5[_0x68a23f(0x39c)]-0x1;_0x2ab355>=0x0;_0x2ab355--)for(const _0x493aad of _0x3da3c5[_0x2ab355][_0x68a23f(0x2a3)]??[])_0x493aad[_0x68a23f(0x4e7)]===_0x19f002[_0x68a23f(0x485)]&&this['contentMediator'][_0x68a23f(0x315)](_0x493aad['id'])[_0x68a23f(0x426)]()&&_0x3da3c5[_0x68a23f(0x5b0)](_0x2ab355,0x1),_0x493aad[_0x68a23f(0x4e7)]===_0x19f002['GraphDatabase']&&this[_0x68a23f(0x2d5)][_0x68a23f(0x76c)](_0x493aad['id'])['getIsLoaded']()&&_0x3da3c5['splice'](_0x2ab355,0x1);const _0x51e64e=new Map();let _0x5cf760=!0x1;for(const _0x2314e6 of _0x3da3c5){let _0x5b7397=''+(_0x2314e6[_0x68a23f(0x2f9)]??0x1);for(const _0x3707be of _0x2314e6['ingestBlocks']??[])_0x3707be[_0x68a23f(0x4e7)]===_0x19f002[_0x68a23f(0x5e0)]&&(_0x5b7397=_0x5b7397+'-'+(_0x3707be[_0x68a23f(0x2f9)]??0x1));for(const _0x481092 of _0x2314e6[_0x68a23f(0x2a3)]??[])_0x481092['type']===_0x19f002[_0x68a23f(0x485)]&&_0x51e64e[_0x68a23f(0x120)](_0x481092['id'],{'version':_0x5b7397,'getDatabase':this['contentMediator'][_0x68a23f(0x315)][_0x68a23f(0x1b9)](this['contentMediator']),'block':_0x481092}),_0x481092[_0x68a23f(0x4e7)]===_0x19f002['GraphDatabase']&&_0x51e64e[_0x68a23f(0x120)](_0x481092['id'],{'version':_0x5b7397,'getDatabase':this[_0x68a23f(0x2d5)][_0x68a23f(0x76c)][_0x68a23f(0x1b9)](this[_0x68a23f(0x2d5)]),'block':_0x481092});}for(const {getDatabase:_0xbd8bb8,block:_0x3c4b74,version:_0x20d8bf}of _0x51e64e['values']())try{const _0x3ddac5=_0xbd8bb8(_0x3c4b74['id']);_0x3ddac5['loadFromDisk'](_0x20d8bf),_0x3ddac5[_0x68a23f(0x805)](!0x0),_0x5cf760=!0x0;}catch(_0x2d0dcb){_0x5cf760=!0x1;break;}if(_0x5a023b[_0x68a23f(0xc1)](_0x68a23f(0x59b)),_0x5cf760)continue;_0x5a023b['forceLog'](_0x68a23f(0x2f1));const _0xabe183=await _0x3a8213[_0x68a23f(0x684)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x68a23f(0x49f)](_0x1780d6[_0x68a23f(0x6ed)],_0x3a8213[_0x68a23f(0x9d4)](),_0xabe183);for(const {getDatabase:_0x15e015,block:_0x237692,version:_0x428047}of _0x51e64e[_0x68a23f(0x349)]()){const _0xd8f55f=_0x15e015(_0x237692['id']);_0xd8f55f['saveToDisk'](_0x428047),_0xd8f55f[_0x68a23f(0x805)](!0x0);}}catch(_0x3f1fe7){_0x5a023b[_0x68a23f(0x646)](_0x68a23f(0x4ec),{'nodeId':this[_0x68a23f(0x6c3)]['getId'](),'nodeType':this['localNode']['type']});}}async[_0x2f335d(0x45e)](){const _0x30b833=_0x2f335d;for(const _0x4d982c of this[_0x30b833(0x118)][_0x30b833(0x349)]())try{const _0x55bed1=await _0x4d982c[_0x30b833(0x684)]('/',{'recursive':!0x0});await this['syncFolder'](_0x1780d6['ExternalStorage'],_0x4d982c['getName'](),_0x55bed1);}catch(_0xe8555c){_0x5a023b['error'](_0x30b833(0x581),{'nodeId':this[_0x30b833(0x6c3)][_0x30b833(0x92c)](),'nodeType':this[_0x30b833(0x6c3)][_0x30b833(0x4e7)]});}}async[_0x2f335d(0x49f)](_0x5267de,_0xbe4483,_0x58dd46){const _0x5d298a=_0x2f335d;for(const _0x439c6e of _0x58dd46){if(_0x439c6e[_0x5d298a(0x434)]===_0x47407f[_0x5d298a(0x7d7)][_0x5d298a(0x242)]){if(!_0x439c6e[_0x5d298a(0x8dc)]||0x0===_0x439c6e['entries'][_0x5d298a(0x39c)])continue;await this['syncFolder'](_0x5267de,_0xbe4483,_0x439c6e[_0x5d298a(0x8dc)]);}_0x439c6e[_0x5d298a(0x434)]===_0x47407f[_0x5d298a(0x7d7)]['File']&&this[_0x5d298a(0x4a0)](_0x5267de,_0xbe4483,_0x439c6e[_0x5d298a(0x277)]);}return new Promise(_0xbf4d1d=>{const _0x4fda23=_0x5d298a,_0x622c6a=_0x438e57[_0x4fda23(0x182)](()=>{const _0x49cc19=_0x4fda23;0x0===this[_0x49cc19(0x5d7)][_0x49cc19(0x39c)]&&(_0x622c6a(),_0xbf4d1d());},0x1388);});}[_0x2f335d(0x96b)](){const _0x4846c1=_0x2f335d;for(const _0x36754a of this['dataStores']['values']())_0x36754a['subscribe'](this[_0x4846c1(0x2b4)],async _0x58e920=>{const _0x2562f7=_0x4846c1;switch(_0x58e920[_0x2562f7(0x8f1)]){case _0x47407f[_0x2562f7(0xa4)][_0x2562f7(0x705)]:this[_0x2562f7(0x2c6)](_0x1780d6[_0x2562f7(0x6ed)],_0x36754a[_0x2562f7(0x9d4)](),_0x58e920[_0x2562f7(0x46a)][_0x2562f7(0x85e)]['pathName']),this[_0x2562f7(0x4a0)](_0x1780d6[_0x2562f7(0x6ed)],_0x36754a[_0x2562f7(0x9d4)](),_0x58e920['payload'][_0x2562f7(0x85e)][_0x2562f7(0x277)]);break;case _0x47407f[_0x2562f7(0xa4)][_0x2562f7(0x550)]:this[_0x2562f7(0x2c6)](_0x1780d6[_0x2562f7(0x6ed)],_0x36754a[_0x2562f7(0x9d4)](),_0x58e920[_0x2562f7(0x46a)]['pathName']);}});}['subscribeToExternalContent'](){const _0x2d3e26=_0x2f335d;for(const _0x135a1c of this[_0x2d3e26(0x118)][_0x2d3e26(0x349)]())_0x135a1c['subscribe'](this[_0x2d3e26(0x2b4)],async _0x4629ae=>{const _0xd66102=_0x2d3e26;switch(_0x4629ae[_0xd66102(0x8f1)]){case _0x47407f[_0xd66102(0xa4)][_0xd66102(0x705)]:this[_0xd66102(0x2c6)](_0x1780d6[_0xd66102(0x42c)],_0x135a1c[_0xd66102(0x9d4)](),_0x4629ae[_0xd66102(0x46a)][_0xd66102(0x85e)][_0xd66102(0x277)]),this['addContent'](_0x1780d6[_0xd66102(0x42c)],_0x135a1c[_0xd66102(0x9d4)](),_0x4629ae[_0xd66102(0x46a)][_0xd66102(0x85e)][_0xd66102(0x277)]);break;case _0x47407f[_0xd66102(0xa4)][_0xd66102(0x550)]:this['removeContent'](_0x1780d6['ExternalStorage'],_0x135a1c[_0xd66102(0x9d4)](),_0x4629ae[_0xd66102(0x46a)][_0xd66102(0x277)]);}});}[_0x2f335d(0x4a0)](_0x2b15f8,_0x118d4b,_0x4c985c){const _0x2a8745=_0x2f335d;this[_0x2a8745(0x5d7)]['push']({'type':_0x2a8745(0xad),'storageType':_0x2b15f8,'storeId':_0x118d4b,'pathName':_0x4c985c}),this['processContentQueue']();}[_0x2f335d(0x2c6)](_0x1ca2e3,_0x2b4227,_0x9bfb3d){const _0x117c14=_0x2f335d;this[_0x117c14(0x5d7)]['push']({'type':'remove','storageType':_0x1ca2e3,'storeId':_0x2b4227,'pathName':_0x9bfb3d}),this[_0x117c14(0x125)]();}async[_0x2f335d(0x125)](){const _0x326590=_0x2f335d;if(!this[_0x326590(0x1ac)]){try{this[_0x326590(0x1ac)]=!0x0;const _0x53530f=this[_0x326590(0x5d7)][_0x326590(0x234)]();if(!_0x53530f)return;_0x326590(0xad)===_0x53530f[_0x326590(0x4e7)]?await this['processAddContent'](_0x53530f['storageType'],_0x53530f['storeId'],_0x53530f[_0x326590(0x277)]):this['processRemoveContent'](_0x53530f[_0x326590(0x982)],_0x53530f[_0x326590(0x2db)],_0x53530f[_0x326590(0x277)]);}catch(_0x3a1fa){_0x5a023b[_0x326590(0x646)](_0x326590(0x83e),{'nodeId':this[_0x326590(0x6c3)]['getId'](),'nodeType':this[_0x326590(0x6c3)][_0x326590(0x4e7)]});}this[_0x326590(0x1ac)]=!0x1,this[_0x326590(0x5d7)][_0x326590(0x39c)]>0x0&&this['processContentQueue']();}}async[_0x2f335d(0xa6)](_0x5ebd84,_0x40ef2c,_0x55a22f){const _0x37d37f=_0x2f335d;if(_0x5a023b['forceLog']('addContent',_0x5ebd84,_0x40ef2c,_0x55a22f),!this[_0x37d37f(0x499)])throw new Error(_0x37d37f(0x786));let _0x1fafe6;switch(_0x5ebd84){case _0x1780d6[_0x37d37f(0x6ed)]:_0x1fafe6=_0x19f002[_0x37d37f(0x3fb)];break;case _0x1780d6[_0x37d37f(0x42c)]:_0x1fafe6=_0x19f002['ExternalStorageUpload'];}if(!_0x1fafe6)return;const _0x487e04=this[_0x37d37f(0x499)]['blocks'][_0x37d37f(0x379)](_0x1fc123=>_0x1fc123[_0x37d37f(0x4e7)]===_0x3bbdbe['Knowledge']||_0x1fc123['type']===_0x3bbdbe[_0x37d37f(0x6bd)]),_0x3f6a1f=new Set(_0x487e04[_0x37d37f(0x3cd)](_0x37c7de=>_0x37c7de['id'])),_0x13d276=_0x487e04['filter'](_0x5a23bc=>_0x5a23bc['ingestBlocks']?.[_0x37d37f(0x5dc)](_0x1c3647=>_0x1c3647[_0x37d37f(0x4e7)]===_0x1fafe6&&_0x1c3647['id']===_0x40ef2c));for(const _0xd2b55a of _0x13d276){if(!_0x3f6a1f[_0x37d37f(0x627)](_0xd2b55a['id']))continue;_0x3f6a1f[_0x37d37f(0x2ee)](_0xd2b55a['id']);const _0x3db469=_0xd2b55a['ingestBlocks']?.[_0x37d37f(0x29d)](_0x3c6f11=>_0x3c6f11[_0x37d37f(0x4e7)]===_0x1fafe6&&_0x3c6f11['id']===_0x40ef2c);_0x3db469&&_0x1e0260[_0x37d37f(0xad)](this[_0x37d37f(0x2b4)],async()=>{const _0x36cf56=_0x37d37f,_0x10ba2e=(0x0,_0x2d9acc['v4'])();_0x5dfb84['openTrace'](null,_0x10ba2e),await _0x1fe0f9(_0x10ba2e,_0x55a22f,_0x3db469,_0xd2b55a['ingestBlocks'],{'documentParserConnector':this[_0x36cf56(0x601)],'nlpLibraryConnector':this[_0x36cf56(0x265)],'generativeAIWorkerConnectors':this[_0x36cf56(0x2a4)],'models':this[_0x36cf56(0x499)][_0x36cf56(0x36f)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x36cf56(0x1bc)],'aiSearchApiKey':this['aiSearchApiKey'],'version':_0xd2b55a['version']??0x1}),_0x5dfb84[_0x36cf56(0x425)](_0x10ba2e);});}this[_0x37d37f(0x938)]();}[_0x2f335d(0x245)](_0x36b9fa,_0x34372f,_0x1a6302){const _0x4659b0=_0x2f335d;if(_0x5a023b[_0x4659b0(0xc1)](_0x4659b0(0x2c6),_0x36b9fa,_0x34372f,_0x1a6302),!this[_0x4659b0(0x499)])throw new Error('Workflow\x20not\x20initialized');let _0x29ab0b;switch(_0x36b9fa){case _0x1780d6[_0x4659b0(0x6ed)]:_0x29ab0b=_0x19f002[_0x4659b0(0x3fb)];break;case _0x1780d6[_0x4659b0(0x42c)]:_0x29ab0b=_0x19f002[_0x4659b0(0x708)];}if(!_0x29ab0b)return;const _0x56183b=this[_0x4659b0(0x499)]['blocks'][_0x4659b0(0x379)](_0x447468=>_0x447468[_0x4659b0(0x4e7)]===_0x3bbdbe[_0x4659b0(0x8bd)]||_0x447468[_0x4659b0(0x4e7)]===_0x3bbdbe[_0x4659b0(0x6bd)]),_0x2d306b=new Set(_0x56183b[_0x4659b0(0x3cd)](_0x9e8666=>_0x9e8666['id'])),_0x5d3b9f=_0x56183b[_0x4659b0(0x379)](_0x230ef2=>_0x230ef2['ingestBlocks']?.['some'](_0x597f74=>_0x597f74[_0x4659b0(0x4e7)]===_0x29ab0b&&_0x597f74['id']===_0x34372f));for(const _0x4be270 of _0x5d3b9f){if(!_0x2d306b[_0x4659b0(0x627)](_0x4be270['id']))continue;_0x2d306b[_0x4659b0(0x2ee)](_0x4be270['id']);let _0x397872=''+(_0x4be270['version']??0x1);for(const _0x28a366 of _0x4be270[_0x4659b0(0x2a3)]??[])_0x28a366[_0x4659b0(0x4e7)]===_0x19f002[_0x4659b0(0x5e0)]&&(_0x397872=_0x397872+'-'+(_0x28a366[_0x4659b0(0x2f9)]??0x1));for(const _0x562258 of _0x4be270[_0x4659b0(0x2a3)]??[]){if(_0x562258['type']===_0x19f002[_0x4659b0(0x485)]){const _0x4324c9=this[_0x4659b0(0x2d5)][_0x4659b0(0x315)](_0x562258['id']);_0x4324c9[_0x4659b0(0x222)](_0x1a6302),_0x4324c9[_0x4659b0(0x426)]()&&_0x4324c9[_0x4659b0(0x857)](_0x397872);}if(_0x562258['type']===_0x19f002['GraphDatabase']){const _0x538aa9=this[_0x4659b0(0x2d5)][_0x4659b0(0x76c)](_0x562258['id']);_0x538aa9[_0x4659b0(0x222)](_0x1a6302),_0x538aa9[_0x4659b0(0x426)]()&&_0x538aa9[_0x4659b0(0x857)](_0x397872);}}}this[_0x4659b0(0x938)]();}[_0x2f335d(0x7d8)](){const _0xc8db20=_0x2f335d;try{return this['capacityReporter'][_0xc8db20(0x296)]()[_0xc8db20(0x2ac)][_0xc8db20(0x506)]*(0x1-this[_0xc8db20(0x93f)][_0xc8db20(0x296)]()[_0xc8db20(0x2ac)][_0xc8db20(0x738)]);}catch(_0x5ce0a0){return _0x5a023b[_0xc8db20(0x6fb)](_0x4abdbe['Jobs'],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x5ce0a0),0x0;}}[_0x2f335d(0x938)](){const _0x5bfd5c=_0x2f335d;this[_0x5bfd5c(0x846)]&&(this[_0x5bfd5c(0x7a1)]&&clearTimeout(this[_0x5bfd5c(0x7a1)]),this['debounceStats']=setTimeout(async()=>{const _0x4f51fe=_0x5bfd5c;if(delete this[_0x4f51fe(0x7a1)],!this['modelStore'])return;let _0x436e0a=await this[_0x4f51fe(0x98c)][_0x4f51fe(0x448)]();for(const _0x3b557b of this[_0x4f51fe(0x136)][_0x4f51fe(0x349)]())_0x436e0a+=await _0x3b557b[_0x4f51fe(0x448)]();this[_0x4f51fe(0x57e)][_0x4f51fe(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x4f51fe(0x109)],'content':{'type':_0x314d98[_0x4f51fe(0x23d)],'label':this['label'],'stats':{'timestamp':Date[_0x4f51fe(0x449)](),'storage':_0x436e0a,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x4f51fe(0x108)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x4f51fe(0x14a)],'tokens':this['tokens']}}});},_0x25c4c2));}[_0x2f335d(0xf8)](_0x1058cb,_0x15a14d){const _0x252818=_0x2f335d,_0xefa27e=this[_0x252818(0x2b4)],_0x332064=this[_0x252818(0x8a4)]();_0x5a023b[_0x252818(0xf8)](_0x35a2ee['GenerativeAIContext'],{'topic':_0xefa27e,'type':_0x252818(0x9b),'nodeId':_0x332064,'tokenCount':_0x15a14d,'tokensPerSecond':_0x1058cb});}[_0x2f335d(0x497)](_0x462a26){const _0xaa21e5=_0x2f335d;try{if(!this[_0xaa21e5(0x499)])throw new Error(_0xaa21e5(0x786));if(!this[_0xaa21e5(0x644)])throw new Error(_0xaa21e5(0x2c5));if(!_0x5dfb84[_0xaa21e5(0x497)](this[_0xaa21e5(0x644)],_0x462a26))throw new Error(_0xaa21e5(0x9b4));return _0x462a26;}catch(_0x398d14){return console['error'](_0xaa21e5(0x9b4),_0x398d14),_0xaa21e5(0x152);}}[_0x2f335d(0x425)](_0x1dfcde){const _0x20a538=_0x2f335d;try{_0x5dfb84['closeTrace'](_0x1dfcde);}catch(_0x34d534){console[_0x20a538(0x646)](_0x20a538(0x1d9),{'jobId':_0x1dfcde,'error':_0x34d534});}}async['initializeLoggingDatabase'](){return new Promise(_0x2d0288=>{const _0x471812=a0_0x2fcc;try{const _0x4bc1db=_0x25f6ec(this[_0x471812(0xa5)],this[_0x471812(0x2b4)]);this[_0x471812(0x644)]=this[_0x471812(0x2d5)][_0x471812(0x3c4)](_0x4bc1db),this[_0x471812(0x644)]['subscribe'](({event:_0x3fe3e5})=>{const _0x7e5749=_0x471812;_0x3fe3e5===_0x47407f[_0x7e5749(0x8b6)][_0x7e5749(0x2f0)]&&(this[_0x7e5749(0x644)]['unsubscribe'](),_0x2d0288());});}catch(_0x4b35a6){console[_0x471812(0x646)](_0x471812(0x137)+_0x25f6ec(this['vendorId'],this[_0x471812(0x2b4)])+'\x27\x20dabatase\x20id.',_0x4b35a6),_0x2d0288();}});}}class _0x3f36ba extends _0x56016a{[_0x2f335d(0x6c3)];['clusterId'];['vendorId'];['db'];[_0x2f335d(0x7a1)];['writes']=0x0;[_0x2f335d(0x565)]=0x0;[_0x2f335d(0x86a)]=!0x1;constructor(_0x11257e,_0x2c3168,_0x481dd5,_0x3edf9f,_0x51ab98){const _0x56daf8=_0x2f335d;if('string'!=typeof _0x2c3168)throw new _0x194c78(_0x2e40c3[_0x56daf8(0x90e)],_0x56daf8(0x329));super(_0x11257e,_0x2c3168),this['localNode']=_0x11257e,this['clusterId']=_0x481dd5,this[_0x56daf8(0xa5)]=_0x3edf9f;const _0x2a5e00='ccc'+this['vendorId']+'ccc'+this[_0x56daf8(0x49c)]+_0x56daf8(0x8e5)+this['label'];this['db']=new _0x51ab98(_0x2a5e00),this[_0x56daf8(0x938)]();}['getIsLoaded'](){const _0x5159a4=_0x2f335d;return this[_0x5159a4(0x86a)];}[_0x2f335d(0x805)](_0x358e8b){const _0x27379b=_0x2f335d;this[_0x27379b(0x86a)]=_0x358e8b;}[_0x2f335d(0x7f0)](){const _0x5c2651=_0x2f335d;clearTimeout(this[_0x5c2651(0x7a1)]),delete this[_0x5c2651(0x7a1)],super[_0x5c2651(0x7f0)]();}[_0x2f335d(0x476)](){const _0x29b474=_0x2f335d;this['systemTopic']['publish']({'sourceId':_0x46e5ac,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98['CloseGraphDatabase'],'label':this[_0x29b474(0x2b4)]}});}[_0x2f335d(0x8c7)](){const _0x119cf4=_0x2f335d;return _0x47407f[_0x119cf4(0x1e9)][_0x119cf4(0x430)];}['reset'](){this['sendStats']();}['addNode'](_0x476c1b,_0x18ea68,_0x46f7fb,_0x569a82){const _0x4909c7=_0x2f335d;this['db'][_0x4909c7(0x8b1)](_0x476c1b,_0x18ea68,_0x46f7fb,_0x569a82),this['writes']+=0x1,this[_0x4909c7(0x938)]();}['addEdge'](_0x3c4676,_0x1dfedb){const _0x1e5409=_0x2f335d;this['db'][_0x1e5409(0x3e3)](_0x3c4676,_0x1dfedb),this['writes']+=0x1,this[_0x1e5409(0x938)]();}[_0x2f335d(0x178)](_0x49a036,_0x2e1507,_0x19c534){const _0xa3f246=_0x2f335d,_0x5c9464=this['db'][_0xa3f246(0x178)](_0x49a036,_0x2e1507,_0x19c534);return this[_0xa3f246(0x565)]+=0x1,_0x5a023b['logServiceEvent'](_0x35a2ee[_0xa3f246(0x430)],{'type':_0xa3f246(0x7e6),'label':this[_0xa3f246(0x2b4)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0xa3f246(0x6c3)]['type'],'clusterId':this[_0xa3f246(0x49c)],'size':0x0}),this[_0xa3f246(0x938)](),_0x5c9464;}[_0x2f335d(0x222)](_0x25a8d1){const _0xe1eb63=_0x2f335d;this['db'][_0xe1eb63(0x222)](_0x25a8d1),this['writes']+=0x1,this[_0xe1eb63(0x938)]();}[_0x2f335d(0x857)](_0x1cb920){const _0xf1647f=_0x2f335d;this['db'][_0xf1647f(0x857)](_0x1cb920);}[_0x2f335d(0x8df)](_0x11f3b2){const _0x1e4767=_0x2f335d;this['db'][_0x1e4767(0x8df)](_0x11f3b2);}[_0x2f335d(0x938)](){const _0x17bd63=_0x2f335d;this[_0x17bd63(0x7a1)]&&clearTimeout(this['debounceStats']),this[_0x17bd63(0x7a1)]=setTimeout(async()=>{const _0x50b022=_0x17bd63;delete this[_0x50b022(0x7a1)];const _0x3d4948=this['db'][_0x50b022(0x448)]();this['systemTopic'][_0x50b022(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98[_0x50b022(0x5a2)],'label':this['label'],'stats':{'timestamp':Date[_0x50b022(0x449)](),'storage':_0x3d4948,'messagesSent':this[_0x50b022(0x7c8)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x50b022(0x772)],'writes':this[_0x50b022(0x251)],'reads':this[_0x50b022(0x565)],'prompts':0x0,'tokens':0x0}}}),_0x5a023b[_0x50b022(0x40a)](_0x35a2ee['GraphDatabase'],_0x50b022(0x8e5)+this[_0x50b022(0x49c)]+'ccc'+this['label'],_0x3d4948);},_0x25c4c2);}}class _0x4e4266 extends _0x3c477d{[_0x2f335d(0x6c6)];constructor(_0x526236,_0x19fcd2,_0x3c1b01){const _0x5a6405=_0x2f335d;super(_0x526236,_0x19fcd2),this[_0x5a6405(0x6c6)]=_0x3c1b01;}[_0x2f335d(0x8c7)](){const _0x265b74=_0x2f335d;return _0x47407f[_0x265b74(0x1e9)][_0x265b74(0x185)];}['getMediaStream'](){return this['mediaStream'];}[_0x2f335d(0x233)](){const _0x22750b=_0x2f335d;return this[_0x22750b(0x6c6)]['id'];}}class _0x4c63a5 extends _0x4e4266{['remoteId'];[_0x2f335d(0x4e9)];[_0x2f335d(0x3f7)];[_0x2f335d(0x58b)]=_0x245a70();constructor(_0x32e44e,_0x1b8902,_0x263690,_0x55e8f1,_0x33777a){const _0x334a63=_0x2f335d;super(_0x32e44e,_0x1b8902,_0x263690),this[_0x334a63(0x559)]=_0x55e8f1,this['params']=_0x33777a;}[_0x2f335d(0x7f0)](){const _0x2d7a38=_0x2f335d;this[_0x2d7a38(0x947)](_0x2d7a38(0x48b)),this['removeTrack'](_0x2d7a38(0x209)),super[_0x2d7a38(0x7f0)]();}[_0x2f335d(0x1bf)](_0x3c215b){const _0x21df0b=_0x2f335d;if(!this[_0x21df0b(0x3f7)])throw new _0x315451(_0x315451[_0x21df0b(0x600)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x21df0b(0x7e2)]['getId'](),'remoteId':this['remoteId']});this[_0x21df0b(0x3f7)][_0x21df0b(0x620)]({'sourceId':this[_0x21df0b(0x7e2)]['getId'](),'content':{'action':_0x444468[_0x21df0b(0x87d)],'track':_0x3c215b,'stream':this[_0x21df0b(0x6c6)],'priority':_0x47407f[_0x21df0b(0x76f)][_0x21df0b(0x46e)],'params':this[_0x21df0b(0x7e1)](_0x3c215b[_0x21df0b(0x434)],this[_0x21df0b(0x4e9)])}});}[_0x2f335d(0x947)](_0x1902bf){const _0x3a66b4=_0x2f335d,_0x2dac95=this[_0x3a66b4(0x730)](_0x1902bf);if(_0x2dac95){if(!this[_0x3a66b4(0x3f7)])return null;this['topic']['publish']({'sourceId':this[_0x3a66b4(0x7e2)][_0x3a66b4(0x92c)](),'content':{'action':_0x444468[_0x3a66b4(0x4c0)],'track':_0x2dac95,'stream':this[_0x3a66b4(0x6c6)]}});}return _0x2dac95;}[_0x2f335d(0x9dc)](_0x5afa56){const _0x4ff5e0=_0x2f335d;if(!this[_0x4ff5e0(0x3f7)])throw new _0x315451(_0x315451['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x4ff5e0(0x2b4)],'ownerId':this['owner'][_0x4ff5e0(0x92c)](),'remoteId':this[_0x4ff5e0(0x559)]});this[_0x4ff5e0(0x3f7)][_0x4ff5e0(0x620)]({'sourceId':this[_0x4ff5e0(0x7e2)][_0x4ff5e0(0x92c)](),'content':{'action':_0x444468[_0x4ff5e0(0x648)],'priority':_0x5afa56,'stream':this[_0x4ff5e0(0x6c6)]}});}[_0x2f335d(0x504)]({trackKinds:_0x2ea4dc,params:_0x46f78a},_0x503068){const _0x32c3b3=_0x2f335d;if(!this['topic'])throw new _0x315451(_0x315451['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x32c3b3(0x2b4)],'ownerId':this['owner'][_0x32c3b3(0x92c)](),'remoteId':this[_0x32c3b3(0x559)]});for(const _0x2811b3 of this[_0x32c3b3(0x6c6)][_0x32c3b3(0x3bc)]())_0x2ea4dc[_0x32c3b3(0x4a7)](_0x2811b3['kind'])&&this[_0x32c3b3(0x3f7)][_0x32c3b3(0x620)]({'sourceId':this[_0x32c3b3(0x7e2)][_0x32c3b3(0x92c)](),'content':{'action':_0x444468[_0x32c3b3(0x87d)],'track':_0x2811b3,'stream':this['mediaStream'],'priority':_0x503068,'params':this[_0x32c3b3(0x7e1)](_0x2811b3['kind'],_0x46f78a)}});}['update']({params:_0x141794}){const _0x315c39=_0x2f335d;if(!this[_0x315c39(0x3f7)])throw new _0x315451(_0x315451[_0x315c39(0x600)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x315c39(0x2b4)],'ownerId':this['owner'][_0x315c39(0x92c)](),'remoteId':this[_0x315c39(0x559)]});for(const _0xee9a8b of this['mediaStream']['getTracks']())this[_0x315c39(0x3f7)][_0x315c39(0x620)]({'sourceId':this[_0x315c39(0x7e2)][_0x315c39(0x92c)](),'content':{'action':_0x444468[_0x315c39(0x648)],'stream':this['mediaStream'],'params':this['getInternalTrackParams'](_0xee9a8b['kind'],_0x141794)}});}[_0x2f335d(0x5be)]({trackKinds:_0x9f1189}){const _0x417d05=_0x2f335d;if(this[_0x417d05(0x3f7)]){for(const _0x3598f6 of this[_0x417d05(0x6c6)][_0x417d05(0x3bc)]())_0x9f1189[_0x417d05(0x4a7)](_0x3598f6['kind'])&&this[_0x417d05(0x3f7)][_0x417d05(0x620)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x444468[_0x417d05(0x4c0)],'stream':this[_0x417d05(0x6c6)],'track':_0x3598f6}});}}[_0x2f335d(0x538)](_0x11cdeb){const _0xcd0663=_0x2f335d;this[_0xcd0663(0x3f7)]=_0x11cdeb;}[_0x2f335d(0x1b8)](_0x1274e5){const _0x2681a5=_0x2f335d;_0x1274e5===this[_0x2681a5(0x3f7)]&&(delete this['topic'],this[_0x2681a5(0x58b)]['publish']());}[_0x2f335d(0x78c)](_0x5238af){const _0x1db0d8=_0x2f335d;return this['unregisterPublisherListener'][_0x1db0d8(0x504)](_0x5238af);}['getTrack'](_0x2211bf){const _0x178412=_0x2f335d;return this[_0x178412(0x6c6)][_0x178412(0x3bc)]()['find'](_0x54cb60=>_0x54cb60[_0x178412(0x434)]===_0x2211bf)||null;}[_0x2f335d(0x7e1)](_0x2614fe,_0xd646c0){const _0x4ca48c=_0x2f335d;let _0x264d93;return _0x4ca48c(0x209)===_0x2614fe&&_0xd646c0?.[_0x4ca48c(0x209)]&&'boolean'!=typeof _0xd646c0[_0x4ca48c(0x209)]&&(_0x264d93={'kind':_0x4ca48c(0x209),..._0xd646c0[_0x4ca48c(0x209)]},_0x264d93[_0x4ca48c(0x3c0)]=this[_0x4ca48c(0x198)]()),'audio'===_0x2614fe&&_0xd646c0?.[_0x4ca48c(0x48b)]&&_0x4ca48c(0x7b0)!=typeof _0xd646c0['audio']&&(_0x264d93={'kind':_0x4ca48c(0x48b),..._0xd646c0[_0x4ca48c(0x48b)]}),_0x264d93;}[_0x2f335d(0x198)](){const _0x4f671e=_0x2f335d;let _0x1a65b4={'width':0x0,'height':0x0};const _0x30d1f2=this[_0x4f671e(0x6c6)][_0x4f671e(0x5c8)]();if(_0x30d1f2[_0x4f671e(0x39c)]>0x0){const _0x8d52a7=_0x30d1f2[0x0][_0x4f671e(0x170)]();_0x8d52a7['width']&&_0x8d52a7[_0x4f671e(0x2a0)]&&(_0x1a65b4={'width':_0x8d52a7[_0x4f671e(0x9cd)],'height':_0x8d52a7[_0x4f671e(0x2a0)]});}return _0x1a65b4;}}class _0x5565fa extends _0x4e4266{[_0x2f335d(0x49c)];[_0x2f335d(0x6bf)]=_0x47407f['MediaStreamPriority'][_0x2f335d(0x46e)];[_0x2f335d(0x658)]=new Map();[_0x2f335d(0x298)]=new Map();constructor(_0x23aefb,_0x54634c,_0x5abdf2,_0x3ad5f5){const _0x4a3442=_0x2f335d;super(_0x23aefb,_0x54634c,_0x5abdf2 instanceof MediaStream?_0x5abdf2:_0x5abdf2[_0x4a3442(0x4da)]?_0x5abdf2[_0x4a3442(0x4da)]:_0x5abdf2[_0x4a3442(0x776)]()),this[_0x4a3442(0x49c)]=_0x3ad5f5,this[_0x4a3442(0x6c6)]['getTracks']()[_0x4a3442(0x82f)](_0x56906c=>this['setupTrackEndedListeners'](_0x56906c)),_0x5a023b[_0x4a3442(0xf8)](_0x35a2ee['MediaStream'],{'type':_0x4a3442(0x620),'label':this[_0x4a3442(0x2b4)],'nodeId':this['owner'][_0x4a3442(0x92c)](),'nodeType':this[_0x4a3442(0x7e2)]['type'],'clusterId':this['clusterId'],'streamId':this[_0x4a3442(0x233)](),'trackKinds':this['mediaStream'][_0x4a3442(0x3bc)]()[_0x4a3442(0x3cd)](_0x126ea2=>_0x126ea2['kind'])});}[_0x2f335d(0x7f0)](){const _0x29f5c8=_0x2f335d;this[_0x29f5c8(0x298)][_0x29f5c8(0x15b)]>0x0&&(this[_0x29f5c8(0x298)][_0x29f5c8(0x82f)](_0x296141=>{const _0x5e8e92=_0x29f5c8;_0x296141[_0x5e8e92(0x1f0)](),_0x296141[_0x5e8e92(0x7f0)]();}),this[_0x29f5c8(0x298)][_0x29f5c8(0x18c)]()),this['trackEndedListeners'][_0x29f5c8(0x82f)](_0x20eee0=>_0x20eee0()),super[_0x29f5c8(0x7f0)]();}[_0x2f335d(0x620)](_0xe9635){const _0x38fbd5=_0x2f335d;this['systemTopic']['publish']({'sourceId':this[_0x38fbd5(0x7e2)]['getId'](),'destinationIds':_0xe9635?[_0xe9635]:void 0x0,'propagate':!0x0,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98[_0x38fbd5(0x40f)],'ownerId':this['owner'][_0x38fbd5(0x92c)](),'label':this[_0x38fbd5(0x2b4)],'stream':{'streamId':this[_0x38fbd5(0x233)](),'availableTrackKinds':this[_0x38fbd5(0x6c6)][_0x38fbd5(0x3bc)]()['map'](_0x207d02=>_0x207d02['kind'])}}});}[_0x2f335d(0xa2)](){const _0x3285cf=_0x2f335d;this['systemTopic'][_0x3285cf(0x620)]({'sourceId':this['owner'][_0x3285cf(0x92c)](),'propagate':!0x0,'messageType':_0x4ba688[_0x3285cf(0x109)],'content':{'type':_0x314d98[_0x3285cf(0x2a2)],'ownerId':this['owner'][_0x3285cf(0x92c)](),'label':this['label']}}),this[_0x3285cf(0x57e)][_0x3285cf(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x3285cf(0x109)],'content':{'type':_0x314d98[_0x3285cf(0x23e)],'label':this['label']}}),_0x5a023b[_0x3285cf(0xf8)](_0x35a2ee['MediaStream'],{'type':_0x3285cf(0xa2),'label':this[_0x3285cf(0x2b4)],'nodeId':this[_0x3285cf(0x7e2)][_0x3285cf(0x92c)](),'nodeType':this[_0x3285cf(0x7e2)][_0x3285cf(0x4e7)],'clusterId':this[_0x3285cf(0x49c)],'streamId':this[_0x3285cf(0x233)]()});}[_0x2f335d(0x5bf)](){const _0x1534f1=_0x2f335d;return this[_0x1534f1(0x6bf)];}[_0x2f335d(0x9dc)](_0x37317d){const _0x4b2303=_0x2f335d;this[_0x4b2303(0x6bf)]=_0x37317d,this[_0x4b2303(0x298)]['forEach'](_0x3f3aa9=>_0x3f3aa9['setPriority'](_0x37317d));}[_0x2f335d(0x529)](_0x44db43,_0x561e86){const _0x529605=_0x2f335d;if(!this[_0x529605(0x298)]['has'](_0x44db43)){const _0x1b4689=new _0x4c63a5(this[_0x529605(0x7e2)],this[_0x529605(0x2b4)],this[_0x529605(0x6c6)],_0x44db43,_0x561e86),_0x33d863=_0x1b4689['onUnregisterPublisher'](()=>{const _0x215f1b=_0x529605;_0x33d863(),this[_0x215f1b(0x298)][_0x215f1b(0x389)](_0x44db43)?.['destroy'](),this[_0x215f1b(0x298)][_0x215f1b(0x2ee)](_0x44db43);});this[_0x529605(0x298)][_0x529605(0x120)](_0x44db43,_0x1b4689),_0x1b4689['registerSystemPublisher'](this[_0x529605(0x57e)]);}return this[_0x529605(0x298)][_0x529605(0x389)](_0x44db43);}[_0x2f335d(0x939)](){const _0x140026=_0x2f335d;return this[_0x140026(0x6c6)]['id'];}['handleLocalTrackFailure'](_0x1f0511){const _0x364255=_0x2f335d;this[_0x364255(0x57e)][_0x364255(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x1f0511[_0x364255(0x434)]]}});}['setupTrackEndedListeners'](_0x590e51){const _0x2833cd=_0x2f335d,_0x17cc59=()=>this[_0x2833cd(0x81b)](_0x590e51);_0x590e51[_0x2833cd(0x80c)]('ended',_0x17cc59),_0x590e51['addEventListener'](_0x2833cd(0x2d2),_0x17cc59),this[_0x2833cd(0x658)]['set'](_0x590e51[_0x2833cd(0x434)],()=>{const _0x5e2876=_0x2833cd;_0x590e51[_0x5e2876(0x382)](_0x5e2876(0x81c),_0x17cc59),_0x590e51[_0x5e2876(0x382)](_0x5e2876(0x2d2),_0x17cc59),this[_0x5e2876(0x658)]['delete'](_0x590e51[_0x5e2876(0x434)]);});}}class _0x280bef extends _0x5565fa{[_0x2f335d(0x88d)];[_0x2f335d(0xe2)]=[];[_0x2f335d(0x970)];['audioSource'];[_0x2f335d(0x76a)];[_0x2f335d(0x42e)];[_0x2f335d(0x3dc)];[_0x2f335d(0x996)];['interval'];constructor(_0x4f032d,_0xe40b11,_0x628f57,_0x34366e,_0x49de60,_0x37d540){const _0x33e0e5=_0x2f335d;if(super(_0x4f032d,_0xe40b11,_0x628f57,_0x37d540),this['audioContext']=_0x49de60,this['clientStream']=this[_0x33e0e5(0x6c6)],this[_0x33e0e5(0x42e)]=document[_0x33e0e5(0x7b1)]('video'),this[_0x33e0e5(0x42e)][_0x33e0e5(0x55a)]=!0x0,this['sourceVideo'][_0x33e0e5(0x5f8)]=!0x0,this[_0x33e0e5(0x42e)][_0x33e0e5(0x4da)]=this[_0x33e0e5(0x970)],this['sourceVideo'][_0x33e0e5(0x738)](),this['sourceVideo']['onloadeddata']=()=>{const _0x1340fb=_0x33e0e5;this[_0x1340fb(0x42e)]['play']();},this[_0x33e0e5(0x3dc)]=document[_0x33e0e5(0x7b1)](_0x33e0e5(0x3dc)),this[_0x33e0e5(0x996)]=this[_0x33e0e5(0x3dc)][_0x33e0e5(0x5a1)]('2d'),this['mediaStream']=this[_0x33e0e5(0x3dc)][_0x33e0e5(0x776)](_0x34366e),this[_0x33e0e5(0x76a)]=this[_0x33e0e5(0x88d)][_0x33e0e5(0x93)](),this[_0x33e0e5(0x970)]['getAudioTracks']()[_0x33e0e5(0x39c)]>0x0){const _0x38e10b=this[_0x33e0e5(0x970)][_0x33e0e5(0x587)]()[0x0];this[_0x33e0e5(0x151)]=this['audioContext'][_0x33e0e5(0x494)](new MediaStream([_0x38e10b])),this[_0x33e0e5(0x151)][_0x33e0e5(0x10a)](this['audioDestination']);}const _0x4d2394=this['audioDestination'][_0x33e0e5(0x247)][_0x33e0e5(0x3bc)]()[0x0];this[_0x33e0e5(0x6c6)][_0x33e0e5(0x1bf)](_0x4d2394),this[_0x33e0e5(0x3a2)]=setInterval(()=>{const _0x511e52=_0x33e0e5;this['canvas'][_0x511e52(0x9cd)]=this['sourceVideo'][_0x511e52(0x6af)],this[_0x511e52(0x3dc)]['height']=this[_0x511e52(0x42e)][_0x511e52(0x140)],this['sourceVideo'][_0x511e52(0x6af)]?(0x0!==this[_0x511e52(0x970)]['getVideoTracks']()[_0x511e52(0x39c)]&&this[_0x511e52(0x970)][_0x511e52(0x5c8)]()[0x0][_0x511e52(0x91c)]?this[_0x511e52(0x6c6)]['getVideoTracks']()[0x0][_0x511e52(0x91c)]=!0x0:this[_0x511e52(0x6c6)]['getVideoTracks']()[0x0][_0x511e52(0x91c)]=!0x1,0x0!==this[_0x511e52(0x970)][_0x511e52(0x587)]()['length']&&this[_0x511e52(0x970)][_0x511e52(0x587)]()[0x0][_0x511e52(0x91c)]?this[_0x511e52(0x6c6)][_0x511e52(0x587)]()[0x0][_0x511e52(0x91c)]=!0x0:this['mediaStream']['getAudioTracks']()[0x0]['enabled']=!0x1,this[_0x511e52(0x996)][_0x511e52(0x9d)](this['sourceVideo'],0x0,0x0)):this[_0x511e52(0x996)][_0x511e52(0x7ff)](0x0,0x0,this[_0x511e52(0x3dc)]['width'],this[_0x511e52(0x3dc)][_0x511e52(0x2a0)]);},0x3e8/_0x34366e);}[_0x2f335d(0x7f0)](){const _0x2dec9d=_0x2f335d;clearInterval(this[_0x2dec9d(0x3a2)]),this[_0x2dec9d(0x42e)][_0x2dec9d(0x222)](),this[_0x2dec9d(0x3dc)][_0x2dec9d(0x222)](),this[_0x2dec9d(0x151)]?.[_0x2dec9d(0x3af)](),this[_0x2dec9d(0x76a)][_0x2dec9d(0x3af)](),this[_0x2dec9d(0x6c6)][_0x2dec9d(0x3bc)]()[_0x2dec9d(0x82f)](_0x385cc6=>{const _0x254c63=_0x2dec9d;_0x385cc6[_0x254c63(0x204)](),this[_0x254c63(0x6c6)]['removeTrack'](_0x385cc6);}),super[_0x2dec9d(0x7f0)]();}[_0x2f335d(0x1bf)](_0x11bf89){const _0x3573b6=_0x2f335d,_0x168af9=this['getTrack'](_0x11bf89[_0x3573b6(0x434)]);_0x168af9&&this[_0x3573b6(0x947)](_0x168af9),_0x3573b6(0x48b)!==_0x11bf89[_0x3573b6(0x434)]?(_0x3573b6(0x209)===_0x11bf89[_0x3573b6(0x434)]&&this[_0x3573b6(0x7f4)](_0x11bf89),this[_0x3573b6(0x545)](_0x11bf89)):this[_0x3573b6(0x92b)](_0x11bf89);}[_0x2f335d(0x947)](_0x1bc640){const _0x20dc74=_0x2f335d,_0x2ef53a=this[_0x20dc74(0x8f)](_0x1bc640);return _0x2ef53a&&(_0x20dc74(0x48b)===_0x2ef53a[_0x20dc74(0x434)]&&(this['audioSource']?.[_0x20dc74(0x3af)](),this[_0x20dc74(0x151)]=void 0x0),this[_0x20dc74(0x658)]['get'](_0x2ef53a[_0x20dc74(0x434)])?.(),this[_0x20dc74(0x970)][_0x20dc74(0x947)](_0x2ef53a)),_0x2ef53a;}[_0x2f335d(0x758)](_0x240c96){const _0x75d908=_0x2f335d;this['removeTrack'](_0x240c96['kind']),this[_0x75d908(0x1bf)](_0x240c96);}[_0x2f335d(0x383)](_0x544528){this['transformations']=_0x544528;}[_0x2f335d(0x730)](_0x42e9ad){const _0x3bf4d4=_0x2f335d;return this[_0x3bf4d4(0x970)]['getTracks']()[_0x3bf4d4(0x29d)](_0x33adc3=>_0x33adc3[_0x3bf4d4(0x434)]===_0x42e9ad)||null;}[_0x2f335d(0x8f)](_0x2cac3e){const _0x312673=_0x2f335d;return _0x312673(0x9d9)==typeof _0x2cac3e?this['getTrack'](_0x2cac3e):_0x2cac3e;}[_0x2f335d(0x92b)](_0x53142b){const _0x11637f=_0x2f335d;_0x11637f(0x773)===this[_0x11637f(0x88d)][_0x11637f(0x4b7)]&&this[_0x11637f(0x88d)][_0x11637f(0x5de)](),this['clientStream'][_0x11637f(0x1bf)](_0x53142b),this[_0x11637f(0x151)]=this[_0x11637f(0x88d)]['createMediaStreamSource'](this[_0x11637f(0x970)]),this[_0x11637f(0x151)]['connect'](this[_0x11637f(0x76a)]);}[_0x2f335d(0x7f4)](_0x10105f){const _0x1655ae=_0x2f335d;this[_0x1655ae(0x970)][_0x1655ae(0x1bf)](_0x10105f),this[_0x1655ae(0x42e)][_0x1655ae(0x738)]();}}class _0x6d9d1 extends _0x5565fa{}class _0x5648b1 extends _0x56016a{[_0x2f335d(0x6c3)];[_0x2f335d(0x49c)];[_0x2f335d(0xa5)];['transactionService'];[_0x2f335d(0x5e2)];[_0x2f335d(0x7b2)];[_0x2f335d(0x355)];['lastTransactionId'];[_0x2f335d(0x114)]=new Map();['objectRequests']=new Map();[_0x2f335d(0x7f1)]=new Map();[_0x2f335d(0x126)]=new Map();[_0x2f335d(0x51a)]=new Map();[_0x2f335d(0x8d4)]=new Map();[_0x2f335d(0x4af)];[_0x2f335d(0x1cf)]=_0x390225();[_0x2f335d(0xb9)]=new Map();['debounceStats'];[_0x2f335d(0x251)]=0x0;[_0x2f335d(0x565)]=0x0;[_0x2f335d(0x70e)]=!0x0;[_0x2f335d(0x323)]=!0x0;['filesSynced']=0x0;[_0x2f335d(0x5ff)]=0x0;constructor(_0x1e768d,_0x2cffc0,_0x44c72b,_0x8ed4c2,_0x28a763,_0x2c62f5,_0x293259,_0x3e9c89){const _0x3ca636=_0x2f335d;if(_0x3ca636(0x9d9)!=typeof _0x2cffc0)throw new _0x194c78(_0x2e40c3['ObjectStoreNameNotString'],_0x3ca636(0x31b));super(_0x1e768d,_0x2cffc0),this['localNode']=_0x1e768d,this[_0x3ca636(0x49c)]=_0x44c72b,this['vendorId']=_0x8ed4c2,this['transactionService']=_0x28a763,this[_0x3ca636(0x5e2)]=_0x293259,this['options']=_0x3e9c89;const _0x2ec671=_0x3ca636(0x8e5)+this['vendorId']+_0x3ca636(0x8e5)+this[_0x3ca636(0x49c)]+_0x3ca636(0x8e5)+_0x2cffc0;this['objectStoreConnector']=new _0x2c62f5(_0x2ec671),this['syncContent']=this[_0x3ca636(0x7b2)]?.['syncContent']??!0x0,this[_0x3ca636(0x7b2)]?.[_0x3ca636(0x48e)]&&(this['syncContent']=!0x1),this[_0x3ca636(0x938)]();}['reset'](){const _0x41c8ce=_0x2f335d;this[_0x41c8ce(0x938)]();}['getContentType'](){const _0x5cd177=_0x2f335d;return _0x47407f['ContentType'][_0x5cd177(0x806)];}async[_0x2f335d(0x440)](){const _0x2155d1=_0x2f335d;this['isSyncing']=!0x0;try{const _0x452fdb=await this[_0x2155d1(0x4af)][_0x2155d1(0x389)](_0x241269),_0xfd8109=await _0x452fdb[_0x2155d1(0x6e9)]();this[_0x2155d1(0x3ec)]=_0xfd8109;}catch(_0x47dfbe){}this['unsubscribeHandler']=this[_0x2155d1(0x904)](async(_0x4c3b40,_0x4ccac7)=>{const _0x3e1b9f=_0x2155d1;if(!(_0x4ccac7 instanceof File))try{if(_0x4ccac7[_0x3e1b9f(0x360)]===_0x1a5335[_0x3e1b9f(0x3d3)])return void this[_0x3e1b9f(0x30f)](_0x4ccac7);this[_0x3e1b9f(0x8d7)](_0x4ccac7);}catch(_0x776877){if(_0x776877 instanceof _0x315451)throw _0x776877;throw new _0x315451(_0x315451[_0x3e1b9f(0x600)][_0x3e1b9f(0x2da)],{'payload':_0x4ccac7});}}),await this[_0x2155d1(0x43c)](),this[_0x2155d1(0x70e)]?await this['syncPendingFiles']():this['completeSync'](),this[_0x2155d1(0x938)]();}[_0x2f335d(0x7f0)](){const _0x53a5e0=_0x2f335d;this[_0x53a5e0(0x355)]?.(),this[_0x53a5e0(0xb9)][_0x53a5e0(0x82f)](_0x489896=>_0x489896()),this[_0x53a5e0(0xb9)]['clear'](),clearTimeout(this[_0x53a5e0(0x7a1)]),delete this[_0x53a5e0(0x7a1)],super['destroy']();}[_0x2f335d(0x476)](){const _0x2b0941=_0x2f335d;this[_0x2b0941(0x57e)]?.[_0x2b0941(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x2b0941(0x109)],'content':{'type':_0x314d98[_0x2b0941(0x50f)],'label':this[_0x2b0941(0x2b4)]}});}['subscribe'](_0x1336a4,_0x4f8a7e){const _0x259122=_0x2f335d;if(this['listenerUnsubscribers'][_0x259122(0x627)](_0x1336a4))throw new _0x194c78(_0x2e40c3[_0x259122(0x223)],_0x259122(0x618));this[_0x259122(0xb9)]['set'](_0x1336a4,this[_0x259122(0x1cf)][_0x259122(0x504)](_0x4f8a7e)),this[_0x259122(0x323)]||this['eventListener'][_0x259122(0x620)]({'event':_0x47407f[_0x259122(0xa4)]['SyncComplete'],'payload':{'filesSynced':this[_0x259122(0x346)]}});}[_0x2f335d(0x5be)](_0xa316d9){const _0x1e2d4a=_0x2f335d;this[_0x1e2d4a(0xb9)]['get'](_0xa316d9)?.(),this[_0x1e2d4a(0xb9)]['delete'](_0xa316d9);}['publish'](_0x121b47){const _0x43df9e=_0x2f335d;switch(_0x121b47[_0x43df9e(0x2ef)]){case _0x47407f[_0x43df9e(0x148)][_0x43df9e(0x113)]:return this[_0x43df9e(0x8a9)](_0x121b47[_0x43df9e(0x85e)],_0x121b47[_0x43df9e(0x404)],_0x121b47['options']);case _0x47407f[_0x43df9e(0x148)]['Folder']:return this[_0x43df9e(0x352)](_0x121b47[_0x43df9e(0x404)]);case _0x47407f['PayloadAction'][_0x43df9e(0x8ea)]:return this[_0x43df9e(0x7ce)](_0x121b47[_0x43df9e(0x404)],_0x121b47[_0x43df9e(0x28a)]);default:throw new _0x194c78(_0x2e40c3[_0x43df9e(0x2c3)],_0x43df9e(0x21b)+_0x121b47);}}async['unpublish'](_0x79dbd9){const _0x57a326=_0x2f335d;try{const _0x45529a=(0x0,_0x2d9acc['v4'])(),_0x4d64fb=this[_0x57a326(0x3ec)],_0x147e94={'payloadType':_0x1a5335[_0x57a326(0x894)],'action':_0x951bb1[_0x57a326(0x8c5)],'id':_0x45529a,'parentId':_0x4d64fb,'path':_0x79dbd9};await this['publishTransaction'](_0x147e94);const _0x36d867=await this[_0x57a326(0x762)](_0x79dbd9);!0x0!==this[_0x57a326(0x7b2)]?.['standalone']&&await this[_0x57a326(0x869)](_0x147e94),_0x5a023b[_0x57a326(0xf8)](_0x35a2ee[_0x57a326(0x6ed)],{'type':_0x57a326(0xa2),'label':this[_0x57a326(0x2b4)],'nodeId':this[_0x57a326(0x6c3)][_0x57a326(0x92c)](),'nodeType':this[_0x57a326(0x6c3)][_0x57a326(0x4e7)],'clusterId':this['clusterId'],'kind':_0x36d867,'path':_0x79dbd9}),this['writes']+=0x1,this[_0x57a326(0x938)]();}catch(_0x5a3a89){if(_0x5a3a89 instanceof _0x315451)throw new _0x194c78(_0x2e40c3[_0x57a326(0x20f)],_0x57a326(0x606)+_0x79dbd9+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x194c78(_0x2e40c3[_0x57a326(0x8b9)],_0x57a326(0x975)+_0x79dbd9);}}async[_0x2f335d(0x389)](_0x45989d,_0x28274a){const _0x1c5605=_0x2f335d;_0x5a023b[_0x1c5605(0xf8)](_0x35a2ee[_0x1c5605(0x6ed)],{'type':'get','label':this[_0x1c5605(0x2b4)],'nodeId':this[_0x1c5605(0x6c3)][_0x1c5605(0x92c)](),'nodeType':this[_0x1c5605(0x6c3)]['type'],'clusterId':this[_0x1c5605(0x49c)],'path':_0x45989d}),this[_0x1c5605(0x565)]+=0x1,this[_0x1c5605(0x938)]();try{return await this[_0x1c5605(0x4af)]['get'](_0x45989d,_0x28274a);}catch(_0x4a7b24){try{await this[_0x1c5605(0x4af)][_0x1c5605(0x389)](_0x45989d+_0x561a56);}catch(_0x1894c6){throw new _0x194c78(_0x2e40c3[_0x1c5605(0x8b9)],_0x1c5605(0x99)+_0x45989d);}throw new _0x194c78(_0x2e40c3[_0x1c5605(0x20f)],_0x1c5605(0x2e8));}}async['list'](_0x1a7783,_0x4815ae){const _0x36f511=_0x2f335d,{recursive:_0x1d129f=!0x1,includeSyncingFiles:_0x4ef44b=!0x1}=_0x4815ae??{};_0x5a023b[_0x36f511(0xf8)](_0x35a2ee[_0x36f511(0x6ed)],{'type':_0x36f511(0x684),'label':this['label'],'nodeId':this[_0x36f511(0x6c3)][_0x36f511(0x92c)](),'nodeType':this[_0x36f511(0x6c3)][_0x36f511(0x4e7)],'clusterId':this[_0x36f511(0x49c)],'path':_0x1a7783}),this[_0x36f511(0x565)]+=0x1,this['sendStats']();try{const _0x59f8fe=await this['objectStoreConnector'][_0x36f511(0x684)](_0x1a7783,_0x1d129f);return this[_0x36f511(0x401)](_0x59f8fe,{'recursive':_0x1d129f,'includeSyncingFiles':_0x4ef44b});}catch(_0x3ac705){throw new _0x194c78(_0x2e40c3[_0x36f511(0x8b9)],_0x36f511(0x79d)+_0x1a7783);}}[_0x2f335d(0x747)](_0x54caaf){const _0x3995ca=_0x2f335d;this[_0x3995ca(0x5ff)]+=0x1;for(const _0x3bd105 of this['objectRequests'][_0x3995ca(0x349)]())this[_0x3995ca(0x869)](_0x3bd105,[_0x54caaf]);}['handleNodeLeave'](_0x545494){const _0x537eb6=_0x2f335d;this['nodesConnected']-=0x1;const _0x4b5f7d=this[_0x537eb6(0x7f1)][_0x537eb6(0x389)](_0x545494);if(_0x4b5f7d){for(const [_0x22f692,_0x13d98a]of _0x4b5f7d[_0x537eb6(0x349)]())this[_0x537eb6(0x6a3)](_0x22f692,_0x13d98a);this[_0x537eb6(0x7f1)]['delete'](_0x545494);}}async['getSize'](_0x2b8352='/'){const _0x19939d=_0x2f335d;try{return await this[_0x19939d(0x4af)]['calculateSize'](_0x2b8352);}catch(_0x400b16){if(_0x400b16 instanceof Error&&_0x400b16[_0x19939d(0x3bf)][_0x19939d(0x4a7)](_0x19939d(0x5cb)))return 0x0;throw new _0x194c78(_0x2e40c3[_0x19939d(0x8b9)],_0x19939d(0x69b)+_0x2b8352);}}[_0x2f335d(0x1c2)](){const _0x220eb9=_0x2f335d;this[_0x220eb9(0x323)]&&(this[_0x220eb9(0x323)]=!0x1,this['eventListener']['publish']({'event':_0x47407f[_0x220eb9(0xa4)]['SyncComplete'],'payload':{'filesSynced':this[_0x220eb9(0x346)]}}));}async['processList'](_0x393223,{includeSyncingFiles:_0x414f3c=!0x1}){const _0x3a6df6=_0x2f335d,_0x50d6b5=[];for(const _0x52aac1 of _0x393223)if(_0x52aac1['kind']!==_0x47407f[_0x3a6df6(0x7d7)]['Folder']){if(_0x52aac1[_0x3a6df6(0xdd)]!==_0x241269){if(_0x52aac1['name'][_0x3a6df6(0x1d2)](_0x561a56)){if(!_0x414f3c)continue;const _0x336151=_0x52aac1;if(_0x336151[_0x3a6df6(0xdd)]=_0x336151[_0x3a6df6(0xdd)][_0x3a6df6(0x709)](_0x561a56,''),_0x336151['pathName']=_0x336151[_0x3a6df6(0x277)][_0x3a6df6(0x709)](_0x561a56,''),await this[_0x3a6df6(0x522)](_0x336151[_0x3a6df6(0x277)])){_0x393223[_0x3a6df6(0x29d)](_0x50ef26=>_0x50ef26['pathName']===_0x336151['pathName'])['status']=_0x47407f[_0x3a6df6(0x595)]['Syncing'];continue;}_0x336151[_0x3a6df6(0x24a)]=_0x47407f[_0x3a6df6(0x595)]['Pending'];}_0x50d6b5[_0x3a6df6(0x6e4)](_0x52aac1);}}else _0x52aac1['entries']=await this[_0x3a6df6(0x401)](_0x52aac1['entries']??[],{'includeSyncingFiles':_0x414f3c}),_0x50d6b5[_0x3a6df6(0x6e4)](_0x52aac1);return _0x50d6b5;}async['publishFile'](_0x3fea48,_0x5a2a5d,_0xf5fceb){const _0x1170d2=_0x2f335d;try{const _0x12ca73=(0x0,_0x2d9acc['v4'])(),_0x1353a=await _0x14f3b7(_0x3fea48),_0x4a8b93=_0x57b980(_0x5a2a5d??'/',_0x3fea48[_0x1170d2(0xdd)]);let _0x48a214=!0x0;const _0x1fbf77={'payloadType':_0x1a5335[_0x1170d2(0x894)],'action':_0x951bb1[_0x1170d2(0x705)],'id':_0x12ca73,'parentId':this[_0x1170d2(0x3ec)],'answererId':this[_0x1170d2(0x6c3)][_0x1170d2(0x92c)](),'name':_0x3fea48[_0x1170d2(0xdd)],'type':_0x3fea48['type'],'path':_0x5a2a5d??'/','skipEncryption':_0xf5fceb?.[_0x1170d2(0x8c8)]??!0x1,'checksum':_0x1353a};try{if(!_0xf5fceb?.[_0x1170d2(0x64b)])throw new Error(_0x1170d2(0x339));const _0x29a30b=_0x4a8b93+_0x561a56;await this['objectStoreConnector'][_0x1170d2(0x389)](_0x29a30b),_0x48a214=!0x1,await this[_0x1170d2(0x4af)][_0x1170d2(0x762)](_0x29a30b),this[_0x1170d2(0x4f2)][_0x1170d2(0x2ee)](_0x4a8b93);}catch(_0x3532a1){await this['publishTransaction'](_0x1fbf77);}if(this[_0x1170d2(0x70e)]||this[_0x1170d2(0x7b2)]?.['standalone']?await this[_0x1170d2(0x67f)](_0x3fea48,_0x5a2a5d,_0xf5fceb):await this[_0x1170d2(0x1d1)](_0x3fea48['name'],_0x5a2a5d??'/',{'checksum':_0x1353a,'skipEncryption':_0xf5fceb?.['skipEncryption']??!0x1}),this[_0x1170d2(0x8d4)][_0x1170d2(0x627)](_0x4a8b93)){const [_0x419038,_0x33d1dc]=this[_0x1170d2(0x8d4)]['get'](_0x4a8b93);this[_0x1170d2(0x8d4)]['set'](_0x4a8b93,[!0x0,_0x33d1dc]);try{await _0x33d1dc;}catch(_0x2b63c3){}this['fileSendingMap'][_0x1170d2(0x2ee)](_0x4a8b93);}_0x48a214&&this[_0x1170d2(0x5ff)]>0x0&&!0x0!==this[_0x1170d2(0x7b2)]?.[_0x1170d2(0x48e)]&&await this[_0x1170d2(0x43d)](_0x3fea48,_0x1fbf77),_0x5a023b['logServiceEvent'](_0x35a2ee[_0x1170d2(0x6ed)],{'type':_0x1170d2(0x620),'label':this[_0x1170d2(0x2b4)],'nodeId':this[_0x1170d2(0x6c3)][_0x1170d2(0x92c)](),'nodeType':this[_0x1170d2(0x6c3)][_0x1170d2(0x4e7)],'clusterId':this[_0x1170d2(0x49c)],'kind':_0x47407f[_0x1170d2(0x7d7)][_0x1170d2(0x113)],'path':_0x5a2a5d,'fileName':_0x3fea48[_0x1170d2(0xdd)],'fileType':_0x3fea48[_0x1170d2(0x4e7)],'size':_0x3fea48[_0x1170d2(0x15b)]}),this['writes']+=0x1,this[_0x1170d2(0x938)]();}catch(_0x24cf98){if(_0x24cf98 instanceof _0x315451)throw new _0x194c78(_0x2e40c3['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x194c78(_0x2e40c3[_0x1170d2(0x8b9)],_0x1170d2(0x5e3)+_0x5a2a5d+(_0x5a2a5d?.['endsWith']('/')?'':'/')+_0x3fea48['name']);}}async[_0x2f335d(0x352)](_0xaaea12){const _0xe70357=_0x2f335d;try{const _0x218a3d=(0x0,_0x2d9acc['v4'])(),_0x487541=this[_0xe70357(0x3ec)],_0x1594ec={'payloadType':_0x1a5335[_0xe70357(0x894)],'action':_0x951bb1[_0xe70357(0x640)],'id':_0x218a3d,'parentId':_0x487541,'path':_0xaaea12};await this[_0xe70357(0x966)](_0x1594ec),await this[_0xe70357(0x4af)]['createFolder'](_0xaaea12),!0x0!==this[_0xe70357(0x7b2)]?.[_0xe70357(0x48e)]&&await this['send'](_0x1594ec),_0x5a023b['logServiceEvent'](_0x35a2ee['ObjectStorage'],{'type':'publish','label':this['label'],'nodeId':this[_0xe70357(0x6c3)][_0xe70357(0x92c)](),'nodeType':this['localNode'][_0xe70357(0x4e7)],'clusterId':this['clusterId'],'kind':_0x47407f['ObjectKind'][_0xe70357(0x242)],'path':_0xaaea12}),this[_0xe70357(0x251)]+=0x1,this[_0xe70357(0x938)]();}catch(_0x73ade0){if(_0x73ade0 instanceof _0x315451)throw new _0x194c78(_0x2e40c3['ObjectStoreNotInSync'],_0xe70357(0x2e8));throw new _0x194c78(_0x2e40c3[_0xe70357(0x8b9)],_0xe70357(0x886)+_0xaaea12);}}async[_0x2f335d(0x7ce)](_0x41d49b,_0x29182d){const _0x16a88c=_0x2f335d;try{const _0x142b7d=(0x0,_0x2d9acc['v4'])(),_0x5455c7=this[_0x16a88c(0x3ec)],_0x27a8df={'payloadType':_0x1a5335[_0x16a88c(0x894)],'action':_0x951bb1[_0x16a88c(0x8ea)],'id':_0x142b7d,'parentId':_0x5455c7,'path':_0x41d49b,'newPath':_0x29182d};await this[_0x16a88c(0x966)](_0x27a8df);const _0x381f4c=await this[_0x16a88c(0x46f)](_0x41d49b,_0x29182d);!0x0!==this[_0x16a88c(0x7b2)]?.['standalone']&&await this['send'](_0x27a8df),_0x5a023b['logServiceEvent'](_0x35a2ee[_0x16a88c(0x6ed)],{'type':_0x16a88c(0x47a),'label':this[_0x16a88c(0x2b4)],'nodeId':this[_0x16a88c(0x6c3)][_0x16a88c(0x92c)](),'nodeType':this[_0x16a88c(0x6c3)][_0x16a88c(0x4e7)],'clusterId':this[_0x16a88c(0x49c)],'kind':_0x381f4c,'path':_0x41d49b,'newPath':_0x29182d}),this['writes']+=0x1,this[_0x16a88c(0x938)]();}catch(_0x1100e3){if(_0x1100e3 instanceof _0x315451)throw new _0x194c78(_0x2e40c3['ObjectStoreNotInSync'],_0x16a88c(0x2e8));throw new _0x194c78(_0x2e40c3[_0x16a88c(0x8b9)],_0x16a88c(0x340)+_0x41d49b);}}async['handleTransactionPayload'](_0x11668e,_0x1dcb16=!0x1){const _0x3652e7=_0x2f335d;if(this[_0x3652e7(0x3ec)]&&_0x11668e[_0x3652e7(0xb4)]!==this['lastTransactionId']&&_0x11668e['id']!==this['lastTransactionId']){if(!_0x11668e[_0x3652e7(0xb4)])throw new _0x315451(_0x315451[_0x3652e7(0x600)][_0x3652e7(0x2da)]);this['pendingSyncTransactions'][_0x3652e7(0x120)](_0x11668e[_0x3652e7(0xb4)],_0x11668e);}else{try{await this['processTransactionPayload'](_0x11668e,_0x1dcb16);}catch(_0x3ae3fb){}await this[_0x3652e7(0x6cb)](_0x11668e['id']),await this['processPendingSyncTransactions'](_0x11668e['id'],_0x1dcb16);}}async[_0x2f335d(0x6b9)](_0x4e1fa0,_0x332355=!0x1){const _0x1ce63a=_0x2f335d;switch(_0x4e1fa0[_0x1ce63a(0x2ef)]){case _0x951bb1[_0x1ce63a(0x705)]:await this[_0x1ce63a(0x5d2)](_0x4e1fa0);break;case _0x951bb1[_0x1ce63a(0x640)]:await this[_0x1ce63a(0x880)](_0x4e1fa0);break;case _0x951bb1[_0x1ce63a(0x8ea)]:await this[_0x1ce63a(0x66b)](_0x4e1fa0,_0x332355);break;case _0x951bb1['Delete']:await this['handleObjectDelete'](_0x4e1fa0,_0x332355);break;default:throw new _0x315451(_0x315451[_0x1ce63a(0x600)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x4e1fa0});}}async[_0x2f335d(0x483)](_0x360d86,_0x4e356e=!0x1){const _0x37e3b8=_0x2f335d;if(this[_0x37e3b8(0x114)][_0x37e3b8(0x627)](_0x360d86)){const _0xaf55f=this[_0x37e3b8(0x114)][_0x37e3b8(0x389)](_0x360d86);this[_0x37e3b8(0x114)][_0x37e3b8(0x2ee)](_0x360d86),await this['handleTransactionPayload'](_0xaf55f,_0x4e356e);}}async[_0x2f335d(0x30f)](_0x37ae06){const _0x527ea8=_0x2f335d;switch(_0x37ae06[_0x527ea8(0x2ef)]){case _0x951bb1['RequestFile']:return this[_0x527ea8(0x411)](_0x37ae06);case _0x951bb1[_0x527ea8(0x1e2)]:return this[_0x527ea8(0x895)](_0x37ae06);case _0x951bb1[_0x527ea8(0x37f)]:return this[_0x527ea8(0x2fc)](_0x37ae06);case _0x951bb1[_0x527ea8(0x11a)]:return this[_0x527ea8(0x5d2)](_0x37ae06);default:throw new _0x315451(_0x315451['codes'][_0x527ea8(0x2da)],{'payload':_0x37ae06});}}async[_0x2f335d(0x5d2)](_0x249599,_0x106fb1=0x0){const _0x1ec033=_0x2f335d,_0x3af32a=_0x57b980(_0x249599[_0x1ec033(0x404)],_0x249599[_0x1ec033(0xdd)]);if(!_0x249599[_0x1ec033(0x1c9)]||void 0x0===_0x249599[_0x1ec033(0x94e)]||!_0x249599[_0x1ec033(0x4c6)])return this[_0x1ec033(0x769)][_0x1ec033(0x2ee)](_0x3af32a),void await this[_0x1ec033(0x1d1)](_0x249599[_0x1ec033(0xdd)],_0x249599[_0x1ec033(0x404)],{'checksum':_0x249599['checksum'],'skipEncryption':_0x249599['skipEncryption']});if(this[_0x1ec033(0x769)][_0x1ec033(0x627)](_0x3af32a)){const _0x4647ac=this[_0x1ec033(0x769)][_0x1ec033(0x389)](_0x3af32a);_0x4647ac[_0x1ec033(0x5a9)]!==_0x249599[_0x1ec033(0x5a9)]&&(_0x4647ac[_0x1ec033(0x247)]?.[_0x1ec033(0x476)](),this[_0x1ec033(0x769)][_0x1ec033(0x2ee)](_0x3af32a));}if(!this[_0x1ec033(0x769)][_0x1ec033(0x627)](_0x3af32a)){try{await this[_0x1ec033(0x4af)][_0x1ec033(0x762)](_0x3af32a);}catch(_0x48aff6){}try{const _0x4b8e9e=this[_0x1ec033(0x70e)]?await this[_0x1ec033(0x4af)][_0x1ec033(0x7b7)](_0x3af32a,{'skipEncryption':_0x249599[_0x1ec033(0x8c8)]}):void 0x0,_0xb225a2={'chunksReceived':_0x249599[_0x1ec033(0x791)]??0x0,'bytesReceived':0x0,'stream':_0x4b8e9e,'checksum':_0x249599[_0x1ec033(0x5a9)]};this[_0x1ec033(0x769)]['set'](_0x3af32a,_0xb225a2),await this[_0x1ec033(0x1d1)](_0x249599[_0x1ec033(0xdd)],_0x249599[_0x1ec033(0x404)],{'checksum':_0x249599[_0x1ec033(0x5a9)],'skipEncryption':_0x249599[_0x1ec033(0x8c8)]});}catch(_0x4d885e){}}const _0x2806d7=this[_0x1ec033(0x769)][_0x1ec033(0x389)](_0x3af32a);if(_0x249599[_0x1ec033(0x5a9)]!==_0x2806d7[_0x1ec033(0x5a9)])return;if(this['setPendingFileSyncingPayload'](_0x249599,_0x3af32a),this[_0x1ec033(0x70e)]){if(!_0x2806d7[_0x1ec033(0x247)])throw new _0x315451(_0x315451[_0x1ec033(0x600)][_0x1ec033(0x2da)],{'message':_0x1ec033(0x874)});let _0x4ef62a=_0x2806d7['chunksReceived'];if(_0x249599['index']!==_0x4ef62a){if(_0x4ef62a>_0x249599[_0x1ec033(0x94e)])return;const _0x371020=2064.1259842519685;if(_0x249599[_0x1ec033(0x94e)]>_0x4ef62a+_0x371020)return;if(_0x2806d7[_0x1ec033(0x3d6)]||(_0x2806d7['bufferedChunks']=[]),_0x2806d7['bufferedChunks'][_0x1ec033(0x39c)]>8256.503937007874)throw this[_0x1ec033(0x769)][_0x1ec033(0x2ee)](_0x3af32a),new _0x315451(_0x315451[_0x1ec033(0x600)][_0x1ec033(0x2da)],{'message':_0x1ec033(0x802)});return void _0x2806d7['bufferedChunks'][_0x1ec033(0x6e4)](_0x249599);}try{_0x2806d7[_0x1ec033(0x7ec)]+=0x1,_0x2806d7[_0x1ec033(0x772)]+=_0x249599[_0x1ec033(0x1c9)][_0x1ec033(0x422)],await _0x2806d7[_0x1ec033(0x247)]['write'](_0x249599['data']);}catch(_0x1e60ff){if(console[_0x1ec033(0x646)](_0x1ec033(0x34a),_0x1e60ff),_0x106fb1>0x3)throw this[_0x1ec033(0x769)][_0x1ec033(0x2ee)](_0x3af32a),console[_0x1ec033(0x646)](_0x1ec033(0x5b8),_0x1e60ff),new _0x315451(_0x315451[_0x1ec033(0x600)]['ObjectStoreInvalidSyncMessage'],{'message':_0x1ec033(0x5b8)});return this[_0x1ec033(0x5d2)](_0x249599,_0x106fb1+0x1);}}try{await this[_0x1ec033(0x322)](_0x2806d7,_0x249599['index']+0x1);}catch(_0x38f988){throw this['fileChunks']['delete'](_0x3af32a),_0x38f988;}if(this[_0x1ec033(0x769)]['set'](_0x3af32a,_0x2806d7),_0x2806d7[_0x1ec033(0x7ec)]<_0x249599[_0x1ec033(0x4c6)])return;await this[_0x1ec033(0x317)](_0x3af32a),this[_0x1ec033(0x70e)]&&(await this[_0x1ec033(0x58c)](_0x249599),_0x5a023b[_0x1ec033(0xf8)](_0x35a2ee[_0x1ec033(0x6ed)],{'type':_0x1ec033(0x440),'label':this[_0x1ec033(0x2b4)],'nodeId':this['localNode'][_0x1ec033(0x92c)](),'nodeType':this[_0x1ec033(0x6c3)][_0x1ec033(0x4e7)],'clusterId':this['clusterId'],'kind':_0x47407f[_0x1ec033(0x7d7)][_0x1ec033(0x113)],'path':_0x249599[_0x1ec033(0x404)],'fileName':_0x249599[_0x1ec033(0xdd)],'fileType':_0x249599['type'],'size':_0x2806d7[_0x1ec033(0x772)]}));const _0x443591=this[_0x1ec033(0x126)][_0x1ec033(0x389)](_0x249599[_0x1ec033(0x404)])??[];for(const _0xe86bce of _0x443591)await this[_0x1ec033(0x6b9)](_0xe86bce);this[_0x1ec033(0x126)]['delete'](_0x249599[_0x1ec033(0x404)]),this[_0x1ec033(0x1cf)][_0x1ec033(0x620)]({'event':_0x47407f[_0x1ec033(0xa4)][_0x1ec033(0x705)],'payload':{'file':{'kind':_0x47407f[_0x1ec033(0x7d7)][_0x1ec033(0x113)],'path':_0x249599[_0x1ec033(0x404)],'type':_0x249599['type'],'size':_0x2806d7[_0x1ec033(0x772)],'name':_0x249599[_0x1ec033(0xdd)],'pathName':_0x3af32a,'status':this[_0x1ec033(0x70e)]?_0x47407f[_0x1ec033(0x595)][_0x1ec033(0x6fe)]:_0x47407f['FileStatus'][_0x1ec033(0x486)]}}}),this['sendStats']();}async['manageBufferedChunks'](_0x283e1c,_0x4e4fd8){const _0xe38421=_0x2f335d,_0x4efbcd=_0x283e1c[_0xe38421(0x247)];let _0x5241b4=0x0;for(;_0x283e1c[_0xe38421(0x3d6)]&&_0x283e1c[_0xe38421(0x3d6)]['length']>0x0;){const _0x5777c4=_0x283e1c[_0xe38421(0x3d6)][_0xe38421(0x29d)](_0x57bcc6=>_0x57bcc6['index']===_0x4e4fd8+0x1);if(!_0x5777c4)break;_0x283e1c[_0xe38421(0x3d6)]=_0x283e1c['bufferedChunks']['filter'](_0xde4269=>_0xde4269['index']!==_0x4e4fd8+0x1);try{await _0x4efbcd['write'](_0x5777c4[_0xe38421(0x1c9)]),_0x4e4fd8++;}catch(_0x3a5f75){if(console['error'](_0xe38421(0x177),_0x3a5f75),_0x5241b4>0x3)throw console[_0xe38421(0x646)](_0xe38421(0x172),_0x3a5f75),new _0x315451(_0x315451[_0xe38421(0x600)][_0xe38421(0x2da)],{'message':_0xe38421(0x172)});_0x5241b4++;continue;}_0x283e1c['chunksReceived']+=0x1,_0x283e1c[_0xe38421(0x772)]+=_0x5777c4[_0xe38421(0x1c9)][_0xe38421(0x422)];}}async[_0x2f335d(0x880)](_0x24378f){const _0x569472=_0x2f335d;await this[_0x569472(0x4af)][_0x569472(0x680)](_0x24378f[_0x569472(0x404)]);const [_0x44839b,_0x51797e]=_0x28f4ac(_0x24378f['path']);this[_0x569472(0x1cf)][_0x569472(0x620)]({'event':_0x47407f[_0x569472(0xa4)]['FolderCreate'],'payload':{'folder':{'kind':_0x47407f[_0x569472(0x7d7)][_0x569472(0x242)],'name':_0x51797e,'path':_0x44839b,'pathName':_0x24378f[_0x569472(0x404)]}}});}async[_0x2f335d(0x71d)](_0x1009b4,_0x38d8ad=!0x1){const _0x10aebd=_0x2f335d;if(!_0x38d8ad&&!this[_0x10aebd(0x532)](_0x1009b4))return;const _0x1f3e1b=await this[_0x10aebd(0x762)](_0x1009b4[_0x10aebd(0x404)]),[_0x191fac,_0x432145]=_0x28f4ac(_0x1009b4[_0x10aebd(0x404)]);this[_0x10aebd(0x1cf)][_0x10aebd(0x620)]({'event':_0x1f3e1b===_0x47407f[_0x10aebd(0x7d7)][_0x10aebd(0x242)]?_0x47407f[_0x10aebd(0xa4)][_0x10aebd(0x2b1)]:_0x47407f[_0x10aebd(0xa4)]['FileDelete'],'payload':{'name':_0x432145,'path':_0x191fac,'pathName':_0x1009b4[_0x10aebd(0x404)]}}),this[_0x10aebd(0x938)]();}async[_0x2f335d(0x66b)](_0xbb6e3a,_0x5de44e=!0x1){const _0x3d4457=_0x2f335d;if(!_0x5de44e&&!this[_0x3d4457(0x532)](_0xbb6e3a))return this[_0x3d4457(0x51a)]['set'](_0xbb6e3a[_0x3d4457(0x28a)],this[_0x3d4457(0x51a)][_0x3d4457(0x389)](_0xbb6e3a['path'])??_0xbb6e3a['path']),void this[_0x3d4457(0x51a)][_0x3d4457(0x2ee)](_0xbb6e3a['path']);this[_0x3d4457(0x51a)][_0x3d4457(0x2ee)](_0xbb6e3a[_0x3d4457(0x404)]);const _0x590c01=await this[_0x3d4457(0x4af)][_0x3d4457(0x46f)](_0xbb6e3a[_0x3d4457(0x404)],_0xbb6e3a[_0x3d4457(0x28a)]),[_0x1b7ca5,_0x5a5a26]=_0x28f4ac(_0xbb6e3a['path']),[_0x5df1b5,_0x57354f]=_0x28f4ac(_0xbb6e3a[_0x3d4457(0x28a)]);this['eventListener'][_0x3d4457(0x620)]({'event':_0x590c01===_0x47407f[_0x3d4457(0x7d7)][_0x3d4457(0x242)]?_0x47407f[_0x3d4457(0xa4)][_0x3d4457(0x1e1)]:_0x47407f[_0x3d4457(0xa4)][_0x3d4457(0x21d)],'payload':{'name':_0x57354f,'path':_0x5df1b5,'pathName':_0xbb6e3a[_0x3d4457(0x28a)],'oldName':_0x5a5a26,'oldPath':_0x1b7ca5,'oldPathName':_0xbb6e3a[_0x3d4457(0x404)]}}),this[_0x3d4457(0x938)]();}[_0x2f335d(0x532)](_0xdfb60a){const _0x5cdca4=_0x2f335d,_0x4cbebc=this[_0x5cdca4(0x51a)]['get'](_0xdfb60a[_0x5cdca4(0x404)])??_0xdfb60a[_0x5cdca4(0x404)];let _0x56f88d=!0x1;for(const _0x43b634 of this[_0x5cdca4(0x769)][_0x5cdca4(0x502)]())if(_0x43b634[_0x5cdca4(0x60c)](_0x4cbebc)){const _0x443c9a=this[_0x5cdca4(0x126)][_0x5cdca4(0x389)](_0x43b634)??[];_0x443c9a[_0x5cdca4(0x6e4)](_0xdfb60a),this[_0x5cdca4(0x126)][_0x5cdca4(0x120)](_0x43b634,_0x443c9a),_0x56f88d=!0x0;}return!_0x56f88d;}async[_0x2f335d(0x966)](_0x55b79e){const _0x2ce8c0=_0x2f335d;if(!this[_0x2ce8c0(0x7b2)]?.[_0x2ce8c0(0x48e)]){if(!_0x55b79e['id'])throw new _0x315451(_0x315451[_0x2ce8c0(0x600)][_0x2ce8c0(0x2da)],{'message':'Missing\x20transaction\x20id'});if(_0x55b79e[_0x2ce8c0(0xb4)]!==this[_0x2ce8c0(0x3ec)])throw new _0x315451(_0x315451[_0x2ce8c0(0x600)][_0x2ce8c0(0x33f)]);await this[_0x2ce8c0(0x51f)][_0x2ce8c0(0x4c5)](_0x55b79e,this[_0x2ce8c0(0x2b4)]),await this[_0x2ce8c0(0x6cb)](_0x55b79e['id']);}}async['updateLastTransactionId'](_0x12fa33){const _0x448edc=_0x2f335d;this[_0x448edc(0x3ec)]=_0x12fa33;const _0x574490=new File([new Blob([this[_0x448edc(0x3ec)]])],_0x241269,{'type':_0x448edc(0x675)});await this[_0x448edc(0x67f)](_0x574490,'/');}async[_0x2f335d(0x411)](_0x2ab876){const _0x11c73=_0x2f335d;try{const _0x15462b=await this[_0x11c73(0x389)](_0x2ab876[_0x11c73(0x404)]+'/'+_0x2ab876[_0x11c73(0xdd)],{'skipEncryption':_0x2ab876[_0x11c73(0x8c8)]}),_0x50e291=await _0x14f3b7(_0x15462b);if(''!==_0x2ab876[_0x11c73(0x5a9)]&&_0x50e291!==_0x2ab876[_0x11c73(0x5a9)])return;_0x2ab876[_0x11c73(0x6a0)]=this[_0x11c73(0x6c3)][_0x11c73(0x92c)](),_0x2ab876[_0x11c73(0x2ef)]=_0x951bb1['RequestAccepted'],await this[_0x11c73(0x869)](_0x2ab876,[_0x2ab876[_0x11c73(0x1cc)]]);}catch(_0x2a00d3){}}async[_0x2f335d(0x895)](_0x21d57e){const _0x1ce891=_0x2f335d,_0x1eb8db=_0x57b980(_0x21d57e[_0x1ce891(0x404)],_0x21d57e[_0x1ce891(0xdd)]);if(!this[_0x1ce891(0x4f2)][_0x1ce891(0x627)](_0x1eb8db))return;const _0x3ca69e=this[_0x1ce891(0x4f2)][_0x1ce891(0x389)](_0x1eb8db);_0x3ca69e[_0x1ce891(0x2ef)]=_0x951bb1[_0x1ce891(0x37f)];const _0x5635ad=_0x21d57e[_0x1ce891(0x6a0)];if(!_0x5635ad)throw new _0x315451(_0x315451[_0x1ce891(0x600)][_0x1ce891(0x2da)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x1ce891(0x4f2)][_0x1ce891(0x2ee)](_0x1eb8db),this['pendingFilesSyncing'][_0x1ce891(0x627)](_0x5635ad)||this[_0x1ce891(0x7f1)][_0x1ce891(0x120)](_0x5635ad,new Map()),this[_0x1ce891(0x7f1)][_0x1ce891(0x389)](_0x5635ad)['set'](_0x1eb8db,[_0x3ca69e,this['getOrResetPendingFileTimeout'](_0x5635ad,_0x1eb8db)]),_0x3ca69e['answererId']=_0x5635ad,_0x3ca69e[_0x1ce891(0x791)]=this['fileChunks'][_0x1ce891(0x389)](_0x1eb8db)?.[_0x1ce891(0x7ec)]??0x0,0x0===_0x3ca69e[_0x1ce891(0x791)])try{const [_0x59887c,_0x20a9b5]=await this[_0x1ce891(0x24b)](_0x21d57e['name'],_0x21d57e['path'],_0x21d57e['checksum']);_0x59887c&&(_0x3ca69e[_0x1ce891(0x791)]=_0x20a9b5);}catch(_0x214345){}this[_0x1ce891(0x869)](_0x3ca69e,[_0x5635ad]);}async['handleFileSync'](_0x496f58){const _0x59891b=_0x2f335d,_0x505e60=_0x57b980(_0x496f58[_0x59891b(0x404)],_0x496f58[_0x59891b(0xdd)]),_0x69fc8c=await this[_0x59891b(0x389)](_0x505e60,{'skipEncryption':_0x496f58[_0x59891b(0x8c8)]}),_0x1a2297={..._0x496f58,'answererId':this[_0x59891b(0x6c3)][_0x59891b(0x92c)](),'action':_0x951bb1['RequestFileWrite'],'startIndex':_0x496f58[_0x59891b(0x791)]??0x0};await this[_0x59891b(0x43d)](_0x69fc8c,_0x1a2297,[_0x496f58[_0x59891b(0x1cc)]]);}async[_0x2f335d(0x43d)](_0x5e2fab,_0x300913,_0x456251){let _0x464f87,_0xe75a9;const _0x326c3d=new Promise(async(_0x442371,_0x4190c1)=>{_0x464f87=_0x442371,_0xe75a9=_0x4190c1;});return((async()=>{const _0x6166bd=a0_0x2fcc,_0x4b40e7=Math[_0x6166bd(0x588)](_0x5e2fab[_0x6166bd(0x15b)]/_0x593546);let _0x2a51e9=_0x300913['startIndex']??0x0;const _0x4f0035=_0x57b980(_0x300913[_0x6166bd(0x404)],_0x300913[_0x6166bd(0xdd)]);this[_0x6166bd(0x8d4)][_0x6166bd(0x120)](_0x4f0035,[!0x1,_0x326c3d]);for await(const _0x403029 of async function*(_0x117ddc,_0x3e2cfc=0x0,_0x15e9af){for await(const _0x55ed59 of _0x517a6c(_0x117ddc,_0x3e2cfc,_0x15e9af))yield _0x55ed59;}(_0x5e2fab,_0x2a51e9,this[_0x6166bd(0x5e2)])){const [_0x1ec3e5]=this['fileSendingMap'][_0x6166bd(0x389)](_0x4f0035)??[];if(_0x1ec3e5)return this[_0x6166bd(0x8d4)][_0x6166bd(0x2ee)](_0x4f0035),void _0xe75a9(new Error(_0x6166bd(0x4ba)));if(this[_0x6166bd(0x126)][_0x6166bd(0x627)](_0x4f0035)){const _0x3c76c0=this['pendingFilesTransactions']['get'](_0x4f0035);for(const _0x8de1cf of _0x3c76c0)if(_0x8de1cf['action']===_0x951bb1[_0x6166bd(0x705)]||_0x8de1cf['action']===_0x951bb1['Delete'])return;}const _0x424d79={..._0x300913,'type':_0x5e2fab[_0x6166bd(0x4e7)],'data':_0x403029,'index':_0x2a51e9,'total':_0x4b40e7};this[_0x6166bd(0x869)](_0x424d79,_0x456251),_0x2a51e9++;}const _0x4f3a10=setInterval(async()=>{const _0x8fe36c=_0x6166bd;await this[_0x8fe36c(0x5e2)]()>0x0||(clearInterval(_0x4f3a10),_0x464f87());});this[_0x6166bd(0x8d4)]['delete'](_0x4f0035);})()),_0x326c3d;}async[_0x2f335d(0x58c)](_0x4718c5){const _0x18dd87=_0x2f335d;try{const _0x119f6f=_0x57b980(_0x4718c5[_0x18dd87(0x404)],_0x4718c5['name']),_0x40df05=_0x119f6f+_0x561a56;await this['deleteObject'](_0x40df05);const [,_0x55a39d]=this['pendingFilesSyncing'][_0x18dd87(0x389)](_0x4718c5[_0x18dd87(0x6a0)])?.[_0x18dd87(0x389)](_0x119f6f)??[];_0x55a39d&&(clearTimeout(_0x55a39d),this[_0x18dd87(0x7f1)][_0x18dd87(0x389)](_0x4718c5[_0x18dd87(0x6a0)])[_0x18dd87(0x2ee)](_0x119f6f));}catch(_0x22ff1f){}0x0===this['pendingFilesSyncing'][_0x18dd87(0x389)](_0x4718c5['answererId'])?.[_0x18dd87(0x15b)]&&this[_0x18dd87(0x7f1)][_0x18dd87(0x2ee)](_0x4718c5['answererId']),0x0===this[_0x18dd87(0x7f1)][_0x18dd87(0x15b)]&&0x0===this[_0x18dd87(0x4f2)][_0x18dd87(0x15b)]&&this[_0x18dd87(0x1c2)]();}async[_0x2f335d(0x43c)](){const _0x2ce256=_0x2f335d;try{const _0x2e11b9=await this[_0x2ce256(0x51f)]['getTransactions'](this[_0x2ce256(0x2b4)],this['lastTransactionId']);for(const _0x39b450 of _0x2e11b9)await this[_0x2ce256(0x8d7)](_0x39b450,!0x0);}catch(_0x41c359){if(_0x41c359 instanceof _0x315451&&_0x41c359['code']===_0x315451['codes'][_0x2ce256(0xea)]){await this[_0x2ce256(0x4af)][_0x2ce256(0x762)](_0x241269),delete this[_0x2ce256(0x3ec)];try{const _0x563593=await this[_0x2ce256(0x4af)][_0x2ce256(0x684)]('/',!0x1);for(const _0x44c3a8 of _0x563593)await this[_0x2ce256(0x4af)]['deleteObject'](_0x44c3a8['pathName']);}catch(_0x31d5bb){}return await this[_0x2ce256(0x43c)]();}throw _0x41c359;}}async[_0x2f335d(0x6e8)](){const _0x291804=_0x2f335d,_0x26666c=await this[_0x291804(0x684)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x564ad4=async _0x3b30b4=>{const _0x49bdb5=_0x291804;for(const _0x21691e of _0x3b30b4){if(_0x21691e[_0x49bdb5(0x434)]===_0x47407f[_0x49bdb5(0x7d7)][_0x49bdb5(0x242)]){_0x21691e['entries']&&_0x21691e['entries'][_0x49bdb5(0x39c)]>0x0&&await _0x564ad4(_0x21691e[_0x49bdb5(0x8dc)]);continue;}if(_0x21691e['status']!==_0x47407f['FileStatus'][_0x49bdb5(0x486)])continue;const _0x1ec6a2=await this[_0x49bdb5(0x389)](_0x21691e['pathName']+_0x561a56),_0x2ae4c4=JSON['parse'](await _0x1ec6a2[_0x49bdb5(0x6e9)]()),_0x81104b=_0x21691e['name'][_0x49bdb5(0x709)](_0x561a56,''),_0x29e911={'payloadType':_0x1a5335[_0x49bdb5(0x3d3)],'action':_0x951bb1[_0x49bdb5(0x1d7)],'sourceId':this[_0x49bdb5(0x6c3)]['getId'](),'type':'','path':_0x21691e[_0x49bdb5(0x404)],'name':_0x81104b,'checksum':_0x2ae4c4[_0x49bdb5(0x5a9)],'skipEncryption':_0x2ae4c4['skipEncryption']},_0x559d2e=_0x57b980(_0x21691e[_0x49bdb5(0x404)],_0x81104b);this[_0x49bdb5(0x4f2)][_0x49bdb5(0x120)](_0x559d2e,_0x29e911);}};await _0x564ad4(_0x26666c),0x0===this[_0x291804(0x4f2)]['size']&&0x0===this['pendingFilesSyncing'][_0x291804(0x15b)]&&this['completeSync']();}async[_0x2f335d(0x1d1)](_0x260992,_0x39e324,_0x588e9f){const _0x11fe4c=_0x2f335d,_0x5a00c4=new File([new Blob([JSON[_0x11fe4c(0x4ad)](_0x588e9f)])],''+_0x260992+_0x561a56,{'type':_0x11fe4c(0x675)});await this[_0x11fe4c(0x67f)](_0x5a00c4,_0x39e324);}async[_0x2f335d(0x24b)](_0x6da01,_0x51f6aa,_0x1e7e73){const _0x164cc7=_0x2f335d;try{const _0x3b7b0f=_0x57b980(_0x51f6aa,_0x6da01),_0x2d24e1=_0x3b7b0f+_0x561a56,_0xa1d2e0=await this['objectStoreConnector'][_0x164cc7(0x389)](_0x2d24e1),{checksum:_0x45dc97,skipEncryption:_0x255232}=JSON[_0x164cc7(0x5c4)](await _0xa1d2e0[_0x164cc7(0x6e9)]()),_0x3b4c04=(await this['objectStoreConnector'][_0x164cc7(0x389)](_0x3b7b0f,{'skipEncryption':_0x255232}))[_0x164cc7(0x15b)];return _0x45dc97===_0x1e7e73&&_0x3b4c04%_0x593546==0x0?[!0x0,Math[_0x164cc7(0x44b)](_0x3b4c04/_0x593546)]:(await this[_0x164cc7(0x4af)]['deleteObject'](_0x3b7b0f),[!0x1,0x0]);}catch(_0x4e15d0){return[!0x1,0x0];}}[_0x2f335d(0x381)](_0x54c464,_0x340a0b){const _0xc4401d=_0x2f335d,[_0x16e4d8,_0x457c6e]=this['pendingFilesSyncing'][_0xc4401d(0x389)](_0x54c464)?.[_0xc4401d(0x389)](_0x340a0b)??[];return _0x457c6e&&clearTimeout(_0x457c6e),setTimeout(()=>{const _0x6bc67b=_0xc4401d,[_0x3118ae,_0x2bb761]=this[_0x6bc67b(0x7f1)][_0x6bc67b(0x389)](_0x54c464)['get'](_0x340a0b);this[_0x6bc67b(0x6a3)](_0x3118ae,_0x2bb761);},0x927c0);}async[_0x2f335d(0x6a3)](_0x3b4f8c,_0x4d0546){const _0x39a977=_0x2f335d;clearTimeout(_0x4d0546),_0x3b4f8c[_0x39a977(0x2ef)]=_0x951bb1['RequestFile'],this['objectRequests'][_0x39a977(0x120)](_0x57b980(_0x3b4f8c[_0x39a977(0x404)],_0x3b4f8c[_0x39a977(0xdd)]),_0x3b4f8c),this[_0x39a977(0x869)](_0x3b4f8c);}[_0x2f335d(0x6cc)](_0x138a89,_0x54b3ba){const _0x41e1f6=_0x2f335d;if(!this['syncContent'])return;this[_0x41e1f6(0x7f1)]['has'](_0x138a89[_0x41e1f6(0x6a0)])||this['pendingFilesSyncing'][_0x41e1f6(0x120)](_0x138a89['answererId'],new Map());const [_0x31bd72]=this[_0x41e1f6(0x7f1)][_0x41e1f6(0x389)](_0x138a89[_0x41e1f6(0x6a0)])[_0x41e1f6(0x389)](_0x54b3ba)??[{'payloadType':_0x1a5335['Request'],'action':_0x951bb1[_0x41e1f6(0x1d7)],'sourceId':this[_0x41e1f6(0x6c3)][_0x41e1f6(0x92c)](),'type':_0x138a89['type'],'name':_0x138a89[_0x41e1f6(0xdd)],'path':_0x138a89[_0x41e1f6(0x404)],'skipEncryption':_0x138a89[_0x41e1f6(0x8c8)],'checksum':_0x138a89['checksum'],'answererId':_0x138a89[_0x41e1f6(0x6a0)]}];this['pendingFilesSyncing'][_0x41e1f6(0x389)](_0x138a89[_0x41e1f6(0x6a0)])['set'](_0x54b3ba,[_0x31bd72,this['getOrResetPendingFileTimeout'](_0x138a89['answererId'],_0x54b3ba)]);}async['writeFile'](_0xa5ebe1,_0x3870bd,_0x58cb3b){const _0x34d3df=_0x2f335d;this[_0x34d3df(0x323)]&&(this[_0x34d3df(0x346)]+=0x1),await this[_0x34d3df(0x4af)]['writeFile'](_0xa5ebe1,_0x3870bd,_0x58cb3b);}async['deleteObject'](_0x5092fa){const _0x17ba41=_0x2f335d;try{const _0x3761eb=await this['objectStoreConnector'][_0x17ba41(0x762)](_0x5092fa);if(!_0x5092fa[_0x17ba41(0x1d2)](_0x561a56))try{await this[_0x17ba41(0x4af)][_0x17ba41(0x762)](_0x5092fa+_0x561a56);}catch(_0x164aaf){}return this[_0x17ba41(0x323)]&&_0x3761eb===_0x47407f['ObjectKind']['File']&&(this[_0x17ba41(0x346)]+=0x1),_0x3761eb;}catch(_0x51853b){return await this[_0x17ba41(0x4af)][_0x17ba41(0x762)](_0x5092fa+_0x561a56);}}async[_0x2f335d(0x46f)](_0x16fa72,_0x546fe0){const _0x32365b=_0x2f335d;try{const _0x275eef=await this[_0x32365b(0x4af)][_0x32365b(0x46f)](_0x16fa72,_0x546fe0);if(!_0x16fa72['endsWith'](_0x561a56))try{await this[_0x32365b(0x4af)][_0x32365b(0x46f)](_0x16fa72+_0x561a56,_0x546fe0+_0x561a56);}catch(_0xb435a0){}return _0x275eef;}catch(_0x4d94c2){return await this['objectStoreConnector'][_0x32365b(0x46f)](_0x16fa72+_0x561a56,_0x546fe0+_0x561a56);}}['sendStats'](){const _0x34af72=_0x2f335d;this['debounceStats']&&clearTimeout(this[_0x34af72(0x7a1)]),this['debounceStats']=setTimeout(async()=>{const _0x3adac3=_0x34af72;delete this[_0x3adac3(0x7a1)];const _0x587a6b=await this['objectStoreConnector'][_0x3adac3(0x3be)]('/');this[_0x3adac3(0x57e)]?.['publish']({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x3adac3(0x109)],'content':{'type':_0x314d98[_0x3adac3(0x3ae)],'label':this[_0x3adac3(0x2b4)],'stats':{'timestamp':Date['now'](),'storage':_0x587a6b,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3adac3(0x108)],'bytesSent':this[_0x3adac3(0x18b)],'bytesReceived':this['bytesReceived'],'writes':this[_0x3adac3(0x251)],'reads':this[_0x3adac3(0x565)],'prompts':0x0,'tokens':0x0}}}),this[_0x3adac3(0x70e)]&&_0x5a023b[_0x3adac3(0x40a)](_0x35a2ee[_0x3adac3(0x6ed)],'ccc'+this[_0x3adac3(0x49c)]+'ccc'+this[_0x3adac3(0x2b4)],_0x587a6b);},_0x25c4c2);}async[_0x2f335d(0x522)](_0x494f35){const _0x408aa4=_0x2f335d;try{return await this[_0x408aa4(0x389)](_0x494f35),!0x0;}catch(_0x530d3a){return!0x1;}}async['deleteFileChunks'](_0x66bb96){const _0x2b0e53=_0x2f335d;if(!this['fileChunks']['has'](_0x66bb96))return;const _0x5d6884=this[_0x2b0e53(0x769)][_0x2b0e53(0x389)](_0x66bb96);if(_0x5d6884[_0x2b0e53(0x247)])try{await _0x5d6884[_0x2b0e53(0x247)][_0x2b0e53(0x476)]();}catch(_0x513d11){console['error']('Error\x20closing\x20writable\x20stream',_0x513d11);}this[_0x2b0e53(0x769)]['delete'](_0x66bb96);}}class _0x5b4127 extends _0x56016a{['localNode'];[_0x2f335d(0x49c)];[_0x2f335d(0x355)]=new Map();[_0x2f335d(0x7a1)];constructor(_0x48d001,_0x145c66,_0x35635d){const _0x463924=_0x2f335d;if(_0x463924(0x9d9)!=typeof _0x145c66)throw new _0x194c78(_0x2e40c3[_0x463924(0x6be)],_0x463924(0x723));super(_0x48d001,_0x145c66),this[_0x463924(0x6c3)]=_0x48d001,this[_0x463924(0x49c)]=_0x35635d,this['sendStats']();}['reset'](){const _0x18d15d=_0x2f335d;this[_0x18d15d(0x938)]();}['getContentType'](){const _0x443eac=_0x2f335d;return _0x47407f[_0x443eac(0x1e9)][_0x443eac(0x2f7)];}[_0x2f335d(0x620)](_0x447e9c,_0x4a365e){const _0x473184=_0x2f335d;_0x5a023b[_0x473184(0x6fb)](_0x4abdbe[_0x473184(0x2f7)],_0x473184(0x6bc),this[_0x473184(0x6c3)][_0x473184(0x92c)](),_0x447e9c,_0x4a365e),_0x5a023b[_0x473184(0xf8)](_0x35a2ee[_0x473184(0x2f7)],{'type':_0x473184(0x620),'label':this[_0x473184(0x2b4)],'nodeId':this[_0x473184(0x6c3)][_0x473184(0x92c)](),'nodeType':this[_0x473184(0x6c3)][_0x473184(0x4e7)],'clusterId':this[_0x473184(0x49c)],'remoteIds':_0x4a365e??[],'contentType':_0x447e9c instanceof File?_0x47407f[_0x473184(0x1e9)][_0x473184(0x113)]:_0x47407f['ContentType'][_0x473184(0x433)],'size':_0x447e9c instanceof File?_0x447e9c[_0x473184(0x15b)]:JSON[_0x473184(0x4ad)](_0x447e9c)['length']}),this[_0x473184(0x938)](),this['send'](_0x447e9c,_0x4a365e);}['subscribe'](_0x3bfe74,_0x4916da){const _0x350c2d=_0x2f335d;if(this['unsubscribeHandler'][_0x350c2d(0x627)](_0x3bfe74))throw new _0x194c78(_0x2e40c3['PubSubTopicAlreadySubscribed'],_0x350c2d(0x556));this[_0x350c2d(0x355)][_0x350c2d(0x120)](_0x3bfe74,this['onMessage']((_0x5e012a,_0x1b4318)=>{const _0x470bb6=_0x350c2d;_0x470bb6(0x1c9)===_0x3bfe74&&_0x1b4318 instanceof File||!(_0x470bb6(0x85e)!==_0x3bfe74||_0x1b4318 instanceof File)||(_0x5a023b[_0x470bb6(0x6fb)](_0x4abdbe[_0x470bb6(0x2f7)],_0x470bb6(0x850),this['localNode'][_0x470bb6(0x92c)](),_0x5e012a,_0x1b4318),_0x5a023b[_0x470bb6(0xf8)](_0x35a2ee[_0x470bb6(0x2f7)],{'type':_0x470bb6(0x504),'label':this[_0x470bb6(0x2b4)],'nodeId':this[_0x470bb6(0x6c3)]['getId'](),'nodeType':this[_0x470bb6(0x6c3)][_0x470bb6(0x4e7)],'clusterId':this['clusterId'],'remoteId':_0x5e012a,'contentType':_0x3bfe74,'size':_0x1b4318 instanceof File?_0x1b4318['size']:JSON[_0x470bb6(0x4ad)](_0x1b4318)[_0x470bb6(0x39c)]}),this[_0x470bb6(0x938)](),_0x4916da(_0x5e012a,_0x1b4318));}));}[_0x2f335d(0x5be)](_0x2b8e03){const _0x5f0847=_0x2f335d;this[_0x5f0847(0x355)][_0x5f0847(0x389)](_0x2b8e03)?.(),this[_0x5f0847(0x355)][_0x5f0847(0x2ee)](_0x2b8e03);}[_0x2f335d(0x7f0)](){const _0x42ed64=_0x2f335d;this[_0x42ed64(0x355)][_0x42ed64(0x82f)](_0x26021e=>_0x26021e()),clearTimeout(this[_0x42ed64(0x7a1)]),delete this['debounceStats'],super[_0x42ed64(0x7f0)]();}[_0x2f335d(0x476)](){const _0x1108d2=_0x2f335d;this[_0x1108d2(0x57e)]?.[_0x1108d2(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x1108d2(0x109)],'content':{'type':_0x314d98[_0x1108d2(0x3b7)],'label':this[_0x1108d2(0x2b4)]}});}[_0x2f335d(0x938)](){const _0x38f861=_0x2f335d;this[_0x38f861(0x7a1)]&&clearTimeout(this[_0x38f861(0x7a1)]),this[_0x38f861(0x7a1)]=setTimeout(()=>{const _0x39ba71=_0x38f861;this['systemTopic']?.[_0x39ba71(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x39ba71(0x109)],'content':{'type':_0x314d98[_0x39ba71(0x80d)],'label':this[_0x39ba71(0x2b4)],'stats':{'timestamp':Date[_0x39ba71(0x449)](),'storage':0x0,'messagesSent':this[_0x39ba71(0x7c8)],'messagesReceived':this[_0x39ba71(0x108)],'bytesSent':this[_0x39ba71(0x18b)],'bytesReceived':this[_0x39ba71(0x772)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x25c4c2);}}class _0x813fbf extends _0x4e4266{[_0x2f335d(0x6c3)];[_0x2f335d(0x143)];[_0x2f335d(0x4e3)];[_0x2f335d(0x49c)];[_0x2f335d(0x355)];[_0x2f335d(0x1d8)];[_0x2f335d(0x3c3)];[_0x2f335d(0x298)]=new Map();[_0x2f335d(0x1f4)];[_0x2f335d(0x52d)]=new Set();[_0x2f335d(0x181)];[_0x2f335d(0x96f)]=_0x390225();[_0x2f335d(0x658)]=new Map();constructor(_0x39842b,_0x46f37b,_0x358222,_0x6bea28,_0x4652ff,_0x474eb8){const _0xcd441a=_0x2f335d;super(_0x46f37b,_0x358222,new MediaStream()),this['localNode']=_0x39842b,this[_0xcd441a(0x143)]=_0x6bea28,this[_0xcd441a(0x4e3)]=_0x4652ff,this[_0xcd441a(0x49c)]=_0x474eb8,this[_0xcd441a(0x6c6)][_0xcd441a(0x3bc)]()[_0xcd441a(0x82f)](_0x228fdd=>this[_0xcd441a(0x545)](_0x228fdd));}['destroy'](){const _0x2ba708=_0x2f335d;this['outgoingStreams'][_0x2ba708(0x15b)]>0x0&&(this[_0x2ba708(0x298)][_0x2ba708(0x82f)](_0x124a9c=>{const _0x1794e4=_0x2ba708;_0x124a9c[_0x1794e4(0x1f0)](),_0x124a9c['destroy']();}),this[_0x2ba708(0x298)][_0x2ba708(0x18c)]()),this['trackEndedListeners'][_0x2ba708(0x82f)](_0x4215fb=>_0x4215fb()),this[_0x2ba708(0x6c6)][_0x2ba708(0x3bc)]()[_0x2ba708(0x82f)](_0x1031db=>this[_0x2ba708(0x6c6)]['removeTrack'](_0x1031db)),this[_0x2ba708(0x3c3)]&&(clearTimeout(this[_0x2ba708(0x3c3)]),delete this[_0x2ba708(0x3c3)]),this[_0x2ba708(0x1d8)]?.(),super[_0x2ba708(0x7f0)]();}[_0x2f335d(0x5ef)](_0x192637){const _0x20e7e2=_0x2f335d;this[_0x20e7e2(0x355)]=_0x192637[_0x20e7e2(0x504)](({content:_0x160733})=>{const _0xef1fa3=_0x20e7e2;switch(_0x160733[_0xef1fa3(0x2ef)]){case _0x444468['RemoteAdd']:if(_0x5a023b[_0xef1fa3(0x6fb)](_0x4abdbe[_0xef1fa3(0x378)],_0xef1fa3(0x692),this[_0xef1fa3(0x6c3)][_0xef1fa3(0x92c)](),this['providerId']),_0x160733[_0xef1fa3(0x247)]['id']!==this['internalId']||_0x160733[_0xef1fa3(0x181)]!==this['providerId'])return;this[_0xef1fa3(0x947)](_0x160733[_0xef1fa3(0x47b)][_0xef1fa3(0x434)]),this[_0xef1fa3(0x6c6)][_0xef1fa3(0x1bf)](_0x160733[_0xef1fa3(0x47b)]);for(const [_0x42e28b,_0xf2eacb]of this[_0xef1fa3(0x298)][_0xef1fa3(0x8dc)]())try{_0xf2eacb[_0xef1fa3(0x1bf)](_0x160733[_0xef1fa3(0x47b)]);}catch(_0xe20283){_0xf2eacb[_0xef1fa3(0x7f0)](),this['outgoingStreams'][_0xef1fa3(0x2ee)](_0x42e28b);}this[_0xef1fa3(0x545)](_0x160733['track']),this[_0xef1fa3(0x8b3)](),_0xef1fa3(0x209)===_0x160733[_0xef1fa3(0x47b)]['kind']&&this['renderElement']&&(this[_0xef1fa3(0x6c6)][_0xef1fa3(0x295)]?setTimeout(()=>this[_0xef1fa3(0x1f4)]?.[_0xef1fa3(0x496)](),0x0):setTimeout(()=>this[_0xef1fa3(0x1f4)]?.[_0xef1fa3(0x738)](),0x0),this[_0xef1fa3(0x38a)]());break;case _0x444468['RemoteRemove']:if(_0x160733['stream']['id']!==this[_0xef1fa3(0x143)]||_0x160733[_0xef1fa3(0x181)]!==this[_0xef1fa3(0x181)])return;this[_0xef1fa3(0x947)](_0x160733['track']['kind']),this[_0xef1fa3(0x1f4)]&&'video'===_0x160733[_0xef1fa3(0x47b)]['kind']&&(this[_0xef1fa3(0x1d8)]?.(),this['mediaStream']['getTracks']()[_0xef1fa3(0x39c)]>0x0?this['renderElement']['load']():this[_0xef1fa3(0x1f4)][_0xef1fa3(0x4da)]=null);}});}['unregisterSubscriber'](){const _0x48c78b=_0x2f335d;this[_0x48c78b(0x355)]?.(),this[_0x48c78b(0x658)][_0x48c78b(0x82f)](_0x51719a=>_0x51719a()),delete this[_0x48c78b(0x355)];}['getInternalStreamId'](){const _0x5d859a=_0x2f335d;return this[_0x5d859a(0x143)];}[_0x2f335d(0x2c9)](_0x357e6e){const _0x2bce28=_0x2f335d;this[_0x2bce28(0x143)]=_0x357e6e;}[_0x2f335d(0x283)](){const _0x29d493=_0x2f335d;return this[_0x29d493(0x4e3)];}[_0x2f335d(0x18a)](_0x556ecd){const _0x4f6750=_0x2f335d;for(const _0x14b129 of _0x556ecd||this[_0x4f6750(0x4e3)])if(!this[_0x4f6750(0x6c6)][_0x4f6750(0x3bc)]()[_0x4f6750(0x29d)](_0x24cd7d=>_0x24cd7d[_0x4f6750(0x434)]===_0x14b129))return!0x1;return!0x0;}['getResolution'](){const _0x296e13=_0x2f335d;let _0x4a704={'width':0x0,'height':0x0};const _0x1bd226=this['mediaStream'][_0x296e13(0x5c8)]();if(_0x1bd226['length']>0x0){const _0xd5e013=_0x1bd226[0x0][_0x296e13(0x170)]();_0xd5e013['width']&&_0xd5e013[_0x296e13(0x2a0)]&&(_0x4a704={'width':_0xd5e013[_0x296e13(0x9cd)],'height':_0xd5e013[_0x296e13(0x2a0)]});}return _0x4a704;}[_0x2f335d(0x7c9)](_0x2cf6b7){const _0x10048c=_0x2f335d;for(const _0x527d33 of _0x2cf6b7)if(!this[_0x10048c(0x52d)][_0x10048c(0x627)](_0x527d33))return!0x1;return!0x0;}[_0x2f335d(0x529)](_0x5e503d,_0x406747){const _0x1bda8d=_0x2f335d;if(!this[_0x1bda8d(0x298)][_0x1bda8d(0x627)](_0x5e503d)){const _0x4cc705=new _0x4c63a5(this[_0x1bda8d(0x7e2)],this[_0x1bda8d(0x2b4)],this['mediaStream'],_0x5e503d,_0x406747),_0x146102=_0x4cc705[_0x1bda8d(0x78c)](()=>{const _0x2f2932=_0x1bda8d;_0x146102(),this[_0x2f2932(0x298)][_0x2f2932(0x389)](_0x5e503d)?.['destroy'](),this[_0x2f2932(0x298)][_0x2f2932(0x2ee)](_0x5e503d);});this['outgoingStreams'][_0x1bda8d(0x120)](_0x5e503d,_0x4cc705),_0x4cc705[_0x1bda8d(0x333)](this[_0x1bda8d(0x57e)]);}return this['outgoingStreams'][_0x1bda8d(0x389)](_0x5e503d);}['getShareableStreamId'](){const _0xd8a706=_0x2f335d;return this[_0xd8a706(0x6c6)]['id'];}[_0x2f335d(0x5bf)](){const _0x6d153b=_0x2f335d;return _0x47407f[_0x6d153b(0x76f)][_0x6d153b(0x46e)];}[_0x2f335d(0x800)](){const _0x4e764a=_0x2f335d;return Array[_0x4e764a(0x2ce)](this['subscribedTracks']);}[_0x2f335d(0x504)](_0x4ded92){const _0x5ae268=_0x2f335d;let _0xebe94e=[];if(_0x4ded92){'object'!=typeof _0x4ded92[_0x5ae268(0x209)]||_0x4ded92[_0x5ae268(0x209)][_0x5ae268(0x1f4)]instanceof HTMLVideoElement||!this[_0x5ae268(0x1f4)]||(_0x4ded92[_0x5ae268(0x209)]={'renderElement':this[_0x5ae268(0x1f4)]});try{(0x0,_0x47407f['isValidMediaSubscriptionParams'])(_0x4ded92);}catch(_0x502b41){throw new _0x194c78(_0x2e40c3[_0x5ae268(0x8e6)],_0x5ae268(0x484));}_0x4ded92['video']&&(_0xebe94e[_0x5ae268(0x6e4)]('video'),_0x5ae268(0x7b0)!=typeof _0x4ded92[_0x5ae268(0x209)]&&_0x4ded92[_0x5ae268(0x209)][_0x5ae268(0x1f4)]&&(this[_0x5ae268(0x1f4)]=_0x4ded92[_0x5ae268(0x209)][_0x5ae268(0x1f4)],_0x4ded92[_0x5ae268(0x209)][_0x5ae268(0xf1)]||(_0x4ded92['video'][_0x5ae268(0xf1)]={'width':this[_0x5ae268(0x1f4)][_0x5ae268(0x8f0)],'height':this[_0x5ae268(0x1f4)]['clientHeight']}),delete _0x4ded92[_0x5ae268(0x209)][_0x5ae268(0x1f4)])),_0x4ded92[_0x5ae268(0x48b)]&&_0xebe94e['push']('audio');}else _0xebe94e=this[_0x5ae268(0x283)]();this['isSubscribed'](_0xebe94e)||(_0xebe94e['forEach'](_0x16bcd0=>this['subscribedTracks'][_0x5ae268(0xad)](_0x16bcd0)),this[_0x5ae268(0x57e)][_0x5ae268(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x5ae268(0x109)],'content':{'type':_0x314d98['SubscribeMediaStream'],'label':this[_0x5ae268(0x2b4)],'ownerId':this[_0x5ae268(0x7e2)][_0x5ae268(0x92c)](),'trackKinds':_0xebe94e,'params':_0x4ded92}}),_0x5a023b[_0x5ae268(0xf8)](_0x35a2ee[_0x5ae268(0x928)],{'type':_0x5ae268(0x504),'label':this[_0x5ae268(0x2b4)],'nodeId':this['localNode'][_0x5ae268(0x92c)](),'nodeType':this[_0x5ae268(0x6c3)][_0x5ae268(0x4e7)],'clusterId':this[_0x5ae268(0x49c)],'sourceId':this[_0x5ae268(0x7e2)][_0x5ae268(0x92c)](),'streamId':this[_0x5ae268(0x143)],'trackKinds':_0xebe94e}));}['update'](_0x45c0cb){const _0x3535a7=_0x2f335d;try{(0x0,_0x47407f[_0x3535a7(0x4cb)])(_0x45c0cb);}catch(_0x55fce8){throw new _0x194c78(_0x2e40c3['RemoteMediaStreamInvalidSubscriptionParams'],_0x3535a7(0x484));}this[_0x3535a7(0x3c3)]&&clearTimeout(this[_0x3535a7(0x3c3)]),this[_0x3535a7(0x3c3)]=setTimeout(()=>{const _0x1f5cdd=_0x3535a7;delete this[_0x1f5cdd(0x3c3)],this['systemTopic'][_0x1f5cdd(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x1f5cdd(0x109)],'content':{'type':_0x314d98[_0x1f5cdd(0x431)],'label':this['label'],'ownerId':this[_0x1f5cdd(0x7e2)]['getId'](),'params':_0x45c0cb}});},0x1f4);}[_0x2f335d(0x5be)](_0x12f18d){const _0x2374d8=_0x2f335d;_0x12f18d||(_0x12f18d=this[_0x2374d8(0x283)]()),(_0x12f18d=Array['isArray'](_0x12f18d)?_0x12f18d:[_0x12f18d])['forEach'](_0xbd6f26=>this['subscribedTracks'][_0x2374d8(0x2ee)](_0xbd6f26)),this['systemTopic'][_0x2374d8(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688['Content'],'content':{'type':_0x314d98[_0x2374d8(0x342)],'label':this[_0x2374d8(0x2b4)],'ownerId':this[_0x2374d8(0x7e2)][_0x2374d8(0x92c)](),'trackKinds':_0x12f18d,'remainingTracks':this[_0x2374d8(0x52d)][_0x2374d8(0x15b)]}});}['onProviderChange'](_0x36f77e){const _0x284551=_0x2f335d;return this[_0x284551(0x96f)][_0x284551(0x504)](_0x36f77e);}[_0x2f335d(0x683)](){const _0x809646=_0x2f335d;return this[_0x809646(0x181)];}[_0x2f335d(0x4d8)](_0x592a76){const _0x565b98=_0x2f335d;this[_0x565b98(0x181)]!==_0x592a76&&(this[_0x565b98(0x181)]=_0x592a76,this['providerListener'][_0x565b98(0x620)](_0x592a76));}[_0x2f335d(0x6c1)](_0x23c602){const _0x4971e4=_0x2f335d;this[_0x4971e4(0x658)][_0x4971e4(0x389)](_0x23c602)?.(),this[_0x4971e4(0x658)]['delete'](_0x23c602);}['removeTrack'](_0x1af42a){const _0x100c69=_0x2f335d,_0x1601f7=this['mediaStream'][_0x100c69(0x3bc)]()[_0x100c69(0x29d)](_0x237874=>_0x237874[_0x100c69(0x434)]===_0x1af42a);_0x1601f7&&(this[_0x100c69(0x6c6)][_0x100c69(0x947)](_0x1601f7),this[_0x100c69(0x298)]['forEach'](_0x2d2ebf=>_0x2d2ebf[_0x100c69(0x947)](_0x1af42a)),this['trackEndedListeners'][_0x100c69(0x389)](_0x1af42a)?.());}['setupRenderElement'](){const _0x5abed4=_0x2f335d;this[_0x5abed4(0x1f4)]&&(this['renderElement']['srcObject']&&this[_0x5abed4(0x1f4)][_0x5abed4(0x4da)]===this[_0x5abed4(0x6c6)]||(this[_0x5abed4(0x1f4)][_0x5abed4(0x4da)]=this[_0x5abed4(0x6c6)]));}[_0x2f335d(0x38a)](){const _0xc56dcb=_0x2f335d;if(this[_0xc56dcb(0x1f4)]&&!this[_0xc56dcb(0x1d8)]&&_0xc56dcb(0x931)!=typeof ResizeObserver){let _0x10b78d=this['renderElement'][_0xc56dcb(0x8f0)],_0x24bcad=this[_0xc56dcb(0x1f4)][_0xc56dcb(0x6ce)];const _0x17d9c8=new ResizeObserver(_0x2399b8=>{const _0x26a600=_0xc56dcb,{width:_0x487af2,height:_0x3d40da}=_0x2399b8[0x0]['contentRect'];_0x10b78d===_0x487af2&&_0x24bcad===_0x3d40da||(_0x10b78d=Math['floor'](_0x487af2),_0x24bcad=Math[_0x26a600(0x934)](_0x3d40da),this['update']({'video':{'maxResolution':{'width':_0x487af2,'height':_0x3d40da}}}));});_0x17d9c8[_0xc56dcb(0x8ed)](this[_0xc56dcb(0x1f4)]),this[_0xc56dcb(0x1d8)]=()=>_0x17d9c8[_0xc56dcb(0x3af)]();}}[_0x2f335d(0x45f)](_0x816a06){const _0x33e63d=_0x2f335d,_0x2b01f2=[];for(const _0x59ca6f of this[_0x33e63d(0x52d)])this['removeTrack'](_0x59ca6f),_0x2b01f2[_0x33e63d(0x6e4)](_0x59ca6f);this[_0x33e63d(0x181)]&&this[_0x33e63d(0x57e)][_0x33e63d(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x33e63d(0x109)],'content':{'type':_0x314d98[_0x33e63d(0x812)],'label':this['label'],'streamId':this[_0x33e63d(0x143)],'ownerId':this[_0x33e63d(0x7e2)]['getId'](),'providerId':this[_0x33e63d(0x181)],'trackKinds':_0x2b01f2}});}[_0x2f335d(0x545)](_0x2e3eaf){const _0x1b3f82=_0x2f335d,_0x19a857=()=>this['handleRemoteTrackFailure'](_0x2e3eaf);_0x2e3eaf[_0x1b3f82(0x80c)]('ended',_0x19a857),_0x2e3eaf[_0x1b3f82(0x80c)](_0x1b3f82(0x2d2),_0x19a857),this[_0x1b3f82(0x658)]['set'](_0x2e3eaf[_0x1b3f82(0x434)],()=>{const _0xd512d6=_0x1b3f82;_0x2e3eaf[_0xd512d6(0x382)]('ended',_0x19a857),_0x2e3eaf[_0xd512d6(0x382)](_0xd512d6(0x2d2),_0x19a857),this['trackEndedListeners'][_0xd512d6(0x2ee)](_0x2e3eaf[_0xd512d6(0x434)]);});}}class _0x17e71b extends _0x56016a{[_0x2f335d(0x6c3)];[_0x2f335d(0x49c)];[_0x2f335d(0xa5)];['db'];[_0x2f335d(0x7a1)];[_0x2f335d(0x251)]=0x0;[_0x2f335d(0x565)]=0x0;[_0x2f335d(0x86a)]=!0x1;constructor(_0x45bfe1,_0x349d51,_0x261568,_0x230203,_0x5a1e7c){const _0x1a19bc=_0x2f335d;if(_0x1a19bc(0x9d9)!=typeof _0x349d51)throw new _0x194c78(_0x2e40c3[_0x1a19bc(0x9b9)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x45bfe1,_0x349d51),this[_0x1a19bc(0x6c3)]=_0x45bfe1,this[_0x1a19bc(0x49c)]=_0x261568,this['vendorId']=_0x230203;const _0x256e34=_0x1a19bc(0x8e5)+this[_0x1a19bc(0xa5)]+_0x1a19bc(0x8e5)+this['clusterId']+'ccc'+this[_0x1a19bc(0x2b4)];this['db']=new _0x5a1e7c(_0x256e34),this[_0x1a19bc(0x938)]();}[_0x2f335d(0x426)](){const _0xf82eb=_0x2f335d;return this[_0xf82eb(0x86a)];}[_0x2f335d(0x805)](_0x39da34){const _0x16acca=_0x2f335d;this[_0x16acca(0x86a)]=_0x39da34;}['destroy'](){const _0x3e66a8=_0x2f335d;clearTimeout(this[_0x3e66a8(0x7a1)]),delete this[_0x3e66a8(0x7a1)],super[_0x3e66a8(0x7f0)]();}['close'](){const _0x1455c5=_0x2f335d;this[_0x1455c5(0x57e)][_0x1455c5(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x1455c5(0x109)],'content':{'type':_0x314d98[_0x1455c5(0x90b)],'label':this[_0x1455c5(0x2b4)]}});}[_0x2f335d(0x2fe)](){this['sendStats']();}[_0x2f335d(0x8c7)](){const _0xd3714b=_0x2f335d;return _0x47407f[_0xd3714b(0x1e9)][_0xd3714b(0x485)];}['search'](_0x2350ef,_0x40c88b,_0x32e55d,_0x45eff1){const _0x16d6db=_0x2f335d,_0x24f7b2=this['db']['search'](_0x2350ef,_0x40c88b,_0x32e55d,_0x45eff1);return this['reads']+=0x1,_0x5a023b[_0x16d6db(0xf8)](_0x35a2ee[_0x16d6db(0x485)],{'type':_0x16d6db(0xf2),'label':this[_0x16d6db(0x2b4)],'nodeId':this[_0x16d6db(0x6c3)]['getId'](),'nodeType':this[_0x16d6db(0x6c3)]['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x16d6db(0x938)](),_0x24f7b2;}[_0x2f335d(0x314)](_0x5ead91,_0x45460f,_0x54bf73,_0x5e93bd){const _0xb76777=_0x2f335d;this['db'][_0xb76777(0x314)](_0x5ead91,_0x45460f,_0x54bf73,_0x5e93bd),this[_0xb76777(0x251)]+=0x1,_0x5a023b[_0xb76777(0xf8)](_0x35a2ee[_0xb76777(0x485)],{'type':'insert','label':this[_0xb76777(0x2b4)],'nodeId':this[_0xb76777(0x6c3)][_0xb76777(0x92c)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'size':_0x5e93bd[_0xb76777(0x38b)]((_0x4fad70,_0x1244ee)=>_0x4fad70+_0x1244ee[_0xb76777(0x39c)],0x0)}),this['sendStats']();}['remove'](_0x27bcaa){const _0x27a47e=_0x2f335d;this['db'][_0x27a47e(0x222)](_0x27bcaa),this['writes']+=0x1,_0x5a023b[_0x27a47e(0xf8)](_0x35a2ee['VectorDatabase'],{'type':_0x27a47e(0x222),'label':this[_0x27a47e(0x2b4)],'nodeId':this[_0x27a47e(0x6c3)][_0x27a47e(0x92c)](),'nodeType':this['localNode'][_0x27a47e(0x4e7)],'clusterId':this[_0x27a47e(0x49c)],'size':0x0}),this[_0x27a47e(0x938)]();}[_0x2f335d(0x857)](_0x1fd80e){const _0x52e11f=_0x2f335d;this['db'][_0x52e11f(0x857)](_0x1fd80e);}[_0x2f335d(0x8df)](_0x1d2848){const _0x35e989=_0x2f335d;this['db'][_0x35e989(0x8df)](_0x1d2848);}['sendStats'](){const _0x599a1a=_0x2f335d;this[_0x599a1a(0x7a1)]&&clearTimeout(this['debounceStats']),this[_0x599a1a(0x7a1)]=setTimeout(async()=>{const _0x300962=_0x599a1a;delete this['debounceStats'];const _0x523559=this['db']['getBuffer']()[_0x300962(0x422)];this['systemTopic'][_0x300962(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x300962(0x109)],'content':{'type':_0x314d98['VectorDatabaseStats'],'label':this[_0x300962(0x2b4)],'stats':{'timestamp':Date[_0x300962(0x449)](),'storage':_0x523559,'messagesSent':this[_0x300962(0x7c8)],'messagesReceived':this[_0x300962(0x108)],'bytesSent':this[_0x300962(0x18b)],'bytesReceived':this['bytesReceived'],'writes':this[_0x300962(0x251)],'reads':this[_0x300962(0x565)],'prompts':0x0,'tokens':0x0}}}),_0x5a023b[_0x300962(0x40a)](_0x35a2ee[_0x300962(0x485)],_0x300962(0x8e5)+this[_0x300962(0x49c)]+_0x300962(0x8e5)+this[_0x300962(0x2b4)],_0x523559);},_0x25c4c2);}}class _0x417906{['id'];[_0x2f335d(0x7a8)];[_0x2f335d(0x71a)];constructor(_0x2306e1,_0x31506d=new Set(),_0x24f9e0){const _0x5bb044=_0x2f335d;this['id']=_0x2306e1,this[_0x5bb044(0x7a8)]=_0x31506d,this[_0x5bb044(0x71a)]=_0x24f9e0;}[_0x2f335d(0x476)](){const _0x1f28ad=_0x2f335d;this['rank']=void 0x0,this[_0x1f28ad(0x7a8)][_0x1f28ad(0x18c)]();}[_0x2f335d(0x92c)](){return this['id'];}[_0x2f335d(0x659)](){const _0x16e385=_0x2f335d;return this[_0x16e385(0x71a)];}[_0x2f335d(0x965)](){return this['remoteConnections'];}}class _0x50ee3d extends _0x417906{['id'];[_0x2f335d(0x3aa)];[_0x2f335d(0x74d)];[_0x2f335d(0x7a8)];[_0x2f335d(0x71a)];[_0x2f335d(0x4e7)]=_0x47407f[_0x2f335d(0x1b2)][_0x2f335d(0x8c2)];constructor(_0x271ba4,_0x67dd72,_0x1285eb,_0x4b8618=new Set(),_0x20a2ba){const _0x32c7b3=_0x2f335d;super(_0x271ba4,_0x4b8618,_0x20a2ba),this['id']=_0x271ba4,this['displayName']=_0x67dd72,this[_0x32c7b3(0x74d)]=_0x1285eb,this[_0x32c7b3(0x7a8)]=_0x4b8618,this[_0x32c7b3(0x71a)]=_0x20a2ba;}[_0x2f335d(0x15c)](){return this['displayName'];}[_0x2f335d(0x310)](){return this['email'];}}class _0x5780f7{['vendorId'];[_0x2f335d(0x49c)];[_0x2f335d(0x4c7)];constructor(_0x1ea9e3,_0x296c2d){const _0xb7b5fc=_0x2f335d;this['vendorId']=_0x1ea9e3,this['clusterId']=_0x296c2d,this[_0xb7b5fc(0x4c7)]=_0xb7b5fc(0x8e5)+this[_0xb7b5fc(0xa5)]+_0xb7b5fc(0x8e5)+this[_0xb7b5fc(0x49c)];}async[_0x2f335d(0x4c5)](_0x196b45,_0x568873){const _0x35bc79=_0x2f335d,_0x1a6412=(0x0,_0x59ed33[_0x35bc79(0x29b)])(_0x2825b2[_0x35bc79(0x7bf)](),_0x35bc79(0x539)+this[_0x35bc79(0x4c7)]+_0x35bc79(0x48d)+_0x568873+_0x35bc79(0x218)+_0x196b45['id']),_0x16d306=(0x0,_0x59ed33[_0x35bc79(0x7ea)])(_0x1a6412);_0x16d306['remove'](),_0x196b45[_0x35bc79(0xb4)]||delete _0x196b45[_0x35bc79(0xb4)];try{await(0x0,_0x59ed33['set'])(_0x1a6412,_0x196b45);}catch(_0x1e3490){throw await _0x16d306[_0x35bc79(0x76d)](),new _0x315451(_0x315451[_0x35bc79(0x600)][_0x35bc79(0x38c)]);}if(!0x1===(await(0x0,_0x59ed33['runTransaction'])((0x0,_0x59ed33[_0x35bc79(0x29b)])(_0x2825b2['getDatabase'](),_0x35bc79(0x539)+this[_0x35bc79(0x4c7)]+_0x35bc79(0x48d)+_0x568873+'/transactions/lastTransaction'),_0x1b6df1=>_0x1b6df1?_0x1b6df1===_0x196b45[_0x35bc79(0xb4)]?_0x196b45['id']:void 0x0:_0x196b45[_0x35bc79(0xb4)]?_0x196b45[_0x35bc79(0xb4)]:_0x196b45['id']))[_0x35bc79(0x3d1)])throw await(0x0,_0x59ed33['remove'])(_0x1a6412),await _0x16d306['cancel'](),new _0x315451(_0x315451[_0x35bc79(0x600)][_0x35bc79(0x33f)]);await _0x16d306[_0x35bc79(0x76d)]();}async[_0x2f335d(0x8ba)](_0x5c974f,_0xe5abf9){const _0x29090f=_0x2f335d;let _0x233f73=[];const _0x401b16=(0x0,_0x59ed33[_0x29090f(0x29b)])(_0x2825b2[_0x29090f(0x7bf)](),'clusters/'+this['clusterKey']+_0x29090f(0x48d)+_0x5c974f+_0x29090f(0x817));let _0x412ecc=await(0x0,_0x59ed33[_0x29090f(0x389)])((0x0,_0x59ed33[_0x29090f(0x23f)])(_0x401b16,(0x0,_0x59ed33[_0x29090f(0xe3)])(0x65),(0x0,_0x59ed33[_0x29090f(0x366)])()));if(!_0x412ecc['exists']()){if(void 0x0!==_0xe5abf9)throw new _0x315451(_0x315451[_0x29090f(0x600)][_0x29090f(0xea)]);return _0x233f73;}const _0xb66711=_0x412ecc[_0x29090f(0x357)]();for(;Object[_0x29090f(0x502)](_0x412ecc['val']())[_0x29090f(0x39c)]>0x64;){const _0x47d55e=Object[_0x29090f(0x502)](_0x412ecc['val']()),_0x4ca715=_0x47d55e[_0x47d55e[_0x29090f(0x39c)]-0x1];_0x412ecc=await(0x0,_0x59ed33['get'])((0x0,_0x59ed33[_0x29090f(0x23f)])(_0x401b16,(0x0,_0x59ed33[_0x29090f(0xe3)])(0x65),(0x0,_0x59ed33[_0x29090f(0x1a8)])(_0x4ca715),(0x0,_0x59ed33['orderByKey'])())),Object[_0x29090f(0x22b)](_0xb66711,_0x412ecc[_0x29090f(0x357)]());}if(_0x233f73=Object[_0x29090f(0x349)](_0xb66711)[_0x29090f(0x379)](_0x24a25f=>_0x29090f(0x9d9)!=typeof _0x24a25f),0x0===_0x233f73[_0x29090f(0x39c)]&&void 0x0!==_0xe5abf9)throw new _0x315451(_0x315451[_0x29090f(0x600)][_0x29090f(0xea)]);if(_0x233f73[_0x29090f(0x39c)]>0x0&&void 0x0!==_0xe5abf9&&!_0x233f73[_0x29090f(0x29d)](_0x1ba013=>_0x1ba013['id']===_0xe5abf9))throw new _0x315451(_0x315451[_0x29090f(0x600)][_0x29090f(0xea)]);const _0x411a36=[];let _0x2abd54=_0x233f73[_0x29090f(0x29d)](_0x118fb6=>_0x118fb6[_0x29090f(0xb4)]===_0xe5abf9);for(;_0x2abd54;)_0x411a36[_0x29090f(0x6e4)](_0x2abd54),_0x2abd54=_0x233f73[_0x29090f(0x29d)](_0x2d0de6=>_0x2d0de6[_0x29090f(0xb4)]===_0x2abd54['id']);return _0x411a36;}}class _0x535064{['configs'];[_0x2f335d(0x7b2)];[_0x2f335d(0x1bc)];[_0x2f335d(0x542)];['localMediaStreams']=new Map();[_0x2f335d(0x3c5)]=new Map();[_0x2f335d(0x13e)]=new Map();['objectStores']=new Map();[_0x2f335d(0x5f6)]=new Map();[_0x2f335d(0x8a6)]=new Map();[_0x2f335d(0x45a)]=new Map();[_0x2f335d(0x35e)]=new Map();[_0x2f335d(0xc7)]=new Map();['jobWorkers']=new Map();['transactionService'];constructor(_0x8c7220,_0x1dffae,_0x1b58f6,_0x4f1adb){const _0x460572=_0x2f335d;this[_0x460572(0xd5)]=_0x8c7220,this[_0x460572(0x7b2)]=_0x1dffae,this[_0x460572(0x1bc)]=_0x1b58f6,this[_0x460572(0x542)]=_0x4f1adb,this[_0x460572(0x51f)]=new _0x5780f7(this[_0x460572(0xd5)][_0x460572(0xa5)],this['configs']['clusterId']);}[_0x2f335d(0x476)](_0x131855=!0x1){const _0x4e84ef=_0x2f335d;this['remoteMediaStreams']['forEach']((_0x1f5805,_0x493573)=>{const _0x1af98c=a0_0x2fcc;_0x1f5805[_0x1af98c(0x82f)]((_0x4e8c5a,_0x3c2e7e)=>{const _0x2644cd=_0x1af98c;this[_0x2644cd(0x86b)](_0x493573,_0x3c2e7e);});}),_0x131855||(_0x1e0260[_0x4e84ef(0x18c)](),this[_0x4e84ef(0x540)]['forEach']((_0x3ed71a,_0x500ecf)=>{this['removeLocalMediaStream'](_0x500ecf);}),this[_0x4e84ef(0x13e)][_0x4e84ef(0x82f)]((_0x4786dc,_0x4437ee)=>{this['removePubSubTopic'](_0x4437ee);}),this[_0x4e84ef(0x842)][_0x4e84ef(0x82f)]((_0x153f0c,_0x1f7003)=>{this['removeObjectStore'](_0x1f7003);}),this[_0x4e84ef(0x5f6)][_0x4e84ef(0x82f)]((_0xe3ea5a,_0x19a805)=>{this['removeExternalStorageConnection'](_0x19a805);}),this['keyValueDatabases'][_0x4e84ef(0x82f)]((_0x1242ae,_0x363843)=>{const _0x96cfb2=_0x4e84ef;this[_0x96cfb2(0xc0)](_0x363843);}),this[_0x4e84ef(0xc7)]['forEach']((_0x3aec1a,_0x1cf9e5)=>{const _0x3b2ffd=_0x4e84ef;this[_0x3b2ffd(0x56c)](_0x1cf9e5);}),this[_0x4e84ef(0x94b)][_0x4e84ef(0x82f)]((_0x5e1966,_0x8251e8)=>{const _0x99f0ba=_0x4e84ef;this[_0x99f0ba(0x5c2)](_0x8251e8);}),this['vectorDatabases'][_0x4e84ef(0x82f)]((_0x2305a7,_0x177078)=>{this['removeVectorDatabase'](_0x177078);}),this[_0x4e84ef(0x35e)][_0x4e84ef(0x82f)]((_0x9f8bf2,_0x3fb3fc)=>{const _0x97c32a=_0x4e84ef;this[_0x97c32a(0x450)](_0x3fb3fc);}));}[_0x2f335d(0xdf)](_0x490070,_0x5df8e1,_0x50744e){const _0x496ab1=_0x2f335d;if(this[_0x496ab1(0x842)][_0x496ab1(0x627)](_0x490070))throw new _0x194c78(_0x2e40c3[_0x496ab1(0x19f)],_0x496ab1(0x454));const _0x2a4cea=new _0x5648b1(this['configs']['localNode'],_0x490070,this[_0x496ab1(0xd5)]['clusterId'],this['configs'][_0x496ab1(0xa5)],this[_0x496ab1(0x51f)],_0x5df8e1,()=>this['configs'][_0x496ab1(0x9c8)][_0x496ab1(0x5e2)](),_0x50744e);return this['objectStores']['set'](_0x490070,_0x2a4cea),this['configs'][_0x496ab1(0x9c8)]['registerSystemSource'](_0x2a4cea),_0x2a4cea;}[_0x2f335d(0x6dc)](_0x36e055,_0x2e9c30){const _0x25e5f7=_0x2f335d;if(this[_0x25e5f7(0x842)][_0x25e5f7(0x627)](_0x36e055))throw new _0x194c78(_0x2e40c3[_0x25e5f7(0x59f)],'Connection\x20already\x20exists');const _0x131866=new _0x1ecb97(this['configs']['localNode'],_0x36e055,this['configs'][_0x25e5f7(0x49c)],this[_0x25e5f7(0xd5)][_0x25e5f7(0xa5)],_0x2e9c30);return this[_0x25e5f7(0x5f6)][_0x25e5f7(0x120)](_0x36e055,_0x131866),this[_0x25e5f7(0xd5)]['mediator']['registerSystemSource'](_0x131866),_0x131866;}async[_0x2f335d(0x826)](_0x55e80e,_0x1c86ad,_0x5179a9){const _0x1d6712=_0x2f335d;if(this[_0x1d6712(0x8a6)][_0x1d6712(0x627)](_0x55e80e))throw new _0x194c78(_0x2e40c3['KeyValueDatabaseAlreadyExists'],_0x1d6712(0x158));try{const _0xae877b=this[_0x1d6712(0xd5)]['mediator'][_0x1d6712(0x5e6)][_0x1d6712(0x1b9)](this['configs'][_0x1d6712(0x9c8)]),_0x5c08b3=new _0x41f8bd(this[_0x1d6712(0xd5)][_0x1d6712(0x6c3)],_0x55e80e,this['configs'][_0x1d6712(0x49c)],this[_0x1d6712(0xd5)]['vendorId'],_0x1c86ad,_0x5179a9,_0xae877b);return this['keyValueDatabases'][_0x1d6712(0x120)](_0x55e80e,_0x5c08b3),this['configs']['mediator'][_0x1d6712(0x8d9)](_0x5c08b3),_0x5c08b3;}catch(_0x2a94de){if(_0x2a94de instanceof _0x194c78)throw _0x2a94de;throw new _0x315451(_0x315451['codes'][_0x1d6712(0xed)],{'label':_0x55e80e,'clusterId':this[_0x1d6712(0xd5)][_0x1d6712(0x49c)],'vendorId':this[_0x1d6712(0xd5)][_0x1d6712(0xa5)]});}}async[_0x2f335d(0xee)](_0x42bc87,_0x316438){const _0x28ead8=_0x2f335d;if(this[_0x28ead8(0xc7)][_0x28ead8(0x627)](_0x42bc87))throw new _0x194c78(_0x2e40c3[_0x28ead8(0x99a)],_0x28ead8(0x6ad));try{const _0x5bb5dc=new _0x2bdf6b(this['configs'][_0x28ead8(0x6c3)],_0x42bc87,_0x316438);return this[_0x28ead8(0xc7)][_0x28ead8(0x120)](_0x42bc87,_0x5bb5dc),this[_0x28ead8(0xd5)][_0x28ead8(0x9c8)][_0x28ead8(0x8d9)](_0x5bb5dc),_0x5bb5dc;}catch(_0x338e2c){if(_0x338e2c instanceof _0x194c78)throw _0x338e2c;throw new _0x315451(_0x315451[_0x28ead8(0x600)][_0x28ead8(0x715)],{'label':_0x42bc87,'clusterId':this[_0x28ead8(0xd5)][_0x28ead8(0x49c)],'vendorId':this[_0x28ead8(0xd5)][_0x28ead8(0xa5)]});}}async[_0x2f335d(0x5c1)](_0x5b046b,_0xd8b798){const _0x5083d6=_0x2f335d;if(this[_0x5083d6(0xc7)][_0x5083d6(0x627)](_0x5b046b))throw new _0x194c78(_0x2e40c3[_0x5083d6(0x325)],_0x5083d6(0x9c3));if(this[_0x5083d6(0x94b)]['has'](_0x5b046b))throw new _0x194c78(_0x2e40c3[_0x5083d6(0x8e3)],_0x5083d6(0x3ab));try{const _0xa38dfb=new _0x178dfb(this[_0x5083d6(0xd5)][_0x5083d6(0x6c3)],_0x5b046b,this[_0x5083d6(0xd5)]['vendorId'],_0xd8b798);return this[_0x5083d6(0xc7)][_0x5083d6(0x120)](_0x5b046b,_0xa38dfb),this[_0x5083d6(0xd5)][_0x5083d6(0x9c8)]['registerSystemSource'](_0xa38dfb),_0xa38dfb;}catch(_0x13f079){if(_0x13f079 instanceof _0x194c78)throw _0x13f079;throw new _0x315451(_0x315451[_0x5083d6(0x600)]['GenerativeAIContextCreationFailed'],{'label':_0x5b046b,'clusterId':this['configs'][_0x5083d6(0x49c)],'vendorId':this['configs'][_0x5083d6(0xa5)]});}}async[_0x2f335d(0x2cd)](_0x15d5b5,_0x233450,_0x4c2ace,_0x2159fb,_0x247d10,_0x592aa1,_0x398379,_0x440828){const _0x4c59e0=_0x2f335d;if(this['jobWorkers']['has'](_0x15d5b5))throw new _0x194c78(_0x2e40c3[_0x4c59e0(0x3b1)],_0x4c59e0(0x40b));if(this[_0x4c59e0(0xc7)][_0x4c59e0(0x627)](_0x15d5b5))throw new _0x194c78(_0x2e40c3[_0x4c59e0(0x8e3)],_0x4c59e0(0x3ab));try{const _0x4b7041=new _0x3bc721(this['configs'][_0x4c59e0(0x6c3)],_0x15d5b5,this['configs'][_0x4c59e0(0xa5)],_0x233450,this,_0x4c2ace,_0x2159fb,_0x247d10,this[_0x4c59e0(0x1bc)],this['aiSearchApiKey'],_0x592aa1,_0x398379,_0x440828);return this[_0x4c59e0(0x94b)][_0x4c59e0(0x120)](_0x15d5b5,_0x4b7041),this['configs'][_0x4c59e0(0x9c8)]['registerSystemSource'](_0x4b7041),_0x4b7041;}catch(_0x52a6d0){if(_0x52a6d0 instanceof _0x194c78)throw _0x52a6d0;throw new _0x315451(_0x315451[_0x4c59e0(0x600)][_0x4c59e0(0x343)],{'label':_0x15d5b5,'clusterId':this[_0x4c59e0(0xd5)][_0x4c59e0(0x49c)],'vendorId':this[_0x4c59e0(0xd5)]['vendorId']});}}[_0x2f335d(0x373)](_0x386541,_0x579baa){const _0x2c0355=_0x2f335d;if(this[_0x2c0355(0x35e)][_0x2c0355(0x627)](_0x386541))throw new _0x194c78(_0x2e40c3['GraphDatabaseAlreadyExists'],_0x2c0355(0x158));try{const _0x2f9669=new _0x3f36ba(this['configs'][_0x2c0355(0x6c3)],_0x386541,this[_0x2c0355(0xd5)][_0x2c0355(0x49c)],this['configs'][_0x2c0355(0xa5)],_0x579baa);return this[_0x2c0355(0x35e)]['set'](_0x386541,_0x2f9669),this[_0x2c0355(0xd5)][_0x2c0355(0x9c8)][_0x2c0355(0x8d9)](_0x2f9669),_0x2f9669;}catch(_0x160514){if(_0x160514 instanceof _0x194c78)throw _0x160514;throw new _0x315451(_0x315451[_0x2c0355(0x600)]['GraphDatabaseCreationFailed'],{'label':_0x386541,'clusterId':this[_0x2c0355(0xd5)]['clusterId'],'vendorId':this['configs'][_0x2c0355(0xa5)]});}}[_0x2f335d(0x386)](_0x2b0f64,_0x3819a4){const _0x4bfb6d=_0x2f335d;if(this[_0x4bfb6d(0x540)][_0x4bfb6d(0x627)](_0x2b0f64))throw new _0x194c78(_0x2e40c3[_0x4bfb6d(0x2c2)],'Local\x20MediaStream\x20already\x20exists');if(!this[_0x4bfb6d(0x7b2)][_0x4bfb6d(0x88d)])throw new _0x194c78(_0x2e40c3[_0x4bfb6d(0x470)],_0x4bfb6d(0x1c0));const _0x95e663=new _0x280bef(this['configs'][_0x4bfb6d(0x6c3)],_0x2b0f64,_0x3819a4,this[_0x4bfb6d(0x7b2)][_0x4bfb6d(0x654)],this[_0x4bfb6d(0x7b2)][_0x4bfb6d(0x88d)],this[_0x4bfb6d(0xd5)]['clusterId']);return this[_0x4bfb6d(0x540)][_0x4bfb6d(0x120)](_0x2b0f64,_0x95e663),this[_0x4bfb6d(0xd5)][_0x4bfb6d(0x9c8)][_0x4bfb6d(0x8d9)](_0x95e663),_0x95e663[_0x4bfb6d(0x620)](),_0x95e663;}[_0x2f335d(0x337)](_0x4eb799,_0x75e27){const _0x199ee9=_0x2f335d;if(this[_0x199ee9(0x540)][_0x199ee9(0x627)](_0x4eb799))throw new _0x194c78(_0x2e40c3['LocalMediaStreamAlreadyExists'],_0x199ee9(0x400));const _0x5bf344=new _0x6d9d1(this[_0x199ee9(0xd5)][_0x199ee9(0x6c3)],_0x4eb799,_0x75e27,this[_0x199ee9(0xd5)][_0x199ee9(0x49c)]);return this[_0x199ee9(0x540)][_0x199ee9(0x120)](_0x4eb799,_0x5bf344),this['configs']['mediator'][_0x199ee9(0x8d9)](_0x5bf344),_0x5bf344['publish'](),_0x5bf344;}[_0x2f335d(0x324)](_0x439239){const _0x1a6221=_0x2f335d;if(this[_0x1a6221(0x13e)][_0x1a6221(0x627)](_0x439239))throw new _0x194c78(_0x2e40c3[_0x1a6221(0x41a)],_0x1a6221(0x6d4));const _0x1a8f4=new _0x5b4127(this['configs'][_0x1a6221(0x6c3)],_0x439239,this[_0x1a6221(0xd5)][_0x1a6221(0x49c)]);return this[_0x1a6221(0x13e)][_0x1a6221(0x120)](_0x439239,_0x1a8f4),this[_0x1a6221(0xd5)][_0x1a6221(0x9c8)]['registerSystemSource'](_0x1a8f4),_0x1a8f4;}['createRemoteMediaStream'](_0x4d9a72,_0x35a7ce,_0x3e751c,_0x46323a){const _0x5015f7=_0x2f335d;this[_0x5015f7(0x3c5)]['has'](_0x4d9a72)||this[_0x5015f7(0x3c5)]['set'](_0x4d9a72,new Map());const _0xb2dd11=this[_0x5015f7(0x3c5)][_0x5015f7(0x389)](_0x4d9a72);if(_0xb2dd11['has'](_0x35a7ce))throw new _0x194c78(_0x2e40c3[_0x5015f7(0x498)],_0x5015f7(0x91d));const _0x36affa=new _0x50ee3d(_0x4d9a72,'',''),_0xed388c=new _0x813fbf(this['configs'][_0x5015f7(0x6c3)],_0x36affa,_0x35a7ce,_0x3e751c,_0x46323a,this[_0x5015f7(0xd5)][_0x5015f7(0x49c)]);return _0xb2dd11['set'](_0x35a7ce,_0xed388c),this[_0x5015f7(0xd5)][_0x5015f7(0x9c8)][_0x5015f7(0x8d9)](_0xed388c),_0xed388c;}[_0x2f335d(0x2e0)](_0x59faa8,_0x2f50ae){const _0x3ee050=_0x2f335d;if(this[_0x3ee050(0x45a)]['has'](_0x59faa8))throw new _0x194c78(_0x2e40c3[_0x3ee050(0x8e)],_0x3ee050(0x158));try{const _0x5644b7=new _0x17e71b(this['configs'][_0x3ee050(0x6c3)],_0x59faa8,this[_0x3ee050(0xd5)][_0x3ee050(0x49c)],this[_0x3ee050(0xd5)][_0x3ee050(0xa5)],_0x2f50ae);return this[_0x3ee050(0x45a)][_0x3ee050(0x120)](_0x59faa8,_0x5644b7),this[_0x3ee050(0xd5)][_0x3ee050(0x9c8)][_0x3ee050(0x8d9)](_0x5644b7),_0x5644b7;}catch(_0x54e737){if(_0x54e737 instanceof _0x194c78)throw _0x54e737;throw new _0x315451(_0x315451['codes'][_0x3ee050(0x505)],{'label':_0x59faa8,'clusterId':this[_0x3ee050(0xd5)][_0x3ee050(0x49c)],'vendorId':this['configs'][_0x3ee050(0xa5)]});}}['getObjectStoreBuckets'](_0x465b3e){const _0x4ebe51=_0x2f335d,_0x1b3bfc=Array[_0x4ebe51(0x2ce)](this[_0x4ebe51(0x842)]['values']());return _0x465b3e?_0x1b3bfc[_0x4ebe51(0x379)](_0x465b3e):_0x1b3bfc;}['getExternalStorageConnections'](_0x4cfa25){const _0x1ad107=_0x2f335d,_0x45c694=Array[_0x1ad107(0x2ce)](this[_0x1ad107(0x5f6)][_0x1ad107(0x349)]());return _0x4cfa25?_0x45c694[_0x1ad107(0x379)](_0x4cfa25):_0x45c694;}[_0x2f335d(0x5ec)](_0x161557){const _0x5a28a5=_0x2f335d,_0x59b544=Array['from'](this['keyValueDatabases'][_0x5a28a5(0x349)]());return _0x161557?_0x59b544[_0x5a28a5(0x379)](_0x161557):_0x59b544;}[_0x2f335d(0x3cf)](_0xb61b20){const _0x27d470=_0x2f335d,_0x4b5955=Array[_0x27d470(0x2ce)](this['jobDispatchers'][_0x27d470(0x349)]());return _0xb61b20?_0x4b5955[_0x27d470(0x379)](_0xb61b20):_0x4b5955;}[_0x2f335d(0x6d6)](_0x355f98){const _0x298558=_0x2f335d,_0x1f6ce9=Array[_0x298558(0x2ce)](this[_0x298558(0x94b)]['values']());return _0x355f98?_0x1f6ce9[_0x298558(0x379)](_0x355f98):_0x1f6ce9;}[_0x2f335d(0x4aa)](_0x5992b4){const _0x16a0fb=_0x2f335d,_0x3375f4=Array[_0x16a0fb(0x2ce)](this[_0x16a0fb(0xc7)][_0x16a0fb(0x349)]())[_0x16a0fb(0x379)](_0x49c11a=>_0x49c11a instanceof _0x178dfb);return _0x5992b4?_0x3375f4[_0x16a0fb(0x379)](_0x5992b4):_0x3375f4;}[_0x2f335d(0x372)](_0x44910d){const _0x1ce532=_0x2f335d,_0x54550e=Array[_0x1ce532(0x2ce)](this[_0x1ce532(0x94b)][_0x1ce532(0x349)]())[_0x1ce532(0x379)](_0x2724a4=>_0x2724a4 instanceof _0x3bc721);return _0x44910d?_0x54550e[_0x1ce532(0x379)](_0x44910d):_0x54550e;}['getGraphDatabases'](_0x4c2f3d){const _0x524a41=_0x2f335d,_0xc038f1=Array[_0x524a41(0x2ce)](this[_0x524a41(0x35e)][_0x524a41(0x349)]());return _0x4c2f3d?_0xc038f1['filter'](_0x4c2f3d):_0xc038f1;}[_0x2f335d(0x81a)](_0x23135b){const _0x599c33=_0x2f335d,_0x55ebb3=Array[_0x599c33(0x2ce)](this[_0x599c33(0x540)][_0x599c33(0x349)]());return _0x23135b?_0x55ebb3['filter'](_0x23135b):_0x55ebb3;}['getPubSubTopics'](_0x4ca383){const _0x505c6f=_0x2f335d,_0x2355ae=Array[_0x505c6f(0x2ce)](this['pubSubTopics']['values']());return _0x4ca383?_0x2355ae[_0x505c6f(0x379)](_0x4ca383):_0x2355ae;}[_0x2f335d(0x287)](_0x50a805){const _0x45dcc6=_0x2f335d,_0x4e8fcd=Array[_0x45dcc6(0x2ce)](this['remoteMediaStreams'][_0x45dcc6(0x349)]())['reduce']((_0xa59869,_0x5af6e5)=>[..._0xa59869,...Array['from'](_0x5af6e5[_0x45dcc6(0x349)]())],[]);return _0x50a805?_0x4e8fcd[_0x45dcc6(0x379)](_0x50a805):_0x4e8fcd;}[_0x2f335d(0x807)](_0x562a5c){const _0x24d86d=_0x2f335d,_0x3482b8=Array[_0x24d86d(0x2ce)](this[_0x24d86d(0x45a)][_0x24d86d(0x349)]());return _0x562a5c?_0x3482b8['filter'](_0x562a5c):_0x3482b8;}['getObjectStoreBucket'](_0x3dc84f){const _0x3b7656=_0x2f335d,_0x44cc02=this['objectStores'][_0x3b7656(0x389)](_0x3dc84f);if(!_0x44cc02)throw new _0x194c78(_0x2e40c3[_0x3b7656(0x3b0)],_0x3b7656(0x3c2));return _0x44cc02;}[_0x2f335d(0x371)](_0x315cb6){const _0x561fb1=_0x2f335d,_0x28d11c=_0x315cb6['split']('-'),_0x554895=this[_0x561fb1(0x5f6)]['get'](_0x28d11c[0x1]);if(!_0x554895)throw new _0x194c78(_0x2e40c3[_0x561fb1(0x4cc)],_0x561fb1(0x8e2));return _0x554895;}[_0x2f335d(0x76c)](_0x18fc48){const _0x492709=_0x2f335d,_0x5725e5=this[_0x492709(0x35e)]['get'](_0x18fc48);if(!_0x5725e5)throw new _0x194c78(_0x2e40c3[_0x492709(0x615)],_0x492709(0x1d6));return _0x5725e5;}[_0x2f335d(0x3c4)](_0x1caffa){const _0x5c2592=_0x2f335d,_0x14c18b=this[_0x5c2592(0x8a6)][_0x5c2592(0x389)](_0x1caffa);if(!_0x14c18b)throw new _0x194c78(_0x2e40c3[_0x5c2592(0x643)],_0x5c2592(0x31d));return _0x14c18b;}[_0x2f335d(0x941)](_0x56188d){const _0x1cd170=_0x2f335d,_0x4de83f=this[_0x1cd170(0x13e)][_0x1cd170(0x389)](_0x56188d);if(!_0x4de83f)throw new _0x194c78(_0x2e40c3[_0x1cd170(0x104)],_0x1cd170(0x500));return _0x4de83f;}['getVectorDatabase'](_0x4d5ea1){const _0x40a2ac=_0x2f335d,_0x58776b=this[_0x40a2ac(0x45a)][_0x40a2ac(0x389)](_0x4d5ea1);if(!_0x58776b)throw new _0x194c78(_0x2e40c3[_0x40a2ac(0x3d5)],'VectorDatabase\x20not\x20found');return _0x58776b;}[_0x2f335d(0x3df)](_0x489754){const _0x882465=_0x2f335d;switch(_0x489754['content'][_0x882465(0x4e7)]){case _0x314d98[_0x882465(0x40f)]:this[_0x882465(0x4a3)](_0x489754[_0x882465(0x569)]);break;case _0x314d98[_0x882465(0x2a2)]:this[_0x882465(0x255)](_0x489754[_0x882465(0x569)]);break;case _0x314d98[_0x882465(0x8ab)]:this[_0x882465(0x56c)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)]);break;case _0x314d98['CloseJobWorker']:this[_0x882465(0x5c2)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)]);break;case _0x314d98['CloseMediaStream']:this[_0x882465(0x384)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)]);break;case _0x314d98[_0x882465(0x3b7)]:this[_0x882465(0x4b6)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)]);break;case _0x314d98['CloseObjectStoreBucket']:this[_0x882465(0x39f)](_0x489754['content'][_0x882465(0x2b4)]);break;case _0x314d98[_0x882465(0xcf)]:this[_0x882465(0x2e3)](_0x489754[_0x882465(0x569)]['label']);break;case _0x314d98[_0x882465(0x308)]:this['removeKeyValueDatabase'](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)]);break;case _0x314d98[_0x882465(0x90b)]:this[_0x882465(0x80b)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)]);break;case _0x314d98[_0x882465(0x848)]:this[_0x882465(0x450)](_0x489754[_0x882465(0x569)]['label']);break;case _0x314d98[_0x882465(0x342)]:this['handleContentUnsubscribeMediaStream'](_0x489754[_0x882465(0x569)]);break;case _0x314d98[_0x882465(0x31f)]:this[_0x882465(0x8a6)][_0x882465(0x389)](_0x489754[_0x882465(0x569)]['label'])?.[_0x882465(0x619)](_0x489754[_0x882465(0x1cc)],_0x489754[_0x882465(0x569)][_0x882465(0x6ba)]);break;case _0x314d98['KeyValueDatabaseContentSynchronized']:this[_0x882465(0x8a6)][_0x882465(0x389)](_0x489754['content'][_0x882465(0x2b4)])?.[_0x882465(0x7da)](_0x489754[_0x882465(0x1cc)],_0x489754[_0x882465(0x569)]['mmrRoot']);break;case _0x314d98[_0x882465(0x55b)]:this[_0x882465(0x8a6)][_0x882465(0x389)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)])?.[_0x882465(0x17e)](_0x489754[_0x882465(0x1cc)],_0x489754[_0x882465(0x569)][_0x882465(0x903)]);break;case _0x314d98[_0x882465(0x2cf)]:this[_0x882465(0x8a6)][_0x882465(0x389)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)])?.[_0x882465(0x285)](_0x489754['sourceId'],_0x489754[_0x882465(0x569)][_0x882465(0x10b)]);break;case _0x314d98['KeyValueDatabaseRequestTransactionsValue']:this[_0x882465(0x8a6)][_0x882465(0x389)](_0x489754['content'][_0x882465(0x2b4)])?.[_0x882465(0x67d)](_0x489754[_0x882465(0x1cc)],_0x489754[_0x882465(0x569)][_0x882465(0x5b9)]);break;case _0x314d98[_0x882465(0x9d8)]:this[_0x882465(0x8a6)][_0x882465(0x389)](_0x489754[_0x882465(0x569)][_0x882465(0x2b4)])?.[_0x882465(0x3d7)](_0x489754[_0x882465(0x1cc)],_0x489754['content']['transactions']);break;case _0x314d98[_0x882465(0x8d0)]:this['configs'][_0x882465(0x9c8)][_0x882465(0x984)]('local-media-stream-track-fail',{'label':_0x489754[_0x882465(0x569)]['label'],'trackKinds':_0x489754[_0x882465(0x569)][_0x882465(0x887)]});}}[_0x2f335d(0x5c3)]({content:_0x4bbc78}){const _0x5136a7=_0x2f335d;switch(_0x4bbc78[_0x5136a7(0x4e7)]){case _0xfc2002[_0x5136a7(0x264)]:this[_0x5136a7(0x549)](_0x4bbc78),this[_0x5136a7(0x70c)](_0x4bbc78);break;case _0xfc2002[_0x5136a7(0x840)]:this[_0x5136a7(0x421)](_0x4bbc78),this[_0x5136a7(0x5dd)](_0x4bbc78);}}[_0x2f335d(0x5a7)](_0x38b36c){const _0x3ae47b=_0x2f335d;switch(_0x38b36c[_0x3ae47b(0x569)][_0x3ae47b(0x4e7)]){case _0x207b64[_0x3ae47b(0x9c7)]:this[_0x3ae47b(0x536)](_0x38b36c[_0x3ae47b(0x1cc)],_0x38b36c[_0x3ae47b(0x569)]);break;case _0x207b64[_0x3ae47b(0x431)]:this[_0x3ae47b(0x688)](_0x38b36c['sourceId'],_0x38b36c[_0x3ae47b(0x569)]);break;case _0x207b64[_0x3ae47b(0x342)]:this['handleUnsubscribeMediaStream'](_0x38b36c['sourceId'],_0x38b36c[_0x3ae47b(0x569)]);}}[_0x2f335d(0x672)](_0x2f48ee){const _0x27b2e9=_0x2f335d;if(0x0===_0x2f48ee[_0x27b2e9(0x864)])this[_0x27b2e9(0x3c5)][_0x27b2e9(0x389)](_0x2f48ee[_0x27b2e9(0x2d7)])?.[_0x27b2e9(0x389)](_0x2f48ee[_0x27b2e9(0x2b4)])?.[_0x27b2e9(0x7f0)]();else{const _0x50efcb=this[_0x27b2e9(0x3c5)][_0x27b2e9(0x389)](_0x2f48ee[_0x27b2e9(0x2d7)])?.[_0x27b2e9(0x389)](_0x2f48ee[_0x27b2e9(0x2b4)]);if(!_0x50efcb)return;_0x2f48ee[_0x27b2e9(0x887)]['forEach'](_0x4a9ce6=>_0x50efcb['unsubscribeTrackEndedListener'](_0x4a9ce6));}}['handlePublishMediaStream'](_0x2ef66e){const _0x5250f8=_0x2f335d,{label:_0x12cf7b,ownerId:_0x425709,stream:{streamId:_0x3b879c,availableTrackKinds:_0x36c4ce}}=_0x2ef66e;if(this[_0x5250f8(0x3c5)][_0x5250f8(0x389)](_0x425709)?.['has'](_0x12cf7b))return void _0x5a023b[_0x5250f8(0x6fb)](_0x4abdbe[_0x5250f8(0x109)],'Stream\x20already\x20exists',_0x3b879c);const _0xacc4b6=this[_0x5250f8(0x60f)](_0x425709,_0x12cf7b,_0x3b879c,_0x36c4ce);this[_0x5250f8(0xd5)]['mediator'][_0x5250f8(0x984)]('content-publish-media',{'ownerId':_0x425709,'stream':_0xacc4b6});}[_0x2f335d(0x255)]({ownerId:_0x4ab5f3,label:_0x45eae9}){const _0x40372f=_0x2f335d;this['removeRemoteMediaStream'](_0x4ab5f3,_0x45eae9),this[_0x40372f(0xd5)][_0x40372f(0x9c8)][_0x40372f(0x984)](_0x40372f(0x221),{'ownerId':_0x4ab5f3,'label':_0x45eae9});}['handleSubscribeMediaStream'](_0x3ab65f,_0x130901){const _0x3e1409=_0x2f335d,{ownerId:_0x4d2897,label:_0x53f22f}=_0x130901;let _0x2251bb;_0x2251bb=_0x4d2897!==this[_0x3e1409(0xd5)][_0x3e1409(0x6c3)][_0x3e1409(0x92c)]()?this['remoteMediaStreams'][_0x3e1409(0x389)](_0x4d2897)[_0x3e1409(0x389)](_0x53f22f):this[_0x3e1409(0x540)][_0x3e1409(0x389)](_0x53f22f),_0x2251bb[_0x3e1409(0x529)](_0x3ab65f,_0x130901[_0x3e1409(0x4e9)])[_0x3e1409(0x504)](_0x130901,_0x2251bb['getPriority']());}['handleUpdateMediaStream'](_0x247c19,_0x470670){const _0x2a0483=_0x2f335d,{ownerId:_0x3a7134,label:_0x1b3f9e}=_0x470670;let _0x810385;_0x810385=_0x3a7134!==this[_0x2a0483(0xd5)][_0x2a0483(0x6c3)][_0x2a0483(0x92c)]()?this['remoteMediaStreams'][_0x2a0483(0x389)](_0x3a7134)[_0x2a0483(0x389)](_0x1b3f9e):this[_0x2a0483(0x540)][_0x2a0483(0x389)](_0x1b3f9e),_0x810385[_0x2a0483(0x529)](_0x247c19,_0x470670[_0x2a0483(0x4e9)])[_0x2a0483(0x971)](_0x470670);}[_0x2f335d(0x5cf)](_0x2170e4,_0x262c00){const _0x3a34a9=_0x2f335d,{ownerId:_0x42a6d0,label:_0x2d5ca1}=_0x262c00;let _0x3325b4;_0x3325b4=_0x42a6d0!==this[_0x3a34a9(0xd5)][_0x3a34a9(0x6c3)]['getId']()?this[_0x3a34a9(0x3c5)]['get'](_0x42a6d0)[_0x3a34a9(0x389)](_0x2d5ca1):this['localMediaStreams']['get'](_0x2d5ca1),_0x3325b4[_0x3a34a9(0x529)](_0x2170e4)['unsubscribe'](_0x262c00);}[_0x2f335d(0x549)]({id:_0x13294d}){const _0x38fbd6=_0x2f335d;this[_0x38fbd6(0x81a)]()['forEach'](_0x2f9797=>{const _0x18fd9d=_0x38fbd6;_0x2f9797[_0x18fd9d(0x620)](_0x13294d);});}[_0x2f335d(0x421)]({id:_0x2d854d}){const _0x232123=_0x2f335d;this[_0x232123(0x287)](_0x46e946=>_0x46e946[_0x232123(0x8a4)]()===_0x2d854d)['forEach'](_0x1277cd=>{const _0x15e547=_0x232123;this[_0x15e547(0x86b)](_0x1277cd[_0x15e547(0x8a4)](),_0x1277cd[_0x15e547(0x20c)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x13fd7d}){const _0x24e21e=_0x2f335d;this[_0x24e21e(0x842)][_0x24e21e(0x82f)](_0x573148=>_0x573148[_0x24e21e(0x747)](_0x13fd7d));}[_0x2f335d(0x5dd)]({id:_0x173d48}){const _0x3866c5=_0x2f335d;this[_0x3866c5(0x842)]['forEach'](_0x2438a7=>_0x2438a7['handleNodeLeave'](_0x173d48));}['removeJobDispatcher'](_0x2b6d8d){const _0x4d93bf=_0x2f335d;if(!this[_0x4d93bf(0xc7)][_0x4d93bf(0x627)](_0x2b6d8d))throw new _0x194c78(_0x2e40c3[_0x4d93bf(0x1cb)],_0x4d93bf(0x977));const _0x33c307=this[_0x4d93bf(0xc7)]['get'](_0x2b6d8d);this['jobDispatchers'][_0x4d93bf(0x2ee)](_0x2b6d8d),_0x33c307[_0x4d93bf(0x7f0)](),this[_0x4d93bf(0xd5)][_0x4d93bf(0x9c8)][_0x4d93bf(0x39e)](_0x33c307);}['removeJobWorker'](_0x22eebe){const _0x3cc300=_0x2f335d;if(!this['jobWorkers'][_0x3cc300(0x627)](_0x22eebe))throw new _0x194c78(_0x2e40c3[_0x3cc300(0x65a)],_0x3cc300(0x86f));const _0x37639e=this[_0x3cc300(0x94b)][_0x3cc300(0x389)](_0x22eebe);this[_0x3cc300(0x94b)][_0x3cc300(0x2ee)](_0x22eebe),_0x37639e[_0x3cc300(0x7f0)](),this[_0x3cc300(0xd5)][_0x3cc300(0x9c8)]['unregisterSystemSource'](_0x37639e);}[_0x2f335d(0x39f)](_0x17c7ae){const _0x3c6b3b=_0x2f335d;if(!this[_0x3c6b3b(0x842)][_0x3c6b3b(0x627)](_0x17c7ae))throw new _0x194c78(_0x2e40c3[_0x3c6b3b(0x3b0)],_0x3c6b3b(0x273));const _0x212dff=this[_0x3c6b3b(0x842)][_0x3c6b3b(0x389)](_0x17c7ae);this[_0x3c6b3b(0x842)][_0x3c6b3b(0x2ee)](_0x17c7ae),_0x212dff[_0x3c6b3b(0x7f0)](),this[_0x3c6b3b(0xd5)]['mediator']['unregisterSystemSource'](_0x212dff);}[_0x2f335d(0x2e3)](_0x2ecbc3){const _0x4ab069=_0x2f335d;if(!this[_0x4ab069(0x5f6)][_0x4ab069(0x627)](_0x2ecbc3))throw new _0x194c78(_0x2e40c3[_0x4ab069(0x4cc)],_0x4ab069(0x495));const _0x1eab5c=this[_0x4ab069(0x5f6)][_0x4ab069(0x389)](_0x2ecbc3);this[_0x4ab069(0x5f6)]['delete'](_0x2ecbc3),_0x1eab5c[_0x4ab069(0x7f0)](),this[_0x4ab069(0xd5)]['mediator'][_0x4ab069(0x39e)](_0x1eab5c);}[_0x2f335d(0x4b6)](_0x405897){const _0x171f3f=_0x2f335d;if(!this[_0x171f3f(0x13e)][_0x171f3f(0x627)](_0x405897))throw new _0x194c78(_0x2e40c3[_0x171f3f(0x104)],_0x171f3f(0x273));const _0x4184f1=this[_0x171f3f(0x13e)][_0x171f3f(0x389)](_0x405897);this[_0x171f3f(0x13e)]['delete'](_0x405897),_0x4184f1[_0x171f3f(0x7f0)](),this[_0x171f3f(0xd5)][_0x171f3f(0x9c8)][_0x171f3f(0x39e)](_0x4184f1);}[_0x2f335d(0xc0)](_0xd4cf63){const _0x249368=_0x2f335d;if(!this['keyValueDatabases'][_0x249368(0x627)](_0xd4cf63))throw new _0x194c78(_0x2e40c3[_0x249368(0x643)],_0x249368(0x205));const _0x17bdd3=this[_0x249368(0x8a6)][_0x249368(0x389)](_0xd4cf63);this[_0x249368(0x8a6)][_0x249368(0x2ee)](_0xd4cf63),_0x17bdd3[_0x249368(0x7f0)](),this[_0x249368(0xd5)][_0x249368(0x9c8)]['unregisterSystemSource'](_0x17bdd3);}['removeVectorDatabase'](_0x797bfa){const _0x57a831=_0x2f335d;if(!this[_0x57a831(0x45a)][_0x57a831(0x627)](_0x797bfa))throw new _0x194c78(_0x2e40c3[_0x57a831(0x3d5)],_0x57a831(0x205));const _0x16f88a=this[_0x57a831(0x45a)][_0x57a831(0x389)](_0x797bfa);this[_0x57a831(0x45a)][_0x57a831(0x2ee)](_0x797bfa),_0x16f88a['destroy'](),this[_0x57a831(0xd5)][_0x57a831(0x9c8)][_0x57a831(0x39e)](_0x16f88a);}[_0x2f335d(0x450)](_0x10e93d){const _0x37e16b=_0x2f335d;if(!this['graphDatabases'][_0x37e16b(0x627)](_0x10e93d))throw new _0x194c78(_0x2e40c3[_0x37e16b(0x615)],_0x37e16b(0x205));const _0x3a8c74=this[_0x37e16b(0x35e)]['get'](_0x10e93d);this[_0x37e16b(0x35e)][_0x37e16b(0x2ee)](_0x10e93d),_0x3a8c74[_0x37e16b(0x7f0)](),this[_0x37e16b(0xd5)]['mediator'][_0x37e16b(0x39e)](_0x3a8c74);}[_0x2f335d(0x384)](_0x36a455){const _0x404b17=_0x2f335d;if(!this[_0x404b17(0x540)][_0x404b17(0x627)](_0x36a455))throw new _0x315451(_0x315451['codes'][_0x404b17(0x753)],{'label':_0x36a455,'localId':this[_0x404b17(0xd5)][_0x404b17(0x6c3)][_0x404b17(0x92c)]()});const _0x2f06e9=this['localMediaStreams']['get'](_0x36a455);this[_0x404b17(0xd5)][_0x404b17(0x9c8)]['unregisterSystemSource'](_0x2f06e9),_0x2f06e9[_0x404b17(0x7f0)](),this['localMediaStreams'][_0x404b17(0x2ee)](_0x36a455);}[_0x2f335d(0x86b)](_0x402de0,_0x1ab7bb){const _0x578b94=_0x2f335d;if(!this[_0x578b94(0x3c5)]['has'](_0x402de0))throw new _0x315451(_0x315451[_0x578b94(0x600)][_0x578b94(0x3e9)],{'nodeId':_0x402de0,'localId':this[_0x578b94(0xd5)][_0x578b94(0x6c3)][_0x578b94(0x92c)]()});const _0x58f46b=this[_0x578b94(0x3c5)][_0x578b94(0x389)](_0x402de0);if(!_0x58f46b[_0x578b94(0x627)](_0x1ab7bb))throw new _0x315451(_0x315451['codes'][_0x578b94(0x297)],{'nodeId':_0x402de0,'label':_0x1ab7bb,'localId':this[_0x578b94(0xd5)]['localNode'][_0x578b94(0x92c)]()});const _0x27c44f=_0x58f46b[_0x578b94(0x389)](_0x1ab7bb);this[_0x578b94(0xd5)][_0x578b94(0x9c8)][_0x578b94(0x39e)](_0x27c44f),_0x27c44f[_0x578b94(0x7f0)](),_0x58f46b[_0x578b94(0x2ee)](_0x1ab7bb);}}var _0x4d1cbf,_0x29096d,_0x3ae0c9;!function(_0xf9a058){const _0x333bf2=_0x2f335d;_0xf9a058[_0x333bf2(0x1ee)]=_0x333bf2(0x90d),_0xf9a058[_0x333bf2(0x53e)]=_0x333bf2(0x159),_0xf9a058['TimePerFrame']=_0x333bf2(0x64d),_0xf9a058[_0x333bf2(0xfa)]='bitrate',_0xf9a058[_0x333bf2(0x2c7)]=_0x333bf2(0x744),_0xf9a058[_0x333bf2(0x2dd)]=_0x333bf2(0x6ac),_0xf9a058['RoundTripTime']=_0x333bf2(0x41e),_0xf9a058[_0x333bf2(0x4ef)]=_0x333bf2(0x30b);}(_0x4d1cbf||(_0x4d1cbf={})),function(_0x5773ae){const _0x50a639=_0x2f335d;_0x5773ae[_0x50a639(0xbd)]='cpu.cycle',_0x5773ae['TimePerFrame']=_0x50a639(0x302),_0x5773ae[_0x50a639(0x4ef)]='cpu.av_delay',_0x5773ae['FramePerSecond']=_0x50a639(0x4b4),_0x5773ae[_0x50a639(0xfa)]='bandwidth.bitrate',_0x5773ae[_0x50a639(0x2c7)]=_0x50a639(0x457),_0x5773ae[_0x50a639(0x714)]=_0x50a639(0x7e9);}(_0x29096d||(_0x29096d={})),function(_0x413e23){const _0x457d2e=_0x2f335d;_0x413e23[_0x413e23[_0x457d2e(0xb7)]=0x0]=_0x457d2e(0xb7);}(_0x3ae0c9||(_0x3ae0c9={}));const _0x3de148=[{'type':_0x4d1cbf['STVolatility'],'reportMetric':_0xb3d12=>_0xb3d12['STVolatility'],'maxThreshold':2.5},{'type':_0x4d1cbf[_0x2f335d(0x53e)],'reportMetric':_0x4fdc19=>_0x4fdc19['DTVolatility'],'maxThreshold':0.5}],_0x468d64=[{'type':_0x4d1cbf[_0x2f335d(0x197)],'reportMetric':_0x585878=>{const _0xad5cc8=_0x2f335d,_0x2de9f0=0x3e8/_0x585878[_0xad5cc8(0x61f)];return _0x585878[_0xad5cc8(0x1e5)]/_0x2de9f0;},'maxThreshold':0.75},{'type':_0x4d1cbf['Bitrate'],'reportMetric':_0x573502=>{const _0x554b9c=_0x2f335d,_0x3f9292=_0x573502[_0x554b9c(0x61f)]*_0x573502['frameWidth']*_0x573502['frameHeight']*0.12;return _0x573502[_0x554b9c(0xac)]/_0x3f9292;},'minThreshold':0.25},{'type':_0x4d1cbf[_0x2f335d(0x2c7)],'reportMetric':_0x368386=>_0x368386[_0x2f335d(0x744)],'maxThreshold':0.6},{'type':_0x4d1cbf['FramePerSecond'],'reportMetric':_0x3120b0=>_0x3120b0[_0x2f335d(0x61f)],'minThreshold':0xa}],_0x29dbab=[{'type':_0x4d1cbf[_0x2f335d(0x2c7)],'reportMetric':_0x2c3d32=>_0x2c3d32[_0x2f335d(0x744)],'maxThreshold':0.6}],_0x49fcdd=[{'type':_0x4d1cbf[_0x2f335d(0x714)],'reportMetric':_0x314935=>_0x314935[_0x2f335d(0x4d5)],'maxThreshold':0x1/0x0}],_0x412156=[{'type':_0x4d1cbf[_0x2f335d(0x4ef)],'reportMetric':_0x233a15=>_0x233a15[_0x2f335d(0x4ef)],'maxThreshold':0x12c}],_0x3d063e=[{'type':_0x29096d[_0x2f335d(0xbd)],'issues':[{'type':_0x4d1cbf[_0x2f335d(0x1ee)],'threshold':0x5},{'type':_0x4d1cbf['DTVolatility'],'threshold':0x5}]},{'type':_0x29096d[_0x2f335d(0x197)],'issues':[{'type':_0x4d1cbf[_0x2f335d(0x197)],'threshold':0x3}]},{'type':_0x29096d[_0x2f335d(0x4ef)],'issues':[{'type':_0x4d1cbf['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x29096d[_0x2f335d(0x2dd)],'issues':[{'type':_0x4d1cbf[_0x2f335d(0x2dd)],'threshold':0x3}]},{'type':_0x29096d[_0x2f335d(0xfa)],'issues':[{'type':_0x4d1cbf[_0x2f335d(0xfa)],'threshold':0x3}]},{'type':_0x29096d['Jitter'],'issues':[{'type':_0x4d1cbf['Jitter'],'threshold':0x3}]},{'type':_0x29096d['RoundTripTime'],'issues':[{'type':_0x4d1cbf[_0x2f335d(0x714)],'threshold':0x3}]}];var _0x3249d0,_0x12b551;!function(_0xb3cc95){const _0x357ea9=_0x2f335d;_0xb3cc95[_0xb3cc95[_0x357ea9(0x53c)]=0x0]=_0x357ea9(0x53c),_0xb3cc95[_0xb3cc95[_0x357ea9(0x2eb)]=0x1]=_0x357ea9(0x2eb);}(_0x3249d0||(_0x3249d0={}));class _0x34314b{['configs'];[_0x2f335d(0x162)]=[];[_0x2f335d(0x57e)];constructor(_0x210150){const _0x2ebdb9=_0x2f335d;this['configs']=_0x210150,this[_0x2ebdb9(0xd5)][_0x2ebdb9(0x9c8)][_0x2ebdb9(0x8d9)](this);}[_0x2f335d(0x333)](_0x17b0da){const _0x4ed017=_0x2f335d;this[_0x4ed017(0x57e)]=_0x17b0da;}[_0x2f335d(0x1f0)](){const _0x4ab9d1=_0x2f335d;this[_0x4ab9d1(0x57e)]=void 0x0;}['close'](){const _0x1b9c61=_0x2f335d;this[_0x1b9c61(0xd5)]['mediator'][_0x1b9c61(0x39e)](this),this[_0x1b9c61(0x162)]=[];}[_0x2f335d(0x402)](_0x448ed7){const _0x7af964=_0x2f335d;switch(_0x448ed7[_0x7af964(0x569)][_0x7af964(0x4e7)]){case _0x3249d0[_0x7af964(0x2eb)]:this[_0x7af964(0x65c)](_0x448ed7[_0x7af964(0x569)][_0x7af964(0x1c9)]);break;case _0x3249d0['StreamReport']:this[_0x7af964(0x82e)](_0x448ed7[_0x7af964(0x569)][_0x7af964(0x1c9)]);}}[_0x2f335d(0x99b)](_0x153635,_0x2dc362,_0x49b9eb,_0xa99a79){const _0x3e00ea=_0x2f335d,_0x4a0840=_0x3d063e[_0x3e00ea(0x29d)](_0x4f2871=>_0x4f2871[_0x3e00ea(0x162)][_0x3e00ea(0x5dc)](_0x480381=>_0x480381['type']===_0x153635));_0xa99a79>=_0x4a0840[_0x3e00ea(0x162)][_0x3e00ea(0x29d)](_0x15b9e3=>_0x15b9e3[_0x3e00ea(0x4e7)]===_0x153635)[_0x3e00ea(0x354)]&&(this[_0x3e00ea(0x7d2)](_0x4a0840['type'],_0x2dc362,_0x49b9eb),this[_0x3e00ea(0x162)]=this[_0x3e00ea(0x162)][_0x3e00ea(0x379)](_0x39df42=>!(_0x39df42[_0x3e00ea(0x4e7)]===_0x153635&&_0x39df42['nodeId']===_0x2dc362&&_0x39df42[_0x3e00ea(0x9be)]===_0x49b9eb)));}['detectLocalIssues'](_0x26265c){const _0x1e0757=_0x2f335d;_0x3de148[_0x1e0757(0x82f)](_0x4cb5b0=>{const _0x2cd48c=_0x1e0757,_0xb9359=_0x4cb5b0['reportMetric'](_0x26265c);_0x4cb5b0[_0x2cd48c(0x557)]&&_0xb9359>_0x4cb5b0['maxThreshold']&&this[_0x2cd48c(0x88f)](_0x4cb5b0['type'],this[_0x2cd48c(0xd5)][_0x2cd48c(0x6c3)]['getId'](),_0x179164[_0x2cd48c(0x72f)],_0xb9359),_0x4cb5b0[_0x2cd48c(0x467)]&&_0xb9359<_0x4cb5b0[_0x2cd48c(0x467)]&&this[_0x2cd48c(0x88f)](_0x4cb5b0[_0x2cd48c(0x4e7)],this[_0x2cd48c(0xd5)][_0x2cd48c(0x6c3)]['getId'](),_0x179164[_0x2cd48c(0x72f)],_0xb9359);});}[_0x2f335d(0x82e)](_0x4fc7ba){const _0x3f3c85=_0x2f335d;let _0x21b51f=[];switch(_0x4fc7ba['origin']){case _0x179164[_0x3f3c85(0x72f)]:_0x21b51f=_0x49fcdd;break;case _0x179164[_0x3f3c85(0x8f6)]:_0x21b51f=_0x412156;}_0x4fc7ba['video']&&this[_0x3f3c85(0x896)](_0x4fc7ba['nodeId'],_0x179164[_0x3f3c85(0x72f)],_0x4fc7ba['video']),_0x4fc7ba[_0x3f3c85(0x48b)]&&this['detectAudioIssues'](_0x4fc7ba[_0x3f3c85(0x3ff)],_0x179164['Sender'],_0x4fc7ba[_0x3f3c85(0x48b)]),_0x21b51f[_0x3f3c85(0x82f)](_0x4571c7=>{const _0x243c6f=_0x3f3c85,_0x3e5de2=_0x4571c7['reportMetric'](_0x4fc7ba);_0x4571c7[_0x243c6f(0x557)]&&_0x3e5de2>_0x4571c7['maxThreshold']&&this['addIssue'](_0x4571c7[_0x243c6f(0x4e7)],_0x4fc7ba[_0x243c6f(0x3ff)],_0x179164['Sender'],_0x3e5de2),_0x4571c7[_0x243c6f(0x467)]&&_0x3e5de2<_0x4571c7[_0x243c6f(0x467)]&&this['addIssue'](_0x4571c7['type'],_0x4fc7ba[_0x243c6f(0x3ff)],_0x179164['Sender'],_0x3e5de2);});}[_0x2f335d(0x896)](_0x304e62,_0x659a80,_0x41ec37){const _0x226c00=_0x2f335d;0x0!==_0x41ec37[_0x226c00(0xac)]&&_0x468d64[_0x226c00(0x82f)](_0xf638d9=>{const _0x1ad423=_0x226c00,_0x2c7241=_0xf638d9[_0x1ad423(0x71e)](_0x41ec37);_0xf638d9['maxThreshold']&&_0x2c7241>_0xf638d9['maxThreshold']&&this[_0x1ad423(0x88f)](_0xf638d9[_0x1ad423(0x4e7)],_0x304e62,_0x659a80,_0x2c7241,_0x1ad423(0x209)),_0xf638d9[_0x1ad423(0x467)]&&_0x2c7241<_0xf638d9[_0x1ad423(0x467)]&&this[_0x1ad423(0x88f)](_0xf638d9[_0x1ad423(0x4e7)],_0x304e62,_0x659a80,_0x2c7241,_0x1ad423(0x209));});}[_0x2f335d(0x1d4)](_0x25baf8,_0x150c6e,_0x50ab5a){const _0x318546=_0x2f335d;0x0!==_0x50ab5a[_0x318546(0xac)]&&_0x29dbab[_0x318546(0x82f)](_0x3ef5f5=>{const _0x145ec1=_0x318546,_0xdb4733=_0x3ef5f5[_0x145ec1(0x71e)](_0x50ab5a);_0x3ef5f5['maxThreshold']&&_0xdb4733>_0x3ef5f5[_0x145ec1(0x557)]&&this[_0x145ec1(0x88f)](_0x3ef5f5[_0x145ec1(0x4e7)],_0x25baf8,_0x150c6e,_0xdb4733,_0x145ec1(0x48b)),_0x3ef5f5[_0x145ec1(0x467)]&&_0xdb4733<_0x3ef5f5[_0x145ec1(0x467)]&&this[_0x145ec1(0x88f)](_0x3ef5f5['type'],_0x25baf8,_0x150c6e,_0xdb4733,_0x145ec1(0x48b));});}[_0x2f335d(0x88f)](_0x573353,_0x1126d4,_0x5d9f33,_0x350a68,_0x977a2a){const _0x355c32=_0x2f335d;_0x5a023b['log'](_0x4abdbe[_0x355c32(0x7de)],_0x355c32(0x253)+_0x573353,_0x573353,_0x350a68),_0x5a023b['logEvent'](_0x355c32(0x4b2),{'clusterId':this['configs'][_0x355c32(0x49c)],'nodeId':this[_0x355c32(0xd5)][_0x355c32(0x6c3)]['getId'](),'nodeType':this[_0x355c32(0xd5)][_0x355c32(0x6c3)]['type'],'remoteId':_0x1126d4,'data':{'type':_0x573353,'value':_0x350a68,'kind':_0x977a2a}}),this[_0x355c32(0x162)]=this[_0x355c32(0x162)][_0x355c32(0x379)](_0x5ba607=>Date[_0x355c32(0x449)]()-_0x5ba607[_0x355c32(0x5c9)]<0x7530),this[_0x355c32(0x162)][_0x355c32(0x6e4)]({'timestamp':Date[_0x355c32(0x449)](),'type':_0x573353,'nodeId':_0x1126d4,'origin':_0x5d9f33,'value':_0x350a68,'kind':_0x977a2a});const _0x55d9f2=this[_0x355c32(0x162)][_0x355c32(0x379)](_0x50326d=>_0x50326d[_0x355c32(0x4e7)]===_0x573353&&_0x50326d['nodeId']===_0x1126d4&&_0x50326d[_0x355c32(0x9be)]===_0x5d9f33)[_0x355c32(0x39c)];this['detectProblems'](_0x573353,_0x1126d4,_0x5d9f33,_0x55d9f2);}[_0x2f335d(0x7d2)](_0x367648,_0xcd3236,_0x3c05bf){const _0x5755bc=_0x2f335d;_0x5a023b[_0x5755bc(0x6fb)](_0x4abdbe[_0x5755bc(0x7de)],_0x5755bc(0x2fd)+_0x367648),_0x5a023b[_0x5755bc(0x5e8)](_0x5755bc(0x3e2),{'clusterId':this[_0x5755bc(0xd5)]['clusterId'],'nodeId':this[_0x5755bc(0xd5)][_0x5755bc(0x6c3)][_0x5755bc(0x92c)](),'nodeType':this['configs'][_0x5755bc(0x6c3)][_0x5755bc(0x4e7)],'remoteId':_0xcd3236,'data':{'type':_0x367648}}),this[_0x5755bc(0x57e)]?.[_0x5755bc(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x5755bc(0x7de)],'content':{'type':_0x3ae0c9[_0x5755bc(0xb7)],'data':{'timestamp':Date[_0x5755bc(0x449)](),'nodeId':_0xcd3236,'origin':_0x179164[_0x5755bc(0x72f)],'type':_0x367648}}});}}class _0x11a959 extends _0x417906{[_0x2f335d(0x4e7)]=_0x47407f[_0x2f335d(0x1b2)][_0x2f335d(0x5e0)];}class _0x30f2a3 extends _0x11a959{['systemTopic'];[_0x2f335d(0x68c)]=Date[_0x2f335d(0x449)]();[_0x2f335d(0x42b)];['lastUpdated'];[_0x2f335d(0x476)](){const _0x5b549e=_0x2f335d;this['updateDebounceTimeout']&&(clearTimeout(this[_0x5b549e(0x42b)]),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x5b549e(0x68c)]=Date[_0x5b549e(0x449)](),super[_0x5b549e(0x476)]();}['registerSystemPublisher'](_0xbe468d){const _0x98d424=_0x2f335d;this[_0x98d424(0x57e)]=_0xbe468d;}[_0x2f335d(0x1f0)](){delete this['systemTopic'];}[_0x2f335d(0x713)](_0x4d9fc4){const _0x3bf7da=_0x2f335d;!this[_0x3bf7da(0x42b)]&&this[_0x3bf7da(0x71a)]&&this[_0x3bf7da(0x57e)][_0x3bf7da(0x620)]({'sourceId':this['id'],'destinationIds':[_0x4d9fc4],'propagate':!0x0,'messageType':_0x4ba688['Node'],'content':{'type':_0xfc2002[_0x3bf7da(0x881)],'id':this['id'],'metaData':{'type':this['type']},'rank':this['getRank'](),'remoteConnections':Array[_0x3bf7da(0x2ce)](this[_0x3bf7da(0x7a8)]),'version':this[_0x3bf7da(0x68c)]}});}[_0x2f335d(0x781)](_0x2fe851){const _0x3591f8=_0x2f335d;this[_0x3591f8(0x7a8)][_0x3591f8(0x627)](_0x2fe851)||(this[_0x3591f8(0x7a8)]['add'](_0x2fe851),this[_0x3591f8(0x7a4)](),this[_0x3591f8(0x1dc)](!0x0));}[_0x2f335d(0xd1)](_0x32cbe4){const _0x242a45=_0x2f335d;this['remoteConnections'][_0x242a45(0x627)](_0x32cbe4)&&(this[_0x242a45(0x7a8)]['delete'](_0x32cbe4),this['incrementVersion'](),this[_0x242a45(0x1dc)](!0x0));}[_0x2f335d(0x43f)](){const _0x5a1848=_0x2f335d;return this[_0x5a1848(0x68c)];}[_0x2f335d(0x14b)](_0x4b16ff,_0x246a91=!0x0){const _0xde2679=_0x2f335d;this[_0xde2679(0x71a)]!==_0x4b16ff&&(this[_0xde2679(0x71a)]=_0x4b16ff,_0x246a91&&(this[_0xde2679(0x7a4)](),this[_0xde2679(0x1dc)]()));}[_0x2f335d(0x7a4)](){const _0x26a577=_0x2f335d;this[_0x26a577(0x68c)]=Date[_0x26a577(0x449)]();}['publishUserUpdate'](_0x297697=!0x1){const _0x887621=_0x2f335d;if(this[_0x887621(0x71a)]){if(this[_0x887621(0x694)]||(this['lastUpdated']=Date[_0x887621(0x449)]()),this['updateDebounceTimeout']){if(Date[_0x887621(0x449)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x887621(0x42b)]);}this[_0x887621(0x42b)]=setTimeout(()=>{const _0x15724b=_0x887621;delete this[_0x15724b(0x694)],delete this[_0x15724b(0x42b)],this[_0x15724b(0x57e)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x4ba688[_0x15724b(0x3f3)],'content':{'type':_0x297697?_0xfc2002['NodeConnectionsUpdate']:_0xfc2002['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x15724b(0x659)](),'remoteConnections':Array[_0x15724b(0x2ce)](this['remoteConnections']),'version':this[_0x15724b(0x68c)]}});},0x3e8);}}}class _0x4fd218 extends _0x50ee3d{[_0x2f335d(0x57e)];[_0x2f335d(0x68c)]=Date[_0x2f335d(0x449)]();[_0x2f335d(0x42b)];[_0x2f335d(0x694)];[_0x2f335d(0x476)](){const _0x5ac7ef=_0x2f335d;this[_0x5ac7ef(0x42b)]&&(clearTimeout(this[_0x5ac7ef(0x42b)]),delete this[_0x5ac7ef(0x42b)]),delete this[_0x5ac7ef(0x694)],this['currentVersion']=Date[_0x5ac7ef(0x449)](),super[_0x5ac7ef(0x476)]();}[_0x2f335d(0x333)](_0x274cbc){const _0x32d89a=_0x2f335d;this[_0x32d89a(0x57e)]=_0x274cbc;}[_0x2f335d(0x1f0)](){const _0xec7a5=_0x2f335d;delete this[_0xec7a5(0x57e)];}[_0x2f335d(0x713)](_0x17c999){const _0x244697=_0x2f335d;!this[_0x244697(0x42b)]&&this['rank']&&this[_0x244697(0x57e)][_0x244697(0x620)]({'sourceId':this['id'],'destinationIds':[_0x17c999],'propagate':!0x0,'messageType':_0x4ba688[_0x244697(0x3f3)],'content':{'type':_0xfc2002[_0x244697(0x881)],'id':this['id'],'metaData':{'type':this[_0x244697(0x4e7)],'displayName':this[_0x244697(0x15c)](),'email':this[_0x244697(0x310)]()},'rank':this[_0x244697(0x659)](),'remoteConnections':Array[_0x244697(0x2ce)](this['remoteConnections']),'version':this['currentVersion']}});}[_0x2f335d(0x781)](_0x58a626){const _0x39509b=_0x2f335d;this[_0x39509b(0x7a8)][_0x39509b(0x627)](_0x58a626)||(this['remoteConnections'][_0x39509b(0xad)](_0x58a626),this[_0x39509b(0x7a4)](),this[_0x39509b(0x1dc)](!0x0));}[_0x2f335d(0xd1)](_0x5cf9c1){const _0xec328c=_0x2f335d;this['remoteConnections']['has'](_0x5cf9c1)&&(this[_0xec328c(0x7a8)]['delete'](_0x5cf9c1),this[_0xec328c(0x7a4)](),this[_0xec328c(0x1dc)](!0x0));}['getCurrentVersion'](){const _0x1ecf3d=_0x2f335d;return this[_0x1ecf3d(0x68c)];}[_0x2f335d(0x936)](_0x3adbee){const _0x47f9f4=_0x2f335d;this['displayName']!==_0x3adbee&&(this[_0x47f9f4(0x3aa)]=_0x3adbee,this[_0x47f9f4(0x7a4)](),this[_0x47f9f4(0x1dc)]());}[_0x2f335d(0x4cf)](_0x2f00e3){const _0x45a08d=_0x2f335d;this[_0x45a08d(0x74d)]!==_0x2f00e3&&(this[_0x45a08d(0x74d)]=_0x2f00e3,this[_0x45a08d(0x7a4)](),this[_0x45a08d(0x1dc)]());}[_0x2f335d(0x14b)](_0x284b56,_0x4d1d80=!0x0){const _0x5e4cc2=_0x2f335d;this[_0x5e4cc2(0x71a)]!==_0x284b56&&(this['rank']=_0x284b56,_0x4d1d80&&(this['incrementVersion'](),this[_0x5e4cc2(0x1dc)]()));}[_0x2f335d(0x7a4)](){const _0x482b4f=_0x2f335d;this[_0x482b4f(0x68c)]=Date[_0x482b4f(0x449)]();}[_0x2f335d(0x1dc)](_0x57d2b7=!0x1){const _0x3c68fb=_0x2f335d;if(this[_0x3c68fb(0x71a)]){if(this[_0x3c68fb(0x694)]||(this['lastUpdated']=Date['now']()),this['updateDebounceTimeout']){if(Date[_0x3c68fb(0x449)]()-this[_0x3c68fb(0x694)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x3c68fb(0x42b)]=setTimeout(()=>{const _0x1cba2b=_0x3c68fb;delete this[_0x1cba2b(0x694)],delete this[_0x1cba2b(0x42b)],this[_0x1cba2b(0x57e)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x4ba688[_0x1cba2b(0x3f3)],'content':{'type':_0x57d2b7?_0xfc2002[_0x1cba2b(0x47e)]:_0xfc2002['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this['getEmail']()},'rank':this[_0x1cba2b(0x659)](),'remoteConnections':Array['from'](this[_0x1cba2b(0x7a8)]),'version':this[_0x1cba2b(0x68c)]}});},0x3e8);}}}class _0x1904f8{['id'];['groupId'];[_0x2f335d(0xa5)];[_0x2f335d(0x8d1)];[_0x2f335d(0x4e7)]=_0x47407f['NodeType'][_0x2f335d(0x5e0)];[_0x2f335d(0x68f)];constructor(_0x4a1d85,_0x5eac75,_0x2d9a79,_0x30d809){const _0x44047c=_0x2f335d;this['id']=_0x4a1d85,this['groupId']=_0x5eac75,this[_0x44047c(0xa5)]=_0x2d9a79,this[_0x44047c(0x8d1)]=_0x30d809;}[_0x2f335d(0x92c)](){return this['id'];}[_0x2f335d(0x5f7)](_0x579cd4){const _0x4989fe=_0x2f335d,_0x318abe=(0x0,_0x50cb11[_0x4989fe(0x745)])((0x0,_0x50cb11[_0x4989fe(0xc6)])(_0x2825b2[_0x4989fe(0x8be)](),_0x4989fe(0x6de)+this[_0x4989fe(0xa5)]+_0x4989fe(0x14e)+this[_0x4989fe(0x61a)]),_0x51c317=>{const _0x321126=_0x4989fe;if(_0x51c317['exists']()){const _0x269d86=_0x51c317[_0x321126(0x1c9)]();if(this[_0x321126(0x8d1)][_0x321126(0x5c9)][_0x321126(0x3b4)](_0x269d86[_0x321126(0x5c9)]))return;_0x5a023b[_0x321126(0x6fb)](_0x4abdbe[_0x321126(0x3f3)],_0x321126(0x937),{'agentId':this['id'],'groupId':this[_0x321126(0x61a)],'oldConfig':this[_0x321126(0x8d1)],'newConfig':_0x269d86}),this[_0x321126(0x8d1)]=_0x269d86,_0x579cd4();}});return()=>_0x318abe();}[_0x2f335d(0x456)](_0x27a431){const _0x26ec08=_0x2f335d;return this[_0x26ec08(0x5b7)](this[_0x26ec08(0x61a)],_0x27a431),_0x438e57[_0x26ec08(0x182)](()=>this['reportCapacity'](this[_0x26ec08(0x61a)],_0x27a431),0x7530);}[_0x2f335d(0x296)](){const _0x4e0841=_0x2f335d;if(!this[_0x4e0841(0x68f)])throw new _0x315451(_0x315451[_0x4e0841(0x600)][_0x4e0841(0x53f)]);return this[_0x4e0841(0x68f)];}async[_0x2f335d(0x5b7)](_0x3d74ce,_0x40a634){const _0x31d86e=_0x2f335d,_0xa61ffc=await _0x40a634();this['lastCapacityReport']=_0xa61ffc,await(0x0,_0x50cb11[_0x31d86e(0x1a4)])((0x0,_0x50cb11[_0x31d86e(0x750)])(_0x2825b2[_0x31d86e(0x8be)](),_0x31d86e(0x6de)+this[_0x31d86e(0xa5)]+_0x31d86e(0xda)),{'agentId':this['id'],'groupId':_0x3d74ce,'timestamp':(0x0,_0x50cb11['serverTimestamp'])(),'capacity':_0xa61ffc});}}!function(_0x3cd513){const _0x5d1c3d=_0x2f335d;_0x3cd513[_0x3cd513[_0x5d1c3d(0x1b7)]=0x0]=_0x5d1c3d(0x1b7),_0x3cd513[_0x3cd513[_0x5d1c3d(0x9a3)]=0x1]=_0x5d1c3d(0x9a3);}(_0x12b551||(_0x12b551={}));class _0x1e5370 extends _0x11a959{[_0x2f335d(0x68c)];['status']=_0x12b551['Online'];['lastUpdated']=Date[_0x2f335d(0x449)]();constructor(_0x53691a,_0x438cdb=new Set(),_0x284e10,_0x4a593d){super(_0x53691a,_0x438cdb,_0x4a593d),this['currentVersion']=_0x284e10;}[_0x2f335d(0x43f)](){const _0x4830b0=_0x2f335d;return this[_0x4830b0(0x68c)];}[_0x2f335d(0x460)](){return this['status'];}['getLastUpdated'](){const _0x530ca8=_0x2f335d;return this[_0x530ca8(0x694)];}[_0x2f335d(0x14b)](_0x501bc9){const _0x5b8b9f=_0x2f335d;this[_0x5b8b9f(0x71a)]!==_0x501bc9&&(this[_0x5b8b9f(0x71a)]=_0x501bc9,this[_0x5b8b9f(0x6ff)]());}[_0x2f335d(0x412)](_0x1364ba){const _0x54c9b5=_0x2f335d;let _0x578a83=!0x1;for(const _0x57b7cb of this['remoteConnections'])_0x1364ba[_0x54c9b5(0x4a7)](_0x57b7cb)||(_0x578a83=!0x0,this[_0x54c9b5(0x7a8)][_0x54c9b5(0x2ee)](_0x57b7cb));for(const _0x339ec1 of _0x1364ba)this[_0x54c9b5(0x7a8)][_0x54c9b5(0x627)](_0x339ec1)||(_0x578a83=!0x0,this[_0x54c9b5(0x7a8)][_0x54c9b5(0xad)](_0x339ec1));_0x578a83&&this[_0x54c9b5(0x6ff)]();}[_0x2f335d(0x2e9)](_0x23cfab){const _0x9eb689=_0x2f335d;this[_0x9eb689(0x68c)]!==_0x23cfab&&(this[_0x9eb689(0x68c)]=_0x23cfab,this[_0x9eb689(0x6ff)]());}[_0x2f335d(0x508)](_0x15a5ee){const _0x52d0ba=_0x2f335d;this[_0x52d0ba(0x24a)]!==_0x15a5ee&&(this['status']=_0x15a5ee,this[_0x52d0ba(0x6ff)](),_0x15a5ee===_0x12b551[_0x52d0ba(0x9a3)]&&this['close']());}[_0x2f335d(0x6ff)](){const _0x302baf=_0x2f335d;this[_0x302baf(0x694)]=Date[_0x302baf(0x449)]();}}class _0x4dbf9f extends _0x50ee3d{['currentVersion'];[_0x2f335d(0x24a)]=_0x12b551[_0x2f335d(0x1b7)];['lastUpdated']=Date[_0x2f335d(0x449)]();constructor(_0x525dcc,_0x41ccb9,_0x2d7417,_0x9dbe06=new Set(),_0x263b34,_0x2a1f16){const _0x45cbee=_0x2f335d;super(_0x525dcc,_0x41ccb9,_0x2d7417,_0x9dbe06,_0x2a1f16),this[_0x45cbee(0x68c)]=_0x263b34;}[_0x2f335d(0x43f)](){const _0x50dc24=_0x2f335d;return this[_0x50dc24(0x68c)];}['getStatus'](){return this['status'];}[_0x2f335d(0x413)](){const _0xbfb852=_0x2f335d;return this[_0xbfb852(0x694)];}[_0x2f335d(0x936)](_0x58fdad){const _0x313ea0=_0x2f335d;this[_0x313ea0(0x3aa)]!==_0x58fdad&&(this[_0x313ea0(0x3aa)]=_0x58fdad,this[_0x313ea0(0x6ff)]());}[_0x2f335d(0x4cf)](_0x2eeade){const _0x2f8287=_0x2f335d;this['email']!==_0x2eeade&&(this[_0x2f8287(0x74d)]=_0x2eeade,this[_0x2f8287(0x6ff)]());}[_0x2f335d(0x14b)](_0xa73a9b){const _0x3d3f70=_0x2f335d;this[_0x3d3f70(0x71a)]!==_0xa73a9b&&(this[_0x3d3f70(0x71a)]=_0xa73a9b,this[_0x3d3f70(0x6ff)]());}['setRemoteConnections'](_0x656cb6){const _0x2d2449=_0x2f335d;let _0x579f0f=!0x1;for(const _0x32d060 of this[_0x2d2449(0x7a8)])_0x656cb6['includes'](_0x32d060)||(_0x579f0f=!0x0,this[_0x2d2449(0x7a8)][_0x2d2449(0x2ee)](_0x32d060));for(const _0x5510e1 of _0x656cb6)this[_0x2d2449(0x7a8)][_0x2d2449(0x627)](_0x5510e1)||(_0x579f0f=!0x0,this[_0x2d2449(0x7a8)][_0x2d2449(0xad)](_0x5510e1));_0x579f0f&&this[_0x2d2449(0x6ff)]();}[_0x2f335d(0x2e9)](_0x499f87){const _0x5e7916=_0x2f335d;this[_0x5e7916(0x68c)]!==_0x499f87&&(this[_0x5e7916(0x68c)]=_0x499f87,this[_0x5e7916(0x6ff)]());}[_0x2f335d(0x508)](_0x16410d){const _0x1467f1=_0x2f335d;this['status']!==_0x16410d&&(this[_0x1467f1(0x24a)]=_0x16410d,this[_0x1467f1(0x6ff)](),_0x16410d===_0x12b551[_0x1467f1(0x9a3)]&&this['close']());}[_0x2f335d(0x6ff)](){const _0x1ddb01=_0x2f335d;this[_0x1ddb01(0x694)]=Date[_0x1ddb01(0x449)]();}}class _0x55f25d{[_0x2f335d(0xa5)];[_0x2f335d(0x49c)];[_0x2f335d(0x6c3)];['minConnections'];['disconnectCallback']=_0x245a70();[_0x2f335d(0x10c)];[_0x2f335d(0x5a8)];[_0x2f335d(0x607)];[_0x2f335d(0x6f7)]=!0x1;['clusterKey'];['nodeKey'];constructor(_0x4bd410,_0x1bbdaa,_0x2b0239,_0x5022a4){const _0x20393c=_0x2f335d;this['vendorId']=_0x4bd410,this[_0x20393c(0x49c)]=_0x1bbdaa,this['localNode']=_0x2b0239,this[_0x20393c(0x155)]=_0x5022a4,this[_0x20393c(0x4c7)]=_0x20393c(0x8e5)+this[_0x20393c(0xa5)]+_0x20393c(0x8e5)+this['clusterId'],this[_0x20393c(0x9b8)]=_0x20393c(0x8e5)+this[_0x20393c(0xa5)]+_0x20393c(0x8e5)+this['localNode'][_0x20393c(0x92c)](),this['firebaseUnsubscriber']=(0x0,_0x59ed33[_0x20393c(0x1bd)])((0x0,_0x59ed33[_0x20393c(0x29b)])(_0x2825b2[_0x20393c(0x7bf)](),'.info/connected'),_0x4d278c=>{const _0x56a68f=_0x20393c;!0x0!==_0x4d278c[_0x56a68f(0x357)]()?this[_0x56a68f(0x6f7)]&&_0x5a023b[_0x56a68f(0x646)](_0x56a68f(0x981),{'clusterId':this['clusterId'],'nodeId':this[_0x56a68f(0x6c3)]['getId'](),'nodeType':this[_0x56a68f(0x6c3)][_0x56a68f(0x4e7)]}):(this[_0x56a68f(0x6f7)]=!0x0,this[_0x56a68f(0x8b8)](),_0x5a023b[_0x56a68f(0x80f)](_0x56a68f(0x634),{'clusterId':this[_0x56a68f(0x49c)],'nodeId':this[_0x56a68f(0x6c3)]['getId'](),'nodeType':this[_0x56a68f(0x6c3)]['type']}));});}async[_0x2f335d(0x67e)](){const _0x114dfe=_0x2f335d;await this[_0x114dfe(0x3ef)]();const _0x122183=await this['getAncestors']();return this['childRemovedUnsubscriber']=(0x0,_0x59ed33[_0x114dfe(0x4c9)])((0x0,_0x59ed33[_0x114dfe(0x29b)])(_0x2825b2[_0x114dfe(0x7bf)](),_0x114dfe(0x539)+this['clusterKey']+_0x114dfe(0x7bd)),_0x598c3d=>{const _0x2f6020=_0x114dfe,_0x3f222b=_0x598c3d[_0x2f6020(0x868)];if(!_0x3f222b)return;const _0x2ca4c9=_0x3f222b[_0x2f6020(0x709)]('ccc'+this[_0x2f6020(0xa5)]+_0x2f6020(0x8e5),'');this[_0x2f6020(0x43b)]['publish'](_0x2ca4c9);}),_0x122183;}async['close'](){const _0x285c03=_0x2f335d;this[_0x285c03(0x5a8)]?.(),delete this['childRemovedUnsubscriber'],this[_0x285c03(0x607)]?.[_0x285c03(0x76d)](),delete this[_0x285c03(0x607)],this[_0x285c03(0x10c)]?.(),delete this[_0x285c03(0x10c)],await(0x0,_0x59ed33['remove'])((0x0,_0x59ed33['ref'])(_0x2825b2[_0x285c03(0x7bf)](),'clusters/'+this[_0x285c03(0x4c7)]+'/nodes/'+this[_0x285c03(0x9b8)]));}[_0x2f335d(0x513)](_0x5f3e0d){const _0x4d4290=_0x2f335d;return this['disconnectCallback'][_0x4d4290(0x504)](_0x5f3e0d);}async[_0x2f335d(0x1aa)](){const _0x12d2c7=_0x2f335d,_0x23e73b=[],_0x21ced2=await(0x0,_0x59ed33[_0x12d2c7(0x389)])((0x0,_0x59ed33['ref'])(_0x2825b2['getDatabase'](),_0x12d2c7(0x539)+this[_0x12d2c7(0x4c7)]+_0x12d2c7(0x7bd))),_0x5c9d52=[];return _0x21ced2[_0x12d2c7(0x82f)](_0x20afd6=>{const _0x180569=_0x12d2c7,_0x50f03a=_0x20afd6[_0x180569(0x868)]?.['replace']('ccc'+this[_0x180569(0xa5)]+'ccc','');_0x5c9d52[_0x180569(0x6e4)]({'id':_0x50f03a,'joinedAt':_0x20afd6['val']()[_0x180569(0x417)],'priority':_0x20afd6['val']()[_0x180569(0x6bf)]});}),_0x5c9d52[_0x12d2c7(0x991)]((_0x59e04b,_0x5100b8)=>_0x59e04b[_0x12d2c7(0x417)]===_0x5100b8['joinedAt']?_0x59e04b['priority']-_0x5100b8[_0x12d2c7(0x6bf)]:_0x59e04b['joinedAt']-_0x5100b8[_0x12d2c7(0x417)])[_0x12d2c7(0x5b0)](_0x5c9d52['findIndex'](_0x59a429=>_0x59a429['id']===this[_0x12d2c7(0x6c3)]['getId']())),_0x5c9d52['sort']((_0x3b36c5,_0x306302)=>_0x306302[_0x12d2c7(0x417)]===_0x3b36c5[_0x12d2c7(0x417)]?_0x306302['priority']-_0x3b36c5[_0x12d2c7(0x6bf)]:_0x306302[_0x12d2c7(0x417)]-_0x3b36c5[_0x12d2c7(0x417)])['forEach'](_0x980173=>{const _0x5f4f50=_0x12d2c7;_0x23e73b[_0x5f4f50(0x39c)]>=this['minConnections']||_0x23e73b['push'](_0x980173['id']);}),_0x5a023b[_0x12d2c7(0x5e8)](_0x12d2c7(0x9a4),{'clusterId':this[_0x12d2c7(0x49c)],'nodeId':this[_0x12d2c7(0x6c3)][_0x12d2c7(0x92c)](),'nodeType':this[_0x12d2c7(0x6c3)]['type'],'data':{'ancestorIds':_0x23e73b,'allNodes':_0x5c9d52}}),_0x23e73b;}async[_0x2f335d(0x3ef)](){const _0x38534a=_0x2f335d;await(0x0,_0x59ed33[_0x38534a(0x120)])((0x0,_0x59ed33[_0x38534a(0x29b)])(_0x2825b2[_0x38534a(0x7bf)](),_0x38534a(0x539)+this[_0x38534a(0x4c7)]+_0x38534a(0x20e)+this['nodeKey']),{'joinedAt':(0x0,_0x59ed33[_0x38534a(0x8ee)])(),'priority':Math[_0x38534a(0xe5)]()});}[_0x2f335d(0x8b8)](){const _0x51bd44=_0x2f335d;this['onDisconnectHandler']&&this['onDisconnectHandler'][_0x51bd44(0x76d)](),this[_0x51bd44(0x607)]=(0x0,_0x59ed33[_0x51bd44(0x7ea)])((0x0,_0x59ed33['ref'])(_0x2825b2[_0x51bd44(0x7bf)](),'clusters/'+this[_0x51bd44(0x4c7)]+'/nodes/'+this[_0x51bd44(0x9b8)])),this['onDisconnectHandler']['remove']();}}class _0x8bc427{[_0x2f335d(0xd5)];[_0x2f335d(0x7b4)];[_0x2f335d(0x203)];['discoveryService'];[_0x2f335d(0x8d2)];['ancestors']=[];['systemTopic'];[_0x2f335d(0x243)]=new Map();[_0x2f335d(0x787)];['lastProcessRank'];[_0x2f335d(0x38e)];[_0x2f335d(0x6a1)];[_0x2f335d(0x341)];[_0x2f335d(0x5bb)];constructor(_0x77a119,_0x594e0c){const _0x49d163=_0x2f335d;this[_0x49d163(0xd5)]=_0x77a119,this[_0x49d163(0x7b4)]=_0x594e0c,this[_0x49d163(0x38e)]=new Promise((_0x54cafb,_0x2dc577)=>{const _0x4d8f7f=_0x49d163;this[_0x4d8f7f(0x6a1)]=_0x54cafb,this[_0x4d8f7f(0x341)]=_0x2dc577;}),this['discoveryService']=new _0x55f25d(this['configs'][_0x49d163(0xa5)],this[_0x49d163(0xd5)][_0x49d163(0x49c)],this['configs'][_0x49d163(0x6c3)],this[_0x49d163(0x7b4)][_0x49d163(0x3bb)]()),this[_0x49d163(0x8d2)]=this[_0x49d163(0x8f2)]['onNodeDisconnect'](this['handleNodeDisconnect'][_0x49d163(0x1b9)](this)),this['configs'][_0x49d163(0x9c8)][_0x49d163(0x8d9)](this[_0x49d163(0xd5)]['localNode']),this[_0x49d163(0xd5)][_0x49d163(0x9c8)][_0x49d163(0x8d9)](this),this[_0x49d163(0x203)]=_0x438e57[_0x49d163(0x182)](()=>{const _0x10349b=_0x49d163,_0x515df9=Date[_0x10349b(0x449)]();this['graphService'][_0x10349b(0x78e)]()['forEach'](_0x253bc0=>{const _0x1da64b=_0x10349b;_0x253bc0[_0x1da64b(0x460)]()===_0x12b551[_0x1da64b(0x9a3)]&&_0x253bc0[_0x1da64b(0x413)]()<_0x515df9-0x493e0&&this[_0x1da64b(0x7b4)][_0x1da64b(0x41c)](_0x253bc0[_0x1da64b(0x92c)]());});},0xea60);}async[_0x2f335d(0x2bf)](){const _0x1d1e5c=_0x2f335d;return this[_0x1d1e5c(0x38e)];}async[_0x2f335d(0x5e6)](_0x4a27c8){return new Promise((_0x554e6b,_0x259ad1)=>{const _0x4bfbff=a0_0x2fcc;let _0x14a115;const _0x50ef80=setTimeout(()=>{const _0xa65476=a0_0x2fcc;_0x14a115?.(),_0x259ad1(new Error(_0xa65476(0x6ee)+_0x4a27c8+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x4bfbff(0x7b4)][_0x4bfbff(0x54e)](_0x4a27c8))return clearTimeout(_0x50ef80),void _0x554e6b(!0x0);_0x14a115=this[_0x4bfbff(0x7b4)][_0x4bfbff(0x6cf)](()=>{const _0x3937a4=_0x4bfbff;this[_0x3937a4(0x7b4)]['hasRemoteNode'](_0x4a27c8)&&(clearTimeout(_0x50ef80),_0x554e6b(!0x0),_0x14a115?.());});});}[_0x2f335d(0x333)](_0x2576f3){const _0x7cc608=_0x2f335d;this[_0x7cc608(0x57e)]=_0x2576f3;}[_0x2f335d(0x1f0)](){const _0x1bd7e5=_0x2f335d;delete this[_0x1bd7e5(0x57e)];}[_0x2f335d(0x476)](){const _0x469916=_0x2f335d;this[_0x469916(0x787)]&&(clearTimeout(this[_0x469916(0x787)]),delete this['debounceProcessRank']),delete this[_0x469916(0x1f7)],this[_0x469916(0xd5)][_0x469916(0x6c3)][_0x469916(0x476)](),this[_0x469916(0x203)](),this[_0x469916(0x8d2)](),this[_0x469916(0xd5)][_0x469916(0x9c8)]['unregisterSystemSource'](this[_0x469916(0xd5)][_0x469916(0x6c3)]),this[_0x469916(0xd5)][_0x469916(0x9c8)]['unregisterSystemSource'](this),this[_0x469916(0x8f2)][_0x469916(0x476)]();}[_0x2f335d(0x4d7)](){const _0x430c86=_0x2f335d;return this[_0x430c86(0x95c)];}[_0x2f335d(0x871)](){const _0x3fccc6=_0x2f335d;return this['configs'][_0x3fccc6(0x6c3)][_0x3fccc6(0x92c)]();}[_0x2f335d(0x2ed)](){const _0x2a4b57=_0x2f335d;return this[_0x2a4b57(0xd5)][_0x2a4b57(0x6c3)];}[_0x2f335d(0x78e)](_0x19ffa5){const _0x248f94=_0x2f335d,_0x4d3d05=Array[_0x248f94(0x2ce)](this[_0x248f94(0x7b4)][_0x248f94(0x78e)]()['values']())['filter'](_0x53b62a=>_0x53b62a[_0x248f94(0x460)]()===_0x12b551['Online']);return _0x19ffa5?_0x4d3d05['filter'](_0x19ffa5):_0x4d3d05;}async[_0x2f335d(0x9a4)](){const _0x4a225a=_0x2f335d;return this[_0x4a225a(0x95c)]=await this['discoveryService']['join'](),this[_0x4a225a(0x95c)][_0x4a225a(0x39c)]<this[_0x4a225a(0x7b4)][_0x4a225a(0x3bb)]()&&(this['configs'][_0x4a225a(0x6c3)]['setRank'](this['ancestors'][_0x4a225a(0x39c)]+0x1),this[_0x4a225a(0x735)]()),this[_0x4a225a(0x95c)];}[_0x2f335d(0x759)](_0x2f4879,_0x517ab5){const _0x159741=_0x2f335d,_0x4370d1=this['configs']['localNode'][_0x159741(0x965)](),_0x2e2cfa=new Set(_0x4370d1),_0xafe8cb=Array['from'](_0x4370d1)[_0x159741(0x379)](_0x459b6b=>_0x459b6b!==_0x2f4879)[_0x159741(0x3cd)](_0x5cd378=>({'id':_0x5cd378,'distance':0x1}));for(;_0xafe8cb[_0x159741(0x39c)]>0x0;){const _0x59a30c=_0xafe8cb[_0x159741(0x234)]();if(!_0x59a30c)continue;if(_0x59a30c['id']===_0x517ab5)return _0x59a30c[_0x159741(0x3ba)];const _0x31cfe9=this[_0x159741(0x7b4)]['getRemoteNode'](_0x59a30c['id']);_0x31cfe9&&_0x31cfe9['getStatus']()!==_0x12b551['Offline']&&_0x31cfe9[_0x159741(0x965)]()[_0x159741(0x82f)](_0x4fd636=>{const _0x2a4d0a=_0x159741;_0x2e2cfa['has'](_0x4fd636)||(_0x2e2cfa[_0x2a4d0a(0xad)](_0x4fd636),_0xafe8cb[_0x2a4d0a(0x6e4)]({'id':_0x4fd636,'distance':_0x59a30c[_0x2a4d0a(0x3ba)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x4351f8){const _0x100410=_0x2f335d;try{switch(_0x4351f8[_0x100410(0x569)][_0x100410(0x4e7)]){case _0xfc2002[_0x100410(0x881)]:case _0xfc2002[_0x100410(0x47e)]:this['handleNodeUpdate'](_0x4351f8[_0x100410(0x569)]),_0x5a023b['log'](_0x4abdbe[_0x100410(0x3f3)],_0x100410(0x3fc),'\x27'+this[_0x100410(0xd5)]['localNode'][_0x100410(0x92c)]()+',\x20'+_0x4351f8[_0x100410(0x1cc)]+'\x27',_0x4351f8,_0x4351f8[_0x100410(0x569)]);break;case _0xfc2002[_0x100410(0x840)]:this['removeNode'](_0x4351f8[_0x100410(0x569)]['id']),_0x5a023b['log'](_0x4abdbe[_0x100410(0x3f3)],_0x100410(0x674),'\x27'+this[_0x100410(0xd5)]['localNode']['getId']()+',\x20'+_0x4351f8['sourceId']+'\x27',_0x4351f8,_0x4351f8[_0x100410(0x569)]);}}catch(_0x2dfb60){if(_0x2dfb60 instanceof _0x2d51ec)return void _0x5a023b[_0x100410(0x6fb)](_0x4abdbe['Node'],_0x2dfb60[_0x100410(0x3bf)]);throw _0x2dfb60;}}[_0x2f335d(0x217)](_0x43c90d){const _0x1610e6=_0x2f335d;switch(_0x43c90d[_0x1610e6(0x569)][_0x1610e6(0x4e7)]){case _0x37a68d[_0x1610e6(0x5aa)]:this[_0x1610e6(0x725)](_0x43c90d[_0x1610e6(0x1cc)]),_0x5a023b[_0x1610e6(0x6fb)](_0x4abdbe[_0x1610e6(0x3f3)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this['configs'][_0x1610e6(0x6c3)]['getId']()+',\x20'+_0x43c90d[_0x1610e6(0x1cc)]+'\x27',_0x43c90d,_0x43c90d[_0x1610e6(0x569)]);break;case _0x37a68d[_0x1610e6(0x69d)]:this['publishNodeLeave'](_0x43c90d[_0x1610e6(0x1cc)]),_0x5a023b[_0x1610e6(0x6fb)](_0x4abdbe[_0x1610e6(0x3f3)],_0x1610e6(0x841),this['configs'][_0x1610e6(0x6c3)][_0x1610e6(0x92c)](),_0x43c90d,_0x43c90d[_0x1610e6(0x569)]);}}[_0x2f335d(0x747)](_0x4485cf){const _0x526d42=_0x2f335d;this[_0x526d42(0x7f8)](_0x4485cf),this['notifyJoin'](_0x4485cf);}[_0x2f335d(0x75d)](_0x4fcd5e){const _0x489378=_0x2f335d;this[_0x489378(0xd5)][_0x489378(0x6c3)][_0x489378(0x713)](_0x4fcd5e['id']),this[_0x489378(0x225)](_0x4fcd5e['id']),this['notifyClusterNodeJoin'](_0x4fcd5e);}['handleNodeUpdate'](_0x57bcc9){const _0x4bf560=_0x2f335d,{id:_0x1b079e,metaData:_0x23f382,rank:_0x28c07d,remoteConnections:_0x23d744,version:_0x102aec}=_0x57bcc9,_0x5e9d66=this[_0x4bf560(0x7b4)][_0x4bf560(0xa3)](_0x1b079e);if(_0x5e9d66){if(!(_0x102aec<=_0x5e9d66['getCurrentVersion']())){if(_0x5e9d66[_0x4bf560(0x412)](_0x23d744),_0x5e9d66[_0x4bf560(0x2e9)](_0x102aec),_0x5e9d66['type']===_0x47407f[_0x4bf560(0x1b2)][_0x4bf560(0x8c2)]&&_0x23f382[_0x4bf560(0x4e7)]===_0x47407f[_0x4bf560(0x1b2)][_0x4bf560(0x8c2)]&&(_0x5e9d66[_0x4bf560(0x936)](_0x23f382[_0x4bf560(0x3aa)]),_0x5e9d66[_0x4bf560(0x4cf)](_0x23f382[_0x4bf560(0x74d)])),_0x28c07d&&_0x5e9d66['setRank'](_0x28c07d),this[_0x4bf560(0x51b)](_0x1b079e,_0x28c07d),_0x5e9d66[_0x4bf560(0x460)]()===_0x12b551['Offline'])return _0x5e9d66[_0x4bf560(0x508)](_0x12b551['Online']),this[_0x4bf560(0x735)](),void this[_0x4bf560(0x75d)](_0x57bcc9);this[_0x4bf560(0x735)](),this['notifyClusterNodeUpdate']({'id':_0x1b079e,'metaData':_0x23f382,'remoteConnections':_0x23d744,'version':_0x102aec});}}else this['handleNodeJoin'](_0x57bcc9);}[_0x2f335d(0x51b)](_0x112717,_0x1b8c05){const _0x26a9dc=_0x2f335d;_0x1b8c05&&this['ancestors'][_0x26a9dc(0x4a7)](_0x112717)&&this[_0x26a9dc(0xd5)][_0x26a9dc(0x6c3)]['setRank'](_0x1b8c05+this[_0x26a9dc(0x95c)][_0x26a9dc(0x3d2)](_0x112717)+0x1);}[_0x2f335d(0x725)](_0x3e5db5){const _0x3c649f=_0x2f335d;this[_0x3c649f(0xd5)][_0x3c649f(0x6c3)][_0x3c649f(0x781)](_0x3e5db5);}[_0x2f335d(0x7f8)]({id:_0x1d6a8a,metaData:_0x5ec285,rank:_0x40b42b,remoteConnections:_0x15c527,version:_0x50e6b7}){const _0x3e4937=_0x2f335d;if(this[_0x3e4937(0x7b4)][_0x3e4937(0x54e)](_0x1d6a8a))throw new _0x2d51ec(_0x3e4937(0x710)+_0x1d6a8a);switch(_0x5ec285[_0x3e4937(0x4e7)]){case _0x47407f[_0x3e4937(0x1b2)]['User']:const {displayName:_0x1da05c,email:_0x15c06c}=_0x5ec285;this[_0x3e4937(0x7b4)][_0x3e4937(0x734)](_0x1d6a8a,new _0x4dbf9f(_0x1d6a8a,_0x1da05c,_0x15c06c,new Set(_0x15c527),_0x50e6b7,_0x40b42b));break;case _0x47407f[_0x3e4937(0x1b2)][_0x3e4937(0x5e0)]:this[_0x3e4937(0x7b4)]['setRemoteNode'](_0x1d6a8a,new _0x1e5370(_0x1d6a8a,new Set(_0x15c527),_0x50e6b7,_0x40b42b));}const _0x3b9019=this[_0x3e4937(0x78e)](),_0x1022b9=new Set(this[_0x3e4937(0x95c)]);_0x3b9019['forEach'](_0x416227=>{const _0x3ed225=_0x3e4937;_0x1022b9[_0x3ed225(0x627)](_0x416227[_0x3ed225(0x92c)]())&&_0x1022b9[_0x3ed225(0x2ee)](_0x416227[_0x3ed225(0x92c)]());}),0x0===_0x1022b9['size']&&this['resolveReady']&&(this['readyDebounce']&&clearTimeout(this[_0x3e4937(0x5bb)]),this[_0x3e4937(0x5bb)]=setTimeout(()=>{const _0x3d92bb=_0x3e4937;this[_0x3d92bb(0x6a1)]?.(!0x0),delete this['resolveReady'],delete this['rejectReady'];},0x7d0)),this[_0x3e4937(0x51b)](_0x1d6a8a,_0x40b42b),this[_0x3e4937(0x735)]();}[_0x2f335d(0x225)](_0x2c899a){const _0x419540=_0x2f335d;this[_0x419540(0x57e)][_0x419540(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688['Node'],'content':{'type':_0xfc2002['NodeJoin'],'id':_0x2c899a}});}[_0x2f335d(0x761)](_0x12b44d){const _0x2b6f6a=_0x2f335d;this['systemTopic']?.['publish']({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x2b6f6a(0x3f3)],'content':{'type':_0xfc2002[_0x2b6f6a(0x840)],'id':_0x12b44d}});}[_0x2f335d(0x157)](_0x28d32a){const _0x4591a8=_0x2f335d;if(_0x28d32a===this['configs'][_0x4591a8(0x6c3)][_0x4591a8(0x92c)]())return this[_0x4591a8(0xd5)]['mediator'][_0x4591a8(0x984)](_0x4591a8(0x3a0),{'id':_0x28d32a}),this[_0x4591a8(0xd5)][_0x4591a8(0x9c8)][_0x4591a8(0x476)]({'force':!0x0},!0x0),this['configs'][_0x4591a8(0x9c8)][_0x4591a8(0x8d6)](),void this['configs'][_0x4591a8(0x9c8)][_0x4591a8(0x8f7)]();this[_0x4591a8(0x761)](_0x28d32a);}[_0x2f335d(0x22a)](_0x2e8eef){const _0x404589=_0x2f335d;this[_0x404589(0x95c)][_0x404589(0x4a7)](_0x2e8eef)?this[_0x404589(0x4bf)](_0x2e8eef):this[_0x404589(0xd5)][_0x404589(0x6c3)]['getRemoteConnections']()['has'](_0x2e8eef)&&this[_0x404589(0x92d)](_0x2e8eef),this[_0x404589(0xd5)][_0x404589(0x6c3)][_0x404589(0xd1)](_0x2e8eef);const _0x3b57ec=Array[_0x404589(0x2ce)](this['optimizationLayers'][_0x404589(0x8dc)]())[_0x404589(0x29d)](([,_0x287d19])=>_0x287d19==_0x287d19);_0x3b57ec&&this[_0x404589(0x243)][_0x404589(0x2ee)](_0x3b57ec[0x0]);const _0x3f5709=this[_0x404589(0x7b4)][_0x404589(0xa3)](_0x2e8eef);if(!_0x3f5709)return;const _0x2d63a4=_0x3f5709[_0x404589(0x659)](),_0x43ee45=this['configs'][_0x404589(0x6c3)][_0x404589(0x659)]();_0x43ee45&&_0x2d63a4&&_0x2d63a4<_0x43ee45&&this[_0x404589(0xd5)][_0x404589(0x6c3)][_0x404589(0x14b)](_0x43ee45-0x1,!0x1),Array['from'](this['graphService'][_0x404589(0x78e)]()[_0x404589(0x349)]())[_0x404589(0x82f)](_0x213776=>{const _0x424e07=_0x404589,_0x3ad988=_0x213776[_0x424e07(0x659)]();_0x3ad988&&_0x2d63a4&&_0x2d63a4<_0x3ad988&&_0x213776[_0x424e07(0x14b)](_0x3ad988-0x1);}),_0x3f5709[_0x404589(0x508)](_0x12b551['Offline']),this[_0x404589(0xd5)]['mediator'][_0x404589(0x984)](_0x3f5709['type']+_0x404589(0x520),{'id':_0x2e8eef});}[_0x2f335d(0x238)]({id:_0x5602b3,metaData:_0x516a5a,remoteConnections:_0x484069}){const _0x2f3071=_0x2f335d;switch(_0x516a5a['type']){case _0x47407f[_0x2f3071(0x1b2)][_0x2f3071(0x8c2)]:this[_0x2f3071(0xd5)][_0x2f3071(0x9c8)][_0x2f3071(0x984)]('user-join',{'id':_0x5602b3,'metaData':_0x516a5a,'remoteConnections':_0x484069});break;case _0x47407f['NodeType']['Agent']:this['configs'][_0x2f3071(0x9c8)][_0x2f3071(0x984)](_0x2f3071(0x43a),{'id':_0x5602b3,'metaData':_0x516a5a,'remoteConnections':_0x484069});}}['notifyClusterNodeUpdate']({id:_0x258dd1,metaData:_0x3e6aa2,remoteConnections:_0xf931d8}){const _0x27492c=_0x2f335d;switch(_0x3e6aa2[_0x27492c(0x4e7)]){case _0x47407f[_0x27492c(0x1b2)][_0x27492c(0x8c2)]:this[_0x27492c(0xd5)]['mediator'][_0x27492c(0x984)](_0x27492c(0x475),{'id':_0x258dd1,'metaData':_0x3e6aa2,'remoteConnections':_0xf931d8});break;case _0x47407f[_0x27492c(0x1b2)][_0x27492c(0x5e0)]:this[_0x27492c(0xd5)]['mediator'][_0x27492c(0x984)](_0x27492c(0x98),{'id':_0x258dd1,'metaData':_0x3e6aa2,'remoteConnections':_0xf931d8});}}['processRank'](){const _0xd52699=_0x2f335d;if(this[_0xd52699(0x1f7)]||(this['lastProcessRank']=Date[_0xd52699(0x449)]()),this[_0xd52699(0x787)]){if(Date['now']()-this[_0xd52699(0x1f7)]>0x2328)return;clearTimeout(this[_0xd52699(0x787)]);}this[_0xd52699(0x787)]=setTimeout(async()=>{const _0x5cd8fa=_0xd52699;delete this[_0x5cd8fa(0x1f7)],delete this[_0x5cd8fa(0x787)];const _0x4f4c5f=this['configs'][_0x5cd8fa(0x6c3)]['getRank']();if(!_0x4f4c5f)return;const _0x52a7c3=this['graphService'][_0x5cd8fa(0x33e)](this[_0x5cd8fa(0x7b4)][_0x5cd8fa(0x78e)]()[_0x5cd8fa(0x15b)]);if(this[_0x5cd8fa(0x243)]['size']>=_0x52a7c3)return;let _0x3fee03=0x1;for(;this[_0x5cd8fa(0xd5)][_0x5cd8fa(0x9c8)][_0x5cd8fa(0x28b)]()[_0x5cd8fa(0x39c)]<this[_0x5cd8fa(0x7b4)][_0x5cd8fa(0xc5)]()&&_0x3fee03<=_0x52a7c3;){if(this[_0x5cd8fa(0x243)]['has'](_0x3fee03)){_0x3fee03+=0x1;continue;}const _0x10f549=this[_0x5cd8fa(0x7b4)]['getNextTargetRank'](_0x4f4c5f,_0x3fee03),_0x2f2ddf=Array[_0x5cd8fa(0x2ce)](this[_0x5cd8fa(0x7b4)][_0x5cd8fa(0x78e)]()['values']())[_0x5cd8fa(0x29d)](_0x459a34=>_0x459a34[_0x5cd8fa(0x659)]()===_0x10f549&&_0x459a34[_0x5cd8fa(0x460)]()===_0x12b551[_0x5cd8fa(0x1b7)]);if(_0x2f2ddf){try{await this[_0x5cd8fa(0xd5)][_0x5cd8fa(0x9c8)][_0x5cd8fa(0x8a2)](_0x2f2ddf['getId'](),_0x595c1f[_0x5cd8fa(0x3d4)]),this[_0x5cd8fa(0x243)][_0x5cd8fa(0x120)](_0x3fee03,_0x2f2ddf['getId']());}catch(_0x17d0e0){if(!(_0x17d0e0 instanceof _0x315451&&_0x17d0e0[_0x5cd8fa(0x699)]===_0x315451[_0x5cd8fa(0x600)][_0x5cd8fa(0x163)]))throw _0x17d0e0;_0x5a023b[_0x5cd8fa(0x6fb)](_0x4abdbe['Node'],this[_0x5cd8fa(0xd5)][_0x5cd8fa(0x6c3)]['getId'](),_0x2f2ddf[_0x5cd8fa(0x92c)](),_0x17d0e0['message']);}_0x3fee03+=0x1;}else _0x3fee03+=0x1;}},0x3e8);}async['manageAncestor'](_0x1834be){const _0x5a3100=_0x2f335d;this['ancestors'][_0x5a3100(0x5b0)](this['ancestors'][_0x5a3100(0x3d2)](_0x1834be),0x1);const _0x1cb04b=await this['discoveryService'][_0x5a3100(0x1aa)]();for(const _0x4cce3a of _0x1cb04b)if(!this[_0x5a3100(0x95c)]['includes'](_0x4cce3a)){const _0x15f141=Array[_0x5a3100(0x2ce)](this[_0x5a3100(0x243)][_0x5a3100(0x8dc)]())[_0x5a3100(0x29d)](([,_0x249cab])=>_0x249cab===_0x4cce3a);_0x15f141&&this[_0x5a3100(0x243)][_0x5a3100(0x2ee)](_0x15f141[0x0]),this[_0x5a3100(0xd5)][_0x5a3100(0x9c8)][_0x5a3100(0x8a2)](_0x4cce3a,_0x595c1f[_0x5a3100(0x5e4)]);}0x0===_0x1cb04b['length']&&this[_0x5a3100(0xd5)][_0x5a3100(0x6c3)]['setRank'](0x1),this['ancestors']=_0x1cb04b;}async[_0x2f335d(0x92d)](_0x1a95a7){const _0x26d3da=_0x2f335d,_0x38190b=this[_0x26d3da(0xd5)][_0x26d3da(0x6c3)]['getRank']();if(!_0x38190b)return;const _0x3bc53a=this['graphService'][_0x26d3da(0xa3)](_0x1a95a7);if(!_0x3bc53a||_0x3bc53a[_0x26d3da(0x460)]()===_0x12b551[_0x26d3da(0x9a3)])return;const _0x44b143=_0x3bc53a[_0x26d3da(0x659)]();if(!_0x44b143||_0x44b143<_0x38190b)return;const _0x178cba=this[_0x26d3da(0x4d3)](this[_0x26d3da(0xd5)][_0x26d3da(0x6c3)][_0x26d3da(0x965)](),_0x38190b),_0x5af9b5=this['getOutgoingOptimizationConnections'](_0x3bc53a[_0x26d3da(0x965)](),_0x44b143)[_0x178cba[_0x26d3da(0x7d0)](([_0x3ddea7])=>_0x3ddea7===_0x1a95a7)];if(!_0x5af9b5||this['configs'][_0x26d3da(0x6c3)][_0x26d3da(0x965)]()[_0x26d3da(0x627)](_0x5af9b5[0x0]))return;const _0x15f8f5=this[_0x26d3da(0x7b4)]['getRemoteNode'](_0x5af9b5[0x0]);if(_0x15f8f5&&_0x15f8f5['getStatus']()!==_0x12b551[_0x26d3da(0x9a3)])try{await this[_0x26d3da(0xd5)]['mediator'][_0x26d3da(0x8a2)](_0x5af9b5[0x0],_0x595c1f[_0x26d3da(0x3d4)]);const _0x4f9279=Array[_0x26d3da(0x2ce)](this[_0x26d3da(0x243)][_0x26d3da(0x8dc)]())[_0x26d3da(0x29d)](([,_0x4b8d23])=>_0x4b8d23===_0x1a95a7);_0x4f9279&&this[_0x26d3da(0x243)][_0x26d3da(0x120)](_0x4f9279[0x0],_0x5af9b5[0x0]);}catch(_0x2dddc5){if(!(_0x2dddc5 instanceof _0x315451&&_0x2dddc5[_0x26d3da(0x699)]===_0x315451[_0x26d3da(0x600)][_0x26d3da(0x163)]))throw _0x2dddc5;_0x5a023b[_0x26d3da(0x6fb)](_0x4abdbe['Node'],this['configs'][_0x26d3da(0x6c3)][_0x26d3da(0x92c)](),_0x5af9b5[0x0],_0x2dddc5[_0x26d3da(0x3bf)]);}}['getOutgoingOptimizationConnections'](_0xd80378,_0x37f71d){const _0x1f735f=_0x2f335d;return Array[_0x1f735f(0x2ce)](_0xd80378)['reduce']((_0x3b1745,_0x3c7586)=>{const _0x330bc5=_0x1f735f,_0x4c11be=this[_0x330bc5(0x7b4)]['getRemoteNode'](_0x3c7586);if(!_0x4c11be||_0x4c11be[_0x330bc5(0x460)]()===_0x12b551['Offline'])return _0x3b1745;const _0x38d557=_0x4c11be[_0x330bc5(0x659)]();if(!_0x38d557)return _0x3b1745;const _0x39daec=_0x38d557-_0x37f71d;return _0x39daec<=this[_0x330bc5(0x7b4)][_0x330bc5(0x3bb)]()||_0x3b1745['push']([_0x3c7586,_0x39daec]),_0x3b1745;},[])[_0x1f735f(0x991)](([,_0x47fb8e],[,_0x40e991])=>_0x47fb8e-_0x40e991);}}const _0x386b00=[{'problemType':_0x29096d[_0x2f335d(0xbd)],'remediations':[{'type':_0x3c3d3c[_0x2f335d(0x9dd)],'component':_0x255818[_0x2f335d(0x1e0)],'action':_0x293356[_0x2f335d(0x845)]},{'type':_0x3c3d3c[_0x2f335d(0x55c)],'component':_0x255818[_0x2f335d(0x1e0)],'action':_0x293356[_0x2f335d(0x845)]}]},{'problemType':_0x29096d[_0x2f335d(0x197)],'remediations':[{'type':_0x3c3d3c[_0x2f335d(0x9dd)],'component':_0x255818[_0x2f335d(0x1e0)],'action':_0x293356['Downgrade']}]},{'problemType':_0x29096d['AudioVideoDelay'],'remediations':[{'type':_0x3c3d3c[_0x2f335d(0x9dd)],'component':_0x255818[_0x2f335d(0x1e0)],'action':_0x293356[_0x2f335d(0x845)]}]},{'problemType':_0x29096d[_0x2f335d(0x2dd)],'remediations':[{'type':_0x3c3d3c[_0x2f335d(0x9dd)],'component':_0x255818[_0x2f335d(0x1e0)],'action':_0x293356[_0x2f335d(0x845)]}]},{'problemType':_0x29096d[_0x2f335d(0xfa)],'remediations':[{'type':_0x3c3d3c[_0x2f335d(0x9dd)],'component':_0x255818['Bitrate'],'action':_0x293356['Downgrade']}]},{'problemType':_0x29096d[_0x2f335d(0x2c7)],'remediations':[{'type':_0x3c3d3c[_0x2f335d(0x9dd)],'component':_0x255818[_0x2f335d(0xfa)],'action':_0x293356[_0x2f335d(0x845)]}]},{'problemType':_0x29096d[_0x2f335d(0x714)],'remediations':[{'type':_0x3c3d3c[_0x2f335d(0x9dd)],'component':_0x255818['Bitrate'],'action':_0x293356['Downgrade']}]}];class _0xe799b5{[_0x2f335d(0xd5)];['systemTopic'];[_0x2f335d(0x6d7)]=new Map();constructor(_0x41e907){const _0x508c09=_0x2f335d;this[_0x508c09(0xd5)]=_0x41e907,this['configs'][_0x508c09(0x9c8)][_0x508c09(0x8d9)](this);}['close'](){const _0x4d6421=_0x2f335d;this[_0x4d6421(0xd5)][_0x4d6421(0x9c8)][_0x4d6421(0x39e)](this);}['registerSystemPublisher'](_0x10e23d){const _0x1105c9=_0x2f335d;this[_0x1105c9(0x57e)]=_0x10e23d;}[_0x2f335d(0x1f0)](){const _0x4d8450=_0x2f335d;delete this[_0x4d8450(0x57e)];}['handleDetectionSystemEvents'](_0x9f4e2){const _0x2bd073=_0x2f335d;_0x9f4e2[_0x2bd073(0x569)]['type']===_0x3ae0c9[_0x2bd073(0xb7)]&&this[_0x2bd073(0x2f8)](_0x9f4e2['content'][_0x2bd073(0x1c9)]);}['handleRemediationSystemEvents'](_0x1c8e45){const _0x194381=_0x2f335d;_0x1c8e45['content']['type']===_0x3c3d3c[_0x194381(0x55c)]&&this[_0x194381(0x6ab)](_0x1c8e45[_0x194381(0x1cc)],{'type':_0x3c3d3c[_0x194381(0x9dd)],'component':_0x1c8e45['content'][_0x194381(0x1c9)][_0x194381(0x7d3)],'action':_0x1c8e45['content']['data'][_0x194381(0x2ef)]});}['handleProblem'](_0x332a6e){const _0x45b384=_0x2f335d,_0x237d5b=_0x386b00[_0x45b384(0x29d)](_0xfe1d43=>_0xfe1d43['problemType']===_0x332a6e[_0x45b384(0x4e7)]);_0x237d5b['remediations']?.[_0x45b384(0x82f)](_0xf246f3=>{const _0x1836f0=_0x45b384;this['applyRemediation'](_0x332a6e['nodeId'],{'type':_0x332a6e[_0x1836f0(0x9be)]===_0x179164[_0x1836f0(0x72f)]?_0x3c3d3c[_0x1836f0(0x9dd)]:_0x3c3d3c[_0x1836f0(0x55c)],'component':_0xf246f3['component'],'action':_0xf246f3[_0x1836f0(0x2ef)]});});}[_0x2f335d(0x6ab)](_0x51e54e,_0x1f3cb0){const _0x3d71d9=_0x2f335d;if(_0x1f3cb0['type']===_0x3c3d3c[_0x3d71d9(0x9dd)]){const _0x4e19ef=Date[_0x3d71d9(0x449)](),_0x3cfa70=this[_0x3d71d9(0x6d7)][_0x3d71d9(0x389)](_0x51e54e);if(_0x3cfa70&&_0x4e19ef-_0x3cfa70<0x1388)return;this['lastRemediations']['set'](_0x51e54e,_0x4e19ef);}_0x5a023b[_0x3d71d9(0x6fb)](_0x4abdbe[_0x3d71d9(0x9dd)],_0x3d71d9(0x9d7),_0x1f3cb0),_0x5a023b[_0x3d71d9(0x5e8)]('remediation',{'clusterId':this[_0x3d71d9(0xd5)]['clusterId'],'nodeId':this['configs']['localNode'][_0x3d71d9(0x92c)](),'nodeType':this[_0x3d71d9(0xd5)][_0x3d71d9(0x6c3)][_0x3d71d9(0x4e7)],'remoteId':_0x51e54e,'data':{'type':_0x1f3cb0[_0x3d71d9(0x4e7)],'component':_0x1f3cb0[_0x3d71d9(0x7d3)],'action':_0x1f3cb0[_0x3d71d9(0x2ef)]}});let _0x5cfc0e,_0x1016e2=_0x46e5ac;_0x1f3cb0['type']===_0x3c3d3c[_0x3d71d9(0x55c)]&&(_0x1016e2=this['configs']['localNode'][_0x3d71d9(0x92c)](),_0x5cfc0e=[_0x51e54e]),this[_0x3d71d9(0x57e)][_0x3d71d9(0x620)]({'sourceId':_0x1016e2,'destinationIds':_0x5cfc0e,'messageType':_0x4ba688[_0x3d71d9(0x9dd)],'content':{'type':_0x1f3cb0[_0x3d71d9(0x4e7)],'targetId':_0x51e54e,'data':_0x1f3cb0}});}}const _0x980f5e=0x3e8,_0x284539=0x7530,_0x55eb60=_0x2f335d(0x301),_0x3ec234='remote-inbound-rtp',_0x56d7e6='inbound-rtp',_0x140351=[_0x55eb60,_0x3ec234],_0xc74b8b=[_0x56d7e6];class _0x39c038{[_0x2f335d(0x4d5)]=0x0;[_0x2f335d(0x1d3)]=0x0;[_0x2f335d(0x744)]=0x0;[_0x2f335d(0x775)]=0x0;[_0x2f335d(0x9d2)]=0x0;['currentTimestamp']=0x0;[_0x2f335d(0x4e2)]=0x0;[_0x2f335d(0x9aa)]=0x0;[_0x2f335d(0x41b)]=0x0;get['bitrate'](){const _0x1a9f55=_0x2f335d;return this[_0x1a9f55(0x65f)]>0x0&&this[_0x1a9f55(0x4e2)]>0x0&&Date[_0x1a9f55(0x449)]()-this[_0x1a9f55(0x65f)]<_0x284539?(this[_0x1a9f55(0x9aa)]-this[_0x1a9f55(0x41b)])/(this[_0x1a9f55(0x65f)]-this[_0x1a9f55(0x4e2)])*0x8*0x3e8:0x0;}[_0x2f335d(0x47f)](_0x4f71d0){const _0x9985d5=_0x2f335d;switch(_0x4f71d0[_0x9985d5(0x4e7)]){case _0x56d7e6:this[_0x9985d5(0x824)](_0x4f71d0);break;case _0x55eb60:this['processOutboundReport'](_0x4f71d0);break;case _0x3ec234:this[_0x9985d5(0x8c)](_0x4f71d0);}}[_0x2f335d(0x892)](){const _0x3d0b7f=_0x2f335d;return{'bitrate':this[_0x3d0b7f(0xac)],'packetsLostPerc':this[_0x3d0b7f(0x9d6)](),'roundTripTime':this[_0x3d0b7f(0x4d5)],'jitter':this['jitter']};}[_0x2f335d(0x824)](_0x38b714){const _0xdf1b19=_0x2f335d;this[_0xdf1b19(0x1b4)](_0x38b714[_0xdf1b19(0x772)]),this[_0xdf1b19(0x7c6)](_0x38b714[_0xdf1b19(0x5c9)]),this['packets']=_0x38b714['packetsReceived'],this['packetsLost']=_0x38b714['packetsLost'],void 0x0!==_0x38b714[_0xdf1b19(0x744)]?this[_0xdf1b19(0x744)]=_0x38b714[_0xdf1b19(0x744)]:this[_0xdf1b19(0x744)]=0x0,void 0x0!==_0x38b714['estimatedPlayoutTimestamp']?this[_0xdf1b19(0x1d3)]=_0x38b714[_0xdf1b19(0x1d3)]:this[_0xdf1b19(0x1d3)]=0x0;}[_0x2f335d(0x9c6)](_0x501ec9){const _0x1f2b2c=_0x2f335d;this[_0x1f2b2c(0x1b4)](_0x501ec9[_0x1f2b2c(0x18b)]),this[_0x1f2b2c(0x7c6)](_0x501ec9['timestamp']),this[_0x1f2b2c(0x9d2)]=_0x501ec9['packetsSent'];}[_0x2f335d(0x8c)](_0x164cbe){const _0x3b2902=_0x2f335d;this['roundTripTime']=0x3e8*_0x164cbe[_0x3b2902(0x4d5)],void 0x0!==_0x164cbe[_0x3b2902(0x744)]?this[_0x3b2902(0x744)]=_0x164cbe[_0x3b2902(0x744)]:this['jitter']=0x0;}[_0x2f335d(0x9d6)](){const _0x56585f=_0x2f335d;return this['packets']>0x0?this[_0x56585f(0x775)]/this[_0x56585f(0x9d2)]:0x0;}[_0x2f335d(0x7c6)](_0x26197d){const _0x2efab0=_0x2f335d;_0x26197d>this['currentTimestamp']&&(this['previousTimestamp']=this['currentTimestamp'],this[_0x2efab0(0x65f)]=_0x26197d);}[_0x2f335d(0x1b4)](_0x524ba1){const _0x120913=_0x2f335d;this['previousBytes']=this[_0x120913(0x9aa)],this[_0x120913(0x9aa)]=_0x524ba1;}}class _0x30f340 extends _0x39c038{}class _0x4e9f8b extends _0x39c038{['frameTime']=0x0;[_0x2f335d(0x27b)]=0x0;[_0x2f335d(0x1f2)]=0x0;[_0x2f335d(0x5ca)]=0x0;[_0x2f335d(0x200)]=0x0;get[_0x2f335d(0x6ac)](){const _0x83992b=_0x2f335d;return this[_0x83992b(0x65f)]>0x0&&this[_0x83992b(0x4e2)]>0x0&&Date[_0x83992b(0x449)]()-this['currentTimestamp']<_0x284539?(this['currentFrames']-this[_0x83992b(0x200)])/(this[_0x83992b(0x65f)]-this['previousTimestamp'])*0x3e8:0x0;}get['timePerFrame'](){const _0x25fe6b=_0x2f335d;return this['frameTime']&&this[_0x25fe6b(0x5ca)]&&this[_0x25fe6b(0x5ca)]>0x0?this[_0x25fe6b(0x825)]/this[_0x25fe6b(0x5ca)]:0x0;}set[_0x2f335d(0x877)](_0x5b9b49){const _0x553593=_0x2f335d;this[_0x553593(0x200)]=this[_0x553593(0x5ca)],this['currentFrames']=_0x5b9b49;}[_0x2f335d(0x892)](){const _0x21a219=_0x2f335d;return{...super[_0x21a219(0x892)](),'FPS':this[_0x21a219(0x6ac)],'timePerFrame':this[_0x21a219(0x1e5)],'frameWidth':this[_0x21a219(0x27b)],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x37685e){const _0x58c0a1=_0x2f335d;super[_0x58c0a1(0x824)](_0x37685e),this[_0x58c0a1(0x825)]=_0x37685e['totalDecodeTime'],this[_0x58c0a1(0x877)]=_0x37685e[_0x58c0a1(0x8d8)],this['frameWidth']=_0x37685e[_0x58c0a1(0x27b)],this['frameHeight']=_0x37685e[_0x58c0a1(0x1f2)];}[_0x2f335d(0x9c6)](_0x35708a){const _0x1b8d60=_0x2f335d;super[_0x1b8d60(0x9c6)](_0x35708a),this[_0x1b8d60(0x825)]=_0x35708a[_0x1b8d60(0x4c4)],this['frames']=_0x35708a[_0x1b8d60(0x19a)],this[_0x1b8d60(0x27b)]=_0x35708a[_0x1b8d60(0x27b)],this['frameHeight']=_0x35708a[_0x1b8d60(0x1f2)];}}class _0x5159e1{[_0x2f335d(0x48b)]=new _0x30f340();[_0x2f335d(0x209)]=new _0x4e9f8b();get['bitrate'](){const _0xf860ba=_0x2f335d;return this[_0xf860ba(0x48b)][_0xf860ba(0xac)]+this['video'][_0xf860ba(0xac)];}[_0x2f335d(0x7f5)](_0x448ab5){const _0x17c870=_0x2f335d;return _0x448ab5[_0x17c870(0x82f)](_0x5aca4d=>{const _0x23f054=_0x17c870;switch(_0x5aca4d[_0x23f054(0x434)]){case'audio':this['audio'][_0x23f054(0x47f)](_0x5aca4d);break;case _0x23f054(0x209):this[_0x23f054(0x209)]['processReport'](_0x5aca4d);}}),this[_0x17c870(0x892)]();}['getReport'](){const _0x3fc749=_0x2f335d;return{'audio':this[_0x3fc749(0x48b)][_0x3fc749(0x892)](),'video':this[_0x3fc749(0x209)]['getReport'](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x3fc749(0x859)](),'bitrate':this[_0x3fc749(0xac)]};}[_0x2f335d(0x194)](){const _0x42e56b=_0x2f335d;return Math[_0x42e56b(0x934)]((this['audio'][_0x42e56b(0x4d5)]+this[_0x42e56b(0x209)][_0x42e56b(0x4d5)])/0x2);}[_0x2f335d(0x859)](){const _0x15d561=_0x2f335d;return this['audio'][_0x15d561(0x1d3)]-this[_0x15d561(0x209)][_0x15d561(0x1d3)];}}class _0x324ca7{['senderCurrentTimestamp']=0x0;[_0x2f335d(0x7fc)]=0x0;[_0x2f335d(0xfd)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x2f335d(0x561)]=0x0;[_0x2f335d(0x61e)]=0x0;['receiverCurrentBytes']=0x0;[_0x2f335d(0x3b5)]=0x0;[_0x2f335d(0x84c)]=0x0;['receiverTotalMessages']=0x0;['senderTimeProcessing']=0x0;[_0x2f335d(0x897)]=0x0;[_0x2f335d(0x4d5)]=0x0;get[_0x2f335d(0xac)](){const _0x1a4863=_0x2f335d;return this['senderBitrate']+this[_0x1a4863(0x75b)];}get[_0x2f335d(0x8fe)](){const _0x49f522=_0x2f335d;return this[_0x49f522(0x78d)]>0x0&&this[_0x49f522(0x7fc)]>0x0&&Date[_0x49f522(0x449)]()-this[_0x49f522(0x78d)]<_0x284539?(this[_0x49f522(0x561)]-this['senderPreviousBytes'])/(this[_0x49f522(0x78d)]-this[_0x49f522(0x7fc)])*0x8*0x3e8:0x0;}get[_0x2f335d(0x75b)](){const _0x1ac1f1=_0x2f335d;return this[_0x1ac1f1(0xfd)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x1ac1f1(0x449)]()-this[_0x1ac1f1(0xfd)]<_0x284539?(this[_0x1ac1f1(0x89c)]-this[_0x1ac1f1(0x3b5)])/(this[_0x1ac1f1(0xfd)]-this[_0x1ac1f1(0x79f)])*0x8*0x3e8:0x0;}['processReport'](_0x3f82ea){const _0x27a5e8=_0x2f335d;switch(_0x3f82ea[_0x27a5e8(0x9be)]){case _0x179164[_0x27a5e8(0x72f)]:this['processSenderReport'](_0x3f82ea);break;case _0x179164['Receiver']:this[_0x27a5e8(0x73b)](_0x3f82ea);}}[_0x2f335d(0x892)](){const _0x1aedba=_0x2f335d;return{'bitrate':this[_0x1aedba(0xac)],'senderBitrate':this[_0x1aedba(0x8fe)],'receiverBitrate':this[_0x1aedba(0x75b)],'totalBytes':this[_0x1aedba(0x2dc)](),'senderTotalBytes':this[_0x1aedba(0x51d)](),'receiverTotalBytes':this[_0x1aedba(0x942)](),'totalMessages':this[_0x1aedba(0x84c)]+this[_0x1aedba(0x348)],'senderTotalMessages':this[_0x1aedba(0x84c)],'receiverTotalMessages':this[_0x1aedba(0x348)],'timeProcessing':this['senderTimeProcessing']+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0x1aedba(0x55f)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x1aedba(0x4d5)]};}['getTotalBytes'](){const _0x3f2897=_0x2f335d;return this['senderCurrentBytes']+this[_0x3f2897(0x89c)];}[_0x2f335d(0x51d)](){const _0x5ed613=_0x2f335d;return this[_0x5ed613(0x561)];}['getReceiverTotalBytes'](){const _0x223c5c=_0x2f335d;return this[_0x223c5c(0x89c)];}[_0x2f335d(0x974)](_0x2a9a46){const _0x38176e=_0x2f335d;this['setSenderTimestamp'](_0x2a9a46[_0x38176e(0x5c9)]),this[_0x38176e(0x1b4)](_0x2a9a46[_0x38176e(0x18b)]),this[_0x38176e(0x84c)]=_0x2a9a46['messagesSent'],this[_0x38176e(0x55f)]=_0x2a9a46['timeSending'],this[_0x38176e(0x4d5)]=_0x2a9a46['roundTripTime'];}['processReceiverReport'](_0xe8bf42){const _0xf14f51=_0x2f335d;this['setReceiverTimestamp'](_0xe8bf42['timestamp']),this[_0xf14f51(0x6f4)](_0xe8bf42[_0xf14f51(0x772)]),this[_0xf14f51(0x348)]=_0xe8bf42[_0xf14f51(0x108)],this[_0xf14f51(0x897)]=_0xe8bf42['timeReceiving'];}[_0x2f335d(0xf4)](_0x29ec8e){const _0x2c8c0e=_0x2f335d;_0x29ec8e>this[_0x2c8c0e(0x78d)]&&(this['senderPreviousTimestamp']=this[_0x2c8c0e(0x78d)],this['senderCurrentTimestamp']=_0x29ec8e);}['setReceiverTimestamp'](_0x5a0127){const _0x4bc45b=_0x2f335d;_0x5a0127>this[_0x4bc45b(0xfd)]&&(this[_0x4bc45b(0x79f)]=this[_0x4bc45b(0xfd)],this[_0x4bc45b(0xfd)]=_0x5a0127);}[_0x2f335d(0x1b4)](_0x3f4de){const _0x2382c0=_0x2f335d;this[_0x2382c0(0x61e)]=this[_0x2382c0(0x561)],this[_0x2382c0(0x561)]=_0x3f4de;}[_0x2f335d(0x6f4)](_0x47cdae){const _0x486852=_0x2f335d;this[_0x486852(0x3b5)]=this[_0x486852(0x89c)],this[_0x486852(0x89c)]=_0x47cdae;}}class _0x1b8f70{[_0x2f335d(0x66d)]=new Map();[_0x2f335d(0x87e)]=new Map();[_0x2f335d(0x890)]=new _0x324ca7();get[_0x2f335d(0x8fe)](){const _0x333743=_0x2f335d;let _0x2c482c=0x0;return this[_0x333743(0x66d)]['forEach'](_0x25920a=>{const _0x380647=_0x333743;_0x2c482c+=_0x25920a[_0x380647(0xac)];}),_0x2c482c+=this[_0x333743(0x890)][_0x333743(0x8fe)],_0x2c482c;}get[_0x2f335d(0x75b)](){const _0x5be014=_0x2f335d;let _0x49be81=0x0;return this['receiverStreams'][_0x5be014(0x82f)](_0xaa4ee8=>{const _0x3cc0f3=_0x5be014;_0x49be81+=_0xaa4ee8[_0x3cc0f3(0xac)];}),_0x49be81+=this[_0x5be014(0x890)][_0x5be014(0x75b)],_0x49be81;}get['bitrate'](){const _0x2923a3=_0x2f335d;return this[_0x2923a3(0x8fe)]+this[_0x2923a3(0x75b)];}[_0x2f335d(0x7f5)](_0x5c2f9b,_0x3a2a6f){const _0xa2bdc0=_0x2f335d,_0x288609=[],_0x260703=[];return _0x5c2f9b instanceof Array?_0x5c2f9b[_0xa2bdc0(0x82f)](_0x30e27e=>{const _0x554d2e=_0xa2bdc0;_0x30e27e[_0x554d2e(0x82f)](_0x2060f6=>{const _0xacfd8d=_0x554d2e;_0xc74b8b['includes'](_0x2060f6[_0xacfd8d(0x4e7)])&&_0x288609[_0xacfd8d(0x6e4)](_0x2060f6),_0x140351[_0xacfd8d(0x4a7)](_0x2060f6['type'])&&_0x260703[_0xacfd8d(0x6e4)](_0x2060f6);});}):this['dataChannel'][_0xa2bdc0(0x47f)](_0x5c2f9b),_0x288609[_0xa2bdc0(0x39c)]>0x0&&_0x3a2a6f?{...this[_0xa2bdc0(0x755)](_0x3a2a6f,_0x288609),'origin':_0x179164[_0xa2bdc0(0x8f6)],'streamId':_0x3a2a6f}:_0x260703[_0xa2bdc0(0x39c)]>0x0&&_0x3a2a6f?{...this[_0xa2bdc0(0x2bd)](_0x3a2a6f,_0x260703),'origin':_0x179164[_0xa2bdc0(0x72f)],'streamId':_0x3a2a6f}:void 0x0;}[_0x2f335d(0x892)](){const _0x2a87fa=_0x2f335d,_0x88953a={};this[_0x2a87fa(0x66d)][_0x2a87fa(0x82f)]((_0x165978,_0x133130)=>{_0x88953a[_0x133130]=_0x165978['getReport']();});const _0x2f47ca={};return this[_0x2a87fa(0x87e)][_0x2a87fa(0x82f)]((_0x5c729c,_0x26b99b)=>{const _0x43f1ef=_0x2a87fa;_0x2f47ca[_0x26b99b]=_0x5c729c[_0x43f1ef(0x892)]();}),{'bitrate':this[_0x2a87fa(0xac)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x2a87fa(0x75b)],'senderStreams':_0x88953a,'receiverStreams':_0x2f47ca,'dataChannel':this[_0x2a87fa(0x890)][_0x2a87fa(0x892)]()};}[_0x2f335d(0x755)](_0x263ad6,_0x379a7e){const _0x26889e=_0x2f335d;return this[_0x26889e(0x87e)][_0x26889e(0x627)](_0x263ad6)||this[_0x26889e(0x87e)][_0x26889e(0x120)](_0x263ad6,new _0x5159e1()),this[_0x26889e(0x87e)][_0x26889e(0x389)](_0x263ad6)[_0x26889e(0x7f5)](_0x379a7e);}[_0x2f335d(0x2bd)](_0xdb60f5,_0x294fa8){const _0x116de3=_0x2f335d;return this[_0x116de3(0x66d)][_0x116de3(0x627)](_0xdb60f5)||this['senderStreams'][_0x116de3(0x120)](_0xdb60f5,new _0x5159e1()),this[_0x116de3(0x66d)]['get'](_0xdb60f5)[_0x116de3(0x7f5)](_0x294fa8);}}class _0x154cdb{['nodes']=new Map();[_0x2f335d(0x3ed)]=0x0;['durationTime']=0x0;[_0x2f335d(0x2e6)]=new Map();[_0x2f335d(0x842)]=new Map();[_0x2f335d(0x8a6)]=new Map();[_0x2f335d(0x93c)]=new Map();['generativeAIWorkers']=new Map();[_0x2f335d(0x45a)]=new Map();['graphDatabases']=new Map();[_0x2f335d(0x399)]=new Map();['senderTotalMessages']=new Map();[_0x2f335d(0x348)]=new Map();[_0x2f335d(0x55f)]=new Map();[_0x2f335d(0x897)]=new Map();['systemMessages']=new Map();[_0x2f335d(0x57e)];[_0x2f335d(0x892)](){const _0x281088=_0x2f335d,_0x2e2b2a={};this[_0x281088(0x32e)][_0x281088(0x82f)]((_0x17443e,_0x534260)=>{const _0x474da1=_0x281088;_0x2e2b2a[_0x534260]=_0x17443e[_0x474da1(0x892)]();});let _0x15ffc3=0x0;this['senderTimeProcessing']['forEach'](_0x1cd72c=>{_0x15ffc3+=_0x1cd72c;});let _0x5a7141=0x0;this[_0x281088(0x897)]['forEach'](_0x4af192=>{_0x5a7141+=_0x4af192;});const _0x5d078b=_0x15ffc3+_0x5a7141;let _0x1111c3={'messages':{'total':0x0}};this[_0x281088(0x313)][_0x281088(0x82f)](_0x4717e5=>{const _0x2c516a=_0x281088;Object[_0x2c516a(0x502)](_0x4717e5)['forEach'](_0x4eca2b=>{_0x1111c3[_0x4eca2b]||(_0x1111c3[_0x4eca2b]={}),Object['keys'](_0x4717e5[_0x4eca2b])['forEach'](_0x149ed7=>{_0x1111c3[_0x4eca2b][_0x149ed7]||(_0x1111c3[_0x4eca2b][_0x149ed7]=0x0),_0x1111c3[_0x4eca2b][_0x149ed7]+=_0x4717e5[_0x4eca2b][_0x149ed7];});});});let _0x54acb4=0x0,_0x41c93c=0x0,_0xf35a=0x0,_0x19e09c=0x0,_0x6265aa=0x0;return this['pubsubTopics']['forEach'](_0x2580de=>{const _0x68656f=_0x281088;_0x41c93c+=_0x2580de[_0x68656f(0x7c8)],_0xf35a+=_0x2580de['messagesReceived'],_0x19e09c+=_0x2580de[_0x68656f(0x18b)],_0x6265aa+=_0x2580de[_0x68656f(0x772)];}),this['objectStores'][_0x281088(0x82f)](_0x2af0c=>{const _0x224bcb=_0x281088;_0x54acb4+=_0x2af0c['storage'],_0x41c93c+=_0x2af0c['messagesSent'],_0xf35a+=_0x2af0c[_0x224bcb(0x108)],_0x19e09c+=_0x2af0c['bytesSent'],_0x6265aa+=_0x2af0c[_0x224bcb(0x772)];}),this['keyValueDatabases'][_0x281088(0x82f)](_0x51d8f3=>{const _0x31ace4=_0x281088;_0x54acb4+=_0x51d8f3[_0x31ace4(0x537)],_0x41c93c+=_0x51d8f3[_0x31ace4(0x7c8)],_0xf35a+=_0x51d8f3[_0x31ace4(0x108)],_0x19e09c+=_0x51d8f3['bytesSent'],_0x6265aa+=_0x51d8f3[_0x31ace4(0x772)];}),this['generativeAIContexts'][_0x281088(0x82f)](_0x3551cc=>{const _0x32ac6f=_0x281088;_0x54acb4+=_0x3551cc[_0x32ac6f(0x537)],_0x41c93c+=_0x3551cc[_0x32ac6f(0x7c8)],_0xf35a+=_0x3551cc['messagesReceived'],_0x19e09c+=_0x3551cc['bytesSent'],_0x6265aa+=_0x3551cc[_0x32ac6f(0x772)];}),this[_0x281088(0x311)][_0x281088(0x82f)](_0x5c1ecc=>{const _0x2f7388=_0x281088;_0x54acb4+=_0x5c1ecc[_0x2f7388(0x537)],_0x41c93c+=_0x5c1ecc[_0x2f7388(0x7c8)],_0xf35a+=_0x5c1ecc['messagesReceived'],_0x19e09c+=_0x5c1ecc[_0x2f7388(0x18b)],_0x6265aa+=_0x5c1ecc['bytesReceived'];}),this['vectorDatabases'][_0x281088(0x82f)](_0x343a5c=>{const _0x2fdc2f=_0x281088;_0x54acb4+=_0x343a5c[_0x2fdc2f(0x537)],_0x41c93c+=_0x343a5c[_0x2fdc2f(0x7c8)],_0xf35a+=_0x343a5c[_0x2fdc2f(0x108)],_0x19e09c+=_0x343a5c[_0x2fdc2f(0x18b)],_0x6265aa+=_0x343a5c[_0x2fdc2f(0x772)];}),this['graphDatabases']['forEach'](_0x1e7e32=>{const _0x106d48=_0x281088;_0x54acb4+=_0x1e7e32[_0x106d48(0x537)],_0x41c93c+=_0x1e7e32[_0x106d48(0x7c8)],_0xf35a+=_0x1e7e32[_0x106d48(0x108)],_0x19e09c+=_0x1e7e32['bytesSent'],_0x6265aa+=_0x1e7e32[_0x106d48(0x772)];}),{'STVolatility':this[_0x281088(0x22e)](),'DTVolatility':this[_0x281088(0x85b)](),'bitrate':this[_0x281088(0x953)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x281088(0x3eb)](),'totalStorageSize':_0x54acb4,'totalMessages':_0x41c93c+_0xf35a,'totalMessagesSent':_0x41c93c,'totalMessagesReceived':_0xf35a,'totalBytes':_0x19e09c+_0x6265aa,'totalBytesSent':_0x19e09c,'totalBytesReceived':_0x6265aa,'systemMessages':_0x1111c3,'timeProcessing':_0x5d078b,'nodes':_0x2e2b2a,'pubsubTopics':Object[_0x281088(0x768)](this[_0x281088(0x2e6)]),'objectStores':Object[_0x281088(0x768)](this[_0x281088(0x842)]),'keyValueDatabases':Object[_0x281088(0x768)](this[_0x281088(0x8a6)]),'generativeAIContexts':Object[_0x281088(0x768)](this[_0x281088(0x93c)]),'generativeAIWorkers':Object[_0x281088(0x768)](this[_0x281088(0x311)]),'vectorDatabases':Object[_0x281088(0x768)](this[_0x281088(0x45a)]),'graphDatabases':Object[_0x281088(0x768)](this[_0x281088(0x35e)]),'externalStorages':Object[_0x281088(0x768)](this[_0x281088(0x399)])};}[_0x2f335d(0xa1)](_0x3d28ba){this['nodes']['set'](_0x3d28ba,new _0x1b8f70());}['removeRemoteNode'](_0x55eaa2){const _0x43b4a9=_0x2f335d;this[_0x43b4a9(0x32e)][_0x43b4a9(0x2ee)](_0x55eaa2);}[_0x2f335d(0x7f5)](_0x456223,_0x3a98c6,_0x4bf0e7){const _0x1e9f23=_0x2f335d;_0x3a98c6 instanceof Array||this[_0x1e9f23(0x3c9)](_0x456223,_0x3a98c6);const _0x1f90b4=this[_0x1e9f23(0x32e)][_0x1e9f23(0x389)](_0x456223)?.[_0x1e9f23(0x7f5)](_0x3a98c6,_0x4bf0e7);_0x1f90b4&&this[_0x1e9f23(0x57e)]['publish']({'sourceId':_0x46e5ac,'messageType':_0x4ba688[_0x1e9f23(0x49a)],'content':{'type':_0x3249d0[_0x1e9f23(0x53c)],'data':{..._0x1f90b4,'nodeId':_0x456223}}});}[_0x2f335d(0x905)](_0x2a6077){const _0x75230e=_0x2f335d;this['setScheduleTime'](_0x2a6077['secheduleTime']),this[_0x75230e(0x920)](_0x2a6077[_0x75230e(0x6fa)]),this['systemTopic'][_0x75230e(0x620)]({'sourceId':_0x46e5ac,'messageType':_0x4ba688['Stats'],'content':{'type':_0x3249d0[_0x75230e(0x2eb)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x75230e(0x85b)]()}}});}['processServiceReport'](_0x4eff23,_0x5b65d5,_0x859070){const _0x51b41b=_0x2f335d;switch(_0x5b65d5){case _0x314d98[_0x51b41b(0x80d)]:this[_0x51b41b(0x2e6)]['set'](_0x4eff23,_0x859070);break;case _0x314d98[_0x51b41b(0x3ae)]:this[_0x51b41b(0x842)][_0x51b41b(0x120)](_0x4eff23,_0x859070);break;case _0x314d98['KeyValueDatabaseStats']:this[_0x51b41b(0x8a6)][_0x51b41b(0x120)](_0x4eff23,_0x859070);break;case _0x314d98['GenerativeAIContextStats']:this[_0x51b41b(0x93c)][_0x51b41b(0x120)](_0x4eff23,_0x859070);break;case _0x314d98[_0x51b41b(0x23d)]:this[_0x51b41b(0x311)][_0x51b41b(0x120)](_0x4eff23,_0x859070);break;case _0x314d98['VectorDatabaseStats']:this[_0x51b41b(0x45a)][_0x51b41b(0x120)](_0x4eff23,_0x859070);break;case _0x314d98[_0x51b41b(0x5a2)]:this[_0x51b41b(0x35e)][_0x51b41b(0x120)](_0x4eff23,_0x859070);break;case _0x314d98['ExternalStorageStats']:this[_0x51b41b(0x399)][_0x51b41b(0x120)](_0x4eff23,_0x859070);}}[_0x2f335d(0x333)](_0x2cdc8e){const _0x36db2e=_0x2f335d;this[_0x36db2e(0x57e)]=_0x2cdc8e;}[_0x2f335d(0x1f0)](){const _0x7422a7=_0x2f335d;delete this[_0x7422a7(0x57e)];}[_0x2f335d(0x22e)](){const _0x291617=_0x2f335d;return this[_0x291617(0x3ed)]>0x0&&this[_0x291617(0x3ed)]-_0x980f5e>0x0?(this[_0x291617(0x3ed)]-_0x980f5e)/_0x980f5e:0x0;}['getDTVolatility'](){const _0x9b1210=_0x2f335d;return this['durationTime']>0x0&&this[_0x9b1210(0x6fa)]-0x64>0x0?(this[_0x9b1210(0x6fa)]-0x64)/0x64:0x0;}[_0x2f335d(0x406)](){const _0x1e0239=_0x2f335d;let _0x381ee9=0x0;return this[_0x1e0239(0x32e)][_0x1e0239(0x82f)](_0x2e804e=>{const _0x4ba05a=_0x1e0239;_0x381ee9+=_0x2e804e[_0x4ba05a(0x8fe)];}),_0x381ee9;}[_0x2f335d(0x3eb)](){const _0x356e10=_0x2f335d;let _0x516246=0x0;return this[_0x356e10(0x32e)][_0x356e10(0x82f)](_0xf8aaf8=>{_0x516246+=_0xf8aaf8['receiverBitrate'];}),_0x516246;}[_0x2f335d(0x953)](){const _0x18062c=_0x2f335d;let _0x65ca1e=0x0;return this[_0x18062c(0x32e)]['forEach'](_0x4a0232=>{_0x65ca1e+=_0x4a0232['bitrate'];}),_0x65ca1e;}['setScheduleTime'](_0x3f55e2){const _0x5de794=_0x2f335d;this[_0x5de794(0x3ed)]=_0x3f55e2;}['setDurationTime'](_0x57f763){const _0x4d7140=_0x2f335d;this[_0x4d7140(0x6fa)]=_0x57f763;}['processDataChannelReport'](_0x4470b0,_0x26338e){const _0x242b5a=_0x2f335d;switch(_0x26338e[_0x242b5a(0x9be)]){case _0x179164[_0x242b5a(0x72f)]:this['processSenderReport'](_0x4470b0,_0x26338e);break;case _0x179164[_0x242b5a(0x8f6)]:this[_0x242b5a(0x73b)](_0x4470b0,_0x26338e);}}[_0x2f335d(0x974)](_0x205710,_0xf8638b){const _0x58ec68=_0x2f335d;this['senderTotalMessages'][_0x58ec68(0x120)](_0x205710,_0xf8638b[_0x58ec68(0x7c8)]),this[_0x58ec68(0x55f)]['set'](_0x205710,_0xf8638b[_0x58ec68(0x442)]);}[_0x2f335d(0x73b)](_0x3cea24,_0xa5b564){const _0x3d3767=_0x2f335d;this[_0x3d3767(0x348)]['set'](_0x3cea24,_0xa5b564[_0x3d3767(0x108)]),this[_0x3d3767(0x897)][_0x3d3767(0x120)](_0x3cea24,_0xa5b564[_0x3d3767(0x3db)]),this[_0x3d3767(0x313)]['set'](_0x3cea24,_0xa5b564[_0x3d3767(0x313)]);}}class _0x41aabf{[_0x2f335d(0xd5)];[_0x2f335d(0x940)]=new Set();[_0x2f335d(0x8a5)];['statsCollection'];[_0x2f335d(0x7ef)];['statsReport']=new _0x154cdb();constructor(_0x3eed1b){const _0xf73a07=_0x2f335d;this[_0xf73a07(0xd5)]=_0x3eed1b,this[_0xf73a07(0xd5)][_0xf73a07(0x9c8)][_0xf73a07(0x8d9)](this['statsReport']),this[_0xf73a07(0x227)]=this[_0xf73a07(0x256)](),this[_0xf73a07(0x7ef)]=this['setupStatsReporting']();}[_0x2f335d(0x476)](){const _0x37d4b1=_0x2f335d;this[_0x37d4b1(0xd5)]['mediator']['unregisterSystemSource'](this[_0x37d4b1(0x22c)]),this[_0x37d4b1(0x7ef)](),this[_0x37d4b1(0x227)]();}[_0x2f335d(0xa1)](_0x3254df){const _0x2657f1=_0x2f335d;this[_0x2657f1(0x940)][_0x2657f1(0xad)](_0x3254df),this[_0x2657f1(0x22c)][_0x2657f1(0xa1)](_0x3254df);}[_0x2f335d(0x62e)](_0x1427a9){const _0x1e6bb6=_0x2f335d;this[_0x1e6bb6(0x940)][_0x1e6bb6(0x2ee)](_0x1427a9),this[_0x1e6bb6(0x22c)][_0x1e6bb6(0x62e)](_0x1427a9);}['handlePeerConnectionSystemEvents'](_0x3c9e3a){const _0x1df0b8=_0x2f335d;if(_0x3c9e3a[_0x1df0b8(0x569)]['type']===_0x37a68d['Stats']){const {nodeId:_0x17c7c1,streamId:_0x9b7ab2,stats:_0x3c2eae}=_0x3c9e3a[_0x1df0b8(0x569)];this[_0x1df0b8(0x22c)]['processReports'](_0x17c7c1,_0x3c2eae,_0x9b7ab2);}}[_0x2f335d(0x3df)](_0x4c2d8f){const _0x11faba=_0x2f335d;switch(_0x4c2d8f[_0x11faba(0x569)][_0x11faba(0x4e7)]){case _0x314d98[_0x11faba(0x3ae)]:case _0x314d98[_0x11faba(0x84e)]:case _0x314d98[_0x11faba(0x80d)]:case _0x314d98['GenerativeAIContextStats']:case _0x314d98[_0x11faba(0x23d)]:case _0x314d98[_0x11faba(0x678)]:case _0x314d98[_0x11faba(0x5a2)]:case _0x314d98['ExternalStorageStats']:this['statsReport'][_0x11faba(0x4be)](_0x4c2d8f['content'][_0x11faba(0x2b4)],_0x4c2d8f[_0x11faba(0x569)][_0x11faba(0x4e7)],_0x4c2d8f[_0x11faba(0x569)][_0x11faba(0x695)]);}}[_0x2f335d(0x7ab)](){const _0x33d27d=_0x2f335d;return _0x438e57[_0x33d27d(0x182)](()=>{const _0x11429b=_0x33d27d,_0x569a9e=this[_0x11429b(0x22c)][_0x11429b(0x892)]();_0x5a023b[_0x11429b(0x6fb)](_0x4abdbe[_0x11429b(0x49a)],_0x11429b(0xe9),_0x569a9e),(0x0,_0x50cb11[_0x11429b(0x1a4)])((0x0,_0x50cb11['collection'])(_0x2825b2[_0x11429b(0x8be)](),'developers/'+this[_0x11429b(0xd5)][_0x11429b(0xa5)]+_0x11429b(0x2a8)),{'clusterId':this[_0x11429b(0xd5)][_0x11429b(0x49c)],'nodeId':this[_0x11429b(0xd5)][_0x11429b(0x6c3)][_0x11429b(0x92c)](),'nodeType':this['configs']['localNode'][_0x11429b(0x4e7)],'timestamp':(0x0,_0x50cb11[_0x11429b(0x8ee)])(),'report':_0x569a9e}),_0x5a023b[_0x11429b(0x5e8)](_0x11429b(0x695),{'clusterId':this[_0x11429b(0xd5)][_0x11429b(0x49c)],'nodeId':this[_0x11429b(0xd5)][_0x11429b(0x6c3)][_0x11429b(0x92c)](),'nodeType':this[_0x11429b(0xd5)][_0x11429b(0x6c3)][_0x11429b(0x4e7)],'data':{'report':_0x569a9e}});},_0x284539);}[_0x2f335d(0x256)](){const _0x2c2934=_0x2f335d;let _0x28c3b7=!0x1,_0x595bd1=Date[_0x2c2934(0x449)]();return _0x438e57[_0x2c2934(0x182)](async()=>{const _0x5ff36a=_0x2c2934;if(_0x28c3b7)return;if(_0x28c3b7=!0x0,0x0===this['remoteNodes'][_0x5ff36a(0x15b)])return delete this[_0x5ff36a(0x8a5)],void(_0x28c3b7=!0x1);const _0x4ca155=Date['now']();this['findNextNodeId']();try{await this[_0x5ff36a(0xd5)][_0x5ff36a(0x9c8)]['collectStats'](this[_0x5ff36a(0x8a5)]);}catch(_0x1064c0){}this[_0x5ff36a(0x22c)][_0x5ff36a(0x905)]({'secheduleTime':_0x4ca155-_0x595bd1,'durationTime':Date['now']()-_0x4ca155}),_0x595bd1=_0x4ca155,_0x28c3b7=!0x1;},_0x980f5e);}['findNextNodeId'](){const _0x222776=_0x2f335d;let _0x522712,_0x2b8d87=!0x1;this[_0x222776(0x8a5)]&&(this[_0x222776(0x940)]['has'](this[_0x222776(0x8a5)])||delete this[_0x222776(0x8a5)]);for(const _0x2dce4c of this['remoteNodes'])if(_0x522712||(_0x522712=_0x2dce4c),this[_0x222776(0x8a5)]!==_0x2dce4c){if(_0x2b8d87)return void(this[_0x222776(0x8a5)]=_0x2dce4c);}else _0x2b8d87=!0x0,delete this[_0x222776(0x8a5)];this['nextNodeId']||(this['nextNodeId']=_0x522712);}}class _0x487438{[_0x2f335d(0x71f)];[_0x2f335d(0x27f)];['systemTopic'];constructor(_0x34c200,_0x4d0211){const _0x56400c=_0x2f335d;this[_0x56400c(0x71f)]=_0x34c200,this[_0x56400c(0x27f)]=_0x4d0211;}[_0x2f335d(0x333)](_0x10f9f0){this['systemTopic']=_0x10f9f0;}[_0x2f335d(0x1f0)](){const _0x1e9517=_0x2f335d;delete this[_0x1e9517(0x57e)];}}class _0x5aada5 extends _0x487438{[_0x2f335d(0x71f)];[_0x2f335d(0x27f)];[_0x2f335d(0x4e9)];constructor(_0x59fb0a,_0x408fbc,_0x29c032){const _0x4a092b=_0x2f335d;super(_0x59fb0a,_0x408fbc),this['source']=_0x59fb0a,this[_0x4a092b(0x27f)]=_0x408fbc,this[_0x4a092b(0x4e9)]=_0x29c032;}[_0x2f335d(0x504)](_0x410d1e,_0x4f325e,_0x5df71a){const _0x4a1c73=_0x2f335d;if(this[_0x4a1c73(0x27f)][_0x4a1c73(0x8c7)]()===_0x47407f[_0x4a1c73(0x1e9)][_0x4a1c73(0x185)]){const _0x4aa96e={'type':_0x207b64[_0x4a1c73(0x9c7)],'label':this[_0x4a1c73(0x27f)]['getLabel'](),'ownerId':_0x410d1e,'trackKinds':_0x4f325e??this[_0x4a1c73(0x27f)][_0x4a1c73(0x283)](),'params':_0x5df71a};this[_0x4a1c73(0x57e)][_0x4a1c73(0x620)]({'sourceId':this[_0x4a1c73(0x71f)]['getLocalId'](),'destinationIds':[this['source'][_0x4a1c73(0x488)]()],'messageType':_0x4ba688[_0x4a1c73(0x378)],'content':_0x4aa96e}),this['params']=_0x5df71a;}}[_0x2f335d(0x971)](_0x278f5d,_0xe30481){const _0x1d0ff6=_0x2f335d;if(this[_0x1d0ff6(0x27f)][_0x1d0ff6(0x8c7)]()===_0x47407f['ContentType'][_0x1d0ff6(0x185)]){const _0x33cf36={'type':_0x207b64[_0x1d0ff6(0x431)],'label':this[_0x1d0ff6(0x27f)][_0x1d0ff6(0x20c)](),'ownerId':_0x278f5d,'params':_0xe30481};this[_0x1d0ff6(0x57e)][_0x1d0ff6(0x620)]({'sourceId':this[_0x1d0ff6(0x71f)][_0x1d0ff6(0x871)](),'destinationIds':[this[_0x1d0ff6(0x71f)][_0x1d0ff6(0x488)]()],'messageType':_0x4ba688['Subscription'],'content':_0x33cf36}),this['params']=_0xe30481;}}[_0x2f335d(0x5be)](_0x4ac3db,_0x157a5e,_0x509d64){const _0x4b907a=_0x2f335d;if(this['destination'][_0x4b907a(0x8c7)]()===_0x47407f[_0x4b907a(0x1e9)][_0x4b907a(0x185)]){const _0x2a398a={'type':_0x207b64[_0x4b907a(0x342)],'label':this[_0x4b907a(0x27f)][_0x4b907a(0x20c)](),'ownerId':_0x4ac3db,'trackKinds':_0x509d64??this[_0x4b907a(0x27f)][_0x4b907a(0x283)](),'remainingTracks':_0x157a5e};this[_0x4b907a(0x57e)]['publish']({'sourceId':this[_0x4b907a(0x71f)]['getLocalId'](),'destinationIds':[this[_0x4b907a(0x71f)][_0x4b907a(0x488)]()],'messageType':_0x4ba688[_0x4b907a(0x378)],'content':_0x2a398a});}}}class _0x15194d{[_0x2f335d(0x7af)];[_0x2f335d(0x74a)];[_0x2f335d(0x73d)];['systemTopic'];[_0x2f335d(0x5fb)]=new Set();[_0x2f335d(0x604)]=Date[_0x2f335d(0x449)]();['params'];['retryCount']=0x0;constructor(_0x2fec62,_0x44a833,_0x36907f,_0x2f3857){const _0x5ba9af=_0x2f335d;this[_0x5ba9af(0x7af)]=_0x44a833,this[_0x5ba9af(0x74a)]=_0x36907f,this['tracks']=_0x2f3857,_0x2fec62[_0x5ba9af(0x82f)](_0x22d752=>{const _0xb37d1d=_0x5ba9af;this[_0xb37d1d(0x5fb)]['add']({'nodeId':_0x22d752,'type':_0x2fca62[_0xb37d1d(0x737)]});});}[_0x2f335d(0x3bc)](){const _0x49fd2b=_0x2f335d;return this[_0x49fd2b(0x73d)];}[_0x2f335d(0x333)](_0x4487b4){const _0x3470ea=_0x2f335d;this[_0x3470ea(0x57e)]=_0x4487b4;}[_0x2f335d(0x1f0)](){const _0x3fc2ff=_0x2f335d;delete this[_0x3fc2ff(0x57e)];}[_0x2f335d(0x2fe)](_0xfab739,_0xa5a8b6){const _0x323ee3=_0x2f335d;this[_0x323ee3(0x604)]=Date['now'](),this[_0x323ee3(0x5fb)][_0x323ee3(0x18c)](),_0xfab739['forEach'](_0x4f66f9=>{const _0x5ec8a6=_0x323ee3;this[_0x5ec8a6(0x5fb)][_0x5ec8a6(0xad)]({'nodeId':_0x4f66f9,'type':_0x2fca62[_0x5ec8a6(0x737)]});}),this['retryCount']+=0x1,this[_0x323ee3(0x7af)]=_0xa5a8b6;}['sendRequest'](_0xd1f9f9,_0x145f72,_0x326203,_0x4c3af7,_0x56ef30){const _0x126eca=_0x2f335d;if(this['retryCount']>0xa)throw new _0x315451(_0x315451[_0x126eca(0x600)][_0x126eca(0x98b)],{'answers':Array[_0x126eca(0x2ce)](this[_0x126eca(0x5fb)])[_0x126eca(0x3cd)](_0xe474a0=>({'nodeId':_0xe474a0[_0x126eca(0x3ff)],'type':_0xe474a0[_0x126eca(0x4e7)]}))});const _0x3f68b1=Array[_0x126eca(0x2ce)](this[_0x126eca(0x5fb)])[_0x126eca(0x3cd)](_0x31e324=>_0x31e324[_0x126eca(0x3ff)]);this[_0x126eca(0x4e9)]=_0x56ef30,this[_0x126eca(0x57e)][_0x126eca(0x620)]({'sourceId':_0xd1f9f9,'destinationIds':_0x3f68b1,'messageType':_0x4ba688[_0x126eca(0x378)],'content':{'type':_0x207b64[_0x126eca(0x3e1)],'label':_0x326203,'ownerId':_0x145f72,'trackKinds':_0x4c3af7,'params':_0x56ef30}}),_0x5a023b[_0x126eca(0x6fb)](_0x4abdbe['Subscription'],'Send\x20request',_0xd1f9f9,_0x3f68b1);}[_0x2f335d(0x5a7)](_0x521375,_0x3d8999){const _0x1e45d9=_0x2f335d;switch(_0x3d8999[_0x1e45d9(0x4e7)]){case _0x207b64[_0x1e45d9(0x7ba)]:{const _0x436912=this['currentDistance']>=_0x3d8999[_0x1e45d9(0x3ba)]&&_0x3d8999['distance']<=this[_0x1e45d9(0x74a)],_0x137442=Array[_0x1e45d9(0x2ce)](this['answers'])[_0x1e45d9(0x29d)](_0x58e657=>_0x58e657[_0x1e45d9(0x3ff)]===_0x521375);_0x137442[_0x1e45d9(0x4e7)]=_0x436912?_0x2fca62[_0x1e45d9(0x7fd)]:_0x2fca62[_0x1e45d9(0x174)],_0x137442[_0x1e45d9(0x4d6)]=_0x3d8999['cost'],_0x137442['distance']=_0x3d8999[_0x1e45d9(0x3ba)],_0x137442[_0x1e45d9(0x3d9)]=_0x3d8999[_0x1e45d9(0x3d9)],_0x137442[_0x1e45d9(0x4d5)]=Date[_0x1e45d9(0x449)]()-this[_0x1e45d9(0x604)],_0x137442[_0x1e45d9(0x4e9)]=this['params'],_0x137442[_0x1e45d9(0x2d7)]=_0x3d8999[_0x1e45d9(0x2d7)],_0x137442[_0x1e45d9(0x887)]=_0x3d8999[_0x1e45d9(0x887)],_0x137442[_0x1e45d9(0x763)]=_0x3d8999[_0x1e45d9(0x2b4)],_0x5a023b[_0x1e45d9(0x6fb)](_0x4abdbe[_0x1e45d9(0x378)],(_0x436912?'Accepted':_0x1e45d9(0x174))+'\x20answer',_0x137442);break;}case _0x207b64[_0x1e45d9(0x306)]:{const _0x12acbc=Array[_0x1e45d9(0x2ce)](this['answers'])[_0x1e45d9(0x29d)](_0x1395f9=>_0x1395f9[_0x1e45d9(0x3ff)]===_0x521375);_0x12acbc[_0x1e45d9(0x4e7)]=_0x2fca62['Rejected'],_0x5a023b[_0x1e45d9(0x6fb)](_0x4abdbe['Subscription'],_0x1e45d9(0x15d),_0x12acbc);break;}}if(this[_0x1e45d9(0x827)]())return this[_0x1e45d9(0x80e)]();}[_0x2f335d(0x80e)](){const _0x357b5d=_0x2f335d,_0x9e7e7=Array[_0x357b5d(0x2ce)](this[_0x357b5d(0x5fb)])[_0x357b5d(0x379)](_0x1a4d84=>_0x1a4d84[_0x357b5d(0x4e7)]===_0x2fca62[_0x357b5d(0x7fd)])[_0x357b5d(0x991)]((_0x252cf5,_0x8d1d4e)=>_0x252cf5[_0x357b5d(0x4d6)]===_0x8d1d4e[_0x357b5d(0x4d6)]?_0x252cf5[_0x357b5d(0x4d5)]-_0x8d1d4e['roundTripTime']:_0x252cf5[_0x357b5d(0x4d6)]-_0x8d1d4e['cost']);if(0x0===_0x9e7e7['length'])throw new _0x315451(_0x315451[_0x357b5d(0x600)][_0x357b5d(0x98b)],{'answers':Array[_0x357b5d(0x2ce)](this[_0x357b5d(0x5fb)])[_0x357b5d(0x3cd)](_0x54163a=>({'nodeId':_0x54163a[_0x357b5d(0x3ff)],'type':_0x54163a[_0x357b5d(0x4e7)]}))});return _0x5a023b[_0x357b5d(0x6fb)](_0x4abdbe[_0x357b5d(0x378)],_0x357b5d(0x84f),_0x9e7e7[0x0],this[_0x357b5d(0x5fb)]),_0x9e7e7[0x0];}[_0x2f335d(0x827)](){const _0x492b05=_0x2f335d;for(const _0x5dc393 of this[_0x492b05(0x5fb)])if(_0x5dc393['type']===_0x2fca62[_0x492b05(0x737)])return!0x1;return!0x0;}}class _0x3c0648{[_0x2f335d(0x2b4)];[_0x2f335d(0x272)];[_0x2f335d(0x124)]=_0x390225();constructor(_0xc194c8,_0x3e2d53){const _0x512f5f=_0x2f335d;this[_0x512f5f(0x2b4)]=_0xc194c8,this[_0x512f5f(0x272)]=_0x3e2d53;}[_0x2f335d(0x20c)](){const _0x10b29d=_0x2f335d;return this[_0x10b29d(0x2b4)];}[_0x2f335d(0x8c7)](){const _0x2c6df4=_0x2f335d;return this[_0x2c6df4(0x272)];}[_0x2f335d(0x7b3)](_0x4f4670){_0x4f4670['registerPublisher'](this);}[_0x2f335d(0x662)](_0x542c7d){_0x542c7d['registerSubscriber'](this);}[_0x2f335d(0x620)](_0x42ee95){const _0xd9e978=_0x2f335d;this[_0xd9e978(0x124)]['publish']({'topicLabel':this[_0xd9e978(0x2b4)],'contentType':this[_0xd9e978(0x272)],'uuid':(0x0,_0x2d9acc['v4'])(),'recipients':[],..._0x42ee95});}[_0x2f335d(0x504)](_0x5a186c){const _0x4930c8=_0x2f335d;return this[_0x4930c8(0x124)][_0x4930c8(0x504)](_0x5a186c);}['unregisterSource'](_0x10e9fc){const _0x502e2e=_0x2f335d;_0x10e9fc[_0x502e2e(0x1b8)](this);}[_0x2f335d(0x625)](_0x4b82ce){const _0x29df5d=_0x2f335d;_0x4b82ce[_0x29df5d(0x980)](this);}}class _0x4e2ad9{[_0x2f335d(0x441)]={'topics':new Map(),'subscriptions':new Map()};[_0x2f335d(0x2a9)];constructor(_0x474d3a){const _0x1491d9=_0x2f335d;this[_0x1491d9(0x2a9)]=_0x474d3a;}get[_0x2f335d(0x6b1)](){const _0x5a106d=_0x2f335d;return this[_0x5a106d(0x441)][_0x5a106d(0x6b1)];}get[_0x2f335d(0x59d)](){const _0x38f830=_0x2f335d;return this[_0x38f830(0x441)]['topics'];}['createSubscription'](_0x1f7180,_0x1f1b0f){const _0x447521=_0x2f335d,_0x1fd9e9=this[_0x447521(0x2a9)](_0x1f1b0f),_0x7d396d=_0x4120d1(_0x1f7180);if(!_0x1fd9e9['supportsContentType'])throw new _0x315451(_0x315451['codes']['InvalidSubscription'],{'message':_0x7d396d+':\x20'+_0x1fd9e9[_0x447521(0x559)]+_0x447521(0x54b)+_0x1fd9e9['contentType'],'subscriptionType':_0x1f7180,'subscription':_0x1f1b0f,'subscriptonParts':_0x1fd9e9});const _0x513eda=_0x314a53(_0x1f7180,_0x1fd9e9);if(this[_0x447521(0x441)][_0x447521(0x6b1)][_0x447521(0x627)](_0x513eda))throw new _0x315451(_0x315451[_0x447521(0x600)][_0x447521(0x7a7)],{'message':_0x7d396d+':\x20'+_0x513eda+_0x447521(0x959),'subscriptionType':_0x1f7180,'subscription':_0x1f1b0f,'subscriptonParts':_0x1fd9e9});this['maps'][_0x447521(0x6b1)]['set'](_0x513eda,_0x1f1b0f),this[_0x447521(0x32b)](_0x1fd9e9,_0x1f1b0f);}[_0x2f335d(0x1ea)](_0x5aafb1,_0x19fcbe){const _0x52cf3d=_0x2f335d,_0x2d63ef=_0x314a53(_0x19fcbe,_0x5aafb1),_0x59b77e=this['maps']['subscriptions'][_0x52cf3d(0x389)](_0x2d63ef);if(!_0x59b77e)throw new _0x315451(_0x315451['codes'][_0x52cf3d(0x7a7)],{'message':_0x4120d1(_0x19fcbe)+':\x20'+_0x2d63ef+_0x52cf3d(0x3cb),'subscriptionType':_0x19fcbe,'subscription':_0x59b77e,'subscriptonParts':_0x5aafb1});this['closeSubscription'](_0x59b77e,_0x2d63ef,_0x5aafb1);}[_0x2f335d(0x212)](_0x2a2622,_0x176827,_0x6e7607){const _0x1d68a4=_0x2f335d;_0x6e7607=_0x6e7607||this[_0x1d68a4(0x2a9)](_0x2a2622),this[_0x1d68a4(0x441)][_0x1d68a4(0x6b1)]['delete'](_0x176827),this[_0x1d68a4(0x9b5)](_0x6e7607,_0x2a2622);}[_0x2f335d(0x32b)](_0x167c27,{source:_0x2dfb85,destination:_0xf5aa45}){const _0x14d9ad=_0x2f335d,{contentType:_0x524280,label:_0x1c303f,remoteId:_0x2a2079}=_0x167c27,_0x3f9dad=_0x5f0105(_0x524280,_0x1c303f,_0x2a2079),_0x2e333b=new _0x3c0648(_0x3f9dad,_0x524280);_0x2e333b['registerSource'](_0x2dfb85),_0x2e333b[_0x14d9ad(0x662)](_0xf5aa45),this[_0x14d9ad(0x441)][_0x14d9ad(0x59d)][_0x14d9ad(0x120)](_0x2e333b['getLabel'](),_0x2e333b);}[_0x2f335d(0x9b5)](_0x95f97a,_0x621cfa){const _0x4a334d=_0x2f335d,{contentType:_0x1820d6,label:_0x48eb43,remoteId:_0x17acc2}=_0x95f97a,_0x360a94=_0x5f0105(_0x1820d6,_0x48eb43,_0x17acc2),_0x5784e8=this['maps'][_0x4a334d(0x59d)][_0x4a334d(0x389)](_0x360a94);_0x5784e8&&(this[_0x4a334d(0x3fa)](_0x5784e8,_0x621cfa),this['maps'][_0x4a334d(0x59d)]['delete'](_0x360a94));}['closeTopic'](_0x3ef71e,{source:_0x44ad67,destination:_0x321c06}){const _0x559899=_0x2f335d;_0x3ef71e[_0x559899(0x338)](_0x44ad67),_0x3ef71e[_0x559899(0x625)](_0x321c06);}[_0x2f335d(0x9d5)](_0x52fb89){const _0x147e90=_0x2f335d;this[_0x147e90(0x441)][_0x147e90(0x6b1)][_0x147e90(0x82f)]((_0x5b2661,_0x476ea4)=>{const _0x59433a=_0x147e90;_0x476ea4[_0x59433a(0x1d2)](_0x52fb89)&&this[_0x59433a(0x212)](_0x5b2661,_0x476ea4);});}}class _0x131dc5{[_0x2f335d(0xd5)];[_0x2f335d(0x74a)];[_0x2f335d(0x249)]=new Map();[_0x2f335d(0x39a)]=_0x1510e5(new _0x2d02ef(this[_0x2f335d(0x87c)][_0x2f335d(0x1b9)](this),()=>_0x438e57[_0x2f335d(0x52f)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();['maps'];[_0x2f335d(0x167)]=new Map();constructor(_0x560d28,_0x12143a){const _0x55abab=_0x2f335d;this['configs']=_0x560d28,this[_0x55abab(0x74a)]=_0x12143a,this[_0x55abab(0x441)]=new _0x4e2ad9(({source:_0x2bcc5d,destination:_0x29f71f})=>_0x2a67f0(_0x29f71f,_0x2bcc5d));}[_0x2f335d(0x70b)](_0x11878e,_0x7e9769){const _0x4c5c70=_0x2f335d,_0x5f28f1=this['isMediaSource'](_0x11878e)&&this[_0x4c5c70(0x36b)](_0x7e9769)?new _0x5aada5(_0x11878e,_0x7e9769):new _0x487438(_0x11878e,_0x7e9769);this[_0x4c5c70(0x441)][_0x4c5c70(0x70b)](_0x21fd1b['Incoming'],_0x5f28f1),this[_0x4c5c70(0xd5)]['mediator']['registerSystemSource'](_0x5f28f1);}[_0x2f335d(0x1ea)](_0x12447c,_0x984f66,_0xb5d0be=''){const _0x219a40=_0x2f335d,_0x5264f0={'contentType':_0x984f66,'label':_0x12447c,'remoteId':_0xb5d0be},_0x5143b3=_0x314a53(_0x21fd1b['Incoming'],_0x5264f0),_0x4ea0ae=this['maps'][_0x219a40(0x6b1)]['get'](_0x5143b3);_0x4ea0ae&&this[_0x219a40(0x212)](_0x4ea0ae,_0x5143b3);}[_0x2f335d(0x77a)](_0x13fdc3){const _0x2aac9d=_0x2f335d;this[_0x2aac9d(0x199)](_0x13fdc3);}[_0x2f335d(0x474)]({label:_0x4ba008,ownerId:_0x45f223,trackKinds:_0x31ee14,params:_0x3da2b7}){const _0x395ed7=_0x2f335d;this[_0x395ed7(0x393)](_0x4ba008,_0x45f223,_0x31ee14,_0x3da2b7);}['handleContentUpdateMediaStream']({ownerId:_0x50407b,label:_0x114f23,params:_0x1fbbec}){const _0x16149a=_0x2f335d,{subscriptionLabel:_0xc66afd}=this['getSubscriptionLabel'](_0x114f23,_0x50407b),_0x379580=this['getMediaSubscription'](_0xc66afd);_0x379580&&_0x379580[_0x16149a(0x971)](_0x50407b,_0x1fbbec);}[_0x2f335d(0x672)]({ownerId:_0xb681ee,label:_0x5de03c,trackKinds:_0x3da922,remainingTracks:_0x26b0a8}){const _0x32e8be=_0x2f335d,_0x1a4906=_0x314a53(_0x21fd1b[_0x32e8be(0xa8)],{'contentType':_0x47407f[_0x32e8be(0x1e9)][_0x32e8be(0x185)],'label':_0x5de03c,'remoteId':_0xb681ee});this[_0x32e8be(0x263)](_0x1a4906);const _0x24469e=this['subscriptionRequests'][_0x32e8be(0x389)](_0x1a4906);_0x24469e&&(this['configs']['mediator']['unregisterSystemSource'](_0x24469e),this[_0x32e8be(0x249)][_0x32e8be(0x2ee)](_0x1a4906));const {parts:_0x41d759,subscriptionLabel:_0x5b0fb4}=this['getSubscriptionLabel'](_0x5de03c,_0xb681ee),_0x1999b1=this['getMediaSubscription'](_0x5b0fb4);_0x1999b1&&(_0x1999b1['unsubscribe'](_0xb681ee,_0x26b0a8,_0x3da922),0x0===_0x26b0a8&&this[_0x32e8be(0x1ea)](_0x41d759[_0x32e8be(0x2b4)],_0x41d759['contentType'],_0x41d759[_0x32e8be(0x559)]));}[_0x2f335d(0x6e6)](_0xeec53f,{label:_0x2b2982,ownerId:_0x5849b6,trackKinds:_0x282f0c,streamId:_0x226bab,params:_0x9e117b}){const _0x7efdf2=_0x2f335d,_0x4f2d07=_0x314a53(_0x21fd1b[_0x7efdf2(0xa8)],{'contentType':_0x47407f[_0x7efdf2(0x1e9)][_0x7efdf2(0x185)],'label':_0x226bab,'remoteId':_0xeec53f}),_0x323f11=this[_0x7efdf2(0x441)][_0x7efdf2(0x6b1)][_0x7efdf2(0x389)](_0x4f2d07);if(!(_0x323f11&&_0x323f11 instanceof _0x5aada5))throw new _0x315451(_0x315451[_0x7efdf2(0x600)]['SubscriptionRequestDoesNotExist'],{'label':_0x4f2d07,'ownerId':_0x5849b6});this[_0x7efdf2(0x212)](_0x323f11,_0x4f2d07),this['requestSubscription'](_0x2b2982,_0x5849b6,_0x282f0c,_0x9e117b);}[_0x2f335d(0x4c2)](_0x4dfaef,_0x342b15){const _0x3ea346=_0x2f335d,{label:_0x426fbe,ownerId:_0xe7d84d,trackKinds:_0x123bcb,params:_0x19d204}=_0x342b15,_0x29c31d=_0x314a53(_0x21fd1b[_0x3ea346(0xa8)],{'contentType':_0x47407f[_0x3ea346(0x1e9)][_0x3ea346(0x185)],'label':_0x426fbe,'remoteId':_0xe7d84d});if(!this['subscriptionRequests']['has'](_0x29c31d))throw new _0x315451(_0x315451[_0x3ea346(0x600)][_0x3ea346(0x6a5)],{'label':_0x29c31d,'ownerId':_0xe7d84d,'streamId':_0x342b15[_0x3ea346(0x3d9)],'requests':this[_0x3ea346(0x249)]});const _0x2b6fac=this[_0x3ea346(0x249)][_0x3ea346(0x389)](_0x29c31d);if(_0x123bcb[_0x3ea346(0x39c)]===_0x2b6fac[_0x3ea346(0x3bc)]()[_0x3ea346(0x39c)]&&_0x123bcb['every'](_0x43eaad=>_0x2b6fac[_0x3ea346(0x3bc)]()[_0x3ea346(0x4a7)](_0x43eaad)))try{const _0x18c9f3=_0x2b6fac['handleSubscriptionSystemEvents'](_0x4dfaef,_0x342b15);if(!_0x18c9f3)return;this['subscribe'](_0x18c9f3,_0xe7d84d,_0x426fbe,_0x29c31d,_0x123bcb);}catch(_0xa17200){return void this[_0x3ea346(0x1c5)](_0x426fbe,_0xe7d84d,_0x123bcb,_0x19d204);}}[_0x2f335d(0x628)](_0x27635b,{label:_0x1c42b6,ownerId:_0xbfc7b7,trackKinds:_0x4c677d}){const _0x3d47ce=_0x2f335d,_0x2f302a=this[_0x3d47ce(0xd5)]['mediator']['getRemoteMediaStream'](_0xbfc7b7,_0x1c42b6);if(!_0x2f302a)return;const _0x5effd9=_0x2f302a[_0x3d47ce(0x233)](),_0x3714c3=_0x2f302a[_0x3d47ce(0x800)]();_0x3714c3[_0x3d47ce(0x5dc)](_0x3816da=>_0x4c677d[_0x3d47ce(0x4a7)](_0x3816da))&&this[_0x3d47ce(0x88c)](_0x27635b,_0x1c42b6,_0x5effd9,_0xbfc7b7,_0x3714c3);}[_0x2f335d(0x97e)]({label:_0x1b764a,providerId:_0x4e8237,ownerId:_0x53cdc0,streamId:_0x369c70,trackKinds:_0xa6c656}){const _0x1b0020=_0x2f335d;this[_0x1b0020(0x88c)](_0x4e8237,_0x1b764a,_0x369c70,_0x53cdc0,_0xa6c656);}[_0x2f335d(0x4b1)](_0x1b8317){const _0x49456a=_0x2f335d;for(const _0x1bfbca of this[_0x49456a(0x167)][_0x49456a(0x349)]()){const {streamLabel:_0x31b2f7,ownerId:_0x1918e8,trackKinds:_0x54b024,params:_0x4bb733}=_0x1bfbca;if(!_0x1918e8||!_0x54b024||!_0x31b2f7)return;this[_0x49456a(0x39a)][_0x49456a(0x6e4)]({'label':_0x31b2f7,'ownerId':_0x1918e8,'trackKinds':_0x54b024,'params':_0x4bb733,'remoteId':_0x1b8317});}}['removeSubscriptionsForNode'](_0x141367){const _0x5c9b52=_0x2f335d;this['maps'][_0x5c9b52(0x6b1)][_0x5c9b52(0x82f)]((_0x3cad9e,_0x235ff6)=>{const _0x5c7664=_0x5c9b52;if(_0x235ff6['endsWith'](_0x141367)){if(_0x3cad9e[_0x5c7664(0x27f)][_0x5c7664(0x8c7)]()===_0x47407f[_0x5c7664(0x1e9)][_0x5c7664(0x185)]){const _0x37334f=_0x3cad9e[_0x5c7664(0x27f)];if(_0x37334f[_0x5c7664(0x800)]()[_0x5c7664(0x39c)]>0x0){const _0x35b2d8={'type':_0x207b64['MediaStreamUnavailable'],'label':_0x37334f[_0x5c7664(0x20c)](),'ownerId':_0x37334f['getOwnerId'](),'trackKinds':_0x37334f['getSubscribedTracks']()};return void this[_0x5c7664(0x628)](_0x141367,_0x35b2d8);}}this[_0x5c7664(0x212)](_0x3cad9e,_0x235ff6);}});}[_0x2f335d(0x476)](){const _0x28821b=_0x2f335d;this[_0x28821b(0x441)][_0x28821b(0x6b1)][_0x28821b(0x82f)](this[_0x28821b(0x212)][_0x28821b(0x1b9)](this));}[_0x2f335d(0x504)](_0x1dd66d,_0x5d4c04,_0xa80ead,_0x50a4b4,_0x49e382){const _0x1ba8f4=_0x2f335d,_0x187bce=this[_0x1ba8f4(0xd5)][_0x1ba8f4(0x9c8)]['getConnection'](_0x1dd66d['nodeId']),_0x4fe588=this[_0x1ba8f4(0xd5)][_0x1ba8f4(0x9c8)][_0x1ba8f4(0x1ca)](_0x5d4c04,_0xa80ead);this[_0x1ba8f4(0x263)](_0x50a4b4),this[_0x1ba8f4(0x249)][_0x1ba8f4(0x627)](_0x50a4b4)&&(this[_0x1ba8f4(0xd5)][_0x1ba8f4(0x9c8)][_0x1ba8f4(0x39e)](this[_0x1ba8f4(0x249)]['get'](_0x50a4b4)),this[_0x1ba8f4(0x249)][_0x1ba8f4(0x2ee)](_0x50a4b4)),this[_0x1ba8f4(0x2fb)](_0x1dd66d,_0x5d4c04,_0xa80ead,_0x4fe588),_0x4fe588[_0x1ba8f4(0x2c9)](_0x1dd66d[_0x1ba8f4(0x3d9)]),_0x4fe588[_0x1ba8f4(0x4d8)](_0x1dd66d[_0x1ba8f4(0x3ff)]);const _0x12664b=_0x2a67f0(_0x4fe588,_0x187bce),_0x316d04=_0x314a53(_0x21fd1b[_0x1ba8f4(0xa8)],_0x12664b);this[_0x1ba8f4(0x441)][_0x1ba8f4(0x6b1)]['has'](_0x316d04)||this['createSubscription'](_0x187bce,_0x4fe588);const _0x407e7d=this['maps']['subscriptions'][_0x1ba8f4(0x389)](_0x316d04);if(!(_0x407e7d&&_0x407e7d instanceof _0x5aada5))throw new _0x315451(_0x315451[_0x1ba8f4(0x600)][_0x1ba8f4(0x6a5)],{'label':_0x50a4b4,'ownerId':_0x5d4c04});_0x5a023b[_0x1ba8f4(0x5e8)](_0x1ba8f4(0x510),{'clusterId':this[_0x1ba8f4(0xd5)]['clusterId'],'nodeId':this['configs'][_0x1ba8f4(0x6c3)][_0x1ba8f4(0x92c)](),'nodeType':this['configs'][_0x1ba8f4(0x6c3)][_0x1ba8f4(0x4e7)],'data':{'subscriptionLabel':_0x316d04,'chosenAnswer':_0x1dd66d}}),this[_0x1ba8f4(0x167)]['set'](_0x316d04,_0x1dd66d),_0x407e7d['subscribe'](_0x5d4c04,_0x49e382,_0x1dd66d[_0x1ba8f4(0x4e9)]);}['removeRemoteStreamSubscription']({ownerId:_0x12452c,label:_0x1e2403}){const _0x54ae59=_0x2f335d,_0x1936bd=this['configs']['mediator'][_0x54ae59(0x1ca)](_0x12452c,_0x1e2403),[_0x414031,_0x34cbcc]=Array[_0x54ae59(0x2ce)](this[_0x54ae59(0x441)][_0x54ae59(0x6b1)][_0x54ae59(0x8dc)]())[_0x54ae59(0x29d)](([_0x3c5a02,_0x2bf86b])=>-0x1!==_0x3c5a02[_0x54ae59(0x3d2)](_0x1936bd['getInternalStreamId']()));return this[_0x54ae59(0x212)](_0x34cbcc,_0x414031);}[_0x2f335d(0x212)](_0xe54b77,_0x52d124){const _0xa2275c=_0x2f335d;this[_0xa2275c(0xd5)][_0xa2275c(0x9c8)][_0xa2275c(0x39e)](_0xe54b77),this['maps'][_0xa2275c(0x212)](_0xe54b77,_0x52d124);}[_0x2f335d(0x870)](_0x22d09e){const _0x20f371=_0x2f335d;return _0x22d09e[_0x20f371(0x901)]()[_0x20f371(0x4a7)](_0x47407f[_0x20f371(0x1e9)][_0x20f371(0x185)]);}[_0x2f335d(0x36b)](_0x4ac811){const _0x57ce02=_0x2f335d;return _0x4ac811[_0x57ce02(0x8c7)]()===_0x47407f[_0x57ce02(0x1e9)][_0x57ce02(0x185)];}async[_0x2f335d(0x1c5)](_0x2c0386,_0x3ed5c2,_0xdc55b3,_0x5be0dd){const _0x392a03=_0x2f335d;await _0x438e57[_0x392a03(0x52f)](0x3e8);const _0xc93086=_0x314a53(_0x21fd1b['Incoming'],{'contentType':_0x47407f[_0x392a03(0x1e9)][_0x392a03(0x185)],'label':_0x2c0386,'remoteId':_0x3ed5c2});this['clearSubscriptionRequestTimeout'](_0xc93086);const _0x29f094=this[_0x392a03(0x249)][_0x392a03(0x389)](_0xc93086);if(!_0x29f094)throw new _0x315451(_0x315451['codes']['SubscriptionRequestDoesNotExist'],{'label':_0xc93086,'ownerId':_0x3ed5c2});const _0x327402=this['configs'][_0x392a03(0x9c8)][_0x392a03(0x28b)](_0x4f06d7=>_0x4f06d7[_0x392a03(0xdc)]()),_0x2aa779=this[_0x392a03(0xd5)][_0x392a03(0x9c8)][_0x392a03(0x759)](this['configs'][_0x392a03(0x6c3)][_0x392a03(0x92c)](),_0x3ed5c2);_0x29f094[_0x392a03(0x2fe)](_0x327402[_0x392a03(0x3cd)](_0x41fd21=>_0x41fd21[_0x392a03(0x488)]()),_0x2aa779);try{_0x29f094[_0x392a03(0x145)](this['configs']['localNode'][_0x392a03(0x92c)](),_0x3ed5c2,_0x2c0386,_0xdc55b3,_0x5be0dd),this['setSubscriptionRequestTimeout'](_0x2c0386,_0x3ed5c2,_0xdc55b3,_0x5be0dd,_0xc93086,_0x29f094);}catch(_0x55a608){this[_0x392a03(0x39a)][_0x392a03(0x6e4)]({'label':_0x2c0386,'ownerId':_0x3ed5c2,'trackKinds':_0xdc55b3,'params':_0x5be0dd});}}[_0x2f335d(0x393)](_0x3c9dc2,_0x1a8364,_0x3497d2,_0x267389){const _0x47ee92=_0x2f335d;this[_0x47ee92(0x39a)]['push']({'label':_0x3c9dc2,'ownerId':_0x1a8364,'trackKinds':_0x3497d2,'params':_0x267389});}[_0x2f335d(0x87c)]({label:_0x1ffada,ownerId:_0x36225c,trackKinds:_0x3a5942,params:_0x322407,remoteId:_0x44cb62}){const _0xce0222=_0x2f335d;if(!this[_0xce0222(0xd5)][_0xce0222(0x9c8)][_0xce0222(0x1ca)](_0x36225c,_0x1ffada))return;if(!this[_0xce0222(0xd5)][_0xce0222(0x9c8)][_0xce0222(0x2ed)]()[_0xce0222(0x659)]())throw new Error(_0xce0222(0x9a5));if(_0x44cb62){const _0x1405a3=this[_0xce0222(0xd5)][_0xce0222(0x9c8)][_0xce0222(0x78e)]()[_0xce0222(0x29d)](_0x4c6547=>_0x4c6547[_0xce0222(0x92c)]()===_0x44cb62),_0x41532e=_0x1405a3?.[_0xce0222(0x659)]();if(!_0x1405a3||!_0x41532e)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x36beeb=this[_0xce0222(0xd5)][_0xce0222(0x9c8)][_0xce0222(0x78e)]()[_0xce0222(0x29d)](_0x43d2e2=>_0x43d2e2['getId']()===_0x36225c),_0x54099e=_0x36beeb?.['getRank']();if(!_0x36beeb||!_0x54099e)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x900bfc=this[_0xce0222(0x167)]['get'](_0x1ffada);if(_0x900bfc){const _0x4ecc2f=this[_0xce0222(0xd5)][_0xce0222(0x9c8)][_0xce0222(0x78e)]()[_0xce0222(0x29d)](_0x5d4e1f=>_0x5d4e1f['getId']()===_0x900bfc['nodeId']),_0x451a07=_0x4ecc2f?.[_0xce0222(0x659)]();if(!_0x4ecc2f||!_0x451a07)throw new Error(_0xce0222(0x665));if(Math[_0xce0222(0x4ff)](_0x451a07-_0x54099e)<Math[_0xce0222(0x4ff)](_0x41532e-_0x54099e))return;}}const _0x506bd2=this[_0xce0222(0xd5)][_0xce0222(0x9c8)][_0xce0222(0x28b)](_0x5bba82=>_0x5bba82['isConnected']()&&(!_0x44cb62||_0x5bba82[_0xce0222(0x488)]()===_0x44cb62));if(!_0x506bd2[_0xce0222(0x39c)]||0x0===_0x506bd2[_0xce0222(0x39c)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x8bf805=this['configs'][_0xce0222(0x9c8)][_0xce0222(0x759)](this[_0xce0222(0xd5)][_0xce0222(0x6c3)][_0xce0222(0x92c)](),_0x36225c),_0x3536d3=_0x314a53(_0x21fd1b[_0xce0222(0xa8)],{'contentType':_0x47407f['ContentType'][_0xce0222(0x185)],'label':_0x1ffada,'remoteId':_0x36225c});if(this['subscriptionRequests'][_0xce0222(0x627)](_0x3536d3)){if(_0x44cb62)throw new Error(_0xce0222(0x8f3));const _0xfe07fd=this[_0xce0222(0x249)]['get'](_0x3536d3)[_0xce0222(0x3bc)]();if(_0xfe07fd[_0xce0222(0x39c)]===_0x3a5942[_0xce0222(0x39c)]&&_0xfe07fd[_0xce0222(0x751)](_0x582039=>_0x3a5942['includes'](_0x582039)))return;this[_0xce0222(0xd5)][_0xce0222(0x9c8)][_0xce0222(0x39e)](this['subscriptionRequests'][_0xce0222(0x389)](_0x3536d3)),this[_0xce0222(0x249)][_0xce0222(0x2ee)](_0x3536d3),_0x3a5942=Array[_0xce0222(0x2ce)](new Set(_0x3a5942[_0xce0222(0x269)](_0xfe07fd))),this[_0xce0222(0x263)](_0x3536d3);}const _0xc301b=new _0x15194d(_0x506bd2[_0xce0222(0x3cd)](_0x3f5996=>_0x3f5996[_0xce0222(0x488)]()),_0x8bf805,this[_0xce0222(0x74a)],_0x3a5942);this[_0xce0222(0xd5)][_0xce0222(0x9c8)]['registerSystemSource'](_0xc301b),this[_0xce0222(0x249)]['set'](_0x3536d3,_0xc301b),_0xc301b[_0xce0222(0x145)](this['configs'][_0xce0222(0x6c3)][_0xce0222(0x92c)](),_0x36225c,_0x1ffada,_0x3a5942,_0x322407),this[_0xce0222(0x361)](_0x1ffada,_0x36225c,_0x3a5942,_0x322407,_0x3536d3,_0xc301b);}['clearSubscriptionRequestTimeout'](_0x2c78ef){const _0x46037c=_0x2f335d;this[_0x46037c(0x700)][_0x46037c(0x627)](_0x2c78ef)&&(clearTimeout(this[_0x46037c(0x700)][_0x46037c(0x389)](_0x2c78ef)),this[_0x46037c(0x700)][_0x46037c(0x2ee)](_0x2c78ef));}[_0x2f335d(0x361)](_0x1b744a,_0xe1ad7f,_0x4f9845,_0xa3f01a,_0x1c5821,_0x3bf951){const _0x5cf132=_0x2f335d;this['clearSubscriptionRequestTimeout'](_0x1c5821),this[_0x5cf132(0x700)]['set'](_0x1c5821,setTimeout(()=>{const _0x1e156c=_0x5cf132;this[_0x1e156c(0x700)][_0x1e156c(0x2ee)](_0x1c5821);try{const _0x3a0f71=_0x3bf951[_0x1e156c(0x80e)]();this[_0x1e156c(0x504)](_0x3a0f71,_0xe1ad7f,_0x1b744a,_0x1c5821,_0x4f9845);}catch(_0x45e62d){this['handleNoAnswer'](_0x1b744a,_0xe1ad7f,_0x4f9845,_0xa3f01a);}},0x7d0));}[_0x2f335d(0x88c)](_0x2730f0,_0x264cef,_0x1a271b,_0x2c7a35,_0x47da11){const _0x1cc6dd=_0x2f335d,{subscriptionLabel:_0xe8deda}=this[_0x1cc6dd(0x78f)](_0x264cef,_0x2c7a35),_0x1a3212=this[_0x1cc6dd(0x854)](_0xe8deda),_0x55bae7=_0x1a3212?.['params'];_0x1a3212&&(_0x1a3212[_0x1cc6dd(0x5be)](_0x2c7a35,0x0),this[_0x1cc6dd(0x1ea)](_0x1a271b,_0x47407f[_0x1cc6dd(0x1e9)][_0x1cc6dd(0x185)],_0x2730f0)),this[_0x1cc6dd(0x393)](_0x264cef,_0x2c7a35,_0x47da11,_0x55bae7);}[_0x2f335d(0x854)](_0x4be2d3){const _0x37fba5=_0x2f335d,_0x3dcfe1=this[_0x37fba5(0x441)]['subscriptions'][_0x37fba5(0x389)](_0x4be2d3);if(_0x3dcfe1){if(!(_0x3dcfe1 instanceof _0x5aada5))throw new _0x315451(_0x315451[_0x37fba5(0x600)][_0x37fba5(0x7a7)],{'label':_0x4be2d3,'subscription':_0x3dcfe1});return _0x3dcfe1;}}['getSubscriptionLabel'](_0x42f5d8,_0x5c3fda){const _0x13083c=_0x2f335d,_0x7ee88e=this[_0x13083c(0x5f1)](_0x42f5d8,_0x5c3fda);return{'parts':_0x7ee88e,'subscriptionLabel':_0x314a53(_0x21fd1b[_0x13083c(0xa8)],_0x7ee88e)};}[_0x2f335d(0x5f1)](_0x1d180a,_0x15f4bb){const _0x224829=_0x2f335d,_0x230a77=this[_0x224829(0xd5)][_0x224829(0x9c8)]['getRemoteMediaStream'](_0x15f4bb,_0x1d180a),_0x22a73c=_0x230a77[_0x224829(0x683)]();if(!_0x22a73c)throw new _0x315451(_0x315451[_0x224829(0x600)][_0x224829(0x5f5)],{'label':_0x1d180a,'streamId':_0x230a77['getInternalStreamId'](),'ownerId':_0x15f4bb,'localId':this[_0x224829(0xd5)][_0x224829(0x6c3)][_0x224829(0x92c)]()});return{'contentType':_0x47407f[_0x224829(0x1e9)][_0x224829(0x185)],'label':_0x230a77[_0x224829(0x233)](),'remoteId':_0x22a73c};}[_0x2f335d(0x2fb)](_0x27457b,_0x2f99e5,_0x4148e4,_0x170a14){const _0x4a547d=_0x2f335d,_0x31fd8e=_0x170a14['getProviderId']();if(_0x31fd8e&&_0x31fd8e!==_0x27457b[_0x4a547d(0x3ff)]){const {parts:_0x2a0f8b,subscriptionLabel:_0x323efb}=this[_0x4a547d(0x78f)](_0x4148e4,_0x2f99e5),_0x47483f=this[_0x4a547d(0x854)](_0x323efb);_0x47483f&&(_0x47483f[_0x4a547d(0x5be)](_0x2f99e5,0x0),this[_0x4a547d(0x1ea)](_0x2a0f8b['label'],_0x2a0f8b['contentType'],_0x2a0f8b['remoteId']));}}}class _0x3d0b25{[_0x2f335d(0xd5)];['maxOutgoingSubscriptions'];[_0x2f335d(0x441)];constructor(_0x3df810,_0x384e45){const _0x10d57d=_0x2f335d;this[_0x10d57d(0xd5)]=_0x3df810,this['maxOutgoingSubscriptions']=_0x384e45,this[_0x10d57d(0x441)]=new _0x4e2ad9(({source:_0x1e2d8a,destination:_0x18e0c2})=>_0x2a67f0(_0x1e2d8a,_0x18e0c2));}['createSubscription'](_0xcf231b,_0x485aad){const _0x46c6c4=_0x2f335d,_0x3a6fa2={'source':_0xcf231b,'destination':_0x485aad};this['maps'][_0x46c6c4(0x70b)](_0x21fd1b[_0x46c6c4(0xb8)],_0x3a6fa2);}[_0x2f335d(0x1ea)](_0xe7c700,_0x43afd1,_0x4f7547=''){const _0x50fa90=_0x2f335d,_0x40a238={'contentType':_0x43afd1,'label':_0xe7c700,'remoteId':_0x4f7547};this[_0x50fa90(0x441)]['removeSubscription'](_0x40a238,_0x21fd1b[_0x50fa90(0xb8)]);}[_0x2f335d(0x98f)](_0x45a15d,_0xf52d20){const _0x1f42b3=_0x2f335d;let _0x4a38de;_0x4a38de=_0xf52d20[_0x1f42b3(0x2d7)]!==this['configs']['localNode'][_0x1f42b3(0x92c)]()?this[_0x1f42b3(0xd5)][_0x1f42b3(0x9c8)]['getRemoteMediaStream'](_0xf52d20['ownerId'],_0xf52d20['label']):this[_0x1f42b3(0xd5)][_0x1f42b3(0x9c8)][_0x1f42b3(0x44d)](_0xf52d20[_0x1f42b3(0x2b4)]);const _0x2dfc59=_0x314a53(_0x21fd1b['Outgoing'],{'contentType':_0x47407f['ContentType'][_0x1f42b3(0x185)],'label':_0x4a38de[_0x1f42b3(0x939)](),'remoteId':_0x45a15d}),_0x80c5ee=this[_0x1f42b3(0x44a)]();if(!this[_0x1f42b3(0x441)][_0x1f42b3(0x6b1)][_0x1f42b3(0x627)](_0x2dfc59)&&_0x80c5ee>=this[_0x1f42b3(0x1dd)])return{'type':_0x207b64[_0x1f42b3(0x7ed)],'ownerId':_0xf52d20[_0x1f42b3(0x2d7)],'label':_0xf52d20[_0x1f42b3(0x2b4)],'streamId':_0x4a38de['getShareableStreamId'](),'trackKinds':_0xf52d20[_0x1f42b3(0x887)],'params':_0xf52d20[_0x1f42b3(0x4e9)]};_0x4a38de instanceof _0x813fbf&&!_0x4a38de[_0x1f42b3(0x7c9)](_0xf52d20[_0x1f42b3(0x887)])&&_0x4a38de[_0x1f42b3(0x504)](_0xf52d20[_0x1f42b3(0x4e9)]),this[_0x1f42b3(0x441)][_0x1f42b3(0x6b1)]['has'](_0x2dfc59)||this[_0x1f42b3(0x70b)](_0x4a38de[_0x1f42b3(0x529)](_0x45a15d),this[_0x1f42b3(0xd5)][_0x1f42b3(0x9c8)]['getConnection'](_0x45a15d));}[_0x2f335d(0x280)](_0x37d472,{label:_0x48369f,ownerId:_0x271302,remainingTracks:_0x3426c9}){const _0x49a496=_0x2f335d;if(_0x3426c9>0x0)return;let _0x2b6471;_0x2b6471=_0x271302!==this[_0x49a496(0xd5)]['localNode']['getId']()?this['configs']['mediator'][_0x49a496(0x1ca)](_0x271302,_0x48369f):this[_0x49a496(0xd5)][_0x49a496(0x9c8)][_0x49a496(0x44d)](_0x48369f);const _0x3c4b2e=_0x2b6471['getShareableStreamId'](),_0x13fa0a=_0x47407f['ContentType'][_0x49a496(0x185)];this[_0x49a496(0x1ea)](_0x3c4b2e,_0x13fa0a,_0x37d472);}[_0x2f335d(0x672)](_0x15bc6c,{label:_0x28e6c9,ownerId:_0x1fe9a4,trackKinds:_0x100074}){const _0x5bdaaa=_0x2f335d;if(_0x15bc6c!==_0x46e5ac)return[];let _0x35362f=[];for(const _0x28bbf9 of this[_0x5bdaaa(0x441)]['subscriptions']){const {source:_0x694edb,destination:_0x439b0f}=_0x28bbf9[0x1];_0x694edb['getLabel']()===_0x28e6c9&&_0x694edb[_0x5bdaaa(0x8a4)]()===_0x1fe9a4&&_0x35362f[_0x5bdaaa(0x6e4)]({'sourceId':this['configs']['localNode'][_0x5bdaaa(0x92c)](),'destinationIds':[_0x439b0f[_0x5bdaaa(0x488)]()],'messageType':_0x4ba688[_0x5bdaaa(0x378)],'content':{'type':_0x207b64[_0x5bdaaa(0x584)],'label':_0x28e6c9,'ownerId':_0x1fe9a4,'trackKinds':_0x100074}});}return _0x35362f;}[_0x2f335d(0x944)](_0x589854,_0x34c29a){const _0x4ff264=_0x2f335d,{label:_0x372620,ownerId:_0x4c43d2,trackKinds:_0x360e9f,params:_0x1a4f56}=_0x34c29a,{hasTracks:_0x125042,streamId:_0x34ea2d,hasResolution:_0x2814ce,distance:_0x275b08,subscriptionLabel:_0x26f55d}=this[_0x4ff264(0x774)](_0x589854,_0x34c29a);let _0x5452be=this[_0x4ff264(0x44a)]()<this[_0x4ff264(0x1dd)]&&(_0x125042||_0x275b08>-0x1)?_0x207b64['CanProvideMediaStream']:_0x207b64[_0x4ff264(0x306)];const _0x316a4d=_0x275b08<0x0?0xa:_0x275b08;let _0x18bc9b=_0x125042?_0x2814ce?_0x316a4d:_0x316a4d+0x0:_0x316a4d+0xa;return _0x26f55d&&this[_0x4ff264(0x441)][_0x4ff264(0x6b1)]['has'](_0x26f55d)&&(_0x125042&&(_0x18bc9b=0x0),_0x5452be=_0x207b64['CanProvideMediaStream']),{'type':_0x5452be,'cost':_0x18bc9b,'distance':_0x275b08,'label':_0x372620,'ownerId':_0x4c43d2,'streamId':_0x34ea2d,'trackKinds':_0x360e9f,'params':_0x1a4f56};}[_0x2f335d(0x77a)](_0x5002a2){const _0x3b21b3=_0x2f335d,{label:_0x2c766d,ownerId:_0x379e68}=_0x5002a2,_0x459d5b=this[_0x3b21b3(0xd5)][_0x3b21b3(0x9c8)][_0x3b21b3(0x1ca)](_0x379e68,_0x2c766d);this[_0x3b21b3(0x441)][_0x3b21b3(0x6b1)][_0x3b21b3(0x82f)](_0xcb7fa5=>{const _0xbc6e10=_0x3b21b3;if(_0xcb7fa5[_0xbc6e10(0x71f)]['getInternalStreamId']()===_0x459d5b[_0xbc6e10(0x939)]()){const _0x2037fd=_0xcb7fa5[_0xbc6e10(0x27f)];this[_0xbc6e10(0x1ea)](_0x459d5b[_0xbc6e10(0x939)](),_0x47407f[_0xbc6e10(0x1e9)][_0xbc6e10(0x185)],_0x2037fd[_0xbc6e10(0x488)]());}});}[_0x2f335d(0x14d)]({label:_0x250b97}){const _0x41a568=_0x2f335d,_0x36d91a=this[_0x41a568(0xd5)][_0x41a568(0x9c8)][_0x41a568(0x44d)](_0x250b97);this[_0x41a568(0x441)][_0x41a568(0x6b1)]['forEach'](_0x17e655=>{const _0x338d38=_0x41a568;if(_0x17e655['source'][_0x338d38(0x233)]()===_0x36d91a[_0x338d38(0x939)]()){const _0x3b72ce=_0x17e655[_0x338d38(0x27f)];this[_0x338d38(0x1ea)](_0x36d91a[_0x338d38(0x939)](),_0x47407f[_0x338d38(0x1e9)][_0x338d38(0x185)],_0x3b72ce[_0x338d38(0x488)]());}});}[_0x2f335d(0x9d5)](_0x2d7c3c){const _0x151ac1=_0x2f335d;this[_0x151ac1(0x441)]['removeSubscriptionsForNode'](_0x2d7c3c);}[_0x2f335d(0x476)](){const _0x59dd6f=_0x2f335d;this[_0x59dd6f(0x441)]['subscriptions'][_0x59dd6f(0x82f)](this[_0x59dd6f(0x212)][_0x59dd6f(0x1b9)](this));}[_0x2f335d(0x212)](_0x1b9c44,_0x2301df){const _0x5d758d=_0x2f335d;this[_0x5d758d(0x441)][_0x5d758d(0x212)](_0x1b9c44,_0x2301df);}[_0x2f335d(0x774)](_0x11347d,{label:_0x3af708,ownerId:_0x1374ed,trackKinds:_0x46a4e0,params:_0x24e443}){const _0x3934d2=_0x2f335d;if(_0x1374ed!==this['configs'][_0x3934d2(0x6c3)][_0x3934d2(0x92c)]()){const _0x3d45ad=this['configs'][_0x3934d2(0x9c8)][_0x3934d2(0x1ca)](_0x1374ed,_0x3af708);return _0x3d45ad&&_0x3d45ad['getProviderId']()!==_0x11347d?{'hasTracks':_0x3d45ad[_0x3934d2(0x18a)](_0x46a4e0),'hasResolution':this[_0x3934d2(0x138)](_0x3d45ad['getResolution'](),_0x24e443),'streamId':_0x3d45ad[_0x3934d2(0x939)](),'distance':this[_0x3934d2(0xd5)][_0x3934d2(0x9c8)][_0x3934d2(0x759)](_0x11347d,_0x1374ed),'subscriptionLabel':_0x314a53(_0x21fd1b['Outgoing'],{'contentType':_0x47407f[_0x3934d2(0x1e9)][_0x3934d2(0x185)],'label':_0x3d45ad[_0x3934d2(0x939)](),'remoteId':_0x11347d})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x5c43e3=this[_0x3934d2(0xd5)][_0x3934d2(0x9c8)][_0x3934d2(0x44d)](_0x3af708);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x5c43e3[_0x3934d2(0x939)](),'distance':0x0,'subscriptionLabel':_0x314a53(_0x21fd1b[_0x3934d2(0xb8)],{'contentType':_0x47407f[_0x3934d2(0x1e9)][_0x3934d2(0x185)],'label':_0x5c43e3[_0x3934d2(0x939)](),'remoteId':_0x11347d})};}[_0x2f335d(0x44a)](){const _0x5d9bd1=_0x2f335d;return Array[_0x5d9bd1(0x2ce)](this['maps']['subscriptions'][_0x5d9bd1(0x8dc)]())[_0x5d9bd1(0x379)](([_0x216e23,{source:_0xe2cf07}])=>_0x216e23[_0x5d9bd1(0x60c)](_0x21fd1b[_0x5d9bd1(0xb8)])&&_0xe2cf07[_0x5d9bd1(0x8c7)]()===_0x47407f[_0x5d9bd1(0x1e9)]['Media'])[_0x5d9bd1(0x39c)];}[_0x2f335d(0x138)](_0x45237b,_0x9cfa49){const _0x525b76=_0x2f335d;if(!_0x9cfa49||!_0x9cfa49[_0x525b76(0x209)]||'boolean'==typeof _0x9cfa49[_0x525b76(0x209)]||!_0x9cfa49[_0x525b76(0x209)][_0x525b76(0xf1)])return!0x0;const {width:_0x388016,height:_0x2b7131}=_0x9cfa49[_0x525b76(0x209)][_0x525b76(0xf1)];return _0x45237b[_0x525b76(0x9cd)]>=_0x388016&&_0x45237b[_0x525b76(0x2a0)]>=_0x2b7131;}}class _0x416a2d{[_0x2f335d(0xd5)];[_0x2f335d(0x1dd)];[_0x2f335d(0x74a)];[_0x2f335d(0x57e)];[_0x2f335d(0x622)];[_0x2f335d(0xc3)];constructor(_0x54d459,_0x70245,_0x4f1bdc){const _0xbd3dda=_0x2f335d;this['configs']=_0x54d459,this[_0xbd3dda(0x1dd)]=_0x70245,this[_0xbd3dda(0x74a)]=_0x4f1bdc,this[_0xbd3dda(0xd5)][_0xbd3dda(0x9c8)]['registerSystemSource'](this),this[_0xbd3dda(0x622)]=new _0x131dc5(this[_0xbd3dda(0xd5)],this[_0xbd3dda(0x74a)]),this[_0xbd3dda(0xc3)]=new _0x3d0b25(this[_0xbd3dda(0xd5)],this[_0xbd3dda(0x1dd)]);}['registerSystemPublisher'](_0x5b4272){const _0xd90bd0=_0x2f335d;this[_0xd90bd0(0x57e)]=_0x5b4272;}[_0x2f335d(0x1f0)](){const _0x122a82=_0x2f335d;delete this[_0x122a82(0x57e)];}[_0x2f335d(0x476)](){const _0x2c158e=_0x2f335d;this['incomingManager'][_0x2c158e(0x476)](),this[_0x2c158e(0xc3)][_0x2c158e(0x476)](),this['configs']['mediator'][_0x2c158e(0x39e)](this);}[_0x2f335d(0x95)](_0x499f49,_0x47866a){const _0x16421d=_0x2f335d;this[_0x16421d(0x622)][_0x16421d(0x70b)](_0x499f49,_0x47866a);}['createOutgoingSubscription'](_0x7edc0a,_0x2d61b9){const _0x36e1b3=_0x2f335d;this[_0x36e1b3(0xc3)][_0x36e1b3(0x70b)](_0x7edc0a,_0x2d61b9);}[_0x2f335d(0x369)](_0x3a26ec,_0x129328,_0x327d93=''){const _0x16e8d6=_0x2f335d;this[_0x16e8d6(0x622)][_0x16e8d6(0x1ea)](_0x3a26ec,_0x129328,_0x327d93);}[_0x2f335d(0x64c)](_0x1d1e36,_0x5c2499,_0x183c80=''){const _0x41b597=_0x2f335d;try{this['outgoingManager'][_0x41b597(0x1ea)](_0x1d1e36,_0x5c2499,_0x183c80);}catch(_0x476f98){if(_0x476f98 instanceof _0x315451&&_0x476f98[_0x41b597(0x699)]===_0x315451[_0x41b597(0x600)][_0x41b597(0x7a7)])return;}}[_0x2f335d(0x5a7)](_0x27d7b6){const _0x147144=_0x2f335d;switch(_0x27d7b6[_0x147144(0x569)]['type']){case _0x207b64[_0x147144(0x9c7)]:this[_0x147144(0x98f)](_0x27d7b6[_0x147144(0x1cc)],_0x27d7b6[_0x147144(0x569)]);break;case _0x207b64[_0x147144(0x342)]:this['outgoingManager'][_0x147144(0x280)](_0x27d7b6['sourceId'],_0x27d7b6['content']);break;case _0x207b64[_0x147144(0x3e1)]:this[_0x147144(0x944)](_0x27d7b6[_0x147144(0x1cc)],_0x27d7b6['content']);break;case _0x207b64[_0x147144(0x7ed)]:this['incomingManager'][_0x147144(0x6e6)](_0x27d7b6[_0x147144(0x1cc)],_0x27d7b6['content']);break;case _0x207b64[_0x147144(0x7ba)]:case _0x207b64[_0x147144(0x306)]:this['incomingManager'][_0x147144(0x4c2)](_0x27d7b6[_0x147144(0x1cc)],_0x27d7b6[_0x147144(0x569)]);break;case _0x207b64['MediaStreamUnavailable']:this[_0x147144(0x622)]['handleSubscriptionMediaStreamUnavailable'](_0x27d7b6[_0x147144(0x1cc)],_0x27d7b6[_0x147144(0x569)]);}}[_0x2f335d(0x3df)](_0x1746a7){const _0x31ff8b=_0x2f335d;switch(_0x1746a7[_0x31ff8b(0x569)][_0x31ff8b(0x4e7)]){case _0x314d98[_0x31ff8b(0x2a2)]:this[_0x31ff8b(0x622)]['handleContentUnpublishMediaStream'](_0x1746a7[_0x31ff8b(0x569)]),this[_0x31ff8b(0xc3)][_0x31ff8b(0x77a)](_0x1746a7['content']);break;case _0x314d98[_0x31ff8b(0x9c7)]:this[_0x31ff8b(0x622)][_0x31ff8b(0x474)](_0x1746a7[_0x31ff8b(0x569)]);break;case _0x314d98[_0x31ff8b(0x431)]:this[_0x31ff8b(0x622)]['handleContentUpdateMediaStream'](_0x1746a7[_0x31ff8b(0x569)]);break;case _0x314d98[_0x31ff8b(0x342)]:this[_0x31ff8b(0x672)](_0x1746a7[_0x31ff8b(0x1cc)],_0x1746a7[_0x31ff8b(0x569)]);break;case _0x314d98['CloseMediaStream']:this[_0x31ff8b(0xc3)][_0x31ff8b(0x14d)](_0x1746a7[_0x31ff8b(0x569)]);break;case _0x314d98[_0x31ff8b(0x3b7)]:this[_0x31ff8b(0x611)](_0x1746a7[_0x31ff8b(0x569)]['label'],_0x47407f[_0x31ff8b(0x1e9)][_0x31ff8b(0x2f7)]);break;case _0x314d98[_0x31ff8b(0x50f)]:this['handleCloseContent'](_0x1746a7[_0x31ff8b(0x569)][_0x31ff8b(0x2b4)],_0x47407f[_0x31ff8b(0x1e9)][_0x31ff8b(0x806)]);break;case _0x314d98[_0x31ff8b(0xcf)]:this[_0x31ff8b(0x611)](_0x1746a7[_0x31ff8b(0x569)]['label'],_0x47407f[_0x31ff8b(0x1e9)][_0x31ff8b(0x42c)]);break;case _0x314d98[_0x31ff8b(0x308)]:this[_0x31ff8b(0x611)](_0x1746a7[_0x31ff8b(0x569)][_0x31ff8b(0x2b4)],_0x47407f[_0x31ff8b(0x1e9)]['KeyValueDatabase']);break;case _0x314d98['CloseVectorDatabase']:this[_0x31ff8b(0x611)](_0x1746a7[_0x31ff8b(0x569)][_0x31ff8b(0x2b4)],_0x47407f['ContentType'][_0x31ff8b(0x485)]);break;case _0x314d98['CloseGraphDatabase']:this[_0x31ff8b(0x611)](_0x1746a7[_0x31ff8b(0x569)][_0x31ff8b(0x2b4)],_0x47407f[_0x31ff8b(0x1e9)][_0x31ff8b(0x430)]);break;case _0x314d98['CloseJobDispatcher']:case _0x314d98[_0x31ff8b(0x579)]:this[_0x31ff8b(0x611)](_0x1746a7[_0x31ff8b(0x569)][_0x31ff8b(0x2b4)],_0x47407f[_0x31ff8b(0x1e9)][_0x31ff8b(0x387)]);break;case _0x314d98[_0x31ff8b(0x812)]:this['incomingManager'][_0x31ff8b(0x97e)](_0x1746a7[_0x31ff8b(0x569)]);}}[_0x2f335d(0x5c3)]({content:_0x208ce2}){const _0x5772d5=_0x2f335d;_0x208ce2[_0x5772d5(0x4e7)]===_0xfc2002[_0x5772d5(0x840)]&&this[_0x5772d5(0x9d5)](_0x208ce2);}[_0x2f335d(0x217)](_0x30be70){const _0x47d21e=_0x2f335d;_0x30be70[_0x47d21e(0x569)][_0x47d21e(0x4e7)]===_0x37a68d['OptimizationConnectionSuccess']&&this['incomingManager'][_0x47d21e(0x4b1)](_0x30be70[_0x47d21e(0x1cc)]);}[_0x2f335d(0x672)](_0x260617,_0x4ea88f){const _0x2e1524=_0x2f335d;this[_0x2e1524(0x622)]['handleContentUnsubscribeMediaStream'](_0x4ea88f),this[_0x2e1524(0xc3)]['handleContentUnsubscribeMediaStream'](_0x260617,_0x4ea88f)['forEach'](_0x6cd55b=>this[_0x2e1524(0x57e)][_0x2e1524(0x620)](_0x6cd55b));}[_0x2f335d(0x98f)](_0x1e1002,_0x3b4365){const _0x13d7bb=_0x2f335d,_0x1b4c9b=this[_0x13d7bb(0xc3)][_0x13d7bb(0x98f)](_0x1e1002,_0x3b4365);if(_0x1b4c9b&&(this[_0x13d7bb(0x57e)][_0x13d7bb(0x620)]({'sourceId':this[_0x13d7bb(0xd5)][_0x13d7bb(0x6c3)][_0x13d7bb(0x92c)](),'destinationIds':[_0x1e1002],'messageType':_0x4ba688['Subscription'],'content':_0x1b4c9b}),_0x1b4c9b[_0x13d7bb(0x4e7)]===_0x207b64[_0x13d7bb(0x7ed)]))throw new _0x2d51ec(_0x13d7bb(0x5df));}['handleSubscriptionNeedMediaStream'](_0x4e9bf9,_0xfb8dc3){const _0xf3c4be=_0x2f335d,_0x5c5d43=this[_0xf3c4be(0xc3)]['handleSubscriptionNeedMediaStream'](_0x4e9bf9,_0xfb8dc3);this['systemTopic'][_0xf3c4be(0x620)]({'sourceId':this[_0xf3c4be(0xd5)]['localNode']['getId'](),'destinationIds':[_0x4e9bf9],'messageType':_0x4ba688['Subscription'],'content':_0x5c5d43});}[_0x2f335d(0x611)](_0x12d301,_0x166ff9){const _0x1d1395=_0x2f335d;this[_0x1d1395(0x369)](_0x12d301,_0x166ff9),this[_0x1d1395(0x64c)](_0x12d301,_0x166ff9);}[_0x2f335d(0x9d5)]({id:_0x5c9c0e}){const _0x30d915=_0x2f335d;this[_0x30d915(0x622)]['removeSubscriptionsForNode'](_0x5c9c0e),this[_0x30d915(0xc3)]['removeSubscriptionsForNode'](_0x5c9c0e);}}class _0x5c2b33{[_0x2f335d(0x2b4)];['listener']=_0x390225();constructor(){const _0x22d89d=_0x2f335d;this[_0x22d89d(0x2b4)]=0x0;}[_0x2f335d(0x20c)](){return this['label'];}[_0x2f335d(0x8c7)](){const _0x5806f7=_0x2f335d;return _0x47407f[_0x5806f7(0x1e9)][_0x5806f7(0x433)];}['registerSource'](_0x36e8f1){_0x36e8f1['registerSystemPublisher'](this);}['unregisterSource'](_0x51fd9d){const _0x159081=_0x2f335d;_0x51fd9d[_0x159081(0x1f0)]();}[_0x2f335d(0x620)](_0x95727c){const _0x27e9f9=_0x2f335d;_0x5a023b[_0x27e9f9(0x6fb)](_0x4abdbe['Events'],_0x27e9f9(0x87a),_0x95727c[_0x27e9f9(0x1cc)],_0x95727c),this[_0x27e9f9(0x124)][_0x27e9f9(0x620)]({'topicLabel':this[_0x27e9f9(0x2b4)],'contentType':_0x47407f[_0x27e9f9(0x1e9)]['Data'],'uuid':_0x95727c[_0x27e9f9(0x57d)]??(0x0,_0x2d9acc['v4'])(),'recipients':_0x95727c[_0x27e9f9(0x749)]??[],..._0x95727c});}['subscribe'](_0x57ba7d){const _0x23e466=_0x2f335d;return this[_0x23e466(0x124)][_0x23e466(0x504)](_0x57ba7d);}}class _0x402b42{[_0x2f335d(0x7b2)];['ranges']=[];[_0x2f335d(0x972)];[_0x2f335d(0x940)]=new Map();[_0x2f335d(0x4dd)]=_0x390225();constructor(_0x3987df){const _0x381d1f=_0x2f335d;this[_0x381d1f(0x7b2)]=_0x3987df,this['maxLayer']=(this['options'][_0x381d1f(0x321)]-0x2*this['options']['minConnections'])/0x2,this['ranges'][_0x381d1f(0x6e4)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x117ecc=0x0;_0x117ecc<this[_0x381d1f(0x972)];++_0x117ecc)this[_0x381d1f(0x248)][_0x381d1f(0x6e4)]({'start':this[_0x381d1f(0x78a)](0x1,_0x117ecc+0x1),'end':this[_0x381d1f(0x78a)](0x1,_0x117ecc+0x2)-0x1});}[_0x2f335d(0x78a)](_0x401154,_0x1ee5bf=0x1){const _0x3f3035=_0x2f335d;let _0x1d25b7=this[_0x3f3035(0x7b2)][_0x3f3035(0x74a)]-this[_0x3f3035(0x7b2)][_0x3f3035(0x155)],_0x1726eb=0x1;for(let _0x366b33=0x1;_0x366b33<_0x1ee5bf;++_0x366b33)_0x1d25b7*=this[_0x3f3035(0x7b2)][_0x3f3035(0x74a)]-this[_0x3f3035(0x7b2)][_0x3f3035(0x155)]-_0x366b33,_0x1726eb*=this[_0x3f3035(0x7b2)]['maxDistance']-this[_0x3f3035(0x7b2)][_0x3f3035(0x155)]-_0x366b33+0x1;return _0x1d25b7*this[_0x3f3035(0x7b2)][_0x3f3035(0x155)]+_0x401154-_0x1726eb;}[_0x2f335d(0x33e)](_0x3c1707){const _0xb6a6f4=_0x2f335d;let _0x1b0731=0x0;for(;this[_0xb6a6f4(0x248)][_0x1b0731][_0xb6a6f4(0x72d)]<_0x3c1707;)_0x1b0731+=0x1;return _0x1b0731;}[_0x2f335d(0x3bb)](){const _0x7ecd46=_0x2f335d;return this[_0x7ecd46(0x7b2)][_0x7ecd46(0x155)];}[_0x2f335d(0xc5)](){const _0x521e2e=_0x2f335d;return this['options'][_0x521e2e(0x321)];}[_0x2f335d(0x9ad)](){const _0x1fd1f6=_0x2f335d;return this[_0x1fd1f6(0x7b2)][_0x1fd1f6(0x74a)];}[_0x2f335d(0x78e)](){return this['remoteNodes'];}[_0x2f335d(0x734)](_0x57b957,_0x594c97){const _0x33611d=_0x2f335d;this[_0x33611d(0x940)][_0x33611d(0x120)](_0x57b957,_0x594c97),this[_0x33611d(0x4dd)][_0x33611d(0x620)]();}[_0x2f335d(0x41c)](_0x3808a4){const _0x5bc50e=_0x2f335d;this['remoteNodes']['delete'](_0x3808a4),this['nodeUpdate'][_0x5bc50e(0x620)]();}[_0x2f335d(0x54e)](_0x3d19e0){const _0x2cf659=_0x2f335d;return this[_0x2cf659(0x940)][_0x2cf659(0x627)](_0x3d19e0);}['getRemoteNode'](_0x4ad404){const _0x284775=_0x2f335d;return this[_0x284775(0x940)][_0x284775(0x389)](_0x4ad404);}[_0x2f335d(0x616)](_0x32dff5,_0x41b061){const _0x20f720=_0x2f335d,_0x339e43=this['getRemoteNode'](_0x41b061)?.[_0x20f720(0x659)]()??0x0;return _0x32dff5['map'](_0x121757=>this[_0x20f720(0xa3)](_0x121757))[_0x20f720(0x379)](_0x46fa79=>void 0x0!==_0x46fa79)[_0x20f720(0x991)]((_0x566d38,_0x183018)=>Math[_0x20f720(0x4ff)](_0x339e43-(_0x566d38&&_0x566d38[_0x20f720(0x659)]()||0x1/0x0))-Math[_0x20f720(0x4ff)](_0x339e43-(_0x183018&&_0x183018['getRank']()||0x1/0x0)))[_0x20f720(0x3cd)](_0x3d4b17=>_0x3d4b17[_0x20f720(0x92c)]());}[_0x2f335d(0x6cf)](_0x363c83){const _0x30a197=_0x2f335d;return this['nodeUpdate'][_0x30a197(0x504)](_0x363c83);}}class _0x1d4441{[_0x2f335d(0xa5)];[_0x2f335d(0x49c)];[_0x2f335d(0x21e)];['authService'];[_0x2f335d(0x7b2)];[_0x2f335d(0xd5)];[_0x2f335d(0x4f0)];[_0x2f335d(0x1b6)];[_0x2f335d(0x271)];[_0x2f335d(0x5a5)];[_0x2f335d(0x278)];['detectionManager'];[_0x2f335d(0x493)];[_0x2f335d(0xbf)];[_0x2f335d(0x7b4)];[_0x2f335d(0x57e)]=new _0x5c2b33();[_0x2f335d(0x57f)];[_0x2f335d(0x6c3)];constructor(_0x54aabe,_0x135797,_0x579cf4,_0x369bf7,_0x2ac2fb,_0x4295d6,_0x5647ca){const _0x2d6205=_0x2f335d;switch(this['vendorId']=_0x54aabe,this[_0x2d6205(0x49c)]=_0x135797,this[_0x2d6205(0x21e)]=_0x579cf4,this['authService']=_0x369bf7,this['options']=_0x2ac2fb,this[_0x2d6205(0xd5)]=_0x4295d6,this[_0x2d6205(0x4f0)]=_0x5647ca,_0x579cf4[_0x2d6205(0x4e7)]){case _0x47407f[_0x2d6205(0x1b2)][_0x2d6205(0x8c2)]:this[_0x2d6205(0x6c3)]=new _0x4fd218(_0x579cf4[_0x2d6205(0x92c)](),_0x579cf4[_0x2d6205(0x15c)](),_0x579cf4[_0x2d6205(0x310)]());break;case _0x47407f[_0x2d6205(0x1b2)][_0x2d6205(0x5e0)]:default:this['localNode']=new _0x30f2a3(_0x579cf4[_0x2d6205(0x92c)]());}const _0x3fbd74=this[_0x2d6205(0x6dd)]();this[_0x2d6205(0x7b4)]=new _0x402b42(this[_0x2d6205(0x7b2)]),this[_0x2d6205(0x1b6)]=new _0x535064(_0x3fbd74,this[_0x2d6205(0x7b2)],this['configs']['searchApiKey'],this['configs']['aiSearchApiKey']),this[_0x2d6205(0x271)]=new _0x545d8d(_0x3fbd74,this[_0x2d6205(0x4f5)],this[_0x2d6205(0x7b4)],this[_0x2d6205(0xd5)][_0x2d6205(0x6d2)],this['options']),this[_0x2d6205(0x5a5)]=new _0x416a2d(_0x3fbd74,this[_0x2d6205(0x7b2)][_0x2d6205(0x1dd)],this[_0x2d6205(0x7b4)]['getMaxDistance']()),this[_0x2d6205(0x278)]=new _0x41aabf(_0x3fbd74),this[_0x2d6205(0x385)]=new _0x34314b(_0x3fbd74),this[_0x2d6205(0x493)]=new _0xe799b5(_0x3fbd74),this['nodeManager']=new _0x8bc427(_0x3fbd74,this[_0x2d6205(0x7b4)]),this[_0x2d6205(0x57f)]=this[_0x2d6205(0x67a)]();}['open'](){const _0x106057=_0x2f335d,_0x525e83=this[_0x106057(0x6dd)]();this[_0x106057(0x271)]=new _0x545d8d(_0x525e83,this[_0x106057(0x4f5)],this[_0x106057(0x7b4)],this[_0x106057(0xd5)][_0x106057(0x6d2)],this[_0x106057(0x7b2)]),this[_0x106057(0x5a5)]=new _0x416a2d(_0x525e83,this[_0x106057(0x7b2)][_0x106057(0x1dd)],this['graphService'][_0x106057(0x9ad)]()),this['statsManager']=new _0x41aabf(_0x525e83),this[_0x106057(0x385)]=new _0x34314b(_0x525e83),this[_0x106057(0x493)]=new _0xe799b5(_0x525e83),this['nodeManager']=new _0x8bc427(_0x525e83,this['graphService']);const _0x4ad5b2=this[_0x106057(0x271)]['getConnectionGroup']();this[_0x106057(0x1b6)]['getPubSubTopics']()[_0x106057(0x82f)](_0x498fd5=>{const _0x4edc9c=_0x106057;this['subscriptionManager'][_0x4edc9c(0x5a6)](_0x498fd5,_0x4ad5b2),this[_0x4edc9c(0x5a5)][_0x4edc9c(0x95)](_0x4ad5b2,_0x498fd5),_0x498fd5[_0x4edc9c(0x2fe)]();}),this[_0x106057(0x1b6)][_0x106057(0x673)]()[_0x106057(0x82f)](_0x48deca=>{const _0x4382a2=_0x106057;this[_0x4382a2(0x5a5)]['createOutgoingSubscription'](_0x48deca,_0x4ad5b2),this[_0x4382a2(0x5a5)][_0x4382a2(0x95)](_0x4ad5b2,_0x48deca),_0x48deca[_0x4382a2(0x2fe)](),_0x48deca['sync']();}),this['contentManager']['getKeyValueDatabases']()[_0x106057(0x82f)](_0x2b72fe=>{const _0x3d7c6a=_0x106057;this[_0x3d7c6a(0x5a5)][_0x3d7c6a(0x5a6)](_0x2b72fe,_0x4ad5b2),this[_0x3d7c6a(0x5a5)][_0x3d7c6a(0x95)](_0x4ad5b2,_0x2b72fe),_0x2b72fe[_0x3d7c6a(0x2fe)](),this[_0x3d7c6a(0x89f)](_0x2b72fe);}),this['contentManager']['getJobDispatchers']()[_0x106057(0x82f)](_0x5041a0=>{const _0x4bcf94=_0x106057;this[_0x4bcf94(0x5a5)][_0x4bcf94(0x5a6)](_0x5041a0,_0x4ad5b2),this[_0x4bcf94(0x5a5)][_0x4bcf94(0x95)](_0x4ad5b2,_0x5041a0),_0x5041a0[_0x4bcf94(0x2fe)]();}),this['contentManager'][_0x106057(0x6d6)]()[_0x106057(0x82f)](_0x44a5d7=>{const _0x2134b6=_0x106057;this['subscriptionManager'][_0x2134b6(0x5a6)](_0x44a5d7,_0x4ad5b2),this[_0x2134b6(0x5a5)][_0x2134b6(0x95)](_0x4ad5b2,_0x44a5d7),_0x44a5d7['reset']();}),this['contentManager'][_0x106057(0x807)]()['forEach'](_0x5c1631=>{const _0x10aecf=_0x106057;this[_0x10aecf(0x5a5)][_0x10aecf(0x5a6)](_0x5c1631,_0x4ad5b2),this[_0x10aecf(0x5a5)]['createIncomingSubscription'](_0x4ad5b2,_0x5c1631),_0x5c1631[_0x10aecf(0x2fe)]();}),this[_0x106057(0x1b6)][_0x106057(0x630)]()[_0x106057(0x82f)](_0xde27c4=>{const _0x23e23a=_0x106057;this['subscriptionManager']['createOutgoingSubscription'](_0xde27c4,_0x4ad5b2),this[_0x23e23a(0x5a5)]['createIncomingSubscription'](_0x4ad5b2,_0xde27c4),_0xde27c4[_0x23e23a(0x2fe)]();}),this[_0x106057(0x57f)]=this[_0x106057(0x67a)]();}[_0x2f335d(0x8d9)](_0x29cff3){const _0x448715=_0x2f335d;try{this[_0x448715(0x57e)][_0x448715(0x7b3)](_0x29cff3);}catch(_0x2a1f7d){this[_0x448715(0x6f5)](_0x2a1f7d,{});}}['unregisterSystemSource'](_0x49d744){const _0x297b0b=_0x2f335d;try{this[_0x297b0b(0x57e)][_0x297b0b(0x338)](_0x49d744);}catch(_0x249a3f){this[_0x297b0b(0x6f5)](_0x249a3f,{});}}[_0x2f335d(0x8a2)](_0x605117,_0xca38f6){const _0x357ce2=_0x2f335d;return this[_0x357ce2(0x271)]['createConnection'](_0x605117,_0xca38f6);}[_0x2f335d(0x9de)](_0x2dbe20){const _0x2b6122=_0x2f335d;try{return this[_0x2b6122(0x271)]['getConnection'](_0x2dbe20);}catch(_0x1cc55b){throw this[_0x2b6122(0x6f5)](_0x1cc55b,{});}}[_0x2f335d(0x28b)](_0xba28ac){const _0xd2b5d8=_0x2f335d;try{return this[_0xd2b5d8(0x271)][_0xd2b5d8(0x28b)](_0xba28ac);}catch(_0x881b1a){throw this['handleError'](_0x881b1a,{});}}[_0x2f335d(0x1ca)](_0x1a7ce9,_0x2949af){const _0x3bfa9a=_0x2f335d;try{return this[_0x3bfa9a(0x1b6)][_0x3bfa9a(0x287)](_0x4f6d25=>_0x4f6d25['getOwnerId']()===_0x1a7ce9&&_0x4f6d25['getLabel']()===_0x2949af)[0x0];}catch(_0x3289c0){throw this[_0x3bfa9a(0x6f5)](_0x3289c0,{});}}[_0x2f335d(0x44d)](_0x13d733){const _0x8717ba=_0x2f335d;try{return this['contentManager']['getLocalMediaStreams'](_0x40e55e=>_0x40e55e[_0x8717ba(0x20c)]()===_0x13d733)[0x0];}catch(_0x1e4467){throw this[_0x8717ba(0x6f5)](_0x1e4467,{});}}[_0x2f335d(0x984)]=(..._0x9e15a)=>{const _0x3bb2a6=_0x2f335d;try{return this[_0x3bb2a6(0x4f0)][_0x3bb2a6(0x336)](..._0x9e15a);}catch(_0x44fd12){throw this[_0x3bb2a6(0x6f5)](_0x44fd12,{});}};['registerRemoteNode'](_0x139e19){const _0x33e796=_0x2f335d;try{this[_0x33e796(0x278)][_0x33e796(0xa1)](_0x139e19);}catch(_0x11fd05){throw this[_0x33e796(0x6f5)](_0x11fd05,{});}}[_0x2f335d(0x260)](_0x146932){const _0x2ca227=_0x2f335d;try{this[_0x2ca227(0x278)][_0x2ca227(0x62e)](_0x146932);}catch(_0x4c4d60){throw this[_0x2ca227(0x6f5)](_0x4c4d60,{});}}[_0x2f335d(0x866)](_0x3218f8){const _0x5246ff=_0x2f335d;return this[_0x5246ff(0x271)][_0x5246ff(0x866)](_0x3218f8);}async[_0x2f335d(0x8f7)](){const _0x16e500=_0x2f335d;try{await this[_0x16e500(0x271)]['initialize']();const _0x470f11=await this[_0x16e500(0xbf)][_0x16e500(0x9a4)]();for(const _0x296c59 of _0x470f11)this[_0x16e500(0x271)]['createConnection'](_0x296c59);}catch(_0x587e51){throw this[_0x16e500(0x6f5)](_0x587e51,{});}}[_0x2f335d(0x4f3)](_0x6d3341){const _0x1ca2c5=_0x2f335d;this[_0x1ca2c5(0x6c3)][_0x1ca2c5(0x4e7)]===_0x47407f[_0x1ca2c5(0x1b2)][_0x1ca2c5(0x8c2)]&&(this[_0x1ca2c5(0x6c3)][_0x1ca2c5(0x4cf)](_0x6d3341[_0x1ca2c5(0x310)]()),this[_0x1ca2c5(0x6c3)][_0x1ca2c5(0x936)](_0x6d3341[_0x1ca2c5(0x15c)]()));}[_0x2f335d(0x476)]({force:_0x3e3108=!0x1},_0x255294=!0x1){const _0x2273a1=_0x2f335d;if(_0x5a023b[_0x2273a1(0x80f)](_0x2273a1(0x335),{'clusterId':this['clusterId'],'nodeId':this[_0x2273a1(0x6c3)][_0x2273a1(0x92c)](),'nodeType':this[_0x2273a1(0x6c3)]['type']}),!_0x3e3108&&this[_0x2273a1(0x271)][_0x2273a1(0x451)]())throw new _0x194c78(_0x2e40c3['ConnectionBufferNotEmpty'],_0x2273a1(0x7f7));_0x5a023b[_0x2273a1(0x98a)](),this[_0x2273a1(0x57f)](),this[_0x2273a1(0x493)][_0x2273a1(0x476)](),this[_0x2273a1(0x385)][_0x2273a1(0x476)](),this[_0x2273a1(0x278)][_0x2273a1(0x476)](),this[_0x2273a1(0x5a5)][_0x2273a1(0x476)](),this[_0x2273a1(0x271)]['close'](),this[_0x2273a1(0x1b6)][_0x2273a1(0x476)](_0x255294),this['nodeManager'][_0x2273a1(0x476)]();}[_0x2f335d(0x3bd)](_0x5a20f5){const _0x5c24b6=_0x2f335d;try{const _0x405eb3=this[_0x5c24b6(0x1b6)][_0x5c24b6(0x324)](_0x5a20f5),_0x33aaa3=this['connectionManager'][_0x5c24b6(0x562)]();return this[_0x5c24b6(0x5a5)][_0x5c24b6(0x5a6)](_0x405eb3,_0x33aaa3),this[_0x5c24b6(0x5a5)][_0x5c24b6(0x95)](_0x33aaa3,_0x405eb3),_0x405eb3;}catch(_0x9ab25e){throw this[_0x5c24b6(0x6f5)](_0x9ab25e,{});}}async[_0x2f335d(0x844)](_0xfd3dd0,_0x58e510){const _0x587e91=_0x2f335d;try{const _0x338924=this[_0x587e91(0x1b6)][_0x587e91(0xdf)](_0xfd3dd0,this[_0x587e91(0x7b2)][_0x587e91(0x4af)],_0x58e510),_0x75e6b5=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager'][_0x587e91(0x5a6)](_0x338924,_0x75e6b5),this[_0x587e91(0x5a5)][_0x587e91(0x95)](_0x75e6b5,_0x338924),await _0x338924[_0x587e91(0x440)](),_0x338924;}catch(_0x162d82){throw this[_0x587e91(0x6f5)](_0x162d82,{});}}async[_0x2f335d(0x847)](_0x348c7e,_0x388717){const _0x4df484=_0x2f335d;try{if(!this['options']['externalStorageConnectors'])throw new _0x194c78(_0x2e40c3[_0x4df484(0x729)],'Missing\x20external\x20storage\x20connector');if(!(this[_0x4df484(0x21e)]instanceof _0x1904f8))throw new _0x194c78(_0x2e40c3[_0x4df484(0x2ba)],_0x4df484(0x64f));const _0x4563fa=this[_0x4df484(0x7b2)][_0x4df484(0x9ce)]['get'](_0x388717);if(!_0x4563fa)throw new _0x194c78(_0x2e40c3[_0x4df484(0x729)],_0x4df484(0x458));const _0xcc8ecc=this[_0x4df484(0x1b6)][_0x4df484(0x6dc)](_0x348c7e,_0x4563fa),_0x5e3798=this['connectionManager'][_0x4df484(0x562)]();return this[_0x4df484(0x5a5)][_0x4df484(0x5a6)](_0xcc8ecc,_0x5e3798),this['subscriptionManager'][_0x4df484(0x95)](_0x5e3798,_0xcc8ecc),await _0xcc8ecc[_0x4df484(0x8d6)](),_0xcc8ecc;}catch(_0x4baa3d){throw this[_0x4df484(0x6f5)](_0x4baa3d,{});}}async['openKeyValueDatabase'](_0x2004ea,_0x5a04df,_0x3fb543){const _0x43f802=_0x2f335d;try{_0x3fb543=_0x3fb543||this[_0x43f802(0x7b2)]['keyValueDatabaseConnector'];const _0x4e9d61=await this[_0x43f802(0x1b6)]['createKeyValueDatabase'](_0x2004ea,_0x5a04df,_0x3fb543),_0x1a7753=this[_0x43f802(0x271)][_0x43f802(0x562)]();return this[_0x43f802(0x5a5)][_0x43f802(0x5a6)](_0x4e9d61,_0x1a7753),this[_0x43f802(0x5a5)]['createIncomingSubscription'](_0x1a7753,_0x4e9d61),await _0x4e9d61['open'](),this[_0x43f802(0x89f)](_0x4e9d61),_0x4e9d61;}catch(_0x5a3e13){throw this[_0x43f802(0x6f5)](_0x5a3e13,{});}}async[_0x2f335d(0x676)](_0x3c0d38){const _0x5f12dc=_0x2f335d;try{const _0x4ac1ac=await this[_0x5f12dc(0x1b6)][_0x5f12dc(0xee)](_0x3c0d38,this[_0x5f12dc(0x7b4)]),_0x4dcdd7=this[_0x5f12dc(0x271)][_0x5f12dc(0x562)]();return this['subscriptionManager'][_0x5f12dc(0x5a6)](_0x4ac1ac,_0x4dcdd7),this[_0x5f12dc(0x5a5)]['createIncomingSubscription'](_0x4dcdd7,_0x4ac1ac),_0x4ac1ac[_0x5f12dc(0x8d6)](),_0x4ac1ac;}catch(_0x7cde54){throw this[_0x5f12dc(0x6f5)](_0x7cde54,{});}}async[_0x2f335d(0x917)](_0x15e795){const _0x51e285=_0x2f335d;throw new Error(_0x51e285(0x2f6));}async['openGenerativeAIContext'](_0x2df573){const _0x530bcc=_0x2f335d;try{const _0x530a16=await this[_0x530bcc(0x1b6)]['createGenerativeAIContext'](_0x2df573,this[_0x530bcc(0x7b4)]),_0x4182df=this[_0x530bcc(0x271)][_0x530bcc(0x562)]();return this[_0x530bcc(0x5a5)][_0x530bcc(0x5a6)](_0x530a16,_0x4182df),this[_0x530bcc(0x5a5)][_0x530bcc(0x95)](_0x4182df,_0x530a16),_0x530a16[_0x530bcc(0x8d6)](),_0x530a16;}catch(_0x1d4145){throw console['error'](_0x1d4145),this[_0x530bcc(0x6f5)](_0x1d4145,{});}}async[_0x2f335d(0x31e)](_0xfdabe3){const _0xb64fbd=_0x2f335d;try{if(!this[_0xb64fbd(0x7b2)][_0xb64fbd(0x2a4)]||!this[_0xb64fbd(0x7b2)]['documentParserConnector']||!this[_0xb64fbd(0x7b2)][_0xb64fbd(0x265)])throw new _0x194c78(_0x2e40c3[_0xb64fbd(0x1b5)],_0xb64fbd(0x801));if(!(this[_0xb64fbd(0x21e)]instanceof _0x1904f8))throw new _0x194c78(_0x2e40c3[_0xb64fbd(0x2ba)],_0xb64fbd(0x64f));const _0x49eac=[];for(const _0x1ad4de of this[_0xb64fbd(0x7b2)][_0xb64fbd(0x2a4)])_0x49eac[_0xb64fbd(0x6e4)](new _0x1ad4de());const _0x49a4dd=new this['options'][(_0xb64fbd(0x601))](),_0x2101d8=new this['options']['nlpLibraryConnector']();let _0x127575,_0x1936f7,_0x2d2f43;this['options'][_0xb64fbd(0x642)]&&(_0x127575=new this['options'][(_0xb64fbd(0x642))]()),this[_0xb64fbd(0x7b2)][_0xb64fbd(0x889)]&&(_0x1936f7=new this[(_0xb64fbd(0x7b2))][(_0xb64fbd(0x889))]()),this[_0xb64fbd(0x7b2)][_0xb64fbd(0x8a3)]&&(_0x2d2f43=new this[(_0xb64fbd(0x7b2))][(_0xb64fbd(0x8a3))]());const _0x1319f5=await this[_0xb64fbd(0x1b6)][_0xb64fbd(0x2cd)](_0xfdabe3,this[_0xb64fbd(0x21e)],_0x49eac,_0x49a4dd,_0x2101d8,_0x127575,_0x1936f7,_0x2d2f43),_0x2716ed=this[_0xb64fbd(0x271)]['getConnectionGroup']();this[_0xb64fbd(0x5a5)][_0xb64fbd(0x5a6)](_0x1319f5,_0x2716ed),this[_0xb64fbd(0x5a5)]['createIncomingSubscription'](_0x2716ed,_0x1319f5);const _0x4c2d81=this[_0xb64fbd(0xbf)][_0xb64fbd(0x4d7)]();return await _0x1319f5['open'](0x0===_0x4c2d81[_0xb64fbd(0x39c)]||void 0x0),_0x1319f5;}catch(_0x5411f6){throw this['handleError'](_0x5411f6,{});}}[_0x2f335d(0x331)](_0xfb0189){const _0x29048d=_0x2f335d;try{if(!this['options'][_0x29048d(0x1c7)])throw new _0x194c78(_0x2e40c3[_0x29048d(0x1a2)],_0x29048d(0x4ed));if(!(this[_0x29048d(0x21e)]instanceof _0x1904f8))throw new _0x194c78(_0x2e40c3[_0x29048d(0x2ba)],_0x29048d(0x64f));const _0x48567c=this['contentManager'][_0x29048d(0x373)](_0xfb0189,this['options'][_0x29048d(0x1c7)]),_0x5a6390=this['connectionManager']['getConnectionGroup']();return this[_0x29048d(0x5a5)]['createOutgoingSubscription'](_0x48567c,_0x5a6390),this[_0x29048d(0x5a5)][_0x29048d(0x95)](_0x5a6390,_0x48567c),_0x48567c;}catch(_0x565937){throw this[_0x29048d(0x6f5)](_0x565937,{});}}[_0x2f335d(0x115)](_0x21a700){const _0x808f05=_0x2f335d;try{if(!this[_0x808f05(0x7b2)][_0x808f05(0x19b)])throw new _0x194c78(_0x2e40c3['VectorDatabaseMissingConnector'],_0x808f05(0x105));if(!(this[_0x808f05(0x21e)]instanceof _0x1904f8))throw new _0x194c78(_0x2e40c3['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x1a180b=this[_0x808f05(0x1b6)][_0x808f05(0x2e0)](_0x21a700,this[_0x808f05(0x7b2)]['vectorDatabaseConnector']),_0x17e43b=this[_0x808f05(0x271)][_0x808f05(0x562)]();return this[_0x808f05(0x5a5)][_0x808f05(0x5a6)](_0x1a180b,_0x17e43b),this[_0x808f05(0x5a5)]['createIncomingSubscription'](_0x17e43b,_0x1a180b),_0x1a180b;}catch(_0x2f7e6d){throw this[_0x808f05(0x6f5)](_0x2f7e6d,{});}}[_0x2f335d(0x515)](_0x274ff2){const _0x43d655=_0x2f335d;try{return this[_0x43d655(0x1b6)]['getPubSubTopics'](_0x274ff2);}catch(_0x6b7032){throw this['handleError'](_0x6b7032,{});}}[_0x2f335d(0x673)](_0x1c3eb7){const _0x3dbbb5=_0x2f335d;try{return this[_0x3dbbb5(0x1b6)]['getObjectStoreBuckets'](_0x1c3eb7);}catch(_0xf8d264){throw this['handleError'](_0xf8d264,{});}}[_0x2f335d(0x6a7)](_0x150d97){const _0x408e4b=_0x2f335d;try{return this[_0x408e4b(0x1b6)][_0x408e4b(0x6a7)](_0x150d97);}catch(_0x1feebe){throw this[_0x408e4b(0x6f5)](_0x1feebe,{});}}[_0x2f335d(0x5ec)](_0x224371){const _0x3f1fee=_0x2f335d;try{return this['contentManager'][_0x3f1fee(0x5ec)](_0x224371);}catch(_0x332b6c){throw this[_0x3f1fee(0x6f5)](_0x332b6c,{});}}[_0x2f335d(0x4aa)](_0x5b9b54){const _0x1dbaef=_0x2f335d;try{return this[_0x1dbaef(0x1b6)][_0x1dbaef(0x4aa)](_0x5b9b54);}catch(_0x3d1848){throw this[_0x1dbaef(0x6f5)](_0x3d1848,{});}}[_0x2f335d(0x372)](_0x50b7f3){const _0x1a291c=_0x2f335d;try{return this['contentManager'][_0x1a291c(0x372)](_0x50b7f3);}catch(_0x6d9553){throw this[_0x1a291c(0x6f5)](_0x6d9553,{});}}['getGraphDatabases'](_0x2caf33){const _0x29dfb3=_0x2f335d;try{return this[_0x29dfb3(0x1b6)][_0x29dfb3(0x630)](_0x2caf33);}catch(_0x256d4a){throw this['handleError'](_0x256d4a,{});}}[_0x2f335d(0x337)](_0x3eb20b,_0x595b98){const _0x3791fa=_0x2f335d;if(!this['configs'][_0x3791fa(0x91a)][_0x3791fa(0x4a7)](_0x250754[_0x3791fa(0x928)]))throw new _0x194c78(_0x2e40c3[_0x3791fa(0x596)],_0x3791fa(0x466));try{return this[_0x3791fa(0x1b6)][_0x3791fa(0x337)](_0x3eb20b,_0x595b98);}catch(_0x3211a6){throw this['handleError'](_0x3211a6,{});}}[_0x2f335d(0x386)](_0x530613,_0xe95b8){const _0x5e9eba=_0x2f335d;if(!this['configs'][_0x5e9eba(0x91a)][_0x5e9eba(0x4a7)](_0x250754['MediaStream']))throw new _0x194c78(_0x2e40c3[_0x5e9eba(0x596)],_0x5e9eba(0x466));try{return this[_0x5e9eba(0x1b6)][_0x5e9eba(0x386)](_0x530613,_0xe95b8);}catch(_0x3f1b82){throw this[_0x5e9eba(0x6f5)](_0x3f1b82,{});}}[_0x2f335d(0x81a)](_0x1b885a){const _0x59d5fb=_0x2f335d;if(!this['configs'][_0x59d5fb(0x91a)][_0x59d5fb(0x4a7)](_0x250754[_0x59d5fb(0x928)]))throw new _0x194c78(_0x2e40c3['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x59d5fb(0x81a)](_0x1b885a);}catch(_0x91fec1){throw this[_0x59d5fb(0x6f5)](_0x91fec1,{});}}['getRemoteMediaStreams'](_0x8b5dc8){const _0x4829bd=_0x2f335d;if(!this['configs'][_0x4829bd(0x91a)][_0x4829bd(0x4a7)](_0x250754[_0x4829bd(0x928)]))throw new _0x194c78(_0x2e40c3[_0x4829bd(0x596)],_0x4829bd(0x466));try{return this[_0x4829bd(0x1b6)][_0x4829bd(0x287)](_0x8b5dc8);}catch(_0x4f80f1){throw this['handleError'](_0x4f80f1,{});}}[_0x2f335d(0x807)](_0x35d1cf){const _0x554f97=_0x2f335d;try{return this[_0x554f97(0x1b6)]['getVectorDatabases'](_0x35d1cf);}catch(_0x4f0c23){throw this['handleError'](_0x4f0c23,{});}}[_0x2f335d(0x759)](_0x1d183a,_0x436846){const _0x1d2fcb=_0x2f335d;return this[_0x1d2fcb(0xbf)][_0x1d2fcb(0x759)](_0x1d183a,_0x436846);}[_0x2f335d(0x2ed)](){const _0x51b31d=_0x2f335d;return this['nodeManager'][_0x51b31d(0x2ed)]();}['getRemoteNodes'](_0x3141d3){const _0x31e6ff=_0x2f335d;try{return this[_0x31e6ff(0xbf)][_0x31e6ff(0x78e)](_0x3141d3);}catch(_0x42110d){throw this['handleError'](_0x42110d,{});}}['waitForArrayBufferSize'](){const _0x6865c=_0x2f335d;return this[_0x6865c(0x271)][_0x6865c(0x5e2)]();}[_0x2f335d(0x5e6)](_0x42ebc4){const _0x4ca643=_0x2f335d;return this[_0x4ca643(0xbf)][_0x4ca643(0x5e6)](_0x42ebc4);}async[_0x2f335d(0x9b7)](_0x4e4e3b){const _0x6702c3=_0x2f335d;try{if(_0x5a023b[_0x6702c3(0x6fb)](_0x4abdbe[_0x6702c3(0x23c)],_0x6702c3(0x43e),this['nodeManager']['getLocalId'](),_0x4e4e3b),_0x46621d(_0x4e4e3b,this[_0x6702c3(0xbf)][_0x6702c3(0x871)]()))return void this[_0x6702c3(0x271)]['handleOutgoingSystemEvents'](_0x4e4e3b);switch(_0x4e4e3b[_0x6702c3(0x8ac)]){case _0x4ba688[_0x6702c3(0x109)]:this['statsManager'][_0x6702c3(0x3df)](_0x4e4e3b),this[_0x6702c3(0x5a5)][_0x6702c3(0x3df)](_0x4e4e3b),this[_0x6702c3(0x1b6)][_0x6702c3(0x3df)](_0x4e4e3b);break;case _0x4ba688[_0x6702c3(0x3f3)]:this[_0x6702c3(0x5a5)][_0x6702c3(0x5c3)](_0x4e4e3b),this[_0x6702c3(0x271)][_0x6702c3(0x5c3)](_0x4e4e3b),this[_0x6702c3(0x1b6)][_0x6702c3(0x5c3)](_0x4e4e3b),this['nodeManager'][_0x6702c3(0x5c3)](_0x4e4e3b);break;case _0x4ba688[_0x6702c3(0x7de)]:this[_0x6702c3(0x493)][_0x6702c3(0x320)](_0x4e4e3b);break;case _0x4ba688[_0x6702c3(0x9dd)]:this[_0x6702c3(0x493)][_0x6702c3(0x4fd)](_0x4e4e3b);break;case _0x4ba688[_0x6702c3(0x49a)]:this[_0x6702c3(0x385)][_0x6702c3(0x402)](_0x4e4e3b);break;case _0x4ba688[_0x6702c3(0x378)]:_0x4e4e3b['content'][_0x6702c3(0x4e7)]!==_0x207b64['UnsubscribeMediaStream']?(this[_0x6702c3(0x5a5)]['handleSubscriptionSystemEvents'](_0x4e4e3b),this[_0x6702c3(0x1b6)][_0x6702c3(0x5a7)](_0x4e4e3b)):(this[_0x6702c3(0x1b6)]['handleSubscriptionSystemEvents'](_0x4e4e3b),this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x4e4e3b));break;case _0x4ba688['PeerConnection']:await this['connectionManager']['handlePeerConnectionSystemEvents'](_0x4e4e3b),this[_0x6702c3(0x278)]['handlePeerConnectionSystemEvents'](_0x4e4e3b),this[_0x6702c3(0xbf)][_0x6702c3(0x217)](_0x4e4e3b),this[_0x6702c3(0x5a5)][_0x6702c3(0x217)](_0x4e4e3b);}}catch(_0x151ee0){throw _0x5a023b[_0x6702c3(0x7e5)](_0x6702c3(0x9b7),_0x151ee0),this[_0x6702c3(0x6f5)](_0x151ee0,{});}}[_0x2f335d(0x6f5)](_0x1ced09,_0x115ca6){const _0x34d995=_0x2f335d;if(!(_0x1ced09 instanceof _0x2d51ec)){if(_0x1ced09 instanceof _0x194c78)throw _0x1ced09;if(!(_0x1ced09 instanceof Error))throw new _0x194c78(_0x2e40c3[_0x34d995(0x943)],_0x34d995(0x2ff)+_0x1ced09);if(!(_0x1ced09 instanceof _0x315451))throw new _0x194c78(_0x2e40c3[_0x34d995(0x943)],_0x34d995(0x363)+_0x1ced09[_0x34d995(0x3bf)]);switch(_0x1ced09[_0x34d995(0x699)]){case _0x315451[_0x34d995(0x600)][_0x34d995(0x8c3)]:case _0x315451[_0x34d995(0x600)][_0x34d995(0x54f)]:case _0x315451['codes']['PeerConnectionInvalidDestination']:case _0x315451[_0x34d995(0x600)][_0x34d995(0x3b6)]:case _0x315451[_0x34d995(0x600)][_0x34d995(0x12f)]:case _0x315451['codes'][_0x34d995(0x7ee)]:case _0x315451[_0x34d995(0x600)][_0x34d995(0x5f0)]:case _0x315451['codes'][_0x34d995(0x873)]:case _0x315451[_0x34d995(0x600)]['SubscriptionRequestDoesNotExist']:case _0x315451['codes']['SubscriptionRequestFailed']:case _0x315451[_0x34d995(0x600)]['SubscriptionRequestNoAnswer']:case _0x315451[_0x34d995(0x600)][_0x34d995(0x7a7)]:}throw _0x5a023b[_0x34d995(0x646)](_0x34d995(0x4bd)+_0x1ced09[_0x34d995(0x3bf)],{'clusterId':this[_0x34d995(0x49c)],'nodeId':this[_0x34d995(0x6c3)][_0x34d995(0x92c)](),'nodeType':this[_0x34d995(0x6c3)][_0x34d995(0x4e7)]},_0x1ced09),new _0x194c78(_0x2e40c3[_0x34d995(0x943)],'Internal\x20SDK\x20error:\x20'+_0x1ced09[_0x34d995(0x3bf)]);}}[_0x2f335d(0x6dd)](){const _0x9e2f42=_0x2f335d;return{'mediator':this,'vendorId':this[_0x9e2f42(0xa5)],'clusterId':this['clusterId'],'localNode':this[_0x9e2f42(0x6c3)]};}['initializeSystemTopic'](){const _0xb0b96=_0x2f335d;return this[_0xb0b96(0x57e)][_0xb0b96(0x504)](_0x4b555f=>{const _0x148864=_0xb0b96,_0x1e3dcc=_0x40388b(_0x4b555f,this['localNode']['getId']()),_0x52587f=_0x4b555f[_0x148864(0x8ac)]===_0x4ba688[_0x148864(0x49a)]||_0x4b555f[_0x148864(0x8ac)]===_0x4ba688[_0x148864(0x771)]&&_0x4b555f[_0x148864(0x569)][_0x148864(0x4e7)]===_0x37a68d[_0x148864(0x49a)]?_0x4abdbe['SystemStats']:_0x4abdbe[_0x148864(0x103)];_0x5a023b[_0x148864(0x757)](_0x52587f,_0x4b555f[_0x148864(0x57d)]+'\x20-\x20'+_0x1e3dcc,_0x4b555f),this[_0x148864(0x9b7)](_0x4b555f)[_0x148864(0x396)](_0x55a1dd=>{console['error'](_0x55a1dd);});});}async[_0x2f335d(0x89f)](_0x37ba36){const _0x46c623=_0x2f335d,{timingLogger:_0x5dbe04,logger:_0x139c04,logBeforeSync:_0x3f6337,logAfterSync:_0x11eff3}=function(_0x1fa28b,_0x2701dc){const _0x6f9ffb=a0_0x2fcc;if(!_0x5a023b[_0x6f9ffb(0x70a)](_0x2701dc))return _0x5a023b[_0x6f9ffb(0x7e5)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x2701dc),{..._0x26e4a0(_0x1fa28b,_0x2701dc),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x32af05,logger:_0x49179d}=_0x26e4a0(_0x1fa28b,_0x2701dc);let _0x12e3a1=0x0;return _0x12e3a1=Date[_0x6f9ffb(0x449)](),{'syncStartTime':_0x12e3a1,'timingLogger':_0x32af05,'logger':_0x49179d,'logBeforeSync':()=>(_0x504a1d(_0x2701dc,_0x6f9ffb(0x128)),_0x32af05[_0x6f9ffb(0x449)]()),'logAfterSync':(_0x492fcd,_0x5d7420)=>{const _0x54df9b=_0x6f9ffb,_0x5539bd=Date[_0x54df9b(0x449)]();_0x504a1d(_0x2701dc,_0x54df9b(0x87f)+_0x5d7420);const _0x58e0f0=(_0x5539bd-_0x12e3a1)/0x3e8,_0x582010=(_0x5539bd-_0x492fcd)/0x3e8;_0x5a023b[_0x54df9b(0x6fb)](_0x2701dc,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x1fa28b,'\x0a\x20===\x20Total\x20Time:\x20'+_0x58e0f0[_0x54df9b(0x292)](0x2)+_0x54df9b(0x432),_0x54df9b(0x58e)+_0x582010[_0x54df9b(0x292)](0x3)+_0x54df9b(0x432),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x5539bd-_0x12e3a1)/0x3e8-_0x582010)[_0x54df9b(0x292)](0x2)+_0x54df9b(0x432));}};}(_0x37ba36[_0x46c623(0x20c)](),_0x4abdbe['KeyValueDatabase']);_0x139c04['log'](_0x46c623(0x214));const _0x3b75dd=this[_0x46c623(0xbf)][_0x46c623(0x4d7)]()['length']>0x0;if(_0x3b75dd){_0x139c04['log'](_0x46c623(0x6b7),()=>this[_0x46c623(0xbf)]['getAncestorIds']()),_0x5dbe04[_0x46c623(0x3e7)](),await Promise[_0x46c623(0x415)](this[_0x46c623(0xbf)][_0x46c623(0x4d7)]()[_0x46c623(0x3cd)](async _0x575df6=>await this[_0x46c623(0xbf)]['isNodeReady'](_0x575df6)))['catch'](_0x2a2da8=>_0x5a023b[_0x46c623(0x80f)](_0x46c623(0x5ee),{'nodeId':this[_0x46c623(0x6c3)][_0x46c623(0x92c)](),'nodeType':this[_0x46c623(0x6c3)][_0x46c623(0x4e7)]}));const _0xf2368b=_0x139c04[_0x46c623(0x85d)](()=>this['nodeManager'][_0x46c623(0x4d7)](),[]);_0x5dbe04[_0x46c623(0x2d9)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0xf2368b+_0x46c623(0x129));}_0x11eff3(_0x3f6337(),await _0x37ba36[_0x46c623(0x440)](_0x3b75dd,async()=>{const _0x431bee=_0x46c623;_0x5dbe04[_0x431bee(0x3e7)](),await this['nodeManager'][_0x431bee(0x2bf)](),_0x5dbe04[_0x431bee(0x2d9)](_0x431bee(0x93d)),_0x37ba36['sync'](!0x0,()=>{const _0x4fddf9=_0x431bee;_0x139c04[_0x4fddf9(0x6fb)](_0x4fddf9(0x66a)),_0x37ba36[_0x4fddf9(0x440)](!0x1);},!0x0);}));}}class _0x4a8dfa{['vendorId'];[_0x2f335d(0x49c)];[_0x2f335d(0x21e)];[_0x2f335d(0x792)];[_0x2f335d(0x925)];constructor(_0x2c7f76,_0x5d3411,_0x3d2d22,_0x1c306c,_0x4b2fea,_0x54c0b0,_0x47982c=new _0x3d41d1()){const _0x289f50=_0x2f335d;this[_0x289f50(0xa5)]=_0x2c7f76,this[_0x289f50(0x49c)]=_0x5d3411,this[_0x289f50(0x21e)]=_0x3d2d22,this['eventEmitter']=_0x47982c,this[_0x289f50(0x925)]=new _0x1d4441(this[_0x289f50(0xa5)],this[_0x289f50(0x49c)],_0x3d2d22,_0x1c306c,_0x4b2fea,_0x54c0b0,this);}async[_0x2f335d(0x67e)](){const _0x33ef07=_0x2f335d;await this[_0x33ef07(0x925)][_0x33ef07(0x8f7)](),this[_0x33ef07(0x21e)][_0x33ef07(0x4e7)]===_0x47407f[_0x33ef07(0x1b2)]['User']&&this[_0x33ef07(0x21e)][_0x33ef07(0x446)](this['clusterId'],_0x56d3ba=>{const _0x33935c=_0x33ef07;this[_0x33935c(0x925)][_0x33935c(0x4f3)](_0x56d3ba);});}[_0x2f335d(0x409)](_0x4f8c1c={}){const _0x220018=_0x2f335d;this[_0x220018(0x925)]['close'](_0x4f8c1c),this[_0x220018(0x21e)][_0x220018(0x4e7)]===_0x47407f['NodeType'][_0x220018(0x8c2)]&&this[_0x220018(0x21e)][_0x220018(0x3a3)](this[_0x220018(0x49c)]),this[_0x220018(0x336)]('cluster-leave',void 0x0);}[_0x2f335d(0x3bd)](_0x345def){const _0xa40ab9=_0x2f335d,_0x17e05c=this[_0xa40ab9(0x925)][_0xa40ab9(0x3bd)](_0x345def);return{'getName':_0x17e05c[_0xa40ab9(0x9d4)]['bind'](_0x17e05c),'getOwnerId':_0x17e05c['getOwnerId']['bind'](_0x17e05c),'getContentType':_0x17e05c[_0xa40ab9(0x8c7)][_0xa40ab9(0x1b9)](_0x17e05c),'publish':_0x17e05c[_0xa40ab9(0x620)][_0xa40ab9(0x1b9)](_0x17e05c),'subscribe':_0x17e05c[_0xa40ab9(0x504)]['bind'](_0x17e05c),'unsubscribe':_0x17e05c['unsubscribe'][_0xa40ab9(0x1b9)](_0x17e05c),'close':_0x17e05c[_0xa40ab9(0x476)][_0xa40ab9(0x1b9)](_0x17e05c)};}async[_0x2f335d(0x844)](_0x5388ca,_0x5bd04f){const _0x1cbc8a=_0x2f335d,_0x15b853=await this['orchestrator']['openObjectStoreBucket'](_0x5388ca,_0x5bd04f);return{'getName':_0x15b853['getName']['bind'](_0x15b853),'getOwnerId':_0x15b853['getOwnerId'][_0x1cbc8a(0x1b9)](_0x15b853),'getContentType':_0x15b853[_0x1cbc8a(0x8c7)][_0x1cbc8a(0x1b9)](_0x15b853),'publish':_0x15b853[_0x1cbc8a(0x620)][_0x1cbc8a(0x1b9)](_0x15b853),'unpublish':_0x15b853[_0x1cbc8a(0xa2)]['bind'](_0x15b853),'get':_0x15b853[_0x1cbc8a(0x389)][_0x1cbc8a(0x1b9)](_0x15b853),'list':_0x15b853[_0x1cbc8a(0x684)]['bind'](_0x15b853),'getSize':_0x15b853[_0x1cbc8a(0x448)]['bind'](_0x15b853),'subscribe':_0x15b853[_0x1cbc8a(0x504)][_0x1cbc8a(0x1b9)](_0x15b853),'unsubscribe':_0x15b853[_0x1cbc8a(0x5be)][_0x1cbc8a(0x1b9)](_0x15b853),'close':_0x15b853[_0x1cbc8a(0x476)]['bind'](_0x15b853)};}async['openExternalStorageConnection'](_0x445a23,_0x451b9a){const _0x5daaff=_0x2f335d,_0x595a36=await this[_0x5daaff(0x925)][_0x5daaff(0x847)](_0x445a23,_0x451b9a);return{'getName':_0x595a36[_0x5daaff(0x9d4)][_0x5daaff(0x1b9)](_0x595a36),'getOwnerId':_0x595a36[_0x5daaff(0x8a4)][_0x5daaff(0x1b9)](_0x595a36),'getContentType':_0x595a36[_0x5daaff(0x8c7)]['bind'](_0x595a36),'close':_0x595a36[_0x5daaff(0x476)][_0x5daaff(0x1b9)](_0x595a36),'get':_0x595a36[_0x5daaff(0x389)]['bind'](_0x595a36),'list':_0x595a36['list'][_0x5daaff(0x1b9)](_0x595a36),'subscribe':_0x595a36[_0x5daaff(0x504)][_0x5daaff(0x1b9)](_0x595a36),'unsubscribe':_0x595a36[_0x5daaff(0x5be)]['bind'](_0x595a36)};}async[_0x2f335d(0x149)](_0x24543d,_0x4ddad7,_0x359838){const _0x1ef293=_0x2f335d,_0x40f2cd=await this[_0x1ef293(0x925)][_0x1ef293(0x149)](_0x24543d,_0x4ddad7,_0x359838);return{'getName':_0x40f2cd['getName'][_0x1ef293(0x1b9)](_0x40f2cd),'getOwnerId':_0x40f2cd[_0x1ef293(0x8a4)][_0x1ef293(0x1b9)](_0x40f2cd),'getContentType':_0x40f2cd['getContentType'][_0x1ef293(0x1b9)](_0x40f2cd),'getTable':_0x40f2cd[_0x1ef293(0x33a)][_0x1ef293(0x1b9)](_0x40f2cd),'subscribe':_0x40f2cd[_0x1ef293(0x504)]['bind'](_0x40f2cd),'unsubscribe':_0x40f2cd['unsubscribe'][_0x1ef293(0x1b9)](_0x40f2cd),'close':_0x40f2cd['close'][_0x1ef293(0x1b9)](_0x40f2cd)};}async[_0x2f335d(0x676)](_0x58f800){const _0x231301=_0x2f335d,_0xbc20d1=await this[_0x231301(0x925)][_0x231301(0x676)](_0x58f800);return{'getName':_0xbc20d1[_0x231301(0x9d4)]['bind'](_0xbc20d1),'getOwnerId':_0xbc20d1[_0x231301(0x8a4)][_0x231301(0x1b9)](_0xbc20d1),'getContentType':_0xbc20d1['getContentType'][_0x231301(0x1b9)](_0xbc20d1),'createJob':_0xbc20d1[_0x231301(0x480)]['bind'](_0xbc20d1),'getJob':_0xbc20d1[_0x231301(0x305)][_0x231301(0x1b9)](_0xbc20d1),'getJobs':_0xbc20d1[_0x231301(0x3f1)]['bind'](_0xbc20d1),'close':_0xbc20d1[_0x231301(0x476)]['bind'](_0xbc20d1)};}async[_0x2f335d(0x917)](_0x5ad685){const _0x38b56a=_0x2f335d,_0x298b7a=await this[_0x38b56a(0x925)][_0x38b56a(0x917)](_0x5ad685);return{'close':_0x298b7a[_0x38b56a(0x476)][_0x38b56a(0x1b9)](_0x298b7a)};}async[_0x2f335d(0x543)](_0x2f00db){const _0x4faae7=_0x2f335d,_0x3bffc0=await this[_0x4faae7(0x925)]['openGenerativeAIContext'](_0x2f00db);return{'createAIJob':_0x3bffc0[_0x4faae7(0x75e)]['bind'](_0x3bffc0),'ratePrompt':_0x3bffc0[_0x4faae7(0x898)][_0x4faae7(0x1b9)](_0x3bffc0),'downloadDocument':_0x3bffc0['downloadDocument']['bind'](_0x3bffc0),'getDataBucketIds':_0x3bffc0[_0x4faae7(0x637)][_0x4faae7(0x1b9)](_0x3bffc0),'close':_0x3bffc0[_0x4faae7(0x476)][_0x4faae7(0x1b9)](_0x3bffc0)};}async[_0x2f335d(0x31e)](_0x5092b6){const _0x1c2926=_0x2f335d,_0x32b842=await this['orchestrator'][_0x1c2926(0x31e)](_0x5092b6);return{'close':_0x32b842['close'][_0x1c2926(0x1b9)](_0x32b842)};}[_0x2f335d(0x331)](_0x329967){const _0x16da2b=_0x2f335d,_0xb5b21c=this[_0x16da2b(0x925)][_0x16da2b(0x331)](_0x329967);return{'getName':_0xb5b21c[_0x16da2b(0x9d4)]['bind'](_0xb5b21c),'getOwnerId':_0xb5b21c['getOwnerId'][_0x16da2b(0x1b9)](_0xb5b21c),'getContentType':_0xb5b21c[_0x16da2b(0x8c7)][_0x16da2b(0x1b9)](_0xb5b21c),'addNode':_0xb5b21c[_0x16da2b(0x8b1)][_0x16da2b(0x1b9)](_0xb5b21c),'addEdge':_0xb5b21c[_0x16da2b(0x3e3)][_0x16da2b(0x1b9)](_0xb5b21c),'getContent':_0xb5b21c['getContent'][_0x16da2b(0x1b9)](_0xb5b21c),'remove':_0xb5b21c[_0x16da2b(0x222)][_0x16da2b(0x1b9)](_0xb5b21c),'saveToDisk':_0xb5b21c[_0x16da2b(0x857)][_0x16da2b(0x1b9)](_0xb5b21c),'loadFromDisk':_0xb5b21c['loadFromDisk'][_0x16da2b(0x1b9)](_0xb5b21c),'close':_0xb5b21c[_0x16da2b(0x476)][_0x16da2b(0x1b9)](_0xb5b21c)};}[_0x2f335d(0x115)](_0x3670b1){const _0x448942=_0x2f335d,_0x499d79=this['orchestrator'][_0x448942(0x115)](_0x3670b1);return{'getName':_0x499d79[_0x448942(0x9d4)]['bind'](_0x499d79),'getOwnerId':_0x499d79[_0x448942(0x8a4)][_0x448942(0x1b9)](_0x499d79),'getContentType':_0x499d79[_0x448942(0x8c7)][_0x448942(0x1b9)](_0x499d79),'search':_0x499d79[_0x448942(0xf2)][_0x448942(0x1b9)](_0x499d79),'insert':_0x499d79[_0x448942(0x314)][_0x448942(0x1b9)](_0x499d79),'remove':_0x499d79[_0x448942(0x222)][_0x448942(0x1b9)](_0x499d79),'saveToDisk':_0x499d79[_0x448942(0x857)][_0x448942(0x1b9)](_0x499d79),'loadFromDisk':_0x499d79[_0x448942(0x8df)]['bind'](_0x499d79),'close':_0x499d79[_0x448942(0x476)][_0x448942(0x1b9)](_0x499d79)};}[_0x2f335d(0x515)](_0x44c852){const _0x4b24e6=_0x2f335d;return this[_0x4b24e6(0x925)]['getPubSubTopics'](_0x44c852)[_0x4b24e6(0x3cd)](_0x5423f=>({'getName':_0x5423f[_0x4b24e6(0x9d4)][_0x4b24e6(0x1b9)](_0x5423f),'getOwnerId':_0x5423f[_0x4b24e6(0x8a4)][_0x4b24e6(0x1b9)](_0x5423f),'getContentType':_0x5423f[_0x4b24e6(0x8c7)][_0x4b24e6(0x1b9)](_0x5423f),'publish':_0x5423f[_0x4b24e6(0x620)]['bind'](_0x5423f),'subscribe':_0x5423f[_0x4b24e6(0x504)]['bind'](_0x5423f),'unsubscribe':_0x5423f[_0x4b24e6(0x5be)][_0x4b24e6(0x1b9)](_0x5423f),'close':_0x5423f['close'][_0x4b24e6(0x1b9)](_0x5423f)}));}[_0x2f335d(0x673)](_0x371852){const _0x31abea=_0x2f335d;return this[_0x31abea(0x925)][_0x31abea(0x673)](_0x371852)['map'](_0x1db7b7=>({'getName':_0x1db7b7[_0x31abea(0x9d4)][_0x31abea(0x1b9)](_0x1db7b7),'getOwnerId':_0x1db7b7[_0x31abea(0x8a4)]['bind'](_0x1db7b7),'getContentType':_0x1db7b7[_0x31abea(0x8c7)][_0x31abea(0x1b9)](_0x1db7b7),'publish':_0x1db7b7[_0x31abea(0x620)]['bind'](_0x1db7b7),'unpublish':_0x1db7b7[_0x31abea(0xa2)]['bind'](_0x1db7b7),'get':_0x1db7b7[_0x31abea(0x389)][_0x31abea(0x1b9)](_0x1db7b7),'list':_0x1db7b7[_0x31abea(0x684)][_0x31abea(0x1b9)](_0x1db7b7),'getSize':_0x1db7b7[_0x31abea(0x448)]['bind'](_0x1db7b7),'subscribe':_0x1db7b7[_0x31abea(0x504)][_0x31abea(0x1b9)](_0x1db7b7),'unsubscribe':_0x1db7b7[_0x31abea(0x5be)][_0x31abea(0x1b9)](_0x1db7b7),'close':_0x1db7b7[_0x31abea(0x476)][_0x31abea(0x1b9)](_0x1db7b7)}));}[_0x2f335d(0x6a7)](_0x97f2bc){const _0x43dcce=_0x2f335d;return this[_0x43dcce(0x925)][_0x43dcce(0x6a7)](_0x97f2bc)[_0x43dcce(0x3cd)](_0xd2d49=>({'getName':_0xd2d49['getName']['bind'](_0xd2d49),'getOwnerId':_0xd2d49['getOwnerId'][_0x43dcce(0x1b9)](_0xd2d49),'getContentType':_0xd2d49[_0x43dcce(0x8c7)][_0x43dcce(0x1b9)](_0xd2d49),'close':_0xd2d49['close'][_0x43dcce(0x1b9)](_0xd2d49),'get':_0xd2d49['get'][_0x43dcce(0x1b9)](_0xd2d49),'list':_0xd2d49['list'][_0x43dcce(0x1b9)](_0xd2d49),'subscribe':_0xd2d49[_0x43dcce(0x504)][_0x43dcce(0x1b9)](_0xd2d49),'unsubscribe':_0xd2d49[_0x43dcce(0x5be)][_0x43dcce(0x1b9)](_0xd2d49)}));}[_0x2f335d(0x5ec)](_0x3c4dba){const _0x576caf=_0x2f335d;return this[_0x576caf(0x925)][_0x576caf(0x5ec)](_0x3c4dba)['map'](_0xaffbee=>({'getName':_0xaffbee['getName'][_0x576caf(0x1b9)](_0xaffbee),'getOwnerId':_0xaffbee['getOwnerId'][_0x576caf(0x1b9)](_0xaffbee),'getContentType':_0xaffbee[_0x576caf(0x8c7)][_0x576caf(0x1b9)](_0xaffbee),'getTable':_0xaffbee[_0x576caf(0x33a)][_0x576caf(0x1b9)](_0xaffbee),'subscribe':_0xaffbee[_0x576caf(0x504)]['bind'](_0xaffbee),'unsubscribe':_0xaffbee[_0x576caf(0x5be)][_0x576caf(0x1b9)](_0xaffbee),'close':_0xaffbee[_0x576caf(0x476)][_0x576caf(0x1b9)](_0xaffbee)}));}['getGenerativeAIContexts'](_0x38069f){const _0x2ef6b8=_0x2f335d;return this[_0x2ef6b8(0x925)][_0x2ef6b8(0x4aa)](_0x38069f)[_0x2ef6b8(0x3cd)](_0x1f9d3b=>({'createAIJob':_0x1f9d3b['createAIJob']['bind'](_0x1f9d3b),'ratePrompt':_0x1f9d3b['ratePrompt'][_0x2ef6b8(0x1b9)](_0x1f9d3b),'downloadDocument':_0x1f9d3b[_0x2ef6b8(0x703)][_0x2ef6b8(0x1b9)](_0x1f9d3b),'getDataBucketIds':_0x1f9d3b[_0x2ef6b8(0x637)][_0x2ef6b8(0x1b9)](_0x1f9d3b),'close':_0x1f9d3b[_0x2ef6b8(0x476)][_0x2ef6b8(0x1b9)](_0x1f9d3b)}));}['getGenerativeAIWorkers'](_0x519a74){const _0x7a4487=_0x2f335d;return this[_0x7a4487(0x925)][_0x7a4487(0x372)](_0x519a74)['map'](_0xf01641=>({'close':_0xf01641[_0x7a4487(0x476)][_0x7a4487(0x1b9)](_0xf01641)}));}[_0x2f335d(0x8cc)](_0xfe1d13,_0x236217){const _0x2c244e=_0x2f335d,_0x1500a2=this[_0x2c244e(0x925)][_0x2c244e(0x337)](_0xfe1d13,_0x236217);return{'getLabel':_0x1500a2['getLabel'][_0x2c244e(0x1b9)](_0x1500a2),'getOwnerId':_0x1500a2[_0x2c244e(0x8a4)][_0x2c244e(0x1b9)](_0x1500a2),'getContentType':_0x1500a2['getContentType'][_0x2c244e(0x1b9)](_0x1500a2),'getMediaStream':_0x1500a2[_0x2c244e(0x2ad)][_0x2c244e(0x1b9)](_0x1500a2),'setPriority':_0x1500a2[_0x2c244e(0x9dc)]['bind'](_0x1500a2),'unpublish':_0x1500a2[_0x2c244e(0xa2)][_0x2c244e(0x1b9)](_0x1500a2)};}[_0x2f335d(0x9ca)](_0x48165c,_0x3fbfa5){const _0x7699af=_0x2f335d,_0x38f188=this['orchestrator'][_0x7699af(0x386)](_0x48165c,_0x3fbfa5);return{'getLabel':_0x38f188[_0x7699af(0x20c)][_0x7699af(0x1b9)](_0x38f188),'getOwnerId':_0x38f188[_0x7699af(0x8a4)]['bind'](_0x38f188),'getContentType':_0x38f188[_0x7699af(0x8c7)]['bind'](_0x38f188),'setPriority':_0x38f188[_0x7699af(0x9dc)][_0x7699af(0x1b9)](_0x38f188),'unpublish':_0x38f188[_0x7699af(0xa2)][_0x7699af(0x1b9)](_0x38f188),'getMediaStream':_0x38f188['getMediaStream'][_0x7699af(0x1b9)](_0x38f188),'addTrack':_0x38f188[_0x7699af(0x1bf)][_0x7699af(0x1b9)](_0x38f188),'removeTrack':_0x38f188[_0x7699af(0x947)][_0x7699af(0x1b9)](_0x38f188),'replaceTrack':_0x38f188[_0x7699af(0x758)][_0x7699af(0x1b9)](_0x38f188),'setTransformations':_0x38f188[_0x7699af(0x383)][_0x7699af(0x1b9)](_0x38f188)};}[_0x2f335d(0x81a)](_0x474452){const _0x491f62=_0x2f335d;return this[_0x491f62(0x925)][_0x491f62(0x81a)](_0x474452)['map'](_0x3bdb69=>({'getLabel':_0x3bdb69[_0x491f62(0x20c)][_0x491f62(0x1b9)](_0x3bdb69),'getOwnerId':_0x3bdb69['getOwnerId'][_0x491f62(0x1b9)](_0x3bdb69),'getContentType':_0x3bdb69[_0x491f62(0x8c7)][_0x491f62(0x1b9)](_0x3bdb69),'getMediaStream':_0x3bdb69['getMediaStream']['bind'](_0x3bdb69),'setPriority':_0x3bdb69['setPriority'][_0x491f62(0x1b9)](_0x3bdb69),'unpublish':_0x3bdb69[_0x491f62(0xa2)][_0x491f62(0x1b9)](_0x3bdb69)}));}[_0x2f335d(0x287)](_0x5e2947){const _0xea637f=_0x2f335d;return this[_0xea637f(0x925)]['getRemoteMediaStreams'](_0x5e2947)[_0xea637f(0x3cd)](_0x3db893=>({'getLabel':_0x3db893['getLabel']['bind'](_0x3db893),'getOwnerId':_0x3db893[_0xea637f(0x8a4)][_0xea637f(0x1b9)](_0x3db893),'getContentType':_0x3db893['getContentType'][_0xea637f(0x1b9)](_0x3db893),'getMediaStream':_0x3db893['getMediaStream'][_0xea637f(0x1b9)](_0x3db893),'subscribe':_0x3db893[_0xea637f(0x504)][_0xea637f(0x1b9)](_0x3db893),'unsubscribe':_0x3db893[_0xea637f(0x5be)][_0xea637f(0x1b9)](_0x3db893),'getAvailableTrackKinds':_0x3db893[_0xea637f(0x283)][_0xea637f(0x1b9)](_0x3db893),'update':_0x3db893['update'][_0xea637f(0x1b9)](_0x3db893),'onProviderChange':_0x3db893[_0xea637f(0x56b)][_0xea637f(0x1b9)](_0x3db893)}));}[_0x2f335d(0x630)](_0x263924){const _0x65e5ad=_0x2f335d;return this[_0x65e5ad(0x925)][_0x65e5ad(0x630)](_0x263924)['map'](_0x5d3381=>({'getName':_0x5d3381[_0x65e5ad(0x9d4)]['bind'](_0x5d3381),'getOwnerId':_0x5d3381[_0x65e5ad(0x8a4)][_0x65e5ad(0x1b9)](_0x5d3381),'getContentType':_0x5d3381['getContentType'][_0x65e5ad(0x1b9)](_0x5d3381),'addNode':_0x5d3381[_0x65e5ad(0x8b1)][_0x65e5ad(0x1b9)](_0x5d3381),'addEdge':_0x5d3381[_0x65e5ad(0x3e3)][_0x65e5ad(0x1b9)](_0x5d3381),'getContent':_0x5d3381[_0x65e5ad(0x178)][_0x65e5ad(0x1b9)](_0x5d3381),'remove':_0x5d3381[_0x65e5ad(0x222)][_0x65e5ad(0x1b9)](_0x5d3381),'saveToDisk':_0x5d3381[_0x65e5ad(0x857)]['bind'](_0x5d3381),'loadFromDisk':_0x5d3381[_0x65e5ad(0x8df)][_0x65e5ad(0x1b9)](_0x5d3381),'close':_0x5d3381[_0x65e5ad(0x476)][_0x65e5ad(0x1b9)](_0x5d3381)}));}[_0x2f335d(0x807)](_0x1bb7a2){const _0x343d28=_0x2f335d;return this['orchestrator']['getVectorDatabases'](_0x1bb7a2)[_0x343d28(0x3cd)](_0x10f2c4=>({'getName':_0x10f2c4[_0x343d28(0x9d4)][_0x343d28(0x1b9)](_0x10f2c4),'getOwnerId':_0x10f2c4['getOwnerId'][_0x343d28(0x1b9)](_0x10f2c4),'getContentType':_0x10f2c4[_0x343d28(0x8c7)][_0x343d28(0x1b9)](_0x10f2c4),'search':_0x10f2c4['search'][_0x343d28(0x1b9)](_0x10f2c4),'insert':_0x10f2c4['insert'][_0x343d28(0x1b9)](_0x10f2c4),'remove':_0x10f2c4[_0x343d28(0x222)]['bind'](_0x10f2c4),'saveToDisk':_0x10f2c4['saveToDisk'][_0x343d28(0x1b9)](_0x10f2c4),'loadFromDisk':_0x10f2c4[_0x343d28(0x8df)][_0x343d28(0x1b9)](_0x10f2c4),'close':_0x10f2c4[_0x343d28(0x476)][_0x343d28(0x1b9)](_0x10f2c4)}));}[_0x2f335d(0x2ed)](){const _0x185451=_0x2f335d,_0x2d850c=this[_0x185451(0x925)]['getLocalNode']();switch(_0x2d850c[_0x185451(0x4e7)]){case _0x47407f[_0x185451(0x1b2)]['User']:return{'type':_0x47407f[_0x185451(0x1b2)][_0x185451(0x8c2)],'getId':_0x2d850c[_0x185451(0x92c)]['bind'](_0x2d850c),'getDisplayName':_0x2d850c[_0x185451(0x15c)][_0x185451(0x1b9)](_0x2d850c),'getEmail':_0x2d850c[_0x185451(0x310)][_0x185451(0x1b9)](_0x2d850c),'getRemoteConnections':_0x2d850c[_0x185451(0x965)][_0x185451(0x1b9)](_0x2d850c),'setDisplayName':_0x2d850c['setDisplayName'][_0x185451(0x1b9)](_0x2d850c),'setEmail':_0x2d850c[_0x185451(0x4cf)][_0x185451(0x1b9)](_0x2d850c)};case _0x47407f[_0x185451(0x1b2)]['Agent']:default:return{'type':_0x47407f['NodeType'][_0x185451(0x5e0)],'getId':_0x2d850c[_0x185451(0x92c)][_0x185451(0x1b9)](_0x2d850c),'getRemoteConnections':_0x2d850c[_0x185451(0x965)][_0x185451(0x1b9)](_0x2d850c)};}}[_0x2f335d(0x78e)](_0x428956){const _0x5bb200=_0x2f335d;return this['orchestrator'][_0x5bb200(0x78e)](_0x428956)[_0x5bb200(0x3cd)](_0x253a8b=>{const _0x2a0c1a=_0x5bb200;switch(_0x253a8b[_0x2a0c1a(0x4e7)]){case _0x47407f[_0x2a0c1a(0x1b2)][_0x2a0c1a(0x8c2)]:return{'type':_0x47407f[_0x2a0c1a(0x1b2)][_0x2a0c1a(0x8c2)],'getId':_0x253a8b[_0x2a0c1a(0x92c)][_0x2a0c1a(0x1b9)](_0x253a8b),'getDisplayName':_0x253a8b[_0x2a0c1a(0x15c)][_0x2a0c1a(0x1b9)](_0x253a8b),'getEmail':_0x253a8b[_0x2a0c1a(0x310)]['bind'](_0x253a8b),'getRemoteConnections':_0x253a8b[_0x2a0c1a(0x965)][_0x2a0c1a(0x1b9)](_0x253a8b)};case _0x47407f[_0x2a0c1a(0x1b2)][_0x2a0c1a(0x5e0)]:return{'type':_0x47407f[_0x2a0c1a(0x1b2)][_0x2a0c1a(0x5e0)],'getId':_0x253a8b[_0x2a0c1a(0x92c)][_0x2a0c1a(0x1b9)](_0x253a8b),'getRemoteConnections':_0x253a8b['getRemoteConnections']['bind'](_0x253a8b)};default:throw new _0x194c78(_0x2e40c3[_0x2a0c1a(0x2ba)],'Invalid\x20node\x20type');}});}['on']=(..._0x4d81a9)=>{const _0x2548e2=_0x2f335d;this[_0x2548e2(0x792)]['on'](..._0x4d81a9);};[_0x2f335d(0x336)]=(..._0x2d8fcf)=>this[_0x2f335d(0x792)][_0x2f335d(0x336)](..._0x2d8fcf);[_0x2f335d(0x6d5)](..._0x3146fc){const _0x4a3187=_0x2f335d;this[_0x4a3187(0x792)][_0x4a3187(0x6d5)](..._0x3146fc);}}class _0x4b320a{['id'];[_0x2f335d(0x3aa)];['email'];[_0x2f335d(0x4e7)]=_0x47407f[_0x2f335d(0x1b2)][_0x2f335d(0x8c2)];[_0x2f335d(0x567)]=new Map();['observer']=_0x390225();constructor(_0x47dc55,_0x37bbfa,_0x43695e){const _0x28ba50=_0x2f335d;this['id']=_0x47dc55,this[_0x28ba50(0x3aa)]=_0x37bbfa,this[_0x28ba50(0x74d)]=_0x43695e;}['getId'](){return this['id'];}[_0x2f335d(0x15c)](){return this['displayName'];}[_0x2f335d(0x310)](){const _0x69bc30=_0x2f335d;return this[_0x69bc30(0x74d)];}[_0x2f335d(0x936)](_0x1386d5){const _0xd3babc=_0x2f335d;this[_0xd3babc(0x3aa)]!==_0x1386d5&&(this[_0xd3babc(0x3aa)]=_0x1386d5,this[_0xd3babc(0x9db)][_0xd3babc(0x620)](this));}['setEmail'](_0x4c673d){const _0x1de8d3=_0x2f335d;this[_0x1de8d3(0x74d)]!==_0x4c673d&&(this[_0x1de8d3(0x74d)]=_0x4c673d,this[_0x1de8d3(0x9db)][_0x1de8d3(0x620)](this));}['registerCluster'](_0x3d0104,_0x243c94){const _0x4499cb=_0x2f335d;if(this[_0x4499cb(0x567)][_0x4499cb(0x627)](_0x3d0104))return;const _0x2aba3b=this[_0x4499cb(0x9db)]['subscribe'](_0x243c94);this[_0x4499cb(0x567)][_0x4499cb(0x120)](_0x3d0104,_0x2aba3b);}[_0x2f335d(0x3a3)](_0x57e876){const _0x461460=_0x2f335d;if(!this[_0x461460(0x567)][_0x461460(0x627)](_0x57e876))return;const _0x465817=this[_0x461460(0x567)][_0x461460(0x389)](_0x57e876);_0x465817&&_0x465817(),this[_0x461460(0x567)][_0x461460(0x2ee)](_0x57e876);}}class _0x23b2bd{[_0x2f335d(0xa5)];[_0x2f335d(0x3e5)];constructor(_0x1cb251){const _0x1137a6=_0x2f335d;this[_0x1137a6(0xa5)]=_0x1cb251;}async[_0x2f335d(0x517)](_0x1cc1d3){const _0xcbec2c=_0x2f335d,_0x1e86a0=await(0x0,_0x53e21c[_0xcbec2c(0x11b)])(_0x2825b2[_0xcbec2c(0x56e)](),_0xcbec2c(0x724))({'uid':_0xcbec2c(0x8e5)+this['vendorId']+_0xcbec2c(0x8e5)+_0x1cc1d3['id']}),_0x8d0cde=await(0x0,_0x17139d['signInWithCustomToken'])(_0x2825b2[_0xcbec2c(0x853)](),_0x1e86a0[_0xcbec2c(0x1c9)][_0xcbec2c(0x553)]);this[_0xcbec2c(0x3e5)]=_0x8d0cde[_0xcbec2c(0x3e5)];}async[_0x2f335d(0x17d)](){const _0x2047d2=_0x2f335d;await(0x0,_0x17139d[_0x2047d2(0x17d)])(_0x2825b2['getAuth']());}['getIdToken'](){const _0x1e03b0=_0x2f335d;return this[_0x1e03b0(0x3e5)]?.[_0x1e03b0(0x96c)]()??Promise[_0x1e03b0(0x12e)]('User\x20not\x20signed\x20in');}}class _0x4208d0{static [_0x2f335d(0x26a)];[_0x2f335d(0x63d)]=[];constructor(){}static['getInstance'](){const _0x404940=_0x2f335d;return _0x4208d0['instance']||(_0x4208d0[_0x404940(0x26a)]=new _0x4208d0()),_0x4208d0[_0x404940(0x26a)];}[_0x2f335d(0x8f7)](){const _0x2a17b0=_0x2f335d;this[_0x2a17b0(0x32c)](),this[_0x2a17b0(0x645)](),this[_0x2a17b0(0x5d4)](),this[_0x2a17b0(0x73e)](),this['checkDeviceConfig'](),this[_0x2a17b0(0x811)](),this[_0x2a17b0(0x6a8)](),this[_0x2a17b0(0x9e)](),this['checkWebGL'](),this[_0x2a17b0(0x1f8)](),_0x5a023b[_0x2a17b0(0x6fb)](_0x4abdbe['Support'],'Support:\x20current\x20config',{'featureSupport':this[_0x2a17b0(0x63d)]});}['isFeatureSupported'](_0x4f1f55){const _0x1b473e=_0x2f335d,_0x579864=this[_0x1b473e(0x63d)][_0x1b473e(0x29d)](_0x33f0b8=>_0x33f0b8[_0x1b473e(0xdd)]===_0x4f1f55);return!!_0x579864&&_0x579864['supported'];}['logSupport'](_0x36bcca){const _0x5d5fe6=_0x2f335d;_0x5a023b[_0x5d5fe6(0x5e8)](_0x5d5fe6(0x2d4),{'nodeId':_0x36bcca[_0x5d5fe6(0x92c)](),'nodeType':_0x36bcca[_0x5d5fe6(0x4e7)],'data':{'featureSupport':this[_0x5d5fe6(0x63d)]}});}['checkWebRTC'](){const _0x20bbf6=_0x2f335d,_0x2bc61c=_0xb29486[_0x20bbf6(0xae)];let _0x576fb1=!0x1;'function'==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x20bbf6(0x344)==typeof RTCSessionDescription?_0x576fb1=!0x0:_0x5a023b[_0x20bbf6(0x6fb)](_0x4abdbe[_0x20bbf6(0x25b)],_0x20bbf6(0x526)+_0x2bc61c+_0x20bbf6(0x77c)),this[_0x20bbf6(0x63d)][_0x20bbf6(0x6e4)]({'name':_0x2bc61c,'supported':_0x576fb1});}[_0x2f335d(0x645)](){const _0x15dabb=_0x2f335d,_0x533703=_0xb29486['MediaStream'];let _0x119372=!0x1;_0x15dabb(0x344)==typeof MediaStream&&_0x15dabb(0x344)==typeof MediaStreamTrack&&_0x15dabb(0x663)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&'function'==typeof navigator[_0x15dabb(0x147)]['getUserMedia']?_0x119372=!0x0:_0x5a023b[_0x15dabb(0x6fb)](_0x4abdbe[_0x15dabb(0x25b)],_0x15dabb(0x526)+_0x533703+_0x15dabb(0x77c)),this['featureSupport'][_0x15dabb(0x6e4)]({'name':_0x533703,'supported':_0x119372});}['checkScreenSharing'](){const _0x35a07a=_0x2f335d,_0x4b066f=_0xb29486[_0x35a07a(0x489)];let _0x214739=!0x1;_0x35a07a(0x663)==typeof navigator&&_0x35a07a(0x663)==typeof navigator[_0x35a07a(0x147)]&&_0x35a07a(0x344)==typeof navigator[_0x35a07a(0x147)][_0x35a07a(0x8fc)]?_0x214739=!0x0:_0x5a023b[_0x35a07a(0x6fb)](_0x4abdbe['Support'],_0x35a07a(0x526)+_0x4b066f+_0x35a07a(0x77c)),this[_0x35a07a(0x63d)][_0x35a07a(0x6e4)]({'name':_0x4b066f,'supported':_0x214739});}['checkAudioVolume'](){const _0x4348cb=_0x2f335d,_0x5aaa87=_0xb29486[_0x4348cb(0x2c1)];let _0xd57411=!0x1;_0x4348cb(0x344)!=typeof AudioContext||_0x4348cb(0x344)!=typeof ScriptProcessorNode&&_0x4348cb(0x344)!=typeof AudioWorkletNode||_0x4348cb(0x344)!=typeof MediaStreamAudioSourceNode?_0x5a023b[_0x4348cb(0x6fb)](_0x4abdbe[_0x4348cb(0x25b)],'Support:\x20'+_0x5aaa87+_0x4348cb(0x77c)):_0xd57411=!0x0,this[_0x4348cb(0x63d)]['push']({'name':_0x5aaa87,'supported':_0xd57411});}[_0x2f335d(0x1f6)](){const _0x159f7f=_0x2f335d,_0xf71a5c=_0xb29486[_0x159f7f(0x60b)];let _0x30f1c9=!0x1;_0x159f7f(0x663)==typeof navigator&&_0x159f7f(0x663)==typeof navigator[_0x159f7f(0x147)]&&_0x159f7f(0x344)==typeof navigator[_0x159f7f(0x147)][_0x159f7f(0x1e4)]&&'function'==typeof MediaDeviceInfo?_0x30f1c9=!0x0:_0x5a023b[_0x159f7f(0x6fb)](_0x4abdbe['Support'],_0x159f7f(0x526)+_0xf71a5c+_0x159f7f(0x77c)),this[_0x159f7f(0x63d)][_0x159f7f(0x6e4)]({'name':_0xf71a5c,'supported':_0x30f1c9});}[_0x2f335d(0x811)](){const _0x92bd78=_0x2f335d,_0x6fa1f0=_0xb29486[_0x92bd78(0x2b8)];let _0xbabbc9=!0x1;'object'==typeof document&&'function'==typeof document[_0x92bd78(0x7b1)]('video')['setSinkId']?_0xbabbc9=!0x0:_0x5a023b[_0x92bd78(0x6fb)](_0x4abdbe['Support'],_0x92bd78(0x526)+_0x6fa1f0+_0x92bd78(0x77c)),this[_0x92bd78(0x63d)][_0x92bd78(0x6e4)]({'name':_0x6fa1f0,'supported':_0xbabbc9});}async['checkMediaRecording'](){const _0x3b2f13=_0x2f335d,_0x477231=_0xb29486[_0x3b2f13(0x76b)];let _0x34f5e3=!0x1;try{const _0x3b06c4=document[_0x3b2f13(0x7b1)](_0x3b2f13(0x3dc));if(MediaRecorder&&MediaSource&&_0x3b06c4['captureStream']){const _0x2744e5=_0x3b06c4[_0x3b2f13(0x776)](),_0x4f333d=new MediaRecorder(_0x2744e5);_0x4f333d['start'](),await new Promise(_0x3d7c54=>setTimeout(_0x3d7c54,0x7d0)),_0x4f333d[_0x3b2f13(0x204)](),_0x34f5e3=_0x3b2f13(0x3ea)===_0x4f333d[_0x3b2f13(0x4b7)];}}catch(_0x6ccba7){_0x5a023b[_0x3b2f13(0x6fb)](_0x4abdbe[_0x3b2f13(0x25b)],'Support:\x20'+_0x477231+_0x3b2f13(0x290),_0x6ccba7);}this[_0x3b2f13(0x63d)][_0x3b2f13(0x6e4)]({'name':_0x477231,'supported':_0x34f5e3}),_0x34f5e3||_0x5a023b[_0x3b2f13(0x6fb)](_0x4abdbe[_0x3b2f13(0x25b)],_0x3b2f13(0x526)+_0x477231+_0x3b2f13(0x77c));}[_0x2f335d(0x9e)](){const _0x15daf8=_0x2f335d,_0x3ee95c=_0xb29486['Backgrounds'];let _0x473187=!0x1;try{document[_0x15daf8(0x7b1)](_0x15daf8(0x3dc))[_0x15daf8(0x776)]&&(_0x473187=!0x0);}catch(_0x596337){_0x5a023b[_0x15daf8(0x6fb)](_0x4abdbe['Support'],_0x15daf8(0x526)+_0x3ee95c+_0x15daf8(0x290),_0x596337);}this['featureSupport']['push']({'name':_0x3ee95c,'supported':_0x473187}),_0x473187||_0x5a023b['log'](_0x4abdbe[_0x15daf8(0x25b)],_0x15daf8(0x526)+_0x3ee95c+'\x20not\x20supported');}[_0x2f335d(0x58f)](){const _0x27903a=_0x2f335d,_0x2c7408=_0xb29486[_0x27903a(0xa0)];let _0x12669e=!0x1;try{const _0x3431a1=document[_0x27903a(0x7b1)](_0x27903a(0x3dc));WebGLRenderingContext&&_0x3431a1[_0x27903a(0x5a1)]('webgl')&&(_0x12669e=!0x0);}catch(_0x5e82bf){_0x5a023b['log'](_0x4abdbe['Support'],_0x27903a(0x526)+_0x2c7408+'\x20check\x20failed',_0x5e82bf);}this[_0x27903a(0x63d)][_0x27903a(0x6e4)]({'name':_0x2c7408,'supported':_0x12669e}),_0x12669e||_0x5a023b[_0x27903a(0x6fb)](_0x4abdbe[_0x27903a(0x25b)],_0x27903a(0x526)+_0x2c7408+_0x27903a(0x77c));}[_0x2f335d(0x1f8)](){const _0x50de87=_0x2f335d,_0x4251fe=_0xb29486[_0x50de87(0x516)];let _0x39c955=!0x1;_0x50de87(0x344)==typeof AudioContext?_0x39c955=!0x0:_0x5a023b['log'](_0x4abdbe['Support'],_0x50de87(0x526)+_0x4251fe+_0x50de87(0x77c)),this['featureSupport'][_0x50de87(0x6e4)]({'name':_0x4251fe,'supported':_0x39c955});}}const _0x55a101=_0x4208d0[_0x2f335d(0x1e6)]();class _0x4e2ee7{static [_0x2f335d(0x26a)];static [_0x2f335d(0x5be)];static ['mode'];[_0x2f335d(0x4f5)];[_0x2f335d(0xa5)];[_0x2f335d(0x7b2)];[_0x2f335d(0xd5)];[_0x2f335d(0x691)]=new Map();[_0x2f335d(0x602)];constructor(_0x2ade3f,_0x47f810,_0x27068c){const _0x16ca92=_0x2f335d;this[_0x16ca92(0xa5)]=_0x2ade3f,this['configs']=_0x47f810,this[_0x16ca92(0x4f5)]=new _0x23b2bd(this[_0x16ca92(0xa5)]),_0x55a101['initialize'](),this[_0x16ca92(0x7b2)]={'audioContext':_0x27068c?.['audioContext']??(_0x55a101[_0x16ca92(0x9c)](_0xb29486[_0x16ca92(0x516)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x27068c?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x27068c?.[_0x16ca92(0x155)]??0x3,'maxConnections':_0x27068c?.[_0x16ca92(0x321)]??(_0x27068c?.['minConnections']&&0x4*_0x27068c[_0x16ca92(0x155)])??0xc,'maxDistance':_0x27068c?.[_0x16ca92(0x74a)]??0xa,'maxFps':_0x27068c?.[_0x16ca92(0x654)]??0x18,'maxBpp':_0x27068c?.[_0x16ca92(0x1ed)]??0.12,'objectStoreConnector':_0x27068c?.[_0x16ca92(0x4af)]??_0x157a44[_0x16ca92(0x6f2)],'externalStorageConnectors':_0x27068c?.[_0x16ca92(0x9ce)],'keyValueDatabaseConnector':_0x27068c?.[_0x16ca92(0x4f4)]??_0x3a9808[_0x16ca92(0x573)],'loggingDatabaseConnector':_0x27068c?.[_0x16ca92(0x979)]??_0x3a9808['IDBDatabaseConnector'],'peerConnectionConnector':_0x27068c?.['peerConnectionConnector']??_0x288bf3[_0x16ca92(0x24e)],'generativeAIWorkerConnectors':_0x27068c?.[_0x16ca92(0x2a4)],'vectorDatabaseConnector':_0x27068c?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x27068c?.[_0x16ca92(0x1c7)],'documentParserConnector':_0x27068c?.[_0x16ca92(0x601)],'nlpLibraryConnector':_0x27068c?.[_0x16ca92(0x265)],'searchConnector':_0x27068c?.[_0x16ca92(0x642)],'aiSearchConnector':_0x27068c?.['aiSearchConnector'],'queryFileConnector':_0x27068c?.['queryFileConnector']},_0x27068c?.[_0x16ca92(0x707)]&&this[_0x16ca92(0x7b2)][_0x16ca92(0x88d)]&&_0x438e57['startNoThrottlingHack'](this[_0x16ca92(0x7b2)][_0x16ca92(0x88d)]),_0x5a023b[_0x16ca92(0x54d)](this[_0x16ca92(0xa5)]),_0x27068c?.[_0x16ca92(0x913)]&&_0x5a023b[_0x16ca92(0x950)](_0x27068c[_0x16ca92(0x913)]);}static async[_0x2f335d(0x1e6)](_0x2b3028,_0x3422bf,_0x3a1664,_0x140cb8,_0x576aa0){const _0x1defe9=_0x2f335d;this[_0x1defe9(0x326)]=_0x3a1664;const _0xbf9fbb=await this['validateAccess'](_0x2b3028,_0x3422bf,_0x576aa0);return _0x4e2ee7['instance']||(_0x4e2ee7['instance']=new _0x4e2ee7(_0x2b3028,_0xbf9fbb,_0x140cb8)),{'close':_0x4e2ee7[_0x1defe9(0x26a)][_0x1defe9(0x476)][_0x1defe9(0x1b9)](_0x4e2ee7['instance']),'authenticateUser':_0x4e2ee7[_0x1defe9(0x26a)][_0x1defe9(0xbe)][_0x1defe9(0x1b9)](_0x4e2ee7[_0x1defe9(0x26a)]),'authenticateAgent':_0x4e2ee7['instance'][_0x1defe9(0x18d)]['bind'](_0x4e2ee7[_0x1defe9(0x26a)]),'joinCluster':_0x4e2ee7['instance'][_0x1defe9(0x3ef)]['bind'](_0x4e2ee7[_0x1defe9(0x26a)])};}static async[_0x2f335d(0x5c9)](){const _0xb11f69=_0x2f335d;return _0x2825b2[_0xb11f69(0x5b2)]();}static[_0x2f335d(0x405)](){const _0xc4650e=_0x2f335d;return _0x4dc50e[_0xc4650e(0x405)];}async[_0x2f335d(0x476)](_0x3c4b10){const _0x1b47fa=_0x2f335d;this['clusters'][_0x1b47fa(0x82f)](_0x1c2761=>{const _0x9e5da1=_0x1b47fa;_0x1c2761[_0x9e5da1(0x6d5)](),_0x1c2761['leave'](_0x3c4b10);}),this[_0x1b47fa(0x691)][_0x1b47fa(0x18c)](),this['options'][_0x1b47fa(0x88d)]&&_0x438e57[_0x1b47fa(0x6e3)](),_0x4e2ee7[_0x1b47fa(0x5be)]?.(),_0x4e2ee7[_0x1b47fa(0x5be)]=void 0x0,this['authContext']=void 0x0,await this[_0x1b47fa(0x4f5)][_0x1b47fa(0x17d)](),_0x4e2ee7[_0x1b47fa(0x26a)]=void 0x0;}static async[_0x2f335d(0x1d0)](_0x3ec778,_0x4bb173,_0x3b25f3){const _0x56dcf9=_0x2f335d;if(!this[_0x56dcf9(0x326)])throw new _0x194c78(_0x2e40c3[_0x56dcf9(0x2c0)],'Node\x20type\x20is\x20required');let _0x1a797c;try{_0x1a797c=await(0x0,_0x53e21c[_0x56dcf9(0x11b)])(_0x2825b2[_0x56dcf9(0x56e)](),_0x56dcf9(0x3f8))({'vendorId':_0x3ec778,'accessToken':_0x4bb173,'secretKey':_0x3b25f3});}catch(_0x5b440d){throw new _0x194c78(_0x2e40c3['InvalidAccess'],_0x56dcf9(0x689));}if(!this['isInternalSDKConfigs'](_0x1a797c['data']))throw new _0x194c78(_0x2e40c3['InvalidAccess'],_0x56dcf9(0x689));const _0x5a77af=_0x1a797c[_0x56dcf9(0x1c9)];return _0x5a77af[_0x56dcf9(0x91a)]||(_0x5a77af[_0x56dcf9(0x91a)]=[]),this[_0x56dcf9(0x5be)]||(this['unsubscribe']=_0x438e57['setInterval'](async()=>{const _0x4f5dfd=_0x56dcf9;try{const _0x24c622=await this[_0x4f5dfd(0x1d0)](_0x3ec778,_0x4bb173,_0x3b25f3);this[_0x4f5dfd(0x326)]===_0x47407f['NodeType'][_0x4f5dfd(0x5e0)]&&(_0x24c622[_0x4f5dfd(0x6d2)]=_0x24c622[_0x4f5dfd(0x6d2)][_0x4f5dfd(0x379)](_0x263668=>_0x263668[_0x4f5dfd(0x473)]['startsWith']('stun:'))),_0x5a77af['iceServers']=_0x24c622['iceServers'];}catch(_0x56ed60){}},0x1b7740)),_0x5a77af;}async[_0x2f335d(0xbe)](_0x322565){const _0x20d59e=_0x2f335d;if(_0x4e2ee7['mode']!==_0x47407f[_0x20d59e(0x1b2)][_0x20d59e(0x8c2)])throw new _0x194c78(_0x2e40c3[_0x20d59e(0x2ba)],'Node\x20type\x20is\x20invalid');await this[_0x20d59e(0x4f5)][_0x20d59e(0x517)](_0x322565);const _0x3870a9=new _0x4b320a(_0x322565['id'],_0x322565['displayName'],_0x322565[_0x20d59e(0x74d)]);return this[_0x20d59e(0x602)]={'node':_0x3870a9},_0x55a101['logSupport'](_0x3870a9),{'type':_0x47407f['NodeType'][_0x20d59e(0x8c2)],'getId':_0x3870a9[_0x20d59e(0x92c)]['bind'](_0x3870a9),'getDisplayName':_0x3870a9[_0x20d59e(0x15c)][_0x20d59e(0x1b9)](_0x3870a9),'getEmail':_0x3870a9['getEmail']['bind'](_0x3870a9),'setDisplayName':_0x3870a9[_0x20d59e(0x936)][_0x20d59e(0x1b9)](_0x3870a9),'setEmail':_0x3870a9[_0x20d59e(0x4cf)][_0x20d59e(0x1b9)](_0x3870a9)};}async[_0x2f335d(0x18d)](_0x5d8372){const _0x205baf=_0x2f335d;if(_0x4e2ee7[_0x205baf(0x326)]!==_0x47407f['NodeType'][_0x205baf(0x5e0)])throw new _0x194c78(_0x2e40c3['NodeInvalidType'],_0x205baf(0x4a1));const {id:_0x4387bd,groupId:_0x1e62d7}=_0x5d8372,_0x30f2fe=await(0x0,_0x50cb11[_0x205baf(0x8a1)])((0x0,_0x50cb11[_0x205baf(0xc6)])(_0x2825b2[_0x205baf(0x8be)](),_0x205baf(0x6de)+this[_0x205baf(0xa5)]+_0x205baf(0x14e)+_0x1e62d7));if(!_0x30f2fe[_0x205baf(0x9f)]())throw new _0x194c78(_0x2e40c3['NodeNotAuthenticated'],_0x205baf(0x9d0));const _0x21cff4=_0x30f2fe[_0x205baf(0x1c9)]();await this[_0x205baf(0x4f5)][_0x205baf(0x517)]({'id':_0x4387bd});const _0x2a1427=new _0x1904f8(_0x4387bd,_0x1e62d7,this[_0x205baf(0xa5)],_0x21cff4);return this[_0x205baf(0x602)]={'node':_0x2a1427},_0x55a101[_0x205baf(0x6b5)](_0x2a1427),this[_0x205baf(0x919)](_0x2a1427),{'type':_0x47407f[_0x205baf(0x1b2)]['Agent'],'getId':_0x2a1427[_0x205baf(0x92c)]['bind'](_0x2a1427),'onConfigurationChange':_0x2a1427[_0x205baf(0x5f7)][_0x205baf(0x1b9)](_0x2a1427),'setReportCapacity':_0x2a1427[_0x205baf(0x456)][_0x205baf(0x1b9)](_0x2a1427)};}async[_0x2f335d(0x3ef)](_0x121f80){const _0x301ad8=_0x2f335d;if(!this['authContext'])throw new _0x194c78(_0x2e40c3[_0x301ad8(0x77e)],_0x301ad8(0x63e));if(this[_0x301ad8(0x602)][_0x301ad8(0x29c)][_0x301ad8(0x4e7)]!==_0x47407f['NodeType']['User'])throw new _0x194c78(_0x2e40c3[_0x301ad8(0x55d)],_0x301ad8(0x9c4));if(this[_0x301ad8(0x691)]['has'](_0x121f80))throw new _0x194c78(_0x2e40c3[_0x301ad8(0x452)],_0x301ad8(0x261));const _0x340843=new _0x4a8dfa(this['vendorId'],_0x121f80,this[_0x301ad8(0x602)][_0x301ad8(0x29c)],this[_0x301ad8(0x4f5)],this[_0x301ad8(0x7b2)],this[_0x301ad8(0xd5)]);return await _0x340843[_0x301ad8(0x67e)](),this[_0x301ad8(0x123)](_0x121f80,_0x340843),_0x5a023b[_0x301ad8(0x5e8)](_0x301ad8(0x392),{'clusterId':_0x121f80,'nodeId':this[_0x301ad8(0x602)][_0x301ad8(0x29c)]['getId'](),'nodeType':this[_0x301ad8(0x602)][_0x301ad8(0x29c)]['type']}),{'leave':_0x340843[_0x301ad8(0x409)]['bind'](_0x340843),'getLocalNode':_0x340843['getLocalNode'][_0x301ad8(0x1b9)](_0x340843),'openPubSubTopic':_0x340843[_0x301ad8(0x3bd)]['bind'](_0x340843),'openObjectStoreBucket':_0x340843[_0x301ad8(0x844)]['bind'](_0x340843),'openExternalStorageConnection':_0x340843[_0x301ad8(0x847)][_0x301ad8(0x1b9)](_0x340843),'openKeyValueDatabase':_0x340843['openKeyValueDatabase'][_0x301ad8(0x1b9)](_0x340843),'openGenerativeAIContext':_0x340843[_0x301ad8(0x543)][_0x301ad8(0x1b9)](_0x340843),'openGenerativeAIWorker':_0x340843[_0x301ad8(0x31e)][_0x301ad8(0x1b9)](_0x340843),'openGraphDatabase':_0x340843[_0x301ad8(0x331)][_0x301ad8(0x1b9)](_0x340843),'openVectorDatabase':_0x340843[_0x301ad8(0x115)][_0x301ad8(0x1b9)](_0x340843),'publishLocalMediaStream':_0x340843['publishLocalMediaStream'][_0x301ad8(0x1b9)](_0x340843),'publishLocalDynamicMediaStream':_0x340843[_0x301ad8(0x9ca)][_0x301ad8(0x1b9)](_0x340843),'getPubSubTopics':_0x340843[_0x301ad8(0x515)][_0x301ad8(0x1b9)](_0x340843),'getObjectStoreBuckets':_0x340843['getObjectStoreBuckets'][_0x301ad8(0x1b9)](_0x340843),'getExternalStorageConnections':_0x340843[_0x301ad8(0x6a7)][_0x301ad8(0x1b9)](_0x340843),'getKeyValueDatabases':_0x340843[_0x301ad8(0x5ec)]['bind'](_0x340843),'getGenerativeAIContexts':_0x340843['getGenerativeAIContexts'][_0x301ad8(0x1b9)](_0x340843),'getGenerativeAIWorkers':_0x340843[_0x301ad8(0x372)][_0x301ad8(0x1b9)](_0x340843),'getGraphDatabases':_0x340843[_0x301ad8(0x630)][_0x301ad8(0x1b9)](_0x340843),'getVectorDatabases':_0x340843['getVectorDatabases'][_0x301ad8(0x1b9)](_0x340843),'getLocalMediaStreams':_0x340843[_0x301ad8(0x81a)][_0x301ad8(0x1b9)](_0x340843),'getRemoteMediaStreams':_0x340843[_0x301ad8(0x287)][_0x301ad8(0x1b9)](_0x340843),'getRemoteNodes':_0x340843[_0x301ad8(0x78e)][_0x301ad8(0x1b9)](_0x340843),'on':_0x340843['on'][_0x301ad8(0x1b9)](_0x340843),'off':_0x340843[_0x301ad8(0x6d5)]['bind'](_0x340843)};}async[_0x2f335d(0x919)](_0x2edd83){const _0x159f0e=_0x2f335d;for(const _0x4f05c9 of _0x2edd83[_0x159f0e(0x8d1)]['clusters']){const _0xd40f69=new _0x4a8dfa(this['vendorId'],_0x4f05c9['id'],_0x2edd83,this[_0x159f0e(0x4f5)],this[_0x159f0e(0x7b2)],this['configs']);await _0xd40f69[_0x159f0e(0x67e)](),this[_0x159f0e(0x123)](_0x4f05c9['id'],_0xd40f69),_0x5a023b['forceLog'](_0x159f0e(0x541),_0x4f05c9['id']);for(const _0x57f948 of _0x4f05c9['pubSubTopics']??[])_0xd40f69[_0x159f0e(0x3bd)](_0x57f948),_0x5a023b['forceLog']('Opened\x20pubsub\x20topic',_0x57f948);for(const _0x12eaea of _0x4f05c9[_0x159f0e(0xa9)]??[])await _0xd40f69[_0x159f0e(0x844)](_0x12eaea),_0x5a023b[_0x159f0e(0xc1)](_0x159f0e(0x94),_0x12eaea);for(const _0x1679bb of _0x4f05c9['modelStorageBuckets']??[])await _0xd40f69[_0x159f0e(0x844)](_0x1679bb,{'standalone':!0x0}),_0x5a023b[_0x159f0e(0xc1)](_0x159f0e(0x780),_0x1679bb);for(const _0x3fa965 of _0x4f05c9[_0x159f0e(0x5f6)]??[]){const _0x36fe27=_0x3fa965[_0x159f0e(0x187)]('-');await _0xd40f69['openExternalStorageConnection'](_0x36fe27[0x1],_0x36fe27[0x0]),_0x5a023b['forceLog']('Opened\x20external\x20storage\x20connection',_0x3fa965);}for(const _0xe4c3d9 of _0x4f05c9['keyValueDatabases']??[])await _0xd40f69[_0x159f0e(0x149)](_0xe4c3d9,{'version':0x1,'tables':{}}),_0x5a023b['forceLog'](_0x159f0e(0x8c4),_0xe4c3d9);for(const _0x141029 of _0x4f05c9[_0x159f0e(0x35e)]??[])_0xd40f69[_0x159f0e(0x331)](_0x141029),_0x5a023b[_0x159f0e(0xc1)](_0x159f0e(0x131),_0x141029);for(const _0x344035 of _0x4f05c9[_0x159f0e(0x45a)]??[])_0xd40f69[_0x159f0e(0x115)](_0x344035),_0x5a023b[_0x159f0e(0xc1)](_0x159f0e(0x438),_0x344035);for(const _0x187813 of _0x4f05c9['generativeAIContexts']??[]){const _0x46b4ed=_0x25f6ec(this['vendorId'],_0x187813),_0x4a5c47=_0x5b1811(),_0x5ed02c=this[_0x159f0e(0x7b2)][_0x159f0e(0x979)]??this[_0x159f0e(0x7b2)][_0x159f0e(0x4f4)];await _0xd40f69[_0x159f0e(0x149)](_0x46b4ed,_0x4a5c47,_0x5ed02c),_0x5a023b['forceLog'](_0x159f0e(0x6b2),_0x46b4ed),await _0xd40f69[_0x159f0e(0x31e)](_0x187813),_0x5a023b[_0x159f0e(0xc1)](_0x159f0e(0x230),_0x187813);}}}['addCluster'](_0x402c1f,_0x24de4b){const _0x44729c=_0x2f335d;this['clusters'][_0x44729c(0x120)](_0x402c1f,_0x24de4b),_0x24de4b['on'](_0x44729c(0x16f),()=>{const _0x4cf3ee=_0x44729c;_0x24de4b[_0x4cf3ee(0x6d5)](),this[_0x4cf3ee(0x691)]['delete'](_0x402c1f);});}static[_0x2f335d(0x42a)](_0x2f1cf7){const _0x4f3aa4=_0x2f335d;return void 0x0!==_0x2f1cf7[_0x4f3aa4(0x6d2)];}}return _0xfc9bc5;})())));