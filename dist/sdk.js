function a0_0x3e03(){const _0x28e033=['getMediaStream','MediaStreamPriority','CloseGraphDatabase','mute','SenderPeerConnection\x20send','getRoot','shouldEmit','RemoteMediaStreamTrackFail','internalContext','recipients','graph-database','SyncComplete','destroy','send','setParams','accessToken','call','NodeManager\x20-\x20PublishNodeLeave','tracks','file-download','__esModule','object-store-invalid-state','openObjectStoreBucket','handleNeedRestart','isMediaSource','stop','clusterKey','transactionsToSync','getCoresFromCapacityReport','addRemoteNode','cleanOldSubscription','delta','aiSearchApiKey','batchTimeout','MissingSystemTopic','getEstimatedTimestamp','April\x202024','listenUnsubscriber','previous','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','unsubscribeListener','handleContentRemoteMediaStreamTrackFail','Account','getRemoteNodes','processLocalReport','collection-query','No\x20destinationIds\x20left','KeyValueDatabase\x20not\x20found','Chosen\x20answer','connectAgent','objectRequests','getSettings','updateLastTransactionId','JobWorkerDoesNotExist','RemoteMediaStreamAlreadyExists','score','minResolutionScale','ObjectStoreNotInSync','incomingManager','transactionService','\x20Fallback\x20model','tail','taskType','signInWithCredential','isChannelEnabled','width','encode','FormSubmitForm','collection','addAudioTrack','request-file-write','uuid','pubSubTopics','registerSystemSource','JobQueueService:\x20Error\x20running\x20job','eventListener','padStart','getWorkflow','\x20received\x20result:','UnpublishMediaStream','Move','file-write','createBuffer','statsReport','priority','created','clientHeight','createConstantSource','chunk-splitter','/capacities','Receiver','handshakeDebounce','User\x20not\x20signed\x20in','getConnection','checkBackgrounds','AiSearch','KeyValueDatabase\x20-\x20Sync\x20completed','onValue','handleChunkMessage','mergeParts','generativeAIContexts','senderPreviousTimestamp','connectionGroup','gpt-4o-transcribe','getJobDispatchers','time_per_frame','embedding','height','getConnectionGroup','threshold','appendTransaction','upgradeTimeout','totalEncodeTime','key-value-database-transaction-table-not-initialized','docs','payloadType','Interviewer\x20Agent','snippet','19582310ghHPfD','removeTopic','chained','total','contentType','saveToDisk','handleUpdateMediaStream','clearHeartbeat','updateDebounce','time','graph-database-does-not-exist','GenerativeAIContextCreationFailed','ContentType','comparePeaks','KeyValueDatabaseRequestTransactionsValue','Error\x20executing\x20agent','rating','getNumberOutgoingSubscriptions','content-unpublish-media','Sync\x20completed','GenerativeAIContextAlreadyExists','createRemoteNode','.py','unregisterPublisherListener','Restart\x20NeedMediaStream','us-east-1','object-storage-upload','whisper-1','load','Found\x20','job-worker-does-not-exist','JobWorker:\x20Tracing\x20not\x20implemented','getVideoTracks','Anthropic','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','Stats','RestartNeedMediaStream','Internal\x20event\x20\x27','handleOutgoingSystemEvents','contentMediator','authContext','streamId','getTrackFromParam','getWorkflowExternalStorageConnections','sync','getRemoteMediaStream','off','DataChannel\x20is\x20not\x20initialized.','createNewBatch','aiSearchConnector','senderTimeProcessing','Missing\x20search\x20API\x20key','Invalid\x20query','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','processReceiverReport','receiverPreviousTimestamp','Cannot\x20list\x20directory:\x20','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','Cannot\x20get\x20file:\x20','Upload','handleNodeJoinNeedPublishedStream','6070056BUJRFl','jobQueue','JobDispatcherCreationFailed','form-skill-submit-form','GenerativeAIRatingStatus','getDataCollection','removeJobWorker','Workflow','o4-mini','onDataChannel','sendReject','setScheduleTime','PromptRating','Ingest','return\x20this','sonar-reasoning','optimizationLayers','GenerativeAIContextStats','NeedMediaStream','getOutgoingOptimizationConnections','sendTransactionsValue\x20-\x20value\x20not\x20found','hasTracks','generativeAISpeechConnectors','bid','All\x20recipients\x20already\x20received','getDataBucketIds','handleOnMessage','TestPage','\x20-\x20','localNode','LoggingService:\x20logging\x20enabled\x20for','appsync-close','.dart','chosenAnswers','Request','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','publishFolder','stopNoThrottlingHack','lastProcessRank','createLocalDynamicMediaStream','dataUnsubscribers','debounceProcessRank','developers','processJobStream','image','getLocalMediaStreams','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','addBidResponse','hash','storageType','syncContent','remoteNodes','updateJob','listenerUnsubscribers','Buffered\x20chunks\x20are\x20too\x20large','handleDisconnect','choices','connection-not-initialized','ancestors','syncTransactions','externalStorages','RequestFileSync','Writable\x20stream\x20is\x20missing','jobType','Invalid\x20key\x20\x27','pool','jobs','AgentSkill','writeBatch','getPubSubTopic','GraphSearch','url','appendTransactionAndUpdateHashMap','subscriptionManager','objectStores','joinCluster','setEncodingParameters','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','High','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','maxFps','lastTransactionId','Error\x20executing\x20code','Invalid\x20workflow\x20block\x20type.','jobDispatchers','sort','overlap','headers','GenerativeAIModelInputType','learn-agent','joinedClusters','.ipynb','endpointMethod','executeQuery','path','key-value-database-table-not-found','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','ConnectionNotConnected','JobDispatcherJobExists','getBitrate','parse','node-type-required','observer','JobQueueService:\x20Running\x20job','.sh','appsync-connect-fail','support','set','frameWidth','warning','jobPhase','function','OPFSObjectStoreConnector','pendingFilesSyncing','\x0a</','GraphDatabaseAlreadyExists','key-value-database-invalid-layout','key-value-database-name-not-string','WaitTrue','sender-send-message','clientStream','indexOf','WebGL','No\x20speech\x20connector\x20available','EntityExtractor','setStatus','Before\x20Synchronization','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','folder-create','answers','sendIceCandidates','destination','warn','GenerativeAIWorkerCreationFailed','Connection\x20already\x20exists','authenticateAgent','generative-ai','writeFile','remoteConnections','estimatedPlayoutTimestamp','getMaxConnections','forceLog','rejectReady','local-media-stream-already-exists','connectionManager','subscriptionRequests','knowledgeCutoffDate','ObjectStoreInvalidPayload','Rating','collection-delete','GetContextQuery','handleContentUnpublishMediaStream','ObjectStoreNotSynced','audioSource','debounceStats','getName','.json','mode','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','firebaseConfig','removeTrackListeners','List','remote-connection-exists','Unsupported\x20job\x20type','expectedTransactions','document-parser','lastRemediations','all','ConnectionState','transactionIds','removeListener','Processing','RequestFile','PubSubTopicAlreadySubscribed','workflow-tool','Job\x20with\x20id\x20','Processing\x20agent\x20block:\x20','play','connectionPool','jobObservers','handleContentSystemEvents','PayloadAction','CloseJobWorker','handleSystemEvents','AITrace','handleNodeJoin','getTransactions','getAncestors','nextNodeId','PubSubTopicNameNotString','createMediaStreamDestination','WorkflowTool','transactionHashMap','getKeyValueDatabases','joinedAt','streams','createReceiverConnection','getEmail','Failed\x20to\x20commit\x20batch\x20after\x20retries:','LocalMediaStreamNoAudioContext','retryCallback','ObjectStoreNameNotString','handleUnsubscribeMediaStream','key-value-database-peak-not-found','Search\x20connector\x20not\x20set','object-storage','WebScraper','Invalid\x20index\x20in\x20table\x20\x27','NodeInvalidType','calculateSize','DeviceConfig','organizationId','registerDestination','checkExistingPendingFileContent','key-value-database-table-name-reserved','distance','RoundTripTime','isBidResponse','Knowledge','agent','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','invalid-publisher','newPath','ExecuteCustomSkill','SpeechToSpeech','readyDebounce','maxBitrate','links','IngestTrace','processContentSynchronized','eleven_turbo_v2_5','debounceRebuildMMR','createWritableStream','addRemoteConnection','sendRequest','Base\x20Peer\x20Connection','.doc','Error','\x20to\x20generate\x20a\x20response.','createJob','processReport','Job\x20service\x20job\x20not\x20found.','Agent','unregisterCluster','vector-database-already-exists','custom-skill','getLabel','dedicated','getUserMedia','tool','deleteRemoteNode','Generative\x20AI\x20context\x20creation\x20failed.','tableName','VectorDatabaseStats','.rb','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','getTime','Invalid\x20job\x20worker\x20type.','checkAudioOutput','evaluateBids','getObjectStoreBuckets','DataChannel\x20is\x20not\x20open.','logConnectionState','Remote\x20connection\x20already\x20exists.','.crewdle-layout','KeyValueDatabaseStats','getRank','job-dispatcher-job-not-found','retryQueue','hasMessage','once','fetch-url','getExternalStorageConnection','listChanges','region','getJobs','from','Unknown\x20skill\x20type','JobDispatcher:\x20Received\x20job','Transaction','createPubSubTopic','loggingConnectors','join','agent-skill','right','getQuestion','removeObjectStore','.yaml','Audio','file','shouldProcessTransaction','Error\x20closing\x20trace','TextGeneration','reduce','setLocalRank','DTVolatility','setupStatsCollection','disableIntervalHack','KeyValueDatabaseAlreadyExists','getProviderId','senderBitrate','firebaseUnsubscriber','image_url','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','answer-','gpu','addReservedTables','FPS','connectionState','startBidResponseHandling','history','detectStreamIssues','Additional\x20context:\x0a','messagesReceived','childRemovedUnsubscriber','min','VectorSearch','Pool','ObjectStorageBucket','createSenderConnection','roundTripTime','output','addCluster','body','if_else','queryFile','Done','logUsage','Error\x20fetching\x20context','parseWorkflowDocument','WaitFalse','FetchUrl','JobWorker:\x20Received\x20job','availableTrackKinds','status','ExecuteCode','logEvent','removeTrack','failed','Connected','description','getGraphDatabase','getPeakNode','ExternalStorageInvalidPath','FormSetAnswer','vector-database-missing-connector','user','getSTVolatility','.djt','PubSubTopicStats','notifyJoin','mediaUnsubscribers','ragApiKey','ranges','findNewMediaSubscription','remediationManager','receiverCurrentTimestamp','createGenerativeAIContext','messageUnsubscriber','addDoc','chunk','No\x20model\x20available','\x27\x20in\x20table\x20\x27','logWaitTime','ragConnectors','onDisconnect','Missing\x20external\x20storage\x20connector','available','clearWaitAnswer','active','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','notifyObjectStoreOfNodeLeave','listenerUnsubscriber','Error\x20opening\x20trace','sendTransactionsValue','unregisterSystemPublisher','CPUCycle','user-update','removeGraphDatabase','claude-3-5-haiku-latest','runJobQueue','No\x20start\x20block\x20found','pubsubTopics','documentParserConnector','Job\x20Dispatcher\x20already\x20exists','externalStorageConnections','getTotalNodes','Rejected','job-','llama-3.1-8b','checkWebRTC','Insufficient\x20credits','.tpl','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Model','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','client','manageBufferedChunks','checkMediaRecording','manageAncestor','generative-ai-context-creation-failed','lastCapacityReport','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','logStorage','Debug','invalid-access','addTrack','GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found','searchInDataCollection','An\x20error\x20occurred','Stream\x20already\x20exists','invalid-subscriber','addPendingHandshakeCandidate','registerSystemPublisher','remote-stream-does-not-exist','.rkt','buffer','MediaStreamUnavailable','KeyValueDatabaseNotOpen','handleFolderCreate','getAgents','pendingHandshakeCandidates','object-store-name-not-string','jitter','grammar','inputTokenPrice','floor','signalingServer','\x20to\x20send\x20dispatcherJob\x20','crewdle-sdk-stg.appspot.com','getShareableStream','onConfigurationChange','signalingState','retry','detectVideoIssues','subscribedTracks','systemMessages','vectors','handleNodeSystemEvents','RemoteMediaStreamMissingProviderId','objectToArrayBuffer','node-type-not-supported','timestamp','handleNodeLeave','checkSyncComplete','graphDatabases','batchSize','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','name','discover','doc','NodeManager\x20-\x20NodeLeave','Resolution','.swift','DataStream\x20onMessage','getSimilarity','frameTime','remove','May\x202024','getQuery','AI\x20Worker\x20already\x20exists','handleUnpublishMediaStream','handleSubscribeMediaStream','key','buildQuery','event','addVideoTrack','Node\x20type\x20is\x20required','createExternalStorageConnection','completeSync','Local\x20node\x20rank\x20is\x20not\x20set','\x20writes\x20from\x20','onloadeddata','\x20Stream\x20final\x20response','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','\x20ms\x0a','Invalid\x20credentials','clusterId','mediaDevices','GenerativeAIWorker:\x20Opened','gpt-4.1','external-storage-invalid-path','connection-invalid-data-event','VectorDatabaseNameNotString','Logging\x20not\x20enabled\x20for\x20channel\x20','-leave','maxThreshold','Buffering\x20event','condition_result','logServiceEvent','gpt-4.1-mini','graph-database-creation-failed','queryFileConnector','Hash\x20computation\x20failed,\x20retrying...','KeyValueDatabase','prompt_tokens','removeRemoteMediaStream','remoteId','ConnectionGroup','en-US','Media','Prompt','registerSource','addEventListener','.pdf','waitConnected','key-value-database-invalid-query','isValidMediaSubscriptionParams','ClusterAlreadyJoined','getConfigs','open','captureStream','Model\x20not\x20found','handleAnswer','realtime-session-create','createPendingFileWrite','computeHash','stats','removeSubscriptionsForNode','CREWDLE_WEB_SDK','instantiateTransactionTable','nlpLibraryConnector','setDurationTime','closeSubscription','receiverTimeProcessing','code','addCandidate','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','commitType','Completed','Support','getAncestorIds','\x27\x20to\x20','ObjectStorage','addNode','KeyValueDatabaseInvalidValue','ObjectStorageUpload','handleContentUpdateMediaStream','KeyValueDatabaseTransactionValueNotSet','fileConnector','ConnectionBufferNotEmpty','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','connected','durationTime','file-ingest','Accepted','counter','.ps1','setupStatsReporting','ExternalStorageConnectionDoesNotExist','lastExecuted','Content','.tcl','standalone','removeEventListener','.ts','ingestFile','DataCollectionDoesNotExist','onBufferedAmountLow','ObjectKind','addIssue','Invalid\x20peer\x20connection\x20event\x20destination.','PubSubTopicDoesNotExist','debounceRebuildMMRWithTransaction','external-storage-connection-does-not-exist','getClosestNodes','application/json','random','handleDetectionSystemEvents','object','developers/','startLoggingCycle','capacityReporter','Early\x20return:\x20','inputType','removeLocalMediaStream','Node\x20not\x20authenticated','completed','value','initializeApp','entries','stringify','bytesSent','Node','find','/vector_stores/','discoveryUnsubscriber','graph-database-already-exists','owner','createSubscription','authenticateUser','createJobDispatcher','Backgrounds','topic','JobDispatcherAlreadyExists','loadEnabledChannels','crewdle-sdk.appspot.com','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','sequence','removeNode','crewdle-sdk-stg.firebaseapp.com','Incoming','SHA-256','async','output-stream','aws','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','subscription-request-in-progress','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','notifyClusterNodeJoin','cancel','.txt','getPartsFromSubscription','DataStream\x20send','system','Search','parentId','ExecuteWorkflow','getToolName','CannotProvideMediaStream','enabledChannels','updateLastUpdated','boolean','.docx','packets','subtle','processReports','currentTimestamp','replaceTrack','12eSAVWF','eventTarget','disconnectCallback','downgrade','AudioVolume','getInternalTrackParams','Error\x20searching','form-skill','prompts','sonar-reasoning-pro','connecting','senderCurrentBytes','appsync-statechange','setEmail','Upgrade','scheduleTime','thread-','tokens','getRemoteId','wait-true','cluster','Job','SubscriptionRequestDoesNotExist','request-file-sync','registerPublisher','replace','length','currentBytes','Emitting\x20event\x20on\x20local\x20cluster','MistletCapacityReportNotSet','getDataCollections','GenerativeAIRagType','.ini','requestSubscriptionAction','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','Query\x20is\x20required','element','Update','JobDispatcherObserverNotFound','onUnregisterPublisher','signInWithCustomToken','addBatchOperation','answererId','kind','timeReceiving','Index','ObjectStoreInvalidSyncMessage','cpu.av_delay','isOpened','displayName','sentence-splitter','job-worker-creation-failed','JobWorker:\x20Sending\x20job\x20bid','getBufferedAmount','handleLocalTrackFailure','Error\x20processing\x20ingest','getMonth','skipEncryption','NodeTypeNotSupported','arguments','getExternalStorageConnections','getMilliseconds','tts-1','Invalid\x20object\x20store\x20state.','tts-1-hd','restartHandshake','processDataChannelReport','propn','modelId','wait','job-dispatcher-creation-failed','86007wezEmE','GenerativeAIContextInvalidPartialResult','/transactions/','unsubscribeHandler','setUpgradeTimeout','.html','take','entity-extractor','FileMove','isJobAttribution','sendBid','GenerativeAIWorkerAlreadyExists','STVolatility','CloseJobDispatcher','getResolutionScale','endsWith','createGain','Code','\x20must\x20be\x20a\x20string','Error\x20encountered\x20while\x20opening\x20database','phi-4-14b','deleteObject','video','All','validateAccess','subscribe','moveObject','contextInputVariable','getNextTargetRank','Graph\x20database\x20creation\x20failed.','WorkflowInvalidBlockType','firebase-connect','Invalid\x20params','utf8','results','getCapacityReport','debounceReady','.xlsx','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','createIncomingSubscription','chooseAnswer','unsubscribeTrackEndedListener','Warning','traceLevel','_isReady','publishNodeLeave','MediaStream','connections','rootComputationPromise','JobStream','hasRemoteNode','Conditional\x20Router','clusterEventEmitter','CloseExternalStorageConnection','processTransactionsToComputeMMR','isEqual','appsync-no-destination','internal','read','label','onClose','GenerativeAIEngineType','nodeId','publishSyncCompleted','fileSendingMap','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','\x27\x20is\x20not\x20ready','.info/connected','getGraphDatabases','firstValueFrom','Attribution','not-resolved','some','GenerativeAIModelOutputType','GenerativeAIInferenceToolType','getMinConnections','enabled','toFixed','reportCapacity','openGenerativeAIContextStandalone','/developers/','getLocalNode','.mustache','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','sendWithRetry','ObjectStoreAlreadySubscribed','Subscription\x20request\x20failed.','hashPeakHashes','connection','Connection\x20does\x20not\x20exist.','additionnalInstructions','https://api.stg.crewdle.ai','processList','exports','sonar','ScreenSharing','senderPreviousBytes','object-store-not-in-sync','collectTransactionsFromNode','KeyValueDatabaseNameNotString','disconnect','Handshake','eventEmitter','accumulateResult','Data','Recording','FS\x20connector\x20is\x20not\x20available','GenerativeAIContext','systemMessagesReceived','/nodes','left','externalStorageConnectors','Count','\x20attributed\x20to\x20','peakHeights','toLowerCase','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','receiverTotalMessages','gpt-4.1-nano','.Total\x20pages\x20available:\x20','onNodeUpdate','Job\x20Worker\x20does\x20not\x20exist','external-storage-connection-already-subscribed','enumerateDevices','commitTrace','getDatabase','query-file','keyValueDatabaseConnector','resolution','PromptFunctionParamsType','canRestartHandshake','Could\x20not\x20open\x20trace','isSync','nodes','question','object-store-not-synced','Disconnected','Database\x20already\x20exists','query-helper-invalid-argument','claude-3-haiku-20240307','debounceReadyTimeout','debounceAppendLog','getPriority','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','Crewdle','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','between','sendFile','getApp','retrieveBlocks','publishSystemMessage','getSize','node-does-not-exist','StreamReport','evaluateProccessedJob','/jobs/','Invalid\x20key:\x20','getInternalStreamId','\x20transactions\x20from\x20node\x20','prompt','resetConnection','processRank','pop','isFailedResponse','logDataSent','Missing\x20index','No\x20global\x20object\x20found','removeRemoteConnection','write','handshakeState','removeTrackCallback','mediator','Channel\x20\x27','topK','append','Remove','Rejected\x20answer','findIndex','Core','CloseKeyValueDatabase','direction','processOutboundReport','close','setupTrackEndedListeners','\x20finalized.','getSubscriptionLabel','hasTable','publishSyncCompletedAfterWrites\x20-\x20','clear','Retrieve','getShareableStreamId','substring','local-media-stream-track-fail','lastUpdated','gpt-4o-mini-realtime-preview','deleteFileChunks','createFolder','handlePeerConnectionSystemEvents','reasoning','handleCloseContent','pub-sub-topic-already-exists','verb','claude-3-7-sonnet-latest','JobQueueService:\x20Job\x20completed','September\x202023','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','CloseGenerativeAIContext','object-store-cannot-write-transaction','WorkflowTrace','isInternalSDKConfigs','AppSync\x20subscribe','Failed\x20to\x20send\x20job\x20','/objectstores/','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','Failed\x20to\x20get\x20filename','responseTimeout','getSenderTotalBytes','syncKeyValueDatabase','NodeLeave','Invalid\x20layout:\x20','closeConnection','every','\x20seconds','remote-stream-missing-provider-id','eleven_multilingual_v2','audioContext','tableUnsubscriber','syncResolve','signaling','LoadKnowledgeFunction','isMediaDestination','not-in','isReconnecting','signOut','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','Cluster\x20already\x20joined','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','muted','graphService','compareTransactions','maps','clearSubscriptionRequestTimeout','GenerativeAIWorker:\x20FileDelete\x20failed','Error\x20processing\x20workflow\x20block','nodeManager','Node\x20does\x20not\x20exist.','usage','MediaStream\x20feature\x20not\x20enabled','web-scraper-raw','Text','size','openExternalStorageConnection','createMediaStreamSource','Mistlet\x20capacity\x20report\x20not\x20set.','setupResizeHandler','Error\x20retrieving\x20context','deleteTransactionsForTable','receivers','getPeaks','where','getTableConnector','receiver-on-message','.groovy','getEnabledChannels','objectStoreConnector','createKeyValueDatabase','agentConfig','asObservable','WebRTC','unpublish','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','questions','list','checkAudioContext','\x20must\x20be\x20a\x20number','currentFrames','DataChannel\x20buffer\x20is\x20full.','Job\x20',';base64,','setDoc','.xml','OfficeParser','ModelVector','subscription','connectionType','Subscription','streamLabel','GenerativeAILabelConflict','openaiApiKey','Error\x20querying\x20file','recomputeRoot','isWhereValues','FormGetQuestion','parseWorkflowBlocks','Execute\x20the\x20agent\x20','ObjectStore\x20not\x20found','pow','queueLength','internalProcessJob','iceServers','Database\x20does\x20not\x20exist','text-embedding-3-small','events','getWorkflowObjectStorageBuckets','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','files','entities','getSenderBitrate','generativeAIWorkerConnectors','LocalMediaStreamTrackFail','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','2-digit','layout','waitForArrayBufferSize','InternalSDKError','connection-not-connected','ObjectStoreInvalidPath','getLocalId','Key-value\x20database\x20table\x20does\x20not\x20exist.','onMessage','https://crewdle-sdk-default-rtdb.firebaseio.com','contentRect','sendPeakTransactions','handleStatsSystemEvents','exists','generative-ai-context-job-already-consumed','detectionManager','setRank','orderBy','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','localMediaStreams','syncTransactionsWritten','generateClient','getToolParams','relation-extractor','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','processReceivedTransactions','TimePerFrame','audioDestination','handshakeCandidates','key-value-database-already-exists','startsWith','httpsCallable','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','.tsx','JobDispatcherInvalidPayload','processInboundReport','maxBpp','problemType','\x0a\x20===\x20Total\x20Time:\x20','app','createBufferSource','file-list','trackEndedListeners','getOwnerId','generative-ai-context-job-failed','getReceiverTotalBytes','action','removeIncomingSubscription','\x20must\x20be\x20a\x20boolean','initializeSystemTopic','hosting','splitParts','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','Sending\x20\x27','Cannot\x20unpublish\x20object:\x20','Subject','processServiceReport','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','\x20not\x20found.','state','timeoutCallback','cluster-leave','Success','addMessage','input-stream','subscriptions','framerate','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','setReportCapacity','add','updateDebounceTimeout','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','handleConnectionSuccess','shift','concat','unregisterSystemSource','Received\x20event\x20on\x20cluster','origin','SystemStats','collection-create','getAvailableTrackKinds','push','database','\x20Stream\x20usage','Cannot\x20get\x20size\x20of\x20path:\x20','getConnectionDestinations','getGenerativeAIContextsStandalone','Text\x20is\x20required','Outgoing','KeyValueDatabaseSendTransactions','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','Generative\x20AI\x20context\x20job\x20already\x20consumed.','VectorDatabaseMissingConnector','\x20deleted.','getContent','vector-database-does-not-exist','parseDataCollectionBlocks','PromptSource','tableObserver','operator','batch','arrayBufferToObject','authNode','isSubscribed','coordinator-agent','image-parser','messageType','getSentences','if-else-router','CloseObjectStoreBucket','rank','updatePropagationProperties','publishMove','getOrResetPendingFileTimeout','jobBids','text/plain','Key-value\x20database\x20peak\x20not\x20found.','transformations','onDisconnectHandler','processContentAvailable','transaction','getIsLoaded','getLastUpdated','forEach','bytesReceived','Local\x20MediaStream\x20already\x20exists','checkWebGL','join-cluster','discoveryService','Missing\x20AI\x20worker\x20connector','openGenerativeAIContext','reportMetric','.rs','indexes','mmr','crewdle','workflow-invalid-block-type','onTrack','IntermediateOutput','PubSub\x20already\x20exists','FolderCreate','Jitter','claude-sonnet-4-0','searchOnGoogle','setOnMessageHandler','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','changesUnsubscriber','getFirestore','ExternalStorageConnectionAlreadySubscribed','ended','Bid','crewdleSDKEnableLogging','localId','Vector','invalid-subscription','interview-agent','SearchGoogle','waitSuccess','issues','connection-buffer-not-empty','messagesSent','Logging\x20trace','GenerativeAIWorker:\x20Opening','Embed','/transactions','/transactions/lastTransaction','clearSyncTimeout','relevance','callback','removePubSubTopic','handleFileSync','heartbeatUnsubscriber','isJobRequest','handleNodeUpdate','removeExternalStorageConnection','currentVersion','bufferEvent','No\x20more\x20questions,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','insert','chunks','Search\x20Agent','clearRect','InputStream','vector-database','text/event-stream','orchestrator-close','KeyValueDatabaseRequestPeakTransactions','lastHeartbeat','/search','PartialResult','outgoing-stream-no-topic','validateKey','generative-ai-context-invalid-partial-result','remoteUnsubscriber','observe','Bitrate','updateUser','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','handleRemediationSystemEvents','outgoingStreams','long','setConnectionType','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','problem','createBatchOperation','key-value-database-index-not-found','Learning\x20Agent','Search\x20in\x20data\x20collection\x20','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','getJob','executeJavascriptCodeSnippet','AppSync\x20publish','Key-value\x20database\x20creation\x20failed.','ObjectStore','Database\x20not\x20open','Data\x20Sent','drawImage','onNodeDisconnect','uid','pendingSyncTransactions','Error\x20resolving\x20readyPromises:','[DONE]','evaluateBidsAndAttributeJob','GraphDatabaseCreationFailed','getDisplayName','sendStats','PubSubTopicAlreadyExists','configs','jobWorkers','NodeAlreadyExist','success','key-value-database-not-open','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','KeyValueDatabaseSyncRequired','destinationIds','asc','handleSuccess','Amplify','clusters','.lua','createTopic','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','channel','createLocalMediaStream','Today\x20Date:\x20','detectLocalIssues','queues','failJob','isNeedRestart','auth','blockId','DataCollection','GenerativeAIWorkerMissingConnector','processBatch','compileStats','setProviderId','10215333KGkSmt','timesCalled','log','setPendingFileSyncingPayload','Submit\x20the\x20form.','writes','appsync-connect','CustomSkill','statsReporting','word-splitter','model','queryOrPrompt','ReceiverOnMessage','minRelevance','openJobWorker','remote-media-stream-already-exists','digest','collectionId','Info','claude-3-5-sonnet-latest','6OoeWTu','syncedFileExists','ExternalStorageUpload','DataStream','ceil','dispatchEvent','Data\x20cluster\x20is\x20not\x20open.','calculateArrayBufferSize','No\x20connector\x20found\x20for\x20model','MissingRemoteConnection','bufferedEvents','getWorkflows','getContentType','\x20is\x20required','\x20with\x20response:','videoWidth','resume','readyPromises','4OZbQHd','VectorDatabaseCreationFailed','Feedback\x20Agent','checkScreenSharing','noun','unregisterPublisher','getAudioTracks','Parameter\x20','workflow','isLoaded','answer','isArray','validation','Boolean','trim','northamerica-northeast1','match','GraphDatabaseMissingConnector','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','peerConnectionConnector','collectStats','SubscriptionRequestFailed','Support:\x20','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','\x20answer','Archival\x20Search\x20Agent','.php','getPubSubTopics','ObjectStoreCannotWriteTransaction','documentPath','Job\x20service\x20creation\x20failed.','openPubSubTopic','sdkValidateAccess','User','error','.twig','getDistance','InvalidAccess','420235181083','GenerativeAIWorkerModelSyncError','PubSubTopic\x20not\x20found','From\x20','addConnection','Remediation','user-join','sampleRate','successNotified','Valid\x20layout','InvalidDataChannel','_ready','pub-sub-topic-name-not-string','Competitive\x20Analysis\x20Agent','getConnectionType','deletePendingFile','retryLimit','subject','CONNECTION_STATE_CHANGE','PubSubTopic\x20publish','Operations:','.cfg','graphDatabaseConnector','packetsSent','oidc','Problem','Cannot\x20find\x20External\x20Storage\x20connection:\x20','feedback-agent','handleNoAnswer','type','incrementVersion','WebRTCBrowserPeerConnectionConnector','crewdle-sdk','WriteFile','\x20Ai\x20search\x20final\x20response','buildTableEvent','lastClockUpdate','\x0a\x20\x20===\x20Total\x20Nodes:\x20','ExternalStorageStats','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','now','setOnDisconnectHandler','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','cachedRoot','key-value-database-creation-failed','source','removeOutgoingSubscription','377124SQlfiO','NodeType','subscription-request-no-answer','.erb','peer-connection','LocalMediaStreamAlreadyExists','ObjectStoreDoesNotExist','Object\x20store\x20is\x20not\x20in\x20sync','endpointUrl','result','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','unshift','Job\x20Dispatcher\x20does\x20not\x20exist','getTrack','setupConnectionEvents','decodeJWT','getSupportedContentTypes','commitLevel','sdk-internal-error:\x20','Execute\x20skill\x20','validateValue','onConnectionStateChange','searchEngineId','receiverCurrentBytes','setRemoteNode','retryQueues','bitrate','shouldContinuePropagation','keys','getId','logLevel','required','WordSplitter','Workflow\x20output\x20is\x20not\x20a\x20string','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','index','detail','\x20created\x20and\x20dispatched.','getAuth','isReady','handleMissingSenders','keyPath','default','GenerativeAITaskType','Missing\x20owner\x20node\x20or\x20rank','FileDelete','oncloseTimeout','SearchPerplexity','query','November\x202024','searchOnPerplexity','minConnections','Pinecone','CanProvideMediaStream','getFullYear','clearRestartTimeout','key-value-database-invalid-value','generative-ai-context-job-invalid-type','getToolDescription','Error\x20committing\x20batch:','accumulated','connector','inference','validateQuery','retryCount','onCandidate','SystemTopic\x20publish','completion_tokens','KeyValueDatabaseIndexNotFound','serverTimestamp','addProblem','queryCollection','gpt-4o-mini-transcribe','VectorDatabaseDoesNotExist','job-worker-already-exists','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','processSenderReport','limit','Received\x20content\x20available\x20from\x20node','/resources/external-storage/items/','handleContentUnsubscribeMediaStream','resolve','cost','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','InvalidPublisher','Module','resizeHandler','InitialPrompt','workflowId','pubsub','G-F7W8KXRKQB','generative-ai-context-job-timeout','ApiKeyMissing','getTable','getReceiverBitrate','JobWorker:\x20Received\x20job\x20request','manageOptimization','filteredDestinationIds','byteLength','images','.jinja2','Data\x20Received','internalId','entity','processTransactionPayload','object-store-stream-does-not-exist','Write\x20text\x20data\x20to\x20a\x20file.','key-value-database-transaction-value-not-set','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','gpt-4o-mini','WebScraperRaw','/nodes/','getObjectStoreBucket','detectProblems','handleFileWrite','threadId','startAt','internalProcessJobStream','ObjectStoreInvalidState','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','Queued','Generative\x20AI\x20Context\x20does\x20not\x20exist','timePerFrame','.sql','.java','strategizing-agent','Online','writeTransaction','data-collection-does-not-exist','.ppt','toString','getHash','KeyValueDatabasePeakNotFound','getMediaSubscription','msalGetAccessToken','Model\x20ID\x20is\x20required','processInboundReports','Executing\x20custom\x20skill:\x20','clusters/','systemTopic','Error\x20validating\x20vendor\x20credits','InvalidSubscription','cores','JobType','bufferedAmount','.md','validateLayout','getSubscribedTracks','trackCallback','/chat/completions','getReport','logInitialMMR','.j2','timeSending','AI\x20Service\x20already\x20exists','Embeddings','AudioOutput','isAvailable','outgoingManager','processPendingHandshakeCandidates','POST','https://api.crewdle.ai','handleContentSubscribeMediaStream','queries','content-publish-media','bodyParameters','RequestFileWrite','remoteMediaStreams','getInstance','subscribeToJobs','\x20received\x20responses:','question-','JobDispatcherInvalidJobType','createGenerativeAIContextStandalone','@root','Error\x20processing\x20retrieve','closeTopic','unsubscribe','OpenAI','undefined','Received\x20ContentSynchronized\x20from\x20','removeItem','options','Summary\x20Generator','KeyValueDatabaseContentAvailable','getLayout','previousTimestamp','frameHeight','renderElement','Node\x20is\x20not\x20an\x20agent','openGenerativeAIWorker','application/octet-stream','Vector\x20database\x20creation\x20failed.','bandwidth.bitrate','node','candidate','CrewdleSenderConnection\x20createOffer','email','deleteFile','isProduction','crewdleSDKDisableLogging','Early\x20return','contentSize','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','ner','handleOptimizationConnectionSuccess','vectorDatabaseConnector','March\x202025','executeWorkflow','connect','canAddCandidates','Restart','startIndex','emit','temperature','Missing\x20transaction\x20id','summary-generator','message','Job\x20worker\x20creation\x20failed.','setupRenderElement','publishLocalMediaStream','dataStores','Image','setAnswer','maxFramerate','Invalid\x20table\x20name\x20\x27','setItem','handleSubscriptionMediaStreamUnavailable','trackListeners','Add','vector-database-creation-failed','api-key-missing','functions','RemoteMediaStreamDoesNotExist','JobWorkerCreationFailed','LoadSkillFunction','KeyValueDatabaseTableNotFound','transactionTable','transactions','Node\x20type\x20is\x20invalid','timeoutValue','JobContext','Blank\x20Agent','peaks','handleTransactionPayload','GenerativeAIContextJobFailed','Receiving\x20\x27','getChannelData','\x27\x20from\x20','Error\x20executing\x20workflow','isNodeReady','FeatureNotEnabled','isConnected','setRemoteConnections','Invalid\x20content\x20type','suspended','trackKinds','NodeUpdate','outbound-rtp','Sender','speech-create','KeyValueDatabaseContentSynchronized','onremovetrack','removeJobDispatcher','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','getStatus','removeConnection','stream','authService','orchestrator','canvas','\x0a\x0adata:\x20','.bat','storage','external-storage','fallbackModel','receiverUnsubscribers','.info/serverTimeOffset','openVectorDatabase','JobWorker:\x20Received\x20job\x20attribution','onRemoveTrack','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','sonar-deep-research','setVendorId','DEBUG\x20-\x20','syncTimeout','maxOutgoingSubscriptions','VectorDatabase','relations','connectionTimeout','subscriptionRequestTimeouts','tools','crewdleSDKLoggingChannels','eleven_flash_v2_5','1:519415702791:web:5dd39042f881cfde3251a2','Offer','Entity','handleJobAttribution','version','Invalid\x20version\x20\x27','OutgoingMediaStreamNoTopic','voice','.css','onGatheringStateChange','key-value-database-does-not-exist','agent-update','Low','setForDeletion','ConnectionNotinitialized','cpu.cycle','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peer-connection-invalid-destination','performCalculation','FramePerSecond','dataChannel','Reranker','FinalOutput','image/','reset','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','handleNodeDisconnect','frames','LocalMediaStreamDoesNotExist','decode','sendAction','Invalid\x20subscription.','Error\x20closing\x20writable\x20stream','topics','checkAudioVolume','@context.','setLoggingConnectors','\x20sending\x20attempt\x20','anthropicApiKey','setOnTableWriteHandler','inputTokens','Stream\x20does\x20not\x20exist','loadFromDisk','urls','setSenderTimestamp','get-content','KeyValueDatabaseTableDoesNotExist','nodeUpdate','getEngineType','receiverConnection','connection-state','previousFrames','upload','totalNodes','ExternalStorageConnectionAlreadyExists','SpeechToText','messageCallback','connectorConstructor','Model\x20not\x20found\x20','UpdateMediaStream','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','Downgrade','globalObject','pathName','SubscriptionRequestInProgress','offset','waitAnswer','ENOENT','FormSkillSetAnswer','JobWorker:\x20Error\x20processing\x20job','totalDecodeTime','feature-not-enabled','isIceCandidate','KeyValueDatabaseTransactionTableNotInitialized','processPendingSyncTransactions','graph-database-missing-connector','createElement','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','startNoThrottlingHack','publishSyncCompletedAfterWrites','ModelText','<current-question>','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','map','tool-call','false','File\x20sending\x20interrupted','cluster-already-joined','VectorDatabaseAlreadyExists','next','data','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','defineProperty','Execute\x20the\x20workflow\x20','data:\x20[DONE]\x0a\x0a','FormSkillGetQuestion','contentManager','GenerativeAIContextJobMissingThreadId','Failed','connectionConstructor','openJobDispatcher','ragConnector','o3-mini','stun:','Missing\x20answerer\x20id\x20on\x20request\x20answer','splice','GenerativeAIWorkerStats','unregisterSource','Relation','canProvideResolution','listen','evaluatePartialJob','August\x202023','1.0.48.0','Missing\x20RAG\x20API\x20key','registerRemoteNode','openedTraces','Shared','handleOffer','rebuildMMR','inbound-rtp','generativeAIWorkers','contentRequestSent','rate','getTotalBytes','providerListener','write-file','createAIJob','logPropagateSystemEvent','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','GenerativeAIWorker:\x20CollectionDelete\x20failed','StorageEventType','Router','createGraphDatabase','System','handlePublishMediaStream','receiverStreams','logBatch','filesSynced','RemoteRemediation','SubscribeMediaStream','claude-opus-4-0','GenerativeAIContextJobTimeout','submitForm','flatMap','input_tokens','getDate','trend-spotter','/jobs','KeyValueDatabaseDoesNotExist','fromEntries','/resources/generative-ai-workflow/items','/embeddings','crewdle-sdk-stg','\x20must\x20be\x20a\x20valid\x20JSON\x20string','.crewdle-last-transaction','SentenceSplitter','isResultResponse','Invalid\x20JSON:','RemoteConnectionExists','apikeys/','codes','ExternalStorage','ChunkSplitter','removeSubscription','invalid-data-chanel','FormSkillSubmitForm','mmrRoot','createBatch','publishFile','toStringTag','October\x202023','has','Received\x20','notifyClusterNodeUpdate','nodeKey','Copywriter\x20Agent','router','request','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','NeedRestart','createOutgoingSubscription','Remote\x20stream\x20does\x20not\x20exist.','getMaxDistance','object-store-invalid-sync-message','getFunctions','claude-3-opus-latest','data:','Cannot\x20publish\x20payload:\x20','Default','outputTokens','NodeDoesNotExist','round','getCurrentMaxLayer','isPromiseResolved','KeyValueDatabaseInvalidLayout','registerSubscriber','ClosePubSubTopic','request-file','topicLabel','/resources/agent/items/','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','Internal\x20unknown\x20error:\x20','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','AI\x20Search\x20connector\x20not\x20set','local-media-stream-no-audio-context','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','handleHandshake','Failed\x20to\x20get\x20file','firebase-disconnect','chunksReceived','openTrace','node-already-exist','restartTimeout','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','abs','.yml','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','handleFileRequestAnswer','handleSubscriptionSystemEvents','currentBatch','TextToSpeech','Llamacpp','CloseVectorDatabase','ownerId','removeRemoteStreamSubscription','Consuming\x20buffered\x20event','all-minilm-l12-v2','max','onChildRemoved','ObjectStoreAlreadyExists','Subscribing\x20to\x20an\x20event:\x20on','senderTotalMessages','Node\x20already\x20exists.','generative-ai-worker-already-exists','isFeatureSupported','Partial','pendingFilesRename','external-storage-upload','vendorId','text-embedding-3-large','Waiting','handleError','GraphDatabaseStats','base64','SHA-1','LocalReport','String','Knowledge\x20Cutoff\x20Date:\x20','JobWorkerInvalidType','getGenerativeAIWorkers','memoryUsage','createVectorDatabase','Offline','external-storage-name-not-string','ready','llama-3.2-3b','AudioContext','increment','processRemoteInboundReport','Object\x20store\x20connector\x20is\x20not\x20available','No\x20RAG\x20connector\x20available','maxConnections','I\x20have\x20finished\x20executing\x20my\x20task.','PeerConnectionInvalidDestination','subscription-request-failed','getTransactionFromTableWriteEvent','Error\x20parsing\x20JSON:','file.content','setCurrentVersion','split','rtt','everyone','Missing\x20AI\x20search\x20API\x20key','detection','text','Connection','/resources/generative-ai-workflow/items/','.hs','getResolution','retryDelay','amd','getVectorDatabase','arrayBuffer','Detection','file-delete','loggingCycle','speechAIWorkerConnectors','isWhereBetween','Initial\x20MMR\x20built\x20with','document-agent','/resources/generative-ai-agent/items','getRemoteNode','groupId','feedback','Invalid\x20object\x20store\x20sync\x20message.','interval','messageListeners','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','getDoc','3924805CtsNzE','Optimization','debugEnabled','Send\x20request','outputType','startHeartbeat','includes','nodesConnected','ElevenLabs','getTransactionByHash','mediaStream','isInternalLoggingConnector','text/','Unknown\x20error','systemTopicUnsubscribe','senders','setInternalId','dataBucketIds','validateVendorCredits','KeyValueDatabaseInvalidQuery','publish','Delete','/traces','.ex','Disconnect','Key-value\x20database\x20transaction\x20value\x20not\x20set.','removeVectorDatabase','queryParameters','.pptx','getDTVolatility','More\x20content\x20available\x20on\x20page\x20','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','update','\x20check\x20failed','bandwidth.jitter','logMMRRebuild','get','models','remediations','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','bufferedChunks','maxDepth','catch','.liquid','PublishMediaStream','ExternalStorageNameNotString','getGenerativeAIContexts','ConnectionNoRetryQueue','UnsubscribeMediaStreamdiaStream','true','targetId','ref','startTime','\x20attempts:','bufferedAmountLowThreshold','removeGenerativeAIContext','attributes','trace','.exs','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','JobWorker:\x20Handling\x20job\x20attribution','RAG\x20connector\x20is\x20not\x20available','Store\x20already\x20exists','getItem','messageBuffer','CrewdleConnectionGroup','createConnection','CrewdleReceiverConnection\x20ontrack','removeKeyValueDatabase','CrewdleConnection\x20handlePeerConnectionSystemEvents','ingestBlocks','setPriority','getReader','confirmSynchronization','waitSendBuffer','Issue\x20detected:\x20','.conf','generative-ai-context-already-exists','providerId','agentId','handleSubscriptionNeedMediaStream','stopTracing','vectorDatabases','updated','fileChunks','.jsx','ccc','RemoteRemove','values','No\x20file\x20content\x20found','minThreshold','NodeNotAuthenticated','packetsLost','agent-join','handleRemoteTrackFailure','Prompt\x20is\x20required','InvalidSubscriber','endpoint','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','registerCluster','\x27\x20in\x20layout','CloseMediaStream','generative-ai-worker-creation-failed','Result','getAudioVideoDelay','gpt-4o','isSyncing','track','getConnections','parameters','Subscription\x20request\x20has\x20not\x20been\x20answered.','3924767OWxJbx','isComputingMMR','FileWrite','Answer','keyValueDatabases','setBytes','setIsLoaded','Dedicated','addEdge','Orchestrator\x20handleSystemEvents','getJobObservable','featureSupport','data-collection','.pug','leave','bind','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','Generative\x20AI\x20context\x20job\x20timeout.','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','AudioVideoDelay','maxTokens','sendFileRequestPayload','Error\x20processing\x20agent\x20block','\x0a\x20===\x20Total\x20Nodes:','handleContentCloseMediaStream','tables','FormSkill','currentDistance','count','\x20already\x20exists','debounceLogTimeout','.ejs','shared','statsCollection','getEntities','getJobWorkers','then','GenerativeAIContext\x20stream\x20error','onProviderChange','checkMediaStream','handleSubscriptionRestartNeedMediaStream','initialPrompt','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','sendChunked','webgl','previousBytes','UnsubscribeMediaStream',',\x20Transactions:\x20','0\x20B','graphql','handleObjectMove','operations','openKeyValueDatabase','Signaling','wait-false','/logs','agent-config-changed','generative-ai-worker-missing-connector','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage','getRemoteConnections','Wait','Cluster','clearWaitSuccess','hashNodes','delete','answerContentAvailable','getIdToken','RelationExtractor','commit','clearConnectionTimeout','publishUserUpdate','msalRefreshToken','instructions','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','remote-media-stream-invalid-subscription-params','JobStatus','AISearch','File','embed','ConnectionInvalidDataEvent','createOffer','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','KeyValueDatabaseTableNameReserved','senderStreams','Skill','loop','reads','GenerativeAIContextJobInvalidType','missing-system-topic','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','\x27\x20reserved','AudioContext\x20is\x20not\x20available','PubSubTopic\x20onMessage','Context','notifyCluster','clearOncloseTimeout','web-scraper','ai-search','maxDistance','Folder','setTimeout','transactionQueue','JobWorker:\x20Sending\x20job\x20reject','getContext','srcObject','fetchContentFromUrl','JobWorker:\x20Sending\x20job\x20result','New\x20MMR\x20Root:\x20','PeerConnection','Invalid\x20node\x20type','DocumentParser','closeTrace','Everyone\x20','createGenerativeAIWorker','QueryFile','publishTransaction','KeyValueDatabaseCreationFailed','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','SenderSendMessage','format','removeRemoteNode','val','AppSync\x20client\x20not\x20ready','numeric','instance','data:\x20','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','.vbs','setTransformations','stopConnection','clockSkew','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','gpt-4o-mini-tts','generative-ai-context-does-not-exist','job-worker-invalid-type','GetContextResult','initialize','FileStatus','getLocalMediaStream','hasBufferedData','1.0.48','handleSubscriptionUnsubscribeMediaStream','Invalid\x20job\x20type','form-skill-get-question','ExecuteAgent','engineType','setupListeners','getPartsForSubscriptionLabel','onHandshakeStateChange','Missing\x20OpenAI\x20API\x20key','slice','handleRequestPayload','handleSubscriptionSubscribeMediaStream','publishNodeJoin','NodeTypeRequired','component','ExternalStorageConnectorsMissing','out','assign','isPartialResultResponse','Number','Get','OutputStream','OptimizationConnectionSuccess','Invalid\x20value.\x20Property\x20\x27','getSubscriptionInfo','move','consumeBufferedEvents','reject','complete','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','NodeConnectionsUpdate','debug','RemoteAdd','Generative\x20AI\x20context\x20job\x20failed.','QueryBuilderInvalidArgument','incomingTopic','RequestAccepted','output_tokens','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','data-stream','Invalid\x20data\x20channel.','speak','isRunning','outgoingTopic','.js','Stats:\x20report','hashTransaction','combinePeaks','filter','subscriptionRequestsQueue','audio','Pending','Sender\x20connection\x20is\x20not\x20initialized.','sdkCreateToken','apiUrl','createCollection','orderByKey','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','getVectorDatabases','setSubscriptionRequestTimeout','Support:\x20current\x20config','canChooseAnswer','remediation','ImageParser','getRoundTripTime','sender','packetsReceived','checkDeviceConfig','file.type','NodeManager\x20-\x20NodeUpdate','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','setDisplayName','clearUpgradeTimeout','createAnswer','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','openAIKey','senderConnection','Invalid\x20subscriber.','searchConnector','AI\x20worker\x20creation\x20failed.','handleObjectDelete','setInterval','getTracks','secheduleTime','logSupport','race','tableLayout','Problem\x20detected:\x20','Invalid\x20where\x20clause','Tool','JobDispatcherJobNotFound','Generic\x20AI\x20Agent','run','\x20-\x20Sending\x20propagation\x20(','/workflows/','toLocaleDateString','Error\x20writing\x20chunk\x20to\x20stream','unregisterDestination','detectAudioIssues','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','SubscriptionRequestNoAnswer','head','answerJoin','receiverBitrate','supports','senderCurrentTimestamp','errorDetails','.\x20Confirmation?\x20','node-invalid-type','content','pendingFilesTransactions','transactionsToAppend','sourceId','text/csv','createObjectStoreBucket','Events','Memory\x20Usage\x20at\x20','jobId','page','\x20failed.','PubSub','job-dispatcher-observer-not-found','context','generative-ai-label-conflict','setReceiverTimestamp','crewdle-sdk-logging-','key-value-database','params','\x20not\x20supported','internalJob','.cs','firestore','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','handleProblem','notifyObjectStoreOfNodeJoin','connectionStateListener','configure','>\x0a\x0a','dbKey','checksum','registeredListeners','searchApiKey','Missing\x20remote\x20node\x20or\x20rank','getRemoteMediaStreams','logger','WorkflowDoesNotExist','Apply\x20remediation','applyRemediation','ObjectStoreStats','openGraphDatabase','isOffer','syncPendingFiles','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','Medium','processJob','Jobs','generic-agent','.erl','dataTopics','iceConnectionState\x20failed','JobWorker:\x20Sending\x20job\x20partial\x20result','mediaTopics','start','supportsContentType','executeAgent','resolveReady','setTimestamp','listener','blocks','createRemoteMediaStream','GraphDatabaseDoesNotExist','number','search-agent','statsManager','getDocs','committed','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','setReceiverBytes','maxResolution','readyResolve','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','account','Error\x20reading\x20file\x20chunk\x20after\x20','job-dispatcher-job-exists','isWhereValue','startTracing','resolutionScale','NodeJoin','features','elevenLabsApiKey','Code\x20is\x20required','ExternalStorageConnection\x20not\x20found','writeTransaction\x20-\x20transaction\x20already\x20exists','findNextNodeId','sourceVideo','graph-database-name-not-string','json','\x20already\x20exists.','vector','GraphDatabase','unregisterSubscriber','search','relation','propagate','hasOwnProperty','string','contextOutputVariable','getCurrentVersion','batchQueue','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','maxLayer'];a0_0x3e03=function(){return _0x28e033;};return a0_0x3e03();}function a0_0x314b(_0x50f801,_0xb06623){const _0x3e03f8=a0_0x3e03();return a0_0x314b=function(_0x314b88,_0x1410a0){_0x314b88=_0x314b88-0x1aa;let _0x4d60d0=_0x3e03f8[_0x314b88];return _0x4d60d0;},a0_0x314b(_0x50f801,_0xb06623);}(function(_0x3e5a96,_0x538eaf){const _0xb302a5=a0_0x314b,_0x55d8bb=_0x3e5a96();while(!![]){try{const _0x33dd1e=-parseInt(_0xb302a5(0x4af))/0x1*(-parseInt(_0xb302a5(0x6fc))/0x2)+parseInt(_0xb302a5(0x763))/0x3+-parseInt(_0xb302a5(0x70e))/0x4*(parseInt(_0xb302a5(0x9b9))/0x5)+-parseInt(_0xb302a5(0x468))/0x6*(-parseInt(_0xb302a5(0xa29))/0x7)+parseInt(_0xb302a5(0x1f1))/0x8+parseInt(_0xb302a5(0x6e8))/0x9+-parseInt(_0xb302a5(0x1b4))/0xa;if(_0x33dd1e===_0x538eaf)break;else _0x55d8bb['push'](_0x55d8bb['shift']());}catch(_0x816aa2){_0x55d8bb['push'](_0x55d8bb['shift']());}}}(a0_0x3e03,0xa014d),!function(_0x279a9c,_0x436473){const _0x1fd12f=a0_0x314b;if(_0x1fd12f(0x42c)==typeof exports&&'object'==typeof module)module['exports']=_0x436473();else{if(_0x1fd12f(0x260)==typeof define&&define[_0x1fd12f(0x9a6)])define([],_0x436473);else{var _0x27bd5d=_0x436473();for(var _0x3c4b3c in _0x27bd5d)(_0x1fd12f(0x42c)==typeof exports?exports:_0x279a9c)[_0x3c4b3c]=_0x27bd5d[_0x3c4b3c];}}}(this,()=>((()=>{'use strict';const _0x2aff22=a0_0x314b;var _0x3bf506={0x14d:(_0x1ef1b0,_0x2a139c,_0x36faf6)=>{const _0x451add=a0_0x314b;_0x36faf6['d'](_0x2a139c,{'O':()=>_0x19262d});const _0x19262d={'version':_0x451add(0x8fd),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x451add(0x6ad),'authDomain':_0x451add(0x44b),'databaseURL':_0x451add(0x8e7),'projectId':_0x451add(0x925),'storageBucket':_0x451add(0x3a0),'appId':_0x451add(0x88a),'functionsRegion':_0x451add(0x71d)},'apiUrl':_0x451add(0x50a),'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x451add(0x214),'region':_0x451add(0x1cd)}};},0x33b:(_0x40c7c0,_0xa6caba,_0x5310b0)=>{_0x5310b0['d'](_0xa6caba,{'O':()=>_0x7fba90});const _0x7fba90={};},0x3e6:(_0x2f5372,_0x4b6a70,_0xc5a92a)=>{const _0x111c4e=a0_0x314b;_0xc5a92a['d'](_0x4b6a70,{'O':()=>_0x426212});const _0x426212={'version':_0x111c4e(0xab7),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x111c4e(0x9b7),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x111c4e(0x5f1),'projectId':_0x111c4e(0x754),'storageBucket':_0x111c4e(0x447),'messagingSenderId':_0x111c4e(0x734),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x111c4e(0x7be)},'apiUrl':_0x111c4e(0x805),'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':'us-east-1'}};},0x20:(_0x8720d3,_0x121916,_0x100f3e)=>{_0x100f3e['d'](_0x121916,{'O':()=>_0x4ad634});const _0x4ad634={};}},_0x1648b5={};function _0x9d3e72(_0x4b280a){const _0x1fc963=a0_0x314b;var _0x2af516=_0x1648b5[_0x4b280a];if(void 0x0!==_0x2af516)return _0x2af516['exports'];var _0x2dc4e8=_0x1648b5[_0x4b280a]={'exports':{}};return _0x3bf506[_0x4b280a](_0x2dc4e8,_0x2dc4e8[_0x1fc963(0x50c)],_0x9d3e72),_0x2dc4e8[_0x1fc963(0x50c)];}_0x9d3e72['d']=(_0x1d8d28,_0x2a1853)=>{for(var _0x1bf54d in _0x2a1853)_0x9d3e72['o'](_0x2a1853,_0x1bf54d)&&!_0x9d3e72['o'](_0x1d8d28,_0x1bf54d)&&Object['defineProperty'](_0x1d8d28,_0x1bf54d,{'enumerable':!0x0,'get':_0x2a1853[_0x1bf54d]});},_0x9d3e72['g']=(function(){const _0x289243=a0_0x314b;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x289243(0x1ff))();}catch(_0x23794e){if(_0x289243(0x42c)==typeof window)return window;}}()),_0x9d3e72['o']=(_0x378140,_0x18e81c)=>Object['prototype'][_0x2aff22(0xb84)][_0x2aff22(0xb9b)](_0x378140,_0x18e81c),_0x9d3e72['r']=_0x5aa542=>{const _0x236b62=_0x2aff22;_0x236b62(0x817)!=typeof Symbol&&Symbol[_0x236b62(0x936)]&&Object[_0x236b62(0x8e8)](_0x5aa542,Symbol[_0x236b62(0x936)],{'value':_0x236b62(0x7b9)}),Object['defineProperty'](_0x5aa542,_0x236b62(0xb9f),{'value':!0x0});};var _0x35722f,_0x1bf76d,_0x23f9d6,_0xef1b73={};_0x9d3e72['r'](_0xef1b73),_0x9d3e72['d'](_0xef1b73,{'KeyValueDatabase':()=>_0x44d37d,'LayoutBuilder':()=>_0xd90fd4,'LoggingChannels':()=>_0x23f9d6,'QueryBuilder':()=>_0x5a7bf0,'SDK':()=>_0x83ef95,'SDKClientErrorCodes':()=>_0x35722f,'TableBuilder':()=>_0xcce34c,'logger':()=>_0x11d8aa}),function(_0x3b0746){const _0x3c2fce=_0x2aff22;_0x3b0746[_0x3c2fce(0x7c0)]=_0x3c2fce(0x84b),_0x3b0746[_0x3c2fce(0x40f)]=_0x3c2fce(0x687),_0x3b0746[_0x3c2fce(0x3ef)]=_0x3c2fce(0x8e3),_0x3b0746[_0x3c2fce(0x8c0)]='external-storage-connection-already-exists',_0x3b0746[_0x3c2fce(0x67c)]=_0x3c2fce(0x529),_0x3b0746[_0x3c2fce(0x418)]=_0x3c2fce(0x427),_0x3b0746[_0x3c2fce(0xac7)]='external-storage-connectors-missing',_0x3b0746[_0x3c2fce(0x34a)]=_0x3c2fce(0x3d4),_0x3b0746['ExternalStorageNameNotString']=_0x3c2fce(0x98b),_0x3b0746[_0x3c2fce(0x85f)]=_0x3c2fce(0x8d2),_0x3b0746[_0x3c2fce(0x1c8)]=_0x3c2fce(0xa07),_0x3b0746['GenerativeAIContextDoesNotExist']=_0x3c2fce(0xab0),_0x3b0746[_0x3c2fce(0x8ed)]='generative-ai-context-job-missing-thread-id',_0x3b0746[_0x3c2fce(0xa82)]=_0x3c2fce(0x79d),_0x3b0746[_0x3c2fce(0x5d0)]=_0x3c2fce(0xb33),_0x3b0746[_0x3c2fce(0x4ba)]=_0x3c2fce(0x977),_0x3b0746['GenerativeAIWorkerMissingConnector']=_0x3c2fce(0xa63),_0x3b0746[_0x3c2fce(0x735)]='generative-ai-worker-model-sync-error',_0x3b0746['GraphDatabaseAlreadyExists']=_0x3c2fce(0x43e),_0x3b0746[_0x3c2fce(0xb62)]=_0x3c2fce(0x1be),_0x3b0746[_0x3c2fce(0x71f)]=_0x3c2fce(0x8d6),_0x3b0746['GraphDatabaseNameNotString']=_0x3c2fce(0xb7b),_0x3b0746[_0x3c2fce(0x445)]='job-dispatcher-already-exists',_0x3b0746['JobDispatcherDoesNotExist']='job-dispatcher-does-not-exist',_0x3b0746[_0x3c2fce(0x253)]=_0x3c2fce(0xb6f),_0x3b0746['JobDispatcherJobNotFound']=_0x3c2fce(0x2fd),_0x3b0746[_0x3c2fce(0x810)]='job-dispatcher-invalid-job-type',_0x3b0746['JobWorkerAlreadyExists']=_0x3c2fce(0x7ae),_0x3b0746['JobWorkerDoesNotExist']=_0x3c2fce(0x1d2),_0x3b0746[_0x3c2fce(0x973)]='object-store-already-exists',_0x3b0746[_0x3c2fce(0x504)]='object-store-already-subscribed',_0x3b0746[_0x3c2fce(0x769)]=_0x3c2fce(0x7cd),_0x3b0746[_0x3c2fce(0x2ba)]=_0x3c2fce(0x399),_0x3b0746[_0x3c2fce(0x284)]='object-store-invalid-payload',_0x3b0746[_0x3c2fce(0x5ed)]='object-store-invalid-path',_0x3b0746[_0x3c2fce(0xbc4)]=_0x3c2fce(0x510),_0x3b0746['InternalSDKError']='internal-sdk-error',_0x3b0746[_0x3c2fce(0x733)]=_0x3c2fce(0x388),_0x3b0746[_0x3c2fce(0x31c)]=_0x3c2fce(0x605),_0x3b0746[_0x3c2fce(0x921)]=_0x3c2fce(0x894),_0x3b0746[_0x3c2fce(0x7a8)]=_0x3c2fce(0x6b5),_0x3b0746['KeyValueDatabaseInvalidQuery']=_0x3c2fce(0x3ed),_0x3b0746[_0x3c2fce(0x40a)]=_0x3c2fce(0x79c),_0x3b0746[_0x3c2fce(0x512)]=_0x3c2fce(0x266),_0x3b0746['KeyValueDatabaseNotOpen']=_0x3c2fce(0x6cf),_0x3b0746[_0x3c2fce(0xa7d)]=_0x3c2fce(0x2c7),_0x3b0746[_0x3c2fce(0x850)]=_0x3c2fce(0x250),_0x3b0746[_0x3c2fce(0x94f)]=_0x3c2fce(0x265),_0x3b0746[_0x3c2fce(0x768)]=_0x3c2fce(0x280),_0x3b0746[_0x3c2fce(0x2b8)]=_0x3c2fce(0x959),_0x3b0746[_0x3c2fce(0x6ca)]=_0x3c2fce(0x578),_0x3b0746[_0x3c2fce(0x425)]='pub-sub-topic-does-not-exist',_0x3b0746['PubSubTopicNameNotString']=_0x3c2fce(0x740),_0x3b0746[_0x3c2fce(0x29e)]='pub-sub-topic-already-subscribed',_0x3b0746[_0x3c2fce(0xada)]=_0x3c2fce(0x539),_0x3b0746[_0x3c2fce(0xbc1)]=_0x3c2fce(0x6f7),_0x3b0746['RemoteMediaStreamInvalidSubscriptionParams']=_0x3c2fce(0xa75),_0x3b0746[_0x3c2fce(0x8cb)]=_0x3c2fce(0x452),_0x3b0746[_0x3c2fce(0xa15)]='node-not-authenticated',_0x3b0746[_0x3c2fce(0x2c1)]=_0x3c2fce(0xb24),_0x3b0746['NodeTypeNotSupported']=_0x3c2fce(0x3ac),_0x3b0746['NodeTypeRequired']=_0x3c2fce(0x256),_0x3b0746[_0x3c2fce(0x8e4)]=_0x3c2fce(0x2e5),_0x3b0746[_0x3c2fce(0x7ad)]=_0x3c2fce(0x647),_0x3b0746[_0x3c2fce(0x644)]=_0x3c2fce(0x34c),_0x3b0746[_0x3c2fce(0x3d6)]='vector-database-name-not-string';}(_0x35722f||(_0x35722f={}));class _0x447098 extends Error{['code'];constructor(_0x2fada1,_0x3f0ea4){super(_0x3f0ea4),this['code']=_0x2fada1;}}!function(_0x35f471){const _0x1854fc=_0x2aff22;_0x35f471[_0x1854fc(0xb30)]=_0x1854fc(0x7bd),_0x35f471[_0x1854fc(0x408)]=_0x1854fc(0x2be),_0x35f471[_0x1854fc(0x3e1)]='key-value-database',_0x35f471['VectorDatabase']='vector-database',_0x35f471[_0x1854fc(0xb7f)]=_0x1854fc(0xb95),_0x35f471[_0x1854fc(0x92e)]=_0x1854fc(0x876),_0x35f471[_0x1854fc(0x4dd)]='media-stream',_0x35f471[_0x1854fc(0x51a)]=_0x1854fc(0x279);}(_0x1bf76d||(_0x1bf76d={})),function(_0x387019){const _0x59dbc9=_0x2aff22;_0x387019['All']=_0x59dbc9(0x298),_0x387019[_0x59dbc9(0x949)]='default',_0x387019[_0x59dbc9(0x9a1)]=_0x59dbc9(0x507),_0x387019[_0x59dbc9(0x299)]=_0x59dbc9(0x8bc),_0x387019[_0x59dbc9(0xa68)]=_0x59dbc9(0x47c),_0x387019[_0x59dbc9(0x41a)]='content',_0x387019['DataStream']=_0x59dbc9(0xadf),_0x387019[_0x59dbc9(0x9a9)]=_0x59dbc9(0x99f),_0x387019['Events']=_0x59dbc9(0x5df),_0x387019[_0x59dbc9(0x2de)]=_0x59dbc9(0x730),_0x387019['Jobs']=_0x59dbc9(0x233),_0x387019[_0x59dbc9(0x3e1)]=_0x59dbc9(0xb36),_0x387019[_0x59dbc9(0x43a)]='node',_0x387019['Pool']=_0x59dbc9(0x232),_0x387019[_0x59dbc9(0xb30)]=_0x59dbc9(0x7bd),_0x387019[_0x59dbc9(0x6f4)]=_0x59dbc9(0x5b6),_0x387019[_0x59dbc9(0x739)]=_0x59dbc9(0xaf6),_0x387019[_0x59dbc9(0xaa1)]=_0x59dbc9(0x268),_0x387019[_0x59dbc9(0xa5f)]=_0x59dbc9(0x594),_0x387019['Stats']=_0x59dbc9(0x3f8),_0x387019[_0x59dbc9(0x5ce)]=_0x59dbc9(0x5cc),_0x387019[_0x59dbc9(0x405)]=_0x59dbc9(0x25b),_0x387019[_0x59dbc9(0x912)]=_0x59dbc9(0x459),_0x387019[_0x59dbc9(0x636)]='system-stats',_0x387019[_0x59dbc9(0x20c)]='test-page',_0x387019[_0x59dbc9(0xa97)]=_0x59dbc9(0x767);}(_0x23f9d6||(_0x23f9d6={}));const _0x182c91=require('@crewdle/web-sdk-types');class _0x5a7bf0{[_0x2aff22(0x794)];constructor(_0x54403b){const _0x4fccac=_0x2aff22;this[_0x4fccac(0x794)]={'orderBy':{'key':_0x54403b,'direction':_0x4fccac(0x6d3)}};}static[_0x2aff22(0x787)](_0x34fbbc){const _0x193282=_0x2aff22;if(_0x193282(0xb85)!=typeof _0x34fbbc||0x0===_0x34fbbc[_0x193282(0x482)])throw new _0x447098(_0x35722f[_0x193282(0xada)],_0x193282(0x82f));return new _0x5a7bf0(_0x34fbbc);}static[_0x2aff22(0x7a3)](_0x19187a){const _0x229426=_0x2aff22;try{return _0x5a7bf0[_0x229426(0x3c3)](_0x19187a),!0x0;}catch(_0x19ce8f){return!0x1;}}static[_0x2aff22(0x3c3)](_0x281bd6){const _0x562d8b=_0x2aff22,_0x3ac8ab=_0x5a7bf0['index'](_0x281bd6[_0x562d8b(0x5f9)]?.['key']??_0x281bd6[_0x562d8b(0x5b4)]?.[_0x562d8b(0x3c2)]??'');if(_0x281bd6[_0x562d8b(0x5b4)]){const _0x27e29c=_0x281bd6[_0x562d8b(0x5b4)];if((_0x5a7bf0[_0x562d8b(0xb70)](_0x27e29c)||_0x5a7bf0['isWhereValues'](_0x27e29c)||_0x5a7bf0[_0x562d8b(0x9ad)](_0x27e29c))&&_0x3ac8ab['where'](_0x27e29c[_0x562d8b(0x64b)],_0x27e29c['value']),_0x281bd6[_0x562d8b(0x5f9)]?.['key']&&_0x281bd6[_0x562d8b(0x5f9)]?.[_0x562d8b(0x3c2)]!==_0x281bd6['where'][_0x562d8b(0x3c2)])throw new _0x447098(_0x35722f[_0x562d8b(0xada)],_0x562d8b(0x608));}return _0x281bd6[_0x562d8b(0x5f9)]&&_0x3ac8ab[_0x562d8b(0x5f9)](_0x281bd6[_0x562d8b(0x5f9)][_0x562d8b(0x564)]),_0x281bd6['limit']&&_0x3ac8ab[_0x562d8b(0x7b1)](_0x281bd6[_0x562d8b(0x7b1)]),_0x281bd6[_0x562d8b(0x8cc)]&&_0x3ac8ab[_0x562d8b(0x8cc)](_0x281bd6[_0x562d8b(0x8cc)]),_0x3ac8ab;}[_0x2aff22(0x3be)](){return{...this['query']};}['where'](_0x2e856b,_0x195c1d){const _0x3e5c70=_0x2aff22,_0x38cf3b={'key':this[_0x3e5c70(0x794)][_0x3e5c70(0x5f9)][_0x3e5c70(0x3c2)],'operator':_0x2e856b,'value':_0x195c1d};if(!_0x5a7bf0[_0x3e5c70(0xb70)](_0x38cf3b)&&!_0x5a7bf0['isWhereValues'](_0x38cf3b)&&!_0x5a7bf0[_0x3e5c70(0x9ad)](_0x38cf3b))throw new _0x447098(_0x35722f[_0x3e5c70(0xada)],_0x3e5c70(0xb10));return this[_0x3e5c70(0x794)][_0x3e5c70(0x5b4)]=_0x38cf3b,this;}['orderBy'](_0x305713){const _0x2f191a=_0x2aff22;if(_0x2f191a(0x6d3)!==_0x305713&&'desc'!==_0x305713)throw new _0x447098(_0x35722f['QueryBuilderInvalidArgument'],_0x2f191a(0x6b2));return this[_0x2f191a(0x794)][_0x2f191a(0x5f9)][_0x2f191a(0x564)]=_0x305713,this;}[_0x2aff22(0x7b1)](_0x26b67c){const _0x106260=_0x2aff22;if(_0x106260(0xb63)!=typeof _0x26b67c||_0x26b67c<0x0)throw new _0x447098(_0x35722f['QueryBuilderInvalidArgument'],_0x106260(0xa3c));return this[_0x106260(0x794)][_0x106260(0x7b1)]=_0x26b67c,this;}[_0x2aff22(0x8cc)](_0x3686ae){const _0x376ed1=_0x2aff22;if(_0x376ed1(0xb63)!=typeof _0x3686ae||_0x3686ae<0x0)throw new _0x447098(_0x35722f[_0x376ed1(0xada)],_0x376ed1(0xb3c));return this[_0x376ed1(0x794)][_0x376ed1(0x8cc)]=_0x3686ae,this;}static['isWhereValue'](_0x28d41e){const _0x1fa6fa=_0x2aff22;if(!(_0x28d41e&&_0x1fa6fa(0x42c)==typeof _0x28d41e&&'operator'in _0x28d41e&&'value'in _0x28d41e))return!0x1;const {operator:_0x2206e7,value:_0x4c03b3}=_0x28d41e;return!(!['==','!=','>','<','<=','>='][_0x1fa6fa(0x9bf)](_0x2206e7)||Array[_0x1fa6fa(0x719)](_0x4c03b3));}static[_0x2aff22(0x5d4)](_0x318fa4){const _0x321ae5=_0x2aff22;if(!(_0x318fa4&&'object'==typeof _0x318fa4&&_0x321ae5(0x64b)in _0x318fa4&&_0x321ae5(0x435)in _0x318fa4))return!0x1;const {operator:_0x15bcca,value:_0x36f4a8}=_0x318fa4;return!(!['in',_0x321ae5(0x597)][_0x321ae5(0x9bf)](_0x15bcca)||!Array[_0x321ae5(0x719)](_0x36f4a8));}static['isWhereBetween'](_0x303f2d){const _0x28a3b5=_0x2aff22;if(!(_0x303f2d&&_0x28a3b5(0x42c)==typeof _0x303f2d&&_0x28a3b5(0x64b)in _0x303f2d&&_0x28a3b5(0x435)in _0x303f2d))return!0x1;const {operator:_0x3972c1,value:_0x24aa67}=_0x303f2d;return!(_0x28a3b5(0x542)!==_0x3972c1||!Array[_0x28a3b5(0x719)](_0x24aa67)||0x2!==_0x24aa67['length']);}}class _0xd90fd4{[_0x2aff22(0x5e9)];constructor(_0x225a3a){const _0x586867=_0x2aff22;this[_0x586867(0x5e9)]={'tables':{},'version':_0x225a3a};}static[_0x2aff22(0x7f6)](_0x185c7b){const _0x3726fe=_0x2aff22;for(const _0x4f3212 in _0x185c7b){if(_0x3726fe(0x88e)!==_0x4f3212&&'tables'!==_0x4f3212)return[!0x1,_0x3726fe(0x231)+_0x4f3212+_0x3726fe(0xa1e)];if(_0x3726fe(0xa43)===_0x4f3212)for(const _0x77a53d in _0x185c7b[_0x3726fe(0xa43)]){if(_0x3726fe(0xb85)!=typeof _0x77a53d)return[!0x1,_0x3726fe(0x845)+_0x77a53d+'\x27'];for(const _0x1de732 in _0x185c7b[_0x3726fe(0xa43)][_0x77a53d]){if(_0x3726fe(0x66d)!==_0x1de732)return[!0x1,_0x3726fe(0x231)+_0x1de732+_0x3726fe(0x35d)+_0x77a53d+'\x27'];const _0x3bd2a8=_0x185c7b[_0x3726fe(0xa43)][_0x77a53d][_0x1de732]??[];for(const _0x56979e of _0x3bd2a8)if(void 0x0===_0x56979e[_0x3726fe(0x78d)]||_0x3726fe(0xb85)!=typeof _0x56979e['keyPath'])return[!0x1,_0x3726fe(0x2c0)+_0x77a53d+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x3726fe(0x88e)===_0x4f3212&&_0x3726fe(0xb63)!=typeof _0x185c7b[_0x4f3212])return[!0x1,_0x3726fe(0x88f)+_0x185c7b[_0x4f3212]+_0x3726fe(0x8a3)];}}return[!0x0,_0x3726fe(0x73d)];}static['layout'](_0x34113a){const _0x30764e=_0x2aff22,_0x26f73a=new _0xd90fd4(_0x34113a);return _0x26f73a[_0x30764e(0x5e9)][_0x30764e(0x88e)]=_0x34113a,_0x26f73a;}['table'](_0x1ca248){const _0xd08ff0=_0x2aff22;return this['layout'][_0xd08ff0(0xa43)][_0x1ca248]={},new _0xcce34c(this[_0xd08ff0(0x5e9)][_0xd08ff0(0xa43)][_0x1ca248]);}[_0x2aff22(0x81d)](){const _0x3e7231=_0x2aff22;return this[_0x3e7231(0x5e9)];}}class _0xcce34c{[_0x2aff22(0xb0e)];constructor(_0x324eaa){const _0x515127=_0x2aff22;this[_0x515127(0xb0e)]=_0x324eaa;}[_0x2aff22(0x787)](_0x39aca0){const _0x234df7=_0x2aff22;return this[_0x234df7(0xb0e)][_0x234df7(0x66d)]=this[_0x234df7(0xb0e)]['indexes']??[],this[_0x234df7(0xb0e)][_0x234df7(0x66d)]['push']({'keyPath':_0x39aca0}),this;}}const _0x373cd4=0x40000,_0x3a1dbf=0x20000,_0x59531c=0x1388,_0x51b043=_0x2aff22(0x927),_0x9bcb26='.crewdle-pending',_0x186bee='.crewdle-transactions',_0x20b3c0=_0x2aff22(0x2fa),_0x44a697=0xdbba0,_0x16ceee=0x61a8,_0x21a1e9=_0x2aff22(0x4e8);var _0x37a259;!function(_0x502d4d){const _0x166052=_0x2aff22;_0x502d4d[_0x166052(0x898)]=_0x166052(0x22a),_0x502d4d['ConnectionNotConnected']=_0x166052(0x5ec),_0x502d4d[_0x166052(0x9e9)]='connection-no-retry-queue',_0x502d4d[_0x166052(0xa7a)]=_0x166052(0x3d5),_0x502d4d[_0x166052(0x420)]=_0x166052(0x7e4),_0x502d4d[_0x166052(0x1bf)]=_0x166052(0x383),_0x502d4d[_0x166052(0x4b0)]=_0x166052(0x6a8),_0x502d4d['GenerativeAIContextJobAlreadyConsumed']=_0x166052(0x5f6),_0x502d4d[_0x166052(0x859)]=_0x166052(0x614),_0x502d4d[_0x166052(0x91a)]=_0x166052(0x7bf),_0x502d4d['GenerativeAIWorkerCreationFailed']=_0x166052(0xa20),_0x502d4d[_0x166052(0x6c7)]=_0x166052(0x3de),_0x502d4d[_0x166052(0x73e)]=_0x166052(0x931),_0x502d4d[_0x166052(0x7b8)]=_0x166052(0x2ce),_0x502d4d[_0x166052(0xa1a)]=_0x166052(0x38e),_0x502d4d[_0x166052(0x7f1)]=_0x166052(0x682),_0x502d4d[_0x166052(0x1f3)]=_0x166052(0x4ae),_0x502d4d[_0x166052(0x60a)]='job-dispatcher-invalid-payload',_0x502d4d[_0x166052(0xb12)]=_0x166052(0x2fd),_0x502d4d['JobDispatcherObserverNotFound']=_0x166052(0xb31),_0x502d4d[_0x166052(0x84e)]=_0x166052(0x49b),_0x502d4d['JobWorkerInvalidType']=_0x166052(0xab1),_0x502d4d[_0x166052(0xa9f)]=_0x166052(0x760),_0x502d4d[_0x166052(0x7e8)]=_0x166052(0x2bc),_0x502d4d[_0x166052(0x8b8)]='key-value-database-table-does-not-exist',_0x502d4d[_0x166052(0x8d4)]=_0x166052(0x1af),_0x502d4d[_0x166052(0x40d)]=_0x166052(0x7cf),_0x502d4d[_0x166052(0x8a6)]='local-stream-does-not-exist',_0x502d4d[_0x166052(0x705)]='missing-incoming-connection',_0x502d4d[_0x166052(0xbad)]=_0x166052(0xa83),_0x502d4d[_0x166052(0x485)]='mistlet-capacity-report-not-set',_0x502d4d[_0x166052(0x72a)]=_0x166052(0x57f),_0x502d4d[_0x166052(0x7da)]=_0x166052(0xba0),_0x502d4d[_0x166052(0x496)]=_0x166052(0x944),_0x502d4d['ObjectStoreNotSynced']=_0x166052(0x536),_0x502d4d[_0x166052(0x890)]=_0x166052(0x6a6),_0x502d4d[_0x166052(0x84d)]=_0x166052(0x391),_0x502d4d[_0x166052(0x3aa)]=_0x166052(0x58f),_0x502d4d[_0x166052(0x92b)]=_0x166052(0x293),_0x502d4d[_0x166052(0x47e)]='subscription-request-does-not-exist',_0x502d4d['SubscriptionRequestFailed']=_0x166052(0x996),_0x502d4d['SubscriptionRequestNoAnswer']=_0x166052(0x765),_0x502d4d[_0x166052(0x94b)]=_0x166052(0x548),_0x502d4d[_0x166052(0x6cd)]=_0x166052(0x960),_0x502d4d[_0x166052(0x995)]=_0x166052(0x89b),_0x502d4d[_0x166052(0x70f)]=_0x166052(0x84a),_0x502d4d[_0x166052(0xb49)]='workflow-does-not-exist',_0x502d4d[_0x166052(0x4cd)]=_0x166052(0x670);}(_0x37a259||(_0x37a259={}));const _0x4cea95=new Map([[_0x37a259[_0x2aff22(0x898)],'Connection\x20not\x20initialized.'],[_0x37a259['ConnectionNotConnected'],'Connection\x20not\x20connected.'],[_0x37a259['ConnectionNoRetryQueue'],_0x2aff22(0xaa0)],[_0x37a259['ConnectionInvalidDataEvent'],'Invalid\x20data\x20event.'],[_0x37a259['DataCollectionDoesNotExist'],'Data\x20collection\x20does\x20not\x20exist.'],[_0x37a259[_0x2aff22(0x1bf)],_0x2aff22(0x2ec)],[_0x37a259[_0x2aff22(0x4b0)],_0x2aff22(0xb02)],[_0x37a259['GenerativeAIContextJobAlreadyConsumed'],_0x2aff22(0x643)],[_0x37a259[_0x2aff22(0x859)],_0x2aff22(0xad9)],[_0x37a259[_0x2aff22(0x91a)],_0x2aff22(0xa3a)],[_0x37a259[_0x2aff22(0x276)],_0x2aff22(0xb07)],[_0x37a259[_0x2aff22(0x6c7)],_0x2aff22(0x4cc)],[_0x37a259[_0x2aff22(0x73e)],_0x2aff22(0xae0)],[_0x37a259[_0x2aff22(0x7b8)],'Invalid\x20publisher.'],[_0x37a259[_0x2aff22(0xa1a)],_0x2aff22(0xb05)],[_0x37a259[_0x2aff22(0x7f1)],_0x2aff22(0x8a9)],[_0x37a259[_0x2aff22(0x1f3)],_0x2aff22(0x72c)],[_0x37a259[_0x2aff22(0x60a)],'Invalid\x20job\x20service\x20payload.'],[_0x37a259[_0x2aff22(0xb12)],_0x2aff22(0x2e2)],[_0x37a259[_0x2aff22(0x48e)],'Job\x20service\x20observer\x20not\x20found.'],[_0x37a259[_0x2aff22(0x84e)],_0x2aff22(0x83e)],[_0x37a259[_0x2aff22(0x986)],_0x2aff22(0x2f3)],[_0x37a259['KeyValueDatabaseCreationFailed'],_0x2aff22(0x6bc)],[_0x37a259[_0x2aff22(0x7e8)],_0x2aff22(0x65c)],[_0x37a259[_0x2aff22(0x8b8)],_0x2aff22(0x5ef)],[_0x37a259[_0x2aff22(0x8d4)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x37a259[_0x2aff22(0x40d)],_0x2aff22(0x9d2)],[_0x37a259['LocalMediaStreamDoesNotExist'],'Local\x20stream\x20does\x20not\x20exist.'],[_0x37a259['MissingRemoteConnection'],_0x2aff22(0x508)],[_0x37a259['MissingSystemTopic'],_0x2aff22(0x37c)],[_0x37a259[_0x2aff22(0x485)],_0x2aff22(0x5ae)],[_0x37a259[_0x2aff22(0x72a)],'Cannot\x20write\x20transaction.'],[_0x37a259[_0x2aff22(0x496)],_0x2aff22(0x9b4)],[_0x37a259[_0x2aff22(0x7da)],_0x2aff22(0x4a7)],[_0x37a259[_0x2aff22(0x289)],'Object\x20store\x20not\x20synced.'],[_0x37a259['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x37a259['RemoteMediaStreamDoesNotExist'],_0x2aff22(0x942)],[_0x37a259['RemoteMediaStreamMissingProviderId'],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x37a259['RemoteConnectionExists'],_0x2aff22(0x2f9)],[_0x37a259[_0x2aff22(0x47e)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x37a259[_0x2aff22(0x723)],_0x2aff22(0x505)],[_0x37a259['SubscriptionRequestNoAnswer'],_0x2aff22(0xa28)],[_0x37a259[_0x2aff22(0x94b)],_0x2aff22(0x5a6)],[_0x37a259[_0x2aff22(0x6cd)],_0x2aff22(0x976)],[_0x37a259['PeerConnectionInvalidDestination'],_0x2aff22(0x424)],[_0x37a259['VectorDatabaseCreationFailed'],_0x2aff22(0x824)],[_0x37a259[_0x2aff22(0xb49)],'Workflow\x20does\x20not\x20exist.'],[_0x37a259['WorkflowInvalidBlockType'],_0x2aff22(0x244)]]);class _0x1a8c20 extends Error{[_0x2aff22(0x400)];static ['codes']=_0x37a259;[_0x2aff22(0x8e6)];constructor(_0x1e21e0,_0xc6f5d6){const _0x500bdb=_0x2aff22;super('Internal\x20SDK\x20Error:\x20'+_0x1e21e0+':\x20'+_0x4cea95[_0x500bdb(0x9de)](_0x1e21e0)+'\x0aAdditional\x20data:\x20'+JSON['stringify'](_0xc6f5d6)),this['code']=_0x1e21e0,this['data']=_0xc6f5d6||{};}}var _0x4f0180,_0x1f7675,_0x5836d9,_0x18a8c2,_0x1b9f35,_0x4244a1,_0x3048e8;!function(_0x5d9529){const _0x4e5b80=_0x2aff22;_0x5d9529[_0x5d9529[_0x4e5b80(0xb8d)]=0x0]=_0x4e5b80(0xb8d),_0x5d9529[_0x5d9529[_0x4e5b80(0x4bc)]=0x1]=_0x4e5b80(0x4bc),_0x5d9529[_0x5d9529['CloseJobWorker']=0x2]=_0x4e5b80(0x2a7),_0x5d9529[_0x5d9529[_0x4e5b80(0x4e4)]=0x3]='CloseExternalStorageConnection',_0x5d9529[_0x5d9529[_0x4e5b80(0x563)]=0x4]=_0x4e5b80(0x563),_0x5d9529[_0x5d9529[_0x4e5b80(0xa1f)]=0x5]=_0x4e5b80(0xa1f),_0x5d9529[_0x5d9529[_0x4e5b80(0x655)]=0x6]='CloseObjectStoreBucket',_0x5d9529[_0x5d9529[_0x4e5b80(0x951)]=0x7]='ClosePubSubTopic',_0x5d9529[_0x5d9529[_0x4e5b80(0x96c)]=0x8]='CloseVectorDatabase',_0x5d9529[_0x5d9529[_0x4e5b80(0x57e)]=0x9]=_0x4e5b80(0x57e),_0x5d9529[_0x5d9529[_0x4e5b80(0x75a)]=0xa]=_0x4e5b80(0x75a),_0x5d9529[_0x5d9529[_0x4e5b80(0x202)]=0xb]=_0x4e5b80(0x202),_0x5d9529[_0x5d9529[_0x4e5b80(0x8f6)]=0xc]='GenerativeAIWorkerStats',_0x5d9529[_0x5d9529[_0x4e5b80(0x980)]=0xd]=_0x4e5b80(0x980),_0x5d9529[_0x5d9529[_0x4e5b80(0x81c)]=0xe]=_0x4e5b80(0x81c),_0x5d9529[_0x5d9529[_0x4e5b80(0x869)]=0xf]=_0x4e5b80(0x869),_0x5d9529[_0x5d9529[_0x4e5b80(0x6a2)]=0x10]=_0x4e5b80(0x6a2),_0x5d9529[_0x5d9529[_0x4e5b80(0x1c2)]=0x11]=_0x4e5b80(0x1c2),_0x5d9529[_0x5d9529[_0x4e5b80(0x641)]=0x12]='KeyValueDatabaseSendTransactions',_0x5d9529[_0x5d9529[_0x4e5b80(0x2fb)]=0x13]='KeyValueDatabaseStats',_0x5d9529[_0x5d9529[_0x4e5b80(0x6d1)]=0x14]=_0x4e5b80(0x6d1),_0x5d9529[_0x5d9529[_0x4e5b80(0x5e6)]=0x15]=_0x4e5b80(0x5e6),_0x5d9529[_0x5d9529[_0x4e5b80(0xb4c)]=0x16]=_0x4e5b80(0xb4c),_0x5d9529[_0x5d9529[_0x4e5b80(0x350)]=0x17]=_0x4e5b80(0x350),_0x5d9529[_0x5d9529[_0x4e5b80(0x9e6)]=0x18]=_0x4e5b80(0x9e6),_0x5d9529[_0x5d9529[_0x4e5b80(0xb92)]=0x19]='RemoteMediaStreamTrackFail',_0x5d9529[_0x5d9529[_0x4e5b80(0x918)]=0x1a]='SubscribeMediaStream',_0x5d9529[_0x5d9529[_0x4e5b80(0xbda)]=0x1b]=_0x4e5b80(0xbda),_0x5d9529[_0x5d9529['UnsubscribeMediaStream']=0x1c]='UnsubscribeMediaStream',_0x5d9529[_0x5d9529[_0x4e5b80(0x8c5)]=0x1d]=_0x4e5b80(0x8c5),_0x5d9529[_0x5d9529['VectorDatabaseStats']=0x1e]='VectorDatabaseStats';}(_0x4f0180||(_0x4f0180={})),function(_0x14b19e){const _0x5f36e8=_0x2aff22;_0x14b19e['FileWrite']=_0x5f36e8(0xbdc),_0x14b19e[_0x5f36e8(0x674)]=_0x5f36e8(0x271),_0x14b19e[_0x5f36e8(0x9ce)]='delete',_0x14b19e[_0x5f36e8(0xbdb)]='move',_0x14b19e['RequestFile']=_0x5f36e8(0x952),_0x14b19e[_0x5f36e8(0xadc)]='request-accepted',_0x14b19e['RequestFileSync']=_0x5f36e8(0x47f),_0x14b19e[_0x5f36e8(0x80a)]=_0x5f36e8(0xbd1);}(_0x1f7675||(_0x1f7675={})),function(_0x12903a){const _0x247a93=_0x2aff22;_0x12903a[_0x247a93(0x213)]=_0x247a93(0x93e),_0x12903a[_0x247a93(0x309)]=_0x247a93(0x660);}(_0x5836d9||(_0x5836d9={})),function(_0x5af9ea){const _0xbbf11a=_0x2aff22;_0x5af9ea[_0xbbf11a(0x849)]='add',_0x5af9ea[_0xbbf11a(0x48d)]=_0xbbf11a(0x9da),_0x5af9ea[_0xbbf11a(0x9ce)]=_0xbbf11a(0xa6b);}(_0x18a8c2||(_0x18a8c2={})),function(_0x544132){const _0x1fa226=_0x2aff22;_0x544132[_0x1fa226(0xacc)]=_0x1fa226(0x9de),_0x544132[_0x1fa226(0x292)]=_0x1fa226(0x5c1),_0x544132[_0x1fa226(0x51f)]='count';}(_0x1b9f35||(_0x1b9f35={})),function(_0x54f173){const _0x470c2a=_0x2aff22;_0x54f173[_0x54f173[_0x470c2a(0x213)]=0x0]='Request',_0x54f173[_0x54f173['Bid']=0x1]=_0x470c2a(0x67e),_0x54f173[_0x54f173[_0x470c2a(0x4f5)]=0x2]=_0x470c2a(0x4f5),_0x54f173[_0x54f173[_0x470c2a(0x6a5)]=0x3]=_0x470c2a(0x6a5),_0x54f173[_0x54f173[_0x470c2a(0xa21)]=0x4]=_0x470c2a(0xa21),_0x54f173[_0x54f173[_0x470c2a(0x8ee)]=0x5]='Failed';}(_0x4244a1||(_0x4244a1={})),function(_0xe58fb8){const _0x53e4ce=_0x2aff22;_0xe58fb8[_0xe58fb8['PeerConnection']=0x0]='PeerConnection',_0xe58fb8[_0xe58fb8[_0x53e4ce(0x43a)]=0x1]=_0x53e4ce(0x43a),_0xe58fb8[_0xe58fb8[_0x53e4ce(0x41a)]=0x2]='Content',_0xe58fb8[_0xe58fb8[_0x53e4ce(0x5ce)]=0x3]=_0x53e4ce(0x5ce),_0xe58fb8[_0xe58fb8[_0x53e4ce(0x1d7)]=0x4]='Stats',_0xe58fb8[_0xe58fb8[_0x53e4ce(0x9a9)]=0x5]='Detection',_0xe58fb8[_0xe58fb8[_0x53e4ce(0x739)]=0x6]=_0x53e4ce(0x739);}(_0x3048e8||(_0x3048e8={}));class _0xb7f649{[_0x2aff22(0x43f)];[_0x2aff22(0x4ea)];[_0x2aff22(0x7ef)];constructor(_0x435614,_0x1bba02){const _0x1f15e9=_0x2aff22;this[_0x1f15e9(0x43f)]=_0x435614,this[_0x1f15e9(0x4ea)]=_0x1bba02;}[_0x2aff22(0x2e7)](){const _0x1b0e4a=_0x2aff22;return this[_0x1b0e4a(0x4ea)];}[_0x2aff22(0x613)](){const _0xc0f5c4=_0x2aff22;return this[_0xc0f5c4(0x43f)][_0xc0f5c4(0x781)]();}[_0x2aff22(0xb97)](){}['registerSystemPublisher'](_0x7d12f0){this['systemTopic']=_0x7d12f0;}[_0x2aff22(0x36a)](){const _0x581a2f=_0x2aff22;delete this[_0x581a2f(0x7ef)];}}const _0x181a71=require('firebase/firestore');let _0x30fd03=_0x9d3e72(0x14d)['O'];function _0x2e7c3e(_0x4fe5b7){const _0x4e42f9=_0x2aff22;return!(!_0x4fe5b7||_0x4e42f9(0x42c)!=typeof _0x4fe5b7||Array[_0x4e42f9(0x719)](_0x4fe5b7));}_0x30fd03=function _0x186b3d(_0x12ac5b,..._0xe4cdb4){const _0x257135=_0x2aff22;if(!Array[_0x257135(0x719)](_0xe4cdb4)||0x0===_0xe4cdb4[_0x257135(0x482)])return _0x12ac5b;const _0x4d087c=_0xe4cdb4[_0x257135(0x631)]();if(_0x2e7c3e(_0x12ac5b)&&_0x2e7c3e(_0x4d087c)){for(const _0x196222 in _0x4d087c)_0x2e7c3e(_0x4d087c[_0x196222])?(_0x12ac5b[_0x196222]||Object[_0x257135(0xac9)](_0x12ac5b,{[_0x196222]:{}}),_0x186b3d(_0x12ac5b[_0x196222],_0x4d087c[_0x196222])):Object[_0x257135(0xac9)](_0x12ac5b,{[_0x196222]:_0x4d087c[_0x196222]});}return _0x186b3d(_0x12ac5b,..._0xe4cdb4);}(_0x30fd03,_0x9d3e72(0x3e6)['O']);const _0x4d302b=_0x30fd03,_0x4b6f5f=require('firebase/app'),_0x4351b5=require('firebase/auth'),_0x43ecff=require('firebase/database'),_0x485eb0=require('firebase/functions'),_0x360e63=require('uuid'),_0x17875d=_0x2aff22(0x3fa);class _0x12aa8a{static [_0x2aff22(0xaa7)];[_0x2aff22(0x60f)];['auth'];[_0x2aff22(0x84c)];[_0x2aff22(0x63a)];['firestore'];[_0x2aff22(0xaad)];[_0x2aff22(0x758)];constructor(){const _0x2d87aa=_0x2aff22;this[_0x2d87aa(0x544)]();}static[_0x2aff22(0x80c)](){const _0xf4fcf5=_0x2aff22;return _0x12aa8a['instance']||(_0x12aa8a[_0xf4fcf5(0xaa7)]=new _0x12aa8a()),_0x12aa8a[_0xf4fcf5(0xaa7)];}[_0x2aff22(0x544)](){const _0x36ca0a=_0x2aff22;if(!this['app']){let _0x4abb14=_0x17875d;_0x36ca0a(0x817)!=typeof window&&(_0x4abb14=_0x17875d+'-'+(0x0,_0x360e63['v4'])()),this[_0x36ca0a(0x60f)]=(0x0,_0x4b6f5f[_0x36ca0a(0x436)])(_0x4d302b[_0x36ca0a(0x290)],''+_0x4abb14);}return this[_0x36ca0a(0x60f)];}[_0x2aff22(0x78a)](){const _0x46118e=_0x2aff22;return this[_0x46118e(0x6e1)]||(this[_0x46118e(0x6e1)]=(0x0,_0x4351b5[_0x46118e(0x78a)])(this[_0x46118e(0x544)]())),this[_0x46118e(0x6e1)];}[_0x2aff22(0x945)](){const _0x10c198=_0x2aff22;return this['functions']||(this['functions']=(0x0,_0x485eb0['getFunctions'])(this['getApp'](),_0x4d302b[_0x10c198(0x290)]['functionsRegion'])),this['functions'];}[_0x2aff22(0x52c)](){const _0x2b824b=_0x2aff22;return this['database']||(this['database']=(0x0,_0x43ecff[_0x2b824b(0x52c)])(this[_0x2b824b(0x544)]())),this[_0x2b824b(0x63a)];}['getFirestore'](){const _0x5217ed=_0x2aff22;return this[_0x5217ed(0xb3b)]||(this[_0x5217ed(0xb3b)]=(0x0,_0x181a71[_0x5217ed(0x67b)])(this[_0x5217ed(0x544)]())),this[_0x5217ed(0xb3b)];}async[_0x2aff22(0xbae)](){const _0x4e6348=_0x2aff22;if(this['clockSkew']&&this['lastClockUpdate']&&Date[_0x4e6348(0x75c)]()-this['lastClockUpdate']<0x493e0)return Date[_0x4e6348(0x75c)]()+this['clockSkew'];const _0x4a1c8f=this[_0x4e6348(0x52c)](),_0x305966=(0x0,_0x43ecff[_0x4e6348(0x9ed)])(_0x4a1c8f,_0x4e6348(0x879));return new Promise(_0x95c303=>{const _0x182695=_0x4e6348;(0x0,_0x43ecff[_0x182695(0xbec)])(_0x305966,_0x17401b=>{const _0x3a80c2=_0x182695;(0x0,_0x43ecff[_0x3a80c2(0x1e2)])(_0x305966),this['clockSkew']=_0x17401b['val'](),this[_0x3a80c2(0x758)]=Date[_0x3a80c2(0x75c)](),_0x95c303(Date['now']()+(this[_0x3a80c2(0xaad)]??0x0));});});}}const _0x4d81d6=_0x12aa8a[_0x2aff22(0x80c)]();class _0x15fa13{static [_0x2aff22(0xaa7)];[_0x2aff22(0x45f)]=[_0x23f9d6[_0x2aff22(0x949)]];[_0x2aff22(0x9bb)]=!0x1;['loggingConnectors'];[_0x2aff22(0x97c)]='';[_0x2aff22(0x8c9)];['batchQueue']=[];[_0x2aff22(0x969)];[_0x2aff22(0xbac)];[_0x2aff22(0x744)]=0xa;[_0x2aff22(0x9a5)]=0x1f4;[_0x2aff22(0x3b1)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x58e291=_0x2aff22;if('undefined'!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x9d3e72['g'])throw new Error(_0x58e291(0x556));this['globalObject']=_0x9d3e72['g'];}this[_0x58e291(0x446)](),this['globalObject'][_0x58e291(0x67f)]=_0x19ec91=>{const _0x16dd8c=_0x58e291;if(_0x19ec91===_0x23f9d6[_0x16dd8c(0x4c6)])return this[_0x16dd8c(0x45f)]=Object[_0x16dd8c(0x780)](_0x23f9d6)[_0x16dd8c(0x8df)](_0x352d3e=>_0x23f9d6[_0x352d3e]),void Object[_0x16dd8c(0x780)](_0x23f9d6)[_0x16dd8c(0x663)](_0x229a16=>{const _0x654d06=_0x16dd8c,_0xb84e57=_0x229a16;localStorage['setItem'](_0x654d06(0xb35)+_0x23f9d6[_0xb84e57],'true');});this[_0x16dd8c(0x45f)]['includes'](_0x19ec91)||(this[_0x16dd8c(0x45f)][_0x16dd8c(0x639)](_0x19ec91),localStorage[_0x16dd8c(0x846)](_0x16dd8c(0xb35)+_0x19ec91,_0x16dd8c(0x9eb)));},this[_0x58e291(0x8c9)][_0x58e291(0x82c)]=_0x1878c9=>{const _0x599580=_0x58e291;if(!_0x1878c9||_0x1878c9===_0x23f9d6['All'])return this[_0x599580(0x45f)]=[],void Object[_0x599580(0x780)](_0x23f9d6)[_0x599580(0x663)](_0x18956c=>{const _0x440a84=_0x599580,_0x558b65=_0x18956c;localStorage[_0x440a84(0x819)](_0x440a84(0xb35)+_0x23f9d6[_0x558b65]);});this['enabledChannels'][_0x599580(0x9bf)](_0x1878c9)&&(this[_0x599580(0x45f)]=this[_0x599580(0x45f)][_0x599580(0xae8)](_0x39b874=>_0x39b874!==_0x1878c9),localStorage[_0x599580(0x819)](_0x599580(0xb35)+_0x1878c9));},this[_0x58e291(0x8c9)][_0x58e291(0x888)]=_0x23f9d6;}static[_0x2aff22(0x80c)](){const _0x31c2ca=_0x2aff22;try{return _0x15fa13[_0x31c2ca(0xaa7)]||(_0x15fa13['instance']=new _0x15fa13()),_0x15fa13[_0x31c2ca(0xaa7)];}catch(_0x2ad41c){return console['error']('Logger.getInstance',_0x2ad41c),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x2aff22(0x87f)](_0x3ce57d){const _0x5920b4=_0x2aff22;this['vendorId']=_0x3ce57d,this[_0x5920b4(0xb88)]=[],this[_0x5920b4(0x969)]=this[_0x5920b4(0x1e4)](),this[_0x5920b4(0xbac)]&&(clearTimeout(this[_0x5920b4(0xbac)]),this[_0x5920b4(0xbac)]=void 0x0);}[_0x2aff22(0x8ae)](_0xe55fa2){this['loggingConnectors']=_0xe55fa2;}[_0x2aff22(0xad7)](_0x4464bd,..._0x55cded){const _0x14e5be=_0x2aff22;this[_0x14e5be(0x9bb)]&&this['log'](_0x23f9d6[_0x14e5be(0x949)],_0x14e5be(0x880)+_0x4464bd,..._0x55cded);}[_0x2aff22(0x27e)](_0x13234c,..._0x2746b6){const _0x3e0e08=_0x2aff22;console[_0x3e0e08(0x6ea)](_0x13234c,..._0x2746b6),this[_0x3e0e08(0x30b)]&&this[_0x3e0e08(0x30b)][_0x3e0e08(0x663)](_0x4958dc=>{const _0x42f59c=_0x3e0e08;_0x4958dc[_0x42f59c(0x6ea)](_0x13234c,{'vendorId':this[_0x42f59c(0x97c)],'nodeId':'','nodeType':'','data':{..._0x2746b6}});});}[_0x2aff22(0x6ea)](_0x2c9c8a,_0x89c361,..._0x183ba5){const _0x1a4920=_0x2aff22;_0x4d302b[_0x1a4920(0x82b)]||(this['enabledChannels'][_0x1a4920(0x9bf)](_0x2c9c8a)&&console[_0x1a4920(0x6ea)](_0x1a4920(0x55c)+_0x2c9c8a+'\x27\x0a',new Date()+'\x0a',_0x89c361,..._0x183ba5),this[_0x1a4920(0x30b)]&&this[_0x1a4920(0x30b)]['forEach'](_0x141f6d=>{const _0x4e1adf=_0x1a4920;this[_0x4e1adf(0x9c4)](_0x141f6d)&&_0x141f6d['getEnabledChannels']()[_0x4e1adf(0x9bf)](_0x2c9c8a)&&_0x141f6d[_0x4e1adf(0x6ea)](_0x89c361,{'vendorId':this[_0x4e1adf(0x97c)],'nodeId':'','nodeType':'','data':{'channel':_0x2c9c8a,..._0x183ba5}});}));}['logRaw'](_0x4282be,_0x41f0f9,..._0x388108){const _0x48f4e0=_0x2aff22;_0x4d302b['isProduction']||(this[_0x48f4e0(0x45f)][_0x48f4e0(0x9bf)](_0x4282be)&&console[_0x48f4e0(0x6ea)](_0x41f0f9,..._0x388108),this[_0x48f4e0(0x30b)]&&this[_0x48f4e0(0x30b)][_0x48f4e0(0x663)](_0x4fce91=>{const _0x2506ab=_0x48f4e0;this[_0x2506ab(0x9c4)](_0x4fce91)&&_0x4fce91['getEnabledChannels']()[_0x2506ab(0x9bf)](_0x4282be)&&_0x4fce91[_0x2506ab(0x6ea)](_0x41f0f9,{'vendorId':this[_0x2506ab(0x97c)],'nodeId':'','nodeType':'','data':{'channel':_0x4282be,..._0x388108}});}));}[_0x2aff22(0x343)](_0x10800d,_0x26080f){const _0x1f7b2c=_0x2aff22;if(!this[_0x1f7b2c(0x30b)])return;const _0x51e5ee={'vendorId':this[_0x1f7b2c(0x97c)],..._0x26080f};this[_0x1f7b2c(0x30b)][_0x1f7b2c(0x663)](_0x186892=>{const _0x534725=_0x1f7b2c;_0x186892[_0x534725(0x6ea)](_0x10800d,_0x51e5ee);});}[_0x2aff22(0x3dc)](_0x4d53cd,_0x40df15){const _0x5a213d=_0x2aff22;this[_0x5a213d(0x6b4)](_0x4d53cd,_0x40df15),this[_0x5a213d(0x915)]();}[_0x2aff22(0x386)](_0x38aa5a,_0x142a92,_0x173f35){const _0x2f5f70=_0x2aff22;(0x0,_0x181a71[_0x2f5f70(0x5c8)])((0x0,_0x181a71[_0x2f5f70(0x3b5)])(_0x4d81d6[_0x2f5f70(0x67b)](),_0x2f5f70(0x42d)+this[_0x2f5f70(0x97c)]+'/'+_0x38aa5a+'/'+_0x142a92),{'storage':_0x173f35,'timestamp':(0x0,_0x181a71['serverTimestamp'])()});}[_0x2aff22(0x915)](){const _0x286b5a=_0x2aff22;this[_0x286b5a(0x969)]&&(this[_0x286b5a(0x969)][_0x286b5a(0x415)]+=0x1,this[_0x286b5a(0x969)]['counter']===this[_0x286b5a(0x3b1)]?this['processBatch']():this[_0x286b5a(0xbac)]||(this['batchTimeout']=this[_0x286b5a(0x8c9)][_0x286b5a(0xa8f)](()=>this[_0x286b5a(0x6e5)](),this[_0x286b5a(0x854)])));}async[_0x2aff22(0x6e5)](){const _0x38b6a0=_0x2aff22;if(this[_0x38b6a0(0x969)]){for(this['batchQueue'][_0x38b6a0(0x639)](this[_0x38b6a0(0x969)]),this[_0x38b6a0(0x969)]=this[_0x38b6a0(0x1e4)]();this[_0x38b6a0(0xb88)][_0x38b6a0(0x482)]>0x0;){const _0x31e975=this['batchQueue'][_0x38b6a0(0x631)]();if(!await this['commitBatch'](_0x31e975))break;}clearTimeout(this[_0x38b6a0(0xbac)]),this['batchTimeout']=void 0x0;}}[_0x2aff22(0x730)](_0x4f2449,_0x2addca,..._0x70d2ba){const _0x5ef21a=_0x2aff22;if(console[_0x5ef21a(0x730)](new Date(),_0x4f2449,_0x2addca,..._0x70d2ba),this[_0x5ef21a(0x30b)]){const _0x5b7e96={'vendorId':this[_0x5ef21a(0x97c)],..._0x2addca};this[_0x5ef21a(0x30b)][_0x5ef21a(0x663)](_0x438202=>{const _0xdbf93=_0x5ef21a;_0x438202[_0xdbf93(0x730)](_0x4f2449,_0x5b7e96);});}}[_0x2aff22(0x25e)](_0x16989d,_0x446055,..._0x250361){const _0x4d2fd4=_0x2aff22;if(console['warn'](new Date(),_0x16989d,_0x446055,_0x250361),this[_0x4d2fd4(0x30b)]){const _0x590b57={'vendorId':this[_0x4d2fd4(0x97c)],..._0x446055};this[_0x4d2fd4(0x30b)]['forEach'](_0x2efe1e=>{const _0x9d48e5=_0x4d2fd4;_0x2efe1e[_0x9d48e5(0x275)](_0x16989d,_0x590b57);});}}[_0x2aff22(0xbcb)](_0x3ebc47){const _0x1ff411=_0x2aff22;return this[_0x1ff411(0x45f)]['includes'](_0x3ebc47);}async['commitBatch'](_0x54b695,_0x304cd6=0x0){const _0x2977a8=_0x2aff22;if(_0x54b695[_0x2977a8(0x415)]>0x0)try{return await _0x54b695[_0x2977a8(0x64c)][_0x2977a8(0xa6f)](),!0x0;}catch(_0x2f68f5){if(console[_0x2977a8(0x730)](_0x2977a8(0x79f),_0x2f68f5,_0x2977a8(0x748),_0x54b695[_0x2977a8(0xa5d)]),!(_0x304cd6<this[_0x2977a8(0x744)])){const {nodeId:_0x5a61dd='',nodeType:_0x28546a='',clusterId:_0x3416f6=''}=_0x54b695[_0x2977a8(0xa5d)][0x0][_0x2977a8(0x8e6)],_0x1fa09e={'nodeId':_0x5a61dd,'nodeType':_0x28546a,'clusterId':_0x3416f6,'data':{'operations':_0x54b695[_0x2977a8(0xa5d)],'error':_0x2f68f5}};return this[_0x2977a8(0x730)](_0x2977a8(0x2b7),_0x1fa09e),!0x1;}{const _0x3079bb=this[_0x2977a8(0x934)](_0x54b695[_0x2977a8(0xa5d)]);setTimeout(()=>this['commitBatch'](_0x3079bb,_0x304cd6+0x1),this[_0x2977a8(0x9a5)]*Math['pow'](0x2,_0x304cd6));}}}[_0x2aff22(0x446)](){try{Object['keys'](_0x23f9d6)['forEach'](_0xe8bcce=>{const _0x20b7c8=a0_0x314b,_0xdfccf9=_0xe8bcce;localStorage[_0x20b7c8(0x9f9)](_0x20b7c8(0xb35)+_0x23f9d6[_0xdfccf9])&&(console['log'](_0x20b7c8(0x20f),_0x23f9d6[_0xdfccf9]),this[_0x20b7c8(0x45f)]['push'](_0x23f9d6[_0xdfccf9]));});}catch(_0x119b1c){}}[_0x2aff22(0x9c4)](_0xe777ae){const _0x8504b6=_0x2aff22;return void 0x0!==_0xe777ae[_0x8504b6(0x5b8)];}[_0x2aff22(0x1e4)](){const _0xac5dec=_0x2aff22;return{'batch':(0x0,_0x181a71[_0xac5dec(0x235)])(_0x4d81d6[_0xac5dec(0x67b)]()),'operations':[],'counter':0x0};}[_0x2aff22(0x934)](_0x4bd669){const _0xba86b2=_0x2aff22,_0x1a585d=(0x0,_0x181a71[_0xba86b2(0x235)])(_0x4d81d6[_0xba86b2(0x67b)]());return _0x4bd669[_0xba86b2(0x663)](_0x455058=>this[_0xba86b2(0x491)](_0x1a585d,_0x455058)),{'batch':_0x1a585d,'operations':_0x4bd669,'counter':_0x4bd669[_0xba86b2(0x482)]};}[_0x2aff22(0x491)](_0xfc3467,_0x1ea4e7){const _0x594243=_0x2aff22;switch(_0x1ea4e7[_0x594243(0x751)]){case _0x594243(0x25c):_0xfc3467[_0x594243(0x25c)](_0x1ea4e7[_0x594243(0x9ed)],_0x1ea4e7[_0x594243(0x8e6)]);break;case'update':_0xfc3467['update'](_0x1ea4e7[_0x594243(0x9ed)],_0x1ea4e7[_0x594243(0x8e6)]);break;case _0x594243(0xa6b):_0xfc3467['delete'](_0x1ea4e7[_0x594243(0x9ed)]);}}['createBatchOperation'](_0x2800b6,_0x4361f0){const _0x3cfb56=_0x2aff22;this['currentBatch']||(this['currentBatch']=this[_0x3cfb56(0x1e4)]());const _0x533819=(0x0,_0x181a71[_0x3cfb56(0x3b5)])((0x0,_0x181a71['collection'])(_0x4d81d6[_0x3cfb56(0x67b)](),'developers/'+this[_0x3cfb56(0x97c)]+_0x3cfb56(0xa61))),_0x5dc61b={..._0x4361f0,'service':_0x2800b6,'timestamp':(0x0,_0x181a71[_0x3cfb56(0x7a9)])()},_0x47b160={'type':_0x3cfb56(0x25c),'path':_0x533819[_0x3cfb56(0x24f)],'ref':_0x533819,'data':_0x5dc61b};return this[_0x3cfb56(0x969)][_0x3cfb56(0xa5d)][_0x3cfb56(0x639)](_0x47b160),this[_0x3cfb56(0x491)](this[_0x3cfb56(0x969)]['batch'],_0x47b160),_0x533819;}}const _0x11d8aa=_0x15fa13[_0x2aff22(0x80c)]();function _0x2dc45a(_0x1147a1,_0x3946ab){return'/'===_0x1147a1?_0x1147a1+_0x3946ab:_0x1147a1+'/'+_0x3946ab;}function _0x1b819c(_0x1bb8e0){const _0xe30c9a=_0x2aff22,_0x1bdc28=function(_0x272501){const _0x5c7dd3=a0_0x314b;return _0x272501['split']('/')[_0x5c7dd3(0xae8)](_0xa12534=>_0xa12534[_0x5c7dd3(0x482)]>0x0);}(_0x1bb8e0),_0x15ef84=_0x1bdc28['pop']()||'',_0x4b89e8=_0x1bdc28[_0xe30c9a(0x30c)]('/');return[0x0===_0x4b89e8[_0xe30c9a(0x482)]?'/':_0x4b89e8,_0x15ef84];}async function _0x186e59(_0x5f0439){const _0x11ea62=_0x2aff22;let _0x578302;const _0x1bd110=_0x5f0439[_0x11ea62(0x5ab)]/0x100000;_0x578302=_0x1bd110<=0xa?0x1:_0x1bd110<=0x64?0.5:_0x1bd110<=0x1f4?0.1:0.05;const _0x2219f8=Math[_0x11ea62(0x700)](_0x5f0439['size']/_0x373cd4),_0x518908=Math[_0x11ea62(0x700)](_0x2219f8*_0x578302);let _0x54bb48=new Uint8Array();for(let _0x1914a5=0x0;_0x1914a5<_0x518908;_0x1914a5++){const _0x385deb=Math[_0x11ea62(0x39d)](_0x1914a5/_0x518908*_0x5f0439[_0x11ea62(0x5ab)]);let _0x5649aa=_0x385deb+_0x373cd4;_0x5649aa>_0x5f0439[_0x11ea62(0x5ab)]&&(_0x5649aa=_0x5f0439[_0x11ea62(0x5ab)]);const _0x459907=_0x5f0439['slice'](_0x385deb,_0x5649aa),_0x43e244=await _0x459907[_0x11ea62(0x9a8)](),_0xa12a08=new Uint8Array([..._0x54bb48,...new Uint8Array(_0x43e244)]);_0x54bb48=new Uint8Array(await crypto[_0x11ea62(0x464)][_0x11ea62(0x6f8)](_0x11ea62(0x44d),_0xa12a08));}return Array[_0x11ea62(0x306)](new Uint8Array(_0x54bb48))[_0x11ea62(0x8df)](_0x466bed=>_0x466bed[_0x11ea62(0x7e6)](0x10)['padStart'](0x2,'0'))[_0x11ea62(0x30c)]('');}async function*_0x1d4bba(_0x45cf16,_0x3ac4ad=0x0,_0x3aacda){const _0x5857b3=_0x2aff22;let _0x47bc26=_0x3ac4ad*_0x3a1dbf,_0x49ab80=_0x45cf16;for(;_0x47bc26<_0x49ab80[_0x5857b3(0x5ab)];){let _0x5c4bb2=_0x47bc26+_0x3a1dbf;_0x5c4bb2>_0x49ab80['size']&&(_0x5c4bb2=_0x49ab80[_0x5857b3(0x5ab)]);let _0x112df5=0x0;for(;_0x112df5<0x14;)try{await _0x3aacda?.();const _0x42f6c5=_0x49ab80[_0x5857b3(0xac1)](_0x47bc26,_0x5c4bb2,_0x5857b3(0x823)),_0x3ede14=await _0x42f6c5[_0x5857b3(0x9a8)]();yield _0x3ede14,_0x47bc26=_0x5c4bb2,await new Promise(_0x357dba=>setTimeout(_0x357dba,0x0));break;}catch(_0x8f313f){if(console[_0x5857b3(0x730)](_0x5857b3(0xb6e)+(_0x112df5+0x1)+_0x5857b3(0x9ef),_0x8f313f),_0x112df5++,_0x112df5>0x14)throw _0x8f313f;let _0x415d1b=0x3e8*Math[_0x5857b3(0x5d9)](0x2,_0x112df5);_0x415d1b>0x7530&&(_0x415d1b=0x7530),await new Promise(_0x2af277=>setTimeout(_0x2af277,_0x415d1b));}}}class _0x4ba250 extends _0xb7f649{[_0x2aff22(0xae3)];[_0x2aff22(0xadb)];['fileChunks']=new Map();[_0x2aff22(0x688)]=0x0;[_0x2aff22(0x32c)]=0x0;[_0x2aff22(0x439)]=0x0;[_0x2aff22(0x664)]=0x0;constructor(_0x13411a,_0x51e1c9){super(_0x13411a,_0x51e1c9);}[_0x2aff22(0x2e7)](){const _0x4fb1ea=_0x2aff22;return this[_0x4fb1ea(0x4ea)];}[_0x2aff22(0x28c)](){const _0x508f4c=_0x2aff22;return this[_0x508f4c(0x4ea)];}[_0x2aff22(0x708)](){const _0x998710=_0x2aff22;return _0x182c91[_0x998710(0x1c0)][_0x998710(0x517)];}[_0x2aff22(0x54d)](){const _0x1c5db4=_0x2aff22;return this[_0x1c5db4(0x4ea)];}['registerPublisher'](_0x13a97c){const _0x1fa4c2=_0x2aff22;if(this[_0x1fa4c2(0xae3)])throw new _0x1a8c20(_0x1a8c20['codes'][_0x1fa4c2(0x7b8)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x1fa4c2(0x43f)][_0x1fa4c2(0x781)]()+'\x20-\x20'+this[_0x1fa4c2(0x4ea)],'topic':this[_0x1fa4c2(0xae3)]});this['outgoingTopic']=_0x13a97c;}[_0x2aff22(0x950)](_0x177d66){const _0xce0b53=_0x2aff22;if(this[_0xce0b53(0xadb)])throw new _0x1a8c20(_0x1a8c20[_0xce0b53(0x92d)][_0xce0b53(0xa1a)],{'message':_0xce0b53(0x502)+this[_0xce0b53(0x43f)][_0xce0b53(0x781)]()+_0xce0b53(0x20d)+this[_0xce0b53(0x4ea)],'topic':this['incomingTopic']});this[_0xce0b53(0xadb)]=_0x177d66;}['unregisterPublisher'](){delete this['outgoingTopic'];}['unregisterSubscriber'](){const _0x511335=_0x2aff22;delete this[_0x511335(0xadb)];}async['send'](_0x1f0517,_0x244356){const _0x38fdb2=_0x2aff22;if(_0x11d8aa[_0x38fdb2(0x6ea)](_0x23f9d6[_0x38fdb2(0x6ff)],_0x38fdb2(0x458),this[_0x38fdb2(0x43f)][_0x38fdb2(0x781)](),_0x1f0517,_0x244356),this[_0x38fdb2(0x688)]+=0x1,_0x1f0517 instanceof File){const _0x57b96b=await async function(_0x4866bd){const _0x5971b0=_0x38fdb2,_0x557f5f=[];for await(const _0x2d0b18 of _0x1d4bba(_0x4866bd))_0x557f5f[_0x5971b0(0x639)](_0x2d0b18);return _0x557f5f;}(_0x1f0517);return this[_0x38fdb2(0x439)]+=_0x57b96b[_0x38fdb2(0x317)]((_0x17cfde,_0x1c2580)=>_0x17cfde+_0x1c2580['byteLength'],0x0),void _0x57b96b[_0x38fdb2(0x663)]((_0x323b27,_0x1063bc)=>{const _0xd37640=_0x38fdb2;this[_0xd37640(0xae3)][_0xd37640(0x9cd)]({'sourceId':this[_0xd37640(0x43f)][_0xd37640(0x781)](),'destinationIds':_0x244356,'propagate':!0x0,'contentType':_0x182c91[_0xd37640(0x1c0)][_0xd37640(0xa78)],'content':{'name':_0x1f0517['name'],'type':_0x1f0517[_0xd37640(0x751)],'data':_0x323b27,'index':_0x1063bc,'total':_0x57b96b['length']}});});}this[_0x38fdb2(0x439)]+=JSON[_0x38fdb2(0x438)](_0x1f0517)['length'],this[_0x38fdb2(0xae3)][_0x38fdb2(0x9cd)]({'sourceId':this[_0x38fdb2(0x43f)]['getId'](),'destinationIds':_0x244356,'propagate':!0x0,'contentType':_0x182c91[_0x38fdb2(0x1c0)][_0x38fdb2(0x517)],'content':_0x1f0517});}[_0x2aff22(0x5f0)](_0x17481a){const _0x38e95d=_0x2aff22;return this['incomingTopic'][_0x38e95d(0x4c8)](_0x51aa10=>{const _0xda7cfa=_0x38e95d;switch(_0x11d8aa[_0xda7cfa(0x6ea)](_0x23f9d6[_0xda7cfa(0x6ff)],_0xda7cfa(0x3b9),this[_0xda7cfa(0x43f)][_0xda7cfa(0x781)](),_0x51aa10),_0x51aa10['contentType']){case _0x182c91['ContentType'][_0xda7cfa(0x517)]:this[_0xda7cfa(0x32c)]+=0x1,this[_0xda7cfa(0x664)]+=JSON['stringify'](_0x51aa10[_0xda7cfa(0xb25)])[_0xda7cfa(0x482)],_0x17481a(_0x51aa10[_0xda7cfa(0xb28)],_0x51aa10[_0xda7cfa(0xb25)]);break;case _0x182c91[_0xda7cfa(0x1c0)][_0xda7cfa(0xa78)]:this['fileChunks'][_0xda7cfa(0x938)](_0x51aa10[_0xda7cfa(0xb25)][_0xda7cfa(0x3b3)])||this['fileChunks']['set'](_0x51aa10[_0xda7cfa(0xb25)][_0xda7cfa(0x3b3)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x24e85c=this[_0xda7cfa(0xa0e)][_0xda7cfa(0x9de)](_0x51aa10['content'][_0xda7cfa(0x3b3)]);if(_0x24e85c['chunksReceived']+=0x1,_0x24e85c['bytesReceived']+=_0x51aa10[_0xda7cfa(0xb25)][_0xda7cfa(0x8e6)]['byteLength'],_0x24e85c[_0xda7cfa(0xb25)]&&(_0x24e85c[_0xda7cfa(0xb25)][_0x51aa10[_0xda7cfa(0xb25)]['index']]=_0x51aa10[_0xda7cfa(0xb25)][_0xda7cfa(0x8e6)]),this[_0xda7cfa(0xa0e)][_0xda7cfa(0x25c)](_0x51aa10[_0xda7cfa(0xb25)][_0xda7cfa(0x3b3)],_0x24e85c),_0x24e85c['chunksReceived']+0x1<_0x51aa10[_0xda7cfa(0xb25)]['total'])return;this['messagesReceived']+=0x1,this[_0xda7cfa(0x664)]+=_0x24e85c[_0xda7cfa(0x664)],_0x24e85c[_0xda7cfa(0xb25)]&&_0x17481a(_0x51aa10[_0xda7cfa(0xb28)],(_0x337635=_0x24e85c[_0xda7cfa(0xb25)],_0x1e7ff4=_0x51aa10[_0xda7cfa(0xb25)][_0xda7cfa(0x3b3)],_0x473aa8=_0x51aa10[_0xda7cfa(0xb25)]['type'],new File(_0x337635,_0x1e7ff4,{'type':_0x473aa8}))),this[_0xda7cfa(0xa0e)][_0xda7cfa(0xa6b)](_0x51aa10[_0xda7cfa(0xb25)][_0xda7cfa(0x3b3)]);}var _0x337635,_0x1e7ff4,_0x473aa8;});}}function _0x29c93b(){const _0x5cc628=_0x2aff22;let _0x40def5=[];return{'subscribe':_0x138b37=>(_0x40def5[_0x5cc628(0x639)](_0x138b37),()=>{_0x40def5=_0x40def5['filter'](_0x508f2d=>_0x508f2d!==_0x138b37);}),'publish':_0x3c881b=>{_0x40def5['forEach'](_0x26b1b6=>_0x26b1b6(_0x3c881b));}};}function _0x4b74c2(){let _0x4500d6;return{'subscribe':_0x3aa366=>(_0x4500d6=_0x3aa366,()=>{_0x4500d6=void 0x0;}),'publish':_0x5aca2e=>{_0x4500d6&&_0x4500d6(_0x5aca2e);}};}class _0x2fdd71{[_0x2aff22(0x7a1)];[_0x2aff22(0x2ed)];[_0x2aff22(0x64a)];[_0x2aff22(0xbd6)]=_0x4b74c2();['listenerUnsubscriber'];constructor(_0x5e556e,_0x3a5419,_0x25c1bc){const _0x13432a=_0x2aff22;this[_0x13432a(0x7a1)]=_0x5e556e,this[_0x13432a(0x2ed)]=_0x3a5419,this[_0x13432a(0x64a)]=_0x25c1bc;}[_0x2aff22(0xb97)](){const _0x527161=_0x2aff22;this[_0x527161(0x367)]?.();}async[_0x2aff22(0x9de)](_0x10a7c3){const _0xc82bfd=_0x2aff22,_0x116950={'key':_0x10a7c3,'tableName':this[_0xc82bfd(0x2ed)],'action':_0x1b9f35['Get']};return this[_0xc82bfd(0x64a)][_0xc82bfd(0x9cd)](_0x116950),this['connector'][_0xc82bfd(0x9de)](_0x10a7c3);}async[_0x2aff22(0x25c)](_0x17219a,_0x48cb62,_0x119fa6=!0x0){const _0x11ecd2=_0x2aff22;this[_0x11ecd2(0x778)](_0x48cb62);const _0x2a90c7=await this[_0x11ecd2(0x7a1)]['get'](_0x17219a),_0xa6a5d=await this[_0x11ecd2(0x7a1)][_0x11ecd2(0x25c)](_0x17219a,_0x48cb62),_0x2ec58f=_0x2a90c7?_0x18a8c2['Update']:_0x18a8c2['Add'];if(this[_0x11ecd2(0x9cd)](_0x2ec58f,_0xa6a5d),!_0x119fa6)return _0xa6a5d;const _0x50ad86={'key':_0x17219a,'tableName':this[_0x11ecd2(0x2ed)],'action':_0x2ec58f,'value':_0xa6a5d};return this[_0x11ecd2(0x64a)]['publish'](_0x50ad86),_0xa6a5d;}async[_0x2aff22(0x62d)](_0x5a02cf){const _0xa1eeb7=_0x2aff22;this[_0xa1eeb7(0x778)](_0x5a02cf);const _0x4ae3cf=await this[_0xa1eeb7(0x7a1)][_0xa1eeb7(0x62d)](_0x5a02cf),_0x37a2da={'key':_0x4ae3cf['id'],'tableName':this[_0xa1eeb7(0x2ed)],'action':_0x18a8c2[_0xa1eeb7(0x849)],'value':_0x4ae3cf};return this[_0xa1eeb7(0x64a)][_0xa1eeb7(0x9cd)](_0x37a2da),this[_0xa1eeb7(0x9cd)](_0x37a2da[_0xa1eeb7(0x616)],_0x4ae3cf),_0x4ae3cf;}async['delete'](_0x5a0685,_0x2d5d01=!0x0){const _0x1f1d9c=_0x2aff22,_0x33cc4d=await this['connector']['get'](_0x5a0685);if(!_0x33cc4d)return;await this[_0x1f1d9c(0x7a1)][_0x1f1d9c(0xa6b)](_0x5a0685);const _0x12f716=_0x18a8c2[_0x1f1d9c(0x9ce)];if(this['publish'](_0x12f716,_0x33cc4d),!_0x2d5d01)return;const _0x484738={'key':_0x5a0685,'tableName':this[_0x1f1d9c(0x2ed)],'action':_0x12f716,'value':_0x33cc4d};this[_0x1f1d9c(0x64a)][_0x1f1d9c(0x9cd)](_0x484738);}async[_0x2aff22(0x56c)](){const _0x3079e3=_0x2aff22,_0x15f98a=await this[_0x3079e3(0x5c1)]();for(const _0x40e9f7 of _0x15f98a){const _0x25e2d3=_0x18a8c2['Delete'];this[_0x3079e3(0x9cd)](_0x25e2d3,_0x40e9f7);const _0x20fa4a={'key':_0x40e9f7['id'],'tableName':this[_0x3079e3(0x2ed)],'action':_0x25e2d3,'value':_0x40e9f7};this[_0x3079e3(0x64a)]['publish'](_0x20fa4a);}return this[_0x3079e3(0x7a1)][_0x3079e3(0x56c)]();}async[_0x2aff22(0x5c1)](_0xb7bcd1){const _0x3a7158=_0x2aff22,_0x53cebf={'key':'','tableName':this[_0x3a7158(0x2ed)],'action':_0x1b9f35[_0x3a7158(0x292)]};this[_0x3a7158(0x64a)]['publish'](_0x53cebf);try{_0xb7bcd1&&(_0xb7bcd1=_0xb7bcd1 instanceof _0x5a7bf0?_0xb7bcd1['getQuery']():_0x5a7bf0[_0x3a7158(0x3c3)](_0xb7bcd1)[_0x3a7158(0x3be)]());}catch(_0x3e8d34){throw new _0x447098(_0x35722f[_0x3a7158(0x9cc)],_0x3a7158(0x1e8));}try{return await this[_0x3a7158(0x7a1)][_0x3a7158(0x5c1)](_0xb7bcd1);}catch(_0x44b743){let _0x301a96=_0x3a7158(0x1e8);throw _0x44b743 instanceof Error&&(_0x301a96=_0x44b743[_0x3a7158(0x83d)]),new _0x447098(_0x35722f[_0x3a7158(0x9cc)],_0x301a96);}}async[_0x2aff22(0xa46)](_0x468a27){const _0x3f15cf=_0x2aff22,_0x3192e2={'key':'','tableName':this[_0x3f15cf(0x2ed)],'action':_0x1b9f35[_0x3f15cf(0x51f)]};this[_0x3f15cf(0x64a)][_0x3f15cf(0x9cd)](_0x3192e2);try{_0x468a27&&(_0x468a27=_0x468a27 instanceof _0x5a7bf0?_0x468a27[_0x3f15cf(0x3be)]():_0x5a7bf0[_0x3f15cf(0x3c3)](_0x468a27)[_0x3f15cf(0x3be)]());}catch(_0x161545){throw new _0x447098(_0x35722f['KeyValueDatabaseInvalidQuery'],_0x3f15cf(0x1e8));}try{return await this[_0x3f15cf(0x7a1)][_0x3f15cf(0xa46)](_0x468a27);}catch(_0x57a1e8){let _0x53ea4e='Invalid\x20query';throw _0x57a1e8 instanceof Error&&(_0x53ea4e=_0x57a1e8['message']),new _0x447098(_0x35722f['KeyValueDatabaseInvalidQuery'],_0x53ea4e);}}[_0x2aff22(0x2c2)](){const _0x28e7f2=_0x2aff22;return this[_0x28e7f2(0x7a1)]['calculateSize']();}[_0x2aff22(0x4c8)](_0x3ca9f3){const _0x3825be=_0x2aff22;this[_0x3825be(0x367)]=this[_0x3825be(0xbd6)][_0x3825be(0x4c8)](_0x3ca9f3);}[_0x2aff22(0x815)](){const _0x2fc915=_0x2aff22;this[_0x2fc915(0x367)]?.();}[_0x2aff22(0x9cd)](_0x5baed3,_0xa0464){const _0x39b7d5=_0x2aff22,_0x5b06c1=this[_0x39b7d5(0x757)](_0x5baed3,_0xa0464);this[_0x39b7d5(0xbd6)][_0x39b7d5(0x9cd)](_0x5b06c1);}[_0x2aff22(0x757)](_0x3cafad,_0x178339){const _0x1e2456=_0x2aff22;let _0x3792d7;switch(_0x3cafad){case _0x18a8c2[_0x1e2456(0x849)]:_0x3792d7=_0x1e2456(0x62d);break;case _0x18a8c2[_0x1e2456(0x48d)]:_0x3792d7=_0x1e2456(0x9da);break;case _0x18a8c2[_0x1e2456(0x9ce)]:_0x3792d7=_0x1e2456(0xa6b);}return{'action':_0x3792d7,'value':_0x178339};}[_0x2aff22(0x778)](_0x293f9a){const _0x59f413=_0x2aff22;if(_0x59f413(0x42c)!=typeof _0x293f9a||null===_0x293f9a)throw new _0x447098(_0x35722f[_0x59f413(0x40a)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x5f5d8d in _0x293f9a){const _0x115b09=_0x293f9a[_0x5f5d8d];if(_0x59f413(0x42c)!=typeof _0x115b09||_0x115b09 instanceof Date){if(![_0x59f413(0xb85),_0x59f413(0xb63),_0x59f413(0x461)][_0x59f413(0x9bf)](typeof _0x115b09))throw new _0x447098(_0x35722f[_0x59f413(0x40a)],_0x59f413(0xacf)+_0x5f5d8d+_0x59f413(0xb6c));}else this[_0x59f413(0x778)](_0x115b09);}}}class _0x1efa89{[_0x2aff22(0x857)]=[];[_0x2aff22(0x8bf)]=0x0;[_0x2aff22(0xa90)]=[];[_0x2aff22(0xa2a)]=!0x1;['cachedRoot']=null;[_0x2aff22(0x4df)]=null;[_0x2aff22(0xa48)];[_0x2aff22(0xb6b)]=null;[_0x2aff22(0x70d)]=[];[_0x2aff22(0x53b)];['_ready']=Promise[_0x2aff22(0x7b5)]();[_0x2aff22(0x295)]=0x0;constructor(){}get['ready'](){return this['_ready'];}async[_0x2aff22(0x1ac)](_0x27e6d3,_0x490bcb=0x0){const _0x2a8673=_0x2aff22;this[_0x2a8673(0xb6b)]||(this[_0x2a8673(0x73f)]=new Promise(_0xf74066=>{const _0x348c84=_0x2a8673;this[_0x348c84(0xb6b)]=_0xf74066;}),this[_0x2a8673(0x295)]=_0x490bcb);const _0x2d7dc4=Date['now']();if(this[_0x2a8673(0xa2a)])return void this[_0x2a8673(0xa90)][_0x2a8673(0x639)](_0x27e6d3);this[_0x2a8673(0xa2a)]=!0x0;let _0x105669={'hash':await this[_0x2a8673(0xae6)](_0x27e6d3),'height':0x0};const _0x3d82b4=this[_0x2a8673(0xae7)](_0x105669);this[_0x2a8673(0x70d)][_0x2a8673(0x639)](_0x3d82b4),await _0x3d82b4,this[_0x2a8673(0x8bf)]+=0x1;const _0x323b0e=this[_0x2a8673(0xa90)]['length'];for(;this[_0x2a8673(0xa90)][_0x2a8673(0x482)]>0x0;){const _0x579b10=this[_0x2a8673(0xa90)][_0x2a8673(0x631)]();await this[_0x2a8673(0x1ac)](_0x579b10);}this[_0x2a8673(0x4d3)](),await this[_0x2a8673(0x98c)],this[_0x2a8673(0x53c)](_0x2d7dc4,_0x323b0e);}async['getRoot'](){const _0x481d7a=_0x2aff22;return await this[_0x481d7a(0x73f)],this[_0x481d7a(0xa2a)]?(this[_0x481d7a(0x4df)]||(this['rootComputationPromise']=this[_0x481d7a(0x5d3)]()),await this[_0x481d7a(0x4df)]):this[_0x481d7a(0x75f)];}['getPeaks'](){const _0x445e36=_0x2aff22;return this[_0x445e36(0x857)]['map'](({hash:_0x186b6c,height:_0x5ec984})=>({'hash':_0x186b6c,'height':_0x5ec984}));}[_0x2aff22(0x375)](){return this['totalNodes'];}[_0x2aff22(0x349)](_0x4054d8){const _0x48c868=_0x2aff22;return this[_0x48c868(0x857)]['find'](_0x257cd9=>_0x257cd9[_0x48c868(0xbf6)]===_0x4054d8);}async['hashNodes'](_0x20f31c,_0x200e3c){const _0x4ddf2e=_0x2aff22;return await this[_0x4ddf2e(0x3f7)](_0x20f31c+_0x200e3c);}async[_0x2aff22(0xae6)](_0xa376de){const _0x149ce6=_0x2aff22;return await this[_0x149ce6(0x3f7)](JSON[_0x149ce6(0x438)](_0xa376de));}[_0x2aff22(0x1c1)](_0x22b028){const _0x160fbb=_0x2aff22,_0xa044b4=this[_0x160fbb(0x5b3)](),_0x312dbd=[],_0x329800=[],_0x842153=[];for(const _0x5cde28 of _0xa044b4){const _0x312ffa=_0x22b028[_0x160fbb(0x43b)](_0x33f926=>_0x33f926[_0x160fbb(0xbf6)]===_0x5cde28[_0x160fbb(0xbf6)]);_0x312ffa?_0x5cde28[_0x160fbb(0x221)]!==_0x312ffa[_0x160fbb(0x221)]&&_0x312dbd[_0x160fbb(0x639)]({'height':_0x5cde28[_0x160fbb(0xbf6)],'localPeak':_0x5cde28,'remotePeak':_0x312ffa}):_0x329800[_0x160fbb(0x639)](_0x5cde28);}for(const _0x1f7db2 of _0x22b028)_0xa044b4[_0x160fbb(0x43b)](_0x85cdf7=>_0x85cdf7[_0x160fbb(0xbf6)]===_0x1f7db2['height'])||_0x842153[_0x160fbb(0x639)](_0x1f7db2);return{'differingPeaks':_0x312dbd,'peaksMissingInRemote':_0x329800,'peaksMissingInLocal':_0x842153};}async[_0x2aff22(0x5d3)](){const _0x10ff80=_0x2aff22;this[_0x10ff80(0xa2a)]=!0x0;const _0x4c807c=this['peaks']['map'](_0x24d7d2=>_0x24d7d2[_0x10ff80(0x221)]);return this[_0x10ff80(0x75f)]=await this[_0x10ff80(0x506)](_0x4c807c),this[_0x10ff80(0xa2a)]=!0x1,this[_0x10ff80(0x4df)]=null,this[_0x10ff80(0x4d3)](),this[_0x10ff80(0x75f)];}async[_0x2aff22(0x3f7)](_0x424a59){const _0x32edda=_0x2aff22;try{const _0x1e522f=new TextEncoder()[_0x32edda(0xbcd)](_0x424a59),_0x23dfb2=await crypto[_0x32edda(0x464)][_0x32edda(0x6f8)](_0x32edda(0x44d),_0x1e522f);return Array[_0x32edda(0x306)](new Uint8Array(_0x23dfb2))['map'](_0x2bc716=>_0x2bc716['toString'](0x10)['padStart'](0x2,'0'))[_0x32edda(0x30c)]('');}catch(_0x5136db){return console[_0x32edda(0x730)](_0x32edda(0x3e0),_0x5136db),this[_0x32edda(0x3f7)](_0x424a59);}}async[_0x2aff22(0x506)](_0xaa077){return await this['computeHash'](_0xaa077['join'](''));}async[_0x2aff22(0xae7)](_0x286413){const _0x5561ef=_0x2aff22;for(;this['peaks']['length']>0x0&&this[_0x5561ef(0x857)][this[_0x5561ef(0x857)][_0x5561ef(0x482)]-0x1][_0x5561ef(0xbf6)]===_0x286413['height'];){const _0x144773=this[_0x5561ef(0x857)][_0x5561ef(0x552)]();_0x286413={'hash':await this[_0x5561ef(0xa6a)](_0x144773[_0x5561ef(0x221)],_0x286413[_0x5561ef(0x221)]),'left':_0x144773,'right':_0x286413,'height':_0x286413['height']+0x1};}this['peaks'][_0x5561ef(0x639)](_0x286413),await this[_0x5561ef(0x5d3)]();}['debounceAppendLog'](_0x13028c,_0x345d19){const _0x3a3c00=_0x2aff22;if(!_0x11d8aa['isChannelEnabled'](_0x23f9d6['KeyValueDatabase']))return;this[_0x3a3c00(0xa48)]&&clearTimeout(this[_0x3a3c00(0xa48)]);const _0x53c9ff=Date[_0x3a3c00(0x75c)]();this[_0x3a3c00(0xa48)]=setTimeout(()=>_0x11d8aa['log'](_0x23f9d6['KeyValueDatabase'],_0x3a3c00(0x21f),this[_0x3a3c00(0x75f)],_0x3a3c00(0x534),this[_0x3a3c00(0x375)](),_0x3a3c00(0x5da),_0x345d19,_0x3a3c00(0x1bd),_0x53c9ff-_0x13028c),0x7d0);}['debounceReady'](){const _0x1d42bd=_0x2aff22;this['debounceReadyTimeout']&&clearTimeout(this[_0x1d42bd(0x53b)]),this[_0x1d42bd(0x53b)]=setTimeout(async()=>{const _0x2c7829=_0x1d42bd;try{const _0x1cb812=this['readyPromises'];if(this[_0x2c7829(0x70d)]=[],await Promise[_0x2c7829(0x298)](_0x1cb812),this['expectedTransactions']-=_0x1cb812[_0x2c7829(0x482)],this['readyPromises']['length']>0x0||this[_0x2c7829(0x295)]>0x0)return this[_0x2c7829(0x4d3)]();this[_0x2c7829(0xb6b)]&&(this[_0x2c7829(0xb6b)](),this[_0x2c7829(0xb6b)]=null),this[_0x2c7829(0x73f)]=Promise[_0x2c7829(0x7b5)](),this[_0x2c7829(0xa2a)]=!0x1;}catch(_0x4bd88f){console[_0x2c7829(0x730)](_0x2c7829(0x6c4),_0x4bd88f);}},0xa);}}const _0x1976f4=[_0x2aff22(0xa97),_0x2aff22(0x43a),_0x2aff22(0x41a),_0x2aff22(0x5ce),'Stats','Detection',_0x2aff22(0x739)],_0xe0ba9f=[[_0x2aff22(0x88b),_0x2aff22(0xa2c),'Handshake',_0x2aff22(0x626),_0x2aff22(0x940),'Restart',_0x2aff22(0x9d1),_0x2aff22(0x1d7),'OptimizationConnectionSuccess'],['NodeJoin',_0x2aff22(0x865),_0x2aff22(0xad6),_0x2aff22(0x58a)],[_0x2aff22(0xb8d),_0x2aff22(0x4bc),_0x2aff22(0x2a7),_0x2aff22(0x4e4),_0x2aff22(0x563),_0x2aff22(0xa1f),'CloseObjectStoreBucket',_0x2aff22(0x951),_0x2aff22(0x96c),'ExternalStorageStats','GenerativeAIContextStats','GenerativeAIWorkerStats',_0x2aff22(0x980),_0x2aff22(0x81c),_0x2aff22(0x869),_0x2aff22(0x6a2),_0x2aff22(0x1c2),'KeyValueDatabaseSendTransactions','KeyValueDatabaseStats',_0x2aff22(0x6d1),_0x2aff22(0x5e6),_0x2aff22(0xb4c),_0x2aff22(0x350),_0x2aff22(0x9e6),_0x2aff22(0xb92),'SubscribeMediaStream','UnpublishMediaStream',_0x2aff22(0xa58),_0x2aff22(0x8c5),_0x2aff22(0x2ee)],['SubscribeMediaStream',_0x2aff22(0x8c5),_0x2aff22(0x9ea),_0x2aff22(0x799),_0x2aff22(0x45e),_0x2aff22(0x394)],[_0x2aff22(0x549),_0x2aff22(0x983)],[_0x2aff22(0x74d)],[_0x2aff22(0x739),_0x2aff22(0x917)]];function _0x3a9d9c(_0x478025){const _0x27ab7e=_0x2aff22;return{..._0x478025,'systemMessageType':_0x1976f4[_0x478025['messageType']],'systemContentMessageType':_0xe0ba9f[_0x478025[_0x27ab7e(0x652)]][_0x478025['content'][_0x27ab7e(0x751)]]};}const _0x5c14b0={'hour':_0x2aff22(0x5e8),'minute':_0x2aff22(0x5e8),'second':_0x2aff22(0x5e8)};function _0x584821(_0x4e3a19,_0x43fa9f){const _0x57ad06=_0x2aff22,_0x1ce7e0=(function(){const _0x4f0568=a0_0x314b,_0x2a3f67=new Date(),_0x3e6f56=_0x2a3f67[_0x4f0568(0x4a5)](),_0xe882a8=_0x2a3f67[_0x4f0568(0xb17)](_0x4f0568(0x3e6),_0x5c14b0)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0xe882a8+'.'+(_0x3e6f56>0x64?''+_0x3e6f56:_0x3e6f56>0xa?'0'+_0x3e6f56:'00'+_0x3e6f56);}()),{sourceId:_0x58e7bc,destinationIds:_0x3ab429,systemMessageType:_0x155030,systemContentMessageType:_0x4433bf}=_0x3a9d9c(_0x4e3a19);return _0x1ce7e0+_0x57ad06(0x20d)+_0x43fa9f+_0x57ad06(0x20d)+(_0x58e7bc===_0x43fa9f?_0x57ad06(0x61d)+_0x155030+_0x57ad06(0x407)+(_0x3ab429?''+_0x3ab429:_0x57ad06(0x99d)):_0x4e3a19[_0x57ad06(0xb28)]===_0x21a1e9?_0x57ad06(0x1d9)+_0x155030+'\x27':(_0x3ab429?'':_0x57ad06(0xa9b))+_0x57ad06(0x85a)+_0x155030+_0x57ad06(0x85c)+_0x58e7bc)+'\x20with\x20\x27'+_0x4433bf+'\x27\x20payload:';}function _0x53e411(_0x50f10c,_0x4d870a){const _0x393e83=_0x2aff22;if(!_0x11d8aa[_0x393e83(0xbcb)](_0x50f10c))return;if(_0x4d302b['isProduction'])return;if(_0x393e83(0x817)==typeof process)return;const _0x487ac5=process[_0x393e83(0x988)]();console[_0x393e83(0x6ea)](_0x393e83(0xb2c)+_0x4d870a+':');for(const _0x1b1531 in _0x487ac5)console[_0x393e83(0x6ea)]('\x20\x20'+_0x1b1531+':\x20'+(_0x487ac5[_0x1b1531]/0x400/0x400)[_0x393e83(0x4fc)](0x2)+'\x20MB');}function _0x588feb(_0x29cdd3,_0x4ab7b7){const _0x280bb3=_0x2aff22;if(!_0x11d8aa[_0x280bb3(0xbcb)](_0x4ab7b7))return _0x11d8aa['debug'](_0x280bb3(0x3d7)+_0x4ab7b7),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x102a20,_0x966731)=>_0x966731}};let _0x2d9aa0=0x0;return{'timingLogger':((()=>{const _0x8d52a4=_0x280bb3;let _0x45bd65=Date[_0x8d52a4(0x75c)]();return{'start':()=>{const _0x3fa478=_0x8d52a4;_0x45bd65=Date[_0x3fa478(0x75c)]();},'now':()=>Date[_0x8d52a4(0x75c)](),'logWaitTime':_0x134f83=>{const _0x53636e=_0x8d52a4;_0x2d9aa0+=Date[_0x53636e(0x75c)]()-_0x45bd65,_0x11d8aa[_0x53636e(0x6ea)](_0x4ab7b7,_0x134f83,_0x2d9aa0+'ms',_0x29cdd3);}};})()),'logger':{'log':(_0x413a21,_0x310d53=()=>{})=>{const _0x2e21ad=_0x280bb3,_0x2c7d89=_0x310d53();_0x2c7d89?_0x11d8aa['log'](_0x4ab7b7,_0x413a21,_0x2c7d89,_0x29cdd3):_0x11d8aa[_0x2e21ad(0x6ea)](_0x4ab7b7,_0x413a21,_0x29cdd3);},'performCalculation':(_0x3af1e3,_0x3170c)=>_0x3af1e3()}};}function _0x2d0a3b(_0x6f0522){const _0x48dbb3=_0x2aff22;return'undefined'==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0x48dbb3(0x438)](_0x6f0522),_0x48dbb3(0x4d0));}function _0x1f73ed(_0xdd1156){const _0x2f1f7c=_0x2aff22;if(0x0===_0xdd1156)return'0\x20B';const _0x2d0589=Math[_0x2f1f7c(0x39d)](Math[_0x2f1f7c(0x6ea)](_0xdd1156)/Math[_0x2f1f7c(0x6ea)](0x400));return parseFloat((_0xdd1156/Math[_0x2f1f7c(0x5d9)](0x400,_0x2d0589))[_0x2f1f7c(0x4fc)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x2d0589];}class _0x44d37d extends _0x4ba250{['localNode'];[_0x2aff22(0x3d0)];[_0x2aff22(0x97c)];['isNodeReady'];['db'];[_0x2aff22(0xb42)];[_0x2aff22(0xa43)]=new Map();[_0x2aff22(0x64a)];[_0x2aff22(0x851)];[_0x2aff22(0x592)];['isSync'];[_0x2aff22(0x593)];['transactionsToSync']=[];[_0x2aff22(0x624)]=()=>{};[_0x2aff22(0x881)];[_0x2aff22(0xbd6)]=_0x4b74c2();[_0x2aff22(0x367)];[_0x2aff22(0x5fc)]=[];[_0x2aff22(0x5e9)];[_0x2aff22(0x28b)];[_0x2aff22(0x6ed)]=0x0;[_0x2aff22(0xa81)]=0x0;['contentRequestSent']=!0x1;['mmr']=new _0x1efa89();[_0x2aff22(0x2b1)]=new Map();[_0x2aff22(0x852)]=[];[_0x2aff22(0x2d8)];[_0x2aff22(0xb27)]=[];[_0x2aff22(0x9ab)];constructor(_0x55adf2,_0x518b18,_0xa33064,_0x86a819,_0x4fd662,_0x5e066c,_0x38ed81){const _0xec9f61=_0x2aff22;if(_0xec9f61(0xb85)!=typeof _0x518b18)throw new _0x447098(_0x35722f[_0xec9f61(0x512)],_0xec9f61(0x240));if(super(_0x55adf2,_0x518b18),this[_0xec9f61(0x20e)]=_0x55adf2,this[_0xec9f61(0x3d0)]=_0xa33064,this['vendorId']=_0x86a819,this[_0xec9f61(0x85e)]=_0x38ed81,this[_0xec9f61(0xb42)]=_0xec9f61(0xa10)+this[_0xec9f61(0x97c)]+'ccc'+this['clusterId']+_0xec9f61(0xa10)+this[_0xec9f61(0x4ea)],this[_0xec9f61(0x64a)]=_0x4b74c2(),this['loggingCycle']=function(_0x564a44,_0x24c4a1){const _0x117a46=_0xec9f61;if(!_0x11d8aa[_0x117a46(0xbcb)](_0x24c4a1))return _0x11d8aa[_0x117a46(0xad7)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x24c4a1),{..._0x588feb(_0x564a44,_0x24c4a1),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x117a46(0xa5a),'dataReceived':_0x117a46(0xa5a)})};const {timingLogger:_0x3db3c6,logger:_0x86fc13}=_0x588feb(_0x564a44,_0x24c4a1);let _0x6f321b=0x0,_0x205a2c=0x0;return{'timingLogger':_0x3db3c6,'logger':_0x86fc13,'logDataSent':(_0x12ef95,_0x21dd42=!0x1)=>{const _0x41c075=_0x117a46,_0x5cf72b=_0x2d0a3b(_0x12ef95);return _0x21dd42&&_0x11d8aa['log'](_0x24c4a1,_0x41c075(0x6bf),_0x564a44,_0x5cf72b),_0x6f321b+=_0x5cf72b,_0x5cf72b;},'logDataReceived':(_0x17de53,_0x1ec892=!0x1)=>{const _0x41b6a0=_0x117a46,_0x3bd12c=_0x2d0a3b(_0x17de53);return _0x1ec892&&_0x11d8aa[_0x41b6a0(0x6ea)](_0x24c4a1,_0x41b6a0(0x7c9),_0x564a44,_0x3bd12c),_0x205a2c+=_0x3bd12c,_0x3bd12c;},'getDataLogged':()=>({'dataSent':_0x1f73ed(_0x6f321b),'dataReceived':_0x1f73ed(_0x205a2c)})};}(this[_0xec9f61(0x4ea)],_0x23f9d6['KeyValueDatabase']),this[_0xec9f61(0x533)]=new Promise(_0x3db14e=>{const _0x3fce72=_0xec9f61;this[_0x3fce72(0x593)]=_0x3db14e;}),_0x4fd662 instanceof _0xd90fd4)this['layout']=_0x4fd662[_0xec9f61(0x81d)]();else{const [_0x15f808,_0x33dade]=_0xd90fd4[_0xec9f61(0x7f6)](_0x4fd662);if(!_0x15f808)throw new _0x447098(_0x35722f['KeyValueDatabaseInvalidLayout'],_0xec9f61(0x58b)+_0x33dade);this[_0xec9f61(0x5e9)]=structuredClone(_0x4fd662);}this[_0xec9f61(0x325)](this[_0xec9f61(0x5e9)]),this['db']=new _0x5e066c(this['dbKey'],this[_0xec9f61(0x5e9)]),this['sendStats']();}async['answerContentAvailable'](_0x417d4f,_0x849490){const _0x354603=_0x2aff22;if(_0x11d8aa[_0x354603(0x6ea)](_0x23f9d6[_0x354603(0x3e1)],_0x354603(0x4f0),this[_0x354603(0x4ea)]),!this['transactionTable'])throw new _0x1a8c20(_0x1a8c20[_0x354603(0x92d)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this['isSync'],await this['isNodeReady'](_0x417d4f),await this[_0x354603(0x66e)][_0x354603(0xb90)]()===_0x849490){const _0x2b283a={'sourceId':this[_0x354603(0x20e)]['getId'](),'destinationIds':[_0x417d4f],'propagate':!0x0,'messageType':_0x3048e8[_0x354603(0x41a)],'content':{'type':_0x4f0180[_0x354603(0x869)],'label':this[_0x354603(0x4ea)],'mmrRoot':_0x849490}};return this['loggingCycle'][_0x354603(0x554)](_0x2b283a),void this[_0x354603(0x7ef)]['publish'](_0x2b283a);}const _0xb7b865=this[_0x354603(0x66e)][_0x354603(0x5b3)](),_0x563d8f={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x417d4f],'propagate':!0x0,'messageType':_0x3048e8[_0x354603(0x41a)],'content':{'type':_0x4f0180['KeyValueDatabaseContentAvailable'],'label':this['label'],'peaks':_0xb7b865}};this['loggingCycle'][_0x354603(0x554)](_0x563d8f),this[_0x354603(0x7ef)][_0x354603(0x9cd)](_0x563d8f);}async[_0x2aff22(0x2d6)](_0xbf3700,_0x511d6c){const _0x8ebaaf=_0x2aff22,_0xedc3d1=await this[_0x8ebaaf(0x66e)][_0x8ebaaf(0xb90)](),_0x485978=_0xedc3d1===_0x511d6c;if(_0x11d8aa[_0x8ebaaf(0x6ea)](_0x23f9d6['KeyValueDatabase'],_0x8ebaaf(0x818)+_0xbf3700+_0x8ebaaf(0xb23)+_0x485978,this[_0x8ebaaf(0x4ea)]),_0x485978)return this[_0x8ebaaf(0x68e)](),void this[_0x8ebaaf(0x4ee)]();_0x11d8aa[_0x8ebaaf(0x6ea)](_0x23f9d6[_0x8ebaaf(0x3e1)],_0x8ebaaf(0xa7c),_0xedc3d1,_0x511d6c),_0x11d8aa[_0x8ebaaf(0x25e)](_0x8ebaaf(0xa7c),{'nodeId':this[_0x8ebaaf(0x20e)][_0x8ebaaf(0x781)](),'nodeType':this[_0x8ebaaf(0x20e)]['type'],'remoteId':_0xbf3700,'data':{'localMMRRoot':_0xedc3d1,'remoteMMRRoot':_0x511d6c}});const _0x5743e9={'sourceId':this[_0x8ebaaf(0x20e)][_0x8ebaaf(0x781)](),'messageType':_0x3048e8[_0x8ebaaf(0x41a)],'propagate':!0x0,'content':{'type':_0x4f0180[_0x8ebaaf(0x6d1)],'label':this[_0x8ebaaf(0x4ea)],'mmrRoot':_0xedc3d1}};this[_0x8ebaaf(0x7ef)][_0x8ebaaf(0x9cd)](_0x5743e9);}async[_0x2aff22(0x65f)](_0x38271c,_0x5dfe4a){const _0x567e45=_0x2aff22;if(_0x11d8aa[_0x567e45(0x6ea)](_0x23f9d6[_0x567e45(0x3e1)],_0x567e45(0x7b2),_0x38271c,_0x567e45(0x4ea),this['label'],_0x567e45(0x857),_0x5dfe4a),this[_0x567e45(0x906)])return;this[_0x567e45(0x906)]=!0x0,this[_0x567e45(0x68e)]();const {differingPeaks:_0xc066f0,peaksMissingInLocal:_0x2bef30,peaksMissingInRemote:_0xae7018}=this[_0x567e45(0x66e)][_0x567e45(0x1c1)](_0x5dfe4a);_0x11d8aa['log'](_0x23f9d6[_0x567e45(0x3e1)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0xc066f0,'peaksMissingInLocal':_0x2bef30,'peaksMissingInRemote':_0xae7018});const _0x378e60={'sourceId':this[_0x567e45(0x20e)][_0x567e45(0x781)](),'destinationIds':[_0x38271c],'propagate':!0x0,'messageType':_0x3048e8['Content'],'content':{'type':_0x4f0180[_0x567e45(0x6a2)],'label':this[_0x567e45(0x4ea)],'peakHeights':_0x2bef30[_0x567e45(0x8df)](_0x5cd46e=>_0x5cd46e[_0x567e45(0xbf6)])['concat'](_0xc066f0[_0x567e45(0x8df)](_0x5e2313=>_0x5e2313[_0x567e45(0xbf6)]))}};if(this['systemTopic'][_0x567e45(0x9cd)](_0x378e60),_0xc066f0[_0x567e45(0x482)]>0x0||_0xae7018[_0x567e45(0x482)]>0x0){const _0x11cffc=_0xae7018[_0x567e45(0x8df)](_0x5abe17=>_0x5abe17[_0x567e45(0xbf6)])[_0x567e45(0x632)](_0xc066f0[_0x567e45(0x8df)](_0x475af0=>_0x475af0['height']));await this[_0x567e45(0x5f3)](_0x38271c,_0x11cffc,!0x0);}}async['sendPeakTransactions'](_0x5afc6e,_0x40c93f,_0x5f80d=!0x1){const _0x4d0cfd=_0x2aff22;_0x11d8aa[_0x4d0cfd(0x6ea)](_0x23f9d6[_0x4d0cfd(0x3e1)],_0x4d0cfd(0x62b),this['label']);const _0x2925c1=_0x40c93f['map'](_0x4e1063=>this[_0x4d0cfd(0x66e)][_0x4d0cfd(0x349)](_0x4e1063))[_0x4d0cfd(0xae8)](Boolean);if(!_0x2925c1[_0x4d0cfd(0x482)]||_0x40c93f['length']!==_0x2925c1[_0x4d0cfd(0x482)])throw new _0x1a8c20(_0x1a8c20[_0x4d0cfd(0x92d)][_0x4d0cfd(0x7e8)],{'message':_0x4d0cfd(0x89a),'peakHeights':_0x40c93f,'peaks':_0x2925c1[_0x4d0cfd(0x8df)](_0x15bd05=>_0x15bd05[_0x4d0cfd(0xbf6)]),'nodeId':_0x5afc6e});const _0x46d9d5=[];for(const _0x5b019f of _0x2925c1)this[_0x4d0cfd(0x511)](_0x5b019f,_0x46d9d5);const _0x385b31=_0x5f80d?void 0x0:[_0x5afc6e],_0x36a392={'sourceId':this[_0x4d0cfd(0x20e)][_0x4d0cfd(0x781)](),'destinationIds':_0x385b31,'messageType':_0x3048e8[_0x4d0cfd(0x41a)],'propagate':!0x0,'content':{'type':_0x4f0180[_0x4d0cfd(0x641)],'label':this[_0x4d0cfd(0x4ea)],'transactions':_0x46d9d5}};this['loggingCycle'][_0x4d0cfd(0x554)](_0x36a392),this['systemTopic']['publish'](_0x36a392);}async['processReceivedTransactions'](_0x22f71a,_0x3a7696){const _0x275b80=_0x2aff22;_0x11d8aa[_0x275b80(0x6ea)](_0x23f9d6[_0x275b80(0x3e1)],_0x275b80(0x939)+_0x3a7696[_0x275b80(0x482)]+_0x275b80(0x54e)+_0x22f71a+'\x20-\x20'+this['label']);for(const _0x8609d6 of _0x3a7696){const _0x153b3c=await this[_0x275b80(0x851)][_0x275b80(0x9de)](_0x8609d6['id']);if(!(_0x153b3c&&this[_0x275b80(0x5a0)](_0x153b3c,_0x8609d6)>=0x0)){if(_0x8609d6['action']===_0x18a8c2[_0x275b80(0x9ce)]){const [_0x29a05f,_0x294f03]=_0x8609d6['id'][_0x275b80(0x99b)]('::'),_0x572ed6=this[_0x275b80(0x7c1)](_0x29a05f);await _0x572ed6[_0x275b80(0xa6b)](_0x294f03);}else this[_0x275b80(0xba6)][_0x275b80(0x639)](_0x8609d6['id']);}}if(_0x11d8aa[_0x275b80(0x6ea)](_0x23f9d6[_0x275b80(0x3e1)],_0x275b80(0x1d1)+this[_0x275b80(0xba6)]['length']+'\x20new\x20transactions',this[_0x275b80(0x4ea)]),this['transactionsToSync'][_0x275b80(0x482)]>0x0){const _0x1c18c4={'sourceId':this[_0x275b80(0x20e)][_0x275b80(0x781)](),'destinationIds':[_0x22f71a],'messageType':_0x3048e8['Content'],'propagate':!0x0,'content':{'type':_0x4f0180[_0x275b80(0x1c2)],'label':this['label'],'transactionIds':this[_0x275b80(0xba6)]}};this[_0x275b80(0x9ab)][_0x275b80(0x554)](_0x1c18c4),this[_0x275b80(0x7ef)][_0x275b80(0x9cd)](_0x1c18c4);}}[_0x2aff22(0x8a2)](){const _0xb8f945=_0x2aff22;this[_0xb8f945(0x6c9)]();}[_0x2aff22(0x708)](){const _0x3309fe=_0x2aff22;return _0x182c91['ContentType'][_0x3309fe(0x3e1)];}[_0x2aff22(0xb97)](){const _0x55ecbb=_0x2aff22;this['db'][_0x55ecbb(0x566)](),this[_0x55ecbb(0x592)]?.(),clearTimeout(this[_0x55ecbb(0x28b)]),delete this[_0x55ecbb(0x28b)],super[_0x55ecbb(0xb97)]();}['close'](){const _0x3e8b17=_0x2aff22;this[_0x3e8b17(0x68e)](),this[_0x3e8b17(0x7ef)]['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x3e8b17(0x41a)],'content':{'type':_0x4f0180[_0x3e8b17(0x563)],'label':this[_0x3e8b17(0x4ea)]}});}['getTable'](_0x16764a){const _0x554fc7=_0x2aff22,_0x5f232f=this[_0x554fc7(0xa43)][_0x554fc7(0x9de)](_0x16764a);if(_0x5f232f)return _0x5f232f;try{if(!this['db'][_0x554fc7(0x56a)](_0x16764a))throw new _0x447098(_0x35722f[_0x554fc7(0x850)],'Table\x20not\x20found');const _0x221ab5=new _0x2fdd71(this['db'][_0x554fc7(0x5b5)](_0x16764a),_0x16764a,this['tableObserver']);return this[_0x554fc7(0xa43)][_0x554fc7(0x25c)](_0x16764a,_0x221ab5),{'get':_0x221ab5['get']['bind'](_0x221ab5),'set':_0x221ab5['set'][_0x554fc7(0xa38)](_0x221ab5),'add':_0x221ab5['add']['bind'](_0x221ab5),'delete':_0x221ab5[_0x554fc7(0xa6b)]['bind'](_0x221ab5),'clear':_0x221ab5[_0x554fc7(0x56c)][_0x554fc7(0xa38)](_0x221ab5),'list':_0x221ab5[_0x554fc7(0x5c1)][_0x554fc7(0xa38)](_0x221ab5),'count':_0x221ab5[_0x554fc7(0xa46)][_0x554fc7(0xa38)](_0x221ab5),'subscribe':_0x221ab5[_0x554fc7(0x4c8)][_0x554fc7(0xa38)](_0x221ab5),'unsubscribe':_0x221ab5[_0x554fc7(0x815)][_0x554fc7(0xa38)](_0x221ab5)};}catch(_0x481eff){if(_0x481eff instanceof _0x447098)throw _0x481eff;throw new _0x447098(_0x35722f['KeyValueDatabaseNotOpen'],_0x554fc7(0x6be));}}[_0x2aff22(0x4c8)](_0xa8c45d){const _0x2254c3=_0x2aff22;this['listenerUnsubscriber']=this['eventListener'][_0x2254c3(0x4c8)](_0xa8c45d),this['isPromiseResolved'](this[_0x2254c3(0x533)])[_0x2254c3(0xa4e)](_0x5d57c0=>{const _0x5cd0a3=_0x2254c3;_0x5d57c0&&this['eventListener']['publish']({'event':_0x182c91['DatabaseEvent'][_0x5cd0a3(0xb96)]});});}[_0x2aff22(0x815)](){const _0x588ca9=_0x2aff22;this[_0x588ca9(0x367)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x2aff22(0x3f1)](){const _0x243200=_0x2aff22;_0x53e411(_0x23f9d6[_0x243200(0x3e1)],'Database\x20Opened');const _0x536e2d=[_0x186bee,_0x20b3c0],_0x4bbbcb=[];try{await this['db']['open']();const _0x16da79=this['db'][_0x243200(0x5b5)](_0x20b3c0),_0x15353f=await _0x16da79['list'](),{id:_0x8731db,layout:_0x4ee23d}=_0x15353f[0x0]??{};if(_0x4ee23d){for(const _0xe34886 in _0x4ee23d)_0x536e2d['includes'](_0xe34886)||this['db']['hasTable'](_0xe34886)||_0x4bbbcb[_0x243200(0x639)](_0xe34886);await _0x16da79[_0x243200(0x25c)](_0x8731db,{'layout':this['layout']});}else await _0x16da79[_0x243200(0x62d)]({'layout':this[_0x243200(0x5e9)]});}catch(_0x1e71dd){throw new _0x447098(_0x35722f[_0x243200(0x395)],_0x1e71dd[_0x243200(0x83d)]||_0x243200(0x4c2));}this['instantiateTransactionTable'](),await this['buildInitialMMR'](),this[_0x243200(0x678)](),this['setOnTableWriteHandler'](),_0x4bbbcb[_0x243200(0x663)](_0x4c023b=>this[_0x243200(0x5b1)](_0x4c023b));}async[_0x2aff22(0x1e0)](_0x4beacb,_0x4e407a=()=>{},_0x30f991=!0x1){const _0xfcb201=_0x2aff22;if(!_0x4beacb)return setTimeout(()=>{const _0x1cafb5=a0_0x314b;this[_0x1cafb5(0x68e)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0xfcb201(0x906)]=!0x1,this[_0xfcb201(0x624)]=_0x4e407a,this[_0xfcb201(0x881)]=setTimeout(_0x4e407a,0x7d0),!this[_0xfcb201(0x7ef)])throw new _0x1a8c20(_0x1a8c20[_0xfcb201(0x92d)][_0xfcb201(0xbad)]);const _0xdaadd7=await this[_0xfcb201(0x66e)][_0xfcb201(0xb90)](),_0x49c1e9={'sourceId':this[_0xfcb201(0x20e)][_0xfcb201(0x781)](),'messageType':_0x3048e8['Content'],'propagate':_0x30f991,'content':{'type':_0x4f0180['KeyValueDatabaseSyncRequired'],'label':this['label'],'mmrRoot':_0xdaadd7}};return this['loggingCycle'][_0xfcb201(0x554)](_0x49c1e9),this[_0xfcb201(0x7ef)][_0xfcb201(0x9cd)](_0x49c1e9),this[_0xfcb201(0x533)];}async[_0x2aff22(0x369)](_0x1d0129,_0x10e84f){const _0xf4d9e6=_0x2aff22;if(_0x11d8aa['log'](_0x23f9d6[_0xf4d9e6(0x3e1)],_0xf4d9e6(0x7db)+_0x10e84f[_0xf4d9e6(0x482)],this[_0xf4d9e6(0x4ea)]),!this[_0xf4d9e6(0x851)])throw new _0x1a8c20(_0x1a8c20['codes'][_0xf4d9e6(0x8d4)]);for(const _0xbb0950 of _0x10e84f){const _0x5ccf68=await this[_0xf4d9e6(0x851)]['get'](_0xbb0950);if(!_0x5ccf68)continue;const [_0x4c4764,_0x25e678]=_0xbb0950[_0xf4d9e6(0x99b)]('::'),_0x4ebd5b=this[_0xf4d9e6(0x7c1)](_0x4c4764),_0x13675d=await _0x4ebd5b[_0xf4d9e6(0x9de)](_0x25e678);_0x13675d?(_0x5ccf68[_0xf4d9e6(0x435)]=_0x13675d,this[_0xf4d9e6(0xb98)](_0x5ccf68,[_0x1d0129])):_0x11d8aa[_0xf4d9e6(0x25e)](_0xf4d9e6(0x205),{'nodeId':this[_0xf4d9e6(0x20e)][_0xf4d9e6(0x781)](),'nodeType':this[_0xf4d9e6(0x20e)][_0xf4d9e6(0x751)],'remoteId':_0x1d0129,'data':{'tableKeys':Object['keys'](this['tables']),'transactionId':_0xbb0950,'transactions':this[_0xf4d9e6(0xba6)],'tableName':_0x4c4764,'key':_0x25e678}});}}async[_0x2aff22(0x7e3)](_0x13a98c){const _0x1a66b8=_0x2aff22;if(!this[_0x1a66b8(0x851)])throw new _0x1a8c20(_0x1a8c20[_0x1a66b8(0x92d)][_0x1a66b8(0x8d4)]);const _0x634e=await this[_0x1a66b8(0x66e)][_0x1a66b8(0xae6)](_0x13a98c),_0x2bd244=this['transactionHashMap']['get'](_0x634e);if(_0x2bd244&&this['compareTransactions'](_0x13a98c,_0x2bd244)<=0x0)return void _0x11d8aa[_0x1a66b8(0x6ea)](_0x23f9d6[_0x1a66b8(0x3e1)],_0x1a66b8(0xb78),_0x13a98c);const _0x49b75b={..._0x13a98c};return delete _0x49b75b[_0x1a66b8(0x435)],this['debounceRebuildMMRWithTransaction'](_0x49b75b),await this[_0x1a66b8(0x851)]['set'](_0x13a98c['id'],_0x49b75b),_0x13a98c;}[_0x2aff22(0x5a0)](_0x384172,_0x5558ad){const _0x1d143e=_0x2aff22;return _0x384172[_0x1d143e(0x3ad)]!==_0x5558ad['timestamp']?_0x384172['timestamp']-_0x5558ad[_0x1d143e(0x3ad)]:_0x384172[_0x1d143e(0xbdf)]-_0x5558ad[_0x1d143e(0xbdf)];}async['getTransactionFromTableWriteEvent'](_0x27e903){const _0x423aa7=_0x2aff22;if(!this['transactionTable'])throw new _0x1a8c20(_0x1a8c20[_0x423aa7(0x92d)][_0x423aa7(0x8d4)]);const _0x5394c6=_0x27e903[_0x423aa7(0x2ed)]+'::'+_0x27e903[_0x423aa7(0x3c2)],_0x5c2919=await _0x4d81d6[_0x423aa7(0xbae)](),_0x355cf4={'id':_0x5394c6,'priority':Math[_0x423aa7(0x42a)](),'timestamp':_0x5c2919,'action':_0x27e903[_0x423aa7(0x616)]};if(await this[_0x423aa7(0x7e3)](_0x355cf4))return _0x355cf4;}async[_0x2aff22(0x5b1)](_0xda730c){const _0x47c21d=_0x2aff22;if(!this[_0x47c21d(0x851)])throw new _0x1a8c20(_0x1a8c20[_0x47c21d(0x92d)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x4d8b09=_0x5a7bf0[_0x47c21d(0x787)]('id')[_0x47c21d(0x5b4)](_0x47c21d(0x542),[_0xda730c+'::',_0xda730c+'::￿']),_0x456d0c=await this[_0x47c21d(0x851)][_0x47c21d(0x5c1)](_0x4d8b09[_0x47c21d(0x3be)]());for(const _0x1c00e6 of _0x456d0c)await this[_0x47c21d(0x851)][_0x47c21d(0xa6b)](_0x1c00e6['id']);}[_0x2aff22(0x678)](){const _0x24060b=_0x2aff22;this[_0x24060b(0x5f0)](async(_0x3341c3,_0x312cb4)=>{const _0x1af0c6=_0x24060b;if(_0x312cb4 instanceof File)return;if(this['loggingCycle']['logDataReceived'](_0x312cb4),!await this[_0x1af0c6(0x7e3)](_0x312cb4))return void this['checkSyncComplete'](_0x3341c3,_0x312cb4);if(!_0x312cb4[_0x1af0c6(0x435)])throw new _0x1a8c20(_0x1a8c20[_0x1af0c6(0x92d)][_0x1af0c6(0x40d)]);const [_0x141176,_0x1a8c78]=_0x312cb4['id'][_0x1af0c6(0x99b)]('::'),_0x2d2185=this[_0x1af0c6(0x7c1)](_0x141176);if(!_0x2d2185)throw new _0x1a8c20(_0x1a8c20[_0x1af0c6(0x92d)][_0x1af0c6(0x8b8)],{'table':_0x2d2185});let _0x392990=0x0;switch(_0x312cb4['action']){case _0x18a8c2[_0x1af0c6(0x849)]:case _0x18a8c2[_0x1af0c6(0x48d)]:{const _0x30d36c=_0x2d2185[_0x1af0c6(0x25c)](_0x1a8c78,_0x312cb4[_0x1af0c6(0x435)],!0x1);_0x392990=JSON[_0x1af0c6(0x438)](_0x312cb4['value'])[_0x1af0c6(0x482)],this['transactionsToSync'][_0x1af0c6(0x9bf)](_0x312cb4['id'])&&this[_0x1af0c6(0x5fc)][_0x1af0c6(0x639)](_0x30d36c);break;}case _0x18a8c2[_0x1af0c6(0x9ce)]:{const _0x39cb40=_0x2d2185[_0x1af0c6(0xa6b)](_0x1a8c78,!0x1);this[_0x1af0c6(0xba6)]['includes'](_0x312cb4['id'])&&this[_0x1af0c6(0x5fc)][_0x1af0c6(0x639)](_0x39cb40);break;}}_0x11d8aa[_0x1af0c6(0x3dc)](_0x1bf76d[_0x1af0c6(0x3e1)],{'type':'sync','label':this[_0x1af0c6(0x4ea)],'nodeId':this['localNode'][_0x1af0c6(0x781)](),'nodeType':this[_0x1af0c6(0x20e)]['type'],'clusterId':this[_0x1af0c6(0x3d0)],'tableName':_0x141176,'key':_0x1a8c78,'size':_0x392990}),this[_0x1af0c6(0x3af)](_0x3341c3,_0x312cb4);});}[_0x2aff22(0x8b1)](){const _0x31cf75=_0x2aff22;this[_0x31cf75(0x592)]=this['tableObserver'][_0x31cf75(0x4c8)](async _0xf9dd7d=>{const _0x239563=_0x31cf75;let _0x5c440a=0x0;switch(_0xf9dd7d[_0x239563(0x616)]){case _0x18a8c2[_0x239563(0x849)]:case _0x18a8c2['Update']:case _0x18a8c2[_0x239563(0x9ce)]:{const _0xa4d5c6=await this[_0x239563(0x997)](_0xf9dd7d);if(!_0xa4d5c6)return;_0xa4d5c6[_0x239563(0x435)]=_0xf9dd7d[_0x239563(0x435)],this[_0x239563(0xb98)](_0xa4d5c6),_0x5c440a=JSON[_0x239563(0x438)](_0xf9dd7d[_0x239563(0x435)])[_0x239563(0x482)],this[_0x239563(0x6ed)]+=0x1;break;}case _0x1b9f35['Get']:case _0x1b9f35[_0x239563(0x292)]:case _0x1b9f35['Count']:this[_0x239563(0xa81)]+=0x1;}_0x11d8aa[_0x239563(0x3dc)](_0x1bf76d[_0x239563(0x3e1)],{'type':_0xf9dd7d[_0x239563(0x616)],'label':this['label'],'nodeId':this[_0x239563(0x20e)]['getId'](),'nodeType':this[_0x239563(0x20e)]['type'],'clusterId':this[_0x239563(0x3d0)],'tableName':_0xf9dd7d[_0x239563(0x2ed)],'key':_0xf9dd7d[_0x239563(0x3c2)],'size':_0x5c440a}),this[_0x239563(0x6c9)]();});}[_0x2aff22(0x3fb)](){const _0xe147f5=_0x2aff22;this['db']&&(this['transactionTable']||(this[_0xe147f5(0x851)]=this['db'][_0xe147f5(0x5b5)](_0x186bee)));}[_0x2aff22(0x68e)](){const _0x3e3995=_0x2aff22;this[_0x3e3995(0x881)]&&(clearTimeout(this['syncTimeout']),delete this[_0x3e3995(0x881)]);}async[_0x2aff22(0x4ee)](){const _0xfc051=_0x2aff22;await this[_0xfc051(0x66e)][_0xfc051(0x98c)],this['logSyncMetrics'](),this['eventListener'][_0xfc051(0x9cd)]({'event':_0x182c91['DatabaseEvent'][_0xfc051(0xb96)]}),this[_0xfc051(0x593)]?.(!0x0),delete this[_0xfc051(0x593)],this[_0xfc051(0x6c9)](),_0x11d8aa[_0xfc051(0x6ea)](_0x23f9d6[_0xfc051(0x3e1)],_0xfc051(0x1c7),this[_0xfc051(0x4ea)]);}async['publishSyncCompletedAfterWrites'](_0x1153d2){const _0x3c6b22=_0x2aff22;await Promise[_0x3c6b22(0x298)](this[_0x3c6b22(0x5fc)]),_0x11d8aa[_0x3c6b22(0x6ea)](_0x23f9d6[_0x3c6b22(0x3e1)],_0x3c6b22(0x56b)+this[_0x3c6b22(0x5fc)]['length']+_0x3c6b22(0x3ca)+_0x1153d2+'\x20completed.',this['label']),await this[_0x3c6b22(0x66e)][_0x3c6b22(0x98c)],await this['confirmSynchronization'](_0x1153d2),await this[_0x3c6b22(0x4ee)]();}[_0x2aff22(0x3af)](_0x160017,_0x3be471){const _0x541a39=_0x2aff22;this[_0x541a39(0xba6)][_0x541a39(0x9bf)](_0x3be471['id'])&&(this[_0x541a39(0x68e)](),this['transactionsToSync']=this['transactionsToSync'][_0x541a39(0xae8)](_0x1f5614=>_0x1f5614!==_0x3be471['id']),0x0!==this[_0x541a39(0xba6)][_0x541a39(0x482)]?this[_0x541a39(0x881)]=setTimeout(this[_0x541a39(0x624)],0x7d0):this[_0x541a39(0x8db)](_0x160017));}[_0x2aff22(0x6c9)](){const _0x38eca5=_0x2aff22;this['debounceStats']&&clearTimeout(this[_0x38eca5(0x28b)]),this[_0x38eca5(0x28b)]=setTimeout(async()=>{const _0xd75fe1=_0x38eca5;delete this[_0xd75fe1(0x28b)];let _0x43293e=0x0;for(const _0x1c7c44 of this[_0xd75fe1(0xa43)][_0xd75fe1(0xa12)]())_0x43293e+=await _0x1c7c44['calculateSize']();this[_0xd75fe1(0x7ef)]['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8['Content'],'content':{'type':_0x4f0180['KeyValueDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0xd75fe1(0x75c)](),'storage':_0x43293e,'messagesSent':this['messagesSent'],'messagesReceived':this[_0xd75fe1(0x32c)],'bytesSent':this[_0xd75fe1(0x439)],'bytesReceived':this[_0xd75fe1(0x664)],'writes':this[_0xd75fe1(0x6ed)],'reads':this[_0xd75fe1(0xa81)],'prompts':0x0,'tokens':0x0}}}),_0x11d8aa[_0xd75fe1(0x386)](_0x1bf76d[_0xd75fe1(0x3e1)],_0xd75fe1(0xa10)+this[_0xd75fe1(0x3d0)]+_0xd75fe1(0xa10)+this[_0xd75fe1(0x4ea)],_0x43293e);},_0x59531c);}['addReservedTables'](_0x1686d2){const _0x280e76=_0x2aff22;if(_0x1686d2[_0x280e76(0xa43)][_0x186bee])throw new _0x447098(_0x35722f[_0x280e76(0xa7d)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x186bee+_0x280e76(0xa85));if(_0x1686d2[_0x280e76(0xa43)][_0x20b3c0])throw new _0x447098(_0x35722f['KeyValueDatabaseTableNameReserved'],_0x280e76(0x679)+_0x20b3c0+_0x280e76(0xa85));_0x1686d2[_0x280e76(0xa43)][_0x186bee]={'indexes':[]},_0x1686d2['tables'][_0x20b3c0]={'indexes':[]};}async[_0x2aff22(0x94e)](_0xca7a4){const _0x47388b=_0x2aff22;return Promise[_0x47388b(0xb0d)]([_0xca7a4,Promise[_0x47388b(0x7b5)](_0x47388b(0x4f6))])[_0x47388b(0xa4e)](_0x276411=>'not-resolved'!==_0x276411);}async[_0x2aff22(0xa03)](_0x4d9c85){const _0x159297=_0x2aff22;await this[_0x159297(0x4e5)]();const _0x3f7c42=await this['mmr']['getRoot'](),_0x254dfd={'sourceId':this[_0x159297(0x20e)][_0x159297(0x781)](),'destinationIds':[_0x4d9c85],'propagate':!0x0,'messageType':_0x3048e8[_0x159297(0x41a)],'content':{'type':_0x4f0180[_0x159297(0x869)],'label':this['label'],'mmrRoot':_0x3f7c42}};this[_0x159297(0x7ef)][_0x159297(0x9cd)](_0x254dfd);}async['buildInitialMMR'](){const _0x4c5fd9=_0x2aff22;if(!this[_0x4c5fd9(0x851)])throw new _0x1a8c20(_0x1a8c20[_0x4c5fd9(0x92d)][_0x4c5fd9(0x8d4)]);this['transactions']=await this['transactionTable'][_0x4c5fd9(0x5c1)](),this[_0x4c5fd9(0x852)][_0x4c5fd9(0x246)](this['compareTransactions']),this[_0x4c5fd9(0x66e)]=new _0x1efa89(),this[_0x4c5fd9(0x2b1)]=new Map();for(const _0x17c2f3 of this['transactions'])this[_0x4c5fd9(0x239)](_0x17c2f3,this[_0x4c5fd9(0x852)][_0x4c5fd9(0x482)]);this[_0x4c5fd9(0x7fb)]();}async[_0x2aff22(0x239)](_0x134668,_0x39583e){const _0x2291a7=_0x2aff22,_0x1a85a1={..._0x134668};delete _0x1a85a1[_0x2291a7(0x435)],await this[_0x2291a7(0x66e)]['appendTransaction'](_0x1a85a1,_0x39583e);const _0x56feb2=await this[_0x2291a7(0x66e)][_0x2291a7(0xae6)](_0x1a85a1);this[_0x2291a7(0x2b1)][_0x2291a7(0x25c)](_0x56feb2,_0x134668);}[_0x2aff22(0x9c2)](_0x45323a){return this['transactionHashMap']['get'](_0x45323a);}['collectTransactionsFromNode'](_0x105a9f,_0x1cf5b2){const _0x58cc55=_0x2aff22;if(0x0!==_0x105a9f[_0x58cc55(0xbf6)])_0x105a9f[_0x58cc55(0x51d)]&&this[_0x58cc55(0x511)](_0x105a9f[_0x58cc55(0x51d)],_0x1cf5b2),_0x105a9f[_0x58cc55(0x30e)]&&this[_0x58cc55(0x511)](_0x105a9f[_0x58cc55(0x30e)],_0x1cf5b2);else{const _0x30fb52=this[_0x58cc55(0x9c2)](_0x105a9f[_0x58cc55(0x221)]);_0x30fb52&&_0x1cf5b2['push'](_0x30fb52);}}async[_0x2aff22(0x903)](){const _0x2e7963=_0x2aff22;this[_0x2e7963(0x2d8)]&&(clearTimeout(this[_0x2e7963(0x2d8)]),delete this[_0x2e7963(0x2d8)],this[_0x2e7963(0xb27)][_0x2e7963(0x482)]>0x0&&(this[_0x2e7963(0x852)]['push'](...this['transactionsToAppend'][_0x2e7963(0x246)](this['compareTransactions'])),this[_0x2e7963(0xb27)]=[]));const _0x4c93e2=this[_0x2e7963(0x42e)]();this['mmr']=new _0x1efa89(),this[_0x2e7963(0x2b1)][_0x2e7963(0x56c)](),this[_0x2e7963(0x852)][_0x2e7963(0x246)](this[_0x2e7963(0x5a0)]);for(const _0x196d0d of this[_0x2e7963(0x852)])this[_0x2e7963(0x239)](_0x196d0d,this[_0x2e7963(0x852)]['length']);await this['mmr'][_0x2e7963(0x98c)],this['logMMRRebuild'](_0x4c93e2);}[_0x2aff22(0x42e)](){const _0x3fbef8=_0x2aff22;return this[_0x3fbef8(0x9ab)][_0x3fbef8(0xb48)][_0x3fbef8(0x89c)](async()=>{const _0x3bab0b=_0x3fbef8,_0x5d1adb=await this[_0x3bab0b(0x66e)][_0x3bab0b(0xb90)]();return{'startTime':Date['now'](),'initialRoot':_0x5d1adb};},Promise[_0x3fbef8(0x7b5)]({'startTime':0x0,'initialRoot':''}));}async[_0x2aff22(0x9dd)](_0x115cc5){const _0x339838=_0x2aff22;try{const {startTime:_0x4454bc,initialRoot:_0x21be0b}=await _0x115cc5,_0x568680=await this[_0x339838(0x66e)][_0x339838(0xb90)](),_0x423d2a=[_0x339838(0x23e)+(_0x21be0b!==_0x568680),'\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20'+_0x21be0b,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x568680,_0x339838(0x759)+this[_0x339838(0x66e)][_0x339838(0x375)](),_0x339838(0x451)+(Date[_0x339838(0x75c)]()-_0x4454bc)+_0x339838(0x3ce)][_0x339838(0x30c)]('\x20');this[_0x339838(0x9ab)][_0x339838(0xb48)]['log']('',()=>_0x423d2a);}catch(_0x3e03d7){console['error']('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x3e03d7);}}[_0x2aff22(0x426)](_0x4879d8){const _0x604877=_0x2aff22;this[_0x604877(0xb27)]['push'](_0x4879d8),this[_0x604877(0x2d8)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x604877(0x2d8)]),this[_0x604877(0x2d8)]=setTimeout(()=>{this['processTransactionsToComputeMMR']();},0x3e8);}async[_0x2aff22(0x4e5)](){const _0x2678cb=_0x2aff22;if(this[_0x2678cb(0x2d8)]&&(clearTimeout(this[_0x2678cb(0x2d8)]),delete this[_0x2678cb(0x2d8)]),0x0!==this[_0x2678cb(0xb27)][_0x2678cb(0x482)]){if(0x0===this['transactions'][_0x2678cb(0x482)])return this[_0x2678cb(0x852)]=this[_0x2678cb(0xb27)],this[_0x2678cb(0xb27)]=[],await this[_0x2678cb(0x903)]();if(this['transactionsToAppend'][_0x2678cb(0x246)](this[_0x2678cb(0x5a0)]),this[_0x2678cb(0x5a0)](this[_0x2678cb(0xb27)][0x0],this['transactions'][this[_0x2678cb(0x852)][_0x2678cb(0x482)]-0x1])>0x0){this[_0x2678cb(0x9ab)][_0x2678cb(0xb48)]['log'](_0x2678cb(0x9e1)+this['transactionsToAppend'][_0x2678cb(0x482)]+_0x2678cb(0xa59)+this[_0x2678cb(0x852)][_0x2678cb(0x482)]);for(const _0x24bafe of this['transactionsToAppend'])this[_0x2678cb(0x852)][_0x2678cb(0x639)](_0x24bafe),this[_0x2678cb(0x239)](_0x24bafe,this[_0x2678cb(0xb27)][_0x2678cb(0x482)]);return this[_0x2678cb(0xb27)]=[],void this[_0x2678cb(0x9ab)][_0x2678cb(0xb48)]['log'](_0x2678cb(0xb1b),async()=>_0x2678cb(0xa96)+await this[_0x2678cb(0x66e)][_0x2678cb(0xb90)]()+',\x20Total\x20Nodes:'+this['mmr']['getTotalNodes']());}this[_0x2678cb(0x9ab)][_0x2678cb(0xb48)]['log'](_0x2678cb(0xa74)+this[_0x2678cb(0xb27)][_0x2678cb(0x482)]+',\x20Transactions:\x20'+this[_0x2678cb(0x852)][_0x2678cb(0x482)]),this[_0x2678cb(0x852)][_0x2678cb(0x639)](...this[_0x2678cb(0xb27)]),this['transactionsToAppend']=[],this[_0x2678cb(0x903)]();}}async['logSyncMetrics'](){const _0xaec70=_0x2aff22;if(!_0x11d8aa[_0xaec70(0xbcb)](_0x23f9d6[_0xaec70(0x3e1)]))return;await this[_0xaec70(0x66e)][_0xaec70(0x98c)];const {dataSent:_0x409944,dataReceived:_0x1ee410}=this['loggingCycle']['getDataLogged']();_0x11d8aa[_0xaec70(0x6ea)](_0x23f9d6['KeyValueDatabase'],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this[_0xaec70(0x4ea)],_0xaec70(0x2f0)+_0x409944,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x1ee410,'\x0a\x20===\x20Current\x20MMR\x20Root',await this['mmr']['getRoot'](),_0xaec70(0xa41),this[_0xaec70(0x66e)][_0xaec70(0x375)]());}async['logInitialMMR'](){const _0x5b582a=_0x2aff22;if(!_0x11d8aa[_0x5b582a(0xbcb)](_0x23f9d6['KeyValueDatabase']))return;const _0x26020d=this['mmr']['getPeaks'](),_0xe6bf34=_0x26020d[_0x5b582a(0x8df)](_0x7d7e20=>_0x7d7e20[_0x5b582a(0xbf6)]),_0x304ade=await this[_0x5b582a(0x66e)]['getRoot']();_0x11d8aa['log'](_0x23f9d6[_0x5b582a(0x3e1)],_0x5b582a(0x9ae),this['transactions'][_0x5b582a(0x482)],_0x5b582a(0x852),this[_0x5b582a(0x66e)][_0x5b582a(0x375)](),_0x5b582a(0x8bf),_0x26020d[_0x5b582a(0x482)],_0x5b582a(0x857),_0xe6bf34,'root\x20hash:\x20',_0x304ade);}}const _0x17d22a=require('@crewdle/mist-connector-opfs'),_0x375b28=require('@crewdle/mist-connector-indexed-db'),_0x4fd906=require('@crewdle/mist-connector-webrtc-browser'),_0x36577f=0x10000000;var _0x37837a,_0x1afa62,_0x1ad51b,_0x5898c5,_0x44c035,_0x815418,_0x2506db,_0x3d3f25,_0x1f3264;!function(_0x45d22d){const _0x15625e=_0x2aff22;_0x45d22d[_0x15625e(0x98e)]=_0x15625e(0x98e),_0x45d22d[_0x15625e(0x800)]=_0x15625e(0x800),_0x45d22d[_0x15625e(0x46c)]='AudioVolume',_0x45d22d[_0x15625e(0x443)]=_0x15625e(0x443),_0x45d22d[_0x15625e(0x2c3)]=_0x15625e(0x2c3),_0x45d22d[_0x15625e(0x4dd)]=_0x15625e(0x4dd),_0x45d22d[_0x15625e(0x518)]='Recording',_0x45d22d['ScreenSharing']=_0x15625e(0x50e),_0x45d22d['WebGL']=_0x15625e(0x26b),_0x45d22d[_0x15625e(0x5bd)]='WebRTC';}(_0x37837a||(_0x37837a={}));class _0x1cae42{[_0x2aff22(0xb44)];['bufferedEvents'];[_0x2aff22(0x469)];constructor(_0x219c3d=new Map(),_0x865644=new Map(),_0x4a96e9=new EventTarget()){const _0x30c4de=_0x2aff22;this[_0x30c4de(0xb44)]=_0x219c3d,this[_0x30c4de(0x706)]=_0x865644,this[_0x30c4de(0x469)]=_0x4a96e9;}['emit']=(_0x96db59,_0x4a1381)=>this[_0x2aff22(0xb44)][_0x2aff22(0x938)](_0x96db59)?(_0x11d8aa[_0x2aff22(0x6ea)](_0x23f9d6[_0x2aff22(0xb2b)],_0x2aff22(0x484),{'event':_0x96db59,'data':_0x4a1381}),this['eventTarget'][_0x2aff22(0x701)](new CustomEvent(_0x96db59,{'detail':_0x4a1381})),!0x0):(this[_0x2aff22(0x698)](_0x96db59,_0x4a1381),!0x1);['on']=(_0x571995,_0x29c141)=>{const _0x4ca088=_0x2aff22,_0x1001f1=_0x4b965d=>{const _0x113c3b=a0_0x314b;_0x11d8aa['log'](_0x23f9d6[_0x113c3b(0xb2b)],_0x113c3b(0x634),_0x4b965d[_0x113c3b(0x751)],_0x4b965d[_0x113c3b(0x788)]),_0x29c141(_0x4b965d['detail']);};return this[_0x4ca088(0xb44)][_0x4ca088(0x25c)](_0x571995,_0x1001f1),this[_0x4ca088(0x469)][_0x4ca088(0x3ea)](_0x571995,_0x1001f1),_0x11d8aa[_0x4ca088(0x6ea)](_0x23f9d6[_0x4ca088(0xa68)],_0x4ca088(0x974),_0x571995,_0x29c141),this[_0x4ca088(0xad2)](_0x571995),this;};[_0x2aff22(0x1e2)](_0x5d2b81){const _0x2b9dd5=_0x2aff22;if(!_0x5d2b81)return this[_0x2b9dd5(0xb44)]['forEach']((_0xca43b2,_0x467700)=>{const _0x4923e7=_0x2b9dd5;this[_0x4923e7(0x469)][_0x4923e7(0x41d)](_0x467700,_0xca43b2);}),void this[_0x2b9dd5(0xb44)]['clear']();_0x2b9dd5(0xb85)==typeof _0x5d2b81&&this[_0x2b9dd5(0x29b)](_0x5d2b81),Array[_0x2b9dd5(0x719)](_0x5d2b81)&&_0x5d2b81[_0x2b9dd5(0x663)](_0xdcee00=>{this['removeListener'](_0xdcee00);});}[_0x2aff22(0x29b)](_0x3d6e13){const _0x1a72fe=_0x2aff22,_0x5e7363=this[_0x1a72fe(0xb44)]['get'](_0x3d6e13);_0x5e7363&&(this[_0x1a72fe(0x469)][_0x1a72fe(0x41d)](_0x3d6e13,_0x5e7363),this[_0x1a72fe(0xb44)][_0x1a72fe(0xa6b)](_0x3d6e13));}[_0x2aff22(0x698)](_0x56a2af,_0x50d984){const _0x43ee5e=_0x2aff22;_0x11d8aa[_0x43ee5e(0x6ea)](_0x23f9d6['Events'],_0x43ee5e(0x3da),{'event':_0x56a2af,'data':_0x50d984});const _0x15e613=this['bufferedEvents']['get'](_0x56a2af)||[];this[_0x43ee5e(0x706)][_0x43ee5e(0x25c)](_0x56a2af,[..._0x15e613,_0x50d984]);}[_0x2aff22(0xad2)](_0x41e063){const _0xd91da1=_0x2aff22,_0x514331=this[_0xd91da1(0x706)][_0xd91da1(0x9de)](_0x41e063);_0x514331&&(_0x514331[_0xd91da1(0x663)](_0x509244=>{const _0x2bc902=_0xd91da1;_0x11d8aa[_0x2bc902(0x6ea)](_0x23f9d6[_0x2bc902(0xb2b)],_0x2bc902(0x96f),{'event':_0x41e063,'data':_0x509244}),this[_0x2bc902(0x469)][_0x2bc902(0x701)](new CustomEvent(_0x41e063,{'detail':_0x509244}));}),this[_0xd91da1(0x706)][_0xd91da1(0xa6b)](_0x41e063));}}class _0x3bacfb extends Error{constructor(_0x4dfa2e){const _0x4461ab=_0x2aff22;super(_0x4461ab(0x430)+_0x4dfa2e);}}!function(_0x49f1db){const _0x2e264f=_0x2aff22;_0x49f1db[_0x49f1db[_0x2e264f(0x562)]=0x0]=_0x2e264f(0x562),_0x49f1db[_0x49f1db[_0x2e264f(0x9ba)]=0x1]=_0x2e264f(0x9ba);}(_0x1afa62||(_0x1afa62={})),function(_0x3eff0f){const _0x13ba6f=_0x2aff22;_0x3eff0f[_0x3eff0f['Offer']=0x0]=_0x13ba6f(0x88b),_0x3eff0f[_0x3eff0f['Answer']=0x1]='Answer',_0x3eff0f[_0x3eff0f[_0x13ba6f(0x514)]=0x2]=_0x13ba6f(0x514),_0x3eff0f[_0x3eff0f[_0x13ba6f(0x626)]=0x3]=_0x13ba6f(0x626),_0x3eff0f[_0x3eff0f[_0x13ba6f(0x940)]=0x4]='NeedRestart',_0x3eff0f[_0x3eff0f[_0x13ba6f(0x837)]=0x5]=_0x13ba6f(0x837),_0x3eff0f[_0x3eff0f['Disconnect']=0x6]='Disconnect',_0x3eff0f[_0x3eff0f[_0x13ba6f(0x1d7)]=0x7]=_0x13ba6f(0x1d7),_0x3eff0f[_0x3eff0f[_0x13ba6f(0xace)]=0x8]=_0x13ba6f(0xace);}(_0x1ad51b||(_0x1ad51b={})),function(_0x189282){const _0x366568=_0x2aff22;_0x189282[_0x189282[_0x366568(0x867)]=0x0]=_0x366568(0x867),_0x189282[_0x189282[_0x366568(0xbe5)]=0x1]=_0x366568(0xbe5);}(_0x5898c5||(_0x5898c5={})),function(_0x1ffc64){const _0x4f45e5=_0x2aff22;_0x1ffc64[_0x4f45e5(0x4dd)]='media-stream';}(_0x44c035||(_0x44c035={})),function(_0x298d95){const _0x271d30=_0x2aff22;_0x298d95[_0x298d95['NodeJoin']=0x0]=_0x271d30(0xb73),_0x298d95[_0x298d95[_0x271d30(0x865)]=0x1]=_0x271d30(0x865),_0x298d95[_0x298d95[_0x271d30(0xad6)]=0x2]=_0x271d30(0xad6),_0x298d95[_0x298d95[_0x271d30(0x58a)]=0x3]=_0x271d30(0x58a);}(_0x815418||(_0x815418={})),function(_0x1342b0){const _0x4eacb3=_0x2aff22;_0x1342b0[_0x1342b0[_0x4eacb3(0x739)]=0x0]='Remediation',_0x1342b0[_0x1342b0[_0x4eacb3(0x917)]=0x1]=_0x4eacb3(0x917);}(_0x2506db||(_0x2506db={})),function(_0x1aefa2){const _0x1a5129=_0x2aff22;_0x1aefa2['Upgrade']='upgrade',_0x1aefa2[_0x1a5129(0x8c8)]=_0x1a5129(0x46b);}(_0x3d3f25||(_0x3d3f25={})),function(_0x4c1747){const _0x4c26d0=_0x2aff22;_0x4c1747[_0x4c26d0(0x3b7)]=_0x4c26d0(0x52f),_0x4c1747[_0x4c26d0(0x6ab)]=_0x4c26d0(0x77e);}(_0x1f3264||(_0x1f3264={}));const _0x2e20e5=require('aws-amplify'),_0x4e236d=require('aws-amplify/utils'),_0x2ceb51=require('@aws-amplify/api'),_0x35c2ef=require('@aws-amplify/core');class _0x186573{['clusterId'];[_0x2aff22(0x20e)];[_0x2aff22(0x3e4)];constructor(_0x68ca4b,_0x554217,_0x56b40f){const _0x3bef2d=_0x2aff22;this[_0x3bef2d(0x3d0)]=_0x68ca4b,this[_0x3bef2d(0x20e)]=_0x554217,this['remoteId']=_0x56b40f;}[_0x2aff22(0x5ee)](){const _0x13bf54=_0x2aff22;return this['localNode'][_0x13bf54(0x781)]();}['getRemoteId'](){const _0x5829b3=_0x2aff22;return this[_0x5829b3(0x3e4)];}}var _0x20aecb,_0x2d1fd6,_0x42cadc;function _0xd43764(_0x32b607,_0x3caa32){const _0x5bd99b=_0x2aff22;return _0x32b607[_0x5bd99b(0xb28)]===_0x3caa32;}function _0x4f2284(_0x39af6a,_0x14bc7c){const _0x486125=_0x2aff22;return _0x39af6a[_0x486125(0x6d2)]?.[_0x486125(0x9bf)](_0x14bc7c)??function(_0x15c3af){const _0x4569b5=_0x486125;return void 0x0===_0x15c3af[_0x4569b5(0x6d2)];}(_0x39af6a);}function _0x45377e(_0x56f8b3,{contentType:_0x4f1709,label:_0xbcaf84,remoteId:_0x3df5de}){return _0x56f8b3+'-'+_0x4f1709+'-'+_0xbcaf84+'-'+_0x3df5de;}function _0x12d5fc(_0xa0b66,_0xbfe99f,_0x3bafdf){return''+_0xa0b66+_0xbfe99f+_0x3bafdf;}function _0x1542e2(_0x339c7c){const _0x50349e=_0x2aff22;return _0x339c7c===_0x2d1fd6[_0x50349e(0x44c)]?'IncomingSubscription':'OutgoingSubscription';}function _0x2dec31(_0x26586e,_0x4196ae){const _0x44685d=_0x2aff22;return{'label':_0x26586e[_0x44685d(0x54d)](),'contentType':_0x26586e['getContentType'](),'remoteId':_0x4196ae['getRemoteId'](),'supportsContentType':_0x4196ae[_0x44685d(0x774)]()[_0x44685d(0x9bf)](_0x26586e[_0x44685d(0x708)]())};}!function(_0x34eb28){const _0x161224=_0x2aff22;_0x34eb28[_0x34eb28['Waiting']=0x0]=_0x161224(0x97e),_0x34eb28[_0x34eb28[_0x161224(0x414)]=0x1]='Accepted',_0x34eb28[_0x34eb28[_0x161224(0x376)]=0x2]=_0x161224(0x376);}(_0x20aecb||(_0x20aecb={})),function(_0x583c02){const _0x4a3a3b=_0x2aff22;_0x583c02[_0x4a3a3b(0x44c)]='in',_0x583c02[_0x4a3a3b(0x640)]=_0x4a3a3b(0xac8);}(_0x2d1fd6||(_0x2d1fd6={}));class _0x1c0914{[_0x2aff22(0x690)];['retryCallback'];constructor(_0x135d6b,_0x4fd94a){const _0x257da2=_0x2aff22;this[_0x257da2(0x690)]=_0x135d6b,this['retryCallback']=_0x4fd94a;}[_0x2aff22(0xb9b)](_0x3af8de){const _0x3f62c1=_0x2aff22;this[_0x3f62c1(0x690)](_0x3af8de);}async[_0x2aff22(0x4ad)](){const _0x581549=_0x2aff22;await this[_0x581549(0x2b9)]();}}class _0x1b1fe4{[_0x2aff22(0x690)];[_0x2aff22(0x2b9)];constructor(_0x305f37,_0x5ebc80){const _0x254ba2=_0x2aff22;this[_0x254ba2(0x690)]=_0x305f37,this[_0x254ba2(0x2b9)]=_0x5ebc80;}async[_0x2aff22(0xb9b)](_0x1ea55d){const _0x25d56c=_0x2aff22;await this[_0x25d56c(0x690)](_0x1ea55d);}async[_0x2aff22(0x4ad)](){const _0x36cce0=_0x2aff22;await this[_0x36cce0(0x2b9)]();}}function _0x5888f7(_0x567fbc=()=>{},_0x34c814=()=>!0x1,_0x57e671=()=>{}){let _0x448532,_0x57d498,_0x37875e=0x0;return{get 'size'(){return _0x37875e;},get 'head'(){return _0x448532;},get 'tail'(){return _0x57d498;},set 'head'(_0x1ee8ce){_0x448532=_0x1ee8ce;},set 'tail'(_0x341c3b){_0x57d498=_0x341c3b;},'push'(_0x1aa3f7,_0x1de414=!0x0){const _0x15e15a=a0_0x314b,_0x5acc21={'value':_0x1aa3f7};_0x1de414&&_0x34c814(_0x5acc21)?_0x567fbc():(_0x57d498&&(_0x5acc21[_0x15e15a(0xbb1)]=_0x57d498,_0x57d498[_0x15e15a(0x8e5)]=_0x5acc21),_0x57d498=_0x5acc21,_0x448532||(_0x448532=_0x5acc21),_0x37875e+=0x1,_0x1de414&&_0x567fbc());},'pop'(){const _0x3b139c=a0_0x314b;if(!_0x57d498)return;const _0x265662=_0x57d498[_0x3b139c(0x435)];return _0x57d498=_0x57d498[_0x3b139c(0xbb1)],_0x57d498&&delete _0x57d498['next'],_0x57d498||(_0x448532=void 0x0),_0x37875e-=0x1,_0x265662;},'unshift'(_0x3516ad,_0x5c082d=!0x0){const _0x28a5a8=a0_0x314b,_0xfeefd0={'value':_0x3516ad};_0x5c082d&&_0x34c814(_0xfeefd0)?_0x567fbc():(_0x448532&&(_0x448532[_0x28a5a8(0xbb1)]=_0xfeefd0,_0xfeefd0[_0x28a5a8(0x8e5)]=_0x448532),_0x448532=_0xfeefd0,_0x57d498||(_0x57d498=_0xfeefd0),_0x37875e+=0x1,_0x5c082d&&_0x567fbc());},'shift'(){const _0xc64855=a0_0x314b;if(!_0x448532)return;const _0x7539bc=_0x448532[_0xc64855(0x435)];return _0x448532=_0x448532['next'],_0x448532&&delete _0x448532['previous'],_0x448532||(_0x57d498=void 0x0),_0x37875e-=0x1,_0x7539bc;},'clear'(){_0x57e671(),_0x448532=void 0x0,_0x57d498=void 0x0,_0x37875e=0x0;}};}function _0x16fe02(_0x371770,_0x45c31a=!0x1,_0x3ec1fb=()=>{},_0x22b303=()=>!0x1,_0x4ca958=()=>{}){let _0x8fcfd4=!0x1;const _0x23b4e8=_0x5888f7(async function(){const _0x381aa1=a0_0x314b;if(!_0x8fcfd4){for(_0x8fcfd4=!0x0;_0x23b4e8[_0x381aa1(0xb1d)];){const _0x109c44=_0x23b4e8[_0x381aa1(0x631)]();if(_0x109c44)try{_0x371770 instanceof _0x1c0914&&_0x371770[_0x381aa1(0xb9b)](_0x109c44),_0x371770 instanceof _0x1b1fe4&&await _0x371770['call'](_0x109c44),_0x3ec1fb(_0x109c44);}catch(_0x2514ec){_0x45c31a?_0x23b4e8[_0x381aa1(0x639)](_0x109c44,!0x1):_0x23b4e8[_0x381aa1(0x76f)](_0x109c44,!0x1),await _0x371770[_0x381aa1(0x4ad)]();}}_0x8fcfd4=!0x1;}},_0x22b303,_0x4ca958);return _0x23b4e8;}class _0x459bca extends _0x186573{[_0x2aff22(0x97c)];[_0x2aff22(0x870)];[_0x2aff22(0x327)]=_0x2ceb51['ConnectionState'][_0x2aff22(0x537)];['connectionStateListener']=_0x4b74c2();['messageListeners']=_0x29c93b();['subscription'];[_0x2aff22(0xbb0)];[_0x2aff22(0x2fe)]=_0x16fe02(new _0x1b1fe4(this[_0x2aff22(0x8a8)][_0x2aff22(0xa38)](this),this[_0x2aff22(0x3ec)][_0x2aff22(0xa38)](this)));[_0x2aff22(0x37f)];constructor(_0x130496,_0x342a52,_0x29c524,_0x249076,_0x539943){super(_0x342a52,_0x29c524,_0x249076),this['vendorId']=_0x130496,this['authService']=_0x539943;}async['connect'](){const _0x2e74ba=_0x2aff22;try{const _0x53e8bb={'getTokens':async()=>{const _0xe47b14=a0_0x314b,_0x491e80=await this[_0xe47b14(0x870)][_0xe47b14(0xa6d)]();return{'accessToken':(0x0,_0x35c2ef['decodeJWT'])(_0x491e80),'idToken':(0x0,_0x35c2ef[_0xe47b14(0x773)])(_0x491e80)};}};_0x2e20e5[_0x2e74ba(0x6d5)][_0x2e74ba(0xb40)]({'API':{'GraphQL':{'endpoint':_0x4d302b[_0x2e74ba(0x450)][_0x2e74ba(0xa1b)],'region':_0x4d302b['aws'][_0x2e74ba(0x304)],'defaultAuthMode':_0x2e74ba(0x74c)}}},{'Auth':{'tokenProvider':_0x53e8bb}});const _0x4b505c=(0x0,_0x2ceb51[_0x2e74ba(0x5fd)])();this[_0x2e74ba(0x37f)]=_0x4b505c,await this[_0x2e74ba(0x4c8)](),this['listenUnsubscriber']=_0x4e236d['Hub'][_0x2e74ba(0x8fa)]('api',async({payload:_0xa4535b})=>{const _0x41d395=_0x2e74ba;if(_0xa4535b[_0x41d395(0x3c4)]===_0x2ceb51[_0x41d395(0x746)]){const _0x18b00a=_0xa4535b[_0x41d395(0x8e6)];this[_0x41d395(0x327)]=_0x18b00a['connectionState'],this[_0x41d395(0xb3f)][_0x41d395(0x9cd)](_0x18b00a[_0x41d395(0x327)]),this[_0x41d395(0x327)]===_0x2ceb51[_0x41d395(0x299)]['Disconnected']?(_0x11d8aa[_0x41d395(0x730)]('appsync-disconnect',{'clusterId':this[_0x41d395(0x3d0)],'nodeId':this[_0x41d395(0x5ee)](),'nodeType':this[_0x41d395(0x20e)]['type']}),this[_0x41d395(0x566)](),this[_0x41d395(0x835)]()):this[_0x41d395(0x327)]===_0x2ceb51['ConnectionState'][_0x41d395(0x346)]?_0x11d8aa[_0x41d395(0x25e)](_0x41d395(0x6ee),{'clusterId':this[_0x41d395(0x3d0)],'nodeId':this['getLocalId'](),'nodeType':this['localNode']['type']}):_0x11d8aa[_0x41d395(0x25e)](_0x41d395(0x474),{'clusterId':this['clusterId'],'nodeId':this[_0x41d395(0x5ee)](),'nodeType':this[_0x41d395(0x20e)][_0x41d395(0x751)],'data':{'state':_0x18b00a[_0x41d395(0x327)]}});}});}catch(_0x585699){_0x11d8aa[_0x2e74ba(0x730)](_0x2e74ba(0x25a),{'clusterId':this['clusterId'],'nodeId':this[_0x2e74ba(0x5ee)](),'nodeType':this['localNode'][_0x2e74ba(0x751)]});}}[_0x2aff22(0x566)](){const _0x5ba944=_0x2aff22;_0x11d8aa['warning'](_0x5ba944(0x210),{'clusterId':this['clusterId'],'nodeId':this[_0x5ba944(0x5ee)](),'nodeType':this[_0x5ba944(0x20e)][_0x5ba944(0x751)]}),this[_0x5ba944(0x2fe)]['clear'](),this['listenUnsubscriber']?.(),this['subscription']?.[_0x5ba944(0x815)](),delete this[_0x5ba944(0x5cc)];}[_0x2aff22(0x860)](){const _0x2e437c=_0x2aff22;return this[_0x2e437c(0x327)]===_0x2ceb51['ConnectionState'][_0x2e437c(0x346)];}['send'](_0x1fc907){const _0x24a1dd=_0x2aff22;this['retryQueue'][_0x24a1dd(0x639)](_0x1fc907);}[_0x2aff22(0x5f0)](_0x3150ce){const _0xec80ef=_0x2aff22;return this[_0xec80ef(0x9b6)][_0xec80ef(0x4c8)](_0x3150ce);}[_0x2aff22(0x774)](){const _0x2bb82b=_0x2aff22;return[_0x182c91[_0x2bb82b(0x1c0)][_0x2bb82b(0x517)]];}async[_0x2aff22(0x3ec)](){if(!this['isConnected']())return new Promise(_0x15a6c4=>{const _0x40d8dc=a0_0x314b,_0x5a89c8=this[_0x40d8dc(0xb3f)][_0x40d8dc(0x4c8)](_0x12eb2b=>{_0x12eb2b===_0x2ceb51['ConnectionState']['Connected']&&(_0x5a89c8(),_0x15a6c4());});});}async[_0x2aff22(0x8a8)](_0x574ab4){const _0x5ec84f=_0x2aff22;if(this['connectionState']!==_0x2ceb51[_0x5ec84f(0x299)][_0x5ec84f(0x346)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x574ab4['destinationIds']&&0x1===_0x574ab4['destinationIds']['length']?await this[_0x5ec84f(0x9cd)](_0x574ab4[_0x5ec84f(0x6d2)][0x0],JSON[_0x5ec84f(0x438)](_0x574ab4)):_0x11d8aa[_0x5ec84f(0x730)](_0x5ec84f(0x4e7),{'clusterId':this[_0x5ec84f(0x3d0)],'nodeId':this[_0x5ec84f(0x5ee)](),'nodeType':this[_0x5ec84f(0x20e)][_0x5ec84f(0x751)]});}async[_0x2aff22(0x9cd)](_0xcdcc50,_0x5f54eb){const _0x452cf2=_0x2aff22;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x11d8aa['log'](_0x23f9d6[_0x452cf2(0xa5f)],_0x452cf2(0x6bb),this[_0x452cf2(0x5ee)](),_0x5f54eb),await this['client'][_0x452cf2(0xa5b)]({'query':_0x452cf2(0x365),'variables':{'name':await this['getHash'](_0xcdcc50),'data':_0x5f54eb}});}async[_0x2aff22(0x4c8)](){const _0x55ddf5=_0x2aff22;if(this[_0x55ddf5(0x5cc)])return;if(!this[_0x55ddf5(0x37f)])throw new Error(_0x55ddf5(0xaa5));_0x11d8aa['log'](_0x23f9d6[_0x55ddf5(0xa5f)],_0x55ddf5(0x582),this[_0x55ddf5(0x5ee)]());const _0x204673=await this['client'][_0x55ddf5(0xa5b)]({'query':_0x55ddf5(0xaae),'variables':{'name':await this[_0x55ddf5(0x7e7)]()},'authToken':await this[_0x55ddf5(0x870)][_0x55ddf5(0xa6d)]()},{'Authorization':await this['authService'][_0x55ddf5(0xa6d)]()});this[_0x55ddf5(0x5cc)]=_0x204673['subscribe']({'next':({data:_0x11c8f9})=>{const _0x34e8f9=_0x55ddf5,_0x5bb107=JSON[_0x34e8f9(0x255)](_0x11c8f9[_0x34e8f9(0x4c8)][_0x34e8f9(0x8e6)]);!_0xd43764(_0x5bb107,this[_0x34e8f9(0x5ee)]())&&_0x4f2284(_0x5bb107,this[_0x34e8f9(0x5ee)]())&&this[_0x34e8f9(0x9b6)][_0x34e8f9(0x9cd)](_0x5bb107);},'error':console[_0x55ddf5(0x6ea)]});}async[_0x2aff22(0x7e7)](_0x2c1d54){const _0x2f7c0f=_0x2aff22,_0x16e5bb=await crypto[_0x2f7c0f(0x464)][_0x2f7c0f(0x6f8)](_0x2f7c0f(0x982),new TextEncoder()['encode'](this['vendorId']+'-'+this['clusterId']+'-'+(_0x2c1d54??this[_0x2f7c0f(0x5ee)]())));return Array[_0x2f7c0f(0x306)](new Uint8Array(_0x16e5bb))[_0x2f7c0f(0x8df)](_0x1def41=>_0x1def41[_0x2f7c0f(0x7e6)](0x10)[_0x2f7c0f(0xbd7)](0x2,'0'))[_0x2f7c0f(0x30c)]('');}}!function(_0x44b445){const _0x52b14a=_0x2aff22;_0x44b445[_0x44b445['Add']=0x0]=_0x52b14a(0x849),_0x44b445[_0x44b445[_0x52b14a(0x55f)]=0x1]=_0x52b14a(0x55f),_0x44b445[_0x44b445[_0x52b14a(0x48d)]=0x2]=_0x52b14a(0x48d),_0x44b445[_0x44b445[_0x52b14a(0xad8)]=0x3]=_0x52b14a(0xad8),_0x44b445[_0x44b445[_0x52b14a(0xa11)]=0x4]='RemoteRemove';}(_0x42cadc||(_0x42cadc={}));const _0x4ff309='0',_0x4487e0=_0x2aff22(0x35b),_0x4ddb1c=_0x3a1dbf,_0xb2352b=0x60000;class _0x253edd{['clusterId'];[_0x2aff22(0x20e)];[_0x2aff22(0x3e4)];['iceServers'];[_0x2aff22(0x5cd)];['connectionConstructor'];[_0x2aff22(0x507)];[_0x2aff22(0x89e)];[_0x2aff22(0x697)]=0x1;[_0x2aff22(0x7ef)];['handshakeCandidates']=[];['pendingHandshakeCandidates']=[];[_0x2aff22(0xbe6)];constructor(_0x731536,_0x3d8bc2,_0x249c6f,_0x21dc1c,_0x27ebec,_0x3978f8){const _0x41ca8e=_0x2aff22;this[_0x41ca8e(0x3d0)]=_0x731536,this['localNode']=_0x3d8bc2,this[_0x41ca8e(0x3e4)]=_0x249c6f,this[_0x41ca8e(0x5dc)]=_0x21dc1c,this[_0x41ca8e(0x5cd)]=_0x27ebec,this[_0x41ca8e(0x8ef)]=_0x3978f8,this[_0x41ca8e(0x507)]=new this[(_0x41ca8e(0x8ef))]({'handshakeServers':this[_0x41ca8e(0x5dc)]}),this[_0x41ca8e(0x772)]();}['close'](){const _0x42a05d=_0x2aff22;this[_0x42a05d(0xaac)]();}[_0x2aff22(0x6b1)](_0xfb7c07){const _0x5f3af5=_0x2aff22;this[_0x5f3af5(0x5cd)]=_0xfb7c07;}async[_0x2aff22(0x95b)](_0x2cdcbf,_0xdb4a77){const _0x528d26=_0x2aff22;if(_0xdb4a77===this['currentVersion'])for(const _0x1bb4af of _0x2cdcbf){if(!this[_0x528d26(0x507)][_0x528d26(0x836)])return this[_0x528d26(0x38f)](_0x1bb4af);try{await this[_0x528d26(0x507)][_0x528d26(0x401)](_0x1bb4af);}catch(_0x304c87){this[_0x528d26(0x38f)](_0x1bb4af);}}}[_0x2aff22(0x860)](){const _0x219054=_0x2aff22;return this[_0x219054(0x2f8)](),_0x219054(0x411)===this[_0x219054(0x507)][_0x219054(0x327)]&&[_0x219054(0x411),_0x219054(0x434)][_0x219054(0x9bf)](this['connection'][_0x219054(0x559)])&&'closed'!==this[_0x219054(0x507)][_0x219054(0x3a3)]&&_0x219054(0x3f1)===this[_0x219054(0x89e)]?.[_0x219054(0x623)];}[_0x2aff22(0x390)](_0xe3e2aa){const _0x89df2=_0x2aff22;this[_0x89df2(0x7ef)]=_0xe3e2aa;}['unregisterSystemPublisher'](){const _0x43b523=_0x2aff22;delete this[_0x43b523(0x7ef)];}[_0x2aff22(0x550)](_0x55da24){const _0x5273bb=_0x2aff22;this[_0x5273bb(0xaac)](),this[_0x5273bb(0x507)]=new this['connectionConstructor']({'handshakeServers':this[_0x5273bb(0x5dc)]}),_0x55da24?this[_0x5273bb(0x697)]=_0x55da24:this[_0x5273bb(0x697)]+=0x1,this[_0x5273bb(0x772)]();}[_0x2aff22(0x803)](){const _0x68ff32=_0x2aff22;this[_0x68ff32(0x398)]['forEach'](_0x2ec2cc=>{const _0x29dae3=_0x68ff32;try{this[_0x29dae3(0x507)][_0x29dae3(0x401)](_0x2ec2cc);}catch(_0x1dabb3){}}),this[_0x68ff32(0x398)]=[];}['publishSystemMessage'](_0x1a45e5,_0x4e6307){const _0x39379e=_0x2aff22;if(!this[_0x39379e(0x7ef)])throw new _0x1a8c20(_0x1a8c20[_0x39379e(0x92d)][_0x39379e(0xbad)],{'content':_0x1a45e5});const _0x1516d1={'sourceId':this['localNode'][_0x39379e(0x781)](),'destinationIds':[this[_0x39379e(0x3e4)]],'propagate':this['connectionType']!==_0x1afa62[_0x39379e(0x562)],'retry':this[_0x39379e(0x5cd)]!==_0x1afa62[_0x39379e(0x562)],'messageType':_0x3048e8[_0x39379e(0xa97)],'content':_0x1a45e5};_0x4e6307&&(_0x1516d1['uuid']=_0x4e6307),this[_0x39379e(0x7ef)][_0x39379e(0x9cd)](_0x1516d1);}[_0x2aff22(0x772)](){const _0x1c089c=_0x2aff22;this['connection'][_0x1c089c(0x893)]=()=>{const _0x5d4712=_0x1c089c;_0x5d4712(0xad4)===this[_0x5d4712(0x507)]['gatheringState']&&this[_0x5d4712(0x604)][_0x5d4712(0x482)]>0x0&&(this[_0x5d4712(0xbe6)]&&clearTimeout(this[_0x5d4712(0xbe6)]),this[_0x5d4712(0xbe6)]=setTimeout(()=>{const _0x5889df=_0x5d4712;delete this[_0x5889df(0xbe6)],this[_0x5889df(0x273)](),this[_0x5889df(0x604)]=[];},0x1f4));},this['connection'][_0x1c089c(0x7a5)]=_0x1f24fa=>{const _0x9b3aa8=_0x1c089c;_0x1f24fa['candidate']&&this[_0x9b3aa8(0x604)]['push'](_0x1f24fa[_0x9b3aa8(0x827)]);};}[_0x2aff22(0xaac)](){const _0x454274=_0x2aff22;clearTimeout(this['handshakeDebounce']),delete this[_0x454274(0xbe6)],this[_0x454274(0x604)]=[],this['pendingHandshakeCandidates']=[],this[_0x454274(0x89e)]&&(this[_0x454274(0x89e)]['onMessage']=null,this[_0x454274(0x89e)]['onClose']=null,this[_0x454274(0x89e)][_0x454274(0x566)](),delete this[_0x454274(0x89e)]),this[_0x454274(0x507)][_0x454274(0x893)]=null,this[_0x454274(0x507)]['onCandidate']=null,this[_0x454274(0x507)]['onHandshakeStateChange']=null,this[_0x454274(0x507)][_0x454274(0x779)]=null,this[_0x454274(0x507)][_0x454274(0x671)]=null,this[_0x454274(0x507)][_0x454274(0x1fa)]=null,this[_0x454274(0x507)][_0x454274(0x566)]();}[_0x2aff22(0x38f)](_0x225121){const _0x31c486=_0x2aff22;this[_0x31c486(0x398)][_0x31c486(0x639)](_0x225121);}['logConnectionState'](){const _0x4ce0a9=_0x2aff22;_0x11d8aa[_0x4ce0a9(0x6ea)](_0x23f9d6[_0x4ce0a9(0x299)],_0x4ce0a9(0x2dc),{'localId':this[_0x4ce0a9(0x20e)]['getId'](),'remoteId':this[_0x4ce0a9(0x3e4)],'connectionState':this[_0x4ce0a9(0x507)]['connectionState'],'handshakeState':this[_0x4ce0a9(0x507)][_0x4ce0a9(0x559)],'signalingState':this[_0x4ce0a9(0x507)][_0x4ce0a9(0x3a3)],'dataChannelState':this[_0x4ce0a9(0x89e)]?.[_0x4ce0a9(0x623)]});}}function _0x102835(_0x2c6a46,_0x56a09d){const _0x23944f=_0x2aff22;_0x56a09d['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x23944f(0xa97)],'content':_0x2c6a46});}class _0x12aac3{static [_0x2aff22(0xaa7)];[_0x2aff22(0xa27)]=[];[_0x2aff22(0x761)];constructor(){setInterval(()=>{const _0x3a9197=a0_0x314b;this[_0x3a9197(0xa27)]['forEach'](_0x5aa596=>{const _0x468491=_0x3a9197;if(Date['now']()-_0x5aa596[_0x468491(0x419)]>_0x5aa596[_0x468491(0x9b5)]){try{_0x5aa596['callback']();}catch(_0x353fc0){}_0x5aa596[_0x468491(0x419)]=Date[_0x468491(0x75c)]();}});},0x64);}static[_0x2aff22(0x80c)](){const _0x2c0bb5=_0x2aff22;return _0x12aac3[_0x2c0bb5(0xaa7)]||(_0x12aac3[_0x2c0bb5(0xaa7)]=new _0x12aac3()),_0x12aac3['instance'];}['startNoThrottlingHack'](_0x20f761){const _0x5f0771=_0x2aff22,_0x651a8a=this['createConstantSource'](_0x20f761),_0x4fd697=_0x20f761[_0x5f0771(0x4bf)]();_0x4fd697&&_0x651a8a&&(_0x4fd697['gain']['value']=0.001,_0x651a8a[_0x5f0771(0x835)](_0x4fd697),_0x4fd697[_0x5f0771(0x835)](_0x20f761[_0x5f0771(0x274)]),_0x651a8a[_0x5f0771(0xb5a)]());}[_0x2aff22(0x216)](){const _0x599ef4=_0x2aff22;this[_0x599ef4(0x761)]&&(this[_0x599ef4(0x761)]['stop'](),this[_0x599ef4(0x761)][_0x599ef4(0x513)](),this[_0x599ef4(0x761)]=void 0x0);}[_0x2aff22(0x4ad)](_0x1d6f32){return new Promise(_0xf85b3b=>{setTimeout(_0xf85b3b,_0x1d6f32);});}['setInterval'](_0xaf89f2,_0x1b6cb8){const _0x2a4740=_0x2aff22;return this[_0x2a4740(0xa27)][_0x2a4740(0x639)]({'callback':_0xaf89f2,'interval':_0x1b6cb8,'lastExecuted':Date['now']()}),()=>{const _0x395d0d=_0x2a4740;this[_0x395d0d(0xa27)]=this[_0x395d0d(0xa27)][_0x395d0d(0xae8)](_0x37f4b5=>_0x37f4b5['callback']!==_0xaf89f2);};}[_0x2aff22(0xbe2)](_0x40803c){const _0x39b19c=_0x2aff22;if(_0x40803c[_0x39b19c(0xbe2)])return _0x40803c['createConstantSource']();const _0x27a8af=_0x40803c[_0x39b19c(0x610)](),_0x3b1e8c=_0x40803c[_0x39b19c(0xbdd)](0x1,0x1,_0x40803c[_0x39b19c(0x73b)]);return _0x3b1e8c[_0x39b19c(0x85b)](0x0)[0x0]=0xa,_0x27a8af[_0x39b19c(0x393)]=_0x3b1e8c,_0x27a8af[_0x39b19c(0xa80)]=!0x0,_0x27a8af;}}const _0x33cd0c=_0x12aac3['getInstance']();class _0x1dc04d extends _0x253edd{[_0x2aff22(0x8c2)]=_0x4b74c2();[_0x2aff22(0x7f8)]=_0x4b74c2();[_0x2aff22(0x55a)]=_0x4b74c2();['receivers']=new Map();['chunks']=new Map();[_0x2aff22(0x685)];[_0x2aff22(0x32c)]=0x0;[_0x2aff22(0x51b)]={'messages':{'total':0x0}};[_0x2aff22(0x664)]=0x0;[_0x2aff22(0x494)]=0x0;['loggingCycle']=_0x588feb('ReceiverPeerConnection.onMessage',_0x23f9d6[_0x2aff22(0x6f4)]);[_0x2aff22(0x566)](){const _0x4d6208=_0x2aff22;this['clearWaitSuccess'](),this[_0x4d6208(0x5b2)][_0x4d6208(0x56c)](),super['close']();}async['handleOffer'](_0x47a92a,_0x37cbec){const _0x51e69c=_0x2aff22;this[_0x51e69c(0x697)]=_0x37cbec,this[_0x51e69c(0xa69)]();const _0x46d008=await this[_0x51e69c(0x507)][_0x51e69c(0xb01)](_0x47a92a);this[_0x51e69c(0x803)]();const _0x36c3d6=(0x0,_0x360e63['v4'])();this[_0x51e69c(0x546)]({'type':_0x1ad51b[_0x51e69c(0xa2c)],'answer':_0x46d008,'version':_0x37cbec,'connectionType':this[_0x51e69c(0x5cd)]},_0x36c3d6),this[_0x51e69c(0x5cd)]===_0x1afa62[_0x51e69c(0x562)]&&(this[_0x51e69c(0x685)]=_0x33cd0c[_0x51e69c(0xb09)](()=>{const _0x1f4271=_0x51e69c;this['publishSystemMessage']({'type':_0x1ad51b[_0x1f4271(0xa2c)],'answer':_0x46d008,'version':_0x37cbec,'connectionType':this[_0x1f4271(0x5cd)]},_0x36c3d6);},0x1388));}[_0x2aff22(0x6d4)](){const _0x4e69fc=_0x2aff22;this[_0x4e69fc(0xa69)]();}[_0x2aff22(0xba2)](_0x2e7ed6){const _0x391289=_0x2aff22;this[_0x391289(0x550)](_0x2e7ed6),this[_0x391289(0x546)]({'type':_0x1ad51b[_0x391289(0x837)]});}async['collectStats'](){const _0x5e9801=_0x2aff22;this[_0x5e9801(0x7ef)]&&(await this[_0x5e9801(0x507)]['collectReceiversStats'](this[_0x5e9801(0x5b2)],(_0x53a69b,_0x38980f)=>{const _0xea4baf=_0x5e9801;_0x102835({'type':_0x1ad51b[_0xea4baf(0x1d7)],'streamId':_0x38980f,'nodeId':this['remoteId'],'stats':_0x53a69b},this[_0xea4baf(0x7ef)]);}),this[_0x5e9801(0x7ef)][_0x5e9801(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x5e9801(0xa97)],'content':{'type':_0x1ad51b[_0x5e9801(0x1d7)],'nodeId':this[_0x5e9801(0x3e4)],'stats':{'origin':_0x5898c5['Receiver'],'timestamp':Date[_0x5e9801(0x75c)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x5e9801(0x664)],'timeReceiving':this[_0x5e9801(0x494)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x2aff22(0x5f0)](_0xd8bcd){const _0xcef70c=_0x2aff22;return _0x4d302b[_0xcef70c(0x82b)]?this[_0xcef70c(0x8c2)][_0xcef70c(0x4c8)](_0xd8bcd):this[_0xcef70c(0x8c2)][_0xcef70c(0x4c8)](_0x62af4c=>{const _0x25852e=_0xcef70c;0x0===_0x62af4c['topicLabel']&&_0x62af4c['messageType']===_0x3048e8[_0x25852e(0x41a)]&&this[_0x25852e(0x9ab)]['logger'][_0x25852e(0x6ea)](_0x25852e(0x7d0)+this['remoteId'],()=>_0x3a9d9c(_0x62af4c)),_0xd8bcd(_0x62af4c);});}[_0x2aff22(0x671)](_0x4fa6b1){const _0x16e2e9=_0x2aff22;return this['trackCallback'][_0x16e2e9(0x4c8)](({track:_0x2c11de,stream:_0x48531a})=>_0x4fa6b1(_0x2c11de,_0x48531a));}[_0x2aff22(0x87c)](_0x2f1810){const _0x47a80b=_0x2aff22;return this[_0x47a80b(0x55a)][_0x47a80b(0x4c8)](({track:_0x3aabf1,stream:_0xe60c67})=>_0x2f1810(_0x3aabf1,_0xe60c67));}[_0x2aff22(0x550)](_0x22c708){const _0x359035=_0x2aff22;this[_0x359035(0xa69)](),this['receivers'][_0x359035(0x663)](_0x1a09af=>{const _0x3d50d9=_0x359035;_0x1a09af[_0x3d50d9(0x56c)]();}),super['resetConnection'](_0x22c708);}['sendIceCandidates'](){const _0x558fd9=_0x2aff22;this[_0x558fd9(0x546)]({'type':_0x1ad51b[_0x558fd9(0x514)],'candidates':this[_0x558fd9(0x604)],'origin':_0x5898c5[_0x558fd9(0xbe5)],'version':this[_0x558fd9(0x697)],'connectionType':this[_0x558fd9(0x5cd)]});}[_0x2aff22(0x772)](){const _0x5d67a8=_0x2aff22;super[_0x5d67a8(0x772)](),this[_0x5d67a8(0x507)]['onTrack']=_0x1c1b6f=>{const _0x407ac5=_0x5d67a8;_0x11d8aa['log'](_0x23f9d6[_0x407ac5(0x9a1)],_0x407ac5(0x9fd),this[_0x407ac5(0x20e)][_0x407ac5(0x781)](),_0x1c1b6f),_0x1c1b6f['streams'][0x0][_0x407ac5(0x86a)]=_0x295a49=>{const _0x1e129c=_0x407ac5;this[_0x1e129c(0x5b2)][_0x1e129c(0x9de)](_0x1c1b6f[_0x1e129c(0x2b4)][0x0]['id'])?.[_0x1e129c(0xa6b)](_0x295a49[_0x1e129c(0xa25)]),0x0===this[_0x1e129c(0x5b2)]['get'](_0x1c1b6f[_0x1e129c(0x2b4)][0x0]['id'])?.['size']&&this[_0x1e129c(0x5b2)][_0x1e129c(0xa6b)](_0x1c1b6f['streams'][0x0]['id']),this[_0x1e129c(0x55a)][_0x1e129c(0x9cd)]({'track':_0x295a49['track'],'stream':_0x1c1b6f[_0x1e129c(0x2b4)][0x0]});},this[_0x407ac5(0x5b2)][_0x407ac5(0x938)](_0x1c1b6f[_0x407ac5(0x2b4)][0x0]['id'])||this['receivers'][_0x407ac5(0x25c)](_0x1c1b6f['streams'][0x0]['id'],new Set()),this['receivers'][_0x407ac5(0x9de)](_0x1c1b6f[_0x407ac5(0x2b4)][0x0]['id'])[_0x407ac5(0x62d)](_0x1c1b6f[_0x407ac5(0xa25)]),this['trackCallback'][_0x407ac5(0x9cd)]({'track':_0x1c1b6f[_0x407ac5(0xa25)],'stream':_0x1c1b6f[_0x407ac5(0x2b4)][0x0]});},this[_0x5d67a8(0x507)]['onDataChannel']=_0x2f7a7d=>{const _0x238a80=_0x5d67a8;this[_0x238a80(0x89e)]=_0x2f7a7d[_0x238a80(0x6da)],this[_0x238a80(0x89e)][_0x238a80(0x5f0)]=_0x3830ee=>{const _0xc8b30=_0x238a80;if(_0x3830ee['data']!==_0x4ff309)this[_0xc8b30(0x20b)](_0x3830ee[_0xc8b30(0x8e6)]);else{if(!this[_0xc8b30(0x89e)])return void _0x11d8aa[_0xc8b30(0x730)]('missing-datachannel',{'clusterId':this[_0xc8b30(0x3d0)],'nodeId':this[_0xc8b30(0x20e)][_0xc8b30(0x781)](),'nodeType':this[_0xc8b30(0x20e)][_0xc8b30(0x751)],'remoteId':this[_0xc8b30(0x3e4)],'data':{'connection':'receiver'}});if('open'!==this[_0xc8b30(0x89e)]['state'])return;this[_0xc8b30(0x89e)][_0xc8b30(0xb98)]('1');}};};}[_0x2aff22(0x20b)](_0x1d27a1){const _0x56d89e=_0x2aff22;if(_0x56d89e(0xb85)==typeof _0x1d27a1&&_0x1d27a1[_0x56d89e(0x606)](_0x4487e0))return this[_0x56d89e(0x32c)]+=0x1,this['bytesReceived']+=_0x1d27a1[_0x56d89e(0x482)],this['handleChunkMessage'](_0x1d27a1);setTimeout(()=>{const _0x30807c=_0x56d89e,_0xd7d138=Date[_0x30807c(0x75c)]();let _0x684aa1;if((_0x1d27a1 instanceof ArrayBuffer||_0x1d27a1[_0x30807c(0x482)]<=_0x4ddb1c)&&(this[_0x30807c(0x32c)]+=0x1,this[_0x30807c(0x664)]+=_0x1d27a1 instanceof ArrayBuffer?_0x1d27a1[_0x30807c(0x7c6)]:_0x1d27a1[_0x30807c(0x482)]),_0x1d27a1 instanceof ArrayBuffer){const [_0x8ee827,_0x47f6ba]=this[_0x30807c(0x61b)](_0x1d27a1);_0x684aa1=_0x8ee827,_0x684aa1[_0x30807c(0xb25)][_0x30807c(0x8e6)]=_0x47f6ba;}else _0x684aa1=JSON[_0x30807c(0x255)](_0x1d27a1);if(0x0===_0x684aa1[_0x30807c(0x953)]){this[_0x30807c(0x51b)]['messages']['total']+=0x1;const {systemMessageType:_0x830a4f,systemContentMessageType:_0x29088d}=_0x3a9d9c(_0x684aa1);this[_0x30807c(0x51b)][_0x830a4f]||(this[_0x30807c(0x51b)][_0x830a4f]={[_0x29088d]:0x0}),this['systemMessagesReceived'][_0x830a4f][_0x29088d]||(this['systemMessagesReceived'][_0x830a4f][_0x29088d]=0x0),this[_0x30807c(0x51b)][_0x830a4f][_0x30807c(0x1b7)]||(this[_0x30807c(0x51b)][_0x830a4f]['total']=0x0),this[_0x30807c(0x51b)][_0x830a4f][_0x29088d]+=0x1,this['systemMessagesReceived'][_0x830a4f][_0x30807c(0x1b7)]+=0x1;}this[_0x30807c(0x8c2)]['publish'](_0x684aa1),this[_0x30807c(0x494)]+=Date[_0x30807c(0x75c)]()-_0xd7d138;},0x0);}[_0x2aff22(0xbed)](_0x161e37){const _0x1b0a2b=_0x2aff22,_0x35e38f=_0x161e37[_0x1b0a2b(0x99b)](';'),_0x257437=_0x35e38f[0x1],_0x38b271=parseInt(_0x35e38f[0x2],0xa),_0x85c86e=parseInt(_0x35e38f[0x3],0xa),_0x50b7be=_0x161e37[_0x1b0a2b(0x481)](_0x4487e0+';'+_0x257437+';'+_0x38b271+';'+_0x85c86e+';','');this[_0x1b0a2b(0x69b)]['has'](_0x257437)||this[_0x1b0a2b(0x69b)][_0x1b0a2b(0x25c)](_0x257437,[]);const _0x20aed2=this[_0x1b0a2b(0x69b)][_0x1b0a2b(0x9de)](_0x257437);_0x20aed2[_0x38b271]=_0x50b7be,_0x20aed2['length']===_0x85c86e&&(this[_0x1b0a2b(0x20b)](_0x20aed2[_0x1b0a2b(0x30c)]('')),this[_0x1b0a2b(0x69b)][_0x1b0a2b(0xa6b)](_0x257437));}['clearWaitSuccess'](){const _0x162a69=_0x2aff22;this[_0x162a69(0x685)]?.(),delete this[_0x162a69(0x685)];}[_0x2aff22(0x64d)](_0x24b7f2){const _0x22c9d7=_0x2aff22,_0x16a263=new TextDecoder()[_0x22c9d7(0x8a7)](_0x24b7f2);return JSON[_0x22c9d7(0x255)](_0x16a263);}[_0x2aff22(0x61b)](_0x41bb18){const _0x586609=_0x2aff22,_0x217de0=new Uint8Array(_0x41bb18[_0x586609(0xac1)](0x0,0x4)),_0x53079a=new Uint32Array(_0x217de0[_0x586609(0x393)])[0x0],_0x1422cb=new Uint8Array(_0x41bb18[_0x586609(0xac1)](0x4,0x4+_0x53079a)),_0x437dd5=new Uint8Array(_0x41bb18[_0x586609(0xac1)](0x4+_0x53079a));return[this['arrayBufferToObject'](_0x1422cb[_0x586609(0x393)]),_0x437dd5['buffer']];}}const _0x36830f=0xc350;var _0x25a733,_0x308139;!function(_0x46d64c){const _0x4645ff=_0x2aff22;_0x46d64c[_0x46d64c[_0x4645ff(0x23f)]=0x0]=_0x4645ff(0x23f),_0x46d64c[_0x46d64c['Medium']=0x1]=_0x4645ff(0xb51),_0x46d64c[_0x46d64c[_0x4645ff(0x896)]=0x2]=_0x4645ff(0x896);}(_0x25a733||(_0x25a733={}));class _0x1a744d extends _0x253edd{[_0x2aff22(0x241)];[_0x2aff22(0x60c)];[_0x2aff22(0x9c8)]=new Map();[_0x2aff22(0x693)];[_0x2aff22(0x8cd)];[_0x2aff22(0x6a3)];['isReconnecting']=!0x1;[_0x2aff22(0x885)];['restartTimeout'];[_0x2aff22(0x1ad)];['retryQueue']=function(e,t=_0x25a733,n=!0x1){const _0x40aa79=_0x2aff22;let s=!0x1;const i=[];async function o(){const _0x129f1c=a0_0x314b;if(!s){for(s=!0x0;i['some'](e=>e[_0x129f1c(0xb1d)]);){let t,s=0x0;for(const [e,n]of i[_0x129f1c(0x437)]())if(t=n[_0x129f1c(0x631)](),s=e,t)break;if(t)try{if(e instanceof _0x1c0914&&e[_0x129f1c(0xb9b)](t),e instanceof _0x1b1fe4&&await e['call'](t),i[_0x129f1c(0xac1)](-0x1)['some'](e=>e[_0x129f1c(0xb1d)]))continue;const n=i[_0x129f1c(0x482)]-0x1;s===n&&i[n][_0x129f1c(0xb1d)]&&await _0x33cd0c[_0x129f1c(0x4ad)](0x0);}catch(o){n?i[s][_0x129f1c(0x639)](t,!0x1):i[s]['unshift'](t,!0x1),await e[_0x129f1c(0x4ad)]();}}s=!0x1;}}return Object['values'](t)[_0x40aa79(0x663)](e=>{'string'!=typeof e&&(i[e]=_0x5888f7(o));}),{'queues':i};}(new _0x1c0914(this[_0x2aff22(0x8a8)]['bind'](this),this['waitSendBuffer'][_0x2aff22(0xa38)](this)));['messagesSent']=0x0;['bytesSent']=0x0;['timeSending']=0x0;['roundTripTime']=0x0;[_0x2aff22(0x792)];[_0x2aff22(0x9ab)]=_0x588feb('SenderPeerConnection.send',_0x23f9d6[_0x2aff22(0xaa1)]);constructor(_0x1fd14e,_0x240838,_0x44d530,_0x484fba,_0x22c217,_0x43d544,_0x332f68,_0x156cc6){const _0x820b43=_0x2aff22;super(_0x1fd14e,_0x240838,_0x44d530,_0x484fba,_0x22c217,_0x156cc6),this['maxFps']=_0x43d544,this[_0x820b43(0x60c)]=_0x332f68;}[_0x2aff22(0x566)](){const _0x18cec3=_0x2aff22;this[_0x18cec3(0xb00)](),this['clearHeartbeat'](),delete this[_0x18cec3(0x6a3)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x18cec3(0x9c8)][_0x18cec3(0x56c)](),this[_0x18cec3(0x598)]=!0x1,this[_0x18cec3(0x2fe)][_0x18cec3(0x6de)][_0x18cec3(0x663)](_0x57c78b=>_0x57c78b[_0x18cec3(0x56c)]()),this[_0x18cec3(0xa8a)](),super['close']();}['isConnected'](){const _0x9fd6c0=_0x2aff22;return!!this[_0x9fd6c0(0x6a3)]&&super[_0x9fd6c0(0x860)]()&&Date[_0x9fd6c0(0x75c)]()-this['lastHeartbeat']<0x3a98;}async[_0x2aff22(0x722)](){const _0x4551d4=_0x2aff22;this[_0x4551d4(0x7ef)]&&(await this[_0x4551d4(0x507)]['collectSendersStats'](this[_0x4551d4(0x9c8)],(_0x28b17d,_0x2b09da)=>{const _0x35197a=_0x4551d4;_0x102835({'type':_0x1ad51b[_0x35197a(0x1d7)],'streamId':_0x2b09da,'nodeId':this[_0x35197a(0x3e4)],'stats':_0x28b17d},this['systemTopic']);}),this[_0x4551d4(0x7ef)][_0x4551d4(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x4551d4(0xa97)],'content':{'type':_0x1ad51b['Stats'],'nodeId':this['remoteId'],'stats':{'origin':_0x5898c5['Sender'],'timestamp':Date[_0x4551d4(0x75c)](),'messagesSent':this[_0x4551d4(0x688)],'bytesSent':this['bytesSent'],'timeSending':this[_0x4551d4(0x7fd)],'roundTripTime':this[_0x4551d4(0x333)]}}}));}async[_0x2aff22(0xa7b)](_0x59af95){const _0x343b73=_0x2aff22;_0x11d8aa[_0x343b73(0x6ea)](_0x23f9d6[_0x343b73(0x9a1)],_0x343b73(0x828),this['localNode'][_0x343b73(0x781)](),this[_0x343b73(0x3e4)]),this[_0x343b73(0x79b)](),this[_0x343b73(0xa70)](),this[_0x343b73(0x363)](),this[_0x343b73(0x885)]=setTimeout(()=>{const _0x32782f=_0x343b73;this[_0x32782f(0x228)]();},0x7530),this[_0x343b73(0x89e)]||(this[_0x343b73(0x89e)]=this[_0x343b73(0x507)]['createDataChannel'](_0x343b73(0x8e6)),this[_0x343b73(0x89e)][_0x343b73(0x9f0)]=_0xb2352b,this[_0x343b73(0x89e)][_0x343b73(0x4eb)]=()=>{const _0xf5dfe1=_0x343b73;this[_0xf5dfe1(0x792)]=setTimeout(()=>{const _0x6bf67d=_0xf5dfe1;delete this['oncloseTimeout'],[_0x6bf67d(0x472),'open'][_0x6bf67d(0x9bf)](this['dataChannel']?.[_0x6bf67d(0x623)]??'')||this[_0x6bf67d(0x228)]();},0xfa);});const _0x442fa0=await this[_0x343b73(0x507)][_0x343b73(0xa7b)](_0x59af95);this[_0x343b73(0x6a3)]||(this['lastHeartbeat']=Date[_0x343b73(0x75c)]());const _0x4f3610=(0x0,_0x360e63['v4'])();this[_0x343b73(0x546)]({'type':_0x1ad51b[_0x343b73(0x88b)],'offer':_0x442fa0,'version':this[_0x343b73(0x697)],'connectionType':this[_0x343b73(0x5cd)]},_0x4f3610),this[_0x343b73(0x5cd)]===_0x1afa62[_0x343b73(0x562)]&&(this[_0x343b73(0x8cd)]=_0x33cd0c[_0x343b73(0xb09)](()=>{const _0x3baca3=_0x343b73;this[_0x3baca3(0x546)]({'type':_0x1ad51b[_0x3baca3(0x88b)],'offer':_0x442fa0,'version':this[_0x3baca3(0x697)],'connectionType':this[_0x3baca3(0x5cd)]},_0x4f3610);},0x1388));}async[_0x2aff22(0x3f4)](_0x158082,_0x1cdba6){const _0x5cd6bc=_0x2aff22;if(_0x1cdba6===this['currentVersion']){this[_0x5cd6bc(0x363)]();try{await this['connection']['handleAnswer'](_0x158082,this[_0x5cd6bc(0xa7b)][_0x5cd6bc(0xa38)](this)),this[_0x5cd6bc(0x803)](),this[_0x5cd6bc(0xa70)](),this[_0x5cd6bc(0x9be)]();}catch(_0x182a9){this['handleDisconnect']();}}}[_0x2aff22(0xb98)](_0x168d5d){const _0x270f1b=_0x2aff22;if(!this['dataChannel'])throw new _0x1a8c20(_0x1a8c20['codes']['InvalidDataChannel'],{'message':_0x270f1b(0x1e3),'localId':this['localNode'][_0x270f1b(0x781)](),'remoteId':this['remoteId'],'eventMessage':_0x168d5d});if('open'!==this[_0x270f1b(0x89e)][_0x270f1b(0x623)])throw new _0x1a8c20(_0x1a8c20[_0x270f1b(0x92d)][_0x270f1b(0x73e)],{'message':_0x270f1b(0x702),'localId':this[_0x270f1b(0x20e)][_0x270f1b(0x781)](),'remoteId':this[_0x270f1b(0x3e4)],'eventMessage':_0x168d5d});let _0x512699;if(_0x168d5d[_0x270f1b(0xb25)][_0x270f1b(0x8e6)]instanceof ArrayBuffer){const _0x3d691a=_0x168d5d[_0x270f1b(0xb25)][_0x270f1b(0x8e6)];_0x168d5d={..._0x168d5d,'content':{..._0x168d5d[_0x270f1b(0xb25)],'data':void 0x0}},_0x512699=this[_0x270f1b(0xbee)](_0x168d5d,_0x3d691a);}else _0x512699=JSON['stringify'](_0x168d5d);if(_0x270f1b(0xb85)==typeof _0x512699&&_0x512699['length']>_0x4ddb1c)return void this['sendChunked'](_0x168d5d,_0x512699);0x0===_0x168d5d[_0x270f1b(0x953)]&&_0x168d5d[_0x270f1b(0x652)]===_0x3048e8[_0x270f1b(0x41a)]&&this[_0x270f1b(0x9ab)][_0x270f1b(0xb48)][_0x270f1b(0x89c)](()=>_0x11d8aa[_0x270f1b(0x6ea)](_0x23f9d6[_0x270f1b(0xaa1)],_0x270f1b(0xb8f),this[_0x270f1b(0x3e4)],_0x3a9d9c(_0x168d5d)),void 0x0);const _0x4168e1=0x0===_0x168d5d[_0x270f1b(0x953)]&&[_0x3048e8[_0x270f1b(0x5ce)],_0x3048e8[_0x270f1b(0xa97)]]['includes'](_0x168d5d[_0x270f1b(0x652)])?_0x25a733['High']:_0x168d5d instanceof ArrayBuffer?_0x25a733[_0x270f1b(0x896)]:_0x25a733[_0x270f1b(0xb51)];this[_0x270f1b(0x503)](_0x512699,_0x4168e1);}['addTrack'](_0x2770d3,_0x432266,_0x5e16af,_0x24d595){const _0x49e71d=_0x2aff22,_0x2a2a55=(_0x167e67=this[_0x49e71d(0x241)],_0x191bd1=this[_0x49e71d(0x60c)],Math[_0x49e71d(0x39d)](0xe1000*_0x167e67*_0x191bd1));var _0x167e67,_0x191bd1;const _0x288d39=this[_0x49e71d(0x9c8)]['get'](_0x432266['id'])||{'stream':_0x432266,'priority':_0x5e16af,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x2a2a55,'maxBitrate':_0x2a2a55,'framerate':this[_0x49e71d(0x241)],'maxFramerate':this[_0x49e71d(0x241)],'tracks':{},'params':_0x24d595},_0x1f71aa=_0x288d39[_0x49e71d(0xb9d)][_0x2770d3[_0x49e71d(0x493)]]||{'track':_0x2770d3};if(_0x1f71aa['sender']?(_0x1f71aa['track']=_0x2770d3,this['connection'][_0x49e71d(0x467)](_0x2770d3,_0x1f71aa[_0x49e71d(0xaf9)])):_0x1f71aa[_0x49e71d(0xaf9)]=this['connection']['addTrack'](_0x2770d3,_0x432266),_0x288d39[_0x49e71d(0xb9d)][_0x2770d3[_0x49e71d(0x493)]]=_0x1f71aa,_0x24d595&&(_0x288d39['params']=_0x24d595),_0x24d595&&_0x49e71d(0x4c5)===_0x24d595[_0x49e71d(0x493)]&&_0x24d595[_0x49e71d(0x52f)]&&_0x24d595[_0x49e71d(0xb6a)]&&(_0x288d39[_0x49e71d(0xb72)]=this['getResolutionScale'](_0x24d595['resolution'],_0x24d595[_0x49e71d(0xb6a)]),_0x288d39['minResolutionScale']=_0x288d39[_0x49e71d(0xb72)],_0x288d39['tracks'][_0x49e71d(0x4c5)]&&_0x288d39[_0x49e71d(0xb9d)][_0x49e71d(0x4c5)]['sender'])){const _0x3ed72d=_0x288d39[_0x49e71d(0xb9d)]['video'][_0x49e71d(0xaf9)];this[_0x49e71d(0x507)][_0x49e71d(0x23d)](_0x3ed72d,Math[_0x49e71d(0x39d)](0xa*_0x288d39[_0x49e71d(0xb72)])/0xa,_0x288d39[_0x49e71d(0x62a)],_0x288d39[_0x49e71d(0x77e)],_0x288d39[_0x49e71d(0xbdf)]);}this[_0x49e71d(0x9c8)][_0x49e71d(0x25c)](_0x432266['id'],_0x288d39);}[_0x2aff22(0xa01)](_0x1097e5,_0x183d15){const _0x354935=_0x2aff22,_0x2b51ef=this[_0x354935(0x9c8)][_0x354935(0x9de)](_0x1097e5['id']);if(_0x2b51ef&&_0x2b51ef[_0x354935(0xbdf)]!==_0x183d15&&(_0x2b51ef[_0x354935(0xbdf)]=_0x183d15,_0x2b51ef[_0x354935(0xb9d)][_0x354935(0x4c5)]&&_0x2b51ef[_0x354935(0xb9d)]['video'][_0x354935(0xaf9)])){const _0x385d9f=_0x2b51ef[_0x354935(0xb9d)]['video'][_0x354935(0xaf9)];this[_0x354935(0x507)][_0x354935(0x23d)](_0x385d9f,Math[_0x354935(0x39d)](0xa*_0x2b51ef['resolutionScale'])/0xa,_0x2b51ef[_0x354935(0x62a)],_0x2b51ef['bitrate'],_0x2b51ef['priority']);}}[_0x2aff22(0xb99)](_0x13c6b9,_0x200272){const _0x564bc0=_0x2aff22,_0x211d54=this['senders'][_0x564bc0(0x9de)](_0x13c6b9['id']);if(_0x211d54){if(_0x211d54[_0x564bc0(0xb37)]=_0x200272,_0x200272&&_0x564bc0(0x4c5)===_0x200272[_0x564bc0(0x493)]&&_0x200272[_0x564bc0(0x52f)]&&_0x200272[_0x564bc0(0xb6a)]){if(_0x211d54[_0x564bc0(0xbc3)]=this[_0x564bc0(0x4bd)](_0x200272['resolution'],_0x200272[_0x564bc0(0xb6a)]),_0x211d54['resolutionScale']<_0x211d54[_0x564bc0(0xbc3)]&&(_0x211d54['resolutionScale']=_0x211d54[_0x564bc0(0xbc3)]),_0x211d54[_0x564bc0(0xb9d)][_0x564bc0(0x4c5)]&&_0x211d54['tracks'][_0x564bc0(0x4c5)][_0x564bc0(0xaf9)]){const _0x249f79=_0x211d54[_0x564bc0(0xb9d)]['video'][_0x564bc0(0xaf9)];this[_0x564bc0(0x507)][_0x564bc0(0x23d)](_0x249f79,Math['floor'](0xa*_0x211d54[_0x564bc0(0xb72)])/0xa,_0x211d54[_0x564bc0(0x62a)],_0x211d54['bitrate'],_0x211d54[_0x564bc0(0xbdf)]);}this[_0x564bc0(0xb00)](),this[_0x564bc0(0x4b3)]();}this[_0x564bc0(0x9c8)][_0x564bc0(0x25c)](_0x13c6b9['id'],_0x211d54);}}[_0x2aff22(0x344)](_0x472ff4,_0x20f2d4){const _0x944b63=_0x2aff22,_0x23e041=this[_0x944b63(0x9c8)][_0x944b63(0x9de)](_0x20f2d4['id']);if(_0x23e041){const _0x5b1c87=_0x23e041[_0x944b63(0xb9d)][_0x472ff4[_0x944b63(0x493)]];_0x5b1c87&&(_0x5b1c87[_0x944b63(0xaf9)]&&this[_0x944b63(0x507)]['removeTrack'](_0x5b1c87['sender']),_0x5b1c87['track']=void 0x0);}}[_0x2aff22(0xb4b)](_0x443122){const _0x5081ad=_0x2aff22;this[_0x5081ad(0xb00)]();const _0x1d13a9=function(_0xf89afb,_0x59a1a4){const _0x67a2e9=_0x5081ad;return _0xf89afb[_0x67a2e9(0x246)]((_0x41867a,_0xd3cbc)=>_0x59a1a4[_0x67a2e9(0x616)]===_0x3d3f25[_0x67a2e9(0x8c8)]?_0xd3cbc[_0x67a2e9(0xbdf)]-_0x41867a[_0x67a2e9(0xbdf)]:_0x41867a[_0x67a2e9(0xbdf)]-_0xd3cbc['priority'])['find'](_0x23fc58=>function(_0x182ef2,_0x451da0){const _0x41c44e=_0x67a2e9;if(_0x451da0[_0x41c44e(0x616)]===_0x3d3f25[_0x41c44e(0x8c8)]){if(_0x451da0[_0x41c44e(0xac6)]===_0x1f3264[_0x41c44e(0x3b7)])return _0x182ef2[_0x41c44e(0xb72)]<0x4||_0x182ef2['maxFramerate']>0xf;if(_0x451da0['component']===_0x1f3264[_0x41c44e(0x6ab)])return _0x182ef2[_0x41c44e(0x2d3)]>_0x36830f;}return _0x182ef2[_0x41c44e(0xb72)]>_0x182ef2['minResolutionScale']||_0x182ef2['framerate']<_0x182ef2[_0x41c44e(0x844)]||_0x182ef2[_0x41c44e(0x77e)]<_0x182ef2[_0x41c44e(0x2d3)];}(_0x23fc58,_0x59a1a4));}(Array[_0x5081ad(0x306)](this['senders'][_0x5081ad(0xa12)]()),_0x443122);if(_0x1d13a9&&(function(_0x1654a6,_0xbc8918){const _0x3ea6a5=_0x5081ad;_0x1654a6[_0x3ea6a5(0xb9d)][_0x3ea6a5(0x4c5)]&&_0x1654a6[_0x3ea6a5(0xb9d)][_0x3ea6a5(0x4c5)][_0x3ea6a5(0xaf9)]&&(_0x1654a6['resolutionScale']=function(_0x23a9d7,_0x163e7e,_0x58a100){const _0x7353ed=_0x3ea6a5;switch(_0x58a100['action']){case _0x3d3f25[_0x7353ed(0x8c8)]:_0x58a100[_0x7353ed(0xac6)]===_0x1f3264[_0x7353ed(0x3b7)]&&(_0x23a9d7+=0.5)>0x4&&(_0x23a9d7=0x4);break;case _0x3d3f25[_0x7353ed(0x476)]:(_0x23a9d7-=0.5)<_0x163e7e&&(_0x23a9d7=_0x163e7e);}return _0x23a9d7;}(_0x1654a6[_0x3ea6a5(0xb72)],_0x1654a6[_0x3ea6a5(0xbc3)],_0xbc8918),_0x1654a6[_0x3ea6a5(0x62a)]=function(_0x2c817d,_0x530017,_0x27d768){const _0x35f95e=_0x3ea6a5;switch(_0x27d768[_0x35f95e(0x616)]){case _0x3d3f25['Downgrade']:_0x27d768[_0x35f95e(0xac6)]===_0x1f3264['Resolution']&&(_0x2c817d-=0x3)<0xf&&(_0x2c817d=0xf);break;case _0x3d3f25[_0x35f95e(0x476)]:(_0x2c817d+=0x3)>_0x530017&&(_0x2c817d=_0x530017);}return _0x2c817d;}(_0x1654a6[_0x3ea6a5(0x62a)],_0x1654a6[_0x3ea6a5(0x844)],_0xbc8918),_0x1654a6[_0x3ea6a5(0x77e)]=function(_0x1565fd,_0x251d81,_0xbe4e7c){const _0x1f39f0=_0x3ea6a5;switch(_0xbe4e7c[_0x1f39f0(0x616)]){case _0x3d3f25[_0x1f39f0(0x8c8)]:_0xbe4e7c[_0x1f39f0(0xac6)]===_0x1f3264[_0x1f39f0(0x6ab)]&&(_0x1565fd*=0.75)<_0x36830f&&(_0x1565fd=_0x36830f);break;case _0x3d3f25[_0x1f39f0(0x476)]:(_0x1565fd*=1.25)>_0x251d81&&(_0x1565fd=_0x251d81);}return _0x1565fd;}(_0x1654a6[_0x3ea6a5(0x77e)],_0x1654a6[_0x3ea6a5(0x2d3)],_0xbc8918));}(_0x1d13a9,_0x443122),_0x1d13a9['tracks'][_0x5081ad(0x4c5)]&&_0x1d13a9[_0x5081ad(0xb9d)][_0x5081ad(0x4c5)]['sender'])){const _0x1e3bc5=_0x1d13a9[_0x5081ad(0xb9d)][_0x5081ad(0x4c5)][_0x5081ad(0xaf9)];this[_0x5081ad(0x507)][_0x5081ad(0x23d)](_0x1e3bc5,Math[_0x5081ad(0x39d)](0xa*_0x1d13a9[_0x5081ad(0xb72)])/0xa,_0x1d13a9[_0x5081ad(0x62a)],_0x1d13a9[_0x5081ad(0x77e)],_0x1d13a9[_0x5081ad(0xbdf)]);}(_0x1d13a9||_0x443122[_0x5081ad(0x616)]===_0x3d3f25[_0x5081ad(0x8c8)])&&this[_0x5081ad(0x4b3)]();}[_0x2aff22(0x703)](){const _0x521bfe=_0x2aff22;return this[_0x521bfe(0x2fe)]['queues'][_0x521bfe(0x317)]((_0x44b889,_0x187d3d)=>_0x44b889+_0x187d3d[_0x521bfe(0x5ab)],0x0)*_0x3a1dbf;}[_0x2aff22(0x49d)](){const _0x5d0cb9=_0x2aff22;return this['dataChannel']?.[_0x5d0cb9(0x7f4)]??0x0;}['resetConnection'](){const _0x37613b=_0x2aff22;super[_0x37613b(0x550)](),this[_0x37613b(0xa8a)](),this[_0x37613b(0x363)](),this['senders'][_0x37613b(0x663)](_0x117d8c=>{const _0x50a466=_0x37613b;_0x117d8c['tracks']['video']&&(_0x117d8c[_0x50a466(0xb9d)][_0x50a466(0x4c5)][_0x50a466(0xaf9)]=void 0x0),_0x117d8c[_0x50a466(0xb9d)][_0x50a466(0xaea)]&&(_0x117d8c[_0x50a466(0xb9d)][_0x50a466(0xaea)][_0x50a466(0xaf9)]=void 0x0);}),this[_0x37613b(0x598)]=!0x0;}async[_0x2aff22(0xa04)](){return new Promise(async _0x43e41f=>{const _0x1dc752=a0_0x314b;if(!this[_0x1dc752(0x89e)]||_0x1dc752(0x3f1)!==this[_0x1dc752(0x89e)][_0x1dc752(0x623)])return await _0x33cd0c[_0x1dc752(0x4ad)](0x64),void _0x43e41f();this[_0x1dc752(0x89e)][_0x1dc752(0x7f4)]<_0xb2352b?_0x43e41f():this[_0x1dc752(0x89e)][_0x1dc752(0x421)]=()=>{const _0x21d717=_0x1dc752;this[_0x21d717(0x89e)]&&(this[_0x21d717(0x89e)][_0x21d717(0x421)]=null),_0x43e41f();};});}async[_0x2aff22(0xa55)](_0x5297e2,_0x165047){const _0x237a8b=_0x2aff22,_0x4723de=[];for(let _0x4352ab=0x0;_0x4352ab<_0x165047['length'];_0x4352ab+=_0x4ddb1c)_0x4723de[_0x237a8b(0x639)](_0x165047[_0x237a8b(0xac1)](_0x4352ab,_0x4352ab+_0x4ddb1c));for(const _0x10da3f of _0x4723de){for(;this[_0x237a8b(0x2fe)][_0x237a8b(0x6de)][_0x25a733[_0x237a8b(0x896)]][_0x237a8b(0x5ab)]>0x1;)await _0x33cd0c[_0x237a8b(0x4ad)](0x64);this[_0x237a8b(0x503)](_0x4487e0+';'+_0x5297e2['uuid']+';'+_0x4723de[_0x237a8b(0x26a)](_0x10da3f)+';'+_0x4723de[_0x237a8b(0x482)]+';'+_0x10da3f,_0x25a733[_0x237a8b(0x896)]);}}async['sendWithRetry'](_0x40d80e,_0x2780e1){const _0x30adf8=_0x2aff22;_0x40d80e===_0x4ff309?this['retryQueue']['queues'][_0x2780e1]['head']?.['value']!==_0x4ff309&&this[_0x30adf8(0x2fe)][_0x30adf8(0x6de)][_0x2780e1]['unshift'](_0x40d80e):this[_0x30adf8(0x2fe)][_0x30adf8(0x6de)][_0x2780e1][_0x30adf8(0x639)](_0x40d80e);}['sendAction'](_0x492d86){const _0x3df118=_0x2aff22;if(!this[_0x3df118(0x89e)]||_0x3df118(0x3f1)!==this[_0x3df118(0x89e)][_0x3df118(0x623)])throw new Error(_0x3df118(0x2f7));if(this['dataChannel']['bufferedAmount']>=0x600000)throw new Error(_0x3df118(0x5c5));const _0x4ae272=Date[_0x3df118(0x75c)]();_0x492d86!==_0x4ff309&&(this['messagesSent']+=0x1,this[_0x3df118(0x439)]+=_0x492d86 instanceof ArrayBuffer?_0x492d86['byteLength']:_0x492d86[_0x3df118(0x482)]);try{ArrayBuffer,this[_0x3df118(0x89e)]['send'](_0x492d86);}catch(_0x30e851){throw console[_0x3df118(0x730)]('DataChannel\x20send\x20error',_0x30e851),_0x30e851;}this[_0x3df118(0x7fd)]+=Date[_0x3df118(0x75c)]()-_0x4ae272;}[_0x2aff22(0x9be)](){const _0x5c0991=_0x2aff22;this['heartbeatUnsubscriber']&&this[_0x5c0991(0x1bb)]();let _0x268dc3=!0x0,_0x5d527c=Date[_0x5c0991(0x75c)]();this[_0x5c0991(0x6a3)]=Date[_0x5c0991(0x75c)](),this[_0x5c0991(0x89e)][_0x5c0991(0x5f0)]=_0x17993e=>{const _0x4f3852=_0x5c0991;'1'===_0x17993e[_0x4f3852(0x8e6)]&&(this['roundTripTime']=Date['now']()-_0x5d527c,_0x268dc3&&this[_0x4f3852(0x546)]({'type':_0x1ad51b[_0x4f3852(0x626)]}),_0x268dc3=!0x1,this[_0x4f3852(0x6a3)]=Date[_0x4f3852(0x75c)](),this[_0x4f3852(0x598)]&&(this[_0x4f3852(0x598)]=!0x1,this[_0x4f3852(0x78c)]()));},this[_0x5c0991(0x693)]=_0x33cd0c[_0x5c0991(0xb09)](()=>{const _0x59e711=_0x5c0991;_0x5d527c=Date[_0x59e711(0x75c)](),this[_0x59e711(0x503)](_0x4ff309,_0x25a733[_0x59e711(0x23f)]),Date[_0x59e711(0x75c)]()-this['lastHeartbeat']>(_0x268dc3?0x15f90:0x3a98)&&this[_0x59e711(0x228)]();},0xbb8);}[_0x2aff22(0x78c)](){const _0x43730c=_0x2aff22;this[_0x43730c(0x9c8)][_0x43730c(0x663)](_0x3bc60f=>{const _0xb6b841=_0x43730c;_0x3bc60f[_0xb6b841(0xb9d)]['video']&&_0x3bc60f[_0xb6b841(0xb9d)][_0xb6b841(0x4c5)][_0xb6b841(0xa25)]&&!_0x3bc60f[_0xb6b841(0xb9d)]['video']['sender']&&(_0x3bc60f[_0xb6b841(0xb9d)][_0xb6b841(0x4c5)]['sender']=this[_0xb6b841(0x507)][_0xb6b841(0x389)](_0x3bc60f['tracks']['video'][_0xb6b841(0xa25)],_0x3bc60f[_0xb6b841(0x86f)])),_0x3bc60f[_0xb6b841(0xb9d)][_0xb6b841(0xaea)]&&_0x3bc60f['tracks'][_0xb6b841(0xaea)][_0xb6b841(0xa25)]&&!_0x3bc60f[_0xb6b841(0xb9d)][_0xb6b841(0xaea)][_0xb6b841(0xaf9)]&&(_0x3bc60f['tracks']['audio'][_0xb6b841(0xaf9)]=this['connection'][_0xb6b841(0x389)](_0x3bc60f['tracks'][_0xb6b841(0xaea)][_0xb6b841(0xa25)],_0x3bc60f['stream']));});}[_0x2aff22(0x273)](){const _0x3f5f61=_0x2aff22;this[_0x3f5f61(0x546)]({'type':_0x1ad51b['Handshake'],'candidates':this['handshakeCandidates'],'origin':_0x5898c5[_0x3f5f61(0x867)],'version':this[_0x3f5f61(0x697)],'connectionType':this[_0x3f5f61(0x5cd)]});}['setupConnectionEvents'](){const _0x36adfa=_0x2aff22;super[_0x36adfa(0x772)](),this[_0x36adfa(0x507)][_0x36adfa(0xabf)]=()=>{const _0x5f14e8=_0x36adfa;if(_0x5f14e8(0x345)===this[_0x5f14e8(0x507)][_0x5f14e8(0x559)]){_0x11d8aa[_0x5f14e8(0x6ea)](_0x23f9d6['ConnectionState'],_0x5f14e8(0xb57),this[_0x5f14e8(0x20e)][_0x5f14e8(0x781)](),this[_0x5f14e8(0x3e4)]);try{if(this['connection'][_0x5f14e8(0x531)])return void this['connection'][_0x5f14e8(0x4a9)]();}catch(_0x29863b){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x36adfa(0x507)][_0x36adfa(0x779)]=()=>{const _0x2c2110=_0x36adfa;'disconnected'!==this['connection'][_0x2c2110(0x327)]&&_0x2c2110(0x345)!==this[_0x2c2110(0x507)][_0x2c2110(0x327)]||this[_0x2c2110(0x228)]();};}[_0x2aff22(0x228)](){const _0x47be85=_0x2aff22;this[_0x47be85(0x1bb)](),this[_0x47be85(0x79b)](),this[_0x47be85(0xa70)](),_0x11d8aa[_0x47be85(0x25e)](_0x47be85(0x513),{'clusterId':this[_0x47be85(0x3d0)],'nodeId':this[_0x47be85(0x20e)][_0x47be85(0x781)](),'nodeType':this[_0x47be85(0x20e)][_0x47be85(0x751)],'remoteId':this[_0x47be85(0x3e4)],'data':{'connectionType':this[_0x47be85(0x5cd)],'connectionState':this[_0x47be85(0x507)][_0x47be85(0x327)],'iceConnectionState':this[_0x47be85(0x507)][_0x47be85(0x559)],'signalingState':this[_0x47be85(0x507)]['signalingState'],'readyState':this[_0x47be85(0x89e)]?.[_0x47be85(0x623)]||'','lastHeartbeat':this[_0x47be85(0x6a3)]?Date['now']()-this[_0x47be85(0x6a3)]:'','retryQueue':this['retryQueue']}}),(this['lastHeartbeat']&&Date[_0x47be85(0x75c)]()-this[_0x47be85(0x6a3)]>0xea60)??0x1?this[_0x47be85(0x7ef)][_0x47be85(0x9cd)]({'sourceId':this[_0x47be85(0x3e4)],'destinationIds':[this[_0x47be85(0x20e)][_0x47be85(0x781)]()],'messageType':_0x3048e8[_0x47be85(0xa97)],'content':{'type':_0x1ad51b[_0x47be85(0x9d1)]}}):(this[_0x47be85(0x550)](),this[_0x47be85(0x546)]({'type':_0x1ad51b[_0x47be85(0x940)],'version':this[_0x47be85(0x697)],'connectionType':this[_0x47be85(0x5cd)]}),this[_0x47be85(0x961)]=setTimeout(()=>{const _0x873bc=_0x47be85;this[_0x873bc(0x228)]();},0x7530));}[_0x2aff22(0x1bb)](){const _0x2cc01=_0x2aff22;this[_0x2cc01(0x693)]?.(),delete this['heartbeatUnsubscriber'];}[_0x2aff22(0xa70)](){const _0x54a705=_0x2aff22;this[_0x54a705(0x885)]&&(clearTimeout(this[_0x54a705(0x885)]),delete this[_0x54a705(0x885)]);}[_0x2aff22(0x79b)](){const _0x12c83b=_0x2aff22;this['restartTimeout']&&(clearTimeout(this[_0x12c83b(0x961)]),delete this[_0x12c83b(0x961)]);}[_0x2aff22(0xb00)](){const _0x135b80=_0x2aff22;this[_0x135b80(0x1ad)]&&(clearTimeout(this[_0x135b80(0x1ad)]),delete this[_0x135b80(0x1ad)]);}[_0x2aff22(0x4b3)](){const _0x450a1d=_0x2aff22;this[_0x450a1d(0x1ad)]=setTimeout(()=>{const _0x2f07e0=_0x450a1d;this[_0x2f07e0(0xb4b)]({'type':_0x2506db[_0x2f07e0(0x739)],'action':_0x3d3f25[_0x2f07e0(0x476)]});},0x3a98);}[_0x2aff22(0x4bd)](_0x4ae5f0,_0x50ea7a){const _0x5ba1bc=_0x2aff22,_0x260b1f=Math[_0x5ba1bc(0x971)](_0x4ae5f0[_0x5ba1bc(0xbcc)]/_0x50ea7a[_0x5ba1bc(0xbcc)],_0x4ae5f0['height']/_0x50ea7a['height']);return Math[_0x5ba1bc(0x32e)](Math[_0x5ba1bc(0x971)](_0x260b1f,0x1),0x4);}[_0x2aff22(0x363)](){const _0x52f9ed=_0x2aff22;this[_0x52f9ed(0x8cd)]?.(),delete this['waitAnswer'];}[_0x2aff22(0xa8a)](){const _0x57fd6f=_0x2aff22;this[_0x57fd6f(0x792)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0x57fd6f(0x792)]);}[_0x2aff22(0x3ab)](_0x32edf6){const _0x471fec=_0x2aff22,_0x5a2ad0=JSON[_0x471fec(0x438)](_0x32edf6);return new TextEncoder()[_0x471fec(0xbcd)](_0x5a2ad0)[_0x471fec(0x393)];}['mergeParts'](_0x3dd02c,_0x5791b1){const _0x4e07b1=_0x2aff22,_0x36dd5c=this['objectToArrayBuffer'](_0x3dd02c),_0x281cc5=new Uint8Array(0x4),_0x590283=new Uint8Array(_0x36dd5c),_0x550688=new Uint8Array(_0x5791b1);_0x281cc5[_0x4e07b1(0x25c)](new Uint8Array(new Uint32Array([_0x590283['length']])['buffer']));const _0x1e14cd=new Uint8Array(0x4+_0x590283[_0x4e07b1(0x482)]+_0x550688[_0x4e07b1(0x482)]);return _0x1e14cd[_0x4e07b1(0x25c)](_0x281cc5),_0x1e14cd[_0x4e07b1(0x25c)](_0x590283,0x4),_0x1e14cd['set'](_0x550688,0x4+_0x590283['length']),_0x1e14cd[_0x4e07b1(0x393)];}}class _0x4c1c6f extends _0x186573{[_0x2aff22(0x5dc)];[_0x2aff22(0x5cd)];['maxFps'];[_0x2aff22(0x60c)];['connectionConstructor'];[_0x2aff22(0xb04)];[_0x2aff22(0x8bb)];[_0x2aff22(0x878)]=[];['messageListeners']=_0x29c93b();[_0x2aff22(0x848)]=_0x29c93b();['removeTrackListeners']=_0x29c93b();[_0x2aff22(0x226)]=[];['systemTopic'];[_0x2aff22(0xb56)]=new Map();[_0x2aff22(0x219)]=new Map();[_0x2aff22(0xb59)]=new Map();[_0x2aff22(0x352)]=new Map();[_0x2aff22(0x73c)]=!0x1;constructor(_0x3d388c,_0x29aac2,_0x40c054,_0x4e34c7,_0x198d4e,_0x2e7cf3,_0x2fde40,_0x3d59ef){const _0x4e71dc=_0x2aff22;super(_0x3d388c,_0x29aac2,_0x40c054),this['iceServers']=_0x4e34c7,this[_0x4e71dc(0x5cd)]=_0x198d4e,this[_0x4e71dc(0x241)]=_0x2e7cf3,this['maxBpp']=_0x2fde40,this[_0x4e71dc(0x8ef)]=_0x3d59ef;}[_0x2aff22(0x480)](_0x328945){const _0x1932d6=_0x2aff22;switch(_0x328945[_0x1932d6(0x708)]()){case _0x182c91['ContentType']['Data']:case _0x182c91['ContentType'][_0x1932d6(0xb30)]:case _0x182c91[_0x1932d6(0x1c0)]['ObjectStore']:case _0x182c91[_0x1932d6(0x1c0)]['KeyValueDatabase']:case _0x182c91[_0x1932d6(0x1c0)]['Job']:case _0x182c91[_0x1932d6(0x1c0)][_0x1932d6(0x883)]:case _0x182c91[_0x1932d6(0x1c0)][_0x1932d6(0xb7f)]:case _0x182c91[_0x1932d6(0x1c0)][_0x1932d6(0x92e)]:this['dataTopics'][_0x1932d6(0x25c)](_0x328945[_0x1932d6(0x2e7)](),_0x328945);break;case _0x182c91[_0x1932d6(0x1c0)][_0x1932d6(0x3e7)]:this[_0x1932d6(0xb59)][_0x1932d6(0x25c)](_0x328945[_0x1932d6(0x2e7)](),_0x328945);}}['unregisterPublisher'](_0xa12f4f){const _0x2169c9=_0x2aff22;switch(_0xa12f4f[_0x2169c9(0x708)]()){case _0x182c91['ContentType'][_0x2169c9(0x517)]:case _0x182c91[_0x2169c9(0x1c0)][_0x2169c9(0xb30)]:case _0x182c91[_0x2169c9(0x1c0)][_0x2169c9(0x6bd)]:case _0x182c91[_0x2169c9(0x1c0)][_0x2169c9(0x3e1)]:case _0x182c91[_0x2169c9(0x1c0)][_0x2169c9(0x47d)]:case _0x182c91[_0x2169c9(0x1c0)][_0x2169c9(0x883)]:case _0x182c91[_0x2169c9(0x1c0)][_0x2169c9(0xb7f)]:case _0x182c91['ContentType'][_0x2169c9(0x92e)]:this[_0x2169c9(0xb56)][_0x2169c9(0xa6b)](_0xa12f4f[_0x2169c9(0x2e7)]());break;case _0x182c91['ContentType']['Media']:this['mediaTopics']['delete'](_0xa12f4f[_0x2169c9(0x2e7)]());}}[_0x2aff22(0x950)](_0x395815){const _0x41bf48=_0x2aff22;switch(_0x395815[_0x41bf48(0x708)]()){case _0x182c91[_0x41bf48(0x1c0)][_0x41bf48(0x517)]:case _0x182c91[_0x41bf48(0x1c0)][_0x41bf48(0xb30)]:case _0x182c91[_0x41bf48(0x1c0)][_0x41bf48(0x6bd)]:case _0x182c91[_0x41bf48(0x1c0)][_0x41bf48(0x3e1)]:case _0x182c91['ContentType'][_0x41bf48(0x47d)]:case _0x182c91[_0x41bf48(0x1c0)][_0x41bf48(0x883)]:case _0x182c91['ContentType'][_0x41bf48(0xb7f)]:case _0x182c91[_0x41bf48(0x1c0)][_0x41bf48(0x92e)]:{const _0x378137=_0x395815[_0x41bf48(0x4c8)](_0x5844bd=>{const _0x3ae3df=_0x41bf48;_0xd43764(_0x5844bd,this[_0x3ae3df(0x5ee)]())&&_0x4f2284(_0x5844bd,this[_0x3ae3df(0x3e4)])&&this[_0x3ae3df(0xb98)](_0x5844bd);});this['dataUnsubscribers'][_0x41bf48(0x25c)](_0x395815[_0x41bf48(0x2e7)](),_0x378137);break;}case _0x182c91['ContentType']['Media']:{const _0x3c2b9c=_0x395815['subscribe'](({content:_0x2a22f1})=>{const _0x4b126b=_0x41bf48;switch(_0x2a22f1[_0x4b126b(0x616)]){case _0x42cadc['Add']:this[_0x4b126b(0x389)](_0x2a22f1[_0x4b126b(0xa25)],_0x2a22f1[_0x4b126b(0x86f)],_0x2a22f1['priority'],_0x2a22f1[_0x4b126b(0xb37)]);break;case _0x42cadc[_0x4b126b(0x55f)]:this[_0x4b126b(0x344)](_0x2a22f1['track'],_0x2a22f1[_0x4b126b(0x86f)]);break;case _0x42cadc[_0x4b126b(0x48d)]:_0x2a22f1[_0x4b126b(0xbdf)]&&this[_0x4b126b(0xa01)](_0x2a22f1[_0x4b126b(0x86f)],_0x2a22f1[_0x4b126b(0xbdf)]),_0x2a22f1[_0x4b126b(0xb37)]&&this[_0x4b126b(0xb99)](_0x2a22f1[_0x4b126b(0x86f)],_0x2a22f1['params']);}});this[_0x41bf48(0x352)][_0x41bf48(0x25c)](_0x395815['getLabel'](),_0x3c2b9c);break;}}}[_0x2aff22(0xb80)](_0x56d627){const _0x27ce4c=_0x2aff22;switch(_0x56d627['getContentType']()){case _0x182c91[_0x27ce4c(0x1c0)][_0x27ce4c(0x517)]:case _0x182c91[_0x27ce4c(0x1c0)]['PubSub']:case _0x182c91[_0x27ce4c(0x1c0)]['ObjectStore']:case _0x182c91[_0x27ce4c(0x1c0)][_0x27ce4c(0x3e1)]:case _0x182c91[_0x27ce4c(0x1c0)][_0x27ce4c(0x47d)]:case _0x182c91[_0x27ce4c(0x1c0)][_0x27ce4c(0x883)]:case _0x182c91[_0x27ce4c(0x1c0)]['GraphDatabase']:case _0x182c91['ContentType'][_0x27ce4c(0x92e)]:this[_0x27ce4c(0x219)]['get'](_0x56d627['getLabel']())?.(),this[_0x27ce4c(0x219)][_0x27ce4c(0xa6b)](_0x56d627['getLabel']());break;case _0x182c91[_0x27ce4c(0x1c0)]['Media']:this['mediaUnsubscribers'][_0x27ce4c(0x9de)](_0x56d627[_0x27ce4c(0x2e7)]())?.(),this[_0x27ce4c(0x352)]['delete'](_0x56d627['getLabel']());}}['getSupportedContentTypes'](){const _0x443d54=_0x2aff22;return[_0x182c91[_0x443d54(0x1c0)][_0x443d54(0x517)],_0x182c91[_0x443d54(0x1c0)][_0x443d54(0x3e7)],_0x182c91[_0x443d54(0x1c0)][_0x443d54(0xb30)],_0x182c91[_0x443d54(0x1c0)][_0x443d54(0x6bd)],_0x182c91[_0x443d54(0x1c0)][_0x443d54(0x3e1)],_0x182c91[_0x443d54(0x1c0)][_0x443d54(0x47d)],_0x182c91['ContentType'][_0x443d54(0x883)],_0x182c91[_0x443d54(0x1c0)][_0x443d54(0xb7f)],_0x182c91[_0x443d54(0x1c0)]['ExternalStorage']];}[_0x2aff22(0x390)](_0x462a90){this['systemTopic']=_0x462a90;}[_0x2aff22(0x36a)](){delete this['systemTopic'];}async[_0x2aff22(0x835)](){const _0x403bfa=_0x2aff22;this[_0x403bfa(0xabd)](),await this[_0x403bfa(0xa7b)]();}[_0x2aff22(0x566)](){const _0x261b43=_0x2aff22;this[_0x261b43(0x226)]['forEach'](_0x4911f0=>_0x4911f0()),this[_0x261b43(0x226)]=[],this['senderConnection']?.[_0x261b43(0x36a)](),this[_0x261b43(0xb04)]?.[_0x261b43(0x566)](),delete this[_0x261b43(0xb04)],this['receiverUnsubscribers'][_0x261b43(0x663)](_0x4c56e8=>_0x4c56e8()),this['receiverUnsubscribers']=[],this[_0x261b43(0x8bb)]?.['unregisterSystemPublisher'](),this[_0x261b43(0x8bb)]?.[_0x261b43(0x566)](),delete this[_0x261b43(0x8bb)];}[_0x2aff22(0x860)](){const _0x56de71=_0x2aff22;return this[_0x56de71(0xb04)]?.[_0x56de71(0x860)]()&&this[_0x56de71(0x8bb)]?.[_0x56de71(0x860)]()||!0x1;}[_0x2aff22(0xb98)](_0x43523b){const _0x177859=_0x2aff22;if(!this[_0x177859(0xb04)]||!this[_0x177859(0x860)]())throw new _0x1a8c20(_0x1a8c20[_0x177859(0x92d)][_0x177859(0x898)],{'message':_0x177859(0x59d),'senderConnected':this[_0x177859(0xb04)]?.['isConnected'](),'receiverConnected':this[_0x177859(0x8bb)]?.['isConnected'](),'localId':this[_0x177859(0x5ee)](),'remoteId':this['remoteId'],'data':_0x43523b});this[_0x177859(0xb04)][_0x177859(0xb98)](_0x43523b);}['onMessage'](_0x21136f){const _0x3c37d8=_0x2aff22;return this['messageListeners'][_0x3c37d8(0x4c8)](_0x21136f);}['onTrack'](_0x4b9a0f){const _0x49e02c=_0x2aff22;return this[_0x49e02c(0x848)]['subscribe'](({track:_0x1e4b1a,stream:_0x5e0acd})=>_0x4b9a0f(_0x1e4b1a,_0x5e0acd));}[_0x2aff22(0x87c)](_0x1398d9){const _0x3b7d80=_0x2aff22;return this[_0x3b7d80(0x291)]['subscribe'](({track:_0x141098,stream:_0x60cc4d})=>_0x1398d9(_0x141098,_0x60cc4d));}[_0x2aff22(0x389)](_0x460675,_0x2b016a,_0x4df513,_0x22193a){const _0x593ad0=_0x2aff22;this[_0x593ad0(0xb04)]?.[_0x593ad0(0x389)](_0x460675,_0x2b016a,_0x4df513,_0x22193a);}[_0x2aff22(0xa01)](_0x4ce066,_0x132c5d){const _0x250e21=_0x2aff22;this['senderConnection']?.[_0x250e21(0xa01)](_0x4ce066,_0x132c5d);}[_0x2aff22(0xb99)](_0x16365b,_0x3ed04c){const _0x59fec5=_0x2aff22;this[_0x59fec5(0xb04)]?.[_0x59fec5(0xb99)](_0x16365b,_0x3ed04c);}[_0x2aff22(0x344)](_0x5c3dff,_0x207e48){const _0x4448bb=_0x2aff22;this[_0x4448bb(0xb04)]?.[_0x4448bb(0x344)](_0x5c3dff,_0x207e48);}async['handlePeerConnectionSystemEvents'](_0x175093){const _0x22594c=_0x2aff22;_0x11d8aa[_0x22594c(0x6ea)](_0x23f9d6[_0x22594c(0x9a1)],_0x22594c(0x9ff),this[_0x22594c(0x5ee)](),_0x175093);const {content:_0x47c092}=_0x175093;switch(_0x47c092[_0x22594c(0x751)]){case _0x1ad51b[_0x22594c(0x88b)]:await this[_0x22594c(0x902)](_0x47c092);break;case _0x1ad51b['Answer']:await this[_0x22594c(0x3f4)](_0x47c092);break;case _0x1ad51b[_0x22594c(0x626)]:this['handleSuccess']();break;case _0x1ad51b[_0x22594c(0x514)]:await this['handleIceCandidates'](_0x47c092);break;case _0x1ad51b[_0x22594c(0x940)]:this['handleNeedRestart'](_0x47c092);break;case _0x1ad51b[_0x22594c(0x837)]:await this[_0x22594c(0xa7b)]();}}[_0x2aff22(0x6ae)](_0xc6aac8){const _0x56ec70=_0x2aff22;this[_0x56ec70(0xb04)]?.['applyRemediation'](_0xc6aac8[_0x56ec70(0xb25)][_0x56ec70(0x8e6)]);}[_0x2aff22(0x742)](){const _0x2780af=_0x2aff22;return this[_0x2780af(0x5cd)];}['setConnectionType'](_0x25e8cb){const _0x3bd2e8=_0x2aff22;this['connectionType']=_0x25e8cb,this['senderConnection']?.[_0x3bd2e8(0x6b1)](_0x25e8cb),this[_0x3bd2e8(0x8bb)]?.[_0x3bd2e8(0x6b1)](_0x25e8cb);}async[_0x2aff22(0x722)](){const _0xf22e64=_0x2aff22;await this[_0xf22e64(0xb04)]?.[_0xf22e64(0x722)](),await this[_0xf22e64(0x8bb)]?.['collectStats']();}[_0x2aff22(0x703)](){const _0x28cc6e=_0x2aff22;return this[_0x28cc6e(0xb04)]?.[_0x28cc6e(0x703)]()??0x0;}[_0x2aff22(0x49d)](){const _0x150cad=_0x2aff22;return this[_0x150cad(0xb04)]?.[_0x150cad(0x49d)]()??0x0;}['setupListeners'](){const _0x3070bc=_0x2aff22;this[_0x3070bc(0x226)][_0x3070bc(0x639)](this[_0x3070bc(0x5f0)](_0x7b3fd5=>{const _0x51284e=_0x3070bc;_0x4f2284(_0x7b3fd5,this[_0x51284e(0x5ee)]())&&0x0!==_0x7b3fd5['topicLabel']&&this[_0x51284e(0xb56)][_0x51284e(0x9de)](_0x7b3fd5[_0x51284e(0x953)])?.[_0x51284e(0x9cd)](_0x7b3fd5);})),this[_0x3070bc(0x226)][_0x3070bc(0x639)](this['onTrack']((_0x1ef377,_0x5472b0)=>{const _0x4a1ad3=_0x3070bc,_0x1fd4a6=_0x12d5fc(_0x182c91['ContentType']['Media'],_0x5472b0['id'],this[_0x4a1ad3(0x3e4)]);this[_0x4a1ad3(0xb59)][_0x4a1ad3(0x9de)](_0x1fd4a6)?.[_0x4a1ad3(0x9cd)]({'topicLabel':_0x1fd4a6,'sourceId':this[_0x4a1ad3(0x3e4)],'contentType':_0x182c91[_0x4a1ad3(0x1c0)][_0x4a1ad3(0x3e7)],'content':{'action':_0x42cadc[_0x4a1ad3(0xad8)],'track':_0x1ef377,'stream':_0x5472b0,'providerId':this['remoteId']}});})),this[_0x3070bc(0x226)][_0x3070bc(0x639)](this['onRemoveTrack']((_0x282562,_0x5797a6)=>{const _0x1d6472=_0x3070bc,_0x4ade50=_0x12d5fc(_0x182c91['ContentType'][_0x1d6472(0x3e7)],_0x5797a6['id'],this['remoteId']);this['mediaTopics'][_0x1d6472(0x9de)](_0x4ade50)?.['publish']({'topicLabel':_0x4ade50,'sourceId':this[_0x1d6472(0x3e4)],'contentType':_0x182c91[_0x1d6472(0x1c0)]['Media'],'content':{'action':_0x42cadc[_0x1d6472(0xa11)],'track':_0x282562,'stream':_0x5797a6,'providerId':this[_0x1d6472(0x3e4)]}});}));}['handleIceCandidates']({candidates:_0x483e4f,origin:_0x51afbd,version:_0x2b9e88}){const _0x1bb4a3=_0x2aff22;return _0x51afbd===_0x5898c5['Sender']?(this['receiverConnection']||this['createReceiverConnection'](),this['receiverConnection'][_0x1bb4a3(0x95b)](_0x483e4f,_0x2b9e88)):this[_0x1bb4a3(0xb04)][_0x1bb4a3(0x95b)](_0x483e4f,_0x2b9e88);}async[_0x2aff22(0xa7b)](){const _0x26d18e=_0x2aff22;this[_0x26d18e(0xb04)]||this[_0x26d18e(0x332)](),await this[_0x26d18e(0xb04)][_0x26d18e(0xa7b)]();}async[_0x2aff22(0x902)]({offer:_0x241eb7,version:_0x2d18ce}){const _0x5aab24=_0x2aff22;this[_0x5aab24(0x8bb)]||this[_0x5aab24(0x2b5)](),await this[_0x5aab24(0x8bb)][_0x5aab24(0x902)](_0x241eb7,_0x2d18ce);}async['handleAnswer']({answer:_0x1d5ee0,version:_0x178e27}){const _0x1cdb2c=_0x2aff22;if(!this[_0x1cdb2c(0xb04)])throw new _0x1a8c20(_0x1a8c20['codes'][_0x1cdb2c(0x898)],{'message':_0x1cdb2c(0xaec),'localId':this[_0x1cdb2c(0x5ee)](),'remoteId':this[_0x1cdb2c(0x3e4)],'answer':_0x1d5ee0});await this[_0x1cdb2c(0xb04)][_0x1cdb2c(0x3f4)](_0x1d5ee0,_0x178e27);}[_0x2aff22(0x6d4)](){const _0x2d0d52=_0x2aff22;if(!this[_0x2d0d52(0x8bb)])throw new _0x1a8c20(_0x1a8c20[_0x2d0d52(0x92d)]['ConnectionNotinitialized'],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x2d0d52(0x5ee)](),'remoteId':this[_0x2d0d52(0x3e4)]});this[_0x2d0d52(0x8bb)][_0x2d0d52(0x6d4)](),this[_0x2d0d52(0x73c)]||this[_0x2d0d52(0x5cd)]!==_0x1afa62[_0x2d0d52(0x9ba)]||(this[_0x2d0d52(0x73c)]=!0x0,this['systemTopic']?.[_0x2d0d52(0x9cd)]({'sourceId':this[_0x2d0d52(0x3e4)],'destinationIds':[this[_0x2d0d52(0x5ee)]()],'messageType':_0x3048e8[_0x2d0d52(0xa97)],'content':{'type':_0x1ad51b[_0x2d0d52(0xace)]}}));}['handleNeedRestart'](_0x22c63b){const _0x5cabd4=_0x2aff22;this[_0x5cabd4(0x8bb)]||this[_0x5cabd4(0x2b5)](),this['receiverConnection']['handleNeedRestart'](_0x22c63b[_0x5cabd4(0x88e)]);}['createSenderConnection'](){const _0x528087=_0x2aff22;this['senderConnection']=new _0x1a744d(this['clusterId'],this['localNode'],this[_0x528087(0x3e4)],this['iceServers'],this[_0x528087(0x5cd)],this[_0x528087(0x241)],this[_0x528087(0x60c)],this[_0x528087(0x8ef)]),this['senderConnection']['registerSystemPublisher'](this[_0x528087(0x7ef)]);}[_0x2aff22(0x2b5)](){const _0x16efd0=_0x2aff22;this['receiverConnection']=new _0x1dc04d(this[_0x16efd0(0x3d0)],this[_0x16efd0(0x20e)],this['remoteId'],this[_0x16efd0(0x5dc)],this['connectionType'],this[_0x16efd0(0x8ef)]),this[_0x16efd0(0x8bb)]['registerSystemPublisher'](this[_0x16efd0(0x7ef)]),this[_0x16efd0(0x878)]['push'](this[_0x16efd0(0x8bb)][_0x16efd0(0x5f0)](_0x33608e=>this[_0x16efd0(0x9b6)][_0x16efd0(0x9cd)](_0x33608e))),this[_0x16efd0(0x878)][_0x16efd0(0x639)](this[_0x16efd0(0x8bb)][_0x16efd0(0x671)]((_0x5082bc,_0x3a4258)=>this[_0x16efd0(0x848)][_0x16efd0(0x9cd)]({'track':_0x5082bc,'stream':_0x3a4258}))),this['receiverUnsubscribers'][_0x16efd0(0x639)](this['receiverConnection']['onRemoveTrack']((_0x339336,_0x153cc3)=>this['removeTrackListeners'][_0x16efd0(0x9cd)]({'track':_0x339336,'stream':_0x153cc3})));}}class _0x3b6446{[_0x2aff22(0x680)];[_0x2aff22(0x9fa)];[_0x2aff22(0x59f)];[_0x2aff22(0x4de)]=new Map();[_0x2aff22(0x9b6)]=_0x29c93b();[_0x2aff22(0x359)];[_0x2aff22(0xb56)]=new Map();[_0x2aff22(0x219)]=new Map();[_0x2aff22(0x77d)]=new Map();constructor(_0x45ef4f,_0x1da6e5,_0x41f3a0){const _0x55076b=_0x2aff22;this[_0x55076b(0x680)]=_0x45ef4f,this[_0x55076b(0x9fa)]=_0x1da6e5,this[_0x55076b(0x59f)]=_0x41f3a0,this[_0x55076b(0x359)]=this[_0x55076b(0x5f0)](_0x2c8636=>{const _0xd9b866=_0x55076b;this['messageBuffer'][_0xd9b866(0x2ff)](_0x2c8636['uuid'])||(_0x4f2284(_0x2c8636,this[_0xd9b866(0x680)])&&0x0!==_0x2c8636['topicLabel']&&(this[_0xd9b866(0x9fa)]['addMessage'](_0x2c8636['uuid']),this[_0xd9b866(0xb56)]['get'](_0x2c8636[_0xd9b866(0x953)])?.[_0xd9b866(0x9cd)](_0x2c8636)),_0x2c8636['propagate']&&this[_0xd9b866(0xb98)](_0x2c8636));});}[_0x2aff22(0x566)](){const _0x1ba23b=_0x2aff22;this[_0x1ba23b(0x359)]?.();}[_0x2aff22(0x738)](_0x207a7e){const _0x4d01c5=_0x2aff22,_0x39bdc3=_0x207a7e['onMessage'](_0x2bc912=>{const _0x4c797f=a0_0x314b;this[_0x4c797f(0x9b6)][_0x4c797f(0x9cd)](_0x2bc912);});this[_0x4d01c5(0x4de)]['set'](_0x207a7e,_0x39bdc3),this[_0x4d01c5(0x77d)][_0x4d01c5(0x25c)](_0x207a7e[_0x4d01c5(0x47a)](),function(_0x34d109,_0x37d2fd=!0x1){let _0x5ef726=new Map();const _0xb2910b=_0x16fe02(_0x34d109,_0x37d2fd,function(_0x1c8b1b){const _0x3e8592=a0_0x314b;_0x2ba5e8(_0x1c8b1b)&&_0x5ef726[_0x3e8592(0xa6b)](_0x1c8b1b[_0x3e8592(0xb28)]+'-'+(_0x1c8b1b[_0x3e8592(0x6d2)]??[])+'-'+_0x1c8b1b[_0x3e8592(0x652)]+'-'+_0x1c8b1b[_0x3e8592(0xb25)]['type']);},function(_0x57ef1f){return!!function(_0x3cf52f){const _0x304356=a0_0x314b,_0x452ec8=_0x3cf52f[_0x304356(0x435)];if(!_0x2ba5e8(_0x452ec8))return!0x1;const _0x39dc22=_0x452ec8['sourceId']+'-'+(_0x452ec8[_0x304356(0x6d2)]??[])+'-'+_0x452ec8[_0x304356(0x652)]+'-'+_0x452ec8[_0x304356(0xb25)]['type'],_0x29a399={'version':_0x452ec8['content'][_0x304356(0x88e)],'element':_0x3cf52f},_0x2dc9c2=_0x5ef726[_0x304356(0x9de)](_0x39dc22);return _0x2dc9c2?(_0x2dc9c2['version']>=_0x452ec8[_0x304356(0xb25)]['version']||(_0x2dc9c2[_0x304356(0x48c)][_0x304356(0xbb1)]&&(_0x2dc9c2[_0x304356(0x48c)][_0x304356(0xbb1)][_0x304356(0x8e5)]=_0x3cf52f,_0x3cf52f['previous']=_0x2dc9c2['element']['previous']),_0x2dc9c2[_0x304356(0x48c)][_0x304356(0x8e5)]&&(_0x2dc9c2[_0x304356(0x48c)][_0x304356(0x8e5)][_0x304356(0xbb1)]=_0x3cf52f,_0x3cf52f[_0x304356(0x8e5)]=_0x2dc9c2[_0x304356(0x48c)][_0x304356(0x8e5)]),_0x2dc9c2[_0x304356(0x48c)]===_0xb2910b['head']&&(_0xb2910b[_0x304356(0xb1d)]=_0x3cf52f),_0x2dc9c2[_0x304356(0x48c)]===_0xb2910b['tail']&&(_0xb2910b[_0x304356(0xbc8)]=_0x3cf52f),_0x5ef726[_0x304356(0x25c)](_0x39dc22,_0x29a399)),!0x0):(_0x5ef726['set'](_0x39dc22,_0x29a399),!0x1);}(_0x57ef1f);},function(){const _0x6d189d=a0_0x314b;_0x5ef726[_0x6d189d(0x56c)]();});function _0x2ba5e8(_0x36f694){const _0x516d21=a0_0x314b;if(_0x36f694&&'object'==typeof _0x36f694&&_0x36f694[_0x516d21(0xb84)](_0x516d21(0xb25))&&_0x36f694[_0x516d21(0xb84)]('messageType')&&_0x36f694[_0x516d21(0xb84)]('sourceId')){const _0x33ed45=_0x36f694;if(_0x33ed45['content']&&_0x516d21(0x42c)==typeof _0x33ed45[_0x516d21(0xb25)]&&_0x33ed45[_0x516d21(0xb25)]['hasOwnProperty'](_0x516d21(0x88e))&&_0x33ed45[_0x516d21(0xb25)][_0x516d21(0xb84)](_0x516d21(0x751)))return!0x0;}return!0x1;}return _0xb2910b;}(new _0x1c0914(_0x1cd629=>_0x207a7e[_0x4d01c5(0xb98)](_0x1cd629),()=>_0x33cd0c[_0x4d01c5(0x4ad)](0x64))));}[_0x2aff22(0x86e)](_0x186c96){const _0x24424a=_0x2aff22;this[_0x24424a(0x4de)][_0x24424a(0x9de)](_0x186c96)?.(),this[_0x24424a(0x4de)][_0x24424a(0xa6b)](_0x186c96),this[_0x24424a(0x77d)]['get'](_0x186c96[_0x24424a(0x47a)]())?.['clear'](),this['retryQueues'][_0x24424a(0xa6b)](_0x186c96[_0x24424a(0x47a)]());}[_0x2aff22(0x860)](_0x2cfcb7){const _0x1ac91e=_0x2aff22;return _0x11d8aa['log'](_0x23f9d6['ConnectionState'],_0x1ac91e(0x3e5),this['localId'],this[_0x1ac91e(0x4de)]['keys']()),0x0!==this[_0x1ac91e(0x4de)][_0x1ac91e(0x5ab)]&&(Array[_0x1ac91e(0x306)](this['connections']['keys']())['find'](_0x4de483=>_0x4de483[_0x1ac91e(0x47a)]()===_0x2cfcb7)?.['isConnected']()??!0x1);}[_0x2aff22(0x480)](_0x3dd602){const _0x5e6063=_0x2aff22;this[_0x5e6063(0xb56)][_0x5e6063(0x25c)](_0x3dd602['getLabel'](),_0x3dd602);}[_0x2aff22(0x713)](_0x18f92a){const _0xe01698=_0x2aff22;this[_0xe01698(0xb56)][_0xe01698(0xa6b)](_0x18f92a[_0xe01698(0x2e7)]());}[_0x2aff22(0x950)](_0xad2b17){const _0x129e09=_0x2aff22,_0x11b9db=_0xad2b17[_0x129e09(0x4c8)](this[_0x129e09(0xb98)][_0x129e09(0xa38)](this));this[_0x129e09(0x219)][_0x129e09(0x25c)](_0xad2b17[_0x129e09(0x2e7)](),_0x11b9db);}[_0x2aff22(0xb80)](_0x294309){const _0x46bac0=_0x2aff22;this['dataUnsubscribers'][_0x46bac0(0x9de)](_0x294309[_0x46bac0(0x2e7)]())?.(),this[_0x46bac0(0x219)][_0x46bac0(0xa6b)](_0x294309['getLabel']());}['getSupportedContentTypes'](){const _0x35267a=_0x2aff22;return[_0x182c91[_0x35267a(0x1c0)]['Data'],_0x182c91[_0x35267a(0x1c0)][_0x35267a(0xb30)],_0x182c91[_0x35267a(0x1c0)][_0x35267a(0x6bd)],_0x182c91['ContentType'][_0x35267a(0x3e1)],_0x182c91[_0x35267a(0x1c0)][_0x35267a(0x47d)],_0x182c91['ContentType']['VectorDatabase'],_0x182c91[_0x35267a(0x1c0)][_0x35267a(0xb7f)],_0x182c91['ContentType'][_0x35267a(0x92e)]];}['send'](_0x31f0b1){const _0x40e8e4=_0x2aff22;if(!0x1===_0x31f0b1[_0x40e8e4(0x3a4)]){if(_0x31f0b1[_0x40e8e4(0xb83)]||!_0x31f0b1[_0x40e8e4(0x6d2)]||0x1!==_0x31f0b1[_0x40e8e4(0x6d2)]['length'])throw new _0x1a8c20(_0x1a8c20[_0x40e8e4(0x92d)]['ConnectionInvalidDataEvent'],{'message':_0x40e8e4(0x448),'localId':this[_0x40e8e4(0x680)]});if(!this[_0x40e8e4(0x860)](_0x31f0b1[_0x40e8e4(0x6d2)][0x0]))throw new _0x3bacfb(_0x40e8e4(0x2f1));}const _0x1ae8a1=_0x31f0b1['recipients']??[];try{const {filteredDestinationIds:_0x261435,extendedRecipients:_0xd3118}=this[_0x40e8e4(0x657)](_0x31f0b1,_0x1ae8a1);_0x31f0b1[_0x40e8e4(0x6d2)]=_0x261435,_0x31f0b1[_0x40e8e4(0xb94)]=_0xd3118;}catch(_0x561b28){if(_0x561b28 instanceof _0x3bacfb)return void _0x11d8aa[_0x40e8e4(0x6ea)](_0x23f9d6[_0x40e8e4(0x9a1)],_0x40e8e4(0x9fb),_0x40e8e4(0x82d),_0x31f0b1,_0x561b28[_0x40e8e4(0x83d)]);}const _0x316e70=this[_0x40e8e4(0x77f)](_0x31f0b1);this[_0x40e8e4(0x90c)](_0x31f0b1,_0x316e70),_0x31f0b1[_0x40e8e4(0xb83)]=_0x316e70;const _0x17b107=this[_0x40e8e4(0x63d)](_0x31f0b1,_0x1ae8a1);for(const _0x1d5d7c of _0x17b107){const _0x3744d8=this[_0x40e8e4(0x77d)][_0x40e8e4(0x9de)](_0x1d5d7c[_0x40e8e4(0x47a)]());if(!_0x3744d8)throw new _0x1a8c20(_0x1a8c20[_0x40e8e4(0x92d)][_0x40e8e4(0x9e9)],{'message':_0x40e8e4(0x8d8),'localId':this['localId'],'remoteId':_0x1d5d7c[_0x40e8e4(0x47a)](),'data':_0x31f0b1});_0x3744d8[_0x40e8e4(0x639)](_0x31f0b1);}}['getRemoteId'](){return'';}['getLocalId'](){return this['localId'];}[_0x2aff22(0x5f0)](_0x227ff4){const _0x5da6de=_0x2aff22;return this[_0x5da6de(0x9b6)][_0x5da6de(0x4c8)](_0x227ff4);}[_0x2aff22(0x657)](_0x14e5d8,_0x49d477){const _0x5efe9c=_0x2aff22,_0x93ca2b={'filteredDestinationIds':_0x14e5d8[_0x5efe9c(0x6d2)],'extendedRecipients':_0x14e5d8[_0x5efe9c(0xb94)]};if(!_0x14e5d8[_0x5efe9c(0xb83)])return _0x93ca2b;const _0x1296eb=Array[_0x5efe9c(0x306)](this[_0x5efe9c(0x4de)]['keys']())[_0x5efe9c(0xae8)](_0x57cb26=>_0x57cb26[_0x5efe9c(0x742)]()===_0x1afa62[_0x5efe9c(0x562)]||_0x57cb26[_0x5efe9c(0x860)]())[_0x5efe9c(0x8df)](_0x2ad036=>_0x2ad036[_0x5efe9c(0x47a)]());if(_0x1296eb[_0x5efe9c(0x317)]((_0x340e03,_0xdc1a69)=>_0x340e03&&_0x14e5d8[_0x5efe9c(0xb94)]['includes'](_0xdc1a69),!0x0))throw new _0x3bacfb(_0x5efe9c(0x209));if(_0x14e5d8[_0x5efe9c(0x6d2)]){const _0x255962=_0x14e5d8[_0x5efe9c(0x6d2)][_0x5efe9c(0xae8)](_0xe9cc48=>_0xe9cc48!==this[_0x5efe9c(0x680)]&&!_0x14e5d8[_0x5efe9c(0xb94)][_0x5efe9c(0x9bf)](_0xe9cc48));if(0x0===_0x255962[_0x5efe9c(0x482)])throw new _0x3bacfb(_0x5efe9c(0xbb9));_0x93ca2b[_0x5efe9c(0x7c5)]=_0x255962;}return _0x93ca2b['extendedRecipients']=[...new Set([..._0x49d477,..._0x1296eb,this[_0x5efe9c(0x680)]])],_0x93ca2b;}[_0x2aff22(0x90c)](_0x4f5e1e,_0x491c2c=!0x1){const _0x3913a5=_0x2aff22;if(0x0===_0x4f5e1e[_0x3913a5(0x953)]&&!_0xd43764(_0x4f5e1e,this['localId'])&&_0x4f5e1e['propagate']){const _0x59e6a5=_0x584821(_0x4f5e1e,this[_0x3913a5(0x680)]);_0x11d8aa['logRaw'](_0x23f9d6['System'],_0x4f5e1e[_0x3913a5(0xbd2)]+_0x3913a5(0xb15)+_0x491c2c+')\x20'+_0x59e6a5,_0x4f5e1e,_0x491c2c);}}[_0x2aff22(0x77f)](_0x4789bd){const _0x2353ae=_0x2aff22;if(_0x4789bd[_0x2353ae(0x6d2)]&&_0x4789bd['propagate']){const _0x5f0165=Array[_0x2353ae(0x306)](this[_0x2353ae(0x4de)][_0x2353ae(0x780)]())[_0x2353ae(0xae8)](_0x29ad1f=>_0x29ad1f[_0x2353ae(0x742)]()===_0x1afa62[_0x2353ae(0x562)]||_0x29ad1f[_0x2353ae(0x860)]())[_0x2353ae(0x8df)](_0x32c054=>_0x32c054[_0x2353ae(0x47a)]());return!_0x4789bd[_0x2353ae(0x6d2)][_0x2353ae(0x317)]((_0x2677a0,_0x37c083)=>_0x2677a0&&_0x5f0165[_0x2353ae(0x9bf)](_0x37c083),!0x0);}return _0x4789bd[_0x2353ae(0xb83)]??!0x1;}[_0x2aff22(0x63d)](_0x6d9cd0,_0x5179e5){const _0x1d5bf0=_0x2aff22;if(_0x6d9cd0['propagate']&&_0x6d9cd0[_0x1d5bf0(0x6d2)]){const _0xe07d20=Array['from'](this[_0x1d5bf0(0x4de)][_0x1d5bf0(0x780)]())[_0x1d5bf0(0xae8)](_0x496004=>_0x496004[_0x1d5bf0(0x742)]()===_0x1afa62[_0x1d5bf0(0x562)]||_0x496004['isConnected']())['map'](_0xa41a04=>_0xa41a04[_0x1d5bf0(0x47a)]()),_0x6909ed=new Set(),_0xa6f052=_0x6d9cd0[_0x1d5bf0(0xb28)]===this[_0x1d5bf0(0x680)]?0x3:0x1;return _0x6d9cd0[_0x1d5bf0(0x6d2)][_0x1d5bf0(0x663)](_0x1432b4=>{const _0x3a662c=_0x1d5bf0,_0x92aa5f=this[_0x3a662c(0x59f)]['getClosestNodes'](_0xe07d20,_0x1432b4);let _0x1411d0=0x0,_0x17429e=0x0;_0x92aa5f[_0x3a662c(0x663)](_0x393a65=>{const _0x2d5e88=_0x3a662c;if(_0x1411d0>=_0xa6f052)return;const _0x1e7c80=Array[_0x2d5e88(0x306)](this[_0x2d5e88(0x4de)]['keys']())['find'](_0x13e94f=>_0x13e94f[_0x2d5e88(0x47a)]()===_0x393a65);if(_0x1e7c80){if(_0x1e7c80[_0x2d5e88(0x742)]()===_0x1afa62[_0x2d5e88(0x562)]&&_0x17429e>0x0)return void(_0x17429e-=0x1);_0x6909ed[_0x2d5e88(0x62d)](_0x1e7c80),_0x1e7c80['getConnectionType']()===_0x1afa62[_0x2d5e88(0x9ba)]&&(_0x17429e+=0x1),_0x1411d0+=0x1;}});}),Array[_0x1d5bf0(0x306)](_0x6909ed);}return Array[_0x1d5bf0(0x306)](this[_0x1d5bf0(0x4de)]['keys']())['filter'](_0x1a1136=>{const _0x2e1c6b=_0x1d5bf0;return _0x485fa1=_0x1a1136[_0x2e1c6b(0x47a)](),!_0x5179e5[_0x2e1c6b(0x9bf)](_0x485fa1)&&(_0x4f2284(_0x6d9cd0,_0x485fa1)||_0x6d9cd0[_0x2e1c6b(0xb83)])&&(!_0x6d9cd0[_0x2e1c6b(0xb83)]||_0x1a1136[_0x2e1c6b(0x860)]()||_0x1a1136[_0x2e1c6b(0x742)]()===_0x1afa62[_0x2e1c6b(0x562)]);var _0x485fa1;});}}class _0x3af3ce{[_0x2aff22(0x680)];['messageBuffer'];[_0x2aff22(0x4de)]=new Map();[_0x2aff22(0x7ef)];constructor(_0x1f96a9,_0x292ed9){const _0x39d0bd=_0x2aff22;this['localId']=_0x1f96a9,this[_0x39d0bd(0x9fa)]=_0x292ed9;}[_0x2aff22(0x566)](){}[_0x2aff22(0xb98)](_0x173b3e){const _0x4faf98=_0x2aff22;for(const _0x3cff67 of this[_0x4faf98(0x4de)][_0x4faf98(0x780)]())try{return void _0x3cff67[_0x4faf98(0xb98)]({'retry':!0x1,..._0x173b3e});}catch(_0x450efa){_0x450efa instanceof _0x3bacfb||_0x11d8aa[_0x4faf98(0x6ea)](_0x23f9d6[_0x4faf98(0x330)],'send\x20error\x20on\x20'+_0x3cff67,_0x450efa,_0x173b3e);}_0x11d8aa[_0x4faf98(0x6ea)](_0x23f9d6[_0x4faf98(0x330)],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x3e38a5){const _0x582dec=_0x2aff22,_0x38beb7=_0x3e38a5[_0x582dec(0x5f0)](_0x3bcae2=>{const _0x1074d9=_0x582dec;this[_0x1074d9(0x9fa)][_0x1074d9(0x2ff)](_0x3bcae2[_0x1074d9(0xbd2)])||0x0===_0x3bcae2['topicLabel']&&(this[_0x1074d9(0x9fa)]['addMessage'](_0x3bcae2[_0x1074d9(0xbd2)]),_0x4f2284(_0x3bcae2,this[_0x1074d9(0x680)])&&this[_0x1074d9(0x7ef)]?.[_0x1074d9(0x9cd)](_0x3bcae2));});this[_0x582dec(0x4de)]['set'](_0x3e38a5,_0x38beb7);}['removeConnection'](_0x483557){const _0x4577a1=_0x2aff22;this[_0x4577a1(0x4de)][_0x4577a1(0x9de)](_0x483557)?.(),this[_0x4577a1(0x4de)]['delete'](_0x483557);}[_0x2aff22(0x5ee)](){const _0x5b9733=_0x2aff22;return this[_0x5b9733(0x680)];}[_0x2aff22(0x47a)](){return'';}[_0x2aff22(0x774)](){const _0x12628b=_0x2aff22;return[_0x182c91[_0x12628b(0x1c0)][_0x12628b(0x517)]];}[_0x2aff22(0x860)](){throw new Error('Method\x20not\x20implemented.');}[_0x2aff22(0x390)](_0x31747d){this['systemTopic']=_0x31747d;}['unregisterSystemPublisher'](){const _0x537ef5=_0x2aff22;delete this[_0x537ef5(0x7ef)];}}class _0x6be7ba{[_0x2aff22(0x393)]=new Map();[_0x2aff22(0x4b2)];constructor(){const _0x5dabcf=_0x2aff22;this['unsubscribeHandler']=_0x33cd0c[_0x5dabcf(0xb09)](()=>{const _0x1bbde8=_0x5dabcf;for(const [_0x121b8b,_0x34c63b]of this[_0x1bbde8(0x393)][_0x1bbde8(0x437)]())Date[_0x1bbde8(0x75c)]()-_0x34c63b>0x124f80&&this['buffer'][_0x1bbde8(0xa6b)](_0x121b8b);},0x1d4c0);}[_0x2aff22(0x566)](){this['unsubscribeHandler']();}[_0x2aff22(0x627)](_0x218e92){const _0x1ce4c5=_0x2aff22;this[_0x1ce4c5(0x393)][_0x1ce4c5(0x25c)](_0x218e92,Date[_0x1ce4c5(0x75c)]());}[_0x2aff22(0x2ff)](_0x5e4b8e){const _0x1da27d=_0x2aff22;return this['buffer'][_0x1da27d(0x938)](_0x5e4b8e);}}class _0x17af38{['configs'];[_0x2aff22(0x870)];['iceServers'];[_0x2aff22(0x81a)];[_0x2aff22(0x4de)]=new Map();[_0x2aff22(0x2a3)];['connectionGroup'];[_0x2aff22(0x39e)];['messageBuffer'];constructor(_0xd5ba86,_0x20e0e0,_0x1684b3,_0x43c6c7,_0x1222f2){const _0x3d79e4=_0x2aff22;this[_0x3d79e4(0x6cb)]=_0xd5ba86,this[_0x3d79e4(0x870)]=_0x20e0e0,this[_0x3d79e4(0x5dc)]=_0x43c6c7,this[_0x3d79e4(0x81a)]=_0x1222f2,this['messageBuffer']=new _0x6be7ba(),this['connectionGroup']=new _0x3b6446(this[_0x3d79e4(0x6cb)][_0x3d79e4(0x20e)][_0x3d79e4(0x781)](),this[_0x3d79e4(0x9fa)],_0x1684b3),this[_0x3d79e4(0x39e)]=new _0x459bca(this[_0x3d79e4(0x6cb)]['vendorId'],this[_0x3d79e4(0x6cb)][_0x3d79e4(0x3d0)],this[_0x3d79e4(0x6cb)][_0x3d79e4(0x20e)],'server',this[_0x3d79e4(0x870)]),this['connectionPool']=new _0x3af3ce(this['configs'][_0x3d79e4(0x20e)][_0x3d79e4(0x781)](),this[_0x3d79e4(0x9fa)]),this['connectionPool'][_0x3d79e4(0x738)](this[_0x3d79e4(0xbf1)]),this[_0x3d79e4(0x2a3)][_0x3d79e4(0x738)](this[_0x3d79e4(0x39e)]),this['configs'][_0x3d79e4(0x55b)][_0x3d79e4(0xbd4)](this[_0x3d79e4(0x2a3)]);}['close'](){const _0x530e38=_0x2aff22;this[_0x530e38(0x9fa)][_0x530e38(0x566)](),this[_0x530e38(0x4de)]['forEach']((_0x1dc2b1,_0x190cbd)=>this[_0x530e38(0x58c)](_0x190cbd)),this[_0x530e38(0x6cb)][_0x530e38(0x55b)]['unregisterSystemSource'](this['connectionPool']),this['connectionPool']['removeConnection'](this[_0x530e38(0x39e)]),this[_0x530e38(0x2a3)][_0x530e38(0x86e)](this[_0x530e38(0xbf1)]),this[_0x530e38(0x2a3)][_0x530e38(0x566)](),this[_0x530e38(0x39e)][_0x530e38(0x566)](),this['connectionGroup'][_0x530e38(0x566)]();}async[_0x2aff22(0xab3)](){const _0x4fc7d5=_0x2aff22;await this['signalingServer'][_0x4fc7d5(0x835)]();}async[_0x2aff22(0x9fc)](_0xf31c80,_0x4ca3ee=_0x1afa62[_0x2aff22(0x562)]){const _0x3da59c=_0x2aff22;if(this['connections'][_0x3da59c(0x938)](_0xf31c80)){if(this[_0x3da59c(0x4de)]['get'](_0xf31c80)?.[_0x3da59c(0x742)]()===_0x1afa62[_0x3da59c(0x9ba)]&&_0x4ca3ee===_0x1afa62['Core'])return void this[_0x3da59c(0x4de)][_0x3da59c(0x9de)](_0xf31c80)?.['setConnectionType'](_0x1afa62['Core']);throw new _0x1a8c20(_0x1a8c20[_0x3da59c(0x92d)][_0x3da59c(0x92b)],{'localId':this[_0x3da59c(0x6cb)][_0x3da59c(0x20e)][_0x3da59c(0x781)](),'remoteId':_0xf31c80});}const _0x4dc7a6=new _0x4c1c6f(this['configs'][_0x3da59c(0x3d0)],this[_0x3da59c(0x6cb)][_0x3da59c(0x20e)],_0xf31c80,this[_0x3da59c(0x5dc)],_0x4ca3ee,this['options'][_0x3da59c(0x241)],this[_0x3da59c(0x81a)]['maxBpp'],this[_0x3da59c(0x81a)][_0x3da59c(0x721)]);this[_0x3da59c(0x4de)][_0x3da59c(0x25c)](_0xf31c80,_0x4dc7a6),this['connectionGroup']['addConnection'](_0x4dc7a6),this[_0x3da59c(0x6cb)][_0x3da59c(0x55b)][_0x3da59c(0xbd4)](_0x4dc7a6),this[_0x3da59c(0x6cb)]['mediator'][_0x3da59c(0x8ff)](_0xf31c80),await _0x4dc7a6[_0x3da59c(0x835)]();}[_0x2aff22(0x1aa)](){const _0x59a676=_0x2aff22;return this[_0x59a676(0xbf1)];}['getConnection'](_0x583674){const _0x1053b7=_0x2aff22;if(!this[_0x1053b7(0x4de)][_0x1053b7(0x938)](_0x583674))throw new _0x1a8c20(_0x1a8c20[_0x1053b7(0x92d)][_0x1053b7(0x705)],{'localId':this[_0x1053b7(0x6cb)][_0x1053b7(0x20e)][_0x1053b7(0x781)](),'remoteId':_0x583674});return this[_0x1053b7(0x4de)][_0x1053b7(0x9de)](_0x583674);}[_0x2aff22(0xa26)](_0xcc77ba){const _0x4ca5da=_0x2aff22,_0x329de2=Array[_0x4ca5da(0x306)](this[_0x4ca5da(0x4de)][_0x4ca5da(0xa12)]());return _0xcc77ba?_0x329de2[_0x4ca5da(0xae8)](_0xcc77ba):_0x329de2;}async[_0x2aff22(0x722)](_0x1337e7){const _0x261a87=_0x2aff22,_0x115bb8=this[_0x261a87(0x4de)][_0x261a87(0x9de)](_0x1337e7);_0x115bb8&&_0x115bb8[_0x261a87(0x860)]()&&await _0x115bb8[_0x261a87(0x722)]();}['handleOutgoingSystemEvents'](_0x199b19){const _0x4cd255=_0x2aff22;if(_0x199b19[_0x4cd255(0x652)]!==_0x3048e8[_0x4cd255(0xa97)]||_0x199b19[_0x4cd255(0xb83)])try{this[_0x4cd255(0xbf1)][_0x4cd255(0xb98)](_0x199b19);}catch(_0x5531b4){if(_0x5531b4 instanceof _0x3bacfb)return;throw _0x5531b4;}else this['connectionPool'][_0x4cd255(0xb98)](_0x199b19);}async[_0x2aff22(0x575)](_0x1b7edb){const _0x2a78c7=_0x2aff22;switch(_0x1b7edb[_0x2a78c7(0xb25)]['type']){case _0x1ad51b[_0x2a78c7(0x9d1)]:case _0x1ad51b['Stats']:case _0x1ad51b['OptimizationConnectionSuccess']:return;}if(!_0x1b7edb[_0x2a78c7(0x6d2)]||0x1!==_0x1b7edb[_0x2a78c7(0x6d2)][_0x2a78c7(0x482)])throw new _0x1a8c20(_0x1a8c20[_0x2a78c7(0x92d)][_0x2a78c7(0x995)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x1b7edb});if(_0x1b7edb['destinationIds'][0x0]!==this[_0x2a78c7(0x6cb)][_0x2a78c7(0x20e)][_0x2a78c7(0x781)]())throw new _0x1a8c20(_0x1a8c20[_0x2a78c7(0x92d)]['PeerConnectionInvalidDestination'],{'message':_0x2a78c7(0x57d),'event':_0x1b7edb});if(!this[_0x2a78c7(0x4de)][_0x2a78c7(0x938)](_0x1b7edb['sourceId'])){let _0x5e8f3d=_0x1afa62[_0x2a78c7(0x562)];if(!(this[_0x2a78c7(0xb4e)](_0x1b7edb[_0x2a78c7(0xb25)])||this['isIceCandidate'](_0x1b7edb['content'])||this[_0x2a78c7(0x6e0)](_0x1b7edb['content'])))return;_0x5e8f3d=_0x1b7edb[_0x2a78c7(0xb25)]['connectionType'],await this['createConnection'](_0x1b7edb[_0x2a78c7(0xb28)],_0x5e8f3d);}const _0x461ae9=this[_0x2a78c7(0x4de)]['get'](_0x1b7edb['sourceId']);await _0x461ae9[_0x2a78c7(0x575)](_0x1b7edb);}[_0x2aff22(0x6ae)](_0x4dac42){const _0x432468=_0x2aff22;if(_0x4dac42[_0x432468(0xb25)]['type']===_0x2506db[_0x432468(0x739)]){if(_0x4dac42[_0x432468(0xb25)]['targetId']===this['configs'][_0x432468(0x20e)][_0x432468(0x781)]())return void this['connections']['forEach'](_0x5b229a=>_0x5b229a[_0x432468(0x6ae)](_0x4dac42));this[_0x432468(0x4de)][_0x432468(0x9de)](_0x4dac42[_0x432468(0xb25)][_0x432468(0x9ec)])?.['handleRemediationSystemEvents'](_0x4dac42);}}[_0x2aff22(0x3a9)]({content:_0x2b6492}){const _0x149ce5=_0x2aff22;_0x2b6492[_0x149ce5(0x751)]===_0x815418[_0x149ce5(0x58a)]&&this[_0x149ce5(0x58c)](_0x2b6492['id']);}['waitForArrayBufferSize'](){const _0x43be30=_0x2aff22,_0xc98d29=Array['from'](this[_0x43be30(0x4de)][_0x43be30(0xa12)]())[_0x43be30(0x317)]((_0x3b8ac4,_0x50f73a)=>_0x3b8ac4+_0x50f73a[_0x43be30(0x703)](),0x0);return _0xc98d29<_0x36577f?Promise['resolve'](_0xc98d29):new Promise(_0x25b860=>{const _0x24907c=setInterval(()=>{const _0x1adbdd=a0_0x314b,_0x4c84e9=Array[_0x1adbdd(0x306)](this['connections'][_0x1adbdd(0xa12)]())[_0x1adbdd(0x317)]((_0xaee6d8,_0x54aec5)=>_0xaee6d8+_0x54aec5[_0x1adbdd(0x703)](),0x0);_0x4c84e9<_0x36577f&&(clearInterval(_0x24907c),_0x25b860(_0x4c84e9));},0x3e8);});}[_0x2aff22(0xab6)](){const _0x2a1d2c=_0x2aff22;for(const _0x454615 of this[_0x2a1d2c(0x4de)][_0x2a1d2c(0xa12)]())if(_0x454615[_0x2a1d2c(0x49d)]()>0x0||_0x454615['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x2aff22(0x58c)](_0x4552ef){const _0x3ace21=_0x2aff22,_0x2cfb82=this[_0x3ace21(0x4de)]['get'](_0x4552ef);_0x2cfb82&&(this['configs'][_0x3ace21(0x55b)]['unregisterRemoteNode'](_0x4552ef),this[_0x3ace21(0x6cb)][_0x3ace21(0x55b)][_0x3ace21(0x633)](_0x2cfb82),_0x2cfb82 instanceof _0x4c1c6f&&this['connectionGroup']['removeConnection'](_0x2cfb82),_0x2cfb82['close'](),this['connections'][_0x3ace21(0xa6b)](_0x4552ef));}[_0x2aff22(0xb4e)](_0x4df052){const _0x49c37b=_0x2aff22;return _0x4df052[_0x49c37b(0x751)]===_0x1ad51b[_0x49c37b(0x88b)];}[_0x2aff22(0x6e0)](_0x37cd10){const _0x493066=_0x2aff22;return _0x37cd10[_0x493066(0x751)]===_0x1ad51b[_0x493066(0x940)];}[_0x2aff22(0x8d3)](_0x52799b){const _0x498dd3=_0x2aff22;return _0x52799b[_0x498dd3(0x751)]===_0x1ad51b[_0x498dd3(0x514)];}}!function(_0x4843f2){const _0x4d43b4=_0x2aff22;_0x4843f2[_0x4843f2['SubscribeMediaStream']=0x0]=_0x4d43b4(0x918),_0x4843f2[_0x4843f2[_0x4d43b4(0x8c5)]=0x1]=_0x4d43b4(0x8c5),_0x4843f2[_0x4843f2[_0x4d43b4(0xa58)]=0x2]=_0x4d43b4(0xa58),_0x4843f2[_0x4843f2[_0x4d43b4(0x203)]=0x3]=_0x4d43b4(0x203),_0x4843f2[_0x4843f2[_0x4d43b4(0x1d8)]=0x4]=_0x4d43b4(0x1d8),_0x4843f2[_0x4843f2[_0x4d43b4(0x799)]=0x5]=_0x4d43b4(0x799),_0x4843f2[_0x4843f2[_0x4d43b4(0x45e)]=0x6]=_0x4d43b4(0x45e),_0x4843f2[_0x4843f2[_0x4d43b4(0x394)]=0x7]=_0x4d43b4(0x394);}(_0x308139||(_0x308139={}));class _0x2edb4c extends _0x4ba250{[_0x2aff22(0x20e)];[_0x2aff22(0x3d0)];[_0x2aff22(0x97c)];[_0x2aff22(0x8c3)];['debounceStats'];['reads']=0x0;['connector'];['eventListener']=_0x29c93b();[_0x2aff22(0x226)]=new Map();[_0x2aff22(0x67a)];constructor(_0x13f2a5,_0x1d46e3,_0x3808ec,_0x149c89,_0x44c1e0){const _0x7f6ea9=_0x2aff22;if(_0x7f6ea9(0xb85)!=typeof _0x1d46e3)throw new _0x447098(_0x35722f[_0x7f6ea9(0x9e7)],_0x7f6ea9(0x5e7));super(_0x13f2a5,_0x1d46e3),this[_0x7f6ea9(0x20e)]=_0x13f2a5,this[_0x7f6ea9(0x3d0)]=_0x3808ec,this['vendorId']=_0x149c89,this['connectorConstructor']=_0x44c1e0,this[_0x7f6ea9(0x6c9)]();}[_0x2aff22(0xb97)](){const _0x118987=_0x2aff22;this['changesUnsubscriber']?.(),this['listenerUnsubscribers']['forEach'](_0x5a7a11=>_0x5a7a11()),clearTimeout(this[_0x118987(0x28b)]),delete this[_0x118987(0x28b)],super[_0x118987(0xb97)]();}[_0x2aff22(0x8a2)](){const _0x3671f5=_0x2aff22;this[_0x3671f5(0x6c9)]();}[_0x2aff22(0x566)](){const _0x1a504f=_0x2aff22;this[_0x1a504f(0x7ef)][_0x1a504f(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x1a504f(0x41a)],'content':{'type':_0x4f0180[_0x1a504f(0x4e4)],'label':this['label']}});}['getContentType'](){const _0x5244e9=_0x2aff22;return _0x182c91[_0x5244e9(0x1c0)][_0x5244e9(0x92e)];}async[_0x2aff22(0x9de)](_0x5dd768){const _0x2a41dd=_0x2aff22;if(!this[_0x2a41dd(0x7a1)])throw new _0x447098(_0x35722f['ExternalStorageConnectorsMissing'],_0x2a41dd(0x410));_0x11d8aa[_0x2a41dd(0x3dc)](_0x1bf76d[_0x2a41dd(0x92e)],{'type':'get','label':this['label'],'nodeId':this['localNode'][_0x2a41dd(0x781)](),'nodeType':this[_0x2a41dd(0x20e)][_0x2a41dd(0x751)],'clusterId':this['clusterId'],'path':_0x5dd768}),this[_0x2a41dd(0xa81)]+=0x1,this[_0x2a41dd(0x6c9)]();try{return await this['connector'][_0x2a41dd(0x9de)](_0x5dd768);}catch(_0x1274d6){throw new _0x447098(_0x35722f[_0x2a41dd(0x34a)],_0x2a41dd(0x1ee)+_0x5dd768);}}async[_0x2aff22(0x5c1)](_0x44b66d,_0x27b4ba){const _0x1f77a3=_0x2aff22;if(!this[_0x1f77a3(0x7a1)])throw new _0x447098(_0x35722f[_0x1f77a3(0xac7)],_0x1f77a3(0x962));const {recursive:_0x1f2045=!0x1}=_0x27b4ba??{};_0x11d8aa[_0x1f77a3(0x3dc)](_0x1bf76d[_0x1f77a3(0x92e)],{'type':_0x1f77a3(0x5c1),'label':this[_0x1f77a3(0x4ea)],'nodeId':this[_0x1f77a3(0x20e)][_0x1f77a3(0x781)](),'nodeType':this[_0x1f77a3(0x20e)][_0x1f77a3(0x751)],'clusterId':this[_0x1f77a3(0x3d0)],'path':_0x44b66d}),this[_0x1f77a3(0xa81)]+=0x1,this[_0x1f77a3(0x6c9)]();try{return await this[_0x1f77a3(0x7a1)][_0x1f77a3(0x5c1)](_0x44b66d,_0x1f2045);}catch(_0x3718e7){throw new _0x447098(_0x35722f[_0x1f77a3(0x34a)],_0x1f77a3(0x1ec)+_0x44b66d);}}['subscribe'](_0x1bcc20,_0x53b1f8){const _0x16e87d=_0x2aff22;if(this[_0x16e87d(0x226)][_0x16e87d(0x938)](_0x1bcc20))throw new _0x447098(_0x35722f[_0x16e87d(0x67c)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x16e87d(0x226)][_0x16e87d(0x25c)](_0x1bcc20,this[_0x16e87d(0xbd6)]['subscribe'](_0x53b1f8));}['unsubscribe'](_0xbcae6f){const _0x301af4=_0x2aff22;this['listenerUnsubscribers'][_0x301af4(0x9de)](_0xbcae6f)?.(),this[_0x301af4(0x226)][_0x301af4(0xa6b)](_0xbcae6f);}async[_0x2aff22(0x3f1)](){const _0x44a7fa=_0x2aff22,_0xfc5189=(await(0x0,_0x181a71[_0x44a7fa(0x9b8)])((0x0,_0x181a71['doc'])(_0x4d81d6[_0x44a7fa(0x67b)](),_0x44a7fa(0x4ff)+this[_0x44a7fa(0x97c)]+_0x44a7fa(0x7b3)+this[_0x44a7fa(0x4ea)])))[_0x44a7fa(0x8e6)]();if(!_0xfc5189)throw new _0x447098(_0x35722f[_0x44a7fa(0x418)],_0x44a7fa(0x74e)+this[_0x44a7fa(0x4ea)]);const {site:_0x40cdfa,drive:_0x4d72c5}=_0xfc5189,_0x6f3132=(await(0x0,_0x485eb0[_0x44a7fa(0x607)])(_0x4d81d6[_0x44a7fa(0x945)](),_0x44a7fa(0x7ea))({'storageId':this[_0x44a7fa(0x4ea)]}))['data'][_0x44a7fa(0xb9a)];this[_0x44a7fa(0x7a1)]=new this['connectorConstructor'](_0x40cdfa['id'],_0x4d72c5['id'],_0x6f3132,async()=>(await(0x0,_0x485eb0['httpsCallable'])(_0x4d81d6[_0x44a7fa(0x945)](),_0x44a7fa(0xa72))({'storageId':this[_0x44a7fa(0x4ea)]}))[_0x44a7fa(0x8e6)][_0x44a7fa(0xb9a)]),this['trackChanges']();}[_0x2aff22(0x6c9)](){const _0x5be848=_0x2aff22;this[_0x5be848(0x28b)]&&clearTimeout(this[_0x5be848(0x28b)]),this['debounceStats']=setTimeout(async()=>{const _0x902c09=_0x5be848;delete this[_0x902c09(0x28b)],this[_0x902c09(0x7ef)][_0x902c09(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x902c09(0x41a)],'content':{'type':_0x4f0180[_0x902c09(0x75a)],'label':this[_0x902c09(0x4ea)],'stats':{'timestamp':Date[_0x902c09(0x75c)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x59531c);}async['trackChanges'](){const _0x50d0ca=_0x2aff22;await this['connector']?.[_0x50d0ca(0x303)](),this['changesUnsubscriber']=_0x33cd0c[_0x50d0ca(0xb09)](async()=>{const _0x4ebf74=_0x50d0ca;try{if(!this['connector'])return;const _0x5d2a7d=await this[_0x4ebf74(0x7a1)]['listChanges']();for(const _0x4edb6a of _0x5d2a7d)this['eventListener'][_0x4ebf74(0x9cd)](_0x4edb6a);}catch(_0x41b42e){}},0x493e0);}}const _0x13368a=require('rxjs');class _0x900388 extends _0x4ba250{[_0x2aff22(0x59f)];['jobs']=new Map();[_0x2aff22(0x2a4)]=new Map();['jobBids']=new Map();[_0x2aff22(0x4b2)];constructor(_0x2343c8,_0x4817e8,_0xbec313){super(_0x2343c8,_0x4817e8),this['graphService']=_0xbec313;}['getContentType'](){const _0x2c0cb9=_0x2aff22;return _0x182c91[_0x2c0cb9(0x1c0)][_0x2c0cb9(0x47d)];}[_0x2aff22(0x3f1)](){const _0x2a5ec6=_0x2aff22;this[_0x2a5ec6(0x4b2)]=this[_0x2a5ec6(0x5f0)]((_0x2aa95d,_0x565fcf)=>{const _0x208fec=_0x2a5ec6;if(_0x11d8aa['log'](_0x23f9d6['Jobs'],_0x208fec(0x308),_0x2aa95d,_0x565fcf,this[_0x208fec(0x59f)]['getRemoteNodes']()),!(_0x565fcf instanceof File)){if(!_0x565fcf)throw new _0x1a8c20(_0x1a8c20[_0x208fec(0x92d)][_0x208fec(0x60a)]);return this['isBidResponse'](_0x565fcf)?this[_0x208fec(0x220)](_0x2aa95d,_0x565fcf['id'],_0x565fcf):this[_0x208fec(0xaca)](_0x565fcf)?(_0x11d8aa[_0x208fec(0x6ea)](_0x23f9d6['Jobs'],'Job\x20'+_0x565fcf['id']+'\x20received\x20partial\x20result:',_0x565fcf[_0x208fec(0x76c)]),void this[_0x208fec(0x8fb)](_0x565fcf['id'],_0x565fcf)):this['isResultResponse'](_0x565fcf)?(_0x11d8aa[_0x208fec(0x6ea)](_0x23f9d6[_0x208fec(0xb53)],_0x208fec(0x5c6)+_0x565fcf['id']+_0x208fec(0xbd9),_0x565fcf['result']),void this[_0x208fec(0x54a)](_0x565fcf['id'],_0x565fcf)):void(this['isFailedResponse'](_0x565fcf)&&this[_0x208fec(0x6df)](_0x565fcf['id'],_0x565fcf['message']));}});}['reset'](){const _0x2f9122=_0x2aff22;this[_0x2f9122(0x56c)](),this[_0x2f9122(0x3f1)]();}[_0x2aff22(0xb97)](){const _0x10cdc8=_0x2aff22;this[_0x10cdc8(0x56c)](),super[_0x10cdc8(0xb97)]();}[_0x2aff22(0x56c)](){const _0x3e051b=_0x2aff22;this[_0x3e051b(0x233)][_0x3e051b(0x56c)](),this['unsubscribeHandler']&&this[_0x3e051b(0x4b2)]();}[_0x2aff22(0x566)](){const _0x470560=_0x2aff22;this['systemTopic']?.[_0x470560(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x470560(0x41a)],'content':{'type':_0x4f0180[_0x470560(0x4bc)],'label':this[_0x470560(0x4ea)]}});}async[_0x2aff22(0x2e0)](_0x4e0887){const _0x52fd11=_0x2aff22,{id:_0x46b5c8,parameters:_0x40f23b,jobType:_0x30cff}=_0x4e0887,_0xb37de6={'id':_0x46b5c8,'jobType':_0x30cff,'parameters':_0x40f23b,'status':_0x182c91[_0x52fd11(0xa76)]['Pending'],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x52fd11(0x938)](_0xb37de6['id']))throw new _0x447098(_0x35722f[_0x52fd11(0x253)],_0x52fd11(0x2a0)+_0xb37de6['id']+_0x52fd11(0xb7d));_0xb37de6[_0x52fd11(0xbe0)]=new Date(),_0xb37de6[_0x52fd11(0xa0d)]=new Date();const _0x8d48ca=new _0x13368a[(_0x52fd11(0x61f))]();this['jobs']['set'](_0xb37de6['id'],_0xb37de6),this[_0x52fd11(0x2a4)]['set'](_0xb37de6['id'],_0x8d48ca);try{const _0x3ca5ab={'id':_0xb37de6['id'],'jobPhase':_0x4244a1[_0x52fd11(0x213)],'jobType':_0xb37de6[_0x52fd11(0x230)]},_0x3769bb=0x3;let _0x333846=0x0;const _0x3eae08=async()=>{const _0x4ebae2=_0x52fd11;_0x333846+=0x1;try{_0x11d8aa[_0x4ebae2(0x6ea)](_0x23f9d6[_0x4ebae2(0xb53)],_0x4ebae2(0x5c6)+_0xb37de6['id']+_0x4ebae2(0x8af)+_0x333846+'.',this[_0x4ebae2(0x59f)][_0x4ebae2(0xbb6)]()),await this[_0x4ebae2(0xb98)](_0x3ca5ab),_0xb37de6[_0x4ebae2(0xa0d)]=new Date(),this['jobs'][_0x4ebae2(0x25c)](_0xb37de6['id'],_0xb37de6),this['startBidResponseHandling'](_0xb37de6['id']);}catch(_0x3860ff){_0x333846<_0x3769bb?(_0x11d8aa[_0x4ebae2(0x25e)]('Attempt\x20'+_0x333846+_0x4ebae2(0x39f)+_0xb37de6['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x4ebae2(0x43f)]['getId'](),'nodeType':this[_0x4ebae2(0x43f)][_0x4ebae2(0x751)],'data':{'job':_0xb37de6,'attempts':_0x333846,'maxRetries':_0x3769bb}}),setTimeout(_0x3eae08,0x3e8)):(_0xb37de6[_0x4ebae2(0x341)]=_0x182c91['JobStatus'][_0x4ebae2(0x8ee)],_0xb37de6[_0x4ebae2(0xa0d)]=new Date(),this['jobs'][_0x4ebae2(0x25c)](_0xb37de6['id'],_0xb37de6),_0x11d8aa[_0x4ebae2(0x730)](_0x4ebae2(0x583)+_0xb37de6['id']+'\x20after\x20'+_0x3769bb+_0x4ebae2(0x9ef),{'nodeId':this[_0x4ebae2(0x43f)][_0x4ebae2(0x781)](),'nodeType':this[_0x4ebae2(0x43f)][_0x4ebae2(0x751)],'data':{'job':_0xb37de6,'attempts':_0x333846,'maxRetries':_0x3769bb,'error':_0x3860ff}}));}};_0x3eae08();const {id:_0x5cf4f3}=_0xb37de6;this[_0x52fd11(0x343)]('Job\x20'+_0xb37de6['id']+_0x52fd11(0x789),{'jobId':_0x5cf4f3}),_0xb37de6['updated']=new Date();}catch(_0x3bac0d){_0xb37de6['status']=_0x182c91['JobStatus'][_0x52fd11(0x8ee)],_0x11d8aa['error'](_0x52fd11(0x583)+_0xb37de6['id']+':',{'nodeId':this[_0x52fd11(0x43f)][_0x52fd11(0x781)](),'nodeType':this[_0x52fd11(0x43f)][_0x52fd11(0x751)],'data':{'job':_0xb37de6,'error':_0x3bac0d}});}return _0x8d48ca[_0x52fd11(0x5bc)]();}['getJob'](_0x238f66){const _0x7886e4=_0x2aff22,_0x2a6cc2=this[_0x7886e4(0x233)][_0x7886e4(0x9de)](_0x238f66);if(!_0x2a6cc2)throw new _0x447098(_0x35722f[_0x7886e4(0xb12)],_0x7886e4(0x2a0)+_0x238f66+_0x7886e4(0x622));return{'id':_0x2a6cc2['id'],'jobType':_0x2a6cc2[_0x7886e4(0x230)],'status':_0x2a6cc2[_0x7886e4(0x341)],'parameters':_0x2a6cc2[_0x7886e4(0xa27)]};}[_0x2aff22(0x305)](){const _0x29d663=_0x2aff22;return Array[_0x29d663(0x306)](this['jobs'][_0x29d663(0xa12)]())[_0x29d663(0x8df)](_0x315261=>this[_0x29d663(0x6b9)](_0x315261['id']));}async[_0x2aff22(0x225)](_0x7fbe33,_0xfbab86){const _0x17edc7=_0x2aff22,_0x477944=this[_0x17edc7(0x233)][_0x17edc7(0x9de)](_0x7fbe33);if(!_0x477944)throw new _0x447098(_0x35722f['JobDispatcherJobNotFound'],_0x17edc7(0x2a0)+_0x7fbe33+_0x17edc7(0x622));_0x477944[_0x17edc7(0xa27)]=_0xfbab86,_0x477944[_0x17edc7(0xa0d)]=new Date(),this[_0x17edc7(0x233)]['set'](_0x7fbe33,_0x477944);}async['deleteJob'](_0x10274a){const _0x5bd8d1=_0x2aff22;if(!this[_0x5bd8d1(0x233)]['delete'](_0x10274a))throw new _0x447098(_0x35722f[_0x5bd8d1(0xb12)],_0x5bd8d1(0x2a0)+_0x10274a+_0x5bd8d1(0x622));const _0x3114af=this[_0x5bd8d1(0x2a4)][_0x5bd8d1(0x9de)](_0x10274a);if(!_0x3114af)throw new _0x1a8c20(_0x1a8c20['codes'][_0x5bd8d1(0x48e)]);_0x3114af[_0x5bd8d1(0xad4)](),this[_0x5bd8d1(0x2a4)][_0x5bd8d1(0xa6b)](_0x10274a),_0x11d8aa['log'](_0x23f9d6['Jobs'],_0x5bd8d1(0x5c6)+_0x10274a+_0x5bd8d1(0x645));}[_0x2aff22(0x220)](_0x206e41,_0x59ece4,_0x4d41ef){const _0x54ba62=_0x2aff22,_0x52c185=this[_0x54ba62(0x65a)]['get'](_0x59ece4)??new Map();_0x52c185['set'](_0x206e41,[_0x4d41ef,Date[_0x54ba62(0x75c)]()]),this['jobBids'][_0x54ba62(0x25c)](_0x59ece4,_0x52c185),this['evaluateBidsAndAttributeJob'](_0x59ece4);}[_0x2aff22(0x328)](_0x31e90e){const _0x3a9cb5=_0x2aff22,_0xc1d84f=this['jobs']['get'](_0x31e90e);if(!_0xc1d84f)throw new _0x1a8c20(_0x1a8c20['codes'][_0x3a9cb5(0xb12)]);const _0x907cfd=setTimeout(()=>this[_0x3a9cb5(0x6c6)](_0x31e90e,!0x0),0xbb8);_0xc1d84f[_0x3a9cb5(0x587)]=_0x907cfd,this[_0x3a9cb5(0x233)][_0x3a9cb5(0x25c)](_0xc1d84f['id'],_0xc1d84f);}[_0x2aff22(0x6c6)](_0x145d9a,_0x1760c0=!0x1){const _0x3af93e=_0x2aff22,_0x5a64a1=this[_0x3af93e(0x59f)][_0x3af93e(0xbb6)](),_0x5001b1=Array[_0x3af93e(0x306)](_0x5a64a1[_0x3af93e(0xa12)]())[_0x3af93e(0xae8)](_0x254a66=>_0x254a66[_0x3af93e(0x751)]===_0x182c91[_0x3af93e(0x764)][_0x3af93e(0x2e3)]),_0x27967b=this[_0x3af93e(0x65a)]['get'](_0x145d9a)??new Map();if(!_0x1760c0&&(!_0x27967b||_0x27967b[_0x3af93e(0x5ab)]<_0x5001b1[_0x3af93e(0x482)]))return;const _0x192812=this[_0x3af93e(0x233)][_0x3af93e(0x9de)](_0x145d9a);if(!_0x192812)throw new _0x1a8c20(_0x1a8c20['codes'][_0x3af93e(0xb12)]);if(clearTimeout(_0x192812[_0x3af93e(0x587)]),_0x11d8aa[_0x3af93e(0x6ea)](_0x23f9d6[_0x3af93e(0xb53)],_0x3af93e(0x5c6)+_0x192812['id']+_0x3af93e(0x80e),_0x27967b,this[_0x3af93e(0x65a)]),!_0x27967b||0x0===_0x27967b[_0x3af93e(0x5ab)]){_0x192812[_0x3af93e(0x341)]=_0x182c91[_0x3af93e(0xa76)][_0x3af93e(0x8ee)],_0x192812[_0x3af93e(0xa0d)]=new Date(),_0x11d8aa[_0x3af93e(0x730)]('Job\x20'+_0x192812['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x3af93e(0x43f)]['getId'](),'nodeType':this[_0x3af93e(0x43f)][_0x3af93e(0x751)],'data':{'job':_0x192812,'responses':_0x27967b}});const _0x59e399=this[_0x3af93e(0x2a4)][_0x3af93e(0x9de)](_0x145d9a);if(!_0x59e399)throw new _0x1a8c20(_0x1a8c20['codes']['JobDispatcherObserverNotFound']);const _0x2fc19a=_0x3af93e(0x523),_0x52db0d={'id':_0x192812['id'],'status':_0x192812[_0x3af93e(0x341)],'message':_0x2fc19a};return _0x59e399[_0x3af93e(0x8e5)](_0x52db0d),_0x59e399[_0x3af93e(0xad4)](),this[_0x3af93e(0x233)]['set'](_0x192812['id'],_0x192812),void this[_0x3af93e(0x65a)][_0x3af93e(0xa6b)](_0x145d9a);}const {nodeId:_0x129bc6,response:_0x4d8255}=this[_0x3af93e(0x2f5)](_0x192812['id'],_0x27967b);_0x192812[_0x3af93e(0x341)]=_0x182c91[_0x3af93e(0xa76)][_0x3af93e(0x29c)],_0x192812[_0x3af93e(0xa0d)]=new Date(),_0x11d8aa['log'](_0x23f9d6[_0x3af93e(0xb53)],_0x3af93e(0x5c6)+_0x192812['id']+_0x3af93e(0x520)+_0x129bc6+_0x3af93e(0x70a),_0x4d8255);const _0x4e8931={'id':_0x192812['id'],'jobType':_0x192812['jobType'],'jobPhase':_0x4244a1['Attribution'],'parameters':_0x192812[_0x3af93e(0xa27)]};this[_0x3af93e(0xb98)](_0x4e8931,[_0x129bc6]),this[_0x3af93e(0x233)][_0x3af93e(0x25c)](_0x192812['id'],_0x192812),this['jobBids']['delete'](_0x145d9a);}['evaluateBids'](_0x35ebb1,_0x4ef5cd){const _0x578c80=_0x2aff22;let _0x564b6d;const _0x257353=Array[_0x578c80(0x306)](_0x4ef5cd['entries']())['filter'](([,[_0x39ab0f]])=>_0x39ab0f[_0x578c80(0x362)]);if(_0x564b6d=_0x257353['length']>0x0?Array[_0x578c80(0x306)](_0x4ef5cd[_0x578c80(0x437)]())[_0x578c80(0x246)]((_0x2a27ac,_0x1049d0)=>_0x1049d0[0x1][0x0][_0x578c80(0x208)]-_0x2a27ac[0x1][0x0][_0x578c80(0x208)]):Array['from'](_0x4ef5cd[_0x578c80(0x437)]())[_0x578c80(0x246)]((_0x1954e5,_0x508df9)=>_0x1954e5[0x1][0x0][_0x578c80(0x5da)]-_0x508df9[0x1][0x0]['queueLength']),0x1===_0x564b6d[_0x578c80(0x482)])return{'nodeId':_0x564b6d[0x0][0x0],'response':_0x564b6d[0x0][0x1][0x0]};let _0x3079e8;if(_0x3079e8=_0x257353[_0x578c80(0x482)]>0x0?(_0x2c8194=>{const _0x152dee=_0x578c80,_0x5d6c25=_0x2c8194[0x0][0x1][0x0][_0x152dee(0x208)];return _0x2c8194[_0x152dee(0xae8)](([,[_0x284c37]])=>_0x284c37[_0x152dee(0x208)]===_0x5d6c25);})(_0x564b6d):(_0x23a072=>{const _0x1ce197=_0x578c80,_0x2cd17f=_0x23a072[0x0][0x1][0x0][_0x1ce197(0x5da)];return _0x23a072['filter'](([,[_0xdb276]])=>_0xdb276[_0x1ce197(0x5da)]===_0x2cd17f);})(_0x564b6d),0x1===_0x3079e8[_0x578c80(0x482)])return{'nodeId':_0x3079e8[0x0][0x0],'response':_0x3079e8[0x0][0x1][0x0]};const _0x439bbc=this['jobs'][_0x578c80(0x9de)](_0x35ebb1);if(!_0x439bbc)throw new _0x1a8c20(_0x1a8c20['codes']['JobDispatcherJobNotFound']);const _0x5ef381=_0x439bbc['created'][_0x578c80(0x2f2)](),_0x22ee74=_0x3079e8[_0x578c80(0x8df)](([_0x4dfdc0,[,_0x918019]])=>({'nodeId':_0x4dfdc0,'rtt':_0x918019-_0x5ef381})),_0x4e91e9=Math['min'](..._0x22ee74[_0x578c80(0x8df)](({rtt:_0x4bf188})=>_0x4bf188)),_0x327cb7=_0x22ee74[_0x578c80(0x43b)](({rtt:_0x3dbedb})=>_0x3dbedb===_0x4e91e9),[,[_0x1aed35]]=_0x3079e8[_0x578c80(0x43b)](([_0x4e9af9])=>_0x4e9af9===_0x327cb7['nodeId']);return{'nodeId':_0x327cb7[_0x578c80(0x4ed)],'response':_0x1aed35};}[_0x2aff22(0x8fb)](_0x104095,_0x3ea854){const _0x2e8e8a=_0x2aff22,_0x598f63=this[_0x2e8e8a(0x233)][_0x2e8e8a(0x9de)](_0x104095);if(!_0x598f63)throw new _0x1a8c20(_0x1a8c20[_0x2e8e8a(0x92d)][_0x2e8e8a(0xb12)]);const _0x57bf7a=this['jobObservers'][_0x2e8e8a(0x9de)](_0x104095);if(!_0x57bf7a)throw new _0x1a8c20(_0x1a8c20[_0x2e8e8a(0x92d)][_0x2e8e8a(0x48e)]);const _0x1b210c={'id':_0x598f63['id'],'status':_0x182c91[_0x2e8e8a(0xa76)][_0x2e8e8a(0x979)],'result':_0x3ea854[_0x2e8e8a(0x76c)]};_0x57bf7a['next'](_0x1b210c);}[_0x2aff22(0x54a)](_0x3ad928,_0x292922){const _0x1e09fe=_0x2aff22,_0x3da355=this[_0x1e09fe(0x233)][_0x1e09fe(0x9de)](_0x3ad928);if(!_0x3da355)throw new _0x1a8c20(_0x1a8c20[_0x1e09fe(0x92d)][_0x1e09fe(0xb12)]);const _0x345e40=this[_0x1e09fe(0x2a4)][_0x1e09fe(0x9de)](_0x3ad928);if(!_0x345e40)throw new _0x1a8c20(_0x1a8c20['codes']['JobDispatcherObserverNotFound']);_0x3da355[_0x1e09fe(0x341)]=_0x182c91['JobStatus'][_0x1e09fe(0x404)];const _0x4090dd={'id':_0x3da355['id'],'status':_0x3da355[_0x1e09fe(0x341)],'result':_0x292922[_0x1e09fe(0x76c)]};_0x345e40[_0x1e09fe(0x8e5)](_0x4090dd),_0x345e40['complete'](),this['jobObservers'][_0x1e09fe(0xa6b)](_0x3ad928),this['logEvent'](_0x1e09fe(0x5c6)+_0x3ad928+_0x1e09fe(0x568),{'jobId':_0x3ad928});}['failJob'](_0x10fd7b,_0x3b4641){const _0x2a3f50=_0x2aff22,_0x1e5688=this['jobs'][_0x2a3f50(0x9de)](_0x10fd7b);if(!_0x1e5688)throw new _0x1a8c20(_0x1a8c20[_0x2a3f50(0x92d)][_0x2a3f50(0xb12)]);const _0x2a0f68=this[_0x2a3f50(0x2a4)][_0x2a3f50(0x9de)](_0x10fd7b);if(!_0x2a0f68)throw new _0x1a8c20(_0x1a8c20[_0x2a3f50(0x92d)][_0x2a3f50(0x48e)]);_0x1e5688[_0x2a3f50(0x341)]=_0x182c91['JobStatus'][_0x2a3f50(0x8ee)];const _0x54c5e6={'id':_0x1e5688['id'],'status':_0x1e5688[_0x2a3f50(0x341)],'message':_0x3b4641};_0x2a0f68[_0x2a3f50(0x8e5)](_0x54c5e6),_0x2a0f68['complete'](),this[_0x2a3f50(0x2a4)]['delete'](_0x10fd7b),this[_0x2a3f50(0x343)](_0x2a3f50(0x5c6)+_0x10fd7b+_0x2a3f50(0xb2f),{'jobId':_0x10fd7b});}[_0x2aff22(0x343)](_0x571e34,{jobId:_0x552c4b}){const _0x1f8275=_0x2aff22,_0x1d31df={'jobId':_0x552c4b,'mistletIds':Array[_0x1f8275(0x306)](this[_0x1f8275(0x59f)][_0x1f8275(0xbb6)]()['values']())[_0x1f8275(0xae8)](_0x4ebc7c=>_0x4ebc7c[_0x1f8275(0x751)]===_0x182c91[_0x1f8275(0x764)][_0x1f8275(0x2e3)])[_0x1f8275(0x8df)](_0x38358a=>_0x38358a[_0x1f8275(0x781)]())};_0x11d8aa['logEvent'](_0x571e34,{'nodeId':this[_0x1f8275(0x613)](),'nodeType':this[_0x1f8275(0x43f)][_0x1f8275(0x751)],'data':_0x1d31df}),_0x11d8aa[_0x1f8275(0x6ea)](_0x23f9d6['Jobs'],_0x571e34,_0x1d31df);}[_0x2aff22(0x2ca)](_0x30b634){const _0xab05ea=_0x2aff22,{jobPhase:_0x44f8a0,available:_0x22983f,bid:_0x2d94d5}=_0x30b634;return _0x44f8a0===_0x4244a1[_0xab05ea(0x67e)]&&void 0x0!==_0x22983f&&void 0x0!==_0x2d94d5;}['isPartialResultResponse'](_0x1135a1){const _0x65b865=_0x2aff22,{jobPhase:_0x1976b7,result:_0x5ea219}=_0x1135a1;return _0x1976b7===_0x4244a1[_0x65b865(0x6a5)]&&void 0x0!==_0x5ea219;}[_0x2aff22(0x929)](_0x4f0282){const _0x2f11a2=_0x2aff22,{jobPhase:_0x3a789f,result:_0x3b170a}=_0x4f0282;return _0x3a789f===_0x4244a1[_0x2f11a2(0xa21)]&&void 0x0!==_0x3b170a;}[_0x2aff22(0x553)](_0x39fb0d){const _0x3e8c4f=_0x2aff22,{jobPhase:_0x59078d,message:_0x3c044c}=_0x39fb0d;return _0x59078d===_0x4244a1[_0x3e8c4f(0x8ee)]&&void 0x0!==_0x3c044c&&'string'==typeof _0x3c044c;}}var _0xbaef7f,_0x187b0c,_0xc60fdf,_0x16738a,_0x36b253;!function(_0x3cdb7e){const _0x458dc3=_0x2aff22;_0x3cdb7e['ObjectStorage']=_0x458dc3(0x2be),_0x3cdb7e[_0x458dc3(0x92e)]=_0x458dc3(0x876);}(_0xbaef7f||(_0xbaef7f={})),function(_0x4c97b6){const _0xb00d6d=_0x2aff22;_0x4c97b6[_0xb00d6d(0x2e3)]=_0xb00d6d(0x2cc),_0x4c97b6[_0xb00d6d(0x234)]=_0xb00d6d(0x30d),_0x4c97b6['Router']=_0xb00d6d(0x93d),_0x4c97b6[_0xb00d6d(0x6ef)]=_0xb00d6d(0x2e6),_0x4c97b6[_0xb00d6d(0x6e3)]=_0xb00d6d(0xa35),_0x4c97b6['Knowledge']='knowledge',_0x4c97b6[_0xb00d6d(0x3e8)]=_0xb00d6d(0x54f),_0x4c97b6[_0xb00d6d(0xa2c)]=_0xb00d6d(0x718),_0x4c97b6[_0xb00d6d(0x4c0)]='code',_0x4c97b6[_0xb00d6d(0xa44)]=_0xb00d6d(0x46f),_0x4c97b6[_0xb00d6d(0x45a)]=_0xb00d6d(0xb81),_0x4c97b6[_0xb00d6d(0xbea)]=_0xb00d6d(0xa8c),_0x4c97b6[_0xb00d6d(0x2bf)]=_0xb00d6d(0xa8b),_0x4c97b6[_0xb00d6d(0x7d2)]=_0xb00d6d(0x5a9),_0x4c97b6['QueryFile']='query-file',_0x4c97b6[_0xb00d6d(0x755)]=_0xb00d6d(0x90a),_0x4c97b6[_0xb00d6d(0x92f)]=_0xb00d6d(0xbe3),_0x4c97b6[_0xb00d6d(0x928)]=_0xb00d6d(0x49a),_0x4c97b6[_0xb00d6d(0x784)]=_0xb00d6d(0x6f1),_0x4c97b6[_0xb00d6d(0xa99)]='document-parser',_0x4c97b6[_0xb00d6d(0xaf7)]=_0xb00d6d(0x651),_0x4c97b6[_0xb00d6d(0x69e)]=_0xb00d6d(0x628),_0x4c97b6[_0xb00d6d(0xacd)]=_0xb00d6d(0x44f),_0x4c97b6['WorkflowTool']=_0xb00d6d(0x29f);}(_0x187b0c||(_0x187b0c={})),function(_0x197ce1){const _0x4f2cf1=_0x2aff22;_0x197ce1[_0x4f2cf1(0x40b)]=_0x4f2cf1(0x1ce),_0x197ce1['ExternalStorageUpload']=_0x4f2cf1(0x97b),_0x197ce1[_0x4f2cf1(0xa99)]=_0x4f2cf1(0x296),_0x197ce1[_0x4f2cf1(0x92f)]='chunk-splitter',_0x197ce1[_0x4f2cf1(0x784)]=_0x4f2cf1(0x6f1),_0x197ce1[_0x4f2cf1(0x928)]='sentence-splitter',_0x197ce1[_0x4f2cf1(0xa6e)]=_0x4f2cf1(0x5ff),_0x197ce1[_0x4f2cf1(0x26d)]=_0x4f2cf1(0x4b6),_0x197ce1[_0x4f2cf1(0x89f)]='reranker',_0x197ce1['Model']=_0x4f2cf1(0x6f2),_0x197ce1['Agent']=_0x4f2cf1(0x2cc),_0x197ce1[_0x4f2cf1(0x331)]=_0x4f2cf1(0x2be),_0x197ce1[_0x4f2cf1(0x3e1)]=_0x4f2cf1(0xb36),_0x197ce1[_0x4f2cf1(0x883)]=_0x4f2cf1(0x69f),_0x197ce1[_0x4f2cf1(0xb7f)]=_0x4f2cf1(0xb95),_0x197ce1[_0x4f2cf1(0x3e8)]='prompt',_0x197ce1['Context']=_0x4f2cf1(0xb32),_0x197ce1[_0x4f2cf1(0x1ef)]=_0x4f2cf1(0x8be),_0x197ce1[_0x4f2cf1(0x68b)]='embed';}(_0xc60fdf||(_0xc60fdf={})),function(_0x8fd4){const _0x32de69=_0x2aff22;_0x8fd4[_0x32de69(0xa78)]='file',_0x8fd4[_0x32de69(0x5aa)]='text',_0x8fd4[_0x32de69(0x842)]=_0x32de69(0x21d),_0x8fd4[_0x32de69(0x312)]='audio',_0x8fd4[_0x32de69(0x517)]=_0x32de69(0x8e6),_0x8fd4[_0x32de69(0x681)]=_0x32de69(0xb7e),_0x8fd4[_0x32de69(0x88c)]=_0x32de69(0x7cb),_0x8fd4['Relation']=_0x32de69(0xb82),_0x8fd4[_0x32de69(0x45a)]=_0x32de69(0xb81),_0x8fd4['Index']=_0x32de69(0x787),_0x8fd4[_0x32de69(0xb11)]=_0x32de69(0x2ea),_0x8fd4[_0x32de69(0xa88)]=_0x32de69(0xb32),_0x8fd4['Wait']=_0x32de69(0x4ad),_0x8fd4[_0x32de69(0x267)]=_0x32de69(0x47b),_0x8fd4[_0x32de69(0x33d)]=_0x32de69(0xa60);}(_0x16738a||(_0x16738a={})),function(_0xea449e){const _0x354701=_0x2aff22;_0xea449e[_0x354701(0x901)]=_0x354701(0xa4a),_0xea449e['Account']=_0x354701(0xb6d),_0xea449e[_0x354701(0xa30)]=_0x354701(0x2e8);}(_0x36b253||(_0x36b253={}));const _0x3d0bc7=[{'type':_0x187b0c[_0x2aff22(0x910)],'id':_0x2aff22(0x654),'name':_0x2aff22(0x4e2),'description':_0x2aff22(0x957),'modelId':'gpt-4.1-nano','instructions':'Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','grammar':_0x2aff22(0x337),'temperature':0x0,'maxTokens':0x64}],_0x2a544d=[{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':'blank-agent','name':_0x2aff22(0x856),'description':'','modelId':_0x2aff22(0x525),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':_0x2aff22(0xb54),'name':_0x2aff22(0xb13),'description':_0x2aff22(0x725),'modelId':_0x2aff22(0x525),'instructions':_0x2aff22(0x642),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c['Agent'],'id':_0x2aff22(0xb64),'name':_0x2aff22(0x69c),'description':_0x2aff22(0x3b2),'modelId':_0x2aff22(0x525),'instructions':_0x2aff22(0x37e),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':_0x2aff22(0x74f),'name':_0x2aff22(0x710),'description':'Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','modelId':'gpt-4.1-nano','instructions':_0x2aff22(0xade),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':_0x2aff22(0x24a),'name':_0x2aff22(0x6b6),'description':_0x2aff22(0xafe),'modelId':'gpt-4.1-nano','instructions':_0x2aff22(0x87d),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':'query-generator','name':'Query\x20Generator','description':_0x2aff22(0x4d5),'modelId':'gpt-4.1-nano','instructions':_0x2aff22(0x9d8),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':'competitive-agent','name':_0x2aff22(0x741),'description':_0x2aff22(0x76d),'modelId':_0x2aff22(0x525),'instructions':_0x2aff22(0x385),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c['Agent'],'id':_0x2aff22(0x7e1),'name':'Strategizing\x20Agent','description':_0x2aff22(0x965),'modelId':'gpt-4.1-nano','instructions':_0x2aff22(0x8c7),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':_0x2aff22(0x83c),'name':_0x2aff22(0x81b),'description':_0x2aff22(0x5bf),'modelId':'gpt-4.1-nano','instructions':_0x2aff22(0x53e),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':'archival-search','name':_0x2aff22(0x727),'description':_0x2aff22(0x3cd),'modelId':_0x2aff22(0x525),'instructions':'Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':_0x2aff22(0x91f),'name':'Trend\x20Spotter','description':_0x2aff22(0xa1c),'modelId':_0x2aff22(0x525),'instructions':_0x2aff22(0xb68),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x187b0c[_0x2aff22(0x2e3)],'id':'copywriter-agent','name':_0x2aff22(0x93c),'description':_0x2aff22(0x76e),'modelId':_0x2aff22(0x525),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x2aff22(0x650),'name':'Coordinator\x20Agent','description':_0x2aff22(0x8d9),'modelId':'gpt-4.1-nano','instructions':_0x2aff22(0xa3b),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x2aff22(0x683),'name':_0x2aff22(0x1b2),'description':_0x2aff22(0x966),'modelId':_0x2aff22(0x525),'instructions':_0x2aff22(0x2cd),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x2aff22(0x9af),'name':'Document\x20Agent','description':_0x2aff22(0x955),'modelId':_0x2aff22(0x525),'instructions':_0x2aff22(0x62f),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x1f0236{static [_0x2aff22(0xaa7)];constructor(){}static[_0x2aff22(0x80c)](){const _0xcaf0e7=_0x2aff22;return _0x1f0236['instance']||(_0x1f0236['instance']=new _0x1f0236()),_0x1f0236[_0xcaf0e7(0xaa7)];}async['getWorkflow'](_0x12c4c3,_0x5c823b){const _0x7bf578=_0x2aff22,_0x5c058a=await(0x0,_0x181a71[_0x7bf578(0x9b8)])((0x0,_0x181a71[_0x7bf578(0x3b5)])(_0x4d81d6['getFirestore'](),_0x7bf578(0x4ff)+_0x12c4c3+_0x7bf578(0x9a2)+_0x5c823b)),_0x4d1210=await this[_0x7bf578(0x397)](_0x12c4c3),_0x5e09b1=await this[_0x7bf578(0x707)](_0x12c4c3),_0x1469f2=await this['getDataCollections'](_0x12c4c3);if(!_0x5c058a[_0x7bf578(0x5f5)]())throw new _0x1a8c20(_0x1a8c20[_0x7bf578(0x92d)][_0x7bf578(0xb49)]);return this[_0x7bf578(0x33c)](_0x5c058a,_0x4d1210,_0x5e09b1,_0x1469f2);}async['getDataCollections'](_0x358106){const _0x173514=_0x2aff22;return(await(0x0,_0x181a71['getDocs'])((0x0,_0x181a71[_0x173514(0xbcf)])(_0x4d81d6[_0x173514(0x67b)](),_0x173514(0x4ff)+_0x358106+'/resources/generative-ai-collection/items')))[_0x173514(0x1b0)]['map'](_0x1bf80d=>{const _0x2d639d=_0x173514,_0x21c1f4=_0x1bf80d[_0x2d639d(0x8e6)]();return{'type':_0x187b0c[_0x2d639d(0x6e3)],'id':_0x1bf80d['id'],'name':_0x21c1f4[_0x2d639d(0x3b3)],'description':_0x21c1f4[_0x2d639d(0x347)],'storageType':_0x21c1f4[_0x2d639d(0x222)]??_0x182c91[_0x2d639d(0x487)][_0x2d639d(0x798)],'hosting':_0x21c1f4['hosting']??_0x36b253[_0x2d639d(0xa30)],'modelId':_0x21c1f4[_0x2d639d(0x4ac)]??'text-embedding-3-small','ingestBlocks':_0x21c1f4[_0x2d639d(0xa00)],'retrieveBlocks':_0x21c1f4[_0x2d639d(0x545)]};});}async[_0x2aff22(0x1f6)](_0x27e603,_0x3f9e4f){const _0x3dc195=_0x2aff22,_0x1d4882=await(0x0,_0x181a71['getDoc'])((0x0,_0x181a71[_0x3dc195(0x3b5)])(_0x4d81d6['getFirestore'](),_0x3dc195(0x4ff)+_0x27e603+'/resources/generative-ai-collection/items/'+_0x3f9e4f)),_0xfcd9aa=await this[_0x3dc195(0x397)](_0x27e603),_0x13fbdb=_0x1d4882[_0x3dc195(0x8e6)]();if(!_0x13fbdb)throw new _0x1a8c20(_0x1a8c20[_0x3dc195(0x92d)][_0x3dc195(0x420)]);return{'type':_0x187b0c[_0x3dc195(0x6e3)],'id':_0x3f9e4f,'uid':_0x3f9e4f,'name':_0x13fbdb[_0x3dc195(0x3b3)],'description':_0x13fbdb[_0x3dc195(0x347)],'storageType':_0x13fbdb['storageType']??_0x182c91[_0x3dc195(0x487)][_0x3dc195(0x798)],'hosting':_0x13fbdb['hosting']??_0x36b253['Dedicated'],'modelId':_0x13fbdb[_0x3dc195(0x4ac)]??_0x3dc195(0x5de),'ingestBlocks':this[_0x3dc195(0x648)](_0x13fbdb[_0x3dc195(0xa00)],_0xfcd9aa),'retrieveBlocks':this[_0x3dc195(0x648)](_0x13fbdb[_0x3dc195(0x545)],_0xfcd9aa),'links':[]};}[_0x2aff22(0x33c)](_0x896b7f,_0x3f447c,_0x48d78f,_0x546ae1){const _0x2a3e87=_0x2aff22,_0x687429=_0x896b7f[_0x2a3e87(0x8e6)]();if(!_0x687429)throw new _0x1a8c20(_0x1a8c20[_0x2a3e87(0x92d)][_0x2a3e87(0xb49)]);const _0x583aae=this[_0x2a3e87(0x5d6)](_0x687429[_0x2a3e87(0xb60)],_0x3f447c,_0x48d78f,_0x546ae1);return{'id':_0x896b7f['id'],'name':_0x687429[_0x2a3e87(0x3b3)],'description':_0x687429[_0x2a3e87(0x347)],'blocks':_0x583aae,'dataBucketIds':this[_0x2a3e87(0x5e0)](_0x583aae),'externalStorageConnectionIds':this[_0x2a3e87(0x1df)](_0x583aae),'initialPrompt':_0x687429[_0x2a3e87(0xa53)]};}['getWorkflowObjectStorageBuckets'](_0x10e2bb){const _0x2d9202=_0x2aff22,_0xa20184=new Set();for(const _0x2ce636 of _0x10e2bb)switch(_0x2ce636[_0x2d9202(0x751)]){case _0x187b0c[_0x2d9202(0x2cb)]:case _0x187b0c[_0x2d9202(0x6e3)]:for(const _0x2c2b57 of[..._0x2ce636[_0x2d9202(0xa00)],..._0x2ce636['retrieveBlocks']])_0x2c2b57[_0x2d9202(0x751)]===_0xc60fdf[_0x2d9202(0x40b)]&&_0xa20184[_0x2d9202(0x62d)](_0x2c2b57['id']);}return Array['from'](_0xa20184);}[_0x2aff22(0x1df)](_0x2923f3){const _0x104f1e=_0x2aff22,_0xec129b=new Set();for(const _0x1d00e4 of _0x2923f3)switch(_0x1d00e4[_0x104f1e(0x751)]){case _0x187b0c[_0x104f1e(0x2cb)]:case _0x187b0c[_0x104f1e(0x6e3)]:for(const _0x4ad3c2 of[..._0x1d00e4['ingestBlocks'],..._0x1d00e4['retrieveBlocks']])_0x4ad3c2[_0x104f1e(0x751)]===_0xc60fdf[_0x104f1e(0x6fe)]&&_0xec129b[_0x104f1e(0x62d)](_0x4ad3c2['id']);}return Array[_0x104f1e(0x306)](_0xec129b);}[_0x2aff22(0x5d6)](_0x2e0267,_0x4f42cb,_0x147aaa,_0x3cfd17){const _0x1f040f=_0x2aff22;return _0x2e0267[_0x1f040f(0x8df)](_0xeb66b5=>{const _0x10c15c=_0x1f040f;switch(_0xeb66b5[_0x10c15c(0x751)]){case _0x187b0c[_0x10c15c(0x2e3)]:case _0x187b0c[_0x10c15c(0x234)]:case _0x187b0c[_0x10c15c(0x910)]:const _0x3decac=_0x4f42cb[_0x10c15c(0x43b)](_0x5a7a09=>_0x5a7a09['id']===_0xeb66b5['id']);if(!_0x3decac)throw new _0x1a8c20(_0x1a8c20[_0x10c15c(0x92d)][_0x10c15c(0x4cd)],{'block':_0xeb66b5});return{'type':_0x187b0c['Agent'],'id':_0x3decac['id'],'uid':_0xeb66b5[_0x10c15c(0x6c2)],'name':_0x3decac['name'],'description':_0x3decac[_0x10c15c(0x347)],'instructions':(_0x3decac[_0x10c15c(0xa73)]+'\x0a\x0a'+(_0xeb66b5['agent']?.['additionnalInstructions']??''))[_0x10c15c(0x71c)](),'contextOutputVariable':_0xeb66b5[_0x10c15c(0x2cc)]?.[_0x10c15c(0xb86)],'contextInputVariable':_0xeb66b5[_0x10c15c(0x2cc)]?.[_0x10c15c(0x4ca)],'reasoning':_0xeb66b5[_0x10c15c(0x2cc)]?.[_0x10c15c(0x576)]??!0x1,'grammar':_0xeb66b5[_0x10c15c(0x2cc)]?.['grammar']??_0x10c15c(0x78e),'temperature':_0xeb66b5[_0x10c15c(0x2cc)]?.[_0x10c15c(0x83a)]??0.5,'maxTokens':_0xeb66b5['agent']?.['maxTokens']??0x1f4,'modelId':_0xeb66b5[_0x10c15c(0x2cc)]?.[_0x10c15c(0x4ac)]??_0x10c15c(0x7d1),'links':_0xeb66b5[_0x10c15c(0x2d4)]};case _0x187b0c[_0x10c15c(0x2cb)]:case _0x187b0c[_0x10c15c(0x6e3)]:const _0xd0a551=_0x3cfd17['find'](_0x293b0a=>_0x293b0a['id']===_0xeb66b5['id']);if(!_0xd0a551)throw new _0x1a8c20(_0x1a8c20[_0x10c15c(0x92d)]['WorkflowInvalidBlockType'],{'block':_0xeb66b5});return{'type':_0xeb66b5[_0x10c15c(0x751)],'id':_0xd0a551['id'],'uid':_0xeb66b5['uid'],'name':_0xd0a551['name'],'description':_0xd0a551['description'],'ingestBlocks':this['parseDataCollectionBlocks'](_0xd0a551[_0x10c15c(0xa00)],_0x4f42cb),'retrieveBlocks':this['parseDataCollectionBlocks'](_0xd0a551[_0x10c15c(0x545)],_0x4f42cb),'links':_0xeb66b5[_0x10c15c(0x2d4)]};case _0x187b0c[_0x10c15c(0x6ef)]:return{'type':_0xeb66b5['type'],'id':_0xeb66b5['id'],'uid':_0xeb66b5[_0x10c15c(0x6c2)],'name':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0x3b3)],'description':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0x347)],'parameters':_0xeb66b5['tool'][_0x10c15c(0xa27)],'endpointUrl':_0xeb66b5[_0x10c15c(0x2ea)]['endpointUrl'],'endpointMethod':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0x24d)],'headers':_0xeb66b5['tool'][_0x10c15c(0x248)],'queryParameters':_0xeb66b5[_0x10c15c(0x2ea)]['queryParameters'],'bodyParameters':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0x809)],'contextOutputVariable':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0xb86)],'links':_0xeb66b5[_0x10c15c(0x2d4)]};case _0x187b0c[_0x10c15c(0xa44)]:return{'type':_0xeb66b5[_0x10c15c(0x751)],'id':_0xeb66b5['id'],'uid':_0xeb66b5[_0x10c15c(0x6c2)],'name':_0xeb66b5['tool'][_0x10c15c(0x3b3)],'description':_0xeb66b5['tool']['description'],'questions':_0xeb66b5[_0x10c15c(0x2ea)]['questions'][_0x10c15c(0x8df)](_0x2b4036=>({'id':_0x2b4036['id'],'question':_0x2b4036['name'],'validation':_0x2b4036['value'],'required':'true'===_0x2b4036[_0x10c15c(0x783)],'format':_0x2b4036[_0x10c15c(0xaa2)]})),'contextOutputVariable':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0xb86)],'links':_0xeb66b5[_0x10c15c(0x2d4)]};case _0x187b0c[_0x10c15c(0xbea)]:return{'type':_0xeb66b5[_0x10c15c(0x751)],'id':_0xeb66b5['id'],'uid':_0xeb66b5['uid'],'modelId':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0x4ac)]??_0x10c15c(0x50d),'links':_0xeb66b5[_0x10c15c(0x2d4)]};case _0x187b0c[_0x10c15c(0x2b0)]:const _0x360b28=_0x147aaa[_0x10c15c(0x43b)](_0x17fcf1=>_0x17fcf1['id']===_0xeb66b5['id']);if(!_0x360b28)throw new _0x1a8c20(_0x1a8c20[_0x10c15c(0x92d)][_0x10c15c(0x4cd)],{'block':_0xeb66b5});return{'type':_0xeb66b5[_0x10c15c(0x751)],'id':_0xeb66b5['id'],'uid':_0xeb66b5[_0x10c15c(0x6c2)],'name':_0x360b28['name'],'description':_0x360b28[_0x10c15c(0x347)],'workflowId':_0x360b28['id'],'async':_0xeb66b5[_0x10c15c(0x2ea)]['async'],'contextOutputVariable':_0xeb66b5['tool'][_0x10c15c(0xb86)],'contextInputVariable':_0xeb66b5[_0x10c15c(0x2ea)][_0x10c15c(0x4ca)],'links':_0xeb66b5['links']};case _0x187b0c[_0x10c15c(0x3e8)]:case _0x187b0c['InputStream']:case _0x187b0c[_0x10c15c(0xa2c)]:case _0x187b0c[_0x10c15c(0xacd)]:case _0x187b0c[_0x10c15c(0x4c0)]:case _0x187b0c['Search']:case _0x187b0c[_0x10c15c(0x2bf)]:case _0x187b0c[_0x10c15c(0x7d2)]:case _0x187b0c['QueryFile']:case _0x187b0c['WriteFile']:case _0x187b0c['SentenceSplitter']:case _0x187b0c[_0x10c15c(0xa99)]:case _0x187b0c[_0x10c15c(0xaf7)]:return{'type':_0xeb66b5[_0x10c15c(0x751)],'id':_0xeb66b5['id'],'uid':_0xeb66b5[_0x10c15c(0x6c2)],'links':_0xeb66b5[_0x10c15c(0x2d4)]};case _0x187b0c[_0x10c15c(0x92f)]:case _0x187b0c[_0x10c15c(0x784)]:return{'type':_0xeb66b5[_0x10c15c(0x751)],'id':_0xeb66b5['id'],'uid':_0xeb66b5[_0x10c15c(0x6c2)],'links':_0xeb66b5['links'],'attributes':_0xeb66b5[_0x10c15c(0x9f2)]};default:throw new _0x1a8c20(_0x1a8c20[_0x10c15c(0x92d)][_0x10c15c(0x4cd)],{'block':_0xeb66b5});}});}['parseDataCollectionBlocks'](_0xbd7dcb,_0x46e20c){const _0x28eab2=_0x2aff22;return _0xbd7dcb?_0xbd7dcb[_0x28eab2(0x8df)](_0x2eedda=>{const _0x179beb=_0x28eab2;switch(_0x2eedda[_0x179beb(0x751)]){case _0xc60fdf[_0x179beb(0x2e3)]:const _0x580f38=_0x46e20c[_0x179beb(0x43b)](_0x149f6d=>_0x149f6d['id']===_0x2eedda['id']);if(!_0x580f38)throw new _0x1a8c20(_0x1a8c20['codes']['WorkflowInvalidBlockType'],{'block':_0x2eedda});return{'type':_0x2eedda['type'],'id':_0x2eedda['id'],'uid':_0x2eedda[_0x179beb(0x6c2)],'description':_0x580f38[_0x179beb(0x347)],'instructions':(_0x580f38[_0x179beb(0xa73)]+'\x0a\x0a'+(_0x2eedda[_0x179beb(0x2cc)]?.[_0x179beb(0x509)]??''))['trim'](),'contextOutputVariable':_0x2eedda['agent']?.['contextOutputVariable'],'contextInputVariable':_0x2eedda[_0x179beb(0x2cc)]?.['contextInputVariable'],'reasoning':_0x2eedda[_0x179beb(0x2cc)]?.['reasoning']??!0x1,'grammar':_0x2eedda[_0x179beb(0x2cc)]?.['grammar']??'default','temperature':_0x2eedda[_0x179beb(0x2cc)]?.[_0x179beb(0x83a)]??0.5,'maxTokens':_0x2eedda[_0x179beb(0x2cc)]?.[_0x179beb(0xa3e)]??0x1f4,'modelId':_0x2eedda[_0x179beb(0x2cc)]?.[_0x179beb(0x4ac)]??_0x179beb(0x7d1),'links':_0x2eedda[_0x179beb(0x2d4)]};case _0xc60fdf[_0x179beb(0xb7f)]:case _0xc60fdf[_0x179beb(0x883)]:case _0xc60fdf[_0x179beb(0x784)]:case _0xc60fdf[_0x179beb(0x92f)]:case _0xc60fdf[_0x179beb(0x26d)]:case _0xc60fdf[_0x179beb(0x89f)]:return{'type':_0x2eedda[_0x179beb(0x751)],'id':_0x2eedda['id'],'uid':_0x2eedda[_0x179beb(0x6c2)],'links':_0x2eedda[_0x179beb(0x2d4)],'attributes':_0x2eedda['attributes']};case _0xc60fdf[_0x179beb(0x37d)]:case _0xc60fdf['ObjectStorageBucket']:case _0xc60fdf[_0x179beb(0x3e1)]:case _0xc60fdf['RelationExtractor']:case _0xc60fdf[_0x179beb(0xa99)]:case _0xc60fdf[_0x179beb(0x928)]:case _0xc60fdf[_0x179beb(0x40b)]:case _0xc60fdf[_0x179beb(0x6fe)]:case _0xc60fdf[_0x179beb(0xa88)]:case _0xc60fdf['Prompt']:case _0xc60fdf[_0x179beb(0x1ef)]:case _0xc60fdf[_0x179beb(0x68b)]:return{'type':_0x2eedda[_0x179beb(0x751)],'id':_0x2eedda['id'],'uid':_0x2eedda[_0x179beb(0x6c2)],'links':_0x2eedda[_0x179beb(0x2d4)]};default:throw new _0x1a8c20(_0x1a8c20['codes'][_0x179beb(0x4cd)],{'block':_0x2eedda});}}):[];}async[_0x2aff22(0x397)](_0x238098){const _0xa929aa=_0x2aff22,_0xa41567=(await(0x0,_0x181a71[_0xa929aa(0xb66)])((0x0,_0x181a71[_0xa929aa(0xbcf)])(_0x4d81d6[_0xa929aa(0x67b)](),_0xa929aa(0x4ff)+_0x238098+_0xa929aa(0x9b0))))[_0xa929aa(0x1b0)]['map'](_0x2fad19=>{const _0x1c1515=_0xa929aa,_0x41af0f=_0x2fad19['data']();return{'type':_0x187b0c[_0x1c1515(0x2e3)],'id':_0x2fad19['id'],'name':_0x41af0f[_0x1c1515(0x3b3)],'description':_0x41af0f[_0x1c1515(0x347)],'instructions':_0x41af0f[_0x1c1515(0xa73)]};});return _0xa41567['push'](..._0x3d0bc7),_0xa41567[_0xa929aa(0x639)](..._0x2a544d),_0xa41567;}async[_0x2aff22(0x707)](_0x1aacd6){const _0x73e05b=_0x2aff22;return(await(0x0,_0x181a71['getDocs'])((0x0,_0x181a71[_0x73e05b(0xbcf)])(_0x4d81d6[_0x73e05b(0x67b)](),'/developers/'+_0x1aacd6+_0x73e05b(0x923))))[_0x73e05b(0x1b0)][_0x73e05b(0x8df)](_0x3d5a7c=>{const _0x4ff386=_0x73e05b,_0x3984f2=_0x3d5a7c[_0x4ff386(0x8e6)]();return{'id':_0x3d5a7c['id'],'name':_0x3984f2[_0x4ff386(0x3b3)],'description':_0x3984f2[_0x4ff386(0x347)]};});}}const _0x51b0dd=_0x1f0236[_0x2aff22(0x80c)]();class _0x1e0155 extends _0x900388{[_0x2aff22(0x20e)];[_0x2aff22(0x97c)];[_0x2aff22(0x470)]=0x0;[_0x2aff22(0x479)]=0x0;['debounceStats'];constructor(_0x2af59e,_0x1d5781,_0x30df9b,_0x548770){const _0x115c2d=_0x2aff22;super(_0x2af59e,_0x1d5781,_0x548770),this[_0x115c2d(0x20e)]=_0x2af59e,this[_0x115c2d(0x97c)]=_0x30df9b,this[_0x115c2d(0x6c9)]();}['destroy'](){const _0x37b029=_0x2aff22;this[_0x37b029(0x28b)]&&(clearTimeout(this['debounceStats']),delete this[_0x37b029(0x28b)]),super[_0x37b029(0xb97)]();}['reset'](){const _0x45e846=_0x2aff22;this[_0x45e846(0x470)]=0x0,this[_0x45e846(0x479)]=0x0,this[_0x45e846(0x6c9)](),super['reset']();}[_0x2aff22(0x90b)](_0x2e5ead){const _0x15b9eb=_0x2aff22,_0x48e9aa=_0x15b9eb(0x377)+(0x0,_0x360e63['v4'])();let _0x4e9e26=!0x1;const _0x159f4d=()=>{const _0x5ac2b5=_0x15b9eb;if(_0x4e9e26)throw new _0x1a8c20(_0x1a8c20[_0x5ac2b5(0x92d)]['GenerativeAIContextJobAlreadyConsumed']);_0x4e9e26=!0x0;};switch(_0x2e5ead[_0x15b9eb(0x751)]){case'collection-create':case _0x15b9eb(0x286):case _0x15b9eb(0xbb8):case'file-delete':case _0x15b9eb(0xb9e):case _0x15b9eb(0x413):case _0x15b9eb(0x413):case _0x15b9eb(0x611):case'rate':case _0x15b9eb(0x3f5):case'speech-create':case _0x15b9eb(0x8e0):case _0x15b9eb(0xa79):return{'id':_0x48e9aa,..._0x2e5ead,'run':()=>(_0x159f4d(),this[_0x15b9eb(0xb39)](_0x48e9aa,_0x2e5ead))};case _0x15b9eb(0x7a2):case _0x15b9eb(0x54f):const _0x2a12d8=()=>(_0x159f4d(),this[_0x15b9eb(0xb14)](_0x48e9aa,_0x2e5ead)),_0x2fc557=()=>(_0x159f4d(),this[_0x15b9eb(0x86f)](_0x48e9aa,_0x2e5ead));return{'id':_0x48e9aa,'options':{'threadId':_0x15b9eb(0x478)+(0x0,_0x360e63['v4'])()},..._0x2e5ead,'run':_0x2a12d8,'stream':_0x2fc557};default:throw new Error(_0x15b9eb(0xab9));}}async['internalJob'](_0x46afc8,_0x3c69ff){const _0x33b18c=_0x2aff22;if(_0x33b18c(0x7a2)===_0x3c69ff[_0x33b18c(0x751)]||'prompt'===_0x3c69ff[_0x33b18c(0x751)])throw new _0x447098(_0x35722f[_0x33b18c(0xa82)],_0x33b18c(0xab9));const _0x38cdff={'threadId':_0x33b18c(0x478)+(0x0,_0x360e63['v4'])(),..._0x3c69ff},_0xc13892=await this[_0x33b18c(0xa33)](_0x46afc8,_0x182c91['JobType'][_0x33b18c(0x47d)],_0x38cdff);return new Promise((_0x5f3a6f,_0x1cd9fe)=>{let _0x59c93d;const _0x594f69=_0xc13892['subscribe']({'next':_0x3392f2=>{const _0x173478=a0_0x314b;switch(_0x3392f2[_0x173478(0x341)]){case _0x182c91['JobStatus'][_0x173478(0x404)]:clearTimeout(_0x59c93d),_0x5f3a6f(_0x3392f2[_0x173478(0x76c)]),_0x594f69[_0x173478(0x815)]();break;case _0x182c91['JobStatus'][_0x173478(0x8ee)]:clearTimeout(_0x59c93d),_0x1cd9fe(new _0x1a8c20(_0x1a8c20[_0x173478(0x92d)][_0x173478(0x859)],{'updatedJob':_0x3392f2})),_0x594f69[_0x173478(0x815)]();}},'error':_0x2f8305=>{const _0xda3b53=a0_0x314b;clearTimeout(_0x59c93d),_0x1cd9fe(new _0x1a8c20(_0x1a8c20['codes']['GenerativeAIContextJobFailed'],{'err':_0x2f8305})),_0x594f69[_0xda3b53(0x815)]();}});_0x59c93d=setTimeout(()=>{const _0x327f56=a0_0x314b;_0x1cd9fe(new _0x1a8c20(_0x1a8c20['codes'][_0x327f56(0x91a)])),_0x594f69['unsubscribe']();},_0x44a697);});}async[_0x2aff22(0xb14)](_0x32b503,_0x3be6ee){const _0x22abcc=_0x2aff22,_0xa10142=await this['getJobObservable'](_0x32b503,_0x182c91[_0x22abcc(0x7f3)][_0x22abcc(0x47d)],_0x3be6ee);return new Promise((_0x5c8c97,_0x592ff8)=>{let _0x5371ad;const _0x5583bc=_0xa10142['subscribe']({'next':_0x22b0a7=>{const _0xa26bfb=a0_0x314b;switch(_0x22b0a7[_0xa26bfb(0x341)]){case _0x182c91[_0xa26bfb(0xa76)][_0xa26bfb(0x404)]:if('prompt'!==_0x22b0a7[_0xa26bfb(0x76c)][_0xa26bfb(0x751)])return;const _0x4ad71d=_0x22b0a7['result'][_0xa26bfb(0x8b2)]??0x0;this[_0xa26bfb(0x3dc)](_0x3be6ee[_0xa26bfb(0x54f)],_0x4ad71d),clearTimeout(_0x5371ad),_0x5c8c97(_0x22b0a7[_0xa26bfb(0x76c)]),_0x5583bc[_0xa26bfb(0x815)](),this[_0xa26bfb(0x470)]+=0x1,this[_0xa26bfb(0x479)]+=_0x4ad71d,this[_0xa26bfb(0x6c9)]();break;case _0x182c91[_0xa26bfb(0xa76)]['Failed']:clearTimeout(_0x5371ad),_0x592ff8(new _0x1a8c20(_0x1a8c20['codes'][_0xa26bfb(0x859)],{'updatedJob':_0x22b0a7})),_0x5583bc[_0xa26bfb(0x815)](),this[_0xa26bfb(0x6c9)]();}},'error':_0x11ae95=>{const _0x4f7b67=a0_0x314b;clearTimeout(_0x5371ad),_0x592ff8(new _0x1a8c20(_0x1a8c20[_0x4f7b67(0x92d)][_0x4f7b67(0x859)],{'err':_0x11ae95})),_0x5583bc[_0x4f7b67(0x815)]();}});_0x5371ad=setTimeout(()=>{const _0x239a7c=a0_0x314b;_0x592ff8(new _0x1a8c20(_0x1a8c20[_0x239a7c(0x92d)][_0x239a7c(0x91a)])),_0x5583bc[_0x239a7c(0x815)]();},_0x44a697);});}async*[_0x2aff22(0x86f)](_0x3f9957,_0x546512){const _0x46ebcd=_0x2aff22,_0x2137db=await this[_0x46ebcd(0xa33)](_0x3f9957,_0x182c91[_0x46ebcd(0x7f3)][_0x46ebcd(0x4e0)],_0x546512);let _0x46641c,_0x1240d0,_0xeac172=!0x1,_0x37cb90=0x0;const _0x12f75c=[],_0x4f8f68=new Map();let _0x3eb075=null;const _0x1fd61=()=>{_0x3eb075&&(_0x3eb075(),_0x3eb075=null);},_0x2aa3fd=_0x558090=>{_0xeac172=!0x0,_0x1fd61(),_0x4f4d21['unsubscribe'](),_0x1240d0=_0x558090;},_0x4f4d21=_0x2137db['subscribe']({'next':async _0x2a7981=>{const _0x271116=_0x46ebcd;switch(_0x2a7981[_0x271116(0x341)]){case _0x182c91[_0x271116(0xa76)][_0x271116(0x979)]:if(_0x271116(0x54f)!==_0x2a7981[_0x271116(0x76c)][_0x271116(0x751)])return;if(void 0x0!==_0x2a7981['result'][_0x271116(0x334)]){if(void 0x0===_0x2a7981[_0x271116(0x76c)]['index'])return void _0x2aa3fd(_0x1a8c20['codes']['GenerativeAIContextInvalidPartialResult']);_0x37cb90===_0x2a7981[_0x271116(0x76c)][_0x271116(0x787)]?(_0x12f75c[_0x271116(0x639)](_0x2a7981[_0x271116(0x76c)]),_0x37cb90++,((()=>{const _0x3944de=_0x271116;for(;_0x4f8f68[_0x3944de(0x938)](_0x37cb90);)_0x12f75c[_0x3944de(0x639)](_0x4f8f68[_0x3944de(0x9de)](_0x12f75c[_0x3944de(0x482)])),_0x4f8f68[_0x3944de(0xa6b)](_0x12f75c['length']),_0x37cb90++;})()),_0x1fd61(),_0x33c315()):_0x4f8f68[_0x271116(0x25c)](_0x2a7981[_0x271116(0x76c)]['index'],_0x2a7981[_0x271116(0x76c)]);}break;case _0x182c91[_0x271116(0xa76)][_0x271116(0x404)]:if(_0x271116(0x54f)!==_0x2a7981[_0x271116(0x76c)][_0x271116(0x751)])return;for(;_0x37cb90!==_0x2a7981[_0x271116(0x76c)][_0x271116(0x787)];)await _0x33cd0c[_0x271116(0x4ad)](0x3e8);const _0x1beaa5=_0x2a7981['result'][_0x271116(0x8b2)]??0x0;this[_0x271116(0x3dc)](_0x546512[_0x271116(0x54f)],_0x1beaa5),clearTimeout(_0x46641c),_0x2aa3fd(),this[_0x271116(0x470)]+=0x1,this[_0x271116(0x479)]+=_0x1beaa5,this[_0x271116(0x6c9)]();break;case _0x182c91[_0x271116(0xa76)]['Failed']:clearTimeout(_0x46641c),_0x2aa3fd(_0x1a8c20[_0x271116(0x92d)][_0x271116(0x859)]),this[_0x271116(0x6c9)]();}},'error':_0x53045b=>{const _0x2a60e6=_0x46ebcd;clearTimeout(_0x46641c),_0x2aa3fd(_0x1a8c20[_0x2a60e6(0x92d)][_0x2a60e6(0x859)]);}}),_0x332b21=()=>{const _0x2c19b3=_0x46ebcd;_0x2aa3fd(_0x1a8c20[_0x2c19b3(0x92d)][_0x2c19b3(0x91a)]);},_0x33c315=()=>{clearTimeout(_0x46641c),_0x46641c=setTimeout(_0x332b21,_0x44a697);};for(_0x46641c=setTimeout(_0x332b21,_0x44a697);!_0xeac172||_0x12f75c[_0x46ebcd(0x482)]>0x0;)_0x12f75c[_0x46ebcd(0x482)]>0x0?yield _0x12f75c[_0x46ebcd(0x631)]():await new Promise(_0x269196=>_0x3eb075=_0x269196);if(_0x1240d0)throw _0x11d8aa[_0x46ebcd(0x730)](_0x46ebcd(0xa4f),{'nodeId':this[_0x46ebcd(0x20e)]['getId'](),'nodeType':this['localNode'][_0x46ebcd(0x751)]}),new _0x1a8c20(_0x1240d0);}async[_0x2aff22(0x20a)](){const _0x3b3e2e=_0x2aff22;return(await _0x51b0dd[_0x3b3e2e(0xbd8)](this[_0x3b3e2e(0x97c)],this[_0x3b3e2e(0x4ea)]))[_0x3b3e2e(0x9ca)];}['logServiceEvent'](_0x29b071,_0x29cd57){const _0x54b812=_0x2aff22,_0x18f72f=this['label'],_0x4b8edb=this[_0x54b812(0x613)]();_0x11d8aa[_0x54b812(0x3dc)](_0x1bf76d[_0x54b812(0x51a)],{'topic':_0x18f72f,'prompt':_0x29b071,'type':_0x54b812(0x54f),'nodeId':_0x4b8edb,'tokenCount':_0x29cd57});}async[_0x2aff22(0xa33)](_0x5232ab,_0x4f2bfe,_0x9375ad,_0x29147c={}){const _0x2c5fb3=_0x2aff22;let _0x949a73;switch(_0x9375ad[_0x2c5fb3(0x751)]){case _0x2c5fb3(0x637):case _0x2c5fb3(0x286):case _0x2c5fb3(0xbb8):case _0x2c5fb3(0xa79):case _0x2c5fb3(0x9aa):case _0x2c5fb3(0xb9e):case'file-ingest':case _0x2c5fb3(0x611):case _0x2c5fb3(0x7a2):case _0x2c5fb3(0x54f):case'rate':case _0x2c5fb3(0x3f5):case _0x2c5fb3(0x868):case _0x2c5fb3(0x8e0):_0x949a73={'id':_0x5232ab,'jobType':_0x4f2bfe,'parameters':{..._0x29147c,..._0x9375ad},'status':_0x182c91['JobStatus'][_0x2c5fb3(0xaeb)]};break;default:throw new Error(_0x2c5fb3(0xab9));}return await this[_0x2c5fb3(0x2e0)](_0x949a73);}[_0x2aff22(0x6c9)](){const _0x22d844=_0x2aff22;this[_0x22d844(0x28b)]&&clearTimeout(this[_0x22d844(0x28b)]),this[_0x22d844(0x28b)]=setTimeout(async()=>{const _0x5de756=_0x22d844;delete this['debounceStats'],this[_0x5de756(0x7ef)][_0x5de756(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x5de756(0x41a)],'content':{'type':_0x4f0180[_0x5de756(0x202)],'label':this[_0x5de756(0x4ea)],'stats':{'timestamp':Date[_0x5de756(0x75c)](),'storage':0x0,'messagesSent':this[_0x5de756(0x688)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x5de756(0x439)],'bytesReceived':this[_0x5de756(0x664)],'writes':0x0,'reads':0x0,'prompts':this[_0x5de756(0x470)],'tokens':this[_0x5de756(0x479)]}}});},_0x59531c);}}var _0x3cde2e,_0x25e933,_0x192bcf,_0x42d38a,_0x2e062f,_0x2477dc,_0x1a1a96,_0x4978d9,_0x327cbb,_0x496729,_0x2d8cc1;!function(_0x489f58){const _0x1350ab=_0x2aff22;_0x489f58[_0x1350ab(0x2a9)]=_0x1350ab(0x2a9),_0x489f58['IngestTrace']=_0x1350ab(0x2d5),_0x489f58['RetrieveTrace']='RetrieveTrace',_0x489f58[_0x1350ab(0x580)]=_0x1350ab(0x580);}(_0x3cde2e||(_0x3cde2e={})),function(_0x469dd9){const _0x2cf698=_0x2aff22;_0x469dd9['ModelText']='ModelText',_0x469dd9['ModelVector']='ModelVector',_0x469dd9['VectorSearch']=_0x2cf698(0x32f),_0x469dd9[_0x2cf698(0x26d)]='EntityExtractor',_0x469dd9[_0x2cf698(0x237)]='GraphSearch',_0x469dd9[_0x2cf698(0x89f)]=_0x2cf698(0x89f);}(_0x25e933||(_0x25e933={})),function(_0x1debcc){const _0x1944c2=_0x2aff22;_0x1debcc[_0x1debcc[_0x1944c2(0x387)]=0x0]=_0x1944c2(0x387),_0x1debcc[_0x1debcc[_0x1944c2(0x6fa)]=0x5]='Info',_0x1debcc[_0x1debcc[_0x1944c2(0x4d9)]=0xa]=_0x1944c2(0x4d9),_0x1debcc[_0x1debcc[_0x1944c2(0x2de)]=0xf]=_0x1944c2(0x2de);}(_0x192bcf||(_0x192bcf={})),function(_0xb5a027){const _0x554d2e=_0x2aff22;_0xb5a027[_0x554d2e(0x56d)]=_0x554d2e(0x56d),_0xb5a027[_0x554d2e(0x1fe)]=_0x554d2e(0x1fe),_0xb5a027[_0x554d2e(0x2cb)]=_0x554d2e(0x2cb),_0xb5a027['Skill']='Skill',_0xb5a027[_0x554d2e(0x1f8)]=_0x554d2e(0x1f8),_0xb5a027[_0x554d2e(0x47d)]=_0x554d2e(0x47d),_0xb5a027[_0x554d2e(0x855)]='JobContext',_0xb5a027['Rating']='Rating';}(_0x42d38a||(_0x42d38a={})),function(_0x431342){const _0x46db46=_0x2aff22;_0x431342['Queued']=_0x46db46(0x7dc),_0x431342[_0x46db46(0x404)]=_0x46db46(0x404);}(_0x2e062f||(_0x2e062f={})),function(_0x3037d2){const _0x823262=_0x2aff22;_0x3037d2[_0x823262(0x7bb)]='InitialPrompt',_0x3037d2[_0x823262(0x672)]=_0x823262(0x672),_0x3037d2[_0x823262(0x6e3)]=_0x823262(0x6e3),_0x3037d2[_0x823262(0x8a0)]=_0x823262(0x8a0);}(_0x2477dc||(_0x2477dc={})),function(_0x5b8391){const _0x345951=_0x2aff22;_0x5b8391[_0x345951(0x92f)]=_0x345951(0x92f),_0x5b8391[_0x345951(0xa99)]=_0x345951(0xa99),_0x5b8391[_0x345951(0x26d)]=_0x345951(0x26d),_0x5b8391[_0x345951(0xb7f)]=_0x345951(0xb7f),_0x5b8391[_0x345951(0x2e3)]='Agent',_0x5b8391[_0x345951(0x8dc)]='ModelText',_0x5b8391[_0x345951(0x5cb)]=_0x345951(0x5cb),_0x5b8391[_0x345951(0xa6e)]=_0x345951(0xa6e),_0x5b8391['SentenceSplitter']=_0x345951(0x928),_0x5b8391[_0x345951(0x883)]=_0x345951(0x883),_0x5b8391['WordSplitter']=_0x345951(0x784);}(_0x1a1a96||(_0x1a1a96={})),function(_0xae672f){const _0x3db3d8=_0x2aff22;_0xae672f[_0x3db3d8(0x287)]=_0x3db3d8(0x287),_0xae672f[_0x3db3d8(0xab2)]='GetContextResult';}(_0x4978d9||(_0x4978d9={})),function(_0x2286a6){const _0x40bc56=_0x2aff22;_0x2286a6[_0x40bc56(0x342)]=_0x40bc56(0x342),_0x2286a6[_0x40bc56(0x33e)]=_0x40bc56(0x33e),_0x2286a6[_0x40bc56(0x684)]=_0x40bc56(0x684),_0x2286a6[_0x40bc56(0x793)]=_0x40bc56(0x793),_0x2286a6[_0x40bc56(0xabb)]=_0x40bc56(0xabb),_0x2286a6[_0x40bc56(0x2d0)]='ExecuteCustomSkill',_0x2286a6['QueryFile']=_0x40bc56(0xa9d),_0x2286a6[_0x40bc56(0x755)]='WriteFile',_0x2286a6['ExecuteWorkflow']=_0x40bc56(0x45c),_0x2286a6[_0x40bc56(0x5d5)]=_0x40bc56(0x5d5),_0x2286a6[_0x40bc56(0x34b)]=_0x40bc56(0x34b),_0x2286a6['FormSubmitForm']=_0x40bc56(0xbce);}(_0x327cbb||(_0x327cbb={})),function(_0x5f3e5c){const _0x2ec181=_0x2aff22;_0x5f3e5c[_0x2ec181(0x595)]=_0x2ec181(0x595),_0x5f3e5c[_0x2ec181(0x84f)]=_0x2ec181(0x84f);}(_0x496729||(_0x496729={})),function(_0x312b53){const _0x39d4d7=_0x2aff22;_0x312b53[_0x39d4d7(0x1fd)]=_0x39d4d7(0x1fd);}(_0x2d8cc1||(_0x2d8cc1={}));class _0xcc59b8{static [_0x2aff22(0xaa7)]=new _0xcc59b8();[_0x2aff22(0x1f2)]=[];[_0x2aff22(0xae2)]=!0x1;constructor(){}static[_0x2aff22(0x80c)](){const _0x5861ff=_0x2aff22;return _0xcc59b8[_0x5861ff(0xaa7)];}get['length'](){const _0x55493b=_0x2aff22;return this[_0x55493b(0x1f2)]['length'];}[_0x2aff22(0x801)](){const _0x5f0ef3=_0x2aff22;return!this[_0x5f0ef3(0xae2)];}['clear'](_0x1c7b94){const _0x2b9e80=_0x2aff22;_0x1c7b94?this[_0x2b9e80(0x1f2)]=this['jobQueue'][_0x2b9e80(0xae8)](_0x1592a9=>_0x1592a9[_0x2b9e80(0x96d)]!==_0x1c7b94):(this[_0x2b9e80(0x1f2)]=[],this[_0x2b9e80(0xae2)]=!0x1);}[_0x2aff22(0x62d)](_0x15d9f6,_0x4b6c7f){const _0x58929f=_0x2aff22;this[_0x58929f(0x1f2)][_0x58929f(0x639)]({'callback':_0x4b6c7f,'ownerId':_0x15d9f6}),this[_0x58929f(0x36f)]();}async['runJobQueue'](){const _0x33728b=_0x2aff22;if(!this[_0x33728b(0xae2)]){for(this[_0x33728b(0xae2)]=!0x0;this[_0x33728b(0x1f2)]['length']>0x0;){const _0x5a25fc=this[_0x33728b(0x1f2)]['shift']();if(_0x5a25fc)try{console[_0x33728b(0x275)](_0x33728b(0x258)),await _0x5a25fc['callback'](),console[_0x33728b(0x275)](_0x33728b(0x57b));}catch(_0x2df054){console[_0x33728b(0x730)](_0x33728b(0xbd5),_0x2df054);}}this[_0x33728b(0xae2)]=!0x1;}}}const _0x31cd8d=_0xcc59b8[_0x2aff22(0x80c)]();class _0x4da75d extends _0x4ba250{[_0x2aff22(0x42f)];[_0x2aff22(0xbb3)];constructor(_0x106fe3,_0x5e59db,_0x5682b9){super(_0x106fe3,_0x5e59db),this['capacityReporter']=_0x5682b9;}[_0x2aff22(0x708)](){const _0x5e2e32=_0x2aff22;return _0x182c91[_0x5e2e32(0x1c0)]['Job'];}['open'](){const _0x56d253=_0x2aff22;this[_0x56d253(0x80d)]();}[_0x2aff22(0x566)](){const _0xbe3939=_0x2aff22;this[_0xbe3939(0x7ef)]?.[_0xbe3939(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8['Content'],'content':{'type':_0x4f0180[_0xbe3939(0x2a7)],'label':this[_0xbe3939(0x4ea)]}});}['reset'](){const _0x26b8ef=_0x2aff22;this[_0x26b8ef(0xbb3)]?.(),delete this['unsubscribeListener'],this[_0x26b8ef(0x3f1)]();}[_0x2aff22(0xb97)](){const _0x68f9c9=_0x2aff22;_0x31cd8d[_0x68f9c9(0x56c)](this[_0x68f9c9(0x4ea)]),this['unsubscribeListener']?.(),delete this[_0x68f9c9(0xbb3)],super[_0x68f9c9(0xb97)]();}[_0x2aff22(0x801)](){const _0x3f6b42=_0x2aff22;return _0x31cd8d[_0x3f6b42(0x801)]();}['getBid'](){return 0x1;}[_0x2aff22(0x6e6)](_0x3ded99,_0x1b5b65,_0x286ce2){}[_0x2aff22(0x516)](_0x51c31b,_0x492eac){return _0x51c31b;}async['startTracing'](_0x1468ab,_0x23bc60){const _0x4af525=_0x2aff22;console['warn'](_0x4af525(0x1d3));}async[_0x2aff22(0xa0b)](_0xd4114a,_0x311ecd){const _0x15924c=_0x2aff22;console['warn'](_0x15924c(0x1d3));}[_0x2aff22(0x80d)](){const _0x522225=_0x2aff22;this[_0x522225(0xbb3)]||(this[_0x522225(0xbb3)]=this['onMessage'](async(_0x237b0a,_0x54942c)=>{const _0x7e811d=_0x522225;if(_0x11d8aa[_0x7e811d(0x6ea)](_0x23f9d6[_0x7e811d(0xb53)],_0x7e811d(0x33f),_0x54942c),!(_0x54942c instanceof File)){if(this[_0x7e811d(0x694)](_0x54942c))_0x11d8aa['log'](_0x23f9d6['Jobs'],_0x7e811d(0x7c3),_0x54942c),this[_0x7e811d(0x801)]()?this['sendBid'](_0x54942c['id'],_0x54942c[_0x7e811d(0x230)],_0x237b0a):this[_0x7e811d(0x1fb)](_0x54942c['id'],_0x54942c['jobType'],_0x237b0a);else{if(this[_0x7e811d(0x4b8)](_0x54942c)){_0x11d8aa[_0x7e811d(0x6ea)](_0x23f9d6[_0x7e811d(0xb53)],_0x7e811d(0x87b),_0x54942c);const {id:_0x2e6f3e,parameters:_0x4aaec4}=_0x54942c;await this[_0x7e811d(0xb71)](_0x2e6f3e,_0x4aaec4),this[_0x7e811d(0x88d)](_0x54942c['id'],_0x54942c,_0x237b0a);}}}}));}[_0x2aff22(0x4b9)](_0x45bfd1,_0x1fd3be,_0x11f5db){const _0x3a508c=_0x2aff22,_0x510052={'id':_0x45bfd1,'jobType':_0x1fd3be,'jobPhase':_0x4244a1['Bid'],'available':!0x0,'queueLength':_0x31cd8d[_0x3a508c(0x482)],'bid':this['getBid']()};_0x11d8aa[_0x3a508c(0x6ea)](_0x23f9d6[_0x3a508c(0xb53)],_0x3a508c(0x49c),_0x510052),this[_0x3a508c(0xb98)](_0x510052,[_0x11f5db]);}[_0x2aff22(0x1fb)](_0x3dee4c,_0x5cc40a,_0x14d62f){const _0x513cf2=_0x2aff22,_0x4bc5c5={'id':_0x3dee4c,'jobType':_0x5cc40a,'jobPhase':_0x4244a1[_0x513cf2(0x67e)],'available':!0x1,'queueLength':_0x31cd8d['length'],'bid':0x0};_0x11d8aa[_0x513cf2(0x6ea)](_0x23f9d6['Jobs'],_0x513cf2(0xa91),_0x4bc5c5),this[_0x513cf2(0xb98)](_0x4bc5c5,[_0x14d62f]);}async[_0x2aff22(0x88d)](_0x167b3d,_0x2e5b46,_0x77c613){const _0x4cdc6c=_0x2aff22;_0x11d8aa[_0x4cdc6c(0x6ea)](_0x23f9d6[_0x4cdc6c(0xb53)],_0x4cdc6c(0x9f6),_0x2e5b46);const _0x1cc6ec={'id':_0x167b3d,'jobType':_0x2e5b46['jobType'],'parameters':_0x2e5b46['parameters']};try{switch(_0x2e5b46[_0x4cdc6c(0x230)]){case _0x182c91[_0x4cdc6c(0x7f3)]['Job']:await this['processJob'](_0x167b3d,_0x2e5b46,_0x1cc6ec,_0x77c613);break;case _0x182c91['JobType'][_0x4cdc6c(0x4e0)]:await this[_0x4cdc6c(0x21c)](_0x167b3d,_0x2e5b46,_0x1cc6ec,_0x77c613);break;default:throw new Error(_0x4cdc6c(0x294));}}catch(_0x4bccd4){_0x11d8aa[_0x4cdc6c(0x730)](_0x4cdc6c(0x8d0),{'nodeId':this[_0x4cdc6c(0x43f)][_0x4cdc6c(0x781)](),'nodeType':this[_0x4cdc6c(0x43f)][_0x4cdc6c(0x751)],'data':{'job':_0x1cc6ec}},_0x4bccd4);const _0x29a7f0=_0x4bccd4 instanceof Error?_0x4bccd4[_0x4cdc6c(0x83d)]:_0x4cdc6c(0x38c),_0x2ac3d1={'id':_0x167b3d,'jobType':_0x2e5b46[_0x4cdc6c(0x230)],'jobPhase':_0x4244a1[_0x4cdc6c(0x8ee)],'message':_0x29a7f0};await this[_0x4cdc6c(0xb98)](_0x2ac3d1,[_0x77c613]);}}async[_0x2aff22(0xb52)](_0x292093,_0x4c65c9,_0x16806c,_0x3dc533){const _0x17a1e9=_0x2aff22,_0x282631=Date[_0x17a1e9(0x75c)](),_0x383e84=await this[_0x17a1e9(0x5db)](_0x292093,_0x16806c[_0x17a1e9(0xa27)]);this[_0x17a1e9(0x6e6)](_0x383e84,_0x282631,Date[_0x17a1e9(0x75c)]());const _0xff04b5={'id':_0x292093,'jobType':_0x4c65c9[_0x17a1e9(0x230)],'jobPhase':_0x4244a1[_0x17a1e9(0xa21)],'result':_0x383e84};_0x11d8aa[_0x17a1e9(0x6ea)](_0x23f9d6[_0x17a1e9(0xb53)],_0x17a1e9(0xa95),_0xff04b5),await this['send'](_0xff04b5,[_0x3dc533]),await this[_0x17a1e9(0xa0b)](_0x292093,_0x16806c[_0x17a1e9(0xa27)]);}async[_0x2aff22(0x21c)](_0xfaf023,_0x577386,_0x49c782,_0x3c0780){const _0x451e8b=_0x2aff22,_0x3f051e=Date[_0x451e8b(0x75c)]();let _0x2cbf4a=0x0,_0x5bbe59={};for await(const _0x22a80a of this['internalProcessJobStream'](_0x49c782['id'],_0x49c782['parameters'])){const _0x2834da={'id':_0xfaf023,'jobType':_0x577386[_0x451e8b(0x230)],'jobPhase':_0x4244a1[_0x451e8b(0x6a5)],'result':{..._0x22a80a,'index':_0x2cbf4a}};_0x11d8aa[_0x451e8b(0x6ea)](_0x23f9d6[_0x451e8b(0xb53)],_0x451e8b(0xb58),_0x2834da),this[_0x451e8b(0xb98)](_0x2834da,[_0x3c0780]),_0x5bbe59=this['accumulateResult'](_0x5bbe59,_0x22a80a),_0x2cbf4a++;}this[_0x451e8b(0x6e6)](_0x5bbe59,_0x3f051e,Date['now']());const _0x3006ee={'id':_0xfaf023,'jobType':_0x577386[_0x451e8b(0x230)],'jobPhase':_0x4244a1[_0x451e8b(0xa21)],'result':{..._0x5bbe59,'index':_0x2cbf4a}};_0x11d8aa[_0x451e8b(0x6ea)](_0x23f9d6[_0x451e8b(0xb53)],_0x451e8b(0xa95),_0x3006ee),await this[_0x451e8b(0xb98)](_0x3006ee,[_0x3c0780]),await this['stopTracing'](_0xfaf023,_0x49c782[_0x451e8b(0xa27)]);}[_0x2aff22(0x694)](_0x19aaa9){const _0x36d536=_0x2aff22;return _0x19aaa9[_0x36d536(0x25f)]===_0x4244a1[_0x36d536(0x213)];}['isJobAttribution'](_0x3501b8){const _0x3666b0=_0x2aff22;return _0x3501b8[_0x3666b0(0x25f)]===_0x4244a1[_0x3666b0(0x4f5)];}}const _0x5c92d1=new Map([[_0x2aff22(0xa23),{'id':_0x2aff22(0xa23),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0x2aff22(0x7d1)}],[_0x2aff22(0x7d1),{'id':'gpt-4o-mini','inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':'gpt-4o-mini'}],[_0x2aff22(0x3d3),{'id':_0x2aff22(0x3d3),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':_0x2aff22(0x525)}],[_0x2aff22(0x3dd),{'id':_0x2aff22(0x3dd),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x2aff22(0x3dd)}],[_0x2aff22(0x525),{'id':'gpt-4.1-nano','inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':'gpt-4.1-nano'}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':'gpt-4.1-nano'}],['o3',{'id':'o3','inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':_0x2aff22(0x525)}],[_0x2aff22(0x8f2),{'id':_0x2aff22(0x8f2),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x2aff22(0x525)}],[_0x2aff22(0x1f9),{'id':_0x2aff22(0x1f9),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':'gpt-4.1-nano'}],[_0x2aff22(0x919),{'id':_0x2aff22(0x919),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x2aff22(0x53a)}],[_0x2aff22(0x676),{'id':_0x2aff22(0x676),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x2aff22(0x53a)}],['claude-3-7-sonnet-latest',{'id':_0x2aff22(0x57a),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x2aff22(0x53a)}],[_0x2aff22(0x36e),{'id':_0x2aff22(0x36e),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x2aff22(0x36e)}],[_0x2aff22(0x6fb),{'id':_0x2aff22(0x6fb),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x2aff22(0x53a)}],[_0x2aff22(0x53a),{'id':_0x2aff22(0x53a),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':'claude-3-haiku-20240307'}],[_0x2aff22(0x946),{'id':_0x2aff22(0x946),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':'claude-3-haiku-20240307'}],[_0x2aff22(0x50d),{'id':_0x2aff22(0x50d),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':'sonar'}],['sonar-pro',{'id':'sonar-pro','inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':'sonar'}],[_0x2aff22(0x200),{'id':_0x2aff22(0x200),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x2aff22(0x50d)}],[_0x2aff22(0x471),{'id':_0x2aff22(0x471),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':'sonar'}],[_0x2aff22(0x87e),{'id':_0x2aff22(0x87e),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x2aff22(0x50d)}]]),_0x253243=new Map([['all-minilm-l12-v2',{'id':_0x2aff22(0x970),'engineType':_0x182c91[_0x2aff22(0x4ec)]['Llamacpp'],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x7ff)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x681)],'sourceUrl':_0x2aff22(0x8de)}],[_0x2aff22(0x5de),{'id':_0x2aff22(0x5de),'engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x7ff)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x681)],'sourceUrl':''}],[_0x2aff22(0x97d),{'id':_0x2aff22(0x97d),'engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x7ff)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x681)],'sourceUrl':''}],['llama-3.1-8b',{'id':_0x2aff22(0x378),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x96b)],'taskType':_0x182c91['GenerativeAITaskType']['TextGeneration'],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'sourceUrl':_0x2aff22(0x1e9)}],[_0x2aff22(0x98d),{'id':_0x2aff22(0x98d),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x96b)],'taskType':_0x182c91[_0x2aff22(0x78f)]['TextGeneration'],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'sourceUrl':_0x2aff22(0x786)}],[_0x2aff22(0x4c3),{'id':'phi-4-14b','engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x96b)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'sourceUrl':'https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf'}],[_0x2aff22(0xa23),{'id':'gpt-4o','engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91['GenerativeAIModelInputType'][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x937),'sourceUrl':''}],[_0x2aff22(0x7d1),{'id':'gpt-4o-mini','engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)]['TextGeneration'],'inputType':_0x182c91[_0x2aff22(0x249)]['Text'],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x937),'sourceUrl':''}],[_0x2aff22(0x3d3),{'id':_0x2aff22(0x3d3),'engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],[_0x2aff22(0x3dd),{'id':_0x2aff22(0x3dd),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91['GenerativeAIModelInputType'][_0x2aff22(0x5aa)],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],[_0x2aff22(0x525),{'id':_0x2aff22(0x525),'engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x3bd),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x182c91[_0x2aff22(0x4ec)]['OpenAI'],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91['GenerativeAIModelInputType']['Text'],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x937),'sourceUrl':''}],['o3',{'id':'o3','engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91['GenerativeAITaskType'][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x3bd),'sourceUrl':''}],['o3-mini',{'id':_0x2aff22(0x8f2),'engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91['GenerativeAIModelInputType'][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],['o4-mini',{'id':'o4-mini','engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)]['TextGeneration'],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x3bd),'sourceUrl':''}],['gpt-4o-realtime-preview',{'id':'gpt-4o-realtime-preview','engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x2d1)],'inputType':_0x182c91[_0x2aff22(0x249)]['Audio'],'outputType':_0x182c91['GenerativeAIModelOutputType']['Audio'],'knowledgeCutoffDate':_0x2aff22(0x57c),'sourceUrl':''}],[_0x2aff22(0x572),{'id':_0x2aff22(0x572),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91['GenerativeAITaskType'][_0x2aff22(0x2d1)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x312)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x312)],'knowledgeCutoffDate':_0x2aff22(0x57c),'sourceUrl':''}],[_0x2aff22(0xbf2),{'id':'gpt-4o-transcribe','engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x8c1)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x312)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'knowledgeCutoffDate':'','sourceUrl':''}],['gpt-4o-mini-transcribe',{'id':_0x2aff22(0x7ac),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x8c1)],'inputType':_0x182c91[_0x2aff22(0x249)]['Audio'],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x2aff22(0x1cf),{'id':_0x2aff22(0x1cf),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x8c1)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x312)],'outputType':_0x182c91[_0x2aff22(0x4f8)]['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x2aff22(0xaaf),{'id':_0x2aff22(0xaaf),'engineType':_0x182c91['GenerativeAIEngineType'][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x96a)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x312)],'knowledgeCutoffDate':'','sourceUrl':''}],['tts-1',{'id':_0x2aff22(0x4a6),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x96a)],'inputType':_0x182c91[_0x2aff22(0x249)]['Text'],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x312)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x2aff22(0x4a8),{'id':_0x2aff22(0x4a8),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x816)],'taskType':_0x182c91[_0x2aff22(0x78f)]['TextToSpeech'],'inputType':_0x182c91[_0x2aff22(0x249)]['Text'],'outputType':_0x182c91[_0x2aff22(0x4f8)]['Audio'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x2aff22(0x590),{'id':_0x2aff22(0x590),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x9c1)],'taskType':_0x182c91['GenerativeAITaskType']['TextToSpeech'],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x312)],'knowledgeCutoffDate':'','sourceUrl':''}],['eleven_turbo_v2_5',{'id':_0x2aff22(0x2d7),'engineType':_0x182c91['GenerativeAIEngineType']['ElevenLabs'],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x96a)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x312)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x2aff22(0x889),{'id':_0x2aff22(0x889),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x9c1)],'taskType':_0x182c91[_0x2aff22(0x78f)]['TextToSpeech'],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x312)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x2aff22(0x919),{'id':_0x2aff22(0x919),'engineType':_0x182c91[_0x2aff22(0x4ec)]['Anthropic'],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x833),'sourceUrl':''}],[_0x2aff22(0x676),{'id':'claude-sonnet-4-0','engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x1d5)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91['GenerativeAIModelInputType']['Text'],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x833),'sourceUrl':''}],[_0x2aff22(0x57a),{'id':_0x2aff22(0x57a),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x1d5)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91['GenerativeAIModelOutputType'][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x795),'sourceUrl':''}],[_0x2aff22(0x36e),{'id':_0x2aff22(0x36e),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x1d5)],'taskType':_0x182c91[_0x2aff22(0x78f)]['TextGeneration'],'inputType':_0x182c91['GenerativeAIModelInputType'][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)]['Text'],'knowledgeCutoffDate':_0x2aff22(0xbaf),'sourceUrl':''}],[_0x2aff22(0x6fb),{'id':_0x2aff22(0x6fb),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x1d5)],'taskType':_0x182c91[_0x2aff22(0x78f)]['TextGeneration'],'inputType':_0x182c91['GenerativeAIModelInputType'][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)]['Text'],'knowledgeCutoffDate':'July\x202024','sourceUrl':''}],['claude-3-haiku-20240307',{'id':'claude-3-haiku-20240307','engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x1d5)],'taskType':_0x182c91['GenerativeAITaskType'][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x8fc),'sourceUrl':''}],[_0x2aff22(0x946),{'id':_0x2aff22(0x946),'engineType':_0x182c91[_0x2aff22(0x4ec)][_0x2aff22(0x1d5)],'taskType':_0x182c91[_0x2aff22(0x78f)][_0x2aff22(0x316)],'inputType':_0x182c91[_0x2aff22(0x249)][_0x2aff22(0x5aa)],'outputType':_0x182c91[_0x2aff22(0x4f8)][_0x2aff22(0x5aa)],'knowledgeCutoffDate':_0x2aff22(0x8fc),'sourceUrl':''}]]),_0x2a97b4=require('rxjs/operators');class _0x17eb09{[_0x2aff22(0x745)];constructor(){this['subject']=new _0x13368a['Subject']();}[_0x2aff22(0x839)](_0xa4830b){const _0xbcb334=_0x2aff22;this[_0xbcb334(0x745)][_0xbcb334(0x8e5)](_0xa4830b);}async[_0x2aff22(0x300)](){const _0x5b3725=_0x2aff22;return(0x0,_0x13368a[_0x5b3725(0x4f4)])(this[_0x5b3725(0x745)]['pipe']((0x0,_0x2a97b4[_0x5b3725(0x4b5)])(0x1)));}}function _0x46c7c0(_0x1c629e){const _0xa2105f=_0x2aff22;try{return JSON[_0xa2105f(0x438)](_0x1c629e);}catch(_0x55819b){return _0x1c629e instanceof Error?_0x1c629e['toString']():JSON[_0xa2105f(0x438)]('Error\x20stringifying\x20object');}}class _0x3c88bd{static [_0x2aff22(0xaa7)];[_0x2aff22(0x782)]=_0x192bcf['Error'];[_0x2aff22(0x775)]=_0x192bcf[_0x2aff22(0x6fa)];[_0x2aff22(0x403)]=_0x42d38a['Retrieve'];[_0x2aff22(0x900)]={};static [_0x2aff22(0x80c)]=()=>(_0x3c88bd[_0x2aff22(0xaa7)]||(_0x3c88bd['instance']=new _0x3c88bd()),_0x3c88bd['instance']);async[_0x2aff22(0x95f)](_0x459cc1,_0x438eee,_0xb9b5be,_0x218c98){const _0x126cdb=_0x2aff22;try{if(this[_0x126cdb(0x900)][_0x438eee])return!0x0;const _0xac20cc={'vendorId':_0x459cc1,'workflowId':_0xb9b5be,'sequence':0x0};if(this[_0x126cdb(0x900)][_0x438eee]=_0xac20cc,!_0x218c98||!_0xb9b5be)return!0x0;const _0x52c701=(0x0,_0x181a71[_0x126cdb(0x3b5)])(_0x4d81d6[_0x126cdb(0x67b)](),_0x126cdb(0x42d)+_0x459cc1+'/workflows/'+_0xb9b5be+'/jobs',_0x438eee);return(await(0x0,_0x181a71[_0x126cdb(0x9b8)])(_0x52c701))['exists']()||await(0x0,_0x181a71[_0x126cdb(0x5c8)])(_0x52c701,{'threadId':_0x218c98,'startTime':(0x0,_0x181a71[_0x126cdb(0x7a9)])()}),!0x0;}catch(_0x44902d){return console[_0x126cdb(0x730)](_0x126cdb(0x59c),_0x44902d),!0x1;}}async[_0x2aff22(0x33a)](_0x2d7686,_0x50c0be,_0x1abd3e,_0x59d6a1){const _0x2d0c42=_0x2aff22;try{if(!this['openedTraces'][_0x2d7686])throw new Error(_0x2d0c42(0x6b8));const _0x3e7cdd=new Date(),_0x14a5d5=_0x3e7cdd['getFullYear']()+'-'+_0x3e7cdd['getMonth']()+'-'+_0x3e7cdd[_0x2d0c42(0x91e)](),_0x31c277=new Date(_0x3e7cdd[_0x2d0c42(0x79a)](),_0x3e7cdd[_0x2d0c42(0x4a0)](),_0x3e7cdd['getDate']()),_0x5bea35=this[_0x2d0c42(0x900)][_0x2d7686][_0x2d0c42(0x97c)],_0x4e870b=_0x50c0be+'-'+_0x14a5d5,_0x6110a=_0x5c92d1[_0x2d0c42(0x9de)](_0x50c0be);if(!_0x6110a)return void console[_0x2d0c42(0x730)](_0x2d0c42(0x38a),_0x50c0be);const _0x1a7fdc=_0x6110a[_0x2d0c42(0x39c)]*_0x1abd3e/0xf4240*0x64,_0x52ddf7=_0x6110a['outputTokenPrice']*_0x59d6a1/0xf4240*0x64,_0x412fc4=(0x0,_0x181a71[_0x2d0c42(0x3b5)])(_0x4d81d6['getFirestore'](),_0x2d0c42(0x42d)+_0x5bea35+'/usages',_0x4e870b);await(0x0,_0x181a71[_0x2d0c42(0x5c8)])(_0x412fc4,{'modelId':_0x50c0be,'date':_0x31c277,'inputTokens':(0x0,_0x181a71[_0x2d0c42(0x98f)])(_0x1abd3e),'outputTokens':(0x0,_0x181a71['increment'])(_0x59d6a1),'inputCredits':(0x0,_0x181a71[_0x2d0c42(0x98f)])(_0x1a7fdc),'outputCredits':(0x0,_0x181a71[_0x2d0c42(0x98f)])(_0x52ddf7),'totalCredits':(0x0,_0x181a71['increment'])(_0x1a7fdc+_0x52ddf7)},{'merge':!0x0});}catch(_0x496e5c){console[_0x2d0c42(0x730)](_0x2d0c42(0xa65),_0x496e5c);}}async[_0x2aff22(0x9f3)](_0x2aa33f){const _0x415776=_0x2aff22;try{const _0x5ab282=this[_0x415776(0x900)][_0x2aa33f['jobId']];if(!_0x5ab282)throw new Error(_0x415776(0x7af));_0x2aa33f[_0x415776(0x449)]=_0x5ab282[_0x415776(0x449)]++,_0x2aa33f[_0x415776(0x4da)]>=this['logLevel']&&console[_0x415776(0x6ea)](JSON[_0x415776(0x438)](_0x2aa33f,null,0x2)),await this[_0x415776(0x52b)](_0x2aa33f);}catch(_0x572a7b){console[_0x415776(0x730)](_0x415776(0x5fa),_0x572a7b);}}async[_0x2aff22(0xa9a)](_0x41b9b7,_0x4d3407){const _0x414949=_0x2aff22;if(!_0x3c88bd[_0x414949(0xaa7)])throw new Error(_0x414949(0x75e));if(!this[_0x414949(0x900)][_0x41b9b7])throw new Error(_0x414949(0x6b8));if(_0x4d3407&&this[_0x414949(0x900)][_0x41b9b7]['workflowId'])try{await(0x0,_0x181a71[_0x414949(0x5c8)])((0x0,_0x181a71['doc'])(_0x4d81d6[_0x414949(0x67b)](),_0x414949(0x42d)+this[_0x414949(0x900)][_0x41b9b7][_0x414949(0x97c)]+_0x414949(0xb16)+this[_0x414949(0x900)][_0x41b9b7][_0x414949(0x7bc)]+'/jobs',_0x41b9b7),{'endTime':(0x0,_0x181a71[_0x414949(0x7a9)])()},{'merge':!0x0}),this[_0x414949(0x897)](_0x41b9b7);}catch(_0x365ec9){console['error'](_0x414949(0x28f),_0x365ec9);}else this['setForDeletion'](_0x41b9b7);}[_0x2aff22(0x897)](_0x1d00c3){setTimeout(()=>{const _0x336b3b=a0_0x314b;delete this[_0x336b3b(0x900)][_0x1d00c3];},0x1b7740);}async[_0x2aff22(0x52b)](_0x280809){const _0x445076=_0x2aff22;if(_0x280809['traceLevel']<this[_0x445076(0x775)]&&_0x280809['jobType']!==this[_0x445076(0x403)])return;if(!this[_0x445076(0x900)][_0x280809[_0x445076(0xb2d)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0xea7a36=this[_0x445076(0x900)][_0x280809[_0x445076(0xb2d)]];try{const _0x3326c1=function(_0xefd06b){const _0x2b81f2=_0x445076,_0x3ef8ab=[_0x2b81f2(0x9ee),_0x2b81f2(0x3ad),'jobType','type',_0x2b81f2(0xb2d),_0x2b81f2(0x4da),'blockId',_0x2b81f2(0x341),_0x2b81f2(0x449),'errorDetails'],_0x44cb15={..._0xefd06b};for(const _0x22f5ed of _0x3ef8ab)delete _0x44cb15[_0x22f5ed];return{'timestamp':_0xefd06b[_0x2b81f2(0x3ad)],'jobType':_0xefd06b[_0x2b81f2(0x230)],'type':_0xefd06b[_0x2b81f2(0x751)],'jobId':_0xefd06b[_0x2b81f2(0xb2d)],'agentId':_0xefd06b[_0x2b81f2(0xa09)]??'','traceLevel':_0xefd06b[_0x2b81f2(0x4da)],'blockId':_0xefd06b[_0x2b81f2(0x6e2)]??'','startTime':_0xefd06b[_0x2b81f2(0x9ee)],'status':_0xefd06b[_0x2b81f2(0x341)],'sequence':_0xefd06b[_0x2b81f2(0x449)]??0x0,'errorDetails':_0xefd06b[_0x2b81f2(0xb22)]??'','metadata':_0x46c7c0(_0x44cb15)};}(_0x280809),_0x474510=(0x0,_0x360e63['v4'])();console[_0x445076(0x6ea)](_0x445076(0x689),_0x3326c1['type']),await(0x0,_0x181a71[_0x445076(0x5c8)])((0x0,_0x181a71[_0x445076(0x3b5)])(_0x4d81d6[_0x445076(0x67b)](),_0x445076(0x42d)+_0xea7a36[_0x445076(0x97c)]+_0x445076(0xb16)+_0xea7a36[_0x445076(0x7bc)]+_0x445076(0x54b)+_0x280809['jobId']+_0x445076(0x9cf),_0x474510),_0x3326c1),_0x280809['type']===_0x2d8cc1[_0x445076(0x1fd)]&&await(0x0,_0x181a71[_0x445076(0x5c8)])((0x0,_0x181a71['doc'])(_0x4d81d6[_0x445076(0x67b)](),_0x445076(0x42d)+_0xea7a36[_0x445076(0x97c)]+_0x445076(0xb16)+_0xea7a36['workflowId']+_0x445076(0x920),_0x280809[_0x445076(0xb2d)]),{'rating':_0x280809[_0x445076(0x1c4)]},{'merge':!0x0});}catch(_0x571c9c){console[_0x445076(0x730)](_0x445076(0x402),_0x571c9c);}}}const _0x2a3821=_0x3c88bd[_0x2aff22(0x80c)]();async function _0x13667f(_0x2108bf,_0x48034e,_0x51f23a,_0x5cbdc0,_0x14dae7,_0x1b5df3,_0x558193,_0x3089c0){const _0x5e2713=function(_0x231730,_0x12e2f0){const _0x2817cd=a0_0x314b,_0x3a3f5f=[];for(let _0xd0b4c0=0x0;_0xd0b4c0<_0x231730[_0x2817cd(0x482)];_0xd0b4c0+=_0x12e2f0['attributes'][_0x2817cd(0x5ab)]){let _0x5304fb=_0xd0b4c0-_0x12e2f0[_0x2817cd(0x9f2)][_0x2817cd(0x247)];_0x5304fb<0x0&&(_0x5304fb=0x0);let _0x517076=_0xd0b4c0+_0x12e2f0['attributes'][_0x2817cd(0x5ab)]+_0x12e2f0[_0x2817cd(0x9f2)]['overlap'];_0x517076>_0x231730[_0x2817cd(0x482)]&&(_0x517076=_0x231730[_0x2817cd(0x482)]),length||(length=_0xd0b4c0+_0x12e2f0['attributes'][_0x2817cd(0x5ab)],length>_0x231730['length']&&(length=_0x231730[_0x2817cd(0x482)])),_0x3a3f5f['push'](_0x231730[_0x2817cd(0x56f)](_0x5304fb,_0x517076));}return _0x3a3f5f;}(_0x48034e,_0x14dae7);await _0x13e4e5(_0x2108bf,_0x5e2713,_0x51f23a,_0x5cbdc0,_0x14dae7,_0x1b5df3,_0x558193,_0x3089c0);}async function _0x1f4ff7(_0x5571c0,_0x3ff3d4,_0x807d5c,_0xb88935,_0xb2b6b9,_0x182aae,_0x513569,_0x36292f){const _0x49cde4=_0x2aff22;if(_0xb2b6b9[_0x49cde4(0x7a0)]||(_0xb2b6b9[_0x49cde4(0x7a0)]={}),_0xb2b6b9[_0x49cde4(0x7a0)][_0x49cde4(0x807)]||(_0xb2b6b9[_0x49cde4(0x7a0)][_0x49cde4(0x807)]=[]),_0x3ff3d4 instanceof Array?_0xb2b6b9[_0x49cde4(0x7a0)]['queries']['push'](..._0x3ff3d4):_0xb2b6b9['accumulated'][_0x49cde4(0x807)][_0x49cde4(0x639)](_0x3ff3d4),_0xb2b6b9[_0x49cde4(0x6e9)]=_0xb2b6b9[_0x49cde4(0x6e9)]?_0xb2b6b9['timesCalled']+0x1:0x1,_0x5521b6(_0xb2b6b9,_0x182aae)>_0xb2b6b9[_0x49cde4(0x6e9)])return;if(0x0===_0xb2b6b9[_0x49cde4(0x7a0)]['queries']['length'])throw new Error(_0x49cde4(0x541));let _0x1c2f81=[];const _0x4fd72e=Date[_0x49cde4(0x75c)]();try{let _0x138308=0x0,_0x3b8cca=0x0;for(const _0x1004ac of _0xb2b6b9[_0x49cde4(0x7a0)][_0x49cde4(0x807)]){const _0x9bff3=await fetch(_0x4d302b[_0x49cde4(0xaee)]+_0x49cde4(0x43c)+_0xb2b6b9['id']+_0x49cde4(0x6a4),{'method':_0x49cde4(0x804),'headers':{'Content-Type':'application/json','x-vendor-id':_0x807d5c[_0x49cde4(0x97c)]},'body':JSON[_0x49cde4(0x438)]({'query':_0x1004ac})}),_0x5c4ffa=((await _0x9bff3['json']())[_0x49cde4(0x8e6)]??[])[_0x49cde4(0x8df)](_0xc0a2c4=>({'pathName':_0xc0a2c4['filename'],'relevance':_0xc0a2c4[_0x49cde4(0xbc2)],'content':_0xc0a2c4[_0x49cde4(0xb25)][_0x49cde4(0x9a0)]}));_0x1c2f81=Array[_0x49cde4(0x306)](new Set([..._0x1c2f81,..._0x5c4ffa])),_0x138308+=_0x5c4ffa[_0x49cde4(0x8b2)]??0x0,_0x3b8cca+=_0x5c4ffa[_0x49cde4(0x94a)]??0x0;}_0xb88935['inputTokens']+=_0x138308,_0xb88935[_0x49cde4(0x94a)]+=_0x3b8cca,_0xb88935['context']=Array[_0x49cde4(0x306)](new Set([..._0xb88935[_0x49cde4(0xb32)],..._0x1c2f81])),await _0x2a3821[_0x49cde4(0x9f3)]({'jobType':_0x42d38a[_0x49cde4(0x1f8)],'type':_0x2477dc[_0x49cde4(0x6e3)],'jobId':_0x5571c0,'threadId':_0x807d5c[_0x49cde4(0x7d7)],'traceLevel':_0x192bcf[_0x49cde4(0x6fa)],'startTime':_0x4fd72e,'timestamp':Date[_0x49cde4(0x75c)](),'blockId':_0xb2b6b9['id'],'status':_0x49cde4(0x6ce),'queries':_0xb2b6b9[_0x49cde4(0x7a0)][_0x49cde4(0x807)],'context':_0x1c2f81,'inputTokens':_0x138308,'outputTokens':_0x3b8cca});}catch(_0x1dccdb){console[_0x49cde4(0x730)](_0x1dccdb),await _0x2a3821['trace']({'jobType':_0x42d38a[_0x49cde4(0x1f8)],'type':_0x2477dc[_0x49cde4(0x6e3)],'jobId':_0x5571c0,'threadId':_0x807d5c[_0x49cde4(0x7d7)],'traceLevel':_0x192bcf[_0x49cde4(0x6fa)],'startTime':_0x4fd72e,'timestamp':Date[_0x49cde4(0x75c)](),'blockId':_0xb2b6b9['id'],'status':_0x49cde4(0x730),'queries':_0xb2b6b9[_0x49cde4(0x7a0)][_0x49cde4(0x807)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x13e4e5(_0x5571c0,'',_0x807d5c,_0xb88935,_0xb2b6b9,_0x182aae,_0x513569,_0x36292f);}async function _0x1e4983(_0x1f802a,_0x819845,_0x23eaac,_0x2e3f2d,_0xc77a66,_0x4f5598,_0x5117a7,_0x28e7d5){const _0x2d12ab=_0x2aff22,_0x59594e=await _0x5117a7['nlpLibraryConnector'][_0x2d12ab(0x653)](_0x819845);await _0x13e4e5(_0x1f802a,_0x59594e,_0x23eaac,_0x2e3f2d,_0xc77a66,_0x4f5598,_0x5117a7,_0x28e7d5);}async function _0x1b285a(_0x42d7d4,_0x34776d,_0x284bdb,_0x149983,_0x556a24,_0xc1e107,_0x29a044,_0xc08f3f){const _0x4764a1=function(_0x4185ae,_0x4a14bc){const _0x135c53=a0_0x314b,_0x198a96=[],_0x46102e=_0x4185ae[_0x135c53(0x99b)]('\x20');let _0x5987ab='',_0x54df9a=0x0,_0x43b2b4=0x0,_0x5575ca=0x0;for(const _0x1a8b49 of _0x46102e){if(_0x5987ab[_0x135c53(0x482)]+_0x1a8b49['length']>_0x4a14bc[_0x135c53(0x9f2)][_0x135c53(0x5ab)]){let _0x517698=_0x54df9a,_0x533da1='';for(;_0x517698>=0x0&&_0x533da1[_0x135c53(0x482)]+_0x46102e[_0x517698][_0x135c53(0x482)]<_0x4a14bc[_0x135c53(0x9f2)][_0x135c53(0x247)];)_0x533da1=_0x46102e[_0x517698]+'\x20'+_0x533da1,_0x517698--;let _0xba7fa0=_0x43b2b4,_0x334353='';for(;_0xba7fa0<_0x46102e['length']&&_0x334353[_0x135c53(0x482)]+_0x46102e[_0xba7fa0][_0x135c53(0x482)]<_0x4a14bc[_0x135c53(0x9f2)][_0x135c53(0x247)];)_0x334353+=_0x46102e[_0xba7fa0]+'\x20',_0xba7fa0++;_0x5987ab=_0x533da1+_0x5987ab+_0x334353,_0x198a96[_0x135c53(0x639)](_0x5987ab[_0x135c53(0x71c)]()),_0x5987ab='',_0x54df9a=_0x43b2b4;}_0x5987ab+=_0x1a8b49+'\x20',_0x43b2b4++,_0x5575ca+=_0x1a8b49[_0x135c53(0x482)]+0x1;}if(_0x5987ab['length']>0x0){let _0x5e92b0=_0x54df9a,_0x305189='';for(;_0x5e92b0>=0x0&&_0x305189[_0x135c53(0x482)]+_0x46102e[_0x5e92b0][_0x135c53(0x482)]<_0x4a14bc[_0x135c53(0x9f2)][_0x135c53(0x247)];)_0x305189=_0x46102e[_0x5e92b0]+'\x20'+_0x305189,_0x5e92b0--;_0x5987ab=_0x305189+_0x5987ab,_0x198a96[_0x135c53(0x639)](_0x5987ab[_0x135c53(0x71c)]());}return _0x198a96;}(_0x34776d,_0x556a24);await _0x13e4e5(_0x42d7d4,_0x4764a1,_0x284bdb,_0x149983,_0x556a24,_0xc1e107,_0x29a044,_0xc08f3f);}async function _0x13e4e5(_0x5cdc9f,_0x1345ba,_0x39cd83,_0x4073e5,_0x5cab17,_0x23812d,_0x40ab00,_0x1cf33d){const _0x23c361=_0x2aff22;if(await _0x33cd0c['wait'](0x1),_0x5cab17['links']){for(const _0x1c5f67 of _0x5cab17[_0x23c361(0x2d4)]){if(_0x1c5f67[_0x23c361(0x751)]===_0x16738a[_0x23c361(0xa88)])continue;const _0x4b441a=_0x23812d[_0x23c361(0x43b)](_0x327c96=>_0x327c96[_0x23c361(0x6c2)]===_0x1c5f67['uid']);if(_0x4b441a)switch(_0x4b441a[_0x23c361(0x751)]){case _0x187b0c[_0x23c361(0x2e3)]:_0x1c5f67['type']!==_0x16738a[_0x23c361(0x5aa)]&&_0x1c5f67[_0x23c361(0x751)]!==_0x16738a[_0x23c361(0xa67)]||_0x23c361(0xb85)!=typeof _0x1345ba||await _0x47f0cd(_0x5cdc9f,_0x1c5f67[_0x23c361(0x751)],_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d),_0x1c5f67['type']===_0x16738a['WaitTrue']&&_0x23c361(0x9eb)===_0x1345ba&&await _0x47f0cd(_0x5cdc9f,_0x1c5f67[_0x23c361(0x751)],_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d),_0x1c5f67[_0x23c361(0x751)]===_0x16738a[_0x23c361(0x33d)]&&_0x23c361(0x8e1)===_0x1345ba&&await _0x47f0cd(_0x5cdc9f,_0x1c5f67[_0x23c361(0x751)],_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d),_0x1c5f67[_0x23c361(0x751)]===_0x16738a['Audio']&&_0x23c361(0xb85)==typeof _0x1345ba&&await _0x47f0cd(_0x5cdc9f,_0x1c5f67[_0x23c361(0x751)],_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d);break;case _0x187b0c[_0x23c361(0x92f)]:_0x1c5f67[_0x23c361(0x751)]===_0x16738a[_0x23c361(0x5aa)]&&_0x23c361(0xb85)==typeof _0x1345ba&&await _0x13667f(_0x5cdc9f,_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d);break;case _0x187b0c[_0x23c361(0x6e3)]:_0x1c5f67['type']===_0x16738a[_0x23c361(0x5aa)]&&'string'==typeof _0x1345ba&&await _0x1f4ff7(_0x5cdc9f,_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d),_0x1c5f67[_0x23c361(0x751)]===_0x16738a[_0x23c361(0x5aa)]&&_0x1345ba instanceof Array&&await _0x1f4ff7(_0x5cdc9f,_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d);break;case _0x187b0c[_0x23c361(0x928)]:_0x1c5f67['type']===_0x16738a[_0x23c361(0x5aa)]&&_0x23c361(0xb85)==typeof _0x1345ba&&await _0x1e4983(_0x5cdc9f,_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d);break;case _0x187b0c[_0x23c361(0x784)]:_0x1c5f67[_0x23c361(0x751)]===_0x16738a[_0x23c361(0x5aa)]&&'string'==typeof _0x1345ba&&await _0x1b285a(_0x5cdc9f,_0x1345ba,_0x39cd83,_0x4073e5,_0x4b441a,_0x23812d,_0x40ab00,_0x1cf33d);}}_0x5cab17[_0x23c361(0x751)]!==_0x187b0c['Prompt']&&_0x5cab17[_0x23c361(0x751)]!==_0x187b0c[_0x23c361(0x69e)]||!_0x1cf33d||_0x1cf33d[_0x23c361(0x839)](void 0x0);}else _0x5cab17[_0x23c361(0x751)]!==_0x187b0c[_0x23c361(0x3e8)]&&_0x5cab17[_0x23c361(0x751)]!==_0x187b0c[_0x23c361(0x69e)]||!_0x1cf33d||_0x1cf33d[_0x23c361(0x839)](void 0x0);}function _0x5521b6(_0x22fe02,_0x454105){const _0x16e1df=_0x2aff22;let _0x5a1e4d=0x0;for(const _0x5022a9 of _0x454105)for(const _0x1c5d37 of _0x5022a9['links']??[])_0x1c5d37['type']!==_0x16738a['Context']&&_0x1c5d37[_0x16e1df(0x751)]!==_0x16738a[_0x16e1df(0xb11)]&&_0x1c5d37[_0x16e1df(0x751)]!==_0x16738a[_0x16e1df(0xa78)]&&_0x1c5d37[_0x16e1df(0x751)]!==_0x16738a[_0x16e1df(0x842)]&&_0x1c5d37['uid']===_0x22fe02['uid']&&_0x5a1e4d++;return _0x5a1e4d;}function _0x2948b9(_0x3a3b08,_0x4a15f3){const _0x223c4f=_0x2aff22,_0x5f25ac={'type':_0x3a3b08['type'],'name':_0x3a3b08['name']??'','description':_0x3a3b08[_0x223c4f(0x347)]??'','parameters':_0x3a3b08[_0x223c4f(0xa27)]??[],'headers':_0x3a3b08[_0x223c4f(0x248)]??[],'queryParameters':_0x3a3b08['queryParameters']??[],'bodyParameters':_0x3a3b08[_0x223c4f(0x809)]??[],'endpointUrl':_0x3a3b08[_0x223c4f(0x76b)]??'','endpointMethod':_0x3a3b08['endpointMethod']??'','contextInputVariable':_0x3a3b08[_0x223c4f(0x4ca)]??'','contextOutputVariable':_0x3a3b08[_0x223c4f(0xb86)]??'','modelId':_0x3a3b08[_0x223c4f(0x4ac)]??'','workflowId':_0x3a3b08[_0x223c4f(0x7bc)]??'','async':_0x3a3b08[_0x223c4f(0x44e)]??!0x1,'instructions':_0x3a3b08['instructions']??'','maxTokens':_0x3a3b08[_0x223c4f(0xa3e)]??0x0,'temperature':_0x3a3b08[_0x223c4f(0x83a)]??0x0,'grammar':_0x3a3b08['grammar']??_0x223c4f(0x78e),'collectionId':_0x3a3b08[_0x223c4f(0x751)]===_0x187b0c[_0x223c4f(0x6e3)]||_0x3a3b08['type']===_0x187b0c[_0x223c4f(0x2cb)]?_0x3a3b08['id']:'','shouldEmit':_0x3a3b08[_0x223c4f(0x2d4)]?.[_0x223c4f(0x4f7)](_0x4e456a=>_0x4e456a[_0x223c4f(0x751)]===_0x16738a[_0x223c4f(0x5aa)]&&_0x4a15f3['find'](_0x3a0ec1=>_0x3a0ec1[_0x223c4f(0x6c2)]===_0x4e456a['uid'])?.[_0x223c4f(0x751)]===_0x187b0c[_0x223c4f(0xa2c)])??!0x1};if(_0x3a3b08['type']===_0x187b0c['FormSkill'])return[{..._0x5f25ac,'type':_0x182c91[_0x223c4f(0x4f9)][_0x223c4f(0x8eb)],'questions':_0x3a3b08['questions']??[]},{..._0x5f25ac,'type':_0x182c91[_0x223c4f(0x4f9)][_0x223c4f(0x8cf)],'questions':_0x3a3b08[_0x223c4f(0x5c0)]??[]},{..._0x5f25ac,'type':_0x182c91['GenerativeAIInferenceToolType'][_0x223c4f(0x932)],'questions':_0x3a3b08[_0x223c4f(0x5c0)]??[]}];if(_0x3a3b08[_0x223c4f(0x751)]===_0x187b0c[_0x223c4f(0x2e3)]||_0x3a3b08[_0x223c4f(0x751)]===_0x187b0c[_0x223c4f(0x234)]||_0x3a3b08[_0x223c4f(0x751)]===_0x187b0c[_0x223c4f(0x910)]){const _0x23d99d=_0x4a15f3[_0x223c4f(0xae8)](_0x482eb5=>_0x482eb5[_0x223c4f(0x2d4)]?.['some'](_0x7b598e=>_0x7b598e[_0x223c4f(0x6c2)]===_0x3a3b08[_0x223c4f(0x6c2)]&&_0x7b598e['type']===_0x16738a['Tool']));if(_0x23d99d[_0x223c4f(0x482)]>0x0)return{..._0x5f25ac,'tools':_0x23d99d[_0x223c4f(0x91c)](_0x2c02e7=>_0x2948b9(_0x2c02e7,_0x4a15f3))};}return _0x5f25ac;}async function _0x47f0cd(_0x46cc04,_0x10f796,_0x1b5346,_0x59a4c3,_0x3bd170,_0x4b353d,_0x2a98da,_0x2b8f03,_0x1b4c1d){const _0x20aa0d=_0x2aff22,_0x3f10b3=_0x2b8f03['models'][_0x20aa0d(0x43b)](_0x4ee72e=>_0x4ee72e['id']===_0x4b353d[_0x20aa0d(0x4ac)]);if(!_0x3f10b3)throw new Error(_0x20aa0d(0x8c4)+_0x4b353d[_0x20aa0d(0x4ac)]);if(_0x3f10b3[_0x20aa0d(0xbc9)]!==_0x182c91[_0x20aa0d(0x78f)][_0x20aa0d(0x316)])return console[_0x20aa0d(0x6ea)](new Date()+'\x20Processing\x20audio\x20block'),void await _0x13e4e5(_0x46cc04,_0x1b5346,_0x59a4c3,_0x3bd170,_0x4b353d,_0x2a98da,_0x2b8f03,_0x1b4c1d);if(_0x4b353d[_0x20aa0d(0x7a0)]||(_0x4b353d[_0x20aa0d(0x7a0)]={}),_0x10f796===_0x16738a['Text']&&'string'==typeof _0x1b5346&&(_0x4b353d['accumulated'][_0x20aa0d(0x54f)]||(_0x4b353d[_0x20aa0d(0x7a0)]['prompt']=[]),_0x4b353d[_0x20aa0d(0x7a0)][_0x20aa0d(0x54f)][_0x20aa0d(0x639)](_0x1b5346)),_0x10f796===_0x16738a[_0x20aa0d(0xa78)])return _0x4b353d[_0x20aa0d(0x7a0)][_0x20aa0d(0x5e2)]||(_0x4b353d['accumulated'][_0x20aa0d(0x5e2)]=[]),void _0x4b353d['accumulated'][_0x20aa0d(0x5e2)][_0x20aa0d(0x639)](_0x1b5346);if(_0x10f796===_0x16738a[_0x20aa0d(0x842)])return _0x4b353d[_0x20aa0d(0x7a0)][_0x20aa0d(0x7c7)]||(_0x4b353d['accumulated'][_0x20aa0d(0x7c7)]=[]),void _0x4b353d['accumulated'][_0x20aa0d(0x7c7)]['push'](_0x1b5346);if(_0x4b353d[_0x20aa0d(0x6e9)]=_0x4b353d[_0x20aa0d(0x6e9)]?_0x4b353d[_0x20aa0d(0x6e9)]+0x1:0x1,_0x5521b6(_0x4b353d,_0x2a98da)>_0x4b353d[_0x20aa0d(0x6e9)])return;if(_0x11d8aa[_0x20aa0d(0x27e)](_0x20aa0d(0x2a1)+_0x4b353d['name'],_0x4b353d[_0x20aa0d(0x6e9)]),!_0x4b353d[_0x20aa0d(0x7a0)][_0x20aa0d(0x54f)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x4b353d['name']);const _0x1ce7e9=Date[_0x20aa0d(0x75c)](),_0x271ff5=(0x0,_0x360e63['v4'])();let _0x51b651='',_0x5f59c6=0x0,_0x2ed519=0x0;const _0x2a11e9=[],_0x1ae0b6=function(_0x1c28bb,_0x9c9d69,_0x2685cf,_0x589950){const _0x4eefd0=_0x20aa0d;if(_0x2685cf[_0x4eefd0(0x4ca)]){const _0x5dd5e6=_0x2685cf[_0x4eefd0(0x4ca)][_0x4eefd0(0x99b)](',');for(const _0x38eb63 of _0x5dd5e6)_0x4eefd0(0x5e2)!==_0x38eb63&&_0x4eefd0(0x7c7)!==_0x38eb63&&_0x9c9d69[_0x4eefd0(0xb93)]?.[_0x38eb63]&&(_0x1c28bb='<'+_0x38eb63+'>'+_0x9c9d69[_0x4eefd0(0xb93)][_0x38eb63]+'</'+_0x38eb63+_0x4eefd0(0xb41)+_0x1c28bb);}const _0x7e95d3=_0x589950['filter'](_0x5b1467=>_0x5b1467[_0x4eefd0(0x2d4)]?.[_0x4eefd0(0x4f7)](_0x102851=>_0x102851[_0x4eefd0(0x6c2)]===_0x2685cf[_0x4eefd0(0x6c2)]&&_0x102851[_0x4eefd0(0x751)]===_0x16738a[_0x4eefd0(0xb11)]));for(const _0x559e13 of _0x7e95d3)if(_0x559e13[_0x4eefd0(0x751)]===_0x187b0c[_0x4eefd0(0xa44)]){const _0xb31401=_0x559e13[_0x4eefd0(0x3b3)][_0x4eefd0(0x481)](/[^a-zA-Z]/g,''),_0x35be31=_0x9c9d69[_0x4eefd0(0xb93)]?.['question-'+_0xb31401];if(_0x35be31){const _0x5aaf9c=_0x559e13['questions'][_0x35be31];_0x5aaf9c&&(_0x1c28bb=_0x4eefd0(0x8dd)+JSON['stringify'](_0x5aaf9c)+'</current-question>\x0a\x0a'+_0x1c28bb);}}return _0x1c28bb;}(_0x4b353d[_0x20aa0d(0x7a0)][_0x20aa0d(0x54f)][_0x20aa0d(0x30c)]('\x0a\x0a'),_0x3bd170,_0x4b353d,_0x2a98da);let _0x1d8e56=_0x1ae0b6;if(_0x4b353d['accumulated'][_0x20aa0d(0x5e2)]){_0x20aa0d(0xb85)==typeof _0x1d8e56&&(_0x1d8e56=[],_0x1d8e56[_0x20aa0d(0x639)]({'type':'text','text':_0x1ae0b6}));for(const _0x915f38 of _0x4b353d[_0x20aa0d(0x7a0)]['files'])_0x1d8e56['push']({'type':'file','file':{'filename':(0x0,_0x360e63['v4'])()+_0x20aa0d(0x3eb),'file_data':_0x20aa0d(0x947)+_0x915f38}});}if(_0x4b353d[_0x20aa0d(0x7a0)]['images']){_0x20aa0d(0xb85)==typeof _0x1d8e56&&(_0x1d8e56=[],_0x1d8e56[_0x20aa0d(0x639)]({'type':'text','text':_0x1ae0b6}));for(const _0x3f5233 of _0x4b353d['accumulated'][_0x20aa0d(0x7c7)])_0x1d8e56['push']({'type':_0x20aa0d(0x320),'image_url':{'url':_0x20aa0d(0x947)+_0x3f5233}});}_0x2a11e9[_0x20aa0d(0x639)]({'role':_0x20aa0d(0x459),'content':_0x4fa15b(_0x59a4c3['instructions']??'',_0x4b353d,_0x3f10b3)}),_0x2a11e9[_0x20aa0d(0x639)](..._0x59a4c3[_0x20aa0d(0x329)]?.[_0x20aa0d(0x8df)](_0x531b5e=>({'role':_0x531b5e[_0x20aa0d(0x761)]===_0x182c91[_0x20aa0d(0x649)]['Human']?'user':'assistant','content':_0x531b5e[_0x20aa0d(0x83d)]}))??[]),_0x2a11e9['push']({'role':'user','content':_0x1d8e56});const _0x75af82=_0x2a98da['filter'](_0x41a442=>_0x41a442['links']?.[_0x20aa0d(0x4f7)](_0x466869=>_0x466869[_0x20aa0d(0x6c2)]===_0x4b353d[_0x20aa0d(0x6c2)]&&_0x466869[_0x20aa0d(0x751)]===_0x16738a[_0x20aa0d(0xb11)]))[_0x20aa0d(0x91c)](_0x18bdb2=>_0x2948b9(_0x18bdb2,_0x2a98da));if(_0x1b4c1d){const _0x5db5ce=_0x4b353d[_0x20aa0d(0x2d4)]?.['some'](_0x5b2b7a=>_0x5b2b7a[_0x20aa0d(0x751)]===_0x16738a[_0x20aa0d(0x5aa)]&&(_0x2a98da[_0x20aa0d(0x43b)](_0x3b1b43=>_0x3b1b43[_0x20aa0d(0x6c2)]===_0x5b2b7a['uid'])?.[_0x20aa0d(0x751)]===_0x187b0c[_0x20aa0d(0xa2c)]||_0x2a98da[_0x20aa0d(0x43b)](_0xed9d93=>_0xed9d93[_0x20aa0d(0x6c2)]===_0x5b2b7a[_0x20aa0d(0x6c2)])?.[_0x20aa0d(0x2d4)]?.[_0x20aa0d(0x4f7)](_0xe8f238=>_0xe8f238[_0x20aa0d(0x751)]===_0x16738a[_0x20aa0d(0x312)]&&_0x2a98da[_0x20aa0d(0x43b)](_0x391ee6=>_0x391ee6['uid']===_0xe8f238[_0x20aa0d(0x6c2)])?.[_0x20aa0d(0x751)]===_0x187b0c[_0x20aa0d(0xacd)])))??!0x1,_0x122a65=await fetch(_0x4d302b['apiUrl']+_0x20aa0d(0x7f9),{'method':'POST','headers':{'Accept':_0x20aa0d(0x6a0),'Content-Type':_0x20aa0d(0x429),'x-vendor-id':_0x59a4c3[_0x20aa0d(0x97c)]},'body':JSON[_0x20aa0d(0x438)]({'model':_0x4b353d['modelId'],'messages':_0x2a11e9,'max_completion_tokens':_0x4b353d[_0x20aa0d(0xa3e)],'temperature':_0x4b353d['temperature'],'metadata':{'threadId':_0x59a4c3[_0x20aa0d(0x7d7)],'agentId':_0x271ff5,'jobId':_0x46cc04,'workflowId':_0x59a4c3[_0x20aa0d(0x7bc)],'context':_0x3bd170[_0x20aa0d(0xb93)]??{}},'structured_output':_0x4b353d[_0x20aa0d(0x39b)],'tools':_0x75af82,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x122a65['ok']||!_0x122a65[_0x20aa0d(0x336)])return console[_0x20aa0d(0x730)](_0x20aa0d(0xa40)),void _0x1b4c1d[_0x20aa0d(0x839)](void 0x0);const _0x3b12cc=_0x122a65[_0x20aa0d(0x336)][_0x20aa0d(0xa02)](),_0x2a9da4=new TextDecoder();for(;;){const {value:_0x5e7599,done:_0x5a7ea6}=await _0x3b12cc[_0x20aa0d(0x4e9)]();if(_0x5a7ea6)break;const _0x43116d=_0x2a9da4[_0x20aa0d(0x8a7)](_0x5e7599,{'stream':!0x0});if(_0x20aa0d(0x8ea)===_0x43116d)break;const _0x17dd22=_0x2cc155(_0x43116d);for(const _0x380159 of _0x17dd22)_0x380159[_0x20aa0d(0x229)]&&_0x380159[_0x20aa0d(0x229)][0x0]&&(_0x5db5ce&&(_0x1b4c1d[_0x20aa0d(0x839)]({'output':_0x380159['choices'][0x0][_0x20aa0d(0xbaa)]['content'],'type':_0x20aa0d(0x54f)}),await _0x33cd0c[_0x20aa0d(0x4ad)](0x1)),_0x51b651+=_0x380159['choices'][0x0][_0x20aa0d(0xbaa)][_0x20aa0d(0xb25)]??'',_0x5f59c6=_0x380159[_0x20aa0d(0x5a7)]?.['prompt_tokens']??0x0,_0x2ed519=_0x380159['usage']?.['completion_tokens']??0x0,_0x3bd170[_0x20aa0d(0xb93)]={..._0x3bd170['internalContext'],..._0x380159[_0x20aa0d(0xb32)]});}_0x3bd170['outputTokens']=(_0x3bd170['outputTokens']??0x0)+_0x2ed519,_0x3bd170[_0x20aa0d(0x8b2)]=(_0x3bd170[_0x20aa0d(0x8b2)]??0x0)+_0x5f59c6,_0x1b4c1d['emit']({'output':_0x5db5ce?'\x0a\x0a':'','type':_0x20aa0d(0x54f)}),await _0x33cd0c[_0x20aa0d(0x4ad)](0x1);}else{const _0x143d80=await fetch(_0x4d302b[_0x20aa0d(0xaee)]+'/chat/completions',{'method':_0x20aa0d(0x804),'headers':{'Content-Type':_0x20aa0d(0x429),'x-vendor-id':_0x59a4c3[_0x20aa0d(0x97c)]},'body':JSON['stringify']({'model':_0x4b353d[_0x20aa0d(0x4ac)],'messages':_0x2a11e9,'max_completion_tokens':_0x4b353d[_0x20aa0d(0xa3e)],'temperature':_0x4b353d[_0x20aa0d(0x83a)],'metadata':{'threadId':_0x59a4c3['threadId'],'agentId':_0x271ff5,'jobId':_0x46cc04,'workflowId':_0x59a4c3['workflowId'],'context':_0x3bd170[_0x20aa0d(0xb93)]??{}},'structured_output':_0x4b353d[_0x20aa0d(0x39b)],'tools':_0x75af82})}),_0x2bd06d=await _0x143d80[_0x20aa0d(0xb7c)]();_0x51b651=_0x2bd06d['choices'][0x0]['message'][_0x20aa0d(0xb25)],_0x5f59c6=_0x2bd06d[_0x20aa0d(0x5a7)][_0x20aa0d(0x3e2)],_0x2ed519=_0x2bd06d[_0x20aa0d(0x5a7)][_0x20aa0d(0x7a7)],_0x3bd170[_0x20aa0d(0x334)]=_0x51b651,_0x3bd170['internalContext']={..._0x3bd170[_0x20aa0d(0xb93)],..._0x2bd06d[_0x20aa0d(0xb32)]},_0x3bd170[_0x20aa0d(0x94a)]=(_0x3bd170[_0x20aa0d(0x94a)]??0x0)+_0x2ed519,_0x3bd170['inputTokens']=(_0x3bd170['inputTokens']??0x0)+_0x5f59c6;}if(_0x4b353d[_0x20aa0d(0xb86)]&&(_0x3bd170[_0x20aa0d(0xb93)]||(_0x3bd170['internalContext']={}),_0x3bd170[_0x20aa0d(0xb93)][_0x4b353d[_0x20aa0d(0xb86)]]=_0x51b651),await _0x2a3821[_0x20aa0d(0x9f3)]({'jobType':_0x42d38a[_0x20aa0d(0x1f8)],'type':_0x2477dc[_0x20aa0d(0x672)],'jobId':_0x46cc04,'agentId':_0x271ff5,'threadId':_0x59a4c3[_0x20aa0d(0x7d7)],'traceLevel':_0x192bcf[_0x20aa0d(0x6fa)],'startTime':_0x1ce7e9,'timestamp':Date[_0x20aa0d(0x75c)](),'blockId':_0x4b353d['id'],'status':_0x20aa0d(0x6ce),'output':_0x51b651,'prompt':_0x1ae0b6,'agentName':_0x4b353d[_0x20aa0d(0x3b3)],'history':[],'instructions':''+_0x4b353d['instructions']+(_0x59a4c3['instructions']??''),'ragContext':[],'inputTokens':_0x5f59c6??0x0,'outputTokens':_0x2ed519??0x0}),_0x20aa0d(0x337)===_0x4b353d['grammar'])try{_0x51b651=JSON[_0x20aa0d(0x255)](_0x51b651)[_0x20aa0d(0x3db)]?'true':_0x20aa0d(0x8e1);}catch(_0x452c06){console[_0x20aa0d(0x730)](_0x20aa0d(0x998),_0x51b651),_0x51b651='false';}await _0x13e4e5(_0x46cc04,_0x51b651,_0x59a4c3,_0x3bd170,_0x4b353d,_0x2a98da,_0x2b8f03,_0x1b4c1d);}function _0x4fa15b(_0x99bff5,_0x1845a3,_0x1f7c3e){const _0x44808b=_0x2aff22;let _0x236e4d='';return _0x1f7c3e[_0x44808b(0x283)]&&''!==_0x1f7c3e[_0x44808b(0x283)]&&(_0x236e4d=_0x44808b(0x985)+_0x1f7c3e[_0x44808b(0x283)]+'\x0a\x0a'),_0x236e4d=_0x236e4d+_0x44808b(0x6dc)+new Date()[_0x44808b(0xb17)](void 0x0,{'weekday':_0x44808b(0x6b0),'year':_0x44808b(0xaa6),'month':_0x44808b(0x6b0),'day':_0x44808b(0xaa6)})+'\x0a\x0a',''+_0x236e4d+_0x1845a3[_0x44808b(0xa73)]+_0x99bff5;}function _0x2cc155(_0x1469c8){const _0x52f968=_0x2aff22;return _0x1469c8['split'](_0x52f968(0x873))[_0x52f968(0x8df)](_0x565133=>_0x565133[_0x52f968(0x481)](_0x52f968(0xaa8),'')['trim']())['filter'](_0x1193f0=>''!==_0x1193f0)[_0x52f968(0x8df)](_0x288b4b=>{const _0x3a7ab5=_0x52f968;if(_0x3a7ab5(0x6c5)===_0x288b4b)return null;try{return JSON['parse'](_0x288b4b);}catch(_0x2b1d6d){return console[_0x3a7ab5(0x730)](_0x3a7ab5(0x92a),_0x288b4b),null;}})[_0x52f968(0xae8)](_0xb50d4c=>null!==_0xb50d4c);}async function _0x1b658b(_0x1d477b,_0x4c83f8,_0x4400b3,_0x42d084,_0x56e37d,_0x213c0a,_0x10290f){const _0xa79dd=_0x2aff22,_0x3d5dd6='Execute\x20the\x20agent\x20'+_0x56e37d['description']+_0xa79dd(0x2df),_0x433a39={'prompt':{'type':_0x182c91[_0xa79dd(0x530)][_0xa79dd(0x984)]}};return await _0x2a3821[_0xa79dd(0x9f3)]({'jobType':_0x42d38a['JobContext'],'type':_0x496729[_0xa79dd(0x84f)],'jobId':_0x1d477b,'agentId':_0x4c83f8,'threadId':_0x4400b3[_0xa79dd(0x7d7)],'traceLevel':_0x192bcf[_0xa79dd(0x6fa)],'startTime':Date[_0xa79dd(0x75c)](),'timestamp':Date['now'](),'status':'success','function':_0x327cbb[_0xa79dd(0xabb)],'params':_0x433a39,'functionDescription':_0x3d5dd6}),{'description':_0x3d5dd6,'params':_0x433a39,'callback':async _0x4791e0=>_0x167ca4(_0x4400b3['vendorId'],_0x56e37d,_0x213c0a,_0x4791e0,_0x42d084,_0x1d477b,_0x4c83f8,_0x4400b3[_0xa79dd(0x7bc)],_0x4400b3['threadId'],_0x10290f)};}async function _0x167ca4(_0x5a8f5d,_0x5576af,_0x11191c,_0x3656a6,_0x2eace2,_0x39190f,_0x2afeed,_0x51c549,_0xa5504b,_0x38b566){const _0x1de9c5=_0x2aff22,_0x589a5d=Date[_0x1de9c5(0x75c)]();try{if(_0x1de9c5(0xb85)!=typeof _0x3656a6?.[_0x1de9c5(0x54f)])throw new Error(_0x1de9c5(0xa19));if(!_0x11191c[_0x1de9c5(0x9df)][_0x1de9c5(0x43b)](_0x3d1dec=>_0x3d1dec['id']===_0x5576af['modelId']))throw new Error(_0x1de9c5(0x3f3));let _0x3654bf='',_0x2b21ab=[];if(_0x5576af['instructions']&&_0x2b21ab[_0x1de9c5(0x639)]({'role':_0x1de9c5(0x459),'content':_0x5576af[_0x1de9c5(0xa73)]}),_0x2b21ab[_0x1de9c5(0x639)]({'role':_0x1de9c5(0x34d),'content':_0x3656a6[_0x1de9c5(0x54f)]}),_0x38b566&&_0x5576af[_0x1de9c5(0xb91)]){const _0xf34d05=await fetch(_0x4d302b['apiUrl']+_0x1de9c5(0x7f9),{'method':_0x1de9c5(0x804),'headers':{'Accept':_0x1de9c5(0x6a0),'Content-Type':_0x1de9c5(0x429),'x-vendor-id':_0x5a8f5d},'body':JSON[_0x1de9c5(0x438)]({'model':_0x5576af[_0x1de9c5(0x4ac)],'messages':_0x2b21ab,'max_completion_tokens':_0x5576af['maxTokens'],'temperature':_0x5576af['temperature'],'tools':_0x5576af[_0x1de9c5(0x887)],'structured_output':_0x5576af[_0x1de9c5(0x39b)],'metadata':{'threadId':_0xa5504b,'jobId':_0x39190f,'agentId':_0x2afeed,'workflowId':_0x51c549,'context':_0x2eace2?.[_0x1de9c5(0xb93)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0xf34d05['ok']||!_0xf34d05[_0x1de9c5(0x336)])return console[_0x1de9c5(0x730)](_0x1de9c5(0xa40)),_0x38b566['emit'](void 0x0),'Error\x20executing\x20agent';const _0x3c9613=_0xf34d05[_0x1de9c5(0x336)][_0x1de9c5(0xa02)](),_0x94cb8d=new TextDecoder();let _0x694f9e=0x0,_0x260e7f=0x0,_0x187935='';for(;;){const {value:_0x3d074c,done:_0x470e3b}=await _0x3c9613[_0x1de9c5(0x4e9)]();if(_0x470e3b)break;const _0x492830=_0x94cb8d[_0x1de9c5(0x8a7)](_0x3d074c,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x492830)break;const _0x5247b8=_0x2cc155(_0x492830);for(const _0x4ecbb9 of _0x5247b8)_0x4ecbb9[_0x1de9c5(0x229)]&&_0x4ecbb9[_0x1de9c5(0x229)][0x0]&&(_0x187935+=_0x4ecbb9[_0x1de9c5(0x229)][0x0]['delta'][_0x1de9c5(0xb25)],_0x694f9e+=_0x4ecbb9[_0x1de9c5(0x5a7)]?.[_0x1de9c5(0x91d)]??0x0,_0x260e7f+=_0x4ecbb9[_0x1de9c5(0x5a7)]?.[_0x1de9c5(0xadd)]??0x0,_0x2eace2&&(_0x2eace2[_0x1de9c5(0xb93)]={..._0x2eace2['internalContext'],..._0x4ecbb9[_0x1de9c5(0xb32)]}),_0x38b566['emit']({'output':_0x4ecbb9[_0x1de9c5(0x229)][0x0][_0x1de9c5(0xbaa)][_0x1de9c5(0xb25)],'type':_0x1de9c5(0x54f)}),await _0x33cd0c['wait'](0x1));}_0x2eace2&&(_0x2eace2[_0x1de9c5(0x94a)]=(_0x2eace2[_0x1de9c5(0x94a)]??0x0)+_0x260e7f,_0x2eace2[_0x1de9c5(0x8b2)]=(_0x2eace2['inputTokens']??0x0)+_0x694f9e,_0x5576af[_0x1de9c5(0xb86)]&&(_0x2eace2[_0x1de9c5(0xb93)]||(_0x2eace2['internalContext']={}),_0x2eace2[_0x1de9c5(0xb93)][_0x5576af[_0x1de9c5(0xb86)]]=_0x187935)),_0x38b566[_0x1de9c5(0x839)]({'output':'\x0a\x0a','type':_0x1de9c5(0x54f)}),await _0x33cd0c[_0x1de9c5(0x4ad)](0x1),_0x3654bf=_0x1de9c5(0x994);}else{const _0x2157aa=await fetch(_0x4d302b[_0x1de9c5(0xaee)]+_0x1de9c5(0x7f9),{'method':_0x1de9c5(0x804),'headers':{'Content-Type':_0x1de9c5(0x429),'x-vendor-id':_0x5a8f5d},'body':JSON['stringify']({'model':_0x5576af[_0x1de9c5(0x4ac)],'messages':_0x2b21ab,'max_completion_tokens':_0x5576af[_0x1de9c5(0xa3e)],'temperature':_0x5576af[_0x1de9c5(0x83a)],'tools':_0x5576af[_0x1de9c5(0x887)],'structured_output':_0x5576af[_0x1de9c5(0x39b)],'metadata':{'threadId':_0xa5504b,'jobId':_0x39190f,'agentId':_0x2afeed,'workflowId':_0x51c549,'context':_0x2eace2?.['internalContext']??{}}})}),_0x41721d=await _0x2157aa[_0x1de9c5(0xb7c)]();_0x3654bf=_0x41721d['choices'][0x0][_0x1de9c5(0x83d)][_0x1de9c5(0xb25)],_0x2eace2&&(_0x2eace2[_0x1de9c5(0xb93)]={..._0x2eace2['internalContext'],..._0x41721d[_0x1de9c5(0xb32)]},_0x2eace2[_0x1de9c5(0x94a)]=(_0x2eace2['outputTokens']??0x0)+_0x41721d[_0x1de9c5(0x5a7)][_0x1de9c5(0x7a7)],_0x2eace2[_0x1de9c5(0x8b2)]=(_0x2eace2[_0x1de9c5(0x8b2)]??0x0)+_0x41721d[_0x1de9c5(0x5a7)][_0x1de9c5(0x3e2)],_0x5576af[_0x1de9c5(0xb86)]&&(_0x2eace2[_0x1de9c5(0xb93)]||(_0x2eace2[_0x1de9c5(0xb93)]={}),_0x2eace2['internalContext'][_0x5576af[_0x1de9c5(0xb86)]]=_0x3654bf));}if(_0x1de9c5(0xb85)!=typeof _0x3654bf)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x39190f&&_0x2afeed&&_0xa5504b&&await _0x2a3821[_0x1de9c5(0x9f3)]({'jobType':_0x42d38a[_0x1de9c5(0xa7f)],'type':_0x327cbb['ExecuteAgent'],'jobId':_0x39190f,'blockId':'agent','agentId':_0x2afeed,'threadId':_0xa5504b,'traceLevel':_0x192bcf[_0x1de9c5(0x6fa)],'startTime':_0x589a5d,'timestamp':Date[_0x1de9c5(0x75c)](),'status':'success','agentName':_0x5576af[_0x1de9c5(0x3b3)],'prompt':_0x3656a6[_0x1de9c5(0x54f)],'instructions':_0x5576af[_0x1de9c5(0xa73)]??'','result':_0x3654bf,'inputTokens':0x0,'outputTokens':0x0}),_0x3654bf;}catch(_0x2dd0b2){return console['error'](_0x2dd0b2),_0x39190f&&_0x2afeed&&_0xa5504b&&await _0x2a3821[_0x1de9c5(0x9f3)]({'jobType':_0x42d38a['Skill'],'type':_0x327cbb[_0x1de9c5(0xabb)],'jobId':_0x39190f,'blockId':'agent','agentId':_0x2afeed,'threadId':_0xa5504b,'traceLevel':_0x192bcf[_0x1de9c5(0x6fa)],'startTime':_0x589a5d,'timestamp':Date['now'](),'status':'error','errorDetails':_0x393408(_0x2dd0b2),'agentName':_0x5576af[_0x1de9c5(0x3b3)],'prompt':_0x3656a6?.[_0x1de9c5(0x54f)]??'','instructions':_0x5576af[_0x1de9c5(0xa73)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x2dd0b2 instanceof Error?_0x2dd0b2[_0x1de9c5(0x83d)]:_0x1de9c5(0x1c3);}}async function _0x43ef5a(_0x1da6d7,_0x4dabb9,_0x1c7a98,_0x56cd5f,_0x50cfc6,_0x25479b){const _0x5cbfa7=_0x2aff22,_0x74657c=Date[_0x5cbfa7(0x75c)]();try{if(!_0x4dabb9['aiSearchConnector'])throw new Error(_0x5cbfa7(0x958));if(!_0x1da6d7[_0x5cbfa7(0x4ac)])throw new Error(_0x5cbfa7(0x7eb));if(_0x5cbfa7(0xb85)!=typeof _0x1c7a98?.['query'])throw new Error('Query\x20is\x20required');const _0xdd0aab=await _0x4dabb9[_0x5cbfa7(0x1e5)]['search'](_0x1c7a98[_0x5cbfa7(0x794)],_0x1da6d7[_0x5cbfa7(0x4ac)]);return _0x56cd5f&&_0x50cfc6&&_0x25479b&&(await _0x2a3821['logUsage'](_0x56cd5f,_0x1da6d7['modelId'],_0xdd0aab[_0x5cbfa7(0x8b2)],_0xdd0aab[_0x5cbfa7(0x94a)]),console[_0x5cbfa7(0x6ea)](new Date()+_0x5cbfa7(0x756),_0x1da6d7[_0x5cbfa7(0x4ac)],_0xdd0aab[_0x5cbfa7(0x8b2)],_0xdd0aab['outputTokens']),await _0x2a3821['trace']({'jobType':_0x42d38a[_0x5cbfa7(0xa7f)],'type':_0x327cbb[_0x5cbfa7(0x793)],'jobId':_0x56cd5f,'agentId':_0x50cfc6,'threadId':_0x25479b,'blockId':'ai-search','traceLevel':_0x192bcf[_0x5cbfa7(0x6fa)],'startTime':_0x74657c,'timestamp':Date['now'](),'status':_0x5cbfa7(0x6ce),'query':_0x1c7a98[_0x5cbfa7(0x794)],'results':_0xdd0aab[_0x5cbfa7(0x334)]})),_0xdd0aab[_0x5cbfa7(0x334)];}catch(_0xdaf99c){return console[_0x5cbfa7(0x730)](_0xdaf99c),_0x56cd5f&&_0x50cfc6&&_0x25479b&&await _0x2a3821[_0x5cbfa7(0x9f3)]({'jobType':_0x42d38a[_0x5cbfa7(0xa7f)],'type':_0x327cbb['SearchPerplexity'],'jobId':_0x56cd5f,'blockId':_0x5cbfa7(0xa8c),'traceLevel':_0x192bcf['Info'],'startTime':_0x74657c,'timestamp':Date[_0x5cbfa7(0x75c)](),'status':_0x5cbfa7(0x730),'errorDetails':_0x393408(_0xdaf99c),'agentId':_0x50cfc6,'threadId':_0x25479b,'query':_0x1c7a98?.[_0x5cbfa7(0x794)]??'','results':'Error\x20searching'}),_0xdaf99c instanceof Error?_0xdaf99c[_0x5cbfa7(0x83d)]:_0x5cbfa7(0x46e);}}async function _0x18803d(_0x1513da,_0x3d830a,_0x159675,_0x369107){const _0x45261a=_0x2aff22,_0x1216cb=Date[_0x45261a(0x75c)]();try{if(_0x45261a(0xb85)!=typeof _0x1513da?.[_0x45261a(0x400)])throw new Error(_0x45261a(0xb76));const _0x31e005=Function(''+_0x1513da?.[_0x45261a(0x400)])();let _0x5a6842='';try{_0x5a6842=JSON[_0x45261a(0x438)](_0x31e005);}catch{_0x5a6842=_0x31e005[_0x45261a(0x7e6)]();}return _0x3d830a&&_0x159675&&_0x369107&&await _0x2a3821[_0x45261a(0x9f3)]({'jobType':_0x42d38a[_0x45261a(0xa7f)],'type':_0x327cbb[_0x45261a(0x342)],'agentId':_0x159675,'threadId':_0x369107,'jobId':_0x3d830a,'blockId':_0x45261a(0x400),'traceLevel':_0x192bcf['Info'],'startTime':_0x1216cb,'timestamp':Date[_0x45261a(0x75c)](),'status':_0x45261a(0x6ce),'code':_0x1513da[_0x45261a(0x400)],'result':_0x5a6842}),_0x31e005;}catch(_0x2121fa){return console['error'](_0x2121fa),_0x3d830a&&_0x159675&&_0x369107&&await _0x2a3821[_0x45261a(0x9f3)]({'jobType':_0x42d38a[_0x45261a(0xa7f)],'type':_0x327cbb[_0x45261a(0x342)],'jobId':_0x3d830a,'blockId':_0x45261a(0x400),'traceLevel':_0x192bcf[_0x45261a(0x6fa)],'startTime':_0x1216cb,'timestamp':Date[_0x45261a(0x75c)](),'status':_0x45261a(0x730),'errorDetails':_0x393408(_0x2121fa),'agentId':_0x159675,'threadId':_0x369107,'code':_0x1513da?.[_0x45261a(0x400)]??'','result':'Error\x20executing\x20code'}),_0x2121fa instanceof Error?_0x2121fa[_0x45261a(0x83d)]:_0x45261a(0x243);}}async function _0xa2a2f3(_0x1322f9,_0x11bd6e,_0x11944e,_0x431893,_0x20fba6){const _0x33bad3=_0x2aff22,_0x243a0d='Search\x20in\x20data\x20collection\x20'+_0x20fba6[_0x33bad3(0x347)]+_0x33bad3(0x9d9),_0x524ce0={'queryOrPrompt':{'type':_0x182c91[_0x33bad3(0x530)][_0x33bad3(0x984)]}};return await _0x2a3821[_0x33bad3(0x9f3)]({'jobType':_0x42d38a['JobContext'],'type':_0x496729[_0x33bad3(0x595)],'jobId':_0x1322f9,'agentId':_0x11bd6e,'threadId':_0x11944e[_0x33bad3(0x7d7)],'blockId':_0x33bad3(0xa35),'traceLevel':_0x192bcf['Info'],'startTime':Date[_0x33bad3(0x75c)](),'timestamp':Date['now'](),'status':_0x33bad3(0x6ce),'function':_0x4978d9['GetContextQuery'],'params':_0x524ce0,'functionDescription':_0x243a0d}),{'description':_0x243a0d,'params':_0x524ce0,'callback':async _0xe04ac2=>_0x990ab6(_0x11944e['vendorId'],_0x20fba6,_0xe04ac2,_0x431893,_0x1322f9,_0x11bd6e,_0x11944e['threadId'])};}async function _0x990ab6(_0x1c8f27,_0x5d4128,_0x58b2b4,_0x28333d,_0x26d12f,_0x4ac6d6,_0x276988){const _0x44a225=_0x2aff22,_0x561d43=Date['now']();try{if(_0x44a225(0xb85)!=typeof _0x58b2b4?.[_0x44a225(0x6f3)])throw new Error(_0x44a225(0x48b));const _0x3d94a5=await fetch(_0x4d302b[_0x44a225(0xaee)]+'/vector_stores/'+_0x5d4128[_0x44a225(0x6f9)]+_0x44a225(0x6a4),{'method':_0x44a225(0x804),'headers':{'Content-Type':_0x44a225(0x429),'x-vendor-id':_0x1c8f27},'body':JSON[_0x44a225(0x438)]({'query':_0x58b2b4[_0x44a225(0x6f3)]})}),_0x38a1e0=((await _0x3d94a5[_0x44a225(0xb7c)]())[_0x44a225(0x8e6)]??[])[_0x44a225(0x8df)](_0x5b7586=>({'pathName':_0x5b7586['filename'],'relevance':_0x5b7586[_0x44a225(0xbc2)],'content':_0x5b7586[_0x44a225(0xb25)][_0x44a225(0x9a0)]}));return _0x28333d&&(_0x28333d[_0x44a225(0xb32)]=Array[_0x44a225(0x306)](new Set([..._0x28333d[_0x44a225(0xb32)]??[],..._0x38a1e0]))),_0x26d12f&&_0x4ac6d6&&_0x276988&&await _0x2a3821[_0x44a225(0x9f3)]({'jobType':_0x42d38a[_0x44a225(0x2cb)],'type':_0x4978d9[_0x44a225(0xab2)],'jobId':_0x26d12f,'blockId':'data-collection','agentId':_0x4ac6d6,'threadId':_0x276988,'traceLevel':_0x192bcf['Info'],'startTime':_0x561d43,'timestamp':Date[_0x44a225(0x75c)](),'status':_0x44a225(0x6ce),'query':_0x58b2b4[_0x44a225(0x6f3)],'context':_0x38a1e0??[],'inputTokens':0x0,'outputTokens':0x0}),_0x38a1e0[_0x44a225(0x317)]((_0x34538,_0x9220e7)=>_0x34538+'\x0a'+_0x9220e7[_0x44a225(0xb25)],'');}catch(_0x242932){return console[_0x44a225(0x730)](_0x242932),_0x26d12f&&_0x4ac6d6&&_0x276988&&await _0x2a3821['trace']({'jobType':_0x42d38a['Knowledge'],'type':_0x4978d9[_0x44a225(0xab2)],'jobId':_0x26d12f,'blockId':'data-collection','agentId':_0x4ac6d6,'threadId':_0x276988,'traceLevel':_0x192bcf[_0x44a225(0x6fa)],'startTime':_0x561d43,'timestamp':Date[_0x44a225(0x75c)](),'status':'error','errorDetails':_0x393408(_0x242932),'query':_0x58b2b4?.[_0x44a225(0x6f3)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x242932 instanceof Error?_0x242932[_0x44a225(0x83d)]:_0x44a225(0x5b0);}}async function _0x15c902(_0xe5fd59,_0x4694a6,_0x5bb0de,_0x5009d4,_0x451360){const _0x216585=_0x2aff22,_0x546b4e={};for(const _0xae4994 of _0x451360['parameters']??[])switch(_0xae4994[_0x216585(0x751)]){case _0x216585(0xb85):case _0x216585(0xb7c):_0x546b4e[_0xae4994['name']]={'type':_0x182c91[_0x216585(0x530)][_0x216585(0x984)]};break;case _0x216585(0xb63):_0x546b4e[_0xae4994[_0x216585(0x3b3)]]={'type':_0x182c91[_0x216585(0x530)][_0x216585(0xacb)]};break;case _0x216585(0x461):_0x546b4e[_0xae4994[_0x216585(0x3b3)]]={'type':_0x182c91['PromptFunctionParamsType'][_0x216585(0x71b)]};}return await _0x2a3821[_0x216585(0x9f3)]({'jobType':_0x42d38a[_0x216585(0x855)],'type':_0x496729[_0x216585(0x84f)],'jobId':_0xe5fd59,'agentId':_0x4694a6,'threadId':_0x5bb0de,'traceLevel':_0x192bcf[_0x216585(0x6fa)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x216585(0x6ce),'function':_0x327cbb[_0x216585(0x2d0)],'params':_0x546b4e,'functionDescription':_0x451360[_0x216585(0x347)]??''}),{'description':_0x216585(0x777)+_0x451360[_0x216585(0x347)],'params':_0x546b4e,'callback':async _0x3cf2ac=>_0x39d26a(_0x451360,_0x3cf2ac,_0x5009d4,_0xe5fd59,_0x4694a6,_0x5bb0de)};}async function _0x39d26a(_0x2f699c,_0x33f5dd,_0x7761ed,_0x167359,_0xe2b2e4,_0x5500ae){const _0x41718e=_0x2aff22,_0x5eca8e=Date[_0x41718e(0x75c)]();try{if(!_0x33f5dd)throw new Error('No\x20parameters\x20provided');for(const _0x36382e of _0x2f699c[_0x41718e(0xa27)]??[]){if(void 0x0===_0x33f5dd[_0x36382e[_0x41718e(0x3b3)]])throw new Error(_0x41718e(0x715)+_0x36382e['name']+_0x41718e(0x709));if(_0x41718e(0xb85)===_0x36382e[_0x41718e(0x751)]&&_0x41718e(0xb85)!=typeof _0x33f5dd[_0x36382e[_0x41718e(0x3b3)]])throw new Error(_0x41718e(0x715)+_0x36382e[_0x41718e(0x3b3)]+_0x41718e(0x4c1));if(_0x41718e(0xb63)===_0x36382e[_0x41718e(0x751)]&&'number'!=typeof _0x33f5dd[_0x36382e['name']])throw new Error(_0x41718e(0x715)+_0x36382e['name']+_0x41718e(0x5c3));if(_0x41718e(0x461)===_0x36382e[_0x41718e(0x751)]&&'boolean'!=typeof _0x33f5dd[_0x36382e[_0x41718e(0x3b3)]])throw new Error(_0x41718e(0x715)+_0x36382e['name']+_0x41718e(0x618));if(_0x41718e(0xb7c)===_0x36382e[_0x41718e(0x751)]&&_0x41718e(0xb85)!=typeof _0x33f5dd[_0x36382e[_0x41718e(0x3b3)]])throw new Error(_0x41718e(0x715)+_0x36382e[_0x41718e(0x3b3)]+_0x41718e(0x4c1));if(_0x41718e(0xb7c)===_0x36382e[_0x41718e(0x751)])try{_0x33f5dd[_0x36382e[_0x41718e(0x3b3)]]=JSON['parse'](_0x33f5dd[_0x36382e[_0x41718e(0x3b3)]]);}catch{throw new Error('Parameter\x20'+_0x36382e[_0x41718e(0x3b3)]+_0x41718e(0x926));}}const _0x563ca7={};for(const _0x351a5c of _0x2f699c[_0x41718e(0x248)]??[]){let _0x318f8f=_0x351a5c['value'];_0x318f8f[_0x41718e(0x71e)](/\$[a-zA-Z0-9]+/)&&(_0x318f8f=_0x318f8f['replace'](/\$[a-zA-Z0-9]+/g,_0x592822=>{const _0x485228=_0x41718e,_0x1fa731=_0x592822[_0x485228(0xac1)](0x1);return _0x33f5dd[_0x1fa731];})),_0x563ca7[_0x351a5c[_0x41718e(0x3b3)]]=_0x318f8f;}const _0x706fce=new URLSearchParams();for(const _0x11ad0d of _0x2f699c[_0x41718e(0x9d4)]??[]){let _0x45d307=_0x11ad0d[_0x41718e(0x435)];if(_0x41718e(0xb85)==typeof _0x45d307&&_0x45d307[_0x41718e(0x606)]('$')){const _0x22293c=_0x45d307[_0x41718e(0xac1)](0x1);_0x45d307=_0x33f5dd[_0x22293c];}if('string'==typeof _0x45d307&&_0x45d307['startsWith'](_0x41718e(0x8ad))){const _0x40aec9=_0x45d307['replace'](_0x41718e(0x8ad),'');_0x45d307=_0x7761ed?.[_0x41718e(0xb93)]?.[_0x40aec9];}if(_0x41718e(0xb85)==typeof _0x45d307&&(_0x45d307[_0x41718e(0x606)]('[')&&_0x45d307[_0x41718e(0x4be)](']')||_0x45d307[_0x41718e(0x606)]('{')&&_0x45d307[_0x41718e(0x4be)]('}')))try{_0x45d307=JSON[_0x41718e(0x255)](_0x45d307);}catch(_0x57af76){console['error'](_0x57af76);}_0x706fce[_0x41718e(0x55e)](_0x11ad0d[_0x41718e(0x3b3)],_0x45d307);}let _0x215d86,_0x228593=_0x2f699c[_0x41718e(0x76b)]??'';_0x706fce[_0x41718e(0x5ab)]>0x0&&(_0x228593+='?'+_0x706fce['toString']());for(const _0x32e423 of _0x2f699c['bodyParameters']??[]){void 0x0===_0x215d86&&(_0x215d86={});let _0x448588=_0x32e423[_0x41718e(0x435)];if(_0x41718e(0xb85)==typeof _0x448588&&_0x448588['startsWith']('$')){const _0x418845=_0x448588[_0x41718e(0xac1)](0x1);_0x448588=_0x33f5dd[_0x418845];}if(_0x41718e(0xb85)==typeof _0x448588&&_0x448588['startsWith'](_0x41718e(0x8ad))){const _0x58b5a3=_0x448588[_0x41718e(0x481)](_0x41718e(0x8ad),'');_0x448588=_0x7761ed?.[_0x41718e(0xb93)]?.[_0x58b5a3];}if(_0x41718e(0xb85)==typeof _0x448588&&(_0x448588[_0x41718e(0x606)]('[')&&_0x448588[_0x41718e(0x4be)](']')||_0x448588[_0x41718e(0x606)]('{')&&_0x448588[_0x41718e(0x4be)]('}')))try{_0x448588=JSON[_0x41718e(0x255)](_0x448588);}catch(_0x33c0dd){console[_0x41718e(0x730)](_0x33c0dd);}if(_0x41718e(0x812)===_0x32e423['name']){if(_0x41718e(0xb85)==typeof _0x448588){const _0x2a71b5=_0x448588[_0x41718e(0x71e)](/```html(.*)```/s);_0x2a71b5&&(_0x448588=_0x2a71b5[0x1]),_0x448588=_0x448588[_0x41718e(0x481)](/\n/g,''),_0x448588=_0x448588['replace'](/'/g,'\x22');}_0x215d86=_0x448588;break;}if(-0x1===_0x32e423[_0x41718e(0x3b3)][_0x41718e(0x26a)]('.'))_0x215d86[_0x32e423['name']]=_0x448588;else{const [_0x42da6b,_0x46f178]=_0x32e423[_0x41718e(0x3b3)][_0x41718e(0x99b)]('.');_0x215d86[_0x42da6b]||(_0x215d86[_0x42da6b]={}),_0x215d86[_0x42da6b][_0x46f178]=_0x448588;}}console['log'](_0x41718e(0x7ed)+_0x2f699c[_0x41718e(0x3b3)]+'\x20with\x20'+JSON[_0x41718e(0x438)](_0x215d86));const _0x323ac4=await fetch(_0x228593,{'method':_0x2f699c[_0x41718e(0x24d)],'headers':_0x563ca7,'body':void 0x0===_0x215d86?void 0x0:_0x41718e(0xb85)==typeof _0x215d86?_0x215d86:JSON[_0x41718e(0x438)](_0x215d86)});if(_0x323ac4['ok']){let _0x167f38=await _0x323ac4[_0x41718e(0xb7c)]();return _0x41718e(0xb85)!=typeof _0x167f38&&(_0x167f38=JSON[_0x41718e(0x438)](_0x167f38)),_0x167359&&_0xe2b2e4&&_0x5500ae&&await _0x2a3821[_0x41718e(0x9f3)]({'jobType':_0x42d38a[_0x41718e(0xa7f)],'type':_0x327cbb[_0x41718e(0x2d0)],'jobId':_0x167359,'agentId':_0xe2b2e4,'threadId':_0x5500ae,'blockId':_0x41718e(0x2e6),'traceLevel':_0x192bcf[_0x41718e(0x6fa)],'startTime':_0x5eca8e,'timestamp':Date[_0x41718e(0x75c)](),'status':_0x41718e(0x6ce),'skillName':_0x2f699c['name'],'params':_0x33f5dd,'result':_0x167f38}),_0x7761ed&&_0x2f699c[_0x41718e(0xb86)]&&''!==_0x2f699c['contextOutputVariable']&&(_0x7761ed['internalContext']||(_0x7761ed[_0x41718e(0xb93)]={}),_0x7761ed['internalContext'][_0x2f699c[_0x41718e(0xb86)]]=_0x167f38),_0x167f38;}throw new Error(_0x323ac4['statusText']);}catch(_0x234a06){console['error'](_0x234a06);const _0x48faf5=_0x234a06 instanceof Error?_0x234a06[_0x41718e(0x83d)]:'Error\x20fetching\x20URL';return _0x167359&&_0xe2b2e4&&_0x5500ae&&await _0x2a3821['trace']({'jobType':_0x42d38a['Skill'],'type':_0x327cbb[_0x41718e(0x2d0)],'jobId':_0x167359,'blockId':_0x41718e(0x2e6),'threadId':_0x5500ae,'traceLevel':_0x192bcf[_0x41718e(0x6fa)],'startTime':_0x5eca8e,'timestamp':Date[_0x41718e(0x75c)](),'agentId':_0xe2b2e4,'status':'error','skillName':_0x2f699c[_0x41718e(0x3b3)],'params':_0x33f5dd??{},'result':_0x48faf5}),_0x48faf5;}}async function _0x45e924(_0x237155,_0x5384d5,_0xd1e6d5,_0xf4d6de=!0x0){const _0x3962ff=_0x2aff22,_0x4310a5=_0x3962ff(0xb50),_0x587ca1={'url':{'type':_0x182c91['PromptFunctionParamsType']['String']},'page':{'type':_0x182c91[_0x3962ff(0x530)][_0x3962ff(0xacb)]}};return await _0x2a3821[_0x3962ff(0x9f3)]({'jobType':_0x42d38a['JobContext'],'type':_0x496729[_0x3962ff(0x84f)],'jobId':_0x237155,'agentId':_0x5384d5,'threadId':_0xd1e6d5,'traceLevel':_0x192bcf['Info'],'startTime':Date[_0x3962ff(0x75c)](),'timestamp':Date[_0x3962ff(0x75c)](),'status':_0x3962ff(0x6ce),'function':_0x327cbb['FetchUrl'],'params':_0x587ca1,'functionDescription':_0x4310a5}),{'description':_0x4310a5,'params':_0x587ca1,'callback':async _0x4a2c36=>_0x691b6d(_0x4a2c36,_0xf4d6de,_0x237155,_0x5384d5,_0xd1e6d5)};}async function _0x691b6d(_0x127374,_0x5c0fd3=!0x0,_0x47d82b,_0x2e9a36,_0x44b38f){const _0x4fd933=_0x2aff22,_0xad1d9=Date[_0x4fd933(0x75c)]();try{if(_0x4fd933(0xb85)!=typeof _0x127374?.[_0x4fd933(0x238)])throw new Error('URL\x20is\x20required');const _0x4149e5=_0x127374[_0x4fd933(0x238)];if([_0x4fd933(0x3eb),_0x4fd933(0x2dd),_0x4fd933(0x462),_0x4fd933(0x7e5),_0x4fd933(0x9d5),'.xls',_0x4fd933(0x4d4)]['some'](_0x3a19e9=>_0x4149e5[_0x4fd933(0x4be)](_0x3a19e9)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x3b379c=await fetch(_0x4149e5),_0x387047=await _0x3b379c[_0x4fd933(0x9a0)]();let _0x13dcd8=_0x387047;if(_0x5c0fd3){const _0x366e45=_0x387047[_0x4fd933(0x71e)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x2c48cb=_0x366e45?_0x366e45[0x1]:_0x387047,_0x1bc661=_0x2c48cb[_0x4fd933(0x481)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x4fd933(0x481)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x4fd933(0x481)](/<br\s*\/?>/gi,'\x20')[_0x4fd933(0x481)](/&nbsp;/g,'\x20');_0x13dcd8=_0x1bc661[_0x4fd933(0x481)](/<\/?[^>]+(>|$)/g,'')[_0x4fd933(0x481)](/\s\s+/g,'\x20')[_0x4fd933(0x71c)]();}const _0x126b5c=_0x4fd933(0xb63)==typeof _0x127374[_0x4fd933(0xb2e)]?_0x127374['page']:0x1,_0x4ba30c=Math[_0x4fd933(0x700)](_0x13dcd8[_0x4fd933(0x482)]/_0x16ceee);return _0x13dcd8[_0x4fd933(0x482)]>_0x16ceee&&(_0x13dcd8=_0x13dcd8['substring']((_0x126b5c-0x1)*_0x16ceee,(_0x126b5c-0x1)*_0x16ceee+_0x16ceee)+_0x4fd933(0x9d7)+(_0x126b5c+0x1)+_0x4fd933(0x526)+_0x4ba30c+'.'),_0x47d82b&&_0x2e9a36&&_0x44b38f&&await _0x2a3821[_0x4fd933(0x9f3)]({'jobType':_0x42d38a['Skill'],'type':_0x327cbb[_0x4fd933(0x33e)],'jobId':_0x47d82b,'agentId':_0x2e9a36,'threadId':_0x44b38f,'blockId':'fetch-url','traceLevel':_0x192bcf[_0x4fd933(0x6fa)],'startTime':_0xad1d9,'timestamp':Date[_0x4fd933(0x75c)](),'status':_0x3b379c['ok']?_0x4fd933(0x6ce):_0x4fd933(0x730),'url':_0x127374[_0x4fd933(0x238)],'page':_0x126b5c,'totalPages':_0x4ba30c,'response':_0x13dcd8}),_0x13dcd8;}catch(_0x47cb5a){console[_0x4fd933(0x730)](_0x47cb5a);const _0x37846d=_0x47cb5a instanceof Error?_0x47cb5a['message']:'Error\x20fetching\x20URL';return _0x47d82b&&_0x2e9a36&&_0x44b38f&&await _0x2a3821[_0x4fd933(0x9f3)]({'jobType':_0x42d38a[_0x4fd933(0xa7f)],'type':_0x327cbb[_0x4fd933(0x33e)],'jobId':_0x47d82b,'blockId':_0x4fd933(0x301),'threadId':_0x44b38f,'traceLevel':_0x192bcf[_0x4fd933(0x6fa)],'startTime':_0xad1d9,'timestamp':Date['now'](),'agentId':_0x2e9a36,'status':_0x4fd933(0x730),'errorDetails':_0x393408(_0x47cb5a),'url':_0x127374?.[_0x4fd933(0x238)]??'','page':0x0,'totalPages':0x0,'response':_0x37846d}),_0x37846d;}}async function _0x4a3f22(_0xb57f2c,_0x94c237,_0x199a2f,_0x11025d,_0x5253f1){const _0x8c0f9d=_0x2aff22,_0x240f63=Date[_0x8c0f9d(0x75c)]();try{if(!_0xb57f2c[_0x8c0f9d(0xb06)])throw new Error(_0x8c0f9d(0x2bd));if(_0x8c0f9d(0xb85)!=typeof _0x94c237?.['query'])throw new Error('Query\x20is\x20required');const _0x2f2f08=await _0xb57f2c[_0x8c0f9d(0xb06)]['search'](_0x94c237[_0x8c0f9d(0x794)],_0x4d302b['google'][_0x8c0f9d(0x77a)]);let _0x5562a3='';for(const _0x3e8e39 of _0x2f2f08)_0x5562a3+=_0x3e8e39['title']+_0x8c0f9d(0x20d)+_0x3e8e39['url']+'\x0a'+_0x3e8e39[_0x8c0f9d(0x1b3)]+'\x0a\x0a';return _0x199a2f&&_0x11025d&&_0x5253f1&&await _0x2a3821[_0x8c0f9d(0x9f3)]({'jobType':_0x42d38a[_0x8c0f9d(0xa7f)],'type':_0x327cbb['SearchGoogle'],'jobId':_0x199a2f,'agentId':_0x11025d,'threadId':_0x5253f1,'blockId':_0x8c0f9d(0xb81),'traceLevel':_0x192bcf[_0x8c0f9d(0x6fa)],'startTime':_0x240f63,'timestamp':Date[_0x8c0f9d(0x75c)](),'status':_0x8c0f9d(0x6ce),'query':_0x94c237[_0x8c0f9d(0x794)],'results':_0x5562a3}),_0x5562a3;}catch(_0x10772e){return console[_0x8c0f9d(0x730)](_0x10772e),_0x199a2f&&_0x11025d&&_0x5253f1&&await _0x2a3821[_0x8c0f9d(0x9f3)]({'jobType':_0x42d38a[_0x8c0f9d(0xa7f)],'type':_0x327cbb[_0x8c0f9d(0x684)],'jobId':_0x199a2f,'blockId':_0x8c0f9d(0xb81),'traceLevel':_0x192bcf[_0x8c0f9d(0x6fa)],'startTime':_0x240f63,'timestamp':Date['now'](),'status':_0x8c0f9d(0x730),'errorDetails':_0x393408(_0x10772e),'agentId':_0x11025d,'threadId':_0x5253f1,'query':_0x94c237?.[_0x8c0f9d(0x794)]??'','results':_0x8c0f9d(0x46e)}),_0x10772e instanceof Error?_0x10772e[_0x8c0f9d(0x83d)]:_0x8c0f9d(0x46e);}}async function _0x51782d(_0x16b51c,_0xee0864,_0x3fc1da,_0x24e024,_0x5a82c5,_0x1bc3c5){const _0xa73a6c=_0x2aff22,_0x5bf0aa='Execute\x20the\x20workflow\x20'+_0x5a82c5['description']+_0xa73a6c(0x2df),_0x5dc342={'prompt':{'type':_0x182c91['PromptFunctionParamsType'][_0xa73a6c(0x984)]}};return await _0x2a3821[_0xa73a6c(0x9f3)]({'jobType':_0x42d38a[_0xa73a6c(0x855)],'type':_0x496729[_0xa73a6c(0x84f)],'jobId':_0x16b51c,'agentId':_0xee0864,'threadId':_0x3fc1da['threadId'],'traceLevel':_0x192bcf[_0xa73a6c(0x6fa)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0xa73a6c(0x6ce),'function':_0x327cbb[_0xa73a6c(0x45c)],'params':_0x5dc342,'functionDescription':_0x5bf0aa}),{'description':_0x5bf0aa,'params':_0x5dc342,'callback':async _0x1ff0d2=>_0x5d6649(_0x3fc1da['vendorId'],_0x5a82c5,_0x1ff0d2,_0x24e024,_0x16b51c,_0xee0864,_0x3fc1da['threadId'],_0x1bc3c5)};}async function _0x5d6649(_0x119ca5,_0x28edbf,_0x5c50f4,_0x9fe5b1,_0x2fe8fc,_0x100cb2,_0x3d9fcd,_0x320bed){const _0x514aa4=_0x2aff22,_0x4c35f9=Date[_0x514aa4(0x75c)]();try{if(_0x514aa4(0xb85)!=typeof _0x5c50f4?.[_0x514aa4(0x54f)])throw new Error(_0x514aa4(0xa19));let _0x2562d2='';const _0xf46ace=_0x28edbf[_0x514aa4(0x4ca)]?.[_0x514aa4(0x99b)](',')??[];let _0x6bf0d8=_0x5c50f4[_0x514aa4(0x54f)];for(const _0xe7b1b1 of _0xf46ace){const _0x56f045=_0x9fe5b1?.['internalContext']?.[_0xe7b1b1];_0x56f045&&(_0x6bf0d8='<'+_0xe7b1b1+'>\x0a'+_0x56f045+_0x514aa4(0x263)+_0xe7b1b1+_0x514aa4(0xb41)+_0x6bf0d8);}let _0x5af663=[{'role':_0x514aa4(0x34d),'content':_0x6bf0d8}];if(_0x320bed&&_0x28edbf['shouldEmit']){const _0x5e3854=await fetch(_0x4d302b[_0x514aa4(0xaee)]+_0x514aa4(0xb16)+_0x28edbf[_0x514aa4(0x7bc)]+'/chat/completions',{'method':_0x514aa4(0x804),'headers':{'Accept':_0x514aa4(0x6a0),'Content-Type':_0x514aa4(0x429),'x-vendor-id':_0x119ca5},'body':JSON['stringify']({'model':_0x28edbf['modelId'],'messages':_0x5af663,'max_completion_tokens':_0x28edbf[_0x514aa4(0xa3e)],'temperature':_0x28edbf['temperature'],'tools':_0x28edbf['tools'],'structured_output':_0x28edbf[_0x514aa4(0x39b)],'metadata':{'threadId':_0x3d9fcd,'jobId':_0x2fe8fc,'agentId':_0x100cb2,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x5e3854['ok']||!_0x5e3854[_0x514aa4(0x336)])return console[_0x514aa4(0x730)](_0x514aa4(0x5a4)),_0x320bed[_0x514aa4(0x839)](void 0x0),_0x514aa4(0x85d);const _0x3a1a81=_0x5e3854[_0x514aa4(0x336)][_0x514aa4(0xa02)](),_0x189b83=new TextDecoder();let _0x5a9011=0x0,_0x1551dd=0x0,_0x1e5cb8='';for(;;){const {value:_0x7dd9d1,done:_0x231a8b}=await _0x3a1a81[_0x514aa4(0x4e9)]();if(_0x231a8b)break;const _0x49dc6b=_0x189b83[_0x514aa4(0x8a7)](_0x7dd9d1,{'stream':!0x0});if(_0x514aa4(0x8ea)===_0x49dc6b)break;const _0x26a7b0=_0x2cc155(_0x49dc6b);for(const _0x1ab729 of _0x26a7b0)_0x1ab729['choices']&&_0x1ab729[_0x514aa4(0x229)][0x0]&&(_0x1e5cb8+=_0x1ab729[_0x514aa4(0x229)][0x0][_0x514aa4(0xbaa)]['content'],_0x5a9011+=_0x1ab729['usage']?.[_0x514aa4(0x91d)]??0x0,_0x1551dd+=_0x1ab729[_0x514aa4(0x5a7)]?.['output_tokens']??0x0,_0x9fe5b1&&(_0x9fe5b1['internalContext']={..._0x9fe5b1[_0x514aa4(0xb93)],..._0x1ab729[_0x514aa4(0xb32)]}),_0x320bed[_0x514aa4(0x839)]({'output':_0x1ab729[_0x514aa4(0x229)][0x0][_0x514aa4(0xbaa)][_0x514aa4(0xb25)],'type':_0x514aa4(0x54f)}),await _0x33cd0c['wait'](0x1));}_0x9fe5b1&&(_0x9fe5b1[_0x514aa4(0x94a)]=(_0x9fe5b1['outputTokens']??0x0)+_0x1551dd,_0x9fe5b1[_0x514aa4(0x8b2)]=(_0x9fe5b1[_0x514aa4(0x8b2)]??0x0)+_0x5a9011,_0x28edbf[_0x514aa4(0xb86)]&&(_0x9fe5b1[_0x514aa4(0xb93)]||(_0x9fe5b1['internalContext']={}),_0x9fe5b1['internalContext'][_0x28edbf[_0x514aa4(0xb86)]]=_0x1e5cb8)),_0x320bed[_0x514aa4(0x839)]({'output':'\x0a\x0a','type':_0x514aa4(0x54f)}),await _0x33cd0c[_0x514aa4(0x4ad)](0x1),_0x2562d2='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x50d558=fetch(_0x4d302b[_0x514aa4(0xaee)]+_0x514aa4(0xb16)+_0x28edbf[_0x514aa4(0x7bc)]+_0x514aa4(0x7f9),{'method':'POST','headers':{'Content-Type':_0x514aa4(0x429),'x-vendor-id':_0x119ca5},'body':JSON[_0x514aa4(0x438)]({'model':_0x28edbf['modelId'],'messages':_0x5af663,'max_completion_tokens':_0x28edbf[_0x514aa4(0xa3e)],'temperature':_0x28edbf[_0x514aa4(0x83a)],'tools':_0x28edbf['tools'],'structured_output':_0x28edbf[_0x514aa4(0x39b)],'metadata':{'threadId':_0x3d9fcd,'jobId':_0x2fe8fc,'agentId':_0x100cb2,'context':{}}})});if(_0x28edbf[_0x514aa4(0x44e)])return _0x514aa4(0x994);const _0x5d78db=await _0x50d558,_0x2d02b8=await _0x5d78db[_0x514aa4(0xb7c)]();_0x2562d2=_0x2d02b8[_0x514aa4(0x229)][0x0][_0x514aa4(0x83d)][_0x514aa4(0xb25)],_0x9fe5b1&&(_0x9fe5b1[_0x514aa4(0xb93)]={..._0x9fe5b1[_0x514aa4(0xb93)],..._0x2d02b8[_0x514aa4(0xb32)]},_0x9fe5b1[_0x514aa4(0x94a)]=(_0x9fe5b1[_0x514aa4(0x94a)]??0x0)+_0x2d02b8[_0x514aa4(0x5a7)][_0x514aa4(0x7a7)],_0x9fe5b1['inputTokens']=(_0x9fe5b1[_0x514aa4(0x8b2)]??0x0)+_0x2d02b8['usage'][_0x514aa4(0x3e2)],_0x28edbf[_0x514aa4(0xb86)]&&(_0x9fe5b1[_0x514aa4(0xb93)]||(_0x9fe5b1[_0x514aa4(0xb93)]={}),_0x9fe5b1[_0x514aa4(0xb93)][_0x28edbf['contextOutputVariable']]=_0x2562d2));}if('string'!=typeof _0x2562d2)throw new Error(_0x514aa4(0x785));return _0x2fe8fc&&_0x100cb2&&_0x3d9fcd&&await _0x2a3821['trace']({'jobType':_0x42d38a[_0x514aa4(0xa7f)],'type':_0x327cbb[_0x514aa4(0x45c)],'jobId':_0x2fe8fc,'blockId':_0x514aa4(0x716),'agentId':_0x100cb2,'threadId':_0x3d9fcd,'traceLevel':_0x192bcf[_0x514aa4(0x6fa)],'startTime':_0x4c35f9,'timestamp':Date[_0x514aa4(0x75c)](),'status':_0x514aa4(0x6ce),'workflowName':_0x28edbf['name'],'prompt':_0x5c50f4['prompt'],'result':_0x2562d2,'inputTokens':0x0,'outputTokens':0x0}),_0x2562d2;}catch(_0x43ac6c){if(console['error'](_0x43ac6c),_0x2fe8fc&&_0x100cb2&&_0x3d9fcd&&await _0x2a3821[_0x514aa4(0x9f3)]({'jobType':_0x42d38a[_0x514aa4(0xa7f)],'type':_0x327cbb[_0x514aa4(0x45c)],'jobId':_0x2fe8fc,'blockId':_0x514aa4(0x716),'agentId':_0x100cb2,'threadId':_0x3d9fcd,'traceLevel':_0x192bcf[_0x514aa4(0x6fa)],'startTime':_0x4c35f9,'timestamp':Date[_0x514aa4(0x75c)](),'status':'error','errorDetails':_0x393408(_0x43ac6c),'workflowName':_0x28edbf[_0x514aa4(0x3b3)],'prompt':_0x5c50f4?.[_0x514aa4(0x54f)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x43ac6c instanceof Error)throw _0x43ac6c;throw new Error('Unknown\x20error\x20occurred\x20while\x20executing\x20workflow');}}async function _0x1ff83b(_0x89be4e,_0x95ab38,_0x574d34,_0x203175,_0x2754c9){const _0x1e986a=_0x2aff22;return await _0x2a3821['trace']({'jobType':_0x42d38a[_0x1e986a(0x855)],'type':_0x496729[_0x1e986a(0x84f)],'jobId':_0x89be4e,'agentId':_0x95ab38,'threadId':_0x574d34,'traceLevel':_0x192bcf[_0x1e986a(0x6fa)],'startTime':Date[_0x1e986a(0x75c)](),'timestamp':Date[_0x1e986a(0x75c)](),'status':_0x1e986a(0x6ce),'function':_0x327cbb[_0x1e986a(0x5d5)],'params':{},'functionDescription':_0x1e986a(0x540)}),{'description':_0x1e986a(0x540),'params':{},'callback':async()=>_0xb8e046(_0x2754c9,_0x203175,_0x89be4e,_0x95ab38,_0x574d34)};}async function _0xb8e046(_0x34b08b,_0x4310eb,_0x4c3465,_0x2f43b2,_0x3d3c23){const _0x3c9624=_0x2aff22,_0x9fb409=Date[_0x3c9624(0x75c)]();let _0x5cc756=_0x34b08b[_0x3c9624(0x3b3)][_0x3c9624(0x481)](/[^a-zA-Z]/g,'');_0x5cc756[_0x3c9624(0x606)](_0x3c9624(0x30f))&&(_0x5cc756=_0x5cc756[_0x3c9624(0x481)](_0x3c9624(0x30f),''));const _0x19127e=_0x3c9624(0x80f)+_0x5cc756;let _0x23a9f1=0x0;if(_0x4310eb){const _0x122b5a=_0x4310eb['internalContext']?.[_0x19127e];_0x122b5a?_0x23a9f1=parseInt(_0x122b5a):(_0x23a9f1=0x0,_0x4310eb[_0x3c9624(0xb93)]||(_0x4310eb[_0x3c9624(0xb93)]={}),_0x4310eb['internalContext'][_0x19127e]='0');}const _0x1bb4e2=_0x34b08b[_0x3c9624(0x5c0)]||[];if(_0x23a9f1>=_0x1bb4e2['length'])return JSON[_0x3c9624(0x438)]({'error':_0x3c9624(0x1ed)});const _0xeeed47=_0x1bb4e2[_0x23a9f1];return _0x4c3465&&_0x2f43b2&&_0x3d3c23&&await _0x2a3821[_0x3c9624(0x9f3)]({'jobType':_0x42d38a[_0x3c9624(0xa7f)],'type':_0x327cbb[_0x3c9624(0x5d5)],'jobId':_0x4c3465,'agentId':_0x2f43b2,'threadId':_0x3d3c23,'blockId':_0x3c9624(0xaba),'traceLevel':_0x192bcf['Info'],'startTime':_0x9fb409,'timestamp':Date[_0x3c9624(0x75c)](),'status':_0x3c9624(0x6ce),'question':_0xeeed47[_0x3c9624(0x535)],'currentQuestionIndex':_0x23a9f1,'questions':_0x1bb4e2[_0x3c9624(0x8df)](_0x1b3dea=>_0x1b3dea[_0x3c9624(0x535)])}),JSON[_0x3c9624(0x438)]({'id':_0xeeed47['id'],'question':_0xeeed47[_0x3c9624(0x535)],'validation':_0xeeed47[_0x3c9624(0x71a)],'required':_0xeeed47[_0x3c9624(0x783)],'format':_0xeeed47[_0x3c9624(0xaa2)],'action':_0x3c9624(0x61c)});}async function _0x58b28c(_0x217932,_0x5344fb,_0x4af5aa,_0x1c3cf9,_0x1345b7){const _0x2de4ff=_0x2aff22;return await _0x2a3821[_0x2de4ff(0x9f3)]({'jobType':_0x42d38a[_0x2de4ff(0x855)],'type':_0x496729['LoadSkillFunction'],'jobId':_0x217932,'agentId':_0x5344fb,'threadId':_0x4af5aa,'traceLevel':_0x192bcf[_0x2de4ff(0x6fa)],'startTime':Date['now'](),'timestamp':Date[_0x2de4ff(0x75c)](),'status':'success','function':_0x327cbb[_0x2de4ff(0x34b)],'params':{},'functionDescription':_0x2de4ff(0xaa9)}),{'description':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.','params':{'id':{'type':_0x182c91[_0x2de4ff(0x530)][_0x2de4ff(0x984)]},'answer':{'type':_0x182c91['PromptFunctionParamsType'][_0x2de4ff(0x984)]}},'callback':async _0x237ec8=>_0x4f8796(_0x1345b7,_0x237ec8,_0x1c3cf9,_0x217932,_0x5344fb,_0x4af5aa)};}async function _0x4f8796(_0x35e35f,_0x72378d,_0x401eeb,_0x58b565,_0x399a57,_0x22b94b){const _0x5ec106=_0x2aff22,_0x45a0d5=Date[_0x5ec106(0x75c)]();let _0x3e3b84=_0x35e35f['name'][_0x5ec106(0x481)](/[^a-zA-Z]/g,'');_0x3e3b84[_0x5ec106(0x606)]('setAnswer')&&(_0x3e3b84=_0x3e3b84[_0x5ec106(0x481)]('setAnswer',''));const _0xdb5b4e=_0x5ec106(0x80f)+_0x3e3b84,_0x5804c9=_0x35e35f[_0x5ec106(0x5c0)]||[];let _0x573caf=0x0;if(_0x401eeb&&(_0x573caf=parseInt(_0x401eeb[_0x5ec106(0xb93)]?.[_0xdb5b4e]??'0')),!_0x72378d?.['id']||'string'!=typeof _0x72378d['id'])return JSON[_0x5ec106(0x438)]({'error':'Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});const _0x17ad16=_0x5804c9[_0x5ec106(0x43b)](_0x56d739=>_0x56d739['id']===_0x72378d['id']);if(!_0x17ad16)return JSON['stringify']({'error':_0x5ec106(0x600)});if(!_0x72378d?.[_0x5ec106(0x718)]||'string'!=typeof _0x72378d[_0x5ec106(0x718)])return JSON['stringify']({'error':_0x5ec106(0x48a)});if(_0x401eeb){_0x401eeb[_0x5ec106(0xb93)]||(_0x401eeb['internalContext']={});const _0x59b4ec=_0x5ec106(0x323)+_0x3e3b84,_0x4806c1=_0x59b4ec+'-'+_0x72378d['id'];_0x401eeb['internalContext'][_0x4806c1]=_0x72378d['answer'];let _0x1050f2=!0x1;for(let _0x38697d=0x0;_0x38697d<_0x5804c9[_0x5ec106(0x482)];_0x38697d++){const _0x283bc1=_0x401eeb['internalContext']?.[_0x59b4ec+'-'+_0x5804c9[_0x38697d]['id']];if(_0x38697d!==_0x573caf&&!_0x283bc1){_0x573caf=_0x38697d,_0x1050f2=!0x0;break;}}_0x1050f2||_0x573caf++,_0x401eeb[_0x5ec106(0xb93)][_0xdb5b4e]=_0x573caf['toString']();}_0x58b565&&_0x399a57&&_0x22b94b&&await _0x2a3821[_0x5ec106(0x9f3)]({'jobType':_0x42d38a[_0x5ec106(0xa7f)],'type':_0x327cbb[_0x5ec106(0x34b)],'jobId':_0x58b565,'agentId':_0x399a57,'threadId':_0x22b94b,'blockId':'form-skill-set-answer','traceLevel':_0x192bcf['Info'],'startTime':_0x45a0d5,'timestamp':Date[_0x5ec106(0x75c)](),'status':_0x5ec106(0x6ce),'question':_0x17ad16[_0x5ec106(0x535)],'answer':_0x72378d['answer'],'currentQuestionIndex':_0x573caf,'questions':_0x5804c9['map'](_0x18862e=>_0x18862e[_0x5ec106(0x535)])});const _0x198f61=_0x5804c9[_0x573caf];return _0x198f61?JSON[_0x5ec106(0x438)]({'id':_0x198f61['id'],'question':_0x198f61['question'],'validation':_0x198f61[_0x5ec106(0x71a)],'required':_0x198f61[_0x5ec106(0x783)],'format':_0x198f61['format'],'action':_0x5ec106(0x61c)}):JSON[_0x5ec106(0x438)]({'action':_0x5ec106(0x699)});}async function _0x48d828(_0x1d7d72,_0x326ed3,_0x472016,_0x18db73,_0x1c0228){const _0x3c4b6f=_0x2aff22,_0xf35e55=_0x3c4b6f(0x6ec);return await _0x2a3821[_0x3c4b6f(0x9f3)]({'jobType':_0x42d38a['JobContext'],'type':_0x496729[_0x3c4b6f(0x84f)],'jobId':_0x1d7d72,'agentId':_0x326ed3,'threadId':_0x472016,'traceLevel':_0x192bcf[_0x3c4b6f(0x6fa)],'startTime':Date[_0x3c4b6f(0x75c)](),'timestamp':Date['now'](),'status':_0x3c4b6f(0x6ce),'function':_0x327cbb[_0x3c4b6f(0xbce)],'params':{},'functionDescription':_0xf35e55}),{'description':_0xf35e55,'params':{},'callback':async()=>_0x4a219f(_0x1c0228,_0x18db73,_0x1d7d72,_0x326ed3,_0x472016)};}async function _0x4a219f(_0x2d9b14,_0x225e41,_0x2331ae,_0x544a53,_0x110897){const _0x3cbd61=_0x2aff22;let _0x3f3d03=_0x2d9b14[_0x3cbd61(0x3b3)][_0x3cbd61(0x481)](/[^a-zA-Z]/g,'');_0x3f3d03[_0x3cbd61(0x606)](_0x3cbd61(0x91b))&&(_0x3f3d03=_0x3f3d03[_0x3cbd61(0x481)](_0x3cbd61(0x91b),''));const _0xe90987=_0x2d9b14[_0x3cbd61(0x5c0)]||[],_0x2ea2c3={};if(!_0x225e41)return JSON['stringify']({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});for(let _0x4445c5=0x0;_0x4445c5<_0xe90987[_0x3cbd61(0x482)];_0x4445c5++){const _0x3067dc=_0x225e41[_0x3cbd61(0xb93)]?.['answer-'+_0x3f3d03+'-'+_0xe90987[_0x4445c5]['id']];if(_0xe90987[_0x4445c5][_0x3cbd61(0x783)]&&!_0x3067dc)return JSON['stringify']({'error':_0x3cbd61(0xa84)});_0x2ea2c3[_0xe90987[_0x4445c5]['id']]=_0x3067dc;}return _0x225e41&&_0x2d9b14[_0x3cbd61(0xb86)]&&(_0x225e41['internalContext']||(_0x225e41[_0x3cbd61(0xb93)]={}),_0x225e41['internalContext'][_0x2d9b14[_0x3cbd61(0xb86)]]=JSON[_0x3cbd61(0x438)](_0x2ea2c3)),_0x2331ae&&_0x544a53&&_0x110897&&await _0x2a3821[_0x3cbd61(0x9f3)]({'jobType':_0x42d38a[_0x3cbd61(0xa7f)],'type':_0x327cbb[_0x3cbd61(0xbce)],'jobId':_0x2331ae,'agentId':_0x544a53,'threadId':_0x110897,'blockId':_0x3cbd61(0x1f4),'traceLevel':_0x192bcf[_0x3cbd61(0x6fa)],'startTime':Date[_0x3cbd61(0x75c)](),'timestamp':Date[_0x3cbd61(0x75c)](),'status':'success','answers':_0x2ea2c3}),JSON['stringify']({'success':!0x0});}async function _0x4f3c20(_0x467cf4,_0x4149dc,_0x32ba27,_0x1481d0,_0x10d4d1,_0x31168b,_0x1530e3){const _0xc52707=_0x2aff22,_0x244b35=new Map();for(const _0x3156ed of _0x10d4d1)_0x3156ed[_0xc52707(0x751)]===_0x182c91['GenerativeAIInferenceToolType'][_0xc52707(0x2cb)]||_0x3156ed[_0xc52707(0x751)]===_0x182c91[_0xc52707(0x4f9)][_0xc52707(0x6e3)]?_0x244b35[_0xc52707(0x25c)]('searchInDataCollection'+_0x3156ed[_0xc52707(0x3b3)]['replace'](/[^a-zA-Z]/g,''),await _0xa2a2f3(_0x467cf4,_0x4149dc,_0x32ba27,_0x1481d0,_0x3156ed)):_0x3156ed[_0xc52707(0x751)]===_0x182c91[_0xc52707(0x4f9)][_0xc52707(0x234)]||_0x3156ed[_0xc52707(0x751)]===_0x182c91['GenerativeAIInferenceToolType'][_0xc52707(0x2e3)]?_0x244b35[_0xc52707(0x25c)](_0xc52707(0xb5c)+_0x3156ed['name']['replace'](/[^a-zA-Z]/g,''),await _0x1b658b(_0x467cf4,_0x4149dc,_0x32ba27,_0x1481d0,_0x3156ed,_0x31168b,_0x1530e3)):_0x3156ed[_0xc52707(0x751)]===_0x182c91[_0xc52707(0x4f9)][_0xc52707(0x2b0)]?_0x244b35[_0xc52707(0x25c)](_0xc52707(0x834)+_0x3156ed[_0xc52707(0x3b3)]['replace'](/[^a-zA-Z]/g,''),await _0x51782d(_0x467cf4,_0x4149dc,_0x32ba27,_0x1481d0,_0x3156ed,_0x1530e3)):_0x3156ed['type']===_0x182c91[_0xc52707(0x4f9)][_0xc52707(0x6ef)]?_0x244b35[_0xc52707(0x25c)](_0x3156ed[_0xc52707(0x3b3)][_0xc52707(0x481)](/[^a-zA-Z]/g,''),await _0x15c902(_0x467cf4,_0x4149dc,_0x32ba27[_0xc52707(0x7d7)],_0x1481d0,_0x3156ed)):_0x3156ed[_0xc52707(0x751)]===_0x182c91[_0xc52707(0x4f9)][_0xc52707(0x8eb)]?_0x244b35['set'](_0xc52707(0x30f)+_0x3156ed[_0xc52707(0x3b3)][_0xc52707(0x481)](/[^a-zA-Z]/g,''),await _0x1ff83b(_0x467cf4,_0x4149dc,_0x32ba27[_0xc52707(0x7d7)],_0x1481d0,_0x3156ed)):_0x3156ed[_0xc52707(0x751)]===_0x182c91[_0xc52707(0x4f9)][_0xc52707(0x8cf)]?_0x244b35[_0xc52707(0x25c)](_0xc52707(0x843)+_0x3156ed[_0xc52707(0x3b3)][_0xc52707(0x481)](/[^a-zA-Z]/g,''),await _0x58b28c(_0x467cf4,_0x4149dc,_0x32ba27[_0xc52707(0x7d7)],_0x1481d0,_0x3156ed)):_0x3156ed[_0xc52707(0x751)]===_0x182c91[_0xc52707(0x4f9)][_0xc52707(0x932)]?_0x244b35[_0xc52707(0x25c)](_0xc52707(0x91b)+_0x3156ed[_0xc52707(0x3b3)][_0xc52707(0x481)](/[^a-zA-Z]/g,''),await _0x48d828(_0x467cf4,_0x4149dc,_0x32ba27[_0xc52707(0x7d7)],_0x1481d0,_0x3156ed)):_0x244b35['set'](_0x482414(_0x3156ed),await _0x40fe06(_0x467cf4,_0x4149dc,_0x32ba27,_0x1481d0,_0x3156ed,_0x31168b));return _0x244b35;}function _0x482414(_0x4f0099){const _0xb3bed6=_0x2aff22;switch(_0x4f0099[_0xb3bed6(0x751)]){case _0x182c91['GenerativeAIInferenceToolType']['AISearch']:return _0xb3bed6(0x796);case _0x182c91[_0xb3bed6(0x4f9)][_0xb3bed6(0x4c0)]:return _0xb3bed6(0x6ba);case _0x182c91[_0xb3bed6(0x4f9)][_0xb3bed6(0xa9d)]:return _0xb3bed6(0x338);case _0x182c91[_0xb3bed6(0x4f9)][_0xb3bed6(0x45a)]:return _0xb3bed6(0x677);case _0x182c91[_0xb3bed6(0x4f9)][_0xb3bed6(0x2bf)]:case _0x182c91[_0xb3bed6(0x4f9)][_0xb3bed6(0x7d2)]:return _0xb3bed6(0xa94);case _0x182c91[_0xb3bed6(0x4f9)][_0xb3bed6(0x755)]:return'writeFile';}throw new Error(_0xb3bed6(0x307));}async function _0x40fe06(_0x1e647b,_0x4b9200,_0x2f1f25,_0x20830b,_0xa65f2d,_0x1a69a9){const _0x54c3ee=_0x2aff22;switch(_0xa65f2d[_0x54c3ee(0x751)]){case _0x182c91['GenerativeAIInferenceToolType'][_0x54c3ee(0xa77)]:return async function(_0x3de16e,_0x1da3ad,_0x384c9c,_0x403448,_0x1f4048){const _0x7cd58f=_0x54c3ee,_0x10d0b3='Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x3fa74b={'query':{'type':_0x182c91[_0x7cd58f(0x530)][_0x7cd58f(0x984)]}};await _0x2a3821[_0x7cd58f(0x9f3)]({'jobType':_0x42d38a[_0x7cd58f(0x855)],'type':_0x496729[_0x7cd58f(0x84f)],'jobId':_0x3de16e,'agentId':_0x1da3ad,'threadId':_0x384c9c[_0x7cd58f(0x7d7)],'traceLevel':_0x192bcf[_0x7cd58f(0x6fa)],'startTime':Date[_0x7cd58f(0x75c)](),'timestamp':Date['now'](),'status':_0x7cd58f(0x6ce),'function':_0x327cbb[_0x7cd58f(0x793)],'params':_0x3fa74b,'functionDescription':_0x10d0b3});const _0x45c247=_0x384c9c[_0x7cd58f(0x97c)];try{await(0x0,_0x485eb0[_0x7cd58f(0x607)])(_0x4d81d6[_0x7cd58f(0x945)](),_0x7cd58f(0x9cb))({'vendorId':_0x45c247});}catch(_0x1db669){throw console[_0x7cd58f(0x730)](_0x1db669),new Error(_0x7cd58f(0x37a));}const _0x3962a2=(await(0x0,_0x181a71[_0x7cd58f(0x9b8)])((0x0,_0x181a71[_0x7cd58f(0x3b5)])(_0x4d81d6['getFirestore'](),_0x7cd58f(0x21b),_0x45c247)))['data']();return _0x3962a2&&_0x3962a2[_0x7cd58f(0x2c4)]||(console[_0x7cd58f(0x6ea)](new Date()+_0x7cd58f(0xbc7),_0x403448['modelId'],_0x5c92d1[_0x7cd58f(0x9de)](_0x403448[_0x7cd58f(0x4ac)])[_0x7cd58f(0x877)]),_0x403448[_0x7cd58f(0x4ac)]=_0x5c92d1[_0x7cd58f(0x9de)](_0x403448['modelId'])['fallbackModel']),{'description':_0x10d0b3,'params':_0x3fa74b,'callback':async _0x537d54=>_0x43ef5a(_0x403448,_0x1f4048,_0x537d54,_0x3de16e,_0x1da3ad,_0x384c9c[_0x7cd58f(0x7d7)])};}(_0x1e647b,_0x4b9200,_0x2f1f25,_0xa65f2d,_0x1a69a9);case _0x182c91[_0x54c3ee(0x4f9)][_0x54c3ee(0x4c0)]:return async function(_0x24243a,_0x4134d6,_0x525165){const _0x436d4b=_0x54c3ee,_0x2e97db=_0x436d4b(0x95a),_0x2ccace={'code':{'type':_0x182c91[_0x436d4b(0x530)]['String']}};return await _0x2a3821[_0x436d4b(0x9f3)]({'jobType':_0x42d38a[_0x436d4b(0x855)],'type':_0x496729[_0x436d4b(0x84f)],'jobId':_0x24243a,'agentId':_0x4134d6,'threadId':_0x525165,'traceLevel':_0x192bcf['Info'],'startTime':Date[_0x436d4b(0x75c)](),'timestamp':Date[_0x436d4b(0x75c)](),'status':_0x436d4b(0x6ce),'function':_0x327cbb['ExecuteCode'],'params':_0x2ccace,'functionDescription':_0x2e97db}),{'description':_0x2e97db,'params':_0x2ccace,'callback':async _0xfbf991=>_0x18803d(_0xfbf991,_0x24243a,_0x4134d6,_0x525165)};}(_0x1e647b,_0x4b9200,_0x2f1f25[_0x54c3ee(0x7d7)]);case _0x182c91[_0x54c3ee(0x4f9)][_0x54c3ee(0xa9d)]:return async function(_0xb2caa,_0xca034e,_0x42ae40,_0x5f06c0,_0x105c47){const _0x18ee6f=_0x54c3ee,_0x3d8086=[',',';','\x09','|',':'],_0x31112c=['\x22','\x27'];let _0x340787='';if(_0x18ee6f(0xb29)===_0x5f06c0['internalContext']?.[_0x18ee6f(0xafc)]&&_0x5f06c0['internalContext']?.[_0x18ee6f(0x999)]&&(_0x340787=_0x5f06c0['internalContext']['file.content']),''===_0x340787)throw new Error(_0x18ee6f(0xa13));const _0x2ac409=_0x340787[_0x18ee6f(0x99b)]('\x0a')[0x0];let _0x3d6f42=null,_0x3dbab4=null,_0x26331a=0x0;for(const _0x174141 of _0x3d8086){const _0x171736=(_0x2ac409[_0x18ee6f(0x71e)](new RegExp('\x5c'+_0x174141,'g'))||[])[_0x18ee6f(0x482)];_0x171736>_0x26331a&&(_0x26331a=_0x171736,_0x3d6f42=_0x174141);}_0x3d6f42||(_0x3d6f42=','),_0x26331a=0x0;for(const _0x18855c of _0x31112c){const _0x371ac1=(_0x2ac409[_0x18ee6f(0x71e)](new RegExp('\x5c'+_0x18855c,'g'))||[])[_0x18ee6f(0x482)];_0x371ac1>_0x26331a&&(_0x26331a=_0x371ac1,_0x3dbab4=_0x18855c);}_0x3dbab4||(_0x3dbab4='\x22');const _0x30ecbc='Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20'+_0x2ac409[_0x18ee6f(0x99b)](_0x3d6f42)[_0x18ee6f(0x30c)](',\x20'),_0x14d2b0={'query':{'type':_0x182c91[_0x18ee6f(0x530)][_0x18ee6f(0x984)]}};return await _0x2a3821[_0x18ee6f(0x9f3)]({'jobType':_0x42d38a[_0x18ee6f(0x855)],'type':_0x496729[_0x18ee6f(0x84f)],'jobId':_0xb2caa,'agentId':_0xca034e,'threadId':_0x42ae40,'traceLevel':_0x192bcf[_0x18ee6f(0x6fa)],'startTime':Date[_0x18ee6f(0x75c)](),'timestamp':Date[_0x18ee6f(0x75c)](),'status':_0x18ee6f(0x6ce),'function':_0x327cbb[_0x18ee6f(0xa9d)],'params':_0x14d2b0,'functionDescription':_0x30ecbc}),{'description':_0x30ecbc,'params':_0x14d2b0,'callback':async _0x218d1d=>{const _0x45da43=_0x18ee6f,_0x5ccb5e=Date[_0x45da43(0x75c)]();try{if(!_0x105c47[_0x45da43(0x3df)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x45da43(0xb85)!=typeof _0x218d1d?.[_0x45da43(0x794)])throw new Error(_0x45da43(0x48b));if(!_0x218d1d[_0x45da43(0x794)][_0x45da43(0x9bf)]('FROM\x20file'))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0x15571a=await _0x105c47[_0x45da43(0x3df)][_0x45da43(0x24e)](_0x340787,_0x218d1d['query'],{'headers':!0x0,'quote':_0x3dbab4,'separator':_0x3d6f42});await _0x2a3821[_0x45da43(0x9f3)]({'jobType':_0x42d38a[_0x45da43(0xa7f)],'type':_0x327cbb['QueryFile'],'jobId':_0xb2caa,'agentId':_0xca034e,'threadId':_0x42ae40,'blockId':'query-file','traceLevel':_0x192bcf[_0x45da43(0x6fa)],'startTime':_0x5ccb5e,'timestamp':Date[_0x45da43(0x75c)](),'status':_0x45da43(0x6ce),'query':_0x218d1d[_0x45da43(0x794)],'results':_0x15571a[_0x45da43(0x56f)](0x0,0x3e8)});const _0x4e3be7=JSON[_0x45da43(0x255)](_0x15571a);let _0x4228aa='';if(_0x4e3be7[_0x45da43(0x482)]>0x0){const _0x58cba0=Object[_0x45da43(0x780)](_0x4e3be7[0x0]);_0x4228aa=_0x58cba0[_0x45da43(0x8df)](_0x3e5792=>'\x22'+_0x3e5792+'\x22')[_0x45da43(0x30c)](',')+'\x0a';for(const _0x303b6b of _0x4e3be7)_0x4228aa+=_0x58cba0[_0x45da43(0x8df)](_0xf22109=>'\x22'+_0x303b6b[_0xf22109]+'\x22')[_0x45da43(0x30c)](',')+'\x0a';}return _0x5f06c0[_0x45da43(0xb93)]||(_0x5f06c0[_0x45da43(0xb93)]={}),_0x5f06c0[_0x45da43(0xb93)]['file.content']=_0x4228aa,_0x5f06c0[_0x45da43(0xb93)][_0x45da43(0xafc)]=_0x45da43(0xb29),_0x15571a[_0x45da43(0x56f)](0x0,0x3e8);}catch(_0x1e1f4d){return console[_0x45da43(0x730)](_0x1e1f4d),await _0x2a3821[_0x45da43(0x9f3)]({'jobType':_0x42d38a[_0x45da43(0xa7f)],'type':_0x327cbb[_0x45da43(0xa9d)],'jobId':_0xb2caa,'blockId':_0x45da43(0x52d),'traceLevel':_0x192bcf[_0x45da43(0x6fa)],'startTime':_0x5ccb5e,'timestamp':Date['now'](),'status':'error','errorDetails':_0x393408(_0x1e1f4d),'agentId':_0xca034e,'threadId':_0x42ae40,'query':_0x218d1d?.[_0x45da43(0x794)]??'','results':'Error\x20searching'}),_0x1e1f4d instanceof Error?_0x1e1f4d[_0x45da43(0x83d)]:_0x45da43(0x5d2);}}};}(_0x1e647b,_0x4b9200,_0x2f1f25['threadId'],_0x20830b,_0x1a69a9);case _0x182c91[_0x54c3ee(0x4f9)][_0x54c3ee(0x45a)]:return async function(_0x2e136b,_0x1f3651,_0x193119,_0x3e57c5){const _0x9803f8=_0x54c3ee,_0x149fa1=_0x9803f8(0x9f5),_0x1145df={'query':{'type':_0x182c91[_0x9803f8(0x530)][_0x9803f8(0x984)]}};return await _0x2a3821[_0x9803f8(0x9f3)]({'jobType':_0x42d38a[_0x9803f8(0x855)],'type':_0x496729[_0x9803f8(0x84f)],'jobId':_0x2e136b,'agentId':_0x1f3651,'threadId':_0x193119,'traceLevel':_0x192bcf[_0x9803f8(0x6fa)],'startTime':Date[_0x9803f8(0x75c)](),'timestamp':Date['now'](),'status':_0x9803f8(0x6ce),'function':_0x327cbb[_0x9803f8(0x684)],'params':_0x1145df,'functionDescription':_0x149fa1}),{'description':_0x149fa1,'params':_0x1145df,'callback':async _0x26332b=>_0x4a3f22(_0x3e57c5,_0x26332b,_0x2e136b,_0x1f3651,_0x193119)};}(_0x1e647b,_0x4b9200,_0x2f1f25['threadId'],_0x1a69a9);case _0x182c91[_0x54c3ee(0x4f9)][_0x54c3ee(0x2bf)]:return _0x45e924(_0x1e647b,_0x4b9200,_0x2f1f25[_0x54c3ee(0x7d7)]);case _0x182c91[_0x54c3ee(0x4f9)][_0x54c3ee(0x7d2)]:return _0x45e924(_0x1e647b,_0x4b9200,_0x2f1f25[_0x54c3ee(0x7d7)],!0x1);case _0x182c91[_0x54c3ee(0x4f9)][_0x54c3ee(0x755)]:return async function(_0x4e28fd,_0xd65374,_0x14b7fe,_0x9efe1d){const _0x277f0f=_0x54c3ee,_0x22f67d=_0x277f0f(0x7ce),_0x178a84={'text':{'type':_0x182c91['PromptFunctionParamsType'][_0x277f0f(0x984)]}};return await _0x2a3821['trace']({'jobType':_0x42d38a[_0x277f0f(0x855)],'type':_0x496729[_0x277f0f(0x84f)],'jobId':_0x4e28fd,'agentId':_0xd65374,'threadId':_0x14b7fe,'traceLevel':_0x192bcf['Info'],'startTime':Date[_0x277f0f(0x75c)](),'timestamp':Date[_0x277f0f(0x75c)](),'status':_0x277f0f(0x6ce),'function':_0x327cbb[_0x277f0f(0x755)],'params':_0x178a84,'functionDescription':_0x22f67d}),{'description':_0x22f67d,'params':_0x178a84,'callback':async _0xadef44=>{const _0x32be68=_0x277f0f,_0x564895=Date[_0x32be68(0x75c)]();try{if(_0x32be68(0xb85)!=typeof _0xadef44?.['text'])throw new Error(_0x32be68(0x63f));return await _0x2a3821[_0x32be68(0x9f3)]({'jobType':_0x42d38a[_0x32be68(0xa7f)],'type':_0x327cbb['WriteFile'],'jobId':_0x4e28fd,'agentId':_0xd65374,'threadId':_0x14b7fe,'blockId':_0x32be68(0x90a),'traceLevel':_0x192bcf[_0x32be68(0x6fa)],'startTime':_0x564895,'timestamp':Date['now'](),'status':_0x32be68(0x6ce),'content':_0xadef44[_0x32be68(0x9a0)]}),_0x9efe1d[_0x32be68(0xb93)]||(_0x9efe1d[_0x32be68(0xb93)]={}),_0x9efe1d[_0x32be68(0xb93)][_0x32be68(0x999)]=_0xadef44[_0x32be68(0x9a0)],_0x9efe1d[_0x32be68(0xb93)][_0x32be68(0xafc)]=_0x32be68(0x65b),_0x32be68(0x339);}catch(_0x464317){return console['error'](_0x464317),await _0x2a3821['trace']({'jobType':_0x42d38a[_0x32be68(0xa7f)],'type':_0x327cbb[_0x32be68(0x755)],'jobId':_0x4e28fd,'blockId':_0x32be68(0x90a),'traceLevel':_0x192bcf[_0x32be68(0x6fa)],'startTime':_0x564895,'timestamp':Date[_0x32be68(0x75c)](),'status':_0x32be68(0x730),'errorDetails':_0x393408(_0x464317),'agentId':_0xd65374,'threadId':_0x14b7fe,'content':_0x32be68(0xb85)==typeof _0xadef44?.[_0x32be68(0x9a0)]?_0xadef44[_0x32be68(0x9a0)]:''}),_0x464317 instanceof Error?_0x464317['message']:'Error\x20writing\x20file';}}};}(_0x1e647b,_0x4b9200,_0x2f1f25['threadId'],_0x20830b);}throw new Error(_0x54c3ee(0x307));}function _0x393408(_0x4321d6){const _0x547ba3=_0x2aff22;try{return JSON[_0x547ba3(0x438)](_0x4321d6);}catch(_0x22aa7d){return _0x4321d6 instanceof Error?_0x4321d6[_0x547ba3(0x7e6)]():_0x547ba3(0x33b);}}async function _0x4e1ed5(_0x275584,_0x381f58,_0x3e316e){const _0xeaf7a0=_0x2aff22,_0x52c10e=_0x381f58[_0xeaf7a0(0xa09)]??(0x0,_0x360e63['v4'])(),_0x1dd7e9={'type':_0xeaf7a0(0x54f),'context':[],'internalContext':_0x381f58[_0xeaf7a0(0xb93)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x99d51b=_0x381f58[_0xeaf7a0(0x97c)];try{await(0x0,_0x485eb0[_0xeaf7a0(0x607)])(_0x4d81d6[_0xeaf7a0(0x945)](),'validateVendorCredits')({'vendorId':_0x99d51b});}catch(_0x4556c7){throw console[_0xeaf7a0(0x730)](_0x4556c7),new Error(_0xeaf7a0(0x37a));}const _0x4aeb57=(await(0x0,_0x181a71[_0xeaf7a0(0x9b8)])((0x0,_0x181a71[_0xeaf7a0(0x3b5)])(_0x4d81d6[_0xeaf7a0(0x67b)](),_0xeaf7a0(0x21b),_0x99d51b)))['data']();_0x4aeb57&&_0x4aeb57['organizationId']||(console[_0xeaf7a0(0x6ea)](new Date()+_0xeaf7a0(0xbc7),_0x381f58[_0xeaf7a0(0x6f2)],_0x5c92d1[_0xeaf7a0(0x9de)](_0x381f58['model'])[_0xeaf7a0(0x877)]),_0x381f58[_0xeaf7a0(0x6f2)]=_0x5c92d1[_0xeaf7a0(0x9de)](_0x381f58[_0xeaf7a0(0x6f2)])[_0xeaf7a0(0x877)]);const _0x4ca842=await async function(_0x8607c4,_0x1d3f23,_0x1c282a,_0x5ee3dd,_0x2767e3){const _0x48a688=_0xeaf7a0,_0x5d9dea=_0x2767e3['models'][_0x48a688(0x43b)](_0x5343a0=>_0x5343a0['id']===_0x1c282a[_0x48a688(0x6f2)]);if(!_0x5d9dea)throw new Error(_0x48a688(0x3f3));const _0x234129=_0x2767e3[_0x48a688(0x5e5)][_0x48a688(0x43b)](_0x5a0a03=>_0x5a0a03[_0x48a688(0x8ba)]()===_0x5d9dea[_0x48a688(0xabc)]);if(!_0x234129)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x402434=await _0x4f3c20(_0x8607c4,_0x1d3f23,_0x1c282a,_0x5ee3dd,_0x1c282a[_0x48a688(0x887)]??[],_0x2767e3);return _0x234129[_0x48a688(0xb52)]({'type':_0x48a688(0x54f),'prompt':_0x1c282a[_0x48a688(0x54f)],'instructions':_0x1c282a['instructions'],'reasoning':_0x1c282a[_0x48a688(0x576)],'grammar':_0x1c282a[_0x48a688(0x39b)],'temperature':_0x1c282a[_0x48a688(0x83a)],'maxTokens':_0x1c282a['maxTokens'],'history':_0x1c282a[_0x48a688(0x329)],'functions':_0x402434,'threadId':_0x1c282a[_0x48a688(0x7d7)]},{'model':_0x5d9dea,'sequences':Array[_0x48a688(0x306)](_0x402434['keys']())[_0x48a688(0x4f7)](_0x529d70=>_0x529d70[_0x48a688(0x606)]('executeAgent'))?0x2:0x1});}(_0x275584,_0x52c10e,_0x381f58,_0x1dd7e9,_0x3e316e);return _0x2a3821[_0xeaf7a0(0x33a)](_0x275584,_0x381f58['model'],_0x4ca842['inputTokens']??0x0,_0x4ca842[_0xeaf7a0(0x94a)]??0x0),console[_0xeaf7a0(0x6ea)](new Date()+'\x20Process\x20inference\x20final\x20response',_0x381f58[_0xeaf7a0(0x6f2)],_0x4ca842['inputTokens']??0x0,_0x4ca842[_0xeaf7a0(0x94a)]??0x0),{'type':_0xeaf7a0(0x54f),'output':_0x4ca842[_0xeaf7a0(0x334)],'context':_0x1dd7e9[_0xeaf7a0(0xb32)],'internalContext':_0x1dd7e9[_0xeaf7a0(0xb93)]??{},'inputTokens':_0x4ca842['inputTokens']??0x0,'outputTokens':_0x4ca842[_0xeaf7a0(0x94a)]??0x0};}async function _0xcff6fc(_0x33cb0f,_0x26753b){const _0x55d8bc=_0x2aff22,_0x1d8d2e=await async function(_0x1adab2,_0x2d6d5d){const _0x564f51=a0_0x314b,_0xc0b118=_0x2d6d5d['models']['find'](_0x1844bd=>_0x1844bd['id']===_0x1adab2[_0x564f51(0x6f2)]);if(!_0xc0b118)throw new Error('Model\x20not\x20found');const _0x470d84=_0x2d6d5d[_0x564f51(0x5e5)][_0x564f51(0x43b)](_0x4b669c=>_0x4b669c[_0x564f51(0x8ba)]()===_0xc0b118['engineType']);if(!_0x470d84)throw new Error(_0x564f51(0x704));return _0x470d84[_0x564f51(0xb52)]({'type':'prompt','prompt':_0x1adab2[_0x564f51(0x9a0)],'threadId':_0x1adab2[_0x564f51(0x7d7)]},{'model':_0xc0b118,'sequences':0x1});}(_0x33cb0f,_0x26753b);return{'type':_0x55d8bc(0x54f),'output':_0x1d8d2e[_0x55d8bc(0x334)],'inputTokens':_0x1d8d2e[_0x55d8bc(0x8b2)]??0x0,'outputTokens':_0x1d8d2e[_0x55d8bc(0x94a)]??0x0};}async function _0x463a93(_0x22f867,_0x538ef5){const _0x4cf601=_0x2aff22;let _0x2a05c7='',_0x1afd97={'type':_0x4cf601(0x54f),'internalContext':_0x22f867['internalContext']??{}};switch(_0x22f867[_0x4cf601(0x2ea)][_0x4cf601(0x751)]){case _0x182c91['GenerativeAIInferenceToolType'][_0x4cf601(0x2e3)]:case _0x182c91[_0x4cf601(0x4f9)][_0x4cf601(0x234)]:_0x2a05c7=await _0x167ca4(_0x22f867['vendorId'],_0x22f867['tool'],_0x538ef5,_0x22f867['arguments'],_0x1afd97);break;case _0x182c91[_0x4cf601(0x4f9)]['AISearch']:_0x2a05c7=await _0x43ef5a(_0x22f867[_0x4cf601(0x2ea)],_0x538ef5,_0x22f867[_0x4cf601(0x4a3)]);break;case _0x182c91[_0x4cf601(0x4f9)][_0x4cf601(0x4c0)]:_0x2a05c7=await _0x18803d(_0x22f867[_0x4cf601(0x4a3)]);break;case _0x182c91[_0x4cf601(0x4f9)][_0x4cf601(0x6e3)]:case _0x182c91['GenerativeAIInferenceToolType'][_0x4cf601(0x2cb)]:_0x2a05c7=await _0x990ab6(_0x22f867[_0x4cf601(0x97c)],_0x22f867[_0x4cf601(0x2ea)],_0x22f867[_0x4cf601(0x4a3)],_0x1afd97);break;case _0x182c91['GenerativeAIInferenceToolType'][_0x4cf601(0x6ef)]:_0x2a05c7=await _0x39d26a(_0x22f867[_0x4cf601(0x2ea)],_0x22f867[_0x4cf601(0x4a3)],_0x1afd97);break;case _0x182c91[_0x4cf601(0x4f9)][_0x4cf601(0x2bf)]:_0x2a05c7=await _0x691b6d(_0x22f867[_0x4cf601(0x4a3)]);break;case _0x182c91['GenerativeAIInferenceToolType'][_0x4cf601(0x7d2)]:_0x2a05c7=await _0x691b6d(_0x22f867[_0x4cf601(0x4a3)],!0x1);break;case _0x182c91[_0x4cf601(0x4f9)][_0x4cf601(0x45a)]:_0x2a05c7=await _0x4a3f22(_0x538ef5,_0x22f867[_0x4cf601(0x4a3)]);break;case _0x182c91[_0x4cf601(0x4f9)][_0x4cf601(0x8eb)]:_0x2a05c7=await _0xb8e046(_0x22f867[_0x4cf601(0x2ea)],_0x1afd97);break;case _0x182c91['GenerativeAIInferenceToolType'][_0x4cf601(0x8cf)]:_0x2a05c7=await _0x4f8796(_0x22f867[_0x4cf601(0x2ea)],_0x22f867[_0x4cf601(0x4a3)],_0x1afd97);break;case _0x182c91[_0x4cf601(0x4f9)]['FormSkillSubmitForm']:_0x2a05c7=await _0x4a219f(_0x22f867['tool'],_0x1afd97);break;case _0x182c91['GenerativeAIInferenceToolType']['WorkflowTool']:_0x22f867['tool']['async']?_0x2a05c7=await _0x5d6649(_0x22f867['vendorId'],_0x22f867[_0x4cf601(0x2ea)],_0x22f867[_0x4cf601(0x4a3)],_0x1afd97):(_0x5d6649(_0x22f867['vendorId'],_0x22f867['tool'],_0x22f867['arguments'],_0x1afd97),_0x2a05c7=_0x4cf601(0x994));}return{'type':_0x4cf601(0x8e0),'output':_0x2a05c7,'internalContext':_0x1afd97['internalContext']??{}};}async function*_0x85e4a2(_0x3b1c59,_0x976b1,_0x343e9f){const _0x181bde=_0x2aff22,_0xebdd30=_0x976b1[_0x181bde(0xa09)]??(0x0,_0x360e63['v4'])(),_0x3367d5={'type':_0x181bde(0x54f),'context':[],'internalContext':_0x976b1[_0x181bde(0xb93)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x30ed66=new _0x17eb09(),_0x30d7b2=_0x976b1['vendorId'];try{await(0x0,_0x485eb0[_0x181bde(0x607)])(_0x4d81d6[_0x181bde(0x945)](),'validateVendorCredits')({'vendorId':_0x30d7b2});}catch(_0x4fe91d){throw console[_0x181bde(0x730)](_0x181bde(0x7f0),_0x4fe91d),new Error('Insufficient\x20credits');}const _0x5f57bc=(await(0x0,_0x181a71[_0x181bde(0x9b8)])((0x0,_0x181a71[_0x181bde(0x3b5)])(_0x4d81d6[_0x181bde(0x67b)](),_0x181bde(0x21b),_0x30d7b2)))[_0x181bde(0x8e6)]();_0x5f57bc&&_0x5f57bc[_0x181bde(0x2c4)]||(console[_0x181bde(0x6ea)](new Date()+_0x181bde(0xbc7),_0x976b1[_0x181bde(0x6f2)],_0x5c92d1[_0x181bde(0x9de)](_0x976b1['model'])[_0x181bde(0x877)]),_0x976b1[_0x181bde(0x6f2)]=_0x5c92d1[_0x181bde(0x9de)](_0x976b1[_0x181bde(0x6f2)])[_0x181bde(0x877)]),async function(_0x47828e,_0x16a1ef,_0x33c78a,_0x1f26b9,_0x174010,_0x23efb7){const _0x2a3e7c=_0x181bde,_0x393bbb=_0x23efb7[_0x2a3e7c(0x9df)][_0x2a3e7c(0x43b)](_0x264d1d=>_0x264d1d['id']===_0x33c78a[_0x2a3e7c(0x6f2)]);if(!_0x393bbb)throw new Error('Model\x20not\x20found');const _0x4cd47a=_0x23efb7[_0x2a3e7c(0x5e5)]['find'](_0x2762bf=>_0x2762bf['getEngineType']()===_0x393bbb[_0x2a3e7c(0xabc)]);if(!_0x4cd47a)throw new Error(_0x2a3e7c(0x704));const _0x52500c={'type':_0x2a3e7c(0x54f),'output':''},_0x1a0900=await _0x4f3c20(_0x47828e,_0x16a1ef,_0x33c78a,_0x1f26b9,_0x33c78a[_0x2a3e7c(0x887)]??[],_0x23efb7,_0x174010);for await(const _0x5adadc of _0x4cd47a[_0x2a3e7c(0x21c)]({'type':_0x2a3e7c(0x54f),'prompt':_0x33c78a[_0x2a3e7c(0x54f)],'instructions':_0x33c78a[_0x2a3e7c(0xa73)],'reasoning':_0x33c78a['reasoning'],'grammar':_0x33c78a[_0x2a3e7c(0x39b)],'temperature':_0x33c78a[_0x2a3e7c(0x83a)],'maxTokens':_0x33c78a['maxTokens'],'history':_0x33c78a[_0x2a3e7c(0x329)],'functions':_0x1a0900,'threadId':_0x33c78a['threadId']},{'model':_0x393bbb,'sequences':Array[_0x2a3e7c(0x306)](_0x1a0900[_0x2a3e7c(0x780)]())[_0x2a3e7c(0x4f7)](_0x4d2065=>_0x4d2065[_0x2a3e7c(0x606)](_0x2a3e7c(0xb5c)))?0x2:0x1}))_0x174010[_0x2a3e7c(0x839)](_0x5adadc),_0x2a3e7c(0xb85)==typeof _0x52500c[_0x2a3e7c(0x334)]&&_0x2a3e7c(0xb85)==typeof _0x5adadc[_0x2a3e7c(0x334)]&&(_0x52500c[_0x2a3e7c(0x334)]+=_0x5adadc[_0x2a3e7c(0x334)]),_0x52500c['inputTokens']=_0x5adadc['inputTokens'],_0x52500c['outputTokens']=_0x5adadc[_0x2a3e7c(0x94a)];await _0x33cd0c['wait'](0x1),_0x174010[_0x2a3e7c(0x839)](void 0x0);}(_0x3b1c59,_0xebdd30,_0x976b1,_0x3367d5,_0x30ed66,_0x343e9f);let _0x2201e9='',_0x4eca8a=0x0,_0x1bf229=0x0,_0x345276={'type':'prompt'};for(;;){const _0x221baa=await _0x30ed66[_0x181bde(0x300)]();if(!_0x221baa)break;_0x2201e9+=_0x221baa['output'],_0x345276={'type':_0x181bde(0x54f),'output':_0x221baa[_0x181bde(0x334)],'context':_0x3367d5[_0x181bde(0xb32)],'internalContext':{},'inputTokens':_0x221baa[_0x181bde(0x8b2)]??0x0,'outputTokens':_0x221baa[_0x181bde(0x94a)]??0x0},_0x4eca8a+=_0x221baa[_0x181bde(0x8b2)]??0x0,_0x1bf229+=_0x221baa[_0x181bde(0x94a)]??0x0,((_0x221baa[_0x181bde(0x8b2)]??0x0)>0x0||(_0x221baa['outputTokens']??0x0)>0x0)&&console[_0x181bde(0x6ea)](new Date()+_0x181bde(0x63b),_0x976b1[_0x181bde(0x6f2)],_0x221baa[_0x181bde(0x8b2)]??0x0,_0x221baa[_0x181bde(0x94a)]??0x0),yield _0x345276;}_0x2a3821[_0x181bde(0x33a)](_0x3b1c59,_0x976b1['model'],_0x4eca8a,_0x1bf229),console['log'](new Date()+_0x181bde(0x3cc),_0x976b1[_0x181bde(0x6f2)],_0x4eca8a,_0x1bf229),yield{..._0x345276,'output':'','internalContext':_0x3367d5[_0x181bde(0xb93)]??{}};}async function _0xe1260c(_0x1db811,_0x25fca1,_0x1d1142,_0x549c85,_0x3d08ec,_0x10f8fa){const _0x24579e=_0x2aff22,_0x5f0d10=Date['now']();if(!_0x10f8fa[_0x24579e(0x9df)][_0x24579e(0x43b)](_0x48dfcd=>_0x48dfcd['id']===_0x549c85[_0x24579e(0x4ac)]))throw new Error(_0x24579e(0x3f3));const _0x508803=(0x0,_0x360e63['v4'])(),_0x131448=[];_0x131448[_0x24579e(0x639)]({'role':_0x24579e(0x459),'content':_0x549c85[_0x24579e(0xa73)]}),_0x131448[_0x24579e(0x639)]({'role':_0x24579e(0x34d),'content':_0x1d1142});const _0x5ae5f9=await fetch(_0x4d302b[_0x24579e(0xaee)]+_0x24579e(0x7f9),{'method':_0x24579e(0x804),'headers':{'Content-Type':_0x24579e(0x429),'x-vendor-id':_0x1db811},'body':JSON[_0x24579e(0x438)]({'model':_0x549c85['modelId'],'messages':_0x131448,'max_completion_tokens':_0x549c85['maxTokens'],'temperature':_0x549c85[_0x24579e(0x83a)],'threadId':_0x508803})}),_0x57b8a8=(await _0x5ae5f9[_0x24579e(0xb7c)]())['choices'][0x0]['message']['content'];await _0x2a3821[_0x24579e(0x9f3)]({'jobType':_0x42d38a['Ingest'],'type':_0x1a1a96[_0x24579e(0x2e3)],'jobId':_0x25fca1,'blockId':_0x549c85['id'],'traceLevel':_0x192bcf[_0x24579e(0x387)],'timestamp':Date[_0x24579e(0x75c)](),'startTime':_0x5f0d10,'status':_0x24579e(0x6ce),'agentId':_0x508803,'content':_0x1d1142,'instructions':_0x549c85['instructions'],'result':_0x57b8a8});const _0x4ad541=[];if(_0x549c85['links']?.[_0x24579e(0x4f7)](_0xc38955=>_0xc38955[_0x24579e(0x751)]===_0x16738a['Text']))return _0x4ad541['push']({'content':_0x57b8a8,'start':0x0,'length':_0x57b8a8[_0x24579e(0x482)]}),await _0x2b2407(_0x1db811,_0x25fca1,_0x4ad541,_0x549c85,_0x3d08ec,_0x10f8fa),void await _0x2b2407(_0x1db811,_0x25fca1,_0x57b8a8,_0x549c85,_0x3d08ec,_0x10f8fa);_0x4ad541[_0x24579e(0x639)]({'content':_0x57b8a8,'start':0x0,'length':_0x1d1142[_0x24579e(0x482)]}),await _0x2b2407(_0x1db811,_0x25fca1,_0x4ad541,_0x549c85,_0x3d08ec,_0x10f8fa);}async function _0x3d1c55(_0x1ca3cf,_0x4adffc,_0x49e891,_0x2d090e,_0x456455,_0x4960fe){const _0x4a6824=_0x2aff22,_0x5e07d4=Date['now']();let _0x3ab21a=[];if(_0x49e891 instanceof Array)for(const _0x24fa40 of _0x49e891){if(_0x4a6824(0xb85)!=typeof _0x24fa40[_0x4a6824(0xb25)])throw new Error(_0x4a6824(0x862));_0x3ab21a=_0x3ab21a[_0x4a6824(0x632)](_0x5cdff5(_0x24fa40[_0x4a6824(0xb25)],_0x2d090e,_0x24fa40[_0x4a6824(0xb5a)],_0x24fa40['length']));}else _0x3ab21a=_0x5cdff5(_0x49e891,_0x2d090e);await _0x2a3821[_0x4a6824(0x9f3)]({'jobType':_0x42d38a[_0x4a6824(0x1fe)],'type':_0x1a1a96[_0x4a6824(0x92f)],'traceLevel':_0x192bcf[_0x4a6824(0x387)],'jobId':_0x4adffc,'blockId':_0x2d090e['id'],'startTime':_0x5e07d4,'timestamp':Date['now'](),'status':'success','totalChunks':_0x3ab21a[_0x4a6824(0x482)],'chunkSize':_0x2d090e['attributes'][_0x4a6824(0x5ab)]}),await _0x2b2407(_0x1ca3cf,_0x4adffc,_0x3ab21a,_0x2d090e,_0x456455,_0x4960fe);}function _0x5cdff5(_0x4c675a,_0x3cbb91,_0x1f10ed,_0x217ac6){const _0x2b228b=_0x2aff22,_0x46e36a=[];for(let _0x3fb3c=0x0;_0x3fb3c<_0x4c675a['length'];_0x3fb3c+=_0x3cbb91['attributes'][_0x2b228b(0x5ab)]){let _0x544dbb=_0x3fb3c-_0x3cbb91[_0x2b228b(0x9f2)][_0x2b228b(0x247)];_0x544dbb<0x0&&(_0x544dbb=0x0);let _0x20a7d3=_0x3fb3c+_0x3cbb91['attributes'][_0x2b228b(0x5ab)]+_0x3cbb91[_0x2b228b(0x9f2)]['overlap'];_0x20a7d3>_0x4c675a[_0x2b228b(0x482)]&&(_0x20a7d3=_0x4c675a[_0x2b228b(0x482)]);const _0x4b7d47=_0x4c675a['substring'](_0x544dbb,_0x20a7d3);_0x46e36a[_0x2b228b(0x639)]({'content':_0x4b7d47,'start':_0x1f10ed??_0x3fb3c,'length':_0x217ac6??(_0x3fb3c+_0x3cbb91[_0x2b228b(0x9f2)]['size']>_0x4c675a[_0x2b228b(0x482)]?_0x4c675a[_0x2b228b(0x482)]-_0x3fb3c:_0x3cbb91[_0x2b228b(0x9f2)][_0x2b228b(0x5ab)])});}return _0x46e36a;}async function _0x575ee1(_0x46496a,_0x23586a,_0x2de86b,_0x185183,_0x2fa928,_0x46294a){const _0x32cede=_0x2aff22,_0x3429e6=Date['now']();let _0x416a25;if(_0x2de86b[_0x32cede(0x313)][_0x32cede(0x751)][_0x32cede(0x606)](_0x32cede(0x9c5))||_0x551108(_0x2de86b[_0x32cede(0x313)]['name'],_0x1a8211))_0x416a25=await _0x2de86b[_0x32cede(0x313)]['text']();else{if(!_0x46294a[_0x32cede(0x372)][_0x32cede(0xb20)](_0x2de86b[_0x32cede(0x313)]))throw new Error(_0x32cede(0xad5)+_0x2de86b['file'][_0x32cede(0x751)]+_0x32cede(0x20d)+_0x2de86b[_0x32cede(0x313)]['name']);_0x416a25=await _0x46294a[_0x32cede(0x372)][_0x32cede(0x255)](_0x2de86b[_0x32cede(0x313)]);}await _0x2a3821[_0x32cede(0x9f3)]({'jobType':_0x42d38a[_0x32cede(0x1fe)],'type':_0x1a1a96[_0x32cede(0xa99)],'traceLevel':_0x192bcf['Debug'],'blockId':_0x185183['id'],'jobId':_0x23586a,'startTime':_0x3429e6,'timestamp':Date[_0x32cede(0x75c)](),'status':'success','documentType':_0x2de86b['file']['type'],'documentName':_0x2de86b['file']['name'],'extractionMethod':_0x32cede(0x5ca)}),await _0x2b2407(_0x46496a,_0x23586a,_0x416a25,_0x185183,_0x2fa928,_0x46294a);const _0x558e8a=[{'content':_0x416a25,'start':0x0,'length':_0x416a25[_0x32cede(0x482)]}];await _0x2b2407(_0x46496a,_0x23586a,_0x558e8a,_0x185183,_0x2fa928,_0x46294a);}const _0x1a8211=[_0x2aff22(0xae4),_0x2aff22(0x41e),_0x2aff22(0x1ca),_0x2aff22(0x28d),_0x2aff22(0x456),_0x2aff22(0x4b4),_0x2aff22(0x892),_0x2aff22(0x5c9),_0x2aff22(0x7f5),_0x2aff22(0x964),_0x2aff22(0x311),_0x2aff22(0x259),_0x2aff22(0x874),_0x2aff22(0x488),_0x2aff22(0x749),_0x2aff22(0xa06),_0x2aff22(0x7df),_0x2aff22(0x2ef),_0x2aff22(0x728),_0x2aff22(0x7e0),'.c','.cpp',_0x2aff22(0xb3a),'.r','.go',_0x2aff22(0x3b8),'.scala','.kt',_0x2aff22(0x66c),_0x2aff22(0x211),'.pl',_0x2aff22(0x6d7),_0x2aff22(0x9a3),'.clj',_0x2aff22(0x5b7),_0x2aff22(0xb55),_0x2aff22(0x9d0),_0x2aff22(0x9f4),'.vb',_0x2aff22(0x416),_0x2aff22(0x41b),'.m',_0x2aff22(0xaaa),'.awk',_0x2aff22(0x392),'.jl',_0x2aff22(0x24c),_0x2aff22(0xa0f),_0x2aff22(0x609),'.vue',_0x2aff22(0x766),'.jinja',_0x2aff22(0x7c8),'.hbs','.handlebars',_0x2aff22(0xa49),_0x2aff22(0xa36),_0x2aff22(0x9e5),_0x2aff22(0x501),_0x2aff22(0x37b),_0x2aff22(0x731),_0x2aff22(0x7fc),_0x2aff22(0x34f)];function _0x551108(_0x30770b,_0x591f6c){const _0x422ad5=_0x2aff22;return _0x591f6c[_0x422ad5(0x9bf)]('.'+(_0x30770b[_0x422ad5(0x99b)]('.')[_0x422ad5(0x552)]()?.[_0x422ad5(0x522)]()||''));}async function _0x39b070(_0x25e6dd,_0xf6dbee,_0x12a372,_0x9af5ff,_0x490677,_0x1326c0){const _0x5d82b7=_0x2aff22,_0x669730=Date['now'](),_0xc64683=new Set();let _0xe65b64=0x0;for(const _0x5cb57 of _0x12a372){if('string'!=typeof _0x5cb57[_0x5d82b7(0xb25)])throw new Error(_0x5d82b7(0x862));_0xe65b64+=_0x5cb57[_0x5d82b7(0xb25)][_0x5d82b7(0x482)],await _0x3768da(_0x5cb57[_0x5d82b7(0xb25)],_0xc64683,_0x9af5ff,_0x1326c0[_0x5d82b7(0x3fc)]);}await _0x2a3821[_0x5d82b7(0x9f3)]({'jobType':_0x42d38a['Ingest'],'type':_0x1a1a96[_0x5d82b7(0x26d)],'jobId':_0xf6dbee,'blockId':_0x9af5ff['id'],'traceLevel':_0x192bcf['Debug'],'startTime':_0x669730,'timestamp':Date[_0x5d82b7(0x75c)](),'status':_0x5d82b7(0x6ce),'contentLength':_0xe65b64,'totalChunks':_0x12a372 instanceof Array?_0x12a372[_0x5d82b7(0x482)]:0x1,'entitiesExtracted':_0xc64683,'totalEntities':_0xc64683[_0x5d82b7(0x5ab)]}),await _0x2b2407(_0x25e6dd,_0xf6dbee,_0xc64683,_0x9af5ff,_0x490677,_0x1326c0);}async function _0x3768da(_0x534214,_0x274e66,_0x55c70d,_0x18056c){const _0x235531=_0x2aff22,_0x4f8680=await _0x18056c[_0x235531(0xa4c)](_0x534214,{'ner':_0x55c70d[_0x235531(0x9f2)][_0x235531(0x830)],'noun':_0x55c70d['attributes'][_0x235531(0x712)],'propn':_0x55c70d['attributes']['propn'],'verb':_0x55c70d[_0x235531(0x9f2)]['verb']});for(const _0x464288 of _0x4f8680)_0x274e66[_0x235531(0x62d)](_0x464288);}async function _0x1a7b0b(_0x376aef,_0x231701,_0x53aa8f,_0x4979e9,_0x1fafd9){const _0x2459dc=_0x2aff22,_0x52b062=Date[_0x2459dc(0x75c)]();if(_0x53aa8f['accumulated']||(_0x53aa8f['accumulated']={}),'string'==typeof _0x231701?_0x53aa8f[_0x2459dc(0x7a0)][_0x2459dc(0xb25)]=_0x231701:_0x231701 instanceof Set?_0x53aa8f[_0x2459dc(0x7a0)]['entities']=_0x231701:_0x231701 instanceof Map?_0x53aa8f[_0x2459dc(0x7a0)][_0x2459dc(0x884)]=_0x231701:_0x231701 instanceof Array?_0x53aa8f[_0x2459dc(0x7a0)]['index']=_0x231701:_0x53aa8f['accumulated'][_0x2459dc(0x313)]=_0x231701,_0x53aa8f[_0x2459dc(0x6e9)]=_0x53aa8f['timesCalled']?_0x53aa8f[_0x2459dc(0x6e9)]+0x1:0x1,_0x186c43(_0x53aa8f,_0x4979e9[_0x2459dc(0xa00)])>_0x53aa8f[_0x2459dc(0x6e9)])return;if(!(_0x53aa8f['accumulated']['entities']&&_0x53aa8f[_0x2459dc(0x7a0)]['file']&&_0x53aa8f['accumulated']['content']&&_0x53aa8f[_0x2459dc(0x7a0)]['index']))throw new Error(_0x2459dc(0x453));let _0x276340=0x0;const _0x3bd6bb=_0x1fafd9['contentMediator'][_0x2459dc(0x348)](_0x53aa8f['id']);for(const _0x521427 of _0x53aa8f[_0x2459dc(0x7a0)]['entities']){let _0x585202=[];_0x585202=_0x53aa8f['accumulated']['index'][_0x2459dc(0xae8)](_0x40d19b=>_0x2459dc(0xb85)==typeof _0x40d19b['content']&&_0x40d19b[_0x2459dc(0xb25)][_0x2459dc(0x9bf)](_0x521427));try{_0x3bd6bb[_0x2459dc(0x409)](_0x53aa8f[_0x2459dc(0x7a0)][_0x2459dc(0x313)][_0x2459dc(0x8ca)],_0x53aa8f['accumulated'][_0x2459dc(0xb25)],_0x585202,_0x521427),_0x276340+=0x1;}catch(_0x1ad7d7){}}if(_0x53aa8f[_0x2459dc(0x7a0)]['relations']){for(const [_0x3fe09b,_0x219ab6]of _0x53aa8f[_0x2459dc(0x7a0)]['relations'])for(const _0x2c7452 of _0x219ab6)try{_0x3bd6bb[_0x2459dc(0xa31)](_0x3fe09b,_0x2c7452);}catch(_0x487689){}await _0x2a3821['trace']({'jobType':_0x42d38a[_0x2459dc(0x1fe)],'type':_0x1a1a96[_0x2459dc(0xb7f)],'jobId':_0x376aef,'blockId':_0x53aa8f['id'],'status':'success','startTime':_0x52b062,'timestamp':Date[_0x2459dc(0x75c)](),'traceLevel':_0x192bcf[_0x2459dc(0x387)],'nodesAdded':_0x276340,'entities':_0x53aa8f[_0x2459dc(0x7a0)][_0x2459dc(0x5e3)],'relations':_0x53aa8f[_0x2459dc(0x7a0)][_0x2459dc(0x884)]});}}async function _0x16157c(_0x37f198,_0x10dbe3,_0x5d1835,_0x5b9650,_0x529008,_0x1bbd1e){const _0x48e061=_0x2aff22,_0x3aeace=_0x1bbd1e[_0x48e061(0x9df)][_0x48e061(0x43b)](_0x343d8b=>_0x343d8b['id']===_0x5b9650['id']);if(!_0x3aeace)throw new Error(_0x48e061(0x3f3));switch(_0x3aeace[_0x48e061(0x9bd)]){case _0x182c91[_0x48e061(0x4f8)][_0x48e061(0x5aa)]:if(_0x48e061(0xb85)!=typeof _0x5d1835)throw new Error(_0x48e061(0x321));await async function(_0x379ded,_0xcb7115,_0x5cb804,_0x4072e9,_0x30aa91,_0x277f42,_0x5e9405){const _0xb3df8b=_0x48e061,_0xb2a81=Date[_0xb3df8b(0x75c)]();let _0x3e3c39;const _0x4dbe16=await fetch(_0x4d302b['apiUrl']+'/chat/completions',{'method':_0xb3df8b(0x804),'headers':{'Content-Type':_0xb3df8b(0x429),'x-vendor-id':_0x379ded},'body':JSON['stringify']({'messages':[{'role':_0xb3df8b(0x34d),'content':_0x5cb804}],'model':_0x4072e9['id']})});_0x3e3c39=(await _0x4dbe16[_0xb3df8b(0xb7c)]())[_0xb3df8b(0x229)][0x0][_0xb3df8b(0x83d)][_0xb3df8b(0xb25)],await _0x2a3821['trace']({'jobType':_0x42d38a['Ingest'],'type':_0x1a1a96[_0xb3df8b(0x8dc)],'jobId':_0xcb7115,'blockId':_0x30aa91['id'],'traceLevel':_0x192bcf[_0xb3df8b(0x387)],'timestamp':Date[_0xb3df8b(0x75c)](),'startTime':_0xb2a81,'status':'success','modelName':_0x4072e9['id'],'inputType':_0x4072e9['inputType'],'outputType':_0x4072e9[_0xb3df8b(0x9bd)],'content':_0x5cb804,'results':_0x3e3c39}),await _0x2b2407(_0x379ded,_0xcb7115,_0x3e3c39,_0x30aa91,_0x277f42,_0x5e9405);}(_0x37f198,_0x10dbe3,_0x5d1835,_0x3aeace,_0x5b9650,_0x529008,_0x1bbd1e);break;case _0x182c91[_0x48e061(0x4f8)][_0x48e061(0x681)]:if(!(_0x5d1835 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x179c8c,_0x3e7458,_0x18e93c,_0x1f59cc,_0x1edd13,_0x1bdca4,_0x24e9c3){const _0x131a04=_0x48e061,_0x292999=Date['now'](),_0x38dfdf=await fetch(_0x4d302b[_0x131a04(0xaee)]+_0x131a04(0x924),{'method':_0x131a04(0x804),'headers':{'Content-Type':_0x131a04(0x429),'x-vendor-id':_0x179c8c},'body':JSON[_0x131a04(0x438)]({'input':_0x18e93c[_0x131a04(0x8df)](_0x1a622e=>_0x1a622e[_0x131a04(0xb25)]),'model':_0x1f59cc['id']})}),_0x332957=(await _0x38dfdf[_0x131a04(0xb7c)]())[_0x131a04(0x8e6)][_0x131a04(0x8df)](_0x36f36c=>_0x36f36c[_0x131a04(0xbf5)]);await _0x2a3821[_0x131a04(0x9f3)]({'jobType':_0x42d38a['Ingest'],'type':_0x1a1a96['ModelVector'],'jobId':_0x3e7458,'blockId':_0x1edd13['id'],'traceLevel':_0x192bcf['Debug'],'timestamp':Date['now'](),'startTime':_0x292999,'status':_0x131a04(0x6ce),'modelName':_0x1f59cc['id'],'inputType':_0x1f59cc[_0x131a04(0x431)],'outputType':_0x1f59cc[_0x131a04(0x9bd)],'totalVectors':_0x332957['length']}),await _0x2b2407(_0x179c8c,_0x3e7458,_0x332957,_0x1edd13,_0x1bdca4,_0x24e9c3);}(_0x37f198,_0x10dbe3,_0x5d1835,_0x3aeace,_0x5b9650,_0x529008,_0x1bbd1e);}}async function _0xc24adc(_0x1cd56d,_0x3b26bf,_0x44c71e,_0xd97158,_0x2869d5,_0x4d3e91){const _0x381534=_0x2aff22,_0x4e7b2a=Date[_0x381534(0x75c)]();if(_0xd97158['accumulated']||(_0xd97158[_0x381534(0x7a0)]={}),_0x44c71e instanceof Array?_0xd97158[_0x381534(0x7a0)][_0x381534(0x787)]=_0x44c71e:_0xd97158[_0x381534(0x7a0)]['entities']=_0x44c71e,_0xd97158['timesCalled']=_0xd97158[_0x381534(0x6e9)]?_0xd97158['timesCalled']+0x1:0x1,_0x186c43(_0xd97158,_0x2869d5[_0x381534(0xa00)])>_0xd97158['timesCalled'])return;if(!_0xd97158['accumulated'][_0x381534(0x787)]||!_0xd97158[_0x381534(0x7a0)][_0x381534(0x5e3)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x1621c2=new Map();for(const _0x50fd95 of _0xd97158['accumulated']['index']){if('string'!=typeof _0x50fd95['content'])throw new Error(_0x381534(0x862));_0xef23a6(_0x50fd95[_0x381534(0xb25)],_0xd97158[_0x381534(0x7a0)][_0x381534(0x5e3)],_0x1621c2);}await _0x2a3821[_0x381534(0x9f3)]({'jobType':_0x42d38a[_0x381534(0x1fe)],'type':_0x1a1a96[_0x381534(0xa6e)],'jobId':_0x3b26bf,'blockId':_0xd97158['id'],'traceLevel':_0x192bcf[_0x381534(0x387)],'timestamp':Date[_0x381534(0x75c)](),'startTime':_0x4e7b2a,'status':_0x381534(0x6ce),'entities':_0xd97158[_0x381534(0x7a0)][_0x381534(0x5e3)],'relations':_0x1621c2,'totalRelationsExtracted':_0x1621c2[_0x381534(0x5ab)]}),await _0x2b2407(_0x1cd56d,_0x3b26bf,_0x1621c2,_0xd97158,_0x2869d5,_0x4d3e91);}function _0xef23a6(_0x45db25,_0x174a77,_0x401b6d){const _0x531c33=_0x2aff22;for(const _0x4050a4 of _0x174a77)for(const _0x40a111 of _0x174a77){if(_0x4050a4===_0x40a111)continue;const _0x5707bf=_0x45db25['indexOf'](_0x4050a4),_0x4a8b1b=_0x45db25['indexOf'](_0x40a111);-0x1!==_0x5707bf&&-0x1!==_0x4a8b1b&&(_0x401b6d['has'](_0x4050a4)||_0x401b6d[_0x531c33(0x25c)](_0x4050a4,new Set()),_0x401b6d[_0x531c33(0x9de)](_0x4050a4)[_0x531c33(0x62d)](_0x40a111));}return _0x401b6d;}async function _0x3d7d03(_0x10f330,_0x4fe57a,_0x3a645c,_0x1e614f,_0x5d4199,_0x1c9926){const _0x5f0770=_0x2aff22,_0x3d3def=Date[_0x5f0770(0x75c)]();let _0x604526=[];if(_0x3a645c instanceof Array)for(const _0x772af6 of _0x3a645c){if('string'!=typeof _0x772af6['content'])throw new Error('Invalid\x20content\x20type');const _0x39a0c=await _0x1c9926[_0x5f0770(0x3fc)][_0x5f0770(0x653)](_0x772af6[_0x5f0770(0xb25)]);_0x604526=_0x604526['concat'](_0x39a0c[_0x5f0770(0x8df)](_0x3d92db=>({'content':_0x3d92db,'start':_0x772af6['start'],'length':_0x772af6[_0x5f0770(0x482)]})));}else _0x604526=(await _0x1c9926[_0x5f0770(0x3fc)][_0x5f0770(0x653)](_0x3a645c))['map'](_0x2a1b00=>({'content':_0x2a1b00,'start':_0x3a645c[_0x5f0770(0x26a)](_0x2a1b00),'length':_0x2a1b00[_0x5f0770(0x482)]}));await _0x2a3821[_0x5f0770(0x9f3)]({'jobType':_0x42d38a[_0x5f0770(0x1fe)],'type':_0x1a1a96['SentenceSplitter'],'jobId':_0x4fe57a,'blockId':_0x1e614f['id'],'traceLevel':_0x192bcf[_0x5f0770(0x387)],'startTime':_0x3d3def,'timestamp':Date[_0x5f0770(0x75c)](),'status':'success','totalSentences':_0x604526[_0x5f0770(0x482)],'averageSentenceLength':_0x604526[_0x5f0770(0x317)]((_0x594a0e,_0x4d5c1c)=>_0x594a0e+_0x4d5c1c['length'],0x0)/_0x604526[_0x5f0770(0x482)]}),await _0x2b2407(_0x10f330,_0x4fe57a,_0x604526,_0x1e614f,_0x5d4199,_0x1c9926);}async function _0x16f56b(_0x2df87a,_0x31c3f3,_0x69c21b,_0x3fb5b5,_0x1dc6b3){const _0x46af4e=_0x2aff22,_0x3c6941=_0x31c3f3[_0x46af4e(0xa09)]??(0x0,_0x360e63['v4'])(),_0x12249c=Date['now']();await _0x2a3821[_0x46af4e(0x9f3)]({'jobType':_0x42d38a[_0x46af4e(0x1f8)],'type':_0x2477dc[_0x46af4e(0x7bb)],'jobId':_0x2df87a,'blockId':_0x69c21b['id'],'agentId':_0x3c6941,'threadId':_0x31c3f3['threadId'],'traceLevel':_0x192bcf[_0x46af4e(0x6fa)],'startTime':Date[_0x46af4e(0x75c)](),'timestamp':Date['now'](),'status':_0x46af4e(0x6ce),'initialPrompt':_0x31c3f3['prompt']});const _0x2e42e2={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x31c3f3[_0x46af4e(0xb93)]&&(_0x2e42e2[_0x46af4e(0xb93)]=_0x31c3f3['internalContext']),await _0x911a87(_0x2df87a,_0x31c3f3,_0x2e42e2,_0x69c21b,_0x3fb5b5,_0x1dc6b3),await _0x13e4e5(_0x2df87a,''+_0x31c3f3[_0x46af4e(0x54f)],_0x31c3f3,_0x2e42e2,_0x69c21b,_0x3fb5b5,_0x1dc6b3);const {inputTokens:_0x1b01a8=0x0,outputTokens:_0x52f6fb=0x0,context:_0x32567a=[]}=_0x2e42e2;await _0x2a3821[_0x46af4e(0x9f3)]({'jobType':_0x42d38a['Workflow'],'type':_0x2477dc['FinalOutput'],'jobId':_0x2df87a,'agentId':_0x3c6941,'threadId':_0x31c3f3[_0x46af4e(0x7d7)],'traceLevel':_0x192bcf[_0x46af4e(0x6fa)],'startTime':_0x12249c,'timestamp':Date[_0x46af4e(0x75c)](),'blockId':_0x69c21b['id'],'status':_0x46af4e(0x6ce),'output':_0x2e42e2[_0x46af4e(0x334)]?.[_0x46af4e(0x7e6)]()??'','prompt':_0x31c3f3[_0x46af4e(0x54f)],'agentName':'','history':_0x31c3f3[_0x46af4e(0x329)]??[],'instructions':''+(_0x31c3f3[_0x46af4e(0xa73)]??''),'ragContext':_0x32567a,'inputTokens':_0x1b01a8,'outputTokens':_0x52f6fb});const _0x15ec28=_0x3fb5b5['find'](_0x42589c=>_0x42589c['type']===_0x187b0c[_0x46af4e(0xa2c)]);return{'type':_0x46af4e(0x54f),'output':_0x2e42e2['output'],'context':_0x2e42e2[_0x46af4e(0xb32)],'internalContext':_0x2e42e2['internalContext'],'resultFile':await _0x15ec28?.[_0x46af4e(0x7a0)]?.[_0x46af4e(0x313)]?.[_0x46af4e(0x9a0)]()??void 0x0,'inputTokens':_0x2e42e2[_0x46af4e(0x8b2)]??0x0,'outputTokens':_0x2e42e2[_0x46af4e(0x94a)]??0x0};}async function*_0x547e01(_0x1cc8a0,_0x2aee00,_0x2f140a,_0x4b520d,_0x192e93){const _0x55a7b3=_0x2aff22,_0x2f6da3=_0x2aee00['agentId']??(0x0,_0x360e63['v4'])(),_0x52fc43=Date['now']();await _0x2a3821[_0x55a7b3(0x9f3)]({'jobType':_0x42d38a[_0x55a7b3(0x1f8)],'type':_0x2477dc[_0x55a7b3(0x7bb)],'jobId':_0x1cc8a0,'agentId':_0x2f6da3,'threadId':_0x2aee00[_0x55a7b3(0x7d7)],'traceLevel':_0x192bcf[_0x55a7b3(0x6fa)],'startTime':Date[_0x55a7b3(0x75c)](),'timestamp':Date['now'](),'blockId':_0x2f140a['id'],'status':_0x55a7b3(0x6ce),'initialPrompt':_0x2aee00['prompt']});const _0x3119be={'type':_0x55a7b3(0x54f),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x2aee00[_0x55a7b3(0xb93)]&&(_0x3119be['internalContext']=_0x2aee00[_0x55a7b3(0xb93)]);const _0x3388ba=new _0x17eb09();await _0x911a87(_0x1cc8a0,_0x2aee00,_0x3119be,_0x2f140a,_0x4b520d,_0x192e93),_0x13e4e5(_0x1cc8a0,''+_0x2aee00[_0x55a7b3(0x54f)],_0x2aee00,_0x3119be,_0x2f140a,_0x4b520d,_0x192e93,_0x3388ba);let _0x5e521d='',_0x399266={'type':'prompt'};for(;;){const _0x59182a=await _0x3388ba[_0x55a7b3(0x300)]();if(!_0x59182a)break;_0x5e521d+=_0x59182a[_0x55a7b3(0x334)],_0x399266={'type':_0x55a7b3(0x54f),'output':_0x59182a[_0x55a7b3(0x334)],'context':_0x3119be[_0x55a7b3(0xb32)],'resultFile':void 0x0,'inputTokens':(_0x3119be[_0x55a7b3(0x8b2)]??0x0)+(_0x59182a['inputTokens']??0x0),'outputTokens':(_0x3119be['outputTokens']??0x0)+(_0x59182a[_0x55a7b3(0x94a)]??0x0)},yield _0x399266;}const _0x2ee09e=_0x4b520d['find'](_0x303876=>_0x303876[_0x55a7b3(0x751)]===_0x187b0c[_0x55a7b3(0xa2c)]);yield{..._0x399266,'output':'','internalContext':_0x3119be[_0x55a7b3(0xb93)],'resultFile':await _0x2ee09e?.[_0x55a7b3(0x7a0)]?.[_0x55a7b3(0x313)]?.[_0x55a7b3(0x9a0)]()??void 0x0};const {inputTokens:_0x4fd1a6=0x0,outputTokens:_0x2bcb74=0x0,context:_0x3e36c1=[]}=_0x399266;await _0x2a3821[_0x55a7b3(0x9f3)]({'jobType':_0x42d38a[_0x55a7b3(0x1f8)],'type':_0x2477dc[_0x55a7b3(0x8a0)],'jobId':_0x1cc8a0,'agentId':_0x2f6da3,'threadId':_0x2aee00['threadId'],'traceLevel':_0x192bcf[_0x55a7b3(0x6fa)],'startTime':_0x52fc43,'timestamp':Date[_0x55a7b3(0x75c)](),'blockId':_0x2f140a['id'],'status':_0x55a7b3(0x6ce),'output':_0x5e521d,'prompt':_0x2aee00[_0x55a7b3(0x54f)],'agentName':'','history':_0x2aee00['history']??[],'instructions':''+(_0x2aee00['instructions']??''),'ragContext':_0x3e36c1,'inputTokens':_0x4fd1a6,'outputTokens':_0x2bcb74});}async function _0x911a87(_0xb3bd89,_0x10db21,_0x130dfa,_0x3be977,_0x1e7878,_0x22dd95){const _0x355427=_0x2aff22;if(_0x10db21[_0x355427(0x5e2)]&&_0x3be977[_0x355427(0x2d4)]){const _0x6b712f=[];for(const _0x44bd09 of _0x10db21[_0x355427(0x5e2)])_0x6b712f[_0x355427(0x639)](_0x2506f8(_0x44bd09));_0x3be977[_0x355427(0x2d4)]['some'](_0x1a8ec0=>_0x1a8ec0[_0x355427(0x751)]===_0x16738a[_0x355427(0xa78)])&&await async function(_0x56e5f2,_0x46e6ae,_0x57d814,_0x51d781,_0x5f0add,_0x524fd8,_0x35fc6a){const _0x2bc3ab=_0x355427;if(0x0===_0x46e6ae[_0x2bc3ab(0x482)])return;const _0xa14540=[];for(const _0x2d7c9e of _0x46e6ae){const _0x4cdf86=_0x2d7c9e[_0x2bc3ab(0x751)];if(!_0x4cdf86['startsWith']('application/pdf'))continue;const _0x406817=await _0x2d7c9e[_0x2bc3ab(0x9a8)](),_0x332e02=Buffer['from'](_0x406817)['toString'](_0x2bc3ab(0x981));_0xa14540[_0x2bc3ab(0x639)](_0x4cdf86+_0x2bc3ab(0x5c7)+_0x332e02);}if(_0x5f0add[_0x2bc3ab(0x2d4)])for(const _0x3838e1 of _0x5f0add[_0x2bc3ab(0x2d4)]){if(_0x3838e1[_0x2bc3ab(0x751)]!==_0x16738a[_0x2bc3ab(0xa78)])continue;const _0x4e2a3b=_0x524fd8[_0x2bc3ab(0x43b)](_0x334f1d=>_0x334f1d[_0x2bc3ab(0x6c2)]===_0x3838e1[_0x2bc3ab(0x6c2)]);if(_0x4e2a3b){for(const _0x3a0c43 of _0xa14540)_0x4e2a3b['type']===_0x187b0c[_0x2bc3ab(0x2e3)]&&await _0x47f0cd(_0x56e5f2,_0x3838e1[_0x2bc3ab(0x751)],_0x3a0c43,_0x57d814,_0x51d781,_0x4e2a3b,_0x524fd8,_0x35fc6a);}}}(_0xb3bd89,_0x6b712f,_0x10db21,_0x130dfa,_0x3be977,_0x1e7878,_0x22dd95),_0x3be977[_0x355427(0x2d4)][_0x355427(0x4f7)](_0x33ac3c=>_0x33ac3c['type']===_0x16738a[_0x355427(0x842)])&&await async function(_0x92942f,_0x449d73,_0x15b7d4,_0x5a48fc,_0x53c366,_0x4243e4,_0x59986a){const _0x25184a=_0x355427;if(0x0===_0x449d73[_0x25184a(0x482)])return;const _0x1f21d7=[];for(const _0x460ef9 of _0x449d73){const _0x5ed3be=_0x460ef9['type'];if(!_0x5ed3be[_0x25184a(0x606)](_0x25184a(0x8a1)))continue;const _0x4b0577=await _0x460ef9[_0x25184a(0x9a8)](),_0x16c35d=Buffer[_0x25184a(0x306)](_0x4b0577)['toString']('base64');_0x1f21d7[_0x25184a(0x639)](_0x5ed3be+_0x25184a(0x5c7)+_0x16c35d);}if(_0x53c366['links'])for(const _0xbb59e0 of _0x53c366['links']){if(_0xbb59e0[_0x25184a(0x751)]!==_0x16738a[_0x25184a(0x842)])continue;const _0x2c2c99=_0x4243e4[_0x25184a(0x43b)](_0x29b815=>_0x29b815['uid']===_0xbb59e0[_0x25184a(0x6c2)]);if(_0x2c2c99){for(const _0x41bcd9 of _0x1f21d7)_0x2c2c99[_0x25184a(0x751)]===_0x187b0c[_0x25184a(0x2e3)]&&await _0x47f0cd(_0x92942f,_0xbb59e0[_0x25184a(0x751)],_0x41bcd9,_0x15b7d4,_0x5a48fc,_0x2c2c99,_0x4243e4,_0x59986a);}}}(_0xb3bd89,_0x6b712f,_0x10db21,_0x130dfa,_0x3be977,_0x1e7878,_0x22dd95);}}function _0x2506f8(_0x2eddb4){const _0x5ff29d=_0x2aff22,_0x54ed70=Uint8Array[_0x5ff29d(0x306)](Buffer['from'](_0x2eddb4[_0x5ff29d(0xb25)],_0x5ff29d(0x981))),_0x511536=new Blob([_0x54ed70],{'type':_0x2eddb4[_0x5ff29d(0x751)]});return new File([_0x511536],_0x2eddb4[_0x5ff29d(0x3b3)],{'type':_0x2eddb4['type']});}function _0x561564(_0x6e5ffe,_0x1ccf3a){const _0x61de6d=_0x2aff22;switch(_0x1ccf3a['hosting']){case _0x36b253[_0x61de6d(0x901)]:return'crewdle';case _0x36b253[_0x61de6d(0xbb5)]:return _0x6e5ffe;case _0x36b253[_0x61de6d(0xa30)]:default:return _0x1ccf3a['id'];}}async function _0x14d7b1(_0x3c15ad,_0x2198ef,_0x5b94aa,_0x3111df,_0x3f8232,_0x59bb51){const _0x4b0f63=_0x2aff22,_0x354544=Date['now']();var _0x467bcb;if(_0x3111df[_0x4b0f63(0x7a0)]||(_0x3111df[_0x4b0f63(0x7a0)]={}),_0x5b94aa instanceof Array?(_0x467bcb=_0x5b94aa)[0x0]instanceof Array&&_0x4b0f63(0xb63)==typeof _0x467bcb[0x0]?.[0x0]?_0x3111df['accumulated'][_0x4b0f63(0x3a8)]=_0x5b94aa:_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x787)]=_0x5b94aa:_0x4b0f63(0xb85)==typeof _0x5b94aa?_0x3111df['accumulated'][_0x4b0f63(0xb25)]=_0x5b94aa:_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x313)]=_0x5b94aa,_0x3111df['timesCalled']=_0x3111df[_0x4b0f63(0x6e9)]?_0x3111df[_0x4b0f63(0x6e9)]+0x1:0x1,!(_0x186c43(_0x3111df,_0x3f8232[_0x4b0f63(0xa00)])>_0x3111df['timesCalled'])){if(_0x4b0f63(0x69f)===_0x3111df['id']){if(!_0x3111df[_0x4b0f63(0x7a0)]['index']||!_0x3111df[_0x4b0f63(0x7a0)]['vectors']||!_0x3111df[_0x4b0f63(0x7a0)]['file'])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');if(!_0x59bb51[_0x4b0f63(0x8f1)])throw new Error(_0x4b0f63(0x9f7));const _0x3adb6c=[];for(let _0x5c8c17=0x0;_0x5c8c17<_0x3111df['accumulated'][_0x4b0f63(0x787)]['length'];_0x5c8c17++){const _0x42514e=_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x3a8)][_0x5c8c17],_0x479ca6=_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x787)][_0x5c8c17];_0x3adb6c[_0x4b0f63(0x639)]({'content':_0x42514e,'start':_0x479ca6[_0x4b0f63(0xb5a)],'length':_0x479ca6['length']});}const _0x13367e=_0x561564(_0x3c15ad,_0x3f8232);await _0x59bb51[_0x4b0f63(0x8f1)]['ingestFile'](_0x13367e,_0x3f8232['id'],_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x313)][_0x4b0f63(0x8ca)],_0x3adb6c);}else{if(!(_0x3111df['accumulated'][_0x4b0f63(0xb25)]&&_0x3111df['accumulated'][_0x4b0f63(0x787)]&&_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x3a8)]&&_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x313)]))throw new Error(_0x4b0f63(0x8c6));const _0x69489c=_0x59bb51[_0x4b0f63(0x1db)][_0x4b0f63(0x9a7)](_0x3111df['id']);_0x69489c[_0x4b0f63(0x69a)](_0x3111df['accumulated']['file'][_0x4b0f63(0x8ca)],_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0xb25)],_0x3111df['accumulated'][_0x4b0f63(0x787)],_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x3a8)]),await _0x2a3821[_0x4b0f63(0x9f3)]({'jobType':_0x42d38a['Ingest'],'type':_0x1a1a96[_0x4b0f63(0x883)],'jobId':_0x2198ef,'blockId':_0x3111df['id'],'traceLevel':_0x192bcf[_0x4b0f63(0x387)],'startTime':_0x354544,'timestamp':Date[_0x4b0f63(0x75c)](),'status':_0x4b0f63(0x6ce),'databaseName':_0x69489c[_0x4b0f63(0x28c)](),'vectorsAdded':_0x3111df[_0x4b0f63(0x7a0)][_0x4b0f63(0x3a8)][_0x4b0f63(0x482)],'filePathName':_0x3111df['accumulated'][_0x4b0f63(0x313)][_0x4b0f63(0x8ca)]});}}}async function _0x59ae23(_0x2e0b7f,_0x592242,_0x51761b,_0x4a3e27,_0x36f457,_0xf0c715){const _0x479e0b=_0x2aff22,_0x2d738c=Date[_0x479e0b(0x75c)]();let _0x428dde=[];if(_0x51761b instanceof Array)for(const _0x57e231 of _0x51761b){if(_0x479e0b(0xb85)!=typeof _0x57e231[_0x479e0b(0xb25)])throw new Error(_0x479e0b(0x862));_0x428dde=_0x428dde[_0x479e0b(0x632)](_0x5113f9(_0x57e231[_0x479e0b(0xb25)],_0x4a3e27,_0x57e231[_0x479e0b(0xb5a)],_0x57e231['length']));}else _0x428dde=_0x5113f9(_0x51761b,_0x4a3e27);await _0x2a3821[_0x479e0b(0x9f3)]({'jobType':_0x42d38a[_0x479e0b(0x1fe)],'type':_0x1a1a96['WordSplitter'],'jobId':_0x592242,'traceLevel':_0x192bcf['Debug'],'blockId':_0x4a3e27['id'],'startTime':_0x2d738c,'timestamp':Date[_0x479e0b(0x75c)](),'status':'success','totalChunks':_0x428dde[_0x479e0b(0x482)],'averageChunkLength':_0x428dde['reduce']((_0x5b17a2,_0x2a0358)=>_0x5b17a2+_0x2a0358['length'],0x0)/_0x428dde['length']}),await _0x2b2407(_0x2e0b7f,_0x592242,_0x428dde,_0x4a3e27,_0x36f457,_0xf0c715);}function _0x5113f9(_0x4dc940,_0x19e5e9,_0x3b4101,_0x4dd110){const _0x4d4259=_0x2aff22,_0x4cd9ce=[],_0x2f2e58=_0x4dc940[_0x4d4259(0x99b)]('\x20');let _0x490b89='',_0x56177f=-0x1,_0x3e0956=0x0,_0x4c710b=0x0;for(const _0x54fd7b of _0x2f2e58){if(_0x490b89[_0x4d4259(0x482)]+_0x54fd7b[_0x4d4259(0x482)]>_0x19e5e9[_0x4d4259(0x9f2)][_0x4d4259(0x5ab)]){const _0x1f899c=_0x490b89[_0x4d4259(0x482)];let _0x358f74=_0x56177f,_0x871867='';for(;_0x358f74>=0x0&&_0x871867[_0x4d4259(0x482)]+_0x2f2e58[_0x358f74][_0x4d4259(0x482)]<_0x19e5e9[_0x4d4259(0x9f2)][_0x4d4259(0x247)];)_0x871867=_0x2f2e58[_0x358f74]+'\x20'+_0x871867,_0x358f74--;let _0x53c4c9=_0x3e0956,_0xb39c9='';for(;_0x53c4c9<_0x2f2e58[_0x4d4259(0x482)]&&_0xb39c9[_0x4d4259(0x482)]+_0x2f2e58[_0x53c4c9]['length']<_0x19e5e9['attributes'][_0x4d4259(0x247)];)_0xb39c9+=_0x2f2e58[_0x53c4c9]+'\x20',_0x53c4c9++;_0x490b89=_0x871867+_0x490b89+_0xb39c9,_0x4cd9ce[_0x4d4259(0x639)]({'content':_0x490b89[_0x4d4259(0x71c)](),'start':_0x3b4101??_0x4c710b,'length':_0x4dd110??_0x1f899c}),_0x490b89='',_0x56177f=_0x3e0956-0x1,_0x4c710b+=_0x1f899c;}_0x490b89+=_0x54fd7b+'\x20',_0x3e0956++;}if(_0x490b89[_0x4d4259(0x482)]>0x0){const _0x51997e=_0x490b89['length'];let _0x121852=_0x56177f,_0x58e191='';for(;_0x121852>=0x0&&_0x58e191[_0x4d4259(0x482)]+_0x2f2e58[_0x121852][_0x4d4259(0x482)]<_0x19e5e9['attributes']['overlap'];)_0x58e191=_0x2f2e58[_0x121852]+'\x20'+_0x58e191,_0x121852--;_0x490b89=_0x58e191+_0x490b89,_0x4cd9ce[_0x4d4259(0x639)]({'content':_0x490b89['trim'](),'start':_0x3b4101??_0x4c710b,'length':_0x4dd110??_0x51997e});}return _0x4cd9ce;}async function _0x2b2407(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x99f56,_0x2c3ade,_0x2d478f){const _0x2d7503=_0x2aff22;for(const _0x4424dd of _0x99f56['links']||[]){const _0x5ea817=_0x2c3ade['ingestBlocks']['find'](_0x503d01=>_0x503d01[_0x2d7503(0x6c2)]===_0x4424dd[_0x2d7503(0x6c2)]);if(_0x5ea817)switch(_0x5ea817[_0x2d7503(0x751)]){case _0xc60fdf['Agent']:_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x5aa)]&&_0x2d7503(0xb85)==typeof _0x4cec4e&&await _0xe1260c(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0x92f)]:_0x4424dd['type']===_0x16738a[_0x2d7503(0x5aa)]&&'string'==typeof _0x4cec4e&&await _0x3d1c55(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x495)]&&_0x4cec4e instanceof Array&&await _0x3d1c55(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0xa99)]:_0x4424dd['type']===_0x16738a['File']&&await _0x575ee1(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0x68b)]:if(_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x495)]&&_0x4cec4e instanceof Array){if(!_0x2c3ade[_0x2d7503(0x4ac)])throw new Error(_0x2d7503(0x621));const _0x4cdecb={'type':_0xc60fdf[_0x2d7503(0x37d)],'id':_0x2c3ade[_0x2d7503(0x4ac)],'uid':(0x0,_0x360e63['v4'])(),'links':_0x5ea817['links']};await _0x16157c(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x4cdecb,_0x2c3ade,_0x2d478f);}break;case _0xc60fdf[_0x2d7503(0x26d)]:_0x4424dd['type']===_0x16738a['Index']&&_0x4cec4e instanceof Array&&await _0x39b070(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0xb7f)]:_0x4424dd['type']===_0x16738a['Text']&&'string'==typeof _0x4cec4e&&await _0x1a7b0b(_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x495)]&&_0x4cec4e instanceof Array&&await _0x1a7b0b(_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a['Entity']&&_0x4cec4e instanceof Set&&await _0x1a7b0b(_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x8f8)]&&_0x4cec4e instanceof Map&&await _0x1a7b0b(_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0xa78)]&&await _0x1a7b0b(_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0x37d)]:_0x4424dd[_0x2d7503(0x751)]===_0x16738a['Text']&&'string'==typeof _0x4cec4e&&await _0x16157c(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x495)]&&_0x4cec4e instanceof Array&&await _0x16157c(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf['RelationExtractor']:_0x4424dd[_0x2d7503(0x751)]===_0x16738a['Index']&&_0x4cec4e instanceof Array&&await _0xc24adc(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x88c)]&&_0x4cec4e instanceof Set&&await _0xc24adc(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0x928)]:_0x4424dd[_0x2d7503(0x751)]===_0x16738a['Text']&&_0x2d7503(0xb85)==typeof _0x4cec4e&&await _0x3d7d03(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd['type']===_0x16738a[_0x2d7503(0x495)]&&_0x4cec4e instanceof Array&&await _0x3d7d03(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0x883)]:_0x4424dd[_0x2d7503(0x751)]===_0x16738a['Text']&&'string'==typeof _0x4cec4e&&await _0x14d7b1(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x495)]&&_0x4cec4e instanceof Array&&await _0x14d7b1(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x681)]&&_0x4cec4e instanceof Array&&await _0x14d7b1(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0xa78)]&&await _0x14d7b1(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);break;case _0xc60fdf[_0x2d7503(0x784)]:_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x5aa)]&&_0x2d7503(0xb85)==typeof _0x4cec4e&&await _0x59ae23(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f),_0x4424dd[_0x2d7503(0x751)]===_0x16738a[_0x2d7503(0x495)]&&_0x4cec4e instanceof Array&&await _0x59ae23(_0x5d3f23,_0x35c27a,_0x4cec4e,_0x5ea817,_0x2c3ade,_0x2d478f);}}}function _0x186c43(_0x20e90a,_0x4b8a30){const _0x3137be=_0x2aff22;return _0x4b8a30[_0x3137be(0xae8)](_0x5e28a0=>_0x5e28a0['links']?.[_0x3137be(0x4f7)](_0x2453d2=>_0x2453d2['uid']===_0x20e90a['uid']))[_0x3137be(0x482)];}async function _0x4eb369(_0x4ecbc3,_0xf38291,_0x4c1866,_0x173e6c,_0x173b77,_0xc2381f,_0x287e12){const _0x256d35=_0x2aff22;try{let _0x549c44;switch(_0x173b77[_0x256d35(0x751)]){case _0xc60fdf[_0x256d35(0x40b)]:const _0x5e5ec7=_0x287e12[_0x256d35(0x1db)]['getObjectStoreBucket'](_0x173b77['id']);_0x549c44=await _0x5e5ec7[_0x256d35(0x9de)](_0x4c1866);break;case _0xc60fdf[_0x256d35(0x6fe)]:const _0x379f32=_0x287e12[_0x256d35(0x1db)][_0x256d35(0x302)](_0x173b77['id']);_0x549c44=await _0x379f32['get'](_0x4c1866);case _0xc60fdf[_0x256d35(0x1ef)]:const _0x142f48=_0x4c1866[_0x256d35(0x99b)]('/')['pop']();if(!_0x142f48)throw new Error(_0x256d35(0x586));const _0x502e7f=_0x4c1866['replace'](_0x142f48,''),_0x24da5d=Buffer[_0x256d35(0x306)](_0x173e6c,_0x256d35(0x981));if(_0x549c44=new File([_0x24da5d],_0x142f48),!_0x287e12[_0x256d35(0x5b9)])throw new Error(_0x256d35(0x519));await _0x287e12['objectStoreConnector'][_0x256d35(0x27a)](_0x549c44,_0x502e7f);}if(!_0x549c44)throw new Error(_0x256d35(0x95c));await _0x2b2407(_0x4ecbc3,_0xf38291,{'file':_0x549c44,'pathName':_0x4c1866},_0x173b77,structuredClone(_0xc2381f),_0x287e12);}catch(_0x3ac027){console['error'](_0x256d35(0x49f),_0x3ac027);}}async function _0x4dc7fe(_0xf052f9,_0x5684ac,_0x24388e,_0x25dbea,_0x19e865,_0x428ef0,_0x3d0127,_0x3f16cc){const _0x584af3=_0x2aff22,_0x18d6a9=Date[_0x584af3(0x75c)](),_0xe62209=new Set();if(_0x25dbea instanceof Array){for(const _0x2e888c of _0x25dbea)await _0x12bd6d(_0x2e888c[_0x584af3(0xb25)],_0x428ef0,_0xe62209,_0x3f16cc[_0x584af3(0x3fc)]);}else await _0x12bd6d(_0x25dbea,_0x428ef0,_0xe62209,_0x3f16cc[_0x584af3(0x3fc)]);await _0x2a3821[_0x584af3(0x9f3)]({'jobType':_0x42d38a[_0x584af3(0x56d)],'type':_0x25e933[_0x584af3(0x26d)],'jobId':_0x5684ac,'threadId':_0x24388e,'blockId':_0x428ef0['id'],'traceLevel':_0x192bcf[_0x584af3(0x387)],'startTime':_0x18d6a9,'timestamp':Date[_0x584af3(0x75c)](),'status':_0x584af3(0x6ce),'content':_0x25dbea,'entitiesExtracted':Array[_0x584af3(0x306)](_0xe62209),'totalEntities':_0xe62209['size']}),await _0x3b5645(_0xf052f9,_0x5684ac,_0x24388e,_0xe62209,_0x19e865,_0x428ef0,_0x3d0127,_0x3f16cc);}async function _0x12bd6d(_0x1a6b8d,_0x435d36,_0x278d77,_0x553ad3){const _0xe8a820=_0x2aff22,_0x2110b3=await _0x553ad3[_0xe8a820(0xa4c)](_0x1a6b8d,{'ner':_0x435d36[_0xe8a820(0x9f2)]['ner'],'noun':_0x435d36['attributes']['noun'],'propn':_0x435d36['attributes'][_0xe8a820(0x4ab)],'verb':_0x435d36[_0xe8a820(0x9f2)][_0xe8a820(0x579)]});for(const _0x2553f5 of _0x2110b3)_0x278d77[_0xe8a820(0x62d)](_0x2553f5);}async function _0x1e453e(_0xa36df,_0x255e3f,_0x979a64,_0x313ff2,_0x1fc0b5,_0x1eee1f,_0x374ce7,_0x3a4b0c){const _0x242c06=_0x2aff22,_0x1aaf56=Date[_0x242c06(0x75c)]();if(_0x1eee1f[_0x242c06(0x7a0)]||(_0x1eee1f['accumulated']={}),_0x313ff2 instanceof Array?(_0x1eee1f[_0x242c06(0x7a0)][_0x242c06(0x4d1)]||(_0x1eee1f[_0x242c06(0x7a0)][_0x242c06(0x4d1)]=[]),_0x1eee1f[_0x242c06(0x7a0)]['results'][_0x242c06(0x639)](..._0x313ff2)):_0x313ff2 instanceof Set?_0x1eee1f['accumulated'][_0x242c06(0x5e3)]=_0x313ff2:_0x1eee1f[_0x242c06(0x7a0)][_0x242c06(0x54f)]=_0x313ff2,_0x1eee1f['timesCalled']=_0x1eee1f[_0x242c06(0x6e9)]?_0x1eee1f[_0x242c06(0x6e9)]+0x1:0x1,_0x336c7d(_0x1eee1f,_0x374ce7['retrieveBlocks'])>_0x1eee1f['timesCalled'])return;if(!_0x1eee1f['accumulated']['prompt']&&!_0x1eee1f['accumulated']['results']||!_0x1eee1f[_0x242c06(0x7a0)][_0x242c06(0x5e3)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x363c4d=_0x3a4b0c[_0x242c06(0x1db)][_0x242c06(0x348)](_0x1eee1f['id'])[_0x242c06(0x646)](Array['from'](_0x1eee1f['accumulated'][_0x242c06(0x5e3)]),_0x1eee1f[_0x242c06(0x9f2)][_0x242c06(0x9e3)],_0x1eee1f[_0x242c06(0x9f2)][_0x242c06(0x82e)]);let _0x13ad3b=[];for(const _0x43ec9c in _0x363c4d){const _0x36a863=_0x363c4d[_0x43ec9c];for(const _0x33d06d of _0x36a863){let _0x5a2a9c=0x0;if(_0x1eee1f[_0x242c06(0x7a0)][_0x242c06(0x54f)]&&(_0x5a2a9c=await _0x3a4b0c['nlpLibraryConnector'][_0x242c06(0x3ba)](_0x1eee1f[_0x242c06(0x7a0)][_0x242c06(0x54f)],_0x33d06d)),_0x1eee1f['accumulated'][_0x242c06(0x4d1)]){for(const _0x4422cc of _0x1eee1f['accumulated'][_0x242c06(0x4d1)])_0x5a2a9c=Math['max'](_0x5a2a9c,await _0x3a4b0c[_0x242c06(0x3fc)][_0x242c06(0x3ba)](_0x4422cc[_0x242c06(0xb25)],_0x33d06d));}_0x5a2a9c<_0x1eee1f[_0x242c06(0x9f2)][_0x242c06(0x6f5)]||_0x13ad3b[_0x242c06(0x639)]({'content':_0x33d06d,'relevance':_0x5a2a9c,'pathName':_0x43ec9c});}}_0x13ad3b=_0x13ad3b[_0x242c06(0x246)]((_0x23eb99,_0x2015e8)=>_0x2015e8['relevance']-_0x23eb99[_0x242c06(0x68f)])[_0x242c06(0xac1)](0x0,_0x1eee1f['attributes'][_0x242c06(0x55d)]),await _0x2a3821[_0x242c06(0x9f3)]({'jobType':_0x42d38a[_0x242c06(0x56d)],'type':_0x25e933[_0x242c06(0x237)],'jobId':_0x255e3f,'threadId':_0x979a64,'blockId':_0x1eee1f['id'],'traceLevel':_0x192bcf['Debug'],'timestamp':Date[_0x242c06(0x75c)](),'startTime':_0x1aaf56,'status':_0x242c06(0x6ce),'content':_0x313ff2,'topResults':_0x13ad3b,'numResults':_0x13ad3b['length']}),await _0x3b5645(_0xa36df,_0x255e3f,_0x979a64,_0x13ad3b,_0x1fc0b5,_0x1eee1f,_0x374ce7,_0x3a4b0c);}async function _0x38ee42(_0x5cba8e,_0x18c5bd,_0x392aa2,_0x5d3e9b,_0x1acabf,_0x49d850,_0x3cd9cf,_0x650d12){const _0x58af49=_0x2aff22,_0x758cb1=_0x650d12[_0x58af49(0x9df)][_0x58af49(0x43b)](_0x747611=>_0x747611['id']===_0x49d850['id']);if(!_0x758cb1)throw new Error(_0x58af49(0x3f3));let _0x37d6cb='';switch(_0x37d6cb=_0x5d3e9b instanceof Array?_0x5d3e9b[_0x58af49(0x8df)](_0x2e196f=>_0x2e196f[_0x58af49(0xb25)])[_0x58af49(0x30c)](',\x20'):_0x5d3e9b,_0x758cb1[_0x58af49(0x9bd)]){case _0x182c91[_0x58af49(0x4f8)][_0x58af49(0x5aa)]:await async function(_0x2927e0,_0x175ca8,_0x5ec179,_0xd8a032,_0x2b44d4,_0x12fbeb,_0x2e8b55,_0x4c879f,_0x1952dc){const _0x22d1cd=_0x58af49,_0x3e7e09=Date['now'](),_0x59dab8=await fetch(_0x4d302b[_0x22d1cd(0xaee)]+'/chat/completions',{'method':_0x22d1cd(0x804),'headers':{'Content-Type':'application/json','x-vendor-id':_0x2927e0},'body':JSON[_0x22d1cd(0x438)]({'messages':[{'role':'user','content':_0xd8a032}],'model':_0x12fbeb['id']})}),_0x43aa75=(await _0x59dab8['json']())[_0x22d1cd(0x229)][0x0][_0x22d1cd(0x83d)][_0x22d1cd(0xb25)];await _0x2a3821[_0x22d1cd(0x9f3)]({'jobType':_0x42d38a[_0x22d1cd(0x56d)],'type':_0x25e933[_0x22d1cd(0x8dc)],'jobId':_0x175ca8,'threadId':_0x5ec179,'blockId':_0x2e8b55['id'],'traceLevel':_0x192bcf['Debug'],'startTime':_0x3e7e09,'timestamp':Date[_0x22d1cd(0x75c)](),'status':_0x22d1cd(0x6ce),'modelName':_0x12fbeb['id'],'content':_0xd8a032,'newPrompt':_0x43aa75,'inputType':_0x12fbeb[_0x22d1cd(0x431)],'outputType':_0x12fbeb['outputType']}),await _0x3b5645(_0x2927e0,_0x175ca8,_0x5ec179,_0x43aa75,_0x2b44d4,_0x2e8b55,_0x4c879f,_0x1952dc);}(_0x5cba8e,_0x18c5bd,_0x392aa2,_0x37d6cb,_0x1acabf,_0x758cb1,_0x49d850,_0x3cd9cf,_0x650d12);break;case _0x182c91[_0x58af49(0x4f8)]['Vector']:await async function(_0x23058c,_0x4fb7f2,_0x4a3208,_0x3db28d,_0x4c2259,_0x54a7b4,_0x4868ca,_0x267f21,_0x32d55f){const _0x4a8a74=_0x58af49,_0x357d55=Date[_0x4a8a74(0x75c)](),_0x524db3=await fetch(_0x4d302b[_0x4a8a74(0xaee)]+_0x4a8a74(0x924),{'method':_0x4a8a74(0x804),'headers':{'Content-Type':'application/json','x-vendor-id':_0x23058c},'body':JSON['stringify']({'input':_0x3db28d,'model':_0x54a7b4['id']})}),_0x53550d=(await _0x524db3[_0x4a8a74(0xb7c)]())[_0x4a8a74(0x8e6)][0x0][_0x4a8a74(0xbf5)];await _0x2a3821[_0x4a8a74(0x9f3)]({'jobType':_0x42d38a[_0x4a8a74(0x56d)],'type':_0x25e933[_0x4a8a74(0x5cb)],'jobId':_0x4fb7f2,'threadId':_0x4a3208,'blockId':_0x4868ca['id'],'traceLevel':_0x192bcf['Debug'],'startTime':_0x357d55,'timestamp':Date['now'](),'status':_0x4a8a74(0x6ce),'modelName':_0x54a7b4['id'],'content':_0x3db28d,'totalVectors':_0x53550d[_0x4a8a74(0x482)]}),await _0x3b5645(_0x23058c,_0x4fb7f2,_0x4a3208,_0x53550d,_0x4c2259,_0x4868ca,_0x267f21,_0x32d55f);}(_0x5cba8e,_0x18c5bd,_0x392aa2,_0x37d6cb,_0x1acabf,_0x758cb1,_0x49d850,_0x3cd9cf,_0x650d12);}}async function _0x57c5dd(_0x1142a4,_0x1d8833,_0x14e188,_0x3f2314,_0x3194b3,_0xd6862d,_0x3ab7cf,_0x1e885a){const _0x41ea24=_0x2aff22,_0x542515=Date[_0x41ea24(0x75c)]();if(_0xd6862d[_0x41ea24(0x7a0)]||(_0xd6862d[_0x41ea24(0x7a0)]={}),_0x3f2314 instanceof Array?(_0xd6862d[_0x41ea24(0x7a0)][_0x41ea24(0x4d1)]||(_0xd6862d['accumulated']['results']=[]),_0xd6862d[_0x41ea24(0x7a0)]['results'][_0x41ea24(0x639)](..._0x3f2314)):_0xd6862d[_0x41ea24(0x7a0)][_0x41ea24(0x54f)]=_0x3f2314,_0xd6862d[_0x41ea24(0x6e9)]=_0xd6862d[_0x41ea24(0x6e9)]?_0xd6862d['timesCalled']+0x1:0x1,_0x336c7d(_0xd6862d,_0x3ab7cf[_0x41ea24(0x545)])>_0xd6862d['timesCalled'])return;if(!_0xd6862d[_0x41ea24(0x7a0)]['prompt']||!_0xd6862d[_0x41ea24(0x7a0)][_0x41ea24(0x4d1)])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x1a4ded of _0xd6862d[_0x41ea24(0x7a0)]['results'])_0x1a4ded[_0x41ea24(0x68f)]=await _0x1e885a['nlpLibraryConnector'][_0x41ea24(0x3ba)](_0xd6862d[_0x41ea24(0x7a0)][_0x41ea24(0x54f)],_0x1a4ded[_0x41ea24(0xb25)]);const _0x1d9d7b=_0xd6862d[_0x41ea24(0x7a0)][_0x41ea24(0x4d1)][_0x41ea24(0xae8)](_0x195b40=>_0x195b40[_0x41ea24(0x68f)]>_0xd6862d[_0x41ea24(0x9f2)]['minRelevance'])[_0x41ea24(0x246)]((_0x32de65,_0x10f890)=>_0x10f890['relevance']-_0x32de65[_0x41ea24(0x68f)])['slice'](0x0,_0xd6862d['attributes']['topK']);await _0x2a3821[_0x41ea24(0x9f3)]({'jobType':_0x42d38a['Retrieve'],'type':_0x25e933[_0x41ea24(0x89f)],'jobId':_0x1d8833,'threadId':_0x14e188,'blockId':_0xd6862d['id'],'traceLevel':_0x192bcf[_0x41ea24(0x387)],'startTime':_0x542515,'timestamp':Date[_0x41ea24(0x75c)](),'status':_0x41ea24(0x6ce),'inputResults':_0xd6862d[_0x41ea24(0x7a0)][_0x41ea24(0x4d1)],'rerankedResults':_0x1d9d7b}),await _0x3b5645(_0x1142a4,_0x1d8833,_0x14e188,_0x1d9d7b,_0x3194b3,_0xd6862d,_0x3ab7cf,_0x1e885a);}async function _0x1cac84(_0x4c6f12,_0x3d0608,_0x3291c4,_0x47b79f,_0x57eb46,_0x160a5f,_0x50e982,_0x53dab8){const _0x33521a=_0x2aff22,_0x38dfc6=Date[_0x33521a(0x75c)]();if(_0x160a5f[_0x33521a(0x7a0)]||(_0x160a5f['accumulated']={}),_0x47b79f instanceof Array?_0x160a5f['accumulated'][_0x33521a(0xb7e)]=_0x47b79f:_0x160a5f[_0x33521a(0x7a0)][_0x33521a(0xb25)]=_0x47b79f,_0x160a5f[_0x33521a(0x6e9)]=_0x160a5f[_0x33521a(0x6e9)]?_0x160a5f['timesCalled']+0x1:0x1,!(_0x336c7d(_0x160a5f,_0x50e982[_0x33521a(0x545)])>_0x160a5f[_0x33521a(0x6e9)])){if(_0x33521a(0x69f)===_0x160a5f['id']){if(!_0x160a5f['accumulated'][_0x33521a(0xb7e)])throw new Error(_0x33521a(0x8c6));if(!_0x53dab8['ragConnector'])throw new Error(_0x33521a(0x9f7));const _0x43090c=_0x561564(_0x4c6f12,_0x50e982);let _0x3fa956=await _0x53dab8[_0x33521a(0x8f1)]?.[_0x33521a(0x7ab)](_0x43090c,_0x50e982['id'],_0x160a5f[_0x33521a(0x7a0)]['vector'],_0x160a5f[_0x33521a(0x9f2)][_0x33521a(0x55d)]);_0x3fa956=_0x3fa956[_0x33521a(0xae8)](_0x49c48a=>_0x49c48a[_0x33521a(0x68f)]>_0x160a5f[_0x33521a(0x9f2)][_0x33521a(0x6f5)])||[];const _0xa7f902=[];for(const _0x18744e of _0x3fa956){if(!_0x53dab8[_0x33521a(0x5b9)])throw new Error(_0x33521a(0x991));if(void 0x0===_0x18744e['start']||void 0x0===_0x18744e[_0x33521a(0x482)])throw new Error(_0x33521a(0x555));const _0x235192=await _0x53dab8[_0x33521a(0x5b9)][_0x33521a(0x9de)](_0x18744e['pathName']);let _0x5e84e8='';if(_0x235192['type']['startsWith'](_0x33521a(0x9c5))||_0x551108(_0x235192[_0x33521a(0x3b3)],_0x1a8211))_0x5e84e8=await _0x235192['text']();else{if(!_0x53dab8[_0x33521a(0x372)][_0x33521a(0xb20)](_0x235192))throw new Error(_0x33521a(0xad5)+_0x235192[_0x33521a(0x751)]+'\x20-\x20'+_0x235192['name']);_0x5e84e8=await _0x53dab8[_0x33521a(0x372)][_0x33521a(0x255)](_0x235192);}_0xa7f902['push']({'pathName':_0x18744e['pathName'],'content':_0x5e84e8[_0x33521a(0x56f)](_0x18744e[_0x33521a(0xb5a)],_0x18744e[_0x33521a(0xb5a)]+_0x18744e[_0x33521a(0x482)]),'relevance':_0x18744e[_0x33521a(0x68f)]});}await _0x3b5645(_0x4c6f12,_0x3d0608,_0x3291c4,_0xa7f902,_0x57eb46,_0x160a5f,_0x50e982,_0x53dab8);}else{if(!_0x160a5f[_0x33521a(0x7a0)][_0x33521a(0xb7e)]||!_0x160a5f[_0x33521a(0x7a0)][_0x33521a(0xb25)])throw new Error(_0x33521a(0x8c6));const _0x4734c9=await _0x53dab8[_0x33521a(0x3fc)][_0x33521a(0xa4c)](_0x160a5f[_0x33521a(0x7a0)][_0x33521a(0xb25)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x516b2b=_0x53dab8[_0x33521a(0x1db)]['getVectorDatabase'](_0x160a5f['id'])['search'](_0x4734c9,_0x160a5f[_0x33521a(0x7a0)][_0x33521a(0xb7e)],_0x160a5f[_0x33521a(0x9f2)][_0x33521a(0x55d)],_0x160a5f[_0x33521a(0x9f2)]['minRelevance'],_0x160a5f[_0x33521a(0x9f2)]['contentSize']);await _0x2a3821[_0x33521a(0x9f3)]({'jobType':_0x42d38a[_0x33521a(0x56d)],'type':_0x25e933[_0x33521a(0x32f)],'jobId':_0x3d0608,'threadId':_0x3291c4,'blockId':_0x160a5f['id'],'traceLevel':_0x192bcf[_0x33521a(0x387)],'startTime':_0x38dfc6,'timestamp':Date[_0x33521a(0x75c)](),'status':_0x33521a(0x6ce),'topResults':_0x516b2b,'numResults':_0x516b2b[_0x33521a(0x482)]}),await _0x3b5645(_0x4c6f12,_0x3d0608,_0x3291c4,_0x516b2b,_0x57eb46,_0x160a5f,_0x50e982,_0x53dab8);}}}async function _0x3b5645(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x591dd6,_0x1bd122,_0x31158a){const _0x289ecf=_0x2aff22;for(const _0x12721f of _0x591dd6[_0x289ecf(0x2d4)]||[]){const _0x20facf=_0x1bd122[_0x289ecf(0x545)]['find'](_0x3e28bb=>_0x3e28bb['uid']===_0x12721f[_0x289ecf(0x6c2)]);if(_0x20facf)switch(_0x20facf[_0x289ecf(0x751)]){case _0xc60fdf[_0x289ecf(0xa88)]:_0x12721f['type']===_0x16738a[_0x289ecf(0x45a)]&&_0x3d7cd5 instanceof Array&&_0x47d27f[_0x289ecf(0xb32)]['push'](..._0x3d7cd5);break;case _0xc60fdf[_0x289ecf(0x68b)]:if(_0x12721f['type']===_0x16738a[_0x289ecf(0x5aa)]&&'string'==typeof _0x3d7cd5){if(!_0x1bd122[_0x289ecf(0x4ac)])throw new Error(_0x289ecf(0x621));const _0x508848={'type':_0xc60fdf[_0x289ecf(0x37d)],'id':_0x1bd122[_0x289ecf(0x4ac)],'uid':(0x0,_0x360e63['v4'])(),'links':_0x20facf[_0x289ecf(0x2d4)]};await _0x38ee42(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x508848,_0x1bd122,_0x31158a);}break;case _0xc60fdf[_0x289ecf(0x26d)]:_0x12721f[_0x289ecf(0x751)]===_0x16738a['Text']&&_0x289ecf(0xb85)==typeof _0x3d7cd5&&await _0x4dc7fe(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a),_0x12721f['type']===_0x16738a['Search']&&_0x3d7cd5 instanceof Array&&await _0x4dc7fe(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a);break;case _0xc60fdf[_0x289ecf(0xb7f)]:_0x12721f[_0x289ecf(0x751)]===_0x16738a[_0x289ecf(0x5aa)]&&'string'==typeof _0x3d7cd5&&await _0x1e453e(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a),_0x12721f['type']===_0x16738a[_0x289ecf(0x45a)]&&_0x3d7cd5 instanceof Array&&await _0x1e453e(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a),_0x12721f[_0x289ecf(0x751)]===_0x16738a['Entity']&&_0x3d7cd5 instanceof Set&&await _0x1e453e(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a);break;case _0xc60fdf['Model']:_0x12721f[_0x289ecf(0x751)]===_0x16738a[_0x289ecf(0x5aa)]&&_0x289ecf(0xb85)==typeof _0x3d7cd5&&await _0x38ee42(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a),_0x12721f[_0x289ecf(0x751)]===_0x16738a[_0x289ecf(0x45a)]&&_0x3d7cd5 instanceof Array&&await _0x38ee42(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a);break;case _0xc60fdf[_0x289ecf(0x89f)]:_0x12721f[_0x289ecf(0x751)]===_0x16738a[_0x289ecf(0x5aa)]&&_0x289ecf(0xb85)==typeof _0x3d7cd5&&await _0x57c5dd(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a),_0x12721f['type']===_0x16738a['Search']&&_0x3d7cd5 instanceof Array&&await _0x57c5dd(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a);break;case _0xc60fdf['VectorDatabase']:_0x12721f[_0x289ecf(0x751)]===_0x16738a[_0x289ecf(0x5aa)]&&_0x289ecf(0xb85)==typeof _0x3d7cd5&&await _0x1cac84(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a),_0x12721f['type']===_0x16738a['Vector']&&_0x3d7cd5 instanceof Array&&await _0x1cac84(_0x28072e,_0x287ee6,_0x59726d,_0x3d7cd5,_0x47d27f,_0x20facf,_0x1bd122,_0x31158a);}}}function _0x336c7d(_0x6113c7,_0x1c05a6){const _0xa5c108=_0x2aff22;return _0x1c05a6[_0xa5c108(0xae8)](_0x4c81c7=>_0x4c81c7[_0xa5c108(0x2d4)]?.['some'](_0x2e5402=>_0x2e5402[_0xa5c108(0x6c2)]===_0x6113c7[_0xa5c108(0x6c2)]))[_0xa5c108(0x482)];}async function _0xdc75ab(_0x43bdbc,_0x8d6f97,_0x296278,_0x333676,_0x52c40f,_0x30f091,_0x2501b2){const _0x2c8004=_0x2aff22,_0x1c3b41={'type':_0x2c8004(0x54f),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0xaf170e;await _0x3b5645(_0x43bdbc,_0x8d6f97,_0x296278,_0x333676,_0x1c3b41,_0x52c40f,structuredClone(_0x30f091),_0x2501b2),_0x1c3b41['context'][_0x2c8004(0x317)]((_0x556bd7,_0xec374)=>_0x556bd7+_0xec374['content']['length'],0x0)>_0x16ceee&&(_0xaf170e=Math[_0x2c8004(0x39d)](_0x16ceee/_0x1c3b41[_0x2c8004(0xb32)]['length'])),_0x1c3b41[_0x2c8004(0x334)]=_0x2c8004(0x32b)+_0x1c3b41[_0x2c8004(0xb32)][_0x2c8004(0x8df)](_0x55b2ef=>_0x2c8004(0x737)+_0x55b2ef['pathName']+':\x20'+_0x55b2ef['content'][_0x2c8004(0x56f)](0x0,_0xaf170e))[_0x2c8004(0x30c)]('\x0a');}catch(_0x3b3365){console['error'](_0x2c8004(0x813),_0x3b3365);}return _0x1c3b41;}class _0x3a2461 extends _0x4da75d{[_0x2aff22(0x1db)];[_0x2aff22(0x5e5)];['speechAIWorkerConnectors'];['objectStoreConnector'];[_0x2aff22(0x372)];[_0x2aff22(0x40e)];[_0x2aff22(0x3fc)];['searchConnector'];[_0x2aff22(0x1e5)];['queryFileConnector'];[_0x2aff22(0x35f)];[_0x2aff22(0xb03)];[_0x2aff22(0x841)]=new Map();['models']=_0x253243;['debounceStats'];[_0x2aff22(0x470)]=0x0;['tokens']=0x0;[_0x2aff22(0x498)]=!0x1;constructor(_0x5e040d,_0x588d37,_0x5e65fe,_0x2259a4,_0x587025,_0x121562,_0x3fb420,_0x467dd4,_0x16fdf4,_0x100b85,_0x31b720,_0x5e1cb5,_0x3e3f98,_0x4d7cef,_0x1ab4c8){const _0x2137d0=_0x2aff22;super(_0x5e040d,_0x588d37,_0x5e65fe),this[_0x2137d0(0x1db)]=_0x2259a4,this[_0x2137d0(0x5e5)]=_0x587025,this['speechAIWorkerConnectors']=_0x121562,this[_0x2137d0(0x5b9)]=_0x3fb420,this[_0x2137d0(0x372)]=_0x467dd4,this['fileConnector']=_0x16fdf4,this['nlpLibraryConnector']=_0x100b85,this['searchConnector']=_0x31b720,this[_0x2137d0(0x1e5)]=_0x5e1cb5,this[_0x2137d0(0x3df)]=_0x3e3f98,this[_0x2137d0(0x35f)]=_0x4d7cef,this['openAIKey']=_0x1ab4c8;}async[_0x2aff22(0xb97)](){const _0x4b8da9=_0x2aff22;for(const _0x3b0c55 of this[_0x4b8da9(0x5e5)])await _0x3b0c55['close']();this[_0x4b8da9(0x841)][_0x4b8da9(0x663)](_0x14158f=>_0x14158f[_0x4b8da9(0x815)](this[_0x4b8da9(0x4ea)])),this[_0x4b8da9(0x28b)]&&(clearTimeout(this[_0x4b8da9(0x28b)]),delete this[_0x4b8da9(0x28b)]),super[_0x4b8da9(0xb97)]();}async['open'](_0x404bc4=!0x1){const _0x54ff92=_0x2aff22;if(this['isOpened'])super[_0x54ff92(0x3f1)]();else{_0x11d8aa['forceLog']('GenerativeAIWorker:\x20Opening',this[_0x54ff92(0x4ea)]);try{for(const _0x30af71 of this['generativeAIWorkerConnectors'])await _0x30af71[_0x54ff92(0xab3)](this[_0x54ff92(0x4ea)],this[_0x54ff92(0x9df)]);}catch(_0x2fb365){return this[_0x54ff92(0x3f1)](_0x404bc4);}this[_0x54ff92(0x498)]=!0x0,this[_0x54ff92(0x6c9)](),super[_0x54ff92(0x3f1)](),_0x11d8aa[_0x54ff92(0x27e)](_0x54ff92(0x3d2),this[_0x54ff92(0x4ea)]);}}[_0x2aff22(0x8a2)](){const _0x53848d=_0x2aff22;this[_0x53848d(0x470)]=0x0,this[_0x53848d(0x479)]=0x0,this[_0x53848d(0x6c9)](),super[_0x53848d(0x8a2)]();}['getBid'](){const _0xa5dbfb=_0x2aff22;return this[_0xa5dbfb(0x6c9)](),this[_0xa5dbfb(0xba7)]();}['compileStats'](_0x4e594b,_0x5de902,_0x3068d6){const _0x12b821=_0x2aff22,{outputTokens:_0x5a5c3e=0x0,output:_0x13ef7b=''}=_0x4e594b,_0x48cc16=_0x5a5c3e/((_0x3068d6-_0x5de902)/0x3e8);this[_0x12b821(0x470)]+=0x1,this[_0x12b821(0x479)]+=_0x5a5c3e,this['logServiceEvent'](_0x48cc16,_0x5a5c3e),this[_0x12b821(0x6c9)]();}[_0x2aff22(0x516)](_0x58ed19,_0x40f1fd){const _0x32bd64=_0x2aff22;return _0x58ed19[_0x32bd64(0x334)]=_0x58ed19[_0x32bd64(0x334)]??'',{'type':_0x32bd64(0x54f),'output':_0x32bd64(0xb85)==typeof _0x58ed19[_0x32bd64(0x334)]&&'string'==typeof _0x40f1fd[_0x32bd64(0x334)]?_0x58ed19['output']+_0x40f1fd['output']:_0x40f1fd[_0x32bd64(0x334)],'outputTokens':_0x40f1fd[_0x32bd64(0x94a)]??_0x58ed19[_0x32bd64(0x94a)],'inputTokens':_0x40f1fd['inputTokens']??_0x58ed19[_0x32bd64(0x8b2)]};}async[_0x2aff22(0x5db)](_0x57f139,_0x4636e2){const _0x55c25f=_0x2aff22;if(_0x55c25f(0x54f)===_0x4636e2[_0x55c25f(0x751)]){const _0x4f4521=await _0x51b0dd[_0x55c25f(0xbd8)](_0x4636e2[_0x55c25f(0x97c)],_0x4636e2['workflowId']),_0x16fbb=_0x4f4521[_0x55c25f(0xb60)][_0x55c25f(0x43b)](_0x2ac456=>_0x2ac456[_0x55c25f(0x751)]===_0x187b0c['Prompt']||_0x2ac456[_0x55c25f(0x751)]===_0x187b0c[_0x55c25f(0x69e)]);return await _0x16f56b(_0x4636e2[_0x55c25f(0xb2d)]??_0x57f139,_0x4636e2,_0x16fbb,_0x4f4521[_0x55c25f(0xb60)],{'documentParserConnector':this[_0x55c25f(0x372)],'fileConnector':this[_0x55c25f(0x40e)],'nlpLibraryConnector':this[_0x55c25f(0x3fc)],'generativeAIWorkerConnectors':this[_0x55c25f(0x5e5)],'models':Array[_0x55c25f(0x306)](this['models']['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x55c25f(0xb06)],'aiSearchConnector':this[_0x55c25f(0x1e5)],'queryFileConnector':this[_0x55c25f(0x3df)]});}if(_0x55c25f(0xa79)===_0x4636e2[_0x55c25f(0x751)])return await _0xcff6fc(_0x4636e2,{'documentParserConnector':this[_0x55c25f(0x372)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x55c25f(0x3fc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0x55c25f(0x9df)]['values']()),'contentMediator':this[_0x55c25f(0x1db)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x55c25f(0x1e5)],'queryFileConnector':this[_0x55c25f(0x3df)]});if('inference'===_0x4636e2[_0x55c25f(0x751)])return await _0x4e1ed5(_0x4636e2[_0x55c25f(0xb2d)]??_0x57f139,_0x4636e2,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x55c25f(0x40e)],'nlpLibraryConnector':this[_0x55c25f(0x3fc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x55c25f(0x306)](this[_0x55c25f(0x9df)][_0x55c25f(0xa12)]()),'contentMediator':this[_0x55c25f(0x1db)],'searchConnector':this[_0x55c25f(0xb06)],'aiSearchConnector':this[_0x55c25f(0x1e5)],'queryFileConnector':this['queryFileConnector']});if(_0x55c25f(0x907)===_0x4636e2['type'])return await _0x2a3821[_0x55c25f(0x9f3)]({'jobType':_0x42d38a[_0x55c25f(0x285)],'type':_0x2d8cc1['PromptRating'],'jobId':_0x4636e2[_0x55c25f(0xb2d)],'threadId':_0x4636e2[_0x55c25f(0x7d7)],'traceLevel':_0x192bcf[_0x55c25f(0x6fa)],'startTime':Date[_0x55c25f(0x75c)](),'timestamp':Date[_0x55c25f(0x75c)](),'status':_0x55c25f(0x6ce),'rating':_0x4636e2[_0x55c25f(0x1c4)],'feedback':_0x4636e2['feedback']}),{'type':'rate','status':_0x182c91['GenerativeAIRatingStatus'][_0x55c25f(0x626)]};if(_0x55c25f(0x8e0)===_0x4636e2[_0x55c25f(0x751)])return await _0x463a93(_0x4636e2,{'documentParserConnector':this[_0x55c25f(0x372)],'fileConnector':this[_0x55c25f(0x40e)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x55c25f(0x5e5)],'models':Array[_0x55c25f(0x306)](this['models'][_0x55c25f(0xa12)]()),'contentMediator':this[_0x55c25f(0x1db)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x55c25f(0x1e5)],'queryFileConnector':this['queryFileConnector']});if(_0x55c25f(0x868)===_0x4636e2['type']){const _0x3d86a9=_0x253243[_0x55c25f(0x9de)](_0x4636e2[_0x55c25f(0x6f2)]);if(!_0x3d86a9)throw new Error(_0x55c25f(0x35c));const _0x443a0b=this[_0x55c25f(0x9ac)]['find'](_0x57d6ae=>_0x57d6ae[_0x55c25f(0x8ba)]()===_0x3d86a9[_0x55c25f(0xabc)]);if(!_0x443a0b)throw new Error(_0x55c25f(0x26c));return{'type':_0x55c25f(0x868),'audio':await _0x443a0b[_0x55c25f(0xae1)](_0x4636e2['model'],_0x4636e2[_0x55c25f(0x9a0)],_0x4636e2['voice'],_0x4636e2[_0x55c25f(0xa73)])};}if('realtime-session-create'===_0x4636e2[_0x55c25f(0x751)]){const _0x211c46=await _0x51b0dd[_0x55c25f(0xbd8)](_0x4636e2['vendorId'],_0x4636e2[_0x55c25f(0x7bc)]),_0x253389=_0x211c46[_0x55c25f(0xb60)][_0x55c25f(0x43b)](_0x286d79=>_0x286d79[_0x55c25f(0x751)]===_0x187b0c[_0x55c25f(0x69e)]),_0x17fa99=_0x253389[_0x55c25f(0x2d4)]?.[_0x55c25f(0x43b)](_0x3fdb48=>_0x3fdb48[_0x55c25f(0x751)]===_0x16738a[_0x55c25f(0x312)]),_0x21fce7=_0x211c46['blocks'][_0x55c25f(0x43b)](_0x513231=>_0x513231[_0x55c25f(0x751)]===_0x187b0c[_0x55c25f(0x2e3)]&&_0x513231[_0x55c25f(0x6c2)]===_0x17fa99[_0x55c25f(0x6c2)]),_0x2c2b7b=_0x253243[_0x55c25f(0x9de)](_0x21fce7[_0x55c25f(0x4ac)]),_0xede343=_0x211c46['blocks'][_0x55c25f(0xae8)](_0x1ccd66=>_0x1ccd66[_0x55c25f(0x2d4)]?.[_0x55c25f(0x4f7)](_0x21882d=>_0x21882d[_0x55c25f(0x751)]===_0x16738a[_0x55c25f(0xb11)]&&_0x21882d[_0x55c25f(0x6c2)]===_0x21fce7['uid']))['flatMap'](_0x2da0fe=>_0x2948b9(_0x2da0fe,_0x211c46[_0x55c25f(0xb60)])),_0x26e242=_0x211c46[_0x55c25f(0xb60)]['find'](_0x5cb891=>_0x5cb891['type']===_0x187b0c['OutputStream']),_0xeec2f2=_0x211c46['blocks'][_0x55c25f(0x43b)](_0x2ebd53=>_0x2ebd53['type']===_0x187b0c[_0x55c25f(0x2e3)]&&_0x2ebd53['links']?.[_0x55c25f(0x4f7)](_0x5b0c77=>_0x5b0c77[_0x55c25f(0x751)]===_0x16738a[_0x55c25f(0x312)]&&_0x5b0c77[_0x55c25f(0x6c2)]===_0x26e242[_0x55c25f(0x6c2)])),_0x31a529=_0x211c46[_0x55c25f(0xb60)][_0x55c25f(0x43b)](_0x18c5af=>_0x18c5af[_0x55c25f(0x751)]===_0x187b0c[_0x55c25f(0x2e3)]&&_0x18c5af['uid']===_0xeec2f2[_0x55c25f(0x6c2)]),_0x4a0bc5=_0x253243['get'](_0x31a529[_0x55c25f(0x4ac)]);return{'type':_0x55c25f(0x3f5),'apiKey':this['openAIKey'],'sessionType':_0x2c2b7b['taskType']===_0x182c91[_0x55c25f(0x78f)][_0x55c25f(0x2d1)]?'speech-to-speech':_0x55c25f(0x1b6),'firstAgent':{'modelId':_0x21fce7['modelId'],'taskType':_0x2c2b7b['taskType'],'instructions':_0x21fce7[_0x55c25f(0xa73)],'temperature':_0x21fce7[_0x55c25f(0x83a)],'maxTokens':_0x21fce7[_0x55c25f(0xa3e)],'initialPrompt':_0x211c46[_0x55c25f(0xa53)],'tools':_0xede343['map'](_0x345c90=>({..._0x345c90,'name':this[_0x55c25f(0x45d)](_0x345c90),'description':this['getToolDescription'](_0x345c90),'parameters':this[_0x55c25f(0x5fe)](_0x345c90)}))},'lastAgent':{'modelId':_0x31a529['modelId'],'taskType':_0x4a0bc5[_0x55c25f(0xbc9)],'instructions':_0x31a529[_0x55c25f(0xa73)],'initialPrompt':_0x211c46['initialPrompt']}};}if(_0x55c25f(0x9aa)===_0x4636e2[_0x55c25f(0x751)]){const {vendorId:_0x55379a,collectionId:_0x2be377,fileId:_0x4d0bf9}=_0x4636e2,_0x1ad9c0=await _0x51b0dd[_0x55c25f(0x1f6)](_0x55379a,_0x2be377),_0x8a23c9=this[_0x55c25f(0x35f)]?.[_0x55c25f(0x9de)](_0x1ad9c0[_0x55c25f(0x222)]);if(!_0x8a23c9)throw new Error(_0x55c25f(0x992));const _0x1c4ff9=_0x561564(_0x55379a,_0x1ad9c0);if(_0x1ad9c0['storageType']===_0x182c91[_0x55c25f(0x487)][_0x55c25f(0x53f)])try{await _0x8a23c9[_0x55c25f(0x82a)](_0x1c4ff9,_0x2be377,'/'+_0x55379a+'/'+_0x2be377+'/'+_0x4d0bf9),await this[_0x55c25f(0x5b9)]['deleteObject']('/'+_0x55379a+'/'+_0x2be377+'/'+_0x4d0bf9);}catch(_0x11ec1d){_0x11d8aa[_0x55c25f(0x730)](_0x55c25f(0x5a3),_0x11ec1d);}else try{await _0x8a23c9[_0x55c25f(0x82a)](_0x1c4ff9,_0x2be377,_0x4d0bf9);}catch(_0x27c922){_0x11d8aa['error'](_0x55c25f(0x5a3),_0x27c922);}return{'type':_0x55c25f(0x9aa)};}if(_0x55c25f(0xb9e)===_0x4636e2['type']){let _0x2c45b9;const _0x17d1cd=this[_0x55c25f(0x841)]['keys']();for(;!_0x2c45b9;){const _0x4943c0=_0x17d1cd[_0x55c25f(0x8e5)]()['value'];if(!_0x4943c0)throw new Error(_0x55c25f(0xbb2));_0x2c45b9=this['dataStores'][_0x55c25f(0x9de)](_0x4943c0);try{const _0x2892a2=await _0x2c45b9[_0x55c25f(0x9de)](_0x4636e2[_0x55c25f(0x72b)]);return{'type':_0x55c25f(0xb9e),'fileName':_0x2892a2['name'],'mimeType':_0x2892a2[_0x55c25f(0x751)],'document':await _0x2892a2[_0x55c25f(0x9a8)]()};}catch(_0x5a34ab){continue;}}throw new Error(_0x55c25f(0xbb2));}if(_0x55c25f(0x413)===_0x4636e2[_0x55c25f(0x751)]){const {vendorId:_0x4ad654,collectionId:_0x527719,fileName:_0x2660ca,content:_0x4946c7}=_0x4636e2,_0x44d0f2=await _0x51b0dd['getDataCollection'](_0x4ad654,_0x527719);if(_0x44d0f2['storageType']!==_0x182c91[_0x55c25f(0x487)][_0x55c25f(0x53f)]){const _0x34e858=this['ragConnectors']?.['get'](_0x44d0f2[_0x55c25f(0x222)]);if(!_0x34e858)throw new Error(_0x55c25f(0x992));const _0x3871da=_0x561564(_0x4ad654,_0x44d0f2);return await _0x34e858[_0x55c25f(0x41f)](_0x3871da,_0x527719,_0x2660ca,_0x4946c7),{'type':'file-ingest'};}const _0x2eca99=_0x44d0f2['ingestBlocks']?.[_0x55c25f(0x43b)](_0x206379=>_0x206379[_0x55c25f(0x751)]===_0xc60fdf[_0x55c25f(0x1ef)]);if(!_0x2eca99)throw new Error(_0x55c25f(0x370));const _0x225615=(0x0,_0x360e63['v4'])();return _0x2a3821['openTrace'](_0x4ad654,_0x225615),await _0x4eb369(_0x4636e2['vendorId'],_0x225615,'/'+_0x4ad654+'/'+_0x527719+'/'+_0x2660ca,_0x4946c7,_0x2eca99,_0x44d0f2,{'objectStoreConnector':this[_0x55c25f(0x5b9)],'ragConnector':this['ragConnectors']?.[_0x55c25f(0x9de)](_0x182c91['GenerativeAIRagType'][_0x55c25f(0x53f)]),'documentParserConnector':this[_0x55c25f(0x372)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x55c25f(0x5e5)],'models':Array[_0x55c25f(0x306)](this[_0x55c25f(0x9df)][_0x55c25f(0xa12)]()),'contentMediator':this[_0x55c25f(0x1db)]}),_0x2a3821[_0x55c25f(0xa9a)](_0x225615),{'type':_0x55c25f(0x413)};}if(_0x55c25f(0x611)===_0x4636e2['type']){const {vendorId:_0x11d35e,collectionId:_0x5cd5fb}=_0x4636e2,_0x8f43e2=await _0x51b0dd['getDataCollection'](_0x11d35e,_0x5cd5fb);if(_0x8f43e2[_0x55c25f(0x222)]!==_0x182c91['GenerativeAIRagType'][_0x55c25f(0x53f)]){const _0x19be07=this[_0x55c25f(0x35f)]?.[_0x55c25f(0x9de)](_0x8f43e2[_0x55c25f(0x222)]);if(!_0x19be07)throw new Error(_0x55c25f(0x992));const _0xb82b12=_0x561564(_0x11d35e,_0x8f43e2);return{'type':'file-list','files':await _0x19be07['listFiles'](_0xb82b12,_0x5cd5fb)};}try{return{'type':_0x55c25f(0x611),'files':(await this[_0x55c25f(0x5b9)][_0x55c25f(0x5c1)]('/'+_0x11d35e+'/'+_0x5cd5fb,!0x1))[_0x55c25f(0x8df)](_0x29cab0=>({'name':_0x29cab0[_0x55c25f(0x3b3)],'id':_0x29cab0[_0x55c25f(0x3b3)],'status':_0x55c25f(0x98c)}))};}catch(_0x55f5f2){return{'type':_0x55c25f(0x611),'files':[]};}}if(_0x55c25f(0x637)===_0x4636e2[_0x55c25f(0x751)]){const {vendorId:_0x1b2f66,collectionId:_0x2f65dc}=_0x4636e2,_0x416edc=await _0x51b0dd['getDataCollection'](_0x1b2f66,_0x2f65dc),_0x54a886=this['ragConnectors']?.[_0x55c25f(0x9de)](_0x416edc[_0x55c25f(0x222)]);if(!_0x54a886)return{'type':'collection-create'};const _0x1b491d=_0x561564(_0x1b2f66,_0x416edc);return await _0x54a886[_0x55c25f(0xaef)](_0x1b491d,_0x2f65dc),{'type':'collection-create'};}if(_0x55c25f(0x286)===_0x4636e2[_0x55c25f(0x751)]){const {vendorId:_0x55bb24,collectionId:_0x4a4907}=_0x4636e2,_0x5739d8=await _0x51b0dd[_0x55c25f(0x1f6)](_0x55bb24,_0x4a4907),_0x3290b9=this[_0x55c25f(0x35f)]?.[_0x55c25f(0x9de)](_0x5739d8[_0x55c25f(0x222)]);if(!_0x3290b9)return{'type':_0x55c25f(0x286)};const _0x3bd215=_0x561564(_0x55bb24,_0x5739d8);let _0x2aa47b=!0x1;if(_0x5739d8[_0x55c25f(0x61a)]===_0x36b253['Dedicated']&&(_0x2aa47b=!0x0),_0x5739d8['hosting']===_0x36b253[_0x55c25f(0xbb5)]){_0x2aa47b=!0x0;const _0x591e19=await _0x51b0dd[_0x55c25f(0x486)](_0x55bb24);for(const _0x1bffc0 of _0x591e19)if(_0x1bffc0[_0x55c25f(0x222)]===_0x5739d8[_0x55c25f(0x222)]&&_0x1bffc0['hosting']===_0x36b253[_0x55c25f(0xbb5)]&&_0x1bffc0['id']!==_0x5739d8['id']){_0x2aa47b=!0x1;break;}}try{await _0x3290b9['deleteCollection'](_0x3bd215,_0x4a4907,_0x2aa47b);}catch(_0x56be86){_0x11d8aa[_0x55c25f(0x730)]('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x56be86);}return{'type':_0x55c25f(0x286)};}if(_0x55c25f(0xbb8)===_0x4636e2[_0x55c25f(0x751)]){const {query:_0xea8d34,vendorId:_0x332271,collectionId:_0x43712b}=_0x4636e2,_0x144d4d=await _0x51b0dd[_0x55c25f(0x1f6)](_0x332271,_0x43712b);if(_0x144d4d[_0x55c25f(0x222)]!==_0x182c91[_0x55c25f(0x487)]['Crewdle']){const _0x3a72a7=this[_0x55c25f(0x35f)]?.['get'](_0x144d4d['storageType']);if(!_0x3a72a7)throw new Error('No\x20RAG\x20connector\x20available');const _0x103af4=_0x561564(_0x332271,_0x144d4d);return{'type':_0x55c25f(0xbb8),'results':await _0x3a72a7[_0x55c25f(0x7ab)](_0x103af4,_0x43712b,_0xea8d34,0x1)};}const _0xee5ee2=_0x144d4d[_0x55c25f(0x545)]?.[_0x55c25f(0x43b)](_0x2c2784=>_0x2c2784[_0x55c25f(0x751)]===_0xc60fdf[_0x55c25f(0x3e8)]);return{'type':_0x55c25f(0xbb8),'results':(await _0xdc75ab(_0x4636e2[_0x55c25f(0x97c)],_0x57f139,'',_0xea8d34,_0xee5ee2,_0x144d4d,{'objectStoreConnector':this[_0x55c25f(0x5b9)],'ragConnector':this[_0x55c25f(0x35f)]?.[_0x55c25f(0x9de)](_0x182c91[_0x55c25f(0x487)][_0x55c25f(0x53f)]),'documentParserConnector':this[_0x55c25f(0x372)],'fileConnector':this[_0x55c25f(0x40e)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x55c25f(0x5e5)],'models':Array[_0x55c25f(0x306)](this[_0x55c25f(0x9df)]['values']()),'contentMediator':this[_0x55c25f(0x1db)],'searchConnector':this[_0x55c25f(0xb06)],'aiSearchConnector':this[_0x55c25f(0x1e5)],'queryFileConnector':this[_0x55c25f(0x3df)]}))[_0x55c25f(0xb32)]??[]};}throw new Error(_0x55c25f(0x294));}async*[_0x2aff22(0x7d9)](_0x29935c,_0x4fbb48){const _0x4021e3=_0x2aff22;if(_0x4021e3(0x54f)===_0x4fbb48[_0x4021e3(0x751)]){const _0x4b23fb=await _0x51b0dd[_0x4021e3(0xbd8)](_0x4fbb48[_0x4021e3(0x97c)],_0x4fbb48[_0x4021e3(0x7bc)]),_0x3a0922=_0x4b23fb['blocks']['find'](_0x266eb6=>_0x266eb6['type']===_0x187b0c['Prompt']||_0x266eb6[_0x4021e3(0x751)]===_0x187b0c[_0x4021e3(0x69e)]);for await(const _0x2e4852 of _0x547e01(_0x4fbb48[_0x4021e3(0xb2d)]??_0x29935c,_0x4fbb48,_0x3a0922,_0x4b23fb['blocks'],{'documentParserConnector':this[_0x4021e3(0x372)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4021e3(0x3fc)],'generativeAIWorkerConnectors':this[_0x4021e3(0x5e5)],'models':Array[_0x4021e3(0x306)](this[_0x4021e3(0x9df)][_0x4021e3(0xa12)]()),'contentMediator':this[_0x4021e3(0x1db)],'searchConnector':this[_0x4021e3(0xb06)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x4021e3(0x3df)]}))yield _0x2e4852;}if('inference'===_0x4fbb48[_0x4021e3(0x751)]){for await(const _0x37f729 of _0x85e4a2(_0x4fbb48[_0x4021e3(0xb2d)]??_0x29935c,_0x4fbb48,{'documentParserConnector':this[_0x4021e3(0x372)],'fileConnector':this[_0x4021e3(0x40e)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4021e3(0x5e5)],'models':Array[_0x4021e3(0x306)](this[_0x4021e3(0x9df)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x4021e3(0x1e5)],'queryFileConnector':this[_0x4021e3(0x3df)]}))yield _0x37f729;}}async['startTracing'](_0x4efd9d,_0x344be4){const _0xffe7d3=_0x2aff22;if(_0xffe7d3(0x907)===_0x344be4['type'])return _0x4efd9d=_0x344be4[_0xffe7d3(0xb2d)],void await this['openTrace'](_0x4efd9d,_0x344be4[_0xffe7d3(0x97c)],_0x344be4[_0xffe7d3(0x7bc)]);_0xffe7d3(0x54f)!==_0x344be4[_0xffe7d3(0x751)]&&_0xffe7d3(0x7a2)!==_0x344be4['type']||!_0x344be4[_0xffe7d3(0xb2d)]||(_0x4efd9d=_0x344be4[_0xffe7d3(0xb2d)]),await this[_0xffe7d3(0x95f)](_0x4efd9d,_0x344be4['vendorId'],_0x344be4[_0xffe7d3(0x7bc)],_0x344be4[_0xffe7d3(0x7d7)]),await _0x2a3821[_0xffe7d3(0x9f3)]({'jobType':_0x42d38a[_0xffe7d3(0x47d)],'type':_0x2e062f[_0xffe7d3(0x7dc)],'traceLevel':_0x192bcf[_0xffe7d3(0x6fa)],'jobId':_0x4efd9d,'threadId':_0x344be4[_0xffe7d3(0x7d7)],'startTime':Date[_0xffe7d3(0x75c)](),'timestamp':Date[_0xffe7d3(0x75c)](),'status':_0xffe7d3(0x6ce)});}async[_0x2aff22(0xa0b)](_0x1b4546,_0x158fef){const _0x69fc75=_0x2aff22;if(_0x69fc75(0x907)===_0x158fef[_0x69fc75(0x751)])return _0x1b4546=_0x158fef[_0x69fc75(0xb2d)],void await this[_0x69fc75(0xa9a)](_0x1b4546);_0x69fc75(0x54f)!==_0x158fef[_0x69fc75(0x751)]&&_0x69fc75(0x7a2)!==_0x158fef['type']||!_0x158fef[_0x69fc75(0xb2d)]||(_0x1b4546=_0x158fef[_0x69fc75(0xb2d)]),await _0x2a3821['trace']({'jobType':_0x42d38a[_0x69fc75(0x47d)],'type':_0x2e062f['Completed'],'traceLevel':_0x192bcf['Info'],'jobId':_0x1b4546,'threadId':_0x158fef[_0x69fc75(0x7d7)],'startTime':Date['now'](),'timestamp':Date[_0x69fc75(0x75c)](),'status':'success'}),await this['closeTrace'](_0x1b4546,_0x158fef[_0x69fc75(0x7d7)]);}[_0x2aff22(0x45d)](_0x181a86){const _0x38a6de=_0x2aff22;switch(_0x181a86[_0x38a6de(0x751)]){case _0x187b0c['Agent']:case _0x187b0c[_0x38a6de(0x234)]:return _0x38a6de(0xb5c)+_0x181a86[_0x38a6de(0x3b3)]['replace'](/[^a-zA-Z]/g,'');case _0x187b0c[_0x38a6de(0x2b0)]:return'executeWorkflow'+_0x181a86[_0x38a6de(0x3b3)][_0x38a6de(0x481)](/[^a-zA-Z]/g,'');case _0x187b0c['DataCollection']:case _0x187b0c[_0x38a6de(0x2cb)]:return _0x38a6de(0x38b)+_0x181a86[_0x38a6de(0x3b3)][_0x38a6de(0x481)](/[^a-zA-Z]/g,'');case _0x187b0c['CustomSkill']:return _0x181a86[_0x38a6de(0x3b3)][_0x38a6de(0x481)](/[^a-zA-Z]/g,'');case _0x187b0c[_0x38a6de(0xbea)]:return _0x38a6de(0x796);case _0x187b0c[_0x38a6de(0x4c0)]:return'executeJavascriptCodeSnippet';case _0x187b0c['Search']:return _0x38a6de(0x677);case _0x187b0c[_0x38a6de(0x2bf)]:case _0x187b0c[_0x38a6de(0x7d2)]:return _0x38a6de(0xa94);case _0x182c91['GenerativeAIInferenceToolType'][_0x38a6de(0x8eb)]:return _0x38a6de(0x30f)+_0x181a86['name'][_0x38a6de(0x481)](/[^a-zA-Z]/g,'');case _0x182c91[_0x38a6de(0x4f9)][_0x38a6de(0x8cf)]:return _0x38a6de(0x843)+_0x181a86[_0x38a6de(0x3b3)]['replace'](/[^a-zA-Z]/g,'');case _0x182c91[_0x38a6de(0x4f9)][_0x38a6de(0x932)]:return _0x38a6de(0x91b)+_0x181a86[_0x38a6de(0x3b3)][_0x38a6de(0x481)](/[^a-zA-Z]/g,'');default:return'';}}[_0x2aff22(0x79e)](_0x30e98a){const _0x928a3f=_0x2aff22;switch(_0x30e98a[_0x928a3f(0x751)]){case _0x187b0c[_0x928a3f(0x2e3)]:case _0x187b0c[_0x928a3f(0x234)]:return _0x928a3f(0x5d7)+_0x30e98a['description']+_0x928a3f(0x2df);case _0x187b0c[_0x928a3f(0x2b0)]:return _0x928a3f(0x8e9)+_0x30e98a['description']+_0x928a3f(0x2df);case _0x187b0c['DataCollection']:case _0x187b0c[_0x928a3f(0x2cb)]:return _0x928a3f(0x6b7)+_0x30e98a['description']+_0x928a3f(0x9d9);case _0x187b0c[_0x928a3f(0x6ef)]:return'Execute\x20skill\x20'+_0x30e98a['description'];case _0x187b0c[_0x928a3f(0xbea)]:return _0x928a3f(0xb89);case _0x187b0c[_0x928a3f(0x4c0)]:return _0x928a3f(0x95a);case _0x187b0c[_0x928a3f(0x45a)]:return _0x928a3f(0x9f5);case _0x187b0c[_0x928a3f(0x2bf)]:case _0x187b0c[_0x928a3f(0x7d2)]:return _0x928a3f(0xb50);case _0x182c91[_0x928a3f(0x4f9)][_0x928a3f(0x8eb)]:return'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.';case _0x182c91[_0x928a3f(0x4f9)][_0x928a3f(0x8cf)]:return'Set\x20the\x20answer\x20to\x20the\x20current\x20question.';case _0x182c91['GenerativeAIInferenceToolType'][_0x928a3f(0x932)]:return _0x928a3f(0x6ec);default:return'';}}['getToolParams'](_0x4956d6){const _0x4971d7=_0x2aff22;switch(_0x4956d6[_0x4971d7(0x751)]){case _0x187b0c[_0x4971d7(0x2e3)]:case _0x187b0c['AgentSkill']:case _0x187b0c[_0x4971d7(0x2b0)]:return[{'name':_0x4971d7(0x54f),'type':_0x4971d7(0xb85)}];case _0x187b0c['DataCollection']:case _0x187b0c[_0x4971d7(0x2cb)]:return[{'name':_0x4971d7(0x6f3),'type':'string'}];case _0x187b0c[_0x4971d7(0x6ef)]:return _0x4956d6[_0x4971d7(0xa27)]['map'](_0x15181e=>({'name':_0x15181e[_0x4971d7(0x3b3)],'type':_0x15181e[_0x4971d7(0x751)]??_0x4971d7(0xb85)}))??[];case _0x187b0c[_0x4971d7(0xbea)]:return[{'name':_0x4971d7(0x794),'type':_0x4971d7(0xb85)}];case _0x187b0c['Code']:return[{'name':_0x4971d7(0x400),'type':_0x4971d7(0xb85)}];case _0x187b0c[_0x4971d7(0x45a)]:return[{'name':_0x4971d7(0x794),'type':'string'}];case _0x187b0c[_0x4971d7(0x2bf)]:case _0x187b0c[_0x4971d7(0x7d2)]:return[{'name':_0x4971d7(0x238),'type':'string'},{'name':_0x4971d7(0xb2e),'type':'number'}];case _0x182c91[_0x4971d7(0x4f9)][_0x4971d7(0x8eb)]:return[];case _0x182c91['GenerativeAIInferenceToolType'][_0x4971d7(0x8cf)]:return[{'name':'id','type':_0x4971d7(0xb85)},{'name':_0x4971d7(0x718),'type':_0x4971d7(0xb85)}];case _0x182c91[_0x4971d7(0x4f9)][_0x4971d7(0x932)]:default:return[];}}[_0x2aff22(0xba7)](){const _0x3d7483=_0x2aff22;try{return this[_0x3d7483(0x42f)][_0x3d7483(0x4d2)]()[_0x3d7483(0x324)][_0x3d7483(0x7f2)]*(0x1-this[_0x3d7483(0x42f)][_0x3d7483(0x4d2)]()[_0x3d7483(0x324)][_0x3d7483(0x1d0)]);}catch(_0x174aec){return _0x11d8aa['log'](_0x23f9d6[_0x3d7483(0xb53)],_0x3d7483(0x86c),_0x174aec),0x0;}}['sendStats'](){const _0x4c63d4=_0x2aff22;this['isOpened']&&(this['debounceStats']&&clearTimeout(this[_0x4c63d4(0x28b)]),this[_0x4c63d4(0x28b)]=setTimeout(async()=>{const _0x4df639=_0x4c63d4;delete this[_0x4df639(0x28b)];let _0x2dae35=0x0;for(const _0x15d6e6 of this[_0x4df639(0x841)][_0x4df639(0xa12)]())_0x2dae35+=await _0x15d6e6[_0x4df639(0x547)]();this[_0x4df639(0x7ef)][_0x4df639(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x4df639(0x41a)],'content':{'type':_0x4f0180[_0x4df639(0x8f6)],'label':this['label'],'stats':{'timestamp':Date[_0x4df639(0x75c)](),'storage':_0x2dae35,'messagesSent':this[_0x4df639(0x688)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x4df639(0x439)],'bytesReceived':this[_0x4df639(0x664)],'writes':0x0,'reads':0x0,'prompts':this[_0x4df639(0x470)],'tokens':this['tokens']}}});},_0x59531c));}[_0x2aff22(0x3dc)](_0x370064,_0x3b58a7){const _0x14d6da=_0x2aff22,_0x198392=this['label'],_0x1b2087=this[_0x14d6da(0x613)]();_0x11d8aa[_0x14d6da(0x3dc)](_0x1bf76d['GenerativeAIContext'],{'topic':_0x198392,'type':_0x14d6da(0x718),'nodeId':_0x1b2087,'tokenCount':_0x3b58a7,'tokensPerSecond':_0x370064});}async[_0x2aff22(0x95f)](_0x169ee4,_0x10c77d,_0x24ab8a,_0x19f1cf){const _0x4fd161=_0x2aff22;try{if(!await _0x2a3821[_0x4fd161(0x95f)](_0x10c77d,_0x169ee4,_0x24ab8a,_0x19f1cf))throw new Error('Error\x20opening\x20trace');return _0x169ee4;}catch(_0x4bf061){return console['error']('Error\x20opening\x20trace',_0x4bf061),_0x4fd161(0x532);}}async['closeTrace'](_0x24664b,_0xba754){const _0x2d0e5d=_0x2aff22;try{await _0x2a3821[_0x2d0e5d(0xa9a)](_0x24664b,_0xba754);}catch(_0x2c1bca){console[_0x2d0e5d(0x730)]('Error\x20closing\x20trace',{'jobId':_0x24664b,'error':_0x2c1bca});}}}class _0x12e1e9 extends _0x4ba250{['localNode'];[_0x2aff22(0x3d0)];[_0x2aff22(0x97c)];['db'];[_0x2aff22(0x28b)];[_0x2aff22(0x6ed)]=0x0;[_0x2aff22(0xa81)]=0x0;[_0x2aff22(0x717)]=!0x1;constructor(_0x210ce9,_0x323b8b,_0x13fd8d,_0x45ca56,_0x56f649){const _0x28c5e4=_0x2aff22;if('string'!=typeof _0x323b8b)throw new _0x447098(_0x35722f['GraphDatabaseNameNotString'],_0x28c5e4(0x251));super(_0x210ce9,_0x323b8b),this['localNode']=_0x210ce9,this['clusterId']=_0x13fd8d,this[_0x28c5e4(0x97c)]=_0x45ca56;const _0x1ce445=_0x28c5e4(0xa10)+this['vendorId']+_0x28c5e4(0xa10)+this[_0x28c5e4(0x3d0)]+_0x28c5e4(0xa10)+this[_0x28c5e4(0x4ea)];this['db']=new _0x56f649(_0x1ce445),this['sendStats']();}[_0x2aff22(0x661)](){const _0x2165c0=_0x2aff22;return this[_0x2165c0(0x717)];}[_0x2aff22(0xa2f)](_0xb5ff33){this['isLoaded']=_0xb5ff33;}[_0x2aff22(0xb97)](){const _0x1b49e9=_0x2aff22;clearTimeout(this[_0x1b49e9(0x28b)]),delete this[_0x1b49e9(0x28b)],super[_0x1b49e9(0xb97)]();}[_0x2aff22(0x566)](){const _0x7831ea=_0x2aff22;this[_0x7831ea(0x7ef)][_0x7831ea(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x7831ea(0x41a)],'content':{'type':_0x4f0180[_0x7831ea(0xb8d)],'label':this[_0x7831ea(0x4ea)]}});}['getContentType'](){const _0x8de69c=_0x2aff22;return _0x182c91[_0x8de69c(0x1c0)][_0x8de69c(0xb7f)];}[_0x2aff22(0x8a2)](){const _0x3b17d6=_0x2aff22;this[_0x3b17d6(0x6c9)]();}[_0x2aff22(0x409)](_0x1b8edf,_0x17a9d5,_0x46afd3,_0x5315c6){const _0x4d8344=_0x2aff22;this['db'][_0x4d8344(0x409)](_0x1b8edf,_0x17a9d5,_0x46afd3,_0x5315c6),this['writes']+=0x1,this[_0x4d8344(0x6c9)]();}[_0x2aff22(0xa31)](_0x4a1af1,_0x52f832){const _0x5c45a8=_0x2aff22;this['db'][_0x5c45a8(0xa31)](_0x4a1af1,_0x52f832),this[_0x5c45a8(0x6ed)]+=0x1,this['sendStats']();}[_0x2aff22(0x646)](_0x344f76,_0x3df9de,_0x344b5b){const _0x171e76=_0x2aff22,_0x280a18=this['db'][_0x171e76(0x646)](_0x344f76,_0x3df9de,_0x344b5b);return this[_0x171e76(0xa81)]+=0x1,_0x11d8aa[_0x171e76(0x3dc)](_0x1bf76d[_0x171e76(0xb7f)],{'type':_0x171e76(0x8b7),'label':this['label'],'nodeId':this['localNode'][_0x171e76(0x781)](),'nodeType':this[_0x171e76(0x20e)][_0x171e76(0x751)],'clusterId':this[_0x171e76(0x3d0)],'size':0x0}),this[_0x171e76(0x6c9)](),_0x280a18;}['remove'](_0x34f1fa){const _0x2d6f0c=_0x2aff22;this['db'][_0x2d6f0c(0x3bc)](_0x34f1fa),this[_0x2d6f0c(0x6ed)]+=0x1,this[_0x2d6f0c(0x6c9)]();}[_0x2aff22(0x1b9)](_0x5af01e){const _0x7aef5a=_0x2aff22;this['db'][_0x7aef5a(0x1b9)](_0x5af01e);}[_0x2aff22(0x8b4)](_0x2598c7){const _0x47ac07=_0x2aff22;this['db'][_0x47ac07(0x8b4)](_0x2598c7);}[_0x2aff22(0x6c9)](){const _0x6f296f=_0x2aff22;this[_0x6f296f(0x28b)]&&clearTimeout(this[_0x6f296f(0x28b)]),this[_0x6f296f(0x28b)]=setTimeout(async()=>{const _0x40673a=_0x6f296f;delete this['debounceStats'];const _0x206180=this['db'][_0x40673a(0x547)]();this[_0x40673a(0x7ef)][_0x40673a(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8['Content'],'content':{'type':_0x4f0180['GraphDatabaseStats'],'label':this[_0x40673a(0x4ea)],'stats':{'timestamp':Date['now'](),'storage':_0x206180,'messagesSent':this[_0x40673a(0x688)],'messagesReceived':this[_0x40673a(0x32c)],'bytesSent':this[_0x40673a(0x439)],'bytesReceived':this[_0x40673a(0x664)],'writes':this['writes'],'reads':this[_0x40673a(0xa81)],'prompts':0x0,'tokens':0x0}}}),_0x11d8aa['logStorage'](_0x1bf76d['GraphDatabase'],_0x40673a(0xa10)+this[_0x40673a(0x3d0)]+_0x40673a(0xa10)+this[_0x40673a(0x4ea)],_0x206180);},_0x59531c);}}class _0x3506fb extends _0xb7f649{['mediaStream'];constructor(_0x546c45,_0x3d1ca1,_0x187e42){const _0x111a07=_0x2aff22;super(_0x546c45,_0x3d1ca1),this[_0x111a07(0x9c3)]=_0x187e42;}[_0x2aff22(0x708)](){const _0x1ef3fa=_0x2aff22;return _0x182c91['ContentType'][_0x1ef3fa(0x3e7)];}['getMediaStream'](){const _0x2c4722=_0x2aff22;return this[_0x2c4722(0x9c3)];}[_0x2aff22(0x54d)](){const _0x34745d=_0x2aff22;return this[_0x34745d(0x9c3)]['id'];}}class _0xf484ad extends _0x3506fb{[_0x2aff22(0x3e4)];[_0x2aff22(0xb37)];[_0x2aff22(0x444)];['unregisterPublisherListener']=_0x4b74c2();constructor(_0xaaa2dc,_0xa28bac,_0x2c830f,_0xac5c98,_0x49d3c0){const _0x319342=_0x2aff22;super(_0xaaa2dc,_0xa28bac,_0x2c830f),this[_0x319342(0x3e4)]=_0xac5c98,this[_0x319342(0xb37)]=_0x49d3c0;}[_0x2aff22(0xb97)](){const _0x9b8125=_0x2aff22;this[_0x9b8125(0x344)](_0x9b8125(0xaea)),this[_0x9b8125(0x344)](_0x9b8125(0x4c5)),super[_0x9b8125(0xb97)]();}[_0x2aff22(0x389)](_0x5d3e88){const _0x4eb304=_0x2aff22;if(!this[_0x4eb304(0x444)])throw new _0x1a8c20(_0x1a8c20[_0x4eb304(0x92d)][_0x4eb304(0x890)],{'label':this[_0x4eb304(0x4ea)],'ownerId':this['owner'][_0x4eb304(0x781)](),'remoteId':this[_0x4eb304(0x3e4)]});this[_0x4eb304(0x444)][_0x4eb304(0x9cd)]({'sourceId':this[_0x4eb304(0x43f)][_0x4eb304(0x781)](),'content':{'action':_0x42cadc['Add'],'track':_0x5d3e88,'stream':this[_0x4eb304(0x9c3)],'priority':_0x182c91['MediaStreamPriority']['Default'],'params':this[_0x4eb304(0x46d)](_0x5d3e88[_0x4eb304(0x493)],this[_0x4eb304(0xb37)])}});}[_0x2aff22(0x344)](_0x2156ec){const _0x583b96=_0x2aff22,_0x2402d1=this[_0x583b96(0x771)](_0x2156ec);if(_0x2402d1){if(!this['topic'])return null;this[_0x583b96(0x444)][_0x583b96(0x9cd)]({'sourceId':this[_0x583b96(0x43f)][_0x583b96(0x781)](),'content':{'action':_0x42cadc[_0x583b96(0x55f)],'track':_0x2402d1,'stream':this[_0x583b96(0x9c3)]}});}return _0x2402d1;}[_0x2aff22(0xa01)](_0xa4f3b1){const _0x12540c=_0x2aff22;if(!this[_0x12540c(0x444)])throw new _0x1a8c20(_0x1a8c20[_0x12540c(0x92d)][_0x12540c(0x890)],{'label':this[_0x12540c(0x4ea)],'ownerId':this['owner'][_0x12540c(0x781)](),'remoteId':this[_0x12540c(0x3e4)]});this['topic'][_0x12540c(0x9cd)]({'sourceId':this[_0x12540c(0x43f)][_0x12540c(0x781)](),'content':{'action':_0x42cadc[_0x12540c(0x48d)],'priority':_0xa4f3b1,'stream':this[_0x12540c(0x9c3)]}});}[_0x2aff22(0x4c8)]({trackKinds:_0x4f555f,params:_0x414894},_0x55f69f){const _0x3a0f1c=_0x2aff22;if(!this[_0x3a0f1c(0x444)])throw new _0x1a8c20(_0x1a8c20['codes']['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x3a0f1c(0x43f)]['getId'](),'remoteId':this[_0x3a0f1c(0x3e4)]});for(const _0x5533c8 of this[_0x3a0f1c(0x9c3)]['getTracks']())_0x4f555f[_0x3a0f1c(0x9bf)](_0x5533c8[_0x3a0f1c(0x493)])&&this['topic'][_0x3a0f1c(0x9cd)]({'sourceId':this[_0x3a0f1c(0x43f)][_0x3a0f1c(0x781)](),'content':{'action':_0x42cadc[_0x3a0f1c(0x849)],'track':_0x5533c8,'stream':this[_0x3a0f1c(0x9c3)],'priority':_0x55f69f,'params':this['getInternalTrackParams'](_0x5533c8[_0x3a0f1c(0x493)],_0x414894)}});}['update']({params:_0x3267df}){const _0x101906=_0x2aff22;if(!this[_0x101906(0x444)])throw new _0x1a8c20(_0x1a8c20[_0x101906(0x92d)][_0x101906(0x890)],{'label':this[_0x101906(0x4ea)],'ownerId':this['owner'][_0x101906(0x781)](),'remoteId':this[_0x101906(0x3e4)]});for(const _0x389d16 of this['mediaStream'][_0x101906(0xb0a)]())this[_0x101906(0x444)][_0x101906(0x9cd)]({'sourceId':this[_0x101906(0x43f)][_0x101906(0x781)](),'content':{'action':_0x42cadc[_0x101906(0x48d)],'stream':this['mediaStream'],'params':this[_0x101906(0x46d)](_0x389d16[_0x101906(0x493)],_0x3267df)}});}[_0x2aff22(0x815)]({trackKinds:_0x39129c}){const _0x5bfb37=_0x2aff22;if(this[_0x5bfb37(0x444)]){for(const _0x33cc07 of this[_0x5bfb37(0x9c3)]['getTracks']())_0x39129c[_0x5bfb37(0x9bf)](_0x33cc07[_0x5bfb37(0x493)])&&this[_0x5bfb37(0x444)][_0x5bfb37(0x9cd)]({'sourceId':this[_0x5bfb37(0x43f)][_0x5bfb37(0x781)](),'content':{'action':_0x42cadc['Remove'],'stream':this['mediaStream'],'track':_0x33cc07}});}}[_0x2aff22(0x480)](_0x35c8b9){const _0x1faf34=_0x2aff22;this[_0x1faf34(0x444)]=_0x35c8b9;}[_0x2aff22(0x713)](_0x359d6a){const _0x37a1a0=_0x2aff22;_0x359d6a===this['topic']&&(delete this[_0x37a1a0(0x444)],this[_0x37a1a0(0x1cb)][_0x37a1a0(0x9cd)]());}[_0x2aff22(0x48f)](_0x392318){const _0x3abb59=_0x2aff22;return this['unregisterPublisherListener'][_0x3abb59(0x4c8)](_0x392318);}[_0x2aff22(0x771)](_0x35674b){const _0x54fd80=_0x2aff22;return this[_0x54fd80(0x9c3)][_0x54fd80(0xb0a)]()['find'](_0xd5e9bc=>_0xd5e9bc[_0x54fd80(0x493)]===_0x35674b)||null;}[_0x2aff22(0x46d)](_0x300220,_0x311701){const _0x456c7f=_0x2aff22;let _0x2a3dc6;return _0x456c7f(0x4c5)===_0x300220&&_0x311701?.[_0x456c7f(0x4c5)]&&'boolean'!=typeof _0x311701[_0x456c7f(0x4c5)]&&(_0x2a3dc6={'kind':_0x456c7f(0x4c5),..._0x311701['video']},_0x2a3dc6[_0x456c7f(0x52f)]=this[_0x456c7f(0x9a4)]()),'audio'===_0x300220&&_0x311701?.['audio']&&_0x456c7f(0x461)!=typeof _0x311701[_0x456c7f(0xaea)]&&(_0x2a3dc6={'kind':_0x456c7f(0xaea),..._0x311701[_0x456c7f(0xaea)]}),_0x2a3dc6;}[_0x2aff22(0x9a4)](){const _0xfd45d4=_0x2aff22;let _0x59f436={'width':0x0,'height':0x0};const _0x3e0620=this[_0xfd45d4(0x9c3)][_0xfd45d4(0x1d4)]();if(_0x3e0620[_0xfd45d4(0x482)]>0x0){const _0x148683=_0x3e0620[0x0][_0xfd45d4(0xbbe)]();_0x148683[_0xfd45d4(0xbcc)]&&_0x148683[_0xfd45d4(0xbf6)]&&(_0x59f436={'width':_0x148683[_0xfd45d4(0xbcc)],'height':_0x148683['height']});}return _0x59f436;}}class _0xa80ea5 extends _0x3506fb{[_0x2aff22(0x3d0)];[_0x2aff22(0xbdf)]=_0x182c91[_0x2aff22(0xb8c)][_0x2aff22(0x949)];[_0x2aff22(0x612)]=new Map();[_0x2aff22(0x6af)]=new Map();constructor(_0x310f6b,_0x286016,_0x3a51db,_0xa9517d){const _0x15704a=_0x2aff22;super(_0x310f6b,_0x286016,_0x3a51db instanceof MediaStream?_0x3a51db:_0x3a51db[_0x15704a(0xa93)]?_0x3a51db[_0x15704a(0xa93)]:_0x3a51db[_0x15704a(0x3f2)]()),this['clusterId']=_0xa9517d,this[_0x15704a(0x9c3)][_0x15704a(0xb0a)]()[_0x15704a(0x663)](_0x3d37ea=>this[_0x15704a(0x567)](_0x3d37ea)),_0x11d8aa['logServiceEvent'](_0x1bf76d[_0x15704a(0x4dd)],{'type':_0x15704a(0x9cd),'label':this[_0x15704a(0x4ea)],'nodeId':this[_0x15704a(0x43f)]['getId'](),'nodeType':this[_0x15704a(0x43f)]['type'],'clusterId':this[_0x15704a(0x3d0)],'streamId':this[_0x15704a(0x54d)](),'trackKinds':this['mediaStream'][_0x15704a(0xb0a)]()[_0x15704a(0x8df)](_0x60ec9d=>_0x60ec9d[_0x15704a(0x493)])});}['destroy'](){const _0x266d67=_0x2aff22;this[_0x266d67(0x6af)]['size']>0x0&&(this[_0x266d67(0x6af)][_0x266d67(0x663)](_0xcd04f6=>{_0xcd04f6['unregisterSystemPublisher'](),_0xcd04f6['destroy']();}),this['outgoingStreams'][_0x266d67(0x56c)]()),this['trackEndedListeners']['forEach'](_0x2d1409=>_0x2d1409()),super[_0x266d67(0xb97)]();}[_0x2aff22(0x9cd)](_0x1aab98){const _0x57d92b=_0x2aff22;this[_0x57d92b(0x7ef)][_0x57d92b(0x9cd)]({'sourceId':this[_0x57d92b(0x43f)]['getId'](),'destinationIds':_0x1aab98?[_0x1aab98]:void 0x0,'propagate':!0x0,'messageType':_0x3048e8['Content'],'content':{'type':_0x4f0180[_0x57d92b(0x9e6)],'ownerId':this[_0x57d92b(0x43f)][_0x57d92b(0x781)](),'label':this[_0x57d92b(0x4ea)],'stream':{'streamId':this[_0x57d92b(0x54d)](),'availableTrackKinds':this[_0x57d92b(0x9c3)][_0x57d92b(0xb0a)]()[_0x57d92b(0x8df)](_0x18dcf7=>_0x18dcf7[_0x57d92b(0x493)])}}});}[_0x2aff22(0x5be)](){const _0x4702c0=_0x2aff22;this[_0x4702c0(0x7ef)][_0x4702c0(0x9cd)]({'sourceId':this[_0x4702c0(0x43f)][_0x4702c0(0x781)](),'propagate':!0x0,'messageType':_0x3048e8[_0x4702c0(0x41a)],'content':{'type':_0x4f0180[_0x4702c0(0xbda)],'ownerId':this['owner'][_0x4702c0(0x781)](),'label':this[_0x4702c0(0x4ea)]}}),this[_0x4702c0(0x7ef)]['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x4702c0(0x41a)],'content':{'type':_0x4f0180[_0x4702c0(0xa1f)],'label':this[_0x4702c0(0x4ea)]}}),_0x11d8aa[_0x4702c0(0x3dc)](_0x1bf76d[_0x4702c0(0x4dd)],{'type':_0x4702c0(0x5be),'label':this[_0x4702c0(0x4ea)],'nodeId':this['owner'][_0x4702c0(0x781)](),'nodeType':this[_0x4702c0(0x43f)][_0x4702c0(0x751)],'clusterId':this[_0x4702c0(0x3d0)],'streamId':this['getInternalStreamId']()});}[_0x2aff22(0x53d)](){return this['priority'];}['setPriority'](_0x3ffe88){const _0x1f2312=_0x2aff22;this['priority']=_0x3ffe88,this[_0x1f2312(0x6af)][_0x1f2312(0x663)](_0x276a0e=>_0x276a0e['setPriority'](_0x3ffe88));}[_0x2aff22(0x3a1)](_0x3ebb29,_0x154806){const _0x197e1c=_0x2aff22;if(!this['outgoingStreams']['has'](_0x3ebb29)){const _0x4f9297=new _0xf484ad(this[_0x197e1c(0x43f)],this[_0x197e1c(0x4ea)],this['mediaStream'],_0x3ebb29,_0x154806),_0x313e5f=_0x4f9297[_0x197e1c(0x48f)](()=>{const _0x413a29=_0x197e1c;_0x313e5f(),this['outgoingStreams'][_0x413a29(0x9de)](_0x3ebb29)?.[_0x413a29(0xb97)](),this[_0x413a29(0x6af)][_0x413a29(0xa6b)](_0x3ebb29);});this[_0x197e1c(0x6af)][_0x197e1c(0x25c)](_0x3ebb29,_0x4f9297),_0x4f9297[_0x197e1c(0x390)](this[_0x197e1c(0x7ef)]);}return this[_0x197e1c(0x6af)][_0x197e1c(0x9de)](_0x3ebb29);}['getShareableStreamId'](){return this['mediaStream']['id'];}[_0x2aff22(0x49e)](_0x5642b9){const _0x21ea90=_0x2aff22;this[_0x21ea90(0x7ef)][_0x21ea90(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x21ea90(0x41a)],'content':{'type':_0x4f0180['LocalMediaStreamTrackFail'],'label':this[_0x21ea90(0x4ea)],'trackKinds':[_0x5642b9[_0x21ea90(0x493)]]}});}[_0x2aff22(0x567)](_0x3a0a01){const _0x1f6ca6=_0x2aff22,_0x3cf825=()=>this['handleLocalTrackFailure'](_0x3a0a01);_0x3a0a01[_0x1f6ca6(0x3ea)](_0x1f6ca6(0x67d),_0x3cf825),_0x3a0a01[_0x1f6ca6(0x3ea)](_0x1f6ca6(0xb8e),_0x3cf825),this[_0x1f6ca6(0x612)][_0x1f6ca6(0x25c)](_0x3a0a01[_0x1f6ca6(0x493)],()=>{const _0x1835a1=_0x1f6ca6;_0x3a0a01['removeEventListener'](_0x1835a1(0x67d),_0x3cf825),_0x3a0a01[_0x1835a1(0x41d)](_0x1835a1(0xb8e),_0x3cf825),this[_0x1835a1(0x612)][_0x1835a1(0xa6b)](_0x3a0a01[_0x1835a1(0x493)]);});}}class _0x13e713 extends _0xa80ea5{[_0x2aff22(0x591)];[_0x2aff22(0x65d)]=[];[_0x2aff22(0x269)];[_0x2aff22(0x28a)];[_0x2aff22(0x603)];[_0x2aff22(0xb7a)];[_0x2aff22(0x872)];[_0x2aff22(0xb32)];[_0x2aff22(0x9b5)];constructor(_0x528e6d,_0x5c9c69,_0x43035d,_0x2d0a92,_0x2de809,_0x1177d5){const _0x41cc1e=_0x2aff22;if(super(_0x528e6d,_0x5c9c69,_0x43035d,_0x1177d5),this['audioContext']=_0x2de809,this[_0x41cc1e(0x269)]=this[_0x41cc1e(0x9c3)],this['sourceVideo']=document['createElement'](_0x41cc1e(0x4c5)),this[_0x41cc1e(0xb7a)]['autoplay']=!0x0,this[_0x41cc1e(0xb7a)][_0x41cc1e(0x59e)]=!0x0,this[_0x41cc1e(0xb7a)][_0x41cc1e(0xa93)]=this[_0x41cc1e(0x269)],this[_0x41cc1e(0xb7a)][_0x41cc1e(0x1d0)](),this['sourceVideo'][_0x41cc1e(0x3cb)]=()=>{const _0x1b1a1e=_0x41cc1e;this[_0x1b1a1e(0xb7a)][_0x1b1a1e(0x2a2)]();},this[_0x41cc1e(0x872)]=document[_0x41cc1e(0x8d7)](_0x41cc1e(0x872)),this[_0x41cc1e(0xb32)]=this[_0x41cc1e(0x872)][_0x41cc1e(0xa92)]('2d'),this[_0x41cc1e(0x9c3)]=this[_0x41cc1e(0x872)]['captureStream'](_0x2d0a92),this['audioDestination']=this[_0x41cc1e(0x591)][_0x41cc1e(0x2af)](),this[_0x41cc1e(0x269)]['getAudioTracks']()[_0x41cc1e(0x482)]>0x0){const _0x1eb098=this[_0x41cc1e(0x269)][_0x41cc1e(0x714)]()[0x0];this[_0x41cc1e(0x28a)]=this['audioContext'][_0x41cc1e(0x5ad)](new MediaStream([_0x1eb098])),this[_0x41cc1e(0x28a)][_0x41cc1e(0x835)](this['audioDestination']);}const _0x473da9=this['audioDestination'][_0x41cc1e(0x86f)]['getTracks']()[0x0];this[_0x41cc1e(0x9c3)][_0x41cc1e(0x389)](_0x473da9),this[_0x41cc1e(0x9b5)]=setInterval(()=>{const _0x4fbdb2=_0x41cc1e;this[_0x4fbdb2(0x872)]['width']=this[_0x4fbdb2(0xb7a)][_0x4fbdb2(0x70b)],this[_0x4fbdb2(0x872)][_0x4fbdb2(0xbf6)]=this[_0x4fbdb2(0xb7a)]['videoHeight'],this[_0x4fbdb2(0xb7a)][_0x4fbdb2(0x70b)]?(0x0!==this[_0x4fbdb2(0x269)][_0x4fbdb2(0x1d4)]()[_0x4fbdb2(0x482)]&&this['clientStream'][_0x4fbdb2(0x1d4)]()[0x0][_0x4fbdb2(0x4fb)]?this[_0x4fbdb2(0x9c3)][_0x4fbdb2(0x1d4)]()[0x0][_0x4fbdb2(0x4fb)]=!0x0:this[_0x4fbdb2(0x9c3)][_0x4fbdb2(0x1d4)]()[0x0][_0x4fbdb2(0x4fb)]=!0x1,0x0!==this['clientStream'][_0x4fbdb2(0x714)]()[_0x4fbdb2(0x482)]&&this[_0x4fbdb2(0x269)]['getAudioTracks']()[0x0][_0x4fbdb2(0x4fb)]?this[_0x4fbdb2(0x9c3)][_0x4fbdb2(0x714)]()[0x0][_0x4fbdb2(0x4fb)]=!0x0:this['mediaStream'][_0x4fbdb2(0x714)]()[0x0]['enabled']=!0x1,this['context'][_0x4fbdb2(0x6c0)](this[_0x4fbdb2(0xb7a)],0x0,0x0)):this['context'][_0x4fbdb2(0x69d)](0x0,0x0,this['canvas'][_0x4fbdb2(0xbcc)],this[_0x4fbdb2(0x872)][_0x4fbdb2(0xbf6)]);},0x3e8/_0x2d0a92);}[_0x2aff22(0xb97)](){const _0xf1bcd6=_0x2aff22;clearInterval(this[_0xf1bcd6(0x9b5)]),this[_0xf1bcd6(0xb7a)][_0xf1bcd6(0x3bc)](),this['canvas']['remove'](),this[_0xf1bcd6(0x28a)]?.['disconnect'](),this[_0xf1bcd6(0x603)][_0xf1bcd6(0x513)](),this[_0xf1bcd6(0x9c3)][_0xf1bcd6(0xb0a)]()[_0xf1bcd6(0x663)](_0x267971=>{const _0x2e63e5=_0xf1bcd6;_0x267971[_0x2e63e5(0xba4)](),this['mediaStream'][_0x2e63e5(0x344)](_0x267971);}),super['destroy']();}[_0x2aff22(0x389)](_0x456514){const _0x2d8110=_0x2aff22,_0x1b3cd0=this[_0x2d8110(0x771)](_0x456514['kind']);_0x1b3cd0&&this['removeTrack'](_0x1b3cd0),_0x2d8110(0xaea)!==_0x456514[_0x2d8110(0x493)]?(_0x2d8110(0x4c5)===_0x456514[_0x2d8110(0x493)]&&this[_0x2d8110(0x3c5)](_0x456514),this[_0x2d8110(0x567)](_0x456514)):this[_0x2d8110(0xbd0)](_0x456514);}[_0x2aff22(0x344)](_0x47704a){const _0x389654=_0x2aff22,_0x181947=this[_0x389654(0x1de)](_0x47704a);return _0x181947&&(_0x389654(0xaea)===_0x181947[_0x389654(0x493)]&&(this['audioSource']?.[_0x389654(0x513)](),this[_0x389654(0x28a)]=void 0x0),this[_0x389654(0x612)][_0x389654(0x9de)](_0x181947[_0x389654(0x493)])?.(),this[_0x389654(0x269)][_0x389654(0x344)](_0x181947)),_0x181947;}[_0x2aff22(0x467)](_0x54f964){const _0x1bb605=_0x2aff22;this[_0x1bb605(0x344)](_0x54f964[_0x1bb605(0x493)]),this['addTrack'](_0x54f964);}[_0x2aff22(0xaab)](_0x57409b){const _0xcab501=_0x2aff22;this[_0xcab501(0x65d)]=_0x57409b;}['getTrack'](_0x49b860){const _0x35828e=_0x2aff22;return this[_0x35828e(0x269)][_0x35828e(0xb0a)]()['find'](_0x2860f7=>_0x2860f7[_0x35828e(0x493)]===_0x49b860)||null;}['getTrackFromParam'](_0x535a68){const _0x48539c=_0x2aff22;return _0x48539c(0xb85)==typeof _0x535a68?this[_0x48539c(0x771)](_0x535a68):_0x535a68;}['addAudioTrack'](_0xb8d233){const _0xecfcb3=_0x2aff22;_0xecfcb3(0x863)===this[_0xecfcb3(0x591)][_0xecfcb3(0x623)]&&this[_0xecfcb3(0x591)][_0xecfcb3(0x70c)](),this[_0xecfcb3(0x269)][_0xecfcb3(0x389)](_0xb8d233),this['audioSource']=this[_0xecfcb3(0x591)][_0xecfcb3(0x5ad)](this[_0xecfcb3(0x269)]),this[_0xecfcb3(0x28a)][_0xecfcb3(0x835)](this[_0xecfcb3(0x603)]);}[_0x2aff22(0x3c5)](_0x14c25d){const _0x408ee0=_0x2aff22;this[_0x408ee0(0x269)]['addTrack'](_0x14c25d),this[_0x408ee0(0xb7a)][_0x408ee0(0x1d0)]();}}class _0x3b0bca extends _0xa80ea5{}class _0x242aeb extends _0x4ba250{[_0x2aff22(0x20e)];[_0x2aff22(0x3d0)];['vendorId'];[_0x2aff22(0xbc6)];[_0x2aff22(0x5ea)];['options'];['unsubscribeHandler'];[_0x2aff22(0x242)];['pendingSyncTransactions']=new Map();[_0x2aff22(0xbbd)]=new Map();[_0x2aff22(0x262)]=new Map();[_0x2aff22(0xb26)]=new Map();[_0x2aff22(0x97a)]=new Map();[_0x2aff22(0x4ef)]=new Map();['objectStoreConnector'];[_0x2aff22(0xbd6)]=_0x29c93b();['listenerUnsubscribers']=new Map();[_0x2aff22(0x28b)];[_0x2aff22(0x6ed)]=0x0;[_0x2aff22(0xa81)]=0x0;[_0x2aff22(0x223)]=!0x0;[_0x2aff22(0xa24)]=!0x0;[_0x2aff22(0x916)]=0x0;[_0x2aff22(0x9c0)]=0x0;constructor(_0x4cbc80,_0x285094,_0x1e730d,_0x47300d,_0x3a2912,_0x36d8e9,_0x6b5ab,_0x5dbf14){const _0x1ee36d=_0x2aff22;if(_0x1ee36d(0xb85)!=typeof _0x285094)throw new _0x447098(_0x35722f[_0x1ee36d(0x2ba)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x4cbc80,_0x285094),this['localNode']=_0x4cbc80,this['clusterId']=_0x1e730d,this[_0x1ee36d(0x97c)]=_0x47300d,this[_0x1ee36d(0xbc6)]=_0x3a2912,this[_0x1ee36d(0x5ea)]=_0x6b5ab,this['options']=_0x5dbf14;const _0x170f73=_0x1ee36d(0xa10)+this[_0x1ee36d(0x97c)]+_0x1ee36d(0xa10)+this['clusterId']+_0x1ee36d(0xa10)+_0x285094;this['objectStoreConnector']=new _0x36d8e9(_0x170f73),this[_0x1ee36d(0x223)]=this[_0x1ee36d(0x81a)]?.[_0x1ee36d(0x223)]??!0x0,this['options']?.[_0x1ee36d(0x41c)]&&(this[_0x1ee36d(0x223)]=!0x1),this[_0x1ee36d(0x6c9)]();}['reset'](){this['sendStats']();}[_0x2aff22(0x708)](){const _0x36c7ab=_0x2aff22;return _0x182c91[_0x36c7ab(0x1c0)][_0x36c7ab(0x6bd)];}async['sync'](){const _0x509303=_0x2aff22;this[_0x509303(0xa24)]=!0x0;try{const _0xbbb4bb=await this[_0x509303(0x5b9)]['get'](_0x51b043),_0x5f8d54=await _0xbbb4bb[_0x509303(0x9a0)]();this[_0x509303(0x242)]=_0x5f8d54;}catch(_0x2fdeba){}this[_0x509303(0x4b2)]=this[_0x509303(0x5f0)](async(_0xc771e4,_0x38826f)=>{const _0x2718e1=_0x509303;if(!(_0x38826f instanceof File))try{if(_0x38826f[_0x2718e1(0x1b1)]===_0x5836d9[_0x2718e1(0x213)])return void this[_0x2718e1(0xac2)](_0x38826f);this[_0x2718e1(0x858)](_0x38826f);}catch(_0x420c26){if(_0x420c26 instanceof _0x1a8c20)throw _0x420c26;throw new _0x1a8c20(_0x1a8c20['codes'][_0x2718e1(0x496)],{'payload':_0x38826f});}}),await this[_0x509303(0x22c)](),this['syncContent']?await this[_0x509303(0xb4f)]():this[_0x509303(0x3c8)](),this['sendStats']();}[_0x2aff22(0xb97)](){const _0x368f5c=_0x2aff22;this[_0x368f5c(0x4b2)]?.(),this['listenerUnsubscribers'][_0x368f5c(0x663)](_0x3ad806=>_0x3ad806()),this[_0x368f5c(0x226)][_0x368f5c(0x56c)](),clearTimeout(this[_0x368f5c(0x28b)]),delete this[_0x368f5c(0x28b)],super[_0x368f5c(0xb97)]();}['close'](){const _0x3a9188=_0x2aff22;this[_0x3a9188(0x7ef)]?.[_0x3a9188(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8['Content'],'content':{'type':_0x4f0180[_0x3a9188(0x655)],'label':this[_0x3a9188(0x4ea)]}});}[_0x2aff22(0x4c8)](_0x2a29a0,_0x356155){const _0x29ebed=_0x2aff22;if(this[_0x29ebed(0x226)][_0x29ebed(0x938)](_0x2a29a0))throw new _0x447098(_0x35722f[_0x29ebed(0x504)],_0x29ebed(0x93f));this[_0x29ebed(0x226)][_0x29ebed(0x25c)](_0x2a29a0,this[_0x29ebed(0xbd6)][_0x29ebed(0x4c8)](_0x356155)),this[_0x29ebed(0xa24)]||this['eventListener'][_0x29ebed(0x9cd)]({'event':_0x182c91[_0x29ebed(0x90f)][_0x29ebed(0xb96)],'payload':{'filesSynced':this['filesSynced']}});}[_0x2aff22(0x815)](_0x5452ba){const _0x1dd128=_0x2aff22;this[_0x1dd128(0x226)]['get'](_0x5452ba)?.(),this['listenerUnsubscribers'][_0x1dd128(0xa6b)](_0x5452ba);}[_0x2aff22(0x9cd)](_0x5159c6){const _0xebfede=_0x2aff22;switch(_0x5159c6[_0xebfede(0x616)]){case _0x182c91[_0xebfede(0x2a6)]['File']:return this[_0xebfede(0x935)](_0x5159c6['file'],_0x5159c6[_0xebfede(0x24f)],_0x5159c6['options']);case _0x182c91[_0xebfede(0x2a6)][_0xebfede(0xa8e)]:return this['publishFolder'](_0x5159c6[_0xebfede(0x24f)]);case _0x182c91[_0xebfede(0x2a6)][_0xebfede(0xbdb)]:return this[_0xebfede(0x658)](_0x5159c6[_0xebfede(0x24f)],_0x5159c6[_0xebfede(0x2cf)]);default:throw new _0x447098(_0x35722f['ObjectStoreInvalidPayload'],_0xebfede(0x948)+_0x5159c6);}}async['unpublish'](_0x4afe80){const _0x2ef4fe=_0x2aff22;try{const _0x1a176c=(0x0,_0x360e63['v4'])(),_0x56bf9a=this['lastTransactionId'],_0x434569={'payloadType':_0x5836d9['Transaction'],'action':_0x1f7675[_0x2ef4fe(0x9ce)],'id':_0x1a176c,'parentId':_0x56bf9a,'path':_0x4afe80};await this[_0x2ef4fe(0xa9e)](_0x434569);const _0x14a52a=await this[_0x2ef4fe(0x4c4)](_0x4afe80);!0x0!==this[_0x2ef4fe(0x81a)]?.[_0x2ef4fe(0x41c)]&&await this[_0x2ef4fe(0xb98)](_0x434569),_0x11d8aa['logServiceEvent'](_0x1bf76d['ObjectStorage'],{'type':_0x2ef4fe(0x5be),'label':this[_0x2ef4fe(0x4ea)],'nodeId':this['localNode'][_0x2ef4fe(0x781)](),'nodeType':this[_0x2ef4fe(0x20e)][_0x2ef4fe(0x751)],'clusterId':this['clusterId'],'kind':_0x14a52a,'path':_0x4afe80}),this[_0x2ef4fe(0x6ed)]+=0x1,this['sendStats']();}catch(_0x2c3f4c){if(_0x2c3f4c instanceof _0x1a8c20)throw new _0x447098(_0x35722f[_0x2ef4fe(0xbc4)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x4afe80+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x447098(_0x35722f[_0x2ef4fe(0x5ed)],_0x2ef4fe(0x61e)+_0x4afe80);}}async['get'](_0x33dbc8,_0x147a88){const _0x3f349a=_0x2aff22;_0x11d8aa[_0x3f349a(0x3dc)](_0x1bf76d['ObjectStorage'],{'type':_0x3f349a(0x9de),'label':this[_0x3f349a(0x4ea)],'nodeId':this[_0x3f349a(0x20e)][_0x3f349a(0x781)](),'nodeType':this[_0x3f349a(0x20e)][_0x3f349a(0x751)],'clusterId':this['clusterId'],'path':_0x33dbc8}),this['reads']+=0x1,this[_0x3f349a(0x6c9)]();try{return await this[_0x3f349a(0x5b9)]['get'](_0x33dbc8,_0x147a88);}catch(_0x5c9bbc){try{await this[_0x3f349a(0x5b9)][_0x3f349a(0x9de)](_0x33dbc8+_0x9bcb26);}catch(_0x2ee4f0){throw new _0x447098(_0x35722f[_0x3f349a(0x5ed)],_0x3f349a(0x1ee)+_0x33dbc8);}throw new _0x447098(_0x35722f[_0x3f349a(0xbc4)],_0x3f349a(0x76a));}}async['list'](_0x51241c,_0x5e8389){const _0x39e19c=_0x2aff22,{recursive:_0x1e7dd3=!0x1,includeSyncingFiles:_0x4341b9=!0x1}=_0x5e8389??{};_0x11d8aa[_0x39e19c(0x3dc)](_0x1bf76d[_0x39e19c(0x408)],{'type':_0x39e19c(0x5c1),'label':this[_0x39e19c(0x4ea)],'nodeId':this['localNode'][_0x39e19c(0x781)](),'nodeType':this[_0x39e19c(0x20e)]['type'],'clusterId':this['clusterId'],'path':_0x51241c}),this[_0x39e19c(0xa81)]+=0x1,this['sendStats']();try{const _0x1174dd=await this['objectStoreConnector'][_0x39e19c(0x5c1)](_0x51241c,_0x1e7dd3);return this[_0x39e19c(0x50b)](_0x1174dd,{'recursive':_0x1e7dd3,'includeSyncingFiles':_0x4341b9});}catch(_0xbdac0b){throw new _0x447098(_0x35722f[_0x39e19c(0x5ed)],'Cannot\x20list\x20directory:\x20'+_0x51241c);}}['handleNodeJoin'](_0x463f58){const _0x510a0f=_0x2aff22;this[_0x510a0f(0x9c0)]+=0x1;for(const _0x13cbd3 of this['objectRequests'][_0x510a0f(0xa12)]())this['send'](_0x13cbd3,[_0x463f58]);}[_0x2aff22(0x3ae)](_0x12d18e){const _0x429e65=_0x2aff22;this[_0x429e65(0x9c0)]-=0x1;const _0x39b48b=this[_0x429e65(0x262)][_0x429e65(0x9de)](_0x12d18e);if(_0x39b48b){for(const [_0x10d183,_0x30de4e]of _0x39b48b['values']())this['sendFileRequestPayload'](_0x10d183,_0x30de4e);this[_0x429e65(0x262)][_0x429e65(0xa6b)](_0x12d18e);}}async[_0x2aff22(0x547)](_0x441ff1='/'){const _0x4daaf0=_0x2aff22;try{return await this['objectStoreConnector'][_0x4daaf0(0x2c2)](_0x441ff1);}catch(_0x295019){if(_0x295019 instanceof Error&&_0x295019[_0x4daaf0(0x83d)]['includes'](_0x4daaf0(0x8ce)))return 0x0;throw new _0x447098(_0x35722f[_0x4daaf0(0x5ed)],_0x4daaf0(0x63c)+_0x441ff1);}}[_0x2aff22(0x3c8)](){const _0x30ae49=_0x2aff22;this[_0x30ae49(0xa24)]&&(this[_0x30ae49(0xa24)]=!0x1,this[_0x30ae49(0xbd6)][_0x30ae49(0x9cd)]({'event':_0x182c91[_0x30ae49(0x90f)][_0x30ae49(0xb96)],'payload':{'filesSynced':this[_0x30ae49(0x916)]}}));}async['processList'](_0x55425c,{includeSyncingFiles:_0x3680df=!0x1}){const _0xb87fa0=_0x2aff22,_0x8cb724=[];for(const _0x4250d2 of _0x55425c)if(_0x4250d2[_0xb87fa0(0x493)]!==_0x182c91[_0xb87fa0(0x422)]['Folder']){if(_0x4250d2[_0xb87fa0(0x3b3)]!==_0x51b043){if(_0x4250d2[_0xb87fa0(0x3b3)][_0xb87fa0(0x4be)](_0x9bcb26)){if(!_0x3680df)continue;const _0x4ccc48=_0x4250d2;if(_0x4ccc48['name']=_0x4ccc48[_0xb87fa0(0x3b3)][_0xb87fa0(0x481)](_0x9bcb26,''),_0x4ccc48[_0xb87fa0(0x8ca)]=_0x4ccc48[_0xb87fa0(0x8ca)][_0xb87fa0(0x481)](_0x9bcb26,''),await this['syncedFileExists'](_0x4ccc48['pathName'])){_0x55425c[_0xb87fa0(0x43b)](_0xe84b0a=>_0xe84b0a[_0xb87fa0(0x8ca)]===_0x4ccc48['pathName'])[_0xb87fa0(0x341)]=_0x182c91[_0xb87fa0(0xab4)]['Syncing'];continue;}_0x4ccc48[_0xb87fa0(0x341)]=_0x182c91['FileStatus'][_0xb87fa0(0xaeb)];}_0x8cb724[_0xb87fa0(0x639)](_0x4250d2);}}else _0x4250d2[_0xb87fa0(0x437)]=await this[_0xb87fa0(0x50b)](_0x4250d2[_0xb87fa0(0x437)]??[],{'includeSyncingFiles':_0x3680df}),_0x8cb724[_0xb87fa0(0x639)](_0x4250d2);return _0x8cb724;}async['publishFile'](_0x5f53a6,_0x1ff451,_0x500920){const _0x18c907=_0x2aff22;try{const _0x2b8047=(0x0,_0x360e63['v4'])(),_0x48b4d8=await _0x186e59(_0x5f53a6),_0x559472=_0x2dc45a(_0x1ff451??'/',_0x5f53a6['name']);let _0x37a042=!0x0;const _0x51fc45={'payloadType':_0x5836d9[_0x18c907(0x309)],'action':_0x1f7675['FileWrite'],'id':_0x2b8047,'parentId':this[_0x18c907(0x242)],'answererId':this[_0x18c907(0x20e)]['getId'](),'name':_0x5f53a6[_0x18c907(0x3b3)],'type':_0x5f53a6[_0x18c907(0x751)],'path':_0x1ff451??'/','skipEncryption':_0x500920?.[_0x18c907(0x4a1)]??!0x1,'checksum':_0x48b4d8};try{if(!_0x500920?.['fetchUrl'])throw new Error('Publish\x20the\x20transaction');const _0x4986e5=_0x559472+_0x9bcb26;await this[_0x18c907(0x5b9)][_0x18c907(0x9de)](_0x4986e5),_0x37a042=!0x1,await this['objectStoreConnector']['deleteObject'](_0x4986e5),this[_0x18c907(0xbbd)]['delete'](_0x559472);}catch(_0x110d63){await this[_0x18c907(0xa9e)](_0x51fc45);}if(this[_0x18c907(0x223)]||this['options']?.['standalone']?await this['writeFile'](_0x5f53a6,_0x1ff451,_0x500920):await this[_0x18c907(0x3f6)](_0x5f53a6[_0x18c907(0x3b3)],_0x1ff451??'/',{'checksum':_0x48b4d8,'skipEncryption':_0x500920?.[_0x18c907(0x4a1)]??!0x1}),this[_0x18c907(0x4ef)][_0x18c907(0x938)](_0x559472)){const [_0x445cd3,_0x187aeb]=this[_0x18c907(0x4ef)]['get'](_0x559472);this[_0x18c907(0x4ef)][_0x18c907(0x25c)](_0x559472,[!0x0,_0x187aeb]);try{await _0x187aeb;}catch(_0xa8c5b8){}this[_0x18c907(0x4ef)][_0x18c907(0xa6b)](_0x559472);}_0x37a042&&this['nodesConnected']>0x0&&!0x0!==this[_0x18c907(0x81a)]?.[_0x18c907(0x41c)]&&await this[_0x18c907(0x543)](_0x5f53a6,_0x51fc45),_0x11d8aa[_0x18c907(0x3dc)](_0x1bf76d[_0x18c907(0x408)],{'type':_0x18c907(0x9cd),'label':this['label'],'nodeId':this['localNode'][_0x18c907(0x781)](),'nodeType':this[_0x18c907(0x20e)][_0x18c907(0x751)],'clusterId':this[_0x18c907(0x3d0)],'kind':_0x182c91[_0x18c907(0x422)]['File'],'path':_0x1ff451,'fileName':_0x5f53a6[_0x18c907(0x3b3)],'fileType':_0x5f53a6[_0x18c907(0x751)],'size':_0x5f53a6[_0x18c907(0x5ab)]}),this[_0x18c907(0x6ed)]+=0x1,this[_0x18c907(0x6c9)]();}catch(_0x101c47){if(_0x101c47 instanceof _0x1a8c20)throw new _0x447098(_0x35722f[_0x18c907(0xbc4)],_0x18c907(0x76a));throw new _0x447098(_0x35722f[_0x18c907(0x5ed)],'Cannot\x20publish\x20file:\x20'+_0x1ff451+(_0x1ff451?.[_0x18c907(0x4be)]('/')?'':'/')+_0x5f53a6[_0x18c907(0x3b3)]);}}async[_0x2aff22(0x215)](_0x27870e){const _0x2ae6d4=_0x2aff22;try{const _0x4324ff=(0x0,_0x360e63['v4'])(),_0x585f5b=this[_0x2ae6d4(0x242)],_0x397fec={'payloadType':_0x5836d9[_0x2ae6d4(0x309)],'action':_0x1f7675[_0x2ae6d4(0x674)],'id':_0x4324ff,'parentId':_0x585f5b,'path':_0x27870e};await this[_0x2ae6d4(0xa9e)](_0x397fec),await this[_0x2ae6d4(0x5b9)][_0x2ae6d4(0x574)](_0x27870e),!0x0!==this[_0x2ae6d4(0x81a)]?.[_0x2ae6d4(0x41c)]&&await this[_0x2ae6d4(0xb98)](_0x397fec),_0x11d8aa[_0x2ae6d4(0x3dc)](_0x1bf76d['ObjectStorage'],{'type':'publish','label':this[_0x2ae6d4(0x4ea)],'nodeId':this[_0x2ae6d4(0x20e)]['getId'](),'nodeType':this[_0x2ae6d4(0x20e)]['type'],'clusterId':this[_0x2ae6d4(0x3d0)],'kind':_0x182c91[_0x2ae6d4(0x422)][_0x2ae6d4(0xa8e)],'path':_0x27870e}),this[_0x2ae6d4(0x6ed)]+=0x1,this[_0x2ae6d4(0x6c9)]();}catch(_0x289b67){if(_0x289b67 instanceof _0x1a8c20)throw new _0x447098(_0x35722f[_0x2ae6d4(0xbc4)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x447098(_0x35722f[_0x2ae6d4(0x5ed)],'Cannot\x20publish\x20folder:\x20'+_0x27870e);}}async['publishMove'](_0x3eeba2,_0x14f5c8){const _0x13be05=_0x2aff22;try{const _0x2c143e=(0x0,_0x360e63['v4'])(),_0x2ae744=this[_0x13be05(0x242)],_0x528352={'payloadType':_0x5836d9[_0x13be05(0x309)],'action':_0x1f7675[_0x13be05(0xbdb)],'id':_0x2c143e,'parentId':_0x2ae744,'path':_0x3eeba2,'newPath':_0x14f5c8};await this[_0x13be05(0xa9e)](_0x528352);const _0x150c92=await this[_0x13be05(0x4c9)](_0x3eeba2,_0x14f5c8);!0x0!==this[_0x13be05(0x81a)]?.[_0x13be05(0x41c)]&&await this[_0x13be05(0xb98)](_0x528352),_0x11d8aa[_0x13be05(0x3dc)](_0x1bf76d[_0x13be05(0x408)],{'type':_0x13be05(0xad1),'label':this[_0x13be05(0x4ea)],'nodeId':this['localNode'][_0x13be05(0x781)](),'nodeType':this[_0x13be05(0x20e)][_0x13be05(0x751)],'clusterId':this[_0x13be05(0x3d0)],'kind':_0x150c92,'path':_0x3eeba2,'newPath':_0x14f5c8}),this[_0x13be05(0x6ed)]+=0x1,this[_0x13be05(0x6c9)]();}catch(_0x33277e){if(_0x33277e instanceof _0x1a8c20)throw new _0x447098(_0x35722f[_0x13be05(0xbc4)],_0x13be05(0x76a));throw new _0x447098(_0x35722f[_0x13be05(0x5ed)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x3eeba2);}}async[_0x2aff22(0x858)](_0x2a780d,_0x3cc92b=!0x1){const _0x57ab19=_0x2aff22;if(this[_0x57ab19(0x242)]&&_0x2a780d[_0x57ab19(0x45b)]!==this[_0x57ab19(0x242)]&&_0x2a780d['id']!==this[_0x57ab19(0x242)]){if(!_0x2a780d[_0x57ab19(0x45b)])throw new _0x1a8c20(_0x1a8c20['codes']['ObjectStoreInvalidSyncMessage']);this[_0x57ab19(0x6c3)]['set'](_0x2a780d[_0x57ab19(0x45b)],_0x2a780d);}else{try{await this[_0x57ab19(0x7cc)](_0x2a780d,_0x3cc92b);}catch(_0x49213e){}await this[_0x57ab19(0xbbf)](_0x2a780d['id']),await this[_0x57ab19(0x8d5)](_0x2a780d['id'],_0x3cc92b);}}async[_0x2aff22(0x7cc)](_0xd20fdb,_0x375afd=!0x1){const _0x445bc1=_0x2aff22;switch(_0xd20fdb[_0x445bc1(0x616)]){case _0x1f7675[_0x445bc1(0xa2b)]:await this[_0x445bc1(0x7d6)](_0xd20fdb);break;case _0x1f7675[_0x445bc1(0x674)]:await this[_0x445bc1(0x396)](_0xd20fdb);break;case _0x1f7675['Move']:await this['handleObjectMove'](_0xd20fdb,_0x375afd);break;case _0x1f7675[_0x445bc1(0x9ce)]:await this[_0x445bc1(0xb08)](_0xd20fdb,_0x375afd);break;default:throw new _0x1a8c20(_0x1a8c20[_0x445bc1(0x92d)][_0x445bc1(0x496)],{'payload':_0xd20fdb});}}async[_0x2aff22(0x8d5)](_0x101b6b,_0xe51b29=!0x1){const _0x2dc536=_0x2aff22;if(this[_0x2dc536(0x6c3)][_0x2dc536(0x938)](_0x101b6b)){const _0x4f5226=this[_0x2dc536(0x6c3)]['get'](_0x101b6b);this[_0x2dc536(0x6c3)][_0x2dc536(0xa6b)](_0x101b6b),await this[_0x2dc536(0x858)](_0x4f5226,_0xe51b29);}}async[_0x2aff22(0xac2)](_0x52b489){const _0x49b0c8=_0x2aff22;switch(_0x52b489[_0x49b0c8(0x616)]){case _0x1f7675[_0x49b0c8(0x29d)]:return this['handleFileRequest'](_0x52b489);case _0x1f7675[_0x49b0c8(0xadc)]:return this[_0x49b0c8(0x967)](_0x52b489);case _0x1f7675[_0x49b0c8(0x22e)]:return this['handleFileSync'](_0x52b489);case _0x1f7675[_0x49b0c8(0x80a)]:return this['handleFileWrite'](_0x52b489);default:throw new _0x1a8c20(_0x1a8c20['codes'][_0x49b0c8(0x496)],{'payload':_0x52b489});}}async['handleFileWrite'](_0x3362ca,_0x577491=0x0){const _0x5d5f04=_0x2aff22,_0x13bf87=_0x2dc45a(_0x3362ca[_0x5d5f04(0x24f)],_0x3362ca[_0x5d5f04(0x3b3)]);if(!_0x3362ca['data']||void 0x0===_0x3362ca['index']||!_0x3362ca['total'])return this['fileChunks'][_0x5d5f04(0xa6b)](_0x13bf87),void await this[_0x5d5f04(0x3f6)](_0x3362ca['name'],_0x3362ca[_0x5d5f04(0x24f)],{'checksum':_0x3362ca[_0x5d5f04(0xb43)],'skipEncryption':_0x3362ca[_0x5d5f04(0x4a1)]});if(this[_0x5d5f04(0xa0e)]['has'](_0x13bf87)){const _0x434362=this[_0x5d5f04(0xa0e)]['get'](_0x13bf87);_0x434362[_0x5d5f04(0xb43)]!==_0x3362ca['checksum']&&(_0x434362[_0x5d5f04(0x86f)]?.[_0x5d5f04(0x566)](),this[_0x5d5f04(0xa0e)][_0x5d5f04(0xa6b)](_0x13bf87));}if(!this[_0x5d5f04(0xa0e)][_0x5d5f04(0x938)](_0x13bf87)){try{await this[_0x5d5f04(0x5b9)][_0x5d5f04(0x4c4)](_0x13bf87);}catch(_0x5721e2){}try{const _0x18ed0a=this['syncContent']?await this[_0x5d5f04(0x5b9)][_0x5d5f04(0x2d9)](_0x13bf87,{'skipEncryption':_0x3362ca[_0x5d5f04(0x4a1)]}):void 0x0,_0x24d5b4={'chunksReceived':_0x3362ca[_0x5d5f04(0x838)]??0x0,'bytesReceived':0x0,'stream':_0x18ed0a,'checksum':_0x3362ca[_0x5d5f04(0xb43)]};this['fileChunks'][_0x5d5f04(0x25c)](_0x13bf87,_0x24d5b4),await this[_0x5d5f04(0x3f6)](_0x3362ca['name'],_0x3362ca['path'],{'checksum':_0x3362ca[_0x5d5f04(0xb43)],'skipEncryption':_0x3362ca[_0x5d5f04(0x4a1)]});}catch(_0x2390ee){}}const _0x405da5=this[_0x5d5f04(0xa0e)][_0x5d5f04(0x9de)](_0x13bf87);if(_0x3362ca['checksum']!==_0x405da5[_0x5d5f04(0xb43)])return;if(this[_0x5d5f04(0x6eb)](_0x3362ca,_0x13bf87),this[_0x5d5f04(0x223)]){if(!_0x405da5['stream'])throw new _0x1a8c20(_0x1a8c20[_0x5d5f04(0x92d)][_0x5d5f04(0x496)],{'message':_0x5d5f04(0x22f)});let _0x2265cf=_0x405da5[_0x5d5f04(0x95e)];if(_0x3362ca[_0x5d5f04(0x787)]!==_0x2265cf){if(_0x2265cf>_0x3362ca[_0x5d5f04(0x787)])return;const _0x2547e8=0x1000;if(_0x3362ca['index']>_0x2265cf+_0x2547e8)return;if(_0x405da5[_0x5d5f04(0x9e2)]||(_0x405da5[_0x5d5f04(0x9e2)]=[]),_0x405da5[_0x5d5f04(0x9e2)][_0x5d5f04(0x482)]>0x4000)throw this['fileChunks'][_0x5d5f04(0xa6b)](_0x13bf87),new _0x1a8c20(_0x1a8c20[_0x5d5f04(0x92d)][_0x5d5f04(0x496)],{'message':_0x5d5f04(0x227)});return void _0x405da5[_0x5d5f04(0x9e2)][_0x5d5f04(0x639)](_0x3362ca);}try{_0x405da5[_0x5d5f04(0x95e)]+=0x1,_0x405da5[_0x5d5f04(0x664)]+=_0x3362ca[_0x5d5f04(0x8e6)][_0x5d5f04(0x7c6)],await _0x405da5[_0x5d5f04(0x86f)][_0x5d5f04(0x558)](_0x3362ca['data']);}catch(_0x1ceeaf){if(console[_0x5d5f04(0x730)](_0x5d5f04(0xb18),_0x1ceeaf),_0x577491>0x3)throw this['fileChunks']['delete'](_0x13bf87),console[_0x5d5f04(0x730)](_0x5d5f04(0xa64),_0x1ceeaf),new _0x1a8c20(_0x1a8c20[_0x5d5f04(0x92d)][_0x5d5f04(0x496)],{'message':_0x5d5f04(0xa64)});return this[_0x5d5f04(0x7d6)](_0x3362ca,_0x577491+0x1);}}try{await this[_0x5d5f04(0x380)](_0x405da5,_0x3362ca[_0x5d5f04(0x787)]+0x1);}catch(_0x38b333){throw this[_0x5d5f04(0xa0e)][_0x5d5f04(0xa6b)](_0x13bf87),_0x38b333;}if(this[_0x5d5f04(0xa0e)][_0x5d5f04(0x25c)](_0x13bf87,_0x405da5),_0x405da5[_0x5d5f04(0x95e)]<_0x3362ca[_0x5d5f04(0x1b7)])return;await this[_0x5d5f04(0x573)](_0x13bf87),this[_0x5d5f04(0x223)]&&(await this[_0x5d5f04(0x743)](_0x3362ca),_0x11d8aa[_0x5d5f04(0x3dc)](_0x1bf76d[_0x5d5f04(0x408)],{'type':_0x5d5f04(0x1e0),'label':this[_0x5d5f04(0x4ea)],'nodeId':this[_0x5d5f04(0x20e)][_0x5d5f04(0x781)](),'nodeType':this[_0x5d5f04(0x20e)]['type'],'clusterId':this[_0x5d5f04(0x3d0)],'kind':_0x182c91[_0x5d5f04(0x422)][_0x5d5f04(0xa78)],'path':_0x3362ca[_0x5d5f04(0x24f)],'fileName':_0x3362ca[_0x5d5f04(0x3b3)],'fileType':_0x3362ca[_0x5d5f04(0x751)],'size':_0x405da5[_0x5d5f04(0x664)]}));const _0x45b92d=this['pendingFilesTransactions']['get'](_0x3362ca['path'])??[];for(const _0x54b19b of _0x45b92d)await this[_0x5d5f04(0x7cc)](_0x54b19b);this['pendingFilesTransactions']['delete'](_0x3362ca[_0x5d5f04(0x24f)]),this[_0x5d5f04(0xbd6)]['publish']({'event':_0x182c91[_0x5d5f04(0x90f)][_0x5d5f04(0xa2b)],'payload':{'file':{'kind':_0x182c91[_0x5d5f04(0x422)]['File'],'path':_0x3362ca[_0x5d5f04(0x24f)],'type':_0x3362ca[_0x5d5f04(0x751)],'size':_0x405da5[_0x5d5f04(0x664)],'name':_0x3362ca[_0x5d5f04(0x3b3)],'pathName':_0x13bf87,'status':this[_0x5d5f04(0x223)]?_0x182c91['FileStatus']['Synced']:_0x182c91[_0x5d5f04(0xab4)]['Pending']}}}),this[_0x5d5f04(0x6c9)]();}async[_0x2aff22(0x380)](_0x3b581c,_0x2f039d){const _0x2d2128=_0x2aff22,_0x397194=_0x3b581c['stream'];let _0x46981e=0x0;for(;_0x3b581c['bufferedChunks']&&_0x3b581c[_0x2d2128(0x9e2)][_0x2d2128(0x482)]>0x0;){const _0x361135=_0x3b581c[_0x2d2128(0x9e2)]['find'](_0x57a11d=>_0x57a11d[_0x2d2128(0x787)]===_0x2f039d+0x1);if(!_0x361135)break;_0x3b581c[_0x2d2128(0x9e2)]=_0x3b581c[_0x2d2128(0x9e2)][_0x2d2128(0xae8)](_0x2e05e6=>_0x2e05e6['index']!==_0x2f039d+0x1);try{await _0x397194['write'](_0x361135[_0x2d2128(0x8e6)]),_0x2f039d++;}catch(_0x216a52){if(console['error'](_0x2d2128(0x75b),_0x216a52),_0x46981e>0x3)throw console[_0x2d2128(0x730)](_0x2d2128(0x322),_0x216a52),new _0x1a8c20(_0x1a8c20[_0x2d2128(0x92d)][_0x2d2128(0x496)],{'message':_0x2d2128(0x322)});_0x46981e++;continue;}_0x3b581c[_0x2d2128(0x95e)]+=0x1,_0x3b581c[_0x2d2128(0x664)]+=_0x361135[_0x2d2128(0x8e6)][_0x2d2128(0x7c6)];}}async['handleFolderCreate'](_0xf6d890){const _0x1e21de=_0x2aff22;await this[_0x1e21de(0x5b9)][_0x1e21de(0x574)](_0xf6d890['path']);const [_0x433039,_0x5ac3df]=_0x1b819c(_0xf6d890['path']);this[_0x1e21de(0xbd6)][_0x1e21de(0x9cd)]({'event':_0x182c91[_0x1e21de(0x90f)]['FolderCreate'],'payload':{'folder':{'kind':_0x182c91[_0x1e21de(0x422)][_0x1e21de(0xa8e)],'name':_0x5ac3df,'path':_0x433039,'pathName':_0xf6d890['path']}}});}async[_0x2aff22(0xb08)](_0x4b6782,_0x225674=!0x1){const _0x37f72c=_0x2aff22;if(!_0x225674&&!this['shouldProcessTransaction'](_0x4b6782))return;const _0x468f1a=await this[_0x37f72c(0x4c4)](_0x4b6782[_0x37f72c(0x24f)]),[_0x3e975a,_0x55cf4e]=_0x1b819c(_0x4b6782[_0x37f72c(0x24f)]);this[_0x37f72c(0xbd6)][_0x37f72c(0x9cd)]({'event':_0x468f1a===_0x182c91['ObjectKind'][_0x37f72c(0xa8e)]?_0x182c91[_0x37f72c(0x90f)]['FolderDelete']:_0x182c91[_0x37f72c(0x90f)][_0x37f72c(0x791)],'payload':{'name':_0x55cf4e,'path':_0x3e975a,'pathName':_0x4b6782[_0x37f72c(0x24f)]}}),this[_0x37f72c(0x6c9)]();}async[_0x2aff22(0xa5c)](_0x5db2a9,_0x1af7a9=!0x1){const _0x31e11c=_0x2aff22;if(!_0x1af7a9&&!this[_0x31e11c(0x314)](_0x5db2a9))return this[_0x31e11c(0x97a)][_0x31e11c(0x25c)](_0x5db2a9[_0x31e11c(0x2cf)],this[_0x31e11c(0x97a)]['get'](_0x5db2a9['path'])??_0x5db2a9[_0x31e11c(0x24f)]),void this[_0x31e11c(0x97a)]['delete'](_0x5db2a9[_0x31e11c(0x24f)]);this['pendingFilesRename'][_0x31e11c(0xa6b)](_0x5db2a9[_0x31e11c(0x24f)]);const _0x2ff896=await this['objectStoreConnector']['moveObject'](_0x5db2a9[_0x31e11c(0x24f)],_0x5db2a9[_0x31e11c(0x2cf)]),[_0x4e3529,_0x4d6e5f]=_0x1b819c(_0x5db2a9[_0x31e11c(0x24f)]),[_0x2425e0,_0x1f0ada]=_0x1b819c(_0x5db2a9['newPath']);this[_0x31e11c(0xbd6)][_0x31e11c(0x9cd)]({'event':_0x2ff896===_0x182c91[_0x31e11c(0x422)][_0x31e11c(0xa8e)]?_0x182c91[_0x31e11c(0x90f)]['FolderMove']:_0x182c91[_0x31e11c(0x90f)][_0x31e11c(0x4b7)],'payload':{'name':_0x1f0ada,'path':_0x2425e0,'pathName':_0x5db2a9[_0x31e11c(0x2cf)],'oldName':_0x4d6e5f,'oldPath':_0x4e3529,'oldPathName':_0x5db2a9['path']}}),this[_0x31e11c(0x6c9)]();}[_0x2aff22(0x314)](_0x31af0c){const _0x36a6e0=_0x2aff22,_0x4f7ed0=this[_0x36a6e0(0x97a)][_0x36a6e0(0x9de)](_0x31af0c[_0x36a6e0(0x24f)])??_0x31af0c['path'];let _0x49e902=!0x1;for(const _0x44b32c of this['fileChunks']['keys']())if(_0x44b32c[_0x36a6e0(0x606)](_0x4f7ed0)){const _0x3ec84e=this[_0x36a6e0(0xb26)][_0x36a6e0(0x9de)](_0x44b32c)??[];_0x3ec84e[_0x36a6e0(0x639)](_0x31af0c),this[_0x36a6e0(0xb26)]['set'](_0x44b32c,_0x3ec84e),_0x49e902=!0x0;}return!_0x49e902;}async['publishTransaction'](_0x270a9d){const _0x25c5ed=_0x2aff22;if(!this['options']?.[_0x25c5ed(0x41c)]){if(!_0x270a9d['id'])throw new _0x1a8c20(_0x1a8c20[_0x25c5ed(0x92d)][_0x25c5ed(0x496)],{'message':_0x25c5ed(0x83b)});if(_0x270a9d[_0x25c5ed(0x45b)]!==this['lastTransactionId'])throw new _0x1a8c20(_0x1a8c20[_0x25c5ed(0x92d)][_0x25c5ed(0x289)]);await this[_0x25c5ed(0xbc6)]['writeTransaction'](_0x270a9d,this[_0x25c5ed(0x4ea)]),await this['updateLastTransactionId'](_0x270a9d['id']);}}async['updateLastTransactionId'](_0x351b65){const _0x4130e4=_0x2aff22;this[_0x4130e4(0x242)]=_0x351b65;const _0x1d6300=new File([new Blob([this[_0x4130e4(0x242)]])],_0x51b043,{'type':_0x4130e4(0x65b)});await this['writeFile'](_0x1d6300,'/');}async['handleFileRequest'](_0x33f35b){const _0x3289fd=_0x2aff22;try{const _0x502f32=await this[_0x3289fd(0x9de)](_0x33f35b[_0x3289fd(0x24f)]+'/'+_0x33f35b[_0x3289fd(0x3b3)],{'skipEncryption':_0x33f35b['skipEncryption']}),_0x20145c=await _0x186e59(_0x502f32);if(''!==_0x33f35b[_0x3289fd(0xb43)]&&_0x20145c!==_0x33f35b[_0x3289fd(0xb43)])return;_0x33f35b[_0x3289fd(0x492)]=this[_0x3289fd(0x20e)][_0x3289fd(0x781)](),_0x33f35b['action']=_0x1f7675[_0x3289fd(0xadc)],await this['send'](_0x33f35b,[_0x33f35b[_0x3289fd(0xb28)]]);}catch(_0x38bf70){}}async[_0x2aff22(0x967)](_0x3ca31b){const _0x20ce21=_0x2aff22,_0x40a0d2=_0x2dc45a(_0x3ca31b[_0x20ce21(0x24f)],_0x3ca31b[_0x20ce21(0x3b3)]);if(!this[_0x20ce21(0xbbd)][_0x20ce21(0x938)](_0x40a0d2))return;const _0xc08df0=this[_0x20ce21(0xbbd)][_0x20ce21(0x9de)](_0x40a0d2);_0xc08df0[_0x20ce21(0x616)]=_0x1f7675[_0x20ce21(0x22e)];const _0x4582c3=_0x3ca31b[_0x20ce21(0x492)];if(!_0x4582c3)throw new _0x1a8c20(_0x1a8c20[_0x20ce21(0x92d)][_0x20ce21(0x496)],{'message':_0x20ce21(0x8f4)});if(this[_0x20ce21(0xbbd)]['delete'](_0x40a0d2),this[_0x20ce21(0x262)]['has'](_0x4582c3)||this[_0x20ce21(0x262)][_0x20ce21(0x25c)](_0x4582c3,new Map()),this[_0x20ce21(0x262)]['get'](_0x4582c3)[_0x20ce21(0x25c)](_0x40a0d2,[_0xc08df0,this[_0x20ce21(0x659)](_0x4582c3,_0x40a0d2)]),_0xc08df0[_0x20ce21(0x492)]=_0x4582c3,_0xc08df0[_0x20ce21(0x838)]=this[_0x20ce21(0xa0e)][_0x20ce21(0x9de)](_0x40a0d2)?.[_0x20ce21(0x95e)]??0x0,0x0===_0xc08df0[_0x20ce21(0x838)])try{const [_0xb3a848,_0x2347b3]=await this[_0x20ce21(0x2c6)](_0x3ca31b['name'],_0x3ca31b[_0x20ce21(0x24f)],_0x3ca31b['checksum']);_0xb3a848&&(_0xc08df0[_0x20ce21(0x838)]=_0x2347b3);}catch(_0x2578d7){}this['send'](_0xc08df0,[_0x4582c3]);}async[_0x2aff22(0x692)](_0x562156){const _0x242974=_0x2aff22,_0x56cdd6=_0x2dc45a(_0x562156[_0x242974(0x24f)],_0x562156[_0x242974(0x3b3)]),_0x9861ec=await this[_0x242974(0x9de)](_0x56cdd6,{'skipEncryption':_0x562156[_0x242974(0x4a1)]}),_0xe41ec9={..._0x562156,'answererId':this[_0x242974(0x20e)][_0x242974(0x781)](),'action':_0x1f7675['RequestFileWrite'],'startIndex':_0x562156[_0x242974(0x838)]??0x0};await this['sendFile'](_0x9861ec,_0xe41ec9,[_0x562156[_0x242974(0xb28)]]);}async['sendFile'](_0x4efd93,_0x77d1de,_0xbdfcfd){let _0x1c06a1,_0x29b908;const _0x41cc66=new Promise(async(_0x39285e,_0x22ff0b)=>{_0x1c06a1=_0x39285e,_0x29b908=_0x22ff0b;});return((async()=>{const _0x42b450=a0_0x314b,_0x7360dc=Math[_0x42b450(0x700)](_0x4efd93['size']/_0x3a1dbf);let _0x4d05f3=_0x77d1de[_0x42b450(0x838)]??0x0;const _0x3151f9=_0x2dc45a(_0x77d1de[_0x42b450(0x24f)],_0x77d1de[_0x42b450(0x3b3)]);this[_0x42b450(0x4ef)]['set'](_0x3151f9,[!0x1,_0x41cc66]);for await(const _0x3eb0d7 of async function*(_0xc0904e,_0x5310bd=0x0,_0x265397){for await(const _0x4726a5 of _0x1d4bba(_0xc0904e,_0x5310bd,_0x265397))yield _0x4726a5;}(_0x4efd93,_0x4d05f3,this[_0x42b450(0x5ea)])){const [_0x3f27d9]=this[_0x42b450(0x4ef)]['get'](_0x3151f9)??[];if(_0x3f27d9)return this[_0x42b450(0x4ef)]['delete'](_0x3151f9),void _0x29b908(new Error(_0x42b450(0x8e2)));if(this['pendingFilesTransactions'][_0x42b450(0x938)](_0x3151f9)){const _0x43d1cf=this[_0x42b450(0xb26)][_0x42b450(0x9de)](_0x3151f9);for(const _0xe95c3c of _0x43d1cf)if(_0xe95c3c[_0x42b450(0x616)]===_0x1f7675[_0x42b450(0xa2b)]||_0xe95c3c['action']===_0x1f7675[_0x42b450(0x9ce)])return;}const _0x446928={..._0x77d1de,'type':_0x4efd93['type'],'data':_0x3eb0d7,'index':_0x4d05f3,'total':_0x7360dc};this[_0x42b450(0xb98)](_0x446928,_0xbdfcfd),_0x4d05f3++;}const _0x2c115e=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x2c115e),_0x1c06a1());});this[_0x42b450(0x4ef)][_0x42b450(0xa6b)](_0x3151f9);})()),_0x41cc66;}async[_0x2aff22(0x743)](_0x599a31){const _0x184cce=_0x2aff22;try{const _0x45c3c2=_0x2dc45a(_0x599a31[_0x184cce(0x24f)],_0x599a31[_0x184cce(0x3b3)]),_0x25ff21=_0x45c3c2+_0x9bcb26;await this[_0x184cce(0x4c4)](_0x25ff21);const [,_0x277c6f]=this['pendingFilesSyncing']['get'](_0x599a31[_0x184cce(0x492)])?.[_0x184cce(0x9de)](_0x45c3c2)??[];_0x277c6f&&(clearTimeout(_0x277c6f),this['pendingFilesSyncing'][_0x184cce(0x9de)](_0x599a31[_0x184cce(0x492)])[_0x184cce(0xa6b)](_0x45c3c2));}catch(_0xf383c2){}0x0===this[_0x184cce(0x262)][_0x184cce(0x9de)](_0x599a31['answererId'])?.[_0x184cce(0x5ab)]&&this[_0x184cce(0x262)][_0x184cce(0xa6b)](_0x599a31['answererId']),0x0===this['pendingFilesSyncing'][_0x184cce(0x5ab)]&&0x0===this[_0x184cce(0xbbd)][_0x184cce(0x5ab)]&&this[_0x184cce(0x3c8)]();}async['syncTransactions'](){const _0xec9013=_0x2aff22;try{const _0x1962c7=await this['transactionService'][_0xec9013(0x2ab)](this[_0xec9013(0x4ea)],this['lastTransactionId']);for(const _0x8906bc of _0x1962c7)await this[_0xec9013(0x858)](_0x8906bc,!0x0);}catch(_0x12786d){if(_0x12786d instanceof _0x1a8c20&&_0x12786d['code']===_0x1a8c20[_0xec9013(0x92d)][_0xec9013(0x7da)]){await this[_0xec9013(0x5b9)][_0xec9013(0x4c4)](_0x51b043),delete this[_0xec9013(0x242)];try{const _0x39ca2f=await this[_0xec9013(0x5b9)][_0xec9013(0x5c1)]('/',!0x1);for(const _0xb5be72 of _0x39ca2f)await this[_0xec9013(0x5b9)][_0xec9013(0x4c4)](_0xb5be72['pathName']);}catch(_0x1dd76b){}return await this[_0xec9013(0x22c)]();}throw _0x12786d;}}async[_0x2aff22(0xb4f)](){const _0x56e772=_0x2aff22,_0x372e3c=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x2236b3=async _0x4d7fdf=>{const _0xa1e70f=a0_0x314b;for(const _0x46a32c of _0x4d7fdf){if(_0x46a32c[_0xa1e70f(0x493)]===_0x182c91[_0xa1e70f(0x422)][_0xa1e70f(0xa8e)]){_0x46a32c['entries']&&_0x46a32c[_0xa1e70f(0x437)][_0xa1e70f(0x482)]>0x0&&await _0x2236b3(_0x46a32c['entries']);continue;}if(_0x46a32c[_0xa1e70f(0x341)]!==_0x182c91[_0xa1e70f(0xab4)][_0xa1e70f(0xaeb)])continue;const _0x1672c3=await this['get'](_0x46a32c[_0xa1e70f(0x8ca)]+_0x9bcb26),_0x4627cd=JSON[_0xa1e70f(0x255)](await _0x1672c3[_0xa1e70f(0x9a0)]()),_0x343b31=_0x46a32c[_0xa1e70f(0x3b3)][_0xa1e70f(0x481)](_0x9bcb26,''),_0x148d9b={'payloadType':_0x5836d9['Request'],'action':_0x1f7675[_0xa1e70f(0x29d)],'sourceId':this[_0xa1e70f(0x20e)]['getId'](),'type':'','path':_0x46a32c[_0xa1e70f(0x24f)],'name':_0x343b31,'checksum':_0x4627cd[_0xa1e70f(0xb43)],'skipEncryption':_0x4627cd[_0xa1e70f(0x4a1)]},_0xfe865d=_0x2dc45a(_0x46a32c[_0xa1e70f(0x24f)],_0x343b31);this[_0xa1e70f(0xbbd)][_0xa1e70f(0x25c)](_0xfe865d,_0x148d9b);}};await _0x2236b3(_0x372e3c),0x0===this['objectRequests'][_0x56e772(0x5ab)]&&0x0===this[_0x56e772(0x262)]['size']&&this[_0x56e772(0x3c8)]();}async[_0x2aff22(0x3f6)](_0x440d5f,_0x23291d,_0x667ff9){const _0x2807e8=_0x2aff22,_0x3d180c=new File([new Blob([JSON[_0x2807e8(0x438)](_0x667ff9)])],''+_0x440d5f+_0x9bcb26,{'type':'text/plain'});await this['writeFile'](_0x3d180c,_0x23291d);}async[_0x2aff22(0x2c6)](_0x1175fb,_0x3e4124,_0x4d236d){const _0x585823=_0x2aff22;try{const _0x5840e0=_0x2dc45a(_0x3e4124,_0x1175fb),_0x44dfa8=_0x5840e0+_0x9bcb26,_0xc8eb1d=await this[_0x585823(0x5b9)][_0x585823(0x9de)](_0x44dfa8),{checksum:_0x1c4df5,skipEncryption:_0x38f0af}=JSON[_0x585823(0x255)](await _0xc8eb1d['text']()),_0xdc0ed1=(await this['objectStoreConnector'][_0x585823(0x9de)](_0x5840e0,{'skipEncryption':_0x38f0af}))[_0x585823(0x5ab)];return _0x1c4df5===_0x4d236d&&_0xdc0ed1%_0x3a1dbf==0x0?[!0x0,Math[_0x585823(0x94c)](_0xdc0ed1/_0x3a1dbf)]:(await this['objectStoreConnector'][_0x585823(0x4c4)](_0x5840e0),[!0x1,0x0]);}catch(_0x25eb88){return[!0x1,0x0];}}[_0x2aff22(0x659)](_0x4b1e78,_0x5ed040){const [_0x20309a,_0x45747a]=this['pendingFilesSyncing']['get'](_0x4b1e78)?.['get'](_0x5ed040)??[];return _0x45747a&&clearTimeout(_0x45747a),setTimeout(()=>{const _0x367c28=a0_0x314b,[_0x1202e4,_0x57a28e]=this[_0x367c28(0x262)][_0x367c28(0x9de)](_0x4b1e78)['get'](_0x5ed040);this[_0x367c28(0xa3f)](_0x1202e4,_0x57a28e);},0x927c0);}async[_0x2aff22(0xa3f)](_0x3b6be8,_0x5cb10c){const _0x182f41=_0x2aff22;clearTimeout(_0x5cb10c),_0x3b6be8[_0x182f41(0x616)]=_0x1f7675[_0x182f41(0x29d)],this[_0x182f41(0xbbd)][_0x182f41(0x25c)](_0x2dc45a(_0x3b6be8['path'],_0x3b6be8['name']),_0x3b6be8),this[_0x182f41(0xb98)](_0x3b6be8);}[_0x2aff22(0x6eb)](_0x21ef73,_0x58de50){const _0xc2b429=_0x2aff22;if(!this['syncContent'])return;this[_0xc2b429(0x262)][_0xc2b429(0x938)](_0x21ef73[_0xc2b429(0x492)])||this[_0xc2b429(0x262)][_0xc2b429(0x25c)](_0x21ef73[_0xc2b429(0x492)],new Map());const [_0x4f129a]=this[_0xc2b429(0x262)][_0xc2b429(0x9de)](_0x21ef73[_0xc2b429(0x492)])[_0xc2b429(0x9de)](_0x58de50)??[{'payloadType':_0x5836d9['Request'],'action':_0x1f7675[_0xc2b429(0x29d)],'sourceId':this[_0xc2b429(0x20e)][_0xc2b429(0x781)](),'type':_0x21ef73[_0xc2b429(0x751)],'name':_0x21ef73[_0xc2b429(0x3b3)],'path':_0x21ef73[_0xc2b429(0x24f)],'skipEncryption':_0x21ef73['skipEncryption'],'checksum':_0x21ef73[_0xc2b429(0xb43)],'answererId':_0x21ef73['answererId']}];this[_0xc2b429(0x262)][_0xc2b429(0x9de)](_0x21ef73[_0xc2b429(0x492)])[_0xc2b429(0x25c)](_0x58de50,[_0x4f129a,this[_0xc2b429(0x659)](_0x21ef73['answererId'],_0x58de50)]);}async[_0x2aff22(0x27a)](_0x2be1da,_0x3a0442,_0x41420d){const _0x268e9f=_0x2aff22;this['isSyncing']&&(this[_0x268e9f(0x916)]+=0x1),await this[_0x268e9f(0x5b9)][_0x268e9f(0x27a)](_0x2be1da,_0x3a0442,_0x41420d);}async['deleteObject'](_0xbe1ba6){const _0x184a85=_0x2aff22;try{const _0x3c8b7c=await this['objectStoreConnector']['deleteObject'](_0xbe1ba6);if(!_0xbe1ba6[_0x184a85(0x4be)](_0x9bcb26))try{await this['objectStoreConnector'][_0x184a85(0x4c4)](_0xbe1ba6+_0x9bcb26);}catch(_0x23ce92){}return this[_0x184a85(0xa24)]&&_0x3c8b7c===_0x182c91[_0x184a85(0x422)][_0x184a85(0xa78)]&&(this[_0x184a85(0x916)]+=0x1),_0x3c8b7c;}catch(_0x116689){return await this[_0x184a85(0x5b9)][_0x184a85(0x4c4)](_0xbe1ba6+_0x9bcb26);}}async['moveObject'](_0x12414d,_0x16712b){const _0x5798b5=_0x2aff22;try{const _0x34d2f4=await this['objectStoreConnector']['moveObject'](_0x12414d,_0x16712b);if(!_0x12414d[_0x5798b5(0x4be)](_0x9bcb26))try{await this[_0x5798b5(0x5b9)][_0x5798b5(0x4c9)](_0x12414d+_0x9bcb26,_0x16712b+_0x9bcb26);}catch(_0x180f4f){}return _0x34d2f4;}catch(_0x3f93ff){return await this['objectStoreConnector'][_0x5798b5(0x4c9)](_0x12414d+_0x9bcb26,_0x16712b+_0x9bcb26);}}[_0x2aff22(0x6c9)](){const _0x329853=_0x2aff22;this[_0x329853(0x28b)]&&clearTimeout(this[_0x329853(0x28b)]),this[_0x329853(0x28b)]=setTimeout(async()=>{const _0x4730d2=_0x329853;delete this[_0x4730d2(0x28b)];const _0x254d4f=await this[_0x4730d2(0x5b9)][_0x4730d2(0x2c2)]('/');this[_0x4730d2(0x7ef)]?.[_0x4730d2(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x4730d2(0x41a)],'content':{'type':_0x4f0180[_0x4730d2(0xb4c)],'label':this[_0x4730d2(0x4ea)],'stats':{'timestamp':Date['now'](),'storage':_0x254d4f,'messagesSent':this[_0x4730d2(0x688)],'messagesReceived':this[_0x4730d2(0x32c)],'bytesSent':this[_0x4730d2(0x439)],'bytesReceived':this[_0x4730d2(0x664)],'writes':this['writes'],'reads':this[_0x4730d2(0xa81)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x11d8aa[_0x4730d2(0x386)](_0x1bf76d[_0x4730d2(0x408)],_0x4730d2(0xa10)+this['clusterId']+_0x4730d2(0xa10)+this['label'],_0x254d4f);},_0x59531c);}async[_0x2aff22(0x6fd)](_0x177883){const _0x59b22d=_0x2aff22;try{return await this[_0x59b22d(0x9de)](_0x177883),!0x0;}catch(_0x8ab1ba){return!0x1;}}async[_0x2aff22(0x573)](_0x4b7882){const _0x91f24b=_0x2aff22;if(!this[_0x91f24b(0xa0e)][_0x91f24b(0x938)](_0x4b7882))return;const _0x23f6a0=this[_0x91f24b(0xa0e)][_0x91f24b(0x9de)](_0x4b7882);if(_0x23f6a0['stream'])try{await _0x23f6a0[_0x91f24b(0x86f)][_0x91f24b(0x566)]();}catch(_0x1f80f5){console[_0x91f24b(0x730)](_0x91f24b(0x8aa),_0x1f80f5);}this[_0x91f24b(0xa0e)]['delete'](_0x4b7882);}}class _0x2544c1 extends _0x4ba250{[_0x2aff22(0x20e)];['clusterId'];[_0x2aff22(0x4b2)]=new Map();[_0x2aff22(0x28b)];constructor(_0x3f94ce,_0x3ca02d,_0x2316de){const _0x3cce07=_0x2aff22;if('string'!=typeof _0x3ca02d)throw new _0x447098(_0x35722f[_0x3cce07(0x2ae)],_0x3cce07(0x5e1));super(_0x3f94ce,_0x3ca02d),this['localNode']=_0x3f94ce,this[_0x3cce07(0x3d0)]=_0x2316de,this[_0x3cce07(0x6c9)]();}[_0x2aff22(0x8a2)](){this['sendStats']();}[_0x2aff22(0x708)](){const _0x2f212e=_0x2aff22;return _0x182c91[_0x2f212e(0x1c0)][_0x2f212e(0xb30)];}[_0x2aff22(0x9cd)](_0x754037,_0x3656d9){const _0x5be7b9=_0x2aff22;_0x11d8aa[_0x5be7b9(0x6ea)](_0x23f9d6[_0x5be7b9(0xb30)],_0x5be7b9(0x747),this[_0x5be7b9(0x20e)][_0x5be7b9(0x781)](),_0x754037,_0x3656d9),_0x11d8aa[_0x5be7b9(0x3dc)](_0x1bf76d['PubSub'],{'type':'publish','label':this['label'],'nodeId':this[_0x5be7b9(0x20e)][_0x5be7b9(0x781)](),'nodeType':this[_0x5be7b9(0x20e)][_0x5be7b9(0x751)],'clusterId':this[_0x5be7b9(0x3d0)],'remoteIds':_0x3656d9??[],'contentType':_0x754037 instanceof File?_0x182c91['ContentType'][_0x5be7b9(0xa78)]:_0x182c91[_0x5be7b9(0x1c0)][_0x5be7b9(0x517)],'size':_0x754037 instanceof File?_0x754037[_0x5be7b9(0x5ab)]:JSON[_0x5be7b9(0x438)](_0x754037)['length']}),this[_0x5be7b9(0x6c9)](),this[_0x5be7b9(0xb98)](_0x754037,_0x3656d9);}[_0x2aff22(0x4c8)](_0x40d51f,_0x42e3e1){const _0x24d39c=_0x2aff22;if(this[_0x24d39c(0x4b2)]['has'](_0x40d51f))throw new _0x447098(_0x35722f[_0x24d39c(0x29e)],_0x24d39c(0xa54));this[_0x24d39c(0x4b2)][_0x24d39c(0x25c)](_0x40d51f,this[_0x24d39c(0x5f0)]((_0x36e15d,_0x57a61c)=>{const _0xa2ff58=_0x24d39c;_0xa2ff58(0x8e6)===_0x40d51f&&_0x57a61c instanceof File||!('file'!==_0x40d51f||_0x57a61c instanceof File)||(_0x11d8aa['log'](_0x23f9d6[_0xa2ff58(0xb30)],_0xa2ff58(0xa87),this[_0xa2ff58(0x20e)][_0xa2ff58(0x781)](),_0x36e15d,_0x57a61c),_0x11d8aa['logServiceEvent'](_0x1bf76d['PubSub'],{'type':_0xa2ff58(0x4c8),'label':this[_0xa2ff58(0x4ea)],'nodeId':this[_0xa2ff58(0x20e)][_0xa2ff58(0x781)](),'nodeType':this[_0xa2ff58(0x20e)]['type'],'clusterId':this['clusterId'],'remoteId':_0x36e15d,'contentType':_0x40d51f,'size':_0x57a61c instanceof File?_0x57a61c[_0xa2ff58(0x5ab)]:JSON[_0xa2ff58(0x438)](_0x57a61c)[_0xa2ff58(0x482)]}),this[_0xa2ff58(0x6c9)](),_0x42e3e1(_0x36e15d,_0x57a61c));}));}[_0x2aff22(0x815)](_0x17f763){const _0x4096e2=_0x2aff22;this[_0x4096e2(0x4b2)][_0x4096e2(0x9de)](_0x17f763)?.(),this[_0x4096e2(0x4b2)][_0x4096e2(0xa6b)](_0x17f763);}['destroy'](){const _0x57581a=_0x2aff22;this[_0x57581a(0x4b2)][_0x57581a(0x663)](_0x467b3f=>_0x467b3f()),clearTimeout(this['debounceStats']),delete this[_0x57581a(0x28b)],super[_0x57581a(0xb97)]();}[_0x2aff22(0x566)](){const _0x142c04=_0x2aff22;this[_0x142c04(0x7ef)]?.[_0x142c04(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x142c04(0x41a)],'content':{'type':_0x4f0180[_0x142c04(0x951)],'label':this[_0x142c04(0x4ea)]}});}[_0x2aff22(0x6c9)](){const _0x554592=_0x2aff22;this[_0x554592(0x28b)]&&clearTimeout(this[_0x554592(0x28b)]),this[_0x554592(0x28b)]=setTimeout(()=>{const _0x36620d=_0x554592;this[_0x36620d(0x7ef)]?.[_0x36620d(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x36620d(0x41a)],'content':{'type':_0x4f0180[_0x36620d(0x350)],'label':this['label'],'stats':{'timestamp':Date[_0x36620d(0x75c)](),'storage':0x0,'messagesSent':this[_0x36620d(0x688)],'messagesReceived':this[_0x36620d(0x32c)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x59531c);}}class _0x5007b0 extends _0x3506fb{[_0x2aff22(0x20e)];['internalId'];['availableTrackKinds'];['clusterId'];[_0x2aff22(0x4b2)];[_0x2aff22(0x7ba)];[_0x2aff22(0x1bc)];['outgoingStreams']=new Map();[_0x2aff22(0x820)];[_0x2aff22(0x3a6)]=new Set();[_0x2aff22(0xa08)];[_0x2aff22(0x909)]=_0x29c93b();[_0x2aff22(0x612)]=new Map();constructor(_0x24e590,_0x20abf3,_0x4b4b3b,_0x443ed3,_0xe7008e,_0x31d75f){const _0x3b8066=_0x2aff22;super(_0x20abf3,_0x4b4b3b,new MediaStream()),this[_0x3b8066(0x20e)]=_0x24e590,this[_0x3b8066(0x7ca)]=_0x443ed3,this[_0x3b8066(0x340)]=_0xe7008e,this[_0x3b8066(0x3d0)]=_0x31d75f,this[_0x3b8066(0x9c3)][_0x3b8066(0xb0a)]()[_0x3b8066(0x663)](_0x5dd1d6=>this[_0x3b8066(0x567)](_0x5dd1d6));}['destroy'](){const _0x2c1965=_0x2aff22;this[_0x2c1965(0x6af)]['size']>0x0&&(this[_0x2c1965(0x6af)][_0x2c1965(0x663)](_0x371d7b=>{_0x371d7b['unregisterSystemPublisher'](),_0x371d7b['destroy']();}),this['outgoingStreams']['clear']()),this[_0x2c1965(0x612)][_0x2c1965(0x663)](_0x4dcc3d=>_0x4dcc3d()),this[_0x2c1965(0x9c3)][_0x2c1965(0xb0a)]()[_0x2c1965(0x663)](_0xed1039=>this[_0x2c1965(0x9c3)][_0x2c1965(0x344)](_0xed1039)),this[_0x2c1965(0x1bc)]&&(clearTimeout(this[_0x2c1965(0x1bc)]),delete this[_0x2c1965(0x1bc)]),this[_0x2c1965(0x7ba)]?.(),super['destroy']();}['registerSubscriber'](_0x1a433e){const _0x310c15=_0x2aff22;this[_0x310c15(0x4b2)]=_0x1a433e['subscribe'](({content:_0x10250a})=>{const _0xd22f4a=_0x310c15;switch(_0x10250a[_0xd22f4a(0x616)]){case _0x42cadc['RemoteAdd']:if(_0x11d8aa['log'](_0x23f9d6[_0xd22f4a(0x5ce)],'Received\x20track',this[_0xd22f4a(0x20e)][_0xd22f4a(0x781)](),this['providerId']),_0x10250a[_0xd22f4a(0x86f)]['id']!==this[_0xd22f4a(0x7ca)]||_0x10250a['providerId']!==this[_0xd22f4a(0xa08)])return;this[_0xd22f4a(0x344)](_0x10250a['track'][_0xd22f4a(0x493)]),this['mediaStream'][_0xd22f4a(0x389)](_0x10250a['track']);for(const [_0x5c9816,_0x38777f]of this[_0xd22f4a(0x6af)][_0xd22f4a(0x437)]())try{_0x38777f[_0xd22f4a(0x389)](_0x10250a[_0xd22f4a(0xa25)]);}catch(_0x5a956b){_0x38777f[_0xd22f4a(0xb97)](),this[_0xd22f4a(0x6af)][_0xd22f4a(0xa6b)](_0x5c9816);}this[_0xd22f4a(0x567)](_0x10250a[_0xd22f4a(0xa25)]),this['setupRenderElement'](),_0xd22f4a(0x4c5)===_0x10250a[_0xd22f4a(0xa25)]['kind']&&this[_0xd22f4a(0x820)]&&(this[_0xd22f4a(0x9c3)][_0xd22f4a(0x364)]?setTimeout(()=>this[_0xd22f4a(0x820)]?.['play'](),0x0):setTimeout(()=>this[_0xd22f4a(0x820)]?.[_0xd22f4a(0x1d0)](),0x0),this['setupResizeHandler']());break;case _0x42cadc[_0xd22f4a(0xa11)]:if(_0x10250a[_0xd22f4a(0x86f)]['id']!==this[_0xd22f4a(0x7ca)]||_0x10250a[_0xd22f4a(0xa08)]!==this['providerId'])return;this[_0xd22f4a(0x344)](_0x10250a['track'][_0xd22f4a(0x493)]),this['renderElement']&&_0xd22f4a(0x4c5)===_0x10250a['track'][_0xd22f4a(0x493)]&&(this['resizeHandler']?.(),this['mediaStream'][_0xd22f4a(0xb0a)]()['length']>0x0?this[_0xd22f4a(0x820)]['load']():this[_0xd22f4a(0x820)][_0xd22f4a(0xa93)]=null);}});}['unregisterSubscriber'](){const _0x2dad1c=_0x2aff22;this[_0x2dad1c(0x4b2)]?.(),this['trackEndedListeners'][_0x2dad1c(0x663)](_0x4f94de=>_0x4f94de()),delete this['unsubscribeHandler'];}[_0x2aff22(0x54d)](){const _0x318fed=_0x2aff22;return this[_0x318fed(0x7ca)];}[_0x2aff22(0x9c9)](_0x5bb344){const _0x189b4c=_0x2aff22;this[_0x189b4c(0x7ca)]=_0x5bb344;}[_0x2aff22(0x638)](){const _0x249a2c=_0x2aff22;return this[_0x249a2c(0x340)];}[_0x2aff22(0x206)](_0x5974b3){const _0x3242b1=_0x2aff22;for(const _0x117411 of _0x5974b3||this[_0x3242b1(0x340)])if(!this[_0x3242b1(0x9c3)]['getTracks']()['find'](_0x529650=>_0x529650[_0x3242b1(0x493)]===_0x117411))return!0x1;return!0x0;}[_0x2aff22(0x9a4)](){const _0x4da537=_0x2aff22;let _0x95833={'width':0x0,'height':0x0};const _0x408252=this[_0x4da537(0x9c3)][_0x4da537(0x1d4)]();if(_0x408252[_0x4da537(0x482)]>0x0){const _0x2cb25c=_0x408252[0x0][_0x4da537(0xbbe)]();_0x2cb25c[_0x4da537(0xbcc)]&&_0x2cb25c[_0x4da537(0xbf6)]&&(_0x95833={'width':_0x2cb25c[_0x4da537(0xbcc)],'height':_0x2cb25c[_0x4da537(0xbf6)]});}return _0x95833;}['isSubscribed'](_0x582bf6){const _0x2b6549=_0x2aff22;for(const _0x4054c0 of _0x582bf6)if(!this[_0x2b6549(0x3a6)][_0x2b6549(0x938)](_0x4054c0))return!0x1;return!0x0;}[_0x2aff22(0x3a1)](_0x4ad7cf,_0x4ebcb0){const _0x21d5a9=_0x2aff22;if(!this['outgoingStreams'][_0x21d5a9(0x938)](_0x4ad7cf)){const _0xef4567=new _0xf484ad(this[_0x21d5a9(0x43f)],this[_0x21d5a9(0x4ea)],this['mediaStream'],_0x4ad7cf,_0x4ebcb0),_0x33d133=_0xef4567[_0x21d5a9(0x48f)](()=>{const _0x18c712=_0x21d5a9;_0x33d133(),this[_0x18c712(0x6af)][_0x18c712(0x9de)](_0x4ad7cf)?.['destroy'](),this['outgoingStreams'][_0x18c712(0xa6b)](_0x4ad7cf);});this[_0x21d5a9(0x6af)][_0x21d5a9(0x25c)](_0x4ad7cf,_0xef4567),_0xef4567[_0x21d5a9(0x390)](this['systemTopic']);}return this[_0x21d5a9(0x6af)][_0x21d5a9(0x9de)](_0x4ad7cf);}[_0x2aff22(0x56e)](){const _0x256224=_0x2aff22;return this[_0x256224(0x9c3)]['id'];}['getPriority'](){const _0x2f7622=_0x2aff22;return _0x182c91[_0x2f7622(0xb8c)]['Default'];}[_0x2aff22(0x7f7)](){const _0x534674=_0x2aff22;return Array[_0x534674(0x306)](this[_0x534674(0x3a6)]);}[_0x2aff22(0x4c8)](_0x58c139){const _0x5cbde6=_0x2aff22;let _0x4f6eb3=[];if(_0x58c139){_0x5cbde6(0x42c)!=typeof _0x58c139[_0x5cbde6(0x4c5)]||_0x58c139[_0x5cbde6(0x4c5)][_0x5cbde6(0x820)]instanceof HTMLVideoElement||!this['renderElement']||(_0x58c139[_0x5cbde6(0x4c5)]={'renderElement':this[_0x5cbde6(0x820)]});try{(0x0,_0x182c91[_0x5cbde6(0x3ee)])(_0x58c139);}catch(_0x5a02a0){throw new _0x447098(_0x35722f['RemoteMediaStreamInvalidSubscriptionParams'],_0x5cbde6(0x4cf));}_0x58c139['video']&&(_0x4f6eb3[_0x5cbde6(0x639)](_0x5cbde6(0x4c5)),_0x5cbde6(0x461)!=typeof _0x58c139[_0x5cbde6(0x4c5)]&&_0x58c139[_0x5cbde6(0x4c5)][_0x5cbde6(0x820)]&&(this[_0x5cbde6(0x820)]=_0x58c139[_0x5cbde6(0x4c5)]['renderElement'],_0x58c139['video'][_0x5cbde6(0xb6a)]||(_0x58c139[_0x5cbde6(0x4c5)]['maxResolution']={'width':this[_0x5cbde6(0x820)]['clientWidth'],'height':this[_0x5cbde6(0x820)][_0x5cbde6(0xbe1)]}),delete _0x58c139[_0x5cbde6(0x4c5)][_0x5cbde6(0x820)])),_0x58c139[_0x5cbde6(0xaea)]&&_0x4f6eb3[_0x5cbde6(0x639)](_0x5cbde6(0xaea));}else _0x4f6eb3=this[_0x5cbde6(0x638)]();this['isSubscribed'](_0x4f6eb3)||(_0x4f6eb3['forEach'](_0x1eccd3=>this['subscribedTracks'][_0x5cbde6(0x62d)](_0x1eccd3)),this[_0x5cbde6(0x7ef)]['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x5cbde6(0x41a)],'content':{'type':_0x4f0180[_0x5cbde6(0x918)],'label':this[_0x5cbde6(0x4ea)],'ownerId':this[_0x5cbde6(0x43f)][_0x5cbde6(0x781)](),'trackKinds':_0x4f6eb3,'params':_0x58c139}}),_0x11d8aa[_0x5cbde6(0x3dc)](_0x1bf76d[_0x5cbde6(0x4dd)],{'type':_0x5cbde6(0x4c8),'label':this[_0x5cbde6(0x4ea)],'nodeId':this['localNode'][_0x5cbde6(0x781)](),'nodeType':this['localNode'][_0x5cbde6(0x751)],'clusterId':this[_0x5cbde6(0x3d0)],'sourceId':this[_0x5cbde6(0x43f)][_0x5cbde6(0x781)](),'streamId':this[_0x5cbde6(0x7ca)],'trackKinds':_0x4f6eb3}));}[_0x2aff22(0x9da)](_0x1cd618){const _0x18ee11=_0x2aff22;try{(0x0,_0x182c91['isValidMediaSubscriptionParams'])(_0x1cd618);}catch(_0x48a3ec){throw new _0x447098(_0x35722f['RemoteMediaStreamInvalidSubscriptionParams'],_0x18ee11(0x4cf));}this[_0x18ee11(0x1bc)]&&clearTimeout(this['updateDebounce']),this[_0x18ee11(0x1bc)]=setTimeout(()=>{const _0x32d39d=_0x18ee11;delete this['updateDebounce'],this['systemTopic'][_0x32d39d(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x32d39d(0x41a)],'content':{'type':_0x4f0180[_0x32d39d(0x8c5)],'label':this[_0x32d39d(0x4ea)],'ownerId':this[_0x32d39d(0x43f)]['getId'](),'params':_0x1cd618}});},0x1f4);}[_0x2aff22(0x815)](_0x5eb035){const _0x35d442=_0x2aff22;_0x5eb035||(_0x5eb035=this['getAvailableTrackKinds']()),(_0x5eb035=Array[_0x35d442(0x719)](_0x5eb035)?_0x5eb035:[_0x5eb035])[_0x35d442(0x663)](_0x45b9e9=>this[_0x35d442(0x3a6)][_0x35d442(0xa6b)](_0x45b9e9)),this[_0x35d442(0x7ef)][_0x35d442(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x35d442(0x41a)],'content':{'type':_0x4f0180['UnsubscribeMediaStream'],'label':this['label'],'ownerId':this[_0x35d442(0x43f)][_0x35d442(0x781)](),'trackKinds':_0x5eb035,'remainingTracks':this[_0x35d442(0x3a6)][_0x35d442(0x5ab)]}});}[_0x2aff22(0xa50)](_0x49fad0){const _0xa5da04=_0x2aff22;return this['providerListener'][_0xa5da04(0x4c8)](_0x49fad0);}['getProviderId'](){const _0x1ed36b=_0x2aff22;return this[_0x1ed36b(0xa08)];}[_0x2aff22(0x6e7)](_0x33adc5){const _0x23cc31=_0x2aff22;this[_0x23cc31(0xa08)]!==_0x33adc5&&(this[_0x23cc31(0xa08)]=_0x33adc5,this[_0x23cc31(0x909)][_0x23cc31(0x9cd)](_0x33adc5));}[_0x2aff22(0x4d8)](_0x14359f){const _0x564458=_0x2aff22;this['trackEndedListeners'][_0x564458(0x9de)](_0x14359f)?.(),this['trackEndedListeners']['delete'](_0x14359f);}[_0x2aff22(0x344)](_0x1bc5e4){const _0x1e2b49=_0x2aff22,_0x596c4e=this['mediaStream'][_0x1e2b49(0xb0a)]()[_0x1e2b49(0x43b)](_0x4b7747=>_0x4b7747[_0x1e2b49(0x493)]===_0x1bc5e4);_0x596c4e&&(this[_0x1e2b49(0x9c3)][_0x1e2b49(0x344)](_0x596c4e),this[_0x1e2b49(0x6af)][_0x1e2b49(0x663)](_0x143b74=>_0x143b74['removeTrack'](_0x1bc5e4)),this['trackEndedListeners'][_0x1e2b49(0x9de)](_0x1bc5e4)?.());}[_0x2aff22(0x83f)](){const _0x48c6fc=_0x2aff22;this[_0x48c6fc(0x820)]&&(this['renderElement'][_0x48c6fc(0xa93)]&&this[_0x48c6fc(0x820)]['srcObject']===this[_0x48c6fc(0x9c3)]||(this['renderElement'][_0x48c6fc(0xa93)]=this[_0x48c6fc(0x9c3)]));}[_0x2aff22(0x5af)](){const _0xc757eb=_0x2aff22;if(this['renderElement']&&!this[_0xc757eb(0x7ba)]&&_0xc757eb(0x817)!=typeof ResizeObserver){let _0x4090c1=this['renderElement']['clientWidth'],_0x4b36f8=this['renderElement'][_0xc757eb(0xbe1)];const _0x36e03c=new ResizeObserver(_0x41e0bd=>{const _0x33faef=_0xc757eb,{width:_0x54926e,height:_0x18e163}=_0x41e0bd[0x0][_0x33faef(0x5f2)];_0x4090c1===_0x54926e&&_0x4b36f8===_0x18e163||(_0x4090c1=Math[_0x33faef(0x39d)](_0x54926e),_0x4b36f8=Math[_0x33faef(0x39d)](_0x18e163),this[_0x33faef(0x9da)]({'video':{'maxResolution':{'width':_0x54926e,'height':_0x18e163}}}));});_0x36e03c[_0xc757eb(0x6aa)](this[_0xc757eb(0x820)]),this['resizeHandler']=()=>_0x36e03c[_0xc757eb(0x513)]();}}['handleRemoteTrackFailure'](_0x39c820){const _0x5ddadd=_0x2aff22,_0x5da416=[];for(const _0x5c95fe of this[_0x5ddadd(0x3a6)])this[_0x5ddadd(0x344)](_0x5c95fe),_0x5da416[_0x5ddadd(0x639)](_0x5c95fe);this[_0x5ddadd(0xa08)]&&this[_0x5ddadd(0x7ef)][_0x5ddadd(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x5ddadd(0x41a)],'content':{'type':_0x4f0180[_0x5ddadd(0xb92)],'label':this[_0x5ddadd(0x4ea)],'streamId':this[_0x5ddadd(0x7ca)],'ownerId':this[_0x5ddadd(0x43f)][_0x5ddadd(0x781)](),'providerId':this['providerId'],'trackKinds':_0x5da416}});}[_0x2aff22(0x567)](_0x560b48){const _0x399eb0=_0x2aff22,_0x26f682=()=>this[_0x399eb0(0xa18)](_0x560b48);_0x560b48[_0x399eb0(0x3ea)]('ended',_0x26f682),_0x560b48['addEventListener'](_0x399eb0(0xb8e),_0x26f682),this[_0x399eb0(0x612)][_0x399eb0(0x25c)](_0x560b48[_0x399eb0(0x493)],()=>{const _0x2d6396=_0x399eb0;_0x560b48[_0x2d6396(0x41d)](_0x2d6396(0x67d),_0x26f682),_0x560b48[_0x2d6396(0x41d)]('mute',_0x26f682),this['trackEndedListeners']['delete'](_0x560b48[_0x2d6396(0x493)]);});}}class _0x2985ef extends _0x4ba250{['localNode'];[_0x2aff22(0x3d0)];['vendorId'];['db'];['debounceStats'];['writes']=0x0;[_0x2aff22(0xa81)]=0x0;[_0x2aff22(0x717)]=!0x1;constructor(_0x5c0ab7,_0x231cef,_0x34df10,_0xb0d07f,_0x4de0e7){const _0x29fa52=_0x2aff22;if(_0x29fa52(0xb85)!=typeof _0x231cef)throw new _0x447098(_0x35722f[_0x29fa52(0x3d6)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x5c0ab7,_0x231cef),this['localNode']=_0x5c0ab7,this[_0x29fa52(0x3d0)]=_0x34df10,this[_0x29fa52(0x97c)]=_0xb0d07f;const _0x124a58=_0x29fa52(0xa10)+this[_0x29fa52(0x97c)]+_0x29fa52(0xa10)+this[_0x29fa52(0x3d0)]+_0x29fa52(0xa10)+this[_0x29fa52(0x4ea)];this['db']=new _0x4de0e7(_0x124a58),this[_0x29fa52(0x6c9)]();}[_0x2aff22(0x661)](){return this['isLoaded'];}['setIsLoaded'](_0x7999ec){const _0x5835ee=_0x2aff22;this[_0x5835ee(0x717)]=_0x7999ec;}[_0x2aff22(0xb97)](){const _0x2acd79=_0x2aff22;clearTimeout(this['debounceStats']),delete this[_0x2acd79(0x28b)],super[_0x2acd79(0xb97)]();}[_0x2aff22(0x566)](){const _0x15e931=_0x2aff22;this['systemTopic'][_0x15e931(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x15e931(0x41a)],'content':{'type':_0x4f0180[_0x15e931(0x96c)],'label':this['label']}});}[_0x2aff22(0x8a2)](){const _0xc3efba=_0x2aff22;this[_0xc3efba(0x6c9)]();}[_0x2aff22(0x708)](){const _0xb06a29=_0x2aff22;return _0x182c91['ContentType'][_0xb06a29(0x883)];}[_0x2aff22(0xb81)](_0x38e2e7,_0x4e83cf,_0xcc5dc4,_0x182b6d,_0x20e2c2){const _0x54f580=_0x2aff22,_0x1c5799=this['db'][_0x54f580(0xb81)](_0x38e2e7,_0x4e83cf,_0xcc5dc4,_0x182b6d,_0x20e2c2);return this[_0x54f580(0xa81)]+=0x1,_0x11d8aa[_0x54f580(0x3dc)](_0x1bf76d[_0x54f580(0x883)],{'type':_0x54f580(0xb81),'label':this['label'],'nodeId':this[_0x54f580(0x20e)][_0x54f580(0x781)](),'nodeType':this['localNode'][_0x54f580(0x751)],'clusterId':this[_0x54f580(0x3d0)],'size':0x0}),this[_0x54f580(0x6c9)](),_0x1c5799;}[_0x2aff22(0x69a)](_0x56e3da,_0x21fc98,_0x3dfaaa,_0x21ef8d){const _0x279db3=_0x2aff22;this['db'][_0x279db3(0x69a)](_0x56e3da,_0x21fc98,_0x3dfaaa,_0x21ef8d),this['writes']+=0x1,_0x11d8aa[_0x279db3(0x3dc)](_0x1bf76d[_0x279db3(0x883)],{'type':'insert','label':this[_0x279db3(0x4ea)],'nodeId':this[_0x279db3(0x20e)][_0x279db3(0x781)](),'nodeType':this['localNode'][_0x279db3(0x751)],'clusterId':this[_0x279db3(0x3d0)],'size':_0x21ef8d[_0x279db3(0x317)]((_0x2fafae,_0x99826c)=>_0x2fafae+_0x99826c[_0x279db3(0x482)],0x0)}),this[_0x279db3(0x6c9)]();}[_0x2aff22(0x3bc)](_0x1f43de){const _0x206e8f=_0x2aff22;this['db'][_0x206e8f(0x3bc)](_0x1f43de),this[_0x206e8f(0x6ed)]+=0x1,_0x11d8aa[_0x206e8f(0x3dc)](_0x1bf76d['VectorDatabase'],{'type':'remove','label':this['label'],'nodeId':this[_0x206e8f(0x20e)]['getId'](),'nodeType':this[_0x206e8f(0x20e)][_0x206e8f(0x751)],'clusterId':this['clusterId'],'size':0x0}),this[_0x206e8f(0x6c9)]();}[_0x2aff22(0x1b9)](_0x5862b0){const _0x2115bb=_0x2aff22;this['db'][_0x2115bb(0x1b9)](_0x5862b0);}['loadFromDisk'](_0xa8cc4e){this['db']['loadFromDisk'](_0xa8cc4e);}[_0x2aff22(0x6c9)](){const _0x5019a1=_0x2aff22;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x5019a1(0x28b)]=setTimeout(async()=>{const _0x412f69=_0x5019a1;delete this[_0x412f69(0x28b)];const _0x2e85af=this['db']['getBuffer']()['byteLength'];this[_0x412f69(0x7ef)]['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x412f69(0x41a)],'content':{'type':_0x4f0180[_0x412f69(0x2ee)],'label':this['label'],'stats':{'timestamp':Date[_0x412f69(0x75c)](),'storage':_0x2e85af,'messagesSent':this[_0x412f69(0x688)],'messagesReceived':this[_0x412f69(0x32c)],'bytesSent':this[_0x412f69(0x439)],'bytesReceived':this[_0x412f69(0x664)],'writes':this['writes'],'reads':this[_0x412f69(0xa81)],'prompts':0x0,'tokens':0x0}}}),_0x11d8aa[_0x412f69(0x386)](_0x1bf76d[_0x412f69(0x883)],'ccc'+this[_0x412f69(0x3d0)]+_0x412f69(0xa10)+this['label'],_0x2e85af);},_0x59531c);}}class _0x4884ee{['id'];[_0x2aff22(0x27b)];[_0x2aff22(0x656)];constructor(_0x235ca6,_0x1c5c98=new Set(),_0x44830f){const _0x4231b8=_0x2aff22;this['id']=_0x235ca6,this[_0x4231b8(0x27b)]=_0x1c5c98,this[_0x4231b8(0x656)]=_0x44830f;}['close'](){const _0x3c57c0=_0x2aff22;this[_0x3c57c0(0x656)]=void 0x0,this[_0x3c57c0(0x27b)][_0x3c57c0(0x56c)]();}[_0x2aff22(0x781)](){return this['id'];}['getRank'](){const _0x468113=_0x2aff22;return this[_0x468113(0x656)];}[_0x2aff22(0xa66)](){const _0x35b513=_0x2aff22;return this[_0x35b513(0x27b)];}}class _0x55a57b extends _0x4884ee{['id'];[_0x2aff22(0x499)];[_0x2aff22(0x829)];[_0x2aff22(0x27b)];[_0x2aff22(0x656)];[_0x2aff22(0x751)]=_0x182c91[_0x2aff22(0x764)]['User'];constructor(_0xc9ac45,_0x4b7047,_0x1c8cf2,_0x36b3a6=new Set(),_0x207418){const _0x51de5a=_0x2aff22;super(_0xc9ac45,_0x36b3a6,_0x207418),this['id']=_0xc9ac45,this[_0x51de5a(0x499)]=_0x4b7047,this[_0x51de5a(0x829)]=_0x1c8cf2,this[_0x51de5a(0x27b)]=_0x36b3a6,this['rank']=_0x207418;}[_0x2aff22(0x6c8)](){const _0x44dec4=_0x2aff22;return this[_0x44dec4(0x499)];}[_0x2aff22(0x2b6)](){const _0x4beef6=_0x2aff22;return this[_0x4beef6(0x829)];}}class _0x4b617e{['vendorId'];[_0x2aff22(0x3d0)];[_0x2aff22(0xba5)];constructor(_0x29f409,_0x5bbfc2){const _0xd2c3db=_0x2aff22;this[_0xd2c3db(0x97c)]=_0x29f409,this['clusterId']=_0x5bbfc2,this[_0xd2c3db(0xba5)]=_0xd2c3db(0xa10)+this[_0xd2c3db(0x97c)]+'ccc'+this[_0xd2c3db(0x3d0)];}async['writeTransaction'](_0x732439,_0x4b0fce){const _0x76651d=_0x2aff22,_0xfdb862=(0x0,_0x43ecff[_0x76651d(0x9ed)])(_0x4d81d6['getDatabase'](),'clusters/'+this[_0x76651d(0xba5)]+'/objectstores/'+_0x4b0fce+_0x76651d(0x4b1)+_0x732439['id']),_0x3d8745=(0x0,_0x43ecff[_0x76651d(0x360)])(_0xfdb862);_0x3d8745[_0x76651d(0x3bc)](),_0x732439[_0x76651d(0x45b)]||delete _0x732439['parentId'];try{await(0x0,_0x43ecff['set'])(_0xfdb862,_0x732439);}catch(_0x281d8c){throw await _0x3d8745[_0x76651d(0x455)](),new _0x1a8c20(_0x1a8c20[_0x76651d(0x92d)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x43ecff['runTransaction'])((0x0,_0x43ecff[_0x76651d(0x9ed)])(_0x4d81d6[_0x76651d(0x52c)](),_0x76651d(0x7ee)+this[_0x76651d(0xba5)]+_0x76651d(0x584)+_0x4b0fce+_0x76651d(0x68d)),_0x40ec8a=>_0x40ec8a?_0x40ec8a===_0x732439[_0x76651d(0x45b)]?_0x732439['id']:void 0x0:_0x732439[_0x76651d(0x45b)]?_0x732439[_0x76651d(0x45b)]:_0x732439['id']))[_0x76651d(0xb67)])throw await(0x0,_0x43ecff[_0x76651d(0x3bc)])(_0xfdb862),await _0x3d8745[_0x76651d(0x455)](),new _0x1a8c20(_0x1a8c20[_0x76651d(0x92d)]['ObjectStoreNotSynced']);await _0x3d8745[_0x76651d(0x455)]();}async['getTransactions'](_0x131a6c,_0x5ac388){const _0x767bcd=_0x2aff22;let _0x3d6617=[];const _0x5f4770=(0x0,_0x43ecff[_0x767bcd(0x9ed)])(_0x4d81d6[_0x767bcd(0x52c)](),_0x767bcd(0x7ee)+this[_0x767bcd(0xba5)]+'/objectstores/'+_0x131a6c+_0x767bcd(0x68c));let _0x5c8e41=await(0x0,_0x43ecff[_0x767bcd(0x9de)])((0x0,_0x43ecff[_0x767bcd(0x794)])(_0x5f4770,(0x0,_0x43ecff['limitToFirst'])(0x65),(0x0,_0x43ecff[_0x767bcd(0xaf0)])()));if(!_0x5c8e41[_0x767bcd(0x5f5)]()){if(void 0x0!==_0x5ac388)throw new _0x1a8c20(_0x1a8c20['codes']['ObjectStoreInvalidState']);return _0x3d6617;}const _0x3bad21=_0x5c8e41[_0x767bcd(0xaa4)]();for(;Object[_0x767bcd(0x780)](_0x5c8e41[_0x767bcd(0xaa4)]())[_0x767bcd(0x482)]>0x64;){const _0x59b722=Object[_0x767bcd(0x780)](_0x5c8e41[_0x767bcd(0xaa4)]()),_0x4eb79e=_0x59b722[_0x59b722[_0x767bcd(0x482)]-0x1];_0x5c8e41=await(0x0,_0x43ecff[_0x767bcd(0x9de)])((0x0,_0x43ecff[_0x767bcd(0x794)])(_0x5f4770,(0x0,_0x43ecff['limitToFirst'])(0x65),(0x0,_0x43ecff[_0x767bcd(0x7d8)])(_0x4eb79e),(0x0,_0x43ecff[_0x767bcd(0xaf0)])())),Object[_0x767bcd(0xac9)](_0x3bad21,_0x5c8e41['val']());}if(_0x3d6617=Object[_0x767bcd(0xa12)](_0x3bad21)['filter'](_0x41d159=>_0x767bcd(0xb85)!=typeof _0x41d159),0x0===_0x3d6617[_0x767bcd(0x482)]&&void 0x0!==_0x5ac388)throw new _0x1a8c20(_0x1a8c20[_0x767bcd(0x92d)][_0x767bcd(0x7da)]);if(_0x3d6617['length']>0x0&&void 0x0!==_0x5ac388&&!_0x3d6617[_0x767bcd(0x43b)](_0x5a17f1=>_0x5a17f1['id']===_0x5ac388))throw new _0x1a8c20(_0x1a8c20['codes']['ObjectStoreInvalidState']);const _0x4cbc01=[];let _0x32920b=_0x3d6617['find'](_0x1fc0e5=>_0x1fc0e5[_0x767bcd(0x45b)]===_0x5ac388);for(;_0x32920b;)_0x4cbc01['push'](_0x32920b),_0x32920b=_0x3d6617[_0x767bcd(0x43b)](_0x3a6a64=>_0x3a6a64['parentId']===_0x32920b['id']);return _0x4cbc01;}}class _0x1a150a extends _0xb7f649{[_0x2aff22(0x1db)];[_0x2aff22(0x5e5)];['speechAIWorkerConnectors'];['objectStoreConnector'];['documentParserConnector'];[_0x2aff22(0x40e)];['nlpLibraryConnector'];['searchConnector'];['aiSearchConnector'];['queryFileConnector'];[_0x2aff22(0x35f)];['openAIKey'];['models']=_0x253243;[_0x2aff22(0x841)]=new Map();[_0x2aff22(0x498)]=!0x1;constructor(_0x3c31b5,_0x952a5,_0x326852,_0x3dc87b,_0x24dcfc,_0x3d2763,_0x123375,_0x35e256,_0x53ba10,_0x5c73c3,_0x28cc22,_0x5cc8fd,_0x5c66b7,_0x1b967d){const _0x1d49c5=_0x2aff22;super(_0x3c31b5,_0x952a5),this[_0x1d49c5(0x1db)]=_0x326852,this[_0x1d49c5(0x5e5)]=_0x3dc87b,this['speechAIWorkerConnectors']=_0x24dcfc,this[_0x1d49c5(0x5b9)]=_0x3d2763,this['documentParserConnector']=_0x123375,this[_0x1d49c5(0x40e)]=_0x35e256,this[_0x1d49c5(0x3fc)]=_0x53ba10,this[_0x1d49c5(0xb06)]=_0x5c73c3,this[_0x1d49c5(0x1e5)]=_0x28cc22,this[_0x1d49c5(0x3df)]=_0x5cc8fd,this[_0x1d49c5(0x35f)]=_0x5c66b7,this[_0x1d49c5(0xb03)]=_0x1b967d,this[_0x1d49c5(0x3f1)]();}async['getDataBucketIds'](){return[];}async[_0x2aff22(0x3f1)](_0x31134e=!0x1){const _0x35ffd7=_0x2aff22;if(!this['isOpened']){_0x11d8aa[_0x35ffd7(0x27e)](_0x35ffd7(0x68a),this[_0x35ffd7(0x4ea)]);try{for(const _0x27fead of this['generativeAIWorkerConnectors'])await _0x27fead[_0x35ffd7(0xab3)](this['label'],this['models']);}catch(_0x36fd6e){return this['open'](_0x31134e);}this['isOpened']=!0x0,_0x11d8aa[_0x35ffd7(0x27e)]('GenerativeAIWorker:\x20Opened',this[_0x35ffd7(0x4ea)]);}}[_0x2aff22(0x566)](){const _0x24109c=_0x2aff22;this[_0x24109c(0x7ef)]?.[_0x24109c(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x24109c(0x41a)],'content':{'type':_0x4f0180['CloseGenerativeAIContext'],'label':this[_0x24109c(0x4ea)]}});}[_0x2aff22(0x54d)](){const _0x3493f8=_0x2aff22;return this[_0x3493f8(0x4ea)];}['getContentType'](){return _0x182c91['ContentType']['Data'];}[_0x2aff22(0x90b)](_0x254f0d){const _0x24ac48=_0x2aff22,_0x3b3308='job-'+(0x0,_0x360e63['v4'])();let _0x152098=!0x1;const _0x2a9b4f=()=>{const _0x37220b=a0_0x314b;if(_0x152098)throw new _0x1a8c20(_0x1a8c20[_0x37220b(0x92d)]['GenerativeAIContextJobAlreadyConsumed']);_0x152098=!0x0;},_0x42f498={'threadId':'thread-'+(0x0,_0x360e63['v4'])(),..._0x254f0d};switch(_0x254f0d['type']){case _0x24ac48(0x637):case _0x24ac48(0x286):case'collection-query':case _0x24ac48(0x9aa):case _0x24ac48(0xb9e):case'file-ingest':case _0x24ac48(0x413):case _0x24ac48(0x611):case'rate':case'realtime-session-create':case _0x24ac48(0x868):case _0x24ac48(0x8e0):case _0x24ac48(0xa79):return{'id':_0x3b3308,..._0x254f0d,'run':()=>(_0x2a9b4f(),this['internalProcessJob'](_0x3b3308,_0x42f498))};case _0x24ac48(0x7a2):case _0x24ac48(0x54f):return{'id':_0x3b3308,'options':{'threadId':_0x24ac48(0x478)+(0x0,_0x360e63['v4'])()},..._0x254f0d,'run':()=>(_0x2a9b4f(),this['internalProcessJob'](_0x3b3308,_0x42f498)),'stream':()=>(_0x2a9b4f(),this['internalProcessJobStream'](_0x3b3308,_0x42f498))};default:throw new Error(_0x24ac48(0xab9));}}async['internalProcessJob'](_0x346ada,_0x24a4ce){const _0x3738f2=_0x2aff22;if(_0x3738f2(0x54f)===_0x24a4ce['type']){await this[_0x3738f2(0xb71)](_0x346ada,_0x24a4ce);const _0x41fb1c=await _0x51b0dd['getWorkflow'](_0x24a4ce[_0x3738f2(0x97c)],_0x24a4ce[_0x3738f2(0x7bc)]),_0x17a9a6=_0x41fb1c[_0x3738f2(0xb60)][_0x3738f2(0x43b)](_0x3835ef=>_0x3835ef[_0x3738f2(0x751)]===_0x187b0c['Prompt']||_0x3835ef[_0x3738f2(0x751)]===_0x187b0c[_0x3738f2(0x69e)]),_0x258fb6=await _0x16f56b(_0x24a4ce[_0x3738f2(0xb2d)]??_0x346ada,_0x24a4ce,_0x17a9a6,_0x41fb1c[_0x3738f2(0xb60)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3738f2(0x40e)],'nlpLibraryConnector':this[_0x3738f2(0x3fc)],'generativeAIWorkerConnectors':this[_0x3738f2(0x5e5)],'models':Array[_0x3738f2(0x306)](this[_0x3738f2(0x9df)][_0x3738f2(0xa12)]()),'contentMediator':this[_0x3738f2(0x1db)],'searchConnector':this[_0x3738f2(0xb06)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x3738f2(0x3df)]});return await this[_0x3738f2(0xa0b)](_0x346ada,_0x24a4ce),_0x258fb6;}if(_0x3738f2(0xa79)===_0x24a4ce[_0x3738f2(0x751)])return await _0xcff6fc(_0x24a4ce,{'documentParserConnector':this[_0x3738f2(0x372)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x3738f2(0x3fc)],'generativeAIWorkerConnectors':this[_0x3738f2(0x5e5)],'models':Array[_0x3738f2(0x306)](this[_0x3738f2(0x9df)][_0x3738f2(0xa12)]()),'contentMediator':this[_0x3738f2(0x1db)],'searchConnector':this[_0x3738f2(0xb06)],'aiSearchConnector':this[_0x3738f2(0x1e5)],'queryFileConnector':this[_0x3738f2(0x3df)]});if(_0x3738f2(0x7a2)===_0x24a4ce['type']){await this[_0x3738f2(0xb71)](_0x346ada,_0x24a4ce);const _0x1bb095=await _0x4e1ed5(_0x24a4ce[_0x3738f2(0xb2d)]??_0x346ada,_0x24a4ce,{'documentParserConnector':this[_0x3738f2(0x372)],'fileConnector':this[_0x3738f2(0x40e)],'nlpLibraryConnector':this[_0x3738f2(0x3fc)],'generativeAIWorkerConnectors':this[_0x3738f2(0x5e5)],'models':Array[_0x3738f2(0x306)](this[_0x3738f2(0x9df)][_0x3738f2(0xa12)]()),'contentMediator':this[_0x3738f2(0x1db)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x3738f2(0x1e5)],'queryFileConnector':this[_0x3738f2(0x3df)]});return await this['stopTracing'](_0x346ada,_0x24a4ce),_0x1bb095;}if(_0x3738f2(0x907)===_0x24a4ce[_0x3738f2(0x751)])return await _0x2a3821[_0x3738f2(0x9f3)]({'jobType':_0x42d38a[_0x3738f2(0x285)],'type':_0x2d8cc1['PromptRating'],'jobId':_0x24a4ce['jobId'],'threadId':_0x24a4ce['threadId'],'traceLevel':_0x192bcf['Info'],'startTime':Date[_0x3738f2(0x75c)](),'timestamp':Date[_0x3738f2(0x75c)](),'status':_0x3738f2(0x6ce),'rating':_0x24a4ce[_0x3738f2(0x1c4)],'feedback':_0x24a4ce[_0x3738f2(0x9b3)]}),{'type':_0x3738f2(0x907),'status':_0x182c91[_0x3738f2(0x1f5)][_0x3738f2(0x626)]};if('tool-call'===_0x24a4ce[_0x3738f2(0x751)])return await _0x463a93(_0x24a4ce,{'documentParserConnector':this[_0x3738f2(0x372)],'fileConnector':this[_0x3738f2(0x40e)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3738f2(0x5e5)],'models':Array['from'](this[_0x3738f2(0x9df)][_0x3738f2(0xa12)]()),'contentMediator':this[_0x3738f2(0x1db)],'searchConnector':this[_0x3738f2(0xb06)],'aiSearchConnector':this[_0x3738f2(0x1e5)],'queryFileConnector':this[_0x3738f2(0x3df)]});if(_0x3738f2(0x868)===_0x24a4ce[_0x3738f2(0x751)]){const _0x3a7cf8=_0x253243[_0x3738f2(0x9de)](_0x24a4ce[_0x3738f2(0x6f2)]);if(!_0x3a7cf8)throw new Error(_0x3738f2(0x35c));const _0xaf03c2=this['speechAIWorkerConnectors']['find'](_0x334976=>_0x334976[_0x3738f2(0x8ba)]()===_0x3a7cf8['engineType']);if(!_0xaf03c2)throw new Error(_0x3738f2(0x26c));return{'type':'speech-create','audio':await _0xaf03c2[_0x3738f2(0xae1)](_0x24a4ce[_0x3738f2(0x6f2)],_0x24a4ce[_0x3738f2(0x9a0)],_0x24a4ce[_0x3738f2(0x891)],_0x24a4ce[_0x3738f2(0xa73)])};}if(_0x3738f2(0x3f5)===_0x24a4ce[_0x3738f2(0x751)]){const _0x364a56=await _0x51b0dd[_0x3738f2(0xbd8)](_0x24a4ce[_0x3738f2(0x97c)],_0x24a4ce['workflowId']),_0x460c3f=_0x364a56[_0x3738f2(0xb60)][_0x3738f2(0x43b)](_0x5577cd=>_0x5577cd[_0x3738f2(0x751)]===_0x187b0c[_0x3738f2(0x69e)]),_0x75450=_0x460c3f[_0x3738f2(0x2d4)]?.[_0x3738f2(0x43b)](_0x33e711=>_0x33e711['type']===_0x16738a[_0x3738f2(0x312)]),_0x923ec=_0x364a56[_0x3738f2(0xb60)][_0x3738f2(0x43b)](_0x2dd03b=>_0x2dd03b[_0x3738f2(0x751)]===_0x187b0c[_0x3738f2(0x2e3)]&&_0x2dd03b[_0x3738f2(0x6c2)]===_0x75450['uid']),_0x1dfda4=_0x253243[_0x3738f2(0x9de)](_0x923ec[_0x3738f2(0x4ac)]),_0x3c28d2=_0x364a56[_0x3738f2(0xb60)][_0x3738f2(0xae8)](_0x5a3a09=>_0x5a3a09['links']?.[_0x3738f2(0x4f7)](_0x3b41e4=>_0x3b41e4['type']===_0x16738a['Tool']&&_0x3b41e4[_0x3738f2(0x6c2)]===_0x923ec[_0x3738f2(0x6c2)]))['flatMap'](_0x1a7f0c=>_0x2948b9(_0x1a7f0c,_0x364a56['blocks'])),_0x384315=_0x364a56['blocks'][_0x3738f2(0x43b)](_0x224c96=>_0x224c96[_0x3738f2(0x751)]===_0x187b0c[_0x3738f2(0xacd)]),_0x2c68c7=_0x364a56[_0x3738f2(0xb60)]['find'](_0x32fa0c=>_0x32fa0c[_0x3738f2(0x751)]===_0x187b0c['Agent']&&_0x32fa0c[_0x3738f2(0x2d4)]?.[_0x3738f2(0x4f7)](_0x146b07=>_0x146b07[_0x3738f2(0x751)]===_0x16738a[_0x3738f2(0x312)]&&_0x146b07['uid']===_0x384315[_0x3738f2(0x6c2)])),_0x5280d9=_0x364a56['blocks'][_0x3738f2(0x43b)](_0x38abb1=>_0x38abb1[_0x3738f2(0x751)]===_0x187b0c['Agent']&&_0x38abb1[_0x3738f2(0x6c2)]===_0x2c68c7[_0x3738f2(0x6c2)]),_0x1886ef=_0x253243['get'](_0x5280d9[_0x3738f2(0x4ac)]);return{'type':_0x3738f2(0x3f5),'apiKey':this[_0x3738f2(0xb03)],'sessionType':_0x1dfda4[_0x3738f2(0xbc9)]===_0x182c91[_0x3738f2(0x78f)][_0x3738f2(0x2d1)]?'speech-to-speech':_0x3738f2(0x1b6),'firstAgent':{'modelId':_0x923ec['modelId'],'taskType':_0x1dfda4[_0x3738f2(0xbc9)],'instructions':_0x923ec[_0x3738f2(0xa73)],'temperature':_0x923ec[_0x3738f2(0x83a)],'maxTokens':_0x923ec[_0x3738f2(0xa3e)],'initialPrompt':_0x364a56[_0x3738f2(0xa53)],'tools':_0x3c28d2[_0x3738f2(0x8df)](_0x2f8fc2=>({..._0x2f8fc2,'name':this[_0x3738f2(0x45d)](_0x2f8fc2),'description':this['getToolDescription'](_0x2f8fc2),'parameters':this['getToolParams'](_0x2f8fc2)}))},'lastAgent':{'modelId':_0x5280d9[_0x3738f2(0x4ac)],'taskType':_0x1886ef['taskType'],'instructions':_0x5280d9[_0x3738f2(0xa73)],'initialPrompt':_0x364a56[_0x3738f2(0xa53)]}};}if('file-delete'===_0x24a4ce[_0x3738f2(0x751)]){const {vendorId:_0x4aa7ee,collectionId:_0x304676,fileId:_0x1c41ac}=_0x24a4ce,_0x39a107=await _0x51b0dd['getDataCollection'](_0x4aa7ee,_0x304676),_0x549750=this[_0x3738f2(0x35f)]?.[_0x3738f2(0x9de)](_0x39a107[_0x3738f2(0x222)]);if(!_0x549750)throw new Error(_0x3738f2(0x992));const _0x4a2dab=_0x561564(_0x4aa7ee,_0x39a107);if(_0x39a107[_0x3738f2(0x222)]===_0x182c91[_0x3738f2(0x487)][_0x3738f2(0x53f)])try{await _0x549750[_0x3738f2(0x82a)](_0x4a2dab,_0x304676,'/'+_0x4aa7ee+'/'+_0x304676+'/'+_0x1c41ac),await this[_0x3738f2(0x5b9)][_0x3738f2(0x4c4)]('/'+_0x4aa7ee+'/'+_0x304676+'/'+_0x1c41ac);}catch(_0x63883a){_0x11d8aa[_0x3738f2(0x730)](_0x3738f2(0x5a3),_0x63883a);}else try{await _0x549750[_0x3738f2(0x82a)](_0x4a2dab,_0x304676,_0x1c41ac);}catch(_0x1b45c4){_0x11d8aa[_0x3738f2(0x730)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x1b45c4);}return{'type':_0x3738f2(0x9aa)};}if('file-download'===_0x24a4ce[_0x3738f2(0x751)]){let _0x1301d8;const _0x424f2a=this[_0x3738f2(0x841)][_0x3738f2(0x780)]();for(;!_0x1301d8;){const _0x59c53f=_0x424f2a[_0x3738f2(0x8e5)]()[_0x3738f2(0x435)];if(!_0x59c53f)throw new Error(_0x3738f2(0xbb2));_0x1301d8=this['dataStores'][_0x3738f2(0x9de)](_0x59c53f);try{const _0x2e1e1c=await _0x1301d8[_0x3738f2(0x9de)](_0x24a4ce[_0x3738f2(0x72b)]);return{'type':_0x3738f2(0xb9e),'fileName':_0x2e1e1c[_0x3738f2(0x3b3)],'mimeType':_0x2e1e1c[_0x3738f2(0x751)],'document':await _0x2e1e1c[_0x3738f2(0x9a8)]()};}catch(_0x4b6095){continue;}}throw new Error(_0x3738f2(0xbb2));}if('file-ingest'===_0x24a4ce[_0x3738f2(0x751)]){const {vendorId:_0xf246f3,collectionId:_0x4e8bc3,fileName:_0x1d4cdc,content:_0x50ef8a}=_0x24a4ce,_0x43797f=await _0x51b0dd[_0x3738f2(0x1f6)](_0xf246f3,_0x4e8bc3);if(_0x43797f['storageType']!==_0x182c91[_0x3738f2(0x487)][_0x3738f2(0x53f)]){const _0x1bb8ec=this[_0x3738f2(0x35f)]?.[_0x3738f2(0x9de)](_0x43797f[_0x3738f2(0x222)]);if(!_0x1bb8ec)throw new Error(_0x3738f2(0x992));const _0x3bafbc=_0x561564(_0xf246f3,_0x43797f);return await _0x1bb8ec[_0x3738f2(0x41f)](_0x3bafbc,_0x4e8bc3,_0x1d4cdc,_0x50ef8a),{'type':_0x3738f2(0x413)};}const _0x48519f=_0x43797f[_0x3738f2(0xa00)]?.[_0x3738f2(0x43b)](_0x498300=>_0x498300[_0x3738f2(0x751)]===_0xc60fdf['Upload']);if(!_0x48519f)throw new Error('No\x20start\x20block\x20found');return await _0x4eb369(_0x24a4ce[_0x3738f2(0x97c)],_0x346ada,'/'+_0xf246f3+'/'+_0x4e8bc3+'/'+_0x1d4cdc,_0x50ef8a,_0x48519f,_0x43797f,{'objectStoreConnector':this[_0x3738f2(0x5b9)],'ragConnector':this[_0x3738f2(0x35f)]?.[_0x3738f2(0x9de)](_0x182c91[_0x3738f2(0x487)]['Crewdle']),'documentParserConnector':this[_0x3738f2(0x372)],'fileConnector':this[_0x3738f2(0x40e)],'nlpLibraryConnector':this[_0x3738f2(0x3fc)],'generativeAIWorkerConnectors':this[_0x3738f2(0x5e5)],'models':Array[_0x3738f2(0x306)](this[_0x3738f2(0x9df)][_0x3738f2(0xa12)]()),'contentMediator':this[_0x3738f2(0x1db)]}),{'type':'file-ingest'};}if('file-list'===_0x24a4ce[_0x3738f2(0x751)]){const {vendorId:_0x472c99,collectionId:_0xa5a097}=_0x24a4ce,_0xe8a4d1=await _0x51b0dd['getDataCollection'](_0x472c99,_0xa5a097);if(_0xe8a4d1['storageType']!==_0x182c91[_0x3738f2(0x487)][_0x3738f2(0x53f)]){const _0x3d6e74=this[_0x3738f2(0x35f)]?.[_0x3738f2(0x9de)](_0xe8a4d1['storageType']);if(!_0x3d6e74)throw new Error(_0x3738f2(0x992));const _0xcbb779=_0x561564(_0x472c99,_0xe8a4d1);return{'type':_0x3738f2(0x611),'files':await _0x3d6e74['listFiles'](_0xcbb779,_0xa5a097)};}try{return{'type':_0x3738f2(0x611),'files':(await this[_0x3738f2(0x5b9)][_0x3738f2(0x5c1)]('/'+_0x472c99+'/'+_0xa5a097,!0x1))[_0x3738f2(0x8df)](_0x515c44=>({'name':_0x515c44[_0x3738f2(0x3b3)],'id':_0x515c44['name'],'status':_0x3738f2(0x98c)}))};}catch(_0x147c34){return{'type':_0x3738f2(0x611),'files':[]};}}if(_0x3738f2(0x637)===_0x24a4ce['type']){const {vendorId:_0x5cdb6c,collectionId:_0x538de0}=_0x24a4ce,_0x5c3a8f=await _0x51b0dd[_0x3738f2(0x1f6)](_0x5cdb6c,_0x538de0),_0x29f3b7=this[_0x3738f2(0x35f)]?.[_0x3738f2(0x9de)](_0x5c3a8f['storageType']);if(!_0x29f3b7)return{'type':_0x3738f2(0x637)};const _0x4c3252=_0x561564(_0x5cdb6c,_0x5c3a8f);return await _0x29f3b7['createCollection'](_0x4c3252,_0x538de0),{'type':_0x3738f2(0x637)};}if(_0x3738f2(0x286)===_0x24a4ce[_0x3738f2(0x751)]){const {vendorId:_0x36390b,collectionId:_0x1869cc}=_0x24a4ce,_0x14ffa2=await _0x51b0dd[_0x3738f2(0x1f6)](_0x36390b,_0x1869cc),_0x6989fa=this[_0x3738f2(0x35f)]?.[_0x3738f2(0x9de)](_0x14ffa2['storageType']);if(!_0x6989fa)return{'type':_0x3738f2(0x286)};const _0x551f9=_0x561564(_0x36390b,_0x14ffa2);let _0xd982e1=!0x1;if(_0x14ffa2[_0x3738f2(0x61a)]===_0x36b253[_0x3738f2(0xa30)]&&(_0xd982e1=!0x0),_0x14ffa2[_0x3738f2(0x61a)]===_0x36b253[_0x3738f2(0xbb5)]){_0xd982e1=!0x0;const _0x31c63d=await _0x51b0dd[_0x3738f2(0x486)](_0x36390b);for(const _0x2a2db6 of _0x31c63d)if(_0x2a2db6['storageType']===_0x14ffa2[_0x3738f2(0x222)]&&_0x2a2db6[_0x3738f2(0x61a)]===_0x36b253['Account']&&_0x2a2db6['id']!==_0x14ffa2['id']){_0xd982e1=!0x1;break;}}try{await _0x6989fa['deleteCollection'](_0x551f9,_0x1869cc,_0xd982e1);}catch(_0x49c83e){_0x11d8aa[_0x3738f2(0x730)](_0x3738f2(0x90e),_0x49c83e);}return{'type':_0x3738f2(0x286)};}if(_0x3738f2(0xbb8)===_0x24a4ce[_0x3738f2(0x751)]){const {query:_0x498e09,vendorId:_0x3170dd,collectionId:_0x132ba0}=_0x24a4ce,_0x20a9bf=await _0x51b0dd[_0x3738f2(0x1f6)](_0x3170dd,_0x132ba0);if(_0x20a9bf[_0x3738f2(0x222)]!==_0x182c91[_0x3738f2(0x487)][_0x3738f2(0x53f)]){const _0x28c72b=this['ragConnectors']?.[_0x3738f2(0x9de)](_0x20a9bf['storageType']);if(!_0x28c72b)throw new Error(_0x3738f2(0x992));const _0x529a07=_0x561564(_0x3170dd,_0x20a9bf);return{'type':_0x3738f2(0xbb8),'results':await _0x28c72b['queryCollection'](_0x529a07,_0x132ba0,_0x498e09,0x1)};}const _0x540a2e=_0x20a9bf[_0x3738f2(0x545)]?.[_0x3738f2(0x43b)](_0x32d8da=>_0x32d8da[_0x3738f2(0x751)]===_0xc60fdf['Prompt']);return{'type':_0x3738f2(0xbb8),'results':(await _0xdc75ab(_0x24a4ce[_0x3738f2(0x97c)],_0x346ada,'',_0x498e09,_0x540a2e,_0x20a9bf,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x3738f2(0x35f)]?.[_0x3738f2(0x9de)](_0x182c91['GenerativeAIRagType'][_0x3738f2(0x53f)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x3738f2(0x3fc)],'generativeAIWorkerConnectors':this[_0x3738f2(0x5e5)],'models':Array[_0x3738f2(0x306)](this[_0x3738f2(0x9df)][_0x3738f2(0xa12)]()),'contentMediator':this[_0x3738f2(0x1db)],'searchConnector':this[_0x3738f2(0xb06)],'aiSearchConnector':this[_0x3738f2(0x1e5)],'queryFileConnector':this[_0x3738f2(0x3df)]}))[_0x3738f2(0xb32)]??[]};}throw new Error(_0x3738f2(0x294));}async*['internalProcessJobStream'](_0x42ebb9,_0x262d39){const _0x30e7da=_0x2aff22;if(_0x30e7da(0x54f)===_0x262d39[_0x30e7da(0x751)]){await this[_0x30e7da(0xb71)](_0x42ebb9,_0x262d39);const _0x3f927a=await _0x51b0dd[_0x30e7da(0xbd8)](_0x262d39[_0x30e7da(0x97c)],_0x262d39[_0x30e7da(0x7bc)]),_0x39d516=_0x3f927a[_0x30e7da(0xb60)][_0x30e7da(0x43b)](_0x45f3ef=>_0x45f3ef[_0x30e7da(0x751)]===_0x187b0c[_0x30e7da(0x3e8)]||_0x45f3ef[_0x30e7da(0x751)]===_0x187b0c[_0x30e7da(0x69e)]);for await(const _0x58117e of _0x547e01(_0x262d39[_0x30e7da(0xb2d)]??_0x42ebb9,_0x262d39,_0x39d516,_0x3f927a[_0x30e7da(0xb60)],{'documentParserConnector':this[_0x30e7da(0x372)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this['models'][_0x30e7da(0xa12)]()),'contentMediator':this[_0x30e7da(0x1db)],'searchConnector':this[_0x30e7da(0xb06)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x30e7da(0x3df)]}))yield _0x58117e;await this[_0x30e7da(0xa0b)](_0x42ebb9,_0x262d39);}if(_0x30e7da(0x7a2)===_0x262d39['type']){await this[_0x30e7da(0xb71)](_0x42ebb9,_0x262d39);for await(const _0x335e03 of _0x85e4a2(_0x262d39[_0x30e7da(0xb2d)]??_0x42ebb9,_0x262d39,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x30e7da(0x40e)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x30e7da(0x306)](this['models']['values']()),'contentMediator':this[_0x30e7da(0x1db)],'searchConnector':this[_0x30e7da(0xb06)],'aiSearchConnector':this[_0x30e7da(0x1e5)],'queryFileConnector':this[_0x30e7da(0x3df)]}))yield _0x335e03;await this[_0x30e7da(0xa0b)](_0x42ebb9,_0x262d39);}}async[_0x2aff22(0xb71)](_0x5796f1,_0xec92f3){const _0x33a55d=_0x2aff22;if(_0x33a55d(0x907)===_0xec92f3[_0x33a55d(0x751)])return _0x5796f1=_0xec92f3[_0x33a55d(0xb2d)],void await this[_0x33a55d(0x95f)](_0x5796f1,_0xec92f3['vendorId'],_0xec92f3[_0x33a55d(0x7bc)]);_0x33a55d(0x54f)!==_0xec92f3['type']&&_0x33a55d(0x7a2)!==_0xec92f3[_0x33a55d(0x751)]||!_0xec92f3[_0x33a55d(0xb2d)]||(_0x5796f1=_0xec92f3[_0x33a55d(0xb2d)]),await this[_0x33a55d(0x95f)](_0x5796f1,_0xec92f3[_0x33a55d(0x97c)],_0xec92f3[_0x33a55d(0x7bc)],_0xec92f3[_0x33a55d(0x7d7)]),await _0x2a3821[_0x33a55d(0x9f3)]({'jobType':_0x42d38a[_0x33a55d(0x47d)],'type':_0x2e062f['Queued'],'traceLevel':_0x192bcf[_0x33a55d(0x6fa)],'jobId':_0x5796f1,'threadId':_0xec92f3[_0x33a55d(0x7d7)],'startTime':Date[_0x33a55d(0x75c)](),'timestamp':Date[_0x33a55d(0x75c)](),'status':_0x33a55d(0x6ce)});}async['stopTracing'](_0x2a5099,_0x47f006){const _0x2f5145=_0x2aff22;if(_0x2f5145(0x907)===_0x47f006['type'])return _0x2a5099=_0x47f006[_0x2f5145(0xb2d)],void await this[_0x2f5145(0xa9a)](_0x2a5099);_0x2f5145(0x54f)!==_0x47f006[_0x2f5145(0x751)]&&_0x2f5145(0x7a2)!==_0x47f006[_0x2f5145(0x751)]||!_0x47f006[_0x2f5145(0xb2d)]||(_0x2a5099=_0x47f006['jobId']),await _0x2a3821[_0x2f5145(0x9f3)]({'jobType':_0x42d38a[_0x2f5145(0x47d)],'type':_0x2e062f['Completed'],'traceLevel':_0x192bcf[_0x2f5145(0x6fa)],'jobId':_0x2a5099,'threadId':_0x47f006[_0x2f5145(0x7d7)],'startTime':Date['now'](),'timestamp':Date[_0x2f5145(0x75c)](),'status':_0x2f5145(0x6ce)}),await this[_0x2f5145(0xa9a)](_0x2a5099,_0x47f006[_0x2f5145(0x7d7)]);}async[_0x2aff22(0x95f)](_0x18a288,_0x40efa4,_0x43ce15,_0x127b62){const _0x5c85d1=_0x2aff22;try{if(!await _0x2a3821[_0x5c85d1(0x95f)](_0x40efa4,_0x18a288,_0x43ce15,_0x127b62))throw new Error(_0x5c85d1(0x368));return _0x18a288;}catch(_0x57d4e2){return console[_0x5c85d1(0x730)](_0x5c85d1(0x368),_0x57d4e2),_0x5c85d1(0x532);}}async[_0x2aff22(0xa9a)](_0x40c01e,_0x1b6d08){const _0x461ef2=_0x2aff22;try{await _0x2a3821[_0x461ef2(0xa9a)](_0x40c01e,_0x1b6d08);}catch(_0x7f625f){console[_0x461ef2(0x730)](_0x461ef2(0x315),{'jobId':_0x40c01e,'error':_0x7f625f});}}[_0x2aff22(0x45d)](_0x98d6fc){const _0x295586=_0x2aff22;switch(_0x98d6fc['type']){case _0x187b0c[_0x295586(0x2e3)]:case _0x187b0c[_0x295586(0x234)]:return _0x295586(0xb5c)+_0x98d6fc[_0x295586(0x3b3)][_0x295586(0x481)](/[^a-zA-Z]/g,'');case _0x187b0c[_0x295586(0x2b0)]:return _0x295586(0x834)+_0x98d6fc['name'][_0x295586(0x481)](/[^a-zA-Z]/g,'');case _0x187b0c[_0x295586(0x6e3)]:case _0x187b0c[_0x295586(0x2cb)]:return _0x295586(0x38b)+_0x98d6fc[_0x295586(0x3b3)][_0x295586(0x481)](/[^a-zA-Z]/g,'');case _0x187b0c['CustomSkill']:return _0x98d6fc[_0x295586(0x3b3)][_0x295586(0x481)](/[^a-zA-Z]/g,'');case _0x187b0c['AiSearch']:return _0x295586(0x796);case _0x187b0c['Code']:return'executeJavascriptCodeSnippet';case _0x187b0c['Search']:return _0x295586(0x677);case _0x187b0c['WebScraper']:case _0x187b0c[_0x295586(0x7d2)]:return _0x295586(0xa94);case _0x182c91[_0x295586(0x4f9)][_0x295586(0x8eb)]:return _0x295586(0x30f)+_0x98d6fc[_0x295586(0x3b3)][_0x295586(0x481)](/[^a-zA-Z]/g,'');case _0x182c91['GenerativeAIInferenceToolType'][_0x295586(0x8cf)]:return _0x295586(0x843)+_0x98d6fc[_0x295586(0x3b3)]['replace'](/[^a-zA-Z]/g,'');case _0x182c91['GenerativeAIInferenceToolType'][_0x295586(0x932)]:return _0x295586(0x91b)+_0x98d6fc[_0x295586(0x3b3)][_0x295586(0x481)](/[^a-zA-Z]/g,'');default:return'';}}[_0x2aff22(0x79e)](_0x361d82){const _0x643fd6=_0x2aff22;switch(_0x361d82[_0x643fd6(0x751)]){case _0x187b0c['Agent']:case _0x187b0c['AgentSkill']:return _0x643fd6(0x5d7)+_0x361d82[_0x643fd6(0x347)]+_0x643fd6(0x2df);case _0x187b0c[_0x643fd6(0x2b0)]:return _0x643fd6(0x8e9)+_0x361d82[_0x643fd6(0x347)]+_0x643fd6(0x2df);case _0x187b0c[_0x643fd6(0x6e3)]:case _0x187b0c[_0x643fd6(0x2cb)]:return _0x643fd6(0x6b7)+_0x361d82['description']+_0x643fd6(0x9d9);case _0x187b0c['CustomSkill']:return _0x643fd6(0x777)+_0x361d82[_0x643fd6(0x347)];case _0x187b0c['AiSearch']:return _0x643fd6(0xb89);case _0x187b0c[_0x643fd6(0x4c0)]:return _0x643fd6(0x95a);case _0x187b0c[_0x643fd6(0x45a)]:return _0x643fd6(0x9f5);case _0x187b0c[_0x643fd6(0x2bf)]:case _0x187b0c['WebScraperRaw']:return _0x643fd6(0xb50);case _0x182c91[_0x643fd6(0x4f9)][_0x643fd6(0x8eb)]:return _0x643fd6(0x540);case _0x182c91['GenerativeAIInferenceToolType'][_0x643fd6(0x8cf)]:return _0x643fd6(0xaa9);case _0x182c91[_0x643fd6(0x4f9)][_0x643fd6(0x932)]:return'Submit\x20the\x20form.';default:return'';}}[_0x2aff22(0x5fe)](_0x29e580){const _0x11c63d=_0x2aff22;switch(_0x29e580[_0x11c63d(0x751)]){case _0x187b0c[_0x11c63d(0x2e3)]:case _0x187b0c[_0x11c63d(0x234)]:case _0x187b0c[_0x11c63d(0x2b0)]:return[{'name':_0x11c63d(0x54f),'type':_0x11c63d(0xb85)}];case _0x187b0c[_0x11c63d(0x6e3)]:case _0x187b0c[_0x11c63d(0x2cb)]:return[{'name':_0x11c63d(0x6f3),'type':'string'}];case _0x187b0c[_0x11c63d(0x6ef)]:return _0x29e580[_0x11c63d(0xa27)][_0x11c63d(0x8df)](_0x1dcf4e=>({'name':_0x1dcf4e[_0x11c63d(0x3b3)],'type':_0x1dcf4e[_0x11c63d(0x751)]??_0x11c63d(0xb85)}))??[];case _0x187b0c[_0x11c63d(0xbea)]:return[{'name':_0x11c63d(0x794),'type':_0x11c63d(0xb85)}];case _0x187b0c[_0x11c63d(0x4c0)]:return[{'name':_0x11c63d(0x400),'type':'string'}];case _0x187b0c[_0x11c63d(0x45a)]:return[{'name':'query','type':'string'}];case _0x187b0c[_0x11c63d(0x2bf)]:case _0x187b0c[_0x11c63d(0x7d2)]:return[{'name':'url','type':_0x11c63d(0xb85)},{'name':_0x11c63d(0xb2e),'type':_0x11c63d(0xb63)}];case _0x182c91['GenerativeAIInferenceToolType'][_0x11c63d(0x8eb)]:return[];case _0x182c91[_0x11c63d(0x4f9)]['FormSkillSetAnswer']:return[{'name':'id','type':_0x11c63d(0xb85)},{'name':'answer','type':_0x11c63d(0xb85)}];case _0x182c91['GenerativeAIInferenceToolType'][_0x11c63d(0x932)]:default:return[];}}}class _0xd74e80{[_0x2aff22(0x6cb)];[_0x2aff22(0x81a)];['localMediaStreams']=new Map();[_0x2aff22(0x80b)]=new Map();['pubSubTopics']=new Map();[_0x2aff22(0x23b)]=new Map();['externalStorageConnections']=new Map();[_0x2aff22(0xa2d)]=new Map();[_0x2aff22(0xa0c)]=new Map();[_0x2aff22(0x3b0)]=new Map();[_0x2aff22(0x245)]=new Map();[_0x2aff22(0x6cc)]=new Map();[_0x2aff22(0xbef)]=new Map();[_0x2aff22(0xbc6)];constructor(_0x30237a,_0x2e4c16){const _0xc7327e=_0x2aff22;this[_0xc7327e(0x6cb)]=_0x30237a,this['options']=_0x2e4c16,this[_0xc7327e(0xbc6)]=new _0x4b617e(this['configs'][_0xc7327e(0x97c)],this[_0xc7327e(0x6cb)]['clusterId']);}['close'](_0x19f1c0=!0x1){const _0x4bb869=_0x2aff22;this[_0x4bb869(0x80b)][_0x4bb869(0x663)]((_0xa5cf1e,_0x6dec51)=>{const _0x537a1e=_0x4bb869;_0xa5cf1e[_0x537a1e(0x663)]((_0x22076a,_0x5e96ea)=>{const _0x474d28=_0x537a1e;this[_0x474d28(0x3e3)](_0x6dec51,_0x5e96ea);});}),_0x19f1c0||(_0x31cd8d[_0x4bb869(0x56c)](),this[_0x4bb869(0x5fb)][_0x4bb869(0x663)]((_0x5922fd,_0x350b61)=>{const _0x2a1ffa=_0x4bb869;this[_0x2a1ffa(0x432)](_0x350b61);}),this[_0x4bb869(0xbd3)][_0x4bb869(0x663)]((_0x3fe391,_0x49d6e9)=>{const _0x38ae57=_0x4bb869;this[_0x38ae57(0x691)](_0x49d6e9);}),this[_0x4bb869(0x23b)][_0x4bb869(0x663)]((_0x589335,_0x12f190)=>{this['removeObjectStore'](_0x12f190);}),this['externalStorageConnections'][_0x4bb869(0x663)]((_0x19fccd,_0x8815a9)=>{this['removeExternalStorageConnection'](_0x8815a9);}),this[_0x4bb869(0xa2d)]['forEach']((_0x269241,_0x76af36)=>{const _0x13e2de=_0x4bb869;this[_0x13e2de(0x9fe)](_0x76af36);}),this[_0x4bb869(0x245)]['forEach']((_0x264849,_0x1ad05d)=>{const _0x391737=_0x4bb869;this[_0x391737(0x86b)](_0x1ad05d);}),this[_0x4bb869(0x6cc)][_0x4bb869(0x663)]((_0x3525fa,_0xc15629)=>{const _0x88314c=_0x4bb869;this[_0x88314c(0x1f7)](_0xc15629);}),this[_0x4bb869(0xbef)][_0x4bb869(0x663)]((_0x511cf1,_0x204871)=>{const _0x1d63a3=_0x4bb869;this[_0x1d63a3(0x9f1)](_0x204871);}),this[_0x4bb869(0xa0c)]['forEach']((_0x1fb924,_0x242e4c)=>{this['removeVectorDatabase'](_0x242e4c);}),this[_0x4bb869(0x3b0)]['forEach']((_0x421112,_0xcb9177)=>{this['removeGraphDatabase'](_0xcb9177);}));}[_0x2aff22(0xb2a)](_0x506c2e,_0x33d1c0,_0x4ade3b){const _0x539f61=_0x2aff22;if(this[_0x539f61(0x23b)][_0x539f61(0x938)](_0x506c2e))throw new _0x447098(_0x35722f[_0x539f61(0x973)],_0x539f61(0x9f8));const _0x4fddd2=new _0x242aeb(this[_0x539f61(0x6cb)]['localNode'],_0x506c2e,this[_0x539f61(0x6cb)]['clusterId'],this[_0x539f61(0x6cb)][_0x539f61(0x97c)],this[_0x539f61(0xbc6)],_0x33d1c0,()=>this[_0x539f61(0x6cb)][_0x539f61(0x55b)][_0x539f61(0x5ea)](),_0x4ade3b);return this[_0x539f61(0x23b)][_0x539f61(0x25c)](_0x506c2e,_0x4fddd2),this[_0x539f61(0x6cb)][_0x539f61(0x55b)][_0x539f61(0xbd4)](_0x4fddd2),_0x4fddd2;}[_0x2aff22(0x3c7)](_0x2f63c2,_0x31f2d8){const _0x7390d2=_0x2aff22;if(this['objectStores']['has'](_0x2f63c2))throw new _0x447098(_0x35722f[_0x7390d2(0x8c0)],_0x7390d2(0x277));const _0x13fb2d=new _0x2edb4c(this[_0x7390d2(0x6cb)]['localNode'],_0x2f63c2,this[_0x7390d2(0x6cb)][_0x7390d2(0x3d0)],this[_0x7390d2(0x6cb)]['vendorId'],_0x31f2d8);return this['externalStorageConnections'][_0x7390d2(0x25c)](_0x2f63c2,_0x13fb2d),this[_0x7390d2(0x6cb)]['mediator'][_0x7390d2(0xbd4)](_0x13fb2d),_0x13fb2d;}async[_0x2aff22(0x5ba)](_0x34de5a,_0x5e7527,_0x297022){const _0x5edf79=_0x2aff22;if(this[_0x5edf79(0xa2d)][_0x5edf79(0x938)](_0x34de5a))throw new _0x447098(_0x35722f[_0x5edf79(0x31c)],_0x5edf79(0x538));try{const _0x1b6217=this[_0x5edf79(0x6cb)][_0x5edf79(0x55b)][_0x5edf79(0x85e)]['bind'](this[_0x5edf79(0x6cb)]['mediator']),_0x540f98=new _0x44d37d(this[_0x5edf79(0x6cb)][_0x5edf79(0x20e)],_0x34de5a,this[_0x5edf79(0x6cb)]['clusterId'],this[_0x5edf79(0x6cb)][_0x5edf79(0x97c)],_0x5e7527,_0x297022,_0x1b6217);return this[_0x5edf79(0xa2d)][_0x5edf79(0x25c)](_0x34de5a,_0x540f98),this[_0x5edf79(0x6cb)]['mediator'][_0x5edf79(0xbd4)](_0x540f98),_0x540f98;}catch(_0x1e5771){if(_0x1e5771 instanceof _0x447098)throw _0x1e5771;throw new _0x1a8c20(_0x1a8c20['codes'][_0x5edf79(0xa9f)],{'label':_0x34de5a,'clusterId':this['configs'][_0x5edf79(0x3d0)],'vendorId':this[_0x5edf79(0x6cb)][_0x5edf79(0x97c)]});}}async[_0x2aff22(0x442)](_0x596c89,_0x2c1808){const _0xb5a957=_0x2aff22;if(this[_0xb5a957(0x245)]['has'](_0x596c89))throw new _0x447098(_0x35722f['JobDispatcherAlreadyExists'],_0xb5a957(0x373));try{const _0x5e0e75=new _0x900388(this[_0xb5a957(0x6cb)][_0xb5a957(0x20e)],_0x596c89,_0x2c1808);return this[_0xb5a957(0x245)]['set'](_0x596c89,_0x5e0e75),this[_0xb5a957(0x6cb)][_0xb5a957(0x55b)][_0xb5a957(0xbd4)](_0x5e0e75),_0x5e0e75;}catch(_0x2dca93){if(_0x2dca93 instanceof _0x447098)throw _0x2dca93;throw new _0x1a8c20(_0x1a8c20[_0xb5a957(0x92d)][_0xb5a957(0x1f3)],{'label':_0x596c89,'clusterId':this['configs'][_0xb5a957(0x3d0)],'vendorId':this['configs'][_0xb5a957(0x97c)]});}}async[_0x2aff22(0x358)](_0x21e229,_0x51e03f){const _0x1cf059=_0x2aff22;if(this[_0x1cf059(0x245)][_0x1cf059(0x938)](_0x21e229))throw new _0x447098(_0x35722f['GenerativeAIContextAlreadyExists'],'AI\x20Service\x20already\x20exists');if(this[_0x1cf059(0x6cc)]['has'](_0x21e229))throw new _0x447098(_0x35722f[_0x1cf059(0x5d0)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x25e2ef=new _0x1e0155(this[_0x1cf059(0x6cb)]['localNode'],_0x21e229,this[_0x1cf059(0x6cb)][_0x1cf059(0x97c)],_0x51e03f);return this[_0x1cf059(0x245)][_0x1cf059(0x25c)](_0x21e229,_0x25e2ef),this[_0x1cf059(0x6cb)]['mediator'][_0x1cf059(0xbd4)](_0x25e2ef),_0x25e2ef;}catch(_0xc29150){if(_0xc29150 instanceof _0x447098)throw _0xc29150;throw new _0x1a8c20(_0x1a8c20['codes'][_0x1cf059(0x1bf)],{'label':_0x21e229,'clusterId':this[_0x1cf059(0x6cb)]['clusterId'],'vendorId':this['configs'][_0x1cf059(0x97c)]});}}async['createGenerativeAIContextStandalone'](_0x4eb0a7,_0x31353f,_0x1bd008,_0x36f327,_0x27d81f,_0x3feedc,_0x450b2a,_0x9af703,_0x3fed6b,_0x32299a,_0x19ecf3,_0x3797d1){const _0xc3924b=_0x2aff22;if(this['generativeAIContexts'][_0xc3924b(0x938)](_0x4eb0a7))throw new _0x447098(_0x35722f['GenerativeAIContextAlreadyExists'],_0xc3924b(0x7fe));if(this['jobWorkers'][_0xc3924b(0x938)](_0x4eb0a7))throw new _0x447098(_0x35722f['GenerativeAILabelConflict'],_0xc3924b(0xaf1));try{const _0x51aedf=new _0x1a150a(this[_0xc3924b(0x6cb)]['localNode'],_0x4eb0a7,this,_0x31353f,_0x1bd008,_0x36f327,_0x27d81f,_0x3feedc,_0x450b2a,_0x9af703,_0x3fed6b,_0x32299a,_0x19ecf3,_0x3797d1);return this[_0xc3924b(0xbef)][_0xc3924b(0x25c)](_0x4eb0a7,_0x51aedf),this[_0xc3924b(0x6cb)]['mediator']['registerSystemSource'](_0x51aedf),_0x51aedf;}catch(_0x2b2885){if(_0x2b2885 instanceof _0x447098)throw _0x2b2885;throw new _0x1a8c20(_0x1a8c20[_0xc3924b(0x92d)][_0xc3924b(0x1bf)],{'label':_0x4eb0a7,'clusterId':this[_0xc3924b(0x6cb)]['clusterId'],'vendorId':this['configs'][_0xc3924b(0x97c)]});}}async[_0x2aff22(0xa9c)](_0xe7a23d,_0x13aab4,_0x14a8fe,_0x2bf198,_0x2c5f58,_0x5afd8f,_0x2ed624,_0x45740f,_0x2d4ad3,_0x45eefe,_0x4f4d9d,_0x1ef1d2,_0x43ea3d){const _0x28fd8b=_0x2aff22;if(this[_0x28fd8b(0x6cc)]['has'](_0xe7a23d))throw new _0x447098(_0x35722f['GenerativeAIWorkerAlreadyExists'],_0x28fd8b(0x3bf));if(this[_0x28fd8b(0x245)][_0x28fd8b(0x938)](_0xe7a23d))throw new _0x447098(_0x35722f['GenerativeAILabelConflict'],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x424979=new _0x3a2461(this[_0x28fd8b(0x6cb)][_0x28fd8b(0x20e)],_0xe7a23d,_0x13aab4,this,_0x14a8fe,_0x2bf198,_0x2c5f58,_0x5afd8f,_0x2ed624,_0x45740f,_0x2d4ad3,_0x45eefe,_0x4f4d9d,_0x1ef1d2,_0x43ea3d);return this[_0x28fd8b(0x6cc)][_0x28fd8b(0x25c)](_0xe7a23d,_0x424979),this['configs'][_0x28fd8b(0x55b)][_0x28fd8b(0xbd4)](_0x424979),_0x424979;}catch(_0x19b139){if(_0x19b139 instanceof _0x447098)throw _0x19b139;throw new _0x1a8c20(_0x1a8c20[_0x28fd8b(0x92d)]['GenerativeAIWorkerCreationFailed'],{'label':_0xe7a23d,'clusterId':this['configs'][_0x28fd8b(0x3d0)],'vendorId':this[_0x28fd8b(0x6cb)][_0x28fd8b(0x97c)]});}}['createGraphDatabase'](_0x14a059,_0x3e3ff6){const _0x5f49a9=_0x2aff22;if(this[_0x5f49a9(0x3b0)][_0x5f49a9(0x938)](_0x14a059))throw new _0x447098(_0x35722f[_0x5f49a9(0x264)],'Database\x20already\x20exists');try{const _0x5803de=new _0x12e1e9(this[_0x5f49a9(0x6cb)][_0x5f49a9(0x20e)],_0x14a059,this['configs'][_0x5f49a9(0x3d0)],this[_0x5f49a9(0x6cb)]['vendorId'],_0x3e3ff6);return this['graphDatabases']['set'](_0x14a059,_0x5803de),this[_0x5f49a9(0x6cb)][_0x5f49a9(0x55b)][_0x5f49a9(0xbd4)](_0x5803de),_0x5803de;}catch(_0x289bba){if(_0x289bba instanceof _0x447098)throw _0x289bba;throw new _0x1a8c20(_0x1a8c20[_0x5f49a9(0x92d)][_0x5f49a9(0x6c7)],{'label':_0x14a059,'clusterId':this[_0x5f49a9(0x6cb)]['clusterId'],'vendorId':this[_0x5f49a9(0x6cb)]['vendorId']});}}[_0x2aff22(0x218)](_0x40b355,_0x515026){const _0x5dd9aa=_0x2aff22;if(this['localMediaStreams']['has'](_0x40b355))throw new _0x447098(_0x35722f[_0x5dd9aa(0x768)],_0x5dd9aa(0x665));if(!this[_0x5dd9aa(0x81a)]['audioContext'])throw new _0x447098(_0x35722f['LocalMediaStreamNoAudioContext'],_0x5dd9aa(0xa86));const _0x42453d=new _0x13e713(this['configs']['localNode'],_0x40b355,_0x515026,this[_0x5dd9aa(0x81a)][_0x5dd9aa(0x241)],this[_0x5dd9aa(0x81a)][_0x5dd9aa(0x591)],this['configs']['clusterId']);return this['localMediaStreams'][_0x5dd9aa(0x25c)](_0x40b355,_0x42453d),this[_0x5dd9aa(0x6cb)][_0x5dd9aa(0x55b)][_0x5dd9aa(0xbd4)](_0x42453d),_0x42453d['publish'](),_0x42453d;}[_0x2aff22(0x6db)](_0x289453,_0xd99a68){const _0x364c60=_0x2aff22;if(this['localMediaStreams'][_0x364c60(0x938)](_0x289453))throw new _0x447098(_0x35722f[_0x364c60(0x768)],_0x364c60(0x38d));const _0x5e6ffe=new _0x3b0bca(this['configs'][_0x364c60(0x20e)],_0x289453,_0xd99a68,this[_0x364c60(0x6cb)][_0x364c60(0x3d0)]);return this[_0x364c60(0x5fb)]['set'](_0x289453,_0x5e6ffe),this[_0x364c60(0x6cb)][_0x364c60(0x55b)][_0x364c60(0xbd4)](_0x5e6ffe),_0x5e6ffe[_0x364c60(0x9cd)](),_0x5e6ffe;}['createPubSubTopic'](_0x4139c9){const _0x342347=_0x2aff22;if(this[_0x342347(0xbd3)][_0x342347(0x938)](_0x4139c9))throw new _0x447098(_0x35722f[_0x342347(0x6ca)],_0x342347(0x673));const _0x217b88=new _0x2544c1(this['configs']['localNode'],_0x4139c9,this['configs'][_0x342347(0x3d0)]);return this[_0x342347(0xbd3)][_0x342347(0x25c)](_0x4139c9,_0x217b88),this[_0x342347(0x6cb)]['mediator'][_0x342347(0xbd4)](_0x217b88),_0x217b88;}[_0x2aff22(0xb61)](_0x46ae1c,_0x44721e,_0x524c42,_0x39ea9e){const _0x499068=_0x2aff22;this[_0x499068(0x80b)]['has'](_0x46ae1c)||this[_0x499068(0x80b)][_0x499068(0x25c)](_0x46ae1c,new Map());const _0x23ebd3=this['remoteMediaStreams'][_0x499068(0x9de)](_0x46ae1c);if(_0x23ebd3[_0x499068(0x938)](_0x44721e))throw new _0x447098(_0x35722f[_0x499068(0xbc1)],'Remote\x20MediaStream\x20already\x20exists');const _0x389e6d=new _0x55a57b(_0x46ae1c,'',''),_0x16db2d=new _0x5007b0(this[_0x499068(0x6cb)][_0x499068(0x20e)],_0x389e6d,_0x44721e,_0x524c42,_0x39ea9e,this[_0x499068(0x6cb)][_0x499068(0x3d0)]);return _0x23ebd3['set'](_0x44721e,_0x16db2d),this[_0x499068(0x6cb)][_0x499068(0x55b)][_0x499068(0xbd4)](_0x16db2d),_0x16db2d;}['createVectorDatabase'](_0x18fd37,_0x2bd8d5){const _0x14bdbf=_0x2aff22;if(this[_0x14bdbf(0xa0c)][_0x14bdbf(0x938)](_0x18fd37))throw new _0x447098(_0x35722f[_0x14bdbf(0x8e4)],_0x14bdbf(0x538));try{const _0x17bda0=new _0x2985ef(this[_0x14bdbf(0x6cb)][_0x14bdbf(0x20e)],_0x18fd37,this[_0x14bdbf(0x6cb)][_0x14bdbf(0x3d0)],this[_0x14bdbf(0x6cb)][_0x14bdbf(0x97c)],_0x2bd8d5);return this[_0x14bdbf(0xa0c)]['set'](_0x18fd37,_0x17bda0),this[_0x14bdbf(0x6cb)][_0x14bdbf(0x55b)][_0x14bdbf(0xbd4)](_0x17bda0),_0x17bda0;}catch(_0x472ede){if(_0x472ede instanceof _0x447098)throw _0x472ede;throw new _0x1a8c20(_0x1a8c20['codes'][_0x14bdbf(0x70f)],{'label':_0x18fd37,'clusterId':this[_0x14bdbf(0x6cb)][_0x14bdbf(0x3d0)],'vendorId':this[_0x14bdbf(0x6cb)][_0x14bdbf(0x97c)]});}}[_0x2aff22(0x2f6)](_0x25a3fc){const _0x5e4b55=_0x2aff22,_0x3253be=Array[_0x5e4b55(0x306)](this[_0x5e4b55(0x23b)][_0x5e4b55(0xa12)]());return _0x25a3fc?_0x3253be[_0x5e4b55(0xae8)](_0x25a3fc):_0x3253be;}['getExternalStorageConnections'](_0x33e03c){const _0x3a256e=_0x2aff22,_0x198fe1=Array['from'](this['externalStorageConnections'][_0x3a256e(0xa12)]());return _0x33e03c?_0x198fe1['filter'](_0x33e03c):_0x198fe1;}[_0x2aff22(0x2b2)](_0x2f6c42){const _0x383af7=_0x2aff22,_0x4fff1c=Array['from'](this[_0x383af7(0xa2d)]['values']());return _0x2f6c42?_0x4fff1c[_0x383af7(0xae8)](_0x2f6c42):_0x4fff1c;}[_0x2aff22(0xbf3)](_0x1e3975){const _0x4bf2f1=_0x2aff22,_0x37062c=Array[_0x4bf2f1(0x306)](this[_0x4bf2f1(0x245)][_0x4bf2f1(0xa12)]());return _0x1e3975?_0x37062c[_0x4bf2f1(0xae8)](_0x1e3975):_0x37062c;}[_0x2aff22(0xa4d)](_0x33c399){const _0x563494=_0x2aff22,_0x323c31=Array[_0x563494(0x306)](this[_0x563494(0x6cc)]['values']());return _0x33c399?_0x323c31[_0x563494(0xae8)](_0x33c399):_0x323c31;}[_0x2aff22(0x9e8)](_0x422e16){const _0x4d1c00=_0x2aff22,_0x1b664e=Array['from'](this['jobDispatchers'][_0x4d1c00(0xa12)]())[_0x4d1c00(0xae8)](_0x5bc8cf=>_0x5bc8cf instanceof _0x1e0155);return _0x422e16?_0x1b664e['filter'](_0x422e16):_0x1b664e;}[_0x2aff22(0x63e)](_0x5e36bd){const _0x47287f=_0x2aff22,_0x586427=Array[_0x47287f(0x306)](this[_0x47287f(0xbef)][_0x47287f(0xa12)]());return _0x5e36bd?_0x586427[_0x47287f(0xae8)](_0x5e36bd):_0x586427;}[_0x2aff22(0x987)](_0x3e5413){const _0x318355=_0x2aff22,_0x5f30c4=Array[_0x318355(0x306)](this['jobWorkers'][_0x318355(0xa12)]())['filter'](_0x1d242d=>_0x1d242d instanceof _0x3a2461);return _0x3e5413?_0x5f30c4[_0x318355(0xae8)](_0x3e5413):_0x5f30c4;}[_0x2aff22(0x4f3)](_0x4a30f2){const _0x414574=_0x2aff22,_0x12ca63=Array[_0x414574(0x306)](this['graphDatabases'][_0x414574(0xa12)]());return _0x4a30f2?_0x12ca63[_0x414574(0xae8)](_0x4a30f2):_0x12ca63;}['getLocalMediaStreams'](_0xf9aef4){const _0x153b02=_0x2aff22,_0x7cff2e=Array[_0x153b02(0x306)](this[_0x153b02(0x5fb)][_0x153b02(0xa12)]());return _0xf9aef4?_0x7cff2e['filter'](_0xf9aef4):_0x7cff2e;}[_0x2aff22(0x729)](_0x3db22f){const _0x1aa4ba=_0x2aff22,_0x3e7719=Array[_0x1aa4ba(0x306)](this[_0x1aa4ba(0xbd3)][_0x1aa4ba(0xa12)]());return _0x3db22f?_0x3e7719[_0x1aa4ba(0xae8)](_0x3db22f):_0x3e7719;}[_0x2aff22(0xb47)](_0x28548b){const _0x156c9d=_0x2aff22,_0x4f8116=Array[_0x156c9d(0x306)](this[_0x156c9d(0x80b)][_0x156c9d(0xa12)]())[_0x156c9d(0x317)]((_0x109cce,_0x1ca80c)=>[..._0x109cce,...Array[_0x156c9d(0x306)](_0x1ca80c[_0x156c9d(0xa12)]())],[]);return _0x28548b?_0x4f8116[_0x156c9d(0xae8)](_0x28548b):_0x4f8116;}['getVectorDatabases'](_0x3f33b4){const _0xa87176=_0x2aff22,_0x16c381=Array[_0xa87176(0x306)](this[_0xa87176(0xa0c)]['values']());return _0x3f33b4?_0x16c381[_0xa87176(0xae8)](_0x3f33b4):_0x16c381;}[_0x2aff22(0x7d4)](_0x4b344e){const _0xe55c57=_0x2aff22,_0x5c4ace=this[_0xe55c57(0x23b)][_0xe55c57(0x9de)](_0x4b344e);if(!_0x5c4ace)throw new _0x447098(_0x35722f[_0xe55c57(0x769)],_0xe55c57(0x5d8));return _0x5c4ace;}[_0x2aff22(0x302)](_0x33138d){const _0x123fb0=_0x2aff22,_0x5ac741=_0x33138d[_0x123fb0(0x99b)]('-'),_0x2a479c=this[_0x123fb0(0x374)]['get'](_0x5ac741[0x1]);if(!_0x2a479c)throw new _0x447098(_0x35722f['ExternalStorageConnectionDoesNotExist'],_0x123fb0(0xb77));return _0x2a479c;}[_0x2aff22(0x348)](_0x1fc85a){const _0xe66e5c=_0x2aff22,_0x3b389=this[_0xe66e5c(0x3b0)][_0xe66e5c(0x9de)](_0x1fc85a);if(!_0x3b389)throw new _0x447098(_0x35722f[_0xe66e5c(0xb62)],'GraphDatabase\x20not\x20found');return _0x3b389;}['getKeyValueDatabase'](_0x1020ad){const _0x13eadd=_0x2aff22,_0x20d2e7=this[_0x13eadd(0xa2d)][_0x13eadd(0x9de)](_0x1020ad);if(!_0x20d2e7)throw new _0x447098(_0x35722f[_0x13eadd(0x921)],_0x13eadd(0xbba));return _0x20d2e7;}[_0x2aff22(0x236)](_0x33c99a){const _0x4f08ea=_0x2aff22,_0x46d245=this[_0x4f08ea(0xbd3)][_0x4f08ea(0x9de)](_0x33c99a);if(!_0x46d245)throw new _0x447098(_0x35722f['PubSubTopicDoesNotExist'],_0x4f08ea(0x736));return _0x46d245;}['getVectorDatabase'](_0x2f4ef6){const _0x2b202a=_0x2aff22,_0x3e90e8=this[_0x2b202a(0xa0c)]['get'](_0x2f4ef6);if(!_0x3e90e8)throw new _0x447098(_0x35722f[_0x2b202a(0x7ad)],'VectorDatabase\x20not\x20found');return _0x3e90e8;}[_0x2aff22(0x2a5)](_0x17a443){const _0x12d49f=_0x2aff22;switch(_0x17a443[_0x12d49f(0xb25)]['type']){case _0x4f0180[_0x12d49f(0x9e6)]:this[_0x12d49f(0x913)](_0x17a443[_0x12d49f(0xb25)]);break;case _0x4f0180[_0x12d49f(0xbda)]:this[_0x12d49f(0x3c0)](_0x17a443[_0x12d49f(0xb25)]);break;case _0x4f0180[_0x12d49f(0x4bc)]:this[_0x12d49f(0x86b)](_0x17a443['content'][_0x12d49f(0x4ea)]);break;case _0x4f0180['CloseJobWorker']:this[_0x12d49f(0x1f7)](_0x17a443[_0x12d49f(0xb25)]['label']);break;case _0x4f0180['CloseGenerativeAIContext']:this[_0x12d49f(0x9f1)](_0x17a443['content'][_0x12d49f(0x4ea)]);break;case _0x4f0180[_0x12d49f(0xa1f)]:this[_0x12d49f(0x432)](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)]);break;case _0x4f0180[_0x12d49f(0x951)]:this[_0x12d49f(0x691)](_0x17a443['content'][_0x12d49f(0x4ea)]);break;case _0x4f0180[_0x12d49f(0x655)]:this[_0x12d49f(0x310)](_0x17a443['content']['label']);break;case _0x4f0180[_0x12d49f(0x4e4)]:this[_0x12d49f(0x696)](_0x17a443[_0x12d49f(0xb25)]['label']);break;case _0x4f0180[_0x12d49f(0x563)]:this['removeKeyValueDatabase'](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)]);break;case _0x4f0180[_0x12d49f(0x96c)]:this[_0x12d49f(0x9d3)](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)]);break;case _0x4f0180[_0x12d49f(0xb8d)]:this['removeGraphDatabase'](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)]);break;case _0x4f0180[_0x12d49f(0xa58)]:this[_0x12d49f(0x7b4)](_0x17a443[_0x12d49f(0xb25)]);break;case _0x4f0180[_0x12d49f(0x6d1)]:this[_0x12d49f(0xa2d)][_0x12d49f(0x9de)](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)])?.[_0x12d49f(0xa6c)](_0x17a443['sourceId'],_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x933)]);break;case _0x4f0180['KeyValueDatabaseContentSynchronized']:this[_0x12d49f(0xa2d)]['get'](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)])?.[_0x12d49f(0x2d6)](_0x17a443[_0x12d49f(0xb28)],_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x933)]);break;case _0x4f0180['KeyValueDatabaseContentAvailable']:this['keyValueDatabases'][_0x12d49f(0x9de)](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)])?.[_0x12d49f(0x65f)](_0x17a443['sourceId'],_0x17a443['content']['peaks']);break;case _0x4f0180[_0x12d49f(0x6a2)]:this[_0x12d49f(0xa2d)][_0x12d49f(0x9de)](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)])?.[_0x12d49f(0x5f3)](_0x17a443[_0x12d49f(0xb28)],_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x521)]);break;case _0x4f0180[_0x12d49f(0x1c2)]:this[_0x12d49f(0xa2d)][_0x12d49f(0x9de)](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)])?.[_0x12d49f(0x369)](_0x17a443['sourceId'],_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x29a)]);break;case _0x4f0180[_0x12d49f(0x641)]:this[_0x12d49f(0xa2d)][_0x12d49f(0x9de)](_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)])?.[_0x12d49f(0x601)](_0x17a443[_0x12d49f(0xb28)],_0x17a443['content'][_0x12d49f(0x852)]);break;case _0x4f0180[_0x12d49f(0x5e6)]:this[_0x12d49f(0x6cb)]['mediator'][_0x12d49f(0xa89)](_0x12d49f(0x570),{'label':_0x17a443[_0x12d49f(0xb25)][_0x12d49f(0x4ea)],'trackKinds':_0x17a443[_0x12d49f(0xb25)]['trackKinds']});}}[_0x2aff22(0x3a9)]({content:_0x4c6d72}){const _0x22b589=_0x2aff22;switch(_0x4c6d72[_0x22b589(0x751)]){case _0x815418[_0x22b589(0xb73)]:this[_0x22b589(0x1f0)](_0x4c6d72),this[_0x22b589(0xb3e)](_0x4c6d72);break;case _0x815418['NodeLeave']:this[_0x22b589(0x3ae)](_0x4c6d72),this[_0x22b589(0x366)](_0x4c6d72);}}[_0x2aff22(0x968)](_0x19b891){const _0x377567=_0x2aff22;switch(_0x19b891['content']['type']){case _0x308139[_0x377567(0x918)]:this['handleSubscribeMediaStream'](_0x19b891['sourceId'],_0x19b891['content']);break;case _0x308139[_0x377567(0x8c5)]:this['handleUpdateMediaStream'](_0x19b891[_0x377567(0xb28)],_0x19b891[_0x377567(0xb25)]);break;case _0x308139['UnsubscribeMediaStream']:this['handleUnsubscribeMediaStream'](_0x19b891[_0x377567(0xb28)],_0x19b891[_0x377567(0xb25)]);}}[_0x2aff22(0x7b4)](_0x702bce){const _0x26f82f=_0x2aff22;if(0x0===_0x702bce['remainingTracks'])this[_0x26f82f(0x80b)][_0x26f82f(0x9de)](_0x702bce[_0x26f82f(0x96d)])?.[_0x26f82f(0x9de)](_0x702bce[_0x26f82f(0x4ea)])?.[_0x26f82f(0xb97)]();else{const _0x816ae9=this[_0x26f82f(0x80b)]['get'](_0x702bce[_0x26f82f(0x96d)])?.[_0x26f82f(0x9de)](_0x702bce[_0x26f82f(0x4ea)]);if(!_0x816ae9)return;_0x702bce[_0x26f82f(0x864)][_0x26f82f(0x663)](_0x14da43=>_0x816ae9[_0x26f82f(0x4d8)](_0x14da43));}}['handlePublishMediaStream'](_0x23b58b){const _0x4bd751=_0x2aff22,{label:_0x129aea,ownerId:_0x186707,stream:{streamId:_0x2d7cf2,availableTrackKinds:_0x365a46}}=_0x23b58b;if(this[_0x4bd751(0x80b)][_0x4bd751(0x9de)](_0x186707)?.[_0x4bd751(0x938)](_0x129aea))return void _0x11d8aa[_0x4bd751(0x6ea)](_0x23f9d6[_0x4bd751(0x41a)],_0x4bd751(0x38d),_0x2d7cf2);const _0x232493=this[_0x4bd751(0xb61)](_0x186707,_0x129aea,_0x2d7cf2,_0x365a46);this[_0x4bd751(0x6cb)][_0x4bd751(0x55b)][_0x4bd751(0xa89)](_0x4bd751(0x808),{'ownerId':_0x186707,'stream':_0x232493});}['handleUnpublishMediaStream']({ownerId:_0x292fa1,label:_0x2f8bc2}){const _0x25889c=_0x2aff22;this[_0x25889c(0x3e3)](_0x292fa1,_0x2f8bc2),this[_0x25889c(0x6cb)]['mediator']['notifyCluster'](_0x25889c(0x1c6),{'ownerId':_0x292fa1,'label':_0x2f8bc2});}[_0x2aff22(0x3c1)](_0x57d054,_0x3a2cb5){const _0x25e16a=_0x2aff22,{ownerId:_0x4f2e79,label:_0x23e518}=_0x3a2cb5;let _0x3c7d2e;_0x3c7d2e=_0x4f2e79!==this[_0x25e16a(0x6cb)][_0x25e16a(0x20e)]['getId']()?this[_0x25e16a(0x80b)]['get'](_0x4f2e79)[_0x25e16a(0x9de)](_0x23e518):this['localMediaStreams'][_0x25e16a(0x9de)](_0x23e518),_0x3c7d2e[_0x25e16a(0x3a1)](_0x57d054,_0x3a2cb5['params'])['subscribe'](_0x3a2cb5,_0x3c7d2e[_0x25e16a(0x53d)]());}[_0x2aff22(0x1ba)](_0x500346,_0x1d376f){const _0x4763c8=_0x2aff22,{ownerId:_0x173884,label:_0x5c4e06}=_0x1d376f;let _0x256dd4;_0x256dd4=_0x173884!==this['configs'][_0x4763c8(0x20e)][_0x4763c8(0x781)]()?this[_0x4763c8(0x80b)][_0x4763c8(0x9de)](_0x173884)['get'](_0x5c4e06):this['localMediaStreams'][_0x4763c8(0x9de)](_0x5c4e06),_0x256dd4['getShareableStream'](_0x500346,_0x1d376f[_0x4763c8(0xb37)])['update'](_0x1d376f);}[_0x2aff22(0x2bb)](_0x214e16,_0xbb8555){const _0x647df=_0x2aff22,{ownerId:_0x3ad13b,label:_0x504e68}=_0xbb8555;let _0x450667;_0x450667=_0x3ad13b!==this['configs'][_0x647df(0x20e)][_0x647df(0x781)]()?this[_0x647df(0x80b)][_0x647df(0x9de)](_0x3ad13b)[_0x647df(0x9de)](_0x504e68):this[_0x647df(0x5fb)]['get'](_0x504e68),_0x450667['getShareableStream'](_0x214e16)[_0x647df(0x815)](_0xbb8555);}['handleNodeJoinNeedPublishedStream']({id:_0x1f5137}){const _0x3b878e=_0x2aff22;this[_0x3b878e(0x21e)]()['forEach'](_0xdac2fd=>{const _0x25480f=_0x3b878e;_0xdac2fd[_0x25480f(0x9cd)](_0x1f5137);});}[_0x2aff22(0x3ae)]({id:_0x6c1c46}){const _0x35a70f=_0x2aff22;this[_0x35a70f(0xb47)](_0x5ef767=>_0x5ef767[_0x35a70f(0x613)]()===_0x6c1c46)[_0x35a70f(0x663)](_0x3b7e1f=>{const _0xe0bfac=_0x35a70f;this[_0xe0bfac(0x3e3)](_0x3b7e1f[_0xe0bfac(0x613)](),_0x3b7e1f[_0xe0bfac(0x2e7)]());});}[_0x2aff22(0xb3e)]({id:_0x3c6737}){const _0x3a3f9e=_0x2aff22;this['objectStores'][_0x3a3f9e(0x663)](_0x2d75a2=>_0x2d75a2[_0x3a3f9e(0x2aa)](_0x3c6737));}[_0x2aff22(0x366)]({id:_0x579575}){const _0x1a6608=_0x2aff22;this['objectStores'][_0x1a6608(0x663)](_0x46b61e=>_0x46b61e[_0x1a6608(0x3ae)](_0x579575));}['removeJobDispatcher'](_0x31f030){const _0x5bbfd7=_0x2aff22;if(!this[_0x5bbfd7(0x245)]['has'](_0x31f030))throw new _0x447098(_0x35722f['JobDispatcherDoesNotExist'],_0x5bbfd7(0x770));const _0x47d30f=this[_0x5bbfd7(0x245)][_0x5bbfd7(0x9de)](_0x31f030);this[_0x5bbfd7(0x245)][_0x5bbfd7(0xa6b)](_0x31f030),_0x47d30f[_0x5bbfd7(0xb97)](),this[_0x5bbfd7(0x6cb)][_0x5bbfd7(0x55b)][_0x5bbfd7(0x633)](_0x47d30f);}['removeJobWorker'](_0x106bea){const _0x40166d=_0x2aff22;if(!this[_0x40166d(0x6cc)][_0x40166d(0x938)](_0x106bea))throw new _0x447098(_0x35722f[_0x40166d(0xbc0)],_0x40166d(0x528));const _0xd653b5=this[_0x40166d(0x6cc)][_0x40166d(0x9de)](_0x106bea);this['jobWorkers'][_0x40166d(0xa6b)](_0x106bea),_0xd653b5['destroy'](),this[_0x40166d(0x6cb)][_0x40166d(0x55b)][_0x40166d(0x633)](_0xd653b5);}['removeGenerativeAIContext'](_0x46400){const _0xf61942=_0x2aff22;if(!this[_0xf61942(0xbef)][_0xf61942(0x938)](_0x46400))throw new _0x447098(_0x35722f['GenerativeAIContextDoesNotExist'],_0xf61942(0x7dd));const _0x37b753=this['generativeAIContexts'][_0xf61942(0x9de)](_0x46400);this[_0xf61942(0xbef)][_0xf61942(0xa6b)](_0x46400),this[_0xf61942(0x6cb)][_0xf61942(0x55b)][_0xf61942(0x633)](_0x37b753);}[_0x2aff22(0x310)](_0x214bfa){const _0x13bcee=_0x2aff22;if(!this[_0x13bcee(0x23b)]['has'](_0x214bfa))throw new _0x447098(_0x35722f[_0x13bcee(0x769)],'Stream\x20does\x20not\x20exist');const _0x431a8b=this[_0x13bcee(0x23b)]['get'](_0x214bfa);this['objectStores']['delete'](_0x214bfa),_0x431a8b[_0x13bcee(0xb97)](),this[_0x13bcee(0x6cb)][_0x13bcee(0x55b)]['unregisterSystemSource'](_0x431a8b);}[_0x2aff22(0x696)](_0xb3daf5){const _0x151923=_0x2aff22;if(!this[_0x151923(0x374)][_0x151923(0x938)](_0xb3daf5))throw new _0x447098(_0x35722f[_0x151923(0x418)],'Connection\x20does\x20not\x20exist');const _0x84a802=this[_0x151923(0x374)]['get'](_0xb3daf5);this['externalStorageConnections'][_0x151923(0xa6b)](_0xb3daf5),_0x84a802['destroy'](),this[_0x151923(0x6cb)]['mediator'][_0x151923(0x633)](_0x84a802);}[_0x2aff22(0x691)](_0x346108){const _0x5b818d=_0x2aff22;if(!this[_0x5b818d(0xbd3)][_0x5b818d(0x938)](_0x346108))throw new _0x447098(_0x35722f['PubSubTopicDoesNotExist'],_0x5b818d(0x8b3));const _0x896746=this[_0x5b818d(0xbd3)]['get'](_0x346108);this[_0x5b818d(0xbd3)][_0x5b818d(0xa6b)](_0x346108),_0x896746[_0x5b818d(0xb97)](),this[_0x5b818d(0x6cb)][_0x5b818d(0x55b)][_0x5b818d(0x633)](_0x896746);}[_0x2aff22(0x9fe)](_0xae9422){const _0x1d135b=_0x2aff22;if(!this[_0x1d135b(0xa2d)][_0x1d135b(0x938)](_0xae9422))throw new _0x447098(_0x35722f[_0x1d135b(0x921)],_0x1d135b(0x5dd));const _0x40fef4=this[_0x1d135b(0xa2d)]['get'](_0xae9422);this['keyValueDatabases'][_0x1d135b(0xa6b)](_0xae9422),_0x40fef4[_0x1d135b(0xb97)](),this[_0x1d135b(0x6cb)][_0x1d135b(0x55b)][_0x1d135b(0x633)](_0x40fef4);}[_0x2aff22(0x9d3)](_0x2de312){const _0x3656f3=_0x2aff22;if(!this[_0x3656f3(0xa0c)][_0x3656f3(0x938)](_0x2de312))throw new _0x447098(_0x35722f[_0x3656f3(0x7ad)],_0x3656f3(0x5dd));const _0x4e1093=this[_0x3656f3(0xa0c)][_0x3656f3(0x9de)](_0x2de312);this[_0x3656f3(0xa0c)][_0x3656f3(0xa6b)](_0x2de312),_0x4e1093['destroy'](),this[_0x3656f3(0x6cb)][_0x3656f3(0x55b)]['unregisterSystemSource'](_0x4e1093);}[_0x2aff22(0x36d)](_0x2f2091){const _0x2e3b62=_0x2aff22;if(!this[_0x2e3b62(0x3b0)][_0x2e3b62(0x938)](_0x2f2091))throw new _0x447098(_0x35722f[_0x2e3b62(0xb62)],_0x2e3b62(0x5dd));const _0x10b176=this['graphDatabases']['get'](_0x2f2091);this[_0x2e3b62(0x3b0)][_0x2e3b62(0xa6b)](_0x2f2091),_0x10b176[_0x2e3b62(0xb97)](),this[_0x2e3b62(0x6cb)][_0x2e3b62(0x55b)][_0x2e3b62(0x633)](_0x10b176);}['removeLocalMediaStream'](_0x287b8e){const _0x5d8c38=_0x2aff22;if(!this['localMediaStreams']['has'](_0x287b8e))throw new _0x1a8c20(_0x1a8c20[_0x5d8c38(0x92d)]['LocalMediaStreamDoesNotExist'],{'label':_0x287b8e,'localId':this['configs']['localNode'][_0x5d8c38(0x781)]()});const _0xb35d4f=this['localMediaStreams'][_0x5d8c38(0x9de)](_0x287b8e);this[_0x5d8c38(0x6cb)][_0x5d8c38(0x55b)][_0x5d8c38(0x633)](_0xb35d4f),_0xb35d4f[_0x5d8c38(0xb97)](),this[_0x5d8c38(0x5fb)][_0x5d8c38(0xa6b)](_0x287b8e);}[_0x2aff22(0x3e3)](_0x1f59d8,_0xa284eb){const _0xff79dc=_0x2aff22;if(!this[_0xff79dc(0x80b)]['has'](_0x1f59d8))throw new _0x1a8c20(_0x1a8c20['codes']['NodeDoesNotExist'],{'nodeId':_0x1f59d8,'localId':this[_0xff79dc(0x6cb)][_0xff79dc(0x20e)][_0xff79dc(0x781)]()});const _0x1aa616=this['remoteMediaStreams'][_0xff79dc(0x9de)](_0x1f59d8);if(!_0x1aa616[_0xff79dc(0x938)](_0xa284eb))throw new _0x1a8c20(_0x1a8c20['codes'][_0xff79dc(0x84d)],{'nodeId':_0x1f59d8,'label':_0xa284eb,'localId':this[_0xff79dc(0x6cb)][_0xff79dc(0x20e)]['getId']()});const _0x6e4ca3=_0x1aa616[_0xff79dc(0x9de)](_0xa284eb);this[_0xff79dc(0x6cb)][_0xff79dc(0x55b)]['unregisterSystemSource'](_0x6e4ca3),_0x6e4ca3['destroy'](),_0x1aa616[_0xff79dc(0xa6b)](_0xa284eb);}}var _0x3d0d52,_0x541b58,_0x3f4a2c;!function(_0xbd3f15){const _0x465aa6=_0x2aff22;_0xbd3f15['STVolatility']='st_volatility',_0xbd3f15['DTVolatility']='dt_volatility',_0xbd3f15[_0x465aa6(0x602)]=_0x465aa6(0xbf4),_0xbd3f15[_0x465aa6(0x6ab)]=_0x465aa6(0x77e),_0xbd3f15[_0x465aa6(0x675)]=_0x465aa6(0x39a),_0xbd3f15[_0x465aa6(0x89d)]='fps',_0xbd3f15[_0x465aa6(0x2c9)]=_0x465aa6(0x99c),_0xbd3f15[_0x465aa6(0xa3d)]='av_delay';}(_0x3d0d52||(_0x3d0d52={})),function(_0x18ef83){const _0x1ba356=_0x2aff22;_0x18ef83[_0x1ba356(0x36b)]=_0x1ba356(0x899),_0x18ef83[_0x1ba356(0x602)]='cpu.time_per_frame',_0x18ef83[_0x1ba356(0xa3d)]=_0x1ba356(0x497),_0x18ef83[_0x1ba356(0x89d)]='cpu.fps',_0x18ef83['Bitrate']=_0x1ba356(0x825),_0x18ef83[_0x1ba356(0x675)]=_0x1ba356(0x9dc),_0x18ef83['RoundTripTime']='bandwidth.rtt';}(_0x541b58||(_0x541b58={})),function(_0x149c3f){const _0x2fb442=_0x2aff22;_0x149c3f[_0x149c3f[_0x2fb442(0x74d)]=0x0]=_0x2fb442(0x74d);}(_0x3f4a2c||(_0x3f4a2c={}));const _0x1e43b3=[{'type':_0x3d0d52[_0x2aff22(0x4bb)],'reportMetric':_0x3297ae=>_0x3297ae[_0x2aff22(0x4bb)],'maxThreshold':2.5},{'type':_0x3d0d52['DTVolatility'],'reportMetric':_0x7e2c0f=>_0x7e2c0f[_0x2aff22(0x319)],'maxThreshold':0.5}],_0xc5b7c1=[{'type':_0x3d0d52[_0x2aff22(0x602)],'reportMetric':_0x5b5cfc=>{const _0x38a8f3=_0x2aff22,_0x376092=0x3e8/_0x5b5cfc[_0x38a8f3(0x326)];return _0x5b5cfc[_0x38a8f3(0x7de)]/_0x376092;},'maxThreshold':0.75},{'type':_0x3d0d52[_0x2aff22(0x6ab)],'reportMetric':_0x1d8dc6=>{const _0x46e695=_0x2aff22,_0x16baac=_0x1d8dc6[_0x46e695(0x326)]*_0x1d8dc6[_0x46e695(0x25d)]*_0x1d8dc6['frameHeight']*0.12;return _0x1d8dc6[_0x46e695(0x77e)]/_0x16baac;},'minThreshold':0.25},{'type':_0x3d0d52[_0x2aff22(0x675)],'reportMetric':_0x28eaed=>_0x28eaed['jitter'],'maxThreshold':0.6},{'type':_0x3d0d52['FramePerSecond'],'reportMetric':_0x48f758=>_0x48f758[_0x2aff22(0x326)],'minThreshold':0xa}],_0x19439b=[{'type':_0x3d0d52['Jitter'],'reportMetric':_0x3fb9b0=>_0x3fb9b0[_0x2aff22(0x39a)],'maxThreshold':0.6}],_0x5033d5=[{'type':_0x3d0d52['RoundTripTime'],'reportMetric':_0x221204=>_0x221204[_0x2aff22(0x333)],'maxThreshold':0x1/0x0}],_0x9da136=[{'type':_0x3d0d52[_0x2aff22(0xa3d)],'reportMetric':_0x1b66c5=>_0x1b66c5[_0x2aff22(0xa3d)],'maxThreshold':0x12c}],_0x464df2=[{'type':_0x541b58['CPUCycle'],'issues':[{'type':_0x3d0d52[_0x2aff22(0x4bb)],'threshold':0x5},{'type':_0x3d0d52['DTVolatility'],'threshold':0x5}]},{'type':_0x541b58['TimePerFrame'],'issues':[{'type':_0x3d0d52[_0x2aff22(0x602)],'threshold':0x3}]},{'type':_0x541b58[_0x2aff22(0xa3d)],'issues':[{'type':_0x3d0d52[_0x2aff22(0xa3d)],'threshold':0x2}]},{'type':_0x541b58['FramePerSecond'],'issues':[{'type':_0x3d0d52['FramePerSecond'],'threshold':0x3}]},{'type':_0x541b58[_0x2aff22(0x6ab)],'issues':[{'type':_0x3d0d52[_0x2aff22(0x6ab)],'threshold':0x3}]},{'type':_0x541b58[_0x2aff22(0x675)],'issues':[{'type':_0x3d0d52['Jitter'],'threshold':0x3}]},{'type':_0x541b58['RoundTripTime'],'issues':[{'type':_0x3d0d52['RoundTripTime'],'threshold':0x3}]}];var _0x51995d,_0x1216dc;!function(_0x5af3a2){const _0x3dd295=_0x2aff22;_0x5af3a2[_0x5af3a2[_0x3dd295(0x549)]=0x0]=_0x3dd295(0x549),_0x5af3a2[_0x5af3a2[_0x3dd295(0x983)]=0x1]=_0x3dd295(0x983);}(_0x51995d||(_0x51995d={}));class _0x1688b7{[_0x2aff22(0x6cb)];[_0x2aff22(0x686)]=[];[_0x2aff22(0x7ef)];constructor(_0x49143c){const _0xad9cff=_0x2aff22;this[_0xad9cff(0x6cb)]=_0x49143c,this[_0xad9cff(0x6cb)][_0xad9cff(0x55b)]['registerSystemSource'](this);}[_0x2aff22(0x390)](_0x20f688){const _0x48efdd=_0x2aff22;this[_0x48efdd(0x7ef)]=_0x20f688;}[_0x2aff22(0x36a)](){const _0x14bc18=_0x2aff22;this[_0x14bc18(0x7ef)]=void 0x0;}[_0x2aff22(0x566)](){const _0x24277e=_0x2aff22;this[_0x24277e(0x6cb)][_0x24277e(0x55b)]['unregisterSystemSource'](this),this[_0x24277e(0x686)]=[];}[_0x2aff22(0x5f4)](_0x3e975e){const _0x4e08bc=_0x2aff22;switch(_0x3e975e[_0x4e08bc(0xb25)][_0x4e08bc(0x751)]){case _0x51995d[_0x4e08bc(0x983)]:this[_0x4e08bc(0x6dd)](_0x3e975e['content'][_0x4e08bc(0x8e6)]);break;case _0x51995d[_0x4e08bc(0x549)]:this[_0x4e08bc(0x32a)](_0x3e975e[_0x4e08bc(0xb25)]['data']);}}[_0x2aff22(0x7d5)](_0x11563d,_0x4f70b5,_0x7b22,_0x20bae3){const _0x42cea8=_0x2aff22,_0x128608=_0x464df2[_0x42cea8(0x43b)](_0x51b470=>_0x51b470[_0x42cea8(0x686)][_0x42cea8(0x4f7)](_0x56f64d=>_0x56f64d['type']===_0x11563d));_0x20bae3>=_0x128608[_0x42cea8(0x686)][_0x42cea8(0x43b)](_0x3d0563=>_0x3d0563[_0x42cea8(0x751)]===_0x11563d)[_0x42cea8(0x1ab)]&&(this[_0x42cea8(0x7aa)](_0x128608['type'],_0x4f70b5,_0x7b22),this[_0x42cea8(0x686)]=this[_0x42cea8(0x686)]['filter'](_0xb4d9ec=>!(_0xb4d9ec['type']===_0x11563d&&_0xb4d9ec[_0x42cea8(0x4ed)]===_0x4f70b5&&_0xb4d9ec[_0x42cea8(0x635)]===_0x7b22)));}[_0x2aff22(0x6dd)](_0x54ab26){const _0x4db034=_0x2aff22;_0x1e43b3[_0x4db034(0x663)](_0xf62ff8=>{const _0x2ef902=_0x4db034,_0x30ef36=_0xf62ff8['reportMetric'](_0x54ab26);_0xf62ff8[_0x2ef902(0x3d9)]&&_0x30ef36>_0xf62ff8['maxThreshold']&&this[_0x2ef902(0x423)](_0xf62ff8['type'],this[_0x2ef902(0x6cb)][_0x2ef902(0x20e)][_0x2ef902(0x781)](),_0x5898c5[_0x2ef902(0x867)],_0x30ef36),_0xf62ff8[_0x2ef902(0xa14)]&&_0x30ef36<_0xf62ff8['minThreshold']&&this['addIssue'](_0xf62ff8[_0x2ef902(0x751)],this[_0x2ef902(0x6cb)]['localNode'][_0x2ef902(0x781)](),_0x5898c5[_0x2ef902(0x867)],_0x30ef36);});}[_0x2aff22(0x32a)](_0x4879df){const _0x42d118=_0x2aff22;let _0x1706c4=[];switch(_0x4879df['origin']){case _0x5898c5[_0x42d118(0x867)]:_0x1706c4=_0x5033d5;break;case _0x5898c5[_0x42d118(0xbe5)]:_0x1706c4=_0x9da136;}_0x4879df[_0x42d118(0x4c5)]&&this[_0x42d118(0x3a5)](_0x4879df['nodeId'],_0x5898c5[_0x42d118(0x867)],_0x4879df['video']),_0x4879df[_0x42d118(0xaea)]&&this[_0x42d118(0xb1a)](_0x4879df[_0x42d118(0x4ed)],_0x5898c5['Sender'],_0x4879df[_0x42d118(0xaea)]),_0x1706c4['forEach'](_0x1bf661=>{const _0x2310e9=_0x42d118,_0x11a066=_0x1bf661[_0x2310e9(0x66b)](_0x4879df);_0x1bf661[_0x2310e9(0x3d9)]&&_0x11a066>_0x1bf661[_0x2310e9(0x3d9)]&&this[_0x2310e9(0x423)](_0x1bf661[_0x2310e9(0x751)],_0x4879df[_0x2310e9(0x4ed)],_0x5898c5[_0x2310e9(0x867)],_0x11a066),_0x1bf661['minThreshold']&&_0x11a066<_0x1bf661['minThreshold']&&this[_0x2310e9(0x423)](_0x1bf661['type'],_0x4879df['nodeId'],_0x5898c5[_0x2310e9(0x867)],_0x11a066);});}[_0x2aff22(0x3a5)](_0x247ef4,_0x1bd811,_0x4970b7){const _0x8de360=_0x2aff22;0x0!==_0x4970b7['bitrate']&&_0xc5b7c1[_0x8de360(0x663)](_0x182a6c=>{const _0x5c4138=_0x8de360,_0x42b4a1=_0x182a6c['reportMetric'](_0x4970b7);_0x182a6c['maxThreshold']&&_0x42b4a1>_0x182a6c[_0x5c4138(0x3d9)]&&this[_0x5c4138(0x423)](_0x182a6c[_0x5c4138(0x751)],_0x247ef4,_0x1bd811,_0x42b4a1,_0x5c4138(0x4c5)),_0x182a6c[_0x5c4138(0xa14)]&&_0x42b4a1<_0x182a6c[_0x5c4138(0xa14)]&&this[_0x5c4138(0x423)](_0x182a6c[_0x5c4138(0x751)],_0x247ef4,_0x1bd811,_0x42b4a1,_0x5c4138(0x4c5));});}[_0x2aff22(0xb1a)](_0x29e56d,_0x197ac5,_0x33dc47){const _0x25e5c4=_0x2aff22;0x0!==_0x33dc47['bitrate']&&_0x19439b[_0x25e5c4(0x663)](_0x1f9501=>{const _0x33df7c=_0x25e5c4,_0x719914=_0x1f9501[_0x33df7c(0x66b)](_0x33dc47);_0x1f9501[_0x33df7c(0x3d9)]&&_0x719914>_0x1f9501['maxThreshold']&&this[_0x33df7c(0x423)](_0x1f9501[_0x33df7c(0x751)],_0x29e56d,_0x197ac5,_0x719914,_0x33df7c(0xaea)),_0x1f9501['minThreshold']&&_0x719914<_0x1f9501[_0x33df7c(0xa14)]&&this['addIssue'](_0x1f9501['type'],_0x29e56d,_0x197ac5,_0x719914,_0x33df7c(0xaea));});}[_0x2aff22(0x423)](_0x233d6a,_0x57eb62,_0x2c2e47,_0x1cdaae,_0x55a1ae){const _0x305691=_0x2aff22;_0x11d8aa[_0x305691(0x6ea)](_0x23f9d6[_0x305691(0x9a9)],_0x305691(0xa05)+_0x233d6a,_0x233d6a,_0x1cdaae),_0x11d8aa['logEvent']('issue',{'clusterId':this['configs']['clusterId'],'nodeId':this['configs']['localNode'][_0x305691(0x781)](),'nodeType':this['configs'][_0x305691(0x20e)]['type'],'remoteId':_0x57eb62,'data':{'type':_0x233d6a,'value':_0x1cdaae,'kind':_0x55a1ae}}),this[_0x305691(0x686)]=this[_0x305691(0x686)][_0x305691(0xae8)](_0x282c36=>Date[_0x305691(0x75c)]()-_0x282c36['timestamp']<0x7530),this[_0x305691(0x686)][_0x305691(0x639)]({'timestamp':Date[_0x305691(0x75c)](),'type':_0x233d6a,'nodeId':_0x57eb62,'origin':_0x2c2e47,'value':_0x1cdaae,'kind':_0x55a1ae});const _0x572c61=this[_0x305691(0x686)][_0x305691(0xae8)](_0x370fd5=>_0x370fd5[_0x305691(0x751)]===_0x233d6a&&_0x370fd5[_0x305691(0x4ed)]===_0x57eb62&&_0x370fd5[_0x305691(0x635)]===_0x2c2e47)['length'];this['detectProblems'](_0x233d6a,_0x57eb62,_0x2c2e47,_0x572c61);}[_0x2aff22(0x7aa)](_0x4615f3,_0x225524,_0x19a131){const _0x4d3cb8=_0x2aff22;_0x11d8aa[_0x4d3cb8(0x6ea)](_0x23f9d6[_0x4d3cb8(0x9a9)],_0x4d3cb8(0xb0f)+_0x4615f3),_0x11d8aa[_0x4d3cb8(0x343)](_0x4d3cb8(0x6b3),{'clusterId':this[_0x4d3cb8(0x6cb)][_0x4d3cb8(0x3d0)],'nodeId':this[_0x4d3cb8(0x6cb)]['localNode'][_0x4d3cb8(0x781)](),'nodeType':this[_0x4d3cb8(0x6cb)]['localNode']['type'],'remoteId':_0x225524,'data':{'type':_0x4615f3}}),this[_0x4d3cb8(0x7ef)]?.[_0x4d3cb8(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8['Detection'],'content':{'type':_0x3f4a2c[_0x4d3cb8(0x74d)],'data':{'timestamp':Date[_0x4d3cb8(0x75c)](),'nodeId':_0x225524,'origin':_0x5898c5[_0x4d3cb8(0x867)],'type':_0x4615f3}}});}}class _0x1ad19b extends _0x4884ee{['type']=_0x182c91['NodeType'][_0x2aff22(0x2e3)];}class _0x320ddc extends _0x1ad19b{[_0x2aff22(0x7ef)];['currentVersion']=Date['now']();['updateDebounceTimeout'];['lastUpdated'];['close'](){const _0x24ab1c=_0x2aff22;this[_0x24ab1c(0x62e)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x24ab1c(0x62e)]),delete this[_0x24ab1c(0x571)],this[_0x24ab1c(0x697)]=Date[_0x24ab1c(0x75c)](),super['close']();}[_0x2aff22(0x390)](_0x3d4e07){const _0x219fa9=_0x2aff22;this[_0x219fa9(0x7ef)]=_0x3d4e07;}[_0x2aff22(0x36a)](){const _0x32b22f=_0x2aff22;delete this[_0x32b22f(0x7ef)];}['answerJoin'](_0x297e4c){const _0x33175d=_0x2aff22;!this[_0x33175d(0x62e)]&&this[_0x33175d(0x656)]&&this[_0x33175d(0x7ef)][_0x33175d(0x9cd)]({'sourceId':this['id'],'destinationIds':[_0x297e4c],'propagate':!0x0,'messageType':_0x3048e8[_0x33175d(0x43a)],'content':{'type':_0x815418[_0x33175d(0x865)],'id':this['id'],'metaData':{'type':this[_0x33175d(0x751)]},'rank':this[_0x33175d(0x2fc)](),'remoteConnections':Array[_0x33175d(0x306)](this[_0x33175d(0x27b)]),'version':this['currentVersion']}});}['addRemoteConnection'](_0x1742a3){const _0x560369=_0x2aff22;this[_0x560369(0x27b)][_0x560369(0x938)](_0x1742a3)||(this[_0x560369(0x27b)][_0x560369(0x62d)](_0x1742a3),this[_0x560369(0x752)](),this[_0x560369(0xa71)](!0x0));}[_0x2aff22(0x557)](_0x27b21c){const _0x170cec=_0x2aff22;this[_0x170cec(0x27b)][_0x170cec(0x938)](_0x27b21c)&&(this['remoteConnections']['delete'](_0x27b21c),this['incrementVersion'](),this[_0x170cec(0xa71)](!0x0));}['getCurrentVersion'](){const _0x1cd722=_0x2aff22;return this[_0x1cd722(0x697)];}[_0x2aff22(0x5f8)](_0x5a19ab,_0x376652=!0x0){const _0x1857ca=_0x2aff22;this['rank']!==_0x5a19ab&&(this[_0x1857ca(0x656)]=_0x5a19ab,_0x376652&&(this[_0x1857ca(0x752)](),this['publishUserUpdate']()));}[_0x2aff22(0x752)](){const _0x282aa8=_0x2aff22;this[_0x282aa8(0x697)]=Date[_0x282aa8(0x75c)]();}['publishUserUpdate'](_0x28a0f4=!0x1){const _0x7786ae=_0x2aff22;if(this['rank']){if(this[_0x7786ae(0x571)]||(this['lastUpdated']=Date[_0x7786ae(0x75c)]()),this[_0x7786ae(0x62e)]){if(Date[_0x7786ae(0x75c)]()-this[_0x7786ae(0x571)]>0x2328)return;clearTimeout(this[_0x7786ae(0x62e)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x36118b=_0x7786ae;delete this[_0x36118b(0x571)],delete this['updateDebounceTimeout'],this[_0x36118b(0x7ef)][_0x36118b(0x9cd)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3048e8[_0x36118b(0x43a)],'content':{'type':_0x28a0f4?_0x815418[_0x36118b(0xad6)]:_0x815418[_0x36118b(0x865)],'id':this['id'],'metaData':{'type':this[_0x36118b(0x751)]},'rank':this[_0x36118b(0x2fc)](),'remoteConnections':Array[_0x36118b(0x306)](this['remoteConnections']),'version':this[_0x36118b(0x697)]}});},0x3e8);}}}class _0x2585ba extends _0x55a57b{[_0x2aff22(0x7ef)];['currentVersion']=Date[_0x2aff22(0x75c)]();[_0x2aff22(0x62e)];[_0x2aff22(0x571)];[_0x2aff22(0x566)](){const _0x3edd21=_0x2aff22;this[_0x3edd21(0x62e)]&&(clearTimeout(this[_0x3edd21(0x62e)]),delete this[_0x3edd21(0x62e)]),delete this[_0x3edd21(0x571)],this['currentVersion']=Date[_0x3edd21(0x75c)](),super['close']();}['registerSystemPublisher'](_0x55c8e6){this['systemTopic']=_0x55c8e6;}[_0x2aff22(0x36a)](){const _0x474d87=_0x2aff22;delete this[_0x474d87(0x7ef)];}[_0x2aff22(0xb1e)](_0x297a29){const _0x4a3bbf=_0x2aff22;!this['updateDebounceTimeout']&&this[_0x4a3bbf(0x656)]&&this['systemTopic'][_0x4a3bbf(0x9cd)]({'sourceId':this['id'],'destinationIds':[_0x297a29],'propagate':!0x0,'messageType':_0x3048e8[_0x4a3bbf(0x43a)],'content':{'type':_0x815418[_0x4a3bbf(0x865)],'id':this['id'],'metaData':{'type':this[_0x4a3bbf(0x751)],'displayName':this[_0x4a3bbf(0x6c8)](),'email':this[_0x4a3bbf(0x2b6)]()},'rank':this[_0x4a3bbf(0x2fc)](),'remoteConnections':Array[_0x4a3bbf(0x306)](this['remoteConnections']),'version':this[_0x4a3bbf(0x697)]}});}[_0x2aff22(0x2da)](_0x52ebf6){const _0x197197=_0x2aff22;this['remoteConnections'][_0x197197(0x938)](_0x52ebf6)||(this['remoteConnections'][_0x197197(0x62d)](_0x52ebf6),this['incrementVersion'](),this[_0x197197(0xa71)](!0x0));}[_0x2aff22(0x557)](_0x5b5a03){const _0x13c046=_0x2aff22;this[_0x13c046(0x27b)][_0x13c046(0x938)](_0x5b5a03)&&(this['remoteConnections']['delete'](_0x5b5a03),this[_0x13c046(0x752)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x4ff83b=_0x2aff22;return this[_0x4ff83b(0x697)];}[_0x2aff22(0xaff)](_0x4cc865){const _0x55e52a=_0x2aff22;this[_0x55e52a(0x499)]!==_0x4cc865&&(this['displayName']=_0x4cc865,this[_0x55e52a(0x752)](),this[_0x55e52a(0xa71)]());}['setEmail'](_0x1ad26e){const _0x476663=_0x2aff22;this[_0x476663(0x829)]!==_0x1ad26e&&(this['email']=_0x1ad26e,this[_0x476663(0x752)](),this[_0x476663(0xa71)]());}[_0x2aff22(0x5f8)](_0x1954ff,_0x1f0a2f=!0x0){const _0x57fd4e=_0x2aff22;this[_0x57fd4e(0x656)]!==_0x1954ff&&(this[_0x57fd4e(0x656)]=_0x1954ff,_0x1f0a2f&&(this['incrementVersion'](),this[_0x57fd4e(0xa71)]()));}['incrementVersion'](){const _0x39e173=_0x2aff22;this[_0x39e173(0x697)]=Date[_0x39e173(0x75c)]();}[_0x2aff22(0xa71)](_0x25d1af=!0x1){const _0x57fceb=_0x2aff22;if(this[_0x57fceb(0x656)]){if(this['lastUpdated']||(this[_0x57fceb(0x571)]=Date[_0x57fceb(0x75c)]()),this[_0x57fceb(0x62e)]){if(Date['now']()-this[_0x57fceb(0x571)]>0x2328)return;clearTimeout(this[_0x57fceb(0x62e)]);}this[_0x57fceb(0x62e)]=setTimeout(()=>{const _0x2fbbd1=_0x57fceb;delete this['lastUpdated'],delete this[_0x2fbbd1(0x62e)],this[_0x2fbbd1(0x7ef)][_0x2fbbd1(0x9cd)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3048e8[_0x2fbbd1(0x43a)],'content':{'type':_0x25d1af?_0x815418['NodeConnectionsUpdate']:_0x815418['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x2fbbd1(0x751)],'displayName':this[_0x2fbbd1(0x6c8)](),'email':this['getEmail']()},'rank':this[_0x2fbbd1(0x2fc)](),'remoteConnections':Array[_0x2fbbd1(0x306)](this[_0x2fbbd1(0x27b)]),'version':this[_0x2fbbd1(0x697)]}});},0x3e8);}}}class _0x37b593{['id'];[_0x2aff22(0x9b2)];[_0x2aff22(0x97c)];[_0x2aff22(0x5bb)];[_0x2aff22(0x751)]=_0x182c91[_0x2aff22(0x764)][_0x2aff22(0x2e3)];['lastCapacityReport'];constructor(_0x5dd984,_0x350643,_0x5a5c9d,_0xef768){const _0x113185=_0x2aff22;this['id']=_0x5dd984,this['groupId']=_0x350643,this[_0x113185(0x97c)]=_0x5a5c9d,this[_0x113185(0x5bb)]=_0xef768;}[_0x2aff22(0x781)](){return this['id'];}[_0x2aff22(0x3a2)](_0x35daed){const _0x53e77d=_0x2aff22,_0x2dc0ad=(0x0,_0x181a71['onSnapshot'])((0x0,_0x181a71[_0x53e77d(0x3b5)])(_0x4d81d6[_0x53e77d(0x67b)](),_0x53e77d(0x42d)+this[_0x53e77d(0x97c)]+'/resources/agent/items/'+this[_0x53e77d(0x9b2)]),_0x5e9b79=>{const _0x5efb7f=_0x53e77d;if(_0x5e9b79['exists']()){const _0x3d16a6=_0x5e9b79[_0x5efb7f(0x8e6)]();if(this['agentConfig'][_0x5efb7f(0x3ad)][_0x5efb7f(0x4e6)](_0x3d16a6[_0x5efb7f(0x3ad)]))return;_0x11d8aa[_0x5efb7f(0x6ea)](_0x23f9d6[_0x5efb7f(0x43a)],_0x5efb7f(0xa62),{'agentId':this['id'],'groupId':this[_0x5efb7f(0x9b2)],'oldConfig':this['agentConfig'],'newConfig':_0x3d16a6}),this['agentConfig']=_0x3d16a6,_0x35daed();}});return()=>_0x2dc0ad();}[_0x2aff22(0x62c)](_0x27972b){const _0x33b39b=_0x2aff22;return this[_0x33b39b(0x4fd)](this[_0x33b39b(0x9b2)],_0x27972b),_0x33cd0c[_0x33b39b(0xb09)](()=>this[_0x33b39b(0x4fd)](this[_0x33b39b(0x9b2)],_0x27972b),0x7530);}['getCapacityReport'](){const _0x210cec=_0x2aff22;if(!this[_0x210cec(0x384)])throw new _0x1a8c20(_0x1a8c20['codes']['MistletCapacityReportNotSet']);return this[_0x210cec(0x384)];}async['reportCapacity'](_0x29a8a3,_0x1f9558){const _0x3459ba=_0x2aff22,_0x573ba0=await _0x1f9558();this[_0x3459ba(0x384)]=_0x573ba0,await(0x0,_0x181a71[_0x3459ba(0x35a)])((0x0,_0x181a71[_0x3459ba(0xbcf)])(_0x4d81d6[_0x3459ba(0x67b)](),_0x3459ba(0x42d)+this[_0x3459ba(0x97c)]+_0x3459ba(0xbe4)),{'agentId':this['id'],'groupId':_0x29a8a3,'timestamp':(0x0,_0x181a71[_0x3459ba(0x7a9)])(),'capacity':_0x573ba0});}}!function(_0x523b50){const _0x35b65f=_0x2aff22;_0x523b50[_0x523b50[_0x35b65f(0x7e2)]=0x0]=_0x35b65f(0x7e2),_0x523b50[_0x523b50[_0x35b65f(0x98a)]=0x1]='Offline';}(_0x1216dc||(_0x1216dc={}));class _0x31dbb2 extends _0x1ad19b{[_0x2aff22(0x697)];[_0x2aff22(0x341)]=_0x1216dc[_0x2aff22(0x7e2)];['lastUpdated']=Date[_0x2aff22(0x75c)]();constructor(_0x3abdb1,_0x440736=new Set(),_0x4d1db5,_0x2e7b3b){const _0x215428=_0x2aff22;super(_0x3abdb1,_0x440736,_0x2e7b3b),this[_0x215428(0x697)]=_0x4d1db5;}['getCurrentVersion'](){const _0x2db243=_0x2aff22;return this[_0x2db243(0x697)];}[_0x2aff22(0x86d)](){const _0x159260=_0x2aff22;return this[_0x159260(0x341)];}[_0x2aff22(0x662)](){const _0x55ef73=_0x2aff22;return this[_0x55ef73(0x571)];}[_0x2aff22(0x5f8)](_0x19645c){const _0x8efa1=_0x2aff22;this[_0x8efa1(0x656)]!==_0x19645c&&(this[_0x8efa1(0x656)]=_0x19645c,this[_0x8efa1(0x460)]());}[_0x2aff22(0x861)](_0x533851){const _0x36ccc9=_0x2aff22;let _0x40a451=!0x1;for(const _0x5750b5 of this[_0x36ccc9(0x27b)])_0x533851[_0x36ccc9(0x9bf)](_0x5750b5)||(_0x40a451=!0x0,this[_0x36ccc9(0x27b)][_0x36ccc9(0xa6b)](_0x5750b5));for(const _0x3fc165 of _0x533851)this['remoteConnections'][_0x36ccc9(0x938)](_0x3fc165)||(_0x40a451=!0x0,this[_0x36ccc9(0x27b)]['add'](_0x3fc165));_0x40a451&&this[_0x36ccc9(0x460)]();}[_0x2aff22(0x99a)](_0x20db9c){const _0x28f115=_0x2aff22;this['currentVersion']!==_0x20db9c&&(this[_0x28f115(0x697)]=_0x20db9c,this[_0x28f115(0x460)]());}['setStatus'](_0x1dc879){const _0x386427=_0x2aff22;this[_0x386427(0x341)]!==_0x1dc879&&(this[_0x386427(0x341)]=_0x1dc879,this[_0x386427(0x460)](),_0x1dc879===_0x1216dc[_0x386427(0x98a)]&&this[_0x386427(0x566)]());}['updateLastUpdated'](){const _0x44f957=_0x2aff22;this[_0x44f957(0x571)]=Date[_0x44f957(0x75c)]();}}class _0x4b2508 extends _0x55a57b{[_0x2aff22(0x697)];[_0x2aff22(0x341)]=_0x1216dc[_0x2aff22(0x7e2)];[_0x2aff22(0x571)]=Date['now']();constructor(_0x4d4a1e,_0x31bf62,_0x14d239,_0x24ae95=new Set(),_0x1b2911,_0x230726){const _0x328a8e=_0x2aff22;super(_0x4d4a1e,_0x31bf62,_0x14d239,_0x24ae95,_0x230726),this[_0x328a8e(0x697)]=_0x1b2911;}[_0x2aff22(0xb87)](){const _0x48ea5d=_0x2aff22;return this[_0x48ea5d(0x697)];}[_0x2aff22(0x86d)](){const _0x18b151=_0x2aff22;return this[_0x18b151(0x341)];}[_0x2aff22(0x662)](){return this['lastUpdated'];}['setDisplayName'](_0x182951){const _0x19b454=_0x2aff22;this[_0x19b454(0x499)]!==_0x182951&&(this[_0x19b454(0x499)]=_0x182951,this[_0x19b454(0x460)]());}[_0x2aff22(0x475)](_0x26957e){const _0x3ea926=_0x2aff22;this[_0x3ea926(0x829)]!==_0x26957e&&(this['email']=_0x26957e,this[_0x3ea926(0x460)]());}['setRank'](_0x533442){const _0x22c892=_0x2aff22;this[_0x22c892(0x656)]!==_0x533442&&(this['rank']=_0x533442,this[_0x22c892(0x460)]());}['setRemoteConnections'](_0x496101){const _0x11676d=_0x2aff22;let _0x2839a5=!0x1;for(const _0x4e808f of this[_0x11676d(0x27b)])_0x496101[_0x11676d(0x9bf)](_0x4e808f)||(_0x2839a5=!0x0,this[_0x11676d(0x27b)][_0x11676d(0xa6b)](_0x4e808f));for(const _0x27d521 of _0x496101)this['remoteConnections']['has'](_0x27d521)||(_0x2839a5=!0x0,this['remoteConnections']['add'](_0x27d521));_0x2839a5&&this[_0x11676d(0x460)]();}['setCurrentVersion'](_0x203436){const _0x27d480=_0x2aff22;this['currentVersion']!==_0x203436&&(this['currentVersion']=_0x203436,this[_0x27d480(0x460)]());}[_0x2aff22(0x26e)](_0x1943b5){const _0x34ec3f=_0x2aff22;this[_0x34ec3f(0x341)]!==_0x1943b5&&(this[_0x34ec3f(0x341)]=_0x1943b5,this[_0x34ec3f(0x460)](),_0x1943b5===_0x1216dc[_0x34ec3f(0x98a)]&&this[_0x34ec3f(0x566)]());}[_0x2aff22(0x460)](){const _0x412670=_0x2aff22;this[_0x412670(0x571)]=Date[_0x412670(0x75c)]();}}class _0x45246c{[_0x2aff22(0x97c)];['clusterId'];['localNode'];[_0x2aff22(0x797)];[_0x2aff22(0x46a)]=_0x4b74c2();['firebaseUnsubscriber'];[_0x2aff22(0x32d)];['onDisconnectHandler'];[_0x2aff22(0x411)]=!0x1;[_0x2aff22(0xba5)];[_0x2aff22(0x93b)];constructor(_0x583af7,_0x15eea9,_0x4afd74,_0x4c93cd){const _0x2fc925=_0x2aff22;this[_0x2fc925(0x97c)]=_0x583af7,this[_0x2fc925(0x3d0)]=_0x15eea9,this[_0x2fc925(0x20e)]=_0x4afd74,this['minConnections']=_0x4c93cd,this[_0x2fc925(0xba5)]=_0x2fc925(0xa10)+this[_0x2fc925(0x97c)]+_0x2fc925(0xa10)+this['clusterId'],this[_0x2fc925(0x93b)]=_0x2fc925(0xa10)+this[_0x2fc925(0x97c)]+'ccc'+this[_0x2fc925(0x20e)][_0x2fc925(0x781)](),this[_0x2fc925(0x31f)]=(0x0,_0x43ecff[_0x2fc925(0xbec)])((0x0,_0x43ecff[_0x2fc925(0x9ed)])(_0x4d81d6[_0x2fc925(0x52c)](),_0x2fc925(0x4f2)),_0x41a90d=>{const _0x599723=_0x2fc925;!0x0!==_0x41a90d['val']()?this[_0x599723(0x411)]&&_0x11d8aa[_0x599723(0x730)](_0x599723(0x95d),{'clusterId':this[_0x599723(0x3d0)],'nodeId':this[_0x599723(0x20e)]['getId'](),'nodeType':this[_0x599723(0x20e)]['type']}):(this[_0x599723(0x411)]=!0x0,this[_0x599723(0x75d)](),_0x11d8aa['warning'](_0x599723(0x4ce),{'clusterId':this['clusterId'],'nodeId':this[_0x599723(0x20e)][_0x599723(0x781)](),'nodeType':this['localNode'][_0x599723(0x751)]}));});}async['join'](){const _0x47e309=_0x2aff22;await this[_0x47e309(0x23c)]();const _0x17d622=await this[_0x47e309(0x2ac)]();return this[_0x47e309(0x32d)]=(0x0,_0x43ecff[_0x47e309(0x972)])((0x0,_0x43ecff[_0x47e309(0x9ed)])(_0x4d81d6['getDatabase'](),_0x47e309(0x7ee)+this['clusterKey']+'/nodes'),_0x373ed3=>{const _0x468c7f=_0x47e309,_0xa87945=_0x373ed3[_0x468c7f(0x3c2)];if(!_0xa87945)return;const _0x3aa6d5=_0xa87945[_0x468c7f(0x481)](_0x468c7f(0xa10)+this[_0x468c7f(0x97c)]+'ccc','');this['disconnectCallback']['publish'](_0x3aa6d5);}),_0x17d622;}async[_0x2aff22(0x566)](){const _0x18c997=_0x2aff22;this[_0x18c997(0x32d)]?.(),delete this[_0x18c997(0x32d)],this['onDisconnectHandler']?.[_0x18c997(0x455)](),delete this[_0x18c997(0x65e)],this[_0x18c997(0x31f)]?.(),delete this[_0x18c997(0x31f)],await(0x0,_0x43ecff['remove'])((0x0,_0x43ecff['ref'])(_0x4d81d6[_0x18c997(0x52c)](),'clusters/'+this[_0x18c997(0xba5)]+_0x18c997(0x7d3)+this['nodeKey']));}[_0x2aff22(0x6c1)](_0x51580d){const _0x3d08e8=_0x2aff22;return this[_0x3d08e8(0x46a)][_0x3d08e8(0x4c8)](_0x51580d);}async[_0x2aff22(0x2ac)](){const _0x59568a=_0x2aff22,_0x4a1389=[],_0x2abaa6=await(0x0,_0x43ecff[_0x59568a(0x9de)])((0x0,_0x43ecff[_0x59568a(0x9ed)])(_0x4d81d6[_0x59568a(0x52c)](),'clusters/'+this['clusterKey']+_0x59568a(0x51c))),_0x3e3ccd=[];return _0x2abaa6[_0x59568a(0x663)](_0x510c89=>{const _0x55bde7=_0x59568a,_0x224779=_0x510c89[_0x55bde7(0x3c2)]?.['replace'](_0x55bde7(0xa10)+this[_0x55bde7(0x97c)]+_0x55bde7(0xa10),'');_0x3e3ccd[_0x55bde7(0x639)]({'id':_0x224779,'joinedAt':_0x510c89[_0x55bde7(0xaa4)]()[_0x55bde7(0x2b3)],'priority':_0x510c89[_0x55bde7(0xaa4)]()[_0x55bde7(0xbdf)]});}),_0x3e3ccd[_0x59568a(0x246)]((_0x50587c,_0x41c55f)=>_0x50587c['joinedAt']===_0x41c55f['joinedAt']?_0x50587c[_0x59568a(0xbdf)]-_0x41c55f[_0x59568a(0xbdf)]:_0x50587c['joinedAt']-_0x41c55f['joinedAt'])[_0x59568a(0x8f5)](_0x3e3ccd[_0x59568a(0x561)](_0x37bc9e=>_0x37bc9e['id']===this[_0x59568a(0x20e)]['getId']())),_0x3e3ccd['sort']((_0x32ef22,_0x561075)=>_0x561075[_0x59568a(0x2b3)]===_0x32ef22['joinedAt']?_0x561075[_0x59568a(0xbdf)]-_0x32ef22[_0x59568a(0xbdf)]:_0x561075[_0x59568a(0x2b3)]-_0x32ef22['joinedAt'])[_0x59568a(0x663)](_0x430d21=>{const _0xc9bedd=_0x59568a;_0x4a1389[_0xc9bedd(0x482)]>=this[_0xc9bedd(0x797)]||_0x4a1389[_0xc9bedd(0x639)](_0x430d21['id']);}),_0x11d8aa[_0x59568a(0x343)](_0x59568a(0x3b4),{'clusterId':this[_0x59568a(0x3d0)],'nodeId':this[_0x59568a(0x20e)][_0x59568a(0x781)](),'nodeType':this['localNode']['type'],'data':{'ancestorIds':_0x4a1389,'allNodes':_0x3e3ccd}}),_0x4a1389;}async[_0x2aff22(0x23c)](){const _0x46792b=_0x2aff22;await(0x0,_0x43ecff[_0x46792b(0x25c)])((0x0,_0x43ecff[_0x46792b(0x9ed)])(_0x4d81d6[_0x46792b(0x52c)](),_0x46792b(0x7ee)+this[_0x46792b(0xba5)]+_0x46792b(0x7d3)+this[_0x46792b(0x93b)]),{'joinedAt':(0x0,_0x43ecff[_0x46792b(0x7a9)])(),'priority':Math[_0x46792b(0x42a)]()});}[_0x2aff22(0x75d)](){const _0x13b1e0=_0x2aff22;this[_0x13b1e0(0x65e)]&&this[_0x13b1e0(0x65e)][_0x13b1e0(0x455)](),this[_0x13b1e0(0x65e)]=(0x0,_0x43ecff['onDisconnect'])((0x0,_0x43ecff['ref'])(_0x4d81d6[_0x13b1e0(0x52c)](),'clusters/'+this[_0x13b1e0(0xba5)]+_0x13b1e0(0x7d3)+this[_0x13b1e0(0x93b)])),this[_0x13b1e0(0x65e)]['remove']();}}class _0x509bc1{[_0x2aff22(0x6cb)];[_0x2aff22(0x59f)];[_0x2aff22(0x6a9)];['discoveryService'];['discoveryUnsubscriber'];[_0x2aff22(0x22b)]=[];['systemTopic'];['optimizationLayers']=new Map();[_0x2aff22(0x21a)];['lastProcessRank'];[_0x2aff22(0x4db)];['resolveReady'];[_0x2aff22(0x27f)];[_0x2aff22(0x2d2)];constructor(_0x37151e,_0x31b863){const _0x53bf68=_0x2aff22;this['configs']=_0x37151e,this[_0x53bf68(0x59f)]=_0x31b863,this[_0x53bf68(0x4db)]=new Promise((_0x1a4ec3,_0x52fdbc)=>{const _0x43ccc9=_0x53bf68;this['resolveReady']=_0x1a4ec3,this[_0x43ccc9(0x27f)]=_0x52fdbc;}),this['discoveryService']=new _0x45246c(this['configs'][_0x53bf68(0x97c)],this[_0x53bf68(0x6cb)][_0x53bf68(0x3d0)],this[_0x53bf68(0x6cb)][_0x53bf68(0x20e)],this[_0x53bf68(0x59f)]['getMinConnections']()),this[_0x53bf68(0x43d)]=this[_0x53bf68(0x668)]['onNodeDisconnect'](this[_0x53bf68(0x8a4)][_0x53bf68(0xa38)](this)),this[_0x53bf68(0x6cb)]['mediator'][_0x53bf68(0xbd4)](this[_0x53bf68(0x6cb)]['localNode']),this[_0x53bf68(0x6cb)][_0x53bf68(0x55b)][_0x53bf68(0xbd4)](this),this[_0x53bf68(0x6a9)]=_0x33cd0c[_0x53bf68(0xb09)](()=>{const _0x3faa86=_0x53bf68,_0x52c678=Date['now']();this[_0x3faa86(0x59f)]['getRemoteNodes']()[_0x3faa86(0x663)](_0x271ee5=>{const _0x9ff096=_0x3faa86;_0x271ee5[_0x9ff096(0x86d)]()===_0x1216dc[_0x9ff096(0x98a)]&&_0x271ee5['getLastUpdated']()<_0x52c678-0x493e0&&this[_0x9ff096(0x59f)][_0x9ff096(0x2eb)](_0x271ee5[_0x9ff096(0x781)]());});},0xea60);}async[_0x2aff22(0x78b)](){const _0x2e0bee=_0x2aff22;return this[_0x2e0bee(0x4db)];}async['isNodeReady'](_0x542845){return new Promise((_0x564c28,_0x371b93)=>{const _0x4454b2=a0_0x314b;let _0x602f2f;const _0xd7864=setTimeout(()=>{const _0x482113=a0_0x314b;_0x602f2f?.(),_0x371b93(new Error('Node\x20\x27'+_0x542845+_0x482113(0x4f1)));},0x2710);if(this[_0x4454b2(0x59f)][_0x4454b2(0x4e1)](_0x542845))return clearTimeout(_0xd7864),void _0x564c28(!0x0);_0x602f2f=this[_0x4454b2(0x59f)][_0x4454b2(0x527)](()=>{const _0x118338=_0x4454b2;this[_0x118338(0x59f)][_0x118338(0x4e1)](_0x542845)&&(clearTimeout(_0xd7864),_0x564c28(!0x0),_0x602f2f?.());});});}[_0x2aff22(0x390)](_0x10f41a){this['systemTopic']=_0x10f41a;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x2aff22(0x566)](){const _0x3eb40a=_0x2aff22;this[_0x3eb40a(0x21a)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x3eb40a(0x21a)]),delete this[_0x3eb40a(0x217)],this[_0x3eb40a(0x6cb)][_0x3eb40a(0x20e)]['close'](),this['remoteUnsubscriber'](),this[_0x3eb40a(0x43d)](),this[_0x3eb40a(0x6cb)][_0x3eb40a(0x55b)]['unregisterSystemSource'](this[_0x3eb40a(0x6cb)][_0x3eb40a(0x20e)]),this[_0x3eb40a(0x6cb)][_0x3eb40a(0x55b)]['unregisterSystemSource'](this),this[_0x3eb40a(0x668)][_0x3eb40a(0x566)]();}[_0x2aff22(0x406)](){const _0x9006a=_0x2aff22;return this[_0x9006a(0x22b)];}[_0x2aff22(0x5ee)](){const _0x3fc45c=_0x2aff22;return this[_0x3fc45c(0x6cb)][_0x3fc45c(0x20e)]['getId']();}['getLocalNode'](){const _0x196718=_0x2aff22;return this[_0x196718(0x6cb)]['localNode'];}[_0x2aff22(0xbb6)](_0x4771f3){const _0x16dca5=_0x2aff22,_0x139156=Array['from'](this[_0x16dca5(0x59f)][_0x16dca5(0xbb6)]()[_0x16dca5(0xa12)]())[_0x16dca5(0xae8)](_0x3577a6=>_0x3577a6[_0x16dca5(0x86d)]()===_0x1216dc[_0x16dca5(0x7e2)]);return _0x4771f3?_0x139156['filter'](_0x4771f3):_0x139156;}async[_0x2aff22(0x3b4)](){const _0x385d97=_0x2aff22;return this[_0x385d97(0x22b)]=await this[_0x385d97(0x668)]['join'](),this['ancestors']['length']<this[_0x385d97(0x59f)][_0x385d97(0x4fa)]()&&(this[_0x385d97(0x6cb)][_0x385d97(0x20e)][_0x385d97(0x5f8)](this['ancestors']['length']+0x1),this[_0x385d97(0x551)]()),this[_0x385d97(0x22b)];}[_0x2aff22(0x732)](_0x5329ba,_0x21d6e0){const _0x32c046=_0x2aff22,_0x5c65d7=this[_0x32c046(0x6cb)][_0x32c046(0x20e)][_0x32c046(0xa66)](),_0x585e58=new Set(_0x5c65d7),_0x4f9a4f=Array[_0x32c046(0x306)](_0x5c65d7)[_0x32c046(0xae8)](_0x33fd8d=>_0x33fd8d!==_0x5329ba)[_0x32c046(0x8df)](_0x378902=>({'id':_0x378902,'distance':0x1}));for(;_0x4f9a4f[_0x32c046(0x482)]>0x0;){const _0x2a03d0=_0x4f9a4f['shift']();if(!_0x2a03d0)continue;if(_0x2a03d0['id']===_0x21d6e0)return _0x2a03d0['distance'];const _0x1fdd1b=this['graphService'][_0x32c046(0x9b1)](_0x2a03d0['id']);_0x1fdd1b&&_0x1fdd1b[_0x32c046(0x86d)]()!==_0x1216dc[_0x32c046(0x98a)]&&_0x1fdd1b['getRemoteConnections']()['forEach'](_0x431153=>{const _0x7fcf7f=_0x32c046;_0x585e58[_0x7fcf7f(0x938)](_0x431153)||(_0x585e58[_0x7fcf7f(0x62d)](_0x431153),_0x4f9a4f[_0x7fcf7f(0x639)]({'id':_0x431153,'distance':_0x2a03d0[_0x7fcf7f(0x2c8)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x4b075d){const _0x46184a=_0x2aff22;try{switch(_0x4b075d[_0x46184a(0xb25)][_0x46184a(0x751)]){case _0x815418['NodeUpdate']:case _0x815418[_0x46184a(0xad6)]:this['handleNodeUpdate'](_0x4b075d[_0x46184a(0xb25)]),_0x11d8aa[_0x46184a(0x6ea)](_0x23f9d6[_0x46184a(0x43a)],_0x46184a(0xafd),'\x27'+this[_0x46184a(0x6cb)]['localNode']['getId']()+',\x20'+_0x4b075d[_0x46184a(0xb28)]+'\x27',_0x4b075d,_0x4b075d[_0x46184a(0xb25)]);break;case _0x815418['NodeLeave']:this[_0x46184a(0x44a)](_0x4b075d[_0x46184a(0xb25)]['id']),_0x11d8aa[_0x46184a(0x6ea)](_0x23f9d6[_0x46184a(0x43a)],_0x46184a(0x3b6),'\x27'+this['configs']['localNode'][_0x46184a(0x781)]()+',\x20'+_0x4b075d[_0x46184a(0xb28)]+'\x27',_0x4b075d,_0x4b075d['content']);}}catch(_0x306339){if(_0x306339 instanceof _0x3bacfb)return void _0x11d8aa[_0x46184a(0x6ea)](_0x23f9d6[_0x46184a(0x43a)],_0x306339[_0x46184a(0x83d)]);throw _0x306339;}}[_0x2aff22(0x575)](_0x7ea704){const _0x3b09eb=_0x2aff22;switch(_0x7ea704[_0x3b09eb(0xb25)][_0x3b09eb(0x751)]){case _0x1ad51b[_0x3b09eb(0x626)]:this[_0x3b09eb(0x630)](_0x7ea704[_0x3b09eb(0xb28)]),_0x11d8aa[_0x3b09eb(0x6ea)](_0x23f9d6[_0x3b09eb(0x43a)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x3b09eb(0x6cb)][_0x3b09eb(0x20e)]['getId']()+',\x20'+_0x7ea704[_0x3b09eb(0xb28)]+'\x27',_0x7ea704,_0x7ea704['content']);break;case _0x1ad51b[_0x3b09eb(0x9d1)]:this[_0x3b09eb(0x4dc)](_0x7ea704[_0x3b09eb(0xb28)]),_0x11d8aa[_0x3b09eb(0x6ea)](_0x23f9d6[_0x3b09eb(0x43a)],_0x3b09eb(0xb9c),this[_0x3b09eb(0x6cb)][_0x3b09eb(0x20e)][_0x3b09eb(0x781)](),_0x7ea704,_0x7ea704[_0x3b09eb(0xb25)]);}}[_0x2aff22(0x2aa)](_0x3aa2d9){const _0x561ad0=_0x2aff22;this['createRemoteNode'](_0x3aa2d9),this[_0x561ad0(0x351)](_0x3aa2d9);}[_0x2aff22(0x351)](_0x45be94){const _0x2b8bdf=_0x2aff22;this[_0x2b8bdf(0x6cb)][_0x2b8bdf(0x20e)][_0x2b8bdf(0xb1e)](_0x45be94['id']),this[_0x2b8bdf(0xac4)](_0x45be94['id']),this[_0x2b8bdf(0x454)](_0x45be94);}[_0x2aff22(0x695)](_0x343a93){const _0x31ba66=_0x2aff22,{id:_0x498aaf,metaData:_0x70b477,rank:_0x568aa2,remoteConnections:_0x3653c2,version:_0x2fa9eb}=_0x343a93,_0x4c9128=this[_0x31ba66(0x59f)][_0x31ba66(0x9b1)](_0x498aaf);if(_0x4c9128){if(!(_0x2fa9eb<=_0x4c9128[_0x31ba66(0xb87)]())){if(_0x4c9128[_0x31ba66(0x861)](_0x3653c2),_0x4c9128['setCurrentVersion'](_0x2fa9eb),_0x4c9128['type']===_0x182c91[_0x31ba66(0x764)]['User']&&_0x70b477[_0x31ba66(0x751)]===_0x182c91[_0x31ba66(0x764)][_0x31ba66(0x72f)]&&(_0x4c9128['setDisplayName'](_0x70b477[_0x31ba66(0x499)]),_0x4c9128[_0x31ba66(0x475)](_0x70b477[_0x31ba66(0x829)])),_0x568aa2&&_0x4c9128[_0x31ba66(0x5f8)](_0x568aa2),this[_0x31ba66(0x318)](_0x498aaf,_0x568aa2),_0x4c9128[_0x31ba66(0x86d)]()===_0x1216dc[_0x31ba66(0x98a)])return _0x4c9128['setStatus'](_0x1216dc[_0x31ba66(0x7e2)]),this['processRank'](),void this[_0x31ba66(0x351)](_0x343a93);this['processRank'](),this[_0x31ba66(0x93a)]({'id':_0x498aaf,'metaData':_0x70b477,'remoteConnections':_0x3653c2,'version':_0x2fa9eb});}}else this['handleNodeJoin'](_0x343a93);}[_0x2aff22(0x318)](_0x183f23,_0x2de212){const _0x2cd295=_0x2aff22;_0x2de212&&this[_0x2cd295(0x22b)][_0x2cd295(0x9bf)](_0x183f23)&&this[_0x2cd295(0x6cb)][_0x2cd295(0x20e)][_0x2cd295(0x5f8)](_0x2de212+this['ancestors'][_0x2cd295(0x26a)](_0x183f23)+0x1);}['handleConnectionSuccess'](_0x52a517){const _0x4bd157=_0x2aff22;this[_0x4bd157(0x6cb)][_0x4bd157(0x20e)][_0x4bd157(0x2da)](_0x52a517);}[_0x2aff22(0x1c9)]({id:_0x434207,metaData:_0x44fdb1,rank:_0x207826,remoteConnections:_0x12df59,version:_0x4f46c7}){const _0x3e6121=_0x2aff22;if(this[_0x3e6121(0x59f)][_0x3e6121(0x4e1)](_0x434207))throw new _0x3bacfb(_0x3e6121(0x59a)+_0x434207);switch(_0x44fdb1[_0x3e6121(0x751)]){case _0x182c91[_0x3e6121(0x764)]['User']:const {displayName:_0x1aa36e,email:_0x14d586}=_0x44fdb1;this[_0x3e6121(0x59f)]['setRemoteNode'](_0x434207,new _0x4b2508(_0x434207,_0x1aa36e,_0x14d586,new Set(_0x12df59),_0x4f46c7,_0x207826));break;case _0x182c91['NodeType'][_0x3e6121(0x2e3)]:this[_0x3e6121(0x59f)]['setRemoteNode'](_0x434207,new _0x31dbb2(_0x434207,new Set(_0x12df59),_0x4f46c7,_0x207826));}const _0x24500b=this[_0x3e6121(0xbb6)](),_0x5377e1=new Set(this[_0x3e6121(0x22b)]);_0x24500b[_0x3e6121(0x663)](_0x57cbfc=>{const _0x2e9ea4=_0x3e6121;_0x5377e1[_0x2e9ea4(0x938)](_0x57cbfc[_0x2e9ea4(0x781)]())&&_0x5377e1['delete'](_0x57cbfc['getId']());}),0x0===_0x5377e1[_0x3e6121(0x5ab)]&&this[_0x3e6121(0xb5d)]&&(this['readyDebounce']&&clearTimeout(this[_0x3e6121(0x2d2)]),this[_0x3e6121(0x2d2)]=setTimeout(()=>{const _0x8e05c3=_0x3e6121;this[_0x8e05c3(0xb5d)]?.(!0x0),delete this[_0x8e05c3(0xb5d)],delete this[_0x8e05c3(0x27f)];},0x7d0)),this[_0x3e6121(0x318)](_0x434207,_0x207826),this[_0x3e6121(0x551)]();}[_0x2aff22(0xac4)](_0x5507cc){const _0x907b1f=_0x2aff22;this[_0x907b1f(0x7ef)][_0x907b1f(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8['Node'],'content':{'type':_0x815418[_0x907b1f(0xb73)],'id':_0x5507cc}});}[_0x2aff22(0x4dc)](_0x296080){const _0x16912a=_0x2aff22;this['systemTopic']?.[_0x16912a(0x9cd)]({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x16912a(0x43a)],'content':{'type':_0x815418[_0x16912a(0x58a)],'id':_0x296080}});}[_0x2aff22(0x8a4)](_0x5877ec){const _0xa6d171=_0x2aff22;if(_0x5877ec===this[_0xa6d171(0x6cb)][_0xa6d171(0x20e)][_0xa6d171(0x781)]())return this['configs']['mediator']['notifyCluster']('cluster-disconnect',{'id':_0x5877ec}),this[_0xa6d171(0x6cb)][_0xa6d171(0x55b)][_0xa6d171(0x566)]({'force':!0x0},!0x0),this[_0xa6d171(0x6cb)][_0xa6d171(0x55b)][_0xa6d171(0x3f1)](),void this[_0xa6d171(0x6cb)][_0xa6d171(0x55b)][_0xa6d171(0xab3)]();this[_0xa6d171(0x4dc)](_0x5877ec);}[_0x2aff22(0x44a)](_0xd219e1){const _0x3bb771=_0x2aff22;this[_0x3bb771(0x22b)]['includes'](_0xd219e1)?this[_0x3bb771(0x382)](_0xd219e1):this[_0x3bb771(0x6cb)][_0x3bb771(0x20e)][_0x3bb771(0xa66)]()[_0x3bb771(0x938)](_0xd219e1)&&this[_0x3bb771(0x7c4)](_0xd219e1),this['configs']['localNode'][_0x3bb771(0x557)](_0xd219e1);const _0x3c4b3f=Array[_0x3bb771(0x306)](this[_0x3bb771(0x201)]['entries']())['find'](([,_0x1982d9])=>_0x1982d9==_0x1982d9);_0x3c4b3f&&this[_0x3bb771(0x201)][_0x3bb771(0xa6b)](_0x3c4b3f[0x0]);const _0x1f54ac=this[_0x3bb771(0x59f)][_0x3bb771(0x9b1)](_0xd219e1);if(!_0x1f54ac)return;const _0x445761=_0x1f54ac[_0x3bb771(0x2fc)](),_0x51f020=this['configs'][_0x3bb771(0x20e)][_0x3bb771(0x2fc)]();_0x51f020&&_0x445761&&_0x445761<_0x51f020&&this[_0x3bb771(0x6cb)]['localNode'][_0x3bb771(0x5f8)](_0x51f020-0x1,!0x1),Array[_0x3bb771(0x306)](this['graphService'][_0x3bb771(0xbb6)]()[_0x3bb771(0xa12)]())[_0x3bb771(0x663)](_0x4d4cb0=>{const _0xcf092d=_0x3bb771,_0x5bae37=_0x4d4cb0[_0xcf092d(0x2fc)]();_0x5bae37&&_0x445761&&_0x445761<_0x5bae37&&_0x4d4cb0[_0xcf092d(0x5f8)](_0x5bae37-0x1);}),_0x1f54ac['setStatus'](_0x1216dc[_0x3bb771(0x98a)]),this[_0x3bb771(0x6cb)][_0x3bb771(0x55b)][_0x3bb771(0xa89)](_0x1f54ac['type']+_0x3bb771(0x3d8),{'id':_0xd219e1});}[_0x2aff22(0x454)]({id:_0x198890,metaData:_0x18371d,remoteConnections:_0x5ad8b1}){const _0x5afc55=_0x2aff22;switch(_0x18371d[_0x5afc55(0x751)]){case _0x182c91['NodeType'][_0x5afc55(0x72f)]:this[_0x5afc55(0x6cb)][_0x5afc55(0x55b)][_0x5afc55(0xa89)](_0x5afc55(0x73a),{'id':_0x198890,'metaData':_0x18371d,'remoteConnections':_0x5ad8b1});break;case _0x182c91['NodeType'][_0x5afc55(0x2e3)]:this[_0x5afc55(0x6cb)][_0x5afc55(0x55b)][_0x5afc55(0xa89)](_0x5afc55(0xa17),{'id':_0x198890,'metaData':_0x18371d,'remoteConnections':_0x5ad8b1});}}[_0x2aff22(0x93a)]({id:_0x5ccca9,metaData:_0x346bcf,remoteConnections:_0x4ea9f5}){const _0x176ab4=_0x2aff22;switch(_0x346bcf['type']){case _0x182c91['NodeType']['User']:this[_0x176ab4(0x6cb)][_0x176ab4(0x55b)][_0x176ab4(0xa89)](_0x176ab4(0x36c),{'id':_0x5ccca9,'metaData':_0x346bcf,'remoteConnections':_0x4ea9f5});break;case _0x182c91[_0x176ab4(0x764)][_0x176ab4(0x2e3)]:this['configs'][_0x176ab4(0x55b)]['notifyCluster'](_0x176ab4(0x895),{'id':_0x5ccca9,'metaData':_0x346bcf,'remoteConnections':_0x4ea9f5});}}[_0x2aff22(0x551)](){const _0x4e4bd6=_0x2aff22;if(this[_0x4e4bd6(0x217)]||(this['lastProcessRank']=Date[_0x4e4bd6(0x75c)]()),this['debounceProcessRank']){if(Date[_0x4e4bd6(0x75c)]()-this[_0x4e4bd6(0x217)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x4e4bd6(0x21a)]=setTimeout(async()=>{const _0x38e973=_0x4e4bd6;delete this[_0x38e973(0x217)],delete this[_0x38e973(0x21a)];const _0x30272a=this[_0x38e973(0x6cb)][_0x38e973(0x20e)][_0x38e973(0x2fc)]();if(!_0x30272a)return;const _0x164701=this[_0x38e973(0x59f)][_0x38e973(0x94d)](this[_0x38e973(0x59f)][_0x38e973(0xbb6)]()[_0x38e973(0x5ab)]);if(this['optimizationLayers'][_0x38e973(0x5ab)]>=_0x164701)return;let _0x1107be=0x1;for(;this[_0x38e973(0x6cb)][_0x38e973(0x55b)]['getConnections']()[_0x38e973(0x482)]<this[_0x38e973(0x59f)][_0x38e973(0x27d)]()&&_0x1107be<=_0x164701;){if(this[_0x38e973(0x201)]['has'](_0x1107be)){_0x1107be+=0x1;continue;}const _0x5b6fe3=this['graphService'][_0x38e973(0x4cb)](_0x30272a,_0x1107be),_0x1c31af=Array[_0x38e973(0x306)](this['graphService']['getRemoteNodes']()[_0x38e973(0xa12)]())[_0x38e973(0x43b)](_0x344a8f=>_0x344a8f[_0x38e973(0x2fc)]()===_0x5b6fe3&&_0x344a8f['getStatus']()===_0x1216dc[_0x38e973(0x7e2)]);if(_0x1c31af){try{await this['configs'][_0x38e973(0x55b)]['createConnection'](_0x1c31af[_0x38e973(0x781)](),_0x1afa62[_0x38e973(0x9ba)]),this['optimizationLayers']['set'](_0x1107be,_0x1c31af[_0x38e973(0x781)]());}catch(_0x398cbc){if(!(_0x398cbc instanceof _0x1a8c20&&_0x398cbc[_0x38e973(0x400)]===_0x1a8c20['codes'][_0x38e973(0x92b)]))throw _0x398cbc;_0x11d8aa[_0x38e973(0x6ea)](_0x23f9d6[_0x38e973(0x43a)],this[_0x38e973(0x6cb)][_0x38e973(0x20e)][_0x38e973(0x781)](),_0x1c31af[_0x38e973(0x781)](),_0x398cbc[_0x38e973(0x83d)]);}_0x1107be+=0x1;}else _0x1107be+=0x1;}},0x3e8);}async[_0x2aff22(0x382)](_0x479c9f){const _0x3b140d=_0x2aff22;this[_0x3b140d(0x22b)]['splice'](this['ancestors']['indexOf'](_0x479c9f),0x1);const _0x2eb215=await this[_0x3b140d(0x668)][_0x3b140d(0x2ac)]();for(const _0x4cabdf of _0x2eb215)if(!this[_0x3b140d(0x22b)][_0x3b140d(0x9bf)](_0x4cabdf)){const _0x28805c=Array[_0x3b140d(0x306)](this[_0x3b140d(0x201)]['entries']())[_0x3b140d(0x43b)](([,_0x55b780])=>_0x55b780===_0x4cabdf);_0x28805c&&this['optimizationLayers'][_0x3b140d(0xa6b)](_0x28805c[0x0]),this[_0x3b140d(0x6cb)]['mediator'][_0x3b140d(0x9fc)](_0x4cabdf,_0x1afa62[_0x3b140d(0x562)]);}0x0===_0x2eb215[_0x3b140d(0x482)]&&this[_0x3b140d(0x6cb)][_0x3b140d(0x20e)][_0x3b140d(0x5f8)](0x1),this['ancestors']=_0x2eb215;}async[_0x2aff22(0x7c4)](_0x4768f1){const _0x2d624e=_0x2aff22,_0x132b56=this[_0x2d624e(0x6cb)]['localNode']['getRank']();if(!_0x132b56)return;const _0x48415a=this[_0x2d624e(0x59f)]['getRemoteNode'](_0x4768f1);if(!_0x48415a||_0x48415a[_0x2d624e(0x86d)]()===_0x1216dc['Offline'])return;const _0x20d575=_0x48415a[_0x2d624e(0x2fc)]();if(!_0x20d575||_0x20d575<_0x132b56)return;const _0x2ff4fc=this[_0x2d624e(0x204)](this[_0x2d624e(0x6cb)][_0x2d624e(0x20e)][_0x2d624e(0xa66)](),_0x132b56),_0x3e4782=this[_0x2d624e(0x204)](_0x48415a[_0x2d624e(0xa66)](),_0x20d575)[_0x2ff4fc[_0x2d624e(0x561)](([_0x4c4be1])=>_0x4c4be1===_0x4768f1)];if(!_0x3e4782||this[_0x2d624e(0x6cb)]['localNode']['getRemoteConnections']()['has'](_0x3e4782[0x0]))return;const _0x46dd16=this[_0x2d624e(0x59f)][_0x2d624e(0x9b1)](_0x3e4782[0x0]);if(_0x46dd16&&_0x46dd16['getStatus']()!==_0x1216dc[_0x2d624e(0x98a)])try{await this[_0x2d624e(0x6cb)][_0x2d624e(0x55b)]['createConnection'](_0x3e4782[0x0],_0x1afa62[_0x2d624e(0x9ba)]);const _0x1a9592=Array[_0x2d624e(0x306)](this[_0x2d624e(0x201)][_0x2d624e(0x437)]())[_0x2d624e(0x43b)](([,_0x6ac06d])=>_0x6ac06d===_0x4768f1);_0x1a9592&&this[_0x2d624e(0x201)][_0x2d624e(0x25c)](_0x1a9592[0x0],_0x3e4782[0x0]);}catch(_0x3fa083){if(!(_0x3fa083 instanceof _0x1a8c20&&_0x3fa083[_0x2d624e(0x400)]===_0x1a8c20['codes'][_0x2d624e(0x92b)]))throw _0x3fa083;_0x11d8aa[_0x2d624e(0x6ea)](_0x23f9d6[_0x2d624e(0x43a)],this[_0x2d624e(0x6cb)][_0x2d624e(0x20e)]['getId'](),_0x3e4782[0x0],_0x3fa083[_0x2d624e(0x83d)]);}}[_0x2aff22(0x204)](_0x15622d,_0x353c70){const _0x2518df=_0x2aff22;return Array['from'](_0x15622d)['reduce']((_0x284765,_0x1070e6)=>{const _0x1ae625=a0_0x314b,_0x3dad49=this['graphService'][_0x1ae625(0x9b1)](_0x1070e6);if(!_0x3dad49||_0x3dad49['getStatus']()===_0x1216dc[_0x1ae625(0x98a)])return _0x284765;const _0x76b2f1=_0x3dad49[_0x1ae625(0x2fc)]();if(!_0x76b2f1)return _0x284765;const _0x2c2e4f=_0x76b2f1-_0x353c70;return _0x2c2e4f<=this['graphService']['getMinConnections']()||_0x284765['push']([_0x1070e6,_0x2c2e4f]),_0x284765;},[])[_0x2518df(0x246)](([,_0x5a0a30],[,_0x80567e])=>_0x5a0a30-_0x80567e);}}const _0xe9d53b=[{'problemType':_0x541b58[_0x2aff22(0x36b)],'remediations':[{'type':_0x2506db[_0x2aff22(0x739)],'component':_0x1f3264[_0x2aff22(0x3b7)],'action':_0x3d3f25[_0x2aff22(0x8c8)]},{'type':_0x2506db[_0x2aff22(0x917)],'component':_0x1f3264[_0x2aff22(0x3b7)],'action':_0x3d3f25[_0x2aff22(0x8c8)]}]},{'problemType':_0x541b58[_0x2aff22(0x602)],'remediations':[{'type':_0x2506db[_0x2aff22(0x739)],'component':_0x1f3264['Resolution'],'action':_0x3d3f25[_0x2aff22(0x8c8)]}]},{'problemType':_0x541b58[_0x2aff22(0xa3d)],'remediations':[{'type':_0x2506db[_0x2aff22(0x739)],'component':_0x1f3264[_0x2aff22(0x3b7)],'action':_0x3d3f25[_0x2aff22(0x8c8)]}]},{'problemType':_0x541b58[_0x2aff22(0x89d)],'remediations':[{'type':_0x2506db[_0x2aff22(0x739)],'component':_0x1f3264[_0x2aff22(0x3b7)],'action':_0x3d3f25[_0x2aff22(0x8c8)]}]},{'problemType':_0x541b58[_0x2aff22(0x6ab)],'remediations':[{'type':_0x2506db['Remediation'],'component':_0x1f3264[_0x2aff22(0x6ab)],'action':_0x3d3f25[_0x2aff22(0x8c8)]}]},{'problemType':_0x541b58['Jitter'],'remediations':[{'type':_0x2506db[_0x2aff22(0x739)],'component':_0x1f3264['Bitrate'],'action':_0x3d3f25[_0x2aff22(0x8c8)]}]},{'problemType':_0x541b58['RoundTripTime'],'remediations':[{'type':_0x2506db[_0x2aff22(0x739)],'component':_0x1f3264[_0x2aff22(0x6ab)],'action':_0x3d3f25[_0x2aff22(0x8c8)]}]}];class _0x1395f7{[_0x2aff22(0x6cb)];[_0x2aff22(0x7ef)];[_0x2aff22(0x297)]=new Map();constructor(_0x3c5fc8){const _0x74efbf=_0x2aff22;this[_0x74efbf(0x6cb)]=_0x3c5fc8,this[_0x74efbf(0x6cb)][_0x74efbf(0x55b)]['registerSystemSource'](this);}[_0x2aff22(0x566)](){const _0x27e6b3=_0x2aff22;this['configs'][_0x27e6b3(0x55b)]['unregisterSystemSource'](this);}['registerSystemPublisher'](_0x44e632){const _0x357630=_0x2aff22;this[_0x357630(0x7ef)]=_0x44e632;}['unregisterSystemPublisher'](){const _0x4f6fd1=_0x2aff22;delete this[_0x4f6fd1(0x7ef)];}['handleDetectionSystemEvents'](_0x1ced1b){const _0x3e07e2=_0x2aff22;_0x1ced1b[_0x3e07e2(0xb25)][_0x3e07e2(0x751)]===_0x3f4a2c[_0x3e07e2(0x74d)]&&this['handleProblem'](_0x1ced1b[_0x3e07e2(0xb25)][_0x3e07e2(0x8e6)]);}[_0x2aff22(0x6ae)](_0x52bc32){const _0x158823=_0x2aff22;_0x52bc32['content'][_0x158823(0x751)]===_0x2506db['RemoteRemediation']&&this[_0x158823(0xb4b)](_0x52bc32[_0x158823(0xb28)],{'type':_0x2506db['Remediation'],'component':_0x52bc32[_0x158823(0xb25)][_0x158823(0x8e6)][_0x158823(0xac6)],'action':_0x52bc32[_0x158823(0xb25)][_0x158823(0x8e6)][_0x158823(0x616)]});}[_0x2aff22(0xb3d)](_0x4d868f){const _0x2eb11a=_0x2aff22,_0x873beb=_0xe9d53b[_0x2eb11a(0x43b)](_0x5f08de=>_0x5f08de[_0x2eb11a(0x60d)]===_0x4d868f[_0x2eb11a(0x751)]);_0x873beb[_0x2eb11a(0x9e0)]?.[_0x2eb11a(0x663)](_0x43b100=>{const _0x3fc4b0=_0x2eb11a;this[_0x3fc4b0(0xb4b)](_0x4d868f[_0x3fc4b0(0x4ed)],{'type':_0x4d868f[_0x3fc4b0(0x635)]===_0x5898c5[_0x3fc4b0(0x867)]?_0x2506db['Remediation']:_0x2506db[_0x3fc4b0(0x917)],'component':_0x43b100[_0x3fc4b0(0xac6)],'action':_0x43b100[_0x3fc4b0(0x616)]});});}[_0x2aff22(0xb4b)](_0x198b60,_0x149b90){const _0x4e2134=_0x2aff22;if(_0x149b90[_0x4e2134(0x751)]===_0x2506db['Remediation']){const _0x59e21f=Date[_0x4e2134(0x75c)](),_0xb12cd5=this[_0x4e2134(0x297)][_0x4e2134(0x9de)](_0x198b60);if(_0xb12cd5&&_0x59e21f-_0xb12cd5<0x1388)return;this[_0x4e2134(0x297)][_0x4e2134(0x25c)](_0x198b60,_0x59e21f);}_0x11d8aa[_0x4e2134(0x6ea)](_0x23f9d6[_0x4e2134(0x739)],_0x4e2134(0xb4a),_0x149b90),_0x11d8aa[_0x4e2134(0x343)](_0x4e2134(0xaf6),{'clusterId':this[_0x4e2134(0x6cb)][_0x4e2134(0x3d0)],'nodeId':this[_0x4e2134(0x6cb)][_0x4e2134(0x20e)][_0x4e2134(0x781)](),'nodeType':this[_0x4e2134(0x6cb)]['localNode'][_0x4e2134(0x751)],'remoteId':_0x198b60,'data':{'type':_0x149b90['type'],'component':_0x149b90[_0x4e2134(0xac6)],'action':_0x149b90[_0x4e2134(0x616)]}});let _0x40ec04,_0x16453f=_0x21a1e9;_0x149b90[_0x4e2134(0x751)]===_0x2506db[_0x4e2134(0x917)]&&(_0x16453f=this['configs'][_0x4e2134(0x20e)][_0x4e2134(0x781)](),_0x40ec04=[_0x198b60]),this[_0x4e2134(0x7ef)][_0x4e2134(0x9cd)]({'sourceId':_0x16453f,'destinationIds':_0x40ec04,'messageType':_0x3048e8[_0x4e2134(0x739)],'content':{'type':_0x149b90['type'],'targetId':_0x198b60,'data':_0x149b90}});}}const _0x9a4592=0x3e8,_0x33c791=0x7530,_0x129878=_0x2aff22(0x866),_0x8e9847='remote-inbound-rtp',_0x39af99=_0x2aff22(0x904),_0x2f5a0b=[_0x129878,_0x8e9847],_0x1ae62d=[_0x39af99];class _0x4a7229{[_0x2aff22(0x333)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x2aff22(0x39a)]=0x0;['packetsLost']=0x0;[_0x2aff22(0x463)]=0x0;[_0x2aff22(0x466)]=0x0;['previousTimestamp']=0x0;[_0x2aff22(0x483)]=0x0;['previousBytes']=0x0;get['bitrate'](){const _0x314661=_0x2aff22;return this[_0x314661(0x466)]>0x0&&this[_0x314661(0x81e)]>0x0&&Date[_0x314661(0x75c)]()-this[_0x314661(0x466)]<_0x33c791?(this['currentBytes']-this['previousBytes'])/(this[_0x314661(0x466)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x2aff22(0x2e1)](_0x3bc3ac){const _0x3fb8f0=_0x2aff22;switch(_0x3bc3ac[_0x3fb8f0(0x751)]){case _0x39af99:this[_0x3fb8f0(0x60b)](_0x3bc3ac);break;case _0x129878:this[_0x3fb8f0(0x565)](_0x3bc3ac);break;case _0x8e9847:this[_0x3fb8f0(0x990)](_0x3bc3ac);}}[_0x2aff22(0x7fa)](){const _0x16c2cd=_0x2aff22;return{'bitrate':this['bitrate'],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x16c2cd(0x39a)]};}[_0x2aff22(0x60b)](_0x5ddf74){const _0x4b9fbe=_0x2aff22;this[_0x4b9fbe(0xa2e)](_0x5ddf74['bytesReceived']),this[_0x4b9fbe(0xb5e)](_0x5ddf74['timestamp']),this[_0x4b9fbe(0x463)]=_0x5ddf74[_0x4b9fbe(0xafa)],this[_0x4b9fbe(0xa16)]=_0x5ddf74[_0x4b9fbe(0xa16)],void 0x0!==_0x5ddf74['jitter']?this['jitter']=_0x5ddf74['jitter']:this[_0x4b9fbe(0x39a)]=0x0,void 0x0!==_0x5ddf74[_0x4b9fbe(0x27c)]?this['estimatedPlayoutTimestamp']=_0x5ddf74[_0x4b9fbe(0x27c)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x2aff22(0x565)](_0x42e441){const _0x127360=_0x2aff22;this['setBytes'](_0x42e441[_0x127360(0x439)]),this[_0x127360(0xb5e)](_0x42e441['timestamp']),this[_0x127360(0x463)]=_0x42e441[_0x127360(0x74b)];}[_0x2aff22(0x990)](_0x5e2aa5){const _0x247e32=_0x2aff22;this['roundTripTime']=0x3e8*_0x5e2aa5[_0x247e32(0x333)],void 0x0!==_0x5e2aa5[_0x247e32(0x39a)]?this[_0x247e32(0x39a)]=_0x5e2aa5['jitter']:this[_0x247e32(0x39a)]=0x0;}['getPacketsLostPerc'](){const _0x2c64b7=_0x2aff22;return this['packets']>0x0?this[_0x2c64b7(0xa16)]/this[_0x2c64b7(0x463)]:0x0;}[_0x2aff22(0xb5e)](_0x141830){const _0x4121b8=_0x2aff22;_0x141830>this['currentTimestamp']&&(this[_0x4121b8(0x81e)]=this[_0x4121b8(0x466)],this[_0x4121b8(0x466)]=_0x141830);}[_0x2aff22(0xa2e)](_0x38a72a){const _0x4ccb79=_0x2aff22;this[_0x4ccb79(0xa57)]=this[_0x4ccb79(0x483)],this[_0x4ccb79(0x483)]=_0x38a72a;}}class _0x203492 extends _0x4a7229{}class _0x38066c extends _0x4a7229{[_0x2aff22(0x3bb)]=0x0;['frameWidth']=0x0;[_0x2aff22(0x81f)]=0x0;[_0x2aff22(0x5c4)]=0x0;[_0x2aff22(0x8bd)]=0x0;get['fps'](){const _0x1bb9fc=_0x2aff22;return this[_0x1bb9fc(0x466)]>0x0&&this[_0x1bb9fc(0x81e)]>0x0&&Date[_0x1bb9fc(0x75c)]()-this['currentTimestamp']<_0x33c791?(this[_0x1bb9fc(0x5c4)]-this['previousFrames'])/(this[_0x1bb9fc(0x466)]-this['previousTimestamp'])*0x3e8:0x0;}get['timePerFrame'](){const _0x5cfef7=_0x2aff22;return this[_0x5cfef7(0x3bb)]&&this[_0x5cfef7(0x5c4)]&&this[_0x5cfef7(0x5c4)]>0x0?this['frameTime']/this['currentFrames']:0x0;}set[_0x2aff22(0x8a5)](_0x9a0cd1){const _0x491910=_0x2aff22;this[_0x491910(0x8bd)]=this[_0x491910(0x5c4)],this[_0x491910(0x5c4)]=_0x9a0cd1;}[_0x2aff22(0x7fa)](){const _0x53fa79=_0x2aff22;return{...super[_0x53fa79(0x7fa)](),'FPS':this['fps'],'timePerFrame':this[_0x53fa79(0x7de)],'frameWidth':this[_0x53fa79(0x25d)],'frameHeight':this[_0x53fa79(0x81f)]};}[_0x2aff22(0x60b)](_0x5e9545){const _0x156c2c=_0x2aff22;super[_0x156c2c(0x60b)](_0x5e9545),this[_0x156c2c(0x3bb)]=_0x5e9545[_0x156c2c(0x8d1)],this[_0x156c2c(0x8a5)]=_0x5e9545['framesDecoded'],this[_0x156c2c(0x25d)]=_0x5e9545[_0x156c2c(0x25d)],this[_0x156c2c(0x81f)]=_0x5e9545[_0x156c2c(0x81f)];}[_0x2aff22(0x565)](_0x1f98a9){const _0x2e1865=_0x2aff22;super[_0x2e1865(0x565)](_0x1f98a9),this[_0x2e1865(0x3bb)]=_0x1f98a9[_0x2e1865(0x1ae)],this[_0x2e1865(0x8a5)]=_0x1f98a9['framesEncoded'],this[_0x2e1865(0x25d)]=_0x1f98a9[_0x2e1865(0x25d)],this[_0x2e1865(0x81f)]=_0x1f98a9[_0x2e1865(0x81f)];}}class _0x11fb1c{[_0x2aff22(0xaea)]=new _0x203492();[_0x2aff22(0x4c5)]=new _0x38066c();get[_0x2aff22(0x77e)](){const _0x42efa8=_0x2aff22;return this[_0x42efa8(0xaea)][_0x42efa8(0x77e)]+this[_0x42efa8(0x4c5)][_0x42efa8(0x77e)];}[_0x2aff22(0x465)](_0x3a3aa9){const _0x359f2e=_0x2aff22;return _0x3a3aa9[_0x359f2e(0x663)](_0x485975=>{const _0x3c1e72=_0x359f2e;switch(_0x485975['kind']){case _0x3c1e72(0xaea):this[_0x3c1e72(0xaea)]['processReport'](_0x485975);break;case _0x3c1e72(0x4c5):this['video'][_0x3c1e72(0x2e1)](_0x485975);}}),this[_0x359f2e(0x7fa)]();}[_0x2aff22(0x7fa)](){const _0x4ea583=_0x2aff22;return{'audio':this[_0x4ea583(0xaea)][_0x4ea583(0x7fa)](),'video':this[_0x4ea583(0x4c5)][_0x4ea583(0x7fa)](),'roundTripTime':this[_0x4ea583(0xaf8)](),'AudioVideoDelay':this[_0x4ea583(0xa22)](),'bitrate':this[_0x4ea583(0x77e)]};}['getRoundTripTime'](){const _0x29992c=_0x2aff22;return Math[_0x29992c(0x39d)]((this[_0x29992c(0xaea)]['roundTripTime']+this[_0x29992c(0x4c5)][_0x29992c(0x333)])/0x2);}[_0x2aff22(0xa22)](){const _0x67883=_0x2aff22;return this[_0x67883(0xaea)][_0x67883(0x27c)]-this[_0x67883(0x4c5)][_0x67883(0x27c)];}}class _0x47e7eb{[_0x2aff22(0xb21)]=0x0;[_0x2aff22(0xbf0)]=0x0;[_0x2aff22(0x357)]=0x0;[_0x2aff22(0x1eb)]=0x0;[_0x2aff22(0x473)]=0x0;[_0x2aff22(0x50f)]=0x0;[_0x2aff22(0x77b)]=0x0;['receiverPreviousBytes']=0x0;[_0x2aff22(0x975)]=0x0;[_0x2aff22(0x524)]=0x0;['senderTimeProcessing']=0x0;[_0x2aff22(0x3ff)]=0x0;['roundTripTime']=0x0;get[_0x2aff22(0x77e)](){const _0x21c26d=_0x2aff22;return this[_0x21c26d(0x31e)]+this['receiverBitrate'];}get[_0x2aff22(0x31e)](){const _0x2f9174=_0x2aff22;return this[_0x2f9174(0xb21)]>0x0&&this[_0x2f9174(0xbf0)]>0x0&&Date[_0x2f9174(0x75c)]()-this['senderCurrentTimestamp']<_0x33c791?(this[_0x2f9174(0x473)]-this['senderPreviousBytes'])/(this[_0x2f9174(0xb21)]-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get[_0x2aff22(0xb1f)](){const _0x57be13=_0x2aff22;return this[_0x57be13(0x357)]>0x0&&this[_0x57be13(0x1eb)]>0x0&&Date[_0x57be13(0x75c)]()-this[_0x57be13(0x357)]<_0x33c791?(this[_0x57be13(0x77b)]-this['receiverPreviousBytes'])/(this['receiverCurrentTimestamp']-this[_0x57be13(0x1eb)])*0x8*0x3e8:0x0;}[_0x2aff22(0x2e1)](_0x41d9fa){const _0x469493=_0x2aff22;switch(_0x41d9fa[_0x469493(0x635)]){case _0x5898c5[_0x469493(0x867)]:this[_0x469493(0x7b0)](_0x41d9fa);break;case _0x5898c5[_0x469493(0xbe5)]:this['processReceiverReport'](_0x41d9fa);}}['getReport'](){const _0x2f536e=_0x2aff22;return{'bitrate':this['bitrate'],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x2f536e(0xb1f)],'totalBytes':this[_0x2f536e(0x908)](),'senderTotalBytes':this[_0x2f536e(0x588)](),'receiverTotalBytes':this[_0x2f536e(0x615)](),'totalMessages':this[_0x2f536e(0x975)]+this[_0x2f536e(0x524)],'senderTotalMessages':this[_0x2f536e(0x975)],'receiverTotalMessages':this[_0x2f536e(0x524)],'timeProcessing':this['senderTimeProcessing']+this[_0x2f536e(0x3ff)],'senderTimeProcessing':this[_0x2f536e(0x1e6)],'receiverTimeProcessing':this[_0x2f536e(0x3ff)],'roundTripTime':this[_0x2f536e(0x333)]};}[_0x2aff22(0x908)](){const _0x51a883=_0x2aff22;return this[_0x51a883(0x473)]+this[_0x51a883(0x77b)];}['getSenderTotalBytes'](){return this['senderCurrentBytes'];}[_0x2aff22(0x615)](){return this['receiverCurrentBytes'];}[_0x2aff22(0x7b0)](_0x323773){const _0x5695e3=_0x2aff22;this[_0x5695e3(0x8b6)](_0x323773[_0x5695e3(0x3ad)]),this['setBytes'](_0x323773[_0x5695e3(0x439)]),this[_0x5695e3(0x975)]=_0x323773[_0x5695e3(0x688)],this[_0x5695e3(0x1e6)]=_0x323773['timeSending'],this['roundTripTime']=_0x323773[_0x5695e3(0x333)];}[_0x2aff22(0x1ea)](_0x3e5ae9){const _0x438695=_0x2aff22;this[_0x438695(0xb34)](_0x3e5ae9[_0x438695(0x3ad)]),this[_0x438695(0xb69)](_0x3e5ae9['bytesReceived']),this[_0x438695(0x524)]=_0x3e5ae9[_0x438695(0x32c)],this['receiverTimeProcessing']=_0x3e5ae9[_0x438695(0x494)];}[_0x2aff22(0x8b6)](_0x180ee4){_0x180ee4>this['senderCurrentTimestamp']&&(this['senderPreviousTimestamp']=this['senderCurrentTimestamp'],this['senderCurrentTimestamp']=_0x180ee4);}['setReceiverTimestamp'](_0x9ae505){const _0x572f85=_0x2aff22;_0x9ae505>this[_0x572f85(0x357)]&&(this[_0x572f85(0x1eb)]=this[_0x572f85(0x357)],this['receiverCurrentTimestamp']=_0x9ae505);}[_0x2aff22(0xa2e)](_0xe1f3af){const _0x102aba=_0x2aff22;this[_0x102aba(0x50f)]=this['senderCurrentBytes'],this[_0x102aba(0x473)]=_0xe1f3af;}[_0x2aff22(0xb69)](_0x3221fe){this['receiverPreviousBytes']=this['receiverCurrentBytes'],this['receiverCurrentBytes']=_0x3221fe;}}class _0x1c8ef8{['senderStreams']=new Map();['receiverStreams']=new Map();['dataChannel']=new _0x47e7eb();get[_0x2aff22(0x31e)](){const _0x4d6056=_0x2aff22;let _0x72099c=0x0;return this[_0x4d6056(0xa7e)][_0x4d6056(0x663)](_0x17b424=>{const _0x56b0ad=_0x4d6056;_0x72099c+=_0x17b424[_0x56b0ad(0x77e)];}),_0x72099c+=this[_0x4d6056(0x89e)][_0x4d6056(0x31e)],_0x72099c;}get[_0x2aff22(0xb1f)](){const _0x17b9e3=_0x2aff22;let _0xf8acb7=0x0;return this[_0x17b9e3(0x914)][_0x17b9e3(0x663)](_0x10f7f6=>{const _0x15afb4=_0x17b9e3;_0xf8acb7+=_0x10f7f6[_0x15afb4(0x77e)];}),_0xf8acb7+=this[_0x17b9e3(0x89e)][_0x17b9e3(0xb1f)],_0xf8acb7;}get['bitrate'](){const _0xe93700=_0x2aff22;return this[_0xe93700(0x31e)]+this['receiverBitrate'];}[_0x2aff22(0x465)](_0x20517e,_0xe69097){const _0x2ba7f9=_0x2aff22,_0x45c792=[],_0x28ab9a=[];return _0x20517e instanceof Array?_0x20517e[_0x2ba7f9(0x663)](_0x43da8f=>{_0x43da8f['forEach'](_0x53fa59=>{const _0x542b38=a0_0x314b;_0x1ae62d['includes'](_0x53fa59[_0x542b38(0x751)])&&_0x45c792[_0x542b38(0x639)](_0x53fa59),_0x2f5a0b[_0x542b38(0x9bf)](_0x53fa59[_0x542b38(0x751)])&&_0x28ab9a[_0x542b38(0x639)](_0x53fa59);});}):this['dataChannel'][_0x2ba7f9(0x2e1)](_0x20517e),_0x45c792[_0x2ba7f9(0x482)]>0x0&&_0xe69097?{...this[_0x2ba7f9(0x7ec)](_0xe69097,_0x45c792),'origin':_0x5898c5['Receiver'],'streamId':_0xe69097}:_0x28ab9a['length']>0x0&&_0xe69097?{...this['processOutboundReports'](_0xe69097,_0x28ab9a),'origin':_0x5898c5[_0x2ba7f9(0x867)],'streamId':_0xe69097}:void 0x0;}[_0x2aff22(0x7fa)](){const _0x38ef7c=_0x2aff22,_0x7d3ba={};this[_0x38ef7c(0xa7e)][_0x38ef7c(0x663)]((_0x1c7d4a,_0x4724d2)=>{const _0x44d5f5=_0x38ef7c;_0x7d3ba[_0x4724d2]=_0x1c7d4a[_0x44d5f5(0x7fa)]();});const _0x3ce542={};return this[_0x38ef7c(0x914)][_0x38ef7c(0x663)]((_0x5b1f58,_0x5f52ca)=>{const _0xf1ba4b=_0x38ef7c;_0x3ce542[_0x5f52ca]=_0x5b1f58[_0xf1ba4b(0x7fa)]();}),{'bitrate':this[_0x38ef7c(0x77e)],'senderBitrate':this[_0x38ef7c(0x31e)],'receiverBitrate':this[_0x38ef7c(0xb1f)],'senderStreams':_0x7d3ba,'receiverStreams':_0x3ce542,'dataChannel':this[_0x38ef7c(0x89e)][_0x38ef7c(0x7fa)]()};}[_0x2aff22(0x7ec)](_0x1cc2f1,_0x2a399e){const _0x7c2527=_0x2aff22;return this['receiverStreams'][_0x7c2527(0x938)](_0x1cc2f1)||this[_0x7c2527(0x914)][_0x7c2527(0x25c)](_0x1cc2f1,new _0x11fb1c()),this['receiverStreams']['get'](_0x1cc2f1)['processReports'](_0x2a399e);}['processOutboundReports'](_0x2c66d8,_0x3f5ae7){const _0x4b80ac=_0x2aff22;return this['senderStreams'][_0x4b80ac(0x938)](_0x2c66d8)||this[_0x4b80ac(0xa7e)][_0x4b80ac(0x25c)](_0x2c66d8,new _0x11fb1c()),this['senderStreams'][_0x4b80ac(0x9de)](_0x2c66d8)[_0x4b80ac(0x465)](_0x3f5ae7);}}class _0x36fee5{[_0x2aff22(0x534)]=new Map();[_0x2aff22(0x477)]=0x0;[_0x2aff22(0x412)]=0x0;[_0x2aff22(0x371)]=new Map();[_0x2aff22(0x23b)]=new Map();[_0x2aff22(0xa2d)]=new Map();[_0x2aff22(0xbef)]=new Map();[_0x2aff22(0x905)]=new Map();[_0x2aff22(0xa0c)]=new Map();[_0x2aff22(0x3b0)]=new Map();[_0x2aff22(0x22d)]=new Map();[_0x2aff22(0x975)]=new Map();[_0x2aff22(0x524)]=new Map();['senderTimeProcessing']=new Map();[_0x2aff22(0x3ff)]=new Map();[_0x2aff22(0x3a7)]=new Map();['systemTopic'];['getReport'](){const _0x1c0e6a=_0x2aff22,_0x4b6c51={};this[_0x1c0e6a(0x534)][_0x1c0e6a(0x663)]((_0x252ab5,_0x4afa39)=>{const _0x40112a=_0x1c0e6a;_0x4b6c51[_0x4afa39]=_0x252ab5[_0x40112a(0x7fa)]();});let _0x4ea3e5=0x0;this[_0x1c0e6a(0x1e6)][_0x1c0e6a(0x663)](_0x3aa2d4=>{_0x4ea3e5+=_0x3aa2d4;});let _0x1518a8=0x0;this[_0x1c0e6a(0x3ff)][_0x1c0e6a(0x663)](_0x23bd80=>{_0x1518a8+=_0x23bd80;});const _0x46b855=_0x4ea3e5+_0x1518a8;let _0x38e422={'messages':{'total':0x0}};this[_0x1c0e6a(0x3a7)][_0x1c0e6a(0x663)](_0x744292=>{const _0x49322b=_0x1c0e6a;Object[_0x49322b(0x780)](_0x744292)[_0x49322b(0x663)](_0x9215ab=>{const _0xda7b5b=_0x49322b;_0x38e422[_0x9215ab]||(_0x38e422[_0x9215ab]={}),Object[_0xda7b5b(0x780)](_0x744292[_0x9215ab])[_0xda7b5b(0x663)](_0x122e3e=>{_0x38e422[_0x9215ab][_0x122e3e]||(_0x38e422[_0x9215ab][_0x122e3e]=0x0),_0x38e422[_0x9215ab][_0x122e3e]+=_0x744292[_0x9215ab][_0x122e3e];});});});let _0x59db71=0x0,_0xf9b420=0x0,_0x44fae6=0x0,_0x587a82=0x0,_0x33dbdc=0x0;return this[_0x1c0e6a(0x371)][_0x1c0e6a(0x663)](_0x4c03f0=>{const _0x246dce=_0x1c0e6a;_0xf9b420+=_0x4c03f0[_0x246dce(0x688)],_0x44fae6+=_0x4c03f0['messagesReceived'],_0x587a82+=_0x4c03f0['bytesSent'],_0x33dbdc+=_0x4c03f0['bytesReceived'];}),this[_0x1c0e6a(0x23b)][_0x1c0e6a(0x663)](_0x326d10=>{const _0x493d1e=_0x1c0e6a;_0x59db71+=_0x326d10[_0x493d1e(0x875)],_0xf9b420+=_0x326d10[_0x493d1e(0x688)],_0x44fae6+=_0x326d10['messagesReceived'],_0x587a82+=_0x326d10[_0x493d1e(0x439)],_0x33dbdc+=_0x326d10['bytesReceived'];}),this[_0x1c0e6a(0xa2d)][_0x1c0e6a(0x663)](_0xd57637=>{const _0x173f3c=_0x1c0e6a;_0x59db71+=_0xd57637[_0x173f3c(0x875)],_0xf9b420+=_0xd57637[_0x173f3c(0x688)],_0x44fae6+=_0xd57637[_0x173f3c(0x32c)],_0x587a82+=_0xd57637[_0x173f3c(0x439)],_0x33dbdc+=_0xd57637['bytesReceived'];}),this[_0x1c0e6a(0xbef)][_0x1c0e6a(0x663)](_0x480f73=>{const _0x31443f=_0x1c0e6a;_0x59db71+=_0x480f73[_0x31443f(0x875)],_0xf9b420+=_0x480f73[_0x31443f(0x688)],_0x44fae6+=_0x480f73['messagesReceived'],_0x587a82+=_0x480f73[_0x31443f(0x439)],_0x33dbdc+=_0x480f73[_0x31443f(0x664)];}),this[_0x1c0e6a(0x905)][_0x1c0e6a(0x663)](_0x4fe05c=>{const _0x879106=_0x1c0e6a;_0x59db71+=_0x4fe05c[_0x879106(0x875)],_0xf9b420+=_0x4fe05c[_0x879106(0x688)],_0x44fae6+=_0x4fe05c[_0x879106(0x32c)],_0x587a82+=_0x4fe05c[_0x879106(0x439)],_0x33dbdc+=_0x4fe05c['bytesReceived'];}),this[_0x1c0e6a(0xa0c)][_0x1c0e6a(0x663)](_0x35debc=>{const _0x13e89d=_0x1c0e6a;_0x59db71+=_0x35debc[_0x13e89d(0x875)],_0xf9b420+=_0x35debc['messagesSent'],_0x44fae6+=_0x35debc[_0x13e89d(0x32c)],_0x587a82+=_0x35debc['bytesSent'],_0x33dbdc+=_0x35debc[_0x13e89d(0x664)];}),this[_0x1c0e6a(0x3b0)][_0x1c0e6a(0x663)](_0x913448=>{const _0x4d93cf=_0x1c0e6a;_0x59db71+=_0x913448['storage'],_0xf9b420+=_0x913448[_0x4d93cf(0x688)],_0x44fae6+=_0x913448[_0x4d93cf(0x32c)],_0x587a82+=_0x913448[_0x4d93cf(0x439)],_0x33dbdc+=_0x913448[_0x4d93cf(0x664)];}),{'STVolatility':this[_0x1c0e6a(0x34e)](),'DTVolatility':this[_0x1c0e6a(0x9d6)](),'bitrate':this[_0x1c0e6a(0x254)](),'senderBitrate':this[_0x1c0e6a(0x5e4)](),'receiverBitrate':this[_0x1c0e6a(0x7c2)](),'totalStorageSize':_0x59db71,'totalMessages':_0xf9b420+_0x44fae6,'totalMessagesSent':_0xf9b420,'totalMessagesReceived':_0x44fae6,'totalBytes':_0x587a82+_0x33dbdc,'totalBytesSent':_0x587a82,'totalBytesReceived':_0x33dbdc,'systemMessages':_0x38e422,'timeProcessing':_0x46b855,'nodes':_0x4b6c51,'pubsubTopics':Object[_0x1c0e6a(0x922)](this[_0x1c0e6a(0x371)]),'objectStores':Object['fromEntries'](this[_0x1c0e6a(0x23b)]),'keyValueDatabases':Object[_0x1c0e6a(0x922)](this[_0x1c0e6a(0xa2d)]),'generativeAIContexts':Object[_0x1c0e6a(0x922)](this[_0x1c0e6a(0xbef)]),'generativeAIWorkers':Object[_0x1c0e6a(0x922)](this[_0x1c0e6a(0x905)]),'vectorDatabases':Object[_0x1c0e6a(0x922)](this[_0x1c0e6a(0xa0c)]),'graphDatabases':Object[_0x1c0e6a(0x922)](this['graphDatabases']),'externalStorages':Object['fromEntries'](this[_0x1c0e6a(0x22d)])};}[_0x2aff22(0xba8)](_0x2f2324){const _0x5ee03d=_0x2aff22;this['nodes'][_0x5ee03d(0x25c)](_0x2f2324,new _0x1c8ef8());}[_0x2aff22(0xaa3)](_0x288cb7){const _0x311460=_0x2aff22;this[_0x311460(0x534)][_0x311460(0xa6b)](_0x288cb7);}[_0x2aff22(0x465)](_0x1484fb,_0x4d8e60,_0x53a9fb){const _0x869649=_0x2aff22;_0x4d8e60 instanceof Array||this['processDataChannelReport'](_0x1484fb,_0x4d8e60);const _0xf2d381=this[_0x869649(0x534)][_0x869649(0x9de)](_0x1484fb)?.[_0x869649(0x465)](_0x4d8e60,_0x53a9fb);_0xf2d381&&this[_0x869649(0x7ef)]['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x869649(0x1d7)],'content':{'type':_0x51995d[_0x869649(0x549)],'data':{..._0xf2d381,'nodeId':_0x1484fb}}});}['processLocalReport'](_0xfba2e1){const _0x587d2b=_0x2aff22;this['setScheduleTime'](_0xfba2e1[_0x587d2b(0xb0b)]),this[_0x587d2b(0x3fd)](_0xfba2e1[_0x587d2b(0x412)]),this[_0x587d2b(0x7ef)]['publish']({'sourceId':_0x21a1e9,'messageType':_0x3048e8[_0x587d2b(0x1d7)],'content':{'type':_0x51995d[_0x587d2b(0x983)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x587d2b(0x9d6)]()}}});}[_0x2aff22(0x620)](_0xedbbed,_0xd04065,_0x142b3f){const _0x2bc8c7=_0x2aff22;switch(_0xd04065){case _0x4f0180[_0x2bc8c7(0x350)]:this[_0x2bc8c7(0x371)][_0x2bc8c7(0x25c)](_0xedbbed,_0x142b3f);break;case _0x4f0180[_0x2bc8c7(0xb4c)]:this['objectStores'][_0x2bc8c7(0x25c)](_0xedbbed,_0x142b3f);break;case _0x4f0180[_0x2bc8c7(0x2fb)]:this[_0x2bc8c7(0xa2d)]['set'](_0xedbbed,_0x142b3f);break;case _0x4f0180[_0x2bc8c7(0x202)]:this[_0x2bc8c7(0xbef)]['set'](_0xedbbed,_0x142b3f);break;case _0x4f0180[_0x2bc8c7(0x8f6)]:this[_0x2bc8c7(0x905)][_0x2bc8c7(0x25c)](_0xedbbed,_0x142b3f);break;case _0x4f0180[_0x2bc8c7(0x2ee)]:this[_0x2bc8c7(0xa0c)]['set'](_0xedbbed,_0x142b3f);break;case _0x4f0180[_0x2bc8c7(0x980)]:this[_0x2bc8c7(0x3b0)][_0x2bc8c7(0x25c)](_0xedbbed,_0x142b3f);break;case _0x4f0180['ExternalStorageStats']:this['externalStorages'][_0x2bc8c7(0x25c)](_0xedbbed,_0x142b3f);}}['registerSystemPublisher'](_0x850620){const _0x7df352=_0x2aff22;this[_0x7df352(0x7ef)]=_0x850620;}['unregisterSystemPublisher'](){const _0x49f66b=_0x2aff22;delete this[_0x49f66b(0x7ef)];}[_0x2aff22(0x34e)](){const _0x4a375f=_0x2aff22;return this[_0x4a375f(0x477)]>0x0&&this[_0x4a375f(0x477)]-_0x9a4592>0x0?(this[_0x4a375f(0x477)]-_0x9a4592)/_0x9a4592:0x0;}[_0x2aff22(0x9d6)](){const _0x23f4df=_0x2aff22;return this[_0x23f4df(0x412)]>0x0&&this[_0x23f4df(0x412)]-0x64>0x0?(this[_0x23f4df(0x412)]-0x64)/0x64:0x0;}[_0x2aff22(0x5e4)](){const _0x44eac1=_0x2aff22;let _0x787152=0x0;return this[_0x44eac1(0x534)][_0x44eac1(0x663)](_0x2369dc=>{const _0x2400a4=_0x44eac1;_0x787152+=_0x2369dc[_0x2400a4(0x31e)];}),_0x787152;}[_0x2aff22(0x7c2)](){const _0x2a5f6b=_0x2aff22;let _0x70eb3a=0x0;return this[_0x2a5f6b(0x534)][_0x2a5f6b(0x663)](_0x4d6c3c=>{const _0x204d39=_0x2a5f6b;_0x70eb3a+=_0x4d6c3c[_0x204d39(0xb1f)];}),_0x70eb3a;}[_0x2aff22(0x254)](){const _0x454cf6=_0x2aff22;let _0x27fdce=0x0;return this[_0x454cf6(0x534)][_0x454cf6(0x663)](_0x31206a=>{const _0xc279f9=_0x454cf6;_0x27fdce+=_0x31206a[_0xc279f9(0x77e)];}),_0x27fdce;}[_0x2aff22(0x1fc)](_0x597964){const _0x8ee9b7=_0x2aff22;this[_0x8ee9b7(0x477)]=_0x597964;}['setDurationTime'](_0x301958){const _0x4e66a4=_0x2aff22;this[_0x4e66a4(0x412)]=_0x301958;}[_0x2aff22(0x4aa)](_0x557a4f,_0x53b4c1){const _0x21b84b=_0x2aff22;switch(_0x53b4c1[_0x21b84b(0x635)]){case _0x5898c5['Sender']:this[_0x21b84b(0x7b0)](_0x557a4f,_0x53b4c1);break;case _0x5898c5[_0x21b84b(0xbe5)]:this['processReceiverReport'](_0x557a4f,_0x53b4c1);}}[_0x2aff22(0x7b0)](_0x454d02,_0x3ed864){const _0x29b075=_0x2aff22;this['senderTotalMessages']['set'](_0x454d02,_0x3ed864[_0x29b075(0x688)]),this[_0x29b075(0x1e6)][_0x29b075(0x25c)](_0x454d02,_0x3ed864['timeSending']);}[_0x2aff22(0x1ea)](_0x1a0233,_0x1b9fec){const _0x4373dc=_0x2aff22;this['receiverTotalMessages'][_0x4373dc(0x25c)](_0x1a0233,_0x1b9fec[_0x4373dc(0x32c)]),this[_0x4373dc(0x3ff)]['set'](_0x1a0233,_0x1b9fec[_0x4373dc(0x494)]),this['systemMessages'][_0x4373dc(0x25c)](_0x1a0233,_0x1b9fec[_0x4373dc(0x3a7)]);}}class _0xb4efed{[_0x2aff22(0x6cb)];['remoteNodes']=new Set();[_0x2aff22(0x2ad)];[_0x2aff22(0xa4b)];['statsReporting'];['statsReport']=new _0x36fee5();constructor(_0xc4bc8){const _0x205681=_0x2aff22;this['configs']=_0xc4bc8,this[_0x205681(0x6cb)][_0x205681(0x55b)]['registerSystemSource'](this['statsReport']),this['statsCollection']=this[_0x205681(0x31a)](),this[_0x205681(0x6f0)]=this['setupStatsReporting']();}[_0x2aff22(0x566)](){const _0x3a73b0=_0x2aff22;this[_0x3a73b0(0x6cb)][_0x3a73b0(0x55b)][_0x3a73b0(0x633)](this[_0x3a73b0(0xbde)]),this['statsReporting'](),this[_0x3a73b0(0xa4b)]();}[_0x2aff22(0xba8)](_0x1f752a){const _0x430679=_0x2aff22;this[_0x430679(0x224)]['add'](_0x1f752a),this[_0x430679(0xbde)][_0x430679(0xba8)](_0x1f752a);}[_0x2aff22(0xaa3)](_0x473b30){const _0x2bff13=_0x2aff22;this[_0x2bff13(0x224)][_0x2bff13(0xa6b)](_0x473b30),this[_0x2bff13(0xbde)][_0x2bff13(0xaa3)](_0x473b30);}[_0x2aff22(0x575)](_0x2a8156){const _0x361f0b=_0x2aff22;if(_0x2a8156[_0x361f0b(0xb25)][_0x361f0b(0x751)]===_0x1ad51b['Stats']){const {nodeId:_0x15b988,streamId:_0x1343af,stats:_0x4e90d1}=_0x2a8156[_0x361f0b(0xb25)];this[_0x361f0b(0xbde)][_0x361f0b(0x465)](_0x15b988,_0x4e90d1,_0x1343af);}}[_0x2aff22(0x2a5)](_0xcbdb42){const _0x4d199c=_0x2aff22;switch(_0xcbdb42[_0x4d199c(0xb25)]['type']){case _0x4f0180['ObjectStoreStats']:case _0x4f0180[_0x4d199c(0x2fb)]:case _0x4f0180[_0x4d199c(0x350)]:case _0x4f0180[_0x4d199c(0x202)]:case _0x4f0180[_0x4d199c(0x8f6)]:case _0x4f0180[_0x4d199c(0x2ee)]:case _0x4f0180['GraphDatabaseStats']:case _0x4f0180[_0x4d199c(0x75a)]:this['statsReport']['processServiceReport'](_0xcbdb42[_0x4d199c(0xb25)][_0x4d199c(0x4ea)],_0xcbdb42['content'][_0x4d199c(0x751)],_0xcbdb42[_0x4d199c(0xb25)][_0x4d199c(0x3f8)]);}}[_0x2aff22(0x417)](){const _0x5df4d1=_0x2aff22;return _0x33cd0c[_0x5df4d1(0xb09)](()=>{const _0x110de8=_0x5df4d1,_0x48eea4=this[_0x110de8(0xbde)][_0x110de8(0x7fa)]();_0x11d8aa[_0x110de8(0x6ea)](_0x23f9d6[_0x110de8(0x1d7)],_0x110de8(0xae5),_0x48eea4),(0x0,_0x181a71[_0x110de8(0x35a)])((0x0,_0x181a71[_0x110de8(0xbcf)])(_0x4d81d6['getFirestore'](),'developers/'+this[_0x110de8(0x6cb)][_0x110de8(0x97c)]+'/stats'),{'clusterId':this[_0x110de8(0x6cb)][_0x110de8(0x3d0)],'nodeId':this[_0x110de8(0x6cb)][_0x110de8(0x20e)][_0x110de8(0x781)](),'nodeType':this[_0x110de8(0x6cb)][_0x110de8(0x20e)][_0x110de8(0x751)],'timestamp':(0x0,_0x181a71[_0x110de8(0x7a9)])(),'report':_0x48eea4}),_0x11d8aa[_0x110de8(0x343)](_0x110de8(0x3f8),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x110de8(0x6cb)]['localNode'][_0x110de8(0x781)](),'nodeType':this[_0x110de8(0x6cb)]['localNode'][_0x110de8(0x751)],'data':{'report':_0x48eea4}});},_0x33c791);}['setupStatsCollection'](){const _0x17119b=_0x2aff22;let _0x1b54ec=!0x1,_0x50a0a0=Date[_0x17119b(0x75c)]();return _0x33cd0c[_0x17119b(0xb09)](async()=>{const _0x149ee5=_0x17119b;if(_0x1b54ec)return;if(_0x1b54ec=!0x0,0x0===this[_0x149ee5(0x224)]['size'])return delete this[_0x149ee5(0x2ad)],void(_0x1b54ec=!0x1);const _0x130a11=Date[_0x149ee5(0x75c)]();this[_0x149ee5(0xb79)]();try{await this[_0x149ee5(0x6cb)]['mediator'][_0x149ee5(0x722)](this[_0x149ee5(0x2ad)]);}catch(_0x51346b){}this['statsReport'][_0x149ee5(0xbb7)]({'secheduleTime':_0x130a11-_0x50a0a0,'durationTime':Date[_0x149ee5(0x75c)]()-_0x130a11}),_0x50a0a0=_0x130a11,_0x1b54ec=!0x1;},_0x9a4592);}[_0x2aff22(0xb79)](){const _0x21e074=_0x2aff22;let _0x1184eb,_0x293228=!0x1;this[_0x21e074(0x2ad)]&&(this[_0x21e074(0x224)]['has'](this[_0x21e074(0x2ad)])||delete this[_0x21e074(0x2ad)]);for(const _0x471133 of this[_0x21e074(0x224)])if(_0x1184eb||(_0x1184eb=_0x471133),this[_0x21e074(0x2ad)]!==_0x471133){if(_0x293228)return void(this[_0x21e074(0x2ad)]=_0x471133);}else _0x293228=!0x0,delete this[_0x21e074(0x2ad)];this[_0x21e074(0x2ad)]||(this['nextNodeId']=_0x1184eb);}}class _0x4cc862{[_0x2aff22(0x761)];[_0x2aff22(0x274)];[_0x2aff22(0x7ef)];constructor(_0x1f7b57,_0x82f03c){const _0x2779f9=_0x2aff22;this[_0x2779f9(0x761)]=_0x1f7b57,this[_0x2779f9(0x274)]=_0x82f03c;}[_0x2aff22(0x390)](_0x4c4395){const _0x2b85a2=_0x2aff22;this[_0x2b85a2(0x7ef)]=_0x4c4395;}[_0x2aff22(0x36a)](){const _0xd63ee7=_0x2aff22;delete this[_0xd63ee7(0x7ef)];}}class _0x590c5e extends _0x4cc862{['source'];[_0x2aff22(0x274)];[_0x2aff22(0xb37)];constructor(_0x4764a6,_0x5b5a33,_0x2f8800){const _0x451538=_0x2aff22;super(_0x4764a6,_0x5b5a33),this[_0x451538(0x761)]=_0x4764a6,this['destination']=_0x5b5a33,this[_0x451538(0xb37)]=_0x2f8800;}[_0x2aff22(0x4c8)](_0x5b87ed,_0x462dff,_0x593b4e){const _0x3fae5b=_0x2aff22;if(this['destination']['getContentType']()===_0x182c91[_0x3fae5b(0x1c0)]['Media']){const _0x46ada4={'type':_0x308139[_0x3fae5b(0x918)],'label':this['destination']['getLabel'](),'ownerId':_0x5b87ed,'trackKinds':_0x462dff??this[_0x3fae5b(0x274)][_0x3fae5b(0x638)](),'params':_0x593b4e};this['systemTopic'][_0x3fae5b(0x9cd)]({'sourceId':this[_0x3fae5b(0x761)]['getLocalId'](),'destinationIds':[this[_0x3fae5b(0x761)][_0x3fae5b(0x47a)]()],'messageType':_0x3048e8[_0x3fae5b(0x5ce)],'content':_0x46ada4}),this[_0x3fae5b(0xb37)]=_0x593b4e;}}[_0x2aff22(0x9da)](_0x1130c9,_0x2b9cf8){const _0x60aac8=_0x2aff22;if(this[_0x60aac8(0x274)][_0x60aac8(0x708)]()===_0x182c91[_0x60aac8(0x1c0)][_0x60aac8(0x3e7)]){const _0x29313e={'type':_0x308139[_0x60aac8(0x8c5)],'label':this[_0x60aac8(0x274)]['getLabel'](),'ownerId':_0x1130c9,'params':_0x2b9cf8};this[_0x60aac8(0x7ef)][_0x60aac8(0x9cd)]({'sourceId':this[_0x60aac8(0x761)][_0x60aac8(0x5ee)](),'destinationIds':[this[_0x60aac8(0x761)][_0x60aac8(0x47a)]()],'messageType':_0x3048e8[_0x60aac8(0x5ce)],'content':_0x29313e}),this['params']=_0x2b9cf8;}}[_0x2aff22(0x815)](_0x58c4b9,_0xd54d89,_0x150113){const _0x12e895=_0x2aff22;if(this['destination'][_0x12e895(0x708)]()===_0x182c91[_0x12e895(0x1c0)][_0x12e895(0x3e7)]){const _0x50759a={'type':_0x308139[_0x12e895(0xa58)],'label':this[_0x12e895(0x274)]['getLabel'](),'ownerId':_0x58c4b9,'trackKinds':_0x150113??this[_0x12e895(0x274)][_0x12e895(0x638)](),'remainingTracks':_0xd54d89};this[_0x12e895(0x7ef)]['publish']({'sourceId':this[_0x12e895(0x761)][_0x12e895(0x5ee)](),'destinationIds':[this[_0x12e895(0x761)]['getRemoteId']()],'messageType':_0x3048e8[_0x12e895(0x5ce)],'content':_0x50759a});}}}class _0x334bc8{[_0x2aff22(0xa45)];['maxDistance'];['tracks'];[_0x2aff22(0x7ef)];[_0x2aff22(0x272)]=new Set();[_0x2aff22(0x9ee)]=Date[_0x2aff22(0x75c)]();['params'];[_0x2aff22(0x7a4)]=0x0;constructor(_0x2559af,_0x7b1a26,_0x5e5915,_0x12e251){const _0x25bee8=_0x2aff22;this['currentDistance']=_0x7b1a26,this[_0x25bee8(0xa8d)]=_0x5e5915,this[_0x25bee8(0xb9d)]=_0x12e251,_0x2559af['forEach'](_0x2c249b=>{const _0xcaf4a0=_0x25bee8;this['answers'][_0xcaf4a0(0x62d)]({'nodeId':_0x2c249b,'type':_0x20aecb['Waiting']});});}[_0x2aff22(0xb0a)](){const _0x5d40c1=_0x2aff22;return this[_0x5d40c1(0xb9d)];}[_0x2aff22(0x390)](_0x156908){this['systemTopic']=_0x156908;}['unregisterSystemPublisher'](){const _0x13ccc5=_0x2aff22;delete this[_0x13ccc5(0x7ef)];}[_0x2aff22(0x8a2)](_0x39048d,_0x414a75){const _0x4ac0c6=_0x2aff22;this[_0x4ac0c6(0x9ee)]=Date['now'](),this[_0x4ac0c6(0x272)][_0x4ac0c6(0x56c)](),_0x39048d['forEach'](_0x4a577e=>{const _0x104747=_0x4ac0c6;this[_0x104747(0x272)][_0x104747(0x62d)]({'nodeId':_0x4a577e,'type':_0x20aecb[_0x104747(0x97e)]});}),this['retryCount']+=0x1,this[_0x4ac0c6(0xa45)]=_0x414a75;}[_0x2aff22(0x2db)](_0x51403e,_0x2836f6,_0x219083,_0x142f8a,_0x3c706d){const _0x4a063e=_0x2aff22;if(this[_0x4a063e(0x7a4)]>0xa)throw new _0x1a8c20(_0x1a8c20[_0x4a063e(0x92d)][_0x4a063e(0xb1c)],{'answers':Array[_0x4a063e(0x306)](this[_0x4a063e(0x272)])['map'](_0x40a86b=>({'nodeId':_0x40a86b[_0x4a063e(0x4ed)],'type':_0x40a86b[_0x4a063e(0x751)]}))});const _0x2eb242=Array[_0x4a063e(0x306)](this[_0x4a063e(0x272)])[_0x4a063e(0x8df)](_0x4dace5=>_0x4dace5[_0x4a063e(0x4ed)]);this[_0x4a063e(0xb37)]=_0x3c706d,this[_0x4a063e(0x7ef)][_0x4a063e(0x9cd)]({'sourceId':_0x51403e,'destinationIds':_0x2eb242,'messageType':_0x3048e8[_0x4a063e(0x5ce)],'content':{'type':_0x308139[_0x4a063e(0x203)],'label':_0x219083,'ownerId':_0x2836f6,'trackKinds':_0x142f8a,'params':_0x3c706d}}),_0x11d8aa[_0x4a063e(0x6ea)](_0x23f9d6['Subscription'],_0x4a063e(0x9bc),_0x51403e,_0x2eb242);}['handleSubscriptionSystemEvents'](_0x2bff58,_0x3885c7){const _0x190c50=_0x2aff22;switch(_0x3885c7[_0x190c50(0x751)]){case _0x308139[_0x190c50(0x799)]:{const _0x2cc9da=this[_0x190c50(0xa45)]>=_0x3885c7[_0x190c50(0x2c8)]&&_0x3885c7['distance']<=this[_0x190c50(0xa8d)],_0x3f7234=Array[_0x190c50(0x306)](this[_0x190c50(0x272)])['find'](_0x33ffd2=>_0x33ffd2['nodeId']===_0x2bff58);_0x3f7234[_0x190c50(0x751)]=_0x2cc9da?_0x20aecb[_0x190c50(0x414)]:_0x20aecb[_0x190c50(0x376)],_0x3f7234['cost']=_0x3885c7['cost'],_0x3f7234[_0x190c50(0x2c8)]=_0x3885c7[_0x190c50(0x2c8)],_0x3f7234[_0x190c50(0x1dd)]=_0x3885c7[_0x190c50(0x1dd)],_0x3f7234[_0x190c50(0x333)]=Date[_0x190c50(0x75c)]()-this['startTime'],_0x3f7234['params']=this['params'],_0x3f7234[_0x190c50(0x96d)]=_0x3885c7[_0x190c50(0x96d)],_0x3f7234['trackKinds']=_0x3885c7[_0x190c50(0x864)],_0x3f7234[_0x190c50(0x5cf)]=_0x3885c7[_0x190c50(0x4ea)],_0x11d8aa['log'](_0x23f9d6['Subscription'],(_0x2cc9da?_0x190c50(0x414):_0x190c50(0x376))+_0x190c50(0x726),_0x3f7234);break;}case _0x308139[_0x190c50(0x45e)]:{const _0x3e2657=Array[_0x190c50(0x306)](this[_0x190c50(0x272)])['find'](_0x2ba33f=>_0x2ba33f[_0x190c50(0x4ed)]===_0x2bff58);_0x3e2657['type']=_0x20aecb[_0x190c50(0x376)],_0x11d8aa[_0x190c50(0x6ea)](_0x23f9d6[_0x190c50(0x5ce)],_0x190c50(0x560),_0x3e2657);break;}}if(this[_0x190c50(0xaf5)]())return this['chooseAnswer']();}[_0x2aff22(0x4d7)](){const _0x275963=_0x2aff22,_0xdc761b=Array[_0x275963(0x306)](this[_0x275963(0x272)])[_0x275963(0xae8)](_0x179907=>_0x179907[_0x275963(0x751)]===_0x20aecb[_0x275963(0x414)])['sort']((_0x856fae,_0x4fe79f)=>_0x856fae[_0x275963(0x7b6)]===_0x4fe79f['cost']?_0x856fae[_0x275963(0x333)]-_0x4fe79f[_0x275963(0x333)]:_0x856fae['cost']-_0x4fe79f['cost']);if(0x0===_0xdc761b[_0x275963(0x482)])throw new _0x1a8c20(_0x1a8c20[_0x275963(0x92d)][_0x275963(0xb1c)],{'answers':Array[_0x275963(0x306)](this[_0x275963(0x272)])[_0x275963(0x8df)](_0x1add82=>({'nodeId':_0x1add82[_0x275963(0x4ed)],'type':_0x1add82[_0x275963(0x751)]}))});return _0x11d8aa[_0x275963(0x6ea)](_0x23f9d6[_0x275963(0x5ce)],_0x275963(0xbbb),_0xdc761b[0x0],this['answers']),_0xdc761b[0x0];}[_0x2aff22(0xaf5)](){const _0x1ff8ca=_0x2aff22;for(const _0x42bbcc of this['answers'])if(_0x42bbcc[_0x1ff8ca(0x751)]===_0x20aecb['Waiting'])return!0x1;return!0x0;}}class _0x578b25{[_0x2aff22(0x4ea)];['contentType'];[_0x2aff22(0xb5f)]=_0x29c93b();constructor(_0x49f342,_0xe70850){const _0x4a150c=_0x2aff22;this[_0x4a150c(0x4ea)]=_0x49f342,this['contentType']=_0xe70850;}[_0x2aff22(0x2e7)](){const _0x378746=_0x2aff22;return this[_0x378746(0x4ea)];}[_0x2aff22(0x708)](){const _0x206c2b=_0x2aff22;return this[_0x206c2b(0x1b8)];}['registerSource'](_0x36b4ed){const _0x56b961=_0x2aff22;_0x36b4ed[_0x56b961(0x480)](this);}[_0x2aff22(0x2c5)](_0x2fe7ae){_0x2fe7ae['registerSubscriber'](this);}[_0x2aff22(0x9cd)](_0x77ecb){const _0x62338f=_0x2aff22;this['listener'][_0x62338f(0x9cd)]({'topicLabel':this[_0x62338f(0x4ea)],'contentType':this['contentType'],'uuid':(0x0,_0x360e63['v4'])(),'recipients':[],..._0x77ecb});}[_0x2aff22(0x4c8)](_0x37daa6){const _0x35c11a=_0x2aff22;return this[_0x35c11a(0xb5f)]['subscribe'](_0x37daa6);}[_0x2aff22(0x8f7)](_0xfba69b){const _0x275f8e=_0x2aff22;_0xfba69b[_0x275f8e(0x713)](this);}[_0x2aff22(0xb19)](_0x460053){_0x460053['unregisterSubscriber'](this);}}class _0x48ff8e{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x2aff22(0x457)];constructor(_0x39ef8e){const _0x47fbfe=_0x2aff22;this[_0x47fbfe(0x457)]=_0x39ef8e;}get[_0x2aff22(0x629)](){const _0x1d2c8b=_0x2aff22;return this[_0x1d2c8b(0x5a1)][_0x1d2c8b(0x629)];}get['topics'](){const _0x200a4d=_0x2aff22;return this[_0x200a4d(0x5a1)][_0x200a4d(0x8ab)];}[_0x2aff22(0x440)](_0x694925,_0x22a573){const _0x203c76=_0x2aff22,_0xaf29b8=this[_0x203c76(0x457)](_0x22a573),_0x15ce01=_0x1542e2(_0x694925);if(!_0xaf29b8[_0x203c76(0xb5b)])throw new _0x1a8c20(_0x1a8c20['codes'][_0x203c76(0x7f1)],{'message':_0x15ce01+':\x20'+_0xaf29b8[_0x203c76(0x3e4)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0xaf29b8[_0x203c76(0x1b8)],'subscriptionType':_0x694925,'subscription':_0x22a573,'subscriptonParts':_0xaf29b8});const _0x59e0d2=_0x45377e(_0x694925,_0xaf29b8);if(this['maps'][_0x203c76(0x629)][_0x203c76(0x938)](_0x59e0d2))throw new _0x1a8c20(_0x1a8c20[_0x203c76(0x92d)][_0x203c76(0x7f1)],{'message':_0x15ce01+':\x20'+_0x59e0d2+_0x203c76(0xa47),'subscriptionType':_0x694925,'subscription':_0x22a573,'subscriptonParts':_0xaf29b8});this['maps'][_0x203c76(0x629)][_0x203c76(0x25c)](_0x59e0d2,_0x22a573),this[_0x203c76(0x6d8)](_0xaf29b8,_0x22a573);}[_0x2aff22(0x930)](_0x2f0838,_0x1b530a){const _0x5c85e3=_0x2aff22,_0x103ecf=_0x45377e(_0x1b530a,_0x2f0838),_0x29505f=this['maps'][_0x5c85e3(0x629)][_0x5c85e3(0x9de)](_0x103ecf);if(!_0x29505f)throw new _0x1a8c20(_0x1a8c20[_0x5c85e3(0x92d)][_0x5c85e3(0x7f1)],{'message':_0x1542e2(_0x1b530a)+':\x20'+_0x103ecf+'\x20does\x20not\x20exists','subscriptionType':_0x1b530a,'subscription':_0x29505f,'subscriptonParts':_0x2f0838});this[_0x5c85e3(0x3fe)](_0x29505f,_0x103ecf,_0x2f0838);}['closeSubscription'](_0x2f7ad0,_0x169d90,_0x4a8a43){const _0x466a5f=_0x2aff22;_0x4a8a43=_0x4a8a43||this[_0x466a5f(0x457)](_0x2f7ad0),this[_0x466a5f(0x5a1)][_0x466a5f(0x629)][_0x466a5f(0xa6b)](_0x169d90),this['removeTopic'](_0x4a8a43,_0x2f7ad0);}['createTopic'](_0x52c698,{source:_0x128d43,destination:_0x3c6d7f}){const _0x2efa62=_0x2aff22,{contentType:_0x59c38a,label:_0xff7a69,remoteId:_0x3133c1}=_0x52c698,_0x5db967=_0x12d5fc(_0x59c38a,_0xff7a69,_0x3133c1),_0x39d4cd=new _0x578b25(_0x5db967,_0x59c38a);_0x39d4cd[_0x2efa62(0x3e9)](_0x128d43),_0x39d4cd[_0x2efa62(0x2c5)](_0x3c6d7f),this[_0x2efa62(0x5a1)][_0x2efa62(0x8ab)][_0x2efa62(0x25c)](_0x39d4cd['getLabel'](),_0x39d4cd);}[_0x2aff22(0x1b5)](_0x280a2b,_0xc71223){const _0x298f23=_0x2aff22,{contentType:_0x175318,label:_0x43a313,remoteId:_0x55d2cf}=_0x280a2b,_0x5884ba=_0x12d5fc(_0x175318,_0x43a313,_0x55d2cf),_0x2838f1=this['maps'][_0x298f23(0x8ab)][_0x298f23(0x9de)](_0x5884ba);_0x2838f1&&(this[_0x298f23(0x814)](_0x2838f1,_0xc71223),this[_0x298f23(0x5a1)][_0x298f23(0x8ab)][_0x298f23(0xa6b)](_0x5884ba));}[_0x2aff22(0x814)](_0x4cbe55,{source:_0x5d70bb,destination:_0x4f9140}){const _0x2044bc=_0x2aff22;_0x4cbe55['unregisterSource'](_0x5d70bb),_0x4cbe55[_0x2044bc(0xb19)](_0x4f9140);}[_0x2aff22(0x3f9)](_0x3aa27a){this['maps']['subscriptions']['forEach']((_0x317e1f,_0x164999)=>{const _0x4060a3=a0_0x314b;_0x164999[_0x4060a3(0x4be)](_0x3aa27a)&&this[_0x4060a3(0x3fe)](_0x317e1f,_0x164999);});}}class _0xffe657{[_0x2aff22(0x6cb)];['maxDistance'];[_0x2aff22(0x282)]=new Map();['subscriptionRequestsQueue']=_0x16fe02(new _0x1c0914(this[_0x2aff22(0x489)][_0x2aff22(0xa38)](this),()=>_0x33cd0c['wait'](0x64)),!0x0);[_0x2aff22(0x886)]=new Map();[_0x2aff22(0x5a1)];['chosenAnswers']=new Map();constructor(_0x438570,_0x10a810){const _0x238399=_0x2aff22;this[_0x238399(0x6cb)]=_0x438570,this['maxDistance']=_0x10a810,this['maps']=new _0x48ff8e(({source:_0xdd7a98,destination:_0x3f4981})=>_0x2dec31(_0x3f4981,_0xdd7a98));}['createSubscription'](_0x1e9339,_0x425d30){const _0x1f0dca=_0x2aff22,_0x4559f0=this['isMediaSource'](_0x1e9339)&&this['isMediaDestination'](_0x425d30)?new _0x590c5e(_0x1e9339,_0x425d30):new _0x4cc862(_0x1e9339,_0x425d30);this[_0x1f0dca(0x5a1)][_0x1f0dca(0x440)](_0x2d1fd6[_0x1f0dca(0x44c)],_0x4559f0),this[_0x1f0dca(0x6cb)][_0x1f0dca(0x55b)]['registerSystemSource'](_0x4559f0);}['removeSubscription'](_0x2e9413,_0x573301,_0x36220b=''){const _0x59d614=_0x2aff22,_0x142aad={'contentType':_0x573301,'label':_0x2e9413,'remoteId':_0x36220b},_0x4ad332=_0x45377e(_0x2d1fd6[_0x59d614(0x44c)],_0x142aad),_0x3c72c5=this['maps']['subscriptions'][_0x59d614(0x9de)](_0x4ad332);_0x3c72c5&&this[_0x59d614(0x3fe)](_0x3c72c5,_0x4ad332);}[_0x2aff22(0x288)](_0x38fb59){const _0x248291=_0x2aff22;this[_0x248291(0x96e)](_0x38fb59);}[_0x2aff22(0x806)]({label:_0x3b0820,ownerId:_0x5bd970,trackKinds:_0x5ef4b4,params:_0x22f3b0}){this['requestSubscription'](_0x3b0820,_0x5bd970,_0x5ef4b4,_0x22f3b0);}['handleContentUpdateMediaStream']({ownerId:_0x37925c,label:_0x3feda3,params:_0x2f7e61}){const _0x1acc87=_0x2aff22,{subscriptionLabel:_0x30334f}=this['getSubscriptionLabel'](_0x3feda3,_0x37925c),_0x7ec28e=this[_0x1acc87(0x7e9)](_0x30334f);_0x7ec28e&&_0x7ec28e[_0x1acc87(0x9da)](_0x37925c,_0x2f7e61);}[_0x2aff22(0x7b4)]({ownerId:_0x4996cb,label:_0x50e469,trackKinds:_0x55b1b6,remainingTracks:_0x615cf4}){const _0xcd9c29=_0x2aff22,_0x44273a=_0x45377e(_0x2d1fd6[_0xcd9c29(0x44c)],{'contentType':_0x182c91[_0xcd9c29(0x1c0)]['Media'],'label':_0x50e469,'remoteId':_0x4996cb});this[_0xcd9c29(0x5a2)](_0x44273a);const _0x4ba339=this['subscriptionRequests'][_0xcd9c29(0x9de)](_0x44273a);_0x4ba339&&(this[_0xcd9c29(0x6cb)][_0xcd9c29(0x55b)]['unregisterSystemSource'](_0x4ba339),this[_0xcd9c29(0x282)][_0xcd9c29(0xa6b)](_0x44273a));const {parts:_0x4bacdd,subscriptionLabel:_0x8127ff}=this[_0xcd9c29(0x569)](_0x50e469,_0x4996cb),_0x570c56=this[_0xcd9c29(0x7e9)](_0x8127ff);_0x570c56&&(_0x570c56['unsubscribe'](_0x4996cb,_0x615cf4,_0x55b1b6),0x0===_0x615cf4&&this[_0xcd9c29(0x930)](_0x4bacdd[_0xcd9c29(0x4ea)],_0x4bacdd['contentType'],_0x4bacdd[_0xcd9c29(0x3e4)]));}[_0x2aff22(0xa52)](_0x34e567,{label:_0x88039e,ownerId:_0x3f1645,trackKinds:_0x3d6fef,streamId:_0x49d369,params:_0xf184ec}){const _0x2a3bcd=_0x2aff22,_0x6e1148=_0x45377e(_0x2d1fd6['Incoming'],{'contentType':_0x182c91[_0x2a3bcd(0x1c0)][_0x2a3bcd(0x3e7)],'label':_0x49d369,'remoteId':_0x34e567}),_0x4732c8=this[_0x2a3bcd(0x5a1)][_0x2a3bcd(0x629)][_0x2a3bcd(0x9de)](_0x6e1148);if(!(_0x4732c8&&_0x4732c8 instanceof _0x590c5e))throw new _0x1a8c20(_0x1a8c20['codes'][_0x2a3bcd(0x47e)],{'label':_0x6e1148,'ownerId':_0x3f1645});this[_0x2a3bcd(0x3fe)](_0x4732c8,_0x6e1148),this['requestSubscription'](_0x88039e,_0x3f1645,_0x3d6fef,_0xf184ec);}['handleSubscriptionProvideMediaStream'](_0x583fda,_0x55535a){const _0x52dd2c=_0x2aff22,{label:_0x2be1de,ownerId:_0x4bcbba,trackKinds:_0xd56bd8,params:_0x3703c8}=_0x55535a,_0x1598db=_0x45377e(_0x2d1fd6[_0x52dd2c(0x44c)],{'contentType':_0x182c91['ContentType']['Media'],'label':_0x2be1de,'remoteId':_0x4bcbba});if(!this[_0x52dd2c(0x282)][_0x52dd2c(0x938)](_0x1598db))throw new _0x1a8c20(_0x1a8c20[_0x52dd2c(0x92d)]['SubscriptionRequestDoesNotExist'],{'label':_0x1598db,'ownerId':_0x4bcbba,'streamId':_0x55535a[_0x52dd2c(0x1dd)],'requests':this['subscriptionRequests']});const _0x4f89e6=this[_0x52dd2c(0x282)][_0x52dd2c(0x9de)](_0x1598db);if(_0xd56bd8[_0x52dd2c(0x482)]===_0x4f89e6[_0x52dd2c(0xb0a)]()['length']&&_0xd56bd8[_0x52dd2c(0x58d)](_0x5b42be=>_0x4f89e6[_0x52dd2c(0xb0a)]()[_0x52dd2c(0x9bf)](_0x5b42be)))try{const _0x5010d3=_0x4f89e6['handleSubscriptionSystemEvents'](_0x583fda,_0x55535a);if(!_0x5010d3)return;this['subscribe'](_0x5010d3,_0x4bcbba,_0x2be1de,_0x1598db,_0xd56bd8);}catch(_0x25e522){return void this[_0x52dd2c(0x750)](_0x2be1de,_0x4bcbba,_0xd56bd8,_0x3703c8);}}['handleSubscriptionMediaStreamUnavailable'](_0x190716,{label:_0x4a46e8,ownerId:_0x2975e0,trackKinds:_0x269c20}){const _0x30a65b=_0x2aff22,_0x1f1787=this[_0x30a65b(0x6cb)][_0x30a65b(0x55b)]['getRemoteMediaStream'](_0x2975e0,_0x4a46e8);if(!_0x1f1787)return;const _0x2b697d=_0x1f1787['getInternalStreamId'](),_0x2817bc=_0x1f1787[_0x30a65b(0x7f7)]();_0x2817bc[_0x30a65b(0x4f7)](_0x339e3c=>_0x269c20[_0x30a65b(0x9bf)](_0x339e3c))&&this['findNewMediaSubscription'](_0x190716,_0x4a46e8,_0x2b697d,_0x2975e0,_0x2817bc);}[_0x2aff22(0xbb4)]({label:_0x447387,providerId:_0x5cb4ad,ownerId:_0x11a3fc,streamId:_0x4e4567,trackKinds:_0x357cc3}){const _0x56d00d=_0x2aff22;this[_0x56d00d(0x355)](_0x5cb4ad,_0x447387,_0x4e4567,_0x11a3fc,_0x357cc3);}[_0x2aff22(0x831)](_0x5b897b){const _0x2654e4=_0x2aff22;for(const _0x184d94 of this[_0x2654e4(0x212)][_0x2654e4(0xa12)]()){const {streamLabel:_0x362a5b,ownerId:_0x152547,trackKinds:_0x19548d,params:_0x281a7a}=_0x184d94;if(!_0x152547||!_0x19548d||!_0x362a5b)return;this[_0x2654e4(0xae9)][_0x2654e4(0x639)]({'label':_0x362a5b,'ownerId':_0x152547,'trackKinds':_0x19548d,'params':_0x281a7a,'remoteId':_0x5b897b});}}[_0x2aff22(0x3f9)](_0x1a0932){const _0x5d3ab6=_0x2aff22;this[_0x5d3ab6(0x5a1)][_0x5d3ab6(0x629)][_0x5d3ab6(0x663)]((_0x5bac17,_0x5156f7)=>{const _0x10eeb0=_0x5d3ab6;if(_0x5156f7['endsWith'](_0x1a0932)){if(_0x5bac17[_0x10eeb0(0x274)][_0x10eeb0(0x708)]()===_0x182c91[_0x10eeb0(0x1c0)][_0x10eeb0(0x3e7)]){const _0x226526=_0x5bac17['destination'];if(_0x226526[_0x10eeb0(0x7f7)]()[_0x10eeb0(0x482)]>0x0){const _0xddeb24={'type':_0x308139[_0x10eeb0(0x394)],'label':_0x226526[_0x10eeb0(0x2e7)](),'ownerId':_0x226526['getOwnerId'](),'trackKinds':_0x226526[_0x10eeb0(0x7f7)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x1a0932,_0xddeb24);}}this[_0x10eeb0(0x3fe)](_0x5bac17,_0x5156f7);}});}[_0x2aff22(0x566)](){const _0x45e60d=_0x2aff22;this[_0x45e60d(0x5a1)][_0x45e60d(0x629)][_0x45e60d(0x663)](this['closeSubscription']['bind'](this));}[_0x2aff22(0x4c8)](_0x209765,_0x354e3e,_0x3ad6c5,_0x445127,_0x3c24ac){const _0x48aaa8=_0x2aff22,_0x445c83=this['configs'][_0x48aaa8(0x55b)][_0x48aaa8(0xbe8)](_0x209765[_0x48aaa8(0x4ed)]),_0x383879=this['configs'][_0x48aaa8(0x55b)][_0x48aaa8(0x1e1)](_0x354e3e,_0x3ad6c5);this[_0x48aaa8(0x5a2)](_0x445127),this['subscriptionRequests'][_0x48aaa8(0x938)](_0x445127)&&(this[_0x48aaa8(0x6cb)][_0x48aaa8(0x55b)][_0x48aaa8(0x633)](this[_0x48aaa8(0x282)][_0x48aaa8(0x9de)](_0x445127)),this[_0x48aaa8(0x282)]['delete'](_0x445127)),this[_0x48aaa8(0xba9)](_0x209765,_0x354e3e,_0x3ad6c5,_0x383879),_0x383879['setInternalId'](_0x209765['streamId']),_0x383879[_0x48aaa8(0x6e7)](_0x209765[_0x48aaa8(0x4ed)]);const _0x49596b=_0x2dec31(_0x383879,_0x445c83),_0x565a7d=_0x45377e(_0x2d1fd6[_0x48aaa8(0x44c)],_0x49596b);this[_0x48aaa8(0x5a1)]['subscriptions'][_0x48aaa8(0x938)](_0x565a7d)||this[_0x48aaa8(0x440)](_0x445c83,_0x383879);const _0x38b8b7=this['maps']['subscriptions'][_0x48aaa8(0x9de)](_0x565a7d);if(!(_0x38b8b7&&_0x38b8b7 instanceof _0x590c5e))throw new _0x1a8c20(_0x1a8c20[_0x48aaa8(0x92d)][_0x48aaa8(0x47e)],{'label':_0x445127,'ownerId':_0x354e3e});_0x11d8aa[_0x48aaa8(0x343)](_0x48aaa8(0x5cc),{'clusterId':this[_0x48aaa8(0x6cb)]['clusterId'],'nodeId':this[_0x48aaa8(0x6cb)]['localNode'][_0x48aaa8(0x781)](),'nodeType':this[_0x48aaa8(0x6cb)][_0x48aaa8(0x20e)][_0x48aaa8(0x751)],'data':{'subscriptionLabel':_0x565a7d,'chosenAnswer':_0x209765}}),this[_0x48aaa8(0x212)][_0x48aaa8(0x25c)](_0x565a7d,_0x209765),_0x38b8b7[_0x48aaa8(0x4c8)](_0x354e3e,_0x3c24ac,_0x209765[_0x48aaa8(0xb37)]);}[_0x2aff22(0x96e)]({ownerId:_0x2d62c7,label:_0x1787e2}){const _0x6bbefe=_0x2aff22,_0x25ddd0=this[_0x6bbefe(0x6cb)][_0x6bbefe(0x55b)][_0x6bbefe(0x1e1)](_0x2d62c7,_0x1787e2),[_0x49231f,_0x5a7344]=Array[_0x6bbefe(0x306)](this['maps'][_0x6bbefe(0x629)][_0x6bbefe(0x437)]())[_0x6bbefe(0x43b)](([_0x122a0b,_0x1b4ca2])=>-0x1!==_0x122a0b[_0x6bbefe(0x26a)](_0x25ddd0[_0x6bbefe(0x54d)]()));return this[_0x6bbefe(0x3fe)](_0x5a7344,_0x49231f);}['closeSubscription'](_0x312502,_0x5bc3ee){const _0x4e0d59=_0x2aff22;this[_0x4e0d59(0x6cb)][_0x4e0d59(0x55b)]['unregisterSystemSource'](_0x312502),this[_0x4e0d59(0x5a1)][_0x4e0d59(0x3fe)](_0x312502,_0x5bc3ee);}[_0x2aff22(0xba3)](_0x43ba1d){const _0x181832=_0x2aff22;return _0x43ba1d['getSupportedContentTypes']()[_0x181832(0x9bf)](_0x182c91[_0x181832(0x1c0)][_0x181832(0x3e7)]);}[_0x2aff22(0x596)](_0x1d0b2f){const _0x87231=_0x2aff22;return _0x1d0b2f[_0x87231(0x708)]()===_0x182c91[_0x87231(0x1c0)]['Media'];}async['handleNoAnswer'](_0x365d64,_0x1e7344,_0x337eb1,_0x3981ba){const _0x5448f6=_0x2aff22;await _0x33cd0c[_0x5448f6(0x4ad)](0x3e8);const _0x511f30=_0x45377e(_0x2d1fd6['Incoming'],{'contentType':_0x182c91[_0x5448f6(0x1c0)]['Media'],'label':_0x365d64,'remoteId':_0x1e7344});this['clearSubscriptionRequestTimeout'](_0x511f30);const _0x20307d=this[_0x5448f6(0x282)][_0x5448f6(0x9de)](_0x511f30);if(!_0x20307d)throw new _0x1a8c20(_0x1a8c20[_0x5448f6(0x92d)][_0x5448f6(0x47e)],{'label':_0x511f30,'ownerId':_0x1e7344});const _0x7d8e55=this['configs'][_0x5448f6(0x55b)][_0x5448f6(0xa26)](_0x16a50c=>_0x16a50c[_0x5448f6(0x860)]()),_0x7409a3=this[_0x5448f6(0x6cb)][_0x5448f6(0x55b)][_0x5448f6(0x732)](this[_0x5448f6(0x6cb)]['localNode'][_0x5448f6(0x781)](),_0x1e7344);_0x20307d['reset'](_0x7d8e55[_0x5448f6(0x8df)](_0x177d1d=>_0x177d1d[_0x5448f6(0x47a)]()),_0x7409a3);try{_0x20307d['sendRequest'](this[_0x5448f6(0x6cb)][_0x5448f6(0x20e)][_0x5448f6(0x781)](),_0x1e7344,_0x365d64,_0x337eb1,_0x3981ba),this[_0x5448f6(0xaf3)](_0x365d64,_0x1e7344,_0x337eb1,_0x3981ba,_0x511f30,_0x20307d);}catch(_0x4d2166){this[_0x5448f6(0xae9)][_0x5448f6(0x639)]({'label':_0x365d64,'ownerId':_0x1e7344,'trackKinds':_0x337eb1,'params':_0x3981ba});}}['requestSubscription'](_0x4181c5,_0x5f2f2a,_0x3c6674,_0x216faa){const _0x89d8bb=_0x2aff22;this[_0x89d8bb(0xae9)][_0x89d8bb(0x639)]({'label':_0x4181c5,'ownerId':_0x5f2f2a,'trackKinds':_0x3c6674,'params':_0x216faa});}[_0x2aff22(0x489)]({label:_0xe985f4,ownerId:_0x36243f,trackKinds:_0x386dda,params:_0xa1970a,remoteId:_0x3774fa}){const _0x407d2e=_0x2aff22;if(!this[_0x407d2e(0x6cb)][_0x407d2e(0x55b)][_0x407d2e(0x1e1)](_0x36243f,_0xe985f4))return;if(!this[_0x407d2e(0x6cb)][_0x407d2e(0x55b)][_0x407d2e(0x500)]()[_0x407d2e(0x2fc)]())throw new Error(_0x407d2e(0x3c9));if(_0x3774fa){const _0x39973d=this[_0x407d2e(0x6cb)][_0x407d2e(0x55b)][_0x407d2e(0xbb6)]()[_0x407d2e(0x43b)](_0x225deb=>_0x225deb[_0x407d2e(0x781)]()===_0x3774fa),_0x3859b4=_0x39973d?.[_0x407d2e(0x2fc)]();if(!_0x39973d||!_0x3859b4)throw new Error(_0x407d2e(0xb46));const _0x3f4ec2=this[_0x407d2e(0x6cb)][_0x407d2e(0x55b)]['getRemoteNodes']()[_0x407d2e(0x43b)](_0x55c06d=>_0x55c06d[_0x407d2e(0x781)]()===_0x36243f),_0x353f2e=_0x3f4ec2?.[_0x407d2e(0x2fc)]();if(!_0x3f4ec2||!_0x353f2e)throw new Error(_0x407d2e(0x790));const _0x1996fd=this[_0x407d2e(0x212)][_0x407d2e(0x9de)](_0xe985f4);if(_0x1996fd){const _0x1faa43=this[_0x407d2e(0x6cb)][_0x407d2e(0x55b)][_0x407d2e(0xbb6)]()[_0x407d2e(0x43b)](_0x2ac3fe=>_0x2ac3fe['getId']()===_0x1996fd['nodeId']),_0x64d51f=_0x1faa43?.[_0x407d2e(0x2fc)]();if(!_0x1faa43||!_0x64d51f)throw new Error(_0x407d2e(0x6d0));if(Math['abs'](_0x64d51f-_0x353f2e)<Math[_0x407d2e(0x963)](_0x3859b4-_0x353f2e))return;}}const _0x4f0858=this['configs']['mediator']['getConnections'](_0x1ffdc4=>_0x1ffdc4[_0x407d2e(0x860)]()&&(!_0x3774fa||_0x1ffdc4[_0x407d2e(0x47a)]()===_0x3774fa));if(!_0x4f0858[_0x407d2e(0x482)]||0x0===_0x4f0858[_0x407d2e(0x482)])throw new Error(_0x407d2e(0x1d6));const _0x5b6cbc=this['configs'][_0x407d2e(0x55b)]['getDistance'](this[_0x407d2e(0x6cb)]['localNode'][_0x407d2e(0x781)](),_0x36243f),_0x39b892=_0x45377e(_0x2d1fd6['Incoming'],{'contentType':_0x182c91[_0x407d2e(0x1c0)][_0x407d2e(0x3e7)],'label':_0xe985f4,'remoteId':_0x36243f});if(this['subscriptionRequests'][_0x407d2e(0x938)](_0x39b892)){if(_0x3774fa)throw new Error(_0x407d2e(0x720));const _0x5948dd=this[_0x407d2e(0x282)][_0x407d2e(0x9de)](_0x39b892)[_0x407d2e(0xb0a)]();if(_0x5948dd['length']===_0x386dda[_0x407d2e(0x482)]&&_0x5948dd['every'](_0x579f26=>_0x386dda['includes'](_0x579f26)))return;this[_0x407d2e(0x6cb)][_0x407d2e(0x55b)][_0x407d2e(0x633)](this[_0x407d2e(0x282)][_0x407d2e(0x9de)](_0x39b892)),this[_0x407d2e(0x282)]['delete'](_0x39b892),_0x386dda=Array[_0x407d2e(0x306)](new Set(_0x386dda[_0x407d2e(0x632)](_0x5948dd))),this[_0x407d2e(0x5a2)](_0x39b892);}const _0x5f5409=new _0x334bc8(_0x4f0858[_0x407d2e(0x8df)](_0x34e2a9=>_0x34e2a9[_0x407d2e(0x47a)]()),_0x5b6cbc,this[_0x407d2e(0xa8d)],_0x386dda);this[_0x407d2e(0x6cb)]['mediator'][_0x407d2e(0xbd4)](_0x5f5409),this[_0x407d2e(0x282)][_0x407d2e(0x25c)](_0x39b892,_0x5f5409),_0x5f5409[_0x407d2e(0x2db)](this[_0x407d2e(0x6cb)][_0x407d2e(0x20e)][_0x407d2e(0x781)](),_0x36243f,_0xe985f4,_0x386dda,_0xa1970a),this[_0x407d2e(0xaf3)](_0xe985f4,_0x36243f,_0x386dda,_0xa1970a,_0x39b892,_0x5f5409);}[_0x2aff22(0x5a2)](_0xebc071){const _0x464bd3=_0x2aff22;this[_0x464bd3(0x886)]['has'](_0xebc071)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x464bd3(0x9de)](_0xebc071)),this[_0x464bd3(0x886)][_0x464bd3(0xa6b)](_0xebc071));}[_0x2aff22(0xaf3)](_0x558056,_0x418772,_0x27a25e,_0x1ed63a,_0x4b9264,_0x5958c8){const _0x3045a4=_0x2aff22;this[_0x3045a4(0x5a2)](_0x4b9264),this['subscriptionRequestTimeouts'][_0x3045a4(0x25c)](_0x4b9264,setTimeout(()=>{const _0x4e18f5=_0x3045a4;this[_0x4e18f5(0x886)]['delete'](_0x4b9264);try{const _0x13def5=_0x5958c8[_0x4e18f5(0x4d7)]();this[_0x4e18f5(0x4c8)](_0x13def5,_0x418772,_0x558056,_0x4b9264,_0x27a25e);}catch(_0x100a25){this[_0x4e18f5(0x750)](_0x558056,_0x418772,_0x27a25e,_0x1ed63a);}},0x7d0));}[_0x2aff22(0x355)](_0x474925,_0xe2cd3b,_0x453e6f,_0x41a78c,_0x1e365c){const _0x31419f=_0x2aff22,{subscriptionLabel:_0x389fb2}=this['getSubscriptionLabel'](_0xe2cd3b,_0x41a78c),_0x412b78=this[_0x31419f(0x7e9)](_0x389fb2),_0x4689b9=_0x412b78?.[_0x31419f(0xb37)];_0x412b78&&(_0x412b78[_0x31419f(0x815)](_0x41a78c,0x0),this[_0x31419f(0x930)](_0x453e6f,_0x182c91[_0x31419f(0x1c0)][_0x31419f(0x3e7)],_0x474925)),this['requestSubscription'](_0xe2cd3b,_0x41a78c,_0x1e365c,_0x4689b9);}[_0x2aff22(0x7e9)](_0x1f5086){const _0x4284a1=_0x2aff22,_0x787be6=this[_0x4284a1(0x5a1)][_0x4284a1(0x629)][_0x4284a1(0x9de)](_0x1f5086);if(_0x787be6){if(!(_0x787be6 instanceof _0x590c5e))throw new _0x1a8c20(_0x1a8c20[_0x4284a1(0x92d)][_0x4284a1(0x7f1)],{'label':_0x1f5086,'subscription':_0x787be6});return _0x787be6;}}['getSubscriptionLabel'](_0x4e0a4d,_0x5e5ea2){const _0x555472=_0x2aff22,_0x2bdec0=this[_0x555472(0xabe)](_0x4e0a4d,_0x5e5ea2);return{'parts':_0x2bdec0,'subscriptionLabel':_0x45377e(_0x2d1fd6[_0x555472(0x44c)],_0x2bdec0)};}[_0x2aff22(0xabe)](_0x532e02,_0x17242d){const _0x50de2c=_0x2aff22,_0x220fbf=this[_0x50de2c(0x6cb)][_0x50de2c(0x55b)][_0x50de2c(0x1e1)](_0x17242d,_0x532e02),_0x5279cb=_0x220fbf[_0x50de2c(0x31d)]();if(!_0x5279cb)throw new _0x1a8c20(_0x1a8c20['codes'][_0x50de2c(0x3aa)],{'label':_0x532e02,'streamId':_0x220fbf[_0x50de2c(0x54d)](),'ownerId':_0x17242d,'localId':this[_0x50de2c(0x6cb)][_0x50de2c(0x20e)]['getId']()});return{'contentType':_0x182c91['ContentType'][_0x50de2c(0x3e7)],'label':_0x220fbf[_0x50de2c(0x54d)](),'remoteId':_0x5279cb};}[_0x2aff22(0xba9)](_0x1211c5,_0x55d07c,_0x32e4e4,_0x304f44){const _0x28b43c=_0x2aff22,_0x42fdea=_0x304f44[_0x28b43c(0x31d)]();if(_0x42fdea&&_0x42fdea!==_0x1211c5[_0x28b43c(0x4ed)]){const {parts:_0x4526ae,subscriptionLabel:_0x768a6e}=this['getSubscriptionLabel'](_0x32e4e4,_0x55d07c),_0x34c17e=this[_0x28b43c(0x7e9)](_0x768a6e);_0x34c17e&&(_0x34c17e[_0x28b43c(0x815)](_0x55d07c,0x0),this[_0x28b43c(0x930)](_0x4526ae[_0x28b43c(0x4ea)],_0x4526ae['contentType'],_0x4526ae['remoteId']));}}}class _0x26ec82{[_0x2aff22(0x6cb)];['maxOutgoingSubscriptions'];[_0x2aff22(0x5a1)];constructor(_0x3e5706,_0x34df09){const _0x1a541b=_0x2aff22;this[_0x1a541b(0x6cb)]=_0x3e5706,this[_0x1a541b(0x882)]=_0x34df09,this[_0x1a541b(0x5a1)]=new _0x48ff8e(({source:_0x334b9f,destination:_0x11a0f0})=>_0x2dec31(_0x334b9f,_0x11a0f0));}['createSubscription'](_0xa54711,_0x5cd239){const _0x289ea1=_0x2aff22,_0x59f00e={'source':_0xa54711,'destination':_0x5cd239};this[_0x289ea1(0x5a1)][_0x289ea1(0x440)](_0x2d1fd6[_0x289ea1(0x640)],_0x59f00e);}['removeSubscription'](_0x19d213,_0x2f304c,_0x2b32d1=''){const _0x12f8df=_0x2aff22,_0x2d3215={'contentType':_0x2f304c,'label':_0x19d213,'remoteId':_0x2b32d1};this[_0x12f8df(0x5a1)]['removeSubscription'](_0x2d3215,_0x2d1fd6[_0x12f8df(0x640)]);}[_0x2aff22(0xac3)](_0x352ec5,_0x398c53){const _0x333764=_0x2aff22;let _0x9f3769;_0x9f3769=_0x398c53[_0x333764(0x96d)]!==this[_0x333764(0x6cb)][_0x333764(0x20e)][_0x333764(0x781)]()?this[_0x333764(0x6cb)]['mediator'][_0x333764(0x1e1)](_0x398c53[_0x333764(0x96d)],_0x398c53['label']):this['configs'][_0x333764(0x55b)]['getLocalMediaStream'](_0x398c53[_0x333764(0x4ea)]);const _0x442a51=_0x45377e(_0x2d1fd6['Outgoing'],{'contentType':_0x182c91[_0x333764(0x1c0)]['Media'],'label':_0x9f3769[_0x333764(0x56e)](),'remoteId':_0x352ec5}),_0x3d4cfb=this[_0x333764(0x1c5)]();if(!this[_0x333764(0x5a1)][_0x333764(0x629)][_0x333764(0x938)](_0x442a51)&&_0x3d4cfb>=this[_0x333764(0x882)])return{'type':_0x308139['RestartNeedMediaStream'],'ownerId':_0x398c53[_0x333764(0x96d)],'label':_0x398c53[_0x333764(0x4ea)],'streamId':_0x9f3769['getShareableStreamId'](),'trackKinds':_0x398c53[_0x333764(0x864)],'params':_0x398c53['params']};_0x9f3769 instanceof _0x5007b0&&!_0x9f3769[_0x333764(0x64f)](_0x398c53[_0x333764(0x864)])&&_0x9f3769[_0x333764(0x4c8)](_0x398c53['params']),this[_0x333764(0x5a1)][_0x333764(0x629)]['has'](_0x442a51)||this[_0x333764(0x440)](_0x9f3769[_0x333764(0x3a1)](_0x352ec5),this['configs'][_0x333764(0x55b)]['getConnection'](_0x352ec5));}['handleSubscriptionUnsubscribeMediaStream'](_0x677cc2,{label:_0x137845,ownerId:_0x1f8fb0,remainingTracks:_0x531781}){const _0x4cd057=_0x2aff22;if(_0x531781>0x0)return;let _0x38d376;_0x38d376=_0x1f8fb0!==this[_0x4cd057(0x6cb)][_0x4cd057(0x20e)]['getId']()?this[_0x4cd057(0x6cb)]['mediator']['getRemoteMediaStream'](_0x1f8fb0,_0x137845):this[_0x4cd057(0x6cb)][_0x4cd057(0x55b)][_0x4cd057(0xab5)](_0x137845);const _0xf1392a=_0x38d376[_0x4cd057(0x56e)](),_0x2c8ac2=_0x182c91['ContentType']['Media'];this[_0x4cd057(0x930)](_0xf1392a,_0x2c8ac2,_0x677cc2);}[_0x2aff22(0x7b4)](_0x13c074,{label:_0x52d96e,ownerId:_0x605fc,trackKinds:_0x277408}){const _0x2b4aef=_0x2aff22;if(_0x13c074!==_0x21a1e9)return[];let _0x4d4d6f=[];for(const _0x1a0766 of this[_0x2b4aef(0x5a1)][_0x2b4aef(0x629)]){const {source:_0x3517b4,destination:_0x158e09}=_0x1a0766[0x1];_0x3517b4[_0x2b4aef(0x2e7)]()===_0x52d96e&&_0x3517b4[_0x2b4aef(0x613)]()===_0x605fc&&_0x4d4d6f[_0x2b4aef(0x639)]({'sourceId':this['configs'][_0x2b4aef(0x20e)][_0x2b4aef(0x781)](),'destinationIds':[_0x158e09[_0x2b4aef(0x47a)]()],'messageType':_0x3048e8['Subscription'],'content':{'type':_0x308139['MediaStreamUnavailable'],'label':_0x52d96e,'ownerId':_0x605fc,'trackKinds':_0x277408}});}return _0x4d4d6f;}[_0x2aff22(0xa0a)](_0x30ac37,_0x1797c4){const _0x505644=_0x2aff22,{label:_0x3eef0a,ownerId:_0x2d2a95,trackKinds:_0x1184ac,params:_0x1cf401}=_0x1797c4,{hasTracks:_0x1c3c3f,streamId:_0x17b9d8,hasResolution:_0x23bbbf,distance:_0xc7a85a,subscriptionLabel:_0x2cb695}=this[_0x505644(0xad0)](_0x30ac37,_0x1797c4);let _0x16c169=this[_0x505644(0x1c5)]()<this[_0x505644(0x882)]&&(_0x1c3c3f||_0xc7a85a>-0x1)?_0x308139['CanProvideMediaStream']:_0x308139[_0x505644(0x45e)];const _0x9b01ca=_0xc7a85a<0x0?0xa:_0xc7a85a;let _0x3f8b13=_0x1c3c3f?_0x23bbbf?_0x9b01ca:_0x9b01ca+0x0:_0x9b01ca+0xa;return _0x2cb695&&this[_0x505644(0x5a1)][_0x505644(0x629)][_0x505644(0x938)](_0x2cb695)&&(_0x1c3c3f&&(_0x3f8b13=0x0),_0x16c169=_0x308139[_0x505644(0x799)]),{'type':_0x16c169,'cost':_0x3f8b13,'distance':_0xc7a85a,'label':_0x3eef0a,'ownerId':_0x2d2a95,'streamId':_0x17b9d8,'trackKinds':_0x1184ac,'params':_0x1cf401};}['handleContentUnpublishMediaStream'](_0x31c225){const _0x45d1e2=_0x2aff22,{label:_0x3b9092,ownerId:_0x347843}=_0x31c225,_0x23c4e0=this[_0x45d1e2(0x6cb)][_0x45d1e2(0x55b)][_0x45d1e2(0x1e1)](_0x347843,_0x3b9092);this[_0x45d1e2(0x5a1)][_0x45d1e2(0x629)]['forEach'](_0x3c6195=>{const _0x45944f=_0x45d1e2;if(_0x3c6195['source'][_0x45944f(0x54d)]()===_0x23c4e0['getShareableStreamId']()){const _0x55d702=_0x3c6195[_0x45944f(0x274)];this['removeSubscription'](_0x23c4e0[_0x45944f(0x56e)](),_0x182c91[_0x45944f(0x1c0)][_0x45944f(0x3e7)],_0x55d702[_0x45944f(0x47a)]());}});}[_0x2aff22(0xa42)]({label:_0x6ae1f7}){const _0x8413e5=_0x2aff22,_0x5cf415=this['configs'][_0x8413e5(0x55b)][_0x8413e5(0xab5)](_0x6ae1f7);this[_0x8413e5(0x5a1)][_0x8413e5(0x629)][_0x8413e5(0x663)](_0x24b06b=>{const _0x5a99d4=_0x8413e5;if(_0x24b06b[_0x5a99d4(0x761)][_0x5a99d4(0x54d)]()===_0x5cf415[_0x5a99d4(0x56e)]()){const _0x2359c8=_0x24b06b['destination'];this[_0x5a99d4(0x930)](_0x5cf415[_0x5a99d4(0x56e)](),_0x182c91['ContentType'][_0x5a99d4(0x3e7)],_0x2359c8[_0x5a99d4(0x47a)]());}});}[_0x2aff22(0x3f9)](_0xda8e22){const _0x16221a=_0x2aff22;this[_0x16221a(0x5a1)]['removeSubscriptionsForNode'](_0xda8e22);}[_0x2aff22(0x566)](){const _0x1951a9=_0x2aff22;this['maps'][_0x1951a9(0x629)][_0x1951a9(0x663)](this[_0x1951a9(0x3fe)][_0x1951a9(0xa38)](this));}['closeSubscription'](_0x18ee26,_0x915047){const _0x49ffd7=_0x2aff22;this[_0x49ffd7(0x5a1)][_0x49ffd7(0x3fe)](_0x18ee26,_0x915047);}['getSubscriptionInfo'](_0x8f21c1,{label:_0x1d16e9,ownerId:_0x66e86,trackKinds:_0x381222,params:_0xf74bf1}){const _0x5409ab=_0x2aff22;if(_0x66e86!==this['configs'][_0x5409ab(0x20e)]['getId']()){const _0x4094d8=this[_0x5409ab(0x6cb)][_0x5409ab(0x55b)][_0x5409ab(0x1e1)](_0x66e86,_0x1d16e9);return _0x4094d8&&_0x4094d8['getProviderId']()!==_0x8f21c1?{'hasTracks':_0x4094d8[_0x5409ab(0x206)](_0x381222),'hasResolution':this[_0x5409ab(0x8f9)](_0x4094d8['getResolution'](),_0xf74bf1),'streamId':_0x4094d8['getShareableStreamId'](),'distance':this[_0x5409ab(0x6cb)][_0x5409ab(0x55b)][_0x5409ab(0x732)](_0x8f21c1,_0x66e86),'subscriptionLabel':_0x45377e(_0x2d1fd6['Outgoing'],{'contentType':_0x182c91[_0x5409ab(0x1c0)][_0x5409ab(0x3e7)],'label':_0x4094d8[_0x5409ab(0x56e)](),'remoteId':_0x8f21c1})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x3a894f=this['configs']['mediator'][_0x5409ab(0xab5)](_0x1d16e9);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x3a894f[_0x5409ab(0x56e)](),'distance':0x0,'subscriptionLabel':_0x45377e(_0x2d1fd6[_0x5409ab(0x640)],{'contentType':_0x182c91['ContentType']['Media'],'label':_0x3a894f[_0x5409ab(0x56e)](),'remoteId':_0x8f21c1})};}[_0x2aff22(0x1c5)](){const _0x42419d=_0x2aff22;return Array[_0x42419d(0x306)](this[_0x42419d(0x5a1)][_0x42419d(0x629)][_0x42419d(0x437)]())[_0x42419d(0xae8)](([_0x3cc28a,{source:_0x1c1e8d}])=>_0x3cc28a[_0x42419d(0x606)](_0x2d1fd6['Outgoing'])&&_0x1c1e8d[_0x42419d(0x708)]()===_0x182c91['ContentType'][_0x42419d(0x3e7)])[_0x42419d(0x482)];}[_0x2aff22(0x8f9)](_0x400983,_0x59734b){const _0x31a25a=_0x2aff22;if(!_0x59734b||!_0x59734b[_0x31a25a(0x4c5)]||_0x31a25a(0x461)==typeof _0x59734b[_0x31a25a(0x4c5)]||!_0x59734b[_0x31a25a(0x4c5)]['maxResolution'])return!0x0;const {width:_0x1dcec6,height:_0xa1b5e}=_0x59734b[_0x31a25a(0x4c5)][_0x31a25a(0xb6a)];return _0x400983['width']>=_0x1dcec6&&_0x400983[_0x31a25a(0xbf6)]>=_0xa1b5e;}}class _0x4a61e4{[_0x2aff22(0x6cb)];[_0x2aff22(0x882)];['maxDistance'];[_0x2aff22(0x7ef)];['incomingManager'];[_0x2aff22(0x802)];constructor(_0x2861e1,_0x50edfc,_0x3a9887){const _0x4bf064=_0x2aff22;this[_0x4bf064(0x6cb)]=_0x2861e1,this[_0x4bf064(0x882)]=_0x50edfc,this[_0x4bf064(0xa8d)]=_0x3a9887,this[_0x4bf064(0x6cb)][_0x4bf064(0x55b)][_0x4bf064(0xbd4)](this),this['incomingManager']=new _0xffe657(this['configs'],this[_0x4bf064(0xa8d)]),this['outgoingManager']=new _0x26ec82(this['configs'],this[_0x4bf064(0x882)]);}[_0x2aff22(0x390)](_0x5d1d30){const _0x3af772=_0x2aff22;this[_0x3af772(0x7ef)]=_0x5d1d30;}['unregisterSystemPublisher'](){const _0x36f26f=_0x2aff22;delete this[_0x36f26f(0x7ef)];}[_0x2aff22(0x566)](){const _0x41ab8f=_0x2aff22;this[_0x41ab8f(0xbc5)][_0x41ab8f(0x566)](),this['outgoingManager']['close'](),this['configs'][_0x41ab8f(0x55b)]['unregisterSystemSource'](this);}[_0x2aff22(0x4d6)](_0x174c2c,_0x20e146){this['incomingManager']['createSubscription'](_0x174c2c,_0x20e146);}[_0x2aff22(0x941)](_0x891b57,_0x47baa5){const _0x5cbc52=_0x2aff22;this[_0x5cbc52(0x802)]['createSubscription'](_0x891b57,_0x47baa5);}[_0x2aff22(0x617)](_0x403631,_0x267c07,_0x48bc38=''){const _0x4d9f10=_0x2aff22;this[_0x4d9f10(0xbc5)][_0x4d9f10(0x930)](_0x403631,_0x267c07,_0x48bc38);}['removeOutgoingSubscription'](_0x8120c2,_0x521b55,_0x2765e1=''){const _0x427804=_0x2aff22;try{this[_0x427804(0x802)]['removeSubscription'](_0x8120c2,_0x521b55,_0x2765e1);}catch(_0x4c98d9){if(_0x4c98d9 instanceof _0x1a8c20&&_0x4c98d9['code']===_0x1a8c20[_0x427804(0x92d)]['InvalidSubscription'])return;}}[_0x2aff22(0x968)](_0x11bee9){const _0x2f42d3=_0x2aff22;switch(_0x11bee9[_0x2f42d3(0xb25)][_0x2f42d3(0x751)]){case _0x308139['SubscribeMediaStream']:this[_0x2f42d3(0xac3)](_0x11bee9['sourceId'],_0x11bee9['content']);break;case _0x308139['UnsubscribeMediaStream']:this['outgoingManager'][_0x2f42d3(0xab8)](_0x11bee9[_0x2f42d3(0xb28)],_0x11bee9[_0x2f42d3(0xb25)]);break;case _0x308139['NeedMediaStream']:this[_0x2f42d3(0xa0a)](_0x11bee9[_0x2f42d3(0xb28)],_0x11bee9[_0x2f42d3(0xb25)]);break;case _0x308139[_0x2f42d3(0x1d8)]:this[_0x2f42d3(0xbc5)]['handleSubscriptionRestartNeedMediaStream'](_0x11bee9[_0x2f42d3(0xb28)],_0x11bee9[_0x2f42d3(0xb25)]);break;case _0x308139[_0x2f42d3(0x799)]:case _0x308139[_0x2f42d3(0x45e)]:this[_0x2f42d3(0xbc5)]['handleSubscriptionProvideMediaStream'](_0x11bee9[_0x2f42d3(0xb28)],_0x11bee9[_0x2f42d3(0xb25)]);break;case _0x308139[_0x2f42d3(0x394)]:this[_0x2f42d3(0xbc5)][_0x2f42d3(0x847)](_0x11bee9['sourceId'],_0x11bee9[_0x2f42d3(0xb25)]);}}['handleContentSystemEvents'](_0x4646af){const _0x3ac908=_0x2aff22;switch(_0x4646af[_0x3ac908(0xb25)][_0x3ac908(0x751)]){case _0x4f0180['UnpublishMediaStream']:this[_0x3ac908(0xbc5)][_0x3ac908(0x288)](_0x4646af[_0x3ac908(0xb25)]),this[_0x3ac908(0x802)][_0x3ac908(0x288)](_0x4646af[_0x3ac908(0xb25)]);break;case _0x4f0180[_0x3ac908(0x918)]:this[_0x3ac908(0xbc5)][_0x3ac908(0x806)](_0x4646af[_0x3ac908(0xb25)]);break;case _0x4f0180['UpdateMediaStream']:this[_0x3ac908(0xbc5)][_0x3ac908(0x40c)](_0x4646af[_0x3ac908(0xb25)]);break;case _0x4f0180['UnsubscribeMediaStream']:this[_0x3ac908(0x7b4)](_0x4646af[_0x3ac908(0xb28)],_0x4646af['content']);break;case _0x4f0180['CloseMediaStream']:this[_0x3ac908(0x802)][_0x3ac908(0xa42)](_0x4646af[_0x3ac908(0xb25)]);break;case _0x4f0180[_0x3ac908(0x951)]:this[_0x3ac908(0x577)](_0x4646af[_0x3ac908(0xb25)][_0x3ac908(0x4ea)],_0x182c91[_0x3ac908(0x1c0)][_0x3ac908(0xb30)]);break;case _0x4f0180[_0x3ac908(0x655)]:this['handleCloseContent'](_0x4646af[_0x3ac908(0xb25)][_0x3ac908(0x4ea)],_0x182c91['ContentType']['ObjectStore']);break;case _0x4f0180[_0x3ac908(0x4e4)]:this[_0x3ac908(0x577)](_0x4646af[_0x3ac908(0xb25)][_0x3ac908(0x4ea)],_0x182c91[_0x3ac908(0x1c0)]['ExternalStorage']);break;case _0x4f0180[_0x3ac908(0x563)]:this[_0x3ac908(0x577)](_0x4646af[_0x3ac908(0xb25)][_0x3ac908(0x4ea)],_0x182c91[_0x3ac908(0x1c0)][_0x3ac908(0x3e1)]);break;case _0x4f0180['CloseVectorDatabase']:this[_0x3ac908(0x577)](_0x4646af[_0x3ac908(0xb25)]['label'],_0x182c91[_0x3ac908(0x1c0)][_0x3ac908(0x883)]);break;case _0x4f0180[_0x3ac908(0xb8d)]:this[_0x3ac908(0x577)](_0x4646af[_0x3ac908(0xb25)][_0x3ac908(0x4ea)],_0x182c91[_0x3ac908(0x1c0)][_0x3ac908(0xb7f)]);break;case _0x4f0180[_0x3ac908(0x4bc)]:case _0x4f0180[_0x3ac908(0x2a7)]:this[_0x3ac908(0x577)](_0x4646af['content'][_0x3ac908(0x4ea)],_0x182c91['ContentType']['Job']);break;case _0x4f0180['RemoteMediaStreamTrackFail']:this[_0x3ac908(0xbc5)][_0x3ac908(0xbb4)](_0x4646af[_0x3ac908(0xb25)]);}}['handleNodeSystemEvents']({content:_0x2188a9}){const _0x513f40=_0x2aff22;_0x2188a9[_0x513f40(0x751)]===_0x815418['NodeLeave']&&this[_0x513f40(0x3f9)](_0x2188a9);}[_0x2aff22(0x575)](_0x50cf7a){const _0x3c9efb=_0x2aff22;_0x50cf7a['content'][_0x3c9efb(0x751)]===_0x1ad51b['OptimizationConnectionSuccess']&&this['incomingManager'][_0x3c9efb(0x831)](_0x50cf7a[_0x3c9efb(0xb28)]);}['handleContentUnsubscribeMediaStream'](_0x4b4d49,_0x2a4bf8){const _0x2e6acd=_0x2aff22;this[_0x2e6acd(0xbc5)][_0x2e6acd(0x7b4)](_0x2a4bf8),this[_0x2e6acd(0x802)]['handleContentUnsubscribeMediaStream'](_0x4b4d49,_0x2a4bf8)[_0x2e6acd(0x663)](_0x1d5f9c=>this[_0x2e6acd(0x7ef)][_0x2e6acd(0x9cd)](_0x1d5f9c));}[_0x2aff22(0xac3)](_0x568c2e,_0x1877a0){const _0x559fb1=_0x2aff22,_0x33aa78=this[_0x559fb1(0x802)]['handleSubscriptionSubscribeMediaStream'](_0x568c2e,_0x1877a0);if(_0x33aa78&&(this[_0x559fb1(0x7ef)][_0x559fb1(0x9cd)]({'sourceId':this[_0x559fb1(0x6cb)][_0x559fb1(0x20e)]['getId'](),'destinationIds':[_0x568c2e],'messageType':_0x3048e8[_0x559fb1(0x5ce)],'content':_0x33aa78}),_0x33aa78[_0x559fb1(0x751)]===_0x308139[_0x559fb1(0x1d8)]))throw new _0x3bacfb(_0x559fb1(0x1cc));}[_0x2aff22(0xa0a)](_0x2294f8,_0x29a617){const _0x52c2cf=_0x2aff22,_0x22130a=this[_0x52c2cf(0x802)][_0x52c2cf(0xa0a)](_0x2294f8,_0x29a617);this['systemTopic'][_0x52c2cf(0x9cd)]({'sourceId':this['configs'][_0x52c2cf(0x20e)][_0x52c2cf(0x781)](),'destinationIds':[_0x2294f8],'messageType':_0x3048e8[_0x52c2cf(0x5ce)],'content':_0x22130a});}[_0x2aff22(0x577)](_0x4e0d91,_0x1f9deb){const _0x2b7701=_0x2aff22;this[_0x2b7701(0x617)](_0x4e0d91,_0x1f9deb),this[_0x2b7701(0x762)](_0x4e0d91,_0x1f9deb);}['removeSubscriptionsForNode']({id:_0x914f3}){const _0x2e299b=_0x2aff22;this[_0x2e299b(0xbc5)][_0x2e299b(0x3f9)](_0x914f3),this['outgoingManager'][_0x2e299b(0x3f9)](_0x914f3);}}class _0x4d50e7{[_0x2aff22(0x4ea)];[_0x2aff22(0xb5f)]=_0x29c93b();constructor(){this['label']=0x0;}[_0x2aff22(0x2e7)](){const _0x1d3d9c=_0x2aff22;return this[_0x1d3d9c(0x4ea)];}[_0x2aff22(0x708)](){const _0x329b2d=_0x2aff22;return _0x182c91[_0x329b2d(0x1c0)][_0x329b2d(0x517)];}[_0x2aff22(0x3e9)](_0x4ff936){const _0x528d29=_0x2aff22;_0x4ff936[_0x528d29(0x390)](this);}[_0x2aff22(0x8f7)](_0x687f55){_0x687f55['unregisterSystemPublisher']();}['publish'](_0x1513f1){const _0x130d92=_0x2aff22;_0x11d8aa[_0x130d92(0x6ea)](_0x23f9d6[_0x130d92(0xb2b)],_0x130d92(0x7a6),_0x1513f1[_0x130d92(0xb28)],_0x1513f1),this[_0x130d92(0xb5f)][_0x130d92(0x9cd)]({'topicLabel':this['label'],'contentType':_0x182c91[_0x130d92(0x1c0)][_0x130d92(0x517)],'uuid':_0x1513f1[_0x130d92(0xbd2)]??(0x0,_0x360e63['v4'])(),'recipients':_0x1513f1['recipients']??[],..._0x1513f1});}['subscribe'](_0x2d60f3){const _0x34f28e=_0x2aff22;return this['listener'][_0x34f28e(0x4c8)](_0x2d60f3);}}class _0x3c11b0{[_0x2aff22(0x81a)];[_0x2aff22(0x354)]=[];[_0x2aff22(0xb8a)];[_0x2aff22(0x224)]=new Map();[_0x2aff22(0x8b9)]=_0x29c93b();constructor(_0x14e3a2){const _0x3d8634=_0x2aff22;this[_0x3d8634(0x81a)]=_0x14e3a2,this[_0x3d8634(0xb8a)]=(this['options'][_0x3d8634(0x993)]-0x2*this['options'][_0x3d8634(0x797)])/0x2,this[_0x3d8634(0x354)][_0x3d8634(0x639)]({'start':0x1,'end':this[_0x3d8634(0x4cb)](0x1,0x1)-0x1});for(let _0x346d9e=0x0;_0x346d9e<this['maxLayer'];++_0x346d9e)this[_0x3d8634(0x354)]['push']({'start':this[_0x3d8634(0x4cb)](0x1,_0x346d9e+0x1),'end':this[_0x3d8634(0x4cb)](0x1,_0x346d9e+0x2)-0x1});}[_0x2aff22(0x4cb)](_0x47cf1f,_0x4643bd=0x1){const _0x412448=_0x2aff22;let _0xdad40e=this[_0x412448(0x81a)]['maxDistance']-this[_0x412448(0x81a)][_0x412448(0x797)],_0x54db2d=0x1;for(let _0x6f2932=0x1;_0x6f2932<_0x4643bd;++_0x6f2932)_0xdad40e*=this[_0x412448(0x81a)][_0x412448(0xa8d)]-this[_0x412448(0x81a)]['minConnections']-_0x6f2932,_0x54db2d*=this['options'][_0x412448(0xa8d)]-this[_0x412448(0x81a)][_0x412448(0x797)]-_0x6f2932+0x1;return _0xdad40e*this['options'][_0x412448(0x797)]+_0x47cf1f-_0x54db2d;}['getCurrentMaxLayer'](_0x337ec1){const _0x526473=_0x2aff22;let _0x68a45=0x0;for(;this[_0x526473(0x354)][_0x68a45]['end']<_0x337ec1;)_0x68a45+=0x1;return _0x68a45;}[_0x2aff22(0x4fa)](){const _0x467ee5=_0x2aff22;return this[_0x467ee5(0x81a)][_0x467ee5(0x797)];}[_0x2aff22(0x27d)](){const _0x4dc7f2=_0x2aff22;return this[_0x4dc7f2(0x81a)][_0x4dc7f2(0x993)];}[_0x2aff22(0x943)](){const _0x199167=_0x2aff22;return this[_0x199167(0x81a)]['maxDistance'];}[_0x2aff22(0xbb6)](){const _0x418926=_0x2aff22;return this[_0x418926(0x224)];}[_0x2aff22(0x77c)](_0x4bc7d9,_0x156a2d){const _0x4ff359=_0x2aff22;this[_0x4ff359(0x224)][_0x4ff359(0x25c)](_0x4bc7d9,_0x156a2d),this[_0x4ff359(0x8b9)][_0x4ff359(0x9cd)]();}[_0x2aff22(0x2eb)](_0x203149){const _0x299b1c=_0x2aff22;this[_0x299b1c(0x224)][_0x299b1c(0xa6b)](_0x203149),this[_0x299b1c(0x8b9)][_0x299b1c(0x9cd)]();}[_0x2aff22(0x4e1)](_0x39b1a6){const _0x4bc7ed=_0x2aff22;return this[_0x4bc7ed(0x224)][_0x4bc7ed(0x938)](_0x39b1a6);}[_0x2aff22(0x9b1)](_0xb9ca60){const _0x4ec06a=_0x2aff22;return this[_0x4ec06a(0x224)]['get'](_0xb9ca60);}[_0x2aff22(0x428)](_0x2ab690,_0x124ce3){const _0x5c9529=_0x2aff22,_0x3d61e0=this[_0x5c9529(0x9b1)](_0x124ce3)?.[_0x5c9529(0x2fc)]()??0x0;return _0x2ab690[_0x5c9529(0x8df)](_0x384d26=>this[_0x5c9529(0x9b1)](_0x384d26))[_0x5c9529(0xae8)](_0x2deb80=>void 0x0!==_0x2deb80)[_0x5c9529(0x246)]((_0x266dce,_0x437e09)=>Math[_0x5c9529(0x963)](_0x3d61e0-(_0x266dce&&_0x266dce[_0x5c9529(0x2fc)]()||0x1/0x0))-Math[_0x5c9529(0x963)](_0x3d61e0-(_0x437e09&&_0x437e09[_0x5c9529(0x2fc)]()||0x1/0x0)))[_0x5c9529(0x8df)](_0x21a5cc=>_0x21a5cc[_0x5c9529(0x781)]());}[_0x2aff22(0x527)](_0x2c44e2){const _0x3fc168=_0x2aff22;return this[_0x3fc168(0x8b9)][_0x3fc168(0x4c8)](_0x2c44e2);}}class _0x507843{[_0x2aff22(0x97c)];[_0x2aff22(0x3d0)];[_0x2aff22(0x64e)];['authService'];[_0x2aff22(0x81a)];[_0x2aff22(0x6cb)];[_0x2aff22(0x4e3)];['contentManager'];[_0x2aff22(0x281)];[_0x2aff22(0x23a)];[_0x2aff22(0xb65)];['detectionManager'];[_0x2aff22(0x356)];[_0x2aff22(0x5a5)];['graphService'];[_0x2aff22(0x7ef)]=new _0x4d50e7();[_0x2aff22(0x9c7)];[_0x2aff22(0x20e)];constructor(_0x2e24ca,_0x175906,_0x5f0f9d,_0x44c0e6,_0x41aa67,_0x24b9ac,_0x4530a5){const _0x34b28b=_0x2aff22;switch(this[_0x34b28b(0x97c)]=_0x2e24ca,this[_0x34b28b(0x3d0)]=_0x175906,this[_0x34b28b(0x64e)]=_0x5f0f9d,this[_0x34b28b(0x870)]=_0x44c0e6,this['options']=_0x41aa67,this[_0x34b28b(0x6cb)]=_0x24b9ac,this[_0x34b28b(0x4e3)]=_0x4530a5,_0x5f0f9d['type']){case _0x182c91[_0x34b28b(0x764)]['User']:this[_0x34b28b(0x20e)]=new _0x2585ba(_0x5f0f9d[_0x34b28b(0x781)](),_0x5f0f9d[_0x34b28b(0x6c8)](),_0x5f0f9d[_0x34b28b(0x2b6)]());break;case _0x182c91['NodeType'][_0x34b28b(0x2e3)]:default:this[_0x34b28b(0x20e)]=new _0x320ddc(_0x5f0f9d[_0x34b28b(0x781)]());}const _0x54efca=this['getConfigs']();this['graphService']=new _0x3c11b0(this[_0x34b28b(0x81a)]),this[_0x34b28b(0x8ec)]=new _0xd74e80(_0x54efca,this[_0x34b28b(0x81a)]),this[_0x34b28b(0x281)]=new _0x17af38(_0x54efca,this[_0x34b28b(0x870)],this[_0x34b28b(0x59f)],this[_0x34b28b(0x6cb)][_0x34b28b(0x5dc)],this[_0x34b28b(0x81a)]),this[_0x34b28b(0x23a)]=new _0x4a61e4(_0x54efca,this['options'][_0x34b28b(0x882)],this[_0x34b28b(0x59f)][_0x34b28b(0x943)]()),this[_0x34b28b(0xb65)]=new _0xb4efed(_0x54efca),this[_0x34b28b(0x5f7)]=new _0x1688b7(_0x54efca),this[_0x34b28b(0x356)]=new _0x1395f7(_0x54efca),this['nodeManager']=new _0x509bc1(_0x54efca,this['graphService']),this[_0x34b28b(0x9c7)]=this[_0x34b28b(0x619)]();}[_0x2aff22(0x3f1)](){const _0x666489=_0x2aff22,_0x3119b3=this['getConfigs']();this[_0x666489(0x281)]=new _0x17af38(_0x3119b3,this['authService'],this['graphService'],this[_0x666489(0x6cb)][_0x666489(0x5dc)],this[_0x666489(0x81a)]),this['subscriptionManager']=new _0x4a61e4(_0x3119b3,this[_0x666489(0x81a)]['maxOutgoingSubscriptions'],this[_0x666489(0x59f)][_0x666489(0x943)]()),this[_0x666489(0xb65)]=new _0xb4efed(_0x3119b3),this[_0x666489(0x5f7)]=new _0x1688b7(_0x3119b3),this[_0x666489(0x356)]=new _0x1395f7(_0x3119b3),this[_0x666489(0x5a5)]=new _0x509bc1(_0x3119b3,this[_0x666489(0x59f)]);const _0x157b09=this[_0x666489(0x281)]['getConnectionGroup']();this[_0x666489(0x8ec)][_0x666489(0x729)]()['forEach'](_0x1aecc8=>{const _0x196f55=_0x666489;this[_0x196f55(0x23a)][_0x196f55(0x941)](_0x1aecc8,_0x157b09),this[_0x196f55(0x23a)]['createIncomingSubscription'](_0x157b09,_0x1aecc8),_0x1aecc8[_0x196f55(0x8a2)]();}),this[_0x666489(0x8ec)][_0x666489(0x2f6)]()[_0x666489(0x663)](_0x574bad=>{const _0x3c768f=_0x666489;this[_0x3c768f(0x23a)][_0x3c768f(0x941)](_0x574bad,_0x157b09),this[_0x3c768f(0x23a)][_0x3c768f(0x4d6)](_0x157b09,_0x574bad),_0x574bad['reset'](),_0x574bad[_0x3c768f(0x1e0)]();}),this[_0x666489(0x8ec)][_0x666489(0x2b2)]()[_0x666489(0x663)](_0x38a1f=>{const _0x4f6224=_0x666489;this['subscriptionManager'][_0x4f6224(0x941)](_0x38a1f,_0x157b09),this[_0x4f6224(0x23a)][_0x4f6224(0x4d6)](_0x157b09,_0x38a1f),_0x38a1f[_0x4f6224(0x8a2)](),this[_0x4f6224(0x589)](_0x38a1f);}),this[_0x666489(0x8ec)]['getJobDispatchers']()['forEach'](_0x43d9d8=>{const _0x153c56=_0x666489;this['subscriptionManager']['createOutgoingSubscription'](_0x43d9d8,_0x157b09),this[_0x153c56(0x23a)][_0x153c56(0x4d6)](_0x157b09,_0x43d9d8),_0x43d9d8[_0x153c56(0x8a2)]();}),this[_0x666489(0x8ec)][_0x666489(0xa4d)]()[_0x666489(0x663)](_0x473bc9=>{const _0x3d6068=_0x666489;this[_0x3d6068(0x23a)][_0x3d6068(0x941)](_0x473bc9,_0x157b09),this[_0x3d6068(0x23a)][_0x3d6068(0x4d6)](_0x157b09,_0x473bc9),_0x473bc9[_0x3d6068(0x8a2)]();}),this['contentManager']['getVectorDatabases']()[_0x666489(0x663)](_0xd9620b=>{const _0x51313d=_0x666489;this[_0x51313d(0x23a)][_0x51313d(0x941)](_0xd9620b,_0x157b09),this['subscriptionManager'][_0x51313d(0x4d6)](_0x157b09,_0xd9620b),_0xd9620b[_0x51313d(0x8a2)]();}),this[_0x666489(0x8ec)]['getGraphDatabases']()['forEach'](_0x4245d4=>{const _0x4683c3=_0x666489;this[_0x4683c3(0x23a)]['createOutgoingSubscription'](_0x4245d4,_0x157b09),this['subscriptionManager'][_0x4683c3(0x4d6)](_0x157b09,_0x4245d4),_0x4245d4[_0x4683c3(0x8a2)]();}),this[_0x666489(0x9c7)]=this[_0x666489(0x619)]();}[_0x2aff22(0xbd4)](_0x4ba05d){const _0x19d618=_0x2aff22;try{this['systemTopic'][_0x19d618(0x3e9)](_0x4ba05d);}catch(_0x416f58){this['handleError'](_0x416f58,{});}}[_0x2aff22(0x633)](_0x500b13){const _0x41a61d=_0x2aff22;try{this[_0x41a61d(0x7ef)]['unregisterSource'](_0x500b13);}catch(_0x4caa23){this[_0x41a61d(0x97f)](_0x4caa23,{});}}[_0x2aff22(0x9fc)](_0x56aeab,_0x31d37c){const _0x21983d=_0x2aff22;return this[_0x21983d(0x281)][_0x21983d(0x9fc)](_0x56aeab,_0x31d37c);}[_0x2aff22(0xbe8)](_0x2afb15){const _0x38ce96=_0x2aff22;try{return this[_0x38ce96(0x281)]['getConnection'](_0x2afb15);}catch(_0x4c0d62){throw this[_0x38ce96(0x97f)](_0x4c0d62,{});}}[_0x2aff22(0xa26)](_0x3862da){const _0x25800e=_0x2aff22;try{return this[_0x25800e(0x281)][_0x25800e(0xa26)](_0x3862da);}catch(_0x3f2bd2){throw this[_0x25800e(0x97f)](_0x3f2bd2,{});}}[_0x2aff22(0x1e1)](_0x187207,_0x333ae7){const _0x1b6ec1=_0x2aff22;try{return this['contentManager'][_0x1b6ec1(0xb47)](_0x18ca71=>_0x18ca71['getOwnerId']()===_0x187207&&_0x18ca71[_0x1b6ec1(0x2e7)]()===_0x333ae7)[0x0];}catch(_0x2b5e1d){throw this[_0x1b6ec1(0x97f)](_0x2b5e1d,{});}}['getLocalMediaStream'](_0x126e72){const _0x2cdee0=_0x2aff22;try{return this['contentManager'][_0x2cdee0(0x21e)](_0x688edb=>_0x688edb[_0x2cdee0(0x2e7)]()===_0x126e72)[0x0];}catch(_0x3ed923){throw this['handleError'](_0x3ed923,{});}}[_0x2aff22(0xa89)]=(..._0x3da17c)=>{const _0x367994=_0x2aff22;try{return this[_0x367994(0x4e3)][_0x367994(0x839)](..._0x3da17c);}catch(_0xa8a855){throw this[_0x367994(0x97f)](_0xa8a855,{});}};[_0x2aff22(0x8ff)](_0x2c3981){const _0x24bbe8=_0x2aff22;try{this[_0x24bbe8(0xb65)][_0x24bbe8(0xba8)](_0x2c3981);}catch(_0x17edef){throw this[_0x24bbe8(0x97f)](_0x17edef,{});}}['unregisterRemoteNode'](_0x1703f8){const _0x1184e9=_0x2aff22;try{this[_0x1184e9(0xb65)][_0x1184e9(0xaa3)](_0x1703f8);}catch(_0x24d3f2){throw this[_0x1184e9(0x97f)](_0x24d3f2,{});}}[_0x2aff22(0x722)](_0x56bb7a){const _0x1d0e4e=_0x2aff22;return this[_0x1d0e4e(0x281)][_0x1d0e4e(0x722)](_0x56bb7a);}async['initialize'](){const _0xc75a90=_0x2aff22;try{await this[_0xc75a90(0x281)]['initialize']();const _0x53cc2c=await this[_0xc75a90(0x5a5)][_0xc75a90(0x3b4)]();for(const _0x467ad1 of _0x53cc2c)this[_0xc75a90(0x281)][_0xc75a90(0x9fc)](_0x467ad1);}catch(_0x20c5a2){throw this['handleError'](_0x20c5a2,{});}}['updateUser'](_0x1eb9f7){const _0x1a77e6=_0x2aff22;this[_0x1a77e6(0x20e)]['type']===_0x182c91['NodeType'][_0x1a77e6(0x72f)]&&(this[_0x1a77e6(0x20e)][_0x1a77e6(0x475)](_0x1eb9f7[_0x1a77e6(0x2b6)]()),this[_0x1a77e6(0x20e)][_0x1a77e6(0xaff)](_0x1eb9f7['getDisplayName']()));}[_0x2aff22(0x566)]({force:_0xa8f895=!0x1},_0x589f23=!0x1){const _0x1de5ed=_0x2aff22;if(_0x11d8aa[_0x1de5ed(0x25e)](_0x1de5ed(0x6a1),{'clusterId':this[_0x1de5ed(0x3d0)],'nodeId':this[_0x1de5ed(0x20e)][_0x1de5ed(0x781)](),'nodeType':this[_0x1de5ed(0x20e)][_0x1de5ed(0x751)]}),!_0xa8f895&&this[_0x1de5ed(0x281)][_0x1de5ed(0xab6)]())throw new _0x447098(_0x35722f[_0x1de5ed(0x40f)],_0x1de5ed(0x6d9));_0x11d8aa[_0x1de5ed(0x6e5)](),this[_0x1de5ed(0x9c7)](),this[_0x1de5ed(0x356)]['close'](),this[_0x1de5ed(0x5f7)][_0x1de5ed(0x566)](),this[_0x1de5ed(0xb65)][_0x1de5ed(0x566)](),this[_0x1de5ed(0x23a)][_0x1de5ed(0x566)](),this['connectionManager'][_0x1de5ed(0x566)](),this['contentManager'][_0x1de5ed(0x566)](_0x589f23),this['nodeManager']['close']();}['openPubSubTopic'](_0x4418b8){const _0xe4a39b=_0x2aff22;try{const _0x34f48d=this[_0xe4a39b(0x8ec)][_0xe4a39b(0x30a)](_0x4418b8),_0x3dc8f4=this[_0xe4a39b(0x281)][_0xe4a39b(0x1aa)]();return this[_0xe4a39b(0x23a)][_0xe4a39b(0x941)](_0x34f48d,_0x3dc8f4),this[_0xe4a39b(0x23a)][_0xe4a39b(0x4d6)](_0x3dc8f4,_0x34f48d),_0x34f48d;}catch(_0x280bbd){throw this[_0xe4a39b(0x97f)](_0x280bbd,{});}}async['openObjectStoreBucket'](_0x32a2b5,_0x3c5b33){const _0x5ac67b=_0x2aff22;try{const _0x12e184=this[_0x5ac67b(0x8ec)][_0x5ac67b(0xb2a)](_0x32a2b5,this['options'][_0x5ac67b(0x5b9)],_0x3c5b33),_0x246e77=this[_0x5ac67b(0x281)]['getConnectionGroup']();return this[_0x5ac67b(0x23a)][_0x5ac67b(0x941)](_0x12e184,_0x246e77),this[_0x5ac67b(0x23a)][_0x5ac67b(0x4d6)](_0x246e77,_0x12e184),await _0x12e184[_0x5ac67b(0x1e0)](),_0x12e184;}catch(_0x1475b4){throw this[_0x5ac67b(0x97f)](_0x1475b4,{});}}async['openExternalStorageConnection'](_0x25b997,_0x18a657){const _0x4128b5=_0x2aff22;try{if(!this[_0x4128b5(0x81a)]['externalStorageConnectors'])throw new _0x447098(_0x35722f[_0x4128b5(0xac7)],_0x4128b5(0x361));if(!(this[_0x4128b5(0x64e)]instanceof _0x37b593))throw new _0x447098(_0x35722f[_0x4128b5(0x2c1)],'Node\x20is\x20not\x20an\x20agent');const _0x418e2b=this[_0x4128b5(0x81a)]['externalStorageConnectors'][_0x4128b5(0x9de)](_0x18a657);if(!_0x418e2b)throw new _0x447098(_0x35722f[_0x4128b5(0xac7)],_0x4128b5(0x361));const _0x1767df=this['contentManager'][_0x4128b5(0x3c7)](_0x25b997,_0x418e2b),_0x2b5ef6=this[_0x4128b5(0x281)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x1767df,_0x2b5ef6),this[_0x4128b5(0x23a)][_0x4128b5(0x4d6)](_0x2b5ef6,_0x1767df),await _0x1767df[_0x4128b5(0x3f1)](),_0x1767df;}catch(_0x2325a3){throw this['handleError'](_0x2325a3,{});}}async[_0x2aff22(0xa5e)](_0x3a28ba,_0x2e622f,_0x47577f){const _0x51617e=_0x2aff22;try{_0x47577f=_0x47577f||this[_0x51617e(0x81a)]['keyValueDatabaseConnector'];const _0x55f9c9=await this[_0x51617e(0x8ec)]['createKeyValueDatabase'](_0x3a28ba,_0x2e622f,_0x47577f),_0x3c3ed3=this[_0x51617e(0x281)][_0x51617e(0x1aa)]();return this[_0x51617e(0x23a)][_0x51617e(0x941)](_0x55f9c9,_0x3c3ed3),this[_0x51617e(0x23a)][_0x51617e(0x4d6)](_0x3c3ed3,_0x55f9c9),await _0x55f9c9[_0x51617e(0x3f1)](),this[_0x51617e(0x589)](_0x55f9c9),_0x55f9c9;}catch(_0x112209){throw this[_0x51617e(0x97f)](_0x112209,{});}}async['openJobDispatcher'](_0x4b06a9){const _0x7635ed=_0x2aff22;try{const _0x4e65a9=await this[_0x7635ed(0x8ec)][_0x7635ed(0x442)](_0x4b06a9,this[_0x7635ed(0x59f)]),_0x10eeb9=this[_0x7635ed(0x281)][_0x7635ed(0x1aa)]();return this['subscriptionManager'][_0x7635ed(0x941)](_0x4e65a9,_0x10eeb9),this[_0x7635ed(0x23a)][_0x7635ed(0x4d6)](_0x10eeb9,_0x4e65a9),_0x4e65a9[_0x7635ed(0x3f1)](),_0x4e65a9;}catch(_0x2929ba){throw this[_0x7635ed(0x97f)](_0x2929ba,{});}}async[_0x2aff22(0x6f6)](_0x3ba731){throw new Error('Method\x20not\x20supported');}async[_0x2aff22(0x66a)](_0x58eae3){const _0x14eb69=_0x2aff22;try{const _0x60dfd8=await this[_0x14eb69(0x8ec)]['createGenerativeAIContext'](_0x58eae3,this['graphService']),_0x3b4fd0=this[_0x14eb69(0x281)][_0x14eb69(0x1aa)]();return this[_0x14eb69(0x23a)][_0x14eb69(0x941)](_0x60dfd8,_0x3b4fd0),this[_0x14eb69(0x23a)][_0x14eb69(0x4d6)](_0x3b4fd0,_0x60dfd8),_0x60dfd8['open'](),_0x60dfd8;}catch(_0x4fcf2b){throw console['error'](_0x4fcf2b),this[_0x14eb69(0x97f)](_0x4fcf2b,{});}}async[_0x2aff22(0x4fe)](_0xbb13a){const _0x337361=_0x2aff22;try{if(!(this['options'][_0x337361(0x5e5)]&&this['options'][_0x337361(0x207)]&&this[_0x337361(0x81a)]['documentParserConnector']&&this[_0x337361(0x81a)][_0x337361(0x40e)]&&this[_0x337361(0x81a)][_0x337361(0x3fc)]))throw new _0x447098(_0x35722f[_0x337361(0x6e4)],_0x337361(0x669));if(!this[_0x337361(0x6cb)][_0x337361(0x5d1)])throw new _0x447098(_0x35722f[_0x337361(0x7c0)],_0x337361(0xac0));const _0x19fe1b=[];for(const [_0xfcea26,_0x51fd88]of this['options'][_0x337361(0x5e5)]){let _0x1d5848;_0xfcea26===_0x182c91[_0x337361(0x4ec)][_0x337361(0x816)]&&(_0x1d5848=this[_0x337361(0x6cb)][_0x337361(0x5d1)]),_0xfcea26===_0x182c91[_0x337361(0x4ec)][_0x337361(0x1d5)]&&(_0x1d5848=this['configs'][_0x337361(0x8b0)]),_0x19fe1b[_0x337361(0x639)](new _0x51fd88(_0x1d5848));}const _0x135ceb=[];for(const [_0x392661,_0x3c8885]of this[_0x337361(0x81a)][_0x337361(0x207)]){let _0x428ec0;_0x392661===_0x182c91[_0x337361(0x4ec)][_0x337361(0x816)]&&(_0x428ec0=this[_0x337361(0x6cb)][_0x337361(0x5d1)]),_0x392661===_0x182c91[_0x337361(0x4ec)][_0x337361(0x9c1)]&&(_0x428ec0=this['configs']['elevenLabsApiKey']),_0x135ceb[_0x337361(0x639)](new _0x3c8885(_0x428ec0));}const _0x570025=new this[(_0x337361(0x81a))][(_0x337361(0x5b9))](_0x337361(0x66f)),_0x2e4588=new this[(_0x337361(0x81a))][(_0x337361(0x372))](),_0x1970b0=new this[(_0x337361(0x81a))][(_0x337361(0x40e))](this[_0x337361(0x6cb)][_0x337361(0x5d1)]),_0x442bb6=new this['options'][(_0x337361(0x3fc))]();let _0x5852ae,_0x21f536,_0x108d79,_0x111388;if(this[_0x337361(0x81a)][_0x337361(0xb06)]){if(!this[_0x337361(0x6cb)][_0x337361(0xb45)])throw new _0x447098(_0x35722f[_0x337361(0x7c0)],'Missing\x20search\x20API\x20key');_0x5852ae=new this[(_0x337361(0x81a))]['searchConnector'](this['configs'][_0x337361(0xb45)]);}if(this['options'][_0x337361(0x1e5)]){if(!this[_0x337361(0x6cb)]['aiSearchApiKey'])throw new _0x447098(_0x35722f[_0x337361(0x7c0)],'Missing\x20AI\x20search\x20API\x20key');_0x21f536=new this[(_0x337361(0x81a))][(_0x337361(0x1e5))](this[_0x337361(0x6cb)]['aiSearchApiKey']);}if(this['options'][_0x337361(0x3df)]&&(_0x108d79=new this[(_0x337361(0x81a))][(_0x337361(0x3df))]()),this['options'][_0x337361(0x35f)]){if(!this[_0x337361(0x6cb)][_0x337361(0x353)])throw new _0x447098(_0x35722f[_0x337361(0x7c0)],_0x337361(0x8fe));_0x111388=new Map();for(const [_0x3bec9a,_0x47814f]of this[_0x337361(0x81a)][_0x337361(0x35f)])_0x111388[_0x337361(0x25c)](_0x3bec9a,new _0x47814f(this[_0x337361(0x6cb)][_0x337361(0x353)]));}return await this[_0x337361(0x8ec)][_0x337361(0x811)](_0xbb13a,_0x19fe1b,_0x135ceb,_0x570025,_0x2e4588,_0x1970b0,_0x442bb6,_0x5852ae,_0x21f536,_0x108d79,_0x111388,this[_0x337361(0x6cb)][_0x337361(0x5d1)]);}catch(_0x5b1f3e){throw this[_0x337361(0x97f)](_0x5b1f3e,{});}}async[_0x2aff22(0x822)](_0x270fa7){const _0x4e218a=_0x2aff22;try{if(!(this['options'][_0x4e218a(0x5e5)]&&this[_0x4e218a(0x81a)]['generativeAISpeechConnectors']&&this[_0x4e218a(0x81a)]['documentParserConnector']&&this['options']['fileConnector']&&this['options'][_0x4e218a(0x3fc)]))throw new _0x447098(_0x35722f[_0x4e218a(0x6e4)],_0x4e218a(0x669));if(!(this[_0x4e218a(0x64e)]instanceof _0x37b593))throw new _0x447098(_0x35722f['NodeInvalidType'],_0x4e218a(0x821));if(!this[_0x4e218a(0x6cb)][_0x4e218a(0x5d1)])throw new _0x447098(_0x35722f[_0x4e218a(0x7c0)],_0x4e218a(0xac0));const _0x28c216=[];for(const [_0x7465e1,_0x557054]of this[_0x4e218a(0x81a)]['generativeAIWorkerConnectors']){let _0x1451c9;_0x7465e1===_0x182c91[_0x4e218a(0x4ec)][_0x4e218a(0x816)]&&(_0x1451c9=this[_0x4e218a(0x6cb)][_0x4e218a(0x5d1)]),_0x7465e1===_0x182c91[_0x4e218a(0x4ec)][_0x4e218a(0x1d5)]&&(_0x1451c9=this[_0x4e218a(0x6cb)]['anthropicApiKey']),_0x28c216['push'](new _0x557054(_0x1451c9));}const _0x48588a=[];for(const [_0x2179e5,_0x1dbaf9]of this['options'][_0x4e218a(0x207)]){let _0x71b203;_0x2179e5===_0x182c91[_0x4e218a(0x4ec)]['OpenAI']&&(_0x71b203=this[_0x4e218a(0x6cb)][_0x4e218a(0x5d1)]),_0x2179e5===_0x182c91[_0x4e218a(0x4ec)]['ElevenLabs']&&(_0x71b203=this[_0x4e218a(0x6cb)][_0x4e218a(0xb75)]),_0x48588a['push'](new _0x1dbaf9(_0x71b203));}const _0x1e38c2=new this[(_0x4e218a(0x81a))]['objectStoreConnector'](_0x4e218a(0x66f)),_0x1189fb=new this[(_0x4e218a(0x81a))][(_0x4e218a(0x372))](),_0x5af9c6=new this['options'][(_0x4e218a(0x40e))](this[_0x4e218a(0x6cb)][_0x4e218a(0x5d1)]),_0x5acff2=new this['options'][(_0x4e218a(0x3fc))]();let _0x3e853c,_0x5e2188,_0x412488,_0x22512a;if(this['options'][_0x4e218a(0xb06)]){if(!this[_0x4e218a(0x6cb)][_0x4e218a(0xb45)])throw new _0x447098(_0x35722f[_0x4e218a(0x7c0)],_0x4e218a(0x1e7));_0x3e853c=new this[(_0x4e218a(0x81a))][(_0x4e218a(0xb06))](this['configs']['searchApiKey']);}if(this[_0x4e218a(0x81a)][_0x4e218a(0x1e5)]){if(!this[_0x4e218a(0x6cb)]['aiSearchApiKey'])throw new _0x447098(_0x35722f[_0x4e218a(0x7c0)],_0x4e218a(0x99e));_0x5e2188=new this['options'][(_0x4e218a(0x1e5))](this['configs'][_0x4e218a(0xbab)]);}if(this[_0x4e218a(0x81a)][_0x4e218a(0x3df)]&&(_0x412488=new this[(_0x4e218a(0x81a))]['queryFileConnector']()),this[_0x4e218a(0x81a)]['ragConnectors']){if(!this[_0x4e218a(0x6cb)][_0x4e218a(0x353)])throw new _0x447098(_0x35722f[_0x4e218a(0x7c0)],_0x4e218a(0x8fe));_0x22512a=new Map();for(const [_0xa73f55,_0x50c352]of this[_0x4e218a(0x81a)][_0x4e218a(0x35f)])_0x22512a['set'](_0xa73f55,new _0x50c352(this[_0x4e218a(0x6cb)][_0x4e218a(0x353)]));}const _0x2744e6=await this[_0x4e218a(0x8ec)][_0x4e218a(0xa9c)](_0x270fa7,this[_0x4e218a(0x64e)],_0x28c216,_0x48588a,_0x1e38c2,_0x1189fb,_0x5af9c6,_0x5acff2,_0x3e853c,_0x5e2188,_0x412488,_0x22512a,this['configs'][_0x4e218a(0x5d1)]),_0x40a507=this['connectionManager'][_0x4e218a(0x1aa)]();this[_0x4e218a(0x23a)][_0x4e218a(0x941)](_0x2744e6,_0x40a507),this[_0x4e218a(0x23a)][_0x4e218a(0x4d6)](_0x40a507,_0x2744e6);const _0x3516b9=this[_0x4e218a(0x5a5)][_0x4e218a(0x406)]();return await _0x2744e6[_0x4e218a(0x3f1)](0x0===_0x3516b9['length']||void 0x0),_0x2744e6;}catch(_0x2e5ca4){throw this[_0x4e218a(0x97f)](_0x2e5ca4,{});}}[_0x2aff22(0xb4d)](_0x4d91b1){const _0xe1fa1c=_0x2aff22;try{if(!this[_0xe1fa1c(0x81a)][_0xe1fa1c(0x74a)])throw new _0x447098(_0x35722f[_0xe1fa1c(0x71f)],'Missing\x20graph\x20database\x20connector');if(!(this[_0xe1fa1c(0x64e)]instanceof _0x37b593))throw new _0x447098(_0x35722f[_0xe1fa1c(0x2c1)],'Node\x20is\x20not\x20an\x20agent');const _0x3ae726=this[_0xe1fa1c(0x8ec)][_0xe1fa1c(0x911)](_0x4d91b1,this[_0xe1fa1c(0x81a)][_0xe1fa1c(0x74a)]),_0x47df42=this['connectionManager']['getConnectionGroup']();return this[_0xe1fa1c(0x23a)][_0xe1fa1c(0x941)](_0x3ae726,_0x47df42),this[_0xe1fa1c(0x23a)]['createIncomingSubscription'](_0x47df42,_0x3ae726),_0x3ae726;}catch(_0x44c472){throw this[_0xe1fa1c(0x97f)](_0x44c472,{});}}['openVectorDatabase'](_0xc587a9){const _0x3936aa=_0x2aff22;try{if(!this[_0x3936aa(0x81a)][_0x3936aa(0x832)])throw new _0x447098(_0x35722f[_0x3936aa(0x644)],'Missing\x20vector\x20database\x20connector');if(!(this['authNode']instanceof _0x37b593))throw new _0x447098(_0x35722f[_0x3936aa(0x2c1)],_0x3936aa(0x821));const _0x4410ad=this['contentManager'][_0x3936aa(0x989)](_0xc587a9,this[_0x3936aa(0x81a)][_0x3936aa(0x832)]),_0x2a813d=this[_0x3936aa(0x281)][_0x3936aa(0x1aa)]();return this[_0x3936aa(0x23a)][_0x3936aa(0x941)](_0x4410ad,_0x2a813d),this['subscriptionManager'][_0x3936aa(0x4d6)](_0x2a813d,_0x4410ad),_0x4410ad;}catch(_0x2fe463){throw this['handleError'](_0x2fe463,{});}}['getPubSubTopics'](_0x58193c){const _0x4c9b08=_0x2aff22;try{return this[_0x4c9b08(0x8ec)][_0x4c9b08(0x729)](_0x58193c);}catch(_0x1970b5){throw this[_0x4c9b08(0x97f)](_0x1970b5,{});}}[_0x2aff22(0x2f6)](_0x5c14b5){const _0x5f2188=_0x2aff22;try{return this[_0x5f2188(0x8ec)][_0x5f2188(0x2f6)](_0x5c14b5);}catch(_0x161b2e){throw this[_0x5f2188(0x97f)](_0x161b2e,{});}}['getExternalStorageConnections'](_0x4e5b78){const _0x3ade0d=_0x2aff22;try{return this[_0x3ade0d(0x8ec)]['getExternalStorageConnections'](_0x4e5b78);}catch(_0x27928b){throw this[_0x3ade0d(0x97f)](_0x27928b,{});}}[_0x2aff22(0x2b2)](_0x46a391){const _0x5a0f1d=_0x2aff22;try{return this[_0x5a0f1d(0x8ec)][_0x5a0f1d(0x2b2)](_0x46a391);}catch(_0x14524c){throw this[_0x5a0f1d(0x97f)](_0x14524c,{});}}[_0x2aff22(0x9e8)](_0x9c3545){const _0xc3f79a=_0x2aff22;try{return this['contentManager'][_0xc3f79a(0x9e8)](_0x9c3545);}catch(_0x16566b){throw this['handleError'](_0x16566b,{});}}[_0x2aff22(0x63e)](_0x2c7958){const _0x501fb0=_0x2aff22;try{return this['contentManager'][_0x501fb0(0x63e)](_0x2c7958);}catch(_0x4f2838){throw this[_0x501fb0(0x97f)](_0x4f2838,{});}}[_0x2aff22(0x987)](_0xc9dd60){const _0xcb9ac5=_0x2aff22;try{return this[_0xcb9ac5(0x8ec)][_0xcb9ac5(0x987)](_0xc9dd60);}catch(_0x421fc1){throw this[_0xcb9ac5(0x97f)](_0x421fc1,{});}}['getGraphDatabases'](_0x58cf35){const _0x50f7b6=_0x2aff22;try{return this[_0x50f7b6(0x8ec)][_0x50f7b6(0x4f3)](_0x58cf35);}catch(_0x5205c5){throw this[_0x50f7b6(0x97f)](_0x5205c5,{});}}[_0x2aff22(0x6db)](_0x325f4a,_0x5618a){const _0x190946=_0x2aff22;if(!this[_0x190946(0x6cb)][_0x190946(0xb74)][_0x190946(0x9bf)](_0x44c035[_0x190946(0x4dd)]))throw new _0x447098(_0x35722f[_0x190946(0x85f)],_0x190946(0x5a8));try{return this[_0x190946(0x8ec)][_0x190946(0x6db)](_0x325f4a,_0x5618a);}catch(_0x1a3aa3){throw this[_0x190946(0x97f)](_0x1a3aa3,{});}}[_0x2aff22(0x218)](_0x16fa15,_0x5c20b4){const _0x4929d5=_0x2aff22;if(!this['configs'][_0x4929d5(0xb74)]['includes'](_0x44c035[_0x4929d5(0x4dd)]))throw new _0x447098(_0x35722f[_0x4929d5(0x85f)],_0x4929d5(0x5a8));try{return this['contentManager'][_0x4929d5(0x218)](_0x16fa15,_0x5c20b4);}catch(_0x20ffa5){throw this[_0x4929d5(0x97f)](_0x20ffa5,{});}}[_0x2aff22(0x21e)](_0x3d313c){const _0x5c2927=_0x2aff22;if(!this[_0x5c2927(0x6cb)][_0x5c2927(0xb74)][_0x5c2927(0x9bf)](_0x44c035['MediaStream']))throw new _0x447098(_0x35722f['FeatureNotEnabled'],_0x5c2927(0x5a8));try{return this[_0x5c2927(0x8ec)]['getLocalMediaStreams'](_0x3d313c);}catch(_0x4e4260){throw this['handleError'](_0x4e4260,{});}}['getRemoteMediaStreams'](_0xfb65ed){const _0x549ad5=_0x2aff22;if(!this[_0x549ad5(0x6cb)][_0x549ad5(0xb74)][_0x549ad5(0x9bf)](_0x44c035[_0x549ad5(0x4dd)]))throw new _0x447098(_0x35722f[_0x549ad5(0x85f)],_0x549ad5(0x5a8));try{return this[_0x549ad5(0x8ec)][_0x549ad5(0xb47)](_0xfb65ed);}catch(_0x36810e){throw this[_0x549ad5(0x97f)](_0x36810e,{});}}[_0x2aff22(0xaf2)](_0x1de5d7){const _0x2001b2=_0x2aff22;try{return this[_0x2001b2(0x8ec)][_0x2001b2(0xaf2)](_0x1de5d7);}catch(_0x18414a){throw this['handleError'](_0x18414a,{});}}[_0x2aff22(0x732)](_0x39d046,_0x463daf){const _0x14f5ba=_0x2aff22;return this[_0x14f5ba(0x5a5)][_0x14f5ba(0x732)](_0x39d046,_0x463daf);}['getLocalNode'](){const _0x3de0cb=_0x2aff22;return this[_0x3de0cb(0x5a5)][_0x3de0cb(0x500)]();}[_0x2aff22(0xbb6)](_0x7e02ce){const _0x24bcb1=_0x2aff22;try{return this[_0x24bcb1(0x5a5)][_0x24bcb1(0xbb6)](_0x7e02ce);}catch(_0x32b7c6){throw this[_0x24bcb1(0x97f)](_0x32b7c6,{});}}['waitForArrayBufferSize'](){const _0x4832c1=_0x2aff22;return this[_0x4832c1(0x281)][_0x4832c1(0x5ea)]();}['isNodeReady'](_0x5616f1){const _0x5adfe3=_0x2aff22;return this['nodeManager'][_0x5adfe3(0x85e)](_0x5616f1);}async[_0x2aff22(0x2a8)](_0x2a3541){const _0x46a2d1=_0x2aff22;try{if(_0x11d8aa[_0x46a2d1(0x6ea)](_0x23f9d6[_0x46a2d1(0xb2b)],_0x46a2d1(0xa32),this['nodeManager'][_0x46a2d1(0x5ee)](),_0x2a3541),_0xd43764(_0x2a3541,this[_0x46a2d1(0x5a5)]['getLocalId']()))return void this[_0x46a2d1(0x281)][_0x46a2d1(0x1da)](_0x2a3541);switch(_0x2a3541[_0x46a2d1(0x652)]){case _0x3048e8[_0x46a2d1(0x41a)]:this[_0x46a2d1(0xb65)][_0x46a2d1(0x2a5)](_0x2a3541),this[_0x46a2d1(0x23a)][_0x46a2d1(0x2a5)](_0x2a3541),this[_0x46a2d1(0x8ec)]['handleContentSystemEvents'](_0x2a3541);break;case _0x3048e8['Node']:this[_0x46a2d1(0x23a)][_0x46a2d1(0x3a9)](_0x2a3541),this[_0x46a2d1(0x281)][_0x46a2d1(0x3a9)](_0x2a3541),this['contentManager'][_0x46a2d1(0x3a9)](_0x2a3541),this[_0x46a2d1(0x5a5)][_0x46a2d1(0x3a9)](_0x2a3541);break;case _0x3048e8[_0x46a2d1(0x9a9)]:this['remediationManager'][_0x46a2d1(0x42b)](_0x2a3541);break;case _0x3048e8[_0x46a2d1(0x739)]:this['remediationManager'][_0x46a2d1(0x6ae)](_0x2a3541);break;case _0x3048e8[_0x46a2d1(0x1d7)]:this['detectionManager']['handleStatsSystemEvents'](_0x2a3541);break;case _0x3048e8[_0x46a2d1(0x5ce)]:_0x2a3541[_0x46a2d1(0xb25)][_0x46a2d1(0x751)]!==_0x308139[_0x46a2d1(0xa58)]?(this[_0x46a2d1(0x23a)][_0x46a2d1(0x968)](_0x2a3541),this[_0x46a2d1(0x8ec)][_0x46a2d1(0x968)](_0x2a3541)):(this[_0x46a2d1(0x8ec)]['handleSubscriptionSystemEvents'](_0x2a3541),this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x2a3541));break;case _0x3048e8[_0x46a2d1(0xa97)]:await this[_0x46a2d1(0x281)][_0x46a2d1(0x575)](_0x2a3541),this[_0x46a2d1(0xb65)][_0x46a2d1(0x575)](_0x2a3541),this[_0x46a2d1(0x5a5)]['handlePeerConnectionSystemEvents'](_0x2a3541),this['subscriptionManager'][_0x46a2d1(0x575)](_0x2a3541);}}catch(_0x4a4f82){throw _0x11d8aa[_0x46a2d1(0xad7)](_0x46a2d1(0x2a8),_0x4a4f82),this[_0x46a2d1(0x97f)](_0x4a4f82,{});}}[_0x2aff22(0x97f)](_0x4fa2f5,_0x68009a){const _0x5300a8=_0x2aff22;if(!(_0x4fa2f5 instanceof _0x3bacfb)){if(_0x4fa2f5 instanceof _0x447098)throw _0x4fa2f5;if(!(_0x4fa2f5 instanceof Error))throw new _0x447098(_0x35722f[_0x5300a8(0x5eb)],_0x5300a8(0x956)+_0x4fa2f5);if(!(_0x4fa2f5 instanceof _0x1a8c20))throw new _0x447098(_0x35722f['InternalSDKError'],'Internal\x20error:\x20'+_0x4fa2f5[_0x5300a8(0x83d)]);switch(_0x4fa2f5[_0x5300a8(0x400)]){case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0xbad)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x705)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x995)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x898)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x252)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x73e)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x7b8)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0xa1a)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x47e)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0x723)]:case _0x1a8c20[_0x5300a8(0x92d)][_0x5300a8(0xb1c)]:case _0x1a8c20['codes'][_0x5300a8(0x7f1)]:}throw _0x11d8aa[_0x5300a8(0x730)](_0x5300a8(0x776)+_0x4fa2f5['message'],{'clusterId':this[_0x5300a8(0x3d0)],'nodeId':this[_0x5300a8(0x20e)]['getId'](),'nodeType':this[_0x5300a8(0x20e)]['type']},_0x4fa2f5),new _0x447098(_0x35722f[_0x5300a8(0x5eb)],'Internal\x20SDK\x20error:\x20'+_0x4fa2f5['message']);}}[_0x2aff22(0x3f0)](){const _0x51d8d3=_0x2aff22;return{'mediator':this,'vendorId':this[_0x51d8d3(0x97c)],'clusterId':this[_0x51d8d3(0x3d0)],'localNode':this[_0x51d8d3(0x20e)]};}[_0x2aff22(0x619)](){const _0x8c2ada=_0x2aff22;return this[_0x8c2ada(0x7ef)]['subscribe'](_0x4f9bfb=>{const _0x456472=_0x8c2ada,_0x43bd79=_0x584821(_0x4f9bfb,this[_0x456472(0x20e)][_0x456472(0x781)]()),_0x38d1ca=_0x4f9bfb[_0x456472(0x652)]===_0x3048e8['Stats']||_0x4f9bfb[_0x456472(0x652)]===_0x3048e8[_0x456472(0xa97)]&&_0x4f9bfb[_0x456472(0xb25)]['type']===_0x1ad51b['Stats']?_0x23f9d6[_0x456472(0x636)]:_0x23f9d6['System'];_0x11d8aa['logRaw'](_0x38d1ca,_0x4f9bfb[_0x456472(0xbd2)]+_0x456472(0x20d)+_0x43bd79,_0x4f9bfb),this[_0x456472(0x2a8)](_0x4f9bfb)['catch'](_0x5d4c75=>{const _0x39c286=_0x456472;console[_0x39c286(0x730)](_0x5d4c75);});});}async['syncKeyValueDatabase'](_0x468600){const _0x3e61ae=_0x2aff22,{timingLogger:_0x2e7a96,logger:_0x40a899,logBeforeSync:_0x513f75,logAfterSync:_0x50f0b8}=function(_0x313072,_0x39faa7){const _0x2aa406=a0_0x314b;if(!_0x11d8aa[_0x2aa406(0xbcb)](_0x39faa7))return _0x11d8aa['debug'](_0x2aa406(0x3d7)+_0x39faa7),{..._0x588feb(_0x313072,_0x39faa7),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x1240b1,logger:_0x5531a1}=_0x588feb(_0x313072,_0x39faa7);let _0x407533=0x0;return _0x407533=Date[_0x2aa406(0x75c)](),{'syncStartTime':_0x407533,'timingLogger':_0x1240b1,'logger':_0x5531a1,'logBeforeSync':()=>(_0x53e411(_0x39faa7,_0x2aa406(0x26f)),_0x1240b1['now']()),'logAfterSync':(_0x5be155,_0x5e04f6)=>{const _0x1db96d=_0x2aa406,_0x5968e5=Date['now']();_0x53e411(_0x39faa7,_0x1db96d(0x90d)+_0x5e04f6);const _0x2674c5=(_0x5968e5-_0x407533)/0x3e8,_0x10d94a=(_0x5968e5-_0x5be155)/0x3e8;_0x11d8aa[_0x1db96d(0x6ea)](_0x39faa7,_0x1db96d(0xbeb),_0x313072,_0x1db96d(0x60e)+_0x2674c5[_0x1db96d(0x4fc)](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x10d94a[_0x1db96d(0x4fc)](0x3)+_0x1db96d(0x58e),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x5968e5-_0x407533)/0x3e8-_0x10d94a)[_0x1db96d(0x4fc)](0x2)+_0x1db96d(0x58e));}};}(_0x468600[_0x3e61ae(0x2e7)](),_0x23f9d6[_0x3e61ae(0x3e1)]);_0x40a899[_0x3e61ae(0x6ea)](_0x3e61ae(0x270));const _0x147510=this[_0x3e61ae(0x5a5)][_0x3e61ae(0x406)]()[_0x3e61ae(0x482)]>0x0;if(_0x147510){_0x40a899[_0x3e61ae(0x6ea)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x3e61ae(0x5a5)][_0x3e61ae(0x406)]()),_0x2e7a96[_0x3e61ae(0xb5a)](),await Promise['all'](this[_0x3e61ae(0x5a5)][_0x3e61ae(0x406)]()['map'](async _0x903779=>await this[_0x3e61ae(0x5a5)][_0x3e61ae(0x85e)](_0x903779)))[_0x3e61ae(0x9e4)](_0x5c6be2=>_0x11d8aa[_0x3e61ae(0x25e)](_0x3e61ae(0x7b7),{'nodeId':this[_0x3e61ae(0x20e)][_0x3e61ae(0x781)](),'nodeType':this['localNode'][_0x3e61ae(0x751)]}));const _0x2f87aa=_0x40a899[_0x3e61ae(0x89c)](()=>this[_0x3e61ae(0x5a5)][_0x3e61ae(0x406)](),[]);_0x2e7a96['logWaitTime']('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x2f87aa+'\x20were\x20ready\x20in');}_0x50f0b8(_0x513f75(),await _0x468600['sync'](_0x147510,async()=>{const _0x2b7395=_0x3e61ae;_0x2e7a96[_0x2b7395(0xb5a)](),await this['nodeManager'][_0x2b7395(0x78b)](),_0x2e7a96[_0x2b7395(0x35e)]('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x468600['sync'](!0x0,()=>{const _0x45843f=_0x2b7395;_0x40a899[_0x45843f(0x6ea)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0x468600[_0x45843f(0x1e0)](!0x1);},!0x0);}));}}class _0x3217a1{[_0x2aff22(0x97c)];['clusterId'];[_0x2aff22(0x64e)];[_0x2aff22(0x515)];['orchestrator'];constructor(_0x220b00,_0x26bf74,_0x59aba6,_0x56e5ea,_0x2e4f02,_0x53bb8f,_0x3a6e37=new _0x1cae42()){const _0x42c0f3=_0x2aff22;this[_0x42c0f3(0x97c)]=_0x220b00,this[_0x42c0f3(0x3d0)]=_0x26bf74,this[_0x42c0f3(0x64e)]=_0x59aba6,this[_0x42c0f3(0x515)]=_0x3a6e37,this['orchestrator']=new _0x507843(this['vendorId'],this[_0x42c0f3(0x3d0)],_0x59aba6,_0x56e5ea,_0x2e4f02,_0x53bb8f,this);}async[_0x2aff22(0x30c)](){const _0x8f79f4=_0x2aff22;await this[_0x8f79f4(0x871)][_0x8f79f4(0xab3)](),this[_0x8f79f4(0x64e)]['type']===_0x182c91[_0x8f79f4(0x764)][_0x8f79f4(0x72f)]&&this[_0x8f79f4(0x64e)][_0x8f79f4(0xa1d)](this[_0x8f79f4(0x3d0)],_0x154eb8=>{const _0x4eaa01=_0x8f79f4;this[_0x4eaa01(0x871)][_0x4eaa01(0x6ac)](_0x154eb8);});}[_0x2aff22(0xa37)](_0x4e9249={}){const _0x147267=_0x2aff22;this[_0x147267(0x871)][_0x147267(0x566)](_0x4e9249),this[_0x147267(0x64e)][_0x147267(0x751)]===_0x182c91[_0x147267(0x764)]['User']&&this[_0x147267(0x64e)]['unregisterCluster'](this[_0x147267(0x3d0)]),this['emit'](_0x147267(0x625),void 0x0);}[_0x2aff22(0x72d)](_0x1df646){const _0x573961=_0x2aff22,_0x105527=this[_0x573961(0x871)][_0x573961(0x72d)](_0x1df646);return{'getName':_0x105527[_0x573961(0x28c)][_0x573961(0xa38)](_0x105527),'getOwnerId':_0x105527[_0x573961(0x613)][_0x573961(0xa38)](_0x105527),'getContentType':_0x105527[_0x573961(0x708)][_0x573961(0xa38)](_0x105527),'publish':_0x105527[_0x573961(0x9cd)][_0x573961(0xa38)](_0x105527),'subscribe':_0x105527['subscribe'][_0x573961(0xa38)](_0x105527),'unsubscribe':_0x105527[_0x573961(0x815)][_0x573961(0xa38)](_0x105527),'close':_0x105527[_0x573961(0x566)][_0x573961(0xa38)](_0x105527)};}async[_0x2aff22(0xba1)](_0x59329d,_0x17933c){const _0x100af2=_0x2aff22,_0x29f3e3=await this[_0x100af2(0x871)]['openObjectStoreBucket'](_0x59329d,_0x17933c);return{'getName':_0x29f3e3[_0x100af2(0x28c)][_0x100af2(0xa38)](_0x29f3e3),'getOwnerId':_0x29f3e3['getOwnerId'][_0x100af2(0xa38)](_0x29f3e3),'getContentType':_0x29f3e3[_0x100af2(0x708)][_0x100af2(0xa38)](_0x29f3e3),'publish':_0x29f3e3['publish'][_0x100af2(0xa38)](_0x29f3e3),'unpublish':_0x29f3e3[_0x100af2(0x5be)][_0x100af2(0xa38)](_0x29f3e3),'get':_0x29f3e3[_0x100af2(0x9de)][_0x100af2(0xa38)](_0x29f3e3),'list':_0x29f3e3[_0x100af2(0x5c1)]['bind'](_0x29f3e3),'getSize':_0x29f3e3[_0x100af2(0x547)][_0x100af2(0xa38)](_0x29f3e3),'subscribe':_0x29f3e3[_0x100af2(0x4c8)][_0x100af2(0xa38)](_0x29f3e3),'unsubscribe':_0x29f3e3[_0x100af2(0x815)]['bind'](_0x29f3e3),'close':_0x29f3e3[_0x100af2(0x566)]['bind'](_0x29f3e3)};}async[_0x2aff22(0x5ac)](_0x2cab94,_0x45a136){const _0x53b384=_0x2aff22,_0x2d8ea1=await this[_0x53b384(0x871)][_0x53b384(0x5ac)](_0x2cab94,_0x45a136);return{'getName':_0x2d8ea1[_0x53b384(0x28c)]['bind'](_0x2d8ea1),'getOwnerId':_0x2d8ea1[_0x53b384(0x613)][_0x53b384(0xa38)](_0x2d8ea1),'getContentType':_0x2d8ea1['getContentType'][_0x53b384(0xa38)](_0x2d8ea1),'close':_0x2d8ea1['close'][_0x53b384(0xa38)](_0x2d8ea1),'get':_0x2d8ea1[_0x53b384(0x9de)][_0x53b384(0xa38)](_0x2d8ea1),'list':_0x2d8ea1[_0x53b384(0x5c1)][_0x53b384(0xa38)](_0x2d8ea1),'subscribe':_0x2d8ea1[_0x53b384(0x4c8)][_0x53b384(0xa38)](_0x2d8ea1),'unsubscribe':_0x2d8ea1[_0x53b384(0x815)][_0x53b384(0xa38)](_0x2d8ea1)};}async[_0x2aff22(0xa5e)](_0x12d205,_0x31372d,_0x441b24){const _0x5d4ffe=_0x2aff22,_0x5bbfb5=await this[_0x5d4ffe(0x871)][_0x5d4ffe(0xa5e)](_0x12d205,_0x31372d,_0x441b24);return{'getName':_0x5bbfb5[_0x5d4ffe(0x28c)][_0x5d4ffe(0xa38)](_0x5bbfb5),'getOwnerId':_0x5bbfb5[_0x5d4ffe(0x613)][_0x5d4ffe(0xa38)](_0x5bbfb5),'getContentType':_0x5bbfb5[_0x5d4ffe(0x708)]['bind'](_0x5bbfb5),'getTable':_0x5bbfb5['getTable'][_0x5d4ffe(0xa38)](_0x5bbfb5),'subscribe':_0x5bbfb5[_0x5d4ffe(0x4c8)]['bind'](_0x5bbfb5),'unsubscribe':_0x5bbfb5['unsubscribe']['bind'](_0x5bbfb5),'close':_0x5bbfb5[_0x5d4ffe(0x566)]['bind'](_0x5bbfb5)};}async[_0x2aff22(0x8f0)](_0x21dac2){const _0x3d00be=_0x2aff22,_0x5438fb=await this[_0x3d00be(0x871)][_0x3d00be(0x8f0)](_0x21dac2);return{'getName':_0x5438fb['getName'][_0x3d00be(0xa38)](_0x5438fb),'getOwnerId':_0x5438fb[_0x3d00be(0x613)][_0x3d00be(0xa38)](_0x5438fb),'getContentType':_0x5438fb[_0x3d00be(0x708)][_0x3d00be(0xa38)](_0x5438fb),'createJob':_0x5438fb['createJob'][_0x3d00be(0xa38)](_0x5438fb),'getJob':_0x5438fb['getJob']['bind'](_0x5438fb),'getJobs':_0x5438fb[_0x3d00be(0x305)][_0x3d00be(0xa38)](_0x5438fb),'close':_0x5438fb['close'][_0x3d00be(0xa38)](_0x5438fb)};}async[_0x2aff22(0x6f6)](_0x28af18){const _0x3b7c68=_0x2aff22,_0x263939=await this[_0x3b7c68(0x871)][_0x3b7c68(0x6f6)](_0x28af18);return{'close':_0x263939[_0x3b7c68(0x566)][_0x3b7c68(0xa38)](_0x263939)};}async[_0x2aff22(0x66a)](_0x26e656){const _0x17b68c=_0x2aff22,_0x2e6492=await this[_0x17b68c(0x871)]['openGenerativeAIContext'](_0x26e656);return{'createAIJob':_0x2e6492[_0x17b68c(0x90b)]['bind'](_0x2e6492),'getDataBucketIds':_0x2e6492[_0x17b68c(0x20a)][_0x17b68c(0xa38)](_0x2e6492),'close':_0x2e6492[_0x17b68c(0x566)]['bind'](_0x2e6492)};}async[_0x2aff22(0x4fe)](_0x1d29e0){const _0x31c9c9=_0x2aff22,_0x17c284=await this[_0x31c9c9(0x871)]['openGenerativeAIContextStandalone'](_0x1d29e0);return{'createAIJob':_0x17c284['createAIJob'][_0x31c9c9(0xa38)](_0x17c284),'getDataBucketIds':_0x17c284['getDataBucketIds'][_0x31c9c9(0xa38)](_0x17c284),'close':_0x17c284['close'][_0x31c9c9(0xa38)](_0x17c284)};}async['openGenerativeAIWorker'](_0x3ed41f){const _0x31a50d=_0x2aff22,_0x57cebd=await this[_0x31a50d(0x871)][_0x31a50d(0x822)](_0x3ed41f);return{'close':_0x57cebd[_0x31a50d(0x566)][_0x31a50d(0xa38)](_0x57cebd)};}[_0x2aff22(0xb4d)](_0x596830){const _0x3f1115=_0x2aff22,_0x4b859b=this[_0x3f1115(0x871)][_0x3f1115(0xb4d)](_0x596830);return{'getName':_0x4b859b[_0x3f1115(0x28c)]['bind'](_0x4b859b),'getOwnerId':_0x4b859b[_0x3f1115(0x613)][_0x3f1115(0xa38)](_0x4b859b),'getContentType':_0x4b859b['getContentType'][_0x3f1115(0xa38)](_0x4b859b),'addNode':_0x4b859b['addNode'][_0x3f1115(0xa38)](_0x4b859b),'addEdge':_0x4b859b[_0x3f1115(0xa31)][_0x3f1115(0xa38)](_0x4b859b),'getContent':_0x4b859b[_0x3f1115(0x646)][_0x3f1115(0xa38)](_0x4b859b),'remove':_0x4b859b[_0x3f1115(0x3bc)]['bind'](_0x4b859b),'saveToDisk':_0x4b859b['saveToDisk']['bind'](_0x4b859b),'loadFromDisk':_0x4b859b[_0x3f1115(0x8b4)]['bind'](_0x4b859b),'close':_0x4b859b[_0x3f1115(0x566)][_0x3f1115(0xa38)](_0x4b859b)};}[_0x2aff22(0x87a)](_0x3a830e){const _0x51f3bb=_0x2aff22,_0x2e7a2e=this['orchestrator'][_0x51f3bb(0x87a)](_0x3a830e);return{'getName':_0x2e7a2e[_0x51f3bb(0x28c)][_0x51f3bb(0xa38)](_0x2e7a2e),'getOwnerId':_0x2e7a2e[_0x51f3bb(0x613)]['bind'](_0x2e7a2e),'getContentType':_0x2e7a2e[_0x51f3bb(0x708)][_0x51f3bb(0xa38)](_0x2e7a2e),'search':_0x2e7a2e[_0x51f3bb(0xb81)][_0x51f3bb(0xa38)](_0x2e7a2e),'insert':_0x2e7a2e[_0x51f3bb(0x69a)][_0x51f3bb(0xa38)](_0x2e7a2e),'remove':_0x2e7a2e[_0x51f3bb(0x3bc)]['bind'](_0x2e7a2e),'saveToDisk':_0x2e7a2e[_0x51f3bb(0x1b9)]['bind'](_0x2e7a2e),'loadFromDisk':_0x2e7a2e[_0x51f3bb(0x8b4)]['bind'](_0x2e7a2e),'close':_0x2e7a2e[_0x51f3bb(0x566)]['bind'](_0x2e7a2e)};}[_0x2aff22(0x729)](_0x1ef310){const _0x39e01e=_0x2aff22;return this[_0x39e01e(0x871)]['getPubSubTopics'](_0x1ef310)[_0x39e01e(0x8df)](_0x402257=>({'getName':_0x402257['getName'][_0x39e01e(0xa38)](_0x402257),'getOwnerId':_0x402257['getOwnerId']['bind'](_0x402257),'getContentType':_0x402257[_0x39e01e(0x708)][_0x39e01e(0xa38)](_0x402257),'publish':_0x402257[_0x39e01e(0x9cd)][_0x39e01e(0xa38)](_0x402257),'subscribe':_0x402257[_0x39e01e(0x4c8)][_0x39e01e(0xa38)](_0x402257),'unsubscribe':_0x402257['unsubscribe'][_0x39e01e(0xa38)](_0x402257),'close':_0x402257[_0x39e01e(0x566)][_0x39e01e(0xa38)](_0x402257)}));}['getObjectStoreBuckets'](_0x210f76){const _0x1567d2=_0x2aff22;return this[_0x1567d2(0x871)]['getObjectStoreBuckets'](_0x210f76)[_0x1567d2(0x8df)](_0x9fd3de=>({'getName':_0x9fd3de[_0x1567d2(0x28c)]['bind'](_0x9fd3de),'getOwnerId':_0x9fd3de['getOwnerId'][_0x1567d2(0xa38)](_0x9fd3de),'getContentType':_0x9fd3de[_0x1567d2(0x708)][_0x1567d2(0xa38)](_0x9fd3de),'publish':_0x9fd3de[_0x1567d2(0x9cd)]['bind'](_0x9fd3de),'unpublish':_0x9fd3de['unpublish'][_0x1567d2(0xa38)](_0x9fd3de),'get':_0x9fd3de[_0x1567d2(0x9de)][_0x1567d2(0xa38)](_0x9fd3de),'list':_0x9fd3de[_0x1567d2(0x5c1)][_0x1567d2(0xa38)](_0x9fd3de),'getSize':_0x9fd3de[_0x1567d2(0x547)]['bind'](_0x9fd3de),'subscribe':_0x9fd3de[_0x1567d2(0x4c8)][_0x1567d2(0xa38)](_0x9fd3de),'unsubscribe':_0x9fd3de[_0x1567d2(0x815)][_0x1567d2(0xa38)](_0x9fd3de),'close':_0x9fd3de['close'][_0x1567d2(0xa38)](_0x9fd3de)}));}[_0x2aff22(0x4a4)](_0x9ccba6){const _0x5d8cae=_0x2aff22;return this[_0x5d8cae(0x871)]['getExternalStorageConnections'](_0x9ccba6)['map'](_0x140513=>({'getName':_0x140513[_0x5d8cae(0x28c)][_0x5d8cae(0xa38)](_0x140513),'getOwnerId':_0x140513[_0x5d8cae(0x613)][_0x5d8cae(0xa38)](_0x140513),'getContentType':_0x140513[_0x5d8cae(0x708)]['bind'](_0x140513),'close':_0x140513[_0x5d8cae(0x566)]['bind'](_0x140513),'get':_0x140513['get'][_0x5d8cae(0xa38)](_0x140513),'list':_0x140513[_0x5d8cae(0x5c1)][_0x5d8cae(0xa38)](_0x140513),'subscribe':_0x140513['subscribe'][_0x5d8cae(0xa38)](_0x140513),'unsubscribe':_0x140513[_0x5d8cae(0x815)][_0x5d8cae(0xa38)](_0x140513)}));}[_0x2aff22(0x2b2)](_0x42e0a4){const _0x5de5e9=_0x2aff22;return this[_0x5de5e9(0x871)][_0x5de5e9(0x2b2)](_0x42e0a4)[_0x5de5e9(0x8df)](_0xb52590=>({'getName':_0xb52590['getName'][_0x5de5e9(0xa38)](_0xb52590),'getOwnerId':_0xb52590[_0x5de5e9(0x613)]['bind'](_0xb52590),'getContentType':_0xb52590[_0x5de5e9(0x708)][_0x5de5e9(0xa38)](_0xb52590),'getTable':_0xb52590[_0x5de5e9(0x7c1)]['bind'](_0xb52590),'subscribe':_0xb52590[_0x5de5e9(0x4c8)]['bind'](_0xb52590),'unsubscribe':_0xb52590['unsubscribe']['bind'](_0xb52590),'close':_0xb52590[_0x5de5e9(0x566)]['bind'](_0xb52590)}));}['getGenerativeAIContexts'](_0x4897bf){const _0x238ed9=_0x2aff22;return this[_0x238ed9(0x871)][_0x238ed9(0x9e8)](_0x4897bf)[_0x238ed9(0x8df)](_0x2ebff8=>({'createAIJob':_0x2ebff8[_0x238ed9(0x90b)]['bind'](_0x2ebff8),'getDataBucketIds':_0x2ebff8[_0x238ed9(0x20a)][_0x238ed9(0xa38)](_0x2ebff8),'close':_0x2ebff8[_0x238ed9(0x566)][_0x238ed9(0xa38)](_0x2ebff8)}));}['getGenerativeAIContextsStandalone'](_0x26ef51){const _0x4c2254=_0x2aff22;return this['orchestrator'][_0x4c2254(0x63e)](_0x26ef51)['map'](_0x4896ed=>({'createAIJob':_0x4896ed[_0x4c2254(0x90b)]['bind'](_0x4896ed),'getDataBucketIds':_0x4896ed['getDataBucketIds']['bind'](_0x4896ed),'close':_0x4896ed[_0x4c2254(0x566)][_0x4c2254(0xa38)](_0x4896ed)}));}[_0x2aff22(0x987)](_0x38b7eb){const _0x21151f=_0x2aff22;return this[_0x21151f(0x871)]['getGenerativeAIWorkers'](_0x38b7eb)[_0x21151f(0x8df)](_0x38ceb1=>({'close':_0x38ceb1[_0x21151f(0x566)][_0x21151f(0xa38)](_0x38ceb1)}));}[_0x2aff22(0x840)](_0x18cfa4,_0x137e7e){const _0x1bf7c9=_0x2aff22,_0xfd67e9=this[_0x1bf7c9(0x871)]['createLocalMediaStream'](_0x18cfa4,_0x137e7e);return{'getLabel':_0xfd67e9[_0x1bf7c9(0x2e7)][_0x1bf7c9(0xa38)](_0xfd67e9),'getOwnerId':_0xfd67e9[_0x1bf7c9(0x613)][_0x1bf7c9(0xa38)](_0xfd67e9),'getContentType':_0xfd67e9[_0x1bf7c9(0x708)][_0x1bf7c9(0xa38)](_0xfd67e9),'getMediaStream':_0xfd67e9['getMediaStream'][_0x1bf7c9(0xa38)](_0xfd67e9),'setPriority':_0xfd67e9['setPriority'][_0x1bf7c9(0xa38)](_0xfd67e9),'unpublish':_0xfd67e9[_0x1bf7c9(0x5be)]['bind'](_0xfd67e9)};}['publishLocalDynamicMediaStream'](_0x206af8,_0x1717ec){const _0xe79801=_0x2aff22,_0x3add75=this[_0xe79801(0x871)]['createLocalDynamicMediaStream'](_0x206af8,_0x1717ec);return{'getLabel':_0x3add75[_0xe79801(0x2e7)]['bind'](_0x3add75),'getOwnerId':_0x3add75['getOwnerId'][_0xe79801(0xa38)](_0x3add75),'getContentType':_0x3add75[_0xe79801(0x708)]['bind'](_0x3add75),'setPriority':_0x3add75[_0xe79801(0xa01)][_0xe79801(0xa38)](_0x3add75),'unpublish':_0x3add75[_0xe79801(0x5be)][_0xe79801(0xa38)](_0x3add75),'getMediaStream':_0x3add75['getMediaStream'][_0xe79801(0xa38)](_0x3add75),'addTrack':_0x3add75['addTrack'][_0xe79801(0xa38)](_0x3add75),'removeTrack':_0x3add75[_0xe79801(0x344)][_0xe79801(0xa38)](_0x3add75),'replaceTrack':_0x3add75[_0xe79801(0x467)][_0xe79801(0xa38)](_0x3add75),'setTransformations':_0x3add75[_0xe79801(0xaab)]['bind'](_0x3add75)};}[_0x2aff22(0x21e)](_0x12defe){const _0x530054=_0x2aff22;return this[_0x530054(0x871)][_0x530054(0x21e)](_0x12defe)[_0x530054(0x8df)](_0x345d5b=>({'getLabel':_0x345d5b['getLabel']['bind'](_0x345d5b),'getOwnerId':_0x345d5b['getOwnerId']['bind'](_0x345d5b),'getContentType':_0x345d5b['getContentType'][_0x530054(0xa38)](_0x345d5b),'getMediaStream':_0x345d5b['getMediaStream'][_0x530054(0xa38)](_0x345d5b),'setPriority':_0x345d5b[_0x530054(0xa01)][_0x530054(0xa38)](_0x345d5b),'unpublish':_0x345d5b[_0x530054(0x5be)][_0x530054(0xa38)](_0x345d5b)}));}[_0x2aff22(0xb47)](_0x4a437e){const _0x6edf69=_0x2aff22;return this[_0x6edf69(0x871)][_0x6edf69(0xb47)](_0x4a437e)[_0x6edf69(0x8df)](_0x3633bc=>({'getLabel':_0x3633bc[_0x6edf69(0x2e7)]['bind'](_0x3633bc),'getOwnerId':_0x3633bc[_0x6edf69(0x613)][_0x6edf69(0xa38)](_0x3633bc),'getContentType':_0x3633bc[_0x6edf69(0x708)][_0x6edf69(0xa38)](_0x3633bc),'getMediaStream':_0x3633bc[_0x6edf69(0xb8b)][_0x6edf69(0xa38)](_0x3633bc),'subscribe':_0x3633bc['subscribe']['bind'](_0x3633bc),'unsubscribe':_0x3633bc[_0x6edf69(0x815)]['bind'](_0x3633bc),'getAvailableTrackKinds':_0x3633bc[_0x6edf69(0x638)]['bind'](_0x3633bc),'update':_0x3633bc[_0x6edf69(0x9da)][_0x6edf69(0xa38)](_0x3633bc),'onProviderChange':_0x3633bc[_0x6edf69(0xa50)]['bind'](_0x3633bc)}));}[_0x2aff22(0x4f3)](_0x1101bf){const _0x417574=_0x2aff22;return this[_0x417574(0x871)][_0x417574(0x4f3)](_0x1101bf)[_0x417574(0x8df)](_0x50b7dd=>({'getName':_0x50b7dd[_0x417574(0x28c)]['bind'](_0x50b7dd),'getOwnerId':_0x50b7dd['getOwnerId'][_0x417574(0xa38)](_0x50b7dd),'getContentType':_0x50b7dd[_0x417574(0x708)][_0x417574(0xa38)](_0x50b7dd),'addNode':_0x50b7dd[_0x417574(0x409)]['bind'](_0x50b7dd),'addEdge':_0x50b7dd[_0x417574(0xa31)]['bind'](_0x50b7dd),'getContent':_0x50b7dd[_0x417574(0x646)][_0x417574(0xa38)](_0x50b7dd),'remove':_0x50b7dd['remove'][_0x417574(0xa38)](_0x50b7dd),'saveToDisk':_0x50b7dd['saveToDisk'][_0x417574(0xa38)](_0x50b7dd),'loadFromDisk':_0x50b7dd[_0x417574(0x8b4)][_0x417574(0xa38)](_0x50b7dd),'close':_0x50b7dd[_0x417574(0x566)][_0x417574(0xa38)](_0x50b7dd)}));}[_0x2aff22(0xaf2)](_0x92c597){const _0x16f2dc=_0x2aff22;return this[_0x16f2dc(0x871)][_0x16f2dc(0xaf2)](_0x92c597)['map'](_0x46d731=>({'getName':_0x46d731[_0x16f2dc(0x28c)]['bind'](_0x46d731),'getOwnerId':_0x46d731[_0x16f2dc(0x613)][_0x16f2dc(0xa38)](_0x46d731),'getContentType':_0x46d731[_0x16f2dc(0x708)]['bind'](_0x46d731),'search':_0x46d731[_0x16f2dc(0xb81)][_0x16f2dc(0xa38)](_0x46d731),'insert':_0x46d731[_0x16f2dc(0x69a)][_0x16f2dc(0xa38)](_0x46d731),'remove':_0x46d731['remove'][_0x16f2dc(0xa38)](_0x46d731),'saveToDisk':_0x46d731['saveToDisk'][_0x16f2dc(0xa38)](_0x46d731),'loadFromDisk':_0x46d731[_0x16f2dc(0x8b4)]['bind'](_0x46d731),'close':_0x46d731[_0x16f2dc(0x566)]['bind'](_0x46d731)}));}[_0x2aff22(0x500)](){const _0xce766f=_0x2aff22,_0x128335=this[_0xce766f(0x871)][_0xce766f(0x500)]();switch(_0x128335[_0xce766f(0x751)]){case _0x182c91['NodeType'][_0xce766f(0x72f)]:return{'type':_0x182c91[_0xce766f(0x764)]['User'],'getId':_0x128335['getId'][_0xce766f(0xa38)](_0x128335),'getDisplayName':_0x128335[_0xce766f(0x6c8)][_0xce766f(0xa38)](_0x128335),'getEmail':_0x128335[_0xce766f(0x2b6)][_0xce766f(0xa38)](_0x128335),'getRemoteConnections':_0x128335[_0xce766f(0xa66)][_0xce766f(0xa38)](_0x128335),'setDisplayName':_0x128335[_0xce766f(0xaff)][_0xce766f(0xa38)](_0x128335),'setEmail':_0x128335[_0xce766f(0x475)][_0xce766f(0xa38)](_0x128335)};case _0x182c91['NodeType'][_0xce766f(0x2e3)]:default:return{'type':_0x182c91['NodeType'][_0xce766f(0x2e3)],'getId':_0x128335[_0xce766f(0x781)][_0xce766f(0xa38)](_0x128335),'getRemoteConnections':_0x128335[_0xce766f(0xa66)][_0xce766f(0xa38)](_0x128335)};}}[_0x2aff22(0xbb6)](_0xb0597c){const _0xabed42=_0x2aff22;return this['orchestrator'][_0xabed42(0xbb6)](_0xb0597c)[_0xabed42(0x8df)](_0x3ea473=>{const _0xa746c5=_0xabed42;switch(_0x3ea473['type']){case _0x182c91[_0xa746c5(0x764)][_0xa746c5(0x72f)]:return{'type':_0x182c91[_0xa746c5(0x764)][_0xa746c5(0x72f)],'getId':_0x3ea473[_0xa746c5(0x781)][_0xa746c5(0xa38)](_0x3ea473),'getDisplayName':_0x3ea473[_0xa746c5(0x6c8)][_0xa746c5(0xa38)](_0x3ea473),'getEmail':_0x3ea473['getEmail'][_0xa746c5(0xa38)](_0x3ea473),'getRemoteConnections':_0x3ea473['getRemoteConnections'][_0xa746c5(0xa38)](_0x3ea473)};case _0x182c91[_0xa746c5(0x764)][_0xa746c5(0x2e3)]:return{'type':_0x182c91[_0xa746c5(0x764)][_0xa746c5(0x2e3)],'getId':_0x3ea473[_0xa746c5(0x781)][_0xa746c5(0xa38)](_0x3ea473),'getRemoteConnections':_0x3ea473[_0xa746c5(0xa66)][_0xa746c5(0xa38)](_0x3ea473)};default:throw new _0x447098(_0x35722f[_0xa746c5(0x2c1)],_0xa746c5(0xa98));}});}['on']=(..._0x44e3e1)=>{const _0x4c3b3e=_0x2aff22;this[_0x4c3b3e(0x515)]['on'](..._0x44e3e1);};[_0x2aff22(0x839)]=(..._0x204da1)=>this[_0x2aff22(0x515)][_0x2aff22(0x839)](..._0x204da1);[_0x2aff22(0x1e2)](..._0x23c093){const _0x1002a2=_0x2aff22;this[_0x1002a2(0x515)][_0x1002a2(0x1e2)](..._0x23c093);}}class _0x4fa6a9{['id'];[_0x2aff22(0x499)];[_0x2aff22(0x829)];[_0x2aff22(0x751)]=_0x182c91[_0x2aff22(0x764)]['User'];[_0x2aff22(0x24b)]=new Map();['observer']=_0x29c93b();constructor(_0x4bfb4b,_0x122785,_0x309f0b){const _0xa68135=_0x2aff22;this['id']=_0x4bfb4b,this[_0xa68135(0x499)]=_0x122785,this[_0xa68135(0x829)]=_0x309f0b;}[_0x2aff22(0x781)](){return this['id'];}['getDisplayName'](){const _0x291aa4=_0x2aff22;return this[_0x291aa4(0x499)];}[_0x2aff22(0x2b6)](){const _0x49e383=_0x2aff22;return this[_0x49e383(0x829)];}['setDisplayName'](_0x7f77c6){const _0x2cbaf2=_0x2aff22;this[_0x2cbaf2(0x499)]!==_0x7f77c6&&(this[_0x2cbaf2(0x499)]=_0x7f77c6,this[_0x2cbaf2(0x257)]['publish'](this));}[_0x2aff22(0x475)](_0xac01f2){const _0x22ba1a=_0x2aff22;this[_0x22ba1a(0x829)]!==_0xac01f2&&(this['email']=_0xac01f2,this[_0x22ba1a(0x257)][_0x22ba1a(0x9cd)](this));}['registerCluster'](_0x4d5ffb,_0x6b998c){const _0x175aa6=_0x2aff22;if(this['joinedClusters'][_0x175aa6(0x938)](_0x4d5ffb))return;const _0x1f5744=this[_0x175aa6(0x257)][_0x175aa6(0x4c8)](_0x6b998c);this[_0x175aa6(0x24b)][_0x175aa6(0x25c)](_0x4d5ffb,_0x1f5744);}[_0x2aff22(0x2e4)](_0x5d5d1c){const _0x2b2aad=_0x2aff22;if(!this[_0x2b2aad(0x24b)][_0x2b2aad(0x938)](_0x5d5d1c))return;const _0x370cbe=this[_0x2b2aad(0x24b)][_0x2b2aad(0x9de)](_0x5d5d1c);_0x370cbe&&_0x370cbe(),this['joinedClusters'][_0x2b2aad(0xa6b)](_0x5d5d1c);}}class _0x358a67{['vendorId'];['user'];constructor(_0x22e9c9){this['vendorId']=_0x22e9c9;}async[_0x2aff22(0xbca)](_0x2dcd87){const _0x989810=_0x2aff22,_0x5484d6=await(0x0,_0x485eb0['httpsCallable'])(_0x4d81d6[_0x989810(0x945)](),_0x989810(0xaed))({'uid':'ccc'+this[_0x989810(0x97c)]+'ccc'+_0x2dcd87['id']}),_0x43c0b1=await(0x0,_0x4351b5[_0x989810(0x490)])(_0x4d81d6[_0x989810(0x78a)](),_0x5484d6[_0x989810(0x8e6)]['token']);this[_0x989810(0x34d)]=_0x43c0b1[_0x989810(0x34d)];}async[_0x2aff22(0x599)](){const _0x3b64a5=_0x2aff22;await(0x0,_0x4351b5[_0x3b64a5(0x599)])(_0x4d81d6[_0x3b64a5(0x78a)]());}[_0x2aff22(0xa6d)](){const _0x39cfc5=_0x2aff22;return this['user']?.['getIdToken']()??Promise[_0x39cfc5(0xad3)](_0x39cfc5(0xbe7));}}class _0x85fb56{static [_0x2aff22(0xaa7)];[_0x2aff22(0xa34)]=[];constructor(){}static[_0x2aff22(0x80c)](){const _0x2f6958=_0x2aff22;return _0x85fb56[_0x2f6958(0xaa7)]||(_0x85fb56[_0x2f6958(0xaa7)]=new _0x85fb56()),_0x85fb56[_0x2f6958(0xaa7)];}[_0x2aff22(0xab3)](){const _0x12b7bf=_0x2aff22;this[_0x12b7bf(0x379)](),this[_0x12b7bf(0xa51)](),this[_0x12b7bf(0x711)](),this['checkAudioVolume'](),this[_0x12b7bf(0xafb)](),this[_0x12b7bf(0x2f4)](),this['checkMediaRecording'](),this[_0x12b7bf(0xbe9)](),this[_0x12b7bf(0x666)](),this[_0x12b7bf(0x5c2)](),_0x11d8aa['log'](_0x23f9d6[_0x12b7bf(0x405)],_0x12b7bf(0xaf4),{'featureSupport':this[_0x12b7bf(0xa34)]});}[_0x2aff22(0x978)](_0x294d6a){const _0x5b2eda=this['featureSupport']['find'](_0x3569da=>_0x3569da['name']===_0x294d6a);return!!_0x5b2eda&&_0x5b2eda['supported'];}[_0x2aff22(0xb0c)](_0xeebb42){const _0x49ed6f=_0x2aff22;_0x11d8aa[_0x49ed6f(0x343)](_0x49ed6f(0x25b),{'nodeId':_0xeebb42[_0x49ed6f(0x781)](),'nodeType':_0xeebb42[_0x49ed6f(0x751)],'data':{'featureSupport':this[_0x49ed6f(0xa34)]}});}[_0x2aff22(0x379)](){const _0x470f03=_0x2aff22,_0x30b172=_0x37837a['WebRTC'];let _0x4380f4=!0x1;_0x470f03(0x260)==typeof RTCPeerConnection&&_0x470f03(0x260)==typeof RTCIceCandidate&&_0x470f03(0x260)==typeof RTCSessionDescription?_0x4380f4=!0x0:_0x11d8aa[_0x470f03(0x6ea)](_0x23f9d6['Support'],_0x470f03(0x724)+_0x30b172+_0x470f03(0xb38)),this[_0x470f03(0xa34)][_0x470f03(0x639)]({'name':_0x30b172,'supported':_0x4380f4});}[_0x2aff22(0xa51)](){const _0xd28490=_0x2aff22,_0x46746a=_0x37837a[_0xd28490(0x4dd)];let _0x59972b=!0x1;_0xd28490(0x260)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0xd28490(0x42c)==typeof navigator&&_0xd28490(0x42c)==typeof navigator['mediaDevices']&&_0xd28490(0x260)==typeof navigator[_0xd28490(0x3d1)][_0xd28490(0x2e9)]?_0x59972b=!0x0:_0x11d8aa[_0xd28490(0x6ea)](_0x23f9d6[_0xd28490(0x405)],_0xd28490(0x724)+_0x46746a+_0xd28490(0xb38)),this['featureSupport']['push']({'name':_0x46746a,'supported':_0x59972b});}[_0x2aff22(0x711)](){const _0x3aabb9=_0x2aff22,_0x3d15cc=_0x37837a['ScreenSharing'];let _0x3ca557=!0x1;'object'==typeof navigator&&'object'==typeof navigator[_0x3aabb9(0x3d1)]&&_0x3aabb9(0x260)==typeof navigator[_0x3aabb9(0x3d1)]['getDisplayMedia']?_0x3ca557=!0x0:_0x11d8aa[_0x3aabb9(0x6ea)](_0x23f9d6[_0x3aabb9(0x405)],_0x3aabb9(0x724)+_0x3d15cc+_0x3aabb9(0xb38)),this[_0x3aabb9(0xa34)][_0x3aabb9(0x639)]({'name':_0x3d15cc,'supported':_0x3ca557});}[_0x2aff22(0x8ac)](){const _0x46b39d=_0x2aff22,_0xf18a3d=_0x37837a[_0x46b39d(0x46c)];let _0x5ccb87=!0x1;_0x46b39d(0x260)!=typeof AudioContext||_0x46b39d(0x260)!=typeof ScriptProcessorNode&&_0x46b39d(0x260)!=typeof AudioWorkletNode||_0x46b39d(0x260)!=typeof MediaStreamAudioSourceNode?_0x11d8aa[_0x46b39d(0x6ea)](_0x23f9d6['Support'],_0x46b39d(0x724)+_0xf18a3d+_0x46b39d(0xb38)):_0x5ccb87=!0x0,this['featureSupport'][_0x46b39d(0x639)]({'name':_0xf18a3d,'supported':_0x5ccb87});}[_0x2aff22(0xafb)](){const _0x346820=_0x2aff22,_0x41b8aa=_0x37837a['DeviceConfig'];let _0x295628=!0x1;'object'==typeof navigator&&_0x346820(0x42c)==typeof navigator['mediaDevices']&&_0x346820(0x260)==typeof navigator[_0x346820(0x3d1)][_0x346820(0x52a)]&&_0x346820(0x260)==typeof MediaDeviceInfo?_0x295628=!0x0:_0x11d8aa[_0x346820(0x6ea)](_0x23f9d6[_0x346820(0x405)],'Support:\x20'+_0x41b8aa+_0x346820(0xb38)),this[_0x346820(0xa34)][_0x346820(0x639)]({'name':_0x41b8aa,'supported':_0x295628});}[_0x2aff22(0x2f4)](){const _0x59674d=_0x2aff22,_0xd5ee71=_0x37837a[_0x59674d(0x800)];let _0x517fdb=!0x1;_0x59674d(0x42c)==typeof document&&_0x59674d(0x260)==typeof document['createElement'](_0x59674d(0x4c5))['setSinkId']?_0x517fdb=!0x0:_0x11d8aa['log'](_0x23f9d6[_0x59674d(0x405)],'Support:\x20'+_0xd5ee71+_0x59674d(0xb38)),this[_0x59674d(0xa34)][_0x59674d(0x639)]({'name':_0xd5ee71,'supported':_0x517fdb});}async[_0x2aff22(0x381)](){const _0x6b9890=_0x2aff22,_0x3ac5f9=_0x37837a['Recording'];let _0x12f2c9=!0x1;try{const _0x2c919c=document['createElement'](_0x6b9890(0x872));if(MediaRecorder&&MediaSource&&_0x2c919c['captureStream']){const _0x5dd2fd=_0x2c919c[_0x6b9890(0x3f2)](),_0x21f5ee=new MediaRecorder(_0x5dd2fd);_0x21f5ee['start'](),await new Promise(_0x58e9bd=>setTimeout(_0x58e9bd,0x7d0)),_0x21f5ee[_0x6b9890(0xba4)](),_0x12f2c9='inactive'===_0x21f5ee[_0x6b9890(0x623)];}}catch(_0x2f444f){_0x11d8aa[_0x6b9890(0x6ea)](_0x23f9d6[_0x6b9890(0x405)],_0x6b9890(0x724)+_0x3ac5f9+'\x20check\x20failed',_0x2f444f);}this[_0x6b9890(0xa34)][_0x6b9890(0x639)]({'name':_0x3ac5f9,'supported':_0x12f2c9}),_0x12f2c9||_0x11d8aa[_0x6b9890(0x6ea)](_0x23f9d6['Support'],_0x6b9890(0x724)+_0x3ac5f9+_0x6b9890(0xb38));}[_0x2aff22(0xbe9)](){const _0x3dfbc8=_0x2aff22,_0x5a2550=_0x37837a[_0x3dfbc8(0x443)];let _0xed3dd1=!0x1;try{document[_0x3dfbc8(0x8d7)](_0x3dfbc8(0x872))[_0x3dfbc8(0x3f2)]&&(_0xed3dd1=!0x0);}catch(_0x39f154){_0x11d8aa['log'](_0x23f9d6[_0x3dfbc8(0x405)],'Support:\x20'+_0x5a2550+_0x3dfbc8(0x9db),_0x39f154);}this[_0x3dfbc8(0xa34)][_0x3dfbc8(0x639)]({'name':_0x5a2550,'supported':_0xed3dd1}),_0xed3dd1||_0x11d8aa[_0x3dfbc8(0x6ea)](_0x23f9d6[_0x3dfbc8(0x405)],'Support:\x20'+_0x5a2550+_0x3dfbc8(0xb38));}['checkWebGL'](){const _0x1b0557=_0x2aff22,_0x424ba2=_0x37837a[_0x1b0557(0x26b)];let _0x3e3883=!0x1;try{const _0x4ae1e1=document[_0x1b0557(0x8d7)](_0x1b0557(0x872));WebGLRenderingContext&&_0x4ae1e1[_0x1b0557(0xa92)](_0x1b0557(0xa56))&&(_0x3e3883=!0x0);}catch(_0x3004f8){_0x11d8aa['log'](_0x23f9d6[_0x1b0557(0x405)],_0x1b0557(0x724)+_0x424ba2+_0x1b0557(0x9db),_0x3004f8);}this['featureSupport'][_0x1b0557(0x639)]({'name':_0x424ba2,'supported':_0x3e3883}),_0x3e3883||_0x11d8aa[_0x1b0557(0x6ea)](_0x23f9d6['Support'],_0x1b0557(0x724)+_0x424ba2+_0x1b0557(0xb38));}[_0x2aff22(0x5c2)](){const _0x4f5e6c=_0x2aff22,_0x538d42=_0x37837a['AudioContext'];let _0x34e43b=!0x1;_0x4f5e6c(0x260)==typeof AudioContext?_0x34e43b=!0x0:_0x11d8aa[_0x4f5e6c(0x6ea)](_0x23f9d6[_0x4f5e6c(0x405)],_0x4f5e6c(0x724)+_0x538d42+_0x4f5e6c(0xb38)),this[_0x4f5e6c(0xa34)]['push']({'name':_0x538d42,'supported':_0x34e43b});}}const _0x5745c6=_0x85fb56['getInstance']();class _0x83ef95{static [_0x2aff22(0xaa7)];static [_0x2aff22(0x815)];static [_0x2aff22(0x28e)];[_0x2aff22(0x870)];[_0x2aff22(0x97c)];[_0x2aff22(0x81a)];[_0x2aff22(0x6cb)];[_0x2aff22(0x6d6)]=new Map();[_0x2aff22(0x1dc)];constructor(_0x333c52,_0x2f0cf8,_0x406ec0){const _0x1513b9=_0x2aff22;this[_0x1513b9(0x97c)]=_0x333c52,this[_0x1513b9(0x6cb)]=_0x2f0cf8,this[_0x1513b9(0x870)]=new _0x358a67(this['vendorId']),_0x5745c6[_0x1513b9(0xab3)](),this[_0x1513b9(0x81a)]={'audioContext':_0x406ec0?.[_0x1513b9(0x591)]??(_0x5745c6['isFeatureSupported'](_0x37837a['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x406ec0?.[_0x1513b9(0x882)]??0x1,'minConnections':_0x406ec0?.['minConnections']??0x3,'maxConnections':_0x406ec0?.['maxConnections']??(_0x406ec0?.[_0x1513b9(0x797)]&&0x4*_0x406ec0[_0x1513b9(0x797)])??0xc,'maxDistance':_0x406ec0?.[_0x1513b9(0xa8d)]??0xa,'maxFps':_0x406ec0?.['maxFps']??0x18,'maxBpp':_0x406ec0?.[_0x1513b9(0x60c)]??0.12,'objectStoreConnector':_0x406ec0?.[_0x1513b9(0x5b9)]??_0x17d22a[_0x1513b9(0x261)],'externalStorageConnectors':_0x406ec0?.[_0x1513b9(0x51e)],'keyValueDatabaseConnector':_0x406ec0?.[_0x1513b9(0x52e)]??_0x375b28['IDBDatabaseConnector'],'peerConnectionConnector':_0x406ec0?.['peerConnectionConnector']??_0x4fd906[_0x1513b9(0x753)],'generativeAIWorkerConnectors':_0x406ec0?.[_0x1513b9(0x5e5)],'generativeAISpeechConnectors':_0x406ec0?.['generativeAISpeechConnectors'],'vectorDatabaseConnector':_0x406ec0?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x406ec0?.[_0x1513b9(0x74a)],'documentParserConnector':_0x406ec0?.[_0x1513b9(0x372)],'fileConnector':_0x406ec0?.[_0x1513b9(0x40e)],'nlpLibraryConnector':_0x406ec0?.[_0x1513b9(0x3fc)],'searchConnector':_0x406ec0?.[_0x1513b9(0xb06)],'aiSearchConnector':_0x406ec0?.['aiSearchConnector'],'queryFileConnector':_0x406ec0?.[_0x1513b9(0x3df)],'ragConnectors':_0x406ec0?.[_0x1513b9(0x35f)]},_0x406ec0?.[_0x1513b9(0x31b)]&&this['options'][_0x1513b9(0x591)]&&_0x33cd0c[_0x1513b9(0x8da)](this[_0x1513b9(0x81a)][_0x1513b9(0x591)]),_0x11d8aa[_0x1513b9(0x87f)](this['vendorId']),_0x406ec0?.['loggingConnectors']&&_0x11d8aa['setLoggingConnectors'](_0x406ec0[_0x1513b9(0x30b)]);}static async['getInstance'](_0x196a56,_0x2c3f54,_0x2980db,_0x441bec,_0x4ec6a2){const _0x571352=_0x2aff22;this[_0x571352(0x28e)]=_0x2980db;const _0x450118=await this[_0x571352(0x4c7)](_0x196a56,_0x2c3f54,_0x4ec6a2);return _0x83ef95[_0x571352(0xaa7)]||(_0x83ef95[_0x571352(0xaa7)]=new _0x83ef95(_0x196a56,_0x450118,_0x441bec)),{'close':_0x83ef95[_0x571352(0xaa7)][_0x571352(0x566)]['bind'](_0x83ef95[_0x571352(0xaa7)]),'authenticateUser':_0x83ef95[_0x571352(0xaa7)][_0x571352(0x441)][_0x571352(0xa38)](_0x83ef95[_0x571352(0xaa7)]),'authenticateAgent':_0x83ef95['instance'][_0x571352(0x278)]['bind'](_0x83ef95['instance']),'validateKey':_0x83ef95[_0x571352(0xaa7)][_0x571352(0x6a7)][_0x571352(0xa38)](_0x83ef95[_0x571352(0xaa7)]),'joinCluster':_0x83ef95[_0x571352(0xaa7)][_0x571352(0x23c)][_0x571352(0xa38)](_0x83ef95[_0x571352(0xaa7)])};}static async[_0x2aff22(0x3ad)](){const _0x38d467=_0x2aff22;return _0x4d81d6[_0x38d467(0xbae)]();}static[_0x2aff22(0x82b)](){const _0x51ec9b=_0x2aff22;return _0x4d302b[_0x51ec9b(0x82b)];}async[_0x2aff22(0x566)](_0x40eff1){const _0x2ea5b0=_0x2aff22;this['clusters']['forEach'](_0x5d4580=>{const _0x4dda8e=a0_0x314b;_0x5d4580[_0x4dda8e(0x1e2)](),_0x5d4580[_0x4dda8e(0xa37)](_0x40eff1);}),this[_0x2ea5b0(0x6d6)][_0x2ea5b0(0x56c)](),this[_0x2ea5b0(0x81a)][_0x2ea5b0(0x591)]&&_0x33cd0c['stopNoThrottlingHack'](),_0x83ef95[_0x2ea5b0(0x815)]?.(),_0x83ef95['unsubscribe']=void 0x0,this[_0x2ea5b0(0x1dc)]=void 0x0,await this[_0x2ea5b0(0x870)]['signOut'](),_0x83ef95[_0x2ea5b0(0xaa7)]=void 0x0;}static async[_0x2aff22(0x4c7)](_0x4e4dd3,_0xdc7fd9,_0x104257){const _0x3cb848=_0x2aff22;if(!this[_0x3cb848(0x28e)])throw new _0x447098(_0x35722f[_0x3cb848(0xac5)],_0x3cb848(0x3c6));let _0x6a8073;try{_0x6a8073=await(0x0,_0x485eb0[_0x3cb848(0x607)])(_0x4d81d6['getFunctions'](),'sdkValidateAccess')({'vendorId':_0x4e4dd3,'accessToken':_0xdc7fd9,'secretKey':_0x104257});}catch(_0xaed48b){throw new _0x447098(_0x35722f[_0x3cb848(0x733)],'Invalid\x20credentials');}if(!this[_0x3cb848(0x581)](_0x6a8073[_0x3cb848(0x8e6)]))throw new _0x447098(_0x35722f['InvalidAccess'],_0x3cb848(0x3cf));const _0x31efd5=_0x6a8073['data'];return _0x31efd5[_0x3cb848(0xb74)]||(_0x31efd5[_0x3cb848(0xb74)]=[]),this['unsubscribe']||(this[_0x3cb848(0x815)]=_0x33cd0c[_0x3cb848(0xb09)](async()=>{const _0x39308a=_0x3cb848;try{const _0x28a7fd=await this[_0x39308a(0x4c7)](_0x4e4dd3,_0xdc7fd9,_0x104257);this[_0x39308a(0x28e)]===_0x182c91['NodeType']['Agent']&&(_0x28a7fd[_0x39308a(0x5dc)]=_0x28a7fd['iceServers']['filter'](_0x2504f6=>_0x2504f6[_0x39308a(0x8b5)][_0x39308a(0x606)](_0x39308a(0x8f3)))),_0x31efd5[_0x39308a(0x5dc)]=_0x28a7fd[_0x39308a(0x5dc)];}catch(_0x3bf824){}},0x1b7740)),_0x31efd5;}async[_0x2aff22(0x441)](_0x3ba595){const _0x4a1f31=_0x2aff22;if(_0x83ef95[_0x4a1f31(0x28e)]!==_0x182c91[_0x4a1f31(0x764)][_0x4a1f31(0x72f)])throw new _0x447098(_0x35722f[_0x4a1f31(0x2c1)],_0x4a1f31(0x853));await this[_0x4a1f31(0x870)][_0x4a1f31(0xbca)](_0x3ba595);const _0x30ef40=new _0x4fa6a9(_0x3ba595['id'],_0x3ba595[_0x4a1f31(0x499)],_0x3ba595[_0x4a1f31(0x829)]);return this[_0x4a1f31(0x1dc)]={'node':_0x30ef40},_0x5745c6[_0x4a1f31(0xb0c)](_0x30ef40),{'type':_0x182c91[_0x4a1f31(0x764)][_0x4a1f31(0x72f)],'getId':_0x30ef40[_0x4a1f31(0x781)][_0x4a1f31(0xa38)](_0x30ef40),'getDisplayName':_0x30ef40['getDisplayName'][_0x4a1f31(0xa38)](_0x30ef40),'getEmail':_0x30ef40[_0x4a1f31(0x2b6)][_0x4a1f31(0xa38)](_0x30ef40),'setDisplayName':_0x30ef40['setDisplayName']['bind'](_0x30ef40),'setEmail':_0x30ef40[_0x4a1f31(0x475)][_0x4a1f31(0xa38)](_0x30ef40)};}async[_0x2aff22(0x278)](_0x4e66d4){const _0x5f25a5=_0x2aff22;if(_0x83ef95['mode']!==_0x182c91[_0x5f25a5(0x764)][_0x5f25a5(0x2e3)])throw new _0x447098(_0x35722f[_0x5f25a5(0x2c1)],'Node\x20type\x20is\x20invalid');const {id:_0x464f51,groupId:_0x5db075}=_0x4e66d4,_0x1ce700=await(0x0,_0x181a71[_0x5f25a5(0x9b8)])((0x0,_0x181a71[_0x5f25a5(0x3b5)])(_0x4d81d6[_0x5f25a5(0x67b)](),_0x5f25a5(0x42d)+this[_0x5f25a5(0x97c)]+_0x5f25a5(0x954)+_0x5db075));if(!_0x1ce700['exists']())throw new _0x447098(_0x35722f[_0x5f25a5(0xa15)],'Agent\x20group\x20not\x20found');const _0xad766b=_0x1ce700[_0x5f25a5(0x8e6)]();await this[_0x5f25a5(0x870)][_0x5f25a5(0xbca)]({'id':_0x464f51});const _0x575220=new _0x37b593(_0x464f51,_0x5db075,this[_0x5f25a5(0x97c)],_0xad766b);return this[_0x5f25a5(0x1dc)]={'node':_0x575220},_0x5745c6[_0x5f25a5(0xb0c)](_0x575220),this['connectAgent'](_0x575220),{'type':_0x182c91[_0x5f25a5(0x764)]['Agent'],'getId':_0x575220['getId']['bind'](_0x575220),'onConfigurationChange':_0x575220[_0x5f25a5(0x3a2)][_0x5f25a5(0xa38)](_0x575220),'setReportCapacity':_0x575220[_0x5f25a5(0x62c)][_0x5f25a5(0xa38)](_0x575220)};}async[_0x2aff22(0x6a7)](_0xc0540e,_0x1c6e07){const _0x1775c7=_0x2aff22,_0x1d241d=await(0x0,_0x181a71[_0x1775c7(0x9b8)])((0x0,_0x181a71[_0x1775c7(0x3b5)])(_0x4d81d6[_0x1775c7(0x67b)](),_0x1775c7(0x92c)+_0xc0540e));if(!_0x1d241d['exists']()){const _0x5da5c0=atob(_0xc0540e)[_0x1775c7(0x99b)](':'),_0x55d1a0=_0x5da5c0[_0x1775c7(0x631)](),_0x1546f1=_0x5da5c0['join'](':');if(!_0x55d1a0||!_0x1546f1)throw new _0x447098(_0x35722f[_0x1775c7(0x733)],_0x1775c7(0xa39));try{return await(0x0,_0x485eb0['httpsCallable'])(_0x4d81d6[_0x1775c7(0x945)](),_0x1775c7(0x72e))({'vendorId':_0x55d1a0,'accessToken':_0x1546f1,'origin':_0x1c6e07}),_0x55d1a0;}catch(_0x25c5f6){throw new _0x447098(_0x35722f['InvalidAccess'],_0x1775c7(0x54c)+(_0x25c5f6 instanceof Error?_0x25c5f6['message']:_0x1775c7(0x9c6)));}}return _0x1d241d['data']()[_0x1775c7(0x97c)];}async['joinCluster'](_0x18df0a,_0x48b953){const _0x4bd5cf=_0x2aff22;if(!this['authContext'])throw new _0x447098(_0x35722f[_0x4bd5cf(0xa15)],_0x4bd5cf(0x433));if(this[_0x4bd5cf(0x1dc)][_0x4bd5cf(0x826)][_0x4bd5cf(0x751)]!==_0x182c91[_0x4bd5cf(0x764)][_0x4bd5cf(0x72f)])throw new _0x447098(_0x35722f[_0x4bd5cf(0x4a2)],_0x4bd5cf(0x585));if(this[_0x4bd5cf(0x6d6)][_0x4bd5cf(0x938)](_0x18df0a))throw new _0x447098(_0x35722f[_0x4bd5cf(0x3ef)],_0x4bd5cf(0x59b));const _0x5a0b1f=new _0x3217a1(this[_0x4bd5cf(0x97c)],_0x18df0a,this['authContext']['node'],this[_0x4bd5cf(0x870)],this[_0x4bd5cf(0x81a)],this[_0x4bd5cf(0x6cb)]);return!0x0!==_0x48b953&&await _0x5a0b1f[_0x4bd5cf(0x30c)](),this[_0x4bd5cf(0x335)](_0x18df0a,_0x5a0b1f),_0x11d8aa[_0x4bd5cf(0x343)](_0x4bd5cf(0x667),{'clusterId':_0x18df0a,'nodeId':this[_0x4bd5cf(0x1dc)][_0x4bd5cf(0x826)][_0x4bd5cf(0x781)](),'nodeType':this[_0x4bd5cf(0x1dc)]['node'][_0x4bd5cf(0x751)]}),{'leave':_0x5a0b1f[_0x4bd5cf(0xa37)]['bind'](_0x5a0b1f),'getLocalNode':_0x5a0b1f[_0x4bd5cf(0x500)]['bind'](_0x5a0b1f),'openPubSubTopic':_0x5a0b1f[_0x4bd5cf(0x72d)][_0x4bd5cf(0xa38)](_0x5a0b1f),'openObjectStoreBucket':_0x5a0b1f[_0x4bd5cf(0xba1)][_0x4bd5cf(0xa38)](_0x5a0b1f),'openExternalStorageConnection':_0x5a0b1f[_0x4bd5cf(0x5ac)][_0x4bd5cf(0xa38)](_0x5a0b1f),'openKeyValueDatabase':_0x5a0b1f['openKeyValueDatabase']['bind'](_0x5a0b1f),'openGenerativeAIContext':_0x5a0b1f[_0x4bd5cf(0x66a)][_0x4bd5cf(0xa38)](_0x5a0b1f),'openGenerativeAIContextStandalone':_0x5a0b1f['openGenerativeAIContextStandalone'][_0x4bd5cf(0xa38)](_0x5a0b1f),'openGenerativeAIWorker':_0x5a0b1f[_0x4bd5cf(0x822)][_0x4bd5cf(0xa38)](_0x5a0b1f),'openGraphDatabase':_0x5a0b1f[_0x4bd5cf(0xb4d)][_0x4bd5cf(0xa38)](_0x5a0b1f),'openVectorDatabase':_0x5a0b1f[_0x4bd5cf(0x87a)][_0x4bd5cf(0xa38)](_0x5a0b1f),'publishLocalMediaStream':_0x5a0b1f['publishLocalMediaStream']['bind'](_0x5a0b1f),'publishLocalDynamicMediaStream':_0x5a0b1f['publishLocalDynamicMediaStream'][_0x4bd5cf(0xa38)](_0x5a0b1f),'getPubSubTopics':_0x5a0b1f[_0x4bd5cf(0x729)]['bind'](_0x5a0b1f),'getObjectStoreBuckets':_0x5a0b1f['getObjectStoreBuckets']['bind'](_0x5a0b1f),'getExternalStorageConnections':_0x5a0b1f['getExternalStorageConnections'][_0x4bd5cf(0xa38)](_0x5a0b1f),'getKeyValueDatabases':_0x5a0b1f['getKeyValueDatabases'][_0x4bd5cf(0xa38)](_0x5a0b1f),'getGenerativeAIContexts':_0x5a0b1f[_0x4bd5cf(0x9e8)][_0x4bd5cf(0xa38)](_0x5a0b1f),'getGenerativeAIContextsStandalone':_0x5a0b1f['getGenerativeAIContextsStandalone']['bind'](_0x5a0b1f),'getGenerativeAIWorkers':_0x5a0b1f[_0x4bd5cf(0x987)][_0x4bd5cf(0xa38)](_0x5a0b1f),'getGraphDatabases':_0x5a0b1f['getGraphDatabases'][_0x4bd5cf(0xa38)](_0x5a0b1f),'getVectorDatabases':_0x5a0b1f[_0x4bd5cf(0xaf2)][_0x4bd5cf(0xa38)](_0x5a0b1f),'getLocalMediaStreams':_0x5a0b1f[_0x4bd5cf(0x21e)][_0x4bd5cf(0xa38)](_0x5a0b1f),'getRemoteMediaStreams':_0x5a0b1f[_0x4bd5cf(0xb47)]['bind'](_0x5a0b1f),'getRemoteNodes':_0x5a0b1f['getRemoteNodes'][_0x4bd5cf(0xa38)](_0x5a0b1f),'on':_0x5a0b1f['on'][_0x4bd5cf(0xa38)](_0x5a0b1f),'off':_0x5a0b1f[_0x4bd5cf(0x1e2)]['bind'](_0x5a0b1f)};}async[_0x2aff22(0xbbc)](_0x132c57){const _0x508032=_0x2aff22,_0x39899a=new _0x3217a1(this[_0x508032(0x97c)],_0x508032(0x66f),_0x132c57,this['authService'],this[_0x508032(0x81a)],this[_0x508032(0x6cb)]);await _0x39899a[_0x508032(0x30c)](),this[_0x508032(0x335)](_0x508032(0x66f),_0x39899a),_0x11d8aa[_0x508032(0x27e)]('Joined\x20cluster',_0x508032(0x66f)),await _0x39899a[_0x508032(0x822)](_0x508032(0x66f)),_0x11d8aa[_0x508032(0x27e)]('Opened\x20generative\x20AI\x20worker','crewdle');}[_0x2aff22(0x335)](_0x2494aa,_0x204536){const _0x472ef4=_0x2aff22;this['clusters'][_0x472ef4(0x25c)](_0x2494aa,_0x204536),_0x204536['on']('cluster-leave',()=>{const _0x1c9fe0=_0x472ef4;_0x204536['off'](),this[_0x1c9fe0(0x6d6)][_0x1c9fe0(0xa6b)](_0x2494aa);});}static[_0x2aff22(0x581)](_0x3b1717){const _0x45fe89=_0x2aff22;return void 0x0!==_0x3b1717[_0x45fe89(0x5dc)];}}return _0xef1b73;})())));