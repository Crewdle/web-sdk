function a0_0x2e24(_0x1e8f5c,_0x1aeee8){const _0xee818c=a0_0xee81();return a0_0x2e24=function(_0x2e24d4,_0x208f6f){_0x2e24d4=_0x2e24d4-0xac;let _0x3a3541=_0xee818c[_0x2e24d4];return _0x3a3541;},a0_0x2e24(_0x1e8f5c,_0x1aeee8);}function a0_0xee81(){const _0xb1dd27=['tokens','Outgoing','QueryBuilderInvalidArgument','encode','entities','setProviderId','getAudioVideoDelay','exists','Local\x20MediaStream\x20already\x20exists','AudioOutput','removeGraphDatabase','startNoThrottlingHack','content','LocalMediaStreamDoesNotExist','ancestors','options','object-storage-upload','Data','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','send','getKeyValueDatabase','addEventListener','Data\x20cluster\x20is\x20not\x20open.','minConnections','setConnectionType','connection','Invalid\x20credentials','iceServers','ceil','Subscription\x20request\x20does\x20not\x20exist.','Offline','isArray','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','GenerativeAILabelConflict','mistlet-capacity-report-not-set','Receiving\x20\x27','decodeJWT','CloseJobWorker','CloseGraphDatabase','authContext','pow','trackCallback','CloseObjectStoreBucket','WebRTCBrowserPeerConnectionConnector','endsWith','syncedFileExists','AudioVolume','Debug','FileMove','sampleRate','getLocalMediaStream','setOnMessageHandler','getPartsForSubscriptionLabel','removeTopic','transformations','crewdleSDKLoggingChannels','logStorage','cpu.fps','openGraphDatabase','support','displayName','CPUCycle','internalProcessJobStream','dataTopics','/resources/generative-ai-agent/items','clearWaitSuccess','JobDispatcherJobNotFound','handleSystemEvents','contentSize','GenerativeAIWorkerModelSyncError','max','Invalid\x20params','checkWebGL','searchEngineId','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Buffered\x20chunks\x20are\x20too\x20large','onDisconnect','serverTimestamp','getDatabase','getEmail','removeTrack','writeTransaction','trackEndedListeners','crewdle-sdk','PartialResult','audioDestination','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','isNeedRestart','job-dispatcher-observer-not-found','setParams','trackKinds','createPendingFileWrite','processInboundReport','setPriority','buildQuery','request-file-sync','getShareableStreamId','handleContentSubscribeMediaStream','Node\x20is\x20not\x20an\x20agent','job-','subscribedTracks','.ps1','supportsContentType','internal-sdk-error','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Stats','InvalidSubscription','getReceiverBitrate','parentId','hasRemoteNode','packetsLost','lastExecuted','relevance','filteredDestinationIds','addBidResponse','call','publishSyncCompletedAfterWrites','.pug','lastClockUpdate','Connection\x20does\x20not\x20exist','186SCfVUs','handleChunkMessage','checkMediaRecording','JobWorker:\x20Sending\x20job\x20bid','syncTimeout','removeListener','reset','systemMessages','width','subscription','count','ObjectStore\x20not\x20found','\x20failed.','external-storage-connection-does-not-exist','remote-stream-does-not-exist','bucketId','nlpLibraryConnector','remote-media-stream-already-exists','Subscription\x20request\x20has\x20not\x20been\x20answered.','debounceStats','job-dispatcher-does-not-exist','KeyValueDatabaseTransactionTableNotInitialized','reportCapacity','nodeManager','InitialPrompt','sourceId','currentDistance','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','includes','Text','workflow-does-not-exist','.sh','prompt','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','sentence-splitter','listenerUnsubscriber','candidate','answererId','setSubscriptionRequestTimeout','undefined','getTracks','ObjectStoreDoesNotExist','getWorkflowObjectStorageBuckets','.jsx','\x27\x20in\x20table\x20\x27','InternalSDKError','generative-ai-worker-already-exists','.crewdle-last-transaction','handleCloseContent','bufferedAmount','subscription-request-in-progress','clearUpgradeTimeout','isBidResponse','text/','history','connectionStateListener','cancel','results','default','senderCurrentTimestamp','number','msalGetAccessToken','Core','\x20with\x20\x27','queueLength','compileStats','detail','VectorDatabaseStats','.xml','listenUnsubscriber','sendReject','handleIceCandidates','stringify','getLastUpdated','senderTimeProcessing','Cannot\x20find\x20External\x20Storage\x20connection:\x20','Cluster\x20already\x20joined','open','getModel','google','isSubscribed','PayloadAction','problemType','GenerativeAIContextAlreadyExists','maxBitrate','graph-database-creation-failed','JobStatus','track','CloseExternalStorageConnection','String','set','missing-datachannel','.jl','destroy','file','receiverTotalMessages','appsync-statechange','time_per_frame','filter','enabled','uid','remainingTracks','.css','FolderCreate','fromEntries','state','ConnectionInvalidDataEvent','parse','out','accessToken','job-worker-already-exists','getPriority','getMilliseconds','Module','authenticateUser','Early\x20return','joinedAt','toString','links','true','external-storage-connection-already-exists','Context','feature-not-enabled','Restart\x20NeedMediaStream','url','NodeManager\x20-\x20NodeUpdate','appsync-no-destination','getAncestorIds','handleNodeSystemEvents','ObjectStoreInvalidPayload','NodeConnectionsUpdate','checkSyncComplete','Llamacpp','ObjectStoreNotInSync','NodeLeave','JobWorker:\x20Sending\x20job\x20partial\x20result','next','sendAction','retryQueues','Buffering\x20event','statsReporting','ExternalStorageNameNotString','createJob','registerPublisher','cpu.av_delay','getAudioTracks','.handlebars','KeyValueDatabaseNotOpen','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','messageUnsubscriber','KeyValueDatabaseStats','GetDate','onGatheringStateChange','Generative\x20AI\x20context\x20job\x20timeout.','handleOptimizationConnectionSuccess','closeConnection','tableName','threshold','byteLength','InvalidDataChannel','currentBatch','Invalid\x20publisher.','reportMetric','prompts','audioSource','lastProcessRank','crewdle-sdk-stg.appspot.com','deleteObject','getRemoteConnections','frameTime','NodeManager\x20-\x20ConnectionSuccess','gpu','exports','processReport','User','File','jobQueue','\x20not\x20supported','object-storage','objectStoreConnector','getGenerativeAIContexts','removeTrackCallback','created','stopTracing','Local\x20stream\x20does\x20not\x20exist.','handshakeCandidates','Stream\x20does\x20not\x20exist','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','onUnregisterPublisher','From\x20','Media','chunk-splitter','ObjectStoreStats','sync','PubSubTopic\x20not\x20found','hasTable','setEncodingParameters','GenerativeAIContext\x20stream\x20error','setLoggingConnectors','Invalid\x20table\x20name\x20\x27','RequestTransactionsValue','dataStores','deleteRemoteNode','onDataChannel','runJobQueue','addContent','bufferEvent','getFirestore','issues','handleOnMessage','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','ratePrompt','message','handshakeDebounce','ObjectStorage','cleanOldSubscription','tableLayout','NodeJoin','prototype','nextNodeId','processInboundReports','removeExternalStorageConnection','snippet','page','Disconnect','.jinja2','CrewdleSenderConnection\x20createOffer','concat','workflow','complete','Database\x20does\x20not\x20exist','jobObservers','Invalid\x20key\x20\x27','failed','accumulateResult','calculateArrayBufferSize','DataStream\x20send','RequestFile','data-stream','resume','ref','senderConnection','subscriptions','KeyValueDatabaseNameNotString','internalProcessJob','Failed\x20to\x20get\x20file','Node\x20not\x20authenticated','.rkt','Received\x20event\x20on\x20cluster','Bitrate','handleDisconnect','insert','threadId','isWhereValues','initializeLoggingDatabase','dataBucketIds','outbound-rtp','Queued','GenerativeAIEngineType','.conf','buffer','web-scraper','sendWithRetry','Logging\x20database\x20not\x20initialized','connectAgent','handleNodeDisconnect','jobId','toStringTag','commitType','incomingManager','validateValue','destination','sort','then','Invalid\x20peer\x20connection\x20event\x20destination.','registerSubscriber','configure','evaluateBids','uuid','discoveryService','generative-ai-context-job-failed','pool','RemoteMediaStreamDoesNotExist','operator','Disconnected','restartTimeout','DTVolatility','unregisterSystemSource','removeItem','subscribeToLocalContent','Number','Sending\x20\x27','contentMediator','getContent','doc','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','getBid','MediaStreamUnavailable','node-type-not-supported','disconnectCallback','localId','Key-value\x20database\x20table\x20does\x20not\x20exist.','EntityExtractor','senderPreviousBytes','keyValueDatabases','modelId','createSubscription','registerSource','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','retryLimit','appsync-close','orderBy','Generative\x20AI\x20context\x20creation\x20failed.','removeSubscriptionsForNode','OptimizationConnectionSuccess','result','resetConnection','topic','findNextNodeId','createBatchOperation','maxBpp','generative-ai-context-job-missing-thread-id','objectStores','sdk-internal-error:\x20','listenerUnsubscribers','Default','connection-not-connected','updateLastTransactionId','firebase-connect','getBitrate','writeBatch','Method\x20not\x20implemented.','\x27\x20reserved','key-value-database-creation-failed','supported','lastCapacityReport','callback','notifyObjectStoreOfNodeLeave','TestPage','setInternalId','agent-join','Cannot\x20unpublish\x20object:\x20','Consuming\x20buffered\x20event','object','setReceiverTimestamp','getSenderBitrate','connectionState','shift','assign','file-write','shouldProcessTransaction','applyRemediation','region','gain','outgoingStreams','job-dispatcher-job-not-found','maxResolution','boolean','outgoingManager','externalStorageConnectors','PubSubTopicDoesNotExist','.cfg','Cannot\x20unpublish\x20object\x20at\x20','Job\x20','subscribeToJobs','groupId','peerConnectionConnector','vector-database-missing-connector','getPartsFromSubscription','processJob','transactionIds','processLocalReport','logs','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','GenerativeAIContextDoesNotExist','aws','node-already-exist','frameHeight','attributes','checkBackgrounds','KeyValueDatabaseInvalidValue','evaluateBidsAndAttributeJob','\x0aAdditional\x20Context:\x20','JobWorker:\x20Sending\x20job\x20reject','.ex','external-storage-name-not-string','download','clearRestartTimeout','NeedRestart','total','KeyValueDatabaseInvalidQuery','Query\x20is\x20required','setupStatsReporting','fileSendingMap','Store\x20already\x20exists','remoteConnections','join','key-value-database-invalid-layout','retryCallback','available','clearSubscriptionRequestTimeout','eventTarget','sendTransactionsValue','messages','Downgrade','write','setPendingFileSyncingPayload','collectReceiversStats','publish','CloseJobDispatcher','getMediaStream','sendChunked','previous','updateUser','pendingHandshakeCandidates','getDocs','remove','dataChannel','random','getConnection','function','sendFileRequestPayload','vectors','clear','generative-ai-context-already-exists','ner','.ts','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','\x20does\x20not\x20exists','/nodes/','nodes','incrementVersion','sendStats','payloadType','WorkflowTrace','clearHeartbeat','splice','leave','key-value-database-invalid-value','evaluateProccessedJob','notifyClusterNodeJoin','messagesSent','subscribeToExternalContent','processPendingHandshakeCandidates','RemoteMediaStreamInvalidSubscriptionParams','setReceiverBytes','removeJobWorker','JobWorker:\x20Received\x20job\x20attribution','logPropagateSystemEvent','setupConnectionEvents','registerDestination','findIndex','upgradeTimeout','localNode','job-dispatcher-creation-failed','registeredListeners','mute','/transactions/','createConstantSource','handleSubscriptionSubscribeMediaStream','ObjectStoreAlreadyExists','image','getAuth','observer','origin','Cannot\x20publish\x20move\x20operation:\x20','invalid-data-chanel','subscription-request-no-answer','GenerativeAIModelInputType','generative-ai-worker-creation-failed','downgrade','messagesReceived','addRemoteConnection','currentTimestamp','action','buildTableEvent','processRank','sourceUrl','Processing','incomingTopic','Remediation','Table\x20not\x20found','CannotProvideMediaStream','key-value-database-does-not-exist','getGraphDatabases','docs','updatePropagationProperties','Invalid\x20version\x20\x27','handleSubscriptionRestartNeedMediaStream','processSenderReport','getResolutionScale','crewdle-sdk.appspot.com','chunk','getInternalStreamId','Transaction','externalStorages','.py','engineType','authNode','.vbs','handleHandshake','openPubSubTopic','Graph\x20database\x20creation\x20failed.','getPubSubTopics','subscriptionRequestTimeouts','JobType','Waiting','Job\x20Dispatcher\x20already\x20exists','bufferedEvents','configs','JobDispatcherInvalidJobType','174424nlgegc','setTransformations','parseWorkflowDocument','listChanges','\x20finalized.','CONNECTION_STATE_CHANGE','removePubSubTopic','bytesSent','Invalid\x20query','getOwnerId','MediaStreamPriority','removeOutgoingSubscription','minRelevance','TimePerFrame','onTrack','logEvent','getJobObservable','removeObjectStore','collectSendersStats','agent-update','delete','addCluster','generative-ai-label-conflict','discover','bufferedChunks','chunks','skill','commitTrace','ClusterAlreadyJoined','search','isMediaDestination','setOnDisconnectHandler','messageType','Local\x20node\x20rank\x20is\x20not\x20set','getQuery','SystemStats','\x20with\x20response:','code','Model','\x20does\x20not\x20support\x20content\x20type\x20','internalRatePrompt','createReceiverConnection','collection','Request','Index','notifyJoin','maps','GenerativeAIContextJobFailed','hasTracks','generativeAIWorkers','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','key-value-database-table-not-found','handleFileRequest','FolderMove','All','Invalid\x20subscriber.','node-does-not-exist','Additional\x20context:\x0a','KeyValueDatabaseAlreadyExists','createConnection','Valid\x20layout','removeJobDispatcher','CloseMediaStream','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','name','RequestFileSync','joinCluster','Job\x20service\x20observer\x20not\x20found.','AudioContext','removeRemoteMediaStream','bandwidth.bitrate','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','WebRTC','Connection','contentManager','unshift','play','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','some','handleNodeJoin','engine','manageAncestor','\x27\x20payload:','key-value-database-already-exists','onloadeddata','createSenderConnection','KeyValueDatabaseCreationFailed','NeedMediaStream','addEdge','GenerativeAIContextJobTimeout','checkScreenSharing','receiverStreams','clusters','firebaseUnsubscriber','getCapacityReport','RemoteMediaStreamAlreadyExists','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','getNumberOutgoingSubscriptions','bid','discoveryUnsubscriber','generative-ai-context-job-timeout','pendingFilesTransactions','openedTraces','Relation','searchOnGoogle','FeatureNotEnabled','GetContextResult','setInterval','publishLocalMediaStream','defineProperty','maxFps','InvalidSubscriber','receiverCurrentTimestamp','addAudioTrack','server','captureStream','framerate','Operations:','setVendorId','onHandshakeStateChange','connectionManager','missing-incoming-connection','Events','getRemoteMediaStream','getObjectStoreBuckets','generativeAIContexts','frames','ExternalStorageConnection\x20not\x20found','framesEncoded','Received\x20track','setEmail','Entity','remediation','job-dispatcher-job-exists','where','graphql','VectorDatabaseDoesNotExist','Agent\x20output\x20is\x20not\x20a\x20string','slice','evaluatePartialJob','Error','targetId','addVideoTrack','video','overlap','LocalMediaStreamAlreadyExists','WordSplitter','reranker','processRemoteInboundReport','Jitter','createGain','connector','capacityReporter','minThreshold','totalDecodeTime','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','availableTrackKinds','counter','vectorDatabases','LocalMediaStreamTrackFail','getBuffer','Medium','processPendingSyncTransactions','clearSyncTimeout','handleSubscriptionMediaStreamUnavailable','senderTotalMessages','Receiver','commitBatch','FetchUrl','canChooseAnswer','debugEnabled','events','isWhereBetween','messageCallback','FileDelete','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','Object\x20store\x20not\x20synced.','retryCount','authService','getVideoTracks','updateJob','previousTimestamp','Accepted','High','pub-sub-topic-already-subscribed','detectAudioIssues','version','min','sdkCreateToken','getProviderId','JobDispatcherDoesNotExist','RemoteRemove','handleSubscriptionNeedMediaStream','RemoteAdd','output','dispatchEvent','logBatch','detection','source','SubscriptionRequestNoAnswer','pubSubTopics','Everyone\x20','ExternalStorageStats','.java','lastTransactionId','handleNoAnswer','httpsCallable','openTrace','handleLocalTrackFailure','removeRemoteNode','Content','Signaling','UpdateMediaStream','publishTransaction','.ipynb','Sender\x20connection\x20is\x20not\x20initialized.','.j2','between','removeNode','getEnabledChannels','checkAudioVolume','processTransactionsDump','statsReport','get','Connection\x20not\x20initialized.','connected','connections','JobQueueService:\x20Error\x20running\x20job','batchQueue','reduce','remoteMediaStreams','task','Error\x20fetching\x20URL','replaceTrack','handleContentUnpublishMediaStream','subscriptionRequestsQueue','isInternalLoggingConnector','Error\x20processing\x20retrieve','getRemoteNodes','Pending','Add','VectorDatabase','removeTrackListeners','All\x20recipients\x20already\x20received','completed','Support','openGenerativeAIWorker','forEach','Backgrounds','listener','JobWorkerInvalidType','removeContent','connectionConstructor','Failed\x20to\x20commit\x20batch\x20after\x20retries:','receiver','getLabel','setupListeners','getSettings','minResolutionScale','User\x20not\x20signed\x20in','FileWrite','Failed','collectStats','Search\x20in\x20data\x20collection\x20','key-value-database-table-name-reserved','createGraphDatabase','\x20received\x20result:','addMessage','publishMove','systemTopic','keyValueDatabaseConnector','agent-config-changed','handleDetectionSystemEvents','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','syncResolve','content-unpublish-media','RemoteRemediation','firebase-disconnect','WebScraper','generative-ai-context-does-not-exist','answerJoin','openJobWorker','createTopic','handleMissingSenders','VectorDatabaseAlreadyExists','update','getLayout','runTransaction','maxThreshold','packets','InvalidAccess','key','Remove','RequestFileWrite','handleRemoteTrackFailure','\x27\x20to\x20','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','all','ownerId','Upgrade','openGenerativeAIContext','createAnswer','remoteNodes','AITrace','requestSubscriptionAction','/capacities','authenticateAgent','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','Retrieve','DataChannel\x20is\x20not\x20open.','object-store-not-synced','\x20to\x20send\x20dispatcherJob\x20','handlePeerConnectionSystemEvents','getInstance','Online','unregisterRemoteNode','enumerateDevices','onBufferedAmountLow','isIceCandidate','searchConnector','Restart','unregisterDestination','errorDetails','addDoc','getMaxDistance','external-storage-invalid-path','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','jobWorkers','manageOptimization','inputTokens','.bat','SHA-256','hasBufferedData','ObjectStoreCannotWriteTransaction','fps','jitter','handshakeState','getExternalStorageConnections','remoteUnsubscriber','checkAudioOutput','DataCollection','sourceVideo','join-cluster','MediaStream','Optimization','limit','key-value-database','PubSubTopicAlreadySubscribed','orchestrator-close','key-value-database-invalid-query','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','remote-inbound-rtp','size','system','Could\x20not\x20open\x20trace','totalEncodeTime','JobDispatcherJobExists','MissingSystemTopic','moveObject','orchestrator','Emitting\x20event\x20on\x20local\x20cluster','Success','chunksReceived','checkAudioContext','createNewBatch','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','processOutboundReport','senderBitrate','timeoutValue','app','connection-invalid-data-event','processList','createBatch','ConnectionBufferNotEmpty','jobType','subscribe','getRemoteMediaStreams','DocumentParser','startTracing','2-digit','getCoresFromCapacityReport','\x20failed.\x20Retrying...','Cannot\x20write\x20transaction.','21a9d78dee97f487b','ingestBlocks','getHash','object-store-invalid-path','getWorkflowModels','syncTransactions','contentType','transactionTable','description','SubscriptionRequestInProgress','No\x20connections\x20available\x20to\x20send\x20message','unsubscribeTrackEndedListener','GenerativeAIContextStats','reads','not-resolved','Time','SubscriptionRequestDoesNotExist','getGenerativeAIWorkers','getSize','setRemoteNode','handleUnpublishMediaStream','sender','sendFile','supports','closeTopic','appsync-disconnect','trace','Model\x20not\x20found:\x20','agentConfig','43515BdnroL','getMinConnections','VectorDatabaseMissingConnector','/resources/generative-ai-model/items','Invalid\x20node\x20type','KeyValueDatabaseDoesNotExist','loop','catch','rate','IntermediateOutput','chosenAnswers','entity','sendRequest','UnpublishMediaStream','Syncing','active','KeyValueDatabase','Recording','Sender','load','\x20already\x20exists','GenerativeAIWorkerMissingConnector','.crewdle-transactions','Cannot\x20list\x20directory:\x20','responseTimeout','clientStream','FPS','No\x20global\x20object\x20found','setSenderTimestamp','RequestAccepted','appsync-connect','isReconnecting','element','GenerativeAIContextJobMissingThreadId','crewdle-sdk-stg','offset','createJobDispatcher','subscription-request-does-not-exist','asObservable','StreamReport','desc','addPendingHandshakeCandidate','internalDownloadDocument','RoundTripTime','handleNeedRestart','Rating','retryQueue','getLocalNode','updateLastUpdated','unregisterCluster','disconnected','subscriptionRequests','logLevel','logConnectionState','.dart','success','processDataChannelReport','getEngineType','durationTime','getShareableStream','getJobs','remediations','canvas','loggingConnectors','SystemTopic\x20publish','cost','webgl','objectStoreId','DataChannel\x20is\x20not\x20initialized.','retryDelay','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','UnsubscribeMediaStream','remote-media-stream-invalid-subscription-params','isAvailable','rating','external-storage-connectors-missing','WorkflowDoesNotExist','ConnectionNoRetryQueue','add','getOutgoingOptimizationConnections','onConnectionStateChange','bitrate','Jobs','processReports','heartbeatUnsubscriber','handleAnswer','ObjectStoreInvalidPath','log','GenerativeAIModelOutputType','validateAccess','word-splitter','AudioVideoDelay','everyone','cpu.cycle','createMediaStreamSource','modelName','.pl','OutgoingSubscription','getMaxConnections','signOut','ObjectStoreAlreadySubscribed','queries','searchApiKey','connection-state','getJobDispatchers','receiverUnsubscribers','Invalid\x20object\x20store\x20state.','features','Job\x20Dispatcher\x20does\x20not\x20exist','FileStatus','Rejected','receiverConnection','msalRefreshToken','clusterId','media-stream','isPartialResultResponse','isFeatureSupported','problem','Problem','setRemoteConnections','removeVectorDatabase','split','Job','Pool','createOffer','invalid-subscriber','maxDistance','clearRect','Get','onremovetrack','amd','from','resizeHandler','MistletCapacityReportNotSet','bandwidth.jitter','packetsReceived','string','chooseAnswer','registerSystemPublisher','getReport','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','commitLevel','floor','contentRect','manageBufferedChunks','layout','waitSendBuffer','Error\x20writing\x20chunk\x20to\x20stream','PromptFunctionParamsType','onChildRemoved','Page\x20is\x20required','calculateSize','tableObserver','transactionsToSync','cluster-already-joined','mediaUnsubscribers','senderStreams','GraphDatabase','::ï¿¿','head','getEntities','\x20not\x20found.','previousFrames','ConnectionNotinitialized','object-store-invalid-sync-message','pop','Logging\x20trace','height','startIndex','peer-connection','RelationExtractor','closeTrace','maxConnections','ConnectionState','NodeType','renderElement','closeSubscription','temperature','tables','node-invalid-type','publishNodeJoin','vectorDatabaseConnector','api','NodeDoesNotExist','mediaStream','DataChannel\x20buffer\x20is\x20full.','sendIceCandidates','deleteFileChunks','\x20received\x20responses:','abs','getObjectStoreBucket','vector','mediaDevices','.mustache','outputType','decode','statsManager','skipEncryption','topicLabel','instructions','Generative\x20AI\x20context\x20job\x20failed.','Attribution','isSync','Receiver\x20connection\x20is\x20not\x20initialized.','Database\x20already\x20exists','generative-ai-worker-model-sync-error','Error\x20encountered\x20while\x20opening\x20database','arrayBuffer','createKeyValueDatabase','Subscription\x20request\x20failed.','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','crewdle-sdk-logging-','successNotified','getExternalStorageConnection','workflow-invalid-block-type','onConfigurationChange','generative-ai','initializeSystemTopic','createLocalMediaStream','query-helper-invalid-argument','https://crewdle-sdk-default-rtdb.firebaseio.com','invalid-publisher','unregisterSubscriber','FolderDelete','frameWidth','Missing\x20owner\x20node\x20or\x20rank','unsubscribeListener','clearWaitAnswer','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','getConnectionGroup','GenerativeAIContextJobAlreadyConsumed','getInternalTrackParams','handleFileSync','isEqual','publishUserUpdate','dbKey','functionsRegion','remediationManager','JobWorker:\x20Handling\x20job\x20attribution','context','unregisterPublisher','ended','instance','loggingDatabaseConnector','setRank','\x20attempts:','ContentType','inputType','codes','420235181083','mediator','PubSubTopic\x20onMessage','getSubscriptionLabel','Handshake','syncKeyValueDatabase','setupStatsCollection','objectStorageBuckets','firebaseConfig','DataStream\x20onMessage','vector-database-already-exists','Cluster','getNextTargetRank','hasOwnProperty','mediaTopics','setDurationTime','cluster','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Object\x20store\x20is\x20not\x20in\x20sync','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','warn','suspended','stop','loadExternalContent','Vector\x20database\x20creation\x20failed.','hasMessage','index','streams','/objectstores/','padStart','generative-ai-context-invalid-partial-result','Invalid\x20value.\x20Property\x20\x27','GraphDatabaseDoesNotExist','graphDatabases','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','Mistlet\x20capacity\x20report\x20not\x20set.','getModels','ScreenSharing','nodesConnected','consumeBufferedEvents','getTrack','getTransactions','providerId','Chosen\x20answer','logging-db-','trackListeners','getSupportedContentTypes','documentParserConnector','updateDebounceTimeout','length','loggingDb','handleSubscriptionProvideMediaStream','batch','ObjectStorageUpload','.txt','currentFrames','path','currentBytes','distance','removeIncomingSubscription','Partial','KeyValueDatabaseTableNotFound','GenerativeAIContextCreationFailed','relation','audio','RemoteConnectionExists','storage','removeRemoteConnection','Prompt','PeerConnection','isMediaSource','ExternalStorage','isInternalSDKConfigs','list','KeyValueDatabaseTableNameReserved','compareTransactions','GraphSearch','race','addProblem','547592WPzmAr','local-media-stream-track-fail','Model\x20store\x20not\x20initialized','notifyObjectStoreOfNodeJoin','PubSub\x20already\x20exists','ExecuteCode','processTransactionPayload','GetContextQuery','timeReceiving','fileChunks','getSubscribedTracks','childRemovedUnsubscriber','notifyCluster','crewdleSDKDisableLogging','isValidMediaSubscriptionParams','status','Error\x20reading\x20file\x20chunk\x20after\x20','Orchestrator\x20handleSystemEvents','completeSync','object-store-not-in-sync','checksum','clientHeight','token','setStatus','handleOffer','/transactions','Invalid\x20data\x20event.','createExternalStorageConnection','graph-database-missing-connector','internalId','subtle','getFunctions','waitSuccess','\x20received\x20partial\x20result:','checkExistingPendingFileContent','AI\x20Worker\x20already\x20exists','VectorSearch','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Move','failJob','request-file','openKeyValueDatabase','Connection\x20does\x20not\x20exist.','Key-value\x20database\x20transaction\x20value\x20not\x20set.','restartHandshake','remoteId','publishLocalDynamicMediaStream','dataUnsubscribers','providerListener','getClosestNodes','/resources/agent/items/','messageBuffer','removeConnection','isJobRequest','nodeId','/developers/','Channel\x20\x27','sendTransactionsDump','entries','startBidResponseHandling','getTableConnector','resolve','Bid','Warning','unsubscribe','shouldContinuePropagation','\x20deleted.','JobWorkerCreationFailed','getCurrentVersion','lastUpdated','URL\x20is\x20required','handleObjectMove','remote-stream-missing-provider-id','externalStores','audioContext','systemTopicUnsubscribe','publishSyncCompleted','database','knowledge','splitParts','Support:\x20','ModelVector','retrieveBlocks','framesDecoded','connectionType','Workflow','resolutionScale','handleSubscriptionSystemEvents','localMediaStreams','messageListeners','stopConnection','keyPath','setUpgradeTimeout','email','Code','getSenderTotalBytes','checkWebRTC','Workflow\x20not\x20initialized','PromptRating','SubscriptionRequestFailed','joinedClusters','openExternalStorageConnection','label','bytesReceived','vector-database','rtt','digest','isFailedResponse','Remote\x20connection\x20already\x20exists.','signInWithCredential','Detection','writeFile','senderPreviousTimestamp','oncloseTimeout','getDTVolatility','streamLabel','SearchGoogle','JobDispatcherCreationFailed','handleContentUpdateMediaStream','Invalid\x20where\x20clause','Retrieve\x20relevant\x20context\x20from\x20a\x20web\x20search\x20query\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','off','tracks','handleNodeJoinNeedPublishedStream','pathName','removeEventListener','unregisterSystemPublisher','job-worker-creation-failed','NodeManager\x20-\x20PublishNodeLeave','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','thread-','NodeNotAuthenticated','Low','Job\x20worker\x20creation\x20failed.','handleSubscriptionUnsubscribeMediaStream','toLowerCase','Update','toLocaleString','ObjectStoreNotSynced','getBufferedAmount','key-value-database-not-open','createFolder','Issue\x20detected:\x20','asc','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Ingest','external-storage','publishNodeLeave','taskType','ModelText','CloseVectorDatabase','Rejected\x20answer','currentVersion','Audio','handleContentCloseMediaStream','getTable','getName','pub-sub-topic-already-exists','STVolatility','lastRemediations','logSupport','handleError','getLocalId','LoadKnowledgeFunction','addIssue','\x0aAdditional\x20data:\x20','mergeParts','Agent\x20block\x20is\x20missing\x20required\x20data','GraphDatabaseNameNotString','trim','isSyncing','isProduction','createOutgoingSubscription','PubSubTopicNameNotString','ObjectStoreInvalidState','getDataCollections','stats','startTime','DeviceConfig','receivers','receiverPreviousTimestamp','.swift','/resources/generative-ai-workflow/items/','cpu.time_per_frame','sdkValidateAccess','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','.md','appsync-connect-fail','handleSuccess','detectProblems','getConnections','addRemoteNode','isConnected','GenerativeAIWorkerCreationFailed','limitToFirst','maxOutgoingSubscriptions','pub-sub-topic-name-not-string','Writable\x20stream\x20is\x20missing','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','loadEnabledChannels','developers/','observe','getTotalBytes','receiverBitrate','JobDispatcherAlreadyExists','traceLevel','GenerativeAIWorkerStats','request-accepted','queues','ranges','.awk','closed','Knowledge','batchSize','DEBUG\x20-\x20','local-media-stream-already-exists','getConnectionDestinations','Database\x20not\x20open','handleOutgoingSystemEvents','.clj','PubSubTopicStats','processOutboundReports','client','Hub','setDisplayName','unregisterSource','graph-database-already-exists','Early\x20return:\x20','.erl','transactions','InvalidPublisher','downloadDocument','invalid-access','getCurrentMaxLayer','Subscription','Job\x20service\x20creation\x20failed.','gatheringState','pubsub','/resources/external-storage/items/','answer','IDBDatabaseConnector','syncContent','RemoteMediaStreamMissingProviderId','unregisterPublisherListener','clusterKey','addBatchOperation','Invalid\x20job\x20service\x20payload.','getTransactionFromTableWriteEvent','document-parser','instantiateTransactionTable','publishFolder','isOpened','eventEmitter','handleRequestPayload','recipients','handleFolderCreate','AI\x20Service\x20already\x20exists','createGenerativeAIWorker','start','connect','Error\x20searching','rank','agentId','JobContext','title','ObjectStoreInvalidSyncMessage','connectionGroup','Info','pendingFilesRename','auth','getSimilarity','signaling','syncPendingFiles','Skill','.tcl','parseWorkflowBlocks','FramePerSecond','canProvideResolution','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','autoplay','Connection\x20not\x20connected.','keys','scheduleTime','handleContentUnsubscribeMediaStream','disconnect','getMediaSubscription','Job\x20with\x20id\x20','setupRenderElement','isWhereValue','outgoingTopic','table','Apply\x20remediation','PubSub','FinalOutput','registerCluster','Unexpected\x20output\x20type','updated','connectorConstructor','Workflow\x20does\x20not\x20exist.','.Total\x20pages\x20available:\x20','Model\x20not\x20found','RequestSyncKeyValueDatabase','endpoint','jobPhase','isRunning','deleteTransactionsForTable','test-page','ExternalStorageConnectionDoesNotExist','getId','GraphDatabaseMissingConnector','verb','close','modelStore','Error\x20executing\x20code','connecting','models','getAgents','createAIJob','text/plain','statsCollection','Missing\x20external\x20storage\x20connector','Internal\x20SDK\x20error:\x20','\x27\x20in\x20layout','retry','registerSystemSource','.jinja','generative-ai-context-job-already-consumed','Code\x20is\x20required','lastHeartbeat','onDisconnectHandler','bind','getOrResetPendingFileTimeout','writes','generative-ai-context-creation-failed','debug','query','createGenerativeAIContext','pubsubTopics','WorkflowInvalidBlockType','\x27:\x20missing\x20or\x20invalid\x20keyPath','KeyValueDatabaseInvalidLayout','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','transactionService','Unsupported\x20job\x20type','GraphDatabase\x20not\x20found','ConnectionGroup','AudioContext\x20is\x20not\x20available','.hs','publishSystemMessage','syncFolder','PeerConnectionInvalidDestination','getJob','enabledChannels','PublishMediaStream','isPromiseResolved','Resolution','generative-ai-worker-missing-connector','waitAnswer','JobStream','getDisplayName','removeRemoteStreamSubscription','GenerativeAIContextInvalidPartialResult','indexOf','roundTripTime','Cannot\x20publish\x20folder:\x20','object-store-cannot-write-transaction','\x20already\x20exists.','ccc','accumulated','topics','PubSubTopicAlreadyExists','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','VectorDatabaseNameNotString','secheduleTime','functions','absolutePathName','answers','propagate','generativeAIWorkerConnectors','IngestTrace','kind','Cannot\x20publish\x20file:\x20','cluster-leave','GenerativeAIContext','stopNoThrottlingHack','checkDeviceConfig','ExternalStorageUpload','JobDispatcherObserverNotFound','setOnTableWriteHandler','GraphDatabaseCreationFailed','getSubscriptionInfo','createWritableStream','.info/connected','getPacketsLostPerc','loadLocalContent','createIncomingSubscription','CloseKeyValueDatabase','createBuffer','channel','createPubSubTopic','connection-buffer-not-empty','Missing\x20answerer\x20id\x20on\x20request\x20answer','Failed\x20to\x20send\x20job\x20','values','getAncestors','interval','publishFile','payload','maxLayer','.ini','jobBids','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','0.7.1','syncTransactionsWritten','GraphDatabaseStats','logRaw','startsWith','findNewMediaSubscription','System','graph-database-does-not-exist','newPath','Completed','round','DataStream','.html','queryOrPrompt','removeKeyValueDatabase','openJobDispatcher','processServiceReport','graphService','0.7.1.0','receiverPreviousBytes','clearConnectionTimeout','createObjectStoreBucket','timeoutCallback','Missing\x20vector\x20database\x20connector','objectToArrayBuffer','getRoundTripTime','Invalid\x20subscription.','getItem','has','List','waitConnected','vendorId','type','handlePublishMediaStream','NodeUpdate','initialize','handleNodeLeave','getLocalMediaStreams',':\x20Object\x20store\x20is\x20not\x20in\x20sync','resolution','G-F7W8KXRKQB','getDistance','.js','createDataChannel','ObjectStore','previousBytes','substring','setScheduleTime','requestSubscription','openObjectStoreBucket','getIdToken','Node\x20already\x20exists.','Unknown\x20skill\x20type','committed','senders','pendingSyncTransactions','OutgoingMediaStreamNoTopic','versions','updateDebounce','logServiceEvent','text','getDoc','Connected','Internal\x20unknown\x20error:\x20','WebGL','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','Search','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','getRemoteNode','fetchContentFromUrl','792772YXaTEf','sendBid','internal','setLocalRank','handleContentSystemEvents','GenerativeAIRatingStatus','move','request-file-write','not-in','agent','setCurrentVersion','LocalMediaStreamNoAudioContext','createRemoteNode','handleUnsubscribeMediaStream','JobWorker:\x20Received\x20job','us-east-1','.ejs','inactive','Search\x20connector\x20not\x20found','match','videoWidth','debounceProcessRank','signInWithCustomToken','getStatus','stream','onMessage','Incoming','processReceiverReport','every','getAvailableTrackKinds','getJobWorkers','setBytes','Reranker\x20block\x20is\x20missing\x20required\x20data','waitForArrayBufferSize','subscriptionManager','517112SGtQUa','getGraphDatabase','content-publish-media','graphDatabaseConnector','direction','streamId','timestamp','detectVideoIssues','vector-database-creation-failed','getPubSubTopic','receiverCurrentBytes','replace','KeyValueDatabaseTransactionValueNotSet','OPFSObjectStoreConnector','value','params','priority','object-store-invalid-payload','setupTrackEndedListeners','No\x20answer\x20block\x20found','generateClient','onClose','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','getVectorDatabases','getUserMedia','job-dispatcher-already-exists','Error\x20closing\x20trace','signalingServer','getApp','DatabaseEvent','data','JobWorkerAlreadyExists','getTrackFromParam','clientWidth','tail','Invalid\x20object\x20store\x20sync\x20message.','addConnection','eventListener','LocalReport','application/octet-stream','handleUpdateMediaStream','JobWorkerDoesNotExist','getResolution','now','getConnectionType','993882ALIulP','Cannot\x20get\x20file:\x20','wait','MissingRemoteConnection','send\x20error\x20on\x20','batchTimeout','Node','connectionTimeout','clusterEventEmitter','addNode','validateLayout','JobDispatcherInvalidPayload','SentenceSplitter','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','LoadSkillFunction','Vector','Amplify','end','JobWorker:\x20Sending\x20job\x20result','.erb','removeLocalMediaStream','1339779HOlpqI','ChunkSplitter','ObjectKind','addReservedTables','objectRequests','clockSkew','CREWDLE_WEB_SDK','processJobStream','detectionManager','Error\x20opening\x20trace','Reranker','jobDispatchers','emit','addTrack','ExternalStorageConnectionAlreadyExists','globalObject','onRemoveTrack','featureSupport','setupResizeHandler','Result','component','/resources/generative-ai-collection/items','PubSubTopic\x20publish','firestore','addCandidate','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','setTimestamp','processBatch','getWorkflowExternalStorageConnections','setTimeout','Internal\x20error:\x20','maxTokens','deletePendingFile','handleRemediationSystemEvents','handleFileRequestAnswer','timePerFrame','Agent','ConnectionNotConnected','unsubscribeHandler','\x20-\x20','Synced','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Folder','checkMediaStream','propn','warning','systemMessagesReceived','.twig','ObjectStoreNameNotString','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','onProviderChange','AppSync\x20publish','error','.rs','.tsx','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','user','indexes','SendTransactionsDump','key-value-database-index-not-found','getSentences','notifyClusterNodeUpdate','ObjectStorageBucket','maxFramerate','blockId','handleFileWrite','openVectorDatabase','CanProvideMediaStream','.groovy','Invalid\x20data\x20channel.','\x20check\x20failed','local-media-stream-no-audio-context','getDataBucketIds','createRemoteMediaStream','.hbs','jobs','Invalid\x20workflow\x20block\x20type.','removeSubscription','Agent\x20group\x20not\x20found','feedback','detectLocalIssues','.liquid','senderCurrentBytes','sequence','VectorDatabaseCreationFailed','handleObjectDelete','isOffer','ExternalStorageConnectionAlreadySubscribed','Answer','RestartNeedMediaStream','Invalid\x20job\x20worker\x20type.','handleTransactionPayload','connectionPool','SubscribeMediaStream','Error\x20retrieving\x20context','NodeInvalidType','unpublish','Send\x20request','getRemoteId','estimatedPlayoutTimestamp','createLocalDynamicMediaStream','model','MediaStream\x20feature\x20not\x20enabled','documentPath','getContentType','map','.djt','KeyValueDatabase\x20not\x20found','receiverTimeProcessing','detectStreamIssues','getEstimatedTimestamp','Invalid\x20index\x20in\x20table\x20\x27','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','externalStorageConnections','setItem','Count','ExternalStorageConnectorsMissing','outputTokens','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','StorageEventType','optimizationLayers','setReportCapacity','timeSending','key-value-database-name-not-string','operations','CrewdleReceiverConnection\x20ontrack','-leave','waitForSyncComplete','JobWorker:\x20Tracing\x20not\x20implemented','getSTVolatility','Support:\x20current\x20config','ClosePubSubTopic','getKeyValueDatabases','trackChanges','object-store-stream-does-not-exist','handleStatsSystemEvents','event','CrewdleConnection\x20handlePeerConnectionSystemEvents','nodeKey','deleteJob','Offer','RemoteMediaStreamTrackFail','\x20sending\x20attempt\x20','blocks','timesCalled','handleConnectionSuccess','clusters/','No\x20connector\x20found\x20for\x20model','pendingFilesSyncing','owner','getVectorDatabase','srcObject','find','File\x20sending\x20interrupted','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','node','onValue','KeyValueDatabaseIndexNotFound','getRank','getConfigs','val','An\x20error\x20occurred','destinationIds','SyncComplete','registerRemoteNode','Delete','topK','changesUnsubscriber','Remote\x20stream\x20does\x20not\x20exist.','handleNodeUpdate','parameters','push','AppSync\x20client\x20not\x20ready','createElement','signalingState','getWorkflow','KeyValueDatabaseTableDoesNotExist','deployedVersion','onSnapshot','GenerativeAIWorkerAlreadyExists','relations','JobWorker:\x20Received\x20job\x20request'];a0_0xee81=function(){return _0xb1dd27;};return a0_0xee81();}(function(_0xd4c37c,_0x5f25f9){const _0x4cad25=a0_0x2e24,_0x121d4b=_0xd4c37c();while(!![]){try{const _0x42db9a=parseInt(_0x4cad25(0x254))/0x1+-parseInt(_0x4cad25(0x73f))/0x2+parseInt(_0x4cad25(0x76c))/0x3+-parseInt(_0x4cad25(0x71c))/0x4+-parseInt(_0x4cad25(0x3f0))/0x5*(-parseInt(_0x4cad25(0x8af))/0x6)+-parseInt(_0x4cad25(0x781))/0x7+parseInt(_0x4cad25(0x538))/0x8;if(_0x42db9a===_0x5f25f9)break;else _0x121d4b['push'](_0x121d4b['shift']());}catch(_0x1fd76f){_0x121d4b['push'](_0x121d4b['shift']());}}}(a0_0xee81,0x2fce6),!function(_0x3b500f,_0x15725b){const _0xec5aa4=a0_0x2e24;if('object'==typeof exports&&_0xec5aa4(0x1ac)==typeof module)module['exports']=_0x15725b();else{if(_0xec5aa4(0x1f9)==typeof define&&define[_0xec5aa4(0x472)])define([],_0x15725b);else{var _0x4166af=_0x15725b();for(var _0x9e09e4 in _0x4166af)(_0xec5aa4(0x1ac)==typeof exports?exports:_0x3b500f)[_0x9e09e4]=_0x4166af[_0x9e09e4];}}}(this,()=>((()=>{'use strict';const _0x20cdf8=a0_0x2e24;var _0x3636aa={0x14d:(_0x10c028,_0x520c19,_0x58c4f6)=>{const _0x361ac3=a0_0x2e24;_0x58c4f6['d'](_0x520c19,{'O':()=>_0x3de573});const _0x3de573={'version':_0x361ac3(0x6e8),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x361ac3(0x436),'projectId':_0x361ac3(0x412),'storageBucket':_0x361ac3(0xfb),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':_0x361ac3(0x3d3)},'aws':{'endpoint':_0x361ac3(0x3c1),'region':'us-east-1'}};},0x33b:(_0x822259,_0x5a07b4,_0xa97b86)=>{_0xa97b86['d'](_0x5a07b4,{'O':()=>_0x55a896});const _0x55a896={};},0x3e6:(_0x550fcd,_0x1e0aed,_0x2fda4c)=>{const _0x241698=a0_0x2e24;_0x2fda4c['d'](_0x1e0aed,{'O':()=>_0x40f28b});const _0x40f28b={'version':_0x241698(0x6d6),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x241698(0x127),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x241698(0x4cc),'projectId':_0x241698(0x88a),'storageBucket':_0x241698(0x240),'messagingSenderId':_0x241698(0x4e9),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x241698(0x6fe)},'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x241698(0x72b)}};},0x20:(_0x138d17,_0x3ba9eb,_0x9993fa)=>{_0x9993fa['d'](_0x3ba9eb,{'O':()=>_0x3f1a7d});const _0x3f1a7d={};}},_0xaf27a0={};function _0x4efbed(_0x25a432){const _0x2a381f=a0_0x2e24;var _0x2b96c2=_0xaf27a0[_0x25a432];if(void 0x0!==_0x2b96c2)return _0x2b96c2['exports'];var _0x2c46b9=_0xaf27a0[_0x25a432]={'exports':{}};return _0x3636aa[_0x25a432](_0x2c46b9,_0x2c46b9['exports'],_0x4efbed),_0x2c46b9[_0x2a381f(0x101)];}_0x4efbed['d']=(_0x244c5f,_0xf21fb2)=>{const _0x57f88a=a0_0x2e24;for(var _0x384515 in _0xf21fb2)_0x4efbed['o'](_0xf21fb2,_0x384515)&&!_0x4efbed['o'](_0x244c5f,_0x384515)&&Object[_0x57f88a(0x2c1)](_0x244c5f,_0x384515,{'enumerable':!0x0,'get':_0xf21fb2[_0x384515]});},_0x4efbed['g']=(function(){const _0x4a0693=a0_0x2e24;if(_0x4a0693(0x1ac)==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x57eafa){if(_0x4a0693(0x1ac)==typeof window)return window;}}()),_0x4efbed['o']=(_0x51dfc8,_0x243222)=>Object[_0x20cdf8(0x12f)][_0x20cdf8(0x4f6)][_0x20cdf8(0x8aa)](_0x51dfc8,_0x243222),_0x4efbed['r']=_0x537138=>{const _0x4e8fa1=_0x20cdf8;_0x4e8fa1(0x8d6)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x4e8fa1(0x2c1)](_0x537138,Symbol[_0x4e8fa1(0x160)],{'value':_0x4e8fa1(0xc6)}),Object[_0x4e8fa1(0x2c1)](_0x537138,'__esModule',{'value':!0x0});};var _0x40f53d,_0x50e58d,_0x324ffe,_0x148208={};_0x4efbed['r'](_0x148208),_0x4efbed['d'](_0x148208,{'KeyValueDatabase':()=>_0x2a6150,'LayoutBuilder':()=>_0x57fa10,'LoggingChannels':()=>_0x324ffe,'QueryBuilder':()=>_0x18b056,'SDK':()=>_0x5d7718,'SDKClientErrorCodes':()=>_0x40f53d,'TableBuilder':()=>_0x1d764d,'logger':()=>_0x585abf}),function(_0x3eee8b){const _0x14b986=_0x20cdf8;_0x3eee8b[_0x14b986(0x3c9)]=_0x14b986(0x6ca),_0x3eee8b[_0x14b986(0x270)]=_0x14b986(0x48a),_0x3eee8b[_0x14b986(0x78f)]=_0x14b986(0xcd),_0x3eee8b[_0x14b986(0x7d8)]='external-storage-connection-already-subscribed',_0x3eee8b[_0x14b986(0x66d)]=_0x14b986(0x8bc),_0x3eee8b[_0x14b986(0x7f5)]=_0x14b986(0x43b),_0x3eee8b['ExternalStorageInvalidPath']=_0x14b986(0x399),_0x3eee8b[_0x14b986(0xe2)]=_0x14b986(0x1d6),_0x3eee8b['FeatureNotEnabled']=_0x14b986(0xcf),_0x3eee8b[_0x14b986(0x902)]=_0x14b986(0x1fd),_0x3eee8b[_0x14b986(0x1cb)]=_0x14b986(0x36b),_0x3eee8b['GenerativeAIContextJobMissingThreadId']=_0x14b986(0x196),_0x3eee8b[_0x14b986(0x858)]=_0x14b986(0x26a),_0x3eee8b[_0x14b986(0x834)]=_0x14b986(0x8dd),_0x3eee8b[_0x14b986(0x405)]=_0x14b986(0x69e),_0x3eee8b[_0x14b986(0x87c)]=_0x14b986(0x4bd),_0x3eee8b['GraphDatabaseAlreadyExists']=_0x14b986(0x61c),_0x3eee8b[_0x14b986(0x509)]=_0x14b986(0x6dd),_0x3eee8b[_0x14b986(0x66f)]=_0x14b986(0x554),_0x3eee8b[_0x14b986(0x5e1)]='graph-database-name-not-string',_0x3eee8b['JobDispatcherAlreadyExists']=_0x14b986(0x758),_0x3eee8b[_0x14b986(0x312)]=_0x14b986(0x8c3),_0x3eee8b['JobDispatcherJobExists']=_0x14b986(0x2d9),_0x3eee8b['JobDispatcherJobNotFound']=_0x14b986(0x1b8),_0x3eee8b[_0x14b986(0x253)]='job-dispatcher-invalid-job-type',_0x3eee8b[_0x14b986(0x75e)]=_0x14b986(0xc3),_0x3eee8b[_0x14b986(0x768)]='job-worker-does-not-exist',_0x3eee8b[_0x14b986(0x221)]='object-store-already-exists',_0x3eee8b['ObjectStoreAlreadySubscribed']='object-store-already-subscribed',_0x3eee8b[_0x14b986(0x8d8)]=_0x14b986(0x807),_0x3eee8b[_0x14b986(0x7b1)]='object-store-name-not-string',_0x3eee8b['ObjectStoreInvalidPayload']=_0x14b986(0x750),_0x3eee8b['ObjectStoreInvalidPath']=_0x14b986(0x3d6),_0x3eee8b[_0x14b986(0xda)]=_0x14b986(0x54b),_0x3eee8b[_0x14b986(0x8dc)]=_0x14b986(0x89e),_0x3eee8b['InvalidAccess']=_0x14b986(0x622),_0x3eee8b[_0x14b986(0x28e)]=_0x14b986(0x2a7),_0x3eee8b[_0x14b986(0x3f5)]=_0x14b986(0x238),_0x3eee8b[_0x14b986(0x81e)]=_0x14b986(0x7bc),_0x3eee8b['KeyValueDatabaseInvalidQuery']=_0x14b986(0x3b1),_0x3eee8b[_0x14b986(0x1d1)]=_0x14b986(0x20b),_0x3eee8b[_0x14b986(0x148)]=_0x14b986(0x7fc),_0x3eee8b[_0x14b986(0xe8)]=_0x14b986(0x5c5),_0x3eee8b[_0x14b986(0x533)]=_0x14b986(0x35c),_0x3eee8b[_0x14b986(0x526)]=_0x14b986(0x287),_0x3eee8b[_0x14b986(0x68e)]=_0x14b986(0x1e2),_0x3eee8b[_0x14b986(0x2e5)]=_0x14b986(0x611),_0x3eee8b[_0x14b986(0x727)]=_0x14b986(0x7c8),_0x3eee8b['PubSubTopicAlreadyExists']=_0x14b986(0x5d6),_0x3eee8b[_0x14b986(0x1bd)]='pub-sub-topic-does-not-exist',_0x3eee8b[_0x14b986(0x5e6)]=_0x14b986(0x5fe),_0x3eee8b[_0x14b986(0x3af)]=_0x14b986(0x30c),_0x3eee8b[_0x14b986(0x839)]=_0x14b986(0x4cb),_0x3eee8b[_0x14b986(0x2b3)]=_0x14b986(0x8c0),_0x3eee8b[_0x14b986(0x211)]=_0x14b986(0x438),_0x3eee8b[_0x14b986(0x3dc)]=_0x14b986(0x8e1),_0x3eee8b[_0x14b986(0x5bc)]='node-not-authenticated',_0x3eee8b['NodeInvalidType']=_0x14b986(0x4a3),_0x3eee8b['NodeTypeNotSupported']=_0x14b986(0x17f),_0x3eee8b[_0x14b986(0x370)]=_0x14b986(0x4f3),_0x3eee8b['VectorDatabaseDoesNotExist']='vector-database-does-not-exist',_0x3eee8b[_0x14b986(0x3f2)]=_0x14b986(0x1c4),_0x3eee8b[_0x14b986(0x6ae)]='vector-database-name-not-string';}(_0x40f53d||(_0x40f53d={}));class _0x47cbae extends Error{['code'];constructor(_0x2cc4ec,_0x4f6fda){const _0x1b0beb=_0x20cdf8;super(_0x4f6fda),this[_0x1b0beb(0x279)]=_0x2cc4ec;}}!function(_0x5496d5){const _0x971757=_0x20cdf8;_0x5496d5['PubSub']='pubsub',_0x5496d5['ObjectStorage']=_0x971757(0x107),_0x5496d5[_0x971757(0x400)]=_0x971757(0x3ae),_0x5496d5['VectorDatabase']=_0x971757(0x5a1),_0x5496d5[_0x971757(0x48d)]='graph-database',_0x5496d5[_0x971757(0x530)]=_0x971757(0x5cb),_0x5496d5['MediaStream']=_0x971757(0x462),_0x5496d5['GenerativeAIContext']=_0x971757(0x4c8);}(_0x50e58d||(_0x50e58d={})),function(_0x3cf5e1){const _0x45975e=_0x20cdf8;_0x3cf5e1[_0x45975e(0x28a)]=_0x45975e(0x37d),_0x3cf5e1[_0x45975e(0x19a)]=_0x45975e(0x8e9),_0x3cf5e1[_0x45975e(0x29d)]='connection',_0x3cf5e1[_0x45975e(0x49d)]=_0x45975e(0x457),_0x3cf5e1['Cluster']=_0x45975e(0x4f9),_0x3cf5e1[_0x45975e(0x326)]=_0x45975e(0x843),_0x3cf5e1[_0x45975e(0x6e1)]=_0x45975e(0x143),_0x3cf5e1[_0x45975e(0x5a7)]=_0x45975e(0x319),_0x3cf5e1[_0x45975e(0x2ce)]=_0x45975e(0x2ff),_0x3cf5e1[_0x45975e(0x2e0)]=_0x45975e(0x7b5),_0x3cf5e1[_0x45975e(0x442)]=_0x45975e(0x7cc),_0x3cf5e1['Node']=_0x45975e(0x81c),_0x3cf5e1['Pool']=_0x45975e(0x16e),_0x3cf5e1[_0x45975e(0x65e)]=_0x45975e(0x627),_0x3cf5e1['Remediation']=_0x45975e(0x2d8),_0x3cf5e1['Signaling']=_0x45975e(0x649),_0x3cf5e1[_0x45975e(0x8a0)]=_0x45975e(0x5e9),_0x3cf5e1['Subscription']=_0x45975e(0x8b8),_0x3cf5e1[_0x45975e(0x349)]=_0x45975e(0x872),_0x3cf5e1[_0x45975e(0x6dc)]=_0x45975e(0x3b5),_0x3cf5e1[_0x45975e(0x277)]='system-stats',_0x3cf5e1[_0x45975e(0x1a7)]=_0x45975e(0x66c),_0x3cf5e1[_0x45975e(0x52e)]=_0x45975e(0x499);}(_0x324ffe||(_0x324ffe={}));const _0x3b754d=require('@crewdle/web-sdk-types');class _0x18b056{[_0x20cdf8(0x689)];constructor(_0x1cc534){const _0x4327c1=_0x20cdf8;this['query']={'orderBy':{'key':_0x1cc534,'direction':_0x4327c1(0x5c8)}};}static[_0x20cdf8(0x503)](_0x28c317){const _0x43ada7=_0x20cdf8;if(_0x43ada7(0x478)!=typeof _0x28c317||0x0===_0x28c317[_0x43ada7(0x51a)])throw new _0x47cbae(_0x40f53d[_0x43ada7(0x839)],_0x43ada7(0x600));return new _0x18b056(_0x28c317);}static['validateQuery'](_0x4bdb85){const _0x28e522=_0x20cdf8;try{return _0x18b056[_0x28e522(0x895)](_0x4bdb85),!0x0;}catch(_0x15b47c){return!0x1;}}static[_0x20cdf8(0x895)](_0x9c5292){const _0x28d294=_0x20cdf8,_0x66cd81=_0x18b056[_0x28d294(0x503)](_0x9c5292[_0x28d294(0x18c)]?.[_0x28d294(0x377)]??_0x9c5292['where']?.[_0x28d294(0x377)]??'');if(_0x9c5292['where']){const _0x1c6ed7=_0x9c5292[_0x28d294(0x2da)];if((_0x18b056['isWhereValue'](_0x1c6ed7)||_0x18b056['isWhereValues'](_0x1c6ed7)||_0x18b056['isWhereBetween'](_0x1c6ed7))&&_0x66cd81['where'](_0x1c6ed7[_0x28d294(0x170)],_0x1c6ed7['value']),_0x9c5292[_0x28d294(0x18c)]?.[_0x28d294(0x377)]&&_0x9c5292[_0x28d294(0x18c)]?.[_0x28d294(0x377)]!==_0x9c5292[_0x28d294(0x2da)][_0x28d294(0x377)])throw new _0x47cbae(_0x40f53d[_0x28d294(0x839)],_0x28d294(0x55d));}return _0x9c5292[_0x28d294(0x18c)]&&_0x66cd81[_0x28d294(0x18c)](_0x9c5292[_0x28d294(0x18c)][_0x28d294(0x743)]),_0x9c5292[_0x28d294(0x3ad)]&&_0x66cd81[_0x28d294(0x3ad)](_0x9c5292[_0x28d294(0x3ad)]),_0x9c5292[_0x28d294(0x413)]&&_0x66cd81['offset'](_0x9c5292['offset']),_0x66cd81;}['getQuery'](){const _0x17501c=_0x20cdf8;return{...this[_0x17501c(0x689)]};}[_0x20cdf8(0x2da)](_0x250074,_0x10edbe){const _0x45da8b=_0x20cdf8,_0x14ed7a={'key':this['query'][_0x45da8b(0x18c)][_0x45da8b(0x377)],'operator':_0x250074,'value':_0x10edbe};if(!_0x18b056[_0x45da8b(0x65a)](_0x14ed7a)&&!_0x18b056[_0x45da8b(0x152)](_0x14ed7a)&&!_0x18b056[_0x45da8b(0x300)](_0x14ed7a))throw new _0x47cbae(_0x40f53d[_0x45da8b(0x839)],_0x45da8b(0x5b0));return this['query'][_0x45da8b(0x2da)]=_0x14ed7a,this;}[_0x20cdf8(0x18c)](_0x265827){const _0x2ce224=_0x20cdf8;if(_0x2ce224(0x5c8)!==_0x265827&&_0x2ce224(0x418)!==_0x265827)throw new _0x47cbae(_0x40f53d[_0x2ce224(0x839)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x2ce224(0x689)][_0x2ce224(0x18c)]['direction']=_0x265827,this;}['limit'](_0x240bef){const _0x4f3a77=_0x20cdf8;if('number'!=typeof _0x240bef||_0x240bef<0x0)throw new _0x47cbae(_0x40f53d[_0x4f3a77(0x839)],_0x4f3a77(0x189));return this[_0x4f3a77(0x689)][_0x4f3a77(0x3ad)]=_0x240bef,this;}[_0x20cdf8(0x413)](_0x5442d4){const _0x31e3a8=_0x20cdf8;if(_0x31e3a8(0x8eb)!=typeof _0x5442d4||_0x5442d4<0x0)throw new _0x47cbae(_0x40f53d['QueryBuilderInvalidArgument'],_0x31e3a8(0x37c));return this[_0x31e3a8(0x689)]['offset']=_0x5442d4,this;}static['isWhereValue'](_0x52161c){const _0x18371d=_0x20cdf8;if(!(_0x52161c&&_0x18371d(0x1ac)==typeof _0x52161c&&_0x18371d(0x170)in _0x52161c&&_0x18371d(0x74d)in _0x52161c))return!0x1;const {operator:_0x24035c,value:_0x1e9be1}=_0x52161c;return!(!['==','!=','>','<','<=','>='][_0x18371d(0x8cb)](_0x24035c)||Array[_0x18371d(0x856)](_0x1e9be1));}static['isWhereValues'](_0x5e14e6){const _0x53e1a9=_0x20cdf8;if(!(_0x5e14e6&&_0x53e1a9(0x1ac)==typeof _0x5e14e6&&_0x53e1a9(0x170)in _0x5e14e6&&_0x53e1a9(0x74d)in _0x5e14e6))return!0x1;const {operator:_0xb91a74,value:_0x3dc606}=_0x5e14e6;return!(!['in',_0x53e1a9(0x724)]['includes'](_0xb91a74)||!Array[_0x53e1a9(0x856)](_0x3dc606));}static[_0x20cdf8(0x300)](_0x17e0b1){const _0xf60f32=_0x20cdf8;if(!(_0x17e0b1&&_0xf60f32(0x1ac)==typeof _0x17e0b1&&_0xf60f32(0x170)in _0x17e0b1&&_0xf60f32(0x74d)in _0x17e0b1))return!0x1;const {operator:_0xde412,value:_0x3e8012}=_0x17e0b1;return!('between'!==_0xde412||!Array[_0xf60f32(0x856)](_0x3e8012)||0x2!==_0x3e8012[_0xf60f32(0x51a)]);}}class _0x57fa10{[_0x20cdf8(0x481)];constructor(_0x56415b){const _0x54935c=_0x20cdf8;this[_0x54935c(0x481)]={'tables':{},'version':_0x56415b};}static[_0x20cdf8(0x776)](_0x51cbf7){const _0x398db1=_0x20cdf8;for(const _0x35139d in _0x51cbf7){if(_0x398db1(0x30e)!==_0x35139d&&_0x398db1(0x4a2)!==_0x35139d)return[!0x1,'Invalid\x20key\x20\x27'+_0x35139d+_0x398db1(0x67c)];if(_0x398db1(0x4a2)===_0x35139d)for(const _0x110766 in _0x51cbf7[_0x398db1(0x4a2)]){if('string'!=typeof _0x110766)return[!0x1,_0x398db1(0x11c)+_0x110766+'\x27'];for(const _0xdd62dd in _0x51cbf7[_0x398db1(0x4a2)][_0x110766]){if(_0x398db1(0x7ba)!==_0xdd62dd)return[!0x1,_0x398db1(0x13d)+_0xdd62dd+_0x398db1(0x8db)+_0x110766+'\x27'];const _0x2a1537=_0x51cbf7[_0x398db1(0x4a2)][_0x110766][_0xdd62dd]??[];for(const _0x4e56ef of _0x2a1537)if(void 0x0===_0x4e56ef[_0x398db1(0x594)]||_0x398db1(0x478)!=typeof _0x4e56ef[_0x398db1(0x594)])return[!0x1,_0x398db1(0x7f0)+_0x110766+_0x398db1(0x68d)];}}else{if(_0x398db1(0x30e)===_0x35139d&&_0x398db1(0x8eb)!=typeof _0x51cbf7[_0x35139d])return[!0x1,_0x398db1(0x23c)+_0x51cbf7[_0x35139d]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x398db1(0x290)];}static['layout'](_0x84c20c){const _0xb99dd=new _0x57fa10(_0x84c20c);return _0xb99dd['layout']['version']=_0x84c20c,_0xb99dd;}['table'](_0x13c0fb){const _0x4244b5=_0x20cdf8;return this[_0x4244b5(0x481)][_0x4244b5(0x4a2)][_0x13c0fb]={},new _0x1d764d(this[_0x4244b5(0x481)][_0x4244b5(0x4a2)][_0x13c0fb]);}[_0x20cdf8(0x372)](){return this['layout'];}}class _0x1d764d{[_0x20cdf8(0x12d)];constructor(_0x463905){const _0x4388c4=_0x20cdf8;this[_0x4388c4(0x12d)]=_0x463905;}[_0x20cdf8(0x503)](_0x5ef29c){const _0xe33b19=_0x20cdf8;return this[_0xe33b19(0x12d)]['indexes']=this[_0xe33b19(0x12d)][_0xe33b19(0x7ba)]??[],this[_0xe33b19(0x12d)][_0xe33b19(0x7ba)]['push']({'keyPath':_0x5ef29c}),this;}}const _0x4f61ab=0x40000,_0x5c4aec=0x3f800,_0x490b21=0x1388,_0x1483ac=_0x20cdf8(0x8de),_0x130531='.crewdle-pending',_0x30be78=_0x20cdf8(0x406),_0x55d258='.crewdle-layout',_0x53dd3d=0x7530,_0x8ff00=0x493e0,_0x5a75a4='.gguf',_0x4954c5=0x61a8,_0x34aa90=_0x20cdf8(0x71e);var _0x42d835;!function(_0x4618d5){const _0xba8e63=_0x20cdf8;_0x4618d5[_0xba8e63(0x493)]='connection-not-initialized',_0x4618d5['ConnectionNotConnected']=_0xba8e63(0x19b),_0x4618d5[_0xba8e63(0x43d)]='connection-no-retry-queue',_0x4618d5[_0xba8e63(0xbf)]=_0xba8e63(0x3c6),_0x4618d5[_0xba8e63(0x527)]=_0xba8e63(0x687),_0x4618d5[_0xba8e63(0x6a3)]=_0xba8e63(0x507),_0x4618d5[_0xba8e63(0x4d6)]=_0xba8e63(0x680),_0x4618d5['GenerativeAIContextJobFailed']=_0xba8e63(0x16d),_0x4618d5[_0xba8e63(0x2ad)]=_0xba8e63(0x2b8),_0x4618d5[_0xba8e63(0x5fb)]=_0xba8e63(0x22a),_0x4618d5[_0xba8e63(0x6bf)]=_0xba8e63(0x904),_0x4618d5['InvalidDataChannel']=_0xba8e63(0x227),_0x4618d5['InvalidPublisher']=_0xba8e63(0x4cd),_0x4618d5[_0xba8e63(0x2c3)]=_0xba8e63(0x46d),_0x4618d5['InvalidSubscription']='invalid-subscription',_0x4618d5[_0xba8e63(0x5ae)]=_0xba8e63(0x21b),_0x4618d5[_0xba8e63(0x777)]='job-dispatcher-invalid-payload',_0x4618d5[_0xba8e63(0x879)]='job-dispatcher-job-not-found',_0x4618d5[_0xba8e63(0x6bd)]=_0xba8e63(0x88f),_0x4618d5[_0xba8e63(0x57c)]=_0xba8e63(0x5b8),_0x4618d5[_0xba8e63(0x34e)]='job-worker-invalid-type',_0x4618d5['KeyValueDatabaseCreationFailed']=_0xba8e63(0x1a2),_0x4618d5['KeyValueDatabaseTableDoesNotExist']='key-value-database-table-does-not-exist',_0x4618d5[_0xba8e63(0x8c4)]='key-value-database-transaction-table-not-initialized',_0x4618d5['KeyValueDatabaseTransactionValueNotSet']='key-value-database-transaction-value-not-set',_0x4618d5[_0xba8e63(0x844)]='local-stream-does-not-exist',_0x4618d5['MissingRemoteConnection']=_0xba8e63(0x2cd),_0x4618d5['MissingSystemTopic']='missing-system-topic',_0x4618d5[_0xba8e63(0x475)]=_0xba8e63(0x859),_0x4618d5['ObjectStoreCannotWriteTransaction']=_0xba8e63(0x6a7),_0x4618d5[_0xba8e63(0x5e7)]='object-store-invalid-state',_0x4618d5[_0xba8e63(0x643)]=_0xba8e63(0x494),_0x4618d5[_0xba8e63(0x5c3)]=_0xba8e63(0x38a),_0x4618d5[_0xba8e63(0x70e)]='outgoing-stream-no-topic',_0x4618d5[_0xba8e63(0x16f)]=_0xba8e63(0x8bd),_0x4618d5[_0xba8e63(0x62c)]=_0xba8e63(0x581),_0x4618d5['RemoteConnectionExists']='remote-connection-exists',_0x4618d5['SubscriptionRequestDoesNotExist']=_0xba8e63(0x415),_0x4618d5[_0xba8e63(0x59c)]='subscription-request-failed',_0x4618d5[_0xba8e63(0x31b)]=_0xba8e63(0x228),_0x4618d5[_0xba8e63(0x4a7)]=_0xba8e63(0x28c),_0x4618d5['NodeAlreadyExist']=_0xba8e63(0x1cd),_0x4618d5[_0xba8e63(0x698)]='peer-connection-invalid-destination',_0x4618d5[_0xba8e63(0x7d5)]=_0xba8e63(0x747),_0x4618d5[_0xba8e63(0x43c)]=_0xba8e63(0x8cd),_0x4618d5[_0xba8e63(0x68c)]=_0xba8e63(0x4c6);}(_0x42d835||(_0x42d835={}));const _0x310e39=new Map([[_0x42d835[_0x20cdf8(0x493)],_0x20cdf8(0x334)],[_0x42d835[_0x20cdf8(0x7a6)],_0x20cdf8(0x652)],[_0x42d835['ConnectionNoRetryQueue'],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x42d835[_0x20cdf8(0xbf)],_0x20cdf8(0x552)],[_0x42d835[_0x20cdf8(0x527)],_0x20cdf8(0x18d)],[_0x42d835[_0x20cdf8(0x6a3)],_0x20cdf8(0x365)],[_0x42d835['GenerativeAIContextJobAlreadyConsumed'],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x42d835['GenerativeAIContextJobFailed'],_0x20cdf8(0x4b8)],[_0x42d835[_0x20cdf8(0x2ad)],_0x20cdf8(0xee)],[_0x42d835[_0x20cdf8(0x5fb)],'AI\x20worker\x20creation\x20failed.'],[_0x42d835[_0x20cdf8(0x6bf)],_0x20cdf8(0x24b)],[_0x42d835[_0x20cdf8(0xf4)],_0x20cdf8(0x7c6)],[_0x42d835['InvalidPublisher'],_0x20cdf8(0xf6)],[_0x42d835['InvalidSubscriber'],_0x20cdf8(0x28b)],[_0x42d835[_0x20cdf8(0x8a1)],_0x20cdf8(0x6f0)],[_0x42d835[_0x20cdf8(0x5ae)],_0x20cdf8(0x625)],[_0x42d835[_0x20cdf8(0x777)],_0x20cdf8(0x630)],[_0x42d835['JobDispatcherJobNotFound'],'Job\x20service\x20job\x20not\x20found.'],[_0x42d835[_0x20cdf8(0x6bd)],_0x20cdf8(0x297)],[_0x42d835[_0x20cdf8(0x57c)],_0x20cdf8(0x5be)],[_0x42d835[_0x20cdf8(0x34e)],_0x20cdf8(0x7db)],[_0x42d835[_0x20cdf8(0x2aa)],'Key-value\x20database\x20creation\x20failed.'],[_0x42d835['KeyValueDatabaseTableDoesNotExist'],_0x20cdf8(0x182)],[_0x42d835[_0x20cdf8(0x8c4)],_0x20cdf8(0x881)],[_0x42d835[_0x20cdf8(0x74b)],_0x20cdf8(0x564)],[_0x42d835[_0x20cdf8(0x844)],_0x20cdf8(0x10d)],[_0x42d835[_0x20cdf8(0x76f)],_0x20cdf8(0x563)],[_0x42d835[_0x20cdf8(0x3b9)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x42d835[_0x20cdf8(0x475)],_0x20cdf8(0x50c)],[_0x42d835[_0x20cdf8(0x3a1)],_0x20cdf8(0x3d2)],[_0x42d835['ObjectStoreInvalidSyncMessage'],_0x20cdf8(0x762)],[_0x42d835[_0x20cdf8(0x5e7)],_0x20cdf8(0x45a)],[_0x42d835[_0x20cdf8(0x5c3)],_0x20cdf8(0x304)],[_0x42d835['OutgoingMediaStreamNoTopic'],_0x20cdf8(0x5c9)],[_0x42d835[_0x20cdf8(0x16f)],_0x20cdf8(0x829)],[_0x42d835['RemoteMediaStreamMissingProviderId'],_0x20cdf8(0x286)],[_0x42d835[_0x20cdf8(0x52a)],_0x20cdf8(0x5a5)],[_0x42d835[_0x20cdf8(0x3e3)],_0x20cdf8(0x854)],[_0x42d835['SubscriptionRequestFailed'],_0x20cdf8(0x4c1)],[_0x42d835[_0x20cdf8(0x31b)],_0x20cdf8(0x8c1)],[_0x42d835[_0x20cdf8(0x4a7)],'Node\x20does\x20not\x20exist.'],[_0x42d835['NodeAlreadyExist'],_0x20cdf8(0x709)],[_0x42d835['PeerConnectionInvalidDestination'],_0x20cdf8(0x167)],[_0x42d835['VectorDatabaseCreationFailed'],_0x20cdf8(0x501)],[_0x42d835[_0x20cdf8(0x43c)],_0x20cdf8(0x664)],[_0x42d835['WorkflowInvalidBlockType'],_0x20cdf8(0x7cd)]]);class _0x5a569f extends Error{[_0x20cdf8(0x279)];static ['codes']=_0x42d835;['data'];constructor(_0x4041d2,_0x426141){const _0x1dc58b=_0x20cdf8;super('Internal\x20SDK\x20Error:\x20'+_0x4041d2+':\x20'+_0x310e39[_0x1dc58b(0x333)](_0x4041d2)+_0x1dc58b(0x5de)+JSON['stringify'](_0x426141)),this[_0x1dc58b(0x279)]=_0x4041d2,this['data']=_0x426141||{};}}var _0x277618,_0x21f921,_0x450789,_0x26b39a,_0x316213,_0x554ff5,_0x213fd0;!function(_0x46f6bc){const _0x12beeb=_0x20cdf8;_0x46f6bc[_0x46f6bc[_0x12beeb(0x69b)]=0x0]=_0x12beeb(0x69b),_0x46f6bc[_0x46f6bc[_0x12beeb(0x3fd)]=0x1]=_0x12beeb(0x3fd),_0x46f6bc[_0x46f6bc['SubscribeMediaStream']=0x2]='SubscribeMediaStream',_0x46f6bc[_0x46f6bc[_0x12beeb(0x328)]=0x3]=_0x12beeb(0x328),_0x46f6bc[_0x46f6bc[_0x12beeb(0x437)]=0x4]='UnsubscribeMediaStream',_0x46f6bc[_0x46f6bc[_0x12beeb(0x1ee)]=0x5]='CloseJobDispatcher',_0x46f6bc[_0x46f6bc[_0x12beeb(0x85c)]=0x6]='CloseJobWorker',_0x46f6bc[_0x46f6bc[_0x12beeb(0x861)]=0x7]=_0x12beeb(0x861),_0x46f6bc[_0x46f6bc[_0x12beeb(0xad)]=0x8]=_0x12beeb(0xad),_0x46f6bc[_0x46f6bc['CloseKeyValueDatabase']=0x9]='CloseKeyValueDatabase',_0x46f6bc[_0x46f6bc[_0x12beeb(0x804)]=0xa]=_0x12beeb(0x804),_0x46f6bc[_0x46f6bc[_0x12beeb(0x292)]=0xb]=_0x12beeb(0x292),_0x46f6bc[_0x46f6bc[_0x12beeb(0x5cf)]=0xc]=_0x12beeb(0x5cf),_0x46f6bc[_0x46f6bc[_0x12beeb(0x85d)]=0xd]=_0x12beeb(0x85d),_0x46f6bc[_0x46f6bc[_0x12beeb(0x2f3)]=0xe]=_0x12beeb(0x2f3),_0x46f6bc[_0x46f6bc[_0x12beeb(0x80e)]=0xf]=_0x12beeb(0x80e),_0x46f6bc[_0x46f6bc[_0x12beeb(0x667)]=0x10]=_0x12beeb(0x667),_0x46f6bc[_0x46f6bc[_0x12beeb(0x7bb)]=0x11]='SendTransactionsDump',_0x46f6bc[_0x46f6bc['RequestTransactionsValue']=0x12]=_0x12beeb(0x11d),_0x46f6bc[_0x46f6bc[_0x12beeb(0x616)]=0x13]=_0x12beeb(0x616),_0x46f6bc[_0x46f6bc[_0x12beeb(0x115)]=0x14]=_0x12beeb(0x115),_0x46f6bc[_0x46f6bc[_0x12beeb(0xeb)]=0x15]=_0x12beeb(0xeb),_0x46f6bc[_0x46f6bc[_0x12beeb(0x3df)]=0x16]=_0x12beeb(0x3df),_0x46f6bc[_0x46f6bc[_0x12beeb(0x608)]=0x17]=_0x12beeb(0x608),_0x46f6bc[_0x46f6bc[_0x12beeb(0x8f2)]=0x18]='VectorDatabaseStats',_0x46f6bc[_0x46f6bc['GraphDatabaseStats']=0x19]=_0x12beeb(0x6d8),_0x46f6bc[_0x46f6bc[_0x12beeb(0x31e)]=0x1a]=_0x12beeb(0x31e);}(_0x277618||(_0x277618={})),function(_0x26dbd2){const _0x40784=_0x20cdf8;_0x26dbd2['FileWrite']=_0x40784(0x1b2),_0x26dbd2['FolderCreate']='folder-create',_0x26dbd2[_0x40784(0x826)]=_0x40784(0x268),_0x26dbd2['Move']=_0x40784(0x722),_0x26dbd2[_0x40784(0x142)]=_0x40784(0x561),_0x26dbd2[_0x40784(0x40d)]=_0x40784(0x609),_0x26dbd2['RequestFileSync']=_0x40784(0x896),_0x26dbd2['RequestFileWrite']=_0x40784(0x723);}(_0x21f921||(_0x21f921={})),function(_0x3e3fd2){const _0x24fa5d=_0x20cdf8;_0x3e3fd2[_0x24fa5d(0x27f)]='request',_0x3e3fd2['Transaction']='transaction';}(_0x450789||(_0x450789={})),function(_0x5a8984){const _0x36f1b5=_0x20cdf8;_0x5a8984[_0x36f1b5(0x344)]='add',_0x5a8984[_0x36f1b5(0x5c1)]='update',_0x5a8984[_0x36f1b5(0x826)]='delete';}(_0x26b39a||(_0x26b39a={})),function(_0x40ea4a){const _0x24bea1=_0x20cdf8;_0x40ea4a[_0x24bea1(0x470)]='get',_0x40ea4a[_0x24bea1(0x6f3)]=_0x24bea1(0x532),_0x40ea4a[_0x24bea1(0x7f4)]=_0x24bea1(0x8b9);}(_0x316213||(_0x316213={})),function(_0x56427b){const _0xfe4851=_0x20cdf8;_0x56427b[_0x56427b[_0xfe4851(0x27f)]=0x0]='Request',_0x56427b[_0x56427b[_0xfe4851(0x577)]=0x1]=_0xfe4851(0x577),_0x56427b[_0x56427b['Attribution']=0x2]='Attribution',_0x56427b[_0x56427b[_0xfe4851(0x88b)]=0x3]=_0xfe4851(0x88b),_0x56427b[_0x56427b[_0xfe4851(0x794)]=0x4]=_0xfe4851(0x794),_0x56427b[_0x56427b[_0xfe4851(0x359)]=0x5]=_0xfe4851(0x359);}(_0x554ff5||(_0x554ff5={})),function(_0x2e620f){const _0x106a9e=_0x20cdf8;_0x2e620f[_0x2e620f[_0x106a9e(0x52e)]=0x0]='PeerConnection',_0x2e620f[_0x2e620f['Node']=0x1]=_0x106a9e(0x772),_0x2e620f[_0x2e620f[_0x106a9e(0x326)]=0x2]=_0x106a9e(0x326),_0x2e620f[_0x2e620f['Subscription']=0x3]=_0x106a9e(0x624),_0x2e620f[_0x2e620f[_0x106a9e(0x8a0)]=0x4]=_0x106a9e(0x8a0),_0x2e620f[_0x2e620f['Detection']=0x5]=_0x106a9e(0x5a7),_0x2e620f[_0x2e620f[_0x106a9e(0x235)]=0x6]=_0x106a9e(0x235);}(_0x213fd0||(_0x213fd0={}));class _0x5799cd{[_0x20cdf8(0x816)];[_0x20cdf8(0x59f)];[_0x20cdf8(0x361)];constructor(_0x5459bb,_0x14e252){const _0x262c30=_0x20cdf8;this[_0x262c30(0x816)]=_0x5459bb,this[_0x262c30(0x59f)]=_0x14e252;}['getLabel'](){const _0x2c02af=_0x20cdf8;return this[_0x2c02af(0x59f)];}[_0x20cdf8(0x25d)](){const _0x30ac5c=_0x20cdf8;return this[_0x30ac5c(0x816)][_0x30ac5c(0x66e)]();}['destroy'](){}['registerSystemPublisher'](_0x5cf382){this['systemTopic']=_0x5cf382;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}const _0x2b2463=require('firebase/firestore');let _0x56300b=_0x4efbed(0x14d)['O'];function _0xa4c553(_0xfd4c0a){const _0x1e8fd9=_0x20cdf8;return!(!_0xfd4c0a||_0x1e8fd9(0x1ac)!=typeof _0xfd4c0a||Array[_0x1e8fd9(0x856)](_0xfd4c0a));}_0x56300b=function _0x2900bc(_0x52dc9f,..._0x12aedc){const _0x2dff98=_0x20cdf8;if(!Array[_0x2dff98(0x856)](_0x12aedc)||0x0===_0x12aedc[_0x2dff98(0x51a)])return _0x52dc9f;const _0xcf99a3=_0x12aedc[_0x2dff98(0x1b0)]();if(_0xa4c553(_0x52dc9f)&&_0xa4c553(_0xcf99a3)){for(const _0x1824d5 in _0xcf99a3)_0xa4c553(_0xcf99a3[_0x1824d5])?(_0x52dc9f[_0x1824d5]||Object['assign'](_0x52dc9f,{[_0x1824d5]:{}}),_0x2900bc(_0x52dc9f[_0x1824d5],_0xcf99a3[_0x1824d5])):Object[_0x2dff98(0x1b1)](_0x52dc9f,{[_0x1824d5]:_0xcf99a3[_0x1824d5]});}return _0x2900bc(_0x52dc9f,..._0x12aedc);}(_0x56300b,_0x4efbed(0x3e6)['O']);const _0x3362fe=_0x56300b,_0x26ff33=require('firebase/app'),_0x3f4ec5=require('firebase/auth'),_0x19b2ba=require('firebase/database'),_0x1faa2a=require('firebase/functions'),_0x3ee2fb=require('uuid'),_0x4bc55a=_0x20cdf8(0x787);class _0x18516b{static [_0x20cdf8(0x4e2)];[_0x20cdf8(0x3c5)];[_0x20cdf8(0x647)];[_0x20cdf8(0x6b0)];['database'];[_0x20cdf8(0x798)];['clockSkew'];[_0x20cdf8(0x8ad)];constructor(){const _0x4c5c6a=_0x20cdf8;this[_0x4c5c6a(0x75b)]();}static[_0x20cdf8(0x38d)](){const _0x184e75=_0x20cdf8;return _0x18516b[_0x184e75(0x4e2)]||(_0x18516b[_0x184e75(0x4e2)]=new _0x18516b()),_0x18516b['instance'];}[_0x20cdf8(0x75b)](){const _0xe02b02=_0x20cdf8;if(!this[_0xe02b02(0x3c5)]){let _0x418712=_0x4bc55a;_0xe02b02(0x8d6)!=typeof window&&(_0x418712=_0x4bc55a+'-'+(0x0,_0x3ee2fb['v4'])()),this['app']=(0x0,_0x26ff33['initializeApp'])(_0x3362fe[_0xe02b02(0x4f1)],''+_0x418712);}return this[_0xe02b02(0x3c5)];}[_0x20cdf8(0x223)](){const _0x5abaa3=_0x20cdf8;return this[_0x5abaa3(0x647)]||(this['auth']=(0x0,_0x3f4ec5['getAuth'])(this[_0x5abaa3(0x75b)]())),this['auth'];}['getFunctions'](){const _0x128da0=_0x20cdf8;return this[_0x128da0(0x6b0)]||(this[_0x128da0(0x6b0)]=(0x0,_0x1faa2a['getFunctions'])(this[_0x128da0(0x75b)](),_0x3362fe[_0x128da0(0x4f1)][_0x128da0(0x4dc)])),this[_0x128da0(0x6b0)];}[_0x20cdf8(0x885)](){const _0x788e1e=_0x20cdf8;return this['database']||(this[_0x788e1e(0x586)]=(0x0,_0x19b2ba[_0x788e1e(0x885)])(this['getApp']())),this[_0x788e1e(0x586)];}[_0x20cdf8(0x124)](){const _0x92d2a0=_0x20cdf8;return this[_0x92d2a0(0x798)]||(this[_0x92d2a0(0x798)]=(0x0,_0x2b2463[_0x92d2a0(0x124)])(this[_0x92d2a0(0x75b)]())),this[_0x92d2a0(0x798)];}async[_0x20cdf8(0x7ef)](){const _0xe742f2=_0x20cdf8;if(this[_0xe742f2(0x786)]&&this[_0xe742f2(0x8ad)]&&Date[_0xe742f2(0x76a)]()-this['lastClockUpdate']<0x493e0)return Date[_0xe742f2(0x76a)]()+this['clockSkew'];const _0x44838b=this[_0xe742f2(0x885)](),_0x1aad4b=(0x0,_0x19b2ba[_0xe742f2(0x145)])(_0x44838b,'.info/serverTimeOffset');return new Promise(_0x15931d=>{const _0x4213bd=_0xe742f2;(0x0,_0x19b2ba[_0x4213bd(0x81d)])(_0x1aad4b,_0x1142a3=>{const _0x36cabc=_0x4213bd;(0x0,_0x19b2ba[_0x36cabc(0x5b2)])(_0x1aad4b),this[_0x36cabc(0x786)]=_0x1142a3[_0x36cabc(0x821)](),this[_0x36cabc(0x8ad)]=Date['now'](),_0x15931d(Date[_0x36cabc(0x76a)]()+(this[_0x36cabc(0x786)]??0x0));});});}}const _0x2c07f4=_0x18516b['getInstance']();class _0x1d989f{static [_0x20cdf8(0x4e2)];[_0x20cdf8(0x69a)]=[_0x324ffe[_0x20cdf8(0x19a)]];[_0x20cdf8(0x2fe)]=!0x0;[_0x20cdf8(0x42f)];[_0x20cdf8(0x6f5)]='';[_0x20cdf8(0x790)];[_0x20cdf8(0x338)]=[];[_0x20cdf8(0xf5)];[_0x20cdf8(0x771)];[_0x20cdf8(0x18a)]=0xa;[_0x20cdf8(0x435)]=0x1f4;[_0x20cdf8(0x60f)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x4d6d60=_0x20cdf8;if(_0x4d6d60(0x8d6)!=typeof window)this[_0x4d6d60(0x790)]=window;else{if(void 0x0===_0x4efbed['g'])throw new Error(_0x4d6d60(0x40b));this['globalObject']=_0x4efbed['g'];}this[_0x4d6d60(0x601)](),this[_0x4d6d60(0x790)]['crewdleSDKEnableLogging']=_0x406b7b=>{const _0x1abac9=_0x4d6d60;if(_0x406b7b===_0x324ffe['All'])return this[_0x1abac9(0x69a)]=Object['keys'](_0x324ffe)[_0x1abac9(0x7ea)](_0x139905=>_0x324ffe[_0x139905]),void Object[_0x1abac9(0x653)](_0x324ffe)['forEach'](_0x2bbfa4=>{const _0x5624a5=_0x1abac9,_0x912f5a=_0x2bbfa4;localStorage['setItem'](_0x5624a5(0x4c3)+_0x324ffe[_0x912f5a],_0x5624a5(0xcc));});this[_0x1abac9(0x69a)][_0x1abac9(0x8cb)](_0x406b7b)||(this['enabledChannels']['push'](_0x406b7b),localStorage[_0x1abac9(0x7f3)](_0x1abac9(0x4c3)+_0x406b7b,_0x1abac9(0xcc)));},this[_0x4d6d60(0x790)][_0x4d6d60(0x545)]=_0x550eda=>{const _0x29a25f=_0x4d6d60;if(!_0x550eda||_0x550eda===_0x324ffe[_0x29a25f(0x28a)])return this['enabledChannels']=[],void Object[_0x29a25f(0x653)](_0x324ffe)['forEach'](_0x4b5d5b=>{const _0x21d496=_0x29a25f,_0x113b52=_0x4b5d5b;localStorage[_0x21d496(0x175)](_0x21d496(0x4c3)+_0x324ffe[_0x113b52]);});this[_0x29a25f(0x69a)][_0x29a25f(0x8cb)](_0x550eda)&&(this['enabledChannels']=this[_0x29a25f(0x69a)][_0x29a25f(0xb7)](_0xb4f3c2=>_0xb4f3c2!==_0x550eda),localStorage[_0x29a25f(0x175)]('crewdle-sdk-logging-'+_0x550eda));},this[_0x4d6d60(0x790)][_0x4d6d60(0x86e)]=_0x324ffe;}static['getInstance'](){const _0x7a69b=_0x20cdf8;try{return _0x1d989f[_0x7a69b(0x4e2)]||(_0x1d989f['instance']=new _0x1d989f()),_0x1d989f['instance'];}catch(_0x15bcb8){return console[_0x7a69b(0x7b5)]('Logger.getInstance',_0x15bcb8),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x20cdf8(0x2ca)](_0x9df474){const _0x22de01=_0x20cdf8;this[_0x22de01(0x6f5)]=_0x9df474,this['batchQueue']=[],this[_0x22de01(0xf5)]=this[_0x22de01(0x3c0)](),this[_0x22de01(0x771)]&&(clearTimeout(this[_0x22de01(0x771)]),this['batchTimeout']=void 0x0);}[_0x20cdf8(0x11b)](_0x12f53a){const _0x58a2b4=_0x20cdf8;this[_0x58a2b4(0x42f)]=_0x12f53a;}[_0x20cdf8(0x688)](_0x4c4340,..._0xf6941c){const _0x5d8a8c=_0x20cdf8;this[_0x5d8a8c(0x2fe)]&&this[_0x5d8a8c(0x447)](_0x324ffe[_0x5d8a8c(0x19a)],_0x5d8a8c(0x610)+_0x4c4340,..._0xf6941c);}[_0x20cdf8(0x447)](_0x40ac65,_0x55fc79,..._0xf051d7){const _0x3be540=_0x20cdf8;_0x3362fe[_0x3be540(0x5e4)]||(this[_0x3be540(0x69a)]['includes'](_0x40ac65)&&console[_0x3be540(0x447)](_0x3be540(0x571)+_0x40ac65+'\x27\x0a',new Date()+'\x0a',_0x55fc79,..._0xf051d7),this['loggingConnectors']&&this[_0x3be540(0x42f)]['forEach'](_0x4833ee=>{const _0x3dc213=_0x3be540;this[_0x3dc213(0x340)](_0x4833ee)&&_0x4833ee[_0x3dc213(0x32f)]()['includes'](_0x40ac65)&&_0x4833ee[_0x3dc213(0x447)](_0x55fc79,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x40ac65,..._0xf051d7}});}));}['logRaw'](_0x559749,_0x53ee6a,..._0x88cbc2){const _0x1661b5=_0x20cdf8;_0x3362fe[_0x1661b5(0x5e4)]||(this[_0x1661b5(0x69a)][_0x1661b5(0x8cb)](_0x559749)&&console[_0x1661b5(0x447)](_0x53ee6a,..._0x88cbc2),this[_0x1661b5(0x42f)]&&this[_0x1661b5(0x42f)]['forEach'](_0x5db01f=>{const _0x5abf59=_0x1661b5;this[_0x5abf59(0x340)](_0x5db01f)&&_0x5db01f[_0x5abf59(0x32f)]()[_0x5abf59(0x8cb)](_0x559749)&&_0x5db01f[_0x5abf59(0x447)](_0x53ee6a,{'vendorId':this[_0x5abf59(0x6f5)],'nodeId':'','nodeType':'','data':{'channel':_0x559749,..._0x88cbc2}});}));}[_0x20cdf8(0x263)](_0x515773,_0x2c7d69){const _0x375dbb=_0x20cdf8;if(!this[_0x375dbb(0x42f)])return;const _0x238ade={'vendorId':this[_0x375dbb(0x6f5)],..._0x2c7d69};this['loggingConnectors'][_0x375dbb(0x34b)](_0x742273=>{const _0x7ec193=_0x375dbb;_0x742273[_0x7ec193(0x447)](_0x515773,_0x238ade);});}[_0x20cdf8(0x711)](_0x337c31,_0x276587){const _0x3b2ab1=_0x20cdf8;this[_0x3b2ab1(0x194)](_0x337c31,_0x276587),this[_0x3b2ab1(0x318)]();}[_0x20cdf8(0x86f)](_0x444a63,_0x203d66,_0x26b977){const _0x135029=_0x20cdf8;(0x0,_0x2b2463['setDoc'])((0x0,_0x2b2463[_0x135029(0x17b)])(_0x2c07f4['getFirestore'](),_0x135029(0x602)+this[_0x135029(0x6f5)]+'/'+_0x444a63+'/'+_0x203d66),{'storage':_0x26b977,'timestamp':(0x0,_0x2b2463[_0x135029(0x884)])()});}[_0x20cdf8(0x318)](){const _0x199b8a=_0x20cdf8;this[_0x199b8a(0xf5)]&&(this['currentBatch'][_0x199b8a(0x2f1)]+=0x1,this['currentBatch'][_0x199b8a(0x2f1)]===this[_0x199b8a(0x60f)]?this[_0x199b8a(0x79c)]():this[_0x199b8a(0x771)]||(this[_0x199b8a(0x771)]=this['globalObject'][_0x199b8a(0x79e)](()=>this[_0x199b8a(0x79c)](),this[_0x199b8a(0x3c4)])));}async[_0x20cdf8(0x79c)](){const _0x23092a=_0x20cdf8;if(this[_0x23092a(0xf5)]){for(this[_0x23092a(0x338)][_0x23092a(0x82c)](this[_0x23092a(0xf5)]),this['currentBatch']=this['createNewBatch']();this['batchQueue'][_0x23092a(0x51a)]>0x0;){const _0x123e99=this[_0x23092a(0x338)][_0x23092a(0x1b0)]();if(!await this[_0x23092a(0x2fb)](_0x123e99))break;}clearTimeout(this[_0x23092a(0x771)]),this[_0x23092a(0x771)]=void 0x0;}}['error'](_0x5b7f1d,_0x1c489c,..._0x37b8ea){const _0x5529db=_0x20cdf8;if(console[_0x5529db(0x7b5)](new Date(),_0x5b7f1d,_0x1c489c,..._0x37b8ea),this[_0x5529db(0x42f)]){const _0x2b3128={'vendorId':this[_0x5529db(0x6f5)],..._0x1c489c};this['loggingConnectors'][_0x5529db(0x34b)](_0x562e6f=>{const _0x4ba97e=_0x5529db;_0x562e6f[_0x4ba97e(0x7b5)](_0x5b7f1d,_0x2b3128);});}}['warning'](_0xa4796b,_0x5daff3,..._0x3c689f){const _0x33ef34=_0x20cdf8;if(console[_0x33ef34(0x4fd)](new Date(),_0xa4796b,_0x5daff3,_0x3c689f),this['loggingConnectors']){const _0x3f5025={'vendorId':this['vendorId'],..._0x5daff3};this[_0x33ef34(0x42f)][_0x33ef34(0x34b)](_0x587f14=>{const _0x4e8428=_0x33ef34;_0x587f14[_0x4e8428(0x4fd)](_0xa4796b,_0x3f5025);});}}['isChannelEnabled'](_0x5de6f1){const _0x572502=_0x20cdf8;return this[_0x572502(0x69a)][_0x572502(0x8cb)](_0x5de6f1);}async['commitBatch'](_0x46e49c,_0x508762=0x0){const _0x3f9f97=_0x20cdf8;if(_0x46e49c[_0x3f9f97(0x2f1)]>0x0)try{return await _0x46e49c['batch']['commit'](),!0x0;}catch(_0x20657e){if(console[_0x3f9f97(0x7b5)]('Error\x20committing\x20batch:',_0x20657e,_0x3f9f97(0x2c9),_0x46e49c[_0x3f9f97(0x7fd)]),!(_0x508762<this[_0x3f9f97(0x18a)])){const {nodeId:_0x18b142='',nodeType:_0x1ba7c6='',clusterId:_0x4f7fd5=''}=_0x46e49c['operations'][0x0]['data'],_0x57353e={'nodeId':_0x18b142,'nodeType':_0x1ba7c6,'clusterId':_0x4f7fd5,'data':{'operations':_0x46e49c[_0x3f9f97(0x7fd)],'error':_0x20657e}};return this['error'](_0x3f9f97(0x351),_0x57353e),!0x1;}{const _0x4def01=this['createBatch'](_0x46e49c['operations']);setTimeout(()=>this[_0x3f9f97(0x2fb)](_0x4def01,_0x508762+0x1),this[_0x3f9f97(0x435)]*Math['pow'](0x2,_0x508762));}}}[_0x20cdf8(0x601)](){const _0x18ef14=_0x20cdf8;try{Object[_0x18ef14(0x653)](_0x324ffe)[_0x18ef14(0x34b)](_0x545cbf=>{const _0x5f5a5c=_0x18ef14,_0x2e6904=_0x545cbf;localStorage[_0x5f5a5c(0x6f1)](_0x5f5a5c(0x4c3)+_0x324ffe[_0x2e6904])&&(console[_0x5f5a5c(0x447)]('LoggingService:\x20logging\x20enabled\x20for',_0x324ffe[_0x2e6904]),this[_0x5f5a5c(0x69a)]['push'](_0x324ffe[_0x2e6904]));});}catch(_0x3472f7){}}[_0x20cdf8(0x340)](_0x47b103){const _0x4533fc=_0x20cdf8;return void 0x0!==_0x47b103[_0x4533fc(0x32f)];}[_0x20cdf8(0x3c0)](){const _0x2498a7=_0x20cdf8;return{'batch':(0x0,_0x2b2463[_0x2498a7(0x19f)])(_0x2c07f4[_0x2498a7(0x124)]()),'operations':[],'counter':0x0};}[_0x20cdf8(0x3c8)](_0xd9a42c){const _0x340315=_0x20cdf8,_0x48c90f=(0x0,_0x2b2463[_0x340315(0x19f)])(_0x2c07f4[_0x340315(0x124)]());return _0xd9a42c[_0x340315(0x34b)](_0x4607f8=>this[_0x340315(0x62f)](_0x48c90f,_0x4607f8)),{'batch':_0x48c90f,'operations':_0xd9a42c,'counter':_0xd9a42c[_0x340315(0x51a)]};}[_0x20cdf8(0x62f)](_0x4aa3b8,_0x4f084b){const _0x5b8e2e=_0x20cdf8;switch(_0x4f084b[_0x5b8e2e(0x6f6)]){case _0x5b8e2e(0xaf):_0x4aa3b8[_0x5b8e2e(0xaf)](_0x4f084b['ref'],_0x4f084b[_0x5b8e2e(0x75d)]);break;case _0x5b8e2e(0x371):_0x4aa3b8[_0x5b8e2e(0x371)](_0x4f084b[_0x5b8e2e(0x145)],_0x4f084b[_0x5b8e2e(0x75d)]);break;case _0x5b8e2e(0x268):_0x4aa3b8[_0x5b8e2e(0x268)](_0x4f084b[_0x5b8e2e(0x145)]);}}[_0x20cdf8(0x194)](_0x41c3ea,_0x27e446){const _0x14a42c=_0x20cdf8;this[_0x14a42c(0xf5)]||(this[_0x14a42c(0xf5)]=this[_0x14a42c(0x3c0)]());const _0x130c05=(0x0,_0x2b2463[_0x14a42c(0x17b)])((0x0,_0x2b2463[_0x14a42c(0x27e)])(_0x2c07f4[_0x14a42c(0x124)](),_0x14a42c(0x602)+this[_0x14a42c(0x6f5)]+'/logs')),_0x532fc3={..._0x27e446,'service':_0x41c3ea,'timestamp':(0x0,_0x2b2463[_0x14a42c(0x884)])()},_0x517f74={'type':_0x14a42c(0xaf),'path':_0x130c05['path'],'ref':_0x130c05,'data':_0x532fc3};return this[_0x14a42c(0xf5)][_0x14a42c(0x7fd)][_0x14a42c(0x82c)](_0x517f74),this[_0x14a42c(0x62f)](this['currentBatch'][_0x14a42c(0x51d)],_0x517f74),_0x130c05;}}const _0x585abf=_0x1d989f[_0x20cdf8(0x38d)]();function _0x2a6855(_0x3a6f97,_0x3bd533){return'/'===_0x3a6f97?_0x3a6f97+_0x3bd533:_0x3a6f97+'/'+_0x3bd533;}function _0x123e53(_0x1b2db8){const _0x24c4a6=_0x20cdf8,_0x417450=function(_0x6fb21){const _0x1d3416=a0_0x2e24;return _0x6fb21[_0x1d3416(0x469)]('/')[_0x1d3416(0xb7)](_0x323d05=>_0x323d05[_0x1d3416(0x51a)]>0x0);}(_0x1b2db8),_0x3c7f56=_0x417450[_0x24c4a6(0x495)]()||'',_0x5869f8=_0x417450[_0x24c4a6(0x1e1)]('/');return[0x0===_0x5869f8[_0x24c4a6(0x51a)]?'/':_0x5869f8,_0x3c7f56];}async function _0x41a7d4(_0x5dddab){const _0x16ba35=_0x20cdf8;let _0x1e752f;const _0xe13969=_0x5dddab[_0x16ba35(0x3b4)]/0x100000;_0x1e752f=_0xe13969<=0xa?0x1:_0xe13969<=0x64?0.5:_0xe13969<=0x1f4?0.1:0.05;const _0x5edc21=Math[_0x16ba35(0x853)](_0x5dddab[_0x16ba35(0x3b4)]/_0x4f61ab),_0x4114f1=Math['ceil'](_0x5edc21*_0x1e752f);let _0x58b3db=new Uint8Array();for(let _0x277ad6=0x0;_0x277ad6<_0x4114f1;_0x277ad6++){const _0x7f6407=Math[_0x16ba35(0x47e)](_0x277ad6/_0x4114f1*_0x5dddab['size']);let _0x2a8536=_0x7f6407+_0x4f61ab;_0x2a8536>_0x5dddab[_0x16ba35(0x3b4)]&&(_0x2a8536=_0x5dddab['size']);const _0x12819a=_0x5dddab[_0x16ba35(0x2de)](_0x7f6407,_0x2a8536),_0x10bc52=await _0x12819a['arrayBuffer'](),_0x24b145=new Uint8Array([..._0x58b3db,...new Uint8Array(_0x10bc52)]);_0x58b3db=new Uint8Array(await crypto['subtle'][_0x16ba35(0x5a3)](_0x16ba35(0x39f),_0x24b145));}return Array[_0x16ba35(0x473)](new Uint8Array(_0x58b3db))[_0x16ba35(0x7ea)](_0x2065dc=>_0x2065dc[_0x16ba35(0xca)](0x10)[_0x16ba35(0x506)](0x2,'0'))[_0x16ba35(0x1e1)]('');}async function*_0x2e12fa(_0x51939d,_0x37ca25=0x0,_0x2eab43){const _0x1ba8a4=_0x20cdf8;let _0x27d52c=_0x37ca25*_0x5c4aec,_0x1a9a90=_0x51939d;for(;_0x27d52c<_0x1a9a90[_0x1ba8a4(0x3b4)];){let _0x11284f=_0x27d52c+_0x5c4aec;_0x11284f>_0x1a9a90[_0x1ba8a4(0x3b4)]&&(_0x11284f=_0x1a9a90[_0x1ba8a4(0x3b4)]);let _0x3d00d0=0x0;for(;_0x3d00d0<0x14;)try{await _0x2eab43?.();const _0x53fd47=_0x1a9a90[_0x1ba8a4(0x2de)](_0x27d52c,_0x11284f,_0x1ba8a4(0x766)),_0x302c5c=await _0x53fd47[_0x1ba8a4(0x4bf)]();yield _0x302c5c,_0x27d52c=_0x11284f,await new Promise(_0x322ccd=>setTimeout(_0x322ccd,0x0));break;}catch(_0x539370){if(console[_0x1ba8a4(0x7b5)](_0x1ba8a4(0x548)+(_0x3d00d0+0x1)+_0x1ba8a4(0x4e5),_0x539370),_0x3d00d0++,_0x3d00d0>0x14)throw _0x539370;let _0x2ce8c5=0x3e8*Math[_0x1ba8a4(0x85f)](0x2,_0x3d00d0);_0x2ce8c5>0x7530&&(_0x2ce8c5=0x7530),await new Promise(_0x4eeef6=>setTimeout(_0x4eeef6,_0x2ce8c5));}}}class _0xa58cfb extends _0x5799cd{[_0x20cdf8(0x65b)];[_0x20cdf8(0x234)];[_0x20cdf8(0x541)]=new Map();['messagesSent']=0x0;[_0x20cdf8(0x22c)]=0x0;[_0x20cdf8(0x25b)]=0x0;[_0x20cdf8(0x5a0)]=0x0;constructor(_0x1cf14e,_0x22b4d3){super(_0x1cf14e,_0x22b4d3);}[_0x20cdf8(0x353)](){const _0x3746f3=_0x20cdf8;return this[_0x3746f3(0x59f)];}['getName'](){const _0x2e9a8e=_0x20cdf8;return this[_0x2e9a8e(0x59f)];}[_0x20cdf8(0x7e9)](){const _0x2580b4=_0x20cdf8;return _0x3b754d[_0x2580b4(0x4e6)]['Data'];}[_0x20cdf8(0x242)](){return this['label'];}[_0x20cdf8(0xe4)](_0x5d6ac9){const _0x443e62=_0x20cdf8;if(this[_0x443e62(0x65b)])throw new _0x5a569f(_0x5a569f['codes']['InvalidPublisher'],{'message':_0x443e62(0x39a)+this['owner'][_0x443e62(0x66e)]()+_0x443e62(0x7a8)+this['label'],'topic':this[_0x443e62(0x65b)]});this[_0x443e62(0x65b)]=_0x5d6ac9;}['registerSubscriber'](_0x5f1a4e){const _0x197d8d=_0x20cdf8;if(this[_0x197d8d(0x234)])throw new _0x5a569f(_0x5a569f[_0x197d8d(0x4e8)]['InvalidSubscriber'],{'message':_0x197d8d(0x50b)+this['owner']['getId']()+_0x197d8d(0x7a8)+this[_0x197d8d(0x59f)],'topic':this['incomingTopic']});this['incomingTopic']=_0x5f1a4e;}[_0x20cdf8(0x4e0)](){const _0xc38172=_0x20cdf8;delete this[_0xc38172(0x65b)];}[_0x20cdf8(0x4ce)](){const _0x526faa=_0x20cdf8;delete this[_0x526faa(0x234)];}async[_0x20cdf8(0x84a)](_0x17ddd0,_0x187830){const _0xa8c330=_0x20cdf8;if(_0x585abf[_0xa8c330(0x447)](_0x324ffe[_0xa8c330(0x6e1)],_0xa8c330(0x141),this['owner'][_0xa8c330(0x66e)](),_0x17ddd0,_0x187830),this[_0xa8c330(0x20e)]+=0x1,_0x17ddd0 instanceof File){const _0x546bdb=await async function(_0x2735b4){const _0x330ba2=[];for await(const _0x20b0de of _0x2e12fa(_0x2735b4))_0x330ba2['push'](_0x20b0de);return _0x330ba2;}(_0x17ddd0);return this[_0xa8c330(0x25b)]+=_0x546bdb[_0xa8c330(0x339)]((_0x115722,_0x33461c)=>_0x115722+_0x33461c[_0xa8c330(0xf3)],0x0),void _0x546bdb['forEach']((_0x3d563a,_0x19169d)=>{const _0x1eeeed=_0xa8c330;this[_0x1eeeed(0x65b)][_0x1eeeed(0x1ed)]({'sourceId':this[_0x1eeeed(0x816)][_0x1eeeed(0x66e)](),'destinationIds':_0x187830,'propagate':!0x0,'contentType':_0x3b754d[_0x1eeeed(0x4e6)][_0x1eeeed(0x104)],'content':{'name':_0x17ddd0[_0x1eeeed(0x294)],'type':_0x17ddd0['type'],'data':_0x3d563a,'index':_0x19169d,'total':_0x546bdb[_0x1eeeed(0x51a)]}});});}this[_0xa8c330(0x25b)]+=JSON[_0xa8c330(0x8f7)](_0x17ddd0)[_0xa8c330(0x51a)],this[_0xa8c330(0x65b)][_0xa8c330(0x1ed)]({'sourceId':this[_0xa8c330(0x816)][_0xa8c330(0x66e)](),'destinationIds':_0x187830,'propagate':!0x0,'contentType':_0x3b754d[_0xa8c330(0x4e6)][_0xa8c330(0x848)],'content':_0x17ddd0});}[_0x20cdf8(0x735)](_0x23d94a){const _0x451d58=_0x20cdf8;return this[_0x451d58(0x234)]['subscribe'](_0x159593=>{const _0x294670=_0x451d58;switch(_0x585abf['log'](_0x324ffe[_0x294670(0x6e1)],_0x294670(0x4f2),this['owner'][_0x294670(0x66e)](),_0x159593),_0x159593[_0x294670(0x3d9)]){case _0x3b754d[_0x294670(0x4e6)][_0x294670(0x848)]:this['messagesReceived']+=0x1,this[_0x294670(0x5a0)]+=JSON[_0x294670(0x8f7)](_0x159593[_0x294670(0x843)])[_0x294670(0x51a)],_0x23d94a(_0x159593['sourceId'],_0x159593['content']);break;case _0x3b754d['ContentType'][_0x294670(0x104)]:this['fileChunks'][_0x294670(0x6f2)](_0x159593[_0x294670(0x843)][_0x294670(0x294)])||this[_0x294670(0x541)][_0x294670(0xaf)](_0x159593[_0x294670(0x843)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x183fcf=this['fileChunks'][_0x294670(0x333)](_0x159593[_0x294670(0x843)][_0x294670(0x294)]);if(_0x183fcf['chunksReceived']+=0x1,_0x183fcf[_0x294670(0x5a0)]+=_0x159593[_0x294670(0x843)][_0x294670(0x75d)][_0x294670(0xf3)],_0x183fcf[_0x294670(0x843)]&&(_0x183fcf['content'][_0x159593[_0x294670(0x843)][_0x294670(0x503)]]=_0x159593[_0x294670(0x843)]['data']),this['fileChunks'][_0x294670(0xaf)](_0x159593[_0x294670(0x843)][_0x294670(0x294)],_0x183fcf),_0x183fcf[_0x294670(0x3be)]+0x1<_0x159593[_0x294670(0x843)][_0x294670(0x1da)])return;this[_0x294670(0x22c)]+=0x1,this[_0x294670(0x5a0)]+=_0x183fcf[_0x294670(0x5a0)],_0x183fcf['content']&&_0x23d94a(_0x159593[_0x294670(0x8c8)],(_0x36d174=_0x183fcf[_0x294670(0x843)],_0x5bb2d2=_0x159593[_0x294670(0x843)]['name'],_0x55ae32=_0x159593[_0x294670(0x843)][_0x294670(0x6f6)],new File(_0x36d174,_0x5bb2d2,{'type':_0x55ae32}))),this[_0x294670(0x541)]['delete'](_0x159593[_0x294670(0x843)][_0x294670(0x294)]);}var _0x36d174,_0x5bb2d2,_0x55ae32;});}}function _0x53e3a2(){const _0x1b219f=_0x20cdf8;let _0x497f88=[];return{'subscribe':_0x5e9670=>(_0x497f88[_0x1b219f(0x82c)](_0x5e9670),()=>{const _0x5a111d=_0x1b219f;_0x497f88=_0x497f88[_0x5a111d(0xb7)](_0x2c4738=>_0x2c4738!==_0x5e9670);}),'publish':_0x3bedec=>{const _0x391167=_0x1b219f;_0x497f88[_0x391167(0x34b)](_0x48a325=>_0x48a325(_0x3bedec));}};}function _0x3356bb(){let _0x24e9c6;return{'subscribe':_0x4c8e62=>(_0x24e9c6=_0x4c8e62,()=>{_0x24e9c6=void 0x0;}),'publish':_0x2b14cb=>{_0x24e9c6&&_0x24e9c6(_0x2b14cb);}};}class _0x26dc00{[_0x20cdf8(0x2eb)];['tableName'];[_0x20cdf8(0x488)];[_0x20cdf8(0x764)]=_0x3356bb();['listenerUnsubscriber'];constructor(_0x44c318,_0x5df4ca,_0x32b72b){const _0x42743a=_0x20cdf8;this[_0x42743a(0x2eb)]=_0x44c318,this[_0x42743a(0xf1)]=_0x5df4ca,this[_0x42743a(0x488)]=_0x32b72b;}['destroy'](){const _0x1c416e=_0x20cdf8;this[_0x1c416e(0x8d2)]?.();}async[_0x20cdf8(0x333)](_0x115cea){const _0x1bec85=_0x20cdf8,_0x1d8080={'key':_0x115cea,'tableName':this['tableName'],'action':_0x316213[_0x1bec85(0x470)]};return this[_0x1bec85(0x488)][_0x1bec85(0x1ed)](_0x1d8080),this[_0x1bec85(0x2eb)][_0x1bec85(0x333)](_0x115cea);}async[_0x20cdf8(0xaf)](_0x607e5e,_0x5aa009,_0x14aeab=!0x0){const _0x5b629f=_0x20cdf8;this[_0x5b629f(0x163)](_0x5aa009);const _0xe59676=await this[_0x5b629f(0x2eb)][_0x5b629f(0x333)](_0x607e5e),_0x579152=await this['connector'][_0x5b629f(0xaf)](_0x607e5e,_0x5aa009),_0x47233f=_0xe59676?_0x26b39a['Update']:_0x26b39a[_0x5b629f(0x344)];if(this[_0x5b629f(0x1ed)](_0x47233f,_0x579152),!_0x14aeab)return _0x579152;const _0x14c59a={'key':_0x607e5e,'tableName':this['tableName'],'action':_0x47233f,'value':_0x579152};return this[_0x5b629f(0x488)][_0x5b629f(0x1ed)](_0x14c59a),_0x579152;}async[_0x20cdf8(0x43e)](_0x4b44c4){const _0x58343b=_0x20cdf8;this[_0x58343b(0x163)](_0x4b44c4);const _0x3378ad=await this[_0x58343b(0x2eb)][_0x58343b(0x43e)](_0x4b44c4),_0x26495d={'key':_0x3378ad['id'],'tableName':this['tableName'],'action':_0x26b39a['Add'],'value':_0x3378ad};return this[_0x58343b(0x488)][_0x58343b(0x1ed)](_0x26495d),this[_0x58343b(0x1ed)](_0x26495d[_0x58343b(0x22f)],_0x3378ad),_0x3378ad;}async[_0x20cdf8(0x268)](_0x3c94b9,_0x13dd06=!0x0){const _0x2e3138=_0x20cdf8,_0x409276=await this[_0x2e3138(0x2eb)][_0x2e3138(0x333)](_0x3c94b9);if(!_0x409276)return;await this[_0x2e3138(0x2eb)][_0x2e3138(0x268)](_0x3c94b9);const _0x488d13=_0x26b39a['Delete'];if(this[_0x2e3138(0x1ed)](_0x488d13,_0x409276),!_0x13dd06)return;const _0x5429ba={'key':_0x3c94b9,'tableName':this[_0x2e3138(0xf1)],'action':_0x488d13,'value':_0x409276};this['tableObserver']['publish'](_0x5429ba);}async[_0x20cdf8(0x1fc)](){const _0x2b104a=_0x20cdf8,_0x40b690=await this[_0x2b104a(0x532)]();for(const _0x26f4dc of _0x40b690){const _0x25dbbf=_0x26b39a[_0x2b104a(0x826)];this['publish'](_0x25dbbf,_0x26f4dc);const _0x9c7f38={'key':_0x26f4dc['id'],'tableName':this[_0x2b104a(0xf1)],'action':_0x25dbbf,'value':_0x26f4dc};this['tableObserver'][_0x2b104a(0x1ed)](_0x9c7f38);}return this[_0x2b104a(0x2eb)]['clear']();}async[_0x20cdf8(0x532)](_0x223acc){const _0xe02316=_0x20cdf8,_0x125b25={'key':'','tableName':this[_0xe02316(0xf1)],'action':_0x316213[_0xe02316(0x6f3)]};this['tableObserver']['publish'](_0x125b25);try{_0x223acc&&(_0x223acc=_0x223acc instanceof _0x18b056?_0x223acc[_0xe02316(0x276)]():_0x18b056[_0xe02316(0x895)](_0x223acc)['getQuery']());}catch(_0x3d57da){throw new _0x47cbae(_0x40f53d[_0xe02316(0x1db)],_0xe02316(0x25c));}try{return await this[_0xe02316(0x2eb)][_0xe02316(0x532)](_0x223acc);}catch(_0x7bdb75){let _0x42d3cc='Invalid\x20query';throw _0x7bdb75 instanceof Error&&(_0x42d3cc=_0x7bdb75[_0xe02316(0x129)]),new _0x47cbae(_0x40f53d[_0xe02316(0x1db)],_0x42d3cc);}}async['count'](_0x3957bf){const _0x28daec=_0x20cdf8,_0x233dbd={'key':'','tableName':this[_0x28daec(0xf1)],'action':_0x316213['Count']};this[_0x28daec(0x488)][_0x28daec(0x1ed)](_0x233dbd);try{_0x3957bf&&(_0x3957bf=_0x3957bf instanceof _0x18b056?_0x3957bf[_0x28daec(0x276)]():_0x18b056[_0x28daec(0x895)](_0x3957bf)['getQuery']());}catch(_0x55b9af){throw new _0x47cbae(_0x40f53d[_0x28daec(0x1db)],_0x28daec(0x25c));}try{return await this[_0x28daec(0x2eb)][_0x28daec(0x8b9)](_0x3957bf);}catch(_0x4cfb5f){let _0x3b68d4=_0x28daec(0x25c);throw _0x4cfb5f instanceof Error&&(_0x3b68d4=_0x4cfb5f[_0x28daec(0x129)]),new _0x47cbae(_0x40f53d[_0x28daec(0x1db)],_0x3b68d4);}}[_0x20cdf8(0x487)](){const _0x4ac47d=_0x20cdf8;return this[_0x4ac47d(0x2eb)][_0x4ac47d(0x487)]();}['subscribe'](_0xf6fc48){const _0x2e8d78=_0x20cdf8;this['listenerUnsubscriber']=this[_0x2e8d78(0x764)][_0x2e8d78(0x3cb)](_0xf6fc48);}[_0x20cdf8(0x579)](){const _0x5dfbbc=_0x20cdf8;this[_0x5dfbbc(0x8d2)]?.();}[_0x20cdf8(0x1ed)](_0x3961a4,_0x910f41){const _0x278a8c=_0x20cdf8,_0x4536e8=this[_0x278a8c(0x230)](_0x3961a4,_0x910f41);this[_0x278a8c(0x764)]['publish'](_0x4536e8);}[_0x20cdf8(0x230)](_0x5c8e63,_0x2f00c7){const _0x3b8362=_0x20cdf8;let _0x4086b8;switch(_0x5c8e63){case _0x26b39a[_0x3b8362(0x344)]:_0x4086b8=_0x3b8362(0x43e);break;case _0x26b39a[_0x3b8362(0x5c1)]:_0x4086b8='update';break;case _0x26b39a[_0x3b8362(0x826)]:_0x4086b8='delete';}return{'action':_0x4086b8,'value':_0x2f00c7};}['validateValue'](_0x5dfd5f){const _0x1b59d9=_0x20cdf8;if(_0x1b59d9(0x1ac)!=typeof _0x5dfd5f||null===_0x5dfd5f)throw new _0x47cbae(_0x40f53d[_0x1b59d9(0x1d1)],_0x1b59d9(0x7aa));for(const _0x1fef1f in _0x5dfd5f){const _0x6c72ee=_0x5dfd5f[_0x1fef1f];if(_0x1b59d9(0x1ac)!=typeof _0x6c72ee||_0x6c72ee instanceof Date){if(![_0x1b59d9(0x478),_0x1b59d9(0x8eb),'boolean'][_0x1b59d9(0x8cb)](typeof _0x6c72ee))throw new _0x47cbae(_0x40f53d[_0x1b59d9(0x1d1)],_0x1b59d9(0x508)+_0x1fef1f+_0x1b59d9(0x7f7));}else this['validateValue'](_0x6c72ee);}}}class _0x2a6150 extends _0xa58cfb{['localNode'];[_0x20cdf8(0x461)];[_0x20cdf8(0x6f5)];['db'];[_0x20cdf8(0x4db)];[_0x20cdf8(0x4a2)]=new Map();['tableObserver'];[_0x20cdf8(0x3da)];['tableUnsubscriber'];[_0x20cdf8(0x4ba)];[_0x20cdf8(0x366)];[_0x20cdf8(0x489)]=[];[_0x20cdf8(0x6ec)]=()=>{};['syncTimeout'];['eventListener']=_0x3356bb();[_0x20cdf8(0x8d2)];[_0x20cdf8(0x6d7)]=[];[_0x20cdf8(0x481)];[_0x20cdf8(0x8c2)];[_0x20cdf8(0x686)]=0x0;[_0x20cdf8(0x3e0)]=0x0;constructor(_0x31ed20,_0x2d64b1,_0x42eb2d,_0x7360b,_0x4c3a3a,_0x4e753f){const _0x25b0bf=_0x20cdf8;if(_0x25b0bf(0x478)!=typeof _0x2d64b1)throw new _0x47cbae(_0x40f53d[_0x25b0bf(0x148)],_0x25b0bf(0x4fc));if(super(_0x31ed20,_0x2d64b1),this[_0x25b0bf(0x21a)]=_0x31ed20,this[_0x25b0bf(0x461)]=_0x42eb2d,this[_0x25b0bf(0x6f5)]=_0x7360b,this[_0x25b0bf(0x4db)]=_0x25b0bf(0x6a9)+this[_0x25b0bf(0x6f5)]+'ccc'+this['clusterId']+_0x25b0bf(0x6a9)+this[_0x25b0bf(0x59f)],this[_0x25b0bf(0x488)]=_0x3356bb(),this[_0x25b0bf(0x4ba)]=new Promise(_0xe4cda4=>{const _0xf6c59f=_0x25b0bf;this[_0xf6c59f(0x366)]=_0xe4cda4;}),_0x4c3a3a instanceof _0x57fa10)this[_0x25b0bf(0x481)]=_0x4c3a3a[_0x25b0bf(0x372)]();else{const [_0x540e65,_0x643948]=_0x57fa10[_0x25b0bf(0x776)](_0x4c3a3a);if(!_0x540e65)throw new _0x47cbae(_0x40f53d['KeyValueDatabaseInvalidLayout'],'Invalid\x20layout:\x20'+_0x643948);this[_0x25b0bf(0x481)]=structuredClone(_0x4c3a3a);}this[_0x25b0bf(0x784)](this['layout']),this['db']=new _0x4e753f(this[_0x25b0bf(0x4db)],this[_0x25b0bf(0x481)]),this['sendStats']();}[_0x20cdf8(0x8b5)](){const _0x103a2b=_0x20cdf8;this[_0x103a2b(0x205)]();}[_0x20cdf8(0x7e9)](){const _0x179cba=_0x20cdf8;return _0x3b754d['ContentType'][_0x179cba(0x400)];}[_0x20cdf8(0xb2)](){const _0x4448c5=_0x20cdf8;this['db']['close'](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x4448c5(0x8c2)]),delete this[_0x4448c5(0x8c2)],super['destroy']();}[_0x20cdf8(0x671)](){const _0x307768=_0x20cdf8;this['clearSyncTimeout'](),this[_0x307768(0x361)][_0x307768(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0['Content'],'content':{'type':_0x277618[_0x307768(0x6c6)],'label':this[_0x307768(0x59f)]}});}[_0x20cdf8(0x5d4)](_0x22f051){const _0x3d5e63=_0x20cdf8,_0x5750dc=this['tables']['get'](_0x22f051);if(_0x5750dc)return _0x5750dc;try{if(!this['db'][_0x3d5e63(0x118)](_0x22f051))throw new _0x47cbae(_0x40f53d[_0x3d5e63(0x526)],_0x3d5e63(0x236));const _0x228026=new _0x26dc00(this['db']['getTableConnector'](_0x22f051),_0x22f051,this[_0x3d5e63(0x488)]);return this[_0x3d5e63(0x4a2)][_0x3d5e63(0xaf)](_0x22f051,_0x228026),{'get':_0x228026[_0x3d5e63(0x333)][_0x3d5e63(0x684)](_0x228026),'set':_0x228026['set'][_0x3d5e63(0x684)](_0x228026),'add':_0x228026[_0x3d5e63(0x43e)][_0x3d5e63(0x684)](_0x228026),'delete':_0x228026[_0x3d5e63(0x268)][_0x3d5e63(0x684)](_0x228026),'clear':_0x228026[_0x3d5e63(0x1fc)]['bind'](_0x228026),'list':_0x228026['list'][_0x3d5e63(0x684)](_0x228026),'count':_0x228026[_0x3d5e63(0x8b9)][_0x3d5e63(0x684)](_0x228026),'subscribe':_0x228026[_0x3d5e63(0x3cb)][_0x3d5e63(0x684)](_0x228026),'unsubscribe':_0x228026[_0x3d5e63(0x579)][_0x3d5e63(0x684)](_0x228026)};}catch(_0x5ecb6){if(_0x5ecb6 instanceof _0x47cbae)throw _0x5ecb6;throw new _0x47cbae(_0x40f53d[_0x3d5e63(0xe8)],_0x3d5e63(0x613));}}async[_0x20cdf8(0x69c)](_0x4b1d7b){const _0x461720=_0x20cdf8;return Promise[_0x461720(0x536)]([_0x4b1d7b,Promise[_0x461720(0x576)](_0x461720(0x3e1))])[_0x461720(0x166)](_0x5297e9=>_0x461720(0x3e1)!==_0x5297e9);}[_0x20cdf8(0x3cb)](_0xede24c){const _0x37f15b=_0x20cdf8;this[_0x37f15b(0x8d2)]=this['eventListener'][_0x37f15b(0x3cb)](_0xede24c),this[_0x37f15b(0x69c)](this[_0x37f15b(0x4ba)])['then'](_0xac8788=>{const _0x50e77c=_0x37f15b;_0xac8788&&this[_0x50e77c(0x764)][_0x50e77c(0x1ed)]({'event':_0x3b754d[_0x50e77c(0x75c)][_0x50e77c(0x824)]});});}[_0x20cdf8(0x579)](){const _0x33fd2a=_0x20cdf8;this['listenerUnsubscriber']?.(),this[_0x33fd2a(0x8d2)]=void 0x0;}async[_0x20cdf8(0x8fc)](){const _0x2824ed=_0x20cdf8,_0x50ea68=[_0x30be78,_0x55d258],_0x3ec913=[];try{await this['db'][_0x2824ed(0x8fc)]();const _0x444354=this['db']['getTableConnector'](_0x55d258),_0x315a75=await _0x444354['list'](),{id:_0xe46313,layout:_0x8c0329}=_0x315a75[0x0]??{};if(_0x8c0329){for(const _0x42651c in _0x8c0329)_0x50ea68[_0x2824ed(0x8cb)](_0x42651c)||this['db'][_0x2824ed(0x118)](_0x42651c)||_0x3ec913['push'](_0x42651c);await _0x444354[_0x2824ed(0xaf)](_0xe46313,{'layout':this['layout']});}else await _0x444354[_0x2824ed(0x43e)]({'layout':this[_0x2824ed(0x481)]});}catch(_0x169dfa){throw new _0x47cbae(_0x40f53d[_0x2824ed(0xe8)],_0x169dfa[_0x2824ed(0x129)]||_0x2824ed(0x4be));}this['instantiateTransactionTable'](),this[_0x2824ed(0x86a)](),this[_0x2824ed(0x6be)](),_0x3ec913[_0x2824ed(0x34b)](_0x2ea932=>this[_0x2824ed(0x66b)](_0x2ea932));}async[_0x20cdf8(0x116)](_0x26bf32,_0x16ea03){const _0x3ef7d5=_0x20cdf8;_0x26bf32?(this[_0x3ef7d5(0x6ec)]=_0x16ea03,this[_0x3ef7d5(0x8b3)]=setTimeout(_0x16ea03,_0x53dd3d),this[_0x3ef7d5(0x361)]&&(this['systemTopic']['publish']({'sourceId':this[_0x3ef7d5(0x21a)][_0x3ef7d5(0x66e)](),'destinationIds':[_0x26bf32],'messageType':_0x213fd0['Content'],'content':{'type':_0x277618[_0x3ef7d5(0x667)],'label':this[_0x3ef7d5(0x59f)]}}),await this[_0x3ef7d5(0x4ba)])):setTimeout(()=>{const _0x2d580=_0x3ef7d5;this[_0x2d580(0x2f7)](),this[_0x2d580(0x585)]();},0x0);}async['sendTransactionsDump'](_0x5ae9d7){const _0x2b2a97=_0x20cdf8;if(!this[_0x2b2a97(0x3da)])throw new _0x5a569f(_0x5a569f['codes']['KeyValueDatabaseTransactionTableNotInitialized']);await this['isSync'];const _0x2f971b=await this['transactionTable'][_0x2b2a97(0x532)]();this[_0x2b2a97(0x361)]['publish']({'sourceId':this[_0x2b2a97(0x21a)]['getId'](),'destinationIds':[_0x5ae9d7],'messageType':_0x213fd0['Content'],'content':{'type':_0x277618[_0x2b2a97(0x7bb)],'label':this[_0x2b2a97(0x59f)],'transactions':_0x2f971b}});}async[_0x20cdf8(0x331)](_0x181277,_0x5d8ea2){const _0x40c135=_0x20cdf8;if(!this[_0x40c135(0x3da)])throw new _0x5a569f(_0x5a569f[_0x40c135(0x4e8)][_0x40c135(0x8c4)]);this['clearSyncTimeout']();const _0x22e7b5=await this['transactionTable'][_0x40c135(0x532)]();for(const _0x15e3ef of _0x22e7b5){const _0x27e376=_0x5d8ea2['find'](_0x38e0d3=>_0x38e0d3['id']===_0x15e3ef['id']);if(_0x27e376&&this[_0x40c135(0x534)](_0x15e3ef,_0x27e376)<=0x0)continue;const [_0x3b2bb8,_0x47f868]=_0x15e3ef['id']['split']('::'),_0x4ef94c=this[_0x40c135(0x4a2)]['get'](_0x3b2bb8),_0x48ab9c=await _0x4ef94c?.[_0x40c135(0x333)](_0x47f868);_0x15e3ef['value']=_0x48ab9c,this[_0x40c135(0x84a)](_0x15e3ef);}for(const _0x29bd0c of _0x5d8ea2){const _0x12d699=await this[_0x40c135(0x3da)]['get'](_0x29bd0c['id']);if(!(_0x12d699&&this[_0x40c135(0x534)](_0x29bd0c,_0x12d699)<=0x0)){if(_0x29bd0c[_0x40c135(0x22f)]===_0x26b39a['Delete']){const [_0x20d243,_0x84cc26]=_0x29bd0c['id'][_0x40c135(0x469)]('::'),_0x551dc2=this[_0x40c135(0x4a2)][_0x40c135(0x333)](_0x20d243);await _0x551dc2?.[_0x40c135(0x268)](_0x84cc26,!0x1);}else this[_0x40c135(0x489)][_0x40c135(0x82c)](_0x29bd0c['id']);}}if(0x0===this['transactionsToSync'][_0x40c135(0x51a)])return this[_0x40c135(0x2f7)](),void this[_0x40c135(0x585)]();this[_0x40c135(0x8b3)]=setTimeout(this[_0x40c135(0x6ec)],_0x53dd3d),this[_0x40c135(0x361)][_0x40c135(0x1ed)]({'sourceId':this[_0x40c135(0x21a)][_0x40c135(0x66e)](),'destinationIds':[_0x181277],'messageType':_0x213fd0[_0x40c135(0x326)],'content':{'type':_0x277618[_0x40c135(0x11d)],'label':this[_0x40c135(0x59f)],'transactionIds':this[_0x40c135(0x489)]}});}async[_0x20cdf8(0x1e7)](_0x2c93ad,_0x1170f4){const _0x3df2b2=_0x20cdf8;if(!this['transactionTable'])throw new _0x5a569f(_0x5a569f[_0x3df2b2(0x4e8)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x25dab9 of _0x1170f4){const _0x4d9459=await this[_0x3df2b2(0x3da)][_0x3df2b2(0x333)](_0x25dab9);if(!_0x4d9459)continue;const [_0x289620,_0x205ff9]=_0x25dab9[_0x3df2b2(0x469)]('::'),_0x35baa6=this['tables']['get'](_0x289620),_0x4b6cbe=await _0x35baa6?.['get'](_0x205ff9);_0x4d9459[_0x3df2b2(0x74d)]=_0x4b6cbe,this[_0x3df2b2(0x84a)](_0x4d9459,[_0x2c93ad]);}}async[_0x20cdf8(0x888)](_0x55a4fc){const _0x539a4c=_0x20cdf8;if(!this[_0x539a4c(0x3da)])throw new _0x5a569f(_0x5a569f[_0x539a4c(0x4e8)][_0x539a4c(0x8c4)]);const _0x1b94e9=await this[_0x539a4c(0x3da)][_0x539a4c(0x333)](_0x55a4fc['id']);if(_0x1b94e9&&this['compareTransactions'](_0x55a4fc,_0x1b94e9)<=0x0)return;const _0x4ae17a={..._0x55a4fc};return delete _0x4ae17a['value'],await this[_0x539a4c(0x3da)][_0x539a4c(0xaf)](_0x55a4fc['id'],_0x4ae17a),_0x55a4fc;}[_0x20cdf8(0x534)](_0x374c1b,_0x527b08){const _0x2126b2=_0x20cdf8;return _0x374c1b[_0x2126b2(0x745)]<_0x527b08['timestamp']?-0x1:_0x374c1b['timestamp']>_0x527b08[_0x2126b2(0x745)]?0x1:_0x374c1b['priority']-_0x527b08[_0x2126b2(0x74f)];}async[_0x20cdf8(0x631)](_0x5730f1){const _0x130077=_0x20cdf8;if(!this[_0x130077(0x3da)])throw new _0x5a569f(_0x5a569f[_0x130077(0x4e8)][_0x130077(0x8c4)]);const _0x28dcd8=_0x5730f1['tableName']+'::'+_0x5730f1['key'],_0x54bbd5=await _0x2c07f4[_0x130077(0x7ef)](),_0xdc0266={'id':_0x28dcd8,'priority':Math[_0x130077(0x1f7)](),'timestamp':_0x54bbd5,'action':_0x5730f1[_0x130077(0x22f)]};if(await this[_0x130077(0x888)](_0xdc0266))return _0xdc0266;}async[_0x20cdf8(0x66b)](_0x414312){const _0x4c95c1=_0x20cdf8;if(!this[_0x4c95c1(0x3da)])throw new _0x5a569f(_0x5a569f[_0x4c95c1(0x4e8)][_0x4c95c1(0x8c4)]);const _0xb019ea=_0x18b056[_0x4c95c1(0x503)]('id')[_0x4c95c1(0x2da)](_0x4c95c1(0x32d),[_0x414312+'::',_0x414312+_0x4c95c1(0x48e)]),_0x2d8b5d=await this['transactionTable'][_0x4c95c1(0x532)](_0xb019ea[_0x4c95c1(0x276)]());for(const _0x5359d4 of _0x2d8b5d)await this['transactionTable']['delete'](_0x5359d4['id']);}['setOnMessageHandler'](){const _0x4d0f14=_0x20cdf8;this[_0x4d0f14(0x735)](async(_0x161ad1,_0xb258ea)=>{const _0x3e67e8=_0x4d0f14;if(_0xb258ea instanceof File)return;if(!await this[_0x3e67e8(0x888)](_0xb258ea))return void this[_0x3e67e8(0xd8)](_0xb258ea);if(!_0xb258ea[_0x3e67e8(0x74d)])throw new _0x5a569f(_0x5a569f[_0x3e67e8(0x4e8)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x351425,_0x898873]=_0xb258ea['id'][_0x3e67e8(0x469)]('::'),_0x3b30f8=this[_0x3e67e8(0x4a2)][_0x3e67e8(0x333)](_0x351425)??this['getTable'](_0x351425);if(!_0x3b30f8)throw new _0x5a569f(_0x5a569f[_0x3e67e8(0x4e8)][_0x3e67e8(0x831)],{'table':_0x3b30f8});let _0x4ea4b4=0x0;switch(_0xb258ea[_0x3e67e8(0x22f)]){case _0x26b39a[_0x3e67e8(0x344)]:case _0x26b39a[_0x3e67e8(0x5c1)]:{const _0x5e6ba4=_0x3b30f8[_0x3e67e8(0xaf)](_0x898873,_0xb258ea['value'],!0x1);_0x4ea4b4=JSON['stringify'](_0xb258ea[_0x3e67e8(0x74d)])['length'],this['transactionsToSync'][_0x3e67e8(0x8cb)](_0xb258ea['id'])&&this['syncTransactionsWritten'][_0x3e67e8(0x82c)](_0x5e6ba4);break;}case _0x26b39a['Delete']:{const _0x3dfabc=_0x3b30f8['delete'](_0x898873,!0x1);this[_0x3e67e8(0x489)][_0x3e67e8(0x8cb)](_0xb258ea['id'])&&this[_0x3e67e8(0x6d7)][_0x3e67e8(0x82c)](_0x3dfabc);break;}}_0x585abf[_0x3e67e8(0x711)](_0x50e58d[_0x3e67e8(0x400)],{'type':_0x3e67e8(0x116),'label':this['label'],'nodeId':this[_0x3e67e8(0x21a)]['getId'](),'nodeType':this[_0x3e67e8(0x21a)][_0x3e67e8(0x6f6)],'clusterId':this[_0x3e67e8(0x461)],'tableName':_0x351425,'key':_0x898873,'size':_0x4ea4b4}),this[_0x3e67e8(0xd8)](_0xb258ea);});}[_0x20cdf8(0x6be)](){this['tableUnsubscriber']=this['tableObserver']['subscribe'](async _0x1682de=>{const _0x45936c=a0_0x2e24;let _0x1cdb1a=0x0;switch(_0x1682de['action']){case _0x26b39a[_0x45936c(0x344)]:case _0x26b39a[_0x45936c(0x5c1)]:case _0x26b39a[_0x45936c(0x826)]:{const _0x530312=await this[_0x45936c(0x631)](_0x1682de);if(!_0x530312)return;_0x530312[_0x45936c(0x74d)]=_0x1682de[_0x45936c(0x74d)],this[_0x45936c(0x84a)](_0x530312),_0x1cdb1a=JSON[_0x45936c(0x8f7)](_0x1682de[_0x45936c(0x74d)])[_0x45936c(0x51a)],this[_0x45936c(0x686)]+=0x1;break;}case _0x316213[_0x45936c(0x470)]:case _0x316213[_0x45936c(0x6f3)]:case _0x316213[_0x45936c(0x7f4)]:this['reads']+=0x1;}_0x585abf[_0x45936c(0x711)](_0x50e58d[_0x45936c(0x400)],{'type':_0x1682de[_0x45936c(0x22f)],'label':this[_0x45936c(0x59f)],'nodeId':this[_0x45936c(0x21a)][_0x45936c(0x66e)](),'nodeType':this['localNode'][_0x45936c(0x6f6)],'clusterId':this[_0x45936c(0x461)],'tableName':_0x1682de[_0x45936c(0xf1)],'key':_0x1682de[_0x45936c(0x377)],'size':_0x1cdb1a}),this[_0x45936c(0x205)]();});}[_0x20cdf8(0x633)](){const _0x3a8e1a=_0x20cdf8;this['db']&&(this[_0x3a8e1a(0x3da)]||(this[_0x3a8e1a(0x3da)]=this['db'][_0x3a8e1a(0x575)](_0x30be78)));}[_0x20cdf8(0x2f7)](){const _0xaf7d54=_0x20cdf8;this[_0xaf7d54(0x8b3)]&&(clearTimeout(this[_0xaf7d54(0x8b3)]),delete this[_0xaf7d54(0x8b3)]);}['publishSyncCompleted'](){const _0x25ff4f=_0x20cdf8;this[_0x25ff4f(0x764)][_0x25ff4f(0x1ed)]({'event':_0x3b754d['DatabaseEvent']['SyncComplete']}),this[_0x25ff4f(0x366)]?.(!0x0),delete this[_0x25ff4f(0x366)],this[_0x25ff4f(0x205)]();}async[_0x20cdf8(0x8ab)](){const _0x76d125=_0x20cdf8;await Promise[_0x76d125(0x37d)](this[_0x76d125(0x6d7)]),this[_0x76d125(0x585)]();}['checkSyncComplete'](_0x588307){const _0x109afb=_0x20cdf8;this[_0x109afb(0x489)][_0x109afb(0x8cb)](_0x588307['id'])&&(this['clearSyncTimeout'](),this[_0x109afb(0x489)]=this[_0x109afb(0x489)][_0x109afb(0xb7)](_0x1d6174=>_0x1d6174!==_0x588307['id']),0x0!==this[_0x109afb(0x489)][_0x109afb(0x51a)]?this['syncTimeout']=setTimeout(this[_0x109afb(0x6ec)],_0x53dd3d):this[_0x109afb(0x8ab)]());}['sendStats'](){const _0x32e22c=_0x20cdf8;this[_0x32e22c(0x8c2)]&&clearTimeout(this['debounceStats']),this[_0x32e22c(0x8c2)]=setTimeout(async()=>{const _0x538387=_0x32e22c;delete this[_0x538387(0x8c2)];let _0x3e8c28=0x0;for(const _0x4d41f3 of this[_0x538387(0x4a2)]['values']())_0x3e8c28+=await _0x4d41f3['calculateSize']();this['systemTopic'][_0x538387(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0['Content'],'content':{'type':_0x277618[_0x538387(0xeb)],'label':this[_0x538387(0x59f)],'stats':{'timestamp':Date[_0x538387(0x76a)](),'storage':_0x3e8c28,'messagesSent':this[_0x538387(0x20e)],'messagesReceived':this[_0x538387(0x22c)],'bytesSent':this[_0x538387(0x25b)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x538387(0x3e0)],'prompts':0x0,'tokens':0x0}}}),_0x585abf[_0x538387(0x86f)](_0x50e58d['KeyValueDatabase'],_0x538387(0x6a9)+this[_0x538387(0x461)]+'ccc'+this['label'],_0x3e8c28);},_0x490b21);}[_0x20cdf8(0x784)](_0x5e1915){const _0x20d5a5=_0x20cdf8;if(_0x5e1915[_0x20d5a5(0x4a2)][_0x30be78])throw new _0x47cbae(_0x40f53d[_0x20d5a5(0x533)],_0x20d5a5(0x2b4)+_0x30be78+_0x20d5a5(0x1a1));if(_0x5e1915['tables'][_0x55d258])throw new _0x47cbae(_0x40f53d['KeyValueDatabaseTableNameReserved'],_0x20d5a5(0x2b4)+_0x55d258+'\x27\x20reserved');_0x5e1915['tables'][_0x30be78]={'indexes':[]},_0x5e1915['tables'][_0x55d258]={'indexes':[]};}}const _0x57fa0a=require('@crewdle/mist-connector-opfs'),_0x2e633b=require('@crewdle/mist-connector-indexed-db'),_0x49ab91=require('@crewdle/mist-connector-webrtc-browser'),_0x35cc76=0x1fc00000;var _0x233194,_0x5a0b34,_0x320761,_0x31e650,_0x1b9d67,_0x2c3880,_0x1c7d55,_0x19e6e6,_0x1f6018;!function(_0x5b6b24){const _0xe378b7=_0x20cdf8;_0x5b6b24['AudioContext']='AudioContext',_0x5b6b24[_0xe378b7(0x840)]='AudioOutput',_0x5b6b24['AudioVolume']=_0xe378b7(0x865),_0x5b6b24['Backgrounds']='Backgrounds',_0x5b6b24[_0xe378b7(0x5eb)]='DeviceConfig',_0x5b6b24[_0xe378b7(0x3ab)]=_0xe378b7(0x3ab),_0x5b6b24[_0xe378b7(0x401)]=_0xe378b7(0x401),_0x5b6b24[_0xe378b7(0x50e)]=_0xe378b7(0x50e),_0x5b6b24[_0xe378b7(0x716)]='WebGL',_0x5b6b24[_0xe378b7(0x29c)]='WebRTC';}(_0x233194||(_0x233194={}));class _0x2a7bb8{['registeredListeners'];[_0x20cdf8(0x251)];['eventTarget'];constructor(_0x1665d7=new Map(),_0x537dbb=new Map(),_0x162164=new EventTarget()){const _0x6d3ea6=_0x20cdf8;this[_0x6d3ea6(0x21c)]=_0x1665d7,this['bufferedEvents']=_0x537dbb,this[_0x6d3ea6(0x1e6)]=_0x162164;}[_0x20cdf8(0x78d)]=(_0x3e1f98,_0x3864f6)=>this['registeredListeners'][_0x20cdf8(0x6f2)](_0x3e1f98)?(_0x585abf[_0x20cdf8(0x447)](_0x324ffe[_0x20cdf8(0x2ce)],_0x20cdf8(0x3bc),{'event':_0x3e1f98,'data':_0x3864f6}),this[_0x20cdf8(0x1e6)][_0x20cdf8(0x317)](new CustomEvent(_0x3e1f98,{'detail':_0x3864f6})),!0x0):(this[_0x20cdf8(0x123)](_0x3e1f98,_0x3864f6),!0x1);['on']=(_0x290b19,_0x50311b)=>{const _0x3ab658=_0x20cdf8,_0x14d604=_0x21ca12=>{const _0x3c9fcd=a0_0x2e24;_0x585abf[_0x3c9fcd(0x447)](_0x324ffe[_0x3c9fcd(0x2ce)],_0x3c9fcd(0x14d),_0x21ca12[_0x3c9fcd(0x6f6)],_0x21ca12[_0x3c9fcd(0x8f1)]),_0x50311b(_0x21ca12[_0x3c9fcd(0x8f1)]);};return this[_0x3ab658(0x21c)]['set'](_0x290b19,_0x14d604),this[_0x3ab658(0x1e6)]['addEventListener'](_0x290b19,_0x14d604),_0x585abf[_0x3ab658(0x447)](_0x324ffe[_0x3ab658(0x4f4)],'Subscribing\x20to\x20an\x20event:\x20on',_0x290b19,_0x50311b),this[_0x3ab658(0x510)](_0x290b19),this;};[_0x20cdf8(0x5b2)](_0x545d91){const _0x43c053=_0x20cdf8;if(!_0x545d91)return this[_0x43c053(0x21c)][_0x43c053(0x34b)]((_0x2d71a9,_0x343b9f)=>{const _0x225930=_0x43c053;this['eventTarget'][_0x225930(0x5b6)](_0x343b9f,_0x2d71a9);}),void this[_0x43c053(0x21c)][_0x43c053(0x1fc)]();_0x43c053(0x478)==typeof _0x545d91&&this[_0x43c053(0x8b4)](_0x545d91),Array[_0x43c053(0x856)](_0x545d91)&&_0x545d91['forEach'](_0xd949d4=>{const _0x13c8ee=_0x43c053;this[_0x13c8ee(0x8b4)](_0xd949d4);});}['removeListener'](_0x4eec41){const _0x3f1226=_0x20cdf8,_0x43e5df=this[_0x3f1226(0x21c)][_0x3f1226(0x333)](_0x4eec41);_0x43e5df&&(this['eventTarget']['removeEventListener'](_0x4eec41,_0x43e5df),this[_0x3f1226(0x21c)]['delete'](_0x4eec41));}[_0x20cdf8(0x123)](_0xc81083,_0x5b3d5e){const _0x20927f=_0x20cdf8;_0x585abf['log'](_0x324ffe['Events'],_0x20927f(0xe0),{'event':_0xc81083,'data':_0x5b3d5e});const _0x1e2777=this[_0x20927f(0x251)][_0x20927f(0x333)](_0xc81083)||[];this[_0x20927f(0x251)][_0x20927f(0xaf)](_0xc81083,[..._0x1e2777,_0x5b3d5e]);}[_0x20cdf8(0x510)](_0x2261ab){const _0x350a1f=_0x20cdf8,_0x58eb53=this[_0x350a1f(0x251)][_0x350a1f(0x333)](_0x2261ab);_0x58eb53&&(_0x58eb53[_0x350a1f(0x34b)](_0x4f382e=>{const _0x458613=_0x350a1f;_0x585abf['log'](_0x324ffe['Events'],_0x458613(0x1ab),{'event':_0x2261ab,'data':_0x4f382e}),this[_0x458613(0x1e6)]['dispatchEvent'](new CustomEvent(_0x2261ab,{'detail':_0x4f382e}));}),this['bufferedEvents']['delete'](_0x2261ab));}}class _0x5f3fcd extends Error{constructor(_0x5521e0){const _0x352957=_0x20cdf8;super(_0x352957(0x61d)+_0x5521e0);}}!function(_0x3cec3b){const _0x11f490=_0x20cdf8;_0x3cec3b[_0x3cec3b['Core']=0x0]=_0x11f490(0x8ed),_0x3cec3b[_0x3cec3b[_0x11f490(0x3ac)]=0x1]=_0x11f490(0x3ac);}(_0x5a0b34||(_0x5a0b34={})),function(_0x3c0acc){const _0x410abf=_0x20cdf8;_0x3c0acc[_0x3c0acc['Offer']=0x0]='Offer',_0x3c0acc[_0x3c0acc['Answer']=0x1]=_0x410abf(0x7d9),_0x3c0acc[_0x3c0acc[_0x410abf(0x4ed)]=0x2]=_0x410abf(0x4ed),_0x3c0acc[_0x3c0acc[_0x410abf(0x3bd)]=0x3]=_0x410abf(0x3bd),_0x3c0acc[_0x3c0acc[_0x410abf(0x1d9)]=0x4]=_0x410abf(0x1d9),_0x3c0acc[_0x3c0acc['Restart']=0x5]=_0x410abf(0x394),_0x3c0acc[_0x3c0acc[_0x410abf(0x135)]=0x6]=_0x410abf(0x135),_0x3c0acc[_0x3c0acc['Stats']=0x7]=_0x410abf(0x8a0),_0x3c0acc[_0x3c0acc['OptimizationConnectionSuccess']=0x8]=_0x410abf(0x18f);}(_0x320761||(_0x320761={})),function(_0x1a9959){const _0x479229=_0x20cdf8;_0x1a9959[_0x1a9959[_0x479229(0x402)]=0x0]='Sender',_0x1a9959[_0x1a9959[_0x479229(0x2fa)]=0x1]='Receiver';}(_0x31e650||(_0x31e650={})),function(_0x5b36c6){const _0x130b70=_0x20cdf8;_0x5b36c6['MediaStream']=_0x130b70(0x462);}(_0x1b9d67||(_0x1b9d67={})),function(_0x5ee21f){const _0x48bf1f=_0x20cdf8;_0x5ee21f[_0x5ee21f['NodeJoin']=0x0]=_0x48bf1f(0x12e),_0x5ee21f[_0x5ee21f[_0x48bf1f(0x6f8)]=0x1]=_0x48bf1f(0x6f8),_0x5ee21f[_0x5ee21f['NodeConnectionsUpdate']=0x2]=_0x48bf1f(0xd7),_0x5ee21f[_0x5ee21f[_0x48bf1f(0xdb)]=0x3]=_0x48bf1f(0xdb);}(_0x2c3880||(_0x2c3880={})),function(_0x18d3a5){const _0x563105=_0x20cdf8;_0x18d3a5[_0x18d3a5[_0x563105(0x235)]=0x0]=_0x563105(0x235),_0x18d3a5[_0x18d3a5[_0x563105(0x368)]=0x1]=_0x563105(0x368);}(_0x1c7d55||(_0x1c7d55={})),function(_0xd3cede){const _0x3e7335=_0x20cdf8;_0xd3cede[_0x3e7335(0x37f)]='upgrade',_0xd3cede[_0x3e7335(0x1e9)]=_0x3e7335(0x22b);}(_0x19e6e6||(_0x19e6e6={})),function(_0x5d014b){const _0x45ff22=_0x20cdf8;_0x5d014b[_0x45ff22(0x69d)]='resolution',_0x5d014b[_0x45ff22(0x14e)]=_0x45ff22(0x441);}(_0x1f6018||(_0x1f6018={}));const _0x25022e=require('aws-amplify'),_0xe74ae3=require('aws-amplify/utils'),_0x37fc00=require('@aws-amplify/api'),_0x4c553c=require('@aws-amplify/core');class _0x3b01b2{['clusterId'];[_0x20cdf8(0x21a)];[_0x20cdf8(0x566)];constructor(_0x45cd2e,_0xa687f9,_0x1746c9){const _0x3af247=_0x20cdf8;this[_0x3af247(0x461)]=_0x45cd2e,this[_0x3af247(0x21a)]=_0xa687f9,this[_0x3af247(0x566)]=_0x1746c9;}[_0x20cdf8(0x5db)](){const _0x681736=_0x20cdf8;return this[_0x681736(0x21a)]['getId']();}[_0x20cdf8(0x7e3)](){const _0x36128b=_0x20cdf8;return this[_0x36128b(0x566)];}}var _0x393fac,_0x1c14dd,_0x5d80ab;function _0x260e53(_0x556d41,_0x75cfa5){return _0x556d41['sourceId']===_0x75cfa5;}function _0x3d6d98(_0x367582,_0x97adff){const _0x55efe7=_0x20cdf8;return _0x367582[_0x55efe7(0x823)]?.[_0x55efe7(0x8cb)](_0x97adff)??function(_0x35ea91){const _0x4f9e18=_0x55efe7;return void 0x0===_0x35ea91[_0x4f9e18(0x823)];}(_0x367582);}function _0x56b1fb(_0x46f4eb,{contentType:_0xe054d7,label:_0x1a55af,remoteId:_0x1f34fe}){return _0x46f4eb+'-'+_0xe054d7+'-'+_0x1a55af+'-'+_0x1f34fe;}function _0x7af656(_0x85f507,_0x293bdb,_0xc82f6d){return''+_0x85f507+_0x293bdb+_0xc82f6d;}function _0x159f09(_0x4f4cc0){const _0x3b0d23=_0x20cdf8;return _0x4f4cc0===_0x1c14dd[_0x3b0d23(0x736)]?'IncomingSubscription':_0x3b0d23(0x451);}function _0x47b2a1(_0x93cb9c,_0x1f1d30){const _0x245cd5=_0x20cdf8;return{'label':_0x93cb9c[_0x245cd5(0x242)](),'contentType':_0x93cb9c[_0x245cd5(0x7e9)](),'remoteId':_0x1f1d30['getRemoteId'](),'supportsContentType':_0x1f1d30['getSupportedContentTypes']()['includes'](_0x93cb9c[_0x245cd5(0x7e9)]())};}!function(_0x33d52b){const _0x587437=_0x20cdf8;_0x33d52b[_0x33d52b[_0x587437(0x24f)]=0x0]='Waiting',_0x33d52b[_0x33d52b[_0x587437(0x30a)]=0x1]=_0x587437(0x30a),_0x33d52b[_0x33d52b[_0x587437(0x45e)]=0x2]=_0x587437(0x45e);}(_0x393fac||(_0x393fac={})),function(_0x3f0442){const _0x302968=_0x20cdf8;_0x3f0442['Incoming']='in',_0x3f0442[_0x302968(0x838)]=_0x302968(0xc1);}(_0x1c14dd||(_0x1c14dd={}));class _0x4f30a3{['callback'];[_0x20cdf8(0x1e3)];constructor(_0x2f44b4,_0x461b25){const _0x1246d8=_0x20cdf8;this[_0x1246d8(0x1a5)]=_0x2f44b4,this['retryCallback']=_0x461b25;}[_0x20cdf8(0x8aa)](_0x4d6fec){const _0x3aa7c9=_0x20cdf8;this[_0x3aa7c9(0x1a5)](_0x4d6fec);}async[_0x20cdf8(0x76e)](){const _0xaf5406=_0x20cdf8;await this[_0xaf5406(0x1e3)]();}}class _0x22e0d3{[_0x20cdf8(0x1a5)];[_0x20cdf8(0x1e3)];constructor(_0x5e6c58,_0x4fd1dd){const _0x1efe05=_0x20cdf8;this[_0x1efe05(0x1a5)]=_0x5e6c58,this[_0x1efe05(0x1e3)]=_0x4fd1dd;}async[_0x20cdf8(0x8aa)](_0x5dacba){await this['callback'](_0x5dacba);}async[_0x20cdf8(0x76e)](){const _0x331732=_0x20cdf8;await this[_0x331732(0x1e3)]();}}function _0x29e52f(_0x3d68e5=()=>{},_0x3a3212=()=>!0x1,_0x585383=()=>{}){let _0x3debc7,_0x31298b,_0x12cd4f=0x0;return{get 'size'(){return _0x12cd4f;},get 'head'(){return _0x3debc7;},get 'tail'(){return _0x31298b;},set 'head'(_0x3f31df){_0x3debc7=_0x3f31df;},set 'tail'(_0x148584){_0x31298b=_0x148584;},'push'(_0x267f29,_0x1d01da=!0x0){const _0x404332=a0_0x2e24,_0x2579d9={'value':_0x267f29};_0x1d01da&&_0x3a3212(_0x2579d9)?_0x3d68e5():(_0x31298b&&(_0x2579d9[_0x404332(0x1f1)]=_0x31298b,_0x31298b[_0x404332(0xdd)]=_0x2579d9),_0x31298b=_0x2579d9,_0x3debc7||(_0x3debc7=_0x2579d9),_0x12cd4f+=0x1,_0x1d01da&&_0x3d68e5());},'pop'(){const _0x387347=a0_0x2e24;if(!_0x31298b)return;const _0x51bb3e=_0x31298b[_0x387347(0x74d)];return _0x31298b=_0x31298b[_0x387347(0x1f1)],_0x31298b&&delete _0x31298b[_0x387347(0xdd)],_0x31298b||(_0x3debc7=void 0x0),_0x12cd4f-=0x1,_0x51bb3e;},'unshift'(_0x458c2c,_0x52e4de=!0x0){const _0x4928bb=a0_0x2e24,_0x3dac07={'value':_0x458c2c};_0x52e4de&&_0x3a3212(_0x3dac07)?_0x3d68e5():(_0x3debc7&&(_0x3debc7[_0x4928bb(0x1f1)]=_0x3dac07,_0x3dac07['next']=_0x3debc7),_0x3debc7=_0x3dac07,_0x31298b||(_0x31298b=_0x3dac07),_0x12cd4f+=0x1,_0x52e4de&&_0x3d68e5());},'shift'(){const _0x54c757=a0_0x2e24;if(!_0x3debc7)return;const _0x47b100=_0x3debc7[_0x54c757(0x74d)];return _0x3debc7=_0x3debc7[_0x54c757(0xdd)],_0x3debc7&&delete _0x3debc7[_0x54c757(0x1f1)],_0x3debc7||(_0x31298b=void 0x0),_0x12cd4f-=0x1,_0x47b100;},'clear'(){_0x585383(),_0x3debc7=void 0x0,_0x31298b=void 0x0,_0x12cd4f=0x0;}};}function _0x9d4789(_0x11353d,_0x472586=!0x1,_0x4d8883=()=>{},_0x57074b=()=>!0x1,_0x390041=()=>{}){let _0x48bcb4=!0x1;const _0x521291=_0x29e52f(async function(){const _0x5b92f0=a0_0x2e24;if(!_0x48bcb4){for(_0x48bcb4=!0x0;_0x521291[_0x5b92f0(0x48f)];){const _0x53245f=_0x521291['shift']();if(_0x53245f)try{_0x11353d instanceof _0x4f30a3&&_0x11353d[_0x5b92f0(0x8aa)](_0x53245f),_0x11353d instanceof _0x22e0d3&&await _0x11353d[_0x5b92f0(0x8aa)](_0x53245f),_0x4d8883(_0x53245f);}catch(_0x157ea0){_0x472586?_0x521291[_0x5b92f0(0x82c)](_0x53245f,!0x1):_0x521291[_0x5b92f0(0x29f)](_0x53245f,!0x1),await _0x11353d[_0x5b92f0(0x76e)]();}}_0x48bcb4=!0x1;}},_0x57074b,_0x390041);return _0x521291;}class _0x2ed8e2 extends _0x3b01b2{[_0x20cdf8(0x6f5)];[_0x20cdf8(0x306)];['connectionState']=_0x37fc00[_0x20cdf8(0x49d)][_0x20cdf8(0x171)];[_0x20cdf8(0x8e6)]=_0x3356bb();['messageListeners']=_0x53e3a2();[_0x20cdf8(0x8b8)];[_0x20cdf8(0x8f4)];[_0x20cdf8(0x41e)]=_0x9d4789(new _0x22e0d3(this['sendAction'][_0x20cdf8(0x684)](this),this['waitConnected']['bind'](this)));[_0x20cdf8(0x618)];constructor(_0x1ae80a,_0x257c56,_0x50ffce,_0x1430b1,_0x29aa27){super(_0x257c56,_0x50ffce,_0x1430b1),this['vendorId']=_0x1ae80a,this['authService']=_0x29aa27;}async[_0x20cdf8(0x63d)](){const _0x29331b=_0x20cdf8;try{const _0x295471={'getTokens':async()=>{const _0x2ab21c=a0_0x2e24,_0x456649=await this[_0x2ab21c(0x306)][_0x2ab21c(0x708)]();return{'accessToken':(0x0,_0x4c553c[_0x2ab21c(0x85b)])(_0x456649),'idToken':(0x0,_0x4c553c[_0x2ab21c(0x85b)])(_0x456649)};}};_0x25022e[_0x29331b(0x77c)][_0x29331b(0x169)]({'API':{'GraphQL':{'endpoint':_0x3362fe[_0x29331b(0x1cc)][_0x29331b(0x668)],'region':_0x3362fe[_0x29331b(0x1cc)][_0x29331b(0x1b5)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x295471}});const _0x3681e9=(0x0,_0x37fc00[_0x29331b(0x753)])();this[_0x29331b(0x618)]=_0x3681e9,await this[_0x29331b(0x3cb)](),this[_0x29331b(0x8f4)]=_0xe74ae3[_0x29331b(0x619)]['listen'](_0x29331b(0x4a6),async({payload:_0x4c22cc})=>{const _0x15b67f=_0x29331b;if(_0x4c22cc[_0x15b67f(0x809)]===_0x37fc00[_0x15b67f(0x259)]){const _0x2916f2=_0x4c22cc[_0x15b67f(0x75d)];this[_0x15b67f(0x1af)]=_0x2916f2[_0x15b67f(0x1af)],this[_0x15b67f(0x8e6)][_0x15b67f(0x1ed)](_0x2916f2[_0x15b67f(0x1af)]),this[_0x15b67f(0x1af)]===_0x37fc00[_0x15b67f(0x49d)][_0x15b67f(0x171)]?(_0x585abf['error'](_0x15b67f(0x3ec),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x15b67f(0x6f6)]}),this[_0x15b67f(0x671)](),this[_0x15b67f(0x63d)]()):this[_0x15b67f(0x1af)]===_0x37fc00[_0x15b67f(0x49d)][_0x15b67f(0x714)]?_0x585abf['warning'](_0x15b67f(0x40e),{'clusterId':this[_0x15b67f(0x461)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x15b67f(0x6f6)]}):_0x585abf['warning'](_0x15b67f(0xb5),{'clusterId':this[_0x15b67f(0x461)],'nodeId':this[_0x15b67f(0x5db)](),'nodeType':this[_0x15b67f(0x21a)][_0x15b67f(0x6f6)],'data':{'state':_0x2916f2[_0x15b67f(0x1af)]}});}});}catch(_0x3302d9){_0x585abf[_0x29331b(0x7b5)](_0x29331b(0x5f5),{'clusterId':this[_0x29331b(0x461)],'nodeId':this[_0x29331b(0x5db)](),'nodeType':this[_0x29331b(0x21a)][_0x29331b(0x6f6)]});}}[_0x20cdf8(0x671)](){const _0x120124=_0x20cdf8;_0x585abf[_0x120124(0x7ae)](_0x120124(0x18b),{'clusterId':this[_0x120124(0x461)],'nodeId':this[_0x120124(0x5db)](),'nodeType':this[_0x120124(0x21a)][_0x120124(0x6f6)]}),this[_0x120124(0x41e)][_0x120124(0x1fc)](),this[_0x120124(0x8f4)]?.(),this[_0x120124(0x8b8)]?.[_0x120124(0x579)](),delete this[_0x120124(0x8b8)];}[_0x20cdf8(0x5fa)](){const _0x397976=_0x20cdf8;return this[_0x397976(0x1af)]===_0x37fc00[_0x397976(0x49d)]['Connected'];}['send'](_0x4b0493){const _0x1ca924=_0x20cdf8;this[_0x1ca924(0x41e)][_0x1ca924(0x82c)](_0x4b0493);}[_0x20cdf8(0x735)](_0x2f17c2){const _0x59591e=_0x20cdf8;return this['messageListeners'][_0x59591e(0x3cb)](_0x2f17c2);}[_0x20cdf8(0x517)](){const _0x1620c3=_0x20cdf8;return[_0x3b754d[_0x1620c3(0x4e6)]['Data']];}async[_0x20cdf8(0x6f4)](){const _0x10f4db=_0x20cdf8;if(!this[_0x10f4db(0x5fa)]())return new Promise(_0x53e229=>{const _0x26f84e=_0x10f4db,_0x42962b=this[_0x26f84e(0x8e6)][_0x26f84e(0x3cb)](_0x1e78b1=>{const _0x3df73d=_0x26f84e;_0x1e78b1===_0x37fc00['ConnectionState'][_0x3df73d(0x714)]&&(_0x42962b(),_0x53e229());});});}async[_0x20cdf8(0xde)](_0x184e5f){const _0x1001fa=_0x20cdf8;if(this[_0x1001fa(0x1af)]!==_0x37fc00['ConnectionState'][_0x1001fa(0x714)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x184e5f[_0x1001fa(0x823)]&&0x1===_0x184e5f[_0x1001fa(0x823)][_0x1001fa(0x51a)]?await this[_0x1001fa(0x1ed)](_0x184e5f['destinationIds'][0x0],JSON[_0x1001fa(0x8f7)](_0x184e5f)):_0x585abf[_0x1001fa(0x7b5)](_0x1001fa(0xd3),{'clusterId':this['clusterId'],'nodeId':this[_0x1001fa(0x5db)](),'nodeType':this[_0x1001fa(0x21a)][_0x1001fa(0x6f6)]});}async['publish'](_0x4a5de2,_0x23e88e){const _0x2559fe=_0x20cdf8;if(!this['client'])throw new Error(_0x2559fe(0x82d));_0x585abf['log'](_0x324ffe['Signaling'],_0x2559fe(0x7b4),this[_0x2559fe(0x5db)](),_0x23e88e),await this['client'][_0x2559fe(0x2db)]({'query':_0x2559fe(0x55e),'variables':{'name':await this['getHash'](_0x4a5de2),'data':_0x23e88e}});}async[_0x20cdf8(0x3cb)](){const _0x3e8891=_0x20cdf8;if(this[_0x3e8891(0x8b8)])return;if(!this[_0x3e8891(0x618)])throw new Error('AppSync\x20client\x20not\x20ready');_0x585abf['log'](_0x324ffe[_0x3e8891(0x327)],'AppSync\x20subscribe',this['getLocalId']());const _0x10553e=await this['client'][_0x3e8891(0x2db)]({'query':_0x3e8891(0x7b2),'variables':{'name':await this[_0x3e8891(0x3d5)]()},'authToken':await this[_0x3e8891(0x306)][_0x3e8891(0x708)]()},{'Authorization':await this[_0x3e8891(0x306)][_0x3e8891(0x708)]()});this[_0x3e8891(0x8b8)]=_0x10553e['subscribe']({'next':({data:_0x5a2b2c})=>{const _0x4561c3=_0x3e8891,_0x365f8a=JSON['parse'](_0x5a2b2c[_0x4561c3(0x3cb)][_0x4561c3(0x75d)]);!_0x260e53(_0x365f8a,this[_0x4561c3(0x5db)]())&&_0x3d6d98(_0x365f8a,this[_0x4561c3(0x5db)]())&&this[_0x4561c3(0x592)][_0x4561c3(0x1ed)](_0x365f8a);},'error':console['log']});}async[_0x20cdf8(0x3d5)](_0x21e0fe){const _0x293403=_0x20cdf8,_0x3eca11=await crypto[_0x293403(0x556)][_0x293403(0x5a3)]('SHA-1',new TextEncoder()[_0x293403(0x83a)](this[_0x293403(0x6f5)]+'-'+this['clusterId']+'-'+(_0x21e0fe??this[_0x293403(0x5db)]())));return Array[_0x293403(0x473)](new Uint8Array(_0x3eca11))['map'](_0x56ace1=>_0x56ace1[_0x293403(0xca)](0x10)['padStart'](0x2,'0'))[_0x293403(0x1e1)]('');}}!function(_0x2cb36d){const _0x1ad380=_0x20cdf8;_0x2cb36d[_0x2cb36d[_0x1ad380(0x344)]=0x0]=_0x1ad380(0x344),_0x2cb36d[_0x2cb36d[_0x1ad380(0x378)]=0x1]=_0x1ad380(0x378),_0x2cb36d[_0x2cb36d[_0x1ad380(0x5c1)]=0x2]=_0x1ad380(0x5c1),_0x2cb36d[_0x2cb36d['RemoteAdd']=0x3]=_0x1ad380(0x315),_0x2cb36d[_0x2cb36d[_0x1ad380(0x313)]=0x4]=_0x1ad380(0x313);}(_0x5d80ab||(_0x5d80ab={}));const _0x49e9f8='0',_0x417f57=_0x20cdf8(0x241),_0x1bf0ef=_0x5c4aec,_0x2b182e=0xbe800;class _0x220605{[_0x20cdf8(0x461)];[_0x20cdf8(0x21a)];[_0x20cdf8(0x566)];[_0x20cdf8(0x852)];['connectionType'];[_0x20cdf8(0x350)];[_0x20cdf8(0x850)];['dataChannel'];['currentVersion']=0x1;['systemTopic'];['handshakeCandidates']=[];[_0x20cdf8(0x1f3)]=[];[_0x20cdf8(0x12a)];constructor(_0x3ba9b7,_0x380fe5,_0x19a0b9,_0x3708d0,_0x1875d1,_0x342b71){const _0x565164=_0x20cdf8;this['clusterId']=_0x3ba9b7,this[_0x565164(0x21a)]=_0x380fe5,this['remoteId']=_0x19a0b9,this['iceServers']=_0x3708d0,this[_0x565164(0x58d)]=_0x1875d1,this['connectionConstructor']=_0x342b71,this[_0x565164(0x850)]=new this[(_0x565164(0x350))]({'handshakeServers':this['iceServers']}),this[_0x565164(0x216)]();}[_0x20cdf8(0x671)](){const _0x1a189e=_0x20cdf8;this[_0x1a189e(0x593)]();}[_0x20cdf8(0x84f)](_0x262495){const _0x4bb6ca=_0x20cdf8;this[_0x4bb6ca(0x58d)]=_0x262495;}async[_0x20cdf8(0x249)](_0x217741,_0xbf568c){const _0x303e85=_0x20cdf8;if(_0xbf568c===this[_0x303e85(0x5d1)])for(const _0x55437a of _0x217741){if(!this['connection']['canAddCandidates'])return this[_0x303e85(0x419)](_0x55437a);try{await this[_0x303e85(0x850)][_0x303e85(0x799)](_0x55437a);}catch(_0x1e1dfb){this['addPendingHandshakeCandidate'](_0x55437a);}}}[_0x20cdf8(0x5fa)](){const _0x3c1841=_0x20cdf8;return this['logConnectionState'](),_0x3c1841(0x335)===this[_0x3c1841(0x850)]['connectionState']&&[_0x3c1841(0x335),_0x3c1841(0x348)][_0x3c1841(0x8cb)](this[_0x3c1841(0x850)][_0x3c1841(0x3a4)])&&_0x3c1841(0x60d)!==this['connection']['signalingState']&&'open'===this[_0x3c1841(0x1f6)]?.[_0x3c1841(0xbe)];}[_0x20cdf8(0x47a)](_0x180a09){const _0x478bb8=_0x20cdf8;this[_0x478bb8(0x361)]=_0x180a09;}[_0x20cdf8(0x5b7)](){const _0x46ed48=_0x20cdf8;delete this[_0x46ed48(0x361)];}[_0x20cdf8(0x191)](_0x2e7fa0){const _0xac2b14=_0x20cdf8;this[_0xac2b14(0x593)](),this[_0xac2b14(0x850)]=new this[(_0xac2b14(0x350))]({'handshakeServers':this['iceServers']}),_0x2e7fa0?this['currentVersion']=_0x2e7fa0:this[_0xac2b14(0x5d1)]+=0x1,this[_0xac2b14(0x216)]();}[_0x20cdf8(0x210)](){const _0xaf09ee=_0x20cdf8;this[_0xaf09ee(0x1f3)][_0xaf09ee(0x34b)](_0x96181f=>{const _0x587a62=_0xaf09ee;try{this[_0x587a62(0x850)][_0x587a62(0x799)](_0x96181f);}catch(_0x4d3fd5){}}),this['pendingHandshakeCandidates']=[];}[_0x20cdf8(0x696)](_0x3980d9,_0x1ccc34){const _0x42d100=_0x20cdf8;if(!this[_0x42d100(0x361)])throw new _0x5a569f(_0x5a569f[_0x42d100(0x4e8)][_0x42d100(0x3b9)],{'content':_0x3980d9});const _0x53524f={'sourceId':this[_0x42d100(0x21a)][_0x42d100(0x66e)](),'destinationIds':[this['remoteId']],'propagate':this[_0x42d100(0x58d)]!==_0x5a0b34[_0x42d100(0x8ed)],'retry':this[_0x42d100(0x58d)]!==_0x5a0b34['Core'],'messageType':_0x213fd0[_0x42d100(0x52e)],'content':_0x3980d9};_0x1ccc34&&(_0x53524f[_0x42d100(0x16b)]=_0x1ccc34),this['systemTopic']['publish'](_0x53524f);}[_0x20cdf8(0x216)](){const _0x4dc5b2=_0x20cdf8;this[_0x4dc5b2(0x850)][_0x4dc5b2(0xed)]=()=>{const _0x261086=_0x4dc5b2;_0x261086(0x13a)===this[_0x261086(0x850)][_0x261086(0x626)]&&this[_0x261086(0x10e)][_0x261086(0x51a)]>0x0&&(this[_0x261086(0x12a)]&&clearTimeout(this[_0x261086(0x12a)]),this[_0x261086(0x12a)]=setTimeout(()=>{const _0xd69663=_0x261086;delete this[_0xd69663(0x12a)],this[_0xd69663(0x4aa)](),this[_0xd69663(0x10e)]=[];},0x1f4));},this['connection']['onCandidate']=_0xe3e52b=>{const _0x59f236=_0x4dc5b2;_0xe3e52b[_0x59f236(0x8d3)]&&this[_0x59f236(0x10e)][_0x59f236(0x82c)](_0xe3e52b[_0x59f236(0x8d3)]);};}[_0x20cdf8(0x593)](){const _0x1a6a60=_0x20cdf8;clearTimeout(this[_0x1a6a60(0x12a)]),delete this[_0x1a6a60(0x12a)],this[_0x1a6a60(0x10e)]=[],this[_0x1a6a60(0x1f3)]=[],this['dataChannel']&&(this[_0x1a6a60(0x1f6)]['onMessage']=null,this[_0x1a6a60(0x1f6)][_0x1a6a60(0x754)]=null,this[_0x1a6a60(0x1f6)][_0x1a6a60(0x671)](),delete this[_0x1a6a60(0x1f6)]),this[_0x1a6a60(0x850)][_0x1a6a60(0xed)]=null,this['connection']['onCandidate']=null,this[_0x1a6a60(0x850)][_0x1a6a60(0x2cb)]=null,this[_0x1a6a60(0x850)][_0x1a6a60(0x440)]=null,this['connection'][_0x1a6a60(0x262)]=null,this[_0x1a6a60(0x850)]['onDataChannel']=null,this[_0x1a6a60(0x850)][_0x1a6a60(0x671)]();}['addPendingHandshakeCandidate'](_0x2d7454){const _0x358b7d=_0x20cdf8;this[_0x358b7d(0x1f3)]['push'](_0x2d7454);}[_0x20cdf8(0x425)](){const _0x5ff81a=_0x20cdf8;_0x585abf[_0x5ff81a(0x447)](_0x324ffe['ConnectionState'],'Base\x20Peer\x20Connection',{'localId':this[_0x5ff81a(0x21a)][_0x5ff81a(0x66e)](),'remoteId':this[_0x5ff81a(0x566)],'connectionState':this['connection'][_0x5ff81a(0x1af)],'handshakeState':this[_0x5ff81a(0x850)][_0x5ff81a(0x3a4)],'signalingState':this['connection'][_0x5ff81a(0x82f)],'dataChannelState':this['dataChannel']?.['state']});}}function _0xdf507e(_0x593f8f,_0x435df0){const _0x2cf9c8=_0x20cdf8;_0x435df0[_0x2cf9c8(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0['PeerConnection'],'content':_0x593f8f});}class _0x2a577e{static [_0x20cdf8(0x4e2)];[_0x20cdf8(0x82b)]=[];[_0x20cdf8(0x31a)];constructor(){setInterval(()=>{const _0x437ba7=a0_0x2e24;this[_0x437ba7(0x82b)][_0x437ba7(0x34b)](_0x2d2179=>{const _0x2e11ee=_0x437ba7;if(Date[_0x2e11ee(0x76a)]()-_0x2d2179['lastExecuted']>_0x2d2179[_0x2e11ee(0x6cf)]){try{_0x2d2179[_0x2e11ee(0x1a5)]();}catch(_0x38785c){}_0x2d2179[_0x2e11ee(0x8a6)]=Date[_0x2e11ee(0x76a)]();}});},0x64);}static[_0x20cdf8(0x38d)](){const _0x5bb966=_0x20cdf8;return _0x2a577e[_0x5bb966(0x4e2)]||(_0x2a577e[_0x5bb966(0x4e2)]=new _0x2a577e()),_0x2a577e[_0x5bb966(0x4e2)];}[_0x20cdf8(0x842)](_0x2f1f88){const _0x1ff290=_0x20cdf8,_0x26bc23=this[_0x1ff290(0x21f)](_0x2f1f88),_0x57b9b1=_0x2f1f88[_0x1ff290(0x2ea)]();_0x57b9b1&&_0x26bc23&&(_0x57b9b1[_0x1ff290(0x1b6)]['value']=0.001,_0x26bc23['connect'](_0x57b9b1),_0x57b9b1[_0x1ff290(0x63d)](_0x2f1f88[_0x1ff290(0x164)]),_0x26bc23[_0x1ff290(0x63c)]());}['stopNoThrottlingHack'](){const _0x5184c6=_0x20cdf8;this[_0x5184c6(0x31a)]&&(this[_0x5184c6(0x31a)][_0x5184c6(0x4ff)](),this[_0x5184c6(0x31a)]['disconnect'](),this['source']=void 0x0);}['wait'](_0x364f81){return new Promise(_0x46f1cc=>{setTimeout(_0x46f1cc,_0x364f81);});}[_0x20cdf8(0x2bf)](_0x4aaa74,_0x362d42){const _0x2c5808=_0x20cdf8;return this[_0x2c5808(0x82b)][_0x2c5808(0x82c)]({'callback':_0x4aaa74,'interval':_0x362d42,'lastExecuted':Date[_0x2c5808(0x76a)]()}),()=>{const _0x5f0010=_0x2c5808;this[_0x5f0010(0x82b)]=this[_0x5f0010(0x82b)]['filter'](_0x48c1a8=>_0x48c1a8['callback']!==_0x4aaa74);};}['createConstantSource'](_0x4d0be8){const _0x18155a=_0x20cdf8;if(_0x4d0be8[_0x18155a(0x21f)])return _0x4d0be8[_0x18155a(0x21f)]();const _0x2e5e53=_0x4d0be8['createBufferSource'](),_0x2c2dba=_0x4d0be8[_0x18155a(0x6c7)](0x1,0x1,_0x4d0be8[_0x18155a(0x868)]);return _0x2c2dba['getChannelData'](0x0)[0x0]=0xa,_0x2e5e53['buffer']=_0x2c2dba,_0x2e5e53[_0x18155a(0x3f6)]=!0x0,_0x2e5e53;}}const _0x4b9656=_0x2a577e['getInstance'](),_0x2a12da=[_0x20cdf8(0x52e),_0x20cdf8(0x772),'Content',_0x20cdf8(0x624),_0x20cdf8(0x8a0),_0x20cdf8(0x5a7),_0x20cdf8(0x235)],_0xd806ff=[[_0x20cdf8(0x80d),_0x20cdf8(0x7d9),_0x20cdf8(0x4ed),_0x20cdf8(0x3bd),_0x20cdf8(0x1d9),_0x20cdf8(0x394),_0x20cdf8(0x135),_0x20cdf8(0x8a0),_0x20cdf8(0x18f)],[_0x20cdf8(0x12e),_0x20cdf8(0x6f8),_0x20cdf8(0xd7),_0x20cdf8(0xdb)],[_0x20cdf8(0x69b),_0x20cdf8(0x3fd),_0x20cdf8(0x7de),'UpdateMediaStream',_0x20cdf8(0x437),_0x20cdf8(0x1ee),'CloseJobWorker','CloseObjectStoreBucket','CloseExternalStorageConnection',_0x20cdf8(0x6c6),'ClosePubSubTopic','CloseMediaStream',_0x20cdf8(0x5cf),_0x20cdf8(0x85d),_0x20cdf8(0x2f3),_0x20cdf8(0x80e),'RequestSyncKeyValueDatabase',_0x20cdf8(0x7bb),_0x20cdf8(0x11d),_0x20cdf8(0x616),_0x20cdf8(0x115),_0x20cdf8(0xeb),_0x20cdf8(0x3df),_0x20cdf8(0x608),_0x20cdf8(0x8f2),_0x20cdf8(0x6d8),_0x20cdf8(0x31e)],[_0x20cdf8(0x7de),_0x20cdf8(0x328),_0x20cdf8(0x437),'NeedMediaStream',_0x20cdf8(0x7da),_0x20cdf8(0x7c4),_0x20cdf8(0x237),_0x20cdf8(0x17e)],[_0x20cdf8(0x417),_0x20cdf8(0x765)],[_0x20cdf8(0x466)],[_0x20cdf8(0x235),'RemoteRemediation']];function _0x508107(_0x5bffa1){const _0x170b75=_0x20cdf8;return{..._0x5bffa1,'systemMessageType':_0x2a12da[_0x5bffa1[_0x170b75(0x274)]],'systemContentMessageType':_0xd806ff[_0x5bffa1['messageType']][_0x5bffa1['content'][_0x170b75(0x6f6)]]};}const _0x43a999={'hour':_0x20cdf8(0x3cf),'minute':_0x20cdf8(0x3cf),'second':_0x20cdf8(0x3cf)};function _0x3f02e9(_0x3ec7ef,_0x3365c8){const _0xac7671=_0x20cdf8,_0x431753=(function(){const _0x3d26bc=a0_0x2e24,_0x1dd71e=new Date(),_0x56575=_0x1dd71e[_0x3d26bc(0xc5)](),_0x10a677=_0x1dd71e['toLocaleDateString']('en-US',_0x43a999)[_0x3d26bc(0x72f)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x10a677+'.'+(_0x56575>0x64?''+_0x56575:_0x56575>0xa?'0'+_0x56575:'00'+_0x56575);}()),{sourceId:_0x2e54c9,destinationIds:_0x423ffd,systemMessageType:_0xf305b9,systemContentMessageType:_0x407cda}=_0x508107(_0x3ec7ef);return _0x431753+'\x20-\x20'+_0x3365c8+'\x20-\x20'+(_0x2e54c9===_0x3365c8?_0xac7671(0x178)+_0xf305b9+_0xac7671(0x37b)+(_0x423ffd?''+_0x423ffd:_0xac7671(0x44c)):_0x3ec7ef[_0xac7671(0x8c8)]===_0x34aa90?'Internal\x20event\x20\x27'+_0xf305b9+'\x27':(_0x423ffd?'':_0xac7671(0x31d))+_0xac7671(0x85a)+_0xf305b9+'\x27\x20from\x20'+_0x2e54c9)+_0xac7671(0x8ee)+_0x407cda+_0xac7671(0x2a6);}class _0x2f9a1d extends _0x220605{[_0x20cdf8(0x301)]=_0x3356bb();[_0x20cdf8(0x860)]=_0x3356bb();[_0x20cdf8(0x10a)]=_0x3356bb();[_0x20cdf8(0x5ec)]=new Map();[_0x20cdf8(0x26d)]=new Map();[_0x20cdf8(0x558)];[_0x20cdf8(0x22c)]=0x0;[_0x20cdf8(0x7af)]={'messages':{'total':0x0}};[_0x20cdf8(0x5a0)]=0x0;['timeReceiving']=0x0;[_0x20cdf8(0x671)](){const _0x38dbad=_0x20cdf8;this[_0x38dbad(0x878)](),this[_0x38dbad(0x5ec)][_0x38dbad(0x1fc)](),super[_0x38dbad(0x671)]();}async[_0x20cdf8(0x550)](_0x457c1e,_0x22a3d6){const _0x19750c=_0x20cdf8;this[_0x19750c(0x5d1)]=_0x22a3d6,this[_0x19750c(0x878)]();const _0x1a0187=await this[_0x19750c(0x850)][_0x19750c(0x381)](_0x457c1e);this[_0x19750c(0x210)]();const _0xfed7d4=(0x0,_0x3ee2fb['v4'])();this['publishSystemMessage']({'type':_0x320761['Answer'],'answer':_0x1a0187,'version':_0x22a3d6,'connectionType':this[_0x19750c(0x58d)]},_0xfed7d4),this[_0x19750c(0x58d)]===_0x5a0b34[_0x19750c(0x8ed)]&&(this[_0x19750c(0x558)]=_0x4b9656[_0x19750c(0x2bf)](()=>{const _0x1a5b69=_0x19750c;this[_0x1a5b69(0x696)]({'type':_0x320761['Answer'],'answer':_0x1a0187,'version':_0x22a3d6,'connectionType':this[_0x1a5b69(0x58d)]},_0xfed7d4);},0x1388));}[_0x20cdf8(0x5f6)](){const _0x373041=_0x20cdf8;this[_0x373041(0x878)]();}['handleNeedRestart'](_0x45ff85){const _0xeb2127=_0x20cdf8;this['resetConnection'](_0x45ff85),this[_0xeb2127(0x696)]({'type':_0x320761[_0xeb2127(0x394)]});}async[_0x20cdf8(0x35a)](){const _0x2361e3=_0x20cdf8;this[_0x2361e3(0x361)]&&(await this[_0x2361e3(0x850)][_0x2361e3(0x1ec)](this['receivers'],(_0x33b31f,_0x1f98b8)=>{const _0x469a6e=_0x2361e3;_0xdf507e({'type':_0x320761[_0x469a6e(0x8a0)],'streamId':_0x1f98b8,'nodeId':this[_0x469a6e(0x566)],'stats':_0x33b31f},this[_0x469a6e(0x361)]);}),this[_0x2361e3(0x361)][_0x2361e3(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x2361e3(0x52e)],'content':{'type':_0x320761[_0x2361e3(0x8a0)],'nodeId':this[_0x2361e3(0x566)],'stats':{'origin':_0x31e650[_0x2361e3(0x2fa)],'timestamp':Date[_0x2361e3(0x76a)](),'messagesReceived':this[_0x2361e3(0x22c)],'bytesReceived':this[_0x2361e3(0x5a0)],'timeReceiving':this[_0x2361e3(0x540)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x20cdf8(0x735)](_0x1c018c){const _0x34afb8=_0x20cdf8;return this[_0x34afb8(0x301)][_0x34afb8(0x3cb)](_0x1c018c);}['onTrack'](_0xb07159){const _0x10244a=_0x20cdf8;return this[_0x10244a(0x860)][_0x10244a(0x3cb)](({track:_0xebaac9,stream:_0x400a4d})=>_0xb07159(_0xebaac9,_0x400a4d));}[_0x20cdf8(0x791)](_0x3b1486){const _0x5d9330=_0x20cdf8;return this[_0x5d9330(0x10a)][_0x5d9330(0x3cb)](({track:_0x3a6ba1,stream:_0x15b613})=>_0x3b1486(_0x3a6ba1,_0x15b613));}['resetConnection'](_0x559ddf){const _0x11d63a=_0x20cdf8;this[_0x11d63a(0x878)](),this[_0x11d63a(0x5ec)][_0x11d63a(0x34b)](_0x267738=>{const _0x4b39fd=_0x11d63a;_0x267738[_0x4b39fd(0x1fc)]();}),super['resetConnection'](_0x559ddf);}[_0x20cdf8(0x4aa)](){const _0x106b79=_0x20cdf8;this[_0x106b79(0x696)]({'type':_0x320761[_0x106b79(0x4ed)],'candidates':this[_0x106b79(0x10e)],'origin':_0x31e650[_0x106b79(0x2fa)],'version':this[_0x106b79(0x5d1)],'connectionType':this[_0x106b79(0x58d)]});}[_0x20cdf8(0x216)](){const _0x40fd28=_0x20cdf8;super['setupConnectionEvents'](),this[_0x40fd28(0x850)][_0x40fd28(0x262)]=_0x414178=>{const _0x1d10d2=_0x40fd28;_0x585abf['log'](_0x324ffe[_0x1d10d2(0x29d)],_0x1d10d2(0x7fe),this[_0x1d10d2(0x21a)]['getId'](),_0x414178),_0x414178[_0x1d10d2(0x504)][0x0][_0x1d10d2(0x471)]=_0x4ba17a=>{const _0x413424=_0x1d10d2;this[_0x413424(0x5ec)][_0x413424(0x333)](_0x414178['streams'][0x0]['id'])?.['delete'](_0x4ba17a[_0x413424(0xac)]),0x0===this[_0x413424(0x5ec)][_0x413424(0x333)](_0x414178[_0x413424(0x504)][0x0]['id'])?.['size']&&this['receivers'][_0x413424(0x268)](_0x414178[_0x413424(0x504)][0x0]['id']),this[_0x413424(0x10a)]['publish']({'track':_0x4ba17a[_0x413424(0xac)],'stream':_0x414178['streams'][0x0]});},this['receivers']['has'](_0x414178[_0x1d10d2(0x504)][0x0]['id'])||this[_0x1d10d2(0x5ec)]['set'](_0x414178[_0x1d10d2(0x504)][0x0]['id'],new Set()),this[_0x1d10d2(0x5ec)]['get'](_0x414178[_0x1d10d2(0x504)][0x0]['id'])['add'](_0x414178[_0x1d10d2(0xac)]),this['trackCallback'][_0x1d10d2(0x1ed)]({'track':_0x414178[_0x1d10d2(0xac)],'stream':_0x414178[_0x1d10d2(0x504)][0x0]});},this[_0x40fd28(0x850)][_0x40fd28(0x120)]=_0x363e31=>{const _0xc910bc=_0x40fd28;this[_0xc910bc(0x1f6)]=_0x363e31[_0xc910bc(0x6c8)],this[_0xc910bc(0x1f6)]['onMessage']=_0x182c9b=>{const _0x4e60dc=_0xc910bc;if(_0x182c9b[_0x4e60dc(0x75d)]!==_0x49e9f8)this['handleOnMessage'](_0x182c9b[_0x4e60dc(0x75d)]);else{if(!this['dataChannel'])return void _0x585abf['error'](_0x4e60dc(0xb0),{'clusterId':this[_0x4e60dc(0x461)],'nodeId':this[_0x4e60dc(0x21a)][_0x4e60dc(0x66e)](),'nodeType':this[_0x4e60dc(0x21a)][_0x4e60dc(0x6f6)],'remoteId':this[_0x4e60dc(0x566)],'data':{'connection':_0x4e60dc(0x352)}});if(_0x4e60dc(0x8fc)!==this[_0x4e60dc(0x1f6)]['state'])return;this[_0x4e60dc(0x1f6)][_0x4e60dc(0x84a)]('1');}};};}[_0x20cdf8(0x126)](_0x4c7169){const _0x42d947=_0x20cdf8;if(_0x42d947(0x478)==typeof _0x4c7169&&_0x4c7169[_0x42d947(0x6da)](_0x417f57))return this[_0x42d947(0x22c)]+=0x1,this[_0x42d947(0x5a0)]+=_0x4c7169[_0x42d947(0x51a)],this[_0x42d947(0x8b0)](_0x4c7169);setTimeout(()=>{const _0x419b5b=_0x42d947,_0xda3ea4=Date[_0x419b5b(0x76a)]();let _0x2aec3b;if((_0x4c7169 instanceof ArrayBuffer||_0x4c7169[_0x419b5b(0x51a)]<=_0x1bf0ef)&&(this[_0x419b5b(0x22c)]+=0x1,this[_0x419b5b(0x5a0)]+=_0x4c7169 instanceof ArrayBuffer?_0x4c7169['byteLength']:_0x4c7169[_0x419b5b(0x51a)]),_0x4c7169 instanceof ArrayBuffer){const [_0x2d005a,_0x55faef]=this[_0x419b5b(0x588)](_0x4c7169);_0x2aec3b=_0x2d005a,_0x2aec3b['content'][_0x419b5b(0x75d)]=_0x55faef;}else _0x2aec3b=JSON['parse'](_0x4c7169);if(0x0===_0x2aec3b[_0x419b5b(0x4b6)]){this[_0x419b5b(0x7af)][_0x419b5b(0x1e8)][_0x419b5b(0x1da)]+=0x1;const {systemMessageType:_0x1dd4bf,systemContentMessageType:_0x109dec}=_0x508107(_0x2aec3b);this[_0x419b5b(0x7af)][_0x1dd4bf]||(this['systemMessagesReceived'][_0x1dd4bf]={[_0x109dec]:0x0}),this[_0x419b5b(0x7af)][_0x1dd4bf][_0x109dec]||(this[_0x419b5b(0x7af)][_0x1dd4bf][_0x109dec]=0x0),this['systemMessagesReceived'][_0x1dd4bf][_0x419b5b(0x1da)]||(this[_0x419b5b(0x7af)][_0x1dd4bf][_0x419b5b(0x1da)]=0x0),this[_0x419b5b(0x7af)][_0x1dd4bf][_0x109dec]+=0x1,this[_0x419b5b(0x7af)][_0x1dd4bf]['total']+=0x1;}this[_0x419b5b(0x301)][_0x419b5b(0x1ed)](_0x2aec3b),this['timeReceiving']+=Date[_0x419b5b(0x76a)]()-_0xda3ea4;},0x0);}[_0x20cdf8(0x8b0)](_0x5635f0){const _0x132e0e=_0x20cdf8,_0x484f8f=_0x5635f0[_0x132e0e(0x469)](';'),_0x5c336d=_0x484f8f[0x1],_0x17c4eb=parseInt(_0x484f8f[0x2],0xa),_0x3a40f8=parseInt(_0x484f8f[0x3],0xa),_0x40f77f=_0x5635f0[_0x132e0e(0x74a)](_0x417f57+';'+_0x5c336d+';'+_0x17c4eb+';'+_0x3a40f8+';','');this[_0x132e0e(0x26d)][_0x132e0e(0x6f2)](_0x5c336d)||this[_0x132e0e(0x26d)]['set'](_0x5c336d,[]);const _0x4048c6=this['chunks']['get'](_0x5c336d);_0x4048c6[_0x17c4eb]=_0x40f77f,_0x4048c6[_0x132e0e(0x51a)]===_0x3a40f8&&(this['handleOnMessage'](_0x4048c6[_0x132e0e(0x1e1)]('')),this[_0x132e0e(0x26d)]['delete'](_0x5c336d));}[_0x20cdf8(0x878)](){const _0x4b189a=_0x20cdf8;this[_0x4b189a(0x558)]?.(),delete this[_0x4b189a(0x558)];}['arrayBufferToObject'](_0x122159){const _0x3338b4=_0x20cdf8,_0x485ec4=new TextDecoder()[_0x3338b4(0x4b3)](_0x122159);return JSON[_0x3338b4(0xc0)](_0x485ec4);}[_0x20cdf8(0x588)](_0x1f7c9b){const _0x5b6a79=_0x20cdf8,_0xa807f2=new Uint8Array(_0x1f7c9b[_0x5b6a79(0x2de)](0x0,0x4)),_0x506cc9=new Uint32Array(_0xa807f2['buffer'])[0x0],_0x4e3225=new Uint8Array(_0x1f7c9b['slice'](0x4,0x4+_0x506cc9)),_0x12b16d=new Uint8Array(_0x1f7c9b[_0x5b6a79(0x2de)](0x4+_0x506cc9));return[this['arrayBufferToObject'](_0x4e3225[_0x5b6a79(0x159)]),_0x12b16d[_0x5b6a79(0x159)]];}}const _0x3674b0=0xc350;var _0x3d1502,_0x2a8a6d;!function(_0x4e5616){const _0xe2ff73=_0x20cdf8;_0x4e5616[_0x4e5616[_0xe2ff73(0x30b)]=0x0]=_0xe2ff73(0x30b),_0x4e5616[_0x4e5616[_0xe2ff73(0x2f5)]=0x1]=_0xe2ff73(0x2f5),_0x4e5616[_0x4e5616[_0xe2ff73(0x5bd)]=0x2]='Low';}(_0x3d1502||(_0x3d1502={}));class _0x545972 extends _0x220605{[_0x20cdf8(0x2c2)];[_0x20cdf8(0x195)];['senders']=new Map();[_0x20cdf8(0x444)];['waitAnswer'];[_0x20cdf8(0x682)];[_0x20cdf8(0x40f)]=!0x1;['connectionTimeout'];[_0x20cdf8(0x172)];[_0x20cdf8(0x219)];['retryQueue']=function(e,t=_0x3d1502,s=!0x1){const _0x1a0593=_0x20cdf8;let n=!0x1;const i=[];async function o(){const _0x55b2e7=a0_0x2e24;if(!n){for(n=!0x0;i['some'](e=>e['head']);){let t,n=0x0;for(const [e,s]of i[_0x55b2e7(0x573)]())if(t=s[_0x55b2e7(0x1b0)](),n=e,t)break;if(t)try{if(e instanceof _0x4f30a3&&e[_0x55b2e7(0x8aa)](t),e instanceof _0x22e0d3&&await e[_0x55b2e7(0x8aa)](t),i['slice'](-0x1)[_0x55b2e7(0x2a2)](e=>e[_0x55b2e7(0x48f)]))continue;const s=i[_0x55b2e7(0x51a)]-0x1;n===s&&i[s][_0x55b2e7(0x48f)]&&await _0x4b9656['wait'](0x0);}catch(o){s?i[n][_0x55b2e7(0x82c)](t,!0x1):i[n]['unshift'](t,!0x1),await e[_0x55b2e7(0x76e)]();}}n=!0x1;}}return Object[_0x1a0593(0x6cd)](t)[_0x1a0593(0x34b)](e=>{const _0x29fec5=_0x1a0593;_0x29fec5(0x478)!=typeof e&&(i[e]=_0x29e52f(o));}),{'queues':i};}(new _0x4f30a3(this['sendAction']['bind'](this),this[_0x20cdf8(0x482)][_0x20cdf8(0x684)](this)));[_0x20cdf8(0x20e)]=0x0;[_0x20cdf8(0x25b)]=0x0;['timeSending']=0x0;[_0x20cdf8(0x6a5)]=0x0;[_0x20cdf8(0x5aa)];constructor(_0x18c269,_0x2d8e3f,_0x1ad717,_0x4c01fd,_0x20cc3d,_0x615608,_0x362d5f,_0x1281a6){const _0x314656=_0x20cdf8;super(_0x18c269,_0x2d8e3f,_0x1ad717,_0x4c01fd,_0x20cc3d,_0x1281a6),this[_0x314656(0x2c2)]=_0x615608,this['maxBpp']=_0x362d5f;}[_0x20cdf8(0x671)](){const _0x5046aa=_0x20cdf8;this[_0x5046aa(0x8e2)](),this[_0x5046aa(0x208)](),delete this[_0x5046aa(0x682)],this[_0x5046aa(0x1d8)](),this[_0x5046aa(0x6ea)](),this[_0x5046aa(0x4d3)](),this[_0x5046aa(0x70c)][_0x5046aa(0x1fc)](),this['isReconnecting']=!0x1,this[_0x5046aa(0x41e)][_0x5046aa(0x60a)]['forEach'](_0x2a6583=>_0x2a6583[_0x5046aa(0x1fc)]()),this['clearOncloseTimeout'](),super[_0x5046aa(0x671)]();}['isConnected'](){const _0x2c1287=_0x20cdf8;return!!this[_0x2c1287(0x682)]&&super['isConnected']()&&Date['now']()-this[_0x2c1287(0x682)]<0x3a98;}async[_0x20cdf8(0x35a)](){const _0x17500c=_0x20cdf8;this[_0x17500c(0x361)]&&(await this[_0x17500c(0x850)][_0x17500c(0x266)](this['senders'],(_0x25f3c8,_0x1a1227)=>{const _0x2083e1=_0x17500c;_0xdf507e({'type':_0x320761['Stats'],'streamId':_0x1a1227,'nodeId':this[_0x2083e1(0x566)],'stats':_0x25f3c8},this[_0x2083e1(0x361)]);}),this[_0x17500c(0x361)][_0x17500c(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0['PeerConnection'],'content':{'type':_0x320761['Stats'],'nodeId':this['remoteId'],'stats':{'origin':_0x31e650[_0x17500c(0x402)],'timestamp':Date[_0x17500c(0x76a)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x17500c(0x25b)],'timeSending':this[_0x17500c(0x7fb)],'roundTripTime':this[_0x17500c(0x6a5)]}}}));}async[_0x20cdf8(0x46c)](_0x452245){const _0xf41e3a=_0x20cdf8;_0x585abf[_0xf41e3a(0x447)](_0x324ffe[_0xf41e3a(0x29d)],_0xf41e3a(0x137),this[_0xf41e3a(0x21a)][_0xf41e3a(0x66e)](),this[_0xf41e3a(0x566)]),this[_0xf41e3a(0x1d8)](),this[_0xf41e3a(0x6ea)](),this[_0xf41e3a(0x4d3)](),this[_0xf41e3a(0x773)]=setTimeout(()=>{const _0xe9e20f=_0xf41e3a;this[_0xe9e20f(0x14f)]();},0x7530),this[_0xf41e3a(0x1f6)]||(this[_0xf41e3a(0x1f6)]=this[_0xf41e3a(0x850)][_0xf41e3a(0x701)]('data'),this['dataChannel']['bufferedAmountLowThreshold']=_0x2b182e,this[_0xf41e3a(0x1f6)][_0xf41e3a(0x754)]=()=>{const _0x51a971=_0xf41e3a;this[_0x51a971(0x5aa)]=setTimeout(()=>{const _0x2555d7=_0x51a971;delete this[_0x2555d7(0x5aa)],[_0x2555d7(0x674),_0x2555d7(0x8fc)]['includes'](this['dataChannel']?.[_0x2555d7(0xbe)]??'')||this[_0x2555d7(0x14f)]();},0xfa);});const _0x3a36e8=await this['connection']['createOffer'](_0x452245);this[_0xf41e3a(0x682)]||(this['lastHeartbeat']=Date[_0xf41e3a(0x76a)]());const _0x69b73c=(0x0,_0x3ee2fb['v4'])();this['publishSystemMessage']({'type':_0x320761[_0xf41e3a(0x80d)],'offer':_0x3a36e8,'version':this[_0xf41e3a(0x5d1)],'connectionType':this[_0xf41e3a(0x58d)]},_0x69b73c),this['connectionType']===_0x5a0b34[_0xf41e3a(0x8ed)]&&(this[_0xf41e3a(0x69f)]=_0x4b9656[_0xf41e3a(0x2bf)](()=>{const _0x17e78c=_0xf41e3a;this[_0x17e78c(0x696)]({'type':_0x320761['Offer'],'offer':_0x3a36e8,'version':this[_0x17e78c(0x5d1)],'connectionType':this[_0x17e78c(0x58d)]},_0x69b73c);},0x1388));}async[_0x20cdf8(0x445)](_0x468017,_0x21ecc2){const _0x1364a6=_0x20cdf8;if(_0x21ecc2===this['currentVersion']){this['clearWaitAnswer']();try{await this['connection'][_0x1364a6(0x445)](_0x468017,this['createOffer']['bind'](this)),this[_0x1364a6(0x210)](),this[_0x1364a6(0x6ea)](),this['startHeartbeat']();}catch(_0x1cad9c){this[_0x1364a6(0x14f)]();}}}[_0x20cdf8(0x84a)](_0x5d6c5e){const _0xf3127d=_0x20cdf8;if(!this[_0xf3127d(0x1f6)])throw new _0x5a569f(_0x5a569f['codes']['InvalidDataChannel'],{'message':_0xf3127d(0x434),'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'eventMessage':_0x5d6c5e});if(_0xf3127d(0x8fc)!==this[_0xf3127d(0x1f6)][_0xf3127d(0xbe)])throw new _0x5a569f(_0x5a569f[_0xf3127d(0x4e8)]['InvalidDataChannel'],{'message':_0xf3127d(0x84d),'localId':this[_0xf3127d(0x21a)][_0xf3127d(0x66e)](),'remoteId':this[_0xf3127d(0x566)],'eventMessage':_0x5d6c5e});let _0xf7fdb8;if(_0x5d6c5e[_0xf3127d(0x843)][_0xf3127d(0x75d)]instanceof ArrayBuffer){const _0x1a5850=_0x5d6c5e['content'][_0xf3127d(0x75d)];_0x5d6c5e={..._0x5d6c5e,'content':{..._0x5d6c5e[_0xf3127d(0x843)],'data':void 0x0}},_0xf7fdb8=this[_0xf3127d(0x5df)](_0x5d6c5e,_0x1a5850);}else _0xf7fdb8=JSON[_0xf3127d(0x8f7)](_0x5d6c5e);if(_0xf3127d(0x478)==typeof _0xf7fdb8&&_0xf7fdb8[_0xf3127d(0x51a)]>_0x1bf0ef)return this[_0xf3127d(0x1f0)](_0x5d6c5e,_0xf7fdb8);const _0x4cb292=0x0===_0x5d6c5e[_0xf3127d(0x4b6)]&&[_0x213fd0[_0xf3127d(0x624)],_0x213fd0['PeerConnection']][_0xf3127d(0x8cb)](_0x5d6c5e[_0xf3127d(0x274)])?_0x3d1502[_0xf3127d(0x30b)]:_0x5d6c5e instanceof ArrayBuffer?_0x3d1502['Low']:_0x3d1502[_0xf3127d(0x2f5)];this['sendWithRetry'](_0xf7fdb8,_0x4cb292);}['addTrack'](_0x3ede63,_0x16c5c2,_0x176e06,_0xfed636){const _0x5a188b=_0x20cdf8,_0x4d22c2=(_0x1465e4=this[_0x5a188b(0x2c2)],_0x32275d=this[_0x5a188b(0x195)],Math[_0x5a188b(0x47e)](0xe1000*_0x1465e4*_0x32275d));var _0x1465e4,_0x32275d;const _0x5c5f87=this[_0x5a188b(0x70c)][_0x5a188b(0x333)](_0x16c5c2['id'])||{'stream':_0x16c5c2,'priority':_0x176e06,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x4d22c2,'maxBitrate':_0x4d22c2,'framerate':this[_0x5a188b(0x2c2)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0xfed636},_0x201724=_0x5c5f87[_0x5a188b(0x5b3)][_0x3ede63[_0x5a188b(0x6b6)]]||{'track':_0x3ede63};if(_0x201724[_0x5a188b(0x3e8)]?(_0x201724[_0x5a188b(0xac)]=_0x3ede63,this[_0x5a188b(0x850)][_0x5a188b(0x33d)](_0x3ede63,_0x201724[_0x5a188b(0x3e8)])):_0x201724[_0x5a188b(0x3e8)]=this[_0x5a188b(0x850)][_0x5a188b(0x78e)](_0x3ede63,_0x16c5c2),_0x5c5f87[_0x5a188b(0x5b3)][_0x3ede63[_0x5a188b(0x6b6)]]=_0x201724,_0xfed636&&(_0x5c5f87[_0x5a188b(0x74e)]=_0xfed636),_0xfed636&&_0x5a188b(0x2e3)===_0xfed636[_0x5a188b(0x6b6)]&&_0xfed636[_0x5a188b(0x6fd)]&&_0xfed636[_0x5a188b(0x1b9)]&&(_0x5c5f87[_0x5a188b(0x58f)]=this['getResolutionScale'](_0xfed636['resolution'],_0xfed636[_0x5a188b(0x1b9)]),_0x5c5f87[_0x5a188b(0x356)]=_0x5c5f87['resolutionScale'],_0x5c5f87[_0x5a188b(0x5b3)][_0x5a188b(0x2e3)]&&_0x5c5f87[_0x5a188b(0x5b3)][_0x5a188b(0x2e3)][_0x5a188b(0x3e8)])){const _0x1f2bd4=_0x5c5f87[_0x5a188b(0x5b3)][_0x5a188b(0x2e3)][_0x5a188b(0x3e8)];this[_0x5a188b(0x850)][_0x5a188b(0x119)](_0x1f2bd4,Math[_0x5a188b(0x47e)](0xa*_0x5c5f87[_0x5a188b(0x58f)])/0xa,_0x5c5f87[_0x5a188b(0x2c8)],_0x5c5f87['bitrate'],_0x5c5f87[_0x5a188b(0x74f)]);}this[_0x5a188b(0x70c)][_0x5a188b(0xaf)](_0x16c5c2['id'],_0x5c5f87);}[_0x20cdf8(0x894)](_0x3b4e41,_0x2a1032){const _0x201595=_0x20cdf8,_0x5a7058=this[_0x201595(0x70c)][_0x201595(0x333)](_0x3b4e41['id']);if(_0x5a7058&&_0x5a7058[_0x201595(0x74f)]!==_0x2a1032&&(_0x5a7058['priority']=_0x2a1032,_0x5a7058[_0x201595(0x5b3)][_0x201595(0x2e3)]&&_0x5a7058[_0x201595(0x5b3)][_0x201595(0x2e3)][_0x201595(0x3e8)])){const _0x499bd9=_0x5a7058['tracks']['video'][_0x201595(0x3e8)];this[_0x201595(0x850)][_0x201595(0x119)](_0x499bd9,Math['floor'](0xa*_0x5a7058['resolutionScale'])/0xa,_0x5a7058['framerate'],_0x5a7058['bitrate'],_0x5a7058[_0x201595(0x74f)]);}}[_0x20cdf8(0x890)](_0x4c451e,_0x17515b){const _0x317c32=_0x20cdf8,_0x32c023=this['senders']['get'](_0x4c451e['id']);if(_0x32c023){if(_0x32c023['params']=_0x17515b,_0x17515b&&'video'===_0x17515b[_0x317c32(0x6b6)]&&_0x17515b[_0x317c32(0x6fd)]&&_0x17515b[_0x317c32(0x1b9)]){if(_0x32c023['minResolutionScale']=this['getResolutionScale'](_0x17515b[_0x317c32(0x6fd)],_0x17515b[_0x317c32(0x1b9)]),_0x32c023[_0x317c32(0x58f)]<_0x32c023[_0x317c32(0x356)]&&(_0x32c023[_0x317c32(0x58f)]=_0x32c023[_0x317c32(0x356)]),_0x32c023[_0x317c32(0x5b3)][_0x317c32(0x2e3)]&&_0x32c023[_0x317c32(0x5b3)][_0x317c32(0x2e3)][_0x317c32(0x3e8)]){const _0x108dd1=_0x32c023[_0x317c32(0x5b3)][_0x317c32(0x2e3)][_0x317c32(0x3e8)];this[_0x317c32(0x850)][_0x317c32(0x119)](_0x108dd1,Math[_0x317c32(0x47e)](0xa*_0x32c023['resolutionScale'])/0xa,_0x32c023[_0x317c32(0x2c8)],_0x32c023[_0x317c32(0x441)],_0x32c023[_0x317c32(0x74f)]);}this[_0x317c32(0x8e2)](),this['setUpgradeTimeout']();}this[_0x317c32(0x70c)][_0x317c32(0xaf)](_0x4c451e['id'],_0x32c023);}}['removeTrack'](_0x446195,_0x254a43){const _0x26b6f7=_0x20cdf8,_0x845f78=this[_0x26b6f7(0x70c)][_0x26b6f7(0x333)](_0x254a43['id']);if(_0x845f78){const _0xef864a=_0x845f78['tracks'][_0x446195[_0x26b6f7(0x6b6)]];_0xef864a&&(_0xef864a['sender']&&this[_0x26b6f7(0x850)][_0x26b6f7(0x887)](_0xef864a[_0x26b6f7(0x3e8)]),_0xef864a[_0x26b6f7(0xac)]=void 0x0);}}[_0x20cdf8(0x1b4)](_0x48ba23){const _0x1a880a=_0x20cdf8;this['clearUpgradeTimeout']();const _0x179d5c=function(_0xd7aeb3,_0x39978c){const _0x3756e4=a0_0x2e24;return _0xd7aeb3['sort']((_0xc229e7,_0x587c88)=>_0x39978c[_0x3756e4(0x22f)]===_0x19e6e6['Downgrade']?_0x587c88[_0x3756e4(0x74f)]-_0xc229e7[_0x3756e4(0x74f)]:_0xc229e7[_0x3756e4(0x74f)]-_0x587c88[_0x3756e4(0x74f)])[_0x3756e4(0x819)](_0x4836f4=>function(_0x3b2512,_0x217e83){const _0xcf9f8c=_0x3756e4;if(_0x217e83[_0xcf9f8c(0x22f)]===_0x19e6e6[_0xcf9f8c(0x1e9)]){if(_0x217e83[_0xcf9f8c(0x795)]===_0x1f6018[_0xcf9f8c(0x69d)])return _0x3b2512[_0xcf9f8c(0x58f)]<0x4||_0x3b2512[_0xcf9f8c(0x7c0)]>0xf;if(_0x217e83['component']===_0x1f6018[_0xcf9f8c(0x14e)])return _0x3b2512['maxBitrate']>_0x3674b0;}return _0x3b2512[_0xcf9f8c(0x58f)]>_0x3b2512[_0xcf9f8c(0x356)]||_0x3b2512[_0xcf9f8c(0x2c8)]<_0x3b2512[_0xcf9f8c(0x7c0)]||_0x3b2512['bitrate']<_0x3b2512[_0xcf9f8c(0x903)];}(_0x4836f4,_0x39978c));}(Array[_0x1a880a(0x473)](this[_0x1a880a(0x70c)]['values']()),_0x48ba23);if(_0x179d5c&&(function(_0x25456f,_0x425881){const _0x3d16cf=_0x1a880a;_0x25456f[_0x3d16cf(0x5b3)][_0x3d16cf(0x2e3)]&&_0x25456f[_0x3d16cf(0x5b3)][_0x3d16cf(0x2e3)]['sender']&&(_0x25456f[_0x3d16cf(0x58f)]=function(_0x146b71,_0x5960b1,_0xf90da1){const _0x2e0144=_0x3d16cf;switch(_0xf90da1[_0x2e0144(0x22f)]){case _0x19e6e6['Downgrade']:_0xf90da1[_0x2e0144(0x795)]===_0x1f6018['Resolution']&&(_0x146b71+=0.5)>0x4&&(_0x146b71=0x4);break;case _0x19e6e6[_0x2e0144(0x37f)]:(_0x146b71-=0.5)<_0x5960b1&&(_0x146b71=_0x5960b1);}return _0x146b71;}(_0x25456f['resolutionScale'],_0x25456f['minResolutionScale'],_0x425881),_0x25456f[_0x3d16cf(0x2c8)]=function(_0x46abb2,_0x31abee,_0x506ced){const _0x14dba5=_0x3d16cf;switch(_0x506ced[_0x14dba5(0x22f)]){case _0x19e6e6['Downgrade']:_0x506ced[_0x14dba5(0x795)]===_0x1f6018[_0x14dba5(0x69d)]&&(_0x46abb2-=0x3)<0xf&&(_0x46abb2=0xf);break;case _0x19e6e6[_0x14dba5(0x37f)]:(_0x46abb2+=0x3)>_0x31abee&&(_0x46abb2=_0x31abee);}return _0x46abb2;}(_0x25456f[_0x3d16cf(0x2c8)],_0x25456f['maxFramerate'],_0x425881),_0x25456f['bitrate']=function(_0x4a0dab,_0xeec2fb,_0x535c4f){const _0x3b870f=_0x3d16cf;switch(_0x535c4f['action']){case _0x19e6e6[_0x3b870f(0x1e9)]:_0x535c4f[_0x3b870f(0x795)]===_0x1f6018[_0x3b870f(0x14e)]&&(_0x4a0dab*=0.75)<_0x3674b0&&(_0x4a0dab=_0x3674b0);break;case _0x19e6e6[_0x3b870f(0x37f)]:(_0x4a0dab*=1.25)>_0xeec2fb&&(_0x4a0dab=_0xeec2fb);}return _0x4a0dab;}(_0x25456f[_0x3d16cf(0x441)],_0x25456f[_0x3d16cf(0x903)],_0x425881));}(_0x179d5c,_0x48ba23),_0x179d5c['tracks']['video']&&_0x179d5c['tracks'][_0x1a880a(0x2e3)]['sender'])){const _0x3a3ffd=_0x179d5c[_0x1a880a(0x5b3)][_0x1a880a(0x2e3)][_0x1a880a(0x3e8)];this['connection'][_0x1a880a(0x119)](_0x3a3ffd,Math[_0x1a880a(0x47e)](0xa*_0x179d5c[_0x1a880a(0x58f)])/0xa,_0x179d5c[_0x1a880a(0x2c8)],_0x179d5c[_0x1a880a(0x441)],_0x179d5c[_0x1a880a(0x74f)]);}(_0x179d5c||_0x48ba23[_0x1a880a(0x22f)]===_0x19e6e6[_0x1a880a(0x1e9)])&&this['setUpgradeTimeout']();}[_0x20cdf8(0x140)](){const _0xe271d=_0x20cdf8;return this[_0xe271d(0x41e)][_0xe271d(0x60a)][_0xe271d(0x339)]((_0xfb2243,_0x35817a)=>_0xfb2243+_0x35817a[_0xe271d(0x3b4)],0x0)*_0x5c4aec;}[_0x20cdf8(0x5c4)](){const _0x1e2ed2=_0x20cdf8;return this['dataChannel']?.[_0x1e2ed2(0x8e0)]??0x0;}[_0x20cdf8(0x191)](){const _0x40bcab=_0x20cdf8;super[_0x40bcab(0x191)](),this['clearOncloseTimeout'](),this[_0x40bcab(0x4d3)](),this[_0x40bcab(0x70c)][_0x40bcab(0x34b)](_0x323314=>{const _0x2a7c38=_0x40bcab;_0x323314['tracks'][_0x2a7c38(0x2e3)]&&(_0x323314[_0x2a7c38(0x5b3)][_0x2a7c38(0x2e3)][_0x2a7c38(0x3e8)]=void 0x0),_0x323314[_0x2a7c38(0x5b3)][_0x2a7c38(0x529)]&&(_0x323314['tracks'][_0x2a7c38(0x529)]['sender']=void 0x0);}),this[_0x40bcab(0x40f)]=!0x0;}async[_0x20cdf8(0x482)](){return new Promise(async _0xd45086=>{const _0x11491c=a0_0x2e24;if(!this[_0x11491c(0x1f6)]||'open'!==this[_0x11491c(0x1f6)]['state'])return await _0x4b9656[_0x11491c(0x76e)](0x64),void _0xd45086();this[_0x11491c(0x1f6)][_0x11491c(0x8e0)]<_0x2b182e?_0xd45086():this[_0x11491c(0x1f6)][_0x11491c(0x391)]=()=>{const _0x5c35ff=_0x11491c;this[_0x5c35ff(0x1f6)]&&(this['dataChannel'][_0x5c35ff(0x391)]=null),_0xd45086();};});}['sendChunked'](_0x502f40,_0x5dbf1a){const _0x54a16e=_0x20cdf8,_0x291661=[];for(let _0x4c4bbe=0x0;_0x4c4bbe<_0x5dbf1a[_0x54a16e(0x51a)];_0x4c4bbe+=_0x1bf0ef)_0x291661[_0x54a16e(0x82c)](_0x5dbf1a[_0x54a16e(0x2de)](_0x4c4bbe,_0x4c4bbe+_0x1bf0ef));for(const _0x11ee1a of _0x291661)this[_0x54a16e(0x15b)](_0x417f57+';'+_0x502f40[_0x54a16e(0x16b)]+';'+_0x291661['indexOf'](_0x11ee1a)+';'+_0x291661['length']+';'+_0x11ee1a,_0x3d1502[_0x54a16e(0x5bd)]);}async[_0x20cdf8(0x15b)](_0xa0e9d6,_0x47995b){const _0x3a8892=_0x20cdf8;_0xa0e9d6===_0x49e9f8?this[_0x3a8892(0x41e)][_0x3a8892(0x60a)][_0x47995b][_0x3a8892(0x48f)]?.[_0x3a8892(0x74d)]!==_0x49e9f8&&this['retryQueue'][_0x3a8892(0x60a)][_0x47995b][_0x3a8892(0x29f)](_0xa0e9d6):this[_0x3a8892(0x41e)]['queues'][_0x47995b][_0x3a8892(0x82c)](_0xa0e9d6);}['sendAction'](_0x4a4ca6){const _0x1a37b1=_0x20cdf8;if(!this[_0x1a37b1(0x1f6)]||_0x1a37b1(0x8fc)!==this[_0x1a37b1(0x1f6)][_0x1a37b1(0xbe)])throw new Error(_0x1a37b1(0x389));if(this[_0x1a37b1(0x1f6)]['bufferedAmount']>=0xbe8000)throw new Error(_0x1a37b1(0x4a9));const _0x542970=Date[_0x1a37b1(0x76a)]();_0x4a4ca6!==_0x49e9f8&&(this['messagesSent']+=0x1,this[_0x1a37b1(0x25b)]+=_0x4a4ca6 instanceof ArrayBuffer?_0x4a4ca6[_0x1a37b1(0xf3)]:_0x4a4ca6[_0x1a37b1(0x51a)]),ArrayBuffer,this['dataChannel'][_0x1a37b1(0x84a)](_0x4a4ca6),this[_0x1a37b1(0x7fb)]+=Date[_0x1a37b1(0x76a)]()-_0x542970;}['startHeartbeat'](){const _0x4fa7ff=_0x20cdf8;this[_0x4fa7ff(0x444)]&&this[_0x4fa7ff(0x208)]();let _0x35c9cf=!0x0,_0x22b23d=Date[_0x4fa7ff(0x76a)]();this[_0x4fa7ff(0x682)]=Date[_0x4fa7ff(0x76a)](),this[_0x4fa7ff(0x1f6)][_0x4fa7ff(0x735)]=_0x3de426=>{const _0x3c0925=_0x4fa7ff;'1'===_0x3de426[_0x3c0925(0x75d)]&&(this[_0x3c0925(0x6a5)]=Date['now']()-_0x22b23d,_0x35c9cf&&this[_0x3c0925(0x696)]({'type':_0x320761[_0x3c0925(0x3bd)]}),_0x35c9cf=!0x1,this[_0x3c0925(0x682)]=Date[_0x3c0925(0x76a)](),this[_0x3c0925(0x40f)]&&(this[_0x3c0925(0x40f)]=!0x1,this[_0x3c0925(0x36f)]()));},this['heartbeatUnsubscriber']=_0x4b9656[_0x4fa7ff(0x2bf)](()=>{const _0x3947af=_0x4fa7ff;_0x22b23d=Date[_0x3947af(0x76a)](),this[_0x3947af(0x15b)](_0x49e9f8,_0x3d1502[_0x3947af(0x30b)]),Date['now']()-this['lastHeartbeat']>(_0x35c9cf?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x20cdf8(0x36f)](){const _0xddeb94=_0x20cdf8;this['senders'][_0xddeb94(0x34b)](_0x1b1f91=>{const _0x381636=_0xddeb94;_0x1b1f91['tracks']['video']&&_0x1b1f91[_0x381636(0x5b3)][_0x381636(0x2e3)][_0x381636(0xac)]&&!_0x1b1f91[_0x381636(0x5b3)]['video'][_0x381636(0x3e8)]&&(_0x1b1f91[_0x381636(0x5b3)][_0x381636(0x2e3)][_0x381636(0x3e8)]=this[_0x381636(0x850)][_0x381636(0x78e)](_0x1b1f91[_0x381636(0x5b3)][_0x381636(0x2e3)][_0x381636(0xac)],_0x1b1f91['stream'])),_0x1b1f91[_0x381636(0x5b3)][_0x381636(0x529)]&&_0x1b1f91[_0x381636(0x5b3)][_0x381636(0x529)][_0x381636(0xac)]&&!_0x1b1f91['tracks'][_0x381636(0x529)]['sender']&&(_0x1b1f91[_0x381636(0x5b3)][_0x381636(0x529)][_0x381636(0x3e8)]=this[_0x381636(0x850)][_0x381636(0x78e)](_0x1b1f91['tracks']['audio'][_0x381636(0xac)],_0x1b1f91[_0x381636(0x734)]));});}[_0x20cdf8(0x4aa)](){const _0x419ef5=_0x20cdf8;this[_0x419ef5(0x696)]({'type':_0x320761[_0x419ef5(0x4ed)],'candidates':this[_0x419ef5(0x10e)],'origin':_0x31e650[_0x419ef5(0x402)],'version':this['currentVersion'],'connectionType':this[_0x419ef5(0x58d)]});}['setupConnectionEvents'](){const _0x942b6e=_0x20cdf8;super[_0x942b6e(0x216)](),this[_0x942b6e(0x850)][_0x942b6e(0x2cb)]=()=>{const _0xba00ee=_0x942b6e;if(_0xba00ee(0x13e)===this[_0xba00ee(0x850)][_0xba00ee(0x3a4)]){_0x585abf[_0xba00ee(0x447)](_0x324ffe['ConnectionState'],'iceConnectionState\x20failed',this['localNode'][_0xba00ee(0x66e)](),this[_0xba00ee(0x566)]);try{if(this[_0xba00ee(0x850)]['canRestartHandshake'])return void this[_0xba00ee(0x850)][_0xba00ee(0x565)]();}catch(_0xff54ea){}this[_0xba00ee(0x46c)]({'handshakeRestart':!0x0});}},this[_0x942b6e(0x850)]['onConnectionStateChange']=()=>{const _0x121779=_0x942b6e;_0x121779(0x422)!==this[_0x121779(0x850)]['connectionState']&&'failed'!==this[_0x121779(0x850)][_0x121779(0x1af)]||this[_0x121779(0x14f)]();};}[_0x20cdf8(0x14f)](){const _0x51260f=_0x20cdf8;this[_0x51260f(0x208)](),this['clearRestartTimeout'](),this[_0x51260f(0x6ea)](),_0x585abf[_0x51260f(0x7ae)]('disconnect',{'clusterId':this[_0x51260f(0x461)],'nodeId':this[_0x51260f(0x21a)][_0x51260f(0x66e)](),'nodeType':this[_0x51260f(0x21a)]['type'],'remoteId':this['remoteId'],'data':{'connectionType':this['connectionType'],'connectionState':this[_0x51260f(0x850)][_0x51260f(0x1af)],'iceConnectionState':this[_0x51260f(0x850)][_0x51260f(0x3a4)],'signalingState':this[_0x51260f(0x850)][_0x51260f(0x82f)],'readyState':this[_0x51260f(0x1f6)]?.[_0x51260f(0xbe)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x51260f(0x76a)]()-this['lastHeartbeat']:'','retryQueue':this['retryQueue']}}),(this[_0x51260f(0x682)]&&Date[_0x51260f(0x76a)]()-this[_0x51260f(0x682)]>0xea60)??0x1?this['systemTopic']['publish']({'sourceId':this[_0x51260f(0x566)],'destinationIds':[this[_0x51260f(0x21a)][_0x51260f(0x66e)]()],'messageType':_0x213fd0['PeerConnection'],'content':{'type':_0x320761[_0x51260f(0x135)]}}):(this['resetConnection'](),this[_0x51260f(0x696)]({'type':_0x320761['NeedRestart'],'version':this[_0x51260f(0x5d1)],'connectionType':this[_0x51260f(0x58d)]}),this[_0x51260f(0x172)]=setTimeout(()=>{const _0x1a7a12=_0x51260f;this[_0x1a7a12(0x14f)]();},0x7530));}[_0x20cdf8(0x208)](){const _0x5a9c49=_0x20cdf8;this['heartbeatUnsubscriber']?.(),delete this[_0x5a9c49(0x444)];}[_0x20cdf8(0x6ea)](){const _0x3a5485=_0x20cdf8;this[_0x3a5485(0x773)]&&(clearTimeout(this['connectionTimeout']),delete this[_0x3a5485(0x773)]);}[_0x20cdf8(0x1d8)](){const _0x5ac67b=_0x20cdf8;this[_0x5ac67b(0x172)]&&(clearTimeout(this[_0x5ac67b(0x172)]),delete this[_0x5ac67b(0x172)]);}[_0x20cdf8(0x8e2)](){const _0x1c45df=_0x20cdf8;this[_0x1c45df(0x219)]&&(clearTimeout(this[_0x1c45df(0x219)]),delete this[_0x1c45df(0x219)]);}[_0x20cdf8(0x595)](){const _0x3f9e36=_0x20cdf8;this[_0x3f9e36(0x219)]=setTimeout(()=>{const _0x50cdd6=_0x3f9e36;this['applyRemediation']({'type':_0x1c7d55[_0x50cdd6(0x235)],'action':_0x19e6e6[_0x50cdd6(0x37f)]});},0x3a98);}[_0x20cdf8(0x23f)](_0x42f377,_0x4fe69f){const _0x4b70cb=_0x20cdf8,_0x5d856c=Math[_0x4b70cb(0x87d)](_0x42f377['width']/_0x4fe69f[_0x4b70cb(0x8b7)],_0x42f377['height']/_0x4fe69f['height']);return Math['min'](Math[_0x4b70cb(0x87d)](_0x5d856c,0x1),0x4);}[_0x20cdf8(0x4d3)](){const _0x232c39=_0x20cdf8;this[_0x232c39(0x69f)]?.(),delete this[_0x232c39(0x69f)];}['clearOncloseTimeout'](){const _0xfe8640=_0x20cdf8;this['oncloseTimeout']&&(clearTimeout(this[_0xfe8640(0x5aa)]),delete this[_0xfe8640(0x5aa)]);}[_0x20cdf8(0x6ee)](_0x49240e){const _0x296a30=_0x20cdf8,_0x5d1d4a=JSON['stringify'](_0x49240e);return new TextEncoder()[_0x296a30(0x83a)](_0x5d1d4a)[_0x296a30(0x159)];}[_0x20cdf8(0x5df)](_0xda4e61,_0x5be900){const _0x438a64=_0x20cdf8,_0x369c61=this['objectToArrayBuffer'](_0xda4e61),_0x3ba521=new Uint8Array(0x4),_0x1f1cea=new Uint8Array(_0x369c61),_0x360667=new Uint8Array(_0x5be900);_0x3ba521[_0x438a64(0xaf)](new Uint8Array(new Uint32Array([_0x1f1cea['length']])[_0x438a64(0x159)]));const _0xb9c3c1=new Uint8Array(0x4+_0x1f1cea[_0x438a64(0x51a)]+_0x360667['length']);return _0xb9c3c1[_0x438a64(0xaf)](_0x3ba521),_0xb9c3c1[_0x438a64(0xaf)](_0x1f1cea,0x4),_0xb9c3c1[_0x438a64(0xaf)](_0x360667,0x4+_0x1f1cea['length']),_0xb9c3c1[_0x438a64(0x159)];}}class _0x20dde9 extends _0x3b01b2{['iceServers'];[_0x20cdf8(0x58d)];['maxFps'];[_0x20cdf8(0x195)];[_0x20cdf8(0x350)];[_0x20cdf8(0x146)];[_0x20cdf8(0x45f)];[_0x20cdf8(0x459)]=[];[_0x20cdf8(0x592)]=_0x53e3a2();[_0x20cdf8(0x516)]=_0x53e3a2();['removeTrackListeners']=_0x53e3a2();[_0x20cdf8(0x199)]=[];[_0x20cdf8(0x361)];[_0x20cdf8(0x876)]=new Map();[_0x20cdf8(0x568)]=new Map();[_0x20cdf8(0x4f7)]=new Map();['mediaUnsubscribers']=new Map();[_0x20cdf8(0x4c4)]=!0x1;constructor(_0x29ca49,_0x3b638d,_0x1df564,_0x57be87,_0x2d201a,_0x5993bf,_0x235d82,_0x384394){const _0xa705fa=_0x20cdf8;super(_0x29ca49,_0x3b638d,_0x1df564),this[_0xa705fa(0x852)]=_0x57be87,this['connectionType']=_0x2d201a,this['maxFps']=_0x5993bf,this[_0xa705fa(0x195)]=_0x235d82,this[_0xa705fa(0x350)]=_0x384394;}[_0x20cdf8(0xe4)](_0x4ac409){const _0x4ba584=_0x20cdf8;switch(_0x4ac409['getContentType']()){case _0x3b754d['ContentType']['Data']:case _0x3b754d[_0x4ba584(0x4e6)]['PubSub']:case _0x3b754d[_0x4ba584(0x4e6)][_0x4ba584(0x702)]:case _0x3b754d[_0x4ba584(0x4e6)][_0x4ba584(0x400)]:case _0x3b754d['ContentType'][_0x4ba584(0x46a)]:case _0x3b754d[_0x4ba584(0x4e6)]['VectorDatabase']:case _0x3b754d['ContentType'][_0x4ba584(0x48d)]:case _0x3b754d[_0x4ba584(0x4e6)][_0x4ba584(0x530)]:this[_0x4ba584(0x876)]['set'](_0x4ac409[_0x4ba584(0x353)](),_0x4ac409);break;case _0x3b754d[_0x4ba584(0x4e6)][_0x4ba584(0x113)]:this[_0x4ba584(0x4f7)][_0x4ba584(0xaf)](_0x4ac409['getLabel'](),_0x4ac409);}}[_0x20cdf8(0x4e0)](_0x347c78){const _0x59de51=_0x20cdf8;switch(_0x347c78['getContentType']()){case _0x3b754d['ContentType'][_0x59de51(0x848)]:case _0x3b754d[_0x59de51(0x4e6)][_0x59de51(0x65e)]:case _0x3b754d['ContentType'][_0x59de51(0x702)]:case _0x3b754d['ContentType'][_0x59de51(0x400)]:case _0x3b754d[_0x59de51(0x4e6)][_0x59de51(0x46a)]:case _0x3b754d[_0x59de51(0x4e6)][_0x59de51(0x345)]:case _0x3b754d[_0x59de51(0x4e6)][_0x59de51(0x48d)]:case _0x3b754d['ContentType'][_0x59de51(0x530)]:this[_0x59de51(0x876)][_0x59de51(0x268)](_0x347c78[_0x59de51(0x353)]());break;case _0x3b754d['ContentType'][_0x59de51(0x113)]:this['mediaTopics'][_0x59de51(0x268)](_0x347c78['getLabel']());}}[_0x20cdf8(0x168)](_0x2fe1b2){const _0xb97b0c=_0x20cdf8;switch(_0x2fe1b2['getContentType']()){case _0x3b754d[_0xb97b0c(0x4e6)][_0xb97b0c(0x848)]:case _0x3b754d[_0xb97b0c(0x4e6)]['PubSub']:case _0x3b754d[_0xb97b0c(0x4e6)][_0xb97b0c(0x702)]:case _0x3b754d['ContentType'][_0xb97b0c(0x400)]:case _0x3b754d['ContentType'][_0xb97b0c(0x46a)]:case _0x3b754d[_0xb97b0c(0x4e6)][_0xb97b0c(0x345)]:case _0x3b754d[_0xb97b0c(0x4e6)][_0xb97b0c(0x48d)]:case _0x3b754d[_0xb97b0c(0x4e6)][_0xb97b0c(0x530)]:{const _0x1c5caa=_0x2fe1b2['subscribe'](_0x4687e5=>{const _0x2b5cdd=_0xb97b0c;_0x260e53(_0x4687e5,this[_0x2b5cdd(0x5db)]())&&_0x3d6d98(_0x4687e5,this[_0x2b5cdd(0x566)])&&this[_0x2b5cdd(0x84a)](_0x4687e5);});this[_0xb97b0c(0x568)][_0xb97b0c(0xaf)](_0x2fe1b2[_0xb97b0c(0x353)](),_0x1c5caa);break;}case _0x3b754d[_0xb97b0c(0x4e6)]['Media']:{const _0x47b732=_0x2fe1b2[_0xb97b0c(0x3cb)](({content:_0x32a700})=>{const _0x5614d1=_0xb97b0c;switch(_0x32a700[_0x5614d1(0x22f)]){case _0x5d80ab['Add']:this[_0x5614d1(0x78e)](_0x32a700[_0x5614d1(0xac)],_0x32a700[_0x5614d1(0x734)],_0x32a700[_0x5614d1(0x74f)],_0x32a700[_0x5614d1(0x74e)]);break;case _0x5d80ab['Remove']:this['removeTrack'](_0x32a700[_0x5614d1(0xac)],_0x32a700[_0x5614d1(0x734)]);break;case _0x5d80ab[_0x5614d1(0x5c1)]:_0x32a700[_0x5614d1(0x74f)]&&this['setPriority'](_0x32a700[_0x5614d1(0x734)],_0x32a700[_0x5614d1(0x74f)]),_0x32a700[_0x5614d1(0x74e)]&&this[_0x5614d1(0x890)](_0x32a700[_0x5614d1(0x734)],_0x32a700['params']);}});this['mediaUnsubscribers'][_0xb97b0c(0xaf)](_0x2fe1b2[_0xb97b0c(0x353)](),_0x47b732);break;}}}[_0x20cdf8(0x4ce)](_0x437b6c){const _0x2b4e6e=_0x20cdf8;switch(_0x437b6c['getContentType']()){case _0x3b754d[_0x2b4e6e(0x4e6)][_0x2b4e6e(0x848)]:case _0x3b754d[_0x2b4e6e(0x4e6)][_0x2b4e6e(0x65e)]:case _0x3b754d[_0x2b4e6e(0x4e6)][_0x2b4e6e(0x702)]:case _0x3b754d[_0x2b4e6e(0x4e6)][_0x2b4e6e(0x400)]:case _0x3b754d[_0x2b4e6e(0x4e6)][_0x2b4e6e(0x46a)]:case _0x3b754d[_0x2b4e6e(0x4e6)]['VectorDatabase']:case _0x3b754d[_0x2b4e6e(0x4e6)]['GraphDatabase']:case _0x3b754d[_0x2b4e6e(0x4e6)][_0x2b4e6e(0x530)]:this['dataUnsubscribers'][_0x2b4e6e(0x333)](_0x437b6c[_0x2b4e6e(0x353)]())?.(),this[_0x2b4e6e(0x568)][_0x2b4e6e(0x268)](_0x437b6c[_0x2b4e6e(0x353)]());break;case _0x3b754d[_0x2b4e6e(0x4e6)][_0x2b4e6e(0x113)]:this['mediaUnsubscribers'][_0x2b4e6e(0x333)](_0x437b6c[_0x2b4e6e(0x353)]())?.(),this[_0x2b4e6e(0x48b)]['delete'](_0x437b6c['getLabel']());}}[_0x20cdf8(0x517)](){const _0x26b3df=_0x20cdf8;return[_0x3b754d[_0x26b3df(0x4e6)][_0x26b3df(0x848)],_0x3b754d['ContentType'][_0x26b3df(0x113)],_0x3b754d[_0x26b3df(0x4e6)]['PubSub'],_0x3b754d[_0x26b3df(0x4e6)][_0x26b3df(0x702)],_0x3b754d[_0x26b3df(0x4e6)][_0x26b3df(0x400)],_0x3b754d[_0x26b3df(0x4e6)][_0x26b3df(0x46a)],_0x3b754d['ContentType'][_0x26b3df(0x345)],_0x3b754d[_0x26b3df(0x4e6)]['GraphDatabase'],_0x3b754d[_0x26b3df(0x4e6)][_0x26b3df(0x530)]];}[_0x20cdf8(0x47a)](_0x5807d6){const _0x56a885=_0x20cdf8;this[_0x56a885(0x361)]=_0x5807d6;}['unregisterSystemPublisher'](){const _0x2bfd7f=_0x20cdf8;delete this[_0x2bfd7f(0x361)];}async['connect'](){const _0x971489=_0x20cdf8;this[_0x971489(0x354)](),await this[_0x971489(0x46c)]();}['close'](){const _0x43ffe9=_0x20cdf8;this[_0x43ffe9(0x199)][_0x43ffe9(0x34b)](_0x2b0fad=>_0x2b0fad()),this[_0x43ffe9(0x199)]=[],this[_0x43ffe9(0x146)]?.[_0x43ffe9(0x5b7)](),this[_0x43ffe9(0x146)]?.[_0x43ffe9(0x671)](),delete this[_0x43ffe9(0x146)],this[_0x43ffe9(0x459)][_0x43ffe9(0x34b)](_0x20552c=>_0x20552c()),this['receiverUnsubscribers']=[],this[_0x43ffe9(0x45f)]?.[_0x43ffe9(0x5b7)](),this['receiverConnection']?.[_0x43ffe9(0x671)](),delete this[_0x43ffe9(0x45f)];}[_0x20cdf8(0x5fa)](){const _0x334788=_0x20cdf8;return this[_0x334788(0x146)]?.[_0x334788(0x5fa)]()&&this['receiverConnection']?.[_0x334788(0x5fa)]()||!0x1;}[_0x20cdf8(0x84a)](_0x339490){const _0x44d32a=_0x20cdf8;if(!this[_0x44d32a(0x146)]||!this[_0x44d32a(0x5fa)]())throw new _0x5a569f(_0x5a569f[_0x44d32a(0x4e8)][_0x44d32a(0x493)],{'message':_0x44d32a(0x89f),'senderConnected':this[_0x44d32a(0x146)]?.['isConnected'](),'receiverConnected':this[_0x44d32a(0x45f)]?.[_0x44d32a(0x5fa)](),'localId':this[_0x44d32a(0x5db)](),'remoteId':this['remoteId'],'data':_0x339490});this[_0x44d32a(0x146)][_0x44d32a(0x84a)](_0x339490);}[_0x20cdf8(0x735)](_0x53e3c5){const _0x4a131b=_0x20cdf8;return this[_0x4a131b(0x592)][_0x4a131b(0x3cb)](_0x53e3c5);}[_0x20cdf8(0x262)](_0x3b20f5){const _0x35fbc1=_0x20cdf8;return this[_0x35fbc1(0x516)][_0x35fbc1(0x3cb)](({track:_0x20c2b5,stream:_0x1d82e6})=>_0x3b20f5(_0x20c2b5,_0x1d82e6));}['onRemoveTrack'](_0x599a65){const _0xa1b74f=_0x20cdf8;return this['removeTrackListeners'][_0xa1b74f(0x3cb)](({track:_0xdd61ee,stream:_0x20b286})=>_0x599a65(_0xdd61ee,_0x20b286));}[_0x20cdf8(0x78e)](_0x5cb419,_0x347254,_0x4fc839,_0x2fb6d9){const _0x44ce94=_0x20cdf8;this[_0x44ce94(0x146)]?.[_0x44ce94(0x78e)](_0x5cb419,_0x347254,_0x4fc839,_0x2fb6d9);}['setPriority'](_0x5c7c44,_0x527564){const _0x313b49=_0x20cdf8;this[_0x313b49(0x146)]?.['setPriority'](_0x5c7c44,_0x527564);}[_0x20cdf8(0x890)](_0x12056a,_0x4cd918){const _0x213d0a=_0x20cdf8;this[_0x213d0a(0x146)]?.[_0x213d0a(0x890)](_0x12056a,_0x4cd918);}[_0x20cdf8(0x887)](_0x3f8b74,_0x12c6f7){const _0x51967a=_0x20cdf8;this[_0x51967a(0x146)]?.[_0x51967a(0x887)](_0x3f8b74,_0x12c6f7);}async[_0x20cdf8(0x38c)](_0x25bbab){const _0x294a35=_0x20cdf8;_0x585abf[_0x294a35(0x447)](_0x324ffe['Connection'],_0x294a35(0x80a),this[_0x294a35(0x5db)](),_0x25bbab);const {content:_0x2e2cea}=_0x25bbab;switch(_0x2e2cea[_0x294a35(0x6f6)]){case _0x320761[_0x294a35(0x80d)]:await this[_0x294a35(0x550)](_0x2e2cea);break;case _0x320761[_0x294a35(0x7d9)]:await this[_0x294a35(0x445)](_0x2e2cea);break;case _0x320761[_0x294a35(0x3bd)]:this[_0x294a35(0x5f6)]();break;case _0x320761[_0x294a35(0x4ed)]:await this[_0x294a35(0x8f6)](_0x2e2cea);break;case _0x320761[_0x294a35(0x1d9)]:this[_0x294a35(0x41c)](_0x2e2cea);break;case _0x320761[_0x294a35(0x394)]:await this['createOffer']();}}[_0x20cdf8(0x7a2)](_0x5c6591){const _0x22208c=_0x20cdf8;this[_0x22208c(0x146)]?.[_0x22208c(0x1b4)](_0x5c6591[_0x22208c(0x843)][_0x22208c(0x75d)]);}[_0x20cdf8(0x76b)](){const _0x39e879=_0x20cdf8;return this[_0x39e879(0x58d)];}[_0x20cdf8(0x84f)](_0x44f39f){const _0x416adb=_0x20cdf8;this[_0x416adb(0x58d)]=_0x44f39f,this[_0x416adb(0x146)]?.[_0x416adb(0x84f)](_0x44f39f),this['receiverConnection']?.['setConnectionType'](_0x44f39f);}async[_0x20cdf8(0x35a)](){const _0x220532=_0x20cdf8;await this['senderConnection']?.[_0x220532(0x35a)](),await this['receiverConnection']?.[_0x220532(0x35a)]();}[_0x20cdf8(0x140)](){const _0x571585=_0x20cdf8;return this['senderConnection']?.[_0x571585(0x140)]()??0x0;}['getBufferedAmount'](){const _0x2c8df2=_0x20cdf8;return this[_0x2c8df2(0x146)]?.['getBufferedAmount']()??0x0;}[_0x20cdf8(0x354)](){const _0x552fc=_0x20cdf8;this['listenerUnsubscribers'][_0x552fc(0x82c)](this[_0x552fc(0x735)](_0x8cf794=>{const _0x4681ab=_0x552fc;_0x3d6d98(_0x8cf794,this['getLocalId']())&&0x0!==_0x8cf794[_0x4681ab(0x4b6)]&&this[_0x4681ab(0x876)]['get'](_0x8cf794[_0x4681ab(0x4b6)])?.[_0x4681ab(0x1ed)](_0x8cf794);})),this[_0x552fc(0x199)][_0x552fc(0x82c)](this[_0x552fc(0x262)]((_0x25593f,_0x5199ba)=>{const _0x4ca948=_0x552fc,_0x260f18=_0x7af656(_0x3b754d[_0x4ca948(0x4e6)][_0x4ca948(0x113)],_0x5199ba['id'],this[_0x4ca948(0x566)]);this[_0x4ca948(0x4f7)][_0x4ca948(0x333)](_0x260f18)?.[_0x4ca948(0x1ed)]({'topicLabel':_0x260f18,'sourceId':this[_0x4ca948(0x566)],'contentType':_0x3b754d[_0x4ca948(0x4e6)][_0x4ca948(0x113)],'content':{'action':_0x5d80ab[_0x4ca948(0x315)],'track':_0x25593f,'stream':_0x5199ba,'providerId':this[_0x4ca948(0x566)]}});})),this['listenerUnsubscribers'][_0x552fc(0x82c)](this[_0x552fc(0x791)]((_0x392eae,_0x1b1a45)=>{const _0xe13032=_0x552fc,_0x32c475=_0x7af656(_0x3b754d['ContentType'][_0xe13032(0x113)],_0x1b1a45['id'],this[_0xe13032(0x566)]);this['mediaTopics']['get'](_0x32c475)?.[_0xe13032(0x1ed)]({'topicLabel':_0x32c475,'sourceId':this[_0xe13032(0x566)],'contentType':_0x3b754d[_0xe13032(0x4e6)][_0xe13032(0x113)],'content':{'action':_0x5d80ab[_0xe13032(0x313)],'track':_0x392eae,'stream':_0x1b1a45,'providerId':this[_0xe13032(0x566)]}});}));}['handleIceCandidates']({candidates:_0x2d73d2,origin:_0x399cfd,version:_0x4d6bc0}){const _0x49f471=_0x20cdf8;return _0x399cfd===_0x31e650['Sender']?(this[_0x49f471(0x45f)]||this[_0x49f471(0x27d)](),this[_0x49f471(0x45f)][_0x49f471(0x249)](_0x2d73d2,_0x4d6bc0)):this[_0x49f471(0x146)][_0x49f471(0x249)](_0x2d73d2,_0x4d6bc0);}async[_0x20cdf8(0x46c)](){const _0x28e35c=_0x20cdf8;this[_0x28e35c(0x146)]||this[_0x28e35c(0x2a9)](),await this['senderConnection'][_0x28e35c(0x46c)]();}async[_0x20cdf8(0x550)]({offer:_0x58f76d,version:_0x1a2498}){const _0x4700ff=_0x20cdf8;this[_0x4700ff(0x45f)]||this['createReceiverConnection'](),await this[_0x4700ff(0x45f)][_0x4700ff(0x550)](_0x58f76d,_0x1a2498);}async[_0x20cdf8(0x445)]({answer:_0x509f0f,version:_0x13fb26}){const _0x2fa2ae=_0x20cdf8;if(!this[_0x2fa2ae(0x146)])throw new _0x5a569f(_0x5a569f[_0x2fa2ae(0x4e8)][_0x2fa2ae(0x493)],{'message':_0x2fa2ae(0x32b),'localId':this[_0x2fa2ae(0x5db)](),'remoteId':this[_0x2fa2ae(0x566)],'answer':_0x509f0f});await this[_0x2fa2ae(0x146)]['handleAnswer'](_0x509f0f,_0x13fb26);}[_0x20cdf8(0x5f6)](){const _0x533142=_0x20cdf8;if(!this[_0x533142(0x45f)])throw new _0x5a569f(_0x5a569f['codes'][_0x533142(0x493)],{'message':_0x533142(0x4bb),'localId':this[_0x533142(0x5db)](),'remoteId':this[_0x533142(0x566)]});this[_0x533142(0x45f)]['handleSuccess'](),this[_0x533142(0x4c4)]||this[_0x533142(0x58d)]!==_0x5a0b34['Optimization']||(this[_0x533142(0x4c4)]=!0x0,this[_0x533142(0x361)]?.['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x533142(0x5db)]()],'messageType':_0x213fd0[_0x533142(0x52e)],'content':{'type':_0x320761[_0x533142(0x18f)]}}));}[_0x20cdf8(0x41c)](_0xe2ed06){const _0x39458b=_0x20cdf8;this['receiverConnection']||this[_0x39458b(0x27d)](),this[_0x39458b(0x45f)][_0x39458b(0x41c)](_0xe2ed06[_0x39458b(0x30e)]);}[_0x20cdf8(0x2a9)](){const _0x1b4aea=_0x20cdf8;this[_0x1b4aea(0x146)]=new _0x545972(this['clusterId'],this[_0x1b4aea(0x21a)],this[_0x1b4aea(0x566)],this[_0x1b4aea(0x852)],this[_0x1b4aea(0x58d)],this[_0x1b4aea(0x2c2)],this[_0x1b4aea(0x195)],this[_0x1b4aea(0x350)]),this[_0x1b4aea(0x146)][_0x1b4aea(0x47a)](this[_0x1b4aea(0x361)]);}[_0x20cdf8(0x27d)](){const _0x119cf7=_0x20cdf8;this[_0x119cf7(0x45f)]=new _0x2f9a1d(this[_0x119cf7(0x461)],this['localNode'],this[_0x119cf7(0x566)],this[_0x119cf7(0x852)],this['connectionType'],this['connectionConstructor']),this[_0x119cf7(0x45f)][_0x119cf7(0x47a)](this[_0x119cf7(0x361)]),this[_0x119cf7(0x459)][_0x119cf7(0x82c)](this['receiverConnection'][_0x119cf7(0x735)](_0x375bdd=>this['messageListeners'][_0x119cf7(0x1ed)](_0x375bdd))),this[_0x119cf7(0x459)][_0x119cf7(0x82c)](this[_0x119cf7(0x45f)]['onTrack']((_0x33acc1,_0x3b2ea5)=>this[_0x119cf7(0x516)]['publish']({'track':_0x33acc1,'stream':_0x3b2ea5}))),this['receiverUnsubscribers'][_0x119cf7(0x82c)](this['receiverConnection'][_0x119cf7(0x791)]((_0xf7f559,_0x1aa7df)=>this[_0x119cf7(0x346)][_0x119cf7(0x1ed)]({'track':_0xf7f559,'stream':_0x1aa7df})));}}class _0x1a7a49{[_0x20cdf8(0x181)];[_0x20cdf8(0x56c)];[_0x20cdf8(0x6e7)];[_0x20cdf8(0x336)]=new Map();[_0x20cdf8(0x592)]=_0x53e3a2();[_0x20cdf8(0xea)];['dataTopics']=new Map();[_0x20cdf8(0x568)]=new Map();[_0x20cdf8(0xdf)]=new Map();constructor(_0x32316b,_0x9d41f3,_0x3b50d4){const _0x4f5129=_0x20cdf8;this[_0x4f5129(0x181)]=_0x32316b,this[_0x4f5129(0x56c)]=_0x9d41f3,this[_0x4f5129(0x6e7)]=_0x3b50d4,this[_0x4f5129(0xea)]=this[_0x4f5129(0x735)](_0x145223=>{const _0x368234=_0x4f5129;this[_0x368234(0x56c)]['hasMessage'](_0x145223['uuid'])||(_0x3d6d98(_0x145223,this['localId'])&&0x0!==_0x145223['topicLabel']&&(this[_0x368234(0x56c)][_0x368234(0x35f)](_0x145223[_0x368234(0x16b)]),this[_0x368234(0x876)][_0x368234(0x333)](_0x145223[_0x368234(0x4b6)])?.[_0x368234(0x1ed)](_0x145223)),_0x145223['propagate']&&this['send'](_0x145223));});}[_0x20cdf8(0x671)](){this['messageUnsubscriber']?.();}['addConnection'](_0x5bb5e2){const _0x1a4fb6=_0x20cdf8,_0x682c58=_0x5bb5e2[_0x1a4fb6(0x735)](_0x4ca15a=>{const _0x1bc77f=_0x1a4fb6;this[_0x1bc77f(0x592)][_0x1bc77f(0x1ed)](_0x4ca15a);});this['connections'][_0x1a4fb6(0xaf)](_0x5bb5e2,_0x682c58),this['retryQueues']['set'](_0x5bb5e2[_0x1a4fb6(0x7e3)](),function(_0x3ed8ed,_0x4ac435=!0x1){let _0x57e62e=new Map();const _0x332b70=_0x9d4789(_0x3ed8ed,_0x4ac435,function(_0x538e27){const _0x313860=a0_0x2e24;_0x8e822d(_0x538e27)&&_0x57e62e[_0x313860(0x268)](_0x538e27[_0x313860(0x8c8)]+'-'+(_0x538e27[_0x313860(0x823)]??[])+'-'+_0x538e27['messageType']+'-'+_0x538e27[_0x313860(0x843)][_0x313860(0x6f6)]);},function(_0x273a99){return!!function(_0x46994f){const _0x4ab9f4=a0_0x2e24,_0x2b7ed7=_0x46994f['value'];if(!_0x8e822d(_0x2b7ed7))return!0x1;const _0x44b5e7=_0x2b7ed7[_0x4ab9f4(0x8c8)]+'-'+(_0x2b7ed7['destinationIds']??[])+'-'+_0x2b7ed7[_0x4ab9f4(0x274)]+'-'+_0x2b7ed7[_0x4ab9f4(0x843)][_0x4ab9f4(0x6f6)],_0x3166dd={'version':_0x2b7ed7[_0x4ab9f4(0x843)][_0x4ab9f4(0x30e)],'element':_0x46994f},_0x1681c2=_0x57e62e[_0x4ab9f4(0x333)](_0x44b5e7);return _0x1681c2?(_0x1681c2[_0x4ab9f4(0x30e)]>=_0x2b7ed7[_0x4ab9f4(0x843)]['version']||(_0x1681c2['element']['previous']&&(_0x1681c2['element'][_0x4ab9f4(0x1f1)][_0x4ab9f4(0xdd)]=_0x46994f,_0x46994f[_0x4ab9f4(0x1f1)]=_0x1681c2['element']['previous']),_0x1681c2[_0x4ab9f4(0x410)][_0x4ab9f4(0xdd)]&&(_0x1681c2[_0x4ab9f4(0x410)][_0x4ab9f4(0xdd)]['previous']=_0x46994f,_0x46994f[_0x4ab9f4(0xdd)]=_0x1681c2[_0x4ab9f4(0x410)][_0x4ab9f4(0xdd)]),_0x1681c2['element']===_0x332b70[_0x4ab9f4(0x48f)]&&(_0x332b70['head']=_0x46994f),_0x1681c2[_0x4ab9f4(0x410)]===_0x332b70['tail']&&(_0x332b70[_0x4ab9f4(0x761)]=_0x46994f),_0x57e62e['set'](_0x44b5e7,_0x3166dd)),!0x0):(_0x57e62e[_0x4ab9f4(0xaf)](_0x44b5e7,_0x3166dd),!0x1);}(_0x273a99);},function(){_0x57e62e['clear']();});function _0x8e822d(_0xe3a976){const _0x5e4766=a0_0x2e24;if(_0xe3a976&&_0x5e4766(0x1ac)==typeof _0xe3a976&&_0xe3a976['hasOwnProperty'](_0x5e4766(0x843))&&_0xe3a976[_0x5e4766(0x4f6)](_0x5e4766(0x274))&&_0xe3a976[_0x5e4766(0x4f6)](_0x5e4766(0x8c8))){const _0x4c75c3=_0xe3a976;if(_0x4c75c3[_0x5e4766(0x843)]&&_0x5e4766(0x1ac)==typeof _0x4c75c3[_0x5e4766(0x843)]&&_0x4c75c3[_0x5e4766(0x843)][_0x5e4766(0x4f6)](_0x5e4766(0x30e))&&_0x4c75c3[_0x5e4766(0x843)][_0x5e4766(0x4f6)](_0x5e4766(0x6f6)))return!0x0;}return!0x1;}return _0x332b70;}(new _0x4f30a3(_0x2adf0e=>_0x5bb5e2['send'](_0x2adf0e),()=>_0x4b9656[_0x1a4fb6(0x76e)](0x64))));}[_0x20cdf8(0x56d)](_0x413205){const _0x589bb1=_0x20cdf8;this[_0x589bb1(0x336)][_0x589bb1(0x333)](_0x413205)?.(),this['connections'][_0x589bb1(0x268)](_0x413205),this[_0x589bb1(0xdf)][_0x589bb1(0x333)](_0x413205['getRemoteId']())?.[_0x589bb1(0x1fc)](),this[_0x589bb1(0xdf)][_0x589bb1(0x268)](_0x413205['getRemoteId']());}[_0x20cdf8(0x5fa)](_0x44bfd0){const _0x1f2026=_0x20cdf8;return _0x585abf[_0x1f2026(0x447)](_0x324ffe['ConnectionState'],_0x1f2026(0x693),this[_0x1f2026(0x181)],this[_0x1f2026(0x336)][_0x1f2026(0x653)]()),0x0!==this[_0x1f2026(0x336)][_0x1f2026(0x3b4)]&&(Array[_0x1f2026(0x473)](this[_0x1f2026(0x336)][_0x1f2026(0x653)]())[_0x1f2026(0x819)](_0x11d648=>_0x11d648['getRemoteId']()===_0x44bfd0)?.[_0x1f2026(0x5fa)]()??!0x1);}['registerPublisher'](_0x155763){const _0x3e5861=_0x20cdf8;this['dataTopics'][_0x3e5861(0xaf)](_0x155763[_0x3e5861(0x353)](),_0x155763);}[_0x20cdf8(0x4e0)](_0x5172a0){const _0x22d65a=_0x20cdf8;this['dataTopics'][_0x22d65a(0x268)](_0x5172a0[_0x22d65a(0x353)]());}[_0x20cdf8(0x168)](_0x273f3b){const _0xc6cdd1=_0x20cdf8,_0x5cebc7=_0x273f3b[_0xc6cdd1(0x3cb)](this[_0xc6cdd1(0x84a)][_0xc6cdd1(0x684)](this));this['dataUnsubscribers'][_0xc6cdd1(0xaf)](_0x273f3b['getLabel'](),_0x5cebc7);}['unregisterSubscriber'](_0x54bfe1){const _0x237790=_0x20cdf8;this[_0x237790(0x568)][_0x237790(0x333)](_0x54bfe1['getLabel']())?.(),this['dataUnsubscribers'][_0x237790(0x268)](_0x54bfe1[_0x237790(0x353)]());}['getSupportedContentTypes'](){const _0x7532b2=_0x20cdf8;return[_0x3b754d[_0x7532b2(0x4e6)][_0x7532b2(0x848)],_0x3b754d[_0x7532b2(0x4e6)][_0x7532b2(0x65e)],_0x3b754d[_0x7532b2(0x4e6)][_0x7532b2(0x702)],_0x3b754d[_0x7532b2(0x4e6)]['KeyValueDatabase'],_0x3b754d[_0x7532b2(0x4e6)][_0x7532b2(0x46a)],_0x3b754d['ContentType'][_0x7532b2(0x345)],_0x3b754d['ContentType'][_0x7532b2(0x48d)],_0x3b754d[_0x7532b2(0x4e6)][_0x7532b2(0x530)]];}[_0x20cdf8(0x84a)](_0x4c138f){const _0x527f4b=_0x20cdf8;if(!0x1===_0x4c138f[_0x527f4b(0x67d)]){if(_0x4c138f[_0x527f4b(0x6b3)]||!_0x4c138f[_0x527f4b(0x823)]||0x1!==_0x4c138f[_0x527f4b(0x823)][_0x527f4b(0x51a)])throw new _0x5a569f(_0x5a569f['codes'][_0x527f4b(0xbf)],{'message':_0x527f4b(0x79a),'localId':this[_0x527f4b(0x181)]});if(!this['isConnected'](_0x4c138f[_0x527f4b(0x823)][0x0]))throw new _0x5f3fcd('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0x1045f8=_0x4c138f[_0x527f4b(0x638)]??[];try{const {filteredDestinationIds:_0x48a248,extendedRecipients:_0x59611c}=this[_0x527f4b(0x23b)](_0x4c138f,_0x1045f8);_0x4c138f[_0x527f4b(0x823)]=_0x48a248,_0x4c138f[_0x527f4b(0x638)]=_0x59611c;}catch(_0x2700f3){if(_0x2700f3 instanceof _0x5f3fcd)return void _0x585abf[_0x527f4b(0x447)](_0x324ffe[_0x527f4b(0x29d)],'CrewdleConnectionGroup',_0x527f4b(0xc8),_0x4c138f,_0x2700f3[_0x527f4b(0x129)]);}const _0x41e4bd=this[_0x527f4b(0x57a)](_0x4c138f);this[_0x527f4b(0x215)](_0x4c138f,_0x41e4bd),_0x4c138f['propagate']=_0x41e4bd;const _0x3c148b=this[_0x527f4b(0x612)](_0x4c138f,_0x1045f8);for(const _0x448d16 of _0x3c148b){const _0x4c4b5f=this['retryQueues'][_0x527f4b(0x333)](_0x448d16[_0x527f4b(0x7e3)]());if(!_0x4c4b5f)throw new _0x5a569f(_0x5a569f[_0x527f4b(0x4e8)]['ConnectionNoRetryQueue'],{'message':_0x527f4b(0x857),'localId':this[_0x527f4b(0x181)],'remoteId':_0x448d16['getRemoteId'](),'data':_0x4c138f});_0x4c4b5f[_0x527f4b(0x82c)](_0x4c138f);}}[_0x20cdf8(0x7e3)](){return'';}[_0x20cdf8(0x5db)](){const _0x2f147c=_0x20cdf8;return this[_0x2f147c(0x181)];}['onMessage'](_0x1119b1){const _0x4632d5=_0x20cdf8;return this[_0x4632d5(0x592)][_0x4632d5(0x3cb)](_0x1119b1);}[_0x20cdf8(0x23b)](_0x59472c,_0x3a376c){const _0x28396a=_0x20cdf8,_0x2dc950={'filteredDestinationIds':_0x59472c[_0x28396a(0x823)],'extendedRecipients':_0x59472c[_0x28396a(0x638)]};if(!_0x59472c[_0x28396a(0x6b3)])return _0x2dc950;const _0x474311=Array[_0x28396a(0x473)](this['connections']['keys']())['filter'](_0x53d39f=>_0x53d39f[_0x28396a(0x76b)]()===_0x5a0b34[_0x28396a(0x8ed)]||_0x53d39f[_0x28396a(0x5fa)]())[_0x28396a(0x7ea)](_0x4cffeb=>_0x4cffeb[_0x28396a(0x7e3)]());if(_0x474311[_0x28396a(0x339)]((_0x320633,_0x43d34e)=>_0x320633&&_0x59472c[_0x28396a(0x638)]['includes'](_0x43d34e),!0x0))throw new _0x5f3fcd(_0x28396a(0x347));if(_0x59472c[_0x28396a(0x823)]){const _0x127d27=_0x59472c[_0x28396a(0x823)]['filter'](_0x55bb9e=>_0x55bb9e!==this[_0x28396a(0x181)]&&!_0x59472c[_0x28396a(0x638)][_0x28396a(0x8cb)](_0x55bb9e));if(0x0===_0x127d27['length'])throw new _0x5f3fcd('No\x20destinationIds\x20left');_0x2dc950[_0x28396a(0x8a8)]=_0x127d27;}return _0x2dc950['extendedRecipients']=[...new Set([..._0x3a376c,..._0x474311,this['localId']])],_0x2dc950;}[_0x20cdf8(0x215)](_0xef4323,_0xaefae8=!0x1){const _0x41daeb=_0x20cdf8;if(0x0===_0xef4323[_0x41daeb(0x4b6)]&&!_0x260e53(_0xef4323,this[_0x41daeb(0x181)])&&_0xef4323[_0x41daeb(0x6b3)]){const _0x58aa62=_0x3f02e9(_0xef4323,this['localId']);_0x585abf['logRaw'](_0x324ffe[_0x41daeb(0x6dc)],_0xef4323['uuid']+'\x20-\x20Sending\x20propagation\x20('+_0xaefae8+')\x20'+_0x58aa62,_0xef4323,_0xaefae8);}}[_0x20cdf8(0x57a)](_0x1cca4d){const _0x951ea4=_0x20cdf8;if(_0x1cca4d[_0x951ea4(0x823)]&&_0x1cca4d[_0x951ea4(0x6b3)]){const _0xb91c92=Array[_0x951ea4(0x473)](this['connections']['keys']())['filter'](_0x3ba708=>_0x3ba708[_0x951ea4(0x76b)]()===_0x5a0b34[_0x951ea4(0x8ed)]||_0x3ba708[_0x951ea4(0x5fa)]())[_0x951ea4(0x7ea)](_0x2b234f=>_0x2b234f['getRemoteId']());return!_0x1cca4d[_0x951ea4(0x823)]['reduce']((_0x174076,_0xb44458)=>_0x174076&&_0xb91c92[_0x951ea4(0x8cb)](_0xb44458),!0x0);}return _0x1cca4d[_0x951ea4(0x6b3)]??!0x1;}[_0x20cdf8(0x612)](_0x33b520,_0x3a9511){const _0x4629cd=_0x20cdf8;if(_0x33b520[_0x4629cd(0x6b3)]&&_0x33b520[_0x4629cd(0x823)]){const _0x5e32dc=Array['from'](this[_0x4629cd(0x336)]['keys']())[_0x4629cd(0xb7)](_0x3330bc=>_0x3330bc[_0x4629cd(0x76b)]()===_0x5a0b34[_0x4629cd(0x8ed)]||_0x3330bc['isConnected']())[_0x4629cd(0x7ea)](_0x25a141=>_0x25a141[_0x4629cd(0x7e3)]()),_0x146c44=new Set(),_0x3c892d=_0x33b520[_0x4629cd(0x8c8)]===this[_0x4629cd(0x181)]?0x3:0x1;return _0x33b520['destinationIds'][_0x4629cd(0x34b)](_0x5c69da=>{const _0x28461c=_0x4629cd,_0x5801ac=this[_0x28461c(0x6e7)][_0x28461c(0x56a)](_0x5e32dc,_0x5c69da);let _0x389bf5=0x0,_0x1215bf=0x0;_0x5801ac[_0x28461c(0x34b)](_0x46f6e6=>{const _0x12b531=_0x28461c;if(_0x389bf5>=_0x3c892d)return;const _0x1a25b0=Array[_0x12b531(0x473)](this[_0x12b531(0x336)][_0x12b531(0x653)]())['find'](_0x43a0f0=>_0x43a0f0[_0x12b531(0x7e3)]()===_0x46f6e6);if(_0x1a25b0){if(_0x1a25b0[_0x12b531(0x76b)]()===_0x5a0b34[_0x12b531(0x8ed)]&&_0x1215bf>0x0)return void(_0x1215bf-=0x1);_0x146c44[_0x12b531(0x43e)](_0x1a25b0),_0x1a25b0[_0x12b531(0x76b)]()===_0x5a0b34[_0x12b531(0x3ac)]&&(_0x1215bf+=0x1),_0x389bf5+=0x1;}});}),Array[_0x4629cd(0x473)](_0x146c44);}return Array[_0x4629cd(0x473)](this[_0x4629cd(0x336)][_0x4629cd(0x653)]())[_0x4629cd(0xb7)](_0x5ec7ba=>{const _0x17d974=_0x4629cd;return _0x1d9266=_0x5ec7ba['getRemoteId'](),!_0x3a9511[_0x17d974(0x8cb)](_0x1d9266)&&(_0x3d6d98(_0x33b520,_0x1d9266)||_0x33b520['propagate'])&&(!_0x33b520[_0x17d974(0x6b3)]||_0x5ec7ba['isConnected']()||_0x5ec7ba[_0x17d974(0x76b)]()===_0x5a0b34['Core']);var _0x1d9266;});}}class _0x12d852{[_0x20cdf8(0x181)];[_0x20cdf8(0x56c)];[_0x20cdf8(0x336)]=new Map();['systemTopic'];constructor(_0x2cbc97,_0x2bd31b){const _0x4033df=_0x20cdf8;this[_0x4033df(0x181)]=_0x2cbc97,this[_0x4033df(0x56c)]=_0x2bd31b;}[_0x20cdf8(0x671)](){}[_0x20cdf8(0x84a)](_0x23dac4){const _0xf20664=_0x20cdf8;for(const _0x4efa0f of this[_0xf20664(0x336)]['keys']())try{return void _0x4efa0f['send']({'retry':!0x1,..._0x23dac4});}catch(_0x1f5cc8){_0x1f5cc8 instanceof _0x5f3fcd||_0x585abf[_0xf20664(0x447)](_0x324ffe[_0xf20664(0x46b)],_0xf20664(0x770)+_0x4efa0f,_0x1f5cc8,_0x23dac4);}_0x585abf[_0xf20664(0x447)](_0x324ffe[_0xf20664(0x46b)],_0xf20664(0x3dd));}['addConnection'](_0x4bca61){const _0x4475ce=_0x20cdf8,_0x3d6897=_0x4bca61[_0x4475ce(0x735)](_0x15b1cf=>{const _0x2746db=_0x4475ce;this[_0x2746db(0x56c)][_0x2746db(0x502)](_0x15b1cf['uuid'])||0x0===_0x15b1cf[_0x2746db(0x4b6)]&&(this[_0x2746db(0x56c)][_0x2746db(0x35f)](_0x15b1cf[_0x2746db(0x16b)]),_0x3d6d98(_0x15b1cf,this['localId'])&&this[_0x2746db(0x361)]?.[_0x2746db(0x1ed)](_0x15b1cf));});this[_0x4475ce(0x336)]['set'](_0x4bca61,_0x3d6897);}[_0x20cdf8(0x56d)](_0x12dc97){const _0x20ffb0=_0x20cdf8;this[_0x20ffb0(0x336)][_0x20ffb0(0x333)](_0x12dc97)?.(),this[_0x20ffb0(0x336)]['delete'](_0x12dc97);}[_0x20cdf8(0x5db)](){const _0x598f51=_0x20cdf8;return this[_0x598f51(0x181)];}[_0x20cdf8(0x7e3)](){return'';}['getSupportedContentTypes'](){const _0x4912dd=_0x20cdf8;return[_0x3b754d[_0x4912dd(0x4e6)][_0x4912dd(0x848)]];}[_0x20cdf8(0x5fa)](){const _0x17eb91=_0x20cdf8;throw new Error(_0x17eb91(0x1a0));}[_0x20cdf8(0x47a)](_0x1ff256){this['systemTopic']=_0x1ff256;}[_0x20cdf8(0x5b7)](){const _0x72c9e9=_0x20cdf8;delete this[_0x72c9e9(0x361)];}}class _0xf655d1{[_0x20cdf8(0x159)]=new Map();['unsubscribeHandler'];constructor(){const _0x32dc59=_0x20cdf8;this[_0x32dc59(0x7a7)]=_0x4b9656[_0x32dc59(0x2bf)](()=>{const _0x846783=_0x32dc59;for(const [_0x29b1cd,_0x290f05]of this[_0x846783(0x159)][_0x846783(0x573)]())Date[_0x846783(0x76a)]()-_0x290f05>0x124f80&&this['buffer']['delete'](_0x29b1cd);},0x1d4c0);}['close'](){const _0x51a614=_0x20cdf8;this[_0x51a614(0x7a7)]();}['addMessage'](_0x241325){const _0x2184a0=_0x20cdf8;this[_0x2184a0(0x159)][_0x2184a0(0xaf)](_0x241325,Date[_0x2184a0(0x76a)]());}[_0x20cdf8(0x502)](_0x4bfe3e){const _0x536ee1=_0x20cdf8;return this[_0x536ee1(0x159)][_0x536ee1(0x6f2)](_0x4bfe3e);}}class _0x2a5578{[_0x20cdf8(0x252)];[_0x20cdf8(0x306)];[_0x20cdf8(0x852)];[_0x20cdf8(0x846)];[_0x20cdf8(0x336)]=new Map();[_0x20cdf8(0x7dd)];[_0x20cdf8(0x644)];[_0x20cdf8(0x75a)];['messageBuffer'];constructor(_0x3451fb,_0x3b913e,_0x11abbf,_0x406e14,_0x2840f1){const _0x901be=_0x20cdf8;this[_0x901be(0x252)]=_0x3451fb,this[_0x901be(0x306)]=_0x3b913e,this[_0x901be(0x852)]=_0x406e14,this[_0x901be(0x846)]=_0x2840f1,this['messageBuffer']=new _0xf655d1(),this[_0x901be(0x644)]=new _0x1a7a49(this[_0x901be(0x252)][_0x901be(0x21a)][_0x901be(0x66e)](),this[_0x901be(0x56c)],_0x11abbf),this[_0x901be(0x75a)]=new _0x2ed8e2(this[_0x901be(0x252)][_0x901be(0x6f5)],this['configs'][_0x901be(0x461)],this[_0x901be(0x252)][_0x901be(0x21a)],_0x901be(0x2c6),this['authService']),this[_0x901be(0x7dd)]=new _0x12d852(this[_0x901be(0x252)][_0x901be(0x21a)][_0x901be(0x66e)](),this[_0x901be(0x56c)]),this[_0x901be(0x7dd)]['addConnection'](this[_0x901be(0x644)]),this['connectionPool'][_0x901be(0x763)](this['signalingServer']),this[_0x901be(0x252)][_0x901be(0x4ea)][_0x901be(0x67e)](this[_0x901be(0x7dd)]);}['close'](){const _0x391fdf=_0x20cdf8;this[_0x391fdf(0x56c)][_0x391fdf(0x671)](),this['connections'][_0x391fdf(0x34b)]((_0x18effe,_0x3cf77d)=>this['closeConnection'](_0x3cf77d)),this[_0x391fdf(0x252)][_0x391fdf(0x4ea)][_0x391fdf(0x174)](this[_0x391fdf(0x7dd)]),this['connectionPool']['removeConnection'](this['signalingServer']),this[_0x391fdf(0x7dd)][_0x391fdf(0x56d)](this[_0x391fdf(0x644)]),this['connectionPool'][_0x391fdf(0x671)](),this['signalingServer']['close'](),this[_0x391fdf(0x644)][_0x391fdf(0x671)]();}async[_0x20cdf8(0x6f9)](){const _0x76118b=_0x20cdf8;await this[_0x76118b(0x75a)]['connect']();}async[_0x20cdf8(0x28f)](_0x5ebead,_0x53ab1d=_0x5a0b34[_0x20cdf8(0x8ed)]){const _0x40a49c=_0x20cdf8;if(this[_0x40a49c(0x336)][_0x40a49c(0x6f2)](_0x5ebead)){if(this[_0x40a49c(0x336)][_0x40a49c(0x333)](_0x5ebead)?.['getConnectionType']()===_0x5a0b34['Optimization']&&_0x53ab1d===_0x5a0b34[_0x40a49c(0x8ed)])return void this['connections'][_0x40a49c(0x333)](_0x5ebead)?.[_0x40a49c(0x84f)](_0x5a0b34['Core']);throw new _0x5a569f(_0x5a569f[_0x40a49c(0x4e8)][_0x40a49c(0x52a)],{'localId':this[_0x40a49c(0x252)][_0x40a49c(0x21a)][_0x40a49c(0x66e)](),'remoteId':_0x5ebead});}const _0x370915=new _0x20dde9(this[_0x40a49c(0x252)]['clusterId'],this[_0x40a49c(0x252)][_0x40a49c(0x21a)],_0x5ebead,this['iceServers'],_0x53ab1d,this[_0x40a49c(0x846)]['maxFps'],this[_0x40a49c(0x846)][_0x40a49c(0x195)],this[_0x40a49c(0x846)][_0x40a49c(0x1c3)]);this[_0x40a49c(0x336)][_0x40a49c(0xaf)](_0x5ebead,_0x370915),this['connectionGroup'][_0x40a49c(0x763)](_0x370915),this[_0x40a49c(0x252)]['mediator'][_0x40a49c(0x67e)](_0x370915),this[_0x40a49c(0x252)]['mediator']['registerRemoteNode'](_0x5ebead),await _0x370915[_0x40a49c(0x63d)]();}[_0x20cdf8(0x4d5)](){const _0x585b53=_0x20cdf8;return this[_0x585b53(0x644)];}[_0x20cdf8(0x1f8)](_0x575bb8){const _0x2bd01d=_0x20cdf8;if(!this[_0x2bd01d(0x336)]['has'](_0x575bb8))throw new _0x5a569f(_0x5a569f[_0x2bd01d(0x4e8)]['MissingRemoteConnection'],{'localId':this[_0x2bd01d(0x252)]['localNode'][_0x2bd01d(0x66e)](),'remoteId':_0x575bb8});return this[_0x2bd01d(0x336)]['get'](_0x575bb8);}[_0x20cdf8(0x5f8)](_0x4b9a22){const _0x235c44=_0x20cdf8,_0x13b31b=Array[_0x235c44(0x473)](this[_0x235c44(0x336)]['values']());return _0x4b9a22?_0x13b31b[_0x235c44(0xb7)](_0x4b9a22):_0x13b31b;}async[_0x20cdf8(0x35a)](_0x1e0ca3){const _0x2732c3=_0x20cdf8,_0x4984f5=this[_0x2732c3(0x336)][_0x2732c3(0x333)](_0x1e0ca3);_0x4984f5&&_0x4984f5['isConnected']()&&await _0x4984f5[_0x2732c3(0x35a)]();}['handleOutgoingSystemEvents'](_0x251af2){const _0xb9de06=_0x20cdf8;if(_0x251af2[_0xb9de06(0x274)]!==_0x213fd0[_0xb9de06(0x52e)]||_0x251af2[_0xb9de06(0x6b3)])try{this[_0xb9de06(0x644)]['send'](_0x251af2);}catch(_0x42689c){if(_0x42689c instanceof _0x5f3fcd)return;throw _0x42689c;}else this['connectionPool']['send'](_0x251af2);}async[_0x20cdf8(0x38c)](_0x44b438){const _0xf9e987=_0x20cdf8;switch(_0x44b438[_0xf9e987(0x843)][_0xf9e987(0x6f6)]){case _0x320761[_0xf9e987(0x135)]:case _0x320761[_0xf9e987(0x8a0)]:case _0x320761[_0xf9e987(0x18f)]:return;}if(!_0x44b438['destinationIds']||0x1!==_0x44b438['destinationIds'][_0xf9e987(0x51a)])throw new _0x5a569f(_0x5a569f[_0xf9e987(0x4e8)]['PeerConnectionInvalidDestination'],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x44b438});if(_0x44b438['destinationIds'][0x0]!==this[_0xf9e987(0x252)][_0xf9e987(0x21a)]['getId']())throw new _0x5a569f(_0x5a569f[_0xf9e987(0x4e8)][_0xf9e987(0x698)],{'message':_0xf9e987(0x2ef),'event':_0x44b438});if(!this[_0xf9e987(0x336)][_0xf9e987(0x6f2)](_0x44b438[_0xf9e987(0x8c8)])){let _0x2c920f=_0x5a0b34[_0xf9e987(0x8ed)];if(!(this[_0xf9e987(0x7d7)](_0x44b438[_0xf9e987(0x843)])||this[_0xf9e987(0x392)](_0x44b438['content'])||this[_0xf9e987(0x88e)](_0x44b438[_0xf9e987(0x843)])))return;_0x2c920f=_0x44b438[_0xf9e987(0x843)][_0xf9e987(0x58d)],await this['createConnection'](_0x44b438[_0xf9e987(0x8c8)],_0x2c920f);}const _0x5eedca=this[_0xf9e987(0x336)][_0xf9e987(0x333)](_0x44b438[_0xf9e987(0x8c8)]);await _0x5eedca[_0xf9e987(0x38c)](_0x44b438);}[_0x20cdf8(0x7a2)](_0x553078){const _0x1642da=_0x20cdf8;if(_0x553078[_0x1642da(0x843)][_0x1642da(0x6f6)]===_0x1c7d55['Remediation']){if(_0x553078[_0x1642da(0x843)][_0x1642da(0x2e1)]===this[_0x1642da(0x252)][_0x1642da(0x21a)][_0x1642da(0x66e)]())return void this[_0x1642da(0x336)][_0x1642da(0x34b)](_0x8613e9=>_0x8613e9[_0x1642da(0x7a2)](_0x553078));this['connections'][_0x1642da(0x333)](_0x553078['content'][_0x1642da(0x2e1)])?.[_0x1642da(0x7a2)](_0x553078);}}[_0x20cdf8(0xd5)]({content:_0x2c7c43}){const _0x15cd21=_0x20cdf8;_0x2c7c43['type']===_0x2c3880[_0x15cd21(0xdb)]&&this['closeConnection'](_0x2c7c43['id']);}[_0x20cdf8(0x73d)](){const _0x2e7f91=_0x20cdf8,_0x1f4e0b=Array['from'](this['connections'][_0x2e7f91(0x6cd)]())[_0x2e7f91(0x339)]((_0x1baa67,_0x56de36)=>_0x1baa67+_0x56de36[_0x2e7f91(0x140)](),0x0);return _0x1f4e0b<_0x35cc76?Promise['resolve'](_0x1f4e0b):new Promise(_0x141339=>{const _0x539082=setInterval(()=>{const _0x166863=a0_0x2e24,_0x37fccf=Array[_0x166863(0x473)](this['connections'][_0x166863(0x6cd)]())['reduce']((_0x45d005,_0x3c1951)=>_0x45d005+_0x3c1951[_0x166863(0x140)](),0x0);_0x37fccf<_0x35cc76&&(clearInterval(_0x539082),_0x141339(_0x37fccf));},0x3e8);});}[_0x20cdf8(0x3a0)](){const _0xed0d1=_0x20cdf8;for(const _0x2fc825 of this[_0xed0d1(0x336)]['values']())if(_0x2fc825[_0xed0d1(0x5c4)]()>0x0||_0x2fc825[_0xed0d1(0x140)]()>0x0)return!0x0;return!0x1;}[_0x20cdf8(0xf0)](_0x5596c1){const _0x173f98=_0x20cdf8,_0x2a7f98=this[_0x173f98(0x336)][_0x173f98(0x333)](_0x5596c1);_0x2a7f98&&(this[_0x173f98(0x252)][_0x173f98(0x4ea)][_0x173f98(0x38f)](_0x5596c1),this[_0x173f98(0x252)][_0x173f98(0x4ea)][_0x173f98(0x174)](_0x2a7f98),_0x2a7f98 instanceof _0x20dde9&&this['connectionGroup'][_0x173f98(0x56d)](_0x2a7f98),_0x2a7f98[_0x173f98(0x671)](),this[_0x173f98(0x336)][_0x173f98(0x268)](_0x5596c1));}[_0x20cdf8(0x7d7)](_0x469fd6){const _0x428545=_0x20cdf8;return _0x469fd6[_0x428545(0x6f6)]===_0x320761[_0x428545(0x80d)];}['isNeedRestart'](_0x505c71){const _0x164eb8=_0x20cdf8;return _0x505c71[_0x164eb8(0x6f6)]===_0x320761['NeedRestart'];}[_0x20cdf8(0x392)](_0x34d215){const _0x3ea361=_0x20cdf8;return _0x34d215[_0x3ea361(0x6f6)]===_0x320761[_0x3ea361(0x4ed)];}}!function(_0x1b756a){const _0x18a036=_0x20cdf8;_0x1b756a[_0x1b756a[_0x18a036(0x7de)]=0x0]=_0x18a036(0x7de),_0x1b756a[_0x1b756a[_0x18a036(0x328)]=0x1]=_0x18a036(0x328),_0x1b756a[_0x1b756a[_0x18a036(0x437)]=0x2]='UnsubscribeMediaStream',_0x1b756a[_0x1b756a[_0x18a036(0x2ab)]=0x3]=_0x18a036(0x2ab),_0x1b756a[_0x1b756a[_0x18a036(0x7da)]=0x4]=_0x18a036(0x7da),_0x1b756a[_0x1b756a[_0x18a036(0x7c4)]=0x5]=_0x18a036(0x7c4),_0x1b756a[_0x1b756a[_0x18a036(0x237)]=0x6]=_0x18a036(0x237),_0x1b756a[_0x1b756a[_0x18a036(0x17e)]=0x7]=_0x18a036(0x17e);}(_0x2a8a6d||(_0x2a8a6d={}));class _0x48ff1a extends _0xa58cfb{[_0x20cdf8(0x21a)];['clusterId'];[_0x20cdf8(0x6f5)];[_0x20cdf8(0x663)];[_0x20cdf8(0x8c2)];[_0x20cdf8(0x3e0)]=0x0;[_0x20cdf8(0x2eb)];['eventListener']=_0x53e3a2();[_0x20cdf8(0x199)]=new Map();[_0x20cdf8(0x828)];constructor(_0xe11c96,_0x5131f8,_0x4236bf,_0x34c0b0,_0x2c8a95){const _0x2de38c=_0x20cdf8;if('string'!=typeof _0x5131f8)throw new _0x47cbae(_0x40f53d[_0x2de38c(0xe2)],_0x2de38c(0x68f));super(_0xe11c96,_0x5131f8),this[_0x2de38c(0x21a)]=_0xe11c96,this['clusterId']=_0x4236bf,this['vendorId']=_0x34c0b0,this[_0x2de38c(0x663)]=_0x2c8a95,this[_0x2de38c(0x205)]();}[_0x20cdf8(0xb2)](){const _0x3f5879=_0x20cdf8;this[_0x3f5879(0x828)]?.(),this[_0x3f5879(0x199)][_0x3f5879(0x34b)](_0x2515b9=>_0x2515b9()),clearTimeout(this[_0x3f5879(0x8c2)]),delete this['debounceStats'],super[_0x3f5879(0xb2)]();}[_0x20cdf8(0x8b5)](){this['sendStats']();}[_0x20cdf8(0x671)](){const _0x2cea4b=_0x20cdf8;this['systemTopic'][_0x2cea4b(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x2cea4b(0x326)],'content':{'type':_0x277618['CloseExternalStorageConnection'],'label':this['label']}});}[_0x20cdf8(0x7e9)](){const _0x48af50=_0x20cdf8;return _0x3b754d[_0x48af50(0x4e6)][_0x48af50(0x530)];}async['get'](_0x10a838){const _0x18006d=_0x20cdf8;if(!this['connector'])throw new _0x47cbae(_0x40f53d['ExternalStorageConnectorsMissing'],_0x18006d(0x8ca));_0x585abf['logServiceEvent'](_0x50e58d[_0x18006d(0x530)],{'type':'get','label':this[_0x18006d(0x59f)],'nodeId':this[_0x18006d(0x21a)][_0x18006d(0x66e)](),'nodeType':this[_0x18006d(0x21a)]['type'],'clusterId':this[_0x18006d(0x461)],'path':_0x10a838}),this['reads']+=0x1,this[_0x18006d(0x205)]();try{return await this['connector'][_0x18006d(0x333)](_0x10a838);}catch(_0x222091){throw new _0x47cbae(_0x40f53d['ExternalStorageInvalidPath'],'Cannot\x20get\x20file:\x20'+_0x10a838);}}async['list'](_0x3d21b7,_0x6dc07a){const _0x278a16=_0x20cdf8;if(!this[_0x278a16(0x2eb)])throw new _0x47cbae(_0x40f53d[_0x278a16(0x7f5)],_0x278a16(0x29b));const {recursive:_0x1e1395=!0x1}=_0x6dc07a??{};_0x585abf[_0x278a16(0x711)](_0x50e58d[_0x278a16(0x530)],{'type':_0x278a16(0x532),'label':this[_0x278a16(0x59f)],'nodeId':this['localNode'][_0x278a16(0x66e)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x278a16(0x461)],'path':_0x3d21b7}),this[_0x278a16(0x3e0)]+=0x1,this['sendStats']();try{return await this['connector'][_0x278a16(0x532)](_0x3d21b7,_0x1e1395);}catch(_0x580866){throw new _0x47cbae(_0x40f53d['ExternalStorageInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x3d21b7);}}[_0x20cdf8(0x3cb)](_0x3ad452,_0x30ba73){const _0x540f54=_0x20cdf8;if(this[_0x540f54(0x199)][_0x540f54(0x6f2)](_0x3ad452))throw new _0x47cbae(_0x40f53d[_0x540f54(0x7d8)],_0x540f54(0x755));this['listenerUnsubscribers']['set'](_0x3ad452,this[_0x540f54(0x764)][_0x540f54(0x3cb)](_0x30ba73));}[_0x20cdf8(0x579)](_0x46d1ce){const _0xe7944b=_0x20cdf8;this[_0xe7944b(0x199)]['get'](_0x46d1ce)?.(),this[_0xe7944b(0x199)][_0xe7944b(0x268)](_0x46d1ce);}async[_0x20cdf8(0x8fc)](){const _0x5d5de6=_0x20cdf8,_0x473e57=(await(0x0,_0x2b2463[_0x5d5de6(0x713)])((0x0,_0x2b2463['doc'])(_0x2c07f4[_0x5d5de6(0x124)](),_0x5d5de6(0x570)+this[_0x5d5de6(0x6f5)]+_0x5d5de6(0x628)+this['label'])))['data']();if(!_0x473e57)throw new _0x47cbae(_0x40f53d[_0x5d5de6(0x66d)],_0x5d5de6(0x8fa)+this['label']);const {site:_0x4a135c,drive:_0xedb16e}=_0x473e57,_0xe8e73b=(await(0x0,_0x1faa2a[_0x5d5de6(0x322)])(_0x2c07f4[_0x5d5de6(0x557)](),_0x5d5de6(0x8ec))({'storageId':this[_0x5d5de6(0x59f)]}))['data'][_0x5d5de6(0xc2)];this['connector']=new this[(_0x5d5de6(0x663))](_0x4a135c['id'],_0xedb16e['id'],_0xe8e73b,async()=>(await(0x0,_0x1faa2a[_0x5d5de6(0x322)])(_0x2c07f4[_0x5d5de6(0x557)](),_0x5d5de6(0x460))({'storageId':this['label']}))[_0x5d5de6(0x75d)][_0x5d5de6(0xc2)]),this[_0x5d5de6(0x806)]();}[_0x20cdf8(0x205)](){const _0x175c2e=_0x20cdf8;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x175c2e(0x8c2)]=setTimeout(async()=>{const _0xea2857=_0x175c2e;delete this[_0xea2857(0x8c2)],this['systemTopic'][_0xea2857(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0['Content'],'content':{'type':_0x277618['ExternalStorageStats'],'label':this['label'],'stats':{'timestamp':Date[_0xea2857(0x76a)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0xea2857(0x3e0)],'prompts':0x0,'tokens':0x0}}});},_0x490b21);}async['trackChanges'](){const _0x496e8c=_0x20cdf8;await this[_0x496e8c(0x2eb)]?.['listChanges'](),this[_0x496e8c(0x828)]=_0x4b9656[_0x496e8c(0x2bf)](async()=>{const _0x228409=_0x496e8c;try{if(!this[_0x228409(0x2eb)])return;const _0x34fbb7=await this[_0x228409(0x2eb)][_0x228409(0x257)]();for(const _0x57fb57 of _0x34fbb7)this[_0x228409(0x764)]['publish'](_0x57fb57);}catch(_0x4abcb1){}},0x493e0);}}const _0x4b7304=require('rxjs');class _0x1ecb96 extends _0xa58cfb{[_0x20cdf8(0x6e7)];['jobs']=new Map();[_0x20cdf8(0x13c)]=new Map();['jobBids']=new Map();[_0x20cdf8(0x7a7)];constructor(_0x2a612f,_0x2232e3,_0x457e78){super(_0x2a612f,_0x2232e3),this['graphService']=_0x457e78;}[_0x20cdf8(0x7e9)](){const _0x4a46d0=_0x20cdf8;return _0x3b754d['ContentType'][_0x4a46d0(0x46a)];}['open'](){const _0x1a77e8=_0x20cdf8;this['unsubscribeHandler']=this[_0x1a77e8(0x735)]((_0x290b20,_0x1a256c)=>{const _0x405f45=_0x1a77e8;if(_0x585abf[_0x405f45(0x447)](_0x324ffe[_0x405f45(0x442)],'JobDispatcher:\x20Received\x20job',_0x290b20,_0x1a256c,this[_0x405f45(0x6e7)][_0x405f45(0x342)]()),!(_0x1a256c instanceof File)){if(!_0x1a256c)throw new _0x5a569f(_0x5a569f['codes'][_0x405f45(0x777)]);return this[_0x405f45(0x8e3)](_0x1a256c)?this[_0x405f45(0x8a9)](_0x290b20,_0x1a256c['id'],_0x1a256c):this[_0x405f45(0x463)](_0x1a256c)?(_0x585abf[_0x405f45(0x447)](_0x324ffe[_0x405f45(0x442)],'Job\x20'+_0x1a256c['id']+_0x405f45(0x559),_0x1a256c['result']),void this['evaluatePartialJob'](_0x1a256c['id'],_0x1a256c)):this['isResultResponse'](_0x1a256c)?(_0x585abf[_0x405f45(0x447)](_0x324ffe[_0x405f45(0x442)],_0x405f45(0x1c0)+_0x1a256c['id']+_0x405f45(0x35e),_0x1a256c[_0x405f45(0x190)]),void this[_0x405f45(0x20c)](_0x1a256c['id'],_0x1a256c)):void(this[_0x405f45(0x5a4)](_0x1a256c)&&this['failJob'](_0x1a256c['id'],_0x1a256c[_0x405f45(0x129)]));}});}['reset'](){const _0x37bc8a=_0x20cdf8;this[_0x37bc8a(0x1fc)](),this['open']();}[_0x20cdf8(0xb2)](){const _0x558575=_0x20cdf8;this[_0x558575(0x1fc)](),super[_0x558575(0xb2)]();}[_0x20cdf8(0x1fc)](){const _0x1a2574=_0x20cdf8;this[_0x1a2574(0x7cc)]['clear'](),this[_0x1a2574(0x7a7)]&&this[_0x1a2574(0x7a7)]();}[_0x20cdf8(0x671)](){const _0xee94d3=_0x20cdf8;this[_0xee94d3(0x361)]?.[_0xee94d3(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0xee94d3(0x326)],'content':{'type':_0x277618['CloseJobDispatcher'],'label':this['label']}});}async['createJob'](_0xe721b2){const _0xaccf97=_0x20cdf8,{id:_0x13119d,parameters:_0x4897ae,jobType:_0x53cc93}=_0xe721b2,_0x3c5e6b={'id':_0x13119d,'jobType':_0x53cc93,'parameters':_0x4897ae,'status':_0x3b754d['JobStatus'][_0xaccf97(0x343)],'created':new Date(),'updated':new Date()};if(this[_0xaccf97(0x7cc)][_0xaccf97(0x6f2)](_0x3c5e6b['id']))throw new _0x47cbae(_0x40f53d[_0xaccf97(0x3b8)],_0xaccf97(0x658)+_0x3c5e6b['id']+_0xaccf97(0x6a8));_0x3c5e6b['created']=new Date(),_0x3c5e6b[_0xaccf97(0x662)]=new Date();const _0x30eb76=new _0x4b7304['Subject']();this[_0xaccf97(0x7cc)]['set'](_0x3c5e6b['id'],_0x3c5e6b),this['jobObservers'][_0xaccf97(0xaf)](_0x3c5e6b['id'],_0x30eb76);try{const _0x57361c={'id':_0x3c5e6b['id'],'jobPhase':_0x554ff5[_0xaccf97(0x27f)],'jobType':_0x3c5e6b['jobType']},_0x2de071=0x3;let _0x25a471=0x0;const _0x5948e1=async()=>{const _0x25b5f0=_0xaccf97;_0x25a471+=0x1;try{_0x585abf[_0x25b5f0(0x447)](_0x324ffe[_0x25b5f0(0x442)],_0x25b5f0(0x1c0)+_0x3c5e6b['id']+_0x25b5f0(0x80f)+_0x25a471+'.',this['graphService']['getRemoteNodes']()),await this[_0x25b5f0(0x84a)](_0x57361c),_0x3c5e6b[_0x25b5f0(0x662)]=new Date(),this[_0x25b5f0(0x7cc)][_0x25b5f0(0xaf)](_0x3c5e6b['id'],_0x3c5e6b),this[_0x25b5f0(0x574)](_0x3c5e6b['id']);}catch(_0x32c7e9){_0x25a471<_0x2de071?(_0x585abf[_0x25b5f0(0x7ae)]('Attempt\x20'+_0x25a471+_0x25b5f0(0x38b)+_0x3c5e6b['id']+_0x25b5f0(0x3d1),{'nodeId':this[_0x25b5f0(0x816)]['getId'](),'nodeType':this[_0x25b5f0(0x816)][_0x25b5f0(0x6f6)],'data':{'job':_0x3c5e6b,'attempts':_0x25a471,'maxRetries':_0x2de071}}),setTimeout(_0x5948e1,0x3e8)):(_0x3c5e6b[_0x25b5f0(0x547)]=_0x3b754d['JobStatus'][_0x25b5f0(0x359)],_0x3c5e6b['updated']=new Date(),this[_0x25b5f0(0x7cc)][_0x25b5f0(0xaf)](_0x3c5e6b['id'],_0x3c5e6b),_0x585abf[_0x25b5f0(0x7b5)](_0x25b5f0(0x6cc)+_0x3c5e6b['id']+'\x20after\x20'+_0x2de071+'\x20attempts:',{'nodeId':this[_0x25b5f0(0x816)][_0x25b5f0(0x66e)](),'nodeType':this[_0x25b5f0(0x816)]['type'],'data':{'job':_0x3c5e6b,'attempts':_0x25a471,'maxRetries':_0x2de071,'error':_0x32c7e9}}));}};_0x5948e1();const {id:_0x4c5a5d}=_0x3c5e6b;this[_0xaccf97(0x263)]('Job\x20'+_0x3c5e6b['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x4c5a5d}),_0x3c5e6b[_0xaccf97(0x662)]=new Date();}catch(_0xab43a0){_0x3c5e6b[_0xaccf97(0x547)]=_0x3b754d[_0xaccf97(0x905)][_0xaccf97(0x359)],_0x585abf['error'](_0xaccf97(0x6cc)+_0x3c5e6b['id']+':',{'nodeId':this[_0xaccf97(0x816)]['getId'](),'nodeType':this[_0xaccf97(0x816)]['type'],'data':{'job':_0x3c5e6b,'error':_0xab43a0}});}return _0x30eb76[_0xaccf97(0x416)]();}[_0x20cdf8(0x699)](_0x239549){const _0x4602d8=_0x20cdf8,_0x1790d6=this[_0x4602d8(0x7cc)][_0x4602d8(0x333)](_0x239549);if(!_0x1790d6)throw new _0x47cbae(_0x40f53d[_0x4602d8(0x879)],_0x4602d8(0x658)+_0x239549+'\x20not\x20found.');return{'id':_0x1790d6['id'],'jobType':_0x1790d6[_0x4602d8(0x3ca)],'status':_0x1790d6[_0x4602d8(0x547)],'parameters':_0x1790d6['parameters']};}['getJobs'](){const _0x2b9799=_0x20cdf8;return Array['from'](this['jobs'][_0x2b9799(0x6cd)]())['map'](_0x5cdd12=>this['getJob'](_0x5cdd12['id']));}async[_0x20cdf8(0x308)](_0x3c789b,_0x289c9a){const _0x525ea5=_0x20cdf8,_0x432b4b=this[_0x525ea5(0x7cc)][_0x525ea5(0x333)](_0x3c789b);if(!_0x432b4b)throw new _0x47cbae(_0x40f53d['JobDispatcherJobNotFound'],_0x525ea5(0x658)+_0x3c789b+_0x525ea5(0x491));_0x432b4b['parameters']=_0x289c9a,_0x432b4b[_0x525ea5(0x662)]=new Date(),this[_0x525ea5(0x7cc)][_0x525ea5(0xaf)](_0x3c789b,_0x432b4b);}async[_0x20cdf8(0x80c)](_0x19d6b8){const _0x16d5b4=_0x20cdf8;if(!this[_0x16d5b4(0x7cc)][_0x16d5b4(0x268)](_0x19d6b8))throw new _0x47cbae(_0x40f53d[_0x16d5b4(0x879)],_0x16d5b4(0x658)+_0x19d6b8+'\x20not\x20found.');const _0x402340=this['jobObservers'][_0x16d5b4(0x333)](_0x19d6b8);if(!_0x402340)throw new _0x5a569f(_0x5a569f[_0x16d5b4(0x4e8)][_0x16d5b4(0x6bd)]);_0x402340[_0x16d5b4(0x13a)](),this[_0x16d5b4(0x13c)][_0x16d5b4(0x268)](_0x19d6b8),_0x585abf[_0x16d5b4(0x447)](_0x324ffe[_0x16d5b4(0x442)],_0x16d5b4(0x1c0)+_0x19d6b8+_0x16d5b4(0x57b));}['addBidResponse'](_0x4e6218,_0x450610,_0xbfa9a){const _0x4c20ae=_0x20cdf8,_0x16a6f5=this[_0x4c20ae(0x6d4)][_0x4c20ae(0x333)](_0x450610)??new Map();_0x16a6f5[_0x4c20ae(0xaf)](_0x4e6218,[_0xbfa9a,Date[_0x4c20ae(0x76a)]()]),this[_0x4c20ae(0x6d4)][_0x4c20ae(0xaf)](_0x450610,_0x16a6f5),this[_0x4c20ae(0x1d2)](_0x450610);}[_0x20cdf8(0x574)](_0x1130f7){const _0x17b535=_0x20cdf8,_0x57e8e1=this[_0x17b535(0x7cc)][_0x17b535(0x333)](_0x1130f7);if(!_0x57e8e1)throw new _0x5a569f(_0x5a569f['codes'][_0x17b535(0x879)]);const _0x46d371=setTimeout(()=>this[_0x17b535(0x1d2)](_0x1130f7,!0x0),0xbb8);_0x57e8e1[_0x17b535(0x408)]=_0x46d371,this[_0x17b535(0x7cc)][_0x17b535(0xaf)](_0x57e8e1['id'],_0x57e8e1);}[_0x20cdf8(0x1d2)](_0x333cdb,_0x14fd8c=!0x1){const _0x23e9c1=_0x20cdf8,_0x4ae2de=this['graphService']['getRemoteNodes'](),_0x433e1d=Array[_0x23e9c1(0x473)](_0x4ae2de[_0x23e9c1(0x6cd)]())[_0x23e9c1(0xb7)](_0x5a9771=>_0x5a9771['type']===_0x3b754d[_0x23e9c1(0x49e)]['Agent']),_0x5b15a7=this[_0x23e9c1(0x6d4)]['get'](_0x333cdb)??new Map();if(!_0x14fd8c&&(!_0x5b15a7||_0x5b15a7['size']<_0x433e1d[_0x23e9c1(0x51a)]))return;const _0x474e53=this[_0x23e9c1(0x7cc)]['get'](_0x333cdb);if(!_0x474e53)throw new _0x5a569f(_0x5a569f['codes']['JobDispatcherJobNotFound']);if(clearTimeout(_0x474e53[_0x23e9c1(0x408)]),_0x585abf['log'](_0x324ffe[_0x23e9c1(0x442)],_0x23e9c1(0x1c0)+_0x474e53['id']+_0x23e9c1(0x4ac),_0x5b15a7,this[_0x23e9c1(0x6d4)]),!_0x5b15a7||0x0===_0x5b15a7[_0x23e9c1(0x3b4)]){_0x474e53[_0x23e9c1(0x547)]=_0x3b754d[_0x23e9c1(0x905)][_0x23e9c1(0x359)],_0x474e53[_0x23e9c1(0x662)]=new Date(),_0x585abf[_0x23e9c1(0x7b5)](_0x23e9c1(0x1c0)+_0x474e53['id']+_0x23e9c1(0x779),{'nodeId':this[_0x23e9c1(0x816)][_0x23e9c1(0x66e)](),'nodeType':this[_0x23e9c1(0x816)][_0x23e9c1(0x6f6)],'data':{'job':_0x474e53,'responses':_0x5b15a7}});const _0x393491=this['jobObservers']['get'](_0x333cdb);if(!_0x393491)throw new _0x5a569f(_0x5a569f[_0x23e9c1(0x4e8)][_0x23e9c1(0x6bd)]);const _0x235027='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0xf333d6={'id':_0x474e53['id'],'status':_0x474e53[_0x23e9c1(0x547)],'message':_0x235027};return _0x393491[_0x23e9c1(0xdd)](_0xf333d6),_0x393491[_0x23e9c1(0x13a)](),this['jobs'][_0x23e9c1(0xaf)](_0x474e53['id'],_0x474e53),void this[_0x23e9c1(0x6d4)][_0x23e9c1(0x268)](_0x333cdb);}const {nodeId:_0x31c2b9,response:_0x51e679}=this[_0x23e9c1(0x16a)](_0x474e53['id'],_0x5b15a7);_0x474e53[_0x23e9c1(0x547)]=_0x3b754d['JobStatus'][_0x23e9c1(0x233)],_0x474e53[_0x23e9c1(0x662)]=new Date(),_0x585abf['log'](_0x324ffe[_0x23e9c1(0x442)],'Job\x20'+_0x474e53['id']+'\x20attributed\x20to\x20'+_0x31c2b9+_0x23e9c1(0x278),_0x51e679);const _0x226bab={'id':_0x474e53['id'],'jobType':_0x474e53[_0x23e9c1(0x3ca)],'jobPhase':_0x554ff5[_0x23e9c1(0x4b9)],'parameters':_0x474e53[_0x23e9c1(0x82b)]};this['send'](_0x226bab,[_0x31c2b9]),this[_0x23e9c1(0x7cc)][_0x23e9c1(0xaf)](_0x474e53['id'],_0x474e53),this['jobBids']['delete'](_0x333cdb);}[_0x20cdf8(0x16a)](_0x591ef5,_0x482677){const _0x14405e=_0x20cdf8;let _0x2574ac;const _0x262f1f=Array['from'](_0x482677[_0x14405e(0x573)]())['filter'](([,[_0x32c723]])=>_0x32c723[_0x14405e(0x1e4)]);if(_0x2574ac=_0x262f1f[_0x14405e(0x51a)]>0x0?Array[_0x14405e(0x473)](_0x482677[_0x14405e(0x573)]())['sort']((_0x3b7af0,_0x59f494)=>_0x59f494[0x1][0x0]['bid']-_0x3b7af0[0x1][0x0][_0x14405e(0x2b6)]):Array['from'](_0x482677[_0x14405e(0x573)]())[_0x14405e(0x165)]((_0x5de7e5,_0x1c1937)=>_0x5de7e5[0x1][0x0][_0x14405e(0x8ef)]-_0x1c1937[0x1][0x0][_0x14405e(0x8ef)]),0x1===_0x2574ac['length'])return{'nodeId':_0x2574ac[0x0][0x0],'response':_0x2574ac[0x0][0x1][0x0]};let _0x33784d;if(_0x33784d=_0x262f1f[_0x14405e(0x51a)]>0x0?(_0x1bcc5c=>{const _0x3deca4=_0x14405e,_0x200f1f=_0x1bcc5c[0x0][0x1][0x0]['bid'];return _0x1bcc5c[_0x3deca4(0xb7)](([,[_0x22b781]])=>_0x22b781[_0x3deca4(0x2b6)]===_0x200f1f);})(_0x2574ac):(_0x2c5f0a=>{const _0x25c018=_0x14405e,_0xfa07=_0x2c5f0a[0x0][0x1][0x0][_0x25c018(0x8ef)];return _0x2c5f0a[_0x25c018(0xb7)](([,[_0x3c8e04]])=>_0x3c8e04[_0x25c018(0x8ef)]===_0xfa07);})(_0x2574ac),0x1===_0x33784d[_0x14405e(0x51a)])return{'nodeId':_0x33784d[0x0][0x0],'response':_0x33784d[0x0][0x1][0x0]};const _0x3836bd=this['jobs'][_0x14405e(0x333)](_0x591ef5);if(!_0x3836bd)throw new _0x5a569f(_0x5a569f[_0x14405e(0x4e8)][_0x14405e(0x879)]);const _0x478a37=_0x3836bd[_0x14405e(0x10b)]['getTime'](),_0x53f5ca=_0x33784d[_0x14405e(0x7ea)](([_0x1740b9,[,_0x5a2347]])=>({'nodeId':_0x1740b9,'rtt':_0x5a2347-_0x478a37})),_0x488928=Math[_0x14405e(0x30f)](..._0x53f5ca[_0x14405e(0x7ea)](({rtt:_0x2c5674})=>_0x2c5674)),_0x279d55=_0x53f5ca[_0x14405e(0x819)](({rtt:_0x269bb0})=>_0x269bb0===_0x488928),[,[_0x33bd0b]]=_0x33784d[_0x14405e(0x819)](([_0x426993])=>_0x426993===_0x279d55[_0x14405e(0x56f)]);return{'nodeId':_0x279d55[_0x14405e(0x56f)],'response':_0x33bd0b};}[_0x20cdf8(0x2df)](_0x2c3b6c,_0x1229df){const _0x5e617f=_0x20cdf8,_0x2d5c7f=this[_0x5e617f(0x7cc)][_0x5e617f(0x333)](_0x2c3b6c);if(!_0x2d5c7f)throw new _0x5a569f(_0x5a569f[_0x5e617f(0x4e8)]['JobDispatcherJobNotFound']);const _0xe621be=this[_0x5e617f(0x13c)]['get'](_0x2c3b6c);if(!_0xe621be)throw new _0x5a569f(_0x5a569f[_0x5e617f(0x4e8)][_0x5e617f(0x6bd)]);const _0x3f7194={'id':_0x2d5c7f['id'],'status':_0x3b754d[_0x5e617f(0x905)]['Partial'],'result':_0x1229df[_0x5e617f(0x190)]};_0xe621be[_0x5e617f(0xdd)](_0x3f7194);}[_0x20cdf8(0x20c)](_0x5b31e8,_0x201e45){const _0x4f57ea=_0x20cdf8,_0xc8727c=this['jobs']['get'](_0x5b31e8);if(!_0xc8727c)throw new _0x5a569f(_0x5a569f[_0x4f57ea(0x4e8)][_0x4f57ea(0x879)]);const _0x74e110=this['jobObservers'][_0x4f57ea(0x333)](_0x5b31e8);if(!_0x74e110)throw new _0x5a569f(_0x5a569f[_0x4f57ea(0x4e8)]['JobDispatcherObserverNotFound']);_0xc8727c[_0x4f57ea(0x547)]=_0x3b754d[_0x4f57ea(0x905)][_0x4f57ea(0x6df)];const _0x45e12c={'id':_0xc8727c['id'],'status':_0xc8727c[_0x4f57ea(0x547)],'result':_0x201e45['result']};_0x74e110[_0x4f57ea(0xdd)](_0x45e12c),_0x74e110[_0x4f57ea(0x13a)](),this['jobObservers'][_0x4f57ea(0x268)](_0x5b31e8),this['logEvent'](_0x4f57ea(0x1c0)+_0x5b31e8+_0x4f57ea(0x258),{'jobId':_0x5b31e8});}[_0x20cdf8(0x560)](_0x4f505e,_0x383f0a){const _0x3a0cab=_0x20cdf8,_0x4ba36b=this[_0x3a0cab(0x7cc)]['get'](_0x4f505e);if(!_0x4ba36b)throw new _0x5a569f(_0x5a569f['codes'][_0x3a0cab(0x879)]);const _0x4d5637=this['jobObservers'][_0x3a0cab(0x333)](_0x4f505e);if(!_0x4d5637)throw new _0x5a569f(_0x5a569f['codes'][_0x3a0cab(0x6bd)]);_0x4ba36b['status']=_0x3b754d['JobStatus'][_0x3a0cab(0x359)];const _0x33322a={'id':_0x4ba36b['id'],'status':_0x4ba36b['status'],'message':_0x383f0a};_0x4d5637[_0x3a0cab(0xdd)](_0x33322a),_0x4d5637[_0x3a0cab(0x13a)](),this[_0x3a0cab(0x13c)][_0x3a0cab(0x268)](_0x4f505e),this['logEvent']('Job\x20'+_0x4f505e+_0x3a0cab(0x8bb),{'jobId':_0x4f505e});}['logEvent'](_0x28efcc,{jobId:_0x57e857}){const _0x4395ca=_0x20cdf8,_0x4da927={'jobId':_0x57e857,'mistletIds':Array['from'](this['graphService'][_0x4395ca(0x342)]()[_0x4395ca(0x6cd)]())[_0x4395ca(0xb7)](_0x510ef7=>_0x510ef7[_0x4395ca(0x6f6)]===_0x3b754d[_0x4395ca(0x49e)][_0x4395ca(0x7a5)])[_0x4395ca(0x7ea)](_0x706afb=>_0x706afb[_0x4395ca(0x66e)]())};_0x585abf['logEvent'](_0x28efcc,{'nodeId':this[_0x4395ca(0x25d)](),'nodeType':this[_0x4395ca(0x816)][_0x4395ca(0x6f6)],'data':_0x4da927}),_0x585abf[_0x4395ca(0x447)](_0x324ffe['Jobs'],_0x28efcc,_0x4da927);}['isBidResponse'](_0x6ca6fd){const _0x3d1679=_0x20cdf8,{jobPhase:_0x423c0a,available:_0x13cf8f,bid:_0x44055d}=_0x6ca6fd;return _0x423c0a===_0x554ff5[_0x3d1679(0x577)]&&void 0x0!==_0x13cf8f&&void 0x0!==_0x44055d;}[_0x20cdf8(0x463)](_0x2467af){const _0xf8b805=_0x20cdf8,{jobPhase:_0x4ce097,result:_0x2ccbd6}=_0x2467af;return _0x4ce097===_0x554ff5[_0xf8b805(0x88b)]&&void 0x0!==_0x2ccbd6;}['isResultResponse'](_0xcb0acf){const _0x1f4cd3=_0x20cdf8,{jobPhase:_0xdb7fe8,result:_0x367ba8}=_0xcb0acf;return _0xdb7fe8===_0x554ff5[_0x1f4cd3(0x794)]&&void 0x0!==_0x367ba8;}[_0x20cdf8(0x5a4)](_0x6c59d6){const _0x31442e=_0x20cdf8,{jobPhase:_0xa89918,message:_0x37d8ea}=_0x6c59d6;return _0xa89918===_0x554ff5[_0x31442e(0x359)]&&void 0x0!==_0x37d8ea&&_0x31442e(0x478)==typeof _0x37d8ea;}}var _0x46bba2,_0x27c700,_0x2c5e66,_0x5228f3;!function(_0x401bbd){const _0x3dbab6=_0x20cdf8;_0x401bbd[_0x3dbab6(0x12b)]='object-storage',_0x401bbd[_0x3dbab6(0x530)]=_0x3dbab6(0x5cb);}(_0x46bba2||(_0x46bba2={})),function(_0x262a6e){const _0x3c7093=_0x20cdf8;_0x262a6e['Agent']=_0x3c7093(0x725),_0x262a6e[_0x3c7093(0x3a8)]='data-collection',_0x262a6e[_0x3c7093(0x60e)]=_0x3c7093(0x587),_0x262a6e[_0x3c7093(0x52d)]='prompt',_0x262a6e[_0x3c7093(0x7d9)]=_0x3c7093(0x629),_0x262a6e[_0x3c7093(0x3e2)]='time',_0x262a6e[_0x3c7093(0x597)]='code',_0x262a6e['Search']='search',_0x262a6e[_0x3c7093(0x36a)]=_0x3c7093(0x15a),_0x262a6e['ChunkSplitter']=_0x3c7093(0x114),_0x262a6e[_0x3c7093(0x778)]='sentence-splitter',_0x262a6e[_0x3c7093(0x2e6)]=_0x3c7093(0x44a);}(_0x27c700||(_0x27c700={})),function(_0x43052e){const _0x41891a=_0x20cdf8;_0x43052e['ObjectStorageUpload']=_0x41891a(0x847),_0x43052e[_0x41891a(0x6bc)]='external-storage-upload',_0x43052e[_0x41891a(0x3cd)]=_0x41891a(0x632),_0x43052e[_0x41891a(0x782)]=_0x41891a(0x114),_0x43052e[_0x41891a(0x2e6)]=_0x41891a(0x44a),_0x43052e[_0x41891a(0x778)]=_0x41891a(0x8d1),_0x43052e[_0x41891a(0x49a)]='relation-extractor',_0x43052e[_0x41891a(0x183)]='entity-extractor',_0x43052e['Reranker']=_0x41891a(0x2e7),_0x43052e[_0x41891a(0x27a)]=_0x41891a(0x7e6),_0x43052e[_0x41891a(0x7bf)]=_0x41891a(0x107),_0x43052e[_0x41891a(0x400)]=_0x41891a(0x3ae),_0x43052e[_0x41891a(0x345)]='vector-database',_0x43052e['GraphDatabase']='graph-database',_0x43052e[_0x41891a(0x52d)]=_0x41891a(0x8cf),_0x43052e[_0x41891a(0xce)]=_0x41891a(0x4df);}(_0x2c5e66||(_0x2c5e66={})),function(_0x11ab64){const _0x146e33=_0x20cdf8;_0x11ab64[_0x146e33(0x104)]=_0x146e33(0xb3),_0x11ab64[_0x146e33(0x8cc)]=_0x146e33(0x712),_0x11ab64['Image']=_0x146e33(0x222),_0x11ab64[_0x146e33(0x5d2)]=_0x146e33(0x529),_0x11ab64[_0x146e33(0x848)]='data',_0x11ab64[_0x146e33(0x77b)]=_0x146e33(0x4af),_0x11ab64[_0x146e33(0x2d7)]=_0x146e33(0x3fb),_0x11ab64[_0x146e33(0x2bb)]=_0x146e33(0x528),_0x11ab64[_0x146e33(0x718)]='search',_0x11ab64[_0x146e33(0x280)]=_0x146e33(0x503),_0x11ab64['Knowledge']='knowledge',_0x11ab64[_0x146e33(0x64b)]=_0x146e33(0x26e);}(_0x5228f3||(_0x5228f3={}));class _0xb337d5{static ['instance'];constructor(){}static['getInstance'](){const _0x342081=_0x20cdf8;return _0xb337d5[_0x342081(0x4e2)]||(_0xb337d5[_0x342081(0x4e2)]=new _0xb337d5()),_0xb337d5[_0x342081(0x4e2)];}async[_0x20cdf8(0x830)](_0x507bf7,_0x3353d6){const _0x5e73c4=_0x20cdf8,_0x5c82dc=await(0x0,_0x2b2463[_0x5e73c4(0x713)])((0x0,_0x2b2463[_0x5e73c4(0x17b)])(_0x2c07f4[_0x5e73c4(0x124)](),_0x5e73c4(0x570)+_0x507bf7+_0x5e73c4(0x5ef)+_0x3353d6)),_0x14106b=await this['getAgents'](_0x507bf7),_0x56c1e4=await this[_0x5e73c4(0x5e8)](_0x507bf7),_0x8b0b98=await this['getModels'](_0x507bf7);if(!_0x5c82dc[_0x5e73c4(0x83e)]())throw new _0x5a569f(_0x5a569f[_0x5e73c4(0x4e8)][_0x5e73c4(0x43c)]);return this[_0x5e73c4(0x256)](_0x5c82dc,_0x14106b,_0x56c1e4,_0x8b0b98);}[_0x20cdf8(0x256)](_0x15543a,_0x3cfd53,_0x1b1ca8,_0x1b3bca){const _0x20a49f=_0x20cdf8,_0x40bb6c=_0x15543a[_0x20a49f(0x75d)]();if(!_0x40bb6c)throw new _0x5a569f(_0x5a569f['codes'][_0x20a49f(0x43c)]);const _0xe0da66=_0x40bb6c[_0x20a49f(0x832)]&&_0x40bb6c[_0x20a49f(0x70f)]?_0x40bb6c['versions'][_0x40bb6c[_0x20a49f(0x832)]-0x1]:_0x40bb6c,_0x26297b=this[_0x20a49f(0x64d)](_0xe0da66[_0x20a49f(0x810)],_0x3cfd53,_0x1b1ca8);return{'id':_0x15543a['id'],'modelsBucketId':_0x40bb6c[_0x20a49f(0x8be)],'blocks':_0x26297b,'models':this[_0x20a49f(0x3d7)](_0x26297b,_0x1b3bca),'dataBucketIds':this[_0x20a49f(0x8d9)](_0x26297b),'externalStorageConnectionIds':this[_0x20a49f(0x79d)](_0x26297b)};}[_0x20cdf8(0x3d7)](_0x288800,_0xad9041){const _0x3122df=_0x20cdf8,_0xf44e45=new Set();for(const _0xd8286 of _0x288800)if(_0xd8286[_0x3122df(0x6f6)]===_0x27c700[_0x3122df(0x7a5)]&&_0xf44e45['add'](_0xd8286[_0x3122df(0x186)]),_0xd8286[_0x3122df(0x6f6)]===_0x27c700[_0x3122df(0x60e)]){for(const _0x442bf1 of[..._0xd8286[_0x3122df(0x3d4)],..._0xd8286[_0x3122df(0x58b)]])_0x442bf1[_0x3122df(0x6f6)]===_0x2c5e66[_0x3122df(0x27a)]&&_0xf44e45['add'](_0x442bf1['id']);}return Array[_0x3122df(0x473)](_0xf44e45)['map'](_0x10ff1b=>{const _0x43fc7f=_0x3122df,{id:_0x127885,engineType:_0x29acb8,taskType:_0x581c85,inputType:_0x527773,outputType:_0x5dd10d,sourceUrl:_0x2b9895}=_0xad9041[_0x43fc7f(0x819)](_0x2ad2ab=>_0x2ad2ab['id']===_0x10ff1b);return{'id':_0x127885,'engineType':_0x29acb8,'taskType':_0x581c85,'inputType':_0x527773,'outputType':_0x5dd10d,'sourceUrl':_0x2b9895};});}[_0x20cdf8(0x8d9)](_0x3a8b90){const _0x415557=_0x20cdf8,_0x1d28e6=new Set();for(const _0x3fc157 of _0x3a8b90)switch(_0x3fc157[_0x415557(0x6f6)]){case _0x27c700[_0x415557(0x60e)]:case _0x27c700[_0x415557(0x3a8)]:for(const _0x12e3a1 of[..._0x3fc157[_0x415557(0x3d4)],..._0x3fc157['retrieveBlocks']])_0x12e3a1[_0x415557(0x6f6)]===_0x2c5e66['ObjectStorageUpload']&&_0x1d28e6[_0x415557(0x43e)](_0x12e3a1['id']);}return Array[_0x415557(0x473)](_0x1d28e6);}[_0x20cdf8(0x79d)](_0x5e0790){const _0x35e1ee=_0x20cdf8,_0x22d1f6=new Set();for(const _0x339097 of _0x5e0790)switch(_0x339097[_0x35e1ee(0x6f6)]){case _0x27c700[_0x35e1ee(0x60e)]:case _0x27c700[_0x35e1ee(0x3a8)]:for(const _0x5c4d06 of[..._0x339097[_0x35e1ee(0x3d4)],..._0x339097[_0x35e1ee(0x58b)]])_0x5c4d06['type']===_0x2c5e66[_0x35e1ee(0x6bc)]&&_0x22d1f6[_0x35e1ee(0x43e)](_0x5c4d06['id']);}return Array['from'](_0x22d1f6);}[_0x20cdf8(0x64d)](_0x15c825,_0x1efbac,_0x5f0953){const _0x138827=_0x20cdf8;return _0x15c825[_0x138827(0x7ea)](_0x39474f=>{const _0x7e64d0=_0x138827;switch(_0x39474f[_0x7e64d0(0x6f6)]){case _0x27c700[_0x7e64d0(0x7a5)]:const _0x4a95b8=_0x1efbac['find'](_0x5a5535=>_0x5a5535['id']===_0x39474f['id']);if(!_0x4a95b8)throw new _0x5a569f(_0x5a569f[_0x7e64d0(0x4e8)][_0x7e64d0(0x68c)],{'block':_0x39474f});const _0x43c3b3=_0x39474f[_0x7e64d0(0x30e)]&&_0x4a95b8[_0x7e64d0(0x70f)]?_0x4a95b8['versions'][_0x39474f[_0x7e64d0(0x30e)]-0x1]:_0x4a95b8;return{'type':_0x4a95b8[_0x7e64d0(0x6f6)],'id':_0x4a95b8['id'],'uid':_0x39474f[_0x7e64d0(0xb9)],'instructions':_0x43c3b3['instructions'],'temperature':_0x43c3b3[_0x7e64d0(0x4a1)],'maxTokens':_0x43c3b3[_0x7e64d0(0x7a0)],'modelId':_0x43c3b3['modelId'],'links':_0x39474f[_0x7e64d0(0xcb)]};case _0x27c700[_0x7e64d0(0x60e)]:case _0x27c700[_0x7e64d0(0x3a8)]:const _0x49206b=_0x5f0953[_0x7e64d0(0x819)](_0x1edf87=>_0x1edf87['id']===_0x39474f['id']);if(!_0x49206b)throw new _0x5a569f(_0x5a569f['codes'][_0x7e64d0(0x68c)],{'block':_0x39474f});const _0x1d02d1=_0x39474f[_0x7e64d0(0x30e)]&&_0x49206b[_0x7e64d0(0x70f)]?_0x49206b[_0x7e64d0(0x70f)][_0x39474f['version']-0x1]:_0x49206b;return{'type':_0x39474f[_0x7e64d0(0x6f6)],'id':_0x49206b['id'],'uid':_0x39474f[_0x7e64d0(0xb9)],'description':_0x1d02d1[_0x7e64d0(0x3db)],'ingestBlocks':_0x1d02d1['ingestBlocks'],'retrieveBlocks':_0x1d02d1['retrieveBlocks'],'links':_0x39474f[_0x7e64d0(0xcb)]};case _0x27c700[_0x7e64d0(0x52d)]:case _0x27c700[_0x7e64d0(0x7d9)]:case _0x27c700[_0x7e64d0(0x3e2)]:case _0x27c700['Code']:case _0x27c700[_0x7e64d0(0x718)]:case _0x27c700[_0x7e64d0(0x36a)]:case _0x27c700[_0x7e64d0(0x778)]:return{'type':_0x39474f[_0x7e64d0(0x6f6)],'id':_0x39474f['id'],'uid':_0x39474f[_0x7e64d0(0xb9)],'links':_0x39474f[_0x7e64d0(0xcb)]};case _0x27c700[_0x7e64d0(0x782)]:case _0x27c700['WordSplitter']:return{'type':_0x39474f[_0x7e64d0(0x6f6)],'id':_0x39474f['id'],'uid':_0x39474f[_0x7e64d0(0xb9)],'links':_0x39474f['links'],'attributes':_0x39474f['attributes']};default:throw new _0x5a569f(_0x5a569f[_0x7e64d0(0x4e8)][_0x7e64d0(0x68c)],{'block':_0x39474f});}});}async[_0x20cdf8(0x676)](_0x49835b){const _0x466c96=_0x20cdf8;return(await(0x0,_0x2b2463[_0x466c96(0x1f4)])((0x0,_0x2b2463['collection'])(_0x2c07f4[_0x466c96(0x124)](),_0x466c96(0x570)+_0x49835b+_0x466c96(0x877))))[_0x466c96(0x23a)][_0x466c96(0x7ea)](_0x2c7d62=>{const _0x1c7faf=_0x466c96,_0x80b9e2=_0x2c7d62[_0x1c7faf(0x75d)]();return{'type':_0x27c700[_0x1c7faf(0x7a5)],'id':_0x2c7d62['id'],'instructions':_0x80b9e2[_0x1c7faf(0x4b7)],'temperature':_0x80b9e2[_0x1c7faf(0x4a1)],'maxTokens':_0x80b9e2['maxTokens'],'modelId':_0x80b9e2[_0x1c7faf(0x186)],'versions':_0x80b9e2['versions']};});}async[_0x20cdf8(0x5e8)](_0x31306f){const _0x3417e5=_0x20cdf8;return(await(0x0,_0x2b2463['getDocs'])((0x0,_0x2b2463[_0x3417e5(0x27e)])(_0x2c07f4[_0x3417e5(0x124)](),_0x3417e5(0x570)+_0x31306f+_0x3417e5(0x796))))[_0x3417e5(0x23a)][_0x3417e5(0x7ea)](_0x649e0a=>{const _0x8ff7ee=_0x3417e5,_0x1eed86=_0x649e0a[_0x8ff7ee(0x75d)]();return{'type':_0x27c700[_0x8ff7ee(0x3a8)],'id':_0x649e0a['id'],'description':_0x1eed86[_0x8ff7ee(0x3db)],'ingestBlocks':_0x1eed86['ingestBlocks'],'retrieveBlocks':_0x1eed86['retrieveBlocks'],'versions':_0x1eed86[_0x8ff7ee(0x70f)]};});}async[_0x20cdf8(0x50d)](_0x2ca68d){const _0x3d3346=_0x20cdf8;return(await(0x0,_0x2b2463[_0x3d3346(0x1f4)])((0x0,_0x2b2463[_0x3d3346(0x27e)])(_0x2c07f4[_0x3d3346(0x124)](),_0x3d3346(0x570)+_0x2ca68d+_0x3d3346(0x3f3))))[_0x3d3346(0x23a)]['map'](_0x558e12=>{const _0x298985=_0x3d3346,_0x7ea083=_0x558e12[_0x298985(0x75d)]();return{'id':_0x558e12['id'],'modelName':_0x7ea083[_0x298985(0x44f)],'engineType':_0x7ea083[_0x298985(0x2a4)],'taskType':_0x7ea083[_0x298985(0x33b)],'inputType':_0x7ea083['inputType']??_0x3b754d[_0x298985(0x229)]['Text'],'outputType':_0x7ea083['outputType']??_0x3b754d[_0x298985(0x448)][_0x298985(0x8cc)],'sourceUrl':_0x7ea083[_0x298985(0xd1)]};});}}const _0xe2256a=_0xb337d5[_0x20cdf8(0x38d)]();class _0x4fa641 extends _0x1ecb96{[_0x20cdf8(0x21a)];[_0x20cdf8(0x6f5)];[_0x20cdf8(0xf8)]=0x0;[_0x20cdf8(0x837)]=0x0;[_0x20cdf8(0x8c2)];constructor(_0x50966d,_0x4d7c38,_0x597b7a,_0x195f13){const _0x5594b5=_0x20cdf8;super(_0x50966d,_0x4d7c38,_0x195f13),this['localNode']=_0x50966d,this[_0x5594b5(0x6f5)]=_0x597b7a,this[_0x5594b5(0x205)]();}[_0x20cdf8(0xb2)](){const _0x248688=_0x20cdf8;this[_0x248688(0x8c2)]&&(clearTimeout(this[_0x248688(0x8c2)]),delete this['debounceStats']),super[_0x248688(0xb2)]();}[_0x20cdf8(0x8b5)](){const _0x7a8593=_0x20cdf8;this[_0x7a8593(0xf8)]=0x0,this['tokens']=0x0,this['sendStats'](),super[_0x7a8593(0x8b5)]();}[_0x20cdf8(0x677)](_0x3c84fd){const _0x3e72a2=_0x20cdf8,_0x320073=_0x3e72a2(0x89a)+(0x0,_0x3ee2fb['v4'])();switch(_0x3c84fd[_0x3e72a2(0x6f6)]){case'prompt':let _0x37cb0c=!0x1;const _0x8e50b1=()=>{const _0x52ea3c=_0x3e72a2;if(_0x37cb0c)throw new _0x5a569f(_0x5a569f[_0x52ea3c(0x4e8)][_0x52ea3c(0x4d6)]);_0x37cb0c=!0x0;},_0x1aa611=()=>(_0x8e50b1(),this[_0x3e72a2(0x8cf)](_0x320073,_0x3c84fd[_0x3e72a2(0x8cf)],_0x3c84fd['options'])),_0xb61b6f=()=>(_0x8e50b1(),this[_0x3e72a2(0x734)](_0x320073,_0x3c84fd[_0x3e72a2(0x8cf)],_0x3c84fd['options']));return{'id':_0x320073,'prompt':_0x3c84fd['prompt'],'options':_0x3c84fd['options']??{'threadId':_0x3e72a2(0x5bb)+(0x0,_0x3ee2fb['v4'])()},'run':_0x1aa611,'stream':_0xb61b6f};case _0x3e72a2(0x3f8):let _0x61f622=!0x1;const _0x5d5fff=()=>{const _0x4bb39a=_0x3e72a2;if(_0x61f622)throw new _0x5a569f(_0x5a569f['codes'][_0x4bb39a(0x4d6)]);_0x61f622=!0x0;},_0x498254=()=>(_0x5d5fff(),this['internalRatePrompt'](_0x320073,_0x3c84fd[_0x3e72a2(0x43a)],_0x3c84fd[_0x3e72a2(0x15f)],_0x3c84fd['options']));if(!_0x3c84fd[_0x3e72a2(0x846)]?.[_0x3e72a2(0x151)])throw new _0x47cbae(_0x40f53d[_0x3e72a2(0x411)],'Please\x20provide\x20a\x20threadId\x20in\x20the\x20options');return{'id':_0x320073,'rating':_0x3c84fd[_0x3e72a2(0x43a)],'options':_0x3c84fd[_0x3e72a2(0x846)]??{'threadId':'thread-'+(0x0,_0x3ee2fb['v4'])()},'rate':_0x498254};case'downloadDocument':let _0x362bfa=!0x1;const _0x18b535=()=>{const _0x24d765=_0x3e72a2;if(_0x362bfa)throw new _0x5a569f(_0x5a569f[_0x24d765(0x4e8)][_0x24d765(0x4d6)]);_0x362bfa=!0x0;};return{'id':_0x320073,'objectStoreId':'','documentPath':_0x3c84fd[_0x3e72a2(0x7e8)],'download':()=>(_0x18b535(),this[_0x3e72a2(0x41a)](_0x320073,_0x3c84fd[_0x3e72a2(0x433)],_0x3c84fd['documentPath']))};}}async[_0x20cdf8(0x128)](_0xe32c94){const _0x56e84e=_0x20cdf8;return this[_0x56e84e(0x677)](_0xe32c94)[_0x56e84e(0x3f8)]();}async['downloadDocument'](_0x479ea2){const _0x153c69=_0x20cdf8,_0x5aa2c8={'type':_0x153c69(0x621),'objectStoreId':'','documentPath':_0x479ea2};return this[_0x153c69(0x677)](_0x5aa2c8)[_0x153c69(0x1d7)]();}async[_0x20cdf8(0x27c)](_0x3fef49,_0x5b64ab,_0x417d33,{threadId:_0x14dd7f,feedback:_0xbe5420=''}){const _0x184647=_0x20cdf8,_0x4f9812={'type':'rate','jobId':_0x417d33,'threadId':_0x14dd7f,'rating':_0x5b64ab,'feedback':_0xbe5420},_0x220f28=await this['getJobObservable'](_0x3fef49,_0x3b754d[_0x184647(0x24e)][_0x184647(0x46a)],_0x4f9812,{'threadId':_0x14dd7f,'feedback':_0xbe5420});return new Promise((_0x2bb4b6,_0x17ee70)=>{const _0x3849c7=_0x184647;let _0x5c0b28;const _0x23ab24=_0x220f28[_0x3849c7(0x3cb)]({'next':_0x5b8944=>{const _0x550a96=_0x3849c7;switch(_0x5b8944['status']){case _0x3b754d[_0x550a96(0x905)][_0x550a96(0x6df)]:clearTimeout(_0x5c0b28),_0x2bb4b6(_0x5b8944[_0x550a96(0x190)]),_0x23ab24['unsubscribe']();break;case _0x3b754d[_0x550a96(0x905)][_0x550a96(0x359)]:clearTimeout(_0x5c0b28),_0x17ee70(new _0x5a569f(_0x5a569f[_0x550a96(0x4e8)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x5b8944})),_0x23ab24[_0x550a96(0x579)]();}},'error':_0x51ce1a=>{const _0x24af7d=_0x3849c7;clearTimeout(_0x5c0b28),_0x17ee70(new _0x5a569f(_0x5a569f[_0x24af7d(0x4e8)]['GenerativeAIContextJobFailed'],{'err':_0x51ce1a})),_0x23ab24[_0x24af7d(0x579)]();}});_0x5c0b28=setTimeout(()=>{const _0x40424f=_0x3849c7;_0x17ee70(new _0x5a569f(_0x5a569f['codes'][_0x40424f(0x2ad)])),_0x23ab24[_0x40424f(0x579)]();},_0x8ff00);});}async[_0x20cdf8(0x41a)](_0x54f031,_0x2860ab,_0xb54258){const _0x7bca18=_0x20cdf8,_0x52a96d={'type':_0x7bca18(0x621),'objectStoreId':_0x2860ab,'documentPath':_0xb54258,'threadId':'thread-'+(0x0,_0x3ee2fb['v4'])()},_0x12c26a=await this[_0x7bca18(0x264)](_0x54f031,_0x3b754d[_0x7bca18(0x24e)]['Job'],_0x52a96d);return new Promise((_0x5dd04e,_0x1ad5fb)=>{const _0x31f4dd=_0x7bca18;let _0x146bc6;const _0x108638=_0x12c26a[_0x31f4dd(0x3cb)]({'next':_0x120818=>{const _0x16c07c=_0x31f4dd;switch(_0x120818[_0x16c07c(0x547)]){case _0x3b754d[_0x16c07c(0x905)][_0x16c07c(0x6df)]:clearTimeout(_0x146bc6),_0x5dd04e(_0x120818[_0x16c07c(0x190)]),_0x108638[_0x16c07c(0x579)]();break;case _0x3b754d['JobStatus'][_0x16c07c(0x359)]:clearTimeout(_0x146bc6),_0x1ad5fb(new _0x5a569f(_0x5a569f[_0x16c07c(0x4e8)][_0x16c07c(0x283)],{'updatedJob':_0x120818})),_0x108638['unsubscribe']();}},'error':_0x1f7a02=>{const _0xec248a=_0x31f4dd;clearTimeout(_0x146bc6),_0x1ad5fb(new _0x5a569f(_0x5a569f[_0xec248a(0x4e8)][_0xec248a(0x283)],{'err':_0x1f7a02})),_0x108638[_0xec248a(0x579)]();}});_0x146bc6=setTimeout(()=>{const _0x54c7e9=_0x31f4dd;_0x1ad5fb(new _0x5a569f(_0x5a569f[_0x54c7e9(0x4e8)]['GenerativeAIContextJobTimeout'])),_0x108638[_0x54c7e9(0x579)]();},_0x8ff00);});}async[_0x20cdf8(0x8cf)](_0x5223a9,_0x51b245,_0x531f7b){const _0x5003a8=_0x20cdf8,_0x4f581b={'type':_0x5003a8(0x8cf),'prompt':_0x51b245,'threadId':_0x531f7b?.[_0x5003a8(0x151)]??_0x5003a8(0x5bb)+(0x0,_0x3ee2fb['v4'])()},_0x2524be=await this['getJobObservable'](_0x5223a9,_0x3b754d[_0x5003a8(0x24e)]['Job'],_0x4f581b,_0x531f7b);return new Promise((_0x1ab3f2,_0x409393)=>{let _0x2ffd77;const _0x5f44bf=_0x2524be['subscribe']({'next':_0x4a32dd=>{const _0x366cd8=a0_0x2e24;switch(_0x4a32dd['status']){case _0x3b754d[_0x366cd8(0x905)]['Completed']:if(_0x366cd8(0x8cf)!==_0x4a32dd[_0x366cd8(0x190)]['type'])return;const _0x5b23ef=_0x4a32dd[_0x366cd8(0x190)][_0x366cd8(0x39d)]??0x0;this['logServiceEvent'](_0x51b245,_0x5b23ef),clearTimeout(_0x2ffd77),_0x1ab3f2(_0x4a32dd[_0x366cd8(0x190)]),_0x5f44bf[_0x366cd8(0x579)](),this[_0x366cd8(0xf8)]+=0x1,this[_0x366cd8(0x837)]+=_0x5b23ef,this[_0x366cd8(0x205)]();break;case _0x3b754d['JobStatus']['Failed']:clearTimeout(_0x2ffd77),_0x409393(new _0x5a569f(_0x5a569f['codes'][_0x366cd8(0x283)],{'updatedJob':_0x4a32dd})),_0x5f44bf[_0x366cd8(0x579)](),this[_0x366cd8(0x205)]();}},'error':_0x589b17=>{const _0x293301=a0_0x2e24;clearTimeout(_0x2ffd77),_0x409393(new _0x5a569f(_0x5a569f[_0x293301(0x4e8)][_0x293301(0x283)],{'err':_0x589b17})),_0x5f44bf['unsubscribe']();}});_0x2ffd77=setTimeout(()=>{const _0x3e1336=a0_0x2e24;_0x409393(new _0x5a569f(_0x5a569f[_0x3e1336(0x4e8)][_0x3e1336(0x2ad)])),_0x5f44bf[_0x3e1336(0x579)]();},_0x8ff00);});}async*[_0x20cdf8(0x734)](_0x32ac6b,_0x3abd17,_0x5aa81a){const _0x170d9c=_0x20cdf8,_0x1b5621={'type':_0x170d9c(0x8cf),'prompt':_0x3abd17,'threadId':_0x5aa81a?.[_0x170d9c(0x151)]??_0x170d9c(0x5bb)+(0x0,_0x3ee2fb['v4'])()},_0x4fb4bf=await this[_0x170d9c(0x264)](_0x32ac6b,_0x3b754d['JobType'][_0x170d9c(0x6a0)],_0x1b5621,_0x5aa81a);let _0x30a9de,_0x799cd4,_0x2f1121=!0x1,_0x26eb66=0x0;const _0x57c0bf=[],_0x3f62c3=new Map();let _0x24578a=null;const _0x5f3923=()=>{_0x24578a&&(_0x24578a(),_0x24578a=null);},_0x515043=_0x565079=>{_0x2f1121=!0x0,_0x5f3923(),_0x170141['unsubscribe'](),_0x799cd4=_0x565079;},_0x170141=_0x4fb4bf['subscribe']({'next':_0x29edf3=>{const _0x334b56=_0x170d9c;switch(_0x29edf3[_0x334b56(0x547)]){case _0x3b754d['JobStatus'][_0x334b56(0x525)]:if(_0x334b56(0x8cf)!==_0x29edf3[_0x334b56(0x190)]['type'])return;if(_0x29edf3[_0x334b56(0x190)]&&void 0x0!==_0x29edf3[_0x334b56(0x190)]['output']){if(void 0x0===_0x29edf3[_0x334b56(0x190)][_0x334b56(0x503)])return void _0x515043(_0x5a569f[_0x334b56(0x4e8)][_0x334b56(0x6a3)]);_0x26eb66===_0x29edf3['result']['index']?(_0x57c0bf[_0x334b56(0x82c)](_0x29edf3[_0x334b56(0x190)]),_0x26eb66++,((()=>{const _0x4878af=_0x334b56;for(;_0x3f62c3[_0x4878af(0x6f2)](_0x26eb66);)_0x57c0bf['push'](_0x3f62c3['get'](_0x57c0bf[_0x4878af(0x51a)])),_0x3f62c3[_0x4878af(0x268)](_0x57c0bf[_0x4878af(0x51a)]),_0x26eb66++;})()),_0x5f3923(),_0x239fdb()):_0x3f62c3[_0x334b56(0xaf)](_0x29edf3[_0x334b56(0x190)]['index'],_0x29edf3['result']);}break;case _0x3b754d['JobStatus'][_0x334b56(0x6df)]:if(_0x334b56(0x8cf)!==_0x29edf3[_0x334b56(0x190)]['type'])return;const _0x4fc4d2=_0x29edf3[_0x334b56(0x190)][_0x334b56(0x39d)]??0x0;this[_0x334b56(0x711)](_0x3abd17,_0x4fc4d2),clearTimeout(_0x30a9de),_0x515043(),this[_0x334b56(0xf8)]+=0x1,this['tokens']+=_0x4fc4d2,this[_0x334b56(0x205)]();break;case _0x3b754d[_0x334b56(0x905)][_0x334b56(0x359)]:clearTimeout(_0x30a9de),_0x515043(_0x5a569f[_0x334b56(0x4e8)][_0x334b56(0x283)]),this[_0x334b56(0x205)]();}},'error':_0x19407d=>{const _0x33a1b1=_0x170d9c;clearTimeout(_0x30a9de),_0x515043(_0x5a569f[_0x33a1b1(0x4e8)]['GenerativeAIContextJobFailed']);}}),_0x7e8d71=()=>{const _0xb510eb=_0x170d9c;_0x515043(_0x5a569f[_0xb510eb(0x4e8)][_0xb510eb(0x2ad)]);},_0x239fdb=()=>{clearTimeout(_0x30a9de),_0x30a9de=setTimeout(_0x7e8d71,_0x8ff00);};for(_0x30a9de=setTimeout(_0x7e8d71,_0x8ff00);!_0x2f1121||_0x57c0bf[_0x170d9c(0x51a)]>0x0;)_0x57c0bf[_0x170d9c(0x51a)]>0x0?yield _0x57c0bf[_0x170d9c(0x1b0)]():await new Promise(_0x1e19fd=>_0x24578a=_0x1e19fd);if(_0x799cd4)throw _0x585abf[_0x170d9c(0x7b5)](_0x170d9c(0x11a),{'nodeId':this[_0x170d9c(0x21a)]['getId'](),'nodeType':this[_0x170d9c(0x21a)][_0x170d9c(0x6f6)]}),new _0x5a569f(_0x799cd4);}async[_0x20cdf8(0x7c9)](){const _0x313e38=_0x20cdf8;return(await _0xe2256a['getWorkflow'](this[_0x313e38(0x6f5)],this['label']))[_0x313e38(0x154)];}[_0x20cdf8(0x711)](_0x44cd37,_0x3b630a){const _0x56d7a4=_0x20cdf8,_0x541d14=this[_0x56d7a4(0x59f)],_0x19b299=this[_0x56d7a4(0x25d)]();_0x585abf['logServiceEvent'](_0x50e58d['GenerativeAIContext'],{'topic':_0x541d14,'prompt':_0x44cd37,'type':_0x56d7a4(0x8cf),'nodeId':_0x19b299,'tokenCount':_0x3b630a});}async[_0x20cdf8(0x264)](_0x28b8ab,_0x42ebfd,_0xa8a3ab,_0x3627dd={}){const _0x265891=_0x20cdf8;let _0x2535a6;switch(_0xa8a3ab['type']){case _0x265891(0x8cf):{const {threadId:_0x13b361}=_0x3627dd;_0x2535a6={'id':_0x28b8ab,'jobType':_0x42ebfd,'parameters':{..._0x3627dd,'type':_0x265891(0x8cf),'prompt':_0xa8a3ab['prompt'],'threadId':_0x13b361},'status':_0x3b754d[_0x265891(0x905)]['Pending']};break;}case _0x265891(0x3f8):{const {threadId:_0x2ba02f}=_0x3627dd;_0x2535a6={'id':_0x28b8ab,'jobType':_0x42ebfd,'parameters':{..._0x3627dd,'type':_0x265891(0x3f8),'jobId':_0xa8a3ab[_0x265891(0x15f)],'rating':_0xa8a3ab['rating'],'feedback':_0xa8a3ab[_0x265891(0x7d0)]??'','threadId':_0x2ba02f},'status':_0x3b754d['JobStatus']['Pending']};break;}case _0x265891(0x621):_0x2535a6={'id':_0x28b8ab,'jobType':_0x42ebfd,'parameters':{..._0x3627dd,'type':_0x265891(0x621),'objectStoreId':_0xa8a3ab[_0x265891(0x433)],'documentPath':_0xa8a3ab[_0x265891(0x7e8)]},'status':_0x3b754d[_0x265891(0x905)][_0x265891(0x343)]};}return await this[_0x265891(0xe3)](_0x2535a6);}[_0x20cdf8(0x205)](){const _0x4494f1=_0x20cdf8;this[_0x4494f1(0x8c2)]&&clearTimeout(this[_0x4494f1(0x8c2)]),this[_0x4494f1(0x8c2)]=setTimeout(async()=>{const _0x57f63a=_0x4494f1;delete this['debounceStats'],this[_0x57f63a(0x361)]['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0['Content'],'content':{'type':_0x277618['GenerativeAIContextStats'],'label':this[_0x57f63a(0x59f)],'stats':{'timestamp':Date[_0x57f63a(0x76a)](),'storage':0x0,'messagesSent':this[_0x57f63a(0x20e)],'messagesReceived':this[_0x57f63a(0x22c)],'bytesSent':this[_0x57f63a(0x25b)],'bytesReceived':this[_0x57f63a(0x5a0)],'writes':0x0,'reads':0x0,'prompts':this[_0x57f63a(0xf8)],'tokens':this[_0x57f63a(0x837)]}}});},_0x490b21);}}class _0x40f2ce{static ['instance'];[_0x20cdf8(0x105)]=[];['isRunning']=!0x1;constructor(){}static['getInstance'](){const _0x5a19cf=_0x20cdf8;return _0x40f2ce[_0x5a19cf(0x4e2)]||(_0x40f2ce[_0x5a19cf(0x4e2)]=new _0x40f2ce()),_0x40f2ce[_0x5a19cf(0x4e2)];}get[_0x20cdf8(0x51a)](){const _0x4d2683=_0x20cdf8;return this[_0x4d2683(0x105)]['length'];}[_0x20cdf8(0x439)](){const _0x5f2973=_0x20cdf8;return!this[_0x5f2973(0x66a)];}[_0x20cdf8(0x1fc)](_0x31c22f){const _0x264227=_0x20cdf8;_0x31c22f?this['jobQueue']=this[_0x264227(0x105)]['filter'](_0x4d2346=>_0x4d2346['ownerId']!==_0x31c22f):(this['jobQueue']=[],this[_0x264227(0x66a)]=!0x1);}[_0x20cdf8(0x43e)](_0x3dc200,_0x1c055a){const _0xabf22d=_0x20cdf8;this[_0xabf22d(0x105)][_0xabf22d(0x82c)]({'callback':_0x1c055a,'ownerId':_0x3dc200}),this[_0xabf22d(0x121)]();}async[_0x20cdf8(0x121)](){const _0x5ac1be=_0x20cdf8;if(!this['isRunning']){for(this[_0x5ac1be(0x66a)]=!0x0;this[_0x5ac1be(0x105)][_0x5ac1be(0x51a)]>0x0;){const _0xd728e5=this[_0x5ac1be(0x105)][_0x5ac1be(0x1b0)]();if(_0xd728e5)try{console['warn']('JobQueueService:\x20Running\x20job'),await _0xd728e5[_0x5ac1be(0x1a5)]();}catch(_0xe39d3a){console[_0x5ac1be(0x7b5)](_0x5ac1be(0x337),_0xe39d3a);}}this[_0x5ac1be(0x66a)]=!0x1;}}}const _0x2fe1b6=_0x40f2ce[_0x20cdf8(0x38d)]();class _0x3cfa8a extends _0xa58cfb{[_0x20cdf8(0x2ec)];[_0x20cdf8(0x4d2)];constructor(_0x1ced59,_0x5bd400,_0xb218f4){const _0x1c1303=_0x20cdf8;super(_0x1ced59,_0x5bd400),this[_0x1c1303(0x2ec)]=_0xb218f4;}[_0x20cdf8(0x7e9)](){const _0x39016d=_0x20cdf8;return _0x3b754d[_0x39016d(0x4e6)]['Job'];}['open'](){const _0x36da68=_0x20cdf8;this[_0x36da68(0x1c1)]();}[_0x20cdf8(0x671)](){const _0x29bc6c=_0x20cdf8;this[_0x29bc6c(0x361)]?.[_0x29bc6c(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x29bc6c(0x326)],'content':{'type':_0x277618[_0x29bc6c(0x85c)],'label':this[_0x29bc6c(0x59f)]}});}[_0x20cdf8(0x8b5)](){const _0x48c7fa=_0x20cdf8;this[_0x48c7fa(0x4d2)]?.(),delete this[_0x48c7fa(0x4d2)],this[_0x48c7fa(0x8fc)]();}['destroy'](){const _0x3b9de0=_0x20cdf8;_0x2fe1b6[_0x3b9de0(0x1fc)](this['label']),this[_0x3b9de0(0x4d2)]?.(),delete this['unsubscribeListener'],super[_0x3b9de0(0xb2)]();}['isAvailable'](){const _0x5989ac=_0x20cdf8;return _0x2fe1b6[_0x5989ac(0x439)]();}[_0x20cdf8(0x17d)](){return 0x1;}['compileStats'](_0x471d65,_0x4ca43a,_0x55f8ae){}[_0x20cdf8(0x13f)](_0x3e1ea5,_0x2ff94c){return _0x3e1ea5;}[_0x20cdf8(0x3ce)](_0x5de884,_0x1f25aa){const _0x15a9de=_0x20cdf8;console['warn'](_0x15a9de(0x801));}[_0x20cdf8(0x10c)](_0x58dae6,_0x3dbbac){const _0x5e45c4=_0x20cdf8;console['warn'](_0x5e45c4(0x801));}[_0x20cdf8(0x1c1)](){const _0x3f036d=_0x20cdf8;this[_0x3f036d(0x4d2)]||(this[_0x3f036d(0x4d2)]=this[_0x3f036d(0x735)]((_0x3fde6d,_0x41674c)=>{const _0x39275=_0x3f036d;if(_0x585abf[_0x39275(0x447)](_0x324ffe[_0x39275(0x442)],_0x39275(0x72a),_0x41674c),!(_0x41674c instanceof File)){if(this[_0x39275(0x56e)](_0x41674c))_0x585abf[_0x39275(0x447)](_0x324ffe['Jobs'],_0x39275(0x836),_0x41674c),this[_0x39275(0x439)]()?this['sendBid'](_0x41674c['id'],_0x41674c[_0x39275(0x3ca)],_0x3fde6d):this[_0x39275(0x8f5)](_0x41674c['id'],_0x41674c['jobType'],_0x3fde6d);else{if(this['isJobAttribution'](_0x41674c)){_0x585abf[_0x39275(0x447)](_0x324ffe[_0x39275(0x442)],_0x39275(0x214),_0x41674c);const {id:_0x2d2a06,parameters:_0x459e94}=_0x41674c;this[_0x39275(0x3ce)](_0x2d2a06,_0x459e94),_0x2fe1b6[_0x39275(0x43e)](this[_0x39275(0x59f)],()=>this['handleJobAttribution'](_0x41674c['id'],_0x41674c,_0x3fde6d));}}}}));}[_0x20cdf8(0x71d)](_0x57cfaf,_0x2135bd,_0x7bb521){const _0x1e4876=_0x20cdf8,_0x4be285={'id':_0x57cfaf,'jobType':_0x2135bd,'jobPhase':_0x554ff5[_0x1e4876(0x577)],'available':!0x0,'queueLength':_0x2fe1b6[_0x1e4876(0x51a)],'bid':this[_0x1e4876(0x17d)]()};_0x585abf[_0x1e4876(0x447)](_0x324ffe[_0x1e4876(0x442)],_0x1e4876(0x8b2),_0x4be285),this[_0x1e4876(0x84a)](_0x4be285,[_0x7bb521]);}[_0x20cdf8(0x8f5)](_0x933f6d,_0x957cb4,_0x28c72e){const _0x33627c=_0x20cdf8,_0x89fa3e={'id':_0x933f6d,'jobType':_0x957cb4,'jobPhase':_0x554ff5[_0x33627c(0x577)],'available':!0x1,'queueLength':_0x2fe1b6[_0x33627c(0x51a)],'bid':0x0};_0x585abf['log'](_0x324ffe['Jobs'],_0x33627c(0x1d4),_0x89fa3e),this[_0x33627c(0x84a)](_0x89fa3e,[_0x28c72e]);}async['handleJobAttribution'](_0x5a2d1c,_0x3c919b,_0x4d010d){const _0x3b6b1a=_0x20cdf8;_0x585abf[_0x3b6b1a(0x447)](_0x324ffe[_0x3b6b1a(0x442)],_0x3b6b1a(0x4de),_0x3c919b);const _0x5e0aea={'id':_0x5a2d1c,'jobType':_0x3c919b[_0x3b6b1a(0x3ca)],'parameters':_0x3c919b[_0x3b6b1a(0x82b)]};try{switch(_0x3c919b[_0x3b6b1a(0x3ca)]){case _0x3b754d['JobType'][_0x3b6b1a(0x46a)]:await this[_0x3b6b1a(0x1c6)](_0x5a2d1c,_0x3c919b,_0x5e0aea,_0x4d010d);break;case _0x3b754d[_0x3b6b1a(0x24e)]['JobStream']:await this['processJobStream'](_0x5a2d1c,_0x3c919b,_0x5e0aea,_0x4d010d);break;default:throw new Error(_0x3b6b1a(0x691));}}catch(_0x27cbf6){_0x585abf['error']('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this[_0x3b6b1a(0x816)][_0x3b6b1a(0x66e)](),'nodeType':this[_0x3b6b1a(0x816)]['type'],'data':{'job':_0x5e0aea}},_0x27cbf6);const _0x34aa16=_0x27cbf6 instanceof Error?_0x27cbf6[_0x3b6b1a(0x129)]:_0x3b6b1a(0x822),_0xfb7ece={'id':_0x5a2d1c,'jobType':_0x3c919b[_0x3b6b1a(0x3ca)],'jobPhase':_0x554ff5['Failed'],'message':_0x34aa16};await this[_0x3b6b1a(0x84a)](_0xfb7ece,[_0x4d010d]);}}async[_0x20cdf8(0x1c6)](_0x3c8eaa,_0xfd95ac,_0x4a70fd,_0x54b99f){const _0x388d01=_0x20cdf8,_0x2d663c=Date[_0x388d01(0x76a)](),_0x49e3d7=await this[_0x388d01(0x149)](_0x3c8eaa,_0x4a70fd['parameters']);this['compileStats'](_0x49e3d7,_0x2d663c,Date[_0x388d01(0x76a)]());const _0x2406ff={'id':_0x3c8eaa,'jobType':_0xfd95ac[_0x388d01(0x3ca)],'jobPhase':_0x554ff5[_0x388d01(0x794)],'result':_0x49e3d7};_0x585abf[_0x388d01(0x447)](_0x324ffe[_0x388d01(0x442)],_0x388d01(0x77e),_0x2406ff),await this[_0x388d01(0x84a)](_0x2406ff,[_0x54b99f]),this[_0x388d01(0x10c)](_0x3c8eaa,_0x4a70fd['parameters']);}async[_0x20cdf8(0x788)](_0xb7e443,_0x1cc5bf,_0x299006,_0x4639a5){const _0x254123=_0x20cdf8,_0x34d1c3=Date[_0x254123(0x76a)]();let _0x58042b=0x0,_0x4a287d={};for await(const _0x98d4c of this[_0x254123(0x875)](_0x299006['id'],_0x299006[_0x254123(0x82b)])){const _0x19fe79={'id':_0xb7e443,'jobType':_0x1cc5bf[_0x254123(0x3ca)],'jobPhase':_0x554ff5[_0x254123(0x88b)],'result':{..._0x98d4c,'index':_0x58042b}};_0x585abf[_0x254123(0x447)](_0x324ffe[_0x254123(0x442)],_0x254123(0xdc),_0x19fe79),this[_0x254123(0x84a)](_0x19fe79,[_0x4639a5]),_0x4a287d=this[_0x254123(0x13f)](_0x4a287d,_0x98d4c),_0x58042b++;}this[_0x254123(0x8f0)](_0x4a287d,_0x34d1c3,Date[_0x254123(0x76a)]());const _0x2f71aa={'id':_0xb7e443,'jobType':_0x1cc5bf[_0x254123(0x3ca)],'jobPhase':_0x554ff5[_0x254123(0x794)],'result':_0x4a287d};_0x585abf['log'](_0x324ffe[_0x254123(0x442)],_0x254123(0x77e),_0x2f71aa),await this[_0x254123(0x84a)](_0x2f71aa,[_0x4639a5]),this[_0x254123(0x10c)](_0xb7e443,_0x299006[_0x254123(0x82b)]);}[_0x20cdf8(0x56e)](_0x27b48b){const _0x444785=_0x20cdf8;return _0x27b48b[_0x444785(0x669)]===_0x554ff5['Request'];}['isJobAttribution'](_0x5e94c5){const _0x25a10f=_0x20cdf8;return _0x5e94c5[_0x25a10f(0x669)]===_0x554ff5[_0x25a10f(0x4b9)];}}var _0x4650a7,_0x3ab9c8,_0x24ab69,_0x31eb64,_0x41b7d6,_0x326e3b,_0x421e71,_0x135fa9,_0x1bd4f1,_0x38de1c,_0x436b24;function _0x5afc4c(_0x2813e4,_0x4b0a99){const _0x492029=_0x20cdf8;return _0x492029(0x515)+_0x2813e4+'-'+_0x4b0a99;}function _0x4c556f(){const _0x22ccf0=_0x20cdf8,_0x4de885=_0x57fa10[_0x22ccf0(0x481)](0x1);return _0x4de885[_0x22ccf0(0x65c)](_0x22ccf0(0x1c9))[_0x22ccf0(0x503)]('id')[_0x22ccf0(0x503)]('jobId')[_0x22ccf0(0x503)](_0x22ccf0(0x640))[_0x22ccf0(0x503)]('threadId')['index'](_0x22ccf0(0x745))[_0x22ccf0(0x503)](_0x22ccf0(0x7d4)),_0x4de885;}function _0x380629(_0x20b424){const _0x3c0f5b=_0x20cdf8;try{return JSON[_0x3c0f5b(0x8f7)](_0x20b424);}catch(_0x585702){return _0x20b424 instanceof Error?_0x20b424[_0x3c0f5b(0xca)]():JSON[_0x3c0f5b(0x8f7)]('Error\x20stringifying\x20object');}}!function(_0x2a1742){const _0x55a9c5=_0x20cdf8;_0x2a1742[_0x55a9c5(0x383)]=_0x55a9c5(0x383),_0x2a1742[_0x55a9c5(0x6b5)]='IngestTrace',_0x2a1742['RetrieveTrace']='RetrieveTrace',_0x2a1742[_0x55a9c5(0x207)]=_0x55a9c5(0x207);}(_0x4650a7||(_0x4650a7={})),function(_0x3dc044){const _0x1b499f=_0x20cdf8;_0x3dc044[_0x1b499f(0x5ce)]='ModelText',_0x3dc044[_0x1b499f(0x58a)]='ModelVector',_0x3dc044[_0x1b499f(0x55c)]=_0x1b499f(0x55c),_0x3dc044[_0x1b499f(0x183)]='EntityExtractor',_0x3dc044[_0x1b499f(0x535)]=_0x1b499f(0x535),_0x3dc044[_0x1b499f(0x78b)]=_0x1b499f(0x78b);}(_0x3ab9c8||(_0x3ab9c8={})),function(_0x583a7d){const _0x19a389=_0x20cdf8;_0x583a7d[_0x583a7d[_0x19a389(0x866)]=0x0]='Debug',_0x583a7d[_0x583a7d[_0x19a389(0x645)]=0x5]=_0x19a389(0x645),_0x583a7d[_0x583a7d[_0x19a389(0x578)]=0xa]=_0x19a389(0x578),_0x583a7d[_0x583a7d[_0x19a389(0x2e0)]=0xf]='Error';}(_0x24ab69||(_0x24ab69={})),function(_0x3a06e3){const _0x12e91c=_0x20cdf8;_0x3a06e3[_0x12e91c(0x388)]=_0x12e91c(0x388),_0x3a06e3['Ingest']=_0x12e91c(0x5ca),_0x3a06e3['Knowledge']='Knowledge',_0x3a06e3[_0x12e91c(0x64b)]=_0x12e91c(0x64b),_0x3a06e3[_0x12e91c(0x58e)]=_0x12e91c(0x58e),_0x3a06e3['Job']=_0x12e91c(0x46a),_0x3a06e3['JobContext']='JobContext',_0x3a06e3[_0x12e91c(0x41d)]='Rating';}(_0x31eb64||(_0x31eb64={})),function(_0x21c427){const _0x432bb7=_0x20cdf8;_0x21c427[_0x432bb7(0x156)]=_0x432bb7(0x156),_0x21c427[_0x432bb7(0x6df)]='Completed';}(_0x41b7d6||(_0x41b7d6={})),function(_0x10b244){const _0x1bb0c3=_0x20cdf8;_0x10b244[_0x1bb0c3(0x8c7)]=_0x1bb0c3(0x8c7),_0x10b244[_0x1bb0c3(0x3f9)]=_0x1bb0c3(0x3f9),_0x10b244[_0x1bb0c3(0x3a8)]='DataCollection',_0x10b244[_0x1bb0c3(0x65f)]=_0x1bb0c3(0x65f);}(_0x326e3b||(_0x326e3b={})),function(_0x3b2b3a){const _0x2a63d1=_0x20cdf8;_0x3b2b3a[_0x2a63d1(0x782)]=_0x2a63d1(0x782),_0x3b2b3a[_0x2a63d1(0x3cd)]='DocumentParser',_0x3b2b3a['EntityExtractor']=_0x2a63d1(0x183),_0x3b2b3a['GraphDatabase']=_0x2a63d1(0x48d),_0x3b2b3a[_0x2a63d1(0x5ce)]=_0x2a63d1(0x5ce),_0x3b2b3a['ModelVector']=_0x2a63d1(0x58a),_0x3b2b3a[_0x2a63d1(0x49a)]='RelationExtractor',_0x3b2b3a[_0x2a63d1(0x778)]='SentenceSplitter',_0x3b2b3a[_0x2a63d1(0x345)]=_0x2a63d1(0x345),_0x3b2b3a[_0x2a63d1(0x2e6)]=_0x2a63d1(0x2e6);}(_0x421e71||(_0x421e71={})),function(_0x2b331c){const _0x4d3336=_0x20cdf8;_0x2b331c[_0x4d3336(0x53f)]=_0x4d3336(0x53f),_0x2b331c[_0x4d3336(0x2be)]=_0x4d3336(0x2be);}(_0x135fa9||(_0x135fa9={})),function(_0x1deec9){const _0x52dcae=_0x20cdf8;_0x1deec9[_0x52dcae(0x53d)]=_0x52dcae(0x53d),_0x1deec9[_0x52dcae(0xec)]=_0x52dcae(0xec),_0x1deec9[_0x52dcae(0x2fc)]=_0x52dcae(0x2fc),_0x1deec9['SearchGoogle']=_0x52dcae(0x5ad);}(_0x1bd4f1||(_0x1bd4f1={})),function(_0x24049f){const _0x13c539=_0x20cdf8;_0x24049f['LoadKnowledgeFunction']=_0x13c539(0x5dc),_0x24049f[_0x13c539(0x77a)]=_0x13c539(0x77a);}(_0x38de1c||(_0x38de1c={})),function(_0xd2f2c7){_0xd2f2c7['PromptRating']='PromptRating';}(_0x436b24||(_0x436b24={}));class _0x3b59af{static [_0x20cdf8(0x4e2)];[_0x20cdf8(0x424)]=_0x24ab69[_0x20cdf8(0x2e0)];[_0x20cdf8(0x47d)]=_0x24ab69[_0x20cdf8(0x645)];[_0x20cdf8(0x161)]=_0x31eb64['Retrieve'];[_0x20cdf8(0x2ba)]={};static [_0x20cdf8(0x38d)]=()=>(_0x3b59af[_0x20cdf8(0x4e2)]||(_0x3b59af[_0x20cdf8(0x4e2)]=new _0x3b59af()),_0x3b59af[_0x20cdf8(0x4e2)]);[_0x20cdf8(0x323)](_0x55632f,_0xb4fed6,_0x1cf200=!0x0){const _0x44fb05=_0x20cdf8;try{if(this['openedTraces'][_0xb4fed6])throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set');const _0x446e94={'sequence':0x0};if(this[_0x44fb05(0x2ba)][_0xb4fed6]=_0x446e94,!_0x55632f)return!0x0;const _0x51238e=function(_0x774a20){const _0x1c3f25=_0x44fb05;return _0x774a20[_0x1c3f25(0x5d4)](_0x1c3f25(0x1c9));}(_0x55632f);return _0x446e94[_0x44fb05(0x586)]=_0x55632f,_0x446e94[_0x44fb05(0x65c)]=_0x51238e,!0x0;}catch(_0x172f72){return console['error'](_0x44fb05(0xe9)+_0x1cf200,_0x172f72),!!_0x1cf200&&(this[_0x44fb05(0x49b)](_0xb4fed6),this[_0x44fb05(0x323)](_0x55632f,_0xb4fed6,!0x1));}}[_0x20cdf8(0x3ed)](_0x2b84f6){const _0x63fc73=_0x20cdf8;try{const _0x37b2a5=this['openedTraces'][_0x2b84f6[_0x63fc73(0x15f)]];if(!_0x37b2a5)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x2b84f6[_0x63fc73(0x7d4)]=_0x37b2a5['sequence']++,_0x2b84f6[_0x63fc73(0x607)]>=this['logLevel']&&console['log'](JSON[_0x63fc73(0x8f7)](_0x2b84f6,null,0x2)),this['commitTrace'](_0x2b84f6);}catch(_0x57ce48){console[_0x63fc73(0x7b5)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x57ce48);}}[_0x20cdf8(0x49b)](_0x5a7846){const _0x345532=_0x20cdf8;if(!_0x3b59af[_0x345532(0x4e2)])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this[_0x345532(0x2ba)][_0x5a7846])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');delete this[_0x345532(0x2ba)][_0x5a7846];}[_0x20cdf8(0x26f)](_0x412aa7){const _0xb35bca=_0x20cdf8;if(_0x412aa7[_0xb35bca(0x607)]<this[_0xb35bca(0x47d)]&&_0x412aa7['jobType']!==this[_0xb35bca(0x161)])return;if(!this[_0xb35bca(0x2ba)][_0x412aa7[_0xb35bca(0x15f)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x207f8f=this[_0xb35bca(0x2ba)][_0x412aa7[_0xb35bca(0x15f)]];if(!_0x207f8f['database'])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set');if(!_0x207f8f[_0xb35bca(0x65c)])throw new Error(_0xb35bca(0x110));try{const _0x5ce89a=function(_0x15d5bf){const _0x438baf=_0xb35bca,_0x184384=[_0x438baf(0x5ea),_0x438baf(0x745),'jobType','type',_0x438baf(0x15f),_0x438baf(0x607),_0x438baf(0x7c1),_0x438baf(0x547),_0x438baf(0x7d4),_0x438baf(0x396)],_0x2f586f={..._0x15d5bf};for(const _0x103b3d of _0x184384)delete _0x2f586f[_0x103b3d];return{'timestamp':_0x15d5bf[_0x438baf(0x745)],'jobType':_0x15d5bf[_0x438baf(0x3ca)],'type':_0x15d5bf[_0x438baf(0x6f6)],'jobId':_0x15d5bf[_0x438baf(0x15f)],'agentId':_0x15d5bf[_0x438baf(0x640)]??'','traceLevel':_0x15d5bf[_0x438baf(0x607)],'blockId':_0x15d5bf[_0x438baf(0x7c1)]??'','startTime':_0x15d5bf[_0x438baf(0x5ea)],'status':_0x15d5bf[_0x438baf(0x547)],'sequence':_0x15d5bf['sequence']??0x0,'errorDetails':_0x15d5bf[_0x438baf(0x396)]??'','metadata':_0x380629(_0x2f586f)};}(_0x412aa7),_0x1b46ad=(0x0,_0x3ee2fb['v4'])();console[_0xb35bca(0x447)](_0xb35bca(0x496),_0x5ce89a[_0xb35bca(0x6f6)]),_0x207f8f[_0xb35bca(0x65c)][_0xb35bca(0xaf)](_0x1b46ad,_0x5ce89a);}catch(_0x33ab8b){console[_0xb35bca(0x7b5)](_0xb35bca(0x6d5),_0x33ab8b);}}}const _0x590d4b=_0x3b59af[_0x20cdf8(0x38d)]();async function _0x309186(_0x3da341,_0x47f9f6,_0x2aa572,_0x256d06,_0x4348c7){const _0x577676=_0x20cdf8,_0x35dbcb=Date[_0x577676(0x76a)]();let _0x299b15=[];if(_0x47f9f6 instanceof Array){for(const _0x3e01fc of _0x47f9f6)_0x299b15=_0x299b15['concat'](_0x48c628(_0x3e01fc[_0x577676(0x843)],_0x2aa572,_0x3e01fc[_0x577676(0x63c)],_0x3e01fc[_0x577676(0x51a)]));}else _0x299b15=_0x48c628(_0x47f9f6,_0x2aa572);_0x590d4b['trace']({'jobType':_0x31eb64['Ingest'],'type':_0x421e71[_0x577676(0x782)],'traceLevel':_0x24ab69[_0x577676(0x866)],'jobId':_0x3da341,'blockId':_0x2aa572['id'],'startTime':_0x35dbcb,'timestamp':Date[_0x577676(0x76a)](),'status':_0x577676(0x427),'totalChunks':_0x299b15[_0x577676(0x51a)],'chunkSize':_0x2aa572[_0x577676(0x1cf)]['size']}),await _0x25a8a7(_0x3da341,_0x299b15,_0x2aa572,_0x256d06,_0x4348c7);}function _0x48c628(_0x195545,_0x36ed69,_0x5a4297,_0x39698a){const _0x14753d=_0x20cdf8,_0x17c2a2=[];let _0x347083=0x0;for(let _0x2dd6e7=0x0;_0x2dd6e7<_0x195545['length'];_0x2dd6e7+=_0x36ed69['attributes']['size']){let _0x1db399=_0x2dd6e7-_0x36ed69[_0x14753d(0x1cf)]['overlap'];_0x1db399<0x0&&(_0x1db399=0x0);let _0x3e7392=_0x2dd6e7+_0x36ed69[_0x14753d(0x1cf)][_0x14753d(0x3b4)]+_0x36ed69[_0x14753d(0x1cf)][_0x14753d(0x2e4)];_0x3e7392>_0x195545['length']&&(_0x3e7392=_0x195545[_0x14753d(0x51a)]);const _0x12ab06=_0x195545[_0x14753d(0x704)](_0x1db399,_0x3e7392);_0x17c2a2[_0x14753d(0x82c)]({'content':_0x12ab06,'start':_0x5a4297??_0x347083,'length':_0x39698a??_0x12ab06[_0x14753d(0x51a)]}),_0x347083+=_0x12ab06['length'];}return _0x17c2a2;}async function _0x15d74c(_0x4762c4,_0x2f8285,_0x3fcca7,_0x132d17,_0x466c9c){const _0x2a3ea3=_0x20cdf8,_0x3d2542=Date[_0x2a3ea3(0x76a)]();let _0x52f150;if(_0x2f8285[_0x2a3ea3(0xb3)]['type'][_0x2a3ea3(0x6da)](_0x2a3ea3(0x8e4))||(_0x288560=_0x2f8285[_0x2a3ea3(0xb3)][_0x2a3ea3(0x294)],_0x556ccd[_0x2a3ea3(0x8cb)]('.'+(_0x288560[_0x2a3ea3(0x469)]('.')[_0x2a3ea3(0x495)]()?.[_0x2a3ea3(0x5c0)]()||''))))_0x52f150=await _0x2f8285[_0x2a3ea3(0xb3)][_0x2a3ea3(0x712)]();else{if(!_0x466c9c[_0x2a3ea3(0x518)][_0x2a3ea3(0x3ea)](_0x2f8285[_0x2a3ea3(0xb3)]))throw new Error(_0x2a3ea3(0x8d0)+_0x2f8285[_0x2a3ea3(0xb3)][_0x2a3ea3(0x6f6)]+'\x20-\x20'+_0x2f8285[_0x2a3ea3(0xb3)]['name']);_0x52f150=await _0x466c9c[_0x2a3ea3(0x518)]['parse'](_0x2f8285[_0x2a3ea3(0xb3)]);}var _0x288560;_0x590d4b[_0x2a3ea3(0x3ed)]({'jobType':_0x31eb64[_0x2a3ea3(0x5ca)],'type':_0x421e71[_0x2a3ea3(0x3cd)],'traceLevel':_0x24ab69[_0x2a3ea3(0x866)],'blockId':_0x3fcca7['id'],'jobId':_0x4762c4,'startTime':_0x3d2542,'timestamp':Date[_0x2a3ea3(0x76a)](),'status':'success','documentType':_0x2f8285[_0x2a3ea3(0xb3)]['type'],'documentName':_0x2f8285[_0x2a3ea3(0xb3)][_0x2a3ea3(0x294)],'extractionMethod':'OfficeParser'}),await _0x25a8a7(_0x4762c4,_0x52f150,_0x3fcca7,_0x132d17,_0x466c9c);}const _0x556ccd=[_0x20cdf8(0x700),_0x20cdf8(0x1ff),_0x20cdf8(0x245),'.json',_0x20cdf8(0x51f),_0x20cdf8(0x6e2),_0x20cdf8(0xbb),_0x20cdf8(0x8f3),_0x20cdf8(0x5f4),'.yml','.yaml',_0x20cdf8(0x8ce),_0x20cdf8(0x39e),_0x20cdf8(0x6d3),_0x20cdf8(0x1be),_0x20cdf8(0x158),'.sql','.rb','.php',_0x20cdf8(0x31f),'.c','.cpp','.cs','.r','.go',_0x20cdf8(0x5ee),'.scala','.kt',_0x20cdf8(0x7b6),_0x20cdf8(0x426),_0x20cdf8(0x450),'.lua',_0x20cdf8(0x695),_0x20cdf8(0x615),_0x20cdf8(0x7c5),_0x20cdf8(0x61e),_0x20cdf8(0x1d5),'.exs','.vb',_0x20cdf8(0x89c),_0x20cdf8(0x64c),'.m',_0x20cdf8(0x248),_0x20cdf8(0x60c),_0x20cdf8(0x14c),_0x20cdf8(0xb1),_0x20cdf8(0x32a),_0x20cdf8(0x8da),_0x20cdf8(0x7b7),'.vue',_0x20cdf8(0x77f),_0x20cdf8(0x67f),_0x20cdf8(0x136),_0x20cdf8(0x7cb),_0x20cdf8(0xe7),_0x20cdf8(0x72c),_0x20cdf8(0x8ac),_0x20cdf8(0x7d2),_0x20cdf8(0x4b1),'.tpl',_0x20cdf8(0x7b0),_0x20cdf8(0x32c),_0x20cdf8(0x7eb)];async function _0x58c20e(_0x43e99e,_0x43a7f5,_0x34ac0b,_0x3ab377,_0x2ff934){const _0x5f397e=_0x20cdf8,_0x1c0426=Date[_0x5f397e(0x76a)](),_0x26cd6f=new Set();let _0x48929b=0x0;for(const _0x193e51 of _0x43a7f5)_0x48929b+=_0x193e51[_0x5f397e(0x843)][_0x5f397e(0x51a)],await _0x5dd25c(_0x193e51['content'],_0x26cd6f,_0x34ac0b,_0x2ff934['nlpLibraryConnector']);_0x590d4b[_0x5f397e(0x3ed)]({'jobType':_0x31eb64[_0x5f397e(0x5ca)],'type':_0x421e71['EntityExtractor'],'jobId':_0x43e99e,'blockId':_0x34ac0b['id'],'traceLevel':_0x24ab69['Debug'],'startTime':_0x1c0426,'timestamp':Date['now'](),'status':_0x5f397e(0x427),'contentLength':_0x48929b,'totalChunks':_0x43a7f5 instanceof Array?_0x43a7f5['length']:0x1,'entitiesExtracted':_0x26cd6f,'totalEntities':_0x26cd6f[_0x5f397e(0x3b4)]}),await _0x25a8a7(_0x43e99e,_0x26cd6f,_0x34ac0b,_0x3ab377,_0x2ff934);}async function _0x5dd25c(_0x3d4194,_0x1b575f,_0x116888,_0x1fff9e){const _0x2a8346=_0x20cdf8,_0x47066d=await _0x1fff9e[_0x2a8346(0x490)](_0x3d4194,{'ner':_0x116888['attributes'][_0x2a8346(0x1fe)],'noun':_0x116888[_0x2a8346(0x1cf)]['noun'],'propn':_0x116888['attributes'][_0x2a8346(0x7ad)],'verb':_0x116888[_0x2a8346(0x1cf)][_0x2a8346(0x670)]});for(const _0x185bca of _0x47066d)_0x1b575f['add'](_0x185bca);}function _0x22d500(_0x50c535,_0x4b1f82,_0xddd112,_0x5ebf2e,_0x249f3e){const _0x379183=_0x20cdf8,_0x2e3fc6=Date[_0x379183(0x76a)]();if(_0xddd112['accumulated']||(_0xddd112['accumulated']={}),_0x379183(0x478)==typeof _0x4b1f82?_0xddd112['accumulated'][_0x379183(0x843)]=_0x4b1f82:_0x4b1f82 instanceof Set?_0xddd112[_0x379183(0x6aa)][_0x379183(0x83b)]=_0x4b1f82:_0x4b1f82 instanceof Map?_0xddd112['accumulated'][_0x379183(0x835)]=_0x4b1f82:_0x4b1f82 instanceof Array?_0xddd112[_0x379183(0x6aa)]['index']=_0x4b1f82:_0xddd112[_0x379183(0x6aa)][_0x379183(0xb3)]=_0x4b1f82,_0xddd112['timesCalled']=_0xddd112[_0x379183(0x811)]?_0xddd112[_0x379183(0x811)]+0x1:0x1,_0x309046(_0xddd112,_0x5ebf2e)>_0xddd112[_0x379183(0x811)])return;if(!(_0xddd112['accumulated'][_0x379183(0x83b)]&&_0xddd112[_0x379183(0x6aa)][_0x379183(0xb3)]&&_0xddd112[_0x379183(0x6aa)][_0x379183(0x843)]&&_0xddd112[_0x379183(0x6aa)][_0x379183(0x503)]))throw new Error(_0x379183(0x719));let _0x51ecba=0x0;const _0x4e4621=_0x249f3e[_0x379183(0x179)][_0x379183(0x740)](_0xddd112['id']);for(const _0x42afd8 of _0xddd112[_0x379183(0x6aa)]['entities']){let _0x59caa9=[];_0x59caa9=_0xddd112[_0x379183(0x6aa)][_0x379183(0x503)]['filter'](_0x62c4e2=>_0x62c4e2[_0x379183(0x843)][_0x379183(0x8cb)](_0x42afd8));try{_0x4e4621[_0x379183(0x775)](_0xddd112['accumulated'][_0x379183(0xb3)][_0x379183(0x5b5)],_0xddd112[_0x379183(0x6aa)]['content'],_0x59caa9,_0x42afd8),_0x51ecba+=0x1;}catch(_0x23f621){}}if(_0xddd112[_0x379183(0x6aa)][_0x379183(0x835)]){for(const [_0x37973e,_0xd6baeb]of _0xddd112[_0x379183(0x6aa)][_0x379183(0x835)])for(const _0x4e8cee of _0xd6baeb)try{_0x4e4621[_0x379183(0x2ac)](_0x37973e,_0x4e8cee);}catch(_0x4c9fd2){}_0x590d4b[_0x379183(0x3ed)]({'jobType':_0x31eb64[_0x379183(0x5ca)],'type':_0x421e71[_0x379183(0x48d)],'jobId':_0x50c535,'blockId':_0xddd112['id'],'status':_0x379183(0x427),'startTime':_0x2e3fc6,'timestamp':Date[_0x379183(0x76a)](),'traceLevel':_0x24ab69[_0x379183(0x866)],'nodesAdded':_0x51ecba,'entities':_0xddd112['accumulated'][_0x379183(0x83b)],'relations':_0xddd112[_0x379183(0x6aa)][_0x379183(0x835)]});}}async function _0x2fb999(_0xdc8862,_0x389130,_0x2f425e,_0x532310,_0x1d5f40){const _0xb95a43=_0x20cdf8,_0x372aa1=_0x1d5f40[_0xb95a43(0x675)][_0xb95a43(0x819)](_0x22dc01=>_0x22dc01['id']===_0x2f425e['id']);if(!_0x372aa1)throw new Error(_0xb95a43(0x666));switch(_0x372aa1[_0xb95a43(0x4b2)]){case _0x3b754d[_0xb95a43(0x448)][_0xb95a43(0x8cc)]:if('string'!=typeof _0x389130)throw new Error(_0xb95a43(0x4d4));await async function(_0x356455,_0x5c0121,_0x5cb288,_0x28cd17,_0x314f6d,_0x4a7584){const _0x2ae8d7=_0xb95a43,_0x408c3d=Date[_0x2ae8d7(0x76a)]();let _0x2720ad;const _0x3c4add=_0x4a7584[_0x2ae8d7(0x6b4)]['find'](_0x27f737=>_0x27f737[_0x2ae8d7(0x429)]()===_0x5cb288[_0x2ae8d7(0x246)]);if(!_0x3c4add)throw new Error(_0x2ae8d7(0x814));_0x2720ad=await async function(_0x40dfd9,_0x1237e8,_0x343bcd){const _0x15c36e=_0x2ae8d7,_0x4ef7cc=await _0x1237e8[_0x15c36e(0x1c6)]({'type':_0x15c36e(0x8cf),'prompt':_0x40dfd9,'threadId':''},{'model':_0x343bcd});if(_0x4ef7cc[_0x15c36e(0x316)]instanceof Array)throw new Error(_0x15c36e(0x303));return _0x4ef7cc[_0x15c36e(0x316)];}(_0x5c0121,_0x3c4add,_0x5cb288),_0x590d4b[_0x2ae8d7(0x3ed)]({'jobType':_0x31eb64[_0x2ae8d7(0x5ca)],'type':_0x421e71['ModelText'],'jobId':_0x356455,'blockId':_0x28cd17['id'],'traceLevel':_0x24ab69[_0x2ae8d7(0x866)],'timestamp':Date['now'](),'startTime':_0x408c3d,'status':_0x2ae8d7(0x427),'modelName':_0x5cb288['id'],'inputType':_0x5cb288[_0x2ae8d7(0x4e7)],'outputType':_0x5cb288['outputType'],'content':_0x5c0121,'results':_0x2720ad}),await _0x25a8a7(_0x356455,_0x2720ad,_0x28cd17,_0x314f6d,_0x4a7584);}(_0xdc8862,_0x389130,_0x372aa1,_0x2f425e,_0x532310,_0x1d5f40);break;case _0x3b754d[_0xb95a43(0x448)]['Vector']:if(!(_0x389130 instanceof Array))throw new Error(_0xb95a43(0x387));await async function(_0x152cc0,_0x388da4,_0x4d87cd,_0x3b4515,_0x54d172,_0x573bf2){const _0x424691=_0xb95a43,_0xe890ca=Date[_0x424691(0x76a)](),_0x5d67e5=[],_0x1606b2=_0x573bf2[_0x424691(0x6b4)]['find'](_0x3e3b6c=>_0x3e3b6c[_0x424691(0x429)]()===_0x4d87cd[_0x424691(0x246)]);if(!_0x1606b2)throw new Error(_0x424691(0x814));for(const _0x23d844 of _0x388da4)_0x5d67e5['push'](await _0x196c22(_0x23d844,_0x1606b2,_0x4d87cd));_0x590d4b['trace']({'jobType':_0x31eb64[_0x424691(0x5ca)],'type':_0x421e71[_0x424691(0x58a)],'jobId':_0x152cc0,'blockId':_0x3b4515['id'],'traceLevel':_0x24ab69[_0x424691(0x866)],'timestamp':Date[_0x424691(0x76a)](),'startTime':_0xe890ca,'status':_0x424691(0x427),'modelName':_0x4d87cd['id'],'inputType':_0x4d87cd['inputType'],'outputType':_0x4d87cd['outputType'],'totalVectors':_0x5d67e5['length']}),await _0x25a8a7(_0x152cc0,_0x5d67e5,_0x3b4515,_0x54d172,_0x573bf2);}(_0xdc8862,_0x389130,_0x372aa1,_0x2f425e,_0x532310,_0x1d5f40);}}async function _0x196c22(_0x2b6673,_0x208fdb,_0x1fc68b){const _0x34a710=_0x20cdf8;return(await _0x208fdb[_0x34a710(0x1c6)]({'type':_0x34a710(0x8cf),'prompt':_0x2b6673['content'],'threadId':''},{'model':_0x1fc68b}))['output'];}async function _0x1838f1(_0x3111a7,_0x53e59a,_0x19e63b,_0x5c67c7,_0x362a51){const _0x496980=_0x20cdf8,_0x2ff64f=Date[_0x496980(0x76a)]();if(_0x19e63b['accumulated']||(_0x19e63b[_0x496980(0x6aa)]={}),_0x53e59a instanceof Array?_0x19e63b[_0x496980(0x6aa)][_0x496980(0x503)]=_0x53e59a:_0x19e63b[_0x496980(0x6aa)]['entities']=_0x53e59a,_0x19e63b[_0x496980(0x811)]=_0x19e63b[_0x496980(0x811)]?_0x19e63b[_0x496980(0x811)]+0x1:0x1,_0x309046(_0x19e63b,_0x5c67c7)>_0x19e63b['timesCalled'])return;if(!_0x19e63b[_0x496980(0x6aa)][_0x496980(0x503)]||!_0x19e63b['accumulated'][_0x496980(0x83b)])throw new Error(_0x496980(0x5f2));const _0x4845b4=new Map();for(const _0x455f3b of _0x19e63b[_0x496980(0x6aa)][_0x496980(0x503)])_0x3e42d1(_0x455f3b[_0x496980(0x843)],_0x19e63b[_0x496980(0x6aa)]['entities'],_0x4845b4);_0x590d4b['trace']({'jobType':_0x31eb64[_0x496980(0x5ca)],'type':_0x421e71[_0x496980(0x49a)],'jobId':_0x3111a7,'blockId':_0x19e63b['id'],'traceLevel':_0x24ab69['Debug'],'timestamp':Date[_0x496980(0x76a)](),'startTime':_0x2ff64f,'status':'success','entities':_0x19e63b[_0x496980(0x6aa)]['entities'],'relations':_0x4845b4,'totalRelationsExtracted':_0x4845b4[_0x496980(0x3b4)]}),await _0x25a8a7(_0x3111a7,_0x4845b4,_0x19e63b,_0x5c67c7,_0x362a51);}function _0x3e42d1(_0x853487,_0x235827,_0x39d21b){const _0x33b285=_0x20cdf8;for(const _0x4f6c58 of _0x235827)for(const _0x1d2883 of _0x235827){if(_0x4f6c58===_0x1d2883)continue;const _0x2f91f8=_0x853487[_0x33b285(0x6a4)](_0x4f6c58),_0x1e32c8=_0x853487['indexOf'](_0x1d2883);-0x1!==_0x2f91f8&&-0x1!==_0x1e32c8&&(_0x39d21b[_0x33b285(0x6f2)](_0x4f6c58)||_0x39d21b['set'](_0x4f6c58,new Set()),_0x39d21b['get'](_0x4f6c58)['add'](_0x1d2883));}return _0x39d21b;}async function _0x37135e(_0x2b8aee,_0x3b57a3,_0x54fef8,_0x386a07,_0x443cb1){const _0x156279=_0x20cdf8,_0x4998dc=Date[_0x156279(0x76a)]();let _0x26c1da=[];if(_0x3b57a3 instanceof Array)for(const _0x1357c6 of _0x3b57a3){const _0x553086=await _0x443cb1[_0x156279(0x8bf)]['getSentences'](_0x1357c6[_0x156279(0x843)]);_0x26c1da=_0x26c1da[_0x156279(0x138)](_0x553086[_0x156279(0x7ea)](_0x4a055b=>({'content':_0x4a055b,'start':_0x1357c6[_0x156279(0x63c)],'length':_0x1357c6['length']})));}else _0x26c1da=(await _0x443cb1[_0x156279(0x8bf)][_0x156279(0x7bd)](_0x3b57a3))[_0x156279(0x7ea)](_0x2ae86c=>({'content':_0x2ae86c,'start':_0x3b57a3[_0x156279(0x6a4)](_0x2ae86c),'length':_0x2ae86c[_0x156279(0x51a)]}));_0x590d4b[_0x156279(0x3ed)]({'jobType':_0x31eb64[_0x156279(0x5ca)],'type':_0x421e71[_0x156279(0x778)],'jobId':_0x2b8aee,'blockId':_0x54fef8['id'],'traceLevel':_0x24ab69[_0x156279(0x866)],'startTime':_0x4998dc,'timestamp':Date[_0x156279(0x76a)](),'status':_0x156279(0x427),'totalSentences':_0x26c1da[_0x156279(0x51a)],'averageSentenceLength':_0x26c1da['reduce']((_0x1adc95,_0x5e2ec9)=>_0x1adc95+_0x5e2ec9['length'],0x0)/_0x26c1da['length']}),await _0x25a8a7(_0x2b8aee,_0x26c1da,_0x54fef8,_0x386a07,_0x443cb1);}function _0xdf3fe3(_0x57fb20,_0xb26b7a,_0x504c07,_0x30964c,_0x5b7fed){const _0x5aac9=_0x20cdf8,_0x1803a8=Date[_0x5aac9(0x76a)]();var _0x35f0bc;if(_0x504c07[_0x5aac9(0x6aa)]||(_0x504c07[_0x5aac9(0x6aa)]={}),_0xb26b7a instanceof Array?(_0x35f0bc=_0xb26b7a)[0x0]instanceof Array&&_0x5aac9(0x8eb)==typeof _0x35f0bc[0x0]?.[0x0]?_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0x1fb)]=_0xb26b7a:_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0x503)]=_0xb26b7a:_0x5aac9(0x478)==typeof _0xb26b7a?_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0x843)]=_0xb26b7a:_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0xb3)]=_0xb26b7a,_0x504c07[_0x5aac9(0x811)]=_0x504c07[_0x5aac9(0x811)]?_0x504c07[_0x5aac9(0x811)]+0x1:0x1,_0x309046(_0x504c07,_0x30964c)>_0x504c07['timesCalled'])return;if(!(_0x504c07[_0x5aac9(0x6aa)]['content']&&_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0x503)]&&_0x504c07['accumulated'][_0x5aac9(0x1fb)]&&_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0xb3)]))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x24eabb=_0x5b7fed['contentMediator'][_0x5aac9(0x817)](_0x504c07['id']);_0x24eabb[_0x5aac9(0x150)](_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0xb3)]['pathName'],_0x504c07['accumulated'][_0x5aac9(0x843)],_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0x503)],_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0x1fb)]),_0x590d4b['trace']({'jobType':_0x31eb64[_0x5aac9(0x5ca)],'type':_0x421e71['VectorDatabase'],'jobId':_0x57fb20,'blockId':_0x504c07['id'],'traceLevel':_0x24ab69[_0x5aac9(0x866)],'startTime':_0x1803a8,'timestamp':Date[_0x5aac9(0x76a)](),'status':_0x5aac9(0x427),'databaseName':_0x24eabb[_0x5aac9(0x5d5)](),'vectorsAdded':_0x504c07['accumulated']['vectors']['length'],'filePathName':_0x504c07[_0x5aac9(0x6aa)][_0x5aac9(0xb3)][_0x5aac9(0x5b5)]});}async function _0x38673b(_0x20e04a,_0x3dfa10,_0x43140f,_0x17ddd3,_0x504cdc){const _0x558cf1=_0x20cdf8,_0x5a0649=Date[_0x558cf1(0x76a)]();let _0x2ffb42=[];if(_0x3dfa10 instanceof Array){for(const _0x16fcce of _0x3dfa10)_0x2ffb42=_0x2ffb42[_0x558cf1(0x138)](_0xfa354d(_0x16fcce[_0x558cf1(0x843)],_0x43140f,_0x16fcce['start'],_0x16fcce[_0x558cf1(0x51a)]));}else _0x2ffb42=_0xfa354d(_0x3dfa10,_0x43140f);_0x590d4b[_0x558cf1(0x3ed)]({'jobType':_0x31eb64[_0x558cf1(0x5ca)],'type':_0x421e71['WordSplitter'],'jobId':_0x20e04a,'traceLevel':_0x24ab69[_0x558cf1(0x866)],'blockId':_0x43140f['id'],'startTime':_0x5a0649,'timestamp':Date[_0x558cf1(0x76a)](),'status':_0x558cf1(0x427),'totalChunks':_0x2ffb42[_0x558cf1(0x51a)],'averageChunkLength':_0x2ffb42['reduce']((_0x2c6176,_0x52c5ca)=>_0x2c6176+_0x52c5ca['length'],0x0)/_0x2ffb42[_0x558cf1(0x51a)]}),await _0x25a8a7(_0x20e04a,_0x2ffb42,_0x43140f,_0x17ddd3,_0x504cdc);}function _0xfa354d(_0x2dfcfb,_0x2eccda,_0x4f0d87,_0x2c06b7){const _0x5ca108=_0x20cdf8,_0x5af571=[],_0xc2c46b=_0x2dfcfb['split']('\x20');let _0x328fe5='',_0x31bf06=0x0,_0x445588=0x0,_0x27a165=0x0;for(const _0xfa7201 of _0xc2c46b){if(_0x328fe5[_0x5ca108(0x51a)]+_0xfa7201[_0x5ca108(0x51a)]>_0x2eccda['attributes']['size']){const _0x4a8a17=_0x328fe5[_0x5ca108(0x51a)];let _0x540801=_0x31bf06,_0x8d1e5c='';for(;_0x540801>=0x0&&_0x8d1e5c[_0x5ca108(0x51a)]+_0xc2c46b[_0x540801][_0x5ca108(0x51a)]<_0x2eccda[_0x5ca108(0x1cf)][_0x5ca108(0x2e4)];)_0x8d1e5c=_0xc2c46b[_0x540801]+'\x20'+_0x8d1e5c,_0x540801--;let _0x1f1a0b=_0x445588,_0x2ea8ad='';for(;_0x1f1a0b<_0xc2c46b[_0x5ca108(0x51a)]&&_0x2ea8ad[_0x5ca108(0x51a)]+_0xc2c46b[_0x1f1a0b][_0x5ca108(0x51a)]<_0x2eccda[_0x5ca108(0x1cf)][_0x5ca108(0x2e4)];)_0x2ea8ad+=_0xc2c46b[_0x1f1a0b]+'\x20',_0x1f1a0b++;_0x328fe5=_0x8d1e5c+_0x328fe5+_0x2ea8ad,_0x5af571[_0x5ca108(0x82c)]({'content':_0x328fe5['trim'](),'start':_0x4f0d87??_0x27a165,'length':_0x2c06b7??_0x328fe5[_0x5ca108(0x51a)]}),_0x328fe5='',_0x31bf06=_0x445588,_0x27a165+=_0x4a8a17;}_0x328fe5+=_0xfa7201+'\x20',_0x445588++;}if(_0x328fe5[_0x5ca108(0x51a)]>0x0){const _0x1486fd=_0x328fe5[_0x5ca108(0x51a)];let _0x415b51=_0x31bf06,_0x2688b5='';for(;_0x415b51>=0x0&&_0x2688b5['length']+_0xc2c46b[_0x415b51]['length']<_0x2eccda[_0x5ca108(0x1cf)]['overlap'];)_0x2688b5=_0xc2c46b[_0x415b51]+'\x20'+_0x2688b5,_0x415b51--;_0x328fe5=_0x2688b5+_0x328fe5,_0x5af571[_0x5ca108(0x82c)]({'content':_0x328fe5[_0x5ca108(0x5e2)](),'start':_0x4f0d87??_0x27a165,'length':_0x2c06b7??_0x1486fd});}return _0x5af571;}async function _0x25a8a7(_0x545f03,_0x59d132,_0x1739c7,_0x42c5b0,_0x30fbae){const _0xade2ad=_0x20cdf8;for(const _0x279120 of _0x1739c7[_0xade2ad(0xcb)]||[]){const _0x46a1d8=_0x42c5b0[_0xade2ad(0x819)](_0x2b57ae=>_0x2b57ae[_0xade2ad(0xb9)]===_0x279120[_0xade2ad(0xb9)]);if(_0x46a1d8)switch(_0x46a1d8[_0xade2ad(0x6f6)]){case _0x2c5e66[_0xade2ad(0x782)]:await _0x309186(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66[_0xade2ad(0x3cd)]:await _0x15d74c(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66[_0xade2ad(0x183)]:await _0x58c20e(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66[_0xade2ad(0x48d)]:_0x22d500(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66['Model']:await _0x2fb999(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66[_0xade2ad(0x49a)]:await _0x1838f1(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66[_0xade2ad(0x778)]:await _0x37135e(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66['VectorDatabase']:_0xdf3fe3(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);break;case _0x2c5e66[_0xade2ad(0x2e6)]:await _0x38673b(_0x545f03,_0x59d132,_0x46a1d8,_0x42c5b0,_0x30fbae);}}}function _0x309046(_0x120e07,_0x3bb3ed){const _0x393d25=_0x20cdf8;return _0x3bb3ed[_0x393d25(0xb7)](_0x1aa221=>_0x1aa221[_0x393d25(0xcb)]?.[_0x393d25(0x2a2)](_0x3c45a7=>_0x3c45a7[_0x393d25(0xb9)]===_0x120e07[_0x393d25(0xb9)]))[_0x393d25(0x51a)];}async function _0xeb4cf4(_0xc5eefa,_0x488eff,_0x26cf19,_0x469e84,_0x3e85a4){const _0x108446=_0x20cdf8;try{let _0x2c0df9;switch(_0x26cf19['type']){case _0x2c5e66['ObjectStorageUpload']:const _0x2433c8=_0x3e85a4['contentMediator'][_0x108446(0x4ae)](_0x26cf19['id']);_0x2c0df9=await _0x2433c8[_0x108446(0x333)](_0x488eff);break;case _0x2c5e66['ExternalStorageUpload']:const _0xcfd22f=_0x3e85a4[_0x108446(0x179)][_0x108446(0x4c5)](_0x26cf19['id']);_0x2c0df9=await _0xcfd22f['get'](_0x488eff);}if(!_0x2c0df9)throw new Error(_0x108446(0x14a));await _0x25a8a7(_0xc5eefa,{'file':_0x2c0df9,'pathName':_0x488eff},_0x26cf19,structuredClone(_0x469e84),_0x3e85a4);}catch(_0x1cca63){console[_0x108446(0x7b5)]('Error\x20processing\x20ingest',_0x1cca63);}}async function _0x1df0d6(_0x2b940a,_0x3c4b31,_0x1a4bc3,_0x5ac8b,_0x1dee99,_0x541e7e,_0x2ba4ba){const _0x57db0c=_0x20cdf8,_0x1fff1f=Date['now'](),_0x4e55cd=new Set();if(_0x1a4bc3 instanceof Array){for(const _0x3d35cf of _0x1a4bc3)await _0x3ed1ad(_0x3d35cf[_0x57db0c(0x843)],_0x1dee99,_0x4e55cd,_0x2ba4ba[_0x57db0c(0x8bf)]);}else await _0x3ed1ad(_0x1a4bc3,_0x1dee99,_0x4e55cd,_0x2ba4ba[_0x57db0c(0x8bf)]);_0x590d4b[_0x57db0c(0x3ed)]({'jobType':_0x31eb64[_0x57db0c(0x388)],'type':_0x3ab9c8[_0x57db0c(0x183)],'jobId':_0x2b940a,'threadId':_0x3c4b31,'blockId':_0x1dee99['id'],'traceLevel':_0x24ab69['Debug'],'startTime':_0x1fff1f,'timestamp':Date['now'](),'status':_0x57db0c(0x427),'content':_0x1a4bc3,'entitiesExtracted':Array[_0x57db0c(0x473)](_0x4e55cd),'totalEntities':_0x4e55cd['size']}),await _0xc3e0(_0x2b940a,_0x3c4b31,_0x4e55cd,_0x5ac8b,_0x1dee99,_0x541e7e,_0x2ba4ba);}async function _0x3ed1ad(_0x34c65b,_0x4e5457,_0xc10451,_0x193469){const _0x29e791=_0x20cdf8,_0x3966f6=await _0x193469[_0x29e791(0x490)](_0x34c65b,{'ner':_0x4e5457[_0x29e791(0x1cf)][_0x29e791(0x1fe)],'noun':_0x4e5457[_0x29e791(0x1cf)]['noun'],'propn':_0x4e5457[_0x29e791(0x1cf)][_0x29e791(0x7ad)],'verb':_0x4e5457[_0x29e791(0x1cf)][_0x29e791(0x670)]});for(const _0x44ac28 of _0x3966f6)_0xc10451[_0x29e791(0x43e)](_0x44ac28);}async function _0x1b7340(_0x2fdea5,_0x5099ba,_0x81077b,_0x114cef,_0x54cca8,_0x16f721,_0x46f121){const _0x1bd7b1=_0x20cdf8,_0x340c0f=Date[_0x1bd7b1(0x76a)]();if(_0x54cca8['accumulated']||(_0x54cca8['accumulated']={}),_0x81077b instanceof Array?(_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8e8)]||(_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8e8)]=[]),_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8e8)][_0x1bd7b1(0x82c)](..._0x81077b)):_0x81077b instanceof Set?_0x54cca8[_0x1bd7b1(0x6aa)]['entities']=_0x81077b:_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8cf)]=_0x81077b,_0x54cca8[_0x1bd7b1(0x811)]=_0x54cca8[_0x1bd7b1(0x811)]?_0x54cca8[_0x1bd7b1(0x811)]+0x1:0x1,_0x4ed20c(_0x54cca8,_0x16f721)>_0x54cca8[_0x1bd7b1(0x811)])return;if(!_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8cf)]&&!_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8e8)]||!_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x83b)])throw new Error(_0x1bd7b1(0x719));const _0x395251=_0x46f121[_0x1bd7b1(0x179)][_0x1bd7b1(0x740)](_0x54cca8['id'])[_0x1bd7b1(0x17a)](Array[_0x1bd7b1(0x473)](_0x54cca8[_0x1bd7b1(0x6aa)]['entities']),_0x54cca8['attributes']['maxDepth'],_0x54cca8[_0x1bd7b1(0x1cf)][_0x1bd7b1(0x87b)]);let _0xd30269=[];for(const _0x497734 in _0x395251){const _0x248f50=_0x395251[_0x497734];for(const _0x5b639c of _0x248f50){let _0x4d0589=0x0;if(_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8cf)]&&(_0x4d0589=await _0x46f121[_0x1bd7b1(0x8bf)][_0x1bd7b1(0x648)](_0x54cca8[_0x1bd7b1(0x6aa)]['prompt'],_0x5b639c)),_0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8e8)]){for(const _0x24dd80 of _0x54cca8[_0x1bd7b1(0x6aa)][_0x1bd7b1(0x8e8)])_0x4d0589=Math[_0x1bd7b1(0x87d)](_0x4d0589,await _0x46f121['nlpLibraryConnector'][_0x1bd7b1(0x648)](_0x24dd80['content'],_0x5b639c));}_0x4d0589<_0x54cca8[_0x1bd7b1(0x1cf)][_0x1bd7b1(0x260)]||_0xd30269[_0x1bd7b1(0x82c)]({'content':_0x5b639c,'relevance':_0x4d0589,'pathName':_0x497734});}}_0xd30269=_0xd30269[_0x1bd7b1(0x165)]((_0x1b6f2d,_0xdde79)=>_0xdde79['relevance']-_0x1b6f2d['relevance'])[_0x1bd7b1(0x2de)](0x0,_0x54cca8['attributes']['topK']),_0x590d4b[_0x1bd7b1(0x3ed)]({'jobType':_0x31eb64[_0x1bd7b1(0x388)],'type':_0x3ab9c8[_0x1bd7b1(0x535)],'jobId':_0x2fdea5,'threadId':_0x5099ba,'blockId':_0x54cca8['id'],'traceLevel':_0x24ab69[_0x1bd7b1(0x866)],'timestamp':Date[_0x1bd7b1(0x76a)](),'startTime':_0x340c0f,'status':'success','content':_0x81077b,'topResults':_0xd30269,'numResults':_0xd30269['length']}),await _0xc3e0(_0x2fdea5,_0x5099ba,_0xd30269,_0x114cef,_0x54cca8,_0x16f721,_0x46f121);}async function _0x1f4cd8(_0x12f0b7,_0x7e00e6,_0x36efa8,_0x49f259,_0x31225b,_0x5352fc,_0x3fd9e9){const _0x555cc7=_0x20cdf8,_0x2cdc8e=_0x3fd9e9[_0x555cc7(0x675)][_0x555cc7(0x819)](_0x1e51cf=>_0x1e51cf['id']===_0x31225b['id']);if(!_0x2cdc8e)throw new Error(_0x555cc7(0x666));let _0x1c857b='';switch(_0x1c857b=_0x36efa8 instanceof Array?_0x36efa8[_0x555cc7(0x7ea)](_0x45f343=>_0x45f343[_0x555cc7(0x843)])['join'](',\x20'):_0x36efa8,_0x2cdc8e[_0x555cc7(0x4b2)]){case _0x3b754d[_0x555cc7(0x448)][_0x555cc7(0x8cc)]:await async function(_0x5a1534,_0x2fe37f,_0x1ec855,_0x5d2edc,_0xfde027,_0x1d65cc,_0x482169,_0x1edbfe){const _0x506fee=_0x555cc7,_0x39c992=Date[_0x506fee(0x76a)](),_0x397e80=_0x1edbfe['generativeAIWorkerConnectors'][_0x506fee(0x819)](_0x3c5216=>_0x3c5216['getEngineType']()===_0xfde027[_0x506fee(0x246)]);if(!_0x397e80)throw new Error(_0x506fee(0x814));const _0x27a1b2=await async function(_0x5bb953,_0x2ec09a,_0x85b7b6,_0x464c4a,_0x25d863){const _0xe94636=_0x506fee,_0x5da14f={'type':_0xe94636(0x8cf),'prompt':_0x2ec09a,'threadId':_0x5bb953};_0x85b7b6[_0xe94636(0x4df)][_0xe94636(0x51a)]>0x0&&(_0x5da14f[_0xe94636(0x4b7)]=_0xe94636(0x28d)+_0x85b7b6[_0xe94636(0x4df)][_0xe94636(0x7ea)](_0x3dcda1=>_0xe94636(0x112)+_0x3dcda1[_0xe94636(0x5b5)]+':\x20'+_0x3dcda1[_0xe94636(0x843)])['join']('\x0a'));const _0x2fdab5=await _0x464c4a[_0xe94636(0x1c6)](_0x5da14f,{'model':_0x25d863});if(_0x2fdab5[_0xe94636(0x316)]instanceof Array)throw new Error(_0xe94636(0x661));return _0x85b7b6['inputTokens']+=_0x2fdab5[_0xe94636(0x39d)]??0x0,_0x85b7b6['outputTokens']+=_0x2fdab5[_0xe94636(0x7f6)]??0x0,_0x2fdab5[_0xe94636(0x316)];}(_0x2fe37f,_0x1ec855,_0x5d2edc,_0x397e80,_0xfde027);_0x590d4b[_0x506fee(0x3ed)]({'jobType':_0x31eb64['Retrieve'],'type':_0x3ab9c8[_0x506fee(0x5ce)],'jobId':_0x5a1534,'threadId':_0x2fe37f,'blockId':_0x1d65cc['id'],'traceLevel':_0x24ab69[_0x506fee(0x866)],'startTime':_0x39c992,'timestamp':Date['now'](),'status':'success','modelName':_0xfde027['id'],'content':_0x1ec855,'newPrompt':_0x27a1b2,'inputType':_0xfde027[_0x506fee(0x4e7)],'outputType':_0xfde027[_0x506fee(0x4b2)]}),await _0xc3e0(_0x5a1534,_0x2fe37f,_0x27a1b2,_0x5d2edc,_0x1d65cc,_0x482169,_0x1edbfe);}(_0x12f0b7,_0x7e00e6,_0x1c857b,_0x49f259,_0x2cdc8e,_0x31225b,_0x5352fc,_0x3fd9e9);break;case _0x3b754d[_0x555cc7(0x448)][_0x555cc7(0x77b)]:await async function(_0x417e1a,_0x276463,_0x555cd,_0x465b1e,_0xa9dd1a,_0x13fb96,_0x3dad36,_0x41fb4f){const _0x372e5c=_0x555cc7,_0x44ec49=Date['now'](),_0x403dc2=_0x41fb4f[_0x372e5c(0x6b4)]['find'](_0x110bdd=>_0x110bdd[_0x372e5c(0x429)]()===_0xa9dd1a[_0x372e5c(0x246)]);if(!_0x403dc2)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x57b87c=await async function(_0x3c0e9b,_0xba20aa,_0x32cef4,_0x2abcad){const _0x2ae80c=_0x372e5c;return(await _0x32cef4[_0x2ae80c(0x1c6)]({'type':_0x2ae80c(0x8cf),'prompt':_0xba20aa,'threadId':_0x3c0e9b},{'model':_0x2abcad}))[_0x2ae80c(0x316)];}(_0x276463,_0x555cd,_0x403dc2,_0xa9dd1a);_0x590d4b[_0x372e5c(0x3ed)]({'jobType':_0x31eb64[_0x372e5c(0x388)],'type':_0x3ab9c8[_0x372e5c(0x58a)],'jobId':_0x417e1a,'threadId':_0x276463,'blockId':_0x13fb96['id'],'traceLevel':_0x24ab69[_0x372e5c(0x866)],'startTime':_0x44ec49,'timestamp':Date['now'](),'status':_0x372e5c(0x427),'modelName':_0xa9dd1a['id'],'content':_0x555cd,'totalVectors':_0x57b87c['length']}),await _0xc3e0(_0x417e1a,_0x276463,_0x57b87c,_0x465b1e,_0x13fb96,_0x3dad36,_0x41fb4f);}(_0x12f0b7,_0x7e00e6,_0x1c857b,_0x49f259,_0x2cdc8e,_0x31225b,_0x5352fc,_0x3fd9e9);}}async function _0x3adccd(_0x5f390b,_0x3a3250,_0x3e4e85,_0x53c7b4,_0xc84fc2,_0x58d424,_0x3908d4){const _0x5adc58=_0x20cdf8,_0x3f30db=Date[_0x5adc58(0x76a)](),_0x14c7ac=_0x3908d4[_0x5adc58(0x179)][_0x5adc58(0x817)](_0xc84fc2['id'])['search'](_0x3e4e85,_0xc84fc2[_0x5adc58(0x1cf)][_0x5adc58(0x827)],_0xc84fc2[_0x5adc58(0x1cf)][_0x5adc58(0x260)],_0xc84fc2[_0x5adc58(0x1cf)][_0x5adc58(0x87b)]);_0x590d4b[_0x5adc58(0x3ed)]({'jobType':_0x31eb64[_0x5adc58(0x388)],'type':_0x3ab9c8[_0x5adc58(0x55c)],'jobId':_0x5f390b,'threadId':_0x3a3250,'blockId':_0xc84fc2['id'],'traceLevel':_0x24ab69[_0x5adc58(0x866)],'startTime':_0x3f30db,'timestamp':Date[_0x5adc58(0x76a)](),'status':_0x5adc58(0x427),'topResults':_0x14c7ac,'numResults':_0x14c7ac['length']}),await _0xc3e0(_0x5f390b,_0x3a3250,_0x14c7ac,_0x53c7b4,_0xc84fc2,_0x58d424,_0x3908d4);}async function _0x279dcf(_0x25e383,_0x4c4255,_0x4cf5a5,_0x24be31,_0x39fd4a,_0x59995c,_0x25d8a3){const _0x194d19=_0x20cdf8,_0x9d8e4e=Date[_0x194d19(0x76a)]();if(_0x39fd4a[_0x194d19(0x6aa)]||(_0x39fd4a[_0x194d19(0x6aa)]={}),_0x4cf5a5 instanceof Array?(_0x39fd4a['accumulated'][_0x194d19(0x8e8)]||(_0x39fd4a[_0x194d19(0x6aa)][_0x194d19(0x8e8)]=[]),_0x39fd4a[_0x194d19(0x6aa)][_0x194d19(0x8e8)]['push'](..._0x4cf5a5)):_0x39fd4a[_0x194d19(0x6aa)][_0x194d19(0x8cf)]=_0x4cf5a5,_0x39fd4a['timesCalled']=_0x39fd4a[_0x194d19(0x811)]?_0x39fd4a[_0x194d19(0x811)]+0x1:0x1,_0x4ed20c(_0x39fd4a,_0x59995c)>_0x39fd4a['timesCalled'])return;if(!_0x39fd4a[_0x194d19(0x6aa)]['prompt']||!_0x39fd4a['accumulated'][_0x194d19(0x8e8)])throw new Error(_0x194d19(0x73c));for(const _0x446e0b of _0x39fd4a['accumulated'][_0x194d19(0x8e8)])_0x446e0b['relevance']=await _0x25d8a3[_0x194d19(0x8bf)][_0x194d19(0x648)](_0x39fd4a['accumulated']['prompt'],_0x446e0b[_0x194d19(0x843)]);const _0x57a011=_0x39fd4a[_0x194d19(0x6aa)][_0x194d19(0x8e8)][_0x194d19(0xb7)](_0x3b8da0=>_0x3b8da0[_0x194d19(0x8a7)]>_0x39fd4a[_0x194d19(0x1cf)][_0x194d19(0x260)])[_0x194d19(0x165)]((_0x4c94e5,_0x4d1867)=>_0x4d1867[_0x194d19(0x8a7)]-_0x4c94e5['relevance'])[_0x194d19(0x2de)](0x0,_0x39fd4a[_0x194d19(0x1cf)][_0x194d19(0x827)]);_0x590d4b[_0x194d19(0x3ed)]({'jobType':_0x31eb64[_0x194d19(0x388)],'type':_0x3ab9c8['Reranker'],'jobId':_0x25e383,'threadId':_0x4c4255,'blockId':_0x39fd4a['id'],'traceLevel':_0x24ab69[_0x194d19(0x866)],'startTime':_0x9d8e4e,'timestamp':Date[_0x194d19(0x76a)](),'status':_0x194d19(0x427),'inputResults':_0x39fd4a['accumulated']['results'],'rerankedResults':_0x57a011}),await _0xc3e0(_0x25e383,_0x4c4255,_0x57a011,_0x24be31,_0x39fd4a,_0x59995c,_0x25d8a3);}async function _0xc3e0(_0x54df79,_0x2ec219,_0x573b15,_0x279dfb,_0x2bf846,_0x4f0de6,_0x485de0){const _0xb8ded6=_0x20cdf8;for(const _0x2ccb18 of _0x2bf846[_0xb8ded6(0xcb)]||[]){const _0x2f0ea6=_0x4f0de6[_0xb8ded6(0x819)](_0x536905=>_0x536905[_0xb8ded6(0xb9)]===_0x2ccb18[_0xb8ded6(0xb9)]);if(_0x2f0ea6)switch(_0x2f0ea6[_0xb8ded6(0x6f6)]){case _0x2c5e66['Context']:_0x279dfb[_0xb8ded6(0x4df)][_0xb8ded6(0x82c)](..._0x573b15);break;case _0x2c5e66[_0xb8ded6(0x183)]:await _0x1df0d6(_0x54df79,_0x2ec219,_0x573b15,_0x279dfb,_0x2f0ea6,_0x4f0de6,_0x485de0);break;case _0x2c5e66[_0xb8ded6(0x48d)]:await _0x1b7340(_0x54df79,_0x2ec219,_0x573b15,_0x279dfb,_0x2f0ea6,_0x4f0de6,_0x485de0);break;case _0x2c5e66[_0xb8ded6(0x27a)]:await _0x1f4cd8(_0x54df79,_0x2ec219,_0x573b15,_0x279dfb,_0x2f0ea6,_0x4f0de6,_0x485de0);break;case _0x2c5e66[_0xb8ded6(0x78b)]:await _0x279dcf(_0x54df79,_0x2ec219,_0x573b15,_0x279dfb,_0x2f0ea6,_0x4f0de6,_0x485de0);break;case _0x2c5e66[_0xb8ded6(0x345)]:await _0x3adccd(_0x54df79,_0x2ec219,_0x573b15,_0x279dfb,_0x2f0ea6,_0x4f0de6,_0x485de0);}}}function _0x4ed20c(_0x356b4e,_0x29972a){const _0x287d9c=_0x20cdf8;return _0x29972a[_0x287d9c(0xb7)](_0x2d4768=>_0x2d4768[_0x287d9c(0xcb)]?.['some'](_0x49b4a1=>_0x49b4a1[_0x287d9c(0xb9)]===_0x356b4e[_0x287d9c(0xb9)]))['length'];}async function _0x440381(_0x136686,_0xe432c8,_0x5aa551,_0x4c9f3f,_0x248e95,_0x1f5aa0){const _0x3d7cd5=_0x20cdf8,_0x2008da={'type':_0x3d7cd5(0x8cf),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0xc3e0(_0x136686,_0xe432c8,_0x5aa551,_0x2008da,_0x4c9f3f,structuredClone(_0x248e95),_0x1f5aa0),_0x2008da[_0x3d7cd5(0x316)]=_0x3d7cd5(0x28d)+_0x2008da['context']['map'](_0x261244=>'From\x20'+_0x261244[_0x3d7cd5(0x5b5)]+':\x20'+_0x261244[_0x3d7cd5(0x843)])[_0x3d7cd5(0x1e1)]('\x0a');}catch(_0xd1266b){console[_0x3d7cd5(0x7b5)](_0x3d7cd5(0x341),_0xd1266b);}return _0x2008da;}function _0x25f198(_0x203ab5,_0x3d2808,_0x4c091c,_0x55e847,_0x29333e,_0x363d70,_0x2f3a2e){const _0x2ab7d3=_0x20cdf8,_0x65e11b=new Map(),_0x53326a=_0x363d70['filter'](_0x36b861=>_0x36b861[_0x2ab7d3(0xcb)]?.[_0x2ab7d3(0x819)](_0x5de9df=>_0x5de9df['uid']===_0x29333e[_0x2ab7d3(0xb9)]&&(_0x5de9df['type']===_0x5228f3[_0x2ab7d3(0x60e)]||_0x5de9df['type']===_0x5228f3[_0x2ab7d3(0x64b)])));for(const _0x279e50 of _0x53326a)_0x279e50[_0x2ab7d3(0x6f6)]===_0x27c700[_0x2ab7d3(0x60e)]||_0x279e50[_0x2ab7d3(0x6f6)]===_0x27c700[_0x2ab7d3(0x3a8)]?_0x65e11b[_0x2ab7d3(0xaf)]('searchInDataCollection'+_0x279e50['id'],_0x584480(_0x203ab5,_0x3d2808,_0x4c091c,_0x55e847,_0x279e50,_0x2f3a2e)):_0x65e11b['set'](_0x22fb15(_0x279e50),_0x3d4356(_0x203ab5,_0x3d2808,_0x4c091c,_0x279e50,_0x2f3a2e));return _0x65e11b;}function _0x584480(_0x5f3443,_0x21e613,_0xca8ed9,_0x5580bd,_0x2be29b,_0x5088a8){const _0x46efa3=_0x20cdf8,_0xa422b6=_0x46efa3(0x35b)+_0x2be29b[_0x46efa3(0x3db)]+_0x46efa3(0x4c2),_0x268394={'queryOrPrompt':{'type':_0x3b754d[_0x46efa3(0x484)][_0x46efa3(0xae)]}};return _0x590d4b['trace']({'jobType':_0x31eb64[_0x46efa3(0x641)],'type':_0x38de1c['LoadKnowledgeFunction'],'jobId':_0x5f3443,'agentId':_0x21e613,'threadId':_0xca8ed9,'blockId':_0x2be29b['id'],'traceLevel':_0x24ab69['Info'],'startTime':Date[_0x46efa3(0x76a)](),'timestamp':Date[_0x46efa3(0x76a)](),'status':_0x46efa3(0x427),'function':_0x135fa9[_0x46efa3(0x53f)],'params':_0x268394,'functionDescription':_0xa422b6}),{'description':_0xa422b6,'params':_0x268394,'callback':async _0x188683=>{const _0x14809a=_0x46efa3,_0x36ee9c=Date['now']();if(_0x14809a(0x478)!=typeof _0x188683?.[_0x14809a(0x6e3)])return _0x14809a(0x1dc);try{const _0x36444d=_0x2be29b[_0x14809a(0x58b)][_0x14809a(0x819)](_0x47766b=>_0x47766b['type']===_0x2c5e66['Prompt']),_0x1a0f15=await _0x440381(_0x5f3443,_0xca8ed9,_0x188683[_0x14809a(0x6e3)],_0x36444d,_0x2be29b[_0x14809a(0x58b)],_0x5088a8);return _0x5580bd[_0x14809a(0x4df)]=Array['from'](new Set([..._0x5580bd[_0x14809a(0x4df)],..._0x1a0f15['context']])),_0x5580bd[_0x14809a(0x39d)]+=_0x1a0f15[_0x14809a(0x39d)]??0x0,_0x5580bd['outputTokens']+=_0x1a0f15[_0x14809a(0x7f6)]??0x0,_0x590d4b['trace']({'jobType':_0x31eb64[_0x14809a(0x60e)],'type':_0x135fa9[_0x14809a(0x2be)],'jobId':_0x5f3443,'blockId':_0x2be29b['id'],'agentId':_0x21e613,'threadId':_0xca8ed9,'traceLevel':_0x24ab69[_0x14809a(0x645)],'startTime':_0x36ee9c,'timestamp':Date['now'](),'status':_0x14809a(0x427),'query':_0x188683[_0x14809a(0x6e3)],'context':_0x1a0f15[_0x14809a(0x4df)]??[],'inputTokens':_0x1a0f15['inputTokens']??0x0,'outputTokens':_0x1a0f15['outputTokens']??0x0}),_0x1a0f15['output'];}catch(_0x53fbc0){return console['error'](_0x53fbc0),_0x590d4b[_0x14809a(0x3ed)]({'jobType':_0x31eb64['Knowledge'],'type':_0x135fa9[_0x14809a(0x2be)],'jobId':_0x5f3443,'blockId':_0x2be29b['id'],'agentId':_0x21e613,'threadId':_0xca8ed9,'traceLevel':_0x24ab69[_0x14809a(0x645)],'startTime':_0x36ee9c,'timestamp':Date['now'](),'status':'error','errorDetails':_0x5f0034(_0x53fbc0),'query':_0x188683['queryOrPrompt'],'context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x14809a(0x7df);}}};}function _0x22fb15(_0x52a2fa){const _0x33305f=_0x20cdf8;switch(_0x52a2fa[_0x33305f(0x6f6)]){case _0x27c700[_0x33305f(0x3e2)]:return'getCurrentDate';case _0x27c700[_0x33305f(0x597)]:return'executeJavascriptCodeSnippet';case _0x27c700['Search']:return _0x33305f(0x2bc);case _0x27c700[_0x33305f(0x36a)]:return _0x33305f(0x71b);}throw new Error(_0x33305f(0x70a));}function _0x3d4356(_0x49612c,_0x124a3b,_0x524dc5,_0x16ec37,_0x18a0f7){const _0x998758=_0x20cdf8;switch(_0x16ec37[_0x998758(0x6f6)]){case _0x27c700[_0x998758(0x3e2)]:return function(_0x5eb37c,_0x39e258,_0x37827b,_0x3309bf){const _0x583bf7=_0x998758,_0x1caae7=_0x583bf7(0x7f1);return _0x590d4b[_0x583bf7(0x3ed)]({'jobType':_0x31eb64['JobContext'],'type':_0x38de1c[_0x583bf7(0x77a)],'jobId':_0x5eb37c,'agentId':_0x39e258,'threadId':_0x37827b,'traceLevel':_0x24ab69[_0x583bf7(0x645)],'startTime':Date[_0x583bf7(0x76a)](),'timestamp':Date['now'](),'status':_0x583bf7(0x427),'function':_0x1bd4f1[_0x583bf7(0xec)],'params':{},'functionDescription':_0x1caae7}),{'description':_0x1caae7,'callback':()=>{const _0x5af6a5=_0x583bf7,_0x38035c=Date[_0x5af6a5(0x76a)](),_0x417198=new Date()[_0x5af6a5(0x5c2)]();return _0x590d4b[_0x5af6a5(0x3ed)]({'jobType':_0x31eb64[_0x5af6a5(0x64b)],'type':_0x1bd4f1['GetDate'],'jobId':_0x5eb37c,'agentId':_0x39e258,'threadId':_0x37827b,'blockId':_0x3309bf,'traceLevel':_0x24ab69[_0x5af6a5(0x645)],'startTime':_0x38035c,'timestamp':Date['now'](),'status':_0x5af6a5(0x427),'date':_0x417198}),_0x417198;}};}(_0x49612c,_0x124a3b,_0x524dc5,_0x16ec37['id']);case _0x27c700[_0x998758(0x597)]:return function(_0x28da88,_0x1b9cef,_0x1cce5f,_0xe7d63e){const _0x2311a1=_0x998758,_0x576ca5='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x3818c1={'code':{'type':_0x3b754d[_0x2311a1(0x484)][_0x2311a1(0xae)]}};return _0x590d4b[_0x2311a1(0x3ed)]({'jobType':_0x31eb64[_0x2311a1(0x641)],'type':_0x38de1c[_0x2311a1(0x77a)],'jobId':_0x28da88,'agentId':_0x1b9cef,'threadId':_0x1cce5f,'traceLevel':_0x24ab69[_0x2311a1(0x645)],'startTime':Date[_0x2311a1(0x76a)](),'timestamp':Date[_0x2311a1(0x76a)](),'status':_0x2311a1(0x427),'function':_0x1bd4f1[_0x2311a1(0x53d)],'params':_0x3818c1,'functionDescription':_0x576ca5}),{'description':_0x576ca5,'params':_0x3818c1,'callback':_0x3c6142=>{const _0x4b61dc=_0x2311a1,_0xe154a1=Date[_0x4b61dc(0x76a)]();if(_0x4b61dc(0x478)!=typeof _0x3c6142?.['code'])return _0x4b61dc(0x681);try{const _0x13cb23=Function(''+_0x3c6142?.[_0x4b61dc(0x279)])();let _0x500252='';try{_0x500252=JSON[_0x4b61dc(0x8f7)](_0x13cb23);}catch{_0x500252=_0x13cb23[_0x4b61dc(0xca)]();}return _0x590d4b[_0x4b61dc(0x3ed)]({'jobType':_0x31eb64['Skill'],'type':_0x1bd4f1[_0x4b61dc(0x53d)],'agentId':_0x1b9cef,'threadId':_0x1cce5f,'jobId':_0x28da88,'blockId':_0xe7d63e,'traceLevel':_0x24ab69[_0x4b61dc(0x645)],'startTime':_0xe154a1,'timestamp':Date[_0x4b61dc(0x76a)](),'status':_0x4b61dc(0x427),'code':_0x3c6142['code'],'result':_0x500252}),_0x13cb23;}catch(_0x270abd){return console[_0x4b61dc(0x7b5)](_0x270abd),_0x590d4b[_0x4b61dc(0x3ed)]({'jobType':_0x31eb64['Skill'],'type':_0x1bd4f1[_0x4b61dc(0x53d)],'jobId':_0x28da88,'blockId':_0xe7d63e,'traceLevel':_0x24ab69['Info'],'startTime':_0xe154a1,'timestamp':Date[_0x4b61dc(0x76a)](),'status':_0x4b61dc(0x7b5),'errorDetails':_0x5f0034(_0x270abd),'agentId':_0x1b9cef,'threadId':_0x1cce5f,'code':_0x3c6142[_0x4b61dc(0x279)],'result':_0x4b61dc(0x673)}),_0x4b61dc(0x673);}}};}(_0x49612c,_0x124a3b,_0x524dc5,_0x16ec37['id']);case _0x27c700['Search']:return function(_0x1f2489,_0x2a6ae7,_0x24bfbd,_0x142870,_0x59a185,_0x1587c8){const _0x3c16b7=_0x998758,_0x1a954e=_0x3c16b7(0x5b1),_0x1ffb9a={'query':{'type':_0x3b754d[_0x3c16b7(0x484)][_0x3c16b7(0xae)]}};return _0x590d4b[_0x3c16b7(0x3ed)]({'jobType':_0x31eb64[_0x3c16b7(0x641)],'type':_0x38de1c['LoadSkillFunction'],'jobId':_0x1f2489,'agentId':_0x2a6ae7,'threadId':_0x24bfbd,'traceLevel':_0x24ab69['Info'],'startTime':Date[_0x3c16b7(0x76a)](),'timestamp':Date[_0x3c16b7(0x76a)](),'status':'success','function':_0x1bd4f1[_0x3c16b7(0x5ad)],'params':_0x1ffb9a,'functionDescription':_0x1a954e}),{'description':_0x1a954e,'params':_0x1ffb9a,'callback':async _0xb25d4a=>{const _0x2054f7=_0x3c16b7,_0x3871dd=Date[_0x2054f7(0x76a)]();if(!_0x1587c8[_0x2054f7(0x393)])return _0x2054f7(0x72e);if('string'!=typeof _0xb25d4a?.['query'])return'Query\x20is\x20required';try{const _0x3629a5=await _0x1587c8[_0x2054f7(0x393)][_0x2054f7(0x271)](_0xb25d4a[_0x2054f7(0x689)],_0x59a185,_0x3362fe[_0x2054f7(0x8fe)][_0x2054f7(0x880)]);let _0x587582='';for(const _0x347a91 of _0x3629a5)_0x587582+=_0x347a91[_0x2054f7(0x642)]+_0x2054f7(0x7a8)+_0x347a91['url']+'\x0a'+_0x347a91[_0x2054f7(0x133)]+'\x0a\x0a';return _0x590d4b['trace']({'jobType':_0x31eb64[_0x2054f7(0x64b)],'type':_0x1bd4f1[_0x2054f7(0x5ad)],'jobId':_0x1f2489,'agentId':_0x2a6ae7,'threadId':_0x24bfbd,'blockId':_0x142870,'traceLevel':_0x24ab69['Info'],'startTime':_0x3871dd,'timestamp':Date[_0x2054f7(0x76a)](),'status':'success','query':_0xb25d4a['query'],'results':_0x587582}),_0x587582;}catch(_0x1b49d5){return console[_0x2054f7(0x7b5)](_0x1b49d5),_0x590d4b[_0x2054f7(0x3ed)]({'jobType':_0x31eb64[_0x2054f7(0x64b)],'type':_0x1bd4f1['SearchGoogle'],'jobId':_0x1f2489,'blockId':_0x142870,'traceLevel':_0x24ab69[_0x2054f7(0x645)],'startTime':_0x3871dd,'timestamp':Date[_0x2054f7(0x76a)](),'status':'error','errorDetails':_0x5f0034(_0x1b49d5),'agentId':_0x2a6ae7,'threadId':_0x24bfbd,'query':_0xb25d4a[_0x2054f7(0x689)],'results':_0x2054f7(0x63e)}),_0x2054f7(0x63e);}}};}(_0x49612c,_0x124a3b,_0x524dc5,_0x16ec37['id'],_0x18a0f7[_0x998758(0x456)],_0x18a0f7);case _0x27c700[_0x998758(0x36a)]:return function(_0x2d57a8,_0x3f232e,_0x2300a4,_0x484874){const _0x214a4c=_0x998758,_0x3f0a9d=_0x214a4c(0x849),_0x40136b={'url':{'type':_0x3b754d[_0x214a4c(0x484)][_0x214a4c(0xae)]},'page':{'type':_0x3b754d['PromptFunctionParamsType'][_0x214a4c(0x177)]}};return _0x590d4b[_0x214a4c(0x3ed)]({'jobType':_0x31eb64[_0x214a4c(0x641)],'type':_0x38de1c[_0x214a4c(0x77a)],'jobId':_0x2d57a8,'agentId':_0x3f232e,'threadId':_0x2300a4,'traceLevel':_0x24ab69[_0x214a4c(0x645)],'startTime':Date[_0x214a4c(0x76a)](),'timestamp':Date[_0x214a4c(0x76a)](),'status':_0x214a4c(0x427),'function':_0x1bd4f1[_0x214a4c(0x2fc)],'params':_0x40136b,'functionDescription':_0x3f0a9d}),{'description':_0x3f0a9d,'params':_0x40136b,'callback':async _0x94a5a=>{const _0xb13c9a=_0x214a4c,_0x4bbd07=Date['now']();if(_0xb13c9a(0x478)!=typeof _0x94a5a?.[_0xb13c9a(0xd1)])return _0xb13c9a(0x57f);try{const _0x36c2bc=await fetch(_0x94a5a['url']),_0x1474e8=await _0x36c2bc[_0xb13c9a(0x712)](),_0x1aa25e=_0x1474e8[_0xb13c9a(0x72f)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x3b0409=(_0x1aa25e?_0x1aa25e[0x1]:_0x1474e8)[_0xb13c9a(0x74a)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0xb13c9a(0x74a)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0xb13c9a(0x74a)](/<br\s*\/?>/gi,'\x20'),_0xfb57d3=_0x3b0409['replace'](/&nbsp;/g,'\x20')[_0xb13c9a(0x74a)](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')[_0xb13c9a(0x5e2)](),_0x1008bf='number'==typeof _0x94a5a['page']?_0x94a5a[_0xb13c9a(0x134)]:0x1,_0x23f4a1=Math[_0xb13c9a(0x853)](_0xfb57d3[_0xb13c9a(0x51a)]/_0x4954c5);let _0x29cdaf=_0xfb57d3;if(_0xfb57d3['length']>_0x4954c5){if(_0xb13c9a(0x8eb)!=typeof _0x94a5a?.['page'])throw new Error(_0xb13c9a(0x486));_0x29cdaf=_0xfb57d3[_0xb13c9a(0x704)]((_0x94a5a[_0xb13c9a(0x134)]-0x1)*_0x4954c5,_0x4954c5)+'More\x20content\x20available\x20on\x20page\x20'+(_0x94a5a['page']+0x1)+_0xb13c9a(0x665)+_0x23f4a1+'.';}return _0x590d4b[_0xb13c9a(0x3ed)]({'jobType':_0x31eb64[_0xb13c9a(0x64b)],'type':_0x1bd4f1[_0xb13c9a(0x2fc)],'jobId':_0x2d57a8,'agentId':_0x3f232e,'threadId':_0x2300a4,'blockId':_0x484874,'traceLevel':_0x24ab69[_0xb13c9a(0x645)],'startTime':_0x4bbd07,'timestamp':Date[_0xb13c9a(0x76a)](),'status':_0x36c2bc['ok']?'success':_0xb13c9a(0x7b5),'url':_0x94a5a[_0xb13c9a(0xd1)],'page':_0x1008bf,'totalPages':_0x23f4a1,'response':_0x29cdaf}),_0x29cdaf;}catch(_0x393a76){const _0x423808=_0x393a76 instanceof Error?_0x393a76[_0xb13c9a(0x129)]:_0xb13c9a(0x33c);return _0x590d4b[_0xb13c9a(0x3ed)]({'jobType':_0x31eb64[_0xb13c9a(0x64b)],'type':_0x1bd4f1[_0xb13c9a(0x2fc)],'jobId':_0x2d57a8,'blockId':_0x484874,'threadId':_0x2300a4,'traceLevel':_0x24ab69[_0xb13c9a(0x645)],'startTime':_0x4bbd07,'timestamp':Date['now'](),'agentId':_0x3f232e,'status':_0xb13c9a(0x7b5),'errorDetails':_0x5f0034(_0x393a76),'url':_0x94a5a[_0xb13c9a(0xd1)],'page':0x0,'totalPages':0x0,'response':_0x423808}),_0x423808;}}};}(_0x49612c,_0x124a3b,_0x524dc5,_0x16ec37['id']);}throw new Error('Unknown\x20skill\x20type');}function _0x5f0034(_0x23f279){const _0x2afc22=_0x20cdf8;try{return JSON[_0x2afc22(0x8f7)](_0x23f279);}catch(_0x55a3c7){return _0x23f279 instanceof Error?_0x23f279['toString']():'Error\x20fetching\x20context';}}async function _0x180af8(_0x450ef9,_0x200073,_0x112a41,_0x1567e8,_0x2628fc,_0x45eaba,_0x53cfd2){const _0x1b4a2d=_0x20cdf8;for(const _0x5043b7 of _0x2628fc[_0x1b4a2d(0xcb)]||[]){const _0xd3b5f0=_0x45eaba['find'](_0x856f45=>_0x856f45[_0x1b4a2d(0xb9)]===_0x5043b7['uid']);if(_0xd3b5f0&&_0xd3b5f0[_0x1b4a2d(0x6f6)]===_0x27c700[_0x1b4a2d(0x7d9)]){if(_0x2628fc[_0x1b4a2d(0x6aa)]||(_0x2628fc[_0x1b4a2d(0x6aa)]={}),_0x200073 instanceof Array?_0x2628fc[_0x1b4a2d(0x6aa)][_0x1b4a2d(0x4df)]=_0x200073:_0x2628fc[_0x1b4a2d(0x6aa)][_0x1b4a2d(0x8cf)]=_0x200073,_0x2628fc[_0x1b4a2d(0x811)]=_0x2628fc['timesCalled']?_0x2628fc[_0x1b4a2d(0x811)]+0x1:0x1,_0x2de37f(_0x2628fc,_0x45eaba)>_0x2628fc[_0x1b4a2d(0x811)])return;return _0x2628fc;}}if(_0x2628fc[_0x1b4a2d(0x6aa)]||(_0x2628fc[_0x1b4a2d(0x6aa)]={}),_0x200073 instanceof Array?_0x2628fc[_0x1b4a2d(0x6aa)]['context']=_0x200073:_0x2628fc[_0x1b4a2d(0x6aa)][_0x1b4a2d(0x8cf)]=_0x200073,_0x2628fc[_0x1b4a2d(0x811)]=_0x2628fc[_0x1b4a2d(0x811)]?_0x2628fc[_0x1b4a2d(0x811)]+0x1:0x1,_0x2de37f(_0x2628fc,_0x45eaba)>_0x2628fc[_0x1b4a2d(0x811)])return;if(!_0x2628fc[_0x1b4a2d(0x6aa)][_0x1b4a2d(0x8cf)])throw new Error(_0x1b4a2d(0x5e0));const _0x3dd540=_0x53cfd2['models']['find'](_0x2f7e64=>_0x2f7e64['id']===_0x2628fc[_0x1b4a2d(0x186)]);if(!_0x3dd540)throw new Error('Model\x20not\x20found');const _0x13f9ae=_0x53cfd2['generativeAIWorkerConnectors'][_0x1b4a2d(0x819)](_0x16966d=>_0x16966d['getEngineType']()===_0x3dd540[_0x1b4a2d(0x246)]);if(!_0x13f9ae)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x3b8cca=Date['now'](),_0x2bdc0f=(0x0,_0x3ee2fb['v4'])(),_0x30a808=await _0x13f9ae[_0x1b4a2d(0x1c6)]({'type':_0x1b4a2d(0x8cf),'prompt':_0x2628fc['accumulated'][_0x1b4a2d(0x8cf)],'instructions':''+_0x2628fc[_0x1b4a2d(0x4b7)]+(_0x112a41[_0x1b4a2d(0x4b7)]??'')+(_0x2628fc['accumulated'][_0x1b4a2d(0x4df)]?_0x1b4a2d(0x1d3)+_0x2628fc[_0x1b4a2d(0x6aa)][_0x1b4a2d(0x4df)]['map'](_0x2b922e=>_0x2b922e[_0x1b4a2d(0x843)])[_0x1b4a2d(0x1e1)]('\x0a'):''),'temperature':_0x2628fc[_0x1b4a2d(0x4a1)],'maxTokens':_0x2628fc[_0x1b4a2d(0x7a0)],'history':_0x112a41['history'],'functions':_0x25f198(_0x450ef9,_0x2bdc0f,_0x112a41['threadId'],_0x1567e8,_0x2628fc,_0x45eaba,_0x53cfd2),'threadId':_0x112a41['threadId']},{'model':_0x3dd540});if(_0x1b4a2d(0x478)!=typeof _0x30a808['output'])throw new Error(_0x1b4a2d(0x2dd));return _0x1567e8['inputTokens']+=_0x30a808[_0x1b4a2d(0x39d)]??0x0,_0x1567e8['outputTokens']+=_0x30a808[_0x1b4a2d(0x7f6)]??0x0,_0x590d4b[_0x1b4a2d(0x3ed)]({'jobType':_0x31eb64[_0x1b4a2d(0x58e)],'type':_0x326e3b[_0x1b4a2d(0x3f9)],'jobId':_0x450ef9,'agentId':_0x2bdc0f,'threadId':_0x112a41[_0x1b4a2d(0x151)],'traceLevel':_0x24ab69['Info'],'startTime':_0x3b8cca,'timestamp':Date[_0x1b4a2d(0x76a)](),'blockId':_0x2628fc['id'],'status':_0x1b4a2d(0x427),'output':_0x30a808[_0x1b4a2d(0x316)]?.[_0x1b4a2d(0xca)]()??'','history':[],'instructions':''+_0x2628fc['instructions']+(_0x112a41[_0x1b4a2d(0x4b7)]??''),'ragContext':_0x30a808[_0x1b4a2d(0x4df)]??[],'inputTokens':_0x30a808['inputTokens']??0x0,'outputTokens':_0x30a808[_0x1b4a2d(0x7f6)]??0x0}),_0x5952ed(_0x450ef9,_0x30a808[_0x1b4a2d(0x316)],_0x112a41,_0x1567e8,_0x2628fc,_0x45eaba,_0x53cfd2);}async function _0x3ceee2(_0x25c8cd,_0x1021e5,_0x5abc23,_0xca1009,_0x1c1a75,_0x2506ae,_0x2677d4){const _0x114db6=function(_0x3d87d9,_0x4fa22c){const _0x594eef=a0_0x2e24,_0x24e292=[];for(let _0x33c908=0x0;_0x33c908<_0x3d87d9[_0x594eef(0x51a)];_0x33c908+=_0x4fa22c[_0x594eef(0x1cf)][_0x594eef(0x3b4)]){let _0x4884b3=_0x33c908-_0x4fa22c['attributes'][_0x594eef(0x2e4)];_0x4884b3<0x0&&(_0x4884b3=0x0);let _0x6ebd8d=_0x33c908+_0x4fa22c[_0x594eef(0x1cf)]['size']+_0x4fa22c[_0x594eef(0x1cf)][_0x594eef(0x2e4)];_0x6ebd8d>_0x3d87d9['length']&&(_0x6ebd8d=_0x3d87d9[_0x594eef(0x51a)]),length||(length=_0x33c908+_0x4fa22c[_0x594eef(0x1cf)][_0x594eef(0x3b4)],length>_0x3d87d9['length']&&(length=_0x3d87d9[_0x594eef(0x51a)])),_0x24e292[_0x594eef(0x82c)](_0x3d87d9[_0x594eef(0x704)](_0x4884b3,_0x6ebd8d));}return _0x24e292;}(_0x1021e5,_0x1c1a75);return _0x5952ed(_0x25c8cd,_0x114db6,_0x5abc23,_0xca1009,_0x1c1a75,_0x2506ae,_0x2677d4);}async function _0x2c7eda(_0x67cb8a,_0x4654c,_0x4d824a,_0x2c2429,_0x5eea19,_0x28fea6,_0x34c055){const _0x417aff=_0x20cdf8;if(_0x5eea19[_0x417aff(0x6aa)]||(_0x5eea19[_0x417aff(0x6aa)]={}),_0x5eea19[_0x417aff(0x6aa)][_0x417aff(0x455)]||(_0x5eea19[_0x417aff(0x6aa)]['queries']=[]),_0x4654c instanceof Array?_0x5eea19[_0x417aff(0x6aa)][_0x417aff(0x455)][_0x417aff(0x82c)](..._0x4654c):_0x5eea19[_0x417aff(0x6aa)][_0x417aff(0x455)][_0x417aff(0x82c)](_0x4654c),_0x5eea19[_0x417aff(0x811)]=_0x5eea19[_0x417aff(0x811)]?_0x5eea19[_0x417aff(0x811)]+0x1:0x1,_0x2de37f(_0x5eea19,_0x28fea6)>_0x5eea19[_0x417aff(0x811)])return;if(0x0===_0x5eea19[_0x417aff(0x6aa)][_0x417aff(0x455)][_0x417aff(0x51a)])throw new Error(_0x417aff(0x81b));let _0x3f8e1a=[];const _0x43cc22=Date[_0x417aff(0x76a)]();try{let _0x328b5e=0x0,_0x22bc40=0x0;for(const _0x330887 of _0x5eea19[_0x417aff(0x6aa)][_0x417aff(0x455)]){const _0x78eb56=_0x5eea19['retrieveBlocks'][_0x417aff(0x819)](_0x24ff1c=>_0x24ff1c[_0x417aff(0x6f6)]===_0x2c5e66[_0x417aff(0x52d)]),_0x383939=await _0x440381(_0x67cb8a,_0x4d824a[_0x417aff(0x151)],_0x330887,_0x78eb56,_0x5eea19[_0x417aff(0x58b)],_0x34c055);_0x3f8e1a=Array[_0x417aff(0x473)](new Set([..._0x3f8e1a,..._0x383939[_0x417aff(0x4df)]])),_0x328b5e+=_0x383939['inputTokens']??0x0,_0x22bc40+=_0x383939['outputTokens']??0x0;}_0x2c2429['inputTokens']+=_0x328b5e,_0x2c2429['outputTokens']+=_0x22bc40,_0x2c2429[_0x417aff(0x4df)]=Array[_0x417aff(0x473)](new Set([..._0x2c2429[_0x417aff(0x4df)],..._0x3f8e1a])),_0x590d4b[_0x417aff(0x3ed)]({'jobType':_0x31eb64['Workflow'],'type':_0x326e3b['DataCollection'],'jobId':_0x67cb8a,'threadId':_0x4d824a[_0x417aff(0x151)],'traceLevel':_0x24ab69[_0x417aff(0x645)],'startTime':_0x43cc22,'timestamp':Date['now'](),'blockId':_0x5eea19['id'],'status':_0x417aff(0x427),'queries':_0x5eea19[_0x417aff(0x6aa)][_0x417aff(0x455)],'context':_0x3f8e1a,'inputTokens':_0x328b5e,'outputTokens':_0x22bc40});}catch(_0x4b62b9){console[_0x417aff(0x7b5)](_0x4b62b9),_0x590d4b[_0x417aff(0x3ed)]({'jobType':_0x31eb64[_0x417aff(0x58e)],'type':_0x326e3b[_0x417aff(0x3a8)],'jobId':_0x67cb8a,'threadId':_0x4d824a['threadId'],'traceLevel':_0x24ab69[_0x417aff(0x645)],'startTime':_0x43cc22,'timestamp':Date[_0x417aff(0x76a)](),'blockId':_0x5eea19['id'],'status':_0x417aff(0x7b5),'queries':_0x5eea19[_0x417aff(0x6aa)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}return _0x5952ed(_0x67cb8a,_0x3f8e1a,_0x4d824a,_0x2c2429,_0x5eea19,_0x28fea6,_0x34c055);}async function _0x29089d(_0x4f305d,_0x30a621,_0x51f284,_0x59d45a,_0x3f646d,_0x9f8209,_0x489193){const _0x434f0a=_0x20cdf8;return _0x5952ed(_0x4f305d,await _0x489193['nlpLibraryConnector'][_0x434f0a(0x7bd)](_0x30a621),_0x51f284,_0x59d45a,_0x3f646d,_0x9f8209,_0x489193);}async function _0x317578(_0x33df77,_0x2eeb04,_0x40e961,_0x3c324b,_0x4eaf00,_0x4c7515,_0x4ddae3){const _0x484567=function(_0x5198da,_0x1cdf03){const _0x224c5d=a0_0x2e24,_0x36c227=[],_0x53e3bb=_0x5198da[_0x224c5d(0x469)]('\x20');let _0x410b85='',_0xbb136b=0x0,_0x3dcce0=0x0,_0x33caca=0x0;for(const _0x45bd0c of _0x53e3bb){if(_0x410b85[_0x224c5d(0x51a)]+_0x45bd0c[_0x224c5d(0x51a)]>_0x1cdf03['attributes'][_0x224c5d(0x3b4)]){let _0x3f9ce6=_0xbb136b,_0x2ed470='';for(;_0x3f9ce6>=0x0&&_0x2ed470['length']+_0x53e3bb[_0x3f9ce6][_0x224c5d(0x51a)]<_0x1cdf03['attributes']['overlap'];)_0x2ed470=_0x53e3bb[_0x3f9ce6]+'\x20'+_0x2ed470,_0x3f9ce6--;let _0x25deee=_0x3dcce0,_0xed74c5='';for(;_0x25deee<_0x53e3bb[_0x224c5d(0x51a)]&&_0xed74c5[_0x224c5d(0x51a)]+_0x53e3bb[_0x25deee][_0x224c5d(0x51a)]<_0x1cdf03[_0x224c5d(0x1cf)][_0x224c5d(0x2e4)];)_0xed74c5+=_0x53e3bb[_0x25deee]+'\x20',_0x25deee++;_0x410b85=_0x2ed470+_0x410b85+_0xed74c5,_0x36c227[_0x224c5d(0x82c)](_0x410b85['trim']()),_0x410b85='',_0xbb136b=_0x3dcce0;}_0x410b85+=_0x45bd0c+'\x20',_0x3dcce0++,_0x33caca+=_0x45bd0c['length']+0x1;}if(_0x410b85[_0x224c5d(0x51a)]>0x0){let _0x2d9341=_0xbb136b,_0x44572d='';for(;_0x2d9341>=0x0&&_0x44572d['length']+_0x53e3bb[_0x2d9341][_0x224c5d(0x51a)]<_0x1cdf03['attributes'][_0x224c5d(0x2e4)];)_0x44572d=_0x53e3bb[_0x2d9341]+'\x20'+_0x44572d,_0x2d9341--;_0x410b85=_0x44572d+_0x410b85,_0x36c227[_0x224c5d(0x82c)](_0x410b85[_0x224c5d(0x5e2)]());}return _0x36c227;}(_0x2eeb04,_0x4eaf00);return _0x5952ed(_0x33df77,_0x484567,_0x40e961,_0x3c324b,_0x4eaf00,_0x4c7515,_0x4ddae3);}async function _0x5952ed(_0x5b6c1a,_0x267d47,_0x439ff4,_0x45b130,_0xa37069,_0x888acc,_0x13dca0){const _0x48fe22=_0x20cdf8;let _0x2330cb;for(const _0x3a617e of _0xa37069[_0x48fe22(0xcb)]||[]){const _0x1aef52=_0x888acc[_0x48fe22(0x819)](_0x3b5b4d=>_0x3b5b4d['uid']===_0x3a617e[_0x48fe22(0xb9)]);if(_0x1aef52){switch(_0x1aef52[_0x48fe22(0x6f6)]){case _0x27c700[_0x48fe22(0x7a5)]:_0x2330cb=await _0x180af8(_0x5b6c1a,_0x267d47,_0x439ff4,_0x45b130,_0x1aef52,_0x888acc,_0x13dca0);break;case _0x27c700['ChunkSplitter']:_0x2330cb=await _0x3ceee2(_0x5b6c1a,_0x267d47,_0x439ff4,_0x45b130,_0x1aef52,_0x888acc,_0x13dca0);break;case _0x27c700[_0x48fe22(0x3a8)]:_0x2330cb=await _0x2c7eda(_0x5b6c1a,_0x267d47,_0x439ff4,_0x45b130,_0x1aef52,_0x888acc,_0x13dca0);break;case _0x27c700[_0x48fe22(0x778)]:_0x2330cb=await _0x29089d(_0x5b6c1a,_0x267d47,_0x439ff4,_0x45b130,_0x1aef52,_0x888acc,_0x13dca0);break;case _0x27c700[_0x48fe22(0x2e6)]:_0x2330cb=await _0x317578(_0x5b6c1a,_0x267d47,_0x439ff4,_0x45b130,_0x1aef52,_0x888acc,_0x13dca0);}if(_0x2330cb)return _0x2330cb;}}}function _0x2de37f(_0x4f9126,_0x1ab7a2){const _0x1177cc=_0x20cdf8;return _0x1ab7a2[_0x1177cc(0xb7)](_0x5eef11=>_0x5eef11[_0x1177cc(0xcb)]?.[_0x1177cc(0x2a2)](_0x350e88=>_0x350e88[_0x1177cc(0x6f6)]!==_0x5228f3[_0x1177cc(0x60e)]&&_0x350e88[_0x1177cc(0x6f6)]!==_0x5228f3[_0x1177cc(0x64b)]&&_0x350e88[_0x1177cc(0xb9)]===_0x4f9126[_0x1177cc(0xb9)]))[_0x1177cc(0x51a)];}class _0x588661 extends _0x3cfa8a{[_0x20cdf8(0x21a)];[_0x20cdf8(0x6f5)];[_0x20cdf8(0x179)];[_0x20cdf8(0x6b4)];[_0x20cdf8(0x518)];[_0x20cdf8(0x8bf)];[_0x20cdf8(0x456)];[_0x20cdf8(0x393)];[_0x20cdf8(0x139)];[_0x20cdf8(0x672)];[_0x20cdf8(0x11e)]=new Map();['externalStores']=new Map();[_0x20cdf8(0x51b)];[_0x20cdf8(0x675)]=new Map();[_0x20cdf8(0x8c2)];['prompts']=0x0;[_0x20cdf8(0x837)]=0x0;[_0x20cdf8(0x635)]=!0x1;constructor(_0x568642,_0x1ae2cf,_0x1d7ced,_0x2afeb6,_0x48e178,_0x38377e,_0x6f0c27,_0x22d90e,_0x452a34,_0xc445){const _0x48dcf0=_0x20cdf8;super(_0x568642,_0x1ae2cf,_0x2afeb6),this[_0x48dcf0(0x21a)]=_0x568642,this[_0x48dcf0(0x6f5)]=_0x1d7ced,this['contentMediator']=_0x48e178,this[_0x48dcf0(0x6b4)]=_0x38377e,this[_0x48dcf0(0x518)]=_0x6f0c27,this[_0x48dcf0(0x8bf)]=_0x22d90e,this['searchApiKey']=_0x452a34,this[_0x48dcf0(0x393)]=_0xc445;}async[_0x20cdf8(0xb2)](){const _0x1a59b5=_0x20cdf8;for(const _0x20bfff of this[_0x1a59b5(0x6b4)])await _0x20bfff[_0x1a59b5(0x671)]();this[_0x1a59b5(0x672)]?.[_0x1a59b5(0x579)](this[_0x1a59b5(0x59f)]),this[_0x1a59b5(0x11e)][_0x1a59b5(0x34b)](_0x1a2959=>_0x1a2959['unsubscribe'](this[_0x1a59b5(0x59f)])),this[_0x1a59b5(0x8c2)]&&(clearTimeout(this['debounceStats']),delete this[_0x1a59b5(0x8c2)]),super[_0x1a59b5(0xb2)]();}async[_0x20cdf8(0x8fc)](_0x994153=!0x1){const _0x230c13=_0x20cdf8;if(this[_0x230c13(0x635)])super[_0x230c13(0x8fc)]();else{if(this['workflow']=await _0xe2256a['getWorkflow'](this[_0x230c13(0x6f5)],this[_0x230c13(0x59f)]),this['modelStore']=this[_0x230c13(0x179)]['getObjectStoreBucket'](this['workflow']['modelsBucketId']),!this['modelStore'])throw new Error('Model\x20store\x20not\x20initialized');this[_0x230c13(0x153)](),_0x994153||await this[_0x230c13(0x800)](this['modelStore']);for(const _0x41f0f2 of this['workflow'][_0x230c13(0x675)])try{let _0x2999c8;_0x41f0f2[_0x230c13(0x246)]===_0x3b754d[_0x230c13(0x157)][_0x230c13(0xd9)]&&(_0x2999c8=await this['getModel']('/'+_0x41f0f2['id']+_0x5a75a4)),this[_0x230c13(0x675)][_0x230c13(0xaf)](_0x41f0f2['id'],{'id':_0x41f0f2['id'],'engineType':_0x41f0f2[_0x230c13(0x246)],'taskType':_0x41f0f2[_0x230c13(0x5cd)],'inputType':_0x41f0f2['inputType'],'outputType':_0x41f0f2[_0x230c13(0x4b2)],'sourceUrl':_0x41f0f2[_0x230c13(0x232)],'pathName':_0x2999c8});}catch(_0x377a95){await this[_0x230c13(0x672)][_0x230c13(0x1ed)]({'action':_0x3b754d[_0x230c13(0x900)][_0x230c13(0x104)],'file':new File([''],''+_0x41f0f2['id']+_0x5a75a4),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x41f0f2[_0x230c13(0x232)]}}),this[_0x230c13(0x675)][_0x230c13(0xaf)](_0x41f0f2['id'],{'id':_0x41f0f2['id'],'engineType':_0x41f0f2[_0x230c13(0x246)],'taskType':_0x41f0f2['taskType'],'inputType':_0x41f0f2[_0x230c13(0x4e7)],'outputType':_0x41f0f2[_0x230c13(0x4b2)],'sourceUrl':_0x41f0f2[_0x230c13(0x232)],'pathName':await this[_0x230c13(0x8fd)]('/'+_0x41f0f2['id']+_0x5a75a4)});}for(const _0x5092e9 of this[_0x230c13(0x6b4)])await _0x5092e9['initialize'](this[_0x230c13(0x59f)],this[_0x230c13(0x675)]);for(const _0x41fbda of this[_0x230c13(0x139)][_0x230c13(0x154)])this['dataStores'][_0x230c13(0xaf)](_0x41fbda,this[_0x230c13(0x179)][_0x230c13(0x4ae)](_0x41fbda));await this['loadLocalContent'](_0x994153),this[_0x230c13(0x176)]();for(const _0xa4cc91 of this['workflow']['externalStorageConnectionIds'])this[_0x230c13(0x582)][_0x230c13(0xaf)](_0xa4cc91,this[_0x230c13(0x179)][_0x230c13(0x4c5)](_0xa4cc91));await this[_0x230c13(0x500)](),this[_0x230c13(0x20f)](),this[_0x230c13(0x205)](),this[_0x230c13(0x635)]=!0x0,super[_0x230c13(0x8fc)]();}}[_0x20cdf8(0x8b5)](){const _0x13aed1=_0x20cdf8;this[_0x13aed1(0xf8)]=0x0,this[_0x13aed1(0x837)]=0x0,this['sendStats'](),super[_0x13aed1(0x8b5)]();}[_0x20cdf8(0x17d)](){const _0x2f5614=_0x20cdf8;return this[_0x2f5614(0x205)](),this[_0x2f5614(0x3d0)]();}['compileStats'](_0x214973,_0x5b9bc6,_0x16df1c){const _0x3c4f3f=_0x20cdf8,{outputTokens:_0x3929ad=0x0,output:_0x37f01a=''}=_0x214973,_0x3a4cee=_0x3929ad/((_0x16df1c-_0x5b9bc6)/0x3e8);this[_0x3c4f3f(0xf8)]+=0x1,this['tokens']+=_0x3929ad,this['logServiceEvent'](_0x3a4cee,_0x3929ad),this[_0x3c4f3f(0x205)]();}[_0x20cdf8(0x13f)](_0xf04a19,_0x1585b8){const _0x318d76=_0x20cdf8;return _0xf04a19[_0x318d76(0x316)]=_0xf04a19[_0x318d76(0x316)]??'',{'type':_0x318d76(0x8cf),'output':_0x318d76(0x478)==typeof _0xf04a19['output']&&_0x318d76(0x478)==typeof _0x1585b8[_0x318d76(0x316)]?_0xf04a19[_0x318d76(0x316)]+_0x1585b8['output']:_0x1585b8[_0x318d76(0x316)],'outputTokens':_0x1585b8[_0x318d76(0x7f6)]??_0xf04a19[_0x318d76(0x7f6)],'inputTokens':_0x1585b8[_0x318d76(0x39d)]??_0xf04a19[_0x318d76(0x39d)]};}async[_0x20cdf8(0x149)](_0x8a60e4,_0x2689b8){const _0x1864c5=_0x20cdf8;if(!this[_0x1864c5(0x139)])throw new Error(_0x1864c5(0x59a));if('prompt'===_0x2689b8[_0x1864c5(0x6f6)]){const _0x20836a=this[_0x1864c5(0x139)][_0x1864c5(0x810)][_0x1864c5(0x819)](_0xdce9e1=>_0xdce9e1[_0x1864c5(0x6f6)]===_0x27c700[_0x1864c5(0x52d)]),_0x310dd6=await async function(_0x529557,_0x253a45,_0x298f7e,_0x4e9299,_0x5f2550){const _0x50eca2=_0x1864c5,_0x391944=(0x0,_0x3ee2fb['v4'])();_0x590d4b[_0x50eca2(0x3ed)]({'jobType':_0x31eb64[_0x50eca2(0x58e)],'type':_0x326e3b[_0x50eca2(0x8c7)],'jobId':_0x529557,'blockId':_0x298f7e['id'],'agentId':_0x391944,'threadId':_0x253a45[_0x50eca2(0x151)],'traceLevel':_0x24ab69['Info'],'startTime':Date[_0x50eca2(0x76a)](),'timestamp':Date[_0x50eca2(0x76a)](),'status':'success','initialPrompt':_0x253a45[_0x50eca2(0x8cf)]});const _0x1a002b={'type':_0x253a45[_0x50eca2(0x6f6)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x5bcf1b=await _0x5952ed(_0x529557,''+_0x253a45['prompt'],_0x253a45,_0x1a002b,_0x298f7e,_0x4e9299,_0x5f2550);if(!_0x5bcf1b)throw new Error(_0x50eca2(0x752));const _0x4a4173=_0x5f2550[_0x50eca2(0x675)][_0x50eca2(0x819)](_0x1b0587=>_0x1b0587['id']===_0x5bcf1b[_0x50eca2(0x186)]);if(!_0x4a4173)throw new Error(_0x50eca2(0x666));const _0x2e9cc2=_0x5f2550['generativeAIWorkerConnectors'][_0x50eca2(0x819)](_0x21a355=>_0x21a355[_0x50eca2(0x429)]()===_0x4a4173[_0x50eca2(0x246)]);if(!_0x2e9cc2)throw new Error('No\x20connector\x20found\x20for\x20model');const _0xf0d5b5=Date[_0x50eca2(0x76a)](),_0x541fc4=await _0x2e9cc2[_0x50eca2(0x1c6)]({'type':_0x253a45[_0x50eca2(0x6f6)],'prompt':_0x5bcf1b[_0x50eca2(0x6aa)][_0x50eca2(0x8cf)],'instructions':''+_0x5bcf1b[_0x50eca2(0x4b7)]+(_0x253a45[_0x50eca2(0x4b7)]??'')+(_0x5bcf1b[_0x50eca2(0x6aa)]?.[_0x50eca2(0x4df)]?_0x50eca2(0x1d3)+_0x5bcf1b['accumulated'][_0x50eca2(0x4df)]['map'](_0x2193af=>_0x2193af[_0x50eca2(0x843)])[_0x50eca2(0x1e1)]('\x0a'):''),'temperature':_0x5bcf1b['temperature'],'maxTokens':_0x5bcf1b[_0x50eca2(0x7a0)],'history':_0x253a45[_0x50eca2(0x8e5)],'functions':_0x25f198(_0x529557,_0x391944,_0x253a45[_0x50eca2(0x151)],_0x1a002b,_0x5bcf1b,_0x4e9299,_0x5f2550),'threadId':_0x253a45['threadId']},{'model':_0x4a4173}),{inputTokens:_0x2aa052=0x0,outputTokens:_0x110305=0x0,context:_0x5b558f=[]}=_0x541fc4;return _0x590d4b[_0x50eca2(0x3ed)]({'jobType':_0x31eb64['Workflow'],'type':_0x326e3b[_0x50eca2(0x65f)],'jobId':_0x529557,'agentId':_0x391944,'threadId':_0x253a45[_0x50eca2(0x151)],'traceLevel':_0x24ab69[_0x50eca2(0x645)],'startTime':_0xf0d5b5,'timestamp':Date[_0x50eca2(0x76a)](),'blockId':_0x298f7e['id'],'status':'success','output':_0x541fc4[_0x50eca2(0x316)]?.[_0x50eca2(0xca)]()??'','history':_0x253a45['history']??[],'instructions':''+_0x5bcf1b[_0x50eca2(0x4b7)]+(_0x253a45[_0x50eca2(0x4b7)]??''),'ragContext':_0x5b558f,'inputTokens':_0x2aa052,'outputTokens':_0x110305}),{'type':_0x253a45[_0x50eca2(0x6f6)],'output':_0x541fc4[_0x50eca2(0x316)],'context':_0x1a002b[_0x50eca2(0x4df)],'inputTokens':(_0x1a002b[_0x50eca2(0x39d)]??0x0)+(_0x541fc4[_0x50eca2(0x39d)]??0x0),'outputTokens':(_0x1a002b[_0x50eca2(0x7f6)]??0x0)+(_0x541fc4['outputTokens']??0x0)};}(_0x8a60e4,_0x2689b8,_0x20836a,this[_0x1864c5(0x139)][_0x1864c5(0x810)],{'documentParserConnector':this[_0x1864c5(0x518)],'nlpLibraryConnector':this[_0x1864c5(0x8bf)],'generativeAIWorkerConnectors':this[_0x1864c5(0x6b4)],'models':this[_0x1864c5(0x139)][_0x1864c5(0x675)],'contentMediator':this[_0x1864c5(0x179)],'searchApiKey':this[_0x1864c5(0x456)],'searchConnector':this[_0x1864c5(0x393)]});return _0x310dd6;}if(_0x1864c5(0x3f8)===_0x2689b8[_0x1864c5(0x6f6)])return _0x590d4b['trace']({'jobType':_0x31eb64['Rating'],'type':_0x436b24[_0x1864c5(0x59b)],'jobId':_0x2689b8[_0x1864c5(0x15f)],'threadId':_0x2689b8[_0x1864c5(0x151)],'traceLevel':_0x24ab69['Info'],'startTime':Date[_0x1864c5(0x76a)](),'timestamp':Date[_0x1864c5(0x76a)](),'status':_0x1864c5(0x427),'rating':_0x2689b8[_0x1864c5(0x43a)],'feedback':_0x2689b8[_0x1864c5(0x7d0)]}),{'type':_0x1864c5(0x3f8),'status':_0x3b754d[_0x1864c5(0x721)]['Success']};if(_0x1864c5(0x621)===_0x2689b8[_0x1864c5(0x6f6)]){let _0x5a855b;const _0x5f2b40=this[_0x1864c5(0x11e)][_0x1864c5(0x653)]();for(;!_0x5a855b;){const _0x50dc55=_0x5f2b40[_0x1864c5(0xdd)]()['value'];if(!_0x50dc55)throw new Error(_0x1864c5(0x650));_0x5a855b=this[_0x1864c5(0x11e)][_0x1864c5(0x333)](_0x50dc55);try{const _0x3ff53d=await _0x5a855b['get'](_0x2689b8[_0x1864c5(0x7e8)]);return{'type':'downloadDocument','fileName':_0x3ff53d[_0x1864c5(0x294)],'mimeType':_0x3ff53d['type'],'document':await _0x3ff53d['arrayBuffer']()};}catch(_0x1860e8){continue;}}throw new Error(_0x1864c5(0x650));}throw new Error(_0x1864c5(0x691));}async*[_0x20cdf8(0x875)](_0x36c65f,_0x25f011){const _0x178734=_0x20cdf8;if(!this['workflow'])throw new Error(_0x178734(0x59a));const _0x41f28d=this[_0x178734(0x139)][_0x178734(0x810)][_0x178734(0x819)](_0x17d999=>_0x17d999[_0x178734(0x6f6)]===_0x27c700[_0x178734(0x52d)]);for await(const _0x5bd4b1 of async function*(_0x5ce69d,_0x1e5514,_0x372f4a,_0x270c74,_0x32c996){const _0x6c75b0=_0x178734,_0x3407bd=(0x0,_0x3ee2fb['v4'])();_0x590d4b['trace']({'jobType':_0x31eb64[_0x6c75b0(0x58e)],'type':_0x326e3b[_0x6c75b0(0x8c7)],'jobId':_0x5ce69d,'agentId':_0x3407bd,'threadId':_0x1e5514['threadId'],'traceLevel':_0x24ab69['Info'],'startTime':Date[_0x6c75b0(0x76a)](),'timestamp':Date['now'](),'blockId':_0x372f4a['id'],'status':_0x6c75b0(0x427),'initialPrompt':_0x1e5514[_0x6c75b0(0x8cf)]});const _0x21115d={'type':_0x1e5514['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x33160e=await _0x5952ed(_0x5ce69d,''+_0x1e5514[_0x6c75b0(0x8cf)],_0x1e5514,_0x21115d,_0x372f4a,_0x270c74,_0x32c996);if(!_0x33160e)throw new Error('No\x20answer\x20block\x20found');const _0x58941e=_0x32c996[_0x6c75b0(0x675)]['find'](_0x4af65a=>_0x4af65a['id']===_0x33160e[_0x6c75b0(0x186)]);if(!_0x58941e)throw new Error(_0x6c75b0(0x666));const _0x45283a=_0x32c996[_0x6c75b0(0x6b4)][_0x6c75b0(0x819)](_0x10bfc1=>_0x10bfc1[_0x6c75b0(0x429)]()===_0x58941e[_0x6c75b0(0x246)]);if(!_0x45283a)throw new Error(_0x6c75b0(0x814));const _0x60c50b=Date[_0x6c75b0(0x76a)]();let _0x5a1339='',_0x2911bc={'type':_0x1e5514[_0x6c75b0(0x6f6)]};for await(const _0x291ca3 of _0x45283a[_0x6c75b0(0x788)]({'type':_0x1e5514[_0x6c75b0(0x6f6)],'prompt':_0x33160e['accumulated'][_0x6c75b0(0x8cf)],'instructions':''+_0x33160e[_0x6c75b0(0x4b7)]+(_0x1e5514[_0x6c75b0(0x4b7)]??'')+(_0x33160e[_0x6c75b0(0x6aa)]?.[_0x6c75b0(0x4df)]?_0x6c75b0(0x1d3)+_0x33160e[_0x6c75b0(0x6aa)][_0x6c75b0(0x4df)][_0x6c75b0(0x7ea)](_0x36cbab=>_0x36cbab[_0x6c75b0(0x843)])[_0x6c75b0(0x1e1)]('\x0a'):''),'temperature':_0x33160e[_0x6c75b0(0x4a1)],'maxTokens':_0x33160e[_0x6c75b0(0x7a0)],'history':_0x1e5514[_0x6c75b0(0x8e5)],'functions':_0x25f198(_0x5ce69d,_0x3407bd,_0x1e5514[_0x6c75b0(0x151)],_0x21115d,_0x33160e,_0x270c74,_0x32c996),'threadId':_0x1e5514[_0x6c75b0(0x151)]},{'model':_0x58941e}))_0x5a1339+=_0x291ca3[_0x6c75b0(0x316)],_0x2911bc={'type':_0x1e5514[_0x6c75b0(0x6f6)],'output':_0x291ca3[_0x6c75b0(0x316)],'context':_0x21115d[_0x6c75b0(0x4df)],'inputTokens':(_0x21115d[_0x6c75b0(0x39d)]??0x0)+(_0x291ca3[_0x6c75b0(0x39d)]??0x0),'outputTokens':(_0x21115d[_0x6c75b0(0x7f6)]??0x0)+(_0x291ca3['outputTokens']??0x0)},yield _0x2911bc;const {inputTokens:_0x32f7c5=0x0,outputTokens:_0x23c6fe=0x0,context:_0x5184f7=[]}=_0x2911bc;_0x590d4b[_0x6c75b0(0x3ed)]({'jobType':_0x31eb64[_0x6c75b0(0x58e)],'type':_0x326e3b[_0x6c75b0(0x65f)],'jobId':_0x5ce69d,'agentId':_0x3407bd,'threadId':_0x1e5514['threadId'],'traceLevel':_0x24ab69['Info'],'startTime':_0x60c50b,'timestamp':Date[_0x6c75b0(0x76a)](),'blockId':_0x372f4a['id'],'status':_0x6c75b0(0x427),'output':_0x5a1339,'history':_0x1e5514[_0x6c75b0(0x8e5)]??[],'instructions':''+_0x33160e['instructions']+(_0x1e5514[_0x6c75b0(0x4b7)]??''),'ragContext':_0x5184f7,'inputTokens':_0x32f7c5,'outputTokens':_0x23c6fe});}(_0x36c65f,_0x25f011,_0x41f28d,this[_0x178734(0x139)][_0x178734(0x810)],{'documentParserConnector':this[_0x178734(0x518)],'nlpLibraryConnector':this[_0x178734(0x8bf)],'generativeAIWorkerConnectors':this[_0x178734(0x6b4)],'models':this['workflow'][_0x178734(0x675)],'contentMediator':this[_0x178734(0x179)],'searchApiKey':this[_0x178734(0x456)],'searchConnector':this[_0x178734(0x393)]}))yield _0x5bd4b1;}[_0x20cdf8(0x3ce)](_0x115b37,_0x1b537a){const _0x7b8be2=_0x20cdf8;if('rate'===_0x1b537a[_0x7b8be2(0x6f6)])return _0x115b37=_0x1b537a[_0x7b8be2(0x15f)],void this[_0x7b8be2(0x323)](_0x115b37);this['openTrace'](_0x115b37),_0x590d4b['trace']({'jobType':_0x31eb64['Job'],'type':_0x41b7d6['Queued'],'traceLevel':_0x24ab69[_0x7b8be2(0x645)],'jobId':_0x115b37,'threadId':_0x1b537a[_0x7b8be2(0x151)],'startTime':Date[_0x7b8be2(0x76a)](),'timestamp':Date[_0x7b8be2(0x76a)](),'status':_0x7b8be2(0x427)});}[_0x20cdf8(0x10c)](_0x5d2746,_0x3de3ea){const _0x51b308=_0x20cdf8;if(_0x51b308(0x3f8)===_0x3de3ea[_0x51b308(0x6f6)])return _0x5d2746=_0x3de3ea[_0x51b308(0x15f)],void this[_0x51b308(0x49b)](_0x5d2746);_0x590d4b[_0x51b308(0x3ed)]({'jobType':_0x31eb64[_0x51b308(0x46a)],'type':_0x41b7d6[_0x51b308(0x6df)],'traceLevel':_0x24ab69['Info'],'jobId':_0x5d2746,'threadId':_0x3de3ea[_0x51b308(0x151)],'startTime':Date['now'](),'timestamp':Date[_0x51b308(0x76a)](),'status':_0x51b308(0x427)}),this[_0x51b308(0x49b)](_0x5d2746);}async[_0x20cdf8(0x800)](_0x32c9d3){await new Promise(_0x2494ae=>{const _0x3e9514=a0_0x2e24;_0x32c9d3[_0x3e9514(0x3cb)](this[_0x3e9514(0x59f)],async _0x3a3ca5=>{const _0x17b78c=_0x3e9514;_0x3a3ca5['event']===_0x3b754d[_0x17b78c(0x7f8)][_0x17b78c(0x824)]&&(_0x32c9d3[_0x17b78c(0x579)](this[_0x17b78c(0x59f)]),_0x2494ae());});});}async[_0x20cdf8(0x8fd)](_0x318450){const _0xee5a28=_0x20cdf8;if(!this[_0xee5a28(0x672)])throw new Error(_0xee5a28(0x53a));const _0x3d590b=await this[_0xee5a28(0x672)][_0xee5a28(0x532)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x462d10 of _0x3d590b)if(_0x462d10[_0xee5a28(0x6b6)]===_0x3b754d[_0xee5a28(0x783)]['File']&&_0x462d10[_0xee5a28(0x5b5)]===_0x318450)return _0x462d10[_0xee5a28(0x6b1)]??_0x462d10[_0xee5a28(0x5b5)];throw new Error(_0xee5a28(0x3ee)+_0x318450);}async[_0x20cdf8(0x6c4)](_0x3dbd78){const _0x1794db=_0x20cdf8;for(const _0x5a7790 of this['dataStores'][_0x1794db(0x6cd)]())try{_0x3dbd78||await this[_0x1794db(0x800)](_0x5a7790);const _0x449d95=await _0x5a7790['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x1794db(0x697)](_0x46bba2[_0x1794db(0x12b)],_0x5a7790['getName'](),_0x449d95);}catch(_0x13ec48){_0x585abf['error']('Error\x20loading\x20existing\x20content',{'nodeId':this['localNode']['getId'](),'nodeType':this['localNode']['type']});}}async[_0x20cdf8(0x500)](){const _0x376c97=_0x20cdf8;for(const _0x5b156c of this[_0x376c97(0x582)]['values']())try{const _0x37eb15=await _0x5b156c[_0x376c97(0x532)]('/',{'recursive':!0x0});await this[_0x376c97(0x697)](_0x46bba2[_0x376c97(0x530)],_0x5b156c[_0x376c97(0x5d5)](),_0x37eb15);}catch(_0x2ecbd4){_0x585abf['error']('Error\x20loading\x20external\x20content',{'nodeId':this[_0x376c97(0x21a)]['getId'](),'nodeType':this[_0x376c97(0x21a)][_0x376c97(0x6f6)]});}}async['syncFolder'](_0x4d6e6c,_0x1459cb,_0x29f96e){const _0x2a0327=_0x20cdf8;for(const _0x4b39d8 of _0x29f96e){if(_0x4b39d8['kind']===_0x3b754d[_0x2a0327(0x783)][_0x2a0327(0x7ab)]){if(!_0x4b39d8[_0x2a0327(0x573)]||0x0===_0x4b39d8['entries']['length'])continue;await this[_0x2a0327(0x697)](_0x4d6e6c,_0x1459cb,_0x4b39d8['entries']);}_0x4b39d8[_0x2a0327(0x6b6)]===_0x3b754d[_0x2a0327(0x783)]['File']&&await this['addContent'](_0x4d6e6c,_0x1459cb,_0x4b39d8['pathName']);}}[_0x20cdf8(0x176)](){const _0x61f27f=_0x20cdf8;for(const _0x400767 of this[_0x61f27f(0x11e)][_0x61f27f(0x6cd)]())_0x400767['subscribe'](this['label'],async _0x82e23c=>{const _0x567a4f=_0x61f27f;switch(_0x82e23c[_0x567a4f(0x809)]){case _0x3b754d[_0x567a4f(0x7f8)][_0x567a4f(0x358)]:this[_0x567a4f(0x34f)](_0x400767[_0x567a4f(0x5d5)](),_0x82e23c[_0x567a4f(0x6d1)][_0x567a4f(0xb3)]['pathName']),await this[_0x567a4f(0x122)](_0x46bba2[_0x567a4f(0x12b)],_0x400767['getName'](),_0x82e23c[_0x567a4f(0x6d1)][_0x567a4f(0xb3)][_0x567a4f(0x5b5)]);break;case _0x3b754d[_0x567a4f(0x7f8)][_0x567a4f(0x302)]:this[_0x567a4f(0x34f)](_0x400767['getName'](),_0x82e23c[_0x567a4f(0x6d1)]['name']);}});}[_0x20cdf8(0x20f)](){const _0x538933=_0x20cdf8;for(const _0x391144 of this['externalStores']['values']())_0x391144[_0x538933(0x3cb)](this[_0x538933(0x59f)],async _0x9c0536=>{const _0xbad914=_0x538933;switch(_0x9c0536[_0xbad914(0x809)]){case _0x3b754d[_0xbad914(0x7f8)][_0xbad914(0x358)]:this[_0xbad914(0x34f)](_0x391144[_0xbad914(0x5d5)](),_0x9c0536[_0xbad914(0x6d1)][_0xbad914(0xb3)][_0xbad914(0x5b5)]),await this['addContent'](_0x46bba2[_0xbad914(0x530)],_0x391144['getName'](),_0x9c0536['payload'][_0xbad914(0xb3)][_0xbad914(0x5b5)]);break;case _0x3b754d[_0xbad914(0x7f8)][_0xbad914(0x302)]:this[_0xbad914(0x34f)](_0x391144[_0xbad914(0x5d5)](),_0x9c0536[_0xbad914(0x6d1)][_0xbad914(0x294)]);}});}async[_0x20cdf8(0x122)](_0x2ec91e,_0x28f65f,_0x59ea3b){const _0x5d06d6=_0x20cdf8;if(!this[_0x5d06d6(0x139)])throw new Error('Workflow\x20not\x20initialized');let _0x2f8722;switch(_0x2ec91e){case _0x46bba2['ObjectStorage']:_0x2f8722=_0x2c5e66[_0x5d06d6(0x51e)];break;case _0x46bba2[_0x5d06d6(0x530)]:_0x2f8722=_0x2c5e66[_0x5d06d6(0x6bc)];}if(!_0x2f8722)return;const _0x3af9f7=this[_0x5d06d6(0x139)][_0x5d06d6(0x810)][_0x5d06d6(0xb7)](_0x1d7abe=>_0x1d7abe[_0x5d06d6(0x6f6)]===_0x27c700['Knowledge']||_0x1d7abe['type']===_0x27c700[_0x5d06d6(0x3a8)]),_0x2f4b09=new Set(_0x3af9f7[_0x5d06d6(0x7ea)](_0x2a4f26=>_0x2a4f26['id'])),_0x46b1b0=_0x3af9f7['filter'](_0x7d1631=>_0x7d1631['ingestBlocks'][_0x5d06d6(0x2a2)](_0x44dcb5=>_0x44dcb5[_0x5d06d6(0x6f6)]===_0x2f8722&&_0x44dcb5['id'][_0x5d06d6(0x6a4)](_0x28f65f)>-0x1));for(const _0x36de1b of _0x46b1b0){if(!_0x2f4b09[_0x5d06d6(0x6f2)](_0x36de1b['id']))continue;_0x2f4b09[_0x5d06d6(0x268)](_0x36de1b['id']);const _0x3b8228=_0x36de1b[_0x5d06d6(0x3d4)][_0x5d06d6(0x819)](_0x50109d=>_0x50109d['type']===_0x2f8722&&_0x50109d['id']['indexOf'](_0x28f65f)>-0x1);if(!_0x3b8228)continue;const _0x340f87=(0x0,_0x3ee2fb['v4'])();_0x590d4b[_0x5d06d6(0x323)](null,_0x340f87),await _0xeb4cf4(_0x340f87,_0x59ea3b,_0x3b8228,_0x36de1b[_0x5d06d6(0x3d4)],{'documentParserConnector':this[_0x5d06d6(0x518)],'nlpLibraryConnector':this[_0x5d06d6(0x8bf)],'generativeAIWorkerConnectors':this[_0x5d06d6(0x6b4)],'models':this['workflow'][_0x5d06d6(0x675)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x5d06d6(0x456)]}),_0x590d4b[_0x5d06d6(0x49b)](_0x340f87);}this['sendStats']();}['removeContent'](_0x17009f,_0x450afa){const _0x37d7cd=_0x20cdf8;if(!this[_0x37d7cd(0x139)])throw new Error('Workflow\x20not\x20initialized');const _0x1b01eb=this[_0x37d7cd(0x139)][_0x37d7cd(0x810)][_0x37d7cd(0xb7)](_0x2d1100=>_0x2d1100[_0x37d7cd(0x6f6)]===_0x27c700['Knowledge'])[_0x37d7cd(0x819)](_0x3ddcbc=>_0x3ddcbc[_0x37d7cd(0x3d4)]['some'](_0x34cc8b=>_0x34cc8b['id']===_0x17009f));for(const _0x25b79b of _0x1b01eb?.[_0x37d7cd(0x3d4)]??[])_0x25b79b['type']===_0x2c5e66[_0x37d7cd(0x345)]&&this[_0x37d7cd(0x179)][_0x37d7cd(0x817)](_0x25b79b['id'])[_0x37d7cd(0x1f5)](_0x450afa),_0x25b79b['type']===_0x2c5e66[_0x37d7cd(0x48d)]&&this[_0x37d7cd(0x179)][_0x37d7cd(0x740)](_0x25b79b['id'])['remove'](_0x450afa);this['sendStats']();}[_0x20cdf8(0x3d0)](){const _0x5ae015=_0x20cdf8;try{return this[_0x5ae015(0x2ec)][_0x5ae015(0x2b2)]()['gpu']['cores']*(0x1-this[_0x5ae015(0x2ec)][_0x5ae015(0x2b2)]()[_0x5ae015(0x100)][_0x5ae015(0x403)]);}catch(_0x2cf4ad){return _0x585abf['log'](_0x324ffe[_0x5ae015(0x442)],_0x5ae015(0x3b2),_0x2cf4ad),0x0;}}[_0x20cdf8(0x205)](){const _0x11ed46=_0x20cdf8;this['debounceStats']&&clearTimeout(this[_0x11ed46(0x8c2)]),this[_0x11ed46(0x8c2)]=setTimeout(async()=>{const _0x13aa1e=_0x11ed46;if(delete this[_0x13aa1e(0x8c2)],!this['modelStore'])return;let _0x497848=await this[_0x13aa1e(0x672)]['getSize']();for(const _0x558d6d of this['dataStores']['values']())_0x497848+=await _0x558d6d['getSize']();this[_0x13aa1e(0x361)]['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x13aa1e(0x326)],'content':{'type':_0x277618[_0x13aa1e(0x608)],'label':this[_0x13aa1e(0x59f)],'stats':{'timestamp':Date[_0x13aa1e(0x76a)](),'storage':_0x497848,'messagesSent':this[_0x13aa1e(0x20e)],'messagesReceived':this[_0x13aa1e(0x22c)],'bytesSent':this[_0x13aa1e(0x25b)],'bytesReceived':this[_0x13aa1e(0x5a0)],'writes':0x0,'reads':0x0,'prompts':this[_0x13aa1e(0xf8)],'tokens':this[_0x13aa1e(0x837)]}}});},_0x490b21);}[_0x20cdf8(0x711)](_0x24a995,_0x1d93f9){const _0x19ef5f=_0x20cdf8,_0x3f9130=this[_0x19ef5f(0x59f)],_0x356a44=this[_0x19ef5f(0x25d)]();_0x585abf[_0x19ef5f(0x711)](_0x50e58d[_0x19ef5f(0x6b9)],{'topic':_0x3f9130,'type':_0x19ef5f(0x629),'nodeId':_0x356a44,'tokenCount':_0x1d93f9,'tokensPerSecond':_0x24a995});}[_0x20cdf8(0x323)](_0x5b8ccf){const _0x2dee10=_0x20cdf8;try{if(!this[_0x2dee10(0x139)])throw new Error(_0x2dee10(0x59a));if(!this[_0x2dee10(0x51b)])throw new Error(_0x2dee10(0x15c));if(!_0x590d4b[_0x2dee10(0x323)](this['loggingDb'],_0x5b8ccf))throw new Error(_0x2dee10(0x78a));return _0x5b8ccf;}catch(_0x345b8d){return console[_0x2dee10(0x7b5)]('Error\x20opening\x20trace',_0x345b8d),_0x2dee10(0x3b6);}}['closeTrace'](_0x5e8224){const _0x215fef=_0x20cdf8;try{_0x590d4b['closeTrace'](_0x5e8224);}catch(_0x39c43b){console[_0x215fef(0x7b5)](_0x215fef(0x759),{'jobId':_0x5e8224,'error':_0x39c43b});}}async[_0x20cdf8(0x153)](){return new Promise(_0x222e5c=>{const _0x33c802=a0_0x2e24;try{const _0x2f7873=_0x5afc4c(this['vendorId'],this['label']);this['loggingDb']=this['contentMediator'][_0x33c802(0x84b)](_0x2f7873),this[_0x33c802(0x51b)]['subscribe'](({event:_0x5f3a3d})=>{const _0x293a42=_0x33c802;_0x5f3a3d===_0x3b754d[_0x293a42(0x75c)][_0x293a42(0x824)]&&(this[_0x293a42(0x51b)][_0x293a42(0x579)](),_0x222e5c());});}catch(_0xe15262){console[_0x33c802(0x7b5)]('Error\x20initializing\x20logging\x20database\x20with\x20\x27'+_0x5afc4c(this['vendorId'],this[_0x33c802(0x59f)])+'\x27\x20dabatase\x20id.',_0xe15262),_0x222e5c();}});}}class _0x5c198b extends _0xa58cfb{['localNode'];['clusterId'];['db'];[_0x20cdf8(0x8c2)];[_0x20cdf8(0x686)]=0x0;[_0x20cdf8(0x3e0)]=0x0;constructor(_0x3319c8,_0x10b0a1,_0x2eb760,_0x1fc9e6){const _0x7a3067=_0x20cdf8;if(_0x7a3067(0x478)!=typeof _0x10b0a1)throw new _0x47cbae(_0x40f53d[_0x7a3067(0x5e1)],_0x7a3067(0x6ad));super(_0x3319c8,_0x10b0a1),this[_0x7a3067(0x21a)]=_0x3319c8,this['clusterId']=_0x2eb760,this['db']=new _0x1fc9e6(),this['sendStats']();}[_0x20cdf8(0xb2)](){const _0x4b893b=_0x20cdf8;clearTimeout(this[_0x4b893b(0x8c2)]),delete this[_0x4b893b(0x8c2)],super['destroy']();}[_0x20cdf8(0x671)](){const _0x31897d=_0x20cdf8;this[_0x31897d(0x361)][_0x31897d(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x31897d(0x326)],'content':{'type':_0x277618[_0x31897d(0x85d)],'label':this['label']}});}[_0x20cdf8(0x7e9)](){const _0x2c7165=_0x20cdf8;return _0x3b754d[_0x2c7165(0x4e6)][_0x2c7165(0x48d)];}[_0x20cdf8(0x8b5)](){this['sendStats']();}['addNode'](_0x2502ca,_0x46f987,_0x4522dd,_0x458348){const _0x48b107=_0x20cdf8;this['db'][_0x48b107(0x775)](_0x2502ca,_0x46f987,_0x4522dd,_0x458348),this[_0x48b107(0x686)]+=0x1,this[_0x48b107(0x205)]();}[_0x20cdf8(0x2ac)](_0x55fdf0,_0x5edd5f){const _0x5442cb=_0x20cdf8;this['db'][_0x5442cb(0x2ac)](_0x55fdf0,_0x5edd5f),this[_0x5442cb(0x686)]+=0x1,this[_0x5442cb(0x205)]();}['getContent'](_0x21314f,_0x55f74c,_0xfb8ae){const _0xbcd847=_0x20cdf8,_0x4eb307=this['db']['getContent'](_0x21314f,_0x55f74c,_0xfb8ae);return this[_0xbcd847(0x3e0)]+=0x1,_0x585abf['logServiceEvent'](_0x50e58d['GraphDatabase'],{'type':'get-content','label':this[_0xbcd847(0x59f)],'nodeId':this[_0xbcd847(0x21a)]['getId'](),'nodeType':this[_0xbcd847(0x21a)][_0xbcd847(0x6f6)],'clusterId':this[_0xbcd847(0x461)],'size':0x0}),this[_0xbcd847(0x205)](),_0x4eb307;}[_0x20cdf8(0x1f5)](_0x103fa6){const _0x4ce68e=_0x20cdf8;this['db'][_0x4ce68e(0x1f5)](_0x103fa6),this[_0x4ce68e(0x686)]+=0x1,this[_0x4ce68e(0x205)]();}[_0x20cdf8(0x205)](){const _0x2ce3ab=_0x20cdf8;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x2ce3ab(0x8c2)]=setTimeout(async()=>{const _0x49f20f=_0x2ce3ab;delete this[_0x49f20f(0x8c2)];const _0x4389f0=this['db'][_0x49f20f(0x3e5)]();this[_0x49f20f(0x361)]['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0['Content'],'content':{'type':_0x277618['GraphDatabaseStats'],'label':this[_0x49f20f(0x59f)],'stats':{'timestamp':Date[_0x49f20f(0x76a)](),'storage':_0x4389f0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x49f20f(0x22c)],'bytesSent':this[_0x49f20f(0x25b)],'bytesReceived':this['bytesReceived'],'writes':this[_0x49f20f(0x686)],'reads':this[_0x49f20f(0x3e0)],'prompts':0x0,'tokens':0x0}}}),_0x585abf[_0x49f20f(0x86f)](_0x50e58d[_0x49f20f(0x48d)],_0x49f20f(0x6a9)+this[_0x49f20f(0x461)]+_0x49f20f(0x6a9)+this[_0x49f20f(0x59f)],_0x4389f0);},_0x490b21);}}class _0x41983b extends _0x5799cd{[_0x20cdf8(0x4a8)];constructor(_0x83b6dd,_0x557e83,_0x283459){const _0x1784c3=_0x20cdf8;super(_0x83b6dd,_0x557e83),this[_0x1784c3(0x4a8)]=_0x283459;}[_0x20cdf8(0x7e9)](){const _0x3b0918=_0x20cdf8;return _0x3b754d[_0x3b0918(0x4e6)][_0x3b0918(0x113)];}[_0x20cdf8(0x1ef)](){return this['mediaStream'];}['getInternalStreamId'](){const _0x2a1300=_0x20cdf8;return this[_0x2a1300(0x4a8)]['id'];}}class _0x10cce8 extends _0x41983b{[_0x20cdf8(0x566)];[_0x20cdf8(0x74e)];[_0x20cdf8(0x192)];[_0x20cdf8(0x62d)]=_0x3356bb();constructor(_0x1c59d8,_0x590f3f,_0x48b1cc,_0x1da958,_0x54a69d){const _0x404992=_0x20cdf8;super(_0x1c59d8,_0x590f3f,_0x48b1cc),this[_0x404992(0x566)]=_0x1da958,this[_0x404992(0x74e)]=_0x54a69d;}['destroy'](){const _0xb6b27c=_0x20cdf8;this[_0xb6b27c(0x887)](_0xb6b27c(0x529)),this[_0xb6b27c(0x887)](_0xb6b27c(0x2e3)),super['destroy']();}[_0x20cdf8(0x78e)](_0x373d5f){const _0x488aae=_0x20cdf8;if(!this[_0x488aae(0x192)])throw new _0x5a569f(_0x5a569f[_0x488aae(0x4e8)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x488aae(0x59f)],'ownerId':this[_0x488aae(0x816)][_0x488aae(0x66e)](),'remoteId':this[_0x488aae(0x566)]});this[_0x488aae(0x192)][_0x488aae(0x1ed)]({'sourceId':this[_0x488aae(0x816)]['getId'](),'content':{'action':_0x5d80ab[_0x488aae(0x344)],'track':_0x373d5f,'stream':this[_0x488aae(0x4a8)],'priority':_0x3b754d[_0x488aae(0x25e)][_0x488aae(0x19a)],'params':this[_0x488aae(0x4d7)](_0x373d5f[_0x488aae(0x6b6)],this[_0x488aae(0x74e)])}});}[_0x20cdf8(0x887)](_0x5a9dc2){const _0x717298=_0x20cdf8,_0x3a0664=this[_0x717298(0x511)](_0x5a9dc2);if(_0x3a0664){if(!this[_0x717298(0x192)])return null;this['topic']['publish']({'sourceId':this[_0x717298(0x816)][_0x717298(0x66e)](),'content':{'action':_0x5d80ab['Remove'],'track':_0x3a0664,'stream':this['mediaStream']}});}return _0x3a0664;}['setPriority'](_0x57c356){const _0x146041=_0x20cdf8;if(!this[_0x146041(0x192)])throw new _0x5a569f(_0x5a569f['codes'][_0x146041(0x70e)],{'label':this[_0x146041(0x59f)],'ownerId':this[_0x146041(0x816)][_0x146041(0x66e)](),'remoteId':this[_0x146041(0x566)]});this['topic']['publish']({'sourceId':this['owner'][_0x146041(0x66e)](),'content':{'action':_0x5d80ab[_0x146041(0x5c1)],'priority':_0x57c356,'stream':this[_0x146041(0x4a8)]}});}[_0x20cdf8(0x3cb)]({trackKinds:_0x2069fa,params:_0x3a9aa3},_0x19e219){const _0x2a34c3=_0x20cdf8;if(!this[_0x2a34c3(0x192)])throw new _0x5a569f(_0x5a569f[_0x2a34c3(0x4e8)][_0x2a34c3(0x70e)],{'label':this[_0x2a34c3(0x59f)],'ownerId':this[_0x2a34c3(0x816)][_0x2a34c3(0x66e)](),'remoteId':this['remoteId']});for(const _0x241bec of this[_0x2a34c3(0x4a8)][_0x2a34c3(0x8d7)]())_0x2069fa[_0x2a34c3(0x8cb)](_0x241bec[_0x2a34c3(0x6b6)])&&this[_0x2a34c3(0x192)][_0x2a34c3(0x1ed)]({'sourceId':this[_0x2a34c3(0x816)]['getId'](),'content':{'action':_0x5d80ab[_0x2a34c3(0x344)],'track':_0x241bec,'stream':this[_0x2a34c3(0x4a8)],'priority':_0x19e219,'params':this[_0x2a34c3(0x4d7)](_0x241bec[_0x2a34c3(0x6b6)],_0x3a9aa3)}});}['update']({params:_0x2935c5}){const _0x2890b2=_0x20cdf8;if(!this[_0x2890b2(0x192)])throw new _0x5a569f(_0x5a569f['codes'][_0x2890b2(0x70e)],{'label':this[_0x2890b2(0x59f)],'ownerId':this['owner']['getId'](),'remoteId':this['remoteId']});for(const _0x102d44 of this[_0x2890b2(0x4a8)][_0x2890b2(0x8d7)]())this['topic'][_0x2890b2(0x1ed)]({'sourceId':this[_0x2890b2(0x816)]['getId'](),'content':{'action':_0x5d80ab[_0x2890b2(0x5c1)],'stream':this[_0x2890b2(0x4a8)],'params':this['getInternalTrackParams'](_0x102d44['kind'],_0x2935c5)}});}[_0x20cdf8(0x579)]({trackKinds:_0x17c454}){const _0x44306a=_0x20cdf8;if(this['topic']){for(const _0x1479da of this[_0x44306a(0x4a8)][_0x44306a(0x8d7)]())_0x17c454[_0x44306a(0x8cb)](_0x1479da[_0x44306a(0x6b6)])&&this[_0x44306a(0x192)]['publish']({'sourceId':this[_0x44306a(0x816)][_0x44306a(0x66e)](),'content':{'action':_0x5d80ab[_0x44306a(0x378)],'stream':this[_0x44306a(0x4a8)],'track':_0x1479da}});}}[_0x20cdf8(0xe4)](_0x41b015){const _0x2a21c7=_0x20cdf8;this[_0x2a21c7(0x192)]=_0x41b015;}[_0x20cdf8(0x4e0)](_0x14b6be){const _0x5053c0=_0x20cdf8;_0x14b6be===this[_0x5053c0(0x192)]&&(delete this[_0x5053c0(0x192)],this['unregisterPublisherListener'][_0x5053c0(0x1ed)]());}[_0x20cdf8(0x111)](_0x3355f3){const _0x4dc462=_0x20cdf8;return this[_0x4dc462(0x62d)][_0x4dc462(0x3cb)](_0x3355f3);}[_0x20cdf8(0x511)](_0x2c79ab){const _0x5a6fb1=_0x20cdf8;return this[_0x5a6fb1(0x4a8)][_0x5a6fb1(0x8d7)]()[_0x5a6fb1(0x819)](_0x71cfba=>_0x71cfba[_0x5a6fb1(0x6b6)]===_0x2c79ab)||null;}[_0x20cdf8(0x4d7)](_0x90d141,_0x4287e5){const _0x189c12=_0x20cdf8;let _0x3bf5f6;return'video'===_0x90d141&&_0x4287e5?.['video']&&'boolean'!=typeof _0x4287e5[_0x189c12(0x2e3)]&&(_0x3bf5f6={'kind':_0x189c12(0x2e3),..._0x4287e5[_0x189c12(0x2e3)]},_0x3bf5f6['resolution']=this[_0x189c12(0x769)]()),_0x189c12(0x529)===_0x90d141&&_0x4287e5?.[_0x189c12(0x529)]&&'boolean'!=typeof _0x4287e5[_0x189c12(0x529)]&&(_0x3bf5f6={'kind':_0x189c12(0x529),..._0x4287e5[_0x189c12(0x529)]}),_0x3bf5f6;}[_0x20cdf8(0x769)](){const _0x3593ad=_0x20cdf8;let _0x51aad8={'width':0x0,'height':0x0};const _0x89807c=this[_0x3593ad(0x4a8)][_0x3593ad(0x307)]();if(_0x89807c[_0x3593ad(0x51a)]>0x0){const _0x1c27e3=_0x89807c[0x0][_0x3593ad(0x355)]();_0x1c27e3[_0x3593ad(0x8b7)]&&_0x1c27e3[_0x3593ad(0x497)]&&(_0x51aad8={'width':_0x1c27e3[_0x3593ad(0x8b7)],'height':_0x1c27e3[_0x3593ad(0x497)]});}return _0x51aad8;}}class _0x203688 extends _0x41983b{[_0x20cdf8(0x461)];[_0x20cdf8(0x74f)]=_0x3b754d[_0x20cdf8(0x25e)][_0x20cdf8(0x19a)];[_0x20cdf8(0x889)]=new Map();[_0x20cdf8(0x1b7)]=new Map();constructor(_0x21ebd6,_0x13b890,_0x5d470e,_0x51d3fa){const _0x5b7566=_0x20cdf8;super(_0x21ebd6,_0x13b890,_0x5d470e instanceof MediaStream?_0x5d470e:_0x5d470e[_0x5b7566(0x818)]?_0x5d470e['srcObject']:_0x5d470e['captureStream']()),this[_0x5b7566(0x461)]=_0x51d3fa,this['mediaStream'][_0x5b7566(0x8d7)]()[_0x5b7566(0x34b)](_0x4b752e=>this['setupTrackEndedListeners'](_0x4b752e)),_0x585abf[_0x5b7566(0x711)](_0x50e58d[_0x5b7566(0x3ab)],{'type':_0x5b7566(0x1ed),'label':this[_0x5b7566(0x59f)],'nodeId':this['owner'][_0x5b7566(0x66e)](),'nodeType':this[_0x5b7566(0x816)]['type'],'clusterId':this[_0x5b7566(0x461)],'streamId':this['getInternalStreamId'](),'trackKinds':this['mediaStream']['getTracks']()['map'](_0x3aebaa=>_0x3aebaa['kind'])});}[_0x20cdf8(0xb2)](){const _0x2eae46=_0x20cdf8;this['outgoingStreams'][_0x2eae46(0x3b4)]>0x0&&(this['outgoingStreams'][_0x2eae46(0x34b)](_0x1343c5=>{const _0x4b8588=_0x2eae46;_0x1343c5['unregisterSystemPublisher'](),_0x1343c5[_0x4b8588(0xb2)]();}),this[_0x2eae46(0x1b7)][_0x2eae46(0x1fc)]()),this[_0x2eae46(0x889)][_0x2eae46(0x34b)](_0x435c3f=>_0x435c3f()),super[_0x2eae46(0xb2)]();}[_0x20cdf8(0x1ed)](_0x3d56cb){const _0x2f8686=_0x20cdf8;this['systemTopic'][_0x2f8686(0x1ed)]({'sourceId':this[_0x2f8686(0x816)][_0x2f8686(0x66e)](),'destinationIds':_0x3d56cb?[_0x3d56cb]:void 0x0,'propagate':!0x0,'messageType':_0x213fd0[_0x2f8686(0x326)],'content':{'type':_0x277618[_0x2f8686(0x69b)],'ownerId':this[_0x2f8686(0x816)][_0x2f8686(0x66e)](),'label':this[_0x2f8686(0x59f)],'stream':{'streamId':this[_0x2f8686(0x242)](),'availableTrackKinds':this[_0x2f8686(0x4a8)]['getTracks']()[_0x2f8686(0x7ea)](_0x350d66=>_0x350d66[_0x2f8686(0x6b6)])}}});}[_0x20cdf8(0x7e1)](){const _0x29d79f=_0x20cdf8;this[_0x29d79f(0x361)][_0x29d79f(0x1ed)]({'sourceId':this[_0x29d79f(0x816)][_0x29d79f(0x66e)](),'propagate':!0x0,'messageType':_0x213fd0[_0x29d79f(0x326)],'content':{'type':_0x277618[_0x29d79f(0x3fd)],'ownerId':this[_0x29d79f(0x816)][_0x29d79f(0x66e)](),'label':this[_0x29d79f(0x59f)]}}),this[_0x29d79f(0x361)][_0x29d79f(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0['Content'],'content':{'type':_0x277618[_0x29d79f(0x292)],'label':this[_0x29d79f(0x59f)]}}),_0x585abf['logServiceEvent'](_0x50e58d['MediaStream'],{'type':_0x29d79f(0x7e1),'label':this['label'],'nodeId':this[_0x29d79f(0x816)]['getId'](),'nodeType':this[_0x29d79f(0x816)][_0x29d79f(0x6f6)],'clusterId':this[_0x29d79f(0x461)],'streamId':this[_0x29d79f(0x242)]()});}[_0x20cdf8(0xc4)](){const _0x4618a3=_0x20cdf8;return this[_0x4618a3(0x74f)];}[_0x20cdf8(0x894)](_0x23a0fe){const _0x580740=_0x20cdf8;this[_0x580740(0x74f)]=_0x23a0fe,this[_0x580740(0x1b7)][_0x580740(0x34b)](_0x565956=>_0x565956['setPriority'](_0x23a0fe));}[_0x20cdf8(0x42b)](_0x4df9a5,_0x21019d){const _0x1ba1c7=_0x20cdf8;if(!this['outgoingStreams'][_0x1ba1c7(0x6f2)](_0x4df9a5)){const _0x48a129=new _0x10cce8(this[_0x1ba1c7(0x816)],this[_0x1ba1c7(0x59f)],this['mediaStream'],_0x4df9a5,_0x21019d),_0x3860e5=_0x48a129[_0x1ba1c7(0x111)](()=>{const _0x4c4a62=_0x1ba1c7;_0x3860e5(),this['outgoingStreams']['get'](_0x4df9a5)?.[_0x4c4a62(0xb2)](),this[_0x4c4a62(0x1b7)][_0x4c4a62(0x268)](_0x4df9a5);});this[_0x1ba1c7(0x1b7)]['set'](_0x4df9a5,_0x48a129),_0x48a129[_0x1ba1c7(0x47a)](this[_0x1ba1c7(0x361)]);}return this[_0x1ba1c7(0x1b7)]['get'](_0x4df9a5);}[_0x20cdf8(0x897)](){const _0x2c1ed7=_0x20cdf8;return this[_0x2c1ed7(0x4a8)]['id'];}[_0x20cdf8(0x324)](_0x1e5254){const _0x244be5=_0x20cdf8;this[_0x244be5(0x361)][_0x244be5(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x244be5(0x326)],'content':{'type':_0x277618[_0x244be5(0x2f3)],'label':this[_0x244be5(0x59f)],'trackKinds':[_0x1e5254[_0x244be5(0x6b6)]]}});}[_0x20cdf8(0x751)](_0x372a98){const _0x3409cd=_0x20cdf8,_0x305dee=()=>this[_0x3409cd(0x324)](_0x372a98);_0x372a98[_0x3409cd(0x84c)](_0x3409cd(0x4e1),_0x305dee),_0x372a98[_0x3409cd(0x84c)](_0x3409cd(0x21d),_0x305dee),this[_0x3409cd(0x889)]['set'](_0x372a98['kind'],()=>{const _0x7cc80e=_0x3409cd;_0x372a98[_0x7cc80e(0x5b6)](_0x7cc80e(0x4e1),_0x305dee),_0x372a98[_0x7cc80e(0x5b6)](_0x7cc80e(0x21d),_0x305dee),this[_0x7cc80e(0x889)][_0x7cc80e(0x268)](_0x372a98[_0x7cc80e(0x6b6)]);});}}class _0x468b76 extends _0x203688{[_0x20cdf8(0x583)];[_0x20cdf8(0x86d)]=[];[_0x20cdf8(0x409)];[_0x20cdf8(0xf9)];[_0x20cdf8(0x88c)];[_0x20cdf8(0x3a9)];[_0x20cdf8(0x42e)];['context'];[_0x20cdf8(0x6cf)];constructor(_0x248456,_0x460d09,_0x3ee2aa,_0x1a19e6,_0x2223b1,_0xd1dd7){const _0x15ecc2=_0x20cdf8;if(super(_0x248456,_0x460d09,_0x3ee2aa,_0xd1dd7),this[_0x15ecc2(0x583)]=_0x2223b1,this[_0x15ecc2(0x409)]=this[_0x15ecc2(0x4a8)],this[_0x15ecc2(0x3a9)]=document[_0x15ecc2(0x82e)](_0x15ecc2(0x2e3)),this[_0x15ecc2(0x3a9)][_0x15ecc2(0x651)]=!0x0,this[_0x15ecc2(0x3a9)]['muted']=!0x0,this[_0x15ecc2(0x3a9)]['srcObject']=this[_0x15ecc2(0x409)],this[_0x15ecc2(0x3a9)][_0x15ecc2(0x403)](),this[_0x15ecc2(0x3a9)][_0x15ecc2(0x2a8)]=()=>{const _0x37a7a4=_0x15ecc2;this[_0x37a7a4(0x3a9)][_0x37a7a4(0x2a0)]();},this[_0x15ecc2(0x42e)]=document[_0x15ecc2(0x82e)](_0x15ecc2(0x42e)),this[_0x15ecc2(0x4df)]=this['canvas']['getContext']('2d'),this[_0x15ecc2(0x4a8)]=this['canvas'][_0x15ecc2(0x2c7)](_0x1a19e6),this[_0x15ecc2(0x88c)]=this['audioContext']['createMediaStreamDestination'](),this['clientStream'][_0x15ecc2(0xe6)]()[_0x15ecc2(0x51a)]>0x0){const _0x312f31=this[_0x15ecc2(0x409)][_0x15ecc2(0xe6)]()[0x0];this['audioSource']=this[_0x15ecc2(0x583)][_0x15ecc2(0x44e)](new MediaStream([_0x312f31])),this[_0x15ecc2(0xf9)]['connect'](this['audioDestination']);}const _0x52f3a8=this['audioDestination']['stream'][_0x15ecc2(0x8d7)]()[0x0];this['mediaStream'][_0x15ecc2(0x78e)](_0x52f3a8),this[_0x15ecc2(0x6cf)]=setInterval(()=>{const _0x15a9bf=_0x15ecc2;this[_0x15a9bf(0x42e)][_0x15a9bf(0x8b7)]=this[_0x15a9bf(0x3a9)][_0x15a9bf(0x730)],this[_0x15a9bf(0x42e)][_0x15a9bf(0x497)]=this['sourceVideo']['videoHeight'],this[_0x15a9bf(0x3a9)][_0x15a9bf(0x730)]?(0x0!==this[_0x15a9bf(0x409)][_0x15a9bf(0x307)]()[_0x15a9bf(0x51a)]&&this['clientStream'][_0x15a9bf(0x307)]()[0x0][_0x15a9bf(0xb8)]?this[_0x15a9bf(0x4a8)][_0x15a9bf(0x307)]()[0x0][_0x15a9bf(0xb8)]=!0x0:this['mediaStream'][_0x15a9bf(0x307)]()[0x0][_0x15a9bf(0xb8)]=!0x1,0x0!==this[_0x15a9bf(0x409)][_0x15a9bf(0xe6)]()[_0x15a9bf(0x51a)]&&this[_0x15a9bf(0x409)][_0x15a9bf(0xe6)]()[0x0][_0x15a9bf(0xb8)]?this[_0x15a9bf(0x4a8)][_0x15a9bf(0xe6)]()[0x0][_0x15a9bf(0xb8)]=!0x0:this[_0x15a9bf(0x4a8)][_0x15a9bf(0xe6)]()[0x0][_0x15a9bf(0xb8)]=!0x1,this[_0x15a9bf(0x4df)]['drawImage'](this[_0x15a9bf(0x3a9)],0x0,0x0)):this[_0x15a9bf(0x4df)][_0x15a9bf(0x46f)](0x0,0x0,this[_0x15a9bf(0x42e)]['width'],this['canvas'][_0x15a9bf(0x497)]);},0x3e8/_0x1a19e6);}[_0x20cdf8(0xb2)](){const _0x57736f=_0x20cdf8;clearInterval(this[_0x57736f(0x6cf)]),this[_0x57736f(0x3a9)]['remove'](),this[_0x57736f(0x42e)][_0x57736f(0x1f5)](),this['audioSource']?.['disconnect'](),this[_0x57736f(0x88c)][_0x57736f(0x656)](),this[_0x57736f(0x4a8)][_0x57736f(0x8d7)]()[_0x57736f(0x34b)](_0x268fb5=>{const _0x1bb1db=_0x57736f;_0x268fb5[_0x1bb1db(0x4ff)](),this[_0x1bb1db(0x4a8)][_0x1bb1db(0x887)](_0x268fb5);}),super[_0x57736f(0xb2)]();}[_0x20cdf8(0x78e)](_0x375bd2){const _0x5e1855=_0x20cdf8,_0x57e7e7=this['getTrack'](_0x375bd2[_0x5e1855(0x6b6)]);_0x57e7e7&&this[_0x5e1855(0x887)](_0x57e7e7),'audio'!==_0x375bd2['kind']?('video'===_0x375bd2[_0x5e1855(0x6b6)]&&this['addVideoTrack'](_0x375bd2),this[_0x5e1855(0x751)](_0x375bd2)):this[_0x5e1855(0x2c5)](_0x375bd2);}[_0x20cdf8(0x887)](_0x2d9c87){const _0x2633f2=_0x20cdf8,_0x42e2aa=this['getTrackFromParam'](_0x2d9c87);return _0x42e2aa&&(_0x2633f2(0x529)===_0x42e2aa[_0x2633f2(0x6b6)]&&(this[_0x2633f2(0xf9)]?.[_0x2633f2(0x656)](),this['audioSource']=void 0x0),this[_0x2633f2(0x889)][_0x2633f2(0x333)](_0x42e2aa[_0x2633f2(0x6b6)])?.(),this[_0x2633f2(0x409)][_0x2633f2(0x887)](_0x42e2aa)),_0x42e2aa;}[_0x20cdf8(0x33d)](_0x1f249d){const _0x5ba9a4=_0x20cdf8;this[_0x5ba9a4(0x887)](_0x1f249d['kind']),this['addTrack'](_0x1f249d);}[_0x20cdf8(0x255)](_0x410ced){const _0x733e15=_0x20cdf8;this[_0x733e15(0x86d)]=_0x410ced;}[_0x20cdf8(0x511)](_0x343996){const _0x2d4ddb=_0x20cdf8;return this[_0x2d4ddb(0x409)][_0x2d4ddb(0x8d7)]()[_0x2d4ddb(0x819)](_0x92f006=>_0x92f006[_0x2d4ddb(0x6b6)]===_0x343996)||null;}[_0x20cdf8(0x75f)](_0x4c6698){const _0x3d04a6=_0x20cdf8;return _0x3d04a6(0x478)==typeof _0x4c6698?this['getTrack'](_0x4c6698):_0x4c6698;}[_0x20cdf8(0x2c5)](_0x3f3678){const _0x5842c0=_0x20cdf8;_0x5842c0(0x4fe)===this[_0x5842c0(0x583)][_0x5842c0(0xbe)]&&this['audioContext'][_0x5842c0(0x144)](),this[_0x5842c0(0x409)][_0x5842c0(0x78e)](_0x3f3678),this[_0x5842c0(0xf9)]=this[_0x5842c0(0x583)][_0x5842c0(0x44e)](this['clientStream']),this[_0x5842c0(0xf9)][_0x5842c0(0x63d)](this['audioDestination']);}[_0x20cdf8(0x2e2)](_0x36ed54){const _0x4f0917=_0x20cdf8;this['clientStream'][_0x4f0917(0x78e)](_0x36ed54),this[_0x4f0917(0x3a9)]['load']();}}class _0x39b988 extends _0x203688{}class _0x1db819 extends _0xa58cfb{['localNode'];[_0x20cdf8(0x461)];[_0x20cdf8(0x6f5)];[_0x20cdf8(0x690)];[_0x20cdf8(0x73d)];[_0x20cdf8(0x7a7)];['lastTransactionId'];[_0x20cdf8(0x70d)]=new Map();[_0x20cdf8(0x785)]=new Map();[_0x20cdf8(0x815)]=new Map();[_0x20cdf8(0x2b9)]=new Map();['pendingFilesRename']=new Map();[_0x20cdf8(0x1de)]=new Map();['objectStoreConnector'];['eventListener']=_0x53e3a2();[_0x20cdf8(0x199)]=new Map();[_0x20cdf8(0x8c2)];[_0x20cdf8(0x686)]=0x0;[_0x20cdf8(0x3e0)]=0x0;[_0x20cdf8(0x62b)]=!0x0;[_0x20cdf8(0x5e3)]=!0x0;[_0x20cdf8(0x50f)]=0x0;constructor(_0x2b1de0,_0x2ea5bc,_0x42f95e,_0x413da8,_0x4eaad9,_0x40e69d,_0x34fed0){const _0x3836c9=_0x20cdf8;if(_0x3836c9(0x478)!=typeof _0x2ea5bc)throw new _0x47cbae(_0x40f53d[_0x3836c9(0x7b1)],_0x3836c9(0x7b8));super(_0x2b1de0,_0x2ea5bc),this[_0x3836c9(0x21a)]=_0x2b1de0,this['clusterId']=_0x42f95e,this[_0x3836c9(0x6f5)]=_0x413da8,this[_0x3836c9(0x690)]=_0x4eaad9,this[_0x3836c9(0x73d)]=_0x34fed0;const _0x640eee=_0x3836c9(0x6a9)+this['vendorId']+_0x3836c9(0x6a9)+this[_0x3836c9(0x461)]+_0x3836c9(0x6a9)+_0x2ea5bc;this[_0x3836c9(0x108)]=new _0x40e69d(_0x640eee),this[_0x3836c9(0x205)]();}[_0x20cdf8(0x8b5)](){const _0x5ec129=_0x20cdf8;this[_0x5ec129(0x205)]();}[_0x20cdf8(0x7e9)](){return _0x3b754d['ContentType']['ObjectStore'];}async[_0x20cdf8(0x116)](_0x308599){const _0x54db90=_0x20cdf8;void 0x0!==_0x308599&&(this[_0x54db90(0x62b)]=_0x308599),this[_0x54db90(0x5e3)]=!0x0;try{const _0x356a3b=await this[_0x54db90(0x108)][_0x54db90(0x333)](_0x1483ac),_0x5248dc=await _0x356a3b[_0x54db90(0x712)]();this[_0x54db90(0x320)]=_0x5248dc;}catch(_0x38b271){}this[_0x54db90(0x7a7)]=this['onMessage'](async(_0x432def,_0x5819e1)=>{const _0x23cd2e=_0x54db90;if(!(_0x5819e1 instanceof File))try{if(_0x5819e1[_0x23cd2e(0x206)]===_0x450789[_0x23cd2e(0x27f)])return void this[_0x23cd2e(0x637)](_0x5819e1);this[_0x23cd2e(0x7dc)](_0x5819e1);}catch(_0x554600){if(_0x554600 instanceof _0x5a569f)throw _0x554600;throw new _0x5a569f(_0x5a569f['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x5819e1});}}),await this[_0x54db90(0x3d8)](),this['syncContent']?await this[_0x54db90(0x64a)]():this[_0x54db90(0x54a)](),this[_0x54db90(0x205)]();}[_0x20cdf8(0xb2)](){const _0x1cccde=_0x20cdf8;this[_0x1cccde(0x7a7)]?.(),this['listenerUnsubscribers']['forEach'](_0x51e4e8=>_0x51e4e8()),clearTimeout(this[_0x1cccde(0x8c2)]),delete this[_0x1cccde(0x8c2)],super[_0x1cccde(0xb2)]();}['close'](){const _0x42fb9e=_0x20cdf8;this[_0x42fb9e(0x361)]?.['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x42fb9e(0x326)],'content':{'type':_0x277618[_0x42fb9e(0x861)],'label':this[_0x42fb9e(0x59f)]}});}['subscribe'](_0x1f24ba,_0x13310b){const _0x21965f=_0x20cdf8;if(this[_0x21965f(0x199)][_0x21965f(0x6f2)](_0x1f24ba))throw new _0x47cbae(_0x40f53d[_0x21965f(0x454)],_0x21965f(0x47c));this[_0x21965f(0x199)][_0x21965f(0xaf)](_0x1f24ba,this[_0x21965f(0x764)][_0x21965f(0x3cb)](_0x13310b)),this[_0x21965f(0x5e3)]||this['eventListener'][_0x21965f(0x1ed)]({'event':_0x3b754d[_0x21965f(0x7f8)][_0x21965f(0x824)],'payload':null});}[_0x20cdf8(0x579)](_0x2b8c23){const _0x1bf596=_0x20cdf8;this[_0x1bf596(0x199)][_0x1bf596(0x333)](_0x2b8c23)?.(),this[_0x1bf596(0x199)][_0x1bf596(0x268)](_0x2b8c23);}[_0x20cdf8(0x1ed)](_0x310d6f){const _0x2b8440=_0x20cdf8;switch(_0x310d6f[_0x2b8440(0x22f)]){case _0x3b754d[_0x2b8440(0x900)][_0x2b8440(0x104)]:return this[_0x2b8440(0x6d0)](_0x310d6f[_0x2b8440(0xb3)],_0x310d6f[_0x2b8440(0x521)],_0x310d6f[_0x2b8440(0x846)]);case _0x3b754d[_0x2b8440(0x900)][_0x2b8440(0x7ab)]:return this[_0x2b8440(0x634)](_0x310d6f['path']);case _0x3b754d[_0x2b8440(0x900)][_0x2b8440(0x55f)]:return this[_0x2b8440(0x360)](_0x310d6f['path'],_0x310d6f[_0x2b8440(0x6de)]);default:throw new _0x47cbae(_0x40f53d[_0x2b8440(0xd6)],'Cannot\x20publish\x20payload:\x20'+_0x310d6f);}}async[_0x20cdf8(0x7e1)](_0x41981c){const _0x43838c=_0x20cdf8;try{const _0x5937d1=(0x0,_0x3ee2fb['v4'])(),_0xc577b9=this[_0x43838c(0x320)],_0x6f037a={'payloadType':_0x450789[_0x43838c(0x243)],'action':_0x21f921['Delete'],'id':_0x5937d1,'parentId':_0xc577b9,'path':_0x41981c};await this[_0x43838c(0x329)](_0x6f037a);const _0x1c9d5c=await this[_0x43838c(0xfc)](_0x41981c);await this[_0x43838c(0x84a)](_0x6f037a),_0x585abf['logServiceEvent'](_0x50e58d['ObjectStorage'],{'type':'unpublish','label':this[_0x43838c(0x59f)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x43838c(0x6f6)],'clusterId':this[_0x43838c(0x461)],'kind':_0x1c9d5c,'path':_0x41981c}),this[_0x43838c(0x686)]+=0x1,this['sendStats']();}catch(_0x4709a3){if(_0x4709a3 instanceof _0x5a569f)throw new _0x47cbae(_0x40f53d['ObjectStoreNotInSync'],_0x43838c(0x1bf)+_0x41981c+_0x43838c(0x6fc));throw new _0x47cbae(_0x40f53d[_0x43838c(0x446)],_0x43838c(0x1aa)+_0x41981c);}}async[_0x20cdf8(0x333)](_0x2e47bc,_0x380416){const _0x29fe7c=_0x20cdf8;_0x585abf[_0x29fe7c(0x711)](_0x50e58d[_0x29fe7c(0x12b)],{'type':_0x29fe7c(0x333),'label':this['label'],'nodeId':this[_0x29fe7c(0x21a)][_0x29fe7c(0x66e)](),'nodeType':this[_0x29fe7c(0x21a)]['type'],'clusterId':this[_0x29fe7c(0x461)],'path':_0x2e47bc}),this['reads']+=0x1,this[_0x29fe7c(0x205)]();try{return await this[_0x29fe7c(0x108)][_0x29fe7c(0x333)](_0x2e47bc,_0x380416);}catch(_0x8a3667){try{await this[_0x29fe7c(0x108)][_0x29fe7c(0x333)](_0x2e47bc+_0x130531);}catch(_0x2f2cdb){throw new _0x47cbae(_0x40f53d[_0x29fe7c(0x446)],_0x29fe7c(0x76d)+_0x2e47bc);}throw new _0x47cbae(_0x40f53d[_0x29fe7c(0xda)],_0x29fe7c(0x4fb));}}async['list'](_0x1e72da,_0xf627ce){const _0x4840bc=_0x20cdf8,{recursive:_0x1a538a=!0x1,includeSyncingFiles:_0x41d2e0=!0x1}=_0xf627ce??{};_0x585abf[_0x4840bc(0x711)](_0x50e58d['ObjectStorage'],{'type':'list','label':this[_0x4840bc(0x59f)],'nodeId':this['localNode'][_0x4840bc(0x66e)](),'nodeType':this[_0x4840bc(0x21a)][_0x4840bc(0x6f6)],'clusterId':this[_0x4840bc(0x461)],'path':_0x1e72da}),this[_0x4840bc(0x3e0)]+=0x1,this['sendStats']();try{const _0x27a163=await this[_0x4840bc(0x108)][_0x4840bc(0x532)](_0x1e72da,_0x1a538a);return this[_0x4840bc(0x3c7)](_0x27a163,{'recursive':_0x1a538a,'includeSyncingFiles':_0x41d2e0});}catch(_0x5a4534){throw new _0x47cbae(_0x40f53d[_0x4840bc(0x446)],_0x4840bc(0x407)+_0x1e72da);}}['handleNodeJoin'](_0x3940a1){const _0x3c3441=_0x20cdf8;this['nodesConnected']+=0x1;for(const _0x726c67 of this[_0x3c3441(0x785)]['values']())this['send'](_0x726c67,[_0x3940a1]);}[_0x20cdf8(0x6fa)](_0x190dba){const _0x4778b4=_0x20cdf8;this[_0x4778b4(0x50f)]-=0x1;const _0x401815=this['pendingFilesSyncing'][_0x4778b4(0x333)](_0x190dba);if(_0x401815){for(const [_0x5d0d91,_0xcf1ba3]of _0x401815['values']())this[_0x4778b4(0x1fa)](_0x5d0d91,_0xcf1ba3);this['pendingFilesSyncing']['delete'](_0x190dba);}}async[_0x20cdf8(0x3e5)](_0x3bb031='/'){const _0x3a252d=_0x20cdf8;try{return await this[_0x3a252d(0x108)]['calculateSize'](_0x3bb031);}catch(_0x450179){if(_0x450179 instanceof Error&&_0x450179['message'][_0x3a252d(0x8cb)]('ENOENT'))return 0x0;throw new _0x47cbae(_0x40f53d[_0x3a252d(0x446)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x3bb031);}}[_0x20cdf8(0x54a)](){const _0x865312=_0x20cdf8;this[_0x865312(0x5e3)]&&(this['isSyncing']=!0x1,this[_0x865312(0x764)][_0x865312(0x1ed)]({'event':_0x3b754d[_0x865312(0x7f8)][_0x865312(0x824)],'payload':null}));}async[_0x20cdf8(0x3c7)](_0x471429,{includeSyncingFiles:_0x4aa77e=!0x1}){const _0x392024=_0x20cdf8,_0x373708=[];for(const _0x232b5e of _0x471429)if(_0x232b5e[_0x392024(0x6b6)]!==_0x3b754d[_0x392024(0x783)]['Folder']){if(_0x232b5e[_0x392024(0x294)]!==_0x1483ac){if(_0x232b5e[_0x392024(0x294)][_0x392024(0x863)](_0x130531)){if(!_0x4aa77e)continue;const _0x4d6740=_0x232b5e;if(_0x4d6740[_0x392024(0x294)]=_0x4d6740[_0x392024(0x294)]['replace'](_0x130531,''),_0x4d6740['pathName']=_0x4d6740[_0x392024(0x5b5)][_0x392024(0x74a)](_0x130531,''),await this[_0x392024(0x864)](_0x4d6740['pathName'])){_0x471429[_0x392024(0x819)](_0x572dc5=>_0x572dc5[_0x392024(0x5b5)]===_0x4d6740[_0x392024(0x5b5)])[_0x392024(0x547)]=_0x3b754d[_0x392024(0x45d)][_0x392024(0x3fe)];continue;}_0x4d6740['status']=_0x3b754d['FileStatus'][_0x392024(0x343)];}_0x373708[_0x392024(0x82c)](_0x232b5e);}}else _0x232b5e['entries']=await this[_0x392024(0x3c7)](_0x232b5e['entries']??[],{'includeSyncingFiles':_0x4aa77e}),_0x373708[_0x392024(0x82c)](_0x232b5e);return _0x373708;}async[_0x20cdf8(0x6d0)](_0x421397,_0x3cab32,_0x5e5101){const _0x54f881=_0x20cdf8;try{const _0xf15ff5=(0x0,_0x3ee2fb['v4'])(),_0x597be0=await _0x41a7d4(_0x421397),_0x165e33=_0x2a6855(_0x3cab32??'/',_0x421397[_0x54f881(0x294)]);let _0x1306d6=!0x0;const _0x37ceb6={'payloadType':_0x450789['Transaction'],'action':_0x21f921[_0x54f881(0x358)],'id':_0xf15ff5,'parentId':this[_0x54f881(0x320)],'answererId':this[_0x54f881(0x21a)][_0x54f881(0x66e)](),'name':_0x421397[_0x54f881(0x294)],'type':_0x421397['type'],'path':_0x3cab32??'/','skipEncryption':_0x5e5101?.[_0x54f881(0x4b5)]??!0x1,'checksum':_0x597be0};try{const _0x249200=_0x165e33+_0x130531;await this[_0x54f881(0x108)][_0x54f881(0x333)](_0x249200),_0x1306d6=!0x1,await this[_0x54f881(0x108)]['deleteObject'](_0x249200),this['objectRequests'][_0x54f881(0x268)](_0x165e33);}catch(_0x3d0099){await this['publishTransaction'](_0x37ceb6);}if(this['syncContent']?await this[_0x54f881(0x5a8)](_0x421397,_0x3cab32,_0x5e5101):await this[_0x54f881(0x892)](_0x421397['name'],_0x3cab32??'/',{'checksum':_0x597be0,'skipEncryption':_0x5e5101?.[_0x54f881(0x4b5)]??!0x1}),this['fileSendingMap']['has'](_0x165e33)){const [_0xdc2f25,_0x143d5f]=this[_0x54f881(0x1de)]['get'](_0x165e33);this[_0x54f881(0x1de)][_0x54f881(0xaf)](_0x165e33,[!0x0,_0x143d5f]);try{await _0x143d5f;}catch(_0x5a2f9e){}this[_0x54f881(0x1de)][_0x54f881(0x268)](_0x165e33);}_0x1306d6&&this[_0x54f881(0x50f)]>0x0&&await this[_0x54f881(0x3e9)](_0x421397,_0x37ceb6),_0x585abf[_0x54f881(0x711)](_0x50e58d['ObjectStorage'],{'type':'publish','label':this[_0x54f881(0x59f)],'nodeId':this[_0x54f881(0x21a)][_0x54f881(0x66e)](),'nodeType':this[_0x54f881(0x21a)]['type'],'clusterId':this[_0x54f881(0x461)],'kind':_0x3b754d[_0x54f881(0x783)]['File'],'path':_0x3cab32,'fileName':_0x421397[_0x54f881(0x294)],'fileType':_0x421397[_0x54f881(0x6f6)],'size':_0x421397[_0x54f881(0x3b4)]}),this[_0x54f881(0x686)]+=0x1,this['sendStats']();}catch(_0x54fc57){if(_0x54fc57 instanceof _0x5a569f)throw new _0x47cbae(_0x40f53d['ObjectStoreNotInSync'],_0x54f881(0x4fb));throw new _0x47cbae(_0x40f53d[_0x54f881(0x446)],_0x54f881(0x6b7)+_0x3cab32+(_0x3cab32?.[_0x54f881(0x863)]('/')?'':'/')+_0x421397[_0x54f881(0x294)]);}}async[_0x20cdf8(0x634)](_0xbd3f61){const _0x26c564=_0x20cdf8;try{const _0x42c338=(0x0,_0x3ee2fb['v4'])(),_0x26e1dd=this[_0x26c564(0x320)],_0x147d94={'payloadType':_0x450789[_0x26c564(0x243)],'action':_0x21f921[_0x26c564(0xbc)],'id':_0x42c338,'parentId':_0x26e1dd,'path':_0xbd3f61};await this[_0x26c564(0x329)](_0x147d94),await this[_0x26c564(0x108)][_0x26c564(0x5c6)](_0xbd3f61),await this[_0x26c564(0x84a)](_0x147d94),_0x585abf[_0x26c564(0x711)](_0x50e58d['ObjectStorage'],{'type':_0x26c564(0x1ed),'label':this[_0x26c564(0x59f)],'nodeId':this[_0x26c564(0x21a)][_0x26c564(0x66e)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x26c564(0x461)],'kind':_0x3b754d[_0x26c564(0x783)][_0x26c564(0x7ab)],'path':_0xbd3f61}),this[_0x26c564(0x686)]+=0x1,this[_0x26c564(0x205)]();}catch(_0x44fb40){if(_0x44fb40 instanceof _0x5a569f)throw new _0x47cbae(_0x40f53d['ObjectStoreNotInSync'],_0x26c564(0x4fb));throw new _0x47cbae(_0x40f53d[_0x26c564(0x446)],_0x26c564(0x6a6)+_0xbd3f61);}}async['publishMove'](_0x3b7241,_0x2a0586){const _0x4079f4=_0x20cdf8;try{const _0x1aed55=(0x0,_0x3ee2fb['v4'])(),_0x4e51de=this[_0x4079f4(0x320)],_0x52b52b={'payloadType':_0x450789['Transaction'],'action':_0x21f921[_0x4079f4(0x55f)],'id':_0x1aed55,'parentId':_0x4e51de,'path':_0x3b7241,'newPath':_0x2a0586};await this[_0x4079f4(0x329)](_0x52b52b);const _0x497109=await this[_0x4079f4(0x3ba)](_0x3b7241,_0x2a0586);await this['send'](_0x52b52b),_0x585abf[_0x4079f4(0x711)](_0x50e58d['ObjectStorage'],{'type':_0x4079f4(0x722),'label':this[_0x4079f4(0x59f)],'nodeId':this[_0x4079f4(0x21a)][_0x4079f4(0x66e)](),'nodeType':this[_0x4079f4(0x21a)][_0x4079f4(0x6f6)],'clusterId':this[_0x4079f4(0x461)],'kind':_0x497109,'path':_0x3b7241,'newPath':_0x2a0586}),this['writes']+=0x1,this[_0x4079f4(0x205)]();}catch(_0x4d06de){if(_0x4d06de instanceof _0x5a569f)throw new _0x47cbae(_0x40f53d[_0x4079f4(0xda)],_0x4079f4(0x4fb));throw new _0x47cbae(_0x40f53d['ObjectStoreInvalidPath'],_0x4079f4(0x226)+_0x3b7241);}}async[_0x20cdf8(0x7dc)](_0x18e3cd,_0x3fc2ca=!0x1){const _0x5067c7=_0x20cdf8;if(this['lastTransactionId']&&_0x18e3cd[_0x5067c7(0x8a3)]!==this['lastTransactionId']&&_0x18e3cd['id']!==this[_0x5067c7(0x320)]){if(!_0x18e3cd[_0x5067c7(0x8a3)])throw new _0x5a569f(_0x5a569f[_0x5067c7(0x4e8)]['ObjectStoreInvalidSyncMessage']);this[_0x5067c7(0x70d)][_0x5067c7(0xaf)](_0x18e3cd[_0x5067c7(0x8a3)],_0x18e3cd);}else{try{await this[_0x5067c7(0x53e)](_0x18e3cd,_0x3fc2ca);}catch(_0x3f3a2e){}await this[_0x5067c7(0x19c)](_0x18e3cd['id']),await this[_0x5067c7(0x2f6)](_0x18e3cd['id'],_0x3fc2ca);}}async[_0x20cdf8(0x53e)](_0x4ebf6b,_0x200e5a=!0x1){const _0x384e02=_0x20cdf8;switch(_0x4ebf6b[_0x384e02(0x22f)]){case _0x21f921[_0x384e02(0x358)]:await this[_0x384e02(0x7c2)](_0x4ebf6b);break;case _0x21f921[_0x384e02(0xbc)]:await this[_0x384e02(0x639)](_0x4ebf6b);break;case _0x21f921['Move']:await this['handleObjectMove'](_0x4ebf6b,_0x200e5a);break;case _0x21f921[_0x384e02(0x826)]:await this[_0x384e02(0x7d6)](_0x4ebf6b,_0x200e5a);break;default:throw new _0x5a569f(_0x5a569f[_0x384e02(0x4e8)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x4ebf6b});}}async[_0x20cdf8(0x2f6)](_0x273fb2,_0x3e70ec=!0x1){const _0x38c57b=_0x20cdf8;if(this[_0x38c57b(0x70d)][_0x38c57b(0x6f2)](_0x273fb2)){const _0xd7a0b8=this['pendingSyncTransactions'][_0x38c57b(0x333)](_0x273fb2);this[_0x38c57b(0x70d)][_0x38c57b(0x268)](_0x273fb2),await this[_0x38c57b(0x7dc)](_0xd7a0b8,_0x3e70ec);}}async[_0x20cdf8(0x637)](_0x3620d2){const _0x59bd41=_0x20cdf8;switch(_0x3620d2[_0x59bd41(0x22f)]){case _0x21f921[_0x59bd41(0x142)]:return this[_0x59bd41(0x288)](_0x3620d2);case _0x21f921[_0x59bd41(0x40d)]:return this[_0x59bd41(0x7a3)](_0x3620d2);case _0x21f921[_0x59bd41(0x295)]:return this[_0x59bd41(0x4d8)](_0x3620d2);case _0x21f921['RequestFileWrite']:return this[_0x59bd41(0x7c2)](_0x3620d2);default:throw new _0x5a569f(_0x5a569f[_0x59bd41(0x4e8)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3620d2});}}async[_0x20cdf8(0x7c2)](_0x384cb9,_0x2dc5c2=0x0){const _0x36f791=_0x20cdf8,_0x5bb584=_0x2a6855(_0x384cb9['path'],_0x384cb9['name']);if(!_0x384cb9[_0x36f791(0x75d)]||void 0x0===_0x384cb9[_0x36f791(0x503)]||!_0x384cb9[_0x36f791(0x1da)])return this[_0x36f791(0x541)][_0x36f791(0x268)](_0x5bb584),void await this[_0x36f791(0x892)](_0x384cb9[_0x36f791(0x294)],_0x384cb9[_0x36f791(0x521)],{'checksum':_0x384cb9[_0x36f791(0x54c)],'skipEncryption':_0x384cb9[_0x36f791(0x4b5)]});if(this[_0x36f791(0x541)]['has'](_0x5bb584)){const _0x1e9f34=this[_0x36f791(0x541)][_0x36f791(0x333)](_0x5bb584);_0x1e9f34[_0x36f791(0x54c)]!==_0x384cb9[_0x36f791(0x54c)]&&(_0x1e9f34[_0x36f791(0x734)]?.[_0x36f791(0x671)](),this[_0x36f791(0x541)][_0x36f791(0x268)](_0x5bb584));}if(!this[_0x36f791(0x541)][_0x36f791(0x6f2)](_0x5bb584)){try{await this[_0x36f791(0x108)][_0x36f791(0xfc)](_0x5bb584);}catch(_0x2db65c){}try{const _0x4838d3=this['syncContent']?await this['objectStoreConnector'][_0x36f791(0x6c1)](_0x5bb584,{'skipEncryption':_0x384cb9[_0x36f791(0x4b5)]}):void 0x0,_0x287af7={'chunksReceived':_0x384cb9['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x4838d3,'checksum':_0x384cb9['checksum']};this[_0x36f791(0x541)]['set'](_0x5bb584,_0x287af7),await this['createPendingFileWrite'](_0x384cb9[_0x36f791(0x294)],_0x384cb9['path'],{'checksum':_0x384cb9[_0x36f791(0x54c)],'skipEncryption':_0x384cb9['skipEncryption']});}catch(_0x6413d8){}}const _0x2d2de7=this[_0x36f791(0x541)][_0x36f791(0x333)](_0x5bb584);if(_0x384cb9['checksum']!==_0x2d2de7[_0x36f791(0x54c)])return;if(this[_0x36f791(0x1eb)](_0x384cb9,_0x5bb584),this[_0x36f791(0x62b)]){if(!_0x2d2de7[_0x36f791(0x734)])throw new _0x5a569f(_0x5a569f['codes'][_0x36f791(0x643)],{'message':_0x36f791(0x5ff)});let _0x1f2fdd=_0x2d2de7[_0x36f791(0x3be)];if(_0x384cb9['index']!==_0x1f2fdd){if(_0x1f2fdd>_0x384cb9[_0x36f791(0x503)])return;const _0x2bf917=2064.1259842519685;if(_0x384cb9[_0x36f791(0x503)]>_0x1f2fdd+_0x2bf917)return;if(_0x2d2de7[_0x36f791(0x26c)]||(_0x2d2de7[_0x36f791(0x26c)]=[]),_0x2d2de7[_0x36f791(0x26c)][_0x36f791(0x51a)]>8256.503937007874)throw this[_0x36f791(0x541)][_0x36f791(0x268)](_0x5bb584),new _0x5a569f(_0x5a569f['codes'][_0x36f791(0x643)],{'message':_0x36f791(0x882)});return void _0x2d2de7['bufferedChunks']['push'](_0x384cb9);}try{_0x2d2de7[_0x36f791(0x3be)]+=0x1,_0x2d2de7[_0x36f791(0x5a0)]+=_0x384cb9[_0x36f791(0x75d)][_0x36f791(0xf3)],await _0x2d2de7[_0x36f791(0x734)][_0x36f791(0x1ea)](_0x384cb9[_0x36f791(0x75d)]);}catch(_0x4aa9f6){if(console[_0x36f791(0x7b5)](_0x36f791(0x483),_0x4aa9f6),_0x2dc5c2>0x3)throw this[_0x36f791(0x541)][_0x36f791(0x268)](_0x5bb584),console[_0x36f791(0x7b5)](_0x36f791(0x5ba),_0x4aa9f6),new _0x5a569f(_0x5a569f[_0x36f791(0x4e8)]['ObjectStoreInvalidSyncMessage'],{'message':_0x36f791(0x5ba)});return this[_0x36f791(0x7c2)](_0x384cb9,_0x2dc5c2+0x1);}}try{await this[_0x36f791(0x480)](_0x2d2de7,_0x384cb9[_0x36f791(0x503)]+0x1);}catch(_0x7f68aa){throw this[_0x36f791(0x541)][_0x36f791(0x268)](_0x5bb584),_0x7f68aa;}if(this[_0x36f791(0x541)][_0x36f791(0xaf)](_0x5bb584,_0x2d2de7),_0x2d2de7[_0x36f791(0x3be)]<_0x384cb9[_0x36f791(0x1da)])return;await this[_0x36f791(0x4ab)](_0x5bb584),this[_0x36f791(0x62b)]&&(await this['deletePendingFile'](_0x384cb9),_0x585abf['logServiceEvent'](_0x50e58d[_0x36f791(0x12b)],{'type':_0x36f791(0x116),'label':this[_0x36f791(0x59f)],'nodeId':this[_0x36f791(0x21a)][_0x36f791(0x66e)](),'nodeType':this[_0x36f791(0x21a)]['type'],'clusterId':this[_0x36f791(0x461)],'kind':_0x3b754d['ObjectKind'][_0x36f791(0x104)],'path':_0x384cb9[_0x36f791(0x521)],'fileName':_0x384cb9[_0x36f791(0x294)],'fileType':_0x384cb9['type'],'size':_0x2d2de7['bytesReceived']}));const _0x5be4be=this['pendingFilesTransactions'][_0x36f791(0x333)](_0x384cb9[_0x36f791(0x521)])??[];for(const _0x247bc0 of _0x5be4be)await this[_0x36f791(0x53e)](_0x247bc0);this[_0x36f791(0x2b9)][_0x36f791(0x268)](_0x384cb9[_0x36f791(0x521)]),this[_0x36f791(0x764)][_0x36f791(0x1ed)]({'event':_0x3b754d[_0x36f791(0x7f8)][_0x36f791(0x358)],'payload':{'file':{'kind':_0x3b754d[_0x36f791(0x783)][_0x36f791(0x104)],'path':_0x384cb9[_0x36f791(0x521)],'type':_0x384cb9['type'],'size':_0x2d2de7[_0x36f791(0x5a0)],'name':_0x384cb9[_0x36f791(0x294)],'pathName':_0x5bb584,'status':this[_0x36f791(0x62b)]?_0x3b754d[_0x36f791(0x45d)][_0x36f791(0x7a9)]:_0x3b754d['FileStatus'][_0x36f791(0x343)]}}}),this['sendStats']();}async[_0x20cdf8(0x480)](_0x39910d,_0x5dea7f){const _0x42f0f2=_0x20cdf8,_0x20620c=_0x39910d['stream'];let _0x5a2b05=0x0;for(;_0x39910d[_0x42f0f2(0x26c)]&&_0x39910d['bufferedChunks'][_0x42f0f2(0x51a)]>0x0;){const _0x1f7da7=_0x39910d[_0x42f0f2(0x26c)][_0x42f0f2(0x819)](_0x5437a6=>_0x5437a6[_0x42f0f2(0x503)]===_0x5dea7f+0x1);if(!_0x1f7da7)break;_0x39910d[_0x42f0f2(0x26c)]=_0x39910d[_0x42f0f2(0x26c)][_0x42f0f2(0xb7)](_0x2b8900=>_0x2b8900['index']!==_0x5dea7f+0x1);try{await _0x20620c[_0x42f0f2(0x1ea)](_0x1f7da7[_0x42f0f2(0x75d)]),_0x5dea7f++;}catch(_0x403a8a){if(console['error'](_0x42f0f2(0x17c),_0x403a8a),_0x5a2b05>0x3)throw console[_0x42f0f2(0x7b5)](_0x42f0f2(0x5f3),_0x403a8a),new _0x5a569f(_0x5a569f[_0x42f0f2(0x4e8)][_0x42f0f2(0x643)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x5a2b05++;continue;}_0x39910d[_0x42f0f2(0x3be)]+=0x1,_0x39910d[_0x42f0f2(0x5a0)]+=_0x1f7da7[_0x42f0f2(0x75d)][_0x42f0f2(0xf3)];}}async[_0x20cdf8(0x639)](_0x652311){const _0x54538b=_0x20cdf8;await this[_0x54538b(0x108)][_0x54538b(0x5c6)](_0x652311[_0x54538b(0x521)]);const [_0x4ef49a,_0x1ff141]=_0x123e53(_0x652311[_0x54538b(0x521)]);this['eventListener'][_0x54538b(0x1ed)]({'event':_0x3b754d['StorageEventType'][_0x54538b(0xbc)],'payload':{'folder':{'kind':_0x3b754d[_0x54538b(0x783)]['Folder'],'name':_0x1ff141,'path':_0x4ef49a,'pathName':_0x652311[_0x54538b(0x521)]}}});}async[_0x20cdf8(0x7d6)](_0x67c2e2,_0x1a0433=!0x1){const _0x1a8600=_0x20cdf8;if(!_0x1a0433&&!this[_0x1a8600(0x1b3)](_0x67c2e2))return;const _0x47994d=await this[_0x1a8600(0xfc)](_0x67c2e2['path']),[_0x32824a,_0x3d57f4]=_0x123e53(_0x67c2e2['path']);this['eventListener'][_0x1a8600(0x1ed)]({'event':_0x47994d===_0x3b754d[_0x1a8600(0x783)]['Folder']?_0x3b754d[_0x1a8600(0x7f8)][_0x1a8600(0x4cf)]:_0x3b754d[_0x1a8600(0x7f8)][_0x1a8600(0x302)],'payload':{'name':_0x3d57f4,'path':_0x32824a,'pathName':_0x67c2e2[_0x1a8600(0x521)]}}),this[_0x1a8600(0x205)]();}async[_0x20cdf8(0x580)](_0x1c0ea9,_0x3e1afc=!0x1){const _0x4a49ed=_0x20cdf8;if(!_0x3e1afc&&!this[_0x4a49ed(0x1b3)](_0x1c0ea9))return this[_0x4a49ed(0x646)][_0x4a49ed(0xaf)](_0x1c0ea9[_0x4a49ed(0x6de)],this['pendingFilesRename'][_0x4a49ed(0x333)](_0x1c0ea9[_0x4a49ed(0x521)])??_0x1c0ea9[_0x4a49ed(0x521)]),void this[_0x4a49ed(0x646)][_0x4a49ed(0x268)](_0x1c0ea9[_0x4a49ed(0x521)]);this[_0x4a49ed(0x646)][_0x4a49ed(0x268)](_0x1c0ea9[_0x4a49ed(0x521)]);const _0x296dbd=await this['objectStoreConnector'][_0x4a49ed(0x3ba)](_0x1c0ea9[_0x4a49ed(0x521)],_0x1c0ea9[_0x4a49ed(0x6de)]),[_0x5d4a97,_0x5f39c0]=_0x123e53(_0x1c0ea9[_0x4a49ed(0x521)]),[_0x3e62be,_0x120487]=_0x123e53(_0x1c0ea9[_0x4a49ed(0x6de)]);this['eventListener'][_0x4a49ed(0x1ed)]({'event':_0x296dbd===_0x3b754d['ObjectKind'][_0x4a49ed(0x7ab)]?_0x3b754d['StorageEventType'][_0x4a49ed(0x289)]:_0x3b754d[_0x4a49ed(0x7f8)][_0x4a49ed(0x867)],'payload':{'name':_0x120487,'path':_0x3e62be,'pathName':_0x1c0ea9[_0x4a49ed(0x6de)],'oldName':_0x5f39c0,'oldPath':_0x5d4a97,'oldPathName':_0x1c0ea9['path']}}),this[_0x4a49ed(0x205)]();}['shouldProcessTransaction'](_0x2e0aa1){const _0x4fafc3=_0x20cdf8,_0x941184=this[_0x4fafc3(0x646)]['get'](_0x2e0aa1['path'])??_0x2e0aa1['path'];let _0x4351ec=!0x1;for(const _0x2713f7 of this[_0x4fafc3(0x541)][_0x4fafc3(0x653)]())if(_0x2713f7[_0x4fafc3(0x6da)](_0x941184)){const _0x4cddd2=this[_0x4fafc3(0x2b9)][_0x4fafc3(0x333)](_0x2713f7)??[];_0x4cddd2['push'](_0x2e0aa1),this[_0x4fafc3(0x2b9)][_0x4fafc3(0xaf)](_0x2713f7,_0x4cddd2),_0x4351ec=!0x0;}return!_0x4351ec;}async[_0x20cdf8(0x329)](_0xc7e4b3){const _0x283d2c=_0x20cdf8;if(!_0xc7e4b3['id'])throw new _0x5a569f(_0x5a569f['codes'][_0x283d2c(0x643)],{'message':'Missing\x20transaction\x20id'});if(_0xc7e4b3[_0x283d2c(0x8a3)]!==this[_0x283d2c(0x320)])throw new _0x5a569f(_0x5a569f[_0x283d2c(0x4e8)][_0x283d2c(0x5c3)]);await this[_0x283d2c(0x690)][_0x283d2c(0x888)](_0xc7e4b3,this['label']),await this[_0x283d2c(0x19c)](_0xc7e4b3['id']);}async[_0x20cdf8(0x19c)](_0x50c6a6){const _0x497cf4=_0x20cdf8;this[_0x497cf4(0x320)]=_0x50c6a6;const _0x547c1f=new File([new Blob([this['lastTransactionId']])],_0x1483ac,{'type':_0x497cf4(0x678)});await this[_0x497cf4(0x5a8)](_0x547c1f,'/');}async[_0x20cdf8(0x288)](_0x346686){const _0x5d5ac0=_0x20cdf8;try{const _0x4f0d63=await this[_0x5d5ac0(0x333)](_0x346686[_0x5d5ac0(0x521)]+'/'+_0x346686[_0x5d5ac0(0x294)],{'skipEncryption':_0x346686['skipEncryption']}),_0x5f24da=await _0x41a7d4(_0x4f0d63);if(''!==_0x346686[_0x5d5ac0(0x54c)]&&_0x5f24da!==_0x346686[_0x5d5ac0(0x54c)])return;_0x346686['answererId']=this[_0x5d5ac0(0x21a)]['getId'](),_0x346686['action']=_0x21f921[_0x5d5ac0(0x40d)],await this['send'](_0x346686,[_0x346686[_0x5d5ac0(0x8c8)]]);}catch(_0x48eb7e){}}async[_0x20cdf8(0x7a3)](_0x33ef4d){const _0x462ed3=_0x20cdf8,_0x5633af=_0x2a6855(_0x33ef4d['path'],_0x33ef4d['name']);if(!this['objectRequests'][_0x462ed3(0x6f2)](_0x5633af))return;const _0x32d7b4=this[_0x462ed3(0x785)]['get'](_0x5633af);_0x32d7b4[_0x462ed3(0x22f)]=_0x21f921[_0x462ed3(0x295)];const _0x3bc261=_0x33ef4d[_0x462ed3(0x8d4)];if(!_0x3bc261)throw new _0x5a569f(_0x5a569f[_0x462ed3(0x4e8)][_0x462ed3(0x643)],{'message':_0x462ed3(0x6cb)});if(this[_0x462ed3(0x785)][_0x462ed3(0x268)](_0x5633af),this[_0x462ed3(0x815)][_0x462ed3(0x6f2)](_0x3bc261)||this[_0x462ed3(0x815)][_0x462ed3(0xaf)](_0x3bc261,new Map()),this[_0x462ed3(0x815)][_0x462ed3(0x333)](_0x3bc261)['set'](_0x5633af,[_0x32d7b4,this['getOrResetPendingFileTimeout'](_0x3bc261,_0x5633af)]),_0x32d7b4[_0x462ed3(0x8d4)]=_0x3bc261,_0x32d7b4[_0x462ed3(0x498)]=this[_0x462ed3(0x541)][_0x462ed3(0x333)](_0x5633af)?.[_0x462ed3(0x3be)]??0x0,0x0===_0x32d7b4[_0x462ed3(0x498)])try{const [_0x2428e5,_0xa8ee29]=await this[_0x462ed3(0x55a)](_0x33ef4d[_0x462ed3(0x294)],_0x33ef4d[_0x462ed3(0x521)],_0x33ef4d[_0x462ed3(0x54c)]);_0x2428e5&&(_0x32d7b4['startIndex']=_0xa8ee29);}catch(_0x13d3bd){}this['send'](_0x32d7b4,[_0x3bc261]);}async[_0x20cdf8(0x4d8)](_0x121150){const _0x2b365e=_0x20cdf8,_0x312b41=_0x2a6855(_0x121150['path'],_0x121150['name']),_0x57fce4=await this[_0x2b365e(0x333)](_0x312b41,{'skipEncryption':_0x121150['skipEncryption']}),_0x584ffb={..._0x121150,'answererId':this[_0x2b365e(0x21a)][_0x2b365e(0x66e)](),'action':_0x21f921[_0x2b365e(0x379)],'startIndex':_0x121150[_0x2b365e(0x498)]??0x0};await this['sendFile'](_0x57fce4,_0x584ffb,[_0x121150['sourceId']]);}async[_0x20cdf8(0x3e9)](_0x4fcfce,_0x4512cc,_0x5d9b42){let _0x20a738,_0x49bddd;const _0x49d88d=new Promise(async(_0x564d94,_0x1af36f)=>{_0x20a738=_0x564d94,_0x49bddd=_0x1af36f;});return((async()=>{const _0x711bfa=a0_0x2e24,_0x3b4a0b=Math[_0x711bfa(0x853)](_0x4fcfce[_0x711bfa(0x3b4)]/_0x5c4aec);let _0x513caf=_0x4512cc[_0x711bfa(0x498)]??0x0;const _0x494b89=_0x2a6855(_0x4512cc[_0x711bfa(0x521)],_0x4512cc[_0x711bfa(0x294)]);this[_0x711bfa(0x1de)][_0x711bfa(0xaf)](_0x494b89,[!0x1,_0x49d88d]);for await(const _0x186990 of async function*(_0x560e79,_0x15c0d5=0x0,_0x27b367){for await(const _0x183fbf of _0x2e12fa(_0x560e79,_0x15c0d5,_0x27b367))yield _0x183fbf;}(_0x4fcfce,_0x513caf,this[_0x711bfa(0x73d)])){const [_0x3052a8]=this[_0x711bfa(0x1de)][_0x711bfa(0x333)](_0x494b89)??[];if(_0x3052a8)return this[_0x711bfa(0x1de)][_0x711bfa(0x268)](_0x494b89),void _0x49bddd(new Error(_0x711bfa(0x81a)));if(this[_0x711bfa(0x2b9)][_0x711bfa(0x6f2)](_0x494b89)){const _0x502c20=this['pendingFilesTransactions']['get'](_0x494b89);for(const _0x2fad4f of _0x502c20)if(_0x2fad4f['action']===_0x21f921['FileWrite']||_0x2fad4f[_0x711bfa(0x22f)]===_0x21f921[_0x711bfa(0x826)])return;}const _0x39bab6={..._0x4512cc,'type':_0x4fcfce[_0x711bfa(0x6f6)],'data':_0x186990,'index':_0x513caf,'total':_0x3b4a0b};this[_0x711bfa(0x84a)](_0x39bab6,_0x5d9b42),_0x513caf++;}const _0x21edd1=setInterval(async()=>{const _0x4adc1b=_0x711bfa;await this[_0x4adc1b(0x73d)]()>0x0||(clearInterval(_0x21edd1),_0x20a738());});this[_0x711bfa(0x1de)][_0x711bfa(0x268)](_0x494b89);})()),_0x49d88d;}async[_0x20cdf8(0x7a1)](_0x440163){const _0x3961da=_0x20cdf8;try{const _0x5441f2=_0x2a6855(_0x440163[_0x3961da(0x521)],_0x440163[_0x3961da(0x294)]),_0x28a3ee=_0x5441f2+_0x130531;await this[_0x3961da(0xfc)](_0x28a3ee);const [,_0x291356]=this['pendingFilesSyncing'][_0x3961da(0x333)](_0x440163[_0x3961da(0x8d4)])?.[_0x3961da(0x333)](_0x5441f2)??[];_0x291356&&(clearTimeout(_0x291356),this[_0x3961da(0x815)][_0x3961da(0x333)](_0x440163[_0x3961da(0x8d4)])['delete'](_0x5441f2));}catch(_0x553d70){}0x0===this[_0x3961da(0x815)][_0x3961da(0x333)](_0x440163[_0x3961da(0x8d4)])?.[_0x3961da(0x3b4)]&&this[_0x3961da(0x815)][_0x3961da(0x268)](_0x440163[_0x3961da(0x8d4)]),0x0===this[_0x3961da(0x815)]['size']&&0x0===this['objectRequests']['size']&&this[_0x3961da(0x54a)]();}async[_0x20cdf8(0x3d8)](){const _0x380bfb=_0x20cdf8;try{const _0x15f7cd=await this[_0x380bfb(0x690)][_0x380bfb(0x512)](this[_0x380bfb(0x59f)],this[_0x380bfb(0x320)]);for(const _0x25bf9d of _0x15f7cd)await this['handleTransactionPayload'](_0x25bf9d,!0x0);}catch(_0x4e1f5a){if(_0x4e1f5a instanceof _0x5a569f&&_0x4e1f5a[_0x380bfb(0x279)]===_0x5a569f['codes'][_0x380bfb(0x5e7)]){await this['objectStoreConnector'][_0x380bfb(0xfc)](_0x1483ac),delete this['lastTransactionId'];try{const _0x564c44=await this[_0x380bfb(0x108)][_0x380bfb(0x532)]('/',!0x1);for(const _0x337c99 of _0x564c44)await this[_0x380bfb(0x108)][_0x380bfb(0xfc)](_0x337c99[_0x380bfb(0x5b5)]);}catch(_0x35b88b){}return await this[_0x380bfb(0x3d8)]();}throw _0x4e1f5a;}}async[_0x20cdf8(0x64a)](){const _0x3b35cc=_0x20cdf8,_0x3f940e=await this[_0x3b35cc(0x532)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x82f865=async _0x4b9627=>{const _0x349eec=_0x3b35cc;for(const _0x323cbe of _0x4b9627){if(_0x323cbe[_0x349eec(0x6b6)]===_0x3b754d[_0x349eec(0x783)]['Folder']){_0x323cbe[_0x349eec(0x573)]&&_0x323cbe[_0x349eec(0x573)]['length']>0x0&&await _0x82f865(_0x323cbe[_0x349eec(0x573)]);continue;}if(_0x323cbe[_0x349eec(0x547)]!==_0x3b754d[_0x349eec(0x45d)]['Pending'])continue;const _0x29be4c=await this[_0x349eec(0x333)](_0x323cbe[_0x349eec(0x5b5)]+_0x130531),_0x5d7120=JSON['parse'](await _0x29be4c[_0x349eec(0x712)]()),_0x324d11=_0x323cbe[_0x349eec(0x294)][_0x349eec(0x74a)](_0x130531,''),_0x1cf340={'payloadType':_0x450789[_0x349eec(0x27f)],'action':_0x21f921[_0x349eec(0x142)],'sourceId':this['localNode'][_0x349eec(0x66e)](),'type':'','path':_0x323cbe[_0x349eec(0x521)],'name':_0x324d11,'checksum':_0x5d7120[_0x349eec(0x54c)],'skipEncryption':_0x5d7120[_0x349eec(0x4b5)]},_0x2a9d21=_0x2a6855(_0x323cbe[_0x349eec(0x521)],_0x324d11);this[_0x349eec(0x785)][_0x349eec(0xaf)](_0x2a9d21,_0x1cf340);}};await _0x82f865(_0x3f940e),0x0===this[_0x3b35cc(0x785)][_0x3b35cc(0x3b4)]&&0x0===this[_0x3b35cc(0x815)][_0x3b35cc(0x3b4)]&&this['completeSync']();}async[_0x20cdf8(0x892)](_0x195b09,_0x3c1d29,_0x40ac79){const _0x68aa64=_0x20cdf8,_0x4c8e4a=new File([new Blob([JSON[_0x68aa64(0x8f7)](_0x40ac79)])],''+_0x195b09+_0x130531,{'type':'text/plain'});await this[_0x68aa64(0x5a8)](_0x4c8e4a,_0x3c1d29);}async['checkExistingPendingFileContent'](_0x3c7319,_0x483d7b,_0x5d999c){const _0x3fe871=_0x20cdf8;try{const _0x147654=_0x2a6855(_0x483d7b,_0x3c7319),_0x21f982=_0x147654+_0x130531,_0x575a47=await this[_0x3fe871(0x108)][_0x3fe871(0x333)](_0x21f982),{checksum:_0x4a48cc,skipEncryption:_0x4bcf8c}=JSON[_0x3fe871(0xc0)](await _0x575a47['text']()),_0x402014=(await this[_0x3fe871(0x108)]['get'](_0x147654,{'skipEncryption':_0x4bcf8c}))[_0x3fe871(0x3b4)];return _0x4a48cc===_0x5d999c&&_0x402014%_0x5c4aec==0x0?[!0x0,Math[_0x3fe871(0x6e0)](_0x402014/_0x5c4aec)]:(await this[_0x3fe871(0x108)][_0x3fe871(0xfc)](_0x147654),[!0x1,0x0]);}catch(_0x2e6137){return[!0x1,0x0];}}[_0x20cdf8(0x685)](_0x31ffaa,_0x478d7d){const _0x2683c7=_0x20cdf8,[_0x417bfe,_0x19a8fa]=this[_0x2683c7(0x815)][_0x2683c7(0x333)](_0x31ffaa)?.[_0x2683c7(0x333)](_0x478d7d)??[];return _0x19a8fa&&clearTimeout(_0x19a8fa),setTimeout(()=>{const _0xb69a40=_0x2683c7,[_0x26ca19,_0x469ada]=this[_0xb69a40(0x815)]['get'](_0x31ffaa)[_0xb69a40(0x333)](_0x478d7d);this[_0xb69a40(0x1fa)](_0x26ca19,_0x469ada);},0x927c0);}async[_0x20cdf8(0x1fa)](_0x5bdd3f,_0x15d542){const _0x4ca50d=_0x20cdf8;clearTimeout(_0x15d542),_0x5bdd3f[_0x4ca50d(0x22f)]=_0x21f921['RequestFile'],this[_0x4ca50d(0x785)][_0x4ca50d(0xaf)](_0x2a6855(_0x5bdd3f['path'],_0x5bdd3f['name']),_0x5bdd3f),this[_0x4ca50d(0x84a)](_0x5bdd3f);}[_0x20cdf8(0x1eb)](_0x2ee3a0,_0x20352b){const _0x1cd477=_0x20cdf8;if(!this[_0x1cd477(0x62b)])return;this['pendingFilesSyncing'][_0x1cd477(0x6f2)](_0x2ee3a0['answererId'])||this['pendingFilesSyncing']['set'](_0x2ee3a0['answererId'],new Map());const [_0x53ecc4]=this['pendingFilesSyncing'][_0x1cd477(0x333)](_0x2ee3a0['answererId'])[_0x1cd477(0x333)](_0x20352b)??[{'payloadType':_0x450789[_0x1cd477(0x27f)],'action':_0x21f921[_0x1cd477(0x142)],'sourceId':this[_0x1cd477(0x21a)][_0x1cd477(0x66e)](),'type':_0x2ee3a0[_0x1cd477(0x6f6)],'name':_0x2ee3a0[_0x1cd477(0x294)],'path':_0x2ee3a0['path'],'skipEncryption':_0x2ee3a0[_0x1cd477(0x4b5)],'checksum':_0x2ee3a0['checksum'],'answererId':_0x2ee3a0[_0x1cd477(0x8d4)]}];this['pendingFilesSyncing']['get'](_0x2ee3a0['answererId'])[_0x1cd477(0xaf)](_0x20352b,[_0x53ecc4,this[_0x1cd477(0x685)](_0x2ee3a0[_0x1cd477(0x8d4)],_0x20352b)]);}async[_0x20cdf8(0x5a8)](_0x3d9112,_0x910dc5,_0x4cde0d){const _0x5853ce=_0x20cdf8;await this[_0x5853ce(0x108)][_0x5853ce(0x5a8)](_0x3d9112,_0x910dc5,_0x4cde0d);}async[_0x20cdf8(0xfc)](_0x3f7f2c){const _0x527d26=_0x20cdf8;try{const _0x4806c0=await this[_0x527d26(0x108)]['deleteObject'](_0x3f7f2c);if(!_0x3f7f2c[_0x527d26(0x863)](_0x130531))try{await this[_0x527d26(0x108)][_0x527d26(0xfc)](_0x3f7f2c+_0x130531);}catch(_0x190dc9){}return _0x4806c0;}catch(_0x516928){return await this[_0x527d26(0x108)][_0x527d26(0xfc)](_0x3f7f2c+_0x130531);}}async[_0x20cdf8(0x3ba)](_0x59ead7,_0xcb327c){const _0x220110=_0x20cdf8;try{const _0x463201=await this['objectStoreConnector'][_0x220110(0x3ba)](_0x59ead7,_0xcb327c);if(!_0x59ead7[_0x220110(0x863)](_0x130531))try{await this['objectStoreConnector']['moveObject'](_0x59ead7+_0x130531,_0xcb327c+_0x130531);}catch(_0x5da85a){}return _0x463201;}catch(_0x532646){return await this[_0x220110(0x108)][_0x220110(0x3ba)](_0x59ead7+_0x130531,_0xcb327c+_0x130531);}}['sendStats'](){const _0xccfb16=_0x20cdf8;this[_0xccfb16(0x8c2)]&&clearTimeout(this[_0xccfb16(0x8c2)]),this[_0xccfb16(0x8c2)]=setTimeout(async()=>{const _0x469e05=_0xccfb16;delete this[_0x469e05(0x8c2)];const _0x3a5514=await this[_0x469e05(0x108)]['calculateSize']('/');this['systemTopic']?.['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x469e05(0x326)],'content':{'type':_0x277618[_0x469e05(0x115)],'label':this[_0x469e05(0x59f)],'stats':{'timestamp':Date['now'](),'storage':_0x3a5514,'messagesSent':this[_0x469e05(0x20e)],'messagesReceived':this[_0x469e05(0x22c)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x469e05(0x5a0)],'writes':this['writes'],'reads':this[_0x469e05(0x3e0)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x585abf['logStorage'](_0x50e58d['ObjectStorage'],_0x469e05(0x6a9)+this['clusterId']+_0x469e05(0x6a9)+this[_0x469e05(0x59f)],_0x3a5514);},_0x490b21);}async[_0x20cdf8(0x864)](_0x12d79e){try{return await this['get'](_0x12d79e),!0x0;}catch(_0x5ef3cb){return!0x1;}}async[_0x20cdf8(0x4ab)](_0x24e7b9){const _0x1e00d0=_0x20cdf8;if(!this[_0x1e00d0(0x541)][_0x1e00d0(0x6f2)](_0x24e7b9))return;const _0x17991c=this[_0x1e00d0(0x541)][_0x1e00d0(0x333)](_0x24e7b9);if(_0x17991c[_0x1e00d0(0x734)])try{await _0x17991c['stream'][_0x1e00d0(0x671)]();}catch(_0x5520a2){console[_0x1e00d0(0x7b5)]('Error\x20closing\x20writable\x20stream',_0x5520a2);}this[_0x1e00d0(0x541)]['delete'](_0x24e7b9);}}class _0x2ea7bf extends _0xa58cfb{[_0x20cdf8(0x21a)];[_0x20cdf8(0x461)];[_0x20cdf8(0x7a7)]=new Map();[_0x20cdf8(0x8c2)];constructor(_0x450894,_0x3c0842,_0x58eb89){const _0x2528fe=_0x20cdf8;if(_0x2528fe(0x478)!=typeof _0x3c0842)throw new _0x47cbae(_0x40f53d['PubSubTopicNameNotString'],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x450894,_0x3c0842),this[_0x2528fe(0x21a)]=_0x450894,this[_0x2528fe(0x461)]=_0x58eb89,this[_0x2528fe(0x205)]();}[_0x20cdf8(0x8b5)](){const _0x7b0b11=_0x20cdf8;this[_0x7b0b11(0x205)]();}[_0x20cdf8(0x7e9)](){const _0x31dfea=_0x20cdf8;return _0x3b754d['ContentType'][_0x31dfea(0x65e)];}[_0x20cdf8(0x1ed)](_0x3a49cc,_0x37d6a1){const _0x3ca199=_0x20cdf8;_0x585abf[_0x3ca199(0x447)](_0x324ffe['PubSub'],_0x3ca199(0x797),this['localNode'][_0x3ca199(0x66e)](),_0x3a49cc,_0x37d6a1),_0x585abf[_0x3ca199(0x711)](_0x50e58d[_0x3ca199(0x65e)],{'type':_0x3ca199(0x1ed),'label':this['label'],'nodeId':this[_0x3ca199(0x21a)][_0x3ca199(0x66e)](),'nodeType':this[_0x3ca199(0x21a)][_0x3ca199(0x6f6)],'clusterId':this['clusterId'],'remoteIds':_0x37d6a1??[],'contentType':_0x3a49cc instanceof File?_0x3b754d[_0x3ca199(0x4e6)][_0x3ca199(0x104)]:_0x3b754d[_0x3ca199(0x4e6)][_0x3ca199(0x848)],'size':_0x3a49cc instanceof File?_0x3a49cc[_0x3ca199(0x3b4)]:JSON[_0x3ca199(0x8f7)](_0x3a49cc)[_0x3ca199(0x51a)]}),this[_0x3ca199(0x205)](),this[_0x3ca199(0x84a)](_0x3a49cc,_0x37d6a1);}[_0x20cdf8(0x3cb)](_0x5c3e3e,_0x31fa5d){const _0x30e734=_0x20cdf8;if(this[_0x30e734(0x7a7)][_0x30e734(0x6f2)](_0x5c3e3e))throw new _0x47cbae(_0x40f53d[_0x30e734(0x3af)],_0x30e734(0x4fa));this[_0x30e734(0x7a7)]['set'](_0x5c3e3e,this[_0x30e734(0x735)]((_0x6317de,_0x458bd4)=>{const _0x5a0e2f=_0x30e734;_0x5a0e2f(0x75d)===_0x5c3e3e&&_0x458bd4 instanceof File||!(_0x5a0e2f(0xb3)!==_0x5c3e3e||_0x458bd4 instanceof File)||(_0x585abf['log'](_0x324ffe[_0x5a0e2f(0x65e)],_0x5a0e2f(0x4eb),this[_0x5a0e2f(0x21a)][_0x5a0e2f(0x66e)](),_0x6317de,_0x458bd4),_0x585abf['logServiceEvent'](_0x50e58d[_0x5a0e2f(0x65e)],{'type':_0x5a0e2f(0x3cb),'label':this[_0x5a0e2f(0x59f)],'nodeId':this[_0x5a0e2f(0x21a)]['getId'](),'nodeType':this[_0x5a0e2f(0x21a)][_0x5a0e2f(0x6f6)],'clusterId':this[_0x5a0e2f(0x461)],'remoteId':_0x6317de,'contentType':_0x5c3e3e,'size':_0x458bd4 instanceof File?_0x458bd4[_0x5a0e2f(0x3b4)]:JSON['stringify'](_0x458bd4)['length']}),this[_0x5a0e2f(0x205)](),_0x31fa5d(_0x6317de,_0x458bd4));}));}['unsubscribe'](_0x1a0b4f){const _0x6bec54=_0x20cdf8;this[_0x6bec54(0x7a7)][_0x6bec54(0x333)](_0x1a0b4f)?.(),this[_0x6bec54(0x7a7)]['delete'](_0x1a0b4f);}[_0x20cdf8(0xb2)](){const _0x444e9d=_0x20cdf8;this['unsubscribeHandler']['forEach'](_0x1e4438=>_0x1e4438()),clearTimeout(this['debounceStats']),delete this[_0x444e9d(0x8c2)],super[_0x444e9d(0xb2)]();}['close'](){const _0x59ba2a=_0x20cdf8;this['systemTopic']?.[_0x59ba2a(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0['Content'],'content':{'type':_0x277618[_0x59ba2a(0x804)],'label':this[_0x59ba2a(0x59f)]}});}[_0x20cdf8(0x205)](){const _0x1a444b=_0x20cdf8;this[_0x1a444b(0x8c2)]&&clearTimeout(this[_0x1a444b(0x8c2)]),this[_0x1a444b(0x8c2)]=setTimeout(()=>{const _0x3f2669=_0x1a444b;this[_0x3f2669(0x361)]?.[_0x3f2669(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x3f2669(0x326)],'content':{'type':_0x277618[_0x3f2669(0x616)],'label':this[_0x3f2669(0x59f)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x3f2669(0x20e)],'messagesReceived':this[_0x3f2669(0x22c)],'bytesSent':this[_0x3f2669(0x25b)],'bytesReceived':this[_0x3f2669(0x5a0)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x490b21);}}class _0x5095e4 extends _0x41983b{[_0x20cdf8(0x21a)];[_0x20cdf8(0x555)];[_0x20cdf8(0x2f0)];[_0x20cdf8(0x461)];['unsubscribeHandler'];[_0x20cdf8(0x474)];[_0x20cdf8(0x710)];[_0x20cdf8(0x1b7)]=new Map();['renderElement'];[_0x20cdf8(0x89b)]=new Set();['providerId'];[_0x20cdf8(0x569)]=_0x53e3a2();[_0x20cdf8(0x889)]=new Map();constructor(_0x38e95c,_0x337d60,_0x5b986a,_0x4aa99d,_0x4242a6,_0x5b46de){const _0x3092d4=_0x20cdf8;super(_0x337d60,_0x5b986a,new MediaStream()),this['localNode']=_0x38e95c,this[_0x3092d4(0x555)]=_0x4aa99d,this[_0x3092d4(0x2f0)]=_0x4242a6,this[_0x3092d4(0x461)]=_0x5b46de,this[_0x3092d4(0x4a8)][_0x3092d4(0x8d7)]()['forEach'](_0x3a5bed=>this[_0x3092d4(0x751)](_0x3a5bed));}[_0x20cdf8(0xb2)](){const _0x1b103b=_0x20cdf8;this[_0x1b103b(0x1b7)][_0x1b103b(0x3b4)]>0x0&&(this[_0x1b103b(0x1b7)][_0x1b103b(0x34b)](_0x12e71f=>{const _0x59313c=_0x1b103b;_0x12e71f[_0x59313c(0x5b7)](),_0x12e71f[_0x59313c(0xb2)]();}),this[_0x1b103b(0x1b7)]['clear']()),this[_0x1b103b(0x889)][_0x1b103b(0x34b)](_0xfb4ac3=>_0xfb4ac3()),this[_0x1b103b(0x4a8)][_0x1b103b(0x8d7)]()[_0x1b103b(0x34b)](_0x2961d1=>this[_0x1b103b(0x4a8)][_0x1b103b(0x887)](_0x2961d1)),this[_0x1b103b(0x710)]&&(clearTimeout(this[_0x1b103b(0x710)]),delete this['updateDebounce']),this[_0x1b103b(0x474)]?.(),super[_0x1b103b(0xb2)]();}['registerSubscriber'](_0x8d4cba){const _0x1b1d65=_0x20cdf8;this[_0x1b1d65(0x7a7)]=_0x8d4cba[_0x1b1d65(0x3cb)](({content:_0x37bc29})=>{const _0x34f745=_0x1b1d65;switch(_0x37bc29[_0x34f745(0x22f)]){case _0x5d80ab['RemoteAdd']:if(_0x585abf[_0x34f745(0x447)](_0x324ffe['Subscription'],_0x34f745(0x2d5),this[_0x34f745(0x21a)][_0x34f745(0x66e)](),this[_0x34f745(0x513)]),_0x37bc29[_0x34f745(0x734)]['id']!==this[_0x34f745(0x555)]||_0x37bc29[_0x34f745(0x513)]!==this['providerId'])return;this['removeTrack'](_0x37bc29[_0x34f745(0xac)][_0x34f745(0x6b6)]),this['mediaStream']['addTrack'](_0x37bc29['track']);for(const [_0x325036,_0x34d59b]of this['outgoingStreams'][_0x34f745(0x573)]())try{_0x34d59b[_0x34f745(0x78e)](_0x37bc29[_0x34f745(0xac)]);}catch(_0x23975f){_0x34d59b[_0x34f745(0xb2)](),this[_0x34f745(0x1b7)]['delete'](_0x325036);}this[_0x34f745(0x751)](_0x37bc29[_0x34f745(0xac)]),this[_0x34f745(0x659)](),'video'===_0x37bc29[_0x34f745(0xac)][_0x34f745(0x6b6)]&&this['renderElement']&&(this[_0x34f745(0x4a8)][_0x34f745(0x3ff)]?setTimeout(()=>this[_0x34f745(0x49f)]?.[_0x34f745(0x2a0)](),0x0):setTimeout(()=>this[_0x34f745(0x49f)]?.['load'](),0x0),this[_0x34f745(0x793)]());break;case _0x5d80ab[_0x34f745(0x313)]:if(_0x37bc29[_0x34f745(0x734)]['id']!==this[_0x34f745(0x555)]||_0x37bc29['providerId']!==this[_0x34f745(0x513)])return;this[_0x34f745(0x887)](_0x37bc29['track']['kind']),this['renderElement']&&_0x34f745(0x2e3)===_0x37bc29[_0x34f745(0xac)][_0x34f745(0x6b6)]&&(this[_0x34f745(0x474)]?.(),this['mediaStream'][_0x34f745(0x8d7)]()['length']>0x0?this[_0x34f745(0x49f)][_0x34f745(0x403)]():this[_0x34f745(0x49f)][_0x34f745(0x818)]=null);}});}['unregisterSubscriber'](){const _0x4c121f=_0x20cdf8;this[_0x4c121f(0x7a7)]?.(),this[_0x4c121f(0x889)][_0x4c121f(0x34b)](_0x44bea9=>_0x44bea9()),delete this[_0x4c121f(0x7a7)];}[_0x20cdf8(0x242)](){const _0x5078ab=_0x20cdf8;return this[_0x5078ab(0x555)];}[_0x20cdf8(0x1a8)](_0x35e343){const _0x30878b=_0x20cdf8;this[_0x30878b(0x555)]=_0x35e343;}[_0x20cdf8(0x739)](){return this['availableTrackKinds'];}[_0x20cdf8(0x284)](_0x373843){const _0x58f818=_0x20cdf8;for(const _0x1180e3 of _0x373843||this['availableTrackKinds'])if(!this[_0x58f818(0x4a8)][_0x58f818(0x8d7)]()[_0x58f818(0x819)](_0x13690c=>_0x13690c[_0x58f818(0x6b6)]===_0x1180e3))return!0x1;return!0x0;}[_0x20cdf8(0x769)](){const _0x490a83=_0x20cdf8;let _0x177f45={'width':0x0,'height':0x0};const _0x2ccda0=this[_0x490a83(0x4a8)][_0x490a83(0x307)]();if(_0x2ccda0['length']>0x0){const _0x5eda42=_0x2ccda0[0x0][_0x490a83(0x355)]();_0x5eda42['width']&&_0x5eda42[_0x490a83(0x497)]&&(_0x177f45={'width':_0x5eda42[_0x490a83(0x8b7)],'height':_0x5eda42[_0x490a83(0x497)]});}return _0x177f45;}[_0x20cdf8(0x8ff)](_0x27a78a){const _0x4e3bf6=_0x20cdf8;for(const _0x2c45e3 of _0x27a78a)if(!this['subscribedTracks'][_0x4e3bf6(0x6f2)](_0x2c45e3))return!0x1;return!0x0;}[_0x20cdf8(0x42b)](_0x374be5,_0x2a6996){const _0x268b93=_0x20cdf8;if(!this[_0x268b93(0x1b7)]['has'](_0x374be5)){const _0x162a92=new _0x10cce8(this['owner'],this[_0x268b93(0x59f)],this[_0x268b93(0x4a8)],_0x374be5,_0x2a6996),_0x320cc3=_0x162a92[_0x268b93(0x111)](()=>{const _0x25978f=_0x268b93;_0x320cc3(),this[_0x25978f(0x1b7)][_0x25978f(0x333)](_0x374be5)?.['destroy'](),this[_0x25978f(0x1b7)][_0x25978f(0x268)](_0x374be5);});this[_0x268b93(0x1b7)][_0x268b93(0xaf)](_0x374be5,_0x162a92),_0x162a92['registerSystemPublisher'](this['systemTopic']);}return this[_0x268b93(0x1b7)]['get'](_0x374be5);}[_0x20cdf8(0x897)](){const _0x48046d=_0x20cdf8;return this[_0x48046d(0x4a8)]['id'];}[_0x20cdf8(0xc4)](){const _0x332d69=_0x20cdf8;return _0x3b754d[_0x332d69(0x25e)]['Default'];}[_0x20cdf8(0x542)](){const _0x53dd41=_0x20cdf8;return Array[_0x53dd41(0x473)](this[_0x53dd41(0x89b)]);}['subscribe'](_0x3527b4){const _0x549f9c=_0x20cdf8;let _0xd95030=[];if(_0x3527b4){_0x549f9c(0x1ac)!=typeof _0x3527b4['video']||_0x3527b4[_0x549f9c(0x2e3)][_0x549f9c(0x49f)]instanceof HTMLVideoElement||!this[_0x549f9c(0x49f)]||(_0x3527b4['video']={'renderElement':this[_0x549f9c(0x49f)]});try{(0x0,_0x3b754d[_0x549f9c(0x546)])(_0x3527b4);}catch(_0x130a60){throw new _0x47cbae(_0x40f53d[_0x549f9c(0x211)],_0x549f9c(0x87e));}_0x3527b4[_0x549f9c(0x2e3)]&&(_0xd95030[_0x549f9c(0x82c)](_0x549f9c(0x2e3)),_0x549f9c(0x1ba)!=typeof _0x3527b4[_0x549f9c(0x2e3)]&&_0x3527b4[_0x549f9c(0x2e3)][_0x549f9c(0x49f)]&&(this['renderElement']=_0x3527b4[_0x549f9c(0x2e3)][_0x549f9c(0x49f)],_0x3527b4[_0x549f9c(0x2e3)]['maxResolution']||(_0x3527b4[_0x549f9c(0x2e3)][_0x549f9c(0x1b9)]={'width':this['renderElement'][_0x549f9c(0x760)],'height':this[_0x549f9c(0x49f)][_0x549f9c(0x54d)]}),delete _0x3527b4[_0x549f9c(0x2e3)][_0x549f9c(0x49f)])),_0x3527b4[_0x549f9c(0x529)]&&_0xd95030[_0x549f9c(0x82c)](_0x549f9c(0x529));}else _0xd95030=this[_0x549f9c(0x739)]();this[_0x549f9c(0x8ff)](_0xd95030)||(_0xd95030[_0x549f9c(0x34b)](_0x342f35=>this['subscribedTracks'][_0x549f9c(0x43e)](_0x342f35)),this['systemTopic']['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x549f9c(0x326)],'content':{'type':_0x277618[_0x549f9c(0x7de)],'label':this[_0x549f9c(0x59f)],'ownerId':this[_0x549f9c(0x816)][_0x549f9c(0x66e)](),'trackKinds':_0xd95030,'params':_0x3527b4}}),_0x585abf[_0x549f9c(0x711)](_0x50e58d['MediaStream'],{'type':_0x549f9c(0x3cb),'label':this[_0x549f9c(0x59f)],'nodeId':this['localNode'][_0x549f9c(0x66e)](),'nodeType':this[_0x549f9c(0x21a)][_0x549f9c(0x6f6)],'clusterId':this[_0x549f9c(0x461)],'sourceId':this[_0x549f9c(0x816)][_0x549f9c(0x66e)](),'streamId':this[_0x549f9c(0x555)],'trackKinds':_0xd95030}));}[_0x20cdf8(0x371)](_0x1071f9){const _0x2c2ca0=_0x20cdf8;try{(0x0,_0x3b754d[_0x2c2ca0(0x546)])(_0x1071f9);}catch(_0x27935a){throw new _0x47cbae(_0x40f53d[_0x2c2ca0(0x211)],_0x2c2ca0(0x87e));}this['updateDebounce']&&clearTimeout(this[_0x2c2ca0(0x710)]),this[_0x2c2ca0(0x710)]=setTimeout(()=>{const _0x339281=_0x2c2ca0;delete this['updateDebounce'],this[_0x339281(0x361)][_0x339281(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x339281(0x326)],'content':{'type':_0x277618[_0x339281(0x328)],'label':this['label'],'ownerId':this['owner'][_0x339281(0x66e)](),'params':_0x1071f9}});},0x1f4);}[_0x20cdf8(0x579)](_0x174714){const _0xfc2338=_0x20cdf8;_0x174714||(_0x174714=this['getAvailableTrackKinds']()),(_0x174714=Array['isArray'](_0x174714)?_0x174714:[_0x174714])[_0xfc2338(0x34b)](_0x3dd8ac=>this['subscribedTracks']['delete'](_0x3dd8ac)),this['systemTopic'][_0xfc2338(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0xfc2338(0x326)],'content':{'type':_0x277618['UnsubscribeMediaStream'],'label':this[_0xfc2338(0x59f)],'ownerId':this[_0xfc2338(0x816)]['getId'](),'trackKinds':_0x174714,'remainingTracks':this['subscribedTracks'][_0xfc2338(0x3b4)]}});}[_0x20cdf8(0x7b3)](_0x5ca56a){const _0x421c9f=_0x20cdf8;return this['providerListener'][_0x421c9f(0x3cb)](_0x5ca56a);}['getProviderId'](){return this['providerId'];}[_0x20cdf8(0x83c)](_0x39ccc7){const _0x284d39=_0x20cdf8;this['providerId']!==_0x39ccc7&&(this[_0x284d39(0x513)]=_0x39ccc7,this['providerListener']['publish'](_0x39ccc7));}[_0x20cdf8(0x3de)](_0xdfe0f0){const _0xddade=_0x20cdf8;this[_0xddade(0x889)][_0xddade(0x333)](_0xdfe0f0)?.(),this[_0xddade(0x889)][_0xddade(0x268)](_0xdfe0f0);}['removeTrack'](_0x1027f5){const _0x42fbcb=_0x20cdf8,_0x163957=this[_0x42fbcb(0x4a8)][_0x42fbcb(0x8d7)]()[_0x42fbcb(0x819)](_0x40f4eb=>_0x40f4eb[_0x42fbcb(0x6b6)]===_0x1027f5);_0x163957&&(this[_0x42fbcb(0x4a8)]['removeTrack'](_0x163957),this[_0x42fbcb(0x1b7)][_0x42fbcb(0x34b)](_0xaa8f=>_0xaa8f[_0x42fbcb(0x887)](_0x1027f5)),this[_0x42fbcb(0x889)][_0x42fbcb(0x333)](_0x1027f5)?.());}[_0x20cdf8(0x659)](){const _0x108fec=_0x20cdf8;this[_0x108fec(0x49f)]&&(this[_0x108fec(0x49f)][_0x108fec(0x818)]&&this['renderElement']['srcObject']===this[_0x108fec(0x4a8)]||(this[_0x108fec(0x49f)]['srcObject']=this['mediaStream']));}[_0x20cdf8(0x793)](){const _0x374e4a=_0x20cdf8;if(this['renderElement']&&!this[_0x374e4a(0x474)]&&_0x374e4a(0x8d6)!=typeof ResizeObserver){let _0x330ae9=this[_0x374e4a(0x49f)][_0x374e4a(0x760)],_0x1cf027=this['renderElement']['clientHeight'];const _0x1fb99d=new ResizeObserver(_0x5d8188=>{const _0x240293=_0x374e4a,{width:_0x224845,height:_0x4806ac}=_0x5d8188[0x0][_0x240293(0x47f)];_0x330ae9===_0x224845&&_0x1cf027===_0x4806ac||(_0x330ae9=Math[_0x240293(0x47e)](_0x224845),_0x1cf027=Math[_0x240293(0x47e)](_0x4806ac),this[_0x240293(0x371)]({'video':{'maxResolution':{'width':_0x224845,'height':_0x4806ac}}}));});_0x1fb99d[_0x374e4a(0x603)](this['renderElement']),this[_0x374e4a(0x474)]=()=>_0x1fb99d[_0x374e4a(0x656)]();}}[_0x20cdf8(0x37a)](_0x48da87){const _0x3ff9f5=_0x20cdf8,_0x4eb1ff=[];for(const _0x4b8603 of this[_0x3ff9f5(0x89b)])this['removeTrack'](_0x4b8603),_0x4eb1ff[_0x3ff9f5(0x82c)](_0x4b8603);this[_0x3ff9f5(0x513)]&&this['systemTopic'][_0x3ff9f5(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x3ff9f5(0x326)],'content':{'type':_0x277618[_0x3ff9f5(0x80e)],'label':this[_0x3ff9f5(0x59f)],'streamId':this[_0x3ff9f5(0x555)],'ownerId':this[_0x3ff9f5(0x816)][_0x3ff9f5(0x66e)](),'providerId':this[_0x3ff9f5(0x513)],'trackKinds':_0x4eb1ff}});}[_0x20cdf8(0x751)](_0x546817){const _0x523666=_0x20cdf8,_0x2e84f2=()=>this[_0x523666(0x37a)](_0x546817);_0x546817['addEventListener'](_0x523666(0x4e1),_0x2e84f2),_0x546817['addEventListener']('mute',_0x2e84f2),this[_0x523666(0x889)][_0x523666(0xaf)](_0x546817[_0x523666(0x6b6)],()=>{const _0x13a127=_0x523666;_0x546817['removeEventListener']('ended',_0x2e84f2),_0x546817[_0x13a127(0x5b6)](_0x13a127(0x21d),_0x2e84f2),this[_0x13a127(0x889)][_0x13a127(0x268)](_0x546817['kind']);});}}class _0x945a90 extends _0xa58cfb{[_0x20cdf8(0x21a)];['clusterId'];['db'];[_0x20cdf8(0x8c2)];[_0x20cdf8(0x686)]=0x0;[_0x20cdf8(0x3e0)]=0x0;constructor(_0x4959d5,_0x603bb6,_0x328895,_0x4d5c73){const _0x41a621=_0x20cdf8;if(_0x41a621(0x478)!=typeof _0x603bb6)throw new _0x47cbae(_0x40f53d[_0x41a621(0x6ae)],_0x41a621(0x2a1));super(_0x4959d5,_0x603bb6),this[_0x41a621(0x21a)]=_0x4959d5,this[_0x41a621(0x461)]=_0x328895,this['db']=new _0x4d5c73(),this[_0x41a621(0x205)]();}['destroy'](){const _0x333b77=_0x20cdf8;clearTimeout(this[_0x333b77(0x8c2)]),delete this[_0x333b77(0x8c2)],super['destroy']();}[_0x20cdf8(0x671)](){const _0x3c43e0=_0x20cdf8;this['systemTopic'][_0x3c43e0(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x3c43e0(0x326)],'content':{'type':_0x277618[_0x3c43e0(0x5cf)],'label':this[_0x3c43e0(0x59f)]}});}['reset'](){const _0x2762d4=_0x20cdf8;this[_0x2762d4(0x205)]();}[_0x20cdf8(0x7e9)](){const _0x2c2b50=_0x20cdf8;return _0x3b754d[_0x2c2b50(0x4e6)][_0x2c2b50(0x345)];}['search'](_0x16278f,_0x208336,_0x2a454a,_0x31b3db){const _0x582680=_0x20cdf8,_0x25e8bc=this['db']['search'](_0x16278f,_0x208336,_0x2a454a,_0x31b3db);return this['reads']+=0x1,_0x585abf[_0x582680(0x711)](_0x50e58d[_0x582680(0x345)],{'type':_0x582680(0x271),'label':this['label'],'nodeId':this[_0x582680(0x21a)][_0x582680(0x66e)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x582680(0x461)],'size':0x0}),this[_0x582680(0x205)](),_0x25e8bc;}[_0x20cdf8(0x150)](_0x362ec0,_0x4b76d5,_0x3de8e9,_0x34cc4f){const _0x4dc261=_0x20cdf8;this['db'][_0x4dc261(0x150)](_0x362ec0,_0x4b76d5,_0x3de8e9,_0x34cc4f),this[_0x4dc261(0x686)]+=0x1,_0x585abf['logServiceEvent'](_0x50e58d['VectorDatabase'],{'type':_0x4dc261(0x150),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x4dc261(0x21a)][_0x4dc261(0x6f6)],'clusterId':this[_0x4dc261(0x461)],'size':_0x34cc4f[_0x4dc261(0x339)]((_0x165594,_0x3adfcb)=>_0x165594+_0x3adfcb[_0x4dc261(0x51a)],0x0)}),this[_0x4dc261(0x205)]();}[_0x20cdf8(0x1f5)](_0x265072){const _0x213e29=_0x20cdf8;this['db'][_0x213e29(0x1f5)](_0x265072),this['writes']+=0x1,_0x585abf[_0x213e29(0x711)](_0x50e58d['VectorDatabase'],{'type':'remove','label':this['label'],'nodeId':this[_0x213e29(0x21a)][_0x213e29(0x66e)](),'nodeType':this['localNode'][_0x213e29(0x6f6)],'clusterId':this[_0x213e29(0x461)],'size':0x0}),this[_0x213e29(0x205)]();}[_0x20cdf8(0x205)](){const _0x2f8cb8=_0x20cdf8;this[_0x2f8cb8(0x8c2)]&&clearTimeout(this['debounceStats']),this[_0x2f8cb8(0x8c2)]=setTimeout(async()=>{const _0x1d785e=_0x2f8cb8;delete this['debounceStats'];const _0x408cfa=this['db'][_0x1d785e(0x2f4)]()[_0x1d785e(0xf3)];this[_0x1d785e(0x361)][_0x1d785e(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x1d785e(0x326)],'content':{'type':_0x277618['VectorDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0x1d785e(0x76a)](),'storage':_0x408cfa,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1d785e(0x22c)],'bytesSent':this[_0x1d785e(0x25b)],'bytesReceived':this[_0x1d785e(0x5a0)],'writes':this['writes'],'reads':this[_0x1d785e(0x3e0)],'prompts':0x0,'tokens':0x0}}}),_0x585abf[_0x1d785e(0x86f)](_0x50e58d[_0x1d785e(0x345)],'ccc'+this['clusterId']+_0x1d785e(0x6a9)+this[_0x1d785e(0x59f)],_0x408cfa);},_0x490b21);}}class _0x3b775e{['id'];[_0x20cdf8(0x1e0)];[_0x20cdf8(0x63f)];constructor(_0x1caf1f,_0x350570=new Set(),_0x5578c5){const _0x557f09=_0x20cdf8;this['id']=_0x1caf1f,this[_0x557f09(0x1e0)]=_0x350570,this[_0x557f09(0x63f)]=_0x5578c5;}[_0x20cdf8(0x671)](){const _0x447424=_0x20cdf8;this[_0x447424(0x63f)]=void 0x0,this['remoteConnections'][_0x447424(0x1fc)]();}[_0x20cdf8(0x66e)](){return this['id'];}[_0x20cdf8(0x81f)](){const _0x120a10=_0x20cdf8;return this[_0x120a10(0x63f)];}['getRemoteConnections'](){const _0x17cc80=_0x20cdf8;return this[_0x17cc80(0x1e0)];}}class _0x513f69 extends _0x3b775e{['id'];[_0x20cdf8(0x873)];[_0x20cdf8(0x596)];[_0x20cdf8(0x1e0)];['rank'];[_0x20cdf8(0x6f6)]=_0x3b754d['NodeType']['User'];constructor(_0x347829,_0x105a11,_0x388a7e,_0xe50b7e=new Set(),_0x3f0224){const _0x32c68a=_0x20cdf8;super(_0x347829,_0xe50b7e,_0x3f0224),this['id']=_0x347829,this[_0x32c68a(0x873)]=_0x105a11,this[_0x32c68a(0x596)]=_0x388a7e,this[_0x32c68a(0x1e0)]=_0xe50b7e,this[_0x32c68a(0x63f)]=_0x3f0224;}['getDisplayName'](){const _0x320625=_0x20cdf8;return this[_0x320625(0x873)];}[_0x20cdf8(0x886)](){const _0x18dfc3=_0x20cdf8;return this[_0x18dfc3(0x596)];}}class _0x5bfae2{[_0x20cdf8(0x6f5)];[_0x20cdf8(0x461)];[_0x20cdf8(0x62e)];constructor(_0x595764,_0x4c4d9b){const _0x58669c=_0x20cdf8;this[_0x58669c(0x6f5)]=_0x595764,this[_0x58669c(0x461)]=_0x4c4d9b,this[_0x58669c(0x62e)]=_0x58669c(0x6a9)+this[_0x58669c(0x6f5)]+'ccc'+this['clusterId'];}async[_0x20cdf8(0x888)](_0x5d5f11,_0x72d27){const _0x29746c=_0x20cdf8,_0x236858=(0x0,_0x19b2ba['ref'])(_0x2c07f4['getDatabase'](),_0x29746c(0x813)+this[_0x29746c(0x62e)]+_0x29746c(0x505)+_0x72d27+_0x29746c(0x21e)+_0x5d5f11['id']),_0x8e9f1b=(0x0,_0x19b2ba[_0x29746c(0x883)])(_0x236858);_0x8e9f1b[_0x29746c(0x1f5)](),_0x5d5f11['parentId']||delete _0x5d5f11[_0x29746c(0x8a3)];try{await(0x0,_0x19b2ba[_0x29746c(0xaf)])(_0x236858,_0x5d5f11);}catch(_0x38eda8){throw await _0x8e9f1b[_0x29746c(0x8e7)](),new _0x5a569f(_0x5a569f[_0x29746c(0x4e8)][_0x29746c(0x3a1)]);}if(!0x1===(await(0x0,_0x19b2ba[_0x29746c(0x373)])((0x0,_0x19b2ba[_0x29746c(0x145)])(_0x2c07f4[_0x29746c(0x885)](),'clusters/'+this[_0x29746c(0x62e)]+_0x29746c(0x505)+_0x72d27+'/transactions/lastTransaction'),_0x1ca365=>_0x1ca365?_0x1ca365===_0x5d5f11[_0x29746c(0x8a3)]?_0x5d5f11['id']:void 0x0:_0x5d5f11[_0x29746c(0x8a3)]?_0x5d5f11[_0x29746c(0x8a3)]:_0x5d5f11['id']))[_0x29746c(0x70b)])throw await(0x0,_0x19b2ba[_0x29746c(0x1f5)])(_0x236858),await _0x8e9f1b['cancel'](),new _0x5a569f(_0x5a569f[_0x29746c(0x4e8)]['ObjectStoreNotSynced']);await _0x8e9f1b[_0x29746c(0x8e7)]();}async[_0x20cdf8(0x512)](_0x389256,_0x450d16){const _0xd815e4=_0x20cdf8;let _0x15e92c=[];const _0x1b4670=(0x0,_0x19b2ba['ref'])(_0x2c07f4[_0xd815e4(0x885)](),_0xd815e4(0x813)+this[_0xd815e4(0x62e)]+'/objectstores/'+_0x389256+_0xd815e4(0x551));let _0x50dac5=await(0x0,_0x19b2ba[_0xd815e4(0x333)])((0x0,_0x19b2ba[_0xd815e4(0x689)])(_0x1b4670,(0x0,_0x19b2ba[_0xd815e4(0x5fc)])(0x65),(0x0,_0x19b2ba['orderByKey'])()));if(!_0x50dac5[_0xd815e4(0x83e)]()){if(void 0x0!==_0x450d16)throw new _0x5a569f(_0x5a569f[_0xd815e4(0x4e8)][_0xd815e4(0x5e7)]);return _0x15e92c;}const _0x301ed3=_0x50dac5['val']();for(;Object['keys'](_0x50dac5[_0xd815e4(0x821)]())[_0xd815e4(0x51a)]>0x64;){const _0x2eefaa=Object[_0xd815e4(0x653)](_0x50dac5[_0xd815e4(0x821)]()),_0x22d627=_0x2eefaa[_0x2eefaa[_0xd815e4(0x51a)]-0x1];_0x50dac5=await(0x0,_0x19b2ba['get'])((0x0,_0x19b2ba[_0xd815e4(0x689)])(_0x1b4670,(0x0,_0x19b2ba[_0xd815e4(0x5fc)])(0x65),(0x0,_0x19b2ba['startAt'])(_0x22d627),(0x0,_0x19b2ba['orderByKey'])())),Object[_0xd815e4(0x1b1)](_0x301ed3,_0x50dac5[_0xd815e4(0x821)]());}if(_0x15e92c=Object[_0xd815e4(0x6cd)](_0x301ed3)[_0xd815e4(0xb7)](_0x4faa5c=>_0xd815e4(0x478)!=typeof _0x4faa5c),0x0===_0x15e92c[_0xd815e4(0x51a)]&&void 0x0!==_0x450d16)throw new _0x5a569f(_0x5a569f['codes'][_0xd815e4(0x5e7)]);if(_0x15e92c[_0xd815e4(0x51a)]>0x0&&void 0x0!==_0x450d16&&!_0x15e92c[_0xd815e4(0x819)](_0x400f79=>_0x400f79['id']===_0x450d16))throw new _0x5a569f(_0x5a569f[_0xd815e4(0x4e8)][_0xd815e4(0x5e7)]);const _0x5dc46a=[];let _0x54e029=_0x15e92c[_0xd815e4(0x819)](_0x57fef2=>_0x57fef2['parentId']===_0x450d16);for(;_0x54e029;)_0x5dc46a['push'](_0x54e029),_0x54e029=_0x15e92c['find'](_0x468f44=>_0x468f44[_0xd815e4(0x8a3)]===_0x54e029['id']);return _0x5dc46a;}}class _0x320bbf{[_0x20cdf8(0x252)];[_0x20cdf8(0x846)];['searchApiKey'];[_0x20cdf8(0x591)]=new Map();[_0x20cdf8(0x33a)]=new Map();[_0x20cdf8(0x31c)]=new Map();[_0x20cdf8(0x197)]=new Map();[_0x20cdf8(0x7f2)]=new Map();[_0x20cdf8(0x185)]=new Map();['vectorDatabases']=new Map();[_0x20cdf8(0x50a)]=new Map();[_0x20cdf8(0x78c)]=new Map();[_0x20cdf8(0x39b)]=new Map();[_0x20cdf8(0x690)];constructor(_0x5a5986,_0x1379d3,_0x84905){const _0x42b372=_0x20cdf8;this['configs']=_0x5a5986,this[_0x42b372(0x846)]=_0x1379d3,this[_0x42b372(0x456)]=_0x84905,this[_0x42b372(0x690)]=new _0x5bfae2(this[_0x42b372(0x252)][_0x42b372(0x6f5)],this[_0x42b372(0x252)][_0x42b372(0x461)]);}['close'](_0x467c87=!0x1){const _0x515b0b=_0x20cdf8;this[_0x515b0b(0x33a)][_0x515b0b(0x34b)]((_0x31f122,_0x404927)=>{const _0x440018=_0x515b0b;_0x31f122[_0x440018(0x34b)]((_0x2cd8dd,_0x20b674)=>{this['removeRemoteMediaStream'](_0x404927,_0x20b674);});}),_0x467c87||(_0x2fe1b6[_0x515b0b(0x1fc)](),this[_0x515b0b(0x591)][_0x515b0b(0x34b)]((_0x496b6f,_0x2b105a)=>{const _0xe86050=_0x515b0b;this[_0xe86050(0x780)](_0x2b105a);}),this[_0x515b0b(0x31c)]['forEach']((_0x33e3de,_0x25c256)=>{this['removePubSubTopic'](_0x25c256);}),this[_0x515b0b(0x197)][_0x515b0b(0x34b)]((_0x5560a1,_0x29b0e6)=>{const _0x46a193=_0x515b0b;this[_0x46a193(0x265)](_0x29b0e6);}),this['externalStorageConnections']['forEach']((_0x408875,_0x57fb19)=>{const _0xc79efe=_0x515b0b;this[_0xc79efe(0x132)](_0x57fb19);}),this[_0x515b0b(0x185)][_0x515b0b(0x34b)]((_0x2e2e2e,_0x4cd10a)=>{const _0x452ac2=_0x515b0b;this[_0x452ac2(0x6e4)](_0x4cd10a);}),this[_0x515b0b(0x78c)][_0x515b0b(0x34b)]((_0x2b98ec,_0x176909)=>{this['removeJobDispatcher'](_0x176909);}),this[_0x515b0b(0x39b)][_0x515b0b(0x34b)]((_0x30c4c3,_0x564cd2)=>{const _0x5a6de2=_0x515b0b;this[_0x5a6de2(0x213)](_0x564cd2);}),this[_0x515b0b(0x2f2)][_0x515b0b(0x34b)]((_0x176622,_0x41e74b)=>{const _0x25e8b3=_0x515b0b;this[_0x25e8b3(0x468)](_0x41e74b);}),this[_0x515b0b(0x50a)][_0x515b0b(0x34b)]((_0x240523,_0x37b1c0)=>{const _0x3eb49c=_0x515b0b;this[_0x3eb49c(0x841)](_0x37b1c0);}));}[_0x20cdf8(0x6eb)](_0x40d610,_0x598b3f){const _0x33d648=_0x20cdf8;if(this[_0x33d648(0x197)]['has'](_0x40d610))throw new _0x47cbae(_0x40f53d[_0x33d648(0x221)],_0x33d648(0x1df));const _0x3098d4=new _0x1db819(this['configs'][_0x33d648(0x21a)],_0x40d610,this['configs'][_0x33d648(0x461)],this[_0x33d648(0x252)][_0x33d648(0x6f5)],this[_0x33d648(0x690)],_0x598b3f,()=>this[_0x33d648(0x252)]['mediator']['waitForArrayBufferSize']());return this[_0x33d648(0x197)][_0x33d648(0xaf)](_0x40d610,_0x3098d4),this[_0x33d648(0x252)][_0x33d648(0x4ea)]['registerSystemSource'](_0x3098d4),_0x3098d4;}[_0x20cdf8(0x553)](_0x45b87a,_0x18e71a){const _0x4fb380=_0x20cdf8;if(this[_0x4fb380(0x197)][_0x4fb380(0x6f2)](_0x45b87a))throw new _0x47cbae(_0x40f53d['ExternalStorageConnectionAlreadyExists'],'Connection\x20already\x20exists');const _0x44417a=new _0x48ff1a(this[_0x4fb380(0x252)][_0x4fb380(0x21a)],_0x45b87a,this[_0x4fb380(0x252)]['clusterId'],this[_0x4fb380(0x252)][_0x4fb380(0x6f5)],_0x18e71a);return this[_0x4fb380(0x7f2)][_0x4fb380(0xaf)](_0x45b87a,_0x44417a),this[_0x4fb380(0x252)][_0x4fb380(0x4ea)][_0x4fb380(0x67e)](_0x44417a),_0x44417a;}async[_0x20cdf8(0x4c0)](_0x34c2c5,_0x59679f,_0x116861){const _0x3ba322=_0x20cdf8;if(this[_0x3ba322(0x185)][_0x3ba322(0x6f2)](_0x34c2c5))throw new _0x47cbae(_0x40f53d[_0x3ba322(0x28e)],_0x3ba322(0x4bc));try{const _0x268b1d=new _0x2a6150(this['configs'][_0x3ba322(0x21a)],_0x34c2c5,this[_0x3ba322(0x252)][_0x3ba322(0x461)],this[_0x3ba322(0x252)][_0x3ba322(0x6f5)],_0x59679f,_0x116861);return this[_0x3ba322(0x185)][_0x3ba322(0xaf)](_0x34c2c5,_0x268b1d),this['configs'][_0x3ba322(0x4ea)][_0x3ba322(0x67e)](_0x268b1d),_0x268b1d;}catch(_0x514edc){if(_0x514edc instanceof _0x47cbae)throw _0x514edc;throw new _0x5a569f(_0x5a569f[_0x3ba322(0x4e8)][_0x3ba322(0x2aa)],{'label':_0x34c2c5,'clusterId':this[_0x3ba322(0x252)][_0x3ba322(0x461)],'vendorId':this[_0x3ba322(0x252)][_0x3ba322(0x6f5)]});}}async[_0x20cdf8(0x414)](_0x2b3926,_0x5aadc5){const _0x199f7a=_0x20cdf8;if(this['jobDispatchers'][_0x199f7a(0x6f2)](_0x2b3926))throw new _0x47cbae(_0x40f53d[_0x199f7a(0x606)],_0x199f7a(0x250));try{const _0x6a28ac=new _0x1ecb96(this['configs'][_0x199f7a(0x21a)],_0x2b3926,_0x5aadc5);return this[_0x199f7a(0x78c)][_0x199f7a(0xaf)](_0x2b3926,_0x6a28ac),this['configs'][_0x199f7a(0x4ea)][_0x199f7a(0x67e)](_0x6a28ac),_0x6a28ac;}catch(_0x239e8d){if(_0x239e8d instanceof _0x47cbae)throw _0x239e8d;throw new _0x5a569f(_0x5a569f[_0x199f7a(0x4e8)]['JobDispatcherCreationFailed'],{'label':_0x2b3926,'clusterId':this[_0x199f7a(0x252)][_0x199f7a(0x461)],'vendorId':this[_0x199f7a(0x252)][_0x199f7a(0x6f5)]});}}async[_0x20cdf8(0x68a)](_0x41c23b,_0x559977){const _0x2ac462=_0x20cdf8;if(this[_0x2ac462(0x78c)][_0x2ac462(0x6f2)](_0x41c23b))throw new _0x47cbae(_0x40f53d[_0x2ac462(0x902)],_0x2ac462(0x63a));if(this[_0x2ac462(0x39b)]['has'](_0x41c23b))throw new _0x47cbae(_0x40f53d[_0x2ac462(0x858)],_0x2ac462(0x717));try{const _0x468c7d=new _0x4fa641(this[_0x2ac462(0x252)][_0x2ac462(0x21a)],_0x41c23b,this[_0x2ac462(0x252)][_0x2ac462(0x6f5)],_0x559977);return this[_0x2ac462(0x78c)][_0x2ac462(0xaf)](_0x41c23b,_0x468c7d),this['configs']['mediator'][_0x2ac462(0x67e)](_0x468c7d),_0x468c7d;}catch(_0x373c26){if(_0x373c26 instanceof _0x47cbae)throw _0x373c26;throw new _0x5a569f(_0x5a569f[_0x2ac462(0x4e8)][_0x2ac462(0x527)],{'label':_0x41c23b,'clusterId':this[_0x2ac462(0x252)]['clusterId'],'vendorId':this[_0x2ac462(0x252)][_0x2ac462(0x6f5)]});}}async[_0x20cdf8(0x63b)](_0x5255d3,_0x144834,_0x30d72e,_0x2d4bad,_0x59e549,_0x796c21){const _0x149dea=_0x20cdf8;if(this['jobWorkers'][_0x149dea(0x6f2)](_0x5255d3))throw new _0x47cbae(_0x40f53d['GenerativeAIWorkerAlreadyExists'],_0x149dea(0x55b));if(this['jobDispatchers']['has'](_0x5255d3))throw new _0x47cbae(_0x40f53d[_0x149dea(0x858)],_0x149dea(0x717));try{const _0x40013f=new _0x588661(this[_0x149dea(0x252)][_0x149dea(0x21a)],_0x5255d3,this['configs'][_0x149dea(0x6f5)],_0x144834,this,_0x30d72e,_0x2d4bad,_0x59e549,this[_0x149dea(0x456)],_0x796c21);return this['jobWorkers'][_0x149dea(0xaf)](_0x5255d3,_0x40013f),this['configs'][_0x149dea(0x4ea)][_0x149dea(0x67e)](_0x40013f),_0x40013f;}catch(_0x4927be){if(_0x4927be instanceof _0x47cbae)throw _0x4927be;throw new _0x5a569f(_0x5a569f[_0x149dea(0x4e8)][_0x149dea(0x5fb)],{'label':_0x5255d3,'clusterId':this[_0x149dea(0x252)]['clusterId'],'vendorId':this[_0x149dea(0x252)][_0x149dea(0x6f5)]});}}['createGraphDatabase'](_0x3a5e35,_0x181a31){const _0x27ac7c=_0x20cdf8;if(this[_0x27ac7c(0x50a)][_0x27ac7c(0x6f2)](_0x3a5e35))throw new _0x47cbae(_0x40f53d['GraphDatabaseAlreadyExists'],_0x27ac7c(0x4bc));try{const _0x52723f=new _0x5c198b(this[_0x27ac7c(0x252)][_0x27ac7c(0x21a)],_0x3a5e35,this[_0x27ac7c(0x252)]['clusterId'],_0x181a31);return this['graphDatabases'][_0x27ac7c(0xaf)](_0x3a5e35,_0x52723f),this['configs'][_0x27ac7c(0x4ea)]['registerSystemSource'](_0x52723f),_0x52723f;}catch(_0x20db4f){if(_0x20db4f instanceof _0x47cbae)throw _0x20db4f;throw new _0x5a569f(_0x5a569f[_0x27ac7c(0x4e8)][_0x27ac7c(0x6bf)],{'label':_0x3a5e35,'clusterId':this[_0x27ac7c(0x252)][_0x27ac7c(0x461)],'vendorId':this[_0x27ac7c(0x252)][_0x27ac7c(0x6f5)]});}}['createLocalDynamicMediaStream'](_0xd8511d,_0x58f208){const _0x30de34=_0x20cdf8;if(this[_0x30de34(0x591)][_0x30de34(0x6f2)](_0xd8511d))throw new _0x47cbae(_0x40f53d['LocalMediaStreamAlreadyExists'],_0x30de34(0x83f));if(!this[_0x30de34(0x846)][_0x30de34(0x583)])throw new _0x47cbae(_0x40f53d[_0x30de34(0x727)],_0x30de34(0x694));const _0x19176c=new _0x468b76(this['configs'][_0x30de34(0x21a)],_0xd8511d,_0x58f208,this[_0x30de34(0x846)][_0x30de34(0x2c2)],this[_0x30de34(0x846)][_0x30de34(0x583)],this[_0x30de34(0x252)]['clusterId']);return this[_0x30de34(0x591)][_0x30de34(0xaf)](_0xd8511d,_0x19176c),this['configs']['mediator']['registerSystemSource'](_0x19176c),_0x19176c[_0x30de34(0x1ed)](),_0x19176c;}[_0x20cdf8(0x4ca)](_0x267ed6,_0x35475b){const _0x2c174a=_0x20cdf8;if(this[_0x2c174a(0x591)][_0x2c174a(0x6f2)](_0x267ed6))throw new _0x47cbae(_0x40f53d[_0x2c174a(0x2e5)],'Stream\x20already\x20exists');const _0x3976b2=new _0x39b988(this[_0x2c174a(0x252)][_0x2c174a(0x21a)],_0x267ed6,_0x35475b,this['configs'][_0x2c174a(0x461)]);return this['localMediaStreams'][_0x2c174a(0xaf)](_0x267ed6,_0x3976b2),this[_0x2c174a(0x252)]['mediator'][_0x2c174a(0x67e)](_0x3976b2),_0x3976b2['publish'](),_0x3976b2;}[_0x20cdf8(0x6c9)](_0x5d8d42){const _0x3949f1=_0x20cdf8;if(this[_0x3949f1(0x31c)][_0x3949f1(0x6f2)](_0x5d8d42))throw new _0x47cbae(_0x40f53d[_0x3949f1(0x6ac)],_0x3949f1(0x53c));const _0x2ea4de=new _0x2ea7bf(this[_0x3949f1(0x252)][_0x3949f1(0x21a)],_0x5d8d42,this[_0x3949f1(0x252)][_0x3949f1(0x461)]);return this[_0x3949f1(0x31c)][_0x3949f1(0xaf)](_0x5d8d42,_0x2ea4de),this[_0x3949f1(0x252)][_0x3949f1(0x4ea)]['registerSystemSource'](_0x2ea4de),_0x2ea4de;}[_0x20cdf8(0x7ca)](_0x416e37,_0x33a03b,_0x2b4003,_0x5d4f59){const _0x5ae706=_0x20cdf8;this[_0x5ae706(0x33a)][_0x5ae706(0x6f2)](_0x416e37)||this['remoteMediaStreams'][_0x5ae706(0xaf)](_0x416e37,new Map());const _0x1f44e5=this[_0x5ae706(0x33a)][_0x5ae706(0x333)](_0x416e37);if(_0x1f44e5[_0x5ae706(0x6f2)](_0x33a03b))throw new _0x47cbae(_0x40f53d[_0x5ae706(0x2b3)],'Remote\x20MediaStream\x20already\x20exists');const _0x3213c4=new _0x513f69(_0x416e37,'',''),_0x51f88b=new _0x5095e4(this[_0x5ae706(0x252)][_0x5ae706(0x21a)],_0x3213c4,_0x33a03b,_0x2b4003,_0x5d4f59,this['configs'][_0x5ae706(0x461)]);return _0x1f44e5[_0x5ae706(0xaf)](_0x33a03b,_0x51f88b),this[_0x5ae706(0x252)][_0x5ae706(0x4ea)][_0x5ae706(0x67e)](_0x51f88b),_0x51f88b;}['createVectorDatabase'](_0x5ca7a3,_0x3e0b3c){const _0x1a50c7=_0x20cdf8;if(this[_0x1a50c7(0x2f2)][_0x1a50c7(0x6f2)](_0x5ca7a3))throw new _0x47cbae(_0x40f53d[_0x1a50c7(0x370)],_0x1a50c7(0x4bc));try{const _0x438289=new _0x945a90(this[_0x1a50c7(0x252)]['localNode'],_0x5ca7a3,this['configs'][_0x1a50c7(0x461)],_0x3e0b3c);return this[_0x1a50c7(0x2f2)][_0x1a50c7(0xaf)](_0x5ca7a3,_0x438289),this[_0x1a50c7(0x252)][_0x1a50c7(0x4ea)][_0x1a50c7(0x67e)](_0x438289),_0x438289;}catch(_0x55da88){if(_0x55da88 instanceof _0x47cbae)throw _0x55da88;throw new _0x5a569f(_0x5a569f[_0x1a50c7(0x4e8)][_0x1a50c7(0x7d5)],{'label':_0x5ca7a3,'clusterId':this[_0x1a50c7(0x252)][_0x1a50c7(0x461)],'vendorId':this[_0x1a50c7(0x252)][_0x1a50c7(0x6f5)]});}}[_0x20cdf8(0x2d0)](_0xdde7f0){const _0x79182e=_0x20cdf8,_0x357519=Array[_0x79182e(0x473)](this['objectStores']['values']());return _0xdde7f0?_0x357519[_0x79182e(0xb7)](_0xdde7f0):_0x357519;}[_0x20cdf8(0x3a5)](_0x3a85a6){const _0x29bfcf=_0x20cdf8,_0x19fad9=Array['from'](this[_0x29bfcf(0x7f2)][_0x29bfcf(0x6cd)]());return _0x3a85a6?_0x19fad9[_0x29bfcf(0xb7)](_0x3a85a6):_0x19fad9;}[_0x20cdf8(0x805)](_0x4cb277){const _0x471a25=_0x20cdf8,_0x29614a=Array[_0x471a25(0x473)](this[_0x471a25(0x185)][_0x471a25(0x6cd)]());return _0x4cb277?_0x29614a[_0x471a25(0xb7)](_0x4cb277):_0x29614a;}[_0x20cdf8(0x458)](_0x521b3c){const _0x50ac6b=_0x20cdf8,_0x4eefcd=Array['from'](this[_0x50ac6b(0x78c)][_0x50ac6b(0x6cd)]());return _0x521b3c?_0x4eefcd[_0x50ac6b(0xb7)](_0x521b3c):_0x4eefcd;}[_0x20cdf8(0x73a)](_0x237ec2){const _0x5259dc=_0x20cdf8,_0x32958a=Array[_0x5259dc(0x473)](this[_0x5259dc(0x39b)][_0x5259dc(0x6cd)]());return _0x237ec2?_0x32958a[_0x5259dc(0xb7)](_0x237ec2):_0x32958a;}[_0x20cdf8(0x109)](_0x333329){const _0x2299f7=_0x20cdf8,_0x16cc26=Array['from'](this[_0x2299f7(0x78c)][_0x2299f7(0x6cd)]())['filter'](_0x598440=>_0x598440 instanceof _0x4fa641);return _0x333329?_0x16cc26[_0x2299f7(0xb7)](_0x333329):_0x16cc26;}['getGenerativeAIWorkers'](_0x1b1ed5){const _0x3112b7=_0x20cdf8,_0x2a5d1b=Array['from'](this['jobWorkers']['values']())[_0x3112b7(0xb7)](_0x4e1c41=>_0x4e1c41 instanceof _0x588661);return _0x1b1ed5?_0x2a5d1b[_0x3112b7(0xb7)](_0x1b1ed5):_0x2a5d1b;}[_0x20cdf8(0x239)](_0x3f8ac2){const _0x5c9c7b=_0x20cdf8,_0x272d20=Array[_0x5c9c7b(0x473)](this[_0x5c9c7b(0x50a)][_0x5c9c7b(0x6cd)]());return _0x3f8ac2?_0x272d20[_0x5c9c7b(0xb7)](_0x3f8ac2):_0x272d20;}[_0x20cdf8(0x6fb)](_0xb9d9ea){const _0x12ba32=_0x20cdf8,_0x27bb62=Array[_0x12ba32(0x473)](this['localMediaStreams'][_0x12ba32(0x6cd)]());return _0xb9d9ea?_0x27bb62[_0x12ba32(0xb7)](_0xb9d9ea):_0x27bb62;}[_0x20cdf8(0x24c)](_0x1ac79e){const _0x4ac7c0=_0x20cdf8,_0x53c016=Array[_0x4ac7c0(0x473)](this[_0x4ac7c0(0x31c)][_0x4ac7c0(0x6cd)]());return _0x1ac79e?_0x53c016[_0x4ac7c0(0xb7)](_0x1ac79e):_0x53c016;}[_0x20cdf8(0x3cc)](_0x371170){const _0x53ce6e=_0x20cdf8,_0xcaafe3=Array['from'](this[_0x53ce6e(0x33a)][_0x53ce6e(0x6cd)]())[_0x53ce6e(0x339)]((_0x1e62fe,_0x9fbe9b)=>[..._0x1e62fe,...Array[_0x53ce6e(0x473)](_0x9fbe9b['values']())],[]);return _0x371170?_0xcaafe3[_0x53ce6e(0xb7)](_0x371170):_0xcaafe3;}['getVectorDatabases'](_0x42b3fd){const _0x3741d4=_0x20cdf8,_0xca37f5=Array[_0x3741d4(0x473)](this[_0x3741d4(0x2f2)][_0x3741d4(0x6cd)]());return _0x42b3fd?_0xca37f5[_0x3741d4(0xb7)](_0x42b3fd):_0xca37f5;}[_0x20cdf8(0x4ae)](_0x4cbebe){const _0x34a8cd=_0x20cdf8,_0x4b7475=this['objectStores'][_0x34a8cd(0x333)](_0x4cbebe);if(!_0x4b7475)throw new _0x47cbae(_0x40f53d[_0x34a8cd(0x8d8)],_0x34a8cd(0x8ba));return _0x4b7475;}[_0x20cdf8(0x4c5)](_0x51ca98){const _0x5ce7a6=_0x20cdf8,_0x5ab964=_0x51ca98[_0x5ce7a6(0x469)]('-'),_0x3657ba=this['externalStorageConnections'][_0x5ce7a6(0x333)](_0x5ab964[0x1]);if(!_0x3657ba)throw new _0x47cbae(_0x40f53d[_0x5ce7a6(0x66d)],_0x5ce7a6(0x2d3));return _0x3657ba;}['getGraphDatabase'](_0x11b85d){const _0x21181b=_0x20cdf8,_0x4df0e3=this[_0x21181b(0x50a)][_0x21181b(0x333)](_0x11b85d);if(!_0x4df0e3)throw new _0x47cbae(_0x40f53d['GraphDatabaseDoesNotExist'],_0x21181b(0x692));return _0x4df0e3;}[_0x20cdf8(0x84b)](_0x69802){const _0x2dcf90=_0x20cdf8,_0x4cf1e7=this['keyValueDatabases'][_0x2dcf90(0x333)](_0x69802);if(!_0x4cf1e7)throw new _0x47cbae(_0x40f53d[_0x2dcf90(0x3f5)],_0x2dcf90(0x7ec));return _0x4cf1e7;}[_0x20cdf8(0x748)](_0x1783d3){const _0x48dca9=_0x20cdf8,_0x54759f=this[_0x48dca9(0x31c)][_0x48dca9(0x333)](_0x1783d3);if(!_0x54759f)throw new _0x47cbae(_0x40f53d['PubSubTopicDoesNotExist'],_0x48dca9(0x117));return _0x54759f;}['getVectorDatabase'](_0x196b36){const _0x4654d7=_0x20cdf8,_0x4455ce=this[_0x4654d7(0x2f2)][_0x4654d7(0x333)](_0x196b36);if(!_0x4455ce)throw new _0x47cbae(_0x40f53d[_0x4654d7(0x2dc)],'VectorDatabase\x20not\x20found');return _0x4455ce;}[_0x20cdf8(0x720)](_0xbd7652){const _0x38edc2=_0x20cdf8;switch(_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x6f6)]){case _0x277618[_0x38edc2(0x69b)]:this['handlePublishMediaStream'](_0xbd7652[_0x38edc2(0x843)]);break;case _0x277618[_0x38edc2(0x3fd)]:this[_0x38edc2(0x3e7)](_0xbd7652[_0x38edc2(0x843)]);break;case _0x277618['CloseJobDispatcher']:this['removeJobDispatcher'](_0xbd7652['content']['label']);break;case _0x277618['CloseJobWorker']:this[_0x38edc2(0x213)](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)]);break;case _0x277618['CloseMediaStream']:this[_0x38edc2(0x780)](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)]);break;case _0x277618[_0x38edc2(0x804)]:this[_0x38edc2(0x25a)](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)]);break;case _0x277618[_0x38edc2(0x861)]:this[_0x38edc2(0x265)](_0xbd7652['content'][_0x38edc2(0x59f)]);break;case _0x277618[_0x38edc2(0xad)]:this['removeExternalStorageConnection'](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)]);break;case _0x277618['CloseKeyValueDatabase']:this[_0x38edc2(0x6e4)](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)]);break;case _0x277618['CloseVectorDatabase']:this['removeVectorDatabase'](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)]);break;case _0x277618[_0x38edc2(0x85d)]:this[_0x38edc2(0x841)](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)]);break;case _0x277618['UnsubscribeMediaStream']:this[_0x38edc2(0x655)](_0xbd7652[_0x38edc2(0x843)]);break;case _0x277618[_0x38edc2(0x667)]:this[_0x38edc2(0x185)][_0x38edc2(0x333)](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)])?.[_0x38edc2(0x572)](_0xbd7652[_0x38edc2(0x8c8)]);break;case _0x277618[_0x38edc2(0x7bb)]:this[_0x38edc2(0x185)][_0x38edc2(0x333)](_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)])?.[_0x38edc2(0x331)](_0xbd7652[_0x38edc2(0x8c8)],_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x61f)]);break;case _0x277618[_0x38edc2(0x11d)]:this['keyValueDatabases'][_0x38edc2(0x333)](_0xbd7652['content'][_0x38edc2(0x59f)])?.[_0x38edc2(0x1e7)](_0xbd7652[_0x38edc2(0x8c8)],_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x1c7)]);break;case _0x277618[_0x38edc2(0x2f3)]:this[_0x38edc2(0x252)][_0x38edc2(0x4ea)][_0x38edc2(0x544)](_0x38edc2(0x539),{'label':_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x59f)],'trackKinds':_0xbd7652[_0x38edc2(0x843)][_0x38edc2(0x891)]});}}[_0x20cdf8(0xd5)]({content:_0x19121b}){const _0x1c2cc7=_0x20cdf8;switch(_0x19121b[_0x1c2cc7(0x6f6)]){case _0x2c3880[_0x1c2cc7(0x12e)]:this[_0x1c2cc7(0x5b4)](_0x19121b),this['notifyObjectStoreOfNodeJoin'](_0x19121b);break;case _0x2c3880[_0x1c2cc7(0xdb)]:this[_0x1c2cc7(0x6fa)](_0x19121b),this[_0x1c2cc7(0x1a6)](_0x19121b);}}[_0x20cdf8(0x590)](_0x379420){const _0x4e4113=_0x20cdf8;switch(_0x379420[_0x4e4113(0x843)][_0x4e4113(0x6f6)]){case _0x2a8a6d['SubscribeMediaStream']:this['handleSubscribeMediaStream'](_0x379420[_0x4e4113(0x8c8)],_0x379420[_0x4e4113(0x843)]);break;case _0x2a8a6d['UpdateMediaStream']:this[_0x4e4113(0x767)](_0x379420['sourceId'],_0x379420[_0x4e4113(0x843)]);break;case _0x2a8a6d['UnsubscribeMediaStream']:this[_0x4e4113(0x729)](_0x379420[_0x4e4113(0x8c8)],_0x379420[_0x4e4113(0x843)]);}}[_0x20cdf8(0x655)](_0x417a3e){const _0x2081cc=_0x20cdf8;if(0x0===_0x417a3e[_0x2081cc(0xba)])this[_0x2081cc(0x33a)][_0x2081cc(0x333)](_0x417a3e[_0x2081cc(0x37e)])?.[_0x2081cc(0x333)](_0x417a3e[_0x2081cc(0x59f)])?.[_0x2081cc(0xb2)]();else{const _0x4800a7=this[_0x2081cc(0x33a)][_0x2081cc(0x333)](_0x417a3e[_0x2081cc(0x37e)])?.[_0x2081cc(0x333)](_0x417a3e[_0x2081cc(0x59f)]);if(!_0x4800a7)return;_0x417a3e[_0x2081cc(0x891)]['forEach'](_0x22f89a=>_0x4800a7[_0x2081cc(0x3de)](_0x22f89a));}}[_0x20cdf8(0x6f7)](_0x1640ac){const _0x411514=_0x20cdf8,{label:_0x43e186,ownerId:_0x860365,stream:{streamId:_0x50b199,availableTrackKinds:_0x326209}}=_0x1640ac;if(this['remoteMediaStreams'][_0x411514(0x333)](_0x860365)?.['has'](_0x43e186))return void _0x585abf[_0x411514(0x447)](_0x324ffe[_0x411514(0x326)],'Stream\x20already\x20exists',_0x50b199);const _0x17b6d7=this[_0x411514(0x7ca)](_0x860365,_0x43e186,_0x50b199,_0x326209);this['configs'][_0x411514(0x4ea)][_0x411514(0x544)](_0x411514(0x741),{'ownerId':_0x860365,'stream':_0x17b6d7});}[_0x20cdf8(0x3e7)]({ownerId:_0x510373,label:_0x42c160}){const _0xf7deca=_0x20cdf8;this['removeRemoteMediaStream'](_0x510373,_0x42c160),this['configs'][_0xf7deca(0x4ea)][_0xf7deca(0x544)](_0xf7deca(0x367),{'ownerId':_0x510373,'label':_0x42c160});}['handleSubscribeMediaStream'](_0x529af2,_0x4561b9){const _0x440ede=_0x20cdf8,{ownerId:_0x422ef0,label:_0xc5081a}=_0x4561b9;let _0x366ee0;_0x366ee0=_0x422ef0!==this[_0x440ede(0x252)][_0x440ede(0x21a)][_0x440ede(0x66e)]()?this[_0x440ede(0x33a)][_0x440ede(0x333)](_0x422ef0)[_0x440ede(0x333)](_0xc5081a):this[_0x440ede(0x591)][_0x440ede(0x333)](_0xc5081a),_0x366ee0['getShareableStream'](_0x529af2,_0x4561b9[_0x440ede(0x74e)])['subscribe'](_0x4561b9,_0x366ee0[_0x440ede(0xc4)]());}[_0x20cdf8(0x767)](_0x401159,_0x5272f0){const _0x48f658=_0x20cdf8,{ownerId:_0x501e77,label:_0x518e1b}=_0x5272f0;let _0x9a8181;_0x9a8181=_0x501e77!==this[_0x48f658(0x252)]['localNode']['getId']()?this['remoteMediaStreams']['get'](_0x501e77)['get'](_0x518e1b):this[_0x48f658(0x591)][_0x48f658(0x333)](_0x518e1b),_0x9a8181['getShareableStream'](_0x401159,_0x5272f0[_0x48f658(0x74e)])[_0x48f658(0x371)](_0x5272f0);}['handleUnsubscribeMediaStream'](_0x12807b,_0x509d4e){const _0x522ff1=_0x20cdf8,{ownerId:_0x30bcc1,label:_0x131803}=_0x509d4e;let _0x3aacaa;_0x3aacaa=_0x30bcc1!==this[_0x522ff1(0x252)][_0x522ff1(0x21a)][_0x522ff1(0x66e)]()?this[_0x522ff1(0x33a)]['get'](_0x30bcc1)[_0x522ff1(0x333)](_0x131803):this[_0x522ff1(0x591)][_0x522ff1(0x333)](_0x131803),_0x3aacaa[_0x522ff1(0x42b)](_0x12807b)[_0x522ff1(0x579)](_0x509d4e);}['handleNodeJoinNeedPublishedStream']({id:_0x2515cb}){const _0x369745=_0x20cdf8;this[_0x369745(0x6fb)]()[_0x369745(0x34b)](_0x20d74c=>{const _0x446f51=_0x369745;_0x20d74c[_0x446f51(0x1ed)](_0x2515cb);});}[_0x20cdf8(0x6fa)]({id:_0x598e33}){const _0x4870fa=_0x20cdf8;this[_0x4870fa(0x3cc)](_0x373337=>_0x373337[_0x4870fa(0x25d)]()===_0x598e33)[_0x4870fa(0x34b)](_0x5d73e1=>{const _0x533055=_0x4870fa;this[_0x533055(0x299)](_0x5d73e1[_0x533055(0x25d)](),_0x5d73e1['getLabel']());});}[_0x20cdf8(0x53b)]({id:_0x2a6cb3}){const _0x3ca183=_0x20cdf8;this['objectStores'][_0x3ca183(0x34b)](_0x3f50d5=>_0x3f50d5[_0x3ca183(0x2a3)](_0x2a6cb3));}[_0x20cdf8(0x1a6)]({id:_0x3abec9}){const _0x33cffa=_0x20cdf8;this[_0x33cffa(0x197)]['forEach'](_0x391c19=>_0x391c19[_0x33cffa(0x6fa)](_0x3abec9));}[_0x20cdf8(0x291)](_0x33d795){const _0x574d37=_0x20cdf8;if(!this[_0x574d37(0x78c)]['has'](_0x33d795))throw new _0x47cbae(_0x40f53d[_0x574d37(0x312)],_0x574d37(0x45c));const _0x3f5621=this['jobDispatchers'][_0x574d37(0x333)](_0x33d795);this[_0x574d37(0x78c)]['delete'](_0x33d795),_0x3f5621[_0x574d37(0xb2)](),this[_0x574d37(0x252)][_0x574d37(0x4ea)]['unregisterSystemSource'](_0x3f5621);}['removeJobWorker'](_0x2b2429){const _0x152075=_0x20cdf8;if(!this[_0x152075(0x39b)][_0x152075(0x6f2)](_0x2b2429))throw new _0x47cbae(_0x40f53d[_0x152075(0x768)],'Job\x20Worker\x20does\x20not\x20exist');const _0xfbee5e=this[_0x152075(0x39b)]['get'](_0x2b2429);this[_0x152075(0x39b)]['delete'](_0x2b2429),_0xfbee5e['destroy'](),this[_0x152075(0x252)][_0x152075(0x4ea)]['unregisterSystemSource'](_0xfbee5e);}[_0x20cdf8(0x265)](_0x325076){const _0x186df0=_0x20cdf8;if(!this['objectStores'][_0x186df0(0x6f2)](_0x325076))throw new _0x47cbae(_0x40f53d[_0x186df0(0x8d8)],_0x186df0(0x10f));const _0x117d75=this['objectStores'][_0x186df0(0x333)](_0x325076);this[_0x186df0(0x197)][_0x186df0(0x268)](_0x325076),_0x117d75[_0x186df0(0xb2)](),this[_0x186df0(0x252)][_0x186df0(0x4ea)][_0x186df0(0x174)](_0x117d75);}[_0x20cdf8(0x132)](_0x2a8c99){const _0x4a3d70=_0x20cdf8;if(!this[_0x4a3d70(0x7f2)][_0x4a3d70(0x6f2)](_0x2a8c99))throw new _0x47cbae(_0x40f53d['ExternalStorageConnectionDoesNotExist'],_0x4a3d70(0x8ae));const _0x4fa7a5=this['externalStorageConnections'][_0x4a3d70(0x333)](_0x2a8c99);this[_0x4a3d70(0x7f2)]['delete'](_0x2a8c99),_0x4fa7a5[_0x4a3d70(0xb2)](),this[_0x4a3d70(0x252)][_0x4a3d70(0x4ea)][_0x4a3d70(0x174)](_0x4fa7a5);}[_0x20cdf8(0x25a)](_0x2bb283){const _0x3f7fec=_0x20cdf8;if(!this[_0x3f7fec(0x31c)][_0x3f7fec(0x6f2)](_0x2bb283))throw new _0x47cbae(_0x40f53d[_0x3f7fec(0x1bd)],_0x3f7fec(0x10f));const _0x184d9a=this['pubSubTopics'][_0x3f7fec(0x333)](_0x2bb283);this['pubSubTopics']['delete'](_0x2bb283),_0x184d9a[_0x3f7fec(0xb2)](),this[_0x3f7fec(0x252)][_0x3f7fec(0x4ea)][_0x3f7fec(0x174)](_0x184d9a);}[_0x20cdf8(0x6e4)](_0x36a3af){const _0x1e5f2d=_0x20cdf8;if(!this[_0x1e5f2d(0x185)]['has'](_0x36a3af))throw new _0x47cbae(_0x40f53d[_0x1e5f2d(0x3f5)],_0x1e5f2d(0x13b));const _0x6d116c=this[_0x1e5f2d(0x185)][_0x1e5f2d(0x333)](_0x36a3af);this['keyValueDatabases']['delete'](_0x36a3af),_0x6d116c[_0x1e5f2d(0xb2)](),this['configs'][_0x1e5f2d(0x4ea)][_0x1e5f2d(0x174)](_0x6d116c);}[_0x20cdf8(0x468)](_0x5a73da){const _0x22ee0d=_0x20cdf8;if(!this[_0x22ee0d(0x2f2)][_0x22ee0d(0x6f2)](_0x5a73da))throw new _0x47cbae(_0x40f53d['VectorDatabaseDoesNotExist'],_0x22ee0d(0x13b));const _0x4bcf81=this[_0x22ee0d(0x2f2)][_0x22ee0d(0x333)](_0x5a73da);this['vectorDatabases'][_0x22ee0d(0x268)](_0x5a73da),_0x4bcf81['destroy'](),this[_0x22ee0d(0x252)][_0x22ee0d(0x4ea)][_0x22ee0d(0x174)](_0x4bcf81);}['removeGraphDatabase'](_0xe19caa){const _0x36a718=_0x20cdf8;if(!this[_0x36a718(0x50a)][_0x36a718(0x6f2)](_0xe19caa))throw new _0x47cbae(_0x40f53d[_0x36a718(0x509)],_0x36a718(0x13b));const _0x5cb830=this[_0x36a718(0x50a)]['get'](_0xe19caa);this[_0x36a718(0x50a)]['delete'](_0xe19caa),_0x5cb830[_0x36a718(0xb2)](),this[_0x36a718(0x252)]['mediator'][_0x36a718(0x174)](_0x5cb830);}[_0x20cdf8(0x780)](_0x3a439a){const _0x28453b=_0x20cdf8;if(!this['localMediaStreams'][_0x28453b(0x6f2)](_0x3a439a))throw new _0x5a569f(_0x5a569f['codes'][_0x28453b(0x844)],{'label':_0x3a439a,'localId':this['configs'][_0x28453b(0x21a)][_0x28453b(0x66e)]()});const _0x10c3c2=this[_0x28453b(0x591)][_0x28453b(0x333)](_0x3a439a);this[_0x28453b(0x252)][_0x28453b(0x4ea)]['unregisterSystemSource'](_0x10c3c2),_0x10c3c2['destroy'](),this['localMediaStreams'][_0x28453b(0x268)](_0x3a439a);}['removeRemoteMediaStream'](_0x34c228,_0x4a1dfe){const _0x159d53=_0x20cdf8;if(!this[_0x159d53(0x33a)][_0x159d53(0x6f2)](_0x34c228))throw new _0x5a569f(_0x5a569f[_0x159d53(0x4e8)][_0x159d53(0x4a7)],{'nodeId':_0x34c228,'localId':this[_0x159d53(0x252)][_0x159d53(0x21a)][_0x159d53(0x66e)]()});const _0x5d3270=this[_0x159d53(0x33a)][_0x159d53(0x333)](_0x34c228);if(!_0x5d3270[_0x159d53(0x6f2)](_0x4a1dfe))throw new _0x5a569f(_0x5a569f[_0x159d53(0x4e8)][_0x159d53(0x16f)],{'nodeId':_0x34c228,'label':_0x4a1dfe,'localId':this[_0x159d53(0x252)][_0x159d53(0x21a)][_0x159d53(0x66e)]()});const _0x2cd658=_0x5d3270['get'](_0x4a1dfe);this[_0x159d53(0x252)]['mediator']['unregisterSystemSource'](_0x2cd658),_0x2cd658[_0x159d53(0xb2)](),_0x5d3270['delete'](_0x4a1dfe);}}var _0x4eacf3,_0x9e7cd1,_0x46f665;!function(_0x238899){const _0x2b4ac7=_0x20cdf8;_0x238899[_0x2b4ac7(0x5d7)]='st_volatility',_0x238899[_0x2b4ac7(0x173)]='dt_volatility',_0x238899[_0x2b4ac7(0x261)]=_0x2b4ac7(0xb6),_0x238899[_0x2b4ac7(0x14e)]=_0x2b4ac7(0x441),_0x238899[_0x2b4ac7(0x2e9)]=_0x2b4ac7(0x3a3),_0x238899['FramePerSecond']='fps',_0x238899['RoundTripTime']=_0x2b4ac7(0x5a2),_0x238899[_0x2b4ac7(0x44b)]='av_delay';}(_0x4eacf3||(_0x4eacf3={})),function(_0xc48e3){const _0x1c93c8=_0x20cdf8;_0xc48e3[_0x1c93c8(0x874)]=_0x1c93c8(0x44d),_0xc48e3['TimePerFrame']=_0x1c93c8(0x5f0),_0xc48e3['AudioVideoDelay']=_0x1c93c8(0xe5),_0xc48e3[_0x1c93c8(0x64e)]=_0x1c93c8(0x870),_0xc48e3[_0x1c93c8(0x14e)]=_0x1c93c8(0x29a),_0xc48e3[_0x1c93c8(0x2e9)]=_0x1c93c8(0x476),_0xc48e3[_0x1c93c8(0x41b)]='bandwidth.rtt';}(_0x9e7cd1||(_0x9e7cd1={})),function(_0x468177){const _0x45f361=_0x20cdf8;_0x468177[_0x468177[_0x45f361(0x466)]=0x0]='Problem';}(_0x46f665||(_0x46f665={}));const _0x16645e=[{'type':_0x4eacf3[_0x20cdf8(0x5d7)],'reportMetric':_0x43c660=>_0x43c660[_0x20cdf8(0x5d7)],'maxThreshold':2.5},{'type':_0x4eacf3[_0x20cdf8(0x173)],'reportMetric':_0x2cb435=>_0x2cb435[_0x20cdf8(0x173)],'maxThreshold':0.5}],_0x137bbd=[{'type':_0x4eacf3[_0x20cdf8(0x261)],'reportMetric':_0x59373c=>{const _0x40d909=_0x20cdf8,_0x433d35=0x3e8/_0x59373c[_0x40d909(0x40a)];return _0x59373c[_0x40d909(0x7a4)]/_0x433d35;},'maxThreshold':0.75},{'type':_0x4eacf3[_0x20cdf8(0x14e)],'reportMetric':_0x222505=>{const _0x6068fb=_0x20cdf8,_0x54b1b2=_0x222505[_0x6068fb(0x40a)]*_0x222505['frameWidth']*_0x222505[_0x6068fb(0x1ce)]*0.12;return _0x222505[_0x6068fb(0x441)]/_0x54b1b2;},'minThreshold':0.25},{'type':_0x4eacf3[_0x20cdf8(0x2e9)],'reportMetric':_0x244b62=>_0x244b62[_0x20cdf8(0x3a3)],'maxThreshold':0.6},{'type':_0x4eacf3['FramePerSecond'],'reportMetric':_0x3215ec=>_0x3215ec[_0x20cdf8(0x40a)],'minThreshold':0xa}],_0x55051a=[{'type':_0x4eacf3[_0x20cdf8(0x2e9)],'reportMetric':_0x49f33a=>_0x49f33a[_0x20cdf8(0x3a3)],'maxThreshold':0.6}],_0x2f3f33=[{'type':_0x4eacf3[_0x20cdf8(0x41b)],'reportMetric':_0x33b852=>_0x33b852[_0x20cdf8(0x6a5)],'maxThreshold':0x1/0x0}],_0x442d7a=[{'type':_0x4eacf3[_0x20cdf8(0x44b)],'reportMetric':_0x5c93ea=>_0x5c93ea[_0x20cdf8(0x44b)],'maxThreshold':0x12c}],_0x375ba4=[{'type':_0x9e7cd1[_0x20cdf8(0x874)],'issues':[{'type':_0x4eacf3[_0x20cdf8(0x5d7)],'threshold':0x5},{'type':_0x4eacf3[_0x20cdf8(0x173)],'threshold':0x5}]},{'type':_0x9e7cd1['TimePerFrame'],'issues':[{'type':_0x4eacf3['TimePerFrame'],'threshold':0x3}]},{'type':_0x9e7cd1[_0x20cdf8(0x44b)],'issues':[{'type':_0x4eacf3[_0x20cdf8(0x44b)],'threshold':0x2}]},{'type':_0x9e7cd1[_0x20cdf8(0x64e)],'issues':[{'type':_0x4eacf3[_0x20cdf8(0x64e)],'threshold':0x3}]},{'type':_0x9e7cd1[_0x20cdf8(0x14e)],'issues':[{'type':_0x4eacf3[_0x20cdf8(0x14e)],'threshold':0x3}]},{'type':_0x9e7cd1[_0x20cdf8(0x2e9)],'issues':[{'type':_0x4eacf3[_0x20cdf8(0x2e9)],'threshold':0x3}]},{'type':_0x9e7cd1[_0x20cdf8(0x41b)],'issues':[{'type':_0x4eacf3[_0x20cdf8(0x41b)],'threshold':0x3}]}];var _0x1409b2,_0x2bea37;!function(_0x3f78dd){const _0x1e422b=_0x20cdf8;_0x3f78dd[_0x3f78dd[_0x1e422b(0x417)]=0x0]=_0x1e422b(0x417),_0x3f78dd[_0x3f78dd[_0x1e422b(0x765)]=0x1]=_0x1e422b(0x765);}(_0x1409b2||(_0x1409b2={}));class _0xbba473{[_0x20cdf8(0x252)];['issues']=[];[_0x20cdf8(0x361)];constructor(_0x268c41){const _0x2cf189=_0x20cdf8;this['configs']=_0x268c41,this[_0x2cf189(0x252)]['mediator']['registerSystemSource'](this);}[_0x20cdf8(0x47a)](_0x3d0d9b){const _0x26678b=_0x20cdf8;this[_0x26678b(0x361)]=_0x3d0d9b;}[_0x20cdf8(0x5b7)](){this['systemTopic']=void 0x0;}['close'](){const _0x52be22=_0x20cdf8;this[_0x52be22(0x252)][_0x52be22(0x4ea)]['unregisterSystemSource'](this),this[_0x52be22(0x125)]=[];}[_0x20cdf8(0x808)](_0x27a371){const _0x22ee74=_0x20cdf8;switch(_0x27a371[_0x22ee74(0x843)]['type']){case _0x1409b2['LocalReport']:this[_0x22ee74(0x7d1)](_0x27a371[_0x22ee74(0x843)][_0x22ee74(0x75d)]);break;case _0x1409b2[_0x22ee74(0x417)]:this[_0x22ee74(0x7ee)](_0x27a371['content']['data']);}}[_0x20cdf8(0x5f7)](_0x48c577,_0x4f9c40,_0x1a09c1,_0x2cb024){const _0x3b7502=_0x20cdf8,_0x1f69ef=_0x375ba4[_0x3b7502(0x819)](_0x176130=>_0x176130[_0x3b7502(0x125)][_0x3b7502(0x2a2)](_0x28cfa8=>_0x28cfa8[_0x3b7502(0x6f6)]===_0x48c577));_0x2cb024>=_0x1f69ef[_0x3b7502(0x125)]['find'](_0x356156=>_0x356156['type']===_0x48c577)[_0x3b7502(0xf2)]&&(this[_0x3b7502(0x537)](_0x1f69ef[_0x3b7502(0x6f6)],_0x4f9c40,_0x1a09c1),this[_0x3b7502(0x125)]=this[_0x3b7502(0x125)][_0x3b7502(0xb7)](_0x4d5bec=>!(_0x4d5bec[_0x3b7502(0x6f6)]===_0x48c577&&_0x4d5bec[_0x3b7502(0x56f)]===_0x4f9c40&&_0x4d5bec[_0x3b7502(0x225)]===_0x1a09c1)));}[_0x20cdf8(0x7d1)](_0x3f7c60){const _0x13638c=_0x20cdf8;_0x16645e[_0x13638c(0x34b)](_0x57a460=>{const _0x388704=_0x13638c,_0x118820=_0x57a460[_0x388704(0xf7)](_0x3f7c60);_0x57a460[_0x388704(0x374)]&&_0x118820>_0x57a460[_0x388704(0x374)]&&this[_0x388704(0x5dd)](_0x57a460[_0x388704(0x6f6)],this[_0x388704(0x252)][_0x388704(0x21a)]['getId'](),_0x31e650[_0x388704(0x402)],_0x118820),_0x57a460[_0x388704(0x2ed)]&&_0x118820<_0x57a460[_0x388704(0x2ed)]&&this[_0x388704(0x5dd)](_0x57a460[_0x388704(0x6f6)],this[_0x388704(0x252)][_0x388704(0x21a)][_0x388704(0x66e)](),_0x31e650['Sender'],_0x118820);});}['detectStreamIssues'](_0x51ecee){const _0x1a0914=_0x20cdf8;let _0x330d39=[];switch(_0x51ecee['origin']){case _0x31e650['Sender']:_0x330d39=_0x2f3f33;break;case _0x31e650[_0x1a0914(0x2fa)]:_0x330d39=_0x442d7a;}_0x51ecee[_0x1a0914(0x2e3)]&&this[_0x1a0914(0x746)](_0x51ecee[_0x1a0914(0x56f)],_0x31e650['Sender'],_0x51ecee['video']),_0x51ecee['audio']&&this[_0x1a0914(0x30d)](_0x51ecee['nodeId'],_0x31e650[_0x1a0914(0x402)],_0x51ecee[_0x1a0914(0x529)]),_0x330d39[_0x1a0914(0x34b)](_0x24b340=>{const _0x2a7602=_0x1a0914,_0x3678d1=_0x24b340['reportMetric'](_0x51ecee);_0x24b340[_0x2a7602(0x374)]&&_0x3678d1>_0x24b340[_0x2a7602(0x374)]&&this['addIssue'](_0x24b340[_0x2a7602(0x6f6)],_0x51ecee[_0x2a7602(0x56f)],_0x31e650[_0x2a7602(0x402)],_0x3678d1),_0x24b340[_0x2a7602(0x2ed)]&&_0x3678d1<_0x24b340[_0x2a7602(0x2ed)]&&this[_0x2a7602(0x5dd)](_0x24b340['type'],_0x51ecee[_0x2a7602(0x56f)],_0x31e650[_0x2a7602(0x402)],_0x3678d1);});}[_0x20cdf8(0x746)](_0x17f5d3,_0x12cfb9,_0x9c996){const _0xaf9f9=_0x20cdf8;0x0!==_0x9c996[_0xaf9f9(0x441)]&&_0x137bbd[_0xaf9f9(0x34b)](_0x196a2b=>{const _0x5f35cf=_0xaf9f9,_0x2f9b5d=_0x196a2b[_0x5f35cf(0xf7)](_0x9c996);_0x196a2b[_0x5f35cf(0x374)]&&_0x2f9b5d>_0x196a2b[_0x5f35cf(0x374)]&&this['addIssue'](_0x196a2b[_0x5f35cf(0x6f6)],_0x17f5d3,_0x12cfb9,_0x2f9b5d,_0x5f35cf(0x2e3)),_0x196a2b[_0x5f35cf(0x2ed)]&&_0x2f9b5d<_0x196a2b['minThreshold']&&this[_0x5f35cf(0x5dd)](_0x196a2b[_0x5f35cf(0x6f6)],_0x17f5d3,_0x12cfb9,_0x2f9b5d,_0x5f35cf(0x2e3));});}[_0x20cdf8(0x30d)](_0x226eac,_0x215f6f,_0x5bf71f){const _0x3d524f=_0x20cdf8;0x0!==_0x5bf71f['bitrate']&&_0x55051a[_0x3d524f(0x34b)](_0x22000f=>{const _0x5719b8=_0x3d524f,_0x9f7530=_0x22000f[_0x5719b8(0xf7)](_0x5bf71f);_0x22000f[_0x5719b8(0x374)]&&_0x9f7530>_0x22000f[_0x5719b8(0x374)]&&this['addIssue'](_0x22000f[_0x5719b8(0x6f6)],_0x226eac,_0x215f6f,_0x9f7530,_0x5719b8(0x529)),_0x22000f[_0x5719b8(0x2ed)]&&_0x9f7530<_0x22000f[_0x5719b8(0x2ed)]&&this[_0x5719b8(0x5dd)](_0x22000f[_0x5719b8(0x6f6)],_0x226eac,_0x215f6f,_0x9f7530,'audio');});}[_0x20cdf8(0x5dd)](_0x81ad8b,_0x3032b2,_0x4880ae,_0x496f42,_0x2b26d1){const _0x17e924=_0x20cdf8;_0x585abf[_0x17e924(0x447)](_0x324ffe[_0x17e924(0x5a7)],_0x17e924(0x5c7)+_0x81ad8b,_0x81ad8b,_0x496f42),_0x585abf[_0x17e924(0x263)]('issue',{'clusterId':this[_0x17e924(0x252)][_0x17e924(0x461)],'nodeId':this[_0x17e924(0x252)][_0x17e924(0x21a)]['getId'](),'nodeType':this[_0x17e924(0x252)][_0x17e924(0x21a)][_0x17e924(0x6f6)],'remoteId':_0x3032b2,'data':{'type':_0x81ad8b,'value':_0x496f42,'kind':_0x2b26d1}}),this[_0x17e924(0x125)]=this[_0x17e924(0x125)][_0x17e924(0xb7)](_0xa7892f=>Date['now']()-_0xa7892f[_0x17e924(0x745)]<0x7530),this[_0x17e924(0x125)][_0x17e924(0x82c)]({'timestamp':Date['now'](),'type':_0x81ad8b,'nodeId':_0x3032b2,'origin':_0x4880ae,'value':_0x496f42,'kind':_0x2b26d1});const _0x873ce5=this[_0x17e924(0x125)]['filter'](_0xab125e=>_0xab125e['type']===_0x81ad8b&&_0xab125e[_0x17e924(0x56f)]===_0x3032b2&&_0xab125e[_0x17e924(0x225)]===_0x4880ae)[_0x17e924(0x51a)];this[_0x17e924(0x5f7)](_0x81ad8b,_0x3032b2,_0x4880ae,_0x873ce5);}[_0x20cdf8(0x537)](_0x8365e9,_0x46d137,_0x5b002a){const _0x2a36a1=_0x20cdf8;_0x585abf[_0x2a36a1(0x447)](_0x324ffe[_0x2a36a1(0x5a7)],'Problem\x20detected:\x20'+_0x8365e9),_0x585abf['logEvent'](_0x2a36a1(0x465),{'clusterId':this[_0x2a36a1(0x252)][_0x2a36a1(0x461)],'nodeId':this[_0x2a36a1(0x252)][_0x2a36a1(0x21a)][_0x2a36a1(0x66e)](),'nodeType':this[_0x2a36a1(0x252)]['localNode'][_0x2a36a1(0x6f6)],'remoteId':_0x46d137,'data':{'type':_0x8365e9}}),this['systemTopic']?.[_0x2a36a1(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x2a36a1(0x5a7)],'content':{'type':_0x46f665[_0x2a36a1(0x466)],'data':{'timestamp':Date[_0x2a36a1(0x76a)](),'nodeId':_0x46d137,'origin':_0x31e650[_0x2a36a1(0x402)],'type':_0x8365e9}}});}}class _0x456775 extends _0x3b775e{[_0x20cdf8(0x6f6)]=_0x3b754d[_0x20cdf8(0x49e)][_0x20cdf8(0x7a5)];}class _0x4a0d7c extends _0x456775{[_0x20cdf8(0x361)];[_0x20cdf8(0x5d1)]=Date['now']();[_0x20cdf8(0x519)];['lastUpdated'];[_0x20cdf8(0x671)](){const _0x332d88=_0x20cdf8;this[_0x332d88(0x519)]&&(clearTimeout(this[_0x332d88(0x519)]),delete this[_0x332d88(0x519)]),delete this['lastUpdated'],this[_0x332d88(0x5d1)]=Date[_0x332d88(0x76a)](),super[_0x332d88(0x671)]();}[_0x20cdf8(0x47a)](_0x41bcca){const _0x484c35=_0x20cdf8;this[_0x484c35(0x361)]=_0x41bcca;}[_0x20cdf8(0x5b7)](){delete this['systemTopic'];}['answerJoin'](_0x210968){const _0x763bac=_0x20cdf8;!this[_0x763bac(0x519)]&&this[_0x763bac(0x63f)]&&this[_0x763bac(0x361)]['publish']({'sourceId':this['id'],'destinationIds':[_0x210968],'propagate':!0x0,'messageType':_0x213fd0[_0x763bac(0x772)],'content':{'type':_0x2c3880[_0x763bac(0x6f8)],'id':this['id'],'metaData':{'type':this[_0x763bac(0x6f6)]},'rank':this[_0x763bac(0x81f)](),'remoteConnections':Array['from'](this[_0x763bac(0x1e0)]),'version':this['currentVersion']}});}['addRemoteConnection'](_0x53cdd7){const _0x3501e8=_0x20cdf8;this['remoteConnections'][_0x3501e8(0x6f2)](_0x53cdd7)||(this['remoteConnections'][_0x3501e8(0x43e)](_0x53cdd7),this[_0x3501e8(0x204)](),this[_0x3501e8(0x4da)](!0x0));}[_0x20cdf8(0x52c)](_0x126757){const _0x3c7b0f=_0x20cdf8;this[_0x3c7b0f(0x1e0)]['has'](_0x126757)&&(this[_0x3c7b0f(0x1e0)][_0x3c7b0f(0x268)](_0x126757),this[_0x3c7b0f(0x204)](),this[_0x3c7b0f(0x4da)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x20cdf8(0x4e4)](_0x38108e,_0x5a82fd=!0x0){const _0x88e636=_0x20cdf8;this[_0x88e636(0x63f)]!==_0x38108e&&(this[_0x88e636(0x63f)]=_0x38108e,_0x5a82fd&&(this[_0x88e636(0x204)](),this['publishUserUpdate']()));}[_0x20cdf8(0x204)](){const _0x247c53=_0x20cdf8;this[_0x247c53(0x5d1)]=Date[_0x247c53(0x76a)]();}[_0x20cdf8(0x4da)](_0x1e1e6e=!0x1){const _0x1376c0=_0x20cdf8;if(this[_0x1376c0(0x63f)]){if(this[_0x1376c0(0x57e)]||(this['lastUpdated']=Date[_0x1376c0(0x76a)]()),this[_0x1376c0(0x519)]){if(Date[_0x1376c0(0x76a)]()-this[_0x1376c0(0x57e)]>0x2328)return;clearTimeout(this[_0x1376c0(0x519)]);}this[_0x1376c0(0x519)]=setTimeout(()=>{const _0x4d85dc=_0x1376c0;delete this[_0x4d85dc(0x57e)],delete this['updateDebounceTimeout'],this[_0x4d85dc(0x361)][_0x4d85dc(0x1ed)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x213fd0[_0x4d85dc(0x772)],'content':{'type':_0x1e1e6e?_0x2c3880['NodeConnectionsUpdate']:_0x2c3880[_0x4d85dc(0x6f8)],'id':this['id'],'metaData':{'type':this[_0x4d85dc(0x6f6)]},'rank':this[_0x4d85dc(0x81f)](),'remoteConnections':Array[_0x4d85dc(0x473)](this['remoteConnections']),'version':this['currentVersion']}});},0x3e8);}}}class _0x4f5e72 extends _0x513f69{[_0x20cdf8(0x361)];['currentVersion']=Date[_0x20cdf8(0x76a)]();[_0x20cdf8(0x519)];['lastUpdated'];['close'](){const _0xfb399a=_0x20cdf8;this[_0xfb399a(0x519)]&&(clearTimeout(this[_0xfb399a(0x519)]),delete this['updateDebounceTimeout']),delete this[_0xfb399a(0x57e)],this[_0xfb399a(0x5d1)]=Date['now'](),super['close']();}[_0x20cdf8(0x47a)](_0x436324){const _0x131138=_0x20cdf8;this[_0x131138(0x361)]=_0x436324;}[_0x20cdf8(0x5b7)](){delete this['systemTopic'];}[_0x20cdf8(0x36c)](_0x168ff5){const _0x274c44=_0x20cdf8;!this[_0x274c44(0x519)]&&this[_0x274c44(0x63f)]&&this['systemTopic']['publish']({'sourceId':this['id'],'destinationIds':[_0x168ff5],'propagate':!0x0,'messageType':_0x213fd0[_0x274c44(0x772)],'content':{'type':_0x2c3880[_0x274c44(0x6f8)],'id':this['id'],'metaData':{'type':this[_0x274c44(0x6f6)],'displayName':this[_0x274c44(0x6a1)](),'email':this['getEmail']()},'rank':this[_0x274c44(0x81f)](),'remoteConnections':Array[_0x274c44(0x473)](this[_0x274c44(0x1e0)]),'version':this['currentVersion']}});}[_0x20cdf8(0x22d)](_0x4b2123){const _0x34be83=_0x20cdf8;this[_0x34be83(0x1e0)]['has'](_0x4b2123)||(this[_0x34be83(0x1e0)][_0x34be83(0x43e)](_0x4b2123),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x20cdf8(0x52c)](_0x34ae41){const _0x1f4942=_0x20cdf8;this['remoteConnections'][_0x1f4942(0x6f2)](_0x34ae41)&&(this[_0x1f4942(0x1e0)][_0x1f4942(0x268)](_0x34ae41),this[_0x1f4942(0x204)](),this['publishUserUpdate'](!0x0));}[_0x20cdf8(0x57d)](){const _0x2c1430=_0x20cdf8;return this[_0x2c1430(0x5d1)];}[_0x20cdf8(0x61a)](_0x402f3e){const _0x2a1322=_0x20cdf8;this['displayName']!==_0x402f3e&&(this[_0x2a1322(0x873)]=_0x402f3e,this[_0x2a1322(0x204)](),this['publishUserUpdate']());}[_0x20cdf8(0x2d6)](_0x2512b3){const _0x35d4cb=_0x20cdf8;this['email']!==_0x2512b3&&(this[_0x35d4cb(0x596)]=_0x2512b3,this[_0x35d4cb(0x204)](),this[_0x35d4cb(0x4da)]());}[_0x20cdf8(0x4e4)](_0x13fef1,_0x29525b=!0x0){const _0xb72c00=_0x20cdf8;this[_0xb72c00(0x63f)]!==_0x13fef1&&(this[_0xb72c00(0x63f)]=_0x13fef1,_0x29525b&&(this[_0xb72c00(0x204)](),this[_0xb72c00(0x4da)]()));}[_0x20cdf8(0x204)](){const _0x458886=_0x20cdf8;this[_0x458886(0x5d1)]=Date['now']();}[_0x20cdf8(0x4da)](_0x1f5452=!0x1){const _0x2bdfc1=_0x20cdf8;if(this[_0x2bdfc1(0x63f)]){if(this['lastUpdated']||(this[_0x2bdfc1(0x57e)]=Date[_0x2bdfc1(0x76a)]()),this[_0x2bdfc1(0x519)]){if(Date[_0x2bdfc1(0x76a)]()-this[_0x2bdfc1(0x57e)]>0x2328)return;clearTimeout(this[_0x2bdfc1(0x519)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0xc1655d=_0x2bdfc1;delete this[_0xc1655d(0x57e)],delete this[_0xc1655d(0x519)],this[_0xc1655d(0x361)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x213fd0[_0xc1655d(0x772)],'content':{'type':_0x1f5452?_0x2c3880[_0xc1655d(0xd7)]:_0x2c3880[_0xc1655d(0x6f8)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0xc1655d(0x6a1)](),'email':this[_0xc1655d(0x886)]()},'rank':this[_0xc1655d(0x81f)](),'remoteConnections':Array[_0xc1655d(0x473)](this[_0xc1655d(0x1e0)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x272e36{['id'];['groupId'];[_0x20cdf8(0x6f5)];[_0x20cdf8(0x3ef)];[_0x20cdf8(0x6f6)]=_0x3b754d['NodeType']['Agent'];[_0x20cdf8(0x1a4)];constructor(_0x4d6f97,_0x2e63b8,_0x155d66,_0xbde58f){const _0x1fa01f=_0x20cdf8;this['id']=_0x4d6f97,this[_0x1fa01f(0x1c2)]=_0x2e63b8,this[_0x1fa01f(0x6f5)]=_0x155d66,this[_0x1fa01f(0x3ef)]=_0xbde58f;}[_0x20cdf8(0x66e)](){return this['id'];}[_0x20cdf8(0x4c7)](_0x57e925){const _0x16f2b1=_0x20cdf8,_0x59de58=(0x0,_0x2b2463[_0x16f2b1(0x833)])((0x0,_0x2b2463[_0x16f2b1(0x17b)])(_0x2c07f4['getFirestore'](),'developers/'+this[_0x16f2b1(0x6f5)]+'/resources/agent/items/'+this[_0x16f2b1(0x1c2)]),_0x4bbdf8=>{const _0x4e0aba=_0x16f2b1;if(_0x4bbdf8[_0x4e0aba(0x83e)]()){const _0x58bccd=_0x4bbdf8['data']();if(this[_0x4e0aba(0x3ef)][_0x4e0aba(0x745)][_0x4e0aba(0x4d9)](_0x58bccd[_0x4e0aba(0x745)]))return;_0x585abf['log'](_0x324ffe[_0x4e0aba(0x772)],_0x4e0aba(0x363),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x58bccd}),this['agentConfig']=_0x58bccd,_0x57e925();}});return()=>_0x59de58();}[_0x20cdf8(0x7fa)](_0x4cfac1){const _0x1a8d79=_0x20cdf8;return this[_0x1a8d79(0x8c5)](this[_0x1a8d79(0x1c2)],_0x4cfac1),_0x4b9656[_0x1a8d79(0x2bf)](()=>this[_0x1a8d79(0x8c5)](this['groupId'],_0x4cfac1),0x7530);}[_0x20cdf8(0x2b2)](){const _0x556e3b=_0x20cdf8;if(!this['lastCapacityReport'])throw new _0x5a569f(_0x5a569f[_0x556e3b(0x4e8)]['MistletCapacityReportNotSet']);return this[_0x556e3b(0x1a4)];}async['reportCapacity'](_0x294b0d,_0x1fd6d8){const _0x1c005b=_0x20cdf8,_0x2c0cd6=await _0x1fd6d8();this[_0x1c005b(0x1a4)]=_0x2c0cd6,await(0x0,_0x2b2463[_0x1c005b(0x397)])((0x0,_0x2b2463[_0x1c005b(0x27e)])(_0x2c07f4[_0x1c005b(0x124)](),_0x1c005b(0x602)+this[_0x1c005b(0x6f5)]+_0x1c005b(0x385)),{'agentId':this['id'],'groupId':_0x294b0d,'timestamp':(0x0,_0x2b2463[_0x1c005b(0x884)])(),'capacity':_0x2c0cd6});}}!function(_0x1b15a8){const _0x31e9d8=_0x20cdf8;_0x1b15a8[_0x1b15a8[_0x31e9d8(0x38e)]=0x0]=_0x31e9d8(0x38e),_0x1b15a8[_0x1b15a8['Offline']=0x1]=_0x31e9d8(0x855);}(_0x2bea37||(_0x2bea37={}));class _0x579742 extends _0x456775{[_0x20cdf8(0x5d1)];[_0x20cdf8(0x547)]=_0x2bea37[_0x20cdf8(0x38e)];[_0x20cdf8(0x57e)]=Date[_0x20cdf8(0x76a)]();constructor(_0x154151,_0x57c6f2=new Set(),_0x413c6f,_0x47c5cd){const _0x4f123b=_0x20cdf8;super(_0x154151,_0x57c6f2,_0x47c5cd),this[_0x4f123b(0x5d1)]=_0x413c6f;}[_0x20cdf8(0x57d)](){return this['currentVersion'];}['getStatus'](){const _0x39ec96=_0x20cdf8;return this[_0x39ec96(0x547)];}[_0x20cdf8(0x8f8)](){return this['lastUpdated'];}['setRank'](_0x5736fa){const _0x807a9f=_0x20cdf8;this[_0x807a9f(0x63f)]!==_0x5736fa&&(this[_0x807a9f(0x63f)]=_0x5736fa,this[_0x807a9f(0x420)]());}[_0x20cdf8(0x467)](_0x2eac92){const _0x44acdf=_0x20cdf8;let _0x21f677=!0x1;for(const _0x423b3f of this[_0x44acdf(0x1e0)])_0x2eac92[_0x44acdf(0x8cb)](_0x423b3f)||(_0x21f677=!0x0,this[_0x44acdf(0x1e0)][_0x44acdf(0x268)](_0x423b3f));for(const _0x5ae2b2 of _0x2eac92)this[_0x44acdf(0x1e0)][_0x44acdf(0x6f2)](_0x5ae2b2)||(_0x21f677=!0x0,this[_0x44acdf(0x1e0)]['add'](_0x5ae2b2));_0x21f677&&this[_0x44acdf(0x420)]();}[_0x20cdf8(0x726)](_0x43e1f3){const _0x826b0d=_0x20cdf8;this[_0x826b0d(0x5d1)]!==_0x43e1f3&&(this[_0x826b0d(0x5d1)]=_0x43e1f3,this[_0x826b0d(0x420)]());}[_0x20cdf8(0x54f)](_0x521445){const _0xa35938=_0x20cdf8;this[_0xa35938(0x547)]!==_0x521445&&(this[_0xa35938(0x547)]=_0x521445,this['updateLastUpdated'](),_0x521445===_0x2bea37[_0xa35938(0x855)]&&this[_0xa35938(0x671)]());}[_0x20cdf8(0x420)](){const _0x2a5435=_0x20cdf8;this[_0x2a5435(0x57e)]=Date[_0x2a5435(0x76a)]();}}class _0x2bf7c9 extends _0x513f69{[_0x20cdf8(0x5d1)];[_0x20cdf8(0x547)]=_0x2bea37['Online'];['lastUpdated']=Date[_0x20cdf8(0x76a)]();constructor(_0x3a3232,_0x1a26ce,_0x55320b,_0x476c35=new Set(),_0x201444,_0x1bd0d2){const _0x48b124=_0x20cdf8;super(_0x3a3232,_0x1a26ce,_0x55320b,_0x476c35,_0x1bd0d2),this[_0x48b124(0x5d1)]=_0x201444;}[_0x20cdf8(0x57d)](){const _0x4f8e3a=_0x20cdf8;return this[_0x4f8e3a(0x5d1)];}[_0x20cdf8(0x733)](){const _0x59a770=_0x20cdf8;return this[_0x59a770(0x547)];}[_0x20cdf8(0x8f8)](){return this['lastUpdated'];}[_0x20cdf8(0x61a)](_0x5bdb13){const _0x379f06=_0x20cdf8;this[_0x379f06(0x873)]!==_0x5bdb13&&(this[_0x379f06(0x873)]=_0x5bdb13,this[_0x379f06(0x420)]());}[_0x20cdf8(0x2d6)](_0x4e13f2){const _0x55768f=_0x20cdf8;this[_0x55768f(0x596)]!==_0x4e13f2&&(this[_0x55768f(0x596)]=_0x4e13f2,this[_0x55768f(0x420)]());}['setRank'](_0x16bdae){const _0x3a90b0=_0x20cdf8;this['rank']!==_0x16bdae&&(this[_0x3a90b0(0x63f)]=_0x16bdae,this[_0x3a90b0(0x420)]());}[_0x20cdf8(0x467)](_0x1ae5cd){const _0x1fe2d1=_0x20cdf8;let _0x5493cf=!0x1;for(const _0x17aa12 of this['remoteConnections'])_0x1ae5cd[_0x1fe2d1(0x8cb)](_0x17aa12)||(_0x5493cf=!0x0,this['remoteConnections'][_0x1fe2d1(0x268)](_0x17aa12));for(const _0x55bcf1 of _0x1ae5cd)this[_0x1fe2d1(0x1e0)][_0x1fe2d1(0x6f2)](_0x55bcf1)||(_0x5493cf=!0x0,this['remoteConnections']['add'](_0x55bcf1));_0x5493cf&&this[_0x1fe2d1(0x420)]();}[_0x20cdf8(0x726)](_0x332f70){const _0x3c97c3=_0x20cdf8;this[_0x3c97c3(0x5d1)]!==_0x332f70&&(this['currentVersion']=_0x332f70,this['updateLastUpdated']());}[_0x20cdf8(0x54f)](_0x38fac2){const _0x4c1c98=_0x20cdf8;this[_0x4c1c98(0x547)]!==_0x38fac2&&(this[_0x4c1c98(0x547)]=_0x38fac2,this['updateLastUpdated'](),_0x38fac2===_0x2bea37[_0x4c1c98(0x855)]&&this['close']());}[_0x20cdf8(0x420)](){const _0xf7377b=_0x20cdf8;this['lastUpdated']=Date[_0xf7377b(0x76a)]();}}class _0x494e3e{[_0x20cdf8(0x6f5)];[_0x20cdf8(0x461)];[_0x20cdf8(0x21a)];[_0x20cdf8(0x84e)];[_0x20cdf8(0x180)]=_0x3356bb();[_0x20cdf8(0x2b1)];[_0x20cdf8(0x543)];[_0x20cdf8(0x683)];['connected']=!0x1;[_0x20cdf8(0x62e)];[_0x20cdf8(0x80b)];constructor(_0x14a33f,_0x3932ed,_0x2c74d5,_0x1da731){const _0x23b499=_0x20cdf8;this[_0x23b499(0x6f5)]=_0x14a33f,this[_0x23b499(0x461)]=_0x3932ed,this[_0x23b499(0x21a)]=_0x2c74d5,this[_0x23b499(0x84e)]=_0x1da731,this[_0x23b499(0x62e)]='ccc'+this[_0x23b499(0x6f5)]+_0x23b499(0x6a9)+this[_0x23b499(0x461)],this[_0x23b499(0x80b)]=_0x23b499(0x6a9)+this[_0x23b499(0x6f5)]+_0x23b499(0x6a9)+this[_0x23b499(0x21a)][_0x23b499(0x66e)](),this[_0x23b499(0x2b1)]=(0x0,_0x19b2ba[_0x23b499(0x81d)])((0x0,_0x19b2ba[_0x23b499(0x145)])(_0x2c07f4[_0x23b499(0x885)](),_0x23b499(0x6c2)),_0x302e46=>{const _0x47cb89=_0x23b499;!0x0!==_0x302e46[_0x47cb89(0x821)]()?this[_0x47cb89(0x335)]&&_0x585abf['error'](_0x47cb89(0x369),{'clusterId':this[_0x47cb89(0x461)],'nodeId':this[_0x47cb89(0x21a)][_0x47cb89(0x66e)](),'nodeType':this[_0x47cb89(0x21a)][_0x47cb89(0x6f6)]}):(this[_0x47cb89(0x335)]=!0x0,this['setOnDisconnectHandler'](),_0x585abf[_0x47cb89(0x7ae)](_0x47cb89(0x19d),{'clusterId':this[_0x47cb89(0x461)],'nodeId':this[_0x47cb89(0x21a)][_0x47cb89(0x66e)](),'nodeType':this[_0x47cb89(0x21a)][_0x47cb89(0x6f6)]}));});}async[_0x20cdf8(0x1e1)](){const _0x55f035=_0x20cdf8;await this[_0x55f035(0x296)]();const _0x1c004a=await this[_0x55f035(0x6ce)]();return this['childRemovedUnsubscriber']=(0x0,_0x19b2ba[_0x55f035(0x485)])((0x0,_0x19b2ba[_0x55f035(0x145)])(_0x2c07f4[_0x55f035(0x885)](),_0x55f035(0x813)+this[_0x55f035(0x62e)]+'/nodes'),_0x1d3bb2=>{const _0x1af9c0=_0x55f035,_0x8eee30=_0x1d3bb2[_0x1af9c0(0x377)];if(!_0x8eee30)return;const _0x17906a=_0x8eee30[_0x1af9c0(0x74a)]('ccc'+this[_0x1af9c0(0x6f5)]+_0x1af9c0(0x6a9),'');this[_0x1af9c0(0x180)]['publish'](_0x17906a);}),_0x1c004a;}async[_0x20cdf8(0x671)](){const _0x18f228=_0x20cdf8;this[_0x18f228(0x543)]?.(),delete this[_0x18f228(0x543)],this[_0x18f228(0x683)]?.[_0x18f228(0x8e7)](),delete this[_0x18f228(0x683)],this[_0x18f228(0x2b1)]?.(),delete this[_0x18f228(0x2b1)],await(0x0,_0x19b2ba[_0x18f228(0x1f5)])((0x0,_0x19b2ba[_0x18f228(0x145)])(_0x2c07f4['getDatabase'](),_0x18f228(0x813)+this[_0x18f228(0x62e)]+_0x18f228(0x202)+this['nodeKey']));}['onNodeDisconnect'](_0x21611a){return this['disconnectCallback']['subscribe'](_0x21611a);}async[_0x20cdf8(0x6ce)](){const _0x47f31e=_0x20cdf8,_0x67df1d=[],_0x4cc92f=await(0x0,_0x19b2ba['get'])((0x0,_0x19b2ba[_0x47f31e(0x145)])(_0x2c07f4[_0x47f31e(0x885)](),_0x47f31e(0x813)+this[_0x47f31e(0x62e)]+'/nodes')),_0x3c1a0f=[];return _0x4cc92f[_0x47f31e(0x34b)](_0x15b483=>{const _0x327c8b=_0x47f31e,_0x52bae5=_0x15b483[_0x327c8b(0x377)]?.[_0x327c8b(0x74a)](_0x327c8b(0x6a9)+this['vendorId']+_0x327c8b(0x6a9),'');_0x3c1a0f['push']({'id':_0x52bae5,'joinedAt':_0x15b483[_0x327c8b(0x821)]()[_0x327c8b(0xc9)],'priority':_0x15b483[_0x327c8b(0x821)]()[_0x327c8b(0x74f)]});}),_0x3c1a0f[_0x47f31e(0x165)]((_0x2b3293,_0x410a04)=>_0x2b3293['joinedAt']===_0x410a04[_0x47f31e(0xc9)]?_0x2b3293[_0x47f31e(0x74f)]-_0x410a04[_0x47f31e(0x74f)]:_0x2b3293[_0x47f31e(0xc9)]-_0x410a04[_0x47f31e(0xc9)])['splice'](_0x3c1a0f[_0x47f31e(0x218)](_0x4b1a69=>_0x4b1a69['id']===this[_0x47f31e(0x21a)][_0x47f31e(0x66e)]())),_0x3c1a0f[_0x47f31e(0x165)]((_0x32153e,_0x390b31)=>_0x390b31[_0x47f31e(0xc9)]===_0x32153e[_0x47f31e(0xc9)]?_0x390b31[_0x47f31e(0x74f)]-_0x32153e['priority']:_0x390b31['joinedAt']-_0x32153e[_0x47f31e(0xc9)])[_0x47f31e(0x34b)](_0x56429d=>{const _0xb4a9b1=_0x47f31e;_0x67df1d[_0xb4a9b1(0x51a)]>=this['minConnections']||_0x67df1d[_0xb4a9b1(0x82c)](_0x56429d['id']);}),_0x585abf[_0x47f31e(0x263)](_0x47f31e(0x26b),{'clusterId':this[_0x47f31e(0x461)],'nodeId':this[_0x47f31e(0x21a)]['getId'](),'nodeType':this['localNode'][_0x47f31e(0x6f6)],'data':{'ancestorIds':_0x67df1d,'allNodes':_0x3c1a0f}}),_0x67df1d;}async['joinCluster'](){const _0x13db0d=_0x20cdf8;await(0x0,_0x19b2ba['set'])((0x0,_0x19b2ba['ref'])(_0x2c07f4['getDatabase'](),_0x13db0d(0x813)+this['clusterKey']+_0x13db0d(0x202)+this['nodeKey']),{'joinedAt':(0x0,_0x19b2ba[_0x13db0d(0x884)])(),'priority':Math['random']()});}[_0x20cdf8(0x273)](){const _0xd2528e=_0x20cdf8;this[_0xd2528e(0x683)]&&this['onDisconnectHandler'][_0xd2528e(0x8e7)](),this['onDisconnectHandler']=(0x0,_0x19b2ba['onDisconnect'])((0x0,_0x19b2ba['ref'])(_0x2c07f4[_0xd2528e(0x885)](),'clusters/'+this[_0xd2528e(0x62e)]+'/nodes/'+this['nodeKey'])),this[_0xd2528e(0x683)][_0xd2528e(0x1f5)]();}}class _0x2ff8d5{[_0x20cdf8(0x252)];[_0x20cdf8(0x6e7)];[_0x20cdf8(0x3a6)];[_0x20cdf8(0x16c)];['discoveryUnsubscriber'];[_0x20cdf8(0x845)]=[];[_0x20cdf8(0x361)];[_0x20cdf8(0x7f9)]=new Map();[_0x20cdf8(0x731)];['lastProcessRank'];constructor(_0x214f77,_0x30583d){const _0x402725=_0x20cdf8;this[_0x402725(0x252)]=_0x214f77,this['graphService']=_0x30583d,this['discoveryService']=new _0x494e3e(this[_0x402725(0x252)]['vendorId'],this[_0x402725(0x252)]['clusterId'],this[_0x402725(0x252)][_0x402725(0x21a)],this[_0x402725(0x6e7)][_0x402725(0x3f1)]()),this[_0x402725(0x2b7)]=this['discoveryService']['onNodeDisconnect'](this['handleNodeDisconnect'][_0x402725(0x684)](this)),this[_0x402725(0x252)]['mediator'][_0x402725(0x67e)](this[_0x402725(0x252)]['localNode']),this[_0x402725(0x252)][_0x402725(0x4ea)][_0x402725(0x67e)](this),this[_0x402725(0x3a6)]=_0x4b9656[_0x402725(0x2bf)](()=>{const _0x24b1a6=_0x402725,_0xafc73f=Date[_0x24b1a6(0x76a)]();this[_0x24b1a6(0x6e7)][_0x24b1a6(0x342)]()[_0x24b1a6(0x34b)](_0x26a139=>{const _0x12738e=_0x24b1a6;_0x26a139['getStatus']()===_0x2bea37[_0x12738e(0x855)]&&_0x26a139[_0x12738e(0x8f8)]()<_0xafc73f-0x493e0&&this['graphService'][_0x12738e(0x11f)](_0x26a139['getId']());});},0xea60);}['registerSystemPublisher'](_0x51913e){const _0x5ca3b7=_0x20cdf8;this[_0x5ca3b7(0x361)]=_0x51913e;}[_0x20cdf8(0x5b7)](){const _0x105916=_0x20cdf8;delete this[_0x105916(0x361)];}[_0x20cdf8(0x671)](){const _0x1aea0e=_0x20cdf8;this[_0x1aea0e(0x731)]&&(clearTimeout(this['debounceProcessRank']),delete this['debounceProcessRank']),delete this[_0x1aea0e(0xfa)],this[_0x1aea0e(0x252)]['localNode'][_0x1aea0e(0x671)](),this['remoteUnsubscriber'](),this[_0x1aea0e(0x2b7)](),this['configs'][_0x1aea0e(0x4ea)][_0x1aea0e(0x174)](this[_0x1aea0e(0x252)][_0x1aea0e(0x21a)]),this[_0x1aea0e(0x252)][_0x1aea0e(0x4ea)][_0x1aea0e(0x174)](this),this[_0x1aea0e(0x16c)][_0x1aea0e(0x671)]();}[_0x20cdf8(0xd4)](){const _0x447071=_0x20cdf8;return this[_0x447071(0x845)];}['getLocalId'](){const _0x326962=_0x20cdf8;return this[_0x326962(0x252)][_0x326962(0x21a)][_0x326962(0x66e)]();}['getLocalNode'](){const _0xd54562=_0x20cdf8;return this[_0xd54562(0x252)][_0xd54562(0x21a)];}[_0x20cdf8(0x342)](_0x462fc5){const _0x427d1d=_0x20cdf8,_0x1943d9=Array[_0x427d1d(0x473)](this[_0x427d1d(0x6e7)][_0x427d1d(0x342)]()[_0x427d1d(0x6cd)]())['filter'](_0x246989=>_0x246989['getStatus']()===_0x2bea37[_0x427d1d(0x38e)]);return _0x462fc5?_0x1943d9['filter'](_0x462fc5):_0x1943d9;}async[_0x20cdf8(0x26b)](){const _0x2a4f15=_0x20cdf8;return this[_0x2a4f15(0x845)]=await this['discoveryService']['join'](),this[_0x2a4f15(0x845)][_0x2a4f15(0x51a)]<this[_0x2a4f15(0x6e7)][_0x2a4f15(0x3f1)]()&&(this['configs'][_0x2a4f15(0x21a)][_0x2a4f15(0x4e4)](this[_0x2a4f15(0x845)]['length']+0x1),this[_0x2a4f15(0x231)]()),this[_0x2a4f15(0x845)];}[_0x20cdf8(0x6ff)](_0x1b3b67,_0xb95435){const _0x145692=_0x20cdf8,_0x238099=this[_0x145692(0x252)]['localNode']['getRemoteConnections'](),_0x55fe31=new Set(_0x238099),_0x106f56=Array[_0x145692(0x473)](_0x238099)[_0x145692(0xb7)](_0x3a5996=>_0x3a5996!==_0x1b3b67)[_0x145692(0x7ea)](_0x38ed1a=>({'id':_0x38ed1a,'distance':0x1}));for(;_0x106f56[_0x145692(0x51a)]>0x0;){const _0x5efdad=_0x106f56[_0x145692(0x1b0)]();if(!_0x5efdad)continue;if(_0x5efdad['id']===_0xb95435)return _0x5efdad[_0x145692(0x523)];const _0x14aae3=this[_0x145692(0x6e7)][_0x145692(0x71a)](_0x5efdad['id']);_0x14aae3&&_0x14aae3[_0x145692(0x733)]()!==_0x2bea37['Offline']&&_0x14aae3[_0x145692(0xfd)]()[_0x145692(0x34b)](_0x598b0f=>{const _0x2a9829=_0x145692;_0x55fe31[_0x2a9829(0x6f2)](_0x598b0f)||(_0x55fe31[_0x2a9829(0x43e)](_0x598b0f),_0x106f56['push']({'id':_0x598b0f,'distance':_0x5efdad[_0x2a9829(0x523)]+0x1}));});}return-0x1;}[_0x20cdf8(0xd5)](_0x390aa3){const _0x34f8c9=_0x20cdf8;try{switch(_0x390aa3['content'][_0x34f8c9(0x6f6)]){case _0x2c3880[_0x34f8c9(0x6f8)]:case _0x2c3880[_0x34f8c9(0xd7)]:this[_0x34f8c9(0x82a)](_0x390aa3[_0x34f8c9(0x843)]),_0x585abf[_0x34f8c9(0x447)](_0x324ffe[_0x34f8c9(0x772)],_0x34f8c9(0xd2),'\x27'+this['configs'][_0x34f8c9(0x21a)][_0x34f8c9(0x66e)]()+',\x20'+_0x390aa3['sourceId']+'\x27',_0x390aa3,_0x390aa3['content']);break;case _0x2c3880[_0x34f8c9(0xdb)]:this[_0x34f8c9(0x32e)](_0x390aa3[_0x34f8c9(0x843)]['id']),_0x585abf[_0x34f8c9(0x447)](_0x324ffe[_0x34f8c9(0x772)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x34f8c9(0x252)]['localNode'][_0x34f8c9(0x66e)]()+',\x20'+_0x390aa3[_0x34f8c9(0x8c8)]+'\x27',_0x390aa3,_0x390aa3[_0x34f8c9(0x843)]);}}catch(_0x5b95a4){if(_0x5b95a4 instanceof _0x5f3fcd)return void _0x585abf[_0x34f8c9(0x447)](_0x324ffe[_0x34f8c9(0x772)],_0x5b95a4['message']);throw _0x5b95a4;}}[_0x20cdf8(0x38c)](_0xb8d732){const _0x5ad096=_0x20cdf8;switch(_0xb8d732[_0x5ad096(0x843)][_0x5ad096(0x6f6)]){case _0x320761[_0x5ad096(0x3bd)]:this['handleConnectionSuccess'](_0xb8d732[_0x5ad096(0x8c8)]),_0x585abf[_0x5ad096(0x447)](_0x324ffe[_0x5ad096(0x772)],_0x5ad096(0xff),'\x27'+this[_0x5ad096(0x252)][_0x5ad096(0x21a)][_0x5ad096(0x66e)]()+',\x20'+_0xb8d732[_0x5ad096(0x8c8)]+'\x27',_0xb8d732,_0xb8d732[_0x5ad096(0x843)]);break;case _0x320761[_0x5ad096(0x135)]:this[_0x5ad096(0x5cc)](_0xb8d732[_0x5ad096(0x8c8)]),_0x585abf[_0x5ad096(0x447)](_0x324ffe[_0x5ad096(0x772)],_0x5ad096(0x5b9),this[_0x5ad096(0x252)]['localNode'][_0x5ad096(0x66e)](),_0xb8d732,_0xb8d732[_0x5ad096(0x843)]);}}[_0x20cdf8(0x2a3)](_0x4afe74){const _0x41613e=_0x20cdf8;this[_0x41613e(0x728)](_0x4afe74),this['notifyJoin'](_0x4afe74);}[_0x20cdf8(0x281)](_0x1884a8){const _0x3c6d22=_0x20cdf8;this['configs']['localNode']['answerJoin'](_0x1884a8['id']),this[_0x3c6d22(0x4a4)](_0x1884a8['id']),this[_0x3c6d22(0x20d)](_0x1884a8);}[_0x20cdf8(0x82a)](_0x420a50){const _0x489fe2=_0x20cdf8,{id:_0x14d262,metaData:_0x1830ff,rank:_0x1f1995,remoteConnections:_0x4845ea,version:_0x617929}=_0x420a50,_0x343102=this['graphService'][_0x489fe2(0x71a)](_0x14d262);if(_0x343102){if(!(_0x617929<=_0x343102['getCurrentVersion']())){if(_0x343102[_0x489fe2(0x467)](_0x4845ea),_0x343102[_0x489fe2(0x726)](_0x617929),_0x343102[_0x489fe2(0x6f6)]===_0x3b754d[_0x489fe2(0x49e)][_0x489fe2(0x103)]&&_0x1830ff[_0x489fe2(0x6f6)]===_0x3b754d[_0x489fe2(0x49e)][_0x489fe2(0x103)]&&(_0x343102[_0x489fe2(0x61a)](_0x1830ff[_0x489fe2(0x873)]),_0x343102['setEmail'](_0x1830ff['email'])),_0x1f1995&&_0x343102[_0x489fe2(0x4e4)](_0x1f1995),this[_0x489fe2(0x71f)](_0x14d262,_0x1f1995),_0x343102['getStatus']()===_0x2bea37[_0x489fe2(0x855)])return _0x343102[_0x489fe2(0x54f)](_0x2bea37[_0x489fe2(0x38e)]),this[_0x489fe2(0x231)](),void this[_0x489fe2(0x281)](_0x420a50);this['processRank'](),this[_0x489fe2(0x7be)]({'id':_0x14d262,'metaData':_0x1830ff,'remoteConnections':_0x4845ea,'version':_0x617929});}}else this['handleNodeJoin'](_0x420a50);}[_0x20cdf8(0x71f)](_0x1aeccd,_0x31cd07){const _0x12be6a=_0x20cdf8;_0x31cd07&&this[_0x12be6a(0x845)][_0x12be6a(0x8cb)](_0x1aeccd)&&this[_0x12be6a(0x252)][_0x12be6a(0x21a)]['setRank'](_0x31cd07+this[_0x12be6a(0x845)][_0x12be6a(0x6a4)](_0x1aeccd)+0x1);}[_0x20cdf8(0x812)](_0x4d117f){const _0x4be396=_0x20cdf8;this['configs'][_0x4be396(0x21a)][_0x4be396(0x22d)](_0x4d117f);}[_0x20cdf8(0x728)]({id:_0x56e25e,metaData:_0x815c2a,rank:_0x4d69c8,remoteConnections:_0x555b75,version:_0xe2ad54}){const _0x1fc7bc=_0x20cdf8;if(this[_0x1fc7bc(0x6e7)][_0x1fc7bc(0x8a4)](_0x56e25e))throw new _0x5f3fcd(_0x1fc7bc(0x200)+_0x56e25e);switch(_0x815c2a['type']){case _0x3b754d[_0x1fc7bc(0x49e)][_0x1fc7bc(0x103)]:const {displayName:_0x5ab2a8,email:_0x3ae66c}=_0x815c2a;this[_0x1fc7bc(0x6e7)][_0x1fc7bc(0x3e6)](_0x56e25e,new _0x2bf7c9(_0x56e25e,_0x5ab2a8,_0x3ae66c,new Set(_0x555b75),_0xe2ad54,_0x4d69c8));break;case _0x3b754d[_0x1fc7bc(0x49e)][_0x1fc7bc(0x7a5)]:this['graphService'][_0x1fc7bc(0x3e6)](_0x56e25e,new _0x579742(_0x56e25e,new Set(_0x555b75),_0xe2ad54,_0x4d69c8));}this[_0x1fc7bc(0x71f)](_0x56e25e,_0x4d69c8),this[_0x1fc7bc(0x231)]();}['publishNodeJoin'](_0x3a35de){const _0x34c778=_0x20cdf8;this[_0x34c778(0x361)]['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x34c778(0x772)],'content':{'type':_0x2c3880[_0x34c778(0x12e)],'id':_0x3a35de}});}['publishNodeLeave'](_0x18b382){const _0x44fd67=_0x20cdf8;this[_0x44fd67(0x361)]?.[_0x44fd67(0x1ed)]({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x44fd67(0x772)],'content':{'type':_0x2c3880[_0x44fd67(0xdb)],'id':_0x18b382}});}[_0x20cdf8(0x15e)](_0xeee79c){const _0x2d58e3=_0x20cdf8;if(_0xeee79c===this['configs'][_0x2d58e3(0x21a)][_0x2d58e3(0x66e)]())return this[_0x2d58e3(0x252)][_0x2d58e3(0x4ea)][_0x2d58e3(0x544)]('cluster-disconnect',{'id':_0xeee79c}),this[_0x2d58e3(0x252)][_0x2d58e3(0x4ea)]['close']({'force':!0x0},!0x0),this[_0x2d58e3(0x252)][_0x2d58e3(0x4ea)]['open'](),void this[_0x2d58e3(0x252)][_0x2d58e3(0x4ea)][_0x2d58e3(0x6f9)]();this[_0x2d58e3(0x5cc)](_0xeee79c);}['removeNode'](_0x358b93){const _0x52ab2e=_0x20cdf8;this[_0x52ab2e(0x845)][_0x52ab2e(0x8cb)](_0x358b93)?this[_0x52ab2e(0x2a5)](_0x358b93):this[_0x52ab2e(0x252)][_0x52ab2e(0x21a)][_0x52ab2e(0xfd)]()[_0x52ab2e(0x6f2)](_0x358b93)&&this[_0x52ab2e(0x39c)](_0x358b93),this[_0x52ab2e(0x252)]['localNode'][_0x52ab2e(0x52c)](_0x358b93);const _0x2626d5=Array[_0x52ab2e(0x473)](this[_0x52ab2e(0x7f9)][_0x52ab2e(0x573)]())[_0x52ab2e(0x819)](([,_0x46ed2e])=>_0x46ed2e==_0x46ed2e);_0x2626d5&&this[_0x52ab2e(0x7f9)][_0x52ab2e(0x268)](_0x2626d5[0x0]);const _0x566e0e=this[_0x52ab2e(0x6e7)][_0x52ab2e(0x71a)](_0x358b93);if(!_0x566e0e)return;const _0x4ff955=_0x566e0e[_0x52ab2e(0x81f)](),_0x139063=this[_0x52ab2e(0x252)][_0x52ab2e(0x21a)]['getRank']();_0x139063&&_0x4ff955&&_0x4ff955<_0x139063&&this[_0x52ab2e(0x252)][_0x52ab2e(0x21a)]['setRank'](_0x139063-0x1,!0x1),Array[_0x52ab2e(0x473)](this[_0x52ab2e(0x6e7)][_0x52ab2e(0x342)]()['values']())[_0x52ab2e(0x34b)](_0x48856a=>{const _0x519837=_0x52ab2e,_0x124711=_0x48856a[_0x519837(0x81f)]();_0x124711&&_0x4ff955&&_0x4ff955<_0x124711&&_0x48856a['setRank'](_0x124711-0x1);}),_0x566e0e['setStatus'](_0x2bea37[_0x52ab2e(0x855)]),this['configs']['mediator'][_0x52ab2e(0x544)](_0x566e0e['type']+_0x52ab2e(0x7ff),{'id':_0x358b93});}['notifyClusterNodeJoin']({id:_0x1a8f6c,metaData:_0xe14f6,remoteConnections:_0x247aeb}){const _0x22db93=_0x20cdf8;switch(_0xe14f6['type']){case _0x3b754d[_0x22db93(0x49e)][_0x22db93(0x103)]:this[_0x22db93(0x252)]['mediator']['notifyCluster']('user-join',{'id':_0x1a8f6c,'metaData':_0xe14f6,'remoteConnections':_0x247aeb});break;case _0x3b754d[_0x22db93(0x49e)][_0x22db93(0x7a5)]:this[_0x22db93(0x252)]['mediator'][_0x22db93(0x544)](_0x22db93(0x1a9),{'id':_0x1a8f6c,'metaData':_0xe14f6,'remoteConnections':_0x247aeb});}}[_0x20cdf8(0x7be)]({id:_0xb979e4,metaData:_0x150d27,remoteConnections:_0xabea7}){const _0x2fb8dd=_0x20cdf8;switch(_0x150d27[_0x2fb8dd(0x6f6)]){case _0x3b754d['NodeType'][_0x2fb8dd(0x103)]:this[_0x2fb8dd(0x252)][_0x2fb8dd(0x4ea)]['notifyCluster']('user-update',{'id':_0xb979e4,'metaData':_0x150d27,'remoteConnections':_0xabea7});break;case _0x3b754d['NodeType'][_0x2fb8dd(0x7a5)]:this[_0x2fb8dd(0x252)][_0x2fb8dd(0x4ea)][_0x2fb8dd(0x544)](_0x2fb8dd(0x267),{'id':_0xb979e4,'metaData':_0x150d27,'remoteConnections':_0xabea7});}}[_0x20cdf8(0x231)](){const _0x55bc0b=_0x20cdf8;if(this[_0x55bc0b(0xfa)]||(this['lastProcessRank']=Date['now']()),this[_0x55bc0b(0x731)]){if(Date['now']()-this[_0x55bc0b(0xfa)]>0x2328)return;clearTimeout(this[_0x55bc0b(0x731)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x6ecebd=_0x55bc0b;delete this[_0x6ecebd(0xfa)],delete this[_0x6ecebd(0x731)];const _0x70cf54=this[_0x6ecebd(0x252)][_0x6ecebd(0x21a)][_0x6ecebd(0x81f)]();if(!_0x70cf54)return;const _0x571b0a=this[_0x6ecebd(0x6e7)][_0x6ecebd(0x623)](this[_0x6ecebd(0x6e7)][_0x6ecebd(0x342)]()['size']);if(this['optimizationLayers'][_0x6ecebd(0x3b4)]>=_0x571b0a)return;let _0x6c0aaa=0x1;for(;this[_0x6ecebd(0x252)]['mediator']['getConnections']()['length']<this[_0x6ecebd(0x6e7)][_0x6ecebd(0x452)]()&&_0x6c0aaa<=_0x571b0a;){if(this[_0x6ecebd(0x7f9)][_0x6ecebd(0x6f2)](_0x6c0aaa)){_0x6c0aaa+=0x1;continue;}const _0x4ee7d1=this['graphService'][_0x6ecebd(0x4f5)](_0x70cf54,_0x6c0aaa),_0x55b5bb=Array[_0x6ecebd(0x473)](this[_0x6ecebd(0x6e7)][_0x6ecebd(0x342)]()['values']())[_0x6ecebd(0x819)](_0x589ce6=>_0x589ce6[_0x6ecebd(0x81f)]()===_0x4ee7d1&&_0x589ce6[_0x6ecebd(0x733)]()===_0x2bea37[_0x6ecebd(0x38e)]);if(_0x55b5bb){try{await this[_0x6ecebd(0x252)][_0x6ecebd(0x4ea)]['createConnection'](_0x55b5bb[_0x6ecebd(0x66e)](),_0x5a0b34[_0x6ecebd(0x3ac)]),this[_0x6ecebd(0x7f9)][_0x6ecebd(0xaf)](_0x6c0aaa,_0x55b5bb[_0x6ecebd(0x66e)]());}catch(_0x2da68a){if(!(_0x2da68a instanceof _0x5a569f&&_0x2da68a['code']===_0x5a569f[_0x6ecebd(0x4e8)][_0x6ecebd(0x52a)]))throw _0x2da68a;_0x585abf[_0x6ecebd(0x447)](_0x324ffe[_0x6ecebd(0x772)],this[_0x6ecebd(0x252)][_0x6ecebd(0x21a)]['getId'](),_0x55b5bb[_0x6ecebd(0x66e)](),_0x2da68a['message']);}_0x6c0aaa+=0x1;}else _0x6c0aaa+=0x1;}},0x3e8);}async['manageAncestor'](_0x22ecc3){const _0x1f981e=_0x20cdf8;this[_0x1f981e(0x845)][_0x1f981e(0x209)](this[_0x1f981e(0x845)][_0x1f981e(0x6a4)](_0x22ecc3),0x1);const _0x35628b=await this[_0x1f981e(0x16c)][_0x1f981e(0x6ce)]();for(const _0x213662 of _0x35628b)if(!this[_0x1f981e(0x845)][_0x1f981e(0x8cb)](_0x213662)){const _0x10fe51=Array[_0x1f981e(0x473)](this[_0x1f981e(0x7f9)][_0x1f981e(0x573)]())[_0x1f981e(0x819)](([,_0x486c73])=>_0x486c73===_0x213662);_0x10fe51&&this[_0x1f981e(0x7f9)]['delete'](_0x10fe51[0x0]),this[_0x1f981e(0x252)]['mediator'][_0x1f981e(0x28f)](_0x213662,_0x5a0b34[_0x1f981e(0x8ed)]);}0x0===_0x35628b['length']&&this[_0x1f981e(0x252)]['localNode'][_0x1f981e(0x4e4)](0x1),this[_0x1f981e(0x845)]=_0x35628b;}async['manageOptimization'](_0x3a936f){const _0xb1c36c=_0x20cdf8,_0x4ee13d=this[_0xb1c36c(0x252)][_0xb1c36c(0x21a)]['getRank']();if(!_0x4ee13d)return;const _0x1e8ddf=this['graphService']['getRemoteNode'](_0x3a936f);if(!_0x1e8ddf||_0x1e8ddf[_0xb1c36c(0x733)]()===_0x2bea37['Offline'])return;const _0x5c30b7=_0x1e8ddf['getRank']();if(!_0x5c30b7||_0x5c30b7<_0x4ee13d)return;const _0x31ec47=this['getOutgoingOptimizationConnections'](this[_0xb1c36c(0x252)][_0xb1c36c(0x21a)]['getRemoteConnections'](),_0x4ee13d),_0x51d3a7=this[_0xb1c36c(0x43f)](_0x1e8ddf['getRemoteConnections'](),_0x5c30b7)[_0x31ec47[_0xb1c36c(0x218)](([_0xa590ba])=>_0xa590ba===_0x3a936f)];if(!_0x51d3a7||this[_0xb1c36c(0x252)][_0xb1c36c(0x21a)][_0xb1c36c(0xfd)]()[_0xb1c36c(0x6f2)](_0x51d3a7[0x0]))return;const _0x32e27e=this[_0xb1c36c(0x6e7)]['getRemoteNode'](_0x51d3a7[0x0]);if(_0x32e27e&&_0x32e27e[_0xb1c36c(0x733)]()!==_0x2bea37[_0xb1c36c(0x855)])try{await this[_0xb1c36c(0x252)][_0xb1c36c(0x4ea)]['createConnection'](_0x51d3a7[0x0],_0x5a0b34['Optimization']);const _0x4ecfaf=Array[_0xb1c36c(0x473)](this[_0xb1c36c(0x7f9)][_0xb1c36c(0x573)]())[_0xb1c36c(0x819)](([,_0x56e26f])=>_0x56e26f===_0x3a936f);_0x4ecfaf&&this[_0xb1c36c(0x7f9)][_0xb1c36c(0xaf)](_0x4ecfaf[0x0],_0x51d3a7[0x0]);}catch(_0x119219){if(!(_0x119219 instanceof _0x5a569f&&_0x119219[_0xb1c36c(0x279)]===_0x5a569f[_0xb1c36c(0x4e8)][_0xb1c36c(0x52a)]))throw _0x119219;_0x585abf[_0xb1c36c(0x447)](_0x324ffe[_0xb1c36c(0x772)],this['configs'][_0xb1c36c(0x21a)]['getId'](),_0x51d3a7[0x0],_0x119219[_0xb1c36c(0x129)]);}}[_0x20cdf8(0x43f)](_0x3cf783,_0x25fe55){const _0x22d183=_0x20cdf8;return Array[_0x22d183(0x473)](_0x3cf783)[_0x22d183(0x339)]((_0x5434d6,_0x198d3a)=>{const _0x821714=_0x22d183,_0x16ab80=this[_0x821714(0x6e7)]['getRemoteNode'](_0x198d3a);if(!_0x16ab80||_0x16ab80[_0x821714(0x733)]()===_0x2bea37[_0x821714(0x855)])return _0x5434d6;const _0x368459=_0x16ab80[_0x821714(0x81f)]();if(!_0x368459)return _0x5434d6;const _0x5e5f6d=_0x368459-_0x25fe55;return _0x5e5f6d<=this[_0x821714(0x6e7)][_0x821714(0x3f1)]()||_0x5434d6[_0x821714(0x82c)]([_0x198d3a,_0x5e5f6d]),_0x5434d6;},[])[_0x22d183(0x165)](([,_0x151049],[,_0x24df30])=>_0x151049-_0x24df30);}}const _0x4adbdd=[{'problemType':_0x9e7cd1[_0x20cdf8(0x874)],'remediations':[{'type':_0x1c7d55[_0x20cdf8(0x235)],'component':_0x1f6018['Resolution'],'action':_0x19e6e6[_0x20cdf8(0x1e9)]},{'type':_0x1c7d55[_0x20cdf8(0x368)],'component':_0x1f6018[_0x20cdf8(0x69d)],'action':_0x19e6e6[_0x20cdf8(0x1e9)]}]},{'problemType':_0x9e7cd1[_0x20cdf8(0x261)],'remediations':[{'type':_0x1c7d55[_0x20cdf8(0x235)],'component':_0x1f6018['Resolution'],'action':_0x19e6e6[_0x20cdf8(0x1e9)]}]},{'problemType':_0x9e7cd1[_0x20cdf8(0x44b)],'remediations':[{'type':_0x1c7d55[_0x20cdf8(0x235)],'component':_0x1f6018['Resolution'],'action':_0x19e6e6['Downgrade']}]},{'problemType':_0x9e7cd1[_0x20cdf8(0x64e)],'remediations':[{'type':_0x1c7d55[_0x20cdf8(0x235)],'component':_0x1f6018[_0x20cdf8(0x69d)],'action':_0x19e6e6['Downgrade']}]},{'problemType':_0x9e7cd1[_0x20cdf8(0x14e)],'remediations':[{'type':_0x1c7d55['Remediation'],'component':_0x1f6018[_0x20cdf8(0x14e)],'action':_0x19e6e6[_0x20cdf8(0x1e9)]}]},{'problemType':_0x9e7cd1['Jitter'],'remediations':[{'type':_0x1c7d55[_0x20cdf8(0x235)],'component':_0x1f6018['Bitrate'],'action':_0x19e6e6['Downgrade']}]},{'problemType':_0x9e7cd1[_0x20cdf8(0x41b)],'remediations':[{'type':_0x1c7d55['Remediation'],'component':_0x1f6018[_0x20cdf8(0x14e)],'action':_0x19e6e6['Downgrade']}]}];class _0x4b546b{['configs'];[_0x20cdf8(0x361)];[_0x20cdf8(0x5d8)]=new Map();constructor(_0x409770){const _0x3c0ba0=_0x20cdf8;this['configs']=_0x409770,this['configs']['mediator'][_0x3c0ba0(0x67e)](this);}[_0x20cdf8(0x671)](){this['configs']['mediator']['unregisterSystemSource'](this);}['registerSystemPublisher'](_0x1da3bf){const _0x5511fb=_0x20cdf8;this[_0x5511fb(0x361)]=_0x1da3bf;}['unregisterSystemPublisher'](){const _0x116baa=_0x20cdf8;delete this[_0x116baa(0x361)];}[_0x20cdf8(0x364)](_0x2a1dd7){const _0x2c747e=_0x20cdf8;_0x2a1dd7[_0x2c747e(0x843)]['type']===_0x46f665[_0x2c747e(0x466)]&&this['handleProblem'](_0x2a1dd7[_0x2c747e(0x843)][_0x2c747e(0x75d)]);}['handleRemediationSystemEvents'](_0x51c3cb){const _0x30be81=_0x20cdf8;_0x51c3cb[_0x30be81(0x843)]['type']===_0x1c7d55['RemoteRemediation']&&this[_0x30be81(0x1b4)](_0x51c3cb[_0x30be81(0x8c8)],{'type':_0x1c7d55['Remediation'],'component':_0x51c3cb[_0x30be81(0x843)][_0x30be81(0x75d)][_0x30be81(0x795)],'action':_0x51c3cb[_0x30be81(0x843)]['data'][_0x30be81(0x22f)]});}['handleProblem'](_0xa9fcf5){const _0x8fb914=_0x20cdf8,_0x2f719f=_0x4adbdd[_0x8fb914(0x819)](_0x57e09c=>_0x57e09c[_0x8fb914(0x901)]===_0xa9fcf5[_0x8fb914(0x6f6)]);_0x2f719f[_0x8fb914(0x42d)]?.[_0x8fb914(0x34b)](_0x4a36a5=>{const _0x53289d=_0x8fb914;this[_0x53289d(0x1b4)](_0xa9fcf5[_0x53289d(0x56f)],{'type':_0xa9fcf5[_0x53289d(0x225)]===_0x31e650['Sender']?_0x1c7d55[_0x53289d(0x235)]:_0x1c7d55[_0x53289d(0x368)],'component':_0x4a36a5[_0x53289d(0x795)],'action':_0x4a36a5['action']});});}[_0x20cdf8(0x1b4)](_0x3466df,_0x5c6d50){const _0x2fea2c=_0x20cdf8;if(_0x5c6d50[_0x2fea2c(0x6f6)]===_0x1c7d55[_0x2fea2c(0x235)]){const _0x25da34=Date[_0x2fea2c(0x76a)](),_0x1a251e=this[_0x2fea2c(0x5d8)][_0x2fea2c(0x333)](_0x3466df);if(_0x1a251e&&_0x25da34-_0x1a251e<0x1388)return;this[_0x2fea2c(0x5d8)][_0x2fea2c(0xaf)](_0x3466df,_0x25da34);}_0x585abf['log'](_0x324ffe[_0x2fea2c(0x235)],_0x2fea2c(0x65d),_0x5c6d50),_0x585abf[_0x2fea2c(0x263)]('remediation',{'clusterId':this[_0x2fea2c(0x252)][_0x2fea2c(0x461)],'nodeId':this[_0x2fea2c(0x252)][_0x2fea2c(0x21a)]['getId'](),'nodeType':this['configs'][_0x2fea2c(0x21a)][_0x2fea2c(0x6f6)],'remoteId':_0x3466df,'data':{'type':_0x5c6d50[_0x2fea2c(0x6f6)],'component':_0x5c6d50[_0x2fea2c(0x795)],'action':_0x5c6d50[_0x2fea2c(0x22f)]}});let _0x2a5e72,_0x54e441=_0x34aa90;_0x5c6d50[_0x2fea2c(0x6f6)]===_0x1c7d55['RemoteRemediation']&&(_0x54e441=this[_0x2fea2c(0x252)][_0x2fea2c(0x21a)]['getId'](),_0x2a5e72=[_0x3466df]),this[_0x2fea2c(0x361)][_0x2fea2c(0x1ed)]({'sourceId':_0x54e441,'destinationIds':_0x2a5e72,'messageType':_0x213fd0[_0x2fea2c(0x235)],'content':{'type':_0x5c6d50[_0x2fea2c(0x6f6)],'targetId':_0x3466df,'data':_0x5c6d50}});}}const _0xa63c91=0x3e8,_0xde278c=0x7530,_0x233413=_0x20cdf8(0x155),_0x25f0c7=_0x20cdf8(0x3b3),_0x354395='inbound-rtp',_0x358bb6=[_0x233413,_0x25f0c7],_0x1b22a4=[_0x354395];class _0x1964f2{[_0x20cdf8(0x6a5)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x20cdf8(0x3a3)]=0x0;[_0x20cdf8(0x8a5)]=0x0;[_0x20cdf8(0x375)]=0x0;[_0x20cdf8(0x22e)]=0x0;[_0x20cdf8(0x309)]=0x0;['currentBytes']=0x0;['previousBytes']=0x0;get[_0x20cdf8(0x441)](){const _0x378bd8=_0x20cdf8;return this[_0x378bd8(0x22e)]>0x0&&this[_0x378bd8(0x309)]>0x0&&Date[_0x378bd8(0x76a)]()-this[_0x378bd8(0x22e)]<_0xde278c?(this[_0x378bd8(0x522)]-this[_0x378bd8(0x703)])/(this[_0x378bd8(0x22e)]-this[_0x378bd8(0x309)])*0x8*0x3e8:0x0;}[_0x20cdf8(0x102)](_0x171eb9){const _0x1a448f=_0x20cdf8;switch(_0x171eb9[_0x1a448f(0x6f6)]){case _0x354395:this[_0x1a448f(0x893)](_0x171eb9);break;case _0x233413:this[_0x1a448f(0x3c2)](_0x171eb9);break;case _0x25f0c7:this[_0x1a448f(0x2e8)](_0x171eb9);}}['getReport'](){const _0x25b8f8=_0x20cdf8;return{'bitrate':this[_0x25b8f8(0x441)],'packetsLostPerc':this[_0x25b8f8(0x6c3)](),'roundTripTime':this[_0x25b8f8(0x6a5)],'jitter':this[_0x25b8f8(0x3a3)]};}[_0x20cdf8(0x893)](_0x5023b5){const _0x1aec0d=_0x20cdf8;this[_0x1aec0d(0x73b)](_0x5023b5[_0x1aec0d(0x5a0)]),this[_0x1aec0d(0x79b)](_0x5023b5[_0x1aec0d(0x745)]),this['packets']=_0x5023b5[_0x1aec0d(0x477)],this['packetsLost']=_0x5023b5['packetsLost'],void 0x0!==_0x5023b5[_0x1aec0d(0x3a3)]?this[_0x1aec0d(0x3a3)]=_0x5023b5[_0x1aec0d(0x3a3)]:this['jitter']=0x0,void 0x0!==_0x5023b5[_0x1aec0d(0x7e4)]?this['estimatedPlayoutTimestamp']=_0x5023b5['estimatedPlayoutTimestamp']:this[_0x1aec0d(0x7e4)]=0x0;}[_0x20cdf8(0x3c2)](_0x33ba6e){const _0x349d6d=_0x20cdf8;this['setBytes'](_0x33ba6e[_0x349d6d(0x25b)]),this['setTimestamp'](_0x33ba6e[_0x349d6d(0x745)]),this[_0x349d6d(0x375)]=_0x33ba6e['packetsSent'];}[_0x20cdf8(0x2e8)](_0x221bf0){const _0x438755=_0x20cdf8;this[_0x438755(0x6a5)]=0x3e8*_0x221bf0[_0x438755(0x6a5)],void 0x0!==_0x221bf0[_0x438755(0x3a3)]?this['jitter']=_0x221bf0['jitter']:this['jitter']=0x0;}['getPacketsLostPerc'](){const _0x25ffbc=_0x20cdf8;return this[_0x25ffbc(0x375)]>0x0?this[_0x25ffbc(0x8a5)]/this[_0x25ffbc(0x375)]:0x0;}['setTimestamp'](_0x4bd202){const _0x57fd76=_0x20cdf8;_0x4bd202>this[_0x57fd76(0x22e)]&&(this[_0x57fd76(0x309)]=this['currentTimestamp'],this[_0x57fd76(0x22e)]=_0x4bd202);}['setBytes'](_0x4cc02c){const _0x59438d=_0x20cdf8;this['previousBytes']=this['currentBytes'],this[_0x59438d(0x522)]=_0x4cc02c;}}class _0x413343 extends _0x1964f2{}class _0x72dc9d extends _0x1964f2{[_0x20cdf8(0xfe)]=0x0;[_0x20cdf8(0x4d0)]=0x0;['frameHeight']=0x0;[_0x20cdf8(0x520)]=0x0;[_0x20cdf8(0x492)]=0x0;get['fps'](){const _0x38faeb=_0x20cdf8;return this[_0x38faeb(0x22e)]>0x0&&this[_0x38faeb(0x309)]>0x0&&Date[_0x38faeb(0x76a)]()-this['currentTimestamp']<_0xde278c?(this[_0x38faeb(0x520)]-this[_0x38faeb(0x492)])/(this[_0x38faeb(0x22e)]-this['previousTimestamp'])*0x3e8:0x0;}get['timePerFrame'](){const _0x4bed27=_0x20cdf8;return this[_0x4bed27(0xfe)]&&this[_0x4bed27(0x520)]&&this[_0x4bed27(0x520)]>0x0?this[_0x4bed27(0xfe)]/this[_0x4bed27(0x520)]:0x0;}set[_0x20cdf8(0x2d2)](_0x4b9f6f){const _0x156c90=_0x20cdf8;this['previousFrames']=this[_0x156c90(0x520)],this[_0x156c90(0x520)]=_0x4b9f6f;}[_0x20cdf8(0x47b)](){const _0x54c5c9=_0x20cdf8;return{...super[_0x54c5c9(0x47b)](),'FPS':this[_0x54c5c9(0x3a2)],'timePerFrame':this[_0x54c5c9(0x7a4)],'frameWidth':this['frameWidth'],'frameHeight':this[_0x54c5c9(0x1ce)]};}[_0x20cdf8(0x893)](_0x1d3005){const _0x539b67=_0x20cdf8;super[_0x539b67(0x893)](_0x1d3005),this[_0x539b67(0xfe)]=_0x1d3005[_0x539b67(0x2ee)],this[_0x539b67(0x2d2)]=_0x1d3005[_0x539b67(0x58c)],this[_0x539b67(0x4d0)]=_0x1d3005[_0x539b67(0x4d0)],this[_0x539b67(0x1ce)]=_0x1d3005[_0x539b67(0x1ce)];}['processOutboundReport'](_0x3c81b2){const _0x171bf5=_0x20cdf8;super['processOutboundReport'](_0x3c81b2),this[_0x171bf5(0xfe)]=_0x3c81b2[_0x171bf5(0x3b7)],this[_0x171bf5(0x2d2)]=_0x3c81b2[_0x171bf5(0x2d4)],this[_0x171bf5(0x4d0)]=_0x3c81b2['frameWidth'],this[_0x171bf5(0x1ce)]=_0x3c81b2[_0x171bf5(0x1ce)];}}class _0x1a2331{[_0x20cdf8(0x529)]=new _0x413343();[_0x20cdf8(0x2e3)]=new _0x72dc9d();get[_0x20cdf8(0x441)](){const _0x5f510e=_0x20cdf8;return this[_0x5f510e(0x529)][_0x5f510e(0x441)]+this[_0x5f510e(0x2e3)][_0x5f510e(0x441)];}['processReports'](_0x2e3a52){const _0xe8ecd8=_0x20cdf8;return _0x2e3a52[_0xe8ecd8(0x34b)](_0x2aa9d9=>{const _0x3ded4f=_0xe8ecd8;switch(_0x2aa9d9['kind']){case _0x3ded4f(0x529):this[_0x3ded4f(0x529)][_0x3ded4f(0x102)](_0x2aa9d9);break;case _0x3ded4f(0x2e3):this[_0x3ded4f(0x2e3)]['processReport'](_0x2aa9d9);}}),this[_0xe8ecd8(0x47b)]();}[_0x20cdf8(0x47b)](){const _0x218fc4=_0x20cdf8;return{'audio':this[_0x218fc4(0x529)]['getReport'](),'video':this[_0x218fc4(0x2e3)][_0x218fc4(0x47b)](),'roundTripTime':this[_0x218fc4(0x6ef)](),'AudioVideoDelay':this[_0x218fc4(0x83d)](),'bitrate':this['bitrate']};}[_0x20cdf8(0x6ef)](){const _0x1261c3=_0x20cdf8;return Math[_0x1261c3(0x47e)]((this[_0x1261c3(0x529)][_0x1261c3(0x6a5)]+this[_0x1261c3(0x2e3)]['roundTripTime'])/0x2);}[_0x20cdf8(0x83d)](){const _0x10cdd4=_0x20cdf8;return this[_0x10cdd4(0x529)]['estimatedPlayoutTimestamp']-this[_0x10cdd4(0x2e3)]['estimatedPlayoutTimestamp'];}}class _0x292967{[_0x20cdf8(0x8ea)]=0x0;[_0x20cdf8(0x5a9)]=0x0;[_0x20cdf8(0x2c4)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x20cdf8(0x7d3)]=0x0;['senderPreviousBytes']=0x0;[_0x20cdf8(0x749)]=0x0;[_0x20cdf8(0x6e9)]=0x0;[_0x20cdf8(0x2f9)]=0x0;[_0x20cdf8(0xb4)]=0x0;['senderTimeProcessing']=0x0;['receiverTimeProcessing']=0x0;[_0x20cdf8(0x6a5)]=0x0;get['bitrate'](){const _0x46aace=_0x20cdf8;return this[_0x46aace(0x3c3)]+this[_0x46aace(0x605)];}get[_0x20cdf8(0x3c3)](){const _0x476002=_0x20cdf8;return this[_0x476002(0x8ea)]>0x0&&this[_0x476002(0x5a9)]>0x0&&Date[_0x476002(0x76a)]()-this[_0x476002(0x8ea)]<_0xde278c?(this['senderCurrentBytes']-this[_0x476002(0x184)])/(this[_0x476002(0x8ea)]-this[_0x476002(0x5a9)])*0x8*0x3e8:0x0;}get[_0x20cdf8(0x605)](){const _0x46873f=_0x20cdf8;return this['receiverCurrentTimestamp']>0x0&&this[_0x46873f(0x5ed)]>0x0&&Date[_0x46873f(0x76a)]()-this[_0x46873f(0x2c4)]<_0xde278c?(this['receiverCurrentBytes']-this[_0x46873f(0x6e9)])/(this[_0x46873f(0x2c4)]-this[_0x46873f(0x5ed)])*0x8*0x3e8:0x0;}[_0x20cdf8(0x102)](_0x175c1){const _0x31b16b=_0x20cdf8;switch(_0x175c1['origin']){case _0x31e650[_0x31b16b(0x402)]:this['processSenderReport'](_0x175c1);break;case _0x31e650[_0x31b16b(0x2fa)]:this['processReceiverReport'](_0x175c1);}}[_0x20cdf8(0x47b)](){const _0x10acd1=_0x20cdf8;return{'bitrate':this[_0x10acd1(0x441)],'senderBitrate':this[_0x10acd1(0x3c3)],'receiverBitrate':this[_0x10acd1(0x605)],'totalBytes':this[_0x10acd1(0x604)](),'senderTotalBytes':this[_0x10acd1(0x598)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x10acd1(0x2f9)]+this[_0x10acd1(0xb4)],'senderTotalMessages':this[_0x10acd1(0x2f9)],'receiverTotalMessages':this[_0x10acd1(0xb4)],'timeProcessing':this[_0x10acd1(0x8f9)]+this[_0x10acd1(0x7ed)],'senderTimeProcessing':this[_0x10acd1(0x8f9)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x10acd1(0x6a5)]};}['getTotalBytes'](){const _0x4c4484=_0x20cdf8;return this[_0x4c4484(0x7d3)]+this['receiverCurrentBytes'];}[_0x20cdf8(0x598)](){const _0x44bdda=_0x20cdf8;return this[_0x44bdda(0x7d3)];}['getReceiverTotalBytes'](){return this['receiverCurrentBytes'];}[_0x20cdf8(0x23e)](_0x554581){const _0xb67116=_0x20cdf8;this[_0xb67116(0x40c)](_0x554581[_0xb67116(0x745)]),this[_0xb67116(0x73b)](_0x554581['bytesSent']),this[_0xb67116(0x2f9)]=_0x554581[_0xb67116(0x20e)],this['senderTimeProcessing']=_0x554581['timeSending'],this[_0xb67116(0x6a5)]=_0x554581[_0xb67116(0x6a5)];}['processReceiverReport'](_0xebbba4){const _0xdeda9a=_0x20cdf8;this['setReceiverTimestamp'](_0xebbba4[_0xdeda9a(0x745)]),this[_0xdeda9a(0x212)](_0xebbba4[_0xdeda9a(0x5a0)]),this[_0xdeda9a(0xb4)]=_0xebbba4['messagesReceived'],this[_0xdeda9a(0x7ed)]=_0xebbba4[_0xdeda9a(0x540)];}[_0x20cdf8(0x40c)](_0x41f134){const _0x3685cb=_0x20cdf8;_0x41f134>this['senderCurrentTimestamp']&&(this['senderPreviousTimestamp']=this[_0x3685cb(0x8ea)],this[_0x3685cb(0x8ea)]=_0x41f134);}[_0x20cdf8(0x1ad)](_0x1d209f){const _0x13b6d2=_0x20cdf8;_0x1d209f>this['receiverCurrentTimestamp']&&(this[_0x13b6d2(0x5ed)]=this[_0x13b6d2(0x2c4)],this[_0x13b6d2(0x2c4)]=_0x1d209f);}['setBytes'](_0x1f5311){const _0x5500b5=_0x20cdf8;this[_0x5500b5(0x184)]=this['senderCurrentBytes'],this[_0x5500b5(0x7d3)]=_0x1f5311;}[_0x20cdf8(0x212)](_0x504556){const _0x43dbf5=_0x20cdf8;this['receiverPreviousBytes']=this['receiverCurrentBytes'],this[_0x43dbf5(0x749)]=_0x504556;}}class _0x47627c{['senderStreams']=new Map();[_0x20cdf8(0x2af)]=new Map();[_0x20cdf8(0x1f6)]=new _0x292967();get[_0x20cdf8(0x3c3)](){const _0x3c9528=_0x20cdf8;let _0x742ba8=0x0;return this[_0x3c9528(0x48c)][_0x3c9528(0x34b)](_0x39624c=>{_0x742ba8+=_0x39624c['bitrate'];}),_0x742ba8+=this[_0x3c9528(0x1f6)][_0x3c9528(0x3c3)],_0x742ba8;}get[_0x20cdf8(0x605)](){const _0x1e7195=_0x20cdf8;let _0x2aa7c0=0x0;return this['receiverStreams']['forEach'](_0x466307=>{_0x2aa7c0+=_0x466307['bitrate'];}),_0x2aa7c0+=this[_0x1e7195(0x1f6)][_0x1e7195(0x605)],_0x2aa7c0;}get[_0x20cdf8(0x441)](){const _0x21d28b=_0x20cdf8;return this[_0x21d28b(0x3c3)]+this[_0x21d28b(0x605)];}[_0x20cdf8(0x443)](_0x53ede3,_0x19c2ee){const _0x33c222=_0x20cdf8,_0x3e7f0a=[],_0x38a295=[];return _0x53ede3 instanceof Array?_0x53ede3[_0x33c222(0x34b)](_0x11901e=>{const _0x65a23=_0x33c222;_0x11901e[_0x65a23(0x34b)](_0x3aaa56=>{const _0x581710=_0x65a23;_0x1b22a4[_0x581710(0x8cb)](_0x3aaa56[_0x581710(0x6f6)])&&_0x3e7f0a['push'](_0x3aaa56),_0x358bb6[_0x581710(0x8cb)](_0x3aaa56[_0x581710(0x6f6)])&&_0x38a295[_0x581710(0x82c)](_0x3aaa56);});}):this[_0x33c222(0x1f6)][_0x33c222(0x102)](_0x53ede3),_0x3e7f0a['length']>0x0&&_0x19c2ee?{...this['processInboundReports'](_0x19c2ee,_0x3e7f0a),'origin':_0x31e650[_0x33c222(0x2fa)],'streamId':_0x19c2ee}:_0x38a295[_0x33c222(0x51a)]>0x0&&_0x19c2ee?{...this['processOutboundReports'](_0x19c2ee,_0x38a295),'origin':_0x31e650[_0x33c222(0x402)],'streamId':_0x19c2ee}:void 0x0;}[_0x20cdf8(0x47b)](){const _0x2b1279=_0x20cdf8,_0x5c385a={};this['senderStreams'][_0x2b1279(0x34b)]((_0x61e8ca,_0x37976a)=>{const _0x3c000d=_0x2b1279;_0x5c385a[_0x37976a]=_0x61e8ca[_0x3c000d(0x47b)]();});const _0x1b5743={};return this[_0x2b1279(0x2af)][_0x2b1279(0x34b)]((_0x5e9a99,_0x4d5102)=>{_0x1b5743[_0x4d5102]=_0x5e9a99['getReport']();}),{'bitrate':this[_0x2b1279(0x441)],'senderBitrate':this[_0x2b1279(0x3c3)],'receiverBitrate':this[_0x2b1279(0x605)],'senderStreams':_0x5c385a,'receiverStreams':_0x1b5743,'dataChannel':this[_0x2b1279(0x1f6)][_0x2b1279(0x47b)]()};}[_0x20cdf8(0x131)](_0x2ecf80,_0x24552b){const _0x3121c3=_0x20cdf8;return this[_0x3121c3(0x2af)]['has'](_0x2ecf80)||this[_0x3121c3(0x2af)][_0x3121c3(0xaf)](_0x2ecf80,new _0x1a2331()),this[_0x3121c3(0x2af)][_0x3121c3(0x333)](_0x2ecf80)[_0x3121c3(0x443)](_0x24552b);}[_0x20cdf8(0x617)](_0x20046a,_0x42294a){const _0x3d66ed=_0x20cdf8;return this[_0x3d66ed(0x48c)][_0x3d66ed(0x6f2)](_0x20046a)||this[_0x3d66ed(0x48c)]['set'](_0x20046a,new _0x1a2331()),this['senderStreams'][_0x3d66ed(0x333)](_0x20046a)[_0x3d66ed(0x443)](_0x42294a);}}class _0x150767{[_0x20cdf8(0x203)]=new Map();[_0x20cdf8(0x654)]=0x0;[_0x20cdf8(0x42a)]=0x0;[_0x20cdf8(0x68b)]=new Map();[_0x20cdf8(0x197)]=new Map();[_0x20cdf8(0x185)]=new Map();[_0x20cdf8(0x2d1)]=new Map();[_0x20cdf8(0x285)]=new Map();[_0x20cdf8(0x2f2)]=new Map();['graphDatabases']=new Map();[_0x20cdf8(0x244)]=new Map();['senderTotalMessages']=new Map();['receiverTotalMessages']=new Map();[_0x20cdf8(0x8f9)]=new Map();['receiverTimeProcessing']=new Map();[_0x20cdf8(0x8b6)]=new Map();[_0x20cdf8(0x361)];[_0x20cdf8(0x47b)](){const _0x129e3a=_0x20cdf8,_0x2107a7={};this[_0x129e3a(0x203)][_0x129e3a(0x34b)]((_0x4465d8,_0x23e1e8)=>{_0x2107a7[_0x23e1e8]=_0x4465d8['getReport']();});let _0x51cd3f=0x0;this[_0x129e3a(0x8f9)]['forEach'](_0x155154=>{_0x51cd3f+=_0x155154;});let _0x440449=0x0;this[_0x129e3a(0x7ed)][_0x129e3a(0x34b)](_0x374dc4=>{_0x440449+=_0x374dc4;});const _0x527f2a=_0x51cd3f+_0x440449;let _0x43e6f6={'messages':{'total':0x0}};this['systemMessages'][_0x129e3a(0x34b)](_0x29cffc=>{const _0x4d6843=_0x129e3a;Object[_0x4d6843(0x653)](_0x29cffc)[_0x4d6843(0x34b)](_0xd33c61=>{const _0x33cbd1=_0x4d6843;_0x43e6f6[_0xd33c61]||(_0x43e6f6[_0xd33c61]={}),Object[_0x33cbd1(0x653)](_0x29cffc[_0xd33c61])['forEach'](_0x3fbd1f=>{_0x43e6f6[_0xd33c61][_0x3fbd1f]||(_0x43e6f6[_0xd33c61][_0x3fbd1f]=0x0),_0x43e6f6[_0xd33c61][_0x3fbd1f]+=_0x29cffc[_0xd33c61][_0x3fbd1f];});});});let _0x34ff7a=0x0,_0x3258db=0x0,_0x18e895=0x0,_0x3eba98=0x0,_0x1c237a=0x0;return this[_0x129e3a(0x68b)][_0x129e3a(0x34b)](_0x122c2a=>{const _0x251ccd=_0x129e3a;_0x3258db+=_0x122c2a[_0x251ccd(0x20e)],_0x18e895+=_0x122c2a[_0x251ccd(0x22c)],_0x3eba98+=_0x122c2a[_0x251ccd(0x25b)],_0x1c237a+=_0x122c2a[_0x251ccd(0x5a0)];}),this[_0x129e3a(0x197)][_0x129e3a(0x34b)](_0x3be18e=>{const _0x6a85ac=_0x129e3a;_0x34ff7a+=_0x3be18e[_0x6a85ac(0x52b)],_0x3258db+=_0x3be18e[_0x6a85ac(0x20e)],_0x18e895+=_0x3be18e[_0x6a85ac(0x22c)],_0x3eba98+=_0x3be18e[_0x6a85ac(0x25b)],_0x1c237a+=_0x3be18e[_0x6a85ac(0x5a0)];}),this['keyValueDatabases'][_0x129e3a(0x34b)](_0x22ee58=>{const _0x4bd8cc=_0x129e3a;_0x34ff7a+=_0x22ee58[_0x4bd8cc(0x52b)],_0x3258db+=_0x22ee58['messagesSent'],_0x18e895+=_0x22ee58[_0x4bd8cc(0x22c)],_0x3eba98+=_0x22ee58[_0x4bd8cc(0x25b)],_0x1c237a+=_0x22ee58['bytesReceived'];}),this[_0x129e3a(0x2d1)][_0x129e3a(0x34b)](_0x20ec0d=>{const _0x685ee=_0x129e3a;_0x34ff7a+=_0x20ec0d['storage'],_0x3258db+=_0x20ec0d['messagesSent'],_0x18e895+=_0x20ec0d[_0x685ee(0x22c)],_0x3eba98+=_0x20ec0d['bytesSent'],_0x1c237a+=_0x20ec0d['bytesReceived'];}),this[_0x129e3a(0x285)]['forEach'](_0x1ad1da=>{const _0x1541a7=_0x129e3a;_0x34ff7a+=_0x1ad1da[_0x1541a7(0x52b)],_0x3258db+=_0x1ad1da[_0x1541a7(0x20e)],_0x18e895+=_0x1ad1da[_0x1541a7(0x22c)],_0x3eba98+=_0x1ad1da[_0x1541a7(0x25b)],_0x1c237a+=_0x1ad1da['bytesReceived'];}),this[_0x129e3a(0x2f2)][_0x129e3a(0x34b)](_0x366653=>{const _0x1f5206=_0x129e3a;_0x34ff7a+=_0x366653[_0x1f5206(0x52b)],_0x3258db+=_0x366653[_0x1f5206(0x20e)],_0x18e895+=_0x366653[_0x1f5206(0x22c)],_0x3eba98+=_0x366653[_0x1f5206(0x25b)],_0x1c237a+=_0x366653[_0x1f5206(0x5a0)];}),this['graphDatabases']['forEach'](_0x2cbe31=>{const _0x35a33c=_0x129e3a;_0x34ff7a+=_0x2cbe31[_0x35a33c(0x52b)],_0x3258db+=_0x2cbe31[_0x35a33c(0x20e)],_0x18e895+=_0x2cbe31[_0x35a33c(0x22c)],_0x3eba98+=_0x2cbe31['bytesSent'],_0x1c237a+=_0x2cbe31[_0x35a33c(0x5a0)];}),{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x129e3a(0x5ab)](),'bitrate':this['getBitrate'](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x129e3a(0x8a2)](),'totalStorageSize':_0x34ff7a,'totalMessages':_0x3258db+_0x18e895,'totalMessagesSent':_0x3258db,'totalMessagesReceived':_0x18e895,'totalBytes':_0x3eba98+_0x1c237a,'totalBytesSent':_0x3eba98,'totalBytesReceived':_0x1c237a,'systemMessages':_0x43e6f6,'timeProcessing':_0x527f2a,'nodes':_0x2107a7,'pubsubTopics':Object['fromEntries'](this[_0x129e3a(0x68b)]),'objectStores':Object['fromEntries'](this['objectStores']),'keyValueDatabases':Object[_0x129e3a(0xbd)](this['keyValueDatabases']),'generativeAIContexts':Object[_0x129e3a(0xbd)](this[_0x129e3a(0x2d1)]),'generativeAIWorkers':Object[_0x129e3a(0xbd)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x129e3a(0xbd)](this[_0x129e3a(0x2f2)]),'graphDatabases':Object[_0x129e3a(0xbd)](this['graphDatabases']),'externalStorages':Object['fromEntries'](this['externalStorages'])};}[_0x20cdf8(0x5f9)](_0xd3c410){const _0x420c68=_0x20cdf8;this[_0x420c68(0x203)][_0x420c68(0xaf)](_0xd3c410,new _0x47627c());}[_0x20cdf8(0x325)](_0x36cfd7){const _0x2d34ed=_0x20cdf8;this[_0x2d34ed(0x203)][_0x2d34ed(0x268)](_0x36cfd7);}['processReports'](_0xe5a358,_0x4c55ea,_0x4ac1b1){const _0x450210=_0x20cdf8;_0x4c55ea instanceof Array||this[_0x450210(0x428)](_0xe5a358,_0x4c55ea);const _0x1d0d01=this[_0x450210(0x203)][_0x450210(0x333)](_0xe5a358)?.[_0x450210(0x443)](_0x4c55ea,_0x4ac1b1);_0x1d0d01&&this[_0x450210(0x361)]['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x450210(0x8a0)],'content':{'type':_0x1409b2[_0x450210(0x417)],'data':{..._0x1d0d01,'nodeId':_0xe5a358}}});}[_0x20cdf8(0x1c8)](_0x5abc2c){const _0x27beed=_0x20cdf8;this[_0x27beed(0x705)](_0x5abc2c[_0x27beed(0x6af)]),this[_0x27beed(0x4f8)](_0x5abc2c[_0x27beed(0x42a)]),this[_0x27beed(0x361)]['publish']({'sourceId':_0x34aa90,'messageType':_0x213fd0[_0x27beed(0x8a0)],'content':{'type':_0x1409b2[_0x27beed(0x765)],'data':{'STVolatility':this[_0x27beed(0x802)](),'DTVolatility':this['getDTVolatility']()}}});}[_0x20cdf8(0x6e6)](_0x14abdb,_0x4c96d6,_0xa265ce){const _0x53793f=_0x20cdf8;switch(_0x4c96d6){case _0x277618[_0x53793f(0x616)]:this[_0x53793f(0x68b)][_0x53793f(0xaf)](_0x14abdb,_0xa265ce);break;case _0x277618[_0x53793f(0x115)]:this[_0x53793f(0x197)]['set'](_0x14abdb,_0xa265ce);break;case _0x277618[_0x53793f(0xeb)]:this[_0x53793f(0x185)][_0x53793f(0xaf)](_0x14abdb,_0xa265ce);break;case _0x277618['GenerativeAIContextStats']:this[_0x53793f(0x2d1)][_0x53793f(0xaf)](_0x14abdb,_0xa265ce);break;case _0x277618[_0x53793f(0x608)]:this['generativeAIWorkers'][_0x53793f(0xaf)](_0x14abdb,_0xa265ce);break;case _0x277618[_0x53793f(0x8f2)]:this[_0x53793f(0x2f2)][_0x53793f(0xaf)](_0x14abdb,_0xa265ce);break;case _0x277618['GraphDatabaseStats']:this[_0x53793f(0x50a)][_0x53793f(0xaf)](_0x14abdb,_0xa265ce);break;case _0x277618[_0x53793f(0x31e)]:this[_0x53793f(0x244)][_0x53793f(0xaf)](_0x14abdb,_0xa265ce);}}['registerSystemPublisher'](_0x381b0d){const _0x38ef66=_0x20cdf8;this[_0x38ef66(0x361)]=_0x381b0d;}[_0x20cdf8(0x5b7)](){delete this['systemTopic'];}['getSTVolatility'](){const _0x5b8257=_0x20cdf8;return this[_0x5b8257(0x654)]>0x0&&this[_0x5b8257(0x654)]-_0xa63c91>0x0?(this[_0x5b8257(0x654)]-_0xa63c91)/_0xa63c91:0x0;}[_0x20cdf8(0x5ab)](){const _0xcc5b66=_0x20cdf8;return this['durationTime']>0x0&&this[_0xcc5b66(0x42a)]-0x64>0x0?(this[_0xcc5b66(0x42a)]-0x64)/0x64:0x0;}[_0x20cdf8(0x1ae)](){const _0x2d866a=_0x20cdf8;let _0x531475=0x0;return this['nodes'][_0x2d866a(0x34b)](_0x20ee53=>{const _0x23c019=_0x2d866a;_0x531475+=_0x20ee53[_0x23c019(0x3c3)];}),_0x531475;}[_0x20cdf8(0x8a2)](){const _0x3daa15=_0x20cdf8;let _0x1bcf3d=0x0;return this[_0x3daa15(0x203)][_0x3daa15(0x34b)](_0x33297a=>{const _0x215a42=_0x3daa15;_0x1bcf3d+=_0x33297a[_0x215a42(0x605)];}),_0x1bcf3d;}[_0x20cdf8(0x19e)](){const _0xbd7980=_0x20cdf8;let _0x3c82fd=0x0;return this[_0xbd7980(0x203)][_0xbd7980(0x34b)](_0x816796=>{_0x3c82fd+=_0x816796['bitrate'];}),_0x3c82fd;}[_0x20cdf8(0x705)](_0x361095){const _0x2a5f25=_0x20cdf8;this[_0x2a5f25(0x654)]=_0x361095;}['setDurationTime'](_0x16cfff){const _0x1145c9=_0x20cdf8;this[_0x1145c9(0x42a)]=_0x16cfff;}[_0x20cdf8(0x428)](_0x3c8ed,_0x24d01c){const _0x25a659=_0x20cdf8;switch(_0x24d01c[_0x25a659(0x225)]){case _0x31e650[_0x25a659(0x402)]:this[_0x25a659(0x23e)](_0x3c8ed,_0x24d01c);break;case _0x31e650[_0x25a659(0x2fa)]:this['processReceiverReport'](_0x3c8ed,_0x24d01c);}}[_0x20cdf8(0x23e)](_0x7e61bd,_0x4ba97c){const _0x3d9347=_0x20cdf8;this[_0x3d9347(0x2f9)][_0x3d9347(0xaf)](_0x7e61bd,_0x4ba97c[_0x3d9347(0x20e)]),this[_0x3d9347(0x8f9)][_0x3d9347(0xaf)](_0x7e61bd,_0x4ba97c[_0x3d9347(0x7fb)]);}[_0x20cdf8(0x737)](_0x311cc3,_0x1e874c){const _0x9dce0d=_0x20cdf8;this[_0x9dce0d(0xb4)][_0x9dce0d(0xaf)](_0x311cc3,_0x1e874c['messagesReceived']),this['receiverTimeProcessing'][_0x9dce0d(0xaf)](_0x311cc3,_0x1e874c[_0x9dce0d(0x540)]),this[_0x9dce0d(0x8b6)][_0x9dce0d(0xaf)](_0x311cc3,_0x1e874c['systemMessages']);}}class _0x5f51e3{[_0x20cdf8(0x252)];['remoteNodes']=new Set();[_0x20cdf8(0x130)];['statsCollection'];[_0x20cdf8(0xe1)];[_0x20cdf8(0x332)]=new _0x150767();constructor(_0x3cbdcc){const _0x7f6eea=_0x20cdf8;this['configs']=_0x3cbdcc,this[_0x7f6eea(0x252)][_0x7f6eea(0x4ea)][_0x7f6eea(0x67e)](this[_0x7f6eea(0x332)]),this['statsCollection']=this['setupStatsCollection'](),this[_0x7f6eea(0xe1)]=this[_0x7f6eea(0x1dd)]();}[_0x20cdf8(0x671)](){const _0x420cc1=_0x20cdf8;this[_0x420cc1(0x252)][_0x420cc1(0x4ea)][_0x420cc1(0x174)](this[_0x420cc1(0x332)]),this[_0x420cc1(0xe1)](),this[_0x420cc1(0x679)]();}[_0x20cdf8(0x5f9)](_0x594272){const _0x1e3bd5=_0x20cdf8;this[_0x1e3bd5(0x382)]['add'](_0x594272),this[_0x1e3bd5(0x332)]['addRemoteNode'](_0x594272);}[_0x20cdf8(0x325)](_0x2b9b4b){const _0x145776=_0x20cdf8;this[_0x145776(0x382)][_0x145776(0x268)](_0x2b9b4b),this[_0x145776(0x332)][_0x145776(0x325)](_0x2b9b4b);}[_0x20cdf8(0x38c)](_0x333134){const _0x56d153=_0x20cdf8;if(_0x333134['content']['type']===_0x320761[_0x56d153(0x8a0)]){const {nodeId:_0x2beea4,streamId:_0x4db889,stats:_0x4eafee}=_0x333134[_0x56d153(0x843)];this['statsReport'][_0x56d153(0x443)](_0x2beea4,_0x4eafee,_0x4db889);}}['handleContentSystemEvents'](_0x169983){const _0xb1693e=_0x20cdf8;switch(_0x169983[_0xb1693e(0x843)][_0xb1693e(0x6f6)]){case _0x277618[_0xb1693e(0x115)]:case _0x277618[_0xb1693e(0xeb)]:case _0x277618[_0xb1693e(0x616)]:case _0x277618[_0xb1693e(0x3df)]:case _0x277618[_0xb1693e(0x608)]:case _0x277618[_0xb1693e(0x8f2)]:case _0x277618[_0xb1693e(0x6d8)]:case _0x277618[_0xb1693e(0x31e)]:this[_0xb1693e(0x332)][_0xb1693e(0x6e6)](_0x169983[_0xb1693e(0x843)][_0xb1693e(0x59f)],_0x169983[_0xb1693e(0x843)][_0xb1693e(0x6f6)],_0x169983['content'][_0xb1693e(0x5e9)]);}}['setupStatsReporting'](){return _0x4b9656['setInterval'](()=>{const _0x4c6ff5=a0_0x2e24,_0x71f562=this[_0x4c6ff5(0x332)][_0x4c6ff5(0x47b)]();_0x585abf[_0x4c6ff5(0x447)](_0x324ffe['Stats'],'Stats:\x20report',_0x71f562),(0x0,_0x2b2463[_0x4c6ff5(0x397)])((0x0,_0x2b2463[_0x4c6ff5(0x27e)])(_0x2c07f4[_0x4c6ff5(0x124)](),_0x4c6ff5(0x602)+this[_0x4c6ff5(0x252)]['vendorId']+'/stats'),{'clusterId':this[_0x4c6ff5(0x252)]['clusterId'],'nodeId':this['configs'][_0x4c6ff5(0x21a)][_0x4c6ff5(0x66e)](),'nodeType':this['configs'][_0x4c6ff5(0x21a)][_0x4c6ff5(0x6f6)],'timestamp':(0x0,_0x2b2463[_0x4c6ff5(0x884)])(),'report':_0x71f562}),_0x585abf[_0x4c6ff5(0x263)](_0x4c6ff5(0x5e9),{'clusterId':this[_0x4c6ff5(0x252)]['clusterId'],'nodeId':this[_0x4c6ff5(0x252)]['localNode'][_0x4c6ff5(0x66e)](),'nodeType':this[_0x4c6ff5(0x252)]['localNode'][_0x4c6ff5(0x6f6)],'data':{'report':_0x71f562}});},_0xde278c);}[_0x20cdf8(0x4ef)](){const _0x5d7bac=_0x20cdf8;let _0x311dc5=!0x1,_0xfc531d=Date[_0x5d7bac(0x76a)]();return _0x4b9656['setInterval'](async()=>{const _0x1580fd=_0x5d7bac;if(_0x311dc5)return;if(_0x311dc5=!0x0,0x0===this[_0x1580fd(0x382)]['size'])return delete this[_0x1580fd(0x130)],void(_0x311dc5=!0x1);const _0x48d57c=Date[_0x1580fd(0x76a)]();this[_0x1580fd(0x193)]();try{await this[_0x1580fd(0x252)]['mediator'][_0x1580fd(0x35a)](this[_0x1580fd(0x130)]);}catch(_0x14bf3e){}this[_0x1580fd(0x332)]['processLocalReport']({'secheduleTime':_0x48d57c-_0xfc531d,'durationTime':Date[_0x1580fd(0x76a)]()-_0x48d57c}),_0xfc531d=_0x48d57c,_0x311dc5=!0x1;},_0xa63c91);}[_0x20cdf8(0x193)](){const _0x4ffbb9=_0x20cdf8;let _0x17a553,_0x58fa30=!0x1;this[_0x4ffbb9(0x130)]&&(this[_0x4ffbb9(0x382)][_0x4ffbb9(0x6f2)](this['nextNodeId'])||delete this[_0x4ffbb9(0x130)]);for(const _0x36c7f9 of this[_0x4ffbb9(0x382)])if(_0x17a553||(_0x17a553=_0x36c7f9),this[_0x4ffbb9(0x130)]!==_0x36c7f9){if(_0x58fa30)return void(this[_0x4ffbb9(0x130)]=_0x36c7f9);}else _0x58fa30=!0x0,delete this[_0x4ffbb9(0x130)];this[_0x4ffbb9(0x130)]||(this[_0x4ffbb9(0x130)]=_0x17a553);}}class _0x51a7b1{[_0x20cdf8(0x31a)];[_0x20cdf8(0x164)];[_0x20cdf8(0x361)];constructor(_0xc349d9,_0x3cae7a){const _0x3ec624=_0x20cdf8;this['source']=_0xc349d9,this[_0x3ec624(0x164)]=_0x3cae7a;}[_0x20cdf8(0x47a)](_0x16187a){const _0x3cf0d5=_0x20cdf8;this[_0x3cf0d5(0x361)]=_0x16187a;}[_0x20cdf8(0x5b7)](){const _0x11dd3c=_0x20cdf8;delete this[_0x11dd3c(0x361)];}}class _0x463724 extends _0x51a7b1{['source'];['destination'];[_0x20cdf8(0x74e)];constructor(_0x157919,_0x493ef2,_0x300445){const _0x114d16=_0x20cdf8;super(_0x157919,_0x493ef2),this[_0x114d16(0x31a)]=_0x157919,this['destination']=_0x493ef2,this['params']=_0x300445;}[_0x20cdf8(0x3cb)](_0x3c263a,_0x51d57a,_0xae087f){const _0x255506=_0x20cdf8;if(this[_0x255506(0x164)][_0x255506(0x7e9)]()===_0x3b754d[_0x255506(0x4e6)][_0x255506(0x113)]){const _0x491dde={'type':_0x2a8a6d[_0x255506(0x7de)],'label':this[_0x255506(0x164)][_0x255506(0x353)](),'ownerId':_0x3c263a,'trackKinds':_0x51d57a??this[_0x255506(0x164)][_0x255506(0x739)](),'params':_0xae087f};this[_0x255506(0x361)][_0x255506(0x1ed)]({'sourceId':this[_0x255506(0x31a)][_0x255506(0x5db)](),'destinationIds':[this[_0x255506(0x31a)][_0x255506(0x7e3)]()],'messageType':_0x213fd0[_0x255506(0x624)],'content':_0x491dde}),this[_0x255506(0x74e)]=_0xae087f;}}[_0x20cdf8(0x371)](_0x218afd,_0x377ed4){const _0x4b7f64=_0x20cdf8;if(this['destination'][_0x4b7f64(0x7e9)]()===_0x3b754d[_0x4b7f64(0x4e6)][_0x4b7f64(0x113)]){const _0xdfb75e={'type':_0x2a8a6d['UpdateMediaStream'],'label':this[_0x4b7f64(0x164)]['getLabel'](),'ownerId':_0x218afd,'params':_0x377ed4};this[_0x4b7f64(0x361)][_0x4b7f64(0x1ed)]({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0x4b7f64(0x31a)][_0x4b7f64(0x7e3)]()],'messageType':_0x213fd0[_0x4b7f64(0x624)],'content':_0xdfb75e}),this[_0x4b7f64(0x74e)]=_0x377ed4;}}[_0x20cdf8(0x579)](_0x25b1f2,_0x3d7684,_0xe364ef){const _0x40556e=_0x20cdf8;if(this[_0x40556e(0x164)][_0x40556e(0x7e9)]()===_0x3b754d[_0x40556e(0x4e6)][_0x40556e(0x113)]){const _0x97564a={'type':_0x2a8a6d[_0x40556e(0x437)],'label':this[_0x40556e(0x164)][_0x40556e(0x353)](),'ownerId':_0x25b1f2,'trackKinds':_0xe364ef??this[_0x40556e(0x164)][_0x40556e(0x739)](),'remainingTracks':_0x3d7684};this['systemTopic'][_0x40556e(0x1ed)]({'sourceId':this[_0x40556e(0x31a)][_0x40556e(0x5db)](),'destinationIds':[this[_0x40556e(0x31a)][_0x40556e(0x7e3)]()],'messageType':_0x213fd0['Subscription'],'content':_0x97564a});}}}class _0x32c278{[_0x20cdf8(0x8c9)];[_0x20cdf8(0x46e)];['tracks'];[_0x20cdf8(0x361)];[_0x20cdf8(0x6b2)]=new Set();['startTime']=Date[_0x20cdf8(0x76a)]();['params'];['retryCount']=0x0;constructor(_0x657c02,_0x171c20,_0x525a17,_0x453c6a){const _0xe0e553=_0x20cdf8;this[_0xe0e553(0x8c9)]=_0x171c20,this[_0xe0e553(0x46e)]=_0x525a17,this[_0xe0e553(0x5b3)]=_0x453c6a,_0x657c02[_0xe0e553(0x34b)](_0x1721cc=>{const _0x5a6a90=_0xe0e553;this[_0x5a6a90(0x6b2)]['add']({'nodeId':_0x1721cc,'type':_0x393fac[_0x5a6a90(0x24f)]});});}[_0x20cdf8(0x8d7)](){const _0x409220=_0x20cdf8;return this[_0x409220(0x5b3)];}['registerSystemPublisher'](_0x13bd8d){const _0x9e4100=_0x20cdf8;this[_0x9e4100(0x361)]=_0x13bd8d;}[_0x20cdf8(0x5b7)](){delete this['systemTopic'];}['reset'](_0x54a394,_0x4b1a2b){const _0x187ebb=_0x20cdf8;this['startTime']=Date[_0x187ebb(0x76a)](),this[_0x187ebb(0x6b2)]['clear'](),_0x54a394[_0x187ebb(0x34b)](_0x39b07f=>{const _0x27ee6f=_0x187ebb;this[_0x27ee6f(0x6b2)][_0x27ee6f(0x43e)]({'nodeId':_0x39b07f,'type':_0x393fac['Waiting']});}),this['retryCount']+=0x1,this[_0x187ebb(0x8c9)]=_0x4b1a2b;}['sendRequest'](_0x5449e5,_0x355c59,_0x416a10,_0x2b018a,_0x4c2478){const _0x597512=_0x20cdf8;if(this[_0x597512(0x305)]>0xa)throw new _0x5a569f(_0x5a569f[_0x597512(0x4e8)][_0x597512(0x31b)],{'answers':Array['from'](this[_0x597512(0x6b2)])[_0x597512(0x7ea)](_0x1bf8f8=>({'nodeId':_0x1bf8f8[_0x597512(0x56f)],'type':_0x1bf8f8[_0x597512(0x6f6)]}))});const _0x46b8f=Array[_0x597512(0x473)](this[_0x597512(0x6b2)])[_0x597512(0x7ea)](_0x13ed26=>_0x13ed26[_0x597512(0x56f)]);this[_0x597512(0x74e)]=_0x4c2478,this[_0x597512(0x361)][_0x597512(0x1ed)]({'sourceId':_0x5449e5,'destinationIds':_0x46b8f,'messageType':_0x213fd0['Subscription'],'content':{'type':_0x2a8a6d['NeedMediaStream'],'label':_0x416a10,'ownerId':_0x355c59,'trackKinds':_0x2b018a,'params':_0x4c2478}}),_0x585abf[_0x597512(0x447)](_0x324ffe[_0x597512(0x624)],_0x597512(0x7e2),_0x5449e5,_0x46b8f);}[_0x20cdf8(0x590)](_0x162851,_0x3e22e8){const _0x2cbccd=_0x20cdf8;switch(_0x3e22e8[_0x2cbccd(0x6f6)]){case _0x2a8a6d[_0x2cbccd(0x7c4)]:{const _0x226d1c=this['currentDistance']>=_0x3e22e8[_0x2cbccd(0x523)]&&_0x3e22e8[_0x2cbccd(0x523)]<=this[_0x2cbccd(0x46e)],_0x56a1b1=Array['from'](this[_0x2cbccd(0x6b2)])[_0x2cbccd(0x819)](_0x35c125=>_0x35c125['nodeId']===_0x162851);_0x56a1b1[_0x2cbccd(0x6f6)]=_0x226d1c?_0x393fac[_0x2cbccd(0x30a)]:_0x393fac[_0x2cbccd(0x45e)],_0x56a1b1[_0x2cbccd(0x431)]=_0x3e22e8[_0x2cbccd(0x431)],_0x56a1b1['distance']=_0x3e22e8[_0x2cbccd(0x523)],_0x56a1b1['streamId']=_0x3e22e8[_0x2cbccd(0x744)],_0x56a1b1[_0x2cbccd(0x6a5)]=Date[_0x2cbccd(0x76a)]()-this[_0x2cbccd(0x5ea)],_0x56a1b1[_0x2cbccd(0x74e)]=this['params'],_0x56a1b1[_0x2cbccd(0x37e)]=_0x3e22e8['ownerId'],_0x56a1b1[_0x2cbccd(0x891)]=_0x3e22e8[_0x2cbccd(0x891)],_0x56a1b1[_0x2cbccd(0x5ac)]=_0x3e22e8[_0x2cbccd(0x59f)],_0x585abf[_0x2cbccd(0x447)](_0x324ffe['Subscription'],(_0x226d1c?_0x2cbccd(0x30a):_0x2cbccd(0x45e))+'\x20answer',_0x56a1b1);break;}case _0x2a8a6d[_0x2cbccd(0x237)]:{const _0x4dbca2=Array[_0x2cbccd(0x473)](this[_0x2cbccd(0x6b2)])[_0x2cbccd(0x819)](_0x15f2e9=>_0x15f2e9[_0x2cbccd(0x56f)]===_0x162851);_0x4dbca2[_0x2cbccd(0x6f6)]=_0x393fac[_0x2cbccd(0x45e)],_0x585abf[_0x2cbccd(0x447)](_0x324ffe[_0x2cbccd(0x624)],_0x2cbccd(0x5d0),_0x4dbca2);break;}}if(this['canChooseAnswer']())return this['chooseAnswer']();}['chooseAnswer'](){const _0x48caef=_0x20cdf8,_0x376301=Array[_0x48caef(0x473)](this[_0x48caef(0x6b2)])['filter'](_0x52b04d=>_0x52b04d[_0x48caef(0x6f6)]===_0x393fac[_0x48caef(0x30a)])['sort']((_0x2c0ad9,_0x3d0718)=>_0x2c0ad9[_0x48caef(0x431)]===_0x3d0718[_0x48caef(0x431)]?_0x2c0ad9[_0x48caef(0x6a5)]-_0x3d0718[_0x48caef(0x6a5)]:_0x2c0ad9['cost']-_0x3d0718[_0x48caef(0x431)]);if(0x0===_0x376301[_0x48caef(0x51a)])throw new _0x5a569f(_0x5a569f[_0x48caef(0x4e8)][_0x48caef(0x31b)],{'answers':Array['from'](this['answers'])[_0x48caef(0x7ea)](_0x8a8709=>({'nodeId':_0x8a8709[_0x48caef(0x56f)],'type':_0x8a8709[_0x48caef(0x6f6)]}))});return _0x585abf[_0x48caef(0x447)](_0x324ffe[_0x48caef(0x624)],_0x48caef(0x514),_0x376301[0x0],this[_0x48caef(0x6b2)]),_0x376301[0x0];}[_0x20cdf8(0x2fd)](){const _0xbc5f9=_0x20cdf8;for(const _0x3e5383 of this[_0xbc5f9(0x6b2)])if(_0x3e5383[_0xbc5f9(0x6f6)]===_0x393fac['Waiting'])return!0x1;return!0x0;}}class _0x330984{['label'];[_0x20cdf8(0x3d9)];[_0x20cdf8(0x34d)]=_0x53e3a2();constructor(_0x4422a3,_0x1f44f1){const _0x5b66db=_0x20cdf8;this[_0x5b66db(0x59f)]=_0x4422a3,this[_0x5b66db(0x3d9)]=_0x1f44f1;}['getLabel'](){const _0x2b97cf=_0x20cdf8;return this[_0x2b97cf(0x59f)];}[_0x20cdf8(0x7e9)](){const _0x2b12f8=_0x20cdf8;return this[_0x2b12f8(0x3d9)];}[_0x20cdf8(0x188)](_0x499b56){const _0x30a702=_0x20cdf8;_0x499b56[_0x30a702(0xe4)](this);}[_0x20cdf8(0x217)](_0x1dee05){const _0x3287cf=_0x20cdf8;_0x1dee05[_0x3287cf(0x168)](this);}[_0x20cdf8(0x1ed)](_0x68d220){const _0x3582d3=_0x20cdf8;this[_0x3582d3(0x34d)][_0x3582d3(0x1ed)]({'topicLabel':this[_0x3582d3(0x59f)],'contentType':this[_0x3582d3(0x3d9)],'uuid':(0x0,_0x3ee2fb['v4'])(),'recipients':[],..._0x68d220});}[_0x20cdf8(0x3cb)](_0x451b73){const _0x24f02e=_0x20cdf8;return this['listener'][_0x24f02e(0x3cb)](_0x451b73);}['unregisterSource'](_0x5ed4f1){const _0x37b66=_0x20cdf8;_0x5ed4f1[_0x37b66(0x4e0)](this);}[_0x20cdf8(0x395)](_0x5a79c1){const _0x2240d3=_0x20cdf8;_0x5a79c1[_0x2240d3(0x4ce)](this);}}class _0x4560c3{[_0x20cdf8(0x282)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x193708){const _0x5c0363=_0x20cdf8;this[_0x5c0363(0x1c5)]=_0x193708;}get['subscriptions'](){const _0x4b52e0=_0x20cdf8;return this[_0x4b52e0(0x282)]['subscriptions'];}get[_0x20cdf8(0x6ab)](){const _0x50df97=_0x20cdf8;return this[_0x50df97(0x282)][_0x50df97(0x6ab)];}[_0x20cdf8(0x187)](_0x4edb23,_0x4bf1fc){const _0x53b3e7=_0x20cdf8,_0x3e095f=this[_0x53b3e7(0x1c5)](_0x4bf1fc),_0x4463f9=_0x159f09(_0x4edb23);if(!_0x3e095f[_0x53b3e7(0x89d)])throw new _0x5a569f(_0x5a569f[_0x53b3e7(0x4e8)]['InvalidSubscription'],{'message':_0x4463f9+':\x20'+_0x3e095f[_0x53b3e7(0x566)]+_0x53b3e7(0x27b)+_0x3e095f[_0x53b3e7(0x3d9)],'subscriptionType':_0x4edb23,'subscription':_0x4bf1fc,'subscriptonParts':_0x3e095f});const _0x3246ce=_0x56b1fb(_0x4edb23,_0x3e095f);if(this[_0x53b3e7(0x282)][_0x53b3e7(0x147)][_0x53b3e7(0x6f2)](_0x3246ce))throw new _0x5a569f(_0x5a569f['codes']['InvalidSubscription'],{'message':_0x4463f9+':\x20'+_0x3246ce+_0x53b3e7(0x404),'subscriptionType':_0x4edb23,'subscription':_0x4bf1fc,'subscriptonParts':_0x3e095f});this[_0x53b3e7(0x282)][_0x53b3e7(0x147)][_0x53b3e7(0xaf)](_0x3246ce,_0x4bf1fc),this['createTopic'](_0x3e095f,_0x4bf1fc);}[_0x20cdf8(0x7ce)](_0x568a26,_0x245274){const _0x58f9ab=_0x20cdf8,_0x4d68f5=_0x56b1fb(_0x245274,_0x568a26),_0x2ec0be=this[_0x58f9ab(0x282)][_0x58f9ab(0x147)][_0x58f9ab(0x333)](_0x4d68f5);if(!_0x2ec0be)throw new _0x5a569f(_0x5a569f[_0x58f9ab(0x4e8)][_0x58f9ab(0x8a1)],{'message':_0x159f09(_0x245274)+':\x20'+_0x4d68f5+_0x58f9ab(0x201),'subscriptionType':_0x245274,'subscription':_0x2ec0be,'subscriptonParts':_0x568a26});this[_0x58f9ab(0x4a0)](_0x2ec0be,_0x4d68f5,_0x568a26);}[_0x20cdf8(0x4a0)](_0x379d46,_0x1ba787,_0x44f260){const _0x43853e=_0x20cdf8;_0x44f260=_0x44f260||this[_0x43853e(0x1c5)](_0x379d46),this[_0x43853e(0x282)][_0x43853e(0x147)][_0x43853e(0x268)](_0x1ba787),this[_0x43853e(0x86c)](_0x44f260,_0x379d46);}[_0x20cdf8(0x36e)](_0x41203d,{source:_0x1710f5,destination:_0x529c85}){const _0x19bf86=_0x20cdf8,{contentType:_0x479b0d,label:_0x51d531,remoteId:_0x151fd3}=_0x41203d,_0x282e13=_0x7af656(_0x479b0d,_0x51d531,_0x151fd3),_0xb90d87=new _0x330984(_0x282e13,_0x479b0d);_0xb90d87['registerSource'](_0x1710f5),_0xb90d87[_0x19bf86(0x217)](_0x529c85),this[_0x19bf86(0x282)]['topics'][_0x19bf86(0xaf)](_0xb90d87[_0x19bf86(0x353)](),_0xb90d87);}[_0x20cdf8(0x86c)](_0x36cbf2,_0x3575cd){const _0x5fea23=_0x20cdf8,{contentType:_0x1fe1bf,label:_0x1cc2b9,remoteId:_0x3323b1}=_0x36cbf2,_0x454d0a=_0x7af656(_0x1fe1bf,_0x1cc2b9,_0x3323b1),_0x18b429=this[_0x5fea23(0x282)][_0x5fea23(0x6ab)][_0x5fea23(0x333)](_0x454d0a);_0x18b429&&(this['closeTopic'](_0x18b429,_0x3575cd),this[_0x5fea23(0x282)][_0x5fea23(0x6ab)][_0x5fea23(0x268)](_0x454d0a));}[_0x20cdf8(0x3eb)](_0x6fff27,{source:_0x4b80e7,destination:_0x432caa}){const _0x4c5165=_0x20cdf8;_0x6fff27['unregisterSource'](_0x4b80e7),_0x6fff27[_0x4c5165(0x395)](_0x432caa);}['removeSubscriptionsForNode'](_0x41db8e){const _0xb5d3e5=_0x20cdf8;this[_0xb5d3e5(0x282)]['subscriptions']['forEach']((_0x287da6,_0x2d022c)=>{const _0x328701=_0xb5d3e5;_0x2d022c[_0x328701(0x863)](_0x41db8e)&&this[_0x328701(0x4a0)](_0x287da6,_0x2d022c);});}}class _0x27c70f{[_0x20cdf8(0x252)];['maxDistance'];['subscriptionRequests']=new Map();[_0x20cdf8(0x33f)]=_0x9d4789(new _0x4f30a3(this['requestSubscriptionAction']['bind'](this),()=>_0x4b9656[_0x20cdf8(0x76e)](0x64)),!0x0);[_0x20cdf8(0x24d)]=new Map();[_0x20cdf8(0x282)];[_0x20cdf8(0x3fa)]=new Map();constructor(_0x3ae5e9,_0x3483b6){const _0xd98a2d=_0x20cdf8;this[_0xd98a2d(0x252)]=_0x3ae5e9,this[_0xd98a2d(0x46e)]=_0x3483b6,this['maps']=new _0x4560c3(({source:_0x401674,destination:_0x4e0d6e})=>_0x47b2a1(_0x4e0d6e,_0x401674));}[_0x20cdf8(0x187)](_0x538a89,_0x409ccf){const _0x33e4d2=_0x20cdf8,_0x1659bc=this[_0x33e4d2(0x52f)](_0x538a89)&&this[_0x33e4d2(0x272)](_0x409ccf)?new _0x463724(_0x538a89,_0x409ccf):new _0x51a7b1(_0x538a89,_0x409ccf);this['maps']['createSubscription'](_0x1c14dd[_0x33e4d2(0x736)],_0x1659bc),this['configs'][_0x33e4d2(0x4ea)][_0x33e4d2(0x67e)](_0x1659bc);}['removeSubscription'](_0x5517f0,_0xc81257,_0x3220cb=''){const _0x129bf0=_0x20cdf8,_0x16e1f4={'contentType':_0xc81257,'label':_0x5517f0,'remoteId':_0x3220cb},_0xcaa26c=_0x56b1fb(_0x1c14dd['Incoming'],_0x16e1f4),_0x3b41fb=this['maps'][_0x129bf0(0x147)][_0x129bf0(0x333)](_0xcaa26c);_0x3b41fb&&this[_0x129bf0(0x4a0)](_0x3b41fb,_0xcaa26c);}[_0x20cdf8(0x33e)](_0x26a571){const _0x39142d=_0x20cdf8;this[_0x39142d(0x6a2)](_0x26a571);}[_0x20cdf8(0x898)]({label:_0x16b6e0,ownerId:_0x4e39ff,trackKinds:_0x2c5a4f,params:_0xd721f0}){const _0x1ba067=_0x20cdf8;this[_0x1ba067(0x706)](_0x16b6e0,_0x4e39ff,_0x2c5a4f,_0xd721f0);}[_0x20cdf8(0x5af)]({ownerId:_0x4b74d1,label:_0x444dca,params:_0x20ad7e}){const _0x4ef5ab=_0x20cdf8,{subscriptionLabel:_0x40c095}=this[_0x4ef5ab(0x4ec)](_0x444dca,_0x4b74d1),_0x563deb=this[_0x4ef5ab(0x657)](_0x40c095);_0x563deb&&_0x563deb[_0x4ef5ab(0x371)](_0x4b74d1,_0x20ad7e);}[_0x20cdf8(0x655)]({ownerId:_0x4827b9,label:_0x286298,trackKinds:_0x412ad4,remainingTracks:_0x5f0cf4}){const _0x838031=_0x20cdf8,_0x1525e1=_0x56b1fb(_0x1c14dd[_0x838031(0x736)],{'contentType':_0x3b754d['ContentType']['Media'],'label':_0x286298,'remoteId':_0x4827b9});this[_0x838031(0x1e5)](_0x1525e1);const _0x8c8d67=this[_0x838031(0x423)][_0x838031(0x333)](_0x1525e1);_0x8c8d67&&(this['configs'][_0x838031(0x4ea)][_0x838031(0x174)](_0x8c8d67),this[_0x838031(0x423)][_0x838031(0x268)](_0x1525e1));const {parts:_0x13b592,subscriptionLabel:_0x2041c5}=this[_0x838031(0x4ec)](_0x286298,_0x4827b9),_0x5cc573=this[_0x838031(0x657)](_0x2041c5);_0x5cc573&&(_0x5cc573[_0x838031(0x579)](_0x4827b9,_0x5f0cf4,_0x412ad4),0x0===_0x5f0cf4&&this['removeSubscription'](_0x13b592[_0x838031(0x59f)],_0x13b592[_0x838031(0x3d9)],_0x13b592[_0x838031(0x566)]));}[_0x20cdf8(0x23d)](_0x370561,{label:_0x4f9388,ownerId:_0x9c2086,trackKinds:_0x20c021,streamId:_0x1969b3,params:_0x3b186f}){const _0x1f8da3=_0x20cdf8,_0x163eac=_0x56b1fb(_0x1c14dd[_0x1f8da3(0x736)],{'contentType':_0x3b754d[_0x1f8da3(0x4e6)][_0x1f8da3(0x113)],'label':_0x1969b3,'remoteId':_0x370561}),_0x5e9a79=this['maps'][_0x1f8da3(0x147)][_0x1f8da3(0x333)](_0x163eac);if(!(_0x5e9a79&&_0x5e9a79 instanceof _0x463724))throw new _0x5a569f(_0x5a569f['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x163eac,'ownerId':_0x9c2086});this[_0x1f8da3(0x4a0)](_0x5e9a79,_0x163eac),this[_0x1f8da3(0x706)](_0x4f9388,_0x9c2086,_0x20c021,_0x3b186f);}['handleSubscriptionProvideMediaStream'](_0xef61a0,_0x2f4c49){const _0x39f95e=_0x20cdf8,{label:_0x992910,ownerId:_0x4d3216,trackKinds:_0x49fc34,params:_0x52bd80}=_0x2f4c49,_0x4aa6cc=_0x56b1fb(_0x1c14dd[_0x39f95e(0x736)],{'contentType':_0x3b754d['ContentType']['Media'],'label':_0x992910,'remoteId':_0x4d3216});if(!this['subscriptionRequests'][_0x39f95e(0x6f2)](_0x4aa6cc))throw new _0x5a569f(_0x5a569f[_0x39f95e(0x4e8)][_0x39f95e(0x3e3)],{'label':_0x4aa6cc,'ownerId':_0x4d3216,'streamId':_0x2f4c49['streamId'],'requests':this['subscriptionRequests']});const _0x4dc17e=this[_0x39f95e(0x423)][_0x39f95e(0x333)](_0x4aa6cc);if(_0x49fc34[_0x39f95e(0x51a)]===_0x4dc17e[_0x39f95e(0x8d7)]()[_0x39f95e(0x51a)]&&_0x49fc34[_0x39f95e(0x738)](_0x38848a=>_0x4dc17e[_0x39f95e(0x8d7)]()[_0x39f95e(0x8cb)](_0x38848a)))try{const _0x6d8d23=_0x4dc17e[_0x39f95e(0x590)](_0xef61a0,_0x2f4c49);if(!_0x6d8d23)return;this['subscribe'](_0x6d8d23,_0x4d3216,_0x992910,_0x4aa6cc,_0x49fc34);}catch(_0x45dc32){return void this['handleNoAnswer'](_0x992910,_0x4d3216,_0x49fc34,_0x52bd80);}}[_0x20cdf8(0x2f8)](_0x4877de,{label:_0x1febb8,ownerId:_0x1c44c0,trackKinds:_0x4e89cf}){const _0x3cbf6c=_0x20cdf8,_0x489338=this[_0x3cbf6c(0x252)][_0x3cbf6c(0x4ea)][_0x3cbf6c(0x2cf)](_0x1c44c0,_0x1febb8);if(!_0x489338)return;const _0x45c89e=_0x489338['getInternalStreamId'](),_0x11fd43=_0x489338['getSubscribedTracks']();_0x11fd43[_0x3cbf6c(0x2a2)](_0x5a2be6=>_0x4e89cf[_0x3cbf6c(0x8cb)](_0x5a2be6))&&this['findNewMediaSubscription'](_0x4877de,_0x1febb8,_0x45c89e,_0x1c44c0,_0x11fd43);}['handleContentRemoteMediaStreamTrackFail']({label:_0x31067b,providerId:_0x2cd4f6,ownerId:_0x5f9283,streamId:_0x16876a,trackKinds:_0xea9c94}){this['findNewMediaSubscription'](_0x2cd4f6,_0x31067b,_0x16876a,_0x5f9283,_0xea9c94);}[_0x20cdf8(0xef)](_0x4ca690){const _0xf7470f=_0x20cdf8;for(const _0x268236 of this[_0xf7470f(0x3fa)][_0xf7470f(0x6cd)]()){const {streamLabel:_0x9e6ac8,ownerId:_0x5dc669,trackKinds:_0x329d9e,params:_0x9f4e91}=_0x268236;if(!_0x5dc669||!_0x329d9e||!_0x9e6ac8)return;this[_0xf7470f(0x33f)][_0xf7470f(0x82c)]({'label':_0x9e6ac8,'ownerId':_0x5dc669,'trackKinds':_0x329d9e,'params':_0x9f4e91,'remoteId':_0x4ca690});}}[_0x20cdf8(0x18e)](_0x1a777f){const _0x19ddd2=_0x20cdf8;this[_0x19ddd2(0x282)]['subscriptions'][_0x19ddd2(0x34b)]((_0x101bea,_0x4cb5cf)=>{const _0x477c85=_0x19ddd2;if(_0x4cb5cf[_0x477c85(0x863)](_0x1a777f)){if(_0x101bea[_0x477c85(0x164)][_0x477c85(0x7e9)]()===_0x3b754d[_0x477c85(0x4e6)][_0x477c85(0x113)]){const _0x3dbbff=_0x101bea[_0x477c85(0x164)];if(_0x3dbbff[_0x477c85(0x542)]()[_0x477c85(0x51a)]>0x0){const _0x22e1d4={'type':_0x2a8a6d['MediaStreamUnavailable'],'label':_0x3dbbff['getLabel'](),'ownerId':_0x3dbbff[_0x477c85(0x25d)](),'trackKinds':_0x3dbbff[_0x477c85(0x542)]()};return void this[_0x477c85(0x2f8)](_0x1a777f,_0x22e1d4);}}this['closeSubscription'](_0x101bea,_0x4cb5cf);}});}[_0x20cdf8(0x671)](){const _0xe7832e=_0x20cdf8;this[_0xe7832e(0x282)]['subscriptions'][_0xe7832e(0x34b)](this[_0xe7832e(0x4a0)][_0xe7832e(0x684)](this));}[_0x20cdf8(0x3cb)](_0x33b714,_0x24a787,_0xe38657,_0x2b0a5b,_0x40218b){const _0x19e589=_0x20cdf8,_0x55a350=this['configs']['mediator'][_0x19e589(0x1f8)](_0x33b714[_0x19e589(0x56f)]),_0x4db1b1=this[_0x19e589(0x252)]['mediator'][_0x19e589(0x2cf)](_0x24a787,_0xe38657);this['clearSubscriptionRequestTimeout'](_0x2b0a5b),this['subscriptionRequests'][_0x19e589(0x6f2)](_0x2b0a5b)&&(this[_0x19e589(0x252)][_0x19e589(0x4ea)][_0x19e589(0x174)](this[_0x19e589(0x423)][_0x19e589(0x333)](_0x2b0a5b)),this['subscriptionRequests'][_0x19e589(0x268)](_0x2b0a5b)),this['cleanOldSubscription'](_0x33b714,_0x24a787,_0xe38657,_0x4db1b1),_0x4db1b1['setInternalId'](_0x33b714['streamId']),_0x4db1b1[_0x19e589(0x83c)](_0x33b714[_0x19e589(0x56f)]);const _0x10cb2c=_0x47b2a1(_0x4db1b1,_0x55a350),_0x216a15=_0x56b1fb(_0x1c14dd[_0x19e589(0x736)],_0x10cb2c);this['maps'][_0x19e589(0x147)]['has'](_0x216a15)||this['createSubscription'](_0x55a350,_0x4db1b1);const _0x39c7a4=this['maps'][_0x19e589(0x147)][_0x19e589(0x333)](_0x216a15);if(!(_0x39c7a4&&_0x39c7a4 instanceof _0x463724))throw new _0x5a569f(_0x5a569f[_0x19e589(0x4e8)]['SubscriptionRequestDoesNotExist'],{'label':_0x2b0a5b,'ownerId':_0x24a787});_0x585abf[_0x19e589(0x263)](_0x19e589(0x8b8),{'clusterId':this[_0x19e589(0x252)]['clusterId'],'nodeId':this[_0x19e589(0x252)][_0x19e589(0x21a)][_0x19e589(0x66e)](),'nodeType':this[_0x19e589(0x252)]['localNode'][_0x19e589(0x6f6)],'data':{'subscriptionLabel':_0x216a15,'chosenAnswer':_0x33b714}}),this[_0x19e589(0x3fa)]['set'](_0x216a15,_0x33b714),_0x39c7a4[_0x19e589(0x3cb)](_0x24a787,_0x40218b,_0x33b714['params']);}[_0x20cdf8(0x6a2)]({ownerId:_0x5f008a,label:_0x9240d5}){const _0x4e18b6=_0x20cdf8,_0x33ed1b=this['configs'][_0x4e18b6(0x4ea)][_0x4e18b6(0x2cf)](_0x5f008a,_0x9240d5),[_0x207752,_0x19453f]=Array['from'](this[_0x4e18b6(0x282)][_0x4e18b6(0x147)][_0x4e18b6(0x573)]())[_0x4e18b6(0x819)](([_0x3cb558,_0x17febc])=>-0x1!==_0x3cb558[_0x4e18b6(0x6a4)](_0x33ed1b['getInternalStreamId']()));return this[_0x4e18b6(0x4a0)](_0x19453f,_0x207752);}[_0x20cdf8(0x4a0)](_0x3821b0,_0x39da76){const _0x2e2036=_0x20cdf8;this['configs'][_0x2e2036(0x4ea)][_0x2e2036(0x174)](_0x3821b0),this['maps'][_0x2e2036(0x4a0)](_0x3821b0,_0x39da76);}[_0x20cdf8(0x52f)](_0x1329dd){const _0x1bbfb1=_0x20cdf8;return _0x1329dd[_0x1bbfb1(0x517)]()[_0x1bbfb1(0x8cb)](_0x3b754d[_0x1bbfb1(0x4e6)][_0x1bbfb1(0x113)]);}[_0x20cdf8(0x272)](_0x434da0){const _0x180773=_0x20cdf8;return _0x434da0[_0x180773(0x7e9)]()===_0x3b754d[_0x180773(0x4e6)][_0x180773(0x113)];}async[_0x20cdf8(0x321)](_0x29ec6f,_0x37c19f,_0x2b184a,_0x1224b8){const _0x11bcdc=_0x20cdf8;await _0x4b9656['wait'](0x3e8);const _0x4305c5=_0x56b1fb(_0x1c14dd[_0x11bcdc(0x736)],{'contentType':_0x3b754d['ContentType'][_0x11bcdc(0x113)],'label':_0x29ec6f,'remoteId':_0x37c19f});this[_0x11bcdc(0x1e5)](_0x4305c5);const _0x4adca4=this[_0x11bcdc(0x423)][_0x11bcdc(0x333)](_0x4305c5);if(!_0x4adca4)throw new _0x5a569f(_0x5a569f['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x4305c5,'ownerId':_0x37c19f});const _0x45f652=this[_0x11bcdc(0x252)][_0x11bcdc(0x4ea)][_0x11bcdc(0x5f8)](_0x4f451b=>_0x4f451b[_0x11bcdc(0x5fa)]()),_0x10a62c=this[_0x11bcdc(0x252)][_0x11bcdc(0x4ea)][_0x11bcdc(0x6ff)](this[_0x11bcdc(0x252)][_0x11bcdc(0x21a)]['getId'](),_0x37c19f);_0x4adca4[_0x11bcdc(0x8b5)](_0x45f652['map'](_0x1cf138=>_0x1cf138['getRemoteId']()),_0x10a62c);try{_0x4adca4[_0x11bcdc(0x3fc)](this['configs'][_0x11bcdc(0x21a)][_0x11bcdc(0x66e)](),_0x37c19f,_0x29ec6f,_0x2b184a,_0x1224b8),this[_0x11bcdc(0x8d5)](_0x29ec6f,_0x37c19f,_0x2b184a,_0x1224b8,_0x4305c5,_0x4adca4);}catch(_0x22f977){this[_0x11bcdc(0x33f)]['push']({'label':_0x29ec6f,'ownerId':_0x37c19f,'trackKinds':_0x2b184a,'params':_0x1224b8});}}['requestSubscription'](_0xa7d732,_0x287c52,_0x1f30eb,_0x11de76){const _0x36a6c=_0x20cdf8;this['subscriptionRequestsQueue'][_0x36a6c(0x82c)]({'label':_0xa7d732,'ownerId':_0x287c52,'trackKinds':_0x1f30eb,'params':_0x11de76});}[_0x20cdf8(0x384)]({label:_0x464d6b,ownerId:_0x3f6669,trackKinds:_0x13c6a5,params:_0x4404fb,remoteId:_0x15e71a}){const _0x483641=_0x20cdf8;if(!this[_0x483641(0x252)][_0x483641(0x4ea)][_0x483641(0x2cf)](_0x3f6669,_0x464d6b))return;if(!this[_0x483641(0x252)]['mediator'][_0x483641(0x41f)]()[_0x483641(0x81f)]())throw new Error(_0x483641(0x275));if(_0x15e71a){const _0x2b039c=this['configs']['mediator']['getRemoteNodes']()[_0x483641(0x819)](_0x4bdb11=>_0x4bdb11[_0x483641(0x66e)]()===_0x15e71a),_0x5c7d43=_0x2b039c?.[_0x483641(0x81f)]();if(!_0x2b039c||!_0x5c7d43)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x4771c3=this['configs']['mediator'][_0x483641(0x342)]()[_0x483641(0x819)](_0xc0284e=>_0xc0284e[_0x483641(0x66e)]()===_0x3f6669),_0x67c146=_0x4771c3?.[_0x483641(0x81f)]();if(!_0x4771c3||!_0x67c146)throw new Error(_0x483641(0x4d1));const _0x55ca5f=this[_0x483641(0x3fa)]['get'](_0x464d6b);if(_0x55ca5f){const _0x3ef37f=this[_0x483641(0x252)]['mediator'][_0x483641(0x342)]()[_0x483641(0x819)](_0x383470=>_0x383470[_0x483641(0x66e)]()===_0x55ca5f['nodeId']),_0x34d754=_0x3ef37f?.[_0x483641(0x81f)]();if(!_0x3ef37f||!_0x34d754)throw new Error(_0x483641(0x293));if(Math[_0x483641(0x4ad)](_0x34d754-_0x67c146)<Math[_0x483641(0x4ad)](_0x5c7d43-_0x67c146))return;}}const _0x506a1f=this['configs'][_0x483641(0x4ea)][_0x483641(0x5f8)](_0x137ece=>_0x137ece[_0x483641(0x5fa)]()&&(!_0x15e71a||_0x137ece[_0x483641(0x7e3)]()===_0x15e71a));if(!_0x506a1f['length']||0x0===_0x506a1f[_0x483641(0x51a)])throw new Error(_0x483641(0x88d));const _0x1f0a0d=this[_0x483641(0x252)][_0x483641(0x4ea)][_0x483641(0x6ff)](this[_0x483641(0x252)]['localNode']['getId'](),_0x3f6669),_0x5c33f7=_0x56b1fb(_0x1c14dd['Incoming'],{'contentType':_0x3b754d['ContentType'][_0x483641(0x113)],'label':_0x464d6b,'remoteId':_0x3f6669});if(this[_0x483641(0x423)][_0x483641(0x6f2)](_0x5c33f7)){if(_0x15e71a)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x2b444a=this['subscriptionRequests'][_0x483641(0x333)](_0x5c33f7)[_0x483641(0x8d7)]();if(_0x2b444a[_0x483641(0x51a)]===_0x13c6a5['length']&&_0x2b444a[_0x483641(0x738)](_0x3cb575=>_0x13c6a5[_0x483641(0x8cb)](_0x3cb575)))return;this[_0x483641(0x252)][_0x483641(0x4ea)]['unregisterSystemSource'](this[_0x483641(0x423)][_0x483641(0x333)](_0x5c33f7)),this['subscriptionRequests'][_0x483641(0x268)](_0x5c33f7),_0x13c6a5=Array[_0x483641(0x473)](new Set(_0x13c6a5[_0x483641(0x138)](_0x2b444a))),this[_0x483641(0x1e5)](_0x5c33f7);}const _0x1cc23b=new _0x32c278(_0x506a1f[_0x483641(0x7ea)](_0x11a033=>_0x11a033['getRemoteId']()),_0x1f0a0d,this[_0x483641(0x46e)],_0x13c6a5);this[_0x483641(0x252)][_0x483641(0x4ea)][_0x483641(0x67e)](_0x1cc23b),this[_0x483641(0x423)][_0x483641(0xaf)](_0x5c33f7,_0x1cc23b),_0x1cc23b['sendRequest'](this['configs'][_0x483641(0x21a)]['getId'](),_0x3f6669,_0x464d6b,_0x13c6a5,_0x4404fb),this[_0x483641(0x8d5)](_0x464d6b,_0x3f6669,_0x13c6a5,_0x4404fb,_0x5c33f7,_0x1cc23b);}[_0x20cdf8(0x1e5)](_0x1a33d9){const _0x33169b=_0x20cdf8;this[_0x33169b(0x24d)][_0x33169b(0x6f2)](_0x1a33d9)&&(clearTimeout(this[_0x33169b(0x24d)]['get'](_0x1a33d9)),this['subscriptionRequestTimeouts'][_0x33169b(0x268)](_0x1a33d9));}['setSubscriptionRequestTimeout'](_0x2fea4f,_0x418c67,_0x37add1,_0x4330d3,_0x21fe0c,_0x5c9edc){const _0x223424=_0x20cdf8;this[_0x223424(0x1e5)](_0x21fe0c),this[_0x223424(0x24d)][_0x223424(0xaf)](_0x21fe0c,setTimeout(()=>{const _0x417772=_0x223424;this[_0x417772(0x24d)][_0x417772(0x268)](_0x21fe0c);try{const _0x33a736=_0x5c9edc[_0x417772(0x479)]();this[_0x417772(0x3cb)](_0x33a736,_0x418c67,_0x2fea4f,_0x21fe0c,_0x37add1);}catch(_0x3b305c){this[_0x417772(0x321)](_0x2fea4f,_0x418c67,_0x37add1,_0x4330d3);}},0x7d0));}[_0x20cdf8(0x6db)](_0x482be6,_0x31a4a3,_0x4aa5dd,_0x2a8a2c,_0x554823){const _0xb5aab8=_0x20cdf8,{subscriptionLabel:_0x3163b8}=this['getSubscriptionLabel'](_0x31a4a3,_0x2a8a2c),_0x2f67bf=this['getMediaSubscription'](_0x3163b8),_0x40733e=_0x2f67bf?.[_0xb5aab8(0x74e)];_0x2f67bf&&(_0x2f67bf[_0xb5aab8(0x579)](_0x2a8a2c,0x0),this['removeSubscription'](_0x4aa5dd,_0x3b754d['ContentType'][_0xb5aab8(0x113)],_0x482be6)),this['requestSubscription'](_0x31a4a3,_0x2a8a2c,_0x554823,_0x40733e);}[_0x20cdf8(0x657)](_0x3f5a06){const _0x4f735d=_0x20cdf8,_0x436be6=this[_0x4f735d(0x282)][_0x4f735d(0x147)]['get'](_0x3f5a06);if(_0x436be6){if(!(_0x436be6 instanceof _0x463724))throw new _0x5a569f(_0x5a569f[_0x4f735d(0x4e8)][_0x4f735d(0x8a1)],{'label':_0x3f5a06,'subscription':_0x436be6});return _0x436be6;}}[_0x20cdf8(0x4ec)](_0x263d30,_0x1556ab){const _0x3f98f9=_0x20cdf8,_0x78df15=this[_0x3f98f9(0x86b)](_0x263d30,_0x1556ab);return{'parts':_0x78df15,'subscriptionLabel':_0x56b1fb(_0x1c14dd[_0x3f98f9(0x736)],_0x78df15)};}[_0x20cdf8(0x86b)](_0x2ed180,_0x2dd076){const _0x2e9d10=_0x20cdf8,_0x2456b5=this[_0x2e9d10(0x252)][_0x2e9d10(0x4ea)]['getRemoteMediaStream'](_0x2dd076,_0x2ed180),_0x75dbfc=_0x2456b5[_0x2e9d10(0x311)]();if(!_0x75dbfc)throw new _0x5a569f(_0x5a569f[_0x2e9d10(0x4e8)][_0x2e9d10(0x62c)],{'label':_0x2ed180,'streamId':_0x2456b5[_0x2e9d10(0x242)](),'ownerId':_0x2dd076,'localId':this['configs'][_0x2e9d10(0x21a)][_0x2e9d10(0x66e)]()});return{'contentType':_0x3b754d['ContentType']['Media'],'label':_0x2456b5['getInternalStreamId'](),'remoteId':_0x75dbfc};}[_0x20cdf8(0x12c)](_0x333f05,_0x1b4327,_0x265360,_0x1d01a5){const _0x4bbae4=_0x20cdf8,_0x3b87c6=_0x1d01a5[_0x4bbae4(0x311)]();if(_0x3b87c6&&_0x3b87c6!==_0x333f05[_0x4bbae4(0x56f)]){const {parts:_0x14a5bb,subscriptionLabel:_0xe7135}=this[_0x4bbae4(0x4ec)](_0x265360,_0x1b4327),_0x242f1f=this['getMediaSubscription'](_0xe7135);_0x242f1f&&(_0x242f1f[_0x4bbae4(0x579)](_0x1b4327,0x0),this[_0x4bbae4(0x7ce)](_0x14a5bb[_0x4bbae4(0x59f)],_0x14a5bb[_0x4bbae4(0x3d9)],_0x14a5bb['remoteId']));}}}class _0x5a7708{[_0x20cdf8(0x252)];[_0x20cdf8(0x5fd)];[_0x20cdf8(0x282)];constructor(_0x23f27b,_0x486dfb){const _0xad3485=_0x20cdf8;this[_0xad3485(0x252)]=_0x23f27b,this['maxOutgoingSubscriptions']=_0x486dfb,this[_0xad3485(0x282)]=new _0x4560c3(({source:_0xe8e875,destination:_0x56b2ca})=>_0x47b2a1(_0xe8e875,_0x56b2ca));}[_0x20cdf8(0x187)](_0xee0c9a,_0x370326){const _0x4f7b16=_0x20cdf8,_0x38f4ff={'source':_0xee0c9a,'destination':_0x370326};this[_0x4f7b16(0x282)][_0x4f7b16(0x187)](_0x1c14dd[_0x4f7b16(0x838)],_0x38f4ff);}[_0x20cdf8(0x7ce)](_0x22b562,_0x5168d8,_0x3f82c7=''){const _0x28f8ae=_0x20cdf8,_0x399d9c={'contentType':_0x5168d8,'label':_0x22b562,'remoteId':_0x3f82c7};this[_0x28f8ae(0x282)][_0x28f8ae(0x7ce)](_0x399d9c,_0x1c14dd['Outgoing']);}[_0x20cdf8(0x220)](_0x1c6379,_0xf5b581){const _0x2c7a8a=_0x20cdf8;let _0x591213;_0x591213=_0xf5b581['ownerId']!==this[_0x2c7a8a(0x252)]['localNode'][_0x2c7a8a(0x66e)]()?this[_0x2c7a8a(0x252)][_0x2c7a8a(0x4ea)]['getRemoteMediaStream'](_0xf5b581[_0x2c7a8a(0x37e)],_0xf5b581[_0x2c7a8a(0x59f)]):this[_0x2c7a8a(0x252)][_0x2c7a8a(0x4ea)][_0x2c7a8a(0x869)](_0xf5b581[_0x2c7a8a(0x59f)]);const _0x36c411=_0x56b1fb(_0x1c14dd[_0x2c7a8a(0x838)],{'contentType':_0x3b754d['ContentType'][_0x2c7a8a(0x113)],'label':_0x591213[_0x2c7a8a(0x897)](),'remoteId':_0x1c6379}),_0x15e217=this['getNumberOutgoingSubscriptions']();if(!this['maps'][_0x2c7a8a(0x147)][_0x2c7a8a(0x6f2)](_0x36c411)&&_0x15e217>=this[_0x2c7a8a(0x5fd)])return{'type':_0x2a8a6d[_0x2c7a8a(0x7da)],'ownerId':_0xf5b581[_0x2c7a8a(0x37e)],'label':_0xf5b581['label'],'streamId':_0x591213[_0x2c7a8a(0x897)](),'trackKinds':_0xf5b581[_0x2c7a8a(0x891)],'params':_0xf5b581['params']};_0x591213 instanceof _0x5095e4&&!_0x591213[_0x2c7a8a(0x8ff)](_0xf5b581['trackKinds'])&&_0x591213[_0x2c7a8a(0x3cb)](_0xf5b581[_0x2c7a8a(0x74e)]),this[_0x2c7a8a(0x282)][_0x2c7a8a(0x147)][_0x2c7a8a(0x6f2)](_0x36c411)||this[_0x2c7a8a(0x187)](_0x591213['getShareableStream'](_0x1c6379),this[_0x2c7a8a(0x252)][_0x2c7a8a(0x4ea)][_0x2c7a8a(0x1f8)](_0x1c6379));}[_0x20cdf8(0x5bf)](_0x196eb5,{label:_0x288c09,ownerId:_0x34018c,remainingTracks:_0x56af68}){const _0x1f2740=_0x20cdf8;if(_0x56af68>0x0)return;let _0x50fb1c;_0x50fb1c=_0x34018c!==this[_0x1f2740(0x252)]['localNode']['getId']()?this[_0x1f2740(0x252)]['mediator']['getRemoteMediaStream'](_0x34018c,_0x288c09):this[_0x1f2740(0x252)][_0x1f2740(0x4ea)][_0x1f2740(0x869)](_0x288c09);const _0x4eda28=_0x50fb1c['getShareableStreamId'](),_0x8ea49e=_0x3b754d[_0x1f2740(0x4e6)][_0x1f2740(0x113)];this[_0x1f2740(0x7ce)](_0x4eda28,_0x8ea49e,_0x196eb5);}[_0x20cdf8(0x655)](_0x2c8cc4,{label:_0x3218bc,ownerId:_0x19f7ef,trackKinds:_0x10eca2}){const _0x4bbf09=_0x20cdf8;if(_0x2c8cc4!==_0x34aa90)return[];let _0x293ad9=[];for(const _0x45b652 of this[_0x4bbf09(0x282)][_0x4bbf09(0x147)]){const {source:_0x114ddb,destination:_0x407dc6}=_0x45b652[0x1];_0x114ddb[_0x4bbf09(0x353)]()===_0x3218bc&&_0x114ddb['getOwnerId']()===_0x19f7ef&&_0x293ad9[_0x4bbf09(0x82c)]({'sourceId':this[_0x4bbf09(0x252)]['localNode'][_0x4bbf09(0x66e)](),'destinationIds':[_0x407dc6[_0x4bbf09(0x7e3)]()],'messageType':_0x213fd0[_0x4bbf09(0x624)],'content':{'type':_0x2a8a6d[_0x4bbf09(0x17e)],'label':_0x3218bc,'ownerId':_0x19f7ef,'trackKinds':_0x10eca2}});}return _0x293ad9;}[_0x20cdf8(0x314)](_0x5c08c5,_0x3a01fe){const _0x4e6df1=_0x20cdf8,{label:_0x505123,ownerId:_0x628951,trackKinds:_0x2906cf,params:_0x457614}=_0x3a01fe,{hasTracks:_0x6a5980,streamId:_0x4eddc3,hasResolution:_0x270622,distance:_0x5df468,subscriptionLabel:_0x1a25d5}=this[_0x4e6df1(0x6c0)](_0x5c08c5,_0x3a01fe);let _0x237444=this[_0x4e6df1(0x2b5)]()<this[_0x4e6df1(0x5fd)]&&(_0x6a5980||_0x5df468>-0x1)?_0x2a8a6d[_0x4e6df1(0x7c4)]:_0x2a8a6d[_0x4e6df1(0x237)];const _0x224df5=_0x5df468<0x0?0xa:_0x5df468;let _0x53fe00=_0x6a5980?_0x270622?_0x224df5:_0x224df5+0x0:_0x224df5+0xa;return _0x1a25d5&&this['maps']['subscriptions'][_0x4e6df1(0x6f2)](_0x1a25d5)&&(_0x6a5980&&(_0x53fe00=0x0),_0x237444=_0x2a8a6d[_0x4e6df1(0x7c4)]),{'type':_0x237444,'cost':_0x53fe00,'distance':_0x5df468,'label':_0x505123,'ownerId':_0x628951,'streamId':_0x4eddc3,'trackKinds':_0x2906cf,'params':_0x457614};}['handleContentUnpublishMediaStream'](_0x5ad63b){const _0x3eb222=_0x20cdf8,{label:_0x4fb75e,ownerId:_0x3dbaf5}=_0x5ad63b,_0x22dfe3=this['configs'][_0x3eb222(0x4ea)]['getRemoteMediaStream'](_0x3dbaf5,_0x4fb75e);this['maps'][_0x3eb222(0x147)][_0x3eb222(0x34b)](_0x135fe1=>{const _0x1f72d7=_0x3eb222;if(_0x135fe1[_0x1f72d7(0x31a)][_0x1f72d7(0x242)]()===_0x22dfe3[_0x1f72d7(0x897)]()){const _0x15844d=_0x135fe1[_0x1f72d7(0x164)];this[_0x1f72d7(0x7ce)](_0x22dfe3[_0x1f72d7(0x897)](),_0x3b754d[_0x1f72d7(0x4e6)][_0x1f72d7(0x113)],_0x15844d[_0x1f72d7(0x7e3)]());}});}[_0x20cdf8(0x5d3)]({label:_0x2e94c5}){const _0x263f21=_0x20cdf8,_0x4f5dd9=this[_0x263f21(0x252)][_0x263f21(0x4ea)][_0x263f21(0x869)](_0x2e94c5);this[_0x263f21(0x282)]['subscriptions'][_0x263f21(0x34b)](_0x23074d=>{const _0x4b8c60=_0x263f21;if(_0x23074d['source'][_0x4b8c60(0x242)]()===_0x4f5dd9[_0x4b8c60(0x897)]()){const _0x349bd0=_0x23074d[_0x4b8c60(0x164)];this[_0x4b8c60(0x7ce)](_0x4f5dd9['getShareableStreamId'](),_0x3b754d[_0x4b8c60(0x4e6)][_0x4b8c60(0x113)],_0x349bd0['getRemoteId']());}});}[_0x20cdf8(0x18e)](_0x5f7522){const _0x2fa113=_0x20cdf8;this[_0x2fa113(0x282)][_0x2fa113(0x18e)](_0x5f7522);}[_0x20cdf8(0x671)](){const _0x538680=_0x20cdf8;this[_0x538680(0x282)][_0x538680(0x147)][_0x538680(0x34b)](this['closeSubscription']['bind'](this));}[_0x20cdf8(0x4a0)](_0x1bb2ec,_0x4ad69f){const _0x2659a1=_0x20cdf8;this[_0x2659a1(0x282)][_0x2659a1(0x4a0)](_0x1bb2ec,_0x4ad69f);}[_0x20cdf8(0x6c0)](_0x419214,{label:_0x17adfb,ownerId:_0x1bc589,trackKinds:_0x49f9dc,params:_0x3199ae}){const _0x3e258c=_0x20cdf8;if(_0x1bc589!==this[_0x3e258c(0x252)][_0x3e258c(0x21a)]['getId']()){const _0x57a6d3=this[_0x3e258c(0x252)]['mediator'][_0x3e258c(0x2cf)](_0x1bc589,_0x17adfb);return _0x57a6d3&&_0x57a6d3[_0x3e258c(0x311)]()!==_0x419214?{'hasTracks':_0x57a6d3[_0x3e258c(0x284)](_0x49f9dc),'hasResolution':this[_0x3e258c(0x64f)](_0x57a6d3[_0x3e258c(0x769)](),_0x3199ae),'streamId':_0x57a6d3[_0x3e258c(0x897)](),'distance':this[_0x3e258c(0x252)][_0x3e258c(0x4ea)][_0x3e258c(0x6ff)](_0x419214,_0x1bc589),'subscriptionLabel':_0x56b1fb(_0x1c14dd[_0x3e258c(0x838)],{'contentType':_0x3b754d['ContentType'][_0x3e258c(0x113)],'label':_0x57a6d3[_0x3e258c(0x897)](),'remoteId':_0x419214})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0xf8200b=this['configs'][_0x3e258c(0x4ea)][_0x3e258c(0x869)](_0x17adfb);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0xf8200b[_0x3e258c(0x897)](),'distance':0x0,'subscriptionLabel':_0x56b1fb(_0x1c14dd['Outgoing'],{'contentType':_0x3b754d[_0x3e258c(0x4e6)][_0x3e258c(0x113)],'label':_0xf8200b['getShareableStreamId'](),'remoteId':_0x419214})};}[_0x20cdf8(0x2b5)](){const _0x58b7b8=_0x20cdf8;return Array[_0x58b7b8(0x473)](this[_0x58b7b8(0x282)]['subscriptions'][_0x58b7b8(0x573)]())[_0x58b7b8(0xb7)](([_0x3ac475,{source:_0x25bb8b}])=>_0x3ac475['startsWith'](_0x1c14dd['Outgoing'])&&_0x25bb8b[_0x58b7b8(0x7e9)]()===_0x3b754d[_0x58b7b8(0x4e6)][_0x58b7b8(0x113)])[_0x58b7b8(0x51a)];}[_0x20cdf8(0x64f)](_0x4c7b2e,_0x55e0cb){const _0x4c193d=_0x20cdf8;if(!_0x55e0cb||!_0x55e0cb[_0x4c193d(0x2e3)]||_0x4c193d(0x1ba)==typeof _0x55e0cb['video']||!_0x55e0cb[_0x4c193d(0x2e3)]['maxResolution'])return!0x0;const {width:_0xeaf26a,height:_0x2bbd0c}=_0x55e0cb[_0x4c193d(0x2e3)][_0x4c193d(0x1b9)];return _0x4c7b2e[_0x4c193d(0x8b7)]>=_0xeaf26a&&_0x4c7b2e['height']>=_0x2bbd0c;}}class _0x1e65a5{[_0x20cdf8(0x252)];[_0x20cdf8(0x5fd)];['maxDistance'];[_0x20cdf8(0x361)];['incomingManager'];['outgoingManager'];constructor(_0x28a367,_0x32805b,_0x2a7e66){const _0x1c1afe=_0x20cdf8;this[_0x1c1afe(0x252)]=_0x28a367,this[_0x1c1afe(0x5fd)]=_0x32805b,this[_0x1c1afe(0x46e)]=_0x2a7e66,this[_0x1c1afe(0x252)][_0x1c1afe(0x4ea)]['registerSystemSource'](this),this['incomingManager']=new _0x27c70f(this[_0x1c1afe(0x252)],this[_0x1c1afe(0x46e)]),this[_0x1c1afe(0x1bb)]=new _0x5a7708(this[_0x1c1afe(0x252)],this[_0x1c1afe(0x5fd)]);}[_0x20cdf8(0x47a)](_0x4d2ee6){this['systemTopic']=_0x4d2ee6;}[_0x20cdf8(0x5b7)](){const _0x3fe86b=_0x20cdf8;delete this[_0x3fe86b(0x361)];}[_0x20cdf8(0x671)](){const _0x48ad79=_0x20cdf8;this[_0x48ad79(0x162)][_0x48ad79(0x671)](),this['outgoingManager'][_0x48ad79(0x671)](),this[_0x48ad79(0x252)][_0x48ad79(0x4ea)]['unregisterSystemSource'](this);}[_0x20cdf8(0x6c5)](_0x4297b2,_0x578686){const _0x2748ea=_0x20cdf8;this[_0x2748ea(0x162)][_0x2748ea(0x187)](_0x4297b2,_0x578686);}[_0x20cdf8(0x5e5)](_0x349789,_0x851ff3){const _0x35d2ee=_0x20cdf8;this[_0x35d2ee(0x1bb)]['createSubscription'](_0x349789,_0x851ff3);}[_0x20cdf8(0x524)](_0x1af6d1,_0x35cc82,_0x24feb0=''){const _0x19e8bd=_0x20cdf8;this[_0x19e8bd(0x162)][_0x19e8bd(0x7ce)](_0x1af6d1,_0x35cc82,_0x24feb0);}[_0x20cdf8(0x25f)](_0x410696,_0x3d64c8,_0x5e89d7=''){const _0x15c323=_0x20cdf8;try{this['outgoingManager'][_0x15c323(0x7ce)](_0x410696,_0x3d64c8,_0x5e89d7);}catch(_0xa0f16c){if(_0xa0f16c instanceof _0x5a569f&&_0xa0f16c['code']===_0x5a569f[_0x15c323(0x4e8)][_0x15c323(0x8a1)])return;}}['handleSubscriptionSystemEvents'](_0x2c0b48){const _0x733c0d=_0x20cdf8;switch(_0x2c0b48[_0x733c0d(0x843)][_0x733c0d(0x6f6)]){case _0x2a8a6d[_0x733c0d(0x7de)]:this['handleSubscriptionSubscribeMediaStream'](_0x2c0b48[_0x733c0d(0x8c8)],_0x2c0b48[_0x733c0d(0x843)]);break;case _0x2a8a6d[_0x733c0d(0x437)]:this[_0x733c0d(0x1bb)][_0x733c0d(0x5bf)](_0x2c0b48['sourceId'],_0x2c0b48[_0x733c0d(0x843)]);break;case _0x2a8a6d['NeedMediaStream']:this[_0x733c0d(0x314)](_0x2c0b48[_0x733c0d(0x8c8)],_0x2c0b48['content']);break;case _0x2a8a6d[_0x733c0d(0x7da)]:this[_0x733c0d(0x162)][_0x733c0d(0x23d)](_0x2c0b48['sourceId'],_0x2c0b48[_0x733c0d(0x843)]);break;case _0x2a8a6d[_0x733c0d(0x7c4)]:case _0x2a8a6d['CannotProvideMediaStream']:this[_0x733c0d(0x162)][_0x733c0d(0x51c)](_0x2c0b48[_0x733c0d(0x8c8)],_0x2c0b48[_0x733c0d(0x843)]);break;case _0x2a8a6d[_0x733c0d(0x17e)]:this[_0x733c0d(0x162)]['handleSubscriptionMediaStreamUnavailable'](_0x2c0b48[_0x733c0d(0x8c8)],_0x2c0b48[_0x733c0d(0x843)]);}}['handleContentSystemEvents'](_0x546440){const _0x200ff0=_0x20cdf8;switch(_0x546440[_0x200ff0(0x843)][_0x200ff0(0x6f6)]){case _0x277618[_0x200ff0(0x3fd)]:this[_0x200ff0(0x162)]['handleContentUnpublishMediaStream'](_0x546440[_0x200ff0(0x843)]),this[_0x200ff0(0x1bb)][_0x200ff0(0x33e)](_0x546440[_0x200ff0(0x843)]);break;case _0x277618['SubscribeMediaStream']:this[_0x200ff0(0x162)][_0x200ff0(0x898)](_0x546440[_0x200ff0(0x843)]);break;case _0x277618[_0x200ff0(0x328)]:this['incomingManager'][_0x200ff0(0x5af)](_0x546440['content']);break;case _0x277618['UnsubscribeMediaStream']:this[_0x200ff0(0x655)](_0x546440['sourceId'],_0x546440[_0x200ff0(0x843)]);break;case _0x277618[_0x200ff0(0x292)]:this[_0x200ff0(0x1bb)]['handleContentCloseMediaStream'](_0x546440[_0x200ff0(0x843)]);break;case _0x277618[_0x200ff0(0x804)]:this[_0x200ff0(0x8df)](_0x546440['content']['label'],_0x3b754d[_0x200ff0(0x4e6)]['PubSub']);break;case _0x277618[_0x200ff0(0x861)]:this[_0x200ff0(0x8df)](_0x546440[_0x200ff0(0x843)]['label'],_0x3b754d[_0x200ff0(0x4e6)][_0x200ff0(0x702)]);break;case _0x277618[_0x200ff0(0xad)]:this['handleCloseContent'](_0x546440[_0x200ff0(0x843)][_0x200ff0(0x59f)],_0x3b754d[_0x200ff0(0x4e6)][_0x200ff0(0x530)]);break;case _0x277618[_0x200ff0(0x6c6)]:this[_0x200ff0(0x8df)](_0x546440[_0x200ff0(0x843)][_0x200ff0(0x59f)],_0x3b754d[_0x200ff0(0x4e6)][_0x200ff0(0x400)]);break;case _0x277618[_0x200ff0(0x5cf)]:this['handleCloseContent'](_0x546440[_0x200ff0(0x843)]['label'],_0x3b754d[_0x200ff0(0x4e6)][_0x200ff0(0x345)]);break;case _0x277618['CloseGraphDatabase']:this[_0x200ff0(0x8df)](_0x546440[_0x200ff0(0x843)]['label'],_0x3b754d[_0x200ff0(0x4e6)][_0x200ff0(0x48d)]);break;case _0x277618[_0x200ff0(0x1ee)]:case _0x277618[_0x200ff0(0x85c)]:this[_0x200ff0(0x8df)](_0x546440[_0x200ff0(0x843)][_0x200ff0(0x59f)],_0x3b754d[_0x200ff0(0x4e6)][_0x200ff0(0x46a)]);break;case _0x277618['RemoteMediaStreamTrackFail']:this[_0x200ff0(0x162)]['handleContentRemoteMediaStreamTrackFail'](_0x546440['content']);}}[_0x20cdf8(0xd5)]({content:_0x59bc3e}){const _0x336974=_0x20cdf8;_0x59bc3e[_0x336974(0x6f6)]===_0x2c3880['NodeLeave']&&this[_0x336974(0x18e)](_0x59bc3e);}['handlePeerConnectionSystemEvents'](_0x5ecab9){const _0x39612f=_0x20cdf8;_0x5ecab9[_0x39612f(0x843)][_0x39612f(0x6f6)]===_0x320761[_0x39612f(0x18f)]&&this[_0x39612f(0x162)]['handleOptimizationConnectionSuccess'](_0x5ecab9[_0x39612f(0x8c8)]);}[_0x20cdf8(0x655)](_0x4235e8,_0x3d916f){const _0x46d7af=_0x20cdf8;this[_0x46d7af(0x162)][_0x46d7af(0x655)](_0x3d916f),this[_0x46d7af(0x1bb)][_0x46d7af(0x655)](_0x4235e8,_0x3d916f)[_0x46d7af(0x34b)](_0x3c6197=>this[_0x46d7af(0x361)][_0x46d7af(0x1ed)](_0x3c6197));}[_0x20cdf8(0x220)](_0x54ee44,_0x1959f2){const _0x4081a6=_0x20cdf8,_0x4f85ff=this[_0x4081a6(0x1bb)][_0x4081a6(0x220)](_0x54ee44,_0x1959f2);if(_0x4f85ff&&(this['systemTopic']['publish']({'sourceId':this[_0x4081a6(0x252)][_0x4081a6(0x21a)][_0x4081a6(0x66e)](),'destinationIds':[_0x54ee44],'messageType':_0x213fd0[_0x4081a6(0x624)],'content':_0x4f85ff}),_0x4f85ff[_0x4081a6(0x6f6)]===_0x2a8a6d[_0x4081a6(0x7da)]))throw new _0x5f3fcd(_0x4081a6(0xd0));}[_0x20cdf8(0x314)](_0x269129,_0x3acdb){const _0x4eb5ed=_0x20cdf8,_0x16d997=this[_0x4eb5ed(0x1bb)]['handleSubscriptionNeedMediaStream'](_0x269129,_0x3acdb);this[_0x4eb5ed(0x361)][_0x4eb5ed(0x1ed)]({'sourceId':this[_0x4eb5ed(0x252)][_0x4eb5ed(0x21a)]['getId'](),'destinationIds':[_0x269129],'messageType':_0x213fd0[_0x4eb5ed(0x624)],'content':_0x16d997});}[_0x20cdf8(0x8df)](_0x190444,_0x7ebc10){const _0x2d1b18=_0x20cdf8;this[_0x2d1b18(0x524)](_0x190444,_0x7ebc10),this[_0x2d1b18(0x25f)](_0x190444,_0x7ebc10);}['removeSubscriptionsForNode']({id:_0x45fcad}){const _0xaa05d4=_0x20cdf8;this[_0xaa05d4(0x162)][_0xaa05d4(0x18e)](_0x45fcad),this[_0xaa05d4(0x1bb)][_0xaa05d4(0x18e)](_0x45fcad);}}class _0x434897{['label'];[_0x20cdf8(0x34d)]=_0x53e3a2();constructor(){const _0x54c1e6=_0x20cdf8;this[_0x54c1e6(0x59f)]=0x0;}[_0x20cdf8(0x353)](){const _0x20a8d5=_0x20cdf8;return this[_0x20a8d5(0x59f)];}[_0x20cdf8(0x7e9)](){const _0x52dd4b=_0x20cdf8;return _0x3b754d[_0x52dd4b(0x4e6)][_0x52dd4b(0x848)];}[_0x20cdf8(0x188)](_0x288435){const _0xc45107=_0x20cdf8;_0x288435[_0xc45107(0x47a)](this);}['unregisterSource'](_0x32c1af){const _0x28a42c=_0x20cdf8;_0x32c1af[_0x28a42c(0x5b7)]();}[_0x20cdf8(0x1ed)](_0x1538d6){const _0x5ba082=_0x20cdf8;_0x585abf[_0x5ba082(0x447)](_0x324ffe[_0x5ba082(0x2ce)],_0x5ba082(0x430),_0x1538d6['sourceId'],_0x1538d6),this[_0x5ba082(0x34d)][_0x5ba082(0x1ed)]({'topicLabel':this[_0x5ba082(0x59f)],'contentType':_0x3b754d[_0x5ba082(0x4e6)][_0x5ba082(0x848)],'uuid':_0x1538d6['uuid']??(0x0,_0x3ee2fb['v4'])(),'recipients':_0x1538d6['recipients']??[],..._0x1538d6});}[_0x20cdf8(0x3cb)](_0x248363){const _0x54ad00=_0x20cdf8;return this[_0x54ad00(0x34d)]['subscribe'](_0x248363);}}class _0xe9f6f9{[_0x20cdf8(0x846)];[_0x20cdf8(0x60b)]=[];[_0x20cdf8(0x6d2)];[_0x20cdf8(0x382)]=new Map();constructor(_0x28833c){const _0x1c7581=_0x20cdf8;this[_0x1c7581(0x846)]=_0x28833c,this[_0x1c7581(0x6d2)]=(this['options']['maxConnections']-0x2*this[_0x1c7581(0x846)][_0x1c7581(0x84e)])/0x2,this[_0x1c7581(0x60b)][_0x1c7581(0x82c)]({'start':0x1,'end':this[_0x1c7581(0x4f5)](0x1,0x1)-0x1});for(let _0x42f893=0x0;_0x42f893<this[_0x1c7581(0x6d2)];++_0x42f893)this[_0x1c7581(0x60b)]['push']({'start':this['getNextTargetRank'](0x1,_0x42f893+0x1),'end':this['getNextTargetRank'](0x1,_0x42f893+0x2)-0x1});}[_0x20cdf8(0x4f5)](_0x379da2,_0x5be670=0x1){const _0x57a52e=_0x20cdf8;let _0x2c3d7b=this['options'][_0x57a52e(0x46e)]-this[_0x57a52e(0x846)][_0x57a52e(0x84e)],_0x23a9bd=0x1;for(let _0x45d0f7=0x1;_0x45d0f7<_0x5be670;++_0x45d0f7)_0x2c3d7b*=this[_0x57a52e(0x846)][_0x57a52e(0x46e)]-this[_0x57a52e(0x846)]['minConnections']-_0x45d0f7,_0x23a9bd*=this['options'][_0x57a52e(0x46e)]-this[_0x57a52e(0x846)][_0x57a52e(0x84e)]-_0x45d0f7+0x1;return _0x2c3d7b*this[_0x57a52e(0x846)][_0x57a52e(0x84e)]+_0x379da2-_0x23a9bd;}[_0x20cdf8(0x623)](_0x2e5f1b){const _0x4a2640=_0x20cdf8;let _0x113f98=0x0;for(;this[_0x4a2640(0x60b)][_0x113f98][_0x4a2640(0x77d)]<_0x2e5f1b;)_0x113f98+=0x1;return _0x113f98;}['getMinConnections'](){return this['options']['minConnections'];}[_0x20cdf8(0x452)](){const _0x5b5a98=_0x20cdf8;return this[_0x5b5a98(0x846)]['maxConnections'];}['getMaxDistance'](){const _0x5aaaa8=_0x20cdf8;return this[_0x5aaaa8(0x846)]['maxDistance'];}[_0x20cdf8(0x342)](){const _0x2da349=_0x20cdf8;return this[_0x2da349(0x382)];}[_0x20cdf8(0x3e6)](_0x368638,_0x127392){const _0x5e98bf=_0x20cdf8;this[_0x5e98bf(0x382)][_0x5e98bf(0xaf)](_0x368638,_0x127392);}[_0x20cdf8(0x8a4)](_0xd0398f){const _0x5d9615=_0x20cdf8;return this[_0x5d9615(0x382)][_0x5d9615(0x6f2)](_0xd0398f);}[_0x20cdf8(0x71a)](_0x21f0bf){const _0x27d81e=_0x20cdf8;return this[_0x27d81e(0x382)][_0x27d81e(0x333)](_0x21f0bf);}['deleteRemoteNode'](_0x2c9e7b){const _0x35588e=_0x20cdf8;this[_0x35588e(0x382)][_0x35588e(0x268)](_0x2c9e7b);}[_0x20cdf8(0x56a)](_0x17f4ea,_0x1d8c86){const _0x7bd4ab=_0x20cdf8,_0x52da2b=this[_0x7bd4ab(0x71a)](_0x1d8c86)?.['getRank']()??0x0;return _0x17f4ea[_0x7bd4ab(0x7ea)](_0x8ccb16=>this[_0x7bd4ab(0x71a)](_0x8ccb16))[_0x7bd4ab(0xb7)](_0x72ff=>void 0x0!==_0x72ff)[_0x7bd4ab(0x165)]((_0x2551e6,_0x2b5196)=>Math[_0x7bd4ab(0x4ad)](_0x52da2b-(_0x2551e6&&_0x2551e6[_0x7bd4ab(0x81f)]()||0x1/0x0))-Math[_0x7bd4ab(0x4ad)](_0x52da2b-(_0x2b5196&&_0x2b5196[_0x7bd4ab(0x81f)]()||0x1/0x0)))[_0x7bd4ab(0x7ea)](_0x435e84=>_0x435e84[_0x7bd4ab(0x66e)]());}}class _0x189197{[_0x20cdf8(0x6f5)];[_0x20cdf8(0x461)];[_0x20cdf8(0x247)];['authService'];[_0x20cdf8(0x846)];[_0x20cdf8(0x252)];[_0x20cdf8(0x774)];['contentManager'];[_0x20cdf8(0x2cc)];[_0x20cdf8(0x73e)];['statsManager'];['detectionManager'];['remediationManager'];['nodeManager'];['graphService'];[_0x20cdf8(0x361)]=new _0x434897();[_0x20cdf8(0x584)];[_0x20cdf8(0x21a)];constructor(_0x4ed373,_0x4165fe,_0x268410,_0x1e5e62,_0x34c32e,_0x3d72a2,_0x4debb5){const _0x49cf6f=_0x20cdf8;switch(this['vendorId']=_0x4ed373,this[_0x49cf6f(0x461)]=_0x4165fe,this['authNode']=_0x268410,this['authService']=_0x1e5e62,this[_0x49cf6f(0x846)]=_0x34c32e,this[_0x49cf6f(0x252)]=_0x3d72a2,this[_0x49cf6f(0x774)]=_0x4debb5,_0x268410['type']){case _0x3b754d['NodeType'][_0x49cf6f(0x103)]:this[_0x49cf6f(0x21a)]=new _0x4f5e72(_0x268410['getId'](),_0x268410[_0x49cf6f(0x6a1)](),_0x268410[_0x49cf6f(0x886)]());break;case _0x3b754d[_0x49cf6f(0x49e)][_0x49cf6f(0x7a5)]:default:this['localNode']=new _0x4a0d7c(_0x268410['getId']());}const _0x6d107b=this[_0x49cf6f(0x820)]();this[_0x49cf6f(0x6e7)]=new _0xe9f6f9(this[_0x49cf6f(0x846)]),this[_0x49cf6f(0x29e)]=new _0x320bbf(_0x6d107b,this['options'],this[_0x49cf6f(0x252)][_0x49cf6f(0x456)]),this[_0x49cf6f(0x2cc)]=new _0x2a5578(_0x6d107b,this[_0x49cf6f(0x306)],this['graphService'],this[_0x49cf6f(0x252)][_0x49cf6f(0x852)],this[_0x49cf6f(0x846)]),this['subscriptionManager']=new _0x1e65a5(_0x6d107b,this[_0x49cf6f(0x846)]['maxOutgoingSubscriptions'],this[_0x49cf6f(0x6e7)][_0x49cf6f(0x398)]()),this[_0x49cf6f(0x4b4)]=new _0x5f51e3(_0x6d107b),this[_0x49cf6f(0x789)]=new _0xbba473(_0x6d107b),this[_0x49cf6f(0x4dd)]=new _0x4b546b(_0x6d107b),this[_0x49cf6f(0x8c6)]=new _0x2ff8d5(_0x6d107b,this['graphService']),this[_0x49cf6f(0x584)]=this[_0x49cf6f(0x4c9)]();}['open'](){const _0x3fef20=_0x20cdf8,_0x4314e3=this[_0x3fef20(0x820)]();this[_0x3fef20(0x2cc)]=new _0x2a5578(_0x4314e3,this[_0x3fef20(0x306)],this[_0x3fef20(0x6e7)],this[_0x3fef20(0x252)]['iceServers'],this['options']),this[_0x3fef20(0x73e)]=new _0x1e65a5(_0x4314e3,this['options'][_0x3fef20(0x5fd)],this[_0x3fef20(0x6e7)]['getMaxDistance']()),this[_0x3fef20(0x4b4)]=new _0x5f51e3(_0x4314e3),this['detectionManager']=new _0xbba473(_0x4314e3),this[_0x3fef20(0x4dd)]=new _0x4b546b(_0x4314e3),this['nodeManager']=new _0x2ff8d5(_0x4314e3,this[_0x3fef20(0x6e7)]);const _0xaf6147=this['connectionManager']['getConnectionGroup']();this[_0x3fef20(0x29e)][_0x3fef20(0x24c)]()[_0x3fef20(0x34b)](_0x57b7c7=>{const _0xeb3d9=_0x3fef20;this[_0xeb3d9(0x73e)][_0xeb3d9(0x5e5)](_0x57b7c7,_0xaf6147),this[_0xeb3d9(0x73e)]['createIncomingSubscription'](_0xaf6147,_0x57b7c7),_0x57b7c7[_0xeb3d9(0x8b5)]();}),this[_0x3fef20(0x29e)][_0x3fef20(0x2d0)]()['forEach'](_0x4437cb=>{const _0x3e9257=_0x3fef20;this[_0x3e9257(0x73e)][_0x3e9257(0x5e5)](_0x4437cb,_0xaf6147),this[_0x3e9257(0x73e)]['createIncomingSubscription'](_0xaf6147,_0x4437cb),_0x4437cb[_0x3e9257(0x8b5)](),_0x4437cb['sync']();}),this[_0x3fef20(0x29e)][_0x3fef20(0x805)]()[_0x3fef20(0x34b)](_0x275e97=>{const _0x399770=_0x3fef20;this[_0x399770(0x73e)][_0x399770(0x5e5)](_0x275e97,_0xaf6147),this[_0x399770(0x73e)][_0x399770(0x6c5)](_0xaf6147,_0x275e97),_0x275e97['reset'](),this[_0x399770(0x4ee)](_0x275e97);}),this[_0x3fef20(0x29e)][_0x3fef20(0x458)]()[_0x3fef20(0x34b)](_0x3c94ea=>{const _0x4c915a=_0x3fef20;this[_0x4c915a(0x73e)][_0x4c915a(0x5e5)](_0x3c94ea,_0xaf6147),this[_0x4c915a(0x73e)]['createIncomingSubscription'](_0xaf6147,_0x3c94ea),_0x3c94ea[_0x4c915a(0x8b5)]();}),this[_0x3fef20(0x29e)][_0x3fef20(0x73a)]()['forEach'](_0x50ab1a=>{const _0x4c40d3=_0x3fef20;this[_0x4c40d3(0x73e)]['createOutgoingSubscription'](_0x50ab1a,_0xaf6147),this['subscriptionManager'][_0x4c40d3(0x6c5)](_0xaf6147,_0x50ab1a),_0x50ab1a[_0x4c40d3(0x8b5)]();}),this[_0x3fef20(0x29e)]['getVectorDatabases']()[_0x3fef20(0x34b)](_0x25910f=>{const _0x255cdb=_0x3fef20;this[_0x255cdb(0x73e)][_0x255cdb(0x5e5)](_0x25910f,_0xaf6147),this[_0x255cdb(0x73e)][_0x255cdb(0x6c5)](_0xaf6147,_0x25910f),_0x25910f[_0x255cdb(0x8b5)]();}),this['contentManager'][_0x3fef20(0x239)]()[_0x3fef20(0x34b)](_0x1690d9=>{const _0x226231=_0x3fef20;this[_0x226231(0x73e)][_0x226231(0x5e5)](_0x1690d9,_0xaf6147),this[_0x226231(0x73e)][_0x226231(0x6c5)](_0xaf6147,_0x1690d9),_0x1690d9[_0x226231(0x8b5)]();}),this[_0x3fef20(0x584)]=this['initializeSystemTopic']();}[_0x20cdf8(0x67e)](_0x3845e7){const _0xfb3643=_0x20cdf8;try{this['systemTopic'][_0xfb3643(0x188)](_0x3845e7);}catch(_0x4d2de0){this[_0xfb3643(0x5da)](_0x4d2de0,{});}}[_0x20cdf8(0x174)](_0x582267){const _0xc21c4c=_0x20cdf8;try{this[_0xc21c4c(0x361)][_0xc21c4c(0x61b)](_0x582267);}catch(_0x244fa0){this['handleError'](_0x244fa0,{});}}[_0x20cdf8(0x28f)](_0x657221,_0x16c88c){const _0xd4a2b3=_0x20cdf8;return this[_0xd4a2b3(0x2cc)][_0xd4a2b3(0x28f)](_0x657221,_0x16c88c);}[_0x20cdf8(0x1f8)](_0x3edbdb){const _0x3288a4=_0x20cdf8;try{return this[_0x3288a4(0x2cc)][_0x3288a4(0x1f8)](_0x3edbdb);}catch(_0x51a539){throw this[_0x3288a4(0x5da)](_0x51a539,{});}}['getConnections'](_0x2514f3){const _0x99d6c6=_0x20cdf8;try{return this[_0x99d6c6(0x2cc)]['getConnections'](_0x2514f3);}catch(_0x2df5cc){throw this['handleError'](_0x2df5cc,{});}}[_0x20cdf8(0x2cf)](_0x159a7a,_0x239964){const _0x1ad5cb=_0x20cdf8;try{return this[_0x1ad5cb(0x29e)][_0x1ad5cb(0x3cc)](_0x547d31=>_0x547d31['getOwnerId']()===_0x159a7a&&_0x547d31[_0x1ad5cb(0x353)]()===_0x239964)[0x0];}catch(_0x36c984){throw this[_0x1ad5cb(0x5da)](_0x36c984,{});}}['getLocalMediaStream'](_0x5653bc){const _0x1b5448=_0x20cdf8;try{return this[_0x1b5448(0x29e)][_0x1b5448(0x6fb)](_0xd4c808=>_0xd4c808[_0x1b5448(0x353)]()===_0x5653bc)[0x0];}catch(_0xef317c){throw this[_0x1b5448(0x5da)](_0xef317c,{});}}[_0x20cdf8(0x544)]=(..._0x12b382)=>{const _0x13655f=_0x20cdf8;try{return this[_0x13655f(0x774)][_0x13655f(0x78d)](..._0x12b382);}catch(_0x5e5064){throw this['handleError'](_0x5e5064,{});}};[_0x20cdf8(0x825)](_0x6e1251){const _0x1b2c47=_0x20cdf8;try{this[_0x1b2c47(0x4b4)][_0x1b2c47(0x5f9)](_0x6e1251);}catch(_0x18a0c7){throw this[_0x1b2c47(0x5da)](_0x18a0c7,{});}}[_0x20cdf8(0x38f)](_0x5207ae){const _0x17500b=_0x20cdf8;try{this[_0x17500b(0x4b4)][_0x17500b(0x325)](_0x5207ae);}catch(_0x5b8933){throw this['handleError'](_0x5b8933,{});}}[_0x20cdf8(0x35a)](_0x46cd4b){const _0x5cda45=_0x20cdf8;return this[_0x5cda45(0x2cc)][_0x5cda45(0x35a)](_0x46cd4b);}async[_0x20cdf8(0x6f9)](){const _0xf735bc=_0x20cdf8;try{await this[_0xf735bc(0x2cc)][_0xf735bc(0x6f9)]();const _0x5accb2=await this['nodeManager'][_0xf735bc(0x26b)]();for(const _0x595513 of _0x5accb2)this[_0xf735bc(0x2cc)][_0xf735bc(0x28f)](_0x595513);}catch(_0x50085){throw this[_0xf735bc(0x5da)](_0x50085,{});}}[_0x20cdf8(0x1f2)](_0x105ec5){const _0x50e8c0=_0x20cdf8;this[_0x50e8c0(0x21a)][_0x50e8c0(0x6f6)]===_0x3b754d[_0x50e8c0(0x49e)][_0x50e8c0(0x103)]&&(this[_0x50e8c0(0x21a)][_0x50e8c0(0x2d6)](_0x105ec5[_0x50e8c0(0x886)]()),this[_0x50e8c0(0x21a)]['setDisplayName'](_0x105ec5[_0x50e8c0(0x6a1)]()));}['close']({force:_0x429b43=!0x1},_0x292d8e=!0x1){const _0x402ff2=_0x20cdf8;if(_0x585abf[_0x402ff2(0x7ae)](_0x402ff2(0x3b0),{'clusterId':this[_0x402ff2(0x461)],'nodeId':this[_0x402ff2(0x21a)][_0x402ff2(0x66e)](),'nodeType':this[_0x402ff2(0x21a)]['type']}),!_0x429b43&&this[_0x402ff2(0x2cc)][_0x402ff2(0x3a0)]())throw new _0x47cbae(_0x40f53d[_0x402ff2(0x3c9)],_0x402ff2(0x1ca));_0x585abf[_0x402ff2(0x79c)](),this[_0x402ff2(0x584)](),this[_0x402ff2(0x4dd)][_0x402ff2(0x671)](),this[_0x402ff2(0x789)][_0x402ff2(0x671)](),this[_0x402ff2(0x4b4)][_0x402ff2(0x671)](),this[_0x402ff2(0x73e)][_0x402ff2(0x671)](),this['connectionManager'][_0x402ff2(0x671)](),this[_0x402ff2(0x29e)][_0x402ff2(0x671)](_0x292d8e),this[_0x402ff2(0x8c6)]['close']();}[_0x20cdf8(0x24a)](_0x36976f){const _0x2980c5=_0x20cdf8;try{const _0x30887a=this[_0x2980c5(0x29e)][_0x2980c5(0x6c9)](_0x36976f),_0x32986e=this[_0x2980c5(0x2cc)]['getConnectionGroup']();return this[_0x2980c5(0x73e)][_0x2980c5(0x5e5)](_0x30887a,_0x32986e),this[_0x2980c5(0x73e)][_0x2980c5(0x6c5)](_0x32986e,_0x30887a),_0x30887a;}catch(_0x3e83bf){throw this[_0x2980c5(0x5da)](_0x3e83bf,{});}}async['openObjectStoreBucket'](_0x11f74a,_0x11a898){const _0x22f536=_0x20cdf8;try{const _0xdecd18=this[_0x22f536(0x29e)][_0x22f536(0x6eb)](_0x11f74a,this[_0x22f536(0x846)]['objectStoreConnector']),_0x22c05f=this[_0x22f536(0x2cc)][_0x22f536(0x4d5)]();return this['subscriptionManager'][_0x22f536(0x5e5)](_0xdecd18,_0x22c05f),this[_0x22f536(0x73e)][_0x22f536(0x6c5)](_0x22c05f,_0xdecd18),await _0xdecd18[_0x22f536(0x116)](_0x11a898?.[_0x22f536(0x62b)]??!0x0),_0xdecd18;}catch(_0x520277){throw this[_0x22f536(0x5da)](_0x520277,{});}}async[_0x20cdf8(0x59e)](_0x363579,_0x4fcf50){const _0x3d50b7=_0x20cdf8;try{if(!this['options'][_0x3d50b7(0x1bc)])throw new _0x47cbae(_0x40f53d[_0x3d50b7(0x7f5)],_0x3d50b7(0x67a));if(!(this[_0x3d50b7(0x247)]instanceof _0x272e36))throw new _0x47cbae(_0x40f53d[_0x3d50b7(0x7e0)],_0x3d50b7(0x899));const _0x5ec6b3=this[_0x3d50b7(0x846)][_0x3d50b7(0x1bc)][_0x3d50b7(0x333)](_0x4fcf50);if(!_0x5ec6b3)throw new _0x47cbae(_0x40f53d[_0x3d50b7(0x7f5)],'Missing\x20external\x20storage\x20connector');const _0x8a504b=this['contentManager'][_0x3d50b7(0x553)](_0x363579,_0x5ec6b3),_0x3e1b68=this[_0x3d50b7(0x2cc)]['getConnectionGroup']();return this[_0x3d50b7(0x73e)][_0x3d50b7(0x5e5)](_0x8a504b,_0x3e1b68),this['subscriptionManager'][_0x3d50b7(0x6c5)](_0x3e1b68,_0x8a504b),await _0x8a504b[_0x3d50b7(0x8fc)](),_0x8a504b;}catch(_0x2703a6){throw this[_0x3d50b7(0x5da)](_0x2703a6,{});}}async[_0x20cdf8(0x562)](_0x57872e,_0x5649e2,_0x373629){const _0x36e806=_0x20cdf8;try{_0x373629=_0x373629||this[_0x36e806(0x846)]['keyValueDatabaseConnector'];const _0x3b59d7=await this[_0x36e806(0x29e)]['createKeyValueDatabase'](_0x57872e,_0x5649e2,_0x373629),_0x316678=this[_0x36e806(0x2cc)][_0x36e806(0x4d5)]();return this[_0x36e806(0x73e)]['createOutgoingSubscription'](_0x3b59d7,_0x316678),this['subscriptionManager']['createIncomingSubscription'](_0x316678,_0x3b59d7),await _0x3b59d7[_0x36e806(0x8fc)](),this[_0x36e806(0x4ee)](_0x3b59d7),_0x3b59d7;}catch(_0x5a422a){throw this['handleError'](_0x5a422a,{});}}async['openJobDispatcher'](_0x23152d){const _0xa4198a=_0x20cdf8;try{const _0x1fde1d=await this[_0xa4198a(0x29e)][_0xa4198a(0x414)](_0x23152d,this[_0xa4198a(0x6e7)]),_0x411a57=this[_0xa4198a(0x2cc)][_0xa4198a(0x4d5)]();return this[_0xa4198a(0x73e)][_0xa4198a(0x5e5)](_0x1fde1d,_0x411a57),this[_0xa4198a(0x73e)]['createIncomingSubscription'](_0x411a57,_0x1fde1d),_0x1fde1d[_0xa4198a(0x8fc)](),_0x1fde1d;}catch(_0x3f7fa0){throw this[_0xa4198a(0x5da)](_0x3f7fa0,{});}}async[_0x20cdf8(0x36d)](_0x1e23c7){throw new Error('Method\x20not\x20supported');}async['openGenerativeAIContext'](_0x390539){const _0xb7c0ba=_0x20cdf8;try{const _0x52d4d9=await this[_0xb7c0ba(0x29e)]['createGenerativeAIContext'](_0x390539,this[_0xb7c0ba(0x6e7)]),_0x45689f=this[_0xb7c0ba(0x2cc)][_0xb7c0ba(0x4d5)]();return this['subscriptionManager'][_0xb7c0ba(0x5e5)](_0x52d4d9,_0x45689f),this[_0xb7c0ba(0x73e)][_0xb7c0ba(0x6c5)](_0x45689f,_0x52d4d9),_0x52d4d9[_0xb7c0ba(0x8fc)](),_0x52d4d9;}catch(_0x356c7e){throw console[_0xb7c0ba(0x7b5)](_0x356c7e),this[_0xb7c0ba(0x5da)](_0x356c7e,{});}}async['openGenerativeAIWorker'](_0x20b12c){const _0x2596cf=_0x20cdf8;try{if(!this[_0x2596cf(0x846)][_0x2596cf(0x6b4)]||!this[_0x2596cf(0x846)]['documentParserConnector']||!this[_0x2596cf(0x846)]['nlpLibraryConnector'])throw new _0x47cbae(_0x40f53d[_0x2596cf(0x405)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x2596cf(0x247)]instanceof _0x272e36))throw new _0x47cbae(_0x40f53d[_0x2596cf(0x7e0)],_0x2596cf(0x899));const _0x3419d9=[];for(const _0x4ebd5e of this[_0x2596cf(0x846)][_0x2596cf(0x6b4)])_0x3419d9['push'](new _0x4ebd5e());const _0x40522b=new this[(_0x2596cf(0x846))][(_0x2596cf(0x518))](),_0x42c78b=new this[(_0x2596cf(0x846))][(_0x2596cf(0x8bf))]();let _0x44bddc;this[_0x2596cf(0x846)][_0x2596cf(0x393)]&&(_0x44bddc=new this[(_0x2596cf(0x846))][(_0x2596cf(0x393))]());const _0xb89b75=await this[_0x2596cf(0x29e)]['createGenerativeAIWorker'](_0x20b12c,this['authNode'],_0x3419d9,_0x40522b,_0x42c78b,_0x44bddc),_0x5bb6ff=this['connectionManager'][_0x2596cf(0x4d5)]();this[_0x2596cf(0x73e)]['createOutgoingSubscription'](_0xb89b75,_0x5bb6ff),this[_0x2596cf(0x73e)][_0x2596cf(0x6c5)](_0x5bb6ff,_0xb89b75);const _0x15885f=this['nodeManager'][_0x2596cf(0xd4)]();return _0xb89b75[_0x2596cf(0x8fc)](0x0===_0x15885f[_0x2596cf(0x51a)]||void 0x0),_0xb89b75;}catch(_0xf751f){throw this[_0x2596cf(0x5da)](_0xf751f,{});}}['openGraphDatabase'](_0xc83cc1){const _0x5d4f0f=_0x20cdf8;try{if(!this[_0x5d4f0f(0x846)][_0x5d4f0f(0x742)])throw new _0x47cbae(_0x40f53d[_0x5d4f0f(0x66f)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x5d4f0f(0x247)]instanceof _0x272e36))throw new _0x47cbae(_0x40f53d[_0x5d4f0f(0x7e0)],'Node\x20is\x20not\x20an\x20agent');const _0x4b8c56=this[_0x5d4f0f(0x29e)][_0x5d4f0f(0x35d)](_0xc83cc1,this['options']['graphDatabaseConnector']),_0x2bf0f8=this[_0x5d4f0f(0x2cc)]['getConnectionGroup']();return this[_0x5d4f0f(0x73e)][_0x5d4f0f(0x5e5)](_0x4b8c56,_0x2bf0f8),this[_0x5d4f0f(0x73e)][_0x5d4f0f(0x6c5)](_0x2bf0f8,_0x4b8c56),_0x4b8c56;}catch(_0x389b3d){throw this[_0x5d4f0f(0x5da)](_0x389b3d,{});}}[_0x20cdf8(0x7c3)](_0x1c43be){const _0x53f7b0=_0x20cdf8;try{if(!this['options'][_0x53f7b0(0x4a5)])throw new _0x47cbae(_0x40f53d['VectorDatabaseMissingConnector'],_0x53f7b0(0x6ed));if(!(this['authNode']instanceof _0x272e36))throw new _0x47cbae(_0x40f53d[_0x53f7b0(0x7e0)],_0x53f7b0(0x899));const _0x24616c=this[_0x53f7b0(0x29e)]['createVectorDatabase'](_0x1c43be,this[_0x53f7b0(0x846)][_0x53f7b0(0x4a5)]),_0x233fb4=this[_0x53f7b0(0x2cc)]['getConnectionGroup']();return this[_0x53f7b0(0x73e)][_0x53f7b0(0x5e5)](_0x24616c,_0x233fb4),this[_0x53f7b0(0x73e)][_0x53f7b0(0x6c5)](_0x233fb4,_0x24616c),_0x24616c;}catch(_0x3e6235){throw this[_0x53f7b0(0x5da)](_0x3e6235,{});}}['getPubSubTopics'](_0x2ab978){const _0x2b0a00=_0x20cdf8;try{return this[_0x2b0a00(0x29e)]['getPubSubTopics'](_0x2ab978);}catch(_0x328499){throw this[_0x2b0a00(0x5da)](_0x328499,{});}}['getObjectStoreBuckets'](_0x37e55b){const _0x2ac4ba=_0x20cdf8;try{return this['contentManager'][_0x2ac4ba(0x2d0)](_0x37e55b);}catch(_0x1f5920){throw this[_0x2ac4ba(0x5da)](_0x1f5920,{});}}['getExternalStorageConnections'](_0xd605ea){const _0xb3d91b=_0x20cdf8;try{return this['contentManager'][_0xb3d91b(0x3a5)](_0xd605ea);}catch(_0x2defb4){throw this[_0xb3d91b(0x5da)](_0x2defb4,{});}}[_0x20cdf8(0x805)](_0x17fe2e){const _0x59305a=_0x20cdf8;try{return this[_0x59305a(0x29e)][_0x59305a(0x805)](_0x17fe2e);}catch(_0x2e49ea){throw this[_0x59305a(0x5da)](_0x2e49ea,{});}}[_0x20cdf8(0x109)](_0x31d5e1){const _0x582a28=_0x20cdf8;try{return this[_0x582a28(0x29e)][_0x582a28(0x109)](_0x31d5e1);}catch(_0x1a334f){throw this[_0x582a28(0x5da)](_0x1a334f,{});}}[_0x20cdf8(0x3e4)](_0x428773){const _0x4c1ed2=_0x20cdf8;try{return this[_0x4c1ed2(0x29e)][_0x4c1ed2(0x3e4)](_0x428773);}catch(_0x9ebc1a){throw this[_0x4c1ed2(0x5da)](_0x9ebc1a,{});}}[_0x20cdf8(0x239)](_0x44ad63){const _0x4de9c3=_0x20cdf8;try{return this[_0x4de9c3(0x29e)][_0x4de9c3(0x239)](_0x44ad63);}catch(_0x595d59){throw this[_0x4de9c3(0x5da)](_0x595d59,{});}}[_0x20cdf8(0x4ca)](_0x32e44e,_0x9fd625){const _0x5c16e4=_0x20cdf8;if(!this[_0x5c16e4(0x252)][_0x5c16e4(0x45b)]['includes'](_0x1b9d67['MediaStream']))throw new _0x47cbae(_0x40f53d[_0x5c16e4(0x2bd)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x5c16e4(0x29e)]['createLocalMediaStream'](_0x32e44e,_0x9fd625);}catch(_0x3ec507){throw this[_0x5c16e4(0x5da)](_0x3ec507,{});}}[_0x20cdf8(0x7e5)](_0x11d195,_0x3aeb0d){const _0x58f211=_0x20cdf8;if(!this[_0x58f211(0x252)][_0x58f211(0x45b)][_0x58f211(0x8cb)](_0x1b9d67[_0x58f211(0x3ab)]))throw new _0x47cbae(_0x40f53d[_0x58f211(0x2bd)],_0x58f211(0x7e7));try{return this[_0x58f211(0x29e)][_0x58f211(0x7e5)](_0x11d195,_0x3aeb0d);}catch(_0x10368b){throw this[_0x58f211(0x5da)](_0x10368b,{});}}[_0x20cdf8(0x6fb)](_0xfd4cdd){const _0x75e6f2=_0x20cdf8;if(!this['configs'][_0x75e6f2(0x45b)][_0x75e6f2(0x8cb)](_0x1b9d67[_0x75e6f2(0x3ab)]))throw new _0x47cbae(_0x40f53d[_0x75e6f2(0x2bd)],_0x75e6f2(0x7e7));try{return this[_0x75e6f2(0x29e)]['getLocalMediaStreams'](_0xfd4cdd);}catch(_0x20486c){throw this['handleError'](_0x20486c,{});}}[_0x20cdf8(0x3cc)](_0xd77f3d){const _0x40b40e=_0x20cdf8;if(!this[_0x40b40e(0x252)][_0x40b40e(0x45b)]['includes'](_0x1b9d67['MediaStream']))throw new _0x47cbae(_0x40f53d[_0x40b40e(0x2bd)],_0x40b40e(0x7e7));try{return this[_0x40b40e(0x29e)][_0x40b40e(0x3cc)](_0xd77f3d);}catch(_0x3e81a6){throw this[_0x40b40e(0x5da)](_0x3e81a6,{});}}[_0x20cdf8(0x756)](_0x2f8659){const _0x28e38e=_0x20cdf8;try{return this[_0x28e38e(0x29e)][_0x28e38e(0x756)](_0x2f8659);}catch(_0x1d205d){throw this[_0x28e38e(0x5da)](_0x1d205d,{});}}['getDistance'](_0x4ceb35,_0x1b4604){const _0x3132be=_0x20cdf8;return this[_0x3132be(0x8c6)][_0x3132be(0x6ff)](_0x4ceb35,_0x1b4604);}[_0x20cdf8(0x41f)](){const _0xf5b544=_0x20cdf8;return this['nodeManager'][_0xf5b544(0x41f)]();}[_0x20cdf8(0x342)](_0x4120e6){const _0x4b6fee=_0x20cdf8;try{return this['nodeManager'][_0x4b6fee(0x342)](_0x4120e6);}catch(_0x21b10f){throw this[_0x4b6fee(0x5da)](_0x21b10f,{});}}['waitForArrayBufferSize'](){const _0x583dc7=_0x20cdf8;return this[_0x583dc7(0x2cc)][_0x583dc7(0x73d)]();}async[_0x20cdf8(0x87a)](_0x383005){const _0x27f4a8=_0x20cdf8;try{if(_0x585abf['log'](_0x324ffe[_0x27f4a8(0x2ce)],_0x27f4a8(0x549),this[_0x27f4a8(0x8c6)][_0x27f4a8(0x5db)](),_0x383005),_0x260e53(_0x383005,this[_0x27f4a8(0x8c6)][_0x27f4a8(0x5db)]()))return void this[_0x27f4a8(0x2cc)][_0x27f4a8(0x614)](_0x383005);switch(_0x383005[_0x27f4a8(0x274)]){case _0x213fd0[_0x27f4a8(0x326)]:this[_0x27f4a8(0x4b4)][_0x27f4a8(0x720)](_0x383005),this[_0x27f4a8(0x73e)][_0x27f4a8(0x720)](_0x383005),this['contentManager'][_0x27f4a8(0x720)](_0x383005);break;case _0x213fd0[_0x27f4a8(0x772)]:this['subscriptionManager'][_0x27f4a8(0xd5)](_0x383005),this[_0x27f4a8(0x2cc)][_0x27f4a8(0xd5)](_0x383005),this[_0x27f4a8(0x29e)][_0x27f4a8(0xd5)](_0x383005),this['nodeManager'][_0x27f4a8(0xd5)](_0x383005);break;case _0x213fd0[_0x27f4a8(0x5a7)]:this[_0x27f4a8(0x4dd)]['handleDetectionSystemEvents'](_0x383005);break;case _0x213fd0[_0x27f4a8(0x235)]:this[_0x27f4a8(0x4dd)][_0x27f4a8(0x7a2)](_0x383005);break;case _0x213fd0[_0x27f4a8(0x8a0)]:this[_0x27f4a8(0x789)][_0x27f4a8(0x808)](_0x383005);break;case _0x213fd0[_0x27f4a8(0x624)]:_0x383005['content'][_0x27f4a8(0x6f6)]!==_0x2a8a6d[_0x27f4a8(0x437)]?(this['subscriptionManager'][_0x27f4a8(0x590)](_0x383005),this['contentManager'][_0x27f4a8(0x590)](_0x383005)):(this[_0x27f4a8(0x29e)][_0x27f4a8(0x590)](_0x383005),this[_0x27f4a8(0x73e)][_0x27f4a8(0x590)](_0x383005));break;case _0x213fd0['PeerConnection']:await this[_0x27f4a8(0x2cc)][_0x27f4a8(0x38c)](_0x383005),this[_0x27f4a8(0x4b4)][_0x27f4a8(0x38c)](_0x383005),this[_0x27f4a8(0x8c6)]['handlePeerConnectionSystemEvents'](_0x383005),this['subscriptionManager'][_0x27f4a8(0x38c)](_0x383005);}}catch(_0x5f4018){throw this['handleError'](_0x5f4018,{});}}[_0x20cdf8(0x5da)](_0x38e627,_0x5e5a94){const _0x3bf41e=_0x20cdf8;if(!(_0x38e627 instanceof _0x5f3fcd)){if(_0x38e627 instanceof _0x47cbae)throw _0x38e627;if(!(_0x38e627 instanceof Error))throw new _0x47cbae(_0x40f53d[_0x3bf41e(0x8dc)],_0x3bf41e(0x715)+_0x38e627);if(!(_0x38e627 instanceof _0x5a569f))throw new _0x47cbae(_0x40f53d['InternalSDKError'],_0x3bf41e(0x79f)+_0x38e627[_0x3bf41e(0x129)]);switch(_0x38e627[_0x3bf41e(0x279)]){case _0x5a569f['codes'][_0x3bf41e(0x3b9)]:case _0x5a569f[_0x3bf41e(0x4e8)]['MissingRemoteConnection']:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0x698)]:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0x493)]:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0x7a6)]:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0xf4)]:case _0x5a569f['codes'][_0x3bf41e(0x620)]:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0x2c3)]:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0x3e3)]:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0x59c)]:case _0x5a569f[_0x3bf41e(0x4e8)][_0x3bf41e(0x31b)]:case _0x5a569f['codes']['InvalidSubscription']:}throw _0x585abf['error'](_0x3bf41e(0x198)+_0x38e627['message'],{'clusterId':this[_0x3bf41e(0x461)],'nodeId':this[_0x3bf41e(0x21a)][_0x3bf41e(0x66e)](),'nodeType':this['localNode']['type']},_0x38e627),new _0x47cbae(_0x40f53d[_0x3bf41e(0x8dc)],_0x3bf41e(0x67b)+_0x38e627[_0x3bf41e(0x129)]);}}[_0x20cdf8(0x820)](){return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this['clusterId'],'localNode':this['localNode']};}['initializeSystemTopic'](){const _0x28ffd4=_0x20cdf8;return this[_0x28ffd4(0x361)][_0x28ffd4(0x3cb)](_0xe18161=>{const _0x26ac6e=_0x28ffd4,_0xefa697=_0x3f02e9(_0xe18161,this[_0x26ac6e(0x21a)][_0x26ac6e(0x66e)]()),_0x5ee17e=_0xe18161[_0x26ac6e(0x274)]===_0x213fd0['Stats']||_0xe18161[_0x26ac6e(0x274)]===_0x213fd0[_0x26ac6e(0x52e)]&&_0xe18161[_0x26ac6e(0x843)][_0x26ac6e(0x6f6)]===_0x320761[_0x26ac6e(0x8a0)]?_0x324ffe[_0x26ac6e(0x277)]:_0x324ffe['System'];_0x585abf[_0x26ac6e(0x6d9)](_0x5ee17e,_0xe18161[_0x26ac6e(0x16b)]+_0x26ac6e(0x7a8)+_0xefa697,_0xe18161),this[_0x26ac6e(0x87a)](_0xe18161)[_0x26ac6e(0x3f7)](_0x344fb0=>{const _0x2cad86=_0x26ac6e;console[_0x2cad86(0x7b5)](_0x344fb0);});});}async[_0x20cdf8(0x4ee)](_0x1927a,_0x5fdbf){const _0x597a88=_0x20cdf8;_0x5fdbf=this['findNextAncestor'](_0x5fdbf),await _0x1927a[_0x597a88(0x116)](_0x5fdbf,()=>this[_0x597a88(0x4ee)](_0x1927a,_0x5fdbf));}['findNextAncestor'](_0x310f65){const _0x3f12fc=_0x20cdf8,_0x44c885=this[_0x3f12fc(0x8c6)][_0x3f12fc(0xd4)]();if(!_0x310f65)return _0x44c885[0x0];const _0x1c7313=_0x44c885[_0x3f12fc(0x218)](_0x5cd848=>_0x310f65===_0x5cd848),_0x1cc13e=_0x44c885[_0x1c7313+0x1];return _0x44c885[_0x3f12fc(0x51a)]>0x0&&!_0x1cc13e?_0x44c885[0x0]:_0x1cc13e;}}class _0x17d1c7{[_0x20cdf8(0x6f5)];[_0x20cdf8(0x461)];[_0x20cdf8(0x247)];[_0x20cdf8(0x636)];['orchestrator'];constructor(_0x741846,_0x4b0b7d,_0x3da1ec,_0x2d1287,_0x1851c3,_0x54e5a3,_0x3a32a9=new _0x2a7bb8()){const _0x161621=_0x20cdf8;this[_0x161621(0x6f5)]=_0x741846,this[_0x161621(0x461)]=_0x4b0b7d,this[_0x161621(0x247)]=_0x3da1ec,this[_0x161621(0x636)]=_0x3a32a9,this[_0x161621(0x3bb)]=new _0x189197(this[_0x161621(0x6f5)],this[_0x161621(0x461)],_0x3da1ec,_0x2d1287,_0x1851c3,_0x54e5a3,this);}async[_0x20cdf8(0x1e1)](){const _0x10403d=_0x20cdf8;await this['orchestrator']['initialize'](),this[_0x10403d(0x247)][_0x10403d(0x6f6)]===_0x3b754d[_0x10403d(0x49e)][_0x10403d(0x103)]&&this['authNode'][_0x10403d(0x660)](this[_0x10403d(0x461)],_0xf6ba75=>{const _0x37ddc9=_0x10403d;this['orchestrator'][_0x37ddc9(0x1f2)](_0xf6ba75);});}['leave'](_0x1bf15f={}){const _0x41d78a=_0x20cdf8;this[_0x41d78a(0x3bb)][_0x41d78a(0x671)](_0x1bf15f),this[_0x41d78a(0x247)][_0x41d78a(0x6f6)]===_0x3b754d[_0x41d78a(0x49e)][_0x41d78a(0x103)]&&this[_0x41d78a(0x247)]['unregisterCluster'](this[_0x41d78a(0x461)]),this[_0x41d78a(0x78d)](_0x41d78a(0x6b8),void 0x0);}[_0x20cdf8(0x24a)](_0x77dbfd){const _0x3f7408=_0x20cdf8,_0x19a02a=this['orchestrator']['openPubSubTopic'](_0x77dbfd);return{'getName':_0x19a02a[_0x3f7408(0x5d5)]['bind'](_0x19a02a),'getOwnerId':_0x19a02a[_0x3f7408(0x25d)][_0x3f7408(0x684)](_0x19a02a),'getContentType':_0x19a02a[_0x3f7408(0x7e9)][_0x3f7408(0x684)](_0x19a02a),'publish':_0x19a02a[_0x3f7408(0x1ed)][_0x3f7408(0x684)](_0x19a02a),'subscribe':_0x19a02a['subscribe'][_0x3f7408(0x684)](_0x19a02a),'unsubscribe':_0x19a02a[_0x3f7408(0x579)][_0x3f7408(0x684)](_0x19a02a),'close':_0x19a02a[_0x3f7408(0x671)][_0x3f7408(0x684)](_0x19a02a)};}async[_0x20cdf8(0x707)](_0x47cce1,_0x34ddbf){const _0x24937c=_0x20cdf8,_0x2bc7a1=await this[_0x24937c(0x3bb)]['openObjectStoreBucket'](_0x47cce1,_0x34ddbf);return{'getName':_0x2bc7a1[_0x24937c(0x5d5)][_0x24937c(0x684)](_0x2bc7a1),'getOwnerId':_0x2bc7a1['getOwnerId']['bind'](_0x2bc7a1),'getContentType':_0x2bc7a1[_0x24937c(0x7e9)][_0x24937c(0x684)](_0x2bc7a1),'publish':_0x2bc7a1[_0x24937c(0x1ed)][_0x24937c(0x684)](_0x2bc7a1),'unpublish':_0x2bc7a1['unpublish'][_0x24937c(0x684)](_0x2bc7a1),'get':_0x2bc7a1[_0x24937c(0x333)][_0x24937c(0x684)](_0x2bc7a1),'list':_0x2bc7a1[_0x24937c(0x532)][_0x24937c(0x684)](_0x2bc7a1),'getSize':_0x2bc7a1[_0x24937c(0x3e5)][_0x24937c(0x684)](_0x2bc7a1),'subscribe':_0x2bc7a1[_0x24937c(0x3cb)][_0x24937c(0x684)](_0x2bc7a1),'unsubscribe':_0x2bc7a1['unsubscribe']['bind'](_0x2bc7a1),'close':_0x2bc7a1['close'][_0x24937c(0x684)](_0x2bc7a1)};}async[_0x20cdf8(0x59e)](_0x7eb60e,_0x53174b){const _0x2c721b=_0x20cdf8,_0x469242=await this['orchestrator'][_0x2c721b(0x59e)](_0x7eb60e,_0x53174b);return{'getName':_0x469242[_0x2c721b(0x5d5)][_0x2c721b(0x684)](_0x469242),'getOwnerId':_0x469242[_0x2c721b(0x25d)][_0x2c721b(0x684)](_0x469242),'getContentType':_0x469242[_0x2c721b(0x7e9)][_0x2c721b(0x684)](_0x469242),'close':_0x469242['close'][_0x2c721b(0x684)](_0x469242),'get':_0x469242[_0x2c721b(0x333)][_0x2c721b(0x684)](_0x469242),'list':_0x469242[_0x2c721b(0x532)][_0x2c721b(0x684)](_0x469242),'subscribe':_0x469242[_0x2c721b(0x3cb)][_0x2c721b(0x684)](_0x469242),'unsubscribe':_0x469242['unsubscribe'][_0x2c721b(0x684)](_0x469242)};}async[_0x20cdf8(0x562)](_0x55a8db,_0x4bca90,_0x4dd53e){const _0xb7ae6=_0x20cdf8,_0x27242b=await this[_0xb7ae6(0x3bb)][_0xb7ae6(0x562)](_0x55a8db,_0x4bca90,_0x4dd53e);return{'getName':_0x27242b[_0xb7ae6(0x5d5)]['bind'](_0x27242b),'getOwnerId':_0x27242b[_0xb7ae6(0x25d)][_0xb7ae6(0x684)](_0x27242b),'getContentType':_0x27242b[_0xb7ae6(0x7e9)][_0xb7ae6(0x684)](_0x27242b),'getTable':_0x27242b[_0xb7ae6(0x5d4)][_0xb7ae6(0x684)](_0x27242b),'subscribe':_0x27242b[_0xb7ae6(0x3cb)][_0xb7ae6(0x684)](_0x27242b),'unsubscribe':_0x27242b['unsubscribe'][_0xb7ae6(0x684)](_0x27242b),'close':_0x27242b['close'][_0xb7ae6(0x684)](_0x27242b)};}async[_0x20cdf8(0x6e5)](_0x13f30f){const _0x417b9a=_0x20cdf8,_0x129128=await this[_0x417b9a(0x3bb)][_0x417b9a(0x6e5)](_0x13f30f);return{'getName':_0x129128[_0x417b9a(0x5d5)][_0x417b9a(0x684)](_0x129128),'getOwnerId':_0x129128[_0x417b9a(0x25d)]['bind'](_0x129128),'getContentType':_0x129128['getContentType'][_0x417b9a(0x684)](_0x129128),'createJob':_0x129128[_0x417b9a(0xe3)][_0x417b9a(0x684)](_0x129128),'getJob':_0x129128['getJob'][_0x417b9a(0x684)](_0x129128),'getJobs':_0x129128[_0x417b9a(0x42c)]['bind'](_0x129128),'close':_0x129128[_0x417b9a(0x671)][_0x417b9a(0x684)](_0x129128)};}async[_0x20cdf8(0x36d)](_0x38b373){const _0x408f9a=_0x20cdf8,_0x410c0c=await this[_0x408f9a(0x3bb)]['openJobWorker'](_0x38b373);return{'close':_0x410c0c[_0x408f9a(0x671)][_0x408f9a(0x684)](_0x410c0c)};}async[_0x20cdf8(0x380)](_0x1ae89b){const _0x448cfc=_0x20cdf8,_0x4d10e8=await this['orchestrator'][_0x448cfc(0x380)](_0x1ae89b);return{'createAIJob':_0x4d10e8['createAIJob']['bind'](_0x4d10e8),'ratePrompt':_0x4d10e8[_0x448cfc(0x128)]['bind'](_0x4d10e8),'downloadDocument':_0x4d10e8[_0x448cfc(0x621)][_0x448cfc(0x684)](_0x4d10e8),'getDataBucketIds':_0x4d10e8[_0x448cfc(0x7c9)][_0x448cfc(0x684)](_0x4d10e8),'close':_0x4d10e8[_0x448cfc(0x671)][_0x448cfc(0x684)](_0x4d10e8)};}async[_0x20cdf8(0x34a)](_0x6b7807){const _0x2b0176=_0x20cdf8,_0x17130c=await this['orchestrator'][_0x2b0176(0x34a)](_0x6b7807);return{'close':_0x17130c[_0x2b0176(0x671)][_0x2b0176(0x684)](_0x17130c)};}[_0x20cdf8(0x871)](_0x23f91f){const _0x5dd13f=_0x20cdf8,_0x126a1b=this[_0x5dd13f(0x3bb)][_0x5dd13f(0x871)](_0x23f91f);return{'getName':_0x126a1b[_0x5dd13f(0x5d5)][_0x5dd13f(0x684)](_0x126a1b),'getOwnerId':_0x126a1b[_0x5dd13f(0x25d)][_0x5dd13f(0x684)](_0x126a1b),'getContentType':_0x126a1b[_0x5dd13f(0x7e9)][_0x5dd13f(0x684)](_0x126a1b),'addNode':_0x126a1b[_0x5dd13f(0x775)]['bind'](_0x126a1b),'addEdge':_0x126a1b[_0x5dd13f(0x2ac)][_0x5dd13f(0x684)](_0x126a1b),'getContent':_0x126a1b['getContent'][_0x5dd13f(0x684)](_0x126a1b),'remove':_0x126a1b[_0x5dd13f(0x1f5)]['bind'](_0x126a1b),'close':_0x126a1b[_0x5dd13f(0x671)][_0x5dd13f(0x684)](_0x126a1b)};}[_0x20cdf8(0x7c3)](_0x1b6d5e){const _0x21969b=_0x20cdf8,_0x5dbd16=this[_0x21969b(0x3bb)][_0x21969b(0x7c3)](_0x1b6d5e);return{'getName':_0x5dbd16['getName'][_0x21969b(0x684)](_0x5dbd16),'getOwnerId':_0x5dbd16['getOwnerId'][_0x21969b(0x684)](_0x5dbd16),'getContentType':_0x5dbd16[_0x21969b(0x7e9)][_0x21969b(0x684)](_0x5dbd16),'search':_0x5dbd16['search']['bind'](_0x5dbd16),'insert':_0x5dbd16[_0x21969b(0x150)]['bind'](_0x5dbd16),'remove':_0x5dbd16[_0x21969b(0x1f5)][_0x21969b(0x684)](_0x5dbd16),'close':_0x5dbd16[_0x21969b(0x671)][_0x21969b(0x684)](_0x5dbd16)};}['getPubSubTopics'](_0x1627e0){const _0x51d507=_0x20cdf8;return this[_0x51d507(0x3bb)][_0x51d507(0x24c)](_0x1627e0)['map'](_0x450563=>({'getName':_0x450563[_0x51d507(0x5d5)][_0x51d507(0x684)](_0x450563),'getOwnerId':_0x450563[_0x51d507(0x25d)]['bind'](_0x450563),'getContentType':_0x450563[_0x51d507(0x7e9)][_0x51d507(0x684)](_0x450563),'publish':_0x450563['publish'][_0x51d507(0x684)](_0x450563),'subscribe':_0x450563[_0x51d507(0x3cb)][_0x51d507(0x684)](_0x450563),'unsubscribe':_0x450563['unsubscribe'][_0x51d507(0x684)](_0x450563),'close':_0x450563[_0x51d507(0x671)][_0x51d507(0x684)](_0x450563)}));}[_0x20cdf8(0x2d0)](_0x12ed03){const _0x4cd343=_0x20cdf8;return this[_0x4cd343(0x3bb)][_0x4cd343(0x2d0)](_0x12ed03)[_0x4cd343(0x7ea)](_0x469561=>({'getName':_0x469561[_0x4cd343(0x5d5)]['bind'](_0x469561),'getOwnerId':_0x469561[_0x4cd343(0x25d)]['bind'](_0x469561),'getContentType':_0x469561[_0x4cd343(0x7e9)][_0x4cd343(0x684)](_0x469561),'publish':_0x469561[_0x4cd343(0x1ed)][_0x4cd343(0x684)](_0x469561),'unpublish':_0x469561['unpublish'][_0x4cd343(0x684)](_0x469561),'get':_0x469561[_0x4cd343(0x333)][_0x4cd343(0x684)](_0x469561),'list':_0x469561[_0x4cd343(0x532)][_0x4cd343(0x684)](_0x469561),'getSize':_0x469561[_0x4cd343(0x3e5)]['bind'](_0x469561),'subscribe':_0x469561[_0x4cd343(0x3cb)][_0x4cd343(0x684)](_0x469561),'unsubscribe':_0x469561[_0x4cd343(0x579)][_0x4cd343(0x684)](_0x469561),'close':_0x469561['close'][_0x4cd343(0x684)](_0x469561)}));}[_0x20cdf8(0x3a5)](_0x5e0bc3){const _0x6e1b7=_0x20cdf8;return this[_0x6e1b7(0x3bb)][_0x6e1b7(0x3a5)](_0x5e0bc3)[_0x6e1b7(0x7ea)](_0x4e01a9=>({'getName':_0x4e01a9[_0x6e1b7(0x5d5)][_0x6e1b7(0x684)](_0x4e01a9),'getOwnerId':_0x4e01a9['getOwnerId'][_0x6e1b7(0x684)](_0x4e01a9),'getContentType':_0x4e01a9[_0x6e1b7(0x7e9)][_0x6e1b7(0x684)](_0x4e01a9),'close':_0x4e01a9[_0x6e1b7(0x671)][_0x6e1b7(0x684)](_0x4e01a9),'get':_0x4e01a9['get'][_0x6e1b7(0x684)](_0x4e01a9),'list':_0x4e01a9[_0x6e1b7(0x532)][_0x6e1b7(0x684)](_0x4e01a9),'subscribe':_0x4e01a9['subscribe'][_0x6e1b7(0x684)](_0x4e01a9),'unsubscribe':_0x4e01a9[_0x6e1b7(0x579)]['bind'](_0x4e01a9)}));}['getKeyValueDatabases'](_0x1141d5){const _0x33f5fa=_0x20cdf8;return this[_0x33f5fa(0x3bb)][_0x33f5fa(0x805)](_0x1141d5)[_0x33f5fa(0x7ea)](_0x128b5b=>({'getName':_0x128b5b[_0x33f5fa(0x5d5)][_0x33f5fa(0x684)](_0x128b5b),'getOwnerId':_0x128b5b['getOwnerId']['bind'](_0x128b5b),'getContentType':_0x128b5b[_0x33f5fa(0x7e9)][_0x33f5fa(0x684)](_0x128b5b),'getTable':_0x128b5b[_0x33f5fa(0x5d4)][_0x33f5fa(0x684)](_0x128b5b),'subscribe':_0x128b5b['subscribe'][_0x33f5fa(0x684)](_0x128b5b),'unsubscribe':_0x128b5b[_0x33f5fa(0x579)]['bind'](_0x128b5b),'close':_0x128b5b[_0x33f5fa(0x671)][_0x33f5fa(0x684)](_0x128b5b)}));}[_0x20cdf8(0x109)](_0x2bd1fc){const _0x30768=_0x20cdf8;return this[_0x30768(0x3bb)][_0x30768(0x109)](_0x2bd1fc)[_0x30768(0x7ea)](_0x2f2712=>({'createAIJob':_0x2f2712[_0x30768(0x677)][_0x30768(0x684)](_0x2f2712),'ratePrompt':_0x2f2712[_0x30768(0x128)][_0x30768(0x684)](_0x2f2712),'downloadDocument':_0x2f2712[_0x30768(0x621)]['bind'](_0x2f2712),'getDataBucketIds':_0x2f2712['getDataBucketIds'][_0x30768(0x684)](_0x2f2712),'close':_0x2f2712[_0x30768(0x671)]['bind'](_0x2f2712)}));}[_0x20cdf8(0x3e4)](_0x398845){const _0x33ae25=_0x20cdf8;return this[_0x33ae25(0x3bb)]['getGenerativeAIWorkers'](_0x398845)[_0x33ae25(0x7ea)](_0x30836e=>({'close':_0x30836e[_0x33ae25(0x671)][_0x33ae25(0x684)](_0x30836e)}));}['publishLocalMediaStream'](_0x3af85f,_0x4a9ae1){const _0x4bd126=_0x20cdf8,_0x20e880=this[_0x4bd126(0x3bb)]['createLocalMediaStream'](_0x3af85f,_0x4a9ae1);return{'getLabel':_0x20e880[_0x4bd126(0x353)][_0x4bd126(0x684)](_0x20e880),'getOwnerId':_0x20e880[_0x4bd126(0x25d)]['bind'](_0x20e880),'getContentType':_0x20e880['getContentType'][_0x4bd126(0x684)](_0x20e880),'getMediaStream':_0x20e880[_0x4bd126(0x1ef)][_0x4bd126(0x684)](_0x20e880),'setPriority':_0x20e880[_0x4bd126(0x894)][_0x4bd126(0x684)](_0x20e880),'unpublish':_0x20e880['unpublish']['bind'](_0x20e880)};}[_0x20cdf8(0x567)](_0x3a1fe8,_0x51e6da){const _0x3a0548=_0x20cdf8,_0x392fab=this[_0x3a0548(0x3bb)][_0x3a0548(0x7e5)](_0x3a1fe8,_0x51e6da);return{'getLabel':_0x392fab['getLabel'][_0x3a0548(0x684)](_0x392fab),'getOwnerId':_0x392fab[_0x3a0548(0x25d)][_0x3a0548(0x684)](_0x392fab),'getContentType':_0x392fab[_0x3a0548(0x7e9)][_0x3a0548(0x684)](_0x392fab),'setPriority':_0x392fab[_0x3a0548(0x894)]['bind'](_0x392fab),'unpublish':_0x392fab[_0x3a0548(0x7e1)][_0x3a0548(0x684)](_0x392fab),'getMediaStream':_0x392fab['getMediaStream'][_0x3a0548(0x684)](_0x392fab),'addTrack':_0x392fab[_0x3a0548(0x78e)][_0x3a0548(0x684)](_0x392fab),'removeTrack':_0x392fab[_0x3a0548(0x887)]['bind'](_0x392fab),'replaceTrack':_0x392fab[_0x3a0548(0x33d)][_0x3a0548(0x684)](_0x392fab),'setTransformations':_0x392fab[_0x3a0548(0x255)][_0x3a0548(0x684)](_0x392fab)};}['getLocalMediaStreams'](_0x1b23d9){const _0xb3e0c7=_0x20cdf8;return this['orchestrator']['getLocalMediaStreams'](_0x1b23d9)['map'](_0x35a50d=>({'getLabel':_0x35a50d['getLabel'][_0xb3e0c7(0x684)](_0x35a50d),'getOwnerId':_0x35a50d[_0xb3e0c7(0x25d)]['bind'](_0x35a50d),'getContentType':_0x35a50d[_0xb3e0c7(0x7e9)][_0xb3e0c7(0x684)](_0x35a50d),'getMediaStream':_0x35a50d[_0xb3e0c7(0x1ef)][_0xb3e0c7(0x684)](_0x35a50d),'setPriority':_0x35a50d[_0xb3e0c7(0x894)][_0xb3e0c7(0x684)](_0x35a50d),'unpublish':_0x35a50d['unpublish'][_0xb3e0c7(0x684)](_0x35a50d)}));}[_0x20cdf8(0x3cc)](_0x15781f){const _0x17c118=_0x20cdf8;return this[_0x17c118(0x3bb)][_0x17c118(0x3cc)](_0x15781f)[_0x17c118(0x7ea)](_0x2fca6a=>({'getLabel':_0x2fca6a[_0x17c118(0x353)][_0x17c118(0x684)](_0x2fca6a),'getOwnerId':_0x2fca6a['getOwnerId'][_0x17c118(0x684)](_0x2fca6a),'getContentType':_0x2fca6a[_0x17c118(0x7e9)][_0x17c118(0x684)](_0x2fca6a),'getMediaStream':_0x2fca6a[_0x17c118(0x1ef)]['bind'](_0x2fca6a),'subscribe':_0x2fca6a['subscribe'][_0x17c118(0x684)](_0x2fca6a),'unsubscribe':_0x2fca6a[_0x17c118(0x579)][_0x17c118(0x684)](_0x2fca6a),'getAvailableTrackKinds':_0x2fca6a['getAvailableTrackKinds'][_0x17c118(0x684)](_0x2fca6a),'update':_0x2fca6a[_0x17c118(0x371)][_0x17c118(0x684)](_0x2fca6a),'onProviderChange':_0x2fca6a[_0x17c118(0x7b3)][_0x17c118(0x684)](_0x2fca6a)}));}[_0x20cdf8(0x239)](_0x28a840){const _0x1fbc9d=_0x20cdf8;return this[_0x1fbc9d(0x3bb)][_0x1fbc9d(0x239)](_0x28a840)['map'](_0x2cc3cf=>({'getName':_0x2cc3cf['getName'][_0x1fbc9d(0x684)](_0x2cc3cf),'getOwnerId':_0x2cc3cf['getOwnerId'][_0x1fbc9d(0x684)](_0x2cc3cf),'getContentType':_0x2cc3cf['getContentType']['bind'](_0x2cc3cf),'addNode':_0x2cc3cf['addNode'][_0x1fbc9d(0x684)](_0x2cc3cf),'addEdge':_0x2cc3cf['addEdge'][_0x1fbc9d(0x684)](_0x2cc3cf),'getContent':_0x2cc3cf['getContent'][_0x1fbc9d(0x684)](_0x2cc3cf),'remove':_0x2cc3cf['remove'][_0x1fbc9d(0x684)](_0x2cc3cf),'close':_0x2cc3cf['close'][_0x1fbc9d(0x684)](_0x2cc3cf)}));}[_0x20cdf8(0x756)](_0x5065d6){const _0x3b0d45=_0x20cdf8;return this[_0x3b0d45(0x3bb)][_0x3b0d45(0x756)](_0x5065d6)[_0x3b0d45(0x7ea)](_0x1bc604=>({'getName':_0x1bc604[_0x3b0d45(0x5d5)][_0x3b0d45(0x684)](_0x1bc604),'getOwnerId':_0x1bc604[_0x3b0d45(0x25d)]['bind'](_0x1bc604),'getContentType':_0x1bc604['getContentType'][_0x3b0d45(0x684)](_0x1bc604),'search':_0x1bc604[_0x3b0d45(0x271)][_0x3b0d45(0x684)](_0x1bc604),'insert':_0x1bc604['insert'][_0x3b0d45(0x684)](_0x1bc604),'remove':_0x1bc604[_0x3b0d45(0x1f5)][_0x3b0d45(0x684)](_0x1bc604),'close':_0x1bc604[_0x3b0d45(0x671)][_0x3b0d45(0x684)](_0x1bc604)}));}[_0x20cdf8(0x41f)](){const _0x417def=_0x20cdf8,_0xa36eb0=this[_0x417def(0x3bb)][_0x417def(0x41f)]();switch(_0xa36eb0[_0x417def(0x6f6)]){case _0x3b754d[_0x417def(0x49e)]['User']:return{'type':_0x3b754d[_0x417def(0x49e)][_0x417def(0x103)],'getId':_0xa36eb0[_0x417def(0x66e)][_0x417def(0x684)](_0xa36eb0),'getDisplayName':_0xa36eb0[_0x417def(0x6a1)][_0x417def(0x684)](_0xa36eb0),'getEmail':_0xa36eb0['getEmail'][_0x417def(0x684)](_0xa36eb0),'getRemoteConnections':_0xa36eb0['getRemoteConnections'][_0x417def(0x684)](_0xa36eb0),'setDisplayName':_0xa36eb0[_0x417def(0x61a)][_0x417def(0x684)](_0xa36eb0),'setEmail':_0xa36eb0[_0x417def(0x2d6)]['bind'](_0xa36eb0)};case _0x3b754d[_0x417def(0x49e)][_0x417def(0x7a5)]:default:return{'type':_0x3b754d['NodeType'][_0x417def(0x7a5)],'getId':_0xa36eb0[_0x417def(0x66e)][_0x417def(0x684)](_0xa36eb0),'getRemoteConnections':_0xa36eb0[_0x417def(0xfd)]['bind'](_0xa36eb0)};}}[_0x20cdf8(0x342)](_0x1fdb4b){const _0x29efb0=_0x20cdf8;return this[_0x29efb0(0x3bb)]['getRemoteNodes'](_0x1fdb4b)[_0x29efb0(0x7ea)](_0x2b8c5e=>{const _0x2f8507=_0x29efb0;switch(_0x2b8c5e['type']){case _0x3b754d[_0x2f8507(0x49e)]['User']:return{'type':_0x3b754d['NodeType'][_0x2f8507(0x103)],'getId':_0x2b8c5e[_0x2f8507(0x66e)][_0x2f8507(0x684)](_0x2b8c5e),'getDisplayName':_0x2b8c5e['getDisplayName']['bind'](_0x2b8c5e),'getEmail':_0x2b8c5e[_0x2f8507(0x886)]['bind'](_0x2b8c5e),'getRemoteConnections':_0x2b8c5e[_0x2f8507(0xfd)][_0x2f8507(0x684)](_0x2b8c5e)};case _0x3b754d[_0x2f8507(0x49e)][_0x2f8507(0x7a5)]:return{'type':_0x3b754d[_0x2f8507(0x49e)][_0x2f8507(0x7a5)],'getId':_0x2b8c5e[_0x2f8507(0x66e)][_0x2f8507(0x684)](_0x2b8c5e),'getRemoteConnections':_0x2b8c5e[_0x2f8507(0xfd)][_0x2f8507(0x684)](_0x2b8c5e)};default:throw new _0x47cbae(_0x40f53d[_0x2f8507(0x7e0)],_0x2f8507(0x3f4));}});}['on']=(..._0x52370b)=>{const _0x310e7e=_0x20cdf8;this[_0x310e7e(0x636)]['on'](..._0x52370b);};[_0x20cdf8(0x78d)]=(..._0x4eae96)=>this[_0x20cdf8(0x636)][_0x20cdf8(0x78d)](..._0x4eae96);[_0x20cdf8(0x5b2)](..._0xbb4250){const _0x123269=_0x20cdf8;this[_0x123269(0x636)]['off'](..._0xbb4250);}}class _0x1ab301{['id'];[_0x20cdf8(0x873)];[_0x20cdf8(0x596)];['type']=_0x3b754d[_0x20cdf8(0x49e)][_0x20cdf8(0x103)];[_0x20cdf8(0x59d)]=new Map();[_0x20cdf8(0x224)]=_0x53e3a2();constructor(_0x1a9fae,_0x26058e,_0x8efa46){const _0x412490=_0x20cdf8;this['id']=_0x1a9fae,this['displayName']=_0x26058e,this[_0x412490(0x596)]=_0x8efa46;}['getId'](){return this['id'];}[_0x20cdf8(0x6a1)](){const _0xf881a0=_0x20cdf8;return this[_0xf881a0(0x873)];}[_0x20cdf8(0x886)](){return this['email'];}[_0x20cdf8(0x61a)](_0x54fc0e){const _0x1d64e6=_0x20cdf8;this[_0x1d64e6(0x873)]!==_0x54fc0e&&(this[_0x1d64e6(0x873)]=_0x54fc0e,this[_0x1d64e6(0x224)][_0x1d64e6(0x1ed)](this));}[_0x20cdf8(0x2d6)](_0x5f29fe){const _0x2dcf5d=_0x20cdf8;this['email']!==_0x5f29fe&&(this[_0x2dcf5d(0x596)]=_0x5f29fe,this['observer']['publish'](this));}[_0x20cdf8(0x660)](_0x573d5b,_0x417329){const _0x34fff4=_0x20cdf8;if(this[_0x34fff4(0x59d)][_0x34fff4(0x6f2)](_0x573d5b))return;const _0x5aff4f=this[_0x34fff4(0x224)][_0x34fff4(0x3cb)](_0x417329);this[_0x34fff4(0x59d)][_0x34fff4(0xaf)](_0x573d5b,_0x5aff4f);}[_0x20cdf8(0x421)](_0x30aede){const _0x3d32b4=_0x20cdf8;if(!this['joinedClusters'][_0x3d32b4(0x6f2)](_0x30aede))return;const _0x366c8e=this['joinedClusters'][_0x3d32b4(0x333)](_0x30aede);_0x366c8e&&_0x366c8e(),this[_0x3d32b4(0x59d)]['delete'](_0x30aede);}}class _0x75b3c5{[_0x20cdf8(0x6f5)];[_0x20cdf8(0x7b9)];constructor(_0x3aa5ff){const _0x3adf0a=_0x20cdf8;this[_0x3adf0a(0x6f5)]=_0x3aa5ff;}async[_0x20cdf8(0x5a6)](_0x425df1){const _0x5762a2=_0x20cdf8,_0x36c31b=await(0x0,_0x1faa2a['httpsCallable'])(_0x2c07f4['getFunctions'](),_0x5762a2(0x310))({'uid':'ccc'+this[_0x5762a2(0x6f5)]+_0x5762a2(0x6a9)+_0x425df1['id']}),_0x5202bb=await(0x0,_0x3f4ec5[_0x5762a2(0x732)])(_0x2c07f4['getAuth'](),_0x36c31b[_0x5762a2(0x75d)][_0x5762a2(0x54e)]);this['user']=_0x5202bb[_0x5762a2(0x7b9)];}async[_0x20cdf8(0x453)](){const _0x2f184e=_0x20cdf8;await(0x0,_0x3f4ec5[_0x2f184e(0x453)])(_0x2c07f4[_0x2f184e(0x223)]());}[_0x20cdf8(0x708)](){const _0x5ea1bc=_0x20cdf8;return this['user']?.[_0x5ea1bc(0x708)]()??Promise['reject'](_0x5ea1bc(0x357));}}class _0x34f16d{static [_0x20cdf8(0x4e2)];[_0x20cdf8(0x792)]=[];constructor(){}static['getInstance'](){const _0x230f7e=_0x20cdf8;return _0x34f16d['instance']||(_0x34f16d[_0x230f7e(0x4e2)]=new _0x34f16d()),_0x34f16d['instance'];}[_0x20cdf8(0x6f9)](){const _0x1342a3=_0x20cdf8;this['checkWebRTC'](),this['checkMediaStream'](),this['checkScreenSharing'](),this[_0x1342a3(0x330)](),this['checkDeviceConfig'](),this[_0x1342a3(0x3a7)](),this[_0x1342a3(0x8b1)](),this[_0x1342a3(0x1d0)](),this['checkWebGL'](),this[_0x1342a3(0x3bf)](),_0x585abf[_0x1342a3(0x447)](_0x324ffe[_0x1342a3(0x349)],_0x1342a3(0x803),{'featureSupport':this['featureSupport']});}[_0x20cdf8(0x464)](_0x48f2ac){const _0x283464=_0x20cdf8,_0x525ae6=this[_0x283464(0x792)][_0x283464(0x819)](_0x1ce376=>_0x1ce376['name']===_0x48f2ac);return!!_0x525ae6&&_0x525ae6[_0x283464(0x1a3)];}[_0x20cdf8(0x5d9)](_0x27c8f5){const _0x5d35be=_0x20cdf8;_0x585abf[_0x5d35be(0x263)](_0x5d35be(0x872),{'nodeId':_0x27c8f5[_0x5d35be(0x66e)](),'nodeType':_0x27c8f5[_0x5d35be(0x6f6)],'data':{'featureSupport':this[_0x5d35be(0x792)]}});}[_0x20cdf8(0x599)](){const _0x3cbd5c=_0x20cdf8,_0x524683=_0x233194[_0x3cbd5c(0x29c)];let _0x5bc077=!0x1;_0x3cbd5c(0x1f9)==typeof RTCPeerConnection&&_0x3cbd5c(0x1f9)==typeof RTCIceCandidate&&_0x3cbd5c(0x1f9)==typeof RTCSessionDescription?_0x5bc077=!0x0:_0x585abf[_0x3cbd5c(0x447)](_0x324ffe[_0x3cbd5c(0x349)],'Support:\x20'+_0x524683+'\x20not\x20supported'),this[_0x3cbd5c(0x792)][_0x3cbd5c(0x82c)]({'name':_0x524683,'supported':_0x5bc077});}[_0x20cdf8(0x7ac)](){const _0x5a72d3=_0x20cdf8,_0x1535df=_0x233194[_0x5a72d3(0x3ab)];let _0x1de2fc=!0x1;_0x5a72d3(0x1f9)==typeof MediaStream&&_0x5a72d3(0x1f9)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x5a72d3(0x1ac)==typeof navigator[_0x5a72d3(0x4b0)]&&_0x5a72d3(0x1f9)==typeof navigator[_0x5a72d3(0x4b0)][_0x5a72d3(0x757)]?_0x1de2fc=!0x0:_0x585abf[_0x5a72d3(0x447)](_0x324ffe[_0x5a72d3(0x349)],'Support:\x20'+_0x1535df+_0x5a72d3(0x106)),this[_0x5a72d3(0x792)][_0x5a72d3(0x82c)]({'name':_0x1535df,'supported':_0x1de2fc});}[_0x20cdf8(0x2ae)](){const _0x556083=_0x20cdf8,_0x1c0f98=_0x233194[_0x556083(0x50e)];let _0x2cf5a5=!0x1;'object'==typeof navigator&&'object'==typeof navigator[_0x556083(0x4b0)]&&_0x556083(0x1f9)==typeof navigator['mediaDevices']['getDisplayMedia']?_0x2cf5a5=!0x0:_0x585abf[_0x556083(0x447)](_0x324ffe[_0x556083(0x349)],_0x556083(0x589)+_0x1c0f98+_0x556083(0x106)),this[_0x556083(0x792)]['push']({'name':_0x1c0f98,'supported':_0x2cf5a5});}[_0x20cdf8(0x330)](){const _0x156f46=_0x20cdf8,_0x513691=_0x233194[_0x156f46(0x865)];let _0x3010f4=!0x1;'function'!=typeof AudioContext||_0x156f46(0x1f9)!=typeof ScriptProcessorNode&&_0x156f46(0x1f9)!=typeof AudioWorkletNode||_0x156f46(0x1f9)!=typeof MediaStreamAudioSourceNode?_0x585abf['log'](_0x324ffe['Support'],_0x156f46(0x589)+_0x513691+_0x156f46(0x106)):_0x3010f4=!0x0,this[_0x156f46(0x792)][_0x156f46(0x82c)]({'name':_0x513691,'supported':_0x3010f4});}[_0x20cdf8(0x6bb)](){const _0x4e5e4b=_0x20cdf8,_0x6d494b=_0x233194[_0x4e5e4b(0x5eb)];let _0x14a9d7=!0x1;_0x4e5e4b(0x1ac)==typeof navigator&&_0x4e5e4b(0x1ac)==typeof navigator['mediaDevices']&&_0x4e5e4b(0x1f9)==typeof navigator[_0x4e5e4b(0x4b0)][_0x4e5e4b(0x390)]&&_0x4e5e4b(0x1f9)==typeof MediaDeviceInfo?_0x14a9d7=!0x0:_0x585abf[_0x4e5e4b(0x447)](_0x324ffe[_0x4e5e4b(0x349)],_0x4e5e4b(0x589)+_0x6d494b+_0x4e5e4b(0x106)),this[_0x4e5e4b(0x792)]['push']({'name':_0x6d494b,'supported':_0x14a9d7});}[_0x20cdf8(0x3a7)](){const _0x4d08ad=_0x20cdf8,_0x178c91=_0x233194[_0x4d08ad(0x840)];let _0x171c78=!0x1;_0x4d08ad(0x1ac)==typeof document&&'function'==typeof document[_0x4d08ad(0x82e)]('video')['setSinkId']?_0x171c78=!0x0:_0x585abf[_0x4d08ad(0x447)](_0x324ffe[_0x4d08ad(0x349)],'Support:\x20'+_0x178c91+'\x20not\x20supported'),this[_0x4d08ad(0x792)][_0x4d08ad(0x82c)]({'name':_0x178c91,'supported':_0x171c78});}async['checkMediaRecording'](){const _0x5a8c19=_0x20cdf8,_0x4c1918=_0x233194[_0x5a8c19(0x401)];let _0x44d8ba=!0x1;try{const _0x592414=document['createElement'](_0x5a8c19(0x42e));if(MediaRecorder&&MediaSource&&_0x592414[_0x5a8c19(0x2c7)]){const _0x306c0b=_0x592414[_0x5a8c19(0x2c7)](),_0x73d9ba=new MediaRecorder(_0x306c0b);_0x73d9ba[_0x5a8c19(0x63c)](),await new Promise(_0x16c7e8=>setTimeout(_0x16c7e8,0x7d0)),_0x73d9ba[_0x5a8c19(0x4ff)](),_0x44d8ba=_0x5a8c19(0x72d)===_0x73d9ba['state'];}}catch(_0x3f23f4){_0x585abf[_0x5a8c19(0x447)](_0x324ffe[_0x5a8c19(0x349)],_0x5a8c19(0x589)+_0x4c1918+_0x5a8c19(0x7c7),_0x3f23f4);}this[_0x5a8c19(0x792)][_0x5a8c19(0x82c)]({'name':_0x4c1918,'supported':_0x44d8ba}),_0x44d8ba||_0x585abf[_0x5a8c19(0x447)](_0x324ffe['Support'],_0x5a8c19(0x589)+_0x4c1918+_0x5a8c19(0x106));}[_0x20cdf8(0x1d0)](){const _0xcca16a=_0x20cdf8,_0x2fb3b9=_0x233194[_0xcca16a(0x34c)];let _0x4edfc1=!0x1;try{document[_0xcca16a(0x82e)]('canvas')[_0xcca16a(0x2c7)]&&(_0x4edfc1=!0x0);}catch(_0x2edf45){_0x585abf['log'](_0x324ffe[_0xcca16a(0x349)],_0xcca16a(0x589)+_0x2fb3b9+_0xcca16a(0x7c7),_0x2edf45);}this[_0xcca16a(0x792)]['push']({'name':_0x2fb3b9,'supported':_0x4edfc1}),_0x4edfc1||_0x585abf[_0xcca16a(0x447)](_0x324ffe['Support'],'Support:\x20'+_0x2fb3b9+'\x20not\x20supported');}[_0x20cdf8(0x87f)](){const _0x38a823=_0x20cdf8,_0x33b478=_0x233194[_0x38a823(0x716)];let _0x1b3734=!0x1;try{const _0x450fa1=document[_0x38a823(0x82e)](_0x38a823(0x42e));WebGLRenderingContext&&_0x450fa1['getContext'](_0x38a823(0x432))&&(_0x1b3734=!0x0);}catch(_0x3d9f90){_0x585abf[_0x38a823(0x447)](_0x324ffe[_0x38a823(0x349)],_0x38a823(0x589)+_0x33b478+_0x38a823(0x7c7),_0x3d9f90);}this[_0x38a823(0x792)][_0x38a823(0x82c)]({'name':_0x33b478,'supported':_0x1b3734}),_0x1b3734||_0x585abf[_0x38a823(0x447)](_0x324ffe[_0x38a823(0x349)],_0x38a823(0x589)+_0x33b478+_0x38a823(0x106));}[_0x20cdf8(0x3bf)](){const _0xb80e20=_0x20cdf8,_0x1c5ec7=_0x233194[_0xb80e20(0x298)];let _0x21cc25=!0x1;_0xb80e20(0x1f9)==typeof AudioContext?_0x21cc25=!0x0:_0x585abf['log'](_0x324ffe[_0xb80e20(0x349)],_0xb80e20(0x589)+_0x1c5ec7+_0xb80e20(0x106)),this[_0xb80e20(0x792)]['push']({'name':_0x1c5ec7,'supported':_0x21cc25});}}const _0x132d3f=_0x34f16d['getInstance']();class _0x5d7718{static ['instance'];static [_0x20cdf8(0x579)];[_0x20cdf8(0x306)];['vendorId'];[_0x20cdf8(0x846)];['configs'];[_0x20cdf8(0x2b0)]=new Map();[_0x20cdf8(0x85e)];constructor(_0x3d4cef,_0x42e800,_0x85f8b7){const _0x4d96a6=_0x20cdf8;this['vendorId']=_0x3d4cef,this['configs']=_0x42e800,this[_0x4d96a6(0x306)]=new _0x75b3c5(this['vendorId']),_0x132d3f['initialize'](),this[_0x4d96a6(0x846)]={'audioContext':_0x85f8b7?.[_0x4d96a6(0x583)]??(_0x132d3f[_0x4d96a6(0x464)](_0x233194[_0x4d96a6(0x298)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x85f8b7?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x85f8b7?.['minConnections']??0x3,'maxConnections':_0x85f8b7?.[_0x4d96a6(0x49c)]??(_0x85f8b7?.[_0x4d96a6(0x84e)]&&0x4*_0x85f8b7['minConnections'])??0xc,'maxDistance':_0x85f8b7?.[_0x4d96a6(0x46e)]??0xa,'maxFps':_0x85f8b7?.['maxFps']??0x18,'maxBpp':_0x85f8b7?.[_0x4d96a6(0x195)]??0.12,'objectStoreConnector':_0x85f8b7?.[_0x4d96a6(0x108)]??_0x57fa0a[_0x4d96a6(0x74c)],'externalStorageConnectors':_0x85f8b7?.[_0x4d96a6(0x1bc)],'keyValueDatabaseConnector':_0x85f8b7?.[_0x4d96a6(0x362)]??_0x2e633b[_0x4d96a6(0x62a)],'loggingDatabaseConnector':_0x85f8b7?.[_0x4d96a6(0x4e3)]??_0x2e633b[_0x4d96a6(0x62a)],'peerConnectionConnector':_0x85f8b7?.[_0x4d96a6(0x1c3)]??_0x49ab91[_0x4d96a6(0x862)],'generativeAIWorkerConnectors':_0x85f8b7?.[_0x4d96a6(0x6b4)],'vectorDatabaseConnector':_0x85f8b7?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x85f8b7?.[_0x4d96a6(0x742)],'documentParserConnector':_0x85f8b7?.[_0x4d96a6(0x518)],'nlpLibraryConnector':_0x85f8b7?.[_0x4d96a6(0x8bf)],'searchConnector':_0x85f8b7?.[_0x4d96a6(0x393)]},_0x85f8b7?.['disableIntervalHack']&&this['options'][_0x4d96a6(0x583)]&&_0x4b9656[_0x4d96a6(0x842)](this[_0x4d96a6(0x846)][_0x4d96a6(0x583)]),_0x585abf[_0x4d96a6(0x2ca)](this[_0x4d96a6(0x6f5)]),_0x85f8b7?.[_0x4d96a6(0x42f)]&&_0x585abf[_0x4d96a6(0x11b)](_0x85f8b7[_0x4d96a6(0x42f)]);}static async[_0x20cdf8(0x38d)](_0x36ec5f,_0x3371bb,_0x3eb5f0,_0x3896d1){const _0x147994=_0x20cdf8,_0x140ba9=await this['validateAccess'](_0x36ec5f,_0x3371bb,_0x3896d1);return _0x5d7718[_0x147994(0x4e2)]||(_0x5d7718['instance']=new _0x5d7718(_0x36ec5f,_0x140ba9,_0x3eb5f0)),{'close':_0x5d7718['instance'][_0x147994(0x671)][_0x147994(0x684)](_0x5d7718['instance']),'authenticateUser':_0x5d7718['instance'][_0x147994(0xc7)][_0x147994(0x684)](_0x5d7718[_0x147994(0x4e2)]),'authenticateAgent':_0x5d7718[_0x147994(0x4e2)][_0x147994(0x386)][_0x147994(0x684)](_0x5d7718[_0x147994(0x4e2)]),'joinCluster':_0x5d7718[_0x147994(0x4e2)][_0x147994(0x296)][_0x147994(0x684)](_0x5d7718['instance'])};}static async[_0x20cdf8(0x745)](){return _0x2c07f4['getEstimatedTimestamp']();}static[_0x20cdf8(0x5e4)](){const _0xc28603=_0x20cdf8;return _0x3362fe[_0xc28603(0x5e4)];}async['close'](_0x463f18){const _0x1f353b=_0x20cdf8;this['clusters'][_0x1f353b(0x34b)](_0x4e7273=>{const _0x489a7b=_0x1f353b;_0x4e7273[_0x489a7b(0x5b2)](),_0x4e7273[_0x489a7b(0x20a)](_0x463f18);}),this['clusters'][_0x1f353b(0x1fc)](),this[_0x1f353b(0x846)][_0x1f353b(0x583)]&&_0x4b9656[_0x1f353b(0x6ba)](),_0x5d7718['unsubscribe']?.(),_0x5d7718[_0x1f353b(0x579)]=void 0x0,this['authContext']=void 0x0,await this[_0x1f353b(0x306)][_0x1f353b(0x453)](),_0x5d7718['instance']=void 0x0;}static async['validateAccess'](_0x2c2fe7,_0x116993,_0x991858){const _0x19ed77=_0x20cdf8;let _0x13a250;try{_0x13a250=await(0x0,_0x1faa2a[_0x19ed77(0x322)])(_0x2c07f4[_0x19ed77(0x557)](),_0x19ed77(0x5f1))({'vendorId':_0x2c2fe7,'accessToken':_0x116993,'secretKey':_0x991858});}catch(_0x24f12f){throw new _0x47cbae(_0x40f53d[_0x19ed77(0x376)],_0x19ed77(0x851));}if(!this['isInternalSDKConfigs'](_0x13a250[_0x19ed77(0x75d)]))throw new _0x47cbae(_0x40f53d[_0x19ed77(0x376)],_0x19ed77(0x851));const _0xf22429=_0x13a250[_0x19ed77(0x75d)];return _0xf22429[_0x19ed77(0x45b)]||(_0xf22429['features']=[]),this[_0x19ed77(0x579)]||(this[_0x19ed77(0x579)]=_0x4b9656[_0x19ed77(0x2bf)](async()=>{const _0xae9d61=_0x19ed77;try{const _0x3337b8=await this[_0xae9d61(0x449)](_0x2c2fe7,_0x116993,_0x991858);_0xf22429[_0xae9d61(0x852)]=_0x3337b8[_0xae9d61(0x852)];}catch(_0x3e21e7){}},0x1b7740)),_0xf22429;}async[_0x20cdf8(0xc7)](_0x38aa5e){const _0x2b954d=_0x20cdf8;await this[_0x2b954d(0x306)][_0x2b954d(0x5a6)](_0x38aa5e);const _0x37f14e=new _0x1ab301(_0x38aa5e['id'],_0x38aa5e[_0x2b954d(0x873)],_0x38aa5e[_0x2b954d(0x596)]);return this[_0x2b954d(0x85e)]={'node':_0x37f14e},_0x132d3f[_0x2b954d(0x5d9)](_0x37f14e),{'type':_0x3b754d[_0x2b954d(0x49e)][_0x2b954d(0x103)],'getId':_0x37f14e['getId'][_0x2b954d(0x684)](_0x37f14e),'getDisplayName':_0x37f14e[_0x2b954d(0x6a1)][_0x2b954d(0x684)](_0x37f14e),'getEmail':_0x37f14e[_0x2b954d(0x886)]['bind'](_0x37f14e),'setDisplayName':_0x37f14e[_0x2b954d(0x61a)][_0x2b954d(0x684)](_0x37f14e),'setEmail':_0x37f14e[_0x2b954d(0x2d6)]['bind'](_0x37f14e)};}async['authenticateAgent'](_0x2b0936){const _0x1903ec=_0x20cdf8,{id:_0x146493,groupId:_0x9a94eb}=_0x2b0936,_0x563adb=await(0x0,_0x2b2463[_0x1903ec(0x713)])((0x0,_0x2b2463[_0x1903ec(0x17b)])(_0x2c07f4['getFirestore'](),'developers/'+this[_0x1903ec(0x6f5)]+_0x1903ec(0x56b)+_0x9a94eb));if(!_0x563adb['exists']())throw new _0x47cbae(_0x40f53d[_0x1903ec(0x5bc)],_0x1903ec(0x7cf));const _0x389be3=_0x563adb[_0x1903ec(0x75d)]();await this['authService']['signInWithCredential']({'id':_0x146493});const _0x1fec94=new _0x272e36(_0x146493,_0x9a94eb,this[_0x1903ec(0x6f5)],_0x389be3);return this[_0x1903ec(0x85e)]={'node':_0x1fec94},_0x132d3f[_0x1903ec(0x5d9)](_0x1fec94),await this[_0x1903ec(0x15d)](_0x1fec94),{'type':_0x3b754d[_0x1903ec(0x49e)][_0x1903ec(0x7a5)],'getId':_0x1fec94[_0x1903ec(0x66e)][_0x1903ec(0x684)](_0x1fec94),'onConfigurationChange':_0x1fec94[_0x1903ec(0x4c7)]['bind'](_0x1fec94),'setReportCapacity':_0x1fec94[_0x1903ec(0x7fa)][_0x1903ec(0x684)](_0x1fec94)};}async[_0x20cdf8(0x296)](_0x4d7c9c){const _0x314c1b=_0x20cdf8;if(!this[_0x314c1b(0x85e)])throw new _0x47cbae(_0x40f53d['NodeNotAuthenticated'],_0x314c1b(0x14b));if(this[_0x314c1b(0x85e)][_0x314c1b(0x81c)][_0x314c1b(0x6f6)]!==_0x3b754d['NodeType'][_0x314c1b(0x103)])throw new _0x47cbae(_0x40f53d['NodeTypeNotSupported'],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this['clusters'][_0x314c1b(0x6f2)](_0x4d7c9c))throw new _0x47cbae(_0x40f53d[_0x314c1b(0x270)],_0x314c1b(0x8fb));const _0x58edb7=new _0x17d1c7(this['vendorId'],_0x4d7c9c,this['authContext']['node'],this['authService'],this[_0x314c1b(0x846)],this[_0x314c1b(0x252)]);return await _0x58edb7[_0x314c1b(0x1e1)](),this[_0x314c1b(0x269)](_0x4d7c9c,_0x58edb7),_0x585abf[_0x314c1b(0x263)](_0x314c1b(0x3aa),{'clusterId':_0x4d7c9c,'nodeId':this['authContext'][_0x314c1b(0x81c)][_0x314c1b(0x66e)](),'nodeType':this[_0x314c1b(0x85e)][_0x314c1b(0x81c)][_0x314c1b(0x6f6)]}),{'leave':_0x58edb7[_0x314c1b(0x20a)][_0x314c1b(0x684)](_0x58edb7),'getLocalNode':_0x58edb7[_0x314c1b(0x41f)][_0x314c1b(0x684)](_0x58edb7),'openPubSubTopic':_0x58edb7[_0x314c1b(0x24a)][_0x314c1b(0x684)](_0x58edb7),'openObjectStoreBucket':_0x58edb7[_0x314c1b(0x707)][_0x314c1b(0x684)](_0x58edb7),'openExternalStorageConnection':_0x58edb7[_0x314c1b(0x59e)][_0x314c1b(0x684)](_0x58edb7),'openKeyValueDatabase':_0x58edb7[_0x314c1b(0x562)][_0x314c1b(0x684)](_0x58edb7),'openGenerativeAIContext':_0x58edb7[_0x314c1b(0x380)]['bind'](_0x58edb7),'openGenerativeAIWorker':_0x58edb7[_0x314c1b(0x34a)][_0x314c1b(0x684)](_0x58edb7),'openGraphDatabase':_0x58edb7[_0x314c1b(0x871)][_0x314c1b(0x684)](_0x58edb7),'openVectorDatabase':_0x58edb7['openVectorDatabase'][_0x314c1b(0x684)](_0x58edb7),'publishLocalMediaStream':_0x58edb7[_0x314c1b(0x2c0)][_0x314c1b(0x684)](_0x58edb7),'publishLocalDynamicMediaStream':_0x58edb7['publishLocalDynamicMediaStream'][_0x314c1b(0x684)](_0x58edb7),'getPubSubTopics':_0x58edb7['getPubSubTopics'][_0x314c1b(0x684)](_0x58edb7),'getObjectStoreBuckets':_0x58edb7[_0x314c1b(0x2d0)][_0x314c1b(0x684)](_0x58edb7),'getExternalStorageConnections':_0x58edb7[_0x314c1b(0x3a5)]['bind'](_0x58edb7),'getKeyValueDatabases':_0x58edb7['getKeyValueDatabases'][_0x314c1b(0x684)](_0x58edb7),'getGenerativeAIContexts':_0x58edb7[_0x314c1b(0x109)][_0x314c1b(0x684)](_0x58edb7),'getGenerativeAIWorkers':_0x58edb7[_0x314c1b(0x3e4)][_0x314c1b(0x684)](_0x58edb7),'getGraphDatabases':_0x58edb7[_0x314c1b(0x239)]['bind'](_0x58edb7),'getVectorDatabases':_0x58edb7[_0x314c1b(0x756)][_0x314c1b(0x684)](_0x58edb7),'getLocalMediaStreams':_0x58edb7[_0x314c1b(0x6fb)][_0x314c1b(0x684)](_0x58edb7),'getRemoteMediaStreams':_0x58edb7['getRemoteMediaStreams']['bind'](_0x58edb7),'getRemoteNodes':_0x58edb7['getRemoteNodes'][_0x314c1b(0x684)](_0x58edb7),'on':_0x58edb7['on']['bind'](_0x58edb7),'off':_0x58edb7[_0x314c1b(0x5b2)][_0x314c1b(0x684)](_0x58edb7)};}async['connectAgent'](_0xe9657){const _0x3597ef=_0x20cdf8;for(const _0x4d54ad of _0xe9657[_0x3597ef(0x3ef)]['clusters']){const _0x1706ee=new _0x17d1c7(this[_0x3597ef(0x6f5)],_0x4d54ad['id'],_0xe9657,this['authService'],this[_0x3597ef(0x846)],this[_0x3597ef(0x252)]);await _0x1706ee['join'](),this['addCluster'](_0x4d54ad['id'],_0x1706ee);for(const _0x597693 of _0x4d54ad['pubSubTopics']??[])_0x1706ee[_0x3597ef(0x24a)](_0x597693);for(const _0x342917 of _0x4d54ad[_0x3597ef(0x4f0)]??[])await _0x1706ee['openObjectStoreBucket'](_0x342917);for(const _0x5c8535 of _0x4d54ad[_0x3597ef(0x7f2)]??[]){const _0xc58a86=_0x5c8535['split']('-');await _0x1706ee['openExternalStorageConnection'](_0xc58a86[0x1],_0xc58a86[0x0]);}for(const _0x1ba41c of _0x4d54ad[_0x3597ef(0x185)]??[])await _0x1706ee[_0x3597ef(0x562)](_0x1ba41c,{'version':0x1,'tables':{}});for(const _0x7c6a90 of _0x4d54ad['graphDatabases']??[])_0x1706ee[_0x3597ef(0x871)](_0x7c6a90);for(const _0x262a14 of _0x4d54ad['vectorDatabases']??[])_0x1706ee[_0x3597ef(0x7c3)](_0x262a14);for(const _0x5e8e0e of _0x4d54ad[_0x3597ef(0x2d1)]??[]){await _0x1706ee['openGenerativeAIWorker'](_0x5e8e0e);const _0xb82dde=_0x5afc4c(this['vendorId'],_0x5e8e0e),_0x4002e5=_0x4c556f(),_0x39e531=this['options']['loggingDatabaseConnector']??this[_0x3597ef(0x846)][_0x3597ef(0x362)];await _0x1706ee['openKeyValueDatabase'](_0xb82dde,_0x4002e5,_0x39e531);}}}['addCluster'](_0x4e38b9,_0xa54861){const _0x3fe5c7=_0x20cdf8;this[_0x3fe5c7(0x2b0)][_0x3fe5c7(0xaf)](_0x4e38b9,_0xa54861),_0xa54861['on'](_0x3fe5c7(0x6b8),()=>{const _0x34a6d7=_0x3fe5c7;_0xa54861[_0x34a6d7(0x5b2)](),this[_0x34a6d7(0x2b0)]['delete'](_0x4e38b9);});}static[_0x20cdf8(0x531)](_0x50a23a){const _0x2ead7e=_0x20cdf8;return void 0x0!==_0x50a23a[_0x2ead7e(0x852)];}}return _0x148208;})())));