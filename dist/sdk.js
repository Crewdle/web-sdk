function a0_0x442c(_0x3d677c,_0x139f8e){const _0x5ae821=a0_0x5ae8();return a0_0x442c=function(_0x442c96,_0x5b7107){_0x442c96=_0x442c96-0x146;let _0x20a2ec=_0x5ae821[_0x442c96];return _0x20a2ec;},a0_0x442c(_0x3d677c,_0x139f8e);}function a0_0x5ae8(){const _0x5e2460=['getFileHandle','bufferedAmountLowThreshold','receiverUnsubscribers','DEBUG\x20-\x20','setStatus','removePubSubTopic','detail','\x27:\x20missing\x20or\x20invalid\x20keyPath','User\x20does\x20not\x20exist.','tableName','WebRTCBrowserPeerConnectionConnector','observer','oidc','displayName','removeItem','Database\x20does\x20not\x20exist','setInterval','uuid','syncTransactionsWritten','addDoc','totalEncodeTime','objectRequests','topics','clearOncloseTimeout','setLoggingConnectors','getConfigs','currentDistance','Issue\x20detected:\x20','clockSkew','retryCount','getPubSubTopics','object-store-already-subscribed','database','handleMissingSenders','handleRemoteTrackFailure','systemTopic','limit','checkDeviceConfig','setReceiverBytes','authenticateUser','getAncestors','High','.info/connected','RestartNeedMediaStream','detectLocalIssues','goOnline','NodeManager\x20-\x20UserLeave','\x20with\x20\x27','receiverStreams','removeSubscriptionsForUser','minResolutionScale','lastUpdated','420235181083','updateUser','connect','Cannot\x20list\x20directory:\x20','registerSource','registerSystemSource','floor','forEach','DeviceConfig','Upgrade','publishSyncCompleted','canChooseAnswer','FileDelete','721188MwrWtS','list','stream','handleSystemEvents','Disconnect','Key-value\x20database\x20table\x20does\x20not\x20exist.','crewdleSDKDisableLogging','developers/','previousFrames','All\x20recipients\x20already\x20received','clearConnectionTimeout','getInternalTrackParams','getVideoTracks','messages','receiverBitrate','getTrackFromParam','handleFolderCreate','validateLayout','maxOutgoingSubscriptions','Accepted','publishTransaction','digest','decode','Cluster\x20\x27','onLine','validateQuery','connectionPool','key-value-database-does-not-exist','addMessage','cpu.av_delay','onValue','Pool','setRank','unregisterRemoteUser','unshift','ClosePubSubTopic','reset','has','Problem\x20detected:\x20','Emitting\x20event\x20on\x20local\x20cluster','retryCallback','requestSubscription','getRemoteUsers','.info/serverTimeOffset','handleFileRequestAnswer','discoveryService','remoteConnections','tableLayout','cluster-disconnect','PubSubTopic\x20publish','chooseAnswer','Events','handleFileRequest','ConnectionState','CrewdleConnectionGroup','notifyCluster','cleanOldSubscription','pendingSyncTransactions','user-already-exist','interval','missing-incoming-connection','listenUnsubscriber','messageCallback','reportMetric','max','jitter','audio','PubSubTopicStats','checkAudioVolume','sendIceCandidates','handleContentCloseKeyValueDatabase','SubscriptionRequestFailed','Problem','checkBackgrounds','key-value-database-table-not-found','getSupportedContentTypes','framesDecoded','Subscription\x20request\x20has\x20not\x20been\x20answered.','eventEmitter','configs','handleProblem','unsubscribeTrackEndedListener','setPendingFileSyncingPayload','function','LocalMediaStreamAlreadyExists','request-accepted','syncKeyValueDatabase','getReport','estimatedPlayoutTimestamp','dataTopics','CloseMediaStream','RequestAccepted','loop','getStatus','RemoteRemove','WebRTC','onProviderChanged','getAvailableTrackKinds','Invalid\x20layout:\x20','getOutgoingOptimizationConnections','handleSubscriptionRestartNeedMediaStream','handleIceCandidates','setEmail','receiverPreviousBytes','checkScreenSharing','getIdToken','getLocalMediaStreams','propagate','subscribe','lastTransactionId','app','sendStats','createDataChannel','messagesReceived','getCurrentVersion','\x27\x20payload:','handshakeState','List','setScheduleTime','inbound-rtp','unregisterSystemPublisher','mediaDevices','System','object-store-stream-does-not-exist','handleLocalTrackFailure','srcObject','senderBitrate','handleAnswer','boolean','file-write','\x27\x20to\x20','/objectstores/','InvalidSubscriber','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','endpoint','OutgoingMediaStreamNoTopic','getTransactionFromTableWriteEvent','RemoteMediaStreamDoesNotExist','pop','User\x20not\x20signed\x20in','InvalidDataChannel','isWhereValue','getDTVolatility','Data','connectionTimeout','graphService','restartHandshake','system','clearUpgradeTimeout','handleContentUnpublishMediaStream','publish','signalingServer','Internal\x20SDK\x20Error:\x20','instantiateTransactionTable','createBuffer','handleNodeSystemEvents','statsCollection','loggingConnectors','logServiceEvent','getRemoteUser','MediaStream\x20feature\x20not\x20enabled','createIndex','handleContentCloseMediaStream','missing-datachannel','layout','UserLeave','isArray','frames','restartTimeout','Buffering\x20event','AudioVideoDelay','deleteTransactionsForTable','processOutboundReports','statsManager','FileWrite','registerPublisher','senderCurrentBytes','slice','handshakeDebounce','pub-sub-topic-does-not-exist','PeerConnection','handleCloseKeyValueDatabase','PubSubTopicAlreadyExists','objectToArrayBuffer','unsubscribe','handleContentSystemEvents','validateAccess','/transactions','systemTopicUnsubscribe','setOnMessageHandler','removeTrackListeners','stringify','clearRestartTimeout','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','objectStores','Invalid\x20version\x20\x27','onremovetrack','size','collectSendersStats','invalid-subscriber','doc','ObjectStoreDoesNotExist','isInternalLoggingConnector','setSubscriptionRequestTimeout','Connection\x20not\x20connected.','retryQueues','remainingTracks','FeatureNotEnabled','User\x20already\x20exists.','setParams','handlePeerConnectionSystemEvents','findNewMediaSubscription','keyvaluedatabase','handleSubscriptionMediaStreamUnavailable','shouldContinuePropagation','onTrack','pendingFilesSyncing','feature-not-enabled','Internal\x20error:\x20','getDatabase','add','getAudioVideoDelay','newPath','logPropagateSystemEvent','KeyValueDatabaseInvalidLayout','processReceiverReport','Local\x20MediaStream\x20already\x20exists','stop','connectionState','createLocalDynamicMediaStream','audioContext','send','getAncestorIds','KeyValueDatabaseTableNotFound','goOffline','contentManager','https://crewdle-sdk-default-rtdb.firebaseio.com','Connection','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','PeerConnectionInvalidDestination','checkWebRTC','processServiceReport','Downgrade','warning','setOnTableWriteHandler','totalDecodeTime','File','Database\x20already\x20exists','getTransactions','ObjectStoreNotInSync','user-join','getId','bufferEvent','push','fileChunks','optimizationLayers','streams','getResolution','receivers','Sending\x20\x27','getRemoteMediaStreams','nodeKey','removeTrack','upgrade','updateLastUpdated','providerId','Receiving\x20\x27','maxBitrate','debounceStats','pathName','functions','exists','getInternalStreamId','PubSubTopicAlreadySubscribed','objectstore','key-value-database-transaction-table-not-initialized','authUser','14Lwzfsk','setSinkId','crewdleSDKLoggingChannels','200276REiGsc','timeReceiving','onMessage','subscriptions','incrementVersion','outgoingStreams','RemoteMediaStreamInvalidSubscriptionParams','handleNoAnswer','isFeatureSupported','cleanList','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','roundTripTime','Invalid\x20resolution','ancestors','closeConnection','logEvent','senderConnection','\x27\x20from\x20','Early\x20return','handleSubscriptionProvideMediaStream','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','checkWebGL','generateClient','Bitrate','key-value-database-already-exists','muted','listenerUnsubscribers','senderPreviousBytes','DataChannel\x20is\x20not\x20initialized.','Stats','channel','folder','videoWidth','buildTableEvent','detection','localId','cpu.fps','source','clearSyncTimeout','getPartsForSubscriptionLabel','getName','receiverTimeProcessing','Default','messageBuffer','fps','isMediaSource','handleError','user','CannotProvideMediaStream','processPendingHandshakeCandidates','mediaTopics','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','setRemoteUser','transactionsToSync','callback','detectionManager','UserJoin','getChannelData','senders','length','resetConnection','\x20-\x20','Stats:\x20report','sync-complete','PubSubTopicNameNotString','1GbEHia','StreamReport','user-update','destinationIds','setupStatsReporting','sendChunked','handleUserJoinNeedPublishedStream','handleSuccess','/transactions/lastTransaction','suspended','peer-connection','ConnectionNotConnected','remoteId','CanProvideMediaStream','OutgoingSubscription','key-value-database-name-not-string','clusterId','messageUnsubscriber','handleOffer','vendorId','handleUpdateMediaStream','0.1.0','LocalMediaStreamDoesNotExist','mediator','keys','server','getNumberOutgoingSubscriptions','Rejected\x20answer','clear','processDataChannelReport','Key-value\x20database\x20transaction\x20value\x20not\x20set.','Receiver\x20connection\x20is\x20not\x20initialized.','handleNeedRestart','connector','connected','currentVersion','ConnectionInvalidDataEvent','removeRemoteStreamSubscription','getSTVolatility','object-store-invalid-sync-message','IncomingSubscription','getEnabledChannels','connectionGroup','authService','publishLocalMediaStream','error','Success','localUser','LocalMediaStreamTrackFail','maxThreshold','abs','getAuth','exports','getConnectionGroup','ObjectStoreAlreadyExists','handleUnsubscribeMediaStream','processRank','firebaseUnsubscriber','788160NqdTTk','addRemoteConnection','__esModule','successNotified','framerate','receiverConnection','renderElement','webgl','Recording','hasMessage','detectVideoIssues','connectionStateListener','bandwidth.jitter','index','handleSubscribeMediaStream','isWhereBetween','detectStreamIssues','FolderMove','setOnDisconnectHandler','filteredDestinationIds','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','removeRemoteConnection','getContentType','subscriptionManager','setVendorId','number','remote-inbound-rtp','childRemovedUnsubscriber','pubsub','RemoteMediaStreamTrackFail','getEmail','folder-create','from','removeOutgoingSubscription','userId','getRank','dataUnsubscribers','createRemoteMediaStream','handleStatsSystemEvents','getObjectStoreBuckets','remote-media-stream-already-exists','Invalid\x20object\x20store\x20sync\x20message.','KeyValueDatabase','IDBDatabaseConnector','handleUserLeave','transformations','isNeedRestart','isMediaDestination','FolderDelete','runTransaction','name','createTable','isClusterEnabled','join','contentRect','deleteObject','Sender','Chosen\x20answer','createKeyValueDatabase','crewdle-sdk-stg','resolutionScale','FolderCreate','contentType','MissingSystemTopic','pendingHandshakeCandidates','senderTimeProcessing','handleFileWrite','validateValue','destination','options','clearWaitSuccess','setupStatsCollection','folder-move','object-store-not-in-sync','Request','disableIntervalHack','transaction','auth','Offline','findNextAncestor','getConnections','subscriptionRequestsQueue','SendTransactionsDump','pubsubTopics','email','receiverCurrentTimestamp','debounceProcessRank','table','object-store-cannot-write-transaction','isSubscribed','removeTopic','PubSub','update','onloadeddata','nextUserId','Waiting','replaceTrack','padStart','createLocalMediaStream','localMediaStreams','appsync-no-destination','initialize','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','captureStream','processRemoteInboundReport','av_delay','handleSubscriptionNeedMediaStream','getReceiverBitrate','dbKey','keyValueDatabaseConnector','publishSyncCompletedAfterWrites','arrayBufferToObject','compareTransactions','handleSubscriptionSystemEvents','signInWithCredential','processPendingSyncTransactions','frameWidth','sendFile','getSubscriptionInfo','getSubscribedTracks','object-store-already-exists','northamerica-northeast1','Invalid\x20params','getLocalId','handleOnMessage','handleCloseMediaStream','removeKeyValueDatabase','processReports','openObjectStoreBucket','QueryBuilderInvalidArgument','CloseKeyValueDatabase','Module','resume','total','folder-delete','ObjectStore','logStorage','element','connectionManager','startsWith','bandwidth.rtt','audioSource','handleChunkMessage','unpublish','UpdateMediaStream','getEstimatedTimestamp','everyone','Cannot\x20publish\x20file:\x20','getDisplayName','UnsubscribeMediaStream','ownerId','getTotalBytes','OptimizationConnectionSuccess','Cannot\x20publish\x20folder:\x20','notifyJoin','clusterEventEmitter','signaling','cpu.cycle','onDataChannel','Connection\x20not\x20initialized.','setBytes','Answer','/stats','timestamp','startTime','startHeartbeat','key-value-database-table-name-reserved','/nodes','collectReceiversStats','gain','createReceiverConnection','1:519415702791:web:5dd39042f881cfde3251a2','hasTable','width','trackCallback','Cannot\x20get\x20file:\x20','handleContentRemoteMediaStreamTrackFail','processInboundReport','trackEndedListeners','handleSubscriptionUnsubscribeMediaStream','SubscriptionRequestNoAnswer','tableObserver','All','packetsLost','ObjectStorage','Remote\x20connection\x20already\x20exists.','mediaUnsubscribers','KeyValueDatabaseInvalidQuery','getPartsFromSubscription','CPUCycle','ended','removeListener','waitSuccess','shouldProcessTransaction','Stream\x20does\x20not\x20exist','head','parse','Method\x20not\x20implemented.','bind','deleteRemoteUser','RequestFile','dt_volatility','getLastUpdated','KeyValueDatabaseDoesNotExist','connecting','cancel','crewdle-sdk.appspot.com','height','connection-state','handleDetectionSystemEvents','removeRemoteMediaStream','remediationManager','setupRenderElement','closeSubscription','createBufferSource','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','getShareableStreamId','InvalidSubscription','prototype','currentFrames','clientWidth','Disconnected','getLabel','bitrate','.crewdle-transactions','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','version','joinedClusters','remoteMediaStreams','file-delete','Failed\x20to\x20create\x20key\x20value\x20database','appsync-disconnect','createConnection','call','min','objectStoreConnector','user-unpublish-media','Restart\x20NeedMediaStream','remove','/transactions/','Invalid\x20publisher.','CloseObjectStoreBucket','maxFramerate','ObjectStoreStats','subscribedTracks','handleUserUpdate','onRemoveTrack','resolution','Delete','params','setInternalId','syncResolve','calculateSize','splice','detectProblems','Jitter','MissingRemoteConnection','lastExecuted','tracks','Receiver','discover','targetId','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','\x27\x20in\x20table\x20\x27','handleObjectMove','getApp','resizeHandler','endsWith','get','PubSubTopicDoesNotExist','client','isReconnecting','packetsSent','lastProcessRank','desc','direction','findNextUserId','disconnectTimeout','Stream\x20already\x20exists','statsReport','systemMessages','checkMediaRecording','getMaxDistance','keyPath','receiverPreviousTimestamp','featureSupport','defineProperty','unregisterDestination','previousTimestamp','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','setTimeout','bufferedEvents','removeConnection','onload','streamLabel','removeRemoteUser','Support','70MjscCx','KeyValueDatabaseTransactionTableNotInitialized','between','processOutboundReport','Backgrounds','createAnswer','Received\x20event\x20on\x20cluster','sourceVideo','keyValueDatabases','waitSendBuffer','local-stream-does-not-exist','timeSending','initializeSystemTopic','messageType','handleHandshake','MediaStreamUnavailable','unregisterSystemSource','Amplify','RemoteRemediation','getDisplayMedia','registerRemoteUser','onUnregisterPublisher','removeEventListener','enabled','play','UserUpdate','off','unregisterCluster','distance','Low','RemoteConnectionExists','createGain','file-move','Restart','eventListener','trackListeners','subscription-request-failed','getLocalUser','Subscription\x20request\x20failed.','Invalid\x20table\x20name\x20\x27','ObjectStoreInvalidSyncMessage','Local\x20stream\x20does\x20not\x20exist.','getNextTargetRank','invalid-subscription','registerSystemPublisher','Incoming','updateDebounce','createObjectStoreBucket','handleFileSync','Cannot\x20unpublish\x20object:\x20','authContext','getResolutionScale','notifyClusterUserUpdate','requestSubscriptionAction','key-value-database-invalid-query','retryQueue','peerConnectionConnector','onGatheringStateChange','subscription-request-in-progress','RoundTripTime','setItem','answerJoin','getKeyValueDatabases','availableTrackKinds','remote-connection-exists','transactionTable','sendFileRequestPayload','RequestTransactionsValue','timeoutCallback','threshold','appsync-connect-fail','Online','clearHeartbeat','Key-value\x20database\x20creation\x20failed.','addConnection','getAudioContext','providerListener','nodeManager','getIndexes','Support:\x20','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','ObjectStoreInvalidPath','Everyone\x20','Cluster','clearWaitAnswer','handleClosePubSubTopic','Missing\x20answerer\x20id\x20on\x20request\x20answer','kind','setLocalRank','1:420235181083:web:4eff6062bd845cb0748cbe','SubscriptionRequestDoesNotExist','getAudioTracks','getRemoteConnections','handleRemediationSystemEvents','priority','connection-not-initialized','systemMessagesReceived','processTransactionsDump','state','Early\x20return:\x20','createMediaStreamDestination','maps','crewdleSDKEnableLogging','handleRequestPayload','disconnectCallback','frameTime','ranges','ccc','onNodeDisconnect','UserAlreadyExist','pubSubTopics','failed','currentBytes','addAudioTrack','registerSubscriber','file','local-media-stream-already-exists','handleObjectDelete','getLocalMediaStream','publishUserLeave','getConnection','collectStats','createConstantSource','track','waitConnected','getOwnerId','removeSubscription','sort','code','transactions','ObjectStoreAlreadySubscribed','removeTrackCallback','handleSubscriptionSubscribeMediaStream','disconnect','serverTimestamp','registeredListeners','handleTransactionPayload','getConnectionType','sendRequest','getSubscriptionLabel','topic','setDisplayName','split','WebGLRenderingContext','sdkCreateToken','sampleRate','enabledChannels','map','Cannot\x20create\x20remote\x20user:\x20User\x20already\x20exists:\x20','KeyValueDatabaseCreationFailed','every','updateDebounceTimeout','UserConnectionsUpdate','move','checkMediaStream','now','processTransactionPayload','Missing\x20remote\x20user\x20or\x20rank','Optimization','handleContentSubscribeMediaStream','aws','getProviderId','Hub','removeIncomingSubscription','FileMove','oncloseTimeout','next','handleContentUpdateMediaStream','pendingFilesRename','firebaseConfig','topicLabel','SyncComplete','::ï¿¿','Core','object-store-not-synced','handleNodeDisconnect','clearSubscriptionRequestTimeout','Media','fromEntries','type','queues','value','mergeParts','log','ObjectStoreCannotWriteTransaction','setUpgradeTimeout','audioDestination','secheduleTime','setPriority','Count','4belvHA','orchestrator','onHandshakeStateChange','wait','getTracks','context','concat','includes','minThreshold','senderPreviousTimestamp','InvalidPublisher','true','checkSyncComplete','AudioOutput','indexOf','onClose','InternalSDKError','getPriority','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','setReceiverTimestamp','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','handleContentClosePubSubTopic','subtle','debug','notifyObjectStoreOfUserJoin','parentId','joinCluster','parameters','deleteTable','offset','object','MediaRecorder','addIssue','Detection','pub-sub-topic-name-not-string','crewdle-sdk-stg.firebaseapp.com','sourceId','query','SubscriptionRequestInProgress','incomingManager','subscriptionRequestTimeouts','publishSystemMessage','setupTrackEndedListeners','start','Error','orderBy','previous','syncPendingFiles','handleUnpublishMediaStream','createOutgoingSubscription','origin','ConnectionNoRetryQueue','Remove','Content','clusterKey','detectAudioIssues','addEventListener','getShareableStream','trackKinds','joinedAt','object-store-name-not-string','emit','durationTime','active','signInWithCustomToken','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','KeyValueDatabaseTransactionValueNotSet','video','packets','No\x20destinationIds\x20left','lastRemediations','isWhereValues','minConnections','getMinConnections','324oWpfAj','createMediaStreamSource','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Transaction','pendingFilesTransactions','isIceCandidate','instance','deleteIndex','Invalid\x20where\x20clause','processLocalReport','getBitrate','publishFile','ObjectStoreNotSynced','AppSync\x20client\x20not\x20ready','unregisterPublisherListener','findIndex','connection-not-connected','checksum','\x27\x20in\x20layout','Missing\x20owner\x20user\x20or\x20rank','handleDisconnect','registerCluster','onDisconnectHandler','updatePropagationProperties','setTransformations','committed','LoggingService:\x20logging\x20enabled\x20for','remoteUnsubscriber','request','open','notifyClusterUserJoin','frameHeight','UserDoesNotExist','getSettings','collection','region','Signaling','processSenderReport','request-file','key-value-database-invalid-value','MediaStream','KeyValueDatabaseStats','query-helper-invalid-argument','canvas','Invalid\x20index\x20in\x20table\x20\x27','warn','onCandidate','syncTimeout','lastHeartbeat','checkAudioOutput','val','setTimestamp','ObjectStoreInvalidPayload','scheduleTime','getItem','\x20answer','UnpublishMediaStream','KeyValueDatabaseIndexNotFound','Handshake','content','features','RequestFileSync','KeyValueDatabaseNameNotString','hasIndex','receiver','isConnected','path','setupConnectionEvents','No\x20connections\x20available\x20to\x20send\x20message','isSync','tableUnsubscriber','FPS','Invalid\x20data\x20chan_NO_RENAMEENAl.','moveObject','crewdle-sdk-logging-','text','Connected','Invalid\x20key\x20\x27','FramePerSecond','cost','getDistance','getTableConnector','issues','subscription','ObjectStoreNameNotString','internal','setProviderId','createIncomingSubscription','getHash','discoveryUnsubscriber','receiverCurrentBytes','firestore','getMilliseconds','onChildRemoved','connections','key','previousBytes','getReceiverTotalBytes','KeyValueDatabaseInvalidValue','KeyValueDatabaseTableNameReserved','remoteUsers','component','getUser','Update','graphql','outgoingManager','message','getUserMedia','RemoteMediaStreamMissingProviderId','Invalid\x20query','text/plain','getRemoteId','Move','mute','inactive','Medium','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','applyRemediation','Object\x20store\x20is\x20not\x20in\x20sync','chunks','startNoThrottlingHack','NeedRestart','candidate','handleUserJoin','rank','maxConnections','outgoing-stream-no-topic','getLayout','sync','Table\x20not\x20found','transactionService','internalId','sendWithRetry','signalingState','user-not-authenticated','answers','statsReporting','dataChannel','shift','filter','byteLength','setCurrentVersion','getQuery','Invalid\x20subscriber.','AppSync\x20publish','handleOutgoingSystemEvents','find','KeyValueDatabaseAlreadyExists','onDisconnect','Base\x20Peer\x20Connection','Missing\x20transaction\x20id','addProblem','listener','hasTracks','loadEnabledClusters','NeedMediaStream','hasOwnProperty','logRaw','sendTransactionsValue','ConnectionNotinitialized','entries','getFile','Resolution','bytesSent','Cannot\x20publish\x20payload:\x20','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','getFirestore','toLocaleDateString','remote-stream-missing-provider-id','request-file-sync','readAsArrayBuffer','action','AppSync\x20subscribe','Back\x20off:\x20Table\x20name\x20reserved','createSubscription','where','clientHeight','getSenderBitrate','operator','not-in','5072OuDgqE','support','delete','manageAncestor','getMediaStream','splitParts','getOrCreateFolderHandle','handleContentCloseObjectStore','AudioVolume','OPFSObjectStoreConnector','publishUserUpdate','onConnectionStateChange','peer-connection-invalid-destination','dispatchEvent','logSupport','writeTransaction','NodeManager\x20-\x20UserUpdate','Offer','problemType','users','complete','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','addPendingHandshakeCandidate','clusters/','senderTotalMessages','ConnectionGroup','Internal\x20SDK\x20error:\x20','destroy','us-east-1','hasRemoteUser','Invalid\x20peer\x20connection\x20event\x20destination.','createPendingFileWrite','node','getMediaSubscription','bufferedAmount','close','Folder','reduce','getContext','handshakeCandidates','handleContentUnsubscribeMediaStream','947445CJRPmG','175813WTqXCZ','media','streamId','Remote\x20MediaStream\x20already\x20exists','send\x20error\x20on\x20','st_volatility','answererId','syncTransactions','removeLocalMediaStream','heartbeatUnsubscriber','receiverTotalMessages','Rejected','transactionIds','bytesReceived','KeyValueDatabaseTableDoesNotExist','httpsCallable','unregisterSource','end','data','addRemoteUser','Invalid\x20value.\x20Property\x20\x27','createOffer','CrewdleSenderConnection\x20createOffer','\x20already\x20exists','recipients','Node','setupResizeHandler','removeUser','en-US','createTopic','getInstance','unregisterSubscriber','mediaStream','upgradeTimeout','isOffer','gatheringState','storage','getRemoteMediaStream','setSenderTimestamp','ref','PubSub\x20already\x20exists','waitAnswer','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Support:\x20current\x20config','Outgoing','setRemoteConnections','default','writes','framesEncoded','status','handlePublishMediaStream','supportsContentType','incomingTopic','setupListeners','removeObjectStore','setDurationTime','LocalReport','handleCloseObjectStore','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Internal\x20event\x20\x27','handleOptimizationConnectionSuccess','connectionType','set','maxBpp','Subscription','canProvideResolution','openKeyValueDatabase','manageOptimization','toStringTag','maxLayer','KeyValueDatabaseNotOpen','getTable','PublishMediaStream','CrewdleReceiverConnection\x20ontrack','\x20not\x20supported','consumeBufferedEvents','random','RemoteMediaStreamAlreadyExists','currentTimestamp','setEncodingParameters','closeTopic','stopConnection','senderStreams','rtt','count','processReport','replace','publishUserJoin','RequestFileWrite','Sender\x20connection\x20is\x20not\x20initialized.','arrayBuffer','subscription-request-does-not-exist','messageListeners','messagesSent','debugEnabled','openPubSubTopic','bandwidth.bitrate','RemoteAdd','buffer','addVideoTrack','some','publishFolder','publishMove','sender','outgoingTopic','key-value-database-table-does-not-exist','notifyObjectStoreOfUserLeave','Database\x20not\x20open','issue','undefined','addCandidate','deletePendingFile','decodeJWT','UserNotAuthenticated','crewdle-sdk.firebaseapp.com','reads','SubscribeMediaStream','tail','getSenderTotalBytes','2-digit','addTrack','iceServers','DTVolatility','TimePerFrame','createPubSubTopic','connection','string','getFunctions','stats','writeFile','processInboundReports','Get','key-value-database','buildQuery','DataChannel\x20is\x20not\x20open.','connectionConstructor','updateLastTransactionId','values','listenerUnsubscriber','assign','getTables','subscriptionRequests','maxFps','load','match','createElement','onerror','onBufferedAmountLow','eventTarget','unregisterPublisher','timePerFrame','indexes','leave','726069zqYxMJ','\x20check\x20failed','pub-sub-topic-already-exists','maxDistance','publishLocalDynamicMediaStream','Remediation','getOrResetPendingFileTimeout','RequestSyncKeyValueDatabase','invalid-publisher','unsubscribeHandler','senderCurrentTimestamp','chosenAnswers','SystemTopic\x20publish','getTrack','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','setConnectionType','clientStream','Add','label','sendAction','initializeApp','tables','Local\x20user\x20rank\x20is\x20not\x20set','codes','maxResolution','STVolatility'];a0_0x5ae8=function(){return _0x5e2460;};return a0_0x5ae8();}(function(_0x2ce4a8,_0x4a8702){const _0x28a4a0=a0_0x442c,_0x78a3b0=_0x2ce4a8();while(!![]){try{const _0xa91a13=-parseInt(_0x28a4a0(0x1c9))/0x1*(parseInt(_0x28a4a0(0x188))/0x2)+-parseInt(_0x28a4a0(0x5ad))/0x3*(-parseInt(_0x28a4a0(0x3eb))/0x4)+-parseInt(_0x28a4a0(0x512))/0x5+parseInt(_0x28a4a0(0x203))/0x6*(parseInt(_0x28a4a0(0x185))/0x7)+-parseInt(_0x28a4a0(0x4e9))/0x8*(parseInt(_0x28a4a0(0x435))/0x9)+-parseInt(_0x28a4a0(0x32d))/0xa*(parseInt(_0x28a4a0(0x513))/0xb)+parseInt(_0x28a4a0(0x608))/0xc;if(_0xa91a13===_0x4a8702)break;else _0x78a3b0['push'](_0x78a3b0['shift']());}catch(_0x32c6aa){_0x78a3b0['push'](_0x78a3b0['shift']());}}}(a0_0x5ae8,0x224de),!function(_0x926e,_0x23390e){const _0x5cf199=a0_0x442c;if(_0x5cf199(0x409)==typeof exports&&_0x5cf199(0x409)==typeof module)module['exports']=_0x23390e();else{if('function'==typeof define&&define['amd'])define([],_0x23390e);else{var _0x15ccbe=_0x23390e();for(var _0x28f924 in _0x15ccbe)('object'==typeof exports?exports:_0x926e)[_0x28f924]=_0x15ccbe[_0x28f924];}}}(this,()=>((()=>{'use strict';const _0x41b86e=a0_0x442c;var _0x5df0ea={0x14d:(_0x5632e6,_0x2b8e84,_0xaf1751)=>{const _0x29d8a1=a0_0x442c;_0xaf1751['d'](_0x2b8e84,{'O':()=>_0x15b853});const _0x15b853={'version':_0x29d8a1(0x1de),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x29d8a1(0x40e),'databaseURL':_0x29d8a1(0x53d),'projectId':_0x29d8a1(0x23e),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':_0x29d8a1(0x2ae),'functionsRegion':_0x29d8a1(0x27c)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x29d8a1(0x505)}};},0x33b:(_0x5a211a,_0x5218bb,_0x595c7c)=>{_0x595c7c['d'](_0x5218bb,{'O':()=>_0x3cd53e});const _0x3cd53e={};},0x3e6:(_0x398666,_0x5c793c,_0x3d1e95)=>{const _0x545a4c=a0_0x442c;_0x3d1e95['d'](_0x5c793c,{'O':()=>_0xc9b256});const _0xc9b256={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x545a4c(0x2e4),'authDomain':_0x545a4c(0x586),'databaseURL':_0x545a4c(0x15c),'projectId':'crewdle-sdk','storageBucket':_0x545a4c(0x2d1),'messagingSenderId':_0x545a4c(0x5fb),'appId':_0x545a4c(0x386),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x545a4c(0x54e),'region':'us-east-1'}};},0x20:(_0x2c3ed0,_0x4ff44c,_0x308341)=>{_0x308341['d'](_0x4ff44c,{'O':()=>_0x11ded7});const _0x11ded7={};}},_0x465550={};function _0x24d393(_0x54d648){const _0x54eccb=a0_0x442c;var _0x2c8ba0=_0x465550[_0x54d648];if(void 0x0!==_0x2c8ba0)return _0x2c8ba0[_0x54eccb(0x1fd)];var _0x271f39=_0x465550[_0x54d648]={'exports':{}};return _0x5df0ea[_0x54d648](_0x271f39,_0x271f39[_0x54eccb(0x1fd)],_0x24d393),_0x271f39[_0x54eccb(0x1fd)];}_0x24d393['d']=(_0x557672,_0x4304a4)=>{const _0x2160fb=a0_0x442c;for(var _0x1a7e56 in _0x4304a4)_0x24d393['o'](_0x4304a4,_0x1a7e56)&&!_0x24d393['o'](_0x557672,_0x1a7e56)&&Object[_0x2160fb(0x321)](_0x557672,_0x1a7e56,{'enumerable':!0x0,'get':_0x4304a4[_0x1a7e56]});},_0x24d393['o']=(_0x222c65,_0x3ffa82)=>Object[_0x41b86e(0x2dd)][_0x41b86e(0x4d1)][_0x41b86e(0x2ec)](_0x222c65,_0x3ffa82),_0x24d393['r']=_0x521ab5=>{const _0x57edf3=_0x41b86e;_0x57edf3(0x581)!=typeof Symbol&&Symbol[_0x57edf3(0x558)]&&Object[_0x57edf3(0x321)](_0x521ab5,Symbol[_0x57edf3(0x558)],{'value':_0x57edf3(0x286)}),Object[_0x57edf3(0x321)](_0x521ab5,_0x57edf3(0x205),{'value':!0x0});};var _0x54f2d4={};return((()=>{const _0xc3b14b=_0x41b86e;var _0x26c0f7,_0x5c24b3,_0x80d118,_0x13515b,_0x422571,_0x164080,_0x4c897,_0x4434dc,_0x46b6b6;_0x24d393['r'](_0x54f2d4),_0x24d393['d'](_0x54f2d4,{'ContentType':()=>_0x164080,'DatabaseEvent':()=>_0x13515b,'KeyValueDatabase':()=>_0x16be90,'LayoutBuilder':()=>_0x12d906,'LoggingChannels':()=>_0x46b6b6,'MediaStreamPriority':()=>_0x4c897,'ObjectKind':()=>_0x26c0f7,'PayloadAction':()=>_0x5c24b3,'QueryBuilder':()=>_0x402d8c,'SDK':()=>_0x327489,'SDKClientErrorCodes':()=>_0x422571,'StorageEventType':()=>_0x80d118,'logger':()=>_0x4eca14}),function(_0x35720a){const _0x2feaf7=a0_0x442c;_0x35720a[_0x2feaf7(0x166)]='file',_0x35720a[_0x2feaf7(0x50d)]=_0x2feaf7(0x1a7);}(_0x26c0f7||(_0x26c0f7={})),function(_0x51fc96){const _0x3ddf9c=a0_0x442c;_0x51fc96[_0x3ddf9c(0x166)]=_0x3ddf9c(0x3a0),_0x51fc96[_0x3ddf9c(0x50d)]=_0x3ddf9c(0x1a7),_0x51fc96[_0x3ddf9c(0x4a5)]=_0x3ddf9c(0x3c6);}(_0x5c24b3||(_0x5c24b3={})),function(_0x29fc73){const _0x3d270d=a0_0x442c;_0x29fc73['FileWrite']=_0x3d270d(0x689),_0x29fc73[_0x3d270d(0x607)]=_0x3d270d(0x2e8),_0x29fc73[_0x3d270d(0x3d1)]=_0x3d270d(0x34d),_0x29fc73[_0x3d270d(0x240)]=_0x3d270d(0x222),_0x29fc73[_0x3d270d(0x233)]=_0x3d270d(0x289),_0x29fc73[_0x3d270d(0x214)]=_0x3d270d(0x24b);}(_0x80d118||(_0x80d118={})),function(_0x260b8f){const _0x4c5f87=a0_0x442c;_0x260b8f[_0x4c5f87(0x3d8)]=_0x4c5f87(0x1c7);}(_0x13515b||(_0x13515b={})),function(_0xa821bb){const _0x58069d=a0_0x442c;_0xa821bb['FeatureNotEnabled']=_0x58069d(0x149),_0xa821bb[_0x58069d(0x1ff)]=_0x58069d(0x27b),_0xa821bb[_0x58069d(0x3af)]=_0x58069d(0x5e6),_0xa821bb[_0x58069d(0x6d1)]=_0x58069d(0x683),_0xa821bb[_0x58069d(0x489)]=_0x58069d(0x427),_0xa821bb[_0x58069d(0x469)]='object-store-invalid-payload',_0xa821bb['ObjectStoreInvalidPath']='object-store-invalid-path',_0xa821bb['ObjectStoreNotInSync']=_0x58069d(0x24c),_0xa821bb[_0x58069d(0x3fb)]='internal-sdk-error',_0xa821bb[_0x58069d(0x4c8)]=_0x58069d(0x1a0),_0xa821bb['KeyValueDatabaseDoesNotExist']=_0x58069d(0x623),_0xa821bb[_0x58069d(0x46e)]='key-value-database-index-not-found',_0xa821bb['KeyValueDatabaseInvalidQuery']=_0x58069d(0x363),_0xa821bb[_0x58069d(0x497)]=_0x58069d(0x45c),_0xa821bb[_0x58069d(0x473)]=_0x58069d(0x1d8),_0xa821bb['KeyValueDatabaseNotOpen']='key-value-database-not-open',_0xa821bb[_0x58069d(0x498)]=_0x58069d(0x2a9),_0xa821bb[_0x58069d(0x159)]=_0x58069d(0x652),_0xa821bb['KeyValueDatabaseInvalidLayout']='key-value-database-invalid-layout',_0xa821bb[_0x58069d(0x65c)]=_0x58069d(0x3a1),_0xa821bb[_0x58069d(0x6be)]=_0x58069d(0x5af),_0xa821bb[_0x58069d(0x310)]=_0x58069d(0x6bb),_0xa821bb[_0x58069d(0x1c8)]=_0x58069d(0x40d),_0xa821bb[_0x58069d(0x181)]='pub-sub-topic-already-subscribed',_0xa821bb[_0x58069d(0x284)]=_0x58069d(0x45f),_0xa821bb[_0x58069d(0x561)]=_0x58069d(0x22b),_0xa821bb['RemoteMediaStreamInvalidSubscriptionParams']='remote-media-stream-invalid-subscription-params',_0xa821bb[_0x58069d(0x411)]=_0x58069d(0x367),_0xa821bb['UserNotAuthenticated']=_0x58069d(0x4bb);}(_0x422571||(_0x422571={}));class _0x560421 extends Error{['code'];constructor(_0x1040c9,_0x36c2df){super(_0x36c2df),this['code']=_0x1040c9;}}function _0x4c7da3(_0x185979){const _0x3180c6=a0_0x442c;if(!_0x185979)throw new _0x560421(_0x422571['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');if('object'!=typeof _0x185979)throw new _0x560421(_0x422571[_0x3180c6(0x18e)],_0x3180c6(0x27d));const _0x3d2b72=_0x185979;if(_0x3d2b72['video']&&'boolean'!=typeof _0x3d2b72['video']){if(_0x3d2b72[_0x3180c6(0x42e)]['maxResolution']&&(_0x3180c6(0x21c)!=typeof _0x3d2b72[_0x3180c6(0x42e)][_0x3180c6(0x5c5)][_0x3180c6(0x2b0)]||_0x3180c6(0x21c)!=typeof _0x3d2b72[_0x3180c6(0x42e)][_0x3180c6(0x5c5)][_0x3180c6(0x2d2)]))throw new _0x560421(_0x422571['RemoteMediaStreamInvalidSubscriptionParams'],_0x3180c6(0x194));if(_0x3d2b72[_0x3180c6(0x42e)][_0x3180c6(0x209)]&&!(_0x3d2b72[_0x3180c6(0x42e)]['renderElement']instanceof HTMLVideoElement))throw new _0x560421(_0x422571[_0x3180c6(0x18e)],'Invalid\x20render\x20element');}return!0x0;}!function(_0x4647b8){const _0x326acf=a0_0x442c;_0x4647b8[_0x326acf(0x697)]=_0x326acf(0x525),_0x4647b8['Media']=_0x326acf(0x514),_0x4647b8[_0x326acf(0x166)]='file',_0x4647b8[_0x326acf(0x25e)]=_0x326acf(0x21f),_0x4647b8[_0x326acf(0x28a)]=_0x326acf(0x182),_0x4647b8[_0x326acf(0x22d)]=_0x326acf(0x6dc);}(_0x164080||(_0x164080={})),function(_0xaaa42a){const _0x334f00=a0_0x442c;_0xaaa42a[_0xaaa42a['High']=0x1]=_0x334f00(0x5f0),_0xaaa42a[_0xaaa42a[_0x334f00(0x1b2)]=0x2]='Default',_0xaaa42a[_0xaaa42a[_0x334f00(0x34a)]=0x3]='Low';}(_0x4c897||(_0x4c897={})),function(_0x5acca6){const _0xc3f1a6=a0_0x442c;_0x5acca6[_0xc3f1a6(0x25e)]='pubsub',_0x5acca6[_0xc3f1a6(0x2bb)]='object-storage',_0x5acca6[_0xc3f1a6(0x22d)]=_0xc3f1a6(0x598),_0x5acca6[_0xc3f1a6(0x45d)]='media-stream';}(_0x4434dc||(_0x4434dc={})),function(_0x3cb960){const _0x4cded2=a0_0x442c;_0x3cb960[_0x4cded2(0x2b9)]='all',_0x3cb960[_0x4cded2(0x1b2)]=_0x4cded2(0x542),_0x3cb960[_0x4cded2(0x15d)]=_0x4cded2(0x591),_0x3cb960[_0x4cded2(0x63d)]=_0x4cded2(0x2d3),_0x3cb960[_0x4cded2(0x380)]='cluster',_0x3cb960[_0x4cded2(0x420)]='content',_0x3cb960['Detection']=_0x4cded2(0x1aa),_0x3cb960[_0x4cded2(0x63b)]='events',_0x3cb960[_0x4cded2(0x417)]=_0x4cded2(0x1f6),_0x3cb960[_0x4cded2(0x52c)]=_0x4cded2(0x509),_0x3cb960['Pool']='pool',_0x3cb960[_0x4cded2(0x25e)]=_0x4cded2(0x21f),_0x3cb960['Remediation']='remediation',_0x3cb960['Signaling']=_0x4cded2(0x29f),_0x3cb960[_0x4cded2(0x1a5)]=_0x4cded2(0x594),_0x3cb960['Subscription']=_0x4cded2(0x488),_0x3cb960['Support']=_0x4cded2(0x4ea),_0x3cb960[_0x4cded2(0x682)]=_0x4cded2(0x69b),_0x3cb960['SystemStats']='system-stats',_0x3cb960['TestPage']='test-page',_0x3cb960[_0x4cded2(0x6bc)]=_0x4cded2(0x1d3);}(_0x46b6b6||(_0x46b6b6={}));class _0x402d8c{[_0xc3b14b(0x410)];constructor(_0x44ecf9){const _0x360883=_0xc3b14b;this[_0x360883(0x410)]={'orderBy':{'key':_0x44ecf9,'direction':'asc'}};}static['index'](_0x4daf15){const _0x483be0=_0xc3b14b;if(_0x483be0(0x592)!=typeof _0x4daf15||0x0===_0x4daf15[_0x483be0(0x1c3)])throw new _0x560421(_0x422571[_0x483be0(0x284)],_0x483be0(0x3fd));return new _0x402d8c(_0x4daf15);}static[_0xc3b14b(0x621)](_0x3292af){const _0x5dbe30=_0xc3b14b;try{return _0x402d8c[_0x5dbe30(0x599)](_0x3292af),!0x0;}catch(_0x30c6ce){return!0x1;}}static[_0xc3b14b(0x599)](_0x3bd4eb){const _0x5cbe00=_0xc3b14b,_0x1e90a9=_0x402d8c[_0x5cbe00(0x210)](_0x3bd4eb[_0x5cbe00(0x418)]?.['key']??_0x3bd4eb['where']?.[_0x5cbe00(0x494)]??'');if(_0x3bd4eb[_0x5cbe00(0x4e4)]){const _0x411987=_0x3bd4eb[_0x5cbe00(0x4e4)];if((_0x402d8c[_0x5cbe00(0x695)](_0x411987)||_0x402d8c[_0x5cbe00(0x432)](_0x411987)||_0x402d8c[_0x5cbe00(0x212)](_0x411987))&&_0x1e90a9[_0x5cbe00(0x4e4)](_0x411987[_0x5cbe00(0x4e7)],_0x411987['value']),_0x3bd4eb[_0x5cbe00(0x418)]?.['key']&&_0x3bd4eb['orderBy']?.['key']!==_0x3bd4eb[_0x5cbe00(0x4e4)][_0x5cbe00(0x494)])throw new _0x560421(_0x422571[_0x5cbe00(0x284)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x3bd4eb['orderBy']&&_0x1e90a9[_0x5cbe00(0x418)](_0x3bd4eb['orderBy'][_0x5cbe00(0x316)]),_0x3bd4eb[_0x5cbe00(0x5eb)]&&_0x1e90a9['limit'](_0x3bd4eb['limit']),_0x3bd4eb[_0x5cbe00(0x408)]&&_0x1e90a9['offset'](_0x3bd4eb[_0x5cbe00(0x408)]),_0x1e90a9;}[_0xc3b14b(0x4c3)](){const _0x20b409=_0xc3b14b;return{...this[_0x20b409(0x410)]};}[_0xc3b14b(0x4e4)](_0x52d8d0,_0x1082d3){const _0x3e76f8=_0xc3b14b,_0x5b2c49={'key':this[_0x3e76f8(0x410)][_0x3e76f8(0x418)]['key'],'operator':_0x52d8d0,'value':_0x1082d3};if(!_0x402d8c['isWhereValue'](_0x5b2c49)&&!_0x402d8c[_0x3e76f8(0x432)](_0x5b2c49)&&!_0x402d8c['isWhereBetween'](_0x5b2c49))throw new _0x560421(_0x422571[_0x3e76f8(0x284)],_0x3e76f8(0x43d));return this[_0x3e76f8(0x410)][_0x3e76f8(0x4e4)]=_0x5b2c49,this;}[_0xc3b14b(0x418)](_0x1a3b18){const _0x13343b=_0xc3b14b;if('asc'!==_0x1a3b18&&_0x13343b(0x315)!==_0x1a3b18)throw new _0x560421(_0x422571[_0x13343b(0x284)],_0x13343b(0x217));return this[_0x13343b(0x410)]['orderBy'][_0x13343b(0x316)]=_0x1a3b18,this;}[_0xc3b14b(0x5eb)](_0x87c977){const _0x3738ae=_0xc3b14b;if(_0x3738ae(0x21c)!=typeof _0x87c977||_0x87c977<0x0)throw new _0x560421(_0x422571[_0x3738ae(0x284)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x3738ae(0x5eb)]=_0x87c977,this;}['offset'](_0x11f9f0){const _0x4e3b62=_0xc3b14b;if(_0x4e3b62(0x21c)!=typeof _0x11f9f0||_0x11f9f0<0x0)throw new _0x560421(_0x422571['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query']['offset']=_0x11f9f0,this;}static[_0xc3b14b(0x695)](_0x3c2750){const _0x32dfab=_0xc3b14b;if(!(_0x3c2750&&_0x32dfab(0x409)==typeof _0x3c2750&&'operator'in _0x3c2750&&'value'in _0x3c2750))return!0x1;const {operator:_0x1de114,value:_0x121f6c}=_0x3c2750;return!(!['==','!=','>','<','<=','>='][_0x32dfab(0x3f2)](_0x1de114)||Array[_0x32dfab(0x6ae)](_0x121f6c));}static[_0xc3b14b(0x432)](_0x36d137){const _0x5f2784=_0xc3b14b;if(!(_0x36d137&&'object'==typeof _0x36d137&&_0x5f2784(0x4e7)in _0x36d137&&_0x5f2784(0x3e2)in _0x36d137))return!0x1;const {operator:_0x1cac0a,value:_0x2a400f}=_0x36d137;return!(!['in',_0x5f2784(0x4e8)]['includes'](_0x1cac0a)||!Array[_0x5f2784(0x6ae)](_0x2a400f));}static['isWhereBetween'](_0x5c6af4){const _0x276fb2=_0xc3b14b;if(!(_0x5c6af4&&_0x276fb2(0x409)==typeof _0x5c6af4&&_0x276fb2(0x4e7)in _0x5c6af4&&'value'in _0x5c6af4))return!0x1;const {operator:_0x56d25e,value:_0x4bad01}=_0x5c6af4;return!(_0x276fb2(0x32f)!==_0x56d25e||!Array[_0x276fb2(0x6ae)](_0x4bad01)||0x2!==_0x4bad01[_0x276fb2(0x1c3)]);}}class _0x12d906{[_0xc3b14b(0x6ac)];constructor(_0x4b7129){this['layout']={'tables':{},'version':_0x4b7129};}static[_0xc3b14b(0x619)](_0x3b46f8){const _0x623f50=_0xc3b14b;for(const _0x397a33 in _0x3b46f8){if(_0x623f50(0x2e5)!==_0x397a33&&_0x623f50(0x5c2)!==_0x397a33)return[!0x1,_0x623f50(0x482)+_0x397a33+_0x623f50(0x447)];if(_0x623f50(0x5c2)===_0x397a33)for(const _0x182ec5 in _0x3b46f8['tables']){if('string'!=typeof _0x182ec5)return[!0x1,_0x623f50(0x354)+_0x182ec5+'\x27'];for(const _0x172cf0 in _0x3b46f8[_0x623f50(0x5c2)][_0x182ec5]){if(_0x623f50(0x5ab)!==_0x172cf0)return[!0x1,_0x623f50(0x482)+_0x172cf0+_0x623f50(0x30a)+_0x182ec5+'\x27'];const _0x48aabb=_0x3b46f8[_0x623f50(0x5c2)][_0x182ec5][_0x172cf0]??[];for(const _0x42aeff of _0x48aabb)if(void 0x0===_0x42aeff['keyPath']||'string'!=typeof _0x42aeff[_0x623f50(0x31e)])return[!0x1,_0x623f50(0x461)+_0x182ec5+_0x623f50(0x5ce)];}}else{if(_0x623f50(0x2e5)===_0x397a33&&_0x623f50(0x21c)!=typeof _0x3b46f8[_0x397a33])return[!0x1,_0x623f50(0x6cb)+_0x3b46f8[_0x397a33]+_0x623f50(0x4a9)];}}return[!0x0,'Valid\x20layout'];}static[_0xc3b14b(0x6ac)](_0x1841b6){const _0xa2323=_0xc3b14b,_0x543e12=new _0x12d906(_0x1841b6);return _0x543e12[_0xa2323(0x6ac)]['version']=_0x1841b6,_0x543e12;}[_0xc3b14b(0x25a)](_0x3d9aff){const _0x25d644=_0xc3b14b;return this[_0x25d644(0x6ac)][_0x25d644(0x5c2)][_0x3d9aff]={},new _0x2d8d1a(this[_0x25d644(0x6ac)][_0x25d644(0x5c2)][_0x3d9aff]);}[_0xc3b14b(0x4b4)](){const _0x21025d=_0xc3b14b;return this[_0x21025d(0x6ac)];}}class _0x2d8d1a{['tableLayout'];constructor(_0x36c225){const _0x54f65f=_0xc3b14b;this[_0x54f65f(0x637)]=_0x36c225;}[_0xc3b14b(0x210)](_0xee7b80){const _0x470b44=_0xc3b14b;return this[_0x470b44(0x637)][_0x470b44(0x5ab)]=this[_0x470b44(0x637)][_0x470b44(0x5ab)]??[],this[_0x470b44(0x637)][_0x470b44(0x5ab)]['push']({'keyPath':_0xee7b80}),this;}}const _0x599874='.crewdle-last-transaction',_0x258289='.crewdle-pending',_0x489623=_0xc3b14b(0x2e3),_0x29d3cc=0x7530,_0x6f97b2=_0xc3b14b(0x48a);var _0x16bfbc;!function(_0x30b686){const _0x2efa70=_0xc3b14b;_0x30b686['ConnectionNotinitialized']=_0x2efa70(0x38c),_0x30b686[_0x2efa70(0x1d4)]=_0x2efa70(0x445),_0x30b686[_0x2efa70(0x41e)]='connection-no-retry-queue',_0x30b686['ConnectionInvalidDataEvent']='connection-invalid-data-event',_0x30b686[_0x2efa70(0x3e5)]=_0x2efa70(0x25b),_0x30b686[_0x2efa70(0x355)]=_0x2efa70(0x1f0),_0x30b686['ObjectStoreNotSynced']=_0x2efa70(0x3db),_0x30b686[_0x2efa70(0x694)]='invalid-data-chanel',_0x30b686[_0x2efa70(0x3f5)]=_0x2efa70(0x5b5),_0x30b686[_0x2efa70(0x68c)]=_0x2efa70(0x6cf),_0x30b686['InvalidSubscription']=_0x2efa70(0x358),_0x30b686['KeyValueDatabaseCreationFailed']='key-value-database-creation-failed',_0x30b686[_0x2efa70(0x521)]=_0x2efa70(0x57d),_0x30b686[_0x2efa70(0x32e)]=_0x2efa70(0x183),_0x30b686['KeyValueDatabaseTransactionValueNotSet']='key-value-database-transaction-value-not-set',_0x30b686[_0x2efa70(0x1df)]=_0x2efa70(0x337),_0x30b686['MissingRemoteConnection']=_0x2efa70(0x644),_0x30b686[_0x2efa70(0x242)]='missing-system-topic',_0x30b686[_0x2efa70(0x68f)]=_0x2efa70(0x4b3),_0x30b686[_0x2efa70(0x691)]='remote-stream-does-not-exist',_0x30b686[_0x2efa70(0x4a1)]=_0x2efa70(0x4dd),_0x30b686[_0x2efa70(0x34b)]=_0x2efa70(0x36d),_0x30b686[_0x2efa70(0x387)]=_0x2efa70(0x56f),_0x30b686[_0x2efa70(0x64f)]=_0x2efa70(0x351),_0x30b686[_0x2efa70(0x2b7)]='subscription-request-no-answer',_0x30b686[_0x2efa70(0x455)]='user-does-not-exist',_0x30b686[_0x2efa70(0x39a)]=_0x2efa70(0x642),_0x30b686[_0x2efa70(0x15f)]=_0x2efa70(0x4f5);}(_0x16bfbc||(_0x16bfbc={}));const _0x28c750=new Map([[_0x16bfbc['ConnectionNotinitialized'],_0xc3b14b(0x2a2)],[_0x16bfbc['ConnectionNotConnected'],_0xc3b14b(0x6d4)],[_0x16bfbc[_0xc3b14b(0x41e)],_0xc3b14b(0x437)],[_0x16bfbc['ConnectionInvalidDataEvent'],'Invalid\x20data\x20event.'],[_0x16bfbc[_0xc3b14b(0x3e5)],'Cannot\x20write\x20transaction.'],[_0x16bfbc[_0xc3b14b(0x355)],_0xc3b14b(0x22c)],[_0x16bfbc[_0xc3b14b(0x441)],'Object\x20store\x20not\x20synced.'],[_0x16bfbc['InvalidDataChannel'],_0xc3b14b(0x47d)],[_0x16bfbc[_0xc3b14b(0x3f5)],_0xc3b14b(0x2f3)],[_0x16bfbc[_0xc3b14b(0x68c)],_0xc3b14b(0x4c4)],[_0x16bfbc['InvalidSubscription'],'Invalid\x20subscription.'],[_0x16bfbc['KeyValueDatabaseCreationFailed'],_0xc3b14b(0x376)],[_0x16bfbc['KeyValueDatabaseTableDoesNotExist'],_0xc3b14b(0x60d)],[_0x16bfbc[_0xc3b14b(0x32e)],_0xc3b14b(0x4da)],[_0x16bfbc[_0xc3b14b(0x42d)],_0xc3b14b(0x1e7)],[_0x16bfbc[_0xc3b14b(0x1df)],_0xc3b14b(0x356)],[_0x16bfbc[_0xc3b14b(0x303)],'Connection\x20does\x20not\x20exist.'],[_0x16bfbc['MissingSystemTopic'],_0xc3b14b(0x325)],[_0x16bfbc[_0xc3b14b(0x68f)],_0xc3b14b(0x53e)],[_0x16bfbc[_0xc3b14b(0x691)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x16bfbc['RemoteMediaStreamMissingProviderId'],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x16bfbc['RemoteConnectionExists'],_0xc3b14b(0x2bc)],[_0x16bfbc['SubscriptionRequestDoesNotExist'],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x16bfbc[_0xc3b14b(0x64f)],_0xc3b14b(0x353)],[_0x16bfbc[_0xc3b14b(0x2b7)],_0xc3b14b(0x655)],[_0x16bfbc[_0xc3b14b(0x455)],_0xc3b14b(0x5cf)],[_0x16bfbc[_0xc3b14b(0x39a)],_0xc3b14b(0x6d8)],[_0x16bfbc['PeerConnectionInvalidDestination'],_0xc3b14b(0x507)]]);class _0x666015 extends Error{[_0xc3b14b(0x3ad)];static ['codes']=_0x16bfbc;[_0xc3b14b(0x525)];constructor(_0x8e41b6,_0xda8dbb){const _0x6c54cf=_0xc3b14b;super(_0x6c54cf(0x6a0)+_0x8e41b6+':\x20'+_0x28c750[_0x6c54cf(0x30f)](_0x8e41b6)+'\x0aAdditional\x20data:\x20'+JSON[_0x6c54cf(0x6c7)](_0xda8dbb)),this[_0x6c54cf(0x3ad)]=_0x8e41b6,this[_0x6c54cf(0x525)]=_0xda8dbb||{};}}var _0x21d02e,_0x2bb7e8,_0x569f26,_0x40a49d,_0x1fb7de,_0x4e5dac;!function(_0x780b10){const _0x174d26=_0xc3b14b;_0x780b10[_0x780b10[_0x174d26(0x55c)]=0x0]=_0x174d26(0x55c),_0x780b10[_0x780b10['UnpublishMediaStream']=0x1]='UnpublishMediaStream',_0x780b10[_0x780b10['SubscribeMediaStream']=0x2]='SubscribeMediaStream',_0x780b10[_0x780b10['UpdateMediaStream']=0x3]=_0x174d26(0x293),_0x780b10[_0x780b10[_0x174d26(0x298)]=0x4]=_0x174d26(0x298),_0x780b10[_0x780b10['CloseObjectStoreBucket']=0x5]=_0x174d26(0x2f4),_0x780b10[_0x780b10[_0x174d26(0x285)]=0x6]=_0x174d26(0x285),_0x780b10[_0x780b10[_0x174d26(0x62b)]=0x7]=_0x174d26(0x62b),_0x780b10[_0x780b10[_0x174d26(0x662)]=0x8]=_0x174d26(0x662),_0x780b10[_0x780b10[_0x174d26(0x1f9)]=0x9]=_0x174d26(0x1f9),_0x780b10[_0x780b10[_0x174d26(0x220)]=0xa]=_0x174d26(0x220),_0x780b10[_0x780b10['RequestSyncKeyValueDatabase']=0xb]=_0x174d26(0x5b4),_0x780b10[_0x780b10[_0x174d26(0x255)]=0xc]='SendTransactionsDump',_0x780b10[_0x780b10[_0x174d26(0x370)]=0xd]=_0x174d26(0x370),_0x780b10[_0x780b10[_0x174d26(0x64b)]=0xe]=_0x174d26(0x64b),_0x780b10[_0x780b10[_0x174d26(0x2f6)]=0xf]=_0x174d26(0x2f6),_0x780b10[_0x780b10[_0x174d26(0x45e)]=0x10]='KeyValueDatabaseStats';}(_0x21d02e||(_0x21d02e={})),function(_0x1baa30){const _0x5f3560=_0xc3b14b;_0x1baa30[_0x5f3560(0x6b6)]=_0x5f3560(0x689),_0x1baa30[_0x5f3560(0x240)]='folder-create',_0x1baa30[_0x5f3560(0x2fb)]=_0x5f3560(0x4eb),_0x1baa30['Move']=_0x5f3560(0x3c6),_0x1baa30[_0x5f3560(0x2cb)]=_0x5f3560(0x45b),_0x1baa30[_0x5f3560(0x663)]=_0x5f3560(0x65d),_0x1baa30[_0x5f3560(0x472)]=_0x5f3560(0x4de),_0x1baa30[_0x5f3560(0x56c)]='request-file-write';}(_0x2bb7e8||(_0x2bb7e8={})),function(_0x534b56){const _0x572ef0=_0xc3b14b;_0x534b56[_0x572ef0(0x24d)]=_0x572ef0(0x451),_0x534b56['Transaction']=_0x572ef0(0x24f);}(_0x569f26||(_0x569f26={})),function(_0x35b4fd){const _0x2e4eb8=_0xc3b14b;_0x35b4fd[_0x2e4eb8(0x5be)]=_0x2e4eb8(0x14c),_0x35b4fd[_0x2e4eb8(0x49c)]=_0x2e4eb8(0x25f),_0x35b4fd[_0x2e4eb8(0x2fb)]=_0x2e4eb8(0x4eb);}(_0x40a49d||(_0x40a49d={})),function(_0x3e2600){const _0x3cbfc0=_0xc3b14b;_0x3e2600[_0x3cbfc0(0x597)]=_0x3cbfc0(0x30f),_0x3e2600[_0x3cbfc0(0x67d)]='list',_0x3e2600[_0x3cbfc0(0x3ea)]='count';}(_0x1fb7de||(_0x1fb7de={})),function(_0x1db1ff){const _0x2fe6c8=_0xc3b14b;_0x1db1ff[_0x1db1ff[_0x2fe6c8(0x6bc)]=0x0]='PeerConnection',_0x1db1ff[_0x1db1ff['Node']=0x1]=_0x2fe6c8(0x52c),_0x1db1ff[_0x1db1ff['Content']=0x2]='Content',_0x1db1ff[_0x1db1ff['Subscription']=0x3]=_0x2fe6c8(0x554),_0x1db1ff[_0x1db1ff[_0x2fe6c8(0x1a5)]=0x4]='Stats',_0x1db1ff[_0x1db1ff[_0x2fe6c8(0x40c)]=0x5]=_0x2fe6c8(0x40c),_0x1db1ff[_0x1db1ff[_0x2fe6c8(0x5b2)]=0x6]=_0x2fe6c8(0x5b2);}(_0x4e5dac||(_0x4e5dac={}));class _0x1ddbf8{[_0xc3b14b(0x299)];[_0xc3b14b(0x5bf)];['systemTopic'];constructor(_0x5736d0,_0x1454d9){const _0x15e8ab=_0xc3b14b;this[_0x15e8ab(0x299)]=_0x5736d0,this[_0x15e8ab(0x5bf)]=_0x1454d9;}[_0xc3b14b(0x2e1)](){const _0x480ae1=_0xc3b14b;return this[_0x480ae1(0x5bf)];}['getOwnerId'](){const _0x109ccf=_0xc3b14b;return this[_0x109ccf(0x299)];}[_0xc3b14b(0x504)](){}[_0xc3b14b(0x359)](_0x182e49){const _0x26fb0d=_0xc3b14b;this[_0x26fb0d(0x5ea)]=_0x182e49;}['unregisterSystemPublisher'](){const _0x317148=_0xc3b14b;delete this[_0x317148(0x5ea)];}}function _0x3497ab(_0x68910e,_0x2a21dd){return'/'===_0x68910e?_0x68910e+_0x2a21dd:_0x68910e+'/'+_0x2a21dd;}function _0x110e59(_0x1b20e1){const _0x3523ad=_0xc3b14b,_0x5b771f=function(_0x69155e){const _0x373610=a0_0x442c;return _0x69155e['split']('/')[_0x373610(0x4c0)](_0x47d171=>_0x47d171[_0x373610(0x1c3)]>0x0);}(_0x1b20e1),_0x4c9932=_0x5b771f[_0x3523ad(0x692)]()||'',_0x547377=_0x5b771f[_0x3523ad(0x238)]('/');return[0x0===_0x547377[_0x3523ad(0x1c3)]?'/':_0x547377,_0x4c9932];}async function _0x4f1d0f(_0x4aa741){const _0x7ffe66=_0xc3b14b,_0x21ae1b=await _0x4aa741[_0x7ffe66(0x56e)](),_0x2a3e32=new Uint8Array(_0x21ae1b);let _0x49f5fd=0x0;for(const _0x170f72 of _0x2a3e32)_0x49f5fd+=_0x170f72;return _0x49f5fd['toString']();}function _0xacd752(_0x12146b){return new Promise((_0x342fcf,_0x43e631)=>{!function(_0x13bc96,_0x25bea7,_0x2d8fd7){let _0xd385ac=0x0;const _0x545965=[],_0x1526c5=()=>{const _0xbde903=a0_0x442c;let _0x248270=_0xd385ac+0x3f800;_0x248270>_0x13bc96[_0xbde903(0x6cd)]&&(_0x248270=_0x13bc96['size']);let _0xe60871=_0x13bc96[_0xbde903(0x6b9)](_0xd385ac,_0x248270),_0x1186e3=new FileReader();_0x1186e3[_0xbde903(0x329)]=_0x5f4633=>{const _0x1743dd=_0xbde903;_0x545965[_0x1743dd(0x16d)](_0x1186e3['result']),_0xd385ac=_0x248270,_0xd385ac<_0x13bc96[_0x1743dd(0x6cd)]?_0x1526c5():_0x25bea7(_0x545965);},_0x1186e3[_0xbde903(0x5a6)]=_0x26d973=>{_0x2d8fd7(_0x26d973);},_0x1186e3[_0xbde903(0x4df)](_0xe60871);};_0x1526c5();}(_0x12146b,_0x342fcf,_0x43e631);});}function _0x3afe1e(_0x30e7d5,_0x5c4c1f,_0x440c20){return new File(_0x30e7d5,_0x5c4c1f,{'type':_0x440c20});}class _0x3c8379 extends _0x1ddbf8{['outgoingTopic'];[_0xc3b14b(0x548)];['fileChunks']=new Map();[_0xc3b14b(0x571)]=0x0;[_0xc3b14b(0x679)]=0x0;['bytesSent']=0x0;[_0xc3b14b(0x520)]=0x0;constructor(_0x56466a,_0x5ce146){super(_0x56466a,_0x5ce146);}['getLabel'](){const _0x47f8a4=_0xc3b14b;return this[_0x47f8a4(0x5bf)];}[_0xc3b14b(0x1b0)](){const _0x41fb56=_0xc3b14b;return this[_0x41fb56(0x5bf)];}['getContentType'](){const _0x4eceaf=_0xc3b14b;return _0x164080[_0x4eceaf(0x697)];}[_0xc3b14b(0x180)](){const _0x6d89b5=_0xc3b14b;return this[_0x6d89b5(0x5bf)];}[_0xc3b14b(0x6b7)](_0x20d253){const _0x405ade=_0xc3b14b;if(this[_0x405ade(0x57c)])throw new _0x666015(_0x666015[_0x405ade(0x5c4)][_0x405ade(0x3f5)],{'message':_0x405ade(0x4fe)+this[_0x405ade(0x299)]+_0x405ade(0x1c5)+this[_0x405ade(0x5bf)],'topic':this['outgoingTopic']});this[_0x405ade(0x57c)]=_0x20d253;}[_0xc3b14b(0x39f)](_0x52a035){const _0x43aaf2=_0xc3b14b;if(this[_0x43aaf2(0x548)])throw new _0x666015(_0x666015[_0x43aaf2(0x5c4)][_0x43aaf2(0x68c)],{'message':_0x43aaf2(0x42c)+this[_0x43aaf2(0x299)]+_0x43aaf2(0x1c5)+this['label'],'topic':this[_0x43aaf2(0x548)]});this['incomingTopic']=_0x52a035;}[_0xc3b14b(0x5a9)](){const _0x2c9f51=_0xc3b14b;delete this[_0x2c9f51(0x57c)];}['unregisterSubscriber'](){delete this['incomingTopic'];}async['send'](_0x164eb5,_0xd4d650){const _0x10b8ce=_0xc3b14b;if(this[_0x10b8ce(0x571)]+=0x1,_0x164eb5 instanceof File){const _0x3dbeae=await _0xacd752(_0x164eb5);return this['bytesSent']+=_0x3dbeae[_0x10b8ce(0x50e)]((_0x452ea9,_0x24cbd5)=>_0x452ea9+_0x24cbd5['byteLength'],0x0),void _0x3dbeae[_0x10b8ce(0x602)]((_0x376bf0,_0x510e9c)=>{const _0x274e98=_0x10b8ce;this[_0x274e98(0x57c)][_0x274e98(0x69e)]({'sourceId':this['ownerId'],'destinationIds':_0xd4d650,'propagate':!0x0,'contentType':_0x164080[_0x274e98(0x166)],'content':{'name':_0x164eb5[_0x274e98(0x235)],'type':_0x164eb5['type'],'data':_0x376bf0,'index':_0x510e9c,'total':_0x3dbeae[_0x274e98(0x1c3)]}});});}this['bytesSent']+=JSON[_0x10b8ce(0x6c7)](_0x164eb5)[_0x10b8ce(0x1c3)],this[_0x10b8ce(0x57c)]['publish']({'sourceId':this[_0x10b8ce(0x299)],'destinationIds':_0xd4d650,'propagate':!0x0,'contentType':_0x164080[_0x10b8ce(0x697)],'content':_0x164eb5});}[_0xc3b14b(0x18a)](_0x9c02d0){return this['incomingTopic']['subscribe'](_0x9fb931=>{const _0x37a260=a0_0x442c;switch(_0x9fb931['contentType']){case _0x164080[_0x37a260(0x697)]:this[_0x37a260(0x679)]+=0x1,this[_0x37a260(0x520)]+=JSON[_0x37a260(0x6c7)](_0x9fb931[_0x37a260(0x470)])[_0x37a260(0x1c3)],_0x9c02d0(_0x9fb931[_0x37a260(0x40f)],_0x9fb931[_0x37a260(0x470)]);break;case _0x164080[_0x37a260(0x166)]:this[_0x37a260(0x16e)][_0x37a260(0x62d)](_0x9fb931[_0x37a260(0x470)][_0x37a260(0x235)])||this[_0x37a260(0x16e)][_0x37a260(0x552)](_0x9fb931[_0x37a260(0x470)][_0x37a260(0x235)],[]);const _0x11a53b=this[_0x37a260(0x16e)][_0x37a260(0x30f)](_0x9fb931['content'][_0x37a260(0x235)]);_0x11a53b[_0x9fb931['content']['index']]=_0x9fb931[_0x37a260(0x470)][_0x37a260(0x525)],_0x11a53b['length']===_0x9fb931[_0x37a260(0x470)][_0x37a260(0x288)]&&(this[_0x37a260(0x679)]+=0x1,this[_0x37a260(0x520)]+=_0x11a53b[_0x37a260(0x50e)]((_0x4c7905,_0xcf31ba)=>_0x4c7905+_0xcf31ba[_0x37a260(0x4c1)],0x0),_0x9c02d0(_0x9fb931[_0x37a260(0x40f)],_0x3afe1e(_0x11a53b,_0x9fb931[_0x37a260(0x470)][_0x37a260(0x235)],_0x9fb931['content'][_0x37a260(0x3e0)])),this['fileChunks']['delete'](_0x9fb931[_0x37a260(0x470)][_0x37a260(0x235)]));}});}}function _0x1556a6(){let _0x42303c=[];return{'subscribe':_0x1ec435=>(_0x42303c['push'](_0x1ec435),()=>{const _0x501439=a0_0x442c;_0x42303c=_0x42303c[_0x501439(0x4c0)](_0xc714b4=>_0xc714b4!==_0x1ec435);}),'publish':_0x5a0288=>{const _0x3a1d35=a0_0x442c;_0x42303c[_0x3a1d35(0x602)](_0x375254=>_0x375254(_0x5a0288));}};}function _0x462875(){let _0x228264;return{'subscribe':_0x4312c6=>(_0x228264=_0x4312c6,()=>{_0x228264=void 0x0;}),'publish':_0x22b2cd=>{_0x228264&&_0x228264(_0x22b2cd);}};}class _0x114d8d{[_0xc3b14b(0x1ea)];[_0xc3b14b(0x5d0)];['tableObserver'];['eventListener']=_0x462875();[_0xc3b14b(0x59e)];constructor(_0x2f2696,_0x1c8f85,_0x590691){const _0x142c4a=_0xc3b14b;this[_0x142c4a(0x1ea)]=_0x2f2696,this[_0x142c4a(0x5d0)]=_0x1c8f85,this['tableObserver']=_0x590691;}['destroy'](){this['listenerUnsubscriber']?.();}async[_0xc3b14b(0x30f)](_0x4c4bd3){const _0x1a2e54=_0xc3b14b,_0x48d8ac={'key':_0x4c4bd3,'tableName':this['tableName'],'action':_0x1fb7de[_0x1a2e54(0x597)]};return this[_0x1a2e54(0x2b8)][_0x1a2e54(0x69e)](_0x48d8ac),this['connector'][_0x1a2e54(0x30f)](_0x4c4bd3);}async[_0xc3b14b(0x552)](_0x7bec06,_0xbb7fbb,_0x3a25d7=!0x0){const _0x366978=_0xc3b14b;this[_0x366978(0x246)](_0xbb7fbb);const _0x309a87=await this['connector']['get'](_0x7bec06),_0x4a3ec4=await this[_0x366978(0x1ea)][_0x366978(0x552)](_0x7bec06,_0xbb7fbb),_0x3f449f=_0x309a87?_0x40a49d[_0x366978(0x49c)]:_0x40a49d[_0x366978(0x5be)];if(this[_0x366978(0x69e)](_0x3f449f,_0x4a3ec4),!_0x3a25d7)return _0x4a3ec4;const _0x6b4c05={'key':_0x7bec06,'tableName':this[_0x366978(0x5d0)],'action':_0x3f449f,'value':_0x4a3ec4};return this[_0x366978(0x2b8)][_0x366978(0x69e)](_0x6b4c05),_0x4a3ec4;}async['add'](_0x27bd5e){const _0x44af33=_0xc3b14b;this['validateValue'](_0x27bd5e);const _0x18f9b=await this[_0x44af33(0x1ea)]['add'](_0x27bd5e),_0x58f0f5={'key':_0x18f9b['id'],'tableName':this[_0x44af33(0x5d0)],'action':_0x40a49d['Add'],'value':_0x18f9b};return this[_0x44af33(0x2b8)]['publish'](_0x58f0f5),this['publish'](_0x58f0f5[_0x44af33(0x4e0)],_0x18f9b),_0x18f9b;}async[_0xc3b14b(0x4eb)](_0x3ec040,_0x4def1c=!0x0){const _0x37e79a=_0xc3b14b,_0x9e16f4=await this[_0x37e79a(0x1ea)]['get'](_0x3ec040);if(!_0x9e16f4)return;await this['connector'][_0x37e79a(0x4eb)](_0x3ec040);const _0x17fd80=_0x40a49d[_0x37e79a(0x2fb)];if(this[_0x37e79a(0x69e)](_0x17fd80,_0x9e16f4),!_0x4def1c)return;const _0x3481ee={'key':_0x3ec040,'tableName':this['tableName'],'action':_0x17fd80,'value':_0x9e16f4};this['tableObserver'][_0x37e79a(0x69e)](_0x3481ee);}async[_0xc3b14b(0x1e5)](){const _0x4b5db2=_0xc3b14b,_0x4799e5=await this['list']();for(const _0x5e0b37 of _0x4799e5){const _0x547a6d=_0x40a49d[_0x4b5db2(0x2fb)];this['publish'](_0x547a6d,_0x5e0b37);const _0x25a19a={'key':_0x5e0b37['id'],'tableName':this[_0x4b5db2(0x5d0)],'action':_0x547a6d,'value':_0x5e0b37};this[_0x4b5db2(0x2b8)][_0x4b5db2(0x69e)](_0x25a19a);}return this[_0x4b5db2(0x1ea)][_0x4b5db2(0x1e5)]();}async[_0xc3b14b(0x609)](_0x87f7c6){const _0x45cc10=_0xc3b14b,_0x469e1c={'key':'','tableName':this[_0x45cc10(0x5d0)],'action':_0x1fb7de['List']};this[_0x45cc10(0x2b8)]['publish'](_0x469e1c);try{_0x87f7c6&&(_0x87f7c6=_0x87f7c6 instanceof _0x402d8c?_0x87f7c6['getQuery']():_0x402d8c['buildQuery'](_0x87f7c6)[_0x45cc10(0x4c3)]());}catch(_0x1620fc){throw new _0x560421(_0x422571[_0x45cc10(0x2be)],_0x45cc10(0x4a2));}try{return await this[_0x45cc10(0x1ea)][_0x45cc10(0x609)](_0x87f7c6);}catch(_0x5ebff4){let _0x42b354='Invalid\x20query';throw _0x5ebff4 instanceof Error&&(_0x42b354=_0x5ebff4[_0x45cc10(0x49f)]),new _0x560421(_0x422571['KeyValueDatabaseInvalidQuery'],_0x42b354);}}async[_0xc3b14b(0x568)](_0x40b086){const _0x1ed2b0=_0xc3b14b,_0x440cb4={'key':'','tableName':this[_0x1ed2b0(0x5d0)],'action':_0x1fb7de[_0x1ed2b0(0x3ea)]};this['tableObserver'][_0x1ed2b0(0x69e)](_0x440cb4);try{_0x40b086&&(_0x40b086=_0x40b086 instanceof _0x402d8c?_0x40b086['getQuery']():_0x402d8c[_0x1ed2b0(0x599)](_0x40b086)[_0x1ed2b0(0x4c3)]());}catch(_0x4153c2){throw new _0x560421(_0x422571[_0x1ed2b0(0x2be)],_0x1ed2b0(0x4a2));}try{return await this['connector'][_0x1ed2b0(0x568)](_0x40b086);}catch(_0x1c59fc){let _0x9dfbd4='Invalid\x20query';throw _0x1c59fc instanceof Error&&(_0x9dfbd4=_0x1c59fc[_0x1ed2b0(0x49f)]),new _0x560421(_0x422571[_0x1ed2b0(0x2be)],_0x9dfbd4);}}[_0xc3b14b(0x2ff)](){const _0x3eee98=_0xc3b14b;return this[_0x3eee98(0x1ea)]['calculateSize']();}[_0xc3b14b(0x674)](_0x2b168c){const _0x43ccda=_0xc3b14b;this['listenerUnsubscriber']=this['eventListener'][_0x43ccda(0x674)](_0x2b168c);}['unsubscribe'](){const _0x13218f=_0xc3b14b;this[_0x13218f(0x59e)]?.();}[_0xc3b14b(0x69e)](_0xbfd955,_0x2c3dfa){const _0x85f5d6=_0xc3b14b,_0x41ec8a=this[_0x85f5d6(0x1a9)](_0xbfd955,_0x2c3dfa);this[_0x85f5d6(0x34f)]['publish'](_0x41ec8a);}[_0xc3b14b(0x1a9)](_0x391251,_0x34cfdc){const _0x1727f9=_0xc3b14b;let _0x4ff013;switch(_0x391251){case _0x40a49d[_0x1727f9(0x5be)]:_0x4ff013='add';break;case _0x40a49d[_0x1727f9(0x49c)]:_0x4ff013=_0x1727f9(0x25f);break;case _0x40a49d['Delete']:_0x4ff013=_0x1727f9(0x4eb);}return{'action':_0x4ff013,'value':_0x34cfdc};}['validateValue'](_0x1d7169){const _0x36662f=_0xc3b14b;if(_0x36662f(0x409)!=typeof _0x1d7169||null===_0x1d7169)throw new _0x560421(_0x422571['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x1d6b70 in _0x1d7169){const _0xdaa42f=_0x1d7169[_0x1d6b70];if(_0x36662f(0x409)!=typeof _0xdaa42f||_0xdaa42f instanceof Date){if(![_0x36662f(0x592),_0x36662f(0x21c),_0x36662f(0x688)]['includes'](typeof _0xdaa42f))throw new _0x560421(_0x422571['KeyValueDatabaseInvalidValue'],_0x36662f(0x527)+_0x1d6b70+_0x36662f(0x309));}else this[_0x36662f(0x246)](_0xdaa42f);}}}const _0x191438=require('firebase/app'),_0x4884b3=require('firebase/auth'),_0x3cc805=require('firebase/database'),_0x3a6992=require('firebase/firestore'),_0x2b9500=require('firebase/functions');let _0x45b6c7=_0x24d393(0x14d)['O'];function _0x2566e1(_0x24f84d){const _0x3c03cb=_0xc3b14b;return!(!_0x24f84d||_0x3c03cb(0x409)!=typeof _0x24f84d||Array[_0x3c03cb(0x6ae)](_0x24f84d));}_0x45b6c7=function _0x2174f0(_0x1afefb,..._0x5ae16d){const _0x481b0d=_0xc3b14b;if(!Array[_0x481b0d(0x6ae)](_0x5ae16d)||0x0===_0x5ae16d[_0x481b0d(0x1c3)])return _0x1afefb;const _0x11c7f5=_0x5ae16d['shift']();if(_0x2566e1(_0x1afefb)&&_0x2566e1(_0x11c7f5)){for(const _0x452c80 in _0x11c7f5)_0x2566e1(_0x11c7f5[_0x452c80])?(_0x1afefb[_0x452c80]||Object[_0x481b0d(0x59f)](_0x1afefb,{[_0x452c80]:{}}),_0x2174f0(_0x1afefb[_0x452c80],_0x11c7f5[_0x452c80])):Object[_0x481b0d(0x59f)](_0x1afefb,{[_0x452c80]:_0x11c7f5[_0x452c80]});}return _0x2174f0(_0x1afefb,..._0x5ae16d);}(_0x45b6c7,_0x24d393(0x3e6)['O']);const _0x2e5536=_0x45b6c7;class _0x30f3c7{static [_0xc3b14b(0x43b)];[_0xc3b14b(0x676)];['auth'];[_0xc3b14b(0x17e)];[_0xc3b14b(0x5e7)];['firestore'];[_0xc3b14b(0x5e3)];constructor(){}static[_0xc3b14b(0x531)](){const _0x52745f=_0xc3b14b;return _0x30f3c7[_0x52745f(0x43b)]||(_0x30f3c7[_0x52745f(0x43b)]=new _0x30f3c7()),_0x30f3c7[_0x52745f(0x43b)];}[_0xc3b14b(0x30c)](){const _0x5e7adb=_0xc3b14b;return this[_0x5e7adb(0x676)]||(this[_0x5e7adb(0x676)]=(0x0,_0x191438[_0x5e7adb(0x5c1)])(_0x2e5536[_0x5e7adb(0x3d6)])),this[_0x5e7adb(0x676)];}[_0xc3b14b(0x1fc)](){const _0x3e35a4=_0xc3b14b;return this[_0x3e35a4(0x250)]||(this[_0x3e35a4(0x250)]=(0x0,_0x4884b3[_0x3e35a4(0x1fc)])(this['getApp']())),this['auth'];}['getFunctions'](){const _0x3b6610=_0xc3b14b;return this[_0x3b6610(0x17e)]||(this[_0x3b6610(0x17e)]=(0x0,_0x2b9500[_0x3b6610(0x593)])(this[_0x3b6610(0x30c)](),_0x2e5536[_0x3b6610(0x3d6)]['functionsRegion'])),this['functions'];}[_0xc3b14b(0x14b)](){const _0x3a6362=_0xc3b14b;return this['database']||(this[_0x3a6362(0x5e7)]=(0x0,_0x3cc805['getDatabase'])(this[_0x3a6362(0x30c)]())),this['database'];}[_0xc3b14b(0x4db)](){const _0x217197=_0xc3b14b;return this[_0x217197(0x490)]||(this['firestore']=(0x0,_0x3a6992[_0x217197(0x4db)])(this[_0x217197(0x30c)]())),this[_0x217197(0x490)];}async[_0xc3b14b(0x294)](){const _0x4f1b20=_0xc3b14b;if(this[_0x4f1b20(0x5e3)])return Date[_0x4f1b20(0x3c8)]()+this[_0x4f1b20(0x5e3)];const _0xae17e1=this[_0x4f1b20(0x14b)](),_0x1aaef8=(0x0,_0x3cc805[_0x4f1b20(0x53a)])(_0xae17e1,'.info/connected'),_0x454c2f=(0x0,_0x3cc805[_0x4f1b20(0x626)])(_0x1aaef8,_0x4e720d=>{const _0x15824f=_0x4f1b20;!0x1===_0x4e720d[_0x15824f(0x467)]()&&(_0x454c2f(),delete this[_0x15824f(0x5e3)]);}),_0x4560c7=(0x0,_0x3cc805[_0x4f1b20(0x53a)])(_0xae17e1,_0x4f1b20(0x633));return new Promise(_0x4fd088=>{const _0x4f8866=_0x4f1b20;(0x0,_0x3cc805[_0x4f8866(0x626)])(_0x4560c7,_0x24b079=>{const _0x5d090f=_0x4f8866;(0x0,_0x3cc805[_0x5d090f(0x347)])(_0x4560c7),this['clockSkew']=_0x24b079['val'](),_0x4fd088(Date[_0x5d090f(0x3c8)]()+(this[_0x5d090f(0x5e3)]??0x0));});});}}const _0x12b24c=_0x30f3c7[_0xc3b14b(0x531)]();class _0x2a39be{static [_0xc3b14b(0x43b)];['enabledChannels']=[_0x46b6b6[_0xc3b14b(0x1b2)]];['debugEnabled']=!0x0;[_0xc3b14b(0x6a5)];[_0xc3b14b(0x1dc)]='';constructor(){const _0x5e1e18=_0xc3b14b;this[_0x5e1e18(0x4cf)](),window[_0x5e1e18(0x393)]=_0x377eeb=>{const _0x32ecbe=_0x5e1e18;if(_0x377eeb===_0x46b6b6[_0x32ecbe(0x2b9)])return this[_0x32ecbe(0x3bf)]=Object[_0x32ecbe(0x1e1)](_0x46b6b6)[_0x32ecbe(0x3c0)](_0x1825c2=>_0x46b6b6[_0x1825c2]),void Object[_0x32ecbe(0x1e1)](_0x46b6b6)[_0x32ecbe(0x602)](_0x45e988=>{const _0x1158e3=_0x32ecbe,_0x52dded=_0x45e988;localStorage['setItem'](_0x1158e3(0x47f)+_0x46b6b6[_0x52dded],'true');});this[_0x32ecbe(0x3bf)]['includes'](_0x377eeb)||(this[_0x32ecbe(0x3bf)][_0x32ecbe(0x16d)](_0x377eeb),localStorage[_0x32ecbe(0x369)]('crewdle-sdk-logging-'+_0x377eeb,_0x32ecbe(0x3f6)));},window[_0x5e1e18(0x60e)]=_0x7af57b=>{const _0xe27ff2=_0x5e1e18;if(!_0x7af57b||_0x7af57b===_0x46b6b6[_0xe27ff2(0x2b9)])return this['enabledChannels']=[],void Object[_0xe27ff2(0x1e1)](_0x46b6b6)[_0xe27ff2(0x602)](_0x4f5289=>{const _0x4c284e=_0xe27ff2,_0x41e293=_0x4f5289;localStorage[_0x4c284e(0x5d5)](_0x4c284e(0x47f)+_0x46b6b6[_0x41e293]);});this['enabledChannels'][_0xe27ff2(0x3f2)](_0x7af57b)&&(this['enabledChannels']=this[_0xe27ff2(0x3bf)][_0xe27ff2(0x4c0)](_0x3bbe62=>_0x3bbe62!==_0x7af57b),localStorage[_0xe27ff2(0x5d5)]('crewdle-sdk-logging-'+_0x7af57b));},window[_0x5e1e18(0x187)]=_0x46b6b6;}static['getInstance'](){const _0x23c1e9=_0xc3b14b;try{return _0x2a39be[_0x23c1e9(0x43b)]||(_0x2a39be['instance']=new _0x2a39be()),_0x2a39be[_0x23c1e9(0x43b)];}catch(_0x1886b7){return console['error']('Logger.getInstance',_0x1886b7),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isClusterEnabled':()=>!0x1};}}[_0xc3b14b(0x21b)](_0x3466c3){const _0x227906=_0xc3b14b;this[_0x227906(0x1dc)]=_0x3466c3;}[_0xc3b14b(0x5df)](_0x4dfe96){const _0x327795=_0xc3b14b;this[_0x327795(0x6a5)]=_0x4dfe96;}[_0xc3b14b(0x402)](_0x313437,..._0x4c8d30){const _0x46a2d0=_0xc3b14b;this[_0x46a2d0(0x572)]&&this[_0x46a2d0(0x3e4)](_0x46b6b6[_0x46a2d0(0x1b2)],_0x46a2d0(0x5ca)+_0x313437,..._0x4c8d30);}[_0xc3b14b(0x3e4)](_0x2e6c02,_0x436516,..._0x4ca9cc){const _0x49c02b=_0xc3b14b;_0x2e5536['isProduction']||(this['enabledChannels'][_0x49c02b(0x3f2)](_0x2e6c02)&&console[_0x49c02b(0x3e4)](_0x49c02b(0x61f)+_0x2e6c02+'\x27\x0a',new Date()+'\x0a',_0x436516,..._0x4ca9cc),this[_0x49c02b(0x6a5)]&&this[_0x49c02b(0x6a5)][_0x49c02b(0x602)](_0x334dfd=>{const _0x4fe7cf=_0x49c02b;this[_0x4fe7cf(0x6d2)](_0x334dfd)&&_0x334dfd[_0x4fe7cf(0x1f2)]()[_0x4fe7cf(0x3f2)](_0x2e6c02)&&_0x334dfd[_0x4fe7cf(0x3e4)](_0x436516,{'vendorId':this['vendorId'],'userId':'','data':{'cluster':_0x2e6c02,..._0x4ca9cc}});}));}[_0xc3b14b(0x4d2)](_0x59f63e,_0x4f6b1b,..._0x2e9813){const _0x3f39ef=_0xc3b14b;_0x2e5536['isProduction']||(this[_0x3f39ef(0x3bf)]['includes'](_0x59f63e)&&console[_0x3f39ef(0x3e4)](_0x4f6b1b,..._0x2e9813),this[_0x3f39ef(0x6a5)]&&this['loggingConnectors'][_0x3f39ef(0x602)](_0x3915a3=>{const _0x1296a8=_0x3f39ef;this[_0x1296a8(0x6d2)](_0x3915a3)&&_0x3915a3[_0x1296a8(0x1f2)]()[_0x1296a8(0x3f2)](_0x59f63e)&&_0x3915a3[_0x1296a8(0x3e4)](_0x4f6b1b,{'vendorId':this['vendorId'],'userId':'','data':{'cluster':_0x59f63e,..._0x2e9813}});}));}[_0xc3b14b(0x197)](_0x66db89,_0x32387e){const _0x3bfe47=_0xc3b14b;if(this[_0x3bfe47(0x6a5)]){const _0xd7bec6={'vendorId':this['vendorId'],..._0x32387e};this[_0x3bfe47(0x6a5)][_0x3bfe47(0x602)](_0x8fadf3=>{const _0x2f804e=_0x3bfe47;_0x8fadf3[_0x2f804e(0x3e4)](_0x66db89,_0xd7bec6);});}}['logServiceEvent'](_0x574ade,_0x572de8){const _0x21a03f=_0xc3b14b;(0x0,_0x3a6992[_0x21a03f(0x5da)])((0x0,_0x3a6992[_0x21a03f(0x457)])(_0x12b24c[_0x21a03f(0x4db)](),_0x21a03f(0x60f)+this[_0x21a03f(0x1dc)]+'/logs'),{..._0x572de8,'service':_0x574ade,'timestamp':(0x0,_0x3a6992[_0x21a03f(0x3b3)])()});}[_0xc3b14b(0x28b)](_0x449ab3,_0x252295,_0x47b6eb){const _0x5b6d1b=_0xc3b14b;(0x0,_0x3a6992['setDoc'])((0x0,_0x3a6992[_0x5b6d1b(0x6d0)])(_0x12b24c['getFirestore'](),_0x5b6d1b(0x60f)+this['vendorId']+'/'+_0x449ab3+'/'+_0x252295),{'storage':_0x47b6eb,'timestamp':(0x0,_0x3a6992[_0x5b6d1b(0x3b3)])()});}[_0xc3b14b(0x1f6)](_0x22181c,_0x41338d,..._0xfc76ef){const _0x3dba6d=_0xc3b14b;if(console[_0x3dba6d(0x1f6)](new Date(),_0x22181c,_0x41338d,..._0xfc76ef),this[_0x3dba6d(0x6a5)]){const _0xda3de9={'vendorId':this[_0x3dba6d(0x1dc)],..._0x41338d};this['loggingConnectors'][_0x3dba6d(0x602)](_0x54ebc1=>{_0x54ebc1['error'](_0x22181c,_0xda3de9);});}}[_0xc3b14b(0x163)](_0x2cf3c8,_0x31e386,..._0x4877a8){const _0x47e93b=_0xc3b14b;if(console[_0x47e93b(0x462)](new Date(),_0x2cf3c8,_0x31e386,_0x4877a8),this[_0x47e93b(0x6a5)]){const _0xb2662e={'vendorId':this['vendorId'],..._0x31e386};this[_0x47e93b(0x6a5)][_0x47e93b(0x602)](_0x5742f0=>{const _0x313738=_0x47e93b;_0x5742f0[_0x313738(0x462)](_0x2cf3c8,_0xb2662e);});}}[_0xc3b14b(0x237)](_0x58ebd0){const _0x1f3ee0=_0xc3b14b;return this[_0x1f3ee0(0x3bf)][_0x1f3ee0(0x3f2)](_0x58ebd0);}[_0xc3b14b(0x4cf)](){const _0x279be1=_0xc3b14b;try{Object['keys'](_0x46b6b6)[_0x279be1(0x602)](_0x2559b1=>{const _0x2ae4b8=_0x279be1,_0x264703=_0x2559b1;localStorage[_0x2ae4b8(0x46b)]('crewdle-sdk-logging-'+_0x46b6b6[_0x264703])&&(console['log'](_0x2ae4b8(0x44f),_0x46b6b6[_0x264703]),this[_0x2ae4b8(0x3bf)][_0x2ae4b8(0x16d)](_0x46b6b6[_0x264703]));});}catch(_0x5add1d){}}[_0xc3b14b(0x6d2)](_0x3c9264){const _0x4f226d=_0xc3b14b;return void 0x0!==_0x3c9264[_0x4f226d(0x1f2)];}}const _0x4eca14=_0x2a39be['getInstance']();class _0x16be90 extends _0x3c8379{['localId'];[_0xc3b14b(0x1d9)];[_0xc3b14b(0x1dc)];['db'];[_0xc3b14b(0x26f)];[_0xc3b14b(0x5c2)]=new Map();[_0xc3b14b(0x2b8)];['transactionTable'];['tableUnsubscriber'];[_0xc3b14b(0x47a)];['syncResolve'];[_0xc3b14b(0x1bd)]=[];[_0xc3b14b(0x371)]=()=>{};[_0xc3b14b(0x464)];['eventListener']=_0x462875();[_0xc3b14b(0x59e)];['syncTransactionsWritten']=[];['layout'];[_0xc3b14b(0x17c)];['writes']=0x0;[_0xc3b14b(0x587)]=0x0;constructor(_0x4cfbfc,_0x2b154e,_0x26b42f,_0xe93c6c,_0x8a8eb8,_0x566407){const _0x57af21=_0xc3b14b;if('string'!=typeof _0x2b154e)throw new _0x560421(_0x422571[_0x57af21(0x473)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x4cfbfc,_0x2b154e),this[_0x57af21(0x1ab)]=_0x4cfbfc,this[_0x57af21(0x1d9)]=_0x26b42f,this[_0x57af21(0x1dc)]=_0xe93c6c,this[_0x57af21(0x26f)]=_0x57af21(0x398)+this[_0x57af21(0x1dc)]+_0x57af21(0x398)+this['clusterId']+'ccc'+this[_0x57af21(0x5bf)],this[_0x57af21(0x2b8)]=_0x462875(),this['isSync']=new Promise(_0x1b56e5=>{const _0x253578=_0x57af21;this[_0x253578(0x2fe)]=_0x1b56e5;}),_0x8a8eb8 instanceof _0x12d906)this[_0x57af21(0x6ac)]=_0x8a8eb8[_0x57af21(0x4b4)]();else{const [_0x1b501d,_0x18aec8]=_0x12d906[_0x57af21(0x619)](_0x8a8eb8);if(!_0x1b501d)throw new _0x560421(_0x422571[_0x57af21(0x150)],_0x57af21(0x66a)+_0x18aec8);this[_0x57af21(0x6ac)]=_0x8a8eb8;}this['db']=new _0x566407(this[_0x57af21(0x26f)],this[_0x57af21(0x6ac)]);}[_0xc3b14b(0x219)](){return _0x164080['KeyValueDatabase'];}['destroy'](){const _0x486595=_0xc3b14b;this['db'][_0x486595(0x50c)](),this[_0x486595(0x47b)]?.(),clearTimeout(this['debounceStats']),delete this[_0x486595(0x17c)],super[_0x486595(0x504)]();}[_0xc3b14b(0x50c)](){const _0x38b855=_0xc3b14b;this['systemTopic'][_0x38b855(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x38b855(0x420)],'content':{'type':_0x21d02e[_0x38b855(0x285)],'label':this[_0x38b855(0x5bf)]}});}[_0xc3b14b(0x55b)](_0x47320b){const _0x2018a3=_0xc3b14b,_0x12c8ac=this[_0x2018a3(0x5c2)][_0x2018a3(0x30f)](_0x47320b);if(_0x12c8ac)return _0x12c8ac;try{if(!this['db'][_0x2018a3(0x2af)](_0x47320b))throw new _0x560421(_0x422571['KeyValueDatabaseTableNotFound'],_0x2018a3(0x4b6));const _0x83fd3f=new _0x114d8d(this['db'][_0x2018a3(0x486)](_0x47320b),_0x47320b,this[_0x2018a3(0x2b8)]);return this[_0x2018a3(0x5c2)][_0x2018a3(0x552)](_0x47320b,_0x83fd3f),{'get':_0x83fd3f[_0x2018a3(0x30f)][_0x2018a3(0x2c9)](_0x83fd3f),'set':_0x83fd3f[_0x2018a3(0x552)]['bind'](_0x83fd3f),'add':_0x83fd3f[_0x2018a3(0x14c)][_0x2018a3(0x2c9)](_0x83fd3f),'delete':_0x83fd3f[_0x2018a3(0x4eb)][_0x2018a3(0x2c9)](_0x83fd3f),'clear':_0x83fd3f[_0x2018a3(0x1e5)][_0x2018a3(0x2c9)](_0x83fd3f),'list':_0x83fd3f[_0x2018a3(0x609)][_0x2018a3(0x2c9)](_0x83fd3f),'count':_0x83fd3f[_0x2018a3(0x568)][_0x2018a3(0x2c9)](_0x83fd3f),'subscribe':_0x83fd3f[_0x2018a3(0x674)][_0x2018a3(0x2c9)](_0x83fd3f),'unsubscribe':_0x83fd3f[_0x2018a3(0x6c0)][_0x2018a3(0x2c9)](_0x83fd3f)};}catch(_0x2d77e6){throw new _0x560421(_0x422571[_0x2018a3(0x55a)],_0x2018a3(0x57f));}}[_0xc3b14b(0x674)](_0x1e12d4){const _0x2c6f16=_0xc3b14b;this[_0x2c6f16(0x59e)]=this['eventListener'][_0x2c6f16(0x674)](_0x1e12d4);}[_0xc3b14b(0x6c0)](){const _0x473e54=_0xc3b14b;this[_0x473e54(0x59e)]?.();}async[_0xc3b14b(0x452)](){const _0x36f72c=_0xc3b14b,_0x3d6abd=[_0x489623],_0x639ffe=[];await this['db'][_0x36f72c(0x452)](_0x166c4c=>{const _0x472bc4=_0x36f72c;_0x166c4c[_0x472bc4(0x2af)](_0x489623)||_0x166c4c[_0x472bc4(0x236)](_0x489623);for(const _0x5b27cb in this[_0x472bc4(0x6ac)][_0x472bc4(0x5c2)]){if(_0x3d6abd[_0x472bc4(0x3f2)](_0x5b27cb))throw new _0x560421(_0x422571[_0x472bc4(0x498)],_0x472bc4(0x4e2));const _0x3288e5=this['layout'][_0x472bc4(0x5c2)][_0x5b27cb];if(_0x166c4c[_0x472bc4(0x2af)](_0x5b27cb)){_0x3288e5[_0x472bc4(0x5ab)]?.[_0x472bc4(0x602)](_0x4f444d=>{const _0x2d4e9b=_0x472bc4;_0x166c4c[_0x2d4e9b(0x474)](_0x5b27cb,_0x4f444d[_0x2d4e9b(0x31e)])||_0x166c4c[_0x2d4e9b(0x6a9)](_0x5b27cb,_0x4f444d['keyPath']);});for(const _0x706c51 of _0x166c4c[_0x472bc4(0x37b)](_0x5b27cb))_0x3288e5['indexes']?.[_0x472bc4(0x4c7)](_0x10411c=>_0x10411c['keyPath']===_0x706c51)||_0x166c4c[_0x472bc4(0x43c)](_0x5b27cb,_0x706c51);}else _0x166c4c['createTable'](_0x5b27cb),_0x3288e5[_0x472bc4(0x5ab)]?.[_0x472bc4(0x602)](_0x2e7610=>{const _0x407854=_0x472bc4;_0x166c4c['createIndex'](_0x5b27cb,_0x2e7610[_0x407854(0x31e)]);});}for(const _0x2bec63 of _0x166c4c[_0x472bc4(0x5a0)]())_0x3d6abd[_0x472bc4(0x3f2)](_0x2bec63)||this[_0x472bc4(0x6ac)][_0x472bc4(0x5c2)][_0x2bec63]||(_0x166c4c[_0x472bc4(0x407)](_0x2bec63),_0x639ffe['push'](_0x2bec63));}),this['instantiateTransactionTable'](),this[_0x36f72c(0x6c5)](),this[_0x36f72c(0x164)](),_0x639ffe['forEach'](_0xe442eb=>this[_0x36f72c(0x6b3)](_0xe442eb));}async[_0xc3b14b(0x4b5)](_0x499ebd,_0x1c0a6e){const _0x5a0f05=_0xc3b14b;_0x499ebd?(this[_0x5a0f05(0x371)]=_0x1c0a6e,this[_0x5a0f05(0x464)]=window['setTimeout'](_0x1c0a6e,_0x29d3cc),this[_0x5a0f05(0x5ea)][_0x5a0f05(0x69e)]({'sourceId':this[_0x5a0f05(0x1ab)],'destinationIds':[_0x499ebd],'messageType':_0x4e5dac[_0x5a0f05(0x420)],'content':{'type':_0x21d02e[_0x5a0f05(0x5b4)],'label':this[_0x5a0f05(0x5bf)]}}),await this[_0x5a0f05(0x47a)]):setTimeout(()=>{const _0x7dc17=_0x5a0f05;this[_0x7dc17(0x1ae)](),this[_0x7dc17(0x605)]();},0x0);}async['sendTransactionsDump'](_0x514e11){const _0x40c31c=_0xc3b14b;if(!this[_0x40c31c(0x36e)])throw new _0x666015(_0x666015[_0x40c31c(0x5c4)][_0x40c31c(0x32e)]);await this['isSync'];const _0x405dfc=await this['transactionTable']['list']();this['systemTopic'][_0x40c31c(0x69e)]({'sourceId':this[_0x40c31c(0x1ab)],'destinationIds':[_0x514e11],'messageType':_0x4e5dac[_0x40c31c(0x420)],'content':{'type':_0x21d02e['SendTransactionsDump'],'label':this['label'],'transactions':_0x405dfc}});}async[_0xc3b14b(0x38e)](_0x13313,_0x15b67a){const _0x502e42=_0xc3b14b;if(!this['transactionTable'])throw new _0x666015(_0x666015['codes']['KeyValueDatabaseTransactionTableNotInitialized']);this['clearSyncTimeout']();const _0x556826=await this['transactionTable'][_0x502e42(0x609)]();for(const _0x42ba1d of _0x556826){const _0x150c12=_0x15b67a[_0x502e42(0x4c7)](_0x9f67a7=>_0x9f67a7['id']===_0x42ba1d['id']);if(_0x150c12&&this[_0x502e42(0x273)](_0x42ba1d,_0x150c12)<=0x0)continue;const [_0x6e33bd,_0x52001f]=_0x42ba1d['id'][_0x502e42(0x3bb)]('::'),_0x4aacb6=this['tables'][_0x502e42(0x30f)](_0x6e33bd),_0x2c27c7=await _0x4aacb6?.[_0x502e42(0x30f)](_0x52001f);_0x42ba1d[_0x502e42(0x3e2)]=_0x2c27c7,this[_0x502e42(0x157)](_0x42ba1d);}for(const _0xf21f19 of _0x15b67a){const _0x346abf=await this[_0x502e42(0x36e)][_0x502e42(0x30f)](_0xf21f19['id']);if(!(_0x346abf&&this[_0x502e42(0x273)](_0xf21f19,_0x346abf)<=0x0)){if(_0xf21f19[_0x502e42(0x4e0)]===_0x40a49d[_0x502e42(0x2fb)]){const [_0x3797fc,_0x4485ae]=_0xf21f19['id']['split']('::'),_0x45c007=this[_0x502e42(0x5c2)]['get'](_0x3797fc);await _0x45c007?.[_0x502e42(0x4eb)](_0x4485ae,!0x1);}else this['transactionsToSync'][_0x502e42(0x16d)](_0xf21f19['id']);}}if(0x0===this[_0x502e42(0x1bd)][_0x502e42(0x1c3)])return this[_0x502e42(0x1ae)](),void this[_0x502e42(0x605)]();this[_0x502e42(0x464)]=window['setTimeout'](this[_0x502e42(0x371)],_0x29d3cc),this['systemTopic']['publish']({'sourceId':this[_0x502e42(0x1ab)],'destinationIds':[_0x13313],'messageType':_0x4e5dac['Content'],'content':{'type':_0x21d02e['RequestTransactionsValue'],'label':this['label'],'transactionIds':this['transactionsToSync']}});}async[_0xc3b14b(0x4d3)](_0x71751c,_0x21aeb8){const _0x2a9ff0=_0xc3b14b;if(!this['transactionTable'])throw new _0x666015(_0x666015[_0x2a9ff0(0x5c4)][_0x2a9ff0(0x32e)]);for(const _0x364071 of _0x21aeb8){const _0x958360=await this[_0x2a9ff0(0x36e)][_0x2a9ff0(0x30f)](_0x364071);if(!_0x958360)continue;const [_0x536cad,_0x109cb2]=_0x364071['split']('::'),_0x41c34b=this[_0x2a9ff0(0x5c2)][_0x2a9ff0(0x30f)](_0x536cad),_0xd47b5d=await _0x41c34b?.[_0x2a9ff0(0x30f)](_0x109cb2);_0x958360[_0x2a9ff0(0x3e2)]=_0xd47b5d,this[_0x2a9ff0(0x157)](_0x958360,[_0x71751c]);}}async[_0xc3b14b(0x4f8)](_0x1d9a66){const _0x2029ef=_0xc3b14b;if(!this[_0x2029ef(0x36e)])throw new _0x666015(_0x666015[_0x2029ef(0x5c4)][_0x2029ef(0x32e)]);const _0x431b61=await this[_0x2029ef(0x36e)][_0x2029ef(0x30f)](_0x1d9a66['id']);if(_0x431b61&&this[_0x2029ef(0x273)](_0x1d9a66,_0x431b61)<=0x0)return;const _0x1a106e={..._0x1d9a66};return delete _0x1a106e[_0x2029ef(0x3e2)],await this[_0x2029ef(0x36e)][_0x2029ef(0x552)](_0x1d9a66['id'],_0x1a106e),_0x1d9a66;}[_0xc3b14b(0x273)](_0x2cb50a,_0x3e1a9a){const _0x52c384=_0xc3b14b;return _0x2cb50a[_0x52c384(0x2a6)]<_0x3e1a9a['timestamp']?-0x1:_0x2cb50a['timestamp']>_0x3e1a9a[_0x52c384(0x2a6)]?0x1:_0x2cb50a[_0x52c384(0x38b)]-_0x3e1a9a[_0x52c384(0x38b)];}async[_0xc3b14b(0x690)](_0x5b4547){const _0x1b1b22=_0xc3b14b;if(!this[_0x1b1b22(0x36e)])throw new _0x666015(_0x666015[_0x1b1b22(0x5c4)][_0x1b1b22(0x32e)]);const _0x17bdc8=_0x5b4547[_0x1b1b22(0x5d0)]+'::'+_0x5b4547[_0x1b1b22(0x494)],_0xd33100=await _0x12b24c[_0x1b1b22(0x294)](),_0x38fe4f={'id':_0x17bdc8,'priority':Math[_0x1b1b22(0x560)](),'timestamp':_0xd33100,'action':_0x5b4547[_0x1b1b22(0x4e0)]};if(await this[_0x1b1b22(0x4f8)](_0x38fe4f))return _0x38fe4f;}async['deleteTransactionsForTable'](_0x3d73f5){const _0x5c792c=_0xc3b14b;if(!this[_0x5c792c(0x36e)])throw new _0x666015(_0x666015[_0x5c792c(0x5c4)][_0x5c792c(0x32e)]);const _0x441e6a=_0x402d8c['index']('id')[_0x5c792c(0x4e4)](_0x5c792c(0x32f),[_0x3d73f5+'::',_0x3d73f5+_0x5c792c(0x3d9)]),_0x1cdc64=await this[_0x5c792c(0x36e)][_0x5c792c(0x609)](_0x441e6a[_0x5c792c(0x4c3)]());for(const _0x351b36 of _0x1cdc64)await this[_0x5c792c(0x36e)]['delete'](_0x351b36['id']);}[_0xc3b14b(0x6c5)](){this['onMessage'](async(_0x253e26,_0x1e8c5c)=>{const _0x284dcd=a0_0x442c;if(_0x1e8c5c instanceof File)return;if(!await this[_0x284dcd(0x4f8)](_0x1e8c5c))return void this[_0x284dcd(0x3f7)](_0x1e8c5c);if(!_0x1e8c5c['value'])throw new _0x666015(_0x666015[_0x284dcd(0x5c4)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x31e202,_0x1a16ac]=_0x1e8c5c['id'][_0x284dcd(0x3bb)]('::'),_0x39a747=this[_0x284dcd(0x5c2)][_0x284dcd(0x30f)](_0x31e202);if(!_0x39a747)throw new _0x666015(_0x666015[_0x284dcd(0x5c4)][_0x284dcd(0x521)],{'table':_0x39a747});let _0x4832de=0x0;switch(_0x1e8c5c['action']){case _0x40a49d['Add']:case _0x40a49d['Update']:{const _0x43672c=_0x39a747['set'](_0x1a16ac,_0x1e8c5c[_0x284dcd(0x3e2)],!0x1);_0x4832de=JSON[_0x284dcd(0x6c7)](_0x1e8c5c[_0x284dcd(0x3e2)])[_0x284dcd(0x1c3)],this[_0x284dcd(0x1bd)][_0x284dcd(0x3f2)](_0x1e8c5c['id'])&&this[_0x284dcd(0x5d9)][_0x284dcd(0x16d)](_0x43672c);break;}case _0x40a49d[_0x284dcd(0x2fb)]:{const _0x2d0bd0=_0x39a747[_0x284dcd(0x4eb)](_0x1a16ac,!0x1);this[_0x284dcd(0x1bd)][_0x284dcd(0x3f2)](_0x1e8c5c['id'])&&this[_0x284dcd(0x5d9)][_0x284dcd(0x16d)](_0x2d0bd0);break;}}_0x4eca14[_0x284dcd(0x6a6)](_0x4434dc[_0x284dcd(0x22d)],{'type':_0x284dcd(0x4b5),'label':this[_0x284dcd(0x5bf)],'userId':this[_0x284dcd(0x1ab)],'tableName':_0x31e202,'key':_0x1a16ac,'size':_0x4832de}),this[_0x284dcd(0x3f7)](_0x1e8c5c);});}[_0xc3b14b(0x164)](){const _0x5f0927=_0xc3b14b;this[_0x5f0927(0x47b)]=this['tableObserver'][_0x5f0927(0x674)](async _0x1ad088=>{const _0x411d04=_0x5f0927;let _0x5c4967=0x0;switch(_0x1ad088['action']){case _0x40a49d[_0x411d04(0x5be)]:case _0x40a49d[_0x411d04(0x49c)]:case _0x40a49d[_0x411d04(0x2fb)]:{const _0x401f7d=await this[_0x411d04(0x690)](_0x1ad088);if(!_0x401f7d)return;_0x401f7d[_0x411d04(0x3e2)]=_0x1ad088[_0x411d04(0x3e2)],this[_0x411d04(0x157)](_0x401f7d),_0x5c4967=JSON[_0x411d04(0x6c7)](_0x1ad088['value'])[_0x411d04(0x1c3)],this[_0x411d04(0x543)]+=0x1;break;}case _0x1fb7de[_0x411d04(0x597)]:case _0x1fb7de[_0x411d04(0x67d)]:case _0x1fb7de[_0x411d04(0x3ea)]:this[_0x411d04(0x587)]+=0x1;}_0x4eca14[_0x411d04(0x6a6)](_0x4434dc['KeyValueDatabase'],{'type':_0x1ad088['action'],'label':this[_0x411d04(0x5bf)],'userId':this[_0x411d04(0x1ab)],'tableName':_0x1ad088[_0x411d04(0x5d0)],'key':_0x1ad088[_0x411d04(0x494)],'size':_0x5c4967}),this[_0x411d04(0x677)]();});}[_0xc3b14b(0x6a1)](){const _0x3d81ef=_0xc3b14b;this['db']&&(this[_0x3d81ef(0x36e)]||(this[_0x3d81ef(0x36e)]=this['db'][_0x3d81ef(0x486)](_0x489623)));}[_0xc3b14b(0x1ae)](){const _0x325c17=_0xc3b14b;this[_0x325c17(0x464)]&&(clearTimeout(this[_0x325c17(0x464)]),delete this[_0x325c17(0x464)]);}['publishSyncCompleted'](){const _0x2fada7=_0xc3b14b;this['eventListener'][_0x2fada7(0x69e)]({'event':_0x13515b[_0x2fada7(0x3d8)]}),this['syncResolve']?.(!0x0),delete this[_0x2fada7(0x2fe)],this[_0x2fada7(0x677)]();}async[_0xc3b14b(0x271)](){const _0x383825=_0xc3b14b;await Promise['all'](this[_0x383825(0x5d9)]),this[_0x383825(0x605)]();}['checkSyncComplete'](_0x83203f){const _0x331b5d=_0xc3b14b;this[_0x331b5d(0x1bd)]['includes'](_0x83203f['id'])&&(this[_0x331b5d(0x1ae)](),this[_0x331b5d(0x1bd)]=this[_0x331b5d(0x1bd)][_0x331b5d(0x4c0)](_0x333e8d=>_0x333e8d!==_0x83203f['id']),0x0!==this[_0x331b5d(0x1bd)][_0x331b5d(0x1c3)]?this['syncTimeout']=window[_0x331b5d(0x326)](this[_0x331b5d(0x371)],_0x29d3cc):this[_0x331b5d(0x271)]());}['sendStats'](){const _0x324a97=_0xc3b14b;this[_0x324a97(0x17c)]&&clearTimeout(this[_0x324a97(0x17c)]),this[_0x324a97(0x17c)]=window[_0x324a97(0x326)](async()=>{const _0x3c8b5b=_0x324a97;delete this['debounceStats'];let _0x4e2d9f=0x0;for(const _0x539580 of this['tables'][_0x3c8b5b(0x59d)]())_0x4e2d9f+=await _0x539580[_0x3c8b5b(0x2ff)]();this['systemTopic'][_0x3c8b5b(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x3c8b5b(0x420)],'content':{'type':_0x21d02e[_0x3c8b5b(0x45e)],'label':this[_0x3c8b5b(0x5bf)],'stats':{'timestamp':Date[_0x3c8b5b(0x3c8)](),'storage':_0x4e2d9f,'messagesSent':this[_0x3c8b5b(0x571)],'messagesReceived':this[_0x3c8b5b(0x679)],'bytesSent':this[_0x3c8b5b(0x4d8)],'bytesReceived':this[_0x3c8b5b(0x520)],'writes':this[_0x3c8b5b(0x543)],'reads':this['reads']}}}),_0x4eca14['logStorage'](_0x4434dc['KeyValueDatabase'],this[_0x3c8b5b(0x5bf)],_0x4e2d9f);},0x1388);}}const _0x3ca4f0=require('@crewdle/mist-connector-opfs'),_0xf6497c=require('@crewdle/mist-connector-indexed-db'),_0x100601=require('@crewdle/mist-connector-webrtc-browser');class _0x506cc9{[_0xc3b14b(0x3b4)];[_0xc3b14b(0x327)];[_0xc3b14b(0x5a8)];constructor(_0xaa252c=new Map(),_0x34739a=new Map(),_0x47d631=new EventTarget()){const _0x58bf51=_0xc3b14b;this[_0x58bf51(0x3b4)]=_0xaa252c,this[_0x58bf51(0x327)]=_0x34739a,this[_0x58bf51(0x5a8)]=_0x47d631;}[_0xc3b14b(0x428)]=(_0x251deb,_0x5691fd)=>this[_0xc3b14b(0x3b4)][_0xc3b14b(0x62d)](_0x251deb)?(_0x4eca14['log'](_0x46b6b6[_0xc3b14b(0x63b)],_0xc3b14b(0x62f),{'event':_0x251deb,'data':_0x5691fd}),this[_0xc3b14b(0x5a8)][_0xc3b14b(0x4f6)](new CustomEvent(_0x251deb,{'detail':_0x5691fd})),!0x0):(this[_0xc3b14b(0x16c)](_0x251deb,_0x5691fd),!0x1);['on']=(_0x1b6c50,_0x2d7012)=>{const _0x568f3d=_0xc3b14b,_0x18fda3=_0x57e40d=>{const _0x168db6=a0_0x442c;_0x4eca14['log'](_0x46b6b6[_0x168db6(0x63b)],_0x168db6(0x333),_0x57e40d['type'],_0x57e40d['detail']),_0x2d7012(_0x57e40d[_0x168db6(0x5cd)]);};return this[_0x568f3d(0x3b4)]['set'](_0x1b6c50,_0x18fda3),this['eventTarget'][_0x568f3d(0x423)](_0x1b6c50,_0x18fda3),_0x4eca14[_0x568f3d(0x3e4)](_0x46b6b6[_0x568f3d(0x380)],'Subscribing\x20to\x20an\x20event:\x20on',_0x1b6c50,_0x2d7012),this[_0x568f3d(0x55f)](_0x1b6c50),this;};[_0xc3b14b(0x347)](_0x5f418f){const _0xe45736=_0xc3b14b;if(!_0x5f418f)return this['registeredListeners'][_0xe45736(0x602)]((_0x4fb14c,_0x28e59b)=>{const _0x2a72e9=_0xe45736;this[_0x2a72e9(0x5a8)][_0x2a72e9(0x343)](_0x28e59b,_0x4fb14c);}),void this[_0xe45736(0x3b4)][_0xe45736(0x1e5)]();_0xe45736(0x592)==typeof _0x5f418f&&this[_0xe45736(0x2c2)](_0x5f418f),Array['isArray'](_0x5f418f)&&_0x5f418f[_0xe45736(0x602)](_0x59a113=>{const _0x28d701=_0xe45736;this[_0x28d701(0x2c2)](_0x59a113);});}[_0xc3b14b(0x2c2)](_0x4eb137){const _0x4ba82c=_0xc3b14b,_0x4c4243=this[_0x4ba82c(0x3b4)][_0x4ba82c(0x30f)](_0x4eb137);_0x4c4243&&(this[_0x4ba82c(0x5a8)]['removeEventListener'](_0x4eb137,_0x4c4243),this[_0x4ba82c(0x3b4)]['delete'](_0x4eb137));}['bufferEvent'](_0x4aa84d,_0x327732){const _0x8226a6=_0xc3b14b;_0x4eca14[_0x8226a6(0x3e4)](_0x46b6b6['Events'],_0x8226a6(0x6b1),{'event':_0x4aa84d,'data':_0x327732});const _0x5607fa=this[_0x8226a6(0x327)][_0x8226a6(0x30f)](_0x4aa84d)||[];this['bufferedEvents']['set'](_0x4aa84d,[..._0x5607fa,_0x327732]);}[_0xc3b14b(0x55f)](_0x271d24){const _0x57692e=_0xc3b14b,_0x90a3ab=this['bufferedEvents'][_0x57692e(0x30f)](_0x271d24);_0x90a3ab&&(_0x90a3ab['forEach'](_0x506548=>{const _0x354167=_0x57692e;_0x4eca14[_0x354167(0x3e4)](_0x46b6b6[_0x354167(0x63b)],'Consuming\x20buffered\x20event',{'event':_0x271d24,'data':_0x506548}),this[_0x354167(0x5a8)][_0x354167(0x4f6)](new CustomEvent(_0x271d24,{'detail':_0x506548}));}),this['bufferedEvents']['delete'](_0x271d24));}}class _0xac3a39 extends Error{constructor(_0x5adbd0){const _0x1bff30=_0xc3b14b;super(_0x1bff30(0x390)+_0x5adbd0);}}var _0x668c9e,_0x2d9c6b,_0x46b2a2,_0x18970d,_0x5e95fc,_0x3ace83,_0x520ee5,_0x497c7d;!function(_0x3de8b1){const _0x11eac3=_0xc3b14b;_0x3de8b1[_0x3de8b1[_0x11eac3(0x3da)]=0x0]='Core',_0x3de8b1[_0x3de8b1[_0x11eac3(0x3cb)]=0x1]=_0x11eac3(0x3cb);}(_0x668c9e||(_0x668c9e={})),function(_0x5daa6f){const _0xeffa7c=_0xc3b14b;_0x5daa6f[_0x5daa6f[_0xeffa7c(0x4fa)]=0x0]='Offer',_0x5daa6f[_0x5daa6f[_0xeffa7c(0x2a4)]=0x1]=_0xeffa7c(0x2a4),_0x5daa6f[_0x5daa6f['Handshake']=0x2]=_0xeffa7c(0x46f),_0x5daa6f[_0x5daa6f['Success']=0x3]=_0xeffa7c(0x1f7),_0x5daa6f[_0x5daa6f[_0xeffa7c(0x4ae)]=0x4]=_0xeffa7c(0x4ae),_0x5daa6f[_0x5daa6f['Restart']=0x5]=_0xeffa7c(0x34e),_0x5daa6f[_0x5daa6f['Disconnect']=0x6]=_0xeffa7c(0x60c),_0x5daa6f[_0x5daa6f[_0xeffa7c(0x1a5)]=0x7]=_0xeffa7c(0x1a5),_0x5daa6f[_0x5daa6f['OptimizationConnectionSuccess']=0x8]=_0xeffa7c(0x29b);}(_0x2d9c6b||(_0x2d9c6b={})),function(_0x44faa9){const _0xb1a7d3=_0xc3b14b;_0x44faa9[_0x44faa9['Sender']=0x0]=_0xb1a7d3(0x23b),_0x44faa9[_0x44faa9[_0xb1a7d3(0x306)]=0x1]='Receiver';}(_0x46b2a2||(_0x46b2a2={})),function(_0x157e65){const _0x47c4f2=_0xc3b14b;_0x157e65[_0x47c4f2(0x45d)]='media-stream';}(_0x18970d||(_0x18970d={})),function(_0x1f3a9d){const _0x530c06=_0xc3b14b;_0x1f3a9d[_0x1f3a9d['UserJoin']=0x0]=_0x530c06(0x1c0),_0x1f3a9d[_0x1f3a9d[_0x530c06(0x346)]=0x1]=_0x530c06(0x346),_0x1f3a9d[_0x1f3a9d[_0x530c06(0x3c5)]=0x2]=_0x530c06(0x3c5),_0x1f3a9d[_0x1f3a9d['UserLeave']=0x3]='UserLeave';}(_0x5e95fc||(_0x5e95fc={})),function(_0x57f446){const _0x363a43=_0xc3b14b;_0x57f446[_0x57f446[_0x363a43(0x5b2)]=0x0]='Remediation',_0x57f446[_0x57f446[_0x363a43(0x33f)]=0x1]='RemoteRemediation';}(_0x3ace83||(_0x3ace83={})),function(_0x26b804){const _0x285688=_0xc3b14b;_0x26b804[_0x285688(0x604)]=_0x285688(0x177),_0x26b804[_0x285688(0x162)]='downgrade';}(_0x520ee5||(_0x520ee5={})),function(_0x20dd92){const _0x56c9b9=_0xc3b14b;_0x20dd92[_0x56c9b9(0x4d7)]=_0x56c9b9(0x2fa),_0x20dd92['Bitrate']=_0x56c9b9(0x2e2);}(_0x497c7d||(_0x497c7d={}));const _0x416105=require('aws-amplify'),_0x5a9104=require('aws-amplify/utils'),_0xc9d71=require('@aws-amplify/api'),_0x2110b1=require('@aws-amplify/core');class _0x4b3055{[_0xc3b14b(0x1d9)];[_0xc3b14b(0x1ab)];[_0xc3b14b(0x1d5)];constructor(_0x3f966f,_0x1eacbe,_0x3fcd5d){const _0x4bd247=_0xc3b14b;this[_0x4bd247(0x1d9)]=_0x3f966f,this[_0x4bd247(0x1ab)]=_0x1eacbe,this[_0x4bd247(0x1d5)]=_0x3fcd5d;}[_0xc3b14b(0x27e)](){const _0x51b606=_0xc3b14b;return this[_0x51b606(0x1ab)];}['getRemoteId'](){const _0x40f284=_0xc3b14b;return this[_0x40f284(0x1d5)];}}var _0x423041,_0x5b230f,_0xae809;function _0x37bd4a(_0x564157,_0x37a731){const _0x50875b=_0xc3b14b;return _0x564157[_0x50875b(0x40f)]===_0x37a731;}function _0x28aab5(_0x220605,_0x1efe82){const _0x4b2e1d=_0xc3b14b;return _0x220605[_0x4b2e1d(0x1cc)]?.[_0x4b2e1d(0x3f2)](_0x1efe82)??function(_0x1bf289){const _0x17dd5c=_0x4b2e1d;return void 0x0===_0x1bf289[_0x17dd5c(0x1cc)];}(_0x220605);}function _0xd1240e(_0xb99323,{contentType:_0x44d61b,label:_0x56546f,remoteId:_0x1593dd}){return _0xb99323+'-'+_0x44d61b+'-'+_0x56546f+'-'+_0x1593dd;}function _0x2d69a1(_0x5bf17c,_0x365d08,_0x3e708a){return''+_0x5bf17c+_0x365d08+_0x3e708a;}function _0x53da4b(_0x1e9cc2){const _0x459d7e=_0xc3b14b;return _0x1e9cc2===_0x5b230f['Incoming']?_0x459d7e(0x1f1):_0x459d7e(0x1d7);}function _0x1e1f3b(_0xea61a5,_0x372c5a){const _0x458714=_0xc3b14b;return{'label':_0xea61a5[_0x458714(0x180)](),'contentType':_0xea61a5[_0x458714(0x219)](),'remoteId':_0x372c5a[_0x458714(0x4a4)](),'supportsContentType':_0x372c5a[_0x458714(0x653)]()[_0x458714(0x3f2)](_0xea61a5[_0x458714(0x219)]())};}!function(_0x1c5502){const _0x38cda6=_0xc3b14b;_0x1c5502[_0x1c5502[_0x38cda6(0x262)]=0x0]=_0x38cda6(0x262),_0x1c5502[_0x1c5502[_0x38cda6(0x61b)]=0x1]=_0x38cda6(0x61b),_0x1c5502[_0x1c5502[_0x38cda6(0x51e)]=0x2]=_0x38cda6(0x51e);}(_0x423041||(_0x423041={})),function(_0x1a0df8){_0x1a0df8['Incoming']='in',_0x1a0df8['Outgoing']='out';}(_0x5b230f||(_0x5b230f={}));class _0x6e55cf{[_0xc3b14b(0x1be)];[_0xc3b14b(0x630)];constructor(_0x3e1d64,_0x6d591){const _0x218c5a=_0xc3b14b;this[_0x218c5a(0x1be)]=_0x3e1d64,this['retryCallback']=_0x6d591;}[_0xc3b14b(0x2ec)](_0x5735ed){this['callback'](_0x5735ed);}async[_0xc3b14b(0x3ee)](){await this['retryCallback']();}}class _0x2fefef{['callback'];[_0xc3b14b(0x630)];constructor(_0x1a6142,_0x1b23dd){const _0x47dbc7=_0xc3b14b;this['callback']=_0x1a6142,this[_0x47dbc7(0x630)]=_0x1b23dd;}async[_0xc3b14b(0x2ec)](_0x136306){const _0x44750e=_0xc3b14b;await this[_0x44750e(0x1be)](_0x136306);}async[_0xc3b14b(0x3ee)](){const _0x4fff8f=_0xc3b14b;await this[_0x4fff8f(0x630)]();}}function _0x4d4769(_0x183a27=()=>{},_0x19a8eb=()=>!0x1,_0x564ea2=()=>{}){let _0x69546f,_0x525f08,_0x137aed=0x0;return{get 'size'(){return _0x137aed;},get 'head'(){return _0x69546f;},get 'tail'(){return _0x525f08;},set 'head'(_0x58f7b4){_0x69546f=_0x58f7b4;},set 'tail'(_0x3af422){_0x525f08=_0x3af422;},'push'(_0x2aac61,_0x3db86c=!0x0){const _0x22798b={'value':_0x2aac61};_0x3db86c&&_0x19a8eb(_0x22798b)?_0x183a27():(_0x525f08&&(_0x22798b['previous']=_0x525f08,_0x525f08['next']=_0x22798b),_0x525f08=_0x22798b,_0x69546f||(_0x69546f=_0x22798b),_0x137aed+=0x1,_0x3db86c&&_0x183a27());},'pop'(){const _0x5d2e0e=a0_0x442c;if(!_0x525f08)return;const _0x216892=_0x525f08[_0x5d2e0e(0x3e2)];return _0x525f08=_0x525f08[_0x5d2e0e(0x419)],_0x525f08&&delete _0x525f08['next'],_0x525f08||(_0x69546f=void 0x0),_0x137aed-=0x1,_0x216892;},'unshift'(_0x4993f6,_0x453cba=!0x0){const _0x4abe73=a0_0x442c,_0x1f76a9={'value':_0x4993f6};_0x453cba&&_0x19a8eb(_0x1f76a9)?_0x183a27():(_0x69546f&&(_0x69546f['previous']=_0x1f76a9,_0x1f76a9[_0x4abe73(0x3d3)]=_0x69546f),_0x69546f=_0x1f76a9,_0x525f08||(_0x525f08=_0x1f76a9),_0x137aed+=0x1,_0x453cba&&_0x183a27());},'shift'(){const _0x52c34e=a0_0x442c;if(!_0x69546f)return;const _0xd54fb=_0x69546f[_0x52c34e(0x3e2)];return _0x69546f=_0x69546f[_0x52c34e(0x3d3)],_0x69546f&&delete _0x69546f[_0x52c34e(0x419)],_0x69546f||(_0x525f08=void 0x0),_0x137aed-=0x1,_0xd54fb;},'clear'(){_0x564ea2(),_0x69546f=void 0x0,_0x525f08=void 0x0,_0x137aed=0x0;}};}function _0x1b9259(_0x52f727,_0x36695f=!0x1,_0xd65bc1=()=>{},_0x3f607f=()=>!0x1,_0x2ab174=()=>{}){let _0x104aa4=!0x1;const _0x365d4a=_0x4d4769(async function(){const _0x22f3f9=a0_0x442c;if(!_0x104aa4){for(_0x104aa4=!0x0;_0x365d4a['head'];){const _0x244e95=_0x365d4a[_0x22f3f9(0x4bf)]();if(_0x244e95)try{_0x52f727 instanceof _0x6e55cf&&_0x52f727[_0x22f3f9(0x2ec)](_0x244e95),_0x52f727 instanceof _0x2fefef&&await _0x52f727[_0x22f3f9(0x2ec)](_0x244e95),_0xd65bc1(_0x244e95);}catch(_0x51ae2a){_0x36695f?_0x365d4a[_0x22f3f9(0x16d)](_0x244e95,!0x1):_0x365d4a[_0x22f3f9(0x62a)](_0x244e95,!0x1),await _0x52f727['wait']();}}_0x104aa4=!0x1;}},_0x3f607f,_0x2ab174);return _0x365d4a;}class _0x2c1d66 extends _0x4b3055{[_0xc3b14b(0x1dc)];[_0xc3b14b(0x1f4)];[_0xc3b14b(0x154)]=_0xc9d71['ConnectionState'][_0xc3b14b(0x2e0)];[_0xc3b14b(0x20e)]=_0x462875();[_0xc3b14b(0x570)]=_0x1556a6();[_0xc3b14b(0x488)];['listenUnsubscriber'];[_0xc3b14b(0x364)]=_0x1b9259(new _0x2fefef(this['sendAction']['bind'](this),this['waitConnected'][_0xc3b14b(0x2c9)](this)));['client'];constructor(_0x3bc114,_0x30a591,_0x1074c4,_0x3e79c2,_0x59a451){const _0x47dd88=_0xc3b14b;super(_0x30a591,_0x1074c4,_0x3e79c2),this[_0x47dd88(0x1dc)]=_0x3bc114,this[_0x47dd88(0x1f4)]=_0x59a451;}async['connect'](){const _0x1dabcf=_0xc3b14b;try{const _0xafdbdd=await this[_0x1dabcf(0x1f4)]['getIdToken'](),_0x5be7a4={'getTokens':async()=>({'accessToken':(0x0,_0x2110b1[_0x1dabcf(0x584)])(_0xafdbdd),'idToken':(0x0,_0x2110b1[_0x1dabcf(0x584)])(_0xafdbdd)})};_0x416105[_0x1dabcf(0x33e)]['configure']({'API':{'GraphQL':{'endpoint':_0x2e5536[_0x1dabcf(0x3cd)][_0x1dabcf(0x68e)],'region':_0x2e5536['aws'][_0x1dabcf(0x458)],'defaultAuthMode':_0x1dabcf(0x5d3)}}},{'Auth':{'tokenProvider':_0x5be7a4}}),this[_0x1dabcf(0x311)]=(0x0,_0xc9d71[_0x1dabcf(0x19e)])(),await this[_0x1dabcf(0x674)](),this[_0x1dabcf(0x645)]=_0x5a9104[_0x1dabcf(0x3cf)]['listen']('api',({payload:_0x5307fa})=>{const _0x54a6a2=_0x1dabcf;if(_0x5307fa['event']===_0xc9d71['CONNECTION_STATE_CHANGE']){const _0x235462=_0x5307fa[_0x54a6a2(0x525)];this[_0x54a6a2(0x154)]=_0x235462[_0x54a6a2(0x154)],this[_0x54a6a2(0x20e)][_0x54a6a2(0x69e)](_0x235462[_0x54a6a2(0x154)]),this[_0x54a6a2(0x154)]===_0xc9d71[_0x54a6a2(0x63d)]['ConnectedPendingKeepAlive']&&(this[_0x54a6a2(0x488)]?.[_0x54a6a2(0x6c0)](),delete this[_0x54a6a2(0x488)]),this[_0x54a6a2(0x154)]===_0xc9d71[_0x54a6a2(0x63d)][_0x54a6a2(0x2e0)]&&(_0x4eca14['error'](_0x54a6a2(0x2ea),{'clusterId':this[_0x54a6a2(0x1d9)],'userId':this[_0x54a6a2(0x1ab)]}),this[_0x54a6a2(0x674)]());}});}catch(_0x4c2f52){_0x4eca14[_0x1dabcf(0x1f6)](_0x1dabcf(0x373),{'clusterId':this[_0x1dabcf(0x1d9)],'userId':this[_0x1dabcf(0x1ab)]});}}['close'](){const _0x33e037=_0xc3b14b;this[_0x33e037(0x364)][_0x33e037(0x1e5)](),this[_0x33e037(0x645)]?.(),this['subscription']?.[_0x33e037(0x6c0)](),delete this[_0x33e037(0x488)];}[_0xc3b14b(0x476)](){const _0xdf973f=_0xc3b14b;return this[_0xdf973f(0x154)]===_0xc9d71[_0xdf973f(0x63d)]['Connected'];}[_0xc3b14b(0x157)](_0x407765){const _0x3a640a=_0xc3b14b;this[_0x3a640a(0x364)]['push'](_0x407765);}[_0xc3b14b(0x18a)](_0x11a2b0){const _0x3aad72=_0xc3b14b;return this[_0x3aad72(0x570)][_0x3aad72(0x674)](_0x11a2b0);}[_0xc3b14b(0x653)](){const _0x269b08=_0xc3b14b;return[_0x164080[_0x269b08(0x697)]];}async[_0xc3b14b(0x3a9)](){const _0x1bafa0=_0xc3b14b;if(!this[_0x1bafa0(0x476)]())return new Promise(_0x1e9f88=>{const _0x76b5fa=_0x1bafa0,_0x3d6ed4=this[_0x76b5fa(0x20e)][_0x76b5fa(0x674)](_0x371677=>{const _0x302c3b=_0x76b5fa;_0x371677===_0xc9d71[_0x302c3b(0x63d)][_0x302c3b(0x481)]&&(_0x3d6ed4(),_0x1e9f88());});});}async[_0xc3b14b(0x5c0)](_0xd1ef5a){const _0x2ca8d2=_0xc3b14b;if(this[_0x2ca8d2(0x154)]!==_0xc9d71[_0x2ca8d2(0x63d)][_0x2ca8d2(0x481)])throw new Error('AppSync\x20connection\x20not\x20ready');_0xd1ef5a[_0x2ca8d2(0x1cc)]&&0x1===_0xd1ef5a[_0x2ca8d2(0x1cc)]['length']?await this[_0x2ca8d2(0x69e)](_0xd1ef5a[_0x2ca8d2(0x1cc)][0x0],JSON[_0x2ca8d2(0x6c7)](_0xd1ef5a)):_0x4eca14[_0x2ca8d2(0x1f6)](_0x2ca8d2(0x267),{'clusterId':this[_0x2ca8d2(0x1d9)],'userId':this[_0x2ca8d2(0x1ab)]});}async[_0xc3b14b(0x69e)](_0x28f49b,_0x26cee7){const _0x3affdb=_0xc3b14b;if(!this[_0x3affdb(0x311)])throw new Error(_0x3affdb(0x442));_0x4eca14['log'](_0x46b6b6['Signaling'],_0x3affdb(0x4c5),this[_0x3affdb(0x1ab)],_0x26cee7),await this[_0x3affdb(0x311)][_0x3affdb(0x49d)]({'query':_0x3affdb(0x269),'variables':{'name':await this['getHash'](_0x28f49b),'data':_0x26cee7}});}async[_0xc3b14b(0x674)](){const _0x5ea834=_0xc3b14b;if(this[_0x5ea834(0x488)])return;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x4eca14[_0x5ea834(0x3e4)](_0x46b6b6[_0x5ea834(0x459)],_0x5ea834(0x4e1),this[_0x5ea834(0x1ab)]);const _0x4af1ec=await this[_0x5ea834(0x311)][_0x5ea834(0x49d)]({'query':_0x5ea834(0x2da),'variables':{'name':await this[_0x5ea834(0x48d)]()},'authToken':await this[_0x5ea834(0x1f4)]['getIdToken']()},{'Authorization':await this[_0x5ea834(0x1f4)][_0x5ea834(0x671)]()});this['subscription']=_0x4af1ec['subscribe']({'next':({data:_0x52d027})=>{const _0x59affb=_0x5ea834,_0xd74e47=JSON[_0x59affb(0x2c7)](_0x52d027[_0x59affb(0x674)][_0x59affb(0x525)]);!_0x37bd4a(_0xd74e47,this['localId'])&&_0x28aab5(_0xd74e47,this[_0x59affb(0x1ab)])&&this[_0x59affb(0x570)]['publish'](_0xd74e47);},'error':console[_0x5ea834(0x3e4)]});}async[_0xc3b14b(0x48d)](_0x57601b){const _0x49f7d7=_0xc3b14b,_0x4e28d5=await crypto[_0x49f7d7(0x401)][_0x49f7d7(0x61d)]('SHA-1',new TextEncoder()['encode'](this[_0x49f7d7(0x1dc)]+'-'+this['clusterId']+'-'+(_0x57601b??this[_0x49f7d7(0x1ab)])));return Array[_0x49f7d7(0x223)](new Uint8Array(_0x4e28d5))[_0x49f7d7(0x3c0)](_0x18843a=>_0x18843a['toString'](0x10)[_0x49f7d7(0x264)](0x2,'0'))[_0x49f7d7(0x238)]('');}}!function(_0x372aa6){const _0x28f2f2=_0xc3b14b;_0x372aa6[_0x372aa6['Add']=0x0]=_0x28f2f2(0x5be),_0x372aa6[_0x372aa6['Remove']=0x1]=_0x28f2f2(0x41f),_0x372aa6[_0x372aa6[_0x28f2f2(0x49c)]=0x2]=_0x28f2f2(0x49c),_0x372aa6[_0x372aa6[_0x28f2f2(0x575)]=0x3]='RemoteAdd',_0x372aa6[_0x372aa6[_0x28f2f2(0x666)]=0x4]='RemoteRemove';}(_0xae809||(_0xae809={}));const _0x4dacea=require('uuid'),_0x354e9b='0',_0x6ee866='chunk',_0x9081f3=0x3fc00;class _0x3b2165{[_0xc3b14b(0x1d9)];[_0xc3b14b(0x1ab)];['remoteId'];[_0xc3b14b(0x58d)];['connectionType'];[_0xc3b14b(0x59b)];[_0xc3b14b(0x591)];['dataChannel'];['currentVersion']=0x1;[_0xc3b14b(0x5ea)];[_0xc3b14b(0x510)]=[];['pendingHandshakeCandidates']=[];[_0xc3b14b(0x6ba)];constructor(_0x2a3b72,_0x147153,_0x5ce927,_0x33b7dd,_0x5e264e,_0x4bee29){const _0x3ed25a=_0xc3b14b;this[_0x3ed25a(0x1d9)]=_0x2a3b72,this[_0x3ed25a(0x1ab)]=_0x147153,this[_0x3ed25a(0x1d5)]=_0x5ce927,this[_0x3ed25a(0x58d)]=_0x33b7dd,this[_0x3ed25a(0x551)]=_0x5e264e,this[_0x3ed25a(0x59b)]=_0x4bee29,this['connection']=new this['connectionConstructor']({'handshakeServers':this['iceServers']}),this[_0x3ed25a(0x478)]();}[_0xc3b14b(0x50c)](){const _0x20a5c9=_0xc3b14b;this[_0x20a5c9(0x565)]();}[_0xc3b14b(0x5bc)](_0x18bfb6){const _0x4b1cdd=_0xc3b14b;this[_0x4b1cdd(0x551)]=_0x18bfb6;}async['handleHandshake'](_0xc07136,_0x2684a6){const _0x4b296e=_0xc3b14b;if(_0x2684a6===this[_0x4b296e(0x1ec)])for(const _0x387647 of _0xc07136){if(!this[_0x4b296e(0x591)]['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0x387647);await this['connection'][_0x4b296e(0x582)](_0x387647);}}[_0xc3b14b(0x476)](){const _0x474f55=_0xc3b14b;return this['logConnectionState'](),'connected'===this[_0x474f55(0x591)]['connectionState']&&['connected','completed'][_0x474f55(0x3f2)](this['connection'][_0x474f55(0x67c)])&&'closed'!==this['connection'][_0x474f55(0x4ba)]&&'open'===this[_0x474f55(0x4be)]?.[_0x474f55(0x38f)];}[_0xc3b14b(0x359)](_0x11b847){const _0x327b30=_0xc3b14b;this[_0x327b30(0x5ea)]=_0x11b847;}['unregisterSystemPublisher'](){const _0x119960=_0xc3b14b;delete this[_0x119960(0x5ea)];}[_0xc3b14b(0x1c4)](_0x2022cc){const _0x123274=_0xc3b14b;this['stopConnection'](),this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x123274(0x58d)]}),_0x2022cc?this[_0x123274(0x1ec)]=_0x2022cc:this['currentVersion']+=0x1,this[_0x123274(0x478)]();}['processPendingHandshakeCandidates'](){const _0x48385e=_0xc3b14b;this[_0x48385e(0x243)][_0x48385e(0x602)](_0x30c8c2=>this[_0x48385e(0x591)][_0x48385e(0x582)](_0x30c8c2)),this[_0x48385e(0x243)]=[];}['publishSystemMessage'](_0xdddc4d,_0x23c8c9){const _0x1f42e7=_0xc3b14b;if(!this[_0x1f42e7(0x5ea)])throw new _0x666015(_0x666015[_0x1f42e7(0x5c4)][_0x1f42e7(0x242)],{'content':_0xdddc4d});const _0x3285ed={'sourceId':this[_0x1f42e7(0x1ab)],'destinationIds':[this[_0x1f42e7(0x1d5)]],'propagate':this[_0x1f42e7(0x551)]!==_0x668c9e[_0x1f42e7(0x3da)],'retry':this[_0x1f42e7(0x551)]!==_0x668c9e[_0x1f42e7(0x3da)],'messageType':_0x4e5dac[_0x1f42e7(0x6bc)],'content':_0xdddc4d};_0x23c8c9&&(_0x3285ed['uuid']=_0x23c8c9),this[_0x1f42e7(0x5ea)][_0x1f42e7(0x69e)](_0x3285ed);}[_0xc3b14b(0x478)](){const _0x1dd860=_0xc3b14b;this[_0x1dd860(0x591)][_0x1dd860(0x366)]=()=>{const _0x299170=_0x1dd860;_0x299170(0x4fd)===this[_0x299170(0x591)][_0x299170(0x536)]&&this[_0x299170(0x510)][_0x299170(0x1c3)]>0x0&&(this[_0x299170(0x6ba)]&&clearTimeout(this['handshakeDebounce']),this['handshakeDebounce']=setTimeout(()=>{const _0x5ad51a=_0x299170;delete this['handshakeDebounce'],this[_0x5ad51a(0x64d)](),this[_0x5ad51a(0x510)]=[];},0x1f4));},this[_0x1dd860(0x591)][_0x1dd860(0x463)]=_0x10dda4=>{const _0x46bbe4=_0x1dd860;_0x10dda4[_0x46bbe4(0x4af)]&&this[_0x46bbe4(0x510)]['push'](_0x10dda4[_0x46bbe4(0x4af)]);};}[_0xc3b14b(0x565)](){const _0xeacdbc=_0xc3b14b;clearTimeout(this[_0xeacdbc(0x6ba)]),delete this[_0xeacdbc(0x6ba)],this[_0xeacdbc(0x510)]=[],this[_0xeacdbc(0x4be)]&&(this[_0xeacdbc(0x4be)]['onMessage']=null,this['dataChannel'][_0xeacdbc(0x3fa)]=null,this[_0xeacdbc(0x4be)][_0xeacdbc(0x50c)](),delete this[_0xeacdbc(0x4be)]),this[_0xeacdbc(0x591)]['onGatheringStateChange']=null,this[_0xeacdbc(0x591)][_0xeacdbc(0x463)]=null,this[_0xeacdbc(0x591)][_0xeacdbc(0x3ed)]=null,this[_0xeacdbc(0x591)][_0xeacdbc(0x4f4)]=null,this[_0xeacdbc(0x591)][_0xeacdbc(0x147)]=null,this[_0xeacdbc(0x591)][_0xeacdbc(0x2a1)]=null,this[_0xeacdbc(0x591)]['close']();}[_0xc3b14b(0x4ff)](_0x29827e){const _0x20a9f4=_0xc3b14b;this['pendingHandshakeCandidates'][_0x20a9f4(0x16d)](_0x29827e);}['logConnectionState'](){const _0x58b32d=_0xc3b14b;_0x4eca14[_0x58b32d(0x3e4)](_0x46b6b6['ConnectionState'],_0x58b32d(0x4ca),{'localId':this[_0x58b32d(0x1ab)],'remoteId':this[_0x58b32d(0x1d5)],'connectionState':this[_0x58b32d(0x591)][_0x58b32d(0x154)],'handshakeState':this[_0x58b32d(0x591)][_0x58b32d(0x67c)],'signalingState':this[_0x58b32d(0x591)][_0x58b32d(0x4ba)],'dataChannelState':this[_0x58b32d(0x4be)]?.[_0x58b32d(0x38f)]});}}function _0x5cc921(_0x193361,_0x2197cd){const _0x2fa8a8=_0xc3b14b;_0x2197cd[_0x2fa8a8(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac['PeerConnection'],'content':_0x193361});}class _0xe8130e{static [_0xc3b14b(0x43b)];['parameters']=[];constructor(){setInterval(()=>{const _0x4df292=a0_0x442c;this[_0x4df292(0x406)][_0x4df292(0x602)](_0x38403c=>{const _0xb8ffe3=_0x4df292;if(Date[_0xb8ffe3(0x3c8)]()-_0x38403c[_0xb8ffe3(0x304)]>_0x38403c[_0xb8ffe3(0x643)]){try{_0x38403c[_0xb8ffe3(0x1be)]();}catch(_0x1faa10){}_0x38403c['lastExecuted']=Date['now']();}});},0x64);}static[_0xc3b14b(0x531)](){const _0x399cc2=_0xc3b14b;return _0xe8130e['instance']||(_0xe8130e[_0x399cc2(0x43b)]=new _0xe8130e()),_0xe8130e['instance'];}['startNoThrottlingHack'](_0x5cebbb){const _0x24717d=_0xc3b14b,_0x1c6426=this[_0x24717d(0x3a7)](_0x5cebbb),_0xcc901f=_0x5cebbb[_0x24717d(0x34c)]();_0xcc901f&&_0x1c6426&&(_0xcc901f[_0x24717d(0x2ac)][_0x24717d(0x3e2)]=0.001,_0x1c6426[_0x24717d(0x5fd)](_0xcc901f),_0xcc901f[_0x24717d(0x5fd)](_0x5cebbb[_0x24717d(0x247)]),_0x1c6426[_0x24717d(0x416)]());}[_0xc3b14b(0x3ee)](_0x13d596){return new Promise(_0x41350e=>{setTimeout(_0x41350e,_0x13d596);});}[_0xc3b14b(0x5d7)](_0x58e9cb,_0x19eb8d){return this['parameters']['push']({'callback':_0x58e9cb,'interval':_0x19eb8d,'lastExecuted':Date['now']()}),()=>{const _0x24a96f=a0_0x442c;this[_0x24a96f(0x406)]=this['parameters']['filter'](_0x588c7e=>_0x588c7e[_0x24a96f(0x1be)]!==_0x58e9cb);};}['createConstantSource'](_0x1560e1){const _0x71b6a1=_0xc3b14b;if(_0x1560e1['createConstantSource'])return _0x1560e1[_0x71b6a1(0x3a7)]();const _0x4ae9bf=_0x1560e1[_0x71b6a1(0x2d9)](),_0x1056f7=_0x1560e1[_0x71b6a1(0x6a2)](0x1,0x1,_0x1560e1[_0x71b6a1(0x3be)]);return _0x1056f7[_0x71b6a1(0x1c1)](0x0)[0x0]=0xa,_0x4ae9bf[_0x71b6a1(0x576)]=_0x1056f7,_0x4ae9bf[_0x71b6a1(0x664)]=!0x0,_0x4ae9bf;}}const _0x1ee6de=_0xe8130e['getInstance'](),_0x6e55c2=[_0xc3b14b(0x6bc),'Node',_0xc3b14b(0x420),_0xc3b14b(0x554),_0xc3b14b(0x1a5),_0xc3b14b(0x40c),_0xc3b14b(0x5b2)],_0x73337b=[[_0xc3b14b(0x4fa),'Answer',_0xc3b14b(0x46f),_0xc3b14b(0x1f7),_0xc3b14b(0x4ae),_0xc3b14b(0x34e),_0xc3b14b(0x60c),'Stats','OptimizationConnectionSuccess'],['UserJoin',_0xc3b14b(0x346),'UserConnectionsUpdate','UserLeave'],['PublishMediaStream',_0xc3b14b(0x46d),_0xc3b14b(0x588),_0xc3b14b(0x293),'UnsubscribeMediaStream',_0xc3b14b(0x2f4),'CloseKeyValueDatabase',_0xc3b14b(0x62b),_0xc3b14b(0x662),_0xc3b14b(0x1f9),_0xc3b14b(0x220),_0xc3b14b(0x5b4),_0xc3b14b(0x255),_0xc3b14b(0x370),_0xc3b14b(0x2f6),_0xc3b14b(0x45e)],[_0xc3b14b(0x588),_0xc3b14b(0x293),_0xc3b14b(0x298),_0xc3b14b(0x4d0),_0xc3b14b(0x5f2),_0xc3b14b(0x1d6),_0xc3b14b(0x1b8),_0xc3b14b(0x33c)],[_0xc3b14b(0x1ca),'LocalReport'],[_0xc3b14b(0x650)],[_0xc3b14b(0x5b2),_0xc3b14b(0x33f)]];function _0x18971e(_0x26c55a){const _0x329d84=_0xc3b14b;return{..._0x26c55a,'systemMessageType':_0x6e55c2[_0x26c55a[_0x329d84(0x33a)]],'systemContentMessageType':_0x73337b[_0x26c55a['messageType']][_0x26c55a[_0x329d84(0x470)][_0x329d84(0x3e0)]]};}const _0x126639={'hour':_0xc3b14b(0x58b),'minute':'2-digit','second':_0xc3b14b(0x58b)};function _0x23567d(_0x4fd3b5,_0x1f3034){const _0x328bfb=_0xc3b14b,_0x4f122a=(function(){const _0x4b8f95=a0_0x442c,_0x3a5707=new Date(),_0xd2de55=_0x3a5707[_0x4b8f95(0x491)](),_0x10cd0f=_0x3a5707[_0x4b8f95(0x4dc)](_0x4b8f95(0x52f),_0x126639)[_0x4b8f95(0x5a4)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x10cd0f+'.'+(_0xd2de55>0x64?''+_0xd2de55:_0xd2de55>0xa?'0'+_0xd2de55:'00'+_0xd2de55);}()),{sourceId:_0x8a3f23,destinationIds:_0x1fdfb1,systemMessageType:_0x2d088a,systemContentMessageType:_0x5832e3}=_0x18971e(_0x4fd3b5);return _0x4f122a+_0x328bfb(0x1c5)+_0x1f3034+_0x328bfb(0x1c5)+(_0x8a3f23===_0x1f3034?_0x328bfb(0x173)+_0x2d088a+_0x328bfb(0x68a)+(_0x1fdfb1?''+_0x1fdfb1:_0x328bfb(0x295)):_0x4fd3b5[_0x328bfb(0x40f)]===_0x6f97b2?_0x328bfb(0x54f)+_0x2d088a+'\x27':(_0x1fdfb1?'':_0x328bfb(0x37f))+_0x328bfb(0x17a)+_0x2d088a+_0x328bfb(0x199)+_0x8a3f23)+_0x328bfb(0x5f6)+_0x5832e3+_0x328bfb(0x67b);}class _0xa6015a extends _0x3b2165{[_0xc3b14b(0x646)]=_0x462875();['trackCallback']=_0x462875();[_0xc3b14b(0x3b0)]=_0x462875();[_0xc3b14b(0x172)]=new Map();[_0xc3b14b(0x4ac)]=new Map();['waitSuccess'];['messagesReceived']=0x0;[_0xc3b14b(0x38d)]={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0xc3b14b(0x189)]=0x0;[_0xc3b14b(0x50c)](){const _0x5f0af6=_0xc3b14b;this['clearWaitSuccess'](),this['receivers'][_0x5f0af6(0x1e5)](),super[_0x5f0af6(0x50c)]();}async[_0xc3b14b(0x1db)](_0xcfdbe5,_0x245f53){const _0x30a66f=_0xc3b14b;this[_0x30a66f(0x1ec)]=_0x245f53,this[_0x30a66f(0x249)]();const _0x59c965=await this['connection'][_0x30a66f(0x332)](_0xcfdbe5);this['processPendingHandshakeCandidates']();const _0x122afd=(0x0,_0x4dacea['v4'])();this['publishSystemMessage']({'type':_0x2d9c6b[_0x30a66f(0x2a4)],'answer':_0x59c965,'version':_0x245f53,'connectionType':this[_0x30a66f(0x551)]},_0x122afd),this[_0x30a66f(0x551)]===_0x668c9e['Core']&&(this[_0x30a66f(0x2c3)]=_0x1ee6de[_0x30a66f(0x5d7)](()=>{const _0x55c533=_0x30a66f;this[_0x55c533(0x414)]({'type':_0x2d9c6b[_0x55c533(0x2a4)],'answer':_0x59c965,'version':_0x245f53,'connectionType':this['connectionType']},_0x122afd);},0x1388));}['handleSuccess'](){this['clearWaitSuccess']();}[_0xc3b14b(0x1e9)](_0x435ad3){const _0x240d11=_0xc3b14b;this[_0x240d11(0x1c4)](_0x435ad3),this[_0x240d11(0x414)]({'type':_0x2d9c6b['Restart']});}async[_0xc3b14b(0x3a6)](){const _0x27ba89=_0xc3b14b;this['systemTopic']&&(await this['connection'][_0x27ba89(0x2ab)](this[_0x27ba89(0x172)],(_0x3264ca,_0x30f727)=>{const _0x1b4e80=_0x27ba89;_0x5cc921({'type':_0x2d9c6b[_0x1b4e80(0x1a5)],'streamId':_0x30f727,'userId':this[_0x1b4e80(0x1d5)],'stats':_0x3264ca},this[_0x1b4e80(0x5ea)]);}),this[_0x27ba89(0x5ea)][_0x27ba89(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x27ba89(0x6bc)],'content':{'type':_0x2d9c6b[_0x27ba89(0x1a5)],'userId':this[_0x27ba89(0x1d5)],'stats':{'origin':_0x46b2a2[_0x27ba89(0x306)],'timestamp':Date[_0x27ba89(0x3c8)](),'messagesReceived':this[_0x27ba89(0x679)],'bytesReceived':this[_0x27ba89(0x520)],'timeReceiving':this[_0x27ba89(0x189)],'systemMessages':this[_0x27ba89(0x38d)]}}}));}['onMessage'](_0x7bcf84){const _0x372a91=_0xc3b14b;return this[_0x372a91(0x646)][_0x372a91(0x674)](_0x7bcf84);}[_0xc3b14b(0x147)](_0x147d9b){const _0x3fd8c9=_0xc3b14b;return this[_0x3fd8c9(0x2b1)]['subscribe'](({track:_0x329bcf,stream:_0x576c34})=>_0x147d9b(_0x329bcf,_0x576c34));}[_0xc3b14b(0x2f9)](_0x8cf3ba){const _0x44c60e=_0xc3b14b;return this['removeTrackCallback'][_0x44c60e(0x674)](({track:_0x2666ab,stream:_0x5425cb})=>_0x8cf3ba(_0x2666ab,_0x5425cb));}[_0xc3b14b(0x1c4)](_0x199451){const _0x287f0f=_0xc3b14b;this[_0x287f0f(0x249)](),this[_0x287f0f(0x172)][_0x287f0f(0x602)](_0x3e9863=>{_0x3e9863['clear']();}),super['resetConnection'](_0x199451);}[_0xc3b14b(0x64d)](){const _0x2b670a=_0xc3b14b;this[_0x2b670a(0x414)]({'type':_0x2d9c6b[_0x2b670a(0x46f)],'candidates':this[_0x2b670a(0x510)],'origin':_0x46b2a2[_0x2b670a(0x306)],'version':this[_0x2b670a(0x1ec)],'connectionType':this[_0x2b670a(0x551)]});}[_0xc3b14b(0x478)](){const _0x11ed92=_0xc3b14b;super[_0x11ed92(0x478)](),this[_0x11ed92(0x591)][_0x11ed92(0x147)]=_0x161bb9=>{const _0x54900e=_0x11ed92;_0x4eca14[_0x54900e(0x3e4)](_0x46b6b6['Connection'],_0x54900e(0x55d),this[_0x54900e(0x1ab)],_0x161bb9),_0x161bb9[_0x54900e(0x170)][0x0][_0x54900e(0x6cc)]=_0x297164=>{const _0x1f9883=_0x54900e;this[_0x1f9883(0x172)][_0x1f9883(0x30f)](_0x161bb9[_0x1f9883(0x170)][0x0]['id'])?.[_0x1f9883(0x4eb)](_0x297164['track']),0x0===this[_0x1f9883(0x172)][_0x1f9883(0x30f)](_0x161bb9[_0x1f9883(0x170)][0x0]['id'])?.['size']&&this[_0x1f9883(0x172)][_0x1f9883(0x4eb)](_0x161bb9[_0x1f9883(0x170)][0x0]['id']),this[_0x1f9883(0x3b0)][_0x1f9883(0x69e)]({'track':_0x297164[_0x1f9883(0x3a8)],'stream':_0x161bb9[_0x1f9883(0x170)][0x0]});},this[_0x54900e(0x172)][_0x54900e(0x62d)](_0x161bb9[_0x54900e(0x170)][0x0]['id'])||this['receivers'][_0x54900e(0x552)](_0x161bb9['streams'][0x0]['id'],new Set()),this[_0x54900e(0x172)][_0x54900e(0x30f)](_0x161bb9['streams'][0x0]['id'])[_0x54900e(0x14c)](_0x161bb9[_0x54900e(0x3a8)]),this[_0x54900e(0x2b1)][_0x54900e(0x69e)]({'track':_0x161bb9[_0x54900e(0x3a8)],'stream':_0x161bb9[_0x54900e(0x170)][0x0]});},this[_0x11ed92(0x591)][_0x11ed92(0x2a1)]=_0x4dbf53=>{const _0x322281=_0x11ed92;this['dataChannel']=_0x4dbf53[_0x322281(0x1a6)],this[_0x322281(0x4be)][_0x322281(0x18a)]=_0x2f9ea0=>{const _0x183a98=_0x322281;if(_0x2f9ea0[_0x183a98(0x525)]!==_0x354e9b)this[_0x183a98(0x27f)](_0x2f9ea0[_0x183a98(0x525)]);else{if(!this['dataChannel'])return void _0x4eca14['error'](_0x183a98(0x6ab),{'clusterId':this[_0x183a98(0x1d9)],'userId':this[_0x183a98(0x1ab)],'remoteId':this['remoteId'],'data':{'connection':_0x183a98(0x475)}});if('open'!==this[_0x183a98(0x4be)][_0x183a98(0x38f)])return;this['dataChannel'][_0x183a98(0x157)]('1');}};};}['handleOnMessage'](_0x1677c4){const _0x5e17a6=_0xc3b14b;if(_0x5e17a6(0x592)==typeof _0x1677c4&&_0x1677c4[_0x5e17a6(0x28e)](_0x6ee866))return this[_0x5e17a6(0x679)]+=0x1,this[_0x5e17a6(0x520)]+=_0x1677c4[_0x5e17a6(0x1c3)],this[_0x5e17a6(0x291)](_0x1677c4);setTimeout(()=>{const _0x4c313f=_0x5e17a6,_0x4b0297=Date['now']();let _0x4a750b;if((_0x1677c4 instanceof ArrayBuffer||_0x1677c4[_0x4c313f(0x1c3)]<=_0x9081f3)&&(this[_0x4c313f(0x679)]+=0x1,this[_0x4c313f(0x520)]+=_0x1677c4 instanceof ArrayBuffer?_0x1677c4[_0x4c313f(0x4c1)]:_0x1677c4['length']),_0x1677c4 instanceof ArrayBuffer){const [_0x522459,_0x4ea3c0]=this['splitParts'](_0x1677c4);_0x4a750b=_0x522459,_0x4a750b[_0x4c313f(0x470)][_0x4c313f(0x525)]=_0x4ea3c0;}else _0x4a750b=JSON[_0x4c313f(0x2c7)](_0x1677c4);if(0x0===_0x4a750b[_0x4c313f(0x3d7)]){this[_0x4c313f(0x38d)][_0x4c313f(0x615)][_0x4c313f(0x288)]+=0x1;const {systemMessageType:_0x237b7b,systemContentMessageType:_0x366d19}=_0x18971e(_0x4a750b);this['systemMessagesReceived'][_0x237b7b]||(this[_0x4c313f(0x38d)][_0x237b7b]={[_0x366d19]:0x0}),this[_0x4c313f(0x38d)][_0x237b7b][_0x366d19]||(this[_0x4c313f(0x38d)][_0x237b7b][_0x366d19]=0x0),this[_0x4c313f(0x38d)][_0x237b7b]['total']||(this[_0x4c313f(0x38d)][_0x237b7b]['total']=0x0),this[_0x4c313f(0x38d)][_0x237b7b][_0x366d19]+=0x1,this[_0x4c313f(0x38d)][_0x237b7b][_0x4c313f(0x288)]+=0x1;}this['messageCallback'][_0x4c313f(0x69e)](_0x4a750b),this[_0x4c313f(0x189)]+=Date[_0x4c313f(0x3c8)]()-_0x4b0297;},0x0);}[_0xc3b14b(0x291)](_0x5ca311){const _0x19197a=_0xc3b14b,_0x3ed0bc=_0x5ca311[_0x19197a(0x3bb)](';'),_0x1446c3=_0x3ed0bc[0x1],_0x21a3d7=parseInt(_0x3ed0bc[0x2],0xa),_0x370ed8=parseInt(_0x3ed0bc[0x3],0xa),_0x1c0322=_0x5ca311[_0x19197a(0x56a)](_0x6ee866+';'+_0x1446c3+';'+_0x21a3d7+';'+_0x370ed8+';','');this[_0x19197a(0x4ac)][_0x19197a(0x62d)](_0x1446c3)||this[_0x19197a(0x4ac)][_0x19197a(0x552)](_0x1446c3,[]);const _0x3a84bd=this[_0x19197a(0x4ac)][_0x19197a(0x30f)](_0x1446c3);_0x3a84bd[_0x21a3d7]=_0x1c0322,_0x3a84bd[_0x19197a(0x1c3)]===_0x370ed8&&(this[_0x19197a(0x27f)](_0x3a84bd[_0x19197a(0x238)]('')),this['chunks']['delete'](_0x1446c3));}['clearWaitSuccess'](){const _0x21e527=_0xc3b14b;this['waitSuccess']?.(),delete this[_0x21e527(0x2c3)];}[_0xc3b14b(0x272)](_0x510d38){const _0x24145a=_0xc3b14b,_0xd371bc=new TextDecoder()[_0x24145a(0x61e)](_0x510d38);return JSON[_0x24145a(0x2c7)](_0xd371bc);}[_0xc3b14b(0x4ee)](_0x1c4c96){const _0x1b2086=_0xc3b14b,_0x3e8e44=new Uint8Array(_0x1c4c96[_0x1b2086(0x6b9)](0x0,0x4)),_0x2488d1=new Uint32Array(_0x3e8e44[_0x1b2086(0x576)])[0x0],_0x1505c9=new Uint8Array(_0x1c4c96['slice'](0x4,0x4+_0x2488d1)),_0xe801ca=new Uint8Array(_0x1c4c96[_0x1b2086(0x6b9)](0x4+_0x2488d1));return[this[_0x1b2086(0x272)](_0x1505c9['buffer']),_0xe801ca['buffer']];}}const _0x4c3683=0xc350;var _0x24822d,_0x258e6f,_0x701d1c,_0x69668c,_0x454f26;!function(_0x7bf94b){const _0x2ef50=_0xc3b14b;_0x7bf94b[_0x7bf94b[_0x2ef50(0x5f0)]=0x0]=_0x2ef50(0x5f0),_0x7bf94b[_0x7bf94b['Medium']=0x1]=_0x2ef50(0x4a8),_0x7bf94b[_0x7bf94b['Low']=0x2]=_0x2ef50(0x34a);}(_0x24822d||(_0x24822d={}));class _0x274b09 extends _0x3b2165{[_0xc3b14b(0x5a2)];['maxBpp'];[_0xc3b14b(0x1c2)]=new Map();[_0xc3b14b(0x51c)];['waitAnswer'];[_0xc3b14b(0x465)];['isReconnecting']=!0x1;['connectionTimeout'];[_0xc3b14b(0x6b0)];[_0xc3b14b(0x534)];[_0xc3b14b(0x364)]=function(e,t=_0x24822d,s=!0x1){const _0x4cbdbc=_0xc3b14b;let i=!0x1;const n=[];async function a(){const _0x309dc0=a0_0x442c;if(!i){for(i=!0x0;n[_0x309dc0(0x578)](e=>e['head']);){let t,i=0x0;for(const [e,s]of n['entries']())if(t=s['shift'](),i=e,t)break;if(t)try{if(e instanceof _0x6e55cf&&e[_0x309dc0(0x2ec)](t),e instanceof _0x2fefef&&await e['call'](t),n[_0x309dc0(0x6b9)](-0x1)[_0x309dc0(0x578)](e=>e['head']))continue;const s=n['length']-0x1;i===s&&n[s]['head']&&await _0x1ee6de[_0x309dc0(0x3ee)](0x0);}catch(a){s?n[i][_0x309dc0(0x16d)](t,!0x1):n[i][_0x309dc0(0x62a)](t,!0x1),await e['wait']();}}i=!0x1;}}return Object[_0x4cbdbc(0x59d)](t)[_0x4cbdbc(0x602)](e=>{const _0x42f4cf=_0x4cbdbc;_0x42f4cf(0x592)!=typeof e&&(n[e]=_0x4d4769(a));}),{'queues':n};}(new _0x6e55cf(this[_0xc3b14b(0x5c0)][_0xc3b14b(0x2c9)](this),this[_0xc3b14b(0x336)][_0xc3b14b(0x2c9)](this)));[_0xc3b14b(0x571)]=0x0;[_0xc3b14b(0x4d8)]=0x0;[_0xc3b14b(0x338)]=0x0;[_0xc3b14b(0x193)]=0x0;[_0xc3b14b(0x3d2)];constructor(_0x5e827e,_0x22d100,_0x4f0352,_0x4686bc,_0x30b313,_0x5020d2,_0x21f9d9,_0x3eb7a3){const _0x1aeadb=_0xc3b14b;super(_0x5e827e,_0x22d100,_0x4f0352,_0x4686bc,_0x30b313,_0x3eb7a3),this[_0x1aeadb(0x5a2)]=_0x5020d2,this['maxBpp']=_0x21f9d9;}['close'](){const _0x4b1332=_0xc3b14b;this[_0x4b1332(0x69c)](),this['clearHeartbeat'](),delete this[_0x4b1332(0x465)],this[_0x4b1332(0x6c8)](),this['clearConnectionTimeout'](),this[_0x4b1332(0x381)](),this[_0x4b1332(0x1c2)][_0x4b1332(0x1e5)](),this['isReconnecting']=!0x1,this[_0x4b1332(0x364)][_0x4b1332(0x3e1)][_0x4b1332(0x602)](_0x56be05=>_0x56be05['clear']()),this[_0x4b1332(0x5de)](),super['close']();}[_0xc3b14b(0x476)](){const _0x189968=_0xc3b14b;return!!this[_0x189968(0x465)]&&super['isConnected']()&&Date[_0x189968(0x3c8)]()-this['lastHeartbeat']<0x3a98;}async[_0xc3b14b(0x3a6)](){const _0x1890d7=_0xc3b14b;this[_0x1890d7(0x5ea)]&&(await this[_0x1890d7(0x591)][_0x1890d7(0x6ce)](this[_0x1890d7(0x1c2)],(_0x36e1a0,_0x2ae78c)=>{const _0x243cea=_0x1890d7;_0x5cc921({'type':_0x2d9c6b[_0x243cea(0x1a5)],'streamId':_0x2ae78c,'userId':this[_0x243cea(0x1d5)],'stats':_0x36e1a0},this[_0x243cea(0x5ea)]);}),this[_0x1890d7(0x5ea)]['publish']({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x1890d7(0x6bc)],'content':{'type':_0x2d9c6b[_0x1890d7(0x1a5)],'userId':this['remoteId'],'stats':{'origin':_0x46b2a2[_0x1890d7(0x23b)],'timestamp':Date['now'](),'messagesSent':this[_0x1890d7(0x571)],'bytesSent':this[_0x1890d7(0x4d8)],'timeSending':this['timeSending'],'roundTripTime':this[_0x1890d7(0x193)]}}}));}async[_0xc3b14b(0x528)](_0x518c9a){const _0x2d2060=_0xc3b14b;_0x4eca14[_0x2d2060(0x3e4)](_0x46b6b6[_0x2d2060(0x15d)],_0x2d2060(0x529),this[_0x2d2060(0x1ab)],this[_0x2d2060(0x1d5)]),this[_0x2d2060(0x6c8)](),this[_0x2d2060(0x612)](),this[_0x2d2060(0x381)](),this['connectionTimeout']=setTimeout(()=>{const _0x16bd76=_0x2d2060;this[_0x16bd76(0x449)]();},0x7530),this[_0x2d2060(0x4be)]||(this[_0x2d2060(0x4be)]=this[_0x2d2060(0x591)][_0x2d2060(0x678)](_0x2d2060(0x525)),this[_0x2d2060(0x4be)][_0x2d2060(0x5c8)]=0x10000,this['dataChannel'][_0x2d2060(0x3fa)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x3fbfe6=a0_0x442c;delete this[_0x3fbfe6(0x3d2)],[_0x3fbfe6(0x2cf),_0x3fbfe6(0x452)][_0x3fbfe6(0x3f2)](this[_0x3fbfe6(0x4be)]?.[_0x3fbfe6(0x38f)]??'')||this[_0x3fbfe6(0x449)]();},0xfa);});const _0x443c1c=await this['connection']['createOffer'](_0x518c9a);this[_0x2d2060(0x465)]||(this['lastHeartbeat']=Date[_0x2d2060(0x3c8)]());const _0xf195b4=(0x0,_0x4dacea['v4'])();this[_0x2d2060(0x414)]({'type':_0x2d9c6b[_0x2d2060(0x4fa)],'offer':_0x443c1c,'version':this[_0x2d2060(0x1ec)],'connectionType':this[_0x2d2060(0x551)]},_0xf195b4),this[_0x2d2060(0x551)]===_0x668c9e[_0x2d2060(0x3da)]&&(this['waitAnswer']=_0x1ee6de['setInterval'](()=>{const _0x4b97d8=_0x2d2060;this[_0x4b97d8(0x414)]({'type':_0x2d9c6b[_0x4b97d8(0x4fa)],'offer':_0x443c1c,'version':this['currentVersion'],'connectionType':this[_0x4b97d8(0x551)]},_0xf195b4);},0x1388));}async[_0xc3b14b(0x687)](_0x505c17,_0x243782){const _0x3be5cf=_0xc3b14b;if(_0x243782===this[_0x3be5cf(0x1ec)]){this['clearWaitAnswer']();try{await this[_0x3be5cf(0x591)][_0x3be5cf(0x687)](_0x505c17,this[_0x3be5cf(0x528)]['bind'](this)),this[_0x3be5cf(0x1b9)](),this[_0x3be5cf(0x612)](),this[_0x3be5cf(0x2a8)]();}catch(_0x359396){this[_0x3be5cf(0x449)]();}}}[_0xc3b14b(0x157)](_0x108008){const _0x51e061=_0xc3b14b;if(!this[_0x51e061(0x4be)])throw new _0x666015(_0x666015['codes'][_0x51e061(0x694)],{'message':_0x51e061(0x1a4),'localId':this[_0x51e061(0x1ab)],'remoteId':this[_0x51e061(0x1d5)],'eventMessage':_0x108008});if(_0x51e061(0x452)!==this[_0x51e061(0x4be)][_0x51e061(0x38f)])throw new _0x666015(_0x666015[_0x51e061(0x5c4)][_0x51e061(0x694)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x51e061(0x1ab)],'remoteId':this['remoteId'],'eventMessage':_0x108008});let _0x33443f;if(_0x108008['content']['data']instanceof ArrayBuffer){const _0x1773dc=_0x108008[_0x51e061(0x470)]['data'];delete _0x108008['content']['data'],_0x33443f=this['mergeParts'](_0x108008,_0x1773dc);}else _0x33443f=JSON[_0x51e061(0x6c7)](_0x108008);if(_0x51e061(0x592)==typeof _0x33443f&&_0x33443f[_0x51e061(0x1c3)]>_0x9081f3)return this[_0x51e061(0x1ce)](_0x108008,_0x33443f);const _0x510303=0x0===_0x108008['topicLabel']&&[_0x4e5dac[_0x51e061(0x554)],_0x4e5dac['PeerConnection']]['includes'](_0x108008['messageType'])?_0x24822d[_0x51e061(0x5f0)]:_0x108008 instanceof ArrayBuffer?_0x24822d[_0x51e061(0x34a)]:_0x24822d['Medium'];this['sendWithRetry'](_0x33443f,_0x510303);}[_0xc3b14b(0x58c)](_0x364de8,_0x2c1119,_0x35b7e1,_0x2f710a){const _0xce869a=_0xc3b14b,_0xc07b86=(_0x2c08c8=this[_0xce869a(0x5a2)],_0x55bcda=this[_0xce869a(0x553)],Math[_0xce869a(0x601)](0xe1000*_0x2c08c8*_0x55bcda));var _0x2c08c8,_0x55bcda;const _0x470902=this[_0xce869a(0x1c2)][_0xce869a(0x30f)](_0x2c1119['id'])||{'stream':_0x2c1119,'priority':_0x35b7e1,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0xc07b86,'maxBitrate':_0xc07b86,'framerate':this[_0xce869a(0x5a2)],'maxFramerate':this[_0xce869a(0x5a2)],'tracks':{},'params':_0x2f710a},_0x189ad0=_0x470902[_0xce869a(0x305)][_0x364de8[_0xce869a(0x384)]]||{'track':_0x364de8};if(_0x189ad0[_0xce869a(0x57b)]?(_0x189ad0['track']=_0x364de8,this['connection'][_0xce869a(0x263)](_0x364de8,_0x189ad0[_0xce869a(0x57b)])):_0x189ad0['sender']=this[_0xce869a(0x591)][_0xce869a(0x58c)](_0x364de8,_0x2c1119),_0x470902[_0xce869a(0x305)][_0x364de8[_0xce869a(0x384)]]=_0x189ad0,_0x2f710a&&(_0x470902[_0xce869a(0x2fc)]=_0x2f710a),_0x2f710a&&_0xce869a(0x42e)===_0x2f710a[_0xce869a(0x384)]&&_0x2f710a[_0xce869a(0x2fa)]&&_0x2f710a[_0xce869a(0x5c5)]&&(_0x470902[_0xce869a(0x23f)]=this[_0xce869a(0x360)](_0x2f710a['resolution'],_0x2f710a['maxResolution']),_0x470902[_0xce869a(0x5f9)]=_0x470902[_0xce869a(0x23f)],_0x470902['tracks'][_0xce869a(0x42e)]&&_0x470902[_0xce869a(0x305)][_0xce869a(0x42e)]['sender'])){const _0x4b2825=_0x470902[_0xce869a(0x305)][_0xce869a(0x42e)][_0xce869a(0x57b)];this['connection']['setEncodingParameters'](_0x4b2825,Math[_0xce869a(0x601)](0xa*_0x470902[_0xce869a(0x23f)])/0xa,_0x470902['framerate'],_0x470902[_0xce869a(0x2e2)],_0x470902[_0xce869a(0x38b)]);}this[_0xce869a(0x1c2)][_0xce869a(0x552)](_0x2c1119['id'],_0x470902);}[_0xc3b14b(0x3e9)](_0xf8c289,_0x235147){const _0x43d433=_0xc3b14b,_0x55da27=this[_0x43d433(0x1c2)][_0x43d433(0x30f)](_0xf8c289['id']);if(_0x55da27&&_0x55da27[_0x43d433(0x38b)]!==_0x235147&&(_0x55da27[_0x43d433(0x38b)]=_0x235147,_0x55da27[_0x43d433(0x305)][_0x43d433(0x42e)]&&_0x55da27[_0x43d433(0x305)][_0x43d433(0x42e)][_0x43d433(0x57b)])){const _0x427caf=_0x55da27[_0x43d433(0x305)][_0x43d433(0x42e)][_0x43d433(0x57b)];this[_0x43d433(0x591)][_0x43d433(0x563)](_0x427caf,Math[_0x43d433(0x601)](0xa*_0x55da27[_0x43d433(0x23f)])/0xa,_0x55da27[_0x43d433(0x207)],_0x55da27[_0x43d433(0x2e2)],_0x55da27[_0x43d433(0x38b)]);}}[_0xc3b14b(0x6d9)](_0x1164a8,_0x494df3){const _0x9ee4d0=_0xc3b14b,_0x5c5438=this[_0x9ee4d0(0x1c2)][_0x9ee4d0(0x30f)](_0x1164a8['id']);if(_0x5c5438){if(_0x5c5438['params']=_0x494df3,_0x494df3&&'video'===_0x494df3[_0x9ee4d0(0x384)]&&_0x494df3[_0x9ee4d0(0x2fa)]&&_0x494df3[_0x9ee4d0(0x5c5)]){if(_0x5c5438[_0x9ee4d0(0x5f9)]=this['getResolutionScale'](_0x494df3[_0x9ee4d0(0x2fa)],_0x494df3['maxResolution']),_0x5c5438[_0x9ee4d0(0x23f)]<_0x5c5438[_0x9ee4d0(0x5f9)]&&(_0x5c5438[_0x9ee4d0(0x23f)]=_0x5c5438[_0x9ee4d0(0x5f9)]),_0x5c5438[_0x9ee4d0(0x305)][_0x9ee4d0(0x42e)]&&_0x5c5438[_0x9ee4d0(0x305)]['video'][_0x9ee4d0(0x57b)]){const _0x1f4442=_0x5c5438[_0x9ee4d0(0x305)]['video'][_0x9ee4d0(0x57b)];this[_0x9ee4d0(0x591)]['setEncodingParameters'](_0x1f4442,Math['floor'](0xa*_0x5c5438[_0x9ee4d0(0x23f)])/0xa,_0x5c5438['framerate'],_0x5c5438[_0x9ee4d0(0x2e2)],_0x5c5438[_0x9ee4d0(0x38b)]);}this['clearUpgradeTimeout'](),this['setUpgradeTimeout']();}this[_0x9ee4d0(0x1c2)][_0x9ee4d0(0x552)](_0x1164a8['id'],_0x5c5438);}}['removeTrack'](_0x4456c2,_0x2cea4e){const _0x476549=_0xc3b14b,_0x1b67c8=this[_0x476549(0x1c2)][_0x476549(0x30f)](_0x2cea4e['id']);if(_0x1b67c8){const _0x86e615=_0x1b67c8['tracks'][_0x4456c2[_0x476549(0x384)]];_0x86e615&&(_0x86e615[_0x476549(0x57b)]&&this[_0x476549(0x591)][_0x476549(0x176)](_0x86e615['sender']),_0x86e615['track']=void 0x0);}}['applyRemediation'](_0x3a741f){const _0x24a18d=_0xc3b14b;this[_0x24a18d(0x69c)]();const _0x148313=function(_0x1f02b6,_0x34dab4){const _0x30b4ef=_0x24a18d;return _0x1f02b6['sort']((_0x108ca3,_0x4c58b3)=>_0x34dab4[_0x30b4ef(0x4e0)]===_0x520ee5[_0x30b4ef(0x162)]?_0x4c58b3['priority']-_0x108ca3['priority']:_0x108ca3[_0x30b4ef(0x38b)]-_0x4c58b3[_0x30b4ef(0x38b)])['find'](_0x5de636=>function(_0x507ce8,_0x36c924){const _0x34e731=_0x30b4ef;if(_0x36c924['action']===_0x520ee5['Downgrade']){if(_0x36c924[_0x34e731(0x49a)]===_0x497c7d['Resolution'])return _0x507ce8[_0x34e731(0x23f)]<0x4||_0x507ce8[_0x34e731(0x2f5)]>0xf;if(_0x36c924[_0x34e731(0x49a)]===_0x497c7d[_0x34e731(0x19f)])return _0x507ce8[_0x34e731(0x17b)]>_0x4c3683;}return _0x507ce8[_0x34e731(0x23f)]>_0x507ce8[_0x34e731(0x5f9)]||_0x507ce8[_0x34e731(0x207)]<_0x507ce8[_0x34e731(0x2f5)]||_0x507ce8['bitrate']<_0x507ce8['maxBitrate'];}(_0x5de636,_0x34dab4));}(Array[_0x24a18d(0x223)](this[_0x24a18d(0x1c2)][_0x24a18d(0x59d)]()),_0x3a741f);if(_0x148313&&(function(_0x34df07,_0x232363){const _0x5382ad=_0x24a18d;_0x34df07[_0x5382ad(0x305)][_0x5382ad(0x42e)]&&_0x34df07['tracks'][_0x5382ad(0x42e)][_0x5382ad(0x57b)]&&(_0x34df07[_0x5382ad(0x23f)]=function(_0x13de59,_0x4e1306,_0x1f3daf){const _0x39184b=_0x5382ad;switch(_0x1f3daf[_0x39184b(0x4e0)]){case _0x520ee5[_0x39184b(0x162)]:_0x1f3daf['component']===_0x497c7d[_0x39184b(0x4d7)]&&(_0x13de59+=0.5)>0x4&&(_0x13de59=0x4);break;case _0x520ee5[_0x39184b(0x604)]:(_0x13de59-=0.5)<_0x4e1306&&(_0x13de59=_0x4e1306);}return _0x13de59;}(_0x34df07[_0x5382ad(0x23f)],_0x34df07[_0x5382ad(0x5f9)],_0x232363),_0x34df07[_0x5382ad(0x207)]=function(_0x4da373,_0x3b2050,_0x4eaf8f){const _0x4b7568=_0x5382ad;switch(_0x4eaf8f[_0x4b7568(0x4e0)]){case _0x520ee5[_0x4b7568(0x162)]:_0x4eaf8f[_0x4b7568(0x49a)]===_0x497c7d[_0x4b7568(0x4d7)]&&(_0x4da373-=0x3)<0xf&&(_0x4da373=0xf);break;case _0x520ee5[_0x4b7568(0x604)]:(_0x4da373+=0x3)>_0x3b2050&&(_0x4da373=_0x3b2050);}return _0x4da373;}(_0x34df07[_0x5382ad(0x207)],_0x34df07[_0x5382ad(0x2f5)],_0x232363),_0x34df07[_0x5382ad(0x2e2)]=function(_0xc10c8a,_0x1fd5aa,_0x1e5779){const _0x3285a6=_0x5382ad;switch(_0x1e5779['action']){case _0x520ee5['Downgrade']:_0x1e5779['component']===_0x497c7d[_0x3285a6(0x19f)]&&(_0xc10c8a*=0.75)<_0x4c3683&&(_0xc10c8a=_0x4c3683);break;case _0x520ee5['Upgrade']:(_0xc10c8a*=1.25)>_0x1fd5aa&&(_0xc10c8a=_0x1fd5aa);}return _0xc10c8a;}(_0x34df07['bitrate'],_0x34df07[_0x5382ad(0x17b)],_0x232363));}(_0x148313,_0x3a741f),_0x148313[_0x24a18d(0x305)][_0x24a18d(0x42e)]&&_0x148313[_0x24a18d(0x305)]['video'][_0x24a18d(0x57b)])){const _0x464b64=_0x148313[_0x24a18d(0x305)][_0x24a18d(0x42e)][_0x24a18d(0x57b)];this[_0x24a18d(0x591)][_0x24a18d(0x563)](_0x464b64,Math[_0x24a18d(0x601)](0xa*_0x148313[_0x24a18d(0x23f)])/0xa,_0x148313[_0x24a18d(0x207)],_0x148313[_0x24a18d(0x2e2)],_0x148313['priority']);}(_0x148313||_0x3a741f[_0x24a18d(0x4e0)]===_0x520ee5[_0x24a18d(0x162)])&&this[_0x24a18d(0x3e6)]();}[_0xc3b14b(0x1c4)](){const _0x179eb0=_0xc3b14b;super[_0x179eb0(0x1c4)](),this[_0x179eb0(0x5de)](),this[_0x179eb0(0x381)](),this[_0x179eb0(0x1c2)][_0x179eb0(0x602)](_0x3b221e=>{const _0x580fba=_0x179eb0;_0x3b221e[_0x580fba(0x305)][_0x580fba(0x42e)]&&(_0x3b221e[_0x580fba(0x305)][_0x580fba(0x42e)][_0x580fba(0x57b)]=void 0x0),_0x3b221e['tracks'][_0x580fba(0x64a)]&&(_0x3b221e[_0x580fba(0x305)][_0x580fba(0x64a)][_0x580fba(0x57b)]=void 0x0);}),this[_0x179eb0(0x312)]=!0x0;}async[_0xc3b14b(0x336)](){return new Promise(async _0x1c41d8=>{const _0x2962d3=a0_0x442c;if(!this[_0x2962d3(0x4be)]||_0x2962d3(0x452)!==this['dataChannel'][_0x2962d3(0x38f)])return await _0x1ee6de['wait'](0x64),void _0x1c41d8();this[_0x2962d3(0x4be)][_0x2962d3(0x50b)]<0x10000?_0x1c41d8():this[_0x2962d3(0x4be)][_0x2962d3(0x5a7)]=()=>{const _0x4e8303=_0x2962d3;this['dataChannel']&&(this[_0x4e8303(0x4be)][_0x4e8303(0x5a7)]=null),_0x1c41d8();};});}[_0xc3b14b(0x1ce)](_0x2ac425,_0xe7f536){const _0x4c0364=_0xc3b14b,_0x327155=[];for(let _0x5b24ae=0x0;_0x5b24ae<_0xe7f536[_0x4c0364(0x1c3)];_0x5b24ae+=_0x9081f3)_0x327155[_0x4c0364(0x16d)](_0xe7f536[_0x4c0364(0x6b9)](_0x5b24ae,_0x5b24ae+_0x9081f3));for(const _0x296ffd of _0x327155)this[_0x4c0364(0x4b9)](_0x6ee866+';'+_0x2ac425[_0x4c0364(0x5d8)]+';'+_0x327155[_0x4c0364(0x3f9)](_0x296ffd)+';'+_0x327155[_0x4c0364(0x1c3)]+';'+_0x296ffd,_0x24822d[_0x4c0364(0x34a)]);}async[_0xc3b14b(0x4b9)](_0x468122,_0x5aacf8){const _0x5eb1ed=_0xc3b14b;_0x468122===_0x354e9b?this['retryQueue']['queues'][_0x5aacf8][_0x5eb1ed(0x2c6)]?.[_0x5eb1ed(0x3e2)]!==_0x354e9b&&this[_0x5eb1ed(0x364)]['queues'][_0x5aacf8][_0x5eb1ed(0x62a)](_0x468122):this['retryQueue'][_0x5eb1ed(0x3e1)][_0x5aacf8][_0x5eb1ed(0x16d)](_0x468122);}[_0xc3b14b(0x5c0)](_0x4a6203){const _0x48bbb0=_0xc3b14b;if(!this['dataChannel']||_0x48bbb0(0x452)!==this[_0x48bbb0(0x4be)][_0x48bbb0(0x38f)])throw new Error(_0x48bbb0(0x59a));const _0x33da01=Date[_0x48bbb0(0x3c8)]();_0x4a6203!==_0x354e9b&&(this[_0x48bbb0(0x571)]+=0x1,this[_0x48bbb0(0x4d8)]+=_0x4a6203 instanceof ArrayBuffer?_0x4a6203['byteLength']:_0x4a6203[_0x48bbb0(0x1c3)]),ArrayBuffer,this[_0x48bbb0(0x4be)][_0x48bbb0(0x157)](_0x4a6203),this[_0x48bbb0(0x338)]+=Date[_0x48bbb0(0x3c8)]()-_0x33da01;}[_0xc3b14b(0x2a8)](){const _0x12cf6f=_0xc3b14b;this[_0x12cf6f(0x51c)]&&this[_0x12cf6f(0x375)]();let _0x3b3edc=!0x0,_0x38a28a=Date['now']();this[_0x12cf6f(0x465)]=Date[_0x12cf6f(0x3c8)](),this[_0x12cf6f(0x4be)][_0x12cf6f(0x18a)]=_0x122f74=>{const _0x1b694d=_0x12cf6f;'1'===_0x122f74['data']&&(this[_0x1b694d(0x193)]=Date[_0x1b694d(0x3c8)]()-_0x38a28a,_0x3b3edc&&this[_0x1b694d(0x414)]({'type':_0x2d9c6b[_0x1b694d(0x1f7)]}),_0x3b3edc=!0x1,this[_0x1b694d(0x465)]=Date[_0x1b694d(0x3c8)](),this[_0x1b694d(0x312)]&&(this[_0x1b694d(0x312)]=!0x1,this[_0x1b694d(0x5e8)]()));},this[_0x12cf6f(0x51c)]=_0x1ee6de[_0x12cf6f(0x5d7)](()=>{const _0x431530=_0x12cf6f;_0x38a28a=Date['now'](),this[_0x431530(0x4b9)](_0x354e9b,_0x24822d[_0x431530(0x5f0)]),Date[_0x431530(0x3c8)]()-this[_0x431530(0x465)]>(_0x3b3edc?0x15f90:0x3a98)&&this[_0x431530(0x449)]();},0xbb8);}[_0xc3b14b(0x5e8)](){const _0x66c15a=_0xc3b14b;this[_0x66c15a(0x1c2)]['forEach'](_0x404b5f=>{const _0x3057a7=_0x66c15a;_0x404b5f['tracks']['video']&&_0x404b5f['tracks'][_0x3057a7(0x42e)]['track']&&!_0x404b5f[_0x3057a7(0x305)][_0x3057a7(0x42e)][_0x3057a7(0x57b)]&&(_0x404b5f[_0x3057a7(0x305)]['video'][_0x3057a7(0x57b)]=this[_0x3057a7(0x591)][_0x3057a7(0x58c)](_0x404b5f[_0x3057a7(0x305)][_0x3057a7(0x42e)][_0x3057a7(0x3a8)],_0x404b5f[_0x3057a7(0x60a)])),_0x404b5f[_0x3057a7(0x305)][_0x3057a7(0x64a)]&&_0x404b5f[_0x3057a7(0x305)]['audio'][_0x3057a7(0x3a8)]&&!_0x404b5f[_0x3057a7(0x305)][_0x3057a7(0x64a)][_0x3057a7(0x57b)]&&(_0x404b5f[_0x3057a7(0x305)][_0x3057a7(0x64a)][_0x3057a7(0x57b)]=this[_0x3057a7(0x591)]['addTrack'](_0x404b5f[_0x3057a7(0x305)][_0x3057a7(0x64a)]['track'],_0x404b5f[_0x3057a7(0x60a)]));});}[_0xc3b14b(0x64d)](){const _0x5e90cf=_0xc3b14b;this['publishSystemMessage']({'type':_0x2d9c6b['Handshake'],'candidates':this[_0x5e90cf(0x510)],'origin':_0x46b2a2['Sender'],'version':this[_0x5e90cf(0x1ec)],'connectionType':this[_0x5e90cf(0x551)]});}['setupConnectionEvents'](){const _0xdaa370=_0xc3b14b;super[_0xdaa370(0x478)](),this[_0xdaa370(0x591)]['onHandshakeStateChange']=()=>{const _0x56c87d=_0xdaa370;if(_0x56c87d(0x39c)===this[_0x56c87d(0x591)][_0x56c87d(0x67c)]){if(_0x4eca14[_0x56c87d(0x3e4)](_0x46b6b6[_0x56c87d(0x63d)],'iceConnectionState\x20failed',this[_0x56c87d(0x1ab)],this['remoteId']),this[_0x56c87d(0x591)]['canRestartHandshake'])return void this['connection'][_0x56c87d(0x69a)]();this[_0x56c87d(0x528)]({'handshakeRestart':!0x0});}},this['connection']['onConnectionStateChange']=()=>{const _0x3cf7d0=_0xdaa370;'disconnected'!==this['connection'][_0x3cf7d0(0x154)]&&_0x3cf7d0(0x39c)!==this[_0x3cf7d0(0x591)]['connectionState']||this[_0x3cf7d0(0x449)]();};}[_0xc3b14b(0x449)](){const _0x1a69e8=_0xc3b14b;this[_0x1a69e8(0x375)](),this['clearRestartTimeout'](),this[_0x1a69e8(0x612)](),_0x4eca14[_0x1a69e8(0x163)](_0x1a69e8(0x3b2),{'clusterId':this[_0x1a69e8(0x1d9)],'userId':this[_0x1a69e8(0x1ab)],'remoteId':this[_0x1a69e8(0x1d5)],'data':{'connectionType':this[_0x1a69e8(0x551)],'connectionState':this[_0x1a69e8(0x591)][_0x1a69e8(0x154)],'iceConnectionState':this[_0x1a69e8(0x591)][_0x1a69e8(0x67c)],'signalingState':this['connection'][_0x1a69e8(0x4ba)],'readyState':this[_0x1a69e8(0x4be)]?.[_0x1a69e8(0x38f)]||'','lastHeartbeat':this[_0x1a69e8(0x465)]?Date[_0x1a69e8(0x3c8)]()-this['lastHeartbeat']:'','retryQueue':this[_0x1a69e8(0x364)]}}),(this['lastHeartbeat']&&Date['now']()-this[_0x1a69e8(0x465)]>0xea60)??0x1?this[_0x1a69e8(0x5ea)][_0x1a69e8(0x69e)]({'sourceId':this[_0x1a69e8(0x1d5)],'destinationIds':[this['localId']],'messageType':_0x4e5dac[_0x1a69e8(0x6bc)],'content':{'type':_0x2d9c6b[_0x1a69e8(0x60c)]}}):(this[_0x1a69e8(0x1c4)](),this[_0x1a69e8(0x414)]({'type':_0x2d9c6b[_0x1a69e8(0x4ae)],'version':this[_0x1a69e8(0x1ec)],'connectionType':this[_0x1a69e8(0x551)]}),this['restartTimeout']=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0xc3b14b(0x375)](){const _0x5b1938=_0xc3b14b;this['heartbeatUnsubscriber']?.(),delete this[_0x5b1938(0x51c)];}[_0xc3b14b(0x612)](){const _0x5490c9=_0xc3b14b;this[_0x5490c9(0x698)]&&(clearTimeout(this[_0x5490c9(0x698)]),delete this[_0x5490c9(0x698)]);}[_0xc3b14b(0x6c8)](){const _0x728f3c=_0xc3b14b;this[_0x728f3c(0x6b0)]&&(clearTimeout(this[_0x728f3c(0x6b0)]),delete this['restartTimeout']);}['clearUpgradeTimeout'](){const _0x2281c4=_0xc3b14b;this[_0x2281c4(0x534)]&&(clearTimeout(this[_0x2281c4(0x534)]),delete this[_0x2281c4(0x534)]);}[_0xc3b14b(0x3e6)](){const _0x529c8d=_0xc3b14b;this[_0x529c8d(0x534)]=setTimeout(()=>{const _0x232312=_0x529c8d;this[_0x232312(0x4aa)]({'type':_0x3ace83[_0x232312(0x5b2)],'action':_0x520ee5['Upgrade']});},0x3a98);}['getResolutionScale'](_0x5d0311,_0x12b75d){const _0x31fec0=_0xc3b14b,_0x28567f=Math['max'](_0x5d0311[_0x31fec0(0x2b0)]/_0x12b75d[_0x31fec0(0x2b0)],_0x5d0311[_0x31fec0(0x2d2)]/_0x12b75d[_0x31fec0(0x2d2)]);return Math[_0x31fec0(0x2ed)](Math[_0x31fec0(0x648)](_0x28567f,0x1),0x4);}[_0xc3b14b(0x381)](){const _0x5ea308=_0xc3b14b;this[_0x5ea308(0x53c)]?.(),delete this[_0x5ea308(0x53c)];}[_0xc3b14b(0x5de)](){const _0xda5340=_0xc3b14b;this[_0xda5340(0x3d2)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0xda5340(0x3d2)]);}[_0xc3b14b(0x6bf)](_0xa92040){const _0x196daf=_0xc3b14b,_0xb9f845=JSON['stringify'](_0xa92040);return new TextEncoder()['encode'](_0xb9f845)[_0x196daf(0x576)];}[_0xc3b14b(0x3e3)](_0x23c26e,_0x723b1e){const _0x22e578=_0xc3b14b,_0x24a657=this[_0x22e578(0x6bf)](_0x23c26e),_0x423446=new Uint8Array(0x4),_0xb1da91=new Uint8Array(_0x24a657),_0x51bd2b=new Uint8Array(_0x723b1e);_0x423446['set'](new Uint8Array(new Uint32Array([_0xb1da91[_0x22e578(0x1c3)]])['buffer']));const _0x3e79ec=new Uint8Array(0x4+_0xb1da91[_0x22e578(0x1c3)]+_0x51bd2b[_0x22e578(0x1c3)]);return _0x3e79ec[_0x22e578(0x552)](_0x423446),_0x3e79ec['set'](_0xb1da91,0x4),_0x3e79ec[_0x22e578(0x552)](_0x51bd2b,0x4+_0xb1da91['length']),_0x3e79ec[_0x22e578(0x576)];}}class _0x4c08dc extends _0x4b3055{[_0xc3b14b(0x58d)];[_0xc3b14b(0x551)];[_0xc3b14b(0x5a2)];[_0xc3b14b(0x553)];[_0xc3b14b(0x59b)];['senderConnection'];[_0xc3b14b(0x208)];[_0xc3b14b(0x5c9)]=[];[_0xc3b14b(0x570)]=_0x1556a6();[_0xc3b14b(0x350)]=_0x1556a6();[_0xc3b14b(0x6c6)]=_0x1556a6();[_0xc3b14b(0x1a2)]=[];['systemTopic'];[_0xc3b14b(0x661)]=new Map();[_0xc3b14b(0x227)]=new Map();[_0xc3b14b(0x1ba)]=new Map();[_0xc3b14b(0x2bd)]=new Map();[_0xc3b14b(0x206)]=!0x1;constructor(_0x51655f,_0x36ff97,_0x5f1206,_0x169d2c,_0x3b86e2,_0x47f0a3,_0x350860,_0x1369d7){const _0x29d313=_0xc3b14b;super(_0x51655f,_0x36ff97,_0x5f1206),this[_0x29d313(0x58d)]=_0x169d2c,this[_0x29d313(0x551)]=_0x3b86e2,this['maxFps']=_0x47f0a3,this['maxBpp']=_0x350860,this['connectionConstructor']=_0x1369d7;}['registerPublisher'](_0x375ddd){const _0x58b6d5=_0xc3b14b;switch(_0x375ddd[_0x58b6d5(0x219)]()){case _0x164080[_0x58b6d5(0x697)]:case _0x164080[_0x58b6d5(0x25e)]:case _0x164080[_0x58b6d5(0x28a)]:case _0x164080[_0x58b6d5(0x22d)]:this[_0x58b6d5(0x661)][_0x58b6d5(0x552)](_0x375ddd[_0x58b6d5(0x2e1)](),_0x375ddd);break;case _0x164080[_0x58b6d5(0x3de)]:this[_0x58b6d5(0x1ba)]['set'](_0x375ddd[_0x58b6d5(0x2e1)](),_0x375ddd);}}['unregisterPublisher'](_0x288910){const _0x23d54f=_0xc3b14b;switch(_0x288910[_0x23d54f(0x219)]()){case _0x164080[_0x23d54f(0x697)]:case _0x164080[_0x23d54f(0x25e)]:case _0x164080[_0x23d54f(0x28a)]:case _0x164080[_0x23d54f(0x22d)]:this[_0x23d54f(0x661)]['delete'](_0x288910['getLabel']());break;case _0x164080[_0x23d54f(0x3de)]:this[_0x23d54f(0x1ba)][_0x23d54f(0x4eb)](_0x288910[_0x23d54f(0x2e1)]());}}[_0xc3b14b(0x39f)](_0x25372b){const _0x73ba=_0xc3b14b;switch(_0x25372b[_0x73ba(0x219)]()){case _0x164080[_0x73ba(0x697)]:case _0x164080[_0x73ba(0x25e)]:case _0x164080[_0x73ba(0x28a)]:case _0x164080['KeyValueDatabase']:{const _0x21bb0c=_0x25372b['subscribe'](_0x1b70a0=>{const _0x5de74a=_0x73ba;_0x37bd4a(_0x1b70a0,this[_0x5de74a(0x1ab)])&&_0x28aab5(_0x1b70a0,this[_0x5de74a(0x1d5)])&&this[_0x5de74a(0x157)](_0x1b70a0);});this[_0x73ba(0x227)][_0x73ba(0x552)](_0x25372b[_0x73ba(0x2e1)](),_0x21bb0c);break;}case _0x164080[_0x73ba(0x3de)]:{const _0x10153e=_0x25372b['subscribe'](({content:_0x57125b})=>{const _0x166fb9=_0x73ba;switch(_0x57125b[_0x166fb9(0x4e0)]){case _0xae809[_0x166fb9(0x5be)]:this[_0x166fb9(0x58c)](_0x57125b['track'],_0x57125b['stream'],_0x57125b[_0x166fb9(0x38b)],_0x57125b[_0x166fb9(0x2fc)]);break;case _0xae809[_0x166fb9(0x41f)]:this[_0x166fb9(0x176)](_0x57125b['track'],_0x57125b[_0x166fb9(0x60a)]);break;case _0xae809[_0x166fb9(0x49c)]:_0x57125b[_0x166fb9(0x38b)]&&this[_0x166fb9(0x3e9)](_0x57125b[_0x166fb9(0x60a)],_0x57125b[_0x166fb9(0x38b)]),_0x57125b[_0x166fb9(0x2fc)]&&this['setParams'](_0x57125b['stream'],_0x57125b['params']);}});this[_0x73ba(0x2bd)]['set'](_0x25372b[_0x73ba(0x2e1)](),_0x10153e);break;}}}[_0xc3b14b(0x532)](_0x3e730d){const _0x237f5c=_0xc3b14b;switch(_0x3e730d[_0x237f5c(0x219)]()){case _0x164080[_0x237f5c(0x697)]:case _0x164080[_0x237f5c(0x25e)]:case _0x164080['ObjectStore']:case _0x164080['KeyValueDatabase']:this[_0x237f5c(0x227)][_0x237f5c(0x30f)](_0x3e730d[_0x237f5c(0x2e1)]())?.(),this[_0x237f5c(0x227)][_0x237f5c(0x4eb)](_0x3e730d[_0x237f5c(0x2e1)]());break;case _0x164080['Media']:this[_0x237f5c(0x2bd)]['get'](_0x3e730d[_0x237f5c(0x2e1)]())?.(),this['mediaUnsubscribers'][_0x237f5c(0x4eb)](_0x3e730d[_0x237f5c(0x2e1)]());}}[_0xc3b14b(0x653)](){const _0x86e2a=_0xc3b14b;return[_0x164080[_0x86e2a(0x697)],_0x164080[_0x86e2a(0x3de)],_0x164080['PubSub'],_0x164080[_0x86e2a(0x28a)],_0x164080[_0x86e2a(0x22d)]];}[_0xc3b14b(0x359)](_0x4e9751){const _0x441a1f=_0xc3b14b;this[_0x441a1f(0x5ea)]=_0x4e9751;}[_0xc3b14b(0x680)](){const _0x3abbce=_0xc3b14b;delete this[_0x3abbce(0x5ea)];}async[_0xc3b14b(0x5fd)](){const _0x5a8c81=_0xc3b14b;this[_0x5a8c81(0x549)](),await this[_0x5a8c81(0x528)]();}[_0xc3b14b(0x50c)](){const _0x519aab=_0xc3b14b;this['listenerUnsubscribers'][_0x519aab(0x602)](_0x27ff46=>_0x27ff46()),this[_0x519aab(0x1a2)]=[],this['senderConnection']?.[_0x519aab(0x680)](),this[_0x519aab(0x198)]?.[_0x519aab(0x50c)](),delete this['senderConnection'],this[_0x519aab(0x5c9)][_0x519aab(0x602)](_0x238fe1=>_0x238fe1()),this[_0x519aab(0x5c9)]=[],this[_0x519aab(0x208)]?.[_0x519aab(0x680)](),this[_0x519aab(0x208)]?.[_0x519aab(0x50c)](),delete this['receiverConnection'];}[_0xc3b14b(0x476)](){const _0x3feb55=_0xc3b14b;return this[_0x3feb55(0x198)]?.[_0x3feb55(0x476)]()&&this[_0x3feb55(0x208)]?.[_0x3feb55(0x476)]()||!0x1;}['send'](_0x4d0048){const _0x268c7a=_0xc3b14b;if(!this[_0x268c7a(0x198)]||!this[_0x268c7a(0x476)]())throw new _0x666015(_0x666015[_0x268c7a(0x5c4)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this['senderConnection']?.[_0x268c7a(0x476)](),'receiverConnected':this[_0x268c7a(0x208)]?.[_0x268c7a(0x476)](),'localId':this[_0x268c7a(0x1ab)],'remoteId':this['remoteId'],'data':_0x4d0048});this['senderConnection']['send'](_0x4d0048);}['onMessage'](_0x215f5d){const _0x392a7a=_0xc3b14b;return this[_0x392a7a(0x570)][_0x392a7a(0x674)](_0x215f5d);}[_0xc3b14b(0x147)](_0x160d2d){const _0x4d49cf=_0xc3b14b;return this[_0x4d49cf(0x350)][_0x4d49cf(0x674)](({track:_0x32ba3d,stream:_0x47a5a6})=>_0x160d2d(_0x32ba3d,_0x47a5a6));}['onRemoveTrack'](_0xfa43e4){const _0x50ad46=_0xc3b14b;return this['removeTrackListeners'][_0x50ad46(0x674)](({track:_0x19d50c,stream:_0xe350ba})=>_0xfa43e4(_0x19d50c,_0xe350ba));}[_0xc3b14b(0x58c)](_0x459c7f,_0x341315,_0x3c7040,_0x20b819){const _0x377272=_0xc3b14b;this[_0x377272(0x198)]?.['addTrack'](_0x459c7f,_0x341315,_0x3c7040,_0x20b819);}['setPriority'](_0x2264fa,_0x7fe058){const _0x3115ab=_0xc3b14b;this['senderConnection']?.[_0x3115ab(0x3e9)](_0x2264fa,_0x7fe058);}[_0xc3b14b(0x6d9)](_0xbe26eb,_0x24a2a2){const _0x32e855=_0xc3b14b;this[_0x32e855(0x198)]?.[_0x32e855(0x6d9)](_0xbe26eb,_0x24a2a2);}[_0xc3b14b(0x176)](_0x4b962c,_0x231936){const _0x1cf1eb=_0xc3b14b;this[_0x1cf1eb(0x198)]?.[_0x1cf1eb(0x176)](_0x4b962c,_0x231936);}async[_0xc3b14b(0x6da)](_0x4e1a03){const _0x182b64=_0xc3b14b;_0x4eca14[_0x182b64(0x3e4)](_0x46b6b6[_0x182b64(0x15d)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0x182b64(0x1ab)],_0x4e1a03);const {content:_0x14667b}=_0x4e1a03;switch(_0x14667b[_0x182b64(0x3e0)]){case _0x2d9c6b[_0x182b64(0x4fa)]:await this[_0x182b64(0x1db)](_0x14667b);break;case _0x2d9c6b[_0x182b64(0x2a4)]:await this[_0x182b64(0x687)](_0x14667b);break;case _0x2d9c6b[_0x182b64(0x1f7)]:this['handleSuccess']();break;case _0x2d9c6b[_0x182b64(0x46f)]:await this[_0x182b64(0x66d)](_0x14667b);break;case _0x2d9c6b[_0x182b64(0x4ae)]:this[_0x182b64(0x1e9)](_0x14667b);break;case _0x2d9c6b[_0x182b64(0x34e)]:await this[_0x182b64(0x528)]();}}['handleRemediationSystemEvents'](_0x20d70e){const _0x4a17e7=_0xc3b14b;this[_0x4a17e7(0x198)]?.[_0x4a17e7(0x4aa)](_0x20d70e[_0x4a17e7(0x470)][_0x4a17e7(0x525)]);}[_0xc3b14b(0x3b6)](){return this['connectionType'];}['setConnectionType'](_0x2cc320){const _0x177e54=_0xc3b14b;this[_0x177e54(0x551)]=_0x2cc320,this[_0x177e54(0x198)]?.[_0x177e54(0x5bc)](_0x2cc320),this[_0x177e54(0x208)]?.[_0x177e54(0x5bc)](_0x2cc320);}async[_0xc3b14b(0x3a6)](){const _0x507de9=_0xc3b14b;await this['senderConnection']?.[_0x507de9(0x3a6)](),await this[_0x507de9(0x208)]?.[_0x507de9(0x3a6)]();}[_0xc3b14b(0x549)](){const _0x2f5758=_0xc3b14b;this[_0x2f5758(0x1a2)]['push'](this[_0x2f5758(0x18a)](_0x26cf67=>{const _0x28cde5=_0x2f5758;_0x28aab5(_0x26cf67,this[_0x28cde5(0x1ab)])&&0x0!==_0x26cf67[_0x28cde5(0x3d7)]&&this[_0x28cde5(0x661)]['get'](_0x26cf67['topicLabel'])?.[_0x28cde5(0x69e)](_0x26cf67);})),this[_0x2f5758(0x1a2)][_0x2f5758(0x16d)](this[_0x2f5758(0x147)]((_0x959fa3,_0x25180e)=>{const _0x2a5799=_0x2f5758,_0x3295b1=_0x2d69a1(_0x164080[_0x2a5799(0x3de)],_0x25180e['id'],this[_0x2a5799(0x1d5)]);this[_0x2a5799(0x1ba)]['get'](_0x3295b1)?.[_0x2a5799(0x69e)]({'topicLabel':_0x3295b1,'sourceId':this[_0x2a5799(0x1d5)],'contentType':_0x164080[_0x2a5799(0x3de)],'content':{'action':_0xae809[_0x2a5799(0x575)],'track':_0x959fa3,'stream':_0x25180e,'providerId':this[_0x2a5799(0x1d5)]}});})),this[_0x2f5758(0x1a2)][_0x2f5758(0x16d)](this['onRemoveTrack']((_0x4dcd3c,_0x39eced)=>{const _0x48ca67=_0x2f5758,_0x376126=_0x2d69a1(_0x164080[_0x48ca67(0x3de)],_0x39eced['id'],this[_0x48ca67(0x1d5)]);this['mediaTopics'][_0x48ca67(0x30f)](_0x376126)?.[_0x48ca67(0x69e)]({'topicLabel':_0x376126,'sourceId':this[_0x48ca67(0x1d5)],'contentType':_0x164080[_0x48ca67(0x3de)],'content':{'action':_0xae809[_0x48ca67(0x666)],'track':_0x4dcd3c,'stream':_0x39eced,'providerId':this[_0x48ca67(0x1d5)]}});}));}[_0xc3b14b(0x66d)]({candidates:_0x5b42cd,origin:_0x4833f8,version:_0x440d6a}){const _0x395bc6=_0xc3b14b;return _0x4833f8===_0x46b2a2[_0x395bc6(0x23b)]?(this[_0x395bc6(0x208)]||this['createReceiverConnection'](),this['receiverConnection'][_0x395bc6(0x33b)](_0x5b42cd,_0x440d6a)):this[_0x395bc6(0x198)][_0x395bc6(0x33b)](_0x5b42cd,_0x440d6a);}async[_0xc3b14b(0x528)](){const _0x435a42=_0xc3b14b;this[_0x435a42(0x198)]||this['createSenderConnection'](),await this[_0x435a42(0x198)][_0x435a42(0x528)]();}async[_0xc3b14b(0x1db)]({offer:_0x341e6d,version:_0x48696b}){const _0x342e69=_0xc3b14b;this[_0x342e69(0x208)]||this[_0x342e69(0x2ad)](),await this[_0x342e69(0x208)]['handleOffer'](_0x341e6d,_0x48696b);}async[_0xc3b14b(0x687)]({answer:_0x1a6abd,version:_0x26a5d6}){const _0xc77b56=_0xc3b14b;if(!this[_0xc77b56(0x198)])throw new _0x666015(_0x666015[_0xc77b56(0x5c4)][_0xc77b56(0x4d4)],{'message':_0xc77b56(0x56d),'localId':this['localId'],'remoteId':this[_0xc77b56(0x1d5)],'answer':_0x1a6abd});await this[_0xc77b56(0x198)][_0xc77b56(0x687)](_0x1a6abd,_0x26a5d6);}[_0xc3b14b(0x1d0)](){const _0x3818b5=_0xc3b14b;if(!this[_0x3818b5(0x208)])throw new _0x666015(_0x666015['codes']['ConnectionNotinitialized'],{'message':_0x3818b5(0x1e8),'localId':this[_0x3818b5(0x1ab)],'remoteId':this[_0x3818b5(0x1d5)]});this[_0x3818b5(0x208)]['handleSuccess'](),this[_0x3818b5(0x206)]||this[_0x3818b5(0x551)]!==_0x668c9e['Optimization']||(this[_0x3818b5(0x206)]=!0x0,this['systemTopic']?.[_0x3818b5(0x69e)]({'sourceId':this[_0x3818b5(0x1d5)],'destinationIds':[this[_0x3818b5(0x1ab)]],'messageType':_0x4e5dac[_0x3818b5(0x6bc)],'content':{'type':_0x2d9c6b['OptimizationConnectionSuccess']}}));}[_0xc3b14b(0x1e9)](_0x55ca7d){const _0x19524b=_0xc3b14b;this[_0x19524b(0x208)]||this['createReceiverConnection'](),this[_0x19524b(0x208)]['handleNeedRestart'](_0x55ca7d['version']);}['createSenderConnection'](){const _0x4a8838=_0xc3b14b;this[_0x4a8838(0x198)]=new _0x274b09(this[_0x4a8838(0x1d9)],this[_0x4a8838(0x1ab)],this[_0x4a8838(0x1d5)],this[_0x4a8838(0x58d)],this['connectionType'],this[_0x4a8838(0x5a2)],this[_0x4a8838(0x553)],this['connectionConstructor']),this[_0x4a8838(0x198)][_0x4a8838(0x359)](this['systemTopic']);}[_0xc3b14b(0x2ad)](){const _0x41af50=_0xc3b14b;this[_0x41af50(0x208)]=new _0xa6015a(this[_0x41af50(0x1d9)],this['localId'],this[_0x41af50(0x1d5)],this['iceServers'],this[_0x41af50(0x551)],this[_0x41af50(0x59b)]),this['receiverConnection'][_0x41af50(0x359)](this[_0x41af50(0x5ea)]),this[_0x41af50(0x5c9)][_0x41af50(0x16d)](this[_0x41af50(0x208)][_0x41af50(0x18a)](_0x2ec421=>this[_0x41af50(0x570)][_0x41af50(0x69e)](_0x2ec421))),this[_0x41af50(0x5c9)]['push'](this['receiverConnection'][_0x41af50(0x147)]((_0x25e844,_0x31da01)=>this['trackListeners'][_0x41af50(0x69e)]({'track':_0x25e844,'stream':_0x31da01}))),this[_0x41af50(0x5c9)][_0x41af50(0x16d)](this[_0x41af50(0x208)][_0x41af50(0x2f9)]((_0x1cdeb3,_0x513382)=>this[_0x41af50(0x6c6)][_0x41af50(0x69e)]({'track':_0x1cdeb3,'stream':_0x513382})));}}class _0x363102{['localId'];[_0xc3b14b(0x1b3)];[_0xc3b14b(0x699)];[_0xc3b14b(0x493)]=new Map();[_0xc3b14b(0x570)]=_0x1556a6();[_0xc3b14b(0x1da)];['dataTopics']=new Map();[_0xc3b14b(0x227)]=new Map();['retryQueues']=new Map();constructor(_0x32120f,_0x49e3e2,_0x286794){const _0x2cf38a=_0xc3b14b;this[_0x2cf38a(0x1ab)]=_0x32120f,this['messageBuffer']=_0x49e3e2,this[_0x2cf38a(0x699)]=_0x286794,this['messageUnsubscriber']=this[_0x2cf38a(0x18a)](_0x58465b=>{const _0x24a29f=_0x2cf38a;this['messageBuffer'][_0x24a29f(0x20c)](_0x58465b[_0x24a29f(0x5d8)])||(_0x28aab5(_0x58465b,this[_0x24a29f(0x1ab)])&&0x0!==_0x58465b['topicLabel']&&(this['messageBuffer'][_0x24a29f(0x624)](_0x58465b['uuid']),this['dataTopics'][_0x24a29f(0x30f)](_0x58465b['topicLabel'])?.[_0x24a29f(0x69e)](_0x58465b)),_0x58465b[_0x24a29f(0x673)]&&this['send'](_0x58465b));});}[_0xc3b14b(0x50c)](){const _0x509229=_0xc3b14b;this[_0x509229(0x1da)]?.();}['addConnection'](_0x529e0c){const _0x3dfc32=_0xc3b14b,_0x3a48c7=_0x529e0c[_0x3dfc32(0x18a)](_0x13c82c=>{const _0x2fd054=_0x3dfc32;this[_0x2fd054(0x570)]['publish'](_0x13c82c);});this['connections']['set'](_0x529e0c,_0x3a48c7),this[_0x3dfc32(0x6d5)][_0x3dfc32(0x552)](_0x529e0c[_0x3dfc32(0x4a4)](),function(_0x58afa4,_0x354dcf=!0x1){let _0x232de8=new Map();const _0x44fbe7=_0x1b9259(_0x58afa4,_0x354dcf,function(_0x3b1979){const _0x3f8159=a0_0x442c;_0x452e78(_0x3b1979)&&_0x232de8[_0x3f8159(0x4eb)](_0x3b1979[_0x3f8159(0x40f)]+'-'+(_0x3b1979['destinationIds']??[])+'-'+_0x3b1979[_0x3f8159(0x33a)]+'-'+_0x3b1979[_0x3f8159(0x470)][_0x3f8159(0x3e0)]);},function(_0x211ace){return!!function(_0x38ec56){const _0x3e0758=a0_0x442c,_0x863aba=_0x38ec56[_0x3e0758(0x3e2)];if(!_0x452e78(_0x863aba))return!0x1;const _0xb91352=_0x863aba[_0x3e0758(0x40f)]+'-'+(_0x863aba['destinationIds']??[])+'-'+_0x863aba[_0x3e0758(0x33a)]+'-'+_0x863aba[_0x3e0758(0x470)][_0x3e0758(0x3e0)],_0x580b89={'version':_0x863aba[_0x3e0758(0x470)][_0x3e0758(0x2e5)],'element':_0x38ec56},_0x57b857=_0x232de8[_0x3e0758(0x30f)](_0xb91352);return _0x57b857?(_0x57b857[_0x3e0758(0x2e5)]>=_0x863aba['content'][_0x3e0758(0x2e5)]||(_0x57b857[_0x3e0758(0x28c)][_0x3e0758(0x419)]&&(_0x57b857[_0x3e0758(0x28c)][_0x3e0758(0x419)][_0x3e0758(0x3d3)]=_0x38ec56,_0x38ec56[_0x3e0758(0x419)]=_0x57b857[_0x3e0758(0x28c)][_0x3e0758(0x419)]),_0x57b857[_0x3e0758(0x28c)][_0x3e0758(0x3d3)]&&(_0x57b857[_0x3e0758(0x28c)]['next'][_0x3e0758(0x419)]=_0x38ec56,_0x38ec56['next']=_0x57b857['element'][_0x3e0758(0x3d3)]),_0x57b857[_0x3e0758(0x28c)]===_0x44fbe7[_0x3e0758(0x2c6)]&&(_0x44fbe7[_0x3e0758(0x2c6)]=_0x38ec56),_0x57b857[_0x3e0758(0x28c)]===_0x44fbe7['tail']&&(_0x44fbe7[_0x3e0758(0x589)]=_0x38ec56),_0x232de8[_0x3e0758(0x552)](_0xb91352,_0x580b89)),!0x0):(_0x232de8[_0x3e0758(0x552)](_0xb91352,_0x580b89),!0x1);}(_0x211ace);},function(){const _0x2ddc8c=a0_0x442c;_0x232de8[_0x2ddc8c(0x1e5)]();});function _0x452e78(_0x346aec){const _0x3a91d6=a0_0x442c;if(_0x346aec&&_0x3a91d6(0x409)==typeof _0x346aec&&_0x346aec['hasOwnProperty'](_0x3a91d6(0x470))&&_0x346aec[_0x3a91d6(0x4d1)](_0x3a91d6(0x33a))&&_0x346aec['hasOwnProperty']('sourceId')){const _0x3a4c4d=_0x346aec;if(_0x3a4c4d[_0x3a91d6(0x470)]&&'object'==typeof _0x3a4c4d[_0x3a91d6(0x470)]&&_0x3a4c4d[_0x3a91d6(0x470)][_0x3a91d6(0x4d1)](_0x3a91d6(0x2e5))&&_0x3a4c4d[_0x3a91d6(0x470)][_0x3a91d6(0x4d1)](_0x3a91d6(0x3e0)))return!0x0;}return!0x1;}return _0x44fbe7;}(new _0x6e55cf(_0x1b7d5f=>_0x529e0c[_0x3dfc32(0x157)](_0x1b7d5f),()=>_0x1ee6de['wait'](0x64))));}[_0xc3b14b(0x328)](_0x3523d6){const _0x43e7fb=_0xc3b14b;this['connections'][_0x43e7fb(0x30f)](_0x3523d6)?.(),this[_0x43e7fb(0x493)]['delete'](_0x3523d6),this[_0x43e7fb(0x6d5)][_0x43e7fb(0x30f)](_0x3523d6[_0x43e7fb(0x4a4)]())?.[_0x43e7fb(0x1e5)](),this[_0x43e7fb(0x6d5)][_0x43e7fb(0x4eb)](_0x3523d6[_0x43e7fb(0x4a4)]());}['isConnected'](_0x4b4548){const _0x3901dc=_0xc3b14b;return _0x4eca14[_0x3901dc(0x3e4)](_0x46b6b6[_0x3901dc(0x63d)],_0x3901dc(0x502),this[_0x3901dc(0x1ab)],this['connections']['keys']()),0x0!==this[_0x3901dc(0x493)][_0x3901dc(0x6cd)]&&(Array[_0x3901dc(0x223)](this[_0x3901dc(0x493)][_0x3901dc(0x1e1)]())[_0x3901dc(0x4c7)](_0x5f3b8c=>_0x5f3b8c[_0x3901dc(0x4a4)]()===_0x4b4548)?.[_0x3901dc(0x476)]()??!0x1);}[_0xc3b14b(0x6b7)](_0x3d14af){const _0x396113=_0xc3b14b;this['dataTopics'][_0x396113(0x552)](_0x3d14af[_0x396113(0x2e1)](),_0x3d14af);}[_0xc3b14b(0x5a9)](_0x480a6c){const _0x273329=_0xc3b14b;this[_0x273329(0x661)][_0x273329(0x4eb)](_0x480a6c[_0x273329(0x2e1)]());}[_0xc3b14b(0x39f)](_0x14a9aa){const _0x5a95f5=_0xc3b14b,_0xf38635=_0x14a9aa[_0x5a95f5(0x674)](this[_0x5a95f5(0x157)]['bind'](this));this['dataUnsubscribers'][_0x5a95f5(0x552)](_0x14a9aa[_0x5a95f5(0x2e1)](),_0xf38635);}[_0xc3b14b(0x532)](_0xd0b6ef){const _0x57abf6=_0xc3b14b;this['dataUnsubscribers'][_0x57abf6(0x30f)](_0xd0b6ef[_0x57abf6(0x2e1)]())?.(),this['dataUnsubscribers'][_0x57abf6(0x4eb)](_0xd0b6ef[_0x57abf6(0x2e1)]());}['getSupportedContentTypes'](){const _0xdfc1f1=_0xc3b14b;return[_0x164080['Data'],_0x164080[_0xdfc1f1(0x25e)],_0x164080[_0xdfc1f1(0x28a)],_0x164080['KeyValueDatabase']];}[_0xc3b14b(0x157)](_0x2545db){const _0x1ed737=_0xc3b14b;if(!0x1===_0x2545db['retry']){if(_0x2545db[_0x1ed737(0x673)]||!_0x2545db[_0x1ed737(0x1cc)]||0x1!==_0x2545db[_0x1ed737(0x1cc)]['length'])throw new _0x666015(_0x666015[_0x1ed737(0x5c4)][_0x1ed737(0x1ed)],{'message':_0x1ed737(0x1bb),'localId':this['localId']});if(!this['isConnected'](_0x2545db[_0x1ed737(0x1cc)][0x0]))throw new _0xac3a39(_0x1ed737(0x324));}const _0x3310f2=_0x2545db[_0x1ed737(0x52b)]??[];try{const {filteredDestinationIds:_0x4c840d,extendedRecipients:_0xb91996}=this[_0x1ed737(0x44c)](_0x2545db,_0x3310f2);_0x2545db[_0x1ed737(0x1cc)]=_0x4c840d,_0x2545db['recipients']=_0xb91996;}catch(_0x2955c5){if(_0x2955c5 instanceof _0xac3a39)return void _0x4eca14[_0x1ed737(0x3e4)](_0x46b6b6[_0x1ed737(0x15d)],_0x1ed737(0x63e),_0x1ed737(0x19a),_0x2545db,_0x2955c5['message']);}const _0x5ce9a2=this[_0x1ed737(0x146)](_0x2545db);this[_0x1ed737(0x14f)](_0x2545db,_0x5ce9a2),_0x2545db[_0x1ed737(0x673)]=_0x5ce9a2;const _0x471902=this['getConnectionDestinations'](_0x2545db,_0x3310f2);for(const _0x256fd4 of _0x471902){const _0x97145e=this[_0x1ed737(0x6d5)][_0x1ed737(0x30f)](_0x256fd4['getRemoteId']());if(!_0x97145e)throw new _0x666015(_0x666015[_0x1ed737(0x5c4)]['ConnectionNoRetryQueue'],{'message':_0x1ed737(0x5bb),'localId':this['localId'],'remoteId':_0x256fd4[_0x1ed737(0x4a4)](),'data':_0x2545db});_0x97145e[_0x1ed737(0x16d)](_0x2545db);}}[_0xc3b14b(0x4a4)](){return'';}['getLocalId'](){const _0x51d6eb=_0xc3b14b;return this[_0x51d6eb(0x1ab)];}[_0xc3b14b(0x18a)](_0x3c5cfa){const _0x2e38e1=_0xc3b14b;return this[_0x2e38e1(0x570)]['subscribe'](_0x3c5cfa);}[_0xc3b14b(0x44c)](_0x1da3c3,_0x9e668e){const _0x436ab5=_0xc3b14b,_0x1f2b93={'filteredDestinationIds':_0x1da3c3['destinationIds'],'extendedRecipients':_0x1da3c3[_0x436ab5(0x52b)]};if(!_0x1da3c3[_0x436ab5(0x673)])return _0x1f2b93;const _0xb3047c=Array[_0x436ab5(0x223)](this['connections'][_0x436ab5(0x1e1)]())['filter'](_0x1ecc3c=>_0x1ecc3c['getConnectionType']()===_0x668c9e[_0x436ab5(0x3da)]||_0x1ecc3c[_0x436ab5(0x476)]())[_0x436ab5(0x3c0)](_0x295541=>_0x295541[_0x436ab5(0x4a4)]());if(_0xb3047c[_0x436ab5(0x50e)]((_0xa2c823,_0x309df3)=>_0xa2c823&&_0x1da3c3[_0x436ab5(0x52b)][_0x436ab5(0x3f2)](_0x309df3),!0x0))throw new _0xac3a39(_0x436ab5(0x611));if(_0x1da3c3['destinationIds']){const _0x52c3f4=_0x1da3c3['destinationIds']['filter'](_0xdf82de=>_0xdf82de!==this['localId']&&!_0x1da3c3['recipients'][_0x436ab5(0x3f2)](_0xdf82de));if(0x0===_0x52c3f4['length'])throw new _0xac3a39(_0x436ab5(0x430));_0x1f2b93[_0x436ab5(0x216)]=_0x52c3f4;}return _0x1f2b93['extendedRecipients']=[...new Set([..._0x9e668e,..._0xb3047c,this[_0x436ab5(0x1ab)]])],_0x1f2b93;}[_0xc3b14b(0x14f)](_0x430731,_0x2bca01=!0x1){const _0x4c5fa6=_0xc3b14b;if(0x0===_0x430731[_0x4c5fa6(0x3d7)]&&!_0x37bd4a(_0x430731,this['localId'])&&_0x430731['propagate']){const _0x2f5388=_0x23567d(_0x430731,this['localId']);_0x4eca14['logRaw'](_0x46b6b6[_0x4c5fa6(0x682)],_0x430731[_0x4c5fa6(0x5d8)]+'\x20-\x20Sending\x20propagation\x20('+_0x2bca01+')\x20'+_0x2f5388,_0x430731,_0x2bca01);}}[_0xc3b14b(0x146)](_0x47d54){const _0x361c37=_0xc3b14b;if(_0x47d54[_0x361c37(0x1cc)]&&_0x47d54[_0x361c37(0x673)]){const _0x29647d=Array[_0x361c37(0x223)](this[_0x361c37(0x493)][_0x361c37(0x1e1)]())[_0x361c37(0x4c0)](_0x567e18=>_0x567e18['getConnectionType']()===_0x668c9e[_0x361c37(0x3da)]||_0x567e18[_0x361c37(0x476)]())[_0x361c37(0x3c0)](_0x17c325=>_0x17c325[_0x361c37(0x4a4)]());return!_0x47d54[_0x361c37(0x1cc)][_0x361c37(0x50e)]((_0x7db32d,_0x80da91)=>_0x7db32d&&_0x29647d['includes'](_0x80da91),!0x0);}return _0x47d54['propagate']??!0x1;}['getConnectionDestinations'](_0x39444c,_0x58e78b){const _0x37e192=_0xc3b14b;if(_0x39444c[_0x37e192(0x673)]&&_0x39444c['destinationIds']){const _0x4c1ecc=Array['from'](this['connections'][_0x37e192(0x1e1)]())['filter'](_0x1068a9=>_0x1068a9[_0x37e192(0x3b6)]()===_0x668c9e[_0x37e192(0x3da)]||_0x1068a9[_0x37e192(0x476)]())['map'](_0x4f51d2=>_0x4f51d2[_0x37e192(0x4a4)]()),_0x7f27b7=new Set(),_0x3b6b3c=_0x39444c[_0x37e192(0x40f)]===this[_0x37e192(0x1ab)]?0x3:0x1;return _0x39444c[_0x37e192(0x1cc)][_0x37e192(0x602)](_0x4a4651=>{const _0x136374=_0x37e192,_0x423823=this[_0x136374(0x699)]['getClosestUsers'](_0x4c1ecc,_0x4a4651);let _0x32c83e=0x0,_0x1dd22d=0x0;_0x423823['forEach'](_0x47e2ee=>{const _0x246a84=_0x136374;if(_0x32c83e>=_0x3b6b3c)return;const _0x65ea4e=Array[_0x246a84(0x223)](this[_0x246a84(0x493)]['keys']())['find'](_0x5c72d0=>_0x5c72d0['getRemoteId']()===_0x47e2ee);if(_0x65ea4e){if(_0x65ea4e[_0x246a84(0x3b6)]()===_0x668c9e['Core']&&_0x1dd22d>0x0)return void(_0x1dd22d-=0x1);_0x7f27b7[_0x246a84(0x14c)](_0x65ea4e),_0x65ea4e[_0x246a84(0x3b6)]()===_0x668c9e[_0x246a84(0x3cb)]&&(_0x1dd22d+=0x1),_0x32c83e+=0x1;}});}),Array[_0x37e192(0x223)](_0x7f27b7);}return Array[_0x37e192(0x223)](this['connections'][_0x37e192(0x1e1)]())[_0x37e192(0x4c0)](_0x5935d7=>{const _0x196faf=_0x37e192;return _0x2f2285=_0x5935d7[_0x196faf(0x4a4)](),!_0x58e78b[_0x196faf(0x3f2)](_0x2f2285)&&(_0x28aab5(_0x39444c,_0x2f2285)||_0x39444c[_0x196faf(0x673)])&&(!_0x39444c[_0x196faf(0x673)]||_0x5935d7[_0x196faf(0x476)]()||_0x5935d7[_0x196faf(0x3b6)]()===_0x668c9e['Core']);var _0x2f2285;});}}class _0x2a13ec{[_0xc3b14b(0x1ab)];[_0xc3b14b(0x1b3)];[_0xc3b14b(0x493)]=new Map();[_0xc3b14b(0x5ea)];constructor(_0x3a1dad,_0x283271){const _0x581c67=_0xc3b14b;this[_0x581c67(0x1ab)]=_0x3a1dad,this['messageBuffer']=_0x283271;}[_0xc3b14b(0x50c)](){}[_0xc3b14b(0x157)](_0x233705){const _0x3773e3=_0xc3b14b;for(const _0x1dd451 of this[_0x3773e3(0x493)][_0x3773e3(0x1e1)]())try{return void _0x1dd451[_0x3773e3(0x157)]({'retry':!0x1,..._0x233705});}catch(_0x280928){_0x280928 instanceof _0xac3a39||_0x4eca14['log'](_0x46b6b6[_0x3773e3(0x627)],_0x3773e3(0x517)+_0x1dd451,_0x280928,_0x233705);}_0x4eca14['log'](_0x46b6b6[_0x3773e3(0x627)],_0x3773e3(0x479));}[_0xc3b14b(0x377)](_0x2233f8){const _0x4be2ea=_0xc3b14b,_0x4c5791=_0x2233f8[_0x4be2ea(0x18a)](_0x1444b6=>{const _0x1c5056=_0x4be2ea;this['messageBuffer'][_0x1c5056(0x20c)](_0x1444b6['uuid'])||0x0===_0x1444b6[_0x1c5056(0x3d7)]&&(this[_0x1c5056(0x1b3)][_0x1c5056(0x624)](_0x1444b6[_0x1c5056(0x5d8)]),_0x28aab5(_0x1444b6,this[_0x1c5056(0x1ab)])&&this[_0x1c5056(0x5ea)]?.[_0x1c5056(0x69e)](_0x1444b6));});this[_0x4be2ea(0x493)][_0x4be2ea(0x552)](_0x2233f8,_0x4c5791);}[_0xc3b14b(0x328)](_0x39d6a5){const _0xda2b27=_0xc3b14b;this[_0xda2b27(0x493)][_0xda2b27(0x30f)](_0x39d6a5)?.(),this[_0xda2b27(0x493)][_0xda2b27(0x4eb)](_0x39d6a5);}['getLocalId'](){return this['localId'];}[_0xc3b14b(0x4a4)](){return'';}[_0xc3b14b(0x653)](){return[_0x164080['Data']];}[_0xc3b14b(0x476)](){const _0x27ee3f=_0xc3b14b;throw new Error(_0x27ee3f(0x2c8));}[_0xc3b14b(0x359)](_0x35fa31){const _0x508906=_0xc3b14b;this[_0x508906(0x5ea)]=_0x35fa31;}[_0xc3b14b(0x680)](){delete this['systemTopic'];}}class _0xe28c5{[_0xc3b14b(0x576)]=new Map();[_0xc3b14b(0x5b6)];constructor(){const _0x248ac1=_0xc3b14b;this['unsubscribeHandler']=_0x1ee6de[_0x248ac1(0x5d7)](()=>{const _0x216ece=_0x248ac1;for(const [_0x3dea4b,_0x255a3c]of this[_0x216ece(0x576)][_0x216ece(0x4d5)]())Date['now']()-_0x255a3c>0x124f80&&this['buffer']['delete'](_0x3dea4b);},0x1d4c0);}[_0xc3b14b(0x50c)](){this['unsubscribeHandler']();}[_0xc3b14b(0x624)](_0x5a8e88){const _0x1a1109=_0xc3b14b;this['buffer'][_0x1a1109(0x552)](_0x5a8e88,Date[_0x1a1109(0x3c8)]());}['hasMessage'](_0xe7bf2b){const _0x161943=_0xc3b14b;return this[_0x161943(0x576)][_0x161943(0x62d)](_0xe7bf2b);}}class _0x5a0c1f{[_0xc3b14b(0x657)];[_0xc3b14b(0x1f4)];[_0xc3b14b(0x58d)];[_0xc3b14b(0x5a2)];['maxBpp'];[_0xc3b14b(0x59b)];[_0xc3b14b(0x493)]=new Map();[_0xc3b14b(0x622)];[_0xc3b14b(0x1f3)];['signalingServer'];[_0xc3b14b(0x1b3)];constructor(_0x543f33,_0x91cdbf,_0xc203d7,_0x5e1511,_0x58f635,_0x5f0fa6,_0x265e34){const _0x26449a=_0xc3b14b;this['configs']=_0x543f33,this[_0x26449a(0x1f4)]=_0x91cdbf,this[_0x26449a(0x58d)]=_0xc203d7,this[_0x26449a(0x5a2)]=_0x5e1511,this[_0x26449a(0x553)]=_0x58f635,this[_0x26449a(0x59b)]=_0x265e34,this['messageBuffer']=new _0xe28c5(),this[_0x26449a(0x1f3)]=new _0x363102(this['configs'][_0x26449a(0x1ab)],this['messageBuffer'],_0x5f0fa6),this[_0x26449a(0x69f)]=new _0x2c1d66(this['configs'][_0x26449a(0x1dc)],this['configs'][_0x26449a(0x1d9)],this[_0x26449a(0x657)][_0x26449a(0x1ab)],_0x26449a(0x1e2),this[_0x26449a(0x1f4)]),this[_0x26449a(0x622)]=new _0x2a13ec(this[_0x26449a(0x657)][_0x26449a(0x1ab)],this[_0x26449a(0x1b3)]),this[_0x26449a(0x622)]['addConnection'](this[_0x26449a(0x1f3)]),this[_0x26449a(0x622)][_0x26449a(0x377)](this['signalingServer']),this[_0x26449a(0x657)][_0x26449a(0x1e0)][_0x26449a(0x600)](this['connectionPool']);}[_0xc3b14b(0x50c)](){const _0x1a134e=_0xc3b14b;this[_0x1a134e(0x1b3)][_0x1a134e(0x50c)](),this[_0x1a134e(0x493)][_0x1a134e(0x602)]((_0x592771,_0x5cb26e)=>this[_0x1a134e(0x196)](_0x5cb26e)),this[_0x1a134e(0x657)][_0x1a134e(0x1e0)][_0x1a134e(0x33d)](this[_0x1a134e(0x622)]),this[_0x1a134e(0x622)][_0x1a134e(0x328)](this['signalingServer']),this[_0x1a134e(0x622)][_0x1a134e(0x328)](this[_0x1a134e(0x1f3)]),this[_0x1a134e(0x622)][_0x1a134e(0x50c)](),this[_0x1a134e(0x69f)][_0x1a134e(0x50c)](),this['connectionGroup'][_0x1a134e(0x50c)]();}async[_0xc3b14b(0x268)](){const _0x2e028d=_0xc3b14b;await this[_0x2e028d(0x69f)]['connect']();}async[_0xc3b14b(0x2eb)](_0x39cac6,_0x10da66=_0x668c9e[_0xc3b14b(0x3da)]){const _0xeca9bd=_0xc3b14b;if(this[_0xeca9bd(0x493)][_0xeca9bd(0x62d)](_0x39cac6)){if(this[_0xeca9bd(0x493)][_0xeca9bd(0x30f)](_0x39cac6)?.[_0xeca9bd(0x3b6)]()===_0x668c9e[_0xeca9bd(0x3cb)]&&_0x10da66===_0x668c9e[_0xeca9bd(0x3da)])return void this[_0xeca9bd(0x493)][_0xeca9bd(0x30f)](_0x39cac6)?.[_0xeca9bd(0x5bc)](_0x668c9e['Core']);throw new _0x666015(_0x666015[_0xeca9bd(0x5c4)]['RemoteConnectionExists'],{'localId':this[_0xeca9bd(0x657)][_0xeca9bd(0x1ab)],'remoteId':_0x39cac6});}const _0x160602=new _0x4c08dc(this['configs']['clusterId'],this[_0xeca9bd(0x657)][_0xeca9bd(0x1ab)],_0x39cac6,this['iceServers'],_0x10da66,this['maxFps'],this[_0xeca9bd(0x553)],this[_0xeca9bd(0x59b)]);this[_0xeca9bd(0x493)]['set'](_0x39cac6,_0x160602),this[_0xeca9bd(0x1f3)][_0xeca9bd(0x377)](_0x160602),this[_0xeca9bd(0x657)][_0xeca9bd(0x1e0)][_0xeca9bd(0x600)](_0x160602),this[_0xeca9bd(0x657)][_0xeca9bd(0x1e0)][_0xeca9bd(0x341)](_0x39cac6),await _0x160602['connect']();}[_0xc3b14b(0x1fe)](){const _0x5d408b=_0xc3b14b;return this[_0x5d408b(0x1f3)];}[_0xc3b14b(0x3a5)](_0x1d52df){const _0x49f438=_0xc3b14b;if(!this[_0x49f438(0x493)][_0x49f438(0x62d)](_0x1d52df))throw new _0x666015(_0x666015[_0x49f438(0x5c4)][_0x49f438(0x303)],{'localId':this['configs'][_0x49f438(0x1ab)],'remoteId':_0x1d52df});return this[_0x49f438(0x493)][_0x49f438(0x30f)](_0x1d52df);}[_0xc3b14b(0x253)](_0xb3f72d){const _0x5a27b2=_0xc3b14b,_0x1fbe1f=Array['from'](this[_0x5a27b2(0x493)][_0x5a27b2(0x59d)]());return _0xb3f72d?_0x1fbe1f[_0x5a27b2(0x4c0)](_0xb3f72d):_0x1fbe1f;}async[_0xc3b14b(0x3a6)](_0x382991){const _0x3f0f10=_0xc3b14b,_0x158b3a=this[_0x3f0f10(0x493)][_0x3f0f10(0x30f)](_0x382991);_0x158b3a&&_0x158b3a[_0x3f0f10(0x476)]()&&await _0x158b3a[_0x3f0f10(0x3a6)]();}[_0xc3b14b(0x4c6)](_0x5644f7){const _0x42a6ac=_0xc3b14b;if(_0x5644f7['messageType']!==_0x4e5dac[_0x42a6ac(0x6bc)]||_0x5644f7[_0x42a6ac(0x673)])try{this[_0x42a6ac(0x1f3)][_0x42a6ac(0x157)](_0x5644f7);}catch(_0x1eb7cd){if(_0x1eb7cd instanceof _0xac3a39)return;throw _0x1eb7cd;}else this[_0x42a6ac(0x622)]['send'](_0x5644f7);}async[_0xc3b14b(0x6da)](_0x20f592){const _0x2ed239=_0xc3b14b;switch(_0x20f592[_0x2ed239(0x470)]['type']){case _0x2d9c6b['Disconnect']:case _0x2d9c6b[_0x2ed239(0x1a5)]:case _0x2d9c6b[_0x2ed239(0x29b)]:return;}if(!_0x20f592['destinationIds']||0x1!==_0x20f592[_0x2ed239(0x1cc)][_0x2ed239(0x1c3)])throw new _0x666015(_0x666015['codes']['PeerConnectionInvalidDestination'],{'message':_0x2ed239(0x19c),'event':_0x20f592});if(_0x20f592[_0x2ed239(0x1cc)][0x0]!==this[_0x2ed239(0x657)][_0x2ed239(0x1ab)])throw new _0x666015(_0x666015['codes']['PeerConnectionInvalidDestination'],{'message':_0x2ed239(0x6c9),'event':_0x20f592});if(!this[_0x2ed239(0x493)][_0x2ed239(0x62d)](_0x20f592[_0x2ed239(0x40f)])){let _0x3fa561=_0x668c9e['Core'];if(!(this[_0x2ed239(0x535)](_0x20f592['content'])||this[_0x2ed239(0x43a)](_0x20f592[_0x2ed239(0x470)])||this[_0x2ed239(0x231)](_0x20f592['content'])))return;_0x3fa561=_0x20f592[_0x2ed239(0x470)][_0x2ed239(0x551)],await this[_0x2ed239(0x2eb)](_0x20f592[_0x2ed239(0x40f)],_0x3fa561);}const _0xb832d9=this[_0x2ed239(0x493)][_0x2ed239(0x30f)](_0x20f592[_0x2ed239(0x40f)]);await _0xb832d9[_0x2ed239(0x6da)](_0x20f592);}[_0xc3b14b(0x38a)](_0x2d3b8b){const _0xc3b7c6=_0xc3b14b;if(_0x2d3b8b[_0xc3b7c6(0x470)][_0xc3b7c6(0x3e0)]===_0x3ace83[_0xc3b7c6(0x5b2)]){if(_0x2d3b8b[_0xc3b7c6(0x470)][_0xc3b7c6(0x308)]===this[_0xc3b7c6(0x657)][_0xc3b7c6(0x1ab)])return void this[_0xc3b7c6(0x493)][_0xc3b7c6(0x602)](_0xea8587=>_0xea8587[_0xc3b7c6(0x38a)](_0x2d3b8b));this[_0xc3b7c6(0x493)][_0xc3b7c6(0x30f)](_0x2d3b8b['content'][_0xc3b7c6(0x308)])?.[_0xc3b7c6(0x38a)](_0x2d3b8b);}}[_0xc3b14b(0x6a3)]({content:_0x1b7a49}){const _0xbb9428=_0xc3b14b;_0x1b7a49['type']===_0x5e95fc[_0xbb9428(0x6ad)]&&this[_0xbb9428(0x196)](_0x1b7a49['id']);}[_0xc3b14b(0x196)](_0xa61017){const _0x70d81e=_0xc3b14b,_0x2954ca=this[_0x70d81e(0x493)][_0x70d81e(0x30f)](_0xa61017);_0x2954ca&&(this['configs'][_0x70d81e(0x1e0)][_0x70d81e(0x629)](_0xa61017),this[_0x70d81e(0x657)][_0x70d81e(0x1e0)][_0x70d81e(0x33d)](_0x2954ca),_0x2954ca instanceof _0x4c08dc&&this['connectionGroup'][_0x70d81e(0x328)](_0x2954ca),_0x2954ca[_0x70d81e(0x50c)](),this[_0x70d81e(0x493)][_0x70d81e(0x4eb)](_0xa61017));}[_0xc3b14b(0x535)](_0x58c390){const _0x20aa84=_0xc3b14b;return _0x58c390[_0x20aa84(0x3e0)]===_0x2d9c6b[_0x20aa84(0x4fa)];}['isNeedRestart'](_0x28915f){const _0x5579f7=_0xc3b14b;return _0x28915f['type']===_0x2d9c6b[_0x5579f7(0x4ae)];}[_0xc3b14b(0x43a)](_0xc2de71){const _0x5c124c=_0xc3b14b;return _0xc2de71[_0x5c124c(0x3e0)]===_0x2d9c6b[_0x5c124c(0x46f)];}}!function(_0x4bef27){const _0x52975a=_0xc3b14b;_0x4bef27[_0x4bef27[_0x52975a(0x588)]=0x0]=_0x52975a(0x588),_0x4bef27[_0x4bef27['UpdateMediaStream']=0x1]='UpdateMediaStream',_0x4bef27[_0x4bef27[_0x52975a(0x298)]=0x2]=_0x52975a(0x298),_0x4bef27[_0x4bef27['NeedMediaStream']=0x3]=_0x52975a(0x4d0),_0x4bef27[_0x4bef27[_0x52975a(0x5f2)]=0x4]=_0x52975a(0x5f2),_0x4bef27[_0x4bef27[_0x52975a(0x1d6)]=0x5]=_0x52975a(0x1d6),_0x4bef27[_0x4bef27[_0x52975a(0x1b8)]=0x6]='CannotProvideMediaStream',_0x4bef27[_0x4bef27[_0x52975a(0x33c)]=0x7]='MediaStreamUnavailable';}(_0x258e6f||(_0x258e6f={}));class _0x389430 extends _0x3c8379{[_0xc3b14b(0x1d9)];['vendorId'];[_0xc3b14b(0x4b7)];[_0xc3b14b(0x5b6)];[_0xc3b14b(0x675)];[_0xc3b14b(0x641)]=new Map();['objectRequests']=new Map();[_0xc3b14b(0x148)]=new Map();[_0xc3b14b(0x439)]=new Map();[_0xc3b14b(0x3d5)]=new Map();['objectStoreConnector'];[_0xc3b14b(0x34f)]=_0x462875();[_0xc3b14b(0x59e)];[_0xc3b14b(0x17c)];['writes']=0x0;[_0xc3b14b(0x587)]=0x0;constructor(_0x3fbffa,_0x2c370e,_0x4aba97,_0xf2c638,_0x5d395b,_0x10f89e){const _0x2c1c36=_0xc3b14b;if(_0x2c1c36(0x592)!=typeof _0x2c370e)throw new _0x560421(_0x422571[_0x2c1c36(0x489)],_0x2c1c36(0x37d));super(_0x3fbffa,_0x2c370e),this[_0x2c1c36(0x1d9)]=_0x4aba97,this[_0x2c1c36(0x1dc)]=_0xf2c638,this[_0x2c1c36(0x4b7)]=_0x5d395b;const _0x2c32ff=_0x2c1c36(0x398)+this['vendorId']+'ccc'+this[_0x2c1c36(0x1d9)]+_0x2c1c36(0x398)+_0x2c370e;this[_0x2c1c36(0x2ee)]=new _0x10f89e(_0x2c32ff);}['getContentType'](){const _0x44ad5e=_0xc3b14b;return _0x164080[_0x44ad5e(0x28a)];}async[_0xc3b14b(0x4b5)](){const _0x348325=_0xc3b14b;try{const _0x154db4=await this[_0x348325(0x2ee)][_0x348325(0x4ef)](),_0x7cc064=await _0x154db4[_0x348325(0x5c7)](_0x599874),_0x35c6b8=await _0x7cc064[_0x348325(0x4d6)](),_0x53dd19=await _0x35c6b8[_0x348325(0x480)]();this[_0x348325(0x675)]=_0x53dd19;}catch(_0x5a1413){}this['unsubscribeHandler']=this[_0x348325(0x18a)](async(_0x1e2264,_0x44ba21)=>{const _0x1b4bfa=_0x348325;if(!(_0x44ba21 instanceof File))try{if(_0x44ba21['payloadType']===_0x569f26['Request'])return void this['handleRequestPayload'](_0x44ba21);this[_0x1b4bfa(0x3b5)](_0x44ba21);}catch(_0xe84e96){if(_0xe84e96 instanceof _0x666015)throw _0xe84e96;throw new _0x666015(_0x666015[_0x1b4bfa(0x5c4)][_0x1b4bfa(0x355)],{'payload':_0x44ba21});}}),await this[_0x348325(0x51a)](),await this[_0x348325(0x41a)](),this[_0x348325(0x677)]();}[_0xc3b14b(0x504)](){const _0x3b2bcf=_0xc3b14b;this[_0x3b2bcf(0x5b6)]?.(),clearTimeout(this[_0x3b2bcf(0x17c)]),delete this[_0x3b2bcf(0x17c)],super['destroy']();}['close'](){const _0x598a12=_0xc3b14b;this[_0x598a12(0x5ea)]?.[_0x598a12(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x598a12(0x420)],'content':{'type':_0x21d02e[_0x598a12(0x2f4)],'label':this[_0x598a12(0x5bf)]}});}['subscribe'](_0x5629d7){const _0x4c59b8=_0xc3b14b;if(this['listenerUnsubscriber'])throw new _0x560421(_0x422571[_0x4c59b8(0x3af)],_0x4c59b8(0x3ff));this['listenerUnsubscriber']=this['eventListener'][_0x4c59b8(0x674)](_0x5629d7);}[_0xc3b14b(0x6c0)](){const _0x2523bf=_0xc3b14b;this[_0x2523bf(0x59e)]&&this['listenerUnsubscriber']();}[_0xc3b14b(0x69e)](_0x28eb63){const _0xbb6a7f=_0xc3b14b;switch(_0x28eb63[_0xbb6a7f(0x4e0)]){case _0x5c24b3[_0xbb6a7f(0x166)]:return this[_0xbb6a7f(0x440)](_0x28eb63[_0xbb6a7f(0x3a0)],_0x28eb63[_0xbb6a7f(0x477)]);case _0x5c24b3[_0xbb6a7f(0x50d)]:return this[_0xbb6a7f(0x579)](_0x28eb63[_0xbb6a7f(0x477)]);case _0x5c24b3[_0xbb6a7f(0x4a5)]:return this[_0xbb6a7f(0x57a)](_0x28eb63[_0xbb6a7f(0x477)],_0x28eb63[_0xbb6a7f(0x14e)]);default:throw new _0x560421(_0x422571['ObjectStoreInvalidPayload'],_0xbb6a7f(0x4d9)+_0x28eb63);}}async[_0xc3b14b(0x292)](_0x24bc11){const _0x4a5397=_0xc3b14b;try{const _0x583378=(0x0,_0x4dacea['v4'])(),_0x28293a=this['lastTransactionId'],_0x413274={'payloadType':_0x569f26[_0x4a5397(0x438)],'action':_0x2bb7e8[_0x4a5397(0x2fb)],'id':_0x583378,'parentId':_0x28293a,'path':_0x24bc11};await this[_0x4a5397(0x61c)](_0x413274);const _0x487350=await this[_0x4a5397(0x23a)](_0x24bc11);await this[_0x4a5397(0x157)](_0x413274),_0x4eca14[_0x4a5397(0x6a6)](_0x4434dc[_0x4a5397(0x2bb)],{'type':_0x4a5397(0x292),'label':this[_0x4a5397(0x5bf)],'userId':this[_0x4a5397(0x299)],'kind':_0x487350,'path':_0x24bc11}),this[_0x4a5397(0x543)]+=0x1,this[_0x4a5397(0x677)]();}catch(_0x44ba52){if(_0x44ba52 instanceof _0x666015)throw new _0x560421(_0x422571['ObjectStoreNotInSync'],'Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync');throw new _0x560421(_0x422571[_0x4a5397(0x37e)],_0x4a5397(0x35e)+_0x24bc11);}}async['get'](_0x1ad1ed){const _0x2d9801=_0xc3b14b;_0x4eca14[_0x2d9801(0x6a6)](_0x4434dc[_0x2d9801(0x2bb)],{'type':'get','label':this[_0x2d9801(0x5bf)],'userId':this[_0x2d9801(0x299)],'path':_0x1ad1ed}),this['reads']+=0x1,this[_0x2d9801(0x677)]();try{return await this[_0x2d9801(0x2ee)]['get'](_0x1ad1ed);}catch(_0x47e3aa){try{await this['objectStoreConnector'][_0x2d9801(0x30f)](_0x1ad1ed+_0x258289);}catch(_0x1d50f2){throw new _0x560421(_0x422571[_0x2d9801(0x37e)],_0x2d9801(0x2b2)+_0x1ad1ed);}throw new _0x560421(_0x422571[_0x2d9801(0x169)],_0x2d9801(0x4ab));}}async['list'](_0x4a51a3,_0x3a4bff=!0x1,_0x12e704=!0x1){const _0x5bbe88=_0xc3b14b;_0x4eca14[_0x5bbe88(0x6a6)](_0x4434dc['ObjectStorage'],{'type':_0x5bbe88(0x609),'label':this[_0x5bbe88(0x5bf)],'userId':this[_0x5bbe88(0x299)],'path':_0x4a51a3}),this['reads']+=0x1,this[_0x5bbe88(0x677)]();try{const _0x24ae1e=await this[_0x5bbe88(0x2ee)][_0x5bbe88(0x609)](_0x4a51a3,_0x3a4bff);return _0x12e704?_0x24ae1e:this[_0x5bbe88(0x191)](_0x24ae1e);}catch(_0x392dd1){throw new _0x560421(_0x422571[_0x5bbe88(0x37e)],_0x5bbe88(0x5fe)+_0x4a51a3);}}[_0xc3b14b(0x4b0)](_0x5b18a7){const _0x45e76c=_0xc3b14b;for(const _0x86b93 of this['objectRequests'][_0x45e76c(0x59d)]())this[_0x45e76c(0x157)](_0x86b93,[_0x5b18a7]);}[_0xc3b14b(0x22f)](_0x482ca6){const _0x436e85=_0xc3b14b,_0x825fca=this[_0x436e85(0x148)]['get'](_0x482ca6);if(_0x825fca){for(const [_0x7f8bb,_0xf32d04]of _0x825fca[_0x436e85(0x59d)]())this[_0x436e85(0x36f)](_0x7f8bb,_0xf32d04);this[_0x436e85(0x148)][_0x436e85(0x4eb)](_0x482ca6);}}[_0xc3b14b(0x191)](_0x412321){const _0x32c424=_0xc3b14b;for(const _0x589374 of _0x412321)_0x589374[_0x32c424(0x384)]===_0x26c0f7[_0x32c424(0x50d)]&&(_0x589374[_0x32c424(0x4d5)]=this[_0x32c424(0x191)](_0x589374['entries']??[])),(_0x589374[_0x32c424(0x235)]['endsWith'](_0x258289)||_0x589374['name']===_0x599874)&&_0x412321[_0x32c424(0x300)](_0x412321[_0x32c424(0x3f9)](_0x589374),0x1);return _0x412321;}async[_0xc3b14b(0x440)](_0x2049ab,_0x2d7f85){const _0x26290c=_0xc3b14b;try{const _0x4f97b5=(0x0,_0x4dacea['v4'])(),_0x10f5b7=this[_0x26290c(0x675)],_0x51b17e=await _0x4f1d0f(_0x2049ab);await this['publishTransaction']({'payloadType':_0x569f26[_0x26290c(0x438)],'action':_0x2bb7e8[_0x26290c(0x6b6)],'id':_0x4f97b5,'parentId':_0x10f5b7,'answererId':this['ownerId'],'name':_0x2049ab[_0x26290c(0x235)],'type':_0x2049ab['type'],'path':_0x2d7f85??'/','checksum':_0x51b17e}),await this[_0x26290c(0x595)](_0x2049ab,_0x2d7f85),await this[_0x26290c(0x278)](_0x2049ab,{'payloadType':_0x569f26['Transaction'],'action':_0x2bb7e8[_0x26290c(0x6b6)],'id':_0x4f97b5,'parentId':_0x10f5b7,'answererId':this['ownerId'],'name':_0x2049ab[_0x26290c(0x235)],'type':_0x2049ab[_0x26290c(0x3e0)],'path':_0x2d7f85??'/','checksum':_0x51b17e}),_0x4eca14[_0x26290c(0x6a6)](_0x4434dc[_0x26290c(0x2bb)],{'type':_0x26290c(0x69e),'label':this['label'],'userId':this[_0x26290c(0x299)],'kind':_0x26c0f7['File'],'path':_0x2d7f85,'fileName':_0x2049ab[_0x26290c(0x235)],'fileType':_0x2049ab[_0x26290c(0x3e0)],'size':_0x2049ab[_0x26290c(0x6cd)]}),this[_0x26290c(0x543)]+=0x1,this[_0x26290c(0x677)]();}catch(_0x4f5520){if(_0x4f5520 instanceof _0x666015)throw new _0x560421(_0x422571[_0x26290c(0x169)],_0x26290c(0x4ab));throw new _0x560421(_0x422571[_0x26290c(0x37e)],_0x26290c(0x296)+_0x2d7f85);}}async[_0xc3b14b(0x579)](_0x3d9efa){const _0x2d77d9=_0xc3b14b;try{const _0x43e166=(0x0,_0x4dacea['v4'])(),_0x52dd86=this[_0x2d77d9(0x675)],_0x3a733d={'payloadType':_0x569f26[_0x2d77d9(0x438)],'action':_0x2bb7e8[_0x2d77d9(0x240)],'id':_0x43e166,'parentId':_0x52dd86,'path':_0x3d9efa};await this[_0x2d77d9(0x61c)](_0x3a733d),await this['objectStoreConnector'][_0x2d77d9(0x4ef)](_0x3d9efa),await this[_0x2d77d9(0x157)](_0x3a733d),_0x4eca14[_0x2d77d9(0x6a6)](_0x4434dc[_0x2d77d9(0x2bb)],{'type':_0x2d77d9(0x69e),'label':this[_0x2d77d9(0x5bf)],'userId':this['ownerId'],'kind':_0x26c0f7['Folder'],'path':_0x3d9efa}),this[_0x2d77d9(0x543)]+=0x1,this[_0x2d77d9(0x677)]();}catch(_0x4de1ac){if(_0x4de1ac instanceof _0x666015)throw new _0x560421(_0x422571['ObjectStoreNotInSync'],_0x2d77d9(0x4ab));throw new _0x560421(_0x422571[_0x2d77d9(0x37e)],_0x2d77d9(0x29c)+_0x3d9efa);}}async[_0xc3b14b(0x57a)](_0x43f269,_0x1e9f8){const _0xefe3c3=_0xc3b14b;try{const _0x21f793=(0x0,_0x4dacea['v4'])(),_0x5395b4=this[_0xefe3c3(0x675)],_0x53049f={'payloadType':_0x569f26[_0xefe3c3(0x438)],'action':_0x2bb7e8[_0xefe3c3(0x4a5)],'id':_0x21f793,'parentId':_0x5395b4,'path':_0x43f269,'newPath':_0x1e9f8};await this['publishTransaction'](_0x53049f);const _0x578955=await this[_0xefe3c3(0x47e)](_0x43f269,_0x1e9f8);await this[_0xefe3c3(0x157)](_0x53049f),_0x4eca14[_0xefe3c3(0x6a6)](_0x4434dc[_0xefe3c3(0x2bb)],{'type':_0xefe3c3(0x3c6),'label':this['label'],'userId':this[_0xefe3c3(0x299)],'kind':_0x578955,'path':_0x43f269,'newPath':_0x1e9f8}),this[_0xefe3c3(0x543)]+=0x1,this[_0xefe3c3(0x677)]();}catch(_0x5e826b){if(_0x5e826b instanceof _0x666015)throw new _0x560421(_0x422571[_0xefe3c3(0x169)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x560421(_0x422571[_0xefe3c3(0x37e)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x43f269);}}async[_0xc3b14b(0x3b5)](_0x59801b){const _0x3385b6=_0xc3b14b;if(this[_0x3385b6(0x675)]&&_0x59801b['parentId']!==this[_0x3385b6(0x675)]&&_0x59801b['id']!==this[_0x3385b6(0x675)]){if(!_0x59801b[_0x3385b6(0x404)])throw new _0x666015(_0x666015[_0x3385b6(0x5c4)][_0x3385b6(0x355)]);this[_0x3385b6(0x641)][_0x3385b6(0x552)](_0x59801b['parentId'],_0x59801b);}else{try{await this[_0x3385b6(0x3c9)](_0x59801b);}catch(_0x24e974){}await this[_0x3385b6(0x59c)](_0x59801b['id']),await this[_0x3385b6(0x276)](_0x59801b['id']);}}async[_0xc3b14b(0x3c9)](_0x2a061f){const _0x4d5299=_0xc3b14b;switch(_0x2a061f['action']){case _0x2bb7e8['FileWrite']:await this[_0x4d5299(0x245)](_0x2a061f);break;case _0x2bb7e8['FolderCreate']:await this[_0x4d5299(0x618)](_0x2a061f);break;case _0x2bb7e8[_0x4d5299(0x4a5)]:await this[_0x4d5299(0x30b)](_0x2a061f);break;case _0x2bb7e8[_0x4d5299(0x2fb)]:await this['handleObjectDelete'](_0x2a061f);break;default:throw new _0x666015(_0x666015['codes'][_0x4d5299(0x355)],{'payload':_0x2a061f});}}async[_0xc3b14b(0x276)](_0x50c88a){const _0x4a3008=_0xc3b14b;if(this['pendingSyncTransactions']['has'](_0x50c88a)){const _0x27f10d=this['pendingSyncTransactions'][_0x4a3008(0x30f)](_0x50c88a);this[_0x4a3008(0x641)][_0x4a3008(0x4eb)](_0x50c88a),await this[_0x4a3008(0x3b5)](_0x27f10d);}}async[_0xc3b14b(0x394)](_0xdcdb64){const _0x428b55=_0xc3b14b;switch(_0xdcdb64[_0x428b55(0x4e0)]){case _0x2bb7e8[_0x428b55(0x2cb)]:return this[_0x428b55(0x63c)](_0xdcdb64);case _0x2bb7e8['RequestAccepted']:return this[_0x428b55(0x634)](_0xdcdb64);case _0x2bb7e8[_0x428b55(0x472)]:return this['handleFileSync'](_0xdcdb64);case _0x2bb7e8['RequestFileWrite']:return this[_0x428b55(0x245)](_0xdcdb64);default:throw new _0x666015(_0x666015[_0x428b55(0x5c4)][_0x428b55(0x355)],{'payload':_0xdcdb64});}}async['handleFileWrite'](_0x59d05){const _0x492fd5=_0xc3b14b;if(!_0x59d05[_0x492fd5(0x525)]||void 0x0===_0x59d05[_0x492fd5(0x210)]||!_0x59d05['total'])return void await this[_0x492fd5(0x508)](_0x59d05);const _0x4dfa74=_0x3497ab(_0x59d05['path'],_0x59d05['name']);this['fileChunks'][_0x492fd5(0x62d)](_0x4dfa74)||(this[_0x492fd5(0x16e)]['set'](_0x4dfa74,[]),await this[_0x492fd5(0x508)](_0x59d05)),this[_0x492fd5(0x65a)](_0x59d05,_0x4dfa74);const _0x390578=this[_0x492fd5(0x16e)][_0x492fd5(0x30f)](_0x4dfa74);if(_0x390578[_0x59d05[_0x492fd5(0x210)]]=_0x59d05[_0x492fd5(0x525)],_0x390578[_0x492fd5(0x4c0)](_0x1fa85d=>_0x1fa85d)[_0x492fd5(0x1c3)]<_0x59d05[_0x492fd5(0x288)])return;const _0x184c95=_0x3afe1e(_0x390578,_0x59d05['name'],_0x59d05['type']);await this[_0x492fd5(0x595)](_0x184c95,_0x59d05['path']),await this[_0x492fd5(0x583)](_0x59d05),this[_0x492fd5(0x16e)][_0x492fd5(0x4eb)](_0x4dfa74),_0x4eca14['logServiceEvent'](_0x4434dc[_0x492fd5(0x2bb)],{'type':_0x492fd5(0x4b5),'label':this[_0x492fd5(0x5bf)],'userId':this['ownerId'],'kind':_0x26c0f7[_0x492fd5(0x166)],'path':_0x59d05[_0x492fd5(0x477)],'fileName':_0x59d05[_0x492fd5(0x235)],'fileType':_0x59d05[_0x492fd5(0x3e0)],'size':_0x184c95['size']});const _0x3306c6=this[_0x492fd5(0x439)]['get'](_0x59d05[_0x492fd5(0x477)])??[];for(const _0x48751b of _0x3306c6)await this[_0x492fd5(0x3c9)](_0x48751b);this['pendingFilesTransactions'][_0x492fd5(0x4eb)](_0x59d05[_0x492fd5(0x477)]),this[_0x492fd5(0x34f)][_0x492fd5(0x69e)]({'event':_0x80d118[_0x492fd5(0x6b6)],'payload':{'file':{'kind':_0x26c0f7[_0x492fd5(0x166)],'path':_0x59d05['path'],'type':_0x184c95['type'],'size':_0x184c95[_0x492fd5(0x6cd)],'name':_0x59d05[_0x492fd5(0x235)],'pathName':_0x4dfa74}}});}async['handleFolderCreate'](_0x2381c4){const _0x1f82ce=_0xc3b14b;await this[_0x1f82ce(0x2ee)][_0x1f82ce(0x4ef)](_0x2381c4['path']);const [_0x1f8f20,_0x15876b]=_0x110e59(_0x2381c4[_0x1f82ce(0x477)]);this['eventListener'][_0x1f82ce(0x69e)]({'event':_0x80d118[_0x1f82ce(0x240)],'payload':{'folder':{'kind':_0x26c0f7[_0x1f82ce(0x50d)],'name':_0x15876b,'path':_0x1f8f20,'pathName':_0x2381c4['path']}}});}async[_0xc3b14b(0x3a2)](_0x5d1ea2){const _0x19546a=_0xc3b14b;if(!this[_0x19546a(0x2c4)](_0x5d1ea2))return;const _0x19c642=await this[_0x19546a(0x23a)](_0x5d1ea2[_0x19546a(0x477)]),[_0x4bdaed,_0x43ff9d]=_0x110e59(_0x5d1ea2[_0x19546a(0x477)]);this[_0x19546a(0x34f)][_0x19546a(0x69e)]({'event':_0x19c642===_0x26c0f7[_0x19546a(0x50d)]?_0x80d118[_0x19546a(0x233)]:_0x80d118[_0x19546a(0x607)],'payload':{'name':_0x43ff9d,'path':_0x4bdaed,'pathName':_0x5d1ea2[_0x19546a(0x477)]}});}async[_0xc3b14b(0x30b)](_0x27b28b){const _0x44844e=_0xc3b14b;if(!this[_0x44844e(0x2c4)](_0x27b28b))return this[_0x44844e(0x3d5)][_0x44844e(0x552)](_0x27b28b[_0x44844e(0x14e)],this['pendingFilesRename'][_0x44844e(0x30f)](_0x27b28b['path'])??_0x27b28b[_0x44844e(0x477)]),void this[_0x44844e(0x3d5)][_0x44844e(0x4eb)](_0x27b28b['path']);this[_0x44844e(0x3d5)][_0x44844e(0x4eb)](_0x27b28b[_0x44844e(0x477)]);const _0x165db0=await this[_0x44844e(0x2ee)][_0x44844e(0x47e)](_0x27b28b[_0x44844e(0x477)],_0x27b28b['newPath']),[_0x1193b7,_0x41208d]=_0x110e59(_0x27b28b[_0x44844e(0x477)]),[_0x31e320,_0x3b3f28]=_0x110e59(_0x27b28b[_0x44844e(0x14e)]);this['eventListener'][_0x44844e(0x69e)]({'event':_0x165db0===_0x26c0f7[_0x44844e(0x50d)]?_0x80d118[_0x44844e(0x214)]:_0x80d118['FileMove'],'payload':{'name':_0x3b3f28,'path':_0x31e320,'pathName':_0x27b28b[_0x44844e(0x14e)],'oldName':_0x41208d,'oldPath':_0x1193b7,'oldPathName':_0x27b28b[_0x44844e(0x477)]}});}[_0xc3b14b(0x2c4)](_0x283de2){const _0x17b8aa=_0xc3b14b,_0x286224=this[_0x17b8aa(0x3d5)][_0x17b8aa(0x30f)](_0x283de2[_0x17b8aa(0x477)])??_0x283de2['path'];let _0x338506=!0x1;for(const _0x5a3d89 of this[_0x17b8aa(0x16e)][_0x17b8aa(0x1e1)]())if(_0x5a3d89[_0x17b8aa(0x28e)](_0x286224)){const _0x2fdca2=this[_0x17b8aa(0x439)][_0x17b8aa(0x30f)](_0x5a3d89)??[];_0x2fdca2[_0x17b8aa(0x16d)](_0x283de2),this['pendingFilesTransactions']['set'](_0x5a3d89,_0x2fdca2),_0x338506=!0x0;}return!_0x338506;}async[_0xc3b14b(0x61c)](_0x35175e){const _0x297c6c=_0xc3b14b;if(!_0x35175e['id'])throw new _0x666015(_0x666015[_0x297c6c(0x5c4)][_0x297c6c(0x355)],{'message':_0x297c6c(0x4cb)});await this['transactionService'][_0x297c6c(0x4f8)](_0x35175e,this[_0x297c6c(0x5bf)],this[_0x297c6c(0x675)]),await this[_0x297c6c(0x59c)](_0x35175e['id']);}async[_0xc3b14b(0x59c)](_0x1cc627){const _0xe79973=_0xc3b14b;this['lastTransactionId']=_0x1cc627;const _0x5865fb=new File([new Blob([this[_0xe79973(0x675)]])],_0x599874,{'type':_0xe79973(0x4a3)});await this[_0xe79973(0x595)](_0x5865fb,'/');}async[_0xc3b14b(0x63c)](_0x13aad9){const _0x1396f5=_0xc3b14b;try{const _0x283b32=await this[_0x1396f5(0x30f)](_0x13aad9[_0x1396f5(0x477)]+'/'+_0x13aad9[_0x1396f5(0x235)]);if(await _0x4f1d0f(_0x283b32)!==_0x13aad9['checksum'])return;_0x13aad9[_0x1396f5(0x519)]=this[_0x1396f5(0x299)],_0x13aad9[_0x1396f5(0x4e0)]=_0x2bb7e8['RequestAccepted'],await this[_0x1396f5(0x157)](_0x13aad9,[_0x13aad9[_0x1396f5(0x40f)]]);}catch(_0xa11383){}}async['handleFileRequestAnswer'](_0x33c453){const _0xcc70c3=_0xc3b14b,_0x34f3f0=_0x3497ab(_0x33c453[_0xcc70c3(0x477)],_0x33c453[_0xcc70c3(0x235)]);if(!this['objectRequests'][_0xcc70c3(0x62d)](_0x34f3f0))return;const _0x5efbff=this[_0xcc70c3(0x5dc)][_0xcc70c3(0x30f)](_0x34f3f0);_0x5efbff[_0xcc70c3(0x4e0)]=_0x2bb7e8[_0xcc70c3(0x472)];const _0x192eaf=_0x33c453[_0xcc70c3(0x519)];if(!_0x192eaf)throw new _0x666015(_0x666015[_0xcc70c3(0x5c4)][_0xcc70c3(0x355)],{'message':_0xcc70c3(0x383)});this[_0xcc70c3(0x5dc)][_0xcc70c3(0x4eb)](_0x34f3f0),this['pendingFilesSyncing'][_0xcc70c3(0x62d)](_0x192eaf)||this[_0xcc70c3(0x148)]['set'](_0x192eaf,new Map()),this['pendingFilesSyncing'][_0xcc70c3(0x30f)](_0x192eaf)['set'](_0x34f3f0,[_0x5efbff,this['getOrResetPendingFileTimeout'](_0x192eaf,_0x34f3f0)]),_0x5efbff[_0xcc70c3(0x519)]=_0x192eaf,this[_0xcc70c3(0x157)](_0x5efbff,[_0x192eaf]);}async[_0xc3b14b(0x35d)](_0x34e85f){const _0x290556=_0xc3b14b,_0x2aa95b=_0x3497ab(_0x34e85f[_0x290556(0x477)],_0x34e85f['name']),_0xfba58f=await this[_0x290556(0x30f)](_0x2aa95b),_0x1f6c91={..._0x34e85f,'answererId':this[_0x290556(0x299)],'action':_0x2bb7e8[_0x290556(0x56c)]};await this[_0x290556(0x278)](_0xfba58f,_0x1f6c91,[_0x34e85f[_0x290556(0x40f)]]);}async[_0xc3b14b(0x278)](_0x4667a2,_0x25a30a,_0x1da4ac){const _0x2ccc3a=await _0xacd752(_0x4667a2);for(const [_0xe754af,_0xcb4b57]of _0x2ccc3a['entries']()){const _0x3c982e={..._0x25a30a,'type':_0x4667a2['type'],'data':_0xcb4b57,'index':_0xe754af,'total':_0x2ccc3a['length']};this['send'](_0x3c982e,_0x1da4ac);}}async[_0xc3b14b(0x583)](_0x5c76c1){const _0x2ee1a6=_0xc3b14b;try{const _0x46191f=_0x3497ab(_0x5c76c1[_0x2ee1a6(0x477)],_0x5c76c1['name']),_0x3c7013=_0x46191f+_0x258289;await this[_0x2ee1a6(0x23a)](_0x3c7013);const [,_0x44f5ff]=this[_0x2ee1a6(0x148)][_0x2ee1a6(0x30f)](_0x5c76c1[_0x2ee1a6(0x519)])?.[_0x2ee1a6(0x30f)](_0x46191f)??[];_0x44f5ff&&(clearTimeout(_0x44f5ff),this[_0x2ee1a6(0x148)][_0x2ee1a6(0x30f)](_0x5c76c1['answererId'])['delete'](_0x46191f));}catch(_0x5b7efd){}}async[_0xc3b14b(0x51a)](){const _0x52cabc=_0xc3b14b,_0x27b2a7=await this[_0x52cabc(0x4b7)][_0x52cabc(0x168)](this[_0x52cabc(0x5bf)],this[_0x52cabc(0x675)]);for(const _0x445e24 of _0x27b2a7)await this[_0x52cabc(0x3b5)](_0x445e24);}async[_0xc3b14b(0x41a)](){const _0x2b97cc=_0xc3b14b,_0x5d4ebb=await this[_0x2b97cc(0x609)]('/',!0x0,!0x0),_0x31c42d=async _0x3ffdd6=>{const _0x3a1c6a=_0x2b97cc;for(const _0x8a2394 of _0x3ffdd6){if(_0x8a2394[_0x3a1c6a(0x384)]===_0x26c0f7['Folder']){_0x8a2394['entries']&&_0x8a2394[_0x3a1c6a(0x4d5)][_0x3a1c6a(0x1c3)]>0x0&&await _0x31c42d(_0x8a2394[_0x3a1c6a(0x4d5)]);continue;}if(!_0x8a2394[_0x3a1c6a(0x235)]['endsWith'](_0x258289))continue;const _0x5d4699=await this[_0x3a1c6a(0x30f)](_0x8a2394[_0x3a1c6a(0x17d)]),_0x21a43b=await _0x5d4699[_0x3a1c6a(0x480)](),_0x337da1=_0x8a2394[_0x3a1c6a(0x235)][_0x3a1c6a(0x56a)](_0x258289,''),_0x5be99e={'payloadType':_0x569f26[_0x3a1c6a(0x24d)],'action':_0x2bb7e8[_0x3a1c6a(0x2cb)],'sourceId':this['ownerId'],'type':'','path':_0x8a2394[_0x3a1c6a(0x477)],'name':_0x337da1,'checksum':_0x21a43b},_0x444ffd=_0x3497ab(_0x8a2394[_0x3a1c6a(0x477)],_0x337da1);this[_0x3a1c6a(0x5dc)]['set'](_0x444ffd,_0x5be99e);}};await _0x31c42d(_0x5d4ebb);}async['createPendingFileWrite'](_0x2ae4e6){const _0x20873d=_0xc3b14b,_0x67ab87=new File([new Blob([_0x2ae4e6[_0x20873d(0x446)]])],''+_0x2ae4e6['name']+_0x258289,{'type':_0x20873d(0x4a3)});await this[_0x20873d(0x595)](_0x67ab87,_0x2ae4e6['path']);}[_0xc3b14b(0x5b3)](_0x5a8cc2,_0x50c4ba){const _0x21f943=_0xc3b14b,[_0x1e9534,_0x495638]=this['pendingFilesSyncing'][_0x21f943(0x30f)](_0x5a8cc2)?.[_0x21f943(0x30f)](_0x50c4ba)??[];return _0x495638&&clearTimeout(_0x495638),window[_0x21f943(0x326)](()=>{const _0x490b6b=_0x21f943,[_0x18ba26,_0x1275ff]=this[_0x490b6b(0x148)][_0x490b6b(0x30f)](_0x5a8cc2)[_0x490b6b(0x30f)](_0x50c4ba);this[_0x490b6b(0x36f)](_0x18ba26,_0x1275ff);},0xea60);}async['sendFileRequestPayload'](_0x1b8917,_0x2b18c9){const _0x617a5a=_0xc3b14b;clearTimeout(_0x2b18c9),_0x1b8917[_0x617a5a(0x4e0)]=_0x2bb7e8[_0x617a5a(0x2cb)],this[_0x617a5a(0x5dc)]['set'](_0x3497ab(_0x1b8917[_0x617a5a(0x477)],_0x1b8917[_0x617a5a(0x235)]),_0x1b8917),this[_0x617a5a(0x157)](_0x1b8917);}[_0xc3b14b(0x65a)](_0x4e7d65,_0x5d7700){const _0x401c8a=_0xc3b14b;this[_0x401c8a(0x148)]['has'](_0x4e7d65[_0x401c8a(0x519)])||this[_0x401c8a(0x148)]['set'](_0x4e7d65['answererId'],new Map());const [_0x390206]=this[_0x401c8a(0x148)][_0x401c8a(0x30f)](_0x4e7d65[_0x401c8a(0x519)])['get'](_0x5d7700)??[{'payloadType':_0x569f26[_0x401c8a(0x24d)],'action':_0x2bb7e8['RequestFile'],'sourceId':this[_0x401c8a(0x299)],'type':_0x4e7d65[_0x401c8a(0x3e0)],'name':_0x4e7d65[_0x401c8a(0x235)],'path':_0x4e7d65[_0x401c8a(0x477)],'checksum':_0x4e7d65['checksum'],'answererId':_0x4e7d65['answererId']}];this[_0x401c8a(0x148)][_0x401c8a(0x30f)](_0x4e7d65[_0x401c8a(0x519)])[_0x401c8a(0x552)](_0x5d7700,[_0x390206,this[_0x401c8a(0x5b3)](_0x4e7d65[_0x401c8a(0x519)],_0x5d7700)]);}async[_0xc3b14b(0x595)](_0x51e770,_0x5dfa09){const _0x4bdb17=_0xc3b14b;await this[_0x4bdb17(0x2ee)][_0x4bdb17(0x595)](_0x51e770,_0x5dfa09);}async[_0xc3b14b(0x23a)](_0x28e173){const _0x5ee093=_0xc3b14b;try{return await this[_0x5ee093(0x2ee)][_0x5ee093(0x23a)](_0x28e173);}catch(_0x5a5007){return await this['objectStoreConnector']['deleteObject'](_0x28e173+_0x258289);}}async['moveObject'](_0x130dc2,_0x7a82cb){const _0x2c3182=_0xc3b14b;try{return await this['objectStoreConnector'][_0x2c3182(0x47e)](_0x130dc2,_0x7a82cb);}catch(_0x40e852){return await this['objectStoreConnector'][_0x2c3182(0x47e)](_0x130dc2+_0x258289,_0x7a82cb+_0x258289);}}['sendStats'](){const _0x3e7625=_0xc3b14b;this['debounceStats']&&clearTimeout(this[_0x3e7625(0x17c)]),this[_0x3e7625(0x17c)]=window[_0x3e7625(0x326)](async()=>{const _0x133698=_0x3e7625;delete this[_0x133698(0x17c)];const _0x30061c=await this[_0x133698(0x2ee)][_0x133698(0x2ff)]('/');this[_0x133698(0x5ea)]?.['publish']({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x133698(0x420)],'content':{'type':_0x21d02e[_0x133698(0x2f6)],'label':this[_0x133698(0x5bf)],'stats':{'timestamp':Date[_0x133698(0x3c8)](),'storage':_0x30061c,'messagesSent':this[_0x133698(0x571)],'messagesReceived':this[_0x133698(0x679)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x133698(0x520)],'writes':this['writes'],'reads':this[_0x133698(0x587)]}}}),_0x4eca14['logStorage'](_0x4434dc['ObjectStorage'],this[_0x133698(0x5bf)],_0x30061c);},0x1388);}}class _0x45e187 extends _0x1ddbf8{['mediaStream'];constructor(_0x26d1aa,_0x1e5841,_0x13dbe4){super(_0x26d1aa,_0x1e5841),this['mediaStream']=_0x13dbe4;}[_0xc3b14b(0x219)](){const _0xb79fe6=_0xc3b14b;return _0x164080[_0xb79fe6(0x3de)];}[_0xc3b14b(0x4ed)](){const _0x5877aa=_0xc3b14b;return this[_0x5877aa(0x533)];}['getInternalStreamId'](){const _0xb07ac8=_0xc3b14b;return this[_0xb07ac8(0x533)]['id'];}}class _0x446467 extends _0x45e187{[_0xc3b14b(0x1d5)];[_0xc3b14b(0x2fc)];[_0xc3b14b(0x3b9)];[_0xc3b14b(0x443)]=_0x462875();constructor(_0x3248d3,_0x6a2dc,_0x40f451,_0x2331e9,_0x2e9b70){const _0x39bf61=_0xc3b14b;super(_0x3248d3,_0x6a2dc,_0x40f451),this[_0x39bf61(0x1d5)]=_0x2331e9,this['params']=_0x2e9b70;}['destroy'](){const _0x6b2d4a=_0xc3b14b;this[_0x6b2d4a(0x176)]('audio'),this[_0x6b2d4a(0x176)](_0x6b2d4a(0x42e)),super[_0x6b2d4a(0x504)]();}[_0xc3b14b(0x58c)](_0x19c37d){const _0x277c7e=_0xc3b14b;if(!this[_0x277c7e(0x3b9)])throw new _0x666015(_0x666015[_0x277c7e(0x5c4)][_0x277c7e(0x68f)],{'label':this[_0x277c7e(0x5bf)],'ownerId':this[_0x277c7e(0x299)],'remoteId':this[_0x277c7e(0x1d5)]});this[_0x277c7e(0x3b9)][_0x277c7e(0x69e)]({'sourceId':this[_0x277c7e(0x299)],'content':{'action':_0xae809[_0x277c7e(0x5be)],'track':_0x19c37d,'stream':this[_0x277c7e(0x533)],'priority':_0x4c897[_0x277c7e(0x1b2)],'params':this['getInternalTrackParams'](_0x19c37d[_0x277c7e(0x384)],this[_0x277c7e(0x2fc)])}});}[_0xc3b14b(0x176)](_0x12ad26){const _0x20e6c9=_0xc3b14b,_0x49d9e1=this[_0x20e6c9(0x5ba)](_0x12ad26);if(_0x49d9e1){if(!this[_0x20e6c9(0x3b9)])return null;this[_0x20e6c9(0x3b9)][_0x20e6c9(0x69e)]({'sourceId':this['ownerId'],'content':{'action':_0xae809['Remove'],'track':_0x49d9e1,'stream':this[_0x20e6c9(0x533)]}});}return _0x49d9e1;}[_0xc3b14b(0x3e9)](_0x314e12){const _0x4a8791=_0xc3b14b;if(!this[_0x4a8791(0x3b9)])throw new _0x666015(_0x666015['codes'][_0x4a8791(0x68f)],{'label':this['label'],'ownerId':this[_0x4a8791(0x299)],'remoteId':this[_0x4a8791(0x1d5)]});this[_0x4a8791(0x3b9)][_0x4a8791(0x69e)]({'sourceId':this[_0x4a8791(0x299)],'content':{'action':_0xae809['Update'],'priority':_0x314e12,'stream':this[_0x4a8791(0x533)]}});}['subscribe']({trackKinds:_0x18a65e,params:_0x1b1ec2},_0x19c34a){const _0x51603a=_0xc3b14b;if(!this[_0x51603a(0x3b9)])throw new _0x666015(_0x666015[_0x51603a(0x5c4)][_0x51603a(0x68f)],{'label':this[_0x51603a(0x5bf)],'ownerId':this[_0x51603a(0x299)],'remoteId':this[_0x51603a(0x1d5)]});for(const _0x133f05 of this[_0x51603a(0x533)][_0x51603a(0x3ef)]())_0x18a65e[_0x51603a(0x3f2)](_0x133f05['kind'])&&this[_0x51603a(0x3b9)][_0x51603a(0x69e)]({'sourceId':this['ownerId'],'content':{'action':_0xae809[_0x51603a(0x5be)],'track':_0x133f05,'stream':this[_0x51603a(0x533)],'priority':_0x19c34a,'params':this['getInternalTrackParams'](_0x133f05['kind'],_0x1b1ec2)}});}[_0xc3b14b(0x25f)]({params:_0x3847bc}){const _0x13fe73=_0xc3b14b;if(!this['topic'])throw new _0x666015(_0x666015[_0x13fe73(0x5c4)][_0x13fe73(0x68f)],{'label':this['label'],'ownerId':this[_0x13fe73(0x299)],'remoteId':this[_0x13fe73(0x1d5)]});for(const _0x52c4d6 of this[_0x13fe73(0x533)][_0x13fe73(0x3ef)]())this[_0x13fe73(0x3b9)]['publish']({'sourceId':this[_0x13fe73(0x299)],'content':{'action':_0xae809[_0x13fe73(0x49c)],'stream':this[_0x13fe73(0x533)],'params':this[_0x13fe73(0x613)](_0x52c4d6[_0x13fe73(0x384)],_0x3847bc)}});}[_0xc3b14b(0x6c0)]({trackKinds:_0x4156be}){const _0x51f0dd=_0xc3b14b;if(this[_0x51f0dd(0x3b9)]){for(const _0xf2d5f1 of this[_0x51f0dd(0x533)][_0x51f0dd(0x3ef)]())_0x4156be[_0x51f0dd(0x3f2)](_0xf2d5f1[_0x51f0dd(0x384)])&&this[_0x51f0dd(0x3b9)][_0x51f0dd(0x69e)]({'sourceId':this['ownerId'],'content':{'action':_0xae809[_0x51f0dd(0x41f)],'stream':this[_0x51f0dd(0x533)],'track':_0xf2d5f1}});}}[_0xc3b14b(0x6b7)](_0x1f49a6){const _0x1310fa=_0xc3b14b;this[_0x1310fa(0x3b9)]=_0x1f49a6;}['unregisterPublisher'](_0x14161e){const _0x285da3=_0xc3b14b;_0x14161e===this['topic']&&(delete this[_0x285da3(0x3b9)],this[_0x285da3(0x443)]['publish']());}[_0xc3b14b(0x342)](_0x2eca73){const _0x2c5813=_0xc3b14b;return this[_0x2c5813(0x443)][_0x2c5813(0x674)](_0x2eca73);}['getTrack'](_0x4ef51f){const _0x610cbb=_0xc3b14b;return this['mediaStream'][_0x610cbb(0x3ef)]()[_0x610cbb(0x4c7)](_0x1deb06=>_0x1deb06[_0x610cbb(0x384)]===_0x4ef51f)||null;}[_0xc3b14b(0x613)](_0x255c49,_0x540565){const _0x41022e=_0xc3b14b;let _0x55456a;return'video'===_0x255c49&&_0x540565?.[_0x41022e(0x42e)]&&_0x41022e(0x688)!=typeof _0x540565[_0x41022e(0x42e)]&&(_0x55456a={'kind':_0x41022e(0x42e),..._0x540565[_0x41022e(0x42e)]},_0x55456a[_0x41022e(0x2fa)]=this[_0x41022e(0x171)]()),_0x41022e(0x64a)===_0x255c49&&_0x540565?.[_0x41022e(0x64a)]&&_0x41022e(0x688)!=typeof _0x540565[_0x41022e(0x64a)]&&(_0x55456a={'kind':_0x41022e(0x64a),..._0x540565[_0x41022e(0x64a)]}),_0x55456a;}['getResolution'](){const _0x3429de=_0xc3b14b;let _0x10de04={'width':0x0,'height':0x0};const _0x3dbc55=this[_0x3429de(0x533)]['getVideoTracks']();if(_0x3dbc55['length']>0x0){const _0x25fe2d=_0x3dbc55[0x0][_0x3429de(0x456)]();_0x25fe2d[_0x3429de(0x2b0)]&&_0x25fe2d['height']&&(_0x10de04={'width':_0x25fe2d[_0x3429de(0x2b0)],'height':_0x25fe2d[_0x3429de(0x2d2)]});}return _0x10de04;}}class _0x2b5d67 extends _0x45e187{[_0xc3b14b(0x38b)]=_0x4c897[_0xc3b14b(0x1b2)];[_0xc3b14b(0x2b5)]=new Map();[_0xc3b14b(0x18d)]=new Map();constructor(_0x37b9e3,_0x460561,_0x4c9859){const _0x268070=_0xc3b14b;super(_0x37b9e3,_0x460561,_0x4c9859 instanceof MediaStream?_0x4c9859:_0x4c9859[_0x268070(0x685)]?_0x4c9859[_0x268070(0x685)]:_0x4c9859[_0x268070(0x26a)]()),this[_0x268070(0x533)]['getTracks']()[_0x268070(0x602)](_0x25292c=>this[_0x268070(0x415)](_0x25292c)),_0x4eca14['logServiceEvent'](_0x4434dc['MediaStream'],{'type':_0x268070(0x69e),'label':this[_0x268070(0x5bf)],'userId':this['ownerId'],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x268070(0x533)][_0x268070(0x3ef)]()['map'](_0x5d3e77=>_0x5d3e77[_0x268070(0x384)])});}[_0xc3b14b(0x504)](){const _0x5eeea1=_0xc3b14b;this['outgoingStreams'][_0x5eeea1(0x6cd)]>0x0&&(this[_0x5eeea1(0x18d)][_0x5eeea1(0x602)](_0x1f0153=>{const _0x3abb6c=_0x5eeea1;_0x1f0153[_0x3abb6c(0x680)](),_0x1f0153[_0x3abb6c(0x504)]();}),this['outgoingStreams'][_0x5eeea1(0x1e5)]()),this[_0x5eeea1(0x2b5)][_0x5eeea1(0x602)](_0x27c7c1=>_0x27c7c1()),super[_0x5eeea1(0x504)]();}[_0xc3b14b(0x69e)](_0x1febb8){const _0x10a806=_0xc3b14b;this[_0x10a806(0x5ea)][_0x10a806(0x69e)]({'sourceId':this[_0x10a806(0x299)],'destinationIds':_0x1febb8?[_0x1febb8]:void 0x0,'propagate':!0x0,'messageType':_0x4e5dac[_0x10a806(0x420)],'content':{'type':_0x21d02e['PublishMediaStream'],'ownerId':this['ownerId'],'label':this['label'],'stream':{'streamId':this[_0x10a806(0x180)](),'availableTrackKinds':this['mediaStream'][_0x10a806(0x3ef)]()[_0x10a806(0x3c0)](_0x383bf8=>_0x383bf8['kind'])}}});}['unpublish'](){const _0x42c76b=_0xc3b14b;this['systemTopic']['publish']({'sourceId':this[_0x42c76b(0x299)],'propagate':!0x0,'messageType':_0x4e5dac[_0x42c76b(0x420)],'content':{'type':_0x21d02e[_0x42c76b(0x46d)],'ownerId':this[_0x42c76b(0x299)],'label':this[_0x42c76b(0x5bf)]}}),this[_0x42c76b(0x5ea)][_0x42c76b(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x42c76b(0x420)],'content':{'type':_0x21d02e[_0x42c76b(0x662)],'label':this[_0x42c76b(0x5bf)]}}),_0x4eca14[_0x42c76b(0x6a6)](_0x4434dc[_0x42c76b(0x45d)],{'type':_0x42c76b(0x292),'label':this[_0x42c76b(0x5bf)],'userId':this[_0x42c76b(0x299)],'streamId':this['getInternalStreamId']()});}[_0xc3b14b(0x3fc)](){return this['priority'];}[_0xc3b14b(0x3e9)](_0xbc6a5b){const _0x2a1035=_0xc3b14b;this['priority']=_0xbc6a5b,this[_0x2a1035(0x18d)][_0x2a1035(0x602)](_0x29050c=>_0x29050c[_0x2a1035(0x3e9)](_0xbc6a5b));}[_0xc3b14b(0x424)](_0x1cc347,_0x4e05cf){const _0x5c000e=_0xc3b14b;if(!this[_0x5c000e(0x18d)][_0x5c000e(0x62d)](_0x1cc347)){const _0x5273c3=new _0x446467(this[_0x5c000e(0x299)],this[_0x5c000e(0x5bf)],this[_0x5c000e(0x533)],_0x1cc347,_0x4e05cf),_0x2f9414=_0x5273c3[_0x5c000e(0x342)](()=>{const _0x42ad75=_0x5c000e;_0x2f9414(),this['outgoingStreams'][_0x42ad75(0x30f)](_0x1cc347)?.[_0x42ad75(0x504)](),this[_0x42ad75(0x18d)]['delete'](_0x1cc347);});this['outgoingStreams'][_0x5c000e(0x552)](_0x1cc347,_0x5273c3),_0x5273c3[_0x5c000e(0x359)](this[_0x5c000e(0x5ea)]);}return this['outgoingStreams']['get'](_0x1cc347);}[_0xc3b14b(0x2db)](){const _0x523065=_0xc3b14b;return this[_0x523065(0x533)]['id'];}[_0xc3b14b(0x684)](_0x5f0185){const _0x56da5f=_0xc3b14b;this[_0x56da5f(0x5ea)][_0x56da5f(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x56da5f(0x420)],'content':{'type':_0x21d02e[_0x56da5f(0x1f9)],'label':this[_0x56da5f(0x5bf)],'trackKinds':[_0x5f0185[_0x56da5f(0x384)]]}});}['setupTrackEndedListeners'](_0x5ac77a){const _0x41416b=_0xc3b14b,_0x1772dd=()=>this[_0x41416b(0x684)](_0x5ac77a);_0x5ac77a[_0x41416b(0x423)](_0x41416b(0x2c1),_0x1772dd),_0x5ac77a[_0x41416b(0x423)](_0x41416b(0x4a6),_0x1772dd),this['trackEndedListeners'][_0x41416b(0x552)](_0x5ac77a['kind'],()=>{const _0x58603a=_0x41416b;_0x5ac77a[_0x58603a(0x343)](_0x58603a(0x2c1),_0x1772dd),_0x5ac77a['removeEventListener'](_0x58603a(0x4a6),_0x1772dd),this[_0x58603a(0x2b5)][_0x58603a(0x4eb)](_0x5ac77a[_0x58603a(0x384)]);});}}class _0x96f2b4 extends _0x2b5d67{[_0xc3b14b(0x156)];[_0xc3b14b(0x230)]=[];['clientStream'];[_0xc3b14b(0x290)];['audioDestination'];[_0xc3b14b(0x334)];[_0xc3b14b(0x460)];[_0xc3b14b(0x3f0)];['interval'];constructor(_0x137618,_0x5a46fd,_0x3c979d,_0x538964,_0x3067e6){const _0x4ffb11=_0xc3b14b;if(super(_0x137618,_0x5a46fd,_0x3c979d),this['audioContext']=_0x3067e6,this[_0x4ffb11(0x5bd)]=this['mediaStream'],this['sourceVideo']=document[_0x4ffb11(0x5a5)]('video'),this[_0x4ffb11(0x334)]['autoplay']=!0x0,this[_0x4ffb11(0x334)][_0x4ffb11(0x1a1)]=!0x0,this['sourceVideo'][_0x4ffb11(0x685)]=this[_0x4ffb11(0x5bd)],this[_0x4ffb11(0x334)][_0x4ffb11(0x5a3)](),this[_0x4ffb11(0x334)][_0x4ffb11(0x260)]=()=>{const _0x510d36=_0x4ffb11;this['sourceVideo'][_0x510d36(0x345)]();},this[_0x4ffb11(0x460)]=document['createElement'](_0x4ffb11(0x460)),this[_0x4ffb11(0x3f0)]=this[_0x4ffb11(0x460)][_0x4ffb11(0x50f)]('2d'),this[_0x4ffb11(0x533)]=this[_0x4ffb11(0x460)][_0x4ffb11(0x26a)](_0x538964),this[_0x4ffb11(0x3e7)]=this[_0x4ffb11(0x156)][_0x4ffb11(0x391)](),this[_0x4ffb11(0x5bd)][_0x4ffb11(0x388)]()[_0x4ffb11(0x1c3)]>0x0){const _0x41d730=this['clientStream']['getAudioTracks']()[0x0];this['audioSource']=this[_0x4ffb11(0x156)]['createMediaStreamSource'](new MediaStream([_0x41d730])),this[_0x4ffb11(0x290)][_0x4ffb11(0x5fd)](this[_0x4ffb11(0x3e7)]);}const _0xeee838=this[_0x4ffb11(0x3e7)][_0x4ffb11(0x60a)][_0x4ffb11(0x3ef)]()[0x0];this['mediaStream'][_0x4ffb11(0x58c)](_0xeee838),this[_0x4ffb11(0x643)]=setInterval(()=>{const _0x23f942=_0x4ffb11;this[_0x23f942(0x460)][_0x23f942(0x2b0)]=this[_0x23f942(0x334)]['videoWidth'],this['canvas'][_0x23f942(0x2d2)]=this[_0x23f942(0x334)]['videoHeight'],this['sourceVideo'][_0x23f942(0x1a8)]?(0x0!==this[_0x23f942(0x5bd)][_0x23f942(0x614)]()[_0x23f942(0x1c3)]&&this[_0x23f942(0x5bd)][_0x23f942(0x614)]()[0x0]['enabled']?this[_0x23f942(0x533)][_0x23f942(0x614)]()[0x0][_0x23f942(0x344)]=!0x0:this[_0x23f942(0x533)][_0x23f942(0x614)]()[0x0]['enabled']=!0x1,0x0!==this[_0x23f942(0x5bd)]['getAudioTracks']()[_0x23f942(0x1c3)]&&this[_0x23f942(0x5bd)][_0x23f942(0x388)]()[0x0][_0x23f942(0x344)]?this[_0x23f942(0x533)][_0x23f942(0x388)]()[0x0][_0x23f942(0x344)]=!0x0:this[_0x23f942(0x533)][_0x23f942(0x388)]()[0x0][_0x23f942(0x344)]=!0x1,this[_0x23f942(0x3f0)]['drawImage'](this[_0x23f942(0x334)],0x0,0x0)):this[_0x23f942(0x3f0)]['clearRect'](0x0,0x0,this[_0x23f942(0x460)][_0x23f942(0x2b0)],this[_0x23f942(0x460)]['height']);},0x3e8/_0x538964);}[_0xc3b14b(0x504)](){const _0x18b049=_0xc3b14b;clearInterval(this[_0x18b049(0x643)]),this[_0x18b049(0x334)][_0x18b049(0x2f1)](),this[_0x18b049(0x460)]['remove'](),this[_0x18b049(0x290)]?.['disconnect'](),this['audioDestination'][_0x18b049(0x3b2)](),this['mediaStream'][_0x18b049(0x3ef)]()[_0x18b049(0x602)](_0x1153ef=>{const _0xeecddb=_0x18b049;_0x1153ef[_0xeecddb(0x153)](),this[_0xeecddb(0x533)][_0xeecddb(0x176)](_0x1153ef);}),super[_0x18b049(0x504)]();}[_0xc3b14b(0x58c)](_0x35cdbe){const _0x3c27f8=_0xc3b14b,_0x117d81=this[_0x3c27f8(0x5ba)](_0x35cdbe['kind']);_0x117d81&&this['removeTrack'](_0x117d81),'audio'!==_0x35cdbe[_0x3c27f8(0x384)]?(_0x3c27f8(0x42e)===_0x35cdbe[_0x3c27f8(0x384)]&&this[_0x3c27f8(0x577)](_0x35cdbe),this['setupTrackEndedListeners'](_0x35cdbe)):this[_0x3c27f8(0x39e)](_0x35cdbe);}[_0xc3b14b(0x176)](_0x4911f1){const _0xe0aa85=_0xc3b14b,_0x43ee4e=this[_0xe0aa85(0x617)](_0x4911f1);return _0x43ee4e&&(_0xe0aa85(0x64a)===_0x43ee4e[_0xe0aa85(0x384)]&&(this['audioSource']?.[_0xe0aa85(0x3b2)](),this[_0xe0aa85(0x290)]=void 0x0),this[_0xe0aa85(0x2b5)]['get'](_0x43ee4e[_0xe0aa85(0x384)])?.(),this['clientStream'][_0xe0aa85(0x176)](_0x43ee4e)),_0x43ee4e;}['replaceTrack'](_0x2a532c){const _0x12d4a8=_0xc3b14b;this[_0x12d4a8(0x176)](_0x2a532c['kind']),this[_0x12d4a8(0x58c)](_0x2a532c);}['setTransformations'](_0xd23e7e){const _0x2da99e=_0xc3b14b;this[_0x2da99e(0x230)]=_0xd23e7e;}[_0xc3b14b(0x5ba)](_0x56db66){const _0x2712db=_0xc3b14b;return this[_0x2712db(0x5bd)][_0x2712db(0x3ef)]()[_0x2712db(0x4c7)](_0x2d04e6=>_0x2d04e6['kind']===_0x56db66)||null;}[_0xc3b14b(0x617)](_0x14c016){const _0x5a7f93=_0xc3b14b;return'string'==typeof _0x14c016?this[_0x5a7f93(0x5ba)](_0x14c016):_0x14c016;}[_0xc3b14b(0x39e)](_0x36fca9){const _0x427da8=_0xc3b14b;_0x427da8(0x1d2)===this['audioContext']['state']&&this[_0x427da8(0x156)][_0x427da8(0x287)](),this[_0x427da8(0x5bd)][_0x427da8(0x58c)](_0x36fca9),this[_0x427da8(0x290)]=this[_0x427da8(0x156)][_0x427da8(0x436)](this[_0x427da8(0x5bd)]),this[_0x427da8(0x290)]['connect'](this[_0x427da8(0x3e7)]);}['addVideoTrack'](_0x7b3aa0){const _0x279bb7=_0xc3b14b;this['clientStream'][_0x279bb7(0x58c)](_0x7b3aa0),this[_0x279bb7(0x334)][_0x279bb7(0x5a3)]();}}class _0x54ef85 extends _0x2b5d67{}class _0x329f5b extends _0x3c8379{[_0xc3b14b(0x5b6)]=new Map();[_0xc3b14b(0x17c)];constructor(_0x3dcc8c,_0x520158){const _0x1c35a1=_0xc3b14b;if(_0x1c35a1(0x592)!=typeof _0x520158)throw new _0x560421(_0x422571[_0x1c35a1(0x1c8)],_0x1c35a1(0x192));super(_0x3dcc8c,_0x520158);}['getContentType'](){const _0x48c2c4=_0xc3b14b;return _0x164080[_0x48c2c4(0x25e)];}[_0xc3b14b(0x69e)](_0x14cf93,_0x7f82fe){const _0x3056c7=_0xc3b14b;_0x4eca14[_0x3056c7(0x3e4)](_0x46b6b6[_0x3056c7(0x25e)],_0x3056c7(0x639),this['ownerId'],_0x14cf93,_0x7f82fe),_0x4eca14[_0x3056c7(0x6a6)](_0x4434dc[_0x3056c7(0x25e)],{'type':_0x3056c7(0x69e),'label':this[_0x3056c7(0x5bf)],'userId':this[_0x3056c7(0x299)],'remoteIds':_0x7f82fe??[],'contentType':_0x14cf93 instanceof File?_0x164080['File']:_0x164080['Data'],'size':_0x14cf93 instanceof File?_0x14cf93['size']:JSON['stringify'](_0x14cf93)[_0x3056c7(0x1c3)]}),this[_0x3056c7(0x677)](),this[_0x3056c7(0x157)](_0x14cf93,_0x7f82fe);}[_0xc3b14b(0x674)](_0x3a778d,_0x17e8d8){const _0x10abf6=_0xc3b14b;if(this[_0x10abf6(0x5b6)][_0x10abf6(0x62d)](_0x3a778d))throw new _0x560421(_0x422571[_0x10abf6(0x181)],_0x10abf6(0x15e));this[_0x10abf6(0x5b6)][_0x10abf6(0x552)](_0x3a778d,this[_0x10abf6(0x18a)]((_0x528066,_0x41bf2e)=>{const _0x4a826d=_0x10abf6;_0x4a826d(0x525)===_0x3a778d&&_0x41bf2e instanceof File||!('file'!==_0x3a778d||_0x41bf2e instanceof File)||(_0x4eca14[_0x4a826d(0x3e4)](_0x46b6b6[_0x4a826d(0x25e)],'PubSubTopic\x20onMessage',this[_0x4a826d(0x299)],_0x528066,_0x41bf2e),_0x4eca14[_0x4a826d(0x6a6)](_0x4434dc[_0x4a826d(0x25e)],{'type':_0x4a826d(0x674),'label':this[_0x4a826d(0x5bf)],'userId':this[_0x4a826d(0x299)],'remoteId':_0x528066,'contentType':_0x3a778d,'size':_0x41bf2e instanceof File?_0x41bf2e[_0x4a826d(0x6cd)]:JSON[_0x4a826d(0x6c7)](_0x41bf2e)[_0x4a826d(0x1c3)]}),this[_0x4a826d(0x677)](),_0x17e8d8(_0x528066,_0x41bf2e));}));}[_0xc3b14b(0x6c0)](_0x19e494){const _0x23157d=_0xc3b14b;this[_0x23157d(0x5b6)][_0x23157d(0x30f)](_0x19e494)?.(),this[_0x23157d(0x5b6)][_0x23157d(0x4eb)](_0x19e494);}[_0xc3b14b(0x504)](){const _0x5c8c6e=_0xc3b14b;this[_0x5c8c6e(0x5b6)][_0x5c8c6e(0x602)](_0x1c7100=>_0x1c7100()),clearTimeout(this[_0x5c8c6e(0x17c)]),delete this[_0x5c8c6e(0x17c)],super[_0x5c8c6e(0x504)]();}[_0xc3b14b(0x50c)](){const _0x29d71c=_0xc3b14b;this[_0x29d71c(0x5ea)]?.[_0x29d71c(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x29d71c(0x420)],'content':{'type':_0x21d02e[_0x29d71c(0x62b)],'label':this[_0x29d71c(0x5bf)]}});}[_0xc3b14b(0x677)](){const _0x30b4ae=_0xc3b14b;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x30b4ae(0x17c)]=window[_0x30b4ae(0x326)](()=>{const _0xb61c06=_0x30b4ae;this[_0xb61c06(0x5ea)]?.[_0xb61c06(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0xb61c06(0x420)],'content':{'type':_0x21d02e[_0xb61c06(0x64b)],'label':this[_0xb61c06(0x5bf)],'stats':{'timestamp':Date[_0xb61c06(0x3c8)](),'storage':0x0,'messagesSent':this[_0xb61c06(0x571)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0xb61c06(0x4d8)],'bytesReceived':this[_0xb61c06(0x520)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x15d79f extends _0x45e187{[_0xc3b14b(0x1ab)];[_0xc3b14b(0x4b8)];[_0xc3b14b(0x36c)];[_0xc3b14b(0x5b6)];['resizeHandler'];[_0xc3b14b(0x35b)];[_0xc3b14b(0x18d)]=new Map();[_0xc3b14b(0x209)];['subscribedTracks']=new Set();[_0xc3b14b(0x179)];[_0xc3b14b(0x379)]=_0x1556a6();[_0xc3b14b(0x2b5)]=new Map();constructor(_0x2ac284,_0x110687,_0x1f9dbe,_0x533202,_0x324866){const _0x12e9a6=_0xc3b14b;super(_0x110687,_0x1f9dbe,new MediaStream()),this['localId']=_0x2ac284,this[_0x12e9a6(0x4b8)]=_0x533202,this[_0x12e9a6(0x36c)]=_0x324866,this['mediaStream']['getTracks']()[_0x12e9a6(0x602)](_0x2e2b85=>this['setupTrackEndedListeners'](_0x2e2b85));}[_0xc3b14b(0x504)](){const _0x25300e=_0xc3b14b;this[_0x25300e(0x18d)][_0x25300e(0x6cd)]>0x0&&(this[_0x25300e(0x18d)][_0x25300e(0x602)](_0xb50531=>{const _0x295132=_0x25300e;_0xb50531[_0x295132(0x680)](),_0xb50531[_0x295132(0x504)]();}),this['outgoingStreams'][_0x25300e(0x1e5)]()),this[_0x25300e(0x2b5)][_0x25300e(0x602)](_0x5c650f=>_0x5c650f()),this[_0x25300e(0x533)]['getTracks']()['forEach'](_0x5db4d9=>this[_0x25300e(0x533)][_0x25300e(0x176)](_0x5db4d9)),this[_0x25300e(0x35b)]&&(clearTimeout(this[_0x25300e(0x35b)]),delete this[_0x25300e(0x35b)]),this[_0x25300e(0x30d)]?.(),super[_0x25300e(0x504)]();}[_0xc3b14b(0x39f)](_0x196ddc){const _0x589c93=_0xc3b14b;this['unsubscribeHandler']=_0x196ddc[_0x589c93(0x674)](({content:_0x59e933})=>{const _0x5ca36e=_0x589c93;switch(_0x59e933[_0x5ca36e(0x4e0)]){case _0xae809[_0x5ca36e(0x575)]:if(_0x4eca14[_0x5ca36e(0x3e4)](_0x46b6b6[_0x5ca36e(0x554)],'Received\x20track',this[_0x5ca36e(0x1ab)],this[_0x5ca36e(0x179)]),_0x59e933['stream']['id']!==this[_0x5ca36e(0x4b8)]||_0x59e933[_0x5ca36e(0x179)]!==this[_0x5ca36e(0x179)])return;this[_0x5ca36e(0x176)](_0x59e933[_0x5ca36e(0x3a8)][_0x5ca36e(0x384)]),this[_0x5ca36e(0x533)]['addTrack'](_0x59e933['track']);for(const [_0x1ae869,_0x1ab5d6]of this['outgoingStreams']['entries']())try{_0x1ab5d6[_0x5ca36e(0x58c)](_0x59e933[_0x5ca36e(0x3a8)]);}catch(_0x136669){_0x1ab5d6[_0x5ca36e(0x504)](),this[_0x5ca36e(0x18d)]['delete'](_0x1ae869);}this[_0x5ca36e(0x415)](_0x59e933[_0x5ca36e(0x3a8)]),this[_0x5ca36e(0x2d7)](),'video'===_0x59e933[_0x5ca36e(0x3a8)][_0x5ca36e(0x384)]&&this[_0x5ca36e(0x209)]&&(this['mediaStream'][_0x5ca36e(0x42a)]?setTimeout(()=>this['renderElement']?.[_0x5ca36e(0x345)](),0x0):setTimeout(()=>this['renderElement']?.[_0x5ca36e(0x5a3)](),0x0),this['setupResizeHandler']());break;case _0xae809[_0x5ca36e(0x666)]:if(_0x59e933[_0x5ca36e(0x60a)]['id']!==this['internalId']||_0x59e933['providerId']!==this[_0x5ca36e(0x179)])return;this[_0x5ca36e(0x176)](_0x59e933[_0x5ca36e(0x3a8)][_0x5ca36e(0x384)]),this[_0x5ca36e(0x209)]&&'video'===_0x59e933['track'][_0x5ca36e(0x384)]&&(this['resizeHandler']?.(),this[_0x5ca36e(0x533)][_0x5ca36e(0x3ef)]()[_0x5ca36e(0x1c3)]>0x0?this[_0x5ca36e(0x209)][_0x5ca36e(0x5a3)]():this[_0x5ca36e(0x209)]['srcObject']=null);}});}['unregisterSubscriber'](){const _0x1da757=_0xc3b14b;this[_0x1da757(0x5b6)]?.(),this[_0x1da757(0x2b5)]['forEach'](_0xb1ad93=>_0xb1ad93()),delete this[_0x1da757(0x5b6)];}[_0xc3b14b(0x180)](){const _0x2c7b54=_0xc3b14b;return this[_0x2c7b54(0x4b8)];}[_0xc3b14b(0x2fd)](_0x49dfc8){const _0x51d7b8=_0xc3b14b;this[_0x51d7b8(0x4b8)]=_0x49dfc8;}[_0xc3b14b(0x669)](){const _0x2004b1=_0xc3b14b;return this[_0x2004b1(0x36c)];}[_0xc3b14b(0x4ce)](_0x19eea6){const _0x4866a9=_0xc3b14b;for(const _0x2a6762 of _0x19eea6||this[_0x4866a9(0x36c)])if(!this['mediaStream'][_0x4866a9(0x3ef)]()[_0x4866a9(0x4c7)](_0x590b06=>_0x590b06['kind']===_0x2a6762))return!0x1;return!0x0;}[_0xc3b14b(0x171)](){const _0x15a03b=_0xc3b14b;let _0x154258={'width':0x0,'height':0x0};const _0x58c388=this[_0x15a03b(0x533)][_0x15a03b(0x614)]();if(_0x58c388['length']>0x0){const _0x4cfa33=_0x58c388[0x0][_0x15a03b(0x456)]();_0x4cfa33[_0x15a03b(0x2b0)]&&_0x4cfa33[_0x15a03b(0x2d2)]&&(_0x154258={'width':_0x4cfa33['width'],'height':_0x4cfa33[_0x15a03b(0x2d2)]});}return _0x154258;}[_0xc3b14b(0x25c)](_0xb67056){const _0x1644b1=_0xc3b14b;for(const _0xc3172b of _0xb67056)if(!this[_0x1644b1(0x2f7)][_0x1644b1(0x62d)](_0xc3172b))return!0x1;return!0x0;}[_0xc3b14b(0x424)](_0x5d4698,_0x83cd78){const _0x2a575d=_0xc3b14b;if(!this['outgoingStreams'][_0x2a575d(0x62d)](_0x5d4698)){const _0x56fe4b=new _0x446467(this[_0x2a575d(0x299)],this[_0x2a575d(0x5bf)],this[_0x2a575d(0x533)],_0x5d4698,_0x83cd78),_0x234aa3=_0x56fe4b[_0x2a575d(0x342)](()=>{const _0x1a835d=_0x2a575d;_0x234aa3(),this['outgoingStreams'][_0x1a835d(0x30f)](_0x5d4698)?.[_0x1a835d(0x504)](),this[_0x1a835d(0x18d)][_0x1a835d(0x4eb)](_0x5d4698);});this[_0x2a575d(0x18d)]['set'](_0x5d4698,_0x56fe4b),_0x56fe4b[_0x2a575d(0x359)](this[_0x2a575d(0x5ea)]);}return this[_0x2a575d(0x18d)][_0x2a575d(0x30f)](_0x5d4698);}['getShareableStreamId'](){const _0x549c95=_0xc3b14b;return this[_0x549c95(0x533)]['id'];}[_0xc3b14b(0x3fc)](){const _0x5b851c=_0xc3b14b;return _0x4c897[_0x5b851c(0x1b2)];}[_0xc3b14b(0x27a)](){const _0x45341=_0xc3b14b;return Array[_0x45341(0x223)](this['subscribedTracks']);}['subscribe'](_0x4a7e10){const _0x518963=_0xc3b14b;let _0x4cf8b4=[];_0x4a7e10?('object'!=typeof _0x4a7e10[_0x518963(0x42e)]||_0x4a7e10['video'][_0x518963(0x209)]instanceof HTMLVideoElement||!this[_0x518963(0x209)]||(_0x4a7e10[_0x518963(0x42e)]={'renderElement':this['renderElement']}),_0x4c7da3(_0x4a7e10),_0x4a7e10[_0x518963(0x42e)]&&(_0x4cf8b4[_0x518963(0x16d)](_0x518963(0x42e)),_0x518963(0x688)!=typeof _0x4a7e10['video']&&_0x4a7e10[_0x518963(0x42e)][_0x518963(0x209)]&&(this[_0x518963(0x209)]=_0x4a7e10['video'][_0x518963(0x209)],_0x4a7e10['video']['maxResolution']||(_0x4a7e10[_0x518963(0x42e)][_0x518963(0x5c5)]={'width':this['renderElement'][_0x518963(0x2df)],'height':this[_0x518963(0x209)]['clientHeight']}),delete _0x4a7e10[_0x518963(0x42e)][_0x518963(0x209)])),_0x4a7e10[_0x518963(0x64a)]&&_0x4cf8b4[_0x518963(0x16d)](_0x518963(0x64a))):_0x4cf8b4=this['getAvailableTrackKinds'](),this[_0x518963(0x25c)](_0x4cf8b4)||(_0x4cf8b4[_0x518963(0x602)](_0x21ffc2=>this[_0x518963(0x2f7)][_0x518963(0x14c)](_0x21ffc2)),this['systemTopic'][_0x518963(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x518963(0x420)],'content':{'type':_0x21d02e['SubscribeMediaStream'],'label':this[_0x518963(0x5bf)],'ownerId':this[_0x518963(0x299)],'trackKinds':_0x4cf8b4,'params':_0x4a7e10}}),_0x4eca14[_0x518963(0x6a6)](_0x4434dc[_0x518963(0x45d)],{'type':_0x518963(0x674),'label':this[_0x518963(0x5bf)],'userId':this[_0x518963(0x1ab)],'sourceId':this['ownerId'],'streamId':this[_0x518963(0x4b8)],'trackKinds':_0x4cf8b4}));}[_0xc3b14b(0x25f)](_0x533a0c){const _0xab98c0=_0xc3b14b;_0x4c7da3(_0x533a0c),this[_0xab98c0(0x35b)]&&clearTimeout(this[_0xab98c0(0x35b)]),this[_0xab98c0(0x35b)]=setTimeout(()=>{const _0x15b574=_0xab98c0;delete this[_0x15b574(0x35b)],this['systemTopic'][_0x15b574(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x15b574(0x420)],'content':{'type':_0x21d02e[_0x15b574(0x293)],'label':this['label'],'ownerId':this[_0x15b574(0x299)],'params':_0x533a0c}});},0x1f4);}[_0xc3b14b(0x6c0)](_0x427e47){const _0x45bd16=_0xc3b14b;_0x427e47||(_0x427e47=this[_0x45bd16(0x669)]()),(_0x427e47=Array[_0x45bd16(0x6ae)](_0x427e47)?_0x427e47:[_0x427e47])['forEach'](_0x47d859=>this[_0x45bd16(0x2f7)]['delete'](_0x47d859)),this[_0x45bd16(0x5ea)][_0x45bd16(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x45bd16(0x420)],'content':{'type':_0x21d02e[_0x45bd16(0x298)],'label':this[_0x45bd16(0x5bf)],'ownerId':this[_0x45bd16(0x299)],'trackKinds':_0x427e47,'remainingTracks':this[_0x45bd16(0x2f7)][_0x45bd16(0x6cd)]}});}[_0xc3b14b(0x668)](_0x282083){const _0x2c4d1f=_0xc3b14b;return this[_0x2c4d1f(0x379)][_0x2c4d1f(0x674)](_0x282083);}['getProviderId'](){const _0x554ed5=_0xc3b14b;return this[_0x554ed5(0x179)];}[_0xc3b14b(0x48b)](_0x4264c0){const _0x324820=_0xc3b14b;this['providerId']!==_0x4264c0&&(this[_0x324820(0x179)]=_0x4264c0,this['providerListener'][_0x324820(0x69e)](_0x4264c0));}[_0xc3b14b(0x659)](_0x559619){const _0x5471f5=_0xc3b14b;this[_0x5471f5(0x2b5)][_0x5471f5(0x30f)](_0x559619)?.(),this['trackEndedListeners'][_0x5471f5(0x4eb)](_0x559619);}[_0xc3b14b(0x176)](_0x5a6934){const _0x5e415d=_0xc3b14b,_0x2f3bae=this[_0x5e415d(0x533)][_0x5e415d(0x3ef)]()[_0x5e415d(0x4c7)](_0x42ee0d=>_0x42ee0d[_0x5e415d(0x384)]===_0x5a6934);_0x2f3bae&&(this[_0x5e415d(0x533)][_0x5e415d(0x176)](_0x2f3bae),this[_0x5e415d(0x18d)][_0x5e415d(0x602)](_0x429090=>_0x429090[_0x5e415d(0x176)](_0x5a6934)),this['trackEndedListeners'][_0x5e415d(0x30f)](_0x5a6934)?.());}[_0xc3b14b(0x2d7)](){const _0x51abb7=_0xc3b14b;this[_0x51abb7(0x209)]&&(this[_0x51abb7(0x209)][_0x51abb7(0x685)]&&this[_0x51abb7(0x209)][_0x51abb7(0x685)]===this['mediaStream']||(this[_0x51abb7(0x209)][_0x51abb7(0x685)]=this[_0x51abb7(0x533)]));}[_0xc3b14b(0x52d)](){const _0x3edc6a=_0xc3b14b;if(this[_0x3edc6a(0x209)]&&!this[_0x3edc6a(0x30d)]&&_0x3edc6a(0x581)!=typeof ResizeObserver){let _0x55915d=this[_0x3edc6a(0x209)][_0x3edc6a(0x2df)],_0x4e1eac=this[_0x3edc6a(0x209)][_0x3edc6a(0x4e5)];const _0x2c76d3=new ResizeObserver(_0x406d8e=>{const _0x4133b6=_0x3edc6a,{width:_0x505f81,height:_0x3bc9e5}=_0x406d8e[0x0][_0x4133b6(0x239)];_0x55915d===_0x505f81&&_0x4e1eac===_0x3bc9e5||(_0x55915d=Math['floor'](_0x505f81),_0x4e1eac=Math['floor'](_0x3bc9e5),this[_0x4133b6(0x25f)]({'video':{'maxResolution':{'width':_0x505f81,'height':_0x3bc9e5}}}));});_0x2c76d3['observe'](this['renderElement']),this[_0x3edc6a(0x30d)]=()=>_0x2c76d3['disconnect']();}}['handleRemoteTrackFailure'](_0x5a1e40){const _0x52f3d1=_0xc3b14b,_0x1de594=[];for(const _0x2e2b36 of this[_0x52f3d1(0x2f7)])this['removeTrack'](_0x2e2b36),_0x1de594[_0x52f3d1(0x16d)](_0x2e2b36);this[_0x52f3d1(0x179)]&&this['systemTopic'][_0x52f3d1(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x52f3d1(0x420)],'content':{'type':_0x21d02e[_0x52f3d1(0x220)],'label':this[_0x52f3d1(0x5bf)],'streamId':this[_0x52f3d1(0x4b8)],'ownerId':this[_0x52f3d1(0x299)],'providerId':this['providerId'],'trackKinds':_0x1de594}});}[_0xc3b14b(0x415)](_0x20bda8){const _0x5b0be2=_0xc3b14b,_0x4ab04f=()=>this[_0x5b0be2(0x5e9)](_0x20bda8);_0x20bda8[_0x5b0be2(0x423)]('ended',_0x4ab04f),_0x20bda8[_0x5b0be2(0x423)](_0x5b0be2(0x4a6),_0x4ab04f),this[_0x5b0be2(0x2b5)][_0x5b0be2(0x552)](_0x20bda8[_0x5b0be2(0x384)],()=>{const _0x5cb822=_0x5b0be2;_0x20bda8['removeEventListener'](_0x5cb822(0x2c1),_0x4ab04f),_0x20bda8['removeEventListener'](_0x5cb822(0x4a6),_0x4ab04f),this[_0x5cb822(0x2b5)][_0x5cb822(0x4eb)](_0x20bda8['kind']);});}}class _0x25d52d{[_0xc3b14b(0x1dc)];[_0xc3b14b(0x1d9)];['clusterKey'];constructor(_0x2933c4,_0x3fd41d){const _0x449380=_0xc3b14b;this[_0x449380(0x1dc)]=_0x2933c4,this[_0x449380(0x1d9)]=_0x3fd41d,this['clusterKey']=_0x449380(0x398)+this[_0x449380(0x1dc)]+_0x449380(0x398)+this[_0x449380(0x1d9)];}async[_0xc3b14b(0x4f8)](_0x2301d0,_0x3e6576,_0x42edb6){const _0x3416ce=_0xc3b14b;if(!0x1===(await(0x0,_0x3cc805[_0x3416ce(0x234)])((0x0,_0x3cc805[_0x3416ce(0x53a)])(_0x12b24c[_0x3416ce(0x14b)](),_0x3416ce(0x500)+this[_0x3416ce(0x421)]+_0x3416ce(0x68b)+_0x3e6576+_0x3416ce(0x1d1)),_0x4961da=>{const _0x1399d0=_0x3416ce;if(!_0x4961da)return _0x2301d0['id'];if(_0x4961da!==_0x42edb6)throw new _0x666015(_0x666015[_0x1399d0(0x5c4)][_0x1399d0(0x441)]);return _0x2301d0['id'];}))[_0x3416ce(0x44e)])throw new _0x666015(_0x666015[_0x3416ce(0x5c4)][_0x3416ce(0x3e5)]);_0x2301d0['parentId']||delete _0x2301d0[_0x3416ce(0x404)],await(0x0,_0x3cc805[_0x3416ce(0x552)])((0x0,_0x3cc805[_0x3416ce(0x53a)])(_0x12b24c['getDatabase'](),'clusters/'+this[_0x3416ce(0x421)]+_0x3416ce(0x68b)+_0x3e6576+_0x3416ce(0x2f2)+_0x2301d0['id']),_0x2301d0);}async[_0xc3b14b(0x168)](_0x4e95a3,_0x2254db){const _0x389ae5=_0xc3b14b;let _0x47ebc1=[];const _0x1826e5=await(0x0,_0x3cc805[_0x389ae5(0x30f)])((0x0,_0x3cc805['ref'])(_0x12b24c['getDatabase'](),'clusters/'+this[_0x389ae5(0x421)]+_0x389ae5(0x68b)+_0x4e95a3+_0x389ae5(0x6c3)));if(!_0x1826e5[_0x389ae5(0x17f)]())return _0x47ebc1;const _0x37a52c=_0x1826e5[_0x389ae5(0x467)]();_0x47ebc1=Object[_0x389ae5(0x59d)](_0x37a52c)[_0x389ae5(0x4c0)](_0x536ecf=>'string'!=typeof _0x536ecf);const _0x1db6d7=[];let _0x2098d2=_0x47ebc1[_0x389ae5(0x4c7)](_0x45d090=>_0x45d090['parentId']===_0x2254db);for(;_0x2098d2;)_0x1db6d7[_0x389ae5(0x16d)](_0x2098d2),_0x2098d2=_0x47ebc1[_0x389ae5(0x4c7)](_0x5ac2ec=>_0x5ac2ec[_0x389ae5(0x404)]===_0x2098d2['id']);return _0x1db6d7;}}class _0x2f9a32{[_0xc3b14b(0x657)];['maxFps'];[_0xc3b14b(0x156)];[_0xc3b14b(0x266)]=new Map();[_0xc3b14b(0x2e7)]=new Map();[_0xc3b14b(0x39b)]=new Map();[_0xc3b14b(0x6ca)]=new Map();[_0xc3b14b(0x335)]=new Map();[_0xc3b14b(0x4b7)];constructor(_0x12911b,_0x3aea3d,_0x512677){const _0x2bfe68=_0xc3b14b;this[_0x2bfe68(0x657)]=_0x12911b,this[_0x2bfe68(0x5a2)]=_0x3aea3d,this[_0x2bfe68(0x156)]=_0x512677,this[_0x2bfe68(0x4b7)]=new _0x25d52d(this['configs'][_0x2bfe68(0x1dc)],this[_0x2bfe68(0x657)][_0x2bfe68(0x1d9)]);}[_0xc3b14b(0x50c)](_0x273d5f=!0x1){const _0x2c9446=_0xc3b14b;this[_0x2c9446(0x2e7)][_0x2c9446(0x602)]((_0x406a28,_0x2ec619)=>{_0x406a28['forEach']((_0x4aa35e,_0x27fa0f)=>{const _0x258239=a0_0x442c;this[_0x258239(0x2d5)](_0x2ec619,_0x27fa0f);});}),_0x273d5f||(this[_0x2c9446(0x266)]['forEach']((_0x11d92b,_0x462868)=>{const _0x2c8db4=_0x2c9446;this[_0x2c8db4(0x51b)](_0x462868);}),this[_0x2c9446(0x39b)][_0x2c9446(0x602)]((_0x3501f0,_0x53d508)=>{this['removePubSubTopic'](_0x53d508);}),this[_0x2c9446(0x6ca)][_0x2c9446(0x602)]((_0x41695c,_0x256e3e)=>{const _0x13585f=_0x2c9446;this[_0x13585f(0x54a)](_0x256e3e);}),this[_0x2c9446(0x335)]['forEach']((_0x36f877,_0x11eac8)=>{this['removeKeyValueDatabase'](_0x11eac8);}));}['createObjectStoreBucket'](_0x237649,_0x4ec94c){const _0xe2bfa3=_0xc3b14b;if(this[_0xe2bfa3(0x6ca)][_0xe2bfa3(0x62d)](_0x237649))throw new _0x560421(_0x422571['ObjectStoreAlreadyExists'],'Store\x20already\x20exists');const _0x2dd61c=new _0x389430(this['configs'][_0xe2bfa3(0x1ab)],_0x237649,this['configs'][_0xe2bfa3(0x1d9)],this['configs'][_0xe2bfa3(0x1dc)],this[_0xe2bfa3(0x4b7)],_0x4ec94c);return this['objectStores'][_0xe2bfa3(0x552)](_0x237649,_0x2dd61c),this[_0xe2bfa3(0x657)][_0xe2bfa3(0x1e0)][_0xe2bfa3(0x600)](_0x2dd61c),_0x2dd61c;}async[_0xc3b14b(0x23d)](_0x4b5f19,_0x312ace,_0xae7622){const _0x5e839d=_0xc3b14b;if(this[_0x5e839d(0x335)][_0x5e839d(0x62d)](_0x4b5f19))throw new _0x560421(_0x422571[_0x5e839d(0x4c8)],_0x5e839d(0x167));try{const _0x41f3ad=new _0x16be90(this[_0x5e839d(0x657)][_0x5e839d(0x1ab)],_0x4b5f19,this['configs'][_0x5e839d(0x1d9)],this[_0x5e839d(0x657)]['vendorId'],_0x312ace,_0xae7622);return this[_0x5e839d(0x335)][_0x5e839d(0x552)](_0x4b5f19,_0x41f3ad),this[_0x5e839d(0x657)][_0x5e839d(0x1e0)][_0x5e839d(0x600)](_0x41f3ad),_0x41f3ad;}catch(_0x3455f7){if(_0x3455f7 instanceof _0x560421)throw _0x3455f7;throw console[_0x5e839d(0x462)](_0x5e839d(0x2e9),_0x3455f7),new _0x666015(_0x666015[_0x5e839d(0x5c4)][_0x5e839d(0x3c2)],{'label':_0x4b5f19,'clusterId':this[_0x5e839d(0x657)][_0x5e839d(0x1d9)],'vendorId':this[_0x5e839d(0x657)][_0x5e839d(0x1dc)]});}}['createLocalDynamicMediaStream'](_0x57c5ca,_0x4e0670){const _0x29e500=_0xc3b14b;if(this[_0x29e500(0x266)][_0x29e500(0x62d)](_0x57c5ca))throw new _0x560421(_0x422571[_0x29e500(0x65c)],_0x29e500(0x152));const _0x4dcb1d=new _0x96f2b4(this['configs'][_0x29e500(0x1ab)],_0x57c5ca,_0x4e0670,this['maxFps'],this[_0x29e500(0x156)]);return this['localMediaStreams'][_0x29e500(0x552)](_0x57c5ca,_0x4dcb1d),this['configs'][_0x29e500(0x1e0)][_0x29e500(0x600)](_0x4dcb1d),_0x4dcb1d[_0x29e500(0x69e)](),_0x4dcb1d;}[_0xc3b14b(0x265)](_0x2a09dc,_0x3bec4f){const _0x30d8d2=_0xc3b14b;if(this[_0x30d8d2(0x266)][_0x30d8d2(0x62d)](_0x2a09dc))throw new _0x560421(_0x422571[_0x30d8d2(0x65c)],'Stream\x20already\x20exists');const _0x4b3a47=new _0x54ef85(this[_0x30d8d2(0x657)][_0x30d8d2(0x1ab)],_0x2a09dc,_0x3bec4f);return this[_0x30d8d2(0x266)][_0x30d8d2(0x552)](_0x2a09dc,_0x4b3a47),this[_0x30d8d2(0x657)]['mediator'][_0x30d8d2(0x600)](_0x4b3a47),_0x4b3a47['publish'](),_0x4b3a47;}[_0xc3b14b(0x590)](_0x22a6e6){const _0x1286fe=_0xc3b14b;if(this['pubSubTopics'][_0x1286fe(0x62d)](_0x22a6e6))throw new _0x560421(_0x422571[_0x1286fe(0x6be)],_0x1286fe(0x53b));const _0x584b5c=new _0x329f5b(this[_0x1286fe(0x657)]['localId'],_0x22a6e6);return this[_0x1286fe(0x39b)]['set'](_0x22a6e6,_0x584b5c),this[_0x1286fe(0x657)][_0x1286fe(0x1e0)][_0x1286fe(0x600)](_0x584b5c),_0x584b5c;}[_0xc3b14b(0x228)](_0x53266f,_0xdd1f0d,_0x138b8f,_0x403c07){const _0x394fc3=_0xc3b14b;this[_0x394fc3(0x2e7)][_0x394fc3(0x62d)](_0x53266f)||this['remoteMediaStreams']['set'](_0x53266f,new Map());const _0x53a089=this[_0x394fc3(0x2e7)]['get'](_0x53266f);if(_0x53a089[_0x394fc3(0x62d)](_0xdd1f0d))throw new _0x560421(_0x422571['RemoteMediaStreamAlreadyExists'],_0x394fc3(0x516));const _0x2c924b=new _0x15d79f(this['configs']['localId'],_0x53266f,_0xdd1f0d,_0x138b8f,_0x403c07);return _0x53a089[_0x394fc3(0x552)](_0xdd1f0d,_0x2c924b),this[_0x394fc3(0x657)][_0x394fc3(0x1e0)][_0x394fc3(0x600)](_0x2c924b),_0x2c924b;}['getObjectStoreBuckets'](_0x4a6a48){const _0x3c3492=_0xc3b14b,_0x372246=Array['from'](this[_0x3c3492(0x6ca)][_0x3c3492(0x59d)]());return _0x4a6a48?_0x372246[_0x3c3492(0x4c0)](_0x4a6a48):_0x372246;}[_0xc3b14b(0x36b)](_0x241f19){const _0x2df541=_0xc3b14b,_0x5c53c0=Array[_0x2df541(0x223)](this['keyValueDatabases']['values']());return _0x241f19?_0x5c53c0[_0x2df541(0x4c0)](_0x241f19):_0x5c53c0;}['getLocalMediaStreams'](_0x401b3d){const _0x20fedc=_0xc3b14b,_0x33038e=Array['from'](this['localMediaStreams']['values']());return _0x401b3d?_0x33038e[_0x20fedc(0x4c0)](_0x401b3d):_0x33038e;}[_0xc3b14b(0x5e5)](_0x1bec48){const _0x3f12f4=_0xc3b14b,_0x48f1dc=Array[_0x3f12f4(0x223)](this[_0x3f12f4(0x39b)]['values']());return _0x1bec48?_0x48f1dc[_0x3f12f4(0x4c0)](_0x1bec48):_0x48f1dc;}[_0xc3b14b(0x174)](_0x38e47f){const _0x1bf383=_0xc3b14b,_0x40a6e1=Array[_0x1bf383(0x223)](this[_0x1bf383(0x2e7)][_0x1bf383(0x59d)]())[_0x1bf383(0x50e)]((_0x41082d,_0x13947d)=>[..._0x41082d,...Array[_0x1bf383(0x223)](_0x13947d[_0x1bf383(0x59d)]())],[]);return _0x38e47f?_0x40a6e1[_0x1bf383(0x4c0)](_0x38e47f):_0x40a6e1;}[_0xc3b14b(0x6c1)](_0x53c327){const _0x2cb52b=_0xc3b14b;switch(_0x53c327[_0x2cb52b(0x470)]['type']){case _0x21d02e[_0x2cb52b(0x55c)]:this[_0x2cb52b(0x546)](_0x53c327['content']);break;case _0x21d02e[_0x2cb52b(0x46d)]:this[_0x2cb52b(0x41b)](_0x53c327['content']);break;case _0x21d02e['CloseMediaStream']:this[_0x2cb52b(0x280)](_0x53c327[_0x2cb52b(0x470)]);break;case _0x21d02e[_0x2cb52b(0x62b)]:this[_0x2cb52b(0x382)](_0x53c327['content']);break;case _0x21d02e[_0x2cb52b(0x2f4)]:this[_0x2cb52b(0x54d)](_0x53c327[_0x2cb52b(0x470)]);break;case _0x21d02e['CloseKeyValueDatabase']:this[_0x2cb52b(0x6bd)](_0x53c327[_0x2cb52b(0x470)]);break;case _0x21d02e['UnsubscribeMediaStream']:this[_0x2cb52b(0x511)](_0x53c327[_0x2cb52b(0x470)]);break;case _0x21d02e[_0x2cb52b(0x5b4)]:this['keyValueDatabases'][_0x2cb52b(0x30f)](_0x53c327[_0x2cb52b(0x470)][_0x2cb52b(0x5bf)])?.['sendTransactionsDump'](_0x53c327[_0x2cb52b(0x40f)]);break;case _0x21d02e[_0x2cb52b(0x255)]:this[_0x2cb52b(0x335)][_0x2cb52b(0x30f)](_0x53c327['content'][_0x2cb52b(0x5bf)])?.[_0x2cb52b(0x38e)](_0x53c327['sourceId'],_0x53c327[_0x2cb52b(0x470)][_0x2cb52b(0x3ae)]);break;case _0x21d02e[_0x2cb52b(0x370)]:this[_0x2cb52b(0x335)][_0x2cb52b(0x30f)](_0x53c327[_0x2cb52b(0x470)][_0x2cb52b(0x5bf)])?.[_0x2cb52b(0x4d3)](_0x53c327[_0x2cb52b(0x40f)],_0x53c327['content'][_0x2cb52b(0x51f)]);break;case _0x21d02e[_0x2cb52b(0x1f9)]:this['configs'][_0x2cb52b(0x1e0)][_0x2cb52b(0x63f)]('local-media-stream-track-fail',{'label':_0x53c327['content'][_0x2cb52b(0x5bf)],'trackKinds':_0x53c327[_0x2cb52b(0x470)][_0x2cb52b(0x425)]});}}['handleNodeSystemEvents']({content:_0x412ff8}){const _0x297b33=_0xc3b14b;switch(_0x412ff8['type']){case _0x5e95fc['UserJoin']:this[_0x297b33(0x1cf)](_0x412ff8),this[_0x297b33(0x403)](_0x412ff8);break;case _0x5e95fc[_0x297b33(0x6ad)]:this[_0x297b33(0x22f)](_0x412ff8),this[_0x297b33(0x57e)](_0x412ff8);}}['handleSubscriptionSystemEvents'](_0x4059ec){const _0x5c3c45=_0xc3b14b;switch(_0x4059ec[_0x5c3c45(0x470)]['type']){case _0x258e6f[_0x5c3c45(0x588)]:this[_0x5c3c45(0x211)](_0x4059ec['sourceId'],_0x4059ec[_0x5c3c45(0x470)]);break;case _0x258e6f[_0x5c3c45(0x293)]:this[_0x5c3c45(0x1dd)](_0x4059ec['sourceId'],_0x4059ec[_0x5c3c45(0x470)]);break;case _0x258e6f['UnsubscribeMediaStream']:this[_0x5c3c45(0x200)](_0x4059ec[_0x5c3c45(0x40f)],_0x4059ec['content']);}}[_0xc3b14b(0x511)](_0x1d3e7d){const _0x3128c0=_0xc3b14b;if(0x0===_0x1d3e7d[_0x3128c0(0x6d6)])this[_0x3128c0(0x2e7)]['get'](_0x1d3e7d[_0x3128c0(0x299)])?.[_0x3128c0(0x30f)](_0x1d3e7d['label'])?.['destroy']();else{const _0x525811=this[_0x3128c0(0x2e7)][_0x3128c0(0x30f)](_0x1d3e7d['ownerId'])?.[_0x3128c0(0x30f)](_0x1d3e7d[_0x3128c0(0x5bf)]);if(!_0x525811)return;_0x1d3e7d[_0x3128c0(0x425)][_0x3128c0(0x602)](_0x1dff3d=>_0x525811[_0x3128c0(0x659)](_0x1dff3d));}}['handlePublishMediaStream'](_0x5b6801){const _0x49505f=_0xc3b14b,{label:_0x5455f1,ownerId:_0x83d889,stream:{streamId:_0x41e57b,availableTrackKinds:_0x29cb6c}}=_0x5b6801;if(this[_0x49505f(0x2e7)][_0x49505f(0x30f)](_0x83d889)?.[_0x49505f(0x62d)](_0x5455f1))return void _0x4eca14[_0x49505f(0x3e4)](_0x46b6b6[_0x49505f(0x420)],_0x49505f(0x319),_0x41e57b);const _0x292128=this[_0x49505f(0x228)](_0x83d889,_0x5455f1,_0x41e57b,_0x29cb6c);this[_0x49505f(0x657)][_0x49505f(0x1e0)][_0x49505f(0x63f)]('user-publish-media',{'ownerId':_0x83d889,'stream':_0x292128});}[_0xc3b14b(0x41b)]({ownerId:_0x50f1cc,label:_0x82c982}){const _0x1726b4=_0xc3b14b;this['removeRemoteMediaStream'](_0x50f1cc,_0x82c982),this[_0x1726b4(0x657)][_0x1726b4(0x1e0)][_0x1726b4(0x63f)](_0x1726b4(0x2ef),{'ownerId':_0x50f1cc,'label':_0x82c982});}[_0xc3b14b(0x280)](_0x21b435){const _0x44edac=_0xc3b14b;this[_0x44edac(0x51b)](_0x21b435[_0x44edac(0x5bf)]);}[_0xc3b14b(0x54d)](_0x3bae7c){const _0x258c89=_0xc3b14b;this[_0x258c89(0x54a)](_0x3bae7c[_0x258c89(0x5bf)]);}[_0xc3b14b(0x382)](_0x35b007){const _0x2c886b=_0xc3b14b;this[_0x2c886b(0x5cc)](_0x35b007[_0x2c886b(0x5bf)]);}[_0xc3b14b(0x6bd)](_0x508123){const _0x3e3cff=_0xc3b14b;this['removeKeyValueDatabase'](_0x508123[_0x3e3cff(0x5bf)]);}[_0xc3b14b(0x211)](_0x316303,_0x47bc03){const _0x555bc2=_0xc3b14b,{ownerId:_0x44ec78,label:_0x10e653}=_0x47bc03;let _0x31d064;_0x31d064=_0x44ec78!==this['configs']['localId']?this[_0x555bc2(0x2e7)]['get'](_0x44ec78)[_0x555bc2(0x30f)](_0x10e653):this[_0x555bc2(0x266)]['get'](_0x10e653),_0x31d064[_0x555bc2(0x424)](_0x316303,_0x47bc03[_0x555bc2(0x2fc)])['subscribe'](_0x47bc03,_0x31d064[_0x555bc2(0x3fc)]());}[_0xc3b14b(0x1dd)](_0x459246,_0x16919f){const _0x1039af=_0xc3b14b,{ownerId:_0x481435,label:_0x55f1d2}=_0x16919f;let _0x2d7bee;_0x2d7bee=_0x481435!==this[_0x1039af(0x657)][_0x1039af(0x1ab)]?this['remoteMediaStreams'][_0x1039af(0x30f)](_0x481435)['get'](_0x55f1d2):this[_0x1039af(0x266)][_0x1039af(0x30f)](_0x55f1d2),_0x2d7bee[_0x1039af(0x424)](_0x459246,_0x16919f[_0x1039af(0x2fc)])[_0x1039af(0x25f)](_0x16919f);}['handleUnsubscribeMediaStream'](_0x432d1b,_0xba13bb){const _0x511517=_0xc3b14b,{ownerId:_0x102029,label:_0x3ce377}=_0xba13bb;let _0x1a938f;_0x1a938f=_0x102029!==this[_0x511517(0x657)]['localId']?this['remoteMediaStreams'][_0x511517(0x30f)](_0x102029)[_0x511517(0x30f)](_0x3ce377):this[_0x511517(0x266)][_0x511517(0x30f)](_0x3ce377),_0x1a938f['getShareableStream'](_0x432d1b)['unsubscribe'](_0xba13bb);}[_0xc3b14b(0x1cf)]({id:_0x518ee1}){const _0x26c93c=_0xc3b14b;this[_0x26c93c(0x672)]()[_0x26c93c(0x602)](_0x226be2=>{const _0x1d49ca=_0x26c93c;_0x226be2[_0x1d49ca(0x69e)](_0x518ee1);});}[_0xc3b14b(0x22f)]({id:_0x3d1e5f}){const _0x5c8f31=_0xc3b14b;this['getRemoteMediaStreams'](_0xc227c2=>_0xc227c2[_0x5c8f31(0x3aa)]()===_0x3d1e5f)[_0x5c8f31(0x602)](_0x3ac97c=>{const _0x926e1d=_0x5c8f31;this[_0x926e1d(0x2d5)](_0x3ac97c[_0x926e1d(0x3aa)](),_0x3ac97c[_0x926e1d(0x2e1)]());});}[_0xc3b14b(0x403)]({id:_0xf1011a}){const _0x21c8a6=_0xc3b14b;this[_0x21c8a6(0x6ca)][_0x21c8a6(0x602)](_0x4466bd=>_0x4466bd[_0x21c8a6(0x4b0)](_0xf1011a));}['notifyObjectStoreOfUserLeave']({id:_0xa7319c}){const _0x540261=_0xc3b14b;this[_0x540261(0x6ca)][_0x540261(0x602)](_0x42f042=>_0x42f042[_0x540261(0x22f)](_0xa7319c));}[_0xc3b14b(0x54a)](_0x5b36d8){const _0x3474fb=_0xc3b14b;if(!this['objectStores'][_0x3474fb(0x62d)](_0x5b36d8))throw new _0x560421(_0x422571['ObjectStoreDoesNotExist'],_0x3474fb(0x2c5));const _0x423198=this[_0x3474fb(0x6ca)]['get'](_0x5b36d8);this[_0x3474fb(0x6ca)]['delete'](_0x5b36d8),_0x423198[_0x3474fb(0x504)](),this['configs'][_0x3474fb(0x1e0)][_0x3474fb(0x33d)](_0x423198);}[_0xc3b14b(0x5cc)](_0x33f944){const _0x104a40=_0xc3b14b;if(!this[_0x104a40(0x39b)][_0x104a40(0x62d)](_0x33f944))throw new _0x560421(_0x422571[_0x104a40(0x310)],_0x104a40(0x2c5));const _0x57006c=this['pubSubTopics'][_0x104a40(0x30f)](_0x33f944);this[_0x104a40(0x39b)][_0x104a40(0x4eb)](_0x33f944),_0x57006c[_0x104a40(0x504)](),this[_0x104a40(0x657)][_0x104a40(0x1e0)][_0x104a40(0x33d)](_0x57006c);}[_0xc3b14b(0x281)](_0x107e3b){const _0x60982d=_0xc3b14b;if(!this['keyValueDatabases'][_0x60982d(0x62d)](_0x107e3b))throw new _0x560421(_0x422571[_0x60982d(0x2ce)],_0x60982d(0x5d6));const _0x338cc1=this[_0x60982d(0x335)][_0x60982d(0x30f)](_0x107e3b);this[_0x60982d(0x335)][_0x60982d(0x4eb)](_0x107e3b),_0x338cc1['destroy'](),this[_0x60982d(0x657)][_0x60982d(0x1e0)][_0x60982d(0x33d)](_0x338cc1);}[_0xc3b14b(0x51b)](_0x224985){const _0x1cca61=_0xc3b14b;if(!this[_0x1cca61(0x266)][_0x1cca61(0x62d)](_0x224985))throw new _0x666015(_0x666015[_0x1cca61(0x5c4)][_0x1cca61(0x1df)],{'label':_0x224985,'localId':this[_0x1cca61(0x657)][_0x1cca61(0x1ab)]});const _0x16b2b8=this[_0x1cca61(0x266)][_0x1cca61(0x30f)](_0x224985);this['configs'][_0x1cca61(0x1e0)]['unregisterSystemSource'](_0x16b2b8),_0x16b2b8[_0x1cca61(0x504)](),this[_0x1cca61(0x266)][_0x1cca61(0x4eb)](_0x224985);}[_0xc3b14b(0x2d5)](_0x3c8f98,_0x1dac19){const _0x299435=_0xc3b14b;if(!this['remoteMediaStreams'][_0x299435(0x62d)](_0x3c8f98))throw new _0x666015(_0x666015[_0x299435(0x5c4)][_0x299435(0x455)],{'userId':_0x3c8f98,'localId':this['configs'][_0x299435(0x1ab)]});const _0x485724=this[_0x299435(0x2e7)][_0x299435(0x30f)](_0x3c8f98);if(!_0x485724[_0x299435(0x62d)](_0x1dac19))throw new _0x666015(_0x666015[_0x299435(0x5c4)][_0x299435(0x691)],{'userId':_0x3c8f98,'label':_0x1dac19,'localId':this[_0x299435(0x657)][_0x299435(0x1ab)]});const _0x554bd9=_0x485724[_0x299435(0x30f)](_0x1dac19);this[_0x299435(0x657)][_0x299435(0x1e0)][_0x299435(0x33d)](_0x554bd9),_0x554bd9[_0x299435(0x504)](),_0x485724[_0x299435(0x4eb)](_0x1dac19);}}!function(_0xafc009){const _0x2712ed=_0xc3b14b;_0xafc009[_0x2712ed(0x5c6)]=_0x2712ed(0x518),_0xafc009[_0x2712ed(0x58e)]=_0x2712ed(0x2cc),_0xafc009[_0x2712ed(0x58f)]='time_per_frame',_0xafc009[_0x2712ed(0x19f)]='bitrate',_0xafc009[_0x2712ed(0x302)]=_0x2712ed(0x649),_0xafc009[_0x2712ed(0x483)]=_0x2712ed(0x1b4),_0xafc009['RoundTripTime']=_0x2712ed(0x567),_0xafc009[_0x2712ed(0x6b2)]=_0x2712ed(0x26c);}(_0x701d1c||(_0x701d1c={})),function(_0x291c65){const _0x12a078=_0xc3b14b;_0x291c65[_0x12a078(0x2c0)]=_0x12a078(0x2a0),_0x291c65[_0x12a078(0x58f)]='cpu.time_per_frame',_0x291c65[_0x12a078(0x6b2)]=_0x12a078(0x625),_0x291c65['FramePerSecond']=_0x12a078(0x1ac),_0x291c65[_0x12a078(0x19f)]=_0x12a078(0x574),_0x291c65[_0x12a078(0x302)]=_0x12a078(0x20f),_0x291c65['RoundTripTime']=_0x12a078(0x28f);}(_0x69668c||(_0x69668c={})),function(_0x4c56ad){const _0x49e128=_0xc3b14b;_0x4c56ad[_0x4c56ad[_0x49e128(0x650)]=0x0]=_0x49e128(0x650);}(_0x454f26||(_0x454f26={}));const _0x4cae10=[{'type':_0x701d1c['STVolatility'],'reportMetric':_0x3f229e=>_0x3f229e[_0xc3b14b(0x5c6)],'maxThreshold':2.5},{'type':_0x701d1c[_0xc3b14b(0x58e)],'reportMetric':_0x49be0f=>_0x49be0f[_0xc3b14b(0x58e)],'maxThreshold':0.5}],_0x1f5678=[{'type':_0x701d1c['TimePerFrame'],'reportMetric':_0x5488bc=>{const _0x1cc7a9=_0xc3b14b,_0x32ac0e=0x3e8/_0x5488bc[_0x1cc7a9(0x47c)];return _0x5488bc[_0x1cc7a9(0x5aa)]/_0x32ac0e;},'maxThreshold':0.75},{'type':_0x701d1c[_0xc3b14b(0x19f)],'reportMetric':_0x29d755=>{const _0x423ad8=_0xc3b14b,_0x244649=_0x29d755[_0x423ad8(0x47c)]*_0x29d755[_0x423ad8(0x277)]*_0x29d755['frameHeight']*0.12;return _0x29d755[_0x423ad8(0x2e2)]/_0x244649;},'minThreshold':0.25},{'type':_0x701d1c['Jitter'],'reportMetric':_0x416e53=>_0x416e53[_0xc3b14b(0x649)],'maxThreshold':0.6},{'type':_0x701d1c['FramePerSecond'],'reportMetric':_0x3d4352=>_0x3d4352[_0xc3b14b(0x47c)],'minThreshold':0xa}],_0x2003d5=[{'type':_0x701d1c[_0xc3b14b(0x302)],'reportMetric':_0x32f360=>_0x32f360[_0xc3b14b(0x649)],'maxThreshold':0.6}],_0x4e58bc=[{'type':_0x701d1c[_0xc3b14b(0x368)],'reportMetric':_0x1137c6=>_0x1137c6[_0xc3b14b(0x193)],'maxThreshold':0x1/0x0}],_0x432478=[{'type':_0x701d1c[_0xc3b14b(0x6b2)],'reportMetric':_0xa31a22=>_0xa31a22[_0xc3b14b(0x6b2)],'maxThreshold':0x12c}],_0xce69f0=[{'type':_0x69668c[_0xc3b14b(0x2c0)],'issues':[{'type':_0x701d1c[_0xc3b14b(0x5c6)],'threshold':0x5},{'type':_0x701d1c['DTVolatility'],'threshold':0x5}]},{'type':_0x69668c[_0xc3b14b(0x58f)],'issues':[{'type':_0x701d1c[_0xc3b14b(0x58f)],'threshold':0x3}]},{'type':_0x69668c[_0xc3b14b(0x6b2)],'issues':[{'type':_0x701d1c[_0xc3b14b(0x6b2)],'threshold':0x2}]},{'type':_0x69668c[_0xc3b14b(0x483)],'issues':[{'type':_0x701d1c[_0xc3b14b(0x483)],'threshold':0x3}]},{'type':_0x69668c[_0xc3b14b(0x19f)],'issues':[{'type':_0x701d1c[_0xc3b14b(0x19f)],'threshold':0x3}]},{'type':_0x69668c['Jitter'],'issues':[{'type':_0x701d1c[_0xc3b14b(0x302)],'threshold':0x3}]},{'type':_0x69668c[_0xc3b14b(0x368)],'issues':[{'type':_0x701d1c['RoundTripTime'],'threshold':0x3}]}];var _0x518235,_0x409e5c;!function(_0x3b6d54){const _0x33ce95=_0xc3b14b;_0x3b6d54[_0x3b6d54[_0x33ce95(0x1ca)]=0x0]=_0x33ce95(0x1ca),_0x3b6d54[_0x3b6d54['LocalReport']=0x1]=_0x33ce95(0x54c);}(_0x518235||(_0x518235={}));class _0x5781dc{[_0xc3b14b(0x657)];['issues']=[];['systemTopic'];constructor(_0x37ddeb){const _0x3dcbd8=_0xc3b14b;this['configs']=_0x37ddeb,this[_0x3dcbd8(0x657)]['mediator'][_0x3dcbd8(0x600)](this);}['registerSystemPublisher'](_0x29c913){const _0x327acf=_0xc3b14b;this[_0x327acf(0x5ea)]=_0x29c913;}[_0xc3b14b(0x680)](){const _0x5b33f2=_0xc3b14b;this[_0x5b33f2(0x5ea)]=void 0x0;}[_0xc3b14b(0x50c)](){const _0x50ae39=_0xc3b14b;this[_0x50ae39(0x657)][_0x50ae39(0x1e0)][_0x50ae39(0x33d)](this),this['issues']=[];}[_0xc3b14b(0x229)](_0x2e1bf7){const _0x1abfd4=_0xc3b14b;switch(_0x2e1bf7[_0x1abfd4(0x470)][_0x1abfd4(0x3e0)]){case _0x518235[_0x1abfd4(0x54c)]:this[_0x1abfd4(0x5f3)](_0x2e1bf7['content'][_0x1abfd4(0x525)]);break;case _0x518235[_0x1abfd4(0x1ca)]:this[_0x1abfd4(0x213)](_0x2e1bf7[_0x1abfd4(0x470)][_0x1abfd4(0x525)]);}}[_0xc3b14b(0x301)](_0x3e1ecd,_0x5e88a0,_0x1ef9a8,_0x1e225d){const _0x4cf12f=_0xc3b14b,_0x5c3067=_0xce69f0[_0x4cf12f(0x4c7)](_0x495781=>_0x495781[_0x4cf12f(0x487)][_0x4cf12f(0x578)](_0x2ee037=>_0x2ee037[_0x4cf12f(0x3e0)]===_0x3e1ecd));_0x1e225d>=_0x5c3067[_0x4cf12f(0x487)][_0x4cf12f(0x4c7)](_0x297a0d=>_0x297a0d[_0x4cf12f(0x3e0)]===_0x3e1ecd)[_0x4cf12f(0x372)]&&(this[_0x4cf12f(0x4cc)](_0x5c3067[_0x4cf12f(0x3e0)],_0x5e88a0,_0x1ef9a8),this['issues']=this[_0x4cf12f(0x487)][_0x4cf12f(0x4c0)](_0x3f30d1=>!(_0x3f30d1[_0x4cf12f(0x3e0)]===_0x3e1ecd&&_0x3f30d1['userId']===_0x5e88a0&&_0x3f30d1['origin']===_0x1ef9a8)));}[_0xc3b14b(0x5f3)](_0x1d24f3){_0x4cae10['forEach'](_0x4ba780=>{const _0x12b125=a0_0x442c,_0x53b111=_0x4ba780[_0x12b125(0x647)](_0x1d24f3);_0x4ba780[_0x12b125(0x1fa)]&&_0x53b111>_0x4ba780[_0x12b125(0x1fa)]&&this[_0x12b125(0x40b)](_0x4ba780[_0x12b125(0x3e0)],this[_0x12b125(0x657)][_0x12b125(0x1ab)],_0x46b2a2[_0x12b125(0x23b)],_0x53b111),_0x4ba780[_0x12b125(0x3f3)]&&_0x53b111<_0x4ba780[_0x12b125(0x3f3)]&&this[_0x12b125(0x40b)](_0x4ba780['type'],this['configs']['localId'],_0x46b2a2[_0x12b125(0x23b)],_0x53b111);});}[_0xc3b14b(0x213)](_0x43a985){const _0xf17a95=_0xc3b14b;let _0x514052=[];switch(_0x43a985[_0xf17a95(0x41d)]){case _0x46b2a2[_0xf17a95(0x23b)]:_0x514052=_0x4e58bc;break;case _0x46b2a2[_0xf17a95(0x306)]:_0x514052=_0x432478;}_0x43a985['video']&&this[_0xf17a95(0x20d)](_0x43a985['userId'],_0x46b2a2[_0xf17a95(0x23b)],_0x43a985[_0xf17a95(0x42e)]),_0x43a985[_0xf17a95(0x64a)]&&this['detectAudioIssues'](_0x43a985[_0xf17a95(0x225)],_0x46b2a2[_0xf17a95(0x23b)],_0x43a985[_0xf17a95(0x64a)]),_0x514052[_0xf17a95(0x602)](_0x4405e4=>{const _0x5e2416=_0xf17a95,_0x274bc3=_0x4405e4[_0x5e2416(0x647)](_0x43a985);_0x4405e4[_0x5e2416(0x1fa)]&&_0x274bc3>_0x4405e4[_0x5e2416(0x1fa)]&&this[_0x5e2416(0x40b)](_0x4405e4[_0x5e2416(0x3e0)],_0x43a985[_0x5e2416(0x225)],_0x46b2a2[_0x5e2416(0x23b)],_0x274bc3),_0x4405e4[_0x5e2416(0x3f3)]&&_0x274bc3<_0x4405e4[_0x5e2416(0x3f3)]&&this['addIssue'](_0x4405e4[_0x5e2416(0x3e0)],_0x43a985['userId'],_0x46b2a2[_0x5e2416(0x23b)],_0x274bc3);});}[_0xc3b14b(0x20d)](_0x281d2f,_0x4a40d9,_0x12b24f){const _0x30893e=_0xc3b14b;0x0!==_0x12b24f['bitrate']&&_0x1f5678[_0x30893e(0x602)](_0x1d663c=>{const _0x5999a3=_0x30893e,_0x5b8d39=_0x1d663c[_0x5999a3(0x647)](_0x12b24f);_0x1d663c[_0x5999a3(0x1fa)]&&_0x5b8d39>_0x1d663c[_0x5999a3(0x1fa)]&&this[_0x5999a3(0x40b)](_0x1d663c[_0x5999a3(0x3e0)],_0x281d2f,_0x4a40d9,_0x5b8d39,_0x5999a3(0x42e)),_0x1d663c[_0x5999a3(0x3f3)]&&_0x5b8d39<_0x1d663c[_0x5999a3(0x3f3)]&&this[_0x5999a3(0x40b)](_0x1d663c[_0x5999a3(0x3e0)],_0x281d2f,_0x4a40d9,_0x5b8d39,'video');});}[_0xc3b14b(0x422)](_0xa5c35b,_0x13d895,_0x50a5e3){const _0x12fd06=_0xc3b14b;0x0!==_0x50a5e3[_0x12fd06(0x2e2)]&&_0x2003d5[_0x12fd06(0x602)](_0x146234=>{const _0x298c2c=_0x12fd06,_0x3f0526=_0x146234[_0x298c2c(0x647)](_0x50a5e3);_0x146234['maxThreshold']&&_0x3f0526>_0x146234[_0x298c2c(0x1fa)]&&this[_0x298c2c(0x40b)](_0x146234['type'],_0xa5c35b,_0x13d895,_0x3f0526,_0x298c2c(0x64a)),_0x146234['minThreshold']&&_0x3f0526<_0x146234[_0x298c2c(0x3f3)]&&this[_0x298c2c(0x40b)](_0x146234[_0x298c2c(0x3e0)],_0xa5c35b,_0x13d895,_0x3f0526,_0x298c2c(0x64a));});}['addIssue'](_0x9cbe53,_0xc3d3d6,_0x15d689,_0x40b8ad,_0x5e0faa){const _0x53d3f3=_0xc3b14b;_0x4eca14[_0x53d3f3(0x3e4)](_0x46b6b6[_0x53d3f3(0x40c)],_0x53d3f3(0x5e2)+_0x9cbe53,_0x9cbe53,_0x40b8ad),_0x4eca14[_0x53d3f3(0x197)](_0x53d3f3(0x580),{'clusterId':this[_0x53d3f3(0x657)][_0x53d3f3(0x1d9)],'userId':this[_0x53d3f3(0x657)][_0x53d3f3(0x1ab)],'remoteId':_0xc3d3d6,'data':{'type':_0x9cbe53,'value':_0x40b8ad,'kind':_0x5e0faa}}),this[_0x53d3f3(0x487)]=this[_0x53d3f3(0x487)][_0x53d3f3(0x4c0)](_0x79cc90=>Date['now']()-_0x79cc90[_0x53d3f3(0x2a6)]<0x7530),this[_0x53d3f3(0x487)][_0x53d3f3(0x16d)]({'timestamp':Date['now'](),'type':_0x9cbe53,'userId':_0xc3d3d6,'origin':_0x15d689,'value':_0x40b8ad,'kind':_0x5e0faa});const _0x17e7f1=this[_0x53d3f3(0x487)][_0x53d3f3(0x4c0)](_0x62b741=>_0x62b741[_0x53d3f3(0x3e0)]===_0x9cbe53&&_0x62b741[_0x53d3f3(0x225)]===_0xc3d3d6&&_0x62b741[_0x53d3f3(0x41d)]===_0x15d689)[_0x53d3f3(0x1c3)];this[_0x53d3f3(0x301)](_0x9cbe53,_0xc3d3d6,_0x15d689,_0x17e7f1);}[_0xc3b14b(0x4cc)](_0x2de838,_0x5a1a6c,_0x266ad2){const _0x296ab7=_0xc3b14b;_0x4eca14[_0x296ab7(0x3e4)](_0x46b6b6['Detection'],_0x296ab7(0x62e)+_0x2de838),_0x4eca14['logEvent']('problem',{'clusterId':this[_0x296ab7(0x657)]['clusterId'],'userId':this[_0x296ab7(0x657)]['localId'],'remoteId':_0x5a1a6c,'data':{'type':_0x2de838}}),this[_0x296ab7(0x5ea)]?.['publish']({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x296ab7(0x40c)],'content':{'type':_0x454f26[_0x296ab7(0x650)],'data':{'timestamp':Date[_0x296ab7(0x3c8)](),'userId':_0x5a1a6c,'origin':_0x46b2a2[_0x296ab7(0x23b)],'type':_0x2de838}}});}}!function(_0x2527ae){const _0x5b4651=_0xc3b14b;_0x2527ae[_0x2527ae[_0x5b4651(0x374)]=0x0]=_0x5b4651(0x374),_0x2527ae[_0x2527ae[_0x5b4651(0x251)]=0x1]=_0x5b4651(0x251);}(_0x409e5c||(_0x409e5c={}));class _0x4795fb{['id'];[_0xc3b14b(0x5d4)];[_0xc3b14b(0x257)];['remoteConnections'];[_0xc3b14b(0x4b1)];constructor(_0x2154cd,_0x2b4e21,_0x470996,_0x132b8a=new Set(),_0x47bd34){const _0x3a65ab=_0xc3b14b;this['id']=_0x2154cd,this[_0x3a65ab(0x5d4)]=_0x2b4e21,this[_0x3a65ab(0x257)]=_0x470996,this[_0x3a65ab(0x636)]=_0x132b8a,this['rank']=_0x47bd34;}[_0xc3b14b(0x50c)](){const _0x77ce87=_0xc3b14b;this[_0x77ce87(0x4b1)]=void 0x0,this['remoteConnections'][_0x77ce87(0x1e5)]();}[_0xc3b14b(0x16b)](){return this['id'];}[_0xc3b14b(0x297)](){const _0x57c98a=_0xc3b14b;return this[_0x57c98a(0x5d4)];}[_0xc3b14b(0x221)](){const _0xbf8c27=_0xc3b14b;return this[_0xbf8c27(0x257)];}['getRank'](){const _0x2d8b73=_0xc3b14b;return this[_0x2d8b73(0x4b1)];}[_0xc3b14b(0x389)](){return this['remoteConnections'];}}class _0x232eed extends _0x4795fb{['currentVersion'];['status']=_0x409e5c['Online'];[_0xc3b14b(0x5fa)]=Date[_0xc3b14b(0x3c8)]();constructor(_0x170504,_0x27e480,_0x5942bf,_0x2334b5=new Set(),_0x56a879,_0x25aa91){super(_0x170504,_0x27e480,_0x5942bf,_0x2334b5,_0x25aa91),this['currentVersion']=_0x56a879;}['getCurrentVersion'](){const _0x31cb77=_0xc3b14b;return this[_0x31cb77(0x1ec)];}[_0xc3b14b(0x665)](){const _0x9a75c9=_0xc3b14b;return this[_0x9a75c9(0x545)];}[_0xc3b14b(0x2cd)](){const _0x1a9d23=_0xc3b14b;return this[_0x1a9d23(0x5fa)];}[_0xc3b14b(0x3ba)](_0x30fb12){const _0x73b26e=_0xc3b14b;this['displayName']!==_0x30fb12&&(this['displayName']=_0x30fb12,this[_0x73b26e(0x178)]());}[_0xc3b14b(0x66e)](_0x502952){const _0x56fd75=_0xc3b14b;this['email']!==_0x502952&&(this[_0x56fd75(0x257)]=_0x502952,this['updateLastUpdated']());}[_0xc3b14b(0x628)](_0x1a24ea){const _0x24e591=_0xc3b14b;this['rank']!==_0x1a24ea&&(this[_0x24e591(0x4b1)]=_0x1a24ea,this[_0x24e591(0x178)]());}[_0xc3b14b(0x541)](_0x6c79c4){const _0x385aae=_0xc3b14b;let _0x4a8286=!0x1;for(const _0x44a13f of this[_0x385aae(0x636)])_0x6c79c4['includes'](_0x44a13f)||(_0x4a8286=!0x0,this[_0x385aae(0x636)][_0x385aae(0x4eb)](_0x44a13f));for(const _0xc4cef1 of _0x6c79c4)this[_0x385aae(0x636)][_0x385aae(0x62d)](_0xc4cef1)||(_0x4a8286=!0x0,this[_0x385aae(0x636)]['add'](_0xc4cef1));_0x4a8286&&this[_0x385aae(0x178)]();}[_0xc3b14b(0x4c2)](_0x5b18a5){const _0x180887=_0xc3b14b;this['currentVersion']!==_0x5b18a5&&(this[_0x180887(0x1ec)]=_0x5b18a5,this[_0x180887(0x178)]());}[_0xc3b14b(0x5cb)](_0x2fab08){const _0x34deb4=_0xc3b14b;this['status']!==_0x2fab08&&(this[_0x34deb4(0x545)]=_0x2fab08,this[_0x34deb4(0x178)](),_0x2fab08===_0x409e5c[_0x34deb4(0x251)]&&this['close']());}['updateLastUpdated'](){const _0x6c5388=_0xc3b14b;this[_0x6c5388(0x5fa)]=Date[_0x6c5388(0x3c8)]();}}class _0x1dc4a6{[_0xc3b14b(0x1dc)];[_0xc3b14b(0x1d9)];[_0xc3b14b(0x1f8)];['minConnections'];[_0xc3b14b(0x395)]=_0x462875();[_0xc3b14b(0x202)];['childRemovedUnsubscriber'];['onDisconnectHandler'];[_0xc3b14b(0x1eb)]=!0x1;[_0xc3b14b(0x421)];['nodeKey'];[_0xc3b14b(0x318)];constructor(_0x5e2ca3,_0x36f4ae,_0x23ad58,_0x3462ee){const _0x232ad2=_0xc3b14b;this['vendorId']=_0x5e2ca3,this['clusterId']=_0x36f4ae,this[_0x232ad2(0x1f8)]=_0x23ad58,this[_0x232ad2(0x433)]=_0x3462ee,this[_0x232ad2(0x421)]='ccc'+this[_0x232ad2(0x1dc)]+'ccc'+this[_0x232ad2(0x1d9)],this['nodeKey']='ccc'+this[_0x232ad2(0x1dc)]+_0x232ad2(0x398)+this[_0x232ad2(0x1f8)][_0x232ad2(0x16b)](),this['firebaseUnsubscriber']=(0x0,_0x3cc805[_0x232ad2(0x626)])((0x0,_0x3cc805[_0x232ad2(0x53a)])(_0x12b24c[_0x232ad2(0x14b)](),_0x232ad2(0x5f1)),_0x10e92a=>{const _0x1c93c9=_0x232ad2;!0x0!==_0x10e92a[_0x1c93c9(0x467)]()?this['connected']&&(this[_0x1c93c9(0x318)]=setTimeout(()=>{const _0x11172d=_0x1c93c9;delete this[_0x11172d(0x318)],_0x4eca14[_0x11172d(0x1f6)]('firebase-disconnect',{'clusterId':this[_0x11172d(0x1d9)],'userId':this[_0x11172d(0x1f8)][_0x11172d(0x16b)]()}),(0x0,_0x3cc805[_0x11172d(0x15a)])(_0x12b24c[_0x11172d(0x14b)]());const _0x2c03fa=_0x1ee6de[_0x11172d(0x5d7)](()=>{const _0x53a511=_0x11172d;navigator[_0x53a511(0x620)]&&(_0x2c03fa(),(0x0,_0x3cc805[_0x53a511(0x5f4)])(_0x12b24c[_0x53a511(0x14b)]()));},0x3e8);},0xbb8)):(this[_0x1c93c9(0x1eb)]=!0x0,this['setOnDisconnectHandler'](),this['disconnectTimeout']&&(clearTimeout(this[_0x1c93c9(0x318)]),delete this[_0x1c93c9(0x318)]));});}async[_0xc3b14b(0x238)](){const _0xa5d331=_0xc3b14b;await this['joinCluster']();const _0x243103=await this[_0xa5d331(0x5ef)]();return this[_0xa5d331(0x21e)]=(0x0,_0x3cc805[_0xa5d331(0x492)])((0x0,_0x3cc805[_0xa5d331(0x53a)])(_0x12b24c[_0xa5d331(0x14b)](),_0xa5d331(0x500)+this[_0xa5d331(0x421)]+_0xa5d331(0x2aa)),_0x52d31b=>{const _0x5244de=_0xa5d331,_0x1a2007=_0x52d31b[_0x5244de(0x494)];if(!_0x1a2007)return;const _0x282fdc=_0x1a2007[_0x5244de(0x56a)](_0x5244de(0x398)+this['vendorId']+'ccc','');this['disconnectCallback'][_0x5244de(0x69e)](_0x282fdc);}),_0x243103;}async[_0xc3b14b(0x50c)](){const _0x56de66=_0xc3b14b;this[_0x56de66(0x21e)]?.(),delete this['childRemovedUnsubscriber'],this[_0x56de66(0x44b)]?.[_0x56de66(0x2d0)](),delete this[_0x56de66(0x44b)],this[_0x56de66(0x202)]?.(),delete this['firebaseUnsubscriber'],this[_0x56de66(0x318)]&&(clearTimeout(this[_0x56de66(0x318)]),delete this[_0x56de66(0x318)]),await(0x0,_0x3cc805[_0x56de66(0x2f1)])((0x0,_0x3cc805[_0x56de66(0x53a)])(_0x12b24c[_0x56de66(0x14b)](),_0x56de66(0x500)+this[_0x56de66(0x421)]+'/nodes/'+this[_0x56de66(0x175)]));}[_0xc3b14b(0x399)](_0x47f8d0){const _0x550104=_0xc3b14b;return this[_0x550104(0x395)][_0x550104(0x674)](_0x47f8d0);}async[_0xc3b14b(0x5ef)](){const _0x7eae39=_0xc3b14b,_0x51faf0=[],_0x5e616a=await(0x0,_0x3cc805[_0x7eae39(0x30f)])((0x0,_0x3cc805['ref'])(_0x12b24c[_0x7eae39(0x14b)](),_0x7eae39(0x500)+this[_0x7eae39(0x421)]+_0x7eae39(0x2aa))),_0x28c6e3=[];return _0x5e616a[_0x7eae39(0x602)](_0x3d615a=>{const _0x9a5822=_0x7eae39,_0x5864dd=_0x3d615a[_0x9a5822(0x494)]?.[_0x9a5822(0x56a)](_0x9a5822(0x398)+this[_0x9a5822(0x1dc)]+'ccc','');_0x28c6e3[_0x9a5822(0x16d)]({'id':_0x5864dd,'joinedAt':_0x3d615a[_0x9a5822(0x467)]()[_0x9a5822(0x426)],'priority':_0x3d615a[_0x9a5822(0x467)]()[_0x9a5822(0x38b)]});}),_0x28c6e3[_0x7eae39(0x3ac)]((_0x41bf2f,_0x3ffd32)=>_0x41bf2f[_0x7eae39(0x426)]===_0x3ffd32[_0x7eae39(0x426)]?_0x41bf2f[_0x7eae39(0x38b)]-_0x3ffd32[_0x7eae39(0x38b)]:_0x41bf2f[_0x7eae39(0x426)]-_0x3ffd32[_0x7eae39(0x426)])[_0x7eae39(0x300)](_0x28c6e3[_0x7eae39(0x444)](_0x5444=>_0x5444['id']===this[_0x7eae39(0x1f8)]['getId']())),_0x28c6e3[_0x7eae39(0x3ac)]((_0x20c228,_0x373e2d)=>_0x373e2d[_0x7eae39(0x426)]===_0x20c228[_0x7eae39(0x426)]?_0x373e2d['priority']-_0x20c228[_0x7eae39(0x38b)]:_0x373e2d['joinedAt']-_0x20c228[_0x7eae39(0x426)])[_0x7eae39(0x602)](_0x3f5d9=>{const _0x2c4512=_0x7eae39;_0x51faf0['length']>=this[_0x2c4512(0x433)]||_0x51faf0['push'](_0x3f5d9['id']);}),_0x4eca14[_0x7eae39(0x197)](_0x7eae39(0x307),{'clusterId':this[_0x7eae39(0x1d9)],'userId':this[_0x7eae39(0x1f8)][_0x7eae39(0x16b)](),'data':{'ancestorIds':_0x51faf0,'allUsers':_0x28c6e3}}),_0x51faf0;}async[_0xc3b14b(0x405)](){const _0xc8c56b=_0xc3b14b;await(0x0,_0x3cc805[_0xc8c56b(0x552)])((0x0,_0x3cc805[_0xc8c56b(0x53a)])(_0x12b24c['getDatabase'](),_0xc8c56b(0x500)+this[_0xc8c56b(0x421)]+'/nodes/'+this['nodeKey']),{'joinedAt':(0x0,_0x3cc805[_0xc8c56b(0x3b3)])(),'priority':Math[_0xc8c56b(0x560)]()});}[_0xc3b14b(0x215)](){const _0x29aa8c=_0xc3b14b;this['onDisconnectHandler']&&this[_0x29aa8c(0x44b)]['cancel'](),this[_0x29aa8c(0x44b)]=(0x0,_0x3cc805[_0x29aa8c(0x4c9)])((0x0,_0x3cc805[_0x29aa8c(0x53a)])(_0x12b24c[_0x29aa8c(0x14b)](),_0x29aa8c(0x500)+this[_0x29aa8c(0x421)]+'/nodes/'+this[_0x29aa8c(0x175)])),this['onDisconnectHandler']['remove']();}}class _0xaaa0e4{[_0xc3b14b(0x657)];[_0xc3b14b(0x699)];[_0xc3b14b(0x1f8)];[_0xc3b14b(0x450)];['discoveryService'];[_0xc3b14b(0x48e)];[_0xc3b14b(0x195)]=[];[_0xc3b14b(0x5ea)];['optimizationLayers']=new Map();[_0xc3b14b(0x259)];[_0xc3b14b(0x314)];constructor(_0xcd43ac,_0x8e5b45,_0x5458af){const _0x2d9d06=_0xc3b14b;this[_0x2d9d06(0x657)]=_0xcd43ac,this[_0x2d9d06(0x699)]=_0x8e5b45,this['localUser']=_0x5458af,this[_0x2d9d06(0x635)]=new _0x1dc4a6(this[_0x2d9d06(0x657)][_0x2d9d06(0x1dc)],this[_0x2d9d06(0x657)][_0x2d9d06(0x1d9)],this[_0x2d9d06(0x1f8)],this[_0x2d9d06(0x699)][_0x2d9d06(0x434)]()),this['discoveryUnsubscriber']=this['discoveryService'][_0x2d9d06(0x399)](this[_0x2d9d06(0x3dc)][_0x2d9d06(0x2c9)](this)),this[_0x2d9d06(0x657)][_0x2d9d06(0x1e0)][_0x2d9d06(0x600)](this[_0x2d9d06(0x1f8)]),this[_0x2d9d06(0x657)][_0x2d9d06(0x1e0)][_0x2d9d06(0x600)](this),this[_0x2d9d06(0x450)]=_0x1ee6de[_0x2d9d06(0x5d7)](()=>{const _0x23e24d=_0x2d9d06,_0x2371f8=Date[_0x23e24d(0x3c8)]();this['graphService'][_0x23e24d(0x632)]()[_0x23e24d(0x602)](_0x62bab8=>{const _0x4e083a=_0x23e24d;_0x62bab8[_0x4e083a(0x665)]()===_0x409e5c[_0x4e083a(0x251)]&&_0x62bab8['getLastUpdated']()<_0x2371f8-0x493e0&&this[_0x4e083a(0x699)][_0x4e083a(0x2ca)](_0x62bab8[_0x4e083a(0x16b)]());});},0xea60);}[_0xc3b14b(0x359)](_0x414f8c){this['systemTopic']=_0x414f8c;}[_0xc3b14b(0x680)](){delete this['systemTopic'];}['close'](){const _0x2d1534=_0xc3b14b;this[_0x2d1534(0x259)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x2d1534(0x259)]),delete this[_0x2d1534(0x314)],this['localUser']['close'](),this[_0x2d1534(0x450)](),this[_0x2d1534(0x48e)](),this[_0x2d1534(0x657)][_0x2d1534(0x1e0)][_0x2d1534(0x33d)](this[_0x2d1534(0x1f8)]),this[_0x2d1534(0x657)][_0x2d1534(0x1e0)][_0x2d1534(0x33d)](this),this[_0x2d1534(0x635)][_0x2d1534(0x50c)]();}['getAncestorIds'](){return this['ancestors'];}[_0xc3b14b(0x27e)](){const _0x56670f=_0xc3b14b;return this[_0x56670f(0x1f8)][_0x56670f(0x16b)]();}[_0xc3b14b(0x352)](){const _0x148f0c=_0xc3b14b;return this[_0x148f0c(0x1f8)];}['getRemoteUsers'](_0x42bd67){const _0x536d6b=_0xc3b14b,_0x5dbd6a=Array['from'](this[_0x536d6b(0x699)][_0x536d6b(0x632)]()[_0x536d6b(0x59d)]())[_0x536d6b(0x4c0)](_0x30b573=>_0x30b573[_0x536d6b(0x665)]()===_0x409e5c['Online']);return _0x42bd67?_0x5dbd6a[_0x536d6b(0x4c0)](_0x42bd67):_0x5dbd6a;}async[_0xc3b14b(0x307)](){const _0x1c3e7c=_0xc3b14b;return this[_0x1c3e7c(0x195)]=await this[_0x1c3e7c(0x635)]['join'](),this[_0x1c3e7c(0x195)][_0x1c3e7c(0x1c3)]<this[_0x1c3e7c(0x699)]['getMinConnections']()&&(this[_0x1c3e7c(0x1f8)]['setRank'](this[_0x1c3e7c(0x195)][_0x1c3e7c(0x1c3)]+0x1),this[_0x1c3e7c(0x201)]()),this['ancestors'];}[_0xc3b14b(0x485)](_0x42509b,_0x427e56){const _0x4ebbf6=_0xc3b14b,_0x345f1b=this[_0x4ebbf6(0x1f8)][_0x4ebbf6(0x389)](),_0x792909=new Set(_0x345f1b),_0x42b68f=Array['from'](_0x345f1b)['filter'](_0x3fe6c5=>_0x3fe6c5!==_0x42509b)[_0x4ebbf6(0x3c0)](_0x4ad1fe=>({'id':_0x4ad1fe,'distance':0x1}));for(;_0x42b68f[_0x4ebbf6(0x1c3)]>0x0;){const _0x5a63a6=_0x42b68f['shift']();if(!_0x5a63a6)continue;if(_0x5a63a6['id']===_0x427e56)return _0x5a63a6['distance'];const _0xb47aab=this[_0x4ebbf6(0x699)][_0x4ebbf6(0x6a7)](_0x5a63a6['id']);_0xb47aab&&_0xb47aab[_0x4ebbf6(0x665)]()!==_0x409e5c[_0x4ebbf6(0x251)]&&_0xb47aab[_0x4ebbf6(0x389)]()[_0x4ebbf6(0x602)](_0xe94b38=>{const _0x56f194=_0x4ebbf6;_0x792909[_0x56f194(0x62d)](_0xe94b38)||(_0x792909[_0x56f194(0x14c)](_0xe94b38),_0x42b68f['push']({'id':_0xe94b38,'distance':_0x5a63a6[_0x56f194(0x349)]+0x1}));});}return-0x1;}[_0xc3b14b(0x6a3)](_0xd6f85){const _0x516c94=_0xc3b14b;try{switch(_0xd6f85[_0x516c94(0x470)]['type']){case _0x5e95fc[_0x516c94(0x346)]:case _0x5e95fc[_0x516c94(0x3c5)]:this['handleUserUpdate'](_0xd6f85[_0x516c94(0x470)]),_0x4eca14[_0x516c94(0x3e4)](_0x46b6b6[_0x516c94(0x52c)],_0x516c94(0x4f9),'\x27'+this[_0x516c94(0x1f8)][_0x516c94(0x16b)]()+',\x20'+_0xd6f85['sourceId']+'\x27',_0xd6f85,_0xd6f85[_0x516c94(0x470)]);break;case _0x5e95fc['UserLeave']:this['removeUser'](_0xd6f85['content']['id']),_0x4eca14[_0x516c94(0x3e4)](_0x46b6b6['Node'],_0x516c94(0x5f5),'\x27'+this[_0x516c94(0x1f8)][_0x516c94(0x16b)]()+',\x20'+_0xd6f85[_0x516c94(0x40f)]+'\x27',_0xd6f85,_0xd6f85[_0x516c94(0x470)]);}}catch(_0x437f96){if(_0x437f96 instanceof _0xac3a39)return void _0x4eca14[_0x516c94(0x3e4)](_0x46b6b6[_0x516c94(0x52c)],_0x437f96[_0x516c94(0x49f)]);throw _0x437f96;}}[_0xc3b14b(0x6da)](_0x31ac29){const _0x57dbcf=_0xc3b14b;switch(_0x31ac29[_0x57dbcf(0x470)][_0x57dbcf(0x3e0)]){case _0x2d9c6b[_0x57dbcf(0x1f7)]:this['handleConnectionSuccess'](_0x31ac29['sourceId']),_0x4eca14[_0x57dbcf(0x3e4)](_0x46b6b6['Node'],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x57dbcf(0x1f8)]['getId']()+',\x20'+_0x31ac29[_0x57dbcf(0x40f)]+'\x27',_0x31ac29,_0x31ac29[_0x57dbcf(0x470)]);break;case _0x2d9c6b[_0x57dbcf(0x60c)]:this['publishUserLeave'](_0x31ac29['sourceId']),_0x4eca14['log'](_0x46b6b6[_0x57dbcf(0x52c)],'NodeManager\x20-\x20PublishUserLeave',this[_0x57dbcf(0x1f8)][_0x57dbcf(0x16b)](),_0x31ac29,_0x31ac29[_0x57dbcf(0x470)]);}}['handleUserJoin'](_0x5f3755){this['createRemoteUser'](_0x5f3755),this['notifyJoin'](_0x5f3755);}[_0xc3b14b(0x29d)](_0x2a651f){const _0x1dd6ca=_0xc3b14b;this[_0x1dd6ca(0x1f8)][_0x1dd6ca(0x36a)](_0x2a651f['id']),this[_0x1dd6ca(0x56b)](_0x2a651f['id']),this[_0x1dd6ca(0x453)](_0x2a651f);}[_0xc3b14b(0x2f8)](_0x3bb855){const _0x1b8efd=_0xc3b14b,{id:_0x2a4322,displayName:_0x1c80d3,email:_0x2cd5ce,rank:_0x3b5824,remoteConnections:_0x527ddb,version:_0x53d8e3}=_0x3bb855,_0x41c9ec=this[_0x1b8efd(0x699)][_0x1b8efd(0x6a7)](_0x2a4322);if(_0x41c9ec){if(!(_0x53d8e3<=_0x41c9ec['getCurrentVersion']())){if(_0x41c9ec[_0x1b8efd(0x541)](_0x527ddb),_0x41c9ec[_0x1b8efd(0x4c2)](_0x53d8e3),_0x41c9ec[_0x1b8efd(0x3ba)](_0x1c80d3),_0x41c9ec[_0x1b8efd(0x66e)](_0x2cd5ce),_0x3b5824&&_0x41c9ec['setRank'](_0x3b5824),this[_0x1b8efd(0x385)](_0x2a4322,_0x3b5824),_0x41c9ec['getStatus']()===_0x409e5c[_0x1b8efd(0x251)])return _0x41c9ec[_0x1b8efd(0x5cb)](_0x409e5c[_0x1b8efd(0x374)]),this[_0x1b8efd(0x201)](),void this['notifyJoin'](_0x3bb855);this[_0x1b8efd(0x201)](),this[_0x1b8efd(0x361)]({'id':_0x2a4322,'displayName':_0x1c80d3,'email':_0x2cd5ce,'remoteConnections':_0x527ddb,'version':_0x53d8e3});}}else this[_0x1b8efd(0x4b0)](_0x3bb855);}[_0xc3b14b(0x385)](_0x783c48,_0x4bf9fd){const _0x297bcf=_0xc3b14b;_0x4bf9fd&&this[_0x297bcf(0x195)][_0x297bcf(0x3f2)](_0x783c48)&&this[_0x297bcf(0x1f8)]['setRank'](_0x4bf9fd+this[_0x297bcf(0x195)][_0x297bcf(0x3f9)](_0x783c48)+0x1);}['handleConnectionSuccess'](_0x31a15c){const _0x2bb725=_0xc3b14b;this['localUser'][_0x2bb725(0x204)](_0x31a15c);}['createRemoteUser']({id:_0x54708e,displayName:_0x30be9f='',email:_0x87f2d2='',rank:_0x412703,remoteConnections:_0x3190fd,version:_0x5b2d76}){const _0x4ec699=_0xc3b14b;if(this[_0x4ec699(0x699)][_0x4ec699(0x506)](_0x54708e))throw new _0xac3a39(_0x4ec699(0x3c1)+_0x54708e);this[_0x4ec699(0x699)][_0x4ec699(0x1bc)](_0x54708e,new _0x232eed(_0x54708e,_0x30be9f,_0x87f2d2,new Set(_0x3190fd),_0x5b2d76,_0x412703)),this[_0x4ec699(0x385)](_0x54708e,_0x412703),this[_0x4ec699(0x201)]();}[_0xc3b14b(0x56b)](_0x50ebd5){const _0x363620=_0xc3b14b;this[_0x363620(0x5ea)][_0x363620(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x363620(0x52c)],'content':{'type':_0x5e95fc[_0x363620(0x1c0)],'id':_0x50ebd5}});}['publishUserLeave'](_0x3a6fc7){const _0x4e2d9a=_0xc3b14b;this['systemTopic']?.[_0x4e2d9a(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x4e2d9a(0x52c)],'content':{'type':_0x5e95fc[_0x4e2d9a(0x6ad)],'id':_0x3a6fc7}});}[_0xc3b14b(0x3dc)](_0x45c442){const _0x3be2bd=_0xc3b14b;if(_0x45c442===this[_0x3be2bd(0x1f8)][_0x3be2bd(0x16b)]())return this['configs'][_0x3be2bd(0x1e0)]['notifyCluster'](_0x3be2bd(0x638),{'id':_0x45c442}),this['configs'][_0x3be2bd(0x1e0)]['close'](!0x0),this[_0x3be2bd(0x657)]['mediator']['open'](),void this[_0x3be2bd(0x657)][_0x3be2bd(0x1e0)][_0x3be2bd(0x268)]();this[_0x3be2bd(0x3a4)](_0x45c442);}[_0xc3b14b(0x52e)](_0x4039b8){const _0x40e363=_0xc3b14b;this[_0x40e363(0x195)][_0x40e363(0x3f2)](_0x4039b8)?this[_0x40e363(0x4ec)](_0x4039b8):this[_0x40e363(0x1f8)][_0x40e363(0x389)]()[_0x40e363(0x62d)](_0x4039b8)&&this[_0x40e363(0x557)](_0x4039b8),this[_0x40e363(0x1f8)][_0x40e363(0x218)](_0x4039b8);const _0x448f29=Array['from'](this['optimizationLayers'][_0x40e363(0x4d5)]())['find'](([,_0x4ba07d])=>_0x4ba07d==_0x4ba07d);_0x448f29&&this[_0x40e363(0x16f)][_0x40e363(0x4eb)](_0x448f29[0x0]);const _0x102ccb=this[_0x40e363(0x699)][_0x40e363(0x6a7)](_0x4039b8);if(!_0x102ccb)return;const _0x5b2815=_0x102ccb[_0x40e363(0x226)](),_0x5c9796=this['localUser'][_0x40e363(0x226)]();_0x5c9796&&_0x5b2815&&_0x5b2815<_0x5c9796&&this['localUser']['setRank'](_0x5c9796-0x1,!0x1),Array['from'](this[_0x40e363(0x699)]['getRemoteUsers']()['values']())[_0x40e363(0x602)](_0x182405=>{const _0x18a1e4=_0x40e363,_0x3ecd51=_0x182405[_0x18a1e4(0x226)]();_0x3ecd51&&_0x5b2815&&_0x5b2815<_0x3ecd51&&_0x182405['setRank'](_0x3ecd51-0x1);}),_0x102ccb[_0x40e363(0x5cb)](_0x409e5c['Offline']),this[_0x40e363(0x657)][_0x40e363(0x1e0)][_0x40e363(0x63f)]('user-leave',{'id':_0x4039b8});}[_0xc3b14b(0x453)]({id:_0x25ca60,displayName:_0x5c1e9f,email:_0xad9b01,remoteConnections:_0x5336a5}){const _0x4ee472=_0xc3b14b;this[_0x4ee472(0x657)][_0x4ee472(0x1e0)][_0x4ee472(0x63f)](_0x4ee472(0x16a),{'id':_0x25ca60,'displayName':_0x5c1e9f,'email':_0xad9b01,'remoteConnections':_0x5336a5});}[_0xc3b14b(0x361)]({id:_0x4fdccd,displayName:_0xa92aff,email:_0x44c5c7,remoteConnections:_0x546ed2}){const _0x52440c=_0xc3b14b;this[_0x52440c(0x657)][_0x52440c(0x1e0)][_0x52440c(0x63f)](_0x52440c(0x1cb),{'id':_0x4fdccd,'displayName':_0xa92aff,'email':_0x44c5c7,'remoteConnections':_0x546ed2});}['processRank'](){const _0x3cf633=_0xc3b14b;if(this[_0x3cf633(0x314)]||(this['lastProcessRank']=Date[_0x3cf633(0x3c8)]()),this[_0x3cf633(0x259)]){if(Date[_0x3cf633(0x3c8)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x3cf633(0x259)]);}this[_0x3cf633(0x259)]=setTimeout(async()=>{const _0x59c473=_0x3cf633;delete this[_0x59c473(0x314)],delete this[_0x59c473(0x259)];const _0x8fe821=this[_0x59c473(0x1f8)][_0x59c473(0x226)]();if(!_0x8fe821)return;const _0x3c0d50=this[_0x59c473(0x699)]['getCurrentMaxLayer'](this[_0x59c473(0x699)]['getRemoteUsers']()[_0x59c473(0x6cd)]);if(this[_0x59c473(0x16f)][_0x59c473(0x6cd)]>=_0x3c0d50)return;let _0x3c0c48=0x1;for(;this[_0x59c473(0x657)][_0x59c473(0x1e0)]['getConnections']()[_0x59c473(0x1c3)]<this['graphService']['getMaxConnections']()&&_0x3c0c48<=_0x3c0d50;){if(this[_0x59c473(0x16f)]['has'](_0x3c0c48)){_0x3c0c48+=0x1;continue;}const _0xbd203e=this[_0x59c473(0x699)][_0x59c473(0x357)](_0x8fe821,_0x3c0c48),_0x2388f4=Array['from'](this[_0x59c473(0x699)][_0x59c473(0x632)]()['values']())[_0x59c473(0x4c7)](_0x5de601=>_0x5de601[_0x59c473(0x226)]()===_0xbd203e&&_0x5de601[_0x59c473(0x665)]()===_0x409e5c[_0x59c473(0x374)]);if(_0x2388f4){try{await this['configs'][_0x59c473(0x1e0)][_0x59c473(0x2eb)](_0x2388f4[_0x59c473(0x16b)](),_0x668c9e[_0x59c473(0x3cb)]),this[_0x59c473(0x16f)][_0x59c473(0x552)](_0x3c0c48,_0x2388f4[_0x59c473(0x16b)]());}catch(_0x7b43ec){if(!(_0x7b43ec instanceof _0x666015&&_0x7b43ec[_0x59c473(0x3ad)]===_0x666015['codes'][_0x59c473(0x34b)]))throw _0x7b43ec;_0x4eca14[_0x59c473(0x3e4)](_0x46b6b6['Node'],this[_0x59c473(0x1f8)][_0x59c473(0x16b)](),_0x2388f4[_0x59c473(0x16b)](),_0x7b43ec['message']);}_0x3c0c48+=0x1;}else _0x3c0c48+=0x1;}},0x3e8);}async['manageAncestor'](_0x32964a){const _0x18f47c=_0xc3b14b;this[_0x18f47c(0x195)][_0x18f47c(0x300)](this['ancestors']['indexOf'](_0x32964a),0x1);const _0x154d6f=await this['discoveryService']['getAncestors']();for(const _0xccb20e of _0x154d6f)if(!this[_0x18f47c(0x195)][_0x18f47c(0x3f2)](_0xccb20e)){const _0x2d5aa5=Array[_0x18f47c(0x223)](this[_0x18f47c(0x16f)]['entries']())[_0x18f47c(0x4c7)](([,_0x45f919])=>_0x45f919===_0xccb20e);_0x2d5aa5&&this[_0x18f47c(0x16f)][_0x18f47c(0x4eb)](_0x2d5aa5[0x0]),this[_0x18f47c(0x657)][_0x18f47c(0x1e0)][_0x18f47c(0x2eb)](_0xccb20e,_0x668c9e[_0x18f47c(0x3da)]);}0x0===_0x154d6f[_0x18f47c(0x1c3)]&&this['localUser'][_0x18f47c(0x628)](0x1),this['ancestors']=_0x154d6f;}async[_0xc3b14b(0x557)](_0x4fa98c){const _0x18c76d=_0xc3b14b,_0x46fe2c=this[_0x18c76d(0x1f8)]['getRank']();if(!_0x46fe2c)return;const _0x122208=this[_0x18c76d(0x699)][_0x18c76d(0x6a7)](_0x4fa98c);if(!_0x122208||_0x122208[_0x18c76d(0x665)]()===_0x409e5c[_0x18c76d(0x251)])return;const _0xb0d164=_0x122208[_0x18c76d(0x226)]();if(!_0xb0d164||_0xb0d164<_0x46fe2c)return;const _0x32a2db=this[_0x18c76d(0x66b)](this['localUser'][_0x18c76d(0x389)](),_0x46fe2c),_0x27276a=this[_0x18c76d(0x66b)](_0x122208[_0x18c76d(0x389)](),_0xb0d164)[_0x32a2db[_0x18c76d(0x444)](([_0x4c3947])=>_0x4c3947===_0x4fa98c)];if(!_0x27276a||this[_0x18c76d(0x1f8)][_0x18c76d(0x389)]()[_0x18c76d(0x62d)](_0x27276a[0x0]))return;const _0x3cbad0=this[_0x18c76d(0x699)][_0x18c76d(0x6a7)](_0x27276a[0x0]);if(_0x3cbad0&&_0x3cbad0[_0x18c76d(0x665)]()!==_0x409e5c[_0x18c76d(0x251)])try{await this['configs'][_0x18c76d(0x1e0)][_0x18c76d(0x2eb)](_0x27276a[0x0],_0x668c9e['Optimization']);const _0xf09f06=Array['from'](this[_0x18c76d(0x16f)][_0x18c76d(0x4d5)]())[_0x18c76d(0x4c7)](([,_0x1d8f27])=>_0x1d8f27===_0x4fa98c);_0xf09f06&&this[_0x18c76d(0x16f)][_0x18c76d(0x552)](_0xf09f06[0x0],_0x27276a[0x0]);}catch(_0x5169ac){if(!(_0x5169ac instanceof _0x666015&&_0x5169ac[_0x18c76d(0x3ad)]===_0x666015[_0x18c76d(0x5c4)][_0x18c76d(0x34b)]))throw _0x5169ac;_0x4eca14['log'](_0x46b6b6[_0x18c76d(0x52c)],this[_0x18c76d(0x1f8)][_0x18c76d(0x16b)](),_0x27276a[0x0],_0x5169ac[_0x18c76d(0x49f)]);}}[_0xc3b14b(0x66b)](_0x6652cb,_0x5b3734){const _0x43e8d9=_0xc3b14b;return Array['from'](_0x6652cb)[_0x43e8d9(0x50e)]((_0x3067ab,_0x1d3af5)=>{const _0x235e08=_0x43e8d9,_0x322bb8=this['graphService'][_0x235e08(0x6a7)](_0x1d3af5);if(!_0x322bb8||_0x322bb8['getStatus']()===_0x409e5c[_0x235e08(0x251)])return _0x3067ab;const _0x483100=_0x322bb8[_0x235e08(0x226)]();if(!_0x483100)return _0x3067ab;const _0x3e3b05=_0x483100-_0x5b3734;return _0x3e3b05<=this[_0x235e08(0x699)]['getMinConnections']()||_0x3067ab[_0x235e08(0x16d)]([_0x1d3af5,_0x3e3b05]),_0x3067ab;},[])[_0x43e8d9(0x3ac)](([,_0xcaef20],[,_0x14c476])=>_0xcaef20-_0x14c476);}}class _0x749985 extends _0x4795fb{[_0xc3b14b(0x5ea)];['currentVersion']=Date['now']();[_0xc3b14b(0x3c4)];[_0xc3b14b(0x5fa)];[_0xc3b14b(0x50c)](){const _0x29816b=_0xc3b14b;this[_0x29816b(0x3c4)]&&(clearTimeout(this[_0x29816b(0x3c4)]),delete this[_0x29816b(0x3c4)]),delete this['lastUpdated'],this[_0x29816b(0x1ec)]=Date[_0x29816b(0x3c8)](),super[_0x29816b(0x50c)]();}[_0xc3b14b(0x359)](_0x189851){const _0x2fcb4c=_0xc3b14b;this[_0x2fcb4c(0x5ea)]=_0x189851;}[_0xc3b14b(0x680)](){const _0x5adccd=_0xc3b14b;delete this[_0x5adccd(0x5ea)];}[_0xc3b14b(0x36a)](_0x455ca0){const _0x4a4233=_0xc3b14b;!this[_0x4a4233(0x3c4)]&&this[_0x4a4233(0x4b1)]&&this[_0x4a4233(0x5ea)][_0x4a4233(0x69e)]({'sourceId':this['id'],'destinationIds':[_0x455ca0],'propagate':!0x0,'messageType':_0x4e5dac[_0x4a4233(0x52c)],'content':{'type':_0x5e95fc[_0x4a4233(0x346)],'id':this['id'],'displayName':this[_0x4a4233(0x297)](),'email':this['getEmail'](),'rank':this[_0x4a4233(0x226)](),'remoteConnections':Array[_0x4a4233(0x223)](this['remoteConnections']),'version':this[_0x4a4233(0x1ec)]}});}[_0xc3b14b(0x204)](_0x36224b){const _0x25c182=_0xc3b14b;this[_0x25c182(0x636)][_0x25c182(0x62d)](_0x36224b)||(this[_0x25c182(0x636)]['add'](_0x36224b),this[_0x25c182(0x18c)](),this[_0x25c182(0x4f3)](!0x0));}[_0xc3b14b(0x218)](_0x23704b){const _0x51c898=_0xc3b14b;this['remoteConnections'][_0x51c898(0x62d)](_0x23704b)&&(this['remoteConnections'][_0x51c898(0x4eb)](_0x23704b),this[_0x51c898(0x18c)](),this[_0x51c898(0x4f3)](!0x0));}[_0xc3b14b(0x67a)](){const _0x1b3624=_0xc3b14b;return this[_0x1b3624(0x1ec)];}[_0xc3b14b(0x3ba)](_0x279816){const _0x53bb27=_0xc3b14b;this['displayName']!==_0x279816&&(this[_0x53bb27(0x5d4)]=_0x279816,this[_0x53bb27(0x18c)](),this[_0x53bb27(0x4f3)]());}[_0xc3b14b(0x66e)](_0x486358){const _0x981e63=_0xc3b14b;this[_0x981e63(0x257)]!==_0x486358&&(this[_0x981e63(0x257)]=_0x486358,this[_0x981e63(0x18c)](),this[_0x981e63(0x4f3)]());}[_0xc3b14b(0x628)](_0x168bdb,_0x35eb68=!0x0){const _0x46fa9b=_0xc3b14b;this['rank']!==_0x168bdb&&(this[_0x46fa9b(0x4b1)]=_0x168bdb,_0x35eb68&&(this[_0x46fa9b(0x18c)](),this[_0x46fa9b(0x4f3)]()));}[_0xc3b14b(0x18c)](){const _0x44edb2=_0xc3b14b;this[_0x44edb2(0x1ec)]=Date['now']();}['publishUserUpdate'](_0x3285f4=!0x1){const _0x29b803=_0xc3b14b;if(this['rank']){if(this['lastUpdated']||(this[_0x29b803(0x5fa)]=Date[_0x29b803(0x3c8)]()),this['updateDebounceTimeout']){if(Date[_0x29b803(0x3c8)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x29b803(0x3c4)]);}this[_0x29b803(0x3c4)]=setTimeout(()=>{const _0x49e70a=_0x29b803;delete this[_0x49e70a(0x5fa)],delete this['updateDebounceTimeout'],this['systemTopic'][_0x49e70a(0x69e)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x4e5dac[_0x49e70a(0x52c)],'content':{'type':_0x3285f4?_0x5e95fc[_0x49e70a(0x3c5)]:_0x5e95fc[_0x49e70a(0x346)],'id':this['id'],'displayName':this[_0x49e70a(0x297)](),'email':this[_0x49e70a(0x221)](),'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x49e70a(0x636)]),'version':this[_0x49e70a(0x1ec)]}});},0x3e8);}}}const _0x451329=[{'problemType':_0x69668c[_0xc3b14b(0x2c0)],'remediations':[{'type':_0x3ace83[_0xc3b14b(0x5b2)],'component':_0x497c7d['Resolution'],'action':_0x520ee5[_0xc3b14b(0x162)]},{'type':_0x3ace83[_0xc3b14b(0x33f)],'component':_0x497c7d['Resolution'],'action':_0x520ee5[_0xc3b14b(0x162)]}]},{'problemType':_0x69668c[_0xc3b14b(0x58f)],'remediations':[{'type':_0x3ace83[_0xc3b14b(0x5b2)],'component':_0x497c7d['Resolution'],'action':_0x520ee5[_0xc3b14b(0x162)]}]},{'problemType':_0x69668c[_0xc3b14b(0x6b2)],'remediations':[{'type':_0x3ace83['Remediation'],'component':_0x497c7d[_0xc3b14b(0x4d7)],'action':_0x520ee5[_0xc3b14b(0x162)]}]},{'problemType':_0x69668c[_0xc3b14b(0x483)],'remediations':[{'type':_0x3ace83[_0xc3b14b(0x5b2)],'component':_0x497c7d[_0xc3b14b(0x4d7)],'action':_0x520ee5[_0xc3b14b(0x162)]}]},{'problemType':_0x69668c[_0xc3b14b(0x19f)],'remediations':[{'type':_0x3ace83['Remediation'],'component':_0x497c7d[_0xc3b14b(0x19f)],'action':_0x520ee5[_0xc3b14b(0x162)]}]},{'problemType':_0x69668c['Jitter'],'remediations':[{'type':_0x3ace83['Remediation'],'component':_0x497c7d[_0xc3b14b(0x19f)],'action':_0x520ee5[_0xc3b14b(0x162)]}]},{'problemType':_0x69668c['RoundTripTime'],'remediations':[{'type':_0x3ace83['Remediation'],'component':_0x497c7d[_0xc3b14b(0x19f)],'action':_0x520ee5[_0xc3b14b(0x162)]}]}];class _0x10ffcc{[_0xc3b14b(0x657)];[_0xc3b14b(0x5ea)];['lastRemediations']=new Map();constructor(_0x59e67f){const _0x376ded=_0xc3b14b;this[_0x376ded(0x657)]=_0x59e67f,this[_0x376ded(0x657)][_0x376ded(0x1e0)][_0x376ded(0x600)](this);}[_0xc3b14b(0x50c)](){const _0x12a7b0=_0xc3b14b;this['configs']['mediator'][_0x12a7b0(0x33d)](this);}[_0xc3b14b(0x359)](_0x5a649a){const _0x2a873a=_0xc3b14b;this[_0x2a873a(0x5ea)]=_0x5a649a;}[_0xc3b14b(0x680)](){const _0x5ead7e=_0xc3b14b;delete this[_0x5ead7e(0x5ea)];}[_0xc3b14b(0x2d4)](_0x2d87f4){const _0x131a3d=_0xc3b14b;_0x2d87f4['content'][_0x131a3d(0x3e0)]===_0x454f26[_0x131a3d(0x650)]&&this[_0x131a3d(0x658)](_0x2d87f4[_0x131a3d(0x470)]['data']);}[_0xc3b14b(0x38a)](_0x33edaf){const _0x1c81b9=_0xc3b14b;_0x33edaf['content'][_0x1c81b9(0x3e0)]===_0x3ace83[_0x1c81b9(0x33f)]&&this['applyRemediation'](_0x33edaf[_0x1c81b9(0x40f)],{'type':_0x3ace83[_0x1c81b9(0x5b2)],'component':_0x33edaf[_0x1c81b9(0x470)][_0x1c81b9(0x525)][_0x1c81b9(0x49a)],'action':_0x33edaf[_0x1c81b9(0x470)][_0x1c81b9(0x525)][_0x1c81b9(0x4e0)]});}[_0xc3b14b(0x658)](_0x38661e){const _0x402ce3=_0xc3b14b,_0x48798e=_0x451329[_0x402ce3(0x4c7)](_0x39ce0d=>_0x39ce0d[_0x402ce3(0x4fb)]===_0x38661e[_0x402ce3(0x3e0)]);_0x48798e['remediations']?.[_0x402ce3(0x602)](_0x3a8e0a=>{const _0x5306f8=_0x402ce3;this[_0x5306f8(0x4aa)](_0x38661e['userId'],{'type':_0x38661e[_0x5306f8(0x41d)]===_0x46b2a2['Sender']?_0x3ace83[_0x5306f8(0x5b2)]:_0x3ace83[_0x5306f8(0x33f)],'component':_0x3a8e0a[_0x5306f8(0x49a)],'action':_0x3a8e0a[_0x5306f8(0x4e0)]});});}['applyRemediation'](_0x4543bc,_0x5948ad){const _0x4c2523=_0xc3b14b;if(_0x5948ad[_0x4c2523(0x3e0)]===_0x3ace83[_0x4c2523(0x5b2)]){const _0x233bba=Date['now'](),_0x310077=this['lastRemediations']['get'](_0x4543bc);if(_0x310077&&_0x233bba-_0x310077<0x1388)return;this[_0x4c2523(0x431)]['set'](_0x4543bc,_0x233bba);}_0x4eca14[_0x4c2523(0x3e4)](_0x46b6b6['Remediation'],'Apply\x20remediation',_0x5948ad),_0x4eca14[_0x4c2523(0x197)]('remediation',{'clusterId':this[_0x4c2523(0x657)][_0x4c2523(0x1d9)],'userId':this[_0x4c2523(0x657)][_0x4c2523(0x1ab)],'remoteId':_0x4543bc,'data':{'type':_0x5948ad['type'],'component':_0x5948ad['component'],'action':_0x5948ad['action']}});let _0x373ca2,_0x2d5b05=_0x6f97b2;_0x5948ad['type']===_0x3ace83[_0x4c2523(0x33f)]&&(_0x2d5b05=this[_0x4c2523(0x657)][_0x4c2523(0x1ab)],_0x373ca2=[_0x4543bc]),this[_0x4c2523(0x5ea)][_0x4c2523(0x69e)]({'sourceId':_0x2d5b05,'destinationIds':_0x373ca2,'messageType':_0x4e5dac[_0x4c2523(0x5b2)],'content':{'type':_0x5948ad[_0x4c2523(0x3e0)],'targetId':_0x4543bc,'data':_0x5948ad}});}}const _0x15832e=0x3e8,_0x4425ee=0x7530,_0x5f43aa='outbound-rtp',_0x125d5b=_0xc3b14b(0x21d),_0x520f75=_0xc3b14b(0x67f),_0x464651=[_0x5f43aa,_0x125d5b],_0x48c555=[_0x520f75];class _0x134a83{[_0xc3b14b(0x193)]=0x0;[_0xc3b14b(0x660)]=0x0;[_0xc3b14b(0x649)]=0x0;[_0xc3b14b(0x2ba)]=0x0;[_0xc3b14b(0x42f)]=0x0;[_0xc3b14b(0x562)]=0x0;[_0xc3b14b(0x323)]=0x0;[_0xc3b14b(0x39d)]=0x0;[_0xc3b14b(0x495)]=0x0;get[_0xc3b14b(0x2e2)](){const _0xca182b=_0xc3b14b;return this['currentTimestamp']>0x0&&this[_0xca182b(0x323)]>0x0&&Date[_0xca182b(0x3c8)]()-this[_0xca182b(0x562)]<_0x4425ee?(this[_0xca182b(0x39d)]-this[_0xca182b(0x495)])/(this[_0xca182b(0x562)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0xc3b14b(0x569)](_0x21eb49){const _0x5d01e8=_0xc3b14b;switch(_0x21eb49[_0x5d01e8(0x3e0)]){case _0x520f75:this[_0x5d01e8(0x2b4)](_0x21eb49);break;case _0x5f43aa:this[_0x5d01e8(0x330)](_0x21eb49);break;case _0x125d5b:this['processRemoteInboundReport'](_0x21eb49);}}[_0xc3b14b(0x65f)](){const _0x2dfc90=_0xc3b14b;return{'bitrate':this[_0x2dfc90(0x2e2)],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this[_0x2dfc90(0x193)],'jitter':this[_0x2dfc90(0x649)]};}[_0xc3b14b(0x2b4)](_0x307e43){const _0x3efddf=_0xc3b14b;this['setBytes'](_0x307e43[_0x3efddf(0x520)]),this[_0x3efddf(0x468)](_0x307e43[_0x3efddf(0x2a6)]),this[_0x3efddf(0x42f)]=_0x307e43['packetsReceived'],this[_0x3efddf(0x2ba)]=_0x307e43[_0x3efddf(0x2ba)],void 0x0!==_0x307e43[_0x3efddf(0x649)]?this[_0x3efddf(0x649)]=_0x307e43['jitter']:this[_0x3efddf(0x649)]=0x0,void 0x0!==_0x307e43['estimatedPlayoutTimestamp']?this['estimatedPlayoutTimestamp']=_0x307e43[_0x3efddf(0x660)]:this[_0x3efddf(0x660)]=0x0;}[_0xc3b14b(0x330)](_0x2c0a5e){const _0x25d526=_0xc3b14b;this[_0x25d526(0x2a3)](_0x2c0a5e[_0x25d526(0x4d8)]),this['setTimestamp'](_0x2c0a5e[_0x25d526(0x2a6)]),this[_0x25d526(0x42f)]=_0x2c0a5e[_0x25d526(0x313)];}[_0xc3b14b(0x26b)](_0x53757a){const _0x226b1a=_0xc3b14b;this[_0x226b1a(0x193)]=0x3e8*_0x53757a[_0x226b1a(0x193)],void 0x0!==_0x53757a['jitter']?this[_0x226b1a(0x649)]=_0x53757a[_0x226b1a(0x649)]:this['jitter']=0x0;}['getPacketsLostPerc'](){const _0x8b6198=_0xc3b14b;return this[_0x8b6198(0x42f)]>0x0?this[_0x8b6198(0x2ba)]/this[_0x8b6198(0x42f)]:0x0;}[_0xc3b14b(0x468)](_0x3cac78){const _0x1ad9f9=_0xc3b14b;_0x3cac78>this[_0x1ad9f9(0x562)]&&(this['previousTimestamp']=this['currentTimestamp'],this[_0x1ad9f9(0x562)]=_0x3cac78);}['setBytes'](_0x5ca244){const _0x3966c5=_0xc3b14b;this[_0x3966c5(0x495)]=this[_0x3966c5(0x39d)],this[_0x3966c5(0x39d)]=_0x5ca244;}}class _0x427aa6 extends _0x134a83{}class _0x4e3edc extends _0x134a83{[_0xc3b14b(0x396)]=0x0;[_0xc3b14b(0x277)]=0x0;[_0xc3b14b(0x454)]=0x0;['currentFrames']=0x0;[_0xc3b14b(0x610)]=0x0;get['fps'](){const _0x4ecf92=_0xc3b14b;return this['currentTimestamp']>0x0&&this[_0x4ecf92(0x323)]>0x0&&Date['now']()-this['currentTimestamp']<_0x4425ee?(this[_0x4ecf92(0x2de)]-this['previousFrames'])/(this[_0x4ecf92(0x562)]-this[_0x4ecf92(0x323)])*0x3e8:0x0;}get['timePerFrame'](){const _0xd78843=_0xc3b14b;return this[_0xd78843(0x396)]&&this[_0xd78843(0x2de)]&&this['currentFrames']>0x0?this[_0xd78843(0x396)]/this[_0xd78843(0x2de)]:0x0;}set[_0xc3b14b(0x6af)](_0x4fba4a){const _0x2305ab=_0xc3b14b;this[_0x2305ab(0x610)]=this[_0x2305ab(0x2de)],this[_0x2305ab(0x2de)]=_0x4fba4a;}[_0xc3b14b(0x65f)](){const _0x3d6045=_0xc3b14b;return{...super[_0x3d6045(0x65f)](),'FPS':this[_0x3d6045(0x1b4)],'timePerFrame':this[_0x3d6045(0x5aa)],'frameWidth':this[_0x3d6045(0x277)],'frameHeight':this['frameHeight']};}[_0xc3b14b(0x2b4)](_0x4c25ce){const _0x435a5a=_0xc3b14b;super[_0x435a5a(0x2b4)](_0x4c25ce),this[_0x435a5a(0x396)]=_0x4c25ce[_0x435a5a(0x165)],this[_0x435a5a(0x6af)]=_0x4c25ce[_0x435a5a(0x654)],this[_0x435a5a(0x277)]=_0x4c25ce[_0x435a5a(0x277)],this['frameHeight']=_0x4c25ce[_0x435a5a(0x454)];}[_0xc3b14b(0x330)](_0x187d9d){const _0x4d7bfb=_0xc3b14b;super['processOutboundReport'](_0x187d9d),this[_0x4d7bfb(0x396)]=_0x187d9d[_0x4d7bfb(0x5db)],this[_0x4d7bfb(0x6af)]=_0x187d9d[_0x4d7bfb(0x544)],this['frameWidth']=_0x187d9d[_0x4d7bfb(0x277)],this[_0x4d7bfb(0x454)]=_0x187d9d[_0x4d7bfb(0x454)];}}class _0x472201{[_0xc3b14b(0x64a)]=new _0x427aa6();[_0xc3b14b(0x42e)]=new _0x4e3edc();get[_0xc3b14b(0x2e2)](){const _0x1d59d6=_0xc3b14b;return this[_0x1d59d6(0x64a)][_0x1d59d6(0x2e2)]+this[_0x1d59d6(0x42e)]['bitrate'];}[_0xc3b14b(0x282)](_0x3ad286){const _0x577cbe=_0xc3b14b;return _0x3ad286[_0x577cbe(0x602)](_0x1ea63b=>{const _0x9fda9a=_0x577cbe;switch(_0x1ea63b['kind']){case'audio':this[_0x9fda9a(0x64a)][_0x9fda9a(0x569)](_0x1ea63b);break;case _0x9fda9a(0x42e):this[_0x9fda9a(0x42e)][_0x9fda9a(0x569)](_0x1ea63b);}}),this[_0x577cbe(0x65f)]();}[_0xc3b14b(0x65f)](){const _0x3f1863=_0xc3b14b;return{'audio':this[_0x3f1863(0x64a)]['getReport'](),'video':this[_0x3f1863(0x42e)][_0x3f1863(0x65f)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x3f1863(0x14d)](),'bitrate':this[_0x3f1863(0x2e2)]};}['getRoundTripTime'](){const _0x2c2eaf=_0xc3b14b;return Math[_0x2c2eaf(0x601)]((this['audio'][_0x2c2eaf(0x193)]+this[_0x2c2eaf(0x42e)][_0x2c2eaf(0x193)])/0x2);}['getAudioVideoDelay'](){const _0x3da54f=_0xc3b14b;return this['audio'][_0x3da54f(0x660)]-this[_0x3da54f(0x42e)][_0x3da54f(0x660)];}}class _0x5a7eb6{[_0xc3b14b(0x5b7)]=0x0;['senderPreviousTimestamp']=0x0;[_0xc3b14b(0x258)]=0x0;[_0xc3b14b(0x31f)]=0x0;[_0xc3b14b(0x6b8)]=0x0;[_0xc3b14b(0x1a3)]=0x0;['receiverCurrentBytes']=0x0;[_0xc3b14b(0x66f)]=0x0;['senderTotalMessages']=0x0;[_0xc3b14b(0x51d)]=0x0;[_0xc3b14b(0x244)]=0x0;[_0xc3b14b(0x1b1)]=0x0;[_0xc3b14b(0x193)]=0x0;get[_0xc3b14b(0x2e2)](){const _0x5a2185=_0xc3b14b;return this[_0x5a2185(0x686)]+this[_0x5a2185(0x616)];}get[_0xc3b14b(0x686)](){const _0x454797=_0xc3b14b;return this[_0x454797(0x5b7)]>0x0&&this[_0x454797(0x3f4)]>0x0&&Date['now']()-this[_0x454797(0x5b7)]<_0x4425ee?(this[_0x454797(0x6b8)]-this[_0x454797(0x1a3)])/(this[_0x454797(0x5b7)]-this[_0x454797(0x3f4)])*0x8*0x3e8:0x0;}get[_0xc3b14b(0x616)](){const _0x4cbdb1=_0xc3b14b;return this[_0x4cbdb1(0x258)]>0x0&&this[_0x4cbdb1(0x31f)]>0x0&&Date['now']()-this[_0x4cbdb1(0x258)]<_0x4425ee?(this[_0x4cbdb1(0x48f)]-this[_0x4cbdb1(0x66f)])/(this[_0x4cbdb1(0x258)]-this[_0x4cbdb1(0x31f)])*0x8*0x3e8:0x0;}['processReport'](_0x46a788){const _0x3e570a=_0xc3b14b;switch(_0x46a788[_0x3e570a(0x41d)]){case _0x46b2a2[_0x3e570a(0x23b)]:this[_0x3e570a(0x45a)](_0x46a788);break;case _0x46b2a2[_0x3e570a(0x306)]:this[_0x3e570a(0x151)](_0x46a788);}}[_0xc3b14b(0x65f)](){const _0x41a969=_0xc3b14b;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x41a969(0x686)],'receiverBitrate':this[_0x41a969(0x616)],'totalBytes':this[_0x41a969(0x29a)](),'senderTotalBytes':this[_0x41a969(0x58a)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x41a969(0x501)]+this[_0x41a969(0x51d)],'senderTotalMessages':this[_0x41a969(0x501)],'receiverTotalMessages':this[_0x41a969(0x51d)],'timeProcessing':this['senderTimeProcessing']+this[_0x41a969(0x1b1)],'senderTimeProcessing':this[_0x41a969(0x244)],'receiverTimeProcessing':this[_0x41a969(0x1b1)],'roundTripTime':this[_0x41a969(0x193)]};}[_0xc3b14b(0x29a)](){const _0x339d81=_0xc3b14b;return this[_0x339d81(0x6b8)]+this[_0x339d81(0x48f)];}['getSenderTotalBytes'](){const _0x2a0c85=_0xc3b14b;return this[_0x2a0c85(0x6b8)];}[_0xc3b14b(0x496)](){return this['receiverCurrentBytes'];}[_0xc3b14b(0x45a)](_0x26748b){const _0x935dab=_0xc3b14b;this['setSenderTimestamp'](_0x26748b[_0x935dab(0x2a6)]),this[_0x935dab(0x2a3)](_0x26748b[_0x935dab(0x4d8)]),this[_0x935dab(0x501)]=_0x26748b[_0x935dab(0x571)],this['senderTimeProcessing']=_0x26748b[_0x935dab(0x338)],this[_0x935dab(0x193)]=_0x26748b['roundTripTime'];}[_0xc3b14b(0x151)](_0x195f54){const _0x26c07f=_0xc3b14b;this[_0x26c07f(0x3fe)](_0x195f54[_0x26c07f(0x2a6)]),this['setReceiverBytes'](_0x195f54[_0x26c07f(0x520)]),this[_0x26c07f(0x51d)]=_0x195f54[_0x26c07f(0x679)],this[_0x26c07f(0x1b1)]=_0x195f54[_0x26c07f(0x189)];}[_0xc3b14b(0x539)](_0x5c2cc2){const _0x2d6c21=_0xc3b14b;_0x5c2cc2>this[_0x2d6c21(0x5b7)]&&(this[_0x2d6c21(0x3f4)]=this[_0x2d6c21(0x5b7)],this['senderCurrentTimestamp']=_0x5c2cc2);}['setReceiverTimestamp'](_0x2fd525){const _0xa32fa3=_0xc3b14b;_0x2fd525>this[_0xa32fa3(0x258)]&&(this[_0xa32fa3(0x31f)]=this['receiverCurrentTimestamp'],this[_0xa32fa3(0x258)]=_0x2fd525);}[_0xc3b14b(0x2a3)](_0x32db35){const _0x4c98a2=_0xc3b14b;this[_0x4c98a2(0x1a3)]=this['senderCurrentBytes'],this[_0x4c98a2(0x6b8)]=_0x32db35;}[_0xc3b14b(0x5ed)](_0x42d2ad){const _0x3c8fe1=_0xc3b14b;this[_0x3c8fe1(0x66f)]=this[_0x3c8fe1(0x48f)],this[_0x3c8fe1(0x48f)]=_0x42d2ad;}}class _0x59ddc1{['senderStreams']=new Map();['receiverStreams']=new Map();[_0xc3b14b(0x4be)]=new _0x5a7eb6();get[_0xc3b14b(0x686)](){const _0x40eb4f=_0xc3b14b;let _0x5047a3=0x0;return this['senderStreams'][_0x40eb4f(0x602)](_0x246476=>{const _0x73a4ec=_0x40eb4f;_0x5047a3+=_0x246476[_0x73a4ec(0x2e2)];}),_0x5047a3+=this['dataChannel'][_0x40eb4f(0x686)],_0x5047a3;}get[_0xc3b14b(0x616)](){const _0x4aab07=_0xc3b14b;let _0x46c396=0x0;return this[_0x4aab07(0x5f7)][_0x4aab07(0x602)](_0x26920c=>{const _0x23ac9c=_0x4aab07;_0x46c396+=_0x26920c[_0x23ac9c(0x2e2)];}),_0x46c396+=this[_0x4aab07(0x4be)]['receiverBitrate'],_0x46c396;}get['bitrate'](){const _0x375491=_0xc3b14b;return this[_0x375491(0x686)]+this[_0x375491(0x616)];}[_0xc3b14b(0x282)](_0x4718f7,_0x3a0484){const _0x91278=_0xc3b14b,_0x390bd1=[],_0x115d3b=[];return _0x4718f7 instanceof Array?_0x4718f7[_0x91278(0x602)](_0x2df2f0=>{const _0x59a377=_0x91278;_0x2df2f0[_0x59a377(0x602)](_0x950db0=>{const _0x2e064f=_0x59a377;_0x48c555[_0x2e064f(0x3f2)](_0x950db0[_0x2e064f(0x3e0)])&&_0x390bd1[_0x2e064f(0x16d)](_0x950db0),_0x464651[_0x2e064f(0x3f2)](_0x950db0['type'])&&_0x115d3b[_0x2e064f(0x16d)](_0x950db0);});}):this[_0x91278(0x4be)][_0x91278(0x569)](_0x4718f7),_0x390bd1[_0x91278(0x1c3)]>0x0&&_0x3a0484?{...this[_0x91278(0x596)](_0x3a0484,_0x390bd1),'origin':_0x46b2a2[_0x91278(0x306)],'streamId':_0x3a0484}:_0x115d3b[_0x91278(0x1c3)]>0x0&&_0x3a0484?{...this[_0x91278(0x6b4)](_0x3a0484,_0x115d3b),'origin':_0x46b2a2[_0x91278(0x23b)],'streamId':_0x3a0484}:void 0x0;}['getReport'](){const _0x4a5dea=_0xc3b14b,_0x14cad9={};this['senderStreams'][_0x4a5dea(0x602)]((_0x9701f1,_0x6ff115)=>{const _0x2ca70c=_0x4a5dea;_0x14cad9[_0x6ff115]=_0x9701f1[_0x2ca70c(0x65f)]();});const _0x2e77f6={};return this[_0x4a5dea(0x5f7)][_0x4a5dea(0x602)]((_0x132a76,_0x475384)=>{const _0x4daddb=_0x4a5dea;_0x2e77f6[_0x475384]=_0x132a76[_0x4daddb(0x65f)]();}),{'bitrate':this[_0x4a5dea(0x2e2)],'senderBitrate':this[_0x4a5dea(0x686)],'receiverBitrate':this[_0x4a5dea(0x616)],'senderStreams':_0x14cad9,'receiverStreams':_0x2e77f6,'dataChannel':this[_0x4a5dea(0x4be)][_0x4a5dea(0x65f)]()};}[_0xc3b14b(0x596)](_0x5b0fd9,_0x36790b){const _0x2427f8=_0xc3b14b;return this[_0x2427f8(0x5f7)][_0x2427f8(0x62d)](_0x5b0fd9)||this['receiverStreams']['set'](_0x5b0fd9,new _0x472201()),this[_0x2427f8(0x5f7)]['get'](_0x5b0fd9)[_0x2427f8(0x282)](_0x36790b);}[_0xc3b14b(0x6b4)](_0x563f74,_0x4289cd){const _0x13b232=_0xc3b14b;return this['senderStreams']['has'](_0x563f74)||this[_0x13b232(0x566)][_0x13b232(0x552)](_0x563f74,new _0x472201()),this[_0x13b232(0x566)][_0x13b232(0x30f)](_0x563f74)[_0x13b232(0x282)](_0x4289cd);}}class _0x2be070{[_0xc3b14b(0x4fc)]=new Map();[_0xc3b14b(0x46a)]=0x0;['durationTime']=0x0;[_0xc3b14b(0x256)]=new Map();[_0xc3b14b(0x6ca)]=new Map();[_0xc3b14b(0x335)]=new Map();[_0xc3b14b(0x501)]=new Map();['receiverTotalMessages']=new Map();['senderTimeProcessing']=new Map();[_0xc3b14b(0x1b1)]=new Map();[_0xc3b14b(0x31b)]=new Map();[_0xc3b14b(0x5ea)];['getReport'](){const _0xdf792e=_0xc3b14b,_0x8b1d97={};this['users']['forEach']((_0x320492,_0x461ab8)=>{_0x8b1d97[_0x461ab8]=_0x320492['getReport']();});let _0x2994c6=0x0;this['senderTimeProcessing']['forEach'](_0x26bf26=>{_0x2994c6+=_0x26bf26;});let _0x1d9881=0x0;this[_0xdf792e(0x1b1)][_0xdf792e(0x602)](_0x35deec=>{_0x1d9881+=_0x35deec;});const _0x4b7d89=_0x2994c6+_0x1d9881;let _0x4173ab={'messages':{'total':0x0}};this[_0xdf792e(0x31b)][_0xdf792e(0x602)](_0x223d51=>{const _0x1fc121=_0xdf792e;Object[_0x1fc121(0x1e1)](_0x223d51)['forEach'](_0x338d3e=>{const _0x549732=_0x1fc121;_0x4173ab[_0x338d3e]||(_0x4173ab[_0x338d3e]={}),Object[_0x549732(0x1e1)](_0x223d51[_0x338d3e])[_0x549732(0x602)](_0x345ee7=>{_0x4173ab[_0x338d3e][_0x345ee7]||(_0x4173ab[_0x338d3e][_0x345ee7]=0x0),_0x4173ab[_0x338d3e][_0x345ee7]+=_0x223d51[_0x338d3e][_0x345ee7];});});});let _0x52f34a=0x0,_0x2801bc=0x0,_0x37c4ff=0x0,_0x2b7013=0x0,_0x1356c2=0x0;return this[_0xdf792e(0x256)][_0xdf792e(0x602)](_0x4e1f6d=>{const _0x1a776c=_0xdf792e;_0x2801bc+=_0x4e1f6d[_0x1a776c(0x571)],_0x37c4ff+=_0x4e1f6d[_0x1a776c(0x679)],_0x2b7013+=_0x4e1f6d[_0x1a776c(0x4d8)],_0x1356c2+=_0x4e1f6d[_0x1a776c(0x520)];}),this[_0xdf792e(0x6ca)]['forEach'](_0x52454d=>{const _0x4409c3=_0xdf792e;_0x52f34a+=_0x52454d[_0x4409c3(0x537)],_0x2801bc+=_0x52454d[_0x4409c3(0x571)],_0x37c4ff+=_0x52454d[_0x4409c3(0x679)],_0x2b7013+=_0x52454d[_0x4409c3(0x4d8)],_0x1356c2+=_0x52454d[_0x4409c3(0x520)];}),this[_0xdf792e(0x335)][_0xdf792e(0x602)](_0x17e0b6=>{const _0x228bd1=_0xdf792e;_0x52f34a+=_0x17e0b6[_0x228bd1(0x537)],_0x2801bc+=_0x17e0b6[_0x228bd1(0x571)],_0x37c4ff+=_0x17e0b6[_0x228bd1(0x679)],_0x2b7013+=_0x17e0b6[_0x228bd1(0x4d8)],_0x1356c2+=_0x17e0b6[_0x228bd1(0x520)];}),{'STVolatility':this[_0xdf792e(0x1ef)](),'DTVolatility':this[_0xdf792e(0x696)](),'bitrate':this[_0xdf792e(0x43f)](),'senderBitrate':this[_0xdf792e(0x4e6)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x52f34a,'totalMessages':_0x2801bc+_0x37c4ff,'totalMessagesSent':_0x2801bc,'totalMessagesReceived':_0x37c4ff,'totalBytes':_0x2b7013+_0x1356c2,'totalBytesSent':_0x2b7013,'totalBytesReceived':_0x1356c2,'systemMessages':_0x4173ab,'timeProcessing':_0x4b7d89,'users':_0x8b1d97,'pubsubTopics':Object[_0xdf792e(0x3df)](this[_0xdf792e(0x256)]),'objectStores':Object[_0xdf792e(0x3df)](this['objectStores']),'keyValueDatabases':Object[_0xdf792e(0x3df)](this['keyValueDatabases'])};}[_0xc3b14b(0x526)](_0x370db5){const _0x42dc81=_0xc3b14b;this[_0x42dc81(0x4fc)][_0x42dc81(0x552)](_0x370db5,new _0x59ddc1());}[_0xc3b14b(0x32b)](_0x34187a){const _0x10f7a2=_0xc3b14b;this[_0x10f7a2(0x4fc)]['delete'](_0x34187a);}[_0xc3b14b(0x282)](_0x3d45bf,_0x424806,_0x2521bf){const _0x26b668=_0xc3b14b;_0x424806 instanceof Array||this[_0x26b668(0x1e6)](_0x3d45bf,_0x424806);const _0x4d3f57=this[_0x26b668(0x4fc)][_0x26b668(0x30f)](_0x3d45bf)?.[_0x26b668(0x282)](_0x424806,_0x2521bf);_0x4d3f57&&this[_0x26b668(0x5ea)][_0x26b668(0x69e)]({'sourceId':_0x6f97b2,'messageType':_0x4e5dac[_0x26b668(0x1a5)],'content':{'type':_0x518235[_0x26b668(0x1ca)],'data':{..._0x4d3f57,'userId':_0x3d45bf}}});}[_0xc3b14b(0x43e)](_0x6ff9ed){const _0x1ef16d=_0xc3b14b;this[_0x1ef16d(0x67e)](_0x6ff9ed[_0x1ef16d(0x3e8)]),this[_0x1ef16d(0x54b)](_0x6ff9ed[_0x1ef16d(0x429)]),this[_0x1ef16d(0x5ea)]['publish']({'sourceId':_0x6f97b2,'messageType':_0x4e5dac['Stats'],'content':{'type':_0x518235['LocalReport'],'data':{'STVolatility':this[_0x1ef16d(0x1ef)](),'DTVolatility':this[_0x1ef16d(0x696)]()}}});}['processServiceReport'](_0x2da8d0,_0x5153d8,_0x4cbbce){const _0x5ea568=_0xc3b14b;switch(_0x5153d8){case _0x21d02e[_0x5ea568(0x64b)]:this['pubsubTopics'][_0x5ea568(0x552)](_0x2da8d0,_0x4cbbce);break;case _0x21d02e[_0x5ea568(0x2f6)]:this[_0x5ea568(0x6ca)][_0x5ea568(0x552)](_0x2da8d0,_0x4cbbce);break;case _0x21d02e[_0x5ea568(0x45e)]:this[_0x5ea568(0x335)][_0x5ea568(0x552)](_0x2da8d0,_0x4cbbce);}}[_0xc3b14b(0x359)](_0x15e1f0){this['systemTopic']=_0x15e1f0;}['unregisterSystemPublisher'](){delete this['systemTopic'];}['getSTVolatility'](){const _0x585d26=_0xc3b14b;return this['scheduleTime']>0x0&&this['scheduleTime']-_0x15832e>0x0?(this[_0x585d26(0x46a)]-_0x15832e)/_0x15832e:0x0;}[_0xc3b14b(0x696)](){const _0x176fc4=_0xc3b14b;return this[_0x176fc4(0x429)]>0x0&&this[_0x176fc4(0x429)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x28f2d3=_0xc3b14b;let _0x475240=0x0;return this[_0x28f2d3(0x4fc)][_0x28f2d3(0x602)](_0x4a2bcc=>{_0x475240+=_0x4a2bcc['senderBitrate'];}),_0x475240;}[_0xc3b14b(0x26e)](){const _0x22c0b5=_0xc3b14b;let _0x6daf9b=0x0;return this[_0x22c0b5(0x4fc)][_0x22c0b5(0x602)](_0x14cbd6=>{_0x6daf9b+=_0x14cbd6['receiverBitrate'];}),_0x6daf9b;}[_0xc3b14b(0x43f)](){const _0x4e22ee=_0xc3b14b;let _0x56294e=0x0;return this['users'][_0x4e22ee(0x602)](_0x33f73f=>{const _0x41c3bb=_0x4e22ee;_0x56294e+=_0x33f73f[_0x41c3bb(0x2e2)];}),_0x56294e;}[_0xc3b14b(0x67e)](_0x1b03e6){this['scheduleTime']=_0x1b03e6;}['setDurationTime'](_0x146a46){const _0x542fa9=_0xc3b14b;this[_0x542fa9(0x429)]=_0x146a46;}['processDataChannelReport'](_0x2d51c7,_0xda3d75){const _0x3d98a1=_0xc3b14b;switch(_0xda3d75['origin']){case _0x46b2a2[_0x3d98a1(0x23b)]:this[_0x3d98a1(0x45a)](_0x2d51c7,_0xda3d75);break;case _0x46b2a2['Receiver']:this[_0x3d98a1(0x151)](_0x2d51c7,_0xda3d75);}}[_0xc3b14b(0x45a)](_0x164311,_0x221cba){const _0x19a321=_0xc3b14b;this['senderTotalMessages'][_0x19a321(0x552)](_0x164311,_0x221cba[_0x19a321(0x571)]),this['senderTimeProcessing'][_0x19a321(0x552)](_0x164311,_0x221cba['timeSending']);}[_0xc3b14b(0x151)](_0x121a82,_0x5f1367){const _0x22e829=_0xc3b14b;this[_0x22e829(0x51d)][_0x22e829(0x552)](_0x121a82,_0x5f1367[_0x22e829(0x679)]),this['receiverTimeProcessing']['set'](_0x121a82,_0x5f1367[_0x22e829(0x189)]),this[_0x22e829(0x31b)]['set'](_0x121a82,_0x5f1367[_0x22e829(0x31b)]);}}class _0x5b351e{[_0xc3b14b(0x657)];[_0xc3b14b(0x499)]=new Set();[_0xc3b14b(0x261)];[_0xc3b14b(0x6a4)];[_0xc3b14b(0x4bd)];[_0xc3b14b(0x31a)]=new _0x2be070();constructor(_0x5ca9b0){const _0x22d4c5=_0xc3b14b;this[_0x22d4c5(0x657)]=_0x5ca9b0,this['configs']['mediator'][_0x22d4c5(0x600)](this['statsReport']),this[_0x22d4c5(0x6a4)]=this[_0x22d4c5(0x24a)](),this[_0x22d4c5(0x4bd)]=this[_0x22d4c5(0x1cd)]();}[_0xc3b14b(0x50c)](){const _0x431505=_0xc3b14b;this[_0x431505(0x657)][_0x431505(0x1e0)][_0x431505(0x33d)](this[_0x431505(0x31a)]),this[_0x431505(0x4bd)](),this[_0x431505(0x6a4)]();}[_0xc3b14b(0x526)](_0x3740ea){const _0x1875eb=_0xc3b14b;this['remoteUsers'][_0x1875eb(0x14c)](_0x3740ea),this[_0x1875eb(0x31a)][_0x1875eb(0x526)](_0x3740ea);}[_0xc3b14b(0x32b)](_0x436a81){const _0x2266da=_0xc3b14b;this['remoteUsers'][_0x2266da(0x4eb)](_0x436a81),this[_0x2266da(0x31a)][_0x2266da(0x32b)](_0x436a81);}[_0xc3b14b(0x6da)](_0x2d5148){const _0x4b9167=_0xc3b14b;if(_0x2d5148['content'][_0x4b9167(0x3e0)]===_0x2d9c6b[_0x4b9167(0x1a5)]){const {userId:_0x1fc831,streamId:_0x17d4ad,stats:_0x19b85f}=_0x2d5148[_0x4b9167(0x470)];this[_0x4b9167(0x31a)][_0x4b9167(0x282)](_0x1fc831,_0x19b85f,_0x17d4ad);}}['handleContentSystemEvents'](_0x30a497){const _0x509869=_0xc3b14b;switch(_0x30a497['content']['type']){case _0x21d02e[_0x509869(0x2f6)]:case _0x21d02e['KeyValueDatabaseStats']:case _0x21d02e[_0x509869(0x64b)]:this['statsReport'][_0x509869(0x161)](_0x30a497[_0x509869(0x470)][_0x509869(0x5bf)],_0x30a497[_0x509869(0x470)][_0x509869(0x3e0)],_0x30a497[_0x509869(0x470)][_0x509869(0x594)]);}}['setupStatsReporting'](){return _0x1ee6de['setInterval'](()=>{const _0xef04e2=a0_0x442c,_0x101506=this[_0xef04e2(0x31a)][_0xef04e2(0x65f)]();_0x4eca14['log'](_0x46b6b6[_0xef04e2(0x1a5)],_0xef04e2(0x1c6),_0x101506),(0x0,_0x3a6992['addDoc'])((0x0,_0x3a6992[_0xef04e2(0x457)])(_0x12b24c[_0xef04e2(0x4db)](),_0xef04e2(0x60f)+this['configs']['vendorId']+_0xef04e2(0x2a5)),{'clusterId':this['configs']['clusterId'],'userId':this[_0xef04e2(0x657)][_0xef04e2(0x1ab)],'timestamp':(0x0,_0x3a6992[_0xef04e2(0x3b3)])(),'report':_0x101506}),_0x4eca14[_0xef04e2(0x197)](_0xef04e2(0x594),{'clusterId':this[_0xef04e2(0x657)][_0xef04e2(0x1d9)],'userId':this[_0xef04e2(0x657)]['localId'],'data':{'report':_0x101506}});},_0x4425ee);}['setupStatsCollection'](){const _0x3bdbed=_0xc3b14b;let _0x87009a=!0x1,_0x439809=Date[_0x3bdbed(0x3c8)]();return _0x1ee6de[_0x3bdbed(0x5d7)](async()=>{const _0x42847c=_0x3bdbed;if(_0x87009a)return;if(_0x87009a=!0x0,0x0===this[_0x42847c(0x499)][_0x42847c(0x6cd)])return delete this[_0x42847c(0x261)],void(_0x87009a=!0x1);const _0x3701f1=Date[_0x42847c(0x3c8)]();this[_0x42847c(0x317)]();try{await this[_0x42847c(0x657)][_0x42847c(0x1e0)]['collectStats'](this[_0x42847c(0x261)]);}catch(_0x23322e){}this[_0x42847c(0x31a)]['processLocalReport']({'secheduleTime':_0x3701f1-_0x439809,'durationTime':Date['now']()-_0x3701f1}),_0x439809=_0x3701f1,_0x87009a=!0x1;},_0x15832e);}['findNextUserId'](){const _0x2c52ea=_0xc3b14b;let _0xc6d6d0,_0x55dba4=!0x1;this[_0x2c52ea(0x261)]&&(this[_0x2c52ea(0x499)]['has'](this[_0x2c52ea(0x261)])||delete this[_0x2c52ea(0x261)]);for(const _0x3bebbb of this[_0x2c52ea(0x499)])if(_0xc6d6d0||(_0xc6d6d0=_0x3bebbb),this['nextUserId']!==_0x3bebbb){if(_0x55dba4)return void(this[_0x2c52ea(0x261)]=_0x3bebbb);}else _0x55dba4=!0x0,delete this[_0x2c52ea(0x261)];this[_0x2c52ea(0x261)]||(this[_0x2c52ea(0x261)]=_0xc6d6d0);}}class _0xc59cfe{[_0xc3b14b(0x1ad)];[_0xc3b14b(0x247)];[_0xc3b14b(0x5ea)];constructor(_0x598109,_0x29c626){const _0x5df080=_0xc3b14b;this[_0x5df080(0x1ad)]=_0x598109,this['destination']=_0x29c626;}['registerSystemPublisher'](_0x38b0a3){this['systemTopic']=_0x38b0a3;}[_0xc3b14b(0x680)](){const _0x541687=_0xc3b14b;delete this[_0x541687(0x5ea)];}}class _0x38696f extends _0xc59cfe{['source'];['destination'];['params'];constructor(_0x53710f,_0x20fc77,_0x154017){const _0x29ebc6=_0xc3b14b;super(_0x53710f,_0x20fc77),this['source']=_0x53710f,this[_0x29ebc6(0x247)]=_0x20fc77,this['params']=_0x154017;}[_0xc3b14b(0x674)](_0x413111,_0x2e87e3,_0x4af254){const _0x26ad17=_0xc3b14b;if(this[_0x26ad17(0x247)][_0x26ad17(0x219)]()===_0x164080[_0x26ad17(0x3de)]){const _0x4b0e94={'type':_0x258e6f['SubscribeMediaStream'],'label':this['destination'][_0x26ad17(0x2e1)](),'ownerId':_0x413111,'trackKinds':_0x2e87e3??this['destination'][_0x26ad17(0x669)](),'params':_0x4af254};this[_0x26ad17(0x5ea)][_0x26ad17(0x69e)]({'sourceId':this[_0x26ad17(0x1ad)][_0x26ad17(0x27e)](),'destinationIds':[this[_0x26ad17(0x1ad)][_0x26ad17(0x4a4)]()],'messageType':_0x4e5dac[_0x26ad17(0x554)],'content':_0x4b0e94}),this['params']=_0x4af254;}}['update'](_0x4af99c,_0x53bea4){const _0x28171f=_0xc3b14b;if(this[_0x28171f(0x247)][_0x28171f(0x219)]()===_0x164080['Media']){const _0x50c3d4={'type':_0x258e6f[_0x28171f(0x293)],'label':this[_0x28171f(0x247)][_0x28171f(0x2e1)](),'ownerId':_0x4af99c,'params':_0x53bea4};this[_0x28171f(0x5ea)][_0x28171f(0x69e)]({'sourceId':this[_0x28171f(0x1ad)][_0x28171f(0x27e)](),'destinationIds':[this['source'][_0x28171f(0x4a4)]()],'messageType':_0x4e5dac[_0x28171f(0x554)],'content':_0x50c3d4}),this[_0x28171f(0x2fc)]=_0x53bea4;}}['unsubscribe'](_0x1d7132,_0x5861cb,_0x1f872c){const _0xe4f20d=_0xc3b14b;if(this['destination'][_0xe4f20d(0x219)]()===_0x164080[_0xe4f20d(0x3de)]){const _0x372df9={'type':_0x258e6f['UnsubscribeMediaStream'],'label':this[_0xe4f20d(0x247)]['getLabel'](),'ownerId':_0x1d7132,'trackKinds':_0x1f872c??this['destination'][_0xe4f20d(0x669)](),'remainingTracks':_0x5861cb};this[_0xe4f20d(0x5ea)]['publish']({'sourceId':this[_0xe4f20d(0x1ad)][_0xe4f20d(0x27e)](),'destinationIds':[this[_0xe4f20d(0x1ad)]['getRemoteId']()],'messageType':_0x4e5dac[_0xe4f20d(0x554)],'content':_0x372df9});}}}class _0x283ec7{[_0xc3b14b(0x5e1)];[_0xc3b14b(0x5b0)];['tracks'];[_0xc3b14b(0x5ea)];['answers']=new Set();[_0xc3b14b(0x2a7)]=Date['now']();['params'];[_0xc3b14b(0x5e4)]=0x0;constructor(_0x4c7bbd,_0x12206d,_0x428989,_0x27082d){const _0x1aa48d=_0xc3b14b;this[_0x1aa48d(0x5e1)]=_0x12206d,this[_0x1aa48d(0x5b0)]=_0x428989,this[_0x1aa48d(0x305)]=_0x27082d,_0x4c7bbd[_0x1aa48d(0x602)](_0x2e25c7=>{const _0x34079b=_0x1aa48d;this[_0x34079b(0x4bc)]['add']({'userId':_0x2e25c7,'type':_0x423041[_0x34079b(0x262)]});});}[_0xc3b14b(0x3ef)](){return this['tracks'];}[_0xc3b14b(0x359)](_0x2dd782){const _0x583827=_0xc3b14b;this[_0x583827(0x5ea)]=_0x2dd782;}[_0xc3b14b(0x680)](){const _0x4f3ca5=_0xc3b14b;delete this[_0x4f3ca5(0x5ea)];}[_0xc3b14b(0x62c)](_0x21e279,_0x11f8ba){const _0x350ccf=_0xc3b14b;this['startTime']=Date[_0x350ccf(0x3c8)](),this[_0x350ccf(0x4bc)]['clear'](),_0x21e279[_0x350ccf(0x602)](_0x2dda92=>{const _0x2511aa=_0x350ccf;this[_0x2511aa(0x4bc)][_0x2511aa(0x14c)]({'userId':_0x2dda92,'type':_0x423041['Waiting']});}),this['retryCount']+=0x1,this[_0x350ccf(0x5e1)]=_0x11f8ba;}['sendRequest'](_0xc88165,_0x318f88,_0x4d9eb7,_0x8d57e4,_0x143c91){const _0x2992d9=_0xc3b14b;if(this['retryCount']>0xa)throw new _0x666015(_0x666015[_0x2992d9(0x5c4)][_0x2992d9(0x2b7)],{'answers':Array[_0x2992d9(0x223)](this[_0x2992d9(0x4bc)])[_0x2992d9(0x3c0)](_0x4e13a2=>({'userId':_0x4e13a2[_0x2992d9(0x225)],'type':_0x4e13a2['type']}))});const _0x2de755=Array['from'](this[_0x2992d9(0x4bc)])[_0x2992d9(0x3c0)](_0x3ad272=>_0x3ad272['userId']);this[_0x2992d9(0x2fc)]=_0x143c91,this['systemTopic'][_0x2992d9(0x69e)]({'sourceId':_0xc88165,'destinationIds':_0x2de755,'messageType':_0x4e5dac['Subscription'],'content':{'type':_0x258e6f[_0x2992d9(0x4d0)],'label':_0x4d9eb7,'ownerId':_0x318f88,'trackKinds':_0x8d57e4,'params':_0x143c91}}),_0x4eca14[_0x2992d9(0x3e4)](_0x46b6b6[_0x2992d9(0x554)],'Send\x20request',_0xc88165,_0x2de755);}[_0xc3b14b(0x274)](_0x5d55bb,_0x10a052){const _0x116994=_0xc3b14b;switch(_0x10a052[_0x116994(0x3e0)]){case _0x258e6f['CanProvideMediaStream']:{const _0x384588=this[_0x116994(0x5e1)]>=_0x10a052[_0x116994(0x349)]&&_0x10a052['distance']<=this[_0x116994(0x5b0)],_0x5549c5=Array[_0x116994(0x223)](this[_0x116994(0x4bc)])['find'](_0xc2facd=>_0xc2facd[_0x116994(0x225)]===_0x5d55bb);_0x5549c5[_0x116994(0x3e0)]=_0x384588?_0x423041[_0x116994(0x61b)]:_0x423041['Rejected'],_0x5549c5['cost']=_0x10a052[_0x116994(0x484)],_0x5549c5[_0x116994(0x349)]=_0x10a052[_0x116994(0x349)],_0x5549c5['streamId']=_0x10a052[_0x116994(0x515)],_0x5549c5[_0x116994(0x193)]=Date[_0x116994(0x3c8)]()-this[_0x116994(0x2a7)],_0x5549c5['params']=this[_0x116994(0x2fc)],_0x5549c5[_0x116994(0x299)]=_0x10a052['ownerId'],_0x5549c5['trackKinds']=_0x10a052[_0x116994(0x425)],_0x5549c5[_0x116994(0x32a)]=_0x10a052[_0x116994(0x5bf)],_0x4eca14[_0x116994(0x3e4)](_0x46b6b6[_0x116994(0x554)],(_0x384588?_0x116994(0x61b):_0x116994(0x51e))+_0x116994(0x46c),_0x5549c5);break;}case _0x258e6f[_0x116994(0x1b8)]:{const _0x4758b5=Array[_0x116994(0x223)](this[_0x116994(0x4bc)])['find'](_0x4a9b0d=>_0x4a9b0d[_0x116994(0x225)]===_0x5d55bb);_0x4758b5[_0x116994(0x3e0)]=_0x423041[_0x116994(0x51e)],_0x4eca14[_0x116994(0x3e4)](_0x46b6b6[_0x116994(0x554)],_0x116994(0x1e4),_0x4758b5);break;}}if(this[_0x116994(0x606)]())return this[_0x116994(0x63a)]();}[_0xc3b14b(0x63a)](){const _0x4bbf95=_0xc3b14b,_0x281fc7=Array[_0x4bbf95(0x223)](this[_0x4bbf95(0x4bc)])[_0x4bbf95(0x4c0)](_0x118677=>_0x118677[_0x4bbf95(0x3e0)]===_0x423041[_0x4bbf95(0x61b)])['sort']((_0x293e63,_0x1f540e)=>_0x293e63[_0x4bbf95(0x484)]===_0x1f540e['cost']?_0x293e63[_0x4bbf95(0x193)]-_0x1f540e[_0x4bbf95(0x193)]:_0x293e63['cost']-_0x1f540e[_0x4bbf95(0x484)]);if(0x0===_0x281fc7[_0x4bbf95(0x1c3)])throw new _0x666015(_0x666015['codes'][_0x4bbf95(0x2b7)],{'answers':Array[_0x4bbf95(0x223)](this[_0x4bbf95(0x4bc)])[_0x4bbf95(0x3c0)](_0x34556d=>({'userId':_0x34556d[_0x4bbf95(0x225)],'type':_0x34556d[_0x4bbf95(0x3e0)]}))});return _0x4eca14[_0x4bbf95(0x3e4)](_0x46b6b6['Subscription'],_0x4bbf95(0x23c),_0x281fc7[0x0],this[_0x4bbf95(0x4bc)]),_0x281fc7[0x0];}[_0xc3b14b(0x606)](){const _0x4bf21d=_0xc3b14b;for(const _0x1729bc of this[_0x4bf21d(0x4bc)])if(_0x1729bc['type']===_0x423041[_0x4bf21d(0x262)])return!0x1;return!0x0;}}class _0x34c044{['label'];['contentType'];[_0xc3b14b(0x4cd)]=_0x1556a6();constructor(_0x47b345,_0x4420d5){const _0x2095ad=_0xc3b14b;this[_0x2095ad(0x5bf)]=_0x47b345,this[_0x2095ad(0x241)]=_0x4420d5;}[_0xc3b14b(0x2e1)](){const _0x5a67e9=_0xc3b14b;return this[_0x5a67e9(0x5bf)];}[_0xc3b14b(0x219)](){const _0x1923ef=_0xc3b14b;return this[_0x1923ef(0x241)];}[_0xc3b14b(0x5ff)](_0x10003e){_0x10003e['registerPublisher'](this);}['registerDestination'](_0x563908){const _0x1ff9cd=_0xc3b14b;_0x563908[_0x1ff9cd(0x39f)](this);}[_0xc3b14b(0x69e)](_0x3ab6c1){const _0x22b2af=_0xc3b14b;this[_0x22b2af(0x4cd)][_0x22b2af(0x69e)]({'topicLabel':this[_0x22b2af(0x5bf)],'contentType':this[_0x22b2af(0x241)],'uuid':(0x0,_0x4dacea['v4'])(),'recipients':[],..._0x3ab6c1});}[_0xc3b14b(0x674)](_0x25dc4d){const _0x40b9aa=_0xc3b14b;return this['listener'][_0x40b9aa(0x674)](_0x25dc4d);}[_0xc3b14b(0x523)](_0x148ca0){const _0x1279e5=_0xc3b14b;_0x148ca0[_0x1279e5(0x5a9)](this);}[_0xc3b14b(0x322)](_0x13c757){_0x13c757['unregisterSubscriber'](this);}}class _0xf7d916{[_0xc3b14b(0x392)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x14316b){const _0x5def63=_0xc3b14b;this[_0x5def63(0x2bf)]=_0x14316b;}get[_0xc3b14b(0x18b)](){return this['maps']['subscriptions'];}get[_0xc3b14b(0x5dd)](){const _0x1a2b1d=_0xc3b14b;return this[_0x1a2b1d(0x392)][_0x1a2b1d(0x5dd)];}[_0xc3b14b(0x4e3)](_0x83c867,_0x4485a2){const _0x1683b4=_0xc3b14b,_0xf509c4=this[_0x1683b4(0x2bf)](_0x4485a2),_0x111114=_0x53da4b(_0x83c867);if(!_0xf509c4[_0x1683b4(0x547)])throw new _0x666015(_0x666015[_0x1683b4(0x5c4)][_0x1683b4(0x2dc)],{'message':_0x111114+':\x20'+_0xf509c4[_0x1683b4(0x1d5)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0xf509c4[_0x1683b4(0x241)],'subscriptionType':_0x83c867,'subscription':_0x4485a2,'subscriptonParts':_0xf509c4});const _0x4d6d73=_0xd1240e(_0x83c867,_0xf509c4);if(this[_0x1683b4(0x392)][_0x1683b4(0x18b)][_0x1683b4(0x62d)](_0x4d6d73))throw new _0x666015(_0x666015[_0x1683b4(0x5c4)][_0x1683b4(0x2dc)],{'message':_0x111114+':\x20'+_0x4d6d73+_0x1683b4(0x52a),'subscriptionType':_0x83c867,'subscription':_0x4485a2,'subscriptonParts':_0xf509c4});this[_0x1683b4(0x392)]['subscriptions'][_0x1683b4(0x552)](_0x4d6d73,_0x4485a2),this['createTopic'](_0xf509c4,_0x4485a2);}['removeSubscription'](_0x230ec8,_0x18b220){const _0x1c2b35=_0xc3b14b,_0x518aba=_0xd1240e(_0x18b220,_0x230ec8),_0x368766=this[_0x1c2b35(0x392)][_0x1c2b35(0x18b)][_0x1c2b35(0x30f)](_0x518aba);if(!_0x368766)throw new _0x666015(_0x666015[_0x1c2b35(0x5c4)][_0x1c2b35(0x2dc)],{'message':_0x53da4b(_0x18b220)+':\x20'+_0x518aba+'\x20does\x20not\x20exists','subscriptionType':_0x18b220,'subscription':_0x368766,'subscriptonParts':_0x230ec8});this[_0x1c2b35(0x2d8)](_0x368766,_0x518aba,_0x230ec8);}[_0xc3b14b(0x2d8)](_0x1f3592,_0x4ff6bb,_0x2232a4){const _0x414658=_0xc3b14b;_0x2232a4=_0x2232a4||this['getPartsFromSubscription'](_0x1f3592),this['maps'][_0x414658(0x18b)]['delete'](_0x4ff6bb),this['removeTopic'](_0x2232a4,_0x1f3592);}[_0xc3b14b(0x530)](_0x1280f1,{source:_0x579709,destination:_0x544a5d}){const _0x24b6f8=_0xc3b14b,{contentType:_0x5f259d,label:_0x1bdc23,remoteId:_0x1998ec}=_0x1280f1,_0x21e00d=_0x2d69a1(_0x5f259d,_0x1bdc23,_0x1998ec),_0x5f0ea7=new _0x34c044(_0x21e00d,_0x5f259d);_0x5f0ea7['registerSource'](_0x579709),_0x5f0ea7['registerDestination'](_0x544a5d),this[_0x24b6f8(0x392)][_0x24b6f8(0x5dd)][_0x24b6f8(0x552)](_0x5f0ea7[_0x24b6f8(0x2e1)](),_0x5f0ea7);}[_0xc3b14b(0x25d)](_0x4b26f0,_0x3315dd){const _0x545197=_0xc3b14b,{contentType:_0x1b1a6a,label:_0x29086f,remoteId:_0x50c1f4}=_0x4b26f0,_0x48ac6c=_0x2d69a1(_0x1b1a6a,_0x29086f,_0x50c1f4),_0x1aaa20=this[_0x545197(0x392)][_0x545197(0x5dd)][_0x545197(0x30f)](_0x48ac6c);_0x1aaa20&&(this[_0x545197(0x564)](_0x1aaa20,_0x3315dd),this['maps'][_0x545197(0x5dd)][_0x545197(0x4eb)](_0x48ac6c));}[_0xc3b14b(0x564)](_0x21d3ed,{source:_0x688d3e,destination:_0x29a98a}){const _0xca29ab=_0xc3b14b;_0x21d3ed[_0xca29ab(0x523)](_0x688d3e),_0x21d3ed[_0xca29ab(0x322)](_0x29a98a);}[_0xc3b14b(0x5f8)](_0x361fce){const _0x2126c0=_0xc3b14b;this['maps']['subscriptions'][_0x2126c0(0x602)]((_0x27791f,_0x3cc3a0)=>{const _0xd40dca=_0x2126c0;_0x3cc3a0['endsWith'](_0x361fce)&&this[_0xd40dca(0x2d8)](_0x27791f,_0x3cc3a0);});}}class _0xa8133b{[_0xc3b14b(0x657)];[_0xc3b14b(0x5b0)];['subscriptionRequests']=new Map();['subscriptionRequestsQueue']=_0x1b9259(new _0x6e55cf(this[_0xc3b14b(0x362)][_0xc3b14b(0x2c9)](this),()=>_0x1ee6de[_0xc3b14b(0x3ee)](0x64)),!0x0);[_0xc3b14b(0x413)]=new Map();[_0xc3b14b(0x392)];['chosenAnswers']=new Map();constructor(_0x4a6acc,_0x5b8d6d){this['configs']=_0x4a6acc,this['maxDistance']=_0x5b8d6d,this['maps']=new _0xf7d916(({source:_0x2ad360,destination:_0x5331e8})=>_0x1e1f3b(_0x5331e8,_0x2ad360));}[_0xc3b14b(0x4e3)](_0x4aad37,_0x5c60f5){const _0x56ba6e=_0xc3b14b,_0x54094a=this['isMediaSource'](_0x4aad37)&&this[_0x56ba6e(0x232)](_0x5c60f5)?new _0x38696f(_0x4aad37,_0x5c60f5):new _0xc59cfe(_0x4aad37,_0x5c60f5);this[_0x56ba6e(0x392)]['createSubscription'](_0x5b230f['Incoming'],_0x54094a),this['configs']['mediator'][_0x56ba6e(0x600)](_0x54094a);}[_0xc3b14b(0x3ab)](_0x1268f8,_0x22dd5d,_0x5e1e87=''){const _0x50afe3=_0xc3b14b,_0x4ea782={'contentType':_0x22dd5d,'label':_0x1268f8,'remoteId':_0x5e1e87},_0x4cb5b6=_0xd1240e(_0x5b230f[_0x50afe3(0x35a)],_0x4ea782),_0x1e4c3f=this['maps'][_0x50afe3(0x18b)]['get'](_0x4cb5b6);_0x1e4c3f&&this[_0x50afe3(0x2d8)](_0x1e4c3f,_0x4cb5b6);}[_0xc3b14b(0x69d)](_0x24ae66){const _0x50e23b=_0xc3b14b;this[_0x50e23b(0x1ee)](_0x24ae66);}['handleContentSubscribeMediaStream']({label:_0x5aa61b,ownerId:_0x307239,trackKinds:_0x5bca36,params:_0x2e28c4}){const _0x19f46d=_0xc3b14b;this[_0x19f46d(0x631)](_0x5aa61b,_0x307239,_0x5bca36,_0x2e28c4);}[_0xc3b14b(0x3d4)]({ownerId:_0x375d30,label:_0x3f1de5,params:_0x218770}){const _0x2f3fb3=_0xc3b14b,{subscriptionLabel:_0x46fd50}=this['getSubscriptionLabel'](_0x3f1de5,_0x375d30),_0x2d0403=this[_0x2f3fb3(0x50a)](_0x46fd50);_0x2d0403&&_0x2d0403[_0x2f3fb3(0x25f)](_0x375d30,_0x218770);}[_0xc3b14b(0x511)]({ownerId:_0x44a9dd,label:_0x5c50d1,trackKinds:_0x3ea264,remainingTracks:_0x347e59}){const _0x4a653f=_0xc3b14b,_0x2bb423=_0xd1240e(_0x5b230f[_0x4a653f(0x35a)],{'contentType':_0x164080[_0x4a653f(0x3de)],'label':_0x5c50d1,'remoteId':_0x44a9dd});this['clearSubscriptionRequestTimeout'](_0x2bb423);const _0x49baae=this[_0x4a653f(0x5a1)][_0x4a653f(0x30f)](_0x2bb423);_0x49baae&&(this[_0x4a653f(0x657)][_0x4a653f(0x1e0)][_0x4a653f(0x33d)](_0x49baae),this[_0x4a653f(0x5a1)][_0x4a653f(0x4eb)](_0x2bb423));const {parts:_0x2246ac,subscriptionLabel:_0x112f57}=this[_0x4a653f(0x3b8)](_0x5c50d1,_0x44a9dd),_0x3eaa3a=this[_0x4a653f(0x50a)](_0x112f57);_0x3eaa3a&&(_0x3eaa3a['unsubscribe'](_0x44a9dd,_0x347e59,_0x3ea264),0x0===_0x347e59&&this[_0x4a653f(0x3ab)](_0x2246ac['label'],_0x2246ac[_0x4a653f(0x241)],_0x2246ac['remoteId']));}[_0xc3b14b(0x66c)](_0x4b9593,{label:_0x4a1314,ownerId:_0xa17919,trackKinds:_0x56171a,streamId:_0x509cab,params:_0x31ca38}){const _0x1483c6=_0xc3b14b,_0x44ed6a=_0xd1240e(_0x5b230f[_0x1483c6(0x35a)],{'contentType':_0x164080['Media'],'label':_0x509cab,'remoteId':_0x4b9593}),_0xf94719=this[_0x1483c6(0x392)][_0x1483c6(0x18b)]['get'](_0x44ed6a);if(!(_0xf94719&&_0xf94719 instanceof _0x38696f))throw new _0x666015(_0x666015[_0x1483c6(0x5c4)][_0x1483c6(0x387)],{'label':_0x44ed6a,'ownerId':_0xa17919});this[_0x1483c6(0x2d8)](_0xf94719,_0x44ed6a),this[_0x1483c6(0x631)](_0x4a1314,_0xa17919,_0x56171a,_0x31ca38);}[_0xc3b14b(0x19b)](_0x300dab,_0x42cfd7){const _0x4f8df2=_0xc3b14b,{label:_0xf4d24,ownerId:_0x24e7f6,trackKinds:_0x3767bc,params:_0x233882}=_0x42cfd7,_0x209564=_0xd1240e(_0x5b230f[_0x4f8df2(0x35a)],{'contentType':_0x164080[_0x4f8df2(0x3de)],'label':_0xf4d24,'remoteId':_0x24e7f6});if(!this[_0x4f8df2(0x5a1)][_0x4f8df2(0x62d)](_0x209564))throw new _0x666015(_0x666015[_0x4f8df2(0x5c4)][_0x4f8df2(0x387)],{'label':_0x209564,'ownerId':_0x24e7f6,'streamId':_0x42cfd7[_0x4f8df2(0x515)],'requests':this[_0x4f8df2(0x5a1)]});const _0x4cc9d1=this[_0x4f8df2(0x5a1)][_0x4f8df2(0x30f)](_0x209564);if(_0x3767bc[_0x4f8df2(0x1c3)]===_0x4cc9d1[_0x4f8df2(0x3ef)]()[_0x4f8df2(0x1c3)]&&_0x3767bc[_0x4f8df2(0x3c3)](_0x42736f=>_0x4cc9d1['getTracks']()[_0x4f8df2(0x3f2)](_0x42736f)))try{const _0x362729=_0x4cc9d1[_0x4f8df2(0x274)](_0x300dab,_0x42cfd7);if(!_0x362729)return;this[_0x4f8df2(0x674)](_0x362729,_0x24e7f6,_0xf4d24,_0x209564,_0x3767bc);}catch(_0x38fdea){return void this[_0x4f8df2(0x18f)](_0xf4d24,_0x24e7f6,_0x3767bc,_0x233882);}}[_0xc3b14b(0x6dd)](_0x55d6c7,{label:_0x54f769,ownerId:_0x5d238a,trackKinds:_0x11c39c}){const _0x398b0e=_0xc3b14b,_0x348c83=this[_0x398b0e(0x657)]['mediator'][_0x398b0e(0x538)](_0x5d238a,_0x54f769);if(!_0x348c83)return;const _0x2a713c=_0x348c83['getInternalStreamId'](),_0x15f4cd=_0x348c83['getSubscribedTracks']();_0x15f4cd['some'](_0x49a4fc=>_0x11c39c[_0x398b0e(0x3f2)](_0x49a4fc))&&this['findNewMediaSubscription'](_0x55d6c7,_0x54f769,_0x2a713c,_0x5d238a,_0x15f4cd);}[_0xc3b14b(0x2b3)]({label:_0x541ede,providerId:_0x1bd31f,ownerId:_0x5095f5,streamId:_0x5912c4,trackKinds:_0x302f80}){this['findNewMediaSubscription'](_0x1bd31f,_0x541ede,_0x5912c4,_0x5095f5,_0x302f80);}[_0xc3b14b(0x550)](_0x319acd){const _0x106f7c=_0xc3b14b;for(const _0x32f18e of this[_0x106f7c(0x5b8)][_0x106f7c(0x59d)]()){const {streamLabel:_0x1e8b1b,ownerId:_0x14ab87,trackKinds:_0x4e0da6,params:_0x14e0c8}=_0x32f18e;if(!_0x14ab87||!_0x4e0da6||!_0x1e8b1b)return;this[_0x106f7c(0x254)]['push']({'label':_0x1e8b1b,'ownerId':_0x14ab87,'trackKinds':_0x4e0da6,'params':_0x14e0c8,'remoteId':_0x319acd});}}['removeSubscriptionsForUser'](_0x44537d){const _0x349951=_0xc3b14b;this[_0x349951(0x392)][_0x349951(0x18b)][_0x349951(0x602)]((_0xb40993,_0x542b8a)=>{const _0x364fb1=_0x349951;if(_0x542b8a[_0x364fb1(0x30e)](_0x44537d)){if(_0xb40993['destination'][_0x364fb1(0x219)]()===_0x164080[_0x364fb1(0x3de)]){const _0x39ede1=_0xb40993[_0x364fb1(0x247)];if(_0x39ede1['getSubscribedTracks']()[_0x364fb1(0x1c3)]>0x0){const _0x45e6f3={'type':_0x258e6f[_0x364fb1(0x33c)],'label':_0x39ede1[_0x364fb1(0x2e1)](),'ownerId':_0x39ede1[_0x364fb1(0x3aa)](),'trackKinds':_0x39ede1[_0x364fb1(0x27a)]()};return void this[_0x364fb1(0x6dd)](_0x44537d,_0x45e6f3);}}this[_0x364fb1(0x2d8)](_0xb40993,_0x542b8a);}});}[_0xc3b14b(0x50c)](){const _0x1cbe7e=_0xc3b14b;this['maps'][_0x1cbe7e(0x18b)][_0x1cbe7e(0x602)](this['closeSubscription'][_0x1cbe7e(0x2c9)](this));}[_0xc3b14b(0x674)](_0x496e19,_0x4f828a,_0x3dea81,_0x109fcc,_0x94a312){const _0x46e8bd=_0xc3b14b,_0x5a3440=this[_0x46e8bd(0x657)][_0x46e8bd(0x1e0)][_0x46e8bd(0x3a5)](_0x496e19[_0x46e8bd(0x225)]),_0x5c658d=this[_0x46e8bd(0x657)]['mediator'][_0x46e8bd(0x538)](_0x4f828a,_0x3dea81);this['clearSubscriptionRequestTimeout'](_0x109fcc),this[_0x46e8bd(0x5a1)][_0x46e8bd(0x62d)](_0x109fcc)&&(this['configs'][_0x46e8bd(0x1e0)][_0x46e8bd(0x33d)](this[_0x46e8bd(0x5a1)][_0x46e8bd(0x30f)](_0x109fcc)),this['subscriptionRequests'][_0x46e8bd(0x4eb)](_0x109fcc)),this[_0x46e8bd(0x640)](_0x496e19,_0x4f828a,_0x3dea81,_0x5c658d),_0x5c658d[_0x46e8bd(0x2fd)](_0x496e19[_0x46e8bd(0x515)]),_0x5c658d['setProviderId'](_0x496e19[_0x46e8bd(0x225)]);const _0x3826c4=_0x1e1f3b(_0x5c658d,_0x5a3440),_0x539ade=_0xd1240e(_0x5b230f['Incoming'],_0x3826c4);this[_0x46e8bd(0x392)]['subscriptions'][_0x46e8bd(0x62d)](_0x539ade)||this['createSubscription'](_0x5a3440,_0x5c658d);const _0x25b24c=this[_0x46e8bd(0x392)][_0x46e8bd(0x18b)][_0x46e8bd(0x30f)](_0x539ade);if(!(_0x25b24c&&_0x25b24c instanceof _0x38696f))throw new _0x666015(_0x666015[_0x46e8bd(0x5c4)][_0x46e8bd(0x387)],{'label':_0x109fcc,'ownerId':_0x4f828a});_0x4eca14[_0x46e8bd(0x197)]('subscription',{'clusterId':this[_0x46e8bd(0x657)][_0x46e8bd(0x1d9)],'userId':this[_0x46e8bd(0x657)][_0x46e8bd(0x1ab)],'data':{'subscriptionLabel':_0x539ade,'chosenAnswer':_0x496e19}}),this['chosenAnswers'][_0x46e8bd(0x552)](_0x539ade,_0x496e19),_0x25b24c[_0x46e8bd(0x674)](_0x4f828a,_0x94a312,_0x496e19[_0x46e8bd(0x2fc)]);}[_0xc3b14b(0x1ee)]({ownerId:_0x1b435e,label:_0x579a02}){const _0x5d9baf=_0xc3b14b,_0x20e0c7=this[_0x5d9baf(0x657)][_0x5d9baf(0x1e0)][_0x5d9baf(0x538)](_0x1b435e,_0x579a02),[_0x254d5b,_0x4f165e]=Array[_0x5d9baf(0x223)](this[_0x5d9baf(0x392)][_0x5d9baf(0x18b)][_0x5d9baf(0x4d5)]())['find'](([_0x360bbe,_0xf6fdc5])=>-0x1!==_0x360bbe['indexOf'](_0x20e0c7[_0x5d9baf(0x180)]()));return this[_0x5d9baf(0x2d8)](_0x4f165e,_0x254d5b);}[_0xc3b14b(0x2d8)](_0x875ce3,_0x3f8abb){const _0x458e6d=_0xc3b14b;this[_0x458e6d(0x657)]['mediator'][_0x458e6d(0x33d)](_0x875ce3),this['maps'][_0x458e6d(0x2d8)](_0x875ce3,_0x3f8abb);}[_0xc3b14b(0x1b5)](_0xed56f7){const _0x16e57b=_0xc3b14b;return _0xed56f7[_0x16e57b(0x653)]()[_0x16e57b(0x3f2)](_0x164080[_0x16e57b(0x3de)]);}['isMediaDestination'](_0x4af7b9){const _0x1f0a1d=_0xc3b14b;return _0x4af7b9[_0x1f0a1d(0x219)]()===_0x164080['Media'];}async['handleNoAnswer'](_0x108e40,_0x15fdf1,_0x1395f0,_0x29493b){const _0x2258db=_0xc3b14b;await _0x1ee6de['wait'](0x3e8);const _0x20c3d2=_0xd1240e(_0x5b230f[_0x2258db(0x35a)],{'contentType':_0x164080[_0x2258db(0x3de)],'label':_0x108e40,'remoteId':_0x15fdf1});this['clearSubscriptionRequestTimeout'](_0x20c3d2);const _0x7bb922=this['subscriptionRequests'][_0x2258db(0x30f)](_0x20c3d2);if(!_0x7bb922)throw new _0x666015(_0x666015[_0x2258db(0x5c4)]['SubscriptionRequestDoesNotExist'],{'label':_0x20c3d2,'ownerId':_0x15fdf1});const _0x428278=this[_0x2258db(0x657)][_0x2258db(0x1e0)][_0x2258db(0x253)](_0x55f171=>_0x55f171[_0x2258db(0x476)]()),_0x4fae2e=this[_0x2258db(0x657)][_0x2258db(0x1e0)]['getDistance'](this[_0x2258db(0x657)][_0x2258db(0x1ab)],_0x15fdf1);_0x7bb922[_0x2258db(0x62c)](_0x428278[_0x2258db(0x3c0)](_0x28053d=>_0x28053d[_0x2258db(0x4a4)]()),_0x4fae2e);try{_0x7bb922['sendRequest'](this[_0x2258db(0x657)][_0x2258db(0x1ab)],_0x15fdf1,_0x108e40,_0x1395f0,_0x29493b),this['setSubscriptionRequestTimeout'](_0x108e40,_0x15fdf1,_0x1395f0,_0x29493b,_0x20c3d2,_0x7bb922);}catch(_0x3660a0){this[_0x2258db(0x254)]['push']({'label':_0x108e40,'ownerId':_0x15fdf1,'trackKinds':_0x1395f0,'params':_0x29493b});}}['requestSubscription'](_0x1660ab,_0x179a6f,_0x458645,_0x33aa5b){const _0x31a218=_0xc3b14b;this[_0x31a218(0x254)][_0x31a218(0x16d)]({'label':_0x1660ab,'ownerId':_0x179a6f,'trackKinds':_0x458645,'params':_0x33aa5b});}[_0xc3b14b(0x362)]({label:_0x139071,ownerId:_0x1f78da,trackKinds:_0x519526,params:_0x4170e4,remoteId:_0x415609}){const _0x227225=_0xc3b14b;if(!this[_0x227225(0x657)][_0x227225(0x1e0)][_0x227225(0x538)](_0x1f78da,_0x139071))return;if(!this[_0x227225(0x657)][_0x227225(0x1e0)][_0x227225(0x352)]()[_0x227225(0x226)]())throw new Error(_0x227225(0x5c3));if(_0x415609){const _0x52d2c8=this[_0x227225(0x657)]['mediator'][_0x227225(0x632)]()[_0x227225(0x4c7)](_0x3b998c=>_0x3b998c[_0x227225(0x16b)]()===_0x415609),_0x2c5e23=_0x52d2c8?.[_0x227225(0x226)]();if(!_0x52d2c8||!_0x2c5e23)throw new Error(_0x227225(0x3ca));const _0x52fb8b=this[_0x227225(0x657)][_0x227225(0x1e0)][_0x227225(0x632)]()[_0x227225(0x4c7)](_0x50e590=>_0x50e590[_0x227225(0x16b)]()===_0x1f78da),_0x33fb38=_0x52fb8b?.['getRank']();if(!_0x52fb8b||!_0x33fb38)throw new Error(_0x227225(0x448));const _0x2f39fe=this[_0x227225(0x5b8)]['get'](_0x139071);if(_0x2f39fe){const _0x1b540d=this[_0x227225(0x657)][_0x227225(0x1e0)][_0x227225(0x632)]()['find'](_0x157998=>_0x157998['getId']()===_0x2f39fe[_0x227225(0x225)]),_0x2c8b20=_0x1b540d?.[_0x227225(0x226)]();if(!_0x1b540d||!_0x2c8b20)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20user\x20or\x20rank');if(Math[_0x227225(0x1fb)](_0x2c8b20-_0x33fb38)<Math[_0x227225(0x1fb)](_0x2c5e23-_0x33fb38))return;}}const _0x3451b2=this[_0x227225(0x657)][_0x227225(0x1e0)][_0x227225(0x253)](_0x3be0a0=>_0x3be0a0[_0x227225(0x476)]()&&(!_0x415609||_0x3be0a0[_0x227225(0x4a4)]()===_0x415609));if(!_0x3451b2[_0x227225(0x1c3)]||0x0===_0x3451b2[_0x227225(0x1c3)])throw new Error(_0x227225(0x68d));const _0xf351dd=this[_0x227225(0x657)]['mediator']['getDistance'](this[_0x227225(0x657)]['localId'],_0x1f78da),_0x308894=_0xd1240e(_0x5b230f[_0x227225(0x35a)],{'contentType':_0x164080['Media'],'label':_0x139071,'remoteId':_0x1f78da});if(this[_0x227225(0x5a1)]['has'](_0x308894)){if(_0x415609)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x2ad171=this['subscriptionRequests'][_0x227225(0x30f)](_0x308894)[_0x227225(0x3ef)]();if(_0x2ad171[_0x227225(0x1c3)]===_0x519526[_0x227225(0x1c3)]&&_0x2ad171[_0x227225(0x3c3)](_0x43df1d=>_0x519526[_0x227225(0x3f2)](_0x43df1d)))return;this[_0x227225(0x657)][_0x227225(0x1e0)]['unregisterSystemSource'](this[_0x227225(0x5a1)][_0x227225(0x30f)](_0x308894)),this[_0x227225(0x5a1)]['delete'](_0x308894),_0x519526=Array[_0x227225(0x223)](new Set(_0x519526[_0x227225(0x3f1)](_0x2ad171))),this[_0x227225(0x3dd)](_0x308894);}const _0x79fd2a=new _0x283ec7(_0x3451b2[_0x227225(0x3c0)](_0x19752a=>_0x19752a[_0x227225(0x4a4)]()),_0xf351dd,this[_0x227225(0x5b0)],_0x519526);this['configs'][_0x227225(0x1e0)]['registerSystemSource'](_0x79fd2a),this['subscriptionRequests'][_0x227225(0x552)](_0x308894,_0x79fd2a),_0x79fd2a[_0x227225(0x3b7)](this[_0x227225(0x657)][_0x227225(0x1ab)],_0x1f78da,_0x139071,_0x519526,_0x4170e4),this[_0x227225(0x6d3)](_0x139071,_0x1f78da,_0x519526,_0x4170e4,_0x308894,_0x79fd2a);}[_0xc3b14b(0x3dd)](_0x209082){const _0x30e224=_0xc3b14b;this[_0x30e224(0x413)][_0x30e224(0x62d)](_0x209082)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x30e224(0x30f)](_0x209082)),this['subscriptionRequestTimeouts']['delete'](_0x209082));}[_0xc3b14b(0x6d3)](_0x1f7810,_0x48669f,_0x1f076,_0x41e4a9,_0x17ccba,_0x237e38){const _0x51db8c=_0xc3b14b;this[_0x51db8c(0x3dd)](_0x17ccba),this[_0x51db8c(0x413)][_0x51db8c(0x552)](_0x17ccba,setTimeout(()=>{const _0xbd9509=_0x51db8c;this['subscriptionRequestTimeouts'][_0xbd9509(0x4eb)](_0x17ccba);try{const _0x5681e5=_0x237e38['chooseAnswer']();this[_0xbd9509(0x674)](_0x5681e5,_0x48669f,_0x1f7810,_0x17ccba,_0x1f076);}catch(_0x2d9575){this[_0xbd9509(0x18f)](_0x1f7810,_0x48669f,_0x1f076,_0x41e4a9);}},0x7d0));}[_0xc3b14b(0x6db)](_0x290bf0,_0x4c92dd,_0x1e175f,_0x19cdd0,_0x2f3e7b){const _0x171ed3=_0xc3b14b,{subscriptionLabel:_0x446600}=this[_0x171ed3(0x3b8)](_0x4c92dd,_0x19cdd0),_0x13abc3=this['getMediaSubscription'](_0x446600),_0x82f160=_0x13abc3?.['params'];_0x13abc3&&(_0x13abc3[_0x171ed3(0x6c0)](_0x19cdd0,0x0),this['removeSubscription'](_0x1e175f,_0x164080['Media'],_0x290bf0)),this[_0x171ed3(0x631)](_0x4c92dd,_0x19cdd0,_0x2f3e7b,_0x82f160);}['getMediaSubscription'](_0x3e32f5){const _0x34df60=_0xc3b14b,_0x220621=this['maps'][_0x34df60(0x18b)][_0x34df60(0x30f)](_0x3e32f5);if(_0x220621){if(!(_0x220621 instanceof _0x38696f))throw new _0x666015(_0x666015[_0x34df60(0x5c4)][_0x34df60(0x2dc)],{'label':_0x3e32f5,'subscription':_0x220621});return _0x220621;}}[_0xc3b14b(0x3b8)](_0x4591c0,_0x379429){const _0x339072=_0xc3b14b,_0x434750=this[_0x339072(0x1af)](_0x4591c0,_0x379429);return{'parts':_0x434750,'subscriptionLabel':_0xd1240e(_0x5b230f[_0x339072(0x35a)],_0x434750)};}[_0xc3b14b(0x1af)](_0x235e97,_0x11fb9e){const _0x154ac2=_0xc3b14b,_0x54508e=this[_0x154ac2(0x657)][_0x154ac2(0x1e0)][_0x154ac2(0x538)](_0x11fb9e,_0x235e97),_0x3928d5=_0x54508e[_0x154ac2(0x3ce)]();if(!_0x3928d5)throw new _0x666015(_0x666015[_0x154ac2(0x5c4)][_0x154ac2(0x4a1)],{'label':_0x235e97,'streamId':_0x54508e[_0x154ac2(0x180)](),'ownerId':_0x11fb9e,'localId':this[_0x154ac2(0x657)][_0x154ac2(0x1ab)]});return{'contentType':_0x164080[_0x154ac2(0x3de)],'label':_0x54508e[_0x154ac2(0x180)](),'remoteId':_0x3928d5};}[_0xc3b14b(0x640)](_0x134c4f,_0x5bf727,_0x3f0399,_0x31811e){const _0x52a7d1=_0xc3b14b,_0xe7e478=_0x31811e[_0x52a7d1(0x3ce)]();if(_0xe7e478&&_0xe7e478!==_0x134c4f[_0x52a7d1(0x225)]){const {parts:_0x2d9b85,subscriptionLabel:_0x137228}=this[_0x52a7d1(0x3b8)](_0x3f0399,_0x5bf727),_0x236217=this[_0x52a7d1(0x50a)](_0x137228);_0x236217&&(_0x236217[_0x52a7d1(0x6c0)](_0x5bf727,0x0),this[_0x52a7d1(0x3ab)](_0x2d9b85[_0x52a7d1(0x5bf)],_0x2d9b85[_0x52a7d1(0x241)],_0x2d9b85[_0x52a7d1(0x1d5)]));}}}class _0x1760b3{[_0xc3b14b(0x657)];[_0xc3b14b(0x61a)];[_0xc3b14b(0x392)];constructor(_0x1618a3,_0x587a7b){const _0x554bc1=_0xc3b14b;this['configs']=_0x1618a3,this[_0x554bc1(0x61a)]=_0x587a7b,this[_0x554bc1(0x392)]=new _0xf7d916(({source:_0x4f15d9,destination:_0x6427cf})=>_0x1e1f3b(_0x4f15d9,_0x6427cf));}[_0xc3b14b(0x4e3)](_0x31ec8b,_0x291680){const _0x314018=_0xc3b14b,_0x1b35b7={'source':_0x31ec8b,'destination':_0x291680};this[_0x314018(0x392)]['createSubscription'](_0x5b230f[_0x314018(0x540)],_0x1b35b7);}[_0xc3b14b(0x3ab)](_0x50b438,_0x4794a4,_0x7a02c4=''){const _0x583164=_0xc3b14b,_0x404c51={'contentType':_0x4794a4,'label':_0x50b438,'remoteId':_0x7a02c4};this[_0x583164(0x392)][_0x583164(0x3ab)](_0x404c51,_0x5b230f['Outgoing']);}[_0xc3b14b(0x3b1)](_0x556e96,_0x3bab15){const _0x1c7a6c=_0xc3b14b;let _0x1afcbc;_0x1afcbc=_0x3bab15[_0x1c7a6c(0x299)]!==this[_0x1c7a6c(0x657)]['localId']?this[_0x1c7a6c(0x657)][_0x1c7a6c(0x1e0)][_0x1c7a6c(0x538)](_0x3bab15[_0x1c7a6c(0x299)],_0x3bab15[_0x1c7a6c(0x5bf)]):this[_0x1c7a6c(0x657)][_0x1c7a6c(0x1e0)]['getLocalMediaStream'](_0x3bab15[_0x1c7a6c(0x5bf)]);const _0x3c6f4a=_0xd1240e(_0x5b230f[_0x1c7a6c(0x540)],{'contentType':_0x164080[_0x1c7a6c(0x3de)],'label':_0x1afcbc[_0x1c7a6c(0x2db)](),'remoteId':_0x556e96}),_0x1576e7=this[_0x1c7a6c(0x1e3)]();if(!this[_0x1c7a6c(0x392)][_0x1c7a6c(0x18b)][_0x1c7a6c(0x62d)](_0x3c6f4a)&&_0x1576e7>=this['maxOutgoingSubscriptions'])return{'type':_0x258e6f[_0x1c7a6c(0x5f2)],'ownerId':_0x3bab15[_0x1c7a6c(0x299)],'label':_0x3bab15[_0x1c7a6c(0x5bf)],'streamId':_0x1afcbc['getShareableStreamId'](),'trackKinds':_0x3bab15['trackKinds'],'params':_0x3bab15[_0x1c7a6c(0x2fc)]};_0x1afcbc instanceof _0x15d79f&&!_0x1afcbc['isSubscribed'](_0x3bab15[_0x1c7a6c(0x425)])&&_0x1afcbc[_0x1c7a6c(0x674)](_0x3bab15[_0x1c7a6c(0x2fc)]),this[_0x1c7a6c(0x392)][_0x1c7a6c(0x18b)][_0x1c7a6c(0x62d)](_0x3c6f4a)||this[_0x1c7a6c(0x4e3)](_0x1afcbc[_0x1c7a6c(0x424)](_0x556e96),this[_0x1c7a6c(0x657)][_0x1c7a6c(0x1e0)][_0x1c7a6c(0x3a5)](_0x556e96));}[_0xc3b14b(0x2b6)](_0x5d636e,{label:_0xfc585a,ownerId:_0x4f726d,remainingTracks:_0x170c76}){const _0x36e580=_0xc3b14b;if(_0x170c76>0x0)return;let _0x25b70b;_0x25b70b=_0x4f726d!==this[_0x36e580(0x657)][_0x36e580(0x1ab)]?this[_0x36e580(0x657)][_0x36e580(0x1e0)]['getRemoteMediaStream'](_0x4f726d,_0xfc585a):this[_0x36e580(0x657)]['mediator']['getLocalMediaStream'](_0xfc585a);const _0x588f6d=_0x25b70b[_0x36e580(0x2db)](),_0x36db56=_0x164080[_0x36e580(0x3de)];this['removeSubscription'](_0x588f6d,_0x36db56,_0x5d636e);}['handleContentUnsubscribeMediaStream'](_0x336481,{label:_0x554b58,ownerId:_0x27100b,trackKinds:_0x53cb7b}){const _0x92f366=_0xc3b14b;if(_0x336481!==_0x6f97b2)return[];let _0x54f91c=[];for(const _0x834322 of this[_0x92f366(0x392)]['subscriptions']){const {source:_0x11188b,destination:_0x124022}=_0x834322[0x1];_0x11188b[_0x92f366(0x2e1)]()===_0x554b58&&_0x11188b[_0x92f366(0x3aa)]()===_0x27100b&&_0x54f91c[_0x92f366(0x16d)]({'sourceId':this[_0x92f366(0x657)]['localId'],'destinationIds':[_0x124022[_0x92f366(0x4a4)]()],'messageType':_0x4e5dac['Subscription'],'content':{'type':_0x258e6f['MediaStreamUnavailable'],'label':_0x554b58,'ownerId':_0x27100b,'trackKinds':_0x53cb7b}});}return _0x54f91c;}[_0xc3b14b(0x26d)](_0x4f8225,_0x21e841){const _0x556524=_0xc3b14b,{label:_0x9e6ff1,ownerId:_0x3f94a9,trackKinds:_0x509e9e,params:_0x4c6382}=_0x21e841,{hasTracks:_0x1b8bc8,streamId:_0x1aa59c,hasResolution:_0x5e83bf,distance:_0x3ec6dc,subscriptionLabel:_0x164573}=this['getSubscriptionInfo'](_0x4f8225,_0x21e841);let _0x3b37e1=this[_0x556524(0x1e3)]()<this[_0x556524(0x61a)]&&(_0x1b8bc8||_0x3ec6dc>-0x1)?_0x258e6f[_0x556524(0x1d6)]:_0x258e6f[_0x556524(0x1b8)];const _0x26dcaf=_0x3ec6dc<0x0?0xa:_0x3ec6dc;let _0x126afa=_0x1b8bc8?_0x5e83bf?_0x26dcaf:_0x26dcaf+0x0:_0x26dcaf+0xa;return _0x164573&&this[_0x556524(0x392)][_0x556524(0x18b)][_0x556524(0x62d)](_0x164573)&&(_0x1b8bc8&&(_0x126afa=0x0),_0x3b37e1=_0x258e6f[_0x556524(0x1d6)]),{'type':_0x3b37e1,'cost':_0x126afa,'distance':_0x3ec6dc,'label':_0x9e6ff1,'ownerId':_0x3f94a9,'streamId':_0x1aa59c,'trackKinds':_0x509e9e,'params':_0x4c6382};}[_0xc3b14b(0x69d)](_0x5184b9){const _0x40a9b2=_0xc3b14b,{label:_0xbda5e2,ownerId:_0x4518bf}=_0x5184b9,_0x33eae1=this[_0x40a9b2(0x657)][_0x40a9b2(0x1e0)][_0x40a9b2(0x538)](_0x4518bf,_0xbda5e2);this[_0x40a9b2(0x392)][_0x40a9b2(0x18b)][_0x40a9b2(0x602)](_0x359cdf=>{const _0x5df8bc=_0x40a9b2;if(_0x359cdf['source'][_0x5df8bc(0x180)]()===_0x33eae1[_0x5df8bc(0x2db)]()){const _0x5c36b2=_0x359cdf[_0x5df8bc(0x247)];this[_0x5df8bc(0x3ab)](_0x33eae1[_0x5df8bc(0x2db)](),_0x164080[_0x5df8bc(0x3de)],_0x5c36b2[_0x5df8bc(0x4a4)]());}});}[_0xc3b14b(0x6aa)]({label:_0x565115}){const _0x2aa104=_0xc3b14b,_0x483445=this[_0x2aa104(0x657)][_0x2aa104(0x1e0)][_0x2aa104(0x3a3)](_0x565115);this[_0x2aa104(0x392)]['subscriptions'][_0x2aa104(0x602)](_0x3d8dcf=>{const _0x5e71a6=_0x2aa104;if(_0x3d8dcf[_0x5e71a6(0x1ad)][_0x5e71a6(0x180)]()===_0x483445[_0x5e71a6(0x2db)]()){const _0x4d4d08=_0x3d8dcf[_0x5e71a6(0x247)];this[_0x5e71a6(0x3ab)](_0x483445['getShareableStreamId'](),_0x164080[_0x5e71a6(0x3de)],_0x4d4d08[_0x5e71a6(0x4a4)]());}});}['removeSubscriptionsForUser'](_0x4db4ed){const _0x594582=_0xc3b14b;this['maps'][_0x594582(0x5f8)](_0x4db4ed);}[_0xc3b14b(0x50c)](){const _0x14ed14=_0xc3b14b;this[_0x14ed14(0x392)][_0x14ed14(0x18b)][_0x14ed14(0x602)](this[_0x14ed14(0x2d8)]['bind'](this));}[_0xc3b14b(0x2d8)](_0x441fef,_0x5efcf3){const _0x254033=_0xc3b14b;this['maps'][_0x254033(0x2d8)](_0x441fef,_0x5efcf3);}[_0xc3b14b(0x279)](_0x1d2776,{label:_0xc2abe8,ownerId:_0x49ddc6,trackKinds:_0x23f7d7,params:_0x26352d}){const _0x3bd85f=_0xc3b14b;if(_0x49ddc6!==this[_0x3bd85f(0x657)][_0x3bd85f(0x1ab)]){const _0x418545=this['configs'][_0x3bd85f(0x1e0)][_0x3bd85f(0x538)](_0x49ddc6,_0xc2abe8);return _0x418545&&_0x418545[_0x3bd85f(0x3ce)]()!==_0x1d2776?{'hasTracks':_0x418545[_0x3bd85f(0x4ce)](_0x23f7d7),'hasResolution':this['canProvideResolution'](_0x418545[_0x3bd85f(0x171)](),_0x26352d),'streamId':_0x418545[_0x3bd85f(0x2db)](),'distance':this[_0x3bd85f(0x657)][_0x3bd85f(0x1e0)][_0x3bd85f(0x485)](_0x1d2776,_0x49ddc6),'subscriptionLabel':_0xd1240e(_0x5b230f[_0x3bd85f(0x540)],{'contentType':_0x164080[_0x3bd85f(0x3de)],'label':_0x418545[_0x3bd85f(0x2db)](),'remoteId':_0x1d2776})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x10b2a4=this[_0x3bd85f(0x657)][_0x3bd85f(0x1e0)][_0x3bd85f(0x3a3)](_0xc2abe8);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x10b2a4[_0x3bd85f(0x2db)](),'distance':0x0,'subscriptionLabel':_0xd1240e(_0x5b230f[_0x3bd85f(0x540)],{'contentType':_0x164080[_0x3bd85f(0x3de)],'label':_0x10b2a4['getShareableStreamId'](),'remoteId':_0x1d2776})};}['getNumberOutgoingSubscriptions'](){const _0x1fe3ad=_0xc3b14b;return Array['from'](this[_0x1fe3ad(0x392)][_0x1fe3ad(0x18b)][_0x1fe3ad(0x4d5)]())[_0x1fe3ad(0x4c0)](([_0x2d9874,{source:_0xfbb9a3}])=>_0x2d9874[_0x1fe3ad(0x28e)](_0x5b230f[_0x1fe3ad(0x540)])&&_0xfbb9a3[_0x1fe3ad(0x219)]()===_0x164080[_0x1fe3ad(0x3de)])[_0x1fe3ad(0x1c3)];}[_0xc3b14b(0x555)](_0x5b8a23,_0x2ac0f2){const _0x4b2c32=_0xc3b14b;if(!_0x2ac0f2||!_0x2ac0f2[_0x4b2c32(0x42e)]||_0x4b2c32(0x688)==typeof _0x2ac0f2[_0x4b2c32(0x42e)]||!_0x2ac0f2[_0x4b2c32(0x42e)][_0x4b2c32(0x5c5)])return!0x0;const {width:_0x150f27,height:_0x1386fe}=_0x2ac0f2[_0x4b2c32(0x42e)][_0x4b2c32(0x5c5)];return _0x5b8a23[_0x4b2c32(0x2b0)]>=_0x150f27&&_0x5b8a23['height']>=_0x1386fe;}}class _0x22303d{['configs'];[_0xc3b14b(0x61a)];[_0xc3b14b(0x5b0)];[_0xc3b14b(0x5ea)];[_0xc3b14b(0x412)];[_0xc3b14b(0x49e)];constructor(_0x462cea,_0x328ddc,_0x14f1cf){const _0xc3a0db=_0xc3b14b;this[_0xc3a0db(0x657)]=_0x462cea,this[_0xc3a0db(0x61a)]=_0x328ddc,this[_0xc3a0db(0x5b0)]=_0x14f1cf,this['configs']['mediator'][_0xc3a0db(0x600)](this),this[_0xc3a0db(0x412)]=new _0xa8133b(this[_0xc3a0db(0x657)],this[_0xc3a0db(0x5b0)]),this[_0xc3a0db(0x49e)]=new _0x1760b3(this[_0xc3a0db(0x657)],this['maxOutgoingSubscriptions']);}[_0xc3b14b(0x359)](_0x4b5a35){const _0x450efe=_0xc3b14b;this[_0x450efe(0x5ea)]=_0x4b5a35;}[_0xc3b14b(0x680)](){delete this['systemTopic'];}[_0xc3b14b(0x50c)](){const _0x56f6ed=_0xc3b14b;this['incomingManager'][_0x56f6ed(0x50c)](),this[_0x56f6ed(0x49e)][_0x56f6ed(0x50c)](),this[_0x56f6ed(0x657)][_0x56f6ed(0x1e0)][_0x56f6ed(0x33d)](this);}[_0xc3b14b(0x48c)](_0xfe6c61,_0x46dfa8){const _0x4acf5b=_0xc3b14b;this[_0x4acf5b(0x412)][_0x4acf5b(0x4e3)](_0xfe6c61,_0x46dfa8);}[_0xc3b14b(0x41c)](_0x3fc04e,_0x3eb3cd){const _0x500604=_0xc3b14b;this[_0x500604(0x49e)]['createSubscription'](_0x3fc04e,_0x3eb3cd);}[_0xc3b14b(0x3d0)](_0x1517cd,_0x165c15,_0x4bf866=''){const _0x4618f5=_0xc3b14b;this[_0x4618f5(0x412)][_0x4618f5(0x3ab)](_0x1517cd,_0x165c15,_0x4bf866);}[_0xc3b14b(0x224)](_0x390010,_0x539fbb,_0x34354e=''){const _0x385ea9=_0xc3b14b;try{this[_0x385ea9(0x49e)][_0x385ea9(0x3ab)](_0x390010,_0x539fbb,_0x34354e);}catch(_0x4a3a85){if(_0x4a3a85 instanceof _0x666015&&_0x4a3a85[_0x385ea9(0x3ad)]===_0x666015[_0x385ea9(0x5c4)][_0x385ea9(0x2dc)])return;}}[_0xc3b14b(0x274)](_0x55c2fe){const _0x374fae=_0xc3b14b;switch(_0x55c2fe[_0x374fae(0x470)][_0x374fae(0x3e0)]){case _0x258e6f[_0x374fae(0x588)]:this[_0x374fae(0x3b1)](_0x55c2fe['sourceId'],_0x55c2fe[_0x374fae(0x470)]);break;case _0x258e6f['UnsubscribeMediaStream']:this[_0x374fae(0x49e)]['handleSubscriptionUnsubscribeMediaStream'](_0x55c2fe['sourceId'],_0x55c2fe[_0x374fae(0x470)]);break;case _0x258e6f[_0x374fae(0x4d0)]:this[_0x374fae(0x26d)](_0x55c2fe[_0x374fae(0x40f)],_0x55c2fe['content']);break;case _0x258e6f[_0x374fae(0x5f2)]:this[_0x374fae(0x412)][_0x374fae(0x66c)](_0x55c2fe[_0x374fae(0x40f)],_0x55c2fe['content']);break;case _0x258e6f['CanProvideMediaStream']:case _0x258e6f[_0x374fae(0x1b8)]:this[_0x374fae(0x412)][_0x374fae(0x19b)](_0x55c2fe[_0x374fae(0x40f)],_0x55c2fe['content']);break;case _0x258e6f['MediaStreamUnavailable']:this[_0x374fae(0x412)][_0x374fae(0x6dd)](_0x55c2fe[_0x374fae(0x40f)],_0x55c2fe[_0x374fae(0x470)]);}}['handleContentSystemEvents'](_0x423c80){const _0x28130c=_0xc3b14b;switch(_0x423c80[_0x28130c(0x470)][_0x28130c(0x3e0)]){case _0x21d02e[_0x28130c(0x46d)]:this['incomingManager']['handleContentUnpublishMediaStream'](_0x423c80['content']),this[_0x28130c(0x49e)]['handleContentUnpublishMediaStream'](_0x423c80[_0x28130c(0x470)]);break;case _0x21d02e[_0x28130c(0x588)]:this[_0x28130c(0x412)][_0x28130c(0x3cc)](_0x423c80[_0x28130c(0x470)]);break;case _0x21d02e[_0x28130c(0x293)]:this[_0x28130c(0x412)][_0x28130c(0x3d4)](_0x423c80['content']);break;case _0x21d02e[_0x28130c(0x298)]:this['handleContentUnsubscribeMediaStream'](_0x423c80[_0x28130c(0x40f)],_0x423c80[_0x28130c(0x470)]);break;case _0x21d02e[_0x28130c(0x662)]:this[_0x28130c(0x49e)]['handleContentCloseMediaStream'](_0x423c80['content']);break;case _0x21d02e[_0x28130c(0x62b)]:this[_0x28130c(0x400)](_0x423c80[_0x28130c(0x470)]);break;case _0x21d02e[_0x28130c(0x2f4)]:this[_0x28130c(0x4f0)](_0x423c80[_0x28130c(0x470)]);break;case _0x21d02e[_0x28130c(0x285)]:this[_0x28130c(0x64e)](_0x423c80[_0x28130c(0x470)]);break;case _0x21d02e[_0x28130c(0x220)]:this[_0x28130c(0x412)][_0x28130c(0x2b3)](_0x423c80[_0x28130c(0x470)]);}}[_0xc3b14b(0x6a3)]({content:_0x38e169}){const _0x11329d=_0xc3b14b;_0x38e169['type']===_0x5e95fc[_0x11329d(0x6ad)]&&this[_0x11329d(0x5f8)](_0x38e169);}[_0xc3b14b(0x6da)](_0x11606c){const _0x2d4198=_0xc3b14b;_0x11606c[_0x2d4198(0x470)][_0x2d4198(0x3e0)]===_0x2d9c6b[_0x2d4198(0x29b)]&&this[_0x2d4198(0x412)][_0x2d4198(0x550)](_0x11606c[_0x2d4198(0x40f)]);}[_0xc3b14b(0x511)](_0x2fd5a9,_0x185c16){const _0x245a17=_0xc3b14b;this['incomingManager'][_0x245a17(0x511)](_0x185c16),this[_0x245a17(0x49e)][_0x245a17(0x511)](_0x2fd5a9,_0x185c16)[_0x245a17(0x602)](_0x14b5a7=>this['systemTopic']['publish'](_0x14b5a7));}[_0xc3b14b(0x3b1)](_0x4ea1ca,_0x2610af){const _0x4508b7=_0xc3b14b,_0x19926c=this[_0x4508b7(0x49e)][_0x4508b7(0x3b1)](_0x4ea1ca,_0x2610af);if(_0x19926c&&(this[_0x4508b7(0x5ea)][_0x4508b7(0x69e)]({'sourceId':this[_0x4508b7(0x657)][_0x4508b7(0x1ab)],'destinationIds':[_0x4ea1ca],'messageType':_0x4e5dac['Subscription'],'content':_0x19926c}),_0x19926c['type']===_0x258e6f[_0x4508b7(0x5f2)]))throw new _0xac3a39(_0x4508b7(0x2f0));}[_0xc3b14b(0x26d)](_0x11d1ae,_0x89767f){const _0x917e72=_0xc3b14b,_0x12f173=this[_0x917e72(0x49e)][_0x917e72(0x26d)](_0x11d1ae,_0x89767f);this[_0x917e72(0x5ea)][_0x917e72(0x69e)]({'sourceId':this[_0x917e72(0x657)][_0x917e72(0x1ab)],'destinationIds':[_0x11d1ae],'messageType':_0x4e5dac[_0x917e72(0x554)],'content':_0x12f173});}[_0xc3b14b(0x4f0)]({label:_0x13bd1f}){const _0x288431=_0xc3b14b;this['removeIncomingSubscription'](_0x13bd1f,_0x164080[_0x288431(0x28a)]),this[_0x288431(0x224)](_0x13bd1f,_0x164080[_0x288431(0x28a)]);}[_0xc3b14b(0x64e)]({label:_0x5e8b0c}){const _0x106593=_0xc3b14b;this[_0x106593(0x3d0)](_0x5e8b0c,_0x164080[_0x106593(0x22d)]),this[_0x106593(0x224)](_0x5e8b0c,_0x164080[_0x106593(0x22d)]);}[_0xc3b14b(0x400)]({label:_0x38dac4}){const _0x346390=_0xc3b14b;this[_0x346390(0x3d0)](_0x38dac4,_0x164080[_0x346390(0x25e)]),this[_0x346390(0x224)](_0x38dac4,_0x164080['PubSub']);}[_0xc3b14b(0x5f8)]({id:_0x2bd519}){const _0x303278=_0xc3b14b;this['incomingManager'][_0x303278(0x5f8)](_0x2bd519),this[_0x303278(0x49e)]['removeSubscriptionsForUser'](_0x2bd519);}}class _0x146603{['label'];[_0xc3b14b(0x4cd)]=_0x1556a6();constructor(){const _0x17a585=_0xc3b14b;this[_0x17a585(0x5bf)]=0x0;}[_0xc3b14b(0x2e1)](){const _0x5f12ba=_0xc3b14b;return this[_0x5f12ba(0x5bf)];}[_0xc3b14b(0x219)](){const _0x5df8e4=_0xc3b14b;return _0x164080[_0x5df8e4(0x697)];}[_0xc3b14b(0x5ff)](_0x48841b){const _0x10e982=_0xc3b14b;_0x48841b[_0x10e982(0x359)](this);}[_0xc3b14b(0x523)](_0x5b09fd){_0x5b09fd['unregisterSystemPublisher']();}[_0xc3b14b(0x69e)](_0x4c1049){const _0x248782=_0xc3b14b;_0x4eca14[_0x248782(0x3e4)](_0x46b6b6[_0x248782(0x63b)],_0x248782(0x5b9),_0x4c1049[_0x248782(0x40f)],_0x4c1049),this[_0x248782(0x4cd)]['publish']({'topicLabel':this[_0x248782(0x5bf)],'contentType':_0x164080['Data'],'uuid':_0x4c1049[_0x248782(0x5d8)]??(0x0,_0x4dacea['v4'])(),'recipients':_0x4c1049[_0x248782(0x52b)]??[],..._0x4c1049});}[_0xc3b14b(0x674)](_0x5e04fe){return this['listener']['subscribe'](_0x5e04fe);}}class _0x5aa77c{[_0xc3b14b(0x433)];[_0xc3b14b(0x4b2)];['maxDistance'];[_0xc3b14b(0x397)]=[];[_0xc3b14b(0x559)];['remoteUsers']=new Map();constructor(_0x368908,_0x288c63,_0xc1dd2){const _0x5f8308=_0xc3b14b;this[_0x5f8308(0x433)]=_0x368908,this[_0x5f8308(0x4b2)]=_0x288c63,this[_0x5f8308(0x5b0)]=_0xc1dd2,this[_0x5f8308(0x559)]=(this[_0x5f8308(0x4b2)]-0x2*this[_0x5f8308(0x433)])/0x2,this[_0x5f8308(0x397)]['push']({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x5567f5=0x0;_0x5567f5<this['maxLayer'];++_0x5567f5)this[_0x5f8308(0x397)][_0x5f8308(0x16d)]({'start':this['getNextTargetRank'](0x1,_0x5567f5+0x1),'end':this[_0x5f8308(0x357)](0x1,_0x5567f5+0x2)-0x1});}[_0xc3b14b(0x357)](_0x4dd6be,_0x59a495=0x1){const _0x31d5a2=_0xc3b14b;let _0x2adf4f=this['maxDistance']-this[_0x31d5a2(0x433)],_0x1bd663=0x1;for(let _0x48ef32=0x1;_0x48ef32<_0x59a495;++_0x48ef32)_0x2adf4f*=this[_0x31d5a2(0x5b0)]-this[_0x31d5a2(0x433)]-_0x48ef32,_0x1bd663*=this['maxDistance']-this[_0x31d5a2(0x433)]-_0x48ef32+0x1;return _0x2adf4f*this[_0x31d5a2(0x433)]+_0x4dd6be-_0x1bd663;}['getCurrentMaxLayer'](_0x58dafa){const _0x254b42=_0xc3b14b;let _0x425888=0x0;for(;this['ranges'][_0x425888][_0x254b42(0x524)]<_0x58dafa;)_0x425888+=0x1;return _0x425888;}[_0xc3b14b(0x434)](){return this['minConnections'];}['getMaxConnections'](){return this['maxConnections'];}[_0xc3b14b(0x31d)](){const _0x51a801=_0xc3b14b;return this[_0x51a801(0x5b0)];}[_0xc3b14b(0x632)](){const _0x2e0543=_0xc3b14b;return this[_0x2e0543(0x499)];}[_0xc3b14b(0x1bc)](_0x5de99a,_0x5a4086){const _0x3b0cf1=_0xc3b14b;this['remoteUsers'][_0x3b0cf1(0x552)](_0x5de99a,_0x5a4086);}[_0xc3b14b(0x506)](_0x3a850b){const _0x4a255e=_0xc3b14b;return this[_0x4a255e(0x499)][_0x4a255e(0x62d)](_0x3a850b);}['getRemoteUser'](_0x274729){const _0x57c9d6=_0xc3b14b;return this['remoteUsers'][_0x57c9d6(0x30f)](_0x274729);}[_0xc3b14b(0x2ca)](_0x52df67){const _0x2ba032=_0xc3b14b;this[_0x2ba032(0x499)][_0x2ba032(0x4eb)](_0x52df67);}['getClosestUsers'](_0x1851f1,_0x2a5221){const _0x251ce8=_0xc3b14b,_0x2d4e3b=this[_0x251ce8(0x6a7)](_0x2a5221)?.[_0x251ce8(0x226)]()??0x0;return _0x1851f1[_0x251ce8(0x3c0)](_0x16e215=>this[_0x251ce8(0x6a7)](_0x16e215))[_0x251ce8(0x4c0)](_0x363c52=>void 0x0!==_0x363c52)[_0x251ce8(0x3ac)]((_0x491b7d,_0x441d54)=>Math[_0x251ce8(0x1fb)](_0x2d4e3b-(_0x491b7d&&_0x491b7d[_0x251ce8(0x226)]()||0x1/0x0))-Math[_0x251ce8(0x1fb)](_0x2d4e3b-(_0x441d54&&_0x441d54['getRank']()||0x1/0x0)))[_0x251ce8(0x3c0)](_0x5e890d=>_0x5e890d[_0x251ce8(0x16b)]());}}class _0x5b4e29{[_0xc3b14b(0x1dc)];[_0xc3b14b(0x1d9)];['authService'];[_0xc3b14b(0x248)];[_0xc3b14b(0x657)];['clusterEventEmitter'];[_0xc3b14b(0x15b)];['connectionManager'];[_0xc3b14b(0x21a)];['statsManager'];[_0xc3b14b(0x1bf)];[_0xc3b14b(0x2d6)];[_0xc3b14b(0x37a)];[_0xc3b14b(0x699)];[_0xc3b14b(0x5ea)]=new _0x146603();[_0xc3b14b(0x6c4)];[_0xc3b14b(0x1f8)];constructor(_0x36a04b,_0x5c0c15,_0x1a37c7,_0x1f9254,_0x1aa404,_0x262c8c,_0x1d6c94){const _0x48f6da=_0xc3b14b;this[_0x48f6da(0x1dc)]=_0x36a04b,this[_0x48f6da(0x1d9)]=_0x5c0c15,this[_0x48f6da(0x1f4)]=_0x1f9254,this['options']=_0x1aa404,this[_0x48f6da(0x657)]=_0x262c8c,this[_0x48f6da(0x29e)]=_0x1d6c94,this['localUser']=new _0x749985(_0x1a37c7[_0x48f6da(0x16b)](),_0x1a37c7['getDisplayName'](),_0x1a37c7[_0x48f6da(0x221)]());const _0x1ab0b7=this[_0x48f6da(0x5e0)]();this['graphService']=new _0x5aa77c(this[_0x48f6da(0x248)][_0x48f6da(0x433)],this[_0x48f6da(0x248)][_0x48f6da(0x4b2)],this['options']['maxDistance']),this['contentManager']=new _0x2f9a32(_0x1ab0b7,this[_0x48f6da(0x248)][_0x48f6da(0x5a2)],this[_0x48f6da(0x248)]['audioContext']),this[_0x48f6da(0x28d)]=new _0x5a0c1f(_0x1ab0b7,this[_0x48f6da(0x1f4)],this[_0x48f6da(0x657)][_0x48f6da(0x58d)],this[_0x48f6da(0x248)][_0x48f6da(0x5a2)],this['options'][_0x48f6da(0x553)],this[_0x48f6da(0x699)],this['options'][_0x48f6da(0x365)]),this[_0x48f6da(0x21a)]=new _0x22303d(_0x1ab0b7,this[_0x48f6da(0x248)][_0x48f6da(0x61a)],this[_0x48f6da(0x699)][_0x48f6da(0x31d)]()),this['statsManager']=new _0x5b351e(_0x1ab0b7),this[_0x48f6da(0x1bf)]=new _0x5781dc(_0x1ab0b7),this['remediationManager']=new _0x10ffcc(_0x1ab0b7),this['nodeManager']=new _0xaaa0e4(_0x1ab0b7,this[_0x48f6da(0x699)],this[_0x48f6da(0x1f8)]),this[_0x48f6da(0x6c4)]=this[_0x48f6da(0x339)]();}[_0xc3b14b(0x452)](){const _0x169363=_0xc3b14b,_0x3f9e61=this['getConfigs']();this[_0x169363(0x28d)]=new _0x5a0c1f(_0x3f9e61,this[_0x169363(0x1f4)],this[_0x169363(0x657)][_0x169363(0x58d)],this[_0x169363(0x248)][_0x169363(0x5a2)],this[_0x169363(0x248)]['maxBpp'],this[_0x169363(0x699)],this[_0x169363(0x248)][_0x169363(0x365)]),this['subscriptionManager']=new _0x22303d(_0x3f9e61,this[_0x169363(0x248)][_0x169363(0x61a)],this[_0x169363(0x699)][_0x169363(0x31d)]()),this[_0x169363(0x6b5)]=new _0x5b351e(_0x3f9e61),this[_0x169363(0x1bf)]=new _0x5781dc(_0x3f9e61),this[_0x169363(0x2d6)]=new _0x10ffcc(_0x3f9e61),this[_0x169363(0x37a)]=new _0xaaa0e4(_0x3f9e61,this[_0x169363(0x699)],this['localUser']);const _0x141ccd=this['connectionManager'][_0x169363(0x1fe)]();this[_0x169363(0x15b)]['getPubSubTopics']()[_0x169363(0x602)](_0x307be9=>{const _0x1eed93=_0x169363;this['subscriptionManager'][_0x1eed93(0x41c)](_0x307be9,_0x141ccd),this[_0x1eed93(0x21a)][_0x1eed93(0x48c)](_0x141ccd,_0x307be9);}),this[_0x169363(0x15b)][_0x169363(0x22a)]()['forEach'](_0x496dbe=>{const _0x4b8016=_0x169363;this[_0x4b8016(0x21a)][_0x4b8016(0x41c)](_0x496dbe,_0x141ccd),this[_0x4b8016(0x21a)][_0x4b8016(0x48c)](_0x141ccd,_0x496dbe);}),this['contentManager'][_0x169363(0x36b)]()[_0x169363(0x602)](_0x5d7cf6=>{const _0x3502ef=_0x169363;this[_0x3502ef(0x21a)][_0x3502ef(0x41c)](_0x5d7cf6,_0x141ccd),this[_0x3502ef(0x21a)][_0x3502ef(0x48c)](_0x141ccd,_0x5d7cf6);}),this['systemTopicUnsubscribe']=this['initializeSystemTopic']();}[_0xc3b14b(0x600)](_0x38ca0c){const _0x2c078c=_0xc3b14b;try{this[_0x2c078c(0x5ea)][_0x2c078c(0x5ff)](_0x38ca0c);}catch(_0x2a34c4){this['handleError'](_0x2a34c4,{});}}[_0xc3b14b(0x33d)](_0x4d7aa8){const _0x1de139=_0xc3b14b;try{this[_0x1de139(0x5ea)][_0x1de139(0x523)](_0x4d7aa8);}catch(_0x7d2e26){this['handleError'](_0x7d2e26,{});}}[_0xc3b14b(0x2eb)](_0x4c8993,_0x1097d2){const _0x547696=_0xc3b14b;return this[_0x547696(0x28d)]['createConnection'](_0x4c8993,_0x1097d2);}[_0xc3b14b(0x3a5)](_0x53070a){const _0x31095d=_0xc3b14b;try{return this[_0x31095d(0x28d)][_0x31095d(0x3a5)](_0x53070a);}catch(_0x2b8c6f){throw this[_0x31095d(0x1b6)](_0x2b8c6f,{});}}['getConnections'](_0x34920a){const _0x39b35a=_0xc3b14b;try{return this[_0x39b35a(0x28d)][_0x39b35a(0x253)](_0x34920a);}catch(_0x51c6fa){throw this[_0x39b35a(0x1b6)](_0x51c6fa,{});}}[_0xc3b14b(0x538)](_0x37c926,_0x3f443a){const _0x4d3e60=_0xc3b14b;try{return this[_0x4d3e60(0x15b)][_0x4d3e60(0x174)](_0x1e14a7=>_0x1e14a7[_0x4d3e60(0x3aa)]()===_0x37c926&&_0x1e14a7[_0x4d3e60(0x2e1)]()===_0x3f443a)[0x0];}catch(_0x474590){throw this[_0x4d3e60(0x1b6)](_0x474590,{});}}[_0xc3b14b(0x3a3)](_0xd161e6){const _0x29f3ca=_0xc3b14b;try{return this[_0x29f3ca(0x15b)][_0x29f3ca(0x672)](_0x411a10=>_0x411a10['getLabel']()===_0xd161e6)[0x0];}catch(_0x4c1213){throw this['handleError'](_0x4c1213,{});}}[_0xc3b14b(0x63f)]=(..._0x20ca69)=>{const _0x429379=_0xc3b14b;try{return this[_0x429379(0x29e)][_0x429379(0x428)](..._0x20ca69);}catch(_0x4c7fc4){throw this['handleError'](_0x4c7fc4,{});}};[_0xc3b14b(0x341)](_0x41189e){const _0xc399d7=_0xc3b14b;try{this[_0xc399d7(0x6b5)][_0xc399d7(0x526)](_0x41189e);}catch(_0x2516ca){throw this[_0xc399d7(0x1b6)](_0x2516ca,{});}}['unregisterRemoteUser'](_0x1b561f){const _0x4c26b0=_0xc3b14b;try{this[_0x4c26b0(0x6b5)]['removeRemoteUser'](_0x1b561f);}catch(_0x2873e5){throw this['handleError'](_0x2873e5,{});}}[_0xc3b14b(0x3a6)](_0x163d15){const _0x2198ca=_0xc3b14b;return this[_0x2198ca(0x28d)]['collectStats'](_0x163d15);}async['initialize'](){const _0x4fb0e5=_0xc3b14b;try{await this['connectionManager'][_0x4fb0e5(0x268)]();const _0x1248a3=await this[_0x4fb0e5(0x37a)]['discover']();for(const _0x367fa5 of _0x1248a3)this[_0x4fb0e5(0x28d)][_0x4fb0e5(0x2eb)](_0x367fa5);}catch(_0xabe9a0){throw this[_0x4fb0e5(0x1b6)](_0xabe9a0,{});}}[_0xc3b14b(0x5fc)](_0x3e7a4b){const _0x3d0bb9=_0xc3b14b;this['localUser'][_0x3d0bb9(0x66e)](_0x3e7a4b[_0x3d0bb9(0x221)]()),this[_0x3d0bb9(0x1f8)][_0x3d0bb9(0x3ba)](_0x3e7a4b[_0x3d0bb9(0x297)]());}[_0xc3b14b(0x50c)](_0x89b6b6=!0x1){const _0x22052=_0xc3b14b;this[_0x22052(0x6c4)](),this['remediationManager'][_0x22052(0x50c)](),this[_0x22052(0x1bf)]['close'](),this[_0x22052(0x6b5)][_0x22052(0x50c)](),this['subscriptionManager'][_0x22052(0x50c)](),this[_0x22052(0x28d)][_0x22052(0x50c)](),this['contentManager']['close'](_0x89b6b6),this[_0x22052(0x37a)]['close']();}[_0xc3b14b(0x573)](_0x3a745e){const _0x29e9aa=_0xc3b14b;try{const _0x177695=this[_0x29e9aa(0x15b)][_0x29e9aa(0x590)](_0x3a745e),_0xba861f=this['connectionManager'][_0x29e9aa(0x1fe)]();return this[_0x29e9aa(0x21a)][_0x29e9aa(0x41c)](_0x177695,_0xba861f),this[_0x29e9aa(0x21a)][_0x29e9aa(0x48c)](_0xba861f,_0x177695),_0x177695;}catch(_0x417379){throw this[_0x29e9aa(0x1b6)](_0x417379,{});}}async[_0xc3b14b(0x283)](_0x242875){const _0x1debc5=_0xc3b14b;try{const _0x1f88c7=this[_0x1debc5(0x15b)][_0x1debc5(0x35c)](_0x242875,this[_0x1debc5(0x248)]['objectStoreConnector']),_0x276f39=this[_0x1debc5(0x28d)][_0x1debc5(0x1fe)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x1f88c7,_0x276f39),this[_0x1debc5(0x21a)][_0x1debc5(0x48c)](_0x276f39,_0x1f88c7),await _0x1f88c7[_0x1debc5(0x4b5)](),_0x1f88c7;}catch(_0x1df689){throw this['handleError'](_0x1df689,{});}}async[_0xc3b14b(0x556)](_0x4f221d,_0x4064ea){const _0x25b9c2=_0xc3b14b;try{const _0x292191=await this[_0x25b9c2(0x15b)]['createKeyValueDatabase'](_0x4f221d,_0x4064ea,this['options'][_0x25b9c2(0x270)]),_0x24c55d=this[_0x25b9c2(0x28d)]['getConnectionGroup']();return this[_0x25b9c2(0x21a)]['createOutgoingSubscription'](_0x292191,_0x24c55d),this[_0x25b9c2(0x21a)][_0x25b9c2(0x48c)](_0x24c55d,_0x292191),await _0x292191[_0x25b9c2(0x452)](),this['syncKeyValueDatabase'](_0x292191),_0x292191;}catch(_0x3ba386){throw this[_0x25b9c2(0x1b6)](_0x3ba386,{});}}[_0xc3b14b(0x5e5)](_0x4ffe3b){const _0x28be1d=_0xc3b14b;try{return this['contentManager'][_0x28be1d(0x5e5)](_0x4ffe3b);}catch(_0x152cb9){throw this[_0x28be1d(0x1b6)](_0x152cb9,{});}}[_0xc3b14b(0x22a)](_0x8780b1){const _0x5daa30=_0xc3b14b;try{return this['contentManager']['getObjectStoreBuckets'](_0x8780b1);}catch(_0x5aee){throw this[_0x5daa30(0x1b6)](_0x5aee,{});}}[_0xc3b14b(0x36b)](_0x375ea9){const _0x3f450e=_0xc3b14b;try{return this[_0x3f450e(0x15b)]['getKeyValueDatabases'](_0x375ea9);}catch(_0x35fb5d){throw this[_0x3f450e(0x1b6)](_0x35fb5d,{});}}[_0xc3b14b(0x265)](_0x3b5369,_0x46994e){const _0x162472=_0xc3b14b;if(!this[_0x162472(0x657)][_0x162472(0x471)][_0x162472(0x3f2)](_0x18970d[_0x162472(0x45d)]))throw new _0x560421(_0x422571[_0x162472(0x6d7)],_0x162472(0x6a8));try{return this['contentManager'][_0x162472(0x265)](_0x3b5369,_0x46994e);}catch(_0x45a92e){throw this[_0x162472(0x1b6)](_0x45a92e,{});}}[_0xc3b14b(0x155)](_0x5623a9,_0x3ff2c1){const _0x341cc5=_0xc3b14b;if(!this['configs']['features']['includes'](_0x18970d['MediaStream']))throw new _0x560421(_0x422571[_0x341cc5(0x6d7)],_0x341cc5(0x6a8));try{return this[_0x341cc5(0x15b)][_0x341cc5(0x155)](_0x5623a9,_0x3ff2c1);}catch(_0x10ae1f){throw this[_0x341cc5(0x1b6)](_0x10ae1f,{});}}[_0xc3b14b(0x672)](_0x315c){const _0x25fc08=_0xc3b14b;if(!this['configs'][_0x25fc08(0x471)][_0x25fc08(0x3f2)](_0x18970d['MediaStream']))throw new _0x560421(_0x422571[_0x25fc08(0x6d7)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x25fc08(0x15b)]['getLocalMediaStreams'](_0x315c);}catch(_0x24f52d){throw this[_0x25fc08(0x1b6)](_0x24f52d,{});}}[_0xc3b14b(0x174)](_0x1ab862){const _0x294780=_0xc3b14b;if(!this[_0x294780(0x657)][_0x294780(0x471)]['includes'](_0x18970d[_0x294780(0x45d)]))throw new _0x560421(_0x422571['FeatureNotEnabled'],_0x294780(0x6a8));try{return this['contentManager'][_0x294780(0x174)](_0x1ab862);}catch(_0x38778d){throw this[_0x294780(0x1b6)](_0x38778d,{});}}[_0xc3b14b(0x485)](_0x14718a,_0x3137f2){const _0x223bd3=_0xc3b14b;return this['nodeManager'][_0x223bd3(0x485)](_0x14718a,_0x3137f2);}[_0xc3b14b(0x378)](){const _0x2d2adf=_0xc3b14b;return this[_0x2d2adf(0x248)][_0x2d2adf(0x156)];}[_0xc3b14b(0x352)](){const _0x1410ca=_0xc3b14b;return this[_0x1410ca(0x37a)]['getLocalUser']();}['getRemoteUsers'](_0x5a0b3d){const _0x1b8dc2=_0xc3b14b;try{return this[_0x1b8dc2(0x37a)][_0x1b8dc2(0x632)](_0x5a0b3d);}catch(_0x234dd5){throw this[_0x1b8dc2(0x1b6)](_0x234dd5,{});}}async[_0xc3b14b(0x60b)](_0x4c854a){const _0x2f167c=_0xc3b14b;try{if(_0x4eca14['log'](_0x46b6b6[_0x2f167c(0x63b)],'Orchestrator\x20handleSystemEvents',this[_0x2f167c(0x37a)][_0x2f167c(0x27e)](),_0x4c854a),_0x37bd4a(_0x4c854a,this['nodeManager'][_0x2f167c(0x27e)]()))return void this[_0x2f167c(0x28d)]['handleOutgoingSystemEvents'](_0x4c854a);switch(_0x4c854a[_0x2f167c(0x33a)]){case _0x4e5dac[_0x2f167c(0x420)]:this[_0x2f167c(0x6b5)][_0x2f167c(0x6c1)](_0x4c854a),this[_0x2f167c(0x21a)][_0x2f167c(0x6c1)](_0x4c854a),this[_0x2f167c(0x15b)][_0x2f167c(0x6c1)](_0x4c854a);break;case _0x4e5dac[_0x2f167c(0x52c)]:this[_0x2f167c(0x21a)][_0x2f167c(0x6a3)](_0x4c854a),this[_0x2f167c(0x28d)][_0x2f167c(0x6a3)](_0x4c854a),this[_0x2f167c(0x15b)][_0x2f167c(0x6a3)](_0x4c854a),this['nodeManager']['handleNodeSystemEvents'](_0x4c854a);break;case _0x4e5dac[_0x2f167c(0x40c)]:this['remediationManager'][_0x2f167c(0x2d4)](_0x4c854a);break;case _0x4e5dac[_0x2f167c(0x5b2)]:this['remediationManager']['handleRemediationSystemEvents'](_0x4c854a);break;case _0x4e5dac[_0x2f167c(0x1a5)]:this[_0x2f167c(0x1bf)][_0x2f167c(0x229)](_0x4c854a);break;case _0x4e5dac[_0x2f167c(0x554)]:_0x4c854a[_0x2f167c(0x470)][_0x2f167c(0x3e0)]!==_0x258e6f[_0x2f167c(0x298)]?(this['subscriptionManager'][_0x2f167c(0x274)](_0x4c854a),this[_0x2f167c(0x15b)][_0x2f167c(0x274)](_0x4c854a)):(this[_0x2f167c(0x15b)][_0x2f167c(0x274)](_0x4c854a),this['subscriptionManager'][_0x2f167c(0x274)](_0x4c854a));break;case _0x4e5dac[_0x2f167c(0x6bc)]:await this[_0x2f167c(0x28d)][_0x2f167c(0x6da)](_0x4c854a),this[_0x2f167c(0x6b5)][_0x2f167c(0x6da)](_0x4c854a),this[_0x2f167c(0x37a)]['handlePeerConnectionSystemEvents'](_0x4c854a),this['subscriptionManager'][_0x2f167c(0x6da)](_0x4c854a);}}catch(_0x46917d){throw this[_0x2f167c(0x1b6)](_0x46917d,{});}}[_0xc3b14b(0x1b6)](_0x415355,_0x486413){const _0x21acda=_0xc3b14b;if(!(_0x415355 instanceof _0xac3a39)){if(_0x415355 instanceof _0x560421)throw _0x415355;if(!(_0x415355 instanceof Error))throw new _0x560421(_0x422571['InternalSDKError'],'Internal\x20unknown\x20error:\x20'+_0x415355);if(!(_0x415355 instanceof _0x666015))throw new _0x560421(_0x422571[_0x21acda(0x3fb)],_0x21acda(0x14a)+_0x415355[_0x21acda(0x49f)]);switch(_0x415355[_0x21acda(0x3ad)]){case _0x666015[_0x21acda(0x5c4)][_0x21acda(0x242)]:case _0x666015[_0x21acda(0x5c4)]['MissingRemoteConnection']:case _0x666015[_0x21acda(0x5c4)][_0x21acda(0x15f)]:case _0x666015[_0x21acda(0x5c4)]['ConnectionNotinitialized']:case _0x666015[_0x21acda(0x5c4)]['ConnectionNotConnected']:case _0x666015[_0x21acda(0x5c4)]['InvalidDataChannel']:case _0x666015[_0x21acda(0x5c4)]['InvalidPublisher']:case _0x666015[_0x21acda(0x5c4)][_0x21acda(0x68c)]:case _0x666015[_0x21acda(0x5c4)][_0x21acda(0x387)]:case _0x666015['codes'][_0x21acda(0x64f)]:case _0x666015[_0x21acda(0x5c4)]['SubscriptionRequestNoAnswer']:case _0x666015[_0x21acda(0x5c4)]['InvalidSubscription']:}throw _0x4eca14['error']('sdk-internal-error:\x20'+_0x415355['message'],{'clusterId':this[_0x21acda(0x1d9)],'userId':this['localUser'][_0x21acda(0x16b)]()},_0x415355),new _0x560421(_0x422571[_0x21acda(0x3fb)],_0x21acda(0x503)+_0x415355[_0x21acda(0x49f)]);}}[_0xc3b14b(0x5e0)](){const _0x1f5baa=_0xc3b14b;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x1f5baa(0x1d9)],'localId':this[_0x1f5baa(0x1f8)][_0x1f5baa(0x16b)]()};}[_0xc3b14b(0x339)](){const _0x3cfc8e=_0xc3b14b;return this[_0x3cfc8e(0x5ea)][_0x3cfc8e(0x674)](_0x5ddca7=>{const _0x41b695=_0x3cfc8e,_0x45ba28=_0x23567d(_0x5ddca7,this[_0x41b695(0x1f8)][_0x41b695(0x16b)]()),_0x39d189=_0x5ddca7[_0x41b695(0x33a)]===_0x4e5dac[_0x41b695(0x1a5)]||_0x5ddca7[_0x41b695(0x33a)]===_0x4e5dac[_0x41b695(0x6bc)]&&_0x5ddca7[_0x41b695(0x470)][_0x41b695(0x3e0)]===_0x2d9c6b['Stats']?_0x46b6b6['SystemStats']:_0x46b6b6[_0x41b695(0x682)];_0x4eca14['logRaw'](_0x39d189,_0x5ddca7[_0x41b695(0x5d8)]+_0x41b695(0x1c5)+_0x45ba28,_0x5ddca7),this[_0x41b695(0x60b)](_0x5ddca7)['catch'](_0x4a779a=>{const _0x360df0=_0x41b695;console[_0x360df0(0x1f6)](_0x4a779a);});});}async[_0xc3b14b(0x65e)](_0x177ac6,_0x3dbf2e){const _0x45d25b=_0xc3b14b;_0x3dbf2e=this[_0x45d25b(0x252)](_0x3dbf2e),await _0x177ac6[_0x45d25b(0x4b5)](_0x3dbf2e,()=>this[_0x45d25b(0x65e)](_0x177ac6,_0x3dbf2e));}[_0xc3b14b(0x252)](_0x54e72b){const _0x39b549=_0xc3b14b,_0x23d47e=this[_0x39b549(0x37a)][_0x39b549(0x158)]();if(!_0x54e72b)return _0x23d47e[0x0];const _0x42bfaf=_0x23d47e[_0x39b549(0x444)](_0x521267=>_0x54e72b===_0x521267),_0x2e9369=_0x23d47e[_0x42bfaf+0x1];return _0x23d47e[_0x39b549(0x1c3)]>0x0&&!_0x2e9369?_0x54e72b[0x0]:_0x2e9369;}}class _0x380205{['vendorId'];[_0xc3b14b(0x1d9)];['authUser'];[_0xc3b14b(0x656)];[_0xc3b14b(0x3ec)];constructor(_0x2040bf,_0x2513b3,_0x3dd68d,_0x38c1f2,_0x2aaae4,_0x509d5c,_0x4d0cc3=new _0x506cc9()){const _0x296822=_0xc3b14b;this[_0x296822(0x1dc)]=_0x2040bf,this[_0x296822(0x1d9)]=_0x2513b3,this[_0x296822(0x184)]=_0x3dd68d,this[_0x296822(0x656)]=_0x4d0cc3,this[_0x296822(0x3ec)]=new _0x5b4e29(this[_0x296822(0x1dc)],this['clusterId'],_0x3dd68d,_0x38c1f2,_0x2aaae4,_0x509d5c,this);}async['join'](){const _0x5799b6=_0xc3b14b;await this[_0x5799b6(0x3ec)][_0x5799b6(0x268)](),this['authUser'][_0x5799b6(0x44a)](this[_0x5799b6(0x1d9)],_0x4286ee=>{const _0x12d435=_0x5799b6;this[_0x12d435(0x3ec)]['updateUser'](_0x4286ee);});}[_0xc3b14b(0x49b)](){const _0x438345=_0xc3b14b,_0x21c726=this[_0x438345(0x3ec)][_0x438345(0x352)]();return{'getId':_0x21c726['getId'][_0x438345(0x2c9)](_0x21c726),'getDisplayName':_0x21c726[_0x438345(0x297)][_0x438345(0x2c9)](_0x21c726),'getEmail':_0x21c726['getEmail']['bind'](_0x21c726),'getRemoteConnections':_0x21c726[_0x438345(0x389)][_0x438345(0x2c9)](_0x21c726),'setDisplayName':_0x21c726['setDisplayName'][_0x438345(0x2c9)](_0x21c726),'setEmail':_0x21c726['setEmail'][_0x438345(0x2c9)](_0x21c726)};}['leave'](){const _0xc4141a=_0xc3b14b;this[_0xc4141a(0x3ec)][_0xc4141a(0x50c)](),this[_0xc4141a(0x184)][_0xc4141a(0x348)](this[_0xc4141a(0x1d9)]);}[_0xc3b14b(0x573)](_0x21c7e3){const _0x5ce8bd=_0xc3b14b,_0x190c53=this['orchestrator']['openPubSubTopic'](_0x21c7e3);return{'getName':_0x190c53[_0x5ce8bd(0x1b0)]['bind'](_0x190c53),'getOwnerId':_0x190c53[_0x5ce8bd(0x3aa)][_0x5ce8bd(0x2c9)](_0x190c53),'getContentType':_0x190c53[_0x5ce8bd(0x219)][_0x5ce8bd(0x2c9)](_0x190c53),'publish':_0x190c53[_0x5ce8bd(0x69e)][_0x5ce8bd(0x2c9)](_0x190c53),'subscribe':_0x190c53['subscribe'][_0x5ce8bd(0x2c9)](_0x190c53),'unsubscribe':_0x190c53[_0x5ce8bd(0x6c0)][_0x5ce8bd(0x2c9)](_0x190c53),'close':_0x190c53[_0x5ce8bd(0x50c)]['bind'](_0x190c53)};}async[_0xc3b14b(0x283)](_0x1b0959){const _0x5b5acf=_0xc3b14b,_0x27d632=await this[_0x5b5acf(0x3ec)]['openObjectStoreBucket'](_0x1b0959);return{'getName':_0x27d632[_0x5b5acf(0x1b0)][_0x5b5acf(0x2c9)](_0x27d632),'getOwnerId':_0x27d632['getOwnerId'][_0x5b5acf(0x2c9)](_0x27d632),'getContentType':_0x27d632[_0x5b5acf(0x219)][_0x5b5acf(0x2c9)](_0x27d632),'publish':_0x27d632[_0x5b5acf(0x69e)][_0x5b5acf(0x2c9)](_0x27d632),'unpublish':_0x27d632[_0x5b5acf(0x292)][_0x5b5acf(0x2c9)](_0x27d632),'get':_0x27d632[_0x5b5acf(0x30f)][_0x5b5acf(0x2c9)](_0x27d632),'list':_0x27d632[_0x5b5acf(0x609)][_0x5b5acf(0x2c9)](_0x27d632),'subscribe':_0x27d632[_0x5b5acf(0x674)][_0x5b5acf(0x2c9)](_0x27d632),'unsubscribe':_0x27d632[_0x5b5acf(0x6c0)]['bind'](_0x27d632),'close':_0x27d632['close'][_0x5b5acf(0x2c9)](_0x27d632)};}async['openKeyValueDatabase'](_0x138901,_0x1722b0){const _0xd39489=_0xc3b14b,_0x3200d1=await this['orchestrator'][_0xd39489(0x556)](_0x138901,_0x1722b0);return{'getName':_0x3200d1['getName'][_0xd39489(0x2c9)](_0x3200d1),'getOwnerId':_0x3200d1[_0xd39489(0x3aa)]['bind'](_0x3200d1),'getContentType':_0x3200d1[_0xd39489(0x219)][_0xd39489(0x2c9)](_0x3200d1),'getTable':_0x3200d1['getTable'][_0xd39489(0x2c9)](_0x3200d1),'subscribe':_0x3200d1[_0xd39489(0x674)]['bind'](_0x3200d1),'unsubscribe':_0x3200d1[_0xd39489(0x6c0)]['bind'](_0x3200d1),'close':_0x3200d1[_0xd39489(0x50c)][_0xd39489(0x2c9)](_0x3200d1)};}[_0xc3b14b(0x5e5)](_0x344dfa){const _0x68671=_0xc3b14b;return this[_0x68671(0x3ec)][_0x68671(0x5e5)](_0x344dfa)[_0x68671(0x3c0)](_0x4680bb=>({'getName':_0x4680bb['getName']['bind'](_0x4680bb),'getOwnerId':_0x4680bb['getOwnerId'][_0x68671(0x2c9)](_0x4680bb),'getContentType':_0x4680bb[_0x68671(0x219)][_0x68671(0x2c9)](_0x4680bb),'publish':_0x4680bb[_0x68671(0x69e)][_0x68671(0x2c9)](_0x4680bb),'subscribe':_0x4680bb[_0x68671(0x674)][_0x68671(0x2c9)](_0x4680bb),'unsubscribe':_0x4680bb[_0x68671(0x6c0)][_0x68671(0x2c9)](_0x4680bb),'close':_0x4680bb['close'][_0x68671(0x2c9)](_0x4680bb)}));}['getObjectStoreBuckets'](_0x26762d){const _0x1205c5=_0xc3b14b;return this[_0x1205c5(0x3ec)][_0x1205c5(0x22a)](_0x26762d)[_0x1205c5(0x3c0)](_0x570199=>({'getName':_0x570199[_0x1205c5(0x1b0)][_0x1205c5(0x2c9)](_0x570199),'getOwnerId':_0x570199[_0x1205c5(0x3aa)][_0x1205c5(0x2c9)](_0x570199),'getContentType':_0x570199[_0x1205c5(0x219)][_0x1205c5(0x2c9)](_0x570199),'publish':_0x570199[_0x1205c5(0x69e)][_0x1205c5(0x2c9)](_0x570199),'unpublish':_0x570199[_0x1205c5(0x292)][_0x1205c5(0x2c9)](_0x570199),'get':_0x570199[_0x1205c5(0x30f)][_0x1205c5(0x2c9)](_0x570199),'list':_0x570199[_0x1205c5(0x609)]['bind'](_0x570199),'subscribe':_0x570199['subscribe'][_0x1205c5(0x2c9)](_0x570199),'unsubscribe':_0x570199[_0x1205c5(0x6c0)][_0x1205c5(0x2c9)](_0x570199),'close':_0x570199[_0x1205c5(0x50c)][_0x1205c5(0x2c9)](_0x570199)}));}[_0xc3b14b(0x36b)](_0x49e13d){const _0x1f1496=_0xc3b14b;return this[_0x1f1496(0x3ec)]['getKeyValueDatabases'](_0x49e13d)['map'](_0x33f307=>({'getName':_0x33f307[_0x1f1496(0x1b0)][_0x1f1496(0x2c9)](_0x33f307),'getOwnerId':_0x33f307[_0x1f1496(0x3aa)][_0x1f1496(0x2c9)](_0x33f307),'getContentType':_0x33f307[_0x1f1496(0x219)]['bind'](_0x33f307),'getTable':_0x33f307[_0x1f1496(0x55b)]['bind'](_0x33f307),'subscribe':_0x33f307[_0x1f1496(0x674)][_0x1f1496(0x2c9)](_0x33f307),'unsubscribe':_0x33f307[_0x1f1496(0x6c0)][_0x1f1496(0x2c9)](_0x33f307),'close':_0x33f307[_0x1f1496(0x50c)][_0x1f1496(0x2c9)](_0x33f307)}));}[_0xc3b14b(0x1f5)](_0x1e3cf8,_0x438f37){const _0x28b4f2=_0xc3b14b,_0xb78e42=this[_0x28b4f2(0x3ec)][_0x28b4f2(0x265)](_0x1e3cf8,_0x438f37);return{'getLabel':_0xb78e42[_0x28b4f2(0x2e1)][_0x28b4f2(0x2c9)](_0xb78e42),'getOwnerId':_0xb78e42[_0x28b4f2(0x3aa)][_0x28b4f2(0x2c9)](_0xb78e42),'getContentType':_0xb78e42[_0x28b4f2(0x219)]['bind'](_0xb78e42),'getMediaStream':_0xb78e42['getMediaStream'][_0x28b4f2(0x2c9)](_0xb78e42),'setPriority':_0xb78e42[_0x28b4f2(0x3e9)]['bind'](_0xb78e42),'unpublish':_0xb78e42[_0x28b4f2(0x292)][_0x28b4f2(0x2c9)](_0xb78e42)};}['publishLocalDynamicMediaStream'](_0x4f86bc,_0x30200c){const _0x4e5c00=_0xc3b14b,_0x2feacc=this[_0x4e5c00(0x3ec)][_0x4e5c00(0x155)](_0x4f86bc,_0x30200c);return{'getLabel':_0x2feacc['getLabel']['bind'](_0x2feacc),'getOwnerId':_0x2feacc[_0x4e5c00(0x3aa)]['bind'](_0x2feacc),'getContentType':_0x2feacc[_0x4e5c00(0x219)]['bind'](_0x2feacc),'setPriority':_0x2feacc[_0x4e5c00(0x3e9)][_0x4e5c00(0x2c9)](_0x2feacc),'unpublish':_0x2feacc[_0x4e5c00(0x292)][_0x4e5c00(0x2c9)](_0x2feacc),'getMediaStream':_0x2feacc[_0x4e5c00(0x4ed)][_0x4e5c00(0x2c9)](_0x2feacc),'addTrack':_0x2feacc['addTrack'][_0x4e5c00(0x2c9)](_0x2feacc),'removeTrack':_0x2feacc[_0x4e5c00(0x176)][_0x4e5c00(0x2c9)](_0x2feacc),'replaceTrack':_0x2feacc[_0x4e5c00(0x263)][_0x4e5c00(0x2c9)](_0x2feacc),'setTransformations':_0x2feacc[_0x4e5c00(0x44d)][_0x4e5c00(0x2c9)](_0x2feacc)};}[_0xc3b14b(0x672)](_0x671f26){const _0x19454a=_0xc3b14b;return this['orchestrator'][_0x19454a(0x672)](_0x671f26)[_0x19454a(0x3c0)](_0x325975=>({'getLabel':_0x325975[_0x19454a(0x2e1)][_0x19454a(0x2c9)](_0x325975),'getOwnerId':_0x325975['getOwnerId'][_0x19454a(0x2c9)](_0x325975),'getContentType':_0x325975[_0x19454a(0x219)][_0x19454a(0x2c9)](_0x325975),'getMediaStream':_0x325975['getMediaStream'][_0x19454a(0x2c9)](_0x325975),'setPriority':_0x325975[_0x19454a(0x3e9)][_0x19454a(0x2c9)](_0x325975),'unpublish':_0x325975['unpublish'][_0x19454a(0x2c9)](_0x325975)}));}['getRemoteMediaStreams'](_0x207fe8){const _0x3a814f=_0xc3b14b;return this[_0x3a814f(0x3ec)][_0x3a814f(0x174)](_0x207fe8)[_0x3a814f(0x3c0)](_0x526460=>({'getLabel':_0x526460['getLabel']['bind'](_0x526460),'getOwnerId':_0x526460['getOwnerId']['bind'](_0x526460),'getContentType':_0x526460[_0x3a814f(0x219)][_0x3a814f(0x2c9)](_0x526460),'getMediaStream':_0x526460[_0x3a814f(0x4ed)][_0x3a814f(0x2c9)](_0x526460),'subscribe':_0x526460[_0x3a814f(0x674)][_0x3a814f(0x2c9)](_0x526460),'unsubscribe':_0x526460[_0x3a814f(0x6c0)][_0x3a814f(0x2c9)](_0x526460),'getAvailableTrackKinds':_0x526460[_0x3a814f(0x669)][_0x3a814f(0x2c9)](_0x526460),'update':_0x526460[_0x3a814f(0x25f)]['bind'](_0x526460),'onProviderChanged':_0x526460[_0x3a814f(0x668)][_0x3a814f(0x2c9)](_0x526460)}));}[_0xc3b14b(0x632)](_0x5ab6a6){const _0x1c8bfa=_0xc3b14b;return this[_0x1c8bfa(0x3ec)][_0x1c8bfa(0x632)](_0x5ab6a6)['map'](_0x28e402=>({'getId':_0x28e402['getId'][_0x1c8bfa(0x2c9)](_0x28e402),'getDisplayName':_0x28e402[_0x1c8bfa(0x297)][_0x1c8bfa(0x2c9)](_0x28e402),'getEmail':_0x28e402['getEmail'][_0x1c8bfa(0x2c9)](_0x28e402),'getRemoteConnections':_0x28e402[_0x1c8bfa(0x389)][_0x1c8bfa(0x2c9)](_0x28e402)}));}['on']=(..._0x1cf57d)=>{const _0x5eb5fd=_0xc3b14b;this[_0x5eb5fd(0x656)]['on'](..._0x1cf57d);};[_0xc3b14b(0x428)]=(..._0x22e0bf)=>this[_0xc3b14b(0x656)][_0xc3b14b(0x428)](..._0x22e0bf);['off'](..._0x8a8b8f){const _0x1b4530=_0xc3b14b;this[_0x1b4530(0x656)][_0x1b4530(0x347)](..._0x8a8b8f);}}class _0x20562c{['id'];[_0xc3b14b(0x5d4)];[_0xc3b14b(0x257)];[_0xc3b14b(0x2e6)]=new Map();[_0xc3b14b(0x5d2)]=_0x1556a6();constructor(_0x3634c7,_0x408669,_0x541cd9){const _0x388e8f=_0xc3b14b;this['id']=_0x3634c7,this[_0x388e8f(0x5d4)]=_0x408669,this['email']=_0x541cd9;}['getId'](){return this['id'];}['getDisplayName'](){return this['displayName'];}[_0xc3b14b(0x221)](){return this['email'];}['setDisplayName'](_0x18ad0e){const _0x518041=_0xc3b14b;this[_0x518041(0x5d4)]!==_0x18ad0e&&(this[_0x518041(0x5d4)]=_0x18ad0e,this[_0x518041(0x5d2)][_0x518041(0x69e)](this));}[_0xc3b14b(0x66e)](_0x3c2b3f){const _0xff1303=_0xc3b14b;this[_0xff1303(0x257)]!==_0x3c2b3f&&(this[_0xff1303(0x257)]=_0x3c2b3f,this[_0xff1303(0x5d2)][_0xff1303(0x69e)](this));}[_0xc3b14b(0x44a)](_0x44fe7f,_0x57df2a){const _0x14af6e=_0xc3b14b;if(this[_0x14af6e(0x2e6)][_0x14af6e(0x62d)](_0x44fe7f))return;const _0x2e6d5f=this[_0x14af6e(0x5d2)][_0x14af6e(0x674)](_0x57df2a);this[_0x14af6e(0x2e6)][_0x14af6e(0x552)](_0x44fe7f,_0x2e6d5f);}[_0xc3b14b(0x348)](_0xae115d){const _0x4f6a18=_0xc3b14b;if(!this['joinedClusters'][_0x4f6a18(0x62d)](_0xae115d))return;const _0x168282=this[_0x4f6a18(0x2e6)]['get'](_0xae115d);_0x168282&&_0x168282(),this['joinedClusters']['delete'](_0xae115d);}}class _0x2f2d70{[_0xc3b14b(0x1dc)];[_0xc3b14b(0x1b7)];constructor(_0x46eeaa){const _0x21e454=_0xc3b14b;this[_0x21e454(0x1dc)]=_0x46eeaa;}async[_0xc3b14b(0x275)](_0x5c3c41){const _0x377152=_0xc3b14b,_0x3aa2e6=await(0x0,_0x2b9500[_0x377152(0x522)])(_0x12b24c[_0x377152(0x593)](),_0x377152(0x3bd))({'uid':_0x377152(0x398)+this['vendorId']+_0x377152(0x398)+_0x5c3c41['id']}),_0x3ab4f9=await(0x0,_0x4884b3[_0x377152(0x42b)])(_0x12b24c['getAuth'](),_0x3aa2e6[_0x377152(0x525)]['token']);this[_0x377152(0x1b7)]=_0x3ab4f9[_0x377152(0x1b7)];}[_0xc3b14b(0x671)](){const _0x2e215c=_0xc3b14b;return this[_0x2e215c(0x1b7)]?.[_0x2e215c(0x671)]()??Promise['reject'](_0x2e215c(0x693));}}var _0x331b83;!function(_0x381572){const _0x5d835f=_0xc3b14b;_0x381572[_0x5d835f(0x667)]=_0x5d835f(0x667),_0x381572['MediaStream']=_0x5d835f(0x45d),_0x381572['ScreenSharing']='ScreenSharing',_0x381572['AudioVolume']=_0x5d835f(0x4f1),_0x381572[_0x5d835f(0x603)]=_0x5d835f(0x603),_0x381572['AudioOutput']=_0x5d835f(0x3f8),_0x381572[_0x5d835f(0x20b)]=_0x5d835f(0x20b),_0x381572[_0x5d835f(0x331)]=_0x5d835f(0x331),_0x381572['WebGL']='WebGL';}(_0x331b83||(_0x331b83={}));class _0x4b45a4{static [_0xc3b14b(0x43b)];[_0xc3b14b(0x320)]=[];constructor(){}static[_0xc3b14b(0x531)](){const _0x1ec4b6=_0xc3b14b;return _0x4b45a4[_0x1ec4b6(0x43b)]||(_0x4b45a4['instance']=new _0x4b45a4()),_0x4b45a4['instance'];}[_0xc3b14b(0x268)](){const _0x44540f=_0xc3b14b;this['checkWebRTC'](),this[_0x44540f(0x3c7)](),this[_0x44540f(0x670)](),this[_0x44540f(0x64c)](),this[_0x44540f(0x5ec)](),this[_0x44540f(0x466)](),this['checkMediaRecording'](),this[_0x44540f(0x651)](),this[_0x44540f(0x19d)](),_0x4eca14['log'](_0x46b6b6[_0x44540f(0x32c)],_0x44540f(0x53f),{'featureSupport':this[_0x44540f(0x320)]});}[_0xc3b14b(0x190)](_0x2c0b38){const _0x1f868e=_0xc3b14b,_0x5ca6aa=this[_0x1f868e(0x320)][_0x1f868e(0x4c7)](_0x5656bf=>_0x5656bf[_0x1f868e(0x235)]===_0x2c0b38);return!!_0x5ca6aa&&_0x5ca6aa['supported'];}[_0xc3b14b(0x4f7)](_0x2aa952){const _0x587729=_0xc3b14b;_0x4eca14[_0x587729(0x197)](_0x587729(0x4ea),{'userId':_0x2aa952,'data':{'featureSupport':this[_0x587729(0x320)]}});}[_0xc3b14b(0x160)](){const _0x2b2450=_0xc3b14b,_0x122301=_0x331b83[_0x2b2450(0x667)];let _0x175f6d=!0x1;'function'==typeof RTCPeerConnection&&_0x2b2450(0x65b)==typeof RTCIceCandidate&&_0x2b2450(0x65b)==typeof RTCSessionDescription?_0x175f6d=!0x0:_0x4eca14[_0x2b2450(0x3e4)](_0x46b6b6[_0x2b2450(0x32c)],_0x2b2450(0x37c)+_0x122301+_0x2b2450(0x55e)),this[_0x2b2450(0x320)][_0x2b2450(0x16d)]({'name':_0x122301,'supported':_0x175f6d});}[_0xc3b14b(0x3c7)](){const _0x972a7c=_0xc3b14b,_0x5e1f83=_0x331b83[_0x972a7c(0x45d)];let _0x53682a=!0x1;_0x972a7c(0x65b)==typeof MediaStream&&_0x972a7c(0x65b)==typeof MediaStreamTrack&&_0x972a7c(0x409)==typeof navigator&&_0x972a7c(0x409)==typeof navigator[_0x972a7c(0x681)]&&_0x972a7c(0x65b)==typeof navigator[_0x972a7c(0x681)][_0x972a7c(0x4a0)]?_0x53682a=!0x0:_0x4eca14['log'](_0x46b6b6[_0x972a7c(0x32c)],'Support:\x20'+_0x5e1f83+_0x972a7c(0x55e)),this[_0x972a7c(0x320)][_0x972a7c(0x16d)]({'name':_0x5e1f83,'supported':_0x53682a});}['checkScreenSharing'](){const _0xd132a=_0xc3b14b,_0x567c5b=_0x331b83['ScreenSharing'];let _0x4a1ca3=!0x1;_0xd132a(0x409)==typeof navigator&&_0xd132a(0x409)==typeof navigator[_0xd132a(0x681)]&&_0xd132a(0x65b)==typeof navigator[_0xd132a(0x681)][_0xd132a(0x340)]?_0x4a1ca3=!0x0:_0x4eca14[_0xd132a(0x3e4)](_0x46b6b6[_0xd132a(0x32c)],'Support:\x20'+_0x567c5b+_0xd132a(0x55e)),this[_0xd132a(0x320)][_0xd132a(0x16d)]({'name':_0x567c5b,'supported':_0x4a1ca3});}['checkAudioVolume'](){const _0x3213e6=_0xc3b14b,_0x558bff=_0x331b83[_0x3213e6(0x4f1)];let _0x366ba9=!0x1;'function'!=typeof AudioContext||_0x3213e6(0x65b)!=typeof ScriptProcessorNode&&_0x3213e6(0x65b)!=typeof AudioWorkletNode||_0x3213e6(0x65b)!=typeof MediaStreamAudioSourceNode?_0x4eca14[_0x3213e6(0x3e4)](_0x46b6b6[_0x3213e6(0x32c)],'Support:\x20'+_0x558bff+_0x3213e6(0x55e)):_0x366ba9=!0x0,this['featureSupport'][_0x3213e6(0x16d)]({'name':_0x558bff,'supported':_0x366ba9});}[_0xc3b14b(0x5ec)](){const _0x1ce5b8=_0xc3b14b,_0x1ce002=_0x331b83[_0x1ce5b8(0x603)];let _0x286d78=!0x1;_0x1ce5b8(0x409)==typeof navigator&&_0x1ce5b8(0x409)==typeof navigator[_0x1ce5b8(0x681)]&&_0x1ce5b8(0x65b)==typeof navigator[_0x1ce5b8(0x681)]['enumerateDevices']&&_0x1ce5b8(0x65b)==typeof MediaDeviceInfo?_0x286d78=!0x0:_0x4eca14['log'](_0x46b6b6[_0x1ce5b8(0x32c)],_0x1ce5b8(0x37c)+_0x1ce002+'\x20not\x20supported'),this[_0x1ce5b8(0x320)][_0x1ce5b8(0x16d)]({'name':_0x1ce002,'supported':_0x286d78});}[_0xc3b14b(0x466)](){const _0x51166f=_0xc3b14b,_0x38baaf=_0x331b83[_0x51166f(0x3f8)];let _0x36143c=!0x1;'function'==typeof document[_0x51166f(0x5a5)](_0x51166f(0x42e))[_0x51166f(0x186)]?_0x36143c=!0x0:_0x4eca14[_0x51166f(0x3e4)](_0x46b6b6[_0x51166f(0x32c)],_0x51166f(0x37c)+_0x38baaf+_0x51166f(0x55e)),this[_0x51166f(0x320)][_0x51166f(0x16d)]({'name':_0x38baaf,'supported':_0x36143c});}async[_0xc3b14b(0x31c)](){const _0x2778e3=_0xc3b14b,_0x532630=_0x331b83[_0x2778e3(0x20b)];let _0x107bb3=!0x1;try{const _0xf7ff30=document[_0x2778e3(0x5a5)](_0x2778e3(0x460));if(window[_0x2778e3(0x40a)]&&window['MediaSource']&&_0xf7ff30[_0x2778e3(0x26a)]){const _0xd10b39=_0xf7ff30[_0x2778e3(0x26a)](),_0x158f16=new MediaRecorder(_0xd10b39);_0x158f16[_0x2778e3(0x416)](),await new Promise(_0x154be6=>setTimeout(_0x154be6,0x7d0)),_0x158f16[_0x2778e3(0x153)](),_0x107bb3=_0x2778e3(0x4a7)===_0x158f16[_0x2778e3(0x38f)];}}catch(_0x3192ea){_0x4eca14[_0x2778e3(0x3e4)](_0x46b6b6[_0x2778e3(0x32c)],_0x2778e3(0x37c)+_0x532630+_0x2778e3(0x5ae),_0x3192ea);}this[_0x2778e3(0x320)][_0x2778e3(0x16d)]({'name':_0x532630,'supported':_0x107bb3}),_0x107bb3||_0x4eca14[_0x2778e3(0x3e4)](_0x46b6b6[_0x2778e3(0x32c)],'Support:\x20'+_0x532630+'\x20not\x20supported');}['checkBackgrounds'](){const _0x1ce0b3=_0xc3b14b,_0x11fa2c=_0x331b83[_0x1ce0b3(0x331)];let _0x29cbb3=!0x1;try{document[_0x1ce0b3(0x5a5)](_0x1ce0b3(0x460))[_0x1ce0b3(0x26a)]&&(_0x29cbb3=!0x0);}catch(_0x716f6a){_0x4eca14[_0x1ce0b3(0x3e4)](_0x46b6b6['Support'],_0x1ce0b3(0x37c)+_0x11fa2c+'\x20check\x20failed',_0x716f6a);}this['featureSupport'][_0x1ce0b3(0x16d)]({'name':_0x11fa2c,'supported':_0x29cbb3}),_0x29cbb3||_0x4eca14[_0x1ce0b3(0x3e4)](_0x46b6b6[_0x1ce0b3(0x32c)],_0x1ce0b3(0x37c)+_0x11fa2c+'\x20not\x20supported');}[_0xc3b14b(0x19d)](){const _0x4bbff5=_0xc3b14b,_0x476d8a=_0x331b83['WebGL'];let _0x357039=!0x1;try{const _0x56480f=document[_0x4bbff5(0x5a5)]('canvas');window[_0x4bbff5(0x3bc)]&&_0x56480f[_0x4bbff5(0x50f)](_0x4bbff5(0x20a))&&(_0x357039=!0x0);}catch(_0x4173ae){_0x4eca14[_0x4bbff5(0x3e4)](_0x46b6b6['Support'],_0x4bbff5(0x37c)+_0x476d8a+_0x4bbff5(0x5ae),_0x4173ae);}this[_0x4bbff5(0x320)][_0x4bbff5(0x16d)]({'name':_0x476d8a,'supported':_0x357039}),_0x357039||_0x4eca14[_0x4bbff5(0x3e4)](_0x46b6b6[_0x4bbff5(0x32c)],_0x4bbff5(0x37c)+_0x476d8a+'\x20not\x20supported');}}const _0x4f978b=_0x4b45a4[_0xc3b14b(0x531)]();class _0x327489{static ['instance'];[_0xc3b14b(0x1f4)];[_0xc3b14b(0x1dc)];[_0xc3b14b(0x248)];[_0xc3b14b(0x657)];[_0xc3b14b(0x35f)];constructor(_0x38d8b8,_0x3b86a4,_0xdbd439){const _0x5e1f5a=_0xc3b14b;this[_0x5e1f5a(0x1dc)]=_0x38d8b8,this[_0x5e1f5a(0x657)]=_0x3b86a4,this[_0x5e1f5a(0x1f4)]=new _0x2f2d70(this[_0x5e1f5a(0x1dc)]),this[_0x5e1f5a(0x248)]={'audioContext':_0xdbd439?.[_0x5e1f5a(0x156)]??new AudioContext(),'maxOutgoingSubscriptions':_0xdbd439?.[_0x5e1f5a(0x61a)]??0x1,'minConnections':_0xdbd439?.['minConnections']??0x3,'maxConnections':_0xdbd439?.[_0x5e1f5a(0x4b2)]??(_0xdbd439?.[_0x5e1f5a(0x433)]&&0x4*_0xdbd439[_0x5e1f5a(0x433)])??0xc,'maxDistance':_0xdbd439?.[_0x5e1f5a(0x5b0)]??0xa,'maxFps':_0xdbd439?.[_0x5e1f5a(0x5a2)]??0x18,'maxBpp':_0xdbd439?.[_0x5e1f5a(0x553)]??0.12,'objectStoreConnector':_0xdbd439?.[_0x5e1f5a(0x2ee)]??_0x3ca4f0[_0x5e1f5a(0x4f2)],'keyValueDatabaseConnector':_0xdbd439?.['keyValueDatabaseConnector']??_0xf6497c[_0x5e1f5a(0x22e)],'peerConnectionConnector':_0xdbd439?.[_0x5e1f5a(0x365)]??_0x100601[_0x5e1f5a(0x5d1)]},_0xdbd439?.[_0x5e1f5a(0x24e)]&&_0x1ee6de[_0x5e1f5a(0x4ad)](this['options'][_0x5e1f5a(0x156)]),_0x4eca14[_0x5e1f5a(0x21b)](this['vendorId']),_0xdbd439?.[_0x5e1f5a(0x6a5)]&&_0x4eca14[_0x5e1f5a(0x5df)](_0xdbd439['loggingConnectors']),_0x4f978b[_0x5e1f5a(0x268)]();}static async[_0xc3b14b(0x531)](_0x25be69,_0x575fec,_0xe12a8f){const _0x22490e=_0xc3b14b,_0xf720ce=await this['validateAccess'](_0x25be69,_0x575fec);return _0x327489['instance']||(_0x327489[_0x22490e(0x43b)]=new _0x327489(_0x25be69,_0xf720ce,_0xe12a8f)),{'authenticateUser':_0x327489[_0x22490e(0x43b)][_0x22490e(0x5ee)][_0x22490e(0x2c9)](_0x327489[_0x22490e(0x43b)]),'joinCluster':_0x327489[_0x22490e(0x43b)][_0x22490e(0x405)][_0x22490e(0x2c9)](_0x327489['instance'])};}static async['timestamp'](){const _0x5e9109=_0xc3b14b;return _0x12b24c[_0x5e9109(0x294)]();}static async[_0xc3b14b(0x6c2)](_0x150fc5,_0x290615){const _0x11fe55=_0xc3b14b,_0x1d2731=(await(0x0,_0x2b9500[_0x11fe55(0x522)])(_0x12b24c[_0x11fe55(0x593)](),'sdkValidateAccess')({'vendorId':_0x150fc5,'accessToken':_0x290615}))[_0x11fe55(0x525)];return _0x1d2731['features']||(_0x1d2731['features']=[]),_0x1d2731;}async[_0xc3b14b(0x5ee)](_0x1064db){const _0x6e832c=_0xc3b14b;await this[_0x6e832c(0x1f4)]['signInWithCredential'](_0x1064db);const _0x4ede1f=new _0x20562c(_0x1064db['id'],_0x1064db[_0x6e832c(0x5d4)],_0x1064db['email']);return this[_0x6e832c(0x35f)]={'user':_0x4ede1f},_0x4f978b[_0x6e832c(0x4f7)](_0x4ede1f[_0x6e832c(0x16b)]()),{'getId':_0x4ede1f['getId']['bind'](_0x4ede1f),'getDisplayName':_0x4ede1f['getDisplayName'][_0x6e832c(0x2c9)](_0x4ede1f),'getEmail':_0x4ede1f[_0x6e832c(0x221)][_0x6e832c(0x2c9)](_0x4ede1f),'setDisplayName':_0x4ede1f[_0x6e832c(0x3ba)][_0x6e832c(0x2c9)](_0x4ede1f),'setEmail':_0x4ede1f['setEmail']['bind'](_0x4ede1f)};}async[_0xc3b14b(0x405)](_0x71a290){const _0x5608a4=_0xc3b14b;if(!this['authContext'])throw new _0x560421(_0x422571[_0x5608a4(0x585)],'User\x20not\x20authenticated');const _0x353a75=new _0x380205(this['vendorId'],_0x71a290,this[_0x5608a4(0x35f)][_0x5608a4(0x1b7)],this[_0x5608a4(0x1f4)],this[_0x5608a4(0x248)],this[_0x5608a4(0x657)]);return await _0x353a75['join'](),_0x4eca14[_0x5608a4(0x197)]('join-cluster',{'clusterId':_0x71a290,'userId':this[_0x5608a4(0x35f)][_0x5608a4(0x1b7)][_0x5608a4(0x16b)]()}),{'leave':_0x353a75[_0x5608a4(0x5ac)][_0x5608a4(0x2c9)](_0x353a75),'getUser':_0x353a75[_0x5608a4(0x49b)][_0x5608a4(0x2c9)](_0x353a75),'openPubSubTopic':_0x353a75[_0x5608a4(0x573)]['bind'](_0x353a75),'openObjectStoreBucket':_0x353a75[_0x5608a4(0x283)][_0x5608a4(0x2c9)](_0x353a75),'openKeyValueDatabase':_0x353a75['openKeyValueDatabase'][_0x5608a4(0x2c9)](_0x353a75),'publishLocalMediaStream':_0x353a75[_0x5608a4(0x1f5)][_0x5608a4(0x2c9)](_0x353a75),'publishLocalDynamicMediaStream':_0x353a75[_0x5608a4(0x5b1)][_0x5608a4(0x2c9)](_0x353a75),'getPubSubTopics':_0x353a75[_0x5608a4(0x5e5)][_0x5608a4(0x2c9)](_0x353a75),'getObjectStoreBuckets':_0x353a75[_0x5608a4(0x22a)][_0x5608a4(0x2c9)](_0x353a75),'getKeyValueDatabases':_0x353a75[_0x5608a4(0x36b)][_0x5608a4(0x2c9)](_0x353a75),'getLocalMediaStreams':_0x353a75[_0x5608a4(0x672)][_0x5608a4(0x2c9)](_0x353a75),'getRemoteMediaStreams':_0x353a75['getRemoteMediaStreams'][_0x5608a4(0x2c9)](_0x353a75),'getRemoteUsers':_0x353a75[_0x5608a4(0x632)]['bind'](_0x353a75),'on':_0x353a75['on']['bind'](_0x353a75),'off':_0x353a75[_0x5608a4(0x347)]['bind'](_0x353a75)};}}})()),_0x54f2d4;})())));