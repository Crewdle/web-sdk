function a0_0x366f(){const _0x29b177=['setOnDisconnectHandler','grammar','transaction','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','durationTime','enabled','stopTracing','createGenerativeAIWorker','getIsLoaded','speechAIWorkerConnectors','\x20deleted.','unsubscribeHandler','gpu','\x20must\x20be\x20a\x20boolean','subscription-request-failed','removeRemoteMediaStream','remote-media-stream-invalid-subscription-params','getName','Buffered\x20chunks\x20are\x20too\x20large','getDisplayMedia','unregisterDestination','FramePerSecond','Job\x20Worker\x20does\x20not\x20exist','ObjectStoreInvalidState','previousBytes','claude-3-5-sonnet-latest','ranges','providerListener','GenerativeAIContextJobTimeout','setLocalRank','en-US','previous','getCurrentMaxLayer','isBidResponse','startsWith','getEnabledChannels','lastProcessRank','transactionTable','pub-sub-topic-already-exists','notifyJoin','getSettings','getDoc','dataBucketIds','detection','manageOptimization','openaiApiKey','tableObserver','loggingCycle','packetsReceived','Unknown\x20skill\x20type','connectionConstructor','Unsupported\x20job\x20type','isFeatureSupported','getItem','contentSize','dataTopics','document-parser','deleteCollection','GenerativeAIWorker:\x20CollectionDelete\x20failed','ObjectStoreInvalidPath','canProvideResolution','file.type','getRoundTripTime','substring','hashNodes','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','key-value-database-transaction-table-not-initialized','slice','forEach','.mustache','GetContextQuery','checkScreenSharing','CloseJobDispatcher','Cannot\x20publish\x20file:\x20','Operations:','generative-ai-worker-creation-failed','internalProcessJob','drawImage','readyResolve','KeyValueDatabaseContentAvailable','query-helper-invalid-argument','batchSize','Key-value\x20database\x20peak\x20not\x20found.','decodeJWT','setBytes','processOutboundReport','filename','boolean','.scala','byteLength','JobWorker:\x20Sending\x20job\x20bid','Stats','PubSubTopicAlreadyExists','subscription-request-no-answer','messageUnsubscriber','handleFileRequestAnswer','fetchContentFromUrl','restartTimeout','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','InvalidDataChannel','Router','PromptSource','Logger.getInstance','previousFrames','destinationIds','maxLayer','processTransactionsToComputeMMR','filter','Strategizing\x20Agent','streamId','.ts','ClosePubSubTopic','createConstantSource','entries','incrementVersion','feedback-agent','dispatchEvent','medias','getHash','Invalid\x20job\x20worker\x20type.','FeatureNotEnabled','openJobDispatcher','debounceStats','setReceiverBytes','jobQueue','Subscription','computeHash','listenerUnsubscribers','fileConnector','senderBitrate','getLayout','findNextNodeId','getCoresFromCapacityReport','onTrack','application/json','getLocalMediaStream','VectorDatabaseCreationFailed','jitter','batch','RemoteMediaStreamInvalidSubscriptionParams','form-skill','handleNodeJoinNeedPublishedStream','maxFramerate','key-value-database-invalid-layout','threadId','openTrace','observer','openGenerativeAIContextStandalone','registerSystemPublisher','getVideoTracks','clusterKey','all','text','Move','ChunkSplitter','\x20-\x20','createBatch','wav','AppSync\x20subscribe','wait','generativeAIWorkers','key-value-database-invalid-query','processSenderReport','JobDispatcherJobExists','getSenderTotalBytes','May\x202024','type','aiSearchConnector','CloseKeyValueDatabase','score','WorkflowDoesNotExist','endpoint','currentBytes','handleOnMessage','uid','createVectorDatabase','sync','email','cpu.cycle','DEBUG\x20-\x20','Invalid\x20value.\x20Property\x20\x27','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','accumulated','problem','sonar','processReceiverReport','syncTransactions','Remote\x20stream\x20does\x20not\x20exist.','Index','answers','processTransactionPayload','getTransactions','batchTimeout','sonar-reasoning-pro','getRemoteNodes','getTransactionByHash','statsManager','FormSkillSubmitForm','maxBitrate','agent-skill','getAncestorIds','setCurrentVersion','publishMove','Answer','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','job-dispatcher-job-not-found','video','KeyValueDatabaseTransactionValueNotSet','processLocalReport','getSenderBitrate','packetsLost','RemoteAdd','\x20transactions\x20from\x20node\x20','getSubscribedTracks','cluster-already-joined','Internal\x20SDK\x20Error:\x20','GraphDatabaseMissingConnector','JobQueueService:\x20Running\x20job','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','\x20is\x20required','suspended','transactionsToAppend','writeFile','PubSubTopicAlreadySubscribed','connectionStateListener','ReceiverOnMessage','getResolutionScale','openGenerativeAIWorker','ExecuteCode','onDataChannel','name','Downgrade','Invalid\x20table\x20name\x20\x27','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','removeJobDispatcher','isResultResponse','KeyValueDatabaseIndexNotFound','handlePeerConnectionSystemEvents','questions','.crewdle-pending','hasTable','.djt','processReports','\x0a\x0adata:\x20','getGenerativeAIContextsStandalone','addMessage','createCollection','keyPath','crewdle-sdk-stg','NodeManager\x20-\x20PublishNodeLeave','Sender\x20connection\x20is\x20not\x20initialized.','organizationId','lastRemediations','PubSubTopicStats','setAnswer','Job\x20Dispatcher\x20does\x20not\x20exist','exists','timeSending','reset','AudioContext\x20is\x20not\x20available','onDisconnectHandler','audioSource','true','Recording','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','hashPeakHashes','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','MediaStreamUnavailable','SpeechToSpeech','Cannot\x20get\x20file:\x20','createMediaStreamSource','off','Pool','videoWidth','parseDataCollectionBlocks','.bat','checkSyncComplete','receiverCurrentTimestamp','abs','GenerativeAIContextJobAlreadyConsumed','processReceivedTransactions','.php','sonar-reasoning','August\x202024','Events','logLevel','startHeartbeat','Node\x20type\x20is\x20invalid','vendorId','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','subscription-request-does-not-exist','currentDistance','bufferedAmountLowThreshold','logSupport','debugEnabled','Execute\x20the\x20workflow\x20','Invalid\x20query','setRemoteNode','Key-value\x20database\x20transaction\x20value\x20not\x20set.','logDataSent','fallbackModel','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','contextInputVariable','GraphDatabase','setEmail','keyValueDatabaseConnector',':\x20Object\x20store\x20is\x20not\x20in\x20sync','models','completeSync','https://api.crewdle.ai','Database\x20Opened','complete','answer','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','.rs','Model','Data\x20Received','searchInDataCollection','unregisterPublisherListener','ExternalStorageConnectionDoesNotExist','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','handleObjectMove','stats','createJobDispatcher','bufferedChunks','No\x20parameters\x20provided','Workflow','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','FPS','delta','JobWorkerAlreadyExists','ConnectionState','senderStreams','getWorkflowExternalStorageConnections','tool-call','2802390CrGcHk','queryOrPrompt','handleSubscriptionSubscribeMediaStream','CrewdleReceiverConnection\x20ontrack','Writable\x20stream\x20is\x20missing','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','external-storage','Invalid\x20key\x20\x27','verb','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','user','setupTrackEndedListeners','move','Video','handleFileWrite','layout','vectorDatabaseConnector','handleContentUnsubscribeMediaStream','enumerateDevices','messageType','reranker','GenerativeAIWorker:\x20Opening','getResolution','totalDecodeTime','Search','Partial','payloadType','counter','rate','Vector','/developers/','getDistance','.ex','maxTokens','.docx','featureSupport','parameters','addNode','disconnected','disconnectCallback','Text\x20is\x20required','.pdf','handleUpdateMediaStream','FileMove','deleteObject','then','publishNodeLeave','Early\x20return:\x20','connectAgent','isWhereValue','receiverTimeProcessing','Generic\x20AI\x20Agent','sendTransactionsValue\x20-\x20value\x20not\x20found','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','removeSubscriptionsForNode','NodeType','attributes','handleContentCloseMediaStream','insert','discoveryService','image','Handshake','applyRemediation','localId','forceLog','hasMessage','clusterEventEmitter','receiverConnection','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','\x20Processing\x20audio\x20block','graph-database','Rejected\x20answer','endsWith','pub-sub-topic-does-not-exist','detectVideoIssues','Logging\x20not\x20enabled\x20for\x20channel\x20','JobDispatcherCreationFailed','remote-stream-missing-provider-id','path','EntityExtractor','subscriptionRequests','handshakeDebounce','processPendingHandshakeCandidates','changesUnsubscriber','SyncKeyValueDatabase\x20-\x20Ancestors\x20','ObjectStoreInvalidSyncMessage','DataChannel\x20is\x20not\x20initialized.','subtle','updated','JobDispatcherInvalidPayload','systemTopicUnsubscribe','updateJob','publish','PartialResult','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','firestore','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','resolution','agentConfig','arrayBuffer','topic','chained','Node\x20type\x20is\x20required','wait-false','msalRefreshToken','Node\x20is\x20not\x20an\x20agent','setVendorId','Error\x20opening\x20trace','input_tokens','Context','catch','createMediaStreamDestination','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','removeListener','Graph\x20database\x20creation\x20failed.','createOutgoingSubscription','removeObjectStore','find','ExternalStorageUpload','test-page','warning','answer-','autoplay','generative-ai-label-conflict','hasRemoteNode','sendRequest','KeyValueDatabaseTransactionTableNotInitialized','GraphSearch','setRemoteConnections','/resources/agent/items/','startTracing','CloseGenerativeAIContext','request-file','\x20created\x20and\x20dispatched.','handleNodeDisconnect','all-minilm-l12-v2','workflow-invalid-block-type','</current-question>\x0a\x0a','KeyValueDatabaseRequestPeakTransactions','voice','feedback','publishTransaction','shouldProcessTransaction','Folder','handleOffer','code','required','av_delay','messageBuffer','removeTrackListeners','SHA-256','tts-1','resolve','RequestFileWrite','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Skill','search','output_tokens','sendAction','params','getStatus','nodeKey','Upload','Text','object-store-invalid-state','AI\x20Search\x20connector\x20not\x20set','ExternalStorageConnection\x20not\x20found','rebuildMMR','bytesSent','ObjectStoreAlreadyExists','Resolution','Cluster\x20already\x20joined','VectorDatabaseStats','chunk','speech-to-speech','distance','Code','setTimestamp','.dart','transactionsToSync','ownerId','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','addCandidate','Node\x20already\x20exists.','createDataChannel','resultFile','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','offset','processOutboundReports','Error\x20committing\x20batch:','Connection','startIndex','.json','where','claude-3-5-haiku-latest','pipe','eventTarget','.swift','openObjectStoreBucket','tts-1-hd','openPubSubTopic','upgrade','maps','isWhereBetween','retryCount','setOnTableWriteHandler','processJobStream','onUnregisterPublisher','concat','generic-agent','clusters/','.yml','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','data-collection','format','Code\x20is\x20required','KeyValueDatabaseInvalidLayout','pathName','object-store-cannot-write-transaction','getSupportedContentTypes','ExternalStorageStats','functionsRegion','isSync','incomingTopic','sentence-splitter','Error\x20processing\x20agent\x20block','debug','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','handleNeedRestart','shouldEmit','Failed','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','senderPreviousBytes','Error\x20executing\x20code','increment','\x20Fallback\x20model','data:\x20[DONE]\x0a\x0a','JobDispatcherInvalidJobType','registerRemoteNode','generative-ai-context-job-failed','createSenderConnection','crewdle','batchQueue','between','NeedMediaStream','generative-ai-context-creation-failed','audio','contextOutputVariable','internalId','debounceAppendLog','gpt-4o-mini-realtime-preview','WaitFalse','LoadKnowledgeFunction','key-value-database-invalid-value','clockSkew','createRemoteMediaStream','Connected','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','capacityReporter','\x27\x20reserved','setOnMessageHandler','missing-datachannel','question-','AgentSkill','GenerativeAIContextCreationFailed','Missing\x20search\x20API\x20key','logEvent','fromEntries','decode','function','Embeddings','jobId','local-stream-does-not-exist','senderCurrentTimestamp','appsync-connect','accumulateResult','confirmSynchronization','object-store-invalid-sync-message','Receiver','unregisterSubscriber','handleStatsSystemEvents','orchestrator','setInterval','handleOutgoingSystemEvents','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','.erl','connectionGroup','lastHeartbeat','options','.java','senderConnection','DeviceConfig','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','AiSearch','High','SearchPerplexity','Human','parse','ENOENT','start','getIdToken','trackChanges','document-agent','No\x20destinationIds\x20left','x-ai/grok-3-beta','Database\x20not\x20open','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','notifyClusterNodeJoin','connector','pub-sub-topic-name-not-string','whisper-1','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','clientStream','unregisterSource','ExternalStorageInvalidPath','jobBids','setSenderTimestamp','InitialPrompt','updateDebounceTimeout','object-store-not-in-sync','addAudioTrack','nodeManager','Connection\x20does\x20not\x20exist.','jobType','KeyValueDatabaseDoesNotExist','key-value-database','usage','file-download','findNewMediaSubscription','evaluateBidsAndAttributeJob','splice','1:519415702791:web:5dd39042f881cfde3251a2','Error\x20closing\x20trace','crewdleSDKDisableLogging','sendFileRequestPayload','setupResizeHandler','sendFile','tools','once','getLocalNode','sonar-deep-research','list','minThreshold','GenerativeAIWorkerStats','openJobWorker','availableTrackKinds','0\x20B','getOwnerId','threshold','processReport','getSimilarity','removeGraphDatabase','defineProperty','job-dispatcher-invalid-job-type','openKeyValueDatabase','Error\x20retrieving\x20context','every','audioDestination','generative-ai-context-job-timeout','\x20sending\x20attempt\x20','iceServers','WebScraperRaw','listenUnsubscriber','object-store-already-subscribed','Database\x20already\x20exists','ai-search','SubscribeMediaStream','job-dispatcher-job-exists','utf8','transactionService','createPendingFileWrite','node','.ps1','Audio','162712sCxEYZ','FormSkillSetAnswer','deleteFileChunks','removeNode','Internal\x20unknown\x20error:\x20','time_per_frame','features','optimizationLayers','Job\x20with\x20id\x20','handshakeCandidates','Backgrounds','connectorConstructor','.tpl','key-value-database-already-exists','topicLabel','KeyValueDatabaseSyncRequired','write-file','Connection\x20not\x20initialized.','removeConnection','joinCluster','appsync-connect-fail','MediaStreamPriority','DataStream','interview-agent','Executing\x20custom\x20skill:\x20','clearSyncTimeout','NodeNotAuthenticated','.crewdle-transactions','failJob','noun','crewdle-sdk-stg.appspot.com','ConnectionNotConnected','handleNodeSystemEvents','Completed','Waiting','\x20must\x20be\x20a\x20string','RemoteRemediation','play','statsReporting','timeoutCallback','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','rtt','initialize','SystemStats','urls','setStatus','Send\x20request','comparePeaks','bufferedAmount','Missing\x20AI\x20search\x20API\x20key','appendTransaction','handleUnsubscribeMediaStream','mediator','CannotProvideMediaStream','GraphDatabaseNameNotString','FormSkillGetQuestion','vector-database-missing-connector','removeRemoteNode','resetConnection','getOrResetPendingFileTimeout','left','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','action','93fhZKCW','Prompt','getMediaStream','gpt-4.1-nano','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','generativeAIContexts','\x20not\x20supported','Cannot\x20get\x20size\x20of\x20path:\x20','Dedicated','FormSetAnswer','addRemoteConnection','Key-Value\x20Database\x20-\x20Sync\x20Completed','cluster','requestSubscriptionAction','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','estimatedPlayoutTimestamp','Media','debounceLogTimeout','Rejected','outputTokens','>\x0a\x0a','cost','::ï¿¿','getGenerativeAIContexts','round','clear','getVectorDatabases','time','onBufferedAmountLow','createObjectStoreBucket','WorkflowTrace','messagesSent','SearchGoogle','buildInitialMMR','handshakeState','gpt-4.1','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','doc','run','CREWDLE_WEB_SDK','now','answerJoin','publishLocalDynamicMediaStream','Query\x20Generator','syncTimeout','openAIKey','.lua','operations','.py','notifyCluster','waitSuccess','handleContentSubscribeMediaStream','mediaUnsubscribers','GenerativeAIContext\x20stream\x20error','externalStorages','Error\x20encountered\x20while\x20opening\x20database','connections','issue','getDataBucketIds','collectSendersStats','collection-create','UnpublishMediaStream','external-storage-connection-already-subscribed','providerId','closeTrace','getPubSubTopics','\x0a</','remoteConnections','21a9d78dee97f487b','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','srcObject','clearSubscriptionRequestTimeout','Generative\x20AI\x20Context\x20does\x20not\x20exist','x-ai/grok-3-mini-beta','getDate','Incoming','Received\x20','Workflow\x20output\x20is\x20not\x20a\x20string','/vector_stores/','Stream\x20already\x20exists','syncedFileExists','AITrace','ConnectionNoRetryQueue','eventEmitter','load','No\x20model\x20available','CustomSkill','rank','checkAudioOutput','reasoning','competitive-agent','images','\x20with\x20\x27','maxFps','ragApiKey','JobDispatcher:\x20Received\x20job','JobWorker:\x20Received\x20job','eleven_multilingual_v2','OPFSObjectStoreConnector','LocalReport','onNodeUpdate','debounceProcessRank','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','blank-agent','trackEndedListeners','minRelevance','remoteNodes','currentVersion','senderTimeProcessing','setupStatsCollection','timeoutValue','Missing\x20answerer\x20id\x20on\x20request\x20answer','Amplify','\x20Processing\x20text\x20to\x20speech\x20block','getAudioTracks','getShareableStream','validateLayout','CrewdleConnectionGroup','cpu.fps','callback','unshift','remediation','ExternalStorage','\x20check\x20failed','mmr','\x20failed.\x20Retrying...','GraphDatabaseCreationFailed','MistletCapacityReportNotSet','Optimization','invalid-subscription','setScheduleTime','Info','gpt-4.1-mini','RequestFileSync','PubSub','heartbeatUnsubscriber','StorageEventType','KeyValueDatabaseNameNotString','file-list','Default','signInWithCustomToken','job-','Orchestrator\x20handleSystemEvents','InvalidSubscriber','openrouterApiKey','isOpened','September\x202023','createLocalDynamicMediaStream','GenerativeAIModelOutputType','object-storage-upload','moveObject','propn','Missing\x20OpenAI\x20API\x20key','Missing\x20transaction\x20id','CloseVectorDatabase','subscription-request-in-progress','getSize','connectionManager','lastClockUpdate','getTrackFromParam','ModelVector','/nodes','closeSubscription','Database\x20does\x20not\x20exist','detail','processInboundReports','createNewBatch','remediations','lastCapacityReport','getDatabase','close','node-type-not-supported','8542vdrjuM','\x20completed.','getKeyValueDatabases','interval','Query\x20must\x20refer\x20to\x20the\x20file\x20table','Request','workflow-does-not-exist','Llamacpp','Hash\x20computation\x20failed,\x20retrying...','setForDeletion','/search','token','File','string','handleFolderCreate','outbound-rtp','gain','AudioVolume','setRank','removeTrackCallback','Detection','.info/serverTimeOffset','onChildRemoved','parseWorkflowBlocks','frameWidth','writeBatch','history','assign','getBufferedAmount','Failed\x20to\x20get\x20file','https://api.stg.crewdle.ai','getRemoteId','server','downgrade','getAncestors','removeVectorDatabase','transactionHashMap','getApp','Document\x20Agent','val','isInternalLoggingConnector','2-digit','rejectReady','Error\x20parsing\x20JSON:','KeyValueDatabaseTableNotFound','summary-generator','PayloadAction','InvalidAccess','handleSubscriptionUnsubscribeMediaStream','tableLayout','totalNodes','updateUser','logPropagateSystemEvent','file-ingest','sdkCreateToken','content','clearUpgradeTimeout','FileStatus','send','encode','VectorDatabaseMissingConnector','ConnectionInvalidDataEvent','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','createPubSubTopic','stopConnection','addPendingHandshakeCandidate','outputTokenPrice','job-dispatcher-creation-failed','Execute\x20skill\x20','Cannot\x20unpublish\x20object:\x20','saveToDisk','currentFrames','handleSubscriptionSystemEvents','clearRect','Jobs','LocalMediaStreamAlreadyExists','oncloseTimeout','JobDispatcherJobNotFound','executeAgent','google/gemini-2.0-flash-001','Rating','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','handleUnpublishMediaStream','isAvailable','ragConnectors','processJob','headers','\x20Ai\x20search\x20final\x20response','connectionTimeout','Module','queryParameters','archival-search','description','URL\x20is\x20required','handleFileRequest','ObjectStoreStats','\x20received\x20responses:','getObjectStoreBucket','\x27\x20payload:','Invalid\x20content\x20type','transactions','memoryUsage','logWaitTime','getLabel','handleChunkMessage','media-stream','getInternalTrackParams','match','User','object-store-name-not-string','graphService','Account','RAG\x20connector\x20is\x20not\x20available','retry','Remote\x20MediaStream\x20already\x20exists','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','Content','receiver','snippet','standalone','/transactions/lastTransaction','node-already-exist','RetrieveTrace','coordinator-agent','job-worker-already-exists','getWorkflows','Support:\x20','direction','\x27\x20in\x20table\x20\x27','out','take','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','DocumentParser','getBitrate','Failed\x20to\x20commit\x20batch\x20after\x20retries:','dataStores','getContent','pendingHandshakeCandidates','Error\x20processing\x20ingest','NodeAlreadyExist','listFiles','getGenerativeAIWorkers','embed','cancel','addReservedTables','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','validateKey','commit','RemoteMediaStreamMissingProviderId','map','FormSkill','mediaDevices','gpt-4o-mini','JobQueueService:\x20Job\x20completed','collectionId','sendPeakTransactions','generative-ai-worker-already-exists','getChannelData','processPendingSyncTransactions','createAIJob','NodeConnectionsUpdate','searchEngineId','\x20new\x20transactions','setPendingFileSyncingPayload','TestPage','url','SenderPeerConnection.send','invalid-access','FetchUrl','publishFolder','recomputeRoot','pubsubTopics','ExecuteCustomSkill','.css','SystemTopic\x20publish','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','Warning','peer-connection','Hub','getPriority','RoundTripTime','\x20Stream\x20final\x20response','timePerFrame','nodes','/resources/generative-ai-collection/items/','canvas','ready','isMediaDestination','JobWorker:\x20Sending\x20job\x20partial\x20result','kind','Tool','\x20to\x20send\x20dispatcherJob\x20','closeConnection','GenerativeAIWorker:\x20Opened','replaceTrack','CanProvideMediaStream','getNextTargetRank','joinedClusters','waitSendBuffer','ccc','aiSearchApiKey','createBuffer','joinedAt','Sender','CloseGraphDatabase','audio/','getSubscriptionInfo','LocalMediaStreamNoAudioContext','next','transactionQueue','unsubscribeListener','globalObject','mute','Mistlet\x20capacity\x20report\x20not\x20set.','number','ExternalStorageNameNotString','senderTotalMessages','detectStreamIssues','addBatchOperation','generative-ai-context-does-not-exist','isWhereValues','Invalid\x20value.\x20Must\x20be\x20an\x20object.','FormGetQuestion','KeyValueDatabaseAlreadyExists','supported','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','documentPath','LoadSkillFunction','generative-ai','syncResolve','startAt','KeyValueDatabaseInvalidQuery','manageAncestor','from','handleObjectDelete','Archival\x20Search\x20Agent','isChannelEnabled','support','SpeechToText','logRaw','Data\x20Sent','.ipynb','toLocaleDateString','answerContentAvailable','Offline','blocks','Processing\x20agent\x20block:\x20','Feedback\x20Agent','desc','.jsx','resolutionScale','remoteMediaStreams','UnsubscribeMediaStream','subscribeToJobs','authService','isRunning','join','ObjectStorageBucket','processContentSynchronized','MediaStream','remoteUnsubscriber','aws','SyncComplete','Job\x20','relevance','get','data','peerConnectionConnector','JobWorker:\x20Handling\x20job\x20attribution','graph-database-name-not-string','Missing\x20owner\x20node\x20or\x20rank','numeric','listChanges','processRemoteInboundReport','WaitTrue','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','validateAccess','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','https://crewdle-sdk-default-rtdb.firebaseio.com','Job\x20service\x20job\x20not\x20found.','getFullYear','detectLocalIssues','jobs','Invalid\x20node\x20type','canChooseAnswer','getCurrentVersion','workflowId','Missing\x20index','race','connection-invalid-data-event','createWritableStream','UpdateMediaStream','jobObservers','handleDetectionSystemEvents','write','commitLevel','KeyValueDatabasePeakNotFound','transactionIds','realtime-session-create','ConnectionNotinitialized','graph-database-does-not-exist','JobDispatcherAlreadyExists','IntermediateOutput','isReady','handleRemoteTrackFailure','CloseMediaStream','CloseObjectStoreBucket','removeKeyValueDatabase','\x20received\x20partial\x20result:','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','sampleRate','retryQueues','random','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','ceil','isOffer','ReceiverPeerConnection.onMessage','external-storage-invalid-path','messages','image_url','Emitting\x20event\x20on\x20local\x20cluster','ScreenSharing','.cfg','GraphDatabaseAlreadyExists','image-parser','RestartNeedMediaStream','connectionType','pubsub','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','Add','model','shift','startLoggingCycle','addIssue','groupId','combinePeaks','deleteRemoteNode','WordSplitter','result','connect','detectAudioIssues','ObjectStorageUpload','anthropicApiKey','long','RemoteMediaStreamDoesNotExist','Shared','.hs','Invalid\x20version\x20\x27','LocalMediaStreamDoesNotExist','Error\x20writing\x20chunk\x20to\x20stream','initialPrompt','systemMessagesReceived','GraphDatabaseDoesNotExist','rating','getReader','isPromiseResolved','Prompt\x20is\x20required','source','debounceReady','subscribedTracks','maxOutgoingSubscriptions','discoveryUnsubscriber','job-dispatcher-does-not-exist','captureStream','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','propagate','Failed\x20to\x20send\x20job\x20','getPeakNode','KeyValueDatabaseContentSynchronized','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','Attempt\x20','LocalMediaStreamTrackFail','\x20MB','object','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','evaluateBids','currentTimestamp','mediaStream','\x20must\x20be\x20a\x20number','getReceiverTotalBytes','\x20finalized.','orderBy','prompts','workflow-tool','ApiKeyMissing','Missing\x20graph\x20database\x20connector','streamLabel','OutgoingMediaStreamNoTopic','getJobObservable','mmrRoot','ExternalStorageConnectionAlreadySubscribed','everyone','canRestartHandshake','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','tableName','overlap','video/','consumeBufferedEvents','image/','enabledChannels','Publish\x20the\x20transaction','.doc','contentRequestSent','July\x202024','handleSuccess','getLocalId','asc','Outgoing','lastExecuted','Bitrate','unregisterRemoteNode','DataChannel\x20is\x20not\x20open.','prompt_tokens','getEntities','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','VectorDatabase','reads','successNotified','extendedRecipients','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','runJobQueue','lastUpdated','ObjectStore\x20not\x20found','.vue','An\x20error\x20occurred','custom-skill','publishSyncCompletedAfterWrites','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','VectorSearch','serverTimestamp','createElement','GenerativeAIWorkerAlreadyExists','FormSubmitForm','KeyValueDatabaseTableDoesNotExist','currentBatch','getTime','getDTVolatility','claude-3-7-sonnet-latest','trackCallback','Found\x20','publishLocalMediaStream','ExecuteWorkflow','collectStats','createConnection','setInternalId','KeyValueDatabaseInvalidValue','JobWorker:\x20Sending\x20job\x20result','initializeApp','systemMessages','gpt-4o-transcribe','total','isJobAttribution','mistlet-capacity-report-not-set','prototype','updateDebounce','JobDispatcherDoesNotExist','Method\x20not\x20implemented.','MissingRemoteConnection','getRemoteMediaStream','filesSynced','sdkValidateAccess','GenerativeAIEngineType','graph-database-missing-connector','loop','childRemovedUnsubscriber','updateLastTransactionId','WebRTC','getPartsForSubscriptionLabel','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','local-media-stream-no-audio-context','createIncomingSubscription','Invalid\x20data\x20channel.','Stream\x20does\x20not\x20exist','\x20does\x20not\x20support\x20content\x20type\x20','JobWorker:\x20Sending\x20job\x20reject','connectionPool','closeTopic','addEventListener','sendBid','length','JobDispatcherObserverNotFound','checkBackgrounds','getFirestore','Internal\x20error:\x20','KeyValueDatabaseSendTransactions','setItem','if_else','signalingState','ExecuteAgent',',\x20Transactions:\x20','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','/nodes/','object-storage','GenerativeAILabelConflict','streams','indexOf','nodesConnected','Table\x20not\x20found','GenerativeAIContextStats','toString','getPeaks','unregisterCluster','split','createGraphDatabase','createGenerativeAIContextStandalone','unregisterPublisher','appsync-disconnect','CONNECTION_STATE_CHANGE','MissingSystemTopic','.crewdle-layout','TextGeneration','pendingFilesTransactions','clearHeartbeat','createRemoteNode','waitConnected','/chat/completions','clientHeight','Missing\x20RAG\x20API\x20key','getRemoteNode','Node\x20\x27','addProblem','expectedTransactions',',\x20Total\x20Nodes:','node-does-not-exist','removeExternalStorageConnection','Pinecone','packetsSent','getMinConnections','getLocalMediaStreams','reduce','/traces','ObjectStoreCannotWriteTransaction','signOut','topK','Stats:\x20report','logSyncMetrics','status','sort','Before\x20Synchronization','registerPublisher','Knowledge','ContentType','\x20not\x20found.','resolveReady','59244iFVUxs','push','OpenRouter','discover','isValidMediaSubscriptionParams','Joined\x20cluster','track','Subscription\x20request\x20failed.','bandwidth.bitrate','handleSubscriptionMediaStreamUnavailable','PubSubTopicNameNotString','PromptFunctionParamsType','SubscriptionRequestDoesNotExist','validateVendorCredits','handleAnswer','onConnectionStateChange','claude-opus-4-0','FS\x20connector\x20is\x20not\x20available','Error\x20writing\x20file','Data','getAudioVideoDelay','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','FinalOutput','Knowledge\x20Cutoff\x20Date:\x20','Error\x20searching','clearWaitAnswer','setEncodingParameters','clearWaitSuccess','receiverTotalMessages','getTable','submitForm','createJob','processInboundReport','api','speech-create','CPUCycle','_ready','Cannot\x20write\x20transaction.','arrayBufferToObject','question','handlePublishMediaStream','generative-ai-worker-model-sync-error','Connection\x20not\x20connected.','Execute\x20the\x20agent\x20','syncTransactionsWritten','DTVolatility','searchOnGoogle','google/gemini-2.0-flash-lite-001','\x20Stream\x20usage','Debug','startNoThrottlingHack','registerCluster','Error\x20reading\x20file\x20chunk\x20after\x20','replace','handleSubscribeMediaStream','clusters','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','web-scraper-raw','getGraphDatabase','onHandshakeStateChange','Disconnected','publishSyncCompleted','.handlebars','.erb','Valid\x20layout','temperature','DatabaseEvent','remove','committed','KeyValueDatabaseNotOpen','queueLength','ImageParser','June\x202024','StreamReport','generative-ai-context-job-invalid-type','getPubSubTopic','getTransactionFromTableWriteEvent','collection','listenerUnsubscriber','maxConnections','JobStream','addRemoteNode','recipients','.ini','getMaxConnections','connectionState','updatePropagationProperties','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','March\x202025','GenerativeAIModelInputType','table','firebase-connect','not-in','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','graphDatabases','o4-mini','contentRect','oidc','inbound-rtp','SenderSendMessage','notifyClusterNodeUpdate','onloadeddata','answererId','PubSub\x20already\x20exists','Remediation','key-value-database-table-does-not-exist','bind','buildQuery','searchApiKey','Search\x20connector\x20not\x20set','inactive','Search\x20in\x20data\x20collection\x20','floor','August\x202023','setupConnectionEvents','Embed','getRank','getToolParams','Object\x20store\x20connector\x20is\x20not\x20available','publishSystemMessage','nextNodeId','developers/','Processing','processServiceReport','google/gemini-2.5-flash','registerSource','addCluster','inputTokenPrice','WebRTCBrowserPeerConnectionConnector','publishUserUpdate','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','System','eleven_flash_v2_5','framesDecoded','topics','cleanOldSubscription','ObjectStore','addEdge','getToolName','JobType','objectStoreConnector','sage','phi-4-14b','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','messageCallback','request','connection-not-connected','externalStorageConnectors','Key-value\x20database\x20creation\x20failed.','Remove','retryQueue','receivers','text-embedding-3-small','clearOncloseTimeout','createLocalMediaStream','getDataCollection','trackListeners','relations','Node','Cannot\x20publish\x20folder:\x20','Buffering\x20event','bufferedEvents','KeyValueDatabase\x20not\x20found','Attribution','internalProcessJobStream','hasTracks','initializeSystemTopic','getDocs','removeRemoteStreamSubscription','stop','maxDistance','parseWorkflowDocument','vector-database','\x20seconds','registerSystemSource','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','GenerativeAIWorker:\x20FileDelete\x20failed','generative-ai-context-job-already-consumed','Workflow\x20does\x20not\x20exist.','queries','getConnectionType','handleSystemEvents','output-stream','PublishMediaStream','NodeInvalidType','limit','1:420235181083:web:4eff6062bd845cb0748cbe','removeLocalMediaStream','checkDeviceConfig','authContext','.cs','agentId','Restart','disableIntervalHack','No\x20global\x20object\x20found','value','Submit\x20the\x20form.','Interviewer\x20Agent','objectRequests','fps','Anthropic','isComputingMMR','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','\x20answer','sequence','removeItem','QueryBuilderInvalidArgument','speak','Invalid\x20peer\x20connection\x20event\x20destination.','knowledgeCutoffDate','isSubscribed','\x20already\x20exists.','messagesReceived','entity','Cannot\x20unpublish\x20object\x20at\x20','manageBufferedChunks','frameTime','notifyObjectStoreOfNodeLeave','GenerativeAIContextDoesNotExist','stream','workflow','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','isEqual','senderCurrentBytes','setReportCapacity','Transaction','bid','signalingServer','onremovetrack','Conditional\x20Router','Count','job-worker-invalid-type','checkWebRTC','setParams','getQuery','.clj','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','roundTripTime','endpointUrl','readyPromises','KeyValueDatabaseCreationFailed','query-file','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','JobWorker:\x20Error\x20processing\x20job','disconnect','NodeUpdate','text/plain','authNode','.rkt','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','isProduction','nodeUpdate','startTime','receiverBitrate','setPriority','unpublish','element','minResolutionScale','unregisterSystemSource','unsubscribe','stun:','height','additionnalInstructions','handleError','files','MediaStream\x20feature\x20not\x20enabled','max','getWorkflow','processContentAvailable\x20-\x20Peak\x20comparison:','Invalid\x20object\x20store\x20state.','syncContent','Error\x20validating\x20vendor\x20credits','completion_tokens','logger','publishNodeJoin','updateLastUpdated','ConnectionGroup','openVectorDatabase','addConnection','\x20to\x20generate\x20a\x20response.','getRemoteMediaStreams','removeJobWorker','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','append','TextToSpeech','AppSync\x20connection\x20not\x20ready','POST','setSinkId','cpu.time_per_frame','clientWidth','stopNoThrottlingHack','compileStats','loadEnabledChannels','leave','/resources/generative-ai-collection/items','claude-sonnet-4-0','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','FileWrite','AI\x20Worker\x20already\x20exists','handleHandshake','contentType','Generative\x20AI\x20context\x20job\x20timeout.','\x20with\x20response:','KeyValueDatabaseRequestTransactionsValue','codes','handleOptimizationConnectionSuccess','system','warn','subscriptionRequestsQueue','emit','maxDepth','\x27\x20from\x20','GenerativeAIWorkerCreationFailed','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','461166KnfmHh','choices','.\x20Confirmation?\x20','isInternalSDKConfigs','createAnswer','handleProblem','Generative\x20AI\x20context\x20creation\x20failed.','vector-database-already-exists','isJobRequest','.sql','Error\x20processing\x20workflow\x20block','query','failed','createGain','checksum','msalGetAccessToken','CloseExternalStorageConnection','isNodeReady','event','checkExistingPendingFileContent','Model\x20not\x20found','GenerativeAIInferenceToolType','gpt-4o-mini-transcribe','.html','getCapacityReport','G-F7W8KXRKQB','listen','text/','Invalid\x20layout:\x20','shouldContinuePropagation','openedTraces','inputType','frames','.awk','getEstimatedTimestamp','Parameter\x20','getConnection','createSubscription','Bid','endpointMethod','system-stats','chooseAnswer','handleCloseContent','vectors','DataCollectionDoesNotExist','dataUnsubscribers','performCalculation','getKeyValueDatabase','orderByKey','created','operator','engineType','logMMRRebuild','contentManager','chunk-splitter','startBidResponseHandling','setConnectionType','/resources/external-storage/items/','deleteTransactionsForTable','getUserMedia','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Key-value\x20database\x20table\x20does\x20not\x20exist.','Number','meta-llama/llama-4-scout','claude-3-haiku-20240307','ancestors','maxThreshold','getSTVolatility',';base64','senderPreviousTimestamp','outputType','limitToFirst','fileSendingMap','meta-llama/llama-4-maverick','getSubscriptionLabel','agent-join','version','data:','Jitter','getTracks','onProviderChange','ragConnector','GenerativeAIRatingStatus','lastTransactionId','onRemoveTrack','firebaseUnsubscriber','channel','InternalSDKError','Job','content-publish-media','WorkflowInvalidBlockType','Signaling','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','ingestBlocks','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','compareTransactions','DataStream\x20send','object-store-invalid-path','subscriptionRequestTimeouts','executeWorkflow','isPartialResultResponse','cluster-disconnect','.crewdle-last-transaction','AISearch','log','isLoaded','/transactions/','unsubscribeTrackEndedListener','traceLevel','Subscription\x20request\x20has\x20not\x20been\x20answered.','Problem\x20detected:\x20','minConnections','jobDispatchers','receiverPreviousBytes','Remote\x20connection\x20already\x20exists.','isReconnecting','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getInstance','Error\x20fetching\x20URL','ClusterAlreadyJoined','index','SentenceSplitter','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','Support','.txt','object-store-invalid-payload','dedicated','2423156ODTziJ','executeQuery','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','word-splitter','Offer','waitAnswer','Syncing','getExternalStorageConnections','setDoc','outgoing-stream-no-topic','setupListeners','has','setUpgradeTimeout','padStart','@root','values','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','us-east-1','addBidResponse','\x20ms\x0a','sender','sonar-pro','previousTimestamp','getJobWorkers','loggingConnectors','504AUBrRm','JobWorker:\x20Received\x20job\x20request','Online','Opened\x20generative\x20AI\x20worker','getConnections','getBuffer','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','crewdleSDKEnableLogging','reportMetric','Result','receiverPreviousTimestamp','handleSubscriptionNeedMediaStream','InvalidSubscription','remote-inbound-rtp','getDisplayName','LoggingService:\x20logging\x20enabled\x20for','Invalid\x20params','OptimizationConnectionSuccess','Job\x20service\x20observer\x20not\x20found.','getQuestion','authenticateAgent','candidate','handleContentSystemEvents','FolderCreate','hashTransaction','receiver-on-message','storage','Problem','mode','Trend\x20Spotter','getFunctions','data-collection-does-not-exist','handleNodeLeave','commitBatch','GenerativeAIContextJobFailed','delete','.hbs','sender-send-message','GenerativeAITaskType','Error','STVolatility','PeerConnection','peer-connection-invalid-destination','JobContext','SHA-1','body','Invalid\x20publisher.','[DONE]','Insufficient\x20credits','apiUrl','user-update','audio/mpeg','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','writeTransaction','JobStatus','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','add','getConnectionGroup','commitType','requestSubscription','context','maxBpp','createReceiverConnection','pool','openExternalStorageConnection','component','gpt-4o-realtime-preview','setReceiverTimestamp','searchOnPerplexity','Job\x20service\x20creation\x20failed.','Missing\x20remote\x20node\x20or\x20rank','externalStorageConnections','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','RemoteConnectionExists','handleContentUnpublishMediaStream','getEngineType','splitParts','getGraphDatabases','collection-delete','deleteFile','Invalid\x20key:\x20','responseTimeout','setIsLoaded','trace','object-store-not-synced','tables','isArray','InputStream','filteredDestinationIds','statusText','newPath','Wait','validateValue','Image','isNeedRestart','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','open','digest','GenerativeAIContext','pendingFilesRename','handleNoAnswer','Additional\x20context:\x0a','parentId','openGraphDatabase','handleSubscriptionProvideMediaStream','createExternalStorageConnection','syncPendingFiles','getTableConnector','rootComputationPromise','Memory\x20Usage\x20at\x20','ObjectStorage','ExternalStorageConnectionAlreadyExists','prompt','waitForArrayBufferSize','skipEncryption','text/csv','ModelText','crewdle-sdk-logging-','mediaTopics','onValue','head','validation','getLastUpdated','receiverUnsubscribers','cachedRoot','handleFileSync','generative-ai-context-already-exists','fetch-url','registerSubscriber','JobQueueService:\x20Error\x20running\x20job','.js','call','/embeddings','messageListeners','external-storage-name-not-string','openGenerativeAIContext','remote-stream-does-not-exist','handleNodeJoin','1.0.51','KeyValueDatabase\x20-\x20Sync\x20completed','targetId','WebGL','pow','ObjectKind','timestamp','localMediaStreams','displayName','RelationExtractor','String','IngestTrace','gpt-image-1','packets','timeReceiving','No\x20connector\x20found\x20for\x20model','handleRemediationSystemEvents','ObjectStoreNotSynced','handleDisconnect','retrieveBlocks','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','.ejs','getReceiverBitrate','external-storage-upload','gpt-4o-mini-tts','logServiceEvent','InvalidPublisher','vectorDatabases','getRemoteConnections','/workflows/','graphql','priority','trackKinds','internal-sdk-error','audio/wav','removeSubscription','getMaxDistance','Retrieve','JobWorkerDoesNotExist','\x20writes\x20from\x20','isSyncing','peakHeights','removePubSubTopic','Model\x20not\x20found\x20','Missing\x20AI\x20worker\x20connector','logInitialMMR','Speech\x20connector\x20not\x20found\x20for\x20model\x20','pendingFilesSyncing','KeyValueDatabaseTableNameReserved','object-store-stream-does-not-exist','processList','getEmail','getAuth','success','Agent','getRoot','crewdle-sdk-stg.firebaseapp.com','text/event-stream','statsReport','key-value-database-table-name-reserved','destroy','processDataChannelReport','writes','NodeTypeRequired','shared','getShareableStreamId','objectStores','receiverStreams','onConfigurationChange','getAvailableTrackKinds','hasBufferedData','pop','More\x20content\x20available\x20on\x20page\x20','PubSubTopic\x20publish','ImageGeneration','file-delete','hash','getNumberOutgoingSubscriptions','getBid','loadFromDisk','JobWorker:\x20Received\x20job\x20attribution','getObjectStoreBuckets','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','sdk-internal-error:\x20','scheduleTime','/resources/generative-ai-agent/items','October\x202023','GraphDatabase\x20not\x20found','form-skill-set-answer','data:\x20','uuid','right','client','results','Query\x20file\x20connector\x20not\x20set','documentParserConnector','Queued','getTotalNodes','reject','remediationManager','width','not-resolved','input_audio','getJob','retryCallback','logConnectionState','available','publishFile','.cpp','agent-config-changed','Invalid\x20credentials','issues','CloseJobWorker','NodeLeave','eleven_turbo_v2_5','AppSync\x20client\x20not\x20ready','Synced','read','Relation','removeTrack','/jobs','file','executeJavascriptCodeSnippet','external-storage-connectors-missing','Data\x20cluster\x20is\x20not\x20open.','onGatheringStateChange','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','iceConnectionState\x20failed','debounceReadyTimeout','createFolder','\x20after\x20','processContentAvailable','2056446WbFzCS','No\x20RAG\x20connector\x20available','Invalid\x20job\x20type','getWorkflowObjectStorageBuckets','getReport','@context.','Agent\x20group\x20not\x20found','deletePendingFile','isConnected','AudioVideoDelay','getJobs','handleTransactionPayload','job-worker-does-not-exist','cluster-leave','bitrate','RequestAccepted','NodeManager\x20-\x20ConnectionSuccess','clusterId','\x20attempts:','createKeyValueDatabase','outgoingTopic','connection','Object\x20store\x20is\x20not\x20in\x20sync','gen4_turbo','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','internalContext','Consuming\x20buffered\x20event','ElevenLabs','pubSubTopics','key-value-database-not-open','undefined','onCandidate','TimePerFrame','auth','mp3','No\x20file\x20content\x20found','peaks','sendIceCandidates','RunwayML','.groovy','JobWorkerCreationFailed','onClose','.mp3','knowledge','pendingSyncTransactions','authenticateUser','resume','createTopic','SubscriptionRequestFailed','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','setDurationTime','getProviderId','generative-ai-context-job-missing-thread-id','removeEventListener','Connection\x20does\x20not\x20exist','st_volatility','graphDatabaseConnector','generative-ai-worker-missing-connector','getMediaSubscription','completed','internal','missing-incoming-connection','database','Upgrade','removeOutgoingSubscription','Error\x20stringifying\x20object','router','.Total\x20pages\x20available:\x20','key-value-database-name-not-string','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','outgoingStreams','generativeAISpeechConnectors','removeIncomingSubscription','page','isFailedResponse','Subscribing\x20to\x20an\x20event:\x20on','KeyValueDatabaseStats','receiverCurrentBytes','eventListener','tracks','checkAudioContext','Get','size','toStringTag','.yaml','getVectorDatabase','instructions','getClosestNodes','getDataCollections','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string',';base64,','collection-query','configs','getInternalStreamId','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','keyValueDatabases','searchConnector','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','nodeId','checkWebGL','calculateSize','detectProblems','destination','VectorDatabaseAlreadyExists','PromptRating','detectionManager','hasOwnProperty','\x0a\x20\x20===\x20Total\x20Nodes:\x20','buffer','generative-ai-context-invalid-partial-result','handleContentRemoteMediaStreamTrackFail','restartHandshake','Accepted','missing-system-topic','agent-update','developers','IncomingSubscription','notifyObjectStoreOfNodeJoin','Issue\x20detected:\x20','isMediaSource','chunks','storageType','runwayMLAPIKey','onDisconnect','ConnectionBufferNotEmpty','getJobDispatchers','graph-database-already-exists','file.content','generativeAIWorkerConnectors','/transactions','sourceVideo','text-embedding-3-large','Generative\x20AI\x20context\x20job\x20failed.','ExternalStorageConnectorsMissing','node-type-required','Error\x20executing\x20agent','setTimeout','entities','.pl','trim','handleIceCandidates','getId','agent','calculateArrayBufferSize','app','processRank','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','Missing\x20external\x20storage\x20connector','false','timesCalled','.pug','getMonth','collectTransactionsFromNode','inputTokens','Update','.pptx','removeGenerativeAIContext','active','sendChunked','PubSubTopicDoesNotExist','bytesReceived','elevenLabsApiKey','syncKeyValueDatabase','/objectstores/','VideoGeneration','sendReject','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','ref','region','google/gemini-2.5-pro','title','remote-connection-exists','Initial\x20MMR\x20built\x20with','ended','httpsCallable','ingestFile','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','Subject','Logging\x20trace','audioContext','hosting','I\x20have\x20finished\x20executing\x20my\x20task.','\x0a\x20===\x20Total\x20Data\x20Received:\x20','createOffer','o3-mini','registerDestination','Low','async','incomingManager','AudioOutput','readyDebounce','application/octet-stream','vector','FolderMove','tokens','indexes','getToolDescription','update','User\x20not\x20signed\x20in','accessToken','getConnectionDestinations','transformations','logUsage','Crewdle','Receiving\x20\x27','NodeDoesNotExist','Pending','Chosen\x20answer','setDisplayName','DataCollection','upload','processBatch','Cannot\x20find\x20External\x20Storage\x20connection:\x20','dataChannel','queryFileConnector','subscriptionManager','removeRemoteConnection','VectorDatabaseDoesNotExist','json','toLowerCase','GraphDatabaseStats','Invalid\x20workflow\x20block\x20type.','subject','Medium','/resources/generative-ai-workflow/items','Delete','localNode','AppSync\x20publish','logStorage','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','GenerativeAIRagType','statsCollection','flatMap','removeTopic','Ingest','buildTableEvent','SubscriptionRequestNoAnswer','onNodeDisconnect','jobPhase','JobWorker:\x20Tracing\x20not\x20implemented','output','generateClient','job-worker-creation-failed','WorkflowTool','Vector\x20database\x20creation\x20failed.','GenerativeAIWorkerMissingConnector','\x0aAdditional\x20data:\x20','DataStream\x20onMessage','thread-','GetContextResult','AudioContext','resizeHandler','handleJobAttribution','getContentType','createBatchOperation','All','.xml','sendTransactionsValue','modelId','-leave','Disconnect','logDataReceived','instance','RequestFile','DataChannel\x20send\x20error','NeedRestart','KeyValueDatabase','getTotalBytes','runTransaction','QueryFile','getPacketsLostPerc','subscribe','OfficeParser','return\x20this','handleNodeUpdate','RemoteMediaStreamAlreadyExists','tableUnsubscriber','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','systemTopic','Connection\x20already\x20exists','inference','\x27:\x20missing\x20or\x20invalid\x20keyPath','supportsContentType','getPartsFromSubscription','NodeManager\x20-\x20NodeUpdate','signInWithCredential','getTrack','DataChannel\x20buffer\x20is\x20full.','ner','entity-extractor','chunksReceived','Entity','RemoteMediaStreamTrackFail','count','links','PeerConnectionInvalidDestination','webgl','OutgoingSubscription','Blank\x20Agent','includes','Invalid\x20index\x20in\x20table\x20\x27','WebScraper','sendWithRetry','addVideoTrack','GenerativeAIContextAlreadyExists','amd','upgradeTimeout','\x20does\x20not\x20exists','subscriptions','SubscriptionRequestInProgress','ObjectStoreNotInSync','objectToArrayBuffer','January\x202025','set','handleConnectionSuccess','connected','clearConnectionTimeout','NodeJoin','contentMediator','vector-database-creation-failed','addTrack','\x0a\x20===\x20Total\x20Time:\x20','embedding','\x20Process\x20inference\x20final\x20response','Missing\x20vector\x20database\x20connector','framerate','ObjectStoreDoesNotExist','Invalid\x20data\x20event.','retryDelay','crewdle-sdk.appspot.com','onMessage','subscription','arguments','Reranker','registeredListeners','jobWorkers','relation','external-storage-connection-already-exists','copywriter-agent','appendTransactionAndUpdateHashMap','gpt-4o','setSubscriptionRequestTimeout','claude-3-opus-latest','NodeManager\x20-\x20NodeLeave','New\x20MMR\x20Root:\x20','isIceCandidate','Core','crewdle-sdk.firebaseapp.com','No\x20more\x20questions,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','evaluatePartialJob','unregisterSystemPublisher','VectorDatabaseNameNotString','JobWorkerInvalidType','CrewdleConnection\x20handlePeerConnectionSystemEvents','getSentences','VectorDatabase\x20not\x20found','setLoggingConnectors','getMilliseconds','checkAudioVolume','RemoteRemove','queryCollection','query-generator','key','owner','functions','Received\x20ContentSynchronized\x20from\x20','some','error','listener','origin','northamerica-northeast1','clearRestartTimeout','findIndex','docs','closed','input-stream','reportCapacity','setTransformations','queues','min','ObjectStoreAlreadySubscribed','fileChunks','.md','sourceId','toFixed','stringify','instantiateTransactionTable','frameHeight','Cluster','setupStatsReporting','request-file-write','publishSyncCompletedAfterWrites\x20-\x20','getAgents','tail','.sh','senders','Success','GenerativeAIContextJobInvalidType','dbKey','Query\x20is\x20required','Competitive\x20Analysis\x20Agent','sendStats','getConfigs','debounceRebuildMMR','label','state','nlpLibraryConnector','base64','keys','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20â\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20â\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','message','llama-3.2-3b','November\x202024','blockId','tool','framesEncoded','OutputStream','bandwidth.jitter','get-content','WriteFile','__esModule','chosenAnswers','default','remainingTracks','bodyParameters','OpenAI','maxResolution','outgoingManager','handleLocalTrackFailure','renderElement','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','remoteId','mergeParts','getOutgoingOptimizationConnections','taskType','errorDetails'];a0_0x366f=function(){return _0x29b177;};return a0_0x366f();}function a0_0x17d3(_0x36b536,_0x26bf25){const _0x366f40=a0_0x366f();return a0_0x17d3=function(_0x17d376,_0x216b62){_0x17d376=_0x17d376-0x7c;let _0xb5200d=_0x366f40[_0x17d376];return _0xb5200d;},a0_0x17d3(_0x36b536,_0x26bf25);}(function(_0x17d601,_0x5dbcab){const _0x36cf2c=a0_0x17d3,_0x2080a2=_0x17d601();while(!![]){try{const _0x2e0705=-parseInt(_0x36cf2c(0x2f6))/0x1*(parseInt(_0x36cf2c(0x3a2))/0x2)+-parseInt(_0x36cf2c(0x6fe))/0x3+parseInt(_0x36cf2c(0x77d))/0x4+-parseInt(_0x36cf2c(0x140))/0x5+-parseInt(_0x36cf2c(0x5c4))/0x6*(-parseInt(_0x36cf2c(0x796))/0x7)+-parseInt(_0x36cf2c(0x2b7))/0x8+parseInt(_0x36cf2c(0x8a4))/0x9;if(_0x2e0705===_0x5dbcab)break;else _0x2080a2['push'](_0x2080a2['shift']());}catch(_0x5ab138){_0x2080a2['push'](_0x2080a2['shift']());}}}(a0_0x366f,0x64f1d),!function(_0x146123,_0x4ff61d){const _0x5d6501=a0_0x17d3;if(_0x5d6501(0x519)==typeof exports&&_0x5d6501(0x519)==typeof module)module['exports']=_0x4ff61d();else{if(_0x5d6501(0x24d)==typeof define&&define[_0x5d6501(0x9d6)])define([],_0x4ff61d);else{var _0x378353=_0x4ff61d();for(var _0x2006bb in _0x378353)(_0x5d6501(0x519)==typeof exports?exports:_0x146123)[_0x2006bb]=_0x378353[_0x2006bb];}}}(this,()=>((()=>{'use strict';const _0x47ccb7=a0_0x17d3;var _0x51e585={0x14d:(_0x23f97a,_0x4cf27f,_0x256662)=>{const _0x4cfeb4=a0_0x17d3;_0x256662['d'](_0x4cf27f,{'O':()=>_0x12e9b0});const _0x12e9b0={'version':'1.0.51.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x4cfeb4(0xa5),'authDomain':_0x4cfeb4(0x858),'databaseURL':_0x4cfeb4(0x872),'projectId':_0x4cfeb4(0xe9),'storageBucket':_0x4cfeb4(0x2d5),'appId':_0x4cfeb4(0x28c),'functionsRegion':_0x4cfeb4(0xa17)},'apiUrl':_0x4cfeb4(0x3c0),'google':{'searchEngineId':_0x4cfeb4(0x33a)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x4cfeb4(0x78e)}};},0x33b:(_0x111aae,_0x79aa71,_0x521915)=>{_0x521915['d'](_0x79aa71,{'O':()=>_0x13d7ba});const _0x13d7ba={};},0x3e6:(_0x23f231,_0x29c566,_0x6b413f)=>{const _0x414735=a0_0x17d3;_0x6b413f['d'](_0x29c566,{'O':()=>_0x196457});const _0x196457={'version':_0x414735(0x820),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x414735(0xa00),'databaseURL':_0x414735(0x4b9),'projectId':'crewdle-sdk','storageBucket':_0x414735(0x9ee),'messagingSenderId':'420235181083','appId':_0x414735(0x67e),'measurementId':_0x414735(0x717)},'apiUrl':_0x414735(0x126),'aws':{'endpoint':_0x414735(0x31a),'region':'us-east-1'}};},0x20:(_0xcea1fd,_0x4cf768,_0x404345)=>{_0x404345['d'](_0x4cf768,{'O':()=>_0xad892c});const _0xad892c={};}},_0x53b64a={};function _0x1e7e6f(_0x55f59e){var _0x25c366=_0x53b64a[_0x55f59e];if(void 0x0!==_0x25c366)return _0x25c366['exports'];var _0x45b0ea=_0x53b64a[_0x55f59e]={'exports':{}};return _0x51e585[_0x55f59e](_0x45b0ea,_0x45b0ea['exports'],_0x1e7e6f),_0x45b0ea['exports'];}_0x1e7e6f['d']=(_0x4e8e64,_0x52808d)=>{const _0x15fdf2=a0_0x17d3;for(var _0x53ebb7 in _0x52808d)_0x1e7e6f['o'](_0x52808d,_0x53ebb7)&&!_0x1e7e6f['o'](_0x4e8e64,_0x53ebb7)&&Object[_0x15fdf2(0x2a1)](_0x4e8e64,_0x53ebb7,{'enumerable':!0x0,'get':_0x52808d[_0x53ebb7]});},_0x1e7e6f['g']=(function(){const _0xb9cbb9=a0_0x17d3;if(_0xb9cbb9(0x519)==typeof globalThis)return globalThis;try{return this||new Function(_0xb9cbb9(0x9b6))();}catch(_0x8f1be3){if(_0xb9cbb9(0x519)==typeof window)return window;}}()),_0x1e7e6f['o']=(_0xc0a643,_0x15b516)=>Object[_0x47ccb7(0x569)]['hasOwnProperty'][_0x47ccb7(0x819)](_0xc0a643,_0x15b516),_0x1e7e6f['r']=_0x1f74b5=>{const _0x51e251=_0x47ccb7;_0x51e251(0x8c2)!=typeof Symbol&&Symbol[_0x51e251(0x8f7)]&&Object['defineProperty'](_0x1f74b5,Symbol['toStringTag'],{'value':_0x51e251(0x3fb)}),Object[_0x51e251(0x2a1)](_0x1f74b5,_0x51e251(0xa49),{'value':!0x0});};var _0x215585,_0x255268,_0x5300ce,_0x200896={};_0x1e7e6f['r'](_0x200896),_0x1e7e6f['d'](_0x200896,{'KeyValueDatabase':()=>_0x1ce058,'LayoutBuilder':()=>_0x159884,'LoggingChannels':()=>_0x5300ce,'QueryBuilder':()=>_0x42d4f2,'SDK':()=>_0x2aa710,'SDKClientErrorCodes':()=>_0x215585,'TableBuilder':()=>_0x33c236,'logger':()=>_0x1a21a7}),function(_0x7ee0dd){const _0x11bd8b=_0x47ccb7;_0x7ee0dd[_0x11bd8b(0x524)]='api-key-missing',_0x7ee0dd[_0x11bd8b(0x921)]='connection-buffer-not-empty',_0x7ee0dd[_0x11bd8b(0x775)]=_0x11bd8b(0xc6),_0x7ee0dd['ExternalStorageConnectionAlreadyExists']=_0x11bd8b(0x9f6),_0x7ee0dd[_0x11bd8b(0x52a)]=_0x11bd8b(0x334),_0x7ee0dd[_0x11bd8b(0x130)]='external-storage-connection-does-not-exist',_0x7ee0dd[_0x11bd8b(0x92a)]=_0x11bd8b(0x89b),_0x7ee0dd['ExternalStorageInvalidPath']=_0x11bd8b(0x4e0),_0x7ee0dd[_0x11bd8b(0x479)]=_0x11bd8b(0x81c),_0x7ee0dd[_0x11bd8b(0xad1)]='feature-not-enabled',_0x7ee0dd[_0x11bd8b(0x9d5)]=_0x11bd8b(0x814),_0x7ee0dd[_0x11bd8b(0x69e)]=_0x11bd8b(0x47d),_0x7ee0dd['GenerativeAIContextJobMissingThreadId']=_0x11bd8b(0x8d8),_0x7ee0dd[_0x11bd8b(0xa32)]=_0x11bd8b(0x60e),_0x7ee0dd['GenerativeAILabelConflict']=_0x11bd8b(0x1bb),_0x7ee0dd[_0x11bd8b(0x553)]=_0x11bd8b(0x43e),_0x7ee0dd[_0x11bd8b(0x99a)]=_0x11bd8b(0x8dd),_0x7ee0dd['GenerativeAIWorkerModelSyncError']=_0x11bd8b(0x5ed),_0x7ee0dd[_0x11bd8b(0x4e6)]=_0x11bd8b(0x923),_0x7ee0dd[_0x11bd8b(0x503)]=_0x11bd8b(0x4cf),_0x7ee0dd[_0x11bd8b(0xc8)]=_0x11bd8b(0x572),_0x7ee0dd[_0x11bd8b(0x2ed)]=_0x11bd8b(0x4af),_0x7ee0dd['JobDispatcherAlreadyExists']='job-dispatcher-already-exists',_0x7ee0dd[_0x11bd8b(0x56b)]=_0x11bd8b(0x50d),_0x7ee0dd[_0x11bd8b(0x93)]=_0x11bd8b(0x2b0),_0x7ee0dd[_0x11bd8b(0x3ef)]=_0x11bd8b(0xbd),_0x7ee0dd[_0x11bd8b(0x22d)]=_0x11bd8b(0x2a2),_0x7ee0dd[_0x11bd8b(0x13b)]=_0x11bd8b(0x41e),_0x7ee0dd['JobWorkerDoesNotExist']=_0x11bd8b(0x8b0),_0x7ee0dd[_0x11bd8b(0x1e9)]='object-store-already-exists',_0x7ee0dd[_0x11bd8b(0xa21)]=_0x11bd8b(0x2ac),_0x7ee0dd[_0x11bd8b(0x9eb)]=_0x11bd8b(0x851),_0x7ee0dd['ObjectStoreNameNotString']=_0x11bd8b(0x40f),_0x7ee0dd['ObjectStoreInvalidPayload']=_0x11bd8b(0x77b),_0x7ee0dd['ObjectStoreInvalidPath']=_0x11bd8b(0x75f),_0x7ee0dd[_0x11bd8b(0x9db)]=_0x11bd8b(0x280),_0x7ee0dd[_0x11bd8b(0x755)]=_0x11bd8b(0x841),_0x7ee0dd[_0x11bd8b(0x3d1)]=_0x11bd8b(0x449),_0x7ee0dd[_0x11bd8b(0x481)]=_0x11bd8b(0x2c4),_0x7ee0dd['KeyValueDatabaseDoesNotExist']='key-value-database-does-not-exist',_0x7ee0dd[_0x11bd8b(0xdd)]='key-value-database-index-not-found',_0x7ee0dd[_0x11bd8b(0x489)]=_0x11bd8b(0x91),_0x7ee0dd[_0x11bd8b(0x561)]=_0x11bd8b(0x23d),_0x7ee0dd[_0x11bd8b(0x37f)]=_0x11bd8b(0x8e8),_0x7ee0dd[_0x11bd8b(0x609)]=_0x11bd8b(0x8c1),_0x7ee0dd[_0x11bd8b(0x850)]=_0x11bd8b(0x85b),_0x7ee0dd[_0x11bd8b(0x3ce)]='key-value-database-table-not-found',_0x7ee0dd[_0x11bd8b(0x218)]=_0x11bd8b(0x7f),_0x7ee0dd['LocalMediaStreamAlreadyExists']='local-media-stream-already-exists',_0x7ee0dd['LocalMediaStreamNoAudioContext']=_0x11bd8b(0x579),_0x7ee0dd[_0x11bd8b(0xab5)]=_0x11bd8b(0xa7f),_0x7ee0dd[_0x11bd8b(0x944)]=_0x11bd8b(0x189),_0x7ee0dd[_0x11bd8b(0x5ce)]=_0x11bd8b(0x276),_0x7ee0dd[_0x11bd8b(0xd0)]='pub-sub-topic-already-subscribed',_0x7ee0dd[_0x11bd8b(0x692)]=_0x11bd8b(0xaa9),_0x7ee0dd[_0x11bd8b(0x9b8)]='remote-media-stream-already-exists',_0x7ee0dd[_0x11bd8b(0xae4)]=_0x11bd8b(0xa69),_0x7ee0dd[_0x11bd8b(0x9da)]=_0x11bd8b(0x391),_0x7ee0dd[_0x11bd8b(0x2d1)]='node-not-authenticated',_0x7ee0dd[_0x11bd8b(0x67c)]='node-invalid-type',_0x7ee0dd['NodeTypeNotSupported']=_0x11bd8b(0x3a1),_0x7ee0dd['NodeTypeRequired']=_0x11bd8b(0x92b),_0x7ee0dd['VectorDatabaseAlreadyExists']=_0x11bd8b(0x705),_0x7ee0dd['VectorDatabaseDoesNotExist']='vector-database-does-not-exist',_0x7ee0dd[_0x11bd8b(0x3de)]=_0x11bd8b(0x2ef),_0x7ee0dd[_0x11bd8b(0xa04)]='vector-database-name-not-string';}(_0x215585||(_0x215585={}));class _0xb4a92c extends Error{[_0x47ccb7(0x1d1)];constructor(_0x55fb8b,_0x59bb25){const _0x5ebcf6=_0x47ccb7;super(_0x59bb25),this[_0x5ebcf6(0x1d1)]=_0x55fb8b;}}!function(_0x41f8d7){const _0x186345=_0x47ccb7;_0x41f8d7['PubSub']=_0x186345(0x4ea),_0x41f8d7[_0x186345(0x804)]=_0x186345(0x590),_0x41f8d7[_0x186345(0x9af)]=_0x186345(0x286),_0x41f8d7['VectorDatabase']='vector-database',_0x41f8d7['GraphDatabase']=_0x186345(0x186),_0x41f8d7[_0x186345(0x370)]=_0x186345(0x146),_0x41f8d7[_0x186345(0x4a5)]=_0x186345(0x40b),_0x41f8d7[_0x186345(0x7f8)]=_0x186345(0x486);}(_0x255268||(_0x255268={})),function(_0x85123){const _0x3d9195=_0x47ccb7;_0x85123['All']='all',_0x85123[_0x3d9195(0x381)]=_0x3d9195(0xa4b),_0x85123[_0x3d9195(0x1fe)]='connection',_0x85123[_0x3d9195(0x13c)]='connection-state',_0x85123[_0x3d9195(0xa29)]=_0x3d9195(0x302),_0x85123[_0x3d9195(0x416)]='content',_0x85123[_0x3d9195(0x2cd)]='data-stream',_0x85123[_0x3d9195(0x3b6)]=_0x3d9195(0xa84),_0x85123[_0x3d9195(0x10d)]='events',_0x85123[_0x3d9195(0x7bd)]=_0x3d9195(0xa14),_0x85123[_0x3d9195(0x3ec)]=_0x3d9195(0x4bd),_0x85123[_0x3d9195(0x9af)]=_0x3d9195(0x286),_0x85123[_0x3d9195(0x662)]=_0x3d9195(0x2b4),_0x85123[_0x3d9195(0x101)]=_0x3d9195(0x7d5),_0x85123[_0x3d9195(0x37c)]=_0x3d9195(0x4ea),_0x85123[_0x3d9195(0xd2)]=_0x3d9195(0x7af),_0x85123[_0x3d9195(0x62c)]='remediation',_0x85123[_0x3d9195(0x627)]=_0x3d9195(0x7bb),_0x85123['Signaling']='signaling',_0x85123[_0x3d9195(0xab4)]=_0x3d9195(0x133),_0x85123[_0x3d9195(0xad6)]=_0x3d9195(0x9f0),_0x85123['Support']=_0x3d9195(0x48f),_0x85123['System']=_0x3d9195(0x6f6),_0x85123[_0x3d9195(0x2e2)]=_0x3d9195(0x726),_0x85123[_0x3d9195(0x446)]=_0x3d9195(0x1b7),_0x85123[_0x3d9195(0x7bf)]=_0x3d9195(0x453);}(_0x5300ce||(_0x5300ce={}));const _0x46b128=require('@crewdle/web-sdk-types');class _0x42d4f2{[_0x47ccb7(0x709)];constructor(_0x205cac){const _0x10102e=_0x47ccb7;this[_0x10102e(0x709)]={'orderBy':{'key':_0x205cac,'direction':_0x10102e(0x53a)}};}static[_0x47ccb7(0x776)](_0x51de9b){const _0x55a8de=_0x47ccb7;if('string'!=typeof _0x51de9b||0x0===_0x51de9b[_0x55a8de(0x583)])throw new _0xb4a92c(_0x215585[_0x55a8de(0x692)],_0x55a8de(0x905));return new _0x42d4f2(_0x51de9b);}static['validateQuery'](_0x42f3b9){const _0x13a5cb=_0x47ccb7;try{return _0x42d4f2[_0x13a5cb(0x62f)](_0x42f3b9),!0x0;}catch(_0x176f96){return!0x1;}}static[_0x47ccb7(0x62f)](_0x4a5007){const _0x58da64=_0x47ccb7,_0x274318=_0x42d4f2[_0x58da64(0x776)](_0x4a5007[_0x58da64(0x521)]?.[_0x58da64(0xa0f)]??_0x4a5007['where']?.['key']??'');if(_0x4a5007['where']){const _0x12d34a=_0x4a5007['where'];if((_0x42d4f2[_0x58da64(0x171)](_0x12d34a)||_0x42d4f2[_0x58da64(0x47e)](_0x12d34a)||_0x42d4f2[_0x58da64(0x20b)](_0x12d34a))&&_0x274318[_0x58da64(0x201)](_0x12d34a[_0x58da64(0x730)],_0x12d34a[_0x58da64(0x687)]),_0x4a5007['orderBy']?.[_0x58da64(0xa0f)]&&_0x4a5007[_0x58da64(0x521)]?.['key']!==_0x4a5007['where'][_0x58da64(0xa0f)])throw new _0xb4a92c(_0x215585['QueryBuilderInvalidArgument'],_0x58da64(0x451));}return _0x4a5007[_0x58da64(0x521)]&&_0x274318[_0x58da64(0x521)](_0x4a5007[_0x58da64(0x521)][_0x58da64(0x421)]),_0x4a5007[_0x58da64(0x67d)]&&_0x274318[_0x58da64(0x67d)](_0x4a5007['limit']),_0x4a5007[_0x58da64(0x1fb)]&&_0x274318['offset'](_0x4a5007['offset']),_0x274318;}[_0x47ccb7(0x6ae)](){return{...this['query']};}[_0x47ccb7(0x201)](_0x38e1ac,_0x1f15e3){const _0x281a67=_0x47ccb7,_0x102fd1={'key':this[_0x281a67(0x709)]['orderBy'][_0x281a67(0xa0f)],'operator':_0x38e1ac,'value':_0x1f15e3};if(!_0x42d4f2[_0x281a67(0x171)](_0x102fd1)&&!_0x42d4f2[_0x281a67(0x47e)](_0x102fd1)&&!_0x42d4f2[_0x281a67(0x20b)](_0x102fd1))throw new _0xb4a92c(_0x215585[_0x281a67(0x692)],'Invalid\x20where\x20clause');return this['query']['where']=_0x102fd1,this;}[_0x47ccb7(0x521)](_0x4b053e){const _0x25c904=_0x47ccb7;if(_0x25c904(0x53a)!==_0x4b053e&&_0x25c904(0x49a)!==_0x4b053e)throw new _0xb4a92c(_0x215585[_0x25c904(0x692)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x25c904(0x709)]['orderBy'][_0x25c904(0x421)]=_0x4b053e,this;}[_0x47ccb7(0x67d)](_0x3f4081){const _0xf92170=_0x47ccb7;if(_0xf92170(0x478)!=typeof _0x3f4081||_0x3f4081<0x0)throw new _0xb4a92c(_0x215585[_0xf92170(0x692)],_0xf92170(0x5d9));return this[_0xf92170(0x709)][_0xf92170(0x67d)]=_0x3f4081,this;}[_0x47ccb7(0x1fb)](_0x1a3de2){const _0x27892e=_0x47ccb7;if('number'!=typeof _0x1a3de2||_0x1a3de2<0x0)throw new _0xb4a92c(_0x215585[_0x27892e(0x692)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x27892e(0x1fb)]=_0x1a3de2,this;}static[_0x47ccb7(0x171)](_0x235834){const _0x1d962c=_0x47ccb7;if(!(_0x235834&&_0x1d962c(0x519)==typeof _0x235834&&'operator'in _0x235834&&_0x1d962c(0x687)in _0x235834))return!0x1;const {operator:_0xbd989c,value:_0x1a6522}=_0x235834;return!(!['==','!=','>','<','<=','>='][_0x1d962c(0x9d0)](_0xbd989c)||Array[_0x1d962c(0x7ec)](_0x1a6522));}static[_0x47ccb7(0x47e)](_0x33c876){const _0x3811e4=_0x47ccb7;if(!(_0x33c876&&_0x3811e4(0x519)==typeof _0x33c876&&_0x3811e4(0x730)in _0x33c876&&'value'in _0x33c876))return!0x1;const {operator:_0x28180c,value:_0x45ab0a}=_0x33c876;return!(!['in',_0x3811e4(0x620)][_0x3811e4(0x9d0)](_0x28180c)||!Array['isArray'](_0x45ab0a));}static['isWhereBetween'](_0x4427ae){const _0x3ce8ab=_0x47ccb7;if(!(_0x4427ae&&_0x3ce8ab(0x519)==typeof _0x4427ae&&_0x3ce8ab(0x730)in _0x4427ae&&_0x3ce8ab(0x687)in _0x4427ae))return!0x1;const {operator:_0x9a75da,value:_0x16e679}=_0x4427ae;return!(_0x3ce8ab(0x233)!==_0x9a75da||!Array[_0x3ce8ab(0x7ec)](_0x16e679)||0x2!==_0x16e679[_0x3ce8ab(0x583)]);}}class _0x159884{[_0x47ccb7(0x14f)];constructor(_0x384812){const _0xe9ae39=_0x47ccb7;this[_0xe9ae39(0x14f)]={'tables':{},'version':_0x384812};}static['validateLayout'](_0x399dc5){const _0x4681cf=_0x47ccb7;for(const _0x3a4498 in _0x399dc5){if(_0x4681cf(0x74a)!==_0x3a4498&&'tables'!==_0x3a4498)return[!0x1,_0x4681cf(0x147)+_0x3a4498+'\x27\x20in\x20layout'];if(_0x4681cf(0x7eb)===_0x3a4498)for(const _0x23e2fa in _0x399dc5[_0x4681cf(0x7eb)]){if(_0x4681cf(0x3af)!=typeof _0x23e2fa)return[!0x1,_0x4681cf(0xd9)+_0x23e2fa+'\x27'];for(const _0xa100d1 in _0x399dc5[_0x4681cf(0x7eb)][_0x23e2fa]){if(_0x4681cf(0x968)!==_0xa100d1)return[!0x1,_0x4681cf(0x147)+_0xa100d1+_0x4681cf(0x422)+_0x23e2fa+'\x27'];const _0x5d6cb8=_0x399dc5['tables'][_0x23e2fa][_0xa100d1]??[];for(const _0x313e41 of _0x5d6cb8)if(void 0x0===_0x313e41[_0x4681cf(0xe8)]||'string'!=typeof _0x313e41[_0x4681cf(0xe8)])return[!0x1,_0x4681cf(0x9d1)+_0x23e2fa+_0x4681cf(0x9be)];}}else{if(_0x4681cf(0x74a)===_0x3a4498&&'number'!=typeof _0x399dc5[_0x3a4498])return[!0x1,_0x4681cf(0x4fe)+_0x399dc5[_0x3a4498]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x4681cf(0x604)];}static[_0x47ccb7(0x14f)](_0x1e26ab){const _0x596d12=_0x47ccb7,_0x5839f9=new _0x159884(_0x1e26ab);return _0x5839f9['layout'][_0x596d12(0x74a)]=_0x1e26ab,_0x5839f9;}[_0x47ccb7(0x61e)](_0x35570b){const _0x316cda=_0x47ccb7;return this[_0x316cda(0x14f)][_0x316cda(0x7eb)][_0x35570b]={},new _0x33c236(this[_0x316cda(0x14f)][_0x316cda(0x7eb)][_0x35570b]);}[_0x47ccb7(0xadb)](){const _0x1c0573=_0x47ccb7;return this[_0x1c0573(0x14f)];}}class _0x33c236{[_0x47ccb7(0x3d3)];constructor(_0x5480b9){const _0x55f4cc=_0x47ccb7;this[_0x55f4cc(0x3d3)]=_0x5480b9;}[_0x47ccb7(0x776)](_0x2bac82){const _0x1dda4f=_0x47ccb7;return this[_0x1dda4f(0x3d3)][_0x1dda4f(0x968)]=this[_0x1dda4f(0x3d3)]['indexes']??[],this[_0x1dda4f(0x3d3)]['indexes']['push']({'keyPath':_0x2bac82}),this;}}const _0x3db6d7=0x40000,_0x4af52b=0x20000,_0x154809=0x1388,_0x2f6511=_0x47ccb7(0x764),_0x252021=_0x47ccb7(0xe0),_0x6c50cc=_0x47ccb7(0x2d2),_0x69feb3=_0x47ccb7(0x5a1),_0x29b99e=0xdbba0,_0x2d2dac=0x61a8,_0x4a8f96=_0x47ccb7(0x8e0);var _0xabf7fb;!function(_0x17fe31){const _0x1feabf=_0x47ccb7;_0x17fe31[_0x1feabf(0x4ce)]='connection-not-initialized',_0x17fe31[_0x1feabf(0x2d6)]=_0x1feabf(0x656),_0x17fe31[_0x1feabf(0x348)]='connection-no-retry-queue',_0x17fe31['ConnectionInvalidDataEvent']=_0x1feabf(0x4c4),_0x17fe31[_0x1feabf(0x72a)]=_0x1feabf(0x7b5),_0x17fe31[_0x1feabf(0x248)]=_0x1feabf(0x235),_0x17fe31['GenerativeAIContextInvalidPartialResult']=_0x1feabf(0x912),_0x17fe31[_0x1feabf(0x108)]=_0x1feabf(0x675),_0x17fe31['GenerativeAIContextJobFailed']=_0x1feabf(0x22f),_0x17fe31[_0x1feabf(0xa75)]=_0x1feabf(0x2a7),_0x17fe31['GenerativeAIWorkerCreationFailed']=_0x1feabf(0xaa4),_0x17fe31[_0x1feabf(0x374)]='graph-database-creation-failed',_0x17fe31['InvalidDataChannel']='invalid-data-chanel',_0x17fe31['InvalidPublisher']='invalid-publisher',_0x17fe31[_0x1feabf(0x385)]='invalid-subscriber',_0x17fe31[_0x1feabf(0x7a2)]=_0x1feabf(0x377),_0x17fe31[_0x1feabf(0x18c)]=_0x1feabf(0x3e5),_0x17fe31['JobDispatcherInvalidPayload']='job-dispatcher-invalid-payload',_0x17fe31[_0x1feabf(0x3ef)]=_0x1feabf(0xbd),_0x17fe31['JobDispatcherObserverNotFound']='job-dispatcher-observer-not-found',_0x17fe31['JobWorkerCreationFailed']=_0x1feabf(0x997),_0x17fe31['JobWorkerInvalidType']=_0x1feabf(0x6ab),_0x17fe31['KeyValueDatabaseCreationFailed']='key-value-database-creation-failed',_0x17fe31[_0x1feabf(0x4cb)]='key-value-database-peak-not-found',_0x17fe31['KeyValueDatabaseTableDoesNotExist']=_0x1feabf(0x62d),_0x17fe31[_0x1feabf(0x1be)]=_0x1feabf(0xa9b),_0x17fe31[_0x1feabf(0xbf)]='key-value-database-transaction-value-not-set',_0x17fe31[_0x1feabf(0x4ff)]=_0x1feabf(0x250),_0x17fe31['MissingRemoteConnection']=_0x1feabf(0x8e1),_0x17fe31[_0x1feabf(0x5a0)]=_0x1feabf(0x916),_0x17fe31[_0x1feabf(0x375)]=_0x1feabf(0x568),_0x17fe31['ObjectStoreCannotWriteTransaction']=_0x1feabf(0x21a),_0x17fe31[_0x1feabf(0xa70)]=_0x1feabf(0x1e4),_0x17fe31[_0x1feabf(0x195)]=_0x1feabf(0x255),_0x17fe31[_0x1feabf(0x831)]=_0x1feabf(0x7ea),_0x17fe31[_0x1feabf(0x527)]=_0x1feabf(0x786),_0x17fe31[_0x1feabf(0x4fb)]=_0x1feabf(0x81e),_0x17fe31[_0x1feabf(0x436)]=_0x1feabf(0x18d),_0x17fe31[_0x1feabf(0x7df)]=_0x1feabf(0x950),_0x17fe31[_0x1feabf(0x5d0)]=_0x1feabf(0x113),_0x17fe31['SubscriptionRequestFailed']=_0x1feabf(0xa67),_0x17fe31[_0x1feabf(0x991)]=_0x1feabf(0xab6),_0x17fe31[_0x1feabf(0x972)]=_0x1feabf(0x5af),_0x17fe31[_0x1feabf(0x42d)]=_0x1feabf(0x41b),_0x17fe31[_0x1feabf(0x9cc)]=_0x1feabf(0x7c0),_0x17fe31[_0x1feabf(0xae1)]=_0x1feabf(0x9e4),_0x17fe31['WorkflowDoesNotExist']=_0x1feabf(0x3a8),_0x17fe31['WorkflowInvalidBlockType']=_0x1feabf(0x1c8);}(_0xabf7fb||(_0xabf7fb={}));const _0x2fc2a6=new Map([[_0xabf7fb[_0x47ccb7(0x4ce)],_0x47ccb7(0x2c8)],[_0xabf7fb[_0x47ccb7(0x2d6)],_0x47ccb7(0x5ee)],[_0xabf7fb['ConnectionNoRetryQueue'],_0x47ccb7(0x425)],[_0xabf7fb[_0x47ccb7(0x3df)],_0x47ccb7(0x9ec)],[_0xabf7fb['DataCollectionDoesNotExist'],'Data\x20collection\x20does\x20not\x20exist.'],[_0xabf7fb[_0x47ccb7(0x248)],_0x47ccb7(0x704)],[_0xabf7fb['GenerativeAIContextInvalidPartialResult'],_0x47ccb7(0x25c)],[_0xabf7fb[_0x47ccb7(0x108)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0xabf7fb['GenerativeAIContextJobFailed'],_0x47ccb7(0x929)],[_0xabf7fb[_0x47ccb7(0xa75)],_0x47ccb7(0x6f1)],[_0xabf7fb[_0x47ccb7(0x6fc)],'AI\x20worker\x20creation\x20failed.'],[_0xabf7fb[_0x47ccb7(0x374)],_0x47ccb7(0x1b2)],[_0xabf7fb[_0x47ccb7(0xabc)],_0x47ccb7(0x57b)],[_0xabf7fb[_0x47ccb7(0x83a)],_0x47ccb7(0x7c4)],[_0xabf7fb[_0x47ccb7(0x385)],'Invalid\x20subscriber.'],[_0xabf7fb['InvalidSubscription'],'Invalid\x20subscription.'],[_0xabf7fb[_0x47ccb7(0x18c)],_0x47ccb7(0x7db)],[_0xabf7fb[_0x47ccb7(0x199)],'Invalid\x20job\x20service\x20payload.'],[_0xabf7fb['JobDispatcherJobNotFound'],_0x47ccb7(0x4ba)],[_0xabf7fb[_0x47ccb7(0x584)],_0x47ccb7(0x7a8)],[_0xabf7fb[_0x47ccb7(0x8cc)],'Job\x20worker\x20creation\x20failed.'],[_0xabf7fb[_0x47ccb7(0xa05)],_0x47ccb7(0xad0)],[_0xabf7fb['KeyValueDatabaseCreationFailed'],_0x47ccb7(0x658)],[_0xabf7fb[_0x47ccb7(0x4cb)],_0x47ccb7(0xaab)],[_0xabf7fb[_0x47ccb7(0x555)],_0x47ccb7(0x73b)],[_0xabf7fb[_0x47ccb7(0x1be)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0xabf7fb[_0x47ccb7(0xbf)],_0x47ccb7(0x11b)],[_0xabf7fb[_0x47ccb7(0x4ff)],'Local\x20stream\x20does\x20not\x20exist.'],[_0xabf7fb[_0x47ccb7(0x56d)],_0x47ccb7(0x283)],[_0xabf7fb[_0x47ccb7(0x5a0)],_0x47ccb7(0x52d)],[_0xabf7fb[_0x47ccb7(0x375)],_0x47ccb7(0x477)],[_0xabf7fb[_0x47ccb7(0x5b7)],_0x47ccb7(0x5e9)],[_0xabf7fb[_0x47ccb7(0x195)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0xabf7fb[_0x47ccb7(0xa70)],_0x47ccb7(0x6d1)],[_0xabf7fb[_0x47ccb7(0x831)],'Object\x20store\x20not\x20synced.'],[_0xabf7fb['OutgoingMediaStreamNoTopic'],_0x47ccb7(0x2df)],[_0xabf7fb[_0x47ccb7(0x4fb)],_0x47ccb7(0xab)],[_0xabf7fb[_0x47ccb7(0x436)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0xabf7fb['RemoteConnectionExists'],_0x47ccb7(0x770)],[_0xabf7fb[_0x47ccb7(0x5d0)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0xabf7fb[_0x47ccb7(0x8d4)],_0x47ccb7(0x5cb)],[_0xabf7fb[_0x47ccb7(0x991)],_0x47ccb7(0x76b)],[_0xabf7fb[_0x47ccb7(0x972)],'Node\x20does\x20not\x20exist.'],[_0xabf7fb['NodeAlreadyExist'],_0x47ccb7(0x1f7)],[_0xabf7fb['PeerConnectionInvalidDestination'],_0x47ccb7(0x694)],[_0xabf7fb[_0x47ccb7(0xae1)],_0x47ccb7(0x999)],[_0xabf7fb[_0x47ccb7(0x9a)],_0x47ccb7(0x676)],[_0xabf7fb[_0x47ccb7(0x758)],_0x47ccb7(0x982)]]);class _0x20e318 extends Error{[_0x47ccb7(0x1d1)];static [_0x47ccb7(0x6f4)]=_0xabf7fb;[_0x47ccb7(0x4ac)];constructor(_0x357f50,_0x52a789){const _0x5e7361=_0x47ccb7;super(_0x5e7361(0xc7)+_0x357f50+':\x20'+_0x2fc2a6[_0x5e7361(0x4ab)](_0x357f50)+_0x5e7361(0x99b)+JSON[_0x5e7361(0xa26)](_0x52a789)),this[_0x5e7361(0x1d1)]=_0x357f50,this['data']=_0x52a789||{};}}var _0x27c53f,_0x515821,_0x2f8edd,_0x510a9a,_0xb69d83,_0x5e300c,_0x11d238;!function(_0x370845){const _0x26094e=_0x47ccb7;_0x370845[_0x370845[_0x26094e(0x46e)]=0x0]='CloseGraphDatabase',_0x370845[_0x370845['CloseJobDispatcher']=0x1]=_0x26094e(0xaa1),_0x370845[_0x370845[_0x26094e(0x890)]=0x2]='CloseJobWorker',_0x370845[_0x370845[_0x26094e(0x70e)]=0x3]=_0x26094e(0x70e),_0x370845[_0x370845['CloseKeyValueDatabase']=0x4]='CloseKeyValueDatabase',_0x370845[_0x370845['CloseMediaStream']=0x5]=_0x26094e(0x4d4),_0x370845[_0x370845[_0x26094e(0x4d5)]=0x6]=_0x26094e(0x4d5),_0x370845[_0x370845[_0x26094e(0xac8)]=0x7]='ClosePubSubTopic',_0x370845[_0x370845[_0x26094e(0x390)]=0x8]=_0x26094e(0x390),_0x370845[_0x370845['CloseGenerativeAIContext']=0x9]='CloseGenerativeAIContext',_0x370845[_0x370845['ExternalStorageStats']=0xa]=_0x26094e(0x21c),_0x370845[_0x370845[_0x26094e(0x596)]=0xb]=_0x26094e(0x596),_0x370845[_0x370845[_0x26094e(0x298)]=0xc]='GenerativeAIWorkerStats',_0x370845[_0x370845[_0x26094e(0x981)]=0xd]=_0x26094e(0x981),_0x370845[_0x370845[_0x26094e(0xaa8)]=0xe]=_0x26094e(0xaa8),_0x370845[_0x370845[_0x26094e(0x514)]=0xf]=_0x26094e(0x514),_0x370845[_0x370845[_0x26094e(0x1ca)]=0x10]='KeyValueDatabaseRequestPeakTransactions',_0x370845[_0x370845[_0x26094e(0x6f3)]=0x11]=_0x26094e(0x6f3),_0x370845[_0x370845['KeyValueDatabaseSendTransactions']=0x12]=_0x26094e(0x588),_0x370845[_0x370845[_0x26094e(0x8f0)]=0x13]=_0x26094e(0x8f0),_0x370845[_0x370845[_0x26094e(0x2c6)]=0x14]=_0x26094e(0x2c6),_0x370845[_0x370845[_0x26094e(0x517)]=0x15]=_0x26094e(0x517),_0x370845[_0x370845[_0x26094e(0x401)]=0x16]=_0x26094e(0x401),_0x370845[_0x370845['PubSubTopicStats']=0x17]=_0x26094e(0xee),_0x370845[_0x370845[_0x26094e(0x67b)]=0x18]=_0x26094e(0x67b),_0x370845[_0x370845[_0x26094e(0x9c9)]=0x19]=_0x26094e(0x9c9),_0x370845[_0x370845['SubscribeMediaStream']=0x1a]='SubscribeMediaStream',_0x370845[_0x370845[_0x26094e(0x333)]=0x1b]=_0x26094e(0x333),_0x370845[_0x370845['UnsubscribeMediaStream']=0x1c]=_0x26094e(0x49e),_0x370845[_0x370845[_0x26094e(0x4c6)]=0x1d]='UpdateMediaStream',_0x370845[_0x370845[_0x26094e(0x1ec)]=0x1e]=_0x26094e(0x1ec);}(_0x27c53f||(_0x27c53f={})),function(_0x140520){const _0x503567=_0x47ccb7;_0x140520[_0x503567(0x6ed)]='file-write',_0x140520[_0x503567(0x7ad)]='folder-create',_0x140520[_0x503567(0x986)]=_0x503567(0x7b9),_0x140520[_0x503567(0x89)]=_0x503567(0x14c),_0x140520[_0x503567(0x9ac)]=_0x503567(0x1c4),_0x140520['RequestAccepted']='request-accepted',_0x140520[_0x503567(0x37b)]='request-file-sync',_0x140520[_0x503567(0x1d9)]=_0x503567(0xa2b);}(_0x515821||(_0x515821={})),function(_0x1d0dfb){const _0x2ca5cf=_0x47ccb7;_0x1d0dfb[_0x2ca5cf(0x3a7)]=_0x2ca5cf(0x655),_0x1d0dfb['Transaction']=_0x2ca5cf(0xa5b);}(_0x2f8edd||(_0x2f8edd={})),function(_0x1b423d){const _0x4ed4d7=_0x47ccb7;_0x1b423d['Add']=_0x4ed4d7(0x7ce),_0x1b423d[_0x4ed4d7(0x93f)]=_0x4ed4d7(0x96a),_0x1b423d[_0x4ed4d7(0x986)]=_0x4ed4d7(0x7b9);}(_0x510a9a||(_0x510a9a={})),function(_0x1b34fa){const _0x5b59d0=_0x47ccb7;_0x1b34fa['Get']=_0x5b59d0(0x4ab),_0x1b34fa['List']='list',_0x1b34fa[_0x5b59d0(0x6aa)]='count';}(_0xb69d83||(_0xb69d83={})),function(_0x3e26ea){const _0xf93407=_0x47ccb7;_0x3e26ea[_0x3e26ea['Request']=0x0]=_0xf93407(0x3a7),_0x3e26ea[_0x3e26ea[_0xf93407(0x724)]=0x1]=_0xf93407(0x724),_0x3e26ea[_0x3e26ea['Attribution']=0x2]=_0xf93407(0x667),_0x3e26ea[_0x3e26ea[_0xf93407(0x19d)]=0x3]=_0xf93407(0x19d),_0x3e26ea[_0x3e26ea[_0xf93407(0x79f)]=0x4]=_0xf93407(0x79f),_0x3e26ea[_0x3e26ea[_0xf93407(0x226)]=0x5]=_0xf93407(0x226);}(_0x5e300c||(_0x5e300c={})),function(_0x522b83){const _0x5ba099=_0x47ccb7;_0x522b83[_0x522b83[_0x5ba099(0x7bf)]=0x0]='PeerConnection',_0x522b83[_0x522b83[_0x5ba099(0x662)]=0x1]=_0x5ba099(0x662),_0x522b83[_0x522b83[_0x5ba099(0x416)]=0x2]=_0x5ba099(0x416),_0x522b83[_0x522b83[_0x5ba099(0xad6)]=0x3]=_0x5ba099(0xad6),_0x522b83[_0x522b83[_0x5ba099(0xab4)]=0x4]=_0x5ba099(0xab4),_0x522b83[_0x522b83[_0x5ba099(0x3b6)]=0x5]='Detection',_0x522b83[_0x522b83[_0x5ba099(0x62c)]=0x6]=_0x5ba099(0x62c);}(_0x11d238||(_0x11d238={}));class _0x548c4f{[_0x47ccb7(0xa10)];[_0x47ccb7(0xa39)];[_0x47ccb7(0x9bb)];constructor(_0x36cdad,_0x3c75b8){const _0x499dee=_0x47ccb7;this[_0x499dee(0xa10)]=_0x36cdad,this[_0x499dee(0xa39)]=_0x3c75b8;}[_0x47ccb7(0x409)](){const _0x36eb44=_0x47ccb7;return this[_0x36eb44(0xa39)];}['getOwnerId'](){const _0x25ddec=_0x47ccb7;return this[_0x25ddec(0xa10)][_0x25ddec(0x932)]();}[_0x47ccb7(0x85c)](){}[_0x47ccb7(0x84)](_0xe81307){this['systemTopic']=_0xe81307;}['unregisterSystemPublisher'](){const _0x4c7f22=_0x47ccb7;delete this[_0x4c7f22(0x9bb)];}}const _0x19c8f0=require('firebase/firestore');let _0x31022d=_0x1e7e6f(0x14d)['O'];function _0x48ad8e(_0x481dc9){const _0x1f9133=_0x47ccb7;return!(!_0x481dc9||_0x1f9133(0x519)!=typeof _0x481dc9||Array[_0x1f9133(0x7ec)](_0x481dc9));}_0x31022d=function _0x21fc99(_0x21691e,..._0x871554){const _0x31bef7=_0x47ccb7;if(!Array['isArray'](_0x871554)||0x0===_0x871554[_0x31bef7(0x583)])return _0x21691e;const _0x29845b=_0x871554['shift']();if(_0x48ad8e(_0x21691e)&&_0x48ad8e(_0x29845b)){for(const _0x4925e1 in _0x29845b)_0x48ad8e(_0x29845b[_0x4925e1])?(_0x21691e[_0x4925e1]||Object[_0x31bef7(0x3bd)](_0x21691e,{[_0x4925e1]:{}}),_0x21fc99(_0x21691e[_0x4925e1],_0x29845b[_0x4925e1])):Object[_0x31bef7(0x3bd)](_0x21691e,{[_0x4925e1]:_0x29845b[_0x4925e1]});}return _0x21fc99(_0x21691e,..._0x871554);}(_0x31022d,_0x1e7e6f(0x3e6)['O']);const _0x501e0e=_0x31022d,_0x26036f=require('firebase/app'),_0x327ae6=require('firebase/auth'),_0x2b76cc=require('firebase/database'),_0x40e444=require('firebase/functions'),_0x4c8224=require('uuid'),_0x1c71ef=_0x47ccb7(0x31d);class _0x2a3867{static ['instance'];['app'];[_0x47ccb7(0x8c5)];[_0x47ccb7(0xa11)];['database'];['firestore'];[_0x47ccb7(0x23e)];[_0x47ccb7(0x394)];constructor(){const _0x47e879=_0x47ccb7;this[_0x47e879(0x3c7)]();}static['getInstance'](){const _0x2afe72=_0x47ccb7;return _0x2a3867[_0x2afe72(0x9ab)]||(_0x2a3867[_0x2afe72(0x9ab)]=new _0x2a3867()),_0x2a3867[_0x2afe72(0x9ab)];}[_0x47ccb7(0x3c7)](){const _0x2ed2f7=_0x47ccb7;if(!this['app']){let _0x1effea=_0x1c71ef;_0x2ed2f7(0x8c2)!=typeof window&&(_0x1effea=_0x1c71ef+'-'+(0x0,_0x4c8224['v4'])()),this[_0x2ed2f7(0x935)]=(0x0,_0x26036f[_0x2ed2f7(0x563)])(_0x501e0e['firebaseConfig'],''+_0x1effea);}return this[_0x2ed2f7(0x935)];}[_0x47ccb7(0x854)](){const _0x115280=_0x47ccb7;return this[_0x115280(0x8c5)]||(this[_0x115280(0x8c5)]=(0x0,_0x327ae6[_0x115280(0x854)])(this['getApp']())),this[_0x115280(0x8c5)];}['getFunctions'](){const _0x17f977=_0x47ccb7;return this['functions']||(this[_0x17f977(0xa11)]=(0x0,_0x40e444[_0x17f977(0x7b4)])(this[_0x17f977(0x3c7)](),_0x501e0e['firebaseConfig'][_0x17f977(0x21d)])),this['functions'];}[_0x47ccb7(0x39f)](){const _0x3620ba=_0x47ccb7;return this[_0x3620ba(0x8e2)]||(this[_0x3620ba(0x8e2)]=(0x0,_0x2b76cc[_0x3620ba(0x39f)])(this[_0x3620ba(0x3c7)]())),this['database'];}[_0x47ccb7(0x586)](){const _0x1eeb47=_0x47ccb7;return this['firestore']||(this[_0x1eeb47(0x19f)]=(0x0,_0x19c8f0[_0x1eeb47(0x586)])(this[_0x1eeb47(0x3c7)]())),this['firestore'];}async[_0x47ccb7(0x720)](){const _0x140617=_0x47ccb7;if(this[_0x140617(0x23e)]&&this[_0x140617(0x394)]&&Date[_0x140617(0x31e)]()-this[_0x140617(0x394)]<0x493e0)return Date[_0x140617(0x31e)]()+this[_0x140617(0x23e)];const _0xbacba2=this['getDatabase'](),_0x556fce=(0x0,_0x2b76cc[_0x140617(0x94c)])(_0xbacba2,_0x140617(0x3b7));return new Promise(_0xf4298b=>{const _0x1b9a8d=_0x140617;(0x0,_0x2b76cc[_0x1b9a8d(0x80d)])(_0x556fce,_0x45e32d=>{const _0x466a00=_0x1b9a8d;(0x0,_0x2b76cc[_0x466a00(0x100)])(_0x556fce),this['clockSkew']=_0x45e32d[_0x466a00(0x3c9)](),this['lastClockUpdate']=Date[_0x466a00(0x31e)](),_0xf4298b(Date[_0x466a00(0x31e)]()+(this[_0x466a00(0x23e)]??0x0));});});}}const _0x3af573=_0x2a3867[_0x47ccb7(0x773)]();class _0x24c35b{static [_0x47ccb7(0x9ab)];['enabledChannels']=[_0x5300ce['Default']];[_0x47ccb7(0x117)]=!0x1;[_0x47ccb7(0x795)];['vendorId']='';[_0x47ccb7(0x475)];[_0x47ccb7(0x232)]=[];['currentBatch'];['batchTimeout'];['retryLimit']=0xa;['retryDelay']=0x1f4;[_0x47ccb7(0xaaa)]=0x1c2;[_0x47ccb7(0x364)]=0x3e8;constructor(){const _0x28bbdd=_0x47ccb7;if(_0x28bbdd(0x8c2)!=typeof window)this[_0x28bbdd(0x475)]=window;else{if(void 0x0===_0x1e7e6f['g'])throw new Error(_0x28bbdd(0x686));this['globalObject']=_0x1e7e6f['g'];}this['loadEnabledChannels'](),this[_0x28bbdd(0x475)][_0x28bbdd(0x79d)]=_0x31287a=>{const _0x59a517=_0x28bbdd;if(_0x31287a===_0x5300ce[_0x59a517(0x9a4)])return this[_0x59a517(0x533)]=Object[_0x59a517(0xa3d)](_0x5300ce)[_0x59a517(0x437)](_0x212db8=>_0x5300ce[_0x212db8]),void Object[_0x59a517(0xa3d)](_0x5300ce)[_0x59a517(0xa9d)](_0x340974=>{const _0x17e332=_0x59a517,_0x40ed65=_0x340974;localStorage[_0x17e332(0x589)]('crewdle-sdk-logging-'+_0x5300ce[_0x40ed65],_0x17e332(0xf7));});this[_0x59a517(0x533)][_0x59a517(0x9d0)](_0x31287a)||(this[_0x59a517(0x533)]['push'](_0x31287a),localStorage['setItem']('crewdle-sdk-logging-'+_0x31287a,_0x59a517(0xf7)));},this['globalObject'][_0x28bbdd(0x28e)]=_0xfe3ebd=>{const _0x4bd447=_0x28bbdd;if(!_0xfe3ebd||_0xfe3ebd===_0x5300ce[_0x4bd447(0x9a4)])return this[_0x4bd447(0x533)]=[],void Object[_0x4bd447(0xa3d)](_0x5300ce)[_0x4bd447(0xa9d)](_0x42c26e=>{const _0x47efee=_0x4bd447,_0x12d738=_0x42c26e;localStorage[_0x47efee(0x691)](_0x47efee(0x80b)+_0x5300ce[_0x12d738]);});this['enabledChannels'][_0x4bd447(0x9d0)](_0xfe3ebd)&&(this['enabledChannels']=this['enabledChannels'][_0x4bd447(0xac4)](_0x4ae76c=>_0x4ae76c!==_0xfe3ebd),localStorage['removeItem'](_0x4bd447(0x80b)+_0xfe3ebd));},this[_0x28bbdd(0x475)]['crewdleSDKLoggingChannels']=_0x5300ce;}static[_0x47ccb7(0x773)](){const _0x367aeb=_0x47ccb7;try{return _0x24c35b['instance']||(_0x24c35b['instance']=new _0x24c35b()),_0x24c35b[_0x367aeb(0x9ab)];}catch(_0xcc3a7){return console[_0x367aeb(0xa14)](_0x367aeb(0xabf),_0xcc3a7),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x559444){const _0x2a632b=_0x47ccb7;this[_0x2a632b(0x111)]=_0x559444,this[_0x2a632b(0x232)]=[],this['currentBatch']=this[_0x2a632b(0x39c)](),this['batchTimeout']&&(clearTimeout(this[_0x2a632b(0xb0)]),this['batchTimeout']=void 0x0);}['setLoggingConnectors'](_0x4f4136){const _0x14072f=_0x47ccb7;this[_0x14072f(0x795)]=_0x4f4136;}['debug'](_0x239426,..._0x126c2a){const _0x154772=_0x47ccb7;this[_0x154772(0x117)]&&this[_0x154772(0x766)](_0x5300ce[_0x154772(0x381)],_0x154772(0xa3)+_0x239426,..._0x126c2a);}['forceLog'](_0x5a117a,..._0x4c3721){const _0x37e6e9=_0x47ccb7;console[_0x37e6e9(0x766)](_0x5a117a,..._0x4c3721),this[_0x37e6e9(0x795)]&&this[_0x37e6e9(0x795)][_0x37e6e9(0xa9d)](_0x1a4d12=>{const _0x403554=_0x37e6e9;_0x1a4d12[_0x403554(0x766)](_0x5a117a,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x4c3721}});});}[_0x47ccb7(0x766)](_0x118afa,_0x3f3dc1,..._0x3dd654){const _0x5e1886=_0x47ccb7;_0x501e0e[_0x5e1886(0x6be)]||(this[_0x5e1886(0x533)][_0x5e1886(0x9d0)](_0x118afa)&&console[_0x5e1886(0x766)]('Channel\x20\x27'+_0x118afa+'\x27\x0a',new Date()+'\x0a',_0x3f3dc1,..._0x3dd654),this[_0x5e1886(0x795)]&&this[_0x5e1886(0x795)]['forEach'](_0x57361b=>{const _0x33b38e=_0x5e1886;this[_0x33b38e(0x3ca)](_0x57361b)&&_0x57361b[_0x33b38e(0xa7c)]()[_0x33b38e(0x9d0)](_0x118afa)&&_0x57361b[_0x33b38e(0x766)](_0x3f3dc1,{'vendorId':this[_0x33b38e(0x111)],'nodeId':'','nodeType':'','data':{'channel':_0x118afa,..._0x3dd654}});}));}[_0x47ccb7(0x491)](_0x28dd2a,_0x506729,..._0x4ae3bf){const _0x5aed04=_0x47ccb7;_0x501e0e[_0x5aed04(0x6be)]||(this[_0x5aed04(0x533)][_0x5aed04(0x9d0)](_0x28dd2a)&&console[_0x5aed04(0x766)](_0x506729,..._0x4ae3bf),this['loggingConnectors']&&this[_0x5aed04(0x795)]['forEach'](_0xc672d6=>{const _0xf1d42f=_0x5aed04;this['isInternalLoggingConnector'](_0xc672d6)&&_0xc672d6[_0xf1d42f(0xa7c)]()[_0xf1d42f(0x9d0)](_0x28dd2a)&&_0xc672d6[_0xf1d42f(0x766)](_0x506729,{'vendorId':this[_0xf1d42f(0x111)],'nodeId':'','nodeType':'','data':{'channel':_0x28dd2a,..._0x4ae3bf}});}));}['logEvent'](_0x4ee57d,_0x10e025){const _0x380032=_0x47ccb7;if(!this[_0x380032(0x795)])return;const _0x591373={'vendorId':this[_0x380032(0x111)],..._0x10e025};this[_0x380032(0x795)]['forEach'](_0x1097d1=>{_0x1097d1['log'](_0x4ee57d,_0x591373);});}[_0x47ccb7(0x839)](_0x57d928,_0x4d95af){const _0x450a9f=_0x47ccb7;this[_0x450a9f(0x9a3)](_0x57d928,_0x4d95af),this['logBatch']();}[_0x47ccb7(0x989)](_0xc2bc57,_0x1a5613,_0x592138){const _0xc4bea5=_0x47ccb7;(0x0,_0x19c8f0[_0xc4bea5(0x785)])((0x0,_0x19c8f0['doc'])(_0x3af573[_0xc4bea5(0x586)](),_0xc4bea5(0x63d)+this['vendorId']+'/'+_0xc2bc57+'/'+_0x1a5613),{'storage':_0x592138,'timestamp':(0x0,_0x19c8f0[_0xc4bea5(0x551)])()});}['logBatch'](){const _0x860a0d=_0x47ccb7;this[_0x860a0d(0x556)]&&(this[_0x860a0d(0x556)][_0x860a0d(0x15b)]+=0x1,this[_0x860a0d(0x556)][_0x860a0d(0x15b)]===this[_0x860a0d(0xaaa)]?this[_0x860a0d(0x978)]():this['batchTimeout']||(this[_0x860a0d(0xb0)]=this['globalObject'][_0x860a0d(0x92d)](()=>this['processBatch'](),this[_0x860a0d(0x364)])));}async[_0x47ccb7(0x978)](){const _0x530239=_0x47ccb7;if(this[_0x530239(0x556)]){for(this[_0x530239(0x232)]['push'](this[_0x530239(0x556)]),this['currentBatch']=this[_0x530239(0x39c)]();this[_0x530239(0x232)][_0x530239(0x583)]>0x0;){const _0x247fd1=this[_0x530239(0x232)]['shift']();if(!await this[_0x530239(0x7b7)](_0x247fd1))break;}clearTimeout(this[_0x530239(0xb0)]),this[_0x530239(0xb0)]=void 0x0;}}['error'](_0x4d14cd,_0x2da91a,..._0xaf94eb){const _0x1812ef=_0x47ccb7;if(console[_0x1812ef(0xa14)](new Date(),_0x4d14cd,_0x2da91a,..._0xaf94eb),this[_0x1812ef(0x795)]){const _0x1f66cc={'vendorId':this[_0x1812ef(0x111)],..._0x2da91a};this[_0x1812ef(0x795)][_0x1812ef(0xa9d)](_0x33b237=>{const _0x1989f1=_0x1812ef;_0x33b237[_0x1989f1(0xa14)](_0x4d14cd,_0x1f66cc);});}}[_0x47ccb7(0x1b8)](_0x58a941,_0x1de567,..._0x3406b0){const _0x42021f=_0x47ccb7;if(console[_0x42021f(0x6f7)](new Date(),_0x58a941,_0x1de567,_0x3406b0),this[_0x42021f(0x795)]){const _0x2ac2c7={'vendorId':this[_0x42021f(0x111)],..._0x1de567};this['loggingConnectors'][_0x42021f(0xa9d)](_0x3e00e9=>{const _0x26419c=_0x42021f;_0x3e00e9[_0x26419c(0x6f7)](_0x58a941,_0x2ac2c7);});}}[_0x47ccb7(0x48e)](_0x52c678){const _0x17a7d6=_0x47ccb7;return this['enabledChannels'][_0x17a7d6(0x9d0)](_0x52c678);}async[_0x47ccb7(0x7b7)](_0x4e6aa8,_0x17358f=0x0){const _0x59c804=_0x47ccb7;if(_0x4e6aa8[_0x59c804(0x15b)]>0x0)try{return await _0x4e6aa8[_0x59c804(0xae3)][_0x59c804(0x435)](),!0x0;}catch(_0x3d72b3){if(console[_0x59c804(0xa14)](_0x59c804(0x1fd),_0x3d72b3,_0x59c804(0xaa3),_0x4e6aa8[_0x59c804(0x325)]),!(_0x17358f<this['retryLimit'])){const {nodeId:_0x55af45='',nodeType:_0x489aeb='',clusterId:_0x479d5f=''}=_0x4e6aa8[_0x59c804(0x325)][0x0][_0x59c804(0x4ac)],_0x2dc14a={'nodeId':_0x55af45,'nodeType':_0x489aeb,'clusterId':_0x479d5f,'data':{'operations':_0x4e6aa8[_0x59c804(0x325)],'error':_0x3d72b3}};return this[_0x59c804(0xa14)](_0x59c804(0x428),_0x2dc14a),!0x1;}{const _0x43927a=this[_0x59c804(0x8c)](_0x4e6aa8[_0x59c804(0x325)]);setTimeout(()=>this['commitBatch'](_0x43927a,_0x17358f+0x1),this[_0x59c804(0x9ed)]*Math['pow'](0x2,_0x17358f));}}}[_0x47ccb7(0x6e8)](){const _0x1fe9e6=_0x47ccb7;try{Object['keys'](_0x5300ce)[_0x1fe9e6(0xa9d)](_0x4a675a=>{const _0x2a7be3=_0x1fe9e6,_0x3822a5=_0x4a675a;localStorage[_0x2a7be3(0xa8e)](_0x2a7be3(0x80b)+_0x5300ce[_0x3822a5])&&(console[_0x2a7be3(0x766)](_0x2a7be3(0x7a5),_0x5300ce[_0x3822a5]),this[_0x2a7be3(0x533)][_0x2a7be3(0x5c5)](_0x5300ce[_0x3822a5]));});}catch(_0x5e7590){}}[_0x47ccb7(0x3ca)](_0x112b6d){return void 0x0!==_0x112b6d['getEnabledChannels'];}[_0x47ccb7(0x39c)](){const _0x5185f3=_0x47ccb7;return{'batch':(0x0,_0x19c8f0[_0x5185f3(0x3bb)])(_0x3af573['getFirestore']()),'operations':[],'counter':0x0};}['createBatch'](_0x46b1cd){const _0x1d929c=_0x47ccb7,_0x96525d=(0x0,_0x19c8f0[_0x1d929c(0x3bb)])(_0x3af573[_0x1d929c(0x586)]());return _0x46b1cd[_0x1d929c(0xa9d)](_0x494cd3=>this[_0x1d929c(0x47c)](_0x96525d,_0x494cd3)),{'batch':_0x96525d,'operations':_0x46b1cd,'counter':_0x46b1cd[_0x1d929c(0x583)]};}['addBatchOperation'](_0x1651b6,_0x440cb7){const _0x169eb9=_0x47ccb7;switch(_0x440cb7[_0x169eb9(0x96)]){case _0x169eb9(0x9de):_0x1651b6['set'](_0x440cb7['ref'],_0x440cb7[_0x169eb9(0x4ac)]);break;case _0x169eb9(0x96a):_0x1651b6['update'](_0x440cb7[_0x169eb9(0x94c)],_0x440cb7[_0x169eb9(0x4ac)]);break;case _0x169eb9(0x7b9):_0x1651b6[_0x169eb9(0x7b9)](_0x440cb7[_0x169eb9(0x94c)]);}}[_0x47ccb7(0x9a3)](_0x310c29,_0x48b5e2){const _0x314400=_0x47ccb7;this[_0x314400(0x556)]||(this[_0x314400(0x556)]=this[_0x314400(0x39c)]());const _0x179199=(0x0,_0x19c8f0['doc'])((0x0,_0x19c8f0[_0x314400(0x611)])(_0x3af573[_0x314400(0x586)](),_0x314400(0x63d)+this[_0x314400(0x111)]+'/logs')),_0x28d6fa={..._0x48b5e2,'service':_0x310c29,'timestamp':(0x0,_0x19c8f0[_0x314400(0x551)])()},_0x461c08={'type':'set','path':_0x179199['path'],'ref':_0x179199,'data':_0x28d6fa};return this[_0x314400(0x556)]['operations'][_0x314400(0x5c5)](_0x461c08),this[_0x314400(0x47c)](this['currentBatch'][_0x314400(0xae3)],_0x461c08),_0x179199;}}const _0x1a21a7=_0x24c35b['getInstance']();function _0x1288d6(_0x3d297d,_0x1f9cb8){return'/'===_0x3d297d?_0x3d297d+_0x1f9cb8:_0x3d297d+'/'+_0x1f9cb8;}function _0x28585c(_0x58d923){const _0x10517f=_0x47ccb7,_0x4dd526=function(_0x55693d){const _0x9fd10b=a0_0x17d3;return _0x55693d[_0x9fd10b(0x59a)]('/')['filter'](_0x425e87=>_0x425e87[_0x9fd10b(0x583)]>0x0);}(_0x58d923),_0x205966=_0x4dd526[_0x10517f(0x867)]()||'',_0x3488d7=_0x4dd526['join']('/');return[0x0===_0x3488d7[_0x10517f(0x583)]?'/':_0x3488d7,_0x205966];}async function _0x437b3c(_0x107aa1){const _0x1095bc=_0x47ccb7;let _0x3ba983;const _0x1cda5f=_0x107aa1[_0x1095bc(0x8f6)]/0x100000;_0x3ba983=_0x1cda5f<=0xa?0x1:_0x1cda5f<=0x64?0.5:_0x1cda5f<=0x1f4?0.1:0.05;const _0x4b5cf5=Math[_0x1095bc(0x4dd)](_0x107aa1[_0x1095bc(0x8f6)]/_0x3db6d7),_0x295bbc=Math[_0x1095bc(0x4dd)](_0x4b5cf5*_0x3ba983);let _0x4b6127=new Uint8Array();for(let _0x1dfd16=0x0;_0x1dfd16<_0x295bbc;_0x1dfd16++){const _0x441793=Math[_0x1095bc(0x634)](_0x1dfd16/_0x295bbc*_0x107aa1[_0x1095bc(0x8f6)]);let _0xd219ea=_0x441793+_0x3db6d7;_0xd219ea>_0x107aa1[_0x1095bc(0x8f6)]&&(_0xd219ea=_0x107aa1[_0x1095bc(0x8f6)]);const _0x1b9451=_0x107aa1[_0x1095bc(0xa9c)](_0x441793,_0xd219ea),_0x470202=await _0x1b9451[_0x1095bc(0x1a3)](),_0x3918cf=new Uint8Array([..._0x4b6127,...new Uint8Array(_0x470202)]);_0x4b6127=new Uint8Array(await crypto[_0x1095bc(0x197)][_0x1095bc(0x7f7)](_0x1095bc(0x1d6),_0x3918cf));}return Array[_0x1095bc(0x48b)](new Uint8Array(_0x4b6127))[_0x1095bc(0x437)](_0x2f89b1=>_0x2f89b1[_0x1095bc(0x597)](0x10)[_0x1095bc(0x78a)](0x2,'0'))['join']('');}async function*_0x59b472(_0x130c73,_0x52cfce=0x0,_0x5179bc){const _0x5a089e=_0x47ccb7;let _0x4d3fcb=_0x52cfce*_0x4af52b,_0x3d638d=_0x130c73;for(;_0x4d3fcb<_0x3d638d['size'];){let _0x506906=_0x4d3fcb+_0x4af52b;_0x506906>_0x3d638d[_0x5a089e(0x8f6)]&&(_0x506906=_0x3d638d[_0x5a089e(0x8f6)]);let _0x341e6b=0x0;for(;_0x341e6b<0x14;)try{await _0x5179bc?.();const _0x296c0a=_0x3d638d[_0x5a089e(0xa9c)](_0x4d3fcb,_0x506906,_0x5a089e(0x964)),_0xbd3db6=await _0x296c0a[_0x5a089e(0x1a3)]();yield _0xbd3db6,_0x4d3fcb=_0x506906,await new Promise(_0x114790=>setTimeout(_0x114790,0x0));break;}catch(_0x311e4b){if(console['error'](_0x5a089e(0x5f8)+(_0x341e6b+0x1)+_0x5a089e(0x8b6),_0x311e4b),_0x341e6b++,_0x341e6b>0x14)throw _0x311e4b;let _0x2e25d6=0x3e8*Math[_0x5a089e(0x824)](0x2,_0x341e6b);_0x2e25d6>0x7530&&(_0x2e25d6=0x7530),await new Promise(_0x7cf35c=>setTimeout(_0x7cf35c,_0x2e25d6));}}}class _0x52f39d extends _0x548c4f{['outgoingTopic'];['incomingTopic'];[_0x47ccb7(0xa22)]=new Map();[_0x47ccb7(0x315)]=0x0;['messagesReceived']=0x0;['bytesSent']=0x0;[_0x47ccb7(0x945)]=0x0;constructor(_0x33af04,_0xb8e18b){super(_0x33af04,_0xb8e18b);}[_0x47ccb7(0x409)](){const _0x14523e=_0x47ccb7;return this[_0x14523e(0xa39)];}[_0x47ccb7(0xa6a)](){const _0x392bce=_0x47ccb7;return this[_0x392bce(0xa39)];}[_0x47ccb7(0x9a2)](){const _0x33822f=_0x47ccb7;return _0x46b128[_0x33822f(0x5c1)][_0x33822f(0x5d7)];}[_0x47ccb7(0x901)](){const _0x5562a2=_0x47ccb7;return this[_0x5562a2(0xa39)];}[_0x47ccb7(0x5bf)](_0x357a3e){const _0x4c124c=_0x47ccb7;if(this[_0x4c124c(0x8b8)])throw new _0x20e318(_0x20e318[_0x4c124c(0x6f4)][_0x4c124c(0x83a)],{'message':_0x4c124c(0x138)+this[_0x4c124c(0xa10)]['getId']()+_0x4c124c(0x8b)+this['label'],'topic':this['outgoingTopic']});this[_0x4c124c(0x8b8)]=_0x357a3e;}[_0x47ccb7(0x816)](_0x3f1100){const _0x4cee00=_0x47ccb7;if(this[_0x4cee00(0x21f)])throw new _0x20e318(_0x20e318['codes'][_0x4cee00(0x385)],{'message':_0x4cee00(0x6ec)+this[_0x4cee00(0xa10)][_0x4cee00(0x932)]()+_0x4cee00(0x8b)+this[_0x4cee00(0xa39)],'topic':this['incomingTopic']});this['incomingTopic']=_0x3f1100;}[_0x47ccb7(0x59d)](){const _0x4a6001=_0x47ccb7;delete this[_0x4a6001(0x8b8)];}[_0x47ccb7(0x257)](){const _0x1e6fc2=_0x47ccb7;delete this[_0x1e6fc2(0x21f)];}async['send'](_0x56bb77,_0x50a618){const _0x4c7fe8=_0x47ccb7;if(_0x1a21a7['log'](_0x5300ce[_0x4c7fe8(0x2cd)],_0x4c7fe8(0x75e),this[_0x4c7fe8(0xa10)]['getId'](),_0x56bb77,_0x50a618),this[_0x4c7fe8(0x315)]+=0x1,_0x56bb77 instanceof File){const _0xc6b387=await async function(_0x107df3){const _0x152027=_0x4c7fe8,_0x4f76cd=[];for await(const _0xf26b5e of _0x59b472(_0x107df3))_0x4f76cd[_0x152027(0x5c5)](_0xf26b5e);return _0x4f76cd;}(_0x56bb77);return this[_0x4c7fe8(0x1e8)]+=_0xc6b387['reduce']((_0x167ef0,_0x1be49e)=>_0x167ef0+_0x1be49e['byteLength'],0x0),void _0xc6b387[_0x4c7fe8(0xa9d)]((_0x415c90,_0x54f565)=>{const _0xf0687c=_0x4c7fe8;this[_0xf0687c(0x8b8)]['publish']({'sourceId':this[_0xf0687c(0xa10)][_0xf0687c(0x932)](),'destinationIds':_0x50a618,'propagate':!0x0,'contentType':_0x46b128[_0xf0687c(0x5c1)][_0xf0687c(0x3ae)],'content':{'name':_0x56bb77[_0xf0687c(0xd7)],'type':_0x56bb77['type'],'data':_0x415c90,'index':_0x54f565,'total':_0xc6b387[_0xf0687c(0x583)]}});});}this[_0x4c7fe8(0x1e8)]+=JSON[_0x4c7fe8(0xa26)](_0x56bb77)['length'],this['outgoingTopic'][_0x4c7fe8(0x19c)]({'sourceId':this[_0x4c7fe8(0xa10)][_0x4c7fe8(0x932)](),'destinationIds':_0x50a618,'propagate':!0x0,'contentType':_0x46b128['ContentType'][_0x4c7fe8(0x5d7)],'content':_0x56bb77});}[_0x47ccb7(0x9ef)](_0x4668a7){const _0x568ae7=_0x47ccb7;return this[_0x568ae7(0x21f)][_0x568ae7(0x9b4)](_0x1fafc8=>{const _0x26e39e=_0x568ae7;switch(_0x1a21a7[_0x26e39e(0x766)](_0x5300ce['DataStream'],_0x26e39e(0x99c),this[_0x26e39e(0xa10)][_0x26e39e(0x932)](),_0x1fafc8),_0x1fafc8[_0x26e39e(0x6f0)]){case _0x46b128[_0x26e39e(0x5c1)][_0x26e39e(0x5d7)]:this[_0x26e39e(0x698)]+=0x1,this[_0x26e39e(0x945)]+=JSON['stringify'](_0x1fafc8[_0x26e39e(0x3d9)])['length'],_0x4668a7(_0x1fafc8[_0x26e39e(0xa24)],_0x1fafc8['content']);break;case _0x46b128[_0x26e39e(0x5c1)][_0x26e39e(0x3ae)]:this['fileChunks'][_0x26e39e(0x788)](_0x1fafc8[_0x26e39e(0x3d9)]['name'])||this['fileChunks'][_0x26e39e(0x9de)](_0x1fafc8['content'][_0x26e39e(0xd7)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x23d8e4=this['fileChunks']['get'](_0x1fafc8['content'][_0x26e39e(0xd7)]);if(_0x23d8e4[_0x26e39e(0x9c7)]+=0x1,_0x23d8e4['bytesReceived']+=_0x1fafc8['content'][_0x26e39e(0x4ac)][_0x26e39e(0xab2)],_0x23d8e4[_0x26e39e(0x3d9)]&&(_0x23d8e4[_0x26e39e(0x3d9)][_0x1fafc8['content'][_0x26e39e(0x776)]]=_0x1fafc8[_0x26e39e(0x3d9)]['data']),this['fileChunks'][_0x26e39e(0x9de)](_0x1fafc8['content']['name'],_0x23d8e4),_0x23d8e4[_0x26e39e(0x9c7)]+0x1<_0x1fafc8[_0x26e39e(0x3d9)][_0x26e39e(0x566)])return;this['messagesReceived']+=0x1,this[_0x26e39e(0x945)]+=_0x23d8e4[_0x26e39e(0x945)],_0x23d8e4[_0x26e39e(0x3d9)]&&_0x4668a7(_0x1fafc8[_0x26e39e(0xa24)],(_0x40e831=_0x23d8e4['content'],_0x513283=_0x1fafc8[_0x26e39e(0x3d9)]['name'],_0xeec45d=_0x1fafc8[_0x26e39e(0x3d9)][_0x26e39e(0x96)],new File(_0x40e831,_0x513283,{'type':_0xeec45d}))),this['fileChunks'][_0x26e39e(0x7b9)](_0x1fafc8['content'][_0x26e39e(0xd7)]);}var _0x40e831,_0x513283,_0xeec45d;});}}function _0x4aa13e(){const _0x1d7a50=_0x47ccb7;let _0x428eff=[];return{'subscribe':_0x3ccee5=>(_0x428eff[_0x1d7a50(0x5c5)](_0x3ccee5),()=>{const _0x2d8011=_0x1d7a50;_0x428eff=_0x428eff[_0x2d8011(0xac4)](_0x1ac62f=>_0x1ac62f!==_0x3ccee5);}),'publish':_0x562516=>{_0x428eff['forEach'](_0x4da224=>_0x4da224(_0x562516));}};}function _0x25dd72(){let _0x25665d;return{'subscribe':_0x2c2077=>(_0x25665d=_0x2c2077,()=>{_0x25665d=void 0x0;}),'publish':_0x5a0d82=>{_0x25665d&&_0x25665d(_0x5a0d82);}};}class _0x1d8c89{[_0x47ccb7(0x275)];[_0x47ccb7(0x52e)];[_0x47ccb7(0xa87)];[_0x47ccb7(0x8f2)]=_0x25dd72();[_0x47ccb7(0x612)];constructor(_0x4d5096,_0x1a8b25,_0x241e61){const _0x15b292=_0x47ccb7;this[_0x15b292(0x275)]=_0x4d5096,this[_0x15b292(0x52e)]=_0x1a8b25,this['tableObserver']=_0x241e61;}[_0x47ccb7(0x85c)](){const _0x40e0a3=_0x47ccb7;this[_0x40e0a3(0x612)]?.();}async[_0x47ccb7(0x4ab)](_0x56c781){const _0xb4db17=_0x47ccb7,_0x55ec3a={'key':_0x56c781,'tableName':this['tableName'],'action':_0xb69d83[_0xb4db17(0x8f5)]};return this[_0xb4db17(0xa87)][_0xb4db17(0x19c)](_0x55ec3a),this['connector']['get'](_0x56c781);}async[_0x47ccb7(0x9de)](_0x174a78,_0x462aba,_0x41ecdf=!0x0){const _0xf3070e=_0x47ccb7;this[_0xf3070e(0x7f2)](_0x462aba);const _0x499eee=await this[_0xf3070e(0x275)][_0xf3070e(0x4ab)](_0x174a78),_0x4d0d21=await this['connector']['set'](_0x174a78,_0x462aba),_0x2aefbf=_0x499eee?_0x510a9a['Update']:_0x510a9a[_0xf3070e(0x4ec)];if(this['publish'](_0x2aefbf,_0x4d0d21),!_0x41ecdf)return _0x4d0d21;const _0x2d7b71={'key':_0x174a78,'tableName':this[_0xf3070e(0x52e)],'action':_0x2aefbf,'value':_0x4d0d21};return this[_0xf3070e(0xa87)][_0xf3070e(0x19c)](_0x2d7b71),_0x4d0d21;}async['add'](_0x46d7ff){const _0x1ef549=_0x47ccb7;this[_0x1ef549(0x7f2)](_0x46d7ff);const _0x11ff24=await this[_0x1ef549(0x275)][_0x1ef549(0x7ce)](_0x46d7ff),_0x2d8223={'key':_0x11ff24['id'],'tableName':this['tableName'],'action':_0x510a9a['Add'],'value':_0x11ff24};return this[_0x1ef549(0xa87)][_0x1ef549(0x19c)](_0x2d8223),this[_0x1ef549(0x19c)](_0x2d8223['action'],_0x11ff24),_0x11ff24;}async[_0x47ccb7(0x7b9)](_0x13db74,_0x26c3eb=!0x0){const _0x19f8cb=_0x47ccb7,_0x4cee8a=await this['connector'][_0x19f8cb(0x4ab)](_0x13db74);if(!_0x4cee8a)return;await this[_0x19f8cb(0x275)][_0x19f8cb(0x7b9)](_0x13db74);const _0x500a70=_0x510a9a[_0x19f8cb(0x986)];if(this[_0x19f8cb(0x19c)](_0x500a70,_0x4cee8a),!_0x26c3eb)return;const _0x14aed7={'key':_0x13db74,'tableName':this[_0x19f8cb(0x52e)],'action':_0x500a70,'value':_0x4cee8a};this[_0x19f8cb(0xa87)]['publish'](_0x14aed7);}async[_0x47ccb7(0x30f)](){const _0x1ce51a=_0x47ccb7,_0x39a188=await this[_0x1ce51a(0x296)]();for(const _0xcb5e37 of _0x39a188){const _0x3dd3fb=_0x510a9a[_0x1ce51a(0x986)];this[_0x1ce51a(0x19c)](_0x3dd3fb,_0xcb5e37);const _0x38c9bd={'key':_0xcb5e37['id'],'tableName':this['tableName'],'action':_0x3dd3fb,'value':_0xcb5e37};this[_0x1ce51a(0xa87)][_0x1ce51a(0x19c)](_0x38c9bd);}return this[_0x1ce51a(0x275)][_0x1ce51a(0x30f)]();}async['list'](_0x1dd205){const _0x4b06a8=_0x47ccb7,_0x53ed8e={'key':'','tableName':this[_0x4b06a8(0x52e)],'action':_0xb69d83['List']};this['tableObserver'][_0x4b06a8(0x19c)](_0x53ed8e);try{_0x1dd205&&(_0x1dd205=_0x1dd205 instanceof _0x42d4f2?_0x1dd205[_0x4b06a8(0x6ae)]():_0x42d4f2[_0x4b06a8(0x62f)](_0x1dd205)[_0x4b06a8(0x6ae)]());}catch(_0x341c09){throw new _0xb4a92c(_0x215585['KeyValueDatabaseInvalidQuery'],_0x4b06a8(0x119));}try{return await this['connector'][_0x4b06a8(0x296)](_0x1dd205);}catch(_0x5f0bfe){let _0x4ec067=_0x4b06a8(0x119);throw _0x5f0bfe instanceof Error&&(_0x4ec067=_0x5f0bfe[_0x4b06a8(0xa3f)]),new _0xb4a92c(_0x215585['KeyValueDatabaseInvalidQuery'],_0x4ec067);}}async['count'](_0x3510c5){const _0x4ee5d2=_0x47ccb7,_0x368958={'key':'','tableName':this['tableName'],'action':_0xb69d83['Count']};this[_0x4ee5d2(0xa87)][_0x4ee5d2(0x19c)](_0x368958);try{_0x3510c5&&(_0x3510c5=_0x3510c5 instanceof _0x42d4f2?_0x3510c5[_0x4ee5d2(0x6ae)]():_0x42d4f2[_0x4ee5d2(0x62f)](_0x3510c5)[_0x4ee5d2(0x6ae)]());}catch(_0x299d90){throw new _0xb4a92c(_0x215585[_0x4ee5d2(0x489)],_0x4ee5d2(0x119));}try{return await this[_0x4ee5d2(0x275)]['count'](_0x3510c5);}catch(_0x504ec5){let _0x54678d=_0x4ee5d2(0x119);throw _0x504ec5 instanceof Error&&(_0x54678d=_0x504ec5[_0x4ee5d2(0xa3f)]),new _0xb4a92c(_0x215585[_0x4ee5d2(0x489)],_0x54678d);}}[_0x47ccb7(0x909)](){const _0x2da08f=_0x47ccb7;return this[_0x2da08f(0x275)][_0x2da08f(0x909)]();}[_0x47ccb7(0x9b4)](_0x3223d0){const _0x49dc6a=_0x47ccb7;this['listenerUnsubscriber']=this[_0x49dc6a(0x8f2)][_0x49dc6a(0x9b4)](_0x3223d0);}['unsubscribe'](){const _0xe5eacc=_0x47ccb7;this[_0xe5eacc(0x612)]?.();}[_0x47ccb7(0x19c)](_0x587a82,_0x3391f5){const _0x1d5af4=_0x47ccb7,_0x46951c=this[_0x1d5af4(0x990)](_0x587a82,_0x3391f5);this[_0x1d5af4(0x8f2)][_0x1d5af4(0x19c)](_0x46951c);}['buildTableEvent'](_0x52b22c,_0x302f55){const _0x56598d=_0x47ccb7;let _0x3ef4e0;switch(_0x52b22c){case _0x510a9a[_0x56598d(0x4ec)]:_0x3ef4e0=_0x56598d(0x7ce);break;case _0x510a9a[_0x56598d(0x93f)]:_0x3ef4e0=_0x56598d(0x96a);break;case _0x510a9a[_0x56598d(0x986)]:_0x3ef4e0=_0x56598d(0x7b9);}return{'action':_0x3ef4e0,'value':_0x302f55};}[_0x47ccb7(0x7f2)](_0x3e0e6e){const _0xd52062=_0x47ccb7;if('object'!=typeof _0x3e0e6e||null===_0x3e0e6e)throw new _0xb4a92c(_0x215585['KeyValueDatabaseInvalidValue'],_0xd52062(0x47f));for(const _0x59b2c8 in _0x3e0e6e){const _0x366982=_0x3e0e6e[_0x59b2c8];if('object'!=typeof _0x366982||_0x366982 instanceof Date){if(!['string','number',_0xd52062(0xab0)][_0xd52062(0x9d0)](typeof _0x366982))throw new _0xb4a92c(_0x215585['KeyValueDatabaseInvalidValue'],_0xd52062(0xa4)+_0x59b2c8+_0xd52062(0x58e));}else this[_0xd52062(0x7f2)](_0x366982);}}}class _0x4356f4{[_0x47ccb7(0x8c8)]=[];[_0x47ccb7(0x3d4)]=0x0;[_0x47ccb7(0x473)]=[];[_0x47ccb7(0x68d)]=!0x1;[_0x47ccb7(0x812)]=null;[_0x47ccb7(0x802)]=null;['debounceLogTimeout'];['readyResolve']=null;[_0x47ccb7(0x6b3)]=[];[_0x47ccb7(0x8a0)];[_0x47ccb7(0x5e8)]=Promise[_0x47ccb7(0x1d8)]();[_0x47ccb7(0x5ad)]=0x0;constructor(){}get[_0x47ccb7(0x45c)](){const _0xdec4ee=_0x47ccb7;return this[_0xdec4ee(0x5e8)];}async[_0x47ccb7(0x2e9)](_0x382b73,_0x4e2fe8=0x0){const _0x3f36cb=_0x47ccb7;this[_0x3f36cb(0xaa7)]||(this[_0x3f36cb(0x5e8)]=new Promise(_0x3050b9=>{const _0x1673f5=_0x3f36cb;this[_0x1673f5(0xaa7)]=_0x3050b9;}),this['expectedTransactions']=_0x4e2fe8);const _0x9f2fe9=Date['now']();if(this['isComputingMMR'])return void this[_0x3f36cb(0x473)][_0x3f36cb(0x5c5)](_0x382b73);this[_0x3f36cb(0x68d)]=!0x0;let _0x3d4edb={'hash':await this['hashTransaction'](_0x382b73),'height':0x0};const _0x2d0c37=this['combinePeaks'](_0x3d4edb);this['readyPromises'][_0x3f36cb(0x5c5)](_0x2d0c37),await _0x2d0c37,this[_0x3f36cb(0x3d4)]+=0x1;const _0x53886e=this[_0x3f36cb(0x473)][_0x3f36cb(0x583)];for(;this[_0x3f36cb(0x473)][_0x3f36cb(0x583)]>0x0;){const _0x7820b3=this['transactionQueue'][_0x3f36cb(0x4ee)]();await this[_0x3f36cb(0x2e9)](_0x7820b3);}this[_0x3f36cb(0x509)](),await this[_0x3f36cb(0x45c)],this[_0x3f36cb(0x239)](_0x9f2fe9,_0x53886e);}async[_0x47ccb7(0x857)](){const _0x4caf68=_0x47ccb7;return await this[_0x4caf68(0x5e8)],this['isComputingMMR']?(this[_0x4caf68(0x802)]||(this[_0x4caf68(0x802)]=this[_0x4caf68(0x44c)]()),await this[_0x4caf68(0x802)]):this[_0x4caf68(0x812)];}[_0x47ccb7(0x598)](){const _0x2d2df5=_0x47ccb7;return this[_0x2d2df5(0x8c8)][_0x2d2df5(0x437)](({hash:_0x34b536,height:_0x137d38})=>({'hash':_0x34b536,'height':_0x137d38}));}[_0x47ccb7(0x881)](){return this['totalNodes'];}[_0x47ccb7(0x513)](_0x23d304){const _0x1cde16=_0x47ccb7;return this[_0x1cde16(0x8c8)][_0x1cde16(0x1b5)](_0x2a4b0b=>_0x2a4b0b['height']===_0x23d304);}async[_0x47ccb7(0xa99)](_0x59d2a0,_0x2d5608){const _0x17052a=_0x47ccb7;return await this[_0x17052a(0xad7)](_0x59d2a0+_0x2d5608);}async[_0x47ccb7(0x7ae)](_0xd2040c){const _0x588ac7=_0x47ccb7;return await this['computeHash'](JSON[_0x588ac7(0xa26)](_0xd2040c));}['comparePeaks'](_0x1e3254){const _0x1d286e=_0x47ccb7,_0xbb9143=this['getPeaks'](),_0x46c974=[],_0x4ffac4=[],_0x1d3f04=[];for(const _0x4cc02 of _0xbb9143){const _0x56df7b=_0x1e3254[_0x1d286e(0x1b5)](_0x1c8bc4=>_0x1c8bc4['height']===_0x4cc02[_0x1d286e(0x6c9)]);_0x56df7b?_0x4cc02['hash']!==_0x56df7b[_0x1d286e(0x86c)]&&_0x46c974[_0x1d286e(0x5c5)]({'height':_0x4cc02[_0x1d286e(0x6c9)],'localPeak':_0x4cc02,'remotePeak':_0x56df7b}):_0x4ffac4[_0x1d286e(0x5c5)](_0x4cc02);}for(const _0x28b98c of _0x1e3254)_0xbb9143['find'](_0x52c27c=>_0x52c27c[_0x1d286e(0x6c9)]===_0x28b98c['height'])||_0x1d3f04['push'](_0x28b98c);return{'differingPeaks':_0x46c974,'peaksMissingInRemote':_0x4ffac4,'peaksMissingInLocal':_0x1d3f04};}async[_0x47ccb7(0x44c)](){const _0x5e5bdd=_0x47ccb7;this[_0x5e5bdd(0x68d)]=!0x0;const _0x3f747d=this[_0x5e5bdd(0x8c8)]['map'](_0x3900a0=>_0x3900a0['hash']);return this['cachedRoot']=await this[_0x5e5bdd(0xfa)](_0x3f747d),this[_0x5e5bdd(0x68d)]=!0x1,this['rootComputationPromise']=null,this[_0x5e5bdd(0x509)](),this[_0x5e5bdd(0x812)];}async[_0x47ccb7(0xad7)](_0x76f427){const _0x10ee69=_0x47ccb7;try{const _0x1aecdc=new TextEncoder()[_0x10ee69(0x3dd)](_0x76f427),_0x531266=await crypto[_0x10ee69(0x197)][_0x10ee69(0x7f7)](_0x10ee69(0x1d6),_0x1aecdc);return Array[_0x10ee69(0x48b)](new Uint8Array(_0x531266))[_0x10ee69(0x437)](_0x1670a6=>_0x1670a6['toString'](0x10)[_0x10ee69(0x78a)](0x2,'0'))[_0x10ee69(0x4a2)]('');}catch(_0x36f831){return console[_0x10ee69(0xa14)](_0x10ee69(0x3aa),_0x36f831),this[_0x10ee69(0xad7)](_0x76f427);}}async[_0x47ccb7(0xfa)](_0x23d1d5){const _0x12957e=_0x47ccb7;return await this[_0x12957e(0xad7)](_0x23d1d5[_0x12957e(0x4a2)](''));}async[_0x47ccb7(0x4f2)](_0x17a61d){const _0x4d95c8=_0x47ccb7;for(;this[_0x4d95c8(0x8c8)]['length']>0x0&&this[_0x4d95c8(0x8c8)][this[_0x4d95c8(0x8c8)][_0x4d95c8(0x583)]-0x1][_0x4d95c8(0x6c9)]===_0x17a61d[_0x4d95c8(0x6c9)];){const _0x4beacf=this[_0x4d95c8(0x8c8)]['pop']();_0x17a61d={'hash':await this[_0x4d95c8(0xa99)](_0x4beacf[_0x4d95c8(0x86c)],_0x17a61d[_0x4d95c8(0x86c)]),'left':_0x4beacf,'right':_0x17a61d,'height':_0x17a61d['height']+0x1};}this[_0x4d95c8(0x8c8)][_0x4d95c8(0x5c5)](_0x17a61d),await this[_0x4d95c8(0x44c)]();}['debounceAppendLog'](_0x38b5d6,_0x2fedd7){const _0x175b6f=_0x47ccb7;if(!_0x1a21a7[_0x175b6f(0x48e)](_0x5300ce[_0x175b6f(0x9af)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x175b6f(0x307)]);const _0x5f3602=Date[_0x175b6f(0x31e)]();this['debounceLogTimeout']=setTimeout(()=>_0x1a21a7['log'](_0x5300ce[_0x175b6f(0x9af)],_0x175b6f(0x19e),this[_0x175b6f(0x812)],_0x175b6f(0x459),this[_0x175b6f(0x881)](),'queueLength',_0x2fedd7,_0x175b6f(0x311),_0x5f3602-_0x38b5d6),0x7d0);}['debounceReady'](){const _0xf62fd5=_0x47ccb7;this['debounceReadyTimeout']&&clearTimeout(this['debounceReadyTimeout']),this[_0xf62fd5(0x8a0)]=setTimeout(async()=>{const _0xb1662a=_0xf62fd5;try{const _0x196eed=this[_0xb1662a(0x6b3)];if(this[_0xb1662a(0x6b3)]=[],await Promise[_0xb1662a(0x87)](_0x196eed),this[_0xb1662a(0x5ad)]-=_0x196eed['length'],this[_0xb1662a(0x6b3)]['length']>0x0||this[_0xb1662a(0x5ad)]>0x0)return this[_0xb1662a(0x509)]();this[_0xb1662a(0xaa7)]&&(this[_0xb1662a(0xaa7)](),this[_0xb1662a(0xaa7)]=null),this[_0xb1662a(0x5e8)]=Promise[_0xb1662a(0x1d8)](),this['isComputingMMR']=!0x1;}catch(_0xb6a3de){console[_0xb1662a(0xa14)]('Error\x20resolving\x20readyPromises:',_0xb6a3de);}},0xa);}}const _0x55b337=[_0x47ccb7(0x7bf),_0x47ccb7(0x662),_0x47ccb7(0x416),'Subscription',_0x47ccb7(0xab4),_0x47ccb7(0x3b6),_0x47ccb7(0x62c)],_0xdc35d8=[[_0x47ccb7(0x781),'Answer',_0x47ccb7(0x17d),_0x47ccb7(0xa31),_0x47ccb7(0x9ae),_0x47ccb7(0x684),_0x47ccb7(0x9a9),_0x47ccb7(0xab4),_0x47ccb7(0x7a7)],[_0x47ccb7(0x9e2),_0x47ccb7(0x6b9),_0x47ccb7(0x442),_0x47ccb7(0x891)],[_0x47ccb7(0x46e),'CloseJobDispatcher','CloseJobWorker','CloseExternalStorageConnection','CloseKeyValueDatabase','CloseMediaStream',_0x47ccb7(0x4d5),_0x47ccb7(0xac8),'CloseVectorDatabase',_0x47ccb7(0x21c),'GenerativeAIContextStats',_0x47ccb7(0x298),_0x47ccb7(0x981),_0x47ccb7(0xaa8),_0x47ccb7(0x514),_0x47ccb7(0x1ca),'KeyValueDatabaseRequestTransactionsValue',_0x47ccb7(0x588),'KeyValueDatabaseStats',_0x47ccb7(0x2c6),_0x47ccb7(0x517),_0x47ccb7(0x401),_0x47ccb7(0xee),_0x47ccb7(0x67b),_0x47ccb7(0x9c9),_0x47ccb7(0x2af),_0x47ccb7(0x333),'UnsubscribeMediaStream','UpdateMediaStream',_0x47ccb7(0x1ec)],['SubscribeMediaStream',_0x47ccb7(0x4c6),'UnsubscribeMediaStreamdiaStream',_0x47ccb7(0x465),'CannotProvideMediaStream','MediaStreamUnavailable'],[_0x47ccb7(0x60d),_0x47ccb7(0x359)],[_0x47ccb7(0x7b1)],['Remediation','RemoteRemediation']];function _0x398502(_0x4e2d02){const _0x1e6984=_0x47ccb7;return{..._0x4e2d02,'systemMessageType':_0x55b337[_0x4e2d02['messageType']],'systemContentMessageType':_0xdc35d8[_0x4e2d02[_0x1e6984(0x153)]][_0x4e2d02['content']['type']]};}const _0x57417b={'hour':_0x47ccb7(0x3cb),'minute':_0x47ccb7(0x3cb),'second':_0x47ccb7(0x3cb)};function _0x737853(_0x3303cf,_0x32f734){const _0x47408a=_0x47ccb7,_0x48110d=(function(){const _0x22d924=a0_0x17d3,_0x539cdf=new Date(),_0x28b401=_0x539cdf[_0x22d924(0xa0a)](),_0x18f150=_0x539cdf[_0x22d924(0x494)](_0x22d924(0xa77),_0x57417b)[_0x22d924(0x40d)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x18f150+'.'+(_0x28b401>0x64?''+_0x28b401:_0x28b401>0xa?'0'+_0x28b401:'00'+_0x28b401);}()),{sourceId:_0x47196f,destinationIds:_0xab984c,systemMessageType:_0x4bad95,systemContentMessageType:_0x230064}=_0x398502(_0x3303cf);return _0x48110d+_0x47408a(0x8b)+_0x32f734+_0x47408a(0x8b)+(_0x47196f===_0x32f734?'Sending\x20\x27'+_0x4bad95+'\x27\x20to\x20'+(_0xab984c?''+_0xab984c:_0x47408a(0x52b)):_0x3303cf[_0x47408a(0xa24)]===_0x4a8f96?'Internal\x20event\x20\x27'+_0x4bad95+'\x27':(_0xab984c?'':'Everyone\x20')+_0x47408a(0x971)+_0x4bad95+_0x47408a(0x6fb)+_0x47196f)+_0x47408a(0x352)+_0x230064+_0x47408a(0x404);}function _0x3d4024(_0x521149,_0x2fc383){const _0x13f88b=_0x47ccb7;if(!_0x1a21a7[_0x13f88b(0x48e)](_0x521149))return;if(_0x501e0e[_0x13f88b(0x6be)])return;if(_0x13f88b(0x8c2)==typeof process)return;const _0x113586=process[_0x13f88b(0x407)]();console[_0x13f88b(0x766)](_0x13f88b(0x803)+_0x2fc383+':');for(const _0x1d771a in _0x113586)console['log']('\x20\x20'+_0x1d771a+':\x20'+(_0x113586[_0x1d771a]/0x400/0x400)['toFixed'](0x2)+_0x13f88b(0x518));}function _0x2225eb(_0x205375,_0x1950a4){const _0x372b5d=_0x47ccb7;if(!_0x1a21a7[_0x372b5d(0x48e)](_0x1950a4))return _0x1a21a7[_0x372b5d(0x222)](_0x372b5d(0x18b)+_0x1950a4),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x5510fc,_0x1a531c)=>_0x1a531c}};let _0x3d88c0=0x0;return{'timingLogger':((()=>{const _0x294cdc=_0x372b5d;let _0x1ac6d7=Date[_0x294cdc(0x31e)]();return{'start':()=>{const _0x23cc24=_0x294cdc;_0x1ac6d7=Date[_0x23cc24(0x31e)]();},'now':()=>Date[_0x294cdc(0x31e)](),'logWaitTime':_0x2be2bb=>{const _0x747f29=_0x294cdc;_0x3d88c0+=Date[_0x747f29(0x31e)]()-_0x1ac6d7,_0x1a21a7[_0x747f29(0x766)](_0x1950a4,_0x2be2bb,_0x3d88c0+'ms',_0x205375);}};})()),'logger':{'log':(_0x584d54,_0x55af3d=()=>{})=>{const _0x4db523=_0x372b5d,_0x251d88=_0x55af3d();_0x251d88?_0x1a21a7[_0x4db523(0x766)](_0x1950a4,_0x584d54,_0x251d88,_0x205375):_0x1a21a7['log'](_0x1950a4,_0x584d54,_0x205375);},'performCalculation':(_0x82f6cb,_0x53e43a)=>_0x82f6cb()}};}function _0x2baef9(_0x3c4f51){const _0x36de67=_0x47ccb7;return _0x36de67(0x8c2)==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0x36de67(0xa26)](_0x3c4f51),_0x36de67(0x2b1));}function _0x373f1c(_0x571792){const _0x5eba82=_0x47ccb7;if(0x0===_0x571792)return _0x5eba82(0x29b);const _0x4829da=Math[_0x5eba82(0x634)](Math[_0x5eba82(0x766)](_0x571792)/Math[_0x5eba82(0x766)](0x400));return parseFloat((_0x571792/Math['pow'](0x400,_0x4829da))[_0x5eba82(0xa25)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x4829da];}class _0x1ce058 extends _0x52f39d{[_0x47ccb7(0x987)];[_0x47ccb7(0x8b5)];[_0x47ccb7(0x111)];[_0x47ccb7(0x70f)];['db'];[_0x47ccb7(0xa33)];['tables']=new Map();[_0x47ccb7(0xa87)];[_0x47ccb7(0xa7e)];[_0x47ccb7(0x9b9)];['isSync'];[_0x47ccb7(0x487)];[_0x47ccb7(0x1f3)]=[];[_0x47ccb7(0x2de)]=()=>{};[_0x47ccb7(0x322)];[_0x47ccb7(0x8f2)]=_0x25dd72();['listenerUnsubscriber'];[_0x47ccb7(0x5f0)]=[];[_0x47ccb7(0x14f)];[_0x47ccb7(0xad3)];[_0x47ccb7(0x85e)]=0x0;[_0x47ccb7(0x544)]=0x0;[_0x47ccb7(0x536)]=!0x1;[_0x47ccb7(0x372)]=new _0x4356f4();['transactionHashMap']=new Map();[_0x47ccb7(0x406)]=[];[_0x47ccb7(0xa38)];[_0x47ccb7(0xce)]=[];[_0x47ccb7(0xa88)];constructor(_0x3df9f5,_0x27b286,_0x583389,_0x1599a8,_0x43a7b1,_0x459265,_0x1155d5){const _0x267648=_0x47ccb7;if(_0x267648(0x3af)!=typeof _0x27b286)throw new _0xb4a92c(_0x215585[_0x267648(0x37f)],_0x267648(0x7f5));if(super(_0x3df9f5,_0x27b286),this[_0x267648(0x987)]=_0x3df9f5,this[_0x267648(0x8b5)]=_0x583389,this[_0x267648(0x111)]=_0x1599a8,this[_0x267648(0x70f)]=_0x1155d5,this[_0x267648(0xa33)]='ccc'+this[_0x267648(0x111)]+_0x267648(0x469)+this[_0x267648(0x8b5)]+_0x267648(0x469)+this['label'],this[_0x267648(0xa87)]=_0x25dd72(),this[_0x267648(0xa88)]=function(_0x1a853c,_0x57a24a){const _0x2b05fd=_0x267648;if(!_0x1a21a7[_0x2b05fd(0x48e)](_0x57a24a))return _0x1a21a7[_0x2b05fd(0x222)](_0x2b05fd(0x18b)+_0x57a24a),{..._0x2225eb(_0x1a853c,_0x57a24a),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x2b05fd(0x29b)})};const {timingLogger:_0x5845f2,logger:_0x26f111}=_0x2225eb(_0x1a853c,_0x57a24a);let _0x57b90b=0x0,_0x5e14dd=0x0;return{'timingLogger':_0x5845f2,'logger':_0x26f111,'logDataSent':(_0x2e7ceb,_0x4de508=!0x1)=>{const _0x205de2=_0x2b05fd,_0xc84572=_0x2baef9(_0x2e7ceb);return _0x4de508&&_0x1a21a7['log'](_0x57a24a,_0x205de2(0x492),_0x1a853c,_0xc84572),_0x57b90b+=_0xc84572,_0xc84572;},'logDataReceived':(_0x343a61,_0x5cde64=!0x1)=>{const _0x8a71c9=_0x2b05fd,_0x275735=_0x2baef9(_0x343a61);return _0x5cde64&&_0x1a21a7[_0x8a71c9(0x766)](_0x57a24a,_0x8a71c9(0x12d),_0x1a853c,_0x275735),_0x5e14dd+=_0x275735,_0x275735;},'getDataLogged':()=>({'dataSent':_0x373f1c(_0x57b90b),'dataReceived':_0x373f1c(_0x5e14dd)})};}(this[_0x267648(0xa39)],_0x5300ce[_0x267648(0x9af)]),this[_0x267648(0x21e)]=new Promise(_0x2caab2=>{const _0xee41c0=_0x267648;this[_0xee41c0(0x487)]=_0x2caab2;}),_0x43a7b1 instanceof _0x159884)this[_0x267648(0x14f)]=_0x43a7b1[_0x267648(0xadb)]();else{const [_0x5acfc6,_0x466c04]=_0x159884[_0x267648(0x36a)](_0x43a7b1);if(!_0x5acfc6)throw new _0xb4a92c(_0x215585['KeyValueDatabaseInvalidLayout'],_0x267648(0x71a)+_0x466c04);this['layout']=structuredClone(_0x43a7b1);}this[_0x267648(0x432)](this['layout']),this['db']=new _0x459265(this[_0x267648(0xa33)],this[_0x267648(0x14f)]),this['sendStats']();}async['answerContentAvailable'](_0x18fc10,_0x4e4dc5){const _0x3fe593=_0x47ccb7;if(_0x1a21a7[_0x3fe593(0x766)](_0x5300ce[_0x3fe593(0x9af)],_0x3fe593(0x510),this[_0x3fe593(0xa39)]),!this[_0x3fe593(0xa7e)])throw new _0x20e318(_0x20e318[_0x3fe593(0x6f4)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this['isSync'],await this['isNodeReady'](_0x18fc10),await this[_0x3fe593(0x372)][_0x3fe593(0x857)]()===_0x4e4dc5){const _0x52279d={'sourceId':this[_0x3fe593(0x987)][_0x3fe593(0x932)](),'destinationIds':[_0x18fc10],'propagate':!0x0,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f[_0x3fe593(0x514)],'label':this[_0x3fe593(0xa39)],'mmrRoot':_0x4e4dc5}};return this[_0x3fe593(0xa88)][_0x3fe593(0x11c)](_0x52279d),void this[_0x3fe593(0x9bb)][_0x3fe593(0x19c)](_0x52279d);}const _0x5a7d6b=this['mmr']['getPeaks'](),_0x1127f1={'sourceId':this[_0x3fe593(0x987)][_0x3fe593(0x932)](),'destinationIds':[_0x18fc10],'propagate':!0x0,'messageType':_0x11d238[_0x3fe593(0x416)],'content':{'type':_0x27c53f['KeyValueDatabaseContentAvailable'],'label':this[_0x3fe593(0xa39)],'peaks':_0x5a7d6b}};this[_0x3fe593(0xa88)][_0x3fe593(0x11c)](_0x1127f1),this['systemTopic']['publish'](_0x1127f1);}async[_0x47ccb7(0x4a4)](_0x1e1cc5,_0xb38aa1){const _0x23bc8c=_0x47ccb7,_0x5a8ee2=await this[_0x23bc8c(0x372)][_0x23bc8c(0x857)](),_0x598e6d=_0x5a8ee2===_0xb38aa1;if(_0x1a21a7[_0x23bc8c(0x766)](_0x5300ce[_0x23bc8c(0x9af)],_0x23bc8c(0xa12)+_0x1e1cc5+_0x23bc8c(0x700)+_0x598e6d,this[_0x23bc8c(0xa39)]),_0x598e6d)return this[_0x23bc8c(0x2d0)](),void this['publishSyncCompleted']();_0x1a21a7['log'](_0x5300ce[_0x23bc8c(0x9af)],_0x23bc8c(0x9ba),_0x5a8ee2,_0xb38aa1),_0x1a21a7['warning']('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0x23bc8c(0x987)][_0x23bc8c(0x932)](),'nodeType':this[_0x23bc8c(0x987)]['type'],'remoteId':_0x1e1cc5,'data':{'localMMRRoot':_0x5a8ee2,'remoteMMRRoot':_0xb38aa1}});const _0x3aa8ce={'sourceId':this[_0x23bc8c(0x987)]['getId'](),'messageType':_0x11d238[_0x23bc8c(0x416)],'propagate':!0x0,'content':{'type':_0x27c53f[_0x23bc8c(0x2c6)],'label':this[_0x23bc8c(0xa39)],'mmrRoot':_0x5a8ee2}};this[_0x23bc8c(0x9bb)]['publish'](_0x3aa8ce);}async[_0x47ccb7(0x8a3)](_0x542002,_0x1f96a8){const _0x1d621b=_0x47ccb7;if(_0x1a21a7[_0x1d621b(0x766)](_0x5300ce[_0x1d621b(0x9af)],'Received\x20content\x20available\x20from\x20node',_0x542002,_0x1d621b(0xa39),this['label'],_0x1d621b(0x8c8),_0x1f96a8),this[_0x1d621b(0x536)])return;this[_0x1d621b(0x536)]=!0x0,this[_0x1d621b(0x2d0)]();const {differingPeaks:_0x2c4910,peaksMissingInLocal:_0xc676d3,peaksMissingInRemote:_0x44ed5a}=this[_0x1d621b(0x372)][_0x1d621b(0x2e6)](_0x1f96a8);_0x1a21a7[_0x1d621b(0x766)](_0x5300ce[_0x1d621b(0x9af)],_0x1d621b(0x6d0),{'differingPeaks':_0x2c4910,'peaksMissingInLocal':_0xc676d3,'peaksMissingInRemote':_0x44ed5a});const _0x852530={'sourceId':this[_0x1d621b(0x987)][_0x1d621b(0x932)](),'destinationIds':[_0x542002],'propagate':!0x0,'messageType':_0x11d238[_0x1d621b(0x416)],'content':{'type':_0x27c53f[_0x1d621b(0x1ca)],'label':this[_0x1d621b(0xa39)],'peakHeights':_0xc676d3['map'](_0x2491c4=>_0x2491c4[_0x1d621b(0x6c9)])['concat'](_0x2c4910[_0x1d621b(0x437)](_0x163636=>_0x163636[_0x1d621b(0x6c9)]))}};if(this[_0x1d621b(0x9bb)][_0x1d621b(0x19c)](_0x852530),_0x2c4910[_0x1d621b(0x583)]>0x0||_0x44ed5a[_0x1d621b(0x583)]>0x0){const _0x21d5e4=_0x44ed5a[_0x1d621b(0x437)](_0x5f13f3=>_0x5f13f3[_0x1d621b(0x6c9)])[_0x1d621b(0x210)](_0x2c4910[_0x1d621b(0x437)](_0x524424=>_0x524424[_0x1d621b(0x6c9)]));await this['sendPeakTransactions'](_0x542002,_0x21d5e4,!0x0);}}async[_0x47ccb7(0x43d)](_0x27980d,_0x3c9e8c,_0x2041e9=!0x1){const _0x4b0e2a=_0x47ccb7;_0x1a21a7[_0x4b0e2a(0x766)](_0x5300ce[_0x4b0e2a(0x9af)],_0x4b0e2a(0x61b),this['label']);const _0x545227=_0x3c9e8c['map'](_0x3ebe90=>this[_0x4b0e2a(0x372)][_0x4b0e2a(0x513)](_0x3ebe90))[_0x4b0e2a(0xac4)](Boolean);if(!_0x545227['length']||_0x3c9e8c[_0x4b0e2a(0x583)]!==_0x545227['length'])throw new _0x20e318(_0x20e318[_0x4b0e2a(0x6f4)][_0x4b0e2a(0x4cb)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x3c9e8c,'peaks':_0x545227[_0x4b0e2a(0x437)](_0x41b5dc=>_0x41b5dc['height']),'nodeId':_0x27980d});const _0x304e7b=[];for(const _0x1ca4fd of _0x545227)this['collectTransactionsFromNode'](_0x1ca4fd,_0x304e7b);const _0x32bc01=_0x2041e9?void 0x0:[_0x27980d],_0x5a1b41={'sourceId':this[_0x4b0e2a(0x987)][_0x4b0e2a(0x932)](),'destinationIds':_0x32bc01,'messageType':_0x11d238[_0x4b0e2a(0x416)],'propagate':!0x0,'content':{'type':_0x27c53f[_0x4b0e2a(0x588)],'label':this['label'],'transactions':_0x304e7b}};this[_0x4b0e2a(0xa88)][_0x4b0e2a(0x11c)](_0x5a1b41),this[_0x4b0e2a(0x9bb)][_0x4b0e2a(0x19c)](_0x5a1b41);}async[_0x47ccb7(0x109)](_0x2b935c,_0x14a0f5){const _0x308932=_0x47ccb7;_0x1a21a7[_0x308932(0x766)](_0x5300ce[_0x308932(0x9af)],_0x308932(0x342)+_0x14a0f5['length']+_0x308932(0xc4)+_0x2b935c+'\x20-\x20'+this[_0x308932(0xa39)]);for(const _0x3c0974 of _0x14a0f5){const _0x56ec70=await this[_0x308932(0xa7e)][_0x308932(0x4ab)](_0x3c0974['id']);if(!(_0x56ec70&&this[_0x308932(0x75d)](_0x56ec70,_0x3c0974)>=0x0)){if(_0x3c0974[_0x308932(0x2f5)]===_0x510a9a['Delete']){const [_0x569a24,_0x54c01a]=_0x3c0974['id'][_0x308932(0x59a)]('::'),_0x408a10=this[_0x308932(0x5e1)](_0x569a24);await _0x408a10[_0x308932(0x7b9)](_0x54c01a);}else this[_0x308932(0x1f3)][_0x308932(0x5c5)](_0x3c0974['id']);}}if(_0x1a21a7[_0x308932(0x766)](_0x5300ce[_0x308932(0x9af)],_0x308932(0x55b)+this[_0x308932(0x1f3)][_0x308932(0x583)]+_0x308932(0x444),this[_0x308932(0xa39)]),this[_0x308932(0x1f3)][_0x308932(0x583)]>0x0){const _0x5118ef={'sourceId':this[_0x308932(0x987)][_0x308932(0x932)](),'destinationIds':[_0x2b935c],'messageType':_0x11d238['Content'],'propagate':!0x0,'content':{'type':_0x27c53f[_0x308932(0x6f3)],'label':this[_0x308932(0xa39)],'transactionIds':this[_0x308932(0x1f3)]}};this[_0x308932(0xa88)]['logDataSent'](_0x5118ef),this[_0x308932(0x9bb)][_0x308932(0x19c)](_0x5118ef);}}[_0x47ccb7(0xf3)](){const _0x158adf=_0x47ccb7;this[_0x158adf(0xa36)]();}[_0x47ccb7(0x9a2)](){const _0x866c=_0x47ccb7;return _0x46b128[_0x866c(0x5c1)]['KeyValueDatabase'];}[_0x47ccb7(0x85c)](){const _0xbe6703=_0x47ccb7;this['db'][_0xbe6703(0x3a0)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0xbe6703(0xad3)]),delete this[_0xbe6703(0xad3)],super[_0xbe6703(0x85c)]();}[_0x47ccb7(0x3a0)](){const _0x4bef9b=_0x47ccb7;this['clearSyncTimeout'](),this['systemTopic']['publish']({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f['CloseKeyValueDatabase'],'label':this[_0x4bef9b(0xa39)]}});}[_0x47ccb7(0x5e1)](_0x37494c){const _0x1990ce=_0x47ccb7,_0x3ebe6a=this[_0x1990ce(0x7eb)]['get'](_0x37494c);if(_0x3ebe6a)return _0x3ebe6a;try{if(!this['db'][_0x1990ce(0xe1)](_0x37494c))throw new _0xb4a92c(_0x215585[_0x1990ce(0x3ce)],_0x1990ce(0x595));const _0x23cf9d=new _0x1d8c89(this['db'][_0x1990ce(0x801)](_0x37494c),_0x37494c,this[_0x1990ce(0xa87)]);return this['tables'][_0x1990ce(0x9de)](_0x37494c,_0x23cf9d),{'get':_0x23cf9d[_0x1990ce(0x4ab)][_0x1990ce(0x62e)](_0x23cf9d),'set':_0x23cf9d[_0x1990ce(0x9de)][_0x1990ce(0x62e)](_0x23cf9d),'add':_0x23cf9d['add'][_0x1990ce(0x62e)](_0x23cf9d),'delete':_0x23cf9d['delete'][_0x1990ce(0x62e)](_0x23cf9d),'clear':_0x23cf9d['clear']['bind'](_0x23cf9d),'list':_0x23cf9d[_0x1990ce(0x296)][_0x1990ce(0x62e)](_0x23cf9d),'count':_0x23cf9d[_0x1990ce(0x9ca)][_0x1990ce(0x62e)](_0x23cf9d),'subscribe':_0x23cf9d[_0x1990ce(0x9b4)]['bind'](_0x23cf9d),'unsubscribe':_0x23cf9d[_0x1990ce(0x6c7)]['bind'](_0x23cf9d)};}catch(_0x40ca5){if(_0x40ca5 instanceof _0xb4a92c)throw _0x40ca5;throw new _0xb4a92c(_0x215585[_0x1990ce(0x609)],_0x1990ce(0x272));}}[_0x47ccb7(0x9b4)](_0x3977ce){const _0x58c485=_0x47ccb7;this[_0x58c485(0x612)]=this[_0x58c485(0x8f2)][_0x58c485(0x9b4)](_0x3977ce),this[_0x58c485(0x506)](this['isSync'])[_0x58c485(0x16d)](_0x4bba78=>{const _0x262a50=_0x58c485;_0x4bba78&&this[_0x262a50(0x8f2)]['publish']({'event':_0x46b128[_0x262a50(0x606)]['SyncComplete']});});}[_0x47ccb7(0x6c7)](){const _0x2d8506=_0x47ccb7;this[_0x2d8506(0x612)]?.(),this[_0x2d8506(0x612)]=void 0x0;}async[_0x47ccb7(0x7f6)](){const _0x3ec543=_0x47ccb7;_0x3d4024(_0x5300ce[_0x3ec543(0x9af)],_0x3ec543(0x127));const _0x371e29=[_0x6c50cc,_0x69feb3],_0x126053=[];try{await this['db'][_0x3ec543(0x7f6)]();const _0x12f359=this['db'][_0x3ec543(0x801)](_0x69feb3),_0x3dc197=await _0x12f359[_0x3ec543(0x296)](),{id:_0x55713c,layout:_0x570e81}=_0x3dc197[0x0]??{};if(_0x570e81){for(const _0x31caad in _0x570e81)_0x371e29['includes'](_0x31caad)||this['db'][_0x3ec543(0xe1)](_0x31caad)||_0x126053[_0x3ec543(0x5c5)](_0x31caad);await _0x12f359[_0x3ec543(0x9de)](_0x55713c,{'layout':this[_0x3ec543(0x14f)]});}else await _0x12f359[_0x3ec543(0x7ce)]({'layout':this[_0x3ec543(0x14f)]});}catch(_0x4c830b){throw new _0xb4a92c(_0x215585[_0x3ec543(0x609)],_0x4c830b[_0x3ec543(0xa3f)]||_0x3ec543(0x32d));}this[_0x3ec543(0xa27)](),await this[_0x3ec543(0x317)](),this[_0x3ec543(0x244)](),this[_0x3ec543(0x20d)](),_0x126053[_0x3ec543(0xa9d)](_0x1e6848=>this[_0x3ec543(0x738)](_0x1e6848));}async[_0x47ccb7(0xa0)](_0x368dc6,_0x13a5c4=()=>{},_0x229c9f=!0x1){const _0x6a9668=_0x47ccb7;if(!_0x368dc6)return setTimeout(()=>{const _0x2c655e=a0_0x17d3;this['clearSyncTimeout'](),this[_0x2c655e(0x601)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x6a9668(0x2de)]=_0x13a5c4,this[_0x6a9668(0x322)]=setTimeout(_0x13a5c4,0x7d0),!this[_0x6a9668(0x9bb)])throw new _0x20e318(_0x20e318[_0x6a9668(0x6f4)][_0x6a9668(0x5a0)]);const _0x42dba8=await this[_0x6a9668(0x372)][_0x6a9668(0x857)](),_0x1aaf1d={'sourceId':this[_0x6a9668(0x987)]['getId'](),'messageType':_0x11d238[_0x6a9668(0x416)],'propagate':_0x229c9f,'content':{'type':_0x27c53f[_0x6a9668(0x2c6)],'label':this[_0x6a9668(0xa39)],'mmrRoot':_0x42dba8}};return this[_0x6a9668(0xa88)]['logDataSent'](_0x1aaf1d),this['systemTopic'][_0x6a9668(0x19c)](_0x1aaf1d),this[_0x6a9668(0x21e)];}async[_0x47ccb7(0x9a6)](_0x59cabf,_0x3f9e8d){const _0x4aed40=_0x47ccb7;if(_0x1a21a7[_0x4aed40(0x766)](_0x5300ce[_0x4aed40(0x9af)],_0x4aed40(0x673)+_0x3f9e8d['length'],this['label']),!this[_0x4aed40(0xa7e)])throw new _0x20e318(_0x20e318[_0x4aed40(0x6f4)][_0x4aed40(0x1be)]);for(const _0x28de6a of _0x3f9e8d){const _0x421698=await this[_0x4aed40(0xa7e)]['get'](_0x28de6a);if(!_0x421698)continue;const [_0x2875d9,_0x4cc570]=_0x28de6a[_0x4aed40(0x59a)]('::'),_0xa1d15c=this[_0x4aed40(0x5e1)](_0x2875d9),_0x598689=await _0xa1d15c[_0x4aed40(0x4ab)](_0x4cc570);_0x598689?(_0x421698[_0x4aed40(0x687)]=_0x598689,this[_0x4aed40(0x3dc)](_0x421698,[_0x59cabf])):_0x1a21a7['warning'](_0x4aed40(0x174),{'nodeId':this[_0x4aed40(0x987)][_0x4aed40(0x932)](),'nodeType':this[_0x4aed40(0x987)]['type'],'remoteId':_0x59cabf,'data':{'tableKeys':Object[_0x4aed40(0xa3d)](this['tables']),'transactionId':_0x28de6a,'transactions':this['transactionsToSync'],'tableName':_0x2875d9,'key':_0x4cc570}});}}async['writeTransaction'](_0x36a068){const _0x3c6bc8=_0x47ccb7;if(!this['transactionTable'])throw new _0x20e318(_0x20e318['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x1aa59d=await this[_0x3c6bc8(0x372)][_0x3c6bc8(0x7ae)](_0x36a068),_0x13d85b=this[_0x3c6bc8(0x3c6)]['get'](_0x1aa59d);if(_0x13d85b&&this['compareTransactions'](_0x36a068,_0x13d85b)<=0x0)return void _0x1a21a7[_0x3c6bc8(0x766)](_0x5300ce[_0x3c6bc8(0x9af)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x36a068);const _0x1ec4c2={..._0x36a068};return delete _0x1ec4c2['value'],this['debounceRebuildMMRWithTransaction'](_0x1ec4c2),await this[_0x3c6bc8(0xa7e)]['set'](_0x36a068['id'],_0x1ec4c2),_0x36a068;}[_0x47ccb7(0x75d)](_0x264df0,_0x2180a1){const _0x5146c6=_0x47ccb7;return _0x264df0[_0x5146c6(0x826)]!==_0x2180a1[_0x5146c6(0x826)]?_0x264df0[_0x5146c6(0x826)]-_0x2180a1['timestamp']:_0x264df0[_0x5146c6(0x83f)]-_0x2180a1[_0x5146c6(0x83f)];}async[_0x47ccb7(0x610)](_0x582456){const _0x34073f=_0x47ccb7;if(!this[_0x34073f(0xa7e)])throw new _0x20e318(_0x20e318[_0x34073f(0x6f4)][_0x34073f(0x1be)]);const _0x258d83=_0x582456[_0x34073f(0x52e)]+'::'+_0x582456[_0x34073f(0xa0f)],_0x59a224=await _0x3af573[_0x34073f(0x720)](),_0x3a3dbe={'id':_0x258d83,'priority':Math[_0x34073f(0x4db)](),'timestamp':_0x59a224,'action':_0x582456[_0x34073f(0x2f5)]};if(await this[_0x34073f(0x7cb)](_0x3a3dbe))return _0x3a3dbe;}async[_0x47ccb7(0x738)](_0x4c2ed8){const _0x185c88=_0x47ccb7;if(!this[_0x185c88(0xa7e)])throw new _0x20e318(_0x20e318[_0x185c88(0x6f4)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x8163cd=_0x42d4f2['index']('id')[_0x185c88(0x201)]('between',[_0x4c2ed8+'::',_0x4c2ed8+_0x185c88(0x30c)]),_0x444008=await this['transactionTable'][_0x185c88(0x296)](_0x8163cd['getQuery']());for(const _0x1488fa of _0x444008)await this[_0x185c88(0xa7e)][_0x185c88(0x7b9)](_0x1488fa['id']);}[_0x47ccb7(0x244)](){const _0x3d4f27=_0x47ccb7;this[_0x3d4f27(0x9ef)](async(_0x25289c,_0x5d8100)=>{const _0x5f2333=_0x3d4f27;if(_0x5d8100 instanceof File)return;if(this[_0x5f2333(0xa88)][_0x5f2333(0x9aa)](_0x5d8100),!await this[_0x5f2333(0x7cb)](_0x5d8100))return void this[_0x5f2333(0x105)](_0x25289c,_0x5d8100);if(!_0x5d8100[_0x5f2333(0x687)])throw new _0x20e318(_0x20e318[_0x5f2333(0x6f4)][_0x5f2333(0xbf)]);const [_0x35aee6,_0x4606ee]=_0x5d8100['id']['split']('::'),_0x136c68=this[_0x5f2333(0x5e1)](_0x35aee6);if(!_0x136c68)throw new _0x20e318(_0x20e318[_0x5f2333(0x6f4)][_0x5f2333(0x555)],{'table':_0x136c68});let _0x140388=0x0;switch(_0x5d8100[_0x5f2333(0x2f5)]){case _0x510a9a[_0x5f2333(0x4ec)]:case _0x510a9a['Update']:{const _0x132684=_0x136c68[_0x5f2333(0x9de)](_0x4606ee,_0x5d8100[_0x5f2333(0x687)],!0x1);_0x140388=JSON[_0x5f2333(0xa26)](_0x5d8100[_0x5f2333(0x687)])['length'],this[_0x5f2333(0x1f3)][_0x5f2333(0x9d0)](_0x5d8100['id'])&&this[_0x5f2333(0x5f0)][_0x5f2333(0x5c5)](_0x132684);break;}case _0x510a9a[_0x5f2333(0x986)]:{const _0x2a5f5e=_0x136c68[_0x5f2333(0x7b9)](_0x4606ee,!0x1);this[_0x5f2333(0x1f3)][_0x5f2333(0x9d0)](_0x5d8100['id'])&&this[_0x5f2333(0x5f0)]['push'](_0x2a5f5e);break;}}_0x1a21a7[_0x5f2333(0x839)](_0x255268['KeyValueDatabase'],{'type':'sync','label':this['label'],'nodeId':this[_0x5f2333(0x987)]['getId'](),'nodeType':this[_0x5f2333(0x987)][_0x5f2333(0x96)],'clusterId':this[_0x5f2333(0x8b5)],'tableName':_0x35aee6,'key':_0x4606ee,'size':_0x140388}),this[_0x5f2333(0x105)](_0x25289c,_0x5d8100);});}['setOnTableWriteHandler'](){const _0x28703b=_0x47ccb7;this[_0x28703b(0x9b9)]=this['tableObserver'][_0x28703b(0x9b4)](async _0x13c947=>{const _0x2a072b=_0x28703b;let _0x5b0694=0x0;switch(_0x13c947['action']){case _0x510a9a['Add']:case _0x510a9a[_0x2a072b(0x93f)]:case _0x510a9a['Delete']:{const _0xf4483d=await this[_0x2a072b(0x610)](_0x13c947);if(!_0xf4483d)return;_0xf4483d[_0x2a072b(0x687)]=_0x13c947[_0x2a072b(0x687)],this[_0x2a072b(0x3dc)](_0xf4483d),_0x5b0694=JSON[_0x2a072b(0xa26)](_0x13c947[_0x2a072b(0x687)])[_0x2a072b(0x583)],this[_0x2a072b(0x85e)]+=0x1;break;}case _0xb69d83[_0x2a072b(0x8f5)]:case _0xb69d83['List']:case _0xb69d83[_0x2a072b(0x6aa)]:this[_0x2a072b(0x544)]+=0x1;}_0x1a21a7['logServiceEvent'](_0x255268[_0x2a072b(0x9af)],{'type':_0x13c947['action'],'label':this['label'],'nodeId':this[_0x2a072b(0x987)][_0x2a072b(0x932)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x2a072b(0x8b5)],'tableName':_0x13c947[_0x2a072b(0x52e)],'key':_0x13c947[_0x2a072b(0xa0f)],'size':_0x5b0694}),this[_0x2a072b(0xa36)]();});}[_0x47ccb7(0xa27)](){const _0x4021db=_0x47ccb7;this['db']&&(this[_0x4021db(0xa7e)]||(this['transactionTable']=this['db']['getTableConnector'](_0x6c50cc)));}[_0x47ccb7(0x2d0)](){this['syncTimeout']&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}async[_0x47ccb7(0x601)](){const _0xa1f7f2=_0x47ccb7;await this[_0xa1f7f2(0x372)][_0xa1f7f2(0x45c)],this[_0xa1f7f2(0x5bb)](),this['eventListener'][_0xa1f7f2(0x19c)]({'event':_0x46b128[_0xa1f7f2(0x606)][_0xa1f7f2(0x4a8)]}),this[_0xa1f7f2(0x487)]?.(!0x0),delete this[_0xa1f7f2(0x487)],this[_0xa1f7f2(0xa36)](),_0x1a21a7['log'](_0x5300ce[_0xa1f7f2(0x9af)],'Sync\x20completed',this[_0xa1f7f2(0xa39)]);}async[_0x47ccb7(0x54e)](_0x42d61d){const _0x2933e2=_0x47ccb7;await Promise['all'](this['syncTransactionsWritten']),_0x1a21a7['log'](_0x5300ce[_0x2933e2(0x9af)],_0x2933e2(0xa2c)+this['syncTransactionsWritten'][_0x2933e2(0x583)]+_0x2933e2(0x847)+_0x42d61d+_0x2933e2(0x3a3),this['label']),await this['mmr'][_0x2933e2(0x45c)],await this[_0x2933e2(0x254)](_0x42d61d),await this['publishSyncCompleted']();}['checkSyncComplete'](_0x2850c8,_0x1d16c4){const _0x5b1c6e=_0x47ccb7;this[_0x5b1c6e(0x1f3)][_0x5b1c6e(0x9d0)](_0x1d16c4['id'])&&(this[_0x5b1c6e(0x2d0)](),this['transactionsToSync']=this['transactionsToSync'][_0x5b1c6e(0xac4)](_0x476208=>_0x476208!==_0x1d16c4['id']),0x0!==this['transactionsToSync'][_0x5b1c6e(0x583)]?this[_0x5b1c6e(0x322)]=setTimeout(this['timeoutCallback'],0x7d0):this['publishSyncCompletedAfterWrites'](_0x2850c8));}[_0x47ccb7(0xa36)](){const _0x1f8e73=_0x47ccb7;this[_0x1f8e73(0xad3)]&&clearTimeout(this[_0x1f8e73(0xad3)]),this['debounceStats']=setTimeout(async()=>{const _0x48973f=_0x1f8e73;delete this['debounceStats'];let _0x37c88f=0x0;for(const _0x5c7421 of this['tables'][_0x48973f(0x78c)]())_0x37c88f+=await _0x5c7421[_0x48973f(0x909)]();this[_0x48973f(0x9bb)][_0x48973f(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x48973f(0x416)],'content':{'type':_0x27c53f['KeyValueDatabaseStats'],'label':this[_0x48973f(0xa39)],'stats':{'timestamp':Date[_0x48973f(0x31e)](),'storage':_0x37c88f,'messagesSent':this[_0x48973f(0x315)],'messagesReceived':this[_0x48973f(0x698)],'bytesSent':this[_0x48973f(0x1e8)],'bytesReceived':this['bytesReceived'],'writes':this[_0x48973f(0x85e)],'reads':this[_0x48973f(0x544)],'prompts':0x0,'tokens':0x0}}}),_0x1a21a7[_0x48973f(0x989)](_0x255268['KeyValueDatabase'],'ccc'+this[_0x48973f(0x8b5)]+_0x48973f(0x469)+this[_0x48973f(0xa39)],_0x37c88f);},_0x154809);}[_0x47ccb7(0x432)](_0x3496c6){const _0x3c64c8=_0x47ccb7;if(_0x3496c6[_0x3c64c8(0x7eb)][_0x6c50cc])throw new _0xb4a92c(_0x215585[_0x3c64c8(0x850)],_0x3c64c8(0xda)+_0x6c50cc+_0x3c64c8(0x243));if(_0x3496c6[_0x3c64c8(0x7eb)][_0x69feb3])throw new _0xb4a92c(_0x215585[_0x3c64c8(0x850)],_0x3c64c8(0xda)+_0x69feb3+_0x3c64c8(0x243));_0x3496c6['tables'][_0x6c50cc]={'indexes':[]},_0x3496c6[_0x3c64c8(0x7eb)][_0x69feb3]={'indexes':[]};}async[_0x47ccb7(0x506)](_0x3c09b1){const _0x20bd5b=_0x47ccb7;return Promise[_0x20bd5b(0x4c3)]([_0x3c09b1,Promise[_0x20bd5b(0x1d8)](_0x20bd5b(0x885))])['then'](_0x5de262=>'not-resolved'!==_0x5de262);}async[_0x47ccb7(0x254)](_0x372201){const _0xd3c75e=_0x47ccb7;await this[_0xd3c75e(0xac3)]();const _0x192dd5=await this[_0xd3c75e(0x372)][_0xd3c75e(0x857)](),_0x5bd01e={'sourceId':this['localNode'][_0xd3c75e(0x932)](),'destinationIds':[_0x372201],'propagate':!0x0,'messageType':_0x11d238[_0xd3c75e(0x416)],'content':{'type':_0x27c53f['KeyValueDatabaseContentSynchronized'],'label':this[_0xd3c75e(0xa39)],'mmrRoot':_0x192dd5}};this[_0xd3c75e(0x9bb)][_0xd3c75e(0x19c)](_0x5bd01e);}async[_0x47ccb7(0x317)](){const _0x30299b=_0x47ccb7;if(!this['transactionTable'])throw new _0x20e318(_0x20e318['codes'][_0x30299b(0x1be)]);this[_0x30299b(0x406)]=await this[_0x30299b(0xa7e)][_0x30299b(0x296)](),this[_0x30299b(0x406)][_0x30299b(0x5bd)](this[_0x30299b(0x75d)]),this[_0x30299b(0x372)]=new _0x4356f4(),this[_0x30299b(0x3c6)]=new Map();for(const _0x31bbee of this[_0x30299b(0x406)])this[_0x30299b(0x9f8)](_0x31bbee,this[_0x30299b(0x406)][_0x30299b(0x583)]);this[_0x30299b(0x84d)]();}async[_0x47ccb7(0x9f8)](_0x471d10,_0x3129eb){const _0x550ad5=_0x47ccb7,_0x3ee02c={..._0x471d10};delete _0x3ee02c[_0x550ad5(0x687)],await this['mmr'][_0x550ad5(0x2e9)](_0x3ee02c,_0x3129eb);const _0x151eef=await this['mmr'][_0x550ad5(0x7ae)](_0x3ee02c);this[_0x550ad5(0x3c6)][_0x550ad5(0x9de)](_0x151eef,_0x471d10);}[_0x47ccb7(0xb3)](_0x3159bd){const _0x5d3e7f=_0x47ccb7;return this[_0x5d3e7f(0x3c6)][_0x5d3e7f(0x4ab)](_0x3159bd);}[_0x47ccb7(0x93d)](_0x4885d0,_0x3078b8){const _0x4ff21b=_0x47ccb7;if(0x0!==_0x4885d0[_0x4ff21b(0x6c9)])_0x4885d0[_0x4ff21b(0x2f3)]&&this['collectTransactionsFromNode'](_0x4885d0[_0x4ff21b(0x2f3)],_0x3078b8),_0x4885d0[_0x4ff21b(0x87b)]&&this[_0x4ff21b(0x93d)](_0x4885d0[_0x4ff21b(0x87b)],_0x3078b8);else{const _0x47623f=this['getTransactionByHash'](_0x4885d0['hash']);_0x47623f&&_0x3078b8[_0x4ff21b(0x5c5)](_0x47623f);}}async[_0x47ccb7(0x1e7)](){const _0x42e72d=_0x47ccb7;this[_0x42e72d(0xa38)]&&(clearTimeout(this[_0x42e72d(0xa38)]),delete this[_0x42e72d(0xa38)],this[_0x42e72d(0xce)][_0x42e72d(0x583)]>0x0&&(this[_0x42e72d(0x406)]['push'](...this[_0x42e72d(0xce)][_0x42e72d(0x5bd)](this[_0x42e72d(0x75d)])),this[_0x42e72d(0xce)]=[]));const _0x116e34=this[_0x42e72d(0x4ef)]();this['mmr']=new _0x4356f4(),this[_0x42e72d(0x3c6)]['clear'](),this['transactions'][_0x42e72d(0x5bd)](this['compareTransactions']);for(const _0x234cce of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x234cce,this[_0x42e72d(0x406)][_0x42e72d(0x583)]);await this[_0x42e72d(0x372)][_0x42e72d(0x45c)],this[_0x42e72d(0x732)](_0x116e34);}[_0x47ccb7(0x4ef)](){const _0x2cae6e=_0x47ccb7;return this[_0x2cae6e(0xa88)][_0x2cae6e(0x6d5)]['performCalculation'](async()=>{const _0x25ef33=_0x2cae6e,_0x5f12a7=await this[_0x25ef33(0x372)]['getRoot']();return{'startTime':Date[_0x25ef33(0x31e)](),'initialRoot':_0x5f12a7};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async[_0x47ccb7(0x732)](_0x7e326d){const _0x5ac744=_0x47ccb7;try{const {startTime:_0x28de3a,initialRoot:_0x316a8d}=await _0x7e326d,_0x2d58e9=await this[_0x5ac744(0x372)][_0x5ac744(0x857)](),_0x42c4fb=[_0x5ac744(0xf9)+(_0x316a8d!==_0x2d58e9),_0x5ac744(0x772)+_0x316a8d,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x2d58e9,_0x5ac744(0x910)+this['mmr'][_0x5ac744(0x881)](),_0x5ac744(0x6b0)+(Date[_0x5ac744(0x31e)]()-_0x28de3a)+_0x5ac744(0x790)][_0x5ac744(0x4a2)]('\x20');this['loggingCycle']['logger']['log']('',()=>_0x42c4fb);}catch(_0x366080){console[_0x5ac744(0xa14)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x366080);}}['debounceRebuildMMRWithTransaction'](_0xa53c8f){const _0x17bd56=_0x47ccb7;this[_0x17bd56(0xce)][_0x17bd56(0x5c5)](_0xa53c8f),this[_0x17bd56(0xa38)]&&(clearTimeout(this[_0x17bd56(0xa38)]),delete this[_0x17bd56(0xa38)]),this[_0x17bd56(0xa38)]=setTimeout(()=>{this['processTransactionsToComputeMMR']();},0x3e8);}async[_0x47ccb7(0xac3)](){const _0x35889a=_0x47ccb7;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x35889a(0xa38)]),delete this['debounceRebuildMMR']),0x0!==this[_0x35889a(0xce)][_0x35889a(0x583)]){if(0x0===this[_0x35889a(0x406)]['length'])return this['transactions']=this[_0x35889a(0xce)],this[_0x35889a(0xce)]=[],await this['rebuildMMR']();if(this[_0x35889a(0xce)]['sort'](this[_0x35889a(0x75d)]),this[_0x35889a(0x75d)](this[_0x35889a(0xce)][0x0],this[_0x35889a(0x406)][this[_0x35889a(0x406)][_0x35889a(0x583)]-0x1])>0x0){this[_0x35889a(0xa88)][_0x35889a(0x6d5)][_0x35889a(0x766)](_0x35889a(0x12a)+this[_0x35889a(0xce)][_0x35889a(0x583)]+',\x20Transactions:\x20'+this['transactions'][_0x35889a(0x583)]);for(const _0x550130 of this['transactionsToAppend'])this[_0x35889a(0x406)]['push'](_0x550130),this[_0x35889a(0x9f8)](_0x550130,this['transactionsToAppend'][_0x35889a(0x583)]);return this['transactionsToAppend']=[],void this[_0x35889a(0xa88)][_0x35889a(0x6d5)][_0x35889a(0x766)]('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0x35889a(0x9fd)+await this[_0x35889a(0x372)][_0x35889a(0x857)]()+_0x35889a(0x5ae)+this['mmr'][_0x35889a(0x881)]());}this[_0x35889a(0xa88)][_0x35889a(0x6d5)][_0x35889a(0x766)]('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this[_0x35889a(0xce)][_0x35889a(0x583)]+_0x35889a(0x58d)+this['transactions'][_0x35889a(0x583)]),this[_0x35889a(0x406)]['push'](...this[_0x35889a(0xce)]),this[_0x35889a(0xce)]=[],this[_0x35889a(0x1e7)]();}}async[_0x47ccb7(0x5bb)](){const _0x3ddd4a=_0x47ccb7;if(!_0x1a21a7['isChannelEnabled'](_0x5300ce[_0x3ddd4a(0x9af)]))return;await this[_0x3ddd4a(0x372)]['ready'];const {dataSent:_0x5ef200,dataReceived:_0x13a12c}=this['loggingCycle']['getDataLogged']();_0x1a21a7['log'](_0x5300ce[_0x3ddd4a(0x9af)],_0x3ddd4a(0x301),this[_0x3ddd4a(0xa39)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x5ef200,_0x3ddd4a(0x95b)+_0x13a12c,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x3ddd4a(0x372)][_0x3ddd4a(0x857)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x3ddd4a(0x372)][_0x3ddd4a(0x881)]());}async[_0x47ccb7(0x84d)](){const _0x1a92a8=_0x47ccb7;if(!_0x1a21a7[_0x1a92a8(0x48e)](_0x5300ce[_0x1a92a8(0x9af)]))return;const _0x1c7cc3=this[_0x1a92a8(0x372)]['getPeaks'](),_0x22c950=_0x1c7cc3[_0x1a92a8(0x437)](_0x21bd4e=>_0x21bd4e['height']),_0x197029=await this[_0x1a92a8(0x372)]['getRoot']();_0x1a21a7[_0x1a92a8(0x766)](_0x5300ce[_0x1a92a8(0x9af)],_0x1a92a8(0x951),this[_0x1a92a8(0x406)]['length'],_0x1a92a8(0x406),this[_0x1a92a8(0x372)][_0x1a92a8(0x881)](),_0x1a92a8(0x3d4),_0x1c7cc3[_0x1a92a8(0x583)],_0x1a92a8(0x8c8),_0x22c950,'root\x20hash:\x20',_0x197029);}}const _0x8df6d9=require('@crewdle/mist-connector-opfs'),_0x51fed0=require('@crewdle/mist-connector-indexed-db'),_0x2448a3=require('@crewdle/mist-connector-webrtc-browser'),_0x4f2b6d=0x10000000;var _0x42c050,_0x7fd6cc,_0x2cbfba,_0x511ca7,_0x5d772d,_0x2f3f1e,_0x1c48dc,_0x5454a8,_0x9bc2bf;!function(_0x34c825){const _0x37fb6c=_0x47ccb7;_0x34c825[_0x37fb6c(0x99f)]='AudioContext',_0x34c825[_0x37fb6c(0x962)]='AudioOutput',_0x34c825[_0x37fb6c(0x3b3)]=_0x37fb6c(0x3b3),_0x34c825['Backgrounds']='Backgrounds',_0x34c825[_0x37fb6c(0x263)]='DeviceConfig',_0x34c825[_0x37fb6c(0x4a5)]=_0x37fb6c(0x4a5),_0x34c825[_0x37fb6c(0xf8)]=_0x37fb6c(0xf8),_0x34c825['ScreenSharing']=_0x37fb6c(0x4e4),_0x34c825[_0x37fb6c(0x823)]=_0x37fb6c(0x823),_0x34c825[_0x37fb6c(0x576)]='WebRTC';}(_0x42c050||(_0x42c050={}));class _0x1da35a{[_0x47ccb7(0x9f3)];[_0x47ccb7(0x665)];[_0x47ccb7(0x204)];constructor(_0x19c4e6=new Map(),_0x31b5a2=new Map(),_0xa61bd9=new EventTarget()){const _0x624156=_0x47ccb7;this[_0x624156(0x9f3)]=_0x19c4e6,this['bufferedEvents']=_0x31b5a2,this[_0x624156(0x204)]=_0xa61bd9;}['emit']=(_0x5536d0,_0x9666a9)=>this[_0x47ccb7(0x9f3)][_0x47ccb7(0x788)](_0x5536d0)?(_0x1a21a7[_0x47ccb7(0x766)](_0x5300ce[_0x47ccb7(0x10d)],_0x47ccb7(0x4e3),{'event':_0x5536d0,'data':_0x9666a9}),this['eventTarget'][_0x47ccb7(0xacd)](new CustomEvent(_0x5536d0,{'detail':_0x9666a9})),!0x0):(this['bufferEvent'](_0x5536d0,_0x9666a9),!0x1);['on']=(_0x526f45,_0x31db9f)=>{const _0x3782f4=_0x47ccb7,_0x3e273c=_0x121fc8=>{const _0x3bb8a7=a0_0x17d3;_0x1a21a7[_0x3bb8a7(0x766)](_0x5300ce[_0x3bb8a7(0x10d)],'Received\x20event\x20on\x20cluster',_0x121fc8['type'],_0x121fc8[_0x3bb8a7(0x39a)]),_0x31db9f(_0x121fc8[_0x3bb8a7(0x39a)]);};return this[_0x3782f4(0x9f3)]['set'](_0x526f45,_0x3e273c),this[_0x3782f4(0x204)][_0x3782f4(0x581)](_0x526f45,_0x3e273c),_0x1a21a7[_0x3782f4(0x766)](_0x5300ce[_0x3782f4(0xa29)],_0x3782f4(0x8ef),_0x526f45,_0x31db9f),this[_0x3782f4(0x531)](_0x526f45),this;};['off'](_0x4f6916){const _0x48113d=_0x47ccb7;if(!_0x4f6916)return this[_0x48113d(0x9f3)][_0x48113d(0xa9d)]((_0x9076a6,_0x5ca329)=>{const _0x413239=_0x48113d;this[_0x413239(0x204)][_0x413239(0x8d9)](_0x5ca329,_0x9076a6);}),void this[_0x48113d(0x9f3)][_0x48113d(0x30f)]();'string'==typeof _0x4f6916&&this[_0x48113d(0x1b1)](_0x4f6916),Array[_0x48113d(0x7ec)](_0x4f6916)&&_0x4f6916[_0x48113d(0xa9d)](_0x4123e7=>{const _0x2bc4da=_0x48113d;this[_0x2bc4da(0x1b1)](_0x4123e7);});}[_0x47ccb7(0x1b1)](_0x570edc){const _0x4d8980=_0x47ccb7,_0x38bb58=this[_0x4d8980(0x9f3)][_0x4d8980(0x4ab)](_0x570edc);_0x38bb58&&(this[_0x4d8980(0x204)][_0x4d8980(0x8d9)](_0x570edc,_0x38bb58),this[_0x4d8980(0x9f3)][_0x4d8980(0x7b9)](_0x570edc));}['bufferEvent'](_0x6a0370,_0x1cbaf1){const _0x2eeab7=_0x47ccb7;_0x1a21a7['log'](_0x5300ce[_0x2eeab7(0x10d)],_0x2eeab7(0x664),{'event':_0x6a0370,'data':_0x1cbaf1});const _0x4f000c=this['bufferedEvents']['get'](_0x6a0370)||[];this[_0x2eeab7(0x665)][_0x2eeab7(0x9de)](_0x6a0370,[..._0x4f000c,_0x1cbaf1]);}[_0x47ccb7(0x531)](_0xe3ad8e){const _0x3a811d=_0x47ccb7,_0xe74603=this[_0x3a811d(0x665)][_0x3a811d(0x4ab)](_0xe3ad8e);_0xe74603&&(_0xe74603[_0x3a811d(0xa9d)](_0x4bef0a=>{const _0x23d5b7=_0x3a811d;_0x1a21a7[_0x23d5b7(0x766)](_0x5300ce[_0x23d5b7(0x10d)],_0x23d5b7(0x8be),{'event':_0xe3ad8e,'data':_0x4bef0a}),this[_0x23d5b7(0x204)][_0x23d5b7(0xacd)](new CustomEvent(_0xe3ad8e,{'detail':_0x4bef0a}));}),this[_0x3a811d(0x665)]['delete'](_0xe3ad8e));}}class _0x5681b5 extends Error{constructor(_0x5e83c4){const _0x4b467b=_0x47ccb7;super(_0x4b467b(0x16f)+_0x5e83c4);}}!function(_0x22007a){const _0x8127f3=_0x47ccb7;_0x22007a[_0x22007a[_0x8127f3(0x9ff)]=0x0]=_0x8127f3(0x9ff),_0x22007a[_0x22007a['Optimization']=0x1]='Optimization';}(_0x7fd6cc||(_0x7fd6cc={})),function(_0x437b49){const _0x1ce232=_0x47ccb7;_0x437b49[_0x437b49['Offer']=0x0]=_0x1ce232(0x781),_0x437b49[_0x437b49[_0x1ce232(0xbb)]=0x1]=_0x1ce232(0xbb),_0x437b49[_0x437b49['Handshake']=0x2]=_0x1ce232(0x17d),_0x437b49[_0x437b49[_0x1ce232(0xa31)]=0x3]=_0x1ce232(0xa31),_0x437b49[_0x437b49[_0x1ce232(0x9ae)]=0x4]='NeedRestart',_0x437b49[_0x437b49[_0x1ce232(0x684)]=0x5]=_0x1ce232(0x684),_0x437b49[_0x437b49[_0x1ce232(0x9a9)]=0x6]=_0x1ce232(0x9a9),_0x437b49[_0x437b49[_0x1ce232(0xab4)]=0x7]=_0x1ce232(0xab4),_0x437b49[_0x437b49['OptimizationConnectionSuccess']=0x8]='OptimizationConnectionSuccess';}(_0x2cbfba||(_0x2cbfba={})),function(_0x495297){const _0x2c56ac=_0x47ccb7;_0x495297[_0x495297[_0x2c56ac(0x46d)]=0x0]=_0x2c56ac(0x46d),_0x495297[_0x495297[_0x2c56ac(0x256)]=0x1]=_0x2c56ac(0x256);}(_0x511ca7||(_0x511ca7={})),function(_0xce829c){const _0x9f2736=_0x47ccb7;_0xce829c[_0x9f2736(0x4a5)]='media-stream';}(_0x5d772d||(_0x5d772d={})),function(_0xa2c984){const _0x3a90fa=_0x47ccb7;_0xa2c984[_0xa2c984['NodeJoin']=0x0]='NodeJoin',_0xa2c984[_0xa2c984[_0x3a90fa(0x6b9)]=0x1]=_0x3a90fa(0x6b9),_0xa2c984[_0xa2c984['NodeConnectionsUpdate']=0x2]=_0x3a90fa(0x442),_0xa2c984[_0xa2c984['NodeLeave']=0x3]=_0x3a90fa(0x891);}(_0x2f3f1e||(_0x2f3f1e={})),function(_0x20b5fc){const _0x33d7a8=_0x47ccb7;_0x20b5fc[_0x20b5fc[_0x33d7a8(0x62c)]=0x0]='Remediation',_0x20b5fc[_0x20b5fc[_0x33d7a8(0x2db)]=0x1]=_0x33d7a8(0x2db);}(_0x1c48dc||(_0x1c48dc={})),function(_0x53791a){const _0x28e2d1=_0x47ccb7;_0x53791a[_0x28e2d1(0x8e3)]=_0x28e2d1(0x209),_0x53791a[_0x28e2d1(0xd8)]=_0x28e2d1(0x3c3);}(_0x5454a8||(_0x5454a8={})),function(_0x7a433e){const _0x3620f5=_0x47ccb7;_0x7a433e[_0x3620f5(0x1ea)]=_0x3620f5(0x1a1),_0x7a433e['Bitrate']=_0x3620f5(0x8b2);}(_0x9bc2bf||(_0x9bc2bf={}));const _0x5df41d=require('aws-amplify'),_0x1494c4=require('aws-amplify/utils'),_0x13b473=require('@aws-amplify/api'),_0x5d560b=require('@aws-amplify/core');class _0x109ed0{[_0x47ccb7(0x8b5)];[_0x47ccb7(0x987)];['remoteId'];constructor(_0x3674ff,_0x2ccf34,_0x58afbf){const _0x202c02=_0x47ccb7;this[_0x202c02(0x8b5)]=_0x3674ff,this['localNode']=_0x2ccf34,this[_0x202c02(0xa54)]=_0x58afbf;}[_0x47ccb7(0x539)](){const _0x10e928=_0x47ccb7;return this[_0x10e928(0x987)][_0x10e928(0x932)]();}[_0x47ccb7(0x3c1)](){const _0x1939f9=_0x47ccb7;return this[_0x1939f9(0xa54)];}}var _0x5986da,_0x184f8c,_0x455879;function _0xf234a8(_0x24c007,_0x4a09e9){return _0x24c007['sourceId']===_0x4a09e9;}function _0x45f5dd(_0xb3af38,_0x2134ba){const _0x4a77de=_0x47ccb7;return _0xb3af38['destinationIds']?.[_0x4a77de(0x9d0)](_0x2134ba)??function(_0x4e8ca2){const _0x250a14=_0x4a77de;return void 0x0===_0x4e8ca2[_0x250a14(0xac1)];}(_0xb3af38);}function _0x1f05ae(_0x36bcfd,{contentType:_0x166ccb,label:_0x25b677,remoteId:_0x50d320}){return _0x36bcfd+'-'+_0x166ccb+'-'+_0x25b677+'-'+_0x50d320;}function _0x80b770(_0x39336c,_0x433950,_0x5cf643){return''+_0x39336c+_0x433950+_0x5cf643;}function _0x63eac0(_0x529582){const _0x194697=_0x47ccb7;return _0x529582===_0x184f8c[_0x194697(0x341)]?_0x194697(0x919):_0x194697(0x9ce);}function _0x3fe9ce(_0x12bce0,_0x24b39a){const _0xf4e0b=_0x47ccb7;return{'label':_0x12bce0[_0xf4e0b(0x901)](),'contentType':_0x12bce0[_0xf4e0b(0x9a2)](),'remoteId':_0x24b39a[_0xf4e0b(0x3c1)](),'supportsContentType':_0x24b39a['getSupportedContentTypes']()['includes'](_0x12bce0['getContentType']())};}!function(_0x209301){const _0x5dfca0=_0x47ccb7;_0x209301[_0x209301[_0x5dfca0(0x2d9)]=0x0]='Waiting',_0x209301[_0x209301[_0x5dfca0(0x915)]=0x1]=_0x5dfca0(0x915),_0x209301[_0x209301[_0x5dfca0(0x308)]=0x2]=_0x5dfca0(0x308);}(_0x5986da||(_0x5986da={})),function(_0x1b4c85){const _0x61e754=_0x47ccb7;_0x1b4c85[_0x61e754(0x341)]='in',_0x1b4c85[_0x61e754(0x53b)]=_0x61e754(0x423);}(_0x184f8c||(_0x184f8c={}));class _0x121924{[_0x47ccb7(0x36d)];['retryCallback'];constructor(_0x24ff12,_0x35806d){const _0x4e86a8=_0x47ccb7;this[_0x4e86a8(0x36d)]=_0x24ff12,this[_0x4e86a8(0x888)]=_0x35806d;}['call'](_0x3ab5bf){this['callback'](_0x3ab5bf);}async['wait'](){const _0x3887b2=_0x47ccb7;await this[_0x3887b2(0x888)]();}}class _0x5d7771{[_0x47ccb7(0x36d)];[_0x47ccb7(0x888)];constructor(_0x2fe6ed,_0x492932){const _0x5d4941=_0x47ccb7;this['callback']=_0x2fe6ed,this[_0x5d4941(0x888)]=_0x492932;}async[_0x47ccb7(0x819)](_0x49f1bc){const _0x40709d=_0x47ccb7;await this[_0x40709d(0x36d)](_0x49f1bc);}async[_0x47ccb7(0x8f)](){const _0x4ed464=_0x47ccb7;await this[_0x4ed464(0x888)]();}}function _0x5f1195(_0x2e4e19=()=>{},_0x21b912=()=>!0x1,_0x3bca8e=()=>{}){let _0xfba528,_0x278e12,_0xf4cacc=0x0;return{get 'size'(){return _0xf4cacc;},get 'head'(){return _0xfba528;},get 'tail'(){return _0x278e12;},set 'head'(_0xe1972b){_0xfba528=_0xe1972b;},set 'tail'(_0x2c3643){_0x278e12=_0x2c3643;},'push'(_0x516aaf,_0x5d9c0d=!0x0){const _0xd10dc1=a0_0x17d3,_0x21ea59={'value':_0x516aaf};_0x5d9c0d&&_0x21b912(_0x21ea59)?_0x2e4e19():(_0x278e12&&(_0x21ea59['previous']=_0x278e12,_0x278e12[_0xd10dc1(0x472)]=_0x21ea59),_0x278e12=_0x21ea59,_0xfba528||(_0xfba528=_0x21ea59),_0xf4cacc+=0x1,_0x5d9c0d&&_0x2e4e19());},'pop'(){const _0x4bd862=a0_0x17d3;if(!_0x278e12)return;const _0x4edae3=_0x278e12[_0x4bd862(0x687)];return _0x278e12=_0x278e12['previous'],_0x278e12&&delete _0x278e12[_0x4bd862(0x472)],_0x278e12||(_0xfba528=void 0x0),_0xf4cacc-=0x1,_0x4edae3;},'unshift'(_0x478a3d,_0x36b3d5=!0x0){const _0x41e627=a0_0x17d3,_0x244145={'value':_0x478a3d};_0x36b3d5&&_0x21b912(_0x244145)?_0x2e4e19():(_0xfba528&&(_0xfba528[_0x41e627(0xa78)]=_0x244145,_0x244145['next']=_0xfba528),_0xfba528=_0x244145,_0x278e12||(_0x278e12=_0x244145),_0xf4cacc+=0x1,_0x36b3d5&&_0x2e4e19());},'shift'(){const _0x5a2047=a0_0x17d3;if(!_0xfba528)return;const _0x2ed807=_0xfba528[_0x5a2047(0x687)];return _0xfba528=_0xfba528[_0x5a2047(0x472)],_0xfba528&&delete _0xfba528[_0x5a2047(0xa78)],_0xfba528||(_0x278e12=void 0x0),_0xf4cacc-=0x1,_0x2ed807;},'clear'(){_0x3bca8e(),_0xfba528=void 0x0,_0x278e12=void 0x0,_0xf4cacc=0x0;}};}function _0x327887(_0x5db5f2,_0x57d778=!0x1,_0x2ce6a6=()=>{},_0x512730=()=>!0x1,_0x5cb3fc=()=>{}){let _0x241f45=!0x1;const _0x44fa3a=_0x5f1195(async function(){const _0x22b384=a0_0x17d3;if(!_0x241f45){for(_0x241f45=!0x0;_0x44fa3a[_0x22b384(0x80e)];){const _0x43326e=_0x44fa3a[_0x22b384(0x4ee)]();if(_0x43326e)try{_0x5db5f2 instanceof _0x121924&&_0x5db5f2[_0x22b384(0x819)](_0x43326e),_0x5db5f2 instanceof _0x5d7771&&await _0x5db5f2[_0x22b384(0x819)](_0x43326e),_0x2ce6a6(_0x43326e);}catch(_0x30bb76){_0x57d778?_0x44fa3a[_0x22b384(0x5c5)](_0x43326e,!0x1):_0x44fa3a['unshift'](_0x43326e,!0x1),await _0x5db5f2[_0x22b384(0x8f)]();}}_0x241f45=!0x1;}},_0x512730,_0x5cb3fc);return _0x44fa3a;}class _0x289ac4 extends _0x109ed0{[_0x47ccb7(0x111)];[_0x47ccb7(0x4a0)];['connectionState']=_0x13b473[_0x47ccb7(0x13c)]['Disconnected'];[_0x47ccb7(0xd1)]=_0x25dd72();['messageListeners']=_0x4aa13e();[_0x47ccb7(0x9f0)];[_0x47ccb7(0x2ab)];[_0x47ccb7(0x65a)]=_0x327887(new _0x5d7771(this[_0x47ccb7(0x1de)][_0x47ccb7(0x62e)](this),this['waitConnected'][_0x47ccb7(0x62e)](this)));[_0x47ccb7(0x87c)];constructor(_0x1c8510,_0x28f36f,_0x336836,_0x12456a,_0x1acc72){const _0x417f96=_0x47ccb7;super(_0x28f36f,_0x336836,_0x12456a),this[_0x417f96(0x111)]=_0x1c8510,this[_0x417f96(0x4a0)]=_0x1acc72;}async[_0x47ccb7(0x4f6)](){const _0x4ae05a=_0x47ccb7;try{const _0x9f478f={'getTokens':async()=>{const _0x21dcc7=a0_0x17d3,_0x5734d8=await this[_0x21dcc7(0x4a0)]['getIdToken']();return{'accessToken':(0x0,_0x5d560b[_0x21dcc7(0xaac)])(_0x5734d8),'idToken':(0x0,_0x5d560b[_0x21dcc7(0xaac)])(_0x5734d8)};}};_0x5df41d[_0x4ae05a(0x366)]['configure']({'API':{'GraphQL':{'endpoint':_0x501e0e[_0x4ae05a(0x4a7)][_0x4ae05a(0x9b)],'region':_0x501e0e[_0x4ae05a(0x4a7)][_0x4ae05a(0x94d)],'defaultAuthMode':_0x4ae05a(0x625)}}},{'Auth':{'tokenProvider':_0x9f478f}});const _0x147ca4=(0x0,_0x13b473[_0x4ae05a(0x996)])();this[_0x4ae05a(0x87c)]=_0x147ca4,await this[_0x4ae05a(0x9b4)](),this[_0x4ae05a(0x2ab)]=_0x1494c4[_0x4ae05a(0x454)][_0x4ae05a(0x718)](_0x4ae05a(0x5e5),async({payload:_0x1ec036})=>{const _0x3bd14d=_0x4ae05a;if(_0x1ec036[_0x3bd14d(0x710)]===_0x13b473[_0x3bd14d(0x59f)]){const _0x28e380=_0x1ec036[_0x3bd14d(0x4ac)];this[_0x3bd14d(0x619)]=_0x28e380['connectionState'],this[_0x3bd14d(0xd1)]['publish'](_0x28e380[_0x3bd14d(0x619)]),this[_0x3bd14d(0x619)]===_0x13b473[_0x3bd14d(0x13c)][_0x3bd14d(0x600)]?(_0x1a21a7[_0x3bd14d(0xa14)](_0x3bd14d(0x59e),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x3bd14d(0x987)][_0x3bd14d(0x96)]}),this[_0x3bd14d(0x3a0)](),this[_0x3bd14d(0x4f6)]()):this[_0x3bd14d(0x619)]===_0x13b473[_0x3bd14d(0x13c)][_0x3bd14d(0x240)]?_0x1a21a7['warning'](_0x3bd14d(0x252),{'clusterId':this[_0x3bd14d(0x8b5)],'nodeId':this[_0x3bd14d(0x539)](),'nodeType':this[_0x3bd14d(0x987)][_0x3bd14d(0x96)]}):_0x1a21a7['warning']('appsync-statechange',{'clusterId':this[_0x3bd14d(0x8b5)],'nodeId':this['getLocalId'](),'nodeType':this[_0x3bd14d(0x987)]['type'],'data':{'state':_0x28e380[_0x3bd14d(0x619)]}});}});}catch(_0x5c6b58){_0x1a21a7[_0x4ae05a(0xa14)](_0x4ae05a(0x2cb),{'clusterId':this[_0x4ae05a(0x8b5)],'nodeId':this[_0x4ae05a(0x539)](),'nodeType':this['localNode'][_0x4ae05a(0x96)]});}}[_0x47ccb7(0x3a0)](){const _0x114bce=_0x47ccb7;_0x1a21a7['warning']('appsync-close',{'clusterId':this[_0x114bce(0x8b5)],'nodeId':this[_0x114bce(0x539)](),'nodeType':this['localNode'][_0x114bce(0x96)]}),this['retryQueue']['clear'](),this[_0x114bce(0x2ab)]?.(),this[_0x114bce(0x9f0)]?.[_0x114bce(0x6c7)](),delete this[_0x114bce(0x9f0)];}[_0x47ccb7(0x8ac)](){const _0x27f4d3=_0x47ccb7;return this[_0x27f4d3(0x619)]===_0x13b473['ConnectionState'][_0x27f4d3(0x240)];}[_0x47ccb7(0x3dc)](_0x24fa3a){const _0x338273=_0x47ccb7;this[_0x338273(0x65a)][_0x338273(0x5c5)](_0x24fa3a);}[_0x47ccb7(0x9ef)](_0x22fc2e){const _0x2c0644=_0x47ccb7;return this[_0x2c0644(0x81b)][_0x2c0644(0x9b4)](_0x22fc2e);}['getSupportedContentTypes'](){const _0x5f20fc=_0x47ccb7;return[_0x46b128[_0x5f20fc(0x5c1)][_0x5f20fc(0x5d7)]];}async[_0x47ccb7(0x5a6)](){const _0x557a37=_0x47ccb7;if(!this[_0x557a37(0x8ac)]())return new Promise(_0x5d786d=>{const _0x564354=_0x557a37,_0x4a073f=this[_0x564354(0xd1)]['subscribe'](_0x39244d=>{const _0x286ea6=_0x564354;_0x39244d===_0x13b473[_0x286ea6(0x13c)]['Connected']&&(_0x4a073f(),_0x5d786d());});});}async[_0x47ccb7(0x1de)](_0x483d8b){const _0x4c8aa1=_0x47ccb7;if(this['connectionState']!==_0x13b473[_0x4c8aa1(0x13c)]['Connected'])throw new Error(_0x4c8aa1(0x6e1));_0x483d8b[_0x4c8aa1(0xac1)]&&0x1===_0x483d8b[_0x4c8aa1(0xac1)][_0x4c8aa1(0x583)]?await this['publish'](_0x483d8b['destinationIds'][0x0],JSON[_0x4c8aa1(0xa26)](_0x483d8b)):_0x1a21a7[_0x4c8aa1(0xa14)]('appsync-no-destination',{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x4c8aa1(0x987)][_0x4c8aa1(0x96)]});}async['publish'](_0x48a137,_0x3798e0){const _0x44a1c3=_0x47ccb7;if(!this[_0x44a1c3(0x87c)])throw new Error(_0x44a1c3(0x893));_0x1a21a7[_0x44a1c3(0x766)](_0x5300ce['Signaling'],_0x44a1c3(0x988),this[_0x44a1c3(0x539)](),_0x3798e0),await this[_0x44a1c3(0x87c)][_0x44a1c3(0x83e)]({'query':_0x44a1c3(0x77f),'variables':{'name':await this[_0x44a1c3(0xacf)](_0x48a137),'data':_0x3798e0}});}async[_0x47ccb7(0x9b4)](){const _0x831fa3=_0x47ccb7;if(this[_0x831fa3(0x9f0)])return;if(!this[_0x831fa3(0x87c)])throw new Error(_0x831fa3(0x893));_0x1a21a7[_0x831fa3(0x766)](_0x5300ce[_0x831fa3(0x759)],_0x831fa3(0x8e),this[_0x831fa3(0x539)]());const _0x4acb87=await this[_0x831fa3(0x87c)][_0x831fa3(0x83e)]({'query':_0x831fa3(0x145),'variables':{'name':await this[_0x831fa3(0xacf)]()},'authToken':await this['authService'][_0x831fa3(0x26d)]()},{'Authorization':await this[_0x831fa3(0x4a0)]['getIdToken']()});this[_0x831fa3(0x9f0)]=_0x4acb87[_0x831fa3(0x9b4)]({'next':({data:_0x38d6e6})=>{const _0x5449e6=_0x831fa3,_0x328f9b=JSON[_0x5449e6(0x26a)](_0x38d6e6[_0x5449e6(0x9b4)][_0x5449e6(0x4ac)]);!_0xf234a8(_0x328f9b,this['getLocalId']())&&_0x45f5dd(_0x328f9b,this[_0x5449e6(0x539)]())&&this[_0x5449e6(0x81b)][_0x5449e6(0x19c)](_0x328f9b);},'error':console[_0x831fa3(0x766)]});}async[_0x47ccb7(0xacf)](_0x43e558){const _0x8a7675=_0x47ccb7,_0x4b2470=await crypto['subtle'][_0x8a7675(0x7f7)](_0x8a7675(0x7c2),new TextEncoder()['encode'](this[_0x8a7675(0x111)]+'-'+this[_0x8a7675(0x8b5)]+'-'+(_0x43e558??this[_0x8a7675(0x539)]())));return Array[_0x8a7675(0x48b)](new Uint8Array(_0x4b2470))[_0x8a7675(0x437)](_0x33b66=>_0x33b66['toString'](0x10)[_0x8a7675(0x78a)](0x2,'0'))['join']('');}}!function(_0x194478){const _0x255807=_0x47ccb7;_0x194478[_0x194478['Add']=0x0]='Add',_0x194478[_0x194478[_0x255807(0x659)]=0x1]=_0x255807(0x659),_0x194478[_0x194478[_0x255807(0x93f)]=0x2]=_0x255807(0x93f),_0x194478[_0x194478[_0x255807(0xc3)]=0x3]=_0x255807(0xc3),_0x194478[_0x194478[_0x255807(0xa0c)]=0x4]=_0x255807(0xa0c);}(_0x455879||(_0x455879={}));const _0x2eaaf3='0',_0x43b3bd=_0x47ccb7(0x1ed),_0x2f173e=_0x4af52b,_0x4f7423=0x60000;class _0x24e0b2{[_0x47ccb7(0x8b5)];[_0x47ccb7(0x987)];[_0x47ccb7(0xa54)];['iceServers'];[_0x47ccb7(0x4e9)];[_0x47ccb7(0xa8b)];[_0x47ccb7(0x8b9)];[_0x47ccb7(0x97a)];[_0x47ccb7(0x361)]=0x1;['systemTopic'];['handshakeCandidates']=[];[_0x47ccb7(0x42b)]=[];[_0x47ccb7(0x191)];constructor(_0x3eaf20,_0x410d7c,_0x4dde48,_0x47a57f,_0x3913f8,_0x17a081){const _0x46ccf9=_0x47ccb7;this[_0x46ccf9(0x8b5)]=_0x3eaf20,this[_0x46ccf9(0x987)]=_0x410d7c,this[_0x46ccf9(0xa54)]=_0x4dde48,this[_0x46ccf9(0x2a9)]=_0x47a57f,this[_0x46ccf9(0x4e9)]=_0x3913f8,this['connectionConstructor']=_0x17a081,this[_0x46ccf9(0x8b9)]=new this['connectionConstructor']({'handshakeServers':this['iceServers']}),this[_0x46ccf9(0x636)]();}[_0x47ccb7(0x3a0)](){const _0x2af8a4=_0x47ccb7;this[_0x2af8a4(0x3e2)]();}[_0x47ccb7(0x736)](_0xad013b){this['connectionType']=_0xad013b;}async[_0x47ccb7(0x6ef)](_0x27921c,_0x4817ae){const _0x1c570b=_0x47ccb7;if(_0x4817ae===this['currentVersion'])for(const _0x2caa87 of _0x27921c){if(!this[_0x1c570b(0x8b9)]['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0x2caa87);try{await this['connection'][_0x1c570b(0x1f6)](_0x2caa87);}catch(_0x509ab1){this[_0x1c570b(0x3e3)](_0x2caa87);}}}[_0x47ccb7(0x8ac)](){const _0x45c591=_0x47ccb7;return this[_0x45c591(0x889)](),_0x45c591(0x9e0)===this[_0x45c591(0x8b9)][_0x45c591(0x619)]&&[_0x45c591(0x9e0),_0x45c591(0x8df)][_0x45c591(0x9d0)](this[_0x45c591(0x8b9)]['handshakeState'])&&_0x45c591(0xa1b)!==this[_0x45c591(0x8b9)][_0x45c591(0x58b)]&&_0x45c591(0x7f6)===this[_0x45c591(0x97a)]?.['state'];}[_0x47ccb7(0x84)](_0x72618c){const _0x3c6e70=_0x47ccb7;this[_0x3c6e70(0x9bb)]=_0x72618c;}[_0x47ccb7(0xa03)](){const _0x5c91b9=_0x47ccb7;delete this[_0x5c91b9(0x9bb)];}[_0x47ccb7(0x2f1)](_0x46a3f7){const _0x56e8df=_0x47ccb7;this[_0x56e8df(0x3e2)](),this[_0x56e8df(0x8b9)]=new this[(_0x56e8df(0xa8b))]({'handshakeServers':this[_0x56e8df(0x2a9)]}),_0x46a3f7?this['currentVersion']=_0x46a3f7:this['currentVersion']+=0x1,this[_0x56e8df(0x636)]();}[_0x47ccb7(0x192)](){const _0x10335b=_0x47ccb7;this['pendingHandshakeCandidates'][_0x10335b(0xa9d)](_0x1d015c=>{const _0x1dc470=_0x10335b;try{this[_0x1dc470(0x8b9)][_0x1dc470(0x1f6)](_0x1d015c);}catch(_0x19084c){}}),this[_0x10335b(0x42b)]=[];}['publishSystemMessage'](_0x27a35e,_0x16a601){const _0x4af958=_0x47ccb7;if(!this[_0x4af958(0x9bb)])throw new _0x20e318(_0x20e318[_0x4af958(0x6f4)][_0x4af958(0x5a0)],{'content':_0x27a35e});const _0x58b09e={'sourceId':this[_0x4af958(0x987)][_0x4af958(0x932)](),'destinationIds':[this[_0x4af958(0xa54)]],'propagate':this[_0x4af958(0x4e9)]!==_0x7fd6cc[_0x4af958(0x9ff)],'retry':this[_0x4af958(0x4e9)]!==_0x7fd6cc[_0x4af958(0x9ff)],'messageType':_0x11d238['PeerConnection'],'content':_0x27a35e};_0x16a601&&(_0x58b09e[_0x4af958(0x87a)]=_0x16a601),this[_0x4af958(0x9bb)][_0x4af958(0x19c)](_0x58b09e);}[_0x47ccb7(0x636)](){const _0x55a844=_0x47ccb7;this[_0x55a844(0x8b9)][_0x55a844(0x89d)]=()=>{const _0x36a41b=_0x55a844;'complete'===this[_0x36a41b(0x8b9)]['gatheringState']&&this['handshakeCandidates'][_0x36a41b(0x583)]>0x0&&(this[_0x36a41b(0x191)]&&clearTimeout(this[_0x36a41b(0x191)]),this[_0x36a41b(0x191)]=setTimeout(()=>{const _0x3a2944=_0x36a41b;delete this[_0x3a2944(0x191)],this[_0x3a2944(0x8c9)](),this[_0x3a2944(0x2c0)]=[];},0x1f4));},this[_0x55a844(0x8b9)][_0x55a844(0x8c3)]=_0xdd9733=>{const _0x31b2ea=_0x55a844;_0xdd9733[_0x31b2ea(0x7ab)]&&this[_0x31b2ea(0x2c0)][_0x31b2ea(0x5c5)](_0xdd9733[_0x31b2ea(0x7ab)]);};}[_0x47ccb7(0x3e2)](){const _0x314f36=_0x47ccb7;clearTimeout(this[_0x314f36(0x191)]),delete this[_0x314f36(0x191)],this['handshakeCandidates']=[],this[_0x314f36(0x42b)]=[],this[_0x314f36(0x97a)]&&(this['dataChannel'][_0x314f36(0x9ef)]=null,this[_0x314f36(0x97a)][_0x314f36(0x8cd)]=null,this[_0x314f36(0x97a)][_0x314f36(0x3a0)](),delete this[_0x314f36(0x97a)]),this[_0x314f36(0x8b9)]['onGatheringStateChange']=null,this[_0x314f36(0x8b9)][_0x314f36(0x8c3)]=null,this[_0x314f36(0x8b9)][_0x314f36(0x5ff)]=null,this['connection'][_0x314f36(0x5d3)]=null,this[_0x314f36(0x8b9)][_0x314f36(0xade)]=null,this['connection']['onDataChannel']=null,this[_0x314f36(0x8b9)]['close']();}[_0x47ccb7(0x3e3)](_0x55e313){const _0x41f612=_0x47ccb7;this[_0x41f612(0x42b)][_0x41f612(0x5c5)](_0x55e313);}[_0x47ccb7(0x889)](){const _0x2b7485=_0x47ccb7;_0x1a21a7[_0x2b7485(0x766)](_0x5300ce['ConnectionState'],'Base\x20Peer\x20Connection',{'localId':this[_0x2b7485(0x987)]['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0x2b7485(0x8b9)]['connectionState'],'handshakeState':this['connection'][_0x2b7485(0x318)],'signalingState':this[_0x2b7485(0x8b9)][_0x2b7485(0x58b)],'dataChannelState':this[_0x2b7485(0x97a)]?.[_0x2b7485(0xa3a)]});}}function _0x26affb(_0xebbfb3,_0xd43860){const _0x2ae5d5=_0x47ccb7;_0xd43860[_0x2ae5d5(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x2ae5d5(0x7bf)],'content':_0xebbfb3});}class _0xee9499{static ['instance'];['parameters']=[];[_0x47ccb7(0x508)];constructor(){setInterval(()=>{const _0x8dd707=a0_0x17d3;this[_0x8dd707(0x164)][_0x8dd707(0xa9d)](_0x2d7126=>{const _0x49165d=_0x8dd707;if(Date['now']()-_0x2d7126[_0x49165d(0x53c)]>_0x2d7126[_0x49165d(0x3a5)]){try{_0x2d7126['callback']();}catch(_0xe28704){}_0x2d7126[_0x49165d(0x53c)]=Date['now']();}});},0x64);}static[_0x47ccb7(0x773)](){const _0x5115cd=_0x47ccb7;return _0xee9499[_0x5115cd(0x9ab)]||(_0xee9499[_0x5115cd(0x9ab)]=new _0xee9499()),_0xee9499['instance'];}[_0x47ccb7(0x5f6)](_0x152ad1){const _0x5e0963=_0x47ccb7,_0x511f0c=this[_0x5e0963(0xac9)](_0x152ad1),_0x40c9f7=_0x152ad1[_0x5e0963(0x70b)]();_0x40c9f7&&_0x511f0c&&(_0x40c9f7[_0x5e0963(0x3b2)][_0x5e0963(0x687)]=0.001,_0x511f0c[_0x5e0963(0x4f6)](_0x40c9f7),_0x40c9f7[_0x5e0963(0x4f6)](_0x152ad1['destination']),_0x511f0c[_0x5e0963(0x26c)]());}[_0x47ccb7(0x6e6)](){const _0x248e06=_0x47ccb7;this[_0x248e06(0x508)]&&(this[_0x248e06(0x508)]['stop'](),this['source'][_0x248e06(0x6b8)](),this['source']=void 0x0);}[_0x47ccb7(0x8f)](_0x5a5ad4){return new Promise(_0x2e183d=>{setTimeout(_0x2e183d,_0x5a5ad4);});}[_0x47ccb7(0x25a)](_0x3f1a99,_0x48e3b5){const _0x2c4856=_0x47ccb7;return this[_0x2c4856(0x164)][_0x2c4856(0x5c5)]({'callback':_0x3f1a99,'interval':_0x48e3b5,'lastExecuted':Date[_0x2c4856(0x31e)]()}),()=>{const _0x58e976=_0x2c4856;this[_0x58e976(0x164)]=this['parameters'][_0x58e976(0xac4)](_0x2f7ff8=>_0x2f7ff8['callback']!==_0x3f1a99);};}['createConstantSource'](_0x43fe9f){const _0xc86fec=_0x47ccb7;if(_0x43fe9f[_0xc86fec(0xac9)])return _0x43fe9f['createConstantSource']();const _0x44840b=_0x43fe9f['createBufferSource'](),_0xb7a4de=_0x43fe9f[_0xc86fec(0x46b)](0x1,0x1,_0x43fe9f[_0xc86fec(0x4d9)]);return _0xb7a4de[_0xc86fec(0x43f)](0x0)[0x0]=0xa,_0x44840b[_0xc86fec(0x911)]=_0xb7a4de,_0x44840b[_0xc86fec(0x573)]=!0x0,_0x44840b;}}const _0x301533=_0xee9499[_0x47ccb7(0x773)]();class _0x7b3af1 extends _0x24e0b2{[_0x47ccb7(0x654)]=_0x25dd72();[_0x47ccb7(0x55a)]=_0x25dd72();['removeTrackCallback']=_0x25dd72();[_0x47ccb7(0x65b)]=new Map();[_0x47ccb7(0x91d)]=new Map();[_0x47ccb7(0x328)];[_0x47ccb7(0x698)]=0x0;[_0x47ccb7(0x502)]={'messages':{'total':0x0}};[_0x47ccb7(0x945)]=0x0;['timeReceiving']=0x0;[_0x47ccb7(0xa88)]=_0x2225eb(_0x47ccb7(0x4df),_0x5300ce[_0x47ccb7(0xd2)]);[_0x47ccb7(0x3a0)](){const _0x2d8b33=_0x47ccb7;this[_0x2d8b33(0x5df)](),this[_0x2d8b33(0x65b)]['clear'](),super['close']();}async[_0x47ccb7(0x1d0)](_0x20da0d,_0x284ab6){const _0x31dd23=_0x47ccb7;this[_0x31dd23(0x361)]=_0x284ab6,this[_0x31dd23(0x5df)]();const _0x49ce4a=await this['connection'][_0x31dd23(0x702)](_0x20da0d);this[_0x31dd23(0x192)]();const _0x3c37dc=(0x0,_0x4c8224['v4'])();this['publishSystemMessage']({'type':_0x2cbfba[_0x31dd23(0xbb)],'answer':_0x49ce4a,'version':_0x284ab6,'connectionType':this[_0x31dd23(0x4e9)]},_0x3c37dc),this[_0x31dd23(0x4e9)]===_0x7fd6cc[_0x31dd23(0x9ff)]&&(this[_0x31dd23(0x328)]=_0x301533['setInterval'](()=>{const _0x40a437=_0x31dd23;this[_0x40a437(0x63b)]({'type':_0x2cbfba[_0x40a437(0xbb)],'answer':_0x49ce4a,'version':_0x284ab6,'connectionType':this[_0x40a437(0x4e9)]},_0x3c37dc);},0x1388));}[_0x47ccb7(0x538)](){this['clearWaitSuccess']();}['handleNeedRestart'](_0x5a2b4d){const _0x128abe=_0x47ccb7;this[_0x128abe(0x2f1)](_0x5a2b4d),this[_0x128abe(0x63b)]({'type':_0x2cbfba[_0x128abe(0x684)]});}async[_0x47ccb7(0x55e)](){const _0x117ab7=_0x47ccb7;this[_0x117ab7(0x9bb)]&&(await this['connection']['collectReceiversStats'](this[_0x117ab7(0x65b)],(_0x425b7b,_0x476e37)=>{const _0x8c4a6e=_0x117ab7;_0x26affb({'type':_0x2cbfba[_0x8c4a6e(0xab4)],'streamId':_0x476e37,'nodeId':this[_0x8c4a6e(0xa54)],'stats':_0x425b7b},this[_0x8c4a6e(0x9bb)]);}),this[_0x117ab7(0x9bb)][_0x117ab7(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238['PeerConnection'],'content':{'type':_0x2cbfba[_0x117ab7(0xab4)],'nodeId':this['remoteId'],'stats':{'origin':_0x511ca7[_0x117ab7(0x256)],'timestamp':Date[_0x117ab7(0x31e)](),'messagesReceived':this[_0x117ab7(0x698)],'bytesReceived':this[_0x117ab7(0x945)],'timeReceiving':this[_0x117ab7(0x82e)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x47ccb7(0x9ef)](_0x4b11dd){const _0x39d37e=_0x47ccb7;return _0x501e0e['isProduction']?this[_0x39d37e(0x654)][_0x39d37e(0x9b4)](_0x4b11dd):this[_0x39d37e(0x654)]['subscribe'](_0x134230=>{const _0xe38315=_0x39d37e;0x0===_0x134230[_0xe38315(0x2c5)]&&_0x134230[_0xe38315(0x153)]===_0x11d238[_0xe38315(0x416)]&&this[_0xe38315(0xa88)][_0xe38315(0x6d5)]['log'](_0xe38315(0xbc)+this['remoteId'],()=>_0x398502(_0x134230)),_0x4b11dd(_0x134230);});}[_0x47ccb7(0xade)](_0x17638f){const _0x3a564f=_0x47ccb7;return this[_0x3a564f(0x55a)][_0x3a564f(0x9b4)](({track:_0xad6c8b,stream:_0x2d7fbb})=>_0x17638f(_0xad6c8b,_0x2d7fbb));}[_0x47ccb7(0x752)](_0xeae112){const _0x425f4c=_0x47ccb7;return this['removeTrackCallback'][_0x425f4c(0x9b4)](({track:_0xa9c995,stream:_0x32b1d5})=>_0xeae112(_0xa9c995,_0x32b1d5));}[_0x47ccb7(0x2f1)](_0x433b57){const _0x5a0d11=_0x47ccb7;this[_0x5a0d11(0x5df)](),this['receivers'][_0x5a0d11(0xa9d)](_0x2f7c7d=>{const _0x186c77=_0x5a0d11;_0x2f7c7d[_0x186c77(0x30f)]();}),super[_0x5a0d11(0x2f1)](_0x433b57);}[_0x47ccb7(0x8c9)](){const _0x5acfca=_0x47ccb7;this[_0x5acfca(0x63b)]({'type':_0x2cbfba[_0x5acfca(0x17d)],'candidates':this[_0x5acfca(0x2c0)],'origin':_0x511ca7['Receiver'],'version':this[_0x5acfca(0x361)],'connectionType':this[_0x5acfca(0x4e9)]});}[_0x47ccb7(0x636)](){const _0x253e03=_0x47ccb7;super['setupConnectionEvents'](),this[_0x253e03(0x8b9)][_0x253e03(0xade)]=_0x360f01=>{const _0x199f59=_0x253e03;_0x1a21a7[_0x199f59(0x766)](_0x5300ce[_0x199f59(0x1fe)],_0x199f59(0x143),this['localNode'][_0x199f59(0x932)](),_0x360f01),_0x360f01[_0x199f59(0x592)][0x0][_0x199f59(0x6a8)]=_0x5b3195=>{const _0x36f2b7=_0x199f59;this[_0x36f2b7(0x65b)][_0x36f2b7(0x4ab)](_0x360f01['streams'][0x0]['id'])?.[_0x36f2b7(0x7b9)](_0x5b3195[_0x36f2b7(0x5ca)]),0x0===this[_0x36f2b7(0x65b)][_0x36f2b7(0x4ab)](_0x360f01['streams'][0x0]['id'])?.[_0x36f2b7(0x8f6)]&&this[_0x36f2b7(0x65b)]['delete'](_0x360f01[_0x36f2b7(0x592)][0x0]['id']),this[_0x36f2b7(0x3b5)][_0x36f2b7(0x19c)]({'track':_0x5b3195['track'],'stream':_0x360f01[_0x36f2b7(0x592)][0x0]});},this[_0x199f59(0x65b)][_0x199f59(0x788)](_0x360f01[_0x199f59(0x592)][0x0]['id'])||this['receivers'][_0x199f59(0x9de)](_0x360f01[_0x199f59(0x592)][0x0]['id'],new Set()),this[_0x199f59(0x65b)][_0x199f59(0x4ab)](_0x360f01[_0x199f59(0x592)][0x0]['id'])['add'](_0x360f01[_0x199f59(0x5ca)]),this['trackCallback']['publish']({'track':_0x360f01[_0x199f59(0x5ca)],'stream':_0x360f01['streams'][0x0]});},this[_0x253e03(0x8b9)][_0x253e03(0xd6)]=_0x1b1557=>{const _0x3da536=_0x253e03;this['dataChannel']=_0x1b1557[_0x3da536(0x754)],this[_0x3da536(0x97a)]['onMessage']=_0x14f5a4=>{const _0x4cd8da=_0x3da536;if(_0x14f5a4[_0x4cd8da(0x4ac)]!==_0x2eaaf3)this['handleOnMessage'](_0x14f5a4[_0x4cd8da(0x4ac)]);else{if(!this['dataChannel'])return void _0x1a21a7[_0x4cd8da(0xa14)](_0x4cd8da(0x245),{'clusterId':this[_0x4cd8da(0x8b5)],'nodeId':this[_0x4cd8da(0x987)][_0x4cd8da(0x932)](),'nodeType':this[_0x4cd8da(0x987)]['type'],'remoteId':this['remoteId'],'data':{'connection':_0x4cd8da(0x417)}});if(_0x4cd8da(0x7f6)!==this['dataChannel'][_0x4cd8da(0xa3a)])return;this[_0x4cd8da(0x97a)][_0x4cd8da(0x3dc)]('1');}};};}[_0x47ccb7(0x9d)](_0x3e5482){const _0x1a7561=_0x47ccb7;if(_0x1a7561(0x3af)==typeof _0x3e5482&&_0x3e5482[_0x1a7561(0xa7b)](_0x43b3bd))return this[_0x1a7561(0x698)]+=0x1,this[_0x1a7561(0x945)]+=_0x3e5482['length'],this[_0x1a7561(0x40a)](_0x3e5482);setTimeout(()=>{const _0x4c2d6d=_0x1a7561,_0x276046=Date[_0x4c2d6d(0x31e)]();let _0x12be26;if((_0x3e5482 instanceof ArrayBuffer||_0x3e5482[_0x4c2d6d(0x583)]<=_0x2f173e)&&(this[_0x4c2d6d(0x698)]+=0x1,this['bytesReceived']+=_0x3e5482 instanceof ArrayBuffer?_0x3e5482[_0x4c2d6d(0xab2)]:_0x3e5482[_0x4c2d6d(0x583)]),_0x3e5482 instanceof ArrayBuffer){const [_0xe1dd53,_0x3d57b5]=this[_0x4c2d6d(0x7e2)](_0x3e5482);_0x12be26=_0xe1dd53,_0x12be26[_0x4c2d6d(0x3d9)][_0x4c2d6d(0x4ac)]=_0x3d57b5;}else _0x12be26=JSON['parse'](_0x3e5482);if(0x0===_0x12be26[_0x4c2d6d(0x2c5)]){this['systemMessagesReceived'][_0x4c2d6d(0x4e1)][_0x4c2d6d(0x566)]+=0x1;const {systemMessageType:_0x271933,systemContentMessageType:_0x2b37d3}=_0x398502(_0x12be26);this[_0x4c2d6d(0x502)][_0x271933]||(this[_0x4c2d6d(0x502)][_0x271933]={[_0x2b37d3]:0x0}),this[_0x4c2d6d(0x502)][_0x271933][_0x2b37d3]||(this[_0x4c2d6d(0x502)][_0x271933][_0x2b37d3]=0x0),this[_0x4c2d6d(0x502)][_0x271933][_0x4c2d6d(0x566)]||(this[_0x4c2d6d(0x502)][_0x271933]['total']=0x0),this[_0x4c2d6d(0x502)][_0x271933][_0x2b37d3]+=0x1,this['systemMessagesReceived'][_0x271933][_0x4c2d6d(0x566)]+=0x1;}this['messageCallback']['publish'](_0x12be26),this[_0x4c2d6d(0x82e)]+=Date[_0x4c2d6d(0x31e)]()-_0x276046;},0x0);}[_0x47ccb7(0x40a)](_0x473550){const _0x366f8b=_0x47ccb7,_0x3f8d5a=_0x473550[_0x366f8b(0x59a)](';'),_0x4b22e0=_0x3f8d5a[0x1],_0x2ec88a=parseInt(_0x3f8d5a[0x2],0xa),_0x3d8e25=parseInt(_0x3f8d5a[0x3],0xa),_0x1f4189=_0x473550[_0x366f8b(0x5f9)](_0x43b3bd+';'+_0x4b22e0+';'+_0x2ec88a+';'+_0x3d8e25+';','');this[_0x366f8b(0x91d)][_0x366f8b(0x788)](_0x4b22e0)||this[_0x366f8b(0x91d)][_0x366f8b(0x9de)](_0x4b22e0,[]);const _0x2a0a5b=this[_0x366f8b(0x91d)][_0x366f8b(0x4ab)](_0x4b22e0);_0x2a0a5b[_0x2ec88a]=_0x1f4189,_0x2a0a5b[_0x366f8b(0x583)]===_0x3d8e25&&(this[_0x366f8b(0x9d)](_0x2a0a5b[_0x366f8b(0x4a2)]('')),this['chunks'][_0x366f8b(0x7b9)](_0x4b22e0));}[_0x47ccb7(0x5df)](){this['waitSuccess']?.(),delete this['waitSuccess'];}[_0x47ccb7(0x5ea)](_0x45819b){const _0x438512=_0x47ccb7,_0x39f79c=new TextDecoder()[_0x438512(0x24c)](_0x45819b);return JSON['parse'](_0x39f79c);}[_0x47ccb7(0x7e2)](_0x182712){const _0x33a518=_0x47ccb7,_0x349caf=new Uint8Array(_0x182712['slice'](0x0,0x4)),_0x4ec76f=new Uint32Array(_0x349caf[_0x33a518(0x911)])[0x0],_0x4440a4=new Uint8Array(_0x182712[_0x33a518(0xa9c)](0x4,0x4+_0x4ec76f)),_0x2d9ed9=new Uint8Array(_0x182712['slice'](0x4+_0x4ec76f));return[this[_0x33a518(0x5ea)](_0x4440a4[_0x33a518(0x911)]),_0x2d9ed9['buffer']];}}const _0x5683d0=0xc350;var _0x337f1f,_0x1a992f;!function(_0x11935d){const _0x2f7ef7=_0x47ccb7;_0x11935d[_0x11935d['High']=0x0]='High',_0x11935d[_0x11935d[_0x2f7ef7(0x984)]=0x1]=_0x2f7ef7(0x984),_0x11935d[_0x11935d[_0x2f7ef7(0x95f)]=0x2]=_0x2f7ef7(0x95f);}(_0x337f1f||(_0x337f1f={}));class _0xedb956 extends _0x24e0b2{[_0x47ccb7(0x353)];[_0x47ccb7(0x7d3)];[_0x47ccb7(0xa30)]=new Map();[_0x47ccb7(0x37d)];['waitAnswer'];[_0x47ccb7(0x25f)];['isReconnecting']=!0x1;[_0x47ccb7(0x3fa)];[_0x47ccb7(0xaba)];[_0x47ccb7(0x9d7)];['retryQueue']=function(e,t=_0x337f1f,n=!0x1){const _0x5b8a19=_0x47ccb7;let s=!0x1;const o=[];async function i(){const _0x9b2c9d=a0_0x17d3;if(!s){for(s=!0x0;o[_0x9b2c9d(0xa13)](e=>e[_0x9b2c9d(0x80e)]);){let t,s=0x0;for(const [e,n]of o[_0x9b2c9d(0xaca)]())if(t=n[_0x9b2c9d(0x4ee)](),s=e,t)break;if(t)try{if(e instanceof _0x121924&&e[_0x9b2c9d(0x819)](t),e instanceof _0x5d7771&&await e[_0x9b2c9d(0x819)](t),o[_0x9b2c9d(0xa9c)](-0x1)[_0x9b2c9d(0xa13)](e=>e[_0x9b2c9d(0x80e)]))continue;const n=o[_0x9b2c9d(0x583)]-0x1;s===n&&o[n][_0x9b2c9d(0x80e)]&&await _0x301533[_0x9b2c9d(0x8f)](0x0);}catch(i){n?o[s][_0x9b2c9d(0x5c5)](t,!0x1):o[s]['unshift'](t,!0x1),await e['wait']();}}s=!0x1;}}return Object[_0x5b8a19(0x78c)](t)['forEach'](e=>{'string'!=typeof e&&(o[e]=_0x5f1195(i));}),{'queues':o};}(new _0x121924(this['sendAction']['bind'](this),this[_0x47ccb7(0x468)][_0x47ccb7(0x62e)](this)));[_0x47ccb7(0x315)]=0x0;['bytesSent']=0x0;[_0x47ccb7(0xf2)]=0x0;[_0x47ccb7(0x6b1)]=0x0;[_0x47ccb7(0x3ee)];['loggingCycle']=_0x2225eb(_0x47ccb7(0x448),_0x5300ce[_0x47ccb7(0x627)]);constructor(_0x406d04,_0x21b5a1,_0x4d3968,_0x990cbb,_0x2e5d01,_0x1aa569,_0x5aae81,_0x2c4254){const _0x5538fc=_0x47ccb7;super(_0x406d04,_0x21b5a1,_0x4d3968,_0x990cbb,_0x2e5d01,_0x2c4254),this['maxFps']=_0x1aa569,this[_0x5538fc(0x7d3)]=_0x5aae81;}[_0x47ccb7(0x3a0)](){const _0x4e74c7=_0x47ccb7;this[_0x4e74c7(0x3da)](),this[_0x4e74c7(0x5a4)](),delete this[_0x4e74c7(0x25f)],this[_0x4e74c7(0xa18)](),this[_0x4e74c7(0x9e1)](),this['clearWaitAnswer'](),this[_0x4e74c7(0xa30)][_0x4e74c7(0x30f)](),this[_0x4e74c7(0x771)]=!0x1,this[_0x4e74c7(0x65a)][_0x4e74c7(0xa1f)][_0x4e74c7(0xa9d)](_0x39c9a9=>_0x39c9a9[_0x4e74c7(0x30f)]()),this[_0x4e74c7(0x65d)](),super[_0x4e74c7(0x3a0)]();}[_0x47ccb7(0x8ac)](){const _0x152c09=_0x47ccb7;return!!this[_0x152c09(0x25f)]&&super[_0x152c09(0x8ac)]()&&Date[_0x152c09(0x31e)]()-this[_0x152c09(0x25f)]<0x3a98;}async[_0x47ccb7(0x55e)](){const _0x525a87=_0x47ccb7;this[_0x525a87(0x9bb)]&&(await this['connection'][_0x525a87(0x331)](this[_0x525a87(0xa30)],(_0x4eaa4a,_0x5140c0)=>{const _0x245c18=_0x525a87;_0x26affb({'type':_0x2cbfba[_0x245c18(0xab4)],'streamId':_0x5140c0,'nodeId':this['remoteId'],'stats':_0x4eaa4a},this[_0x245c18(0x9bb)]);}),this['systemTopic'][_0x525a87(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238['PeerConnection'],'content':{'type':_0x2cbfba['Stats'],'nodeId':this[_0x525a87(0xa54)],'stats':{'origin':_0x511ca7[_0x525a87(0x46d)],'timestamp':Date[_0x525a87(0x31e)](),'messagesSent':this[_0x525a87(0x315)],'bytesSent':this[_0x525a87(0x1e8)],'timeSending':this['timeSending'],'roundTripTime':this[_0x525a87(0x6b1)]}}}));}async[_0x47ccb7(0x95c)](_0x2b131f){const _0x3e1d0c=_0x47ccb7;_0x1a21a7[_0x3e1d0c(0x766)](_0x5300ce[_0x3e1d0c(0x1fe)],'CrewdleSenderConnection\x20createOffer',this[_0x3e1d0c(0x987)][_0x3e1d0c(0x932)](),this[_0x3e1d0c(0xa54)]),this[_0x3e1d0c(0xa18)](),this[_0x3e1d0c(0x9e1)](),this[_0x3e1d0c(0x5dd)](),this[_0x3e1d0c(0x3fa)]=setTimeout(()=>{const _0xd88440=_0x3e1d0c;this[_0xd88440(0x832)]();},0x7530),this['dataChannel']||(this['dataChannel']=this[_0x3e1d0c(0x8b9)][_0x3e1d0c(0x1f8)](_0x3e1d0c(0x4ac)),this['dataChannel'][_0x3e1d0c(0x115)]=_0x4f7423,this[_0x3e1d0c(0x97a)][_0x3e1d0c(0x8cd)]=()=>{const _0x7d9fea=_0x3e1d0c;this[_0x7d9fea(0x3ee)]=setTimeout(()=>{const _0x5ac1fc=_0x7d9fea;delete this['oncloseTimeout'],['connecting','open'][_0x5ac1fc(0x9d0)](this[_0x5ac1fc(0x97a)]?.[_0x5ac1fc(0xa3a)]??'')||this[_0x5ac1fc(0x832)]();},0xfa);});const _0x5cae41=await this[_0x3e1d0c(0x8b9)][_0x3e1d0c(0x95c)](_0x2b131f);this[_0x3e1d0c(0x25f)]||(this['lastHeartbeat']=Date['now']());const _0x514737=(0x0,_0x4c8224['v4'])();this[_0x3e1d0c(0x63b)]({'type':_0x2cbfba['Offer'],'offer':_0x5cae41,'version':this['currentVersion'],'connectionType':this[_0x3e1d0c(0x4e9)]},_0x514737),this[_0x3e1d0c(0x4e9)]===_0x7fd6cc[_0x3e1d0c(0x9ff)]&&(this[_0x3e1d0c(0x782)]=_0x301533[_0x3e1d0c(0x25a)](()=>{const _0x4682bb=_0x3e1d0c;this[_0x4682bb(0x63b)]({'type':_0x2cbfba[_0x4682bb(0x781)],'offer':_0x5cae41,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x514737);},0x1388));}async[_0x47ccb7(0x5d2)](_0x126bbe,_0x3dcd4c){const _0x1011db=_0x47ccb7;if(_0x3dcd4c===this['currentVersion']){this['clearWaitAnswer']();try{await this['connection'][_0x1011db(0x5d2)](_0x126bbe,this[_0x1011db(0x95c)]['bind'](this)),this[_0x1011db(0x192)](),this[_0x1011db(0x9e1)](),this[_0x1011db(0x10f)]();}catch(_0x2fcb7c){this['handleDisconnect']();}}}[_0x47ccb7(0x3dc)](_0x33e3fb){const _0x809b9d=_0x47ccb7;if(!this[_0x809b9d(0x97a)])throw new _0x20e318(_0x20e318['codes'][_0x809b9d(0xabc)],{'message':_0x809b9d(0x196),'localId':this[_0x809b9d(0x987)][_0x809b9d(0x932)](),'remoteId':this[_0x809b9d(0xa54)],'eventMessage':_0x33e3fb});if('open'!==this[_0x809b9d(0x97a)][_0x809b9d(0xa3a)])throw new _0x20e318(_0x20e318[_0x809b9d(0x6f4)][_0x809b9d(0xabc)],{'message':_0x809b9d(0x89c),'localId':this[_0x809b9d(0x987)][_0x809b9d(0x932)](),'remoteId':this['remoteId'],'eventMessage':_0x33e3fb});let _0x2ce51e;if(_0x33e3fb[_0x809b9d(0x3d9)]['data']instanceof ArrayBuffer){const _0x2df450=_0x33e3fb[_0x809b9d(0x3d9)]['data'];_0x33e3fb={..._0x33e3fb,'content':{..._0x33e3fb[_0x809b9d(0x3d9)],'data':void 0x0}},_0x2ce51e=this[_0x809b9d(0xa55)](_0x33e3fb,_0x2df450);}else _0x2ce51e=JSON[_0x809b9d(0xa26)](_0x33e3fb);if(_0x809b9d(0x3af)==typeof _0x2ce51e&&_0x2ce51e['length']>_0x2f173e)return void this[_0x809b9d(0x943)](_0x33e3fb,_0x2ce51e);0x0===_0x33e3fb[_0x809b9d(0x2c5)]&&_0x33e3fb[_0x809b9d(0x153)]===_0x11d238[_0x809b9d(0x416)]&&this[_0x809b9d(0xa88)]['logger'][_0x809b9d(0x72c)](()=>_0x1a21a7['log'](_0x5300ce[_0x809b9d(0x627)],'SenderPeerConnection\x20send',this[_0x809b9d(0xa54)],_0x398502(_0x33e3fb)),void 0x0);const _0x1df34c=0x0===_0x33e3fb[_0x809b9d(0x2c5)]&&[_0x11d238[_0x809b9d(0xad6)],_0x11d238[_0x809b9d(0x7bf)]]['includes'](_0x33e3fb['messageType'])?_0x337f1f['High']:_0x33e3fb instanceof ArrayBuffer?_0x337f1f['Low']:_0x337f1f['Medium'];this['sendWithRetry'](_0x2ce51e,_0x1df34c);}[_0x47ccb7(0x9e5)](_0x4d9433,_0x1a63c3,_0x1d3196,_0x3d1de2){const _0x54f661=_0x47ccb7,_0x17c122=(_0x4c0147=this['maxFps'],_0x2c1f37=this[_0x54f661(0x7d3)],Math[_0x54f661(0x634)](0xe1000*_0x4c0147*_0x2c1f37));var _0x4c0147,_0x2c1f37;const _0x568518=this['senders'][_0x54f661(0x4ab)](_0x1a63c3['id'])||{'stream':_0x1a63c3,'priority':_0x1d3196,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x17c122,'maxBitrate':_0x17c122,'framerate':this[_0x54f661(0x353)],'maxFramerate':this[_0x54f661(0x353)],'tracks':{},'params':_0x3d1de2},_0x5cabb2=_0x568518[_0x54f661(0x8f3)][_0x4d9433['kind']]||{'track':_0x4d9433};if(_0x5cabb2[_0x54f661(0x791)]?(_0x5cabb2['track']=_0x4d9433,this[_0x54f661(0x8b9)][_0x54f661(0x464)](_0x4d9433,_0x5cabb2[_0x54f661(0x791)])):_0x5cabb2[_0x54f661(0x791)]=this[_0x54f661(0x8b9)][_0x54f661(0x9e5)](_0x4d9433,_0x1a63c3),_0x568518[_0x54f661(0x8f3)][_0x4d9433[_0x54f661(0x45f)]]=_0x5cabb2,_0x3d1de2&&(_0x568518[_0x54f661(0x1df)]=_0x3d1de2),_0x3d1de2&&_0x54f661(0xbe)===_0x3d1de2['kind']&&_0x3d1de2['resolution']&&_0x3d1de2[_0x54f661(0xa4f)]&&(_0x568518['resolutionScale']=this[_0x54f661(0xd3)](_0x3d1de2[_0x54f661(0x1a1)],_0x3d1de2['maxResolution']),_0x568518['minResolutionScale']=_0x568518[_0x54f661(0x49c)],_0x568518[_0x54f661(0x8f3)][_0x54f661(0xbe)]&&_0x568518[_0x54f661(0x8f3)][_0x54f661(0xbe)][_0x54f661(0x791)])){const _0x3b5207=_0x568518[_0x54f661(0x8f3)]['video'][_0x54f661(0x791)];this[_0x54f661(0x8b9)][_0x54f661(0x5de)](_0x3b5207,Math['floor'](0xa*_0x568518[_0x54f661(0x49c)])/0xa,_0x568518['framerate'],_0x568518['bitrate'],_0x568518[_0x54f661(0x83f)]);}this['senders'][_0x54f661(0x9de)](_0x1a63c3['id'],_0x568518);}[_0x47ccb7(0x6c2)](_0x32d50b,_0x2d862c){const _0x5b408b=_0x47ccb7,_0x1fc6e3=this[_0x5b408b(0xa30)][_0x5b408b(0x4ab)](_0x32d50b['id']);if(_0x1fc6e3&&_0x1fc6e3[_0x5b408b(0x83f)]!==_0x2d862c&&(_0x1fc6e3[_0x5b408b(0x83f)]=_0x2d862c,_0x1fc6e3['tracks'][_0x5b408b(0xbe)]&&_0x1fc6e3[_0x5b408b(0x8f3)][_0x5b408b(0xbe)]['sender'])){const _0x560d51=_0x1fc6e3[_0x5b408b(0x8f3)][_0x5b408b(0xbe)][_0x5b408b(0x791)];this['connection'][_0x5b408b(0x5de)](_0x560d51,Math['floor'](0xa*_0x1fc6e3[_0x5b408b(0x49c)])/0xa,_0x1fc6e3['framerate'],_0x1fc6e3[_0x5b408b(0x8b2)],_0x1fc6e3['priority']);}}[_0x47ccb7(0x6ad)](_0x41863e,_0x156573){const _0x453f7e=_0x47ccb7,_0xbf96c7=this[_0x453f7e(0xa30)][_0x453f7e(0x4ab)](_0x41863e['id']);if(_0xbf96c7){if(_0xbf96c7['params']=_0x156573,_0x156573&&'video'===_0x156573['kind']&&_0x156573[_0x453f7e(0x1a1)]&&_0x156573[_0x453f7e(0xa4f)]){if(_0xbf96c7[_0x453f7e(0x6c5)]=this[_0x453f7e(0xd3)](_0x156573[_0x453f7e(0x1a1)],_0x156573[_0x453f7e(0xa4f)]),_0xbf96c7[_0x453f7e(0x49c)]<_0xbf96c7[_0x453f7e(0x6c5)]&&(_0xbf96c7[_0x453f7e(0x49c)]=_0xbf96c7[_0x453f7e(0x6c5)]),_0xbf96c7[_0x453f7e(0x8f3)]['video']&&_0xbf96c7[_0x453f7e(0x8f3)]['video']['sender']){const _0x260a88=_0xbf96c7['tracks'][_0x453f7e(0xbe)][_0x453f7e(0x791)];this['connection']['setEncodingParameters'](_0x260a88,Math['floor'](0xa*_0xbf96c7[_0x453f7e(0x49c)])/0xa,_0xbf96c7[_0x453f7e(0x9ea)],_0xbf96c7[_0x453f7e(0x8b2)],_0xbf96c7[_0x453f7e(0x83f)]);}this['clearUpgradeTimeout'](),this[_0x453f7e(0x789)]();}this[_0x453f7e(0xa30)][_0x453f7e(0x9de)](_0x41863e['id'],_0xbf96c7);}}['removeTrack'](_0x569649,_0x1846f4){const _0x309aff=_0x47ccb7,_0x5f1d62=this[_0x309aff(0xa30)][_0x309aff(0x4ab)](_0x1846f4['id']);if(_0x5f1d62){const _0x2b9a39=_0x5f1d62[_0x309aff(0x8f3)][_0x569649['kind']];_0x2b9a39&&(_0x2b9a39[_0x309aff(0x791)]&&this['connection'][_0x309aff(0x897)](_0x2b9a39['sender']),_0x2b9a39[_0x309aff(0x5ca)]=void 0x0);}}[_0x47ccb7(0x17e)](_0x55632c){const _0x51e9ee=_0x47ccb7;this['clearUpgradeTimeout']();const _0x4f48bf=function(_0x28eb8f,_0x32313b){const _0x128114=a0_0x17d3;return _0x28eb8f['sort']((_0x504993,_0x49c451)=>_0x32313b[_0x128114(0x2f5)]===_0x5454a8[_0x128114(0xd8)]?_0x49c451['priority']-_0x504993['priority']:_0x504993[_0x128114(0x83f)]-_0x49c451[_0x128114(0x83f)])[_0x128114(0x1b5)](_0x35f490=>function(_0x4bc23b,_0x34a95a){const _0x20e9ed=_0x128114;if(_0x34a95a['action']===_0x5454a8['Downgrade']){if(_0x34a95a[_0x20e9ed(0x7d7)]===_0x9bc2bf[_0x20e9ed(0x1ea)])return _0x4bc23b[_0x20e9ed(0x49c)]<0x4||_0x4bc23b[_0x20e9ed(0x7e)]>0xf;if(_0x34a95a[_0x20e9ed(0x7d7)]===_0x9bc2bf[_0x20e9ed(0x53d)])return _0x4bc23b[_0x20e9ed(0xb6)]>_0x5683d0;}return _0x4bc23b[_0x20e9ed(0x49c)]>_0x4bc23b[_0x20e9ed(0x6c5)]||_0x4bc23b[_0x20e9ed(0x9ea)]<_0x4bc23b[_0x20e9ed(0x7e)]||_0x4bc23b[_0x20e9ed(0x8b2)]<_0x4bc23b[_0x20e9ed(0xb6)];}(_0x35f490,_0x32313b));}(Array[_0x51e9ee(0x48b)](this[_0x51e9ee(0xa30)][_0x51e9ee(0x78c)]()),_0x55632c);if(_0x4f48bf&&(function(_0x461cb9,_0x177701){const _0x100338=_0x51e9ee;_0x461cb9[_0x100338(0x8f3)][_0x100338(0xbe)]&&_0x461cb9[_0x100338(0x8f3)][_0x100338(0xbe)]['sender']&&(_0x461cb9[_0x100338(0x49c)]=function(_0x56e421,_0x4c51e4,_0x57aad5){const _0x3e1a0f=_0x100338;switch(_0x57aad5['action']){case _0x5454a8[_0x3e1a0f(0xd8)]:_0x57aad5[_0x3e1a0f(0x7d7)]===_0x9bc2bf['Resolution']&&(_0x56e421+=0.5)>0x4&&(_0x56e421=0x4);break;case _0x5454a8[_0x3e1a0f(0x8e3)]:(_0x56e421-=0.5)<_0x4c51e4&&(_0x56e421=_0x4c51e4);}return _0x56e421;}(_0x461cb9[_0x100338(0x49c)],_0x461cb9[_0x100338(0x6c5)],_0x177701),_0x461cb9['framerate']=function(_0xbd3d7c,_0x545306,_0x25b4de){const _0x13466c=_0x100338;switch(_0x25b4de[_0x13466c(0x2f5)]){case _0x5454a8[_0x13466c(0xd8)]:_0x25b4de[_0x13466c(0x7d7)]===_0x9bc2bf[_0x13466c(0x1ea)]&&(_0xbd3d7c-=0x3)<0xf&&(_0xbd3d7c=0xf);break;case _0x5454a8[_0x13466c(0x8e3)]:(_0xbd3d7c+=0x3)>_0x545306&&(_0xbd3d7c=_0x545306);}return _0xbd3d7c;}(_0x461cb9[_0x100338(0x9ea)],_0x461cb9['maxFramerate'],_0x177701),_0x461cb9[_0x100338(0x8b2)]=function(_0x308e87,_0x647fd8,_0x2da946){const _0x3cd996=_0x100338;switch(_0x2da946[_0x3cd996(0x2f5)]){case _0x5454a8[_0x3cd996(0xd8)]:_0x2da946[_0x3cd996(0x7d7)]===_0x9bc2bf[_0x3cd996(0x53d)]&&(_0x308e87*=0.75)<_0x5683d0&&(_0x308e87=_0x5683d0);break;case _0x5454a8[_0x3cd996(0x8e3)]:(_0x308e87*=1.25)>_0x647fd8&&(_0x308e87=_0x647fd8);}return _0x308e87;}(_0x461cb9[_0x100338(0x8b2)],_0x461cb9[_0x100338(0xb6)],_0x177701));}(_0x4f48bf,_0x55632c),_0x4f48bf[_0x51e9ee(0x8f3)][_0x51e9ee(0xbe)]&&_0x4f48bf[_0x51e9ee(0x8f3)][_0x51e9ee(0xbe)]['sender'])){const _0x5b6985=_0x4f48bf[_0x51e9ee(0x8f3)][_0x51e9ee(0xbe)]['sender'];this[_0x51e9ee(0x8b9)]['setEncodingParameters'](_0x5b6985,Math[_0x51e9ee(0x634)](0xa*_0x4f48bf['resolutionScale'])/0xa,_0x4f48bf[_0x51e9ee(0x9ea)],_0x4f48bf[_0x51e9ee(0x8b2)],_0x4f48bf[_0x51e9ee(0x83f)]);}(_0x4f48bf||_0x55632c['action']===_0x5454a8[_0x51e9ee(0xd8)])&&this[_0x51e9ee(0x789)]();}['calculateArrayBufferSize'](){const _0x564423=_0x47ccb7;return this[_0x564423(0x65a)][_0x564423(0xa1f)][_0x564423(0x5b5)]((_0x321d47,_0x29c45b)=>_0x321d47+_0x29c45b['size'],0x0)*_0x4af52b;}['getBufferedAmount'](){const _0x520e71=_0x47ccb7;return this[_0x520e71(0x97a)]?.[_0x520e71(0x2e7)]??0x0;}[_0x47ccb7(0x2f1)](){const _0x15dd33=_0x47ccb7;super[_0x15dd33(0x2f1)](),this[_0x15dd33(0x65d)](),this[_0x15dd33(0x5dd)](),this[_0x15dd33(0xa30)][_0x15dd33(0xa9d)](_0x191134=>{const _0x52bb98=_0x15dd33;_0x191134[_0x52bb98(0x8f3)]['video']&&(_0x191134['tracks'][_0x52bb98(0xbe)][_0x52bb98(0x791)]=void 0x0),_0x191134['tracks'][_0x52bb98(0x236)]&&(_0x191134['tracks']['audio'][_0x52bb98(0x791)]=void 0x0);}),this[_0x15dd33(0x771)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x7d0ece=>{const _0x1af3c6=a0_0x17d3;if(!this[_0x1af3c6(0x97a)]||'open'!==this['dataChannel'][_0x1af3c6(0xa3a)])return await _0x301533[_0x1af3c6(0x8f)](0x64),void _0x7d0ece();this[_0x1af3c6(0x97a)][_0x1af3c6(0x2e7)]<_0x4f7423?_0x7d0ece():this[_0x1af3c6(0x97a)][_0x1af3c6(0x312)]=()=>{const _0x7d8191=_0x1af3c6;this['dataChannel']&&(this[_0x7d8191(0x97a)]['onBufferedAmountLow']=null),_0x7d0ece();};});}async[_0x47ccb7(0x943)](_0x507def,_0x4de1a3){const _0x451a0d=_0x47ccb7,_0x3beabe=[];for(let _0x39c9f6=0x0;_0x39c9f6<_0x4de1a3[_0x451a0d(0x583)];_0x39c9f6+=_0x2f173e)_0x3beabe[_0x451a0d(0x5c5)](_0x4de1a3[_0x451a0d(0xa9c)](_0x39c9f6,_0x39c9f6+_0x2f173e));for(const _0x17e08d of _0x3beabe){for(;this[_0x451a0d(0x65a)][_0x451a0d(0xa1f)][_0x337f1f[_0x451a0d(0x95f)]][_0x451a0d(0x8f6)]>0x1;)await _0x301533['wait'](0x64);this[_0x451a0d(0x9d3)](_0x43b3bd+';'+_0x507def[_0x451a0d(0x87a)]+';'+_0x3beabe['indexOf'](_0x17e08d)+';'+_0x3beabe[_0x451a0d(0x583)]+';'+_0x17e08d,_0x337f1f['Low']);}}async[_0x47ccb7(0x9d3)](_0x49243d,_0x2b8b3a){const _0x3d6ae5=_0x47ccb7;_0x49243d===_0x2eaaf3?this[_0x3d6ae5(0x65a)]['queues'][_0x2b8b3a][_0x3d6ae5(0x80e)]?.['value']!==_0x2eaaf3&&this[_0x3d6ae5(0x65a)][_0x3d6ae5(0xa1f)][_0x2b8b3a][_0x3d6ae5(0x36e)](_0x49243d):this[_0x3d6ae5(0x65a)][_0x3d6ae5(0xa1f)][_0x2b8b3a][_0x3d6ae5(0x5c5)](_0x49243d);}['sendAction'](_0x34d939){const _0x4fd6f4=_0x47ccb7;if(!this['dataChannel']||_0x4fd6f4(0x7f6)!==this[_0x4fd6f4(0x97a)][_0x4fd6f4(0xa3a)])throw new Error(_0x4fd6f4(0x53f));if(this[_0x4fd6f4(0x97a)][_0x4fd6f4(0x2e7)]>=0x600000)throw new Error(_0x4fd6f4(0x9c4));const _0x135bc5=Date[_0x4fd6f4(0x31e)]();_0x34d939!==_0x2eaaf3&&(this[_0x4fd6f4(0x315)]+=0x1,this[_0x4fd6f4(0x1e8)]+=_0x34d939 instanceof ArrayBuffer?_0x34d939[_0x4fd6f4(0xab2)]:_0x34d939['length']);try{ArrayBuffer,this[_0x4fd6f4(0x97a)][_0x4fd6f4(0x3dc)](_0x34d939);}catch(_0x3e408e){throw console[_0x4fd6f4(0xa14)](_0x4fd6f4(0x9ad),_0x3e408e),_0x3e408e;}this['timeSending']+=Date[_0x4fd6f4(0x31e)]()-_0x135bc5;}['startHeartbeat'](){const _0x59cf44=_0x47ccb7;this[_0x59cf44(0x37d)]&&this[_0x59cf44(0x5a4)]();let _0x55c837=!0x0,_0x1740ef=Date[_0x59cf44(0x31e)]();this['lastHeartbeat']=Date[_0x59cf44(0x31e)](),this[_0x59cf44(0x97a)]['onMessage']=_0xad2e4b=>{const _0x31666a=_0x59cf44;'1'===_0xad2e4b[_0x31666a(0x4ac)]&&(this['roundTripTime']=Date[_0x31666a(0x31e)]()-_0x1740ef,_0x55c837&&this['publishSystemMessage']({'type':_0x2cbfba[_0x31666a(0xa31)]}),_0x55c837=!0x1,this[_0x31666a(0x25f)]=Date[_0x31666a(0x31e)](),this[_0x31666a(0x771)]&&(this[_0x31666a(0x771)]=!0x1,this['handleMissingSenders']()));},this[_0x59cf44(0x37d)]=_0x301533[_0x59cf44(0x25a)](()=>{const _0x1edc99=_0x59cf44;_0x1740ef=Date[_0x1edc99(0x31e)](),this[_0x1edc99(0x9d3)](_0x2eaaf3,_0x337f1f[_0x1edc99(0x267)]),Date[_0x1edc99(0x31e)]()-this[_0x1edc99(0x25f)]>(_0x55c837?0x15f90:0x3a98)&&this[_0x1edc99(0x832)]();},0xbb8);}['handleMissingSenders'](){const _0x4d082a=_0x47ccb7;this[_0x4d082a(0xa30)][_0x4d082a(0xa9d)](_0x4bf346=>{const _0x3da6d1=_0x4d082a;_0x4bf346[_0x3da6d1(0x8f3)][_0x3da6d1(0xbe)]&&_0x4bf346[_0x3da6d1(0x8f3)][_0x3da6d1(0xbe)][_0x3da6d1(0x5ca)]&&!_0x4bf346['tracks'][_0x3da6d1(0xbe)]['sender']&&(_0x4bf346[_0x3da6d1(0x8f3)][_0x3da6d1(0xbe)]['sender']=this[_0x3da6d1(0x8b9)][_0x3da6d1(0x9e5)](_0x4bf346[_0x3da6d1(0x8f3)][_0x3da6d1(0xbe)][_0x3da6d1(0x5ca)],_0x4bf346['stream'])),_0x4bf346['tracks'][_0x3da6d1(0x236)]&&_0x4bf346[_0x3da6d1(0x8f3)][_0x3da6d1(0x236)]['track']&&!_0x4bf346['tracks'][_0x3da6d1(0x236)]['sender']&&(_0x4bf346[_0x3da6d1(0x8f3)]['audio'][_0x3da6d1(0x791)]=this[_0x3da6d1(0x8b9)][_0x3da6d1(0x9e5)](_0x4bf346[_0x3da6d1(0x8f3)][_0x3da6d1(0x236)][_0x3da6d1(0x5ca)],_0x4bf346[_0x3da6d1(0x69f)]));});}[_0x47ccb7(0x8c9)](){const _0x398374=_0x47ccb7;this[_0x398374(0x63b)]({'type':_0x2cbfba[_0x398374(0x17d)],'candidates':this[_0x398374(0x2c0)],'origin':_0x511ca7[_0x398374(0x46d)],'version':this['currentVersion'],'connectionType':this[_0x398374(0x4e9)]});}[_0x47ccb7(0x636)](){const _0x7ed109=_0x47ccb7;super[_0x7ed109(0x636)](),this[_0x7ed109(0x8b9)][_0x7ed109(0x5ff)]=()=>{const _0x2895e0=_0x7ed109;if(_0x2895e0(0x70a)===this[_0x2895e0(0x8b9)]['handshakeState']){_0x1a21a7['log'](_0x5300ce[_0x2895e0(0x13c)],_0x2895e0(0x89f),this[_0x2895e0(0x987)][_0x2895e0(0x932)](),this['remoteId']);try{if(this[_0x2895e0(0x8b9)][_0x2895e0(0x52c)])return void this['connection'][_0x2895e0(0x914)]();}catch(_0x2d07f1){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x7ed109(0x8b9)]['onConnectionStateChange']=()=>{const _0x5d863e=_0x7ed109;_0x5d863e(0x166)!==this[_0x5d863e(0x8b9)][_0x5d863e(0x619)]&&_0x5d863e(0x70a)!==this[_0x5d863e(0x8b9)][_0x5d863e(0x619)]||this[_0x5d863e(0x832)]();};}[_0x47ccb7(0x832)](){const _0x451f6d=_0x47ccb7;this[_0x451f6d(0x5a4)](),this['clearRestartTimeout'](),this[_0x451f6d(0x9e1)](),_0x1a21a7[_0x451f6d(0x1b8)]('disconnect',{'clusterId':this[_0x451f6d(0x8b5)],'nodeId':this[_0x451f6d(0x987)][_0x451f6d(0x932)](),'nodeType':this[_0x451f6d(0x987)][_0x451f6d(0x96)],'remoteId':this[_0x451f6d(0xa54)],'data':{'connectionType':this[_0x451f6d(0x4e9)],'connectionState':this[_0x451f6d(0x8b9)][_0x451f6d(0x619)],'iceConnectionState':this[_0x451f6d(0x8b9)][_0x451f6d(0x318)],'signalingState':this[_0x451f6d(0x8b9)][_0x451f6d(0x58b)],'readyState':this[_0x451f6d(0x97a)]?.[_0x451f6d(0xa3a)]||'','lastHeartbeat':this[_0x451f6d(0x25f)]?Date[_0x451f6d(0x31e)]()-this['lastHeartbeat']:'','retryQueue':this['retryQueue']}}),(this[_0x451f6d(0x25f)]&&Date['now']()-this[_0x451f6d(0x25f)]>0xea60)??0x1?this['systemTopic'][_0x451f6d(0x19c)]({'sourceId':this[_0x451f6d(0xa54)],'destinationIds':[this[_0x451f6d(0x987)][_0x451f6d(0x932)]()],'messageType':_0x11d238[_0x451f6d(0x7bf)],'content':{'type':_0x2cbfba[_0x451f6d(0x9a9)]}}):(this[_0x451f6d(0x2f1)](),this[_0x451f6d(0x63b)]({'type':_0x2cbfba[_0x451f6d(0x9ae)],'version':this[_0x451f6d(0x361)],'connectionType':this[_0x451f6d(0x4e9)]}),this[_0x451f6d(0xaba)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x47ccb7(0x5a4)](){const _0x1529eb=_0x47ccb7;this[_0x1529eb(0x37d)]?.(),delete this[_0x1529eb(0x37d)];}[_0x47ccb7(0x9e1)](){const _0x4d33c=_0x47ccb7;this['connectionTimeout']&&(clearTimeout(this['connectionTimeout']),delete this[_0x4d33c(0x3fa)]);}[_0x47ccb7(0xa18)](){const _0x23a37d=_0x47ccb7;this[_0x23a37d(0xaba)]&&(clearTimeout(this['restartTimeout']),delete this[_0x23a37d(0xaba)]);}[_0x47ccb7(0x3da)](){const _0x5ba37c=_0x47ccb7;this[_0x5ba37c(0x9d7)]&&(clearTimeout(this[_0x5ba37c(0x9d7)]),delete this['upgradeTimeout']);}['setUpgradeTimeout'](){this['upgradeTimeout']=setTimeout(()=>{const _0x5af9bb=a0_0x17d3;this[_0x5af9bb(0x17e)]({'type':_0x1c48dc[_0x5af9bb(0x62c)],'action':_0x5454a8[_0x5af9bb(0x8e3)]});},0x3a98);}[_0x47ccb7(0xd3)](_0x318c6b,_0x4f1fed){const _0x2596fa=_0x47ccb7,_0x2d4d5b=Math[_0x2596fa(0x6ce)](_0x318c6b[_0x2596fa(0x884)]/_0x4f1fed[_0x2596fa(0x884)],_0x318c6b[_0x2596fa(0x6c9)]/_0x4f1fed[_0x2596fa(0x6c9)]);return Math[_0x2596fa(0xa20)](Math[_0x2596fa(0x6ce)](_0x2d4d5b,0x1),0x4);}['clearWaitAnswer'](){const _0x47c5b0=_0x47ccb7;this[_0x47c5b0(0x782)]?.(),delete this[_0x47c5b0(0x782)];}[_0x47ccb7(0x65d)](){const _0xde2afd=_0x47ccb7;this[_0xde2afd(0x3ee)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0xde2afd(0x3ee)]);}[_0x47ccb7(0x9dc)](_0x40941a){const _0x3ca8ef=_0x47ccb7,_0x39638b=JSON[_0x3ca8ef(0xa26)](_0x40941a);return new TextEncoder()['encode'](_0x39638b)[_0x3ca8ef(0x911)];}['mergeParts'](_0x3cee9d,_0x228735){const _0x5b065e=_0x47ccb7,_0x110cb1=this[_0x5b065e(0x9dc)](_0x3cee9d),_0x43cb82=new Uint8Array(0x4),_0x4f7062=new Uint8Array(_0x110cb1),_0x396b12=new Uint8Array(_0x228735);_0x43cb82[_0x5b065e(0x9de)](new Uint8Array(new Uint32Array([_0x4f7062[_0x5b065e(0x583)]])[_0x5b065e(0x911)]));const _0x260f3c=new Uint8Array(0x4+_0x4f7062[_0x5b065e(0x583)]+_0x396b12[_0x5b065e(0x583)]);return _0x260f3c[_0x5b065e(0x9de)](_0x43cb82),_0x260f3c[_0x5b065e(0x9de)](_0x4f7062,0x4),_0x260f3c[_0x5b065e(0x9de)](_0x396b12,0x4+_0x4f7062[_0x5b065e(0x583)]),_0x260f3c['buffer'];}}class _0x16a889 extends _0x109ed0{['iceServers'];[_0x47ccb7(0x4e9)];[_0x47ccb7(0x353)];[_0x47ccb7(0x7d3)];[_0x47ccb7(0xa8b)];['senderConnection'];[_0x47ccb7(0x183)];[_0x47ccb7(0x811)]=[];[_0x47ccb7(0x81b)]=_0x4aa13e();[_0x47ccb7(0x660)]=_0x4aa13e();['removeTrackListeners']=_0x4aa13e();[_0x47ccb7(0xad8)]=[];[_0x47ccb7(0x9bb)];[_0x47ccb7(0xa90)]=new Map();[_0x47ccb7(0x72b)]=new Map();[_0x47ccb7(0x80c)]=new Map();[_0x47ccb7(0x32a)]=new Map();[_0x47ccb7(0x545)]=!0x1;constructor(_0xb59f93,_0x30e559,_0x3bb8ac,_0xe3e76f,_0x4f6587,_0x5df272,_0x1c032f,_0xb63553){const _0x3ec6ad=_0x47ccb7;super(_0xb59f93,_0x30e559,_0x3bb8ac),this[_0x3ec6ad(0x2a9)]=_0xe3e76f,this['connectionType']=_0x4f6587,this[_0x3ec6ad(0x353)]=_0x5df272,this[_0x3ec6ad(0x7d3)]=_0x1c032f,this[_0x3ec6ad(0xa8b)]=_0xb63553;}[_0x47ccb7(0x5bf)](_0x3d3a27){const _0x3006c4=_0x47ccb7;switch(_0x3d3a27[_0x3006c4(0x9a2)]()){case _0x46b128['ContentType'][_0x3006c4(0x5d7)]:case _0x46b128[_0x3006c4(0x5c1)][_0x3006c4(0x37c)]:case _0x46b128['ContentType']['ObjectStore']:case _0x46b128['ContentType'][_0x3006c4(0x9af)]:case _0x46b128[_0x3006c4(0x5c1)][_0x3006c4(0x756)]:case _0x46b128[_0x3006c4(0x5c1)]['VectorDatabase']:case _0x46b128['ContentType'][_0x3006c4(0x120)]:case _0x46b128[_0x3006c4(0x5c1)][_0x3006c4(0x370)]:this[_0x3006c4(0xa90)]['set'](_0x3d3a27[_0x3006c4(0x409)](),_0x3d3a27);break;case _0x46b128[_0x3006c4(0x5c1)][_0x3006c4(0x306)]:this['mediaTopics']['set'](_0x3d3a27[_0x3006c4(0x409)](),_0x3d3a27);}}['unregisterPublisher'](_0x298178){const _0x260843=_0x47ccb7;switch(_0x298178[_0x260843(0x9a2)]()){case _0x46b128[_0x260843(0x5c1)][_0x260843(0x5d7)]:case _0x46b128[_0x260843(0x5c1)][_0x260843(0x37c)]:case _0x46b128[_0x260843(0x5c1)][_0x260843(0x64c)]:case _0x46b128[_0x260843(0x5c1)][_0x260843(0x9af)]:case _0x46b128[_0x260843(0x5c1)]['Job']:case _0x46b128['ContentType']['VectorDatabase']:case _0x46b128[_0x260843(0x5c1)]['GraphDatabase']:case _0x46b128[_0x260843(0x5c1)]['ExternalStorage']:this[_0x260843(0xa90)][_0x260843(0x7b9)](_0x298178[_0x260843(0x409)]());break;case _0x46b128['ContentType'][_0x260843(0x306)]:this[_0x260843(0x80c)][_0x260843(0x7b9)](_0x298178[_0x260843(0x409)]());}}[_0x47ccb7(0x816)](_0x2c985b){const _0x3ffe7a=_0x47ccb7;switch(_0x2c985b[_0x3ffe7a(0x9a2)]()){case _0x46b128[_0x3ffe7a(0x5c1)][_0x3ffe7a(0x5d7)]:case _0x46b128['ContentType']['PubSub']:case _0x46b128['ContentType'][_0x3ffe7a(0x64c)]:case _0x46b128[_0x3ffe7a(0x5c1)][_0x3ffe7a(0x9af)]:case _0x46b128[_0x3ffe7a(0x5c1)]['Job']:case _0x46b128[_0x3ffe7a(0x5c1)][_0x3ffe7a(0x543)]:case _0x46b128[_0x3ffe7a(0x5c1)][_0x3ffe7a(0x120)]:case _0x46b128[_0x3ffe7a(0x5c1)][_0x3ffe7a(0x370)]:{const _0x4c6704=_0x2c985b[_0x3ffe7a(0x9b4)](_0x3979f0=>{const _0x1957f8=_0x3ffe7a;_0xf234a8(_0x3979f0,this[_0x1957f8(0x539)]())&&_0x45f5dd(_0x3979f0,this[_0x1957f8(0xa54)])&&this['send'](_0x3979f0);});this[_0x3ffe7a(0x72b)]['set'](_0x2c985b[_0x3ffe7a(0x409)](),_0x4c6704);break;}case _0x46b128[_0x3ffe7a(0x5c1)][_0x3ffe7a(0x306)]:{const _0x18d780=_0x2c985b[_0x3ffe7a(0x9b4)](({content:_0x113320})=>{const _0x4fc134=_0x3ffe7a;switch(_0x113320[_0x4fc134(0x2f5)]){case _0x455879[_0x4fc134(0x4ec)]:this['addTrack'](_0x113320[_0x4fc134(0x5ca)],_0x113320[_0x4fc134(0x69f)],_0x113320[_0x4fc134(0x83f)],_0x113320[_0x4fc134(0x1df)]);break;case _0x455879['Remove']:this['removeTrack'](_0x113320[_0x4fc134(0x5ca)],_0x113320[_0x4fc134(0x69f)]);break;case _0x455879['Update']:_0x113320[_0x4fc134(0x83f)]&&this['setPriority'](_0x113320[_0x4fc134(0x69f)],_0x113320['priority']),_0x113320['params']&&this['setParams'](_0x113320[_0x4fc134(0x69f)],_0x113320[_0x4fc134(0x1df)]);}});this['mediaUnsubscribers'][_0x3ffe7a(0x9de)](_0x2c985b[_0x3ffe7a(0x409)](),_0x18d780);break;}}}[_0x47ccb7(0x257)](_0x3a4474){const _0x581bf6=_0x47ccb7;switch(_0x3a4474[_0x581bf6(0x9a2)]()){case _0x46b128['ContentType'][_0x581bf6(0x5d7)]:case _0x46b128[_0x581bf6(0x5c1)][_0x581bf6(0x37c)]:case _0x46b128['ContentType'][_0x581bf6(0x64c)]:case _0x46b128[_0x581bf6(0x5c1)][_0x581bf6(0x9af)]:case _0x46b128[_0x581bf6(0x5c1)][_0x581bf6(0x756)]:case _0x46b128[_0x581bf6(0x5c1)][_0x581bf6(0x543)]:case _0x46b128['ContentType']['GraphDatabase']:case _0x46b128[_0x581bf6(0x5c1)]['ExternalStorage']:this[_0x581bf6(0x72b)][_0x581bf6(0x4ab)](_0x3a4474['getLabel']())?.(),this['dataUnsubscribers'][_0x581bf6(0x7b9)](_0x3a4474[_0x581bf6(0x409)]());break;case _0x46b128['ContentType'][_0x581bf6(0x306)]:this['mediaUnsubscribers'][_0x581bf6(0x4ab)](_0x3a4474['getLabel']())?.(),this[_0x581bf6(0x32a)][_0x581bf6(0x7b9)](_0x3a4474[_0x581bf6(0x409)]());}}[_0x47ccb7(0x21b)](){const _0x312276=_0x47ccb7;return[_0x46b128[_0x312276(0x5c1)][_0x312276(0x5d7)],_0x46b128[_0x312276(0x5c1)][_0x312276(0x306)],_0x46b128['ContentType'][_0x312276(0x37c)],_0x46b128[_0x312276(0x5c1)][_0x312276(0x64c)],_0x46b128[_0x312276(0x5c1)][_0x312276(0x9af)],_0x46b128[_0x312276(0x5c1)][_0x312276(0x756)],_0x46b128[_0x312276(0x5c1)][_0x312276(0x543)],_0x46b128[_0x312276(0x5c1)]['GraphDatabase'],_0x46b128[_0x312276(0x5c1)][_0x312276(0x370)]];}['registerSystemPublisher'](_0x58f547){const _0x2716fb=_0x47ccb7;this[_0x2716fb(0x9bb)]=_0x58f547;}[_0x47ccb7(0xa03)](){const _0x2ed24e=_0x47ccb7;delete this[_0x2ed24e(0x9bb)];}async[_0x47ccb7(0x4f6)](){const _0x4ce6d9=_0x47ccb7;this[_0x4ce6d9(0x787)](),await this[_0x4ce6d9(0x95c)]();}[_0x47ccb7(0x3a0)](){const _0x33be75=_0x47ccb7;this[_0x33be75(0xad8)][_0x33be75(0xa9d)](_0x34caf2=>_0x34caf2()),this['listenerUnsubscribers']=[],this['senderConnection']?.['unregisterSystemPublisher'](),this[_0x33be75(0x262)]?.['close'](),delete this[_0x33be75(0x262)],this['receiverUnsubscribers'][_0x33be75(0xa9d)](_0x5883b6=>_0x5883b6()),this[_0x33be75(0x811)]=[],this[_0x33be75(0x183)]?.[_0x33be75(0xa03)](),this[_0x33be75(0x183)]?.[_0x33be75(0x3a0)](),delete this[_0x33be75(0x183)];}[_0x47ccb7(0x8ac)](){const _0x4f33c8=_0x47ccb7;return this[_0x4f33c8(0x262)]?.['isConnected']()&&this[_0x4f33c8(0x183)]?.[_0x4f33c8(0x8ac)]()||!0x1;}['send'](_0x3c2fa7){const _0x3fae60=_0x47ccb7;if(!this['senderConnection']||!this[_0x3fae60(0x8ac)]())throw new _0x20e318(_0x20e318[_0x3fae60(0x6f4)][_0x3fae60(0x4ce)],{'message':_0x3fae60(0x112),'senderConnected':this['senderConnection']?.[_0x3fae60(0x8ac)](),'receiverConnected':this[_0x3fae60(0x183)]?.[_0x3fae60(0x8ac)](),'localId':this[_0x3fae60(0x539)](),'remoteId':this[_0x3fae60(0xa54)],'data':_0x3c2fa7});this[_0x3fae60(0x262)]['send'](_0x3c2fa7);}[_0x47ccb7(0x9ef)](_0x554476){const _0x294ae3=_0x47ccb7;return this[_0x294ae3(0x81b)][_0x294ae3(0x9b4)](_0x554476);}[_0x47ccb7(0xade)](_0x1926cf){const _0x548e56=_0x47ccb7;return this[_0x548e56(0x660)][_0x548e56(0x9b4)](({track:_0xfe644c,stream:_0x58f8b1})=>_0x1926cf(_0xfe644c,_0x58f8b1));}[_0x47ccb7(0x752)](_0x47cdb5){const _0x2116d0=_0x47ccb7;return this[_0x2116d0(0x1d5)][_0x2116d0(0x9b4)](({track:_0x397c56,stream:_0xea515d})=>_0x47cdb5(_0x397c56,_0xea515d));}[_0x47ccb7(0x9e5)](_0x54b467,_0x3bca41,_0x101784,_0xd386ba){const _0x2203d1=_0x47ccb7;this['senderConnection']?.[_0x2203d1(0x9e5)](_0x54b467,_0x3bca41,_0x101784,_0xd386ba);}[_0x47ccb7(0x6c2)](_0x166457,_0x5e7f2d){const _0x6e68b9=_0x47ccb7;this['senderConnection']?.[_0x6e68b9(0x6c2)](_0x166457,_0x5e7f2d);}[_0x47ccb7(0x6ad)](_0x2b180d,_0x46fd98){const _0x13c745=_0x47ccb7;this[_0x13c745(0x262)]?.[_0x13c745(0x6ad)](_0x2b180d,_0x46fd98);}[_0x47ccb7(0x897)](_0x169fb0,_0x21ee26){const _0xe54111=_0x47ccb7;this[_0xe54111(0x262)]?.[_0xe54111(0x897)](_0x169fb0,_0x21ee26);}async[_0x47ccb7(0xde)](_0x558967){const _0x3d09e0=_0x47ccb7;_0x1a21a7['log'](_0x5300ce[_0x3d09e0(0x1fe)],_0x3d09e0(0xa06),this[_0x3d09e0(0x539)](),_0x558967);const {content:_0x2e7eaa}=_0x558967;switch(_0x2e7eaa[_0x3d09e0(0x96)]){case _0x2cbfba['Offer']:await this['handleOffer'](_0x2e7eaa);break;case _0x2cbfba[_0x3d09e0(0xbb)]:await this[_0x3d09e0(0x5d2)](_0x2e7eaa);break;case _0x2cbfba[_0x3d09e0(0xa31)]:this[_0x3d09e0(0x538)]();break;case _0x2cbfba[_0x3d09e0(0x17d)]:await this[_0x3d09e0(0x931)](_0x2e7eaa);break;case _0x2cbfba['NeedRestart']:this[_0x3d09e0(0x224)](_0x2e7eaa);break;case _0x2cbfba[_0x3d09e0(0x684)]:await this['createOffer']();}}[_0x47ccb7(0x830)](_0x488cc2){const _0x56e2a8=_0x47ccb7;this['senderConnection']?.[_0x56e2a8(0x17e)](_0x488cc2[_0x56e2a8(0x3d9)]['data']);}[_0x47ccb7(0x678)](){const _0x3e48b9=_0x47ccb7;return this[_0x3e48b9(0x4e9)];}[_0x47ccb7(0x736)](_0x1adba7){const _0x134b6b=_0x47ccb7;this[_0x134b6b(0x4e9)]=_0x1adba7,this[_0x134b6b(0x262)]?.[_0x134b6b(0x736)](_0x1adba7),this[_0x134b6b(0x183)]?.['setConnectionType'](_0x1adba7);}async[_0x47ccb7(0x55e)](){const _0x4f1fba=_0x47ccb7;await this[_0x4f1fba(0x262)]?.['collectStats'](),await this['receiverConnection']?.[_0x4f1fba(0x55e)]();}[_0x47ccb7(0x934)](){const _0x482705=_0x47ccb7;return this[_0x482705(0x262)]?.[_0x482705(0x934)]()??0x0;}['getBufferedAmount'](){const _0x304417=_0x47ccb7;return this[_0x304417(0x262)]?.['getBufferedAmount']()??0x0;}[_0x47ccb7(0x787)](){const _0x4e78e4=_0x47ccb7;this[_0x4e78e4(0xad8)]['push'](this[_0x4e78e4(0x9ef)](_0x496036=>{const _0x575399=_0x4e78e4;_0x45f5dd(_0x496036,this[_0x575399(0x539)]())&&0x0!==_0x496036[_0x575399(0x2c5)]&&this[_0x575399(0xa90)][_0x575399(0x4ab)](_0x496036['topicLabel'])?.['publish'](_0x496036);})),this[_0x4e78e4(0xad8)][_0x4e78e4(0x5c5)](this[_0x4e78e4(0xade)]((_0x5c0a77,_0xf3e176)=>{const _0x2c71c2=_0x4e78e4,_0x1dee8e=_0x80b770(_0x46b128[_0x2c71c2(0x5c1)]['Media'],_0xf3e176['id'],this[_0x2c71c2(0xa54)]);this['mediaTopics'][_0x2c71c2(0x4ab)](_0x1dee8e)?.['publish']({'topicLabel':_0x1dee8e,'sourceId':this[_0x2c71c2(0xa54)],'contentType':_0x46b128[_0x2c71c2(0x5c1)][_0x2c71c2(0x306)],'content':{'action':_0x455879[_0x2c71c2(0xc3)],'track':_0x5c0a77,'stream':_0xf3e176,'providerId':this[_0x2c71c2(0xa54)]}});})),this['listenerUnsubscribers'][_0x4e78e4(0x5c5)](this[_0x4e78e4(0x752)]((_0x148131,_0x279ca9)=>{const _0x1eddf9=_0x4e78e4,_0xc6fdc=_0x80b770(_0x46b128['ContentType'][_0x1eddf9(0x306)],_0x279ca9['id'],this[_0x1eddf9(0xa54)]);this[_0x1eddf9(0x80c)][_0x1eddf9(0x4ab)](_0xc6fdc)?.[_0x1eddf9(0x19c)]({'topicLabel':_0xc6fdc,'sourceId':this[_0x1eddf9(0xa54)],'contentType':_0x46b128[_0x1eddf9(0x5c1)][_0x1eddf9(0x306)],'content':{'action':_0x455879['RemoteRemove'],'track':_0x148131,'stream':_0x279ca9,'providerId':this[_0x1eddf9(0xa54)]}});}));}['handleIceCandidates']({candidates:_0x16dc11,origin:_0x4b79cd,version:_0x163dd2}){const _0x13afb5=_0x47ccb7;return _0x4b79cd===_0x511ca7[_0x13afb5(0x46d)]?(this['receiverConnection']||this[_0x13afb5(0x7d4)](),this['receiverConnection'][_0x13afb5(0x6ef)](_0x16dc11,_0x163dd2)):this['senderConnection']['handleHandshake'](_0x16dc11,_0x163dd2);}async[_0x47ccb7(0x95c)](){const _0x5ddc5=_0x47ccb7;this[_0x5ddc5(0x262)]||this[_0x5ddc5(0x230)](),await this['senderConnection'][_0x5ddc5(0x95c)]();}async['handleOffer']({offer:_0x1b4835,version:_0x2c3dce}){const _0x4b5080=_0x47ccb7;this[_0x4b5080(0x183)]||this[_0x4b5080(0x7d4)](),await this[_0x4b5080(0x183)][_0x4b5080(0x1d0)](_0x1b4835,_0x2c3dce);}async[_0x47ccb7(0x5d2)]({answer:_0xf03ad8,version:_0x5bea0e}){const _0x51c001=_0x47ccb7;if(!this[_0x51c001(0x262)])throw new _0x20e318(_0x20e318['codes'][_0x51c001(0x4ce)],{'message':_0x51c001(0xeb),'localId':this[_0x51c001(0x539)](),'remoteId':this[_0x51c001(0xa54)],'answer':_0xf03ad8});await this['senderConnection'][_0x51c001(0x5d2)](_0xf03ad8,_0x5bea0e);}['handleSuccess'](){const _0x38e34f=_0x47ccb7;if(!this['receiverConnection'])throw new _0x20e318(_0x20e318[_0x38e34f(0x6f4)]['ConnectionNotinitialized'],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x38e34f(0x539)](),'remoteId':this[_0x38e34f(0xa54)]});this[_0x38e34f(0x183)][_0x38e34f(0x538)](),this[_0x38e34f(0x545)]||this[_0x38e34f(0x4e9)]!==_0x7fd6cc[_0x38e34f(0x376)]||(this[_0x38e34f(0x545)]=!0x0,this['systemTopic']?.[_0x38e34f(0x19c)]({'sourceId':this[_0x38e34f(0xa54)],'destinationIds':[this[_0x38e34f(0x539)]()],'messageType':_0x11d238['PeerConnection'],'content':{'type':_0x2cbfba[_0x38e34f(0x7a7)]}}));}['handleNeedRestart'](_0x15e1fd){const _0x39df0a=_0x47ccb7;this[_0x39df0a(0x183)]||this['createReceiverConnection'](),this['receiverConnection'][_0x39df0a(0x224)](_0x15e1fd[_0x39df0a(0x74a)]);}['createSenderConnection'](){const _0xe3205b=_0x47ccb7;this[_0xe3205b(0x262)]=new _0xedb956(this[_0xe3205b(0x8b5)],this['localNode'],this[_0xe3205b(0xa54)],this[_0xe3205b(0x2a9)],this[_0xe3205b(0x4e9)],this[_0xe3205b(0x353)],this['maxBpp'],this[_0xe3205b(0xa8b)]),this[_0xe3205b(0x262)][_0xe3205b(0x84)](this[_0xe3205b(0x9bb)]);}[_0x47ccb7(0x7d4)](){const _0xdf62e5=_0x47ccb7;this[_0xdf62e5(0x183)]=new _0x7b3af1(this['clusterId'],this[_0xdf62e5(0x987)],this[_0xdf62e5(0xa54)],this[_0xdf62e5(0x2a9)],this['connectionType'],this[_0xdf62e5(0xa8b)]),this[_0xdf62e5(0x183)][_0xdf62e5(0x84)](this[_0xdf62e5(0x9bb)]),this[_0xdf62e5(0x811)][_0xdf62e5(0x5c5)](this[_0xdf62e5(0x183)][_0xdf62e5(0x9ef)](_0x40e9e8=>this[_0xdf62e5(0x81b)]['publish'](_0x40e9e8))),this[_0xdf62e5(0x811)][_0xdf62e5(0x5c5)](this[_0xdf62e5(0x183)][_0xdf62e5(0xade)]((_0x13c168,_0x3b61cc)=>this[_0xdf62e5(0x660)][_0xdf62e5(0x19c)]({'track':_0x13c168,'stream':_0x3b61cc}))),this[_0xdf62e5(0x811)][_0xdf62e5(0x5c5)](this['receiverConnection']['onRemoveTrack']((_0x30069d,_0x2fb728)=>this[_0xdf62e5(0x1d5)][_0xdf62e5(0x19c)]({'track':_0x30069d,'stream':_0x2fb728})));}}class _0x5b6407{['localId'];[_0x47ccb7(0x1d4)];[_0x47ccb7(0x410)];[_0x47ccb7(0x32e)]=new Map();[_0x47ccb7(0x81b)]=_0x4aa13e();['messageUnsubscriber'];[_0x47ccb7(0xa90)]=new Map();['dataUnsubscribers']=new Map();[_0x47ccb7(0x4da)]=new Map();constructor(_0xcc95e1,_0x47a302,_0x2e9e43){const _0x299c33=_0x47ccb7;this[_0x299c33(0x17f)]=_0xcc95e1,this[_0x299c33(0x1d4)]=_0x47a302,this['graphService']=_0x2e9e43,this[_0x299c33(0xab7)]=this[_0x299c33(0x9ef)](_0x58b8a4=>{const _0xc6c702=_0x299c33;this[_0xc6c702(0x1d4)][_0xc6c702(0x181)](_0x58b8a4['uuid'])||(_0x45f5dd(_0x58b8a4,this[_0xc6c702(0x17f)])&&0x0!==_0x58b8a4[_0xc6c702(0x2c5)]&&(this[_0xc6c702(0x1d4)][_0xc6c702(0xe6)](_0x58b8a4[_0xc6c702(0x87a)]),this[_0xc6c702(0xa90)][_0xc6c702(0x4ab)](_0x58b8a4['topicLabel'])?.[_0xc6c702(0x19c)](_0x58b8a4)),_0x58b8a4['propagate']&&this[_0xc6c702(0x3dc)](_0x58b8a4));});}[_0x47ccb7(0x3a0)](){this['messageUnsubscriber']?.();}[_0x47ccb7(0x6da)](_0x4fa7b3){const _0x50085a=_0x47ccb7,_0x2ab27e=_0x4fa7b3['onMessage'](_0x5a70eb=>{const _0x432f8d=a0_0x17d3;this[_0x432f8d(0x81b)][_0x432f8d(0x19c)](_0x5a70eb);});this[_0x50085a(0x32e)][_0x50085a(0x9de)](_0x4fa7b3,_0x2ab27e),this[_0x50085a(0x4da)][_0x50085a(0x9de)](_0x4fa7b3[_0x50085a(0x3c1)](),function(_0x2b03d3,_0x302d5d=!0x1){let _0x202bc9=new Map();const _0xc5eab4=_0x327887(_0x2b03d3,_0x302d5d,function(_0x264850){const _0xfd360d=a0_0x17d3;_0x5e4356(_0x264850)&&_0x202bc9['delete'](_0x264850['sourceId']+'-'+(_0x264850[_0xfd360d(0xac1)]??[])+'-'+_0x264850[_0xfd360d(0x153)]+'-'+_0x264850[_0xfd360d(0x3d9)]['type']);},function(_0x139070){return!!function(_0x13e3fa){const _0x35fee8=a0_0x17d3,_0x120da9=_0x13e3fa[_0x35fee8(0x687)];if(!_0x5e4356(_0x120da9))return!0x1;const _0x14ecd3=_0x120da9['sourceId']+'-'+(_0x120da9['destinationIds']??[])+'-'+_0x120da9[_0x35fee8(0x153)]+'-'+_0x120da9['content'][_0x35fee8(0x96)],_0x3c9f30={'version':_0x120da9[_0x35fee8(0x3d9)][_0x35fee8(0x74a)],'element':_0x13e3fa},_0x5bd034=_0x202bc9['get'](_0x14ecd3);return _0x5bd034?(_0x5bd034[_0x35fee8(0x74a)]>=_0x120da9[_0x35fee8(0x3d9)][_0x35fee8(0x74a)]||(_0x5bd034['element'][_0x35fee8(0xa78)]&&(_0x5bd034[_0x35fee8(0x6c4)]['previous'][_0x35fee8(0x472)]=_0x13e3fa,_0x13e3fa[_0x35fee8(0xa78)]=_0x5bd034['element']['previous']),_0x5bd034[_0x35fee8(0x6c4)][_0x35fee8(0x472)]&&(_0x5bd034[_0x35fee8(0x6c4)][_0x35fee8(0x472)][_0x35fee8(0xa78)]=_0x13e3fa,_0x13e3fa[_0x35fee8(0x472)]=_0x5bd034[_0x35fee8(0x6c4)]['next']),_0x5bd034[_0x35fee8(0x6c4)]===_0xc5eab4[_0x35fee8(0x80e)]&&(_0xc5eab4['head']=_0x13e3fa),_0x5bd034[_0x35fee8(0x6c4)]===_0xc5eab4[_0x35fee8(0xa2e)]&&(_0xc5eab4[_0x35fee8(0xa2e)]=_0x13e3fa),_0x202bc9[_0x35fee8(0x9de)](_0x14ecd3,_0x3c9f30)),!0x0):(_0x202bc9['set'](_0x14ecd3,_0x3c9f30),!0x1);}(_0x139070);},function(){_0x202bc9['clear']();});function _0x5e4356(_0x37d647){const _0x12b28a=a0_0x17d3;if(_0x37d647&&_0x12b28a(0x519)==typeof _0x37d647&&_0x37d647[_0x12b28a(0x90f)](_0x12b28a(0x3d9))&&_0x37d647[_0x12b28a(0x90f)](_0x12b28a(0x153))&&_0x37d647[_0x12b28a(0x90f)](_0x12b28a(0xa24))){const _0x8281fa=_0x37d647;if(_0x8281fa['content']&&_0x12b28a(0x519)==typeof _0x8281fa[_0x12b28a(0x3d9)]&&_0x8281fa[_0x12b28a(0x3d9)]['hasOwnProperty']('version')&&_0x8281fa[_0x12b28a(0x3d9)]['hasOwnProperty'](_0x12b28a(0x96)))return!0x0;}return!0x1;}return _0xc5eab4;}(new _0x121924(_0x2b2cb3=>_0x4fa7b3[_0x50085a(0x3dc)](_0x2b2cb3),()=>_0x301533[_0x50085a(0x8f)](0x64))));}[_0x47ccb7(0x2c9)](_0x4c3a56){const _0x2bfc9e=_0x47ccb7;this[_0x2bfc9e(0x32e)][_0x2bfc9e(0x4ab)](_0x4c3a56)?.(),this[_0x2bfc9e(0x32e)][_0x2bfc9e(0x7b9)](_0x4c3a56),this[_0x2bfc9e(0x4da)][_0x2bfc9e(0x4ab)](_0x4c3a56[_0x2bfc9e(0x3c1)]())?.['clear'](),this[_0x2bfc9e(0x4da)][_0x2bfc9e(0x7b9)](_0x4c3a56['getRemoteId']());}[_0x47ccb7(0x8ac)](_0xd9bf44){const _0x16bde1=_0x47ccb7;return _0x1a21a7[_0x16bde1(0x766)](_0x5300ce[_0x16bde1(0x13c)],_0x16bde1(0x6d8),this[_0x16bde1(0x17f)],this[_0x16bde1(0x32e)]['keys']()),0x0!==this[_0x16bde1(0x32e)][_0x16bde1(0x8f6)]&&(Array['from'](this['connections']['keys']())[_0x16bde1(0x1b5)](_0x47d24b=>_0x47d24b[_0x16bde1(0x3c1)]()===_0xd9bf44)?.[_0x16bde1(0x8ac)]()??!0x1);}[_0x47ccb7(0x5bf)](_0x278dc9){const _0x8ad356=_0x47ccb7;this[_0x8ad356(0xa90)]['set'](_0x278dc9[_0x8ad356(0x409)](),_0x278dc9);}[_0x47ccb7(0x59d)](_0x5ba8ea){const _0x481e9e=_0x47ccb7;this[_0x481e9e(0xa90)][_0x481e9e(0x7b9)](_0x5ba8ea[_0x481e9e(0x409)]());}[_0x47ccb7(0x816)](_0x24bb76){const _0x128ff9=_0x47ccb7,_0x5cc0e1=_0x24bb76[_0x128ff9(0x9b4)](this['send'][_0x128ff9(0x62e)](this));this['dataUnsubscribers'][_0x128ff9(0x9de)](_0x24bb76[_0x128ff9(0x409)](),_0x5cc0e1);}[_0x47ccb7(0x257)](_0x3bf1af){const _0x34171e=_0x47ccb7;this[_0x34171e(0x72b)][_0x34171e(0x4ab)](_0x3bf1af['getLabel']())?.(),this[_0x34171e(0x72b)][_0x34171e(0x7b9)](_0x3bf1af[_0x34171e(0x409)]());}[_0x47ccb7(0x21b)](){const _0x4e1944=_0x47ccb7;return[_0x46b128[_0x4e1944(0x5c1)][_0x4e1944(0x5d7)],_0x46b128[_0x4e1944(0x5c1)][_0x4e1944(0x37c)],_0x46b128[_0x4e1944(0x5c1)][_0x4e1944(0x64c)],_0x46b128['ContentType'][_0x4e1944(0x9af)],_0x46b128[_0x4e1944(0x5c1)][_0x4e1944(0x756)],_0x46b128['ContentType'][_0x4e1944(0x543)],_0x46b128[_0x4e1944(0x5c1)]['GraphDatabase'],_0x46b128['ContentType'][_0x4e1944(0x370)]];}[_0x47ccb7(0x3dc)](_0x2cf66e){const _0x5e012f=_0x47ccb7;if(!0x1===_0x2cf66e[_0x5e012f(0x413)]){if(_0x2cf66e[_0x5e012f(0x511)]||!_0x2cf66e[_0x5e012f(0xac1)]||0x1!==_0x2cf66e[_0x5e012f(0xac1)][_0x5e012f(0x583)])throw new _0x20e318(_0x20e318[_0x5e012f(0x6f4)][_0x5e012f(0x3df)],{'message':_0x5e012f(0x1a0),'localId':this['localId']});if(!this[_0x5e012f(0x8ac)](_0x2cf66e['destinationIds'][0x0]))throw new _0x5681b5(_0x5e012f(0x278));}const _0x36e749=_0x2cf66e[_0x5e012f(0x616)]??[];try{const {filteredDestinationIds:_0x3e01f5,extendedRecipients:_0x3c0b3f}=this[_0x5e012f(0x61a)](_0x2cf66e,_0x36e749);_0x2cf66e[_0x5e012f(0xac1)]=_0x3e01f5,_0x2cf66e['recipients']=_0x3c0b3f;}catch(_0x1cbaee){if(_0x1cbaee instanceof _0x5681b5)return void _0x1a21a7[_0x5e012f(0x766)](_0x5300ce[_0x5e012f(0x1fe)],_0x5e012f(0x36b),'Early\x20return',_0x2cf66e,_0x1cbaee[_0x5e012f(0xa3f)]);}const _0x4a9013=this[_0x5e012f(0x71b)](_0x2cf66e);this[_0x5e012f(0x3d6)](_0x2cf66e,_0x4a9013),_0x2cf66e['propagate']=_0x4a9013;const _0x314262=this[_0x5e012f(0x96d)](_0x2cf66e,_0x36e749);for(const _0x2af1fe of _0x314262){const _0x39a2e5=this[_0x5e012f(0x4da)]['get'](_0x2af1fe[_0x5e012f(0x3c1)]());if(!_0x39a2e5)throw new _0x20e318(_0x20e318[_0x5e012f(0x6f4)][_0x5e012f(0x348)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x5e012f(0x17f)],'remoteId':_0x2af1fe[_0x5e012f(0x3c1)](),'data':_0x2cf66e});_0x39a2e5[_0x5e012f(0x5c5)](_0x2cf66e);}}[_0x47ccb7(0x3c1)](){return'';}['getLocalId'](){const _0x1fec52=_0x47ccb7;return this[_0x1fec52(0x17f)];}[_0x47ccb7(0x9ef)](_0x33d2aa){const _0x4ebe87=_0x47ccb7;return this[_0x4ebe87(0x81b)][_0x4ebe87(0x9b4)](_0x33d2aa);}[_0x47ccb7(0x61a)](_0x4f4643,_0xb306d3){const _0x63e53a=_0x47ccb7,_0x445399={'filteredDestinationIds':_0x4f4643[_0x63e53a(0xac1)],'extendedRecipients':_0x4f4643[_0x63e53a(0x616)]};if(!_0x4f4643[_0x63e53a(0x511)])return _0x445399;const _0x127cd5=Array[_0x63e53a(0x48b)](this[_0x63e53a(0x32e)][_0x63e53a(0xa3d)]())['filter'](_0x5c297e=>_0x5c297e[_0x63e53a(0x678)]()===_0x7fd6cc[_0x63e53a(0x9ff)]||_0x5c297e['isConnected']())[_0x63e53a(0x437)](_0x151c28=>_0x151c28[_0x63e53a(0x3c1)]());if(_0x127cd5['reduce']((_0x428794,_0x50dbb7)=>_0x428794&&_0x4f4643[_0x63e53a(0x616)]['includes'](_0x50dbb7),!0x0))throw new _0x5681b5('All\x20recipients\x20already\x20received');if(_0x4f4643[_0x63e53a(0xac1)]){const _0x37b7c8=_0x4f4643[_0x63e53a(0xac1)]['filter'](_0x1acf06=>_0x1acf06!==this[_0x63e53a(0x17f)]&&!_0x4f4643[_0x63e53a(0x616)][_0x63e53a(0x9d0)](_0x1acf06));if(0x0===_0x37b7c8[_0x63e53a(0x583)])throw new _0x5681b5(_0x63e53a(0x270));_0x445399[_0x63e53a(0x7ee)]=_0x37b7c8;}return _0x445399[_0x63e53a(0x546)]=[...new Set([..._0xb306d3,..._0x127cd5,this[_0x63e53a(0x17f)]])],_0x445399;}[_0x47ccb7(0x3d6)](_0x243ab8,_0x210bec=!0x1){const _0x1b850f=_0x47ccb7;if(0x0===_0x243ab8['topicLabel']&&!_0xf234a8(_0x243ab8,this[_0x1b850f(0x17f)])&&_0x243ab8[_0x1b850f(0x511)]){const _0x482655=_0x737853(_0x243ab8,this[_0x1b850f(0x17f)]);_0x1a21a7[_0x1b850f(0x491)](_0x5300ce['System'],_0x243ab8['uuid']+'\x20-\x20Sending\x20propagation\x20('+_0x210bec+')\x20'+_0x482655,_0x243ab8,_0x210bec);}}[_0x47ccb7(0x71b)](_0x5707be){const _0x271da4=_0x47ccb7;if(_0x5707be[_0x271da4(0xac1)]&&_0x5707be[_0x271da4(0x511)]){const _0x1440db=Array[_0x271da4(0x48b)](this['connections'][_0x271da4(0xa3d)]())[_0x271da4(0xac4)](_0x1d71e4=>_0x1d71e4[_0x271da4(0x678)]()===_0x7fd6cc[_0x271da4(0x9ff)]||_0x1d71e4[_0x271da4(0x8ac)]())[_0x271da4(0x437)](_0x5b4fc2=>_0x5b4fc2[_0x271da4(0x3c1)]());return!_0x5707be[_0x271da4(0xac1)]['reduce']((_0x37e9ae,_0x3d359b)=>_0x37e9ae&&_0x1440db[_0x271da4(0x9d0)](_0x3d359b),!0x0);}return _0x5707be[_0x271da4(0x511)]??!0x1;}[_0x47ccb7(0x96d)](_0x361515,_0x197d78){const _0x55932b=_0x47ccb7;if(_0x361515[_0x55932b(0x511)]&&_0x361515[_0x55932b(0xac1)]){const _0x2893ce=Array['from'](this[_0x55932b(0x32e)][_0x55932b(0xa3d)]())[_0x55932b(0xac4)](_0x1abe1a=>_0x1abe1a['getConnectionType']()===_0x7fd6cc['Core']||_0x1abe1a[_0x55932b(0x8ac)]())[_0x55932b(0x437)](_0x170f52=>_0x170f52['getRemoteId']()),_0x5cbb38=new Set(),_0x349460=_0x361515[_0x55932b(0xa24)]===this[_0x55932b(0x17f)]?0x3:0x1;return _0x361515['destinationIds'][_0x55932b(0xa9d)](_0x763a49=>{const _0x4231db=_0x55932b,_0xaab8cf=this[_0x4231db(0x410)][_0x4231db(0x8fb)](_0x2893ce,_0x763a49);let _0x180c85=0x0,_0x7aa6c0=0x0;_0xaab8cf[_0x4231db(0xa9d)](_0x1cb0e9=>{const _0x29a7e9=_0x4231db;if(_0x180c85>=_0x349460)return;const _0xec0027=Array[_0x29a7e9(0x48b)](this[_0x29a7e9(0x32e)][_0x29a7e9(0xa3d)]())['find'](_0x57a569=>_0x57a569['getRemoteId']()===_0x1cb0e9);if(_0xec0027){if(_0xec0027[_0x29a7e9(0x678)]()===_0x7fd6cc[_0x29a7e9(0x9ff)]&&_0x7aa6c0>0x0)return void(_0x7aa6c0-=0x1);_0x5cbb38[_0x29a7e9(0x7ce)](_0xec0027),_0xec0027[_0x29a7e9(0x678)]()===_0x7fd6cc['Optimization']&&(_0x7aa6c0+=0x1),_0x180c85+=0x1;}});}),Array[_0x55932b(0x48b)](_0x5cbb38);}return Array['from'](this[_0x55932b(0x32e)][_0x55932b(0xa3d)]())[_0x55932b(0xac4)](_0x2aeecf=>{const _0x5d47a5=_0x55932b;return _0x226c05=_0x2aeecf['getRemoteId'](),!_0x197d78[_0x5d47a5(0x9d0)](_0x226c05)&&(_0x45f5dd(_0x361515,_0x226c05)||_0x361515['propagate'])&&(!_0x361515[_0x5d47a5(0x511)]||_0x2aeecf[_0x5d47a5(0x8ac)]()||_0x2aeecf[_0x5d47a5(0x678)]()===_0x7fd6cc['Core']);var _0x226c05;});}}class _0x4923df{[_0x47ccb7(0x17f)];['messageBuffer'];[_0x47ccb7(0x32e)]=new Map();[_0x47ccb7(0x9bb)];constructor(_0x8aa1a4,_0x2bbbea){const _0x18a861=_0x47ccb7;this[_0x18a861(0x17f)]=_0x8aa1a4,this[_0x18a861(0x1d4)]=_0x2bbbea;}[_0x47ccb7(0x3a0)](){}[_0x47ccb7(0x3dc)](_0xf3a21b){const _0x2dc82e=_0x47ccb7;for(const _0x1261ad of this[_0x2dc82e(0x32e)]['keys']())try{return void _0x1261ad[_0x2dc82e(0x3dc)]({'retry':!0x1,..._0xf3a21b});}catch(_0x593283){_0x593283 instanceof _0x5681b5||_0x1a21a7[_0x2dc82e(0x766)](_0x5300ce[_0x2dc82e(0x101)],'send\x20error\x20on\x20'+_0x1261ad,_0x593283,_0xf3a21b);}_0x1a21a7[_0x2dc82e(0x766)](_0x5300ce['Pool'],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x47ccb7(0x6da)](_0x3d62c8){const _0x2bc631=_0x47ccb7,_0x1ece02=_0x3d62c8[_0x2bc631(0x9ef)](_0x2060f9=>{const _0x447f08=_0x2bc631;this[_0x447f08(0x1d4)][_0x447f08(0x181)](_0x2060f9[_0x447f08(0x87a)])||0x0===_0x2060f9[_0x447f08(0x2c5)]&&(this['messageBuffer']['addMessage'](_0x2060f9[_0x447f08(0x87a)]),_0x45f5dd(_0x2060f9,this[_0x447f08(0x17f)])&&this[_0x447f08(0x9bb)]?.['publish'](_0x2060f9));});this[_0x2bc631(0x32e)][_0x2bc631(0x9de)](_0x3d62c8,_0x1ece02);}['removeConnection'](_0x3dc549){const _0xc3b2fa=_0x47ccb7;this['connections'][_0xc3b2fa(0x4ab)](_0x3dc549)?.(),this[_0xc3b2fa(0x32e)]['delete'](_0x3dc549);}[_0x47ccb7(0x539)](){const _0x36f3d6=_0x47ccb7;return this[_0x36f3d6(0x17f)];}[_0x47ccb7(0x3c1)](){return'';}[_0x47ccb7(0x21b)](){const _0x50abf4=_0x47ccb7;return[_0x46b128['ContentType'][_0x50abf4(0x5d7)]];}[_0x47ccb7(0x8ac)](){const _0x686b74=_0x47ccb7;throw new Error(_0x686b74(0x56c));}[_0x47ccb7(0x84)](_0x41be7b){this['systemTopic']=_0x41be7b;}[_0x47ccb7(0xa03)](){const _0x52888e=_0x47ccb7;delete this[_0x52888e(0x9bb)];}}class _0x2ebc8b{[_0x47ccb7(0x911)]=new Map();[_0x47ccb7(0xa64)];constructor(){const _0x1802f3=_0x47ccb7;this[_0x1802f3(0xa64)]=_0x301533[_0x1802f3(0x25a)](()=>{for(const [_0x2920c8,_0xca3481]of this['buffer']['entries']())Date['now']()-_0xca3481>0x124f80&&this['buffer']['delete'](_0x2920c8);},0x1d4c0);}[_0x47ccb7(0x3a0)](){const _0x157004=_0x47ccb7;this[_0x157004(0xa64)]();}[_0x47ccb7(0xe6)](_0x4e92dd){const _0x51fddf=_0x47ccb7;this[_0x51fddf(0x911)][_0x51fddf(0x9de)](_0x4e92dd,Date[_0x51fddf(0x31e)]());}[_0x47ccb7(0x181)](_0x5cc58d){const _0x2de557=_0x47ccb7;return this[_0x2de557(0x911)]['has'](_0x5cc58d);}}class _0xf87637{[_0x47ccb7(0x900)];[_0x47ccb7(0x4a0)];[_0x47ccb7(0x2a9)];['options'];[_0x47ccb7(0x32e)]=new Map();[_0x47ccb7(0x57f)];[_0x47ccb7(0x25e)];[_0x47ccb7(0x6a7)];['messageBuffer'];constructor(_0x44af97,_0x38ecde,_0x47d7c3,_0x42dab4,_0x177163){const _0x13fad4=_0x47ccb7;this[_0x13fad4(0x900)]=_0x44af97,this[_0x13fad4(0x4a0)]=_0x38ecde,this[_0x13fad4(0x2a9)]=_0x42dab4,this[_0x13fad4(0x260)]=_0x177163,this[_0x13fad4(0x1d4)]=new _0x2ebc8b(),this[_0x13fad4(0x25e)]=new _0x5b6407(this['configs']['localNode'][_0x13fad4(0x932)](),this[_0x13fad4(0x1d4)],_0x47d7c3),this[_0x13fad4(0x6a7)]=new _0x289ac4(this['configs'][_0x13fad4(0x111)],this['configs']['clusterId'],this[_0x13fad4(0x900)][_0x13fad4(0x987)],_0x13fad4(0x3c2),this[_0x13fad4(0x4a0)]),this[_0x13fad4(0x57f)]=new _0x4923df(this[_0x13fad4(0x900)]['localNode'][_0x13fad4(0x932)](),this[_0x13fad4(0x1d4)]),this[_0x13fad4(0x57f)]['addConnection'](this[_0x13fad4(0x25e)]),this[_0x13fad4(0x57f)][_0x13fad4(0x6da)](this[_0x13fad4(0x6a7)]),this[_0x13fad4(0x900)]['mediator'][_0x13fad4(0x672)](this[_0x13fad4(0x57f)]);}[_0x47ccb7(0x3a0)](){const _0x51cb22=_0x47ccb7;this['messageBuffer'][_0x51cb22(0x3a0)](),this['connections'][_0x51cb22(0xa9d)]((_0x273500,_0x21f2f2)=>this[_0x51cb22(0x462)](_0x21f2f2)),this[_0x51cb22(0x900)][_0x51cb22(0x2eb)][_0x51cb22(0x6c6)](this[_0x51cb22(0x57f)]),this[_0x51cb22(0x57f)]['removeConnection'](this[_0x51cb22(0x6a7)]),this[_0x51cb22(0x57f)][_0x51cb22(0x2c9)](this[_0x51cb22(0x25e)]),this[_0x51cb22(0x57f)][_0x51cb22(0x3a0)](),this[_0x51cb22(0x6a7)][_0x51cb22(0x3a0)](),this[_0x51cb22(0x25e)][_0x51cb22(0x3a0)]();}async[_0x47ccb7(0x2e1)](){const _0x2757ac=_0x47ccb7;await this[_0x2757ac(0x6a7)][_0x2757ac(0x4f6)]();}async['createConnection'](_0x27e2bd,_0x14503f=_0x7fd6cc[_0x47ccb7(0x9ff)]){const _0x214354=_0x47ccb7;if(this[_0x214354(0x32e)][_0x214354(0x788)](_0x27e2bd)){if(this[_0x214354(0x32e)][_0x214354(0x4ab)](_0x27e2bd)?.[_0x214354(0x678)]()===_0x7fd6cc[_0x214354(0x376)]&&_0x14503f===_0x7fd6cc[_0x214354(0x9ff)])return void this[_0x214354(0x32e)][_0x214354(0x4ab)](_0x27e2bd)?.[_0x214354(0x736)](_0x7fd6cc[_0x214354(0x9ff)]);throw new _0x20e318(_0x20e318[_0x214354(0x6f4)]['RemoteConnectionExists'],{'localId':this[_0x214354(0x900)][_0x214354(0x987)][_0x214354(0x932)](),'remoteId':_0x27e2bd});}const _0x4bf67f=new _0x16a889(this[_0x214354(0x900)][_0x214354(0x8b5)],this[_0x214354(0x900)][_0x214354(0x987)],_0x27e2bd,this[_0x214354(0x2a9)],_0x14503f,this['options']['maxFps'],this['options'][_0x214354(0x7d3)],this[_0x214354(0x260)]['peerConnectionConnector']);this[_0x214354(0x32e)][_0x214354(0x9de)](_0x27e2bd,_0x4bf67f),this[_0x214354(0x25e)][_0x214354(0x6da)](_0x4bf67f),this['configs'][_0x214354(0x2eb)][_0x214354(0x672)](_0x4bf67f),this[_0x214354(0x900)][_0x214354(0x2eb)]['registerRemoteNode'](_0x27e2bd),await _0x4bf67f[_0x214354(0x4f6)]();}['getConnectionGroup'](){return this['connectionGroup'];}[_0x47ccb7(0x722)](_0x427a8f){const _0x5d5272=_0x47ccb7;if(!this[_0x5d5272(0x32e)][_0x5d5272(0x788)](_0x427a8f))throw new _0x20e318(_0x20e318[_0x5d5272(0x6f4)]['MissingRemoteConnection'],{'localId':this[_0x5d5272(0x900)][_0x5d5272(0x987)][_0x5d5272(0x932)](),'remoteId':_0x427a8f});return this[_0x5d5272(0x32e)][_0x5d5272(0x4ab)](_0x427a8f);}[_0x47ccb7(0x79a)](_0x410a86){const _0x47d1a4=_0x47ccb7,_0x5ac374=Array[_0x47d1a4(0x48b)](this[_0x47d1a4(0x32e)][_0x47d1a4(0x78c)]());return _0x410a86?_0x5ac374[_0x47d1a4(0xac4)](_0x410a86):_0x5ac374;}async[_0x47ccb7(0x55e)](_0x396a56){const _0x428d80=_0x47ccb7,_0x5e71ce=this['connections'][_0x428d80(0x4ab)](_0x396a56);_0x5e71ce&&_0x5e71ce[_0x428d80(0x8ac)]()&&await _0x5e71ce[_0x428d80(0x55e)]();}[_0x47ccb7(0x25b)](_0x590f04){const _0x1b6a65=_0x47ccb7;if(_0x590f04['messageType']!==_0x11d238[_0x1b6a65(0x7bf)]||_0x590f04[_0x1b6a65(0x511)])try{this[_0x1b6a65(0x25e)][_0x1b6a65(0x3dc)](_0x590f04);}catch(_0x1d9f80){if(_0x1d9f80 instanceof _0x5681b5)return;throw _0x1d9f80;}else this['connectionPool'][_0x1b6a65(0x3dc)](_0x590f04);}async[_0x47ccb7(0xde)](_0x369267){const _0x3a094d=_0x47ccb7;switch(_0x369267['content'][_0x3a094d(0x96)]){case _0x2cbfba[_0x3a094d(0x9a9)]:case _0x2cbfba['Stats']:case _0x2cbfba['OptimizationConnectionSuccess']:return;}if(!_0x369267[_0x3a094d(0xac1)]||0x1!==_0x369267[_0x3a094d(0xac1)][_0x3a094d(0x583)])throw new _0x20e318(_0x20e318['codes']['PeerConnectionInvalidDestination'],{'message':_0x3a094d(0x834),'event':_0x369267});if(_0x369267[_0x3a094d(0xac1)][0x0]!==this[_0x3a094d(0x900)]['localNode'][_0x3a094d(0x932)]())throw new _0x20e318(_0x20e318[_0x3a094d(0x6f4)]['PeerConnectionInvalidDestination'],{'message':_0x3a094d(0x6a1),'event':_0x369267});if(!this[_0x3a094d(0x32e)][_0x3a094d(0x788)](_0x369267[_0x3a094d(0xa24)])){let _0x49dde7=_0x7fd6cc[_0x3a094d(0x9ff)];if(!(this['isOffer'](_0x369267[_0x3a094d(0x3d9)])||this['isIceCandidate'](_0x369267[_0x3a094d(0x3d9)])||this['isNeedRestart'](_0x369267[_0x3a094d(0x3d9)])))return;_0x49dde7=_0x369267['content'][_0x3a094d(0x4e9)],await this[_0x3a094d(0x55f)](_0x369267[_0x3a094d(0xa24)],_0x49dde7);}const _0x3c7572=this['connections']['get'](_0x369267['sourceId']);await _0x3c7572[_0x3a094d(0xde)](_0x369267);}[_0x47ccb7(0x830)](_0x4b7ccf){const _0x4c7c05=_0x47ccb7;if(_0x4b7ccf[_0x4c7c05(0x3d9)][_0x4c7c05(0x96)]===_0x1c48dc[_0x4c7c05(0x62c)]){if(_0x4b7ccf['content'][_0x4c7c05(0x822)]===this['configs'][_0x4c7c05(0x987)][_0x4c7c05(0x932)]())return void this['connections']['forEach'](_0x49d21b=>_0x49d21b[_0x4c7c05(0x830)](_0x4b7ccf));this[_0x4c7c05(0x32e)][_0x4c7c05(0x4ab)](_0x4b7ccf[_0x4c7c05(0x3d9)][_0x4c7c05(0x822)])?.[_0x4c7c05(0x830)](_0x4b7ccf);}}[_0x47ccb7(0x2d7)]({content:_0x234bf2}){const _0x39c54e=_0x47ccb7;_0x234bf2[_0x39c54e(0x96)]===_0x2f3f1e[_0x39c54e(0x891)]&&this['closeConnection'](_0x234bf2['id']);}[_0x47ccb7(0x807)](){const _0x1c409f=_0x47ccb7,_0x385c6e=Array[_0x1c409f(0x48b)](this[_0x1c409f(0x32e)][_0x1c409f(0x78c)]())[_0x1c409f(0x5b5)]((_0x1d0091,_0x5f4e61)=>_0x1d0091+_0x5f4e61[_0x1c409f(0x934)](),0x0);return _0x385c6e<_0x4f2b6d?Promise[_0x1c409f(0x1d8)](_0x385c6e):new Promise(_0x32994c=>{const _0x63e2f3=setInterval(()=>{const _0xb20fb7=a0_0x17d3,_0x2c18ab=Array[_0xb20fb7(0x48b)](this['connections'][_0xb20fb7(0x78c)]())[_0xb20fb7(0x5b5)]((_0x4896ff,_0x103955)=>_0x4896ff+_0x103955['calculateArrayBufferSize'](),0x0);_0x2c18ab<_0x4f2b6d&&(clearInterval(_0x63e2f3),_0x32994c(_0x2c18ab));},0x3e8);});}[_0x47ccb7(0x866)](){const _0x59817d=_0x47ccb7;for(const _0x2b8845 of this[_0x59817d(0x32e)][_0x59817d(0x78c)]())if(_0x2b8845[_0x59817d(0x3be)]()>0x0||_0x2b8845[_0x59817d(0x934)]()>0x0)return!0x0;return!0x1;}[_0x47ccb7(0x462)](_0x486844){const _0x80749d=_0x47ccb7,_0x3850d6=this[_0x80749d(0x32e)]['get'](_0x486844);_0x3850d6&&(this[_0x80749d(0x900)][_0x80749d(0x2eb)][_0x80749d(0x53e)](_0x486844),this[_0x80749d(0x900)][_0x80749d(0x2eb)]['unregisterSystemSource'](_0x3850d6),_0x3850d6 instanceof _0x16a889&&this['connectionGroup'][_0x80749d(0x2c9)](_0x3850d6),_0x3850d6['close'](),this[_0x80749d(0x32e)]['delete'](_0x486844));}[_0x47ccb7(0x4de)](_0x1a651e){const _0x54d171=_0x47ccb7;return _0x1a651e[_0x54d171(0x96)]===_0x2cbfba['Offer'];}[_0x47ccb7(0x7f4)](_0x165984){const _0x53256a=_0x47ccb7;return _0x165984[_0x53256a(0x96)]===_0x2cbfba[_0x53256a(0x9ae)];}[_0x47ccb7(0x9fe)](_0x30b89d){const _0x340e81=_0x47ccb7;return _0x30b89d[_0x340e81(0x96)]===_0x2cbfba[_0x340e81(0x17d)];}}!function(_0x128fcb){const _0x11a6e8=_0x47ccb7;_0x128fcb[_0x128fcb[_0x11a6e8(0x2af)]=0x0]=_0x11a6e8(0x2af),_0x128fcb[_0x128fcb[_0x11a6e8(0x4c6)]=0x1]=_0x11a6e8(0x4c6),_0x128fcb[_0x128fcb['UnsubscribeMediaStream']=0x2]=_0x11a6e8(0x49e),_0x128fcb[_0x128fcb[_0x11a6e8(0x234)]=0x3]=_0x11a6e8(0x234),_0x128fcb[_0x128fcb[_0x11a6e8(0x4e8)]=0x4]=_0x11a6e8(0x4e8),_0x128fcb[_0x128fcb[_0x11a6e8(0x465)]=0x5]=_0x11a6e8(0x465),_0x128fcb[_0x128fcb[_0x11a6e8(0x2ec)]=0x6]=_0x11a6e8(0x2ec),_0x128fcb[_0x128fcb['MediaStreamUnavailable']=0x7]=_0x11a6e8(0xfc);}(_0x1a992f||(_0x1a992f={}));class _0x2a2822 extends _0x52f39d{['localNode'];[_0x47ccb7(0x8b5)];['vendorId'];[_0x47ccb7(0x2c2)];[_0x47ccb7(0xad3)];[_0x47ccb7(0x544)]=0x0;[_0x47ccb7(0x275)];['eventListener']=_0x4aa13e();[_0x47ccb7(0xad8)]=new Map();[_0x47ccb7(0x193)];constructor(_0x4b1056,_0x517845,_0xcc3c50,_0x2577a6,_0x3e9f3b){const _0x2e2a57=_0x47ccb7;if(_0x2e2a57(0x3af)!=typeof _0x517845)throw new _0xb4a92c(_0x215585[_0x2e2a57(0x479)],_0x2e2a57(0x11e));super(_0x4b1056,_0x517845),this['localNode']=_0x4b1056,this['clusterId']=_0xcc3c50,this[_0x2e2a57(0x111)]=_0x2577a6,this[_0x2e2a57(0x2c2)]=_0x3e9f3b,this['sendStats']();}['destroy'](){const _0xc224e4=_0x47ccb7;this[_0xc224e4(0x193)]?.(),this[_0xc224e4(0xad8)]['forEach'](_0x5e8c6b=>_0x5e8c6b()),clearTimeout(this[_0xc224e4(0xad3)]),delete this[_0xc224e4(0xad3)],super[_0xc224e4(0x85c)]();}[_0x47ccb7(0xf3)](){const _0x168111=_0x47ccb7;this[_0x168111(0xa36)]();}['close'](){const _0x303c2f=_0x47ccb7;this[_0x303c2f(0x9bb)]['publish']({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x303c2f(0x416)],'content':{'type':_0x27c53f[_0x303c2f(0x70e)],'label':this[_0x303c2f(0xa39)]}});}[_0x47ccb7(0x9a2)](){const _0x2ad719=_0x47ccb7;return _0x46b128[_0x2ad719(0x5c1)][_0x2ad719(0x370)];}async[_0x47ccb7(0x4ab)](_0x5d5a06){const _0xbb1070=_0x47ccb7;if(!this[_0xbb1070(0x275)])throw new _0xb4a92c(_0x215585[_0xbb1070(0x92a)],_0xbb1070(0x1f5));_0x1a21a7[_0xbb1070(0x839)](_0x255268[_0xbb1070(0x370)],{'type':_0xbb1070(0x4ab),'label':this[_0xbb1070(0xa39)],'nodeId':this[_0xbb1070(0x987)][_0xbb1070(0x932)](),'nodeType':this[_0xbb1070(0x987)]['type'],'clusterId':this['clusterId'],'path':_0x5d5a06}),this['reads']+=0x1,this[_0xbb1070(0xa36)]();try{return await this['connector'][_0xbb1070(0x4ab)](_0x5d5a06);}catch(_0x494c1f){throw new _0xb4a92c(_0x215585[_0xbb1070(0x27b)],'Cannot\x20get\x20file:\x20'+_0x5d5a06);}}async[_0x47ccb7(0x296)](_0x3b06c4,_0x450724){const _0x39962c=_0x47ccb7;if(!this['connector'])throw new _0xb4a92c(_0x215585[_0x39962c(0x92a)],_0x39962c(0x483));const {recursive:_0x386674=!0x1}=_0x450724??{};_0x1a21a7['logServiceEvent'](_0x255268[_0x39962c(0x370)],{'type':_0x39962c(0x296),'label':this[_0x39962c(0xa39)],'nodeId':this[_0x39962c(0x987)][_0x39962c(0x932)](),'nodeType':this['localNode'][_0x39962c(0x96)],'clusterId':this[_0x39962c(0x8b5)],'path':_0x3b06c4}),this[_0x39962c(0x544)]+=0x1,this[_0x39962c(0xa36)]();try{return await this[_0x39962c(0x275)]['list'](_0x3b06c4,_0x386674);}catch(_0x24b5df){throw new _0xb4a92c(_0x215585[_0x39962c(0x27b)],'Cannot\x20list\x20directory:\x20'+_0x3b06c4);}}[_0x47ccb7(0x9b4)](_0x391fb2,_0x388fe8){const _0x352bbf=_0x47ccb7;if(this[_0x352bbf(0xad8)][_0x352bbf(0x788)](_0x391fb2))throw new _0xb4a92c(_0x215585[_0x352bbf(0x52a)],_0x352bbf(0x131));this[_0x352bbf(0xad8)][_0x352bbf(0x9de)](_0x391fb2,this[_0x352bbf(0x8f2)]['subscribe'](_0x388fe8));}[_0x47ccb7(0x6c7)](_0x43bcf6){const _0x24d363=_0x47ccb7;this['listenerUnsubscribers'][_0x24d363(0x4ab)](_0x43bcf6)?.(),this[_0x24d363(0xad8)][_0x24d363(0x7b9)](_0x43bcf6);}async[_0x47ccb7(0x7f6)](){const _0x2ee3a4=_0x47ccb7,_0x163f2b=(await(0x0,_0x19c8f0[_0x2ee3a4(0xa82)])((0x0,_0x19c8f0[_0x2ee3a4(0x31b)])(_0x3af573['getFirestore'](),_0x2ee3a4(0x15e)+this[_0x2ee3a4(0x111)]+_0x2ee3a4(0x737)+this[_0x2ee3a4(0xa39)])))[_0x2ee3a4(0x4ac)]();if(!_0x163f2b)throw new _0xb4a92c(_0x215585[_0x2ee3a4(0x130)],_0x2ee3a4(0x979)+this[_0x2ee3a4(0xa39)]);const {site:_0x408215,drive:_0x36f4fa}=_0x163f2b,_0x3e45e9=(await(0x0,_0x40e444[_0x2ee3a4(0x953)])(_0x3af573[_0x2ee3a4(0x7b4)](),_0x2ee3a4(0x70d))({'storageId':this['label']}))[_0x2ee3a4(0x4ac)][_0x2ee3a4(0x96c)];this[_0x2ee3a4(0x275)]=new this['connectorConstructor'](_0x408215['id'],_0x36f4fa['id'],_0x3e45e9,async()=>(await(0x0,_0x40e444[_0x2ee3a4(0x953)])(_0x3af573[_0x2ee3a4(0x7b4)](),_0x2ee3a4(0x1a8))({'storageId':this[_0x2ee3a4(0xa39)]}))['data'][_0x2ee3a4(0x96c)]),this['trackChanges']();}[_0x47ccb7(0xa36)](){const _0x17756b=_0x47ccb7;this[_0x17756b(0xad3)]&&clearTimeout(this[_0x17756b(0xad3)]),this[_0x17756b(0xad3)]=setTimeout(async()=>{const _0x155e8a=_0x17756b;delete this[_0x155e8a(0xad3)],this['systemTopic'][_0x155e8a(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x155e8a(0x416)],'content':{'type':_0x27c53f['ExternalStorageStats'],'label':this[_0x155e8a(0xa39)],'stats':{'timestamp':Date[_0x155e8a(0x31e)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x155e8a(0x544)],'prompts':0x0,'tokens':0x0}}});},_0x154809);}async[_0x47ccb7(0x26e)](){const _0xa01795=_0x47ccb7;await this[_0xa01795(0x275)]?.[_0xa01795(0x4b2)](),this[_0xa01795(0x193)]=_0x301533['setInterval'](async()=>{const _0xd6e026=_0xa01795;try{if(!this[_0xd6e026(0x275)])return;const _0x2bb261=await this[_0xd6e026(0x275)][_0xd6e026(0x4b2)]();for(const _0x106500 of _0x2bb261)this['eventListener']['publish'](_0x106500);}catch(_0x5f0cc7){}},0x493e0);}}const _0xae7fa=require('rxjs');class _0x451fb8 extends _0x52f39d{[_0x47ccb7(0x410)];[_0x47ccb7(0x4bd)]=new Map();[_0x47ccb7(0x4c7)]=new Map();['jobBids']=new Map();[_0x47ccb7(0xa64)];constructor(_0x55a5c4,_0x28cfc1,_0xc96b2c){super(_0x55a5c4,_0x28cfc1),this['graphService']=_0xc96b2c;}[_0x47ccb7(0x9a2)](){const _0x3333e5=_0x47ccb7;return _0x46b128[_0x3333e5(0x5c1)][_0x3333e5(0x756)];}['open'](){const _0x424a39=_0x47ccb7;this[_0x424a39(0xa64)]=this[_0x424a39(0x9ef)]((_0x4b2967,_0x133316)=>{const _0x3055b6=_0x424a39;if(_0x1a21a7[_0x3055b6(0x766)](_0x5300ce['Jobs'],_0x3055b6(0x355),_0x4b2967,_0x133316,this['graphService']['getRemoteNodes']()),!(_0x133316 instanceof File)){if(!_0x133316)throw new _0x20e318(_0x20e318[_0x3055b6(0x6f4)][_0x3055b6(0x199)]);return this[_0x3055b6(0xa7a)](_0x133316)?this['addBidResponse'](_0x4b2967,_0x133316['id'],_0x133316):this[_0x3055b6(0x762)](_0x133316)?(_0x1a21a7[_0x3055b6(0x766)](_0x5300ce['Jobs'],'Job\x20'+_0x133316['id']+_0x3055b6(0x4d7),_0x133316[_0x3055b6(0x4f5)]),void this[_0x3055b6(0xa02)](_0x133316['id'],_0x133316)):this['isResultResponse'](_0x133316)?(_0x1a21a7[_0x3055b6(0x766)](_0x5300ce[_0x3055b6(0x3ec)],_0x3055b6(0x4a9)+_0x133316['id']+'\x20received\x20result:',_0x133316['result']),void this['evaluateProccessedJob'](_0x133316['id'],_0x133316)):void(this[_0x3055b6(0x8ee)](_0x133316)&&this[_0x3055b6(0x2d3)](_0x133316['id'],_0x133316[_0x3055b6(0xa3f)]));}});}['reset'](){const _0x5d116f=_0x47ccb7;this['clear'](),this[_0x5d116f(0x7f6)]();}[_0x47ccb7(0x85c)](){const _0x4b9542=_0x47ccb7;this[_0x4b9542(0x30f)](),super[_0x4b9542(0x85c)]();}[_0x47ccb7(0x30f)](){const _0x417ab7=_0x47ccb7;this['jobs'][_0x417ab7(0x30f)](),this['unsubscribeHandler']&&this[_0x417ab7(0xa64)]();}[_0x47ccb7(0x3a0)](){const _0x1d3fdf=_0x47ccb7;this[_0x1d3fdf(0x9bb)]?.[_0x1d3fdf(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f['CloseJobDispatcher'],'label':this[_0x1d3fdf(0xa39)]}});}async[_0x47ccb7(0x5e3)](_0x2db7fb){const _0x3e9b9a=_0x47ccb7,{id:_0x271bd9,parameters:_0x3517f2,jobType:_0x5d821e}=_0x2db7fb,_0xf037fe={'id':_0x271bd9,'jobType':_0x5d821e,'parameters':_0x3517f2,'status':_0x46b128[_0x3e9b9a(0x7cc)]['Pending'],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x3e9b9a(0x788)](_0xf037fe['id']))throw new _0xb4a92c(_0x215585[_0x3e9b9a(0x93)],'Job\x20with\x20id\x20'+_0xf037fe['id']+_0x3e9b9a(0x697));_0xf037fe[_0x3e9b9a(0x72f)]=new Date(),_0xf037fe['updated']=new Date();const _0x57eb26=new _0xae7fa[(_0x3e9b9a(0x956))]();this['jobs'][_0x3e9b9a(0x9de)](_0xf037fe['id'],_0xf037fe),this['jobObservers'][_0x3e9b9a(0x9de)](_0xf037fe['id'],_0x57eb26);try{const _0x211f13={'id':_0xf037fe['id'],'jobPhase':_0x5e300c[_0x3e9b9a(0x3a7)],'jobType':_0xf037fe[_0x3e9b9a(0x284)]},_0x204137=0x3;let _0x21bd9e=0x0;const _0x2bf90d=async()=>{const _0x42c93b=_0x3e9b9a;_0x21bd9e+=0x1;try{_0x1a21a7['log'](_0x5300ce[_0x42c93b(0x3ec)],_0x42c93b(0x4a9)+_0xf037fe['id']+_0x42c93b(0x2a8)+_0x21bd9e+'.',this[_0x42c93b(0x410)][_0x42c93b(0xb2)]()),await this[_0x42c93b(0x3dc)](_0x211f13),_0xf037fe['updated']=new Date(),this[_0x42c93b(0x4bd)][_0x42c93b(0x9de)](_0xf037fe['id'],_0xf037fe),this[_0x42c93b(0x735)](_0xf037fe['id']);}catch(_0x1bddac){_0x21bd9e<_0x204137?(_0x1a21a7['warning'](_0x42c93b(0x516)+_0x21bd9e+_0x42c93b(0x461)+_0xf037fe['id']+_0x42c93b(0x373),{'nodeId':this['owner']['getId'](),'nodeType':this[_0x42c93b(0xa10)][_0x42c93b(0x96)],'data':{'job':_0xf037fe,'attempts':_0x21bd9e,'maxRetries':_0x204137}}),setTimeout(_0x2bf90d,0x3e8)):(_0xf037fe['status']=_0x46b128['JobStatus'][_0x42c93b(0x226)],_0xf037fe[_0x42c93b(0x198)]=new Date(),this[_0x42c93b(0x4bd)][_0x42c93b(0x9de)](_0xf037fe['id'],_0xf037fe),_0x1a21a7[_0x42c93b(0xa14)](_0x42c93b(0x512)+_0xf037fe['id']+_0x42c93b(0x8a2)+_0x204137+_0x42c93b(0x8b6),{'nodeId':this[_0x42c93b(0xa10)][_0x42c93b(0x932)](),'nodeType':this[_0x42c93b(0xa10)]['type'],'data':{'job':_0xf037fe,'attempts':_0x21bd9e,'maxRetries':_0x204137,'error':_0x1bddac}}));}};_0x2bf90d();const {id:_0x540212}=_0xf037fe;this[_0x3e9b9a(0x24a)](_0x3e9b9a(0x4a9)+_0xf037fe['id']+_0x3e9b9a(0x1c5),{'jobId':_0x540212}),_0xf037fe[_0x3e9b9a(0x198)]=new Date();}catch(_0x585831){_0xf037fe['status']=_0x46b128[_0x3e9b9a(0x7cc)][_0x3e9b9a(0x226)],_0x1a21a7[_0x3e9b9a(0xa14)]('Failed\x20to\x20send\x20job\x20'+_0xf037fe['id']+':',{'nodeId':this['owner'][_0x3e9b9a(0x932)](),'nodeType':this[_0x3e9b9a(0xa10)][_0x3e9b9a(0x96)],'data':{'job':_0xf037fe,'error':_0x585831}});}return _0x57eb26['asObservable']();}[_0x47ccb7(0x887)](_0x2be289){const _0x35298d=_0x47ccb7,_0x4a53cb=this[_0x35298d(0x4bd)][_0x35298d(0x4ab)](_0x2be289);if(!_0x4a53cb)throw new _0xb4a92c(_0x215585[_0x35298d(0x3ef)],_0x35298d(0x2bf)+_0x2be289+_0x35298d(0x5c2));return{'id':_0x4a53cb['id'],'jobType':_0x4a53cb[_0x35298d(0x284)],'status':_0x4a53cb[_0x35298d(0x5bc)],'parameters':_0x4a53cb[_0x35298d(0x164)]};}[_0x47ccb7(0x8ae)](){const _0x3f53cf=_0x47ccb7;return Array['from'](this[_0x3f53cf(0x4bd)][_0x3f53cf(0x78c)]())[_0x3f53cf(0x437)](_0x519686=>this['getJob'](_0x519686['id']));}async[_0x47ccb7(0x19b)](_0x33da30,_0x21e509){const _0xe6a66b=_0x47ccb7,_0x4f2071=this['jobs'][_0xe6a66b(0x4ab)](_0x33da30);if(!_0x4f2071)throw new _0xb4a92c(_0x215585[_0xe6a66b(0x3ef)],_0xe6a66b(0x2bf)+_0x33da30+_0xe6a66b(0x5c2));_0x4f2071['parameters']=_0x21e509,_0x4f2071[_0xe6a66b(0x198)]=new Date(),this[_0xe6a66b(0x4bd)]['set'](_0x33da30,_0x4f2071);}async['deleteJob'](_0x149403){const _0x120d20=_0x47ccb7;if(!this[_0x120d20(0x4bd)][_0x120d20(0x7b9)](_0x149403))throw new _0xb4a92c(_0x215585[_0x120d20(0x3ef)],_0x120d20(0x2bf)+_0x149403+_0x120d20(0x5c2));const _0x4e73a9=this[_0x120d20(0x4c7)][_0x120d20(0x4ab)](_0x149403);if(!_0x4e73a9)throw new _0x20e318(_0x20e318[_0x120d20(0x6f4)][_0x120d20(0x584)]);_0x4e73a9[_0x120d20(0x128)](),this[_0x120d20(0x4c7)]['delete'](_0x149403),_0x1a21a7['log'](_0x5300ce[_0x120d20(0x3ec)],_0x120d20(0x4a9)+_0x149403+_0x120d20(0xa63));}[_0x47ccb7(0x78f)](_0x36131a,_0x34c655,_0x498d22){const _0xdf4e94=_0x47ccb7,_0x5b7524=this[_0xdf4e94(0x27c)][_0xdf4e94(0x4ab)](_0x34c655)??new Map();_0x5b7524[_0xdf4e94(0x9de)](_0x36131a,[_0x498d22,Date[_0xdf4e94(0x31e)]()]),this['jobBids'][_0xdf4e94(0x9de)](_0x34c655,_0x5b7524),this[_0xdf4e94(0x28a)](_0x34c655);}[_0x47ccb7(0x735)](_0xe9f964){const _0x2245ae=_0x47ccb7,_0x161108=this['jobs']['get'](_0xe9f964);if(!_0x161108)throw new _0x20e318(_0x20e318[_0x2245ae(0x6f4)][_0x2245ae(0x3ef)]);const _0x2db338=setTimeout(()=>this[_0x2245ae(0x28a)](_0xe9f964,!0x0),0xbb8);_0x161108[_0x2245ae(0x7e7)]=_0x2db338,this[_0x2245ae(0x4bd)][_0x2245ae(0x9de)](_0x161108['id'],_0x161108);}[_0x47ccb7(0x28a)](_0x351aef,_0x2746a1=!0x1){const _0x3e6caa=_0x47ccb7,_0x4ad714=this[_0x3e6caa(0x410)][_0x3e6caa(0xb2)](),_0x5a2842=Array[_0x3e6caa(0x48b)](_0x4ad714[_0x3e6caa(0x78c)]())['filter'](_0x2b1ec8=>_0x2b1ec8['type']===_0x46b128[_0x3e6caa(0x177)][_0x3e6caa(0x856)]),_0x559243=this['jobBids']['get'](_0x351aef)??new Map();if(!_0x2746a1&&(!_0x559243||_0x559243[_0x3e6caa(0x8f6)]<_0x5a2842[_0x3e6caa(0x583)]))return;const _0x4f734f=this[_0x3e6caa(0x4bd)][_0x3e6caa(0x4ab)](_0x351aef);if(!_0x4f734f)throw new _0x20e318(_0x20e318[_0x3e6caa(0x6f4)][_0x3e6caa(0x3ef)]);if(clearTimeout(_0x4f734f[_0x3e6caa(0x7e7)]),_0x1a21a7[_0x3e6caa(0x766)](_0x5300ce[_0x3e6caa(0x3ec)],_0x3e6caa(0x4a9)+_0x4f734f['id']+_0x3e6caa(0x402),_0x559243,this['jobBids']),!_0x559243||0x0===_0x559243[_0x3e6caa(0x8f6)]){_0x4f734f[_0x3e6caa(0x5bc)]=_0x46b128[_0x3e6caa(0x7cc)]['Failed'],_0x4f734f[_0x3e6caa(0x198)]=new Date(),_0x1a21a7[_0x3e6caa(0xa14)](_0x3e6caa(0x4a9)+_0x4f734f['id']+_0x3e6caa(0x54f),{'nodeId':this['owner'][_0x3e6caa(0x932)](),'nodeType':this[_0x3e6caa(0xa10)][_0x3e6caa(0x96)],'data':{'job':_0x4f734f,'responses':_0x559243}});const _0xba8273=this['jobObservers'][_0x3e6caa(0x4ab)](_0x351aef);if(!_0xba8273)throw new _0x20e318(_0x20e318['codes'][_0x3e6caa(0x584)]);const _0x33e856=_0x3e6caa(0x433),_0x138012={'id':_0x4f734f['id'],'status':_0x4f734f[_0x3e6caa(0x5bc)],'message':_0x33e856};return _0xba8273['next'](_0x138012),_0xba8273[_0x3e6caa(0x128)](),this[_0x3e6caa(0x4bd)]['set'](_0x4f734f['id'],_0x4f734f),void this[_0x3e6caa(0x27c)][_0x3e6caa(0x7b9)](_0x351aef);}const {nodeId:_0x58ed83,response:_0x42f4bc}=this[_0x3e6caa(0x51b)](_0x4f734f['id'],_0x559243);_0x4f734f[_0x3e6caa(0x5bc)]=_0x46b128[_0x3e6caa(0x7cc)][_0x3e6caa(0x63e)],_0x4f734f[_0x3e6caa(0x198)]=new Date(),_0x1a21a7[_0x3e6caa(0x766)](_0x5300ce[_0x3e6caa(0x3ec)],_0x3e6caa(0x4a9)+_0x4f734f['id']+'\x20attributed\x20to\x20'+_0x58ed83+_0x3e6caa(0x6f2),_0x42f4bc);const _0x22a7e8={'id':_0x4f734f['id'],'jobType':_0x4f734f[_0x3e6caa(0x284)],'jobPhase':_0x5e300c[_0x3e6caa(0x667)],'parameters':_0x4f734f[_0x3e6caa(0x164)]};this['send'](_0x22a7e8,[_0x58ed83]),this[_0x3e6caa(0x4bd)]['set'](_0x4f734f['id'],_0x4f734f),this[_0x3e6caa(0x27c)]['delete'](_0x351aef);}[_0x47ccb7(0x51b)](_0x3fff3b,_0x506926){const _0x432378=_0x47ccb7;let _0x5d1266;const _0x42a81f=Array[_0x432378(0x48b)](_0x506926[_0x432378(0xaca)]())['filter'](([,[_0x36beb5]])=>_0x36beb5[_0x432378(0x88a)]);if(_0x5d1266=_0x42a81f['length']>0x0?Array[_0x432378(0x48b)](_0x506926[_0x432378(0xaca)]())[_0x432378(0x5bd)]((_0x2938c2,_0x456d2d)=>_0x456d2d[0x1][0x0]['bid']-_0x2938c2[0x1][0x0][_0x432378(0x6a6)]):Array['from'](_0x506926['entries']())[_0x432378(0x5bd)]((_0x30e695,_0x114914)=>_0x30e695[0x1][0x0][_0x432378(0x60a)]-_0x114914[0x1][0x0][_0x432378(0x60a)]),0x1===_0x5d1266[_0x432378(0x583)])return{'nodeId':_0x5d1266[0x0][0x0],'response':_0x5d1266[0x0][0x1][0x0]};let _0x3f45fe;if(_0x3f45fe=_0x42a81f[_0x432378(0x583)]>0x0?(_0x53bb62=>{const _0x1aa26d=_0x432378,_0x5910de=_0x53bb62[0x0][0x1][0x0][_0x1aa26d(0x6a6)];return _0x53bb62[_0x1aa26d(0xac4)](([,[_0x3401d1]])=>_0x3401d1[_0x1aa26d(0x6a6)]===_0x5910de);})(_0x5d1266):(_0x581345=>{const _0x24fd8e=_0x432378,_0x1331c6=_0x581345[0x0][0x1][0x0][_0x24fd8e(0x60a)];return _0x581345['filter'](([,[_0x258229]])=>_0x258229[_0x24fd8e(0x60a)]===_0x1331c6);})(_0x5d1266),0x1===_0x3f45fe['length'])return{'nodeId':_0x3f45fe[0x0][0x0],'response':_0x3f45fe[0x0][0x1][0x0]};const _0x2304f0=this[_0x432378(0x4bd)][_0x432378(0x4ab)](_0x3fff3b);if(!_0x2304f0)throw new _0x20e318(_0x20e318[_0x432378(0x6f4)][_0x432378(0x3ef)]);const _0x197016=_0x2304f0['created'][_0x432378(0x557)](),_0x1b7cef=_0x3f45fe[_0x432378(0x437)](([_0x29e7f2,[,_0x6951a]])=>({'nodeId':_0x29e7f2,'rtt':_0x6951a-_0x197016})),_0x45fe1c=Math['min'](..._0x1b7cef[_0x432378(0x437)](({rtt:_0x4febe5})=>_0x4febe5)),_0x27b4e9=_0x1b7cef[_0x432378(0x1b5)](({rtt:_0x246757})=>_0x246757===_0x45fe1c),[,[_0x5e983f]]=_0x3f45fe[_0x432378(0x1b5)](([_0x1d2441])=>_0x1d2441===_0x27b4e9[_0x432378(0x907)]);return{'nodeId':_0x27b4e9[_0x432378(0x907)],'response':_0x5e983f};}[_0x47ccb7(0xa02)](_0x1472a3,_0x21b7da){const _0xb53ebb=_0x47ccb7,_0x41c994=this[_0xb53ebb(0x4bd)][_0xb53ebb(0x4ab)](_0x1472a3);if(!_0x41c994)throw new _0x20e318(_0x20e318[_0xb53ebb(0x6f4)][_0xb53ebb(0x3ef)]);const _0x174564=this[_0xb53ebb(0x4c7)][_0xb53ebb(0x4ab)](_0x1472a3);if(!_0x174564)throw new _0x20e318(_0x20e318[_0xb53ebb(0x6f4)][_0xb53ebb(0x584)]);const _0x3efbb8={'id':_0x41c994['id'],'status':_0x46b128[_0xb53ebb(0x7cc)][_0xb53ebb(0x159)],'result':_0x21b7da[_0xb53ebb(0x4f5)]};_0x174564[_0xb53ebb(0x472)](_0x3efbb8);}['evaluateProccessedJob'](_0x2c3e17,_0x540cee){const _0x5d4122=_0x47ccb7,_0x288524=this[_0x5d4122(0x4bd)][_0x5d4122(0x4ab)](_0x2c3e17);if(!_0x288524)throw new _0x20e318(_0x20e318[_0x5d4122(0x6f4)][_0x5d4122(0x3ef)]);const _0x386512=this['jobObservers'][_0x5d4122(0x4ab)](_0x2c3e17);if(!_0x386512)throw new _0x20e318(_0x20e318['codes']['JobDispatcherObserverNotFound']);_0x288524[_0x5d4122(0x5bc)]=_0x46b128[_0x5d4122(0x7cc)][_0x5d4122(0x2d8)];const _0x2e0ebb={'id':_0x288524['id'],'status':_0x288524[_0x5d4122(0x5bc)],'result':_0x540cee[_0x5d4122(0x4f5)]};_0x386512[_0x5d4122(0x472)](_0x2e0ebb),_0x386512[_0x5d4122(0x128)](),this[_0x5d4122(0x4c7)][_0x5d4122(0x7b9)](_0x2c3e17),this[_0x5d4122(0x24a)](_0x5d4122(0x4a9)+_0x2c3e17+_0x5d4122(0x520),{'jobId':_0x2c3e17});}[_0x47ccb7(0x2d3)](_0x1d448f,_0x1ba15c){const _0x273499=_0x47ccb7,_0x2d9cb8=this[_0x273499(0x4bd)]['get'](_0x1d448f);if(!_0x2d9cb8)throw new _0x20e318(_0x20e318[_0x273499(0x6f4)][_0x273499(0x3ef)]);const _0x499eaa=this[_0x273499(0x4c7)][_0x273499(0x4ab)](_0x1d448f);if(!_0x499eaa)throw new _0x20e318(_0x20e318[_0x273499(0x6f4)][_0x273499(0x584)]);_0x2d9cb8[_0x273499(0x5bc)]=_0x46b128['JobStatus']['Failed'];const _0x3b262a={'id':_0x2d9cb8['id'],'status':_0x2d9cb8[_0x273499(0x5bc)],'message':_0x1ba15c};_0x499eaa[_0x273499(0x472)](_0x3b262a),_0x499eaa['complete'](),this[_0x273499(0x4c7)][_0x273499(0x7b9)](_0x1d448f),this[_0x273499(0x24a)](_0x273499(0x4a9)+_0x1d448f+'\x20failed.',{'jobId':_0x1d448f});}[_0x47ccb7(0x24a)](_0x4742c7,{jobId:_0x4be57c}){const _0x1b5388=_0x47ccb7,_0x47e87d={'jobId':_0x4be57c,'mistletIds':Array[_0x1b5388(0x48b)](this[_0x1b5388(0x410)][_0x1b5388(0xb2)]()[_0x1b5388(0x78c)]())[_0x1b5388(0xac4)](_0x50b419=>_0x50b419['type']===_0x46b128[_0x1b5388(0x177)][_0x1b5388(0x856)])[_0x1b5388(0x437)](_0xb2335b=>_0xb2335b['getId']())};_0x1a21a7['logEvent'](_0x4742c7,{'nodeId':this[_0x1b5388(0x29c)](),'nodeType':this['owner'][_0x1b5388(0x96)],'data':_0x47e87d}),_0x1a21a7[_0x1b5388(0x766)](_0x5300ce[_0x1b5388(0x3ec)],_0x4742c7,_0x47e87d);}['isBidResponse'](_0x1f4729){const {jobPhase:_0x185aa2,available:_0x4c3aab,bid:_0xa872c0}=_0x1f4729;return _0x185aa2===_0x5e300c['Bid']&&void 0x0!==_0x4c3aab&&void 0x0!==_0xa872c0;}[_0x47ccb7(0x762)](_0x14c936){const _0x3495e0=_0x47ccb7,{jobPhase:_0x8d2f07,result:_0x2bda68}=_0x14c936;return _0x8d2f07===_0x5e300c[_0x3495e0(0x19d)]&&void 0x0!==_0x2bda68;}[_0x47ccb7(0xdc)](_0x2b8c63){const _0x4b9c63=_0x47ccb7,{jobPhase:_0x51db43,result:_0x51789c}=_0x2b8c63;return _0x51db43===_0x5e300c[_0x4b9c63(0x79f)]&&void 0x0!==_0x51789c;}[_0x47ccb7(0x8ee)](_0x41cbb2){const _0x2d1005=_0x47ccb7,{jobPhase:_0x7b6387,message:_0x5e15d6}=_0x41cbb2;return _0x7b6387===_0x5e300c[_0x2d1005(0x226)]&&void 0x0!==_0x5e15d6&&'string'==typeof _0x5e15d6;}}var _0x41041f,_0x4b182d,_0x31b828,_0x577b8e,_0x39a0e4;!function(_0x4c7764){const _0x4e7624=_0x47ccb7;_0x4c7764[_0x4e7624(0x804)]=_0x4e7624(0x590),_0x4c7764['ExternalStorage']=_0x4e7624(0x146);}(_0x41041f||(_0x41041f={})),function(_0x253827){const _0x524d56=_0x47ccb7;_0x253827[_0x524d56(0x856)]=_0x524d56(0x933),_0x253827['AgentSkill']=_0x524d56(0xb7),_0x253827[_0x524d56(0xabd)]=_0x524d56(0x8e6),_0x253827['CustomSkill']='custom-skill',_0x253827[_0x524d56(0x976)]=_0x524d56(0x215),_0x253827[_0x524d56(0x5c0)]=_0x524d56(0x8cf),_0x253827[_0x524d56(0x2f7)]='prompt',_0x253827[_0x524d56(0xbb)]=_0x524d56(0x129),_0x253827[_0x524d56(0x1f0)]=_0x524d56(0x1d1),_0x253827[_0x524d56(0x438)]=_0x524d56(0x7c),_0x253827[_0x524d56(0x158)]=_0x524d56(0x1dc),_0x253827[_0x524d56(0x266)]=_0x524d56(0x2ae),_0x253827[_0x524d56(0x9d2)]='web-scraper',_0x253827[_0x524d56(0x2aa)]=_0x524d56(0x5fd),_0x253827[_0x524d56(0x9b2)]=_0x524d56(0x6b5),_0x253827['WriteFile']=_0x524d56(0x2c7),_0x253827[_0x524d56(0x8a)]='chunk-splitter',_0x253827[_0x524d56(0x777)]=_0x524d56(0x220),_0x253827[_0x524d56(0x4f4)]=_0x524d56(0x780),_0x253827[_0x524d56(0x426)]=_0x524d56(0xa91),_0x253827[_0x524d56(0x60b)]=_0x524d56(0x4e7),_0x253827[_0x524d56(0x7ed)]=_0x524d56(0xa1c),_0x253827[_0x524d56(0xa45)]=_0x524d56(0x67a),_0x253827['WorkflowTool']=_0x524d56(0x523);}(_0x4b182d||(_0x4b182d={})),function(_0x2cc8e5){const _0x406481=_0x47ccb7;_0x2cc8e5[_0x406481(0x4f8)]=_0x406481(0x38b),_0x2cc8e5['ExternalStorageUpload']=_0x406481(0x837),_0x2cc8e5['DocumentParser']=_0x406481(0xa91),_0x2cc8e5['ChunkSplitter']=_0x406481(0x734),_0x2cc8e5[_0x406481(0x4f4)]=_0x406481(0x780),_0x2cc8e5[_0x406481(0x777)]=_0x406481(0x220),_0x2cc8e5[_0x406481(0x829)]='relation-extractor',_0x2cc8e5[_0x406481(0x18f)]=_0x406481(0x9c6),_0x2cc8e5[_0x406481(0x9f2)]=_0x406481(0x154),_0x2cc8e5['Model']='model',_0x2cc8e5['Agent']='agent',_0x2cc8e5[_0x406481(0x4a3)]=_0x406481(0x590),_0x2cc8e5[_0x406481(0x9af)]=_0x406481(0x286),_0x2cc8e5[_0x406481(0x543)]=_0x406481(0x670),_0x2cc8e5['GraphDatabase']='graph-database',_0x2cc8e5[_0x406481(0x2f7)]='prompt',_0x2cc8e5[_0x406481(0x1ad)]=_0x406481(0x7d2),_0x2cc8e5[_0x406481(0x1e2)]=_0x406481(0x977),_0x2cc8e5[_0x406481(0x637)]=_0x406481(0x430);}(_0x31b828||(_0x31b828={})),function(_0x3ba7b7){const _0x29e1b1=_0x47ccb7;_0x3ba7b7['File']='file',_0x3ba7b7[_0x29e1b1(0x1e3)]=_0x29e1b1(0x88),_0x3ba7b7['Image']=_0x29e1b1(0x17c),_0x3ba7b7[_0x29e1b1(0x2b6)]='audio',_0x3ba7b7['Video']=_0x29e1b1(0xbe),_0x3ba7b7[_0x29e1b1(0x5d7)]=_0x29e1b1(0x4ac),_0x3ba7b7[_0x29e1b1(0x15d)]='vector',_0x3ba7b7['Entity']=_0x29e1b1(0x699),_0x3ba7b7['Relation']=_0x29e1b1(0x9f5),_0x3ba7b7[_0x29e1b1(0x158)]=_0x29e1b1(0x1dc),_0x3ba7b7['Index']=_0x29e1b1(0x776),_0x3ba7b7[_0x29e1b1(0x460)]=_0x29e1b1(0xa43),_0x3ba7b7[_0x29e1b1(0x1ad)]=_0x29e1b1(0x7d2),_0x3ba7b7[_0x29e1b1(0x7f1)]=_0x29e1b1(0x8f),_0x3ba7b7['WaitTrue']='wait-true',_0x3ba7b7[_0x29e1b1(0x23b)]=_0x29e1b1(0x1a7);}(_0x577b8e||(_0x577b8e={})),function(_0x16aa21){const _0xa2a91b=_0x47ccb7;_0x16aa21[_0xa2a91b(0x4fc)]=_0xa2a91b(0x860),_0x16aa21['Account']='account',_0x16aa21[_0xa2a91b(0x2fe)]=_0xa2a91b(0x77c);}(_0x39a0e4||(_0x39a0e4={}));const _0x1cecc6=[{'type':_0x4b182d['Router'],'id':'if-else-router','name':_0x47ccb7(0x6a9),'description':'Routes\x20messages\x20based\x20on\x20conditional\x20logic.','modelId':'gpt-4.1-nano','instructions':_0x47ccb7(0x68e),'grammar':_0x47ccb7(0x58a),'temperature':0x0,'maxTokens':0x64}],_0x4834c4=[{'type':_0x4b182d[_0x47ccb7(0x856)],'id':_0x47ccb7(0x35d),'name':_0x47ccb7(0x9cf),'description':'','modelId':'gpt-4.1-nano','instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':_0x47ccb7(0x211),'name':_0x47ccb7(0x173),'description':'A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','modelId':_0x47ccb7(0x2f9),'instructions':'Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':'search-agent','name':'Search\x20Agent','description':_0x47ccb7(0x906),'modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0x51a),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d['Agent'],'id':_0x47ccb7(0xacc),'name':_0x47ccb7(0x499),'description':_0x47ccb7(0x149),'modelId':_0x47ccb7(0x2f9),'instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d['Agent'],'id':'learn-agent','name':'Learning\x20Agent','description':_0x47ccb7(0x4eb),'modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0x653),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':_0x47ccb7(0xa0e),'name':_0x47ccb7(0x321),'description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0x578),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':_0x47ccb7(0x350),'name':_0x47ccb7(0xa35),'description':_0x47ccb7(0xa9a),'modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0xca),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':'strategizing-agent','name':_0x47ccb7(0xac5),'description':_0x47ccb7(0x778),'modelId':_0x47ccb7(0x2f9),'instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':_0x47ccb7(0x3cf),'name':'Summary\x20Generator','description':'Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0x415),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':_0x47ccb7(0x3fd),'name':_0x47ccb7(0x48d),'description':_0x47ccb7(0x646),'modelId':'gpt-4.1-nano','instructions':_0x47ccb7(0x78d),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d['Agent'],'id':'trend-spotter','name':_0x47ccb7(0x7b3),'description':_0x47ccb7(0x75a),'modelId':'gpt-4.1-nano','instructions':_0x47ccb7(0x7de),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x4b182d[_0x47ccb7(0x856)],'id':_0x47ccb7(0x9f7),'name':'Copywriter\x20Agent','description':'Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0x8bc),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x47ccb7(0x41d),'name':'Coordinator\x20Agent','description':_0x47ccb7(0x5fc),'modelId':_0x47ccb7(0x2f9),'instructions':'Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20userâs\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20â\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x47ccb7(0x2ce),'name':_0x47ccb7(0x689),'description':'Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0xa3e),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x47ccb7(0x26f),'name':_0x47ccb7(0x3c8),'description':'Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','modelId':_0x47ccb7(0x2f9),'instructions':_0x47ccb7(0x75c),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x447379{static [_0x47ccb7(0x9ab)];constructor(){}static[_0x47ccb7(0x773)](){const _0x4252d0=_0x47ccb7;return _0x447379[_0x4252d0(0x9ab)]||(_0x447379[_0x4252d0(0x9ab)]=new _0x447379()),_0x447379[_0x4252d0(0x9ab)];}async['getWorkflow'](_0x2cad26,_0x31a083){const _0x489a0e=_0x47ccb7,_0x387785=await(0x0,_0x19c8f0[_0x489a0e(0xa82)])((0x0,_0x19c8f0['doc'])(_0x3af573[_0x489a0e(0x586)](),_0x489a0e(0x15e)+_0x2cad26+'/resources/generative-ai-workflow/items/'+_0x31a083)),_0x1125b4=await this['getAgents'](_0x2cad26),_0x261eda=await this[_0x489a0e(0x41f)](_0x2cad26),_0x313e0b=await this[_0x489a0e(0x8fc)](_0x2cad26);if(!_0x387785[_0x489a0e(0xf1)]())throw new _0x20e318(_0x20e318[_0x489a0e(0x6f4)][_0x489a0e(0x9a)]);return this[_0x489a0e(0x66f)](_0x387785,_0x1125b4,_0x261eda,_0x313e0b);}async[_0x47ccb7(0x8fc)](_0x1c9a94){const _0x3f0e08=_0x47ccb7;return(await(0x0,_0x19c8f0[_0x3f0e08(0x66b)])((0x0,_0x19c8f0[_0x3f0e08(0x611)])(_0x3af573[_0x3f0e08(0x586)](),_0x3f0e08(0x15e)+_0x1c9a94+_0x3f0e08(0x6ea))))[_0x3f0e08(0xa1a)]['map'](_0x39ab1a=>{const _0x5139b2=_0x3f0e08,_0x28dc97=_0x39ab1a[_0x5139b2(0x4ac)]();return{'type':_0x4b182d[_0x5139b2(0x976)],'id':_0x39ab1a['id'],'name':_0x28dc97['name'],'description':_0x28dc97[_0x5139b2(0x3fe)],'storageType':_0x28dc97[_0x5139b2(0x91e)]??_0x46b128[_0x5139b2(0x98b)][_0x5139b2(0x5b1)],'hosting':_0x28dc97['hosting']??_0x39a0e4[_0x5139b2(0x2fe)],'modelId':_0x28dc97[_0x5139b2(0x9a7)]??_0x5139b2(0x65c),'ingestBlocks':_0x28dc97[_0x5139b2(0x75b)],'retrieveBlocks':_0x28dc97[_0x5139b2(0x833)]};});}async[_0x47ccb7(0x65f)](_0x2c22f0,_0x1e2bc5){const _0x2aa510=_0x47ccb7,_0x1994ec=await(0x0,_0x19c8f0[_0x2aa510(0xa82)])((0x0,_0x19c8f0['doc'])(_0x3af573[_0x2aa510(0x586)](),_0x2aa510(0x15e)+_0x2c22f0+_0x2aa510(0x45a)+_0x1e2bc5)),_0x28d65f=await this[_0x2aa510(0xa2d)](_0x2c22f0),_0x178a53=_0x1994ec[_0x2aa510(0x4ac)]();if(!_0x178a53)throw new _0x20e318(_0x20e318[_0x2aa510(0x6f4)][_0x2aa510(0x72a)]);return{'type':_0x4b182d[_0x2aa510(0x976)],'id':_0x1e2bc5,'uid':_0x1e2bc5,'name':_0x178a53['name'],'description':_0x178a53[_0x2aa510(0x3fe)],'storageType':_0x178a53[_0x2aa510(0x91e)]??_0x46b128[_0x2aa510(0x98b)][_0x2aa510(0x5b1)],'hosting':_0x178a53[_0x2aa510(0x959)]??_0x39a0e4[_0x2aa510(0x2fe)],'modelId':_0x178a53['modelId']??'text-embedding-3-small','ingestBlocks':this[_0x2aa510(0x103)](_0x178a53[_0x2aa510(0x75b)],_0x28d65f),'retrieveBlocks':this[_0x2aa510(0x103)](_0x178a53[_0x2aa510(0x833)],_0x28d65f),'links':[]};}[_0x47ccb7(0x66f)](_0x56a6ff,_0x2a8243,_0x1307f5,_0x28f1c4){const _0x10ca3a=_0x47ccb7,_0x473737=_0x56a6ff[_0x10ca3a(0x4ac)]();if(!_0x473737)throw new _0x20e318(_0x20e318[_0x10ca3a(0x6f4)][_0x10ca3a(0x9a)]);const _0xa61f83=this['parseWorkflowBlocks'](_0x473737[_0x10ca3a(0x497)],_0x2a8243,_0x1307f5,_0x28f1c4);return{'id':_0x56a6ff['id'],'name':_0x473737[_0x10ca3a(0xd7)],'description':_0x473737[_0x10ca3a(0x3fe)],'blocks':_0xa61f83,'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0xa61f83),'externalStorageConnectionIds':this[_0x10ca3a(0x13e)](_0xa61f83),'initialPrompt':_0x473737[_0x10ca3a(0x501)]};}[_0x47ccb7(0x8a7)](_0x462590){const _0x50f9cb=_0x47ccb7,_0x2ae381=new Set();for(const _0x11ef33 of _0x462590)switch(_0x11ef33[_0x50f9cb(0x96)]){case _0x4b182d[_0x50f9cb(0x5c0)]:case _0x4b182d['DataCollection']:for(const _0xf4f5aa of[..._0x11ef33['ingestBlocks'],..._0x11ef33[_0x50f9cb(0x833)]])_0xf4f5aa[_0x50f9cb(0x96)]===_0x31b828[_0x50f9cb(0x4f8)]&&_0x2ae381['add'](_0xf4f5aa['id']);}return Array[_0x50f9cb(0x48b)](_0x2ae381);}['getWorkflowExternalStorageConnections'](_0x42535b){const _0x22be5b=_0x47ccb7,_0xf87267=new Set();for(const _0x18c851 of _0x42535b)switch(_0x18c851[_0x22be5b(0x96)]){case _0x4b182d[_0x22be5b(0x5c0)]:case _0x4b182d[_0x22be5b(0x976)]:for(const _0x3ebed3 of[..._0x18c851[_0x22be5b(0x75b)],..._0x18c851['retrieveBlocks']])_0x3ebed3[_0x22be5b(0x96)]===_0x31b828[_0x22be5b(0x1b6)]&&_0xf87267[_0x22be5b(0x7ce)](_0x3ebed3['id']);}return Array[_0x22be5b(0x48b)](_0xf87267);}[_0x47ccb7(0x3b9)](_0x445175,_0x5736ba,_0x272de8,_0x1faa48){const _0x18f37b=_0x47ccb7;return _0x445175[_0x18f37b(0x437)](_0x4426b4=>{const _0x4f4dd2=_0x18f37b;switch(_0x4426b4[_0x4f4dd2(0x96)]){case _0x4b182d[_0x4f4dd2(0x856)]:case _0x4b182d['AgentSkill']:case _0x4b182d[_0x4f4dd2(0xabd)]:const _0x3a5f69=_0x5736ba[_0x4f4dd2(0x1b5)](_0x10f9f4=>_0x10f9f4['id']===_0x4426b4['id']);if(!_0x3a5f69)throw new _0x20e318(_0x20e318[_0x4f4dd2(0x6f4)][_0x4f4dd2(0x758)],{'block':_0x4426b4});return{'type':_0x4b182d[_0x4f4dd2(0x856)],'id':_0x3a5f69['id'],'uid':_0x4426b4[_0x4f4dd2(0x9e)],'name':_0x3a5f69['name'],'description':_0x3a5f69[_0x4f4dd2(0x3fe)],'instructions':(_0x3a5f69[_0x4f4dd2(0x8fa)]+'\x0a\x0a'+(_0x4426b4['agent']?.[_0x4f4dd2(0x6ca)]??''))[_0x4f4dd2(0x930)](),'contextOutputVariable':_0x4426b4[_0x4f4dd2(0x933)]?.[_0x4f4dd2(0x237)],'contextInputVariable':_0x4426b4[_0x4f4dd2(0x933)]?.[_0x4f4dd2(0x11f)],'reasoning':_0x4426b4['agent']?.[_0x4f4dd2(0x34f)]??!0x1,'grammar':_0x4426b4['agent']?.['grammar']??'default','temperature':_0x4426b4[_0x4f4dd2(0x933)]?.['temperature']??0.5,'maxTokens':_0x4426b4['agent']?.[_0x4f4dd2(0x161)]??0x1f4,'modelId':_0x4426b4[_0x4f4dd2(0x933)]?.[_0x4f4dd2(0x9a7)]??_0x4f4dd2(0x43a),'links':_0x4426b4[_0x4f4dd2(0x9cb)]};case _0x4b182d['Knowledge']:case _0x4b182d[_0x4f4dd2(0x976)]:const _0x449212=_0x1faa48[_0x4f4dd2(0x1b5)](_0x495a5d=>_0x495a5d['id']===_0x4426b4['id']);if(!_0x449212)throw new _0x20e318(_0x20e318[_0x4f4dd2(0x6f4)][_0x4f4dd2(0x758)],{'block':_0x4426b4});return{'type':_0x4426b4['type'],'id':_0x449212['id'],'uid':_0x4426b4[_0x4f4dd2(0x9e)],'name':_0x449212[_0x4f4dd2(0xd7)],'description':_0x449212[_0x4f4dd2(0x3fe)],'ingestBlocks':this[_0x4f4dd2(0x103)](_0x449212[_0x4f4dd2(0x75b)],_0x5736ba),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x449212[_0x4f4dd2(0x833)],_0x5736ba),'links':_0x4426b4[_0x4f4dd2(0x9cb)]};case _0x4b182d[_0x4f4dd2(0x34c)]:return{'type':_0x4426b4[_0x4f4dd2(0x96)],'id':_0x4426b4['id'],'uid':_0x4426b4[_0x4f4dd2(0x9e)],'name':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0xd7)],'description':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0x3fe)],'parameters':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0x164)],'endpointUrl':_0x4426b4[_0x4f4dd2(0xa43)]['endpointUrl'],'endpointMethod':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0x725)],'headers':_0x4426b4[_0x4f4dd2(0xa43)]['headers'],'queryParameters':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0x3fc)],'bodyParameters':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0xa4d)],'contextOutputVariable':_0x4426b4['tool'][_0x4f4dd2(0x237)],'links':_0x4426b4['links']};case _0x4b182d['FormSkill']:return{'type':_0x4426b4[_0x4f4dd2(0x96)],'id':_0x4426b4['id'],'uid':_0x4426b4[_0x4f4dd2(0x9e)],'name':_0x4426b4['tool'][_0x4f4dd2(0xd7)],'description':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0x3fe)],'questions':_0x4426b4['tool']['questions']['map'](_0x612b44=>({'id':_0x612b44['id'],'question':_0x612b44[_0x4f4dd2(0xd7)],'validation':_0x612b44[_0x4f4dd2(0x687)],'required':_0x4f4dd2(0xf7)===_0x612b44[_0x4f4dd2(0x1d2)],'format':_0x612b44[_0x4f4dd2(0x216)]})),'contextOutputVariable':_0x4426b4[_0x4f4dd2(0xa43)]['contextOutputVariable'],'links':_0x4426b4[_0x4f4dd2(0x9cb)]};case _0x4b182d[_0x4f4dd2(0x266)]:return{'type':_0x4426b4[_0x4f4dd2(0x96)],'id':_0x4426b4['id'],'uid':_0x4426b4[_0x4f4dd2(0x9e)],'modelId':_0x4426b4['tool'][_0x4f4dd2(0x9a7)]??_0x4f4dd2(0xa8),'links':_0x4426b4[_0x4f4dd2(0x9cb)]};case _0x4b182d[_0x4f4dd2(0x998)]:const _0x1219c3=_0x272de8[_0x4f4dd2(0x1b5)](_0x126fb2=>_0x126fb2['id']===_0x4426b4['id']);if(!_0x1219c3)throw new _0x20e318(_0x20e318['codes'][_0x4f4dd2(0x758)],{'block':_0x4426b4});return{'type':_0x4426b4[_0x4f4dd2(0x96)],'id':_0x4426b4['id'],'uid':_0x4426b4[_0x4f4dd2(0x9e)],'name':_0x1219c3[_0x4f4dd2(0xd7)],'description':_0x1219c3[_0x4f4dd2(0x3fe)],'workflowId':_0x1219c3['id'],'async':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0x960)],'contextOutputVariable':_0x4426b4[_0x4f4dd2(0xa43)][_0x4f4dd2(0x237)],'contextInputVariable':_0x4426b4['tool'][_0x4f4dd2(0x11f)],'links':_0x4426b4[_0x4f4dd2(0x9cb)]};case _0x4b182d['Prompt']:case _0x4b182d[_0x4f4dd2(0x7ed)]:case _0x4b182d['Answer']:case _0x4b182d[_0x4f4dd2(0xa45)]:case _0x4b182d[_0x4f4dd2(0x1f0)]:case _0x4b182d[_0x4f4dd2(0x158)]:case _0x4b182d[_0x4f4dd2(0x9d2)]:case _0x4b182d[_0x4f4dd2(0x2aa)]:case _0x4b182d[_0x4f4dd2(0x9b2)]:case _0x4b182d['WriteFile']:case _0x4b182d[_0x4f4dd2(0x777)]:case _0x4b182d[_0x4f4dd2(0x426)]:case _0x4b182d[_0x4f4dd2(0x60b)]:return{'type':_0x4426b4[_0x4f4dd2(0x96)],'id':_0x4426b4['id'],'uid':_0x4426b4[_0x4f4dd2(0x9e)],'links':_0x4426b4['links']};case _0x4b182d[_0x4f4dd2(0x8a)]:case _0x4b182d[_0x4f4dd2(0x4f4)]:return{'type':_0x4426b4[_0x4f4dd2(0x96)],'id':_0x4426b4['id'],'uid':_0x4426b4['uid'],'links':_0x4426b4[_0x4f4dd2(0x9cb)],'attributes':_0x4426b4['attributes']};default:throw new _0x20e318(_0x20e318[_0x4f4dd2(0x6f4)]['WorkflowInvalidBlockType'],{'block':_0x4426b4});}});}[_0x47ccb7(0x103)](_0x378461,_0x198f9f){const _0x267ad0=_0x47ccb7;return _0x378461?_0x378461[_0x267ad0(0x437)](_0x98aa78=>{const _0x23e0d8=_0x267ad0;switch(_0x98aa78[_0x23e0d8(0x96)]){case _0x31b828[_0x23e0d8(0x856)]:const _0x22594c=_0x198f9f[_0x23e0d8(0x1b5)](_0x560be7=>_0x560be7['id']===_0x98aa78['id']);if(!_0x22594c)throw new _0x20e318(_0x20e318[_0x23e0d8(0x6f4)][_0x23e0d8(0x758)],{'block':_0x98aa78});return{'type':_0x98aa78['type'],'id':_0x98aa78['id'],'uid':_0x98aa78[_0x23e0d8(0x9e)],'description':_0x22594c[_0x23e0d8(0x3fe)],'instructions':(_0x22594c[_0x23e0d8(0x8fa)]+'\x0a\x0a'+(_0x98aa78[_0x23e0d8(0x933)]?.['additionnalInstructions']??''))[_0x23e0d8(0x930)](),'contextOutputVariable':_0x98aa78['agent']?.['contextOutputVariable'],'contextInputVariable':_0x98aa78[_0x23e0d8(0x933)]?.[_0x23e0d8(0x11f)],'reasoning':_0x98aa78['agent']?.[_0x23e0d8(0x34f)]??!0x1,'grammar':_0x98aa78['agent']?.['grammar']??_0x23e0d8(0xa4b),'temperature':_0x98aa78[_0x23e0d8(0x933)]?.[_0x23e0d8(0x605)]??0.5,'maxTokens':_0x98aa78['agent']?.[_0x23e0d8(0x161)]??0x1f4,'modelId':_0x98aa78['agent']?.['modelId']??_0x23e0d8(0x43a),'links':_0x98aa78[_0x23e0d8(0x9cb)]};case _0x31b828[_0x23e0d8(0x120)]:case _0x31b828[_0x23e0d8(0x543)]:case _0x31b828[_0x23e0d8(0x4f4)]:case _0x31b828[_0x23e0d8(0x8a)]:case _0x31b828[_0x23e0d8(0x18f)]:case _0x31b828[_0x23e0d8(0x9f2)]:return{'type':_0x98aa78[_0x23e0d8(0x96)],'id':_0x98aa78['id'],'uid':_0x98aa78['uid'],'links':_0x98aa78[_0x23e0d8(0x9cb)],'attributes':_0x98aa78[_0x23e0d8(0x178)]};case _0x31b828[_0x23e0d8(0x12c)]:case _0x31b828[_0x23e0d8(0x4a3)]:case _0x31b828[_0x23e0d8(0x9af)]:case _0x31b828[_0x23e0d8(0x829)]:case _0x31b828[_0x23e0d8(0x426)]:case _0x31b828['SentenceSplitter']:case _0x31b828[_0x23e0d8(0x4f8)]:case _0x31b828[_0x23e0d8(0x1b6)]:case _0x31b828[_0x23e0d8(0x1ad)]:case _0x31b828['Prompt']:case _0x31b828[_0x23e0d8(0x1e2)]:case _0x31b828[_0x23e0d8(0x637)]:return{'type':_0x98aa78[_0x23e0d8(0x96)],'id':_0x98aa78['id'],'uid':_0x98aa78[_0x23e0d8(0x9e)],'links':_0x98aa78['links']};default:throw new _0x20e318(_0x20e318[_0x23e0d8(0x6f4)]['WorkflowInvalidBlockType'],{'block':_0x98aa78});}}):[];}async[_0x47ccb7(0xa2d)](_0x2f0536){const _0x38a307=_0x47ccb7,_0x185809=(await(0x0,_0x19c8f0[_0x38a307(0x66b)])((0x0,_0x19c8f0['collection'])(_0x3af573[_0x38a307(0x586)](),_0x38a307(0x15e)+_0x2f0536+_0x38a307(0x875))))[_0x38a307(0xa1a)][_0x38a307(0x437)](_0xe36747=>{const _0x558a07=_0x38a307,_0x5395fe=_0xe36747[_0x558a07(0x4ac)]();return{'type':_0x4b182d['Agent'],'id':_0xe36747['id'],'name':_0x5395fe['name'],'description':_0x5395fe['description'],'instructions':_0x5395fe[_0x558a07(0x8fa)]};});return _0x185809[_0x38a307(0x5c5)](..._0x1cecc6),_0x185809['push'](..._0x4834c4),_0x185809;}async[_0x47ccb7(0x41f)](_0x5b6c7c){const _0x165bba=_0x47ccb7;return(await(0x0,_0x19c8f0['getDocs'])((0x0,_0x19c8f0['collection'])(_0x3af573['getFirestore'](),'/developers/'+_0x5b6c7c+_0x165bba(0x985))))['docs'][_0x165bba(0x437)](_0x49d5a2=>{const _0x425847=_0x165bba,_0x57244b=_0x49d5a2[_0x425847(0x4ac)]();return{'id':_0x49d5a2['id'],'name':_0x57244b[_0x425847(0xd7)],'description':_0x57244b[_0x425847(0x3fe)]};});}}const _0x21e614=_0x447379['getInstance']();class _0x4ce020 extends _0x451fb8{[_0x47ccb7(0x987)];[_0x47ccb7(0x111)];[_0x47ccb7(0x522)]=0x0;[_0x47ccb7(0x967)]=0x0;[_0x47ccb7(0xad3)];constructor(_0x3e8d7a,_0x1b3498,_0x321f79,_0x1d0e8a){const _0x2c0aed=_0x47ccb7;super(_0x3e8d7a,_0x1b3498,_0x1d0e8a),this['localNode']=_0x3e8d7a,this[_0x2c0aed(0x111)]=_0x321f79,this[_0x2c0aed(0xa36)]();}[_0x47ccb7(0x85c)](){const _0x54d62e=_0x47ccb7;this[_0x54d62e(0xad3)]&&(clearTimeout(this[_0x54d62e(0xad3)]),delete this[_0x54d62e(0xad3)]),super['destroy']();}[_0x47ccb7(0xf3)](){const _0x57a81e=_0x47ccb7;this[_0x57a81e(0x522)]=0x0,this['tokens']=0x0,this[_0x57a81e(0xa36)](),super[_0x57a81e(0xf3)]();}[_0x47ccb7(0x441)](_0x494659){const _0x557344=_0x47ccb7,_0x195ee1=_0x557344(0x383)+(0x0,_0x4c8224['v4'])();let _0x488bb4=!0x1;const _0x8f1082=()=>{const _0x24c80a=_0x557344;if(_0x488bb4)throw new _0x20e318(_0x20e318[_0x24c80a(0x6f4)]['GenerativeAIContextJobAlreadyConsumed']);_0x488bb4=!0x0;};switch(_0x494659[_0x557344(0x96)]){case _0x557344(0x332):case _0x557344(0x7e4):case'collection-query':case _0x557344(0x86b):case _0x557344(0x288):case _0x557344(0x3d7):case'file-ingest':case _0x557344(0x380):case _0x557344(0x15c):case'realtime-session-create':case'speech-create':case _0x557344(0x13f):case _0x557344(0x430):return{'id':_0x195ee1,..._0x494659,'run':()=>(_0x8f1082(),this['internalJob'](_0x195ee1,_0x494659))};case _0x557344(0x9bd):case _0x557344(0x806):const _0x6f9ff4=()=>(_0x8f1082(),this[_0x557344(0x31c)](_0x195ee1,_0x494659)),_0x3e275e=()=>(_0x8f1082(),this[_0x557344(0x69f)](_0x195ee1,_0x494659));return{'id':_0x195ee1,'options':{'threadId':_0x557344(0x99d)+(0x0,_0x4c8224['v4'])()},..._0x494659,'run':_0x6f9ff4,'stream':_0x3e275e};default:throw new Error(_0x557344(0x8a6));}}async['internalJob'](_0x23f495,_0x4d6e88){const _0x30f7b2=_0x47ccb7;if(_0x30f7b2(0x9bd)===_0x4d6e88[_0x30f7b2(0x96)]||_0x30f7b2(0x806)===_0x4d6e88[_0x30f7b2(0x96)])throw new _0xb4a92c(_0x215585['GenerativeAIContextJobInvalidType'],_0x30f7b2(0x8a6));const _0x2ea22f={'threadId':_0x30f7b2(0x99d)+(0x0,_0x4c8224['v4'])(),..._0x4d6e88},_0x47243c=await this[_0x30f7b2(0x528)](_0x23f495,_0x46b128[_0x30f7b2(0x64f)][_0x30f7b2(0x756)],_0x2ea22f);return new Promise((_0x151c80,_0x199cef)=>{const _0x3d92df=_0x30f7b2;let _0x4899de;const _0x215484=_0x47243c[_0x3d92df(0x9b4)]({'next':_0x48fb52=>{const _0x13c3fa=_0x3d92df;switch(_0x48fb52[_0x13c3fa(0x5bc)]){case _0x46b128[_0x13c3fa(0x7cc)][_0x13c3fa(0x2d8)]:clearTimeout(_0x4899de),_0x151c80(_0x48fb52[_0x13c3fa(0x4f5)]),_0x215484[_0x13c3fa(0x6c7)]();break;case _0x46b128[_0x13c3fa(0x7cc)][_0x13c3fa(0x226)]:clearTimeout(_0x4899de),_0x199cef(new _0x20e318(_0x20e318[_0x13c3fa(0x6f4)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x48fb52})),_0x215484['unsubscribe']();}},'error':_0x4feae7=>{const _0x40fd72=_0x3d92df;clearTimeout(_0x4899de),_0x199cef(new _0x20e318(_0x20e318[_0x40fd72(0x6f4)][_0x40fd72(0x7b8)],{'err':_0x4feae7})),_0x215484[_0x40fd72(0x6c7)]();}});_0x4899de=setTimeout(()=>{const _0x17e66c=_0x3d92df;_0x199cef(new _0x20e318(_0x20e318['codes'][_0x17e66c(0xa75)])),_0x215484['unsubscribe']();},_0x29b99e);});}async['run'](_0x549ffa,_0x5ab45e){const _0x3409fa=_0x47ccb7,_0x2a1cd3=await this[_0x3409fa(0x528)](_0x549ffa,_0x46b128['JobType'][_0x3409fa(0x756)],_0x5ab45e);return new Promise((_0x35bf6f,_0x1d6e0e)=>{const _0x28430f=_0x3409fa;let _0x1ebe40;const _0x174b22=_0x2a1cd3[_0x28430f(0x9b4)]({'next':_0x3abcc1=>{const _0x46e265=_0x28430f;switch(_0x3abcc1[_0x46e265(0x5bc)]){case _0x46b128[_0x46e265(0x7cc)]['Completed']:if(_0x46e265(0x806)!==_0x3abcc1[_0x46e265(0x4f5)][_0x46e265(0x96)])return;const _0x5e7785=_0x3abcc1['result'][_0x46e265(0x93e)]??0x0;this[_0x46e265(0x839)](_0x5ab45e[_0x46e265(0x806)],_0x5e7785),clearTimeout(_0x1ebe40),_0x35bf6f(_0x3abcc1[_0x46e265(0x4f5)]),_0x174b22[_0x46e265(0x6c7)](),this['prompts']+=0x1,this['tokens']+=_0x5e7785,this[_0x46e265(0xa36)]();break;case _0x46b128['JobStatus']['Failed']:clearTimeout(_0x1ebe40),_0x1d6e0e(new _0x20e318(_0x20e318['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x3abcc1})),_0x174b22['unsubscribe'](),this['sendStats']();}},'error':_0x3ebf11=>{const _0x4ece8f=_0x28430f;clearTimeout(_0x1ebe40),_0x1d6e0e(new _0x20e318(_0x20e318[_0x4ece8f(0x6f4)][_0x4ece8f(0x7b8)],{'err':_0x3ebf11})),_0x174b22[_0x4ece8f(0x6c7)]();}});_0x1ebe40=setTimeout(()=>{const _0x538a3d=_0x28430f;_0x1d6e0e(new _0x20e318(_0x20e318[_0x538a3d(0x6f4)][_0x538a3d(0xa75)])),_0x174b22[_0x538a3d(0x6c7)]();},_0x29b99e);});}async*[_0x47ccb7(0x69f)](_0x5ccb20,_0x46cef7){const _0x33f6ef=_0x47ccb7,_0x2641bd=await this[_0x33f6ef(0x528)](_0x5ccb20,_0x46b128[_0x33f6ef(0x64f)][_0x33f6ef(0x614)],_0x46cef7);let _0x3d230e,_0x416514,_0x1c83ba=!0x1,_0x44f333=0x0;const _0x328403=[],_0x5b6908=new Map();let _0xb1fd74=null;const _0x1f7652=()=>{_0xb1fd74&&(_0xb1fd74(),_0xb1fd74=null);},_0x8c3a6a=_0x25cf1c=>{const _0x3501e8=_0x33f6ef;_0x1c83ba=!0x0,_0x1f7652(),_0xa1e4fd[_0x3501e8(0x6c7)](),_0x416514=_0x25cf1c;},_0xa1e4fd=_0x2641bd[_0x33f6ef(0x9b4)]({'next':async _0x4ca744=>{const _0x211819=_0x33f6ef;switch(_0x4ca744[_0x211819(0x5bc)]){case _0x46b128['JobStatus'][_0x211819(0x159)]:if(_0x211819(0x806)!==_0x4ca744[_0x211819(0x4f5)][_0x211819(0x96)])return;if(void 0x0!==_0x4ca744[_0x211819(0x4f5)][_0x211819(0x995)]){if(void 0x0===_0x4ca744[_0x211819(0x4f5)]['index'])return void _0x8c3a6a(_0x20e318[_0x211819(0x6f4)]['GenerativeAIContextInvalidPartialResult']);_0x44f333===_0x4ca744[_0x211819(0x4f5)][_0x211819(0x776)]?(_0x328403[_0x211819(0x5c5)](_0x4ca744[_0x211819(0x4f5)]),_0x44f333++,((()=>{const _0x11b603=_0x211819;for(;_0x5b6908[_0x11b603(0x788)](_0x44f333);)_0x328403[_0x11b603(0x5c5)](_0x5b6908[_0x11b603(0x4ab)](_0x328403[_0x11b603(0x583)])),_0x5b6908[_0x11b603(0x7b9)](_0x328403['length']),_0x44f333++;})()),_0x1f7652(),_0x317398()):_0x5b6908['set'](_0x4ca744[_0x211819(0x4f5)]['index'],_0x4ca744[_0x211819(0x4f5)]);}break;case _0x46b128[_0x211819(0x7cc)][_0x211819(0x2d8)]:if(_0x211819(0x806)!==_0x4ca744[_0x211819(0x4f5)][_0x211819(0x96)])return;for(;_0x44f333!==_0x4ca744[_0x211819(0x4f5)][_0x211819(0x776)];)await _0x301533[_0x211819(0x8f)](0x3e8);const _0x4cb773=_0x4ca744[_0x211819(0x4f5)]['inputTokens']??0x0;this[_0x211819(0x839)](_0x46cef7[_0x211819(0x806)],_0x4cb773),clearTimeout(_0x3d230e),_0x8c3a6a(),this[_0x211819(0x522)]+=0x1,this[_0x211819(0x967)]+=_0x4cb773,this['sendStats']();break;case _0x46b128[_0x211819(0x7cc)]['Failed']:clearTimeout(_0x3d230e),_0x8c3a6a(_0x20e318[_0x211819(0x6f4)][_0x211819(0x7b8)]),this[_0x211819(0xa36)]();}},'error':_0xd6541=>{const _0x464284=_0x33f6ef;clearTimeout(_0x3d230e),_0x8c3a6a(_0x20e318[_0x464284(0x6f4)]['GenerativeAIContextJobFailed']);}}),_0x9e2416=()=>{const _0x5300f6=_0x33f6ef;_0x8c3a6a(_0x20e318[_0x5300f6(0x6f4)]['GenerativeAIContextJobTimeout']);},_0x317398=()=>{clearTimeout(_0x3d230e),_0x3d230e=setTimeout(_0x9e2416,_0x29b99e);};for(_0x3d230e=setTimeout(_0x9e2416,_0x29b99e);!_0x1c83ba||_0x328403[_0x33f6ef(0x583)]>0x0;)_0x328403['length']>0x0?yield _0x328403[_0x33f6ef(0x4ee)]():await new Promise(_0x172805=>_0xb1fd74=_0x172805);if(_0x416514)throw _0x1a21a7[_0x33f6ef(0xa14)](_0x33f6ef(0x32b),{'nodeId':this['localNode'][_0x33f6ef(0x932)](),'nodeType':this[_0x33f6ef(0x987)]['type']}),new _0x20e318(_0x416514);}async[_0x47ccb7(0x330)](){const _0x2ccbce=_0x47ccb7;return(await _0x21e614[_0x2ccbce(0x6cf)](this[_0x2ccbce(0x111)],this['label']))[_0x2ccbce(0xa83)];}[_0x47ccb7(0x839)](_0x3cdf58,_0x561592){const _0x420a83=_0x47ccb7,_0x9962dc=this[_0x420a83(0xa39)],_0xe93916=this[_0x420a83(0x29c)]();_0x1a21a7[_0x420a83(0x839)](_0x255268[_0x420a83(0x7f8)],{'topic':_0x9962dc,'prompt':_0x3cdf58,'type':_0x420a83(0x806),'nodeId':_0xe93916,'tokenCount':_0x561592});}async[_0x47ccb7(0x528)](_0x1884dc,_0x365050,_0x3ce080,_0x41ef6e={}){const _0x1d440d=_0x47ccb7;let _0x6f2a8a;switch(_0x3ce080['type']){case _0x1d440d(0x332):case _0x1d440d(0x7e4):case _0x1d440d(0x8ff):case _0x1d440d(0x430):case _0x1d440d(0x86b):case _0x1d440d(0x288):case _0x1d440d(0x3d7):case _0x1d440d(0x380):case _0x1d440d(0x9bd):case'prompt':case _0x1d440d(0x15c):case _0x1d440d(0x4cd):case'speech-create':case _0x1d440d(0x13f):_0x6f2a8a={'id':_0x1884dc,'jobType':_0x365050,'parameters':{..._0x41ef6e,..._0x3ce080},'status':_0x46b128['JobStatus']['Pending']};break;default:throw new Error('Invalid\x20job\x20type');}return await this[_0x1d440d(0x5e3)](_0x6f2a8a);}[_0x47ccb7(0xa36)](){const _0x3c4bd7=_0x47ccb7;this[_0x3c4bd7(0xad3)]&&clearTimeout(this[_0x3c4bd7(0xad3)]),this[_0x3c4bd7(0xad3)]=setTimeout(async()=>{const _0x5a34a1=_0x3c4bd7;delete this[_0x5a34a1(0xad3)],this[_0x5a34a1(0x9bb)][_0x5a34a1(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x5a34a1(0x416)],'content':{'type':_0x27c53f[_0x5a34a1(0x596)],'label':this[_0x5a34a1(0xa39)],'stats':{'timestamp':Date[_0x5a34a1(0x31e)](),'storage':0x0,'messagesSent':this[_0x5a34a1(0x315)],'messagesReceived':this[_0x5a34a1(0x698)],'bytesSent':this[_0x5a34a1(0x1e8)],'bytesReceived':this[_0x5a34a1(0x945)],'writes':0x0,'reads':0x0,'prompts':this[_0x5a34a1(0x522)],'tokens':this[_0x5a34a1(0x967)]}}});},_0x154809);}}var _0x4d79de,_0x16d833,_0x557626,_0x188c83,_0x434fc0,_0x4b17e8,_0x4c597f,_0x2e0b29,_0x2e4ec8,_0x3bfdb7,_0x273d7b;!function(_0x10f428){const _0x177a8b=_0x47ccb7;_0x10f428[_0x177a8b(0x347)]='AITrace',_0x10f428[_0x177a8b(0x82b)]=_0x177a8b(0x82b),_0x10f428['RetrieveTrace']=_0x177a8b(0x41c),_0x10f428['WorkflowTrace']=_0x177a8b(0x314);}(_0x4d79de||(_0x4d79de={})),function(_0x2b3e64){const _0x5e2055=_0x47ccb7;_0x2b3e64['ModelText']=_0x5e2055(0x80a),_0x2b3e64[_0x5e2055(0x396)]='ModelVector',_0x2b3e64[_0x5e2055(0x550)]=_0x5e2055(0x550),_0x2b3e64['EntityExtractor']='EntityExtractor',_0x2b3e64[_0x5e2055(0x1bf)]=_0x5e2055(0x1bf),_0x2b3e64[_0x5e2055(0x9f2)]=_0x5e2055(0x9f2);}(_0x16d833||(_0x16d833={})),function(_0x23a758){const _0x324f38=_0x47ccb7;_0x23a758[_0x23a758[_0x324f38(0x5f5)]=0x0]=_0x324f38(0x5f5),_0x23a758[_0x23a758[_0x324f38(0x379)]=0x5]=_0x324f38(0x379),_0x23a758[_0x23a758[_0x324f38(0x452)]=0xa]=_0x324f38(0x452),_0x23a758[_0x23a758[_0x324f38(0x7bd)]=0xf]='Error';}(_0x557626||(_0x557626={})),function(_0x48c551){const _0x34c50b=_0x47ccb7;_0x48c551[_0x34c50b(0x845)]='Retrieve',_0x48c551[_0x34c50b(0x98f)]='Ingest',_0x48c551[_0x34c50b(0x5c0)]=_0x34c50b(0x5c0),_0x48c551[_0x34c50b(0x1db)]=_0x34c50b(0x1db),_0x48c551['Workflow']='Workflow',_0x48c551[_0x34c50b(0x756)]=_0x34c50b(0x756),_0x48c551[_0x34c50b(0x7c1)]=_0x34c50b(0x7c1),_0x48c551[_0x34c50b(0x3f2)]=_0x34c50b(0x3f2);}(_0x188c83||(_0x188c83={})),function(_0x47ddbb){const _0x4a8a3e=_0x47ccb7;_0x47ddbb[_0x4a8a3e(0x880)]=_0x4a8a3e(0x880),_0x47ddbb[_0x4a8a3e(0x2d8)]=_0x4a8a3e(0x2d8);}(_0x434fc0||(_0x434fc0={})),function(_0x457b50){const _0x5d44c0=_0x47ccb7;_0x457b50['InitialPrompt']=_0x5d44c0(0x27e),_0x457b50[_0x5d44c0(0x4d1)]='IntermediateOutput',_0x457b50[_0x5d44c0(0x976)]=_0x5d44c0(0x976),_0x457b50['FinalOutput']=_0x5d44c0(0x5da);}(_0x4b17e8||(_0x4b17e8={})),function(_0x4e410f){const _0x31233f=_0x47ccb7;_0x4e410f[_0x31233f(0x8a)]=_0x31233f(0x8a),_0x4e410f[_0x31233f(0x426)]='DocumentParser',_0x4e410f[_0x31233f(0x18f)]=_0x31233f(0x18f),_0x4e410f['GraphDatabase']='GraphDatabase',_0x4e410f[_0x31233f(0x856)]='Agent',_0x4e410f['ModelText']=_0x31233f(0x80a),_0x4e410f['ModelVector']=_0x31233f(0x396),_0x4e410f[_0x31233f(0x829)]=_0x31233f(0x829),_0x4e410f[_0x31233f(0x777)]=_0x31233f(0x777),_0x4e410f[_0x31233f(0x543)]='VectorDatabase',_0x4e410f[_0x31233f(0x4f4)]=_0x31233f(0x4f4);}(_0x4c597f||(_0x4c597f={})),function(_0x33bd77){const _0x391f8a=_0x47ccb7;_0x33bd77[_0x391f8a(0xa9f)]=_0x391f8a(0xa9f),_0x33bd77[_0x391f8a(0x99e)]=_0x391f8a(0x99e);}(_0x2e0b29||(_0x2e0b29={})),function(_0x1460a7){const _0x4f5463=_0x47ccb7;_0x1460a7[_0x4f5463(0xd5)]=_0x4f5463(0xd5),_0x1460a7[_0x4f5463(0x44a)]=_0x4f5463(0x44a),_0x1460a7['SearchGoogle']='SearchGoogle',_0x1460a7['SearchPerplexity']=_0x4f5463(0x268),_0x1460a7[_0x4f5463(0x58c)]=_0x4f5463(0x58c),_0x1460a7[_0x4f5463(0x44e)]=_0x4f5463(0x44e),_0x1460a7[_0x4f5463(0x9b2)]=_0x4f5463(0x9b2),_0x1460a7[_0x4f5463(0xa48)]=_0x4f5463(0xa48),_0x1460a7[_0x4f5463(0x55d)]=_0x4f5463(0x55d),_0x1460a7[_0x4f5463(0x480)]=_0x4f5463(0x480),_0x1460a7['FormSetAnswer']=_0x4f5463(0x2ff),_0x1460a7['FormSubmitForm']=_0x4f5463(0x554);}(_0x2e4ec8||(_0x2e4ec8={})),function(_0x3629bb){const _0x86aa04=_0x47ccb7;_0x3629bb['LoadKnowledgeFunction']=_0x86aa04(0x23c),_0x3629bb[_0x86aa04(0x485)]=_0x86aa04(0x485);}(_0x3bfdb7||(_0x3bfdb7={})),function(_0x1f36e3){const _0x31f031=_0x47ccb7;_0x1f36e3[_0x31f031(0x90d)]='PromptRating';}(_0x273d7b||(_0x273d7b={}));class _0x213d8b{static [_0x47ccb7(0x9ab)]=new _0x213d8b();[_0x47ccb7(0xad5)]=[];[_0x47ccb7(0x4a1)]=!0x1;constructor(){}static[_0x47ccb7(0x773)](){return _0x213d8b['instance'];}get[_0x47ccb7(0x583)](){const _0x20e690=_0x47ccb7;return this[_0x20e690(0xad5)][_0x20e690(0x583)];}['isAvailable'](){const _0x356791=_0x47ccb7;return!this[_0x356791(0x4a1)];}[_0x47ccb7(0x30f)](_0x517328){const _0x5aad9c=_0x47ccb7;_0x517328?this[_0x5aad9c(0xad5)]=this[_0x5aad9c(0xad5)][_0x5aad9c(0xac4)](_0x2690d6=>_0x2690d6['ownerId']!==_0x517328):(this[_0x5aad9c(0xad5)]=[],this[_0x5aad9c(0x4a1)]=!0x1);}['add'](_0x42f48f,_0x5b1755){const _0x2f9740=_0x47ccb7;this[_0x2f9740(0xad5)][_0x2f9740(0x5c5)]({'callback':_0x5b1755,'ownerId':_0x42f48f}),this[_0x2f9740(0x548)]();}async['runJobQueue'](){const _0x275abf=_0x47ccb7;if(!this['isRunning']){for(this[_0x275abf(0x4a1)]=!0x0;this[_0x275abf(0xad5)]['length']>0x0;){const _0x39d911=this['jobQueue'][_0x275abf(0x4ee)]();if(_0x39d911)try{console[_0x275abf(0x6f7)](_0x275abf(0xc9)),await _0x39d911[_0x275abf(0x36d)](),console[_0x275abf(0x6f7)](_0x275abf(0x43b));}catch(_0x44b629){console[_0x275abf(0xa14)](_0x275abf(0x817),_0x44b629);}}this['isRunning']=!0x1;}}}const _0x33f831=_0x213d8b['getInstance']();class _0x143f62 extends _0x52f39d{[_0x47ccb7(0x242)];[_0x47ccb7(0x474)];constructor(_0x2a4ea0,_0x4bea27,_0x53b4ec){const _0xda4df9=_0x47ccb7;super(_0x2a4ea0,_0x4bea27),this[_0xda4df9(0x242)]=_0x53b4ec;}[_0x47ccb7(0x9a2)](){const _0x4b4e1c=_0x47ccb7;return _0x46b128[_0x4b4e1c(0x5c1)][_0x4b4e1c(0x756)];}[_0x47ccb7(0x7f6)](){const _0x16da81=_0x47ccb7;this[_0x16da81(0x49f)]();}[_0x47ccb7(0x3a0)](){const _0x35f88c=_0x47ccb7;this[_0x35f88c(0x9bb)]?.[_0x35f88c(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x35f88c(0x416)],'content':{'type':_0x27c53f['CloseJobWorker'],'label':this[_0x35f88c(0xa39)]}});}[_0x47ccb7(0xf3)](){const _0x333488=_0x47ccb7;this[_0x333488(0x474)]?.(),delete this[_0x333488(0x474)],this[_0x333488(0x7f6)]();}[_0x47ccb7(0x85c)](){const _0x44d8d8=_0x47ccb7;_0x33f831[_0x44d8d8(0x30f)](this[_0x44d8d8(0xa39)]),this[_0x44d8d8(0x474)]?.(),delete this[_0x44d8d8(0x474)],super[_0x44d8d8(0x85c)]();}['isAvailable'](){const _0x38a267=_0x47ccb7;return _0x33f831[_0x38a267(0x3f5)]();}[_0x47ccb7(0x86e)](){return 0x1;}[_0x47ccb7(0x6e7)](_0x54c19c,_0x43fec3,_0x254ca2){}['accumulateResult'](_0x9ed07d,_0x536831){return _0x9ed07d;}async[_0x47ccb7(0x1c2)](_0x1f155c,_0x5b987b){const _0x24f93=_0x47ccb7;console['warn'](_0x24f93(0x994));}async['stopTracing'](_0x7a2e21,_0x5a14d9){const _0x1947f2=_0x47ccb7;console[_0x1947f2(0x6f7)](_0x1947f2(0x994));}[_0x47ccb7(0x49f)](){const _0x260efd=_0x47ccb7;this[_0x260efd(0x474)]||(this[_0x260efd(0x474)]=this['onMessage'](async(_0x3103c9,_0x30b0da)=>{const _0x1b925d=_0x260efd;if(_0x1a21a7[_0x1b925d(0x766)](_0x5300ce['Jobs'],_0x1b925d(0x356),_0x30b0da),!(_0x30b0da instanceof File)){if(this[_0x1b925d(0x706)](_0x30b0da))_0x1a21a7[_0x1b925d(0x766)](_0x5300ce[_0x1b925d(0x3ec)],_0x1b925d(0x797),_0x30b0da),this[_0x1b925d(0x3f5)]()?this[_0x1b925d(0x582)](_0x30b0da['id'],_0x30b0da[_0x1b925d(0x284)],_0x3103c9):this['sendReject'](_0x30b0da['id'],_0x30b0da[_0x1b925d(0x284)],_0x3103c9);else{if(this[_0x1b925d(0x567)](_0x30b0da)){_0x1a21a7[_0x1b925d(0x766)](_0x5300ce[_0x1b925d(0x3ec)],_0x1b925d(0x870),_0x30b0da);const {id:_0x194301,parameters:_0x19cff8}=_0x30b0da;await this[_0x1b925d(0x1c2)](_0x194301,_0x19cff8),this[_0x1b925d(0x9a1)](_0x30b0da['id'],_0x30b0da,_0x3103c9);}}}}));}[_0x47ccb7(0x582)](_0x4464d0,_0x40f0bd,_0xc95c59){const _0x204788=_0x47ccb7,_0x922769={'id':_0x4464d0,'jobType':_0x40f0bd,'jobPhase':_0x5e300c[_0x204788(0x724)],'available':!0x0,'queueLength':_0x33f831[_0x204788(0x583)],'bid':this[_0x204788(0x86e)]()};_0x1a21a7['log'](_0x5300ce[_0x204788(0x3ec)],_0x204788(0xab3),_0x922769),this['send'](_0x922769,[_0xc95c59]);}[_0x47ccb7(0x94a)](_0x5d9d1c,_0x8cdf03,_0x222a95){const _0xa6f618=_0x47ccb7,_0x1d3070={'id':_0x5d9d1c,'jobType':_0x8cdf03,'jobPhase':_0x5e300c[_0xa6f618(0x724)],'available':!0x1,'queueLength':_0x33f831[_0xa6f618(0x583)],'bid':0x0};_0x1a21a7[_0xa6f618(0x766)](_0x5300ce[_0xa6f618(0x3ec)],_0xa6f618(0x57e),_0x1d3070),this[_0xa6f618(0x3dc)](_0x1d3070,[_0x222a95]);}async[_0x47ccb7(0x9a1)](_0x3d0b73,_0x4fb3aa,_0x55b953){const _0x500405=_0x47ccb7;_0x1a21a7['log'](_0x5300ce['Jobs'],_0x500405(0x4ae),_0x4fb3aa);const _0x2ded3b={'id':_0x3d0b73,'jobType':_0x4fb3aa[_0x500405(0x284)],'parameters':_0x4fb3aa[_0x500405(0x164)]};try{switch(_0x4fb3aa[_0x500405(0x284)]){case _0x46b128[_0x500405(0x64f)][_0x500405(0x756)]:await this[_0x500405(0x3f7)](_0x3d0b73,_0x4fb3aa,_0x2ded3b,_0x55b953);break;case _0x46b128['JobType'][_0x500405(0x614)]:await this[_0x500405(0x20e)](_0x3d0b73,_0x4fb3aa,_0x2ded3b,_0x55b953);break;default:throw new Error(_0x500405(0xa8c));}}catch(_0x577449){_0x1a21a7['error'](_0x500405(0x6b7),{'nodeId':this[_0x500405(0xa10)]['getId'](),'nodeType':this[_0x500405(0xa10)][_0x500405(0x96)],'data':{'job':_0x2ded3b}},_0x577449);const _0x4f803a=_0x577449 instanceof Error?_0x577449[_0x500405(0xa3f)]:_0x500405(0x54c),_0x5da141={'id':_0x3d0b73,'jobType':_0x4fb3aa[_0x500405(0x284)],'jobPhase':_0x5e300c['Failed'],'message':_0x4f803a};await this[_0x500405(0x3dc)](_0x5da141,[_0x55b953]);}}async[_0x47ccb7(0x3f7)](_0xfff322,_0x470183,_0x500798,_0x5ec01e){const _0x52348e=_0x47ccb7,_0x212427=Date['now'](),_0x369bf0=await this['internalProcessJob'](_0xfff322,_0x500798[_0x52348e(0x164)]);this[_0x52348e(0x6e7)](_0x369bf0,_0x212427,Date[_0x52348e(0x31e)]());const _0x2a7881={'id':_0xfff322,'jobType':_0x470183['jobType'],'jobPhase':_0x5e300c['Result'],'result':_0x369bf0};_0x1a21a7[_0x52348e(0x766)](_0x5300ce[_0x52348e(0x3ec)],_0x52348e(0x562),_0x2a7881),await this['send'](_0x2a7881,[_0x5ec01e]),await this[_0x52348e(0xa5f)](_0xfff322,_0x500798['parameters']);}async['processJobStream'](_0x5a1e60,_0x4341e8,_0x135dd5,_0x11f8ce){const _0xed50fa=_0x47ccb7,_0xd5d1d9=Date[_0xed50fa(0x31e)]();let _0x45292f=0x0,_0x29d700={};for await(const _0x30f575 of this['internalProcessJobStream'](_0x135dd5['id'],_0x135dd5[_0xed50fa(0x164)])){const _0x3b1ad8={'id':_0x5a1e60,'jobType':_0x4341e8[_0xed50fa(0x284)],'jobPhase':_0x5e300c[_0xed50fa(0x19d)],'result':{..._0x30f575,'index':_0x45292f}};_0x1a21a7[_0xed50fa(0x766)](_0x5300ce[_0xed50fa(0x3ec)],_0xed50fa(0x45e),_0x3b1ad8),this[_0xed50fa(0x3dc)](_0x3b1ad8,[_0x11f8ce]),_0x29d700=this[_0xed50fa(0x253)](_0x29d700,_0x30f575),_0x45292f++;}this[_0xed50fa(0x6e7)](_0x29d700,_0xd5d1d9,Date['now']());const _0xc248b7={'id':_0x5a1e60,'jobType':_0x4341e8['jobType'],'jobPhase':_0x5e300c['Result'],'result':{..._0x29d700,'index':_0x45292f}};_0x1a21a7[_0xed50fa(0x766)](_0x5300ce[_0xed50fa(0x3ec)],_0xed50fa(0x562),_0xc248b7),await this['send'](_0xc248b7,[_0x11f8ce]),await this['stopTracing'](_0x5a1e60,_0x135dd5['parameters']);}[_0x47ccb7(0x706)](_0x1ff873){const _0x16e681=_0x47ccb7;return _0x1ff873['jobPhase']===_0x5e300c[_0x16e681(0x3a7)];}[_0x47ccb7(0x567)](_0x3da836){const _0x440c47=_0x47ccb7;return _0x3da836[_0x440c47(0x993)]===_0x5e300c[_0x440c47(0x667)];}}const _0x2e4613=new Map([[_0x47ccb7(0x9f9),{'id':'gpt-4o','inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':'gpt-4o-mini'}],[_0x47ccb7(0x43a),{'id':_0x47ccb7(0x43a),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x47ccb7(0x43a)}],[_0x47ccb7(0x319),{'id':'gpt-4.1','inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':_0x47ccb7(0x2f9)}],[_0x47ccb7(0x37a),{'id':_0x47ccb7(0x37a),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':'gpt-4.1-mini'}],[_0x47ccb7(0x2f9),{'id':_0x47ccb7(0x2f9),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x47ccb7(0x2f9)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':_0x47ccb7(0x2f9)}],['o3',{'id':'o3','inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':'gpt-4.1-nano'}],[_0x47ccb7(0x95d),{'id':'o3-mini','inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x47ccb7(0x2f9)}],[_0x47ccb7(0x623),{'id':_0x47ccb7(0x623),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x47ccb7(0x2f9)}],[_0x47ccb7(0x82c),{'id':_0x47ccb7(0x82c),'inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':'gpt-4.1-nano'}],[_0x47ccb7(0x565),{'id':_0x47ccb7(0x565),'inputTokenPrice':7.35,'outputTokenPrice':12.25,'fallbackModel':_0x47ccb7(0x2f9)}],[_0x47ccb7(0x714),{'id':'gpt-4o-mini-transcribe','inputTokenPrice':3.68,'outputTokenPrice':6.13,'fallbackModel':_0x47ccb7(0x2f9)}],['claude-opus-4-0',{'id':_0x47ccb7(0x5d4),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x47ccb7(0x73e)}],[_0x47ccb7(0x6eb),{'id':'claude-sonnet-4-0','inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x47ccb7(0x73e)}],['claude-3-7-sonnet-latest',{'id':_0x47ccb7(0x559),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x47ccb7(0x73e)}],['claude-3-5-haiku-latest',{'id':_0x47ccb7(0x202),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x47ccb7(0x202)}],[_0x47ccb7(0xa72),{'id':_0x47ccb7(0xa72),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x47ccb7(0x73e)}],[_0x47ccb7(0x73e),{'id':_0x47ccb7(0x73e),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0x47ccb7(0x73e)}],['claude-3-opus-latest',{'id':_0x47ccb7(0x9fb),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x47ccb7(0x73e)}],[_0x47ccb7(0x94e),{'id':_0x47ccb7(0x94e),'inputTokenPrice':1.53,'outputTokenPrice':12.25,'fallbackModel':_0x47ccb7(0x640)}],[_0x47ccb7(0x640),{'id':_0x47ccb7(0x640),'inputTokenPrice':0.37,'outputTokenPrice':3.06,'fallbackModel':_0x47ccb7(0x640)}],[_0x47ccb7(0x3f1),{'id':'google/gemini-2.0-flash-001','inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x47ccb7(0x3f1)}],[_0x47ccb7(0x5f3),{'id':_0x47ccb7(0x5f3),'inputTokenPrice':0.09,'outputTokenPrice':0.37,'fallbackModel':'google/gemini-2.0-flash-lite-001'}],[_0x47ccb7(0x747),{'id':_0x47ccb7(0x747),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x47ccb7(0x747)}],[_0x47ccb7(0x73d),{'id':_0x47ccb7(0x73d),'inputTokenPrice':0.1,'outputTokenPrice':0.37,'fallbackModel':_0x47ccb7(0x73d)}],[_0x47ccb7(0x271),{'id':_0x47ccb7(0x271),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x47ccb7(0x33f)}],[_0x47ccb7(0x33f),{'id':_0x47ccb7(0x33f),'inputTokenPrice':0.37,'outputTokenPrice':0.61,'fallbackModel':_0x47ccb7(0x33f)}],[_0x47ccb7(0x8bb),{'id':'gen4_turbo','inputTokenPrice':0x0,'outputTokenPrice':0x4c9,'fallbackModel':'gen4_turbo'}],[_0x47ccb7(0xa8),{'id':_0x47ccb7(0xa8),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':'sonar'}],[_0x47ccb7(0x792),{'id':_0x47ccb7(0x792),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0x47ccb7(0xa8)}],[_0x47ccb7(0x10b),{'id':_0x47ccb7(0x10b),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x47ccb7(0xa8)}],[_0x47ccb7(0xb1),{'id':'sonar-reasoning-pro','inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':'sonar'}],['sonar-deep-research',{'id':_0x47ccb7(0x295),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x47ccb7(0xa8)}]]),_0x13e66e=new Map([[_0x47ccb7(0x1c7),{'id':_0x47ccb7(0x1c7),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x3a9)],'taskType':_0x46b128['GenerativeAITaskType'][_0x47ccb7(0x24e)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128['GenerativeAIModelOutputType'][_0x47ccb7(0x15d)],'sourceUrl':_0x47ccb7(0x33b)}],[_0x47ccb7(0x65c),{'id':'text-embedding-3-small','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128['GenerativeAITaskType']['Embeddings'],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x15d)],'sourceUrl':''}],[_0x47ccb7(0x928),{'id':'text-embedding-3-large','engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x24e)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x15d)],'sourceUrl':''}],['llama-3.1-8b',{'id':'llama-3.1-8b','engineType':_0x46b128['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x46b128['GenerativeAITaskType']['TextGeneration'],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'sourceUrl':_0x47ccb7(0x184)}],['llama-3.2-3b',{'id':_0x47ccb7(0xa40),'engineType':_0x46b128[_0x47ccb7(0x571)]['Llamacpp'],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'sourceUrl':_0x47ccb7(0x8e9)}],[_0x47ccb7(0x652),{'id':'phi-4-14b','engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0x3a9)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128['GenerativeAIModelInputType'][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'sourceUrl':_0x47ccb7(0x2fa)}],[_0x47ccb7(0x9f9),{'id':'gpt-4o','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x876),'sourceUrl':''}],[_0x47ccb7(0x43a),{'id':_0x47ccb7(0x43a),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128['GenerativeAITaskType'][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x876),'sourceUrl':''}],['gpt-4.1',{'id':_0x47ccb7(0x319),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':_0x47ccb7(0x95),'sourceUrl':''}],[_0x47ccb7(0x37a),{'id':_0x47ccb7(0x37a),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':_0x47ccb7(0x95),'sourceUrl':''}],[_0x47ccb7(0x2f9),{'id':_0x47ccb7(0x2f9),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x95),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128['GenerativeAIModelInputType'][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],['o3',{'id':'o3','engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x95),'sourceUrl':''}],['o3-mini',{'id':_0x47ccb7(0x95d),'engineType':_0x46b128[_0x47ccb7(0x571)]['OpenAI'],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['TextGeneration'],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x876),'sourceUrl':''}],['o4-mini',{'id':_0x47ccb7(0x623),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x95),'sourceUrl':''}],[_0x47ccb7(0x7d8),{'id':'gpt-4o-realtime-preview','engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0xfd)],'inputType':_0x46b128['GenerativeAIModelInputType']['Audio'],'outputType':_0x46b128['GenerativeAIModelOutputType'][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':_0x47ccb7(0x388),'sourceUrl':''}],[_0x47ccb7(0x23a),{'id':_0x47ccb7(0x23a),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0xfd)],'inputType':_0x46b128['GenerativeAIModelInputType'][_0x47ccb7(0x2b6)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':_0x47ccb7(0x388),'sourceUrl':''}],[_0x47ccb7(0x565),{'id':_0x47ccb7(0x565),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['SpeechToText'],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x2b6)],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x714),{'id':_0x47ccb7(0x714),'engineType':_0x46b128[_0x47ccb7(0x571)]['OpenAI'],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x490)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x2b6)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x277),{'id':'whisper-1','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x490)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x2b6)],'outputType':_0x46b128['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x838),{'id':_0x47ccb7(0x838),'engineType':_0x46b128[_0x47ccb7(0x571)]['OpenAI'],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['TextToSpeech'],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128['GenerativeAIModelOutputType'][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':'','sourceUrl':''}],['tts-1',{'id':_0x47ccb7(0x1d7),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128['GenerativeAITaskType'][_0x47ccb7(0x6e0)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x207),{'id':_0x47ccb7(0x207),'engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['TextToSpeech'],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x82c),{'id':_0x47ccb7(0x82c),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0xa4e)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x86a)],'inputType':_0x46b128['GenerativeAIModelInputType']['Image'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x7f3)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x357),{'id':'eleven_multilingual_v2','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x8bf)],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['TextToSpeech'],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x892),{'id':_0x47ccb7(0x892),'engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0x8bf)],'taskType':_0x46b128['GenerativeAITaskType'][_0x47ccb7(0x6e0)],'inputType':_0x46b128['GenerativeAIModelInputType'][_0x47ccb7(0x1e3)],'outputType':_0x46b128['GenerativeAIModelOutputType'][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':'','sourceUrl':''}],['eleven_flash_v2_5',{'id':_0x47ccb7(0x648),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x8bf)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x6e0)],'inputType':_0x46b128['GenerativeAIModelInputType'][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x2b6)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x8bb),{'id':_0x47ccb7(0x8bb),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x8ca)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x949)],'inputType':_0x46b128['GenerativeAIModelInputType'][_0x47ccb7(0x7f3)],'outputType':_0x46b128['GenerativeAIModelOutputType'][_0x47ccb7(0x14d)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x47ccb7(0x5d4),{'id':_0x47ccb7(0x5d4),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x68c)],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['TextGeneration'],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x61c),'sourceUrl':''}],[_0x47ccb7(0x6eb),{'id':_0x47ccb7(0x6eb),'engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0x68c)],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['TextGeneration'],'inputType':_0x46b128['GenerativeAIModelInputType'][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x61c),'sourceUrl':''}],[_0x47ccb7(0x559),{'id':_0x47ccb7(0x559),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x68c)],'taskType':_0x46b128['GenerativeAITaskType'][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':_0x47ccb7(0xa41),'sourceUrl':''}],[_0x47ccb7(0x202),{'id':_0x47ccb7(0x202),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x68c)],'taskType':_0x46b128[_0x47ccb7(0x7bc)]['TextGeneration'],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128['GenerativeAIModelOutputType'][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':'April\x202024','sourceUrl':''}],['claude-3-5-sonnet-latest',{'id':'claude-3-5-sonnet-latest','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x68c)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':_0x47ccb7(0x537),'sourceUrl':''}],[_0x47ccb7(0x73e),{'id':_0x47ccb7(0x73e),'engineType':_0x46b128['GenerativeAIEngineType'][_0x47ccb7(0x68c)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x635),'sourceUrl':''}],[_0x47ccb7(0x9fb),{'id':_0x47ccb7(0x9fb),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x68c)],'taskType':_0x46b128['GenerativeAITaskType'][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':'August\x202023','sourceUrl':''}],['google/gemini-2.5-pro',{'id':_0x47ccb7(0x94e),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x9dd),'sourceUrl':''}],['google/gemini-2.5-flash',{'id':'google/gemini-2.5-flash','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128['GenerativeAIModelInputType']['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x9dd),'sourceUrl':''}],['google/gemini-2.0-flash-001',{'id':'google/gemini-2.0-flash-001','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128['GenerativeAITaskType']['TextGeneration'],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x60c),'sourceUrl':''}],['google/gemini-2.0-flash-lite-001',{'id':'google/gemini-2.0-flash-lite-001','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x60c),'sourceUrl':''}],[_0x47ccb7(0x747),{'id':'meta-llama/llama-4-maverick','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':'August\x202024','sourceUrl':''}],[_0x47ccb7(0x73d),{'id':'meta-llama/llama-4-scout','engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0x10c),'sourceUrl':''}],[_0x47ccb7(0x271),{'id':_0x47ccb7(0x271),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128[_0x47ccb7(0x7bc)][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)][_0x47ccb7(0x1e3)],'outputType':_0x46b128[_0x47ccb7(0x38a)]['Text'],'knowledgeCutoffDate':_0x47ccb7(0xa41),'sourceUrl':''}],[_0x47ccb7(0x33f),{'id':_0x47ccb7(0x33f),'engineType':_0x46b128[_0x47ccb7(0x571)][_0x47ccb7(0x5c6)],'taskType':_0x46b128['GenerativeAITaskType'][_0x47ccb7(0x5a2)],'inputType':_0x46b128[_0x47ccb7(0x61d)]['Text'],'outputType':_0x46b128['GenerativeAIModelOutputType'][_0x47ccb7(0x1e3)],'knowledgeCutoffDate':_0x47ccb7(0xa41),'sourceUrl':''}]]),_0x55036f=require('rxjs/operators');class _0x3f20e5{[_0x47ccb7(0x983)];constructor(){const _0x3c26e4=_0x47ccb7;this['subject']=new _0xae7fa[(_0x3c26e4(0x956))]();}[_0x47ccb7(0x6f9)](_0x146e53){this['subject']['next'](_0x146e53);}async['once'](){const _0x3c913f=_0x47ccb7;return(0x0,_0xae7fa['firstValueFrom'])(this[_0x3c913f(0x983)][_0x3c913f(0x203)]((0x0,_0x55036f[_0x3c913f(0x424)])(0x1)));}}function _0x49a56e(_0x323686){const _0x1beaf1=_0x47ccb7;try{return JSON[_0x1beaf1(0xa26)](_0x323686);}catch(_0x5d1d73){return _0x323686 instanceof Error?_0x323686[_0x1beaf1(0x597)]():JSON['stringify'](_0x1beaf1(0x8e5));}}class _0x1521c9{static [_0x47ccb7(0x9ab)];[_0x47ccb7(0x10e)]=_0x557626[_0x47ccb7(0x7bd)];['commitLevel']=_0x557626['Info'];[_0x47ccb7(0x7d0)]=_0x188c83[_0x47ccb7(0x845)];[_0x47ccb7(0x71c)]={};static ['getInstance']=()=>(_0x1521c9[_0x47ccb7(0x9ab)]||(_0x1521c9['instance']=new _0x1521c9()),_0x1521c9[_0x47ccb7(0x9ab)]);async[_0x47ccb7(0x81)](_0x26000d,_0x1300f3,_0xa561e0,_0x4d1702){const _0x323ad5=_0x47ccb7;try{if(this[_0x323ad5(0x71c)][_0x1300f3])return!0x0;const _0x3ef6bc={'vendorId':_0x26000d,'workflowId':_0xa561e0,'sequence':0x0};if(this[_0x323ad5(0x71c)][_0x1300f3]=_0x3ef6bc,!_0x4d1702||!_0xa561e0)return!0x0;const _0x29db81=(0x0,_0x19c8f0['doc'])(_0x3af573[_0x323ad5(0x586)](),_0x323ad5(0x63d)+_0x26000d+_0x323ad5(0x83d)+_0xa561e0+'/jobs',_0x1300f3);return(await(0x0,_0x19c8f0[_0x323ad5(0xa82)])(_0x29db81))[_0x323ad5(0xf1)]()||await(0x0,_0x19c8f0['setDoc'])(_0x29db81,{'threadId':_0x4d1702,'startTime':(0x0,_0x19c8f0[_0x323ad5(0x551)])()}),!0x0;}catch(_0xbfe5ea){return console[_0x323ad5(0xa14)](_0x323ad5(0xa5c),_0xbfe5ea),!0x1;}}async['logUsage'](_0x15ced4,_0x2fb6f2,_0x3bf3b0,_0x1bdce3){const _0x33609a=_0x47ccb7;try{if(!this[_0x33609a(0x71c)][_0x15ced4])throw new Error(_0x33609a(0x4b5));const _0x1c2ca2=new Date(),_0x45b24a=_0x1c2ca2[_0x33609a(0x4bb)]()+'-'+_0x1c2ca2['getMonth']()+'-'+_0x1c2ca2['getDate'](),_0x19c91d=new Date(_0x1c2ca2['getFullYear'](),_0x1c2ca2[_0x33609a(0x93c)](),_0x1c2ca2[_0x33609a(0x340)]()),_0x529bbe=this[_0x33609a(0x71c)][_0x15ced4][_0x33609a(0x111)],_0x24049d=_0x2fb6f2+'-'+_0x45b24a,_0xe459a8=_0x2e4613[_0x33609a(0x4ab)](_0x2fb6f2);if(!_0xe459a8)return void console[_0x33609a(0xa14)]('GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found',_0x2fb6f2);const _0x4542cf=_0xe459a8[_0x33609a(0x643)]*_0x3bf3b0/0xf4240*0x64,_0x4ef4f4=_0xe459a8[_0x33609a(0x3e4)]*_0x1bdce3/0xf4240*0x64,_0x9d7825=(0x0,_0x19c8f0[_0x33609a(0x31b)])(_0x3af573[_0x33609a(0x586)](),_0x33609a(0x63d)+_0x529bbe+'/usages',_0x24049d);await(0x0,_0x19c8f0[_0x33609a(0x785)])(_0x9d7825,{'modelId':_0x2fb6f2,'date':_0x19c91d,'inputTokens':(0x0,_0x19c8f0[_0x33609a(0x22a)])(_0x3bf3b0),'outputTokens':(0x0,_0x19c8f0[_0x33609a(0x22a)])(_0x1bdce3),'inputCredits':(0x0,_0x19c8f0[_0x33609a(0x22a)])(_0x4542cf),'outputCredits':(0x0,_0x19c8f0[_0x33609a(0x22a)])(_0x4ef4f4),'totalCredits':(0x0,_0x19c8f0[_0x33609a(0x22a)])(_0x4542cf+_0x4ef4f4)},{'merge':!0x0});}catch(_0x3ae25f){console[_0x33609a(0xa14)]('GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage',_0x3ae25f);}}async['trace'](_0x57d7ff){const _0x2ac350=_0x47ccb7;try{const _0x2b410e=this[_0x2ac350(0x71c)][_0x57d7ff[_0x2ac350(0x24f)]];if(!_0x2b410e)throw new Error(_0x2ac350(0x547));_0x57d7ff[_0x2ac350(0x690)]=_0x2b410e['sequence']++,_0x57d7ff[_0x2ac350(0x76a)]>=this[_0x2ac350(0x10e)]&&console['log'](JSON[_0x2ac350(0xa26)](_0x57d7ff,null,0x2)),await this['commitTrace'](_0x57d7ff);}catch(_0x535851){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x535851);}}async['closeTrace'](_0x53f14d,_0x564557){const _0x59eb0f=_0x47ccb7;if(!_0x1521c9[_0x59eb0f(0x9ab)])throw new Error(_0x59eb0f(0xfb));if(!this[_0x59eb0f(0x71c)][_0x53f14d])throw new Error(_0x59eb0f(0x4b5));if(_0x564557&&this[_0x59eb0f(0x71c)][_0x53f14d]['workflowId'])try{await(0x0,_0x19c8f0[_0x59eb0f(0x785)])((0x0,_0x19c8f0['doc'])(_0x3af573[_0x59eb0f(0x586)](),'developers/'+this['openedTraces'][_0x53f14d][_0x59eb0f(0x111)]+_0x59eb0f(0x83d)+this[_0x59eb0f(0x71c)][_0x53f14d][_0x59eb0f(0x4c1)]+_0x59eb0f(0x898),_0x53f14d),{'endTime':(0x0,_0x19c8f0[_0x59eb0f(0x551)])()},{'merge':!0x0}),this[_0x59eb0f(0x3ab)](_0x53f14d);}catch(_0x5a90de){console[_0x59eb0f(0xa14)](_0x59eb0f(0x3f3),_0x5a90de);}else this[_0x59eb0f(0x3ab)](_0x53f14d);}[_0x47ccb7(0x3ab)](_0x488589){setTimeout(()=>{const _0x20a957=a0_0x17d3;delete this[_0x20a957(0x71c)][_0x488589];},0x1b7740);}async['commitTrace'](_0x301eec){const _0x1b55c0=_0x47ccb7;if(_0x301eec[_0x1b55c0(0x76a)]<this[_0x1b55c0(0x4ca)]&&_0x301eec[_0x1b55c0(0x284)]!==this['commitType'])return;if(!this[_0x1b55c0(0x71c)][_0x301eec[_0x1b55c0(0x24f)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x178569=this[_0x1b55c0(0x71c)][_0x301eec[_0x1b55c0(0x24f)]];try{const _0x3db316=function(_0x512915){const _0x97da49=_0x1b55c0,_0x4e3880=['startTime',_0x97da49(0x826),_0x97da49(0x284),_0x97da49(0x96),_0x97da49(0x24f),_0x97da49(0x76a),_0x97da49(0xa42),_0x97da49(0x5bc),_0x97da49(0x690),'errorDetails'],_0xb674ea={..._0x512915};for(const _0x5e7114 of _0x4e3880)delete _0xb674ea[_0x5e7114];return{'timestamp':_0x512915['timestamp'],'jobType':_0x512915[_0x97da49(0x284)],'type':_0x512915['type'],'jobId':_0x512915[_0x97da49(0x24f)],'agentId':_0x512915[_0x97da49(0x683)]??'','traceLevel':_0x512915[_0x97da49(0x76a)],'blockId':_0x512915[_0x97da49(0xa42)]??'','startTime':_0x512915[_0x97da49(0x6c0)],'status':_0x512915[_0x97da49(0x5bc)],'sequence':_0x512915[_0x97da49(0x690)]??0x0,'errorDetails':_0x512915[_0x97da49(0xa58)]??'','metadata':_0x49a56e(_0xb674ea)};}(_0x301eec),_0x52798a=(0x0,_0x4c8224['v4'])();console[_0x1b55c0(0x766)](_0x1b55c0(0x957),_0x3db316[_0x1b55c0(0x96)]),await(0x0,_0x19c8f0[_0x1b55c0(0x785)])((0x0,_0x19c8f0[_0x1b55c0(0x31b)])(_0x3af573[_0x1b55c0(0x586)](),_0x1b55c0(0x63d)+_0x178569[_0x1b55c0(0x111)]+_0x1b55c0(0x83d)+_0x178569[_0x1b55c0(0x4c1)]+'/jobs/'+_0x301eec[_0x1b55c0(0x24f)]+_0x1b55c0(0x5b6),_0x52798a),_0x3db316),_0x301eec[_0x1b55c0(0x96)]===_0x273d7b[_0x1b55c0(0x90d)]&&await(0x0,_0x19c8f0['setDoc'])((0x0,_0x19c8f0['doc'])(_0x3af573[_0x1b55c0(0x586)](),_0x1b55c0(0x63d)+_0x178569[_0x1b55c0(0x111)]+_0x1b55c0(0x83d)+_0x178569[_0x1b55c0(0x4c1)]+_0x1b55c0(0x898),_0x301eec[_0x1b55c0(0x24f)]),{'rating':_0x301eec['rating']},{'merge':!0x0});}catch(_0x5a66ce){console[_0x1b55c0(0xa14)](_0x1b55c0(0x223),_0x5a66ce);}}}const _0x145894=_0x1521c9[_0x47ccb7(0x773)]();async function _0x3a2d59(_0x42b934,_0x50692d,_0x4cd29d,_0x91b8b,_0x3637e5,_0x28934b,_0x25b453,_0x3bdd9a){const _0x5035c3=function(_0x2825a2,_0x53fff8){const _0x53fd96=a0_0x17d3,_0x2f6d9d=[];for(let _0x1d1746=0x0;_0x1d1746<_0x2825a2[_0x53fd96(0x583)];_0x1d1746+=_0x53fff8[_0x53fd96(0x178)][_0x53fd96(0x8f6)]){let _0x39f950=_0x1d1746-_0x53fff8[_0x53fd96(0x178)][_0x53fd96(0x52f)];_0x39f950<0x0&&(_0x39f950=0x0);let _0x4f4584=_0x1d1746+_0x53fff8[_0x53fd96(0x178)]['size']+_0x53fff8[_0x53fd96(0x178)][_0x53fd96(0x52f)];_0x4f4584>_0x2825a2['length']&&(_0x4f4584=_0x2825a2[_0x53fd96(0x583)]),length||(length=_0x1d1746+_0x53fff8[_0x53fd96(0x178)][_0x53fd96(0x8f6)],length>_0x2825a2[_0x53fd96(0x583)]&&(length=_0x2825a2['length'])),_0x2f6d9d['push'](_0x2825a2['substring'](_0x39f950,_0x4f4584));}return _0x2f6d9d;}(_0x50692d,_0x3637e5);await _0x4c9d0b(_0x42b934,_0x5035c3,_0x4cd29d,_0x91b8b,_0x3637e5,_0x28934b,_0x25b453,_0x3bdd9a);}async function _0x25684d(_0x6da06e,_0x42cab9,_0x9ed6ba,_0x54458a,_0x1a3efd,_0x59c1ae,_0xed8dac,_0x92fd1a){const _0x5d8e76=_0x47ccb7;if(_0x1a3efd[_0x5d8e76(0xa6)]||(_0x1a3efd['accumulated']={}),_0x1a3efd['accumulated'][_0x5d8e76(0x677)]||(_0x1a3efd[_0x5d8e76(0xa6)][_0x5d8e76(0x677)]=[]),_0x42cab9 instanceof Array?_0x1a3efd[_0x5d8e76(0xa6)][_0x5d8e76(0x677)][_0x5d8e76(0x5c5)](..._0x42cab9):_0x1a3efd[_0x5d8e76(0xa6)][_0x5d8e76(0x677)]['push'](_0x42cab9),_0x1a3efd[_0x5d8e76(0x93a)]=_0x1a3efd[_0x5d8e76(0x93a)]?_0x1a3efd['timesCalled']+0x1:0x1,_0x3ae125(_0x1a3efd,_0x59c1ae)>_0x1a3efd['timesCalled'])return;if(0x0===_0x1a3efd[_0x5d8e76(0xa6)]['queries']['length'])throw new Error(_0x5d8e76(0x515));let _0x3502da=[];const _0x4dd926=Date['now']();try{let _0x1fa76e=0x0,_0x23155c=0x0;for(const _0x546e26 of _0x1a3efd['accumulated']['queries']){const _0x4014dd=await fetch(_0x501e0e[_0x5d8e76(0x7c7)]+_0x5d8e76(0x344)+_0x1a3efd['id']+_0x5d8e76(0x3ac),{'method':_0x5d8e76(0x6e2),'headers':{'Content-Type':_0x5d8e76(0xadf),'x-vendor-id':_0x9ed6ba[_0x5d8e76(0x111)]},'body':JSON[_0x5d8e76(0xa26)]({'query':_0x546e26})}),_0x5aa561=((await _0x4014dd['json']())[_0x5d8e76(0x4ac)]??[])[_0x5d8e76(0x437)](_0x4b7943=>({'pathName':_0x4b7943[_0x5d8e76(0xaaf)],'relevance':_0x4b7943[_0x5d8e76(0x99)],'content':_0x4b7943[_0x5d8e76(0x3d9)][_0x5d8e76(0x88)]}));_0x3502da=Array[_0x5d8e76(0x48b)](new Set([..._0x3502da,..._0x5aa561])),_0x1fa76e+=_0x5aa561[_0x5d8e76(0x93e)]??0x0,_0x23155c+=_0x5aa561[_0x5d8e76(0x309)]??0x0;}_0x54458a[_0x5d8e76(0x93e)]+=_0x1fa76e,_0x54458a[_0x5d8e76(0x309)]+=_0x23155c,_0x54458a[_0x5d8e76(0x7d2)]=Array[_0x5d8e76(0x48b)](new Set([..._0x54458a[_0x5d8e76(0x7d2)],..._0x3502da])),await _0x145894[_0x5d8e76(0x7e9)]({'jobType':_0x188c83[_0x5d8e76(0x137)],'type':_0x4b17e8[_0x5d8e76(0x976)],'jobId':_0x6da06e,'threadId':_0x9ed6ba[_0x5d8e76(0x80)],'traceLevel':_0x557626[_0x5d8e76(0x379)],'startTime':_0x4dd926,'timestamp':Date['now'](),'blockId':_0x1a3efd['id'],'status':_0x5d8e76(0x855),'queries':_0x1a3efd['accumulated'][_0x5d8e76(0x677)],'context':_0x3502da,'inputTokens':_0x1fa76e,'outputTokens':_0x23155c});}catch(_0xbda453){console[_0x5d8e76(0xa14)](_0xbda453),await _0x145894[_0x5d8e76(0x7e9)]({'jobType':_0x188c83[_0x5d8e76(0x137)],'type':_0x4b17e8[_0x5d8e76(0x976)],'jobId':_0x6da06e,'threadId':_0x9ed6ba['threadId'],'traceLevel':_0x557626['Info'],'startTime':_0x4dd926,'timestamp':Date['now'](),'blockId':_0x1a3efd['id'],'status':'error','queries':_0x1a3efd['accumulated'][_0x5d8e76(0x677)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x4c9d0b(_0x6da06e,'',_0x9ed6ba,_0x54458a,_0x1a3efd,_0x59c1ae,_0xed8dac,_0x92fd1a);}async function _0xb07a0e(_0x47cd27,_0x2cb2a0,_0x4bc67b,_0x6c80a,_0x548b3f,_0x392b57,_0x4b786f,_0x1998f4){const _0x5d8ce4=_0x47ccb7,_0x1bc724=await _0x4b786f[_0x5d8ce4(0xa3b)]['getSentences'](_0x2cb2a0);await _0x4c9d0b(_0x47cd27,_0x1bc724,_0x4bc67b,_0x6c80a,_0x548b3f,_0x392b57,_0x4b786f,_0x1998f4);}async function _0x419b2c(_0x3f85cd,_0x14e907,_0xcd9d0b,_0x53feac,_0xdd05f,_0x1d77d2,_0x5af6c3,_0x3bcebf){const _0x1336e6=function(_0x1f2b5f,_0x4b5783){const _0x489786=a0_0x17d3,_0x14823c=[],_0x55750c=_0x1f2b5f[_0x489786(0x59a)]('\x20');let _0x17189d='',_0x556211=0x0,_0x130852=0x0,_0x5bf8d1=0x0;for(const _0x4662df of _0x55750c){if(_0x17189d['length']+_0x4662df[_0x489786(0x583)]>_0x4b5783['attributes'][_0x489786(0x8f6)]){let _0x18b765=_0x556211,_0x1a35fe='';for(;_0x18b765>=0x0&&_0x1a35fe['length']+_0x55750c[_0x18b765][_0x489786(0x583)]<_0x4b5783[_0x489786(0x178)][_0x489786(0x52f)];)_0x1a35fe=_0x55750c[_0x18b765]+'\x20'+_0x1a35fe,_0x18b765--;let _0x4f4330=_0x130852,_0x21fc79='';for(;_0x4f4330<_0x55750c['length']&&_0x21fc79[_0x489786(0x583)]+_0x55750c[_0x4f4330][_0x489786(0x583)]<_0x4b5783[_0x489786(0x178)][_0x489786(0x52f)];)_0x21fc79+=_0x55750c[_0x4f4330]+'\x20',_0x4f4330++;_0x17189d=_0x1a35fe+_0x17189d+_0x21fc79,_0x14823c[_0x489786(0x5c5)](_0x17189d[_0x489786(0x930)]()),_0x17189d='',_0x556211=_0x130852;}_0x17189d+=_0x4662df+'\x20',_0x130852++,_0x5bf8d1+=_0x4662df['length']+0x1;}if(_0x17189d[_0x489786(0x583)]>0x0){let _0x24e18d=_0x556211,_0x2e2e21='';for(;_0x24e18d>=0x0&&_0x2e2e21['length']+_0x55750c[_0x24e18d][_0x489786(0x583)]<_0x4b5783[_0x489786(0x178)][_0x489786(0x52f)];)_0x2e2e21=_0x55750c[_0x24e18d]+'\x20'+_0x2e2e21,_0x24e18d--;_0x17189d=_0x2e2e21+_0x17189d,_0x14823c['push'](_0x17189d[_0x489786(0x930)]());}return _0x14823c;}(_0x14e907,_0xdd05f);await _0x4c9d0b(_0x3f85cd,_0x1336e6,_0xcd9d0b,_0x53feac,_0xdd05f,_0x1d77d2,_0x5af6c3,_0x3bcebf);}async function _0x4c9d0b(_0x2d4118,_0x20f7bd,_0x86ecee,_0x2c9983,_0x475b1d,_0x1c6bd8,_0x733b7f,_0x40a519){const _0x263cc3=_0x47ccb7;if(await _0x301533[_0x263cc3(0x8f)](0x1),_0x475b1d[_0x263cc3(0x9cb)]){for(const _0x4cb53e of _0x475b1d['links']){if(_0x4cb53e[_0x263cc3(0x96)]===_0x577b8e[_0x263cc3(0x1ad)])continue;const _0x29e09f=_0x1c6bd8['find'](_0x5d337d=>_0x5d337d[_0x263cc3(0x9e)]===_0x4cb53e[_0x263cc3(0x9e)]);if(_0x29e09f)switch(_0x29e09f['type']){case _0x4b182d[_0x263cc3(0x856)]:_0x4cb53e[_0x263cc3(0x96)]!==_0x577b8e['Text']&&_0x4cb53e[_0x263cc3(0x96)]!==_0x577b8e[_0x263cc3(0x7f1)]||_0x263cc3(0x3af)!=typeof _0x20f7bd||await _0x308dc8(_0x2d4118,_0x4cb53e[_0x263cc3(0x96)],_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519),_0x4cb53e[_0x263cc3(0x96)]===_0x577b8e[_0x263cc3(0x4b4)]&&_0x263cc3(0xf7)===_0x20f7bd&&await _0x308dc8(_0x2d4118,_0x4cb53e[_0x263cc3(0x96)],_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519),_0x4cb53e['type']===_0x577b8e[_0x263cc3(0x23b)]&&_0x263cc3(0x939)===_0x20f7bd&&await _0x308dc8(_0x2d4118,_0x4cb53e['type'],_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519),_0x475b1d[_0x263cc3(0x96)]===_0x4b182d[_0x263cc3(0x7ed)]&&_0x4cb53e[_0x263cc3(0x96)]===_0x577b8e['Audio']&&_0x263cc3(0x3af)==typeof _0x20f7bd&&await _0x308dc8(_0x2d4118,_0x4cb53e[_0x263cc3(0x96)],_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519);break;case _0x4b182d[_0x263cc3(0x8a)]:_0x4cb53e[_0x263cc3(0x96)]===_0x577b8e[_0x263cc3(0x1e3)]&&_0x263cc3(0x3af)==typeof _0x20f7bd&&await _0x3a2d59(_0x2d4118,_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519);break;case _0x4b182d[_0x263cc3(0x976)]:_0x4cb53e[_0x263cc3(0x96)]===_0x577b8e['Text']&&_0x263cc3(0x3af)==typeof _0x20f7bd&&await _0x25684d(_0x2d4118,_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519),_0x4cb53e[_0x263cc3(0x96)]===_0x577b8e[_0x263cc3(0x1e3)]&&_0x20f7bd instanceof Array&&await _0x25684d(_0x2d4118,_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519);break;case _0x4b182d[_0x263cc3(0x777)]:_0x4cb53e[_0x263cc3(0x96)]===_0x577b8e[_0x263cc3(0x1e3)]&&'string'==typeof _0x20f7bd&&await _0xb07a0e(_0x2d4118,_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519);break;case _0x4b182d['WordSplitter']:_0x4cb53e['type']===_0x577b8e[_0x263cc3(0x1e3)]&&_0x263cc3(0x3af)==typeof _0x20f7bd&&await _0x419b2c(_0x2d4118,_0x20f7bd,_0x86ecee,_0x2c9983,_0x29e09f,_0x1c6bd8,_0x733b7f,_0x40a519);}}_0x475b1d['type']!==_0x4b182d[_0x263cc3(0x2f7)]&&_0x475b1d[_0x263cc3(0x96)]!==_0x4b182d[_0x263cc3(0x7ed)]||!_0x40a519||_0x40a519[_0x263cc3(0x6f9)](void 0x0);}else _0x475b1d[_0x263cc3(0x96)]!==_0x4b182d['Prompt']&&_0x475b1d[_0x263cc3(0x96)]!==_0x4b182d[_0x263cc3(0x7ed)]||!_0x40a519||_0x40a519[_0x263cc3(0x6f9)](void 0x0);}function _0x3ae125(_0x1b1725,_0x125781){const _0x3f8c9e=_0x47ccb7;let _0x12ab1f=0x0;for(const _0x34a75b of _0x125781)for(const _0x384f0b of _0x34a75b[_0x3f8c9e(0x9cb)]??[])_0x384f0b[_0x3f8c9e(0x96)]!==_0x577b8e[_0x3f8c9e(0x1ad)]&&_0x384f0b[_0x3f8c9e(0x96)]!==_0x577b8e[_0x3f8c9e(0x460)]&&_0x384f0b[_0x3f8c9e(0x96)]!==_0x577b8e['File']&&_0x384f0b[_0x3f8c9e(0x96)]!==_0x577b8e[_0x3f8c9e(0x7f3)]&&_0x384f0b[_0x3f8c9e(0x96)]!==_0x577b8e[_0x3f8c9e(0x2b6)]&&_0x384f0b[_0x3f8c9e(0x9e)]===_0x1b1725[_0x3f8c9e(0x9e)]&&_0x12ab1f++;return _0x12ab1f;}function _0x483146(_0x32a546,_0x4b2bdc){const _0x28f2e7=_0x47ccb7,_0x289d46={'type':_0x32a546[_0x28f2e7(0x96)],'name':_0x32a546['name']??'','description':_0x32a546[_0x28f2e7(0x3fe)]??'','parameters':_0x32a546[_0x28f2e7(0x164)]??[],'headers':_0x32a546[_0x28f2e7(0x3f8)]??[],'queryParameters':_0x32a546[_0x28f2e7(0x3fc)]??[],'bodyParameters':_0x32a546[_0x28f2e7(0xa4d)]??[],'endpointUrl':_0x32a546['endpointUrl']??'','endpointMethod':_0x32a546[_0x28f2e7(0x725)]??'','contextInputVariable':_0x32a546['contextInputVariable']??'','contextOutputVariable':_0x32a546[_0x28f2e7(0x237)]??'','modelId':_0x32a546[_0x28f2e7(0x9a7)]??'','workflowId':_0x32a546[_0x28f2e7(0x4c1)]??'','async':_0x32a546[_0x28f2e7(0x960)]??!0x1,'instructions':_0x32a546[_0x28f2e7(0x8fa)]??'','maxTokens':_0x32a546[_0x28f2e7(0x161)]??0x0,'temperature':_0x32a546[_0x28f2e7(0x605)]??0x0,'grammar':_0x32a546[_0x28f2e7(0xa5a)]??_0x28f2e7(0xa4b),'collectionId':_0x32a546['type']===_0x4b182d['DataCollection']||_0x32a546[_0x28f2e7(0x96)]===_0x4b182d[_0x28f2e7(0x5c0)]?_0x32a546['id']:'','shouldEmit':_0x32a546[_0x28f2e7(0x9cb)]?.['some'](_0x108868=>_0x108868[_0x28f2e7(0x96)]===_0x577b8e[_0x28f2e7(0x1e3)]&&_0x4b2bdc[_0x28f2e7(0x1b5)](_0x223da5=>_0x223da5[_0x28f2e7(0x9e)]===_0x108868[_0x28f2e7(0x9e)])?.[_0x28f2e7(0x96)]===_0x4b182d['Answer'])??!0x1};if(_0x32a546[_0x28f2e7(0x96)]===_0x4b182d[_0x28f2e7(0x438)])return[{..._0x289d46,'type':_0x46b128[_0x28f2e7(0x713)][_0x28f2e7(0x2ee)],'questions':_0x32a546[_0x28f2e7(0xdf)]??[]},{..._0x289d46,'type':_0x46b128[_0x28f2e7(0x713)][_0x28f2e7(0x2b8)],'questions':_0x32a546['questions']??[]},{..._0x289d46,'type':_0x46b128[_0x28f2e7(0x713)][_0x28f2e7(0xb5)],'questions':_0x32a546[_0x28f2e7(0xdf)]??[]}];if(_0x32a546[_0x28f2e7(0x96)]===_0x4b182d[_0x28f2e7(0x856)]||_0x32a546[_0x28f2e7(0x96)]===_0x4b182d[_0x28f2e7(0x247)]||_0x32a546[_0x28f2e7(0x96)]===_0x4b182d[_0x28f2e7(0xabd)]){const _0x3f9cd4=_0x4b2bdc['filter'](_0x18b6af=>_0x18b6af[_0x28f2e7(0x9cb)]?.['some'](_0x269a4b=>_0x269a4b[_0x28f2e7(0x9e)]===_0x32a546['uid']&&_0x269a4b['type']===_0x577b8e[_0x28f2e7(0x460)]));if(_0x3f9cd4['length']>0x0)return{..._0x289d46,'tools':_0x3f9cd4[_0x28f2e7(0x98d)](_0x1f1f32=>_0x483146(_0x1f1f32,_0x4b2bdc))};}return _0x289d46;}async function _0x308dc8(_0xebb75b,_0x44959c,_0x2c8acd,_0x2f7850,_0x1e7417,_0x20bf0e,_0x881404,_0x42a755,_0x4c2694){const _0x44ccb7=_0x47ccb7,_0x12ec26=_0x42a755[_0x44ccb7(0x124)][_0x44ccb7(0x1b5)](_0x5452d8=>_0x5452d8['id']===_0x20bf0e['modelId']);if(!_0x12ec26)throw new Error(_0x44ccb7(0x84b)+_0x20bf0e['modelId']);if((_0x12ec26[_0x44ccb7(0xa57)]===_0x46b128['GenerativeAITaskType'][_0x44ccb7(0x490)]||_0x12ec26[_0x44ccb7(0xa57)]===_0x46b128[_0x44ccb7(0x7bc)]['TextToSpeech'])&&(_0x44959c===_0x577b8e[_0x44ccb7(0x2b6)]||_0x20bf0e[_0x44ccb7(0x9cb)]?.[_0x44ccb7(0xa13)](_0x4ce082=>_0x4ce082['type']===_0x577b8e[_0x44ccb7(0x2b6)]))){const _0x17ce18=_0x881404[_0x44ccb7(0x1b5)](_0x427f5d=>_0x427f5d['links']?.[_0x44ccb7(0xa13)](_0x469979=>_0x469979[_0x44ccb7(0x9e)]===_0x20bf0e[_0x44ccb7(0x9e)]&&_0x469979[_0x44ccb7(0x96)]===_0x577b8e[_0x44ccb7(0x2b6)])),_0x4ea368=_0x881404['find'](_0x4eb6dd=>_0x4eb6dd[_0x44ccb7(0x9e)]===_0x20bf0e[_0x44ccb7(0x9cb)]?.['find'](_0x5e9856=>_0x5e9856[_0x44ccb7(0x96)]===_0x577b8e[_0x44ccb7(0x2b6)])?.[_0x44ccb7(0x9e)]);if(_0x17ce18?.['type']===_0x4b182d[_0x44ccb7(0x7ed)]||_0x4ea368?.[_0x44ccb7(0x96)]===_0x4b182d[_0x44ccb7(0xa45)])return console['log'](new Date()+_0x44ccb7(0x185)),void await _0x4c9d0b(_0xebb75b,_0x2c8acd,_0x2f7850,_0x1e7417,_0x20bf0e,_0x881404,_0x42a755,_0x4c2694);if(_0x12ec26[_0x44ccb7(0xa57)]===_0x46b128[_0x44ccb7(0x7bc)][_0x44ccb7(0x6e0)]){console['log'](new Date()+_0x44ccb7(0x367));const _0x2194ae=_0x42a755[_0x44ccb7(0xa62)]['find'](_0x1f7445=>_0x1f7445[_0x44ccb7(0x7e1)]()===_0x12ec26['engineType']);if(!_0x2194ae)throw new Error(_0x44ccb7(0x84e)+_0x12ec26['id']);const _0x4fd246=_0x20bf0e[_0x44ccb7(0x8fa)]['match'](/voice=(\w+)/)?.[0x1],_0x288ed3=_0x20bf0e[_0x44ccb7(0x8fa)][_0x44ccb7(0x5f9)]('voice='+_0x4fd246,''),_0x1a3d39=(await _0x2194ae[_0x44ccb7(0x693)](_0x12ec26['id'],_0x2c8acd,_0x4fd246??_0x44ccb7(0x651),'mp3',_0x288ed3))[_0x44ccb7(0x505)]();let _0x4dbce1=new Uint8Array(0x0);for(;;){const {value:_0x21cfd9,done:_0x3fa7b4}=await _0x1a3d39['read']();if(_0x3fa7b4)break;const _0x225ec9=_0x21cfd9 instanceof ArrayBuffer?new Uint8Array(_0x21cfd9):_0x21cfd9,_0x5b6089=new Uint8Array(_0x4dbce1[_0x44ccb7(0x583)]+_0x225ec9['length']);_0x5b6089[_0x44ccb7(0x9de)](_0x4dbce1),_0x5b6089[_0x44ccb7(0x9de)](_0x225ec9,_0x4dbce1[_0x44ccb7(0x583)]),_0x4dbce1=_0x5b6089;}const _0x35b1d6=new File([_0x4dbce1],(0x0,_0x4c8224['v4'])()+_0x44ccb7(0x8ce),{'type':_0x44ccb7(0x7c9)}),_0x4e9991=_0x881404[_0x44ccb7(0x1b5)](_0x11db3a=>_0x11db3a[_0x44ccb7(0x96)]===_0x4b182d[_0x44ccb7(0xbb)]&&_0x20bf0e[_0x44ccb7(0x9cb)]?.[_0x44ccb7(0xa13)](_0x4cacef=>_0x4cacef[_0x44ccb7(0x9e)]===_0x11db3a[_0x44ccb7(0x9e)]));return void(_0x4e9991&&(_0x4e9991[_0x44ccb7(0xa6)]||(_0x4e9991[_0x44ccb7(0xa6)]={}),_0x4e9991['accumulated']['file']=_0x35b1d6));}}if(_0x20bf0e[_0x44ccb7(0xa6)]||(_0x20bf0e[_0x44ccb7(0xa6)]={}),_0x44959c===_0x577b8e[_0x44ccb7(0x1e3)]&&_0x44ccb7(0x3af)==typeof _0x2c8acd&&(_0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0x806)]||(_0x20bf0e[_0x44ccb7(0xa6)]['prompt']=[]),_0x20bf0e[_0x44ccb7(0xa6)]['prompt'][_0x44ccb7(0x5c5)](_0x2c8acd)),_0x44959c===_0x577b8e['File'])return _0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0x6cc)]||(_0x20bf0e[_0x44ccb7(0xa6)]['files']=[]),void _0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0x6cc)][_0x44ccb7(0x5c5)](_0x2c8acd);if(_0x44959c===_0x577b8e[_0x44ccb7(0x7f3)])return _0x20bf0e[_0x44ccb7(0xa6)]['images']||(_0x20bf0e[_0x44ccb7(0xa6)]['images']=[]),void _0x20bf0e[_0x44ccb7(0xa6)]['images'][_0x44ccb7(0x5c5)](_0x2c8acd);if(_0x44959c===_0x577b8e['Audio'])return _0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0xace)]||(_0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0xace)]=[]),void _0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0xace)][_0x44ccb7(0x5c5)](_0x2c8acd);if(_0x20bf0e[_0x44ccb7(0x93a)]=_0x20bf0e['timesCalled']?_0x20bf0e[_0x44ccb7(0x93a)]+0x1:0x1,_0x3ae125(_0x20bf0e,_0x881404)>_0x20bf0e[_0x44ccb7(0x93a)])return;if(_0x1a21a7[_0x44ccb7(0x180)](_0x44ccb7(0x498)+_0x20bf0e[_0x44ccb7(0xd7)],_0x20bf0e[_0x44ccb7(0x93a)]),!_0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0x806)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x20bf0e[_0x44ccb7(0xd7)]);const _0x4cc0c6=Date['now'](),_0xfe563=(0x0,_0x4c8224['v4'])();let _0x440b5f='',_0x201c7d=0x0,_0x5a0aba=0x0;const _0x1e1c48=[],_0x1a3f3e=function(_0xd36f35,_0x4c0c5d,_0x1ae16a,_0x5dbb65){const _0x4e70c6=_0x44ccb7;if(_0x1ae16a[_0x4e70c6(0x11f)]){const _0x1ec901=_0x1ae16a[_0x4e70c6(0x11f)][_0x4e70c6(0x59a)](',');for(const _0x20d03d of _0x1ec901)'files'!==_0x20d03d&&_0x4e70c6(0x351)!==_0x20d03d&&_0x4c0c5d['internalContext']?.[_0x20d03d]&&(_0xd36f35='<'+_0x20d03d+'>'+_0x4c0c5d[_0x4e70c6(0x8bd)][_0x20d03d]+'</'+_0x20d03d+_0x4e70c6(0x30a)+_0xd36f35);}const _0x3241c0=_0x5dbb65['filter'](_0x4750c5=>_0x4750c5[_0x4e70c6(0x9cb)]?.['some'](_0x2d4f22=>_0x2d4f22[_0x4e70c6(0x9e)]===_0x1ae16a[_0x4e70c6(0x9e)]&&_0x2d4f22[_0x4e70c6(0x96)]===_0x577b8e['Tool']));for(const _0x41c2bb of _0x3241c0)if(_0x41c2bb[_0x4e70c6(0x96)]===_0x4b182d['FormSkill']){const _0x2d1b42=_0x41c2bb[_0x4e70c6(0xd7)][_0x4e70c6(0x5f9)](/[^a-zA-Z]/g,''),_0x33ba65=_0x4c0c5d[_0x4e70c6(0x8bd)]?.['question-'+_0x2d1b42];if(_0x33ba65){const _0x374693=_0x41c2bb['questions'][_0x33ba65];_0x374693&&(_0xd36f35='<current-question>'+JSON[_0x4e70c6(0xa26)](_0x374693)+_0x4e70c6(0x1c9)+_0xd36f35);}}return _0xd36f35;}(_0x20bf0e['accumulated'][_0x44ccb7(0x806)][_0x44ccb7(0x4a2)]('\x0a\x0a'),_0x1e7417,_0x20bf0e,_0x881404);let _0x184c9d=_0x1a3f3e;if(_0x20bf0e[_0x44ccb7(0xa6)]['files']){_0x44ccb7(0x3af)==typeof _0x184c9d&&(_0x184c9d=[],_0x184c9d[_0x44ccb7(0x5c5)]({'type':_0x44ccb7(0x88),'text':_0x1a3f3e}));for(const _0x2a6f67 of _0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0x6cc)])_0x184c9d[_0x44ccb7(0x5c5)]({'type':_0x44ccb7(0x899),'file':{'filename':(0x0,_0x4c8224['v4'])()+'.pdf','file_data':_0x44ccb7(0x74b)+_0x2a6f67}});}if(_0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0x351)]){_0x44ccb7(0x3af)==typeof _0x184c9d&&(_0x184c9d=[],_0x184c9d['push']({'type':'text','text':_0x1a3f3e}));for(const _0x5f08b4 of _0x20bf0e[_0x44ccb7(0xa6)]['images'])_0x184c9d[_0x44ccb7(0x5c5)]({'type':_0x44ccb7(0x4e2),'image_url':{'url':_0x44ccb7(0x74b)+_0x5f08b4}});}if(_0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0xace)]){_0x44ccb7(0x3af)==typeof _0x184c9d&&(_0x184c9d=[],_0x184c9d[_0x44ccb7(0x5c5)]({'type':'text','text':_0x1a3f3e}));for(const _0x3666a9 of _0x20bf0e[_0x44ccb7(0xa6)][_0x44ccb7(0xace)]){let _0xecc923;_0x3666a9['startsWith'](_0x44ccb7(0x7c9))?_0xecc923=_0x44ccb7(0x8c6):_0x3666a9[_0x44ccb7(0xa7b)](_0x44ccb7(0x842))&&(_0xecc923=_0x44ccb7(0x8d)),_0xecc923&&_0x184c9d[_0x44ccb7(0x5c5)]({'type':_0x44ccb7(0x886),'input_audio':{'data':_0x44ccb7(0x74b)+_0x3666a9,'format':_0xecc923}});}}_0x1e1c48[_0x44ccb7(0x5c5)]({'role':_0x44ccb7(0x6f6),'content':_0x5e93da(_0x2f7850[_0x44ccb7(0x8fa)]??'',_0x20bf0e,_0x12ec26)}),_0x1e1c48[_0x44ccb7(0x5c5)](..._0x2f7850[_0x44ccb7(0x3bc)]?.[_0x44ccb7(0x437)](_0x7db6bc=>({'role':_0x7db6bc[_0x44ccb7(0x508)]===_0x46b128[_0x44ccb7(0xabe)][_0x44ccb7(0x269)]?'user':'assistant','content':_0x7db6bc['message']}))??[]),_0x1e1c48[_0x44ccb7(0x5c5)]({'role':_0x44ccb7(0x14a),'content':_0x184c9d});const _0x2a1584=_0x881404[_0x44ccb7(0xac4)](_0x54aa41=>_0x54aa41[_0x44ccb7(0x9cb)]?.['some'](_0x3f128b=>_0x3f128b[_0x44ccb7(0x9e)]===_0x20bf0e[_0x44ccb7(0x9e)]&&_0x3f128b['type']===_0x577b8e['Tool']))[_0x44ccb7(0x98d)](_0x5c08c2=>_0x483146(_0x5c08c2,_0x881404));let _0x28de9e;if(_0x4c2694){const _0x3c01ea=_0x20bf0e[_0x44ccb7(0x9cb)]?.[_0x44ccb7(0xa13)](_0x16cff5=>_0x16cff5['type']===_0x577b8e[_0x44ccb7(0x1e3)]&&(_0x881404[_0x44ccb7(0x1b5)](_0x2e3ccb=>_0x2e3ccb[_0x44ccb7(0x9e)]===_0x16cff5[_0x44ccb7(0x9e)])?.[_0x44ccb7(0x96)]===_0x4b182d[_0x44ccb7(0xbb)]||_0x881404[_0x44ccb7(0x1b5)](_0x9b71c7=>_0x9b71c7[_0x44ccb7(0x9e)]===_0x16cff5[_0x44ccb7(0x9e)])?.[_0x44ccb7(0x9cb)]?.[_0x44ccb7(0xa13)](_0x4525f4=>_0x4525f4['type']===_0x577b8e['Audio']&&_0x881404[_0x44ccb7(0x1b5)](_0x4409c1=>_0x4409c1['uid']===_0x4525f4[_0x44ccb7(0x9e)])?.[_0x44ccb7(0x96)]===_0x4b182d['OutputStream'])))??!0x1,_0x193604=await fetch(_0x501e0e[_0x44ccb7(0x7c7)]+'/chat/completions',{'method':'POST','headers':{'Accept':'text/event-stream','Content-Type':_0x44ccb7(0xadf),'x-vendor-id':_0x2f7850[_0x44ccb7(0x111)]},'body':JSON['stringify']({'model':_0x20bf0e[_0x44ccb7(0x9a7)],'messages':_0x1e1c48,'max_completion_tokens':_0x20bf0e[_0x44ccb7(0x161)],'temperature':_0x20bf0e[_0x44ccb7(0x605)],'metadata':{'threadId':_0x2f7850[_0x44ccb7(0x80)],'agentId':_0xfe563,'jobId':_0xebb75b,'workflowId':_0x2f7850[_0x44ccb7(0x4c1)],'context':_0x1e7417[_0x44ccb7(0x8bd)]??{}},'structured_output':_0x20bf0e['grammar'],'tools':_0x2a1584,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x193604['ok']||!_0x193604[_0x44ccb7(0x7c3)])return console[_0x44ccb7(0xa14)](_0x44ccb7(0x221)),void _0x4c2694[_0x44ccb7(0x6f9)](void 0x0);const _0x271ea5=_0x193604[_0x44ccb7(0x7c3)][_0x44ccb7(0x505)](),_0x382a86=new TextDecoder();let _0x45d566='';for(;;){const {value:_0x229464,done:_0x2d232d}=await _0x271ea5[_0x44ccb7(0x895)]();if(_0x2d232d)break;const _0x269fad=_0x382a86[_0x44ccb7(0x24c)](_0x229464,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x269fad)break;_0x45d566+=_0x269fad;const _0x34a7d4=_0x45d566[_0x44ccb7(0x59a)]('\x0a\x0a');if(_0x45d566=_0x34a7d4['pop'](),0x0===_0x34a7d4[_0x44ccb7(0x583)])continue;const _0x15d5ae=_0x58ece1(_0x34a7d4[_0x44ccb7(0x4a2)]('\x0a\x0a'));for(const _0x1bbc21 of _0x15d5ae)_0x1bbc21[_0x44ccb7(0x6ff)]&&_0x1bbc21['choices'][0x0]&&(_0x3c01ea&&(_0x4c2694[_0x44ccb7(0x6f9)]({'output':_0x1bbc21[_0x44ccb7(0x6ff)][0x0][_0x44ccb7(0x13a)][_0x44ccb7(0x3d9)],'type':_0x44ccb7(0x806)}),await _0x301533[_0x44ccb7(0x8f)](0x1)),_0x440b5f+=_0x1bbc21[_0x44ccb7(0x6ff)][0x0]['delta'][_0x44ccb7(0x3d9)]??'',_0x201c7d=_0x1bbc21[_0x44ccb7(0x287)]?.[_0x44ccb7(0x540)]??0x0,_0x5a0aba=_0x1bbc21[_0x44ccb7(0x287)]?.['completion_tokens']??0x0,_0x1e7417[_0x44ccb7(0x8bd)]={..._0x1e7417[_0x44ccb7(0x8bd)],..._0x1bbc21[_0x44ccb7(0x7d2)]},_0x1bbc21['file']&&(_0x28de9e=_0x1bbc21[_0x44ccb7(0x899)]));}_0x1e7417[_0x44ccb7(0x309)]=(_0x1e7417[_0x44ccb7(0x309)]??0x0)+_0x5a0aba,_0x1e7417[_0x44ccb7(0x93e)]=(_0x1e7417['inputTokens']??0x0)+_0x201c7d,_0x4c2694[_0x44ccb7(0x6f9)]({'output':_0x3c01ea?'\x0a\x0a':'','type':_0x44ccb7(0x806)}),await _0x301533[_0x44ccb7(0x8f)](0x1);}else{const _0x31bd02=await fetch(_0x501e0e[_0x44ccb7(0x7c7)]+_0x44ccb7(0x5a7),{'method':_0x44ccb7(0x6e2),'headers':{'Content-Type':_0x44ccb7(0xadf),'x-vendor-id':_0x2f7850[_0x44ccb7(0x111)]},'body':JSON[_0x44ccb7(0xa26)]({'model':_0x20bf0e[_0x44ccb7(0x9a7)],'messages':_0x1e1c48,'max_completion_tokens':_0x20bf0e[_0x44ccb7(0x161)],'temperature':_0x20bf0e[_0x44ccb7(0x605)],'metadata':{'threadId':_0x2f7850[_0x44ccb7(0x80)],'agentId':_0xfe563,'jobId':_0xebb75b,'workflowId':_0x2f7850[_0x44ccb7(0x4c1)],'context':_0x1e7417['internalContext']??{}},'structured_output':_0x20bf0e[_0x44ccb7(0xa5a)],'tools':_0x2a1584})}),_0x5cd943=await _0x31bd02['json']();_0x440b5f=_0x5cd943['choices'][0x0][_0x44ccb7(0xa3f)][_0x44ccb7(0x3d9)],_0x201c7d=_0x5cd943[_0x44ccb7(0x287)]['prompt_tokens'],_0x5a0aba=_0x5cd943[_0x44ccb7(0x287)][_0x44ccb7(0x6d4)],_0x1e7417[_0x44ccb7(0x995)]=_0x440b5f,_0x1e7417[_0x44ccb7(0x8bd)]={..._0x1e7417[_0x44ccb7(0x8bd)],..._0x5cd943['context']},_0x1e7417[_0x44ccb7(0x309)]=(_0x1e7417['outputTokens']??0x0)+_0x5a0aba,_0x1e7417['inputTokens']=(_0x1e7417[_0x44ccb7(0x93e)]??0x0)+_0x201c7d,_0x5cd943[_0x44ccb7(0x899)]&&(_0x28de9e=_0x5cd943[_0x44ccb7(0x899)]);}if(_0x20bf0e[_0x44ccb7(0x237)]&&(_0x1e7417['internalContext']||(_0x1e7417[_0x44ccb7(0x8bd)]={}),_0x1e7417['internalContext'][_0x20bf0e[_0x44ccb7(0x237)]]=_0x440b5f),await _0x145894[_0x44ccb7(0x7e9)]({'jobType':_0x188c83['Workflow'],'type':_0x4b17e8['IntermediateOutput'],'jobId':_0xebb75b,'agentId':_0xfe563,'threadId':_0x2f7850[_0x44ccb7(0x80)],'traceLevel':_0x557626['Info'],'startTime':_0x4cc0c6,'timestamp':Date['now'](),'blockId':_0x20bf0e['id'],'status':_0x44ccb7(0x855),'output':_0x440b5f,'prompt':_0x1a3f3e,'agentName':_0x20bf0e['name'],'history':[],'instructions':''+_0x20bf0e['instructions']+(_0x2f7850['instructions']??''),'ragContext':[],'inputTokens':_0x201c7d??0x0,'outputTokens':_0x5a0aba??0x0}),_0x28de9e){const _0x499acd=_0x28de9e[_0x44ccb7(0x59a)](','),_0x596df9=_0x499acd[0x0]['replace'](_0x44ccb7(0x74b),'')['replace'](_0x44ccb7(0x742),''),_0x1b1e5e=_0x596df9[_0x44ccb7(0x59a)]('/')[0x1],_0x5b07c7=_0x499acd[0x1],_0x495e19=Uint8Array[_0x44ccb7(0x48b)](Buffer[_0x44ccb7(0x48b)](_0x5b07c7,_0x44ccb7(0xa3c))),_0x1fb56a=new Blob([_0x495e19],{'type':_0x596df9}),_0x344846=new File([_0x1fb56a],(0x0,_0x4c8224['v4'])()+'.'+_0x1b1e5e,{'type':_0x596df9}),_0x3ff1e8=_0x881404[_0x44ccb7(0x1b5)](_0x3ab81f=>_0x3ab81f[_0x44ccb7(0x96)]===_0x4b182d[_0x44ccb7(0xbb)]&&_0x20bf0e[_0x44ccb7(0x9cb)]?.[_0x44ccb7(0xa13)](_0x1c805c=>_0x1c805c[_0x44ccb7(0x9e)]===_0x3ab81f[_0x44ccb7(0x9e)]));_0x3ff1e8&&(_0x3ff1e8[_0x44ccb7(0xa6)]||(_0x3ff1e8[_0x44ccb7(0xa6)]={}),_0x3ff1e8[_0x44ccb7(0xa6)][_0x44ccb7(0x899)]=_0x344846);}if(_0x44ccb7(0x58a)===_0x20bf0e[_0x44ccb7(0xa5a)])try{_0x440b5f=JSON[_0x44ccb7(0x26a)](_0x440b5f)['condition_result']?_0x44ccb7(0xf7):_0x44ccb7(0x939);}catch(_0x393670){console[_0x44ccb7(0xa14)](_0x44ccb7(0x3cd),_0x440b5f),_0x440b5f=_0x44ccb7(0x939);}await _0x4c9d0b(_0xebb75b,_0x440b5f,_0x2f7850,_0x1e7417,_0x20bf0e,_0x881404,_0x42a755,_0x4c2694);}function _0x5e93da(_0x35fba9,_0x287066,_0x9ad53f){const _0x2f3b78=_0x47ccb7;let _0x52118f='';return _0x9ad53f[_0x2f3b78(0x695)]&&''!==_0x9ad53f[_0x2f3b78(0x695)]&&(_0x52118f=_0x2f3b78(0x5db)+_0x9ad53f[_0x2f3b78(0x695)]+'\x0a\x0a'),_0x52118f=_0x52118f+'Today\x20Date:\x20'+new Date()[_0x2f3b78(0x494)](void 0x0,{'weekday':_0x2f3b78(0x4fa),'year':_0x2f3b78(0x4b1),'month':_0x2f3b78(0x4fa),'day':'numeric'})+'\x0a\x0a',''+_0x52118f+_0x287066[_0x2f3b78(0x8fa)]+_0x35fba9;}function _0x58ece1(_0x1c9e19){const _0x489887=_0x47ccb7;return _0x1c9e19['split'](_0x489887(0xe4))['map'](_0x350f73=>_0x350f73['replace'](_0x489887(0x879),'')[_0x489887(0x930)]())['filter'](_0x3bb8b5=>''!==_0x3bb8b5)[_0x489887(0x437)](_0x3ccada=>{const _0x86ea95=_0x489887;if(_0x86ea95(0x7c5)===_0x3ccada)return null;try{return JSON['parse'](_0x3ccada);}catch(_0x826fa2){return console[_0x86ea95(0xa14)]('Invalid\x20JSON:',_0x3ccada),null;}})[_0x489887(0xac4)](_0x37bc97=>null!==_0x37bc97);}async function _0x4fbe3c(_0x48f1dc,_0x2362ae,_0x16f015,_0x2ba9f3,_0x5e38a6,_0x21a4a7,_0x1bb751){const _0x2d6a94=_0x47ccb7,_0x410c96=_0x2d6a94(0x5ef)+_0x5e38a6[_0x2d6a94(0x3fe)]+'\x20to\x20generate\x20a\x20response.',_0x739b4={'prompt':{'type':_0x46b128[_0x2d6a94(0x5cf)]['String']}};return await _0x145894[_0x2d6a94(0x7e9)]({'jobType':_0x188c83[_0x2d6a94(0x7c1)],'type':_0x3bfdb7[_0x2d6a94(0x485)],'jobId':_0x48f1dc,'agentId':_0x2362ae,'threadId':_0x16f015[_0x2d6a94(0x80)],'traceLevel':_0x557626[_0x2d6a94(0x379)],'startTime':Date['now'](),'timestamp':Date[_0x2d6a94(0x31e)](),'status':_0x2d6a94(0x855),'function':_0x2e4ec8[_0x2d6a94(0x58c)],'params':_0x739b4,'functionDescription':_0x410c96}),{'description':_0x410c96,'params':_0x739b4,'callback':async _0x19d962=>_0x435e49(_0x16f015['vendorId'],_0x5e38a6,_0x21a4a7,_0x19d962,_0x2ba9f3,_0x48f1dc,_0x2362ae,_0x16f015[_0x2d6a94(0x4c1)],_0x16f015[_0x2d6a94(0x80)],_0x1bb751)};}async function _0x435e49(_0x528d07,_0x31212c,_0x1974c5,_0x244e90,_0x53a116,_0x2abd3e,_0x47f397,_0x419205,_0x1e5955,_0x3c6f10){const _0x7d4123=_0x47ccb7,_0x5b4172=Date['now']();try{if('string'!=typeof _0x244e90?.[_0x7d4123(0x806)])throw new Error('Prompt\x20is\x20required');if(!_0x1974c5[_0x7d4123(0x124)][_0x7d4123(0x1b5)](_0x2335ce=>_0x2335ce['id']===_0x31212c[_0x7d4123(0x9a7)]))throw new Error('Model\x20not\x20found');let _0x5a5be3='',_0x18356c=[];if(_0x31212c[_0x7d4123(0x8fa)]&&_0x18356c['push']({'role':_0x7d4123(0x6f6),'content':_0x31212c[_0x7d4123(0x8fa)]}),_0x18356c['push']({'role':_0x7d4123(0x14a),'content':_0x244e90[_0x7d4123(0x806)]}),_0x3c6f10&&_0x31212c[_0x7d4123(0x225)]){const _0x115345=await fetch(_0x501e0e['apiUrl']+_0x7d4123(0x5a7),{'method':_0x7d4123(0x6e2),'headers':{'Accept':'text/event-stream','Content-Type':'application/json','x-vendor-id':_0x528d07},'body':JSON[_0x7d4123(0xa26)]({'model':_0x31212c[_0x7d4123(0x9a7)],'messages':_0x18356c,'max_completion_tokens':_0x31212c['maxTokens'],'temperature':_0x31212c['temperature'],'tools':_0x31212c[_0x7d4123(0x292)],'structured_output':_0x31212c[_0x7d4123(0xa5a)],'metadata':{'threadId':_0x1e5955,'jobId':_0x2abd3e,'agentId':_0x47f397,'workflowId':_0x419205,'context':_0x53a116?.[_0x7d4123(0x8bd)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x115345['ok']||!_0x115345[_0x7d4123(0x7c3)])return console[_0x7d4123(0xa14)](_0x7d4123(0x221)),_0x3c6f10[_0x7d4123(0x6f9)](void 0x0),_0x7d4123(0x92c);const _0x483915=_0x115345['body'][_0x7d4123(0x505)](),_0x22b44f=new TextDecoder();let _0x1d9675=0x0,_0x27f3e9=0x0,_0x71fdb6='';for(;;){const {value:_0x271831,done:_0x2ef17a}=await _0x483915[_0x7d4123(0x895)]();if(_0x2ef17a)break;const _0x28b7f8=_0x22b44f[_0x7d4123(0x24c)](_0x271831,{'stream':!0x0});if(_0x7d4123(0x22c)===_0x28b7f8)break;const _0x1c2f23=_0x58ece1(_0x28b7f8);for(const _0x357799 of _0x1c2f23)_0x357799[_0x7d4123(0x6ff)]&&_0x357799['choices'][0x0]&&(_0x71fdb6+=_0x357799[_0x7d4123(0x6ff)][0x0][_0x7d4123(0x13a)][_0x7d4123(0x3d9)],_0x1d9675+=_0x357799['usage']?.[_0x7d4123(0x1ac)]??0x0,_0x27f3e9+=_0x357799[_0x7d4123(0x287)]?.[_0x7d4123(0x1dd)]??0x0,_0x53a116&&(_0x53a116[_0x7d4123(0x8bd)]={..._0x53a116[_0x7d4123(0x8bd)],..._0x357799[_0x7d4123(0x7d2)]}),_0x3c6f10[_0x7d4123(0x6f9)]({'output':_0x357799[_0x7d4123(0x6ff)][0x0][_0x7d4123(0x13a)][_0x7d4123(0x3d9)],'type':_0x7d4123(0x806)}),await _0x301533[_0x7d4123(0x8f)](0x1));}_0x53a116&&(_0x53a116['outputTokens']=(_0x53a116[_0x7d4123(0x309)]??0x0)+_0x27f3e9,_0x53a116['inputTokens']=(_0x53a116['inputTokens']??0x0)+_0x1d9675,_0x31212c[_0x7d4123(0x237)]&&(_0x53a116[_0x7d4123(0x8bd)]||(_0x53a116[_0x7d4123(0x8bd)]={}),_0x53a116[_0x7d4123(0x8bd)][_0x31212c[_0x7d4123(0x237)]]=_0x71fdb6)),_0x3c6f10[_0x7d4123(0x6f9)]({'output':'\x0a\x0a','type':_0x7d4123(0x806)}),await _0x301533[_0x7d4123(0x8f)](0x1),_0x5a5be3='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x582a5c=await fetch(_0x501e0e[_0x7d4123(0x7c7)]+_0x7d4123(0x5a7),{'method':_0x7d4123(0x6e2),'headers':{'Content-Type':_0x7d4123(0xadf),'x-vendor-id':_0x528d07},'body':JSON[_0x7d4123(0xa26)]({'model':_0x31212c[_0x7d4123(0x9a7)],'messages':_0x18356c,'max_completion_tokens':_0x31212c['maxTokens'],'temperature':_0x31212c[_0x7d4123(0x605)],'tools':_0x31212c[_0x7d4123(0x292)],'structured_output':_0x31212c[_0x7d4123(0xa5a)],'metadata':{'threadId':_0x1e5955,'jobId':_0x2abd3e,'agentId':_0x47f397,'workflowId':_0x419205,'context':_0x53a116?.[_0x7d4123(0x8bd)]??{}}})}),_0x38ba54=await _0x582a5c[_0x7d4123(0x97f)]();_0x5a5be3=_0x38ba54[_0x7d4123(0x6ff)][0x0]['message'][_0x7d4123(0x3d9)],_0x53a116&&(_0x53a116[_0x7d4123(0x8bd)]={..._0x53a116[_0x7d4123(0x8bd)],..._0x38ba54[_0x7d4123(0x7d2)]},_0x53a116[_0x7d4123(0x309)]=(_0x53a116['outputTokens']??0x0)+_0x38ba54['usage'][_0x7d4123(0x6d4)],_0x53a116['inputTokens']=(_0x53a116['inputTokens']??0x0)+_0x38ba54[_0x7d4123(0x287)][_0x7d4123(0x540)],_0x31212c['contextOutputVariable']&&(_0x53a116[_0x7d4123(0x8bd)]||(_0x53a116['internalContext']={}),_0x53a116['internalContext'][_0x31212c[_0x7d4123(0x237)]]=_0x5a5be3));}if('string'!=typeof _0x5a5be3)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x2abd3e&&_0x47f397&&_0x1e5955&&await _0x145894['trace']({'jobType':_0x188c83['Skill'],'type':_0x2e4ec8[_0x7d4123(0x58c)],'jobId':_0x2abd3e,'blockId':_0x7d4123(0x933),'agentId':_0x47f397,'threadId':_0x1e5955,'traceLevel':_0x557626[_0x7d4123(0x379)],'startTime':_0x5b4172,'timestamp':Date[_0x7d4123(0x31e)](),'status':_0x7d4123(0x855),'agentName':_0x31212c[_0x7d4123(0xd7)],'prompt':_0x244e90[_0x7d4123(0x806)],'instructions':_0x31212c[_0x7d4123(0x8fa)]??'','result':_0x5a5be3,'inputTokens':0x0,'outputTokens':0x0}),_0x5a5be3;}catch(_0x49a82e){return console[_0x7d4123(0xa14)](_0x49a82e),_0x2abd3e&&_0x47f397&&_0x1e5955&&await _0x145894[_0x7d4123(0x7e9)]({'jobType':_0x188c83[_0x7d4123(0x1db)],'type':_0x2e4ec8[_0x7d4123(0x58c)],'jobId':_0x2abd3e,'blockId':_0x7d4123(0x933),'agentId':_0x47f397,'threadId':_0x1e5955,'traceLevel':_0x557626[_0x7d4123(0x379)],'startTime':_0x5b4172,'timestamp':Date[_0x7d4123(0x31e)](),'status':_0x7d4123(0xa14),'errorDetails':_0x5005d9(_0x49a82e),'agentName':_0x31212c['name'],'prompt':_0x244e90?.[_0x7d4123(0x806)]??'','instructions':_0x31212c[_0x7d4123(0x8fa)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x49a82e instanceof Error?_0x49a82e[_0x7d4123(0xa3f)]:_0x7d4123(0x92c);}}async function _0x573edf(_0x359a5c,_0xbe4e86,_0x10cdce,_0x237beb,_0x4cc1d6,_0x84d322){const _0x2ae999=_0x47ccb7,_0x4b3838=Date[_0x2ae999(0x31e)]();try{if(!_0xbe4e86['aiSearchConnector'])throw new Error(_0x2ae999(0x1e5));if(!_0x359a5c[_0x2ae999(0x9a7)])throw new Error('Model\x20ID\x20is\x20required');if(_0x2ae999(0x3af)!=typeof _0x10cdce?.[_0x2ae999(0x709)])throw new Error(_0x2ae999(0xa34));const _0x30d3ef=await _0xbe4e86['aiSearchConnector']['search'](_0x10cdce[_0x2ae999(0x709)],_0x359a5c[_0x2ae999(0x9a7)]);return _0x237beb&&_0x4cc1d6&&_0x84d322&&(await _0x145894[_0x2ae999(0x96f)](_0x237beb,_0x359a5c[_0x2ae999(0x9a7)],_0x30d3ef[_0x2ae999(0x93e)],_0x30d3ef[_0x2ae999(0x309)]),console[_0x2ae999(0x766)](new Date()+_0x2ae999(0x3f9),_0x359a5c[_0x2ae999(0x9a7)],_0x30d3ef[_0x2ae999(0x93e)],_0x30d3ef[_0x2ae999(0x309)]),await _0x145894[_0x2ae999(0x7e9)]({'jobType':_0x188c83[_0x2ae999(0x1db)],'type':_0x2e4ec8['SearchPerplexity'],'jobId':_0x237beb,'agentId':_0x4cc1d6,'threadId':_0x84d322,'blockId':_0x2ae999(0x2ae),'traceLevel':_0x557626[_0x2ae999(0x379)],'startTime':_0x4b3838,'timestamp':Date[_0x2ae999(0x31e)](),'status':_0x2ae999(0x855),'query':_0x10cdce[_0x2ae999(0x709)],'results':_0x30d3ef[_0x2ae999(0x995)]})),_0x30d3ef[_0x2ae999(0x995)];}catch(_0x623c00){return console[_0x2ae999(0xa14)](_0x623c00),_0x237beb&&_0x4cc1d6&&_0x84d322&&await _0x145894[_0x2ae999(0x7e9)]({'jobType':_0x188c83[_0x2ae999(0x1db)],'type':_0x2e4ec8[_0x2ae999(0x268)],'jobId':_0x237beb,'blockId':_0x2ae999(0x2ae),'traceLevel':_0x557626[_0x2ae999(0x379)],'startTime':_0x4b3838,'timestamp':Date[_0x2ae999(0x31e)](),'status':_0x2ae999(0xa14),'errorDetails':_0x5005d9(_0x623c00),'agentId':_0x4cc1d6,'threadId':_0x84d322,'query':_0x10cdce?.[_0x2ae999(0x709)]??'','results':_0x2ae999(0x5dc)}),_0x623c00 instanceof Error?_0x623c00[_0x2ae999(0xa3f)]:_0x2ae999(0x5dc);}}async function _0x5a8048(_0x2189f4,_0x55f1ca,_0x12a126,_0xfef71d){const _0x4edce7=_0x47ccb7,_0xce3c61=Date[_0x4edce7(0x31e)]();try{if('string'!=typeof _0x2189f4?.[_0x4edce7(0x1d1)])throw new Error(_0x4edce7(0x217));const _0x20987d=Function(''+_0x2189f4?.[_0x4edce7(0x1d1)])();let _0x3c6630='';try{_0x3c6630=JSON[_0x4edce7(0xa26)](_0x20987d);}catch{_0x3c6630=_0x20987d['toString']();}return _0x55f1ca&&_0x12a126&&_0xfef71d&&await _0x145894[_0x4edce7(0x7e9)]({'jobType':_0x188c83['Skill'],'type':_0x2e4ec8[_0x4edce7(0xd5)],'agentId':_0x12a126,'threadId':_0xfef71d,'jobId':_0x55f1ca,'blockId':'code','traceLevel':_0x557626[_0x4edce7(0x379)],'startTime':_0xce3c61,'timestamp':Date[_0x4edce7(0x31e)](),'status':_0x4edce7(0x855),'code':_0x2189f4[_0x4edce7(0x1d1)],'result':_0x3c6630}),_0x20987d;}catch(_0x38ee17){return console[_0x4edce7(0xa14)](_0x38ee17),_0x55f1ca&&_0x12a126&&_0xfef71d&&await _0x145894[_0x4edce7(0x7e9)]({'jobType':_0x188c83[_0x4edce7(0x1db)],'type':_0x2e4ec8[_0x4edce7(0xd5)],'jobId':_0x55f1ca,'blockId':_0x4edce7(0x1d1),'traceLevel':_0x557626['Info'],'startTime':_0xce3c61,'timestamp':Date[_0x4edce7(0x31e)](),'status':'error','errorDetails':_0x5005d9(_0x38ee17),'agentId':_0x12a126,'threadId':_0xfef71d,'code':_0x2189f4?.[_0x4edce7(0x1d1)]??'','result':_0x4edce7(0x229)}),_0x38ee17 instanceof Error?_0x38ee17[_0x4edce7(0xa3f)]:_0x4edce7(0x229);}}async function _0x1efef6(_0x29abdb,_0x205d9a,_0x325f49,_0x30cfc9,_0x364b87){const _0x19772c=_0x47ccb7,_0x41f69d=_0x19772c(0x633)+_0x364b87[_0x19772c(0x3fe)]+_0x19772c(0x50f),_0x80aedb={'queryOrPrompt':{'type':_0x46b128[_0x19772c(0x5cf)][_0x19772c(0x82a)]}};return await _0x145894[_0x19772c(0x7e9)]({'jobType':_0x188c83[_0x19772c(0x7c1)],'type':_0x3bfdb7[_0x19772c(0x23c)],'jobId':_0x29abdb,'agentId':_0x205d9a,'threadId':_0x325f49[_0x19772c(0x80)],'blockId':_0x19772c(0x215),'traceLevel':_0x557626['Info'],'startTime':Date[_0x19772c(0x31e)](),'timestamp':Date[_0x19772c(0x31e)](),'status':_0x19772c(0x855),'function':_0x2e0b29[_0x19772c(0xa9f)],'params':_0x80aedb,'functionDescription':_0x41f69d}),{'description':_0x41f69d,'params':_0x80aedb,'callback':async _0x11325e=>_0x1f7061(_0x325f49['vendorId'],_0x364b87,_0x11325e,_0x30cfc9,_0x29abdb,_0x205d9a,_0x325f49[_0x19772c(0x80)])};}async function _0x1f7061(_0x194f2f,_0x374031,_0x1e6aed,_0x3b39dc,_0x32402f,_0x45d51a,_0x2402d4){const _0x33e45d=_0x47ccb7,_0x3578b7=Date[_0x33e45d(0x31e)]();try{if(_0x33e45d(0x3af)!=typeof _0x1e6aed?.['queryOrPrompt'])throw new Error(_0x33e45d(0xa34));const _0x5e12dd=await fetch(_0x501e0e[_0x33e45d(0x7c7)]+_0x33e45d(0x344)+_0x374031[_0x33e45d(0x43c)]+_0x33e45d(0x3ac),{'method':_0x33e45d(0x6e2),'headers':{'Content-Type':_0x33e45d(0xadf),'x-vendor-id':_0x194f2f},'body':JSON[_0x33e45d(0xa26)]({'query':_0x1e6aed[_0x33e45d(0x141)]})}),_0x2b7fd8=((await _0x5e12dd[_0x33e45d(0x97f)]())['data']??[])[_0x33e45d(0x437)](_0x4e98ba=>({'pathName':_0x4e98ba['filename'],'relevance':_0x4e98ba[_0x33e45d(0x99)],'content':_0x4e98ba['content'][_0x33e45d(0x88)]}));return _0x3b39dc&&(_0x3b39dc['context']=Array['from'](new Set([..._0x3b39dc[_0x33e45d(0x7d2)]??[],..._0x2b7fd8]))),_0x32402f&&_0x45d51a&&_0x2402d4&&await _0x145894[_0x33e45d(0x7e9)]({'jobType':_0x188c83['Knowledge'],'type':_0x2e0b29[_0x33e45d(0x99e)],'jobId':_0x32402f,'blockId':_0x33e45d(0x215),'agentId':_0x45d51a,'threadId':_0x2402d4,'traceLevel':_0x557626['Info'],'startTime':_0x3578b7,'timestamp':Date[_0x33e45d(0x31e)](),'status':_0x33e45d(0x855),'query':_0x1e6aed['queryOrPrompt'],'context':_0x2b7fd8??[],'inputTokens':0x0,'outputTokens':0x0}),_0x2b7fd8[_0x33e45d(0x5b5)]((_0x32e4c6,_0x82ad6f)=>_0x32e4c6+'\x0a'+_0x82ad6f[_0x33e45d(0x3d9)],'');}catch(_0x32ead3){return console['error'](_0x32ead3),_0x32402f&&_0x45d51a&&_0x2402d4&&await _0x145894[_0x33e45d(0x7e9)]({'jobType':_0x188c83[_0x33e45d(0x5c0)],'type':_0x2e0b29[_0x33e45d(0x99e)],'jobId':_0x32402f,'blockId':'data-collection','agentId':_0x45d51a,'threadId':_0x2402d4,'traceLevel':_0x557626[_0x33e45d(0x379)],'startTime':_0x3578b7,'timestamp':Date[_0x33e45d(0x31e)](),'status':_0x33e45d(0xa14),'errorDetails':_0x5005d9(_0x32ead3),'query':_0x1e6aed?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x32ead3 instanceof Error?_0x32ead3['message']:_0x33e45d(0x2a4);}}async function _0x59517f(_0x205de0,_0x3206ca,_0x543288,_0x4a63ed,_0x51b7aa){const _0x538b0f=_0x47ccb7,_0x247ffa={};for(const _0x22358e of _0x51b7aa[_0x538b0f(0x164)]??[])switch(_0x22358e[_0x538b0f(0x96)]){case _0x538b0f(0x3af):case'json':_0x247ffa[_0x22358e['name']]={'type':_0x46b128[_0x538b0f(0x5cf)][_0x538b0f(0x82a)]};break;case _0x538b0f(0x478):_0x247ffa[_0x22358e[_0x538b0f(0xd7)]]={'type':_0x46b128[_0x538b0f(0x5cf)]['Number']};break;case _0x538b0f(0xab0):_0x247ffa[_0x22358e[_0x538b0f(0xd7)]]={'type':_0x46b128[_0x538b0f(0x5cf)]['Boolean']};}return await _0x145894['trace']({'jobType':_0x188c83['JobContext'],'type':_0x3bfdb7[_0x538b0f(0x485)],'jobId':_0x205de0,'agentId':_0x3206ca,'threadId':_0x543288,'traceLevel':_0x557626[_0x538b0f(0x379)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x538b0f(0x855),'function':_0x2e4ec8[_0x538b0f(0x44e)],'params':_0x247ffa,'functionDescription':_0x51b7aa[_0x538b0f(0x3fe)]??''}),{'description':_0x538b0f(0x3e6)+_0x51b7aa[_0x538b0f(0x3fe)],'params':_0x247ffa,'callback':async _0xf0d5ac=>_0x56e37f(_0x51b7aa,_0xf0d5ac,_0x4a63ed,_0x205de0,_0x3206ca,_0x543288)};}async function _0x56e37f(_0x839d20,_0x2eb700,_0x5330d8,_0x1ce01a,_0x44d004,_0x4f8c7c){const _0x4de472=_0x47ccb7,_0xad0e33=Date[_0x4de472(0x31e)]();try{if(!_0x2eb700)throw new Error(_0x4de472(0x136));for(const _0x49de11 of _0x839d20['parameters']??[]){if(void 0x0===_0x2eb700[_0x49de11[_0x4de472(0xd7)]])throw new Error(_0x4de472(0x721)+_0x49de11[_0x4de472(0xd7)]+_0x4de472(0xcc));if(_0x4de472(0x3af)===_0x49de11[_0x4de472(0x96)]&&'string'!=typeof _0x2eb700[_0x49de11[_0x4de472(0xd7)]])throw new Error(_0x4de472(0x721)+_0x49de11[_0x4de472(0xd7)]+_0x4de472(0x2da));if(_0x4de472(0x478)===_0x49de11['type']&&_0x4de472(0x478)!=typeof _0x2eb700[_0x49de11['name']])throw new Error(_0x4de472(0x721)+_0x49de11['name']+_0x4de472(0x51e));if(_0x4de472(0xab0)===_0x49de11['type']&&_0x4de472(0xab0)!=typeof _0x2eb700[_0x49de11[_0x4de472(0xd7)]])throw new Error(_0x4de472(0x721)+_0x49de11[_0x4de472(0xd7)]+_0x4de472(0xa66));if(_0x4de472(0x97f)===_0x49de11[_0x4de472(0x96)]&&'string'!=typeof _0x2eb700[_0x49de11[_0x4de472(0xd7)]])throw new Error(_0x4de472(0x721)+_0x49de11[_0x4de472(0xd7)]+_0x4de472(0x2da));if(_0x4de472(0x97f)===_0x49de11['type'])try{_0x2eb700[_0x49de11[_0x4de472(0xd7)]]=JSON['parse'](_0x2eb700[_0x49de11[_0x4de472(0xd7)]]);}catch{throw new Error('Parameter\x20'+_0x49de11[_0x4de472(0xd7)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x4430cb={};for(const _0x294046 of _0x839d20[_0x4de472(0x3f8)]??[]){let _0x2d83df=_0x294046[_0x4de472(0x687)];_0x2d83df[_0x4de472(0x40d)](/\$[a-zA-Z0-9]+/)&&(_0x2d83df=_0x2d83df[_0x4de472(0x5f9)](/\$[a-zA-Z0-9]+/g,_0x48252d=>{const _0x35442d=_0x48252d['slice'](0x1);return _0x2eb700[_0x35442d];})),_0x4430cb[_0x294046['name']]=_0x2d83df;}const _0x330ee9=new URLSearchParams();for(const _0xbcb1bd of _0x839d20['queryParameters']??[]){let _0x3acc01=_0xbcb1bd[_0x4de472(0x687)];if(_0x4de472(0x3af)==typeof _0x3acc01&&_0x3acc01[_0x4de472(0xa7b)]('$')){const _0xcf3609=_0x3acc01['slice'](0x1);_0x3acc01=_0x2eb700[_0xcf3609];}if(_0x4de472(0x3af)==typeof _0x3acc01&&_0x3acc01['startsWith']('@context.')){const _0x19546a=_0x3acc01[_0x4de472(0x5f9)](_0x4de472(0x8a9),'');_0x3acc01=_0x5330d8?.[_0x4de472(0x8bd)]?.[_0x19546a];}if(_0x4de472(0x3af)==typeof _0x3acc01&&(_0x3acc01[_0x4de472(0xa7b)]('[')&&_0x3acc01['endsWith'](']')||_0x3acc01[_0x4de472(0xa7b)]('{')&&_0x3acc01['endsWith']('}')))try{_0x3acc01=JSON[_0x4de472(0x26a)](_0x3acc01);}catch(_0x4d1633){console[_0x4de472(0xa14)](_0x4d1633);}_0x330ee9[_0x4de472(0x6df)](_0xbcb1bd[_0x4de472(0xd7)],_0x3acc01);}let _0x3126ae,_0x7193d5=_0x839d20[_0x4de472(0x6b2)]??'';_0x330ee9['size']>0x0&&(_0x7193d5+='?'+_0x330ee9[_0x4de472(0x597)]());for(const _0x82fda2 of _0x839d20[_0x4de472(0xa4d)]??[]){void 0x0===_0x3126ae&&(_0x3126ae={});let _0x493435=_0x82fda2[_0x4de472(0x687)];if(_0x4de472(0x3af)==typeof _0x493435&&_0x493435['startsWith']('$')){const _0x183ae9=_0x493435[_0x4de472(0xa9c)](0x1);_0x493435=_0x2eb700[_0x183ae9];}if(_0x4de472(0x3af)==typeof _0x493435&&_0x493435[_0x4de472(0xa7b)](_0x4de472(0x8a9))){const _0x2d5f39=_0x493435['replace'](_0x4de472(0x8a9),'');_0x493435=_0x5330d8?.[_0x4de472(0x8bd)]?.[_0x2d5f39];}if('string'==typeof _0x493435&&(_0x493435[_0x4de472(0xa7b)]('[')&&_0x493435[_0x4de472(0x188)](']')||_0x493435[_0x4de472(0xa7b)]('{')&&_0x493435[_0x4de472(0x188)]('}')))try{_0x493435=JSON[_0x4de472(0x26a)](_0x493435);}catch(_0x5cd776){console[_0x4de472(0xa14)](_0x5cd776);}if(_0x4de472(0x78b)===_0x82fda2['name']){if(_0x4de472(0x3af)==typeof _0x493435){const _0x2bd209=_0x493435['match'](/```html(.*)```/s);_0x2bd209&&(_0x493435=_0x2bd209[0x1]),_0x493435=_0x493435['replace'](/\n/g,''),_0x493435=_0x493435[_0x4de472(0x5f9)](/'/g,'\x22');}_0x3126ae=_0x493435;break;}if(-0x1===_0x82fda2[_0x4de472(0xd7)][_0x4de472(0x593)]('.'))_0x3126ae[_0x82fda2[_0x4de472(0xd7)]]=_0x493435;else{const [_0x51b893,_0x57446a]=_0x82fda2[_0x4de472(0xd7)][_0x4de472(0x59a)]('.');_0x3126ae[_0x51b893]||(_0x3126ae[_0x51b893]={}),_0x3126ae[_0x51b893][_0x57446a]=_0x493435;}}console[_0x4de472(0x766)](_0x4de472(0x2cf)+_0x839d20[_0x4de472(0xd7)]+'\x20with\x20'+JSON['stringify'](_0x3126ae));const _0x5d597d=await fetch(_0x7193d5,{'method':_0x839d20[_0x4de472(0x725)],'headers':_0x4430cb,'body':void 0x0===_0x3126ae?void 0x0:_0x4de472(0x3af)==typeof _0x3126ae?_0x3126ae:JSON['stringify'](_0x3126ae)});if(_0x5d597d['ok']){let _0x2b9118=await _0x5d597d[_0x4de472(0x97f)]();return _0x4de472(0x3af)!=typeof _0x2b9118&&(_0x2b9118=JSON['stringify'](_0x2b9118)),_0x1ce01a&&_0x44d004&&_0x4f8c7c&&await _0x145894[_0x4de472(0x7e9)]({'jobType':_0x188c83[_0x4de472(0x1db)],'type':_0x2e4ec8[_0x4de472(0x44e)],'jobId':_0x1ce01a,'agentId':_0x44d004,'threadId':_0x4f8c7c,'blockId':'custom-skill','traceLevel':_0x557626[_0x4de472(0x379)],'startTime':_0xad0e33,'timestamp':Date[_0x4de472(0x31e)](),'status':_0x4de472(0x855),'skillName':_0x839d20[_0x4de472(0xd7)],'params':_0x2eb700,'result':_0x2b9118}),_0x5330d8&&_0x839d20[_0x4de472(0x237)]&&''!==_0x839d20['contextOutputVariable']&&(_0x5330d8[_0x4de472(0x8bd)]||(_0x5330d8[_0x4de472(0x8bd)]={}),_0x5330d8['internalContext'][_0x839d20[_0x4de472(0x237)]]=_0x2b9118),_0x2b9118;}throw new Error(_0x5d597d[_0x4de472(0x7ef)]);}catch(_0x47fbc7){console[_0x4de472(0xa14)](_0x47fbc7);const _0x553b76=_0x47fbc7 instanceof Error?_0x47fbc7['message']:_0x4de472(0x774);return _0x1ce01a&&_0x44d004&&_0x4f8c7c&&await _0x145894[_0x4de472(0x7e9)]({'jobType':_0x188c83['Skill'],'type':_0x2e4ec8['ExecuteCustomSkill'],'jobId':_0x1ce01a,'blockId':_0x4de472(0x54d),'threadId':_0x4f8c7c,'traceLevel':_0x557626['Info'],'startTime':_0xad0e33,'timestamp':Date[_0x4de472(0x31e)](),'agentId':_0x44d004,'status':_0x4de472(0xa14),'skillName':_0x839d20[_0x4de472(0xd7)],'params':_0x2eb700??{},'result':_0x553b76}),_0x553b76;}}async function _0x55cdf4(_0x4f7499,_0x1eda8f,_0x4991ec,_0x538543=!0x0){const _0x27c7fd=_0x47ccb7,_0x46e063=_0x27c7fd(0x1b0),_0x14d69c={'url':{'type':_0x46b128[_0x27c7fd(0x5cf)][_0x27c7fd(0x82a)]},'page':{'type':_0x46b128[_0x27c7fd(0x5cf)][_0x27c7fd(0x73c)]}};return await _0x145894[_0x27c7fd(0x7e9)]({'jobType':_0x188c83['JobContext'],'type':_0x3bfdb7[_0x27c7fd(0x485)],'jobId':_0x4f7499,'agentId':_0x1eda8f,'threadId':_0x4991ec,'traceLevel':_0x557626[_0x27c7fd(0x379)],'startTime':Date[_0x27c7fd(0x31e)](),'timestamp':Date['now'](),'status':_0x27c7fd(0x855),'function':_0x2e4ec8[_0x27c7fd(0x44a)],'params':_0x14d69c,'functionDescription':_0x46e063}),{'description':_0x46e063,'params':_0x14d69c,'callback':async _0x19d187=>_0x5ae699(_0x19d187,_0x538543,_0x4f7499,_0x1eda8f,_0x4991ec)};}async function _0x5ae699(_0x2fe517,_0x487fcb=!0x0,_0x2153c9,_0x2182a8,_0x4405aa){const _0x4e1fc0=_0x47ccb7,_0x15aeb6=Date[_0x4e1fc0(0x31e)]();try{if(_0x4e1fc0(0x3af)!=typeof _0x2fe517?.[_0x4e1fc0(0x447)])throw new Error(_0x4e1fc0(0x3ff));const _0x39ec90=_0x2fe517[_0x4e1fc0(0x447)];if([_0x4e1fc0(0x169),_0x4e1fc0(0x535),_0x4e1fc0(0x162),'.ppt',_0x4e1fc0(0x940),'.xls','.xlsx'][_0x4e1fc0(0xa13)](_0x385324=>_0x39ec90[_0x4e1fc0(0x188)](_0x385324)))throw new Error(_0x4e1fc0(0x4b7));const _0x14fbb3=await fetch(_0x39ec90),_0x8a4f0c=await _0x14fbb3['text']();let _0x4be09c=_0x8a4f0c;if(_0x487fcb){const _0x1e17e8=_0x8a4f0c['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x2d976b=_0x1e17e8?_0x1e17e8[0x1]:_0x8a4f0c,_0x2ae73d=_0x2d976b[_0x4e1fc0(0x5f9)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x4e1fc0(0x5f9)](/<br\s*\/?>/gi,'\x20')[_0x4e1fc0(0x5f9)](/&nbsp;/g,'\x20');_0x4be09c=_0x2ae73d[_0x4e1fc0(0x5f9)](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')[_0x4e1fc0(0x930)]();}const _0x4ff353='number'==typeof _0x2fe517['page']?_0x2fe517['page']:0x1,_0x5e2e81=Math['ceil'](_0x4be09c[_0x4e1fc0(0x583)]/_0x2d2dac);return _0x4be09c[_0x4e1fc0(0x583)]>_0x2d2dac&&(_0x4be09c=_0x4be09c['substring']((_0x4ff353-0x1)*_0x2d2dac,(_0x4ff353-0x1)*_0x2d2dac+_0x2d2dac)+_0x4e1fc0(0x868)+(_0x4ff353+0x1)+_0x4e1fc0(0x8e7)+_0x5e2e81+'.'),_0x2153c9&&_0x2182a8&&_0x4405aa&&await _0x145894[_0x4e1fc0(0x7e9)]({'jobType':_0x188c83[_0x4e1fc0(0x1db)],'type':_0x2e4ec8['FetchUrl'],'jobId':_0x2153c9,'agentId':_0x2182a8,'threadId':_0x4405aa,'blockId':_0x4e1fc0(0x815),'traceLevel':_0x557626['Info'],'startTime':_0x15aeb6,'timestamp':Date['now'](),'status':_0x14fbb3['ok']?_0x4e1fc0(0x855):'error','url':_0x2fe517[_0x4e1fc0(0x447)],'page':_0x4ff353,'totalPages':_0x5e2e81,'response':_0x4be09c}),_0x4be09c;}catch(_0x257e3c){console[_0x4e1fc0(0xa14)](_0x257e3c);const _0xcfc41f=_0x257e3c instanceof Error?_0x257e3c[_0x4e1fc0(0xa3f)]:'Error\x20fetching\x20URL';return _0x2153c9&&_0x2182a8&&_0x4405aa&&await _0x145894[_0x4e1fc0(0x7e9)]({'jobType':_0x188c83[_0x4e1fc0(0x1db)],'type':_0x2e4ec8[_0x4e1fc0(0x44a)],'jobId':_0x2153c9,'blockId':_0x4e1fc0(0x815),'threadId':_0x4405aa,'traceLevel':_0x557626[_0x4e1fc0(0x379)],'startTime':_0x15aeb6,'timestamp':Date[_0x4e1fc0(0x31e)](),'agentId':_0x2182a8,'status':_0x4e1fc0(0xa14),'errorDetails':_0x5005d9(_0x257e3c),'url':_0x2fe517?.['url']??'','page':0x0,'totalPages':0x0,'response':_0xcfc41f}),_0xcfc41f;}}async function _0x551f67(_0x34d552,_0x52c76f,_0x513c8d,_0x37ff1e,_0x43fc9e){const _0x69284e=_0x47ccb7,_0x23deff=Date[_0x69284e(0x31e)]();try{if(!_0x34d552[_0x69284e(0x904)])throw new Error(_0x69284e(0x631));if(_0x69284e(0x3af)!=typeof _0x52c76f?.[_0x69284e(0x709)])throw new Error(_0x69284e(0xa34));const _0x435476=await _0x34d552[_0x69284e(0x904)]['search'](_0x52c76f[_0x69284e(0x709)],_0x501e0e['google'][_0x69284e(0x443)]);let _0x15d130='';for(const _0x59fd5e of _0x435476)_0x15d130+=_0x59fd5e[_0x69284e(0x94f)]+_0x69284e(0x8b)+_0x59fd5e[_0x69284e(0x447)]+'\x0a'+_0x59fd5e[_0x69284e(0x418)]+'\x0a\x0a';return _0x513c8d&&_0x37ff1e&&_0x43fc9e&&await _0x145894['trace']({'jobType':_0x188c83[_0x69284e(0x1db)],'type':_0x2e4ec8['SearchGoogle'],'jobId':_0x513c8d,'agentId':_0x37ff1e,'threadId':_0x43fc9e,'blockId':_0x69284e(0x1dc),'traceLevel':_0x557626[_0x69284e(0x379)],'startTime':_0x23deff,'timestamp':Date[_0x69284e(0x31e)](),'status':_0x69284e(0x855),'query':_0x52c76f['query'],'results':_0x15d130}),_0x15d130;}catch(_0x127684){return console[_0x69284e(0xa14)](_0x127684),_0x513c8d&&_0x37ff1e&&_0x43fc9e&&await _0x145894[_0x69284e(0x7e9)]({'jobType':_0x188c83[_0x69284e(0x1db)],'type':_0x2e4ec8['SearchGoogle'],'jobId':_0x513c8d,'blockId':_0x69284e(0x1dc),'traceLevel':_0x557626[_0x69284e(0x379)],'startTime':_0x23deff,'timestamp':Date[_0x69284e(0x31e)](),'status':_0x69284e(0xa14),'errorDetails':_0x5005d9(_0x127684),'agentId':_0x37ff1e,'threadId':_0x43fc9e,'query':_0x52c76f?.['query']??'','results':_0x69284e(0x5dc)}),_0x127684 instanceof Error?_0x127684[_0x69284e(0xa3f)]:_0x69284e(0x5dc);}}async function _0x348d21(_0xd78344,_0x8b5fdc,_0x467cf1,_0x1039b4,_0x5688f9,_0x36aa50){const _0x373cd7=_0x47ccb7,_0x2796af=_0x373cd7(0x118)+_0x5688f9[_0x373cd7(0x3fe)]+_0x373cd7(0x6db),_0x491724={'prompt':{'type':_0x46b128[_0x373cd7(0x5cf)][_0x373cd7(0x82a)]}};return await _0x145894[_0x373cd7(0x7e9)]({'jobType':_0x188c83[_0x373cd7(0x7c1)],'type':_0x3bfdb7[_0x373cd7(0x485)],'jobId':_0xd78344,'agentId':_0x8b5fdc,'threadId':_0x467cf1[_0x373cd7(0x80)],'traceLevel':_0x557626['Info'],'startTime':Date[_0x373cd7(0x31e)](),'timestamp':Date['now'](),'status':_0x373cd7(0x855),'function':_0x2e4ec8[_0x373cd7(0x55d)],'params':_0x491724,'functionDescription':_0x2796af}),{'description':_0x2796af,'params':_0x491724,'callback':async _0x176413=>_0x1ed4f9(_0x467cf1[_0x373cd7(0x111)],_0x5688f9,_0x176413,_0x1039b4,_0xd78344,_0x8b5fdc,_0x467cf1[_0x373cd7(0x80)],_0x36aa50)};}async function _0x1ed4f9(_0x221a60,_0x5a6dad,_0x93dfe5,_0xb9d6aa,_0x10cd4c,_0xf1ae61,_0x3e1214,_0x3cd3e1){const _0x4ab315=_0x47ccb7,_0x19803b=Date[_0x4ab315(0x31e)]();try{if(_0x4ab315(0x3af)!=typeof _0x93dfe5?.['prompt'])throw new Error(_0x4ab315(0x507));let _0x2fd9aa='';const _0x55d4c6=_0x5a6dad[_0x4ab315(0x11f)]?.[_0x4ab315(0x59a)](',')??[];let _0x28a5e8=_0x93dfe5[_0x4ab315(0x806)];for(const _0x360cae of _0x55d4c6){const _0x18f03d=_0xb9d6aa?.['internalContext']?.[_0x360cae];_0x18f03d&&(_0x28a5e8='<'+_0x360cae+'>\x0a'+_0x18f03d+_0x4ab315(0x338)+_0x360cae+_0x4ab315(0x30a)+_0x28a5e8);}let _0xdf8e50=[{'role':_0x4ab315(0x14a),'content':_0x28a5e8}];if(_0x3cd3e1&&_0x5a6dad[_0x4ab315(0x225)]){const _0x3ff9f5=await fetch(_0x501e0e[_0x4ab315(0x7c7)]+'/workflows/'+_0x5a6dad[_0x4ab315(0x4c1)]+'/chat/completions',{'method':_0x4ab315(0x6e2),'headers':{'Accept':_0x4ab315(0x859),'Content-Type':_0x4ab315(0xadf),'x-vendor-id':_0x221a60},'body':JSON[_0x4ab315(0xa26)]({'model':_0x5a6dad[_0x4ab315(0x9a7)],'messages':_0xdf8e50,'max_completion_tokens':_0x5a6dad[_0x4ab315(0x161)],'temperature':_0x5a6dad['temperature'],'tools':_0x5a6dad[_0x4ab315(0x292)],'structured_output':_0x5a6dad[_0x4ab315(0xa5a)],'metadata':{'threadId':_0x3e1214,'jobId':_0x10cd4c,'agentId':_0xf1ae61,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x3ff9f5['ok']||!_0x3ff9f5[_0x4ab315(0x7c3)])return console['error'](_0x4ab315(0x708)),_0x3cd3e1[_0x4ab315(0x6f9)](void 0x0),'Error\x20executing\x20workflow';const _0x1b58df=_0x3ff9f5[_0x4ab315(0x7c3)][_0x4ab315(0x505)](),_0x5f4179=new TextDecoder();let _0x415c3d=0x0,_0x2f4929=0x0,_0x50cdda='';for(;;){const {value:_0x4a7557,done:_0x4a2197}=await _0x1b58df[_0x4ab315(0x895)]();if(_0x4a2197)break;const _0x426024=_0x5f4179[_0x4ab315(0x24c)](_0x4a7557,{'stream':!0x0});if(_0x4ab315(0x22c)===_0x426024)break;const _0x1673ef=_0x58ece1(_0x426024);for(const _0xd85c5c of _0x1673ef)_0xd85c5c[_0x4ab315(0x6ff)]&&_0xd85c5c[_0x4ab315(0x6ff)][0x0]&&(_0x50cdda+=_0xd85c5c[_0x4ab315(0x6ff)][0x0][_0x4ab315(0x13a)]['content'],_0x415c3d+=_0xd85c5c[_0x4ab315(0x287)]?.['input_tokens']??0x0,_0x2f4929+=_0xd85c5c[_0x4ab315(0x287)]?.['output_tokens']??0x0,_0xb9d6aa&&(_0xb9d6aa['internalContext']={..._0xb9d6aa['internalContext'],..._0xd85c5c[_0x4ab315(0x7d2)]}),_0x3cd3e1[_0x4ab315(0x6f9)]({'output':_0xd85c5c[_0x4ab315(0x6ff)][0x0][_0x4ab315(0x13a)][_0x4ab315(0x3d9)],'type':_0x4ab315(0x806)}),await _0x301533[_0x4ab315(0x8f)](0x1));}_0xb9d6aa&&(_0xb9d6aa['outputTokens']=(_0xb9d6aa['outputTokens']??0x0)+_0x2f4929,_0xb9d6aa['inputTokens']=(_0xb9d6aa[_0x4ab315(0x93e)]??0x0)+_0x415c3d,_0x5a6dad['contextOutputVariable']&&(_0xb9d6aa[_0x4ab315(0x8bd)]||(_0xb9d6aa['internalContext']={}),_0xb9d6aa[_0x4ab315(0x8bd)][_0x5a6dad[_0x4ab315(0x237)]]=_0x50cdda)),_0x3cd3e1[_0x4ab315(0x6f9)]({'output':'\x0a\x0a','type':_0x4ab315(0x806)}),await _0x301533[_0x4ab315(0x8f)](0x1),_0x2fd9aa='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x348233=fetch(_0x501e0e['apiUrl']+_0x4ab315(0x83d)+_0x5a6dad[_0x4ab315(0x4c1)]+_0x4ab315(0x5a7),{'method':'POST','headers':{'Content-Type':_0x4ab315(0xadf),'x-vendor-id':_0x221a60},'body':JSON['stringify']({'model':_0x5a6dad[_0x4ab315(0x9a7)],'messages':_0xdf8e50,'max_completion_tokens':_0x5a6dad[_0x4ab315(0x161)],'temperature':_0x5a6dad[_0x4ab315(0x605)],'tools':_0x5a6dad['tools'],'structured_output':_0x5a6dad['grammar'],'metadata':{'threadId':_0x3e1214,'jobId':_0x10cd4c,'agentId':_0xf1ae61,'context':{}}})});if(_0x5a6dad[_0x4ab315(0x960)])return _0x4ab315(0x95a);const _0x454d2e=await _0x348233,_0x136beb=await _0x454d2e[_0x4ab315(0x97f)]();_0x2fd9aa=_0x136beb[_0x4ab315(0x6ff)][0x0][_0x4ab315(0xa3f)][_0x4ab315(0x3d9)],_0xb9d6aa&&(_0xb9d6aa['internalContext']={..._0xb9d6aa['internalContext'],..._0x136beb['context']},_0xb9d6aa[_0x4ab315(0x309)]=(_0xb9d6aa[_0x4ab315(0x309)]??0x0)+_0x136beb['usage'][_0x4ab315(0x6d4)],_0xb9d6aa[_0x4ab315(0x93e)]=(_0xb9d6aa[_0x4ab315(0x93e)]??0x0)+_0x136beb[_0x4ab315(0x287)][_0x4ab315(0x540)],_0x5a6dad[_0x4ab315(0x237)]&&(_0xb9d6aa[_0x4ab315(0x8bd)]||(_0xb9d6aa[_0x4ab315(0x8bd)]={}),_0xb9d6aa[_0x4ab315(0x8bd)][_0x5a6dad[_0x4ab315(0x237)]]=_0x2fd9aa));}if(_0x4ab315(0x3af)!=typeof _0x2fd9aa)throw new Error(_0x4ab315(0x343));return _0x10cd4c&&_0xf1ae61&&_0x3e1214&&await _0x145894[_0x4ab315(0x7e9)]({'jobType':_0x188c83['Skill'],'type':_0x2e4ec8[_0x4ab315(0x55d)],'jobId':_0x10cd4c,'blockId':_0x4ab315(0x6a0),'agentId':_0xf1ae61,'threadId':_0x3e1214,'traceLevel':_0x557626[_0x4ab315(0x379)],'startTime':_0x19803b,'timestamp':Date['now'](),'status':_0x4ab315(0x855),'workflowName':_0x5a6dad[_0x4ab315(0xd7)],'prompt':_0x93dfe5[_0x4ab315(0x806)],'result':_0x2fd9aa,'inputTokens':0x0,'outputTokens':0x0}),_0x2fd9aa;}catch(_0x47c1a8){if(console[_0x4ab315(0xa14)](_0x47c1a8),_0x10cd4c&&_0xf1ae61&&_0x3e1214&&await _0x145894[_0x4ab315(0x7e9)]({'jobType':_0x188c83[_0x4ab315(0x1db)],'type':_0x2e4ec8[_0x4ab315(0x55d)],'jobId':_0x10cd4c,'blockId':_0x4ab315(0x6a0),'agentId':_0xf1ae61,'threadId':_0x3e1214,'traceLevel':_0x557626[_0x4ab315(0x379)],'startTime':_0x19803b,'timestamp':Date[_0x4ab315(0x31e)](),'status':_0x4ab315(0xa14),'errorDetails':_0x5005d9(_0x47c1a8),'workflowName':_0x5a6dad[_0x4ab315(0xd7)],'prompt':_0x93dfe5?.[_0x4ab315(0x806)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x47c1a8 instanceof Error)throw _0x47c1a8;throw new Error('Unknown\x20error\x20occurred\x20while\x20executing\x20workflow');}}async function _0xbb2392(_0x1d561a,_0x210384,_0x1c021b,_0x487db0,_0x641371){const _0xbecb50=_0x47ccb7;return await _0x145894[_0xbecb50(0x7e9)]({'jobType':_0x188c83[_0xbecb50(0x7c1)],'type':_0x3bfdb7[_0xbecb50(0x485)],'jobId':_0x1d561a,'agentId':_0x210384,'threadId':_0x1c021b,'traceLevel':_0x557626['Info'],'startTime':Date['now'](),'timestamp':Date[_0xbecb50(0x31e)](),'status':'success','function':_0x2e4ec8[_0xbecb50(0x480)],'params':{},'functionDescription':'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.'}),{'description':_0xbecb50(0x7ca),'params':{},'callback':async()=>_0x2f9731(_0x641371,_0x487db0,_0x1d561a,_0x210384,_0x1c021b)};}async function _0x2f9731(_0x177c99,_0x31cc39,_0x27b609,_0x37894e,_0x45bb25){const _0x30345f=_0x47ccb7,_0x5cccdd=Date[_0x30345f(0x31e)]();let _0x3aef3a=_0x177c99[_0x30345f(0xd7)][_0x30345f(0x5f9)](/[^a-zA-Z]/g,'');_0x3aef3a[_0x30345f(0xa7b)](_0x30345f(0x7a9))&&(_0x3aef3a=_0x3aef3a[_0x30345f(0x5f9)]('getQuestion',''));const _0x3c417d=_0x30345f(0x246)+_0x3aef3a;let _0xf41295=0x0;if(_0x31cc39){const _0x35f922=_0x31cc39[_0x30345f(0x8bd)]?.[_0x3c417d];_0x35f922?_0xf41295=parseInt(_0x35f922):(_0xf41295=0x0,_0x31cc39[_0x30345f(0x8bd)]||(_0x31cc39['internalContext']={}),_0x31cc39[_0x30345f(0x8bd)][_0x3c417d]='0');}const _0x1371d6=_0x177c99[_0x30345f(0xdf)]||[];if(_0xf41295>=_0x1371d6[_0x30345f(0x583)])return JSON['stringify']({'error':_0x30345f(0x8d5)});const _0x1cd694=_0x1371d6[_0xf41295];return _0x27b609&&_0x37894e&&_0x45bb25&&await _0x145894[_0x30345f(0x7e9)]({'jobType':_0x188c83[_0x30345f(0x1db)],'type':_0x2e4ec8['FormGetQuestion'],'jobId':_0x27b609,'agentId':_0x37894e,'threadId':_0x45bb25,'blockId':'form-skill-get-question','traceLevel':_0x557626[_0x30345f(0x379)],'startTime':_0x5cccdd,'timestamp':Date['now'](),'status':_0x30345f(0x855),'question':_0x1cd694['question'],'currentQuestionIndex':_0xf41295,'questions':_0x1371d6[_0x30345f(0x437)](_0x2f4dad=>_0x2f4dad['question'])}),JSON[_0x30345f(0xa26)]({'id':_0x1cd694['id'],'question':_0x1cd694['question'],'validation':_0x1cd694[_0x30345f(0x80f)],'required':_0x1cd694[_0x30345f(0x1d2)],'format':_0x1cd694[_0x30345f(0x216)],'action':'If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer'});}async function _0x3b550a(_0x179112,_0x45ab74,_0x220af2,_0x555a12,_0x80b3e7){const _0x16aa4c=_0x47ccb7;return await _0x145894[_0x16aa4c(0x7e9)]({'jobType':_0x188c83[_0x16aa4c(0x7c1)],'type':_0x3bfdb7['LoadSkillFunction'],'jobId':_0x179112,'agentId':_0x45ab74,'threadId':_0x220af2,'traceLevel':_0x557626[_0x16aa4c(0x379)],'startTime':Date['now'](),'timestamp':Date[_0x16aa4c(0x31e)](),'status':'success','function':_0x2e4ec8[_0x16aa4c(0x2ff)],'params':{},'functionDescription':_0x16aa4c(0x241)}),{'description':_0x16aa4c(0x241),'params':{'id':{'type':_0x46b128[_0x16aa4c(0x5cf)][_0x16aa4c(0x82a)]},'answer':{'type':_0x46b128[_0x16aa4c(0x5cf)][_0x16aa4c(0x82a)]}},'callback':async _0x55b9fc=>_0x5573d4(_0x80b3e7,_0x55b9fc,_0x555a12,_0x179112,_0x45ab74,_0x220af2)};}async function _0x5573d4(_0x3c172c,_0x261010,_0x52ea2a,_0x283982,_0x6402ad,_0xd232d6){const _0x37ab4e=_0x47ccb7,_0x390cc1=Date['now']();let _0x2cdc0d=_0x3c172c[_0x37ab4e(0xd7)]['replace'](/[^a-zA-Z]/g,'');_0x2cdc0d[_0x37ab4e(0xa7b)]('setAnswer')&&(_0x2cdc0d=_0x2cdc0d[_0x37ab4e(0x5f9)](_0x37ab4e(0xef),''));const _0x799cf1='question-'+_0x2cdc0d,_0x342ae2=_0x3c172c['questions']||[];let _0x4990cf=0x0;if(_0x52ea2a&&(_0x4990cf=parseInt(_0x52ea2a[_0x37ab4e(0x8bd)]?.[_0x799cf1]??'0')),!_0x261010?.['id']||_0x37ab4e(0x3af)!=typeof _0x261010['id'])return JSON['stringify']({'error':_0x37ab4e(0x955)});const _0x54782e=_0x342ae2[_0x37ab4e(0x1b5)](_0x3cbac6=>_0x3cbac6['id']===_0x261010['id']);if(!_0x54782e)return JSON[_0x37ab4e(0xa26)]({'error':_0x37ab4e(0x6bd)});if(!_0x261010?.['answer']||_0x37ab4e(0x3af)!=typeof _0x261010[_0x37ab4e(0x129)])return JSON['stringify']({'error':'Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string'});if(_0x52ea2a){_0x52ea2a[_0x37ab4e(0x8bd)]||(_0x52ea2a[_0x37ab4e(0x8bd)]={});const _0x42e8cf=_0x37ab4e(0x1b9)+_0x2cdc0d,_0x4d77ca=_0x42e8cf+'-'+_0x261010['id'];_0x52ea2a[_0x37ab4e(0x8bd)][_0x4d77ca]=_0x261010[_0x37ab4e(0x129)];let _0x3853c6=!0x1;for(let _0x2a4fe6=0x0;_0x2a4fe6<_0x342ae2[_0x37ab4e(0x583)];_0x2a4fe6++){const _0xb1f429=_0x52ea2a[_0x37ab4e(0x8bd)]?.[_0x42e8cf+'-'+_0x342ae2[_0x2a4fe6]['id']];if(_0x2a4fe6!==_0x4990cf&&!_0xb1f429){_0x4990cf=_0x2a4fe6,_0x3853c6=!0x0;break;}}_0x3853c6||_0x4990cf++,_0x52ea2a[_0x37ab4e(0x8bd)][_0x799cf1]=_0x4990cf[_0x37ab4e(0x597)]();}_0x283982&&_0x6402ad&&_0xd232d6&&await _0x145894[_0x37ab4e(0x7e9)]({'jobType':_0x188c83[_0x37ab4e(0x1db)],'type':_0x2e4ec8[_0x37ab4e(0x2ff)],'jobId':_0x283982,'agentId':_0x6402ad,'threadId':_0xd232d6,'blockId':_0x37ab4e(0x878),'traceLevel':_0x557626[_0x37ab4e(0x379)],'startTime':_0x390cc1,'timestamp':Date[_0x37ab4e(0x31e)](),'status':_0x37ab4e(0x855),'question':_0x54782e[_0x37ab4e(0x5eb)],'answer':_0x261010[_0x37ab4e(0x129)],'currentQuestionIndex':_0x4990cf,'questions':_0x342ae2['map'](_0x1d0144=>_0x1d0144['question'])});const _0x439503=_0x342ae2[_0x4990cf];return _0x439503?JSON[_0x37ab4e(0xa26)]({'id':_0x439503['id'],'question':_0x439503[_0x37ab4e(0x5eb)],'validation':_0x439503[_0x37ab4e(0x80f)],'required':_0x439503[_0x37ab4e(0x1d2)],'format':_0x439503[_0x37ab4e(0x216)],'action':_0x37ab4e(0x6b6)}):JSON[_0x37ab4e(0xa26)]({'action':_0x37ab4e(0xa01)});}async function _0x4de43f(_0xcaf56b,_0x297c66,_0x2060b2,_0x206bc3,_0x5b78aa){const _0x181406=_0x47ccb7,_0x3a9323=_0x181406(0x688);return await _0x145894[_0x181406(0x7e9)]({'jobType':_0x188c83[_0x181406(0x7c1)],'type':_0x3bfdb7[_0x181406(0x485)],'jobId':_0xcaf56b,'agentId':_0x297c66,'threadId':_0x2060b2,'traceLevel':_0x557626[_0x181406(0x379)],'startTime':Date['now'](),'timestamp':Date[_0x181406(0x31e)](),'status':'success','function':_0x2e4ec8[_0x181406(0x554)],'params':{},'functionDescription':_0x3a9323}),{'description':_0x3a9323,'params':{},'callback':async()=>_0x120021(_0x5b78aa,_0x206bc3,_0xcaf56b,_0x297c66,_0x2060b2)};}async function _0x120021(_0x3d3dd1,_0x3088ea,_0x306c17,_0x89b2c7,_0x352d65){const _0x1b84c7=_0x47ccb7;let _0x29df4f=_0x3d3dd1[_0x1b84c7(0xd7)][_0x1b84c7(0x5f9)](/[^a-zA-Z]/g,'');_0x29df4f[_0x1b84c7(0xa7b)]('submitForm')&&(_0x29df4f=_0x29df4f[_0x1b84c7(0x5f9)](_0x1b84c7(0x5e2),''));const _0x3e93c1=_0x3d3dd1[_0x1b84c7(0xdf)]||[],_0x3f79de={};if(!_0x3088ea)return JSON[_0x1b84c7(0xa26)]({'error':_0x1b84c7(0xcb)});for(let _0x4462ce=0x0;_0x4462ce<_0x3e93c1[_0x1b84c7(0x583)];_0x4462ce++){const _0x2b66fc=_0x3088ea[_0x1b84c7(0x8bd)]?.[_0x1b84c7(0x1b9)+_0x29df4f+'-'+_0x3e93c1[_0x4462ce]['id']];if(_0x3e93c1[_0x4462ce][_0x1b84c7(0x1d2)]&&!_0x2b66fc)return JSON[_0x1b84c7(0xa26)]({'error':_0x1b84c7(0xcb)});_0x3f79de[_0x3e93c1[_0x4462ce]['id']]=_0x2b66fc;}return _0x3088ea&&_0x3d3dd1[_0x1b84c7(0x237)]&&(_0x3088ea['internalContext']||(_0x3088ea['internalContext']={}),_0x3088ea['internalContext'][_0x3d3dd1[_0x1b84c7(0x237)]]=JSON[_0x1b84c7(0xa26)](_0x3f79de)),_0x306c17&&_0x89b2c7&&_0x352d65&&await _0x145894[_0x1b84c7(0x7e9)]({'jobType':_0x188c83[_0x1b84c7(0x1db)],'type':_0x2e4ec8[_0x1b84c7(0x554)],'jobId':_0x306c17,'agentId':_0x89b2c7,'threadId':_0x352d65,'blockId':'form-skill-submit-form','traceLevel':_0x557626['Info'],'startTime':Date[_0x1b84c7(0x31e)](),'timestamp':Date[_0x1b84c7(0x31e)](),'status':'success','answers':_0x3f79de}),JSON['stringify']({'success':!0x0});}async function _0x132873(_0x4786f6,_0x436d0a,_0x440866,_0x1fc38e,_0x581cea,_0x395c1a,_0x37b4ef){const _0x423742=_0x47ccb7,_0x2bb170=new Map();for(const _0x407bfe of _0x581cea)_0x407bfe[_0x423742(0x96)]===_0x46b128[_0x423742(0x713)][_0x423742(0x5c0)]||_0x407bfe[_0x423742(0x96)]===_0x46b128[_0x423742(0x713)]['DataCollection']?_0x2bb170[_0x423742(0x9de)](_0x423742(0x12e)+_0x407bfe[_0x423742(0xd7)]['replace'](/[^a-zA-Z]/g,''),await _0x1efef6(_0x4786f6,_0x436d0a,_0x440866,_0x1fc38e,_0x407bfe)):_0x407bfe[_0x423742(0x96)]===_0x46b128['GenerativeAIInferenceToolType'][_0x423742(0x247)]||_0x407bfe[_0x423742(0x96)]===_0x46b128[_0x423742(0x713)][_0x423742(0x856)]?_0x2bb170[_0x423742(0x9de)]('executeAgent'+_0x407bfe[_0x423742(0xd7)][_0x423742(0x5f9)](/[^a-zA-Z]/g,''),await _0x4fbe3c(_0x4786f6,_0x436d0a,_0x440866,_0x1fc38e,_0x407bfe,_0x395c1a,_0x37b4ef)):_0x407bfe[_0x423742(0x96)]===_0x46b128[_0x423742(0x713)][_0x423742(0x998)]?_0x2bb170[_0x423742(0x9de)](_0x423742(0x761)+_0x407bfe[_0x423742(0xd7)][_0x423742(0x5f9)](/[^a-zA-Z]/g,''),await _0x348d21(_0x4786f6,_0x436d0a,_0x440866,_0x1fc38e,_0x407bfe,_0x37b4ef)):_0x407bfe[_0x423742(0x96)]===_0x46b128[_0x423742(0x713)][_0x423742(0x34c)]?_0x2bb170[_0x423742(0x9de)](_0x407bfe[_0x423742(0xd7)][_0x423742(0x5f9)](/[^a-zA-Z]/g,''),await _0x59517f(_0x4786f6,_0x436d0a,_0x440866[_0x423742(0x80)],_0x1fc38e,_0x407bfe)):_0x407bfe['type']===_0x46b128[_0x423742(0x713)]['FormSkillGetQuestion']?_0x2bb170[_0x423742(0x9de)](_0x423742(0x7a9)+_0x407bfe[_0x423742(0xd7)]['replace'](/[^a-zA-Z]/g,''),await _0xbb2392(_0x4786f6,_0x436d0a,_0x440866['threadId'],_0x1fc38e,_0x407bfe)):_0x407bfe[_0x423742(0x96)]===_0x46b128['GenerativeAIInferenceToolType'][_0x423742(0x2b8)]?_0x2bb170[_0x423742(0x9de)]('setAnswer'+_0x407bfe['name'][_0x423742(0x5f9)](/[^a-zA-Z]/g,''),await _0x3b550a(_0x4786f6,_0x436d0a,_0x440866[_0x423742(0x80)],_0x1fc38e,_0x407bfe)):_0x407bfe[_0x423742(0x96)]===_0x46b128[_0x423742(0x713)][_0x423742(0xb5)]?_0x2bb170[_0x423742(0x9de)](_0x423742(0x5e2)+_0x407bfe[_0x423742(0xd7)][_0x423742(0x5f9)](/[^a-zA-Z]/g,''),await _0x4de43f(_0x4786f6,_0x436d0a,_0x440866['threadId'],_0x1fc38e,_0x407bfe)):_0x2bb170[_0x423742(0x9de)](_0x7e91a1(_0x407bfe),await _0x18fd98(_0x4786f6,_0x436d0a,_0x440866,_0x1fc38e,_0x407bfe,_0x395c1a));return _0x2bb170;}function _0x7e91a1(_0x1064ae){const _0x4d65c6=_0x47ccb7;switch(_0x1064ae[_0x4d65c6(0x96)]){case _0x46b128[_0x4d65c6(0x713)][_0x4d65c6(0x765)]:return'searchOnPerplexity';case _0x46b128[_0x4d65c6(0x713)][_0x4d65c6(0x1f0)]:return _0x4d65c6(0x89a);case _0x46b128['GenerativeAIInferenceToolType'][_0x4d65c6(0x9b2)]:return'queryFile';case _0x46b128[_0x4d65c6(0x713)][_0x4d65c6(0x158)]:return _0x4d65c6(0x5f2);case _0x46b128[_0x4d65c6(0x713)][_0x4d65c6(0x9d2)]:case _0x46b128[_0x4d65c6(0x713)][_0x4d65c6(0x2aa)]:return _0x4d65c6(0xab9);case _0x46b128[_0x4d65c6(0x713)][_0x4d65c6(0xa48)]:return _0x4d65c6(0xcf);}throw new Error(_0x4d65c6(0xa8a));}async function _0x18fd98(_0xab09bd,_0x54d64f,_0x18c8e1,_0x310b1a,_0x382645,_0x3876df){const _0x5629a7=_0x47ccb7;switch(_0x382645[_0x5629a7(0x96)]){case _0x46b128['GenerativeAIInferenceToolType']['AISearch']:return async function(_0x46169f,_0x5117ac,_0x43748e,_0x495e1a,_0x3f655b){const _0x4287bd=_0x5629a7,_0x55ad3a=_0x4287bd(0x7cd),_0x351b2e={'query':{'type':_0x46b128[_0x4287bd(0x5cf)][_0x4287bd(0x82a)]}};await _0x145894['trace']({'jobType':_0x188c83[_0x4287bd(0x7c1)],'type':_0x3bfdb7[_0x4287bd(0x485)],'jobId':_0x46169f,'agentId':_0x5117ac,'threadId':_0x43748e[_0x4287bd(0x80)],'traceLevel':_0x557626[_0x4287bd(0x379)],'startTime':Date['now'](),'timestamp':Date[_0x4287bd(0x31e)](),'status':'success','function':_0x2e4ec8[_0x4287bd(0x268)],'params':_0x351b2e,'functionDescription':_0x55ad3a});const _0xb61737=_0x43748e[_0x4287bd(0x111)];try{await(0x0,_0x40e444[_0x4287bd(0x953)])(_0x3af573[_0x4287bd(0x7b4)](),_0x4287bd(0x5d1))({'vendorId':_0xb61737});}catch(_0x1007d2){throw console['error'](_0x1007d2),new Error('Insufficient\x20credits');}const _0x5598a8=(await(0x0,_0x19c8f0[_0x4287bd(0xa82)])((0x0,_0x19c8f0[_0x4287bd(0x31b)])(_0x3af573[_0x4287bd(0x586)](),_0x4287bd(0x918),_0xb61737)))['data']();return _0x5598a8&&_0x5598a8['organizationId']||(console[_0x4287bd(0x766)](new Date()+_0x4287bd(0x22b),_0x495e1a[_0x4287bd(0x9a7)],_0x2e4613['get'](_0x495e1a['modelId'])[_0x4287bd(0x11d)]),_0x495e1a[_0x4287bd(0x9a7)]=_0x2e4613['get'](_0x495e1a[_0x4287bd(0x9a7)])[_0x4287bd(0x11d)]),{'description':_0x55ad3a,'params':_0x351b2e,'callback':async _0x2b6e8f=>_0x573edf(_0x495e1a,_0x3f655b,_0x2b6e8f,_0x46169f,_0x5117ac,_0x43748e['threadId'])};}(_0xab09bd,_0x54d64f,_0x18c8e1,_0x382645,_0x3876df);case _0x46b128['GenerativeAIInferenceToolType'][_0x5629a7(0x1f0)]:return async function(_0x1ae8fb,_0x157e06,_0x298c3d){const _0x2fe658=_0x5629a7,_0x4713d1='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x60eaf5={'code':{'type':_0x46b128[_0x2fe658(0x5cf)][_0x2fe658(0x82a)]}};return await _0x145894[_0x2fe658(0x7e9)]({'jobType':_0x188c83['JobContext'],'type':_0x3bfdb7['LoadSkillFunction'],'jobId':_0x1ae8fb,'agentId':_0x157e06,'threadId':_0x298c3d,'traceLevel':_0x557626[_0x2fe658(0x379)],'startTime':Date[_0x2fe658(0x31e)](),'timestamp':Date[_0x2fe658(0x31e)](),'status':_0x2fe658(0x855),'function':_0x2e4ec8['ExecuteCode'],'params':_0x60eaf5,'functionDescription':_0x4713d1}),{'description':_0x4713d1,'params':_0x60eaf5,'callback':async _0x529348=>_0x5a8048(_0x529348,_0x1ae8fb,_0x157e06,_0x298c3d)};}(_0xab09bd,_0x54d64f,_0x18c8e1[_0x5629a7(0x80)]);case _0x46b128[_0x5629a7(0x713)][_0x5629a7(0x9b2)]:return async function(_0x3867b7,_0x1f6f2c,_0x44d5de,_0x4e5ce8,_0x4c95de){const _0x27b67d=_0x5629a7,_0x20067a=[',',';','\x09','|',':'],_0x3a05d4=['\x22','\x27'];let _0x1a3bcc='';if(_0x27b67d(0x809)===_0x4e5ce8[_0x27b67d(0x8bd)]?.['file.type']&&_0x4e5ce8[_0x27b67d(0x8bd)]?.[_0x27b67d(0x924)]&&(_0x1a3bcc=_0x4e5ce8[_0x27b67d(0x8bd)][_0x27b67d(0x924)]),''===_0x1a3bcc)throw new Error(_0x27b67d(0x8c7));const _0x2e848f=_0x1a3bcc[_0x27b67d(0x59a)]('\x0a')[0x0];let _0x4a17b6=null,_0x20a65f=null,_0x5e16c0=0x0;for(const _0x1db22a of _0x20067a){const _0x3723f4=(_0x2e848f[_0x27b67d(0x40d)](new RegExp('\x5c'+_0x1db22a,'g'))||[])['length'];_0x3723f4>_0x5e16c0&&(_0x5e16c0=_0x3723f4,_0x4a17b6=_0x1db22a);}_0x4a17b6||(_0x4a17b6=','),_0x5e16c0=0x0;for(const _0x2aa5d3 of _0x3a05d4){const _0x615762=(_0x2e848f['match'](new RegExp('\x5c'+_0x2aa5d3,'g'))||[])['length'];_0x615762>_0x5e16c0&&(_0x5e16c0=_0x615762,_0x20a65f=_0x2aa5d3);}_0x20a65f||(_0x20a65f='\x22');const _0x3915a5='Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20'+_0x2e848f[_0x27b67d(0x59a)](_0x4a17b6)[_0x27b67d(0x4a2)](',\x20'),_0x1c8d0d={'query':{'type':_0x46b128[_0x27b67d(0x5cf)][_0x27b67d(0x82a)]}};return await _0x145894[_0x27b67d(0x7e9)]({'jobType':_0x188c83[_0x27b67d(0x7c1)],'type':_0x3bfdb7[_0x27b67d(0x485)],'jobId':_0x3867b7,'agentId':_0x1f6f2c,'threadId':_0x44d5de,'traceLevel':_0x557626[_0x27b67d(0x379)],'startTime':Date[_0x27b67d(0x31e)](),'timestamp':Date[_0x27b67d(0x31e)](),'status':_0x27b67d(0x855),'function':_0x2e4ec8[_0x27b67d(0x9b2)],'params':_0x1c8d0d,'functionDescription':_0x3915a5}),{'description':_0x3915a5,'params':_0x1c8d0d,'callback':async _0x56a3f8=>{const _0x3dcc3e=_0x27b67d,_0xf69059=Date[_0x3dcc3e(0x31e)]();try{if(!_0x4c95de['queryFileConnector'])throw new Error(_0x3dcc3e(0x87e));if(_0x3dcc3e(0x3af)!=typeof _0x56a3f8?.[_0x3dcc3e(0x709)])throw new Error('Query\x20is\x20required');if(!_0x56a3f8[_0x3dcc3e(0x709)][_0x3dcc3e(0x9d0)]('FROM\x20file'))throw new Error(_0x3dcc3e(0x3a6));const _0x3ee794=await _0x4c95de[_0x3dcc3e(0x97b)][_0x3dcc3e(0x77e)](_0x1a3bcc,_0x56a3f8[_0x3dcc3e(0x709)],{'headers':!0x0,'quote':_0x20a65f,'separator':_0x4a17b6});await _0x145894[_0x3dcc3e(0x7e9)]({'jobType':_0x188c83[_0x3dcc3e(0x1db)],'type':_0x2e4ec8['QueryFile'],'jobId':_0x3867b7,'agentId':_0x1f6f2c,'threadId':_0x44d5de,'blockId':_0x3dcc3e(0x6b5),'traceLevel':_0x557626[_0x3dcc3e(0x379)],'startTime':_0xf69059,'timestamp':Date[_0x3dcc3e(0x31e)](),'status':_0x3dcc3e(0x855),'query':_0x56a3f8[_0x3dcc3e(0x709)],'results':_0x3ee794[_0x3dcc3e(0xa98)](0x0,0x3e8)});const _0x41d1a9=JSON[_0x3dcc3e(0x26a)](_0x3ee794);let _0x5811d2='';if(_0x41d1a9['length']>0x0){const _0x2d9c03=Object[_0x3dcc3e(0xa3d)](_0x41d1a9[0x0]);_0x5811d2=_0x2d9c03['map'](_0x5b5e1f=>'\x22'+_0x5b5e1f+'\x22')[_0x3dcc3e(0x4a2)](',')+'\x0a';for(const _0x5ac444 of _0x41d1a9)_0x5811d2+=_0x2d9c03[_0x3dcc3e(0x437)](_0x42db96=>'\x22'+_0x5ac444[_0x42db96]+'\x22')[_0x3dcc3e(0x4a2)](',')+'\x0a';}return _0x4e5ce8['internalContext']||(_0x4e5ce8[_0x3dcc3e(0x8bd)]={}),_0x4e5ce8[_0x3dcc3e(0x8bd)][_0x3dcc3e(0x924)]=_0x5811d2,_0x4e5ce8[_0x3dcc3e(0x8bd)][_0x3dcc3e(0xa96)]='text/csv',_0x3ee794[_0x3dcc3e(0xa98)](0x0,0x3e8);}catch(_0x156e56){return console['error'](_0x156e56),await _0x145894[_0x3dcc3e(0x7e9)]({'jobType':_0x188c83[_0x3dcc3e(0x1db)],'type':_0x2e4ec8[_0x3dcc3e(0x9b2)],'jobId':_0x3867b7,'blockId':_0x3dcc3e(0x6b5),'traceLevel':_0x557626['Info'],'startTime':_0xf69059,'timestamp':Date['now'](),'status':_0x3dcc3e(0xa14),'errorDetails':_0x5005d9(_0x156e56),'agentId':_0x1f6f2c,'threadId':_0x44d5de,'query':_0x56a3f8?.[_0x3dcc3e(0x709)]??'','results':_0x3dcc3e(0x5dc)}),_0x156e56 instanceof Error?_0x156e56[_0x3dcc3e(0xa3f)]:'Error\x20querying\x20file';}}};}(_0xab09bd,_0x54d64f,_0x18c8e1[_0x5629a7(0x80)],_0x310b1a,_0x3876df);case _0x46b128[_0x5629a7(0x713)][_0x5629a7(0x158)]:return async function(_0x3b4ae9,_0x22e634,_0x246db2,_0x11a5a){const _0x1cd132=_0x5629a7,_0x2e52c6=_0x1cd132(0x2f4),_0x2bba67={'query':{'type':_0x46b128[_0x1cd132(0x5cf)]['String']}};return await _0x145894['trace']({'jobType':_0x188c83[_0x1cd132(0x7c1)],'type':_0x3bfdb7[_0x1cd132(0x485)],'jobId':_0x3b4ae9,'agentId':_0x22e634,'threadId':_0x246db2,'traceLevel':_0x557626[_0x1cd132(0x379)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x2e4ec8[_0x1cd132(0x316)],'params':_0x2bba67,'functionDescription':_0x2e52c6}),{'description':_0x2e52c6,'params':_0x2bba67,'callback':async _0x94b761=>_0x551f67(_0x11a5a,_0x94b761,_0x3b4ae9,_0x22e634,_0x246db2)};}(_0xab09bd,_0x54d64f,_0x18c8e1[_0x5629a7(0x80)],_0x3876df);case _0x46b128[_0x5629a7(0x713)][_0x5629a7(0x9d2)]:return _0x55cdf4(_0xab09bd,_0x54d64f,_0x18c8e1[_0x5629a7(0x80)]);case _0x46b128[_0x5629a7(0x713)][_0x5629a7(0x2aa)]:return _0x55cdf4(_0xab09bd,_0x54d64f,_0x18c8e1['threadId'],!0x1);case _0x46b128[_0x5629a7(0x713)][_0x5629a7(0xa48)]:return async function(_0x882512,_0x5d9ec9,_0x214b36,_0x37c11f){const _0x3cdafd=_0x5629a7,_0x59540b='Write\x20text\x20data\x20to\x20a\x20file.',_0x104bc3={'text':{'type':_0x46b128[_0x3cdafd(0x5cf)][_0x3cdafd(0x82a)]}};return await _0x145894[_0x3cdafd(0x7e9)]({'jobType':_0x188c83[_0x3cdafd(0x7c1)],'type':_0x3bfdb7[_0x3cdafd(0x485)],'jobId':_0x882512,'agentId':_0x5d9ec9,'threadId':_0x214b36,'traceLevel':_0x557626[_0x3cdafd(0x379)],'startTime':Date[_0x3cdafd(0x31e)](),'timestamp':Date[_0x3cdafd(0x31e)](),'status':_0x3cdafd(0x855),'function':_0x2e4ec8['WriteFile'],'params':_0x104bc3,'functionDescription':_0x59540b}),{'description':_0x59540b,'params':_0x104bc3,'callback':async _0x3a384f=>{const _0x200b2e=_0x3cdafd,_0x103f97=Date[_0x200b2e(0x31e)]();try{if(_0x200b2e(0x3af)!=typeof _0x3a384f?.['text'])throw new Error(_0x200b2e(0x168));return await _0x145894[_0x200b2e(0x7e9)]({'jobType':_0x188c83[_0x200b2e(0x1db)],'type':_0x2e4ec8['WriteFile'],'jobId':_0x882512,'agentId':_0x5d9ec9,'threadId':_0x214b36,'blockId':'write-file','traceLevel':_0x557626[_0x200b2e(0x379)],'startTime':_0x103f97,'timestamp':Date['now'](),'status':_0x200b2e(0x855),'content':_0x3a384f[_0x200b2e(0x88)]}),_0x37c11f[_0x200b2e(0x8bd)]||(_0x37c11f[_0x200b2e(0x8bd)]={}),_0x37c11f['internalContext'][_0x200b2e(0x924)]=_0x3a384f[_0x200b2e(0x88)],_0x37c11f[_0x200b2e(0x8bd)][_0x200b2e(0xa96)]=_0x200b2e(0x6ba),'Done';}catch(_0x2f50aa){return console[_0x200b2e(0xa14)](_0x2f50aa),await _0x145894[_0x200b2e(0x7e9)]({'jobType':_0x188c83[_0x200b2e(0x1db)],'type':_0x2e4ec8['WriteFile'],'jobId':_0x882512,'blockId':_0x200b2e(0x2c7),'traceLevel':_0x557626[_0x200b2e(0x379)],'startTime':_0x103f97,'timestamp':Date[_0x200b2e(0x31e)](),'status':_0x200b2e(0xa14),'errorDetails':_0x5005d9(_0x2f50aa),'agentId':_0x5d9ec9,'threadId':_0x214b36,'content':_0x200b2e(0x3af)==typeof _0x3a384f?.[_0x200b2e(0x88)]?_0x3a384f['text']:''}),_0x2f50aa instanceof Error?_0x2f50aa['message']:_0x200b2e(0x5d6);}}};}(_0xab09bd,_0x54d64f,_0x18c8e1[_0x5629a7(0x80)],_0x310b1a);}throw new Error(_0x5629a7(0xa8a));}function _0x5005d9(_0x1b0c9f){const _0x3ad958=_0x47ccb7;try{return JSON[_0x3ad958(0xa26)](_0x1b0c9f);}catch(_0x57a722){return _0x1b0c9f instanceof Error?_0x1b0c9f[_0x3ad958(0x597)]():'Error\x20fetching\x20context';}}async function _0x5a3a1a(_0x382588,_0x882f76,_0x5a5a94){const _0x742eef=_0x47ccb7,_0x584af0=_0x882f76[_0x742eef(0x683)]??(0x0,_0x4c8224['v4'])(),_0x5afc80={'type':_0x742eef(0x806),'context':[],'internalContext':_0x882f76[_0x742eef(0x8bd)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x3da02a=_0x882f76[_0x742eef(0x111)];try{await(0x0,_0x40e444[_0x742eef(0x953)])(_0x3af573[_0x742eef(0x7b4)](),'validateVendorCredits')({'vendorId':_0x3da02a});}catch(_0x21d5ac){throw console['error'](_0x21d5ac),new Error(_0x742eef(0x7c6));}const _0x323c5b=(await(0x0,_0x19c8f0[_0x742eef(0xa82)])((0x0,_0x19c8f0[_0x742eef(0x31b)])(_0x3af573['getFirestore'](),_0x742eef(0x918),_0x3da02a)))['data']();_0x323c5b&&_0x323c5b[_0x742eef(0xec)]||(console[_0x742eef(0x766)](new Date()+'\x20Fallback\x20model',_0x882f76['model'],_0x2e4613[_0x742eef(0x4ab)](_0x882f76['model'])[_0x742eef(0x11d)]),_0x882f76[_0x742eef(0x4ed)]=_0x2e4613[_0x742eef(0x4ab)](_0x882f76['model'])['fallbackModel']);const _0xb30e56=await async function(_0x201386,_0x42482a,_0x5d83d1,_0x4929d3,_0x521679){const _0x1d9400=_0x742eef,_0x396f55=_0x521679[_0x1d9400(0x124)][_0x1d9400(0x1b5)](_0x881d65=>_0x881d65['id']===_0x5d83d1[_0x1d9400(0x4ed)]);if(!_0x396f55)throw new Error(_0x1d9400(0x712));const _0x2ee19e=_0x521679['generativeAIWorkerConnectors'][_0x1d9400(0x1b5)](_0x45a72e=>_0x45a72e[_0x1d9400(0x7e1)]()===_0x396f55[_0x1d9400(0x731)]);if(!_0x2ee19e)throw new Error(_0x1d9400(0x82f));const _0x3b5392=await _0x132873(_0x201386,_0x42482a,_0x5d83d1,_0x4929d3,_0x5d83d1[_0x1d9400(0x292)]??[],_0x521679);return _0x2ee19e[_0x1d9400(0x3f7)]({'type':_0x1d9400(0x806),'prompt':_0x5d83d1[_0x1d9400(0x806)],'instructions':_0x5d83d1[_0x1d9400(0x8fa)],'reasoning':_0x5d83d1[_0x1d9400(0x34f)],'grammar':_0x5d83d1[_0x1d9400(0xa5a)],'temperature':_0x5d83d1[_0x1d9400(0x605)],'maxTokens':_0x5d83d1[_0x1d9400(0x161)],'history':_0x5d83d1[_0x1d9400(0x3bc)],'functions':_0x3b5392,'threadId':_0x5d83d1[_0x1d9400(0x80)]},{'model':_0x396f55,'sequences':Array[_0x1d9400(0x48b)](_0x3b5392[_0x1d9400(0xa3d)]())[_0x1d9400(0xa13)](_0x2f0363=>_0x2f0363[_0x1d9400(0xa7b)](_0x1d9400(0x3f0)))?0x2:0x1});}(_0x382588,_0x584af0,_0x882f76,_0x5afc80,_0x5a5a94);return _0x145894[_0x742eef(0x96f)](_0x382588,_0x882f76[_0x742eef(0x4ed)],_0xb30e56[_0x742eef(0x93e)]??0x0,_0xb30e56['outputTokens']??0x0),console[_0x742eef(0x766)](new Date()+_0x742eef(0x9e8),_0x882f76[_0x742eef(0x4ed)],_0xb30e56[_0x742eef(0x93e)]??0x0,_0xb30e56[_0x742eef(0x309)]??0x0),{'type':_0x742eef(0x806),'output':_0xb30e56[_0x742eef(0x995)],'resultFile':_0xb30e56['resultFile'],'context':_0x5afc80[_0x742eef(0x7d2)],'internalContext':_0x5afc80[_0x742eef(0x8bd)]??{},'inputTokens':_0xb30e56[_0x742eef(0x93e)]??0x0,'outputTokens':_0xb30e56['outputTokens']??0x0};}async function _0x37d582(_0x5c6691,_0x4277f5){const _0x323efc=_0x47ccb7,_0x3edbd8=await async function(_0x3fd7ac,_0x59d04a){const _0x48d5fd=a0_0x17d3,_0x168382=_0x59d04a[_0x48d5fd(0x124)][_0x48d5fd(0x1b5)](_0x28343d=>_0x28343d['id']===_0x3fd7ac[_0x48d5fd(0x4ed)]);if(!_0x168382)throw new Error(_0x48d5fd(0x712));const _0x1a08c6=_0x59d04a[_0x48d5fd(0x925)]['find'](_0x4d51a7=>_0x4d51a7[_0x48d5fd(0x7e1)]()===_0x168382[_0x48d5fd(0x731)]);if(!_0x1a08c6)throw new Error(_0x48d5fd(0x82f));return _0x1a08c6['processJob']({'type':'prompt','prompt':_0x3fd7ac[_0x48d5fd(0x88)],'threadId':_0x3fd7ac[_0x48d5fd(0x80)]},{'model':_0x168382,'sequences':0x1});}(_0x5c6691,_0x4277f5);return{'type':_0x323efc(0x806),'output':_0x3edbd8['output'],'inputTokens':_0x3edbd8[_0x323efc(0x93e)]??0x0,'outputTokens':_0x3edbd8['outputTokens']??0x0};}async function _0x5ae484(_0x3b7dad,_0x106896){const _0x4df865=_0x47ccb7;let _0x3dec2b='',_0x2a9751={'type':_0x4df865(0x806),'internalContext':_0x3b7dad[_0x4df865(0x8bd)]??{}};switch(_0x3b7dad[_0x4df865(0xa43)][_0x4df865(0x96)]){case _0x46b128[_0x4df865(0x713)][_0x4df865(0x856)]:case _0x46b128[_0x4df865(0x713)][_0x4df865(0x247)]:_0x3dec2b=await _0x435e49(_0x3b7dad['vendorId'],_0x3b7dad[_0x4df865(0xa43)],_0x106896,_0x3b7dad['arguments'],_0x2a9751);break;case _0x46b128[_0x4df865(0x713)][_0x4df865(0x765)]:_0x3dec2b=await _0x573edf(_0x3b7dad[_0x4df865(0xa43)],_0x106896,_0x3b7dad['arguments']);break;case _0x46b128[_0x4df865(0x713)]['Code']:_0x3dec2b=await _0x5a8048(_0x3b7dad[_0x4df865(0x9f1)]);break;case _0x46b128[_0x4df865(0x713)][_0x4df865(0x976)]:case _0x46b128[_0x4df865(0x713)][_0x4df865(0x5c0)]:_0x3dec2b=await _0x1f7061(_0x3b7dad[_0x4df865(0x111)],_0x3b7dad[_0x4df865(0xa43)],_0x3b7dad[_0x4df865(0x9f1)],_0x2a9751);break;case _0x46b128['GenerativeAIInferenceToolType'][_0x4df865(0x34c)]:_0x3dec2b=await _0x56e37f(_0x3b7dad[_0x4df865(0xa43)],_0x3b7dad['arguments'],_0x2a9751);break;case _0x46b128['GenerativeAIInferenceToolType'][_0x4df865(0x9d2)]:_0x3dec2b=await _0x5ae699(_0x3b7dad[_0x4df865(0x9f1)]);break;case _0x46b128[_0x4df865(0x713)][_0x4df865(0x2aa)]:_0x3dec2b=await _0x5ae699(_0x3b7dad[_0x4df865(0x9f1)],!0x1);break;case _0x46b128['GenerativeAIInferenceToolType']['Search']:_0x3dec2b=await _0x551f67(_0x106896,_0x3b7dad[_0x4df865(0x9f1)]);break;case _0x46b128[_0x4df865(0x713)][_0x4df865(0x2ee)]:_0x3dec2b=await _0x2f9731(_0x3b7dad['tool'],_0x2a9751);break;case _0x46b128[_0x4df865(0x713)]['FormSkillSetAnswer']:_0x3dec2b=await _0x5573d4(_0x3b7dad[_0x4df865(0xa43)],_0x3b7dad[_0x4df865(0x9f1)],_0x2a9751);break;case _0x46b128[_0x4df865(0x713)][_0x4df865(0xb5)]:_0x3dec2b=await _0x120021(_0x3b7dad[_0x4df865(0xa43)],_0x2a9751);break;case _0x46b128[_0x4df865(0x713)][_0x4df865(0x998)]:_0x3b7dad['tool'][_0x4df865(0x960)]?_0x3dec2b=await _0x1ed4f9(_0x3b7dad[_0x4df865(0x111)],_0x3b7dad[_0x4df865(0xa43)],_0x3b7dad[_0x4df865(0x9f1)],_0x2a9751):(_0x1ed4f9(_0x3b7dad['vendorId'],_0x3b7dad[_0x4df865(0xa43)],_0x3b7dad[_0x4df865(0x9f1)],_0x2a9751),_0x3dec2b=_0x4df865(0x95a));}return{'type':_0x4df865(0x13f),'output':_0x3dec2b,'internalContext':_0x2a9751[_0x4df865(0x8bd)]??{}};}async function*_0x47b142(_0xd3a107,_0x241e57,_0x24eddf){const _0x40bbf2=_0x47ccb7,_0x4b0edf=_0x241e57[_0x40bbf2(0x683)]??(0x0,_0x4c8224['v4'])(),_0x580b9f={'type':_0x40bbf2(0x806),'context':[],'internalContext':_0x241e57[_0x40bbf2(0x8bd)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x47b853=new _0x3f20e5(),_0x2a8684=_0x241e57['vendorId'];try{await(0x0,_0x40e444[_0x40bbf2(0x953)])(_0x3af573[_0x40bbf2(0x7b4)](),_0x40bbf2(0x5d1))({'vendorId':_0x2a8684});}catch(_0x399f99){throw console[_0x40bbf2(0xa14)](_0x40bbf2(0x6d3),_0x399f99),new Error(_0x40bbf2(0x7c6));}const _0x31a1b7=(await(0x0,_0x19c8f0[_0x40bbf2(0xa82)])((0x0,_0x19c8f0[_0x40bbf2(0x31b)])(_0x3af573['getFirestore'](),_0x40bbf2(0x918),_0x2a8684)))[_0x40bbf2(0x4ac)]();_0x31a1b7&&_0x31a1b7['organizationId']||(console[_0x40bbf2(0x766)](new Date()+_0x40bbf2(0x22b),_0x241e57[_0x40bbf2(0x4ed)],_0x2e4613['get'](_0x241e57[_0x40bbf2(0x4ed)])[_0x40bbf2(0x11d)]),_0x241e57[_0x40bbf2(0x4ed)]=_0x2e4613['get'](_0x241e57[_0x40bbf2(0x4ed)])[_0x40bbf2(0x11d)]),async function(_0x30375b,_0x2cd29f,_0x3011ff,_0x3956ac,_0x19f174,_0xac9c21){const _0x3cb84c=_0x40bbf2,_0x664d05=_0xac9c21[_0x3cb84c(0x124)][_0x3cb84c(0x1b5)](_0x1d5a74=>_0x1d5a74['id']===_0x3011ff['model']);if(!_0x664d05)throw new Error(_0x3cb84c(0x712));const _0x3059f5=_0xac9c21[_0x3cb84c(0x925)][_0x3cb84c(0x1b5)](_0x4a8476=>_0x4a8476['getEngineType']()===_0x664d05[_0x3cb84c(0x731)]);if(!_0x3059f5)throw new Error(_0x3cb84c(0x82f));const _0x16c5ec={'type':'prompt','output':''},_0x504947=await _0x132873(_0x30375b,_0x2cd29f,_0x3011ff,_0x3956ac,_0x3011ff[_0x3cb84c(0x292)]??[],_0xac9c21,_0x19f174);for await(const _0x5c75e5 of _0x3059f5[_0x3cb84c(0x20e)]({'type':_0x3cb84c(0x806),'prompt':_0x3011ff[_0x3cb84c(0x806)],'instructions':_0x3011ff[_0x3cb84c(0x8fa)],'reasoning':_0x3011ff[_0x3cb84c(0x34f)],'grammar':_0x3011ff['grammar'],'temperature':_0x3011ff[_0x3cb84c(0x605)],'maxTokens':_0x3011ff[_0x3cb84c(0x161)],'history':_0x3011ff[_0x3cb84c(0x3bc)],'functions':_0x504947,'threadId':_0x3011ff[_0x3cb84c(0x80)]},{'model':_0x664d05,'sequences':Array[_0x3cb84c(0x48b)](_0x504947[_0x3cb84c(0xa3d)]())[_0x3cb84c(0xa13)](_0x534c8f=>_0x534c8f[_0x3cb84c(0xa7b)](_0x3cb84c(0x3f0)))?0x2:0x1}))_0x19f174[_0x3cb84c(0x6f9)](_0x5c75e5),'string'==typeof _0x16c5ec[_0x3cb84c(0x995)]&&'string'==typeof _0x5c75e5[_0x3cb84c(0x995)]&&(_0x16c5ec[_0x3cb84c(0x995)]+=_0x5c75e5['output']),_0x16c5ec[_0x3cb84c(0x93e)]=_0x5c75e5[_0x3cb84c(0x93e)],_0x16c5ec[_0x3cb84c(0x309)]=_0x5c75e5[_0x3cb84c(0x309)];await _0x301533[_0x3cb84c(0x8f)](0x1),_0x19f174['emit'](void 0x0);}(_0xd3a107,_0x4b0edf,_0x241e57,_0x580b9f,_0x47b853,_0x24eddf);let _0x394d83,_0xcb6af7='',_0x4d82aa=0x0,_0x1c695a=0x0,_0x2b62a5={'type':_0x40bbf2(0x806)};for(;;){const _0x2793c4=await _0x47b853['once']();if(!_0x2793c4)break;_0xcb6af7+=_0x2793c4['output'],_0x2793c4['resultFile']&&(_0x394d83=_0x2793c4[_0x40bbf2(0x1f9)]),_0x2b62a5={'type':_0x40bbf2(0x806),'output':_0x2793c4['output'],'context':_0x580b9f['context'],'internalContext':{},'inputTokens':_0x2793c4[_0x40bbf2(0x93e)]??0x0,'outputTokens':_0x2793c4[_0x40bbf2(0x309)]??0x0},_0x4d82aa+=_0x2793c4[_0x40bbf2(0x93e)]??0x0,_0x1c695a+=_0x2793c4['outputTokens']??0x0,((_0x2793c4[_0x40bbf2(0x93e)]??0x0)>0x0||(_0x2793c4[_0x40bbf2(0x309)]??0x0)>0x0)&&console[_0x40bbf2(0x766)](new Date()+_0x40bbf2(0x5f4),_0x241e57[_0x40bbf2(0x4ed)],_0x2793c4[_0x40bbf2(0x93e)]??0x0,_0x2793c4[_0x40bbf2(0x309)]??0x0),yield _0x2b62a5;}_0x145894['logUsage'](_0xd3a107,_0x241e57[_0x40bbf2(0x4ed)],_0x4d82aa,_0x1c695a),console['log'](new Date()+_0x40bbf2(0x457),_0x241e57[_0x40bbf2(0x4ed)],_0x4d82aa,_0x1c695a),yield{..._0x2b62a5,'output':'','resultFile':_0x394d83,'internalContext':_0x580b9f[_0x40bbf2(0x8bd)]??{}};}async function _0x2e9fb4(_0x570d84,_0x940162,_0x379a9e,_0x215a03,_0x454273,_0x510759){const _0x4b4fbf=_0x47ccb7,_0x5899ca=Date[_0x4b4fbf(0x31e)]();if(!_0x510759[_0x4b4fbf(0x124)][_0x4b4fbf(0x1b5)](_0x930f0d=>_0x930f0d['id']===_0x215a03['modelId']))throw new Error(_0x4b4fbf(0x712));const _0x40a7df=(0x0,_0x4c8224['v4'])(),_0x3f015a=[];_0x3f015a[_0x4b4fbf(0x5c5)]({'role':_0x4b4fbf(0x6f6),'content':_0x215a03['instructions']}),_0x3f015a[_0x4b4fbf(0x5c5)]({'role':_0x4b4fbf(0x14a),'content':_0x379a9e});const _0x430eb3=await fetch(_0x501e0e[_0x4b4fbf(0x7c7)]+'/chat/completions',{'method':_0x4b4fbf(0x6e2),'headers':{'Content-Type':'application/json','x-vendor-id':_0x570d84},'body':JSON['stringify']({'model':_0x215a03['modelId'],'messages':_0x3f015a,'max_completion_tokens':_0x215a03[_0x4b4fbf(0x161)],'temperature':_0x215a03['temperature'],'threadId':_0x40a7df})}),_0x2c3d0f=(await _0x430eb3[_0x4b4fbf(0x97f)]())['choices'][0x0]['message'][_0x4b4fbf(0x3d9)];await _0x145894['trace']({'jobType':_0x188c83[_0x4b4fbf(0x98f)],'type':_0x4c597f[_0x4b4fbf(0x856)],'jobId':_0x940162,'blockId':_0x215a03['id'],'traceLevel':_0x557626[_0x4b4fbf(0x5f5)],'timestamp':Date['now'](),'startTime':_0x5899ca,'status':_0x4b4fbf(0x855),'agentId':_0x40a7df,'content':_0x379a9e,'instructions':_0x215a03['instructions'],'result':_0x2c3d0f});const _0x3df730=[];if(_0x215a03[_0x4b4fbf(0x9cb)]?.[_0x4b4fbf(0xa13)](_0x23342c=>_0x23342c[_0x4b4fbf(0x96)]===_0x577b8e['Text']))return _0x3df730['push']({'content':_0x2c3d0f,'start':0x0,'length':_0x2c3d0f[_0x4b4fbf(0x583)]}),await _0x3f66be(_0x570d84,_0x940162,_0x3df730,_0x215a03,_0x454273,_0x510759),void await _0x3f66be(_0x570d84,_0x940162,_0x2c3d0f,_0x215a03,_0x454273,_0x510759);_0x3df730['push']({'content':_0x2c3d0f,'start':0x0,'length':_0x379a9e[_0x4b4fbf(0x583)]}),await _0x3f66be(_0x570d84,_0x940162,_0x3df730,_0x215a03,_0x454273,_0x510759);}async function _0x2c5b37(_0x51c0c7,_0x1096ee,_0x5b35e0,_0x4926b6,_0x6e76d6,_0x229659){const _0x1f31c3=_0x47ccb7,_0x427fc5=Date['now']();let _0x39eae5=[];if(_0x5b35e0 instanceof Array)for(const _0x34443c of _0x5b35e0){if(_0x1f31c3(0x3af)!=typeof _0x34443c[_0x1f31c3(0x3d9)])throw new Error(_0x1f31c3(0x405));_0x39eae5=_0x39eae5[_0x1f31c3(0x210)](_0x3b2319(_0x34443c[_0x1f31c3(0x3d9)],_0x4926b6,_0x34443c['start'],_0x34443c[_0x1f31c3(0x583)]));}else _0x39eae5=_0x3b2319(_0x5b35e0,_0x4926b6);await _0x145894[_0x1f31c3(0x7e9)]({'jobType':_0x188c83['Ingest'],'type':_0x4c597f[_0x1f31c3(0x8a)],'traceLevel':_0x557626[_0x1f31c3(0x5f5)],'jobId':_0x1096ee,'blockId':_0x4926b6['id'],'startTime':_0x427fc5,'timestamp':Date[_0x1f31c3(0x31e)](),'status':_0x1f31c3(0x855),'totalChunks':_0x39eae5['length'],'chunkSize':_0x4926b6[_0x1f31c3(0x178)][_0x1f31c3(0x8f6)]}),await _0x3f66be(_0x51c0c7,_0x1096ee,_0x39eae5,_0x4926b6,_0x6e76d6,_0x229659);}function _0x3b2319(_0x397f8b,_0x468664,_0x1a091e,_0x3e89cb){const _0x5cc064=_0x47ccb7,_0x2548fe=[];for(let _0x33061d=0x0;_0x33061d<_0x397f8b[_0x5cc064(0x583)];_0x33061d+=_0x468664['attributes']['size']){let _0x433c5f=_0x33061d-_0x468664[_0x5cc064(0x178)][_0x5cc064(0x52f)];_0x433c5f<0x0&&(_0x433c5f=0x0);let _0xced6ce=_0x33061d+_0x468664['attributes'][_0x5cc064(0x8f6)]+_0x468664[_0x5cc064(0x178)][_0x5cc064(0x52f)];_0xced6ce>_0x397f8b[_0x5cc064(0x583)]&&(_0xced6ce=_0x397f8b[_0x5cc064(0x583)]);const _0x13e34d=_0x397f8b[_0x5cc064(0xa98)](_0x433c5f,_0xced6ce);_0x2548fe[_0x5cc064(0x5c5)]({'content':_0x13e34d,'start':_0x1a091e??_0x33061d,'length':_0x3e89cb??(_0x33061d+_0x468664[_0x5cc064(0x178)]['size']>_0x397f8b[_0x5cc064(0x583)]?_0x397f8b['length']-_0x33061d:_0x468664[_0x5cc064(0x178)][_0x5cc064(0x8f6)])});}return _0x2548fe;}async function _0x9f2aff(_0x5aef6c,_0x49dd86,_0x7b056c,_0x508f09,_0x3cba8f,_0x5050a5){const _0x4e579b=_0x47ccb7,_0xe64377=Date[_0x4e579b(0x31e)]();let _0xf571d4;if(_0x7b056c[_0x4e579b(0x899)][_0x4e579b(0x96)][_0x4e579b(0xa7b)](_0x4e579b(0x719))||_0x332094(_0x7b056c[_0x4e579b(0x899)]['name'],_0x3e85af))_0xf571d4=await _0x7b056c[_0x4e579b(0x899)][_0x4e579b(0x88)]();else{if(!_0x5050a5[_0x4e579b(0x87f)]['supports'](_0x7b056c[_0x4e579b(0x899)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x7b056c[_0x4e579b(0x899)][_0x4e579b(0x96)]+_0x4e579b(0x8b)+_0x7b056c[_0x4e579b(0x899)][_0x4e579b(0xd7)]);_0xf571d4=await _0x5050a5['documentParserConnector']['parse'](_0x7b056c[_0x4e579b(0x899)]);}await _0x145894[_0x4e579b(0x7e9)]({'jobType':_0x188c83[_0x4e579b(0x98f)],'type':_0x4c597f[_0x4e579b(0x426)],'traceLevel':_0x557626[_0x4e579b(0x5f5)],'blockId':_0x508f09['id'],'jobId':_0x49dd86,'startTime':_0xe64377,'timestamp':Date[_0x4e579b(0x31e)](),'status':_0x4e579b(0x855),'documentType':_0x7b056c['file'][_0x4e579b(0x96)],'documentName':_0x7b056c[_0x4e579b(0x899)][_0x4e579b(0xd7)],'extractionMethod':_0x4e579b(0x9b5)}),await _0x3f66be(_0x5aef6c,_0x49dd86,_0xf571d4,_0x508f09,_0x3cba8f,_0x5050a5);const _0x3e3752=[{'content':_0xf571d4,'start':0x0,'length':_0xf571d4[_0x4e579b(0x583)]}];await _0x3f66be(_0x5aef6c,_0x49dd86,_0x3e3752,_0x508f09,_0x3cba8f,_0x5050a5);}const _0x3e85af=[_0x47ccb7(0x818),_0x47ccb7(0xac7),_0x47ccb7(0x326),_0x47ccb7(0x200),_0x47ccb7(0x77a),_0x47ccb7(0x715),_0x47ccb7(0x44f),_0x47ccb7(0x9a5),_0x47ccb7(0xa23),_0x47ccb7(0x213),_0x47ccb7(0x8f8),_0x47ccb7(0xa2f),_0x47ccb7(0x104),_0x47ccb7(0x617),_0x47ccb7(0x4e5),'.conf',_0x47ccb7(0x707),'.rb',_0x47ccb7(0x10a),_0x47ccb7(0x261),'.c',_0x47ccb7(0x88c),_0x47ccb7(0x682),'.r','.go',_0x47ccb7(0x205),_0x47ccb7(0xab1),'.kt',_0x47ccb7(0x12b),_0x47ccb7(0x1f2),_0x47ccb7(0x92f),_0x47ccb7(0x324),_0x47ccb7(0x4fd),_0x47ccb7(0x6af),_0x47ccb7(0x8cb),_0x47ccb7(0x25d),_0x47ccb7(0x160),'.exs','.vb',_0x47ccb7(0x2b5),'.tcl','.m','.vbs',_0x47ccb7(0x71f),_0x47ccb7(0x6bc),'.jl',_0x47ccb7(0x493),_0x47ccb7(0x49b),'.tsx',_0x47ccb7(0x54b),_0x47ccb7(0x603),'.jinja','.jinja2',_0x47ccb7(0x7ba),_0x47ccb7(0x602),_0x47ccb7(0x835),_0x47ccb7(0x93b),'.liquid',_0x47ccb7(0xa9e),_0x47ccb7(0x2c3),'.twig','.j2',_0x47ccb7(0xe2)];function _0x332094(_0xa8c716,_0x4876fb){const _0x307cf7=_0x47ccb7;return _0x4876fb[_0x307cf7(0x9d0)]('.'+(_0xa8c716[_0x307cf7(0x59a)]('.')[_0x307cf7(0x867)]()?.[_0x307cf7(0x980)]()||''));}async function _0x4962a4(_0x459bd5,_0x4499f7,_0x304382,_0x51d9aa,_0x202dc,_0x3cd671){const _0x18301b=_0x47ccb7,_0x59b08b=Date[_0x18301b(0x31e)](),_0x2ae511=new Set();let _0x302efd=0x0;for(const _0x49e65f of _0x304382){if(_0x18301b(0x3af)!=typeof _0x49e65f[_0x18301b(0x3d9)])throw new Error('Invalid\x20content\x20type');_0x302efd+=_0x49e65f[_0x18301b(0x3d9)][_0x18301b(0x583)],await _0x9a9068(_0x49e65f[_0x18301b(0x3d9)],_0x2ae511,_0x51d9aa,_0x3cd671[_0x18301b(0xa3b)]);}await _0x145894['trace']({'jobType':_0x188c83[_0x18301b(0x98f)],'type':_0x4c597f[_0x18301b(0x18f)],'jobId':_0x4499f7,'blockId':_0x51d9aa['id'],'traceLevel':_0x557626[_0x18301b(0x5f5)],'startTime':_0x59b08b,'timestamp':Date[_0x18301b(0x31e)](),'status':'success','contentLength':_0x302efd,'totalChunks':_0x304382 instanceof Array?_0x304382[_0x18301b(0x583)]:0x1,'entitiesExtracted':_0x2ae511,'totalEntities':_0x2ae511[_0x18301b(0x8f6)]}),await _0x3f66be(_0x459bd5,_0x4499f7,_0x2ae511,_0x51d9aa,_0x202dc,_0x3cd671);}async function _0x9a9068(_0x3874c4,_0x428453,_0x2fd9af,_0x522155){const _0x5d649=_0x47ccb7,_0x4d3f59=await _0x522155[_0x5d649(0x541)](_0x3874c4,{'ner':_0x2fd9af['attributes'][_0x5d649(0x9c5)],'noun':_0x2fd9af['attributes'][_0x5d649(0x2d4)],'propn':_0x2fd9af[_0x5d649(0x178)][_0x5d649(0x38d)],'verb':_0x2fd9af['attributes'][_0x5d649(0x148)]});for(const _0x3fd775 of _0x4d3f59)_0x428453[_0x5d649(0x7ce)](_0x3fd775);}async function _0x73e2b4(_0x28ed6,_0x29b1cc,_0x238128,_0x3b2885,_0x1627af){const _0x3caf18=_0x47ccb7,_0x445ffa=Date[_0x3caf18(0x31e)]();if(_0x238128[_0x3caf18(0xa6)]||(_0x238128[_0x3caf18(0xa6)]={}),_0x3caf18(0x3af)==typeof _0x29b1cc?_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x3d9)]=_0x29b1cc:_0x29b1cc instanceof Set?_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x92e)]=_0x29b1cc:_0x29b1cc instanceof Map?_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x661)]=_0x29b1cc:_0x29b1cc instanceof Array?_0x238128['accumulated'][_0x3caf18(0x776)]=_0x29b1cc:_0x238128['accumulated']['file']=_0x29b1cc,_0x238128[_0x3caf18(0x93a)]=_0x238128['timesCalled']?_0x238128['timesCalled']+0x1:0x1,_0x2a7ced(_0x238128,_0x3b2885['ingestBlocks'])>_0x238128[_0x3caf18(0x93a)])return;if(!(_0x238128['accumulated'][_0x3caf18(0x92e)]&&_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x899)]&&_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x3d9)]&&_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x776)]))throw new Error(_0x3caf18(0x35c));let _0x51959c=0x0;const _0x56e26a=_0x1627af['contentMediator'][_0x3caf18(0x5fe)](_0x238128['id']);for(const _0x268bb0 of _0x238128[_0x3caf18(0xa6)][_0x3caf18(0x92e)]){let _0x3a985c=[];_0x3a985c=_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x776)]['filter'](_0x1e7edf=>'string'==typeof _0x1e7edf[_0x3caf18(0x3d9)]&&_0x1e7edf['content'][_0x3caf18(0x9d0)](_0x268bb0));try{_0x56e26a[_0x3caf18(0x165)](_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x899)]['pathName'],_0x238128['accumulated'][_0x3caf18(0x3d9)],_0x3a985c,_0x268bb0),_0x51959c+=0x1;}catch(_0x4a97aa){}}if(_0x238128['accumulated'][_0x3caf18(0x661)]){for(const [_0x3bce00,_0x3fcbe6]of _0x238128[_0x3caf18(0xa6)][_0x3caf18(0x661)])for(const _0x75d22f of _0x3fcbe6)try{_0x56e26a[_0x3caf18(0x64d)](_0x3bce00,_0x75d22f);}catch(_0x2bc587){}await _0x145894['trace']({'jobType':_0x188c83['Ingest'],'type':_0x4c597f[_0x3caf18(0x120)],'jobId':_0x28ed6,'blockId':_0x238128['id'],'status':_0x3caf18(0x855),'startTime':_0x445ffa,'timestamp':Date[_0x3caf18(0x31e)](),'traceLevel':_0x557626[_0x3caf18(0x5f5)],'nodesAdded':_0x51959c,'entities':_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x92e)],'relations':_0x238128[_0x3caf18(0xa6)][_0x3caf18(0x661)]});}}async function _0x3e9def(_0x44fc1a,_0x3d00e8,_0x54dd69,_0x908ae7,_0xa47f1f,_0x239cbb){const _0x4c0329=_0x47ccb7,_0x5c2ed7=_0x239cbb[_0x4c0329(0x124)]['find'](_0x47dddc=>_0x47dddc['id']===_0x908ae7['id']);if(!_0x5c2ed7)throw new Error(_0x4c0329(0x712));switch(_0x5c2ed7['outputType']){case _0x46b128[_0x4c0329(0x38a)][_0x4c0329(0x1e3)]:if(_0x4c0329(0x3af)!=typeof _0x54dd69)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x27e814,_0x30a10b,_0x8c03f7,_0x35f0ab,_0x2dfdee,_0x54f878,_0x275d76){const _0x5122c0=_0x4c0329,_0x11807f=Date[_0x5122c0(0x31e)]();let _0xaefb7;const _0x5c5607=await fetch(_0x501e0e[_0x5122c0(0x7c7)]+_0x5122c0(0x5a7),{'method':_0x5122c0(0x6e2),'headers':{'Content-Type':_0x5122c0(0xadf),'x-vendor-id':_0x27e814},'body':JSON[_0x5122c0(0xa26)]({'messages':[{'role':_0x5122c0(0x14a),'content':_0x8c03f7}],'model':_0x35f0ab['id']})});_0xaefb7=(await _0x5c5607[_0x5122c0(0x97f)]())[_0x5122c0(0x6ff)][0x0][_0x5122c0(0xa3f)][_0x5122c0(0x3d9)],await _0x145894[_0x5122c0(0x7e9)]({'jobType':_0x188c83[_0x5122c0(0x98f)],'type':_0x4c597f[_0x5122c0(0x80a)],'jobId':_0x30a10b,'blockId':_0x2dfdee['id'],'traceLevel':_0x557626[_0x5122c0(0x5f5)],'timestamp':Date[_0x5122c0(0x31e)](),'startTime':_0x11807f,'status':_0x5122c0(0x855),'modelName':_0x35f0ab['id'],'inputType':_0x35f0ab[_0x5122c0(0x71d)],'outputType':_0x35f0ab['outputType'],'content':_0x8c03f7,'results':_0xaefb7}),await _0x3f66be(_0x27e814,_0x30a10b,_0xaefb7,_0x2dfdee,_0x54f878,_0x275d76);}(_0x44fc1a,_0x3d00e8,_0x54dd69,_0x5c2ed7,_0x908ae7,_0xa47f1f,_0x239cbb);break;case _0x46b128[_0x4c0329(0x38a)]['Vector']:if(!(_0x54dd69 instanceof Array))throw new Error(_0x4c0329(0x98a));await async function(_0x240b7f,_0x576937,_0x5c1ca0,_0xaba485,_0x355d51,_0x2f8ece,_0x19eb08){const _0x89fbc=_0x4c0329,_0x4b2d54=Date['now'](),_0xaba3b0=await fetch(_0x501e0e[_0x89fbc(0x7c7)]+_0x89fbc(0x81a),{'method':'POST','headers':{'Content-Type':_0x89fbc(0xadf),'x-vendor-id':_0x240b7f},'body':JSON[_0x89fbc(0xa26)]({'input':_0x5c1ca0['map'](_0x269e71=>_0x269e71['content']),'model':_0xaba485['id']})}),_0x45bd17=(await _0xaba3b0[_0x89fbc(0x97f)]())['data']['map'](_0x3b630d=>_0x3b630d[_0x89fbc(0x9e7)]);await _0x145894['trace']({'jobType':_0x188c83[_0x89fbc(0x98f)],'type':_0x4c597f[_0x89fbc(0x396)],'jobId':_0x576937,'blockId':_0x355d51['id'],'traceLevel':_0x557626[_0x89fbc(0x5f5)],'timestamp':Date[_0x89fbc(0x31e)](),'startTime':_0x4b2d54,'status':'success','modelName':_0xaba485['id'],'inputType':_0xaba485[_0x89fbc(0x71d)],'outputType':_0xaba485[_0x89fbc(0x744)],'totalVectors':_0x45bd17[_0x89fbc(0x583)]}),await _0x3f66be(_0x240b7f,_0x576937,_0x45bd17,_0x355d51,_0x2f8ece,_0x19eb08);}(_0x44fc1a,_0x3d00e8,_0x54dd69,_0x5c2ed7,_0x908ae7,_0xa47f1f,_0x239cbb);}}async function _0x1e39a6(_0x2c9f9a,_0x4fb532,_0x18599c,_0x7e0389,_0x168b15,_0x4632d7){const _0x39fabf=_0x47ccb7,_0x1f0d2f=Date[_0x39fabf(0x31e)]();if(_0x7e0389[_0x39fabf(0xa6)]||(_0x7e0389['accumulated']={}),_0x18599c instanceof Array?_0x7e0389[_0x39fabf(0xa6)]['index']=_0x18599c:_0x7e0389[_0x39fabf(0xa6)][_0x39fabf(0x92e)]=_0x18599c,_0x7e0389[_0x39fabf(0x93a)]=_0x7e0389['timesCalled']?_0x7e0389[_0x39fabf(0x93a)]+0x1:0x1,_0x2a7ced(_0x7e0389,_0x168b15[_0x39fabf(0x75b)])>_0x7e0389[_0x39fabf(0x93a)])return;if(!_0x7e0389[_0x39fabf(0xa6)]['index']||!_0x7e0389[_0x39fabf(0xa6)][_0x39fabf(0x92e)])throw new Error(_0x39fabf(0x4dc));const _0x2c4e5e=new Map();for(const _0x2a93a4 of _0x7e0389['accumulated'][_0x39fabf(0x776)]){if(_0x39fabf(0x3af)!=typeof _0x2a93a4[_0x39fabf(0x3d9)])throw new Error(_0x39fabf(0x405));_0x39a516(_0x2a93a4[_0x39fabf(0x3d9)],_0x7e0389[_0x39fabf(0xa6)][_0x39fabf(0x92e)],_0x2c4e5e);}await _0x145894[_0x39fabf(0x7e9)]({'jobType':_0x188c83[_0x39fabf(0x98f)],'type':_0x4c597f[_0x39fabf(0x829)],'jobId':_0x4fb532,'blockId':_0x7e0389['id'],'traceLevel':_0x557626[_0x39fabf(0x5f5)],'timestamp':Date[_0x39fabf(0x31e)](),'startTime':_0x1f0d2f,'status':'success','entities':_0x7e0389['accumulated'][_0x39fabf(0x92e)],'relations':_0x2c4e5e,'totalRelationsExtracted':_0x2c4e5e[_0x39fabf(0x8f6)]}),await _0x3f66be(_0x2c9f9a,_0x4fb532,_0x2c4e5e,_0x7e0389,_0x168b15,_0x4632d7);}function _0x39a516(_0x2c1640,_0x2701a5,_0x5d648f){const _0x4e4dac=_0x47ccb7;for(const _0x3b0e4e of _0x2701a5)for(const _0x2dd9cf of _0x2701a5){if(_0x3b0e4e===_0x2dd9cf)continue;const _0x3310d9=_0x2c1640[_0x4e4dac(0x593)](_0x3b0e4e),_0x4f7b69=_0x2c1640[_0x4e4dac(0x593)](_0x2dd9cf);-0x1!==_0x3310d9&&-0x1!==_0x4f7b69&&(_0x5d648f[_0x4e4dac(0x788)](_0x3b0e4e)||_0x5d648f[_0x4e4dac(0x9de)](_0x3b0e4e,new Set()),_0x5d648f[_0x4e4dac(0x4ab)](_0x3b0e4e)[_0x4e4dac(0x7ce)](_0x2dd9cf));}return _0x5d648f;}async function _0x348f55(_0x448772,_0x2cb019,_0x459389,_0x397750,_0x277326,_0x2af138){const _0x2f786b=_0x47ccb7,_0x2dd9a0=Date[_0x2f786b(0x31e)]();let _0x72288c=[];if(_0x459389 instanceof Array)for(const _0x34481a of _0x459389){if('string'!=typeof _0x34481a[_0x2f786b(0x3d9)])throw new Error('Invalid\x20content\x20type');const _0x1f6ce3=await _0x2af138[_0x2f786b(0xa3b)][_0x2f786b(0xa07)](_0x34481a[_0x2f786b(0x3d9)]);_0x72288c=_0x72288c['concat'](_0x1f6ce3[_0x2f786b(0x437)](_0x585383=>({'content':_0x585383,'start':_0x34481a[_0x2f786b(0x26c)],'length':_0x34481a[_0x2f786b(0x583)]})));}else _0x72288c=(await _0x2af138[_0x2f786b(0xa3b)][_0x2f786b(0xa07)](_0x459389))[_0x2f786b(0x437)](_0x2bd87d=>({'content':_0x2bd87d,'start':_0x459389[_0x2f786b(0x593)](_0x2bd87d),'length':_0x2bd87d[_0x2f786b(0x583)]}));await _0x145894[_0x2f786b(0x7e9)]({'jobType':_0x188c83['Ingest'],'type':_0x4c597f[_0x2f786b(0x777)],'jobId':_0x2cb019,'blockId':_0x397750['id'],'traceLevel':_0x557626[_0x2f786b(0x5f5)],'startTime':_0x2dd9a0,'timestamp':Date['now'](),'status':_0x2f786b(0x855),'totalSentences':_0x72288c[_0x2f786b(0x583)],'averageSentenceLength':_0x72288c['reduce']((_0x10d0f7,_0x2121d9)=>_0x10d0f7+_0x2121d9[_0x2f786b(0x583)],0x0)/_0x72288c[_0x2f786b(0x583)]}),await _0x3f66be(_0x448772,_0x2cb019,_0x72288c,_0x397750,_0x277326,_0x2af138);}async function _0x32d8f4(_0x4f2d45,_0x136083,_0x49172d,_0xeff8d6,_0x3ae8cb){const _0x551c10=_0x47ccb7,_0x26a512=_0x136083[_0x551c10(0x683)]??(0x0,_0x4c8224['v4'])(),_0x1e731b=Date['now']();await _0x145894[_0x551c10(0x7e9)]({'jobType':_0x188c83[_0x551c10(0x137)],'type':_0x4b17e8[_0x551c10(0x27e)],'jobId':_0x4f2d45,'blockId':_0x49172d['id'],'agentId':_0x26a512,'threadId':_0x136083[_0x551c10(0x80)],'traceLevel':_0x557626[_0x551c10(0x379)],'startTime':Date[_0x551c10(0x31e)](),'timestamp':Date[_0x551c10(0x31e)](),'status':_0x551c10(0x855),'initialPrompt':_0x136083[_0x551c10(0x806)]});const _0x4ffff1={'type':_0x551c10(0x806),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x136083['internalContext']&&(_0x4ffff1[_0x551c10(0x8bd)]=_0x136083[_0x551c10(0x8bd)]),await _0x5ca523(_0x4f2d45,_0x136083,_0x4ffff1,_0x49172d,_0xeff8d6,_0x3ae8cb),await _0x4c9d0b(_0x4f2d45,''+_0x136083['prompt'],_0x136083,_0x4ffff1,_0x49172d,_0xeff8d6,_0x3ae8cb);const {inputTokens:_0x4f6d35=0x0,outputTokens:_0x56ba5a=0x0,context:_0x1c9503=[]}=_0x4ffff1;await _0x145894[_0x551c10(0x7e9)]({'jobType':_0x188c83[_0x551c10(0x137)],'type':_0x4b17e8['FinalOutput'],'jobId':_0x4f2d45,'agentId':_0x26a512,'threadId':_0x136083['threadId'],'traceLevel':_0x557626['Info'],'startTime':_0x1e731b,'timestamp':Date[_0x551c10(0x31e)](),'blockId':_0x49172d['id'],'status':_0x551c10(0x855),'output':_0x4ffff1[_0x551c10(0x995)]?.['toString']()??'','prompt':_0x136083[_0x551c10(0x806)],'agentName':'','history':_0x136083[_0x551c10(0x3bc)]??[],'instructions':''+(_0x136083[_0x551c10(0x8fa)]??''),'ragContext':_0x1c9503,'inputTokens':_0x4f6d35,'outputTokens':_0x56ba5a});const _0x423e12=_0xeff8d6[_0x551c10(0x1b5)](_0x263bd0=>_0x263bd0[_0x551c10(0x96)]===_0x4b182d['Answer']),_0x3b1919=_0x423e12?.[_0x551c10(0xa6)]?.[_0x551c10(0x899)]?Buffer['from'](await _0x423e12[_0x551c10(0xa6)][_0x551c10(0x899)][_0x551c10(0x1a3)]())[_0x551c10(0x597)](_0x551c10(0xa3c)):void 0x0,_0x163254=_0x3b1919&&_0x423e12?.[_0x551c10(0xa6)]?.[_0x551c10(0x899)]?_0x551c10(0x74b)+_0x423e12[_0x551c10(0xa6)][_0x551c10(0x899)][_0x551c10(0x96)]+';base64,'+_0x3b1919:void 0x0;return{'type':_0x551c10(0x806),'output':_0x4ffff1[_0x551c10(0x995)],'context':_0x4ffff1[_0x551c10(0x7d2)],'internalContext':_0x4ffff1[_0x551c10(0x8bd)],'resultFile':_0x163254??void 0x0,'inputTokens':_0x4ffff1[_0x551c10(0x93e)]??0x0,'outputTokens':_0x4ffff1['outputTokens']??0x0};}async function*_0x8822d(_0x2ad739,_0x375c11,_0x2f36ef,_0x48d294,_0x5b5437){const _0x3adf03=_0x47ccb7,_0x40e168=_0x375c11[_0x3adf03(0x683)]??(0x0,_0x4c8224['v4'])(),_0xb5ff88=Date[_0x3adf03(0x31e)]();await _0x145894[_0x3adf03(0x7e9)]({'jobType':_0x188c83['Workflow'],'type':_0x4b17e8[_0x3adf03(0x27e)],'jobId':_0x2ad739,'agentId':_0x40e168,'threadId':_0x375c11[_0x3adf03(0x80)],'traceLevel':_0x557626['Info'],'startTime':Date[_0x3adf03(0x31e)](),'timestamp':Date['now'](),'blockId':_0x2f36ef['id'],'status':'success','initialPrompt':_0x375c11[_0x3adf03(0x806)]});const _0x18d13a={'type':_0x3adf03(0x806),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x375c11[_0x3adf03(0x8bd)]&&(_0x18d13a[_0x3adf03(0x8bd)]=_0x375c11[_0x3adf03(0x8bd)]);const _0x3fcaef=new _0x3f20e5();await _0x5ca523(_0x2ad739,_0x375c11,_0x18d13a,_0x2f36ef,_0x48d294,_0x5b5437),_0x4c9d0b(_0x2ad739,''+_0x375c11['prompt'],_0x375c11,_0x18d13a,_0x2f36ef,_0x48d294,_0x5b5437,_0x3fcaef);let _0x27bbbc='',_0x10e816={'type':_0x3adf03(0x806)};for(;;){const _0x387f66=await _0x3fcaef[_0x3adf03(0x293)]();if(!_0x387f66)break;_0x27bbbc+=_0x387f66['output'],_0x10e816={'type':'prompt','output':_0x387f66[_0x3adf03(0x995)],'context':_0x18d13a[_0x3adf03(0x7d2)],'resultFile':void 0x0,'inputTokens':(_0x18d13a['inputTokens']??0x0)+(_0x387f66[_0x3adf03(0x93e)]??0x0),'outputTokens':(_0x18d13a['outputTokens']??0x0)+(_0x387f66[_0x3adf03(0x309)]??0x0)},yield _0x10e816;}const _0x3d65ff=_0x48d294[_0x3adf03(0x1b5)](_0x46ebcd=>_0x46ebcd[_0x3adf03(0x96)]===_0x4b182d['Answer']),_0x54ab5d=_0x3d65ff?.[_0x3adf03(0xa6)]?.['file']?Buffer[_0x3adf03(0x48b)](await _0x3d65ff['accumulated'][_0x3adf03(0x899)][_0x3adf03(0x1a3)]())[_0x3adf03(0x597)]('base64'):void 0x0,_0x1a6f3f=_0x54ab5d&&_0x3d65ff?.[_0x3adf03(0xa6)]?.['file']?_0x3adf03(0x74b)+_0x3d65ff[_0x3adf03(0xa6)][_0x3adf03(0x899)][_0x3adf03(0x96)]+_0x3adf03(0x8fe)+_0x54ab5d:void 0x0;yield{..._0x10e816,'output':'','internalContext':_0x18d13a[_0x3adf03(0x8bd)],'resultFile':_0x1a6f3f??void 0x0};const {inputTokens:_0x1123fc=0x0,outputTokens:_0x1880be=0x0,context:_0x30fcf5=[]}=_0x10e816;await _0x145894[_0x3adf03(0x7e9)]({'jobType':_0x188c83[_0x3adf03(0x137)],'type':_0x4b17e8['FinalOutput'],'jobId':_0x2ad739,'agentId':_0x40e168,'threadId':_0x375c11[_0x3adf03(0x80)],'traceLevel':_0x557626[_0x3adf03(0x379)],'startTime':_0xb5ff88,'timestamp':Date['now'](),'blockId':_0x2f36ef['id'],'status':_0x3adf03(0x855),'output':_0x27bbbc,'prompt':_0x375c11[_0x3adf03(0x806)],'agentName':'','history':_0x375c11['history']??[],'instructions':''+(_0x375c11[_0x3adf03(0x8fa)]??''),'ragContext':_0x30fcf5,'inputTokens':_0x1123fc,'outputTokens':_0x1880be});}async function _0x5ca523(_0x3018b8,_0x47f098,_0x23dbe2,_0x1c39f2,_0x57e333,_0x36ac01){const _0x43beb5=_0x47ccb7;if(_0x47f098[_0x43beb5(0x6cc)]&&_0x1c39f2[_0x43beb5(0x9cb)]){const _0x41ff25=[];for(const _0x332e75 of _0x47f098[_0x43beb5(0x6cc)])_0x41ff25[_0x43beb5(0x5c5)](_0x995154(_0x332e75));_0x1c39f2[_0x43beb5(0x9cb)]['some'](_0x1dbd97=>_0x1dbd97['type']===_0x577b8e[_0x43beb5(0x3ae)])&&await async function(_0xd467d6,_0xbf3e66,_0x2047ab,_0x2e7262,_0x582c10,_0x1c7191,_0x357dc4){const _0x3dcd28=_0x43beb5;if(0x0===_0xbf3e66[_0x3dcd28(0x583)])return;const _0x3348d6=[];for(const _0x3c8739 of _0xbf3e66){const _0x1f7a56=_0x3c8739['type'];if(!_0x1f7a56[_0x3dcd28(0xa7b)]('application/pdf'))continue;const _0x1f494c=await _0x3c8739[_0x3dcd28(0x1a3)](),_0x4326ff=Buffer[_0x3dcd28(0x48b)](_0x1f494c)['toString'](_0x3dcd28(0xa3c));_0x3348d6['push'](_0x1f7a56+_0x3dcd28(0x8fe)+_0x4326ff);}if(_0x582c10[_0x3dcd28(0x9cb)])for(const _0x37d5bf of _0x582c10[_0x3dcd28(0x9cb)]){if(_0x37d5bf[_0x3dcd28(0x96)]!==_0x577b8e[_0x3dcd28(0x3ae)])continue;const _0x202aac=_0x1c7191['find'](_0x19a007=>_0x19a007[_0x3dcd28(0x9e)]===_0x37d5bf[_0x3dcd28(0x9e)]);if(_0x202aac){for(const _0x5ea593 of _0x3348d6)_0x202aac['type']===_0x4b182d[_0x3dcd28(0x856)]&&await _0x308dc8(_0xd467d6,_0x37d5bf[_0x3dcd28(0x96)],_0x5ea593,_0x2047ab,_0x2e7262,_0x202aac,_0x1c7191,_0x357dc4);}}}(_0x3018b8,_0x41ff25,_0x47f098,_0x23dbe2,_0x1c39f2,_0x57e333,_0x36ac01),_0x1c39f2['links'][_0x43beb5(0xa13)](_0x5672e7=>_0x5672e7[_0x43beb5(0x96)]===_0x577b8e[_0x43beb5(0x7f3)])&&await async function(_0x5bf73d,_0x176c58,_0xc2607b,_0x163b77,_0x4b16ed,_0x5c25c5,_0x2eb63e){const _0x514b6d=_0x43beb5;if(0x0===_0x176c58[_0x514b6d(0x583)])return;const _0x36f4ea=[];for(const _0x152b3a of _0x176c58){const _0x1db2ce=_0x152b3a[_0x514b6d(0x96)];if(!_0x1db2ce['startsWith'](_0x514b6d(0x532)))continue;const _0x3cd3b3=await _0x152b3a['arrayBuffer'](),_0x4f49b9=Buffer[_0x514b6d(0x48b)](_0x3cd3b3)[_0x514b6d(0x597)](_0x514b6d(0xa3c));_0x36f4ea[_0x514b6d(0x5c5)](_0x1db2ce+_0x514b6d(0x8fe)+_0x4f49b9);}if(_0x4b16ed['links'])for(const _0x41f47b of _0x4b16ed[_0x514b6d(0x9cb)]){if(_0x41f47b['type']!==_0x577b8e[_0x514b6d(0x7f3)])continue;const _0x27ce6b=_0x5c25c5[_0x514b6d(0x1b5)](_0x5f4b43=>_0x5f4b43[_0x514b6d(0x9e)]===_0x41f47b[_0x514b6d(0x9e)]);if(_0x27ce6b){for(const _0x14c7ed of _0x36f4ea)_0x27ce6b[_0x514b6d(0x96)]===_0x4b182d[_0x514b6d(0x856)]&&await _0x308dc8(_0x5bf73d,_0x41f47b[_0x514b6d(0x96)],_0x14c7ed,_0xc2607b,_0x163b77,_0x27ce6b,_0x5c25c5,_0x2eb63e);}}}(_0x3018b8,_0x41ff25,_0x47f098,_0x23dbe2,_0x1c39f2,_0x57e333,_0x36ac01),_0x1c39f2[_0x43beb5(0x9cb)][_0x43beb5(0xa13)](_0xfa2ec5=>_0xfa2ec5[_0x43beb5(0x96)]===_0x577b8e[_0x43beb5(0x2b6)])&&await async function(_0x3e2d94,_0x316ed0,_0x3d9356,_0x3b94e1,_0x2ce0b1,_0x118e0e,_0x54023e){const _0x24bbe3=_0x43beb5;if(0x0===_0x316ed0['length'])return;const _0x4f9e28=[];for(const _0x413b71 of _0x316ed0){const _0x231283=_0x413b71[_0x24bbe3(0x96)];if(!_0x231283['startsWith'](_0x24bbe3(0x46f))&&!_0x231283['startsWith'](_0x24bbe3(0x530)))continue;const _0x4be10b=await _0x413b71[_0x24bbe3(0x1a3)](),_0x1f1ba2=Buffer['from'](_0x4be10b)['toString'](_0x24bbe3(0xa3c));_0x4f9e28[_0x24bbe3(0x5c5)](_0x231283+';base64,'+_0x1f1ba2);}if(_0x2ce0b1[_0x24bbe3(0x9cb)])for(const _0x139021 of _0x2ce0b1[_0x24bbe3(0x9cb)]){if(_0x139021[_0x24bbe3(0x96)]!==_0x577b8e[_0x24bbe3(0x2b6)])continue;const _0xe169a7=_0x118e0e[_0x24bbe3(0x1b5)](_0x3054ac=>_0x3054ac[_0x24bbe3(0x9e)]===_0x139021[_0x24bbe3(0x9e)]);if(_0xe169a7){for(const _0x3ba22f of _0x4f9e28)_0xe169a7[_0x24bbe3(0x96)]===_0x4b182d[_0x24bbe3(0x856)]&&await _0x308dc8(_0x3e2d94,_0x139021[_0x24bbe3(0x96)],_0x3ba22f,_0x3d9356,_0x3b94e1,_0xe169a7,_0x118e0e,_0x54023e);}}}(_0x3018b8,_0x41ff25,_0x47f098,_0x23dbe2,_0x1c39f2,_0x57e333,_0x36ac01);}}function _0x995154(_0x32c338){const _0x5590c1=_0x47ccb7,_0x22c876=Uint8Array['from'](Buffer['from'](_0x32c338[_0x5590c1(0x3d9)],_0x5590c1(0xa3c))),_0x48e123=new Blob([_0x22c876],{'type':_0x32c338['type']});return new File([_0x48e123],_0x32c338['name'],{'type':_0x32c338[_0x5590c1(0x96)]});}function _0x5a7f45(_0x687acd,_0x4635bf){const _0x327fe6=_0x47ccb7;switch(_0x4635bf[_0x327fe6(0x959)]){case _0x39a0e4['Shared']:return _0x327fe6(0x231);case _0x39a0e4['Account']:return _0x687acd;case _0x39a0e4[_0x327fe6(0x2fe)]:default:return _0x4635bf['id'];}}async function _0x5eff2c(_0x330b48,_0xf5e84c,_0x4fa025,_0x459dc1,_0x467a03,_0x29c9bb){const _0x285670=_0x47ccb7,_0x221dab=Date['now']();var _0xcde1b7;if(_0x459dc1[_0x285670(0xa6)]||(_0x459dc1[_0x285670(0xa6)]={}),_0x4fa025 instanceof Array?(_0xcde1b7=_0x4fa025)[0x0]instanceof Array&&_0x285670(0x478)==typeof _0xcde1b7[0x0]?.[0x0]?_0x459dc1[_0x285670(0xa6)]['vectors']=_0x4fa025:_0x459dc1['accumulated'][_0x285670(0x776)]=_0x4fa025:'string'==typeof _0x4fa025?_0x459dc1[_0x285670(0xa6)][_0x285670(0x3d9)]=_0x4fa025:_0x459dc1['accumulated'][_0x285670(0x899)]=_0x4fa025,_0x459dc1[_0x285670(0x93a)]=_0x459dc1[_0x285670(0x93a)]?_0x459dc1['timesCalled']+0x1:0x1,!(_0x2a7ced(_0x459dc1,_0x467a03[_0x285670(0x75b)])>_0x459dc1['timesCalled'])){if('vector-database'===_0x459dc1['id']){if(!_0x459dc1[_0x285670(0xa6)][_0x285670(0x776)]||!_0x459dc1[_0x285670(0xa6)][_0x285670(0x729)]||!_0x459dc1[_0x285670(0xa6)]['file'])throw new Error(_0x285670(0x73a));if(!_0x29c9bb[_0x285670(0x74f)])throw new Error(_0x285670(0x412));const _0x23bc95=[];for(let _0x5339e6=0x0;_0x5339e6<_0x459dc1[_0x285670(0xa6)]['index'][_0x285670(0x583)];_0x5339e6++){const _0x4b24f0=_0x459dc1['accumulated'][_0x285670(0x729)][_0x5339e6],_0x464dbf=_0x459dc1[_0x285670(0xa6)][_0x285670(0x776)][_0x5339e6];_0x23bc95[_0x285670(0x5c5)]({'content':_0x4b24f0,'start':_0x464dbf[_0x285670(0x26c)],'length':_0x464dbf['length']});}const _0x18f5d1=_0x5a7f45(_0x330b48,_0x467a03);await _0x29c9bb[_0x285670(0x74f)][_0x285670(0x954)](_0x18f5d1,_0x467a03['id'],_0x459dc1['accumulated'][_0x285670(0x899)]['pathName'],_0x23bc95);}else{if(!(_0x459dc1[_0x285670(0xa6)][_0x285670(0x3d9)]&&_0x459dc1[_0x285670(0xa6)][_0x285670(0x776)]&&_0x459dc1[_0x285670(0xa6)]['vectors']&&_0x459dc1[_0x285670(0xa6)][_0x285670(0x899)]))throw new Error(_0x285670(0x73a));const _0x1d8dff=_0x29c9bb[_0x285670(0x9e3)][_0x285670(0x8f9)](_0x459dc1['id']);_0x1d8dff[_0x285670(0x17a)](_0x459dc1[_0x285670(0xa6)][_0x285670(0x899)][_0x285670(0x219)],_0x459dc1[_0x285670(0xa6)][_0x285670(0x3d9)],_0x459dc1[_0x285670(0xa6)][_0x285670(0x776)],_0x459dc1[_0x285670(0xa6)][_0x285670(0x729)]),await _0x145894['trace']({'jobType':_0x188c83[_0x285670(0x98f)],'type':_0x4c597f[_0x285670(0x543)],'jobId':_0xf5e84c,'blockId':_0x459dc1['id'],'traceLevel':_0x557626[_0x285670(0x5f5)],'startTime':_0x221dab,'timestamp':Date[_0x285670(0x31e)](),'status':'success','databaseName':_0x1d8dff['getName'](),'vectorsAdded':_0x459dc1[_0x285670(0xa6)]['vectors'][_0x285670(0x583)],'filePathName':_0x459dc1[_0x285670(0xa6)]['file'][_0x285670(0x219)]});}}}async function _0x13b057(_0x289483,_0x39a973,_0x30de15,_0x7828f,_0x1e4551,_0x318b71){const _0xab77f3=_0x47ccb7,_0x131482=Date[_0xab77f3(0x31e)]();let _0x27a5c3=[];if(_0x30de15 instanceof Array)for(const _0x908993 of _0x30de15){if(_0xab77f3(0x3af)!=typeof _0x908993[_0xab77f3(0x3d9)])throw new Error(_0xab77f3(0x405));_0x27a5c3=_0x27a5c3['concat'](_0x3ee39c(_0x908993[_0xab77f3(0x3d9)],_0x7828f,_0x908993[_0xab77f3(0x26c)],_0x908993[_0xab77f3(0x583)]));}else _0x27a5c3=_0x3ee39c(_0x30de15,_0x7828f);await _0x145894['trace']({'jobType':_0x188c83['Ingest'],'type':_0x4c597f[_0xab77f3(0x4f4)],'jobId':_0x39a973,'traceLevel':_0x557626[_0xab77f3(0x5f5)],'blockId':_0x7828f['id'],'startTime':_0x131482,'timestamp':Date[_0xab77f3(0x31e)](),'status':'success','totalChunks':_0x27a5c3[_0xab77f3(0x583)],'averageChunkLength':_0x27a5c3['reduce']((_0x425123,_0x3be50b)=>_0x425123+_0x3be50b['length'],0x0)/_0x27a5c3['length']}),await _0x3f66be(_0x289483,_0x39a973,_0x27a5c3,_0x7828f,_0x1e4551,_0x318b71);}function _0x3ee39c(_0x7491b0,_0x168eaa,_0x5e2104,_0x82c2b8){const _0x2f2219=_0x47ccb7,_0x1c57ca=[],_0x2dafe3=_0x7491b0[_0x2f2219(0x59a)]('\x20');let _0x5336b9='',_0x1a580f=-0x1,_0x239eff=0x0,_0x1b5a5d=0x0;for(const _0x15c72f of _0x2dafe3){if(_0x5336b9['length']+_0x15c72f[_0x2f2219(0x583)]>_0x168eaa[_0x2f2219(0x178)][_0x2f2219(0x8f6)]){const _0x5ca9ba=_0x5336b9['length'];let _0x325c24=_0x1a580f,_0x522a12='';for(;_0x325c24>=0x0&&_0x522a12[_0x2f2219(0x583)]+_0x2dafe3[_0x325c24]['length']<_0x168eaa[_0x2f2219(0x178)][_0x2f2219(0x52f)];)_0x522a12=_0x2dafe3[_0x325c24]+'\x20'+_0x522a12,_0x325c24--;let _0x547c06=_0x239eff,_0x542ade='';for(;_0x547c06<_0x2dafe3[_0x2f2219(0x583)]&&_0x542ade[_0x2f2219(0x583)]+_0x2dafe3[_0x547c06][_0x2f2219(0x583)]<_0x168eaa[_0x2f2219(0x178)][_0x2f2219(0x52f)];)_0x542ade+=_0x2dafe3[_0x547c06]+'\x20',_0x547c06++;_0x5336b9=_0x522a12+_0x5336b9+_0x542ade,_0x1c57ca[_0x2f2219(0x5c5)]({'content':_0x5336b9[_0x2f2219(0x930)](),'start':_0x5e2104??_0x1b5a5d,'length':_0x82c2b8??_0x5ca9ba}),_0x5336b9='',_0x1a580f=_0x239eff-0x1,_0x1b5a5d+=_0x5ca9ba;}_0x5336b9+=_0x15c72f+'\x20',_0x239eff++;}if(_0x5336b9[_0x2f2219(0x583)]>0x0){const _0x51ed02=_0x5336b9[_0x2f2219(0x583)];let _0x39b27e=_0x1a580f,_0xc347c='';for(;_0x39b27e>=0x0&&_0xc347c[_0x2f2219(0x583)]+_0x2dafe3[_0x39b27e][_0x2f2219(0x583)]<_0x168eaa[_0x2f2219(0x178)][_0x2f2219(0x52f)];)_0xc347c=_0x2dafe3[_0x39b27e]+'\x20'+_0xc347c,_0x39b27e--;_0x5336b9=_0xc347c+_0x5336b9,_0x1c57ca[_0x2f2219(0x5c5)]({'content':_0x5336b9[_0x2f2219(0x930)](),'start':_0x5e2104??_0x1b5a5d,'length':_0x82c2b8??_0x51ed02});}return _0x1c57ca;}async function _0x3f66be(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x157ec8,_0x43c749,_0x22389b){const _0x79943d=_0x47ccb7;for(const _0x5ebe7f of _0x157ec8['links']||[]){const _0x59dd8d=_0x43c749[_0x79943d(0x75b)][_0x79943d(0x1b5)](_0x4795f2=>_0x4795f2[_0x79943d(0x9e)]===_0x5ebe7f[_0x79943d(0x9e)]);if(_0x59dd8d)switch(_0x59dd8d[_0x79943d(0x96)]){case _0x31b828['Agent']:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x1e3)]&&_0x79943d(0x3af)==typeof _0x3ca1d7&&await _0x2e9fb4(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828[_0x79943d(0x8a)]:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x1e3)]&&_0x79943d(0x3af)==typeof _0x3ca1d7&&await _0x2c5b37(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array&&await _0x2c5b37(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828[_0x79943d(0x426)]:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e['File']&&await _0x9f2aff(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828[_0x79943d(0x637)]:if(_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array){if(!_0x43c749[_0x79943d(0x9a7)])throw new Error(_0x79943d(0x79c));const _0x1fc508={'type':_0x31b828['Model'],'id':_0x43c749[_0x79943d(0x9a7)],'uid':(0x0,_0x4c8224['v4'])(),'links':_0x59dd8d['links']};await _0x3e9def(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x1fc508,_0x43c749,_0x22389b);}break;case _0x31b828[_0x79943d(0x18f)]:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array&&await _0x4962a4(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828[_0x79943d(0x120)]:_0x5ebe7f['type']===_0x577b8e[_0x79943d(0x1e3)]&&_0x79943d(0x3af)==typeof _0x3ca1d7&&await _0x73e2b4(_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e['Index']&&_0x3ca1d7 instanceof Array&&await _0x73e2b4(_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f['type']===_0x577b8e['Entity']&&_0x3ca1d7 instanceof Set&&await _0x73e2b4(_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x896)]&&_0x3ca1d7 instanceof Map&&await _0x73e2b4(_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x3ae)]&&await _0x73e2b4(_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828['Model']:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e['Text']&&'string'==typeof _0x3ca1d7&&await _0x3e9def(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array&&await _0x3e9def(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828['RelationExtractor']:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array&&await _0x1e39a6(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x9c8)]&&_0x3ca1d7 instanceof Set&&await _0x1e39a6(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828['SentenceSplitter']:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x1e3)]&&_0x79943d(0x3af)==typeof _0x3ca1d7&&await _0x348f55(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array&&await _0x348f55(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828[_0x79943d(0x543)]:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x1e3)]&&_0x79943d(0x3af)==typeof _0x3ca1d7&&await _0x5eff2c(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array&&await _0x5eff2c(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f['type']===_0x577b8e[_0x79943d(0x15d)]&&_0x3ca1d7 instanceof Array&&await _0x5eff2c(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x3ae)]&&await _0x5eff2c(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);break;case _0x31b828[_0x79943d(0x4f4)]:_0x5ebe7f[_0x79943d(0x96)]===_0x577b8e[_0x79943d(0x1e3)]&&_0x79943d(0x3af)==typeof _0x3ca1d7&&await _0x13b057(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b),_0x5ebe7f['type']===_0x577b8e[_0x79943d(0xac)]&&_0x3ca1d7 instanceof Array&&await _0x13b057(_0x16a8e5,_0x5b1b01,_0x3ca1d7,_0x59dd8d,_0x43c749,_0x22389b);}}}function _0x2a7ced(_0x273e88,_0x23a642){const _0x20322a=_0x47ccb7;return _0x23a642[_0x20322a(0xac4)](_0x181a53=>_0x181a53[_0x20322a(0x9cb)]?.[_0x20322a(0xa13)](_0x398905=>_0x398905['uid']===_0x273e88[_0x20322a(0x9e)]))[_0x20322a(0x583)];}async function _0x7b76d2(_0x2414dc,_0x4ba6c9,_0x1c6a44,_0x3c6649,_0x2357ab,_0x26401e,_0x13491b){const _0x2884a8=_0x47ccb7;try{let _0x49d149;switch(_0x2357ab['type']){case _0x31b828[_0x2884a8(0x4f8)]:const _0x1f2034=_0x13491b[_0x2884a8(0x9e3)]['getObjectStoreBucket'](_0x2357ab['id']);_0x49d149=await _0x1f2034[_0x2884a8(0x4ab)](_0x1c6a44);break;case _0x31b828[_0x2884a8(0x1b6)]:const _0x3253e5=_0x13491b[_0x2884a8(0x9e3)]['getExternalStorageConnection'](_0x2357ab['id']);_0x49d149=await _0x3253e5['get'](_0x1c6a44);case _0x31b828[_0x2884a8(0x1e2)]:const _0x73f298=_0x1c6a44[_0x2884a8(0x59a)]('/')[_0x2884a8(0x867)]();if(!_0x73f298)throw new Error('Failed\x20to\x20get\x20filename');const _0xf7c2a0=_0x1c6a44[_0x2884a8(0x5f9)](_0x73f298,''),_0x384d55=Buffer[_0x2884a8(0x48b)](_0x3c6649,_0x2884a8(0xa3c));if(_0x49d149=new File([_0x384d55],_0x73f298),!_0x13491b[_0x2884a8(0x650)])throw new Error(_0x2884a8(0x5d5));await _0x13491b[_0x2884a8(0x650)][_0x2884a8(0xcf)](_0x49d149,_0xf7c2a0);}if(!_0x49d149)throw new Error(_0x2884a8(0x3bf));await _0x3f66be(_0x2414dc,_0x4ba6c9,{'file':_0x49d149,'pathName':_0x1c6a44},_0x2357ab,structuredClone(_0x26401e),_0x13491b);}catch(_0x2c67c3){console[_0x2884a8(0xa14)](_0x2884a8(0x42c),_0x2c67c3);}}async function _0x234bef(_0x27ae53,_0x47d56a,_0x53dc73,_0xc7f9cb,_0x2c4412,_0xf03f9f,_0x53c11b,_0x19f39f){const _0x359dc2=_0x47ccb7,_0x16f9de=Date[_0x359dc2(0x31e)](),_0x1055e3=new Set();if(_0xc7f9cb instanceof Array){for(const _0x17ea82 of _0xc7f9cb)await _0x2cf83d(_0x17ea82['content'],_0xf03f9f,_0x1055e3,_0x19f39f[_0x359dc2(0xa3b)]);}else await _0x2cf83d(_0xc7f9cb,_0xf03f9f,_0x1055e3,_0x19f39f[_0x359dc2(0xa3b)]);await _0x145894[_0x359dc2(0x7e9)]({'jobType':_0x188c83[_0x359dc2(0x845)],'type':_0x16d833[_0x359dc2(0x18f)],'jobId':_0x47d56a,'threadId':_0x53dc73,'blockId':_0xf03f9f['id'],'traceLevel':_0x557626[_0x359dc2(0x5f5)],'startTime':_0x16f9de,'timestamp':Date[_0x359dc2(0x31e)](),'status':_0x359dc2(0x855),'content':_0xc7f9cb,'entitiesExtracted':Array[_0x359dc2(0x48b)](_0x1055e3),'totalEntities':_0x1055e3['size']}),await _0x481269(_0x27ae53,_0x47d56a,_0x53dc73,_0x1055e3,_0x2c4412,_0xf03f9f,_0x53c11b,_0x19f39f);}async function _0x2cf83d(_0x58fb6c,_0x71603f,_0x2e5d81,_0x505c39){const _0x426b99=_0x47ccb7,_0x92a55f=await _0x505c39[_0x426b99(0x541)](_0x58fb6c,{'ner':_0x71603f[_0x426b99(0x178)]['ner'],'noun':_0x71603f['attributes'][_0x426b99(0x2d4)],'propn':_0x71603f[_0x426b99(0x178)]['propn'],'verb':_0x71603f[_0x426b99(0x178)][_0x426b99(0x148)]});for(const _0x1c0f74 of _0x92a55f)_0x2e5d81['add'](_0x1c0f74);}async function _0x4ab44c(_0xb70ebb,_0x5d485e,_0x1f0249,_0x193bf2,_0x2e2a20,_0x2ff69d,_0x231244,_0x12a347){const _0x49f3ae=_0x47ccb7,_0x505544=Date[_0x49f3ae(0x31e)]();if(_0x2ff69d[_0x49f3ae(0xa6)]||(_0x2ff69d[_0x49f3ae(0xa6)]={}),_0x193bf2 instanceof Array?(_0x2ff69d[_0x49f3ae(0xa6)][_0x49f3ae(0x87d)]||(_0x2ff69d['accumulated'][_0x49f3ae(0x87d)]=[]),_0x2ff69d['accumulated']['results'][_0x49f3ae(0x5c5)](..._0x193bf2)):_0x193bf2 instanceof Set?_0x2ff69d[_0x49f3ae(0xa6)]['entities']=_0x193bf2:_0x2ff69d[_0x49f3ae(0xa6)][_0x49f3ae(0x806)]=_0x193bf2,_0x2ff69d[_0x49f3ae(0x93a)]=_0x2ff69d['timesCalled']?_0x2ff69d[_0x49f3ae(0x93a)]+0x1:0x1,_0x20c033(_0x2ff69d,_0x231244[_0x49f3ae(0x833)])>_0x2ff69d[_0x49f3ae(0x93a)])return;if(!_0x2ff69d['accumulated'][_0x49f3ae(0x806)]&&!_0x2ff69d[_0x49f3ae(0xa6)][_0x49f3ae(0x87d)]||!_0x2ff69d[_0x49f3ae(0xa6)][_0x49f3ae(0x92e)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x14e88d=_0x12a347[_0x49f3ae(0x9e3)][_0x49f3ae(0x5fe)](_0x2ff69d['id'])['getContent'](Array[_0x49f3ae(0x48b)](_0x2ff69d[_0x49f3ae(0xa6)][_0x49f3ae(0x92e)]),_0x2ff69d['attributes'][_0x49f3ae(0x6fa)],_0x2ff69d['attributes'][_0x49f3ae(0xa8f)]);let _0x202614=[];for(const _0x559080 in _0x14e88d){const _0x517815=_0x14e88d[_0x559080];for(const _0x27eae6 of _0x517815){let _0x2ab5b1=0x0;if(_0x2ff69d[_0x49f3ae(0xa6)]['prompt']&&(_0x2ab5b1=await _0x12a347[_0x49f3ae(0xa3b)][_0x49f3ae(0x29f)](_0x2ff69d['accumulated'][_0x49f3ae(0x806)],_0x27eae6)),_0x2ff69d[_0x49f3ae(0xa6)]['results']){for(const _0x27ee0c of _0x2ff69d[_0x49f3ae(0xa6)][_0x49f3ae(0x87d)])_0x2ab5b1=Math[_0x49f3ae(0x6ce)](_0x2ab5b1,await _0x12a347[_0x49f3ae(0xa3b)][_0x49f3ae(0x29f)](_0x27ee0c['content'],_0x27eae6));}_0x2ab5b1<_0x2ff69d['attributes'][_0x49f3ae(0x35f)]||_0x202614[_0x49f3ae(0x5c5)]({'content':_0x27eae6,'relevance':_0x2ab5b1,'pathName':_0x559080});}}_0x202614=_0x202614[_0x49f3ae(0x5bd)]((_0x6dd572,_0x1b4de6)=>_0x1b4de6[_0x49f3ae(0x4aa)]-_0x6dd572[_0x49f3ae(0x4aa)])[_0x49f3ae(0xa9c)](0x0,_0x2ff69d['attributes']['topK']),await _0x145894[_0x49f3ae(0x7e9)]({'jobType':_0x188c83[_0x49f3ae(0x845)],'type':_0x16d833[_0x49f3ae(0x1bf)],'jobId':_0x5d485e,'threadId':_0x1f0249,'blockId':_0x2ff69d['id'],'traceLevel':_0x557626['Debug'],'timestamp':Date[_0x49f3ae(0x31e)](),'startTime':_0x505544,'status':_0x49f3ae(0x855),'content':_0x193bf2,'topResults':_0x202614,'numResults':_0x202614[_0x49f3ae(0x583)]}),await _0x481269(_0xb70ebb,_0x5d485e,_0x1f0249,_0x202614,_0x2e2a20,_0x2ff69d,_0x231244,_0x12a347);}async function _0x450f89(_0x17fcc2,_0x185ede,_0x54fdb0,_0x341465,_0x43326b,_0x471405,_0x2ef424,_0x585340){const _0x3a23dc=_0x47ccb7,_0x3ad556=_0x585340[_0x3a23dc(0x124)][_0x3a23dc(0x1b5)](_0x3ebec7=>_0x3ebec7['id']===_0x471405['id']);if(!_0x3ad556)throw new Error(_0x3a23dc(0x712));let _0xdd4305='';switch(_0xdd4305=_0x341465 instanceof Array?_0x341465[_0x3a23dc(0x437)](_0x54f8b5=>_0x54f8b5[_0x3a23dc(0x3d9)])[_0x3a23dc(0x4a2)](',\x20'):_0x341465,_0x3ad556['outputType']){case _0x46b128[_0x3a23dc(0x38a)]['Text']:await async function(_0x47ff23,_0x17c82c,_0x5dea26,_0x48e331,_0x5ad4b9,_0x2fadd3,_0x279c4a,_0x15b007,_0x4c453f){const _0x211196=_0x3a23dc,_0xcce07e=Date[_0x211196(0x31e)](),_0x3e69ee=await fetch(_0x501e0e['apiUrl']+_0x211196(0x5a7),{'method':_0x211196(0x6e2),'headers':{'Content-Type':_0x211196(0xadf),'x-vendor-id':_0x47ff23},'body':JSON[_0x211196(0xa26)]({'messages':[{'role':_0x211196(0x14a),'content':_0x48e331}],'model':_0x2fadd3['id']})}),_0x5dcea4=(await _0x3e69ee[_0x211196(0x97f)]())[_0x211196(0x6ff)][0x0][_0x211196(0xa3f)]['content'];await _0x145894[_0x211196(0x7e9)]({'jobType':_0x188c83['Retrieve'],'type':_0x16d833['ModelText'],'jobId':_0x17c82c,'threadId':_0x5dea26,'blockId':_0x279c4a['id'],'traceLevel':_0x557626[_0x211196(0x5f5)],'startTime':_0xcce07e,'timestamp':Date[_0x211196(0x31e)](),'status':_0x211196(0x855),'modelName':_0x2fadd3['id'],'content':_0x48e331,'newPrompt':_0x5dcea4,'inputType':_0x2fadd3['inputType'],'outputType':_0x2fadd3[_0x211196(0x744)]}),await _0x481269(_0x47ff23,_0x17c82c,_0x5dea26,_0x5dcea4,_0x5ad4b9,_0x279c4a,_0x15b007,_0x4c453f);}(_0x17fcc2,_0x185ede,_0x54fdb0,_0xdd4305,_0x43326b,_0x3ad556,_0x471405,_0x2ef424,_0x585340);break;case _0x46b128['GenerativeAIModelOutputType'][_0x3a23dc(0x15d)]:await async function(_0x10d0b2,_0x16d046,_0x314d23,_0x26e67c,_0x1cc5ca,_0x21a68f,_0x15c3d5,_0x47a98d,_0x200f85){const _0x1703bf=_0x3a23dc,_0x3a2b09=Date[_0x1703bf(0x31e)](),_0xa46db0=await fetch(_0x501e0e['apiUrl']+_0x1703bf(0x81a),{'method':_0x1703bf(0x6e2),'headers':{'Content-Type':_0x1703bf(0xadf),'x-vendor-id':_0x10d0b2},'body':JSON[_0x1703bf(0xa26)]({'input':_0x26e67c,'model':_0x21a68f['id']})}),_0x539fe0=(await _0xa46db0[_0x1703bf(0x97f)]())[_0x1703bf(0x4ac)][0x0][_0x1703bf(0x9e7)];await _0x145894[_0x1703bf(0x7e9)]({'jobType':_0x188c83[_0x1703bf(0x845)],'type':_0x16d833[_0x1703bf(0x396)],'jobId':_0x16d046,'threadId':_0x314d23,'blockId':_0x15c3d5['id'],'traceLevel':_0x557626['Debug'],'startTime':_0x3a2b09,'timestamp':Date[_0x1703bf(0x31e)](),'status':'success','modelName':_0x21a68f['id'],'content':_0x26e67c,'totalVectors':_0x539fe0[_0x1703bf(0x583)]}),await _0x481269(_0x10d0b2,_0x16d046,_0x314d23,_0x539fe0,_0x1cc5ca,_0x15c3d5,_0x47a98d,_0x200f85);}(_0x17fcc2,_0x185ede,_0x54fdb0,_0xdd4305,_0x43326b,_0x3ad556,_0x471405,_0x2ef424,_0x585340);}}async function _0x5c30c4(_0x5e9e32,_0x58c739,_0x466b02,_0x493c12,_0x436e5,_0x2be22c,_0x50025c,_0x140162){const _0x1dbb76=_0x47ccb7,_0xcebd66=Date['now']();if(_0x2be22c[_0x1dbb76(0xa6)]||(_0x2be22c[_0x1dbb76(0xa6)]={}),_0x493c12 instanceof Array?(_0x2be22c['accumulated'][_0x1dbb76(0x87d)]||(_0x2be22c[_0x1dbb76(0xa6)][_0x1dbb76(0x87d)]=[]),_0x2be22c[_0x1dbb76(0xa6)][_0x1dbb76(0x87d)][_0x1dbb76(0x5c5)](..._0x493c12)):_0x2be22c[_0x1dbb76(0xa6)][_0x1dbb76(0x806)]=_0x493c12,_0x2be22c[_0x1dbb76(0x93a)]=_0x2be22c[_0x1dbb76(0x93a)]?_0x2be22c[_0x1dbb76(0x93a)]+0x1:0x1,_0x20c033(_0x2be22c,_0x50025c[_0x1dbb76(0x833)])>_0x2be22c[_0x1dbb76(0x93a)])return;if(!_0x2be22c['accumulated'][_0x1dbb76(0x806)]||!_0x2be22c['accumulated'][_0x1dbb76(0x87d)])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x3660a4 of _0x2be22c[_0x1dbb76(0xa6)]['results'])_0x3660a4['relevance']=await _0x140162[_0x1dbb76(0xa3b)][_0x1dbb76(0x29f)](_0x2be22c[_0x1dbb76(0xa6)]['prompt'],_0x3660a4[_0x1dbb76(0x3d9)]);const _0x36d338=_0x2be22c[_0x1dbb76(0xa6)][_0x1dbb76(0x87d)]['filter'](_0x1a3bfd=>_0x1a3bfd['relevance']>_0x2be22c[_0x1dbb76(0x178)][_0x1dbb76(0x35f)])[_0x1dbb76(0x5bd)]((_0x1cf86d,_0x98ad31)=>_0x98ad31[_0x1dbb76(0x4aa)]-_0x1cf86d[_0x1dbb76(0x4aa)])['slice'](0x0,_0x2be22c['attributes'][_0x1dbb76(0x5b9)]);await _0x145894[_0x1dbb76(0x7e9)]({'jobType':_0x188c83[_0x1dbb76(0x845)],'type':_0x16d833[_0x1dbb76(0x9f2)],'jobId':_0x58c739,'threadId':_0x466b02,'blockId':_0x2be22c['id'],'traceLevel':_0x557626[_0x1dbb76(0x5f5)],'startTime':_0xcebd66,'timestamp':Date[_0x1dbb76(0x31e)](),'status':_0x1dbb76(0x855),'inputResults':_0x2be22c[_0x1dbb76(0xa6)][_0x1dbb76(0x87d)],'rerankedResults':_0x36d338}),await _0x481269(_0x5e9e32,_0x58c739,_0x466b02,_0x36d338,_0x436e5,_0x2be22c,_0x50025c,_0x140162);}async function _0x464226(_0x589ff1,_0x12eab4,_0x2ad64d,_0x269026,_0x9b2f16,_0x447232,_0x4cff64,_0xd222c7){const _0x3b2931=_0x47ccb7,_0x158340=Date[_0x3b2931(0x31e)]();if(_0x447232[_0x3b2931(0xa6)]||(_0x447232[_0x3b2931(0xa6)]={}),_0x269026 instanceof Array?_0x447232['accumulated'][_0x3b2931(0x965)]=_0x269026:_0x447232[_0x3b2931(0xa6)][_0x3b2931(0x3d9)]=_0x269026,_0x447232[_0x3b2931(0x93a)]=_0x447232[_0x3b2931(0x93a)]?_0x447232[_0x3b2931(0x93a)]+0x1:0x1,!(_0x20c033(_0x447232,_0x4cff64[_0x3b2931(0x833)])>_0x447232['timesCalled'])){if(_0x3b2931(0x670)===_0x447232['id']){if(!_0x447232[_0x3b2931(0xa6)]['vector'])throw new Error(_0x3b2931(0x73a));if(!_0xd222c7[_0x3b2931(0x74f)])throw new Error('RAG\x20connector\x20is\x20not\x20available');const _0x1f394f=_0x5a7f45(_0x589ff1,_0x4cff64);let _0x19f65a=await _0xd222c7['ragConnector']?.['queryCollection'](_0x1f394f,_0x4cff64['id'],_0x447232[_0x3b2931(0xa6)][_0x3b2931(0x965)],_0x447232[_0x3b2931(0x178)][_0x3b2931(0x5b9)]);_0x19f65a=_0x19f65a['filter'](_0x365194=>_0x365194[_0x3b2931(0x4aa)]>_0x447232[_0x3b2931(0x178)][_0x3b2931(0x35f)])||[];const _0x279c08=[];for(const _0x49a068 of _0x19f65a){if(!_0xd222c7[_0x3b2931(0x650)])throw new Error(_0x3b2931(0x63a));if(void 0x0===_0x49a068['start']||void 0x0===_0x49a068[_0x3b2931(0x583)])throw new Error(_0x3b2931(0x4c2));const _0x45eca1=await _0xd222c7[_0x3b2931(0x650)][_0x3b2931(0x4ab)](_0x49a068[_0x3b2931(0x219)]);let _0x56d1d0='';if(_0x45eca1[_0x3b2931(0x96)][_0x3b2931(0xa7b)](_0x3b2931(0x719))||_0x332094(_0x45eca1[_0x3b2931(0xd7)],_0x3e85af))_0x56d1d0=await _0x45eca1[_0x3b2931(0x88)]();else{if(!_0xd222c7['documentParserConnector']['supports'](_0x45eca1))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x45eca1[_0x3b2931(0x96)]+_0x3b2931(0x8b)+_0x45eca1[_0x3b2931(0xd7)]);_0x56d1d0=await _0xd222c7['documentParserConnector'][_0x3b2931(0x26a)](_0x45eca1);}_0x279c08[_0x3b2931(0x5c5)]({'pathName':_0x49a068[_0x3b2931(0x219)],'content':_0x56d1d0[_0x3b2931(0xa98)](_0x49a068[_0x3b2931(0x26c)],_0x49a068[_0x3b2931(0x26c)]+_0x49a068['length']),'relevance':_0x49a068[_0x3b2931(0x4aa)]});}await _0x481269(_0x589ff1,_0x12eab4,_0x2ad64d,_0x279c08,_0x9b2f16,_0x447232,_0x4cff64,_0xd222c7);}else{if(!_0x447232['accumulated'][_0x3b2931(0x965)]||!_0x447232['accumulated'][_0x3b2931(0x3d9)])throw new Error(_0x3b2931(0x73a));const _0x33d544=await _0xd222c7['nlpLibraryConnector'][_0x3b2931(0x541)](_0x447232[_0x3b2931(0xa6)][_0x3b2931(0x3d9)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x39ce26=_0xd222c7[_0x3b2931(0x9e3)][_0x3b2931(0x8f9)](_0x447232['id'])[_0x3b2931(0x1dc)](_0x33d544,_0x447232[_0x3b2931(0xa6)][_0x3b2931(0x965)],_0x447232[_0x3b2931(0x178)][_0x3b2931(0x5b9)],_0x447232[_0x3b2931(0x178)][_0x3b2931(0x35f)],_0x447232['attributes'][_0x3b2931(0xa8f)]);await _0x145894[_0x3b2931(0x7e9)]({'jobType':_0x188c83[_0x3b2931(0x845)],'type':_0x16d833[_0x3b2931(0x550)],'jobId':_0x12eab4,'threadId':_0x2ad64d,'blockId':_0x447232['id'],'traceLevel':_0x557626[_0x3b2931(0x5f5)],'startTime':_0x158340,'timestamp':Date[_0x3b2931(0x31e)](),'status':_0x3b2931(0x855),'topResults':_0x39ce26,'numResults':_0x39ce26[_0x3b2931(0x583)]}),await _0x481269(_0x589ff1,_0x12eab4,_0x2ad64d,_0x39ce26,_0x9b2f16,_0x447232,_0x4cff64,_0xd222c7);}}}async function _0x481269(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x4b9c8e,_0x40314a,_0x5981c8){const _0x3bf2fd=_0x47ccb7;for(const _0x5d616c of _0x4b9c8e[_0x3bf2fd(0x9cb)]||[]){const _0x5712a5=_0x40314a[_0x3bf2fd(0x833)]['find'](_0x2c913c=>_0x2c913c['uid']===_0x5d616c[_0x3bf2fd(0x9e)]);if(_0x5712a5)switch(_0x5712a5[_0x3bf2fd(0x96)]){case _0x31b828[_0x3bf2fd(0x1ad)]:_0x5d616c['type']===_0x577b8e[_0x3bf2fd(0x158)]&&_0x52974e instanceof Array&&_0x3a01ff['context']['push'](..._0x52974e);break;case _0x31b828[_0x3bf2fd(0x637)]:if(_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e[_0x3bf2fd(0x1e3)]&&_0x3bf2fd(0x3af)==typeof _0x52974e){if(!_0x40314a[_0x3bf2fd(0x9a7)])throw new Error(_0x3bf2fd(0x79c));const _0x4be045={'type':_0x31b828[_0x3bf2fd(0x12c)],'id':_0x40314a[_0x3bf2fd(0x9a7)],'uid':(0x0,_0x4c8224['v4'])(),'links':_0x5712a5[_0x3bf2fd(0x9cb)]};await _0x450f89(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x4be045,_0x40314a,_0x5981c8);}break;case _0x31b828[_0x3bf2fd(0x18f)]:_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e['Text']&&_0x3bf2fd(0x3af)==typeof _0x52974e&&await _0x234bef(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8),_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e[_0x3bf2fd(0x158)]&&_0x52974e instanceof Array&&await _0x234bef(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8);break;case _0x31b828[_0x3bf2fd(0x120)]:_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e['Text']&&_0x3bf2fd(0x3af)==typeof _0x52974e&&await _0x4ab44c(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8),_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e['Search']&&_0x52974e instanceof Array&&await _0x4ab44c(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8),_0x5d616c['type']===_0x577b8e[_0x3bf2fd(0x9c8)]&&_0x52974e instanceof Set&&await _0x4ab44c(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8);break;case _0x31b828['Model']:_0x5d616c['type']===_0x577b8e[_0x3bf2fd(0x1e3)]&&'string'==typeof _0x52974e&&await _0x450f89(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8),_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e[_0x3bf2fd(0x158)]&&_0x52974e instanceof Array&&await _0x450f89(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8);break;case _0x31b828[_0x3bf2fd(0x9f2)]:_0x5d616c['type']===_0x577b8e['Text']&&_0x3bf2fd(0x3af)==typeof _0x52974e&&await _0x5c30c4(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8),_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e[_0x3bf2fd(0x158)]&&_0x52974e instanceof Array&&await _0x5c30c4(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8);break;case _0x31b828[_0x3bf2fd(0x543)]:_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e[_0x3bf2fd(0x1e3)]&&_0x3bf2fd(0x3af)==typeof _0x52974e&&await _0x464226(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8),_0x5d616c[_0x3bf2fd(0x96)]===_0x577b8e[_0x3bf2fd(0x15d)]&&_0x52974e instanceof Array&&await _0x464226(_0x22b339,_0x568db7,_0x252658,_0x52974e,_0x3a01ff,_0x5712a5,_0x40314a,_0x5981c8);}}}function _0x20c033(_0x3f9730,_0x5283ed){const _0x1dc74e=_0x47ccb7;return _0x5283ed[_0x1dc74e(0xac4)](_0x49ed36=>_0x49ed36['links']?.['some'](_0x23bfe2=>_0x23bfe2[_0x1dc74e(0x9e)]===_0x3f9730['uid']))['length'];}async function _0x3feb1d(_0x44991e,_0x38615d,_0x34b89e,_0x1d319d,_0x3c99c7,_0x80104d,_0x116757){const _0xc05bd2=_0x47ccb7,_0x45f55e={'type':_0xc05bd2(0x806),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x2460b8;await _0x481269(_0x44991e,_0x38615d,_0x34b89e,_0x1d319d,_0x45f55e,_0x3c99c7,structuredClone(_0x80104d),_0x116757),_0x45f55e[_0xc05bd2(0x7d2)][_0xc05bd2(0x5b5)]((_0x1f24d5,_0x34d152)=>_0x1f24d5+_0x34d152['content']['length'],0x0)>_0x2d2dac&&(_0x2460b8=Math['floor'](_0x2d2dac/_0x45f55e['context'][_0xc05bd2(0x583)])),_0x45f55e[_0xc05bd2(0x995)]=_0xc05bd2(0x7fb)+_0x45f55e[_0xc05bd2(0x7d2)][_0xc05bd2(0x437)](_0x53fefa=>'From\x20'+_0x53fefa[_0xc05bd2(0x219)]+':\x20'+_0x53fefa[_0xc05bd2(0x3d9)][_0xc05bd2(0xa98)](0x0,_0x2460b8))[_0xc05bd2(0x4a2)]('\x0a');}catch(_0x29949e){console[_0xc05bd2(0xa14)]('Error\x20processing\x20retrieve',_0x29949e);}return _0x45f55e;}class _0x330048 extends _0x143f62{[_0x47ccb7(0x9e3)];['generativeAIWorkerConnectors'];[_0x47ccb7(0xa62)];[_0x47ccb7(0x650)];[_0x47ccb7(0x87f)];[_0x47ccb7(0xad9)];['nlpLibraryConnector'];['searchConnector'];[_0x47ccb7(0x97)];[_0x47ccb7(0x97b)];[_0x47ccb7(0x3f6)];[_0x47ccb7(0x323)];[_0x47ccb7(0x429)]=new Map();[_0x47ccb7(0x124)]=_0x13e66e;[_0x47ccb7(0xad3)];[_0x47ccb7(0x522)]=0x0;[_0x47ccb7(0x967)]=0x0;[_0x47ccb7(0x387)]=!0x1;constructor(_0x2d7d38,_0x5b9ed8,_0x879b00,_0x4ba8ac,_0x1c0afc,_0x5e0ad1,_0x1898ee,_0xfe3563,_0x352288,_0x4f62d3,_0x14b7f8,_0x1fac8e,_0xc70f6a,_0x44e478,_0x14cf2e){const _0x2794e6=_0x47ccb7;super(_0x2d7d38,_0x5b9ed8,_0x879b00),this[_0x2794e6(0x9e3)]=_0x4ba8ac,this[_0x2794e6(0x925)]=_0x1c0afc,this[_0x2794e6(0xa62)]=_0x5e0ad1,this[_0x2794e6(0x650)]=_0x1898ee,this[_0x2794e6(0x87f)]=_0xfe3563,this[_0x2794e6(0xad9)]=_0x352288,this[_0x2794e6(0xa3b)]=_0x4f62d3,this[_0x2794e6(0x904)]=_0x14b7f8,this[_0x2794e6(0x97)]=_0x1fac8e,this[_0x2794e6(0x97b)]=_0xc70f6a,this[_0x2794e6(0x3f6)]=_0x44e478,this[_0x2794e6(0x323)]=_0x14cf2e;}async[_0x47ccb7(0x85c)](){const _0x4dce23=_0x47ccb7;for(const _0x4799c1 of this[_0x4dce23(0x925)])await _0x4799c1[_0x4dce23(0x3a0)]();this['dataStores'][_0x4dce23(0xa9d)](_0x36d113=>_0x36d113[_0x4dce23(0x6c7)](this[_0x4dce23(0xa39)])),this[_0x4dce23(0xad3)]&&(clearTimeout(this[_0x4dce23(0xad3)]),delete this[_0x4dce23(0xad3)]),super[_0x4dce23(0x85c)]();}async[_0x47ccb7(0x7f6)](_0x53da12=!0x1){const _0x5d57be=_0x47ccb7;if(this['isOpened'])super[_0x5d57be(0x7f6)]();else{_0x1a21a7['forceLog'](_0x5d57be(0x155),this[_0x5d57be(0xa39)]);try{for(const _0x54c90a of this[_0x5d57be(0x925)])await _0x54c90a['initialize'](this[_0x5d57be(0xa39)],this[_0x5d57be(0x124)]);}catch(_0xbe3013){return this['open'](_0x53da12);}this[_0x5d57be(0x387)]=!0x0,this[_0x5d57be(0xa36)](),super[_0x5d57be(0x7f6)](),_0x1a21a7[_0x5d57be(0x180)]('GenerativeAIWorker:\x20Opened',this[_0x5d57be(0xa39)]);}}['reset'](){const _0x1de1d5=_0x47ccb7;this[_0x1de1d5(0x522)]=0x0,this[_0x1de1d5(0x967)]=0x0,this['sendStats'](),super['reset']();}['getBid'](){const _0x1f2ee3=_0x47ccb7;return this['sendStats'](),this[_0x1f2ee3(0xadd)]();}['compileStats'](_0x6de2f7,_0x3576b8,_0x57360f){const _0xba6d4f=_0x47ccb7,{outputTokens:_0x47e498=0x0,output:_0x3a24f1=''}=_0x6de2f7,_0x176834=_0x47e498/((_0x57360f-_0x3576b8)/0x3e8);this[_0xba6d4f(0x522)]+=0x1,this['tokens']+=_0x47e498,this[_0xba6d4f(0x839)](_0x176834,_0x47e498),this['sendStats']();}['accumulateResult'](_0x3ed7ee,_0x249b81){const _0x2fa6fb=_0x47ccb7;return _0x3ed7ee[_0x2fa6fb(0x995)]=_0x3ed7ee[_0x2fa6fb(0x995)]??'',{'type':_0x2fa6fb(0x806),'output':_0x2fa6fb(0x3af)==typeof _0x3ed7ee[_0x2fa6fb(0x995)]&&_0x2fa6fb(0x3af)==typeof _0x249b81[_0x2fa6fb(0x995)]?_0x3ed7ee[_0x2fa6fb(0x995)]+_0x249b81['output']:_0x249b81['output'],'outputTokens':_0x249b81[_0x2fa6fb(0x309)]??_0x3ed7ee['outputTokens'],'inputTokens':_0x249b81['inputTokens']??_0x3ed7ee[_0x2fa6fb(0x93e)]};}async[_0x47ccb7(0xaa5)](_0x165a45,_0x39a1e6){const _0x4927ae=_0x47ccb7;if(_0x4927ae(0x806)===_0x39a1e6[_0x4927ae(0x96)]){const _0x58f4bb=await _0x21e614['getWorkflow'](_0x39a1e6[_0x4927ae(0x111)],_0x39a1e6['workflowId']),_0x2cda9c=_0x58f4bb[_0x4927ae(0x497)][_0x4927ae(0x1b5)](_0x52dd8d=>_0x52dd8d['type']===_0x4b182d['Prompt']||_0x52dd8d['type']===_0x4b182d[_0x4927ae(0x7ed)]);return await _0x32d8f4(_0x39a1e6[_0x4927ae(0x24f)]??_0x165a45,_0x39a1e6,_0x2cda9c,_0x58f4bb['blocks'],{'documentParserConnector':this[_0x4927ae(0x87f)],'fileConnector':this[_0x4927ae(0xad9)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4927ae(0x925)],'speechAIWorkerConnectors':this[_0x4927ae(0xa62)],'models':Array['from'](this['models'][_0x4927ae(0x78c)]()),'contentMediator':this[_0x4927ae(0x9e3)],'searchConnector':this[_0x4927ae(0x904)],'aiSearchConnector':this[_0x4927ae(0x97)],'queryFileConnector':this['queryFileConnector']});}if(_0x4927ae(0x430)===_0x39a1e6['type'])return await _0x37d582(_0x39a1e6,{'documentParserConnector':this[_0x4927ae(0x87f)],'fileConnector':this[_0x4927ae(0xad9)],'nlpLibraryConnector':this[_0x4927ae(0xa3b)],'generativeAIWorkerConnectors':this[_0x4927ae(0x925)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array['from'](this[_0x4927ae(0x124)][_0x4927ae(0x78c)]()),'contentMediator':this[_0x4927ae(0x9e3)],'searchConnector':this[_0x4927ae(0x904)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x4927ae(0x97b)]});if('inference'===_0x39a1e6[_0x4927ae(0x96)])return await _0x5a3a1a(_0x39a1e6[_0x4927ae(0x24f)]??_0x165a45,_0x39a1e6,{'documentParserConnector':this[_0x4927ae(0x87f)],'fileConnector':this[_0x4927ae(0xad9)],'nlpLibraryConnector':this[_0x4927ae(0xa3b)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x4927ae(0xa62)],'models':Array[_0x4927ae(0x48b)](this[_0x4927ae(0x124)][_0x4927ae(0x78c)]()),'contentMediator':this[_0x4927ae(0x9e3)],'searchConnector':this[_0x4927ae(0x904)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});if(_0x4927ae(0x15c)===_0x39a1e6[_0x4927ae(0x96)])return await _0x145894[_0x4927ae(0x7e9)]({'jobType':_0x188c83['Rating'],'type':_0x273d7b[_0x4927ae(0x90d)],'jobId':_0x39a1e6[_0x4927ae(0x24f)],'threadId':_0x39a1e6[_0x4927ae(0x80)],'traceLevel':_0x557626[_0x4927ae(0x379)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','rating':_0x39a1e6[_0x4927ae(0x504)],'feedback':_0x39a1e6[_0x4927ae(0x1cc)]}),{'type':_0x4927ae(0x15c),'status':_0x46b128[_0x4927ae(0x750)]['Success']};if(_0x4927ae(0x13f)===_0x39a1e6[_0x4927ae(0x96)])return await _0x5ae484(_0x39a1e6,{'documentParserConnector':this[_0x4927ae(0x87f)],'fileConnector':this[_0x4927ae(0xad9)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4927ae(0x925)],'speechAIWorkerConnectors':this[_0x4927ae(0xa62)],'models':Array['from'](this[_0x4927ae(0x124)][_0x4927ae(0x78c)]()),'contentMediator':this[_0x4927ae(0x9e3)],'searchConnector':this[_0x4927ae(0x904)],'aiSearchConnector':this[_0x4927ae(0x97)],'queryFileConnector':this[_0x4927ae(0x97b)]});if('speech-create'===_0x39a1e6[_0x4927ae(0x96)]){const _0x5e7919=_0x13e66e[_0x4927ae(0x4ab)](_0x39a1e6[_0x4927ae(0x4ed)]);if(!_0x5e7919)throw new Error(_0x4927ae(0x34b));const _0x2126d9=this['speechAIWorkerConnectors'][_0x4927ae(0x1b5)](_0x410fe3=>_0x410fe3[_0x4927ae(0x7e1)]()===_0x5e7919[_0x4927ae(0x731)]);if(!_0x2126d9)throw new Error('No\x20speech\x20connector\x20available');return{'type':_0x4927ae(0x5e6),'audio':await _0x2126d9[_0x4927ae(0x693)](_0x39a1e6[_0x4927ae(0x4ed)],_0x39a1e6[_0x4927ae(0x88)],_0x39a1e6[_0x4927ae(0x1cb)],_0x39a1e6[_0x4927ae(0x216)],_0x39a1e6[_0x4927ae(0x8fa)])};}if(_0x4927ae(0x4cd)===_0x39a1e6[_0x4927ae(0x96)]){const _0x3e6f91=await _0x21e614[_0x4927ae(0x6cf)](_0x39a1e6[_0x4927ae(0x111)],_0x39a1e6[_0x4927ae(0x4c1)]),_0x494650=_0x3e6f91[_0x4927ae(0x497)][_0x4927ae(0x1b5)](_0x5106db=>_0x5106db[_0x4927ae(0x96)]===_0x4b182d[_0x4927ae(0x7ed)]),_0x5d6172=_0x494650[_0x4927ae(0x9cb)]?.[_0x4927ae(0x1b5)](_0x2e2223=>_0x2e2223[_0x4927ae(0x96)]===_0x577b8e['Audio']),_0x145896=_0x3e6f91[_0x4927ae(0x497)]['find'](_0x3fe5e9=>_0x3fe5e9[_0x4927ae(0x96)]===_0x4b182d[_0x4927ae(0x856)]&&_0x3fe5e9[_0x4927ae(0x9e)]===_0x5d6172['uid']),_0x5014ae=_0x13e66e[_0x4927ae(0x4ab)](_0x145896[_0x4927ae(0x9a7)]),_0x4b7c1c=_0x3e6f91[_0x4927ae(0x497)][_0x4927ae(0xac4)](_0x117078=>_0x117078[_0x4927ae(0x9cb)]?.['some'](_0x12a86d=>_0x12a86d[_0x4927ae(0x96)]===_0x577b8e[_0x4927ae(0x460)]&&_0x12a86d[_0x4927ae(0x9e)]===_0x145896[_0x4927ae(0x9e)]))[_0x4927ae(0x98d)](_0xb229c0=>_0x483146(_0xb229c0,_0x3e6f91[_0x4927ae(0x497)])),_0x703b12=_0x3e6f91[_0x4927ae(0x497)]['find'](_0x10421b=>_0x10421b[_0x4927ae(0x96)]===_0x4b182d[_0x4927ae(0xa45)]),_0x28908f=_0x3e6f91[_0x4927ae(0x497)][_0x4927ae(0x1b5)](_0x266728=>_0x266728[_0x4927ae(0x96)]===_0x4b182d['Agent']&&_0x266728[_0x4927ae(0x9cb)]?.[_0x4927ae(0xa13)](_0x176bda=>_0x176bda[_0x4927ae(0x96)]===_0x577b8e[_0x4927ae(0x2b6)]&&_0x176bda[_0x4927ae(0x9e)]===_0x703b12[_0x4927ae(0x9e)])),_0x106897=_0x3e6f91[_0x4927ae(0x497)][_0x4927ae(0x1b5)](_0x5c2bd8=>_0x5c2bd8[_0x4927ae(0x96)]===_0x4b182d[_0x4927ae(0x856)]&&_0x5c2bd8['uid']===_0x28908f[_0x4927ae(0x9e)]),_0x1bf38c=_0x13e66e[_0x4927ae(0x4ab)](_0x106897[_0x4927ae(0x9a7)]);return{'type':'realtime-session-create','apiKey':this[_0x4927ae(0x323)],'sessionType':_0x5014ae['taskType']===_0x46b128['GenerativeAITaskType'][_0x4927ae(0xfd)]?_0x4927ae(0x1ee):_0x4927ae(0x1a5),'firstAgent':{'modelId':_0x145896[_0x4927ae(0x9a7)],'taskType':_0x5014ae[_0x4927ae(0xa57)],'instructions':_0x145896['instructions'],'temperature':_0x145896[_0x4927ae(0x605)],'maxTokens':_0x145896['maxTokens'],'initialPrompt':_0x3e6f91[_0x4927ae(0x501)],'tools':_0x4b7c1c['map'](_0xe574f6=>({..._0xe574f6,'name':this[_0x4927ae(0x64e)](_0xe574f6),'description':this['getToolDescription'](_0xe574f6),'parameters':this[_0x4927ae(0x639)](_0xe574f6)}))},'lastAgent':{'modelId':_0x106897[_0x4927ae(0x9a7)],'taskType':_0x1bf38c[_0x4927ae(0xa57)],'instructions':_0x106897['instructions'],'initialPrompt':_0x3e6f91[_0x4927ae(0x501)]}};}if(_0x4927ae(0x86b)===_0x39a1e6[_0x4927ae(0x96)]){const {vendorId:_0x5d342e,collectionId:_0x5124dd,fileId:_0x907476}=_0x39a1e6,_0x7fc03=await _0x21e614['getDataCollection'](_0x5d342e,_0x5124dd),_0x2c9828=this['ragConnectors']?.[_0x4927ae(0x4ab)](_0x7fc03['storageType']);if(!_0x2c9828)throw new Error(_0x4927ae(0x8a5));const _0x2adcd4=_0x5a7f45(_0x5d342e,_0x7fc03);if(_0x7fc03[_0x4927ae(0x91e)]===_0x46b128[_0x4927ae(0x98b)][_0x4927ae(0x970)])try{await _0x2c9828['deleteFile'](_0x2adcd4,_0x5124dd,'/'+_0x5d342e+'/'+_0x5124dd+'/'+_0x907476),await this[_0x4927ae(0x650)][_0x4927ae(0x16c)]('/'+_0x5d342e+'/'+_0x5124dd+'/'+_0x907476);}catch(_0x3de764){_0x1a21a7[_0x4927ae(0xa14)](_0x4927ae(0x674),_0x3de764);}else try{await _0x2c9828[_0x4927ae(0x7e5)](_0x2adcd4,_0x5124dd,_0x907476);}catch(_0x16cf35){_0x1a21a7['error'](_0x4927ae(0x674),_0x16cf35);}return{'type':_0x4927ae(0x86b)};}if(_0x4927ae(0x288)===_0x39a1e6['type']){let _0x3c561e;const _0x194228=this[_0x4927ae(0x429)][_0x4927ae(0xa3d)]();for(;!_0x3c561e;){const _0x54760f=_0x194228['next']()[_0x4927ae(0x687)];if(!_0x54760f)throw new Error(_0x4927ae(0x4d8));_0x3c561e=this['dataStores']['get'](_0x54760f);try{const _0x5d679f=await _0x3c561e['get'](_0x39a1e6['documentPath']);return{'type':_0x4927ae(0x288),'fileName':_0x5d679f['name'],'mimeType':_0x5d679f[_0x4927ae(0x96)],'document':await _0x5d679f[_0x4927ae(0x1a3)]()};}catch(_0x190fea){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if(_0x4927ae(0x3d7)===_0x39a1e6[_0x4927ae(0x96)]){const {vendorId:_0x4d2cba,collectionId:_0x3d5efd,fileName:_0x67958b,content:_0x346ac2}=_0x39a1e6,_0x1af7b9=await _0x21e614[_0x4927ae(0x65f)](_0x4d2cba,_0x3d5efd);if(_0x1af7b9[_0x4927ae(0x91e)]!==_0x46b128[_0x4927ae(0x98b)]['Crewdle']){const _0x14ce6f=this[_0x4927ae(0x3f6)]?.[_0x4927ae(0x4ab)](_0x1af7b9[_0x4927ae(0x91e)]);if(!_0x14ce6f)throw new Error(_0x4927ae(0x8a5));const _0x6a2944=_0x5a7f45(_0x4d2cba,_0x1af7b9);return await _0x14ce6f[_0x4927ae(0x954)](_0x6a2944,_0x3d5efd,_0x67958b,_0x346ac2),{'type':_0x4927ae(0x3d7)};}const _0x482498=_0x1af7b9[_0x4927ae(0x75b)]?.[_0x4927ae(0x1b5)](_0x4fd8cd=>_0x4fd8cd[_0x4927ae(0x96)]===_0x31b828[_0x4927ae(0x1e2)]);if(!_0x482498)throw new Error('No\x20start\x20block\x20found');const _0x1ed612=(0x0,_0x4c8224['v4'])();return _0x145894[_0x4927ae(0x81)](_0x4d2cba,_0x1ed612),await _0x7b76d2(_0x39a1e6[_0x4927ae(0x111)],_0x1ed612,'/'+_0x4d2cba+'/'+_0x3d5efd+'/'+_0x67958b,_0x346ac2,_0x482498,_0x1af7b9,{'objectStoreConnector':this[_0x4927ae(0x650)],'ragConnector':this[_0x4927ae(0x3f6)]?.[_0x4927ae(0x4ab)](_0x46b128[_0x4927ae(0x98b)][_0x4927ae(0x970)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4927ae(0xa3b)],'generativeAIWorkerConnectors':this[_0x4927ae(0x925)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array['from'](this[_0x4927ae(0x124)][_0x4927ae(0x78c)]()),'contentMediator':this[_0x4927ae(0x9e3)]}),_0x145894[_0x4927ae(0x336)](_0x1ed612),{'type':_0x4927ae(0x3d7)};}if(_0x4927ae(0x380)===_0x39a1e6[_0x4927ae(0x96)]){const {vendorId:_0x5f0f06,collectionId:_0x13b4f0}=_0x39a1e6,_0x1251f5=await _0x21e614[_0x4927ae(0x65f)](_0x5f0f06,_0x13b4f0);if(_0x1251f5[_0x4927ae(0x91e)]!==_0x46b128[_0x4927ae(0x98b)][_0x4927ae(0x970)]){const _0x58607d=this[_0x4927ae(0x3f6)]?.[_0x4927ae(0x4ab)](_0x1251f5['storageType']);if(!_0x58607d)throw new Error(_0x4927ae(0x8a5));const _0x352285=_0x5a7f45(_0x5f0f06,_0x1251f5);return{'type':_0x4927ae(0x380),'files':await _0x58607d[_0x4927ae(0x42e)](_0x352285,_0x13b4f0)};}try{return{'type':_0x4927ae(0x380),'files':(await this[_0x4927ae(0x650)][_0x4927ae(0x296)]('/'+_0x5f0f06+'/'+_0x13b4f0,!0x1))[_0x4927ae(0x437)](_0x339ef0=>({'name':_0x339ef0['name'],'id':_0x339ef0['name'],'status':'ready'}))};}catch(_0x1722fa){return{'type':_0x4927ae(0x380),'files':[]};}}if(_0x4927ae(0x332)===_0x39a1e6['type']){const {vendorId:_0x17bacf,collectionId:_0x2c524e}=_0x39a1e6,_0x8e35f9=await _0x21e614[_0x4927ae(0x65f)](_0x17bacf,_0x2c524e),_0xf9d992=this['ragConnectors']?.[_0x4927ae(0x4ab)](_0x8e35f9[_0x4927ae(0x91e)]);if(!_0xf9d992)return{'type':_0x4927ae(0x332)};const _0x549396=_0x5a7f45(_0x17bacf,_0x8e35f9);return await _0xf9d992[_0x4927ae(0xe7)](_0x549396,_0x2c524e),{'type':_0x4927ae(0x332)};}if(_0x4927ae(0x7e4)===_0x39a1e6[_0x4927ae(0x96)]){const {vendorId:_0x2c7bd1,collectionId:_0x917a10}=_0x39a1e6,_0x71481d=await _0x21e614[_0x4927ae(0x65f)](_0x2c7bd1,_0x917a10),_0x274e3e=this[_0x4927ae(0x3f6)]?.[_0x4927ae(0x4ab)](_0x71481d[_0x4927ae(0x91e)]);if(!_0x274e3e)return{'type':_0x4927ae(0x7e4)};const _0x1f6069=_0x5a7f45(_0x2c7bd1,_0x71481d);let _0x2c5ab4=!0x1;if(_0x71481d[_0x4927ae(0x959)]===_0x39a0e4['Dedicated']&&(_0x2c5ab4=!0x0),_0x71481d[_0x4927ae(0x959)]===_0x39a0e4['Account']){_0x2c5ab4=!0x0;const _0x33d5a2=await _0x21e614[_0x4927ae(0x8fc)](_0x2c7bd1);for(const _0x176aa8 of _0x33d5a2)if(_0x176aa8['storageType']===_0x71481d['storageType']&&_0x176aa8[_0x4927ae(0x959)]===_0x39a0e4['Account']&&_0x176aa8['id']!==_0x71481d['id']){_0x2c5ab4=!0x1;break;}}try{await _0x274e3e[_0x4927ae(0xa92)](_0x1f6069,_0x917a10,_0x2c5ab4);}catch(_0x32b2a6){_0x1a21a7[_0x4927ae(0xa14)]('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x32b2a6);}return{'type':'collection-delete'};}if(_0x4927ae(0x8ff)===_0x39a1e6[_0x4927ae(0x96)]){const {query:_0x569463,vendorId:_0x476f7c,collectionId:_0x5cf431}=_0x39a1e6,_0x5b81dd=await _0x21e614[_0x4927ae(0x65f)](_0x476f7c,_0x5cf431);if(_0x5b81dd[_0x4927ae(0x91e)]!==_0x46b128[_0x4927ae(0x98b)][_0x4927ae(0x970)]){const _0x2ae2db=this[_0x4927ae(0x3f6)]?.[_0x4927ae(0x4ab)](_0x5b81dd[_0x4927ae(0x91e)]);if(!_0x2ae2db)throw new Error(_0x4927ae(0x8a5));const _0x3901c5=_0x5a7f45(_0x476f7c,_0x5b81dd);return{'type':'collection-query','results':await _0x2ae2db[_0x4927ae(0xa0d)](_0x3901c5,_0x5cf431,_0x569463,0x1)};}const _0x3c1bf7=_0x5b81dd['retrieveBlocks']?.[_0x4927ae(0x1b5)](_0x135b94=>_0x135b94[_0x4927ae(0x96)]===_0x31b828['Prompt']);return{'type':_0x4927ae(0x8ff),'results':(await _0x3feb1d(_0x39a1e6[_0x4927ae(0x111)],_0x165a45,'',_0x569463,_0x3c1bf7,_0x5b81dd,{'objectStoreConnector':this[_0x4927ae(0x650)],'ragConnector':this[_0x4927ae(0x3f6)]?.[_0x4927ae(0x4ab)](_0x46b128[_0x4927ae(0x98b)][_0x4927ae(0x970)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x4927ae(0xad9)],'nlpLibraryConnector':this[_0x4927ae(0xa3b)],'generativeAIWorkerConnectors':this[_0x4927ae(0x925)],'speechAIWorkerConnectors':this[_0x4927ae(0xa62)],'models':Array['from'](this[_0x4927ae(0x124)]['values']()),'contentMediator':this[_0x4927ae(0x9e3)],'searchConnector':this[_0x4927ae(0x904)],'aiSearchConnector':this[_0x4927ae(0x97)],'queryFileConnector':this[_0x4927ae(0x97b)]}))[_0x4927ae(0x7d2)]??[]};}throw new Error(_0x4927ae(0xa8c));}async*[_0x47ccb7(0x668)](_0x3afdb2,_0x1aad71){const _0x38b269=_0x47ccb7;if(_0x38b269(0x806)===_0x1aad71[_0x38b269(0x96)]){const _0x2a6f23=await _0x21e614['getWorkflow'](_0x1aad71['vendorId'],_0x1aad71[_0x38b269(0x4c1)]),_0x1a0c25=_0x2a6f23[_0x38b269(0x497)][_0x38b269(0x1b5)](_0x50bcc9=>_0x50bcc9[_0x38b269(0x96)]===_0x4b182d['Prompt']||_0x50bcc9[_0x38b269(0x96)]===_0x4b182d['InputStream']);for await(const _0x4b07c0 of _0x8822d(_0x1aad71[_0x38b269(0x24f)]??_0x3afdb2,_0x1aad71,_0x1a0c25,_0x2a6f23['blocks'],{'documentParserConnector':this[_0x38b269(0x87f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x38b269(0xa3b)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x38b269(0xa62)],'models':Array[_0x38b269(0x48b)](this[_0x38b269(0x124)][_0x38b269(0x78c)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x38b269(0x97b)]}))yield _0x4b07c0;}if(_0x38b269(0x9bd)===_0x1aad71[_0x38b269(0x96)]){for await(const _0x17f2eb of _0x47b142(_0x1aad71[_0x38b269(0x24f)]??_0x3afdb2,_0x1aad71,{'documentParserConnector':this[_0x38b269(0x87f)],'fileConnector':this[_0x38b269(0xad9)],'nlpLibraryConnector':this[_0x38b269(0xa3b)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x38b269(0xa62)],'models':Array[_0x38b269(0x48b)](this[_0x38b269(0x124)]['values']()),'contentMediator':this[_0x38b269(0x9e3)],'searchConnector':this[_0x38b269(0x904)],'aiSearchConnector':this[_0x38b269(0x97)],'queryFileConnector':this['queryFileConnector']}))yield _0x17f2eb;}}async[_0x47ccb7(0x1c2)](_0x108143,_0x1f11f9){const _0x27c955=_0x47ccb7;if(_0x27c955(0x15c)===_0x1f11f9[_0x27c955(0x96)])return _0x108143=_0x1f11f9[_0x27c955(0x24f)],void await this[_0x27c955(0x81)](_0x108143,_0x1f11f9['vendorId'],_0x1f11f9[_0x27c955(0x4c1)]);_0x27c955(0x806)!==_0x1f11f9[_0x27c955(0x96)]&&_0x27c955(0x9bd)!==_0x1f11f9['type']||!_0x1f11f9[_0x27c955(0x24f)]||(_0x108143=_0x1f11f9[_0x27c955(0x24f)]),await this[_0x27c955(0x81)](_0x108143,_0x1f11f9[_0x27c955(0x111)],_0x1f11f9[_0x27c955(0x4c1)],_0x1f11f9[_0x27c955(0x80)]),await _0x145894[_0x27c955(0x7e9)]({'jobType':_0x188c83['Job'],'type':_0x434fc0[_0x27c955(0x880)],'traceLevel':_0x557626[_0x27c955(0x379)],'jobId':_0x108143,'threadId':_0x1f11f9[_0x27c955(0x80)],'startTime':Date[_0x27c955(0x31e)](),'timestamp':Date[_0x27c955(0x31e)](),'status':_0x27c955(0x855)});}async['stopTracing'](_0x285bf3,_0x130f32){const _0x2045b3=_0x47ccb7;if(_0x2045b3(0x15c)===_0x130f32[_0x2045b3(0x96)])return _0x285bf3=_0x130f32['jobId'],void await this['closeTrace'](_0x285bf3);_0x2045b3(0x806)!==_0x130f32[_0x2045b3(0x96)]&&_0x2045b3(0x9bd)!==_0x130f32[_0x2045b3(0x96)]||!_0x130f32[_0x2045b3(0x24f)]||(_0x285bf3=_0x130f32[_0x2045b3(0x24f)]),await _0x145894['trace']({'jobType':_0x188c83['Job'],'type':_0x434fc0[_0x2045b3(0x2d8)],'traceLevel':_0x557626[_0x2045b3(0x379)],'jobId':_0x285bf3,'threadId':_0x130f32[_0x2045b3(0x80)],'startTime':Date[_0x2045b3(0x31e)](),'timestamp':Date['now'](),'status':_0x2045b3(0x855)}),await this[_0x2045b3(0x336)](_0x285bf3,_0x130f32['threadId']);}['getToolName'](_0x48195b){const _0x1f30b0=_0x47ccb7;switch(_0x48195b['type']){case _0x4b182d['Agent']:case _0x4b182d[_0x1f30b0(0x247)]:return'executeAgent'+_0x48195b['name']['replace'](/[^a-zA-Z]/g,'');case _0x4b182d[_0x1f30b0(0x998)]:return _0x1f30b0(0x761)+_0x48195b[_0x1f30b0(0xd7)]['replace'](/[^a-zA-Z]/g,'');case _0x4b182d[_0x1f30b0(0x976)]:case _0x4b182d['Knowledge']:return _0x1f30b0(0x12e)+_0x48195b[_0x1f30b0(0xd7)][_0x1f30b0(0x5f9)](/[^a-zA-Z]/g,'');case _0x4b182d[_0x1f30b0(0x34c)]:return _0x48195b[_0x1f30b0(0xd7)][_0x1f30b0(0x5f9)](/[^a-zA-Z]/g,'');case _0x4b182d[_0x1f30b0(0x266)]:return _0x1f30b0(0x7da);case _0x4b182d[_0x1f30b0(0x1f0)]:return _0x1f30b0(0x89a);case _0x4b182d['Search']:return _0x1f30b0(0x5f2);case _0x4b182d[_0x1f30b0(0x9d2)]:case _0x4b182d[_0x1f30b0(0x2aa)]:return'fetchContentFromUrl';case _0x46b128[_0x1f30b0(0x713)]['FormSkillGetQuestion']:return _0x1f30b0(0x7a9)+_0x48195b[_0x1f30b0(0xd7)][_0x1f30b0(0x5f9)](/[^a-zA-Z]/g,'');case _0x46b128[_0x1f30b0(0x713)]['FormSkillSetAnswer']:return'setAnswer'+_0x48195b[_0x1f30b0(0xd7)][_0x1f30b0(0x5f9)](/[^a-zA-Z]/g,'');case _0x46b128[_0x1f30b0(0x713)][_0x1f30b0(0xb5)]:return _0x1f30b0(0x5e2)+_0x48195b[_0x1f30b0(0xd7)][_0x1f30b0(0x5f9)](/[^a-zA-Z]/g,'');default:return'';}}[_0x47ccb7(0x969)](_0x480762){const _0x2438e5=_0x47ccb7;switch(_0x480762['type']){case _0x4b182d[_0x2438e5(0x856)]:case _0x4b182d['AgentSkill']:return _0x2438e5(0x5ef)+_0x480762[_0x2438e5(0x3fe)]+_0x2438e5(0x6db);case _0x4b182d[_0x2438e5(0x998)]:return _0x2438e5(0x118)+_0x480762[_0x2438e5(0x3fe)]+_0x2438e5(0x6db);case _0x4b182d['DataCollection']:case _0x4b182d[_0x2438e5(0x5c0)]:return _0x2438e5(0x633)+_0x480762[_0x2438e5(0x3fe)]+_0x2438e5(0x50f);case _0x4b182d[_0x2438e5(0x34c)]:return _0x2438e5(0x3e6)+_0x480762[_0x2438e5(0x3fe)];case _0x4b182d[_0x2438e5(0x266)]:return _0x2438e5(0x7cd);case _0x4b182d[_0x2438e5(0x1f0)]:return _0x2438e5(0x89e);case _0x4b182d[_0x2438e5(0x158)]:return _0x2438e5(0x2f4);case _0x4b182d[_0x2438e5(0x9d2)]:case _0x4b182d[_0x2438e5(0x2aa)]:return _0x2438e5(0x1b0);case _0x46b128[_0x2438e5(0x713)][_0x2438e5(0x2ee)]:return'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.';case _0x46b128[_0x2438e5(0x713)][_0x2438e5(0x2b8)]:return _0x2438e5(0x241);case _0x46b128[_0x2438e5(0x713)][_0x2438e5(0xb5)]:return _0x2438e5(0x688);default:return'';}}['getToolParams'](_0x2697c9){const _0x3b7583=_0x47ccb7;switch(_0x2697c9[_0x3b7583(0x96)]){case _0x4b182d[_0x3b7583(0x856)]:case _0x4b182d[_0x3b7583(0x247)]:case _0x4b182d[_0x3b7583(0x998)]:return[{'name':_0x3b7583(0x806),'type':_0x3b7583(0x3af)}];case _0x4b182d[_0x3b7583(0x976)]:case _0x4b182d[_0x3b7583(0x5c0)]:return[{'name':_0x3b7583(0x141),'type':_0x3b7583(0x3af)}];case _0x4b182d['CustomSkill']:return _0x2697c9[_0x3b7583(0x164)][_0x3b7583(0x437)](_0x26a569=>({'name':_0x26a569[_0x3b7583(0xd7)],'type':_0x26a569[_0x3b7583(0x96)]??_0x3b7583(0x3af)}))??[];case _0x4b182d[_0x3b7583(0x266)]:return[{'name':_0x3b7583(0x709),'type':'string'}];case _0x4b182d[_0x3b7583(0x1f0)]:return[{'name':_0x3b7583(0x1d1),'type':_0x3b7583(0x3af)}];case _0x4b182d['Search']:return[{'name':_0x3b7583(0x709),'type':'string'}];case _0x4b182d[_0x3b7583(0x9d2)]:case _0x4b182d[_0x3b7583(0x2aa)]:return[{'name':_0x3b7583(0x447),'type':_0x3b7583(0x3af)},{'name':_0x3b7583(0x8ed),'type':'number'}];case _0x46b128[_0x3b7583(0x713)][_0x3b7583(0x2ee)]:return[];case _0x46b128[_0x3b7583(0x713)][_0x3b7583(0x2b8)]:return[{'name':'id','type':'string'},{'name':_0x3b7583(0x129),'type':_0x3b7583(0x3af)}];case _0x46b128[_0x3b7583(0x713)][_0x3b7583(0xb5)]:default:return[];}}[_0x47ccb7(0xadd)](){const _0x335f01=_0x47ccb7;try{return this['capacityReporter'][_0x335f01(0x716)]()[_0x335f01(0xa65)]['cores']*(0x1-this[_0x335f01(0x242)]['getCapacityReport']()['gpu'][_0x335f01(0x34a)]);}catch(_0x186f3e){return _0x1a21a7[_0x335f01(0x766)](_0x5300ce['Jobs'],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x186f3e),0x0;}}['sendStats'](){const _0x25808c=_0x47ccb7;this[_0x25808c(0x387)]&&(this[_0x25808c(0xad3)]&&clearTimeout(this[_0x25808c(0xad3)]),this[_0x25808c(0xad3)]=setTimeout(async()=>{const _0x40b884=_0x25808c;delete this[_0x40b884(0xad3)];let _0x1c3653=0x0;for(const _0x36d317 of this[_0x40b884(0x429)][_0x40b884(0x78c)]())_0x1c3653+=await _0x36d317[_0x40b884(0x392)]();this[_0x40b884(0x9bb)][_0x40b884(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x40b884(0x416)],'content':{'type':_0x27c53f[_0x40b884(0x298)],'label':this[_0x40b884(0xa39)],'stats':{'timestamp':Date[_0x40b884(0x31e)](),'storage':_0x1c3653,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x40b884(0x1e8)],'bytesReceived':this[_0x40b884(0x945)],'writes':0x0,'reads':0x0,'prompts':this[_0x40b884(0x522)],'tokens':this[_0x40b884(0x967)]}}});},_0x154809));}[_0x47ccb7(0x839)](_0xf6d5d3,_0x3ce70a){const _0x1999e8=_0x47ccb7,_0x377e6c=this['label'],_0x5310eb=this[_0x1999e8(0x29c)]();_0x1a21a7[_0x1999e8(0x839)](_0x255268[_0x1999e8(0x7f8)],{'topic':_0x377e6c,'type':_0x1999e8(0x129),'nodeId':_0x5310eb,'tokenCount':_0x3ce70a,'tokensPerSecond':_0xf6d5d3});}async[_0x47ccb7(0x81)](_0x580c9c,_0x23c65e,_0x26e6b1,_0x1f2bb6){const _0xb30e9a=_0x47ccb7;try{if(!await _0x145894[_0xb30e9a(0x81)](_0x23c65e,_0x580c9c,_0x26e6b1,_0x1f2bb6))throw new Error(_0xb30e9a(0x1ab));return _0x580c9c;}catch(_0x5a8868){return console[_0xb30e9a(0xa14)](_0xb30e9a(0x1ab),_0x5a8868),'Could\x20not\x20open\x20trace';}}async[_0x47ccb7(0x336)](_0x54970a,_0x4cad10){const _0x5af44e=_0x47ccb7;try{await _0x145894[_0x5af44e(0x336)](_0x54970a,_0x4cad10);}catch(_0x3a4111){console['error'](_0x5af44e(0x28d),{'jobId':_0x54970a,'error':_0x3a4111});}}}class _0x199174 extends _0x52f39d{[_0x47ccb7(0x987)];[_0x47ccb7(0x8b5)];[_0x47ccb7(0x111)];['db'];[_0x47ccb7(0xad3)];[_0x47ccb7(0x85e)]=0x0;[_0x47ccb7(0x544)]=0x0;[_0x47ccb7(0x767)]=!0x1;constructor(_0xc7d7aa,_0x537e7d,_0x43e1b2,_0x385505,_0x19b4e7){const _0x23a9e4=_0x47ccb7;if(_0x23a9e4(0x3af)!=typeof _0x537e7d)throw new _0xb4a92c(_0x215585[_0x23a9e4(0x2ed)],_0x23a9e4(0x3e0));super(_0xc7d7aa,_0x537e7d),this[_0x23a9e4(0x987)]=_0xc7d7aa,this['clusterId']=_0x43e1b2,this[_0x23a9e4(0x111)]=_0x385505;const _0x59108f=_0x23a9e4(0x469)+this[_0x23a9e4(0x111)]+_0x23a9e4(0x469)+this['clusterId']+_0x23a9e4(0x469)+this[_0x23a9e4(0xa39)];this['db']=new _0x19b4e7(_0x59108f),this['sendStats']();}[_0x47ccb7(0xa61)](){return this['isLoaded'];}[_0x47ccb7(0x7e8)](_0x95eb19){const _0x31c9d8=_0x47ccb7;this[_0x31c9d8(0x767)]=_0x95eb19;}[_0x47ccb7(0x85c)](){const _0x355ce4=_0x47ccb7;clearTimeout(this[_0x355ce4(0xad3)]),delete this['debounceStats'],super[_0x355ce4(0x85c)]();}[_0x47ccb7(0x3a0)](){const _0x40b80a=_0x47ccb7;this['systemTopic'][_0x40b80a(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x40b80a(0x416)],'content':{'type':_0x27c53f[_0x40b80a(0x46e)],'label':this[_0x40b80a(0xa39)]}});}[_0x47ccb7(0x9a2)](){const _0x2c0a32=_0x47ccb7;return _0x46b128[_0x2c0a32(0x5c1)][_0x2c0a32(0x120)];}[_0x47ccb7(0xf3)](){const _0x2525cb=_0x47ccb7;this[_0x2525cb(0xa36)]();}[_0x47ccb7(0x165)](_0x22eca0,_0x99f216,_0x88d786,_0x1a992b){const _0xbc77e2=_0x47ccb7;this['db'][_0xbc77e2(0x165)](_0x22eca0,_0x99f216,_0x88d786,_0x1a992b),this['writes']+=0x1,this[_0xbc77e2(0xa36)]();}[_0x47ccb7(0x64d)](_0x3afaba,_0xf684dc){const _0x1b3604=_0x47ccb7;this['db']['addEdge'](_0x3afaba,_0xf684dc),this[_0x1b3604(0x85e)]+=0x1,this[_0x1b3604(0xa36)]();}[_0x47ccb7(0x42a)](_0x2b9f88,_0x1eaec2,_0x2e2d96){const _0x5399d5=_0x47ccb7,_0x3ae3e4=this['db']['getContent'](_0x2b9f88,_0x1eaec2,_0x2e2d96);return this[_0x5399d5(0x544)]+=0x1,_0x1a21a7[_0x5399d5(0x839)](_0x255268[_0x5399d5(0x120)],{'type':_0x5399d5(0xa47),'label':this[_0x5399d5(0xa39)],'nodeId':this[_0x5399d5(0x987)][_0x5399d5(0x932)](),'nodeType':this[_0x5399d5(0x987)][_0x5399d5(0x96)],'clusterId':this[_0x5399d5(0x8b5)],'size':0x0}),this[_0x5399d5(0xa36)](),_0x3ae3e4;}[_0x47ccb7(0x607)](_0x49c3cc){const _0x3caa8f=_0x47ccb7;this['db']['remove'](_0x49c3cc),this[_0x3caa8f(0x85e)]+=0x1,this[_0x3caa8f(0xa36)]();}[_0x47ccb7(0x3e8)](_0x2d212b){const _0x58534d=_0x47ccb7;this['db'][_0x58534d(0x3e8)](_0x2d212b);}['loadFromDisk'](_0x4b29e5){const _0x33e383=_0x47ccb7;this['db'][_0x33e383(0x86f)](_0x4b29e5);}['sendStats'](){const _0x29eeec=_0x47ccb7;this[_0x29eeec(0xad3)]&&clearTimeout(this['debounceStats']),this[_0x29eeec(0xad3)]=setTimeout(async()=>{const _0x3a59de=_0x29eeec;delete this[_0x3a59de(0xad3)];const _0x5738f6=this['db'][_0x3a59de(0x392)]();this[_0x3a59de(0x9bb)][_0x3a59de(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f['GraphDatabaseStats'],'label':this[_0x3a59de(0xa39)],'stats':{'timestamp':Date[_0x3a59de(0x31e)](),'storage':_0x5738f6,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3a59de(0x698)],'bytesSent':this[_0x3a59de(0x1e8)],'bytesReceived':this[_0x3a59de(0x945)],'writes':this['writes'],'reads':this[_0x3a59de(0x544)],'prompts':0x0,'tokens':0x0}}}),_0x1a21a7[_0x3a59de(0x989)](_0x255268['GraphDatabase'],_0x3a59de(0x469)+this[_0x3a59de(0x8b5)]+_0x3a59de(0x469)+this[_0x3a59de(0xa39)],_0x5738f6);},_0x154809);}}class _0x105d52 extends _0x548c4f{['mediaStream'];constructor(_0x168ec0,_0x1e5e69,_0xa07f03){super(_0x168ec0,_0x1e5e69),this['mediaStream']=_0xa07f03;}[_0x47ccb7(0x9a2)](){const _0x15bae3=_0x47ccb7;return _0x46b128[_0x15bae3(0x5c1)][_0x15bae3(0x306)];}[_0x47ccb7(0x2f8)](){const _0x19549a=_0x47ccb7;return this[_0x19549a(0x51d)];}[_0x47ccb7(0x901)](){const _0x1bc080=_0x47ccb7;return this[_0x1bc080(0x51d)]['id'];}}class _0x4e6a62 extends _0x105d52{[_0x47ccb7(0xa54)];[_0x47ccb7(0x1df)];['topic'];['unregisterPublisherListener']=_0x25dd72();constructor(_0x301cbd,_0x24abe4,_0x326cea,_0x27f314,_0x57913f){const _0x251583=_0x47ccb7;super(_0x301cbd,_0x24abe4,_0x326cea),this['remoteId']=_0x27f314,this[_0x251583(0x1df)]=_0x57913f;}[_0x47ccb7(0x85c)](){const _0x180f1e=_0x47ccb7;this[_0x180f1e(0x897)](_0x180f1e(0x236)),this['removeTrack']('video'),super[_0x180f1e(0x85c)]();}[_0x47ccb7(0x9e5)](_0x55c0a3){const _0x58b0b8=_0x47ccb7;if(!this['topic'])throw new _0x20e318(_0x20e318[_0x58b0b8(0x6f4)][_0x58b0b8(0x527)],{'label':this[_0x58b0b8(0xa39)],'ownerId':this[_0x58b0b8(0xa10)][_0x58b0b8(0x932)](),'remoteId':this[_0x58b0b8(0xa54)]});this[_0x58b0b8(0x1a4)][_0x58b0b8(0x19c)]({'sourceId':this[_0x58b0b8(0xa10)]['getId'](),'content':{'action':_0x455879['Add'],'track':_0x55c0a3,'stream':this[_0x58b0b8(0x51d)],'priority':_0x46b128[_0x58b0b8(0x2cc)][_0x58b0b8(0x381)],'params':this[_0x58b0b8(0x40c)](_0x55c0a3[_0x58b0b8(0x45f)],this[_0x58b0b8(0x1df)])}});}['removeTrack'](_0x293fa5){const _0x4d517d=_0x47ccb7,_0x8f2aa0=this[_0x4d517d(0x9c3)](_0x293fa5);if(_0x8f2aa0){if(!this[_0x4d517d(0x1a4)])return null;this['topic'][_0x4d517d(0x19c)]({'sourceId':this[_0x4d517d(0xa10)][_0x4d517d(0x932)](),'content':{'action':_0x455879[_0x4d517d(0x659)],'track':_0x8f2aa0,'stream':this[_0x4d517d(0x51d)]}});}return _0x8f2aa0;}[_0x47ccb7(0x6c2)](_0x3a3879){const _0x3da262=_0x47ccb7;if(!this['topic'])throw new _0x20e318(_0x20e318[_0x3da262(0x6f4)][_0x3da262(0x527)],{'label':this[_0x3da262(0xa39)],'ownerId':this[_0x3da262(0xa10)][_0x3da262(0x932)](),'remoteId':this['remoteId']});this[_0x3da262(0x1a4)][_0x3da262(0x19c)]({'sourceId':this['owner'][_0x3da262(0x932)](),'content':{'action':_0x455879[_0x3da262(0x93f)],'priority':_0x3a3879,'stream':this[_0x3da262(0x51d)]}});}['subscribe']({trackKinds:_0x11fe0e,params:_0xe0ba86},_0x25ebce){const _0x37f62b=_0x47ccb7;if(!this['topic'])throw new _0x20e318(_0x20e318[_0x37f62b(0x6f4)][_0x37f62b(0x527)],{'label':this[_0x37f62b(0xa39)],'ownerId':this[_0x37f62b(0xa10)][_0x37f62b(0x932)](),'remoteId':this[_0x37f62b(0xa54)]});for(const _0x112de9 of this['mediaStream'][_0x37f62b(0x74d)]())_0x11fe0e[_0x37f62b(0x9d0)](_0x112de9[_0x37f62b(0x45f)])&&this[_0x37f62b(0x1a4)][_0x37f62b(0x19c)]({'sourceId':this[_0x37f62b(0xa10)][_0x37f62b(0x932)](),'content':{'action':_0x455879['Add'],'track':_0x112de9,'stream':this[_0x37f62b(0x51d)],'priority':_0x25ebce,'params':this[_0x37f62b(0x40c)](_0x112de9['kind'],_0xe0ba86)}});}[_0x47ccb7(0x96a)]({params:_0x257609}){const _0x271abc=_0x47ccb7;if(!this[_0x271abc(0x1a4)])throw new _0x20e318(_0x20e318['codes'][_0x271abc(0x527)],{'label':this['label'],'ownerId':this[_0x271abc(0xa10)][_0x271abc(0x932)](),'remoteId':this[_0x271abc(0xa54)]});for(const _0x5323dd of this[_0x271abc(0x51d)]['getTracks']())this[_0x271abc(0x1a4)][_0x271abc(0x19c)]({'sourceId':this[_0x271abc(0xa10)][_0x271abc(0x932)](),'content':{'action':_0x455879[_0x271abc(0x93f)],'stream':this[_0x271abc(0x51d)],'params':this[_0x271abc(0x40c)](_0x5323dd[_0x271abc(0x45f)],_0x257609)}});}['unsubscribe']({trackKinds:_0xc0079e}){const _0x4e367d=_0x47ccb7;if(this[_0x4e367d(0x1a4)]){for(const _0x4b4db2 of this[_0x4e367d(0x51d)][_0x4e367d(0x74d)]())_0xc0079e['includes'](_0x4b4db2['kind'])&&this[_0x4e367d(0x1a4)][_0x4e367d(0x19c)]({'sourceId':this[_0x4e367d(0xa10)]['getId'](),'content':{'action':_0x455879['Remove'],'stream':this[_0x4e367d(0x51d)],'track':_0x4b4db2}});}}[_0x47ccb7(0x5bf)](_0x1e34d3){this['topic']=_0x1e34d3;}['unregisterPublisher'](_0x59d065){const _0x15891a=_0x47ccb7;_0x59d065===this[_0x15891a(0x1a4)]&&(delete this[_0x15891a(0x1a4)],this['unregisterPublisherListener']['publish']());}['onUnregisterPublisher'](_0x389a91){const _0x163451=_0x47ccb7;return this[_0x163451(0x12f)][_0x163451(0x9b4)](_0x389a91);}[_0x47ccb7(0x9c3)](_0x35cd3f){const _0x547076=_0x47ccb7;return this[_0x547076(0x51d)][_0x547076(0x74d)]()[_0x547076(0x1b5)](_0x51665e=>_0x51665e[_0x547076(0x45f)]===_0x35cd3f)||null;}[_0x47ccb7(0x40c)](_0x406257,_0x4bdb69){const _0x1cabb3=_0x47ccb7;let _0x54a8b4;return _0x1cabb3(0xbe)===_0x406257&&_0x4bdb69?.[_0x1cabb3(0xbe)]&&_0x1cabb3(0xab0)!=typeof _0x4bdb69[_0x1cabb3(0xbe)]&&(_0x54a8b4={'kind':_0x1cabb3(0xbe),..._0x4bdb69[_0x1cabb3(0xbe)]},_0x54a8b4[_0x1cabb3(0x1a1)]=this['getResolution']()),_0x1cabb3(0x236)===_0x406257&&_0x4bdb69?.['audio']&&_0x1cabb3(0xab0)!=typeof _0x4bdb69[_0x1cabb3(0x236)]&&(_0x54a8b4={'kind':_0x1cabb3(0x236),..._0x4bdb69[_0x1cabb3(0x236)]}),_0x54a8b4;}[_0x47ccb7(0x156)](){const _0x322922=_0x47ccb7;let _0x401ea3={'width':0x0,'height':0x0};const _0x1daf94=this[_0x322922(0x51d)][_0x322922(0x85)]();if(_0x1daf94[_0x322922(0x583)]>0x0){const _0x4f49d2=_0x1daf94[0x0]['getSettings']();_0x4f49d2[_0x322922(0x884)]&&_0x4f49d2[_0x322922(0x6c9)]&&(_0x401ea3={'width':_0x4f49d2[_0x322922(0x884)],'height':_0x4f49d2[_0x322922(0x6c9)]});}return _0x401ea3;}}class _0x106e53 extends _0x105d52{[_0x47ccb7(0x8b5)];['priority']=_0x46b128[_0x47ccb7(0x2cc)][_0x47ccb7(0x381)];[_0x47ccb7(0x35e)]=new Map();['outgoingStreams']=new Map();constructor(_0xbaf05,_0x397bf2,_0x4d6185,_0x1ac6b8){const _0x357d49=_0x47ccb7;super(_0xbaf05,_0x397bf2,_0x4d6185 instanceof MediaStream?_0x4d6185:_0x4d6185[_0x357d49(0x33c)]?_0x4d6185['srcObject']:_0x4d6185['captureStream']()),this[_0x357d49(0x8b5)]=_0x1ac6b8,this[_0x357d49(0x51d)][_0x357d49(0x74d)]()[_0x357d49(0xa9d)](_0x633343=>this[_0x357d49(0x14b)](_0x633343)),_0x1a21a7[_0x357d49(0x839)](_0x255268[_0x357d49(0x4a5)],{'type':_0x357d49(0x19c),'label':this['label'],'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0x357d49(0x96)],'clusterId':this[_0x357d49(0x8b5)],'streamId':this[_0x357d49(0x901)](),'trackKinds':this[_0x357d49(0x51d)][_0x357d49(0x74d)]()['map'](_0x1cb88a=>_0x1cb88a[_0x357d49(0x45f)])});}[_0x47ccb7(0x85c)](){const _0x162fc0=_0x47ccb7;this['outgoingStreams'][_0x162fc0(0x8f6)]>0x0&&(this[_0x162fc0(0x8ea)][_0x162fc0(0xa9d)](_0x41956c=>{const _0x407b20=_0x162fc0;_0x41956c[_0x407b20(0xa03)](),_0x41956c[_0x407b20(0x85c)]();}),this[_0x162fc0(0x8ea)][_0x162fc0(0x30f)]()),this[_0x162fc0(0x35e)]['forEach'](_0x4e3b16=>_0x4e3b16()),super[_0x162fc0(0x85c)]();}['publish'](_0x1f744f){const _0x18295e=_0x47ccb7;this[_0x18295e(0x9bb)][_0x18295e(0x19c)]({'sourceId':this[_0x18295e(0xa10)]['getId'](),'destinationIds':_0x1f744f?[_0x1f744f]:void 0x0,'propagate':!0x0,'messageType':_0x11d238[_0x18295e(0x416)],'content':{'type':_0x27c53f['PublishMediaStream'],'ownerId':this[_0x18295e(0xa10)][_0x18295e(0x932)](),'label':this[_0x18295e(0xa39)],'stream':{'streamId':this[_0x18295e(0x901)](),'availableTrackKinds':this[_0x18295e(0x51d)][_0x18295e(0x74d)]()[_0x18295e(0x437)](_0x14860b=>_0x14860b[_0x18295e(0x45f)])}}});}['unpublish'](){const _0x2af25b=_0x47ccb7;this[_0x2af25b(0x9bb)][_0x2af25b(0x19c)]({'sourceId':this[_0x2af25b(0xa10)]['getId'](),'propagate':!0x0,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f[_0x2af25b(0x333)],'ownerId':this[_0x2af25b(0xa10)][_0x2af25b(0x932)](),'label':this[_0x2af25b(0xa39)]}}),this[_0x2af25b(0x9bb)][_0x2af25b(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x2af25b(0x416)],'content':{'type':_0x27c53f[_0x2af25b(0x4d4)],'label':this[_0x2af25b(0xa39)]}}),_0x1a21a7[_0x2af25b(0x839)](_0x255268['MediaStream'],{'type':'unpublish','label':this['label'],'nodeId':this[_0x2af25b(0xa10)][_0x2af25b(0x932)](),'nodeType':this[_0x2af25b(0xa10)][_0x2af25b(0x96)],'clusterId':this[_0x2af25b(0x8b5)],'streamId':this['getInternalStreamId']()});}[_0x47ccb7(0x455)](){const _0x421973=_0x47ccb7;return this[_0x421973(0x83f)];}[_0x47ccb7(0x6c2)](_0x14bc8c){const _0x8d624c=_0x47ccb7;this['priority']=_0x14bc8c,this[_0x8d624c(0x8ea)][_0x8d624c(0xa9d)](_0x152545=>_0x152545[_0x8d624c(0x6c2)](_0x14bc8c));}[_0x47ccb7(0x369)](_0x170b4f,_0x59086e){const _0x287888=_0x47ccb7;if(!this[_0x287888(0x8ea)][_0x287888(0x788)](_0x170b4f)){const _0x517509=new _0x4e6a62(this[_0x287888(0xa10)],this[_0x287888(0xa39)],this[_0x287888(0x51d)],_0x170b4f,_0x59086e),_0x2f9818=_0x517509[_0x287888(0x20f)](()=>{const _0x5d0623=_0x287888;_0x2f9818(),this['outgoingStreams']['get'](_0x170b4f)?.['destroy'](),this[_0x5d0623(0x8ea)][_0x5d0623(0x7b9)](_0x170b4f);});this['outgoingStreams']['set'](_0x170b4f,_0x517509),_0x517509['registerSystemPublisher'](this[_0x287888(0x9bb)]);}return this[_0x287888(0x8ea)][_0x287888(0x4ab)](_0x170b4f);}[_0x47ccb7(0x861)](){const _0x33e6c5=_0x47ccb7;return this[_0x33e6c5(0x51d)]['id'];}['handleLocalTrackFailure'](_0x55ad5d){const _0x505aca=_0x47ccb7;this[_0x505aca(0x9bb)]['publish']({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x505aca(0x416)],'content':{'type':_0x27c53f[_0x505aca(0x517)],'label':this[_0x505aca(0xa39)],'trackKinds':[_0x55ad5d[_0x505aca(0x45f)]]}});}[_0x47ccb7(0x14b)](_0x532a8a){const _0x20758d=_0x47ccb7,_0x52fde1=()=>this[_0x20758d(0xa51)](_0x532a8a);_0x532a8a[_0x20758d(0x581)](_0x20758d(0x952),_0x52fde1),_0x532a8a[_0x20758d(0x581)](_0x20758d(0x476),_0x52fde1),this[_0x20758d(0x35e)][_0x20758d(0x9de)](_0x532a8a[_0x20758d(0x45f)],()=>{const _0x1f3844=_0x20758d;_0x532a8a[_0x1f3844(0x8d9)](_0x1f3844(0x952),_0x52fde1),_0x532a8a[_0x1f3844(0x8d9)](_0x1f3844(0x476),_0x52fde1),this[_0x1f3844(0x35e)][_0x1f3844(0x7b9)](_0x532a8a[_0x1f3844(0x45f)]);});}}class _0x55d6d3 extends _0x106e53{[_0x47ccb7(0x958)];[_0x47ccb7(0x96e)]=[];[_0x47ccb7(0x279)];[_0x47ccb7(0xf6)];[_0x47ccb7(0x2a6)];[_0x47ccb7(0x927)];[_0x47ccb7(0x45b)];[_0x47ccb7(0x7d2)];[_0x47ccb7(0x3a5)];constructor(_0x30d175,_0x2017f0,_0x514aed,_0x39249b,_0x331a75,_0x26731b){const _0x2d9398=_0x47ccb7;if(super(_0x30d175,_0x2017f0,_0x514aed,_0x26731b),this[_0x2d9398(0x958)]=_0x331a75,this['clientStream']=this[_0x2d9398(0x51d)],this[_0x2d9398(0x927)]=document[_0x2d9398(0x552)](_0x2d9398(0xbe)),this[_0x2d9398(0x927)][_0x2d9398(0x1ba)]=!0x0,this[_0x2d9398(0x927)]['muted']=!0x0,this['sourceVideo'][_0x2d9398(0x33c)]=this[_0x2d9398(0x279)],this[_0x2d9398(0x927)][_0x2d9398(0x34a)](),this[_0x2d9398(0x927)][_0x2d9398(0x629)]=()=>{const _0x2f7424=_0x2d9398;this[_0x2f7424(0x927)][_0x2f7424(0x2dc)]();},this[_0x2d9398(0x45b)]=document[_0x2d9398(0x552)]('canvas'),this[_0x2d9398(0x7d2)]=this[_0x2d9398(0x45b)]['getContext']('2d'),this[_0x2d9398(0x51d)]=this['canvas']['captureStream'](_0x39249b),this[_0x2d9398(0x2a6)]=this[_0x2d9398(0x958)][_0x2d9398(0x1af)](),this[_0x2d9398(0x279)][_0x2d9398(0x368)]()[_0x2d9398(0x583)]>0x0){const _0x123d04=this[_0x2d9398(0x279)][_0x2d9398(0x368)]()[0x0];this[_0x2d9398(0xf6)]=this[_0x2d9398(0x958)][_0x2d9398(0xff)](new MediaStream([_0x123d04])),this[_0x2d9398(0xf6)][_0x2d9398(0x4f6)](this[_0x2d9398(0x2a6)]);}const _0x244bd4=this[_0x2d9398(0x2a6)][_0x2d9398(0x69f)][_0x2d9398(0x74d)]()[0x0];this['mediaStream'][_0x2d9398(0x9e5)](_0x244bd4),this[_0x2d9398(0x3a5)]=setInterval(()=>{const _0x20ce4f=_0x2d9398;this[_0x20ce4f(0x45b)]['width']=this[_0x20ce4f(0x927)][_0x20ce4f(0x102)],this[_0x20ce4f(0x45b)][_0x20ce4f(0x6c9)]=this[_0x20ce4f(0x927)]['videoHeight'],this[_0x20ce4f(0x927)]['videoWidth']?(0x0!==this['clientStream'][_0x20ce4f(0x85)]()[_0x20ce4f(0x583)]&&this[_0x20ce4f(0x279)][_0x20ce4f(0x85)]()[0x0][_0x20ce4f(0xa5e)]?this[_0x20ce4f(0x51d)][_0x20ce4f(0x85)]()[0x0][_0x20ce4f(0xa5e)]=!0x0:this['mediaStream']['getVideoTracks']()[0x0][_0x20ce4f(0xa5e)]=!0x1,0x0!==this['clientStream']['getAudioTracks']()[_0x20ce4f(0x583)]&&this['clientStream'][_0x20ce4f(0x368)]()[0x0][_0x20ce4f(0xa5e)]?this[_0x20ce4f(0x51d)][_0x20ce4f(0x368)]()[0x0][_0x20ce4f(0xa5e)]=!0x0:this[_0x20ce4f(0x51d)]['getAudioTracks']()[0x0]['enabled']=!0x1,this[_0x20ce4f(0x7d2)][_0x20ce4f(0xaa6)](this['sourceVideo'],0x0,0x0)):this[_0x20ce4f(0x7d2)][_0x20ce4f(0x3eb)](0x0,0x0,this['canvas'][_0x20ce4f(0x884)],this[_0x20ce4f(0x45b)][_0x20ce4f(0x6c9)]);},0x3e8/_0x39249b);}[_0x47ccb7(0x85c)](){const _0x16bfb3=_0x47ccb7;clearInterval(this[_0x16bfb3(0x3a5)]),this[_0x16bfb3(0x927)][_0x16bfb3(0x607)](),this[_0x16bfb3(0x45b)][_0x16bfb3(0x607)](),this[_0x16bfb3(0xf6)]?.['disconnect'](),this['audioDestination'][_0x16bfb3(0x6b8)](),this[_0x16bfb3(0x51d)]['getTracks']()[_0x16bfb3(0xa9d)](_0x5b28b4=>{const _0x3c04b6=_0x16bfb3;_0x5b28b4[_0x3c04b6(0x66d)](),this[_0x3c04b6(0x51d)][_0x3c04b6(0x897)](_0x5b28b4);}),super['destroy']();}[_0x47ccb7(0x9e5)](_0x40573a){const _0x1ede23=_0x47ccb7,_0x325ffe=this[_0x1ede23(0x9c3)](_0x40573a[_0x1ede23(0x45f)]);_0x325ffe&&this[_0x1ede23(0x897)](_0x325ffe),_0x1ede23(0x236)!==_0x40573a['kind']?(_0x1ede23(0xbe)===_0x40573a[_0x1ede23(0x45f)]&&this['addVideoTrack'](_0x40573a),this[_0x1ede23(0x14b)](_0x40573a)):this[_0x1ede23(0x281)](_0x40573a);}[_0x47ccb7(0x897)](_0xa9df9e){const _0x4940a9=_0x47ccb7,_0x5d7953=this[_0x4940a9(0x395)](_0xa9df9e);return _0x5d7953&&(_0x4940a9(0x236)===_0x5d7953[_0x4940a9(0x45f)]&&(this[_0x4940a9(0xf6)]?.['disconnect'](),this['audioSource']=void 0x0),this[_0x4940a9(0x35e)][_0x4940a9(0x4ab)](_0x5d7953[_0x4940a9(0x45f)])?.(),this['clientStream']['removeTrack'](_0x5d7953)),_0x5d7953;}[_0x47ccb7(0x464)](_0x431c9){const _0x599b71=_0x47ccb7;this[_0x599b71(0x897)](_0x431c9[_0x599b71(0x45f)]),this['addTrack'](_0x431c9);}[_0x47ccb7(0xa1e)](_0x106979){const _0x2b1ceb=_0x47ccb7;this[_0x2b1ceb(0x96e)]=_0x106979;}['getTrack'](_0x1f716e){const _0x839e47=_0x47ccb7;return this[_0x839e47(0x279)][_0x839e47(0x74d)]()['find'](_0x4a7240=>_0x4a7240[_0x839e47(0x45f)]===_0x1f716e)||null;}[_0x47ccb7(0x395)](_0x2ce3ad){const _0x1732e0=_0x47ccb7;return'string'==typeof _0x2ce3ad?this[_0x1732e0(0x9c3)](_0x2ce3ad):_0x2ce3ad;}[_0x47ccb7(0x281)](_0xb4659c){const _0x18da02=_0x47ccb7;_0x18da02(0xcd)===this[_0x18da02(0x958)]['state']&&this[_0x18da02(0x958)][_0x18da02(0x8d2)](),this['clientStream']['addTrack'](_0xb4659c),this[_0x18da02(0xf6)]=this[_0x18da02(0x958)][_0x18da02(0xff)](this['clientStream']),this['audioSource'][_0x18da02(0x4f6)](this[_0x18da02(0x2a6)]);}[_0x47ccb7(0x9d4)](_0x451408){const _0x18cea3=_0x47ccb7;this[_0x18cea3(0x279)][_0x18cea3(0x9e5)](_0x451408),this[_0x18cea3(0x927)][_0x18cea3(0x34a)]();}}class _0x1b7103 extends _0x106e53{}class _0x4de6fa extends _0x52f39d{[_0x47ccb7(0x987)];[_0x47ccb7(0x8b5)];[_0x47ccb7(0x111)];['transactionService'];['waitForArrayBufferSize'];[_0x47ccb7(0x260)];[_0x47ccb7(0xa64)];[_0x47ccb7(0x751)];['pendingSyncTransactions']=new Map();[_0x47ccb7(0x68a)]=new Map();[_0x47ccb7(0x84f)]=new Map();[_0x47ccb7(0x5a3)]=new Map();[_0x47ccb7(0x7f9)]=new Map();['fileSendingMap']=new Map();[_0x47ccb7(0x650)];[_0x47ccb7(0x8f2)]=_0x4aa13e();[_0x47ccb7(0xad8)]=new Map();['debounceStats'];[_0x47ccb7(0x85e)]=0x0;['reads']=0x0;['syncContent']=!0x0;[_0x47ccb7(0x848)]=!0x0;[_0x47ccb7(0x56f)]=0x0;[_0x47ccb7(0x594)]=0x0;constructor(_0xa9c82a,_0x364771,_0x2eb842,_0x2753d7,_0x193e44,_0x7b1165,_0x3dd1fa,_0x4beff1){const _0x46ba37=_0x47ccb7;if(_0x46ba37(0x3af)!=typeof _0x364771)throw new _0xb4a92c(_0x215585['ObjectStoreNameNotString'],_0x46ba37(0x8fd));super(_0xa9c82a,_0x364771),this[_0x46ba37(0x987)]=_0xa9c82a,this[_0x46ba37(0x8b5)]=_0x2eb842,this[_0x46ba37(0x111)]=_0x2753d7,this[_0x46ba37(0x2b2)]=_0x193e44,this[_0x46ba37(0x807)]=_0x3dd1fa,this[_0x46ba37(0x260)]=_0x4beff1;const _0x5cc6f3=_0x46ba37(0x469)+this[_0x46ba37(0x111)]+_0x46ba37(0x469)+this[_0x46ba37(0x8b5)]+_0x46ba37(0x469)+_0x364771;this[_0x46ba37(0x650)]=new _0x7b1165(_0x5cc6f3),this[_0x46ba37(0x6d2)]=this['options']?.[_0x46ba37(0x6d2)]??!0x0,this[_0x46ba37(0x260)]?.[_0x46ba37(0x419)]&&(this[_0x46ba37(0x6d2)]=!0x1),this[_0x46ba37(0xa36)]();}[_0x47ccb7(0xf3)](){const _0x5ba721=_0x47ccb7;this[_0x5ba721(0xa36)]();}[_0x47ccb7(0x9a2)](){const _0x3ea130=_0x47ccb7;return _0x46b128[_0x3ea130(0x5c1)]['ObjectStore'];}async[_0x47ccb7(0xa0)](){const _0x250d78=_0x47ccb7;this[_0x250d78(0x848)]=!0x0;try{const _0x3b85d8=await this['objectStoreConnector'][_0x250d78(0x4ab)](_0x2f6511),_0x239186=await _0x3b85d8[_0x250d78(0x88)]();this[_0x250d78(0x751)]=_0x239186;}catch(_0x284d43){}this[_0x250d78(0xa64)]=this['onMessage'](async(_0x46459a,_0x7059d5)=>{const _0x3d0196=_0x250d78;if(!(_0x7059d5 instanceof File))try{if(_0x7059d5[_0x3d0196(0x15a)]===_0x2f8edd[_0x3d0196(0x3a7)])return void this['handleRequestPayload'](_0x7059d5);this[_0x3d0196(0x8af)](_0x7059d5);}catch(_0x287582){if(_0x287582 instanceof _0x20e318)throw _0x287582;throw new _0x20e318(_0x20e318[_0x3d0196(0x6f4)][_0x3d0196(0x195)],{'payload':_0x7059d5});}}),await this[_0x250d78(0xaa)](),this['syncContent']?await this[_0x250d78(0x800)]():this['completeSync'](),this[_0x250d78(0xa36)]();}[_0x47ccb7(0x85c)](){const _0x17079d=_0x47ccb7;this[_0x17079d(0xa64)]?.(),this[_0x17079d(0xad8)]['forEach'](_0x5bdd8f=>_0x5bdd8f()),this[_0x17079d(0xad8)][_0x17079d(0x30f)](),clearTimeout(this['debounceStats']),delete this[_0x17079d(0xad3)],super[_0x17079d(0x85c)]();}[_0x47ccb7(0x3a0)](){const _0x1a9a8f=_0x47ccb7;this['systemTopic']?.[_0x1a9a8f(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f[_0x1a9a8f(0x4d5)],'label':this['label']}});}['subscribe'](_0x39ebf5,_0x5de90b){const _0x43c91e=_0x47ccb7;if(this[_0x43c91e(0xad8)][_0x43c91e(0x788)](_0x39ebf5))throw new _0xb4a92c(_0x215585[_0x43c91e(0xa21)],_0x43c91e(0x6de));this[_0x43c91e(0xad8)][_0x43c91e(0x9de)](_0x39ebf5,this['eventListener'][_0x43c91e(0x9b4)](_0x5de90b)),this['isSyncing']||this[_0x43c91e(0x8f2)][_0x43c91e(0x19c)]({'event':_0x46b128['StorageEventType'][_0x43c91e(0x4a8)],'payload':{'filesSynced':this[_0x43c91e(0x56f)]}});}[_0x47ccb7(0x6c7)](_0x50e09b){const _0x38ce1c=_0x47ccb7;this[_0x38ce1c(0xad8)]['get'](_0x50e09b)?.(),this[_0x38ce1c(0xad8)][_0x38ce1c(0x7b9)](_0x50e09b);}['publish'](_0x46b050){const _0x374c4b=_0x47ccb7;switch(_0x46b050[_0x374c4b(0x2f5)]){case _0x46b128[_0x374c4b(0x3d0)][_0x374c4b(0x3ae)]:return this[_0x374c4b(0x88b)](_0x46b050['file'],_0x46b050['path'],_0x46b050[_0x374c4b(0x260)]);case _0x46b128[_0x374c4b(0x3d0)]['Folder']:return this[_0x374c4b(0x44b)](_0x46b050[_0x374c4b(0x18e)]);case _0x46b128[_0x374c4b(0x3d0)]['Move']:return this[_0x374c4b(0xba)](_0x46b050['path'],_0x46b050[_0x374c4b(0x7f0)]);default:throw new _0xb4a92c(_0x215585['ObjectStoreInvalidPayload'],'Cannot\x20publish\x20payload:\x20'+_0x46b050);}}async[_0x47ccb7(0x6c3)](_0x354a20){const _0x50031a=_0x47ccb7;try{const _0x5d2410=(0x0,_0x4c8224['v4'])(),_0x537412=this[_0x50031a(0x751)],_0xf8fdc0={'payloadType':_0x2f8edd['Transaction'],'action':_0x515821[_0x50031a(0x986)],'id':_0x5d2410,'parentId':_0x537412,'path':_0x354a20};await this['publishTransaction'](_0xf8fdc0);const _0x33cc1c=await this['deleteObject'](_0x354a20);!0x0!==this[_0x50031a(0x260)]?.['standalone']&&await this[_0x50031a(0x3dc)](_0xf8fdc0),_0x1a21a7[_0x50031a(0x839)](_0x255268[_0x50031a(0x804)],{'type':_0x50031a(0x6c3),'label':this[_0x50031a(0xa39)],'nodeId':this['localNode'][_0x50031a(0x932)](),'nodeType':this[_0x50031a(0x987)]['type'],'clusterId':this['clusterId'],'kind':_0x33cc1c,'path':_0x354a20}),this[_0x50031a(0x85e)]+=0x1,this[_0x50031a(0xa36)]();}catch(_0x38fedd){if(_0x38fedd instanceof _0x20e318)throw new _0xb4a92c(_0x215585['ObjectStoreNotInSync'],_0x50031a(0x69a)+_0x354a20+_0x50031a(0x123));throw new _0xb4a92c(_0x215585[_0x50031a(0xa94)],_0x50031a(0x3e7)+_0x354a20);}}async['get'](_0x395214,_0x4740d3){const _0x33e4b4=_0x47ccb7;_0x1a21a7[_0x33e4b4(0x839)](_0x255268[_0x33e4b4(0x804)],{'type':_0x33e4b4(0x4ab),'label':this[_0x33e4b4(0xa39)],'nodeId':this[_0x33e4b4(0x987)]['getId'](),'nodeType':this[_0x33e4b4(0x987)][_0x33e4b4(0x96)],'clusterId':this[_0x33e4b4(0x8b5)],'path':_0x395214}),this[_0x33e4b4(0x544)]+=0x1,this[_0x33e4b4(0xa36)]();try{return await this[_0x33e4b4(0x650)][_0x33e4b4(0x4ab)](_0x395214,_0x4740d3);}catch(_0x4a434a){try{await this[_0x33e4b4(0x650)][_0x33e4b4(0x4ab)](_0x395214+_0x252021);}catch(_0x1148e0){throw new _0xb4a92c(_0x215585['ObjectStoreInvalidPath'],_0x33e4b4(0xfe)+_0x395214);}throw new _0xb4a92c(_0x215585['ObjectStoreNotInSync'],_0x33e4b4(0x8ba));}}async[_0x47ccb7(0x296)](_0x3c7540,_0x3c2cd8){const _0x5e7cd5=_0x47ccb7,{recursive:_0x3d246a=!0x1,includeSyncingFiles:_0xb503ae=!0x1}=_0x3c2cd8??{};_0x1a21a7[_0x5e7cd5(0x839)](_0x255268['ObjectStorage'],{'type':'list','label':this['label'],'nodeId':this['localNode'][_0x5e7cd5(0x932)](),'nodeType':this[_0x5e7cd5(0x987)][_0x5e7cd5(0x96)],'clusterId':this[_0x5e7cd5(0x8b5)],'path':_0x3c7540}),this[_0x5e7cd5(0x544)]+=0x1,this[_0x5e7cd5(0xa36)]();try{const _0xb2f02=await this[_0x5e7cd5(0x650)][_0x5e7cd5(0x296)](_0x3c7540,_0x3d246a);return this['processList'](_0xb2f02,{'recursive':_0x3d246a,'includeSyncingFiles':_0xb503ae});}catch(_0x3a021f){throw new _0xb4a92c(_0x215585['ObjectStoreInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x3c7540);}}['handleNodeJoin'](_0x28454a){const _0x4cdcc4=_0x47ccb7;this[_0x4cdcc4(0x594)]+=0x1;for(const _0x373bc3 of this[_0x4cdcc4(0x68a)][_0x4cdcc4(0x78c)]())this[_0x4cdcc4(0x3dc)](_0x373bc3,[_0x28454a]);}[_0x47ccb7(0x7b6)](_0xc11e78){const _0x25005c=_0x47ccb7;this[_0x25005c(0x594)]-=0x1;const _0x5f3afd=this[_0x25005c(0x84f)]['get'](_0xc11e78);if(_0x5f3afd){for(const [_0x49db9e,_0x115a90]of _0x5f3afd[_0x25005c(0x78c)]())this['sendFileRequestPayload'](_0x49db9e,_0x115a90);this[_0x25005c(0x84f)][_0x25005c(0x7b9)](_0xc11e78);}}async[_0x47ccb7(0x392)](_0xcff4a1='/'){const _0xaeb3de=_0x47ccb7;try{return await this[_0xaeb3de(0x650)][_0xaeb3de(0x909)](_0xcff4a1);}catch(_0x269058){if(_0x269058 instanceof Error&&_0x269058[_0xaeb3de(0xa3f)][_0xaeb3de(0x9d0)](_0xaeb3de(0x26b)))return 0x0;throw new _0xb4a92c(_0x215585[_0xaeb3de(0xa94)],_0xaeb3de(0x2fd)+_0xcff4a1);}}[_0x47ccb7(0x125)](){const _0x47b6e3=_0x47ccb7;this['isSyncing']&&(this[_0x47b6e3(0x848)]=!0x1,this[_0x47b6e3(0x8f2)][_0x47b6e3(0x19c)]({'event':_0x46b128['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x47b6e3(0x56f)]}}));}async['processList'](_0x2fd4ec,{includeSyncingFiles:_0x5be367=!0x1}){const _0x5702bd=_0x47ccb7,_0x5a57e1=[];for(const _0x1a97be of _0x2fd4ec)if(_0x1a97be[_0x5702bd(0x45f)]!==_0x46b128[_0x5702bd(0x825)]['Folder']){if(_0x1a97be['name']!==_0x2f6511){if(_0x1a97be['name']['endsWith'](_0x252021)){if(!_0x5be367)continue;const _0x4979b8=_0x1a97be;if(_0x4979b8[_0x5702bd(0xd7)]=_0x4979b8[_0x5702bd(0xd7)][_0x5702bd(0x5f9)](_0x252021,''),_0x4979b8[_0x5702bd(0x219)]=_0x4979b8[_0x5702bd(0x219)][_0x5702bd(0x5f9)](_0x252021,''),await this['syncedFileExists'](_0x4979b8[_0x5702bd(0x219)])){_0x2fd4ec[_0x5702bd(0x1b5)](_0x55960d=>_0x55960d[_0x5702bd(0x219)]===_0x4979b8[_0x5702bd(0x219)])['status']=_0x46b128[_0x5702bd(0x3db)][_0x5702bd(0x783)];continue;}_0x4979b8[_0x5702bd(0x5bc)]=_0x46b128[_0x5702bd(0x3db)][_0x5702bd(0x973)];}_0x5a57e1['push'](_0x1a97be);}}else _0x1a97be[_0x5702bd(0xaca)]=await this[_0x5702bd(0x852)](_0x1a97be[_0x5702bd(0xaca)]??[],{'includeSyncingFiles':_0x5be367}),_0x5a57e1[_0x5702bd(0x5c5)](_0x1a97be);return _0x5a57e1;}async[_0x47ccb7(0x88b)](_0xc68f30,_0xfa7af8,_0x49158f){const _0x4123f6=_0x47ccb7;try{const _0xedd825=(0x0,_0x4c8224['v4'])(),_0x15c015=await _0x437b3c(_0xc68f30),_0x163728=_0x1288d6(_0xfa7af8??'/',_0xc68f30[_0x4123f6(0xd7)]);let _0x3658b9=!0x0;const _0x3218b4={'payloadType':_0x2f8edd[_0x4123f6(0x6a5)],'action':_0x515821['FileWrite'],'id':_0xedd825,'parentId':this[_0x4123f6(0x751)],'answererId':this[_0x4123f6(0x987)][_0x4123f6(0x932)](),'name':_0xc68f30[_0x4123f6(0xd7)],'type':_0xc68f30[_0x4123f6(0x96)],'path':_0xfa7af8??'/','skipEncryption':_0x49158f?.[_0x4123f6(0x808)]??!0x1,'checksum':_0x15c015};try{if(!_0x49158f?.['fetchUrl'])throw new Error(_0x4123f6(0x534));const _0x197c34=_0x163728+_0x252021;await this[_0x4123f6(0x650)][_0x4123f6(0x4ab)](_0x197c34),_0x3658b9=!0x1,await this[_0x4123f6(0x650)][_0x4123f6(0x16c)](_0x197c34),this[_0x4123f6(0x68a)]['delete'](_0x163728);}catch(_0x47e124){await this['publishTransaction'](_0x3218b4);}if(this['syncContent']||this[_0x4123f6(0x260)]?.[_0x4123f6(0x419)]?await this[_0x4123f6(0xcf)](_0xc68f30,_0xfa7af8,_0x49158f):await this[_0x4123f6(0x2b3)](_0xc68f30['name'],_0xfa7af8??'/',{'checksum':_0x15c015,'skipEncryption':_0x49158f?.[_0x4123f6(0x808)]??!0x1}),this[_0x4123f6(0x746)][_0x4123f6(0x788)](_0x163728)){const [_0x11de90,_0x5970c1]=this[_0x4123f6(0x746)]['get'](_0x163728);this[_0x4123f6(0x746)][_0x4123f6(0x9de)](_0x163728,[!0x0,_0x5970c1]);try{await _0x5970c1;}catch(_0x35dc9a){}this[_0x4123f6(0x746)][_0x4123f6(0x7b9)](_0x163728);}_0x3658b9&&this[_0x4123f6(0x594)]>0x0&&!0x0!==this[_0x4123f6(0x260)]?.['standalone']&&await this[_0x4123f6(0x291)](_0xc68f30,_0x3218b4),_0x1a21a7[_0x4123f6(0x839)](_0x255268[_0x4123f6(0x804)],{'type':_0x4123f6(0x19c),'label':this[_0x4123f6(0xa39)],'nodeId':this[_0x4123f6(0x987)][_0x4123f6(0x932)](),'nodeType':this[_0x4123f6(0x987)][_0x4123f6(0x96)],'clusterId':this['clusterId'],'kind':_0x46b128[_0x4123f6(0x825)]['File'],'path':_0xfa7af8,'fileName':_0xc68f30[_0x4123f6(0xd7)],'fileType':_0xc68f30[_0x4123f6(0x96)],'size':_0xc68f30[_0x4123f6(0x8f6)]}),this[_0x4123f6(0x85e)]+=0x1,this[_0x4123f6(0xa36)]();}catch(_0x5c9f9e){if(_0x5c9f9e instanceof _0x20e318)throw new _0xb4a92c(_0x215585[_0x4123f6(0x9db)],_0x4123f6(0x8ba));throw new _0xb4a92c(_0x215585[_0x4123f6(0xa94)],_0x4123f6(0xaa2)+_0xfa7af8+(_0xfa7af8?.[_0x4123f6(0x188)]('/')?'':'/')+_0xc68f30[_0x4123f6(0xd7)]);}}async['publishFolder'](_0x23163e){const _0x9dfbc6=_0x47ccb7;try{const _0x13c7c5=(0x0,_0x4c8224['v4'])(),_0x386678=this[_0x9dfbc6(0x751)],_0x5988b4={'payloadType':_0x2f8edd['Transaction'],'action':_0x515821[_0x9dfbc6(0x7ad)],'id':_0x13c7c5,'parentId':_0x386678,'path':_0x23163e};await this[_0x9dfbc6(0x1cd)](_0x5988b4),await this[_0x9dfbc6(0x650)][_0x9dfbc6(0x8a1)](_0x23163e),!0x0!==this[_0x9dfbc6(0x260)]?.['standalone']&&await this['send'](_0x5988b4),_0x1a21a7[_0x9dfbc6(0x839)](_0x255268[_0x9dfbc6(0x804)],{'type':_0x9dfbc6(0x19c),'label':this[_0x9dfbc6(0xa39)],'nodeId':this[_0x9dfbc6(0x987)]['getId'](),'nodeType':this['localNode'][_0x9dfbc6(0x96)],'clusterId':this[_0x9dfbc6(0x8b5)],'kind':_0x46b128[_0x9dfbc6(0x825)][_0x9dfbc6(0x1cf)],'path':_0x23163e}),this['writes']+=0x1,this['sendStats']();}catch(_0x21edb0){if(_0x21edb0 instanceof _0x20e318)throw new _0xb4a92c(_0x215585[_0x9dfbc6(0x9db)],_0x9dfbc6(0x8ba));throw new _0xb4a92c(_0x215585[_0x9dfbc6(0xa94)],_0x9dfbc6(0x663)+_0x23163e);}}async[_0x47ccb7(0xba)](_0x2109a1,_0x17ffe1){const _0x3821df=_0x47ccb7;try{const _0xf97ef9=(0x0,_0x4c8224['v4'])(),_0x140868=this[_0x3821df(0x751)],_0x225020={'payloadType':_0x2f8edd['Transaction'],'action':_0x515821[_0x3821df(0x89)],'id':_0xf97ef9,'parentId':_0x140868,'path':_0x2109a1,'newPath':_0x17ffe1};await this['publishTransaction'](_0x225020);const _0x27dd38=await this[_0x3821df(0x38c)](_0x2109a1,_0x17ffe1);!0x0!==this[_0x3821df(0x260)]?.['standalone']&&await this[_0x3821df(0x3dc)](_0x225020),_0x1a21a7[_0x3821df(0x839)](_0x255268[_0x3821df(0x804)],{'type':'move','label':this[_0x3821df(0xa39)],'nodeId':this['localNode'][_0x3821df(0x932)](),'nodeType':this[_0x3821df(0x987)]['type'],'clusterId':this[_0x3821df(0x8b5)],'kind':_0x27dd38,'path':_0x2109a1,'newPath':_0x17ffe1}),this[_0x3821df(0x85e)]+=0x1,this[_0x3821df(0xa36)]();}catch(_0x660084){if(_0x660084 instanceof _0x20e318)throw new _0xb4a92c(_0x215585['ObjectStoreNotInSync'],_0x3821df(0x8ba));throw new _0xb4a92c(_0x215585[_0x3821df(0xa94)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x2109a1);}}async['handleTransactionPayload'](_0x199e92,_0x44ab0c=!0x1){const _0x4ef3a5=_0x47ccb7;if(this[_0x4ef3a5(0x751)]&&_0x199e92[_0x4ef3a5(0x7fc)]!==this['lastTransactionId']&&_0x199e92['id']!==this[_0x4ef3a5(0x751)]){if(!_0x199e92[_0x4ef3a5(0x7fc)])throw new _0x20e318(_0x20e318[_0x4ef3a5(0x6f4)][_0x4ef3a5(0x195)]);this[_0x4ef3a5(0x8d0)][_0x4ef3a5(0x9de)](_0x199e92[_0x4ef3a5(0x7fc)],_0x199e92);}else{try{await this[_0x4ef3a5(0xae)](_0x199e92,_0x44ab0c);}catch(_0x1af2b0){}await this[_0x4ef3a5(0x575)](_0x199e92['id']),await this[_0x4ef3a5(0x440)](_0x199e92['id'],_0x44ab0c);}}async[_0x47ccb7(0xae)](_0x304303,_0x510650=!0x1){const _0x212499=_0x47ccb7;switch(_0x304303[_0x212499(0x2f5)]){case _0x515821[_0x212499(0x6ed)]:await this[_0x212499(0x14e)](_0x304303);break;case _0x515821[_0x212499(0x7ad)]:await this[_0x212499(0x3b0)](_0x304303);break;case _0x515821[_0x212499(0x89)]:await this[_0x212499(0x132)](_0x304303,_0x510650);break;case _0x515821[_0x212499(0x986)]:await this[_0x212499(0x48c)](_0x304303,_0x510650);break;default:throw new _0x20e318(_0x20e318[_0x212499(0x6f4)][_0x212499(0x195)],{'payload':_0x304303});}}async[_0x47ccb7(0x440)](_0x237fc0,_0x1e73bf=!0x1){const _0xe0208=_0x47ccb7;if(this['pendingSyncTransactions']['has'](_0x237fc0)){const _0x2e49d2=this['pendingSyncTransactions'][_0xe0208(0x4ab)](_0x237fc0);this['pendingSyncTransactions'][_0xe0208(0x7b9)](_0x237fc0),await this[_0xe0208(0x8af)](_0x2e49d2,_0x1e73bf);}}async['handleRequestPayload'](_0x9e78cd){const _0x53c431=_0x47ccb7;switch(_0x9e78cd[_0x53c431(0x2f5)]){case _0x515821[_0x53c431(0x9ac)]:return this[_0x53c431(0x400)](_0x9e78cd);case _0x515821[_0x53c431(0x8b3)]:return this[_0x53c431(0xab8)](_0x9e78cd);case _0x515821[_0x53c431(0x37b)]:return this[_0x53c431(0x813)](_0x9e78cd);case _0x515821[_0x53c431(0x1d9)]:return this[_0x53c431(0x14e)](_0x9e78cd);default:throw new _0x20e318(_0x20e318['codes'][_0x53c431(0x195)],{'payload':_0x9e78cd});}}async[_0x47ccb7(0x14e)](_0x1c54c8,_0x4af921=0x0){const _0x3245b8=_0x47ccb7,_0x1934b9=_0x1288d6(_0x1c54c8[_0x3245b8(0x18e)],_0x1c54c8['name']);if(!_0x1c54c8['data']||void 0x0===_0x1c54c8[_0x3245b8(0x776)]||!_0x1c54c8[_0x3245b8(0x566)])return this[_0x3245b8(0xa22)][_0x3245b8(0x7b9)](_0x1934b9),void await this[_0x3245b8(0x2b3)](_0x1c54c8[_0x3245b8(0xd7)],_0x1c54c8[_0x3245b8(0x18e)],{'checksum':_0x1c54c8[_0x3245b8(0x70c)],'skipEncryption':_0x1c54c8[_0x3245b8(0x808)]});if(this[_0x3245b8(0xa22)]['has'](_0x1934b9)){const _0x2715ff=this[_0x3245b8(0xa22)][_0x3245b8(0x4ab)](_0x1934b9);_0x2715ff[_0x3245b8(0x70c)]!==_0x1c54c8[_0x3245b8(0x70c)]&&(_0x2715ff[_0x3245b8(0x69f)]?.[_0x3245b8(0x3a0)](),this['fileChunks'][_0x3245b8(0x7b9)](_0x1934b9));}if(!this[_0x3245b8(0xa22)][_0x3245b8(0x788)](_0x1934b9)){try{await this[_0x3245b8(0x650)][_0x3245b8(0x16c)](_0x1934b9);}catch(_0x4487e0){}try{const _0x550694=this['syncContent']?await this[_0x3245b8(0x650)][_0x3245b8(0x4c5)](_0x1934b9,{'skipEncryption':_0x1c54c8[_0x3245b8(0x808)]}):void 0x0,_0xfecd42={'chunksReceived':_0x1c54c8[_0x3245b8(0x1ff)]??0x0,'bytesReceived':0x0,'stream':_0x550694,'checksum':_0x1c54c8[_0x3245b8(0x70c)]};this[_0x3245b8(0xa22)][_0x3245b8(0x9de)](_0x1934b9,_0xfecd42),await this[_0x3245b8(0x2b3)](_0x1c54c8[_0x3245b8(0xd7)],_0x1c54c8[_0x3245b8(0x18e)],{'checksum':_0x1c54c8['checksum'],'skipEncryption':_0x1c54c8[_0x3245b8(0x808)]});}catch(_0x3b884e){}}const _0x153afc=this[_0x3245b8(0xa22)][_0x3245b8(0x4ab)](_0x1934b9);if(_0x1c54c8['checksum']!==_0x153afc['checksum'])return;if(this['setPendingFileSyncingPayload'](_0x1c54c8,_0x1934b9),this['syncContent']){if(!_0x153afc[_0x3245b8(0x69f)])throw new _0x20e318(_0x20e318['codes'][_0x3245b8(0x195)],{'message':_0x3245b8(0x144)});let _0x4d7d4b=_0x153afc[_0x3245b8(0x9c7)];if(_0x1c54c8[_0x3245b8(0x776)]!==_0x4d7d4b){if(_0x4d7d4b>_0x1c54c8[_0x3245b8(0x776)])return;const _0x270bce=0x1000;if(_0x1c54c8[_0x3245b8(0x776)]>_0x4d7d4b+_0x270bce)return;if(_0x153afc[_0x3245b8(0x135)]||(_0x153afc[_0x3245b8(0x135)]=[]),_0x153afc[_0x3245b8(0x135)][_0x3245b8(0x583)]>0x4000)throw this[_0x3245b8(0xa22)][_0x3245b8(0x7b9)](_0x1934b9),new _0x20e318(_0x20e318['codes'][_0x3245b8(0x195)],{'message':_0x3245b8(0xa6b)});return void _0x153afc['bufferedChunks'][_0x3245b8(0x5c5)](_0x1c54c8);}try{_0x153afc[_0x3245b8(0x9c7)]+=0x1,_0x153afc['bytesReceived']+=_0x1c54c8[_0x3245b8(0x4ac)][_0x3245b8(0xab2)],await _0x153afc[_0x3245b8(0x69f)][_0x3245b8(0x4c9)](_0x1c54c8[_0x3245b8(0x4ac)]);}catch(_0xabab45){if(console[_0x3245b8(0xa14)](_0x3245b8(0x500),_0xabab45),_0x4af921>0x3)throw this[_0x3245b8(0xa22)][_0x3245b8(0x7b9)](_0x1934b9),console['error'](_0x3245b8(0x304),_0xabab45),new _0x20e318(_0x20e318[_0x3245b8(0x6f4)][_0x3245b8(0x195)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x3245b8(0x14e)](_0x1c54c8,_0x4af921+0x1);}}try{await this[_0x3245b8(0x69b)](_0x153afc,_0x1c54c8[_0x3245b8(0x776)]+0x1);}catch(_0xed68e9){throw this[_0x3245b8(0xa22)][_0x3245b8(0x7b9)](_0x1934b9),_0xed68e9;}if(this['fileChunks'][_0x3245b8(0x9de)](_0x1934b9,_0x153afc),_0x153afc[_0x3245b8(0x9c7)]<_0x1c54c8[_0x3245b8(0x566)])return;await this[_0x3245b8(0x2b9)](_0x1934b9),this['syncContent']&&(await this[_0x3245b8(0x8ab)](_0x1c54c8),_0x1a21a7[_0x3245b8(0x839)](_0x255268[_0x3245b8(0x804)],{'type':_0x3245b8(0xa0),'label':this['label'],'nodeId':this[_0x3245b8(0x987)][_0x3245b8(0x932)](),'nodeType':this[_0x3245b8(0x987)][_0x3245b8(0x96)],'clusterId':this[_0x3245b8(0x8b5)],'kind':_0x46b128['ObjectKind'][_0x3245b8(0x3ae)],'path':_0x1c54c8[_0x3245b8(0x18e)],'fileName':_0x1c54c8[_0x3245b8(0xd7)],'fileType':_0x1c54c8[_0x3245b8(0x96)],'size':_0x153afc[_0x3245b8(0x945)]}));const _0x2b0259=this['pendingFilesTransactions']['get'](_0x1c54c8['path'])??[];for(const _0x5a5bd1 of _0x2b0259)await this[_0x3245b8(0xae)](_0x5a5bd1);this[_0x3245b8(0x5a3)][_0x3245b8(0x7b9)](_0x1c54c8[_0x3245b8(0x18e)]),this['eventListener'][_0x3245b8(0x19c)]({'event':_0x46b128[_0x3245b8(0x37e)][_0x3245b8(0x6ed)],'payload':{'file':{'kind':_0x46b128[_0x3245b8(0x825)][_0x3245b8(0x3ae)],'path':_0x1c54c8['path'],'type':_0x1c54c8[_0x3245b8(0x96)],'size':_0x153afc[_0x3245b8(0x945)],'name':_0x1c54c8['name'],'pathName':_0x1934b9,'status':this[_0x3245b8(0x6d2)]?_0x46b128[_0x3245b8(0x3db)][_0x3245b8(0x894)]:_0x46b128[_0x3245b8(0x3db)][_0x3245b8(0x973)]}}}),this[_0x3245b8(0xa36)]();}async[_0x47ccb7(0x69b)](_0x5a3190,_0xb15a17){const _0x4eba78=_0x47ccb7,_0x542d69=_0x5a3190['stream'];let _0x495e58=0x0;for(;_0x5a3190['bufferedChunks']&&_0x5a3190[_0x4eba78(0x135)][_0x4eba78(0x583)]>0x0;){const _0x3f748c=_0x5a3190[_0x4eba78(0x135)][_0x4eba78(0x1b5)](_0xa78c18=>_0xa78c18['index']===_0xb15a17+0x1);if(!_0x3f748c)break;_0x5a3190[_0x4eba78(0x135)]=_0x5a3190[_0x4eba78(0x135)][_0x4eba78(0xac4)](_0x3b5edc=>_0x3b5edc[_0x4eba78(0x776)]!==_0xb15a17+0x1);try{await _0x542d69['write'](_0x3f748c['data']),_0xb15a17++;}catch(_0x563f8f){if(console[_0x4eba78(0xa14)](_0x4eba78(0xabb),_0x563f8f),_0x495e58>0x3)throw console[_0x4eba78(0xa14)](_0x4eba78(0x6fd),_0x563f8f),new _0x20e318(_0x20e318[_0x4eba78(0x6f4)][_0x4eba78(0x195)],{'message':_0x4eba78(0x6fd)});_0x495e58++;continue;}_0x5a3190[_0x4eba78(0x9c7)]+=0x1,_0x5a3190[_0x4eba78(0x945)]+=_0x3f748c[_0x4eba78(0x4ac)][_0x4eba78(0xab2)];}}async[_0x47ccb7(0x3b0)](_0x57ada4){const _0x3b3096=_0x47ccb7;await this['objectStoreConnector'][_0x3b3096(0x8a1)](_0x57ada4[_0x3b3096(0x18e)]);const [_0x265b49,_0x4185b4]=_0x28585c(_0x57ada4['path']);this[_0x3b3096(0x8f2)][_0x3b3096(0x19c)]({'event':_0x46b128[_0x3b3096(0x37e)][_0x3b3096(0x7ad)],'payload':{'folder':{'kind':_0x46b128[_0x3b3096(0x825)][_0x3b3096(0x1cf)],'name':_0x4185b4,'path':_0x265b49,'pathName':_0x57ada4['path']}}});}async['handleObjectDelete'](_0x1d90e2,_0x5e3496=!0x1){const _0x5ae91e=_0x47ccb7;if(!_0x5e3496&&!this[_0x5ae91e(0x1ce)](_0x1d90e2))return;const _0x4a8eb7=await this[_0x5ae91e(0x16c)](_0x1d90e2['path']),[_0x430640,_0x4c7b61]=_0x28585c(_0x1d90e2[_0x5ae91e(0x18e)]);this['eventListener'][_0x5ae91e(0x19c)]({'event':_0x4a8eb7===_0x46b128[_0x5ae91e(0x825)][_0x5ae91e(0x1cf)]?_0x46b128[_0x5ae91e(0x37e)]['FolderDelete']:_0x46b128[_0x5ae91e(0x37e)]['FileDelete'],'payload':{'name':_0x4c7b61,'path':_0x430640,'pathName':_0x1d90e2[_0x5ae91e(0x18e)]}}),this[_0x5ae91e(0xa36)]();}async['handleObjectMove'](_0x17c842,_0x54289b=!0x1){const _0x115054=_0x47ccb7;if(!_0x54289b&&!this[_0x115054(0x1ce)](_0x17c842))return this[_0x115054(0x7f9)][_0x115054(0x9de)](_0x17c842[_0x115054(0x7f0)],this[_0x115054(0x7f9)]['get'](_0x17c842[_0x115054(0x18e)])??_0x17c842[_0x115054(0x18e)]),void this[_0x115054(0x7f9)][_0x115054(0x7b9)](_0x17c842[_0x115054(0x18e)]);this[_0x115054(0x7f9)]['delete'](_0x17c842[_0x115054(0x18e)]);const _0x33158a=await this[_0x115054(0x650)]['moveObject'](_0x17c842[_0x115054(0x18e)],_0x17c842[_0x115054(0x7f0)]),[_0x5be53f,_0x18308f]=_0x28585c(_0x17c842['path']),[_0x1e2a55,_0x1bb56b]=_0x28585c(_0x17c842[_0x115054(0x7f0)]);this[_0x115054(0x8f2)][_0x115054(0x19c)]({'event':_0x33158a===_0x46b128['ObjectKind'][_0x115054(0x1cf)]?_0x46b128[_0x115054(0x37e)][_0x115054(0x966)]:_0x46b128[_0x115054(0x37e)][_0x115054(0x16b)],'payload':{'name':_0x1bb56b,'path':_0x1e2a55,'pathName':_0x17c842[_0x115054(0x7f0)],'oldName':_0x18308f,'oldPath':_0x5be53f,'oldPathName':_0x17c842[_0x115054(0x18e)]}}),this[_0x115054(0xa36)]();}[_0x47ccb7(0x1ce)](_0x57a4eb){const _0x333aa0=_0x47ccb7,_0x17ea94=this[_0x333aa0(0x7f9)]['get'](_0x57a4eb['path'])??_0x57a4eb['path'];let _0x147841=!0x1;for(const _0x250843 of this[_0x333aa0(0xa22)][_0x333aa0(0xa3d)]())if(_0x250843[_0x333aa0(0xa7b)](_0x17ea94)){const _0x5254a3=this[_0x333aa0(0x5a3)][_0x333aa0(0x4ab)](_0x250843)??[];_0x5254a3[_0x333aa0(0x5c5)](_0x57a4eb),this[_0x333aa0(0x5a3)][_0x333aa0(0x9de)](_0x250843,_0x5254a3),_0x147841=!0x0;}return!_0x147841;}async[_0x47ccb7(0x1cd)](_0x44baad){const _0xf93499=_0x47ccb7;if(!this[_0xf93499(0x260)]?.[_0xf93499(0x419)]){if(!_0x44baad['id'])throw new _0x20e318(_0x20e318[_0xf93499(0x6f4)][_0xf93499(0x195)],{'message':_0xf93499(0x38f)});if(_0x44baad['parentId']!==this[_0xf93499(0x751)])throw new _0x20e318(_0x20e318['codes'][_0xf93499(0x831)]);await this[_0xf93499(0x2b2)][_0xf93499(0x7cb)](_0x44baad,this[_0xf93499(0xa39)]),await this[_0xf93499(0x575)](_0x44baad['id']);}}async['updateLastTransactionId'](_0x4b41ba){this['lastTransactionId']=_0x4b41ba;const _0x2cba2c=new File([new Blob([this['lastTransactionId']])],_0x2f6511,{'type':'text/plain'});await this['writeFile'](_0x2cba2c,'/');}async[_0x47ccb7(0x400)](_0x1cdfd4){const _0x23b131=_0x47ccb7;try{const _0x483835=await this[_0x23b131(0x4ab)](_0x1cdfd4[_0x23b131(0x18e)]+'/'+_0x1cdfd4['name'],{'skipEncryption':_0x1cdfd4[_0x23b131(0x808)]}),_0x23ecd1=await _0x437b3c(_0x483835);if(''!==_0x1cdfd4[_0x23b131(0x70c)]&&_0x23ecd1!==_0x1cdfd4['checksum'])return;_0x1cdfd4['answererId']=this[_0x23b131(0x987)][_0x23b131(0x932)](),_0x1cdfd4[_0x23b131(0x2f5)]=_0x515821[_0x23b131(0x8b3)],await this[_0x23b131(0x3dc)](_0x1cdfd4,[_0x1cdfd4[_0x23b131(0xa24)]]);}catch(_0x3278ad){}}async[_0x47ccb7(0xab8)](_0x16e9d6){const _0x5027a2=_0x47ccb7,_0x45914d=_0x1288d6(_0x16e9d6[_0x5027a2(0x18e)],_0x16e9d6[_0x5027a2(0xd7)]);if(!this[_0x5027a2(0x68a)][_0x5027a2(0x788)](_0x45914d))return;const _0x3e0454=this['objectRequests']['get'](_0x45914d);_0x3e0454[_0x5027a2(0x2f5)]=_0x515821[_0x5027a2(0x37b)];const _0x4df1b1=_0x16e9d6[_0x5027a2(0x62a)];if(!_0x4df1b1)throw new _0x20e318(_0x20e318[_0x5027a2(0x6f4)][_0x5027a2(0x195)],{'message':_0x5027a2(0x365)});if(this[_0x5027a2(0x68a)]['delete'](_0x45914d),this['pendingFilesSyncing'][_0x5027a2(0x788)](_0x4df1b1)||this[_0x5027a2(0x84f)][_0x5027a2(0x9de)](_0x4df1b1,new Map()),this[_0x5027a2(0x84f)][_0x5027a2(0x4ab)](_0x4df1b1)[_0x5027a2(0x9de)](_0x45914d,[_0x3e0454,this[_0x5027a2(0x2f2)](_0x4df1b1,_0x45914d)]),_0x3e0454['answererId']=_0x4df1b1,_0x3e0454['startIndex']=this[_0x5027a2(0xa22)][_0x5027a2(0x4ab)](_0x45914d)?.[_0x5027a2(0x9c7)]??0x0,0x0===_0x3e0454['startIndex'])try{const [_0x4a29fe,_0x391a2c]=await this[_0x5027a2(0x711)](_0x16e9d6[_0x5027a2(0xd7)],_0x16e9d6[_0x5027a2(0x18e)],_0x16e9d6[_0x5027a2(0x70c)]);_0x4a29fe&&(_0x3e0454['startIndex']=_0x391a2c);}catch(_0x657caf){}this['send'](_0x3e0454,[_0x4df1b1]);}async[_0x47ccb7(0x813)](_0x5a75f2){const _0x313011=_0x47ccb7,_0x52e984=_0x1288d6(_0x5a75f2[_0x313011(0x18e)],_0x5a75f2[_0x313011(0xd7)]),_0x8f054a=await this[_0x313011(0x4ab)](_0x52e984,{'skipEncryption':_0x5a75f2[_0x313011(0x808)]}),_0x344099={..._0x5a75f2,'answererId':this[_0x313011(0x987)]['getId'](),'action':_0x515821[_0x313011(0x1d9)],'startIndex':_0x5a75f2[_0x313011(0x1ff)]??0x0};await this[_0x313011(0x291)](_0x8f054a,_0x344099,[_0x5a75f2[_0x313011(0xa24)]]);}async[_0x47ccb7(0x291)](_0x57d667,_0x1b1511,_0x5edef9){let _0x442c08,_0x3445a6;const _0x10ec23=new Promise(async(_0x13302e,_0x103502)=>{_0x442c08=_0x13302e,_0x3445a6=_0x103502;});return((async()=>{const _0x165dd1=a0_0x17d3,_0x45fa2c=Math[_0x165dd1(0x4dd)](_0x57d667[_0x165dd1(0x8f6)]/_0x4af52b);let _0x2223dd=_0x1b1511['startIndex']??0x0;const _0x5ce6eb=_0x1288d6(_0x1b1511[_0x165dd1(0x18e)],_0x1b1511[_0x165dd1(0xd7)]);this['fileSendingMap'][_0x165dd1(0x9de)](_0x5ce6eb,[!0x1,_0x10ec23]);for await(const _0x1b3d2f of async function*(_0x3b3540,_0x3f864f=0x0,_0x4c9b1b){for await(const _0x4e2df6 of _0x59b472(_0x3b3540,_0x3f864f,_0x4c9b1b))yield _0x4e2df6;}(_0x57d667,_0x2223dd,this[_0x165dd1(0x807)])){const [_0x1b1660]=this[_0x165dd1(0x746)][_0x165dd1(0x4ab)](_0x5ce6eb)??[];if(_0x1b1660)return this['fileSendingMap'][_0x165dd1(0x7b9)](_0x5ce6eb),void _0x3445a6(new Error('File\x20sending\x20interrupted'));if(this[_0x165dd1(0x5a3)][_0x165dd1(0x788)](_0x5ce6eb)){const _0x5e2aa3=this[_0x165dd1(0x5a3)][_0x165dd1(0x4ab)](_0x5ce6eb);for(const _0x498189 of _0x5e2aa3)if(_0x498189[_0x165dd1(0x2f5)]===_0x515821[_0x165dd1(0x6ed)]||_0x498189[_0x165dd1(0x2f5)]===_0x515821[_0x165dd1(0x986)])return;}const _0x297e26={..._0x1b1511,'type':_0x57d667['type'],'data':_0x1b3d2f,'index':_0x2223dd,'total':_0x45fa2c};this['send'](_0x297e26,_0x5edef9),_0x2223dd++;}const _0x1bad69=setInterval(async()=>{const _0x321125=_0x165dd1;await this[_0x321125(0x807)]()>0x0||(clearInterval(_0x1bad69),_0x442c08());});this[_0x165dd1(0x746)][_0x165dd1(0x7b9)](_0x5ce6eb);})()),_0x10ec23;}async[_0x47ccb7(0x8ab)](_0x36752e){const _0x1d2b32=_0x47ccb7;try{const _0x5b3ff4=_0x1288d6(_0x36752e['path'],_0x36752e[_0x1d2b32(0xd7)]),_0x572c08=_0x5b3ff4+_0x252021;await this['deleteObject'](_0x572c08);const [,_0x7be0ed]=this[_0x1d2b32(0x84f)][_0x1d2b32(0x4ab)](_0x36752e['answererId'])?.[_0x1d2b32(0x4ab)](_0x5b3ff4)??[];_0x7be0ed&&(clearTimeout(_0x7be0ed),this[_0x1d2b32(0x84f)][_0x1d2b32(0x4ab)](_0x36752e['answererId'])['delete'](_0x5b3ff4));}catch(_0x20e8be){}0x0===this[_0x1d2b32(0x84f)][_0x1d2b32(0x4ab)](_0x36752e[_0x1d2b32(0x62a)])?.[_0x1d2b32(0x8f6)]&&this[_0x1d2b32(0x84f)][_0x1d2b32(0x7b9)](_0x36752e['answererId']),0x0===this[_0x1d2b32(0x84f)]['size']&&0x0===this[_0x1d2b32(0x68a)][_0x1d2b32(0x8f6)]&&this[_0x1d2b32(0x125)]();}async[_0x47ccb7(0xaa)](){const _0x5490fb=_0x47ccb7;try{const _0x59d9bf=await this[_0x5490fb(0x2b2)][_0x5490fb(0xaf)](this[_0x5490fb(0xa39)],this[_0x5490fb(0x751)]);for(const _0x3e27f4 of _0x59d9bf)await this['handleTransactionPayload'](_0x3e27f4,!0x0);}catch(_0x137d4d){if(_0x137d4d instanceof _0x20e318&&_0x137d4d[_0x5490fb(0x1d1)]===_0x20e318[_0x5490fb(0x6f4)]['ObjectStoreInvalidState']){await this[_0x5490fb(0x650)][_0x5490fb(0x16c)](_0x2f6511),delete this['lastTransactionId'];try{const _0x5633d8=await this[_0x5490fb(0x650)]['list']('/',!0x1);for(const _0x4664b2 of _0x5633d8)await this[_0x5490fb(0x650)][_0x5490fb(0x16c)](_0x4664b2[_0x5490fb(0x219)]);}catch(_0x8de470){}return await this[_0x5490fb(0xaa)]();}throw _0x137d4d;}}async[_0x47ccb7(0x800)](){const _0x5f420d=_0x47ccb7,_0x2fec92=await this[_0x5f420d(0x296)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x44d5a2=async _0x5580f3=>{const _0x1982f9=_0x5f420d;for(const _0x3c4f8 of _0x5580f3){if(_0x3c4f8['kind']===_0x46b128[_0x1982f9(0x825)][_0x1982f9(0x1cf)]){_0x3c4f8[_0x1982f9(0xaca)]&&_0x3c4f8[_0x1982f9(0xaca)][_0x1982f9(0x583)]>0x0&&await _0x44d5a2(_0x3c4f8['entries']);continue;}if(_0x3c4f8[_0x1982f9(0x5bc)]!==_0x46b128[_0x1982f9(0x3db)]['Pending'])continue;const _0x21e1b0=await this['get'](_0x3c4f8['pathName']+_0x252021),_0x56bfc8=JSON['parse'](await _0x21e1b0['text']()),_0xe94c54=_0x3c4f8[_0x1982f9(0xd7)][_0x1982f9(0x5f9)](_0x252021,''),_0x5a1f98={'payloadType':_0x2f8edd[_0x1982f9(0x3a7)],'action':_0x515821[_0x1982f9(0x9ac)],'sourceId':this[_0x1982f9(0x987)]['getId'](),'type':'','path':_0x3c4f8[_0x1982f9(0x18e)],'name':_0xe94c54,'checksum':_0x56bfc8['checksum'],'skipEncryption':_0x56bfc8['skipEncryption']},_0x4855a9=_0x1288d6(_0x3c4f8[_0x1982f9(0x18e)],_0xe94c54);this['objectRequests'][_0x1982f9(0x9de)](_0x4855a9,_0x5a1f98);}};await _0x44d5a2(_0x2fec92),0x0===this[_0x5f420d(0x68a)][_0x5f420d(0x8f6)]&&0x0===this[_0x5f420d(0x84f)][_0x5f420d(0x8f6)]&&this['completeSync']();}async[_0x47ccb7(0x2b3)](_0x80a57a,_0x37ab1d,_0xb0f44){const _0x4c1ebf=_0x47ccb7,_0x311044=new File([new Blob([JSON[_0x4c1ebf(0xa26)](_0xb0f44)])],''+_0x80a57a+_0x252021,{'type':'text/plain'});await this[_0x4c1ebf(0xcf)](_0x311044,_0x37ab1d);}async['checkExistingPendingFileContent'](_0xd87bd6,_0x2442ca,_0x506da6){const _0x5620f6=_0x47ccb7;try{const _0x4a42b0=_0x1288d6(_0x2442ca,_0xd87bd6),_0x1bab1a=_0x4a42b0+_0x252021,_0x5a4001=await this[_0x5620f6(0x650)][_0x5620f6(0x4ab)](_0x1bab1a),{checksum:_0x1a1195,skipEncryption:_0x3d4186}=JSON[_0x5620f6(0x26a)](await _0x5a4001[_0x5620f6(0x88)]()),_0x29a75c=(await this[_0x5620f6(0x650)]['get'](_0x4a42b0,{'skipEncryption':_0x3d4186}))[_0x5620f6(0x8f6)];return _0x1a1195===_0x506da6&&_0x29a75c%_0x4af52b==0x0?[!0x0,Math[_0x5620f6(0x30e)](_0x29a75c/_0x4af52b)]:(await this[_0x5620f6(0x650)][_0x5620f6(0x16c)](_0x4a42b0),[!0x1,0x0]);}catch(_0x12f465){return[!0x1,0x0];}}[_0x47ccb7(0x2f2)](_0x563527,_0x3b5a8a){const _0x1685b9=_0x47ccb7,[_0x5f4e3f,_0x4b3dff]=this[_0x1685b9(0x84f)][_0x1685b9(0x4ab)](_0x563527)?.[_0x1685b9(0x4ab)](_0x3b5a8a)??[];return _0x4b3dff&&clearTimeout(_0x4b3dff),setTimeout(()=>{const _0x4ae5ce=_0x1685b9,[_0x71501,_0x286a24]=this['pendingFilesSyncing'][_0x4ae5ce(0x4ab)](_0x563527)[_0x4ae5ce(0x4ab)](_0x3b5a8a);this[_0x4ae5ce(0x28f)](_0x71501,_0x286a24);},0x927c0);}async[_0x47ccb7(0x28f)](_0x1b8c7d,_0x12d359){const _0xcc42ec=_0x47ccb7;clearTimeout(_0x12d359),_0x1b8c7d['action']=_0x515821[_0xcc42ec(0x9ac)],this[_0xcc42ec(0x68a)][_0xcc42ec(0x9de)](_0x1288d6(_0x1b8c7d[_0xcc42ec(0x18e)],_0x1b8c7d['name']),_0x1b8c7d),this[_0xcc42ec(0x3dc)](_0x1b8c7d);}[_0x47ccb7(0x445)](_0xaed382,_0x451def){const _0x1a366f=_0x47ccb7;if(!this['syncContent'])return;this[_0x1a366f(0x84f)][_0x1a366f(0x788)](_0xaed382[_0x1a366f(0x62a)])||this[_0x1a366f(0x84f)][_0x1a366f(0x9de)](_0xaed382[_0x1a366f(0x62a)],new Map());const [_0x3458b7]=this[_0x1a366f(0x84f)][_0x1a366f(0x4ab)](_0xaed382[_0x1a366f(0x62a)])[_0x1a366f(0x4ab)](_0x451def)??[{'payloadType':_0x2f8edd['Request'],'action':_0x515821['RequestFile'],'sourceId':this['localNode']['getId'](),'type':_0xaed382['type'],'name':_0xaed382[_0x1a366f(0xd7)],'path':_0xaed382[_0x1a366f(0x18e)],'skipEncryption':_0xaed382[_0x1a366f(0x808)],'checksum':_0xaed382[_0x1a366f(0x70c)],'answererId':_0xaed382['answererId']}];this[_0x1a366f(0x84f)]['get'](_0xaed382[_0x1a366f(0x62a)])[_0x1a366f(0x9de)](_0x451def,[_0x3458b7,this[_0x1a366f(0x2f2)](_0xaed382['answererId'],_0x451def)]);}async['writeFile'](_0x49a836,_0x4ec59b,_0x170222){const _0x13cc88=_0x47ccb7;this['isSyncing']&&(this[_0x13cc88(0x56f)]+=0x1),await this[_0x13cc88(0x650)][_0x13cc88(0xcf)](_0x49a836,_0x4ec59b,_0x170222);}async[_0x47ccb7(0x16c)](_0x452424){const _0x424a1f=_0x47ccb7;try{const _0x6b33fa=await this[_0x424a1f(0x650)]['deleteObject'](_0x452424);if(!_0x452424[_0x424a1f(0x188)](_0x252021))try{await this[_0x424a1f(0x650)][_0x424a1f(0x16c)](_0x452424+_0x252021);}catch(_0x32820c){}return this[_0x424a1f(0x848)]&&_0x6b33fa===_0x46b128[_0x424a1f(0x825)][_0x424a1f(0x3ae)]&&(this[_0x424a1f(0x56f)]+=0x1),_0x6b33fa;}catch(_0x4cf76e){return await this[_0x424a1f(0x650)][_0x424a1f(0x16c)](_0x452424+_0x252021);}}async[_0x47ccb7(0x38c)](_0x2baf40,_0x50e411){const _0x71653d=_0x47ccb7;try{const _0x9df477=await this[_0x71653d(0x650)][_0x71653d(0x38c)](_0x2baf40,_0x50e411);if(!_0x2baf40[_0x71653d(0x188)](_0x252021))try{await this['objectStoreConnector'][_0x71653d(0x38c)](_0x2baf40+_0x252021,_0x50e411+_0x252021);}catch(_0x465bf4){}return _0x9df477;}catch(_0x27d569){return await this['objectStoreConnector'][_0x71653d(0x38c)](_0x2baf40+_0x252021,_0x50e411+_0x252021);}}[_0x47ccb7(0xa36)](){const _0x3e7dab=_0x47ccb7;this['debounceStats']&&clearTimeout(this[_0x3e7dab(0xad3)]),this['debounceStats']=setTimeout(async()=>{const _0x15d82d=_0x3e7dab;delete this[_0x15d82d(0xad3)];const _0x18fa21=await this['objectStoreConnector'][_0x15d82d(0x909)]('/');this[_0x15d82d(0x9bb)]?.[_0x15d82d(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x15d82d(0x416)],'content':{'type':_0x27c53f[_0x15d82d(0x401)],'label':this['label'],'stats':{'timestamp':Date[_0x15d82d(0x31e)](),'storage':_0x18fa21,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x15d82d(0x698)],'bytesSent':this[_0x15d82d(0x1e8)],'bytesReceived':this[_0x15d82d(0x945)],'writes':this[_0x15d82d(0x85e)],'reads':this[_0x15d82d(0x544)],'prompts':0x0,'tokens':0x0}}}),this[_0x15d82d(0x6d2)]&&_0x1a21a7[_0x15d82d(0x989)](_0x255268[_0x15d82d(0x804)],_0x15d82d(0x469)+this[_0x15d82d(0x8b5)]+_0x15d82d(0x469)+this[_0x15d82d(0xa39)],_0x18fa21);},_0x154809);}async[_0x47ccb7(0x346)](_0xd12829){const _0x11f082=_0x47ccb7;try{return await this[_0x11f082(0x4ab)](_0xd12829),!0x0;}catch(_0x1005c2){return!0x1;}}async[_0x47ccb7(0x2b9)](_0x1657f4){const _0x4af01e=_0x47ccb7;if(!this['fileChunks'][_0x4af01e(0x788)](_0x1657f4))return;const _0x2e10ff=this[_0x4af01e(0xa22)]['get'](_0x1657f4);if(_0x2e10ff['stream'])try{await _0x2e10ff[_0x4af01e(0x69f)][_0x4af01e(0x3a0)]();}catch(_0x53ebbc){console[_0x4af01e(0xa14)]('Error\x20closing\x20writable\x20stream',_0x53ebbc);}this[_0x4af01e(0xa22)][_0x4af01e(0x7b9)](_0x1657f4);}}class _0x2284b2 extends _0x52f39d{[_0x47ccb7(0x987)];[_0x47ccb7(0x8b5)];[_0x47ccb7(0xa64)]=new Map();[_0x47ccb7(0xad3)];constructor(_0x3c672c,_0x1e5a8a,_0x28d6a6){const _0x47048e=_0x47ccb7;if(_0x47048e(0x3af)!=typeof _0x1e5a8a)throw new _0xb4a92c(_0x215585['PubSubTopicNameNotString'],_0x47048e(0x902));super(_0x3c672c,_0x1e5a8a),this['localNode']=_0x3c672c,this[_0x47048e(0x8b5)]=_0x28d6a6,this['sendStats']();}[_0x47ccb7(0xf3)](){const _0x361e63=_0x47ccb7;this[_0x361e63(0xa36)]();}[_0x47ccb7(0x9a2)](){const _0x5c97eb=_0x47ccb7;return _0x46b128['ContentType'][_0x5c97eb(0x37c)];}[_0x47ccb7(0x19c)](_0x2d8e51,_0x3d49c3){const _0x13ee68=_0x47ccb7;_0x1a21a7[_0x13ee68(0x766)](_0x5300ce[_0x13ee68(0x37c)],_0x13ee68(0x869),this[_0x13ee68(0x987)][_0x13ee68(0x932)](),_0x2d8e51,_0x3d49c3),_0x1a21a7['logServiceEvent'](_0x255268['PubSub'],{'type':_0x13ee68(0x19c),'label':this[_0x13ee68(0xa39)],'nodeId':this[_0x13ee68(0x987)][_0x13ee68(0x932)](),'nodeType':this[_0x13ee68(0x987)][_0x13ee68(0x96)],'clusterId':this[_0x13ee68(0x8b5)],'remoteIds':_0x3d49c3??[],'contentType':_0x2d8e51 instanceof File?_0x46b128['ContentType']['File']:_0x46b128[_0x13ee68(0x5c1)][_0x13ee68(0x5d7)],'size':_0x2d8e51 instanceof File?_0x2d8e51[_0x13ee68(0x8f6)]:JSON[_0x13ee68(0xa26)](_0x2d8e51)['length']}),this[_0x13ee68(0xa36)](),this[_0x13ee68(0x3dc)](_0x2d8e51,_0x3d49c3);}['subscribe'](_0x13b30d,_0x44a3fe){const _0x5af3ab=_0x47ccb7;if(this[_0x5af3ab(0xa64)][_0x5af3ab(0x788)](_0x13b30d))throw new _0xb4a92c(_0x215585[_0x5af3ab(0xd0)],_0x5af3ab(0x1da));this['unsubscribeHandler']['set'](_0x13b30d,this[_0x5af3ab(0x9ef)]((_0x1bcde0,_0x1b217d)=>{const _0x19de8e=_0x5af3ab;_0x19de8e(0x4ac)===_0x13b30d&&_0x1b217d instanceof File||!('file'!==_0x13b30d||_0x1b217d instanceof File)||(_0x1a21a7[_0x19de8e(0x766)](_0x5300ce[_0x19de8e(0x37c)],'PubSubTopic\x20onMessage',this['localNode'][_0x19de8e(0x932)](),_0x1bcde0,_0x1b217d),_0x1a21a7[_0x19de8e(0x839)](_0x255268[_0x19de8e(0x37c)],{'type':_0x19de8e(0x9b4),'label':this['label'],'nodeId':this[_0x19de8e(0x987)][_0x19de8e(0x932)](),'nodeType':this[_0x19de8e(0x987)][_0x19de8e(0x96)],'clusterId':this[_0x19de8e(0x8b5)],'remoteId':_0x1bcde0,'contentType':_0x13b30d,'size':_0x1b217d instanceof File?_0x1b217d[_0x19de8e(0x8f6)]:JSON[_0x19de8e(0xa26)](_0x1b217d)[_0x19de8e(0x583)]}),this['sendStats'](),_0x44a3fe(_0x1bcde0,_0x1b217d));}));}[_0x47ccb7(0x6c7)](_0x3d6fc6){const _0x2bf5db=_0x47ccb7;this[_0x2bf5db(0xa64)]['get'](_0x3d6fc6)?.(),this['unsubscribeHandler'][_0x2bf5db(0x7b9)](_0x3d6fc6);}[_0x47ccb7(0x85c)](){const _0x55b74a=_0x47ccb7;this[_0x55b74a(0xa64)][_0x55b74a(0xa9d)](_0x440107=>_0x440107()),clearTimeout(this[_0x55b74a(0xad3)]),delete this['debounceStats'],super[_0x55b74a(0x85c)]();}['close'](){const _0xe9679c=_0x47ccb7;this['systemTopic']?.['publish']({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f[_0xe9679c(0xac8)],'label':this[_0xe9679c(0xa39)]}});}[_0x47ccb7(0xa36)](){const _0x4586aa=_0x47ccb7;this[_0x4586aa(0xad3)]&&clearTimeout(this[_0x4586aa(0xad3)]),this[_0x4586aa(0xad3)]=setTimeout(()=>{const _0x3e3714=_0x4586aa;this['systemTopic']?.[_0x3e3714(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x3e3714(0x416)],'content':{'type':_0x27c53f[_0x3e3714(0xee)],'label':this[_0x3e3714(0xa39)],'stats':{'timestamp':Date[_0x3e3714(0x31e)](),'storage':0x0,'messagesSent':this[_0x3e3714(0x315)],'messagesReceived':this[_0x3e3714(0x698)],'bytesSent':this[_0x3e3714(0x1e8)],'bytesReceived':this[_0x3e3714(0x945)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x154809);}}class _0x63a8a2 extends _0x105d52{['localNode'];[_0x47ccb7(0x238)];['availableTrackKinds'];[_0x47ccb7(0x8b5)];[_0x47ccb7(0xa64)];[_0x47ccb7(0x9a0)];[_0x47ccb7(0x56a)];[_0x47ccb7(0x8ea)]=new Map();['renderElement'];[_0x47ccb7(0x50a)]=new Set();[_0x47ccb7(0x335)];['providerListener']=_0x4aa13e();[_0x47ccb7(0x35e)]=new Map();constructor(_0x5adf96,_0x118e2d,_0x579c06,_0x1306dd,_0x3a24b9,_0x3f9df0){const _0x3ccd9a=_0x47ccb7;super(_0x118e2d,_0x579c06,new MediaStream()),this[_0x3ccd9a(0x987)]=_0x5adf96,this[_0x3ccd9a(0x238)]=_0x1306dd,this[_0x3ccd9a(0x29a)]=_0x3a24b9,this[_0x3ccd9a(0x8b5)]=_0x3f9df0,this[_0x3ccd9a(0x51d)]['getTracks']()[_0x3ccd9a(0xa9d)](_0x39aaf5=>this[_0x3ccd9a(0x14b)](_0x39aaf5));}['destroy'](){const _0x53b1fe=_0x47ccb7;this[_0x53b1fe(0x8ea)][_0x53b1fe(0x8f6)]>0x0&&(this[_0x53b1fe(0x8ea)][_0x53b1fe(0xa9d)](_0x41c797=>{const _0x392abb=_0x53b1fe;_0x41c797['unregisterSystemPublisher'](),_0x41c797[_0x392abb(0x85c)]();}),this[_0x53b1fe(0x8ea)]['clear']()),this[_0x53b1fe(0x35e)][_0x53b1fe(0xa9d)](_0x5b5e16=>_0x5b5e16()),this[_0x53b1fe(0x51d)][_0x53b1fe(0x74d)]()[_0x53b1fe(0xa9d)](_0x47d95f=>this[_0x53b1fe(0x51d)][_0x53b1fe(0x897)](_0x47d95f)),this[_0x53b1fe(0x56a)]&&(clearTimeout(this['updateDebounce']),delete this[_0x53b1fe(0x56a)]),this[_0x53b1fe(0x9a0)]?.(),super[_0x53b1fe(0x85c)]();}[_0x47ccb7(0x816)](_0xadaddd){const _0x28e4ec=_0x47ccb7;this['unsubscribeHandler']=_0xadaddd[_0x28e4ec(0x9b4)](({content:_0x4819e4})=>{const _0x2f70bd=_0x28e4ec;switch(_0x4819e4[_0x2f70bd(0x2f5)]){case _0x455879[_0x2f70bd(0xc3)]:if(_0x1a21a7[_0x2f70bd(0x766)](_0x5300ce[_0x2f70bd(0xad6)],'Received\x20track',this[_0x2f70bd(0x987)]['getId'](),this[_0x2f70bd(0x335)]),_0x4819e4[_0x2f70bd(0x69f)]['id']!==this[_0x2f70bd(0x238)]||_0x4819e4[_0x2f70bd(0x335)]!==this[_0x2f70bd(0x335)])return;this[_0x2f70bd(0x897)](_0x4819e4['track']['kind']),this[_0x2f70bd(0x51d)][_0x2f70bd(0x9e5)](_0x4819e4[_0x2f70bd(0x5ca)]);for(const [_0x43f44f,_0x14300a]of this[_0x2f70bd(0x8ea)][_0x2f70bd(0xaca)]())try{_0x14300a[_0x2f70bd(0x9e5)](_0x4819e4[_0x2f70bd(0x5ca)]);}catch(_0x160436){_0x14300a[_0x2f70bd(0x85c)](),this[_0x2f70bd(0x8ea)][_0x2f70bd(0x7b9)](_0x43f44f);}this[_0x2f70bd(0x14b)](_0x4819e4[_0x2f70bd(0x5ca)]),this['setupRenderElement'](),_0x2f70bd(0xbe)===_0x4819e4[_0x2f70bd(0x5ca)][_0x2f70bd(0x45f)]&&this['renderElement']&&(this[_0x2f70bd(0x51d)][_0x2f70bd(0x942)]?setTimeout(()=>this[_0x2f70bd(0xa52)]?.[_0x2f70bd(0x2dc)](),0x0):setTimeout(()=>this['renderElement']?.[_0x2f70bd(0x34a)](),0x0),this[_0x2f70bd(0x290)]());break;case _0x455879[_0x2f70bd(0xa0c)]:if(_0x4819e4[_0x2f70bd(0x69f)]['id']!==this[_0x2f70bd(0x238)]||_0x4819e4[_0x2f70bd(0x335)]!==this['providerId'])return;this[_0x2f70bd(0x897)](_0x4819e4[_0x2f70bd(0x5ca)][_0x2f70bd(0x45f)]),this[_0x2f70bd(0xa52)]&&_0x2f70bd(0xbe)===_0x4819e4[_0x2f70bd(0x5ca)][_0x2f70bd(0x45f)]&&(this[_0x2f70bd(0x9a0)]?.(),this['mediaStream'][_0x2f70bd(0x74d)]()[_0x2f70bd(0x583)]>0x0?this['renderElement']['load']():this[_0x2f70bd(0xa52)][_0x2f70bd(0x33c)]=null);}});}[_0x47ccb7(0x257)](){const _0x482595=_0x47ccb7;this['unsubscribeHandler']?.(),this[_0x482595(0x35e)][_0x482595(0xa9d)](_0x57a8e2=>_0x57a8e2()),delete this['unsubscribeHandler'];}[_0x47ccb7(0x901)](){const _0x5029cd=_0x47ccb7;return this[_0x5029cd(0x238)];}[_0x47ccb7(0x560)](_0x518a2b){const _0x4ec16f=_0x47ccb7;this[_0x4ec16f(0x238)]=_0x518a2b;}[_0x47ccb7(0x865)](){const _0xc3ddea=_0x47ccb7;return this[_0xc3ddea(0x29a)];}['hasTracks'](_0x399d18){const _0x47a049=_0x47ccb7;for(const _0x3c492d of _0x399d18||this[_0x47a049(0x29a)])if(!this[_0x47a049(0x51d)][_0x47a049(0x74d)]()[_0x47a049(0x1b5)](_0x228332=>_0x228332[_0x47a049(0x45f)]===_0x3c492d))return!0x1;return!0x0;}['getResolution'](){const _0x44f4f8=_0x47ccb7;let _0x3b93ce={'width':0x0,'height':0x0};const _0x21519a=this[_0x44f4f8(0x51d)]['getVideoTracks']();if(_0x21519a[_0x44f4f8(0x583)]>0x0){const _0x20f9f9=_0x21519a[0x0][_0x44f4f8(0xa81)]();_0x20f9f9[_0x44f4f8(0x884)]&&_0x20f9f9[_0x44f4f8(0x6c9)]&&(_0x3b93ce={'width':_0x20f9f9[_0x44f4f8(0x884)],'height':_0x20f9f9[_0x44f4f8(0x6c9)]});}return _0x3b93ce;}[_0x47ccb7(0x696)](_0x3e36e6){const _0x25c9ad=_0x47ccb7;for(const _0x33f222 of _0x3e36e6)if(!this['subscribedTracks'][_0x25c9ad(0x788)](_0x33f222))return!0x1;return!0x0;}['getShareableStream'](_0x2641ea,_0x3cce7a){const _0x49620f=_0x47ccb7;if(!this[_0x49620f(0x8ea)][_0x49620f(0x788)](_0x2641ea)){const _0xd843b5=new _0x4e6a62(this[_0x49620f(0xa10)],this[_0x49620f(0xa39)],this[_0x49620f(0x51d)],_0x2641ea,_0x3cce7a),_0x4b08af=_0xd843b5[_0x49620f(0x20f)](()=>{const _0x27674b=_0x49620f;_0x4b08af(),this[_0x27674b(0x8ea)][_0x27674b(0x4ab)](_0x2641ea)?.[_0x27674b(0x85c)](),this[_0x27674b(0x8ea)][_0x27674b(0x7b9)](_0x2641ea);});this[_0x49620f(0x8ea)][_0x49620f(0x9de)](_0x2641ea,_0xd843b5),_0xd843b5[_0x49620f(0x84)](this[_0x49620f(0x9bb)]);}return this[_0x49620f(0x8ea)]['get'](_0x2641ea);}['getShareableStreamId'](){return this['mediaStream']['id'];}[_0x47ccb7(0x455)](){const _0x566286=_0x47ccb7;return _0x46b128['MediaStreamPriority'][_0x566286(0x381)];}[_0x47ccb7(0xc5)](){const _0xb6eb4d=_0x47ccb7;return Array['from'](this[_0xb6eb4d(0x50a)]);}[_0x47ccb7(0x9b4)](_0x180a72){const _0x1e8619=_0x47ccb7;let _0x5962ec=[];if(_0x180a72){'object'!=typeof _0x180a72[_0x1e8619(0xbe)]||_0x180a72[_0x1e8619(0xbe)][_0x1e8619(0xa52)]instanceof HTMLVideoElement||!this[_0x1e8619(0xa52)]||(_0x180a72[_0x1e8619(0xbe)]={'renderElement':this[_0x1e8619(0xa52)]});try{(0x0,_0x46b128[_0x1e8619(0x5c8)])(_0x180a72);}catch(_0x418c8b){throw new _0xb4a92c(_0x215585[_0x1e8619(0xae4)],_0x1e8619(0x7a6));}_0x180a72[_0x1e8619(0xbe)]&&(_0x5962ec['push']('video'),_0x1e8619(0xab0)!=typeof _0x180a72[_0x1e8619(0xbe)]&&_0x180a72['video'][_0x1e8619(0xa52)]&&(this[_0x1e8619(0xa52)]=_0x180a72['video'][_0x1e8619(0xa52)],_0x180a72[_0x1e8619(0xbe)][_0x1e8619(0xa4f)]||(_0x180a72[_0x1e8619(0xbe)][_0x1e8619(0xa4f)]={'width':this[_0x1e8619(0xa52)][_0x1e8619(0x6e5)],'height':this['renderElement']['clientHeight']}),delete _0x180a72[_0x1e8619(0xbe)]['renderElement'])),_0x180a72['audio']&&_0x5962ec[_0x1e8619(0x5c5)]('audio');}else _0x5962ec=this[_0x1e8619(0x865)]();this['isSubscribed'](_0x5962ec)||(_0x5962ec['forEach'](_0x4a0a38=>this[_0x1e8619(0x50a)]['add'](_0x4a0a38)),this['systemTopic']['publish']({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f[_0x1e8619(0x2af)],'label':this[_0x1e8619(0xa39)],'ownerId':this[_0x1e8619(0xa10)][_0x1e8619(0x932)](),'trackKinds':_0x5962ec,'params':_0x180a72}}),_0x1a21a7[_0x1e8619(0x839)](_0x255268[_0x1e8619(0x4a5)],{'type':'subscribe','label':this['label'],'nodeId':this[_0x1e8619(0x987)][_0x1e8619(0x932)](),'nodeType':this['localNode'][_0x1e8619(0x96)],'clusterId':this[_0x1e8619(0x8b5)],'sourceId':this['owner'][_0x1e8619(0x932)](),'streamId':this[_0x1e8619(0x238)],'trackKinds':_0x5962ec}));}['update'](_0x239a85){const _0x3e84ee=_0x47ccb7;try{(0x0,_0x46b128[_0x3e84ee(0x5c8)])(_0x239a85);}catch(_0x186637){throw new _0xb4a92c(_0x215585[_0x3e84ee(0xae4)],_0x3e84ee(0x7a6));}this[_0x3e84ee(0x56a)]&&clearTimeout(this['updateDebounce']),this[_0x3e84ee(0x56a)]=setTimeout(()=>{const _0x27c3c9=_0x3e84ee;delete this[_0x27c3c9(0x56a)],this[_0x27c3c9(0x9bb)]['publish']({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f['UpdateMediaStream'],'label':this['label'],'ownerId':this['owner'][_0x27c3c9(0x932)](),'params':_0x239a85}});},0x1f4);}[_0x47ccb7(0x6c7)](_0xf5faaf){const _0x3698b9=_0x47ccb7;_0xf5faaf||(_0xf5faaf=this[_0x3698b9(0x865)]()),(_0xf5faaf=Array['isArray'](_0xf5faaf)?_0xf5faaf:[_0xf5faaf])['forEach'](_0x1ff0b0=>this[_0x3698b9(0x50a)]['delete'](_0x1ff0b0)),this[_0x3698b9(0x9bb)][_0x3698b9(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x3698b9(0x416)],'content':{'type':_0x27c53f[_0x3698b9(0x49e)],'label':this[_0x3698b9(0xa39)],'ownerId':this[_0x3698b9(0xa10)][_0x3698b9(0x932)](),'trackKinds':_0xf5faaf,'remainingTracks':this[_0x3698b9(0x50a)][_0x3698b9(0x8f6)]}});}[_0x47ccb7(0x74e)](_0x314226){const _0x4dd1a7=_0x47ccb7;return this[_0x4dd1a7(0xa74)][_0x4dd1a7(0x9b4)](_0x314226);}[_0x47ccb7(0x8d7)](){const _0x424e94=_0x47ccb7;return this[_0x424e94(0x335)];}['setProviderId'](_0x47acaf){const _0x8e5783=_0x47ccb7;this[_0x8e5783(0x335)]!==_0x47acaf&&(this[_0x8e5783(0x335)]=_0x47acaf,this[_0x8e5783(0xa74)][_0x8e5783(0x19c)](_0x47acaf));}[_0x47ccb7(0x769)](_0x3a5f22){const _0x5d848f=_0x47ccb7;this[_0x5d848f(0x35e)][_0x5d848f(0x4ab)](_0x3a5f22)?.(),this[_0x5d848f(0x35e)][_0x5d848f(0x7b9)](_0x3a5f22);}[_0x47ccb7(0x897)](_0xdffbd9){const _0x14a080=_0x47ccb7,_0x503aad=this[_0x14a080(0x51d)][_0x14a080(0x74d)]()[_0x14a080(0x1b5)](_0x44bb29=>_0x44bb29[_0x14a080(0x45f)]===_0xdffbd9);_0x503aad&&(this['mediaStream']['removeTrack'](_0x503aad),this[_0x14a080(0x8ea)]['forEach'](_0x1327e2=>_0x1327e2[_0x14a080(0x897)](_0xdffbd9)),this[_0x14a080(0x35e)][_0x14a080(0x4ab)](_0xdffbd9)?.());}['setupRenderElement'](){const _0xa4c408=_0x47ccb7;this[_0xa4c408(0xa52)]&&(this[_0xa4c408(0xa52)][_0xa4c408(0x33c)]&&this[_0xa4c408(0xa52)][_0xa4c408(0x33c)]===this[_0xa4c408(0x51d)]||(this[_0xa4c408(0xa52)][_0xa4c408(0x33c)]=this['mediaStream']));}[_0x47ccb7(0x290)](){const _0x250a26=_0x47ccb7;if(this[_0x250a26(0xa52)]&&!this[_0x250a26(0x9a0)]&&_0x250a26(0x8c2)!=typeof ResizeObserver){let _0x1755f6=this[_0x250a26(0xa52)][_0x250a26(0x6e5)],_0x394545=this[_0x250a26(0xa52)][_0x250a26(0x5a8)];const _0x981f4f=new ResizeObserver(_0x10db1e=>{const _0x207f7e=_0x250a26,{width:_0x1fad6d,height:_0x5dfb6c}=_0x10db1e[0x0][_0x207f7e(0x624)];_0x1755f6===_0x1fad6d&&_0x394545===_0x5dfb6c||(_0x1755f6=Math['floor'](_0x1fad6d),_0x394545=Math[_0x207f7e(0x634)](_0x5dfb6c),this['update']({'video':{'maxResolution':{'width':_0x1fad6d,'height':_0x5dfb6c}}}));});_0x981f4f['observe'](this['renderElement']),this['resizeHandler']=()=>_0x981f4f[_0x250a26(0x6b8)]();}}['handleRemoteTrackFailure'](_0x53b80f){const _0x2e9d9e=_0x47ccb7,_0x561ec3=[];for(const _0x271c76 of this[_0x2e9d9e(0x50a)])this[_0x2e9d9e(0x897)](_0x271c76),_0x561ec3[_0x2e9d9e(0x5c5)](_0x271c76);this[_0x2e9d9e(0x335)]&&this[_0x2e9d9e(0x9bb)][_0x2e9d9e(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x2e9d9e(0x416)],'content':{'type':_0x27c53f[_0x2e9d9e(0x9c9)],'label':this[_0x2e9d9e(0xa39)],'streamId':this[_0x2e9d9e(0x238)],'ownerId':this[_0x2e9d9e(0xa10)][_0x2e9d9e(0x932)](),'providerId':this[_0x2e9d9e(0x335)],'trackKinds':_0x561ec3}});}[_0x47ccb7(0x14b)](_0x1d09ab){const _0x51dbbe=_0x47ccb7,_0x319316=()=>this[_0x51dbbe(0x4d3)](_0x1d09ab);_0x1d09ab[_0x51dbbe(0x581)](_0x51dbbe(0x952),_0x319316),_0x1d09ab[_0x51dbbe(0x581)](_0x51dbbe(0x476),_0x319316),this['trackEndedListeners']['set'](_0x1d09ab[_0x51dbbe(0x45f)],()=>{const _0x45fd63=_0x51dbbe;_0x1d09ab[_0x45fd63(0x8d9)]('ended',_0x319316),_0x1d09ab[_0x45fd63(0x8d9)](_0x45fd63(0x476),_0x319316),this[_0x45fd63(0x35e)][_0x45fd63(0x7b9)](_0x1d09ab[_0x45fd63(0x45f)]);});}}class _0x3634ec extends _0x52f39d{[_0x47ccb7(0x987)];[_0x47ccb7(0x8b5)];[_0x47ccb7(0x111)];['db'];['debounceStats'];[_0x47ccb7(0x85e)]=0x0;[_0x47ccb7(0x544)]=0x0;[_0x47ccb7(0x767)]=!0x1;constructor(_0x46bc73,_0x2b0579,_0x6b33e7,_0x4fb966,_0x5c73f1){const _0x545f8b=_0x47ccb7;if(_0x545f8b(0x3af)!=typeof _0x2b0579)throw new _0xb4a92c(_0x215585[_0x545f8b(0xa04)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x46bc73,_0x2b0579),this['localNode']=_0x46bc73,this['clusterId']=_0x6b33e7,this[_0x545f8b(0x111)]=_0x4fb966;const _0x4de9dc=_0x545f8b(0x469)+this[_0x545f8b(0x111)]+_0x545f8b(0x469)+this['clusterId']+_0x545f8b(0x469)+this['label'];this['db']=new _0x5c73f1(_0x4de9dc),this['sendStats']();}[_0x47ccb7(0xa61)](){const _0x5ed12a=_0x47ccb7;return this[_0x5ed12a(0x767)];}[_0x47ccb7(0x7e8)](_0x387e37){const _0x1daeec=_0x47ccb7;this[_0x1daeec(0x767)]=_0x387e37;}[_0x47ccb7(0x85c)](){const _0x36f409=_0x47ccb7;clearTimeout(this[_0x36f409(0xad3)]),delete this['debounceStats'],super[_0x36f409(0x85c)]();}[_0x47ccb7(0x3a0)](){const _0x51394a=_0x47ccb7;this[_0x51394a(0x9bb)]['publish']({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f[_0x51394a(0x390)],'label':this[_0x51394a(0xa39)]}});}[_0x47ccb7(0xf3)](){this['sendStats']();}[_0x47ccb7(0x9a2)](){const _0x44f4cf=_0x47ccb7;return _0x46b128[_0x44f4cf(0x5c1)][_0x44f4cf(0x543)];}[_0x47ccb7(0x1dc)](_0x1e87fe,_0x5d8df7,_0x3d64df,_0x43ac0d,_0x5a0ee6){const _0x15c181=_0x47ccb7,_0x332eea=this['db'][_0x15c181(0x1dc)](_0x1e87fe,_0x5d8df7,_0x3d64df,_0x43ac0d,_0x5a0ee6);return this[_0x15c181(0x544)]+=0x1,_0x1a21a7[_0x15c181(0x839)](_0x255268[_0x15c181(0x543)],{'type':_0x15c181(0x1dc),'label':this[_0x15c181(0xa39)],'nodeId':this['localNode'][_0x15c181(0x932)](),'nodeType':this['localNode'][_0x15c181(0x96)],'clusterId':this[_0x15c181(0x8b5)],'size':0x0}),this[_0x15c181(0xa36)](),_0x332eea;}[_0x47ccb7(0x17a)](_0x553018,_0x1c5afe,_0x512a8f,_0x6576a7){const _0x580be5=_0x47ccb7;this['db'][_0x580be5(0x17a)](_0x553018,_0x1c5afe,_0x512a8f,_0x6576a7),this[_0x580be5(0x85e)]+=0x1,_0x1a21a7[_0x580be5(0x839)](_0x255268['VectorDatabase'],{'type':'insert','label':this[_0x580be5(0xa39)],'nodeId':this[_0x580be5(0x987)]['getId'](),'nodeType':this['localNode'][_0x580be5(0x96)],'clusterId':this[_0x580be5(0x8b5)],'size':_0x6576a7[_0x580be5(0x5b5)]((_0x21d45b,_0x38d2be)=>_0x21d45b+_0x38d2be[_0x580be5(0x583)],0x0)}),this[_0x580be5(0xa36)]();}[_0x47ccb7(0x607)](_0x473542){const _0x48b852=_0x47ccb7;this['db']['remove'](_0x473542),this[_0x48b852(0x85e)]+=0x1,_0x1a21a7[_0x48b852(0x839)](_0x255268['VectorDatabase'],{'type':_0x48b852(0x607),'label':this['label'],'nodeId':this[_0x48b852(0x987)][_0x48b852(0x932)](),'nodeType':this['localNode'][_0x48b852(0x96)],'clusterId':this[_0x48b852(0x8b5)],'size':0x0}),this[_0x48b852(0xa36)]();}[_0x47ccb7(0x3e8)](_0x3054b9){const _0x196059=_0x47ccb7;this['db'][_0x196059(0x3e8)](_0x3054b9);}[_0x47ccb7(0x86f)](_0x38354a){const _0x2dbc1d=_0x47ccb7;this['db'][_0x2dbc1d(0x86f)](_0x38354a);}[_0x47ccb7(0xa36)](){const _0x12dc7a=_0x47ccb7;this[_0x12dc7a(0xad3)]&&clearTimeout(this[_0x12dc7a(0xad3)]),this[_0x12dc7a(0xad3)]=setTimeout(async()=>{const _0x1cf7f2=_0x12dc7a;delete this[_0x1cf7f2(0xad3)];const _0x22c67e=this['db'][_0x1cf7f2(0x79b)]()[_0x1cf7f2(0xab2)];this[_0x1cf7f2(0x9bb)][_0x1cf7f2(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x1cf7f2(0x416)],'content':{'type':_0x27c53f[_0x1cf7f2(0x1ec)],'label':this[_0x1cf7f2(0xa39)],'stats':{'timestamp':Date[_0x1cf7f2(0x31e)](),'storage':_0x22c67e,'messagesSent':this[_0x1cf7f2(0x315)],'messagesReceived':this[_0x1cf7f2(0x698)],'bytesSent':this[_0x1cf7f2(0x1e8)],'bytesReceived':this['bytesReceived'],'writes':this[_0x1cf7f2(0x85e)],'reads':this[_0x1cf7f2(0x544)],'prompts':0x0,'tokens':0x0}}}),_0x1a21a7['logStorage'](_0x255268[_0x1cf7f2(0x543)],_0x1cf7f2(0x469)+this['clusterId']+_0x1cf7f2(0x469)+this['label'],_0x22c67e);},_0x154809);}}class _0x3fc480{['id'];['remoteConnections'];[_0x47ccb7(0x34d)];constructor(_0xbebfa4,_0xb402c0=new Set(),_0x232785){const _0x49d4d1=_0x47ccb7;this['id']=_0xbebfa4,this[_0x49d4d1(0x339)]=_0xb402c0,this['rank']=_0x232785;}['close'](){const _0x38deba=_0x47ccb7;this[_0x38deba(0x34d)]=void 0x0,this[_0x38deba(0x339)]['clear']();}[_0x47ccb7(0x932)](){return this['id'];}[_0x47ccb7(0x638)](){const _0x22b2bc=_0x47ccb7;return this[_0x22b2bc(0x34d)];}[_0x47ccb7(0x83c)](){const _0x4b937c=_0x47ccb7;return this[_0x4b937c(0x339)];}}class _0x45a61b extends _0x3fc480{['id'];['displayName'];[_0x47ccb7(0xa1)];['remoteConnections'];['rank'];[_0x47ccb7(0x96)]=_0x46b128[_0x47ccb7(0x177)]['User'];constructor(_0x4e853e,_0xcb161b,_0x49b7ae,_0x3f771a=new Set(),_0x536a47){const _0xa1ed3e=_0x47ccb7;super(_0x4e853e,_0x3f771a,_0x536a47),this['id']=_0x4e853e,this[_0xa1ed3e(0x828)]=_0xcb161b,this['email']=_0x49b7ae,this[_0xa1ed3e(0x339)]=_0x3f771a,this['rank']=_0x536a47;}[_0x47ccb7(0x7a4)](){return this['displayName'];}[_0x47ccb7(0x853)](){return this['email'];}}class _0x19c28d{['vendorId'];[_0x47ccb7(0x8b5)];[_0x47ccb7(0x86)];constructor(_0x516e28,_0x27a5af){const _0x17922b=_0x47ccb7;this[_0x17922b(0x111)]=_0x516e28,this[_0x17922b(0x8b5)]=_0x27a5af,this[_0x17922b(0x86)]='ccc'+this[_0x17922b(0x111)]+'ccc'+this['clusterId'];}async[_0x47ccb7(0x7cb)](_0x30c962,_0xdd19d8){const _0x4c66fb=_0x47ccb7,_0x5da82f=(0x0,_0x2b76cc[_0x4c66fb(0x94c)])(_0x3af573[_0x4c66fb(0x39f)](),_0x4c66fb(0x212)+this[_0x4c66fb(0x86)]+_0x4c66fb(0x948)+_0xdd19d8+_0x4c66fb(0x768)+_0x30c962['id']),_0x391c11=(0x0,_0x2b76cc['onDisconnect'])(_0x5da82f);_0x391c11[_0x4c66fb(0x607)](),_0x30c962[_0x4c66fb(0x7fc)]||delete _0x30c962['parentId'];try{await(0x0,_0x2b76cc[_0x4c66fb(0x9de)])(_0x5da82f,_0x30c962);}catch(_0x43a68b){throw await _0x391c11[_0x4c66fb(0x431)](),new _0x20e318(_0x20e318[_0x4c66fb(0x6f4)][_0x4c66fb(0x5b7)]);}if(!0x1===(await(0x0,_0x2b76cc[_0x4c66fb(0x9b1)])((0x0,_0x2b76cc[_0x4c66fb(0x94c)])(_0x3af573[_0x4c66fb(0x39f)](),_0x4c66fb(0x212)+this[_0x4c66fb(0x86)]+_0x4c66fb(0x948)+_0xdd19d8+_0x4c66fb(0x41a)),_0x240cec=>_0x240cec?_0x240cec===_0x30c962[_0x4c66fb(0x7fc)]?_0x30c962['id']:void 0x0:_0x30c962[_0x4c66fb(0x7fc)]?_0x30c962[_0x4c66fb(0x7fc)]:_0x30c962['id']))[_0x4c66fb(0x608)])throw await(0x0,_0x2b76cc['remove'])(_0x5da82f),await _0x391c11[_0x4c66fb(0x431)](),new _0x20e318(_0x20e318[_0x4c66fb(0x6f4)]['ObjectStoreNotSynced']);await _0x391c11['cancel']();}async[_0x47ccb7(0xaf)](_0x21b010,_0x39120c){const _0x4aaae6=_0x47ccb7;let _0xbde0f2=[];const _0x45f4d1=(0x0,_0x2b76cc[_0x4aaae6(0x94c)])(_0x3af573[_0x4aaae6(0x39f)](),_0x4aaae6(0x212)+this[_0x4aaae6(0x86)]+_0x4aaae6(0x948)+_0x21b010+_0x4aaae6(0x926));let _0x3a720e=await(0x0,_0x2b76cc[_0x4aaae6(0x4ab)])((0x0,_0x2b76cc['query'])(_0x45f4d1,(0x0,_0x2b76cc['limitToFirst'])(0x65),(0x0,_0x2b76cc[_0x4aaae6(0x72e)])()));if(!_0x3a720e['exists']()){if(void 0x0!==_0x39120c)throw new _0x20e318(_0x20e318[_0x4aaae6(0x6f4)][_0x4aaae6(0xa70)]);return _0xbde0f2;}const _0x485a46=_0x3a720e['val']();for(;Object['keys'](_0x3a720e['val']())[_0x4aaae6(0x583)]>0x64;){const _0x500684=Object[_0x4aaae6(0xa3d)](_0x3a720e[_0x4aaae6(0x3c9)]()),_0xe42810=_0x500684[_0x500684[_0x4aaae6(0x583)]-0x1];_0x3a720e=await(0x0,_0x2b76cc[_0x4aaae6(0x4ab)])((0x0,_0x2b76cc['query'])(_0x45f4d1,(0x0,_0x2b76cc[_0x4aaae6(0x745)])(0x65),(0x0,_0x2b76cc[_0x4aaae6(0x488)])(_0xe42810),(0x0,_0x2b76cc[_0x4aaae6(0x72e)])())),Object[_0x4aaae6(0x3bd)](_0x485a46,_0x3a720e[_0x4aaae6(0x3c9)]());}if(_0xbde0f2=Object['values'](_0x485a46)['filter'](_0x357139=>_0x4aaae6(0x3af)!=typeof _0x357139),0x0===_0xbde0f2[_0x4aaae6(0x583)]&&void 0x0!==_0x39120c)throw new _0x20e318(_0x20e318[_0x4aaae6(0x6f4)][_0x4aaae6(0xa70)]);if(_0xbde0f2['length']>0x0&&void 0x0!==_0x39120c&&!_0xbde0f2[_0x4aaae6(0x1b5)](_0x5a9920=>_0x5a9920['id']===_0x39120c))throw new _0x20e318(_0x20e318[_0x4aaae6(0x6f4)][_0x4aaae6(0xa70)]);const _0x235a06=[];let _0x439186=_0xbde0f2[_0x4aaae6(0x1b5)](_0x4c96e2=>_0x4c96e2['parentId']===_0x39120c);for(;_0x439186;)_0x235a06[_0x4aaae6(0x5c5)](_0x439186),_0x439186=_0xbde0f2[_0x4aaae6(0x1b5)](_0x43be99=>_0x43be99[_0x4aaae6(0x7fc)]===_0x439186['id']);return _0x235a06;}}class _0x39c9ce extends _0x548c4f{[_0x47ccb7(0x9e3)];['generativeAIWorkerConnectors'];['speechAIWorkerConnectors'];[_0x47ccb7(0x650)];[_0x47ccb7(0x87f)];[_0x47ccb7(0xad9)];[_0x47ccb7(0xa3b)];[_0x47ccb7(0x904)];[_0x47ccb7(0x97)];[_0x47ccb7(0x97b)];[_0x47ccb7(0x3f6)];[_0x47ccb7(0x323)];['models']=_0x13e66e;[_0x47ccb7(0x429)]=new Map();[_0x47ccb7(0x387)]=!0x1;constructor(_0xc084f,_0x48cbc5,_0x114a87,_0x31e4d3,_0x47247e,_0xe5c39d,_0x5db148,_0x30682c,_0x13ed6e,_0x49d87c,_0xc6b613,_0xbeb9d5,_0x5cd9e9,_0x36ec96){const _0x263cdb=_0x47ccb7;super(_0xc084f,_0x48cbc5),this['contentMediator']=_0x114a87,this[_0x263cdb(0x925)]=_0x31e4d3,this[_0x263cdb(0xa62)]=_0x47247e,this[_0x263cdb(0x650)]=_0xe5c39d,this[_0x263cdb(0x87f)]=_0x5db148,this['fileConnector']=_0x30682c,this[_0x263cdb(0xa3b)]=_0x13ed6e,this[_0x263cdb(0x904)]=_0x49d87c,this[_0x263cdb(0x97)]=_0xc6b613,this['queryFileConnector']=_0xbeb9d5,this[_0x263cdb(0x3f6)]=_0x5cd9e9,this[_0x263cdb(0x323)]=_0x36ec96,this[_0x263cdb(0x7f6)]();}async[_0x47ccb7(0x330)](){return[];}async[_0x47ccb7(0x7f6)](_0x1712e1=!0x1){const _0x345a43=_0x47ccb7;if(!this[_0x345a43(0x387)]){_0x1a21a7[_0x345a43(0x180)](_0x345a43(0x155),this['label']);try{for(const _0x83c8af of this['generativeAIWorkerConnectors'])await _0x83c8af['initialize'](this[_0x345a43(0xa39)],this[_0x345a43(0x124)]);}catch(_0x2b7b5d){return this[_0x345a43(0x7f6)](_0x1712e1);}this[_0x345a43(0x387)]=!0x0,_0x1a21a7[_0x345a43(0x180)](_0x345a43(0x463),this[_0x345a43(0xa39)]);}}[_0x47ccb7(0x3a0)](){const _0x2dc75f=_0x47ccb7;this[_0x2dc75f(0x9bb)]?.[_0x2dc75f(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238['Content'],'content':{'type':_0x27c53f[_0x2dc75f(0x1c3)],'label':this[_0x2dc75f(0xa39)]}});}[_0x47ccb7(0x901)](){const _0x3aa2de=_0x47ccb7;return this[_0x3aa2de(0xa39)];}[_0x47ccb7(0x9a2)](){const _0x3d7d25=_0x47ccb7;return _0x46b128['ContentType'][_0x3d7d25(0x5d7)];}['createAIJob'](_0x14ade9){const _0x44fc52=_0x47ccb7,_0x48a84e=_0x44fc52(0x383)+(0x0,_0x4c8224['v4'])();let _0x28f8ca=!0x1;const _0x4a21f0=()=>{const _0x1e8c8e=_0x44fc52;if(_0x28f8ca)throw new _0x20e318(_0x20e318['codes'][_0x1e8c8e(0x108)]);_0x28f8ca=!0x0;},_0x12f5f3={'threadId':_0x44fc52(0x99d)+(0x0,_0x4c8224['v4'])(),..._0x14ade9};switch(_0x14ade9[_0x44fc52(0x96)]){case _0x44fc52(0x332):case'collection-delete':case _0x44fc52(0x8ff):case _0x44fc52(0x86b):case _0x44fc52(0x288):case'file-ingest':case _0x44fc52(0x3d7):case _0x44fc52(0x380):case _0x44fc52(0x15c):case _0x44fc52(0x4cd):case _0x44fc52(0x5e6):case'tool-call':case _0x44fc52(0x430):return{'id':_0x48a84e,..._0x14ade9,'run':()=>(_0x4a21f0(),this[_0x44fc52(0xaa5)](_0x48a84e,_0x12f5f3))};case'inference':case _0x44fc52(0x806):return{'id':_0x48a84e,'options':{'threadId':'thread-'+(0x0,_0x4c8224['v4'])()},..._0x14ade9,'run':()=>(_0x4a21f0(),this[_0x44fc52(0xaa5)](_0x48a84e,_0x12f5f3)),'stream':()=>(_0x4a21f0(),this[_0x44fc52(0x668)](_0x48a84e,_0x12f5f3))};default:throw new Error('Invalid\x20job\x20type');}}async[_0x47ccb7(0xaa5)](_0x4f3798,_0x5dd852){const _0x3b631b=_0x47ccb7;if(_0x3b631b(0x806)===_0x5dd852[_0x3b631b(0x96)]){await this[_0x3b631b(0x1c2)](_0x4f3798,_0x5dd852);const _0x236afb=await _0x21e614[_0x3b631b(0x6cf)](_0x5dd852[_0x3b631b(0x111)],_0x5dd852[_0x3b631b(0x4c1)]),_0x526db9=_0x236afb[_0x3b631b(0x497)][_0x3b631b(0x1b5)](_0x2aa851=>_0x2aa851['type']===_0x4b182d[_0x3b631b(0x2f7)]||_0x2aa851['type']===_0x4b182d['InputStream']),_0x20c710=await _0x32d8f4(_0x5dd852['jobId']??_0x4f3798,_0x5dd852,_0x526db9,_0x236afb[_0x3b631b(0x497)],{'documentParserConnector':this[_0x3b631b(0x87f)],'fileConnector':this[_0x3b631b(0xad9)],'nlpLibraryConnector':this[_0x3b631b(0xa3b)],'generativeAIWorkerConnectors':this[_0x3b631b(0x925)],'speechAIWorkerConnectors':this[_0x3b631b(0xa62)],'models':Array[_0x3b631b(0x48b)](this[_0x3b631b(0x124)][_0x3b631b(0x78c)]()),'contentMediator':this[_0x3b631b(0x9e3)],'searchConnector':this[_0x3b631b(0x904)],'aiSearchConnector':this[_0x3b631b(0x97)],'queryFileConnector':this['queryFileConnector']});return await this['stopTracing'](_0x4f3798,_0x5dd852),_0x20c710;}if(_0x3b631b(0x430)===_0x5dd852[_0x3b631b(0x96)])return await _0x37d582(_0x5dd852,{'documentParserConnector':this[_0x3b631b(0x87f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array['from'](this['models']['values']()),'contentMediator':this[_0x3b631b(0x9e3)],'searchConnector':this[_0x3b631b(0x904)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});if('inference'===_0x5dd852[_0x3b631b(0x96)]){await this['startTracing'](_0x4f3798,_0x5dd852);const _0x2a4f41=await _0x5a3a1a(_0x5dd852[_0x3b631b(0x24f)]??_0x4f3798,_0x5dd852,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3b631b(0xad9)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3b631b(0x925)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array['from'](this[_0x3b631b(0x124)]['values']()),'contentMediator':this[_0x3b631b(0x9e3)],'searchConnector':this[_0x3b631b(0x904)],'aiSearchConnector':this[_0x3b631b(0x97)],'queryFileConnector':this[_0x3b631b(0x97b)]});return await this[_0x3b631b(0xa5f)](_0x4f3798,_0x5dd852),_0x2a4f41;}if('rate'===_0x5dd852[_0x3b631b(0x96)])return await _0x145894[_0x3b631b(0x7e9)]({'jobType':_0x188c83[_0x3b631b(0x3f2)],'type':_0x273d7b[_0x3b631b(0x90d)],'jobId':_0x5dd852[_0x3b631b(0x24f)],'threadId':_0x5dd852[_0x3b631b(0x80)],'traceLevel':_0x557626[_0x3b631b(0x379)],'startTime':Date['now'](),'timestamp':Date[_0x3b631b(0x31e)](),'status':_0x3b631b(0x855),'rating':_0x5dd852[_0x3b631b(0x504)],'feedback':_0x5dd852[_0x3b631b(0x1cc)]}),{'type':_0x3b631b(0x15c),'status':_0x46b128[_0x3b631b(0x750)]['Success']};if(_0x3b631b(0x13f)===_0x5dd852['type'])return await _0x5ae484(_0x5dd852,{'documentParserConnector':this[_0x3b631b(0x87f)],'fileConnector':this[_0x3b631b(0xad9)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3b631b(0x925)],'speechAIWorkerConnectors':this[_0x3b631b(0xa62)],'models':Array[_0x3b631b(0x48b)](this[_0x3b631b(0x124)]['values']()),'contentMediator':this[_0x3b631b(0x9e3)],'searchConnector':this[_0x3b631b(0x904)],'aiSearchConnector':this[_0x3b631b(0x97)],'queryFileConnector':this[_0x3b631b(0x97b)]});if('speech-create'===_0x5dd852[_0x3b631b(0x96)]){const _0x2c1feb=_0x13e66e[_0x3b631b(0x4ab)](_0x5dd852['model']);if(!_0x2c1feb)throw new Error(_0x3b631b(0x34b));const _0x299d3b=this[_0x3b631b(0xa62)]['find'](_0x2ce420=>_0x2ce420[_0x3b631b(0x7e1)]()===_0x2c1feb[_0x3b631b(0x731)]);if(!_0x299d3b)throw new Error('No\x20speech\x20connector\x20available');return{'type':'speech-create','audio':await _0x299d3b[_0x3b631b(0x693)](_0x5dd852['model'],_0x5dd852[_0x3b631b(0x88)],_0x5dd852[_0x3b631b(0x1cb)],_0x5dd852['format'],_0x5dd852['instructions'])};}if('realtime-session-create'===_0x5dd852[_0x3b631b(0x96)]){const _0x5d4958=await _0x21e614[_0x3b631b(0x6cf)](_0x5dd852[_0x3b631b(0x111)],_0x5dd852[_0x3b631b(0x4c1)]),_0x48cdfb=_0x5d4958[_0x3b631b(0x497)]['find'](_0x4ae937=>_0x4ae937[_0x3b631b(0x96)]===_0x4b182d[_0x3b631b(0x7ed)]),_0x83374c=_0x48cdfb[_0x3b631b(0x9cb)]?.[_0x3b631b(0x1b5)](_0x67149b=>_0x67149b[_0x3b631b(0x96)]===_0x577b8e[_0x3b631b(0x2b6)]),_0x4cd884=_0x5d4958[_0x3b631b(0x497)][_0x3b631b(0x1b5)](_0x296683=>_0x296683['type']===_0x4b182d['Agent']&&_0x296683[_0x3b631b(0x9e)]===_0x83374c[_0x3b631b(0x9e)]),_0x7d155c=_0x13e66e['get'](_0x4cd884[_0x3b631b(0x9a7)]),_0x2e67bb=_0x5d4958[_0x3b631b(0x497)]['filter'](_0x597e2c=>_0x597e2c[_0x3b631b(0x9cb)]?.[_0x3b631b(0xa13)](_0x39afef=>_0x39afef['type']===_0x577b8e['Tool']&&_0x39afef['uid']===_0x4cd884['uid']))[_0x3b631b(0x98d)](_0x4069d0=>_0x483146(_0x4069d0,_0x5d4958['blocks'])),_0x2d5203=_0x5d4958[_0x3b631b(0x497)]['find'](_0x2645c0=>_0x2645c0[_0x3b631b(0x96)]===_0x4b182d['OutputStream']),_0x27d327=_0x5d4958[_0x3b631b(0x497)][_0x3b631b(0x1b5)](_0x1b4768=>_0x1b4768[_0x3b631b(0x96)]===_0x4b182d[_0x3b631b(0x856)]&&_0x1b4768[_0x3b631b(0x9cb)]?.[_0x3b631b(0xa13)](_0x1a7940=>_0x1a7940[_0x3b631b(0x96)]===_0x577b8e[_0x3b631b(0x2b6)]&&_0x1a7940['uid']===_0x2d5203[_0x3b631b(0x9e)])),_0x3bbd93=_0x5d4958['blocks'][_0x3b631b(0x1b5)](_0x5273a3=>_0x5273a3[_0x3b631b(0x96)]===_0x4b182d[_0x3b631b(0x856)]&&_0x5273a3[_0x3b631b(0x9e)]===_0x27d327[_0x3b631b(0x9e)]),_0x164503=_0x13e66e[_0x3b631b(0x4ab)](_0x3bbd93[_0x3b631b(0x9a7)]);return{'type':_0x3b631b(0x4cd),'apiKey':this[_0x3b631b(0x323)],'sessionType':_0x7d155c[_0x3b631b(0xa57)]===_0x46b128[_0x3b631b(0x7bc)][_0x3b631b(0xfd)]?_0x3b631b(0x1ee):_0x3b631b(0x1a5),'firstAgent':{'modelId':_0x4cd884[_0x3b631b(0x9a7)],'taskType':_0x7d155c[_0x3b631b(0xa57)],'instructions':_0x4cd884['instructions'],'temperature':_0x4cd884[_0x3b631b(0x605)],'maxTokens':_0x4cd884['maxTokens'],'initialPrompt':_0x5d4958[_0x3b631b(0x501)],'tools':_0x2e67bb[_0x3b631b(0x437)](_0x3f9c2c=>({..._0x3f9c2c,'name':this[_0x3b631b(0x64e)](_0x3f9c2c),'description':this[_0x3b631b(0x969)](_0x3f9c2c),'parameters':this[_0x3b631b(0x639)](_0x3f9c2c)}))},'lastAgent':{'modelId':_0x3bbd93[_0x3b631b(0x9a7)],'taskType':_0x164503[_0x3b631b(0xa57)],'instructions':_0x3bbd93[_0x3b631b(0x8fa)],'initialPrompt':_0x5d4958['initialPrompt']}};}if(_0x3b631b(0x86b)===_0x5dd852[_0x3b631b(0x96)]){const {vendorId:_0x1afc44,collectionId:_0x338c26,fileId:_0x290d2a}=_0x5dd852,_0x71514=await _0x21e614['getDataCollection'](_0x1afc44,_0x338c26),_0x4a3b0c=this[_0x3b631b(0x3f6)]?.[_0x3b631b(0x4ab)](_0x71514['storageType']);if(!_0x4a3b0c)throw new Error(_0x3b631b(0x8a5));const _0x44fcc6=_0x5a7f45(_0x1afc44,_0x71514);if(_0x71514['storageType']===_0x46b128[_0x3b631b(0x98b)][_0x3b631b(0x970)])try{await _0x4a3b0c[_0x3b631b(0x7e5)](_0x44fcc6,_0x338c26,'/'+_0x1afc44+'/'+_0x338c26+'/'+_0x290d2a),await this[_0x3b631b(0x650)][_0x3b631b(0x16c)]('/'+_0x1afc44+'/'+_0x338c26+'/'+_0x290d2a);}catch(_0x9a91a4){_0x1a21a7[_0x3b631b(0xa14)](_0x3b631b(0x674),_0x9a91a4);}else try{await _0x4a3b0c[_0x3b631b(0x7e5)](_0x44fcc6,_0x338c26,_0x290d2a);}catch(_0x171c4f){_0x1a21a7[_0x3b631b(0xa14)](_0x3b631b(0x674),_0x171c4f);}return{'type':'file-delete'};}if(_0x3b631b(0x288)===_0x5dd852[_0x3b631b(0x96)]){let _0x579d99;const _0x5b8d19=this[_0x3b631b(0x429)][_0x3b631b(0xa3d)]();for(;!_0x579d99;){const _0x456bcd=_0x5b8d19[_0x3b631b(0x472)]()[_0x3b631b(0x687)];if(!_0x456bcd)throw new Error(_0x3b631b(0x4d8));_0x579d99=this[_0x3b631b(0x429)][_0x3b631b(0x4ab)](_0x456bcd);try{const _0x79c341=await _0x579d99[_0x3b631b(0x4ab)](_0x5dd852[_0x3b631b(0x484)]);return{'type':_0x3b631b(0x288),'fileName':_0x79c341[_0x3b631b(0xd7)],'mimeType':_0x79c341[_0x3b631b(0x96)],'document':await _0x79c341[_0x3b631b(0x1a3)]()};}catch(_0x478b52){continue;}}throw new Error(_0x3b631b(0x4d8));}if('file-ingest'===_0x5dd852[_0x3b631b(0x96)]){const {vendorId:_0xcc172e,collectionId:_0x4d27c7,fileName:_0x5cb61b,content:_0x4ee90f}=_0x5dd852,_0x284fc7=await _0x21e614[_0x3b631b(0x65f)](_0xcc172e,_0x4d27c7);if(_0x284fc7[_0x3b631b(0x91e)]!==_0x46b128['GenerativeAIRagType'][_0x3b631b(0x970)]){const _0x41fd9f=this['ragConnectors']?.[_0x3b631b(0x4ab)](_0x284fc7['storageType']);if(!_0x41fd9f)throw new Error(_0x3b631b(0x8a5));const _0x3dc164=_0x5a7f45(_0xcc172e,_0x284fc7);return await _0x41fd9f[_0x3b631b(0x954)](_0x3dc164,_0x4d27c7,_0x5cb61b,_0x4ee90f),{'type':_0x3b631b(0x3d7)};}const _0x25d604=_0x284fc7[_0x3b631b(0x75b)]?.[_0x3b631b(0x1b5)](_0x4c8420=>_0x4c8420[_0x3b631b(0x96)]===_0x31b828[_0x3b631b(0x1e2)]);if(!_0x25d604)throw new Error('No\x20start\x20block\x20found');return await _0x7b76d2(_0x5dd852[_0x3b631b(0x111)],_0x4f3798,'/'+_0xcc172e+'/'+_0x4d27c7+'/'+_0x5cb61b,_0x4ee90f,_0x25d604,_0x284fc7,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x3b631b(0x3f6)]?.[_0x3b631b(0x4ab)](_0x46b128[_0x3b631b(0x98b)][_0x3b631b(0x970)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3b631b(0x925)],'speechAIWorkerConnectors':this[_0x3b631b(0xa62)],'models':Array[_0x3b631b(0x48b)](this['models'][_0x3b631b(0x78c)]()),'contentMediator':this[_0x3b631b(0x9e3)]}),{'type':_0x3b631b(0x3d7)};}if('file-list'===_0x5dd852[_0x3b631b(0x96)]){const {vendorId:_0x4fe214,collectionId:_0x4697be}=_0x5dd852,_0x1ccb7a=await _0x21e614[_0x3b631b(0x65f)](_0x4fe214,_0x4697be);if(_0x1ccb7a[_0x3b631b(0x91e)]!==_0x46b128['GenerativeAIRagType'][_0x3b631b(0x970)]){const _0x307bc3=this[_0x3b631b(0x3f6)]?.[_0x3b631b(0x4ab)](_0x1ccb7a[_0x3b631b(0x91e)]);if(!_0x307bc3)throw new Error(_0x3b631b(0x8a5));const _0x42dda0=_0x5a7f45(_0x4fe214,_0x1ccb7a);return{'type':_0x3b631b(0x380),'files':await _0x307bc3['listFiles'](_0x42dda0,_0x4697be)};}try{return{'type':'file-list','files':(await this['objectStoreConnector'][_0x3b631b(0x296)]('/'+_0x4fe214+'/'+_0x4697be,!0x1))[_0x3b631b(0x437)](_0x21696f=>({'name':_0x21696f['name'],'id':_0x21696f[_0x3b631b(0xd7)],'status':'ready'}))};}catch(_0x4a843e){return{'type':_0x3b631b(0x380),'files':[]};}}if('collection-create'===_0x5dd852['type']){const {vendorId:_0x103766,collectionId:_0xe98f1a}=_0x5dd852,_0x598e68=await _0x21e614[_0x3b631b(0x65f)](_0x103766,_0xe98f1a),_0x126e36=this[_0x3b631b(0x3f6)]?.[_0x3b631b(0x4ab)](_0x598e68[_0x3b631b(0x91e)]);if(!_0x126e36)return{'type':_0x3b631b(0x332)};const _0x31bb87=_0x5a7f45(_0x103766,_0x598e68);return await _0x126e36[_0x3b631b(0xe7)](_0x31bb87,_0xe98f1a),{'type':'collection-create'};}if(_0x3b631b(0x7e4)===_0x5dd852[_0x3b631b(0x96)]){const {vendorId:_0x6cde02,collectionId:_0x35aa51}=_0x5dd852,_0x2d079e=await _0x21e614[_0x3b631b(0x65f)](_0x6cde02,_0x35aa51),_0x1641c9=this[_0x3b631b(0x3f6)]?.[_0x3b631b(0x4ab)](_0x2d079e[_0x3b631b(0x91e)]);if(!_0x1641c9)return{'type':_0x3b631b(0x7e4)};const _0xaaccb7=_0x5a7f45(_0x6cde02,_0x2d079e);let _0x475e16=!0x1;if(_0x2d079e[_0x3b631b(0x959)]===_0x39a0e4['Dedicated']&&(_0x475e16=!0x0),_0x2d079e[_0x3b631b(0x959)]===_0x39a0e4['Account']){_0x475e16=!0x0;const _0x21fc59=await _0x21e614[_0x3b631b(0x8fc)](_0x6cde02);for(const _0x1e2643 of _0x21fc59)if(_0x1e2643[_0x3b631b(0x91e)]===_0x2d079e[_0x3b631b(0x91e)]&&_0x1e2643[_0x3b631b(0x959)]===_0x39a0e4[_0x3b631b(0x411)]&&_0x1e2643['id']!==_0x2d079e['id']){_0x475e16=!0x1;break;}}try{await _0x1641c9[_0x3b631b(0xa92)](_0xaaccb7,_0x35aa51,_0x475e16);}catch(_0x3cd927){_0x1a21a7[_0x3b631b(0xa14)](_0x3b631b(0xa93),_0x3cd927);}return{'type':_0x3b631b(0x7e4)};}if(_0x3b631b(0x8ff)===_0x5dd852['type']){const {query:_0xffe686,vendorId:_0x4ddf00,collectionId:_0xd0cd}=_0x5dd852,_0x197839=await _0x21e614[_0x3b631b(0x65f)](_0x4ddf00,_0xd0cd);if(_0x197839[_0x3b631b(0x91e)]!==_0x46b128[_0x3b631b(0x98b)][_0x3b631b(0x970)]){const _0x1ef6db=this[_0x3b631b(0x3f6)]?.['get'](_0x197839[_0x3b631b(0x91e)]);if(!_0x1ef6db)throw new Error(_0x3b631b(0x8a5));const _0x316199=_0x5a7f45(_0x4ddf00,_0x197839);return{'type':'collection-query','results':await _0x1ef6db['queryCollection'](_0x316199,_0xd0cd,_0xffe686,0x1)};}const _0x4cf3ec=_0x197839[_0x3b631b(0x833)]?.[_0x3b631b(0x1b5)](_0x31e42a=>_0x31e42a[_0x3b631b(0x96)]===_0x31b828[_0x3b631b(0x2f7)]);return{'type':_0x3b631b(0x8ff),'results':(await _0x3feb1d(_0x5dd852[_0x3b631b(0x111)],_0x4f3798,'',_0xffe686,_0x4cf3ec,_0x197839,{'objectStoreConnector':this[_0x3b631b(0x650)],'ragConnector':this[_0x3b631b(0x3f6)]?.[_0x3b631b(0x4ab)](_0x46b128[_0x3b631b(0x98b)][_0x3b631b(0x970)]),'documentParserConnector':this[_0x3b631b(0x87f)],'fileConnector':this[_0x3b631b(0xad9)],'nlpLibraryConnector':this[_0x3b631b(0xa3b)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array[_0x3b631b(0x48b)](this[_0x3b631b(0x124)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x3b631b(0x904)],'aiSearchConnector':this[_0x3b631b(0x97)],'queryFileConnector':this[_0x3b631b(0x97b)]}))['context']??[]};}throw new Error(_0x3b631b(0xa8c));}async*[_0x47ccb7(0x668)](_0x474f59,_0x1a1f6a){const _0x437715=_0x47ccb7;if(_0x437715(0x806)===_0x1a1f6a[_0x437715(0x96)]){await this[_0x437715(0x1c2)](_0x474f59,_0x1a1f6a);const _0x3e0dd6=await _0x21e614[_0x437715(0x6cf)](_0x1a1f6a[_0x437715(0x111)],_0x1a1f6a[_0x437715(0x4c1)]),_0x634212=_0x3e0dd6[_0x437715(0x497)][_0x437715(0x1b5)](_0x474d3a=>_0x474d3a['type']===_0x4b182d['Prompt']||_0x474d3a[_0x437715(0x96)]===_0x4b182d['InputStream']);for await(const _0x1cd33f of _0x8822d(_0x1a1f6a['jobId']??_0x474f59,_0x1a1f6a,_0x634212,_0x3e0dd6[_0x437715(0x497)],{'documentParserConnector':this[_0x437715(0x87f)],'fileConnector':this[_0x437715(0xad9)],'nlpLibraryConnector':this[_0x437715(0xa3b)],'generativeAIWorkerConnectors':this[_0x437715(0x925)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array[_0x437715(0x48b)](this[_0x437715(0x124)][_0x437715(0x78c)]()),'contentMediator':this[_0x437715(0x9e3)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x437715(0x97)],'queryFileConnector':this[_0x437715(0x97b)]}))yield _0x1cd33f;await this[_0x437715(0xa5f)](_0x474f59,_0x1a1f6a);}if(_0x437715(0x9bd)===_0x1a1f6a[_0x437715(0x96)]){await this[_0x437715(0x1c2)](_0x474f59,_0x1a1f6a);for await(const _0x561bf1 of _0x47b142(_0x1a1f6a[_0x437715(0x24f)]??_0x474f59,_0x1a1f6a,{'documentParserConnector':this[_0x437715(0x87f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x437715(0xa3b)],'generativeAIWorkerConnectors':this[_0x437715(0x925)],'speechAIWorkerConnectors':this[_0x437715(0xa62)],'models':Array[_0x437715(0x48b)](this[_0x437715(0x124)][_0x437715(0x78c)]()),'contentMediator':this[_0x437715(0x9e3)],'searchConnector':this[_0x437715(0x904)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x437715(0x97b)]}))yield _0x561bf1;await this[_0x437715(0xa5f)](_0x474f59,_0x1a1f6a);}}async['startTracing'](_0x27a6b5,_0xd1b5e2){const _0x3918e0=_0x47ccb7;if('rate'===_0xd1b5e2[_0x3918e0(0x96)])return _0x27a6b5=_0xd1b5e2[_0x3918e0(0x24f)],void await this[_0x3918e0(0x81)](_0x27a6b5,_0xd1b5e2['vendorId'],_0xd1b5e2[_0x3918e0(0x4c1)]);_0x3918e0(0x806)!==_0xd1b5e2['type']&&_0x3918e0(0x9bd)!==_0xd1b5e2[_0x3918e0(0x96)]||!_0xd1b5e2[_0x3918e0(0x24f)]||(_0x27a6b5=_0xd1b5e2[_0x3918e0(0x24f)]),await this[_0x3918e0(0x81)](_0x27a6b5,_0xd1b5e2[_0x3918e0(0x111)],_0xd1b5e2[_0x3918e0(0x4c1)],_0xd1b5e2[_0x3918e0(0x80)]),await _0x145894[_0x3918e0(0x7e9)]({'jobType':_0x188c83['Job'],'type':_0x434fc0[_0x3918e0(0x880)],'traceLevel':_0x557626[_0x3918e0(0x379)],'jobId':_0x27a6b5,'threadId':_0xd1b5e2[_0x3918e0(0x80)],'startTime':Date[_0x3918e0(0x31e)](),'timestamp':Date[_0x3918e0(0x31e)](),'status':_0x3918e0(0x855)});}async['stopTracing'](_0x10c284,_0x20471b){const _0x250eab=_0x47ccb7;if(_0x250eab(0x15c)===_0x20471b[_0x250eab(0x96)])return _0x10c284=_0x20471b['jobId'],void await this['closeTrace'](_0x10c284);_0x250eab(0x806)!==_0x20471b[_0x250eab(0x96)]&&_0x250eab(0x9bd)!==_0x20471b[_0x250eab(0x96)]||!_0x20471b[_0x250eab(0x24f)]||(_0x10c284=_0x20471b[_0x250eab(0x24f)]),await _0x145894[_0x250eab(0x7e9)]({'jobType':_0x188c83[_0x250eab(0x756)],'type':_0x434fc0[_0x250eab(0x2d8)],'traceLevel':_0x557626['Info'],'jobId':_0x10c284,'threadId':_0x20471b[_0x250eab(0x80)],'startTime':Date[_0x250eab(0x31e)](),'timestamp':Date['now'](),'status':'success'}),await this['closeTrace'](_0x10c284,_0x20471b[_0x250eab(0x80)]);}async['openTrace'](_0x532147,_0x41d67e,_0x25f87e,_0x700b06){const _0x45b4cf=_0x47ccb7;try{if(!await _0x145894['openTrace'](_0x41d67e,_0x532147,_0x25f87e,_0x700b06))throw new Error('Error\x20opening\x20trace');return _0x532147;}catch(_0x271408){return console[_0x45b4cf(0xa14)](_0x45b4cf(0x1ab),_0x271408),'Could\x20not\x20open\x20trace';}}async[_0x47ccb7(0x336)](_0x3c71a4,_0x14c068){const _0x3eb692=_0x47ccb7;try{await _0x145894[_0x3eb692(0x336)](_0x3c71a4,_0x14c068);}catch(_0x3370e2){console[_0x3eb692(0xa14)](_0x3eb692(0x28d),{'jobId':_0x3c71a4,'error':_0x3370e2});}}[_0x47ccb7(0x64e)](_0x50f82d){const _0x5e4488=_0x47ccb7;switch(_0x50f82d[_0x5e4488(0x96)]){case _0x4b182d[_0x5e4488(0x856)]:case _0x4b182d[_0x5e4488(0x247)]:return _0x5e4488(0x3f0)+_0x50f82d[_0x5e4488(0xd7)][_0x5e4488(0x5f9)](/[^a-zA-Z]/g,'');case _0x4b182d[_0x5e4488(0x998)]:return'executeWorkflow'+_0x50f82d['name']['replace'](/[^a-zA-Z]/g,'');case _0x4b182d['DataCollection']:case _0x4b182d[_0x5e4488(0x5c0)]:return _0x5e4488(0x12e)+_0x50f82d[_0x5e4488(0xd7)][_0x5e4488(0x5f9)](/[^a-zA-Z]/g,'');case _0x4b182d['CustomSkill']:return _0x50f82d[_0x5e4488(0xd7)][_0x5e4488(0x5f9)](/[^a-zA-Z]/g,'');case _0x4b182d[_0x5e4488(0x266)]:return'searchOnPerplexity';case _0x4b182d[_0x5e4488(0x1f0)]:return _0x5e4488(0x89a);case _0x4b182d[_0x5e4488(0x158)]:return'searchOnGoogle';case _0x4b182d['WebScraper']:case _0x4b182d[_0x5e4488(0x2aa)]:return _0x5e4488(0xab9);case _0x46b128[_0x5e4488(0x713)]['FormSkillGetQuestion']:return'getQuestion'+_0x50f82d['name'][_0x5e4488(0x5f9)](/[^a-zA-Z]/g,'');case _0x46b128[_0x5e4488(0x713)][_0x5e4488(0x2b8)]:return'setAnswer'+_0x50f82d[_0x5e4488(0xd7)][_0x5e4488(0x5f9)](/[^a-zA-Z]/g,'');case _0x46b128[_0x5e4488(0x713)][_0x5e4488(0xb5)]:return _0x5e4488(0x5e2)+_0x50f82d['name'][_0x5e4488(0x5f9)](/[^a-zA-Z]/g,'');default:return'';}}[_0x47ccb7(0x969)](_0x375b35){const _0x1baebf=_0x47ccb7;switch(_0x375b35[_0x1baebf(0x96)]){case _0x4b182d[_0x1baebf(0x856)]:case _0x4b182d[_0x1baebf(0x247)]:return _0x1baebf(0x5ef)+_0x375b35['description']+_0x1baebf(0x6db);case _0x4b182d[_0x1baebf(0x998)]:return _0x1baebf(0x118)+_0x375b35[_0x1baebf(0x3fe)]+_0x1baebf(0x6db);case _0x4b182d[_0x1baebf(0x976)]:case _0x4b182d[_0x1baebf(0x5c0)]:return _0x1baebf(0x633)+_0x375b35[_0x1baebf(0x3fe)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.';case _0x4b182d['CustomSkill']:return _0x1baebf(0x3e6)+_0x375b35['description'];case _0x4b182d[_0x1baebf(0x266)]:return _0x1baebf(0x7cd);case _0x4b182d[_0x1baebf(0x1f0)]:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x4b182d[_0x1baebf(0x158)]:return _0x1baebf(0x2f4);case _0x4b182d[_0x1baebf(0x9d2)]:case _0x4b182d['WebScraperRaw']:return _0x1baebf(0x1b0);case _0x46b128[_0x1baebf(0x713)]['FormSkillGetQuestion']:return _0x1baebf(0x7ca);case _0x46b128[_0x1baebf(0x713)][_0x1baebf(0x2b8)]:return _0x1baebf(0x241);case _0x46b128[_0x1baebf(0x713)][_0x1baebf(0xb5)]:return _0x1baebf(0x688);default:return'';}}[_0x47ccb7(0x639)](_0x144e76){const _0x28b502=_0x47ccb7;switch(_0x144e76[_0x28b502(0x96)]){case _0x4b182d[_0x28b502(0x856)]:case _0x4b182d[_0x28b502(0x247)]:case _0x4b182d['WorkflowTool']:return[{'name':'prompt','type':_0x28b502(0x3af)}];case _0x4b182d[_0x28b502(0x976)]:case _0x4b182d[_0x28b502(0x5c0)]:return[{'name':_0x28b502(0x141),'type':_0x28b502(0x3af)}];case _0x4b182d[_0x28b502(0x34c)]:return _0x144e76['parameters'][_0x28b502(0x437)](_0x27e13a=>({'name':_0x27e13a[_0x28b502(0xd7)],'type':_0x27e13a[_0x28b502(0x96)]??'string'}))??[];case _0x4b182d['AiSearch']:return[{'name':_0x28b502(0x709),'type':_0x28b502(0x3af)}];case _0x4b182d[_0x28b502(0x1f0)]:return[{'name':_0x28b502(0x1d1),'type':_0x28b502(0x3af)}];case _0x4b182d[_0x28b502(0x158)]:return[{'name':_0x28b502(0x709),'type':_0x28b502(0x3af)}];case _0x4b182d[_0x28b502(0x9d2)]:case _0x4b182d[_0x28b502(0x2aa)]:return[{'name':_0x28b502(0x447),'type':'string'},{'name':_0x28b502(0x8ed),'type':_0x28b502(0x478)}];case _0x46b128[_0x28b502(0x713)][_0x28b502(0x2ee)]:return[];case _0x46b128['GenerativeAIInferenceToolType'][_0x28b502(0x2b8)]:return[{'name':'id','type':_0x28b502(0x3af)},{'name':_0x28b502(0x129),'type':_0x28b502(0x3af)}];case _0x46b128[_0x28b502(0x713)]['FormSkillSubmitForm']:default:return[];}}}class _0x1ecbda{[_0x47ccb7(0x900)];[_0x47ccb7(0x260)];[_0x47ccb7(0x827)]=new Map();[_0x47ccb7(0x49d)]=new Map();['pubSubTopics']=new Map();['objectStores']=new Map();[_0x47ccb7(0x7dd)]=new Map();[_0x47ccb7(0x903)]=new Map();[_0x47ccb7(0x83b)]=new Map();[_0x47ccb7(0x622)]=new Map();['jobDispatchers']=new Map();[_0x47ccb7(0x9f4)]=new Map();[_0x47ccb7(0x2fb)]=new Map();[_0x47ccb7(0x2b2)];constructor(_0x11be62,_0x18a3a7){const _0x3185ee=_0x47ccb7;this['configs']=_0x11be62,this[_0x3185ee(0x260)]=_0x18a3a7,this['transactionService']=new _0x19c28d(this[_0x3185ee(0x900)]['vendorId'],this['configs'][_0x3185ee(0x8b5)]);}[_0x47ccb7(0x3a0)](_0xeb503a=!0x1){const _0x371372=_0x47ccb7;this[_0x371372(0x49d)]['forEach']((_0x5abe00,_0x2573e9)=>{const _0x2acff2=_0x371372;_0x5abe00[_0x2acff2(0xa9d)]((_0x1a2787,_0x239147)=>{this['removeRemoteMediaStream'](_0x2573e9,_0x239147);});}),_0xeb503a||(_0x33f831[_0x371372(0x30f)](),this[_0x371372(0x827)]['forEach']((_0x4e22ad,_0x176c59)=>{const _0x38adfc=_0x371372;this[_0x38adfc(0x67f)](_0x176c59);}),this[_0x371372(0x8c0)]['forEach']((_0x14c8e8,_0x30b8d4)=>{this['removePubSubTopic'](_0x30b8d4);}),this[_0x371372(0x862)][_0x371372(0xa9d)]((_0x171084,_0x4d38da)=>{this['removeObjectStore'](_0x4d38da);}),this['externalStorageConnections']['forEach']((_0x3d02cd,_0x53fb8a)=>{const _0x5dea86=_0x371372;this[_0x5dea86(0x5b0)](_0x53fb8a);}),this[_0x371372(0x903)][_0x371372(0xa9d)]((_0x1741f4,_0x153e07)=>{const _0x2adfa9=_0x371372;this[_0x2adfa9(0x4d6)](_0x153e07);}),this['jobDispatchers']['forEach']((_0x21b59f,_0x39dc8a)=>{const _0x446172=_0x371372;this[_0x446172(0xdb)](_0x39dc8a);}),this[_0x371372(0x9f4)]['forEach']((_0x42e070,_0x4ee40f)=>{const _0xe12bf8=_0x371372;this[_0xe12bf8(0x6dd)](_0x4ee40f);}),this[_0x371372(0x2fb)]['forEach']((_0xa3e6b6,_0x5291e6)=>{const _0xb836b8=_0x371372;this[_0xb836b8(0x941)](_0x5291e6);}),this[_0x371372(0x83b)][_0x371372(0xa9d)]((_0x45fa43,_0x296d6d)=>{this['removeVectorDatabase'](_0x296d6d);}),this[_0x371372(0x622)]['forEach']((_0x20e656,_0x433a63)=>{const _0x144d53=_0x371372;this[_0x144d53(0x2a0)](_0x433a63);}));}[_0x47ccb7(0x313)](_0x292b5e,_0x15bd6d,_0x3c91a3){const _0x5778ad=_0x47ccb7;if(this['objectStores']['has'](_0x292b5e))throw new _0xb4a92c(_0x215585[_0x5778ad(0x1e9)],'Store\x20already\x20exists');const _0x531dfe=new _0x4de6fa(this[_0x5778ad(0x900)][_0x5778ad(0x987)],_0x292b5e,this[_0x5778ad(0x900)][_0x5778ad(0x8b5)],this[_0x5778ad(0x900)][_0x5778ad(0x111)],this['transactionService'],_0x15bd6d,()=>this[_0x5778ad(0x900)][_0x5778ad(0x2eb)]['waitForArrayBufferSize'](),_0x3c91a3);return this['objectStores'][_0x5778ad(0x9de)](_0x292b5e,_0x531dfe),this[_0x5778ad(0x900)][_0x5778ad(0x2eb)][_0x5778ad(0x672)](_0x531dfe),_0x531dfe;}['createExternalStorageConnection'](_0x10ee8a,_0x2fbba6){const _0x2e47ca=_0x47ccb7;if(this[_0x2e47ca(0x862)][_0x2e47ca(0x788)](_0x10ee8a))throw new _0xb4a92c(_0x215585[_0x2e47ca(0x805)],_0x2e47ca(0x9bc));const _0x4e586b=new _0x2a2822(this['configs'][_0x2e47ca(0x987)],_0x10ee8a,this['configs']['clusterId'],this[_0x2e47ca(0x900)][_0x2e47ca(0x111)],_0x2fbba6);return this[_0x2e47ca(0x7dd)][_0x2e47ca(0x9de)](_0x10ee8a,_0x4e586b),this[_0x2e47ca(0x900)][_0x2e47ca(0x2eb)][_0x2e47ca(0x672)](_0x4e586b),_0x4e586b;}async[_0x47ccb7(0x8b7)](_0x213c81,_0x272a93,_0x5cc16b){const _0x51371a=_0x47ccb7;if(this[_0x51371a(0x903)][_0x51371a(0x788)](_0x213c81))throw new _0xb4a92c(_0x215585[_0x51371a(0x481)],_0x51371a(0x2ad));try{const _0x59aea8=this[_0x51371a(0x900)][_0x51371a(0x2eb)]['isNodeReady']['bind'](this[_0x51371a(0x900)][_0x51371a(0x2eb)]),_0x370645=new _0x1ce058(this[_0x51371a(0x900)]['localNode'],_0x213c81,this[_0x51371a(0x900)][_0x51371a(0x8b5)],this['configs'][_0x51371a(0x111)],_0x272a93,_0x5cc16b,_0x59aea8);return this[_0x51371a(0x903)][_0x51371a(0x9de)](_0x213c81,_0x370645),this[_0x51371a(0x900)]['mediator'][_0x51371a(0x672)](_0x370645),_0x370645;}catch(_0x435595){if(_0x435595 instanceof _0xb4a92c)throw _0x435595;throw new _0x20e318(_0x20e318[_0x51371a(0x6f4)][_0x51371a(0x6b4)],{'label':_0x213c81,'clusterId':this[_0x51371a(0x900)][_0x51371a(0x8b5)],'vendorId':this[_0x51371a(0x900)][_0x51371a(0x111)]});}}async['createJobDispatcher'](_0x2f8880,_0x162e8a){const _0x39ea95=_0x47ccb7;if(this[_0x39ea95(0x76e)]['has'](_0x2f8880))throw new _0xb4a92c(_0x215585[_0x39ea95(0x4d0)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x4898fa=new _0x451fb8(this[_0x39ea95(0x900)][_0x39ea95(0x987)],_0x2f8880,_0x162e8a);return this[_0x39ea95(0x76e)][_0x39ea95(0x9de)](_0x2f8880,_0x4898fa),this['configs'][_0x39ea95(0x2eb)][_0x39ea95(0x672)](_0x4898fa),_0x4898fa;}catch(_0x3e57a6){if(_0x3e57a6 instanceof _0xb4a92c)throw _0x3e57a6;throw new _0x20e318(_0x20e318[_0x39ea95(0x6f4)]['JobDispatcherCreationFailed'],{'label':_0x2f8880,'clusterId':this[_0x39ea95(0x900)][_0x39ea95(0x8b5)],'vendorId':this[_0x39ea95(0x900)][_0x39ea95(0x111)]});}}async['createGenerativeAIContext'](_0x60c4da,_0x11b012){const _0x192b2a=_0x47ccb7;if(this[_0x192b2a(0x76e)][_0x192b2a(0x788)](_0x60c4da))throw new _0xb4a92c(_0x215585[_0x192b2a(0x9d5)],'AI\x20Service\x20already\x20exists');if(this[_0x192b2a(0x9f4)][_0x192b2a(0x788)](_0x60c4da))throw new _0xb4a92c(_0x215585['GenerativeAILabelConflict'],_0x192b2a(0x175));try{const _0x5d86a6=new _0x4ce020(this[_0x192b2a(0x900)][_0x192b2a(0x987)],_0x60c4da,this['configs'][_0x192b2a(0x111)],_0x11b012);return this['jobDispatchers'][_0x192b2a(0x9de)](_0x60c4da,_0x5d86a6),this[_0x192b2a(0x900)]['mediator']['registerSystemSource'](_0x5d86a6),_0x5d86a6;}catch(_0x46f874){if(_0x46f874 instanceof _0xb4a92c)throw _0x46f874;throw new _0x20e318(_0x20e318['codes']['GenerativeAIContextCreationFailed'],{'label':_0x60c4da,'clusterId':this[_0x192b2a(0x900)]['clusterId'],'vendorId':this['configs']['vendorId']});}}async[_0x47ccb7(0x59c)](_0x38bfbe,_0x23debb,_0x112fee,_0x438835,_0x131fc4,_0xd42c76,_0xd9502b,_0x3ee5f4,_0x5b59f4,_0x20242c,_0x52e330,_0x54f51a){const _0x4006f0=_0x47ccb7;if(this[_0x4006f0(0x2fb)][_0x4006f0(0x788)](_0x38bfbe))throw new _0xb4a92c(_0x215585['GenerativeAIContextAlreadyExists'],'AI\x20Service\x20already\x20exists');if(this['jobWorkers'][_0x4006f0(0x788)](_0x38bfbe))throw new _0xb4a92c(_0x215585[_0x4006f0(0x591)],_0x4006f0(0x175));try{const _0x492b0b=new _0x39c9ce(this[_0x4006f0(0x900)][_0x4006f0(0x987)],_0x38bfbe,this,_0x23debb,_0x112fee,_0x438835,_0x131fc4,_0xd42c76,_0xd9502b,_0x3ee5f4,_0x5b59f4,_0x20242c,_0x52e330,_0x54f51a);return this['generativeAIContexts']['set'](_0x38bfbe,_0x492b0b),this['configs'][_0x4006f0(0x2eb)][_0x4006f0(0x672)](_0x492b0b),_0x492b0b;}catch(_0x403861){if(_0x403861 instanceof _0xb4a92c)throw _0x403861;throw new _0x20e318(_0x20e318[_0x4006f0(0x6f4)]['GenerativeAIContextCreationFailed'],{'label':_0x38bfbe,'clusterId':this['configs'][_0x4006f0(0x8b5)],'vendorId':this[_0x4006f0(0x900)][_0x4006f0(0x111)]});}}async[_0x47ccb7(0xa60)](_0x4cda5f,_0x4bf9ed,_0x1901c0,_0x2f2231,_0x284095,_0x4b74d5,_0x5c92bf,_0x26c44f,_0x5cd364,_0x34695d,_0x323d7f,_0x14b443,_0x72f852){const _0x48a9df=_0x47ccb7;if(this[_0x48a9df(0x9f4)]['has'](_0x4cda5f))throw new _0xb4a92c(_0x215585['GenerativeAIWorkerAlreadyExists'],_0x48a9df(0x6ee));if(this[_0x48a9df(0x76e)][_0x48a9df(0x788)](_0x4cda5f))throw new _0xb4a92c(_0x215585[_0x48a9df(0x591)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x23f5f8=new _0x330048(this[_0x48a9df(0x900)][_0x48a9df(0x987)],_0x4cda5f,_0x4bf9ed,this,_0x1901c0,_0x2f2231,_0x284095,_0x4b74d5,_0x5c92bf,_0x26c44f,_0x5cd364,_0x34695d,_0x323d7f,_0x14b443,_0x72f852);return this[_0x48a9df(0x9f4)][_0x48a9df(0x9de)](_0x4cda5f,_0x23f5f8),this['configs'][_0x48a9df(0x2eb)]['registerSystemSource'](_0x23f5f8),_0x23f5f8;}catch(_0x3ae28e){if(_0x3ae28e instanceof _0xb4a92c)throw _0x3ae28e;throw new _0x20e318(_0x20e318[_0x48a9df(0x6f4)][_0x48a9df(0x6fc)],{'label':_0x4cda5f,'clusterId':this[_0x48a9df(0x900)][_0x48a9df(0x8b5)],'vendorId':this[_0x48a9df(0x900)]['vendorId']});}}['createGraphDatabase'](_0x4cd556,_0xf20a8){const _0x386e10=_0x47ccb7;if(this[_0x386e10(0x622)]['has'](_0x4cd556))throw new _0xb4a92c(_0x215585['GraphDatabaseAlreadyExists'],_0x386e10(0x2ad));try{const _0x4cd3b8=new _0x199174(this[_0x386e10(0x900)]['localNode'],_0x4cd556,this[_0x386e10(0x900)][_0x386e10(0x8b5)],this[_0x386e10(0x900)][_0x386e10(0x111)],_0xf20a8);return this[_0x386e10(0x622)][_0x386e10(0x9de)](_0x4cd556,_0x4cd3b8),this[_0x386e10(0x900)][_0x386e10(0x2eb)][_0x386e10(0x672)](_0x4cd3b8),_0x4cd3b8;}catch(_0xa5551d){if(_0xa5551d instanceof _0xb4a92c)throw _0xa5551d;throw new _0x20e318(_0x20e318['codes'][_0x386e10(0x374)],{'label':_0x4cd556,'clusterId':this[_0x386e10(0x900)][_0x386e10(0x8b5)],'vendorId':this[_0x386e10(0x900)][_0x386e10(0x111)]});}}['createLocalDynamicMediaStream'](_0x848af9,_0x5e8653){const _0x28a00d=_0x47ccb7;if(this['localMediaStreams']['has'](_0x848af9))throw new _0xb4a92c(_0x215585[_0x28a00d(0x3ed)],'Local\x20MediaStream\x20already\x20exists');if(!this[_0x28a00d(0x260)]['audioContext'])throw new _0xb4a92c(_0x215585[_0x28a00d(0x471)],_0x28a00d(0xf4));const _0x3eeaee=new _0x55d6d3(this[_0x28a00d(0x900)]['localNode'],_0x848af9,_0x5e8653,this[_0x28a00d(0x260)][_0x28a00d(0x353)],this['options'][_0x28a00d(0x958)],this['configs'][_0x28a00d(0x8b5)]);return this[_0x28a00d(0x827)]['set'](_0x848af9,_0x3eeaee),this[_0x28a00d(0x900)][_0x28a00d(0x2eb)][_0x28a00d(0x672)](_0x3eeaee),_0x3eeaee[_0x28a00d(0x19c)](),_0x3eeaee;}['createLocalMediaStream'](_0x146a9f,_0x1a2edf){const _0x2995e0=_0x47ccb7;if(this['localMediaStreams'][_0x2995e0(0x788)](_0x146a9f))throw new _0xb4a92c(_0x215585[_0x2995e0(0x3ed)],_0x2995e0(0x345));const _0x41e2f8=new _0x1b7103(this[_0x2995e0(0x900)]['localNode'],_0x146a9f,_0x1a2edf,this['configs'][_0x2995e0(0x8b5)]);return this[_0x2995e0(0x827)][_0x2995e0(0x9de)](_0x146a9f,_0x41e2f8),this[_0x2995e0(0x900)][_0x2995e0(0x2eb)]['registerSystemSource'](_0x41e2f8),_0x41e2f8[_0x2995e0(0x19c)](),_0x41e2f8;}[_0x47ccb7(0x3e1)](_0x2ea005){const _0xe2a99f=_0x47ccb7;if(this['pubSubTopics'][_0xe2a99f(0x788)](_0x2ea005))throw new _0xb4a92c(_0x215585['PubSubTopicAlreadyExists'],_0xe2a99f(0x62b));const _0x5abdca=new _0x2284b2(this['configs'][_0xe2a99f(0x987)],_0x2ea005,this[_0xe2a99f(0x900)][_0xe2a99f(0x8b5)]);return this[_0xe2a99f(0x8c0)][_0xe2a99f(0x9de)](_0x2ea005,_0x5abdca),this[_0xe2a99f(0x900)][_0xe2a99f(0x2eb)][_0xe2a99f(0x672)](_0x5abdca),_0x5abdca;}[_0x47ccb7(0x23f)](_0x58c1b5,_0x41648f,_0x38ecaa,_0x328786){const _0x247074=_0x47ccb7;this[_0x247074(0x49d)][_0x247074(0x788)](_0x58c1b5)||this[_0x247074(0x49d)][_0x247074(0x9de)](_0x58c1b5,new Map());const _0x29220e=this['remoteMediaStreams'][_0x247074(0x4ab)](_0x58c1b5);if(_0x29220e['has'](_0x41648f))throw new _0xb4a92c(_0x215585['RemoteMediaStreamAlreadyExists'],_0x247074(0x414));const _0x527e50=new _0x45a61b(_0x58c1b5,'',''),_0x4c39cd=new _0x63a8a2(this[_0x247074(0x900)][_0x247074(0x987)],_0x527e50,_0x41648f,_0x38ecaa,_0x328786,this[_0x247074(0x900)][_0x247074(0x8b5)]);return _0x29220e[_0x247074(0x9de)](_0x41648f,_0x4c39cd),this[_0x247074(0x900)][_0x247074(0x2eb)][_0x247074(0x672)](_0x4c39cd),_0x4c39cd;}[_0x47ccb7(0x9f)](_0x58aaf7,_0x4dbd26){const _0x20d6a1=_0x47ccb7;if(this['vectorDatabases'][_0x20d6a1(0x788)](_0x58aaf7))throw new _0xb4a92c(_0x215585[_0x20d6a1(0x90c)],'Database\x20already\x20exists');try{const _0x139e8b=new _0x3634ec(this['configs']['localNode'],_0x58aaf7,this[_0x20d6a1(0x900)][_0x20d6a1(0x8b5)],this[_0x20d6a1(0x900)][_0x20d6a1(0x111)],_0x4dbd26);return this[_0x20d6a1(0x83b)]['set'](_0x58aaf7,_0x139e8b),this[_0x20d6a1(0x900)]['mediator'][_0x20d6a1(0x672)](_0x139e8b),_0x139e8b;}catch(_0x363003){if(_0x363003 instanceof _0xb4a92c)throw _0x363003;throw new _0x20e318(_0x20e318[_0x20d6a1(0x6f4)][_0x20d6a1(0xae1)],{'label':_0x58aaf7,'clusterId':this['configs'][_0x20d6a1(0x8b5)],'vendorId':this[_0x20d6a1(0x900)][_0x20d6a1(0x111)]});}}[_0x47ccb7(0x871)](_0x314553){const _0x115b7f=_0x47ccb7,_0xd66b39=Array[_0x115b7f(0x48b)](this[_0x115b7f(0x862)]['values']());return _0x314553?_0xd66b39[_0x115b7f(0xac4)](_0x314553):_0xd66b39;}[_0x47ccb7(0x784)](_0x19e591){const _0x6cf24f=_0x47ccb7,_0x8ceafc=Array[_0x6cf24f(0x48b)](this['externalStorageConnections'][_0x6cf24f(0x78c)]());return _0x19e591?_0x8ceafc[_0x6cf24f(0xac4)](_0x19e591):_0x8ceafc;}[_0x47ccb7(0x3a4)](_0x543246){const _0x2d34bb=_0x47ccb7,_0x256226=Array[_0x2d34bb(0x48b)](this[_0x2d34bb(0x903)]['values']());return _0x543246?_0x256226['filter'](_0x543246):_0x256226;}[_0x47ccb7(0x922)](_0x19db54){const _0x3ec7b6=_0x47ccb7,_0x2c59aa=Array[_0x3ec7b6(0x48b)](this[_0x3ec7b6(0x76e)][_0x3ec7b6(0x78c)]());return _0x19db54?_0x2c59aa[_0x3ec7b6(0xac4)](_0x19db54):_0x2c59aa;}[_0x47ccb7(0x794)](_0x59863f){const _0x4acdc5=_0x47ccb7,_0x2f9398=Array[_0x4acdc5(0x48b)](this[_0x4acdc5(0x9f4)][_0x4acdc5(0x78c)]());return _0x59863f?_0x2f9398[_0x4acdc5(0xac4)](_0x59863f):_0x2f9398;}[_0x47ccb7(0x30d)](_0x107d37){const _0x113b1e=_0x47ccb7,_0x34ba58=Array[_0x113b1e(0x48b)](this[_0x113b1e(0x76e)][_0x113b1e(0x78c)]())[_0x113b1e(0xac4)](_0x39ae26=>_0x39ae26 instanceof _0x4ce020);return _0x107d37?_0x34ba58[_0x113b1e(0xac4)](_0x107d37):_0x34ba58;}[_0x47ccb7(0xe5)](_0x5a53db){const _0x5099dc=_0x47ccb7,_0x49cc4c=Array['from'](this[_0x5099dc(0x2fb)]['values']());return _0x5a53db?_0x49cc4c['filter'](_0x5a53db):_0x49cc4c;}['getGenerativeAIWorkers'](_0x68e79f){const _0x4be630=_0x47ccb7,_0x17e219=Array[_0x4be630(0x48b)](this[_0x4be630(0x9f4)][_0x4be630(0x78c)]())[_0x4be630(0xac4)](_0x11bfe3=>_0x11bfe3 instanceof _0x330048);return _0x68e79f?_0x17e219[_0x4be630(0xac4)](_0x68e79f):_0x17e219;}['getGraphDatabases'](_0x17b447){const _0x4c6a9a=_0x47ccb7,_0x2900a5=Array['from'](this[_0x4c6a9a(0x622)]['values']());return _0x17b447?_0x2900a5[_0x4c6a9a(0xac4)](_0x17b447):_0x2900a5;}[_0x47ccb7(0x5b4)](_0xc1be9d){const _0x55ddc8=_0x47ccb7,_0x20d701=Array['from'](this[_0x55ddc8(0x827)]['values']());return _0xc1be9d?_0x20d701[_0x55ddc8(0xac4)](_0xc1be9d):_0x20d701;}[_0x47ccb7(0x337)](_0x7af2a0){const _0x58a55f=_0x47ccb7,_0x5af44a=Array['from'](this['pubSubTopics'][_0x58a55f(0x78c)]());return _0x7af2a0?_0x5af44a['filter'](_0x7af2a0):_0x5af44a;}[_0x47ccb7(0x6dc)](_0x4cd973){const _0xdd5102=_0x47ccb7,_0x5bdec0=Array['from'](this['remoteMediaStreams'][_0xdd5102(0x78c)]())[_0xdd5102(0x5b5)]((_0x136a60,_0xef49ae)=>[..._0x136a60,...Array[_0xdd5102(0x48b)](_0xef49ae[_0xdd5102(0x78c)]())],[]);return _0x4cd973?_0x5bdec0[_0xdd5102(0xac4)](_0x4cd973):_0x5bdec0;}[_0x47ccb7(0x310)](_0x5e5973){const _0x127648=_0x47ccb7,_0x23d301=Array[_0x127648(0x48b)](this[_0x127648(0x83b)][_0x127648(0x78c)]());return _0x5e5973?_0x23d301['filter'](_0x5e5973):_0x23d301;}[_0x47ccb7(0x403)](_0x39bcc4){const _0x24925f=_0x47ccb7,_0x4421fe=this[_0x24925f(0x862)][_0x24925f(0x4ab)](_0x39bcc4);if(!_0x4421fe)throw new _0xb4a92c(_0x215585[_0x24925f(0x9eb)],_0x24925f(0x54a));return _0x4421fe;}['getExternalStorageConnection'](_0x9011d1){const _0x52f5f9=_0x47ccb7,_0x3b20b0=_0x9011d1[_0x52f5f9(0x59a)]('-'),_0x1ecb92=this[_0x52f5f9(0x7dd)][_0x52f5f9(0x4ab)](_0x3b20b0[0x1]);if(!_0x1ecb92)throw new _0xb4a92c(_0x215585[_0x52f5f9(0x130)],_0x52f5f9(0x1e6));return _0x1ecb92;}[_0x47ccb7(0x5fe)](_0x487598){const _0x3e1e69=_0x47ccb7,_0x20d447=this[_0x3e1e69(0x622)][_0x3e1e69(0x4ab)](_0x487598);if(!_0x20d447)throw new _0xb4a92c(_0x215585[_0x3e1e69(0x503)],_0x3e1e69(0x877));return _0x20d447;}[_0x47ccb7(0x72d)](_0x282a27){const _0x10e794=_0x47ccb7,_0x2a4600=this['keyValueDatabases'][_0x10e794(0x4ab)](_0x282a27);if(!_0x2a4600)throw new _0xb4a92c(_0x215585[_0x10e794(0x285)],_0x10e794(0x666));return _0x2a4600;}[_0x47ccb7(0x60f)](_0x244aca){const _0x5c471d=_0x47ccb7,_0x13a746=this['pubSubTopics'][_0x5c471d(0x4ab)](_0x244aca);if(!_0x13a746)throw new _0xb4a92c(_0x215585[_0x5c471d(0x944)],'PubSubTopic\x20not\x20found');return _0x13a746;}[_0x47ccb7(0x8f9)](_0x5d9a5c){const _0x1b7f78=_0x47ccb7,_0x205273=this[_0x1b7f78(0x83b)][_0x1b7f78(0x4ab)](_0x5d9a5c);if(!_0x205273)throw new _0xb4a92c(_0x215585['VectorDatabaseDoesNotExist'],_0x1b7f78(0xa08));return _0x205273;}[_0x47ccb7(0x7ac)](_0x1097b9){const _0xb7ec52=_0x47ccb7;switch(_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0x96)]){case _0x27c53f['PublishMediaStream']:this[_0xb7ec52(0x5ec)](_0x1097b9[_0xb7ec52(0x3d9)]);break;case _0x27c53f[_0xb7ec52(0x333)]:this[_0xb7ec52(0x3f4)](_0x1097b9[_0xb7ec52(0x3d9)]);break;case _0x27c53f[_0xb7ec52(0xaa1)]:this[_0xb7ec52(0xdb)](_0x1097b9['content'][_0xb7ec52(0xa39)]);break;case _0x27c53f[_0xb7ec52(0x890)]:this[_0xb7ec52(0x6dd)](_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)]);break;case _0x27c53f[_0xb7ec52(0x1c3)]:this['removeGenerativeAIContext'](_0x1097b9[_0xb7ec52(0x3d9)]['label']);break;case _0x27c53f[_0xb7ec52(0x4d4)]:this[_0xb7ec52(0x67f)](_0x1097b9['content'][_0xb7ec52(0xa39)]);break;case _0x27c53f['ClosePubSubTopic']:this[_0xb7ec52(0x84a)](_0x1097b9['content']['label']);break;case _0x27c53f[_0xb7ec52(0x4d5)]:this[_0xb7ec52(0x1b4)](_0x1097b9['content'][_0xb7ec52(0xa39)]);break;case _0x27c53f['CloseExternalStorageConnection']:this['removeExternalStorageConnection'](_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)]);break;case _0x27c53f[_0xb7ec52(0x98)]:this[_0xb7ec52(0x4d6)](_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)]);break;case _0x27c53f[_0xb7ec52(0x390)]:this[_0xb7ec52(0x3c5)](_0x1097b9[_0xb7ec52(0x3d9)]['label']);break;case _0x27c53f[_0xb7ec52(0x46e)]:this[_0xb7ec52(0x2a0)](_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)]);break;case _0x27c53f[_0xb7ec52(0x49e)]:this[_0xb7ec52(0x151)](_0x1097b9[_0xb7ec52(0x3d9)]);break;case _0x27c53f['KeyValueDatabaseSyncRequired']:this[_0xb7ec52(0x903)][_0xb7ec52(0x4ab)](_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)])?.[_0xb7ec52(0x495)](_0x1097b9[_0xb7ec52(0xa24)],_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0x529)]);break;case _0x27c53f['KeyValueDatabaseContentSynchronized']:this[_0xb7ec52(0x903)]['get'](_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)])?.['processContentSynchronized'](_0x1097b9[_0xb7ec52(0xa24)],_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0x529)]);break;case _0x27c53f[_0xb7ec52(0xaa8)]:this['keyValueDatabases'][_0xb7ec52(0x4ab)](_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)])?.[_0xb7ec52(0x8a3)](_0x1097b9[_0xb7ec52(0xa24)],_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0x8c8)]);break;case _0x27c53f[_0xb7ec52(0x1ca)]:this[_0xb7ec52(0x903)][_0xb7ec52(0x4ab)](_0x1097b9['content'][_0xb7ec52(0xa39)])?.[_0xb7ec52(0x43d)](_0x1097b9[_0xb7ec52(0xa24)],_0x1097b9['content'][_0xb7ec52(0x849)]);break;case _0x27c53f[_0xb7ec52(0x6f3)]:this[_0xb7ec52(0x903)][_0xb7ec52(0x4ab)](_0x1097b9[_0xb7ec52(0x3d9)]['label'])?.[_0xb7ec52(0x9a6)](_0x1097b9[_0xb7ec52(0xa24)],_0x1097b9['content'][_0xb7ec52(0x4cc)]);break;case _0x27c53f[_0xb7ec52(0x588)]:this[_0xb7ec52(0x903)][_0xb7ec52(0x4ab)](_0x1097b9[_0xb7ec52(0x3d9)]['label'])?.[_0xb7ec52(0x109)](_0x1097b9['sourceId'],_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0x406)]);break;case _0x27c53f[_0xb7ec52(0x517)]:this[_0xb7ec52(0x900)][_0xb7ec52(0x2eb)][_0xb7ec52(0x327)]('local-media-stream-track-fail',{'label':_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0xa39)],'trackKinds':_0x1097b9[_0xb7ec52(0x3d9)][_0xb7ec52(0x840)]});}}[_0x47ccb7(0x2d7)]({content:_0x2da30a}){const _0x599477=_0x47ccb7;switch(_0x2da30a[_0x599477(0x96)]){case _0x2f3f1e[_0x599477(0x9e2)]:this['handleNodeJoinNeedPublishedStream'](_0x2da30a),this[_0x599477(0x91a)](_0x2da30a);break;case _0x2f3f1e['NodeLeave']:this[_0x599477(0x7b6)](_0x2da30a),this['notifyObjectStoreOfNodeLeave'](_0x2da30a);}}[_0x47ccb7(0x3ea)](_0x43abea){const _0xa80689=_0x47ccb7;switch(_0x43abea[_0xa80689(0x3d9)][_0xa80689(0x96)]){case _0x1a992f[_0xa80689(0x2af)]:this['handleSubscribeMediaStream'](_0x43abea['sourceId'],_0x43abea[_0xa80689(0x3d9)]);break;case _0x1a992f[_0xa80689(0x4c6)]:this[_0xa80689(0x16a)](_0x43abea[_0xa80689(0xa24)],_0x43abea[_0xa80689(0x3d9)]);break;case _0x1a992f['UnsubscribeMediaStream']:this[_0xa80689(0x2ea)](_0x43abea[_0xa80689(0xa24)],_0x43abea[_0xa80689(0x3d9)]);}}['handleContentUnsubscribeMediaStream'](_0x48de58){const _0x2f3880=_0x47ccb7;if(0x0===_0x48de58[_0x2f3880(0xa4c)])this[_0x2f3880(0x49d)][_0x2f3880(0x4ab)](_0x48de58[_0x2f3880(0x1f4)])?.[_0x2f3880(0x4ab)](_0x48de58['label'])?.['destroy']();else{const _0x1f0389=this['remoteMediaStreams']['get'](_0x48de58['ownerId'])?.[_0x2f3880(0x4ab)](_0x48de58[_0x2f3880(0xa39)]);if(!_0x1f0389)return;_0x48de58[_0x2f3880(0x840)][_0x2f3880(0xa9d)](_0x50f571=>_0x1f0389[_0x2f3880(0x769)](_0x50f571));}}[_0x47ccb7(0x5ec)](_0x4afff4){const _0x1e8d9b=_0x47ccb7,{label:_0x1acfeb,ownerId:_0x381ea1,stream:{streamId:_0x599426,availableTrackKinds:_0x3f2b81}}=_0x4afff4;if(this['remoteMediaStreams'][_0x1e8d9b(0x4ab)](_0x381ea1)?.[_0x1e8d9b(0x788)](_0x1acfeb))return void _0x1a21a7[_0x1e8d9b(0x766)](_0x5300ce['Content'],_0x1e8d9b(0x345),_0x599426);const _0x4818c6=this[_0x1e8d9b(0x23f)](_0x381ea1,_0x1acfeb,_0x599426,_0x3f2b81);this['configs'][_0x1e8d9b(0x2eb)]['notifyCluster'](_0x1e8d9b(0x757),{'ownerId':_0x381ea1,'stream':_0x4818c6});}['handleUnpublishMediaStream']({ownerId:_0x4d3e0a,label:_0x28a4a9}){const _0x4b7c6e=_0x47ccb7;this['removeRemoteMediaStream'](_0x4d3e0a,_0x28a4a9),this['configs'][_0x4b7c6e(0x2eb)]['notifyCluster']('content-unpublish-media',{'ownerId':_0x4d3e0a,'label':_0x28a4a9});}[_0x47ccb7(0x5fa)](_0x305886,_0x4480bf){const _0x560851=_0x47ccb7,{ownerId:_0x149f51,label:_0x182b1b}=_0x4480bf;let _0x221197;_0x221197=_0x149f51!==this[_0x560851(0x900)]['localNode'][_0x560851(0x932)]()?this['remoteMediaStreams'][_0x560851(0x4ab)](_0x149f51)[_0x560851(0x4ab)](_0x182b1b):this['localMediaStreams'][_0x560851(0x4ab)](_0x182b1b),_0x221197['getShareableStream'](_0x305886,_0x4480bf['params'])[_0x560851(0x9b4)](_0x4480bf,_0x221197[_0x560851(0x455)]());}[_0x47ccb7(0x16a)](_0x56daad,_0x149453){const _0x416f40=_0x47ccb7,{ownerId:_0x999bd7,label:_0x385243}=_0x149453;let _0x5cada7;_0x5cada7=_0x999bd7!==this['configs'][_0x416f40(0x987)][_0x416f40(0x932)]()?this['remoteMediaStreams'][_0x416f40(0x4ab)](_0x999bd7)[_0x416f40(0x4ab)](_0x385243):this['localMediaStreams']['get'](_0x385243),_0x5cada7[_0x416f40(0x369)](_0x56daad,_0x149453[_0x416f40(0x1df)])[_0x416f40(0x96a)](_0x149453);}[_0x47ccb7(0x2ea)](_0x1c1463,_0x14c4d5){const _0x4e6a05=_0x47ccb7,{ownerId:_0x297808,label:_0x4455d5}=_0x14c4d5;let _0x513639;_0x513639=_0x297808!==this[_0x4e6a05(0x900)][_0x4e6a05(0x987)][_0x4e6a05(0x932)]()?this['remoteMediaStreams']['get'](_0x297808)[_0x4e6a05(0x4ab)](_0x4455d5):this[_0x4e6a05(0x827)][_0x4e6a05(0x4ab)](_0x4455d5),_0x513639[_0x4e6a05(0x369)](_0x1c1463)[_0x4e6a05(0x6c7)](_0x14c4d5);}[_0x47ccb7(0x7d)]({id:_0xa8a9b9}){const _0x37b619=_0x47ccb7;this[_0x37b619(0x5b4)]()[_0x37b619(0xa9d)](_0x1b4491=>{const _0x54d693=_0x37b619;_0x1b4491[_0x54d693(0x19c)](_0xa8a9b9);});}[_0x47ccb7(0x7b6)]({id:_0xfc52de}){const _0x213a82=_0x47ccb7;this['getRemoteMediaStreams'](_0x573e5d=>_0x573e5d[_0x213a82(0x29c)]()===_0xfc52de)[_0x213a82(0xa9d)](_0x24d786=>{const _0x4d8e0b=_0x213a82;this[_0x4d8e0b(0xa68)](_0x24d786['getOwnerId'](),_0x24d786[_0x4d8e0b(0x409)]());});}['notifyObjectStoreOfNodeJoin']({id:_0xc73028}){const _0x1a6a6a=_0x47ccb7;this[_0x1a6a6a(0x862)]['forEach'](_0x576f39=>_0x576f39[_0x1a6a6a(0x81f)](_0xc73028));}[_0x47ccb7(0x69d)]({id:_0x1896ad}){const _0x52dbca=_0x47ccb7;this['objectStores'][_0x52dbca(0xa9d)](_0x3fd018=>_0x3fd018['handleNodeLeave'](_0x1896ad));}['removeJobDispatcher'](_0x2e6c6c){const _0x7c1cd2=_0x47ccb7;if(!this[_0x7c1cd2(0x76e)][_0x7c1cd2(0x788)](_0x2e6c6c))throw new _0xb4a92c(_0x215585['JobDispatcherDoesNotExist'],_0x7c1cd2(0xf0));const _0x404b7b=this[_0x7c1cd2(0x76e)][_0x7c1cd2(0x4ab)](_0x2e6c6c);this[_0x7c1cd2(0x76e)]['delete'](_0x2e6c6c),_0x404b7b[_0x7c1cd2(0x85c)](),this['configs']['mediator']['unregisterSystemSource'](_0x404b7b);}[_0x47ccb7(0x6dd)](_0x2436af){const _0x29acb5=_0x47ccb7;if(!this['jobWorkers'][_0x29acb5(0x788)](_0x2436af))throw new _0xb4a92c(_0x215585[_0x29acb5(0x846)],_0x29acb5(0xa6f));const _0x2f480a=this['jobWorkers']['get'](_0x2436af);this[_0x29acb5(0x9f4)]['delete'](_0x2436af),_0x2f480a[_0x29acb5(0x85c)](),this[_0x29acb5(0x900)][_0x29acb5(0x2eb)][_0x29acb5(0x6c6)](_0x2f480a);}['removeGenerativeAIContext'](_0x387b20){const _0x4edced=_0x47ccb7;if(!this[_0x4edced(0x2fb)][_0x4edced(0x788)](_0x387b20))throw new _0xb4a92c(_0x215585[_0x4edced(0x69e)],_0x4edced(0x33e));const _0x4709a3=this[_0x4edced(0x2fb)][_0x4edced(0x4ab)](_0x387b20);this[_0x4edced(0x2fb)]['delete'](_0x387b20),this[_0x4edced(0x900)][_0x4edced(0x2eb)][_0x4edced(0x6c6)](_0x4709a3);}[_0x47ccb7(0x1b4)](_0x561fff){const _0x3e8a5f=_0x47ccb7;if(!this[_0x3e8a5f(0x862)][_0x3e8a5f(0x788)](_0x561fff))throw new _0xb4a92c(_0x215585[_0x3e8a5f(0x9eb)],_0x3e8a5f(0x57c));const _0x4cb719=this[_0x3e8a5f(0x862)][_0x3e8a5f(0x4ab)](_0x561fff);this[_0x3e8a5f(0x862)][_0x3e8a5f(0x7b9)](_0x561fff),_0x4cb719['destroy'](),this[_0x3e8a5f(0x900)][_0x3e8a5f(0x2eb)][_0x3e8a5f(0x6c6)](_0x4cb719);}[_0x47ccb7(0x5b0)](_0xb34b2b){const _0x5572b4=_0x47ccb7;if(!this[_0x5572b4(0x7dd)]['has'](_0xb34b2b))throw new _0xb4a92c(_0x215585['ExternalStorageConnectionDoesNotExist'],_0x5572b4(0x8da));const _0x340014=this[_0x5572b4(0x7dd)][_0x5572b4(0x4ab)](_0xb34b2b);this[_0x5572b4(0x7dd)][_0x5572b4(0x7b9)](_0xb34b2b),_0x340014[_0x5572b4(0x85c)](),this[_0x5572b4(0x900)][_0x5572b4(0x2eb)][_0x5572b4(0x6c6)](_0x340014);}['removePubSubTopic'](_0x2e79fb){const _0x52b071=_0x47ccb7;if(!this[_0x52b071(0x8c0)][_0x52b071(0x788)](_0x2e79fb))throw new _0xb4a92c(_0x215585[_0x52b071(0x944)],_0x52b071(0x57c));const _0x426f23=this['pubSubTopics'][_0x52b071(0x4ab)](_0x2e79fb);this[_0x52b071(0x8c0)]['delete'](_0x2e79fb),_0x426f23[_0x52b071(0x85c)](),this['configs'][_0x52b071(0x2eb)]['unregisterSystemSource'](_0x426f23);}[_0x47ccb7(0x4d6)](_0x524144){const _0x37e33b=_0x47ccb7;if(!this[_0x37e33b(0x903)][_0x37e33b(0x788)](_0x524144))throw new _0xb4a92c(_0x215585['KeyValueDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x526e26=this['keyValueDatabases'][_0x37e33b(0x4ab)](_0x524144);this[_0x37e33b(0x903)][_0x37e33b(0x7b9)](_0x524144),_0x526e26[_0x37e33b(0x85c)](),this[_0x37e33b(0x900)][_0x37e33b(0x2eb)][_0x37e33b(0x6c6)](_0x526e26);}['removeVectorDatabase'](_0x3ee6a0){const _0x3a2f69=_0x47ccb7;if(!this[_0x3a2f69(0x83b)][_0x3a2f69(0x788)](_0x3ee6a0))throw new _0xb4a92c(_0x215585[_0x3a2f69(0x97e)],_0x3a2f69(0x399));const _0x5562af=this[_0x3a2f69(0x83b)][_0x3a2f69(0x4ab)](_0x3ee6a0);this['vectorDatabases'][_0x3a2f69(0x7b9)](_0x3ee6a0),_0x5562af[_0x3a2f69(0x85c)](),this[_0x3a2f69(0x900)][_0x3a2f69(0x2eb)][_0x3a2f69(0x6c6)](_0x5562af);}['removeGraphDatabase'](_0x3ad636){const _0x36ae20=_0x47ccb7;if(!this[_0x36ae20(0x622)][_0x36ae20(0x788)](_0x3ad636))throw new _0xb4a92c(_0x215585[_0x36ae20(0x503)],_0x36ae20(0x399));const _0x18b403=this[_0x36ae20(0x622)][_0x36ae20(0x4ab)](_0x3ad636);this[_0x36ae20(0x622)][_0x36ae20(0x7b9)](_0x3ad636),_0x18b403[_0x36ae20(0x85c)](),this[_0x36ae20(0x900)][_0x36ae20(0x2eb)][_0x36ae20(0x6c6)](_0x18b403);}[_0x47ccb7(0x67f)](_0x12f668){const _0x3d4ba7=_0x47ccb7;if(!this[_0x3d4ba7(0x827)][_0x3d4ba7(0x788)](_0x12f668))throw new _0x20e318(_0x20e318['codes'][_0x3d4ba7(0x4ff)],{'label':_0x12f668,'localId':this[_0x3d4ba7(0x900)][_0x3d4ba7(0x987)][_0x3d4ba7(0x932)]()});const _0x3f2681=this['localMediaStreams'][_0x3d4ba7(0x4ab)](_0x12f668);this[_0x3d4ba7(0x900)][_0x3d4ba7(0x2eb)][_0x3d4ba7(0x6c6)](_0x3f2681),_0x3f2681['destroy'](),this['localMediaStreams'][_0x3d4ba7(0x7b9)](_0x12f668);}['removeRemoteMediaStream'](_0x377397,_0x3e8f89){const _0x1a2a7a=_0x47ccb7;if(!this[_0x1a2a7a(0x49d)][_0x1a2a7a(0x788)](_0x377397))throw new _0x20e318(_0x20e318[_0x1a2a7a(0x6f4)][_0x1a2a7a(0x972)],{'nodeId':_0x377397,'localId':this['configs']['localNode'][_0x1a2a7a(0x932)]()});const _0x5d3238=this[_0x1a2a7a(0x49d)]['get'](_0x377397);if(!_0x5d3238[_0x1a2a7a(0x788)](_0x3e8f89))throw new _0x20e318(_0x20e318[_0x1a2a7a(0x6f4)][_0x1a2a7a(0x4fb)],{'nodeId':_0x377397,'label':_0x3e8f89,'localId':this[_0x1a2a7a(0x900)][_0x1a2a7a(0x987)][_0x1a2a7a(0x932)]()});const _0x2d977b=_0x5d3238['get'](_0x3e8f89);this[_0x1a2a7a(0x900)]['mediator'][_0x1a2a7a(0x6c6)](_0x2d977b),_0x2d977b[_0x1a2a7a(0x85c)](),_0x5d3238[_0x1a2a7a(0x7b9)](_0x3e8f89);}}var _0x2ee139,_0x9d6206,_0x24380a;!function(_0x854a8c){const _0x5b9535=_0x47ccb7;_0x854a8c['STVolatility']=_0x5b9535(0x8db),_0x854a8c['DTVolatility']='dt_volatility',_0x854a8c['TimePerFrame']=_0x5b9535(0x2bc),_0x854a8c[_0x5b9535(0x53d)]=_0x5b9535(0x8b2),_0x854a8c['Jitter']=_0x5b9535(0xae2),_0x854a8c['FramePerSecond']='fps',_0x854a8c[_0x5b9535(0x456)]=_0x5b9535(0x2e0),_0x854a8c['AudioVideoDelay']=_0x5b9535(0x1d3);}(_0x2ee139||(_0x2ee139={})),function(_0x26e05c){const _0x1b6aeb=_0x47ccb7;_0x26e05c['CPUCycle']=_0x1b6aeb(0xa2),_0x26e05c['TimePerFrame']=_0x1b6aeb(0x6e4),_0x26e05c[_0x1b6aeb(0x8ad)]='cpu.av_delay',_0x26e05c[_0x1b6aeb(0xa6e)]=_0x1b6aeb(0x36c),_0x26e05c['Bitrate']=_0x1b6aeb(0x5cc),_0x26e05c['Jitter']=_0x1b6aeb(0xa46),_0x26e05c[_0x1b6aeb(0x456)]='bandwidth.rtt';}(_0x9d6206||(_0x9d6206={})),function(_0x4c96a0){const _0x1658aa=_0x47ccb7;_0x4c96a0[_0x4c96a0[_0x1658aa(0x7b1)]=0x0]=_0x1658aa(0x7b1);}(_0x24380a||(_0x24380a={}));const _0x2b4dc8=[{'type':_0x2ee139['STVolatility'],'reportMetric':_0x39c278=>_0x39c278[_0x47ccb7(0x7be)],'maxThreshold':2.5},{'type':_0x2ee139[_0x47ccb7(0x5f1)],'reportMetric':_0xd8b16a=>_0xd8b16a['DTVolatility'],'maxThreshold':0.5}],_0x41a7c5=[{'type':_0x2ee139[_0x47ccb7(0x8c4)],'reportMetric':_0x1a6251=>{const _0x578c9b=_0x47ccb7,_0x5e3920=0x3e8/_0x1a6251[_0x578c9b(0x139)];return _0x1a6251[_0x578c9b(0x458)]/_0x5e3920;},'maxThreshold':0.75},{'type':_0x2ee139[_0x47ccb7(0x53d)],'reportMetric':_0x44100d=>{const _0x5633ea=_0x47ccb7,_0x46a64c=_0x44100d[_0x5633ea(0x139)]*_0x44100d[_0x5633ea(0x3ba)]*_0x44100d[_0x5633ea(0xa28)]*0.12;return _0x44100d[_0x5633ea(0x8b2)]/_0x46a64c;},'minThreshold':0.25},{'type':_0x2ee139[_0x47ccb7(0x74c)],'reportMetric':_0xb2a18e=>_0xb2a18e[_0x47ccb7(0xae2)],'maxThreshold':0.6},{'type':_0x2ee139[_0x47ccb7(0xa6e)],'reportMetric':_0x13f6a4=>_0x13f6a4[_0x47ccb7(0x139)],'minThreshold':0xa}],_0xef72ef=[{'type':_0x2ee139[_0x47ccb7(0x74c)],'reportMetric':_0x4da4c9=>_0x4da4c9[_0x47ccb7(0xae2)],'maxThreshold':0.6}],_0x3a3f96=[{'type':_0x2ee139['RoundTripTime'],'reportMetric':_0x309256=>_0x309256[_0x47ccb7(0x6b1)],'maxThreshold':0x1/0x0}],_0x2662b7=[{'type':_0x2ee139[_0x47ccb7(0x8ad)],'reportMetric':_0x5553d0=>_0x5553d0[_0x47ccb7(0x8ad)],'maxThreshold':0x12c}],_0x2045b4=[{'type':_0x9d6206[_0x47ccb7(0x5e7)],'issues':[{'type':_0x2ee139[_0x47ccb7(0x7be)],'threshold':0x5},{'type':_0x2ee139[_0x47ccb7(0x5f1)],'threshold':0x5}]},{'type':_0x9d6206[_0x47ccb7(0x8c4)],'issues':[{'type':_0x2ee139[_0x47ccb7(0x8c4)],'threshold':0x3}]},{'type':_0x9d6206[_0x47ccb7(0x8ad)],'issues':[{'type':_0x2ee139[_0x47ccb7(0x8ad)],'threshold':0x2}]},{'type':_0x9d6206[_0x47ccb7(0xa6e)],'issues':[{'type':_0x2ee139['FramePerSecond'],'threshold':0x3}]},{'type':_0x9d6206[_0x47ccb7(0x53d)],'issues':[{'type':_0x2ee139['Bitrate'],'threshold':0x3}]},{'type':_0x9d6206[_0x47ccb7(0x74c)],'issues':[{'type':_0x2ee139[_0x47ccb7(0x74c)],'threshold':0x3}]},{'type':_0x9d6206['RoundTripTime'],'issues':[{'type':_0x2ee139[_0x47ccb7(0x456)],'threshold':0x3}]}];var _0x17a33c,_0x2be628;!function(_0x218e7d){const _0x1404f5=_0x47ccb7;_0x218e7d[_0x218e7d['StreamReport']=0x0]=_0x1404f5(0x60d),_0x218e7d[_0x218e7d[_0x1404f5(0x359)]=0x1]=_0x1404f5(0x359);}(_0x17a33c||(_0x17a33c={}));class _0x24d291{['configs'];[_0x47ccb7(0x88f)]=[];['systemTopic'];constructor(_0x506180){const _0x73570c=_0x47ccb7;this['configs']=_0x506180,this[_0x73570c(0x900)][_0x73570c(0x2eb)][_0x73570c(0x672)](this);}[_0x47ccb7(0x84)](_0x55a3f1){const _0xb5d7b0=_0x47ccb7;this[_0xb5d7b0(0x9bb)]=_0x55a3f1;}[_0x47ccb7(0xa03)](){const _0x5bf328=_0x47ccb7;this[_0x5bf328(0x9bb)]=void 0x0;}['close'](){const _0x3a53aa=_0x47ccb7;this[_0x3a53aa(0x900)][_0x3a53aa(0x2eb)]['unregisterSystemSource'](this),this[_0x3a53aa(0x88f)]=[];}[_0x47ccb7(0x258)](_0x6f3015){const _0x51d3ce=_0x47ccb7;switch(_0x6f3015[_0x51d3ce(0x3d9)][_0x51d3ce(0x96)]){case _0x17a33c[_0x51d3ce(0x359)]:this[_0x51d3ce(0x4bc)](_0x6f3015['content'][_0x51d3ce(0x4ac)]);break;case _0x17a33c[_0x51d3ce(0x60d)]:this[_0x51d3ce(0x47b)](_0x6f3015[_0x51d3ce(0x3d9)][_0x51d3ce(0x4ac)]);}}[_0x47ccb7(0x90a)](_0xf89b60,_0x5f59c4,_0x4bd77f,_0x7a9a6b){const _0x45b109=_0x47ccb7,_0x1f1fef=_0x2045b4[_0x45b109(0x1b5)](_0x1a3caa=>_0x1a3caa[_0x45b109(0x88f)]['some'](_0x243b4d=>_0x243b4d['type']===_0xf89b60));_0x7a9a6b>=_0x1f1fef[_0x45b109(0x88f)][_0x45b109(0x1b5)](_0x272da2=>_0x272da2['type']===_0xf89b60)[_0x45b109(0x29d)]&&(this[_0x45b109(0x5ac)](_0x1f1fef[_0x45b109(0x96)],_0x5f59c4,_0x4bd77f),this['issues']=this[_0x45b109(0x88f)][_0x45b109(0xac4)](_0x5f132c=>!(_0x5f132c[_0x45b109(0x96)]===_0xf89b60&&_0x5f132c[_0x45b109(0x907)]===_0x5f59c4&&_0x5f132c['origin']===_0x4bd77f)));}[_0x47ccb7(0x4bc)](_0x2e80fb){const _0x4cbe8c=_0x47ccb7;_0x2b4dc8[_0x4cbe8c(0xa9d)](_0x582fba=>{const _0x4b0cb6=_0x4cbe8c,_0x18836e=_0x582fba[_0x4b0cb6(0x79e)](_0x2e80fb);_0x582fba['maxThreshold']&&_0x18836e>_0x582fba[_0x4b0cb6(0x740)]&&this[_0x4b0cb6(0x4f0)](_0x582fba[_0x4b0cb6(0x96)],this[_0x4b0cb6(0x900)][_0x4b0cb6(0x987)][_0x4b0cb6(0x932)](),_0x511ca7[_0x4b0cb6(0x46d)],_0x18836e),_0x582fba[_0x4b0cb6(0x297)]&&_0x18836e<_0x582fba[_0x4b0cb6(0x297)]&&this[_0x4b0cb6(0x4f0)](_0x582fba['type'],this[_0x4b0cb6(0x900)][_0x4b0cb6(0x987)]['getId'](),_0x511ca7[_0x4b0cb6(0x46d)],_0x18836e);});}[_0x47ccb7(0x47b)](_0x156a86){const _0x2804d7=_0x47ccb7;let _0x462cb2=[];switch(_0x156a86['origin']){case _0x511ca7['Sender']:_0x462cb2=_0x3a3f96;break;case _0x511ca7[_0x2804d7(0x256)]:_0x462cb2=_0x2662b7;}_0x156a86['video']&&this['detectVideoIssues'](_0x156a86[_0x2804d7(0x907)],_0x511ca7[_0x2804d7(0x46d)],_0x156a86[_0x2804d7(0xbe)]),_0x156a86[_0x2804d7(0x236)]&&this[_0x2804d7(0x4f7)](_0x156a86[_0x2804d7(0x907)],_0x511ca7[_0x2804d7(0x46d)],_0x156a86[_0x2804d7(0x236)]),_0x462cb2['forEach'](_0x331c56=>{const _0x9e98db=_0x2804d7,_0x2475e3=_0x331c56['reportMetric'](_0x156a86);_0x331c56[_0x9e98db(0x740)]&&_0x2475e3>_0x331c56[_0x9e98db(0x740)]&&this['addIssue'](_0x331c56[_0x9e98db(0x96)],_0x156a86['nodeId'],_0x511ca7['Sender'],_0x2475e3),_0x331c56[_0x9e98db(0x297)]&&_0x2475e3<_0x331c56[_0x9e98db(0x297)]&&this[_0x9e98db(0x4f0)](_0x331c56['type'],_0x156a86['nodeId'],_0x511ca7[_0x9e98db(0x46d)],_0x2475e3);});}[_0x47ccb7(0x18a)](_0x49c552,_0x22a912,_0x4122b8){const _0x2faff3=_0x47ccb7;0x0!==_0x4122b8[_0x2faff3(0x8b2)]&&_0x41a7c5[_0x2faff3(0xa9d)](_0x1a3419=>{const _0x2526b9=_0x2faff3,_0x131cab=_0x1a3419[_0x2526b9(0x79e)](_0x4122b8);_0x1a3419[_0x2526b9(0x740)]&&_0x131cab>_0x1a3419[_0x2526b9(0x740)]&&this[_0x2526b9(0x4f0)](_0x1a3419['type'],_0x49c552,_0x22a912,_0x131cab,_0x2526b9(0xbe)),_0x1a3419[_0x2526b9(0x297)]&&_0x131cab<_0x1a3419['minThreshold']&&this['addIssue'](_0x1a3419[_0x2526b9(0x96)],_0x49c552,_0x22a912,_0x131cab,_0x2526b9(0xbe));});}[_0x47ccb7(0x4f7)](_0x2ba8d0,_0x2270cc,_0x5a7f1a){const _0x339bdd=_0x47ccb7;0x0!==_0x5a7f1a[_0x339bdd(0x8b2)]&&_0xef72ef[_0x339bdd(0xa9d)](_0x5be273=>{const _0x3c4599=_0x339bdd,_0xe9ab1e=_0x5be273[_0x3c4599(0x79e)](_0x5a7f1a);_0x5be273[_0x3c4599(0x740)]&&_0xe9ab1e>_0x5be273[_0x3c4599(0x740)]&&this[_0x3c4599(0x4f0)](_0x5be273[_0x3c4599(0x96)],_0x2ba8d0,_0x2270cc,_0xe9ab1e,'audio'),_0x5be273[_0x3c4599(0x297)]&&_0xe9ab1e<_0x5be273[_0x3c4599(0x297)]&&this[_0x3c4599(0x4f0)](_0x5be273['type'],_0x2ba8d0,_0x2270cc,_0xe9ab1e,_0x3c4599(0x236));});}[_0x47ccb7(0x4f0)](_0x4f84a6,_0x43414e,_0x23a793,_0x50d36e,_0x4115fd){const _0x56a73c=_0x47ccb7;_0x1a21a7['log'](_0x5300ce['Detection'],_0x56a73c(0x91b)+_0x4f84a6,_0x4f84a6,_0x50d36e),_0x1a21a7[_0x56a73c(0x24a)](_0x56a73c(0x32f),{'clusterId':this[_0x56a73c(0x900)][_0x56a73c(0x8b5)],'nodeId':this[_0x56a73c(0x900)][_0x56a73c(0x987)][_0x56a73c(0x932)](),'nodeType':this['configs']['localNode'][_0x56a73c(0x96)],'remoteId':_0x43414e,'data':{'type':_0x4f84a6,'value':_0x50d36e,'kind':_0x4115fd}}),this[_0x56a73c(0x88f)]=this[_0x56a73c(0x88f)][_0x56a73c(0xac4)](_0x3bbfe6=>Date['now']()-_0x3bbfe6[_0x56a73c(0x826)]<0x7530),this['issues'][_0x56a73c(0x5c5)]({'timestamp':Date[_0x56a73c(0x31e)](),'type':_0x4f84a6,'nodeId':_0x43414e,'origin':_0x23a793,'value':_0x50d36e,'kind':_0x4115fd});const _0x5f470b=this['issues']['filter'](_0x17673b=>_0x17673b[_0x56a73c(0x96)]===_0x4f84a6&&_0x17673b[_0x56a73c(0x907)]===_0x43414e&&_0x17673b[_0x56a73c(0xa16)]===_0x23a793)[_0x56a73c(0x583)];this['detectProblems'](_0x4f84a6,_0x43414e,_0x23a793,_0x5f470b);}[_0x47ccb7(0x5ac)](_0x2eb7ed,_0x375833,_0x1001d1){const _0x25bf26=_0x47ccb7;_0x1a21a7['log'](_0x5300ce[_0x25bf26(0x3b6)],_0x25bf26(0x76c)+_0x2eb7ed),_0x1a21a7[_0x25bf26(0x24a)](_0x25bf26(0xa7),{'clusterId':this['configs'][_0x25bf26(0x8b5)],'nodeId':this[_0x25bf26(0x900)]['localNode'][_0x25bf26(0x932)](),'nodeType':this[_0x25bf26(0x900)][_0x25bf26(0x987)]['type'],'remoteId':_0x375833,'data':{'type':_0x2eb7ed}}),this[_0x25bf26(0x9bb)]?.[_0x25bf26(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x25bf26(0x3b6)],'content':{'type':_0x24380a[_0x25bf26(0x7b1)],'data':{'timestamp':Date[_0x25bf26(0x31e)](),'nodeId':_0x375833,'origin':_0x511ca7[_0x25bf26(0x46d)],'type':_0x2eb7ed}}});}}class _0x988233 extends _0x3fc480{[_0x47ccb7(0x96)]=_0x46b128[_0x47ccb7(0x177)][_0x47ccb7(0x856)];}class _0x47cd91 extends _0x988233{['systemTopic'];[_0x47ccb7(0x361)]=Date[_0x47ccb7(0x31e)]();[_0x47ccb7(0x27f)];[_0x47ccb7(0x549)];[_0x47ccb7(0x3a0)](){const _0x414913=_0x47ccb7;this[_0x414913(0x27f)]&&(clearTimeout(this[_0x414913(0x27f)]),delete this[_0x414913(0x27f)]),delete this[_0x414913(0x549)],this[_0x414913(0x361)]=Date[_0x414913(0x31e)](),super[_0x414913(0x3a0)]();}[_0x47ccb7(0x84)](_0x320fa2){this['systemTopic']=_0x320fa2;}[_0x47ccb7(0xa03)](){const _0x35c73c=_0x47ccb7;delete this[_0x35c73c(0x9bb)];}[_0x47ccb7(0x31f)](_0x4eadc2){const _0x3b1fc9=_0x47ccb7;!this['updateDebounceTimeout']&&this[_0x3b1fc9(0x34d)]&&this['systemTopic'][_0x3b1fc9(0x19c)]({'sourceId':this['id'],'destinationIds':[_0x4eadc2],'propagate':!0x0,'messageType':_0x11d238[_0x3b1fc9(0x662)],'content':{'type':_0x2f3f1e[_0x3b1fc9(0x6b9)],'id':this['id'],'metaData':{'type':this[_0x3b1fc9(0x96)]},'rank':this['getRank'](),'remoteConnections':Array[_0x3b1fc9(0x48b)](this[_0x3b1fc9(0x339)]),'version':this['currentVersion']}});}[_0x47ccb7(0x300)](_0xb773c9){const _0x35a7f1=_0x47ccb7;this[_0x35a7f1(0x339)][_0x35a7f1(0x788)](_0xb773c9)||(this[_0x35a7f1(0x339)]['add'](_0xb773c9),this[_0x35a7f1(0xacb)](),this['publishUserUpdate'](!0x0));}[_0x47ccb7(0x97d)](_0x133067){const _0x9be42f=_0x47ccb7;this[_0x9be42f(0x339)]['has'](_0x133067)&&(this[_0x9be42f(0x339)][_0x9be42f(0x7b9)](_0x133067),this[_0x9be42f(0xacb)](),this[_0x9be42f(0x645)](!0x0));}['getCurrentVersion'](){const _0xb4f0b3=_0x47ccb7;return this[_0xb4f0b3(0x361)];}[_0x47ccb7(0x3b4)](_0x1f0413,_0x1ee7c5=!0x0){const _0x44bb44=_0x47ccb7;this['rank']!==_0x1f0413&&(this['rank']=_0x1f0413,_0x1ee7c5&&(this[_0x44bb44(0xacb)](),this[_0x44bb44(0x645)]()));}[_0x47ccb7(0xacb)](){const _0x27223d=_0x47ccb7;this[_0x27223d(0x361)]=Date[_0x27223d(0x31e)]();}[_0x47ccb7(0x645)](_0x1bed74=!0x1){const _0x2f6d50=_0x47ccb7;if(this[_0x2f6d50(0x34d)]){if(this['lastUpdated']||(this['lastUpdated']=Date['now']()),this[_0x2f6d50(0x27f)]){if(Date[_0x2f6d50(0x31e)]()-this[_0x2f6d50(0x549)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x2f6d50(0x27f)]=setTimeout(()=>{const _0x38729e=_0x2f6d50;delete this[_0x38729e(0x549)],delete this['updateDebounceTimeout'],this['systemTopic']['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x11d238['Node'],'content':{'type':_0x1bed74?_0x2f3f1e[_0x38729e(0x442)]:_0x2f3f1e[_0x38729e(0x6b9)],'id':this['id'],'metaData':{'type':this[_0x38729e(0x96)]},'rank':this[_0x38729e(0x638)](),'remoteConnections':Array[_0x38729e(0x48b)](this[_0x38729e(0x339)]),'version':this[_0x38729e(0x361)]}});},0x3e8);}}}class _0x17f643 extends _0x45a61b{[_0x47ccb7(0x9bb)];[_0x47ccb7(0x361)]=Date[_0x47ccb7(0x31e)]();[_0x47ccb7(0x27f)];[_0x47ccb7(0x549)];['close'](){const _0x38705d=_0x47ccb7;this['updateDebounceTimeout']&&(clearTimeout(this[_0x38705d(0x27f)]),delete this[_0x38705d(0x27f)]),delete this[_0x38705d(0x549)],this[_0x38705d(0x361)]=Date['now'](),super[_0x38705d(0x3a0)]();}[_0x47ccb7(0x84)](_0x40049f){this['systemTopic']=_0x40049f;}[_0x47ccb7(0xa03)](){const _0x2ece81=_0x47ccb7;delete this[_0x2ece81(0x9bb)];}[_0x47ccb7(0x31f)](_0x341fd8){const _0x10c238=_0x47ccb7;!this[_0x10c238(0x27f)]&&this[_0x10c238(0x34d)]&&this['systemTopic']['publish']({'sourceId':this['id'],'destinationIds':[_0x341fd8],'propagate':!0x0,'messageType':_0x11d238[_0x10c238(0x662)],'content':{'type':_0x2f3f1e[_0x10c238(0x6b9)],'id':this['id'],'metaData':{'type':this[_0x10c238(0x96)],'displayName':this[_0x10c238(0x7a4)](),'email':this[_0x10c238(0x853)]()},'rank':this[_0x10c238(0x638)](),'remoteConnections':Array[_0x10c238(0x48b)](this['remoteConnections']),'version':this[_0x10c238(0x361)]}});}['addRemoteConnection'](_0x30491d){const _0x4e5e27=_0x47ccb7;this['remoteConnections']['has'](_0x30491d)||(this[_0x4e5e27(0x339)][_0x4e5e27(0x7ce)](_0x30491d),this['incrementVersion'](),this[_0x4e5e27(0x645)](!0x0));}['removeRemoteConnection'](_0x11b3db){const _0x213dd3=_0x47ccb7;this['remoteConnections']['has'](_0x11b3db)&&(this[_0x213dd3(0x339)][_0x213dd3(0x7b9)](_0x11b3db),this[_0x213dd3(0xacb)](),this['publishUserUpdate'](!0x0));}[_0x47ccb7(0x4c0)](){const _0x2930bc=_0x47ccb7;return this[_0x2930bc(0x361)];}[_0x47ccb7(0x975)](_0x4eca3d){const _0x5df39e=_0x47ccb7;this[_0x5df39e(0x828)]!==_0x4eca3d&&(this['displayName']=_0x4eca3d,this[_0x5df39e(0xacb)](),this[_0x5df39e(0x645)]());}['setEmail'](_0x1fed9f){const _0x3ab945=_0x47ccb7;this[_0x3ab945(0xa1)]!==_0x1fed9f&&(this[_0x3ab945(0xa1)]=_0x1fed9f,this[_0x3ab945(0xacb)](),this[_0x3ab945(0x645)]());}[_0x47ccb7(0x3b4)](_0x521b24,_0x381ba3=!0x0){const _0x4d345b=_0x47ccb7;this[_0x4d345b(0x34d)]!==_0x521b24&&(this[_0x4d345b(0x34d)]=_0x521b24,_0x381ba3&&(this[_0x4d345b(0xacb)](),this['publishUserUpdate']()));}[_0x47ccb7(0xacb)](){const _0x123f42=_0x47ccb7;this['currentVersion']=Date[_0x123f42(0x31e)]();}[_0x47ccb7(0x645)](_0x44c801=!0x1){const _0x4b4353=_0x47ccb7;if(this['rank']){if(this[_0x4b4353(0x549)]||(this[_0x4b4353(0x549)]=Date[_0x4b4353(0x31e)]()),this[_0x4b4353(0x27f)]){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x4b4353(0x27f)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x2aa79c=_0x4b4353;delete this[_0x2aa79c(0x549)],delete this[_0x2aa79c(0x27f)],this[_0x2aa79c(0x9bb)][_0x2aa79c(0x19c)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x11d238['Node'],'content':{'type':_0x44c801?_0x2f3f1e['NodeConnectionsUpdate']:_0x2f3f1e[_0x2aa79c(0x6b9)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this['getEmail']()},'rank':this[_0x2aa79c(0x638)](),'remoteConnections':Array[_0x2aa79c(0x48b)](this['remoteConnections']),'version':this[_0x2aa79c(0x361)]}});},0x3e8);}}}class _0xc7c5cc{['id'];[_0x47ccb7(0x4f1)];[_0x47ccb7(0x111)];[_0x47ccb7(0x1a2)];[_0x47ccb7(0x96)]=_0x46b128[_0x47ccb7(0x177)][_0x47ccb7(0x856)];[_0x47ccb7(0x39e)];constructor(_0x51a9ae,_0x5c6c69,_0x51f24c,_0x235902){const _0x12d6ad=_0x47ccb7;this['id']=_0x51a9ae,this['groupId']=_0x5c6c69,this[_0x12d6ad(0x111)]=_0x51f24c,this[_0x12d6ad(0x1a2)]=_0x235902;}['getId'](){return this['id'];}[_0x47ccb7(0x864)](_0x47184a){const _0x1f1485=_0x47ccb7,_0x210ecd=(0x0,_0x19c8f0['onSnapshot'])((0x0,_0x19c8f0[_0x1f1485(0x31b)])(_0x3af573[_0x1f1485(0x586)](),_0x1f1485(0x63d)+this['vendorId']+_0x1f1485(0x1c1)+this[_0x1f1485(0x4f1)]),_0x442d27=>{const _0x57c1ac=_0x1f1485;if(_0x442d27[_0x57c1ac(0xf1)]()){const _0x5675df=_0x442d27[_0x57c1ac(0x4ac)]();if(this[_0x57c1ac(0x1a2)][_0x57c1ac(0x826)][_0x57c1ac(0x6a2)](_0x5675df[_0x57c1ac(0x826)]))return;_0x1a21a7[_0x57c1ac(0x766)](_0x5300ce[_0x57c1ac(0x662)],_0x57c1ac(0x88d),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x5675df}),this[_0x57c1ac(0x1a2)]=_0x5675df,_0x47184a();}});return()=>_0x210ecd();}['setReportCapacity'](_0x4bde74){const _0x160c82=_0x47ccb7;return this[_0x160c82(0xa1d)](this[_0x160c82(0x4f1)],_0x4bde74),_0x301533[_0x160c82(0x25a)](()=>this[_0x160c82(0xa1d)](this['groupId'],_0x4bde74),0x7530);}[_0x47ccb7(0x716)](){const _0xf42a47=_0x47ccb7;if(!this['lastCapacityReport'])throw new _0x20e318(_0x20e318['codes'][_0xf42a47(0x375)]);return this[_0xf42a47(0x39e)];}async[_0x47ccb7(0xa1d)](_0x1ddeb6,_0x2ccfd5){const _0x405fbb=_0x47ccb7,_0x564342=await _0x2ccfd5();this['lastCapacityReport']=_0x564342,await(0x0,_0x19c8f0['addDoc'])((0x0,_0x19c8f0[_0x405fbb(0x611)])(_0x3af573[_0x405fbb(0x586)](),_0x405fbb(0x63d)+this[_0x405fbb(0x111)]+'/capacities'),{'agentId':this['id'],'groupId':_0x1ddeb6,'timestamp':(0x0,_0x19c8f0[_0x405fbb(0x551)])(),'capacity':_0x564342});}}!function(_0x6aca9a){const _0x4b949f=_0x47ccb7;_0x6aca9a[_0x6aca9a[_0x4b949f(0x798)]=0x0]=_0x4b949f(0x798),_0x6aca9a[_0x6aca9a[_0x4b949f(0x496)]=0x1]=_0x4b949f(0x496);}(_0x2be628||(_0x2be628={}));class _0x475c76 extends _0x988233{[_0x47ccb7(0x361)];[_0x47ccb7(0x5bc)]=_0x2be628[_0x47ccb7(0x798)];[_0x47ccb7(0x549)]=Date[_0x47ccb7(0x31e)]();constructor(_0x2fcb47,_0x1c1be7=new Set(),_0x2e136e,_0x35360f){const _0x22565e=_0x47ccb7;super(_0x2fcb47,_0x1c1be7,_0x35360f),this[_0x22565e(0x361)]=_0x2e136e;}[_0x47ccb7(0x4c0)](){const _0x25f4cd=_0x47ccb7;return this[_0x25f4cd(0x361)];}['getStatus'](){const _0x3ee540=_0x47ccb7;return this[_0x3ee540(0x5bc)];}['getLastUpdated'](){const _0x2eaae2=_0x47ccb7;return this[_0x2eaae2(0x549)];}[_0x47ccb7(0x3b4)](_0x44fd70){const _0x436a76=_0x47ccb7;this['rank']!==_0x44fd70&&(this[_0x436a76(0x34d)]=_0x44fd70,this[_0x436a76(0x6d7)]());}[_0x47ccb7(0x1c0)](_0xb77215){const _0x21f88a=_0x47ccb7;let _0x1527b2=!0x1;for(const _0x2b4d16 of this[_0x21f88a(0x339)])_0xb77215[_0x21f88a(0x9d0)](_0x2b4d16)||(_0x1527b2=!0x0,this[_0x21f88a(0x339)][_0x21f88a(0x7b9)](_0x2b4d16));for(const _0x170688 of _0xb77215)this[_0x21f88a(0x339)][_0x21f88a(0x788)](_0x170688)||(_0x1527b2=!0x0,this['remoteConnections']['add'](_0x170688));_0x1527b2&&this['updateLastUpdated']();}[_0x47ccb7(0xb9)](_0x25dede){const _0x32b276=_0x47ccb7;this[_0x32b276(0x361)]!==_0x25dede&&(this[_0x32b276(0x361)]=_0x25dede,this[_0x32b276(0x6d7)]());}[_0x47ccb7(0x2e4)](_0x57b346){const _0x489d6b=_0x47ccb7;this[_0x489d6b(0x5bc)]!==_0x57b346&&(this[_0x489d6b(0x5bc)]=_0x57b346,this[_0x489d6b(0x6d7)](),_0x57b346===_0x2be628[_0x489d6b(0x496)]&&this[_0x489d6b(0x3a0)]());}[_0x47ccb7(0x6d7)](){const _0x4a0653=_0x47ccb7;this[_0x4a0653(0x549)]=Date[_0x4a0653(0x31e)]();}}class _0x4e1e01 extends _0x45a61b{[_0x47ccb7(0x361)];[_0x47ccb7(0x5bc)]=_0x2be628['Online'];[_0x47ccb7(0x549)]=Date[_0x47ccb7(0x31e)]();constructor(_0x93fa6b,_0x1ea304,_0x16c145,_0x17fb0b=new Set(),_0x97c9ff,_0xb65421){const _0x49156c=_0x47ccb7;super(_0x93fa6b,_0x1ea304,_0x16c145,_0x17fb0b,_0xb65421),this[_0x49156c(0x361)]=_0x97c9ff;}[_0x47ccb7(0x4c0)](){const _0x202af7=_0x47ccb7;return this[_0x202af7(0x361)];}[_0x47ccb7(0x1e0)](){return this['status'];}[_0x47ccb7(0x810)](){return this['lastUpdated'];}[_0x47ccb7(0x975)](_0x540352){const _0xe54114=_0x47ccb7;this['displayName']!==_0x540352&&(this[_0xe54114(0x828)]=_0x540352,this[_0xe54114(0x6d7)]());}[_0x47ccb7(0x121)](_0x2774a2){const _0x2d3a24=_0x47ccb7;this['email']!==_0x2774a2&&(this[_0x2d3a24(0xa1)]=_0x2774a2,this['updateLastUpdated']());}[_0x47ccb7(0x3b4)](_0x53a264){const _0x3e112b=_0x47ccb7;this[_0x3e112b(0x34d)]!==_0x53a264&&(this[_0x3e112b(0x34d)]=_0x53a264,this[_0x3e112b(0x6d7)]());}[_0x47ccb7(0x1c0)](_0x3090d6){const _0x12b847=_0x47ccb7;let _0x1d8e8a=!0x1;for(const _0x63013 of this[_0x12b847(0x339)])_0x3090d6['includes'](_0x63013)||(_0x1d8e8a=!0x0,this[_0x12b847(0x339)][_0x12b847(0x7b9)](_0x63013));for(const _0x5a0f05 of _0x3090d6)this['remoteConnections'][_0x12b847(0x788)](_0x5a0f05)||(_0x1d8e8a=!0x0,this[_0x12b847(0x339)][_0x12b847(0x7ce)](_0x5a0f05));_0x1d8e8a&&this[_0x12b847(0x6d7)]();}[_0x47ccb7(0xb9)](_0x3419d4){const _0x52a169=_0x47ccb7;this[_0x52a169(0x361)]!==_0x3419d4&&(this[_0x52a169(0x361)]=_0x3419d4,this[_0x52a169(0x6d7)]());}[_0x47ccb7(0x2e4)](_0x1f2c0d){const _0x5c0d9f=_0x47ccb7;this[_0x5c0d9f(0x5bc)]!==_0x1f2c0d&&(this[_0x5c0d9f(0x5bc)]=_0x1f2c0d,this[_0x5c0d9f(0x6d7)](),_0x1f2c0d===_0x2be628[_0x5c0d9f(0x496)]&&this[_0x5c0d9f(0x3a0)]());}['updateLastUpdated'](){const _0x351902=_0x47ccb7;this[_0x351902(0x549)]=Date[_0x351902(0x31e)]();}}class _0x2979e5{['vendorId'];[_0x47ccb7(0x8b5)];[_0x47ccb7(0x987)];[_0x47ccb7(0x76d)];['disconnectCallback']=_0x25dd72();['firebaseUnsubscriber'];[_0x47ccb7(0x574)];[_0x47ccb7(0xf5)];[_0x47ccb7(0x9e0)]=!0x1;[_0x47ccb7(0x86)];[_0x47ccb7(0x1e1)];constructor(_0xde9310,_0x30570b,_0x959520,_0x3e3ea0){const _0x37cab5=_0x47ccb7;this[_0x37cab5(0x111)]=_0xde9310,this[_0x37cab5(0x8b5)]=_0x30570b,this[_0x37cab5(0x987)]=_0x959520,this[_0x37cab5(0x76d)]=_0x3e3ea0,this['clusterKey']=_0x37cab5(0x469)+this[_0x37cab5(0x111)]+_0x37cab5(0x469)+this['clusterId'],this['nodeKey']=_0x37cab5(0x469)+this['vendorId']+_0x37cab5(0x469)+this[_0x37cab5(0x987)][_0x37cab5(0x932)](),this['firebaseUnsubscriber']=(0x0,_0x2b76cc[_0x37cab5(0x80d)])((0x0,_0x2b76cc[_0x37cab5(0x94c)])(_0x3af573[_0x37cab5(0x39f)](),'.info/connected'),_0x51598a=>{const _0x2c1ce8=_0x37cab5;!0x0!==_0x51598a['val']()?this['connected']&&_0x1a21a7['error']('firebase-disconnect',{'clusterId':this[_0x2c1ce8(0x8b5)],'nodeId':this[_0x2c1ce8(0x987)][_0x2c1ce8(0x932)](),'nodeType':this['localNode']['type']}):(this['connected']=!0x0,this[_0x2c1ce8(0xa59)](),_0x1a21a7[_0x2c1ce8(0x1b8)](_0x2c1ce8(0x61f),{'clusterId':this[_0x2c1ce8(0x8b5)],'nodeId':this[_0x2c1ce8(0x987)][_0x2c1ce8(0x932)](),'nodeType':this[_0x2c1ce8(0x987)][_0x2c1ce8(0x96)]}));});}async[_0x47ccb7(0x4a2)](){const _0x4ee624=_0x47ccb7;await this[_0x4ee624(0x2ca)]();const _0x46157f=await this[_0x4ee624(0x3c4)]();return this[_0x4ee624(0x574)]=(0x0,_0x2b76cc[_0x4ee624(0x3b8)])((0x0,_0x2b76cc[_0x4ee624(0x94c)])(_0x3af573[_0x4ee624(0x39f)](),_0x4ee624(0x212)+this[_0x4ee624(0x86)]+'/nodes'),_0x19cfef=>{const _0x4dbf46=_0x4ee624,_0x43daab=_0x19cfef[_0x4dbf46(0xa0f)];if(!_0x43daab)return;const _0x4a8e47=_0x43daab[_0x4dbf46(0x5f9)](_0x4dbf46(0x469)+this['vendorId']+'ccc','');this[_0x4dbf46(0x167)][_0x4dbf46(0x19c)](_0x4a8e47);}),_0x46157f;}async[_0x47ccb7(0x3a0)](){const _0x4dfa6a=_0x47ccb7;this[_0x4dfa6a(0x574)]?.(),delete this[_0x4dfa6a(0x574)],this[_0x4dfa6a(0xf5)]?.[_0x4dfa6a(0x431)](),delete this[_0x4dfa6a(0xf5)],this[_0x4dfa6a(0x753)]?.(),delete this[_0x4dfa6a(0x753)],await(0x0,_0x2b76cc[_0x4dfa6a(0x607)])((0x0,_0x2b76cc[_0x4dfa6a(0x94c)])(_0x3af573[_0x4dfa6a(0x39f)](),_0x4dfa6a(0x212)+this[_0x4dfa6a(0x86)]+_0x4dfa6a(0x58f)+this[_0x4dfa6a(0x1e1)]));}[_0x47ccb7(0x992)](_0x315cdc){const _0x5080d1=_0x47ccb7;return this[_0x5080d1(0x167)][_0x5080d1(0x9b4)](_0x315cdc);}async[_0x47ccb7(0x3c4)](){const _0x1c286c=_0x47ccb7,_0x274a66=[],_0x2cd006=await(0x0,_0x2b76cc['get'])((0x0,_0x2b76cc[_0x1c286c(0x94c)])(_0x3af573[_0x1c286c(0x39f)](),_0x1c286c(0x212)+this[_0x1c286c(0x86)]+_0x1c286c(0x397))),_0x20266c=[];return _0x2cd006['forEach'](_0xd683e9=>{const _0x4b49b2=_0x1c286c,_0x40869b=_0xd683e9[_0x4b49b2(0xa0f)]?.[_0x4b49b2(0x5f9)]('ccc'+this[_0x4b49b2(0x111)]+_0x4b49b2(0x469),'');_0x20266c['push']({'id':_0x40869b,'joinedAt':_0xd683e9[_0x4b49b2(0x3c9)]()[_0x4b49b2(0x46c)],'priority':_0xd683e9['val']()['priority']});}),_0x20266c[_0x1c286c(0x5bd)]((_0x5562a8,_0x308c85)=>_0x5562a8[_0x1c286c(0x46c)]===_0x308c85[_0x1c286c(0x46c)]?_0x5562a8[_0x1c286c(0x83f)]-_0x308c85['priority']:_0x5562a8[_0x1c286c(0x46c)]-_0x308c85[_0x1c286c(0x46c)])[_0x1c286c(0x28b)](_0x20266c[_0x1c286c(0xa19)](_0x2b7f9b=>_0x2b7f9b['id']===this[_0x1c286c(0x987)][_0x1c286c(0x932)]())),_0x20266c[_0x1c286c(0x5bd)]((_0x2754a0,_0x2deab3)=>_0x2deab3[_0x1c286c(0x46c)]===_0x2754a0[_0x1c286c(0x46c)]?_0x2deab3[_0x1c286c(0x83f)]-_0x2754a0[_0x1c286c(0x83f)]:_0x2deab3[_0x1c286c(0x46c)]-_0x2754a0[_0x1c286c(0x46c)])[_0x1c286c(0xa9d)](_0x5440f8=>{const _0x33ebb1=_0x1c286c;_0x274a66[_0x33ebb1(0x583)]>=this[_0x33ebb1(0x76d)]||_0x274a66[_0x33ebb1(0x5c5)](_0x5440f8['id']);}),_0x1a21a7['logEvent'](_0x1c286c(0x5c7),{'clusterId':this[_0x1c286c(0x8b5)],'nodeId':this[_0x1c286c(0x987)][_0x1c286c(0x932)](),'nodeType':this['localNode'][_0x1c286c(0x96)],'data':{'ancestorIds':_0x274a66,'allNodes':_0x20266c}}),_0x274a66;}async['joinCluster'](){const _0x31138b=_0x47ccb7;await(0x0,_0x2b76cc[_0x31138b(0x9de)])((0x0,_0x2b76cc[_0x31138b(0x94c)])(_0x3af573['getDatabase'](),_0x31138b(0x212)+this[_0x31138b(0x86)]+_0x31138b(0x58f)+this['nodeKey']),{'joinedAt':(0x0,_0x2b76cc[_0x31138b(0x551)])(),'priority':Math[_0x31138b(0x4db)]()});}['setOnDisconnectHandler'](){const _0x3f2576=_0x47ccb7;this[_0x3f2576(0xf5)]&&this['onDisconnectHandler'][_0x3f2576(0x431)](),this[_0x3f2576(0xf5)]=(0x0,_0x2b76cc[_0x3f2576(0x920)])((0x0,_0x2b76cc['ref'])(_0x3af573[_0x3f2576(0x39f)](),_0x3f2576(0x212)+this[_0x3f2576(0x86)]+_0x3f2576(0x58f)+this[_0x3f2576(0x1e1)])),this[_0x3f2576(0xf5)][_0x3f2576(0x607)]();}}class _0x5f278e{['configs'];[_0x47ccb7(0x410)];[_0x47ccb7(0x4a6)];[_0x47ccb7(0x17b)];[_0x47ccb7(0x50c)];[_0x47ccb7(0x73f)]=[];[_0x47ccb7(0x9bb)];[_0x47ccb7(0x2be)]=new Map();[_0x47ccb7(0x35b)];['lastProcessRank'];['_isReady'];['resolveReady'];['rejectReady'];[_0x47ccb7(0x963)];constructor(_0xfd03b1,_0x562702){const _0x3e3c52=_0x47ccb7;this[_0x3e3c52(0x900)]=_0xfd03b1,this[_0x3e3c52(0x410)]=_0x562702,this['_isReady']=new Promise((_0x486e03,_0x33d88b)=>{const _0x5806f5=_0x3e3c52;this['resolveReady']=_0x486e03,this[_0x5806f5(0x3cc)]=_0x33d88b;}),this['discoveryService']=new _0x2979e5(this[_0x3e3c52(0x900)][_0x3e3c52(0x111)],this[_0x3e3c52(0x900)][_0x3e3c52(0x8b5)],this[_0x3e3c52(0x900)][_0x3e3c52(0x987)],this[_0x3e3c52(0x410)]['getMinConnections']()),this[_0x3e3c52(0x50c)]=this[_0x3e3c52(0x17b)][_0x3e3c52(0x992)](this[_0x3e3c52(0x1c6)]['bind'](this)),this[_0x3e3c52(0x900)][_0x3e3c52(0x2eb)][_0x3e3c52(0x672)](this['configs'][_0x3e3c52(0x987)]),this[_0x3e3c52(0x900)]['mediator']['registerSystemSource'](this),this['remoteUnsubscriber']=_0x301533[_0x3e3c52(0x25a)](()=>{const _0x127357=_0x3e3c52,_0x57bdf1=Date[_0x127357(0x31e)]();this[_0x127357(0x410)][_0x127357(0xb2)]()['forEach'](_0xe968e3=>{const _0x44065d=_0x127357;_0xe968e3[_0x44065d(0x1e0)]()===_0x2be628[_0x44065d(0x496)]&&_0xe968e3[_0x44065d(0x810)]()<_0x57bdf1-0x493e0&&this['graphService'][_0x44065d(0x4f3)](_0xe968e3[_0x44065d(0x932)]());});},0xea60);}async[_0x47ccb7(0x4d2)](){return this['_isReady'];}async['isNodeReady'](_0x1ffaad){return new Promise((_0x56b1fb,_0x2218fa)=>{const _0x389c57=a0_0x17d3;let _0x2c07bd;const _0x5ee55f=setTimeout(()=>{const _0x38ee37=a0_0x17d3;_0x2c07bd?.(),_0x2218fa(new Error(_0x38ee37(0x5ab)+_0x1ffaad+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x389c57(0x410)][_0x389c57(0x1bc)](_0x1ffaad))return clearTimeout(_0x5ee55f),void _0x56b1fb(!0x0);_0x2c07bd=this[_0x389c57(0x410)][_0x389c57(0x35a)](()=>{this['graphService']['hasRemoteNode'](_0x1ffaad)&&(clearTimeout(_0x5ee55f),_0x56b1fb(!0x0),_0x2c07bd?.());});});}[_0x47ccb7(0x84)](_0x5ae56a){const _0x578cc4=_0x47ccb7;this[_0x578cc4(0x9bb)]=_0x5ae56a;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x47ccb7(0x3a0)](){const _0x24dce5=_0x47ccb7;this['debounceProcessRank']&&(clearTimeout(this[_0x24dce5(0x35b)]),delete this[_0x24dce5(0x35b)]),delete this[_0x24dce5(0xa7d)],this[_0x24dce5(0x900)][_0x24dce5(0x987)]['close'](),this[_0x24dce5(0x4a6)](),this[_0x24dce5(0x50c)](),this[_0x24dce5(0x900)]['mediator'][_0x24dce5(0x6c6)](this[_0x24dce5(0x900)][_0x24dce5(0x987)]),this[_0x24dce5(0x900)][_0x24dce5(0x2eb)][_0x24dce5(0x6c6)](this),this[_0x24dce5(0x17b)][_0x24dce5(0x3a0)]();}[_0x47ccb7(0xb8)](){const _0x15414b=_0x47ccb7;return this[_0x15414b(0x73f)];}[_0x47ccb7(0x539)](){const _0x694cc4=_0x47ccb7;return this[_0x694cc4(0x900)]['localNode']['getId']();}[_0x47ccb7(0x294)](){const _0x4d2bc2=_0x47ccb7;return this[_0x4d2bc2(0x900)][_0x4d2bc2(0x987)];}[_0x47ccb7(0xb2)](_0x12f587){const _0x57de0f=_0x47ccb7,_0x524f89=Array[_0x57de0f(0x48b)](this[_0x57de0f(0x410)][_0x57de0f(0xb2)]()[_0x57de0f(0x78c)]())[_0x57de0f(0xac4)](_0x165678=>_0x165678[_0x57de0f(0x1e0)]()===_0x2be628[_0x57de0f(0x798)]);return _0x12f587?_0x524f89['filter'](_0x12f587):_0x524f89;}async[_0x47ccb7(0x5c7)](){const _0x455a55=_0x47ccb7;return this[_0x455a55(0x73f)]=await this[_0x455a55(0x17b)]['join'](),this[_0x455a55(0x73f)][_0x455a55(0x583)]<this[_0x455a55(0x410)][_0x455a55(0x5b3)]()&&(this[_0x455a55(0x900)]['localNode'][_0x455a55(0x3b4)](this[_0x455a55(0x73f)]['length']+0x1),this[_0x455a55(0x936)]()),this[_0x455a55(0x73f)];}[_0x47ccb7(0x15f)](_0x342986,_0x34a4ef){const _0xbb63a0=_0x47ccb7,_0x74c8e0=this['configs']['localNode']['getRemoteConnections'](),_0x50b4dd=new Set(_0x74c8e0),_0x5b71da=Array[_0xbb63a0(0x48b)](_0x74c8e0)['filter'](_0x5940c4=>_0x5940c4!==_0x342986)[_0xbb63a0(0x437)](_0x1fcbc3=>({'id':_0x1fcbc3,'distance':0x1}));for(;_0x5b71da[_0xbb63a0(0x583)]>0x0;){const _0x45846d=_0x5b71da['shift']();if(!_0x45846d)continue;if(_0x45846d['id']===_0x34a4ef)return _0x45846d['distance'];const _0x481b46=this['graphService'][_0xbb63a0(0x5aa)](_0x45846d['id']);_0x481b46&&_0x481b46['getStatus']()!==_0x2be628[_0xbb63a0(0x496)]&&_0x481b46[_0xbb63a0(0x83c)]()[_0xbb63a0(0xa9d)](_0x4eca61=>{const _0x2fc275=_0xbb63a0;_0x50b4dd[_0x2fc275(0x788)](_0x4eca61)||(_0x50b4dd['add'](_0x4eca61),_0x5b71da['push']({'id':_0x4eca61,'distance':_0x45846d[_0x2fc275(0x1ef)]+0x1}));});}return-0x1;}[_0x47ccb7(0x2d7)](_0x886369){const _0x4cdca5=_0x47ccb7;try{switch(_0x886369['content']['type']){case _0x2f3f1e[_0x4cdca5(0x6b9)]:case _0x2f3f1e[_0x4cdca5(0x442)]:this[_0x4cdca5(0x9b7)](_0x886369['content']),_0x1a21a7[_0x4cdca5(0x766)](_0x5300ce[_0x4cdca5(0x662)],_0x4cdca5(0x9c1),'\x27'+this[_0x4cdca5(0x900)][_0x4cdca5(0x987)][_0x4cdca5(0x932)]()+',\x20'+_0x886369[_0x4cdca5(0xa24)]+'\x27',_0x886369,_0x886369[_0x4cdca5(0x3d9)]);break;case _0x2f3f1e['NodeLeave']:this['removeNode'](_0x886369[_0x4cdca5(0x3d9)]['id']),_0x1a21a7[_0x4cdca5(0x766)](_0x5300ce[_0x4cdca5(0x662)],_0x4cdca5(0x9fc),'\x27'+this[_0x4cdca5(0x900)][_0x4cdca5(0x987)]['getId']()+',\x20'+_0x886369[_0x4cdca5(0xa24)]+'\x27',_0x886369,_0x886369['content']);}}catch(_0x159acc){if(_0x159acc instanceof _0x5681b5)return void _0x1a21a7[_0x4cdca5(0x766)](_0x5300ce[_0x4cdca5(0x662)],_0x159acc[_0x4cdca5(0xa3f)]);throw _0x159acc;}}[_0x47ccb7(0xde)](_0x289a2b){const _0x3b7600=_0x47ccb7;switch(_0x289a2b[_0x3b7600(0x3d9)][_0x3b7600(0x96)]){case _0x2cbfba[_0x3b7600(0xa31)]:this[_0x3b7600(0x9df)](_0x289a2b['sourceId']),_0x1a21a7[_0x3b7600(0x766)](_0x5300ce['Node'],_0x3b7600(0x8b4),'\x27'+this[_0x3b7600(0x900)][_0x3b7600(0x987)][_0x3b7600(0x932)]()+',\x20'+_0x289a2b[_0x3b7600(0xa24)]+'\x27',_0x289a2b,_0x289a2b['content']);break;case _0x2cbfba[_0x3b7600(0x9a9)]:this['publishNodeLeave'](_0x289a2b['sourceId']),_0x1a21a7['log'](_0x5300ce[_0x3b7600(0x662)],_0x3b7600(0xea),this[_0x3b7600(0x900)][_0x3b7600(0x987)][_0x3b7600(0x932)](),_0x289a2b,_0x289a2b[_0x3b7600(0x3d9)]);}}[_0x47ccb7(0x81f)](_0x3796c0){const _0x5468c0=_0x47ccb7;this[_0x5468c0(0x5a5)](_0x3796c0),this['notifyJoin'](_0x3796c0);}['notifyJoin'](_0x2262c4){const _0x1afef9=_0x47ccb7;this['configs'][_0x1afef9(0x987)][_0x1afef9(0x31f)](_0x2262c4['id']),this[_0x1afef9(0x6d6)](_0x2262c4['id']),this['notifyClusterNodeJoin'](_0x2262c4);}[_0x47ccb7(0x9b7)](_0x10bfe1){const _0x62665b=_0x47ccb7,{id:_0x29a3a4,metaData:_0xe85719,rank:_0x29ef44,remoteConnections:_0x1fd1f1,version:_0x46c249}=_0x10bfe1,_0x4d194a=this['graphService'][_0x62665b(0x5aa)](_0x29a3a4);if(_0x4d194a){if(!(_0x46c249<=_0x4d194a[_0x62665b(0x4c0)]())){if(_0x4d194a[_0x62665b(0x1c0)](_0x1fd1f1),_0x4d194a[_0x62665b(0xb9)](_0x46c249),_0x4d194a['type']===_0x46b128[_0x62665b(0x177)]['User']&&_0xe85719[_0x62665b(0x96)]===_0x46b128[_0x62665b(0x177)][_0x62665b(0x40e)]&&(_0x4d194a[_0x62665b(0x975)](_0xe85719[_0x62665b(0x828)]),_0x4d194a[_0x62665b(0x121)](_0xe85719[_0x62665b(0xa1)])),_0x29ef44&&_0x4d194a[_0x62665b(0x3b4)](_0x29ef44),this[_0x62665b(0xa76)](_0x29a3a4,_0x29ef44),_0x4d194a[_0x62665b(0x1e0)]()===_0x2be628[_0x62665b(0x496)])return _0x4d194a[_0x62665b(0x2e4)](_0x2be628[_0x62665b(0x798)]),this[_0x62665b(0x936)](),void this[_0x62665b(0xa80)](_0x10bfe1);this['processRank'](),this['notifyClusterNodeUpdate']({'id':_0x29a3a4,'metaData':_0xe85719,'remoteConnections':_0x1fd1f1,'version':_0x46c249});}}else this[_0x62665b(0x81f)](_0x10bfe1);}[_0x47ccb7(0xa76)](_0x5a4ea1,_0x3effe3){const _0x226471=_0x47ccb7;_0x3effe3&&this[_0x226471(0x73f)][_0x226471(0x9d0)](_0x5a4ea1)&&this[_0x226471(0x900)][_0x226471(0x987)][_0x226471(0x3b4)](_0x3effe3+this[_0x226471(0x73f)][_0x226471(0x593)](_0x5a4ea1)+0x1);}['handleConnectionSuccess'](_0x6d572c){const _0x5adc00=_0x47ccb7;this[_0x5adc00(0x900)][_0x5adc00(0x987)][_0x5adc00(0x300)](_0x6d572c);}['createRemoteNode']({id:_0x231763,metaData:_0x4ecc1a,rank:_0x374a68,remoteConnections:_0x150d2a,version:_0x46b9ed}){const _0x14c90a=_0x47ccb7;if(this[_0x14c90a(0x410)][_0x14c90a(0x1bc)](_0x231763))throw new _0x5681b5(_0x14c90a(0x937)+_0x231763);switch(_0x4ecc1a[_0x14c90a(0x96)]){case _0x46b128[_0x14c90a(0x177)][_0x14c90a(0x40e)]:const {displayName:_0x1b27cb,email:_0xd443f6}=_0x4ecc1a;this[_0x14c90a(0x410)][_0x14c90a(0x11a)](_0x231763,new _0x4e1e01(_0x231763,_0x1b27cb,_0xd443f6,new Set(_0x150d2a),_0x46b9ed,_0x374a68));break;case _0x46b128[_0x14c90a(0x177)][_0x14c90a(0x856)]:this['graphService'][_0x14c90a(0x11a)](_0x231763,new _0x475c76(_0x231763,new Set(_0x150d2a),_0x46b9ed,_0x374a68));}const _0x5f0c95=this[_0x14c90a(0xb2)](),_0x1b0352=new Set(this[_0x14c90a(0x73f)]);_0x5f0c95[_0x14c90a(0xa9d)](_0x1fcb62=>{const _0x1370f9=_0x14c90a;_0x1b0352[_0x1370f9(0x788)](_0x1fcb62['getId']())&&_0x1b0352['delete'](_0x1fcb62[_0x1370f9(0x932)]());}),0x0===_0x1b0352[_0x14c90a(0x8f6)]&&this[_0x14c90a(0x5c3)]&&(this[_0x14c90a(0x963)]&&clearTimeout(this[_0x14c90a(0x963)]),this[_0x14c90a(0x963)]=setTimeout(()=>{const _0x2d060f=_0x14c90a;this[_0x2d060f(0x5c3)]?.(!0x0),delete this[_0x2d060f(0x5c3)],delete this[_0x2d060f(0x3cc)];},0x7d0)),this[_0x14c90a(0xa76)](_0x231763,_0x374a68),this['processRank']();}[_0x47ccb7(0x6d6)](_0x24aab8){const _0x39a1d0=_0x47ccb7;this['systemTopic'][_0x39a1d0(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x39a1d0(0x662)],'content':{'type':_0x2f3f1e[_0x39a1d0(0x9e2)],'id':_0x24aab8}});}[_0x47ccb7(0x16e)](_0x2513e8){const _0x356bcc=_0x47ccb7;this['systemTopic']?.[_0x356bcc(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238['Node'],'content':{'type':_0x2f3f1e[_0x356bcc(0x891)],'id':_0x2513e8}});}['handleNodeDisconnect'](_0x437f44){const _0x375f43=_0x47ccb7;if(_0x437f44===this[_0x375f43(0x900)]['localNode'][_0x375f43(0x932)]())return this['configs'][_0x375f43(0x2eb)][_0x375f43(0x327)](_0x375f43(0x763),{'id':_0x437f44}),this[_0x375f43(0x900)]['mediator'][_0x375f43(0x3a0)]({'force':!0x0},!0x0),this['configs'][_0x375f43(0x2eb)][_0x375f43(0x7f6)](),void this[_0x375f43(0x900)]['mediator'][_0x375f43(0x2e1)]();this[_0x375f43(0x16e)](_0x437f44);}[_0x47ccb7(0x2ba)](_0x4f520f){const _0x3b25ad=_0x47ccb7;this[_0x3b25ad(0x73f)][_0x3b25ad(0x9d0)](_0x4f520f)?this[_0x3b25ad(0x48a)](_0x4f520f):this[_0x3b25ad(0x900)]['localNode'][_0x3b25ad(0x83c)]()['has'](_0x4f520f)&&this[_0x3b25ad(0xa85)](_0x4f520f),this['configs']['localNode'][_0x3b25ad(0x97d)](_0x4f520f);const _0x3fb990=Array[_0x3b25ad(0x48b)](this[_0x3b25ad(0x2be)][_0x3b25ad(0xaca)]())[_0x3b25ad(0x1b5)](([,_0x28b6a5])=>_0x28b6a5==_0x28b6a5);_0x3fb990&&this['optimizationLayers'][_0x3b25ad(0x7b9)](_0x3fb990[0x0]);const _0x50d16d=this[_0x3b25ad(0x410)][_0x3b25ad(0x5aa)](_0x4f520f);if(!_0x50d16d)return;const _0x39c520=_0x50d16d[_0x3b25ad(0x638)](),_0x30760e=this['configs']['localNode'][_0x3b25ad(0x638)]();_0x30760e&&_0x39c520&&_0x39c520<_0x30760e&&this[_0x3b25ad(0x900)][_0x3b25ad(0x987)][_0x3b25ad(0x3b4)](_0x30760e-0x1,!0x1),Array[_0x3b25ad(0x48b)](this[_0x3b25ad(0x410)]['getRemoteNodes']()['values']())[_0x3b25ad(0xa9d)](_0x473189=>{const _0x2b6cff=_0x3b25ad,_0x3b3097=_0x473189[_0x2b6cff(0x638)]();_0x3b3097&&_0x39c520&&_0x39c520<_0x3b3097&&_0x473189[_0x2b6cff(0x3b4)](_0x3b3097-0x1);}),_0x50d16d['setStatus'](_0x2be628['Offline']),this['configs'][_0x3b25ad(0x2eb)][_0x3b25ad(0x327)](_0x50d16d[_0x3b25ad(0x96)]+_0x3b25ad(0x9a8),{'id':_0x4f520f});}[_0x47ccb7(0x274)]({id:_0x3b1e3e,metaData:_0x5dc41b,remoteConnections:_0x46518e}){const _0x22b5bf=_0x47ccb7;switch(_0x5dc41b['type']){case _0x46b128['NodeType'][_0x22b5bf(0x40e)]:this['configs'][_0x22b5bf(0x2eb)]['notifyCluster']('user-join',{'id':_0x3b1e3e,'metaData':_0x5dc41b,'remoteConnections':_0x46518e});break;case _0x46b128['NodeType']['Agent']:this[_0x22b5bf(0x900)][_0x22b5bf(0x2eb)][_0x22b5bf(0x327)](_0x22b5bf(0x749),{'id':_0x3b1e3e,'metaData':_0x5dc41b,'remoteConnections':_0x46518e});}}[_0x47ccb7(0x628)]({id:_0x2a6116,metaData:_0x4871c4,remoteConnections:_0x5281cb}){const _0x2bb843=_0x47ccb7;switch(_0x4871c4['type']){case _0x46b128[_0x2bb843(0x177)][_0x2bb843(0x40e)]:this[_0x2bb843(0x900)][_0x2bb843(0x2eb)][_0x2bb843(0x327)](_0x2bb843(0x7c8),{'id':_0x2a6116,'metaData':_0x4871c4,'remoteConnections':_0x5281cb});break;case _0x46b128[_0x2bb843(0x177)]['Agent']:this[_0x2bb843(0x900)][_0x2bb843(0x2eb)][_0x2bb843(0x327)](_0x2bb843(0x917),{'id':_0x2a6116,'metaData':_0x4871c4,'remoteConnections':_0x5281cb});}}[_0x47ccb7(0x936)](){const _0x49c705=_0x47ccb7;if(this['lastProcessRank']||(this[_0x49c705(0xa7d)]=Date[_0x49c705(0x31e)]()),this[_0x49c705(0x35b)]){if(Date['now']()-this[_0x49c705(0xa7d)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this['debounceProcessRank']=setTimeout(async()=>{const _0x343e52=_0x49c705;delete this[_0x343e52(0xa7d)],delete this['debounceProcessRank'];const _0x236dc4=this[_0x343e52(0x900)]['localNode']['getRank']();if(!_0x236dc4)return;const _0x2aaf9e=this[_0x343e52(0x410)][_0x343e52(0xa79)](this['graphService'][_0x343e52(0xb2)]()[_0x343e52(0x8f6)]);if(this[_0x343e52(0x2be)][_0x343e52(0x8f6)]>=_0x2aaf9e)return;let _0x17034b=0x1;for(;this[_0x343e52(0x900)]['mediator'][_0x343e52(0x79a)]()['length']<this[_0x343e52(0x410)][_0x343e52(0x618)]()&&_0x17034b<=_0x2aaf9e;){if(this[_0x343e52(0x2be)][_0x343e52(0x788)](_0x17034b)){_0x17034b+=0x1;continue;}const _0x3c1283=this[_0x343e52(0x410)][_0x343e52(0x466)](_0x236dc4,_0x17034b),_0x12996c=Array[_0x343e52(0x48b)](this[_0x343e52(0x410)][_0x343e52(0xb2)]()['values']())[_0x343e52(0x1b5)](_0x3e1ba3=>_0x3e1ba3['getRank']()===_0x3c1283&&_0x3e1ba3[_0x343e52(0x1e0)]()===_0x2be628[_0x343e52(0x798)]);if(_0x12996c){try{await this[_0x343e52(0x900)][_0x343e52(0x2eb)][_0x343e52(0x55f)](_0x12996c['getId'](),_0x7fd6cc[_0x343e52(0x376)]),this[_0x343e52(0x2be)][_0x343e52(0x9de)](_0x17034b,_0x12996c[_0x343e52(0x932)]());}catch(_0x24ebb1){if(!(_0x24ebb1 instanceof _0x20e318&&_0x24ebb1[_0x343e52(0x1d1)]===_0x20e318[_0x343e52(0x6f4)]['RemoteConnectionExists']))throw _0x24ebb1;_0x1a21a7['log'](_0x5300ce['Node'],this[_0x343e52(0x900)][_0x343e52(0x987)][_0x343e52(0x932)](),_0x12996c[_0x343e52(0x932)](),_0x24ebb1['message']);}_0x17034b+=0x1;}else _0x17034b+=0x1;}},0x3e8);}async['manageAncestor'](_0x2b72e2){const _0x44c6d0=_0x47ccb7;this['ancestors'][_0x44c6d0(0x28b)](this['ancestors'][_0x44c6d0(0x593)](_0x2b72e2),0x1);const _0x23697c=await this[_0x44c6d0(0x17b)]['getAncestors']();for(const _0x4cd563 of _0x23697c)if(!this['ancestors'][_0x44c6d0(0x9d0)](_0x4cd563)){const _0x1fde06=Array[_0x44c6d0(0x48b)](this['optimizationLayers']['entries']())[_0x44c6d0(0x1b5)](([,_0x44f54d])=>_0x44f54d===_0x4cd563);_0x1fde06&&this[_0x44c6d0(0x2be)][_0x44c6d0(0x7b9)](_0x1fde06[0x0]),this[_0x44c6d0(0x900)][_0x44c6d0(0x2eb)][_0x44c6d0(0x55f)](_0x4cd563,_0x7fd6cc[_0x44c6d0(0x9ff)]);}0x0===_0x23697c[_0x44c6d0(0x583)]&&this[_0x44c6d0(0x900)][_0x44c6d0(0x987)]['setRank'](0x1),this[_0x44c6d0(0x73f)]=_0x23697c;}async[_0x47ccb7(0xa85)](_0x25f959){const _0x31b5d5=_0x47ccb7,_0x23661b=this[_0x31b5d5(0x900)]['localNode']['getRank']();if(!_0x23661b)return;const _0x5b4b1c=this['graphService'][_0x31b5d5(0x5aa)](_0x25f959);if(!_0x5b4b1c||_0x5b4b1c[_0x31b5d5(0x1e0)]()===_0x2be628[_0x31b5d5(0x496)])return;const _0x74390e=_0x5b4b1c[_0x31b5d5(0x638)]();if(!_0x74390e||_0x74390e<_0x23661b)return;const _0x2bab36=this[_0x31b5d5(0xa56)](this[_0x31b5d5(0x900)]['localNode'][_0x31b5d5(0x83c)](),_0x23661b),_0x19d041=this[_0x31b5d5(0xa56)](_0x5b4b1c[_0x31b5d5(0x83c)](),_0x74390e)[_0x2bab36[_0x31b5d5(0xa19)](([_0x29302d])=>_0x29302d===_0x25f959)];if(!_0x19d041||this[_0x31b5d5(0x900)][_0x31b5d5(0x987)]['getRemoteConnections']()[_0x31b5d5(0x788)](_0x19d041[0x0]))return;const _0x1b3805=this[_0x31b5d5(0x410)]['getRemoteNode'](_0x19d041[0x0]);if(_0x1b3805&&_0x1b3805['getStatus']()!==_0x2be628['Offline'])try{await this[_0x31b5d5(0x900)]['mediator'][_0x31b5d5(0x55f)](_0x19d041[0x0],_0x7fd6cc[_0x31b5d5(0x376)]);const _0xfc3ed9=Array['from'](this[_0x31b5d5(0x2be)]['entries']())[_0x31b5d5(0x1b5)](([,_0x23e156])=>_0x23e156===_0x25f959);_0xfc3ed9&&this[_0x31b5d5(0x2be)][_0x31b5d5(0x9de)](_0xfc3ed9[0x0],_0x19d041[0x0]);}catch(_0x1c8654){if(!(_0x1c8654 instanceof _0x20e318&&_0x1c8654['code']===_0x20e318[_0x31b5d5(0x6f4)]['RemoteConnectionExists']))throw _0x1c8654;_0x1a21a7[_0x31b5d5(0x766)](_0x5300ce[_0x31b5d5(0x662)],this[_0x31b5d5(0x900)]['localNode']['getId'](),_0x19d041[0x0],_0x1c8654[_0x31b5d5(0xa3f)]);}}[_0x47ccb7(0xa56)](_0x15a50a,_0x3c381c){const _0x2ac6da=_0x47ccb7;return Array[_0x2ac6da(0x48b)](_0x15a50a)[_0x2ac6da(0x5b5)]((_0x14b88b,_0xf54927)=>{const _0x48c317=_0x2ac6da,_0x4422ba=this[_0x48c317(0x410)]['getRemoteNode'](_0xf54927);if(!_0x4422ba||_0x4422ba[_0x48c317(0x1e0)]()===_0x2be628['Offline'])return _0x14b88b;const _0x27a37e=_0x4422ba[_0x48c317(0x638)]();if(!_0x27a37e)return _0x14b88b;const _0x2b6128=_0x27a37e-_0x3c381c;return _0x2b6128<=this['graphService']['getMinConnections']()||_0x14b88b[_0x48c317(0x5c5)]([_0xf54927,_0x2b6128]),_0x14b88b;},[])['sort'](([,_0x1d094d],[,_0x6e13a4])=>_0x1d094d-_0x6e13a4);}}const _0x5cf509=[{'problemType':_0x9d6206['CPUCycle'],'remediations':[{'type':_0x1c48dc[_0x47ccb7(0x62c)],'component':_0x9bc2bf['Resolution'],'action':_0x5454a8[_0x47ccb7(0xd8)]},{'type':_0x1c48dc['RemoteRemediation'],'component':_0x9bc2bf[_0x47ccb7(0x1ea)],'action':_0x5454a8[_0x47ccb7(0xd8)]}]},{'problemType':_0x9d6206[_0x47ccb7(0x8c4)],'remediations':[{'type':_0x1c48dc[_0x47ccb7(0x62c)],'component':_0x9bc2bf[_0x47ccb7(0x1ea)],'action':_0x5454a8[_0x47ccb7(0xd8)]}]},{'problemType':_0x9d6206[_0x47ccb7(0x8ad)],'remediations':[{'type':_0x1c48dc[_0x47ccb7(0x62c)],'component':_0x9bc2bf['Resolution'],'action':_0x5454a8[_0x47ccb7(0xd8)]}]},{'problemType':_0x9d6206[_0x47ccb7(0xa6e)],'remediations':[{'type':_0x1c48dc[_0x47ccb7(0x62c)],'component':_0x9bc2bf[_0x47ccb7(0x1ea)],'action':_0x5454a8[_0x47ccb7(0xd8)]}]},{'problemType':_0x9d6206[_0x47ccb7(0x53d)],'remediations':[{'type':_0x1c48dc[_0x47ccb7(0x62c)],'component':_0x9bc2bf[_0x47ccb7(0x53d)],'action':_0x5454a8[_0x47ccb7(0xd8)]}]},{'problemType':_0x9d6206[_0x47ccb7(0x74c)],'remediations':[{'type':_0x1c48dc[_0x47ccb7(0x62c)],'component':_0x9bc2bf['Bitrate'],'action':_0x5454a8[_0x47ccb7(0xd8)]}]},{'problemType':_0x9d6206[_0x47ccb7(0x456)],'remediations':[{'type':_0x1c48dc[_0x47ccb7(0x62c)],'component':_0x9bc2bf[_0x47ccb7(0x53d)],'action':_0x5454a8[_0x47ccb7(0xd8)]}]}];class _0x59a153{['configs'];['systemTopic'];[_0x47ccb7(0xed)]=new Map();constructor(_0x404599){const _0x2991d2=_0x47ccb7;this[_0x2991d2(0x900)]=_0x404599,this[_0x2991d2(0x900)]['mediator'][_0x2991d2(0x672)](this);}['close'](){const _0x3b7c10=_0x47ccb7;this[_0x3b7c10(0x900)][_0x3b7c10(0x2eb)][_0x3b7c10(0x6c6)](this);}[_0x47ccb7(0x84)](_0xe60773){this['systemTopic']=_0xe60773;}[_0x47ccb7(0xa03)](){const _0x45c62c=_0x47ccb7;delete this[_0x45c62c(0x9bb)];}[_0x47ccb7(0x4c8)](_0x64c615){const _0x32fe25=_0x47ccb7;_0x64c615[_0x32fe25(0x3d9)]['type']===_0x24380a[_0x32fe25(0x7b1)]&&this[_0x32fe25(0x703)](_0x64c615[_0x32fe25(0x3d9)]['data']);}['handleRemediationSystemEvents'](_0x39b1ee){const _0x255b5a=_0x47ccb7;_0x39b1ee[_0x255b5a(0x3d9)][_0x255b5a(0x96)]===_0x1c48dc[_0x255b5a(0x2db)]&&this[_0x255b5a(0x17e)](_0x39b1ee[_0x255b5a(0xa24)],{'type':_0x1c48dc[_0x255b5a(0x62c)],'component':_0x39b1ee['content'][_0x255b5a(0x4ac)][_0x255b5a(0x7d7)],'action':_0x39b1ee[_0x255b5a(0x3d9)][_0x255b5a(0x4ac)][_0x255b5a(0x2f5)]});}[_0x47ccb7(0x703)](_0x36b5c9){const _0x20ceaa=_0x47ccb7,_0x193b75=_0x5cf509[_0x20ceaa(0x1b5)](_0x1f8ac1=>_0x1f8ac1['problemType']===_0x36b5c9[_0x20ceaa(0x96)]);_0x193b75[_0x20ceaa(0x39d)]?.[_0x20ceaa(0xa9d)](_0x406069=>{const _0x11b159=_0x20ceaa;this['applyRemediation'](_0x36b5c9[_0x11b159(0x907)],{'type':_0x36b5c9['origin']===_0x511ca7['Sender']?_0x1c48dc[_0x11b159(0x62c)]:_0x1c48dc[_0x11b159(0x2db)],'component':_0x406069[_0x11b159(0x7d7)],'action':_0x406069[_0x11b159(0x2f5)]});});}[_0x47ccb7(0x17e)](_0x5d3ed5,_0x5b3ec5){const _0x4276fd=_0x47ccb7;if(_0x5b3ec5[_0x4276fd(0x96)]===_0x1c48dc[_0x4276fd(0x62c)]){const _0x25995c=Date['now'](),_0x49a6a4=this[_0x4276fd(0xed)][_0x4276fd(0x4ab)](_0x5d3ed5);if(_0x49a6a4&&_0x25995c-_0x49a6a4<0x1388)return;this['lastRemediations'][_0x4276fd(0x9de)](_0x5d3ed5,_0x25995c);}_0x1a21a7[_0x4276fd(0x766)](_0x5300ce[_0x4276fd(0x62c)],'Apply\x20remediation',_0x5b3ec5),_0x1a21a7[_0x4276fd(0x24a)](_0x4276fd(0x36f),{'clusterId':this[_0x4276fd(0x900)][_0x4276fd(0x8b5)],'nodeId':this['configs'][_0x4276fd(0x987)]['getId'](),'nodeType':this[_0x4276fd(0x900)][_0x4276fd(0x987)][_0x4276fd(0x96)],'remoteId':_0x5d3ed5,'data':{'type':_0x5b3ec5['type'],'component':_0x5b3ec5[_0x4276fd(0x7d7)],'action':_0x5b3ec5[_0x4276fd(0x2f5)]}});let _0x19d83a,_0x4ca784=_0x4a8f96;_0x5b3ec5[_0x4276fd(0x96)]===_0x1c48dc[_0x4276fd(0x2db)]&&(_0x4ca784=this[_0x4276fd(0x900)][_0x4276fd(0x987)]['getId'](),_0x19d83a=[_0x5d3ed5]),this[_0x4276fd(0x9bb)][_0x4276fd(0x19c)]({'sourceId':_0x4ca784,'destinationIds':_0x19d83a,'messageType':_0x11d238[_0x4276fd(0x62c)],'content':{'type':_0x5b3ec5[_0x4276fd(0x96)],'targetId':_0x5d3ed5,'data':_0x5b3ec5}});}}const _0x45823e=0x3e8,_0x363246=0x7530,_0x33b663=_0x47ccb7(0x3b1),_0x7160c=_0x47ccb7(0x7a3),_0x3b65e5=_0x47ccb7(0x626),_0x44df20=[_0x33b663,_0x7160c],_0x3e7512=[_0x3b65e5];class _0x168a88{['roundTripTime']=0x0;[_0x47ccb7(0x305)]=0x0;[_0x47ccb7(0xae2)]=0x0;[_0x47ccb7(0xc2)]=0x0;[_0x47ccb7(0x82d)]=0x0;[_0x47ccb7(0x51c)]=0x0;[_0x47ccb7(0x793)]=0x0;['currentBytes']=0x0;[_0x47ccb7(0xa71)]=0x0;get[_0x47ccb7(0x8b2)](){const _0x57a43e=_0x47ccb7;return this[_0x57a43e(0x51c)]>0x0&&this[_0x57a43e(0x793)]>0x0&&Date[_0x57a43e(0x31e)]()-this[_0x57a43e(0x51c)]<_0x363246?(this['currentBytes']-this['previousBytes'])/(this['currentTimestamp']-this[_0x57a43e(0x793)])*0x8*0x3e8:0x0;}[_0x47ccb7(0x29e)](_0x294744){const _0xa62355=_0x47ccb7;switch(_0x294744[_0xa62355(0x96)]){case _0x3b65e5:this[_0xa62355(0x5e4)](_0x294744);break;case _0x33b663:this[_0xa62355(0xaae)](_0x294744);break;case _0x7160c:this['processRemoteInboundReport'](_0x294744);}}[_0x47ccb7(0x8a8)](){const _0x75ce5=_0x47ccb7;return{'bitrate':this[_0x75ce5(0x8b2)],'packetsLostPerc':this[_0x75ce5(0x9b3)](),'roundTripTime':this[_0x75ce5(0x6b1)],'jitter':this[_0x75ce5(0xae2)]};}[_0x47ccb7(0x5e4)](_0x570c78){const _0x332f13=_0x47ccb7;this[_0x332f13(0xaad)](_0x570c78[_0x332f13(0x945)]),this[_0x332f13(0x1f1)](_0x570c78['timestamp']),this[_0x332f13(0x82d)]=_0x570c78[_0x332f13(0xa89)],this[_0x332f13(0xc2)]=_0x570c78[_0x332f13(0xc2)],void 0x0!==_0x570c78[_0x332f13(0xae2)]?this['jitter']=_0x570c78[_0x332f13(0xae2)]:this[_0x332f13(0xae2)]=0x0,void 0x0!==_0x570c78['estimatedPlayoutTimestamp']?this[_0x332f13(0x305)]=_0x570c78['estimatedPlayoutTimestamp']:this[_0x332f13(0x305)]=0x0;}[_0x47ccb7(0xaae)](_0x35f62e){const _0x2706bf=_0x47ccb7;this[_0x2706bf(0xaad)](_0x35f62e['bytesSent']),this[_0x2706bf(0x1f1)](_0x35f62e[_0x2706bf(0x826)]),this[_0x2706bf(0x82d)]=_0x35f62e[_0x2706bf(0x5b2)];}[_0x47ccb7(0x4b3)](_0x7b6dcc){const _0x3a2641=_0x47ccb7;this[_0x3a2641(0x6b1)]=0x3e8*_0x7b6dcc[_0x3a2641(0x6b1)],void 0x0!==_0x7b6dcc[_0x3a2641(0xae2)]?this[_0x3a2641(0xae2)]=_0x7b6dcc[_0x3a2641(0xae2)]:this[_0x3a2641(0xae2)]=0x0;}[_0x47ccb7(0x9b3)](){const _0xe35eae=_0x47ccb7;return this[_0xe35eae(0x82d)]>0x0?this[_0xe35eae(0xc2)]/this[_0xe35eae(0x82d)]:0x0;}[_0x47ccb7(0x1f1)](_0x1e3002){const _0x4f3a82=_0x47ccb7;_0x1e3002>this[_0x4f3a82(0x51c)]&&(this[_0x4f3a82(0x793)]=this[_0x4f3a82(0x51c)],this[_0x4f3a82(0x51c)]=_0x1e3002);}[_0x47ccb7(0xaad)](_0x436ad9){const _0x32ed76=_0x47ccb7;this[_0x32ed76(0xa71)]=this[_0x32ed76(0x9c)],this['currentBytes']=_0x436ad9;}}class _0x40154f extends _0x168a88{}class _0x18d078 extends _0x168a88{[_0x47ccb7(0x69c)]=0x0;[_0x47ccb7(0x3ba)]=0x0;[_0x47ccb7(0xa28)]=0x0;[_0x47ccb7(0x3e9)]=0x0;['previousFrames']=0x0;get[_0x47ccb7(0x68b)](){const _0x52874b=_0x47ccb7;return this['currentTimestamp']>0x0&&this[_0x52874b(0x793)]>0x0&&Date[_0x52874b(0x31e)]()-this[_0x52874b(0x51c)]<_0x363246?(this[_0x52874b(0x3e9)]-this[_0x52874b(0xac0)])/(this[_0x52874b(0x51c)]-this[_0x52874b(0x793)])*0x3e8:0x0;}get[_0x47ccb7(0x458)](){const _0x246fe6=_0x47ccb7;return this[_0x246fe6(0x69c)]&&this[_0x246fe6(0x3e9)]&&this[_0x246fe6(0x3e9)]>0x0?this['frameTime']/this[_0x246fe6(0x3e9)]:0x0;}set[_0x47ccb7(0x71e)](_0x2a2f82){const _0x3d8b14=_0x47ccb7;this[_0x3d8b14(0xac0)]=this['currentFrames'],this[_0x3d8b14(0x3e9)]=_0x2a2f82;}[_0x47ccb7(0x8a8)](){const _0x3934f0=_0x47ccb7;return{...super['getReport'](),'FPS':this[_0x3934f0(0x68b)],'timePerFrame':this[_0x3934f0(0x458)],'frameWidth':this[_0x3934f0(0x3ba)],'frameHeight':this['frameHeight']};}[_0x47ccb7(0x5e4)](_0x4817f7){const _0xe9d7bd=_0x47ccb7;super[_0xe9d7bd(0x5e4)](_0x4817f7),this['frameTime']=_0x4817f7[_0xe9d7bd(0x157)],this[_0xe9d7bd(0x71e)]=_0x4817f7[_0xe9d7bd(0x649)],this[_0xe9d7bd(0x3ba)]=_0x4817f7[_0xe9d7bd(0x3ba)],this['frameHeight']=_0x4817f7[_0xe9d7bd(0xa28)];}[_0x47ccb7(0xaae)](_0x51792c){const _0x3301f4=_0x47ccb7;super[_0x3301f4(0xaae)](_0x51792c),this[_0x3301f4(0x69c)]=_0x51792c['totalEncodeTime'],this[_0x3301f4(0x71e)]=_0x51792c[_0x3301f4(0xa44)],this[_0x3301f4(0x3ba)]=_0x51792c[_0x3301f4(0x3ba)],this[_0x3301f4(0xa28)]=_0x51792c[_0x3301f4(0xa28)];}}class _0x7d3b8c{[_0x47ccb7(0x236)]=new _0x40154f();[_0x47ccb7(0xbe)]=new _0x18d078();get[_0x47ccb7(0x8b2)](){const _0x1bc1b2=_0x47ccb7;return this['audio']['bitrate']+this[_0x1bc1b2(0xbe)][_0x1bc1b2(0x8b2)];}[_0x47ccb7(0xe3)](_0x3238b9){const _0x7d9722=_0x47ccb7;return _0x3238b9[_0x7d9722(0xa9d)](_0x2f63f4=>{const _0x4873d1=_0x7d9722;switch(_0x2f63f4['kind']){case _0x4873d1(0x236):this[_0x4873d1(0x236)][_0x4873d1(0x29e)](_0x2f63f4);break;case'video':this[_0x4873d1(0xbe)][_0x4873d1(0x29e)](_0x2f63f4);}}),this[_0x7d9722(0x8a8)]();}[_0x47ccb7(0x8a8)](){const _0x24b3aa=_0x47ccb7;return{'audio':this[_0x24b3aa(0x236)][_0x24b3aa(0x8a8)](),'video':this[_0x24b3aa(0xbe)][_0x24b3aa(0x8a8)](),'roundTripTime':this[_0x24b3aa(0xa97)](),'AudioVideoDelay':this[_0x24b3aa(0x5d8)](),'bitrate':this[_0x24b3aa(0x8b2)]};}[_0x47ccb7(0xa97)](){const _0x3bd1a3=_0x47ccb7;return Math[_0x3bd1a3(0x634)]((this['audio'][_0x3bd1a3(0x6b1)]+this[_0x3bd1a3(0xbe)]['roundTripTime'])/0x2);}[_0x47ccb7(0x5d8)](){const _0x1c79cd=_0x47ccb7;return this[_0x1c79cd(0x236)][_0x1c79cd(0x305)]-this[_0x1c79cd(0xbe)][_0x1c79cd(0x305)];}}class _0x4643b4{[_0x47ccb7(0x251)]=0x0;[_0x47ccb7(0x743)]=0x0;[_0x47ccb7(0x106)]=0x0;[_0x47ccb7(0x7a0)]=0x0;['senderCurrentBytes']=0x0;['senderPreviousBytes']=0x0;[_0x47ccb7(0x8f1)]=0x0;['receiverPreviousBytes']=0x0;['senderTotalMessages']=0x0;[_0x47ccb7(0x5e0)]=0x0;[_0x47ccb7(0x362)]=0x0;[_0x47ccb7(0x172)]=0x0;[_0x47ccb7(0x6b1)]=0x0;get['bitrate'](){const _0x3a6808=_0x47ccb7;return this[_0x3a6808(0xada)]+this[_0x3a6808(0x6c1)];}get[_0x47ccb7(0xada)](){const _0x511fda=_0x47ccb7;return this[_0x511fda(0x251)]>0x0&&this[_0x511fda(0x743)]>0x0&&Date['now']()-this[_0x511fda(0x251)]<_0x363246?(this['senderCurrentBytes']-this[_0x511fda(0x228)])/(this[_0x511fda(0x251)]-this[_0x511fda(0x743)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x291b3b=_0x47ccb7;return this[_0x291b3b(0x106)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date['now']()-this[_0x291b3b(0x106)]<_0x363246?(this[_0x291b3b(0x8f1)]-this['receiverPreviousBytes'])/(this['receiverCurrentTimestamp']-this[_0x291b3b(0x7a0)])*0x8*0x3e8:0x0;}[_0x47ccb7(0x29e)](_0x1f54d6){const _0x2c0b8b=_0x47ccb7;switch(_0x1f54d6['origin']){case _0x511ca7[_0x2c0b8b(0x46d)]:this[_0x2c0b8b(0x92)](_0x1f54d6);break;case _0x511ca7['Receiver']:this[_0x2c0b8b(0xa9)](_0x1f54d6);}}['getReport'](){const _0x57497c=_0x47ccb7;return{'bitrate':this[_0x57497c(0x8b2)],'senderBitrate':this[_0x57497c(0xada)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x57497c(0x9b0)](),'senderTotalBytes':this[_0x57497c(0x94)](),'receiverTotalBytes':this[_0x57497c(0x51f)](),'totalMessages':this[_0x57497c(0x47a)]+this[_0x57497c(0x5e0)],'senderTotalMessages':this[_0x57497c(0x47a)],'receiverTotalMessages':this[_0x57497c(0x5e0)],'timeProcessing':this[_0x57497c(0x362)]+this[_0x57497c(0x172)],'senderTimeProcessing':this[_0x57497c(0x362)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this['roundTripTime']};}[_0x47ccb7(0x9b0)](){const _0xcecad6=_0x47ccb7;return this[_0xcecad6(0x6a3)]+this[_0xcecad6(0x8f1)];}[_0x47ccb7(0x94)](){const _0x245f90=_0x47ccb7;return this[_0x245f90(0x6a3)];}[_0x47ccb7(0x51f)](){const _0x43a97f=_0x47ccb7;return this[_0x43a97f(0x8f1)];}[_0x47ccb7(0x92)](_0x1260ad){const _0x23cd58=_0x47ccb7;this[_0x23cd58(0x27d)](_0x1260ad[_0x23cd58(0x826)]),this[_0x23cd58(0xaad)](_0x1260ad[_0x23cd58(0x1e8)]),this[_0x23cd58(0x47a)]=_0x1260ad[_0x23cd58(0x315)],this[_0x23cd58(0x362)]=_0x1260ad[_0x23cd58(0xf2)],this[_0x23cd58(0x6b1)]=_0x1260ad[_0x23cd58(0x6b1)];}[_0x47ccb7(0xa9)](_0x5b93ae){const _0x2db3cf=_0x47ccb7;this[_0x2db3cf(0x7d9)](_0x5b93ae[_0x2db3cf(0x826)]),this[_0x2db3cf(0xad4)](_0x5b93ae[_0x2db3cf(0x945)]),this[_0x2db3cf(0x5e0)]=_0x5b93ae[_0x2db3cf(0x698)],this[_0x2db3cf(0x172)]=_0x5b93ae['timeReceiving'];}[_0x47ccb7(0x27d)](_0x3313f8){const _0x1232e0=_0x47ccb7;_0x3313f8>this[_0x1232e0(0x251)]&&(this[_0x1232e0(0x743)]=this[_0x1232e0(0x251)],this['senderCurrentTimestamp']=_0x3313f8);}['setReceiverTimestamp'](_0x110d75){const _0x1e258f=_0x47ccb7;_0x110d75>this[_0x1e258f(0x106)]&&(this[_0x1e258f(0x7a0)]=this[_0x1e258f(0x106)],this[_0x1e258f(0x106)]=_0x110d75);}['setBytes'](_0x1454d6){const _0x38ae53=_0x47ccb7;this[_0x38ae53(0x228)]=this[_0x38ae53(0x6a3)],this[_0x38ae53(0x6a3)]=_0x1454d6;}['setReceiverBytes'](_0x38763e){const _0x5b2bc6=_0x47ccb7;this[_0x5b2bc6(0x76f)]=this[_0x5b2bc6(0x8f1)],this[_0x5b2bc6(0x8f1)]=_0x38763e;}}class _0x2a8da4{[_0x47ccb7(0x13d)]=new Map();[_0x47ccb7(0x863)]=new Map();[_0x47ccb7(0x97a)]=new _0x4643b4();get[_0x47ccb7(0xada)](){const _0x308702=_0x47ccb7;let _0x2e7dcf=0x0;return this[_0x308702(0x13d)]['forEach'](_0x447133=>{const _0x505549=_0x308702;_0x2e7dcf+=_0x447133[_0x505549(0x8b2)];}),_0x2e7dcf+=this[_0x308702(0x97a)][_0x308702(0xada)],_0x2e7dcf;}get[_0x47ccb7(0x6c1)](){let _0x403b1a=0x0;return this['receiverStreams']['forEach'](_0x30b4d3=>{const _0x23efb=a0_0x17d3;_0x403b1a+=_0x30b4d3[_0x23efb(0x8b2)];}),_0x403b1a+=this['dataChannel']['receiverBitrate'],_0x403b1a;}get[_0x47ccb7(0x8b2)](){const _0x59de68=_0x47ccb7;return this[_0x59de68(0xada)]+this[_0x59de68(0x6c1)];}[_0x47ccb7(0xe3)](_0x35fe23,_0x293cb5){const _0xa63969=_0x47ccb7,_0x3f6303=[],_0x4db01a=[];return _0x35fe23 instanceof Array?_0x35fe23[_0xa63969(0xa9d)](_0x528585=>{const _0x4fb320=_0xa63969;_0x528585[_0x4fb320(0xa9d)](_0x477272=>{const _0x3b4322=_0x4fb320;_0x3e7512[_0x3b4322(0x9d0)](_0x477272[_0x3b4322(0x96)])&&_0x3f6303[_0x3b4322(0x5c5)](_0x477272),_0x44df20['includes'](_0x477272[_0x3b4322(0x96)])&&_0x4db01a['push'](_0x477272);});}):this[_0xa63969(0x97a)][_0xa63969(0x29e)](_0x35fe23),_0x3f6303[_0xa63969(0x583)]>0x0&&_0x293cb5?{...this[_0xa63969(0x39b)](_0x293cb5,_0x3f6303),'origin':_0x511ca7[_0xa63969(0x256)],'streamId':_0x293cb5}:_0x4db01a['length']>0x0&&_0x293cb5?{...this[_0xa63969(0x1fc)](_0x293cb5,_0x4db01a),'origin':_0x511ca7[_0xa63969(0x46d)],'streamId':_0x293cb5}:void 0x0;}['getReport'](){const _0x267baa=_0x47ccb7,_0x2b0d88={};this[_0x267baa(0x13d)][_0x267baa(0xa9d)]((_0x1ce900,_0x5aeb30)=>{_0x2b0d88[_0x5aeb30]=_0x1ce900['getReport']();});const _0x1d698d={};return this[_0x267baa(0x863)][_0x267baa(0xa9d)]((_0x12353e,_0xfb640a)=>{const _0x2045e9=_0x267baa;_0x1d698d[_0xfb640a]=_0x12353e[_0x2045e9(0x8a8)]();}),{'bitrate':this[_0x267baa(0x8b2)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x267baa(0x6c1)],'senderStreams':_0x2b0d88,'receiverStreams':_0x1d698d,'dataChannel':this[_0x267baa(0x97a)][_0x267baa(0x8a8)]()};}[_0x47ccb7(0x39b)](_0x1a391b,_0x37f9a6){const _0x599f2b=_0x47ccb7;return this['receiverStreams']['has'](_0x1a391b)||this[_0x599f2b(0x863)][_0x599f2b(0x9de)](_0x1a391b,new _0x7d3b8c()),this['receiverStreams'][_0x599f2b(0x4ab)](_0x1a391b)[_0x599f2b(0xe3)](_0x37f9a6);}['processOutboundReports'](_0x18865a,_0x1c388d){const _0x592e41=_0x47ccb7;return this[_0x592e41(0x13d)][_0x592e41(0x788)](_0x18865a)||this[_0x592e41(0x13d)][_0x592e41(0x9de)](_0x18865a,new _0x7d3b8c()),this[_0x592e41(0x13d)][_0x592e41(0x4ab)](_0x18865a)[_0x592e41(0xe3)](_0x1c388d);}}class _0x2f8831{[_0x47ccb7(0x459)]=new Map();[_0x47ccb7(0x874)]=0x0;[_0x47ccb7(0xa5d)]=0x0;[_0x47ccb7(0x44d)]=new Map();[_0x47ccb7(0x862)]=new Map();[_0x47ccb7(0x903)]=new Map();[_0x47ccb7(0x2fb)]=new Map();['generativeAIWorkers']=new Map();[_0x47ccb7(0x83b)]=new Map();[_0x47ccb7(0x622)]=new Map();[_0x47ccb7(0x32c)]=new Map();[_0x47ccb7(0x47a)]=new Map();['receiverTotalMessages']=new Map();[_0x47ccb7(0x362)]=new Map();[_0x47ccb7(0x172)]=new Map();[_0x47ccb7(0x564)]=new Map();[_0x47ccb7(0x9bb)];[_0x47ccb7(0x8a8)](){const _0x511dd2=_0x47ccb7,_0x5bc321={};this[_0x511dd2(0x459)][_0x511dd2(0xa9d)]((_0x5d2f65,_0x58b832)=>{const _0x1b289d=_0x511dd2;_0x5bc321[_0x58b832]=_0x5d2f65[_0x1b289d(0x8a8)]();});let _0x2193b9=0x0;this[_0x511dd2(0x362)][_0x511dd2(0xa9d)](_0xd02b0b=>{_0x2193b9+=_0xd02b0b;});let _0x480f5f=0x0;this['receiverTimeProcessing'][_0x511dd2(0xa9d)](_0x520b78=>{_0x480f5f+=_0x520b78;});const _0x24ff32=_0x2193b9+_0x480f5f;let _0x9e5d19={'messages':{'total':0x0}};this[_0x511dd2(0x564)]['forEach'](_0x44aaa5=>{const _0x2da874=_0x511dd2;Object[_0x2da874(0xa3d)](_0x44aaa5)[_0x2da874(0xa9d)](_0x55248a=>{const _0x251dab=_0x2da874;_0x9e5d19[_0x55248a]||(_0x9e5d19[_0x55248a]={}),Object[_0x251dab(0xa3d)](_0x44aaa5[_0x55248a])[_0x251dab(0xa9d)](_0x54de14=>{_0x9e5d19[_0x55248a][_0x54de14]||(_0x9e5d19[_0x55248a][_0x54de14]=0x0),_0x9e5d19[_0x55248a][_0x54de14]+=_0x44aaa5[_0x55248a][_0x54de14];});});});let _0x287bf9=0x0,_0xd77839=0x0,_0x46d8e7=0x0,_0x180b66=0x0,_0x2d67dd=0x0;return this[_0x511dd2(0x44d)][_0x511dd2(0xa9d)](_0x2d79d6=>{const _0x5552ec=_0x511dd2;_0xd77839+=_0x2d79d6[_0x5552ec(0x315)],_0x46d8e7+=_0x2d79d6[_0x5552ec(0x698)],_0x180b66+=_0x2d79d6['bytesSent'],_0x2d67dd+=_0x2d79d6[_0x5552ec(0x945)];}),this[_0x511dd2(0x862)][_0x511dd2(0xa9d)](_0x3f7acf=>{const _0x370cff=_0x511dd2;_0x287bf9+=_0x3f7acf[_0x370cff(0x7b0)],_0xd77839+=_0x3f7acf[_0x370cff(0x315)],_0x46d8e7+=_0x3f7acf[_0x370cff(0x698)],_0x180b66+=_0x3f7acf['bytesSent'],_0x2d67dd+=_0x3f7acf[_0x370cff(0x945)];}),this[_0x511dd2(0x903)][_0x511dd2(0xa9d)](_0x1506f5=>{const _0x570c8e=_0x511dd2;_0x287bf9+=_0x1506f5[_0x570c8e(0x7b0)],_0xd77839+=_0x1506f5['messagesSent'],_0x46d8e7+=_0x1506f5[_0x570c8e(0x698)],_0x180b66+=_0x1506f5[_0x570c8e(0x1e8)],_0x2d67dd+=_0x1506f5['bytesReceived'];}),this[_0x511dd2(0x2fb)]['forEach'](_0x1f428e=>{const _0x36e007=_0x511dd2;_0x287bf9+=_0x1f428e['storage'],_0xd77839+=_0x1f428e[_0x36e007(0x315)],_0x46d8e7+=_0x1f428e[_0x36e007(0x698)],_0x180b66+=_0x1f428e['bytesSent'],_0x2d67dd+=_0x1f428e[_0x36e007(0x945)];}),this['generativeAIWorkers'][_0x511dd2(0xa9d)](_0x1ddac8=>{const _0x2cf1b0=_0x511dd2;_0x287bf9+=_0x1ddac8[_0x2cf1b0(0x7b0)],_0xd77839+=_0x1ddac8['messagesSent'],_0x46d8e7+=_0x1ddac8[_0x2cf1b0(0x698)],_0x180b66+=_0x1ddac8[_0x2cf1b0(0x1e8)],_0x2d67dd+=_0x1ddac8[_0x2cf1b0(0x945)];}),this[_0x511dd2(0x83b)]['forEach'](_0x412d8a=>{const _0x5e12af=_0x511dd2;_0x287bf9+=_0x412d8a[_0x5e12af(0x7b0)],_0xd77839+=_0x412d8a[_0x5e12af(0x315)],_0x46d8e7+=_0x412d8a['messagesReceived'],_0x180b66+=_0x412d8a[_0x5e12af(0x1e8)],_0x2d67dd+=_0x412d8a[_0x5e12af(0x945)];}),this[_0x511dd2(0x622)]['forEach'](_0x38d5f1=>{const _0x325d8a=_0x511dd2;_0x287bf9+=_0x38d5f1[_0x325d8a(0x7b0)],_0xd77839+=_0x38d5f1[_0x325d8a(0x315)],_0x46d8e7+=_0x38d5f1[_0x325d8a(0x698)],_0x180b66+=_0x38d5f1[_0x325d8a(0x1e8)],_0x2d67dd+=_0x38d5f1[_0x325d8a(0x945)];}),{'STVolatility':this[_0x511dd2(0x741)](),'DTVolatility':this[_0x511dd2(0x558)](),'bitrate':this[_0x511dd2(0x427)](),'senderBitrate':this[_0x511dd2(0xc1)](),'receiverBitrate':this[_0x511dd2(0x836)](),'totalStorageSize':_0x287bf9,'totalMessages':_0xd77839+_0x46d8e7,'totalMessagesSent':_0xd77839,'totalMessagesReceived':_0x46d8e7,'totalBytes':_0x180b66+_0x2d67dd,'totalBytesSent':_0x180b66,'totalBytesReceived':_0x2d67dd,'systemMessages':_0x9e5d19,'timeProcessing':_0x24ff32,'nodes':_0x5bc321,'pubsubTopics':Object[_0x511dd2(0x24b)](this[_0x511dd2(0x44d)]),'objectStores':Object[_0x511dd2(0x24b)](this[_0x511dd2(0x862)]),'keyValueDatabases':Object['fromEntries'](this[_0x511dd2(0x903)]),'generativeAIContexts':Object[_0x511dd2(0x24b)](this[_0x511dd2(0x2fb)]),'generativeAIWorkers':Object[_0x511dd2(0x24b)](this[_0x511dd2(0x90)]),'vectorDatabases':Object[_0x511dd2(0x24b)](this[_0x511dd2(0x83b)]),'graphDatabases':Object['fromEntries'](this[_0x511dd2(0x622)]),'externalStorages':Object[_0x511dd2(0x24b)](this['externalStorages'])};}[_0x47ccb7(0x615)](_0x25c5bd){const _0x612336=_0x47ccb7;this[_0x612336(0x459)][_0x612336(0x9de)](_0x25c5bd,new _0x2a8da4());}['removeRemoteNode'](_0x3021cc){const _0x5d8ecf=_0x47ccb7;this[_0x5d8ecf(0x459)]['delete'](_0x3021cc);}[_0x47ccb7(0xe3)](_0x5ad48c,_0x1173fc,_0xa3aad1){const _0x46b592=_0x47ccb7;_0x1173fc instanceof Array||this[_0x46b592(0x85d)](_0x5ad48c,_0x1173fc);const _0x4f9b89=this[_0x46b592(0x459)]['get'](_0x5ad48c)?.[_0x46b592(0xe3)](_0x1173fc,_0xa3aad1);_0x4f9b89&&this['systemTopic'][_0x46b592(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x46b592(0xab4)],'content':{'type':_0x17a33c['StreamReport'],'data':{..._0x4f9b89,'nodeId':_0x5ad48c}}});}[_0x47ccb7(0xc0)](_0x5af142){const _0x5a5222=_0x47ccb7;this['setScheduleTime'](_0x5af142['secheduleTime']),this['setDurationTime'](_0x5af142['durationTime']),this[_0x5a5222(0x9bb)][_0x5a5222(0x19c)]({'sourceId':_0x4a8f96,'messageType':_0x11d238[_0x5a5222(0xab4)],'content':{'type':_0x17a33c[_0x5a5222(0x359)],'data':{'STVolatility':this[_0x5a5222(0x741)](),'DTVolatility':this[_0x5a5222(0x558)]()}}});}[_0x47ccb7(0x63f)](_0x11683b,_0x566782,_0x5b2d75){const _0x2147ae=_0x47ccb7;switch(_0x566782){case _0x27c53f[_0x2147ae(0xee)]:this[_0x2147ae(0x44d)][_0x2147ae(0x9de)](_0x11683b,_0x5b2d75);break;case _0x27c53f[_0x2147ae(0x401)]:this[_0x2147ae(0x862)]['set'](_0x11683b,_0x5b2d75);break;case _0x27c53f[_0x2147ae(0x8f0)]:this['keyValueDatabases'][_0x2147ae(0x9de)](_0x11683b,_0x5b2d75);break;case _0x27c53f[_0x2147ae(0x596)]:this[_0x2147ae(0x2fb)]['set'](_0x11683b,_0x5b2d75);break;case _0x27c53f[_0x2147ae(0x298)]:this['generativeAIWorkers']['set'](_0x11683b,_0x5b2d75);break;case _0x27c53f[_0x2147ae(0x1ec)]:this['vectorDatabases'][_0x2147ae(0x9de)](_0x11683b,_0x5b2d75);break;case _0x27c53f[_0x2147ae(0x981)]:this[_0x2147ae(0x622)][_0x2147ae(0x9de)](_0x11683b,_0x5b2d75);break;case _0x27c53f[_0x2147ae(0x21c)]:this[_0x2147ae(0x32c)][_0x2147ae(0x9de)](_0x11683b,_0x5b2d75);}}[_0x47ccb7(0x84)](_0x2dc276){const _0x3278fe=_0x47ccb7;this[_0x3278fe(0x9bb)]=_0x2dc276;}[_0x47ccb7(0xa03)](){const _0x3c73ce=_0x47ccb7;delete this[_0x3c73ce(0x9bb)];}[_0x47ccb7(0x741)](){const _0x768cc6=_0x47ccb7;return this[_0x768cc6(0x874)]>0x0&&this[_0x768cc6(0x874)]-_0x45823e>0x0?(this[_0x768cc6(0x874)]-_0x45823e)/_0x45823e:0x0;}['getDTVolatility'](){const _0x4125ed=_0x47ccb7;return this['durationTime']>0x0&&this[_0x4125ed(0xa5d)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x47ccb7(0xc1)](){let _0x42227a=0x0;return this['nodes']['forEach'](_0x2e9100=>{const _0x2528a2=a0_0x17d3;_0x42227a+=_0x2e9100[_0x2528a2(0xada)];}),_0x42227a;}[_0x47ccb7(0x836)](){const _0x4806ab=_0x47ccb7;let _0x55dce6=0x0;return this['nodes'][_0x4806ab(0xa9d)](_0x40bb53=>{const _0x5ebcdf=_0x4806ab;_0x55dce6+=_0x40bb53[_0x5ebcdf(0x6c1)];}),_0x55dce6;}[_0x47ccb7(0x427)](){const _0x3f2bda=_0x47ccb7;let _0x517f1a=0x0;return this[_0x3f2bda(0x459)][_0x3f2bda(0xa9d)](_0x20f3f8=>{const _0x2cee2f=_0x3f2bda;_0x517f1a+=_0x20f3f8[_0x2cee2f(0x8b2)];}),_0x517f1a;}[_0x47ccb7(0x378)](_0x3d9fa6){this['scheduleTime']=_0x3d9fa6;}[_0x47ccb7(0x8d6)](_0x23d261){const _0x45dbe4=_0x47ccb7;this[_0x45dbe4(0xa5d)]=_0x23d261;}['processDataChannelReport'](_0x4c591d,_0x562fe3){const _0x265fb2=_0x47ccb7;switch(_0x562fe3['origin']){case _0x511ca7[_0x265fb2(0x46d)]:this['processSenderReport'](_0x4c591d,_0x562fe3);break;case _0x511ca7[_0x265fb2(0x256)]:this[_0x265fb2(0xa9)](_0x4c591d,_0x562fe3);}}['processSenderReport'](_0x55afa1,_0xa51e0f){const _0x3440d2=_0x47ccb7;this[_0x3440d2(0x47a)][_0x3440d2(0x9de)](_0x55afa1,_0xa51e0f[_0x3440d2(0x315)]),this[_0x3440d2(0x362)][_0x3440d2(0x9de)](_0x55afa1,_0xa51e0f[_0x3440d2(0xf2)]);}['processReceiverReport'](_0x39dca5,_0x485e53){const _0x2f208f=_0x47ccb7;this['receiverTotalMessages'][_0x2f208f(0x9de)](_0x39dca5,_0x485e53[_0x2f208f(0x698)]),this[_0x2f208f(0x172)][_0x2f208f(0x9de)](_0x39dca5,_0x485e53[_0x2f208f(0x82e)]),this[_0x2f208f(0x564)][_0x2f208f(0x9de)](_0x39dca5,_0x485e53[_0x2f208f(0x564)]);}}class _0xf87472{[_0x47ccb7(0x900)];[_0x47ccb7(0x360)]=new Set();[_0x47ccb7(0x63c)];[_0x47ccb7(0x98c)];['statsReporting'];[_0x47ccb7(0x85a)]=new _0x2f8831();constructor(_0xba4f50){const _0x4f4d4f=_0x47ccb7;this[_0x4f4d4f(0x900)]=_0xba4f50,this[_0x4f4d4f(0x900)][_0x4f4d4f(0x2eb)][_0x4f4d4f(0x672)](this['statsReport']),this[_0x4f4d4f(0x98c)]=this['setupStatsCollection'](),this[_0x4f4d4f(0x2dd)]=this[_0x4f4d4f(0xa2a)]();}[_0x47ccb7(0x3a0)](){const _0x1795f9=_0x47ccb7;this[_0x1795f9(0x900)][_0x1795f9(0x2eb)][_0x1795f9(0x6c6)](this[_0x1795f9(0x85a)]),this[_0x1795f9(0x2dd)](),this['statsCollection']();}[_0x47ccb7(0x615)](_0x537ac5){const _0x1fa16d=_0x47ccb7;this[_0x1fa16d(0x360)]['add'](_0x537ac5),this['statsReport'][_0x1fa16d(0x615)](_0x537ac5);}[_0x47ccb7(0x2f0)](_0x19f02a){const _0x219eff=_0x47ccb7;this[_0x219eff(0x360)][_0x219eff(0x7b9)](_0x19f02a),this[_0x219eff(0x85a)][_0x219eff(0x2f0)](_0x19f02a);}[_0x47ccb7(0xde)](_0x3bf9b5){const _0x4c117a=_0x47ccb7;if(_0x3bf9b5[_0x4c117a(0x3d9)]['type']===_0x2cbfba[_0x4c117a(0xab4)]){const {nodeId:_0x10fd2e,streamId:_0x7f81a,stats:_0x4c48a2}=_0x3bf9b5[_0x4c117a(0x3d9)];this[_0x4c117a(0x85a)][_0x4c117a(0xe3)](_0x10fd2e,_0x4c48a2,_0x7f81a);}}['handleContentSystemEvents'](_0x35c9b6){const _0x463a52=_0x47ccb7;switch(_0x35c9b6['content']['type']){case _0x27c53f[_0x463a52(0x401)]:case _0x27c53f[_0x463a52(0x8f0)]:case _0x27c53f[_0x463a52(0xee)]:case _0x27c53f[_0x463a52(0x596)]:case _0x27c53f[_0x463a52(0x298)]:case _0x27c53f[_0x463a52(0x1ec)]:case _0x27c53f[_0x463a52(0x981)]:case _0x27c53f[_0x463a52(0x21c)]:this[_0x463a52(0x85a)][_0x463a52(0x63f)](_0x35c9b6[_0x463a52(0x3d9)][_0x463a52(0xa39)],_0x35c9b6[_0x463a52(0x3d9)][_0x463a52(0x96)],_0x35c9b6[_0x463a52(0x3d9)][_0x463a52(0x133)]);}}[_0x47ccb7(0xa2a)](){const _0x5256ce=_0x47ccb7;return _0x301533[_0x5256ce(0x25a)](()=>{const _0x49f924=_0x5256ce,_0x3f8a39=this[_0x49f924(0x85a)][_0x49f924(0x8a8)]();_0x1a21a7['log'](_0x5300ce['Stats'],_0x49f924(0x5ba),_0x3f8a39),(0x0,_0x19c8f0['addDoc'])((0x0,_0x19c8f0[_0x49f924(0x611)])(_0x3af573[_0x49f924(0x586)](),_0x49f924(0x63d)+this[_0x49f924(0x900)]['vendorId']+'/stats'),{'clusterId':this[_0x49f924(0x900)]['clusterId'],'nodeId':this[_0x49f924(0x900)][_0x49f924(0x987)]['getId'](),'nodeType':this[_0x49f924(0x900)][_0x49f924(0x987)][_0x49f924(0x96)],'timestamp':(0x0,_0x19c8f0[_0x49f924(0x551)])(),'report':_0x3f8a39}),_0x1a21a7['logEvent'](_0x49f924(0x133),{'clusterId':this[_0x49f924(0x900)][_0x49f924(0x8b5)],'nodeId':this[_0x49f924(0x900)][_0x49f924(0x987)][_0x49f924(0x932)](),'nodeType':this['configs'][_0x49f924(0x987)][_0x49f924(0x96)],'data':{'report':_0x3f8a39}});},_0x363246);}[_0x47ccb7(0x363)](){const _0x315d39=_0x47ccb7;let _0x16961b=!0x1,_0x42463b=Date['now']();return _0x301533[_0x315d39(0x25a)](async()=>{const _0x34c95f=_0x315d39;if(_0x16961b)return;if(_0x16961b=!0x0,0x0===this[_0x34c95f(0x360)][_0x34c95f(0x8f6)])return delete this[_0x34c95f(0x63c)],void(_0x16961b=!0x1);const _0x5aac77=Date['now']();this[_0x34c95f(0xadc)]();try{await this[_0x34c95f(0x900)][_0x34c95f(0x2eb)]['collectStats'](this[_0x34c95f(0x63c)]);}catch(_0x19665a){}this[_0x34c95f(0x85a)]['processLocalReport']({'secheduleTime':_0x5aac77-_0x42463b,'durationTime':Date[_0x34c95f(0x31e)]()-_0x5aac77}),_0x42463b=_0x5aac77,_0x16961b=!0x1;},_0x45823e);}[_0x47ccb7(0xadc)](){const _0x3e722c=_0x47ccb7;let _0x332c7d,_0x577e93=!0x1;this[_0x3e722c(0x63c)]&&(this[_0x3e722c(0x360)][_0x3e722c(0x788)](this[_0x3e722c(0x63c)])||delete this[_0x3e722c(0x63c)]);for(const _0x338aaf of this['remoteNodes'])if(_0x332c7d||(_0x332c7d=_0x338aaf),this['nextNodeId']!==_0x338aaf){if(_0x577e93)return void(this[_0x3e722c(0x63c)]=_0x338aaf);}else _0x577e93=!0x0,delete this[_0x3e722c(0x63c)];this['nextNodeId']||(this[_0x3e722c(0x63c)]=_0x332c7d);}}class _0x3e1f66{[_0x47ccb7(0x508)];[_0x47ccb7(0x90b)];['systemTopic'];constructor(_0x444ca2,_0x4c720f){const _0x369e62=_0x47ccb7;this[_0x369e62(0x508)]=_0x444ca2,this['destination']=_0x4c720f;}[_0x47ccb7(0x84)](_0x227d72){const _0x47fbe4=_0x47ccb7;this[_0x47fbe4(0x9bb)]=_0x227d72;}[_0x47ccb7(0xa03)](){const _0x112952=_0x47ccb7;delete this[_0x112952(0x9bb)];}}class _0x2555c8 extends _0x3e1f66{[_0x47ccb7(0x508)];[_0x47ccb7(0x90b)];[_0x47ccb7(0x1df)];constructor(_0x140459,_0x1e2bf9,_0x285cde){const _0x26ce4c=_0x47ccb7;super(_0x140459,_0x1e2bf9),this[_0x26ce4c(0x508)]=_0x140459,this[_0x26ce4c(0x90b)]=_0x1e2bf9,this['params']=_0x285cde;}[_0x47ccb7(0x9b4)](_0x29569e,_0x1e36d4,_0x30ff72){const _0x10ce4e=_0x47ccb7;if(this[_0x10ce4e(0x90b)][_0x10ce4e(0x9a2)]()===_0x46b128[_0x10ce4e(0x5c1)]['Media']){const _0x372445={'type':_0x1a992f[_0x10ce4e(0x2af)],'label':this[_0x10ce4e(0x90b)][_0x10ce4e(0x409)](),'ownerId':_0x29569e,'trackKinds':_0x1e36d4??this[_0x10ce4e(0x90b)]['getAvailableTrackKinds'](),'params':_0x30ff72};this[_0x10ce4e(0x9bb)][_0x10ce4e(0x19c)]({'sourceId':this[_0x10ce4e(0x508)][_0x10ce4e(0x539)](),'destinationIds':[this[_0x10ce4e(0x508)][_0x10ce4e(0x3c1)]()],'messageType':_0x11d238[_0x10ce4e(0xad6)],'content':_0x372445}),this[_0x10ce4e(0x1df)]=_0x30ff72;}}[_0x47ccb7(0x96a)](_0x2e9c79,_0x1fd1b8){const _0x39d886=_0x47ccb7;if(this['destination'][_0x39d886(0x9a2)]()===_0x46b128[_0x39d886(0x5c1)]['Media']){const _0x44256a={'type':_0x1a992f[_0x39d886(0x4c6)],'label':this[_0x39d886(0x90b)][_0x39d886(0x409)](),'ownerId':_0x2e9c79,'params':_0x1fd1b8};this['systemTopic'][_0x39d886(0x19c)]({'sourceId':this['source'][_0x39d886(0x539)](),'destinationIds':[this[_0x39d886(0x508)]['getRemoteId']()],'messageType':_0x11d238['Subscription'],'content':_0x44256a}),this[_0x39d886(0x1df)]=_0x1fd1b8;}}['unsubscribe'](_0x4df6ac,_0x3d07b0,_0x3c80e1){const _0x273a70=_0x47ccb7;if(this[_0x273a70(0x90b)][_0x273a70(0x9a2)]()===_0x46b128['ContentType'][_0x273a70(0x306)]){const _0x15e1bc={'type':_0x1a992f[_0x273a70(0x49e)],'label':this[_0x273a70(0x90b)][_0x273a70(0x409)](),'ownerId':_0x4df6ac,'trackKinds':_0x3c80e1??this[_0x273a70(0x90b)]['getAvailableTrackKinds'](),'remainingTracks':_0x3d07b0};this[_0x273a70(0x9bb)]['publish']({'sourceId':this[_0x273a70(0x508)][_0x273a70(0x539)](),'destinationIds':[this[_0x273a70(0x508)][_0x273a70(0x3c1)]()],'messageType':_0x11d238[_0x273a70(0xad6)],'content':_0x15e1bc});}}}class _0x44158c{[_0x47ccb7(0x114)];['maxDistance'];[_0x47ccb7(0x8f3)];[_0x47ccb7(0x9bb)];[_0x47ccb7(0xad)]=new Set();['startTime']=Date['now']();['params'];[_0x47ccb7(0x20c)]=0x0;constructor(_0x1e7f64,_0x31bcd1,_0x14bf26,_0x673ad9){const _0x70b56c=_0x47ccb7;this['currentDistance']=_0x31bcd1,this['maxDistance']=_0x14bf26,this[_0x70b56c(0x8f3)]=_0x673ad9,_0x1e7f64['forEach'](_0x4875a8=>{const _0xb8ddb3=_0x70b56c;this[_0xb8ddb3(0xad)][_0xb8ddb3(0x7ce)]({'nodeId':_0x4875a8,'type':_0x5986da[_0xb8ddb3(0x2d9)]});});}['getTracks'](){return this['tracks'];}['registerSystemPublisher'](_0x38f55b){this['systemTopic']=_0x38f55b;}[_0x47ccb7(0xa03)](){delete this['systemTopic'];}[_0x47ccb7(0xf3)](_0x972ec4,_0x1ec152){const _0x1083ba=_0x47ccb7;this['startTime']=Date[_0x1083ba(0x31e)](),this[_0x1083ba(0xad)][_0x1083ba(0x30f)](),_0x972ec4[_0x1083ba(0xa9d)](_0x13a940=>{const _0x34bba3=_0x1083ba;this[_0x34bba3(0xad)]['add']({'nodeId':_0x13a940,'type':_0x5986da['Waiting']});}),this[_0x1083ba(0x20c)]+=0x1,this[_0x1083ba(0x114)]=_0x1ec152;}['sendRequest'](_0x3068ac,_0x5d28f0,_0x566f50,_0x28d49e,_0x7dd669){const _0x2207c1=_0x47ccb7;if(this['retryCount']>0xa)throw new _0x20e318(_0x20e318['codes'][_0x2207c1(0x991)],{'answers':Array[_0x2207c1(0x48b)](this[_0x2207c1(0xad)])[_0x2207c1(0x437)](_0x3af282=>({'nodeId':_0x3af282[_0x2207c1(0x907)],'type':_0x3af282[_0x2207c1(0x96)]}))});const _0x42df06=Array[_0x2207c1(0x48b)](this[_0x2207c1(0xad)])[_0x2207c1(0x437)](_0x541c1f=>_0x541c1f[_0x2207c1(0x907)]);this['params']=_0x7dd669,this[_0x2207c1(0x9bb)][_0x2207c1(0x19c)]({'sourceId':_0x3068ac,'destinationIds':_0x42df06,'messageType':_0x11d238[_0x2207c1(0xad6)],'content':{'type':_0x1a992f[_0x2207c1(0x234)],'label':_0x566f50,'ownerId':_0x5d28f0,'trackKinds':_0x28d49e,'params':_0x7dd669}}),_0x1a21a7[_0x2207c1(0x766)](_0x5300ce[_0x2207c1(0xad6)],_0x2207c1(0x2e5),_0x3068ac,_0x42df06);}[_0x47ccb7(0x3ea)](_0x417a9b,_0x28424c){const _0x134ce1=_0x47ccb7;switch(_0x28424c[_0x134ce1(0x96)]){case _0x1a992f['CanProvideMediaStream']:{const _0x4de662=this['currentDistance']>=_0x28424c['distance']&&_0x28424c[_0x134ce1(0x1ef)]<=this[_0x134ce1(0x66e)],_0x3090a7=Array[_0x134ce1(0x48b)](this[_0x134ce1(0xad)])[_0x134ce1(0x1b5)](_0xf4b3b3=>_0xf4b3b3[_0x134ce1(0x907)]===_0x417a9b);_0x3090a7['type']=_0x4de662?_0x5986da['Accepted']:_0x5986da[_0x134ce1(0x308)],_0x3090a7[_0x134ce1(0x30b)]=_0x28424c[_0x134ce1(0x30b)],_0x3090a7[_0x134ce1(0x1ef)]=_0x28424c[_0x134ce1(0x1ef)],_0x3090a7[_0x134ce1(0xac6)]=_0x28424c[_0x134ce1(0xac6)],_0x3090a7[_0x134ce1(0x6b1)]=Date['now']()-this['startTime'],_0x3090a7[_0x134ce1(0x1df)]=this[_0x134ce1(0x1df)],_0x3090a7[_0x134ce1(0x1f4)]=_0x28424c['ownerId'],_0x3090a7['trackKinds']=_0x28424c[_0x134ce1(0x840)],_0x3090a7[_0x134ce1(0x526)]=_0x28424c[_0x134ce1(0xa39)],_0x1a21a7[_0x134ce1(0x766)](_0x5300ce['Subscription'],(_0x4de662?_0x134ce1(0x915):_0x134ce1(0x308))+_0x134ce1(0x68f),_0x3090a7);break;}case _0x1a992f[_0x134ce1(0x2ec)]:{const _0x3b29f3=Array[_0x134ce1(0x48b)](this[_0x134ce1(0xad)])[_0x134ce1(0x1b5)](_0x41971f=>_0x41971f[_0x134ce1(0x907)]===_0x417a9b);_0x3b29f3[_0x134ce1(0x96)]=_0x5986da[_0x134ce1(0x308)],_0x1a21a7['log'](_0x5300ce['Subscription'],_0x134ce1(0x187),_0x3b29f3);break;}}if(this[_0x134ce1(0x4bf)]())return this[_0x134ce1(0x727)]();}[_0x47ccb7(0x727)](){const _0x597125=_0x47ccb7,_0x186564=Array[_0x597125(0x48b)](this[_0x597125(0xad)])[_0x597125(0xac4)](_0x363978=>_0x363978[_0x597125(0x96)]===_0x5986da[_0x597125(0x915)])[_0x597125(0x5bd)]((_0xde30db,_0x220693)=>_0xde30db[_0x597125(0x30b)]===_0x220693[_0x597125(0x30b)]?_0xde30db[_0x597125(0x6b1)]-_0x220693[_0x597125(0x6b1)]:_0xde30db[_0x597125(0x30b)]-_0x220693[_0x597125(0x30b)]);if(0x0===_0x186564[_0x597125(0x583)])throw new _0x20e318(_0x20e318[_0x597125(0x6f4)][_0x597125(0x991)],{'answers':Array['from'](this[_0x597125(0xad)])[_0x597125(0x437)](_0x2488ca=>({'nodeId':_0x2488ca[_0x597125(0x907)],'type':_0x2488ca[_0x597125(0x96)]}))});return _0x1a21a7['log'](_0x5300ce[_0x597125(0xad6)],_0x597125(0x974),_0x186564[0x0],this['answers']),_0x186564[0x0];}[_0x47ccb7(0x4bf)](){const _0x242a8c=_0x47ccb7;for(const _0x2731fd of this['answers'])if(_0x2731fd[_0x242a8c(0x96)]===_0x5986da['Waiting'])return!0x1;return!0x0;}}class _0x49601a{[_0x47ccb7(0xa39)];[_0x47ccb7(0x6f0)];['listener']=_0x4aa13e();constructor(_0x2c5a87,_0x513ab0){const _0x2b37b9=_0x47ccb7;this[_0x2b37b9(0xa39)]=_0x2c5a87,this[_0x2b37b9(0x6f0)]=_0x513ab0;}[_0x47ccb7(0x409)](){return this['label'];}[_0x47ccb7(0x9a2)](){return this['contentType'];}['registerSource'](_0x4ed6f2){const _0x482187=_0x47ccb7;_0x4ed6f2[_0x482187(0x5bf)](this);}['registerDestination'](_0x3ac75d){_0x3ac75d['registerSubscriber'](this);}[_0x47ccb7(0x19c)](_0x5d94c0){const _0x337b3e=_0x47ccb7;this['listener']['publish']({'topicLabel':this[_0x337b3e(0xa39)],'contentType':this[_0x337b3e(0x6f0)],'uuid':(0x0,_0x4c8224['v4'])(),'recipients':[],..._0x5d94c0});}[_0x47ccb7(0x9b4)](_0x5cc928){const _0x4fe058=_0x47ccb7;return this[_0x4fe058(0xa15)][_0x4fe058(0x9b4)](_0x5cc928);}[_0x47ccb7(0x27a)](_0x47a385){const _0x1851e3=_0x47ccb7;_0x47a385[_0x1851e3(0x59d)](this);}[_0x47ccb7(0xa6d)](_0x7ff875){const _0xe31908=_0x47ccb7;_0x7ff875[_0xe31908(0x257)](this);}}class _0x3ff54b{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x47ccb7(0x9c0)];constructor(_0x50add5){const _0x5ed9b1=_0x47ccb7;this[_0x5ed9b1(0x9c0)]=_0x50add5;}get[_0x47ccb7(0x9d9)](){const _0x4d1032=_0x47ccb7;return this[_0x4d1032(0x20a)][_0x4d1032(0x9d9)];}get['topics'](){const _0x53e761=_0x47ccb7;return this[_0x53e761(0x20a)][_0x53e761(0x64a)];}[_0x47ccb7(0x723)](_0x7d2056,_0x5560b0){const _0x5bd9b2=_0x47ccb7,_0x14c70f=this['getPartsFromSubscription'](_0x5560b0),_0x244679=_0x63eac0(_0x7d2056);if(!_0x14c70f[_0x5bd9b2(0x9bf)])throw new _0x20e318(_0x20e318[_0x5bd9b2(0x6f4)][_0x5bd9b2(0x7a2)],{'message':_0x244679+':\x20'+_0x14c70f[_0x5bd9b2(0xa54)]+_0x5bd9b2(0x57d)+_0x14c70f['contentType'],'subscriptionType':_0x7d2056,'subscription':_0x5560b0,'subscriptonParts':_0x14c70f});const _0x3fee55=_0x1f05ae(_0x7d2056,_0x14c70f);if(this['maps'][_0x5bd9b2(0x9d9)][_0x5bd9b2(0x788)](_0x3fee55))throw new _0x20e318(_0x20e318[_0x5bd9b2(0x6f4)][_0x5bd9b2(0x7a2)],{'message':_0x244679+':\x20'+_0x3fee55+'\x20already\x20exists','subscriptionType':_0x7d2056,'subscription':_0x5560b0,'subscriptonParts':_0x14c70f});this[_0x5bd9b2(0x20a)][_0x5bd9b2(0x9d9)][_0x5bd9b2(0x9de)](_0x3fee55,_0x5560b0),this[_0x5bd9b2(0x8d3)](_0x14c70f,_0x5560b0);}[_0x47ccb7(0x843)](_0xd76998,_0x53cfc6){const _0x5e122b=_0x47ccb7,_0x5be7c1=_0x1f05ae(_0x53cfc6,_0xd76998),_0x1999dd=this[_0x5e122b(0x20a)]['subscriptions'][_0x5e122b(0x4ab)](_0x5be7c1);if(!_0x1999dd)throw new _0x20e318(_0x20e318[_0x5e122b(0x6f4)][_0x5e122b(0x7a2)],{'message':_0x63eac0(_0x53cfc6)+':\x20'+_0x5be7c1+_0x5e122b(0x9d8),'subscriptionType':_0x53cfc6,'subscription':_0x1999dd,'subscriptonParts':_0xd76998});this[_0x5e122b(0x398)](_0x1999dd,_0x5be7c1,_0xd76998);}[_0x47ccb7(0x398)](_0x2901fa,_0x267dc4,_0x2b0ddb){const _0x187c14=_0x47ccb7;_0x2b0ddb=_0x2b0ddb||this[_0x187c14(0x9c0)](_0x2901fa),this[_0x187c14(0x20a)][_0x187c14(0x9d9)]['delete'](_0x267dc4),this[_0x187c14(0x98e)](_0x2b0ddb,_0x2901fa);}[_0x47ccb7(0x8d3)](_0x2de957,{source:_0x176ddd,destination:_0xdc33a8}){const _0x2ece1f=_0x47ccb7,{contentType:_0x5982da,label:_0x50ebe3,remoteId:_0xc17263}=_0x2de957,_0x1df830=_0x80b770(_0x5982da,_0x50ebe3,_0xc17263),_0x2bb305=new _0x49601a(_0x1df830,_0x5982da);_0x2bb305['registerSource'](_0x176ddd),_0x2bb305[_0x2ece1f(0x95e)](_0xdc33a8),this[_0x2ece1f(0x20a)][_0x2ece1f(0x64a)][_0x2ece1f(0x9de)](_0x2bb305[_0x2ece1f(0x409)](),_0x2bb305);}[_0x47ccb7(0x98e)](_0x24e757,_0x2c87cd){const _0x1c8ee5=_0x47ccb7,{contentType:_0xb786a3,label:_0x4ca80b,remoteId:_0x3fe8ef}=_0x24e757,_0x3a21ac=_0x80b770(_0xb786a3,_0x4ca80b,_0x3fe8ef),_0x2cd420=this[_0x1c8ee5(0x20a)]['topics'][_0x1c8ee5(0x4ab)](_0x3a21ac);_0x2cd420&&(this[_0x1c8ee5(0x580)](_0x2cd420,_0x2c87cd),this[_0x1c8ee5(0x20a)]['topics'][_0x1c8ee5(0x7b9)](_0x3a21ac));}['closeTopic'](_0x11c30c,{source:_0x48e18a,destination:_0x59fdfa}){const _0x5f05c8=_0x47ccb7;_0x11c30c[_0x5f05c8(0x27a)](_0x48e18a),_0x11c30c[_0x5f05c8(0xa6d)](_0x59fdfa);}[_0x47ccb7(0x176)](_0x157227){const _0x5d3fd3=_0x47ccb7;this[_0x5d3fd3(0x20a)]['subscriptions'][_0x5d3fd3(0xa9d)]((_0x1fac03,_0x31c33d)=>{const _0x51463a=_0x5d3fd3;_0x31c33d[_0x51463a(0x188)](_0x157227)&&this[_0x51463a(0x398)](_0x1fac03,_0x31c33d);});}}class _0x7ce0b{[_0x47ccb7(0x900)];[_0x47ccb7(0x66e)];[_0x47ccb7(0x190)]=new Map();[_0x47ccb7(0x6f8)]=_0x327887(new _0x121924(this[_0x47ccb7(0x303)][_0x47ccb7(0x62e)](this),()=>_0x301533['wait'](0x64)),!0x0);[_0x47ccb7(0x760)]=new Map();[_0x47ccb7(0x20a)];['chosenAnswers']=new Map();constructor(_0x4d0125,_0x219dab){const _0x49bd21=_0x47ccb7;this[_0x49bd21(0x900)]=_0x4d0125,this['maxDistance']=_0x219dab,this[_0x49bd21(0x20a)]=new _0x3ff54b(({source:_0x2c9308,destination:_0xfff263})=>_0x3fe9ce(_0xfff263,_0x2c9308));}['createSubscription'](_0x5bda76,_0x1addf4){const _0x12e289=_0x47ccb7,_0x400ba9=this['isMediaSource'](_0x5bda76)&&this[_0x12e289(0x45d)](_0x1addf4)?new _0x2555c8(_0x5bda76,_0x1addf4):new _0x3e1f66(_0x5bda76,_0x1addf4);this['maps'][_0x12e289(0x723)](_0x184f8c[_0x12e289(0x341)],_0x400ba9),this[_0x12e289(0x900)][_0x12e289(0x2eb)][_0x12e289(0x672)](_0x400ba9);}[_0x47ccb7(0x843)](_0x48aaa8,_0xf2bbfc,_0x5776ae=''){const _0x2f2701=_0x47ccb7,_0x15f8ae={'contentType':_0xf2bbfc,'label':_0x48aaa8,'remoteId':_0x5776ae},_0x3cfa9f=_0x1f05ae(_0x184f8c[_0x2f2701(0x341)],_0x15f8ae),_0xeca44f=this[_0x2f2701(0x20a)][_0x2f2701(0x9d9)][_0x2f2701(0x4ab)](_0x3cfa9f);_0xeca44f&&this['closeSubscription'](_0xeca44f,_0x3cfa9f);}['handleContentUnpublishMediaStream'](_0x82eebb){const _0x27da58=_0x47ccb7;this[_0x27da58(0x66c)](_0x82eebb);}[_0x47ccb7(0x329)]({label:_0x5806ff,ownerId:_0x281b39,trackKinds:_0x504398,params:_0x36da16}){const _0x43ed7c=_0x47ccb7;this[_0x43ed7c(0x7d1)](_0x5806ff,_0x281b39,_0x504398,_0x36da16);}['handleContentUpdateMediaStream']({ownerId:_0x3ffdb5,label:_0xe997a,params:_0x33f74c}){const _0x590383=_0x47ccb7,{subscriptionLabel:_0x1913c3}=this['getSubscriptionLabel'](_0xe997a,_0x3ffdb5),_0xb04c09=this['getMediaSubscription'](_0x1913c3);_0xb04c09&&_0xb04c09[_0x590383(0x96a)](_0x3ffdb5,_0x33f74c);}[_0x47ccb7(0x151)]({ownerId:_0x4599b9,label:_0x739320,trackKinds:_0x5ac07e,remainingTracks:_0x2fdcd1}){const _0x359298=_0x47ccb7,_0x173f09=_0x1f05ae(_0x184f8c[_0x359298(0x341)],{'contentType':_0x46b128['ContentType'][_0x359298(0x306)],'label':_0x739320,'remoteId':_0x4599b9});this[_0x359298(0x33d)](_0x173f09);const _0x148a38=this[_0x359298(0x190)][_0x359298(0x4ab)](_0x173f09);_0x148a38&&(this[_0x359298(0x900)]['mediator'][_0x359298(0x6c6)](_0x148a38),this[_0x359298(0x190)][_0x359298(0x7b9)](_0x173f09));const {parts:_0x14a5d0,subscriptionLabel:_0x49dc3a}=this[_0x359298(0x748)](_0x739320,_0x4599b9),_0x40d990=this[_0x359298(0x8de)](_0x49dc3a);_0x40d990&&(_0x40d990[_0x359298(0x6c7)](_0x4599b9,_0x2fdcd1,_0x5ac07e),0x0===_0x2fdcd1&&this['removeSubscription'](_0x14a5d0['label'],_0x14a5d0['contentType'],_0x14a5d0[_0x359298(0xa54)]));}['handleSubscriptionRestartNeedMediaStream'](_0x30bb52,{label:_0x467e0d,ownerId:_0x159fd7,trackKinds:_0x4dcdd0,streamId:_0x4526c2,params:_0x55e1ae}){const _0x3d4617=_0x47ccb7,_0x2ebb4c=_0x1f05ae(_0x184f8c[_0x3d4617(0x341)],{'contentType':_0x46b128[_0x3d4617(0x5c1)]['Media'],'label':_0x4526c2,'remoteId':_0x30bb52}),_0x181f04=this[_0x3d4617(0x20a)]['subscriptions'][_0x3d4617(0x4ab)](_0x2ebb4c);if(!(_0x181f04&&_0x181f04 instanceof _0x2555c8))throw new _0x20e318(_0x20e318[_0x3d4617(0x6f4)][_0x3d4617(0x5d0)],{'label':_0x2ebb4c,'ownerId':_0x159fd7});this['closeSubscription'](_0x181f04,_0x2ebb4c),this[_0x3d4617(0x7d1)](_0x467e0d,_0x159fd7,_0x4dcdd0,_0x55e1ae);}[_0x47ccb7(0x7fe)](_0x21046c,_0x37f098){const _0x3d4e07=_0x47ccb7,{label:_0x2b7317,ownerId:_0x32c02b,trackKinds:_0x33ffef,params:_0x4f99f4}=_0x37f098,_0x37cffe=_0x1f05ae(_0x184f8c['Incoming'],{'contentType':_0x46b128[_0x3d4e07(0x5c1)]['Media'],'label':_0x2b7317,'remoteId':_0x32c02b});if(!this[_0x3d4e07(0x190)][_0x3d4e07(0x788)](_0x37cffe))throw new _0x20e318(_0x20e318['codes'][_0x3d4e07(0x5d0)],{'label':_0x37cffe,'ownerId':_0x32c02b,'streamId':_0x37f098['streamId'],'requests':this['subscriptionRequests']});const _0x29c978=this[_0x3d4e07(0x190)][_0x3d4e07(0x4ab)](_0x37cffe);if(_0x33ffef[_0x3d4e07(0x583)]===_0x29c978['getTracks']()['length']&&_0x33ffef[_0x3d4e07(0x2a5)](_0xb7a69=>_0x29c978[_0x3d4e07(0x74d)]()[_0x3d4e07(0x9d0)](_0xb7a69)))try{const _0x28d307=_0x29c978[_0x3d4e07(0x3ea)](_0x21046c,_0x37f098);if(!_0x28d307)return;this['subscribe'](_0x28d307,_0x32c02b,_0x2b7317,_0x37cffe,_0x33ffef);}catch(_0x4aff83){return void this[_0x3d4e07(0x7fa)](_0x2b7317,_0x32c02b,_0x33ffef,_0x4f99f4);}}[_0x47ccb7(0x5cd)](_0x2d923e,{label:_0x49dcbb,ownerId:_0x5d04cf,trackKinds:_0x4b0191}){const _0x3f2f34=_0x47ccb7,_0x5527f1=this[_0x3f2f34(0x900)]['mediator'][_0x3f2f34(0x56e)](_0x5d04cf,_0x49dcbb);if(!_0x5527f1)return;const _0x32b09f=_0x5527f1[_0x3f2f34(0x901)](),_0x3f3930=_0x5527f1[_0x3f2f34(0xc5)]();_0x3f3930[_0x3f2f34(0xa13)](_0x20f7a3=>_0x4b0191[_0x3f2f34(0x9d0)](_0x20f7a3))&&this['findNewMediaSubscription'](_0x2d923e,_0x49dcbb,_0x32b09f,_0x5d04cf,_0x3f3930);}[_0x47ccb7(0x913)]({label:_0x266b24,providerId:_0x35747f,ownerId:_0x2a1f47,streamId:_0x4f4a4d,trackKinds:_0x2fb9a7}){const _0x4361af=_0x47ccb7;this[_0x4361af(0x289)](_0x35747f,_0x266b24,_0x4f4a4d,_0x2a1f47,_0x2fb9a7);}[_0x47ccb7(0x6f5)](_0x211930){const _0x49dcb5=_0x47ccb7;for(const _0x272447 of this[_0x49dcb5(0xa4a)]['values']()){const {streamLabel:_0x181d3a,ownerId:_0xb9e744,trackKinds:_0x3dae79,params:_0x14ece1}=_0x272447;if(!_0xb9e744||!_0x3dae79||!_0x181d3a)return;this[_0x49dcb5(0x6f8)][_0x49dcb5(0x5c5)]({'label':_0x181d3a,'ownerId':_0xb9e744,'trackKinds':_0x3dae79,'params':_0x14ece1,'remoteId':_0x211930});}}[_0x47ccb7(0x176)](_0x23faed){const _0x39c7cc=_0x47ccb7;this[_0x39c7cc(0x20a)]['subscriptions'][_0x39c7cc(0xa9d)]((_0x2f6a19,_0x421dba)=>{const _0x381055=_0x39c7cc;if(_0x421dba['endsWith'](_0x23faed)){if(_0x2f6a19['destination'][_0x381055(0x9a2)]()===_0x46b128[_0x381055(0x5c1)]['Media']){const _0x466655=_0x2f6a19['destination'];if(_0x466655[_0x381055(0xc5)]()['length']>0x0){const _0x224617={'type':_0x1a992f[_0x381055(0xfc)],'label':_0x466655[_0x381055(0x409)](),'ownerId':_0x466655[_0x381055(0x29c)](),'trackKinds':_0x466655[_0x381055(0xc5)]()};return void this[_0x381055(0x5cd)](_0x23faed,_0x224617);}}this[_0x381055(0x398)](_0x2f6a19,_0x421dba);}});}['close'](){const _0x2a923f=_0x47ccb7;this[_0x2a923f(0x20a)][_0x2a923f(0x9d9)][_0x2a923f(0xa9d)](this[_0x2a923f(0x398)][_0x2a923f(0x62e)](this));}['subscribe'](_0x24194f,_0x160099,_0xd8fe77,_0x3b19ea,_0xb088fa){const _0x274693=_0x47ccb7,_0x217f79=this['configs'][_0x274693(0x2eb)][_0x274693(0x722)](_0x24194f[_0x274693(0x907)]),_0x31736c=this[_0x274693(0x900)][_0x274693(0x2eb)][_0x274693(0x56e)](_0x160099,_0xd8fe77);this[_0x274693(0x33d)](_0x3b19ea),this[_0x274693(0x190)]['has'](_0x3b19ea)&&(this[_0x274693(0x900)]['mediator'][_0x274693(0x6c6)](this[_0x274693(0x190)]['get'](_0x3b19ea)),this[_0x274693(0x190)]['delete'](_0x3b19ea)),this['cleanOldSubscription'](_0x24194f,_0x160099,_0xd8fe77,_0x31736c),_0x31736c[_0x274693(0x560)](_0x24194f[_0x274693(0xac6)]),_0x31736c['setProviderId'](_0x24194f['nodeId']);const _0x1d68c0=_0x3fe9ce(_0x31736c,_0x217f79),_0x3b2bfa=_0x1f05ae(_0x184f8c[_0x274693(0x341)],_0x1d68c0);this[_0x274693(0x20a)][_0x274693(0x9d9)][_0x274693(0x788)](_0x3b2bfa)||this[_0x274693(0x723)](_0x217f79,_0x31736c);const _0x30f4ec=this[_0x274693(0x20a)]['subscriptions'][_0x274693(0x4ab)](_0x3b2bfa);if(!(_0x30f4ec&&_0x30f4ec instanceof _0x2555c8))throw new _0x20e318(_0x20e318['codes'][_0x274693(0x5d0)],{'label':_0x3b19ea,'ownerId':_0x160099});_0x1a21a7['logEvent']('subscription',{'clusterId':this['configs'][_0x274693(0x8b5)],'nodeId':this[_0x274693(0x900)][_0x274693(0x987)]['getId'](),'nodeType':this[_0x274693(0x900)][_0x274693(0x987)][_0x274693(0x96)],'data':{'subscriptionLabel':_0x3b2bfa,'chosenAnswer':_0x24194f}}),this[_0x274693(0xa4a)][_0x274693(0x9de)](_0x3b2bfa,_0x24194f),_0x30f4ec[_0x274693(0x9b4)](_0x160099,_0xb088fa,_0x24194f['params']);}[_0x47ccb7(0x66c)]({ownerId:_0x4b1550,label:_0x409e9e}){const _0x308dcb=_0x47ccb7,_0x16df33=this['configs']['mediator'][_0x308dcb(0x56e)](_0x4b1550,_0x409e9e),[_0x151fd9,_0x70c42]=Array[_0x308dcb(0x48b)](this['maps']['subscriptions'][_0x308dcb(0xaca)]())[_0x308dcb(0x1b5)](([_0x22be6c,_0x5436a3])=>-0x1!==_0x22be6c[_0x308dcb(0x593)](_0x16df33['getInternalStreamId']()));return this[_0x308dcb(0x398)](_0x70c42,_0x151fd9);}[_0x47ccb7(0x398)](_0x23286d,_0x48e2a6){const _0xfc7397=_0x47ccb7;this[_0xfc7397(0x900)][_0xfc7397(0x2eb)][_0xfc7397(0x6c6)](_0x23286d),this[_0xfc7397(0x20a)][_0xfc7397(0x398)](_0x23286d,_0x48e2a6);}[_0x47ccb7(0x91c)](_0x4e4bd9){const _0x5d3eed=_0x47ccb7;return _0x4e4bd9['getSupportedContentTypes']()[_0x5d3eed(0x9d0)](_0x46b128[_0x5d3eed(0x5c1)][_0x5d3eed(0x306)]);}['isMediaDestination'](_0x14c925){const _0x556479=_0x47ccb7;return _0x14c925[_0x556479(0x9a2)]()===_0x46b128[_0x556479(0x5c1)][_0x556479(0x306)];}async[_0x47ccb7(0x7fa)](_0xbe5e32,_0x57cc77,_0x35144c,_0x3e4bc8){const _0x53c15f=_0x47ccb7;await _0x301533[_0x53c15f(0x8f)](0x3e8);const _0x4c7a64=_0x1f05ae(_0x184f8c[_0x53c15f(0x341)],{'contentType':_0x46b128[_0x53c15f(0x5c1)][_0x53c15f(0x306)],'label':_0xbe5e32,'remoteId':_0x57cc77});this[_0x53c15f(0x33d)](_0x4c7a64);const _0x552b6e=this['subscriptionRequests']['get'](_0x4c7a64);if(!_0x552b6e)throw new _0x20e318(_0x20e318[_0x53c15f(0x6f4)][_0x53c15f(0x5d0)],{'label':_0x4c7a64,'ownerId':_0x57cc77});const _0x256383=this['configs'][_0x53c15f(0x2eb)][_0x53c15f(0x79a)](_0x1c52fb=>_0x1c52fb[_0x53c15f(0x8ac)]()),_0xdcfc14=this[_0x53c15f(0x900)][_0x53c15f(0x2eb)][_0x53c15f(0x15f)](this[_0x53c15f(0x900)][_0x53c15f(0x987)]['getId'](),_0x57cc77);_0x552b6e[_0x53c15f(0xf3)](_0x256383[_0x53c15f(0x437)](_0x5278e5=>_0x5278e5[_0x53c15f(0x3c1)]()),_0xdcfc14);try{_0x552b6e[_0x53c15f(0x1bd)](this[_0x53c15f(0x900)]['localNode']['getId'](),_0x57cc77,_0xbe5e32,_0x35144c,_0x3e4bc8),this[_0x53c15f(0x9fa)](_0xbe5e32,_0x57cc77,_0x35144c,_0x3e4bc8,_0x4c7a64,_0x552b6e);}catch(_0x12b1a9){this[_0x53c15f(0x6f8)]['push']({'label':_0xbe5e32,'ownerId':_0x57cc77,'trackKinds':_0x35144c,'params':_0x3e4bc8});}}[_0x47ccb7(0x7d1)](_0x3429a5,_0x43b133,_0x40847f,_0x1a9511){this['subscriptionRequestsQueue']['push']({'label':_0x3429a5,'ownerId':_0x43b133,'trackKinds':_0x40847f,'params':_0x1a9511});}[_0x47ccb7(0x303)]({label:_0x1eed98,ownerId:_0x66e7d8,trackKinds:_0x3deaa0,params:_0x3ec3f4,remoteId:_0xac70a7}){const _0x42ab1d=_0x47ccb7;if(!this['configs'][_0x42ab1d(0x2eb)][_0x42ab1d(0x56e)](_0x66e7d8,_0x1eed98))return;if(!this[_0x42ab1d(0x900)][_0x42ab1d(0x2eb)][_0x42ab1d(0x294)]()[_0x42ab1d(0x638)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0xac70a7){const _0x1b5ba4=this[_0x42ab1d(0x900)]['mediator'][_0x42ab1d(0xb2)]()[_0x42ab1d(0x1b5)](_0x3cd1d7=>_0x3cd1d7['getId']()===_0xac70a7),_0x38d41e=_0x1b5ba4?.['getRank']();if(!_0x1b5ba4||!_0x38d41e)throw new Error(_0x42ab1d(0x7dc));const _0x36b39a=this[_0x42ab1d(0x900)][_0x42ab1d(0x2eb)]['getRemoteNodes']()[_0x42ab1d(0x1b5)](_0x70b28b=>_0x70b28b[_0x42ab1d(0x932)]()===_0x66e7d8),_0x14ba38=_0x36b39a?.['getRank']();if(!_0x36b39a||!_0x14ba38)throw new Error(_0x42ab1d(0x4b0));const _0x4c227b=this['chosenAnswers'][_0x42ab1d(0x4ab)](_0x1eed98);if(_0x4c227b){const _0x39c86b=this[_0x42ab1d(0x900)][_0x42ab1d(0x2eb)][_0x42ab1d(0xb2)]()[_0x42ab1d(0x1b5)](_0x4419d7=>_0x4419d7[_0x42ab1d(0x932)]()===_0x4c227b['nodeId']),_0x59a1fe=_0x39c86b?.['getRank']();if(!_0x39c86b||!_0x59a1fe)throw new Error(_0x42ab1d(0x227));if(Math[_0x42ab1d(0x107)](_0x59a1fe-_0x14ba38)<Math['abs'](_0x38d41e-_0x14ba38))return;}}const _0x140c7f=this[_0x42ab1d(0x900)][_0x42ab1d(0x2eb)][_0x42ab1d(0x79a)](_0x9dc98=>_0x9dc98[_0x42ab1d(0x8ac)]()&&(!_0xac70a7||_0x9dc98[_0x42ab1d(0x3c1)]()===_0xac70a7));if(!_0x140c7f[_0x42ab1d(0x583)]||0x0===_0x140c7f[_0x42ab1d(0x583)])throw new Error(_0x42ab1d(0x273));const _0x2e1c3a=this[_0x42ab1d(0x900)][_0x42ab1d(0x2eb)][_0x42ab1d(0x15f)](this[_0x42ab1d(0x900)][_0x42ab1d(0x987)][_0x42ab1d(0x932)](),_0x66e7d8),_0x2fded7=_0x1f05ae(_0x184f8c['Incoming'],{'contentType':_0x46b128['ContentType']['Media'],'label':_0x1eed98,'remoteId':_0x66e7d8});if(this[_0x42ab1d(0x190)][_0x42ab1d(0x788)](_0x2fded7)){if(_0xac70a7)throw new Error(_0x42ab1d(0xa53));const _0x292475=this[_0x42ab1d(0x190)][_0x42ab1d(0x4ab)](_0x2fded7)[_0x42ab1d(0x74d)]();if(_0x292475[_0x42ab1d(0x583)]===_0x3deaa0['length']&&_0x292475[_0x42ab1d(0x2a5)](_0x3490c6=>_0x3deaa0[_0x42ab1d(0x9d0)](_0x3490c6)))return;this['configs'][_0x42ab1d(0x2eb)][_0x42ab1d(0x6c6)](this[_0x42ab1d(0x190)][_0x42ab1d(0x4ab)](_0x2fded7)),this[_0x42ab1d(0x190)][_0x42ab1d(0x7b9)](_0x2fded7),_0x3deaa0=Array[_0x42ab1d(0x48b)](new Set(_0x3deaa0[_0x42ab1d(0x210)](_0x292475))),this[_0x42ab1d(0x33d)](_0x2fded7);}const _0x46126f=new _0x44158c(_0x140c7f[_0x42ab1d(0x437)](_0x4371f3=>_0x4371f3[_0x42ab1d(0x3c1)]()),_0x2e1c3a,this[_0x42ab1d(0x66e)],_0x3deaa0);this['configs']['mediator'][_0x42ab1d(0x672)](_0x46126f),this[_0x42ab1d(0x190)][_0x42ab1d(0x9de)](_0x2fded7,_0x46126f),_0x46126f['sendRequest'](this['configs'][_0x42ab1d(0x987)][_0x42ab1d(0x932)](),_0x66e7d8,_0x1eed98,_0x3deaa0,_0x3ec3f4),this['setSubscriptionRequestTimeout'](_0x1eed98,_0x66e7d8,_0x3deaa0,_0x3ec3f4,_0x2fded7,_0x46126f);}[_0x47ccb7(0x33d)](_0x378157){const _0x4a65f9=_0x47ccb7;this[_0x4a65f9(0x760)]['has'](_0x378157)&&(clearTimeout(this['subscriptionRequestTimeouts']['get'](_0x378157)),this['subscriptionRequestTimeouts'][_0x4a65f9(0x7b9)](_0x378157));}[_0x47ccb7(0x9fa)](_0x42ab1a,_0x1fc40f,_0x10aa9b,_0x42c46e,_0x1948eb,_0x40a123){const _0xb95ae8=_0x47ccb7;this[_0xb95ae8(0x33d)](_0x1948eb),this[_0xb95ae8(0x760)][_0xb95ae8(0x9de)](_0x1948eb,setTimeout(()=>{const _0x2c5c1a=_0xb95ae8;this[_0x2c5c1a(0x760)][_0x2c5c1a(0x7b9)](_0x1948eb);try{const _0xf56901=_0x40a123[_0x2c5c1a(0x727)]();this[_0x2c5c1a(0x9b4)](_0xf56901,_0x1fc40f,_0x42ab1a,_0x1948eb,_0x10aa9b);}catch(_0x4a9558){this[_0x2c5c1a(0x7fa)](_0x42ab1a,_0x1fc40f,_0x10aa9b,_0x42c46e);}},0x7d0));}[_0x47ccb7(0x289)](_0x18d4c2,_0x2815d8,_0x546e36,_0x238943,_0x524ce4){const _0x4a40c8=_0x47ccb7,{subscriptionLabel:_0x2e341c}=this[_0x4a40c8(0x748)](_0x2815d8,_0x238943),_0x2ce9a6=this[_0x4a40c8(0x8de)](_0x2e341c),_0x3ac835=_0x2ce9a6?.[_0x4a40c8(0x1df)];_0x2ce9a6&&(_0x2ce9a6[_0x4a40c8(0x6c7)](_0x238943,0x0),this[_0x4a40c8(0x843)](_0x546e36,_0x46b128[_0x4a40c8(0x5c1)]['Media'],_0x18d4c2)),this['requestSubscription'](_0x2815d8,_0x238943,_0x524ce4,_0x3ac835);}[_0x47ccb7(0x8de)](_0xe5e5dd){const _0xd205bd=_0x47ccb7,_0x2722f7=this[_0xd205bd(0x20a)][_0xd205bd(0x9d9)][_0xd205bd(0x4ab)](_0xe5e5dd);if(_0x2722f7){if(!(_0x2722f7 instanceof _0x2555c8))throw new _0x20e318(_0x20e318[_0xd205bd(0x6f4)][_0xd205bd(0x7a2)],{'label':_0xe5e5dd,'subscription':_0x2722f7});return _0x2722f7;}}[_0x47ccb7(0x748)](_0x4f6931,_0x1042e2){const _0x1aefbe=_0x47ccb7,_0x1f4479=this[_0x1aefbe(0x577)](_0x4f6931,_0x1042e2);return{'parts':_0x1f4479,'subscriptionLabel':_0x1f05ae(_0x184f8c[_0x1aefbe(0x341)],_0x1f4479)};}[_0x47ccb7(0x577)](_0x40098d,_0x3f63ed){const _0x1f396e=_0x47ccb7,_0x4e13e5=this[_0x1f396e(0x900)]['mediator']['getRemoteMediaStream'](_0x3f63ed,_0x40098d),_0x52757b=_0x4e13e5['getProviderId']();if(!_0x52757b)throw new _0x20e318(_0x20e318[_0x1f396e(0x6f4)][_0x1f396e(0x436)],{'label':_0x40098d,'streamId':_0x4e13e5[_0x1f396e(0x901)](),'ownerId':_0x3f63ed,'localId':this[_0x1f396e(0x900)][_0x1f396e(0x987)][_0x1f396e(0x932)]()});return{'contentType':_0x46b128[_0x1f396e(0x5c1)]['Media'],'label':_0x4e13e5[_0x1f396e(0x901)](),'remoteId':_0x52757b};}[_0x47ccb7(0x64b)](_0xc264b5,_0x2adac8,_0x582587,_0x3f1d45){const _0x64e997=_0x47ccb7,_0x1ae54a=_0x3f1d45[_0x64e997(0x8d7)]();if(_0x1ae54a&&_0x1ae54a!==_0xc264b5[_0x64e997(0x907)]){const {parts:_0x16fc7f,subscriptionLabel:_0x630ac}=this[_0x64e997(0x748)](_0x582587,_0x2adac8),_0x16bb01=this[_0x64e997(0x8de)](_0x630ac);_0x16bb01&&(_0x16bb01['unsubscribe'](_0x2adac8,0x0),this[_0x64e997(0x843)](_0x16fc7f[_0x64e997(0xa39)],_0x16fc7f[_0x64e997(0x6f0)],_0x16fc7f[_0x64e997(0xa54)]));}}}class _0x39ebc2{[_0x47ccb7(0x900)];['maxOutgoingSubscriptions'];[_0x47ccb7(0x20a)];constructor(_0xa3d7c1,_0x342300){const _0x3b69dd=_0x47ccb7;this[_0x3b69dd(0x900)]=_0xa3d7c1,this['maxOutgoingSubscriptions']=_0x342300,this[_0x3b69dd(0x20a)]=new _0x3ff54b(({source:_0x329026,destination:_0x3c5fd2})=>_0x3fe9ce(_0x329026,_0x3c5fd2));}[_0x47ccb7(0x723)](_0x5a754f,_0x38c43b){const _0x5b251a=_0x47ccb7,_0x36e36d={'source':_0x5a754f,'destination':_0x38c43b};this[_0x5b251a(0x20a)][_0x5b251a(0x723)](_0x184f8c['Outgoing'],_0x36e36d);}[_0x47ccb7(0x843)](_0x4303dd,_0x2d5ffe,_0x3974a3=''){const _0x427ca5=_0x47ccb7,_0x54d49e={'contentType':_0x2d5ffe,'label':_0x4303dd,'remoteId':_0x3974a3};this[_0x427ca5(0x20a)][_0x427ca5(0x843)](_0x54d49e,_0x184f8c[_0x427ca5(0x53b)]);}[_0x47ccb7(0x142)](_0x322007,_0x36b556){const _0xc77524=_0x47ccb7;let _0x57b37f;_0x57b37f=_0x36b556[_0xc77524(0x1f4)]!==this[_0xc77524(0x900)][_0xc77524(0x987)][_0xc77524(0x932)]()?this[_0xc77524(0x900)]['mediator'][_0xc77524(0x56e)](_0x36b556[_0xc77524(0x1f4)],_0x36b556[_0xc77524(0xa39)]):this[_0xc77524(0x900)][_0xc77524(0x2eb)][_0xc77524(0xae0)](_0x36b556[_0xc77524(0xa39)]);const _0x362cf9=_0x1f05ae(_0x184f8c[_0xc77524(0x53b)],{'contentType':_0x46b128[_0xc77524(0x5c1)][_0xc77524(0x306)],'label':_0x57b37f[_0xc77524(0x861)](),'remoteId':_0x322007}),_0x28d22f=this[_0xc77524(0x86d)]();if(!this['maps'][_0xc77524(0x9d9)][_0xc77524(0x788)](_0x362cf9)&&_0x28d22f>=this['maxOutgoingSubscriptions'])return{'type':_0x1a992f[_0xc77524(0x4e8)],'ownerId':_0x36b556[_0xc77524(0x1f4)],'label':_0x36b556[_0xc77524(0xa39)],'streamId':_0x57b37f[_0xc77524(0x861)](),'trackKinds':_0x36b556['trackKinds'],'params':_0x36b556['params']};_0x57b37f instanceof _0x63a8a2&&!_0x57b37f[_0xc77524(0x696)](_0x36b556[_0xc77524(0x840)])&&_0x57b37f['subscribe'](_0x36b556[_0xc77524(0x1df)]),this['maps'][_0xc77524(0x9d9)][_0xc77524(0x788)](_0x362cf9)||this[_0xc77524(0x723)](_0x57b37f[_0xc77524(0x369)](_0x322007),this[_0xc77524(0x900)][_0xc77524(0x2eb)][_0xc77524(0x722)](_0x322007));}[_0x47ccb7(0x3d2)](_0x1c670c,{label:_0x377bcc,ownerId:_0x1bd3ab,remainingTracks:_0x588967}){const _0x33f213=_0x47ccb7;if(_0x588967>0x0)return;let _0x4cf87a;_0x4cf87a=_0x1bd3ab!==this['configs'][_0x33f213(0x987)][_0x33f213(0x932)]()?this[_0x33f213(0x900)][_0x33f213(0x2eb)][_0x33f213(0x56e)](_0x1bd3ab,_0x377bcc):this[_0x33f213(0x900)][_0x33f213(0x2eb)][_0x33f213(0xae0)](_0x377bcc);const _0x3edef7=_0x4cf87a[_0x33f213(0x861)](),_0x238f6e=_0x46b128[_0x33f213(0x5c1)][_0x33f213(0x306)];this[_0x33f213(0x843)](_0x3edef7,_0x238f6e,_0x1c670c);}[_0x47ccb7(0x151)](_0x552b6f,{label:_0x3010be,ownerId:_0x2f3e3d,trackKinds:_0x401180}){const _0x2d98aa=_0x47ccb7;if(_0x552b6f!==_0x4a8f96)return[];let _0x35c007=[];for(const _0x16fc67 of this[_0x2d98aa(0x20a)][_0x2d98aa(0x9d9)]){const {source:_0x41bf43,destination:_0x472eb7}=_0x16fc67[0x1];_0x41bf43['getLabel']()===_0x3010be&&_0x41bf43[_0x2d98aa(0x29c)]()===_0x2f3e3d&&_0x35c007[_0x2d98aa(0x5c5)]({'sourceId':this[_0x2d98aa(0x900)][_0x2d98aa(0x987)]['getId'](),'destinationIds':[_0x472eb7[_0x2d98aa(0x3c1)]()],'messageType':_0x11d238[_0x2d98aa(0xad6)],'content':{'type':_0x1a992f[_0x2d98aa(0xfc)],'label':_0x3010be,'ownerId':_0x2f3e3d,'trackKinds':_0x401180}});}return _0x35c007;}['handleSubscriptionNeedMediaStream'](_0x374f00,_0x1c2312){const _0x5616ed=_0x47ccb7,{label:_0x388d87,ownerId:_0xbb0c3b,trackKinds:_0x5b24c7,params:_0x3af036}=_0x1c2312,{hasTracks:_0x23ede4,streamId:_0x1d3992,hasResolution:_0x58c8f5,distance:_0x3ea3e5,subscriptionLabel:_0x402ef0}=this[_0x5616ed(0x470)](_0x374f00,_0x1c2312);let _0x4e6d4f=this[_0x5616ed(0x86d)]()<this['maxOutgoingSubscriptions']&&(_0x23ede4||_0x3ea3e5>-0x1)?_0x1a992f[_0x5616ed(0x465)]:_0x1a992f['CannotProvideMediaStream'];const _0xff5ce6=_0x3ea3e5<0x0?0xa:_0x3ea3e5;let _0x30ed42=_0x23ede4?_0x58c8f5?_0xff5ce6:_0xff5ce6+0x0:_0xff5ce6+0xa;return _0x402ef0&&this['maps'][_0x5616ed(0x9d9)]['has'](_0x402ef0)&&(_0x23ede4&&(_0x30ed42=0x0),_0x4e6d4f=_0x1a992f[_0x5616ed(0x465)]),{'type':_0x4e6d4f,'cost':_0x30ed42,'distance':_0x3ea3e5,'label':_0x388d87,'ownerId':_0xbb0c3b,'streamId':_0x1d3992,'trackKinds':_0x5b24c7,'params':_0x3af036};}[_0x47ccb7(0x7e0)](_0x87bb8a){const _0x3ced76=_0x47ccb7,{label:_0x45ccab,ownerId:_0x7a731f}=_0x87bb8a,_0x12af9d=this[_0x3ced76(0x900)][_0x3ced76(0x2eb)]['getRemoteMediaStream'](_0x7a731f,_0x45ccab);this[_0x3ced76(0x20a)][_0x3ced76(0x9d9)]['forEach'](_0x243cbe=>{const _0x273423=_0x3ced76;if(_0x243cbe['source'][_0x273423(0x901)]()===_0x12af9d['getShareableStreamId']()){const _0x4df996=_0x243cbe[_0x273423(0x90b)];this[_0x273423(0x843)](_0x12af9d[_0x273423(0x861)](),_0x46b128['ContentType'][_0x273423(0x306)],_0x4df996[_0x273423(0x3c1)]());}});}['handleContentCloseMediaStream']({label:_0x2c7649}){const _0x389b55=_0x47ccb7,_0x5b47a3=this[_0x389b55(0x900)][_0x389b55(0x2eb)][_0x389b55(0xae0)](_0x2c7649);this['maps'][_0x389b55(0x9d9)]['forEach'](_0x41959f=>{const _0x590eac=_0x389b55;if(_0x41959f['source'][_0x590eac(0x901)]()===_0x5b47a3[_0x590eac(0x861)]()){const _0xcb6f7d=_0x41959f[_0x590eac(0x90b)];this[_0x590eac(0x843)](_0x5b47a3[_0x590eac(0x861)](),_0x46b128['ContentType'][_0x590eac(0x306)],_0xcb6f7d[_0x590eac(0x3c1)]());}});}[_0x47ccb7(0x176)](_0x54ec66){const _0x449e9b=_0x47ccb7;this['maps'][_0x449e9b(0x176)](_0x54ec66);}[_0x47ccb7(0x3a0)](){const _0x21dfbc=_0x47ccb7;this[_0x21dfbc(0x20a)][_0x21dfbc(0x9d9)][_0x21dfbc(0xa9d)](this[_0x21dfbc(0x398)][_0x21dfbc(0x62e)](this));}[_0x47ccb7(0x398)](_0x1b0883,_0xae39d6){this['maps']['closeSubscription'](_0x1b0883,_0xae39d6);}[_0x47ccb7(0x470)](_0x1b7baf,{label:_0x24831a,ownerId:_0x2aae2b,trackKinds:_0x4d11af,params:_0x84d3e0}){const _0x1364f7=_0x47ccb7;if(_0x2aae2b!==this[_0x1364f7(0x900)][_0x1364f7(0x987)][_0x1364f7(0x932)]()){const _0xa58f78=this['configs']['mediator'][_0x1364f7(0x56e)](_0x2aae2b,_0x24831a);return _0xa58f78&&_0xa58f78[_0x1364f7(0x8d7)]()!==_0x1b7baf?{'hasTracks':_0xa58f78[_0x1364f7(0x669)](_0x4d11af),'hasResolution':this[_0x1364f7(0xa95)](_0xa58f78[_0x1364f7(0x156)](),_0x84d3e0),'streamId':_0xa58f78['getShareableStreamId'](),'distance':this[_0x1364f7(0x900)][_0x1364f7(0x2eb)][_0x1364f7(0x15f)](_0x1b7baf,_0x2aae2b),'subscriptionLabel':_0x1f05ae(_0x184f8c[_0x1364f7(0x53b)],{'contentType':_0x46b128[_0x1364f7(0x5c1)]['Media'],'label':_0xa58f78[_0x1364f7(0x861)](),'remoteId':_0x1b7baf})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x1772d5=this['configs']['mediator']['getLocalMediaStream'](_0x24831a);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x1772d5[_0x1364f7(0x861)](),'distance':0x0,'subscriptionLabel':_0x1f05ae(_0x184f8c[_0x1364f7(0x53b)],{'contentType':_0x46b128[_0x1364f7(0x5c1)][_0x1364f7(0x306)],'label':_0x1772d5['getShareableStreamId'](),'remoteId':_0x1b7baf})};}['getNumberOutgoingSubscriptions'](){const _0x3236e8=_0x47ccb7;return Array['from'](this[_0x3236e8(0x20a)][_0x3236e8(0x9d9)][_0x3236e8(0xaca)]())['filter'](([_0x3964df,{source:_0x402f97}])=>_0x3964df[_0x3236e8(0xa7b)](_0x184f8c['Outgoing'])&&_0x402f97['getContentType']()===_0x46b128[_0x3236e8(0x5c1)]['Media'])[_0x3236e8(0x583)];}[_0x47ccb7(0xa95)](_0x558e96,_0x30b39b){const _0x3a3662=_0x47ccb7;if(!_0x30b39b||!_0x30b39b['video']||_0x3a3662(0xab0)==typeof _0x30b39b[_0x3a3662(0xbe)]||!_0x30b39b[_0x3a3662(0xbe)]['maxResolution'])return!0x0;const {width:_0x1fb8ed,height:_0x1249ae}=_0x30b39b[_0x3a3662(0xbe)]['maxResolution'];return _0x558e96[_0x3a3662(0x884)]>=_0x1fb8ed&&_0x558e96[_0x3a3662(0x6c9)]>=_0x1249ae;}}class _0xb11f46{['configs'];[_0x47ccb7(0x50b)];[_0x47ccb7(0x66e)];[_0x47ccb7(0x9bb)];[_0x47ccb7(0x961)];[_0x47ccb7(0xa50)];constructor(_0x845c49,_0x4d44f9,_0x25c225){const _0x9b314f=_0x47ccb7;this[_0x9b314f(0x900)]=_0x845c49,this[_0x9b314f(0x50b)]=_0x4d44f9,this[_0x9b314f(0x66e)]=_0x25c225,this[_0x9b314f(0x900)][_0x9b314f(0x2eb)][_0x9b314f(0x672)](this),this['incomingManager']=new _0x7ce0b(this[_0x9b314f(0x900)],this[_0x9b314f(0x66e)]),this[_0x9b314f(0xa50)]=new _0x39ebc2(this[_0x9b314f(0x900)],this[_0x9b314f(0x50b)]);}['registerSystemPublisher'](_0x50f115){this['systemTopic']=_0x50f115;}['unregisterSystemPublisher'](){const _0x2d2086=_0x47ccb7;delete this[_0x2d2086(0x9bb)];}['close'](){const _0xdb0f53=_0x47ccb7;this[_0xdb0f53(0x961)]['close'](),this[_0xdb0f53(0xa50)][_0xdb0f53(0x3a0)](),this['configs'][_0xdb0f53(0x2eb)][_0xdb0f53(0x6c6)](this);}[_0x47ccb7(0x57a)](_0x1f5115,_0x46b646){const _0x53c93c=_0x47ccb7;this[_0x53c93c(0x961)][_0x53c93c(0x723)](_0x1f5115,_0x46b646);}[_0x47ccb7(0x1b3)](_0x10d9b7,_0x19bcf6){const _0x13ff09=_0x47ccb7;this[_0x13ff09(0xa50)][_0x13ff09(0x723)](_0x10d9b7,_0x19bcf6);}[_0x47ccb7(0x8ec)](_0x50deaa,_0x25067c,_0x51c1ea=''){const _0x109223=_0x47ccb7;this['incomingManager'][_0x109223(0x843)](_0x50deaa,_0x25067c,_0x51c1ea);}[_0x47ccb7(0x8e4)](_0x25a530,_0x2cbb94,_0x569fe3=''){const _0x4b73c4=_0x47ccb7;try{this[_0x4b73c4(0xa50)][_0x4b73c4(0x843)](_0x25a530,_0x2cbb94,_0x569fe3);}catch(_0x102039){if(_0x102039 instanceof _0x20e318&&_0x102039['code']===_0x20e318[_0x4b73c4(0x6f4)][_0x4b73c4(0x7a2)])return;}}[_0x47ccb7(0x3ea)](_0x4cc255){const _0x37c7c2=_0x47ccb7;switch(_0x4cc255[_0x37c7c2(0x3d9)][_0x37c7c2(0x96)]){case _0x1a992f[_0x37c7c2(0x2af)]:this['handleSubscriptionSubscribeMediaStream'](_0x4cc255[_0x37c7c2(0xa24)],_0x4cc255[_0x37c7c2(0x3d9)]);break;case _0x1a992f[_0x37c7c2(0x49e)]:this[_0x37c7c2(0xa50)][_0x37c7c2(0x3d2)](_0x4cc255[_0x37c7c2(0xa24)],_0x4cc255['content']);break;case _0x1a992f[_0x37c7c2(0x234)]:this[_0x37c7c2(0x7a1)](_0x4cc255['sourceId'],_0x4cc255['content']);break;case _0x1a992f[_0x37c7c2(0x4e8)]:this[_0x37c7c2(0x961)]['handleSubscriptionRestartNeedMediaStream'](_0x4cc255[_0x37c7c2(0xa24)],_0x4cc255[_0x37c7c2(0x3d9)]);break;case _0x1a992f[_0x37c7c2(0x465)]:case _0x1a992f[_0x37c7c2(0x2ec)]:this[_0x37c7c2(0x961)][_0x37c7c2(0x7fe)](_0x4cc255[_0x37c7c2(0xa24)],_0x4cc255[_0x37c7c2(0x3d9)]);break;case _0x1a992f['MediaStreamUnavailable']:this['incomingManager'][_0x37c7c2(0x5cd)](_0x4cc255[_0x37c7c2(0xa24)],_0x4cc255[_0x37c7c2(0x3d9)]);}}[_0x47ccb7(0x7ac)](_0x48ad24){const _0x2b9ef4=_0x47ccb7;switch(_0x48ad24[_0x2b9ef4(0x3d9)][_0x2b9ef4(0x96)]){case _0x27c53f['UnpublishMediaStream']:this[_0x2b9ef4(0x961)][_0x2b9ef4(0x7e0)](_0x48ad24['content']),this[_0x2b9ef4(0xa50)][_0x2b9ef4(0x7e0)](_0x48ad24[_0x2b9ef4(0x3d9)]);break;case _0x27c53f['SubscribeMediaStream']:this[_0x2b9ef4(0x961)]['handleContentSubscribeMediaStream'](_0x48ad24[_0x2b9ef4(0x3d9)]);break;case _0x27c53f[_0x2b9ef4(0x4c6)]:this['incomingManager']['handleContentUpdateMediaStream'](_0x48ad24[_0x2b9ef4(0x3d9)]);break;case _0x27c53f[_0x2b9ef4(0x49e)]:this[_0x2b9ef4(0x151)](_0x48ad24[_0x2b9ef4(0xa24)],_0x48ad24['content']);break;case _0x27c53f[_0x2b9ef4(0x4d4)]:this[_0x2b9ef4(0xa50)][_0x2b9ef4(0x179)](_0x48ad24[_0x2b9ef4(0x3d9)]);break;case _0x27c53f[_0x2b9ef4(0xac8)]:this['handleCloseContent'](_0x48ad24[_0x2b9ef4(0x3d9)][_0x2b9ef4(0xa39)],_0x46b128[_0x2b9ef4(0x5c1)][_0x2b9ef4(0x37c)]);break;case _0x27c53f[_0x2b9ef4(0x4d5)]:this['handleCloseContent'](_0x48ad24['content']['label'],_0x46b128[_0x2b9ef4(0x5c1)][_0x2b9ef4(0x64c)]);break;case _0x27c53f['CloseExternalStorageConnection']:this[_0x2b9ef4(0x728)](_0x48ad24['content'][_0x2b9ef4(0xa39)],_0x46b128['ContentType'][_0x2b9ef4(0x370)]);break;case _0x27c53f[_0x2b9ef4(0x98)]:this[_0x2b9ef4(0x728)](_0x48ad24[_0x2b9ef4(0x3d9)][_0x2b9ef4(0xa39)],_0x46b128[_0x2b9ef4(0x5c1)][_0x2b9ef4(0x9af)]);break;case _0x27c53f['CloseVectorDatabase']:this[_0x2b9ef4(0x728)](_0x48ad24[_0x2b9ef4(0x3d9)][_0x2b9ef4(0xa39)],_0x46b128[_0x2b9ef4(0x5c1)][_0x2b9ef4(0x543)]);break;case _0x27c53f['CloseGraphDatabase']:this[_0x2b9ef4(0x728)](_0x48ad24[_0x2b9ef4(0x3d9)][_0x2b9ef4(0xa39)],_0x46b128[_0x2b9ef4(0x5c1)]['GraphDatabase']);break;case _0x27c53f[_0x2b9ef4(0xaa1)]:case _0x27c53f['CloseJobWorker']:this[_0x2b9ef4(0x728)](_0x48ad24[_0x2b9ef4(0x3d9)]['label'],_0x46b128[_0x2b9ef4(0x5c1)][_0x2b9ef4(0x756)]);break;case _0x27c53f[_0x2b9ef4(0x9c9)]:this['incomingManager']['handleContentRemoteMediaStreamTrackFail'](_0x48ad24['content']);}}['handleNodeSystemEvents']({content:_0x37a75f}){const _0x33fc42=_0x47ccb7;_0x37a75f['type']===_0x2f3f1e[_0x33fc42(0x891)]&&this[_0x33fc42(0x176)](_0x37a75f);}[_0x47ccb7(0xde)](_0x3711d4){const _0x517050=_0x47ccb7;_0x3711d4[_0x517050(0x3d9)][_0x517050(0x96)]===_0x2cbfba['OptimizationConnectionSuccess']&&this[_0x517050(0x961)][_0x517050(0x6f5)](_0x3711d4[_0x517050(0xa24)]);}[_0x47ccb7(0x151)](_0xc5e739,_0x2aa26f){const _0x310f32=_0x47ccb7;this[_0x310f32(0x961)][_0x310f32(0x151)](_0x2aa26f),this['outgoingManager']['handleContentUnsubscribeMediaStream'](_0xc5e739,_0x2aa26f)[_0x310f32(0xa9d)](_0x274782=>this[_0x310f32(0x9bb)]['publish'](_0x274782));}['handleSubscriptionSubscribeMediaStream'](_0x3369d1,_0x543c35){const _0x56d0e6=_0x47ccb7,_0x22d472=this[_0x56d0e6(0xa50)][_0x56d0e6(0x142)](_0x3369d1,_0x543c35);if(_0x22d472&&(this[_0x56d0e6(0x9bb)][_0x56d0e6(0x19c)]({'sourceId':this[_0x56d0e6(0x900)][_0x56d0e6(0x987)][_0x56d0e6(0x932)](),'destinationIds':[_0x3369d1],'messageType':_0x11d238[_0x56d0e6(0xad6)],'content':_0x22d472}),_0x22d472['type']===_0x1a992f[_0x56d0e6(0x4e8)]))throw new _0x5681b5('Restart\x20NeedMediaStream');}[_0x47ccb7(0x7a1)](_0x214271,_0x4c860e){const _0x561d66=_0x47ccb7,_0x5ec810=this[_0x561d66(0xa50)]['handleSubscriptionNeedMediaStream'](_0x214271,_0x4c860e);this[_0x561d66(0x9bb)][_0x561d66(0x19c)]({'sourceId':this[_0x561d66(0x900)][_0x561d66(0x987)][_0x561d66(0x932)](),'destinationIds':[_0x214271],'messageType':_0x11d238[_0x561d66(0xad6)],'content':_0x5ec810});}[_0x47ccb7(0x728)](_0x32db43,_0x510e7f){this['removeIncomingSubscription'](_0x32db43,_0x510e7f),this['removeOutgoingSubscription'](_0x32db43,_0x510e7f);}[_0x47ccb7(0x176)]({id:_0x36c509}){const _0x48fe1c=_0x47ccb7;this[_0x48fe1c(0x961)][_0x48fe1c(0x176)](_0x36c509),this[_0x48fe1c(0xa50)][_0x48fe1c(0x176)](_0x36c509);}}class _0x1d96c4{['label'];[_0x47ccb7(0xa15)]=_0x4aa13e();constructor(){const _0x5ca5f3=_0x47ccb7;this[_0x5ca5f3(0xa39)]=0x0;}['getLabel'](){const _0x433cec=_0x47ccb7;return this[_0x433cec(0xa39)];}[_0x47ccb7(0x9a2)](){const _0x5693a9=_0x47ccb7;return _0x46b128['ContentType'][_0x5693a9(0x5d7)];}[_0x47ccb7(0x641)](_0x1f63ae){const _0x523f1d=_0x47ccb7;_0x1f63ae[_0x523f1d(0x84)](this);}[_0x47ccb7(0x27a)](_0x2788bb){const _0x186294=_0x47ccb7;_0x2788bb[_0x186294(0xa03)]();}['publish'](_0x18b957){const _0x4299c6=_0x47ccb7;_0x1a21a7['log'](_0x5300ce[_0x4299c6(0x10d)],_0x4299c6(0x450),_0x18b957[_0x4299c6(0xa24)],_0x18b957),this[_0x4299c6(0xa15)][_0x4299c6(0x19c)]({'topicLabel':this['label'],'contentType':_0x46b128['ContentType'][_0x4299c6(0x5d7)],'uuid':_0x18b957[_0x4299c6(0x87a)]??(0x0,_0x4c8224['v4'])(),'recipients':_0x18b957[_0x4299c6(0x616)]??[],..._0x18b957});}[_0x47ccb7(0x9b4)](_0x2fefd4){const _0x5cb30d=_0x47ccb7;return this[_0x5cb30d(0xa15)]['subscribe'](_0x2fefd4);}}class _0xcca020{[_0x47ccb7(0x260)];[_0x47ccb7(0xa73)]=[];[_0x47ccb7(0xac2)];['remoteNodes']=new Map();[_0x47ccb7(0x6bf)]=_0x4aa13e();constructor(_0x2993c1){const _0x41ada2=_0x47ccb7;this[_0x41ada2(0x260)]=_0x2993c1,this[_0x41ada2(0xac2)]=(this[_0x41ada2(0x260)][_0x41ada2(0x613)]-0x2*this[_0x41ada2(0x260)][_0x41ada2(0x76d)])/0x2,this[_0x41ada2(0xa73)]['push']({'start':0x1,'end':this[_0x41ada2(0x466)](0x1,0x1)-0x1});for(let _0x1d4a97=0x0;_0x1d4a97<this[_0x41ada2(0xac2)];++_0x1d4a97)this[_0x41ada2(0xa73)]['push']({'start':this[_0x41ada2(0x466)](0x1,_0x1d4a97+0x1),'end':this[_0x41ada2(0x466)](0x1,_0x1d4a97+0x2)-0x1});}[_0x47ccb7(0x466)](_0x3cbad4,_0xf11b1c=0x1){const _0x2d2e63=_0x47ccb7;let _0x58776a=this[_0x2d2e63(0x260)]['maxDistance']-this[_0x2d2e63(0x260)][_0x2d2e63(0x76d)],_0x534b2a=0x1;for(let _0x31ef88=0x1;_0x31ef88<_0xf11b1c;++_0x31ef88)_0x58776a*=this['options'][_0x2d2e63(0x66e)]-this[_0x2d2e63(0x260)]['minConnections']-_0x31ef88,_0x534b2a*=this[_0x2d2e63(0x260)][_0x2d2e63(0x66e)]-this[_0x2d2e63(0x260)][_0x2d2e63(0x76d)]-_0x31ef88+0x1;return _0x58776a*this[_0x2d2e63(0x260)][_0x2d2e63(0x76d)]+_0x3cbad4-_0x534b2a;}[_0x47ccb7(0xa79)](_0x47a01f){let _0x1c596e=0x0;for(;this['ranges'][_0x1c596e]['end']<_0x47a01f;)_0x1c596e+=0x1;return _0x1c596e;}[_0x47ccb7(0x5b3)](){const _0x10720c=_0x47ccb7;return this[_0x10720c(0x260)][_0x10720c(0x76d)];}[_0x47ccb7(0x618)](){const _0x21a698=_0x47ccb7;return this[_0x21a698(0x260)]['maxConnections'];}[_0x47ccb7(0x844)](){const _0x1a11d2=_0x47ccb7;return this[_0x1a11d2(0x260)][_0x1a11d2(0x66e)];}['getRemoteNodes'](){const _0x12500f=_0x47ccb7;return this[_0x12500f(0x360)];}[_0x47ccb7(0x11a)](_0xa23520,_0xd00446){const _0xe10910=_0x47ccb7;this[_0xe10910(0x360)][_0xe10910(0x9de)](_0xa23520,_0xd00446),this['nodeUpdate'][_0xe10910(0x19c)]();}[_0x47ccb7(0x4f3)](_0x5ce777){const _0x410e15=_0x47ccb7;this['remoteNodes'][_0x410e15(0x7b9)](_0x5ce777),this[_0x410e15(0x6bf)]['publish']();}[_0x47ccb7(0x1bc)](_0x252d1e){return this['remoteNodes']['has'](_0x252d1e);}[_0x47ccb7(0x5aa)](_0x54263c){const _0x53aaab=_0x47ccb7;return this['remoteNodes'][_0x53aaab(0x4ab)](_0x54263c);}[_0x47ccb7(0x8fb)](_0x447f99,_0x2fa379){const _0x560336=_0x47ccb7,_0x113665=this[_0x560336(0x5aa)](_0x2fa379)?.[_0x560336(0x638)]()??0x0;return _0x447f99[_0x560336(0x437)](_0x1ec2a2=>this['getRemoteNode'](_0x1ec2a2))['filter'](_0x3f837a=>void 0x0!==_0x3f837a)[_0x560336(0x5bd)]((_0x42019f,_0x3979d8)=>Math[_0x560336(0x107)](_0x113665-(_0x42019f&&_0x42019f['getRank']()||0x1/0x0))-Math['abs'](_0x113665-(_0x3979d8&&_0x3979d8[_0x560336(0x638)]()||0x1/0x0)))[_0x560336(0x437)](_0x21080f=>_0x21080f[_0x560336(0x932)]());}['onNodeUpdate'](_0x2c4e94){const _0x3e23d5=_0x47ccb7;return this['nodeUpdate'][_0x3e23d5(0x9b4)](_0x2c4e94);}}class _0x2d60f7{[_0x47ccb7(0x111)];[_0x47ccb7(0x8b5)];['authNode'];[_0x47ccb7(0x4a0)];[_0x47ccb7(0x260)];['configs'];[_0x47ccb7(0x182)];[_0x47ccb7(0x733)];[_0x47ccb7(0x393)];[_0x47ccb7(0x97c)];['statsManager'];[_0x47ccb7(0x90e)];[_0x47ccb7(0x883)];[_0x47ccb7(0x282)];['graphService'];[_0x47ccb7(0x9bb)]=new _0x1d96c4();[_0x47ccb7(0x19a)];[_0x47ccb7(0x987)];constructor(_0x5aa1c9,_0x2b2c24,_0x5ee765,_0xd66884,_0x50b8e7,_0x1ba04f,_0x2b7722){const _0x3d0024=_0x47ccb7;switch(this['vendorId']=_0x5aa1c9,this[_0x3d0024(0x8b5)]=_0x2b2c24,this[_0x3d0024(0x6bb)]=_0x5ee765,this[_0x3d0024(0x4a0)]=_0xd66884,this[_0x3d0024(0x260)]=_0x50b8e7,this[_0x3d0024(0x900)]=_0x1ba04f,this[_0x3d0024(0x182)]=_0x2b7722,_0x5ee765['type']){case _0x46b128['NodeType'][_0x3d0024(0x40e)]:this['localNode']=new _0x17f643(_0x5ee765['getId'](),_0x5ee765[_0x3d0024(0x7a4)](),_0x5ee765[_0x3d0024(0x853)]());break;case _0x46b128[_0x3d0024(0x177)][_0x3d0024(0x856)]:default:this[_0x3d0024(0x987)]=new _0x47cd91(_0x5ee765[_0x3d0024(0x932)]());}const _0x20bf58=this[_0x3d0024(0xa37)]();this[_0x3d0024(0x410)]=new _0xcca020(this[_0x3d0024(0x260)]),this[_0x3d0024(0x733)]=new _0x1ecbda(_0x20bf58,this['options']),this[_0x3d0024(0x393)]=new _0xf87637(_0x20bf58,this[_0x3d0024(0x4a0)],this['graphService'],this['configs'][_0x3d0024(0x2a9)],this[_0x3d0024(0x260)]),this[_0x3d0024(0x97c)]=new _0xb11f46(_0x20bf58,this[_0x3d0024(0x260)][_0x3d0024(0x50b)],this[_0x3d0024(0x410)][_0x3d0024(0x844)]()),this[_0x3d0024(0xb4)]=new _0xf87472(_0x20bf58),this[_0x3d0024(0x90e)]=new _0x24d291(_0x20bf58),this[_0x3d0024(0x883)]=new _0x59a153(_0x20bf58),this[_0x3d0024(0x282)]=new _0x5f278e(_0x20bf58,this['graphService']),this['systemTopicUnsubscribe']=this[_0x3d0024(0x66a)]();}[_0x47ccb7(0x7f6)](){const _0x1de5f8=_0x47ccb7,_0x35f04c=this[_0x1de5f8(0xa37)]();this[_0x1de5f8(0x393)]=new _0xf87637(_0x35f04c,this[_0x1de5f8(0x4a0)],this[_0x1de5f8(0x410)],this['configs'][_0x1de5f8(0x2a9)],this[_0x1de5f8(0x260)]),this[_0x1de5f8(0x97c)]=new _0xb11f46(_0x35f04c,this[_0x1de5f8(0x260)][_0x1de5f8(0x50b)],this['graphService'][_0x1de5f8(0x844)]()),this[_0x1de5f8(0xb4)]=new _0xf87472(_0x35f04c),this[_0x1de5f8(0x90e)]=new _0x24d291(_0x35f04c),this[_0x1de5f8(0x883)]=new _0x59a153(_0x35f04c),this['nodeManager']=new _0x5f278e(_0x35f04c,this[_0x1de5f8(0x410)]);const _0x44b148=this[_0x1de5f8(0x393)][_0x1de5f8(0x7cf)]();this['contentManager'][_0x1de5f8(0x337)]()[_0x1de5f8(0xa9d)](_0x5d9d7d=>{const _0xc532fd=_0x1de5f8;this[_0xc532fd(0x97c)][_0xc532fd(0x1b3)](_0x5d9d7d,_0x44b148),this['subscriptionManager'][_0xc532fd(0x57a)](_0x44b148,_0x5d9d7d),_0x5d9d7d[_0xc532fd(0xf3)]();}),this['contentManager'][_0x1de5f8(0x871)]()['forEach'](_0x3cff00=>{const _0x5ae5eb=_0x1de5f8;this[_0x5ae5eb(0x97c)][_0x5ae5eb(0x1b3)](_0x3cff00,_0x44b148),this[_0x5ae5eb(0x97c)][_0x5ae5eb(0x57a)](_0x44b148,_0x3cff00),_0x3cff00[_0x5ae5eb(0xf3)](),_0x3cff00['sync']();}),this[_0x1de5f8(0x733)][_0x1de5f8(0x3a4)]()['forEach'](_0x18dda1=>{const _0x461c65=_0x1de5f8;this['subscriptionManager']['createOutgoingSubscription'](_0x18dda1,_0x44b148),this['subscriptionManager']['createIncomingSubscription'](_0x44b148,_0x18dda1),_0x18dda1[_0x461c65(0xf3)](),this[_0x461c65(0x947)](_0x18dda1);}),this[_0x1de5f8(0x733)][_0x1de5f8(0x922)]()[_0x1de5f8(0xa9d)](_0x487ce7=>{const _0x256cde=_0x1de5f8;this['subscriptionManager'][_0x256cde(0x1b3)](_0x487ce7,_0x44b148),this[_0x256cde(0x97c)][_0x256cde(0x57a)](_0x44b148,_0x487ce7),_0x487ce7['reset']();}),this[_0x1de5f8(0x733)][_0x1de5f8(0x794)]()[_0x1de5f8(0xa9d)](_0x1bc2f2=>{const _0x370b8e=_0x1de5f8;this['subscriptionManager']['createOutgoingSubscription'](_0x1bc2f2,_0x44b148),this[_0x370b8e(0x97c)][_0x370b8e(0x57a)](_0x44b148,_0x1bc2f2),_0x1bc2f2['reset']();}),this[_0x1de5f8(0x733)]['getVectorDatabases']()[_0x1de5f8(0xa9d)](_0x81971f=>{const _0x3c4d57=_0x1de5f8;this[_0x3c4d57(0x97c)][_0x3c4d57(0x1b3)](_0x81971f,_0x44b148),this[_0x3c4d57(0x97c)][_0x3c4d57(0x57a)](_0x44b148,_0x81971f),_0x81971f[_0x3c4d57(0xf3)]();}),this[_0x1de5f8(0x733)][_0x1de5f8(0x7e3)]()[_0x1de5f8(0xa9d)](_0x3d75f3=>{const _0x560e4a=_0x1de5f8;this[_0x560e4a(0x97c)][_0x560e4a(0x1b3)](_0x3d75f3,_0x44b148),this[_0x560e4a(0x97c)][_0x560e4a(0x57a)](_0x44b148,_0x3d75f3),_0x3d75f3['reset']();}),this[_0x1de5f8(0x19a)]=this[_0x1de5f8(0x66a)]();}[_0x47ccb7(0x672)](_0x92c3f3){const _0x298330=_0x47ccb7;try{this[_0x298330(0x9bb)][_0x298330(0x641)](_0x92c3f3);}catch(_0x46e99b){this['handleError'](_0x46e99b,{});}}[_0x47ccb7(0x6c6)](_0x227798){const _0x4ae67e=_0x47ccb7;try{this[_0x4ae67e(0x9bb)][_0x4ae67e(0x27a)](_0x227798);}catch(_0x496ef1){this['handleError'](_0x496ef1,{});}}[_0x47ccb7(0x55f)](_0xf9d618,_0x3e0681){const _0x37010a=_0x47ccb7;return this[_0x37010a(0x393)][_0x37010a(0x55f)](_0xf9d618,_0x3e0681);}[_0x47ccb7(0x722)](_0x2490e7){const _0x8cdcde=_0x47ccb7;try{return this[_0x8cdcde(0x393)][_0x8cdcde(0x722)](_0x2490e7);}catch(_0x5933cc){throw this[_0x8cdcde(0x6cb)](_0x5933cc,{});}}[_0x47ccb7(0x79a)](_0x3d2d90){const _0x50a8f4=_0x47ccb7;try{return this[_0x50a8f4(0x393)][_0x50a8f4(0x79a)](_0x3d2d90);}catch(_0x3b5ea3){throw this[_0x50a8f4(0x6cb)](_0x3b5ea3,{});}}[_0x47ccb7(0x56e)](_0x4eca0d,_0x5e64c9){const _0x7841b2=_0x47ccb7;try{return this['contentManager'][_0x7841b2(0x6dc)](_0xc287e4=>_0xc287e4[_0x7841b2(0x29c)]()===_0x4eca0d&&_0xc287e4['getLabel']()===_0x5e64c9)[0x0];}catch(_0x1bbf87){throw this[_0x7841b2(0x6cb)](_0x1bbf87,{});}}['getLocalMediaStream'](_0x5d888f){const _0x2590ad=_0x47ccb7;try{return this['contentManager'][_0x2590ad(0x5b4)](_0x468b3f=>_0x468b3f[_0x2590ad(0x409)]()===_0x5d888f)[0x0];}catch(_0x388b6d){throw this[_0x2590ad(0x6cb)](_0x388b6d,{});}}['notifyCluster']=(..._0xae7eea)=>{const _0x5008e2=_0x47ccb7;try{return this[_0x5008e2(0x182)][_0x5008e2(0x6f9)](..._0xae7eea);}catch(_0x4ee57c){throw this[_0x5008e2(0x6cb)](_0x4ee57c,{});}};[_0x47ccb7(0x22e)](_0x528688){const _0x143025=_0x47ccb7;try{this[_0x143025(0xb4)][_0x143025(0x615)](_0x528688);}catch(_0x1e8b1e){throw this[_0x143025(0x6cb)](_0x1e8b1e,{});}}[_0x47ccb7(0x53e)](_0x5f1ff5){const _0x28c8af=_0x47ccb7;try{this['statsManager'][_0x28c8af(0x2f0)](_0x5f1ff5);}catch(_0x188c30){throw this['handleError'](_0x188c30,{});}}[_0x47ccb7(0x55e)](_0x466865){const _0x29a110=_0x47ccb7;return this[_0x29a110(0x393)]['collectStats'](_0x466865);}async[_0x47ccb7(0x2e1)](){const _0x261e20=_0x47ccb7;try{await this['connectionManager'][_0x261e20(0x2e1)]();const _0x305082=await this[_0x261e20(0x282)][_0x261e20(0x5c7)]();for(const _0xd35427 of _0x305082)this[_0x261e20(0x393)][_0x261e20(0x55f)](_0xd35427);}catch(_0x3f8da8){throw this[_0x261e20(0x6cb)](_0x3f8da8,{});}}[_0x47ccb7(0x3d5)](_0x40f28a){const _0x5c3be1=_0x47ccb7;this[_0x5c3be1(0x987)]['type']===_0x46b128['NodeType'][_0x5c3be1(0x40e)]&&(this[_0x5c3be1(0x987)][_0x5c3be1(0x121)](_0x40f28a[_0x5c3be1(0x853)]()),this['localNode'][_0x5c3be1(0x975)](_0x40f28a[_0x5c3be1(0x7a4)]()));}['close']({force:_0x1aac78=!0x1},_0x55789a=!0x1){const _0x147d8f=_0x47ccb7;if(_0x1a21a7['warning']('orchestrator-close',{'clusterId':this['clusterId'],'nodeId':this[_0x147d8f(0x987)][_0x147d8f(0x932)](),'nodeType':this[_0x147d8f(0x987)]['type']}),!_0x1aac78&&this['connectionManager'][_0x147d8f(0x866)]())throw new _0xb4a92c(_0x215585[_0x147d8f(0x921)],_0x147d8f(0x94b));_0x1a21a7['processBatch'](),this[_0x147d8f(0x19a)](),this[_0x147d8f(0x883)][_0x147d8f(0x3a0)](),this['detectionManager'][_0x147d8f(0x3a0)](),this[_0x147d8f(0xb4)]['close'](),this['subscriptionManager'][_0x147d8f(0x3a0)](),this['connectionManager'][_0x147d8f(0x3a0)](),this['contentManager']['close'](_0x55789a),this[_0x147d8f(0x282)][_0x147d8f(0x3a0)]();}[_0x47ccb7(0x208)](_0x25992e){const _0x54ba44=_0x47ccb7;try{const _0x27075e=this['contentManager'][_0x54ba44(0x3e1)](_0x25992e),_0x2781d8=this[_0x54ba44(0x393)][_0x54ba44(0x7cf)]();return this[_0x54ba44(0x97c)][_0x54ba44(0x1b3)](_0x27075e,_0x2781d8),this[_0x54ba44(0x97c)][_0x54ba44(0x57a)](_0x2781d8,_0x27075e),_0x27075e;}catch(_0x4dd6fb){throw this[_0x54ba44(0x6cb)](_0x4dd6fb,{});}}async['openObjectStoreBucket'](_0x108698,_0x4406ff){const _0x20e164=_0x47ccb7;try{const _0x2b0722=this[_0x20e164(0x733)][_0x20e164(0x313)](_0x108698,this[_0x20e164(0x260)][_0x20e164(0x650)],_0x4406ff),_0x24ad9a=this['connectionManager'][_0x20e164(0x7cf)]();return this[_0x20e164(0x97c)][_0x20e164(0x1b3)](_0x2b0722,_0x24ad9a),this[_0x20e164(0x97c)][_0x20e164(0x57a)](_0x24ad9a,_0x2b0722),await _0x2b0722['sync'](),_0x2b0722;}catch(_0x15493a){throw this[_0x20e164(0x6cb)](_0x15493a,{});}}async[_0x47ccb7(0x7d6)](_0x273853,_0x22ea6e){const _0x25ec7b=_0x47ccb7;try{if(!this[_0x25ec7b(0x260)][_0x25ec7b(0x657)])throw new _0xb4a92c(_0x215585[_0x25ec7b(0x92a)],_0x25ec7b(0x938));if(!(this['authNode']instanceof _0xc7c5cc))throw new _0xb4a92c(_0x215585[_0x25ec7b(0x67c)],_0x25ec7b(0x1a9));const _0x5f4f6d=this[_0x25ec7b(0x260)][_0x25ec7b(0x657)][_0x25ec7b(0x4ab)](_0x22ea6e);if(!_0x5f4f6d)throw new _0xb4a92c(_0x215585[_0x25ec7b(0x92a)],_0x25ec7b(0x938));const _0x47bbd0=this[_0x25ec7b(0x733)][_0x25ec7b(0x7ff)](_0x273853,_0x5f4f6d),_0x1b4dd1=this['connectionManager'][_0x25ec7b(0x7cf)]();return this['subscriptionManager'][_0x25ec7b(0x1b3)](_0x47bbd0,_0x1b4dd1),this[_0x25ec7b(0x97c)][_0x25ec7b(0x57a)](_0x1b4dd1,_0x47bbd0),await _0x47bbd0['open'](),_0x47bbd0;}catch(_0xd7f4a3){throw this[_0x25ec7b(0x6cb)](_0xd7f4a3,{});}}async['openKeyValueDatabase'](_0x5d89d5,_0x49f8ad,_0xf0e595){const _0x46c1d3=_0x47ccb7;try{_0xf0e595=_0xf0e595||this[_0x46c1d3(0x260)][_0x46c1d3(0x122)];const _0x1d0760=await this['contentManager'][_0x46c1d3(0x8b7)](_0x5d89d5,_0x49f8ad,_0xf0e595),_0x464789=this[_0x46c1d3(0x393)][_0x46c1d3(0x7cf)]();return this[_0x46c1d3(0x97c)][_0x46c1d3(0x1b3)](_0x1d0760,_0x464789),this['subscriptionManager']['createIncomingSubscription'](_0x464789,_0x1d0760),await _0x1d0760[_0x46c1d3(0x7f6)](),this[_0x46c1d3(0x947)](_0x1d0760),_0x1d0760;}catch(_0x18f2e4){throw this[_0x46c1d3(0x6cb)](_0x18f2e4,{});}}async[_0x47ccb7(0xad2)](_0x56419b){const _0x150999=_0x47ccb7;try{const _0x5d199a=await this[_0x150999(0x733)][_0x150999(0x134)](_0x56419b,this[_0x150999(0x410)]),_0x211c8f=this[_0x150999(0x393)]['getConnectionGroup']();return this['subscriptionManager'][_0x150999(0x1b3)](_0x5d199a,_0x211c8f),this[_0x150999(0x97c)][_0x150999(0x57a)](_0x211c8f,_0x5d199a),_0x5d199a[_0x150999(0x7f6)](),_0x5d199a;}catch(_0x286b78){throw this['handleError'](_0x286b78,{});}}async[_0x47ccb7(0x299)](_0x33b3a6){throw new Error('Method\x20not\x20supported');}async['openGenerativeAIContext'](_0x45dd37){const _0x2de40f=_0x47ccb7;try{const _0x1a81a4=await this[_0x2de40f(0x733)]['createGenerativeAIContext'](_0x45dd37,this[_0x2de40f(0x410)]),_0x3e7ca9=this[_0x2de40f(0x393)][_0x2de40f(0x7cf)]();return this[_0x2de40f(0x97c)][_0x2de40f(0x1b3)](_0x1a81a4,_0x3e7ca9),this[_0x2de40f(0x97c)][_0x2de40f(0x57a)](_0x3e7ca9,_0x1a81a4),_0x1a81a4['open'](),_0x1a81a4;}catch(_0x91ffdb){throw console['error'](_0x91ffdb),this[_0x2de40f(0x6cb)](_0x91ffdb,{});}}async[_0x47ccb7(0x83)](_0x4e50be){const _0x175abd=_0x47ccb7;try{if(!(this['options'][_0x175abd(0x925)]&&this[_0x175abd(0x260)][_0x175abd(0x8eb)]&&this[_0x175abd(0x260)]['documentParserConnector']&&this[_0x175abd(0x260)][_0x175abd(0xad9)]&&this[_0x175abd(0x260)][_0x175abd(0xa3b)]))throw new _0xb4a92c(_0x215585['GenerativeAIWorkerMissingConnector'],_0x175abd(0x84c));if(!this[_0x175abd(0x900)]['openaiApiKey'])throw new _0xb4a92c(_0x215585[_0x175abd(0x524)],'Missing\x20OpenAI\x20API\x20key');const _0x5297e8=[];for(const [_0x41f1f9,_0x24dd25]of this[_0x175abd(0x260)][_0x175abd(0x925)]){let _0x3ff166;_0x41f1f9===_0x46b128['GenerativeAIEngineType'][_0x175abd(0xa4e)]&&(_0x3ff166=this[_0x175abd(0x900)]['openaiApiKey']),_0x41f1f9===_0x46b128[_0x175abd(0x571)][_0x175abd(0x68c)]&&(_0x3ff166=this[_0x175abd(0x900)][_0x175abd(0x4f9)]),_0x41f1f9===_0x46b128[_0x175abd(0x571)][_0x175abd(0x5c6)]&&(_0x3ff166=this['configs']['openrouterApiKey']),_0x41f1f9===_0x46b128[_0x175abd(0x571)][_0x175abd(0x8ca)]&&(_0x3ff166=this[_0x175abd(0x900)][_0x175abd(0x91f)]),_0x5297e8['push'](new _0x24dd25(_0x3ff166));}const _0x43514c=[];for(const [_0x2df2ee,_0x28f8b5]of this[_0x175abd(0x260)]['generativeAISpeechConnectors']){let _0x18dfe8;_0x2df2ee===_0x46b128['GenerativeAIEngineType']['OpenAI']&&(_0x18dfe8=this[_0x175abd(0x900)]['openaiApiKey']),_0x2df2ee===_0x46b128[_0x175abd(0x571)][_0x175abd(0x8bf)]&&(_0x18dfe8=this['configs']['elevenLabsApiKey']),_0x43514c[_0x175abd(0x5c5)](new _0x28f8b5(_0x18dfe8));}const _0x5ba326=new this['options']['objectStoreConnector'](_0x175abd(0x231)),_0x6e610d=new this[(_0x175abd(0x260))][(_0x175abd(0x87f))](),_0xa0f47=new this[(_0x175abd(0x260))][(_0x175abd(0xad9))](this[_0x175abd(0x900)][_0x175abd(0xa86)]),_0x94f883=new this[(_0x175abd(0x260))][(_0x175abd(0xa3b))]();let _0x4f12ec,_0x16bf22,_0x5cf51e,_0x43421b;if(this[_0x175abd(0x260)][_0x175abd(0x904)]){if(!this[_0x175abd(0x900)][_0x175abd(0x630)])throw new _0xb4a92c(_0x215585['ApiKeyMissing'],'Missing\x20search\x20API\x20key');_0x4f12ec=new this[(_0x175abd(0x260))][(_0x175abd(0x904))](this['configs'][_0x175abd(0x630)]);}if(this[_0x175abd(0x260)][_0x175abd(0x97)]){if(!this['configs'][_0x175abd(0x46a)])throw new _0xb4a92c(_0x215585[_0x175abd(0x524)],'Missing\x20AI\x20search\x20API\x20key');_0x16bf22=new this[(_0x175abd(0x260))]['aiSearchConnector'](this[_0x175abd(0x900)][_0x175abd(0x46a)]);}if(this[_0x175abd(0x260)][_0x175abd(0x97b)]&&(_0x5cf51e=new this[(_0x175abd(0x260))]['queryFileConnector']()),this[_0x175abd(0x260)][_0x175abd(0x3f6)]){if(!this['configs']['ragApiKey'])throw new _0xb4a92c(_0x215585[_0x175abd(0x524)],_0x175abd(0x5a9));_0x43421b=new Map();for(const [_0x1137a9,_0x59a5d8]of this[_0x175abd(0x260)]['ragConnectors'])_0x43421b[_0x175abd(0x9de)](_0x1137a9,new _0x59a5d8(this['configs'][_0x175abd(0x354)]));}return await this[_0x175abd(0x733)][_0x175abd(0x59c)](_0x4e50be,_0x5297e8,_0x43514c,_0x5ba326,_0x6e610d,_0xa0f47,_0x94f883,_0x4f12ec,_0x16bf22,_0x5cf51e,_0x43421b,this[_0x175abd(0x900)][_0x175abd(0xa86)]);}catch(_0xba283){throw this[_0x175abd(0x6cb)](_0xba283,{});}}async[_0x47ccb7(0xd4)](_0x542b1c){const _0x2592f7=_0x47ccb7;try{if(!(this[_0x2592f7(0x260)]['generativeAIWorkerConnectors']&&this['options']['generativeAISpeechConnectors']&&this[_0x2592f7(0x260)]['documentParserConnector']&&this[_0x2592f7(0x260)][_0x2592f7(0xad9)]&&this[_0x2592f7(0x260)]['nlpLibraryConnector']))throw new _0xb4a92c(_0x215585[_0x2592f7(0x99a)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x2592f7(0x6bb)]instanceof _0xc7c5cc))throw new _0xb4a92c(_0x215585[_0x2592f7(0x67c)],'Node\x20is\x20not\x20an\x20agent');if(!this[_0x2592f7(0x900)][_0x2592f7(0xa86)])throw new _0xb4a92c(_0x215585[_0x2592f7(0x524)],_0x2592f7(0x38e));const _0x5065d8=[];for(const [_0x9137bb,_0x1e3905]of this[_0x2592f7(0x260)][_0x2592f7(0x925)]){let _0x13a8b7;_0x9137bb===_0x46b128['GenerativeAIEngineType']['OpenAI']&&(_0x13a8b7=this[_0x2592f7(0x900)][_0x2592f7(0xa86)]),_0x9137bb===_0x46b128[_0x2592f7(0x571)][_0x2592f7(0x68c)]&&(_0x13a8b7=this[_0x2592f7(0x900)]['anthropicApiKey']),_0x9137bb===_0x46b128[_0x2592f7(0x571)][_0x2592f7(0x5c6)]&&(_0x13a8b7=this[_0x2592f7(0x900)][_0x2592f7(0x386)]),_0x9137bb===_0x46b128['GenerativeAIEngineType']['RunwayML']&&(_0x13a8b7=this[_0x2592f7(0x900)][_0x2592f7(0x91f)]),_0x5065d8['push'](new _0x1e3905(_0x13a8b7));}const _0x4a812e=[];for(const [_0x14d93a,_0x3ab84b]of this[_0x2592f7(0x260)][_0x2592f7(0x8eb)]){let _0x95375f;_0x14d93a===_0x46b128['GenerativeAIEngineType'][_0x2592f7(0xa4e)]&&(_0x95375f=this[_0x2592f7(0x900)][_0x2592f7(0xa86)]),_0x14d93a===_0x46b128['GenerativeAIEngineType']['ElevenLabs']&&(_0x95375f=this[_0x2592f7(0x900)][_0x2592f7(0x946)]),_0x4a812e[_0x2592f7(0x5c5)](new _0x3ab84b(_0x95375f));}const _0x57da78=new this[(_0x2592f7(0x260))][(_0x2592f7(0x650))]('crewdle'),_0x3d00a9=new this[(_0x2592f7(0x260))][(_0x2592f7(0x87f))](),_0x491cfe=new this[(_0x2592f7(0x260))][(_0x2592f7(0xad9))](this[_0x2592f7(0x900)]['openaiApiKey']),_0x2155c8=new this[(_0x2592f7(0x260))][(_0x2592f7(0xa3b))]();let _0x617978,_0x49fd3b,_0x4a66f2,_0xfe45cf;if(this[_0x2592f7(0x260)][_0x2592f7(0x904)]){if(!this[_0x2592f7(0x900)][_0x2592f7(0x630)])throw new _0xb4a92c(_0x215585[_0x2592f7(0x524)],_0x2592f7(0x249));_0x617978=new this['options'][(_0x2592f7(0x904))](this[_0x2592f7(0x900)][_0x2592f7(0x630)]);}if(this[_0x2592f7(0x260)][_0x2592f7(0x97)]){if(!this['configs']['aiSearchApiKey'])throw new _0xb4a92c(_0x215585[_0x2592f7(0x524)],_0x2592f7(0x2e8));_0x49fd3b=new this[(_0x2592f7(0x260))]['aiSearchConnector'](this[_0x2592f7(0x900)]['aiSearchApiKey']);}if(this[_0x2592f7(0x260)][_0x2592f7(0x97b)]&&(_0x4a66f2=new this[(_0x2592f7(0x260))]['queryFileConnector']()),this[_0x2592f7(0x260)][_0x2592f7(0x3f6)]){if(!this[_0x2592f7(0x900)][_0x2592f7(0x354)])throw new _0xb4a92c(_0x215585[_0x2592f7(0x524)],_0x2592f7(0x5a9));_0xfe45cf=new Map();for(const [_0x3f63fd,_0x31aa14]of this[_0x2592f7(0x260)][_0x2592f7(0x3f6)])_0xfe45cf['set'](_0x3f63fd,new _0x31aa14(this[_0x2592f7(0x900)][_0x2592f7(0x354)]));}const _0x56e91d=await this['contentManager'][_0x2592f7(0xa60)](_0x542b1c,this['authNode'],_0x5065d8,_0x4a812e,_0x57da78,_0x3d00a9,_0x491cfe,_0x2155c8,_0x617978,_0x49fd3b,_0x4a66f2,_0xfe45cf,this[_0x2592f7(0x900)][_0x2592f7(0xa86)]),_0x3fbbed=this[_0x2592f7(0x393)][_0x2592f7(0x7cf)]();this[_0x2592f7(0x97c)][_0x2592f7(0x1b3)](_0x56e91d,_0x3fbbed),this[_0x2592f7(0x97c)][_0x2592f7(0x57a)](_0x3fbbed,_0x56e91d);const _0x531334=this['nodeManager'][_0x2592f7(0xb8)]();return await _0x56e91d[_0x2592f7(0x7f6)](0x0===_0x531334[_0x2592f7(0x583)]||void 0x0),_0x56e91d;}catch(_0x44d41d){throw this[_0x2592f7(0x6cb)](_0x44d41d,{});}}[_0x47ccb7(0x7fd)](_0x2f20f7){const _0x56ce43=_0x47ccb7;try{if(!this[_0x56ce43(0x260)][_0x56ce43(0x8dc)])throw new _0xb4a92c(_0x215585[_0x56ce43(0xc8)],_0x56ce43(0x525));if(!(this[_0x56ce43(0x6bb)]instanceof _0xc7c5cc))throw new _0xb4a92c(_0x215585[_0x56ce43(0x67c)],_0x56ce43(0x1a9));const _0x45d6ce=this[_0x56ce43(0x733)][_0x56ce43(0x59b)](_0x2f20f7,this[_0x56ce43(0x260)][_0x56ce43(0x8dc)]),_0x1e40e3=this[_0x56ce43(0x393)][_0x56ce43(0x7cf)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x45d6ce,_0x1e40e3),this[_0x56ce43(0x97c)]['createIncomingSubscription'](_0x1e40e3,_0x45d6ce),_0x45d6ce;}catch(_0xf16725){throw this['handleError'](_0xf16725,{});}}['openVectorDatabase'](_0xb11c4e){const _0x5bb15e=_0x47ccb7;try{if(!this[_0x5bb15e(0x260)]['vectorDatabaseConnector'])throw new _0xb4a92c(_0x215585[_0x5bb15e(0x3de)],_0x5bb15e(0x9e9));if(!(this[_0x5bb15e(0x6bb)]instanceof _0xc7c5cc))throw new _0xb4a92c(_0x215585[_0x5bb15e(0x67c)],_0x5bb15e(0x1a9));const _0x255f96=this[_0x5bb15e(0x733)][_0x5bb15e(0x9f)](_0xb11c4e,this['options'][_0x5bb15e(0x150)]),_0x348b78=this[_0x5bb15e(0x393)][_0x5bb15e(0x7cf)]();return this[_0x5bb15e(0x97c)][_0x5bb15e(0x1b3)](_0x255f96,_0x348b78),this['subscriptionManager'][_0x5bb15e(0x57a)](_0x348b78,_0x255f96),_0x255f96;}catch(_0x203781){throw this[_0x5bb15e(0x6cb)](_0x203781,{});}}[_0x47ccb7(0x337)](_0x276ef4){const _0xc2e45b=_0x47ccb7;try{return this[_0xc2e45b(0x733)]['getPubSubTopics'](_0x276ef4);}catch(_0x4c493a){throw this[_0xc2e45b(0x6cb)](_0x4c493a,{});}}[_0x47ccb7(0x871)](_0x1b64b5){const _0x13f9de=_0x47ccb7;try{return this['contentManager'][_0x13f9de(0x871)](_0x1b64b5);}catch(_0xf13c74){throw this[_0x13f9de(0x6cb)](_0xf13c74,{});}}[_0x47ccb7(0x784)](_0x109e65){const _0x231596=_0x47ccb7;try{return this[_0x231596(0x733)][_0x231596(0x784)](_0x109e65);}catch(_0x4336ca){throw this[_0x231596(0x6cb)](_0x4336ca,{});}}[_0x47ccb7(0x3a4)](_0x5e7d99){const _0x47d403=_0x47ccb7;try{return this[_0x47d403(0x733)]['getKeyValueDatabases'](_0x5e7d99);}catch(_0x3709f0){throw this[_0x47d403(0x6cb)](_0x3709f0,{});}}[_0x47ccb7(0x30d)](_0x1353d0){const _0x4abdf9=_0x47ccb7;try{return this['contentManager'][_0x4abdf9(0x30d)](_0x1353d0);}catch(_0x349b8f){throw this[_0x4abdf9(0x6cb)](_0x349b8f,{});}}[_0x47ccb7(0xe5)](_0x286e16){const _0xacba45=_0x47ccb7;try{return this[_0xacba45(0x733)][_0xacba45(0xe5)](_0x286e16);}catch(_0x511cc0){throw this[_0xacba45(0x6cb)](_0x511cc0,{});}}[_0x47ccb7(0x42f)](_0x3c883e){const _0x498e10=_0x47ccb7;try{return this[_0x498e10(0x733)][_0x498e10(0x42f)](_0x3c883e);}catch(_0x356993){throw this[_0x498e10(0x6cb)](_0x356993,{});}}[_0x47ccb7(0x7e3)](_0x49a454){const _0x4d7704=_0x47ccb7;try{return this[_0x4d7704(0x733)]['getGraphDatabases'](_0x49a454);}catch(_0x478785){throw this[_0x4d7704(0x6cb)](_0x478785,{});}}[_0x47ccb7(0x65e)](_0x3ceabf,_0x59db73){const _0x267440=_0x47ccb7;if(!this[_0x267440(0x900)][_0x267440(0x2bd)][_0x267440(0x9d0)](_0x5d772d[_0x267440(0x4a5)]))throw new _0xb4a92c(_0x215585[_0x267440(0xad1)],_0x267440(0x6cd));try{return this[_0x267440(0x733)][_0x267440(0x65e)](_0x3ceabf,_0x59db73);}catch(_0x1dbffa){throw this[_0x267440(0x6cb)](_0x1dbffa,{});}}[_0x47ccb7(0x389)](_0x408d74,_0x14c5ec){const _0x33f30d=_0x47ccb7;if(!this[_0x33f30d(0x900)][_0x33f30d(0x2bd)][_0x33f30d(0x9d0)](_0x5d772d[_0x33f30d(0x4a5)]))throw new _0xb4a92c(_0x215585['FeatureNotEnabled'],_0x33f30d(0x6cd));try{return this[_0x33f30d(0x733)]['createLocalDynamicMediaStream'](_0x408d74,_0x14c5ec);}catch(_0x2d91d3){throw this[_0x33f30d(0x6cb)](_0x2d91d3,{});}}[_0x47ccb7(0x5b4)](_0x1cf8ad){const _0x2d4695=_0x47ccb7;if(!this[_0x2d4695(0x900)][_0x2d4695(0x2bd)][_0x2d4695(0x9d0)](_0x5d772d[_0x2d4695(0x4a5)]))throw new _0xb4a92c(_0x215585[_0x2d4695(0xad1)],_0x2d4695(0x6cd));try{return this[_0x2d4695(0x733)][_0x2d4695(0x5b4)](_0x1cf8ad);}catch(_0x5cbd60){throw this[_0x2d4695(0x6cb)](_0x5cbd60,{});}}[_0x47ccb7(0x6dc)](_0x477415){const _0x11b2d1=_0x47ccb7;if(!this[_0x11b2d1(0x900)]['features'][_0x11b2d1(0x9d0)](_0x5d772d[_0x11b2d1(0x4a5)]))throw new _0xb4a92c(_0x215585[_0x11b2d1(0xad1)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager']['getRemoteMediaStreams'](_0x477415);}catch(_0x56fee7){throw this[_0x11b2d1(0x6cb)](_0x56fee7,{});}}[_0x47ccb7(0x310)](_0x1600f6){const _0x35baa2=_0x47ccb7;try{return this[_0x35baa2(0x733)][_0x35baa2(0x310)](_0x1600f6);}catch(_0x5e350c){throw this[_0x35baa2(0x6cb)](_0x5e350c,{});}}[_0x47ccb7(0x15f)](_0x5b644c,_0x33b7a6){const _0x28b4d5=_0x47ccb7;return this[_0x28b4d5(0x282)][_0x28b4d5(0x15f)](_0x5b644c,_0x33b7a6);}[_0x47ccb7(0x294)](){const _0x1736ee=_0x47ccb7;return this['nodeManager'][_0x1736ee(0x294)]();}['getRemoteNodes'](_0x3dfba5){const _0x1d5883=_0x47ccb7;try{return this[_0x1d5883(0x282)][_0x1d5883(0xb2)](_0x3dfba5);}catch(_0x58ca05){throw this['handleError'](_0x58ca05,{});}}[_0x47ccb7(0x807)](){const _0x547317=_0x47ccb7;return this[_0x547317(0x393)][_0x547317(0x807)]();}[_0x47ccb7(0x70f)](_0x23e544){const _0x849302=_0x47ccb7;return this[_0x849302(0x282)][_0x849302(0x70f)](_0x23e544);}async['handleSystemEvents'](_0xa45325){const _0x375d53=_0x47ccb7;try{if(_0x1a21a7[_0x375d53(0x766)](_0x5300ce['Events'],_0x375d53(0x384),this[_0x375d53(0x282)][_0x375d53(0x539)](),_0xa45325),_0xf234a8(_0xa45325,this[_0x375d53(0x282)][_0x375d53(0x539)]()))return void this[_0x375d53(0x393)][_0x375d53(0x25b)](_0xa45325);switch(_0xa45325[_0x375d53(0x153)]){case _0x11d238['Content']:this[_0x375d53(0xb4)][_0x375d53(0x7ac)](_0xa45325),this[_0x375d53(0x97c)][_0x375d53(0x7ac)](_0xa45325),this[_0x375d53(0x733)]['handleContentSystemEvents'](_0xa45325);break;case _0x11d238[_0x375d53(0x662)]:this[_0x375d53(0x97c)][_0x375d53(0x2d7)](_0xa45325),this['connectionManager'][_0x375d53(0x2d7)](_0xa45325),this['contentManager'][_0x375d53(0x2d7)](_0xa45325),this['nodeManager'][_0x375d53(0x2d7)](_0xa45325);break;case _0x11d238[_0x375d53(0x3b6)]:this[_0x375d53(0x883)][_0x375d53(0x4c8)](_0xa45325);break;case _0x11d238[_0x375d53(0x62c)]:this['remediationManager'][_0x375d53(0x830)](_0xa45325);break;case _0x11d238['Stats']:this[_0x375d53(0x90e)]['handleStatsSystemEvents'](_0xa45325);break;case _0x11d238[_0x375d53(0xad6)]:_0xa45325[_0x375d53(0x3d9)][_0x375d53(0x96)]!==_0x1a992f['UnsubscribeMediaStream']?(this[_0x375d53(0x97c)]['handleSubscriptionSystemEvents'](_0xa45325),this[_0x375d53(0x733)][_0x375d53(0x3ea)](_0xa45325)):(this[_0x375d53(0x733)]['handleSubscriptionSystemEvents'](_0xa45325),this[_0x375d53(0x97c)][_0x375d53(0x3ea)](_0xa45325));break;case _0x11d238[_0x375d53(0x7bf)]:await this[_0x375d53(0x393)][_0x375d53(0xde)](_0xa45325),this['statsManager'][_0x375d53(0xde)](_0xa45325),this[_0x375d53(0x282)][_0x375d53(0xde)](_0xa45325),this[_0x375d53(0x97c)][_0x375d53(0xde)](_0xa45325);}}catch(_0x57943c){throw _0x1a21a7[_0x375d53(0x222)](_0x375d53(0x679),_0x57943c),this[_0x375d53(0x6cb)](_0x57943c,{});}}['handleError'](_0x279dc9,_0x356b78){const _0x12937b=_0x47ccb7;if(!(_0x279dc9 instanceof _0x5681b5)){if(_0x279dc9 instanceof _0xb4a92c)throw _0x279dc9;if(!(_0x279dc9 instanceof Error))throw new _0xb4a92c(_0x215585[_0x12937b(0x755)],_0x12937b(0x2bb)+_0x279dc9);if(!(_0x279dc9 instanceof _0x20e318))throw new _0xb4a92c(_0x215585[_0x12937b(0x755)],_0x12937b(0x587)+_0x279dc9[_0x12937b(0xa3f)]);switch(_0x279dc9['code']){case _0x20e318['codes'][_0x12937b(0x5a0)]:case _0x20e318[_0x12937b(0x6f4)][_0x12937b(0x56d)]:case _0x20e318[_0x12937b(0x6f4)][_0x12937b(0x9cc)]:case _0x20e318[_0x12937b(0x6f4)][_0x12937b(0x4ce)]:case _0x20e318[_0x12937b(0x6f4)][_0x12937b(0x2d6)]:case _0x20e318['codes'][_0x12937b(0xabc)]:case _0x20e318['codes']['InvalidPublisher']:case _0x20e318['codes']['InvalidSubscriber']:case _0x20e318[_0x12937b(0x6f4)][_0x12937b(0x5d0)]:case _0x20e318[_0x12937b(0x6f4)][_0x12937b(0x8d4)]:case _0x20e318[_0x12937b(0x6f4)]['SubscriptionRequestNoAnswer']:case _0x20e318[_0x12937b(0x6f4)][_0x12937b(0x7a2)]:}throw _0x1a21a7[_0x12937b(0xa14)](_0x12937b(0x873)+_0x279dc9['message'],{'clusterId':this['clusterId'],'nodeId':this[_0x12937b(0x987)][_0x12937b(0x932)](),'nodeType':this[_0x12937b(0x987)][_0x12937b(0x96)]},_0x279dc9),new _0xb4a92c(_0x215585[_0x12937b(0x755)],'Internal\x20SDK\x20error:\x20'+_0x279dc9[_0x12937b(0xa3f)]);}}[_0x47ccb7(0xa37)](){const _0x1a0949=_0x47ccb7;return{'mediator':this,'vendorId':this[_0x1a0949(0x111)],'clusterId':this[_0x1a0949(0x8b5)],'localNode':this[_0x1a0949(0x987)]};}[_0x47ccb7(0x66a)](){return this['systemTopic']['subscribe'](_0x42fbae=>{const _0x324821=a0_0x17d3,_0x3d40e8=_0x737853(_0x42fbae,this[_0x324821(0x987)][_0x324821(0x932)]()),_0x548520=_0x42fbae[_0x324821(0x153)]===_0x11d238['Stats']||_0x42fbae[_0x324821(0x153)]===_0x11d238[_0x324821(0x7bf)]&&_0x42fbae[_0x324821(0x3d9)][_0x324821(0x96)]===_0x2cbfba[_0x324821(0xab4)]?_0x5300ce[_0x324821(0x2e2)]:_0x5300ce[_0x324821(0x647)];_0x1a21a7[_0x324821(0x491)](_0x548520,_0x42fbae[_0x324821(0x87a)]+'\x20-\x20'+_0x3d40e8,_0x42fbae),this[_0x324821(0x679)](_0x42fbae)[_0x324821(0x1ae)](_0x5a714d=>{const _0x1b284c=_0x324821;console[_0x1b284c(0xa14)](_0x5a714d);});});}async['syncKeyValueDatabase'](_0x85b815){const _0xb02799=_0x47ccb7,{timingLogger:_0x2a989e,logger:_0xfb8ddc,logBeforeSync:_0x74cd3e,logAfterSync:_0x55d744}=function(_0x114298,_0x46eb7c){const _0x45e453=a0_0x17d3;if(!_0x1a21a7['isChannelEnabled'](_0x46eb7c))return _0x1a21a7[_0x45e453(0x222)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x46eb7c),{..._0x2225eb(_0x114298,_0x46eb7c),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x34d071,logger:_0x12c301}=_0x2225eb(_0x114298,_0x46eb7c);let _0x2b7173=0x0;return _0x2b7173=Date['now'](),{'syncStartTime':_0x2b7173,'timingLogger':_0x34d071,'logger':_0x12c301,'logBeforeSync':()=>(_0x3d4024(_0x46eb7c,_0x45e453(0x5be)),_0x34d071['now']()),'logAfterSync':(_0x5e2c85,_0x42e7e9)=>{const _0x4ccc53=_0x45e453,_0x319d0a=Date[_0x4ccc53(0x31e)]();_0x3d4024(_0x46eb7c,_0x4ccc53(0x265)+_0x42e7e9);const _0x1589a9=(_0x319d0a-_0x2b7173)/0x3e8,_0x496585=(_0x319d0a-_0x5e2c85)/0x3e8;_0x1a21a7[_0x4ccc53(0x766)](_0x46eb7c,_0x4ccc53(0x821),_0x114298,_0x4ccc53(0x9e6)+_0x1589a9['toFixed'](0x2)+_0x4ccc53(0x671),'\x0a\x20===\x20Wait\x20Time:\x20'+_0x496585[_0x4ccc53(0xa25)](0x3)+'\x20seconds','\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x319d0a-_0x2b7173)/0x3e8-_0x496585)[_0x4ccc53(0xa25)](0x2)+'\x20seconds');}};}(_0x85b815[_0xb02799(0x409)](),_0x5300ce[_0xb02799(0x9af)]);_0xfb8ddc['log'](_0xb02799(0x621));const _0x7b1051=this[_0xb02799(0x282)]['getAncestorIds']()['length']>0x0;if(_0x7b1051){_0xfb8ddc[_0xb02799(0x766)](_0xb02799(0x4b8),()=>this[_0xb02799(0x282)][_0xb02799(0xb8)]()),_0x2a989e[_0xb02799(0x26c)](),await Promise[_0xb02799(0x87)](this[_0xb02799(0x282)][_0xb02799(0xb8)]()[_0xb02799(0x437)](async _0x5cc4fe=>await this[_0xb02799(0x282)]['isNodeReady'](_0x5cc4fe)))['catch'](_0x2fac97=>_0x1a21a7['warning']('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.',{'nodeId':this['localNode'][_0xb02799(0x932)](),'nodeType':this[_0xb02799(0x987)][_0xb02799(0x96)]}));const _0x285736=_0xfb8ddc['performCalculation'](()=>this['nodeManager'][_0xb02799(0xb8)](),[]);_0x2a989e[_0xb02799(0x408)](_0xb02799(0x194)+_0x285736+'\x20were\x20ready\x20in');}_0x55d744(_0x74cd3e(),await _0x85b815[_0xb02799(0xa0)](_0x7b1051,async()=>{const _0x5ecb7c=_0xb02799;_0x2a989e['start'](),await this[_0x5ecb7c(0x282)][_0x5ecb7c(0x4d2)](),_0x2a989e['logWaitTime'](_0x5ecb7c(0x1fa)),_0x85b815[_0x5ecb7c(0xa0)](!0x0,()=>{const _0x203ecb=_0x5ecb7c;_0xfb8ddc['log'](_0x203ecb(0x214)),_0x85b815[_0x203ecb(0xa0)](!0x1);},!0x0);}));}}class _0x159f9d{['vendorId'];[_0x47ccb7(0x8b5)];[_0x47ccb7(0x6bb)];[_0x47ccb7(0x349)];[_0x47ccb7(0x259)];constructor(_0x16452a,_0x55f020,_0x1e25f1,_0x41ed6f,_0x4206e4,_0x407d9e,_0x14e751=new _0x1da35a()){const _0x4c6bf8=_0x47ccb7;this[_0x4c6bf8(0x111)]=_0x16452a,this[_0x4c6bf8(0x8b5)]=_0x55f020,this['authNode']=_0x1e25f1,this[_0x4c6bf8(0x349)]=_0x14e751,this[_0x4c6bf8(0x259)]=new _0x2d60f7(this[_0x4c6bf8(0x111)],this[_0x4c6bf8(0x8b5)],_0x1e25f1,_0x41ed6f,_0x4206e4,_0x407d9e,this);}async['join'](){const _0x56b7a6=_0x47ccb7;await this[_0x56b7a6(0x259)][_0x56b7a6(0x2e1)](),this[_0x56b7a6(0x6bb)][_0x56b7a6(0x96)]===_0x46b128[_0x56b7a6(0x177)][_0x56b7a6(0x40e)]&&this[_0x56b7a6(0x6bb)][_0x56b7a6(0x5f7)](this[_0x56b7a6(0x8b5)],_0x286ef1=>{const _0x3cf9d5=_0x56b7a6;this['orchestrator'][_0x3cf9d5(0x3d5)](_0x286ef1);});}[_0x47ccb7(0x6e9)](_0x1616dd={}){const _0x10c20d=_0x47ccb7;this[_0x10c20d(0x259)]['close'](_0x1616dd),this[_0x10c20d(0x6bb)][_0x10c20d(0x96)]===_0x46b128[_0x10c20d(0x177)][_0x10c20d(0x40e)]&&this['authNode'][_0x10c20d(0x599)](this[_0x10c20d(0x8b5)]),this[_0x10c20d(0x6f9)]('cluster-leave',void 0x0);}[_0x47ccb7(0x208)](_0x3261b4){const _0x1b24d6=_0x47ccb7,_0x24836d=this[_0x1b24d6(0x259)][_0x1b24d6(0x208)](_0x3261b4);return{'getName':_0x24836d[_0x1b24d6(0xa6a)][_0x1b24d6(0x62e)](_0x24836d),'getOwnerId':_0x24836d[_0x1b24d6(0x29c)][_0x1b24d6(0x62e)](_0x24836d),'getContentType':_0x24836d[_0x1b24d6(0x9a2)][_0x1b24d6(0x62e)](_0x24836d),'publish':_0x24836d[_0x1b24d6(0x19c)][_0x1b24d6(0x62e)](_0x24836d),'subscribe':_0x24836d[_0x1b24d6(0x9b4)][_0x1b24d6(0x62e)](_0x24836d),'unsubscribe':_0x24836d[_0x1b24d6(0x6c7)][_0x1b24d6(0x62e)](_0x24836d),'close':_0x24836d[_0x1b24d6(0x3a0)][_0x1b24d6(0x62e)](_0x24836d)};}async[_0x47ccb7(0x206)](_0x1a96d8,_0x5cf916){const _0x36d4f8=_0x47ccb7,_0x4bf421=await this['orchestrator'][_0x36d4f8(0x206)](_0x1a96d8,_0x5cf916);return{'getName':_0x4bf421[_0x36d4f8(0xa6a)][_0x36d4f8(0x62e)](_0x4bf421),'getOwnerId':_0x4bf421[_0x36d4f8(0x29c)][_0x36d4f8(0x62e)](_0x4bf421),'getContentType':_0x4bf421[_0x36d4f8(0x9a2)][_0x36d4f8(0x62e)](_0x4bf421),'publish':_0x4bf421[_0x36d4f8(0x19c)][_0x36d4f8(0x62e)](_0x4bf421),'unpublish':_0x4bf421[_0x36d4f8(0x6c3)]['bind'](_0x4bf421),'get':_0x4bf421[_0x36d4f8(0x4ab)][_0x36d4f8(0x62e)](_0x4bf421),'list':_0x4bf421[_0x36d4f8(0x296)][_0x36d4f8(0x62e)](_0x4bf421),'getSize':_0x4bf421[_0x36d4f8(0x392)]['bind'](_0x4bf421),'subscribe':_0x4bf421[_0x36d4f8(0x9b4)][_0x36d4f8(0x62e)](_0x4bf421),'unsubscribe':_0x4bf421['unsubscribe'][_0x36d4f8(0x62e)](_0x4bf421),'close':_0x4bf421['close']['bind'](_0x4bf421)};}async['openExternalStorageConnection'](_0x121a72,_0x3bc7f2){const _0x56dc73=_0x47ccb7,_0xcf7b3e=await this[_0x56dc73(0x259)][_0x56dc73(0x7d6)](_0x121a72,_0x3bc7f2);return{'getName':_0xcf7b3e[_0x56dc73(0xa6a)]['bind'](_0xcf7b3e),'getOwnerId':_0xcf7b3e[_0x56dc73(0x29c)][_0x56dc73(0x62e)](_0xcf7b3e),'getContentType':_0xcf7b3e[_0x56dc73(0x9a2)][_0x56dc73(0x62e)](_0xcf7b3e),'close':_0xcf7b3e['close'][_0x56dc73(0x62e)](_0xcf7b3e),'get':_0xcf7b3e['get'][_0x56dc73(0x62e)](_0xcf7b3e),'list':_0xcf7b3e[_0x56dc73(0x296)][_0x56dc73(0x62e)](_0xcf7b3e),'subscribe':_0xcf7b3e[_0x56dc73(0x9b4)][_0x56dc73(0x62e)](_0xcf7b3e),'unsubscribe':_0xcf7b3e['unsubscribe'][_0x56dc73(0x62e)](_0xcf7b3e)};}async['openKeyValueDatabase'](_0x5794a1,_0x59e45a,_0x5781f7){const _0x596431=_0x47ccb7,_0x575779=await this[_0x596431(0x259)][_0x596431(0x2a3)](_0x5794a1,_0x59e45a,_0x5781f7);return{'getName':_0x575779['getName']['bind'](_0x575779),'getOwnerId':_0x575779['getOwnerId'][_0x596431(0x62e)](_0x575779),'getContentType':_0x575779[_0x596431(0x9a2)]['bind'](_0x575779),'getTable':_0x575779[_0x596431(0x5e1)]['bind'](_0x575779),'subscribe':_0x575779[_0x596431(0x9b4)][_0x596431(0x62e)](_0x575779),'unsubscribe':_0x575779[_0x596431(0x6c7)][_0x596431(0x62e)](_0x575779),'close':_0x575779[_0x596431(0x3a0)]['bind'](_0x575779)};}async['openJobDispatcher'](_0x5b3485){const _0x1a9694=_0x47ccb7,_0x6d5d8b=await this[_0x1a9694(0x259)]['openJobDispatcher'](_0x5b3485);return{'getName':_0x6d5d8b['getName'][_0x1a9694(0x62e)](_0x6d5d8b),'getOwnerId':_0x6d5d8b[_0x1a9694(0x29c)][_0x1a9694(0x62e)](_0x6d5d8b),'getContentType':_0x6d5d8b[_0x1a9694(0x9a2)][_0x1a9694(0x62e)](_0x6d5d8b),'createJob':_0x6d5d8b[_0x1a9694(0x5e3)][_0x1a9694(0x62e)](_0x6d5d8b),'getJob':_0x6d5d8b[_0x1a9694(0x887)][_0x1a9694(0x62e)](_0x6d5d8b),'getJobs':_0x6d5d8b['getJobs'][_0x1a9694(0x62e)](_0x6d5d8b),'close':_0x6d5d8b[_0x1a9694(0x3a0)]['bind'](_0x6d5d8b)};}async[_0x47ccb7(0x299)](_0x7c2f36){const _0x162286=_0x47ccb7,_0x35a32a=await this[_0x162286(0x259)]['openJobWorker'](_0x7c2f36);return{'close':_0x35a32a['close'][_0x162286(0x62e)](_0x35a32a)};}async[_0x47ccb7(0x81d)](_0x126bf3){const _0x1c9ce4=_0x47ccb7,_0x23d4d2=await this[_0x1c9ce4(0x259)][_0x1c9ce4(0x81d)](_0x126bf3);return{'createAIJob':_0x23d4d2[_0x1c9ce4(0x441)][_0x1c9ce4(0x62e)](_0x23d4d2),'getDataBucketIds':_0x23d4d2[_0x1c9ce4(0x330)][_0x1c9ce4(0x62e)](_0x23d4d2),'close':_0x23d4d2[_0x1c9ce4(0x3a0)][_0x1c9ce4(0x62e)](_0x23d4d2)};}async[_0x47ccb7(0x83)](_0x7c6c81){const _0x5519c7=_0x47ccb7,_0x346f4f=await this[_0x5519c7(0x259)][_0x5519c7(0x83)](_0x7c6c81);return{'createAIJob':_0x346f4f[_0x5519c7(0x441)][_0x5519c7(0x62e)](_0x346f4f),'getDataBucketIds':_0x346f4f[_0x5519c7(0x330)][_0x5519c7(0x62e)](_0x346f4f),'close':_0x346f4f[_0x5519c7(0x3a0)][_0x5519c7(0x62e)](_0x346f4f)};}async[_0x47ccb7(0xd4)](_0x3e66d2){const _0x23c083=_0x47ccb7,_0x4c424a=await this[_0x23c083(0x259)][_0x23c083(0xd4)](_0x3e66d2);return{'close':_0x4c424a[_0x23c083(0x3a0)][_0x23c083(0x62e)](_0x4c424a)};}[_0x47ccb7(0x7fd)](_0x5a4151){const _0x4314a9=_0x47ccb7,_0x2ac70c=this[_0x4314a9(0x259)][_0x4314a9(0x7fd)](_0x5a4151);return{'getName':_0x2ac70c[_0x4314a9(0xa6a)][_0x4314a9(0x62e)](_0x2ac70c),'getOwnerId':_0x2ac70c[_0x4314a9(0x29c)]['bind'](_0x2ac70c),'getContentType':_0x2ac70c['getContentType'][_0x4314a9(0x62e)](_0x2ac70c),'addNode':_0x2ac70c[_0x4314a9(0x165)]['bind'](_0x2ac70c),'addEdge':_0x2ac70c[_0x4314a9(0x64d)][_0x4314a9(0x62e)](_0x2ac70c),'getContent':_0x2ac70c[_0x4314a9(0x42a)]['bind'](_0x2ac70c),'remove':_0x2ac70c[_0x4314a9(0x607)][_0x4314a9(0x62e)](_0x2ac70c),'saveToDisk':_0x2ac70c['saveToDisk'][_0x4314a9(0x62e)](_0x2ac70c),'loadFromDisk':_0x2ac70c['loadFromDisk'][_0x4314a9(0x62e)](_0x2ac70c),'close':_0x2ac70c[_0x4314a9(0x3a0)]['bind'](_0x2ac70c)};}[_0x47ccb7(0x6d9)](_0x5d2997){const _0x39fb69=_0x47ccb7,_0x9d624c=this[_0x39fb69(0x259)][_0x39fb69(0x6d9)](_0x5d2997);return{'getName':_0x9d624c[_0x39fb69(0xa6a)]['bind'](_0x9d624c),'getOwnerId':_0x9d624c['getOwnerId'][_0x39fb69(0x62e)](_0x9d624c),'getContentType':_0x9d624c['getContentType'][_0x39fb69(0x62e)](_0x9d624c),'search':_0x9d624c['search'][_0x39fb69(0x62e)](_0x9d624c),'insert':_0x9d624c[_0x39fb69(0x17a)][_0x39fb69(0x62e)](_0x9d624c),'remove':_0x9d624c[_0x39fb69(0x607)]['bind'](_0x9d624c),'saveToDisk':_0x9d624c[_0x39fb69(0x3e8)][_0x39fb69(0x62e)](_0x9d624c),'loadFromDisk':_0x9d624c[_0x39fb69(0x86f)]['bind'](_0x9d624c),'close':_0x9d624c[_0x39fb69(0x3a0)][_0x39fb69(0x62e)](_0x9d624c)};}[_0x47ccb7(0x337)](_0x127dba){const _0x4adb59=_0x47ccb7;return this[_0x4adb59(0x259)][_0x4adb59(0x337)](_0x127dba)[_0x4adb59(0x437)](_0xaa9800=>({'getName':_0xaa9800['getName'][_0x4adb59(0x62e)](_0xaa9800),'getOwnerId':_0xaa9800[_0x4adb59(0x29c)][_0x4adb59(0x62e)](_0xaa9800),'getContentType':_0xaa9800[_0x4adb59(0x9a2)][_0x4adb59(0x62e)](_0xaa9800),'publish':_0xaa9800[_0x4adb59(0x19c)]['bind'](_0xaa9800),'subscribe':_0xaa9800[_0x4adb59(0x9b4)][_0x4adb59(0x62e)](_0xaa9800),'unsubscribe':_0xaa9800[_0x4adb59(0x6c7)][_0x4adb59(0x62e)](_0xaa9800),'close':_0xaa9800[_0x4adb59(0x3a0)][_0x4adb59(0x62e)](_0xaa9800)}));}[_0x47ccb7(0x871)](_0x1a6009){const _0x2f8b6c=_0x47ccb7;return this[_0x2f8b6c(0x259)][_0x2f8b6c(0x871)](_0x1a6009)['map'](_0x1563ca=>({'getName':_0x1563ca['getName'][_0x2f8b6c(0x62e)](_0x1563ca),'getOwnerId':_0x1563ca[_0x2f8b6c(0x29c)][_0x2f8b6c(0x62e)](_0x1563ca),'getContentType':_0x1563ca[_0x2f8b6c(0x9a2)][_0x2f8b6c(0x62e)](_0x1563ca),'publish':_0x1563ca[_0x2f8b6c(0x19c)][_0x2f8b6c(0x62e)](_0x1563ca),'unpublish':_0x1563ca['unpublish'][_0x2f8b6c(0x62e)](_0x1563ca),'get':_0x1563ca[_0x2f8b6c(0x4ab)]['bind'](_0x1563ca),'list':_0x1563ca[_0x2f8b6c(0x296)][_0x2f8b6c(0x62e)](_0x1563ca),'getSize':_0x1563ca[_0x2f8b6c(0x392)][_0x2f8b6c(0x62e)](_0x1563ca),'subscribe':_0x1563ca[_0x2f8b6c(0x9b4)][_0x2f8b6c(0x62e)](_0x1563ca),'unsubscribe':_0x1563ca[_0x2f8b6c(0x6c7)][_0x2f8b6c(0x62e)](_0x1563ca),'close':_0x1563ca[_0x2f8b6c(0x3a0)][_0x2f8b6c(0x62e)](_0x1563ca)}));}[_0x47ccb7(0x784)](_0x289b3c){const _0x4cccfe=_0x47ccb7;return this[_0x4cccfe(0x259)]['getExternalStorageConnections'](_0x289b3c)[_0x4cccfe(0x437)](_0x3470c6=>({'getName':_0x3470c6['getName']['bind'](_0x3470c6),'getOwnerId':_0x3470c6['getOwnerId']['bind'](_0x3470c6),'getContentType':_0x3470c6[_0x4cccfe(0x9a2)]['bind'](_0x3470c6),'close':_0x3470c6[_0x4cccfe(0x3a0)][_0x4cccfe(0x62e)](_0x3470c6),'get':_0x3470c6[_0x4cccfe(0x4ab)][_0x4cccfe(0x62e)](_0x3470c6),'list':_0x3470c6[_0x4cccfe(0x296)][_0x4cccfe(0x62e)](_0x3470c6),'subscribe':_0x3470c6[_0x4cccfe(0x9b4)][_0x4cccfe(0x62e)](_0x3470c6),'unsubscribe':_0x3470c6[_0x4cccfe(0x6c7)][_0x4cccfe(0x62e)](_0x3470c6)}));}[_0x47ccb7(0x3a4)](_0x5636a3){const _0x25bc1a=_0x47ccb7;return this['orchestrator']['getKeyValueDatabases'](_0x5636a3)['map'](_0x40057a=>({'getName':_0x40057a[_0x25bc1a(0xa6a)][_0x25bc1a(0x62e)](_0x40057a),'getOwnerId':_0x40057a['getOwnerId']['bind'](_0x40057a),'getContentType':_0x40057a[_0x25bc1a(0x9a2)][_0x25bc1a(0x62e)](_0x40057a),'getTable':_0x40057a[_0x25bc1a(0x5e1)][_0x25bc1a(0x62e)](_0x40057a),'subscribe':_0x40057a[_0x25bc1a(0x9b4)][_0x25bc1a(0x62e)](_0x40057a),'unsubscribe':_0x40057a[_0x25bc1a(0x6c7)][_0x25bc1a(0x62e)](_0x40057a),'close':_0x40057a[_0x25bc1a(0x3a0)][_0x25bc1a(0x62e)](_0x40057a)}));}[_0x47ccb7(0x30d)](_0x2bbf47){const _0x3654e6=_0x47ccb7;return this[_0x3654e6(0x259)][_0x3654e6(0x30d)](_0x2bbf47)['map'](_0x3b7f5f=>({'createAIJob':_0x3b7f5f[_0x3654e6(0x441)]['bind'](_0x3b7f5f),'getDataBucketIds':_0x3b7f5f[_0x3654e6(0x330)][_0x3654e6(0x62e)](_0x3b7f5f),'close':_0x3b7f5f[_0x3654e6(0x3a0)][_0x3654e6(0x62e)](_0x3b7f5f)}));}[_0x47ccb7(0xe5)](_0x5acf81){const _0x130943=_0x47ccb7;return this['orchestrator'][_0x130943(0xe5)](_0x5acf81)[_0x130943(0x437)](_0x12f4b5=>({'createAIJob':_0x12f4b5[_0x130943(0x441)]['bind'](_0x12f4b5),'getDataBucketIds':_0x12f4b5[_0x130943(0x330)]['bind'](_0x12f4b5),'close':_0x12f4b5[_0x130943(0x3a0)][_0x130943(0x62e)](_0x12f4b5)}));}[_0x47ccb7(0x42f)](_0x2a8fc2){const _0x2d7b75=_0x47ccb7;return this[_0x2d7b75(0x259)][_0x2d7b75(0x42f)](_0x2a8fc2)[_0x2d7b75(0x437)](_0x3df85c=>({'close':_0x3df85c['close'][_0x2d7b75(0x62e)](_0x3df85c)}));}[_0x47ccb7(0x55c)](_0x15ac9c,_0x13d61a){const _0x22b990=_0x47ccb7,_0x5429c5=this[_0x22b990(0x259)][_0x22b990(0x65e)](_0x15ac9c,_0x13d61a);return{'getLabel':_0x5429c5['getLabel'][_0x22b990(0x62e)](_0x5429c5),'getOwnerId':_0x5429c5['getOwnerId'][_0x22b990(0x62e)](_0x5429c5),'getContentType':_0x5429c5['getContentType'][_0x22b990(0x62e)](_0x5429c5),'getMediaStream':_0x5429c5['getMediaStream'][_0x22b990(0x62e)](_0x5429c5),'setPriority':_0x5429c5['setPriority']['bind'](_0x5429c5),'unpublish':_0x5429c5[_0x22b990(0x6c3)][_0x22b990(0x62e)](_0x5429c5)};}[_0x47ccb7(0x320)](_0xee7ba5,_0x262e92){const _0xe3ae36=_0x47ccb7,_0x1cc0c8=this[_0xe3ae36(0x259)][_0xe3ae36(0x389)](_0xee7ba5,_0x262e92);return{'getLabel':_0x1cc0c8[_0xe3ae36(0x409)][_0xe3ae36(0x62e)](_0x1cc0c8),'getOwnerId':_0x1cc0c8[_0xe3ae36(0x29c)]['bind'](_0x1cc0c8),'getContentType':_0x1cc0c8[_0xe3ae36(0x9a2)][_0xe3ae36(0x62e)](_0x1cc0c8),'setPriority':_0x1cc0c8['setPriority']['bind'](_0x1cc0c8),'unpublish':_0x1cc0c8['unpublish'][_0xe3ae36(0x62e)](_0x1cc0c8),'getMediaStream':_0x1cc0c8[_0xe3ae36(0x2f8)]['bind'](_0x1cc0c8),'addTrack':_0x1cc0c8['addTrack']['bind'](_0x1cc0c8),'removeTrack':_0x1cc0c8[_0xe3ae36(0x897)][_0xe3ae36(0x62e)](_0x1cc0c8),'replaceTrack':_0x1cc0c8['replaceTrack'][_0xe3ae36(0x62e)](_0x1cc0c8),'setTransformations':_0x1cc0c8[_0xe3ae36(0xa1e)][_0xe3ae36(0x62e)](_0x1cc0c8)};}[_0x47ccb7(0x5b4)](_0x282c32){const _0x9888d7=_0x47ccb7;return this[_0x9888d7(0x259)][_0x9888d7(0x5b4)](_0x282c32)['map'](_0x494b88=>({'getLabel':_0x494b88['getLabel'][_0x9888d7(0x62e)](_0x494b88),'getOwnerId':_0x494b88[_0x9888d7(0x29c)][_0x9888d7(0x62e)](_0x494b88),'getContentType':_0x494b88[_0x9888d7(0x9a2)]['bind'](_0x494b88),'getMediaStream':_0x494b88['getMediaStream'][_0x9888d7(0x62e)](_0x494b88),'setPriority':_0x494b88[_0x9888d7(0x6c2)][_0x9888d7(0x62e)](_0x494b88),'unpublish':_0x494b88['unpublish']['bind'](_0x494b88)}));}[_0x47ccb7(0x6dc)](_0x28d2e5){const _0x2209bc=_0x47ccb7;return this[_0x2209bc(0x259)][_0x2209bc(0x6dc)](_0x28d2e5)[_0x2209bc(0x437)](_0x684bd6=>({'getLabel':_0x684bd6[_0x2209bc(0x409)][_0x2209bc(0x62e)](_0x684bd6),'getOwnerId':_0x684bd6[_0x2209bc(0x29c)][_0x2209bc(0x62e)](_0x684bd6),'getContentType':_0x684bd6[_0x2209bc(0x9a2)]['bind'](_0x684bd6),'getMediaStream':_0x684bd6['getMediaStream']['bind'](_0x684bd6),'subscribe':_0x684bd6['subscribe'][_0x2209bc(0x62e)](_0x684bd6),'unsubscribe':_0x684bd6[_0x2209bc(0x6c7)][_0x2209bc(0x62e)](_0x684bd6),'getAvailableTrackKinds':_0x684bd6[_0x2209bc(0x865)][_0x2209bc(0x62e)](_0x684bd6),'update':_0x684bd6['update'][_0x2209bc(0x62e)](_0x684bd6),'onProviderChange':_0x684bd6['onProviderChange'][_0x2209bc(0x62e)](_0x684bd6)}));}[_0x47ccb7(0x7e3)](_0x3fb119){const _0xd84aed=_0x47ccb7;return this[_0xd84aed(0x259)][_0xd84aed(0x7e3)](_0x3fb119)['map'](_0x1b38e4=>({'getName':_0x1b38e4['getName'][_0xd84aed(0x62e)](_0x1b38e4),'getOwnerId':_0x1b38e4[_0xd84aed(0x29c)][_0xd84aed(0x62e)](_0x1b38e4),'getContentType':_0x1b38e4['getContentType'][_0xd84aed(0x62e)](_0x1b38e4),'addNode':_0x1b38e4[_0xd84aed(0x165)][_0xd84aed(0x62e)](_0x1b38e4),'addEdge':_0x1b38e4[_0xd84aed(0x64d)][_0xd84aed(0x62e)](_0x1b38e4),'getContent':_0x1b38e4['getContent'][_0xd84aed(0x62e)](_0x1b38e4),'remove':_0x1b38e4[_0xd84aed(0x607)][_0xd84aed(0x62e)](_0x1b38e4),'saveToDisk':_0x1b38e4[_0xd84aed(0x3e8)][_0xd84aed(0x62e)](_0x1b38e4),'loadFromDisk':_0x1b38e4['loadFromDisk']['bind'](_0x1b38e4),'close':_0x1b38e4[_0xd84aed(0x3a0)]['bind'](_0x1b38e4)}));}[_0x47ccb7(0x310)](_0x27b440){const _0x31f130=_0x47ccb7;return this[_0x31f130(0x259)][_0x31f130(0x310)](_0x27b440)[_0x31f130(0x437)](_0x30e53e=>({'getName':_0x30e53e['getName']['bind'](_0x30e53e),'getOwnerId':_0x30e53e['getOwnerId'][_0x31f130(0x62e)](_0x30e53e),'getContentType':_0x30e53e[_0x31f130(0x9a2)]['bind'](_0x30e53e),'search':_0x30e53e[_0x31f130(0x1dc)][_0x31f130(0x62e)](_0x30e53e),'insert':_0x30e53e[_0x31f130(0x17a)][_0x31f130(0x62e)](_0x30e53e),'remove':_0x30e53e[_0x31f130(0x607)][_0x31f130(0x62e)](_0x30e53e),'saveToDisk':_0x30e53e[_0x31f130(0x3e8)][_0x31f130(0x62e)](_0x30e53e),'loadFromDisk':_0x30e53e[_0x31f130(0x86f)][_0x31f130(0x62e)](_0x30e53e),'close':_0x30e53e[_0x31f130(0x3a0)][_0x31f130(0x62e)](_0x30e53e)}));}[_0x47ccb7(0x294)](){const _0x183751=_0x47ccb7,_0x245aa7=this[_0x183751(0x259)][_0x183751(0x294)]();switch(_0x245aa7[_0x183751(0x96)]){case _0x46b128[_0x183751(0x177)][_0x183751(0x40e)]:return{'type':_0x46b128[_0x183751(0x177)][_0x183751(0x40e)],'getId':_0x245aa7[_0x183751(0x932)]['bind'](_0x245aa7),'getDisplayName':_0x245aa7['getDisplayName']['bind'](_0x245aa7),'getEmail':_0x245aa7['getEmail']['bind'](_0x245aa7),'getRemoteConnections':_0x245aa7[_0x183751(0x83c)][_0x183751(0x62e)](_0x245aa7),'setDisplayName':_0x245aa7[_0x183751(0x975)]['bind'](_0x245aa7),'setEmail':_0x245aa7[_0x183751(0x121)][_0x183751(0x62e)](_0x245aa7)};case _0x46b128[_0x183751(0x177)]['Agent']:default:return{'type':_0x46b128[_0x183751(0x177)][_0x183751(0x856)],'getId':_0x245aa7['getId']['bind'](_0x245aa7),'getRemoteConnections':_0x245aa7[_0x183751(0x83c)][_0x183751(0x62e)](_0x245aa7)};}}['getRemoteNodes'](_0x5238c0){const _0x355113=_0x47ccb7;return this[_0x355113(0x259)][_0x355113(0xb2)](_0x5238c0)['map'](_0x4dd349=>{const _0x14558d=_0x355113;switch(_0x4dd349[_0x14558d(0x96)]){case _0x46b128[_0x14558d(0x177)][_0x14558d(0x40e)]:return{'type':_0x46b128[_0x14558d(0x177)][_0x14558d(0x40e)],'getId':_0x4dd349[_0x14558d(0x932)]['bind'](_0x4dd349),'getDisplayName':_0x4dd349['getDisplayName']['bind'](_0x4dd349),'getEmail':_0x4dd349[_0x14558d(0x853)][_0x14558d(0x62e)](_0x4dd349),'getRemoteConnections':_0x4dd349[_0x14558d(0x83c)]['bind'](_0x4dd349)};case _0x46b128[_0x14558d(0x177)][_0x14558d(0x856)]:return{'type':_0x46b128[_0x14558d(0x177)]['Agent'],'getId':_0x4dd349[_0x14558d(0x932)][_0x14558d(0x62e)](_0x4dd349),'getRemoteConnections':_0x4dd349[_0x14558d(0x83c)][_0x14558d(0x62e)](_0x4dd349)};default:throw new _0xb4a92c(_0x215585['NodeInvalidType'],_0x14558d(0x4be));}});}['on']=(..._0x492abb)=>{const _0xd8d90d=_0x47ccb7;this[_0xd8d90d(0x349)]['on'](..._0x492abb);};['emit']=(..._0x423359)=>this[_0x47ccb7(0x349)]['emit'](..._0x423359);[_0x47ccb7(0x100)](..._0x2c29f8){const _0x2f3ccd=_0x47ccb7;this[_0x2f3ccd(0x349)][_0x2f3ccd(0x100)](..._0x2c29f8);}}class _0x8c1b04{['id'];[_0x47ccb7(0x828)];[_0x47ccb7(0xa1)];['type']=_0x46b128['NodeType'][_0x47ccb7(0x40e)];['joinedClusters']=new Map();[_0x47ccb7(0x82)]=_0x4aa13e();constructor(_0xe0d046,_0x532116,_0x2acab2){const _0x9777d1=_0x47ccb7;this['id']=_0xe0d046,this[_0x9777d1(0x828)]=_0x532116,this[_0x9777d1(0xa1)]=_0x2acab2;}[_0x47ccb7(0x932)](){return this['id'];}[_0x47ccb7(0x7a4)](){const _0x4b4a78=_0x47ccb7;return this[_0x4b4a78(0x828)];}['getEmail'](){const _0x593ad2=_0x47ccb7;return this[_0x593ad2(0xa1)];}['setDisplayName'](_0x22f0fc){const _0x498d29=_0x47ccb7;this[_0x498d29(0x828)]!==_0x22f0fc&&(this[_0x498d29(0x828)]=_0x22f0fc,this[_0x498d29(0x82)][_0x498d29(0x19c)](this));}[_0x47ccb7(0x121)](_0xe26361){const _0x363ffa=_0x47ccb7;this[_0x363ffa(0xa1)]!==_0xe26361&&(this[_0x363ffa(0xa1)]=_0xe26361,this[_0x363ffa(0x82)][_0x363ffa(0x19c)](this));}['registerCluster'](_0x4226b7,_0x192757){const _0x27dbc7=_0x47ccb7;if(this[_0x27dbc7(0x467)][_0x27dbc7(0x788)](_0x4226b7))return;const _0x403dc0=this['observer'][_0x27dbc7(0x9b4)](_0x192757);this[_0x27dbc7(0x467)][_0x27dbc7(0x9de)](_0x4226b7,_0x403dc0);}[_0x47ccb7(0x599)](_0x4fa343){const _0x2ae55d=_0x47ccb7;if(!this[_0x2ae55d(0x467)][_0x2ae55d(0x788)](_0x4fa343))return;const _0x13a2fc=this[_0x2ae55d(0x467)][_0x2ae55d(0x4ab)](_0x4fa343);_0x13a2fc&&_0x13a2fc(),this[_0x2ae55d(0x467)][_0x2ae55d(0x7b9)](_0x4fa343);}}class _0x591f7d{[_0x47ccb7(0x111)];['user'];constructor(_0x4b5533){const _0x198de0=_0x47ccb7;this[_0x198de0(0x111)]=_0x4b5533;}async[_0x47ccb7(0x9c2)](_0x566e35){const _0x3f7cda=_0x47ccb7,_0x24d78f=await(0x0,_0x40e444[_0x3f7cda(0x953)])(_0x3af573['getFunctions'](),_0x3f7cda(0x3d8))({'uid':'ccc'+this[_0x3f7cda(0x111)]+_0x3f7cda(0x469)+_0x566e35['id']}),_0x1c9a63=await(0x0,_0x327ae6[_0x3f7cda(0x382)])(_0x3af573[_0x3f7cda(0x854)](),_0x24d78f[_0x3f7cda(0x4ac)][_0x3f7cda(0x3ad)]);this[_0x3f7cda(0x14a)]=_0x1c9a63[_0x3f7cda(0x14a)];}async[_0x47ccb7(0x5b8)](){const _0x3534fe=_0x47ccb7;await(0x0,_0x327ae6[_0x3534fe(0x5b8)])(_0x3af573[_0x3534fe(0x854)]());}[_0x47ccb7(0x26d)](){const _0x520986=_0x47ccb7;return this[_0x520986(0x14a)]?.['getIdToken']()??Promise[_0x520986(0x882)](_0x520986(0x96b));}}class _0x4298a3{static [_0x47ccb7(0x9ab)];['featureSupport']=[];constructor(){}static[_0x47ccb7(0x773)](){const _0x453a89=_0x47ccb7;return _0x4298a3[_0x453a89(0x9ab)]||(_0x4298a3['instance']=new _0x4298a3()),_0x4298a3['instance'];}[_0x47ccb7(0x2e1)](){const _0x3532a5=_0x47ccb7;this[_0x3532a5(0x6ac)](),this['checkMediaStream'](),this[_0x3532a5(0xaa0)](),this[_0x3532a5(0xa0b)](),this[_0x3532a5(0x680)](),this['checkAudioOutput'](),this['checkMediaRecording'](),this['checkBackgrounds'](),this[_0x3532a5(0x908)](),this['checkAudioContext'](),_0x1a21a7[_0x3532a5(0x766)](_0x5300ce[_0x3532a5(0x779)],'Support:\x20current\x20config',{'featureSupport':this['featureSupport']});}[_0x47ccb7(0xa8d)](_0x57d810){const _0x1c4fbc=_0x47ccb7,_0x293168=this[_0x1c4fbc(0x163)][_0x1c4fbc(0x1b5)](_0x2a3bdb=>_0x2a3bdb[_0x1c4fbc(0xd7)]===_0x57d810);return!!_0x293168&&_0x293168[_0x1c4fbc(0x482)];}[_0x47ccb7(0x116)](_0xc86fa5){const _0x1adefa=_0x47ccb7;_0x1a21a7[_0x1adefa(0x24a)](_0x1adefa(0x48f),{'nodeId':_0xc86fa5['getId'](),'nodeType':_0xc86fa5[_0x1adefa(0x96)],'data':{'featureSupport':this[_0x1adefa(0x163)]}});}[_0x47ccb7(0x6ac)](){const _0xd53367=_0x47ccb7,_0x2ef238=_0x42c050[_0xd53367(0x576)];let _0x391e6f=!0x1;'function'==typeof RTCPeerConnection&&_0xd53367(0x24d)==typeof RTCIceCandidate&&_0xd53367(0x24d)==typeof RTCSessionDescription?_0x391e6f=!0x0:_0x1a21a7[_0xd53367(0x766)](_0x5300ce['Support'],_0xd53367(0x420)+_0x2ef238+_0xd53367(0x2fc)),this['featureSupport'][_0xd53367(0x5c5)]({'name':_0x2ef238,'supported':_0x391e6f});}['checkMediaStream'](){const _0x313bf3=_0x47ccb7,_0x137ec1=_0x42c050[_0x313bf3(0x4a5)];let _0x532319=!0x1;_0x313bf3(0x24d)==typeof MediaStream&&_0x313bf3(0x24d)==typeof MediaStreamTrack&&_0x313bf3(0x519)==typeof navigator&&_0x313bf3(0x519)==typeof navigator[_0x313bf3(0x439)]&&'function'==typeof navigator[_0x313bf3(0x439)][_0x313bf3(0x739)]?_0x532319=!0x0:_0x1a21a7['log'](_0x5300ce[_0x313bf3(0x779)],'Support:\x20'+_0x137ec1+'\x20not\x20supported'),this[_0x313bf3(0x163)]['push']({'name':_0x137ec1,'supported':_0x532319});}[_0x47ccb7(0xaa0)](){const _0x46d9d6=_0x47ccb7,_0x7810de=_0x42c050[_0x46d9d6(0x4e4)];let _0x225c32=!0x1;'object'==typeof navigator&&_0x46d9d6(0x519)==typeof navigator[_0x46d9d6(0x439)]&&_0x46d9d6(0x24d)==typeof navigator['mediaDevices'][_0x46d9d6(0xa6c)]?_0x225c32=!0x0:_0x1a21a7[_0x46d9d6(0x766)](_0x5300ce[_0x46d9d6(0x779)],'Support:\x20'+_0x7810de+_0x46d9d6(0x2fc)),this['featureSupport']['push']({'name':_0x7810de,'supported':_0x225c32});}[_0x47ccb7(0xa0b)](){const _0x7005ad=_0x47ccb7,_0x1e8ac9=_0x42c050[_0x7005ad(0x3b3)];let _0x3c3e2a=!0x1;_0x7005ad(0x24d)!=typeof AudioContext||_0x7005ad(0x24d)!=typeof ScriptProcessorNode&&_0x7005ad(0x24d)!=typeof AudioWorkletNode||_0x7005ad(0x24d)!=typeof MediaStreamAudioSourceNode?_0x1a21a7[_0x7005ad(0x766)](_0x5300ce[_0x7005ad(0x779)],'Support:\x20'+_0x1e8ac9+'\x20not\x20supported'):_0x3c3e2a=!0x0,this[_0x7005ad(0x163)][_0x7005ad(0x5c5)]({'name':_0x1e8ac9,'supported':_0x3c3e2a});}['checkDeviceConfig'](){const _0x2323bf=_0x47ccb7,_0x52305f=_0x42c050['DeviceConfig'];let _0x758701=!0x1;_0x2323bf(0x519)==typeof navigator&&_0x2323bf(0x519)==typeof navigator[_0x2323bf(0x439)]&&'function'==typeof navigator['mediaDevices'][_0x2323bf(0x152)]&&_0x2323bf(0x24d)==typeof MediaDeviceInfo?_0x758701=!0x0:_0x1a21a7[_0x2323bf(0x766)](_0x5300ce['Support'],_0x2323bf(0x420)+_0x52305f+_0x2323bf(0x2fc)),this[_0x2323bf(0x163)][_0x2323bf(0x5c5)]({'name':_0x52305f,'supported':_0x758701});}[_0x47ccb7(0x34e)](){const _0x15e0c4=_0x47ccb7,_0x5beb40=_0x42c050[_0x15e0c4(0x962)];let _0x52c245=!0x1;_0x15e0c4(0x519)==typeof document&&_0x15e0c4(0x24d)==typeof document[_0x15e0c4(0x552)](_0x15e0c4(0xbe))[_0x15e0c4(0x6e3)]?_0x52c245=!0x0:_0x1a21a7[_0x15e0c4(0x766)](_0x5300ce['Support'],_0x15e0c4(0x420)+_0x5beb40+'\x20not\x20supported'),this[_0x15e0c4(0x163)][_0x15e0c4(0x5c5)]({'name':_0x5beb40,'supported':_0x52c245});}async['checkMediaRecording'](){const _0x59c1f5=_0x47ccb7,_0x3cc899=_0x42c050[_0x59c1f5(0xf8)];let _0x354f81=!0x1;try{const _0x264938=document[_0x59c1f5(0x552)](_0x59c1f5(0x45b));if(MediaRecorder&&MediaSource&&_0x264938[_0x59c1f5(0x50e)]){const _0x22b35a=_0x264938[_0x59c1f5(0x50e)](),_0x82cc9d=new MediaRecorder(_0x22b35a);_0x82cc9d[_0x59c1f5(0x26c)](),await new Promise(_0x3c6319=>setTimeout(_0x3c6319,0x7d0)),_0x82cc9d[_0x59c1f5(0x66d)](),_0x354f81=_0x59c1f5(0x632)===_0x82cc9d[_0x59c1f5(0xa3a)];}}catch(_0x58cf4a){_0x1a21a7[_0x59c1f5(0x766)](_0x5300ce[_0x59c1f5(0x779)],_0x59c1f5(0x420)+_0x3cc899+_0x59c1f5(0x371),_0x58cf4a);}this[_0x59c1f5(0x163)][_0x59c1f5(0x5c5)]({'name':_0x3cc899,'supported':_0x354f81}),_0x354f81||_0x1a21a7[_0x59c1f5(0x766)](_0x5300ce[_0x59c1f5(0x779)],_0x59c1f5(0x420)+_0x3cc899+_0x59c1f5(0x2fc));}[_0x47ccb7(0x585)](){const _0x3f93ff=_0x47ccb7,_0x46882f=_0x42c050[_0x3f93ff(0x2c1)];let _0x15ff4a=!0x1;try{document['createElement']('canvas')[_0x3f93ff(0x50e)]&&(_0x15ff4a=!0x0);}catch(_0x2ebe0e){_0x1a21a7[_0x3f93ff(0x766)](_0x5300ce[_0x3f93ff(0x779)],_0x3f93ff(0x420)+_0x46882f+_0x3f93ff(0x371),_0x2ebe0e);}this[_0x3f93ff(0x163)][_0x3f93ff(0x5c5)]({'name':_0x46882f,'supported':_0x15ff4a}),_0x15ff4a||_0x1a21a7[_0x3f93ff(0x766)](_0x5300ce[_0x3f93ff(0x779)],_0x3f93ff(0x420)+_0x46882f+_0x3f93ff(0x2fc));}[_0x47ccb7(0x908)](){const _0x89afe0=_0x47ccb7,_0x2c1924=_0x42c050[_0x89afe0(0x823)];let _0x231abe=!0x1;try{const _0x5a809e=document[_0x89afe0(0x552)](_0x89afe0(0x45b));WebGLRenderingContext&&_0x5a809e['getContext'](_0x89afe0(0x9cd))&&(_0x231abe=!0x0);}catch(_0x4632ce){_0x1a21a7[_0x89afe0(0x766)](_0x5300ce['Support'],_0x89afe0(0x420)+_0x2c1924+_0x89afe0(0x371),_0x4632ce);}this[_0x89afe0(0x163)][_0x89afe0(0x5c5)]({'name':_0x2c1924,'supported':_0x231abe}),_0x231abe||_0x1a21a7[_0x89afe0(0x766)](_0x5300ce['Support'],'Support:\x20'+_0x2c1924+_0x89afe0(0x2fc));}[_0x47ccb7(0x8f4)](){const _0x52f036=_0x47ccb7,_0x4e41b2=_0x42c050[_0x52f036(0x99f)];let _0x5afec7=!0x1;_0x52f036(0x24d)==typeof AudioContext?_0x5afec7=!0x0:_0x1a21a7['log'](_0x5300ce[_0x52f036(0x779)],_0x52f036(0x420)+_0x4e41b2+_0x52f036(0x2fc)),this[_0x52f036(0x163)][_0x52f036(0x5c5)]({'name':_0x4e41b2,'supported':_0x5afec7});}}const _0x40f8c0=_0x4298a3[_0x47ccb7(0x773)]();class _0x2aa710{static [_0x47ccb7(0x9ab)];static [_0x47ccb7(0x6c7)];static [_0x47ccb7(0x7b2)];[_0x47ccb7(0x4a0)];['vendorId'];['options'];[_0x47ccb7(0x900)];[_0x47ccb7(0x5fb)]=new Map();[_0x47ccb7(0x681)];constructor(_0x1f2d44,_0x3549e8,_0x3cb1ca){const _0x5a1783=_0x47ccb7;this[_0x5a1783(0x111)]=_0x1f2d44,this[_0x5a1783(0x900)]=_0x3549e8,this['authService']=new _0x591f7d(this[_0x5a1783(0x111)]),_0x40f8c0[_0x5a1783(0x2e1)](),this[_0x5a1783(0x260)]={'audioContext':_0x3cb1ca?.[_0x5a1783(0x958)]??(_0x40f8c0[_0x5a1783(0xa8d)](_0x42c050[_0x5a1783(0x99f)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x3cb1ca?.[_0x5a1783(0x50b)]??0x1,'minConnections':_0x3cb1ca?.[_0x5a1783(0x76d)]??0x3,'maxConnections':_0x3cb1ca?.[_0x5a1783(0x613)]??(_0x3cb1ca?.[_0x5a1783(0x76d)]&&0x4*_0x3cb1ca['minConnections'])??0xc,'maxDistance':_0x3cb1ca?.[_0x5a1783(0x66e)]??0xa,'maxFps':_0x3cb1ca?.[_0x5a1783(0x353)]??0x18,'maxBpp':_0x3cb1ca?.[_0x5a1783(0x7d3)]??0.12,'objectStoreConnector':_0x3cb1ca?.[_0x5a1783(0x650)]??_0x8df6d9[_0x5a1783(0x358)],'externalStorageConnectors':_0x3cb1ca?.[_0x5a1783(0x657)],'keyValueDatabaseConnector':_0x3cb1ca?.[_0x5a1783(0x122)]??_0x51fed0['IDBDatabaseConnector'],'peerConnectionConnector':_0x3cb1ca?.[_0x5a1783(0x4ad)]??_0x2448a3[_0x5a1783(0x644)],'generativeAIWorkerConnectors':_0x3cb1ca?.['generativeAIWorkerConnectors'],'generativeAISpeechConnectors':_0x3cb1ca?.['generativeAISpeechConnectors'],'vectorDatabaseConnector':_0x3cb1ca?.[_0x5a1783(0x150)],'graphDatabaseConnector':_0x3cb1ca?.['graphDatabaseConnector'],'documentParserConnector':_0x3cb1ca?.['documentParserConnector'],'fileConnector':_0x3cb1ca?.[_0x5a1783(0xad9)],'nlpLibraryConnector':_0x3cb1ca?.[_0x5a1783(0xa3b)],'searchConnector':_0x3cb1ca?.[_0x5a1783(0x904)],'aiSearchConnector':_0x3cb1ca?.[_0x5a1783(0x97)],'queryFileConnector':_0x3cb1ca?.['queryFileConnector'],'ragConnectors':_0x3cb1ca?.['ragConnectors']},_0x3cb1ca?.[_0x5a1783(0x685)]&&this[_0x5a1783(0x260)]['audioContext']&&_0x301533[_0x5a1783(0x5f6)](this[_0x5a1783(0x260)]['audioContext']),_0x1a21a7[_0x5a1783(0x1aa)](this[_0x5a1783(0x111)]),_0x3cb1ca?.['loggingConnectors']&&_0x1a21a7[_0x5a1783(0xa09)](_0x3cb1ca[_0x5a1783(0x795)]);}static async[_0x47ccb7(0x773)](_0x3c2cb1,_0x521828,_0x319247,_0x310c4f,_0x108fa2){const _0x405349=_0x47ccb7;this[_0x405349(0x7b2)]=_0x319247;const _0x305613=await this['validateAccess'](_0x3c2cb1,_0x521828,_0x108fa2);return _0x2aa710[_0x405349(0x9ab)]||(_0x2aa710['instance']=new _0x2aa710(_0x3c2cb1,_0x305613,_0x310c4f)),{'close':_0x2aa710[_0x405349(0x9ab)]['close'][_0x405349(0x62e)](_0x2aa710[_0x405349(0x9ab)]),'authenticateUser':_0x2aa710[_0x405349(0x9ab)][_0x405349(0x8d1)][_0x405349(0x62e)](_0x2aa710['instance']),'authenticateAgent':_0x2aa710[_0x405349(0x9ab)][_0x405349(0x7aa)][_0x405349(0x62e)](_0x2aa710[_0x405349(0x9ab)]),'validateKey':_0x2aa710[_0x405349(0x9ab)][_0x405349(0x434)][_0x405349(0x62e)](_0x2aa710[_0x405349(0x9ab)]),'joinCluster':_0x2aa710[_0x405349(0x9ab)][_0x405349(0x2ca)][_0x405349(0x62e)](_0x2aa710[_0x405349(0x9ab)])};}static async['timestamp'](){const _0x430337=_0x47ccb7;return _0x3af573[_0x430337(0x720)]();}static[_0x47ccb7(0x6be)](){const _0x6a33d9=_0x47ccb7;return _0x501e0e[_0x6a33d9(0x6be)];}async['close'](_0x3fe9c1){const _0x4e4080=_0x47ccb7;this['clusters'][_0x4e4080(0xa9d)](_0x4508cd=>{const _0x2f9867=_0x4e4080;_0x4508cd['off'](),_0x4508cd[_0x2f9867(0x6e9)](_0x3fe9c1);}),this[_0x4e4080(0x5fb)][_0x4e4080(0x30f)](),this['options'][_0x4e4080(0x958)]&&_0x301533[_0x4e4080(0x6e6)](),_0x2aa710[_0x4e4080(0x6c7)]?.(),_0x2aa710['unsubscribe']=void 0x0,this[_0x4e4080(0x681)]=void 0x0,await this['authService'][_0x4e4080(0x5b8)](),_0x2aa710[_0x4e4080(0x9ab)]=void 0x0;}static async[_0x47ccb7(0x4b6)](_0x500f41,_0x557b3f,_0x529d1c){const _0xb257dc=_0x47ccb7;if(!this['mode'])throw new _0xb4a92c(_0x215585[_0xb257dc(0x85f)],_0xb257dc(0x1a6));let _0x187043;try{_0x187043=await(0x0,_0x40e444['httpsCallable'])(_0x3af573[_0xb257dc(0x7b4)](),_0xb257dc(0x570))({'vendorId':_0x500f41,'accessToken':_0x557b3f,'secretKey':_0x529d1c});}catch(_0x4ac56c){throw new _0xb4a92c(_0x215585[_0xb257dc(0x3d1)],_0xb257dc(0x88e));}if(!this[_0xb257dc(0x701)](_0x187043['data']))throw new _0xb4a92c(_0x215585['InvalidAccess'],_0xb257dc(0x88e));const _0x19eab4=_0x187043[_0xb257dc(0x4ac)];return _0x19eab4[_0xb257dc(0x2bd)]||(_0x19eab4[_0xb257dc(0x2bd)]=[]),this[_0xb257dc(0x6c7)]||(this['unsubscribe']=_0x301533[_0xb257dc(0x25a)](async()=>{const _0x445d13=_0xb257dc;try{const _0x461d33=await this[_0x445d13(0x4b6)](_0x500f41,_0x557b3f,_0x529d1c);this['mode']===_0x46b128[_0x445d13(0x177)][_0x445d13(0x856)]&&(_0x461d33[_0x445d13(0x2a9)]=_0x461d33['iceServers']['filter'](_0x5551eb=>_0x5551eb[_0x445d13(0x2e3)]['startsWith'](_0x445d13(0x6c8)))),_0x19eab4[_0x445d13(0x2a9)]=_0x461d33[_0x445d13(0x2a9)];}catch(_0x56a0f7){}},0x1b7740)),_0x19eab4;}async[_0x47ccb7(0x8d1)](_0xbf1db9){const _0x3194ff=_0x47ccb7;if(_0x2aa710[_0x3194ff(0x7b2)]!==_0x46b128[_0x3194ff(0x177)][_0x3194ff(0x40e)])throw new _0xb4a92c(_0x215585[_0x3194ff(0x67c)],_0x3194ff(0x110));await this[_0x3194ff(0x4a0)][_0x3194ff(0x9c2)](_0xbf1db9);const _0xefc29e=new _0x8c1b04(_0xbf1db9['id'],_0xbf1db9['displayName'],_0xbf1db9['email']);return this[_0x3194ff(0x681)]={'node':_0xefc29e},_0x40f8c0[_0x3194ff(0x116)](_0xefc29e),{'type':_0x46b128[_0x3194ff(0x177)]['User'],'getId':_0xefc29e[_0x3194ff(0x932)]['bind'](_0xefc29e),'getDisplayName':_0xefc29e[_0x3194ff(0x7a4)][_0x3194ff(0x62e)](_0xefc29e),'getEmail':_0xefc29e[_0x3194ff(0x853)][_0x3194ff(0x62e)](_0xefc29e),'setDisplayName':_0xefc29e[_0x3194ff(0x975)][_0x3194ff(0x62e)](_0xefc29e),'setEmail':_0xefc29e[_0x3194ff(0x121)][_0x3194ff(0x62e)](_0xefc29e)};}async[_0x47ccb7(0x7aa)](_0x1e4846){const _0x59b961=_0x47ccb7;if(_0x2aa710[_0x59b961(0x7b2)]!==_0x46b128[_0x59b961(0x177)]['Agent'])throw new _0xb4a92c(_0x215585[_0x59b961(0x67c)],'Node\x20type\x20is\x20invalid');const {id:_0x27f9ab,groupId:_0x466fc7}=_0x1e4846,_0x31ba5c=await(0x0,_0x19c8f0['getDoc'])((0x0,_0x19c8f0[_0x59b961(0x31b)])(_0x3af573[_0x59b961(0x586)](),'developers/'+this['vendorId']+_0x59b961(0x1c1)+_0x466fc7));if(!_0x31ba5c[_0x59b961(0xf1)]())throw new _0xb4a92c(_0x215585['NodeNotAuthenticated'],_0x59b961(0x8aa));const _0x2eae74=_0x31ba5c[_0x59b961(0x4ac)]();await this[_0x59b961(0x4a0)][_0x59b961(0x9c2)]({'id':_0x27f9ab});const _0xafec4a=new _0xc7c5cc(_0x27f9ab,_0x466fc7,this[_0x59b961(0x111)],_0x2eae74);return this[_0x59b961(0x681)]={'node':_0xafec4a},_0x40f8c0[_0x59b961(0x116)](_0xafec4a),this['connectAgent'](_0xafec4a),{'type':_0x46b128[_0x59b961(0x177)]['Agent'],'getId':_0xafec4a['getId'][_0x59b961(0x62e)](_0xafec4a),'onConfigurationChange':_0xafec4a[_0x59b961(0x864)][_0x59b961(0x62e)](_0xafec4a),'setReportCapacity':_0xafec4a[_0x59b961(0x6a4)][_0x59b961(0x62e)](_0xafec4a)};}async[_0x47ccb7(0x434)](_0x118cec,_0x528a8c){const _0x43b139=_0x47ccb7,_0x4d1443=await(0x0,_0x19c8f0[_0x43b139(0xa82)])((0x0,_0x19c8f0[_0x43b139(0x31b)])(_0x3af573[_0x43b139(0x586)](),'apikeys/'+_0x118cec));if(!_0x4d1443[_0x43b139(0xf1)]()){const _0x201e56=atob(_0x118cec)[_0x43b139(0x59a)](':'),_0x501a6=_0x201e56[_0x43b139(0x4ee)](),_0x24e0e8=_0x201e56['join'](':');if(!_0x501a6||!_0x24e0e8)throw new _0xb4a92c(_0x215585['InvalidAccess'],_0x43b139(0x264));try{return await(0x0,_0x40e444[_0x43b139(0x953)])(_0x3af573['getFunctions'](),'sdkValidateAccess')({'vendorId':_0x501a6,'accessToken':_0x24e0e8,'origin':_0x528a8c}),_0x501a6;}catch(_0x153abe){throw new _0xb4a92c(_0x215585[_0x43b139(0x3d1)],_0x43b139(0x7e6)+(_0x153abe instanceof Error?_0x153abe[_0x43b139(0xa3f)]:'Unknown\x20error'));}}return _0x4d1443[_0x43b139(0x4ac)]()['vendorId'];}async[_0x47ccb7(0x2ca)](_0x33abf2,_0xe89f95){const _0x8ffd48=_0x47ccb7;if(!this[_0x8ffd48(0x681)])throw new _0xb4a92c(_0x215585[_0x8ffd48(0x2d1)],'Node\x20not\x20authenticated');if(this[_0x8ffd48(0x681)][_0x8ffd48(0x2b4)]['type']!==_0x46b128[_0x8ffd48(0x177)][_0x8ffd48(0x40e)])throw new _0xb4a92c(_0x215585['NodeTypeNotSupported'],_0x8ffd48(0x542));if(this[_0x8ffd48(0x5fb)]['has'](_0x33abf2))throw new _0xb4a92c(_0x215585['ClusterAlreadyJoined'],_0x8ffd48(0x1eb));const _0x454c07=new _0x159f9d(this[_0x8ffd48(0x111)],_0x33abf2,this[_0x8ffd48(0x681)][_0x8ffd48(0x2b4)],this['authService'],this[_0x8ffd48(0x260)],this[_0x8ffd48(0x900)]);return!0x0!==_0xe89f95&&await _0x454c07[_0x8ffd48(0x4a2)](),this[_0x8ffd48(0x642)](_0x33abf2,_0x454c07),_0x1a21a7[_0x8ffd48(0x24a)]('join-cluster',{'clusterId':_0x33abf2,'nodeId':this['authContext'][_0x8ffd48(0x2b4)][_0x8ffd48(0x932)](),'nodeType':this[_0x8ffd48(0x681)][_0x8ffd48(0x2b4)]['type']}),{'leave':_0x454c07[_0x8ffd48(0x6e9)][_0x8ffd48(0x62e)](_0x454c07),'getLocalNode':_0x454c07[_0x8ffd48(0x294)][_0x8ffd48(0x62e)](_0x454c07),'openPubSubTopic':_0x454c07[_0x8ffd48(0x208)][_0x8ffd48(0x62e)](_0x454c07),'openObjectStoreBucket':_0x454c07[_0x8ffd48(0x206)][_0x8ffd48(0x62e)](_0x454c07),'openExternalStorageConnection':_0x454c07['openExternalStorageConnection']['bind'](_0x454c07),'openKeyValueDatabase':_0x454c07['openKeyValueDatabase']['bind'](_0x454c07),'openGenerativeAIContext':_0x454c07['openGenerativeAIContext'][_0x8ffd48(0x62e)](_0x454c07),'openGenerativeAIContextStandalone':_0x454c07[_0x8ffd48(0x83)]['bind'](_0x454c07),'openGenerativeAIWorker':_0x454c07['openGenerativeAIWorker'][_0x8ffd48(0x62e)](_0x454c07),'openGraphDatabase':_0x454c07[_0x8ffd48(0x7fd)][_0x8ffd48(0x62e)](_0x454c07),'openVectorDatabase':_0x454c07['openVectorDatabase'][_0x8ffd48(0x62e)](_0x454c07),'publishLocalMediaStream':_0x454c07[_0x8ffd48(0x55c)][_0x8ffd48(0x62e)](_0x454c07),'publishLocalDynamicMediaStream':_0x454c07[_0x8ffd48(0x320)][_0x8ffd48(0x62e)](_0x454c07),'getPubSubTopics':_0x454c07['getPubSubTopics'][_0x8ffd48(0x62e)](_0x454c07),'getObjectStoreBuckets':_0x454c07[_0x8ffd48(0x871)][_0x8ffd48(0x62e)](_0x454c07),'getExternalStorageConnections':_0x454c07[_0x8ffd48(0x784)][_0x8ffd48(0x62e)](_0x454c07),'getKeyValueDatabases':_0x454c07['getKeyValueDatabases']['bind'](_0x454c07),'getGenerativeAIContexts':_0x454c07[_0x8ffd48(0x30d)][_0x8ffd48(0x62e)](_0x454c07),'getGenerativeAIContextsStandalone':_0x454c07['getGenerativeAIContextsStandalone'][_0x8ffd48(0x62e)](_0x454c07),'getGenerativeAIWorkers':_0x454c07[_0x8ffd48(0x42f)][_0x8ffd48(0x62e)](_0x454c07),'getGraphDatabases':_0x454c07[_0x8ffd48(0x7e3)][_0x8ffd48(0x62e)](_0x454c07),'getVectorDatabases':_0x454c07[_0x8ffd48(0x310)]['bind'](_0x454c07),'getLocalMediaStreams':_0x454c07[_0x8ffd48(0x5b4)][_0x8ffd48(0x62e)](_0x454c07),'getRemoteMediaStreams':_0x454c07[_0x8ffd48(0x6dc)][_0x8ffd48(0x62e)](_0x454c07),'getRemoteNodes':_0x454c07[_0x8ffd48(0xb2)][_0x8ffd48(0x62e)](_0x454c07),'on':_0x454c07['on'][_0x8ffd48(0x62e)](_0x454c07),'off':_0x454c07[_0x8ffd48(0x100)]['bind'](_0x454c07)};}async[_0x47ccb7(0x170)](_0x4463e7){const _0x3a3c00=_0x47ccb7,_0x5c423e=new _0x159f9d(this['vendorId'],'crewdle',_0x4463e7,this['authService'],this[_0x3a3c00(0x260)],this[_0x3a3c00(0x900)]);await _0x5c423e[_0x3a3c00(0x4a2)](),this[_0x3a3c00(0x642)](_0x3a3c00(0x231),_0x5c423e),_0x1a21a7['forceLog'](_0x3a3c00(0x5c9),_0x3a3c00(0x231)),await _0x5c423e[_0x3a3c00(0xd4)](_0x3a3c00(0x231)),_0x1a21a7[_0x3a3c00(0x180)](_0x3a3c00(0x799),_0x3a3c00(0x231));}['addCluster'](_0x51646e,_0x122ecc){const _0x3c4b94=_0x47ccb7;this[_0x3c4b94(0x5fb)][_0x3c4b94(0x9de)](_0x51646e,_0x122ecc),_0x122ecc['on'](_0x3c4b94(0x8b1),()=>{const _0x209add=_0x3c4b94;_0x122ecc['off'](),this[_0x209add(0x5fb)][_0x209add(0x7b9)](_0x51646e);});}static[_0x47ccb7(0x701)](_0x40e59c){const _0x386b44=_0x47ccb7;return void 0x0!==_0x40e59c[_0x386b44(0x2a9)];}}return _0x200896;})())));