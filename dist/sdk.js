function a0_0x1c53(){const _0x4bd367=['temperature','getPartsFromSubscription','globalObject','getKeyValueDatabase','unregisterDestination','text/plain','handleSubscriptionSystemEvents','internal','authenticateAgent','getRemoteNode','logger','rejectReady','insert','function','getVectorDatabase','vendorId','handleContentSystemEvents','getReceiverBitrate','More\x20content\x20available\x20on\x20page\x20','RequestFileSync','Invalid\x20credentials','CrewdleSenderConnection\x20createOffer','Error\x20initializing\x20logging\x20database\x20with\x20\x27','Failed\x20to\x20commit\x20batch\x20after\x20retries:','\x20attempts:','Issue\x20detected:\x20','Node\x20not\x20authenticated','GraphDatabase','remove','then','checksum','maxTokens','sdkValidateAccess','IncomingSubscription','getAgents','batchQueue','setItem','contentMediator','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','getAncestorIds','key','handleObjectMove','removeConnection','isProduction','maxBpp','waitSuccess','getWorkflowModels','cluster-leave','Subscription\x20request\x20has\x20not\x20been\x20answered.','northamerica-northeast1','audioDestination','getConnectionType','lastRemediations','agent-update','processContentSynchronized','Support:\x20','processInboundReports','handleFolderCreate','GenerativeAIWorkerCreationFailed','audioSource','validateLayout','lastClockUpdate','findIndex','Cannot\x20get\x20size\x20of\x20path:\x20','No\x20destinationIds\x20left','ClosePubSubTopic','handleAnswer','frameWidth','handleRemediationSystemEvents','sendChunked','SentenceSplitter','packets','bufferedEvents','offNodeUpdate','ObjectStoreNotInSync','getGenerativeAIWorkers','LoggingService:\x20logging\x20enabled\x20for','setOnMessageHandler','data-stream','getOutgoingOptimizationConnections','features','setCurrentVersion','Backgrounds','\x0a\x20===\x20Wait\x20Time:\x20','unregisterSubscriber','LocalMediaStreamDoesNotExist','validateAccess','chunksReceived','List','Number','Everyone\x20','Disconnect','local-stream-does-not-exist','setupStatsReporting','KeyValueDatabaseInvalidValue','receivers','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','instantiateTransactionTable','priority','createOutgoingSubscription','Error\x20executing\x20agent','vector-database','showSkillOutput','urls','renderElement','setLocalRank','Orchestrator\x20handleSystemEvents','AI\x20worker\x20creation\x20failed.','receiver-on-message','logMMRRebuild','CannotProvideMediaStream','InternalSDKError','addDoc','object-store-not-synced','firebaseUnsubscriber','Missing\x20transaction\x20id','vectorDatabaseConnector','createFolder','outgoingManager','load','getSenderBitrate','setSubscriptionRequestTimeout','setTransformations','created','updateJob','updateDebounceTimeout','mediaUnsubscribers','createGenerativeAIWorker','kind','\x0a\x0a`Retrieving\x20context`\x0a\x0a','unregisterSystemPublisher','ConnectionNotinitialized','responseTimeout','getSkills','Invalid\x20subscription.','createMediaStreamSource','/resources/generative-ai-collection/items','All\x20recipients\x20already\x20received','origin','database','dt_volatility','startNoThrottlingHack','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','filteredDestinationIds','Cannot\x20unpublish\x20object\x20at\x20','ref','setTimeout','orchestrator','KeyValueDatabaseContentSynchronized','Internal\x20error:\x20','expectedTransactions','Missing\x20answerer\x20id\x20on\x20request\x20answer','json_arr','missing-system-topic','key-value-database-name-not-string','Connection','GenerativeAIWorkerStats','every','key-value-database-peak-not-found','outputTokens','onDisconnectHandler','getInstance','evaluateBids','configs','transactionQueue','where','RemoteMediaStreamTrackFail','RemoteMediaStreamMissingProviderId','skill','Job','/transactions','Workflow\x20does\x20not\x20exist.','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','disconnectCallback','readyResolve','KeyValueDatabaseRequestTransactionsValue','getSimilarity','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','mmr','val','NodeAlreadyExist','estimatedPlayoutTimestamp','processInboundReport','checkBackgrounds','.vbs','senderCurrentBytes','issue','JobDispatcherJobNotFound','internalProcessJob','handleContentRemoteMediaStreamTrackFail','.info/serverTimeOffset','downgrade','KeyValueDatabaseSendTransactions','parseWorkflowDocument','deleteJob','startBidResponseHandling','.json','Buffering\x20event','/resources/generative-ai-model/items','Accepted','candidate','object-store-invalid-sync-message','senderCurrentTimestamp','chunks','updated','subscribeToJobs','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','KeyValueDatabaseInvalidLayout','JobWorker:\x20Sending\x20job\x20bid','isJobAttribution','queueLength','PubSubTopicAlreadySubscribed','logSupport','GraphDatabaseStats','agent','GenerativeAIContext','track','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','AppSync\x20publish','connectionStateListener','\x0a\x20===\x20Total\x20Nodes:','entries','messageUnsubscriber','.conf','JobWorker:\x20Received\x20job','loadEnabledChannels','setVendorId','generativeAIWorkers','isConnected','VectorDatabaseDoesNotExist','groupId','loggingCycle','registeredListeners','job-worker-does-not-exist','getTransactionFromTableWriteEvent','pubsubTopics','subscriptionRequests','resolveReady','list','\x0aAdditional\x20data:\x20','job-dispatcher-does-not-exist','complete','getGenerativeAIContexts','openPubSubTopic','openGenerativeAIWorker','vectorDatabases','logPropagateSystemEvent','Error\x20processing\x20ingest','trackKinds','.\x20Confirmation?\x20','graphDatabaseConnector','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','User\x20not\x20signed\x20in','GenerativeAIWorkerMissingConnector','isReady','writeTransaction','Time','bid','handleContentSubscribeMediaStream','processJobStream','open','registerSubscriber','ExternalStorageUpload','Job\x20Dispatcher\x20does\x20not\x20exist','Error\x20committing\x20batch:','getShareableStream','right','system','getAudioTracks','Answer','Rejected\x20answer','generative-ai-context-job-failed','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','ObjectStorageBucket','model','Retrieve','undefined','code','handleHandshake','jobWorkers','Node','isFailedResponse','isWhereValues','job-worker-invalid-type','checkAudioVolume','noun','registerCluster','openKeyValueDatabase','KeyValueDatabaseTransactionTableNotInitialized','senderPreviousTimestamp','Found\x20','RemoteMediaStreamInvalidSubscriptionParams','floor','findNextNodeId','/resources/agent/items/','addConnection','createOffer','KeyValueDatabase','SubscribeMediaStream','defineProperty','dataStores','Initial\x20MMR\x20built\x20with','createJob','readyPromises','VectorDatabase','NodeType','toFixed','listChanges','secheduleTime','isInternalLoggingConnector','arrayBufferToObject','getJob','openObjectStoreBucket','InvalidSubscriber','remote-media-stream-already-exists','call','/logs','Error\x20closing\x20trace','executeJavascriptCodeSnippet','CPUCycle','handleNoAnswer','ObjectStoreAlreadySubscribed','Execute\x20skill\x20','getGraphDatabase','messageType','topK','getTransactionByHash','checkAudioContext','ConnectionNoRetryQueue','KeyValueDatabaseNotOpen','getSettings','minThreshold','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','FolderMove','rank','external-storage-connection-does-not-exist','Logging\x20database\x20not\x20initialized','\x27\x20in\x20table\x20\x27','appendTransactionAndUpdateHashMap','getIdToken','Upgrade','addIssue','sourceId','Detection','nodesConnected','InvalidPublisher','key-value-database-not-open','UnsubscribeMediaStream','transactionHashMap','debounceStats','messageBuffer','providerListener','unsubscribeTrackEndedListener','createTopic','framesDecoded','discoveryService','job-dispatcher-already-exists','peakHeights','getBufferedAmount','ConnectionInvalidDataEvent','object-store-name-not-string','element','skipEncryption','api','debug','reportCapacity','Cannot\x20get\x20file:\x20','fromEntries','FolderCreate','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','msalGetAccessToken','connectionTimeout','1:519415702791:web:5dd39042f881cfde3251a2','feedback','subtle','handleContentUpdateMediaStream','getTableConnector','unsubscribeHandler','Data\x20cluster\x20is\x20not\x20open.','eventListener','developers/','content-unpublish-media','.jl','currentTimestamp','vector','setEmail','objectStoreId','removeNode','Error\x20writing\x20chunk\x20to\x20stream','createElement','Before\x20Synchronization','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','findNewMediaSubscription','.crewdle-last-transaction','waitForArrayBufferSize','getAuth','Audio','LocalMediaStreamTrackFail','KeyValueDatabase\x20not\x20found','getDataLogged','Offer','statsCollection','remoteId','instructions','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','Failed','absolutePathName','connection-state','applyRemediation','\x20completed.','handleNodeUpdate','saveToDisk','\x0a\x20===\x20Total\x20Data\x20Received:\x20','clearSyncTimeout','Model\x20not\x20found:\x20','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','Text','left','startIndex','syncTransactions','maxFps','SubscriptionRequestDoesNotExist','substring','object-store-invalid-payload','createAnswer','removeTrack','performCalculation','codes','Workflow','httpsCallable','unregisterSource','getRoot','subscribedTracks','externalStores','.dart','getDataBucketIds','JobDispatcherDoesNotExist','\x20after\x20','off','byteLength','createReceiverConnection','clusters/','payloadType','reject','Logger.getInstance','Entity','KeyValueDatabaseTableDoesNotExist','getResolution','thread-','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','object-storage','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','getSTVolatility','subscribeToLocalContent','buildQuery','Cannot\x20publish\x20payload:\x20','connecting','agentId','\x20already\x20exists','\x0a\x20===\x20Synchronization\x20Time:\x20','MediaStreamPriority','key-value-database-does-not-exist','removeJobWorker','label','ranges','transactionTable','Stats','ModelVector','Buffered\x20chunks\x20are\x20too\x20large','firestore','setSinkId','hasOwnProperty','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','muted','Invalid\x20peer\x20connection\x20event\x20destination.','publishLocalDynamicMediaStream','\x20created\x20and\x20dispatched.','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','email','RemoteMediaStreamDoesNotExist','EntityExtractor','return\x20this','PeerConnection','Generative\x20AI\x20context\x20job\x20already\x20consumed.','handshakeCandidates','externalStorageConnectionIds','setDisplayName','2394JTpvMV','handshakeState','getDocs','number','handleNodeJoin','checkMediaStream','commitBatch','openGraphDatabase','documentParserConnector','getConnection','processJob','Cannot\x20publish\x20folder:\x20','notifyJoin','GraphDatabaseMissingConnector','payload','combinePeaks','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Signaling','pow','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','receiverCurrentBytes','subscribeToExternalContent','hasMessage','lastExecuted','reportMetric','stopConnection','\x20were\x20ready\x20in','Job\x20service\x20creation\x20failed.','createNewBatch','appsync-statechange','detectionManager','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','jobId','transactions','enumerateDevices','en-US','framesEncoded','Invalid\x20subscriber.','removeIncomingSubscription','Remote\x20stream\x20does\x20not\x20exist.','I\x20am\x20done','createRemoteMediaStream','handleUnsubscribeMediaStream','reduce','ExternalStorageConnection\x20not\x20found','GenerativeAIContextJobTimeout','pop','maxDepth','\x0a\x20\x20===\x20Total\x20Nodes:\x20','senders','SenderSendMessage','onloadeddata','getTransactions','publishSyncCompleted','text/','collectTransactionsFromNode','.tcl','supportsContentType','Missing\x20vector\x20database\x20connector','\x27\x20in\x20layout','sdkCreateToken','graphService','videoWidth','Cannot\x20find\x20External\x20Storage\x20connection:\x20','pathName','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','getConnections','Missing\x20external\x20storage\x20connector','unshift','publishSyncCompletedAfterWrites','connected','logWaitTime','lastUpdated','width','Invalid\x20key\x20\x27','shouldContinuePropagation','external-storage-upload','setPriority','createJobDispatcher','getThread','totalNodes','handleContentUnsubscribeMediaStream','Problem','UnpublishMediaStream','durationTime','Completed','firstValueFrom','Pending','isPartialResultResponse','unregisterSystemSource','completeSync','_ready','client','signalingServer','checkMediaRecording','maxBitrate','PublishMediaStream','contentType','addCluster','WebRTC','onCandidate','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','catch','processList','channel','KeyValueDatabaseTransactionValueNotSet','maxConnections','.sh','JobWorker:\x20Sending\x20job\x20result','removeContent','systemMessages','stats','file-write','maxFramerate','user-join','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','loggingDatabaseConnector','Subject','getTable','ExecuteCustomSkill','receiverPreviousTimestamp','appsync-connect-fail','connection-not-initialized','createVectorDatabase','.ts','maxThreshold','firebase-disconnect','unsubscribe','invalid-subscription','json','PubSub','logLevel','timeoutValue','PubSubTopicStats','links','getModel','Support:\x20current\x20config','callback','updatePropagationProperties','replaceTrack','request-file','RestartNeedMediaStream','getKeyValueDatabases','random','jobQueue','\x20received\x20partial\x20result:','removeKeyValueDatabase','consumeBufferedEvents','docs','chunk','NodeManager\x20-\x20PublishNodeLeave','Object\x20store\x20is\x20not\x20in\x20sync','nlpLibraryConnector','getPartsForSubscriptionLabel','joinedAt','stun:','arrayBuffer','ObjectStore\x20not\x20found','bodyParameters','invalid-data-chanel','join','clear','setDurationTime','getSize','onConnectionStateChange','messagesSent','MediaStream','forEach','deletePendingFile','handleSubscriptionUnsubscribeMediaStream','keyValueDatabaseConnector','JobWorkerInvalidType','getMediaSubscription','application/json','models','getQuery','handleUpdateMediaStream','Result','ObjectStoreCannotWriteTransaction','remoteUnsubscriber','\x27\x20is\x20not\x20ready','grammar','hasRemoteNode','LoadSkillFunction','connector','String','confirmSynchronization','slice','Invalid\x20object\x20store\x20state.','processReceiverReport','audio','ExternalStorageConnectionDoesNotExist','DataChannel\x20buffer\x20is\x20full.','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','emit','push','Cannot\x20write\x20transaction.','Sender','createKeyValueDatabase','_isReady','\x27\x20dabatase\x20id.','getProviderId','unregisterCluster','Could\x20not\x20open\x20trace','RelationExtractor','Generative\x20AI\x20context\x20creation\x20failed.','getNumberOutgoingSubscriptions','AI\x20Service\x20already\x20exists','trim','setInternalId','handleDetectionSystemEvents','Error\x20retrieving\x20context','calculateArrayBufferSize','object-store-already-subscribed','Processing','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','collectReceiversStats','Remove','cancel','Generative\x20AI\x20context\x20job\x20timeout.','restartHandshake','Cannot\x20unpublish\x20object:\x20','initializeApp','setDoc','internalContext','previousFrames','node','debounceReadyTimeout','answerJoin','handleRequestPayload','checkScreenSharing','ceil','syncTimeout','mmrRoot','getApp','SubscriptionRequestNoAnswer',',\x20Total\x20Nodes:','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','storage','publishLocalMediaStream','Store\x20already\x20exists','NodeConnectionsUpdate','processSenderReport','isResultResponse','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','onDisconnect','getRemoteConnections','addBidResponse','results','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','No\x20connector\x20found\x20for\x20model','prompt','has','TimePerFrame','getPubSubTopic','addMessage','handleConnectionSuccess','getFunctions','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','batchTimeout','Medium','getLocalMediaStream','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','GenerativeAIWorkerModelSyncError','notifyCluster','handleTransactionPayload','SubscriptionRequestInProgress','node-does-not-exist','external-storage-connectors-missing','writeTransaction\x20-\x20transaction\x20already\x20exists','parameters','timesCalled','optimizationLayers','/resources/external-storage/items/','handleSubscribeMediaStream','orderByKey','unpublish','Image','mediaDevices','trackCallback','auth','internalId','key-value-database-invalid-query','GenerativeAIContextDoesNotExist','2725740boUzMy','readyDebounce','2-digit','JobStream','onremovetrack','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','\x20must\x20be\x20a\x20boolean','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','publishSystemMessage','enabled','removeTopic','vectors','getShareableStreamId','remainingTracks','registerPublisher','NodeLeave','Amplify','createIncomingSubscription','ReceiverOnMessage','createGenerativeAIContext','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','interval','GraphDatabaseAlreadyExists','sentence-splitter','startAt','Data','node-type-required',',\x20Transactions:\x20','ObjectStoreDoesNotExist','app','cluster-already-joined','connect','Invalid\x20layout:\x20','remote-stream-missing-provider-id','getTotalBytes','getRank','closeTopic','.jsx','previous','calculateSize','Cannot\x20publish\x20file:\x20','listenUnsubscriber','timePerFrame','checkAudioOutput','workflow','incomingManager','getReport','senderConnection','gatheringState','traceLevel','currentBatch','Code','orderBy','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','crewdle-sdk','handleFileSync','data-collection','component','ObjectStorage','getBid','.clj','collection','unregisterRemoteNode','external-storage-invalid-path','missing-incoming-connection','registerSource','Chosen\x20answer','functions','supported','start','token','getUserMedia','word-splitter','\x20ms\x0a','\x20failed.','startsWith','support','JobDispatcherObserverNotFound','removeTrackCallback','isLoaded','NeedRestart','limit','AITrace','tokens','warning','extendedRecipients','Database\x20does\x20not\x20exist','clearConnectionTimeout','generative-ai-worker-model-sync-error','\x20MB','queues','outgoing-stream-no-topic','sendStats','getFirestore','\x27\x20from\x20','min','Error\x20during\x20MMR\x20rebuild\x20logging:','hashNodes','\x0a\x0a`Executing\x20agent\x20','text','setConnectionType','updateLastUpdated','UpdateMediaStream','processOutboundReports','engineType','media-stream','\x20finalized.','DataStream','bandwidth.jitter','toLocaleString','recomputeRoot','isValidMediaSubscriptionParams','\x20must\x20be\x20a\x20string','Agent','VectorDatabaseCreationFailed','getDatabase','Key-value\x20database\x20table\x20does\x20not\x20exist.','availableTrackKinds','addContent','getLocalMediaStreams','key-value-database-already-exists','subscription-request-does-not-exist','getMaxConnections','SenderPeerConnection.send','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','parse','getDTVolatility','NodeUpdate','/resources/generative-ai-skill/items','SenderPeerConnection\x20send','setRemoteNode','/developers/','uuid','.crewdle-pending','PubSubTopicAlreadyExists','attributes','getEntities','Count','objectToArrayBuffer','Handshake','writeFile','isNodeReady','Ingest','parseWorkflowBlocks','Invalid\x20query','deleteFileChunks','onChildRemoved','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','CREWDLE_WEB_SDK','timeoutCallback','connection','packetsReceived','KeyValueDatabaseStats','\x0aAdditional\x20Context:\x20','parentId','resolve','retryQueue','suspended','publishMove','maxDistance','sync','Resolution','connectAgent','document-parser','graphql','disableIntervalHack','Invalid\x20publisher.','setReportCapacity','getMinConnections','state','ExternalStorageConnectionAlreadySubscribed','srcObject','object-storage-upload','displayName','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','getSubscriptionInfo','getLocalId','AI\x20Worker\x20already\x20exists','owner','jobDispatchers','notifyClusterNodeUpdate','internal-sdk-error','FileDelete','PartialResult','ChunkSplitter','\x0a\x0a`Executing\x20custom\x20skill\x20','buildInitialMMR','onUnregisterPublisher','GetDate','loadFromDisk','internalDownloadDocument','stop','Key-value\x20database\x20transaction\x20value\x20not\x20set.','setEncodingParameters','ConnectionGroup','dispatchEvent','replace','keyPath','IDBDatabaseConnector','addProblem','setParams','createPubSubTopic','.mustache','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','maxResolution','Failed\x20to\x20get\x20file','ENOENT','addAudioTrack','request-accepted','entities','waitConnected','debounceRebuildMMR','removeOutgoingSubscription','All','batch','Jitter','\x20failed.\x20Retrying...','JobWorker:\x20Handling\x20job\x20attribution','frameTime','round','incomingTopic','logDataReceived','crewdleSDKDisableLogging','\x20attributed\x20to\x20','connections','openedTraces','systemTopicUnsubscribe','mediator','cpu.cycle','addCandidate','remote-media-stream-invalid-subscription-params','gpu','connection-not-connected','getTrack','file','.awk','graph-database-missing-connector','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','externalStorages','JobContext','sequence','problemType','key-value-database-transaction-value-not-set','KeyValueDatabaseSyncRequired','handleProblem','crewdle-sdk.appspot.com','messagesReceived','targetId','verb','Unexpected\x20output\x20type','logRaw','deployedVersion','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','FPS','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','joinedClusters','No\x20answer\x20block\x20found','handleNodeLeave','handleNodeJoinNeedPublishedStream','Boolean','RequestFile','getDataCollections','incrementVersion','relevance','pendingHandshakeCandidates','hasBufferedData','detectVideoIssues','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','.md','getCurrentVersion','vector-database-name-not-string','validateValue','receiverStreams','RemoteMediaStreamAlreadyExists','image','outputType','KeyValueDatabaseContentAvailable','recipients','Received\x20track','Invalid\x20object\x20store\x20sync\x20message.','packetsLost','Internal\x20event\x20\x27','play','Downgrade','Execute\x20the\x20agent\x20','cpu.av_delay','agent-config-changed','getPeaks','processTransactionsToComputeMMR','job-dispatcher-creation-failed','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','previousTimestamp','createDataChannel','trackChanges','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','fileChunks','getTrackFromParam','handleUnpublishMediaStream','logStorage','next','generative-ai-context-does-not-exist','KeyValueDatabaseNameNotString','clientWidth','publishTransaction','crewdle-sdk-logging-','topicLabel','isMediaDestination','exports','Unknown\x20skill\x20type','invalid-publisher','featureSupport','syncKeyValueDatabase','/stats','removeGraphDatabase','\x20check\x20failed','Cluster','Hub','getCoresFromCapacityReport','getClosestNodes','event','answers','height','Subscribing\x20to\x20an\x20event:\x20on','pendingFilesRename','keys','clearWaitAnswer','listenerUnsubscriber','setRemoteConnections','Key-Value\x20Database\x20-\x20Sync\x20Completed','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','answer','peerConnectionConnector','DeviceConfig','processRank','external-storage-connection-already-exists','.py','createObjectStoreBucket','Restart','history','getLayout','AppSync\x20connection\x20not\x20ready','Received\x20','generative-ai-context-job-already-consumed','subscriptionManager','snippet','table','resetConnection','tableName','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','scheduleTime','\x20does\x20not\x20support\x20content\x20type\x20','st_volatility','isWhereBetween','getTracks','action','getReceiverTotalBytes','Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','bufferEvent','onProviderChange','initializeSystemTopic','removeVectorDatabase','updateLastTransactionId','values','path','index','mistlet-capacity-report-not-set','WordSplitter','15vSqsLL','retryCount','data','AudioContext','packetsSent','\x20with\x20\x27','getGraphDatabases','handleContentUnpublishMediaStream','direction','handleStatsSystemEvents','clusters','getModels','dbKey','unregisterPublisherListener','user','options','Additional\x20context:\x0a','canChooseAnswer','WebScraper','sendFileRequestPayload','.yml','evaluateBidsAndAttributeJob','OptimizationConnectionSuccess','.erl','outgoingStreams','\x20must\x20be\x20a\x20number','getObjectStoreBuckets','Node\x20type\x20is\x20invalid','fps','senderStreams','subscription-request-failed','clusterEventEmitter','.handlebars','processContentAvailable\x20-\x20Peak\x20comparison:','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','encode','ExecuteAgent','getGrammars','setInterval','LoadKnowledgeFunction','ReceiverPeerConnection.onMessage','JobDispatcher:\x20Received\x20job','DocumentParser','taskType','hashTransaction','now','transaction','ModelText','removeRemoteConnection','GenerativeAIWorkerAlreadyExists','streamId','clearRect','crewdle-sdk-stg.appspot.com','initializeLoggingDatabase','buildTableEvent','Invalid\x20version\x20\x27','getConfigs','Outgoing','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','sendAction','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','MissingRemoteConnection','task','nextNodeId','handleFileWrite','test-page','GraphDatabaseCreationFailed','endsWith','sendPeakTransactions','addVideoTrack','__esModule','searchEngineId','objectStoreConnector','source','1.0.0.0','validateQuery','remote-inbound-rtp','failJob','toLocaleDateString','graph-database-already-exists','\x20-\x20','clearSubscriptionRequestTimeout','completed','localId','CloseExternalStorageConnection','notifyObjectStoreOfNodeLeave','Context','JobDispatcherJobExists','addEventListener','isSubscribed','type','connection-invalid-data-event','frameHeight','handleSuccess','debugEnabled','clearUpgradeTimeout','propagate','createSubscription','handleOffer','deleteObject','syncPendingFiles','AudioContext\x20is\x20not\x20available','clientStream','Table\x20not\x20found','pub-sub-topic-does-not-exist','File','setIsLoaded','getJobDispatchers','Reranker\x20block\x20is\x20missing\x20required\x20data','isComputingMMR','GenerativeAIModelOutputType','https://crewdle-sdk-default-rtdb.firebaseio.com','content','AudioVideoDelay','ClusterAlreadyJoined','GraphDatabaseDoesNotExist','.djt','comparePeaks','CONNECTION_STATE_CHANGE','blocks','vector-database-creation-failed','Reranker','remoteConnections','processContentAvailable','getWorkflowExternalStorageConnections','.ps1','pubSubTopics','Attribution','LocalReport','WorkflowTrace','timestamp','layout','Agent\x20output\x20is\x20not\x20a\x20string','closeConnection','GenerativeAIContextCreationFailed','.vue','firebaseConfig','reranker','detectLocalIssues','openExternalStorageConnection','onClose','getBitrate','bandwidth.bitrate','roundTripTime','generativeAIWorkerConnectors','getSupportedContentTypes','eventEmitter','bytesSent','MistletCapacityReportNotSet','active','\x20-\x20Sending\x20propagation\x20(','removeItem','JobWorker:\x20Error\x20processing\x20job','previousBytes','AudioVolume','Warning','setOnDisconnectHandler','resolutionScale','commitLevel','concat','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','nodeUpdate','PeerConnectionInvalidDestination','success','subscriptionRequestsQueue','getMaxDistance','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','modelsBucketId','trackEndedListeners','exists','onTrack','ObjectStore','PubSubTopicDoesNotExist','RetrieveTrace','MissingSystemTopic','Content','updateDebounce','connectionPool','writes','Recording','handleCloseContent','getSubscribedTracks','WorkflowInvalidBlockType','Debug','loggingDb','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','Invalid\x20params','maxOutgoingSubscriptions','cluster-disconnect','crewdleSDKEnableLogging','objectRequests','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','FinalOutput','createRemoteNode','cores','\x20with\x20response:','1:420235181083:web:4eff6062bd845cb0748cbe','debounceProcessRank','removeLocalMediaStream','handleDisconnect','updateUser','An\x20error\x20occurred','system-stats','758210AANKrT','PubSubTopic\x20not\x20found','.yaml','DataCollection','KeyValueDatabaseCreationFailed','accumulated','getRemoteMediaStream','processReport','writeBatch','ExternalStorageConnectorsMissing','local-media-stream-track-fail','IngestTrace','ExternalStorageStats','transactionService','pendingSyncTransactions','getEstimatedTimestamp','LocalMediaStreamNoAudioContext','key-value-database-table-does-not-exist','searchOnGoogle','Bearer\x20','ConnectionState','isMediaSource','clearOncloseTimeout','registerSystemSource','framerate','logDataSent','getBuffer','isReconnecting','desc','AudioOutput','handleRemoteTrackFailure','listener','connectionConstructor','Local\x20node\x20rank\x20is\x20not\x20set','clusterKey','processServiceReport','lastProcessRank','getStatus','graph-database-name-not-string','PromptRating','createBatch','/nodes','VectorDatabaseStats','append','processBatch','GraphSearch','key-value-database-creation-failed','openJobDispatcher','isOpened','folder-create','successNotified','amd','clientHeight','\x20must\x20be\x20a\x20valid\x20JSON\x20string','handleOptimizationConnectionSuccess','processOutboundReport','ObjectStoreNameNotString','IntermediateOutput','Prompt\x20is\x20required','Node\x20already\x20exists.','clusterId','Bid','us-east-1','MediaStream\x20feature\x20not\x20enabled','answerContentAvailable','Hash\x20computation\x20failed,\x20retrying...','setScheduleTime','OutgoingSubscription','checkWebRTC','VectorSearch','handleNodeSystemEvents','reads','FeatureNotEnabled','getLabel','From\x20','removeListener','Search','Error\x20loading\x20existing\x20content','tableObserver','signalingState','InitialPrompt','handleFileRequest','PubSubTopicNameNotString','bytesReceived','decode','knowledge','JobWorkerAlreadyExists','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','name','WorkflowDoesNotExist','minResolutionScale','senderTimeProcessing','KeyValueDatabasePeakNotFound','removeEventListener','Rating','localNode','contentSize','onConfigurationChange','contentManager','waitForSyncComplete','createLocalDynamicMediaStream','/objectstores/','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','ingestBlocks','/resources/generative-ai-workflow/items/','evaluateProccessedJob','getWorkflow','internalProcessJobStream','warn','setupRenderElement','statsReporting','detection','Vector','Info','inputTokens','Model\x20not\x20found','checkExistingPendingFileContent','moveObject','crewdleSDKLoggingChannels','Connection\x20does\x20not\x20exist.','uid','rtt','Unsupported\x20job\x20type','createExternalStorageConnection','Writable\x20stream\x20is\x20missing','handleFileRequestAnswer','QueryBuilderInvalidArgument','handleMissingSenders','split','requestSubscriptionAction','getAudioVideoDelay','1743192sTZFjl','toStringTag','removeExternalStorageConnection','SearchGoogle','Invalid\x20job\x20worker\x20type.','ownerId','messageListeners','getOrResetPendingFileTimeout','\x20sending\x20attempt\x20','padStart','New\x20MMR\x20Root:\x20','localMediaStreams','signOut','retryQueues','nodeId','generative-ai-worker-already-exists','Error','handleOnMessage','send\x20error\x20on\x20','indexes','restartTimeout','Remediation','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','lastTransactionId','deleteTransactionsForTable','handleSubscriptionNeedMediaStream','NodeInvalidType','getConnectionGroup','\x20not\x20supported','setSenderTimestamp','ExternalStorageNameNotString','SystemStats','isPromiseResolved','.exs','max','cpu.time_per_frame','pool','handleSubscriptionMediaStreamUnavailable','object-store-invalid-state','handleNeedRestart','syncContent','setOnTableWriteHandler','GetContextResult','handleIceCandidates','instance','handleOutgoingSystemEvents','DTVolatility','getCurrentDate','isInternalSDKConfigs','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','mode','gain','jitter','accumulateResult','debounceRebuildMMRWithTransaction','listenerUnsubscribers','delete','Object\x20store\x20not\x20synced.','addReservedTables','CrewdleConnectionGroup','User','PromptFunctionParamsType','loadLocalContent','StreamReport','CanProvideMediaStream','Generative\x20AI\x20context\x20job\x20failed.','runTransaction','EventEmitter','remoteNodes','out','subscribe','contextInputVariable','WebScraperRaw','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','getSubscriptionLabel','Method\x20not\x20implemented.','operator','Database\x20already\x20exists','filesSynced','Jobs','Stream\x20already\x20exists','contentRequestSent','getRemoteId','Request','sendReject','/capacities','logConnectionState','closeSubscription','abs','handleChunkMessage','not-resolved','10391680hkHaJl','CloseGraphDatabase','resolution','registerDestination','clearWaitSuccess','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','rate','closeTrace','detectAudioIssues','isWhereValue','removeJobDispatcher','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','currentBytes','Method\x20not\x20supported','createSenderConnection','No\x20parameters\x20provided','ObjectStoreInvalidSyncMessage','sendRequest','firebase-connect','Get','transactionIds','message','agent-skill','pendingFilesTransactions','minConnections','isFeatureSupported','RequestAccepted','sampleRate','setReceiverBytes','canAddCandidates','publish','collectStats','head','onDataChannel','MediaStreamUnavailable','isSyncing','signInWithCustomToken','JobDispatcherInvalidJobType','Invalid\x20job\x20service\x20payload.','peaks','true','closed','generative-ai-worker-creation-failed','getEngineType','Partial','providerId','AgentSkill','key-value-database-index-not-found','getAncestors','generative-ai-worker-missing-connector','oncloseTimeout','debounceReady','toLowerCase','distance','Invalid\x20table\x20name\x20\x27','generativeAIContexts','retryLimit','processRemoteInboundReport','handleJobAttribution','isArray','RemoteRemediation','Folder','doc','SHA-1','destination','getEnabledChannels','getResolutionScale','InvalidDataChannel','loggingConnectors','Model','handleObjectDelete','sendFile','subscription-request-in-progress','entity-extractor','capacityReporter','endpointMethod','sendIceCandidates','setProviderId','removeRemoteMediaStream','Disconnected','connection-buffer-not-empty','receiverUnsubscribers','ConnectionNotConnected','connectionManager','remediation','inbound-rtp','aws','onGatheringStateChange','buffer','RemoteRemove','receiverPreviousBytes','.tsx','.groovy','objectStores','bind','AppSync\x20client\x20not\x20ready','waitAnswer','outgoingTopic','Index','timeReceiving','tableUnsubscriber','job-dispatcher-job-not-found','counter','bufferedAmountLowThreshold','server','URL\x20is\x20required','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Subscription\x20request\x20failed.','sourceUrl','senderTotalMessages','discoveryUnsubscriber','Rejected','getOwnerId','startLoggingCycle','failed','\x20received\x20result:','onSnapshot','Memory\x20Usage\x20at\x20','processReports','oidc','connectorConstructor','compareTransactions','getPacketsLostPerc','retrieveBlocks','waitSendBuffer','modelStore','stringify','tail','Bitrate','JobWorker:\x20Received\x20job\x20request','onBufferedAmountLow','relations','Local\x20MediaStream\x20already\x20exists','Job\x20with\x20id\x20','getRemoteNodes','getVideoTracks','search','setUpgradeTimeout','Consuming\x20buffered\x20event','unsubscribeListener','RemoteConnectionExists','NodeJoin','Prompt','detail','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','removePubSubTopic','jobs','result','.ejs','processTransactionPayload','createGain','GenerativeAIContextJobAlreadyConsumed','ConnectionBufferNotEmpty','bitrate','Connection\x20does\x20not\x20exist','VectorDatabaseNameNotString','Support','Receiving\x20\x27','modelId','addPendingHandshakeCandidate','ancestors','sendWithRetry','handleSubscriptionSubscribeMediaStream','setReceiverTimestamp','RemoteAdd','documentPath','digest','keyValueDatabases','ner','PubSubTopic\x20onMessage','setupConnectionEvents','getId','transformations','requestSubscription','error','removeRemoteNode','key-value-database','receiverConnection','listen','vector-database-missing-connector','Transaction','ratePrompt','registerRemoteNode','SHA-256','processLocalReport','Database\x20Opened','reset','setRank','Invalid\x20value.\x20Property\x20\x27','find','isJobRequest','agentConfig','addBatchOperation','pubsub','JobWorkerDoesNotExist','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','hash','.bat','NodeTypeNotSupported','RoundTripTime','notifyClusterNodeJoin','object-store-invalid-path','JobWorker:\x20Tracing\x20not\x20implemented','\x20already\x20exists.','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','Add','onNodeDisconnect','count','disconnected','deleteRemoteNode','externalStorageConnectors','chooseAnswer','remoteMediaStreams','Parameter\x20','Base\x20Peer\x20Connection','setupTrackEndedListeners','race','limitToFirst','Early\x20return:\x20','systemMessagesReceived','context','NodeTypeRequired','getEmail','ObjectStoreInvalidState','getJobObservable','System','queryParameters','blockId','from','DataStream\x20send','removeTrackListeners','FileStatus','handleSystemEvents','rating','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','queryOrPrompt','object','.kt','getTotalNodes','onHandshakeStateChange','eventTarget','ExecuteCode','setBytes','InvalidSubscription','ContentType','createConnection','Stream\x20does\x20not\x20exist','decodeJWT','JobWorkerCreationFailed','getRemoteMediaStreams','indexOf','signaling','10485ohbJjX','removeSubscriptionsForNode','notifyObjectStoreOfNodeJoin','value','video','connectionState','invalid-access','startHeartbeat','object-store-already-exists','GenerativeAIContextStats','systemTopic','getJobWorkers','createGraphDatabase','Default','`\x0a\x0a','Receiver\x20connection\x20is\x20not\x20initialized.','subscriptions','destroy','.xml','InvalidAccess','propn','Remote\x20MediaStream\x20already\x20exists','VectorDatabaseMissingConnector','\x20seconds','isNeedRestart','processPendingHandshakeCandidates','initialize','move','statsReport','dataUnsubscribers','registerSystemPublisher','Delete','\x0a\x20===\x20Total\x20Time:\x20','jobBids','description','appsync-close','filter','subscriptionRequestTimeouts','request','getConnectionDestinations','signInWithCredential','setupStatsCollection','currentVersion','audioContext','Job\x20','setTimestamp','hasTracks','stopTracing','url','Events','DataStream\x20onMessage','bufferedChunks','createMediaStreamDestination','CloseMediaStream','shouldProcessTransaction','fileSendingMap','getRoundTripTime','mediaTopics','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','bandwidth.rtt','enabledChannels','sender','receiverTotalMessages','KeyValueDatabaseAlreadyExists','add','getContext','loadExternalContent','GenerativeAIContextJobMissingThreadId','Valid\x20layout','createPendingFileWrite','threadId','Queued','JobDispatcherInvalidPayload','setupListeners','maxLayer','JobStatus','set','PubSub\x20already\x20exists','Media','Node\x20does\x20not\x20exist.','@context.','changesUnsubscriber','transactionsToSync','setContent','addTrack','commitType','getDisplayName','isRunning','assign','StorageEventType','contentRect','processPendingSyncTransactions','getMilliseconds','web-scraper','custom-skill','SubscriptionRequestFailed','generative-ai-context-job-timeout','user-update','Success','frames','match','JobDispatcherCreationFailed','CloseVectorDatabase','clockSkew','parseDataCollectionBlocks','discover','update','log','timeSending','createBatchOperation','\x20not\x20found.','getIsLoaded','collectSendersStats','Core','includes','appsync-connect','get','length','handshakeDebounce','chunk-splitter','syncResolve','everyone','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','totalDecodeTime','issues','boolean','FileMove','\x20answer','detectStreamIssues','answererId','GenerativeAIContextInvalidPartialResult','appendTransaction','CloseObjectStoreBucket','.html','ObjectStorageUpload','STVolatility','FileWrite','accessToken','problem','logEvent','manageBufferedChunks','tableLayout','tracks','Missing\x20owner\x20node\x20or\x20rank','NeedMediaStream','publishNodeLeave','retryCallback','getAvailableTrackKinds','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','addRemoteNode','KeyValueDatabaseInvalidQuery','Code\x20is\x20required','.erb','handlePeerConnectionSystemEvents','.pug','connectionGroup','content-publish-media','getNextTargetRank','receiverBitrate','logServiceEvent','OutgoingMediaStreamNoTopic','G-F7W8KXRKQB','No\x20global\x20object\x20found','unregisterPublisher','job-worker-already-exists','between','pendingFilesSyncing','SystemTopic\x20publish','entity','operations','isSync','handleSubscriptionProvideMediaStream','removeObjectStore','maps','getPeakNode','No\x20connections\x20available\x20to\x20send\x20message','GenerativeAIEngineType','CustomSkill','root\x20hash:\x20','getSentences','14677976kRkUGh','KeyValueDatabase\x20-\x20Sync\x20completed','remediations','publishUserUpdate','getVectorDatabases','mute','ObjectStoreInvalidPayload','Cannot\x20list\x20directory:\x20','debounceLogTimeout','SyncComplete','getDistance','application/octet-stream','messageCallback','connectionType','publishFile','addNode','/resources/generative-ai-grammar/items','peer-connection-invalid-destination','sourceVideo','cost','default','heartbeatUnsubscriber','crewdle-sdk.firebaseapp.com','ccc','getExternalStorageConnections','Error\x20fetching\x20context','syncedFileExists','NodeNotAuthenticated','getMediaStream','queries','nodes','getContentType','map','output','childRemovedUnsubscriber','Pool','getInternalStreamId','authNode','Update','transactionsToAppend','destinationIds','handleSubscriptionRestartNeedMediaStream','DEBUG\x20-\x20','OfficeParser','subscription-request-no-answer','messages','externalStorageConnections','topic','computeHash','fetchContentFromUrl','createBuffer','addEdge','retry','Syncing','time','GetContextQuery','title','.liquid','canProvideResolution','2240092sHJeMI','logInitialMMR','vector-database-already-exists','.rs','LocalMediaStreamAlreadyExists','onRemoveTrack','searchConnector','ready','upgradeTimeout','getCapacityReport','authContext','rebuildMMR','Failed\x20to\x20send\x20job\x20','CloseKeyValueDatabase','totalEncodeTime','Error\x20resolving\x20readyPromises:','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','Waiting','memoryUsage','lastCapacityReport','checkSyncComplete','clearHeartbeat','node-type-not-supported','isChannelEnabled','\x20writes\x20from\x20','Vector\x20database\x20creation\x20failed.','Sender\x20connection\x20is\x20not\x20initialized.','Job\x20worker\x20creation\x20failed.','disconnect','cluster','createLocalMediaStream','versions','serverTimestamp','Key-value\x20database\x20creation\x20failed.','.ipynb','end','\x27\x20reserved','getName','currentFrames','sendTransactionsValue\x20-\x20value\x20not\x20found','generative-ai-context-invalid-partial-result','setPendingFileSyncingPayload','committed','remote-stream-does-not-exist','createAIJob','asc','iceServers','Model\x20store\x20not\x20initialized','Node\x20type\x20is\x20required','getDisplayMedia','.gguf','GenerativeAIContextAlreadyExists','batchSize','KeyValueDatabaseTableNotFound','detectProblems','FramePerSecond','stream','.rkt','checkDeviceConfig','Node\x20is\x20not\x20an\x20agent','0\x20B','Skill','Online','Error\x20encountered\x20while\x20opening\x20database','query-helper-invalid-argument','Incoming','getExternalStorageConnection','handleContentCloseMediaStream','external-storage-connection-already-subscribed','newPath','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','\x20for\x20','senderBitrate','observer','GenerativeAILabelConflict','Search\x20connector\x20not\x20set','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','publishNodeJoin','processReceivedTransactions','Workflow\x20not\x20initialized','senderPreviousBytes','ObjectKind','getHash','trackListeners','RequestFileWrite','setStatus','splitParts','openJobWorker','Send\x20request','graphDatabases','openVectorDatabase','Low','Query\x20is\x20required','close','drawImage','KeyValueDatabaseRequestPeakTransactions','getJobs','PubSubTopic\x20publish','GenerativeAIRatingStatus','authService','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','region','ObjectStoreStats','Invalid\x20data\x20channel.','Emitting\x20event\x20on\x20local\x20cluster','splice','getPubSubTopics','inputType','GenerativeAIContextJobFailed','cleanOldSubscription','syncFolder','VectorDatabaseAlreadyExists','workflow-invalid-block-type','High','currentDistance','GraphDatabaseNameNotString','nodeManager','NodeDoesNotExist','Subscription','overlap','endpoint','outbound-rtp','subscription','sort','WebGL','offset','Offline','subject','CloseJobDispatcher','\x20transactions\x20from\x20node\x20','local-media-stream-no-audio-context','FetchUrl','status','contextOutputVariable','version','.sql','ObjectStoreInvalidPath','chosenAnswers','getSenderTotalBytes','getLocalNode','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','.scala','removeRemoteStreamSubscription','wait','Logging\x20not\x20enabled\x20for\x20channel\x20','jobPhase','Internal\x20SDK\x20error:\x20','missing-datachannel','isBidResponse','evaluatePartialJob','shift','toString','Received\x20content\x20available\x20from\x20node','graph-database-creation-failed','prompts','captureStream','getInternalTrackParams','string','openGenerativeAIContext','resizeHandler','ended','receiverTimeProcessing','jobObservers','getLastUpdated','startTracing','receiverCurrentTimestamp','node-not-authenticated','ObjectStoreAlreadyExists','handlePublishMediaStream','query','compileStats','dataTopics','join-cluster','receiver','Connected','removeSubscription','errorDetails','authenticateUser','getObjectStoreBucket','graph-database','startTime','getContent','ScreenSharing','tables','streams','Error\x20searching','onNodeUpdate','trace','addRemoteConnection','CloseJobWorker','/nodes/','Job\x20Worker\x20does\x20not\x20exist','handleError','google','Move','Graph\x20database\x20creation\x20failed.','logs','setLoggingConnectors','remediationManager','downloadDocument','dataChannel','isAvailable','handleNodeDisconnect','total','getDoc','JobType','7NiNiGa','openTrace','crewdle-sdk-stg.firebaseapp.com','manageOptimization','ObjectStoreNotSynced','PayloadAction','joinCluster','all','Internal\x20unknown\x20error:\x20','params','JobDispatcherAlreadyExists','send','job-dispatcher-job-exists','ExternalStorage','generative-ai','mediaStream','statsManager','GraphDatabase\x20not\x20found','Error\x20executing\x20code','onMessage','KeyValueDatabaseTableNameReserved','searchApiKey','Knowledge','Optimization','cachedRoot','configure','size','topics','leave','Error\x20processing\x20retrieve','processDataChannelReport','jobType','Error\x20fetching\x20URL','nodeKey','av_delay','createConstantSource','observe','ExternalStorageInvalidPath','retrieveContext','rootComputationPromise','Receiver','retryDelay','some','.cs','DataChannel\x20is\x20not\x20open.','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','syncTransactionsWritten','graph-database-does-not-exist','canvas','request-file-write','lastHeartbeat','removeThread','isIceCandidate','endpointUrl','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','checkWebGL','KeyValueDatabaseDoesNotExist'];a0_0x1c53=function(){return _0x4bd367;};return a0_0x1c53();}function a0_0x34e5(_0xebf4a0,_0x7a6fd1){const _0x1c53bf=a0_0x1c53();return a0_0x34e5=function(_0x34e5c0,_0x2c7dbe){_0x34e5c0=_0x34e5c0-0x195;let _0x3d70c3=_0x1c53bf[_0x34e5c0];return _0x3d70c3;},a0_0x34e5(_0xebf4a0,_0x7a6fd1);}(function(_0x482931,_0x56a6bd){const _0x1de36e=a0_0x34e5,_0x3187c4=_0x482931();while(!![]){try{const _0x12e0b2=-parseInt(_0x1de36e(0x6ae))/0x1+parseInt(_0x1de36e(0x62b))/0x2*(parseInt(_0x1de36e(0x560))/0x3)+parseInt(_0x1de36e(0x8f4))/0x4+parseInt(_0x1de36e(0x805))/0x5*(-parseInt(_0x1de36e(0x2d3))/0x6)+-parseInt(_0x1de36e(0x9c2))/0x7*(-parseInt(_0x1de36e(0x8b9))/0x8)+parseInt(_0x1de36e(0x3f0))/0x9+-parseInt(_0x1de36e(0x709))/0xa;if(_0x12e0b2===_0x56a6bd)break;else _0x3187c4['push'](_0x3187c4['shift']());}catch(_0x3b90f8){_0x3187c4['push'](_0x3187c4['shift']());}}}(a0_0x1c53,0xedd0c),!function(_0xb0914c,_0x2e25d6){const _0x59827f=a0_0x34e5;if(_0x59827f(0x7f5)==typeof exports&&_0x59827f(0x7f5)==typeof module)module['exports']=_0x2e25d6();else{if(_0x59827f(0xa08)==typeof define&&define[_0x59827f(0x65e)])define([],_0x2e25d6);else{var _0x327464=_0x2e25d6();for(var _0x1b5603 in _0x327464)('object'==typeof exports?exports:_0xb0914c)[_0x1b5603]=_0x327464[_0x1b5603];}}}(this,()=>((()=>{'use strict';const _0x2358f4=a0_0x34e5;var _0x2899a5={0x14d:(_0x16e5b7,_0x28bc9d,_0x1f2b9e)=>{const _0x22e1a3=a0_0x34e5;_0x1f2b9e['d'](_0x28bc9d,{'O':()=>_0x4d24c5});const _0x4d24c5={'version':_0x22e1a3(0x5aa),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x22e1a3(0x425),'authDomain':_0x22e1a3(0x9c4),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':'crewdle-sdk-stg','storageBucket':_0x22e1a3(0x594),'appId':_0x22e1a3(0x25f),'functionsRegion':_0x22e1a3(0xa2c)},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x22e1a3(0x59c),'region':_0x22e1a3(0x669)}};},0x33b:(_0x582698,_0x295df5,_0x46b2f9)=>{_0x46b2f9['d'](_0x295df5,{'O':()=>_0xbcbb01});const _0xbcbb01={};},0x3e6:(_0x475bcf,_0x5382b4,_0x5cc69b)=>{const _0x5c428e=a0_0x34e5;_0x5cc69b['d'](_0x5382b4,{'O':()=>_0x3a79c3});const _0x3a79c3={'version':'1.0.0','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5c428e(0x4fc),'authDomain':_0x5c428e(0x8cf),'databaseURL':_0x5c428e(0x5cf),'projectId':_0x5c428e(0x426),'storageBucket':_0x5c428e(0x4e6),'messagingSenderId':'420235181083','appId':_0x5c428e(0x624),'measurementId':_0x5c428e(0x8a6)},'aws':{'endpoint':_0x5c428e(0x483),'region':'us-east-1'}};},0x20:(_0x227fa9,_0x173d7b,_0x57ff25)=>{_0x57ff25['d'](_0x173d7b,{'O':()=>_0x4dcea5});const _0x4dcea5={};}},_0x1fddd7={};function _0x5330e2(_0x286164){const _0x3f25ee=a0_0x34e5;var _0x3c9810=_0x1fddd7[_0x286164];if(void 0x0!==_0x3c9810)return _0x3c9810[_0x3f25ee(0x524)];var _0x5a412d=_0x1fddd7[_0x286164]={'exports':{}};return _0x2899a5[_0x286164](_0x5a412d,_0x5a412d[_0x3f25ee(0x524)],_0x5330e2),_0x5a412d['exports'];}_0x5330e2['d']=(_0x325da2,_0x119822)=>{const _0x22590f=a0_0x34e5;for(var _0x2824f4 in _0x119822)_0x5330e2['o'](_0x119822,_0x2824f4)&&!_0x5330e2['o'](_0x325da2,_0x2824f4)&&Object[_0x22590f(0x214)](_0x325da2,_0x2824f4,{'enumerable':!0x0,'get':_0x119822[_0x2824f4]});},_0x5330e2['g']=(function(){const _0x664927=a0_0x34e5;if(_0x664927(0x7f5)==typeof globalThis)return globalThis;try{return this||new Function(_0x664927(0x2cd))();}catch(_0x14b61d){if(_0x664927(0x7f5)==typeof window)return window;}}()),_0x5330e2['o']=(_0x7823a9,_0x58b034)=>Object['prototype']['hasOwnProperty']['call'](_0x7823a9,_0x58b034),_0x5330e2['r']=_0x3af991=>{const _0x6340f8=a0_0x34e5;_0x6340f8(0x1fd)!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x3af991,Symbol[_0x6340f8(0x6af)],{'value':'Module'}),Object[_0x6340f8(0x214)](_0x3af991,_0x6340f8(0x5a6),{'value':!0x0});};var _0x3412d7,_0x4ae419,_0x577427,_0x5385df={};_0x5330e2['r'](_0x5385df),_0x5330e2['d'](_0x5385df,{'KeyValueDatabase':()=>_0x3b885e,'LayoutBuilder':()=>_0x378756,'LoggingChannels':()=>_0x577427,'QueryBuilder':()=>_0x1cd769,'SDK':()=>_0x2838fd,'SDKClientErrorCodes':()=>_0x3412d7,'TableBuilder':()=>_0x1dee5f,'logger':()=>_0x561d9b}),function(_0x216e09){const _0x2950ce=a0_0x34e5;_0x216e09['ConnectionBufferNotEmpty']=_0x2950ce(0x759),_0x216e09[_0x2950ce(0x5d2)]=_0x2950ce(0x40e),_0x216e09['ExternalStorageConnectionAlreadyExists']=_0x2950ce(0x53f),_0x216e09[_0x2950ce(0x49b)]=_0x2950ce(0x938),_0x216e09[_0x2950ce(0x393)]=_0x2950ce(0x239),_0x216e09[_0x2950ce(0x634)]=_0x2950ce(0x3e0),_0x216e09['ExternalStorageInvalidPath']=_0x2950ce(0x42f),_0x216e09[_0x2950ce(0x6cc)]='external-storage-name-not-string',_0x216e09[_0x2950ce(0x673)]='feature-not-enabled',_0x216e09['GenerativeAIContextAlreadyExists']='generative-ai-context-already-exists',_0x216e09[_0x2950ce(0x3ef)]=_0x2950ce(0x51d),_0x216e09[_0x2950ce(0x848)]='generative-ai-context-job-missing-thread-id',_0x216e09['GenerativeAILabelConflict']='generative-ai-label-conflict',_0x216e09[_0x2950ce(0x591)]=_0x2950ce(0x6bd),_0x216e09[_0x2950ce(0x1e6)]=_0x2950ce(0x73a),_0x216e09[_0x2950ce(0x3db)]=_0x2950ce(0x448),_0x216e09['GraphDatabaseAlreadyExists']=_0x2950ce(0x5af),_0x216e09[_0x2950ce(0x5d3)]=_0x2950ce(0x9f1),_0x216e09[_0x2950ce(0x2e0)]=_0x2950ce(0x4dd),_0x216e09[_0x2950ce(0x967)]=_0x2950ce(0x651),_0x216e09[_0x2950ce(0x9cc)]=_0x2950ce(0x24e),_0x216e09[_0x2950ce(0x2a0)]=_0x2950ce(0x1d9),_0x216e09[_0x2950ce(0x5b7)]=_0x2950ce(0x9ce),_0x216e09[_0x2950ce(0x1a4)]=_0x2950ce(0x76e),_0x216e09[_0x2950ce(0x72e)]='job-dispatcher-invalid-job-type',_0x216e09[_0x2950ce(0x681)]=_0x2950ce(0x8a9),_0x216e09[_0x2950ce(0x7cb)]=_0x2950ce(0x1d2),_0x216e09[_0x2950ce(0x99b)]=_0x2950ce(0x80d),_0x216e09[_0x2950ce(0x22a)]=_0x2950ce(0x3a9),_0x216e09[_0x2950ce(0x40c)]='object-store-stream-does-not-exist',_0x216e09['ObjectStoreNameNotString']=_0x2950ce(0x252),_0x216e09[_0x2950ce(0x8bf)]=_0x2950ce(0x293),_0x216e09[_0x2950ce(0x97c)]=_0x2950ce(0x7d2),_0x216e09[_0x2950ce(0xa45)]='object-store-not-in-sync',_0x216e09[_0x2950ce(0xa6a)]=_0x2950ce(0x4a6),_0x216e09['InvalidAccess']=_0x2950ce(0x80b),_0x216e09[_0x2950ce(0x844)]=_0x2950ce(0x468),_0x216e09[_0x2950ce(0x9fa)]=_0x2950ce(0x2b9),_0x216e09['KeyValueDatabaseIndexNotFound']=_0x2950ce(0x738),_0x216e09['KeyValueDatabaseInvalidQuery']=_0x2950ce(0x3ee),_0x216e09[_0x2950ce(0xa59)]='key-value-database-invalid-value',_0x216e09[_0x2950ce(0x51e)]=_0x2950ce(0xa95),_0x216e09['KeyValueDatabaseNotOpen']=_0x2950ce(0x244),_0x216e09[_0x2950ce(0x9d6)]='key-value-database-table-name-reserved',_0x216e09[_0x2950ce(0x929)]='key-value-database-table-not-found',_0x216e09[_0x2950ce(0x1b8)]='key-value-database-invalid-layout',_0x216e09[_0x2950ce(0x8f8)]='local-media-stream-already-exists',_0x216e09[_0x2950ce(0x63b)]=_0x2950ce(0x976),_0x216e09[_0x2950ce(0x476)]='pub-sub-topic-already-exists',_0x216e09[_0x2950ce(0x60c)]=_0x2950ce(0x5c8),_0x216e09['PubSubTopicNameNotString']='pub-sub-topic-name-not-string',_0x216e09[_0x2950ce(0x1bc)]='pub-sub-topic-already-subscribed',_0x216e09['QueryBuilderInvalidArgument']=_0x2950ce(0x934),_0x216e09[_0x2950ce(0x502)]=_0x2950ce(0x223),_0x216e09['RemoteMediaStreamInvalidSubscriptionParams']=_0x2950ce(0x4d7),_0x216e09[_0x2950ce(0x3de)]=_0x2950ce(0x751),_0x216e09['NodeNotAuthenticated']=_0x2950ce(0x99a),_0x216e09[_0x2950ce(0x6c8)]='node-invalid-type',_0x216e09['NodeTypeNotSupported']=_0x2950ce(0x90a),_0x216e09[_0x2950ce(0x7e6)]=_0x2950ce(0x40a),_0x216e09[_0x2950ce(0x963)]=_0x2950ce(0x8f6),_0x216e09[_0x2950ce(0x1ce)]='vector-database-does-not-exist',_0x216e09[_0x2950ce(0x81b)]=_0x2950ce(0x7bc),_0x216e09[_0x2950ce(0x7a4)]=_0x2950ce(0x4ff);}(_0x3412d7||(_0x3412d7={}));class _0x5af266 extends Error{['code'];constructor(_0x26a8cd,_0x134fd8){const _0x1b228f=a0_0x34e5;super(_0x134fd8),this[_0x1b228f(0x1fe)]=_0x26a8cd;}}!function(_0x4f9062){const _0x5a7940=a0_0x34e5;_0x4f9062[_0x5a7940(0x356)]=_0x5a7940(0x7ca),_0x4f9062[_0x5a7940(0x42a)]=_0x5a7940(0x2ae),_0x4f9062[_0x5a7940(0x212)]=_0x5a7940(0x7b9),_0x4f9062[_0x5a7940(0x219)]=_0x5a7940(0xa60),_0x4f9062[_0x5a7940(0xa16)]=_0x5a7940(0x9a7),_0x4f9062[_0x5a7940(0x9cf)]='external-storage',_0x4f9062[_0x5a7940(0x37a)]=_0x5a7940(0x459),_0x4f9062[_0x5a7940(0x1c0)]=_0x5a7940(0x9d0);}(_0x4ae419||(_0x4ae419={})),function(_0x5ac89e){const _0x54be05=a0_0x34e5;_0x5ac89e[_0x54be05(0x4c6)]='all',_0x5ac89e[_0x54be05(0x812)]=_0x54be05(0x8cd),_0x5ac89e[_0x54be05(0xa96)]='connection',_0x5ac89e[_0x54be05(0x63f)]=_0x54be05(0x283),_0x5ac89e[_0x54be05(0x52c)]=_0x54be05(0x911),_0x5ac89e[_0x54be05(0x60f)]='content',_0x5ac89e[_0x54be05(0x45b)]=_0x54be05(0xa49),_0x5ac89e[_0x54be05(0x241)]=_0x54be05(0x69a),_0x5ac89e[_0x54be05(0x836)]='events',_0x5ac89e[_0x54be05(0x6be)]=_0x54be05(0x7b7),_0x5ac89e[_0x54be05(0x6fd)]='jobs',_0x5ac89e[_0x54be05(0x212)]=_0x54be05(0x7b9),_0x5ac89e[_0x54be05(0x201)]=_0x54be05(0x3b6),_0x5ac89e['Pool']=_0x54be05(0x6d2),_0x5ac89e['PubSub']=_0x54be05(0x7ca),_0x5ac89e[_0x54be05(0x402)]=_0x54be05(0xa67),_0x5ac89e['Remediation']=_0x54be05(0x75d),_0x5ac89e[_0x54be05(0x305)]='sender-send-message',_0x5ac89e[_0x54be05(0x2e4)]=_0x54be05(0x804),_0x5ac89e['Stats']='stats',_0x5ac89e[_0x54be05(0x96a)]=_0x54be05(0x96e),_0x5ac89e['Support']=_0x54be05(0x43c),_0x5ac89e['System']=_0x54be05(0x1f4),_0x5ac89e[_0x54be05(0x6cd)]=_0x54be05(0x62a),_0x5ac89e['TestPage']=_0x54be05(0x5a1),_0x5ac89e[_0x54be05(0x2ce)]='peer-connection';}(_0x577427||(_0x577427={}));const _0x4ab575=require('@crewdle/web-sdk-types');class _0x1cd769{[_0x2358f4(0x99d)];constructor(_0x4ea3c3){const _0x218b33=_0x2358f4;this[_0x218b33(0x99d)]={'orderBy':{'key':_0x4ea3c3,'direction':_0x218b33(0x921)}};}static[_0x2358f4(0x55d)](_0x27e7d9){const _0x36261d=_0x2358f4;if('string'!=typeof _0x27e7d9||0x0===_0x27e7d9[_0x36261d(0x87a)])throw new _0x5af266(_0x3412d7[_0x36261d(0x6a9)],_0x36261d(0x2e3));return new _0x1cd769(_0x27e7d9);}static[_0x2358f4(0x5ab)](_0x37a134){const _0x4c026b=_0x2358f4;try{return _0x1cd769[_0x4c026b(0x2b2)](_0x37a134),!0x0;}catch(_0x52af37){return!0x1;}}static[_0x2358f4(0x2b2)](_0x4ab042){const _0x493842=_0x2358f4,_0xd34127=_0x1cd769[_0x493842(0x55d)](_0x4ab042[_0x493842(0x424)]?.[_0x493842(0xa23)]??_0x4ab042[_0x493842(0xaa0)]?.['key']??'');if(_0x4ab042[_0x493842(0xaa0)]){const _0x5637b4=_0x4ab042['where'];if((_0x1cd769['isWhereValue'](_0x5637b4)||_0x1cd769[_0x493842(0x203)](_0x5637b4)||_0x1cd769[_0x493842(0x551)](_0x5637b4))&&_0xd34127[_0x493842(0xaa0)](_0x5637b4[_0x493842(0x6fa)],_0x5637b4[_0x493842(0x808)]),_0x4ab042[_0x493842(0x424)]?.[_0x493842(0xa23)]&&_0x4ab042[_0x493842(0x424)]?.[_0x493842(0xa23)]!==_0x4ab042['where'][_0x493842(0xa23)])throw new _0x5af266(_0x3412d7['QueryBuilderInvalidArgument'],_0x493842(0x25b));}return _0x4ab042[_0x493842(0x424)]&&_0xd34127[_0x493842(0x424)](_0x4ab042['orderBy'][_0x493842(0x568)]),_0x4ab042[_0x493842(0x441)]&&_0xd34127[_0x493842(0x441)](_0x4ab042[_0x493842(0x441)]),_0x4ab042[_0x493842(0x971)]&&_0xd34127[_0x493842(0x971)](_0x4ab042[_0x493842(0x971)]),_0xd34127;}[_0x2358f4(0x383)](){const _0x45004b=_0x2358f4;return{...this[_0x45004b(0x99d)]};}[_0x2358f4(0xaa0)](_0x3299a5,_0x1026bb){const _0x4d47e1=_0x2358f4,_0x16433a={'key':this[_0x4d47e1(0x99d)][_0x4d47e1(0x424)][_0x4d47e1(0xa23)],'operator':_0x3299a5,'value':_0x1026bb};if(!_0x1cd769['isWhereValue'](_0x16433a)&&!_0x1cd769['isWhereValues'](_0x16433a)&&!_0x1cd769[_0x4d47e1(0x551)](_0x16433a))throw new _0x5af266(_0x3412d7['QueryBuilderInvalidArgument'],'Invalid\x20where\x20clause');return this[_0x4d47e1(0x99d)][_0x4d47e1(0xaa0)]=_0x16433a,this;}[_0x2358f4(0x424)](_0x42a819){const _0x595428=_0x2358f4;if(_0x595428(0x921)!==_0x42a819&&_0x595428(0x647)!==_0x42a819)throw new _0x5af266(_0x3412d7[_0x595428(0x6a9)],_0x595428(0x4ed));return this[_0x595428(0x99d)][_0x595428(0x424)][_0x595428(0x568)]=_0x42a819,this;}['limit'](_0xaa6c11){const _0x26a089=_0x2358f4;if(_0x26a089(0x2d6)!=typeof _0xaa6c11||_0xaa6c11<0x0)throw new _0x5af266(_0x3412d7['QueryBuilderInvalidArgument'],_0x26a089(0x904));return this['query']['limit']=_0xaa6c11,this;}[_0x2358f4(0x971)](_0x19dc34){const _0x12af9c=_0x2358f4;if(_0x12af9c(0x2d6)!=typeof _0x19dc34||_0x19dc34<0x0)throw new _0x5af266(_0x3412d7[_0x12af9c(0x6a9)],_0x12af9c(0x1b7));return this['query']['offset']=_0x19dc34,this;}static[_0x2358f4(0x712)](_0x35bdd6){const _0x10fb68=_0x2358f4;if(!(_0x35bdd6&&_0x10fb68(0x7f5)==typeof _0x35bdd6&&'operator'in _0x35bdd6&&'value'in _0x35bdd6))return!0x1;const {operator:_0x361bb5,value:_0x1cc0e5}=_0x35bdd6;return!(!['==','!=','>','<','<=','>=']['includes'](_0x361bb5)||Array[_0x10fb68(0x744)](_0x1cc0e5));}static[_0x2358f4(0x203)](_0x3a25d6){const _0x2e9d64=_0x2358f4;if(!(_0x3a25d6&&'object'==typeof _0x3a25d6&&_0x2e9d64(0x6fa)in _0x3a25d6&&_0x2e9d64(0x808)in _0x3a25d6))return!0x1;const {operator:_0x4ae17a,value:_0x1bbb1b}=_0x3a25d6;return!(!['in','not-in']['includes'](_0x4ae17a)||!Array[_0x2e9d64(0x744)](_0x1bbb1b));}static[_0x2358f4(0x551)](_0x3b5aa4){const _0x406d94=_0x2358f4;if(!(_0x3b5aa4&&_0x406d94(0x7f5)==typeof _0x3b5aa4&&'operator'in _0x3b5aa4&&_0x406d94(0x808)in _0x3b5aa4))return!0x1;const {operator:_0x1aa56e,value:_0x2e3d59}=_0x3b5aa4;return!(_0x406d94(0x8aa)!==_0x1aa56e||!Array[_0x406d94(0x744)](_0x2e3d59)||0x2!==_0x2e3d59[_0x406d94(0x87a)]);}}class _0x378756{[_0x2358f4(0x5e3)];constructor(_0x265f72){const _0x2ef1dc=_0x2358f4;this[_0x2ef1dc(0x5e3)]={'tables':{},'version':_0x265f72};}static[_0x2358f4(0xa37)](_0x2d1e39){const _0x781be9=_0x2358f4;for(const _0x3d0dbf in _0x2d1e39){if(_0x781be9(0x97a)!==_0x3d0dbf&&_0x781be9(0x9ab)!==_0x3d0dbf)return[!0x1,'Invalid\x20key\x20\x27'+_0x3d0dbf+_0x781be9(0x30e)];if(_0x781be9(0x9ab)===_0x3d0dbf)for(const _0x49a5bb in _0x2d1e39[_0x781be9(0x9ab)]){if(_0x781be9(0x991)!=typeof _0x49a5bb)return[!0x1,_0x781be9(0x73f)+_0x49a5bb+'\x27'];for(const _0x26d8d6 in _0x2d1e39['tables'][_0x49a5bb]){if(_0x781be9(0x6c1)!==_0x26d8d6)return[!0x1,_0x781be9(0x31d)+_0x26d8d6+_0x781be9(0x23b)+_0x49a5bb+'\x27'];const _0x5099c4=_0x2d1e39[_0x781be9(0x9ab)][_0x49a5bb][_0x26d8d6]??[];for(const _0x3c5dcd of _0x5099c4)if(void 0x0===_0x3c5dcd[_0x781be9(0x4b6)]||_0x781be9(0x991)!=typeof _0x3c5dcd['keyPath'])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x49a5bb+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x781be9(0x97a)===_0x3d0dbf&&_0x781be9(0x2d6)!=typeof _0x2d1e39[_0x3d0dbf])return[!0x1,_0x781be9(0x597)+_0x2d1e39[_0x3d0dbf]+_0x781be9(0x691)];}}return[!0x0,_0x781be9(0x849)];}static[_0x2358f4(0x5e3)](_0x11422c){const _0x43ced8=_0x2358f4,_0x3dc147=new _0x378756(_0x11422c);return _0x3dc147[_0x43ced8(0x5e3)][_0x43ced8(0x97a)]=_0x11422c,_0x3dc147;}['table'](_0x232050){const _0x4a1a9d=_0x2358f4;return this[_0x4a1a9d(0x5e3)][_0x4a1a9d(0x9ab)][_0x232050]={},new _0x1dee5f(this[_0x4a1a9d(0x5e3)]['tables'][_0x232050]);}[_0x2358f4(0x544)](){const _0x53d473=_0x2358f4;return this[_0x53d473(0x5e3)];}}class _0x1dee5f{['tableLayout'];constructor(_0x2e68e7){this['tableLayout']=_0x2e68e7;}[_0x2358f4(0x55d)](_0x16335c){const _0x252a23=_0x2358f4;return this[_0x252a23(0x892)][_0x252a23(0x6c1)]=this[_0x252a23(0x892)][_0x252a23(0x6c1)]??[],this[_0x252a23(0x892)]['indexes']['push']({'keyPath':_0x16335c}),this;}}const _0x10e28c=0x40000,_0x412712=0x3f800,_0x9a9f66=0x1388,_0x457b48=_0x2358f4(0x275),_0x22914a=_0x2358f4(0x475),_0x23e70c='.crewdle-transactions',_0x5c9f1f='.crewdle-layout',_0x56b3f6=0xdbba0,_0x4a6edf=_0x2358f4(0x926),_0x1010ad=0x61a8,_0x48ff0f=_0x2358f4(0xa02);var _0x2a07f5;!function(_0x5d1be5){const _0xbf0833=_0x2358f4;_0x5d1be5[_0xbf0833(0xa7e)]=_0xbf0833(0x34e),_0x5d1be5[_0xbf0833(0x75b)]=_0xbf0833(0x4d9),_0x5d1be5['ConnectionNoRetryQueue']='connection-no-retry-queue',_0x5d1be5['ConnectionInvalidDataEvent']=_0xbf0833(0x5bb),_0x5d1be5[_0xbf0833(0x5e6)]='generative-ai-context-creation-failed',_0x5d1be5[_0xbf0833(0x887)]=_0xbf0833(0x91c),_0x5d1be5[_0xbf0833(0x7a0)]=_0xbf0833(0x547),_0x5d1be5['GenerativeAIContextJobFailed']=_0xbf0833(0x1f8),_0x5d1be5['GenerativeAIContextJobTimeout']=_0xbf0833(0x865),_0x5d1be5[_0xbf0833(0xa35)]=_0xbf0833(0x733),_0x5d1be5[_0xbf0833(0x5a2)]=_0xbf0833(0x98d),_0x5d1be5['InvalidDataChannel']=_0xbf0833(0x373),_0x5d1be5['InvalidPublisher']=_0xbf0833(0x526),_0x5d1be5[_0xbf0833(0x222)]='invalid-subscriber',_0x5d1be5['InvalidSubscription']=_0xbf0833(0x354),_0x5d1be5[_0xbf0833(0x86a)]=_0xbf0833(0x512),_0x5d1be5['JobDispatcherInvalidPayload']='job-dispatcher-invalid-payload',_0x5d1be5[_0xbf0833(0x1a4)]=_0xbf0833(0x76e),_0x5d1be5[_0xbf0833(0x43d)]='job-dispatcher-observer-not-found',_0x5d1be5[_0xbf0833(0x801)]='job-worker-creation-failed',_0x5d1be5[_0xbf0833(0x37f)]=_0xbf0833(0x204),_0x5d1be5['KeyValueDatabaseCreationFailed']=_0xbf0833(0x659),_0x5d1be5[_0xbf0833(0x687)]=_0xbf0833(0xa99),_0x5d1be5['KeyValueDatabaseTableDoesNotExist']=_0xbf0833(0x63c),_0x5d1be5[_0xbf0833(0x209)]='key-value-database-transaction-table-not-initialized',_0x5d1be5[_0xbf0833(0x33d)]=_0xbf0833(0x4e3),_0x5d1be5['LocalMediaStreamDoesNotExist']=_0xbf0833(0xa57),_0x5d1be5[_0xbf0833(0x59d)]=_0xbf0833(0x430),_0x5d1be5[_0xbf0833(0x60e)]=_0xbf0833(0xa94),_0x5d1be5[_0xbf0833(0x5f4)]=_0xbf0833(0x55e),_0x5d1be5[_0xbf0833(0x386)]='object-store-cannot-write-transaction',_0x5d1be5[_0xbf0833(0x7e8)]=_0xbf0833(0x6d4),_0x5d1be5['ObjectStoreInvalidSyncMessage']=_0xbf0833(0x1b2),_0x5d1be5[_0xbf0833(0x9c6)]=_0xbf0833(0xa6c),_0x5d1be5['OutgoingMediaStreamNoTopic']=_0xbf0833(0x44b),_0x5d1be5[_0xbf0833(0x2cb)]=_0xbf0833(0x91f),_0x5d1be5[_0xbf0833(0xaa2)]=_0xbf0833(0x411),_0x5d1be5[_0xbf0833(0x795)]='remote-connection-exists',_0x5d1be5[_0xbf0833(0x291)]=_0xbf0833(0x469),_0x5d1be5[_0xbf0833(0x864)]=_0xbf0833(0x57e),_0x5d1be5[_0xbf0833(0x3bf)]=_0xbf0833(0x8e5),_0x5d1be5['NodeDoesNotExist']=_0xbf0833(0x3df),_0x5d1be5[_0xbf0833(0x19d)]='node-already-exist',_0x5d1be5[_0xbf0833(0x602)]=_0xbf0833(0x8ca),_0x5d1be5[_0xbf0833(0x462)]=_0xbf0833(0x5d8),_0x5d1be5['WorkflowDoesNotExist']='workflow-does-not-exist',_0x5d1be5[_0xbf0833(0x616)]=_0xbf0833(0x964);}(_0x2a07f5||(_0x2a07f5={}));const _0x984d7c=new Map([[_0x2a07f5[_0x2358f4(0xa7e)],'Connection\x20not\x20initialized.'],[_0x2a07f5[_0x2358f4(0x75b)],'Connection\x20not\x20connected.'],[_0x2a07f5[_0x2358f4(0x231)],_0x2358f4(0x3c1)],[_0x2a07f5[_0x2358f4(0x251)],'Invalid\x20data\x20event.'],[_0x2a07f5[_0x2358f4(0x5e6)],_0x2358f4(0x3a1)],[_0x2a07f5[_0x2358f4(0x887)],_0x2358f4(0x395)],[_0x2a07f5[_0x2358f4(0x7a0)],_0x2358f4(0x2cf)],[_0x2a07f5[_0x2358f4(0x960)],_0x2358f4(0x6ef)],[_0x2a07f5[_0x2358f4(0x300)],_0x2358f4(0x3af)],[_0x2a07f5[_0x2358f4(0xa35)],_0x2358f4(0xa66)],[_0x2a07f5[_0x2358f4(0x5a2)],_0x2358f4(0x9b7)],[_0x2a07f5[_0x2358f4(0x74c)],_0x2358f4(0x95b)],[_0x2a07f5['InvalidPublisher'],_0x2358f4(0x497)],[_0x2a07f5[_0x2358f4(0x222)],_0x2358f4(0x2f8)],[_0x2a07f5['InvalidSubscription'],_0x2358f4(0xa81)],[_0x2a07f5['JobDispatcherCreationFailed'],_0x2358f4(0x2ee)],[_0x2a07f5[_0x2358f4(0x84d)],_0x2358f4(0x72f)],[_0x2a07f5[_0x2358f4(0x1a4)],'Job\x20service\x20job\x20not\x20found.'],[_0x2a07f5[_0x2358f4(0x43d)],'Job\x20service\x20observer\x20not\x20found.'],[_0x2a07f5[_0x2358f4(0x801)],_0x2358f4(0x90f)],[_0x2a07f5['JobWorkerInvalidType'],_0x2358f4(0x6b2)],[_0x2a07f5[_0x2358f4(0x62f)],_0x2358f4(0x915)],[_0x2a07f5['KeyValueDatabasePeakNotFound'],'Key-value\x20database\x20peak\x20not\x20found.'],[_0x2a07f5[_0x2358f4(0x2aa)],_0x2358f4(0x464)],[_0x2a07f5[_0x2358f4(0x209)],_0x2358f4(0x2af)],[_0x2a07f5[_0x2358f4(0x33d)],_0x2358f4(0x4b1)],[_0x2a07f5[_0x2358f4(0xa50)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x2a07f5[_0x2358f4(0x59d)],_0x2358f4(0x6a2)],[_0x2a07f5[_0x2358f4(0x60e)],_0x2358f4(0x70e)],[_0x2a07f5[_0x2358f4(0x5f4)],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x2a07f5[_0x2358f4(0x386)],_0x2358f4(0x398)],[_0x2a07f5[_0x2358f4(0x719)],_0x2358f4(0x508)],[_0x2a07f5[_0x2358f4(0x7e8)],_0x2358f4(0x390)],[_0x2a07f5[_0x2358f4(0x9c6)],_0x2358f4(0x6e7)],[_0x2a07f5[_0x2358f4(0x8a5)],_0x2358f4(0x235)],[_0x2a07f5[_0x2358f4(0x2cb)],_0x2358f4(0x2fa)],[_0x2a07f5[_0x2358f4(0xaa2)],_0x2358f4(0x619)],[_0x2a07f5['RemoteConnectionExists'],'Remote\x20connection\x20already\x20exists.'],[_0x2a07f5[_0x2358f4(0x291)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x2a07f5['SubscriptionRequestFailed'],_0x2358f4(0x774)],[_0x2a07f5[_0x2358f4(0x3bf)],_0x2358f4(0xa2b)],[_0x2a07f5[_0x2358f4(0x969)],_0x2358f4(0x854)],[_0x2a07f5[_0x2358f4(0x19d)],_0x2358f4(0x666)],[_0x2a07f5[_0x2358f4(0x602)],_0x2358f4(0x2c6)],[_0x2a07f5[_0x2358f4(0x462)],_0x2358f4(0x90d)],[_0x2a07f5[_0x2358f4(0x684)],_0x2358f4(0xaa6)],[_0x2a07f5[_0x2358f4(0x616)],'Invalid\x20workflow\x20block\x20type.']]);class _0x45bad0 extends Error{[_0x2358f4(0x1fe)];static ['codes']=_0x2a07f5;[_0x2358f4(0x562)];constructor(_0xb04f42,_0x41e214){const _0x209a28=_0x2358f4;super('Internal\x20SDK\x20Error:\x20'+_0xb04f42+':\x20'+_0x984d7c[_0x209a28(0x879)](_0xb04f42)+_0x209a28(0x1d8)+JSON[_0x209a28(0x787)](_0x41e214)),this[_0x209a28(0x1fe)]=_0xb04f42,this['data']=_0x41e214||{};}}var _0x2d88a4,_0x2d7604,_0x2a0c9e,_0x2f3efc,_0x4fb782,_0x4cc4c4,_0x479af2;!function(_0x260d5a){const _0xfd8f64=_0x2358f4;_0x260d5a[_0x260d5a['CloseGraphDatabase']=0x0]=_0xfd8f64(0x70a),_0x260d5a[_0x260d5a['CloseJobDispatcher']=0x1]=_0xfd8f64(0x974),_0x260d5a[_0x260d5a[_0xfd8f64(0x9b1)]=0x2]=_0xfd8f64(0x9b1),_0x260d5a[_0x260d5a[_0xfd8f64(0x5b4)]=0x3]=_0xfd8f64(0x5b4),_0x260d5a[_0x260d5a[_0xfd8f64(0x901)]=0x4]=_0xfd8f64(0x901),_0x260d5a[_0x260d5a[_0xfd8f64(0x83a)]=0x5]=_0xfd8f64(0x83a),_0x260d5a[_0x260d5a[_0xfd8f64(0x889)]=0x6]=_0xfd8f64(0x889),_0x260d5a[_0x260d5a['ClosePubSubTopic']=0x7]=_0xfd8f64(0xa3c),_0x260d5a[_0x260d5a[_0xfd8f64(0x86b)]=0x8]='CloseVectorDatabase',_0x260d5a[_0x260d5a[_0xfd8f64(0x637)]=0x9]='ExternalStorageStats',_0x260d5a[_0x260d5a[_0xfd8f64(0x80e)]=0xa]='GenerativeAIContextStats',_0x260d5a[_0x260d5a[_0xfd8f64(0xa97)]=0xb]=_0xfd8f64(0xa97),_0x260d5a[_0x260d5a[_0xfd8f64(0x1be)]=0xc]='GraphDatabaseStats',_0x260d5a[_0x260d5a[_0xfd8f64(0x505)]=0xd]=_0xfd8f64(0x505),_0x260d5a[_0x260d5a[_0xfd8f64(0xa8f)]=0xe]=_0xfd8f64(0xa8f),_0x260d5a[_0x260d5a[_0xfd8f64(0x953)]=0xf]=_0xfd8f64(0x953),_0x260d5a[_0x260d5a[_0xfd8f64(0x198)]=0x10]=_0xfd8f64(0x198),_0x260d5a[_0x260d5a[_0xfd8f64(0x1a9)]=0x11]=_0xfd8f64(0x1a9),_0x260d5a[_0x260d5a[_0xfd8f64(0x489)]=0x12]=_0xfd8f64(0x489),_0x260d5a[_0x260d5a[_0xfd8f64(0x4e4)]=0x13]=_0xfd8f64(0x4e4),_0x260d5a[_0x260d5a[_0xfd8f64(0x279)]=0x14]=_0xfd8f64(0x279),_0x260d5a[_0x260d5a[_0xfd8f64(0x95a)]=0x15]=_0xfd8f64(0x95a),_0x260d5a[_0x260d5a[_0xfd8f64(0x359)]=0x16]=_0xfd8f64(0x359),_0x260d5a[_0x260d5a[_0xfd8f64(0x333)]=0x17]=_0xfd8f64(0x333),_0x260d5a[_0x260d5a[_0xfd8f64(0xaa1)]=0x18]=_0xfd8f64(0xaa1),_0x260d5a[_0x260d5a[_0xfd8f64(0x213)]=0x19]=_0xfd8f64(0x213),_0x260d5a[_0x260d5a['UnpublishMediaStream']=0x1a]=_0xfd8f64(0x326),_0x260d5a[_0x260d5a[_0xfd8f64(0x245)]=0x1b]='UnsubscribeMediaStream',_0x260d5a[_0x260d5a[_0xfd8f64(0x456)]=0x1c]='UpdateMediaStream',_0x260d5a[_0x260d5a['VectorDatabaseStats']=0x1d]=_0xfd8f64(0x655);}(_0x2d88a4||(_0x2d88a4={})),function(_0x5be514){const _0x20860f=_0x2358f4;_0x5be514[_0x20860f(0x88d)]=_0x20860f(0x344),_0x5be514[_0x20860f(0x25a)]=_0x20860f(0x65c),_0x5be514[_0x20860f(0x824)]=_0x20860f(0x6e6),_0x5be514['Move']='move',_0x5be514[_0x20860f(0x4f5)]=_0x20860f(0x360),_0x5be514[_0x20860f(0x723)]=_0x20860f(0x4c1),_0x5be514[_0x20860f(0xa0e)]='request-file-sync',_0x5be514[_0x20860f(0x948)]=_0x20860f(0x9f3);}(_0x2d7604||(_0x2d7604={})),function(_0x10fb0d){const _0x4b5df3=_0x2358f4;_0x10fb0d[_0x4b5df3(0x701)]=_0x4b5df3(0x82b),_0x10fb0d[_0x4b5df3(0x7bd)]=_0x4b5df3(0x58e);}(_0x2a0c9e||(_0x2a0c9e={})),function(_0x390880){const _0x1cc635=_0x2358f4;_0x390880[_0x1cc635(0x7d6)]=_0x1cc635(0x845),_0x390880['Update']='update',_0x390880['Delete']=_0x1cc635(0x6e6);}(_0x2f3efc||(_0x2f3efc={})),function(_0x272bae){const _0x33498d=_0x2358f4;_0x272bae['Get']=_0x33498d(0x879),_0x272bae[_0x33498d(0xa53)]='list',_0x272bae[_0x33498d(0x479)]=_0x33498d(0x7d8);}(_0x4fb782||(_0x4fb782={})),function(_0x25ab1f){const _0x3813ca=_0x2358f4;_0x25ab1f[_0x25ab1f[_0x3813ca(0x701)]=0x0]=_0x3813ca(0x701),_0x25ab1f[_0x25ab1f[_0x3813ca(0x668)]=0x1]='Bid',_0x25ab1f[_0x25ab1f[_0x3813ca(0x5df)]=0x2]=_0x3813ca(0x5df),_0x25ab1f[_0x25ab1f[_0x3813ca(0x4a8)]=0x3]='PartialResult',_0x25ab1f[_0x25ab1f[_0x3813ca(0x385)]=0x4]=_0x3813ca(0x385),_0x25ab1f[_0x25ab1f[_0x3813ca(0x281)]=0x5]=_0x3813ca(0x281);}(_0x4cc4c4||(_0x4cc4c4={})),function(_0x262530){const _0x122214=_0x2358f4;_0x262530[_0x262530[_0x122214(0x2ce)]=0x0]=_0x122214(0x2ce),_0x262530[_0x262530[_0x122214(0x201)]=0x1]=_0x122214(0x201),_0x262530[_0x262530[_0x122214(0x60f)]=0x2]=_0x122214(0x60f),_0x262530[_0x262530[_0x122214(0x96a)]=0x3]=_0x122214(0x96a),_0x262530[_0x262530[_0x122214(0x2be)]=0x4]=_0x122214(0x2be),_0x262530[_0x262530['Detection']=0x5]=_0x122214(0x241),_0x262530[_0x262530[_0x122214(0x6c3)]=0x6]='Remediation';}(_0x479af2||(_0x479af2={}));class _0x43356e{[_0x2358f4(0x4a3)];[_0x2358f4(0x2bb)];[_0x2358f4(0x80f)];constructor(_0x172026,_0x48f51b){const _0x3e0abc=_0x2358f4;this[_0x3e0abc(0x4a3)]=_0x172026,this[_0x3e0abc(0x2bb)]=_0x48f51b;}['getLabel'](){const _0x5cdb83=_0x2358f4;return this[_0x5cdb83(0x2bb)];}[_0x2358f4(0x779)](){const _0x36b7c1=_0x2358f4;return this[_0x36b7c1(0x4a3)][_0x36b7c1(0x7b4)]();}[_0x2358f4(0x816)](){}[_0x2358f4(0x823)](_0xa4e0c6){this['systemTopic']=_0xa4e0c6;}[_0x2358f4(0xa7d)](){delete this['systemTopic'];}}const _0x36f88f=require('firebase/firestore');let _0x7aabd4=_0x5330e2(0x14d)['O'];function _0x4d589d(_0x35bd1a){const _0x22389d=_0x2358f4;return!(!_0x35bd1a||'object'!=typeof _0x35bd1a||Array[_0x22389d(0x744)](_0x35bd1a));}_0x7aabd4=function _0x294908(_0x4870b9,..._0x12a668){const _0x4cc48b=_0x2358f4;if(!Array['isArray'](_0x12a668)||0x0===_0x12a668['length'])return _0x4870b9;const _0x440a50=_0x12a668[_0x4cc48b(0x98a)]();if(_0x4d589d(_0x4870b9)&&_0x4d589d(_0x440a50)){for(const _0x1fc67d in _0x440a50)_0x4d589d(_0x440a50[_0x1fc67d])?(_0x4870b9[_0x1fc67d]||Object[_0x4cc48b(0x85d)](_0x4870b9,{[_0x1fc67d]:{}}),_0x294908(_0x4870b9[_0x1fc67d],_0x440a50[_0x1fc67d])):Object['assign'](_0x4870b9,{[_0x1fc67d]:_0x440a50[_0x1fc67d]});}return _0x294908(_0x4870b9,..._0x12a668);}(_0x7aabd4,_0x5330e2(0x3e6)['O']);const _0x3dd9c1=_0x7aabd4,_0x213d57=require('firebase/app'),_0x1ccbf3=require('firebase/auth'),_0x4c2efe=require('firebase/database'),_0x61dd54=require('firebase/functions'),_0x42da8f=require('uuid'),_0x41b6a3=_0x2358f4(0x485);class _0x26df5f{static [_0x2358f4(0x6da)];[_0x2358f4(0x40d)];[_0x2358f4(0x3ec)];[_0x2358f4(0x433)];['database'];[_0x2358f4(0x2c1)];[_0x2358f4(0x86c)];['lastClockUpdate'];constructor(){const _0xee9d94=_0x2358f4;this[_0xee9d94(0x3be)]();}static[_0x2358f4(0xa9c)](){const _0x574d1e=_0x2358f4;return _0x26df5f[_0x574d1e(0x6da)]||(_0x26df5f[_0x574d1e(0x6da)]=new _0x26df5f()),_0x26df5f[_0x574d1e(0x6da)];}['getApp'](){const _0x30c0f4=_0x2358f4;if(!this[_0x30c0f4(0x40d)]){let _0x4ffedc=_0x41b6a3;_0x30c0f4(0x1fd)!=typeof window&&(_0x4ffedc=_0x41b6a3+'-'+(0x0,_0x42da8f['v4'])()),this[_0x30c0f4(0x40d)]=(0x0,_0x213d57[_0x30c0f4(0x3b2)])(_0x3dd9c1[_0x30c0f4(0x5e8)],''+_0x4ffedc);}return this[_0x30c0f4(0x40d)];}[_0x2358f4(0x277)](){const _0x5b8b79=_0x2358f4;return this['auth']||(this['auth']=(0x0,_0x1ccbf3['getAuth'])(this[_0x5b8b79(0x3be)]())),this['auth'];}[_0x2358f4(0x3d5)](){const _0x4afc9b=_0x2358f4;return this[_0x4afc9b(0x433)]||(this[_0x4afc9b(0x433)]=(0x0,_0x61dd54[_0x4afc9b(0x3d5)])(this[_0x4afc9b(0x3be)](),_0x3dd9c1['firebaseConfig']['functionsRegion'])),this[_0x4afc9b(0x433)];}[_0x2358f4(0x463)](){const _0x31aece=_0x2358f4;return this[_0x31aece(0xa86)]||(this[_0x31aece(0xa86)]=(0x0,_0x4c2efe[_0x31aece(0x463)])(this[_0x31aece(0x3be)]())),this['database'];}['getFirestore'](){const _0x296ffd=_0x2358f4;return this[_0x296ffd(0x2c1)]||(this[_0x296ffd(0x2c1)]=(0x0,_0x36f88f[_0x296ffd(0x44d)])(this['getApp']())),this[_0x296ffd(0x2c1)];}async[_0x2358f4(0x63a)](){const _0x1f91be=_0x2358f4;if(this[_0x1f91be(0x86c)]&&this[_0x1f91be(0xa38)]&&Date[_0x1f91be(0x58d)]()-this['lastClockUpdate']<0x493e0)return Date[_0x1f91be(0x58d)]()+this[_0x1f91be(0x86c)];const _0x2b4487=this[_0x1f91be(0x463)](),_0x40f283=(0x0,_0x4c2efe['ref'])(_0x2b4487,_0x1f91be(0x1a7));return new Promise(_0x46b517=>{(0x0,_0x4c2efe['onValue'])(_0x40f283,_0x504e89=>{const _0x26ee11=a0_0x34e5;(0x0,_0x4c2efe[_0x26ee11(0x2a2)])(_0x40f283),this['clockSkew']=_0x504e89[_0x26ee11(0x19c)](),this[_0x26ee11(0xa38)]=Date[_0x26ee11(0x58d)](),_0x46b517(Date[_0x26ee11(0x58d)]()+(this['clockSkew']??0x0));});});}}const _0x1eef3c=_0x26df5f[_0x2358f4(0xa9c)]();class _0x2d5914{static [_0x2358f4(0x6da)];[_0x2358f4(0x841)]=[_0x577427['Default']];[_0x2358f4(0x5be)]=!0x1;[_0x2358f4(0x74d)];[_0x2358f4(0xa0a)]='';[_0x2358f4(0x9fd)];[_0x2358f4(0xa1e)]=[];[_0x2358f4(0x422)];[_0x2358f4(0x3d7)];['retryLimit']=0xa;[_0x2358f4(0x9eb)]=0x1f4;[_0x2358f4(0x928)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x5840e1=_0x2358f4;if(_0x5840e1(0x1fd)!=typeof window)this[_0x5840e1(0x9fd)]=window;else{if(void 0x0===_0x5330e2['g'])throw new Error(_0x5840e1(0x8a7));this[_0x5840e1(0x9fd)]=_0x5330e2['g'];}this[_0x5840e1(0x1ca)](),this[_0x5840e1(0x9fd)][_0x5840e1(0x61d)]=_0x124708=>{const _0x5f47b2=_0x5840e1;if(_0x124708===_0x577427[_0x5f47b2(0x4c6)])return this['enabledChannels']=Object[_0x5f47b2(0x535)](_0x577427)['map'](_0x1191ad=>_0x577427[_0x1191ad]),void Object[_0x5f47b2(0x535)](_0x577427)['forEach'](_0x485f8e=>{const _0x668dab=_0x5f47b2,_0xf08f6e=_0x485f8e;localStorage[_0x668dab(0xa1f)]('crewdle-sdk-logging-'+_0x577427[_0xf08f6e],_0x668dab(0x731));});this[_0x5f47b2(0x841)][_0x5f47b2(0x877)](_0x124708)||(this[_0x5f47b2(0x841)][_0x5f47b2(0x397)](_0x124708),localStorage[_0x5f47b2(0xa1f)](_0x5f47b2(0x521)+_0x124708,_0x5f47b2(0x731)));},this['globalObject'][_0x5840e1(0x4cf)]=_0x3a84bd=>{const _0x56591d=_0x5840e1;if(!_0x3a84bd||_0x3a84bd===_0x577427[_0x56591d(0x4c6)])return this['enabledChannels']=[],void Object['keys'](_0x577427)[_0x56591d(0x37b)](_0x70ee20=>{const _0x622fb5=_0x56591d,_0x30f396=_0x70ee20;localStorage[_0x622fb5(0x5f7)](_0x622fb5(0x521)+_0x577427[_0x30f396]);});this[_0x56591d(0x841)][_0x56591d(0x877)](_0x3a84bd)&&(this[_0x56591d(0x841)]=this[_0x56591d(0x841)][_0x56591d(0x829)](_0x4ed96e=>_0x4ed96e!==_0x3a84bd),localStorage[_0x56591d(0x5f7)](_0x56591d(0x521)+_0x3a84bd));},this[_0x5840e1(0x9fd)][_0x5840e1(0x6a1)]=_0x577427;}static[_0x2358f4(0xa9c)](){const _0x52aca1=_0x2358f4;try{return _0x2d5914[_0x52aca1(0x6da)]||(_0x2d5914[_0x52aca1(0x6da)]=new _0x2d5914()),_0x2d5914[_0x52aca1(0x6da)];}catch(_0xf7d862){return console[_0x52aca1(0x7b7)](_0x52aca1(0x2a8),_0xf7d862),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x2358f4(0x1cb)](_0x2abf2c){const _0x593153=_0x2358f4;this[_0x593153(0xa0a)]=_0x2abf2c,this[_0x593153(0xa1e)]=[],this['currentBatch']=this[_0x593153(0x2ef)](),this['batchTimeout']&&(clearTimeout(this[_0x593153(0x3d7)]),this[_0x593153(0x3d7)]=void 0x0);}['setLoggingConnectors'](_0x3627c1){const _0x4d60a7=_0x2358f4;this[_0x4d60a7(0x74d)]=_0x3627c1;}['debug'](_0xb34c85,..._0x10eca7){const _0x2c5a62=_0x2358f4;this[_0x2c5a62(0x5be)]&&this[_0x2c5a62(0x870)](_0x577427[_0x2c5a62(0x812)],_0x2c5a62(0x8e3)+_0xb34c85,..._0x10eca7);}['log'](_0x31dbd3,_0x5061f9,..._0x21ade0){const _0x2309d0=_0x2358f4;_0x3dd9c1['isProduction']||(this[_0x2309d0(0x841)]['includes'](_0x31dbd3)&&console[_0x2309d0(0x870)]('Channel\x20\x27'+_0x31dbd3+'\x27\x0a',new Date()+'\x0a',_0x5061f9,..._0x21ade0),this[_0x2309d0(0x74d)]&&this[_0x2309d0(0x74d)][_0x2309d0(0x37b)](_0x326bdb=>{const _0x1265b7=_0x2309d0;this[_0x1265b7(0x21e)](_0x326bdb)&&_0x326bdb['getEnabledChannels']()[_0x1265b7(0x877)](_0x31dbd3)&&_0x326bdb[_0x1265b7(0x870)](_0x5061f9,{'vendorId':this[_0x1265b7(0xa0a)],'nodeId':'','nodeType':'','data':{'channel':_0x31dbd3,..._0x21ade0}});}));}[_0x2358f4(0x4eb)](_0xd9c806,_0x3bbbae,..._0x1a0f15){const _0x259403=_0x2358f4;_0x3dd9c1[_0x259403(0xa26)]||(this[_0x259403(0x841)][_0x259403(0x877)](_0xd9c806)&&console[_0x259403(0x870)](_0x3bbbae,..._0x1a0f15),this[_0x259403(0x74d)]&&this[_0x259403(0x74d)][_0x259403(0x37b)](_0xb09561=>{const _0x703c6d=_0x259403;this[_0x703c6d(0x21e)](_0xb09561)&&_0xb09561[_0x703c6d(0x74a)]()[_0x703c6d(0x877)](_0xd9c806)&&_0xb09561['log'](_0x3bbbae,{'vendorId':this[_0x703c6d(0xa0a)],'nodeId':'','nodeType':'','data':{'channel':_0xd9c806,..._0x1a0f15}});}));}[_0x2358f4(0x890)](_0x4d1623,_0x353dd1){const _0x245ad4=_0x2358f4;if(!this[_0x245ad4(0x74d)])return;const _0x4397c2={'vendorId':this['vendorId'],..._0x353dd1};this[_0x245ad4(0x74d)]['forEach'](_0x2c8b30=>{const _0x2afd57=_0x245ad4;_0x2c8b30[_0x2afd57(0x870)](_0x4d1623,_0x4397c2);});}['logServiceEvent'](_0xeeb215,_0x46c0c6){const _0x2ec27d=_0x2358f4;this[_0x2ec27d(0x872)](_0xeeb215,_0x46c0c6),this['logBatch']();}[_0x2358f4(0x51b)](_0x15809d,_0x39f1f1,_0x996b3a){const _0x45a4de=_0x2358f4;(0x0,_0x36f88f[_0x45a4de(0x3b3)])((0x0,_0x36f88f[_0x45a4de(0x747)])(_0x1eef3c['getFirestore'](),_0x45a4de(0x267)+this['vendorId']+'/'+_0x15809d+'/'+_0x39f1f1),{'storage':_0x996b3a,'timestamp':(0x0,_0x36f88f['serverTimestamp'])()});}['logBatch'](){const _0x7b447a=_0x2358f4;this[_0x7b447a(0x422)]&&(this[_0x7b447a(0x422)][_0x7b447a(0x76f)]+=0x1,this[_0x7b447a(0x422)][_0x7b447a(0x76f)]===this[_0x7b447a(0x928)]?this[_0x7b447a(0x657)]():this[_0x7b447a(0x3d7)]||(this[_0x7b447a(0x3d7)]=this['globalObject'][_0x7b447a(0xa8d)](()=>this[_0x7b447a(0x657)](),this[_0x7b447a(0x358)])));}async[_0x2358f4(0x657)](){const _0x5b0fd4=_0x2358f4;if(this[_0x5b0fd4(0x422)]){for(this[_0x5b0fd4(0xa1e)]['push'](this[_0x5b0fd4(0x422)]),this[_0x5b0fd4(0x422)]=this[_0x5b0fd4(0x2ef)]();this[_0x5b0fd4(0xa1e)][_0x5b0fd4(0x87a)]>0x0;){const _0x17ea1c=this[_0x5b0fd4(0xa1e)][_0x5b0fd4(0x98a)]();if(!await this['commitBatch'](_0x17ea1c))break;}clearTimeout(this[_0x5b0fd4(0x3d7)]),this[_0x5b0fd4(0x3d7)]=void 0x0;}}[_0x2358f4(0x7b7)](_0x41eabd,_0x387a95,..._0x289081){const _0x14e3b2=_0x2358f4;if(console['error'](new Date(),_0x41eabd,_0x387a95,..._0x289081),this[_0x14e3b2(0x74d)]){const _0x1dff90={'vendorId':this['vendorId'],..._0x387a95};this[_0x14e3b2(0x74d)][_0x14e3b2(0x37b)](_0x3834a5=>{_0x3834a5['error'](_0x41eabd,_0x1dff90);});}}[_0x2358f4(0x444)](_0x488b56,_0x36ff1a,..._0x1816aa){const _0x359766=_0x2358f4;if(console[_0x359766(0x697)](new Date(),_0x488b56,_0x36ff1a,_0x1816aa),this['loggingConnectors']){const _0x3ea6b6={'vendorId':this[_0x359766(0xa0a)],..._0x36ff1a};this[_0x359766(0x74d)][_0x359766(0x37b)](_0x3e2cd2=>{const _0xdbb579=_0x359766;_0x3e2cd2[_0xdbb579(0x697)](_0x488b56,_0x3ea6b6);});}}['isChannelEnabled'](_0x5081f7){const _0x46708d=_0x2358f4;return this[_0x46708d(0x841)][_0x46708d(0x877)](_0x5081f7);}async[_0x2358f4(0x2d9)](_0x586af5,_0x4f81f8=0x0){const _0x3f323b=_0x2358f4;if(_0x586af5['counter']>0x0)try{return await _0x586af5[_0x3f323b(0x4c7)]['commit'](),!0x0;}catch(_0x4cc66c){if(console[_0x3f323b(0x7b7)](_0x3f323b(0x1f1),_0x4cc66c,'Operations:',_0x586af5[_0x3f323b(0x8ae)]),!(_0x4f81f8<this[_0x3f323b(0x741)])){const {nodeId:_0x611015='',nodeType:_0x18acaf='',clusterId:_0x4cb69f=''}=_0x586af5[_0x3f323b(0x8ae)][0x0]['data'],_0x253c74={'nodeId':_0x611015,'nodeType':_0x18acaf,'clusterId':_0x4cb69f,'data':{'operations':_0x586af5[_0x3f323b(0x8ae)],'error':_0x4cc66c}};return this[_0x3f323b(0x7b7)](_0x3f323b(0xa12),_0x253c74),!0x1;}{const _0x1c98af=this[_0x3f323b(0x653)](_0x586af5['operations']);setTimeout(()=>this[_0x3f323b(0x2d9)](_0x1c98af,_0x4f81f8+0x1),this[_0x3f323b(0x9eb)]*Math[_0x3f323b(0x2e5)](0x2,_0x4f81f8));}}}[_0x2358f4(0x1ca)](){try{Object['keys'](_0x577427)['forEach'](_0x1343dc=>{const _0x47ca8b=a0_0x34e5,_0x51b49c=_0x1343dc;localStorage['getItem']('crewdle-sdk-logging-'+_0x577427[_0x51b49c])&&(console[_0x47ca8b(0x870)](_0x47ca8b(0xa47),_0x577427[_0x51b49c]),this[_0x47ca8b(0x841)][_0x47ca8b(0x397)](_0x577427[_0x51b49c]));});}catch(_0x5e1041){}}[_0x2358f4(0x21e)](_0x2830af){const _0x990708=_0x2358f4;return void 0x0!==_0x2830af[_0x990708(0x74a)];}[_0x2358f4(0x2ef)](){const _0x2ca3da=_0x2358f4;return{'batch':(0x0,_0x36f88f[_0x2ca3da(0x633)])(_0x1eef3c[_0x2ca3da(0x44d)]()),'operations':[],'counter':0x0};}[_0x2358f4(0x653)](_0x9e9d8f){const _0x46e487=_0x2358f4,_0x19d79a=(0x0,_0x36f88f[_0x46e487(0x633)])(_0x1eef3c[_0x46e487(0x44d)]());return _0x9e9d8f[_0x46e487(0x37b)](_0x56aa26=>this[_0x46e487(0x7c9)](_0x19d79a,_0x56aa26)),{'batch':_0x19d79a,'operations':_0x9e9d8f,'counter':_0x9e9d8f[_0x46e487(0x87a)]};}['addBatchOperation'](_0x12d13f,_0x385fc0){const _0x47ffda=_0x2358f4;switch(_0x385fc0[_0x47ffda(0x5ba)]){case _0x47ffda(0x851):_0x12d13f[_0x47ffda(0x851)](_0x385fc0[_0x47ffda(0xa8c)],_0x385fc0[_0x47ffda(0x562)]);break;case _0x47ffda(0x86f):_0x12d13f[_0x47ffda(0x86f)](_0x385fc0[_0x47ffda(0xa8c)],_0x385fc0[_0x47ffda(0x562)]);break;case _0x47ffda(0x6e6):_0x12d13f[_0x47ffda(0x6e6)](_0x385fc0['ref']);}}[_0x2358f4(0x872)](_0x5428aa,_0x3afd58){const _0x544507=_0x2358f4;this[_0x544507(0x422)]||(this[_0x544507(0x422)]=this[_0x544507(0x2ef)]());const _0x518983=(0x0,_0x36f88f[_0x544507(0x747)])((0x0,_0x36f88f[_0x544507(0x42d)])(_0x1eef3c['getFirestore'](),'developers/'+this[_0x544507(0xa0a)]+_0x544507(0x225))),_0x2c132c={..._0x3afd58,'service':_0x5428aa,'timestamp':(0x0,_0x36f88f[_0x544507(0x914)])()},_0x5dcecd={'type':_0x544507(0x851),'path':_0x518983[_0x544507(0x55c)],'ref':_0x518983,'data':_0x2c132c};return this['currentBatch'][_0x544507(0x8ae)][_0x544507(0x397)](_0x5dcecd),this['addBatchOperation'](this[_0x544507(0x422)][_0x544507(0x4c7)],_0x5dcecd),_0x518983;}}const _0x561d9b=_0x2d5914[_0x2358f4(0xa9c)]();function _0x184125(_0x24321e,_0x234529){return'/'===_0x24321e?_0x24321e+_0x234529:_0x24321e+'/'+_0x234529;}function _0x56a4f3(_0x17689c){const _0x38fa5e=_0x2358f4,_0x36293f=function(_0x311c1a){const _0x4da748=a0_0x34e5;return _0x311c1a[_0x4da748(0x6ab)]('/')[_0x4da748(0x829)](_0x231623=>_0x231623[_0x4da748(0x87a)]>0x0);}(_0x17689c),_0x165355=_0x36293f[_0x38fa5e(0x301)]()||'',_0x47ec26=_0x36293f['join']('/');return[0x0===_0x47ec26['length']?'/':_0x47ec26,_0x165355];}async function _0x424842(_0x3d474a){const _0x3c0e24=_0x2358f4;let _0x24e8bf;const _0x5aa45e=_0x3d474a[_0x3c0e24(0x9dc)]/0x100000;_0x24e8bf=_0x5aa45e<=0xa?0x1:_0x5aa45e<=0x64?0.5:_0x5aa45e<=0x1f4?0.1:0.05;const _0x2cf4e4=Math[_0x3c0e24(0x3bb)](_0x3d474a[_0x3c0e24(0x9dc)]/_0x10e28c),_0x26db28=Math[_0x3c0e24(0x3bb)](_0x2cf4e4*_0x24e8bf);let _0x452cf5=new Uint8Array();for(let _0xba1a58=0x0;_0xba1a58<_0x26db28;_0xba1a58++){const _0x101bb3=Math[_0x3c0e24(0x20d)](_0xba1a58/_0x26db28*_0x3d474a[_0x3c0e24(0x9dc)]);let _0x5a88d7=_0x101bb3+_0x10e28c;_0x5a88d7>_0x3d474a[_0x3c0e24(0x9dc)]&&(_0x5a88d7=_0x3d474a['size']);const _0x31cabf=_0x3d474a[_0x3c0e24(0x38f)](_0x101bb3,_0x5a88d7),_0x432005=await _0x31cabf[_0x3c0e24(0x370)](),_0x2cc099=new Uint8Array([..._0x452cf5,...new Uint8Array(_0x432005)]);_0x452cf5=new Uint8Array(await crypto[_0x3c0e24(0x261)]['digest'](_0x3c0e24(0x7c0),_0x2cc099));}return Array['from'](new Uint8Array(_0x452cf5))[_0x3c0e24(0x8d9)](_0x3cc62b=>_0x3cc62b[_0x3c0e24(0x98b)](0x10)[_0x3c0e24(0x6b7)](0x2,'0'))[_0x3c0e24(0x374)]('');}async function*_0x42e2fd(_0x2736a4,_0x14ced6=0x0,_0x5738b6){const _0x2b64c6=_0x2358f4;let _0x2e9333=_0x14ced6*_0x412712,_0x3c975b=_0x2736a4;for(;_0x2e9333<_0x3c975b['size'];){let _0x5003af=_0x2e9333+_0x412712;_0x5003af>_0x3c975b['size']&&(_0x5003af=_0x3c975b[_0x2b64c6(0x9dc)]);let _0xce3c54=0x0;for(;_0xce3c54<0x14;)try{await _0x5738b6?.();const _0x29cf2b=_0x3c975b['slice'](_0x2e9333,_0x5003af,_0x2b64c6(0x8c4)),_0x426a19=await _0x29cf2b[_0x2b64c6(0x370)]();yield _0x426a19,_0x2e9333=_0x5003af,await new Promise(_0x5df087=>setTimeout(_0x5df087,0x0));break;}catch(_0x28f491){if(console[_0x2b64c6(0x7b7)]('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0xce3c54+0x1)+_0x2b64c6(0xa13),_0x28f491),_0xce3c54++,_0xce3c54>0x14)throw _0x28f491;let _0x4c43a0=0x3e8*Math[_0x2b64c6(0x2e5)](0x2,_0xce3c54);_0x4c43a0>0x7530&&(_0x4c43a0=0x7530),await new Promise(_0x2262c4=>setTimeout(_0x2262c4,_0x4c43a0));}}}class _0xa6bf6b extends _0x43356e{[_0x2358f4(0x76a)];[_0x2358f4(0x4cd)];[_0x2358f4(0x518)]=new Map();[_0x2358f4(0x379)]=0x0;[_0x2358f4(0x4e7)]=0x0;['bytesSent']=0x0;[_0x2358f4(0x67e)]=0x0;constructor(_0x33cba0,_0x591f42){super(_0x33cba0,_0x591f42);}['getLabel'](){return this['label'];}['getName'](){const _0x43e13b=_0x2358f4;return this[_0x43e13b(0x2bb)];}[_0x2358f4(0x8d8)](){return _0x4ab575['ContentType']['Data'];}['getInternalStreamId'](){const _0x3b8100=_0x2358f4;return this[_0x3b8100(0x2bb)];}['registerPublisher'](_0x1ca047){const _0x4d8933=_0x2358f4;if(this[_0x4d8933(0x76a)])throw new _0x45bad0(_0x45bad0['codes']['InvalidPublisher'],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x4d8933(0x4a3)]['getId']()+_0x4d8933(0x5b0)+this[_0x4d8933(0x2bb)],'topic':this[_0x4d8933(0x76a)]});this['outgoingTopic']=_0x1ca047;}['registerSubscriber'](_0x4b9e57){const _0xbb85c8=_0x2358f4;if(this['incomingTopic'])throw new _0x45bad0(_0x45bad0[_0xbb85c8(0x297)]['InvalidSubscriber'],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0xbb85c8(0x4a3)][_0xbb85c8(0x7b4)]()+'\x20-\x20'+this['label'],'topic':this[_0xbb85c8(0x4cd)]});this[_0xbb85c8(0x4cd)]=_0x4b9e57;}[_0x2358f4(0x8a8)](){const _0x4ab92c=_0x2358f4;delete this[_0x4ab92c(0x76a)];}[_0x2358f4(0xa4f)](){const _0x523025=_0x2358f4;delete this[_0x523025(0x4cd)];}async[_0x2358f4(0x9cd)](_0x57c5f2,_0x3fbb0b){const _0x57c692=_0x2358f4;if(_0x561d9b[_0x57c692(0x870)](_0x577427[_0x57c692(0x45b)],_0x57c692(0x7ee),this[_0x57c692(0x4a3)][_0x57c692(0x7b4)](),_0x57c5f2,_0x3fbb0b),this['messagesSent']+=0x1,_0x57c5f2 instanceof File){const _0x7c69a5=await async function(_0x5067c1){const _0x469217=[];for await(const _0x142056 of _0x42e2fd(_0x5067c1))_0x469217['push'](_0x142056);return _0x469217;}(_0x57c5f2);return this[_0x57c692(0x5f3)]+=_0x7c69a5['reduce']((_0x3d7338,_0x42b611)=>_0x3d7338+_0x42b611[_0x57c692(0x2a3)],0x0),void _0x7c69a5['forEach']((_0x35cf59,_0x2f8a9d)=>{const _0x26c98f=_0x57c692;this['outgoingTopic']['publish']({'sourceId':this[_0x26c98f(0x4a3)][_0x26c98f(0x7b4)](),'destinationIds':_0x3fbb0b,'propagate':!0x0,'contentType':_0x4ab575['ContentType'][_0x26c98f(0x5c9)],'content':{'name':_0x57c5f2[_0x26c98f(0x683)],'type':_0x57c5f2[_0x26c98f(0x5ba)],'data':_0x35cf59,'index':_0x2f8a9d,'total':_0x7c69a5[_0x26c98f(0x87a)]}});});}this['bytesSent']+=JSON['stringify'](_0x57c5f2)[_0x57c692(0x87a)],this['outgoingTopic'][_0x57c692(0x727)]({'sourceId':this[_0x57c692(0x4a3)][_0x57c692(0x7b4)](),'destinationIds':_0x3fbb0b,'propagate':!0x0,'contentType':_0x4ab575[_0x57c692(0x7fd)][_0x57c692(0x409)],'content':_0x57c5f2});}[_0x2358f4(0x9d5)](_0x39e451){const _0x5b425b=_0x2358f4;return this['incomingTopic'][_0x5b425b(0x6f4)](_0x2f78f7=>{const _0x1b594f=_0x5b425b;switch(_0x561d9b['log'](_0x577427[_0x1b594f(0x45b)],_0x1b594f(0x837),this[_0x1b594f(0x4a3)][_0x1b594f(0x7b4)](),_0x2f78f7),_0x2f78f7['contentType']){case _0x4ab575[_0x1b594f(0x7fd)][_0x1b594f(0x409)]:this[_0x1b594f(0x4e7)]+=0x1,this[_0x1b594f(0x67e)]+=JSON[_0x1b594f(0x787)](_0x2f78f7[_0x1b594f(0x5d0)])['length'],_0x39e451(_0x2f78f7[_0x1b594f(0x240)],_0x2f78f7[_0x1b594f(0x5d0)]);break;case _0x4ab575[_0x1b594f(0x7fd)][_0x1b594f(0x5c9)]:this[_0x1b594f(0x518)][_0x1b594f(0x3d0)](_0x2f78f7[_0x1b594f(0x5d0)]['name'])||this[_0x1b594f(0x518)][_0x1b594f(0x851)](_0x2f78f7[_0x1b594f(0x5d0)][_0x1b594f(0x683)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x11207d=this[_0x1b594f(0x518)][_0x1b594f(0x879)](_0x2f78f7[_0x1b594f(0x5d0)][_0x1b594f(0x683)]);if(_0x11207d[_0x1b594f(0xa52)]+=0x1,_0x11207d['bytesReceived']+=_0x2f78f7[_0x1b594f(0x5d0)][_0x1b594f(0x562)][_0x1b594f(0x2a3)],_0x11207d[_0x1b594f(0x5d0)]&&(_0x11207d[_0x1b594f(0x5d0)][_0x2f78f7[_0x1b594f(0x5d0)]['index']]=_0x2f78f7['content'][_0x1b594f(0x562)]),this['fileChunks'][_0x1b594f(0x851)](_0x2f78f7[_0x1b594f(0x5d0)][_0x1b594f(0x683)],_0x11207d),_0x11207d[_0x1b594f(0xa52)]+0x1<_0x2f78f7[_0x1b594f(0x5d0)][_0x1b594f(0x9bf)])return;this[_0x1b594f(0x4e7)]+=0x1,this[_0x1b594f(0x67e)]+=_0x11207d[_0x1b594f(0x67e)],_0x11207d[_0x1b594f(0x5d0)]&&_0x39e451(_0x2f78f7[_0x1b594f(0x240)],(_0x41b2a2=_0x11207d[_0x1b594f(0x5d0)],_0x281799=_0x2f78f7[_0x1b594f(0x5d0)]['name'],_0x24007b=_0x2f78f7[_0x1b594f(0x5d0)][_0x1b594f(0x5ba)],new File(_0x41b2a2,_0x281799,{'type':_0x24007b}))),this[_0x1b594f(0x518)][_0x1b594f(0x6e6)](_0x2f78f7['content'][_0x1b594f(0x683)]);}var _0x41b2a2,_0x281799,_0x24007b;});}}function _0x2365fd(){const _0x55919b=_0x2358f4;let _0x444896=[];return{'subscribe':_0x530c7c=>(_0x444896[_0x55919b(0x397)](_0x530c7c),()=>{const _0x535b88=_0x55919b;_0x444896=_0x444896[_0x535b88(0x829)](_0x26d16c=>_0x26d16c!==_0x530c7c);}),'publish':_0x5a4ff7=>{_0x444896['forEach'](_0x2eabba=>_0x2eabba(_0x5a4ff7));}};}function _0x3fc98a(){let _0x5e725d;return{'subscribe':_0x51c5dd=>(_0x5e725d=_0x51c5dd,()=>{_0x5e725d=void 0x0;}),'publish':_0x113da6=>{_0x5e725d&&_0x5e725d(_0x113da6);}};}class _0x47ffaf{[_0x2358f4(0x38c)];[_0x2358f4(0x54c)];[_0x2358f4(0x679)];['eventListener']=_0x3fc98a();[_0x2358f4(0x537)];constructor(_0x358d53,_0xd5a97,_0x35c323){const _0x55002a=_0x2358f4;this[_0x55002a(0x38c)]=_0x358d53,this[_0x55002a(0x54c)]=_0xd5a97,this['tableObserver']=_0x35c323;}[_0x2358f4(0x816)](){this['listenerUnsubscriber']?.();}async[_0x2358f4(0x879)](_0x57a792){const _0x4e71c4=_0x2358f4,_0x52b3a1={'key':_0x57a792,'tableName':this[_0x4e71c4(0x54c)],'action':_0x4fb782[_0x4e71c4(0x71c)]};return this[_0x4e71c4(0x679)][_0x4e71c4(0x727)](_0x52b3a1),this[_0x4e71c4(0x38c)]['get'](_0x57a792);}async[_0x2358f4(0x851)](_0x39a315,_0xaf07a1,_0x403ca3=!0x0){const _0x4245a4=_0x2358f4;this['validateValue'](_0xaf07a1);const _0x5bc3c6=await this[_0x4245a4(0x38c)][_0x4245a4(0x879)](_0x39a315),_0x3aaf9f=await this[_0x4245a4(0x38c)][_0x4245a4(0x851)](_0x39a315,_0xaf07a1),_0x3bd58d=_0x5bc3c6?_0x2f3efc['Update']:_0x2f3efc[_0x4245a4(0x7d6)];if(this[_0x4245a4(0x727)](_0x3bd58d,_0x3aaf9f),!_0x403ca3)return _0x3aaf9f;const _0x1820b3={'key':_0x39a315,'tableName':this['tableName'],'action':_0x3bd58d,'value':_0x3aaf9f};return this[_0x4245a4(0x679)]['publish'](_0x1820b3),_0x3aaf9f;}async[_0x2358f4(0x845)](_0xfa5ed6){const _0x4dee38=_0x2358f4;this[_0x4dee38(0x500)](_0xfa5ed6);const _0x2276f2=await this[_0x4dee38(0x38c)][_0x4dee38(0x845)](_0xfa5ed6),_0x45bbc2={'key':_0x2276f2['id'],'tableName':this[_0x4dee38(0x54c)],'action':_0x2f3efc['Add'],'value':_0x2276f2};return this['tableObserver'][_0x4dee38(0x727)](_0x45bbc2),this[_0x4dee38(0x727)](_0x45bbc2[_0x4dee38(0x553)],_0x2276f2),_0x2276f2;}async[_0x2358f4(0x6e6)](_0x17ab04,_0x125b82=!0x0){const _0x50de6a=_0x2358f4,_0xe3f584=await this['connector'][_0x50de6a(0x879)](_0x17ab04);if(!_0xe3f584)return;await this[_0x50de6a(0x38c)][_0x50de6a(0x6e6)](_0x17ab04);const _0x3f6847=_0x2f3efc[_0x50de6a(0x824)];if(this[_0x50de6a(0x727)](_0x3f6847,_0xe3f584),!_0x125b82)return;const _0x5d6e7a={'key':_0x17ab04,'tableName':this[_0x50de6a(0x54c)],'action':_0x3f6847,'value':_0xe3f584};this[_0x50de6a(0x679)][_0x50de6a(0x727)](_0x5d6e7a);}async['clear'](){const _0x53ecd1=_0x2358f4,_0x53d892=await this[_0x53ecd1(0x1d7)]();for(const _0xac3ea of _0x53d892){const _0x49c4fa=_0x2f3efc[_0x53ecd1(0x824)];this[_0x53ecd1(0x727)](_0x49c4fa,_0xac3ea);const _0x414923={'key':_0xac3ea['id'],'tableName':this[_0x53ecd1(0x54c)],'action':_0x49c4fa,'value':_0xac3ea};this[_0x53ecd1(0x679)][_0x53ecd1(0x727)](_0x414923);}return this['connector'][_0x53ecd1(0x375)]();}async[_0x2358f4(0x1d7)](_0x33b2fc){const _0x2fe482=_0x2358f4,_0x1e77a6={'key':'','tableName':this['tableName'],'action':_0x4fb782[_0x2fe482(0xa53)]};this[_0x2fe482(0x679)]['publish'](_0x1e77a6);try{_0x33b2fc&&(_0x33b2fc=_0x33b2fc instanceof _0x1cd769?_0x33b2fc[_0x2fe482(0x383)]():_0x1cd769[_0x2fe482(0x2b2)](_0x33b2fc)[_0x2fe482(0x383)]());}catch(_0x5a4815){throw new _0x5af266(_0x3412d7[_0x2fe482(0x89b)],_0x2fe482(0x480));}try{return await this['connector']['list'](_0x33b2fc);}catch(_0x529bd9){let _0x53b5de=_0x2fe482(0x480);throw _0x529bd9 instanceof Error&&(_0x53b5de=_0x529bd9['message']),new _0x5af266(_0x3412d7[_0x2fe482(0x89b)],_0x53b5de);}}async[_0x2358f4(0x7d8)](_0x41f3c2){const _0xf1889a=_0x2358f4,_0x420642={'key':'','tableName':this[_0xf1889a(0x54c)],'action':_0x4fb782[_0xf1889a(0x479)]};this[_0xf1889a(0x679)][_0xf1889a(0x727)](_0x420642);try{_0x41f3c2&&(_0x41f3c2=_0x41f3c2 instanceof _0x1cd769?_0x41f3c2[_0xf1889a(0x383)]():_0x1cd769[_0xf1889a(0x2b2)](_0x41f3c2)[_0xf1889a(0x383)]());}catch(_0x4e9e20){throw new _0x5af266(_0x3412d7['KeyValueDatabaseInvalidQuery'],_0xf1889a(0x480));}try{return await this[_0xf1889a(0x38c)][_0xf1889a(0x7d8)](_0x41f3c2);}catch(_0x424abd){let _0x1e4174=_0xf1889a(0x480);throw _0x424abd instanceof Error&&(_0x1e4174=_0x424abd['message']),new _0x5af266(_0x3412d7['KeyValueDatabaseInvalidQuery'],_0x1e4174);}}['calculateSize'](){const _0x1e160a=_0x2358f4;return this[_0x1e160a(0x38c)][_0x1e160a(0x417)]();}['subscribe'](_0x263760){const _0x3c6403=_0x2358f4;this[_0x3c6403(0x537)]=this[_0x3c6403(0x266)]['subscribe'](_0x263760);}[_0x2358f4(0x353)](){const _0x1f90f5=_0x2358f4;this[_0x1f90f5(0x537)]?.();}[_0x2358f4(0x727)](_0x4eab26,_0x761b1f){const _0x5a5830=_0x2358f4,_0x4a6750=this[_0x5a5830(0x596)](_0x4eab26,_0x761b1f);this[_0x5a5830(0x266)][_0x5a5830(0x727)](_0x4a6750);}[_0x2358f4(0x596)](_0x556d58,_0x2bfdd8){const _0x26f240=_0x2358f4;let _0x12f9c6;switch(_0x556d58){case _0x2f3efc[_0x26f240(0x7d6)]:_0x12f9c6='add';break;case _0x2f3efc[_0x26f240(0x8df)]:_0x12f9c6=_0x26f240(0x86f);break;case _0x2f3efc[_0x26f240(0x824)]:_0x12f9c6='delete';}return{'action':_0x12f9c6,'value':_0x2bfdd8};}['validateValue'](_0x44eaa5){const _0x36b678=_0x2358f4;if(_0x36b678(0x7f5)!=typeof _0x44eaa5||null===_0x44eaa5)throw new _0x5af266(_0x3412d7['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x2ab17a in _0x44eaa5){const _0x512c24=_0x44eaa5[_0x2ab17a];if(_0x36b678(0x7f5)!=typeof _0x512c24||_0x512c24 instanceof Date){if(![_0x36b678(0x991),'number','boolean'][_0x36b678(0x877)](typeof _0x512c24))throw new _0x5af266(_0x3412d7[_0x36b678(0xa59)],_0x36b678(0x7c5)+_0x2ab17a+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x36b678(0x500)](_0x512c24);}}}class _0xbfca9{[_0x2358f4(0x730)]=[];[_0x2358f4(0x323)]=0x0;[_0x2358f4(0xa9f)]=[];[_0x2358f4(0x5cd)]=!0x1;[_0x2358f4(0x9da)]=null;[_0x2358f4(0x9e9)]=null;[_0x2358f4(0x8c1)];['readyResolve']=null;[_0x2358f4(0x218)]=[];['debounceReadyTimeout'];[_0x2358f4(0x32e)]=Promise[_0x2358f4(0x48c)]();[_0x2358f4(0xa91)]=0x0;constructor(){}get['ready'](){const _0x5b1060=_0x2358f4;return this[_0x5b1060(0x32e)];}async[_0x2358f4(0x888)](_0x574db3,_0x350f19=0x0){const _0x37196c=_0x2358f4;this[_0x37196c(0x197)]||(this[_0x37196c(0x32e)]=new Promise(_0x20a407=>{this['readyResolve']=_0x20a407;}),this[_0x37196c(0xa91)]=_0x350f19);const _0x2add13=Date[_0x37196c(0x58d)]();if(this[_0x37196c(0x5cd)])return void this[_0x37196c(0xa9f)][_0x37196c(0x397)](_0x574db3);this[_0x37196c(0x5cd)]=!0x0;let _0x4fe435={'hash':await this[_0x37196c(0x58c)](_0x574db3),'height':0x0};const _0x217b46=this[_0x37196c(0x2e2)](_0x4fe435);this['readyPromises']['push'](_0x217b46),await _0x217b46,this[_0x37196c(0x323)]+=0x1;const _0x4da8c3=this[_0x37196c(0xa9f)][_0x37196c(0x87a)];for(;this['transactionQueue'][_0x37196c(0x87a)]>0x0;){const _0x636739=this[_0x37196c(0xa9f)][_0x37196c(0x98a)]();await this[_0x37196c(0x888)](_0x636739);}this[_0x37196c(0x73c)](),await this['ready'],this['debounceAppendLog'](_0x2add13,_0x4da8c3);}async[_0x2358f4(0x29b)](){const _0x4a59bd=_0x2358f4;return await this[_0x4a59bd(0x32e)],this[_0x4a59bd(0x5cd)]?(this[_0x4a59bd(0x9e9)]||(this[_0x4a59bd(0x9e9)]=this[_0x4a59bd(0x45e)]()),await this[_0x4a59bd(0x9e9)]):this['cachedRoot'];}[_0x2358f4(0x510)](){const _0x5ea850=_0x2358f4;return this[_0x5ea850(0x730)]['map'](({hash:_0x34e5b0,height:_0x1ba427})=>({'hash':_0x34e5b0,'height':_0x1ba427}));}[_0x2358f4(0x7f7)](){return this['totalNodes'];}['getPeakNode'](_0x4dd9d2){const _0x4cd7b7=_0x2358f4;return this[_0x4cd7b7(0x730)][_0x4cd7b7(0x7c6)](_0x4adadb=>_0x4adadb[_0x4cd7b7(0x532)]===_0x4dd9d2);}async[_0x2358f4(0x451)](_0x2b2e1e,_0x32264a){const _0x52023a=_0x2358f4;return await this[_0x52023a(0x8e9)](_0x2b2e1e+_0x32264a);}async[_0x2358f4(0x58c)](_0x2dfc8b){const _0x334ee5=_0x2358f4;return await this[_0x334ee5(0x8e9)](JSON[_0x334ee5(0x787)](_0x2dfc8b));}['comparePeaks'](_0x423938){const _0x4eb4d0=_0x2358f4,_0x5e95e2=this[_0x4eb4d0(0x510)](),_0x147227=[],_0x10a737=[],_0x42401f=[];for(const _0x4cb34e of _0x5e95e2){const _0x45b047=_0x423938['find'](_0x1ab726=>_0x1ab726['height']===_0x4cb34e['height']);_0x45b047?_0x4cb34e['hash']!==_0x45b047[_0x4eb4d0(0x7cd)]&&_0x147227[_0x4eb4d0(0x397)]({'height':_0x4cb34e[_0x4eb4d0(0x532)],'localPeak':_0x4cb34e,'remotePeak':_0x45b047}):_0x10a737[_0x4eb4d0(0x397)](_0x4cb34e);}for(const _0x2de2e3 of _0x423938)_0x5e95e2[_0x4eb4d0(0x7c6)](_0x127981=>_0x127981['height']===_0x2de2e3[_0x4eb4d0(0x532)])||_0x42401f[_0x4eb4d0(0x397)](_0x2de2e3);return{'differingPeaks':_0x147227,'peaksMissingInRemote':_0x10a737,'peaksMissingInLocal':_0x42401f};}async['recomputeRoot'](){const _0x266c22=_0x2358f4;this[_0x266c22(0x5cd)]=!0x0;const _0x326507=this[_0x266c22(0x730)][_0x266c22(0x8d9)](_0x28b08b=>_0x28b08b['hash']);return this[_0x266c22(0x9da)]=await this['hashPeakHashes'](_0x326507),this[_0x266c22(0x5cd)]=!0x1,this[_0x266c22(0x9e9)]=null,this[_0x266c22(0x73c)](),this[_0x266c22(0x9da)];}async[_0x2358f4(0x8e9)](_0x5bd272){const _0x6fc8f2=_0x2358f4;try{const _0x39bc1a=new TextEncoder()[_0x6fc8f2(0x583)](_0x5bd272),_0x474896=await crypto[_0x6fc8f2(0x261)][_0x6fc8f2(0x7af)](_0x6fc8f2(0x7c0),_0x39bc1a);return Array[_0x6fc8f2(0x7ed)](new Uint8Array(_0x474896))['map'](_0x270b5a=>_0x270b5a[_0x6fc8f2(0x98b)](0x10)[_0x6fc8f2(0x6b7)](0x2,'0'))[_0x6fc8f2(0x374)]('');}catch(_0x438e04){return console[_0x6fc8f2(0x7b7)](_0x6fc8f2(0x66c),_0x438e04),this[_0x6fc8f2(0x8e9)](_0x5bd272);}}async['hashPeakHashes'](_0xb9b73a){const _0x109700=_0x2358f4;return await this[_0x109700(0x8e9)](_0xb9b73a[_0x109700(0x374)](''));}async[_0x2358f4(0x2e2)](_0x23e65b){const _0x8731b5=_0x2358f4;for(;this[_0x8731b5(0x730)][_0x8731b5(0x87a)]>0x0&&this['peaks'][this[_0x8731b5(0x730)]['length']-0x1][_0x8731b5(0x532)]===_0x23e65b[_0x8731b5(0x532)];){const _0x4c6e5f=this[_0x8731b5(0x730)][_0x8731b5(0x301)]();_0x23e65b={'hash':await this[_0x8731b5(0x451)](_0x4c6e5f['hash'],_0x23e65b[_0x8731b5(0x7cd)]),'left':_0x4c6e5f,'right':_0x23e65b,'height':_0x23e65b[_0x8731b5(0x532)]+0x1};}this[_0x8731b5(0x730)][_0x8731b5(0x397)](_0x23e65b),await this[_0x8731b5(0x45e)]();}['debounceAppendLog'](_0x6d314a,_0x5d7b13){const _0x47287e=_0x2358f4;if(!_0x561d9b[_0x47287e(0x90b)](_0x577427[_0x47287e(0x212)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x47287e(0x8c1)]);const _0x52e699=Date[_0x47287e(0x58d)]();this[_0x47287e(0x8c1)]=setTimeout(()=>_0x561d9b[_0x47287e(0x870)](_0x577427['KeyValueDatabase'],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x47287e(0x9da)],'nodes',this[_0x47287e(0x7f7)](),_0x47287e(0x1bb),_0x5d7b13,_0x47287e(0x8ef),_0x52e699-_0x6d314a),0x7d0);}['debounceReady'](){const _0x3e729e=_0x2358f4;this['debounceReadyTimeout']&&clearTimeout(this[_0x3e729e(0x3b7)]),this[_0x3e729e(0x3b7)]=setTimeout(async()=>{const _0x5992cb=_0x3e729e;try{const _0x1b2354=this[_0x5992cb(0x218)];if(this[_0x5992cb(0x218)]=[],await Promise['all'](_0x1b2354),this[_0x5992cb(0xa91)]-=_0x1b2354['length'],this[_0x5992cb(0x218)][_0x5992cb(0x87a)]>0x0||this[_0x5992cb(0xa91)]>0x0)return this[_0x5992cb(0x73c)]();this[_0x5992cb(0x197)]&&(this[_0x5992cb(0x197)](),this[_0x5992cb(0x197)]=null),this[_0x5992cb(0x32e)]=Promise[_0x5992cb(0x48c)](),this['isComputingMMR']=!0x1;}catch(_0x48c28b){console[_0x5992cb(0x7b7)](_0x5992cb(0x903),_0x48c28b);}},0xa);}}const _0x224c9e=[_0x2358f4(0x2ce),_0x2358f4(0x201),_0x2358f4(0x60f),_0x2358f4(0x96a),_0x2358f4(0x2be),_0x2358f4(0x241),_0x2358f4(0x6c3)],_0x359fc5=[[_0x2358f4(0x27c),'Answer',_0x2358f4(0x47b),_0x2358f4(0x867),_0x2358f4(0x440),_0x2358f4(0x542),_0x2358f4(0xa56),_0x2358f4(0x2be),_0x2358f4(0x576)],['NodeJoin',_0x2358f4(0x46f),_0x2358f4(0x3c5),'NodeLeave'],[_0x2358f4(0x70a),'CloseJobDispatcher',_0x2358f4(0x9b1),_0x2358f4(0x5b4),'CloseKeyValueDatabase',_0x2358f4(0x83a),'CloseObjectStoreBucket','ClosePubSubTopic','CloseVectorDatabase',_0x2358f4(0x637),'GenerativeAIContextStats',_0x2358f4(0xa97),_0x2358f4(0x1be),'KeyValueDatabaseContentAvailable',_0x2358f4(0xa8f),_0x2358f4(0x953),_0x2358f4(0x198),_0x2358f4(0x1a9),_0x2358f4(0x489),_0x2358f4(0x4e4),_0x2358f4(0x279),_0x2358f4(0x95a),_0x2358f4(0x359),_0x2358f4(0x333),_0x2358f4(0xaa1),'SubscribeMediaStream',_0x2358f4(0x326),'UnsubscribeMediaStream',_0x2358f4(0x456),_0x2358f4(0x655)],['SubscribeMediaStream',_0x2358f4(0x456),'UnsubscribeMediaStreamdiaStream',_0x2358f4(0x6ee),'CannotProvideMediaStream',_0x2358f4(0x72b)],[_0x2358f4(0x6ed),'LocalReport'],[_0x2358f4(0x325)],[_0x2358f4(0x6c3),_0x2358f4(0x745)]];function _0x9de63d(_0x4f6921){const _0xe383bd=_0x2358f4;return{..._0x4f6921,'systemMessageType':_0x224c9e[_0x4f6921['messageType']],'systemContentMessageType':_0x359fc5[_0x4f6921[_0xe383bd(0x22d)]][_0x4f6921['content'][_0xe383bd(0x5ba)]]};}const _0x12a095={'hour':'2-digit','minute':_0x2358f4(0x3f2),'second':_0x2358f4(0x3f2)};function _0x128275(_0x1db2cb,_0x46c06f){const _0x348bc7=_0x2358f4,_0x624fe=(function(){const _0x5b965a=a0_0x34e5,_0x1a4fe0=new Date(),_0x3263d3=_0x1a4fe0[_0x5b965a(0x861)](),_0x164a0d=_0x1a4fe0[_0x5b965a(0x5ae)](_0x5b965a(0x2f6),_0x12a095)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x164a0d+'.'+(_0x3263d3>0x64?''+_0x3263d3:_0x3263d3>0xa?'0'+_0x3263d3:'00'+_0x3263d3);}()),{sourceId:_0x5bd580,destinationIds:_0x5deda8,systemMessageType:_0x4c94a8,systemContentMessageType:_0x2ac17a}=_0x9de63d(_0x1db2cb);return _0x624fe+'\x20-\x20'+_0x46c06f+'\x20-\x20'+(_0x5bd580===_0x46c06f?'Sending\x20\x27'+_0x4c94a8+'\x27\x20to\x20'+(_0x5deda8?''+_0x5deda8:_0x348bc7(0x87e)):_0x1db2cb[_0x348bc7(0x240)]===_0x48ff0f?_0x348bc7(0x50a)+_0x4c94a8+'\x27':(_0x5deda8?'':_0x348bc7(0xa55))+_0x348bc7(0x7a6)+_0x4c94a8+_0x348bc7(0x44e)+_0x5bd580)+_0x348bc7(0x565)+_0x2ac17a+'\x27\x20payload:';}function _0x5a70d9(_0xcb1de5,_0x414cd4){const _0x6c69c6=_0x2358f4;if(!_0x561d9b[_0x6c69c6(0x90b)](_0xcb1de5))return;if(_0x3dd9c1['isProduction'])return;if(_0x6c69c6(0x1fd)==typeof process)return;const _0x312f64=process[_0x6c69c6(0x906)]();console[_0x6c69c6(0x870)](_0x6c69c6(0x77e)+_0x414cd4+':');for(const _0x3e215d in _0x312f64)console['log']('\x20\x20'+_0x3e215d+':\x20'+(_0x312f64[_0x3e215d]/0x400/0x400)[_0x6c69c6(0x21b)](0x2)+_0x6c69c6(0x449));}function _0x3d39b5(_0x22e985,_0xd402e6){const _0x12082e=_0x2358f4;if(!_0x561d9b['isChannelEnabled'](_0xd402e6))return _0x561d9b['debug'](_0x12082e(0x984)+_0xd402e6),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x4098af,_0x66f637)=>_0x66f637}};let _0x5f2bf8=0x0;return{'timingLogger':((()=>{const _0x212ff3=_0x12082e;let _0x451f66=Date[_0x212ff3(0x58d)]();return{'start':()=>{_0x451f66=Date['now']();},'now':()=>Date[_0x212ff3(0x58d)](),'logWaitTime':_0x5ddeee=>{const _0x3b1bd9=_0x212ff3;_0x5f2bf8+=Date[_0x3b1bd9(0x58d)]()-_0x451f66,_0x561d9b[_0x3b1bd9(0x870)](_0xd402e6,_0x5ddeee,_0x5f2bf8+'ms',_0x22e985);}};})()),'logger':{'log':(_0x21f5ce,_0x428245=()=>{})=>{const _0x3fe60f=_0x12082e,_0x85d5eb=_0x428245();_0x85d5eb?_0x561d9b[_0x3fe60f(0x870)](_0xd402e6,_0x21f5ce,_0x85d5eb,_0x22e985):_0x561d9b[_0x3fe60f(0x870)](_0xd402e6,_0x21f5ce,_0x22e985);},'performCalculation':(_0x83788b,_0x15b6e9)=>_0x83788b()}};}function _0x11d342(_0x5841d7){const _0xd983f4=_0x2358f4;return _0xd983f4(0x1fd)==typeof Buffer?0x0:Buffer[_0xd983f4(0x2a3)](JSON[_0xd983f4(0x787)](_0x5841d7),'utf8');}function _0x27e49b(_0x27e2ea){const _0x2270ae=_0x2358f4;if(0x0===_0x27e2ea)return'0\x20B';const _0x166021=Math[_0x2270ae(0x20d)](Math[_0x2270ae(0x870)](_0x27e2ea)/Math[_0x2270ae(0x870)](0x400));return parseFloat((_0x27e2ea/Math[_0x2270ae(0x2e5)](0x400,_0x166021))[_0x2270ae(0x21b)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x166021];}class _0x3b885e extends _0xa6bf6b{[_0x2358f4(0x68a)];[_0x2358f4(0x667)];['vendorId'];[_0x2358f4(0x47d)];['db'];[_0x2358f4(0x56c)];[_0x2358f4(0x9ab)]=new Map();[_0x2358f4(0x679)];[_0x2358f4(0x2bd)];[_0x2358f4(0x76d)];[_0x2358f4(0x8af)];[_0x2358f4(0x87d)];[_0x2358f4(0x857)]=[];[_0x2358f4(0x486)]=()=>{};['syncTimeout'];[_0x2358f4(0x266)]=_0x3fc98a();[_0x2358f4(0x537)];[_0x2358f4(0x9f0)]=[];[_0x2358f4(0x5e3)];['debounceStats'];['writes']=0x0;['reads']=0x0;[_0x2358f4(0x6ff)]=!0x1;['mmr']=new _0xbfca9();[_0x2358f4(0x246)]=new Map();[_0x2358f4(0x2f4)]=[];[_0x2358f4(0x4c4)];[_0x2358f4(0x8e0)]=[];['loggingCycle'];constructor(_0xd361ef,_0x44ee63,_0x344e4e,_0x308413,_0x14cb69,_0x514542,_0x25c85a){const _0x1957b5=_0x2358f4;if('string'!=typeof _0x44ee63)throw new _0x5af266(_0x3412d7[_0x1957b5(0x51e)],_0x1957b5(0x7cc));if(super(_0xd361ef,_0x44ee63),this[_0x1957b5(0x68a)]=_0xd361ef,this[_0x1957b5(0x667)]=_0x344e4e,this[_0x1957b5(0xa0a)]=_0x308413,this['isNodeReady']=_0x25c85a,this[_0x1957b5(0x56c)]=_0x1957b5(0x8d0)+this[_0x1957b5(0xa0a)]+'ccc'+this[_0x1957b5(0x667)]+_0x1957b5(0x8d0)+this[_0x1957b5(0x2bb)],this['tableObserver']=_0x3fc98a(),this[_0x1957b5(0x1d0)]=function(_0x42a05a,_0x941b23){const _0x33a329=_0x1957b5;if(!_0x561d9b['isChannelEnabled'](_0x941b23))return _0x561d9b['debug'](_0x33a329(0x984)+_0x941b23),{..._0x3d39b5(_0x42a05a,_0x941b23),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x33a329(0x930),'dataReceived':'0\x20B'})};const {timingLogger:_0x15ec8c,logger:_0x288b19}=_0x3d39b5(_0x42a05a,_0x941b23);let _0x203534=0x0,_0x450a17=0x0;return{'timingLogger':_0x15ec8c,'logger':_0x288b19,'logDataSent':(_0x3adf39,_0x50165e=!0x1)=>{const _0x31e9da=_0x33a329,_0x3061da=_0x11d342(_0x3adf39);return _0x50165e&&_0x561d9b[_0x31e9da(0x870)](_0x941b23,'Data\x20Sent',_0x42a05a,_0x3061da),_0x203534+=_0x3061da,_0x3061da;},'logDataReceived':(_0x574dd7,_0x457ae6=!0x1)=>{const _0x99a5ea=_0x11d342(_0x574dd7);return _0x457ae6&&_0x561d9b['log'](_0x941b23,'Data\x20Received',_0x42a05a,_0x99a5ea),_0x450a17+=_0x99a5ea,_0x99a5ea;},'getDataLogged':()=>({'dataSent':_0x27e49b(_0x203534),'dataReceived':_0x27e49b(_0x450a17)})};}(this[_0x1957b5(0x2bb)],_0x577427[_0x1957b5(0x212)]),this[_0x1957b5(0x8af)]=new Promise(_0x2f79f7=>{const _0x22ba29=_0x1957b5;this[_0x22ba29(0x87d)]=_0x2f79f7;}),_0x14cb69 instanceof _0x378756)this['layout']=_0x14cb69['getLayout']();else{const [_0x1030b2,_0x2487e6]=_0x378756[_0x1957b5(0xa37)](_0x14cb69);if(!_0x1030b2)throw new _0x5af266(_0x3412d7['KeyValueDatabaseInvalidLayout'],_0x1957b5(0x410)+_0x2487e6);this[_0x1957b5(0x5e3)]=structuredClone(_0x14cb69);}this[_0x1957b5(0x6e8)](this[_0x1957b5(0x5e3)]),this['db']=new _0x514542(this['dbKey'],this[_0x1957b5(0x5e3)]),this[_0x1957b5(0x44c)]();}async['answerContentAvailable'](_0xf917b6,_0x5b449c){const _0x34bbcc=_0x2358f4;if(_0x561d9b[_0x34bbcc(0x870)](_0x577427['KeyValueDatabase'],_0x34bbcc(0x2ad),this[_0x34bbcc(0x2bb)]),!this[_0x34bbcc(0x2bd)])throw new _0x45bad0(_0x45bad0['codes'][_0x34bbcc(0x209)]);if(await this[_0x34bbcc(0x8af)],await this['isNodeReady'](_0xf917b6),await this[_0x34bbcc(0x19b)][_0x34bbcc(0x29b)]()===_0x5b449c){const _0x3be976={'sourceId':this[_0x34bbcc(0x68a)][_0x34bbcc(0x7b4)](),'destinationIds':[_0xf917b6],'propagate':!0x0,'messageType':_0x479af2[_0x34bbcc(0x60f)],'content':{'type':_0x2d88a4[_0x34bbcc(0xa8f)],'label':this['label'],'mmrRoot':_0x5b449c}};return this[_0x34bbcc(0x1d0)][_0x34bbcc(0x644)](_0x3be976),void this['systemTopic'][_0x34bbcc(0x727)](_0x3be976);}const _0x556e60=this[_0x34bbcc(0x19b)]['getPeaks'](),_0x2200fe={'sourceId':this['localNode'][_0x34bbcc(0x7b4)](),'destinationIds':[_0xf917b6],'propagate':!0x0,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0x34bbcc(0x505)],'label':this[_0x34bbcc(0x2bb)],'peaks':_0x556e60}};this[_0x34bbcc(0x1d0)][_0x34bbcc(0x644)](_0x2200fe),this[_0x34bbcc(0x80f)]['publish'](_0x2200fe);}async['processContentSynchronized'](_0x2cc4a2,_0x4d04d9){const _0x163d5f=_0x2358f4,_0x297ce6=await this[_0x163d5f(0x19b)][_0x163d5f(0x29b)](),_0x233347=_0x297ce6===_0x4d04d9;if(_0x561d9b[_0x163d5f(0x870)](_0x577427['KeyValueDatabase'],'Received\x20ContentSynchronized\x20from\x20'+_0x2cc4a2+_0x163d5f(0x1e2)+_0x233347,this[_0x163d5f(0x2bb)]),_0x233347)return this[_0x163d5f(0x289)](),void this[_0x163d5f(0x308)]();_0x561d9b[_0x163d5f(0x870)](_0x577427[_0x163d5f(0x212)],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x297ce6,_0x4d04d9),_0x561d9b[_0x163d5f(0x444)](_0x163d5f(0xa5b),{'nodeId':this[_0x163d5f(0x68a)][_0x163d5f(0x7b4)](),'nodeType':this['localNode'][_0x163d5f(0x5ba)],'remoteId':_0x2cc4a2,'data':{'localMMRRoot':_0x297ce6,'remoteMMRRoot':_0x4d04d9}});const _0x115493={'sourceId':this['localNode']['getId'](),'messageType':_0x479af2[_0x163d5f(0x60f)],'propagate':!0x0,'content':{'type':_0x2d88a4[_0x163d5f(0x4e4)],'label':this[_0x163d5f(0x2bb)],'mmrRoot':_0x297ce6}};this[_0x163d5f(0x80f)][_0x163d5f(0x727)](_0x115493);}async[_0x2358f4(0x5db)](_0x2dbc4e,_0x59cf48){const _0x9c1f7c=_0x2358f4;if(_0x561d9b[_0x9c1f7c(0x870)](_0x577427[_0x9c1f7c(0x212)],_0x9c1f7c(0x98c),_0x2dbc4e,_0x9c1f7c(0x2bb),this['label'],_0x9c1f7c(0x730),_0x59cf48),this[_0x9c1f7c(0x6ff)])return;this[_0x9c1f7c(0x6ff)]=!0x0,this[_0x9c1f7c(0x289)]();const {differingPeaks:_0x169454,peaksMissingInLocal:_0x2cbd39,peaksMissingInRemote:_0x55e6ed}=this['mmr'][_0x9c1f7c(0x5d5)](_0x59cf48);_0x561d9b['log'](_0x577427[_0x9c1f7c(0x212)],_0x9c1f7c(0x581),{'differingPeaks':_0x169454,'peaksMissingInLocal':_0x2cbd39,'peaksMissingInRemote':_0x55e6ed});const _0xdec78d={'sourceId':this[_0x9c1f7c(0x68a)][_0x9c1f7c(0x7b4)](),'destinationIds':[_0x2dbc4e],'propagate':!0x0,'messageType':_0x479af2[_0x9c1f7c(0x60f)],'content':{'type':_0x2d88a4[_0x9c1f7c(0x953)],'label':this[_0x9c1f7c(0x2bb)],'peakHeights':_0x2cbd39[_0x9c1f7c(0x8d9)](_0x4b5c75=>_0x4b5c75['height'])[_0x9c1f7c(0x5ff)](_0x169454[_0x9c1f7c(0x8d9)](_0x2a8f9a=>_0x2a8f9a[_0x9c1f7c(0x532)]))}};if(this[_0x9c1f7c(0x80f)][_0x9c1f7c(0x727)](_0xdec78d),_0x169454[_0x9c1f7c(0x87a)]>0x0||_0x55e6ed[_0x9c1f7c(0x87a)]>0x0){const _0x38ddaa=_0x55e6ed['map'](_0x382ecf=>_0x382ecf[_0x9c1f7c(0x532)])[_0x9c1f7c(0x5ff)](_0x169454[_0x9c1f7c(0x8d9)](_0x40b637=>_0x40b637[_0x9c1f7c(0x532)]));await this[_0x9c1f7c(0x5a4)](_0x2dbc4e,_0x38ddaa,!0x0);}}async[_0x2358f4(0x5a4)](_0x52dc8d,_0x807d2b,_0x8e751e=!0x1){const _0x5f0f60=_0x2358f4;_0x561d9b[_0x5f0f60(0x870)](_0x577427[_0x5f0f60(0x212)],_0x5f0f60(0x7f3),this['label']);const _0x4a6fc2=_0x807d2b[_0x5f0f60(0x8d9)](_0x11f702=>this[_0x5f0f60(0x19b)][_0x5f0f60(0x8b3)](_0x11f702))[_0x5f0f60(0x829)](Boolean);if(!_0x4a6fc2['length']||_0x807d2b[_0x5f0f60(0x87a)]!==_0x4a6fc2[_0x5f0f60(0x87a)])throw new _0x45bad0(_0x45bad0[_0x5f0f60(0x297)]['KeyValueDatabasePeakNotFound'],{'message':_0x5f0f60(0x338),'peakHeights':_0x807d2b,'peaks':_0x4a6fc2['map'](_0x359340=>_0x359340[_0x5f0f60(0x532)]),'nodeId':_0x52dc8d});const _0x5ef453=[];for(const _0x5697e0 of _0x4a6fc2)this[_0x5f0f60(0x30a)](_0x5697e0,_0x5ef453);const _0x33f490=_0x8e751e?void 0x0:[_0x52dc8d],_0x264633={'sourceId':this['localNode'][_0x5f0f60(0x7b4)](),'destinationIds':_0x33f490,'messageType':_0x479af2[_0x5f0f60(0x60f)],'propagate':!0x0,'content':{'type':_0x2d88a4[_0x5f0f60(0x1a9)],'label':this[_0x5f0f60(0x2bb)],'transactions':_0x5ef453}};this['loggingCycle'][_0x5f0f60(0x644)](_0x264633),this[_0x5f0f60(0x80f)][_0x5f0f60(0x727)](_0x264633);}async[_0x2358f4(0x942)](_0x434450,_0x56822e){const _0x3dba69=_0x2358f4;_0x561d9b[_0x3dba69(0x870)](_0x577427[_0x3dba69(0x212)],_0x3dba69(0x546)+_0x56822e['length']+_0x3dba69(0x975)+_0x434450+_0x3dba69(0x5b0)+this[_0x3dba69(0x2bb)]);for(const _0x2c77e3 of _0x56822e){const _0x4d177e=await this[_0x3dba69(0x2bd)][_0x3dba69(0x879)](_0x2c77e3['id']);if(!(_0x4d177e&&this[_0x3dba69(0x782)](_0x4d177e,_0x2c77e3)>=0x0)){if(_0x2c77e3[_0x3dba69(0x553)]===_0x2f3efc[_0x3dba69(0x824)]){const [_0x5b568b,_0x547385]=_0x2c77e3['id'][_0x3dba69(0x6ab)]('::'),_0x3c0fde=this['getTable'](_0x5b568b);await _0x3c0fde[_0x3dba69(0x6e6)](_0x547385);}else this[_0x3dba69(0x857)][_0x3dba69(0x397)](_0x2c77e3['id']);}}if(_0x561d9b['log'](_0x577427[_0x3dba69(0x212)],_0x3dba69(0x20b)+this[_0x3dba69(0x857)][_0x3dba69(0x87a)]+'\x20new\x20transactions',this[_0x3dba69(0x2bb)]),this[_0x3dba69(0x857)]['length']>0x0){const _0x2f23bd={'sourceId':this[_0x3dba69(0x68a)][_0x3dba69(0x7b4)](),'destinationIds':[_0x434450],'messageType':_0x479af2[_0x3dba69(0x60f)],'propagate':!0x0,'content':{'type':_0x2d88a4[_0x3dba69(0x198)],'label':this[_0x3dba69(0x2bb)],'transactionIds':this['transactionsToSync']}};this[_0x3dba69(0x1d0)]['logDataSent'](_0x2f23bd),this[_0x3dba69(0x80f)]['publish'](_0x2f23bd);}}[_0x2358f4(0x7c3)](){this['sendStats']();}['getContentType'](){const _0x29c805=_0x2358f4;return _0x4ab575[_0x29c805(0x7fd)][_0x29c805(0x212)];}[_0x2358f4(0x816)](){const _0x52db2d=_0x2358f4;this['db'][_0x52db2d(0x951)](),this[_0x52db2d(0x76d)]?.(),clearTimeout(this[_0x52db2d(0x247)]),delete this[_0x52db2d(0x247)],super['destroy']();}[_0x2358f4(0x951)](){const _0x4ca162=_0x2358f4;this[_0x4ca162(0x289)](),this['systemTopic'][_0x4ca162(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0x4ca162(0x901)],'label':this[_0x4ca162(0x2bb)]}});}[_0x2358f4(0x34a)](_0x445b7d){const _0x391638=_0x2358f4,_0x48d1b2=this[_0x391638(0x9ab)]['get'](_0x445b7d);if(_0x48d1b2)return _0x48d1b2;try{if(!this['db']['hasTable'](_0x445b7d))throw new _0x5af266(_0x3412d7[_0x391638(0x929)],_0x391638(0x5c7));const _0xabb71=new _0x47ffaf(this['db']['getTableConnector'](_0x445b7d),_0x445b7d,this[_0x391638(0x679)]);return this[_0x391638(0x9ab)][_0x391638(0x851)](_0x445b7d,_0xabb71),{'get':_0xabb71[_0x391638(0x879)]['bind'](_0xabb71),'set':_0xabb71['set'][_0x391638(0x767)](_0xabb71),'add':_0xabb71['add'][_0x391638(0x767)](_0xabb71),'delete':_0xabb71['delete'][_0x391638(0x767)](_0xabb71),'clear':_0xabb71[_0x391638(0x375)][_0x391638(0x767)](_0xabb71),'list':_0xabb71[_0x391638(0x1d7)][_0x391638(0x767)](_0xabb71),'count':_0xabb71[_0x391638(0x7d8)]['bind'](_0xabb71),'subscribe':_0xabb71[_0x391638(0x6f4)]['bind'](_0xabb71),'unsubscribe':_0xabb71[_0x391638(0x353)]['bind'](_0xabb71)};}catch(_0x1d0eda){if(_0x1d0eda instanceof _0x5af266)throw _0x1d0eda;throw new _0x5af266(_0x3412d7[_0x391638(0x232)],'Database\x20not\x20open');}}[_0x2358f4(0x6f4)](_0x295e71){const _0x13f1fc=_0x2358f4;this[_0x13f1fc(0x537)]=this[_0x13f1fc(0x266)][_0x13f1fc(0x6f4)](_0x295e71),this[_0x13f1fc(0x6ce)](this['isSync'])[_0x13f1fc(0xa18)](_0x457703=>{const _0x3c25b9=_0x13f1fc;_0x457703&&this[_0x3c25b9(0x266)][_0x3c25b9(0x727)]({'event':_0x4ab575['DatabaseEvent'][_0x3c25b9(0x8c2)]});});}[_0x2358f4(0x353)](){const _0x3e18d5=_0x2358f4;this[_0x3e18d5(0x537)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x2358f4(0x1ed)](){const _0x30c7fd=_0x2358f4;_0x5a70d9(_0x577427[_0x30c7fd(0x212)],_0x30c7fd(0x7c2));const _0x278018=[_0x23e70c,_0x5c9f1f],_0x525849=[];try{await this['db']['open']();const _0x5ced50=this['db']['getTableConnector'](_0x5c9f1f),_0x216d22=await _0x5ced50[_0x30c7fd(0x1d7)](),{id:_0x3001e5,layout:_0x9efaf8}=_0x216d22[0x0]??{};if(_0x9efaf8){for(const _0x13f947 in _0x9efaf8)_0x278018[_0x30c7fd(0x877)](_0x13f947)||this['db']['hasTable'](_0x13f947)||_0x525849[_0x30c7fd(0x397)](_0x13f947);await _0x5ced50[_0x30c7fd(0x851)](_0x3001e5,{'layout':this[_0x30c7fd(0x5e3)]});}else await _0x5ced50[_0x30c7fd(0x845)]({'layout':this['layout']});}catch(_0x3c98fc){throw new _0x5af266(_0x3412d7[_0x30c7fd(0x232)],_0x3c98fc[_0x30c7fd(0x71e)]||_0x30c7fd(0x933));}this[_0x30c7fd(0xa5c)](),await this[_0x30c7fd(0x4ab)](),this[_0x30c7fd(0xa48)](),this[_0x30c7fd(0x6d7)](),_0x525849[_0x30c7fd(0x37b)](_0x368444=>this[_0x30c7fd(0x6c6)](_0x368444));}async[_0x2358f4(0x491)](_0x2d409c,_0x1eabe0=()=>{},_0x564d15=!0x1){const _0x2caefa=_0x2358f4;if(!_0x2d409c)return setTimeout(()=>{const _0x328ea2=a0_0x34e5;this[_0x328ea2(0x289)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x2caefa(0x6ff)]=!0x1,this[_0x2caefa(0x486)]=_0x1eabe0,this[_0x2caefa(0x3bc)]=setTimeout(_0x1eabe0,0x7d0),!this[_0x2caefa(0x80f)])throw new _0x45bad0(_0x45bad0[_0x2caefa(0x297)][_0x2caefa(0x60e)]);const _0x583737=await this[_0x2caefa(0x19b)]['getRoot'](),_0x10a245={'sourceId':this[_0x2caefa(0x68a)][_0x2caefa(0x7b4)](),'messageType':_0x479af2[_0x2caefa(0x60f)],'propagate':_0x564d15,'content':{'type':_0x2d88a4[_0x2caefa(0x4e4)],'label':this[_0x2caefa(0x2bb)],'mmrRoot':_0x583737}};return this[_0x2caefa(0x1d0)][_0x2caefa(0x644)](_0x10a245),this[_0x2caefa(0x80f)][_0x2caefa(0x727)](_0x10a245),this['isSync'];}async['sendTransactionsValue'](_0x2b3947,_0x33240a){const _0x13d178=_0x2358f4;if(_0x561d9b[_0x13d178(0x870)](_0x577427[_0x13d178(0x212)],_0x13d178(0x195)+_0x33240a[_0x13d178(0x87a)],this[_0x13d178(0x2bb)]),!this[_0x13d178(0x2bd)])throw new _0x45bad0(_0x45bad0[_0x13d178(0x297)][_0x13d178(0x209)]);for(const _0x427a73 of _0x33240a){const _0x3959de=await this[_0x13d178(0x2bd)][_0x13d178(0x879)](_0x427a73);if(!_0x3959de)continue;const [_0x105802,_0x1ce5ca]=_0x427a73[_0x13d178(0x6ab)]('::'),_0x462ea3=this[_0x13d178(0x34a)](_0x105802),_0x38a51f=await _0x462ea3[_0x13d178(0x879)](_0x1ce5ca);_0x38a51f?(_0x3959de[_0x13d178(0x808)]=_0x38a51f,this[_0x13d178(0x9cd)](_0x3959de,[_0x2b3947])):_0x561d9b[_0x13d178(0x444)](_0x13d178(0x91b),{'nodeId':this[_0x13d178(0x68a)][_0x13d178(0x7b4)](),'nodeType':this[_0x13d178(0x68a)][_0x13d178(0x5ba)],'remoteId':_0x2b3947,'data':{'tableKeys':Object[_0x13d178(0x535)](this[_0x13d178(0x9ab)]),'transactionId':_0x427a73,'transactions':this[_0x13d178(0x857)],'tableName':_0x105802,'key':_0x1ce5ca}});}}async[_0x2358f4(0x1e8)](_0x29f301){const _0x2dd93b=_0x2358f4;if(!this[_0x2dd93b(0x2bd)])throw new _0x45bad0(_0x45bad0['codes'][_0x2dd93b(0x209)]);const _0x2efda9=await this[_0x2dd93b(0x19b)][_0x2dd93b(0x58c)](_0x29f301),_0x4b3e47=this[_0x2dd93b(0x246)][_0x2dd93b(0x879)](_0x2efda9);if(_0x4b3e47&&this[_0x2dd93b(0x782)](_0x29f301,_0x4b3e47)<=0x0)return void _0x561d9b['log'](_0x577427[_0x2dd93b(0x212)],_0x2dd93b(0x3e1),_0x29f301);const _0x3b0ff1={..._0x29f301};return delete _0x3b0ff1[_0x2dd93b(0x808)],this[_0x2dd93b(0x6e4)](_0x3b0ff1),await this[_0x2dd93b(0x2bd)][_0x2dd93b(0x851)](_0x29f301['id'],_0x3b0ff1),_0x29f301;}[_0x2358f4(0x782)](_0x4a165d,_0x192947){const _0x27e1c0=_0x2358f4;return _0x4a165d[_0x27e1c0(0x5e2)]!==_0x192947[_0x27e1c0(0x5e2)]?_0x4a165d['timestamp']-_0x192947[_0x27e1c0(0x5e2)]:_0x4a165d['priority']-_0x192947[_0x27e1c0(0xa5d)];}async[_0x2358f4(0x1d3)](_0x2c0a6b){const _0x2b7d56=_0x2358f4;if(!this[_0x2b7d56(0x2bd)])throw new _0x45bad0(_0x45bad0['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x1a160c=_0x2c0a6b['tableName']+'::'+_0x2c0a6b[_0x2b7d56(0xa23)],_0x19bb15=await _0x1eef3c[_0x2b7d56(0x63a)](),_0x682f41={'id':_0x1a160c,'priority':Math[_0x2b7d56(0x363)](),'timestamp':_0x19bb15,'action':_0x2c0a6b[_0x2b7d56(0x553)]};if(await this['writeTransaction'](_0x682f41))return _0x682f41;}async[_0x2358f4(0x6c6)](_0xc4a913){const _0x37bff7=_0x2358f4;if(!this[_0x37bff7(0x2bd)])throw new _0x45bad0(_0x45bad0['codes'][_0x37bff7(0x209)]);const _0x92ade0=_0x1cd769[_0x37bff7(0x55d)]('id')[_0x37bff7(0xaa0)](_0x37bff7(0x8aa),[_0xc4a913+'::',_0xc4a913+'::']),_0x332bda=await this[_0x37bff7(0x2bd)][_0x37bff7(0x1d7)](_0x92ade0[_0x37bff7(0x383)]());for(const _0xb779ce of _0x332bda)await this[_0x37bff7(0x2bd)][_0x37bff7(0x6e6)](_0xb779ce['id']);}['setOnMessageHandler'](){const _0x4cab6e=_0x2358f4;this[_0x4cab6e(0x9d5)](async(_0x27344c,_0x1758b4)=>{const _0x13fcf8=_0x4cab6e;if(_0x1758b4 instanceof File)return;if(this[_0x13fcf8(0x1d0)][_0x13fcf8(0x4ce)](_0x1758b4),!await this[_0x13fcf8(0x1e8)](_0x1758b4))return void this['checkSyncComplete'](_0x27344c,_0x1758b4);if(!_0x1758b4[_0x13fcf8(0x808)])throw new _0x45bad0(_0x45bad0['codes']['KeyValueDatabaseTransactionValueNotSet']);const [_0x227a36,_0x3c641b]=_0x1758b4['id'][_0x13fcf8(0x6ab)]('::'),_0x401628=this[_0x13fcf8(0x34a)](_0x227a36);if(!_0x401628)throw new _0x45bad0(_0x45bad0[_0x13fcf8(0x297)][_0x13fcf8(0x2aa)],{'table':_0x401628});let _0x2e1592=0x0;switch(_0x1758b4['action']){case _0x2f3efc['Add']:case _0x2f3efc[_0x13fcf8(0x8df)]:{const _0x523631=_0x401628[_0x13fcf8(0x851)](_0x3c641b,_0x1758b4[_0x13fcf8(0x808)],!0x1);_0x2e1592=JSON[_0x13fcf8(0x787)](_0x1758b4[_0x13fcf8(0x808)])[_0x13fcf8(0x87a)],this[_0x13fcf8(0x857)][_0x13fcf8(0x877)](_0x1758b4['id'])&&this[_0x13fcf8(0x9f0)][_0x13fcf8(0x397)](_0x523631);break;}case _0x2f3efc[_0x13fcf8(0x824)]:{const _0x407c90=_0x401628[_0x13fcf8(0x6e6)](_0x3c641b,!0x1);this[_0x13fcf8(0x857)][_0x13fcf8(0x877)](_0x1758b4['id'])&&this[_0x13fcf8(0x9f0)][_0x13fcf8(0x397)](_0x407c90);break;}}_0x561d9b[_0x13fcf8(0x8a4)](_0x4ae419['KeyValueDatabase'],{'type':_0x13fcf8(0x491),'label':this[_0x13fcf8(0x2bb)],'nodeId':this[_0x13fcf8(0x68a)]['getId'](),'nodeType':this[_0x13fcf8(0x68a)][_0x13fcf8(0x5ba)],'clusterId':this[_0x13fcf8(0x667)],'tableName':_0x227a36,'key':_0x3c641b,'size':_0x2e1592}),this[_0x13fcf8(0x908)](_0x27344c,_0x1758b4);});}['setOnTableWriteHandler'](){const _0xfa51cc=_0x2358f4;this[_0xfa51cc(0x76d)]=this['tableObserver'][_0xfa51cc(0x6f4)](async _0x2469d=>{const _0x3003ad=_0xfa51cc;let _0x31fd16=0x0;switch(_0x2469d[_0x3003ad(0x553)]){case _0x2f3efc[_0x3003ad(0x7d6)]:case _0x2f3efc[_0x3003ad(0x8df)]:case _0x2f3efc[_0x3003ad(0x824)]:{const _0x3975d1=await this[_0x3003ad(0x1d3)](_0x2469d);if(!_0x3975d1)return;_0x3975d1[_0x3003ad(0x808)]=_0x2469d['value'],this['send'](_0x3975d1),_0x31fd16=JSON[_0x3003ad(0x787)](_0x2469d[_0x3003ad(0x808)])['length'],this[_0x3003ad(0x612)]+=0x1;break;}case _0x4fb782[_0x3003ad(0x71c)]:case _0x4fb782[_0x3003ad(0xa53)]:case _0x4fb782['Count']:this[_0x3003ad(0x672)]+=0x1;}_0x561d9b['logServiceEvent'](_0x4ae419[_0x3003ad(0x212)],{'type':_0x2469d['action'],'label':this[_0x3003ad(0x2bb)],'nodeId':this['localNode'][_0x3003ad(0x7b4)](),'nodeType':this[_0x3003ad(0x68a)][_0x3003ad(0x5ba)],'clusterId':this[_0x3003ad(0x667)],'tableName':_0x2469d['tableName'],'key':_0x2469d[_0x3003ad(0xa23)],'size':_0x31fd16}),this['sendStats']();});}['instantiateTransactionTable'](){const _0x372c91=_0x2358f4;this['db']&&(this[_0x372c91(0x2bd)]||(this[_0x372c91(0x2bd)]=this['db'][_0x372c91(0x263)](_0x23e70c)));}['clearSyncTimeout'](){const _0x3f333f=_0x2358f4;this['syncTimeout']&&(clearTimeout(this[_0x3f333f(0x3bc)]),delete this['syncTimeout']);}async[_0x2358f4(0x308)](){const _0x34d84d=_0x2358f4;await this['mmr'][_0x34d84d(0x8fb)],this['logSyncMetrics'](),this[_0x34d84d(0x266)][_0x34d84d(0x727)]({'event':_0x4ab575['DatabaseEvent'][_0x34d84d(0x8c2)]}),this[_0x34d84d(0x87d)]?.(!0x0),delete this[_0x34d84d(0x87d)],this['sendStats'](),_0x561d9b[_0x34d84d(0x870)](_0x577427[_0x34d84d(0x212)],'Sync\x20completed',this[_0x34d84d(0x2bb)]);}async[_0x2358f4(0x318)](_0x3d2ca0){const _0x28a814=_0x2358f4;await Promise[_0x28a814(0x9c9)](this['syncTransactionsWritten']),_0x561d9b['log'](_0x577427[_0x28a814(0x212)],'publishSyncCompletedAfterWrites\x20-\x20'+this[_0x28a814(0x9f0)][_0x28a814(0x87a)]+_0x28a814(0x90c)+_0x3d2ca0+_0x28a814(0x285),this[_0x28a814(0x2bb)]),await this[_0x28a814(0x19b)]['ready'],await this[_0x28a814(0x38e)](_0x3d2ca0),await this[_0x28a814(0x308)]();}['checkSyncComplete'](_0x3d3f6b,_0x594e22){const _0x528bad=_0x2358f4;this[_0x528bad(0x857)]['includes'](_0x594e22['id'])&&(this[_0x528bad(0x289)](),this[_0x528bad(0x857)]=this['transactionsToSync'][_0x528bad(0x829)](_0x1137cf=>_0x1137cf!==_0x594e22['id']),0x0!==this[_0x528bad(0x857)][_0x528bad(0x87a)]?this[_0x528bad(0x3bc)]=setTimeout(this[_0x528bad(0x486)],0x7d0):this[_0x528bad(0x318)](_0x3d3f6b));}[_0x2358f4(0x44c)](){const _0x3abff7=_0x2358f4;this[_0x3abff7(0x247)]&&clearTimeout(this[_0x3abff7(0x247)]),this[_0x3abff7(0x247)]=setTimeout(async()=>{const _0x4f9cff=_0x3abff7;delete this[_0x4f9cff(0x247)];let _0x6d255d=0x0;for(const _0x21f951 of this['tables'][_0x4f9cff(0x55b)]())_0x6d255d+=await _0x21f951['calculateSize']();this[_0x4f9cff(0x80f)]['publish']({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x4f9cff(0x60f)],'content':{'type':_0x2d88a4['KeyValueDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0x4f9cff(0x58d)](),'storage':_0x6d255d,'messagesSent':this[_0x4f9cff(0x379)],'messagesReceived':this[_0x4f9cff(0x4e7)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x4f9cff(0x67e)],'writes':this[_0x4f9cff(0x612)],'reads':this[_0x4f9cff(0x672)],'prompts':0x0,'tokens':0x0}}}),_0x561d9b[_0x4f9cff(0x51b)](_0x4ae419['KeyValueDatabase'],_0x4f9cff(0x8d0)+this[_0x4f9cff(0x667)]+_0x4f9cff(0x8d0)+this[_0x4f9cff(0x2bb)],_0x6d255d);},_0x9a9f66);}[_0x2358f4(0x6e8)](_0x45a252){const _0x3c3c6c=_0x2358f4;if(_0x45a252['tables'][_0x23e70c])throw new _0x5af266(_0x3412d7[_0x3c3c6c(0x9d6)],_0x3c3c6c(0x4ef)+_0x23e70c+_0x3c3c6c(0x918));if(_0x45a252[_0x3c3c6c(0x9ab)][_0x5c9f1f])throw new _0x5af266(_0x3412d7[_0x3c3c6c(0x9d6)],_0x3c3c6c(0x4ef)+_0x5c9f1f+_0x3c3c6c(0x918));_0x45a252['tables'][_0x23e70c]={'indexes':[]},_0x45a252[_0x3c3c6c(0x9ab)][_0x5c9f1f]={'indexes':[]};}async[_0x2358f4(0x6ce)](_0x5d8132){const _0x2eae4c=_0x2358f4;return Promise[_0x2eae4c(0x7e1)]([_0x5d8132,Promise[_0x2eae4c(0x48c)](_0x2eae4c(0x708))])[_0x2eae4c(0xa18)](_0x40ee13=>'not-resolved'!==_0x40ee13);}async[_0x2358f4(0x38e)](_0x5c282e){const _0x342090=_0x2358f4;await this['processTransactionsToComputeMMR']();const _0x455670=await this[_0x342090(0x19b)][_0x342090(0x29b)](),_0x44e6a1={'sourceId':this[_0x342090(0x68a)]['getId'](),'destinationIds':[_0x5c282e],'propagate':!0x0,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0x342090(0xa8f)],'label':this['label'],'mmrRoot':_0x455670}};this['systemTopic'][_0x342090(0x727)](_0x44e6a1);}async['buildInitialMMR'](){const _0x1928ad=_0x2358f4;if(!this[_0x1928ad(0x2bd)])throw new _0x45bad0(_0x45bad0['codes'][_0x1928ad(0x209)]);this[_0x1928ad(0x2f4)]=await this[_0x1928ad(0x2bd)][_0x1928ad(0x1d7)](),this[_0x1928ad(0x2f4)]['sort'](this[_0x1928ad(0x782)]),this[_0x1928ad(0x19b)]=new _0xbfca9(),this[_0x1928ad(0x246)]=new Map();for(const _0x30932f of this[_0x1928ad(0x2f4)])this[_0x1928ad(0x23c)](_0x30932f,this[_0x1928ad(0x2f4)][_0x1928ad(0x87a)]);this[_0x1928ad(0x8f5)]();}async[_0x2358f4(0x23c)](_0x3d3892,_0x3cfe60){const _0x109046=_0x2358f4,_0x25b540={..._0x3d3892};delete _0x25b540[_0x109046(0x808)],await this['mmr'][_0x109046(0x888)](_0x25b540,_0x3cfe60);const _0x7fad0f=await this['mmr'][_0x109046(0x58c)](_0x25b540);this[_0x109046(0x246)]['set'](_0x7fad0f,_0x3d3892);}['getTransactionByHash'](_0x2d952c){const _0x3244bc=_0x2358f4;return this[_0x3244bc(0x246)][_0x3244bc(0x879)](_0x2d952c);}['collectTransactionsFromNode'](_0x34b888,_0x93c080){const _0x3da9ab=_0x2358f4;if(0x0!==_0x34b888[_0x3da9ab(0x532)])_0x34b888[_0x3da9ab(0x28d)]&&this[_0x3da9ab(0x30a)](_0x34b888['left'],_0x93c080),_0x34b888[_0x3da9ab(0x1f3)]&&this[_0x3da9ab(0x30a)](_0x34b888[_0x3da9ab(0x1f3)],_0x93c080);else{const _0x40f643=this[_0x3da9ab(0x22f)](_0x34b888['hash']);_0x40f643&&_0x93c080[_0x3da9ab(0x397)](_0x40f643);}}async[_0x2358f4(0x8ff)](){const _0x202b99=_0x2358f4;this[_0x202b99(0x4c4)]&&(clearTimeout(this[_0x202b99(0x4c4)]),delete this[_0x202b99(0x4c4)],this[_0x202b99(0x8e0)]['length']>0x0&&(this[_0x202b99(0x2f4)][_0x202b99(0x397)](...this[_0x202b99(0x8e0)][_0x202b99(0x96f)](this['compareTransactions'])),this['transactionsToAppend']=[]));const _0x3b89c6=this[_0x202b99(0x77a)]();this[_0x202b99(0x19b)]=new _0xbfca9(),this[_0x202b99(0x246)]['clear'](),this[_0x202b99(0x2f4)]['sort'](this['compareTransactions']);for(const _0x5ccf9d of this[_0x202b99(0x2f4)])this[_0x202b99(0x23c)](_0x5ccf9d,this[_0x202b99(0x2f4)][_0x202b99(0x87a)]);await this['mmr'][_0x202b99(0x8fb)],this[_0x202b99(0xa68)](_0x3b89c6);}[_0x2358f4(0x77a)](){const _0x3922e6=_0x2358f4;return this['loggingCycle']['logger'][_0x3922e6(0x296)](async()=>{const _0x9a2c6f=_0x3922e6,_0x46f10b=await this['mmr'][_0x9a2c6f(0x29b)]();return{'startTime':Date[_0x9a2c6f(0x58d)](),'initialRoot':_0x46f10b};},Promise[_0x3922e6(0x48c)]({'startTime':0x0,'initialRoot':''}));}async[_0x2358f4(0xa68)](_0x4d39a4){const _0x530fd2=_0x2358f4;try{const {startTime:_0x4abcb5,initialRoot:_0x14c8f9}=await _0x4d39a4,_0x2f3e9e=await this[_0x530fd2(0x19b)][_0x530fd2(0x29b)](),_0x3b5f3a=[_0x530fd2(0x9f8)+(_0x14c8f9!==_0x2f3e9e),_0x530fd2(0x3f7)+_0x14c8f9,_0x530fd2(0x314)+_0x2f3e9e,_0x530fd2(0x303)+this[_0x530fd2(0x19b)][_0x530fd2(0x7f7)](),_0x530fd2(0x958)+(Date[_0x530fd2(0x58d)]()-_0x4abcb5)+_0x530fd2(0x439)][_0x530fd2(0x374)]('\x20');this[_0x530fd2(0x1d0)][_0x530fd2(0xa05)][_0x530fd2(0x870)]('',()=>_0x3b5f3a);}catch(_0x544f01){console['error'](_0x530fd2(0x450),_0x544f01);}}[_0x2358f4(0x6e4)](_0x1d33fe){const _0x2fd8d1=_0x2358f4;this[_0x2fd8d1(0x8e0)][_0x2fd8d1(0x397)](_0x1d33fe),this[_0x2fd8d1(0x4c4)]&&(clearTimeout(this[_0x2fd8d1(0x4c4)]),delete this[_0x2fd8d1(0x4c4)]),this[_0x2fd8d1(0x4c4)]=setTimeout(()=>{const _0x17acd1=_0x2fd8d1;this[_0x17acd1(0x511)]();},0x3e8);}async[_0x2358f4(0x511)](){const _0x419813=_0x2358f4;if(this[_0x419813(0x4c4)]&&(clearTimeout(this[_0x419813(0x4c4)]),delete this['debounceRebuildMMR']),0x0!==this[_0x419813(0x8e0)][_0x419813(0x87a)]){if(0x0===this[_0x419813(0x2f4)][_0x419813(0x87a)])return this[_0x419813(0x2f4)]=this[_0x419813(0x8e0)],this['transactionsToAppend']=[],await this[_0x419813(0x8ff)]();if(this['transactionsToAppend'][_0x419813(0x96f)](this[_0x419813(0x782)]),this[_0x419813(0x782)](this[_0x419813(0x8e0)][0x0],this['transactions'][this[_0x419813(0x2f4)][_0x419813(0x87a)]-0x1])>0x0){this[_0x419813(0x1d0)]['logger'][_0x419813(0x870)]('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this[_0x419813(0x8e0)][_0x419813(0x87a)]+_0x419813(0x40b)+this['transactions'][_0x419813(0x87a)]);for(const _0x38f35d of this['transactionsToAppend'])this[_0x419813(0x2f4)][_0x419813(0x397)](_0x38f35d),this[_0x419813(0x23c)](_0x38f35d,this[_0x419813(0x8e0)][_0x419813(0x87a)]);return this[_0x419813(0x8e0)]=[],void this[_0x419813(0x1d0)][_0x419813(0xa05)][_0x419813(0x870)](_0x419813(0x2e6),async()=>_0x419813(0x6b8)+await this[_0x419813(0x19b)][_0x419813(0x29b)]()+_0x419813(0x3c0)+this[_0x419813(0x19b)][_0x419813(0x7f7)]());}this['loggingCycle'][_0x419813(0xa05)][_0x419813(0x870)](_0x419813(0xa89)+this[_0x419813(0x8e0)][_0x419813(0x87a)]+_0x419813(0x40b)+this['transactions'][_0x419813(0x87a)]),this[_0x419813(0x2f4)][_0x419813(0x397)](...this['transactionsToAppend']),this[_0x419813(0x8e0)]=[],this[_0x419813(0x8ff)]();}}async['logSyncMetrics'](){const _0x4ccdc2=_0x2358f4;if(!_0x561d9b[_0x4ccdc2(0x90b)](_0x577427[_0x4ccdc2(0x212)]))return;await this['mmr'][_0x4ccdc2(0x8fb)];const {dataSent:_0x570354,dataReceived:_0x4a3fbb}=this['loggingCycle'][_0x4ccdc2(0x27b)]();_0x561d9b[_0x4ccdc2(0x870)](_0x577427[_0x4ccdc2(0x212)],_0x4ccdc2(0x539),this['label'],_0x4ccdc2(0x87f)+_0x570354,_0x4ccdc2(0x288)+_0x4a3fbb,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x4ccdc2(0x19b)][_0x4ccdc2(0x29b)](),_0x4ccdc2(0x1c5),this['mmr'][_0x4ccdc2(0x7f7)]());}async[_0x2358f4(0x8f5)](){const _0x4dac9e=_0x2358f4;if(!_0x561d9b[_0x4dac9e(0x90b)](_0x577427[_0x4dac9e(0x212)]))return;const _0x5320c7=this[_0x4dac9e(0x19b)][_0x4dac9e(0x510)](),_0x217ad3=_0x5320c7[_0x4dac9e(0x8d9)](_0x5561a8=>_0x5561a8[_0x4dac9e(0x532)]),_0x5f42ca=await this[_0x4dac9e(0x19b)][_0x4dac9e(0x29b)]();_0x561d9b['log'](_0x577427[_0x4dac9e(0x212)],_0x4dac9e(0x216),this[_0x4dac9e(0x2f4)]['length'],_0x4dac9e(0x2f4),this[_0x4dac9e(0x19b)][_0x4dac9e(0x7f7)](),_0x4dac9e(0x323),_0x5320c7['length'],'peaks',_0x217ad3,_0x4dac9e(0x8b7),_0x5f42ca);}}const _0x39ac8e=require('@crewdle/mist-connector-opfs'),_0x586aed=require('@crewdle/mist-connector-indexed-db'),_0x1474b0=require('@crewdle/mist-connector-webrtc-browser'),_0x555ca3=0x1fc00000;var _0x4ab0b0,_0x4f417c,_0x2a5ce9,_0x24afe6,_0x44d62e,_0x518128,_0x2e1292,_0x14c2b7,_0x3896a0;!function(_0x33e6f9){const _0x4cedfc=_0x2358f4;_0x33e6f9[_0x4cedfc(0x563)]=_0x4cedfc(0x563),_0x33e6f9[_0x4cedfc(0x648)]=_0x4cedfc(0x648),_0x33e6f9[_0x4cedfc(0x5fa)]=_0x4cedfc(0x5fa),_0x33e6f9[_0x4cedfc(0xa4d)]=_0x4cedfc(0xa4d),_0x33e6f9[_0x4cedfc(0x53d)]='DeviceConfig',_0x33e6f9[_0x4cedfc(0x37a)]=_0x4cedfc(0x37a),_0x33e6f9[_0x4cedfc(0x613)]=_0x4cedfc(0x613),_0x33e6f9[_0x4cedfc(0x9aa)]=_0x4cedfc(0x9aa),_0x33e6f9[_0x4cedfc(0x970)]=_0x4cedfc(0x970),_0x33e6f9['WebRTC']=_0x4cedfc(0x336);}(_0x4ab0b0||(_0x4ab0b0={}));class _0xa2fae1{[_0x2358f4(0x1d1)];[_0x2358f4(0xa43)];[_0x2358f4(0x7f9)];constructor(_0x352573=new Map(),_0x55b5f1=new Map(),_0x4bf936=new EventTarget()){const _0xc5d0a=_0x2358f4;this[_0xc5d0a(0x1d1)]=_0x352573,this[_0xc5d0a(0xa43)]=_0x55b5f1,this[_0xc5d0a(0x7f9)]=_0x4bf936;}[_0x2358f4(0x396)]=(_0x4497c1,_0x24c197)=>this[_0x2358f4(0x1d1)][_0x2358f4(0x3d0)](_0x4497c1)?(_0x561d9b['log'](_0x577427[_0x2358f4(0x836)],_0x2358f4(0x95c),{'event':_0x4497c1,'data':_0x24c197}),this['eventTarget'][_0x2358f4(0x4b4)](new CustomEvent(_0x4497c1,{'detail':_0x24c197})),!0x0):(this[_0x2358f4(0x556)](_0x4497c1,_0x24c197),!0x1);['on']=(_0x3c30d3,_0x117d77)=>{const _0x763aaa=_0x2358f4,_0x41c27d=_0x296368=>{const _0x2b6e19=a0_0x34e5;_0x561d9b[_0x2b6e19(0x870)](_0x577427[_0x2b6e19(0x836)],'Received\x20event\x20on\x20cluster',_0x296368['type'],_0x296368[_0x2b6e19(0x798)]),_0x117d77(_0x296368[_0x2b6e19(0x798)]);};return this[_0x763aaa(0x1d1)][_0x763aaa(0x851)](_0x3c30d3,_0x41c27d),this['eventTarget'][_0x763aaa(0x5b8)](_0x3c30d3,_0x41c27d),_0x561d9b[_0x763aaa(0x870)](_0x577427['Cluster'],_0x763aaa(0x533),_0x3c30d3,_0x117d77),this[_0x763aaa(0x367)](_0x3c30d3),this;};['off'](_0xda5a11){const _0x4906b6=_0x2358f4;if(!_0xda5a11)return this[_0x4906b6(0x1d1)][_0x4906b6(0x37b)]((_0x1edb9b,_0x5619eb)=>{const _0x4e195b=_0x4906b6;this[_0x4e195b(0x7f9)][_0x4e195b(0x688)](_0x5619eb,_0x1edb9b);}),void this['registeredListeners']['clear']();_0x4906b6(0x991)==typeof _0xda5a11&&this[_0x4906b6(0x676)](_0xda5a11),Array[_0x4906b6(0x744)](_0xda5a11)&&_0xda5a11[_0x4906b6(0x37b)](_0x19690e=>{const _0x47a38b=_0x4906b6;this[_0x47a38b(0x676)](_0x19690e);});}[_0x2358f4(0x676)](_0x5c0574){const _0x3e5949=_0x2358f4,_0x2873cd=this[_0x3e5949(0x1d1)][_0x3e5949(0x879)](_0x5c0574);_0x2873cd&&(this['eventTarget'][_0x3e5949(0x688)](_0x5c0574,_0x2873cd),this[_0x3e5949(0x1d1)][_0x3e5949(0x6e6)](_0x5c0574));}[_0x2358f4(0x556)](_0x2bff5e,_0x3c1d66){const _0x5d4eb1=_0x2358f4;_0x561d9b['log'](_0x577427[_0x5d4eb1(0x836)],_0x5d4eb1(0x1ae),{'event':_0x2bff5e,'data':_0x3c1d66});const _0x1658bd=this[_0x5d4eb1(0xa43)][_0x5d4eb1(0x879)](_0x2bff5e)||[];this[_0x5d4eb1(0xa43)][_0x5d4eb1(0x851)](_0x2bff5e,[..._0x1658bd,_0x3c1d66]);}['consumeBufferedEvents'](_0x7834e6){const _0x28388c=_0x2358f4,_0x3ee945=this[_0x28388c(0xa43)][_0x28388c(0x879)](_0x7834e6);_0x3ee945&&(_0x3ee945['forEach'](_0x466540=>{const _0x177575=_0x28388c;_0x561d9b[_0x177575(0x870)](_0x577427[_0x177575(0x836)],_0x177575(0x793),{'event':_0x7834e6,'data':_0x466540}),this[_0x177575(0x7f9)][_0x177575(0x4b4)](new CustomEvent(_0x7834e6,{'detail':_0x466540}));}),this[_0x28388c(0xa43)]['delete'](_0x7834e6));}}class _0x4b95c1 extends Error{constructor(_0x220177){const _0xeaced1=_0x2358f4;super(_0xeaced1(0x7e3)+_0x220177);}}!function(_0x22e2c1){const _0x53fe39=_0x2358f4;_0x22e2c1[_0x22e2c1[_0x53fe39(0x876)]=0x0]=_0x53fe39(0x876),_0x22e2c1[_0x22e2c1[_0x53fe39(0x9d9)]=0x1]=_0x53fe39(0x9d9);}(_0x4f417c||(_0x4f417c={})),function(_0x20dffc){const _0xe7f065=_0x2358f4;_0x20dffc[_0x20dffc[_0xe7f065(0x27c)]=0x0]=_0xe7f065(0x27c),_0x20dffc[_0x20dffc[_0xe7f065(0x1f6)]=0x1]=_0xe7f065(0x1f6),_0x20dffc[_0x20dffc[_0xe7f065(0x47b)]=0x2]=_0xe7f065(0x47b),_0x20dffc[_0x20dffc['Success']=0x3]=_0xe7f065(0x867),_0x20dffc[_0x20dffc[_0xe7f065(0x440)]=0x4]=_0xe7f065(0x440),_0x20dffc[_0x20dffc[_0xe7f065(0x542)]=0x5]=_0xe7f065(0x542),_0x20dffc[_0x20dffc['Disconnect']=0x6]=_0xe7f065(0xa56),_0x20dffc[_0x20dffc[_0xe7f065(0x2be)]=0x7]=_0xe7f065(0x2be),_0x20dffc[_0x20dffc[_0xe7f065(0x576)]=0x8]=_0xe7f065(0x576);}(_0x2a5ce9||(_0x2a5ce9={})),function(_0x871b1b){const _0x21eec7=_0x2358f4;_0x871b1b[_0x871b1b[_0x21eec7(0x399)]=0x0]='Sender',_0x871b1b[_0x871b1b[_0x21eec7(0x9ea)]=0x1]=_0x21eec7(0x9ea);}(_0x24afe6||(_0x24afe6={})),function(_0x199c0e){const _0x5bd6e8=_0x2358f4;_0x199c0e['MediaStream']=_0x5bd6e8(0x459);}(_0x44d62e||(_0x44d62e={})),function(_0x56998e){const _0x269725=_0x2358f4;_0x56998e[_0x56998e[_0x269725(0x796)]=0x0]=_0x269725(0x796),_0x56998e[_0x56998e[_0x269725(0x46f)]=0x1]='NodeUpdate',_0x56998e[_0x56998e[_0x269725(0x3c5)]=0x2]=_0x269725(0x3c5),_0x56998e[_0x56998e['NodeLeave']=0x3]=_0x269725(0x3ff);}(_0x518128||(_0x518128={})),function(_0x27f851){const _0xed3cd6=_0x2358f4;_0x27f851[_0x27f851[_0xed3cd6(0x6c3)]=0x0]=_0xed3cd6(0x6c3),_0x27f851[_0x27f851['RemoteRemediation']=0x1]='RemoteRemediation';}(_0x2e1292||(_0x2e1292={})),function(_0x5557fe){const _0x18fc6f=_0x2358f4;_0x5557fe[_0x18fc6f(0x23e)]='upgrade',_0x5557fe[_0x18fc6f(0x50c)]=_0x18fc6f(0x1a8);}(_0x14c2b7||(_0x14c2b7={})),function(_0x19e4a6){const _0x29822a=_0x2358f4;_0x19e4a6[_0x29822a(0x492)]=_0x29822a(0x70b),_0x19e4a6[_0x29822a(0x789)]='bitrate';}(_0x3896a0||(_0x3896a0={}));const _0x563e2b=require('aws-amplify'),_0x433d86=require('aws-amplify/utils'),_0x2f8d78=require('@aws-amplify/api'),_0x27c674=require('@aws-amplify/core');class _0x44db69{[_0x2358f4(0x667)];[_0x2358f4(0x68a)];['remoteId'];constructor(_0x5abd7b,_0x2b38b7,_0x40cfc8){const _0x49ca3f=_0x2358f4;this[_0x49ca3f(0x667)]=_0x5abd7b,this['localNode']=_0x2b38b7,this[_0x49ca3f(0x27e)]=_0x40cfc8;}[_0x2358f4(0x4a1)](){const _0x507ae8=_0x2358f4;return this[_0x507ae8(0x68a)]['getId']();}[_0x2358f4(0x700)](){const _0x34918d=_0x2358f4;return this[_0x34918d(0x27e)];}}var _0x1339cf,_0x3c9045,_0x311c2a;function _0x2f0cdd(_0x4fa2cd,_0x365394){const _0x4c5962=_0x2358f4;return _0x4fa2cd[_0x4c5962(0x240)]===_0x365394;}function _0x5c6f67(_0x5d9d3b,_0x302193){const _0x459675=_0x2358f4;return _0x5d9d3b[_0x459675(0x8e1)]?.[_0x459675(0x877)](_0x302193)??function(_0x13b83f){const _0x4435b3=_0x459675;return void 0x0===_0x13b83f[_0x4435b3(0x8e1)];}(_0x5d9d3b);}function _0x1d8ace(_0x456555,{contentType:_0x21adc8,label:_0x58c1bf,remoteId:_0x1581a2}){return _0x456555+'-'+_0x21adc8+'-'+_0x58c1bf+'-'+_0x1581a2;}function _0x5e2662(_0x105133,_0x3905ed,_0x382fb8){return''+_0x105133+_0x3905ed+_0x382fb8;}function _0x27df5f(_0xf09a5b){const _0x577f9e=_0x2358f4;return _0xf09a5b===_0x3c9045[_0x577f9e(0x935)]?_0x577f9e(0xa1c):_0x577f9e(0x66e);}function _0xafa8c5(_0x319288,_0xdb9c5d){const _0x3b62ee=_0x2358f4;return{'label':_0x319288['getInternalStreamId'](),'contentType':_0x319288['getContentType'](),'remoteId':_0xdb9c5d[_0x3b62ee(0x700)](),'supportsContentType':_0xdb9c5d['getSupportedContentTypes']()[_0x3b62ee(0x877)](_0x319288[_0x3b62ee(0x8d8)]())};}!function(_0x436a17){const _0x15d19f=_0x2358f4;_0x436a17[_0x436a17['Waiting']=0x0]=_0x15d19f(0x905),_0x436a17[_0x436a17[_0x15d19f(0x1b0)]=0x1]='Accepted',_0x436a17[_0x436a17[_0x15d19f(0x778)]=0x2]=_0x15d19f(0x778);}(_0x1339cf||(_0x1339cf={})),function(_0x2a4a6d){const _0x1821e7=_0x2358f4;_0x2a4a6d['Incoming']='in',_0x2a4a6d[_0x1821e7(0x599)]=_0x1821e7(0x6f3);}(_0x3c9045||(_0x3c9045={}));class _0x103001{[_0x2358f4(0x35d)];[_0x2358f4(0x897)];constructor(_0x4acb95,_0x44032e){this['callback']=_0x4acb95,this['retryCallback']=_0x44032e;}[_0x2358f4(0x224)](_0x5d1525){const _0x4854ec=_0x2358f4;this[_0x4854ec(0x35d)](_0x5d1525);}async[_0x2358f4(0x983)](){await this['retryCallback']();}}class _0x4047b7{['callback'];[_0x2358f4(0x897)];constructor(_0x1b3286,_0x2a2a27){const _0x14fb88=_0x2358f4;this[_0x14fb88(0x35d)]=_0x1b3286,this[_0x14fb88(0x897)]=_0x2a2a27;}async['call'](_0x100cb8){const _0x4bbe82=_0x2358f4;await this[_0x4bbe82(0x35d)](_0x100cb8);}async[_0x2358f4(0x983)](){await this['retryCallback']();}}function _0x8ca715(_0x193cf7=()=>{},_0x3f6f3e=()=>!0x1,_0x3c58bc=()=>{}){let _0x597b44,_0x281544,_0x52180c=0x0;return{get 'size'(){return _0x52180c;},get 'head'(){return _0x597b44;},get 'tail'(){return _0x281544;},set 'head'(_0x31db14){_0x597b44=_0x31db14;},set 'tail'(_0x1f6e65){_0x281544=_0x1f6e65;},'push'(_0x1d44d9,_0x4378c7=!0x0){const _0x1924c2=a0_0x34e5,_0x2f131e={'value':_0x1d44d9};_0x4378c7&&_0x3f6f3e(_0x2f131e)?_0x193cf7():(_0x281544&&(_0x2f131e[_0x1924c2(0x416)]=_0x281544,_0x281544['next']=_0x2f131e),_0x281544=_0x2f131e,_0x597b44||(_0x597b44=_0x2f131e),_0x52180c+=0x1,_0x4378c7&&_0x193cf7());},'pop'(){const _0x28c7f9=a0_0x34e5;if(!_0x281544)return;const _0x44e69f=_0x281544[_0x28c7f9(0x808)];return _0x281544=_0x281544[_0x28c7f9(0x416)],_0x281544&&delete _0x281544[_0x28c7f9(0x51c)],_0x281544||(_0x597b44=void 0x0),_0x52180c-=0x1,_0x44e69f;},'unshift'(_0x48fec9,_0x4f1ae4=!0x0){const _0x1e76dc=a0_0x34e5,_0x40a2ec={'value':_0x48fec9};_0x4f1ae4&&_0x3f6f3e(_0x40a2ec)?_0x193cf7():(_0x597b44&&(_0x597b44[_0x1e76dc(0x416)]=_0x40a2ec,_0x40a2ec[_0x1e76dc(0x51c)]=_0x597b44),_0x597b44=_0x40a2ec,_0x281544||(_0x281544=_0x40a2ec),_0x52180c+=0x1,_0x4f1ae4&&_0x193cf7());},'shift'(){const _0x34a887=a0_0x34e5;if(!_0x597b44)return;const _0x8602dd=_0x597b44['value'];return _0x597b44=_0x597b44[_0x34a887(0x51c)],_0x597b44&&delete _0x597b44[_0x34a887(0x416)],_0x597b44||(_0x281544=void 0x0),_0x52180c-=0x1,_0x8602dd;},'clear'(){_0x3c58bc(),_0x597b44=void 0x0,_0x281544=void 0x0,_0x52180c=0x0;}};}function _0x41ceec(_0x3089b9,_0x50e154=!0x1,_0x5b58a1=()=>{},_0x1c7789=()=>!0x1,_0x177a7f=()=>{}){let _0x938c58=!0x1;const _0x400bed=_0x8ca715(async function(){const _0x14e28e=a0_0x34e5;if(!_0x938c58){for(_0x938c58=!0x0;_0x400bed[_0x14e28e(0x729)];){const _0x24a272=_0x400bed[_0x14e28e(0x98a)]();if(_0x24a272)try{_0x3089b9 instanceof _0x103001&&_0x3089b9[_0x14e28e(0x224)](_0x24a272),_0x3089b9 instanceof _0x4047b7&&await _0x3089b9[_0x14e28e(0x224)](_0x24a272),_0x5b58a1(_0x24a272);}catch(_0x4dd740){_0x50e154?_0x400bed['push'](_0x24a272,!0x1):_0x400bed[_0x14e28e(0x317)](_0x24a272,!0x1),await _0x3089b9[_0x14e28e(0x983)]();}}_0x938c58=!0x1;}},_0x1c7789,_0x177a7f);return _0x400bed;}class _0x533845 extends _0x44db69{['vendorId'];[_0x2358f4(0x957)];['connectionState']=_0x2f8d78[_0x2358f4(0x63f)]['Disconnected'];[_0x2358f4(0x1c4)]=_0x3fc98a();[_0x2358f4(0x6b4)]=_0x2365fd();[_0x2358f4(0x96e)];[_0x2358f4(0x419)];[_0x2358f4(0x48d)]=_0x41ceec(new _0x4047b7(this[_0x2358f4(0x59b)][_0x2358f4(0x767)](this),this[_0x2358f4(0x4c3)][_0x2358f4(0x767)](this)));[_0x2358f4(0x32f)];constructor(_0x466291,_0x55b733,_0x42be11,_0xcaebb6,_0x87b3a){const _0x2b5522=_0x2358f4;super(_0x55b733,_0x42be11,_0xcaebb6),this[_0x2b5522(0xa0a)]=_0x466291,this[_0x2b5522(0x957)]=_0x87b3a;}async[_0x2358f4(0x40f)](){const _0x13e2a3=_0x2358f4;try{const _0x5b5ecf={'getTokens':async()=>{const _0x8ab6c2=a0_0x34e5,_0x934e63=await this['authService'][_0x8ab6c2(0x23d)]();return{'accessToken':(0x0,_0x27c674[_0x8ab6c2(0x800)])(_0x934e63),'idToken':(0x0,_0x27c674[_0x8ab6c2(0x800)])(_0x934e63)};}};_0x563e2b[_0x13e2a3(0x400)][_0x13e2a3(0x9db)]({'API':{'GraphQL':{'endpoint':_0x3dd9c1[_0x13e2a3(0x75f)][_0x13e2a3(0x96c)],'region':_0x3dd9c1[_0x13e2a3(0x75f)][_0x13e2a3(0x959)],'defaultAuthMode':_0x13e2a3(0x780)}}},{'Auth':{'tokenProvider':_0x5b5ecf}});const _0x1e6255=(0x0,_0x2f8d78['generateClient'])();this['client']=_0x1e6255,await this[_0x13e2a3(0x6f4)](),this[_0x13e2a3(0x419)]=_0x433d86[_0x13e2a3(0x52d)][_0x13e2a3(0x7bb)](_0x13e2a3(0x255),async({payload:_0x20ad55})=>{const _0x3b556f=_0x13e2a3;if(_0x20ad55[_0x3b556f(0x530)]===_0x2f8d78[_0x3b556f(0x5d6)]){const _0x47aa11=_0x20ad55[_0x3b556f(0x562)];this[_0x3b556f(0x80a)]=_0x47aa11[_0x3b556f(0x80a)],this[_0x3b556f(0x1c4)][_0x3b556f(0x727)](_0x47aa11[_0x3b556f(0x80a)]),this['connectionState']===_0x2f8d78['ConnectionState'][_0x3b556f(0x758)]?(_0x561d9b[_0x3b556f(0x7b7)]('appsync-disconnect',{'clusterId':this['clusterId'],'nodeId':this[_0x3b556f(0x4a1)](),'nodeType':this[_0x3b556f(0x68a)][_0x3b556f(0x5ba)]}),this[_0x3b556f(0x951)](),this[_0x3b556f(0x40f)]()):this['connectionState']===_0x2f8d78[_0x3b556f(0x63f)][_0x3b556f(0x9a2)]?_0x561d9b[_0x3b556f(0x444)](_0x3b556f(0x878),{'clusterId':this[_0x3b556f(0x667)],'nodeId':this[_0x3b556f(0x4a1)](),'nodeType':this[_0x3b556f(0x68a)]['type']}):_0x561d9b[_0x3b556f(0x444)](_0x3b556f(0x2f0),{'clusterId':this[_0x3b556f(0x667)],'nodeId':this[_0x3b556f(0x4a1)](),'nodeType':this['localNode'][_0x3b556f(0x5ba)],'data':{'state':_0x47aa11[_0x3b556f(0x80a)]}});}});}catch(_0x5583a0){_0x561d9b[_0x13e2a3(0x7b7)](_0x13e2a3(0x34d),{'clusterId':this['clusterId'],'nodeId':this[_0x13e2a3(0x4a1)](),'nodeType':this[_0x13e2a3(0x68a)][_0x13e2a3(0x5ba)]});}}['close'](){const _0x3a8763=_0x2358f4;_0x561d9b[_0x3a8763(0x444)](_0x3a8763(0x828),{'clusterId':this[_0x3a8763(0x667)],'nodeId':this[_0x3a8763(0x4a1)](),'nodeType':this[_0x3a8763(0x68a)][_0x3a8763(0x5ba)]}),this[_0x3a8763(0x48d)][_0x3a8763(0x375)](),this[_0x3a8763(0x419)]?.(),this['subscription']?.[_0x3a8763(0x353)](),delete this['subscription'];}[_0x2358f4(0x1cd)](){const _0x1065a2=_0x2358f4;return this[_0x1065a2(0x80a)]===_0x2f8d78[_0x1065a2(0x63f)][_0x1065a2(0x9a2)];}[_0x2358f4(0x9cd)](_0x36ab3){const _0x78ba5e=_0x2358f4;this[_0x78ba5e(0x48d)][_0x78ba5e(0x397)](_0x36ab3);}[_0x2358f4(0x9d5)](_0x31fd1c){const _0x36f606=_0x2358f4;return this[_0x36f606(0x6b4)][_0x36f606(0x6f4)](_0x31fd1c);}[_0x2358f4(0x5f1)](){const _0x563294=_0x2358f4;return[_0x4ab575[_0x563294(0x7fd)]['Data']];}async[_0x2358f4(0x4c3)](){if(!this['isConnected']())return new Promise(_0x32300=>{const _0x4cd8f2=a0_0x34e5,_0x5b92e5=this[_0x4cd8f2(0x1c4)]['subscribe'](_0x12660a=>{const _0x60a80a=_0x4cd8f2;_0x12660a===_0x2f8d78[_0x60a80a(0x63f)][_0x60a80a(0x9a2)]&&(_0x5b92e5(),_0x32300());});});}async[_0x2358f4(0x59b)](_0x5cc1f7){const _0x5b0be=_0x2358f4;if(this[_0x5b0be(0x80a)]!==_0x2f8d78[_0x5b0be(0x63f)]['Connected'])throw new Error(_0x5b0be(0x545));_0x5cc1f7['destinationIds']&&0x1===_0x5cc1f7[_0x5b0be(0x8e1)][_0x5b0be(0x87a)]?await this['publish'](_0x5cc1f7[_0x5b0be(0x8e1)][0x0],JSON['stringify'](_0x5cc1f7)):_0x561d9b[_0x5b0be(0x7b7)]('appsync-no-destination',{'clusterId':this[_0x5b0be(0x667)],'nodeId':this[_0x5b0be(0x4a1)](),'nodeType':this[_0x5b0be(0x68a)][_0x5b0be(0x5ba)]});}async[_0x2358f4(0x727)](_0x332870,_0x183f02){const _0x31f06f=_0x2358f4;if(!this['client'])throw new Error(_0x31f06f(0x768));_0x561d9b[_0x31f06f(0x870)](_0x577427[_0x31f06f(0x2e4)],_0x31f06f(0x1c3),this[_0x31f06f(0x4a1)](),_0x183f02),await this[_0x31f06f(0x32f)][_0x31f06f(0x495)]({'query':_0x31f06f(0x9ef),'variables':{'name':await this[_0x31f06f(0x946)](_0x332870),'data':_0x183f02}});}async['subscribe'](){const _0x64cd7c=_0x2358f4;if(this[_0x64cd7c(0x96e)])return;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x561d9b[_0x64cd7c(0x870)](_0x577427[_0x64cd7c(0x2e4)],'AppSync\x20subscribe',this[_0x64cd7c(0x4a1)]());const _0x31a8f7=await this[_0x64cd7c(0x32f)][_0x64cd7c(0x495)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x64cd7c(0x946)]()},'authToken':await this[_0x64cd7c(0x957)][_0x64cd7c(0x23d)]()},{'Authorization':await this[_0x64cd7c(0x957)][_0x64cd7c(0x23d)]()});this[_0x64cd7c(0x96e)]=_0x31a8f7[_0x64cd7c(0x6f4)]({'next':({data:_0x81a796})=>{const _0x58eb79=_0x64cd7c,_0x108cd5=JSON[_0x58eb79(0x46d)](_0x81a796['subscribe'][_0x58eb79(0x562)]);!_0x2f0cdd(_0x108cd5,this['getLocalId']())&&_0x5c6f67(_0x108cd5,this['getLocalId']())&&this[_0x58eb79(0x6b4)][_0x58eb79(0x727)](_0x108cd5);},'error':console[_0x64cd7c(0x870)]});}async['getHash'](_0x483a86){const _0x4095a7=_0x2358f4,_0x1ff9c2=await crypto[_0x4095a7(0x261)][_0x4095a7(0x7af)](_0x4095a7(0x748),new TextEncoder()[_0x4095a7(0x583)](this[_0x4095a7(0xa0a)]+'-'+this[_0x4095a7(0x667)]+'-'+(_0x483a86??this[_0x4095a7(0x4a1)]())));return Array[_0x4095a7(0x7ed)](new Uint8Array(_0x1ff9c2))[_0x4095a7(0x8d9)](_0x53c61b=>_0x53c61b[_0x4095a7(0x98b)](0x10)['padStart'](0x2,'0'))['join']('');}}!function(_0x4a42d8){const _0x25badf=_0x2358f4;_0x4a42d8[_0x4a42d8['Add']=0x0]='Add',_0x4a42d8[_0x4a42d8[_0x25badf(0x3ad)]=0x1]='Remove',_0x4a42d8[_0x4a42d8[_0x25badf(0x8df)]=0x2]=_0x25badf(0x8df),_0x4a42d8[_0x4a42d8[_0x25badf(0x7ad)]=0x3]=_0x25badf(0x7ad),_0x4a42d8[_0x4a42d8[_0x25badf(0x762)]=0x4]='RemoteRemove';}(_0x311c2a||(_0x311c2a={}));const _0x145fff='0',_0x8a937e=_0x2358f4(0x369),_0x58f826=_0x412712,_0x1b1bd7=0xbe800;class _0x10523a{[_0x2358f4(0x667)];[_0x2358f4(0x68a)];[_0x2358f4(0x27e)];[_0x2358f4(0x922)];[_0x2358f4(0x8c6)];[_0x2358f4(0x64b)];['connection'];['dataChannel'];[_0x2358f4(0x82f)]=0x1;[_0x2358f4(0x80f)];[_0x2358f4(0x2d0)]=[];[_0x2358f4(0x4f9)]=[];[_0x2358f4(0x87b)];constructor(_0x389b7d,_0x397a68,_0x42af2a,_0x2081f5,_0x1475fa,_0x586aa1){const _0x335767=_0x2358f4;this['clusterId']=_0x389b7d,this[_0x335767(0x68a)]=_0x397a68,this['remoteId']=_0x42af2a,this['iceServers']=_0x2081f5,this[_0x335767(0x8c6)]=_0x1475fa,this[_0x335767(0x64b)]=_0x586aa1,this[_0x335767(0x487)]=new this[(_0x335767(0x64b))]({'handshakeServers':this[_0x335767(0x922)]}),this[_0x335767(0x7b3)]();}[_0x2358f4(0x951)](){const _0x47bbea=_0x2358f4;this[_0x47bbea(0x2ec)]();}['setConnectionType'](_0x5d7783){const _0x15fec6=_0x2358f4;this[_0x15fec6(0x8c6)]=_0x5d7783;}async['handleHandshake'](_0xb8d7fe,_0x4f2e8a){const _0x4b3b6f=_0x2358f4;if(_0x4f2e8a===this['currentVersion'])for(const _0x1715c7 of _0xb8d7fe){if(!this['connection'][_0x4b3b6f(0x726)])return this[_0x4b3b6f(0x7a8)](_0x1715c7);try{await this[_0x4b3b6f(0x487)][_0x4b3b6f(0x4d6)](_0x1715c7);}catch(_0x1c463a){this['addPendingHandshakeCandidate'](_0x1715c7);}}}[_0x2358f4(0x1cd)](){const _0x1e3077=_0x2358f4;return this[_0x1e3077(0x704)](),_0x1e3077(0x319)===this[_0x1e3077(0x487)]['connectionState']&&[_0x1e3077(0x319),_0x1e3077(0x5b2)][_0x1e3077(0x877)](this[_0x1e3077(0x487)]['handshakeState'])&&_0x1e3077(0x732)!==this[_0x1e3077(0x487)][_0x1e3077(0x67a)]&&_0x1e3077(0x1ed)===this[_0x1e3077(0x9bc)]?.[_0x1e3077(0x49a)];}['registerSystemPublisher'](_0x582315){const _0x341a30=_0x2358f4;this[_0x341a30(0x80f)]=_0x582315;}[_0x2358f4(0xa7d)](){const _0x3d2f95=_0x2358f4;delete this[_0x3d2f95(0x80f)];}[_0x2358f4(0x54b)](_0x3dcd9d){const _0x3acd68=_0x2358f4;this[_0x3acd68(0x2ec)](),this[_0x3acd68(0x487)]=new this[(_0x3acd68(0x64b))]({'handshakeServers':this[_0x3acd68(0x922)]}),_0x3dcd9d?this[_0x3acd68(0x82f)]=_0x3dcd9d:this['currentVersion']+=0x1,this[_0x3acd68(0x7b3)]();}['processPendingHandshakeCandidates'](){const _0x1cc54c=_0x2358f4;this[_0x1cc54c(0x4f9)][_0x1cc54c(0x37b)](_0x585d64=>{const _0x6c9c46=_0x1cc54c;try{this[_0x6c9c46(0x487)][_0x6c9c46(0x4d6)](_0x585d64);}catch(_0x44d62b){}}),this[_0x1cc54c(0x4f9)]=[];}[_0x2358f4(0x3f8)](_0x1aea3d,_0x2bde19){const _0x3e9e22=_0x2358f4;if(!this[_0x3e9e22(0x80f)])throw new _0x45bad0(_0x45bad0['codes'][_0x3e9e22(0x60e)],{'content':_0x1aea3d});const _0x545aed={'sourceId':this[_0x3e9e22(0x68a)][_0x3e9e22(0x7b4)](),'destinationIds':[this[_0x3e9e22(0x27e)]],'propagate':this[_0x3e9e22(0x8c6)]!==_0x4f417c['Core'],'retry':this[_0x3e9e22(0x8c6)]!==_0x4f417c[_0x3e9e22(0x876)],'messageType':_0x479af2[_0x3e9e22(0x2ce)],'content':_0x1aea3d};_0x2bde19&&(_0x545aed[_0x3e9e22(0x474)]=_0x2bde19),this[_0x3e9e22(0x80f)]['publish'](_0x545aed);}[_0x2358f4(0x7b3)](){const _0x1b0504=_0x2358f4;this['connection']['onGatheringStateChange']=()=>{const _0x55774e=a0_0x34e5;_0x55774e(0x1da)===this['connection'][_0x55774e(0x420)]&&this[_0x55774e(0x2d0)][_0x55774e(0x87a)]>0x0&&(this[_0x55774e(0x87b)]&&clearTimeout(this[_0x55774e(0x87b)]),this[_0x55774e(0x87b)]=setTimeout(()=>{const _0x4dfc03=_0x55774e;delete this[_0x4dfc03(0x87b)],this[_0x4dfc03(0x755)](),this[_0x4dfc03(0x2d0)]=[];},0x1f4));},this[_0x1b0504(0x487)][_0x1b0504(0x337)]=_0x450e08=>{const _0x5a14ef=_0x1b0504;_0x450e08[_0x5a14ef(0x1b1)]&&this[_0x5a14ef(0x2d0)][_0x5a14ef(0x397)](_0x450e08['candidate']);};}[_0x2358f4(0x2ec)](){const _0x5a70b1=_0x2358f4;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this[_0x5a70b1(0x2d0)]=[],this[_0x5a70b1(0x4f9)]=[],this[_0x5a70b1(0x9bc)]&&(this['dataChannel'][_0x5a70b1(0x9d5)]=null,this[_0x5a70b1(0x9bc)][_0x5a70b1(0x5ec)]=null,this['dataChannel'][_0x5a70b1(0x951)](),delete this[_0x5a70b1(0x9bc)]),this[_0x5a70b1(0x487)][_0x5a70b1(0x760)]=null,this[_0x5a70b1(0x487)][_0x5a70b1(0x337)]=null,this[_0x5a70b1(0x487)][_0x5a70b1(0x7f8)]=null,this[_0x5a70b1(0x487)][_0x5a70b1(0x378)]=null,this['connection'][_0x5a70b1(0x60a)]=null,this['connection'][_0x5a70b1(0x72a)]=null,this[_0x5a70b1(0x487)]['close']();}[_0x2358f4(0x7a8)](_0x304e2a){const _0x16dbd6=_0x2358f4;this[_0x16dbd6(0x4f9)]['push'](_0x304e2a);}[_0x2358f4(0x704)](){const _0x35d8be=_0x2358f4;_0x561d9b['log'](_0x577427[_0x35d8be(0x63f)],_0x35d8be(0x7df),{'localId':this['localNode']['getId'](),'remoteId':this[_0x35d8be(0x27e)],'connectionState':this['connection']['connectionState'],'handshakeState':this[_0x35d8be(0x487)][_0x35d8be(0x2d4)],'signalingState':this[_0x35d8be(0x487)][_0x35d8be(0x67a)],'dataChannelState':this[_0x35d8be(0x9bc)]?.['state']});}}function _0x2d96c8(_0x161aeb,_0xcd7153){const _0x1d4ce1=_0x2358f4;_0xcd7153[_0x1d4ce1(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2['PeerConnection'],'content':_0x161aeb});}class _0x5e30df{static [_0x2358f4(0x6da)];[_0x2358f4(0x3e2)]=[];[_0x2358f4(0x5a9)];constructor(){setInterval(()=>{const _0x17ec2f=a0_0x34e5;this[_0x17ec2f(0x3e2)][_0x17ec2f(0x37b)](_0x1c7491=>{const _0x36a1fd=_0x17ec2f;if(Date[_0x36a1fd(0x58d)]()-_0x1c7491[_0x36a1fd(0x2ea)]>_0x1c7491[_0x36a1fd(0x405)]){try{_0x1c7491['callback']();}catch(_0x1439f0){}_0x1c7491['lastExecuted']=Date[_0x36a1fd(0x58d)]();}});},0x64);}static['getInstance'](){const _0x97d9a8=_0x2358f4;return _0x5e30df[_0x97d9a8(0x6da)]||(_0x5e30df['instance']=new _0x5e30df()),_0x5e30df['instance'];}[_0x2358f4(0xa88)](_0x1b5f81){const _0x8dcab0=_0x2358f4,_0x2e7b1b=this[_0x8dcab0(0x9e5)](_0x1b5f81),_0x4ffa9a=_0x1b5f81[_0x8dcab0(0x79f)]();_0x4ffa9a&&_0x2e7b1b&&(_0x4ffa9a[_0x8dcab0(0x6e1)][_0x8dcab0(0x808)]=0.001,_0x2e7b1b[_0x8dcab0(0x40f)](_0x4ffa9a),_0x4ffa9a[_0x8dcab0(0x40f)](_0x1b5f81[_0x8dcab0(0x749)]),_0x2e7b1b[_0x8dcab0(0x435)]());}['stopNoThrottlingHack'](){const _0x1692b0=_0x2358f4;this[_0x1692b0(0x5a9)]&&(this[_0x1692b0(0x5a9)][_0x1692b0(0x4b0)](),this[_0x1692b0(0x5a9)][_0x1692b0(0x910)](),this[_0x1692b0(0x5a9)]=void 0x0);}[_0x2358f4(0x983)](_0x103b37){return new Promise(_0x2c79e8=>{setTimeout(_0x2c79e8,_0x103b37);});}['setInterval'](_0x4522ab,_0x54b702){const _0xc1e3a=_0x2358f4;return this[_0xc1e3a(0x3e2)][_0xc1e3a(0x397)]({'callback':_0x4522ab,'interval':_0x54b702,'lastExecuted':Date['now']()}),()=>{const _0x5b93b8=_0xc1e3a;this[_0x5b93b8(0x3e2)]=this['parameters']['filter'](_0x147a22=>_0x147a22[_0x5b93b8(0x35d)]!==_0x4522ab);};}[_0x2358f4(0x9e5)](_0x473757){const _0x31a653=_0x2358f4;if(_0x473757[_0x31a653(0x9e5)])return _0x473757[_0x31a653(0x9e5)]();const _0x97bb14=_0x473757['createBufferSource'](),_0x1efca1=_0x473757[_0x31a653(0x8eb)](0x1,0x1,_0x473757[_0x31a653(0x724)]);return _0x1efca1['getChannelData'](0x0)[0x0]=0xa,_0x97bb14[_0x31a653(0x761)]=_0x1efca1,_0x97bb14['loop']=!0x0,_0x97bb14;}}const _0x183111=_0x5e30df['getInstance']();class _0x2356f5 extends _0x10523a{[_0x2358f4(0x8c5)]=_0x3fc98a();[_0x2358f4(0x3eb)]=_0x3fc98a();['removeTrackCallback']=_0x3fc98a();[_0x2358f4(0xa5a)]=new Map();[_0x2358f4(0x1b4)]=new Map();[_0x2358f4(0xa28)];[_0x2358f4(0x4e7)]=0x0;[_0x2358f4(0x7e4)]={'messages':{'total':0x0}};[_0x2358f4(0x67e)]=0x0;[_0x2358f4(0x76c)]=0x0;[_0x2358f4(0x1d0)]=_0x3d39b5(_0x2358f4(0x588),_0x577427[_0x2358f4(0x402)]);[_0x2358f4(0x951)](){const _0x3b131e=_0x2358f4;this['clearWaitSuccess'](),this[_0x3b131e(0xa5a)]['clear'](),super[_0x3b131e(0x951)]();}async[_0x2358f4(0x5c2)](_0x39db55,_0x13c096){const _0xa1868f=_0x2358f4;this['currentVersion']=_0x13c096,this[_0xa1868f(0x70d)]();const _0x2f6278=await this[_0xa1868f(0x487)][_0xa1868f(0x294)](_0x39db55);this[_0xa1868f(0x81e)]();const _0x198691=(0x0,_0x42da8f['v4'])();this['publishSystemMessage']({'type':_0x2a5ce9['Answer'],'answer':_0x2f6278,'version':_0x13c096,'connectionType':this[_0xa1868f(0x8c6)]},_0x198691),this[_0xa1868f(0x8c6)]===_0x4f417c[_0xa1868f(0x876)]&&(this[_0xa1868f(0xa28)]=_0x183111['setInterval'](()=>{const _0x387c5c=_0xa1868f;this[_0x387c5c(0x3f8)]({'type':_0x2a5ce9['Answer'],'answer':_0x2f6278,'version':_0x13c096,'connectionType':this[_0x387c5c(0x8c6)]},_0x198691);},0x1388));}[_0x2358f4(0x5bd)](){const _0x48e4e7=_0x2358f4;this[_0x48e4e7(0x70d)]();}[_0x2358f4(0x6d5)](_0x1a877d){const _0x22bf1f=_0x2358f4;this[_0x22bf1f(0x54b)](_0x1a877d),this['publishSystemMessage']({'type':_0x2a5ce9[_0x22bf1f(0x542)]});}async[_0x2358f4(0x728)](){const _0x3c0376=_0x2358f4;this['systemTopic']&&(await this[_0x3c0376(0x487)][_0x3c0376(0x3ac)](this[_0x3c0376(0xa5a)],(_0x133b55,_0x56da02)=>{const _0x433d42=_0x3c0376;_0x2d96c8({'type':_0x2a5ce9[_0x433d42(0x2be)],'streamId':_0x56da02,'nodeId':this[_0x433d42(0x27e)],'stats':_0x133b55},this['systemTopic']);}),this[_0x3c0376(0x80f)][_0x3c0376(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x3c0376(0x2ce)],'content':{'type':_0x2a5ce9[_0x3c0376(0x2be)],'nodeId':this[_0x3c0376(0x27e)],'stats':{'origin':_0x24afe6[_0x3c0376(0x9ea)],'timestamp':Date[_0x3c0376(0x58d)](),'messagesReceived':this[_0x3c0376(0x4e7)],'bytesReceived':this[_0x3c0376(0x67e)],'timeReceiving':this['timeReceiving'],'systemMessages':this['systemMessagesReceived']}}}));}[_0x2358f4(0x9d5)](_0x541b45){const _0x36907a=_0x2358f4;return _0x3dd9c1[_0x36907a(0xa26)]?this[_0x36907a(0x8c5)][_0x36907a(0x6f4)](_0x541b45):this[_0x36907a(0x8c5)][_0x36907a(0x6f4)](_0x456081=>{const _0x353988=_0x36907a;0x0===_0x456081['topicLabel']&&_0x456081[_0x353988(0x22d)]===_0x479af2[_0x353988(0x60f)]&&this[_0x353988(0x1d0)]['logger']['log'](_0x353988(0x682)+this[_0x353988(0x27e)],()=>_0x9de63d(_0x456081)),_0x541b45(_0x456081);});}[_0x2358f4(0x60a)](_0x3f4f08){const _0x5b0e4d=_0x2358f4;return this[_0x5b0e4d(0x3eb)][_0x5b0e4d(0x6f4)](({track:_0x531d61,stream:_0x578d0d})=>_0x3f4f08(_0x531d61,_0x578d0d));}[_0x2358f4(0x8f9)](_0xae1d5d){const _0x31d9bb=_0x2358f4;return this[_0x31d9bb(0x43e)][_0x31d9bb(0x6f4)](({track:_0x11e1ae,stream:_0x35bab4})=>_0xae1d5d(_0x11e1ae,_0x35bab4));}['resetConnection'](_0x14ce72){const _0x84d0ce=_0x2358f4;this['clearWaitSuccess'](),this[_0x84d0ce(0xa5a)]['forEach'](_0xc16469=>{const _0x12cb7e=_0x84d0ce;_0xc16469[_0x12cb7e(0x375)]();}),super[_0x84d0ce(0x54b)](_0x14ce72);}[_0x2358f4(0x755)](){const _0x32b832=_0x2358f4;this[_0x32b832(0x3f8)]({'type':_0x2a5ce9['Handshake'],'candidates':this[_0x32b832(0x2d0)],'origin':_0x24afe6['Receiver'],'version':this[_0x32b832(0x82f)],'connectionType':this[_0x32b832(0x8c6)]});}[_0x2358f4(0x7b3)](){const _0xa21ce5=_0x2358f4;super[_0xa21ce5(0x7b3)](),this[_0xa21ce5(0x487)]['onTrack']=_0x5935e0=>{const _0x108737=_0xa21ce5;_0x561d9b['log'](_0x577427[_0x108737(0xa96)],'CrewdleReceiverConnection\x20ontrack',this['localNode'][_0x108737(0x7b4)](),_0x5935e0),_0x5935e0[_0x108737(0x9ac)][0x0][_0x108737(0x3f4)]=_0xb9a615=>{const _0x4422b0=_0x108737;this['receivers'][_0x4422b0(0x879)](_0x5935e0[_0x4422b0(0x9ac)][0x0]['id'])?.[_0x4422b0(0x6e6)](_0xb9a615[_0x4422b0(0x1c1)]),0x0===this[_0x4422b0(0xa5a)][_0x4422b0(0x879)](_0x5935e0[_0x4422b0(0x9ac)][0x0]['id'])?.[_0x4422b0(0x9dc)]&&this['receivers'][_0x4422b0(0x6e6)](_0x5935e0['streams'][0x0]['id']),this[_0x4422b0(0x43e)]['publish']({'track':_0xb9a615[_0x4422b0(0x1c1)],'stream':_0x5935e0[_0x4422b0(0x9ac)][0x0]});},this[_0x108737(0xa5a)][_0x108737(0x3d0)](_0x5935e0[_0x108737(0x9ac)][0x0]['id'])||this[_0x108737(0xa5a)]['set'](_0x5935e0[_0x108737(0x9ac)][0x0]['id'],new Set()),this['receivers'][_0x108737(0x879)](_0x5935e0[_0x108737(0x9ac)][0x0]['id'])['add'](_0x5935e0[_0x108737(0x1c1)]),this[_0x108737(0x3eb)]['publish']({'track':_0x5935e0[_0x108737(0x1c1)],'stream':_0x5935e0[_0x108737(0x9ac)][0x0]});},this[_0xa21ce5(0x487)]['onDataChannel']=_0x243145=>{const _0x4b63f1=_0xa21ce5;this[_0x4b63f1(0x9bc)]=_0x243145[_0x4b63f1(0x33c)],this[_0x4b63f1(0x9bc)][_0x4b63f1(0x9d5)]=_0x544bb5=>{const _0x181160=_0x4b63f1;if(_0x544bb5[_0x181160(0x562)]!==_0x145fff)this[_0x181160(0x6bf)](_0x544bb5['data']);else{if(!this[_0x181160(0x9bc)])return void _0x561d9b['error'](_0x181160(0x987),{'clusterId':this[_0x181160(0x667)],'nodeId':this[_0x181160(0x68a)][_0x181160(0x7b4)](),'nodeType':this[_0x181160(0x68a)]['type'],'remoteId':this[_0x181160(0x27e)],'data':{'connection':_0x181160(0x9a1)}});if('open'!==this[_0x181160(0x9bc)]['state'])return;this[_0x181160(0x9bc)]['send']('1');}};};}[_0x2358f4(0x6bf)](_0x414df5){const _0x49a258=_0x2358f4;if(_0x49a258(0x991)==typeof _0x414df5&&_0x414df5[_0x49a258(0x43b)](_0x8a937e))return this[_0x49a258(0x4e7)]+=0x1,this[_0x49a258(0x67e)]+=_0x414df5[_0x49a258(0x87a)],this['handleChunkMessage'](_0x414df5);setTimeout(()=>{const _0x2e9dca=_0x49a258,_0x1b1246=Date['now']();let _0x4a2069;if((_0x414df5 instanceof ArrayBuffer||_0x414df5[_0x2e9dca(0x87a)]<=_0x58f826)&&(this['messagesReceived']+=0x1,this[_0x2e9dca(0x67e)]+=_0x414df5 instanceof ArrayBuffer?_0x414df5[_0x2e9dca(0x2a3)]:_0x414df5[_0x2e9dca(0x87a)]),_0x414df5 instanceof ArrayBuffer){const [_0x501ab5,_0x46a72d]=this[_0x2e9dca(0x94a)](_0x414df5);_0x4a2069=_0x501ab5,_0x4a2069[_0x2e9dca(0x5d0)][_0x2e9dca(0x562)]=_0x46a72d;}else _0x4a2069=JSON[_0x2e9dca(0x46d)](_0x414df5);if(0x0===_0x4a2069[_0x2e9dca(0x522)]){this[_0x2e9dca(0x7e4)][_0x2e9dca(0x8e6)][_0x2e9dca(0x9bf)]+=0x1;const {systemMessageType:_0x1a4936,systemContentMessageType:_0x5f26b4}=_0x9de63d(_0x4a2069);this[_0x2e9dca(0x7e4)][_0x1a4936]||(this['systemMessagesReceived'][_0x1a4936]={[_0x5f26b4]:0x0}),this[_0x2e9dca(0x7e4)][_0x1a4936][_0x5f26b4]||(this['systemMessagesReceived'][_0x1a4936][_0x5f26b4]=0x0),this['systemMessagesReceived'][_0x1a4936][_0x2e9dca(0x9bf)]||(this[_0x2e9dca(0x7e4)][_0x1a4936][_0x2e9dca(0x9bf)]=0x0),this['systemMessagesReceived'][_0x1a4936][_0x5f26b4]+=0x1,this[_0x2e9dca(0x7e4)][_0x1a4936][_0x2e9dca(0x9bf)]+=0x1;}this[_0x2e9dca(0x8c5)][_0x2e9dca(0x727)](_0x4a2069),this[_0x2e9dca(0x76c)]+=Date[_0x2e9dca(0x58d)]()-_0x1b1246;},0x0);}[_0x2358f4(0x707)](_0x584722){const _0x314e06=_0x2358f4,_0x476a01=_0x584722['split'](';'),_0x42ad30=_0x476a01[0x1],_0x5f5640=parseInt(_0x476a01[0x2],0xa),_0x5ce678=parseInt(_0x476a01[0x3],0xa),_0x2f8f55=_0x584722[_0x314e06(0x4b5)](_0x8a937e+';'+_0x42ad30+';'+_0x5f5640+';'+_0x5ce678+';','');this[_0x314e06(0x1b4)]['has'](_0x42ad30)||this['chunks'][_0x314e06(0x851)](_0x42ad30,[]);const _0x589e38=this['chunks'][_0x314e06(0x879)](_0x42ad30);_0x589e38[_0x5f5640]=_0x2f8f55,_0x589e38[_0x314e06(0x87a)]===_0x5ce678&&(this[_0x314e06(0x6bf)](_0x589e38[_0x314e06(0x374)]('')),this['chunks'][_0x314e06(0x6e6)](_0x42ad30));}[_0x2358f4(0x70d)](){const _0x2742a5=_0x2358f4;this['waitSuccess']?.(),delete this[_0x2742a5(0xa28)];}[_0x2358f4(0x21f)](_0x11e9f2){const _0x3479d1=_0x2358f4,_0x313f2b=new TextDecoder()[_0x3479d1(0x67f)](_0x11e9f2);return JSON[_0x3479d1(0x46d)](_0x313f2b);}['splitParts'](_0x175995){const _0x5e868e=_0x2358f4,_0x4ea27c=new Uint8Array(_0x175995[_0x5e868e(0x38f)](0x0,0x4)),_0x3277af=new Uint32Array(_0x4ea27c[_0x5e868e(0x761)])[0x0],_0x54e442=new Uint8Array(_0x175995[_0x5e868e(0x38f)](0x4,0x4+_0x3277af)),_0x1225f4=new Uint8Array(_0x175995[_0x5e868e(0x38f)](0x4+_0x3277af));return[this[_0x5e868e(0x21f)](_0x54e442[_0x5e868e(0x761)]),_0x1225f4[_0x5e868e(0x761)]];}}const _0x29f2ef=0xc350;var _0x48abb4,_0x4a489a;!function(_0x4a67aa){const _0x5ce425=_0x2358f4;_0x4a67aa[_0x4a67aa[_0x5ce425(0x965)]=0x0]=_0x5ce425(0x965),_0x4a67aa[_0x4a67aa[_0x5ce425(0x3d8)]=0x1]=_0x5ce425(0x3d8),_0x4a67aa[_0x4a67aa[_0x5ce425(0x94f)]=0x2]=_0x5ce425(0x94f);}(_0x48abb4||(_0x48abb4={}));class _0x2f6ded extends _0x10523a{[_0x2358f4(0x290)];['maxBpp'];[_0x2358f4(0x304)]=new Map();[_0x2358f4(0x8ce)];[_0x2358f4(0x769)];[_0x2358f4(0x9f4)];[_0x2358f4(0x646)]=!0x1;[_0x2358f4(0x25e)];['restartTimeout'];[_0x2358f4(0x8fc)];[_0x2358f4(0x48d)]=function(e,t=_0x48abb4,s=!0x1){const _0x45a361=_0x2358f4;let n=!0x1;const i=[];async function o(){const _0x5ab087=a0_0x34e5;if(!n){for(n=!0x0;i[_0x5ab087(0x9ec)](e=>e[_0x5ab087(0x729)]);){let t,n=0x0;for(const [e,s]of i[_0x5ab087(0x1c6)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x103001&&e[_0x5ab087(0x224)](t),e instanceof _0x4047b7&&await e[_0x5ab087(0x224)](t),i['slice'](-0x1)['some'](e=>e[_0x5ab087(0x729)]))continue;const s=i[_0x5ab087(0x87a)]-0x1;n===s&&i[s][_0x5ab087(0x729)]&&await _0x183111[_0x5ab087(0x983)](0x0);}catch(o){s?i[n][_0x5ab087(0x397)](t,!0x1):i[n][_0x5ab087(0x317)](t,!0x1),await e['wait']();}}n=!0x1;}}return Object[_0x45a361(0x55b)](t)['forEach'](e=>{const _0x4b0dcd=_0x45a361;_0x4b0dcd(0x991)!=typeof e&&(i[e]=_0x8ca715(o));}),{'queues':i};}(new _0x103001(this[_0x2358f4(0x59b)]['bind'](this),this[_0x2358f4(0x785)]['bind'](this)));[_0x2358f4(0x379)]=0x0;['bytesSent']=0x0;[_0x2358f4(0x871)]=0x0;[_0x2358f4(0x5ef)]=0x0;[_0x2358f4(0x73b)];[_0x2358f4(0x1d0)]=_0x3d39b5(_0x2358f4(0x46b),_0x577427['SenderSendMessage']);constructor(_0x496b6f,_0x34413d,_0x31b89d,_0x20bc5f,_0x5a23fa,_0x50d4d8,_0x2b1fde,_0x4e653a){const _0x13bf1d=_0x2358f4;super(_0x496b6f,_0x34413d,_0x31b89d,_0x20bc5f,_0x5a23fa,_0x4e653a),this[_0x13bf1d(0x290)]=_0x50d4d8,this['maxBpp']=_0x2b1fde;}['close'](){const _0x453ea7=_0x2358f4;this[_0x453ea7(0x5bf)](),this['clearHeartbeat'](),delete this[_0x453ea7(0x9f4)],this['clearRestartTimeout'](),this[_0x453ea7(0x447)](),this[_0x453ea7(0x536)](),this['senders']['clear'](),this[_0x453ea7(0x646)]=!0x1,this[_0x453ea7(0x48d)][_0x453ea7(0x44a)][_0x453ea7(0x37b)](_0x428384=>_0x428384[_0x453ea7(0x375)]()),this['clearOncloseTimeout'](),super['close']();}[_0x2358f4(0x1cd)](){const _0x46598d=_0x2358f4;return!!this[_0x46598d(0x9f4)]&&super[_0x46598d(0x1cd)]()&&Date[_0x46598d(0x58d)]()-this[_0x46598d(0x9f4)]<0x3a98;}async['collectStats'](){const _0x3bccea=_0x2358f4;this['systemTopic']&&(await this[_0x3bccea(0x487)][_0x3bccea(0x875)](this[_0x3bccea(0x304)],(_0xa0c160,_0x3bcf0c)=>{const _0x2d117f=_0x3bccea;_0x2d96c8({'type':_0x2a5ce9['Stats'],'streamId':_0x3bcf0c,'nodeId':this['remoteId'],'stats':_0xa0c160},this[_0x2d117f(0x80f)]);}),this[_0x3bccea(0x80f)][_0x3bccea(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x3bccea(0x2ce)],'content':{'type':_0x2a5ce9[_0x3bccea(0x2be)],'nodeId':this[_0x3bccea(0x27e)],'stats':{'origin':_0x24afe6[_0x3bccea(0x399)],'timestamp':Date[_0x3bccea(0x58d)](),'messagesSent':this[_0x3bccea(0x379)],'bytesSent':this[_0x3bccea(0x5f3)],'timeSending':this[_0x3bccea(0x871)],'roundTripTime':this['roundTripTime']}}}));}async[_0x2358f4(0x211)](_0x2ed87f){const _0x2dc6c6=_0x2358f4;_0x561d9b['log'](_0x577427[_0x2dc6c6(0xa96)],_0x2dc6c6(0xa10),this[_0x2dc6c6(0x68a)][_0x2dc6c6(0x7b4)](),this[_0x2dc6c6(0x27e)]),this['clearRestartTimeout'](),this[_0x2dc6c6(0x447)](),this[_0x2dc6c6(0x536)](),this[_0x2dc6c6(0x25e)]=setTimeout(()=>{const _0x8d675e=_0x2dc6c6;this[_0x8d675e(0x627)]();},0x7530),this['dataChannel']||(this[_0x2dc6c6(0x9bc)]=this[_0x2dc6c6(0x487)][_0x2dc6c6(0x515)](_0x2dc6c6(0x562)),this['dataChannel'][_0x2dc6c6(0x770)]=_0x1b1bd7,this[_0x2dc6c6(0x9bc)][_0x2dc6c6(0x5ec)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x18f915=a0_0x34e5;delete this[_0x18f915(0x73b)],[_0x18f915(0x2b4),_0x18f915(0x1ed)]['includes'](this[_0x18f915(0x9bc)]?.[_0x18f915(0x49a)]??'')||this[_0x18f915(0x627)]();},0xfa);});const _0x2bc84f=await this['connection'][_0x2dc6c6(0x211)](_0x2ed87f);this['lastHeartbeat']||(this[_0x2dc6c6(0x9f4)]=Date[_0x2dc6c6(0x58d)]());const _0x48e8cd=(0x0,_0x42da8f['v4'])();this[_0x2dc6c6(0x3f8)]({'type':_0x2a5ce9[_0x2dc6c6(0x27c)],'offer':_0x2bc84f,'version':this[_0x2dc6c6(0x82f)],'connectionType':this[_0x2dc6c6(0x8c6)]},_0x48e8cd),this['connectionType']===_0x4f417c['Core']&&(this[_0x2dc6c6(0x769)]=_0x183111[_0x2dc6c6(0x586)](()=>{const _0x5c3c28=_0x2dc6c6;this['publishSystemMessage']({'type':_0x2a5ce9[_0x5c3c28(0x27c)],'offer':_0x2bc84f,'version':this[_0x5c3c28(0x82f)],'connectionType':this[_0x5c3c28(0x8c6)]},_0x48e8cd);},0x1388));}async[_0x2358f4(0xa3d)](_0x5b2aa8,_0x191635){const _0x287621=_0x2358f4;if(_0x191635===this[_0x287621(0x82f)]){this[_0x287621(0x536)]();try{await this[_0x287621(0x487)]['handleAnswer'](_0x5b2aa8,this[_0x287621(0x211)][_0x287621(0x767)](this)),this['processPendingHandshakeCandidates'](),this[_0x287621(0x447)](),this['startHeartbeat']();}catch(_0x39c946){this[_0x287621(0x627)]();}}}[_0x2358f4(0x9cd)](_0x4d73da){const _0x290177=_0x2358f4;if(!this[_0x290177(0x9bc)])throw new _0x45bad0(_0x45bad0[_0x290177(0x297)][_0x290177(0x74c)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x290177(0x68a)][_0x290177(0x7b4)](),'remoteId':this[_0x290177(0x27e)],'eventMessage':_0x4d73da});if(_0x290177(0x1ed)!==this[_0x290177(0x9bc)][_0x290177(0x49a)])throw new _0x45bad0(_0x45bad0[_0x290177(0x297)]['InvalidDataChannel'],{'message':_0x290177(0x265),'localId':this[_0x290177(0x68a)][_0x290177(0x7b4)](),'remoteId':this['remoteId'],'eventMessage':_0x4d73da});let _0x44a216;if(_0x4d73da['content'][_0x290177(0x562)]instanceof ArrayBuffer){const _0x1fbd11=_0x4d73da[_0x290177(0x5d0)]['data'];_0x4d73da={..._0x4d73da,'content':{..._0x4d73da[_0x290177(0x5d0)],'data':void 0x0}},_0x44a216=this['mergeParts'](_0x4d73da,_0x1fbd11);}else _0x44a216=JSON[_0x290177(0x787)](_0x4d73da);if(_0x290177(0x991)==typeof _0x44a216&&_0x44a216[_0x290177(0x87a)]>_0x58f826)return this[_0x290177(0xa40)](_0x4d73da,_0x44a216);0x0===_0x4d73da['topicLabel']&&_0x4d73da['messageType']===_0x479af2[_0x290177(0x60f)]&&this[_0x290177(0x1d0)][_0x290177(0xa05)][_0x290177(0x296)](()=>_0x561d9b[_0x290177(0x870)](_0x577427[_0x290177(0x305)],_0x290177(0x471),this[_0x290177(0x27e)],_0x9de63d(_0x4d73da)),void 0x0);const _0x13007a=0x0===_0x4d73da['topicLabel']&&[_0x479af2[_0x290177(0x96a)],_0x479af2[_0x290177(0x2ce)]][_0x290177(0x877)](_0x4d73da[_0x290177(0x22d)])?_0x48abb4[_0x290177(0x965)]:_0x4d73da instanceof ArrayBuffer?_0x48abb4['Low']:_0x48abb4[_0x290177(0x3d8)];this[_0x290177(0x7aa)](_0x44a216,_0x13007a);}[_0x2358f4(0x859)](_0x4da0dd,_0xce17fa,_0x259d04,_0x156e65){const _0x44ba97=_0x2358f4,_0x396d98=(_0x2d8ac5=this[_0x44ba97(0x290)],_0x1c3ca2=this[_0x44ba97(0xa27)],Math[_0x44ba97(0x20d)](0xe1000*_0x2d8ac5*_0x1c3ca2));var _0x2d8ac5,_0x1c3ca2;const _0x402909=this[_0x44ba97(0x304)][_0x44ba97(0x879)](_0xce17fa['id'])||{'stream':_0xce17fa,'priority':_0x259d04,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x396d98,'maxBitrate':_0x396d98,'framerate':this['maxFps'],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x156e65},_0x16bc55=_0x402909[_0x44ba97(0x893)][_0x4da0dd[_0x44ba97(0xa7b)]]||{'track':_0x4da0dd};if(_0x16bc55[_0x44ba97(0x842)]?(_0x16bc55[_0x44ba97(0x1c1)]=_0x4da0dd,this[_0x44ba97(0x487)][_0x44ba97(0x35f)](_0x4da0dd,_0x16bc55[_0x44ba97(0x842)])):_0x16bc55['sender']=this[_0x44ba97(0x487)][_0x44ba97(0x859)](_0x4da0dd,_0xce17fa),_0x402909[_0x44ba97(0x893)][_0x4da0dd[_0x44ba97(0xa7b)]]=_0x16bc55,_0x156e65&&(_0x402909['params']=_0x156e65),_0x156e65&&'video'===_0x156e65[_0x44ba97(0xa7b)]&&_0x156e65[_0x44ba97(0x70b)]&&_0x156e65['maxResolution']&&(_0x402909[_0x44ba97(0x5fd)]=this['getResolutionScale'](_0x156e65[_0x44ba97(0x70b)],_0x156e65[_0x44ba97(0x4bd)]),_0x402909[_0x44ba97(0x685)]=_0x402909[_0x44ba97(0x5fd)],_0x402909[_0x44ba97(0x893)][_0x44ba97(0x809)]&&_0x402909['tracks']['video']['sender'])){const _0x179b85=_0x402909['tracks'][_0x44ba97(0x809)]['sender'];this[_0x44ba97(0x487)][_0x44ba97(0x4b2)](_0x179b85,Math[_0x44ba97(0x20d)](0xa*_0x402909[_0x44ba97(0x5fd)])/0xa,_0x402909[_0x44ba97(0x643)],_0x402909[_0x44ba97(0x7a2)],_0x402909[_0x44ba97(0xa5d)]);}this[_0x44ba97(0x304)][_0x44ba97(0x851)](_0xce17fa['id'],_0x402909);}['setPriority'](_0x3c4aa6,_0x1a5fad){const _0x2e3625=_0x2358f4,_0x1348bb=this[_0x2e3625(0x304)][_0x2e3625(0x879)](_0x3c4aa6['id']);if(_0x1348bb&&_0x1348bb[_0x2e3625(0xa5d)]!==_0x1a5fad&&(_0x1348bb[_0x2e3625(0xa5d)]=_0x1a5fad,_0x1348bb[_0x2e3625(0x893)]['video']&&_0x1348bb['tracks'][_0x2e3625(0x809)][_0x2e3625(0x842)])){const _0x50bca5=_0x1348bb[_0x2e3625(0x893)][_0x2e3625(0x809)]['sender'];this[_0x2e3625(0x487)][_0x2e3625(0x4b2)](_0x50bca5,Math[_0x2e3625(0x20d)](0xa*_0x1348bb[_0x2e3625(0x5fd)])/0xa,_0x1348bb['framerate'],_0x1348bb['bitrate'],_0x1348bb[_0x2e3625(0xa5d)]);}}[_0x2358f4(0x4b9)](_0x3fb782,_0x77479b){const _0x35b621=_0x2358f4,_0x3a90d5=this['senders'][_0x35b621(0x879)](_0x3fb782['id']);if(_0x3a90d5){if(_0x3a90d5['params']=_0x77479b,_0x77479b&&_0x35b621(0x809)===_0x77479b['kind']&&_0x77479b['resolution']&&_0x77479b[_0x35b621(0x4bd)]){if(_0x3a90d5[_0x35b621(0x685)]=this[_0x35b621(0x74b)](_0x77479b[_0x35b621(0x70b)],_0x77479b[_0x35b621(0x4bd)]),_0x3a90d5[_0x35b621(0x5fd)]<_0x3a90d5[_0x35b621(0x685)]&&(_0x3a90d5[_0x35b621(0x5fd)]=_0x3a90d5[_0x35b621(0x685)]),_0x3a90d5[_0x35b621(0x893)][_0x35b621(0x809)]&&_0x3a90d5[_0x35b621(0x893)]['video'][_0x35b621(0x842)]){const _0x7a7741=_0x3a90d5[_0x35b621(0x893)][_0x35b621(0x809)][_0x35b621(0x842)];this[_0x35b621(0x487)]['setEncodingParameters'](_0x7a7741,Math[_0x35b621(0x20d)](0xa*_0x3a90d5[_0x35b621(0x5fd)])/0xa,_0x3a90d5['framerate'],_0x3a90d5[_0x35b621(0x7a2)],_0x3a90d5[_0x35b621(0xa5d)]);}this[_0x35b621(0x5bf)](),this['setUpgradeTimeout']();}this['senders'][_0x35b621(0x851)](_0x3fb782['id'],_0x3a90d5);}}[_0x2358f4(0x295)](_0x15f100,_0x131858){const _0x411f01=_0x2358f4,_0x4e2a64=this['senders'][_0x411f01(0x879)](_0x131858['id']);if(_0x4e2a64){const _0x5c7308=_0x4e2a64[_0x411f01(0x893)][_0x15f100[_0x411f01(0xa7b)]];_0x5c7308&&(_0x5c7308[_0x411f01(0x842)]&&this['connection']['removeTrack'](_0x5c7308[_0x411f01(0x842)]),_0x5c7308[_0x411f01(0x1c1)]=void 0x0);}}[_0x2358f4(0x284)](_0x43dae6){const _0xecc165=_0x2358f4;this['clearUpgradeTimeout']();const _0x364f33=function(_0x41beb3,_0x5c36df){const _0xa7fe02=a0_0x34e5;return _0x41beb3[_0xa7fe02(0x96f)]((_0x4db7e1,_0x5816cf)=>_0x5c36df[_0xa7fe02(0x553)]===_0x14c2b7['Downgrade']?_0x5816cf[_0xa7fe02(0xa5d)]-_0x4db7e1[_0xa7fe02(0xa5d)]:_0x4db7e1['priority']-_0x5816cf[_0xa7fe02(0xa5d)])[_0xa7fe02(0x7c6)](_0x3014bf=>function(_0x1db07d,_0xd69da9){const _0xcfc6ae=_0xa7fe02;if(_0xd69da9[_0xcfc6ae(0x553)]===_0x14c2b7[_0xcfc6ae(0x50c)]){if(_0xd69da9[_0xcfc6ae(0x429)]===_0x3896a0['Resolution'])return _0x1db07d['resolutionScale']<0x4||_0x1db07d[_0xcfc6ae(0x345)]>0xf;if(_0xd69da9[_0xcfc6ae(0x429)]===_0x3896a0['Bitrate'])return _0x1db07d[_0xcfc6ae(0x332)]>_0x29f2ef;}return _0x1db07d[_0xcfc6ae(0x5fd)]>_0x1db07d[_0xcfc6ae(0x685)]||_0x1db07d[_0xcfc6ae(0x643)]<_0x1db07d[_0xcfc6ae(0x345)]||_0x1db07d[_0xcfc6ae(0x7a2)]<_0x1db07d[_0xcfc6ae(0x332)];}(_0x3014bf,_0x5c36df));}(Array[_0xecc165(0x7ed)](this[_0xecc165(0x304)][_0xecc165(0x55b)]()),_0x43dae6);if(_0x364f33&&(function(_0x2bb13c,_0x5247c9){const _0x3ab0f2=_0xecc165;_0x2bb13c[_0x3ab0f2(0x893)]['video']&&_0x2bb13c[_0x3ab0f2(0x893)][_0x3ab0f2(0x809)][_0x3ab0f2(0x842)]&&(_0x2bb13c[_0x3ab0f2(0x5fd)]=function(_0x5b5e9a,_0x2c9c27,_0x134fae){const _0x4b7fbb=_0x3ab0f2;switch(_0x134fae[_0x4b7fbb(0x553)]){case _0x14c2b7['Downgrade']:_0x134fae[_0x4b7fbb(0x429)]===_0x3896a0[_0x4b7fbb(0x492)]&&(_0x5b5e9a+=0.5)>0x4&&(_0x5b5e9a=0x4);break;case _0x14c2b7[_0x4b7fbb(0x23e)]:(_0x5b5e9a-=0.5)<_0x2c9c27&&(_0x5b5e9a=_0x2c9c27);}return _0x5b5e9a;}(_0x2bb13c[_0x3ab0f2(0x5fd)],_0x2bb13c[_0x3ab0f2(0x685)],_0x5247c9),_0x2bb13c[_0x3ab0f2(0x643)]=function(_0x5e8139,_0x1e3091,_0x8b3fb5){const _0x4c22a8=_0x3ab0f2;switch(_0x8b3fb5[_0x4c22a8(0x553)]){case _0x14c2b7[_0x4c22a8(0x50c)]:_0x8b3fb5['component']===_0x3896a0['Resolution']&&(_0x5e8139-=0x3)<0xf&&(_0x5e8139=0xf);break;case _0x14c2b7['Upgrade']:(_0x5e8139+=0x3)>_0x1e3091&&(_0x5e8139=_0x1e3091);}return _0x5e8139;}(_0x2bb13c[_0x3ab0f2(0x643)],_0x2bb13c[_0x3ab0f2(0x345)],_0x5247c9),_0x2bb13c['bitrate']=function(_0x5f3c94,_0xde1a13,_0x388c44){const _0x4738fe=_0x3ab0f2;switch(_0x388c44[_0x4738fe(0x553)]){case _0x14c2b7[_0x4738fe(0x50c)]:_0x388c44[_0x4738fe(0x429)]===_0x3896a0[_0x4738fe(0x789)]&&(_0x5f3c94*=0.75)<_0x29f2ef&&(_0x5f3c94=_0x29f2ef);break;case _0x14c2b7[_0x4738fe(0x23e)]:(_0x5f3c94*=1.25)>_0xde1a13&&(_0x5f3c94=_0xde1a13);}return _0x5f3c94;}(_0x2bb13c[_0x3ab0f2(0x7a2)],_0x2bb13c[_0x3ab0f2(0x332)],_0x5247c9));}(_0x364f33,_0x43dae6),_0x364f33[_0xecc165(0x893)][_0xecc165(0x809)]&&_0x364f33[_0xecc165(0x893)][_0xecc165(0x809)][_0xecc165(0x842)])){const _0x5da680=_0x364f33[_0xecc165(0x893)]['video'][_0xecc165(0x842)];this[_0xecc165(0x487)][_0xecc165(0x4b2)](_0x5da680,Math[_0xecc165(0x20d)](0xa*_0x364f33['resolutionScale'])/0xa,_0x364f33[_0xecc165(0x643)],_0x364f33[_0xecc165(0x7a2)],_0x364f33[_0xecc165(0xa5d)]);}(_0x364f33||_0x43dae6['action']===_0x14c2b7[_0xecc165(0x50c)])&&this[_0xecc165(0x792)]();}[_0x2358f4(0x3a8)](){const _0x8482d=_0x2358f4;return this[_0x8482d(0x48d)][_0x8482d(0x44a)]['reduce']((_0x4d7ddb,_0x1c2a5b)=>_0x4d7ddb+_0x1c2a5b[_0x8482d(0x9dc)],0x0)*_0x412712;}['getBufferedAmount'](){return this['dataChannel']?.['bufferedAmount']??0x0;}['resetConnection'](){const _0x5bb10f=_0x2358f4;super['resetConnection'](),this[_0x5bb10f(0x641)](),this[_0x5bb10f(0x536)](),this[_0x5bb10f(0x304)][_0x5bb10f(0x37b)](_0x103ea3=>{const _0x90562e=_0x5bb10f;_0x103ea3[_0x90562e(0x893)][_0x90562e(0x809)]&&(_0x103ea3['tracks'][_0x90562e(0x809)][_0x90562e(0x842)]=void 0x0),_0x103ea3['tracks'][_0x90562e(0x392)]&&(_0x103ea3['tracks'][_0x90562e(0x392)][_0x90562e(0x842)]=void 0x0);}),this['isReconnecting']=!0x0;}async[_0x2358f4(0x785)](){return new Promise(async _0x559f60=>{const _0x44c310=a0_0x34e5;if(!this[_0x44c310(0x9bc)]||_0x44c310(0x1ed)!==this[_0x44c310(0x9bc)][_0x44c310(0x49a)])return await _0x183111['wait'](0x64),void _0x559f60();this[_0x44c310(0x9bc)]['bufferedAmount']<_0x1b1bd7?_0x559f60():this[_0x44c310(0x9bc)][_0x44c310(0x78b)]=()=>{const _0x211268=_0x44c310;this[_0x211268(0x9bc)]&&(this[_0x211268(0x9bc)][_0x211268(0x78b)]=null),_0x559f60();};});}['sendChunked'](_0x3e3f4a,_0x5b33fa){const _0x41a3f2=_0x2358f4,_0x1f113c=[];for(let _0x4d8004=0x0;_0x4d8004<_0x5b33fa[_0x41a3f2(0x87a)];_0x4d8004+=_0x58f826)_0x1f113c[_0x41a3f2(0x397)](_0x5b33fa[_0x41a3f2(0x38f)](_0x4d8004,_0x4d8004+_0x58f826));for(const _0x1e6006 of _0x1f113c)this[_0x41a3f2(0x7aa)](_0x8a937e+';'+_0x3e3f4a[_0x41a3f2(0x474)]+';'+_0x1f113c[_0x41a3f2(0x803)](_0x1e6006)+';'+_0x1f113c[_0x41a3f2(0x87a)]+';'+_0x1e6006,_0x48abb4[_0x41a3f2(0x94f)]);}async[_0x2358f4(0x7aa)](_0xcb10b4,_0x4de262){const _0x577b76=_0x2358f4;_0xcb10b4===_0x145fff?this[_0x577b76(0x48d)][_0x577b76(0x44a)][_0x4de262]['head']?.['value']!==_0x145fff&&this[_0x577b76(0x48d)][_0x577b76(0x44a)][_0x4de262][_0x577b76(0x317)](_0xcb10b4):this['retryQueue']['queues'][_0x4de262]['push'](_0xcb10b4);}['sendAction'](_0x514b60){const _0x42aecb=_0x2358f4;if(!this[_0x42aecb(0x9bc)]||_0x42aecb(0x1ed)!==this[_0x42aecb(0x9bc)][_0x42aecb(0x49a)])throw new Error(_0x42aecb(0x9ee));if(this['dataChannel']['bufferedAmount']>=0xbe8000)throw new Error(_0x42aecb(0x394));const _0x4adbeb=Date[_0x42aecb(0x58d)]();_0x514b60!==_0x145fff&&(this[_0x42aecb(0x379)]+=0x1,this[_0x42aecb(0x5f3)]+=_0x514b60 instanceof ArrayBuffer?_0x514b60['byteLength']:_0x514b60[_0x42aecb(0x87a)]),ArrayBuffer,this['dataChannel'][_0x42aecb(0x9cd)](_0x514b60),this[_0x42aecb(0x871)]+=Date[_0x42aecb(0x58d)]()-_0x4adbeb;}[_0x2358f4(0x80c)](){const _0x1a6515=_0x2358f4;this['heartbeatUnsubscriber']&&this[_0x1a6515(0x909)]();let _0x4e9f37=!0x0,_0x16dc35=Date['now']();this[_0x1a6515(0x9f4)]=Date[_0x1a6515(0x58d)](),this[_0x1a6515(0x9bc)][_0x1a6515(0x9d5)]=_0x5d969c=>{const _0x589bcb=_0x1a6515;'1'===_0x5d969c[_0x589bcb(0x562)]&&(this[_0x589bcb(0x5ef)]=Date['now']()-_0x16dc35,_0x4e9f37&&this[_0x589bcb(0x3f8)]({'type':_0x2a5ce9['Success']}),_0x4e9f37=!0x1,this[_0x589bcb(0x9f4)]=Date[_0x589bcb(0x58d)](),this[_0x589bcb(0x646)]&&(this[_0x589bcb(0x646)]=!0x1,this[_0x589bcb(0x6aa)]()));},this['heartbeatUnsubscriber']=_0x183111['setInterval'](()=>{const _0x523155=_0x1a6515;_0x16dc35=Date['now'](),this[_0x523155(0x7aa)](_0x145fff,_0x48abb4[_0x523155(0x965)]),Date['now']()-this[_0x523155(0x9f4)]>(_0x4e9f37?0x15f90:0x3a98)&&this[_0x523155(0x627)]();},0xbb8);}[_0x2358f4(0x6aa)](){const _0x2f6c8b=_0x2358f4;this[_0x2f6c8b(0x304)][_0x2f6c8b(0x37b)](_0x58c3d7=>{const _0x59c18a=_0x2f6c8b;_0x58c3d7[_0x59c18a(0x893)][_0x59c18a(0x809)]&&_0x58c3d7[_0x59c18a(0x893)][_0x59c18a(0x809)][_0x59c18a(0x1c1)]&&!_0x58c3d7['tracks'][_0x59c18a(0x809)][_0x59c18a(0x842)]&&(_0x58c3d7[_0x59c18a(0x893)][_0x59c18a(0x809)][_0x59c18a(0x842)]=this[_0x59c18a(0x487)]['addTrack'](_0x58c3d7[_0x59c18a(0x893)][_0x59c18a(0x809)][_0x59c18a(0x1c1)],_0x58c3d7[_0x59c18a(0x92c)])),_0x58c3d7['tracks'][_0x59c18a(0x392)]&&_0x58c3d7[_0x59c18a(0x893)][_0x59c18a(0x392)][_0x59c18a(0x1c1)]&&!_0x58c3d7[_0x59c18a(0x893)][_0x59c18a(0x392)][_0x59c18a(0x842)]&&(_0x58c3d7['tracks'][_0x59c18a(0x392)][_0x59c18a(0x842)]=this[_0x59c18a(0x487)]['addTrack'](_0x58c3d7[_0x59c18a(0x893)][_0x59c18a(0x392)][_0x59c18a(0x1c1)],_0x58c3d7['stream']));});}['sendIceCandidates'](){const _0x5602c0=_0x2358f4;this[_0x5602c0(0x3f8)]({'type':_0x2a5ce9[_0x5602c0(0x47b)],'candidates':this[_0x5602c0(0x2d0)],'origin':_0x24afe6[_0x5602c0(0x399)],'version':this[_0x5602c0(0x82f)],'connectionType':this[_0x5602c0(0x8c6)]});}['setupConnectionEvents'](){const _0x1c56a6=_0x2358f4;super[_0x1c56a6(0x7b3)](),this[_0x1c56a6(0x487)][_0x1c56a6(0x7f8)]=()=>{const _0x36d65e=_0x1c56a6;if(_0x36d65e(0x77b)===this['connection'][_0x36d65e(0x2d4)]){_0x561d9b[_0x36d65e(0x870)](_0x577427[_0x36d65e(0x63f)],'iceConnectionState\x20failed',this['localNode'][_0x36d65e(0x7b4)](),this[_0x36d65e(0x27e)]);try{if(this[_0x36d65e(0x487)]['canRestartHandshake'])return void this[_0x36d65e(0x487)][_0x36d65e(0x3b0)]();}catch(_0x4faa71){}this[_0x36d65e(0x211)]({'handshakeRestart':!0x0});}},this[_0x1c56a6(0x487)]['onConnectionStateChange']=()=>{const _0x90c0df=_0x1c56a6;_0x90c0df(0x7d9)!==this[_0x90c0df(0x487)][_0x90c0df(0x80a)]&&_0x90c0df(0x77b)!==this[_0x90c0df(0x487)]['connectionState']||this['handleDisconnect']();};}[_0x2358f4(0x627)](){const _0x600fca=_0x2358f4;this['clearHeartbeat'](),this['clearRestartTimeout'](),this[_0x600fca(0x447)](),_0x561d9b[_0x600fca(0x444)](_0x600fca(0x910),{'clusterId':this[_0x600fca(0x667)],'nodeId':this[_0x600fca(0x68a)][_0x600fca(0x7b4)](),'nodeType':this['localNode'][_0x600fca(0x5ba)],'remoteId':this[_0x600fca(0x27e)],'data':{'connectionType':this[_0x600fca(0x8c6)],'connectionState':this[_0x600fca(0x487)][_0x600fca(0x80a)],'iceConnectionState':this[_0x600fca(0x487)][_0x600fca(0x2d4)],'signalingState':this[_0x600fca(0x487)][_0x600fca(0x67a)],'readyState':this[_0x600fca(0x9bc)]?.[_0x600fca(0x49a)]||'','lastHeartbeat':this[_0x600fca(0x9f4)]?Date[_0x600fca(0x58d)]()-this['lastHeartbeat']:'','retryQueue':this[_0x600fca(0x48d)]}}),(this[_0x600fca(0x9f4)]&&Date[_0x600fca(0x58d)]()-this[_0x600fca(0x9f4)]>0xea60)??0x1?this['systemTopic']['publish']({'sourceId':this[_0x600fca(0x27e)],'destinationIds':[this['localNode'][_0x600fca(0x7b4)]()],'messageType':_0x479af2[_0x600fca(0x2ce)],'content':{'type':_0x2a5ce9[_0x600fca(0xa56)]}}):(this[_0x600fca(0x54b)](),this[_0x600fca(0x3f8)]({'type':_0x2a5ce9['NeedRestart'],'version':this[_0x600fca(0x82f)],'connectionType':this[_0x600fca(0x8c6)]}),this[_0x600fca(0x6c2)]=setTimeout(()=>{const _0x4df2fd=_0x600fca;this[_0x4df2fd(0x627)]();},0x7530));}[_0x2358f4(0x909)](){const _0x5205aa=_0x2358f4;this[_0x5205aa(0x8ce)]?.(),delete this['heartbeatUnsubscriber'];}[_0x2358f4(0x447)](){const _0x540102=_0x2358f4;this['connectionTimeout']&&(clearTimeout(this['connectionTimeout']),delete this[_0x540102(0x25e)]);}['clearRestartTimeout'](){const _0x26d13a=_0x2358f4;this[_0x26d13a(0x6c2)]&&(clearTimeout(this['restartTimeout']),delete this['restartTimeout']);}[_0x2358f4(0x5bf)](){const _0x417071=_0x2358f4;this[_0x417071(0x8fc)]&&(clearTimeout(this['upgradeTimeout']),delete this[_0x417071(0x8fc)]);}[_0x2358f4(0x792)](){const _0x1ce524=_0x2358f4;this[_0x1ce524(0x8fc)]=setTimeout(()=>{const _0xb43dd5=_0x1ce524;this['applyRemediation']({'type':_0x2e1292[_0xb43dd5(0x6c3)],'action':_0x14c2b7[_0xb43dd5(0x23e)]});},0x3a98);}[_0x2358f4(0x74b)](_0x3a7cff,_0x363031){const _0x25df57=_0x2358f4,_0x2821c1=Math[_0x25df57(0x6d0)](_0x3a7cff['width']/_0x363031['width'],_0x3a7cff[_0x25df57(0x532)]/_0x363031[_0x25df57(0x532)]);return Math['min'](Math[_0x25df57(0x6d0)](_0x2821c1,0x1),0x4);}[_0x2358f4(0x536)](){const _0x549c51=_0x2358f4;this[_0x549c51(0x769)]?.(),delete this[_0x549c51(0x769)];}[_0x2358f4(0x641)](){const _0x4e2536=_0x2358f4;this[_0x4e2536(0x73b)]&&(clearTimeout(this[_0x4e2536(0x73b)]),delete this[_0x4e2536(0x73b)]);}[_0x2358f4(0x47a)](_0x451bec){const _0x5e500a=_0x2358f4,_0x17b498=JSON[_0x5e500a(0x787)](_0x451bec);return new TextEncoder()[_0x5e500a(0x583)](_0x17b498)[_0x5e500a(0x761)];}['mergeParts'](_0xe5c73a,_0xc6409d){const _0x2d34ab=_0x2358f4,_0x4cc0a1=this[_0x2d34ab(0x47a)](_0xe5c73a),_0x53a841=new Uint8Array(0x4),_0x4afe27=new Uint8Array(_0x4cc0a1),_0x2fce2e=new Uint8Array(_0xc6409d);_0x53a841[_0x2d34ab(0x851)](new Uint8Array(new Uint32Array([_0x4afe27[_0x2d34ab(0x87a)]])[_0x2d34ab(0x761)]));const _0x135b26=new Uint8Array(0x4+_0x4afe27[_0x2d34ab(0x87a)]+_0x2fce2e[_0x2d34ab(0x87a)]);return _0x135b26[_0x2d34ab(0x851)](_0x53a841),_0x135b26[_0x2d34ab(0x851)](_0x4afe27,0x4),_0x135b26[_0x2d34ab(0x851)](_0x2fce2e,0x4+_0x4afe27[_0x2d34ab(0x87a)]),_0x135b26[_0x2d34ab(0x761)];}}class _0x686960 extends _0x44db69{['iceServers'];[_0x2358f4(0x8c6)];[_0x2358f4(0x290)];[_0x2358f4(0xa27)];[_0x2358f4(0x64b)];['senderConnection'];[_0x2358f4(0x7ba)];['receiverUnsubscribers']=[];[_0x2358f4(0x6b4)]=_0x2365fd();['trackListeners']=_0x2365fd();[_0x2358f4(0x7ef)]=_0x2365fd();[_0x2358f4(0x6e5)]=[];[_0x2358f4(0x80f)];[_0x2358f4(0x99f)]=new Map();[_0x2358f4(0x822)]=new Map();[_0x2358f4(0x83e)]=new Map();[_0x2358f4(0xa79)]=new Map();[_0x2358f4(0x65d)]=!0x1;constructor(_0x51a9de,_0x3ee70f,_0x20c23e,_0x1a5894,_0x3b6ca9,_0x42418e,_0x2744a4,_0x1d4c31){const _0x576b90=_0x2358f4;super(_0x51a9de,_0x3ee70f,_0x20c23e),this[_0x576b90(0x922)]=_0x1a5894,this[_0x576b90(0x8c6)]=_0x3b6ca9,this[_0x576b90(0x290)]=_0x42418e,this['maxBpp']=_0x2744a4,this[_0x576b90(0x64b)]=_0x1d4c31;}[_0x2358f4(0x3fe)](_0x5511bd){const _0x157c74=_0x2358f4;switch(_0x5511bd['getContentType']()){case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0x409)]:case _0x4ab575[_0x157c74(0x7fd)]['PubSub']:case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0x60b)]:case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0x212)]:case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0xaa4)]:case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0x219)]:case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0xa16)]:case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0x9cf)]:this[_0x157c74(0x99f)][_0x157c74(0x851)](_0x5511bd[_0x157c74(0x674)](),_0x5511bd);break;case _0x4ab575[_0x157c74(0x7fd)][_0x157c74(0x853)]:this['mediaTopics'][_0x157c74(0x851)](_0x5511bd[_0x157c74(0x674)](),_0x5511bd);}}[_0x2358f4(0x8a8)](_0x47d57b){const _0x48dbe2=_0x2358f4;switch(_0x47d57b[_0x48dbe2(0x8d8)]()){case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0x409)]:case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0x356)]:case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0x60b)]:case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0x212)]:case _0x4ab575[_0x48dbe2(0x7fd)]['Job']:case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0x219)]:case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0xa16)]:case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0x9cf)]:this[_0x48dbe2(0x99f)][_0x48dbe2(0x6e6)](_0x47d57b[_0x48dbe2(0x674)]());break;case _0x4ab575[_0x48dbe2(0x7fd)][_0x48dbe2(0x853)]:this[_0x48dbe2(0x83e)][_0x48dbe2(0x6e6)](_0x47d57b[_0x48dbe2(0x674)]());}}[_0x2358f4(0x1ee)](_0x3e1a41){const _0x2b4dfc=_0x2358f4;switch(_0x3e1a41['getContentType']()){case _0x4ab575[_0x2b4dfc(0x7fd)][_0x2b4dfc(0x409)]:case _0x4ab575[_0x2b4dfc(0x7fd)][_0x2b4dfc(0x356)]:case _0x4ab575[_0x2b4dfc(0x7fd)][_0x2b4dfc(0x60b)]:case _0x4ab575[_0x2b4dfc(0x7fd)][_0x2b4dfc(0x212)]:case _0x4ab575[_0x2b4dfc(0x7fd)]['Job']:case _0x4ab575[_0x2b4dfc(0x7fd)]['VectorDatabase']:case _0x4ab575[_0x2b4dfc(0x7fd)][_0x2b4dfc(0xa16)]:case _0x4ab575[_0x2b4dfc(0x7fd)][_0x2b4dfc(0x9cf)]:{const _0x201794=_0x3e1a41['subscribe'](_0x7035f8=>{const _0x1199fc=_0x2b4dfc;_0x2f0cdd(_0x7035f8,this[_0x1199fc(0x4a1)]())&&_0x5c6f67(_0x7035f8,this[_0x1199fc(0x27e)])&&this['send'](_0x7035f8);});this['dataUnsubscribers'][_0x2b4dfc(0x851)](_0x3e1a41['getLabel'](),_0x201794);break;}case _0x4ab575[_0x2b4dfc(0x7fd)]['Media']:{const _0x370814=_0x3e1a41[_0x2b4dfc(0x6f4)](({content:_0x5d7ec8})=>{const _0x460c1d=_0x2b4dfc;switch(_0x5d7ec8['action']){case _0x311c2a[_0x460c1d(0x7d6)]:this['addTrack'](_0x5d7ec8[_0x460c1d(0x1c1)],_0x5d7ec8[_0x460c1d(0x92c)],_0x5d7ec8[_0x460c1d(0xa5d)],_0x5d7ec8[_0x460c1d(0x9cb)]);break;case _0x311c2a['Remove']:this[_0x460c1d(0x295)](_0x5d7ec8[_0x460c1d(0x1c1)],_0x5d7ec8[_0x460c1d(0x92c)]);break;case _0x311c2a['Update']:_0x5d7ec8[_0x460c1d(0xa5d)]&&this['setPriority'](_0x5d7ec8['stream'],_0x5d7ec8['priority']),_0x5d7ec8['params']&&this['setParams'](_0x5d7ec8[_0x460c1d(0x92c)],_0x5d7ec8[_0x460c1d(0x9cb)]);}});this[_0x2b4dfc(0xa79)][_0x2b4dfc(0x851)](_0x3e1a41['getLabel'](),_0x370814);break;}}}['unregisterSubscriber'](_0x1f867d){const _0x51c509=_0x2358f4;switch(_0x1f867d['getContentType']()){case _0x4ab575[_0x51c509(0x7fd)][_0x51c509(0x409)]:case _0x4ab575[_0x51c509(0x7fd)][_0x51c509(0x356)]:case _0x4ab575['ContentType'][_0x51c509(0x60b)]:case _0x4ab575['ContentType'][_0x51c509(0x212)]:case _0x4ab575['ContentType']['Job']:case _0x4ab575[_0x51c509(0x7fd)][_0x51c509(0x219)]:case _0x4ab575[_0x51c509(0x7fd)][_0x51c509(0xa16)]:case _0x4ab575[_0x51c509(0x7fd)][_0x51c509(0x9cf)]:this['dataUnsubscribers'][_0x51c509(0x879)](_0x1f867d[_0x51c509(0x674)]())?.(),this[_0x51c509(0x822)][_0x51c509(0x6e6)](_0x1f867d['getLabel']());break;case _0x4ab575[_0x51c509(0x7fd)][_0x51c509(0x853)]:this['mediaUnsubscribers'][_0x51c509(0x879)](_0x1f867d['getLabel']())?.(),this[_0x51c509(0xa79)][_0x51c509(0x6e6)](_0x1f867d[_0x51c509(0x674)]());}}[_0x2358f4(0x5f1)](){const _0x16f291=_0x2358f4;return[_0x4ab575[_0x16f291(0x7fd)]['Data'],_0x4ab575['ContentType'][_0x16f291(0x853)],_0x4ab575['ContentType'][_0x16f291(0x356)],_0x4ab575[_0x16f291(0x7fd)][_0x16f291(0x60b)],_0x4ab575[_0x16f291(0x7fd)][_0x16f291(0x212)],_0x4ab575[_0x16f291(0x7fd)][_0x16f291(0xaa4)],_0x4ab575[_0x16f291(0x7fd)][_0x16f291(0x219)],_0x4ab575[_0x16f291(0x7fd)]['GraphDatabase'],_0x4ab575[_0x16f291(0x7fd)][_0x16f291(0x9cf)]];}[_0x2358f4(0x823)](_0xd1b64b){const _0x58d2b4=_0x2358f4;this[_0x58d2b4(0x80f)]=_0xd1b64b;}['unregisterSystemPublisher'](){delete this['systemTopic'];}async[_0x2358f4(0x40f)](){const _0x163e5f=_0x2358f4;this['setupListeners'](),await this[_0x163e5f(0x211)]();}[_0x2358f4(0x951)](){const _0x30b97d=_0x2358f4;this[_0x30b97d(0x6e5)]['forEach'](_0x42d030=>_0x42d030()),this[_0x30b97d(0x6e5)]=[],this['senderConnection']?.[_0x30b97d(0xa7d)](),this[_0x30b97d(0x41f)]?.['close'](),delete this[_0x30b97d(0x41f)],this[_0x30b97d(0x75a)]['forEach'](_0x1194b7=>_0x1194b7()),this[_0x30b97d(0x75a)]=[],this[_0x30b97d(0x7ba)]?.['unregisterSystemPublisher'](),this[_0x30b97d(0x7ba)]?.[_0x30b97d(0x951)](),delete this[_0x30b97d(0x7ba)];}[_0x2358f4(0x1cd)](){const _0x46708c=_0x2358f4;return this[_0x46708c(0x41f)]?.[_0x46708c(0x1cd)]()&&this[_0x46708c(0x7ba)]?.[_0x46708c(0x1cd)]()||!0x1;}['send'](_0x247ea4){const _0x3c1058=_0x2358f4;if(!this['senderConnection']||!this['isConnected']())throw new _0x45bad0(_0x45bad0[_0x3c1058(0x297)][_0x3c1058(0xa7e)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this['senderConnection']?.[_0x3c1058(0x1cd)](),'receiverConnected':this[_0x3c1058(0x7ba)]?.[_0x3c1058(0x1cd)](),'localId':this['getLocalId'](),'remoteId':this[_0x3c1058(0x27e)],'data':_0x247ea4});this[_0x3c1058(0x41f)][_0x3c1058(0x9cd)](_0x247ea4);}[_0x2358f4(0x9d5)](_0x41c297){const _0x1a7ab0=_0x2358f4;return this[_0x1a7ab0(0x6b4)][_0x1a7ab0(0x6f4)](_0x41c297);}[_0x2358f4(0x60a)](_0x3b6179){const _0x67f819=_0x2358f4;return this[_0x67f819(0x947)][_0x67f819(0x6f4)](({track:_0x571b54,stream:_0x3f2220})=>_0x3b6179(_0x571b54,_0x3f2220));}[_0x2358f4(0x8f9)](_0x21f47f){return this['removeTrackListeners']['subscribe'](({track:_0x55f564,stream:_0x53df10})=>_0x21f47f(_0x55f564,_0x53df10));}[_0x2358f4(0x859)](_0x13c599,_0x16d4e7,_0x398f3c,_0x7abf5d){const _0x3a8528=_0x2358f4;this[_0x3a8528(0x41f)]?.[_0x3a8528(0x859)](_0x13c599,_0x16d4e7,_0x398f3c,_0x7abf5d);}['setPriority'](_0x4b145c,_0x4d89bf){const _0xd36a66=_0x2358f4;this[_0xd36a66(0x41f)]?.[_0xd36a66(0x320)](_0x4b145c,_0x4d89bf);}[_0x2358f4(0x4b9)](_0x4432ed,_0x2690eb){const _0xa69f62=_0x2358f4;this[_0xa69f62(0x41f)]?.[_0xa69f62(0x4b9)](_0x4432ed,_0x2690eb);}['removeTrack'](_0x39b9d3,_0x2a83fe){const _0x172745=_0x2358f4;this[_0x172745(0x41f)]?.[_0x172745(0x295)](_0x39b9d3,_0x2a83fe);}async[_0x2358f4(0x89e)](_0x241603){const _0xf3f649=_0x2358f4;_0x561d9b[_0xf3f649(0x870)](_0x577427[_0xf3f649(0xa96)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0xf3f649(0x4a1)](),_0x241603);const {content:_0x3525ad}=_0x241603;switch(_0x3525ad['type']){case _0x2a5ce9['Offer']:await this[_0xf3f649(0x5c2)](_0x3525ad);break;case _0x2a5ce9[_0xf3f649(0x1f6)]:await this[_0xf3f649(0xa3d)](_0x3525ad);break;case _0x2a5ce9[_0xf3f649(0x867)]:this[_0xf3f649(0x5bd)]();break;case _0x2a5ce9[_0xf3f649(0x47b)]:await this['handleIceCandidates'](_0x3525ad);break;case _0x2a5ce9[_0xf3f649(0x440)]:this[_0xf3f649(0x6d5)](_0x3525ad);break;case _0x2a5ce9[_0xf3f649(0x542)]:await this[_0xf3f649(0x211)]();}}['handleRemediationSystemEvents'](_0x5e456d){const _0x5680a6=_0x2358f4;this[_0x5680a6(0x41f)]?.['applyRemediation'](_0x5e456d[_0x5680a6(0x5d0)][_0x5680a6(0x562)]);}[_0x2358f4(0xa2e)](){const _0x133fd4=_0x2358f4;return this[_0x133fd4(0x8c6)];}[_0x2358f4(0x454)](_0x5af48b){const _0x563d59=_0x2358f4;this[_0x563d59(0x8c6)]=_0x5af48b,this['senderConnection']?.[_0x563d59(0x454)](_0x5af48b),this[_0x563d59(0x7ba)]?.[_0x563d59(0x454)](_0x5af48b);}async[_0x2358f4(0x728)](){const _0x5a460e=_0x2358f4;await this['senderConnection']?.[_0x5a460e(0x728)](),await this['receiverConnection']?.['collectStats']();}['calculateArrayBufferSize'](){const _0x598798=_0x2358f4;return this[_0x598798(0x41f)]?.[_0x598798(0x3a8)]()??0x0;}['getBufferedAmount'](){const _0x11aa41=_0x2358f4;return this[_0x11aa41(0x41f)]?.[_0x11aa41(0x250)]()??0x0;}[_0x2358f4(0x84e)](){const _0x38df93=_0x2358f4;this[_0x38df93(0x6e5)][_0x38df93(0x397)](this['onMessage'](_0x2f8a08=>{const _0x3bab25=_0x38df93;_0x5c6f67(_0x2f8a08,this[_0x3bab25(0x4a1)]())&&0x0!==_0x2f8a08[_0x3bab25(0x522)]&&this[_0x3bab25(0x99f)][_0x3bab25(0x879)](_0x2f8a08[_0x3bab25(0x522)])?.[_0x3bab25(0x727)](_0x2f8a08);})),this['listenerUnsubscribers'][_0x38df93(0x397)](this[_0x38df93(0x60a)]((_0x46a0c3,_0x1d8747)=>{const _0x4443ea=_0x38df93,_0x1d34b5=_0x5e2662(_0x4ab575[_0x4443ea(0x7fd)]['Media'],_0x1d8747['id'],this[_0x4443ea(0x27e)]);this['mediaTopics'][_0x4443ea(0x879)](_0x1d34b5)?.['publish']({'topicLabel':_0x1d34b5,'sourceId':this[_0x4443ea(0x27e)],'contentType':_0x4ab575[_0x4443ea(0x7fd)][_0x4443ea(0x853)],'content':{'action':_0x311c2a[_0x4443ea(0x7ad)],'track':_0x46a0c3,'stream':_0x1d8747,'providerId':this['remoteId']}});})),this[_0x38df93(0x6e5)][_0x38df93(0x397)](this[_0x38df93(0x8f9)]((_0x2ca2bc,_0x1bc973)=>{const _0x159a95=_0x38df93,_0x223ca6=_0x5e2662(_0x4ab575['ContentType'][_0x159a95(0x853)],_0x1bc973['id'],this[_0x159a95(0x27e)]);this[_0x159a95(0x83e)]['get'](_0x223ca6)?.[_0x159a95(0x727)]({'topicLabel':_0x223ca6,'sourceId':this['remoteId'],'contentType':_0x4ab575[_0x159a95(0x7fd)][_0x159a95(0x853)],'content':{'action':_0x311c2a[_0x159a95(0x762)],'track':_0x2ca2bc,'stream':_0x1bc973,'providerId':this[_0x159a95(0x27e)]}});}));}[_0x2358f4(0x6d9)]({candidates:_0x518de8,origin:_0x300d30,version:_0x585218}){const _0x2c69d2=_0x2358f4;return _0x300d30===_0x24afe6[_0x2c69d2(0x399)]?(this[_0x2c69d2(0x7ba)]||this[_0x2c69d2(0x2a4)](),this[_0x2c69d2(0x7ba)][_0x2c69d2(0x1ff)](_0x518de8,_0x585218)):this[_0x2c69d2(0x41f)][_0x2c69d2(0x1ff)](_0x518de8,_0x585218);}async[_0x2358f4(0x211)](){const _0x58373b=_0x2358f4;this[_0x58373b(0x41f)]||this['createSenderConnection'](),await this[_0x58373b(0x41f)][_0x58373b(0x211)]();}async[_0x2358f4(0x5c2)]({offer:_0x37fdd2,version:_0x2ac8a6}){const _0x10ad36=_0x2358f4;this['receiverConnection']||this[_0x10ad36(0x2a4)](),await this[_0x10ad36(0x7ba)][_0x10ad36(0x5c2)](_0x37fdd2,_0x2ac8a6);}async[_0x2358f4(0xa3d)]({answer:_0x405aa3,version:_0xd6d4}){const _0x2fcbfe=_0x2358f4;if(!this['senderConnection'])throw new _0x45bad0(_0x45bad0[_0x2fcbfe(0x297)][_0x2fcbfe(0xa7e)],{'message':_0x2fcbfe(0x90e),'localId':this['getLocalId'](),'remoteId':this[_0x2fcbfe(0x27e)],'answer':_0x405aa3});await this['senderConnection'][_0x2fcbfe(0xa3d)](_0x405aa3,_0xd6d4);}[_0x2358f4(0x5bd)](){const _0x217baa=_0x2358f4;if(!this[_0x217baa(0x7ba)])throw new _0x45bad0(_0x45bad0[_0x217baa(0x297)]['ConnectionNotinitialized'],{'message':_0x217baa(0x814),'localId':this[_0x217baa(0x4a1)](),'remoteId':this[_0x217baa(0x27e)]});this[_0x217baa(0x7ba)][_0x217baa(0x5bd)](),this[_0x217baa(0x65d)]||this[_0x217baa(0x8c6)]!==_0x4f417c[_0x217baa(0x9d9)]||(this[_0x217baa(0x65d)]=!0x0,this[_0x217baa(0x80f)]?.[_0x217baa(0x727)]({'sourceId':this[_0x217baa(0x27e)],'destinationIds':[this[_0x217baa(0x4a1)]()],'messageType':_0x479af2[_0x217baa(0x2ce)],'content':{'type':_0x2a5ce9[_0x217baa(0x576)]}}));}[_0x2358f4(0x6d5)](_0xfa19ee){const _0x580bba=_0x2358f4;this['receiverConnection']||this[_0x580bba(0x2a4)](),this[_0x580bba(0x7ba)]['handleNeedRestart'](_0xfa19ee[_0x580bba(0x97a)]);}[_0x2358f4(0x717)](){const _0xc902df=_0x2358f4;this['senderConnection']=new _0x2f6ded(this[_0xc902df(0x667)],this[_0xc902df(0x68a)],this[_0xc902df(0x27e)],this[_0xc902df(0x922)],this[_0xc902df(0x8c6)],this[_0xc902df(0x290)],this['maxBpp'],this[_0xc902df(0x64b)]),this[_0xc902df(0x41f)][_0xc902df(0x823)](this[_0xc902df(0x80f)]);}[_0x2358f4(0x2a4)](){const _0x2cc64c=_0x2358f4;this[_0x2cc64c(0x7ba)]=new _0x2356f5(this[_0x2cc64c(0x667)],this[_0x2cc64c(0x68a)],this[_0x2cc64c(0x27e)],this[_0x2cc64c(0x922)],this['connectionType'],this[_0x2cc64c(0x64b)]),this[_0x2cc64c(0x7ba)][_0x2cc64c(0x823)](this[_0x2cc64c(0x80f)]),this['receiverUnsubscribers']['push'](this[_0x2cc64c(0x7ba)]['onMessage'](_0x170e86=>this['messageListeners'][_0x2cc64c(0x727)](_0x170e86))),this[_0x2cc64c(0x75a)]['push'](this['receiverConnection']['onTrack']((_0x1d4e54,_0xf85240)=>this[_0x2cc64c(0x947)]['publish']({'track':_0x1d4e54,'stream':_0xf85240}))),this[_0x2cc64c(0x75a)][_0x2cc64c(0x397)](this['receiverConnection'][_0x2cc64c(0x8f9)]((_0x18fbc4,_0xf7ab7)=>this[_0x2cc64c(0x7ef)]['publish']({'track':_0x18fbc4,'stream':_0xf7ab7})));}}class _0x191f7e{[_0x2358f4(0x5b3)];[_0x2358f4(0x248)];['graphService'];[_0x2358f4(0x4d1)]=new Map();[_0x2358f4(0x6b4)]=_0x2365fd();[_0x2358f4(0x1c7)];['dataTopics']=new Map();[_0x2358f4(0x822)]=new Map();[_0x2358f4(0x6bb)]=new Map();constructor(_0x3abc3a,_0x2a59e6,_0x2900d2){const _0x489708=_0x2358f4;this[_0x489708(0x5b3)]=_0x3abc3a,this[_0x489708(0x248)]=_0x2a59e6,this[_0x489708(0x310)]=_0x2900d2,this[_0x489708(0x1c7)]=this[_0x489708(0x9d5)](_0x529501=>{const _0x21f4a3=_0x489708;this[_0x21f4a3(0x248)][_0x21f4a3(0x2e9)](_0x529501[_0x21f4a3(0x474)])||(_0x5c6f67(_0x529501,this[_0x21f4a3(0x5b3)])&&0x0!==_0x529501['topicLabel']&&(this[_0x21f4a3(0x248)][_0x21f4a3(0x3d3)](_0x529501[_0x21f4a3(0x474)]),this[_0x21f4a3(0x99f)]['get'](_0x529501['topicLabel'])?.[_0x21f4a3(0x727)](_0x529501)),_0x529501[_0x21f4a3(0x5c0)]&&this[_0x21f4a3(0x9cd)](_0x529501));});}[_0x2358f4(0x951)](){this['messageUnsubscriber']?.();}[_0x2358f4(0x210)](_0x313a13){const _0x586094=_0x2358f4,_0x3b3af5=_0x313a13[_0x586094(0x9d5)](_0x55c608=>{const _0x2f5e70=_0x586094;this['messageListeners'][_0x2f5e70(0x727)](_0x55c608);});this[_0x586094(0x4d1)][_0x586094(0x851)](_0x313a13,_0x3b3af5),this[_0x586094(0x6bb)][_0x586094(0x851)](_0x313a13[_0x586094(0x700)](),function(_0x5952dc,_0x14d843=!0x1){let _0x4c34cb=new Map();const _0x577cea=_0x41ceec(_0x5952dc,_0x14d843,function(_0x254299){const _0x26ab10=a0_0x34e5;_0x175441(_0x254299)&&_0x4c34cb[_0x26ab10(0x6e6)](_0x254299['sourceId']+'-'+(_0x254299[_0x26ab10(0x8e1)]??[])+'-'+_0x254299[_0x26ab10(0x22d)]+'-'+_0x254299[_0x26ab10(0x5d0)][_0x26ab10(0x5ba)]);},function(_0x2d8e86){return!!function(_0x3efee7){const _0x1afc36=a0_0x34e5,_0xbbec54=_0x3efee7[_0x1afc36(0x808)];if(!_0x175441(_0xbbec54))return!0x1;const _0x564979=_0xbbec54[_0x1afc36(0x240)]+'-'+(_0xbbec54[_0x1afc36(0x8e1)]??[])+'-'+_0xbbec54[_0x1afc36(0x22d)]+'-'+_0xbbec54[_0x1afc36(0x5d0)][_0x1afc36(0x5ba)],_0x5205ff={'version':_0xbbec54['content'][_0x1afc36(0x97a)],'element':_0x3efee7},_0x122687=_0x4c34cb[_0x1afc36(0x879)](_0x564979);return _0x122687?(_0x122687[_0x1afc36(0x97a)]>=_0xbbec54[_0x1afc36(0x5d0)][_0x1afc36(0x97a)]||(_0x122687[_0x1afc36(0x253)][_0x1afc36(0x416)]&&(_0x122687[_0x1afc36(0x253)][_0x1afc36(0x416)][_0x1afc36(0x51c)]=_0x3efee7,_0x3efee7[_0x1afc36(0x416)]=_0x122687[_0x1afc36(0x253)][_0x1afc36(0x416)]),_0x122687['element'][_0x1afc36(0x51c)]&&(_0x122687['element'][_0x1afc36(0x51c)][_0x1afc36(0x416)]=_0x3efee7,_0x3efee7['next']=_0x122687[_0x1afc36(0x253)][_0x1afc36(0x51c)]),_0x122687[_0x1afc36(0x253)]===_0x577cea[_0x1afc36(0x729)]&&(_0x577cea[_0x1afc36(0x729)]=_0x3efee7),_0x122687[_0x1afc36(0x253)]===_0x577cea['tail']&&(_0x577cea[_0x1afc36(0x788)]=_0x3efee7),_0x4c34cb[_0x1afc36(0x851)](_0x564979,_0x5205ff)),!0x0):(_0x4c34cb[_0x1afc36(0x851)](_0x564979,_0x5205ff),!0x1);}(_0x2d8e86);},function(){const _0x4cc018=a0_0x34e5;_0x4c34cb[_0x4cc018(0x375)]();});function _0x175441(_0x1ba951){const _0x4a8a4a=a0_0x34e5;if(_0x1ba951&&'object'==typeof _0x1ba951&&_0x1ba951[_0x4a8a4a(0x2c3)](_0x4a8a4a(0x5d0))&&_0x1ba951[_0x4a8a4a(0x2c3)](_0x4a8a4a(0x22d))&&_0x1ba951[_0x4a8a4a(0x2c3)]('sourceId')){const _0x52ed36=_0x1ba951;if(_0x52ed36[_0x4a8a4a(0x5d0)]&&'object'==typeof _0x52ed36[_0x4a8a4a(0x5d0)]&&_0x52ed36[_0x4a8a4a(0x5d0)][_0x4a8a4a(0x2c3)]('version')&&_0x52ed36[_0x4a8a4a(0x5d0)][_0x4a8a4a(0x2c3)]('type'))return!0x0;}return!0x1;}return _0x577cea;}(new _0x103001(_0xa9fb33=>_0x313a13[_0x586094(0x9cd)](_0xa9fb33),()=>_0x183111[_0x586094(0x983)](0x64))));}[_0x2358f4(0xa25)](_0x4a6e00){const _0xb8ae8=_0x2358f4;this['connections'][_0xb8ae8(0x879)](_0x4a6e00)?.(),this[_0xb8ae8(0x4d1)]['delete'](_0x4a6e00),this[_0xb8ae8(0x6bb)][_0xb8ae8(0x879)](_0x4a6e00[_0xb8ae8(0x700)]())?.['clear'](),this['retryQueues'][_0xb8ae8(0x6e6)](_0x4a6e00[_0xb8ae8(0x700)]());}[_0x2358f4(0x1cd)](_0x5dec6a){const _0x40853a=_0x2358f4;return _0x561d9b[_0x40853a(0x870)](_0x577427[_0x40853a(0x63f)],_0x40853a(0x4b3),this[_0x40853a(0x5b3)],this[_0x40853a(0x4d1)]['keys']()),0x0!==this[_0x40853a(0x4d1)]['size']&&(Array[_0x40853a(0x7ed)](this[_0x40853a(0x4d1)][_0x40853a(0x535)]())[_0x40853a(0x7c6)](_0x37a69d=>_0x37a69d[_0x40853a(0x700)]()===_0x5dec6a)?.['isConnected']()??!0x1);}[_0x2358f4(0x3fe)](_0x44709b){const _0x53281b=_0x2358f4;this[_0x53281b(0x99f)][_0x53281b(0x851)](_0x44709b[_0x53281b(0x674)](),_0x44709b);}[_0x2358f4(0x8a8)](_0x4d6cfa){const _0x221bee=_0x2358f4;this[_0x221bee(0x99f)][_0x221bee(0x6e6)](_0x4d6cfa[_0x221bee(0x674)]());}[_0x2358f4(0x1ee)](_0x1baffa){const _0x35ca80=_0x2358f4,_0x4ad501=_0x1baffa[_0x35ca80(0x6f4)](this[_0x35ca80(0x9cd)][_0x35ca80(0x767)](this));this[_0x35ca80(0x822)]['set'](_0x1baffa[_0x35ca80(0x674)](),_0x4ad501);}[_0x2358f4(0xa4f)](_0x527c77){const _0x1729b8=_0x2358f4;this[_0x1729b8(0x822)][_0x1729b8(0x879)](_0x527c77[_0x1729b8(0x674)]())?.(),this['dataUnsubscribers'][_0x1729b8(0x6e6)](_0x527c77[_0x1729b8(0x674)]());}['getSupportedContentTypes'](){const _0x22d252=_0x2358f4;return[_0x4ab575[_0x22d252(0x7fd)][_0x22d252(0x409)],_0x4ab575['ContentType'][_0x22d252(0x356)],_0x4ab575['ContentType']['ObjectStore'],_0x4ab575[_0x22d252(0x7fd)][_0x22d252(0x212)],_0x4ab575[_0x22d252(0x7fd)]['Job'],_0x4ab575[_0x22d252(0x7fd)]['VectorDatabase'],_0x4ab575[_0x22d252(0x7fd)]['GraphDatabase'],_0x4ab575[_0x22d252(0x7fd)]['ExternalStorage']];}[_0x2358f4(0x9cd)](_0xb70598){const _0x1ebfa3=_0x2358f4;if(!0x1===_0xb70598[_0x1ebfa3(0x8ed)]){if(_0xb70598[_0x1ebfa3(0x5c0)]||!_0xb70598['destinationIds']||0x1!==_0xb70598['destinationIds'][_0x1ebfa3(0x87a)])throw new _0x45bad0(_0x45bad0['codes'][_0x1ebfa3(0x251)],{'message':_0x1ebfa3(0x236),'localId':this[_0x1ebfa3(0x5b3)]});if(!this[_0x1ebfa3(0x1cd)](_0xb70598[_0x1ebfa3(0x8e1)][0x0]))throw new _0x4b95c1(_0x1ebfa3(0x272));}const _0x36ee04=_0xb70598[_0x1ebfa3(0x506)]??[];try{const {filteredDestinationIds:_0x469b0f,extendedRecipients:_0x58d85d}=this[_0x1ebfa3(0x35e)](_0xb70598,_0x36ee04);_0xb70598[_0x1ebfa3(0x8e1)]=_0x469b0f,_0xb70598[_0x1ebfa3(0x506)]=_0x58d85d;}catch(_0x5346ea){if(_0x5346ea instanceof _0x4b95c1)return void _0x561d9b[_0x1ebfa3(0x870)](_0x577427[_0x1ebfa3(0xa96)],_0x1ebfa3(0x6e9),'Early\x20return',_0xb70598,_0x5346ea[_0x1ebfa3(0x71e)]);}const _0x42b2d3=this[_0x1ebfa3(0x31e)](_0xb70598);this[_0x1ebfa3(0x1df)](_0xb70598,_0x42b2d3),_0xb70598['propagate']=_0x42b2d3;const _0x1397ee=this[_0x1ebfa3(0x82c)](_0xb70598,_0x36ee04);for(const _0x15cf6f of _0x1397ee){const _0x1a55f8=this['retryQueues'][_0x1ebfa3(0x879)](_0x15cf6f[_0x1ebfa3(0x700)]());if(!_0x1a55f8)throw new _0x45bad0(_0x45bad0['codes']['ConnectionNoRetryQueue'],{'message':_0x1ebfa3(0x49f),'localId':this[_0x1ebfa3(0x5b3)],'remoteId':_0x15cf6f[_0x1ebfa3(0x700)](),'data':_0xb70598});_0x1a55f8['push'](_0xb70598);}}['getRemoteId'](){return'';}[_0x2358f4(0x4a1)](){const _0xafeba4=_0x2358f4;return this[_0xafeba4(0x5b3)];}[_0x2358f4(0x9d5)](_0x279165){const _0x4b81d4=_0x2358f4;return this[_0x4b81d4(0x6b4)][_0x4b81d4(0x6f4)](_0x279165);}[_0x2358f4(0x35e)](_0x3fff67,_0x379209){const _0xed52a3=_0x2358f4,_0x310f56={'filteredDestinationIds':_0x3fff67[_0xed52a3(0x8e1)],'extendedRecipients':_0x3fff67['recipients']};if(!_0x3fff67[_0xed52a3(0x5c0)])return _0x310f56;const _0x1a675e=Array['from'](this['connections']['keys']())[_0xed52a3(0x829)](_0x2a1528=>_0x2a1528['getConnectionType']()===_0x4f417c['Core']||_0x2a1528[_0xed52a3(0x1cd)]())[_0xed52a3(0x8d9)](_0x195e28=>_0x195e28[_0xed52a3(0x700)]());if(_0x1a675e[_0xed52a3(0x2fe)]((_0x131450,_0x56c06b)=>_0x131450&&_0x3fff67[_0xed52a3(0x506)][_0xed52a3(0x877)](_0x56c06b),!0x0))throw new _0x4b95c1(_0xed52a3(0xa84));if(_0x3fff67[_0xed52a3(0x8e1)]){const _0x35e125=_0x3fff67[_0xed52a3(0x8e1)][_0xed52a3(0x829)](_0x1258a9=>_0x1258a9!==this[_0xed52a3(0x5b3)]&&!_0x3fff67['recipients'][_0xed52a3(0x877)](_0x1258a9));if(0x0===_0x35e125[_0xed52a3(0x87a)])throw new _0x4b95c1(_0xed52a3(0xa3b));_0x310f56[_0xed52a3(0xa8a)]=_0x35e125;}return _0x310f56[_0xed52a3(0x445)]=[...new Set([..._0x379209,..._0x1a675e,this[_0xed52a3(0x5b3)]])],_0x310f56;}[_0x2358f4(0x1df)](_0x4c80cc,_0x29e8eb=!0x1){const _0x2dfac0=_0x2358f4;if(0x0===_0x4c80cc[_0x2dfac0(0x522)]&&!_0x2f0cdd(_0x4c80cc,this[_0x2dfac0(0x5b3)])&&_0x4c80cc[_0x2dfac0(0x5c0)]){const _0x586f4e=_0x128275(_0x4c80cc,this['localId']);_0x561d9b[_0x2dfac0(0x4eb)](_0x577427[_0x2dfac0(0x7ea)],_0x4c80cc['uuid']+_0x2dfac0(0x5f6)+_0x29e8eb+')\x20'+_0x586f4e,_0x4c80cc,_0x29e8eb);}}[_0x2358f4(0x31e)](_0x5b3245){const _0x348868=_0x2358f4;if(_0x5b3245['destinationIds']&&_0x5b3245[_0x348868(0x5c0)]){const _0x52c8f1=Array[_0x348868(0x7ed)](this[_0x348868(0x4d1)][_0x348868(0x535)]())[_0x348868(0x829)](_0x4252f1=>_0x4252f1[_0x348868(0xa2e)]()===_0x4f417c[_0x348868(0x876)]||_0x4252f1[_0x348868(0x1cd)]())[_0x348868(0x8d9)](_0x448a25=>_0x448a25['getRemoteId']());return!_0x5b3245['destinationIds'][_0x348868(0x2fe)]((_0x4401ac,_0x28aae2)=>_0x4401ac&&_0x52c8f1[_0x348868(0x877)](_0x28aae2),!0x0);}return _0x5b3245[_0x348868(0x5c0)]??!0x1;}['getConnectionDestinations'](_0xfdf674,_0x3e96a9){const _0x3beacf=_0x2358f4;if(_0xfdf674[_0x3beacf(0x5c0)]&&_0xfdf674[_0x3beacf(0x8e1)]){const _0x5680a8=Array[_0x3beacf(0x7ed)](this[_0x3beacf(0x4d1)]['keys']())[_0x3beacf(0x829)](_0x7b47c=>_0x7b47c['getConnectionType']()===_0x4f417c[_0x3beacf(0x876)]||_0x7b47c[_0x3beacf(0x1cd)]())[_0x3beacf(0x8d9)](_0x8daba2=>_0x8daba2['getRemoteId']()),_0x337e88=new Set(),_0x1cbe79=_0xfdf674['sourceId']===this[_0x3beacf(0x5b3)]?0x3:0x1;return _0xfdf674['destinationIds'][_0x3beacf(0x37b)](_0x4b6f2b=>{const _0x2b0930=_0x3beacf,_0x1a1768=this[_0x2b0930(0x310)][_0x2b0930(0x52f)](_0x5680a8,_0x4b6f2b);let _0x28878d=0x0,_0x10179f=0x0;_0x1a1768[_0x2b0930(0x37b)](_0x35dfa3=>{const _0x1c99c3=_0x2b0930;if(_0x28878d>=_0x1cbe79)return;const _0x400f0c=Array[_0x1c99c3(0x7ed)](this[_0x1c99c3(0x4d1)][_0x1c99c3(0x535)]())[_0x1c99c3(0x7c6)](_0x2b1607=>_0x2b1607['getRemoteId']()===_0x35dfa3);if(_0x400f0c){if(_0x400f0c[_0x1c99c3(0xa2e)]()===_0x4f417c[_0x1c99c3(0x876)]&&_0x10179f>0x0)return void(_0x10179f-=0x1);_0x337e88[_0x1c99c3(0x845)](_0x400f0c),_0x400f0c[_0x1c99c3(0xa2e)]()===_0x4f417c[_0x1c99c3(0x9d9)]&&(_0x10179f+=0x1),_0x28878d+=0x1;}});}),Array['from'](_0x337e88);}return Array[_0x3beacf(0x7ed)](this[_0x3beacf(0x4d1)]['keys']())['filter'](_0x3b2828=>{const _0x2e8a34=_0x3beacf;return _0xc9846e=_0x3b2828['getRemoteId'](),!_0x3e96a9['includes'](_0xc9846e)&&(_0x5c6f67(_0xfdf674,_0xc9846e)||_0xfdf674[_0x2e8a34(0x5c0)])&&(!_0xfdf674[_0x2e8a34(0x5c0)]||_0x3b2828[_0x2e8a34(0x1cd)]()||_0x3b2828[_0x2e8a34(0xa2e)]()===_0x4f417c[_0x2e8a34(0x876)]);var _0xc9846e;});}}class _0xf03f30{[_0x2358f4(0x5b3)];[_0x2358f4(0x248)];[_0x2358f4(0x4d1)]=new Map();[_0x2358f4(0x80f)];constructor(_0x1680e2,_0x24b939){const _0x502133=_0x2358f4;this[_0x502133(0x5b3)]=_0x1680e2,this[_0x502133(0x248)]=_0x24b939;}[_0x2358f4(0x951)](){}[_0x2358f4(0x9cd)](_0x568710){const _0x15dd71=_0x2358f4;for(const _0xd149a1 of this['connections']['keys']())try{return void _0xd149a1['send']({'retry':!0x1,..._0x568710});}catch(_0x1b2adc){_0x1b2adc instanceof _0x4b95c1||_0x561d9b[_0x15dd71(0x870)](_0x577427['Pool'],_0x15dd71(0x6c0)+_0xd149a1,_0x1b2adc,_0x568710);}_0x561d9b[_0x15dd71(0x870)](_0x577427[_0x15dd71(0x8dc)],_0x15dd71(0x8b4));}[_0x2358f4(0x210)](_0x5e8dce){const _0xa3e8dc=_0x2358f4,_0xb195fe=_0x5e8dce[_0xa3e8dc(0x9d5)](_0x3c9c55=>{const _0x40437b=_0xa3e8dc;this[_0x40437b(0x248)]['hasMessage'](_0x3c9c55['uuid'])||0x0===_0x3c9c55[_0x40437b(0x522)]&&(this[_0x40437b(0x248)][_0x40437b(0x3d3)](_0x3c9c55[_0x40437b(0x474)]),_0x5c6f67(_0x3c9c55,this[_0x40437b(0x5b3)])&&this['systemTopic']?.[_0x40437b(0x727)](_0x3c9c55));});this[_0xa3e8dc(0x4d1)][_0xa3e8dc(0x851)](_0x5e8dce,_0xb195fe);}[_0x2358f4(0xa25)](_0x285c75){const _0x25e312=_0x2358f4;this['connections'][_0x25e312(0x879)](_0x285c75)?.(),this['connections'][_0x25e312(0x6e6)](_0x285c75);}[_0x2358f4(0x4a1)](){const _0x563e81=_0x2358f4;return this[_0x563e81(0x5b3)];}[_0x2358f4(0x700)](){return'';}[_0x2358f4(0x5f1)](){const _0x415787=_0x2358f4;return[_0x4ab575['ContentType'][_0x415787(0x409)]];}[_0x2358f4(0x1cd)](){const _0x10ac7c=_0x2358f4;throw new Error(_0x10ac7c(0x6f9));}[_0x2358f4(0x823)](_0x191329){const _0x11f2f1=_0x2358f4;this[_0x11f2f1(0x80f)]=_0x191329;}['unregisterSystemPublisher'](){const _0x3ad957=_0x2358f4;delete this[_0x3ad957(0x80f)];}}class _0x28514f{['buffer']=new Map();['unsubscribeHandler'];constructor(){const _0x4820a2=_0x2358f4;this[_0x4820a2(0x264)]=_0x183111['setInterval'](()=>{const _0x31ebfc=_0x4820a2;for(const [_0x261db9,_0xa8bafb]of this[_0x31ebfc(0x761)][_0x31ebfc(0x1c6)]())Date[_0x31ebfc(0x58d)]()-_0xa8bafb>0x124f80&&this['buffer'][_0x31ebfc(0x6e6)](_0x261db9);},0x1d4c0);}[_0x2358f4(0x951)](){this['unsubscribeHandler']();}[_0x2358f4(0x3d3)](_0x5c6d14){const _0x20a8de=_0x2358f4;this['buffer']['set'](_0x5c6d14,Date[_0x20a8de(0x58d)]());}['hasMessage'](_0x439110){const _0x442089=_0x2358f4;return this[_0x442089(0x761)][_0x442089(0x3d0)](_0x439110);}}class _0x3fadea{[_0x2358f4(0xa9e)];[_0x2358f4(0x957)];[_0x2358f4(0x922)];[_0x2358f4(0x56f)];[_0x2358f4(0x4d1)]=new Map();[_0x2358f4(0x611)];['connectionGroup'];[_0x2358f4(0x330)];[_0x2358f4(0x248)];constructor(_0x2f9097,_0xb46daa,_0xd768f5,_0x3c8138,_0x468ecb){const _0x5e00d8=_0x2358f4;this[_0x5e00d8(0xa9e)]=_0x2f9097,this[_0x5e00d8(0x957)]=_0xb46daa,this[_0x5e00d8(0x922)]=_0x3c8138,this[_0x5e00d8(0x56f)]=_0x468ecb,this[_0x5e00d8(0x248)]=new _0x28514f(),this[_0x5e00d8(0x8a0)]=new _0x191f7e(this['configs'][_0x5e00d8(0x68a)][_0x5e00d8(0x7b4)](),this[_0x5e00d8(0x248)],_0xd768f5),this[_0x5e00d8(0x330)]=new _0x533845(this[_0x5e00d8(0xa9e)]['vendorId'],this[_0x5e00d8(0xa9e)]['clusterId'],this[_0x5e00d8(0xa9e)]['localNode'],_0x5e00d8(0x771),this[_0x5e00d8(0x957)]),this[_0x5e00d8(0x611)]=new _0xf03f30(this['configs']['localNode'][_0x5e00d8(0x7b4)](),this['messageBuffer']),this['connectionPool'][_0x5e00d8(0x210)](this[_0x5e00d8(0x8a0)]),this['connectionPool'][_0x5e00d8(0x210)](this[_0x5e00d8(0x330)]),this[_0x5e00d8(0xa9e)][_0x5e00d8(0x4d4)][_0x5e00d8(0x642)](this['connectionPool']);}['close'](){const _0xc42ab9=_0x2358f4;this['messageBuffer'][_0xc42ab9(0x951)](),this['connections'][_0xc42ab9(0x37b)]((_0xd17af6,_0x188cc1)=>this[_0xc42ab9(0x5e5)](_0x188cc1)),this['configs'][_0xc42ab9(0x4d4)][_0xc42ab9(0x32c)](this[_0xc42ab9(0x611)]),this[_0xc42ab9(0x611)]['removeConnection'](this[_0xc42ab9(0x330)]),this[_0xc42ab9(0x611)]['removeConnection'](this[_0xc42ab9(0x8a0)]),this[_0xc42ab9(0x611)][_0xc42ab9(0x951)](),this[_0xc42ab9(0x330)][_0xc42ab9(0x951)](),this[_0xc42ab9(0x8a0)][_0xc42ab9(0x951)]();}async['initialize'](){const _0x597b57=_0x2358f4;await this[_0x597b57(0x330)][_0x597b57(0x40f)]();}async[_0x2358f4(0x7fe)](_0x2a1815,_0x140bb8=_0x4f417c[_0x2358f4(0x876)]){const _0x2e5cbc=_0x2358f4;if(this[_0x2e5cbc(0x4d1)][_0x2e5cbc(0x3d0)](_0x2a1815)){if(this[_0x2e5cbc(0x4d1)][_0x2e5cbc(0x879)](_0x2a1815)?.[_0x2e5cbc(0xa2e)]()===_0x4f417c[_0x2e5cbc(0x9d9)]&&_0x140bb8===_0x4f417c['Core'])return void this['connections']['get'](_0x2a1815)?.['setConnectionType'](_0x4f417c['Core']);throw new _0x45bad0(_0x45bad0[_0x2e5cbc(0x297)][_0x2e5cbc(0x795)],{'localId':this[_0x2e5cbc(0xa9e)][_0x2e5cbc(0x68a)][_0x2e5cbc(0x7b4)](),'remoteId':_0x2a1815});}const _0x4fbcad=new _0x686960(this[_0x2e5cbc(0xa9e)]['clusterId'],this[_0x2e5cbc(0xa9e)][_0x2e5cbc(0x68a)],_0x2a1815,this[_0x2e5cbc(0x922)],_0x140bb8,this[_0x2e5cbc(0x56f)][_0x2e5cbc(0x290)],this[_0x2e5cbc(0x56f)][_0x2e5cbc(0xa27)],this[_0x2e5cbc(0x56f)][_0x2e5cbc(0x53c)]);this['connections'][_0x2e5cbc(0x851)](_0x2a1815,_0x4fbcad),this[_0x2e5cbc(0x8a0)][_0x2e5cbc(0x210)](_0x4fbcad),this[_0x2e5cbc(0xa9e)][_0x2e5cbc(0x4d4)]['registerSystemSource'](_0x4fbcad),this[_0x2e5cbc(0xa9e)][_0x2e5cbc(0x4d4)][_0x2e5cbc(0x7bf)](_0x2a1815),await _0x4fbcad[_0x2e5cbc(0x40f)]();}[_0x2358f4(0x6c9)](){return this['connectionGroup'];}[_0x2358f4(0x2dc)](_0x2b27e7){const _0x3371e4=_0x2358f4;if(!this['connections'][_0x3371e4(0x3d0)](_0x2b27e7))throw new _0x45bad0(_0x45bad0[_0x3371e4(0x297)][_0x3371e4(0x59d)],{'localId':this[_0x3371e4(0xa9e)][_0x3371e4(0x68a)][_0x3371e4(0x7b4)](),'remoteId':_0x2b27e7});return this['connections']['get'](_0x2b27e7);}['getConnections'](_0x2e8b0d){const _0x21918d=_0x2358f4,_0x5a7826=Array[_0x21918d(0x7ed)](this[_0x21918d(0x4d1)][_0x21918d(0x55b)]());return _0x2e8b0d?_0x5a7826['filter'](_0x2e8b0d):_0x5a7826;}async[_0x2358f4(0x728)](_0x417c23){const _0x154b41=_0x2358f4,_0x535347=this[_0x154b41(0x4d1)][_0x154b41(0x879)](_0x417c23);_0x535347&&_0x535347[_0x154b41(0x1cd)]()&&await _0x535347[_0x154b41(0x728)]();}[_0x2358f4(0x6db)](_0x295e1c){const _0x21d63e=_0x2358f4;if(_0x295e1c[_0x21d63e(0x22d)]!==_0x479af2[_0x21d63e(0x2ce)]||_0x295e1c[_0x21d63e(0x5c0)])try{this[_0x21d63e(0x8a0)]['send'](_0x295e1c);}catch(_0x19327c){if(_0x19327c instanceof _0x4b95c1)return;throw _0x19327c;}else this[_0x21d63e(0x611)]['send'](_0x295e1c);}async[_0x2358f4(0x89e)](_0x4dfe4c){const _0x2e86ec=_0x2358f4;switch(_0x4dfe4c['content']['type']){case _0x2a5ce9[_0x2e86ec(0xa56)]:case _0x2a5ce9[_0x2e86ec(0x2be)]:case _0x2a5ce9[_0x2e86ec(0x576)]:return;}if(!_0x4dfe4c[_0x2e86ec(0x8e1)]||0x1!==_0x4dfe4c[_0x2e86ec(0x8e1)][_0x2e86ec(0x87a)])throw new _0x45bad0(_0x45bad0[_0x2e86ec(0x297)]['PeerConnectionInvalidDestination'],{'message':_0x2e86ec(0x3d6),'event':_0x4dfe4c});if(_0x4dfe4c[_0x2e86ec(0x8e1)][0x0]!==this[_0x2e86ec(0xa9e)][_0x2e86ec(0x68a)][_0x2e86ec(0x7b4)]())throw new _0x45bad0(_0x45bad0[_0x2e86ec(0x297)][_0x2e86ec(0x602)],{'message':_0x2e86ec(0x61f),'event':_0x4dfe4c});if(!this[_0x2e86ec(0x4d1)]['has'](_0x4dfe4c[_0x2e86ec(0x240)])){let _0x527da4=_0x4f417c[_0x2e86ec(0x876)];if(!(this['isOffer'](_0x4dfe4c[_0x2e86ec(0x5d0)])||this[_0x2e86ec(0x9f6)](_0x4dfe4c[_0x2e86ec(0x5d0)])||this[_0x2e86ec(0x81d)](_0x4dfe4c[_0x2e86ec(0x5d0)])))return;_0x527da4=_0x4dfe4c['content']['connectionType'],await this[_0x2e86ec(0x7fe)](_0x4dfe4c[_0x2e86ec(0x240)],_0x527da4);}const _0x238301=this[_0x2e86ec(0x4d1)][_0x2e86ec(0x879)](_0x4dfe4c[_0x2e86ec(0x240)]);await _0x238301[_0x2e86ec(0x89e)](_0x4dfe4c);}[_0x2358f4(0xa3f)](_0x41df81){const _0x66e06c=_0x2358f4;if(_0x41df81[_0x66e06c(0x5d0)][_0x66e06c(0x5ba)]===_0x2e1292[_0x66e06c(0x6c3)]){if(_0x41df81['content']['targetId']===this['configs'][_0x66e06c(0x68a)][_0x66e06c(0x7b4)]())return void this[_0x66e06c(0x4d1)][_0x66e06c(0x37b)](_0x534bfa=>_0x534bfa['handleRemediationSystemEvents'](_0x41df81));this[_0x66e06c(0x4d1)]['get'](_0x41df81[_0x66e06c(0x5d0)][_0x66e06c(0x4e8)])?.[_0x66e06c(0xa3f)](_0x41df81);}}[_0x2358f4(0x671)]({content:_0x489252}){const _0x444779=_0x2358f4;_0x489252[_0x444779(0x5ba)]===_0x518128[_0x444779(0x3ff)]&&this[_0x444779(0x5e5)](_0x489252['id']);}[_0x2358f4(0x276)](){const _0x97fdd8=_0x2358f4,_0x3bc158=Array[_0x97fdd8(0x7ed)](this['connections'][_0x97fdd8(0x55b)]())[_0x97fdd8(0x2fe)]((_0x165767,_0x4275ca)=>_0x165767+_0x4275ca[_0x97fdd8(0x3a8)](),0x0);return _0x3bc158<_0x555ca3?Promise[_0x97fdd8(0x48c)](_0x3bc158):new Promise(_0x5d99f1=>{const _0x232a5f=setInterval(()=>{const _0x1d0b98=a0_0x34e5,_0x324b77=Array['from'](this['connections'][_0x1d0b98(0x55b)]())[_0x1d0b98(0x2fe)]((_0x291e86,_0x16b28d)=>_0x291e86+_0x16b28d[_0x1d0b98(0x3a8)](),0x0);_0x324b77<_0x555ca3&&(clearInterval(_0x232a5f),_0x5d99f1(_0x324b77));},0x3e8);});}[_0x2358f4(0x4fa)](){const _0x1f41ad=_0x2358f4;for(const _0x4126f0 of this[_0x1f41ad(0x4d1)][_0x1f41ad(0x55b)]())if(_0x4126f0[_0x1f41ad(0x250)]()>0x0||_0x4126f0[_0x1f41ad(0x3a8)]()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x189706){const _0x539fb8=_0x2358f4,_0x549fbb=this[_0x539fb8(0x4d1)][_0x539fb8(0x879)](_0x189706);_0x549fbb&&(this[_0x539fb8(0xa9e)][_0x539fb8(0x4d4)][_0x539fb8(0x42e)](_0x189706),this['configs']['mediator'][_0x539fb8(0x32c)](_0x549fbb),_0x549fbb instanceof _0x686960&&this[_0x539fb8(0x8a0)]['removeConnection'](_0x549fbb),_0x549fbb[_0x539fb8(0x951)](),this[_0x539fb8(0x4d1)]['delete'](_0x189706));}['isOffer'](_0x55d5f8){const _0x52e609=_0x2358f4;return _0x55d5f8[_0x52e609(0x5ba)]===_0x2a5ce9[_0x52e609(0x27c)];}[_0x2358f4(0x81d)](_0x25fa7f){const _0x48a57b=_0x2358f4;return _0x25fa7f['type']===_0x2a5ce9[_0x48a57b(0x440)];}[_0x2358f4(0x9f6)](_0x2638cb){const _0x4a90e7=_0x2358f4;return _0x2638cb[_0x4a90e7(0x5ba)]===_0x2a5ce9[_0x4a90e7(0x47b)];}}!function(_0x10fd96){const _0x3391bf=_0x2358f4;_0x10fd96[_0x10fd96[_0x3391bf(0x213)]=0x0]=_0x3391bf(0x213),_0x10fd96[_0x10fd96[_0x3391bf(0x456)]=0x1]=_0x3391bf(0x456),_0x10fd96[_0x10fd96[_0x3391bf(0x245)]=0x2]=_0x3391bf(0x245),_0x10fd96[_0x10fd96[_0x3391bf(0x895)]=0x3]=_0x3391bf(0x895),_0x10fd96[_0x10fd96[_0x3391bf(0x361)]=0x4]='RestartNeedMediaStream',_0x10fd96[_0x10fd96[_0x3391bf(0x6ee)]=0x5]='CanProvideMediaStream',_0x10fd96[_0x10fd96[_0x3391bf(0xa69)]=0x6]=_0x3391bf(0xa69),_0x10fd96[_0x10fd96['MediaStreamUnavailable']=0x7]='MediaStreamUnavailable';}(_0x4a489a||(_0x4a489a={}));class _0x144c62 extends _0xa6bf6b{[_0x2358f4(0x68a)];[_0x2358f4(0x667)];[_0x2358f4(0xa0a)];['connectorConstructor'];[_0x2358f4(0x247)];['reads']=0x0;[_0x2358f4(0x38c)];[_0x2358f4(0x266)]=_0x2365fd();[_0x2358f4(0x6e5)]=new Map();[_0x2358f4(0x856)];constructor(_0x23013a,_0x4f20e0,_0x643f7f,_0x4c2f8d,_0x1617e0){const _0x4a81cb=_0x2358f4;if(_0x4a81cb(0x991)!=typeof _0x4f20e0)throw new _0x5af266(_0x3412d7[_0x4a81cb(0x6cc)],_0x4a81cb(0x59a));super(_0x23013a,_0x4f20e0),this[_0x4a81cb(0x68a)]=_0x23013a,this[_0x4a81cb(0x667)]=_0x643f7f,this[_0x4a81cb(0xa0a)]=_0x4c2f8d,this[_0x4a81cb(0x781)]=_0x1617e0,this['sendStats']();}[_0x2358f4(0x816)](){const _0x142fa4=_0x2358f4;this[_0x142fa4(0x856)]?.(),this[_0x142fa4(0x6e5)][_0x142fa4(0x37b)](_0x1c46c6=>_0x1c46c6()),clearTimeout(this[_0x142fa4(0x247)]),delete this['debounceStats'],super[_0x142fa4(0x816)]();}[_0x2358f4(0x7c3)](){const _0x3bb4a7=_0x2358f4;this[_0x3bb4a7(0x44c)]();}['close'](){const _0x185f77=_0x2358f4;this[_0x185f77(0x80f)][_0x185f77(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x185f77(0x60f)],'content':{'type':_0x2d88a4[_0x185f77(0x5b4)],'label':this[_0x185f77(0x2bb)]}});}['getContentType'](){const _0x38e509=_0x2358f4;return _0x4ab575[_0x38e509(0x7fd)][_0x38e509(0x9cf)];}async[_0x2358f4(0x879)](_0x1c0c8b){const _0x353fbc=_0x2358f4;if(!this['connector'])throw new _0x5af266(_0x3412d7[_0x353fbc(0x634)],_0x353fbc(0x1e4));_0x561d9b[_0x353fbc(0x8a4)](_0x4ae419['ExternalStorage'],{'type':_0x353fbc(0x879),'label':this[_0x353fbc(0x2bb)],'nodeId':this[_0x353fbc(0x68a)][_0x353fbc(0x7b4)](),'nodeType':this[_0x353fbc(0x68a)]['type'],'clusterId':this[_0x353fbc(0x667)],'path':_0x1c0c8b}),this[_0x353fbc(0x672)]+=0x1,this[_0x353fbc(0x44c)]();try{return await this[_0x353fbc(0x38c)][_0x353fbc(0x879)](_0x1c0c8b);}catch(_0x3d7194){throw new _0x5af266(_0x3412d7[_0x353fbc(0x9e7)],_0x353fbc(0x258)+_0x1c0c8b);}}async[_0x2358f4(0x1d7)](_0x49a3ab,_0x3c2a0d){const _0x4422c2=_0x2358f4;if(!this[_0x4422c2(0x38c)])throw new _0x5af266(_0x3412d7[_0x4422c2(0x634)],_0x4422c2(0x4de));const {recursive:_0x277f4d=!0x1}=_0x3c2a0d??{};_0x561d9b['logServiceEvent'](_0x4ae419['ExternalStorage'],{'type':_0x4422c2(0x1d7),'label':this[_0x4422c2(0x2bb)],'nodeId':this[_0x4422c2(0x68a)][_0x4422c2(0x7b4)](),'nodeType':this[_0x4422c2(0x68a)]['type'],'clusterId':this[_0x4422c2(0x667)],'path':_0x49a3ab}),this['reads']+=0x1,this[_0x4422c2(0x44c)]();try{return await this[_0x4422c2(0x38c)][_0x4422c2(0x1d7)](_0x49a3ab,_0x277f4d);}catch(_0x5eed25){throw new _0x5af266(_0x3412d7[_0x4422c2(0x9e7)],_0x4422c2(0x8c0)+_0x49a3ab);}}[_0x2358f4(0x6f4)](_0x205e03,_0x36efb6){const _0x31e31e=_0x2358f4;if(this[_0x31e31e(0x6e5)][_0x31e31e(0x3d0)](_0x205e03))throw new _0x5af266(_0x3412d7[_0x31e31e(0x49b)],_0x31e31e(0x3da));this[_0x31e31e(0x6e5)][_0x31e31e(0x851)](_0x205e03,this[_0x31e31e(0x266)][_0x31e31e(0x6f4)](_0x36efb6));}[_0x2358f4(0x353)](_0x2d43b2){const _0x5a65e7=_0x2358f4;this[_0x5a65e7(0x6e5)][_0x5a65e7(0x879)](_0x2d43b2)?.(),this['listenerUnsubscribers'][_0x5a65e7(0x6e6)](_0x2d43b2);}async['open'](){const _0x26eb76=_0x2358f4,_0x2a2f15=(await(0x0,_0x36f88f[_0x26eb76(0x9c0)])((0x0,_0x36f88f[_0x26eb76(0x747)])(_0x1eef3c[_0x26eb76(0x44d)](),'/developers/'+this[_0x26eb76(0xa0a)]+_0x26eb76(0x3e5)+this['label'])))[_0x26eb76(0x562)]();if(!_0x2a2f15)throw new _0x5af266(_0x3412d7['ExternalStorageConnectionDoesNotExist'],_0x26eb76(0x312)+this['label']);const {site:_0x52869b,drive:_0x1649a8}=_0x2a2f15,_0x56bbf3=(await(0x0,_0x61dd54['httpsCallable'])(_0x1eef3c[_0x26eb76(0x3d5)](),_0x26eb76(0x25d))({'storageId':this['label']}))[_0x26eb76(0x562)][_0x26eb76(0x88e)];this[_0x26eb76(0x38c)]=new this['connectorConstructor'](_0x52869b['id'],_0x1649a8['id'],_0x56bbf3,async()=>(await(0x0,_0x61dd54[_0x26eb76(0x299)])(_0x1eef3c[_0x26eb76(0x3d5)](),'msalRefreshToken')({'storageId':this[_0x26eb76(0x2bb)]}))[_0x26eb76(0x562)]['accessToken']),this[_0x26eb76(0x516)]();}[_0x2358f4(0x44c)](){const _0x13ffc1=_0x2358f4;this[_0x13ffc1(0x247)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0xb933b9=_0x13ffc1;delete this[_0xb933b9(0x247)],this[_0xb933b9(0x80f)][_0xb933b9(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0xb933b9(0x60f)],'content':{'type':_0x2d88a4[_0xb933b9(0x637)],'label':this[_0xb933b9(0x2bb)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0xb933b9(0x672)],'prompts':0x0,'tokens':0x0}}});},_0x9a9f66);}async[_0x2358f4(0x516)](){const _0x38f021=_0x2358f4;await this[_0x38f021(0x38c)]?.[_0x38f021(0x21c)](),this[_0x38f021(0x856)]=_0x183111[_0x38f021(0x586)](async()=>{const _0x491f01=_0x38f021;try{if(!this['connector'])return;const _0x1b89ab=await this[_0x491f01(0x38c)][_0x491f01(0x21c)]();for(const _0x12733e of _0x1b89ab)this['eventListener'][_0x491f01(0x727)](_0x12733e);}catch(_0x4ef7df){}},0x493e0);}}const _0x38eda3=require('rxjs');class _0x24285e extends _0xa6bf6b{[_0x2358f4(0x310)];['jobs']=new Map();[_0x2358f4(0x996)]=new Map();[_0x2358f4(0x826)]=new Map();[_0x2358f4(0x264)];constructor(_0x15f26c,_0x3e9d31,_0x55b9b9){const _0x530469=_0x2358f4;super(_0x15f26c,_0x3e9d31),this[_0x530469(0x310)]=_0x55b9b9;}[_0x2358f4(0x8d8)](){const _0x3addaf=_0x2358f4;return _0x4ab575['ContentType'][_0x3addaf(0xaa4)];}[_0x2358f4(0x1ed)](){const _0x507f53=_0x2358f4;this[_0x507f53(0x264)]=this[_0x507f53(0x9d5)]((_0x33885c,_0x4a703e)=>{const _0x38b312=_0x507f53;if(_0x561d9b[_0x38b312(0x870)](_0x577427[_0x38b312(0x6fd)],_0x38b312(0x589),_0x33885c,_0x4a703e,this['graphService'][_0x38b312(0x78f)]()),!(_0x4a703e instanceof File)){if(!_0x4a703e)throw new _0x45bad0(_0x45bad0[_0x38b312(0x297)][_0x38b312(0x84d)]);return this['isBidResponse'](_0x4a703e)?this[_0x38b312(0x3cb)](_0x33885c,_0x4a703e['id'],_0x4a703e):this[_0x38b312(0x32b)](_0x4a703e)?(_0x561d9b[_0x38b312(0x870)](_0x577427['Jobs'],_0x38b312(0x831)+_0x4a703e['id']+_0x38b312(0x365),_0x4a703e[_0x38b312(0x79c)]),void this[_0x38b312(0x989)](_0x4a703e['id'],_0x4a703e)):this[_0x38b312(0x3c7)](_0x4a703e)?(_0x561d9b[_0x38b312(0x870)](_0x577427[_0x38b312(0x6fd)],_0x38b312(0x831)+_0x4a703e['id']+_0x38b312(0x77c),_0x4a703e['result']),void this['evaluateProccessedJob'](_0x4a703e['id'],_0x4a703e)):void(this[_0x38b312(0x202)](_0x4a703e)&&this[_0x38b312(0x5ad)](_0x4a703e['id'],_0x4a703e[_0x38b312(0x71e)]));}});}[_0x2358f4(0x7c3)](){this['clear'](),this['open']();}[_0x2358f4(0x816)](){this['clear'](),super['destroy']();}['clear'](){this['jobs']['clear'](),this['unsubscribeHandler']&&this['unsubscribeHandler']();}[_0x2358f4(0x951)](){const _0x1d057b=_0x2358f4;this[_0x1d057b(0x80f)]?.['publish']({'sourceId':_0x48ff0f,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4['CloseJobDispatcher'],'label':this['label']}});}async[_0x2358f4(0x217)](_0x148d14){const _0x4f0914=_0x2358f4,{id:_0x4a2163,parameters:_0x27f612,jobType:_0x365c7d}=_0x148d14,_0x19fd2f={'id':_0x4a2163,'jobType':_0x365c7d,'parameters':_0x27f612,'status':_0x4ab575['JobStatus']['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x4f0914(0x79b)][_0x4f0914(0x3d0)](_0x19fd2f['id']))throw new _0x5af266(_0x3412d7[_0x4f0914(0x5b7)],'Job\x20with\x20id\x20'+_0x19fd2f['id']+_0x4f0914(0x7d4));_0x19fd2f[_0x4f0914(0xa76)]=new Date(),_0x19fd2f[_0x4f0914(0x1b5)]=new Date();const _0x3fef99=new _0x38eda3[(_0x4f0914(0x349))]();this[_0x4f0914(0x79b)][_0x4f0914(0x851)](_0x19fd2f['id'],_0x19fd2f),this['jobObservers'][_0x4f0914(0x851)](_0x19fd2f['id'],_0x3fef99);try{const _0x3a69f0={'id':_0x19fd2f['id'],'jobPhase':_0x4cc4c4[_0x4f0914(0x701)],'jobType':_0x19fd2f[_0x4f0914(0x9e1)]},_0x4c1953=0x3;let _0xfc260e=0x0;const _0x302512=async()=>{const _0x2e631e=_0x4f0914;_0xfc260e+=0x1;try{_0x561d9b[_0x2e631e(0x870)](_0x577427[_0x2e631e(0x6fd)],_0x2e631e(0x831)+_0x19fd2f['id']+_0x2e631e(0x6b6)+_0xfc260e+'.',this[_0x2e631e(0x310)][_0x2e631e(0x78f)]()),await this[_0x2e631e(0x9cd)](_0x3a69f0),_0x19fd2f[_0x2e631e(0x1b5)]=new Date(),this[_0x2e631e(0x79b)][_0x2e631e(0x851)](_0x19fd2f['id'],_0x19fd2f),this[_0x2e631e(0x1ac)](_0x19fd2f['id']);}catch(_0x4f87ea){_0xfc260e<_0x4c1953?(_0x561d9b[_0x2e631e(0x444)]('Attempt\x20'+_0xfc260e+'\x20to\x20send\x20dispatcherJob\x20'+_0x19fd2f['id']+_0x2e631e(0x4c9),{'nodeId':this['owner']['getId'](),'nodeType':this[_0x2e631e(0x4a3)][_0x2e631e(0x5ba)],'data':{'job':_0x19fd2f,'attempts':_0xfc260e,'maxRetries':_0x4c1953}}),setTimeout(_0x302512,0x3e8)):(_0x19fd2f[_0x2e631e(0x978)]=_0x4ab575[_0x2e631e(0x850)][_0x2e631e(0x281)],_0x19fd2f[_0x2e631e(0x1b5)]=new Date(),this[_0x2e631e(0x79b)][_0x2e631e(0x851)](_0x19fd2f['id'],_0x19fd2f),_0x561d9b['error'](_0x2e631e(0x900)+_0x19fd2f['id']+_0x2e631e(0x2a1)+_0x4c1953+_0x2e631e(0xa13),{'nodeId':this[_0x2e631e(0x4a3)][_0x2e631e(0x7b4)](),'nodeType':this[_0x2e631e(0x4a3)]['type'],'data':{'job':_0x19fd2f,'attempts':_0xfc260e,'maxRetries':_0x4c1953,'error':_0x4f87ea}}));}};_0x302512();const {id:_0x3c943d}=_0x19fd2f;this[_0x4f0914(0x890)](_0x4f0914(0x831)+_0x19fd2f['id']+_0x4f0914(0x2c8),{'jobId':_0x3c943d}),_0x19fd2f[_0x4f0914(0x1b5)]=new Date();}catch(_0x50fe5a){_0x19fd2f[_0x4f0914(0x978)]=_0x4ab575[_0x4f0914(0x850)][_0x4f0914(0x281)],_0x561d9b['error']('Failed\x20to\x20send\x20job\x20'+_0x19fd2f['id']+':',{'nodeId':this['owner'][_0x4f0914(0x7b4)](),'nodeType':this[_0x4f0914(0x4a3)][_0x4f0914(0x5ba)],'data':{'job':_0x19fd2f,'error':_0x50fe5a}});}return _0x3fef99['asObservable']();}[_0x2358f4(0x220)](_0x184f47){const _0x280f92=_0x2358f4,_0x4c1156=this[_0x280f92(0x79b)][_0x280f92(0x879)](_0x184f47);if(!_0x4c1156)throw new _0x5af266(_0x3412d7[_0x280f92(0x1a4)],_0x280f92(0x78e)+_0x184f47+_0x280f92(0x873));return{'id':_0x4c1156['id'],'jobType':_0x4c1156['jobType'],'status':_0x4c1156[_0x280f92(0x978)],'parameters':_0x4c1156[_0x280f92(0x3e2)]};}['getJobs'](){const _0x1b8b9a=_0x2358f4;return Array[_0x1b8b9a(0x7ed)](this[_0x1b8b9a(0x79b)]['values']())[_0x1b8b9a(0x8d9)](_0x32df0c=>this[_0x1b8b9a(0x220)](_0x32df0c['id']));}async[_0x2358f4(0xa77)](_0x2b72c8,_0x3ed715){const _0x304b73=_0x2358f4,_0x4f9931=this[_0x304b73(0x79b)]['get'](_0x2b72c8);if(!_0x4f9931)throw new _0x5af266(_0x3412d7[_0x304b73(0x1a4)],_0x304b73(0x78e)+_0x2b72c8+_0x304b73(0x873));_0x4f9931['parameters']=_0x3ed715,_0x4f9931[_0x304b73(0x1b5)]=new Date(),this[_0x304b73(0x79b)]['set'](_0x2b72c8,_0x4f9931);}async[_0x2358f4(0x1ab)](_0x11f326){const _0x5a9e20=_0x2358f4;if(!this[_0x5a9e20(0x79b)][_0x5a9e20(0x6e6)](_0x11f326))throw new _0x5af266(_0x3412d7['JobDispatcherJobNotFound'],_0x5a9e20(0x78e)+_0x11f326+'\x20not\x20found.');const _0x2a271f=this[_0x5a9e20(0x996)][_0x5a9e20(0x879)](_0x11f326);if(!_0x2a271f)throw new _0x45bad0(_0x45bad0['codes'][_0x5a9e20(0x43d)]);_0x2a271f['complete'](),this[_0x5a9e20(0x996)][_0x5a9e20(0x6e6)](_0x11f326),_0x561d9b[_0x5a9e20(0x870)](_0x577427[_0x5a9e20(0x6fd)],'Job\x20'+_0x11f326+'\x20deleted.');}['addBidResponse'](_0x3fff20,_0x4ae668,_0x2e30c8){const _0x15efcb=_0x2358f4,_0x33728f=this[_0x15efcb(0x826)]['get'](_0x4ae668)??new Map();_0x33728f[_0x15efcb(0x851)](_0x3fff20,[_0x2e30c8,Date[_0x15efcb(0x58d)]()]),this[_0x15efcb(0x826)]['set'](_0x4ae668,_0x33728f),this[_0x15efcb(0x575)](_0x4ae668);}[_0x2358f4(0x1ac)](_0x4d7c27){const _0x27c7ef=_0x2358f4,_0x53d2b6=this[_0x27c7ef(0x79b)][_0x27c7ef(0x879)](_0x4d7c27);if(!_0x53d2b6)throw new _0x45bad0(_0x45bad0['codes'][_0x27c7ef(0x1a4)]);const _0x5497c5=setTimeout(()=>this[_0x27c7ef(0x575)](_0x4d7c27,!0x0),0xbb8);_0x53d2b6[_0x27c7ef(0xa7f)]=_0x5497c5,this['jobs'][_0x27c7ef(0x851)](_0x53d2b6['id'],_0x53d2b6);}[_0x2358f4(0x575)](_0x45f3df,_0xc45de8=!0x1){const _0x193342=_0x2358f4,_0x2b800e=this['graphService'][_0x193342(0x78f)](),_0x697c7f=Array[_0x193342(0x7ed)](_0x2b800e['values']())['filter'](_0x3671fc=>_0x3671fc[_0x193342(0x5ba)]===_0x4ab575[_0x193342(0x21a)][_0x193342(0x461)]),_0x226304=this[_0x193342(0x826)][_0x193342(0x879)](_0x45f3df)??new Map();if(!_0xc45de8&&(!_0x226304||_0x226304[_0x193342(0x9dc)]<_0x697c7f[_0x193342(0x87a)]))return;const _0x3d3093=this[_0x193342(0x79b)][_0x193342(0x879)](_0x45f3df);if(!_0x3d3093)throw new _0x45bad0(_0x45bad0['codes']['JobDispatcherJobNotFound']);if(clearTimeout(_0x3d3093['responseTimeout']),_0x561d9b[_0x193342(0x870)](_0x577427[_0x193342(0x6fd)],_0x193342(0x831)+_0x3d3093['id']+'\x20received\x20responses:',_0x226304,this['jobBids']),!_0x226304||0x0===_0x226304['size']){_0x3d3093[_0x193342(0x978)]=_0x4ab575[_0x193342(0x850)][_0x193342(0x281)],_0x3d3093[_0x193342(0x1b5)]=new Date(),_0x561d9b[_0x193342(0x7b7)](_0x193342(0x831)+_0x3d3093['id']+_0x193342(0x46c),{'nodeId':this[_0x193342(0x4a3)]['getId'](),'nodeType':this[_0x193342(0x4a3)][_0x193342(0x5ba)],'data':{'job':_0x3d3093,'responses':_0x226304}});const _0x145830=this['jobObservers']['get'](_0x45f3df);if(!_0x145830)throw new _0x45bad0(_0x45bad0[_0x193342(0x297)]['JobDispatcherObserverNotFound']);const _0x5e33ce='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0xcc07db={'id':_0x3d3093['id'],'status':_0x3d3093[_0x193342(0x978)],'message':_0x5e33ce};return _0x145830['next'](_0xcc07db),_0x145830[_0x193342(0x1da)](),this[_0x193342(0x79b)][_0x193342(0x851)](_0x3d3093['id'],_0x3d3093),void this[_0x193342(0x826)]['delete'](_0x45f3df);}const {nodeId:_0x3f6a6d,response:_0x45fd64}=this['evaluateBids'](_0x3d3093['id'],_0x226304);_0x3d3093['status']=_0x4ab575[_0x193342(0x850)][_0x193342(0x3aa)],_0x3d3093[_0x193342(0x1b5)]=new Date(),_0x561d9b[_0x193342(0x870)](_0x577427[_0x193342(0x6fd)],'Job\x20'+_0x3d3093['id']+_0x193342(0x4d0)+_0x3f6a6d+_0x193342(0x623),_0x45fd64);const _0x223acb={'id':_0x3d3093['id'],'jobType':_0x3d3093[_0x193342(0x9e1)],'jobPhase':_0x4cc4c4[_0x193342(0x5df)],'parameters':_0x3d3093[_0x193342(0x3e2)]};this[_0x193342(0x9cd)](_0x223acb,[_0x3f6a6d]),this[_0x193342(0x79b)]['set'](_0x3d3093['id'],_0x3d3093),this['jobBids']['delete'](_0x45f3df);}[_0x2358f4(0xa9d)](_0x900f24,_0x33e5ce){const _0x38343e=_0x2358f4;let _0x5cff1c;const _0x504d17=Array[_0x38343e(0x7ed)](_0x33e5ce['entries']())[_0x38343e(0x829)](([,[_0x4cb790]])=>_0x4cb790['available']);if(_0x5cff1c=_0x504d17[_0x38343e(0x87a)]>0x0?Array[_0x38343e(0x7ed)](_0x33e5ce[_0x38343e(0x1c6)]())[_0x38343e(0x96f)]((_0x4fe892,_0x5c11e6)=>_0x5c11e6[0x1][0x0]['bid']-_0x4fe892[0x1][0x0][_0x38343e(0x1ea)]):Array[_0x38343e(0x7ed)](_0x33e5ce['entries']())[_0x38343e(0x96f)]((_0x46abee,_0x757476)=>_0x46abee[0x1][0x0][_0x38343e(0x1bb)]-_0x757476[0x1][0x0][_0x38343e(0x1bb)]),0x1===_0x5cff1c['length'])return{'nodeId':_0x5cff1c[0x0][0x0],'response':_0x5cff1c[0x0][0x1][0x0]};let _0x3695d6;if(_0x3695d6=_0x504d17['length']>0x0?(_0x57174b=>{const _0x24dbae=_0x38343e,_0x50584d=_0x57174b[0x0][0x1][0x0][_0x24dbae(0x1ea)];return _0x57174b['filter'](([,[_0x8f23dd]])=>_0x8f23dd[_0x24dbae(0x1ea)]===_0x50584d);})(_0x5cff1c):(_0x24131e=>{const _0x27dd8e=_0x38343e,_0x26c3df=_0x24131e[0x0][0x1][0x0][_0x27dd8e(0x1bb)];return _0x24131e['filter'](([,[_0xa7ec8f]])=>_0xa7ec8f[_0x27dd8e(0x1bb)]===_0x26c3df);})(_0x5cff1c),0x1===_0x3695d6[_0x38343e(0x87a)])return{'nodeId':_0x3695d6[0x0][0x0],'response':_0x3695d6[0x0][0x1][0x0]};const _0x514c2f=this[_0x38343e(0x79b)][_0x38343e(0x879)](_0x900f24);if(!_0x514c2f)throw new _0x45bad0(_0x45bad0['codes'][_0x38343e(0x1a4)]);const _0x4a26bf=_0x514c2f['created']['getTime'](),_0x34f5cc=_0x3695d6[_0x38343e(0x8d9)](([_0x85b83,[,_0x3d8262]])=>({'nodeId':_0x85b83,'rtt':_0x3d8262-_0x4a26bf})),_0x32ca1f=Math[_0x38343e(0x44f)](..._0x34f5cc['map'](({rtt:_0x43cd96})=>_0x43cd96)),_0x9a1ad5=_0x34f5cc[_0x38343e(0x7c6)](({rtt:_0x5b3029})=>_0x5b3029===_0x32ca1f),[,[_0x24a7a3]]=_0x3695d6[_0x38343e(0x7c6)](([_0x3ddb18])=>_0x3ddb18===_0x9a1ad5[_0x38343e(0x6bc)]);return{'nodeId':_0x9a1ad5[_0x38343e(0x6bc)],'response':_0x24a7a3};}[_0x2358f4(0x989)](_0x10d0e7,_0x4605d9){const _0x4c15e7=_0x2358f4,_0x3c2491=this[_0x4c15e7(0x79b)][_0x4c15e7(0x879)](_0x10d0e7);if(!_0x3c2491)throw new _0x45bad0(_0x45bad0[_0x4c15e7(0x297)][_0x4c15e7(0x1a4)]);const _0x3ae0e2=this[_0x4c15e7(0x996)][_0x4c15e7(0x879)](_0x10d0e7);if(!_0x3ae0e2)throw new _0x45bad0(_0x45bad0[_0x4c15e7(0x297)][_0x4c15e7(0x43d)]);const _0x39f9a5={'id':_0x3c2491['id'],'status':_0x4ab575[_0x4c15e7(0x850)][_0x4c15e7(0x735)],'result':_0x4605d9[_0x4c15e7(0x79c)]};_0x3ae0e2[_0x4c15e7(0x51c)](_0x39f9a5);}[_0x2358f4(0x694)](_0x14a25e,_0xe34793){const _0x31a953=_0x2358f4,_0x3bb098=this[_0x31a953(0x79b)]['get'](_0x14a25e);if(!_0x3bb098)throw new _0x45bad0(_0x45bad0[_0x31a953(0x297)][_0x31a953(0x1a4)]);const _0x9cef6=this[_0x31a953(0x996)][_0x31a953(0x879)](_0x14a25e);if(!_0x9cef6)throw new _0x45bad0(_0x45bad0['codes'][_0x31a953(0x43d)]);_0x3bb098[_0x31a953(0x978)]=_0x4ab575[_0x31a953(0x850)][_0x31a953(0x328)];const _0x456485={'id':_0x3bb098['id'],'status':_0x3bb098[_0x31a953(0x978)],'result':_0xe34793[_0x31a953(0x79c)]};_0x9cef6['next'](_0x456485),_0x9cef6[_0x31a953(0x1da)](),this['jobObservers'][_0x31a953(0x6e6)](_0x14a25e),this['logEvent']('Job\x20'+_0x14a25e+_0x31a953(0x45a),{'jobId':_0x14a25e});}[_0x2358f4(0x5ad)](_0xb51a14,_0x58949f){const _0x2c120b=_0x2358f4,_0x203cbf=this[_0x2c120b(0x79b)]['get'](_0xb51a14);if(!_0x203cbf)throw new _0x45bad0(_0x45bad0[_0x2c120b(0x297)][_0x2c120b(0x1a4)]);const _0x5b6b53=this[_0x2c120b(0x996)][_0x2c120b(0x879)](_0xb51a14);if(!_0x5b6b53)throw new _0x45bad0(_0x45bad0['codes'][_0x2c120b(0x43d)]);_0x203cbf['status']=_0x4ab575['JobStatus'][_0x2c120b(0x281)];const _0x40dc8b={'id':_0x203cbf['id'],'status':_0x203cbf[_0x2c120b(0x978)],'message':_0x58949f};_0x5b6b53[_0x2c120b(0x51c)](_0x40dc8b),_0x5b6b53[_0x2c120b(0x1da)](),this[_0x2c120b(0x996)][_0x2c120b(0x6e6)](_0xb51a14),this[_0x2c120b(0x890)](_0x2c120b(0x831)+_0xb51a14+_0x2c120b(0x43a),{'jobId':_0xb51a14});}[_0x2358f4(0x890)](_0x288e3b,{jobId:_0x18adb0}){const _0xee5aeb=_0x2358f4,_0x203cf7={'jobId':_0x18adb0,'mistletIds':Array[_0xee5aeb(0x7ed)](this[_0xee5aeb(0x310)][_0xee5aeb(0x78f)]()[_0xee5aeb(0x55b)]())[_0xee5aeb(0x829)](_0x3f9897=>_0x3f9897[_0xee5aeb(0x5ba)]===_0x4ab575['NodeType'][_0xee5aeb(0x461)])['map'](_0x192944=>_0x192944['getId']())};_0x561d9b['logEvent'](_0x288e3b,{'nodeId':this[_0xee5aeb(0x779)](),'nodeType':this[_0xee5aeb(0x4a3)]['type'],'data':_0x203cf7}),_0x561d9b[_0xee5aeb(0x870)](_0x577427[_0xee5aeb(0x6fd)],_0x288e3b,_0x203cf7);}[_0x2358f4(0x988)](_0x407ee6){const {jobPhase:_0x5c3069,available:_0x306a50,bid:_0x4d417e}=_0x407ee6;return _0x5c3069===_0x4cc4c4['Bid']&&void 0x0!==_0x306a50&&void 0x0!==_0x4d417e;}[_0x2358f4(0x32b)](_0x324195){const _0x5659f4=_0x2358f4,{jobPhase:_0x2a2bb2,result:_0x29f667}=_0x324195;return _0x2a2bb2===_0x4cc4c4[_0x5659f4(0x4a8)]&&void 0x0!==_0x29f667;}[_0x2358f4(0x3c7)](_0x244192){const _0x6b4337=_0x2358f4,{jobPhase:_0xcd00a1,result:_0x523188}=_0x244192;return _0xcd00a1===_0x4cc4c4[_0x6b4337(0x385)]&&void 0x0!==_0x523188;}[_0x2358f4(0x202)](_0xb27289){const _0x2c50b1=_0x2358f4,{jobPhase:_0x354ceb,message:_0x129a79}=_0xb27289;return _0x354ceb===_0x4cc4c4[_0x2c50b1(0x281)]&&void 0x0!==_0x129a79&&_0x2c50b1(0x991)==typeof _0x129a79;}}var _0x23f54d,_0x2067ca,_0x1a4caa,_0x13f753;!function(_0x1f590b){const _0x4db368=_0x2358f4;_0x1f590b[_0x4db368(0x42a)]=_0x4db368(0x2ae),_0x1f590b[_0x4db368(0x9cf)]='external-storage';}(_0x23f54d||(_0x23f54d={})),function(_0x58b171){const _0x3af27f=_0x2358f4;_0x58b171[_0x3af27f(0x461)]=_0x3af27f(0x1bf),_0x58b171[_0x3af27f(0x737)]=_0x3af27f(0x71f),_0x58b171[_0x3af27f(0x8b6)]=_0x3af27f(0x863),_0x58b171[_0x3af27f(0x62e)]=_0x3af27f(0x428),_0x58b171[_0x3af27f(0x9d8)]=_0x3af27f(0x680),_0x58b171[_0x3af27f(0x797)]=_0x3af27f(0x3cf),_0x58b171[_0x3af27f(0x1f6)]='answer',_0x58b171['Time']=_0x3af27f(0x8ef),_0x58b171[_0x3af27f(0x423)]=_0x3af27f(0x1fe),_0x58b171[_0x3af27f(0x677)]='search',_0x58b171['WebScraper']=_0x3af27f(0x862),_0x58b171[_0x3af27f(0x6f6)]='web-scraper-raw',_0x58b171[_0x3af27f(0x4a9)]=_0x3af27f(0x87c),_0x58b171['SentenceSplitter']=_0x3af27f(0x407),_0x58b171['WordSplitter']=_0x3af27f(0x438);}(_0x2067ca||(_0x2067ca={})),function(_0x364ccf){const _0x12c12a=_0x2358f4;_0x364ccf[_0x12c12a(0x88b)]=_0x12c12a(0x49d),_0x364ccf[_0x12c12a(0x1ef)]=_0x12c12a(0x31f),_0x364ccf[_0x12c12a(0x58a)]=_0x12c12a(0x494),_0x364ccf[_0x12c12a(0x4a9)]=_0x12c12a(0x87c),_0x364ccf['WordSplitter']=_0x12c12a(0x438),_0x364ccf['SentenceSplitter']=_0x12c12a(0x407),_0x364ccf['RelationExtractor']='relation-extractor',_0x364ccf[_0x12c12a(0x2cc)]=_0x12c12a(0x752),_0x364ccf[_0x12c12a(0x5d9)]=_0x12c12a(0x5e9),_0x364ccf[_0x12c12a(0x74e)]=_0x12c12a(0x1fb),_0x364ccf['Agent']=_0x12c12a(0x1bf),_0x364ccf[_0x12c12a(0x1fa)]=_0x12c12a(0x2ae),_0x364ccf[_0x12c12a(0x212)]='key-value-database',_0x364ccf[_0x12c12a(0x219)]=_0x12c12a(0xa60),_0x364ccf[_0x12c12a(0xa16)]=_0x12c12a(0x9a7),_0x364ccf['Prompt']=_0x12c12a(0x3cf),_0x364ccf['Context']='context';}(_0x1a4caa||(_0x1a4caa={})),function(_0x396ca4){const _0x46b716=_0x2358f4;_0x396ca4[_0x46b716(0x5c9)]=_0x46b716(0x4db),_0x396ca4[_0x46b716(0x28c)]=_0x46b716(0x453),_0x396ca4[_0x46b716(0x3e9)]=_0x46b716(0x503),_0x396ca4[_0x46b716(0x278)]='audio',_0x396ca4[_0x46b716(0x409)]=_0x46b716(0x562),_0x396ca4['Vector']=_0x46b716(0x26b),_0x396ca4[_0x46b716(0x2a9)]=_0x46b716(0x8ad),_0x396ca4['Relation']='relation',_0x396ca4[_0x46b716(0x677)]=_0x46b716(0x791),_0x396ca4[_0x46b716(0x76b)]=_0x46b716(0x55d),_0x396ca4[_0x46b716(0x9d8)]=_0x46b716(0x680),_0x396ca4[_0x46b716(0x931)]=_0x46b716(0xaa3);}(_0x13f753||(_0x13f753={}));class _0x2a3cff{static [_0x2358f4(0x6da)];constructor(){}static[_0x2358f4(0xa9c)](){const _0x2cd758=_0x2358f4;return _0x2a3cff['instance']||(_0x2a3cff['instance']=new _0x2a3cff()),_0x2a3cff[_0x2cd758(0x6da)];}async[_0x2358f4(0x695)](_0x370a50,_0x1e8141){const _0x402b14=_0x2358f4,_0x1be08c=await(0x0,_0x36f88f[_0x402b14(0x9c0)])((0x0,_0x36f88f['doc'])(_0x1eef3c['getFirestore'](),_0x402b14(0x473)+_0x370a50+_0x402b14(0x693)+_0x1e8141)),_0x4ba570=await this['getAgents'](_0x370a50),_0x1240ef=await this[_0x402b14(0x4f6)](_0x370a50),_0x2bf9c9=await this[_0x402b14(0xa80)](_0x370a50),_0x226726=await this[_0x402b14(0x56b)](_0x370a50),_0x272073=await this[_0x402b14(0x585)](_0x370a50);if(!_0x1be08c[_0x402b14(0x609)]())throw new _0x45bad0(_0x45bad0['codes'][_0x402b14(0x684)]);return this['parseWorkflowDocument'](_0x1be08c,_0x4ba570,_0x1240ef,_0x2bf9c9,_0x226726,_0x272073);}[_0x2358f4(0x1aa)](_0x35b8eb,_0x14526c,_0xb7303c,_0x321348,_0x8ce343,_0x1e7a81){const _0x43cfb9=_0x2358f4,_0x399eee=_0x35b8eb[_0x43cfb9(0x562)]();if(!_0x399eee)throw new _0x45bad0(_0x45bad0[_0x43cfb9(0x297)][_0x43cfb9(0x684)]);const _0x467454=_0x399eee[_0x43cfb9(0x4ec)]&&_0x399eee[_0x43cfb9(0x913)]?_0x399eee[_0x43cfb9(0x913)][_0x399eee[_0x43cfb9(0x4ec)]-0x1]:_0x399eee,_0x474a6d=this[_0x43cfb9(0x47f)](_0x467454[_0x43cfb9(0x5d7)],_0x14526c,_0xb7303c,_0x321348,_0x1e7a81);return{'id':_0x35b8eb['id'],'modelsBucketId':_0x399eee['bucketId'],'blocks':_0x474a6d,'models':this['getWorkflowModels'](_0x474a6d,_0x8ce343),'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x474a6d),'externalStorageConnectionIds':this[_0x43cfb9(0x5dc)](_0x474a6d)};}[_0x2358f4(0xa29)](_0x534326,_0x409681){const _0x215f47=_0x2358f4,_0x437f73=new Set();for(const _0x1880df of _0x534326)if(_0x1880df[_0x215f47(0x5ba)]!==_0x2067ca['Agent']&&_0x1880df[_0x215f47(0x5ba)]!==_0x2067ca[_0x215f47(0x737)]||_0x437f73['add'](_0x1880df['modelId']),_0x1880df[_0x215f47(0x5ba)]===_0x2067ca['Knowledge']||_0x1880df['type']===_0x2067ca[_0x215f47(0x62e)]){for(const _0x2d8b7c of[..._0x1880df[_0x215f47(0x692)],..._0x1880df[_0x215f47(0x784)]])_0x2d8b7c[_0x215f47(0x5ba)]===_0x1a4caa[_0x215f47(0x74e)]&&_0x437f73[_0x215f47(0x845)](_0x2d8b7c['id']),_0x2d8b7c[_0x215f47(0x5ba)]===_0x1a4caa['Agent']&&_0x437f73[_0x215f47(0x845)](_0x2d8b7c['modelId']);}return Array[_0x215f47(0x7ed)](_0x437f73)[_0x215f47(0x8d9)](_0x31a715=>{const _0x454ba2=_0x215f47,{id:_0x4bd59c,engineType:_0xfc6e9f,taskType:_0x5e9c97,inputType:_0x3c9248,outputType:_0x1c0972,sourceUrl:_0x1de9d6}=_0x409681[_0x454ba2(0x7c6)](_0x3f4d71=>_0x3f4d71['id']===_0x31a715);return{'id':_0x4bd59c,'engineType':_0xfc6e9f,'taskType':_0x5e9c97,'inputType':_0x3c9248,'outputType':_0x1c0972,'sourceUrl':_0x1de9d6};});}['getWorkflowObjectStorageBuckets'](_0x3d72ba){const _0x5e5505=_0x2358f4,_0x375dae=new Set();for(const _0x552073 of _0x3d72ba)switch(_0x552073['type']){case _0x2067ca[_0x5e5505(0x9d8)]:case _0x2067ca[_0x5e5505(0x62e)]:for(const _0x397bf2 of[..._0x552073['ingestBlocks'],..._0x552073[_0x5e5505(0x784)]])_0x397bf2['type']===_0x1a4caa[_0x5e5505(0x88b)]&&_0x375dae['add'](_0x397bf2['id']);}return Array[_0x5e5505(0x7ed)](_0x375dae);}['getWorkflowExternalStorageConnections'](_0x8d12be){const _0x3b5b5f=_0x2358f4,_0x1c14c6=new Set();for(const _0x5f457d of _0x8d12be)switch(_0x5f457d[_0x3b5b5f(0x5ba)]){case _0x2067ca[_0x3b5b5f(0x9d8)]:case _0x2067ca[_0x3b5b5f(0x62e)]:for(const _0x4ad882 of[..._0x5f457d['ingestBlocks'],..._0x5f457d[_0x3b5b5f(0x784)]])_0x4ad882[_0x3b5b5f(0x5ba)]===_0x1a4caa[_0x3b5b5f(0x1ef)]&&_0x1c14c6[_0x3b5b5f(0x845)](_0x4ad882['id']);}return Array[_0x3b5b5f(0x7ed)](_0x1c14c6);}[_0x2358f4(0x47f)](_0x285084,_0x542019,_0x5b4c2b,_0x769143,_0x3d8b61){return _0x285084['map'](_0x243f4f=>{const _0x5d873f=a0_0x34e5;switch(_0x243f4f[_0x5d873f(0x5ba)]){case _0x2067ca['Agent']:case _0x2067ca[_0x5d873f(0x737)]:const _0x3438a1=_0x542019['find'](_0x40cdbb=>_0x40cdbb['id']===_0x243f4f['id']);if(!_0x3438a1)throw new _0x45bad0(_0x45bad0[_0x5d873f(0x297)][_0x5d873f(0x616)],{'block':_0x243f4f});const _0x15e747=_0x243f4f[_0x5d873f(0x97a)]&&_0x3438a1[_0x5d873f(0x913)]?_0x3438a1[_0x5d873f(0x913)][_0x243f4f[_0x5d873f(0x97a)]-0x1]:_0x3438a1;return{'type':_0x3438a1['type'],'id':_0x3438a1['id'],'uid':_0x243f4f[_0x5d873f(0x6a3)],'name':_0x15e747[_0x5d873f(0x683)],'description':_0x15e747[_0x5d873f(0x827)],'instructions':_0x15e747[_0x5d873f(0x27f)],'contextInputVariable':_0x15e747[_0x5d873f(0x6f5)],'contextOutputVariable':_0x15e747[_0x5d873f(0x979)],'showSkillOutput':_0x15e747[_0x5d873f(0xa61)],'grammar':['default',_0x5d873f(0x355),_0x5d873f(0xa93)][_0x5d873f(0x877)](_0x15e747[_0x5d873f(0x389)])?_0x15e747['grammar']:_0x3d8b61['find'](_0x4764e6=>_0x4764e6['id']===_0x15e747['grammar'])[_0x5d873f(0x5d0)],'temperature':_0x15e747[_0x5d873f(0x9fb)],'maxTokens':_0x15e747[_0x5d873f(0xa1a)],'modelId':_0x15e747['modelId'],'links':_0x243f4f['links'],'version':_0x243f4f['version']};case _0x2067ca[_0x5d873f(0x9d8)]:case _0x2067ca[_0x5d873f(0x62e)]:const _0x322186=_0x5b4c2b['find'](_0x4eca73=>_0x4eca73['id']===_0x243f4f['id']);if(!_0x322186)throw new _0x45bad0(_0x45bad0[_0x5d873f(0x297)][_0x5d873f(0x616)],{'block':_0x243f4f});const _0x14c4fd=_0x243f4f[_0x5d873f(0x97a)]&&_0x322186[_0x5d873f(0x913)]?_0x322186[_0x5d873f(0x913)][_0x243f4f['version']-0x1]:_0x322186;return{'type':_0x243f4f['type'],'id':_0x322186['id'],'uid':_0x243f4f[_0x5d873f(0x6a3)],'name':_0x14c4fd['name'],'description':_0x14c4fd[_0x5d873f(0x827)],'ingestBlocks':this[_0x5d873f(0x86d)](_0x14c4fd['ingestBlocks'],_0x542019),'retrieveBlocks':this[_0x5d873f(0x86d)](_0x14c4fd[_0x5d873f(0x784)],_0x542019),'links':_0x243f4f['links'],'version':_0x243f4f['version']};case _0x2067ca[_0x5d873f(0x8b6)]:const _0xcf0a9d=_0x769143['find'](_0x571f42=>_0x571f42['id']===_0x243f4f['id']);if(!_0xcf0a9d)throw new _0x45bad0(_0x45bad0[_0x5d873f(0x297)][_0x5d873f(0x616)],{'block':_0x243f4f});return{'type':_0x243f4f[_0x5d873f(0x5ba)],'id':_0xcf0a9d['id'],'uid':_0x243f4f[_0x5d873f(0x6a3)],'name':_0xcf0a9d[_0x5d873f(0x683)],'description':_0xcf0a9d['description'],'parameters':_0xcf0a9d[_0x5d873f(0x3e2)],'endpointUrl':_0xcf0a9d[_0x5d873f(0x9f7)],'endpointMethod':_0xcf0a9d[_0x5d873f(0x754)],'accessToken':_0xcf0a9d[_0x5d873f(0x88e)],'queryParameters':_0xcf0a9d[_0x5d873f(0x7eb)],'bodyParameters':_0xcf0a9d[_0x5d873f(0x372)],'links':_0x243f4f[_0x5d873f(0x35a)]};case _0x2067ca[_0x5d873f(0x797)]:case _0x2067ca['Answer']:case _0x2067ca[_0x5d873f(0x1e9)]:case _0x2067ca['Code']:case _0x2067ca[_0x5d873f(0x677)]:case _0x2067ca[_0x5d873f(0x572)]:case _0x2067ca[_0x5d873f(0x6f6)]:case _0x2067ca[_0x5d873f(0xa41)]:return{'type':_0x243f4f[_0x5d873f(0x5ba)],'id':_0x243f4f['id'],'uid':_0x243f4f[_0x5d873f(0x6a3)],'links':_0x243f4f['links']};case _0x2067ca[_0x5d873f(0x4a9)]:case _0x2067ca[_0x5d873f(0x55f)]:return{'type':_0x243f4f[_0x5d873f(0x5ba)],'id':_0x243f4f['id'],'uid':_0x243f4f['uid'],'links':_0x243f4f[_0x5d873f(0x35a)],'attributes':_0x243f4f[_0x5d873f(0x477)]};default:throw new _0x45bad0(_0x45bad0[_0x5d873f(0x297)][_0x5d873f(0x616)],{'block':_0x243f4f});}});}[_0x2358f4(0x86d)](_0x1674cb,_0x2725b8){const _0x44bdd7=_0x2358f4;return _0x1674cb[_0x44bdd7(0x8d9)](_0x141f60=>{const _0x382253=_0x44bdd7;switch(_0x141f60[_0x382253(0x5ba)]){case _0x1a4caa[_0x382253(0x461)]:const _0x3b57b8=_0x2725b8['find'](_0x4adf28=>_0x4adf28['id']===_0x141f60['id']);if(!_0x3b57b8)throw new _0x45bad0(_0x45bad0[_0x382253(0x297)][_0x382253(0x616)],{'block':_0x141f60});const _0x2f6ab7=_0x141f60[_0x382253(0x97a)]&&_0x3b57b8[_0x382253(0x913)]?_0x3b57b8[_0x382253(0x913)][_0x141f60[_0x382253(0x97a)]-0x1]:_0x3b57b8;return{'type':_0x141f60[_0x382253(0x5ba)],'id':_0x141f60['id'],'uid':_0x141f60[_0x382253(0x6a3)],'description':_0x2f6ab7[_0x382253(0x827)],'instructions':_0x2f6ab7[_0x382253(0x27f)],'grammar':_0x2f6ab7['grammar'],'temperature':_0x2f6ab7[_0x382253(0x9fb)],'maxTokens':_0x2f6ab7['maxTokens'],'modelId':_0x2f6ab7['modelId'],'links':_0x141f60['links'],'version':_0x141f60[_0x382253(0x97a)]};case _0x1a4caa[_0x382253(0xa16)]:case _0x1a4caa[_0x382253(0x219)]:case _0x1a4caa[_0x382253(0x55f)]:case _0x1a4caa['ChunkSplitter']:case _0x1a4caa['EntityExtractor']:case _0x1a4caa[_0x382253(0x5d9)]:return{'type':_0x141f60[_0x382253(0x5ba)],'id':_0x141f60['id'],'uid':_0x141f60[_0x382253(0x6a3)],'links':_0x141f60['links'],'attributes':_0x141f60['attributes']};case _0x1a4caa[_0x382253(0x74e)]:case _0x1a4caa[_0x382253(0x1fa)]:case _0x1a4caa[_0x382253(0x212)]:case _0x1a4caa[_0x382253(0x3a0)]:case _0x1a4caa[_0x382253(0x58a)]:case _0x1a4caa[_0x382253(0xa41)]:case _0x1a4caa[_0x382253(0x88b)]:case _0x1a4caa['ExternalStorageUpload']:case _0x1a4caa['Context']:case _0x1a4caa[_0x382253(0x797)]:return{'type':_0x141f60[_0x382253(0x5ba)],'id':_0x141f60['id'],'uid':_0x141f60['uid'],'links':_0x141f60[_0x382253(0x35a)]};default:throw new _0x45bad0(_0x45bad0[_0x382253(0x297)]['WorkflowInvalidBlockType'],{'block':_0x141f60});}});}async[_0x2358f4(0xa1d)](_0x525f8e){const _0x5dcb17=_0x2358f4;return(await(0x0,_0x36f88f[_0x5dcb17(0x2d5)])((0x0,_0x36f88f[_0x5dcb17(0x42d)])(_0x1eef3c['getFirestore'](),_0x5dcb17(0x473)+_0x525f8e+'/resources/generative-ai-agent/items')))[_0x5dcb17(0x368)][_0x5dcb17(0x8d9)](_0x227b4c=>{const _0x4679cb=_0x5dcb17,_0x464385=_0x227b4c[_0x4679cb(0x562)]();return{'type':_0x2067ca['Agent'],'id':_0x227b4c['id'],'name':_0x464385[_0x4679cb(0x683)],'description':_0x464385['description'],'instructions':_0x464385['instructions'],'contextInputVariable':_0x464385[_0x4679cb(0x6f5)],'contextOutputVariable':_0x464385[_0x4679cb(0x979)],'showSkillOutput':_0x464385[_0x4679cb(0xa61)]??!0x0,'grammar':_0x464385[_0x4679cb(0x389)]??_0x4679cb(0x8cd),'temperature':_0x464385[_0x4679cb(0x9fb)],'maxTokens':_0x464385['maxTokens'],'modelId':_0x464385[_0x4679cb(0x7a7)],'versions':_0x464385[_0x4679cb(0x913)]};});}async['getDataCollections'](_0x57d49c){const _0x5b6d66=_0x2358f4;return(await(0x0,_0x36f88f[_0x5b6d66(0x2d5)])((0x0,_0x36f88f['collection'])(_0x1eef3c[_0x5b6d66(0x44d)](),_0x5b6d66(0x473)+_0x57d49c+_0x5b6d66(0xa83))))[_0x5b6d66(0x368)][_0x5b6d66(0x8d9)](_0x18db54=>{const _0x4f3e7e=_0x5b6d66,_0x27e09a=_0x18db54['data']();return{'type':_0x2067ca['DataCollection'],'id':_0x18db54['id'],'name':_0x27e09a[_0x4f3e7e(0x683)],'description':_0x27e09a[_0x4f3e7e(0x827)],'ingestBlocks':_0x27e09a['ingestBlocks'],'retrieveBlocks':_0x27e09a[_0x4f3e7e(0x784)],'versions':_0x27e09a[_0x4f3e7e(0x913)]};});}async[_0x2358f4(0xa80)](_0x4daf2f){const _0x2d3d54=_0x2358f4;return(await(0x0,_0x36f88f[_0x2d3d54(0x2d5)])((0x0,_0x36f88f['collection'])(_0x1eef3c[_0x2d3d54(0x44d)](),_0x2d3d54(0x473)+_0x4daf2f+_0x2d3d54(0x470))))[_0x2d3d54(0x368)][_0x2d3d54(0x8d9)](_0xd82ea0=>{const _0x20d21c=_0x2d3d54,_0x2c7c13=_0xd82ea0[_0x20d21c(0x562)]();return{'type':_0x2067ca[_0x20d21c(0x8b6)],'id':_0xd82ea0['id'],'name':_0x2c7c13[_0x20d21c(0x683)],'description':_0x2c7c13[_0x20d21c(0x827)],'parameters':_0x2c7c13[_0x20d21c(0x3e2)],'endpointUrl':_0x2c7c13[_0x20d21c(0x9f7)],'endpointMethod':_0x2c7c13['endpointMethod'],'accessToken':_0x2c7c13['accessToken'],'queryParameters':_0x2c7c13['queryParameters'],'bodyParameters':_0x2c7c13['bodyParameters']};});}async['getGrammars'](_0xb620fa){const _0x22f815=_0x2358f4;return(await(0x0,_0x36f88f[_0x22f815(0x2d5)])((0x0,_0x36f88f[_0x22f815(0x42d)])(_0x1eef3c[_0x22f815(0x44d)](),'/developers/'+_0xb620fa+_0x22f815(0x8c9))))['docs'][_0x22f815(0x8d9)](_0x3dbd44=>{const _0x233a81=_0x22f815,_0x48c504=_0x3dbd44[_0x233a81(0x562)]();return{'id':_0x3dbd44['id'],'name':_0x48c504[_0x233a81(0x683)],'description':_0x48c504[_0x233a81(0x827)],'content':_0x48c504[_0x233a81(0x5d0)]};});}async[_0x2358f4(0x56b)](_0x498493){const _0x1b85ef=_0x2358f4;return(await(0x0,_0x36f88f[_0x1b85ef(0x2d5)])((0x0,_0x36f88f[_0x1b85ef(0x42d)])(_0x1eef3c[_0x1b85ef(0x44d)](),'/developers/'+_0x498493+_0x1b85ef(0x1af))))[_0x1b85ef(0x368)][_0x1b85ef(0x8d9)](_0x29881f=>{const _0x562156=_0x1b85ef,_0x499d13=_0x29881f[_0x562156(0x562)]();return{'id':_0x29881f['id'],'modelName':_0x499d13['modelName'],'engineType':_0x499d13['engine'],'taskType':_0x499d13[_0x562156(0x59e)],'inputType':_0x499d13[_0x562156(0x95f)]??_0x4ab575['GenerativeAIModelInputType']['Text'],'outputType':_0x499d13['outputType']??_0x4ab575[_0x562156(0x5ce)][_0x562156(0x28c)],'sourceUrl':_0x499d13[_0x562156(0x835)]};});}}const _0xc84b20=_0x2a3cff[_0x2358f4(0xa9c)]();class _0x63c561 extends _0x24285e{[_0x2358f4(0x68a)];[_0x2358f4(0xa0a)];[_0x2358f4(0x98e)]=0x0;[_0x2358f4(0x443)]=0x0;[_0x2358f4(0x247)];constructor(_0x5a6eb9,_0x47d309,_0xe3cb83,_0x29cd1f){const _0x4f90c1=_0x2358f4;super(_0x5a6eb9,_0x47d309,_0x29cd1f),this['localNode']=_0x5a6eb9,this['vendorId']=_0xe3cb83,this[_0x4f90c1(0x44c)]();}[_0x2358f4(0x816)](){const _0x4b399b=_0x2358f4;this['debounceStats']&&(clearTimeout(this['debounceStats']),delete this[_0x4b399b(0x247)]),super[_0x4b399b(0x816)]();}[_0x2358f4(0x7c3)](){const _0x471aa2=_0x2358f4;this[_0x471aa2(0x98e)]=0x0,this[_0x471aa2(0x443)]=0x0,this[_0x471aa2(0x44c)](),super[_0x471aa2(0x7c3)]();}['createAIJob'](_0x4298af){const _0x4c2c2f=_0x2358f4,_0x215619='job-'+(0x0,_0x42da8f['v4'])();switch(_0x4298af[_0x4c2c2f(0x5ba)]){case'prompt':let _0x5a5f90=!0x1;const _0x1b6b9e=()=>{const _0x47c0e9=_0x4c2c2f;if(_0x5a5f90)throw new _0x45bad0(_0x45bad0[_0x47c0e9(0x297)][_0x47c0e9(0x7a0)]);_0x5a5f90=!0x0;},_0x411871=()=>(_0x1b6b9e(),this[_0x4c2c2f(0x3cf)](_0x215619,_0x4298af['prompt'],_0x4298af[_0x4c2c2f(0x56f)])),_0x34b48a=()=>(_0x1b6b9e(),this['stream'](_0x215619,_0x4298af[_0x4c2c2f(0x3cf)],_0x4298af[_0x4c2c2f(0x56f)]));return{'id':_0x215619,'prompt':_0x4298af[_0x4c2c2f(0x3cf)],'options':_0x4298af['options']??{'threadId':_0x4c2c2f(0x2ac)+(0x0,_0x42da8f['v4'])()},'run':_0x411871,'stream':_0x34b48a};case'rate':let _0x3545c2=!0x1;const _0x423940=()=>{const _0x141d4b=_0x4c2c2f;if(_0x3545c2)throw new _0x45bad0(_0x45bad0[_0x141d4b(0x297)][_0x141d4b(0x7a0)]);_0x3545c2=!0x0;},_0x21d539=()=>(_0x423940(),this['internalRatePrompt'](_0x215619,_0x4298af[_0x4c2c2f(0x7f2)],_0x4298af[_0x4c2c2f(0x2f3)],_0x4298af[_0x4c2c2f(0x56f)]));if(!_0x4298af[_0x4c2c2f(0x56f)]?.['threadId'])throw new _0x5af266(_0x3412d7['GenerativeAIContextJobMissingThreadId'],_0x4c2c2f(0x3c8));return{'id':_0x215619,'rating':_0x4298af[_0x4c2c2f(0x7f2)],'options':_0x4298af[_0x4c2c2f(0x56f)]??{'threadId':_0x4c2c2f(0x2ac)+(0x0,_0x42da8f['v4'])()},'rate':_0x21d539};case _0x4c2c2f(0x9bb):let _0x1fbf32=!0x1;const _0x562992=()=>{const _0x5c2323=_0x4c2c2f;if(_0x1fbf32)throw new _0x45bad0(_0x45bad0[_0x5c2323(0x297)][_0x5c2323(0x7a0)]);_0x1fbf32=!0x0;};return{'id':_0x215619,'objectStoreId':'','documentPath':_0x4298af[_0x4c2c2f(0x7ae)],'download':()=>(_0x562992(),this[_0x4c2c2f(0x4af)](_0x215619,_0x4298af[_0x4c2c2f(0x26d)],_0x4298af[_0x4c2c2f(0x7ae)]))};}}async[_0x2358f4(0x7be)](_0xac89fc){const _0x47f98f=_0x2358f4;return this[_0x47f98f(0x920)](_0xac89fc)['rate']();}async[_0x2358f4(0x9bb)](_0x218090){const _0x305eab=_0x2358f4,_0x5b7d06={'type':'downloadDocument','objectStoreId':'','documentPath':_0x218090};return this[_0x305eab(0x920)](_0x5b7d06)['download']();}async['internalRatePrompt'](_0x10caae,_0x4b9185,_0x3cc8ad,{threadId:_0x3ce9f0,feedback:_0x4568ad=''}){const _0x5082f4=_0x2358f4,_0x404b1d={'type':_0x5082f4(0x70f),'jobId':_0x3cc8ad,'threadId':_0x3ce9f0,'rating':_0x4b9185,'feedback':_0x4568ad},_0x47dcca=await this[_0x5082f4(0x7e9)](_0x10caae,_0x4ab575[_0x5082f4(0x9c1)]['Job'],_0x404b1d,{'threadId':_0x3ce9f0,'feedback':_0x4568ad});return new Promise((_0x375237,_0x54c696)=>{let _0x5eb96c;const _0x111b5c=_0x47dcca['subscribe']({'next':_0x327af2=>{const _0xd967de=a0_0x34e5;switch(_0x327af2[_0xd967de(0x978)]){case _0x4ab575[_0xd967de(0x850)]['Completed']:clearTimeout(_0x5eb96c),_0x375237(_0x327af2[_0xd967de(0x79c)]),_0x111b5c[_0xd967de(0x353)]();break;case _0x4ab575['JobStatus'][_0xd967de(0x281)]:clearTimeout(_0x5eb96c),_0x54c696(new _0x45bad0(_0x45bad0[_0xd967de(0x297)][_0xd967de(0x960)],{'updatedJob':_0x327af2})),_0x111b5c[_0xd967de(0x353)]();}},'error':_0x4eda10=>{const _0x293108=a0_0x34e5;clearTimeout(_0x5eb96c),_0x54c696(new _0x45bad0(_0x45bad0[_0x293108(0x297)][_0x293108(0x960)],{'err':_0x4eda10})),_0x111b5c[_0x293108(0x353)]();}});_0x5eb96c=setTimeout(()=>{const _0x5610fe=a0_0x34e5;_0x54c696(new _0x45bad0(_0x45bad0[_0x5610fe(0x297)][_0x5610fe(0x300)])),_0x111b5c['unsubscribe']();},_0x56b3f6);});}async[_0x2358f4(0x4af)](_0x51549b,_0xe19c70,_0x2a6d8b){const _0x278201=_0x2358f4,_0x32afe2={'type':_0x278201(0x9bb),'objectStoreId':_0xe19c70,'documentPath':_0x2a6d8b,'threadId':_0x278201(0x2ac)+(0x0,_0x42da8f['v4'])()},_0x57cbe4=await this[_0x278201(0x7e9)](_0x51549b,_0x4ab575[_0x278201(0x9c1)][_0x278201(0xaa4)],_0x32afe2);return new Promise((_0xfc03b7,_0x541a34)=>{const _0x31365e=_0x278201;let _0x5c98ba;const _0x357a72=_0x57cbe4[_0x31365e(0x6f4)]({'next':_0x1a468c=>{const _0x13a231=_0x31365e;switch(_0x1a468c[_0x13a231(0x978)]){case _0x4ab575[_0x13a231(0x850)][_0x13a231(0x328)]:clearTimeout(_0x5c98ba),_0xfc03b7(_0x1a468c[_0x13a231(0x79c)]),_0x357a72['unsubscribe']();break;case _0x4ab575[_0x13a231(0x850)][_0x13a231(0x281)]:clearTimeout(_0x5c98ba),_0x541a34(new _0x45bad0(_0x45bad0[_0x13a231(0x297)][_0x13a231(0x960)],{'updatedJob':_0x1a468c})),_0x357a72[_0x13a231(0x353)]();}},'error':_0xe31dab=>{const _0x526f7e=_0x31365e;clearTimeout(_0x5c98ba),_0x541a34(new _0x45bad0(_0x45bad0[_0x526f7e(0x297)][_0x526f7e(0x960)],{'err':_0xe31dab})),_0x357a72['unsubscribe']();}});_0x5c98ba=setTimeout(()=>{const _0x3d7f47=_0x31365e;_0x541a34(new _0x45bad0(_0x45bad0[_0x3d7f47(0x297)][_0x3d7f47(0x300)])),_0x357a72[_0x3d7f47(0x353)]();},_0x56b3f6);});}async[_0x2358f4(0x3cf)](_0x3d4787,_0x31bafe,_0x57a47d){const _0x190542=_0x2358f4,_0x253fba={'type':_0x190542(0x3cf),'prompt':_0x31bafe,'threadId':_0x57a47d?.['threadId']??'thread-'+(0x0,_0x42da8f['v4'])()},_0x75d98=await this[_0x190542(0x7e9)](_0x3d4787,_0x4ab575[_0x190542(0x9c1)][_0x190542(0xaa4)],_0x253fba,_0x57a47d);return new Promise((_0x504046,_0x15d002)=>{const _0x2d5c78=_0x190542;let _0x4769e5;const _0x203bfa=_0x75d98[_0x2d5c78(0x6f4)]({'next':_0x57876b=>{const _0x437b73=_0x2d5c78;switch(_0x57876b[_0x437b73(0x978)]){case _0x4ab575[_0x437b73(0x850)][_0x437b73(0x328)]:if(_0x437b73(0x3cf)!==_0x57876b['result'][_0x437b73(0x5ba)])return;const _0x3bc874=_0x57876b[_0x437b73(0x79c)][_0x437b73(0x69d)]??0x0;this[_0x437b73(0x8a4)](_0x31bafe,_0x3bc874),clearTimeout(_0x4769e5),_0x504046(_0x57876b[_0x437b73(0x79c)]),_0x203bfa[_0x437b73(0x353)](),this[_0x437b73(0x98e)]+=0x1,this[_0x437b73(0x443)]+=_0x3bc874,this['sendStats']();break;case _0x4ab575[_0x437b73(0x850)][_0x437b73(0x281)]:clearTimeout(_0x4769e5),_0x15d002(new _0x45bad0(_0x45bad0[_0x437b73(0x297)][_0x437b73(0x960)],{'updatedJob':_0x57876b})),_0x203bfa[_0x437b73(0x353)](),this[_0x437b73(0x44c)]();}},'error':_0x37281a=>{const _0x2437cb=_0x2d5c78;clearTimeout(_0x4769e5),_0x15d002(new _0x45bad0(_0x45bad0[_0x2437cb(0x297)][_0x2437cb(0x960)],{'err':_0x37281a})),_0x203bfa['unsubscribe']();}});_0x4769e5=setTimeout(()=>{const _0x1bc201=_0x2d5c78;_0x15d002(new _0x45bad0(_0x45bad0[_0x1bc201(0x297)]['GenerativeAIContextJobTimeout'])),_0x203bfa[_0x1bc201(0x353)]();},_0x56b3f6);});}async*[_0x2358f4(0x92c)](_0x3e108a,_0x5ea2d6,_0x4f17c8){const _0x509deb=_0x2358f4,_0x2534db={'type':_0x509deb(0x3cf),'prompt':_0x5ea2d6,'threadId':_0x4f17c8?.['threadId']??_0x509deb(0x2ac)+(0x0,_0x42da8f['v4'])()},_0x8514bb=await this['getJobObservable'](_0x3e108a,_0x4ab575[_0x509deb(0x9c1)][_0x509deb(0x3f3)],_0x2534db,_0x4f17c8);let _0x1e3e29,_0x5c10f4,_0x3c68b0=!0x1,_0xb3ca0b=0x0;const _0x4818a5=[],_0x2390e3=new Map();let _0x241c10=null;const _0x3ff78a=()=>{_0x241c10&&(_0x241c10(),_0x241c10=null);},_0x39f4f0=_0x3df285=>{const _0x250386=_0x509deb;_0x3c68b0=!0x0,_0x3ff78a(),_0x1d8b12[_0x250386(0x353)](),_0x5c10f4=_0x3df285;},_0x1d8b12=_0x8514bb[_0x509deb(0x6f4)]({'next':_0x50f1f5=>{const _0x1005fd=_0x509deb;switch(_0x50f1f5[_0x1005fd(0x978)]){case _0x4ab575['JobStatus'][_0x1005fd(0x735)]:if(_0x1005fd(0x3cf)!==_0x50f1f5['result'][_0x1005fd(0x5ba)])return;if(_0x50f1f5[_0x1005fd(0x79c)]&&void 0x0!==_0x50f1f5[_0x1005fd(0x79c)][_0x1005fd(0x8da)]){if(void 0x0===_0x50f1f5[_0x1005fd(0x79c)]['index'])return void _0x39f4f0(_0x45bad0[_0x1005fd(0x297)]['GenerativeAIContextInvalidPartialResult']);_0xb3ca0b===_0x50f1f5[_0x1005fd(0x79c)]['index']?(_0x4818a5[_0x1005fd(0x397)](_0x50f1f5[_0x1005fd(0x79c)]),_0xb3ca0b++,((()=>{const _0x3d993a=_0x1005fd;for(;_0x2390e3[_0x3d993a(0x3d0)](_0xb3ca0b);)_0x4818a5['push'](_0x2390e3['get'](_0x4818a5['length'])),_0x2390e3[_0x3d993a(0x6e6)](_0x4818a5['length']),_0xb3ca0b++;})()),_0x3ff78a(),_0x30cff5()):_0x2390e3[_0x1005fd(0x851)](_0x50f1f5[_0x1005fd(0x79c)][_0x1005fd(0x55d)],_0x50f1f5[_0x1005fd(0x79c)]);}break;case _0x4ab575[_0x1005fd(0x850)][_0x1005fd(0x328)]:if(_0x1005fd(0x3cf)!==_0x50f1f5[_0x1005fd(0x79c)][_0x1005fd(0x5ba)])return;const _0x14fce7=_0x50f1f5[_0x1005fd(0x79c)][_0x1005fd(0x69d)]??0x0;this[_0x1005fd(0x8a4)](_0x5ea2d6,_0x14fce7),clearTimeout(_0x1e3e29),_0x39f4f0(),this[_0x1005fd(0x98e)]+=0x1,this[_0x1005fd(0x443)]+=_0x14fce7,this[_0x1005fd(0x44c)]();break;case _0x4ab575[_0x1005fd(0x850)][_0x1005fd(0x281)]:clearTimeout(_0x1e3e29),_0x39f4f0(_0x45bad0[_0x1005fd(0x297)][_0x1005fd(0x960)]),this['sendStats']();}},'error':_0x1afca5=>{const _0x3fcf7a=_0x509deb;clearTimeout(_0x1e3e29),_0x39f4f0(_0x45bad0[_0x3fcf7a(0x297)]['GenerativeAIContextJobFailed']);}}),_0x528ec2=()=>{const _0x5bef1d=_0x509deb;_0x39f4f0(_0x45bad0[_0x5bef1d(0x297)][_0x5bef1d(0x300)]);},_0x30cff5=()=>{clearTimeout(_0x1e3e29),_0x1e3e29=setTimeout(_0x528ec2,_0x56b3f6);};for(_0x1e3e29=setTimeout(_0x528ec2,_0x56b3f6);!_0x3c68b0||_0x4818a5['length']>0x0;)_0x4818a5['length']>0x0?yield _0x4818a5[_0x509deb(0x98a)]():await new Promise(_0x49effd=>_0x241c10=_0x49effd);if(_0x5c10f4)throw _0x561d9b['error']('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x509deb(0x68a)]['getId'](),'nodeType':this['localNode'][_0x509deb(0x5ba)]}),new _0x45bad0(_0x5c10f4);}async[_0x2358f4(0x29f)](){const _0x514ace=_0x2358f4;return(await _0xc84b20['getWorkflow'](this['vendorId'],this[_0x514ace(0x2bb)]))['dataBucketIds'];}[_0x2358f4(0x8a4)](_0x5f2750,_0x4c6ba9){const _0x488dfa=_0x2358f4,_0x3d80f1=this[_0x488dfa(0x2bb)],_0x5477e2=this[_0x488dfa(0x779)]();_0x561d9b[_0x488dfa(0x8a4)](_0x4ae419[_0x488dfa(0x1c0)],{'topic':_0x3d80f1,'prompt':_0x5f2750,'type':_0x488dfa(0x3cf),'nodeId':_0x5477e2,'tokenCount':_0x4c6ba9});}async[_0x2358f4(0x7e9)](_0x22f4f5,_0x2de4ec,_0x3a1a73,_0x59690f={}){const _0x39111e=_0x2358f4;let _0x2e6e82;switch(_0x3a1a73[_0x39111e(0x5ba)]){case _0x39111e(0x3cf):{const {threadId:_0x50119c}=_0x59690f;_0x2e6e82={'id':_0x22f4f5,'jobType':_0x2de4ec,'parameters':{..._0x59690f,'type':_0x39111e(0x3cf),'prompt':_0x3a1a73[_0x39111e(0x3cf)],'threadId':_0x50119c},'status':_0x4ab575[_0x39111e(0x850)][_0x39111e(0x32a)]};break;}case _0x39111e(0x70f):{const {threadId:_0x1216c1}=_0x59690f;_0x2e6e82={'id':_0x22f4f5,'jobType':_0x2de4ec,'parameters':{..._0x59690f,'type':_0x39111e(0x70f),'jobId':_0x3a1a73[_0x39111e(0x2f3)],'rating':_0x3a1a73[_0x39111e(0x7f2)],'feedback':_0x3a1a73[_0x39111e(0x260)]??'','threadId':_0x1216c1},'status':_0x4ab575[_0x39111e(0x850)][_0x39111e(0x32a)]};break;}case _0x39111e(0x9bb):_0x2e6e82={'id':_0x22f4f5,'jobType':_0x2de4ec,'parameters':{..._0x59690f,'type':_0x39111e(0x9bb),'objectStoreId':_0x3a1a73[_0x39111e(0x26d)],'documentPath':_0x3a1a73[_0x39111e(0x7ae)]},'status':_0x4ab575[_0x39111e(0x850)][_0x39111e(0x32a)]};}return await this[_0x39111e(0x217)](_0x2e6e82);}[_0x2358f4(0x44c)](){const _0x6bbe7c=_0x2358f4;this['debounceStats']&&clearTimeout(this[_0x6bbe7c(0x247)]),this[_0x6bbe7c(0x247)]=setTimeout(async()=>{const _0x257d94=_0x6bbe7c;delete this[_0x257d94(0x247)],this[_0x257d94(0x80f)][_0x257d94(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x257d94(0x60f)],'content':{'type':_0x2d88a4[_0x257d94(0x80e)],'label':this['label'],'stats':{'timestamp':Date[_0x257d94(0x58d)](),'storage':0x0,'messagesSent':this[_0x257d94(0x379)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x257d94(0x5f3)],'bytesReceived':this[_0x257d94(0x67e)],'writes':0x0,'reads':0x0,'prompts':this[_0x257d94(0x98e)],'tokens':this[_0x257d94(0x443)]}}});},_0x9a9f66);}}var _0x3125e8,_0x2296e6,_0x3d4084,_0x41bd8f,_0x5caa01,_0x2d44f4,_0x42f1ad,_0x2d0ebe,_0x5a652c,_0x3b2990,_0x1846d4;!function(_0x46ad0f){const _0x4144f7=_0x2358f4;_0x46ad0f[_0x4144f7(0x442)]='AITrace',_0x46ad0f[_0x4144f7(0x636)]=_0x4144f7(0x636),_0x46ad0f[_0x4144f7(0x60d)]=_0x4144f7(0x60d),_0x46ad0f['WorkflowTrace']=_0x4144f7(0x5e1);}(_0x3125e8||(_0x3125e8={})),function(_0x40ccc8){const _0x211d64=_0x2358f4;_0x40ccc8['ModelText']=_0x211d64(0x58f),_0x40ccc8['ModelVector']='ModelVector',_0x40ccc8['VectorSearch']=_0x211d64(0x670),_0x40ccc8['EntityExtractor']=_0x211d64(0x2cc),_0x40ccc8[_0x211d64(0x658)]=_0x211d64(0x658),_0x40ccc8['Reranker']=_0x211d64(0x5d9);}(_0x2296e6||(_0x2296e6={})),function(_0x3ecc8a){const _0x17d185=_0x2358f4;_0x3ecc8a[_0x3ecc8a[_0x17d185(0x617)]=0x0]=_0x17d185(0x617),_0x3ecc8a[_0x3ecc8a['Info']=0x5]=_0x17d185(0x69c),_0x3ecc8a[_0x3ecc8a['Warning']=0xa]=_0x17d185(0x5fb),_0x3ecc8a[_0x3ecc8a[_0x17d185(0x6be)]=0xf]='Error';}(_0x3d4084||(_0x3d4084={})),function(_0x3fb0b3){const _0x34636a=_0x2358f4;_0x3fb0b3[_0x34636a(0x1fc)]='Retrieve',_0x3fb0b3[_0x34636a(0x47e)]='Ingest',_0x3fb0b3[_0x34636a(0x9d8)]=_0x34636a(0x9d8),_0x3fb0b3[_0x34636a(0x931)]=_0x34636a(0x931),_0x3fb0b3[_0x34636a(0x298)]=_0x34636a(0x298),_0x3fb0b3[_0x34636a(0xaa4)]=_0x34636a(0xaa4),_0x3fb0b3[_0x34636a(0x4e0)]=_0x34636a(0x4e0),_0x3fb0b3[_0x34636a(0x689)]='Rating';}(_0x41bd8f||(_0x41bd8f={})),function(_0x104188){const _0xf190d5=_0x2358f4;_0x104188[_0xf190d5(0x84c)]=_0xf190d5(0x84c),_0x104188['Completed']=_0xf190d5(0x328);}(_0x5caa01||(_0x5caa01={})),function(_0x18b95c){const _0x34f86f=_0x2358f4;_0x18b95c['InitialPrompt']=_0x34f86f(0x67b),_0x18b95c['IntermediateOutput']=_0x34f86f(0x664),_0x18b95c[_0x34f86f(0x62e)]=_0x34f86f(0x62e),_0x18b95c[_0x34f86f(0x620)]=_0x34f86f(0x620);}(_0x2d44f4||(_0x2d44f4={})),function(_0x8f08bc){const _0x159e81=_0x2358f4;_0x8f08bc[_0x159e81(0x4a9)]='ChunkSplitter',_0x8f08bc[_0x159e81(0x58a)]=_0x159e81(0x58a),_0x8f08bc[_0x159e81(0x2cc)]='EntityExtractor',_0x8f08bc['GraphDatabase']=_0x159e81(0xa16),_0x8f08bc[_0x159e81(0x461)]=_0x159e81(0x461),_0x8f08bc[_0x159e81(0x58f)]=_0x159e81(0x58f),_0x8f08bc[_0x159e81(0x2bf)]='ModelVector',_0x8f08bc[_0x159e81(0x3a0)]=_0x159e81(0x3a0),_0x8f08bc['SentenceSplitter']=_0x159e81(0xa41),_0x8f08bc[_0x159e81(0x219)]=_0x159e81(0x219),_0x8f08bc[_0x159e81(0x55f)]=_0x159e81(0x55f);}(_0x42f1ad||(_0x42f1ad={})),function(_0x4cea5b){const _0x56d990=_0x2358f4;_0x4cea5b[_0x56d990(0x8f0)]=_0x56d990(0x8f0),_0x4cea5b[_0x56d990(0x6d8)]=_0x56d990(0x6d8);}(_0x2d0ebe||(_0x2d0ebe={})),function(_0x534ffd){const _0x26f679=_0x2358f4;_0x534ffd['ExecuteCode']=_0x26f679(0x7fa),_0x534ffd['GetDate']='GetDate',_0x534ffd[_0x26f679(0x977)]=_0x26f679(0x977),_0x534ffd['SearchGoogle']=_0x26f679(0x6b1),_0x534ffd[_0x26f679(0x584)]=_0x26f679(0x584),_0x534ffd[_0x26f679(0x34b)]=_0x26f679(0x34b);}(_0x5a652c||(_0x5a652c={})),function(_0x426b0c){const _0x5dd9f2=_0x2358f4;_0x426b0c['LoadKnowledgeFunction']=_0x5dd9f2(0x587),_0x426b0c['LoadSkillFunction']=_0x5dd9f2(0x38b);}(_0x3b2990||(_0x3b2990={})),function(_0x473bf6){const _0x410b4b=_0x2358f4;_0x473bf6[_0x410b4b(0x652)]=_0x410b4b(0x652);}(_0x1846d4||(_0x1846d4={}));class _0x1bb6bc{static ['instance'];['jobQueue']=[];[_0x2358f4(0x85c)]=!0x1;constructor(){}static[_0x2358f4(0xa9c)](){const _0x5c6660=_0x2358f4;return _0x1bb6bc[_0x5c6660(0x6da)]||(_0x1bb6bc[_0x5c6660(0x6da)]=new _0x1bb6bc()),_0x1bb6bc[_0x5c6660(0x6da)];}get[_0x2358f4(0x87a)](){const _0x4ea17b=_0x2358f4;return this[_0x4ea17b(0x364)][_0x4ea17b(0x87a)];}['isAvailable'](){return!this['isRunning'];}['clear'](_0x2bae20){const _0x41418b=_0x2358f4;_0x2bae20?this[_0x41418b(0x364)]=this[_0x41418b(0x364)][_0x41418b(0x829)](_0x244809=>_0x244809['ownerId']!==_0x2bae20):(this[_0x41418b(0x364)]=[],this['isRunning']=!0x1);}[_0x2358f4(0x845)](_0x32e754,_0x481f02){const _0x3ee0d4=_0x2358f4;this[_0x3ee0d4(0x364)][_0x3ee0d4(0x397)]({'callback':_0x481f02,'ownerId':_0x32e754}),this['runJobQueue']();}async['runJobQueue'](){const _0x3d7a8f=_0x2358f4;if(!this[_0x3d7a8f(0x85c)]){for(this[_0x3d7a8f(0x85c)]=!0x0;this['jobQueue'][_0x3d7a8f(0x87a)]>0x0;){const _0x508be4=this['jobQueue'][_0x3d7a8f(0x98a)]();if(_0x508be4)try{console['warn']('JobQueueService:\x20Running\x20job'),await _0x508be4['callback']();}catch(_0x3f68bb){console[_0x3d7a8f(0x7b7)]('JobQueueService:\x20Error\x20running\x20job',_0x3f68bb);}}this[_0x3d7a8f(0x85c)]=!0x1;}}}const _0x4beec1=_0x1bb6bc[_0x2358f4(0xa9c)]();class _0xd71a6d extends _0xa6bf6b{[_0x2358f4(0x753)];[_0x2358f4(0x794)];constructor(_0x15e12d,_0x4fce07,_0x395c28){const _0x5970f6=_0x2358f4;super(_0x15e12d,_0x4fce07),this[_0x5970f6(0x753)]=_0x395c28;}[_0x2358f4(0x8d8)](){const _0xbabcae=_0x2358f4;return _0x4ab575[_0xbabcae(0x7fd)][_0xbabcae(0xaa4)];}['open'](){const _0x3e0d44=_0x2358f4;this[_0x3e0d44(0x1b6)]();}[_0x2358f4(0x951)](){const _0x3543ed=_0x2358f4;this[_0x3543ed(0x80f)]?.[_0x3543ed(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x3543ed(0x60f)],'content':{'type':_0x2d88a4[_0x3543ed(0x9b1)],'label':this[_0x3543ed(0x2bb)]}});}[_0x2358f4(0x7c3)](){const _0xbd906c=_0x2358f4;this[_0xbd906c(0x794)]?.(),delete this[_0xbd906c(0x794)],this[_0xbd906c(0x1ed)]();}[_0x2358f4(0x816)](){const _0x25282c=_0x2358f4;_0x4beec1[_0x25282c(0x375)](this[_0x25282c(0x2bb)]),this[_0x25282c(0x794)]?.(),delete this[_0x25282c(0x794)],super['destroy']();}[_0x2358f4(0x9bd)](){const _0x191a59=_0x2358f4;return _0x4beec1[_0x191a59(0x9bd)]();}['getBid'](){return 0x1;}[_0x2358f4(0x99e)](_0x387f5c,_0x391dd2,_0x5bf92d){}[_0x2358f4(0x6e3)](_0x1a0ced,_0x1c3149){return _0x1a0ced;}['startTracing'](_0xd8514c,_0x52c44e){const _0x12f798=_0x2358f4;console['warn'](_0x12f798(0x7d3));}['stopTracing'](_0x5e1356,_0x11f01a){const _0x1811c4=_0x2358f4;console[_0x1811c4(0x697)]('JobWorker:\x20Tracing\x20not\x20implemented');}[_0x2358f4(0x1b6)](){const _0x3ccae7=_0x2358f4;this[_0x3ccae7(0x794)]||(this[_0x3ccae7(0x794)]=this[_0x3ccae7(0x9d5)]((_0x12ee99,_0x37a453)=>{const _0x3780c4=_0x3ccae7;if(_0x561d9b[_0x3780c4(0x870)](_0x577427[_0x3780c4(0x6fd)],_0x3780c4(0x1c9),_0x37a453),!(_0x37a453 instanceof File)){if(this[_0x3780c4(0x7c7)](_0x37a453))_0x561d9b[_0x3780c4(0x870)](_0x577427[_0x3780c4(0x6fd)],_0x3780c4(0x78a),_0x37a453),this[_0x3780c4(0x9bd)]()?this['sendBid'](_0x37a453['id'],_0x37a453[_0x3780c4(0x9e1)],_0x12ee99):this[_0x3780c4(0x702)](_0x37a453['id'],_0x37a453[_0x3780c4(0x9e1)],_0x12ee99);else{if(this[_0x3780c4(0x1ba)](_0x37a453)){_0x561d9b[_0x3780c4(0x870)](_0x577427[_0x3780c4(0x6fd)],'JobWorker:\x20Received\x20job\x20attribution',_0x37a453);const {id:_0x5029bc,parameters:_0x278d8f}=_0x37a453;this[_0x3780c4(0x998)](_0x5029bc,_0x278d8f),_0x4beec1[_0x3780c4(0x845)](this[_0x3780c4(0x2bb)],()=>this[_0x3780c4(0x743)](_0x37a453['id'],_0x37a453,_0x12ee99));}}}}));}['sendBid'](_0x31588d,_0x1a6e8e,_0x5ca189){const _0x2696c0=_0x2358f4,_0x561109={'id':_0x31588d,'jobType':_0x1a6e8e,'jobPhase':_0x4cc4c4[_0x2696c0(0x668)],'available':!0x0,'queueLength':_0x4beec1[_0x2696c0(0x87a)],'bid':this[_0x2696c0(0x42b)]()};_0x561d9b[_0x2696c0(0x870)](_0x577427[_0x2696c0(0x6fd)],_0x2696c0(0x1b9),_0x561109),this['send'](_0x561109,[_0x5ca189]);}[_0x2358f4(0x702)](_0x45ba5a,_0x153b00,_0x5e54f6){const _0x20bb7b=_0x2358f4,_0x163344={'id':_0x45ba5a,'jobType':_0x153b00,'jobPhase':_0x4cc4c4[_0x20bb7b(0x668)],'available':!0x1,'queueLength':_0x4beec1[_0x20bb7b(0x87a)],'bid':0x0};_0x561d9b[_0x20bb7b(0x870)](_0x577427[_0x20bb7b(0x6fd)],'JobWorker:\x20Sending\x20job\x20reject',_0x163344),this['send'](_0x163344,[_0x5e54f6]);}async[_0x2358f4(0x743)](_0x2f681a,_0x4e551a,_0xb1fb2a){const _0x31468f=_0x2358f4;_0x561d9b[_0x31468f(0x870)](_0x577427[_0x31468f(0x6fd)],_0x31468f(0x4ca),_0x4e551a);const _0xb1eb28={'id':_0x2f681a,'jobType':_0x4e551a[_0x31468f(0x9e1)],'parameters':_0x4e551a['parameters']};try{switch(_0x4e551a[_0x31468f(0x9e1)]){case _0x4ab575['JobType'][_0x31468f(0xaa4)]:await this[_0x31468f(0x2dd)](_0x2f681a,_0x4e551a,_0xb1eb28,_0xb1fb2a);break;case _0x4ab575['JobType'][_0x31468f(0x3f3)]:await this[_0x31468f(0x1ec)](_0x2f681a,_0x4e551a,_0xb1eb28,_0xb1fb2a);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x2d3d3e){_0x561d9b[_0x31468f(0x7b7)](_0x31468f(0x5f8),{'nodeId':this[_0x31468f(0x4a3)][_0x31468f(0x7b4)](),'nodeType':this[_0x31468f(0x4a3)][_0x31468f(0x5ba)],'data':{'job':_0xb1eb28}},_0x2d3d3e);const _0x27a8f9=_0x2d3d3e instanceof Error?_0x2d3d3e['message']:_0x31468f(0x629),_0x8b71cf={'id':_0x2f681a,'jobType':_0x4e551a[_0x31468f(0x9e1)],'jobPhase':_0x4cc4c4[_0x31468f(0x281)],'message':_0x27a8f9};await this[_0x31468f(0x9cd)](_0x8b71cf,[_0xb1fb2a]);}}async['processJob'](_0x4992d0,_0x223321,_0x3085c5,_0x57779d){const _0x536eaf=_0x2358f4,_0x28707e=Date[_0x536eaf(0x58d)](),_0x2a4adb=await this['internalProcessJob'](_0x4992d0,_0x3085c5['parameters']);this[_0x536eaf(0x99e)](_0x2a4adb,_0x28707e,Date[_0x536eaf(0x58d)]());const _0x2d8722={'id':_0x4992d0,'jobType':_0x223321[_0x536eaf(0x9e1)],'jobPhase':_0x4cc4c4['Result'],'result':_0x2a4adb};_0x561d9b['log'](_0x577427['Jobs'],_0x536eaf(0x340),_0x2d8722),await this['send'](_0x2d8722,[_0x57779d]),this[_0x536eaf(0x834)](_0x4992d0,_0x3085c5[_0x536eaf(0x3e2)]);}async[_0x2358f4(0x1ec)](_0x231d31,_0xce6fc4,_0x59a235,_0x201c7d){const _0x3fe381=_0x2358f4,_0x22893a=Date[_0x3fe381(0x58d)]();let _0x4a8cf9=0x0,_0x1173e={};for await(const _0x51fe06 of this['internalProcessJobStream'](_0x59a235['id'],_0x59a235[_0x3fe381(0x3e2)])){const _0x131e50={'id':_0x231d31,'jobType':_0xce6fc4[_0x3fe381(0x9e1)],'jobPhase':_0x4cc4c4[_0x3fe381(0x4a8)],'result':{..._0x51fe06,'index':_0x4a8cf9}};_0x561d9b['log'](_0x577427[_0x3fe381(0x6fd)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x131e50),this['send'](_0x131e50,[_0x201c7d]),_0x1173e=this[_0x3fe381(0x6e3)](_0x1173e,_0x51fe06),_0x4a8cf9++;}this[_0x3fe381(0x99e)](_0x1173e,_0x22893a,Date['now']());const _0x5ce4bf={'id':_0x231d31,'jobType':_0xce6fc4[_0x3fe381(0x9e1)],'jobPhase':_0x4cc4c4['Result'],'result':_0x1173e};_0x561d9b[_0x3fe381(0x870)](_0x577427[_0x3fe381(0x6fd)],'JobWorker:\x20Sending\x20job\x20result',_0x5ce4bf),await this[_0x3fe381(0x9cd)](_0x5ce4bf,[_0x201c7d]),this['stopTracing'](_0x231d31,_0x59a235[_0x3fe381(0x3e2)]);}[_0x2358f4(0x7c7)](_0x3b8f20){const _0x4e76f5=_0x2358f4;return _0x3b8f20[_0x4e76f5(0x985)]===_0x4cc4c4[_0x4e76f5(0x701)];}[_0x2358f4(0x1ba)](_0x2d653f){return _0x2d653f['jobPhase']===_0x4cc4c4['Attribution'];}}function _0xacdb89(_0x3803f5,_0x2d1360){return'logging-db-'+_0x3803f5+'-'+_0x2d1360;}function _0x1602b3(){const _0xd76aee=_0x2358f4,_0x5b4cfc=_0x378756[_0xd76aee(0x5e3)](0x1);return _0x5b4cfc[_0xd76aee(0x54a)](_0xd76aee(0x9b8))['index']('id')[_0xd76aee(0x55d)](_0xd76aee(0x2f3))[_0xd76aee(0x55d)](_0xd76aee(0x2b5))[_0xd76aee(0x55d)]('threadId')['index']('timestamp')[_0xd76aee(0x55d)](_0xd76aee(0x4e1)),_0x5b4cfc;}function _0xd2588c(_0x5ee8d4){const _0x5c78b2=_0x2358f4;try{return JSON[_0x5c78b2(0x787)](_0x5ee8d4);}catch(_0x3bd7f8){return _0x5ee8d4 instanceof Error?_0x5ee8d4[_0x5c78b2(0x98b)]():JSON[_0x5c78b2(0x787)]('Error\x20stringifying\x20object');}}class _0x25a00e{static [_0x2358f4(0x6da)];[_0x2358f4(0x357)]=_0x3d4084[_0x2358f4(0x6be)];['commitLevel']=_0x3d4084[_0x2358f4(0x69c)];[_0x2358f4(0x85a)]=_0x41bd8f[_0x2358f4(0x1fc)];[_0x2358f4(0x4d2)]={};static ['getInstance']=()=>(_0x25a00e[_0x2358f4(0x6da)]||(_0x25a00e[_0x2358f4(0x6da)]=new _0x25a00e()),_0x25a00e[_0x2358f4(0x6da)]);[_0x2358f4(0x9c3)](_0x448cb2,_0x157e22,_0x4cb19a=!0x0){const _0x5017e8=_0x2358f4;try{if(this['openedTraces'][_0x157e22])throw new Error(_0x5017e8(0x799));const _0x3cca8a={'sequence':0x0};if(this['openedTraces'][_0x157e22]=_0x3cca8a,!_0x448cb2)return!0x0;const _0x42584f=function(_0x100fe9){const _0xf7e80c=_0x5017e8;return _0x100fe9[_0xf7e80c(0x34a)](_0xf7e80c(0x9b8));}(_0x448cb2);return _0x3cca8a['database']=_0x448cb2,_0x3cca8a[_0x5017e8(0x54a)]=_0x42584f,!0x0;}catch(_0x44d20c){return console[_0x5017e8(0x7b7)]('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27'+_0x4cb19a,_0x44d20c),!!_0x4cb19a&&(this[_0x5017e8(0x710)](_0x157e22),this['openTrace'](_0x448cb2,_0x157e22,!0x1));}}[_0x2358f4(0x9af)](_0x464d2c){const _0x52701a=_0x2358f4;try{const _0x81d33=this[_0x52701a(0x4d2)][_0x464d2c[_0x52701a(0x2f3)]];if(!_0x81d33)throw new Error(_0x52701a(0x25c));_0x464d2c['sequence']=_0x81d33[_0x52701a(0x4e1)]++,_0x464d2c[_0x52701a(0x421)]>=this[_0x52701a(0x357)]&&console[_0x52701a(0x870)](JSON[_0x52701a(0x787)](_0x464d2c,null,0x2)),this['commitTrace'](_0x464d2c);}catch(_0x575a1f){console[_0x52701a(0x7b7)](_0x52701a(0x600),_0x575a1f);}}['closeTrace'](_0x328470){const _0x138893=_0x2358f4;if(!_0x25a00e[_0x138893(0x6da)])throw new Error(_0x138893(0x2c9));if(!this[_0x138893(0x4d2)][_0x328470])throw new Error(_0x138893(0x6c4));delete this[_0x138893(0x4d2)][_0x328470];}['commitTrace'](_0x4b6470){const _0x4dbdcf=_0x2358f4;if(_0x4b6470[_0x4dbdcf(0x421)]<this[_0x4dbdcf(0x5fe)]&&_0x4b6470[_0x4dbdcf(0x9e1)]!==this[_0x4dbdcf(0x85a)])return;if(!this[_0x4dbdcf(0x4d2)][_0x4b6470['jobId']])throw new Error(_0x4dbdcf(0x273));const _0x16d9b0=this[_0x4dbdcf(0x4d2)][_0x4b6470[_0x4dbdcf(0x2f3)]];if(!_0x16d9b0[_0x4dbdcf(0xa86)])throw new Error(_0x4dbdcf(0x404));if(!_0x16d9b0[_0x4dbdcf(0x54a)])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set');try{const _0x41d249=function(_0x4602a7){const _0xa8d7b9=_0x4dbdcf,_0x240357=['startTime','timestamp',_0xa8d7b9(0x9e1),_0xa8d7b9(0x5ba),_0xa8d7b9(0x2f3),'traceLevel',_0xa8d7b9(0x7ec),_0xa8d7b9(0x978),_0xa8d7b9(0x4e1),_0xa8d7b9(0x9a4)],_0x2c2ed3={..._0x4602a7};for(const _0x5f5a7f of _0x240357)delete _0x2c2ed3[_0x5f5a7f];return{'timestamp':_0x4602a7[_0xa8d7b9(0x5e2)],'jobType':_0x4602a7[_0xa8d7b9(0x9e1)],'type':_0x4602a7[_0xa8d7b9(0x5ba)],'jobId':_0x4602a7[_0xa8d7b9(0x2f3)],'agentId':_0x4602a7[_0xa8d7b9(0x2b5)]??'','traceLevel':_0x4602a7[_0xa8d7b9(0x421)],'blockId':_0x4602a7[_0xa8d7b9(0x7ec)]??'','startTime':_0x4602a7['startTime'],'status':_0x4602a7[_0xa8d7b9(0x978)],'sequence':_0x4602a7[_0xa8d7b9(0x4e1)]??0x0,'errorDetails':_0x4602a7[_0xa8d7b9(0x9a4)]??'','metadata':_0xd2588c(_0x2c2ed3)};}(_0x4b6470),_0xbd1515=(0x0,_0x42da8f['v4'])();console['log']('Logging\x20trace',_0x41d249[_0x4dbdcf(0x5ba)]),_0x16d9b0['table'][_0x4dbdcf(0x851)](_0xbd1515,_0x41d249);}catch(_0x1149f5){console[_0x4dbdcf(0x7b7)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x1149f5);}}}const _0x2ce26a=_0x25a00e['getInstance']();async function _0x314f0d(_0x463e91,_0x37ec29,_0x2d7ff5,_0x22217e,_0x169cce){const _0x42b403=_0x2358f4,_0x2d7db2=Date[_0x42b403(0x58d)](),_0x54328f=_0x169cce[_0x42b403(0x382)][_0x42b403(0x7c6)](_0x23eeea=>_0x23eeea['id']===_0x2d7ff5[_0x42b403(0x7a7)]);if(!_0x54328f)throw new Error(_0x42b403(0x69e));const _0x298294=_0x169cce[_0x42b403(0x5f0)][_0x42b403(0x7c6)](_0x145a85=>_0x145a85[_0x42b403(0x734)]()===_0x54328f[_0x42b403(0x458)]);if(!_0x298294)throw new Error(_0x42b403(0x3ce));const _0x253c13=[],_0x19558d=(0x0,_0x42da8f['v4'])(),_0x2ab4de=await _0x298294[_0x42b403(0x2dd)]({'type':_0x42b403(0x3cf),'prompt':_0x37ec29,'instructions':_0x2d7ff5[_0x42b403(0x27f)],'grammar':_0x2d7ff5[_0x42b403(0x389)],'temperature':_0x2d7ff5[_0x42b403(0x9fb)],'maxTokens':_0x2d7ff5[_0x42b403(0xa1a)],'threadId':_0x19558d},{'model':_0x54328f});if('string'!=typeof _0x2ab4de[_0x42b403(0x8da)])throw new Error(_0x42b403(0x5e4));_0x2ce26a[_0x42b403(0x9af)]({'jobType':_0x41bd8f[_0x42b403(0x47e)],'type':_0x42f1ad[_0x42b403(0x461)],'jobId':_0x463e91,'blockId':_0x2d7ff5['id'],'traceLevel':_0x3d4084[_0x42b403(0x617)],'timestamp':Date[_0x42b403(0x58d)](),'startTime':_0x2d7db2,'status':_0x42b403(0x603),'agentId':_0x19558d,'content':_0x37ec29,'instructions':_0x2d7ff5[_0x42b403(0x27f)],'result':_0x2ab4de['output']}),_0x253c13['push']({'content':_0x2ab4de[_0x42b403(0x8da)],'start':0x0,'length':_0x37ec29[_0x42b403(0x87a)]}),await _0x25068c(_0x463e91,_0x253c13,_0x2d7ff5,_0x22217e,_0x169cce);}async function _0x2eaf0b(_0x1e41c9,_0x4e3c40,_0x67a632,_0x4f7f33,_0x268bb8){const _0x6e897f=_0x2358f4,_0x1a310c=Date[_0x6e897f(0x58d)]();let _0x2cf324=[];if(_0x4e3c40 instanceof Array){for(const _0x2ae3b7 of _0x4e3c40)_0x2cf324=_0x2cf324[_0x6e897f(0x5ff)](_0x5e422f(_0x2ae3b7[_0x6e897f(0x5d0)],_0x67a632,_0x2ae3b7[_0x6e897f(0x435)],_0x2ae3b7[_0x6e897f(0x87a)]));}else _0x2cf324=_0x5e422f(_0x4e3c40,_0x67a632);_0x2ce26a[_0x6e897f(0x9af)]({'jobType':_0x41bd8f[_0x6e897f(0x47e)],'type':_0x42f1ad[_0x6e897f(0x4a9)],'traceLevel':_0x3d4084[_0x6e897f(0x617)],'jobId':_0x1e41c9,'blockId':_0x67a632['id'],'startTime':_0x1a310c,'timestamp':Date[_0x6e897f(0x58d)](),'status':_0x6e897f(0x603),'totalChunks':_0x2cf324[_0x6e897f(0x87a)],'chunkSize':_0x67a632[_0x6e897f(0x477)][_0x6e897f(0x9dc)]}),await _0x25068c(_0x1e41c9,_0x2cf324,_0x67a632,_0x4f7f33,_0x268bb8);}function _0x5e422f(_0x3a0953,_0x110944,_0x5a627d,_0x54741d){const _0x12e8de=_0x2358f4,_0x3903a3=[];let _0x2e28a4=0x0;for(let _0x27e147=0x0;_0x27e147<_0x3a0953[_0x12e8de(0x87a)];_0x27e147+=_0x110944[_0x12e8de(0x477)][_0x12e8de(0x9dc)]){let _0x1d835e=_0x27e147-_0x110944[_0x12e8de(0x477)][_0x12e8de(0x96b)];_0x1d835e<0x0&&(_0x1d835e=0x0);let _0x5d087d=_0x27e147+_0x110944[_0x12e8de(0x477)][_0x12e8de(0x9dc)]+_0x110944['attributes'][_0x12e8de(0x96b)];_0x5d087d>_0x3a0953[_0x12e8de(0x87a)]&&(_0x5d087d=_0x3a0953[_0x12e8de(0x87a)]);const _0x1b42bb=_0x3a0953[_0x12e8de(0x292)](_0x1d835e,_0x5d087d);_0x3903a3[_0x12e8de(0x397)]({'content':_0x1b42bb,'start':_0x5a627d??_0x2e28a4,'length':_0x54741d??_0x1b42bb[_0x12e8de(0x87a)]}),_0x2e28a4+=_0x1b42bb[_0x12e8de(0x87a)];}return _0x3903a3;}async function _0x312eb0(_0x30e3b3,_0xd3b523,_0x347ee7,_0x575299,_0x505d63){const _0x461e25=_0x2358f4,_0x2c9194=Date[_0x461e25(0x58d)]();let _0x39a537;if(_0xd3b523[_0x461e25(0x4db)]['type']['startsWith'](_0x461e25(0x309))||(_0x346839=_0xd3b523[_0x461e25(0x4db)][_0x461e25(0x683)],_0x9e3026[_0x461e25(0x877)]('.'+(_0x346839[_0x461e25(0x6ab)]('.')[_0x461e25(0x301)]()?.[_0x461e25(0x73d)]()||''))))_0x39a537=await _0xd3b523[_0x461e25(0x4db)]['text']();else{if(!_0x505d63[_0x461e25(0x2db)]['supports'](_0xd3b523[_0x461e25(0x4db)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0xd3b523[_0x461e25(0x4db)][_0x461e25(0x5ba)]+_0x461e25(0x5b0)+_0xd3b523[_0x461e25(0x4db)][_0x461e25(0x683)]);_0x39a537=await _0x505d63[_0x461e25(0x2db)]['parse'](_0xd3b523[_0x461e25(0x4db)]);}var _0x346839;_0x2ce26a['trace']({'jobType':_0x41bd8f['Ingest'],'type':_0x42f1ad[_0x461e25(0x58a)],'traceLevel':_0x3d4084['Debug'],'blockId':_0x347ee7['id'],'jobId':_0x30e3b3,'startTime':_0x2c9194,'timestamp':Date['now'](),'status':'success','documentType':_0xd3b523[_0x461e25(0x4db)][_0x461e25(0x5ba)],'documentName':_0xd3b523[_0x461e25(0x4db)][_0x461e25(0x683)],'extractionMethod':_0x461e25(0x8e4)}),await _0x25068c(_0x30e3b3,_0x39a537,_0x347ee7,_0x575299,_0x505d63);}const _0x9e3026=['.js',_0x2358f4(0x350),_0x2358f4(0x540),_0x2358f4(0x1ad),'.txt',_0x2358f4(0x88a),'.css',_0x2358f4(0x817),_0x2358f4(0x4fd),_0x2358f4(0x574),_0x2358f4(0x62d),_0x2358f4(0x33f),_0x2358f4(0x7ce),'.ini','.cfg',_0x2358f4(0x1c8),_0x2358f4(0x97b),'.rb','.php','.java','.c','.cpp',_0x2358f4(0x9ed),'.r','.go','.swift',_0x2358f4(0x981),_0x2358f4(0x7f6),_0x2358f4(0x8f7),_0x2358f4(0x29e),'.pl','.lua','.hs',_0x2358f4(0x42c),_0x2358f4(0x765),_0x2358f4(0x577),'.ex',_0x2358f4(0x6cf),'.vb',_0x2358f4(0x5dd),_0x2358f4(0x30b),'.m',_0x2358f4(0x1a1),_0x2358f4(0x4dc),_0x2358f4(0x92d),_0x2358f4(0x269),_0x2358f4(0x916),_0x2358f4(0x415),_0x2358f4(0x764),_0x2358f4(0x5e7),_0x2358f4(0x89d),'.jinja','.jinja2','.hbs',_0x2358f4(0x580),_0x2358f4(0x79d),_0x2358f4(0x89f),_0x2358f4(0x8f2),_0x2358f4(0x4bb),'.tpl','.twig','.j2',_0x2358f4(0x5d4)];async function _0x2b9085(_0x5c92a6,_0x3a16a6,_0x513d8a,_0x448f69,_0x4c9b09){const _0x14acbd=_0x2358f4,_0x511fa6=Date[_0x14acbd(0x58d)](),_0x3ff159=new Set();let _0x58aab9=0x0;for(const _0x430ae8 of _0x3a16a6)_0x58aab9+=_0x430ae8[_0x14acbd(0x5d0)][_0x14acbd(0x87a)],await _0x48169b(_0x430ae8['content'],_0x3ff159,_0x513d8a,_0x4c9b09['nlpLibraryConnector']);_0x2ce26a[_0x14acbd(0x9af)]({'jobType':_0x41bd8f[_0x14acbd(0x47e)],'type':_0x42f1ad[_0x14acbd(0x2cc)],'jobId':_0x5c92a6,'blockId':_0x513d8a['id'],'traceLevel':_0x3d4084['Debug'],'startTime':_0x511fa6,'timestamp':Date['now'](),'status':_0x14acbd(0x603),'contentLength':_0x58aab9,'totalChunks':_0x3a16a6 instanceof Array?_0x3a16a6['length']:0x1,'entitiesExtracted':_0x3ff159,'totalEntities':_0x3ff159[_0x14acbd(0x9dc)]}),await _0x25068c(_0x5c92a6,_0x3ff159,_0x513d8a,_0x448f69,_0x4c9b09);}async function _0x48169b(_0x657394,_0x3ca576,_0x5ad8fc,_0x51f421){const _0x55cbab=_0x2358f4,_0x1feae4=await _0x51f421[_0x55cbab(0x478)](_0x657394,{'ner':_0x5ad8fc['attributes']['ner'],'noun':_0x5ad8fc[_0x55cbab(0x477)]['noun'],'propn':_0x5ad8fc[_0x55cbab(0x477)][_0x55cbab(0x819)],'verb':_0x5ad8fc[_0x55cbab(0x477)][_0x55cbab(0x4e9)]});for(const _0x60d748 of _0x1feae4)_0x3ca576[_0x55cbab(0x845)](_0x60d748);}function _0x2941c1(_0x132ca6,_0x4fb97d,_0x44523e,_0x8bd594,_0x18ccb6){const _0x46bc0c=_0x2358f4,_0x5e0a43=Date[_0x46bc0c(0x58d)]();if(_0x44523e['accumulated']||(_0x44523e[_0x46bc0c(0x630)]={}),_0x46bc0c(0x991)==typeof _0x4fb97d?_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x5d0)]=_0x4fb97d:_0x4fb97d instanceof Set?_0x44523e['accumulated'][_0x46bc0c(0x4c2)]=_0x4fb97d:_0x4fb97d instanceof Map?_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x78c)]=_0x4fb97d:_0x4fb97d instanceof Array?_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x55d)]=_0x4fb97d:_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x4db)]=_0x4fb97d,_0x44523e[_0x46bc0c(0x3e3)]=_0x44523e[_0x46bc0c(0x3e3)]?_0x44523e[_0x46bc0c(0x3e3)]+0x1:0x1,_0x134f36(_0x44523e,_0x8bd594)>_0x44523e[_0x46bc0c(0x3e3)])return;if(!(_0x44523e['accumulated'][_0x46bc0c(0x4c2)]&&_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x4db)]&&_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x5d0)]&&_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x55d)]))throw new Error(_0x46bc0c(0x93a));let _0x2510fd=0x0;const _0x565296=_0x18ccb6['contentMediator'][_0x46bc0c(0x22c)](_0x44523e['id']);for(const _0x8d9455 of _0x44523e[_0x46bc0c(0x630)]['entities']){let _0x45174f=[];_0x45174f=_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x55d)][_0x46bc0c(0x829)](_0x10d250=>_0x10d250[_0x46bc0c(0x5d0)]['includes'](_0x8d9455));try{_0x565296['addNode'](_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x4db)][_0x46bc0c(0x313)],_0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x5d0)],_0x45174f,_0x8d9455),_0x2510fd+=0x1;}catch(_0x5e294c){}}if(_0x44523e['accumulated'][_0x46bc0c(0x78c)]){for(const [_0x20aab5,_0x2a5ada]of _0x44523e[_0x46bc0c(0x630)][_0x46bc0c(0x78c)])for(const _0x2d1e50 of _0x2a5ada)try{_0x565296['addEdge'](_0x20aab5,_0x2d1e50);}catch(_0x439964){}if(_0x565296[_0x46bc0c(0x874)]()){let _0x3f4599=''+(_0x18ccb6[_0x46bc0c(0x97a)]??0x1);for(const _0x24bf7c of _0x8bd594)if(_0x24bf7c[_0x46bc0c(0x5ba)]===_0x1a4caa['Agent']){_0x3f4599=_0x3f4599+'-'+(_0x24bf7c[_0x46bc0c(0x97a)]??0x1);break;}_0x565296[_0x46bc0c(0x287)](_0x3f4599);}_0x2ce26a[_0x46bc0c(0x9af)]({'jobType':_0x41bd8f[_0x46bc0c(0x47e)],'type':_0x42f1ad['GraphDatabase'],'jobId':_0x132ca6,'blockId':_0x44523e['id'],'status':_0x46bc0c(0x603),'startTime':_0x5e0a43,'timestamp':Date[_0x46bc0c(0x58d)](),'traceLevel':_0x3d4084[_0x46bc0c(0x617)],'nodesAdded':_0x2510fd,'entities':_0x44523e['accumulated'][_0x46bc0c(0x4c2)],'relations':_0x44523e['accumulated'][_0x46bc0c(0x78c)]});}}async function _0x47f4f9(_0x3e3dff,_0x4aea3f,_0x3221f9,_0x2571ff,_0x25b678){const _0x4817e0=_0x2358f4,_0x14e2c7=_0x25b678['models']['find'](_0x130408=>_0x130408['id']===_0x3221f9['id']);if(!_0x14e2c7)throw new Error(_0x4817e0(0x69e));switch(_0x14e2c7[_0x4817e0(0x504)]){case _0x4ab575['GenerativeAIModelOutputType'][_0x4817e0(0x28c)]:if('string'!=typeof _0x4aea3f)throw new Error(_0x4817e0(0x606));await async function(_0x43a5d7,_0x3a7381,_0x468f58,_0x388f43,_0x52204e,_0x452259){const _0x4284f5=_0x4817e0,_0x3739c5=Date[_0x4284f5(0x58d)]();let _0x222ebc;const _0x563bf2=_0x452259[_0x4284f5(0x5f0)][_0x4284f5(0x7c6)](_0x230128=>_0x230128[_0x4284f5(0x734)]()===_0x468f58[_0x4284f5(0x458)]);if(!_0x563bf2)throw new Error(_0x4284f5(0x3ce));_0x222ebc=await async function(_0x4fe830,_0x13f5bf,_0x1a7bf8){const _0x432f31=_0x4284f5,_0x329c99=await _0x13f5bf[_0x432f31(0x2dd)]({'type':_0x432f31(0x3cf),'prompt':_0x4fe830,'threadId':''},{'model':_0x1a7bf8});if(_0x329c99[_0x432f31(0x8da)]instanceof Array)throw new Error('Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text');return _0x329c99['output'];}(_0x3a7381,_0x563bf2,_0x468f58),_0x2ce26a[_0x4284f5(0x9af)]({'jobType':_0x41bd8f['Ingest'],'type':_0x42f1ad[_0x4284f5(0x58f)],'jobId':_0x43a5d7,'blockId':_0x388f43['id'],'traceLevel':_0x3d4084[_0x4284f5(0x617)],'timestamp':Date[_0x4284f5(0x58d)](),'startTime':_0x3739c5,'status':_0x4284f5(0x603),'modelName':_0x468f58['id'],'inputType':_0x468f58['inputType'],'outputType':_0x468f58[_0x4284f5(0x504)],'content':_0x3a7381,'results':_0x222ebc}),await _0x25068c(_0x43a5d7,_0x222ebc,_0x388f43,_0x52204e,_0x452259);}(_0x3e3dff,_0x4aea3f,_0x14e2c7,_0x3221f9,_0x2571ff,_0x25b678);break;case _0x4ab575['GenerativeAIModelOutputType']['Vector']:if(!(_0x4aea3f instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x1c1c1e,_0x156dc5,_0x2c6624,_0x4e061d,_0xa11441,_0x7351d9){const _0x329f29=_0x4817e0,_0x371781=Date[_0x329f29(0x58d)](),_0x48cea6=[],_0x404253=_0x7351d9['generativeAIWorkerConnectors']['find'](_0x316a2d=>_0x316a2d[_0x329f29(0x734)]()===_0x2c6624[_0x329f29(0x458)]);if(!_0x404253)throw new Error(_0x329f29(0x3ce));for(const _0x10e0fc of _0x156dc5)_0x48cea6['push'](await _0x1e1940(_0x10e0fc,_0x404253,_0x2c6624));_0x2ce26a['trace']({'jobType':_0x41bd8f[_0x329f29(0x47e)],'type':_0x42f1ad[_0x329f29(0x2bf)],'jobId':_0x1c1c1e,'blockId':_0x4e061d['id'],'traceLevel':_0x3d4084[_0x329f29(0x617)],'timestamp':Date[_0x329f29(0x58d)](),'startTime':_0x371781,'status':_0x329f29(0x603),'modelName':_0x2c6624['id'],'inputType':_0x2c6624['inputType'],'outputType':_0x2c6624[_0x329f29(0x504)],'totalVectors':_0x48cea6['length']}),await _0x25068c(_0x1c1c1e,_0x48cea6,_0x4e061d,_0xa11441,_0x7351d9);}(_0x3e3dff,_0x4aea3f,_0x14e2c7,_0x3221f9,_0x2571ff,_0x25b678);}}async function _0x1e1940(_0x1444fa,_0x2d5d42,_0xb322ba){const _0x5a206a=_0x2358f4;return(await _0x2d5d42[_0x5a206a(0x2dd)]({'type':_0x5a206a(0x3cf),'prompt':_0x1444fa[_0x5a206a(0x5d0)],'threadId':''},{'model':_0xb322ba}))[_0x5a206a(0x8da)];}async function _0x5623e4(_0x1e77f2,_0x10db18,_0x578aea,_0x4d7342,_0x4a3783){const _0x3bfe55=_0x2358f4,_0x145004=Date[_0x3bfe55(0x58d)]();if(_0x578aea['accumulated']||(_0x578aea[_0x3bfe55(0x630)]={}),_0x10db18 instanceof Array?_0x578aea['accumulated'][_0x3bfe55(0x55d)]=_0x10db18:_0x578aea[_0x3bfe55(0x630)][_0x3bfe55(0x4c2)]=_0x10db18,_0x578aea[_0x3bfe55(0x3e3)]=_0x578aea[_0x3bfe55(0x3e3)]?_0x578aea['timesCalled']+0x1:0x1,_0x134f36(_0x578aea,_0x4d7342)>_0x578aea[_0x3bfe55(0x3e3)])return;if(!_0x578aea[_0x3bfe55(0x630)]['index']||!_0x578aea[_0x3bfe55(0x630)][_0x3bfe55(0x4c2)])throw new Error(_0x3bfe55(0x4bc));const _0x15d0ca=new Map();for(const _0x1c8249 of _0x578aea[_0x3bfe55(0x630)][_0x3bfe55(0x55d)])_0xe43c7c(_0x1c8249[_0x3bfe55(0x5d0)],_0x578aea[_0x3bfe55(0x630)][_0x3bfe55(0x4c2)],_0x15d0ca);_0x2ce26a[_0x3bfe55(0x9af)]({'jobType':_0x41bd8f[_0x3bfe55(0x47e)],'type':_0x42f1ad[_0x3bfe55(0x3a0)],'jobId':_0x1e77f2,'blockId':_0x578aea['id'],'traceLevel':_0x3d4084[_0x3bfe55(0x617)],'timestamp':Date[_0x3bfe55(0x58d)](),'startTime':_0x145004,'status':_0x3bfe55(0x603),'entities':_0x578aea['accumulated']['entities'],'relations':_0x15d0ca,'totalRelationsExtracted':_0x15d0ca[_0x3bfe55(0x9dc)]}),await _0x25068c(_0x1e77f2,_0x15d0ca,_0x578aea,_0x4d7342,_0x4a3783);}function _0xe43c7c(_0x3a9f2b,_0x13bda1,_0x50f8b2){const _0x318b21=_0x2358f4;for(const _0x2d2a20 of _0x13bda1)for(const _0x1bedbd of _0x13bda1){if(_0x2d2a20===_0x1bedbd)continue;const _0x269fdc=_0x3a9f2b[_0x318b21(0x803)](_0x2d2a20),_0xfc83d=_0x3a9f2b['indexOf'](_0x1bedbd);-0x1!==_0x269fdc&&-0x1!==_0xfc83d&&(_0x50f8b2[_0x318b21(0x3d0)](_0x2d2a20)||_0x50f8b2[_0x318b21(0x851)](_0x2d2a20,new Set()),_0x50f8b2[_0x318b21(0x879)](_0x2d2a20)[_0x318b21(0x845)](_0x1bedbd));}return _0x50f8b2;}async function _0x4defe9(_0x764d33,_0xca58d0,_0x5befbe,_0x551450,_0x5dba55){const _0x25bb7e=_0x2358f4,_0x527eef=Date[_0x25bb7e(0x58d)]();let _0x4a84bf=[];if(_0xca58d0 instanceof Array)for(const _0x4103ef of _0xca58d0){const _0x2c54ce=await _0x5dba55[_0x25bb7e(0x36c)][_0x25bb7e(0x8b8)](_0x4103ef['content']);_0x4a84bf=_0x4a84bf[_0x25bb7e(0x5ff)](_0x2c54ce[_0x25bb7e(0x8d9)](_0x3e8db8=>({'content':_0x3e8db8,'start':_0x4103ef[_0x25bb7e(0x435)],'length':_0x4103ef[_0x25bb7e(0x87a)]})));}else _0x4a84bf=(await _0x5dba55[_0x25bb7e(0x36c)]['getSentences'](_0xca58d0))['map'](_0x19030d=>({'content':_0x19030d,'start':_0xca58d0[_0x25bb7e(0x803)](_0x19030d),'length':_0x19030d[_0x25bb7e(0x87a)]}));_0x2ce26a['trace']({'jobType':_0x41bd8f[_0x25bb7e(0x47e)],'type':_0x42f1ad[_0x25bb7e(0xa41)],'jobId':_0x764d33,'blockId':_0x5befbe['id'],'traceLevel':_0x3d4084[_0x25bb7e(0x617)],'startTime':_0x527eef,'timestamp':Date[_0x25bb7e(0x58d)](),'status':_0x25bb7e(0x603),'totalSentences':_0x4a84bf[_0x25bb7e(0x87a)],'averageSentenceLength':_0x4a84bf[_0x25bb7e(0x2fe)]((_0x5664d0,_0x1cc4e8)=>_0x5664d0+_0x1cc4e8['length'],0x0)/_0x4a84bf['length']}),await _0x25068c(_0x764d33,_0x4a84bf,_0x5befbe,_0x551450,_0x5dba55);}function _0x2b471d(_0x280fe2,_0x3f86fc,_0x47b7e8,_0x20d822,_0x45bda1){const _0x537975=_0x2358f4,_0x3ab46b=Date[_0x537975(0x58d)]();var _0x43fa04;if(_0x47b7e8[_0x537975(0x630)]||(_0x47b7e8['accumulated']={}),_0x3f86fc instanceof Array?(_0x43fa04=_0x3f86fc)[0x0]instanceof Array&&_0x537975(0x2d6)==typeof _0x43fa04[0x0]?.[0x0]?_0x47b7e8[_0x537975(0x630)][_0x537975(0x3fb)]=_0x3f86fc:_0x47b7e8[_0x537975(0x630)][_0x537975(0x55d)]=_0x3f86fc:_0x537975(0x991)==typeof _0x3f86fc?_0x47b7e8['accumulated'][_0x537975(0x5d0)]=_0x3f86fc:_0x47b7e8[_0x537975(0x630)][_0x537975(0x4db)]=_0x3f86fc,_0x47b7e8[_0x537975(0x3e3)]=_0x47b7e8['timesCalled']?_0x47b7e8[_0x537975(0x3e3)]+0x1:0x1,_0x134f36(_0x47b7e8,_0x20d822)>_0x47b7e8[_0x537975(0x3e3)])return;if(!(_0x47b7e8[_0x537975(0x630)][_0x537975(0x5d0)]&&_0x47b7e8[_0x537975(0x630)][_0x537975(0x55d)]&&_0x47b7e8[_0x537975(0x630)][_0x537975(0x3fb)]&&_0x47b7e8[_0x537975(0x630)][_0x537975(0x4db)]))throw new Error(_0x537975(0x6f7));const _0x1c8381=_0x45bda1['contentMediator'][_0x537975(0xa09)](_0x47b7e8['id']);if(_0x1c8381[_0x537975(0xa07)](_0x47b7e8[_0x537975(0x630)][_0x537975(0x4db)][_0x537975(0x313)],_0x47b7e8['accumulated'][_0x537975(0x5d0)],_0x47b7e8['accumulated'][_0x537975(0x55d)],_0x47b7e8[_0x537975(0x630)][_0x537975(0x3fb)]),_0x1c8381[_0x537975(0x874)]()){let _0x48f7d5=''+(_0x45bda1[_0x537975(0x97a)]??0x1);for(const _0x14486d of _0x20d822)_0x14486d[_0x537975(0x5ba)]===_0x1a4caa[_0x537975(0x461)]&&(_0x48f7d5=_0x48f7d5+'-'+(_0x14486d[_0x537975(0x97a)]??0x1));_0x1c8381[_0x537975(0x287)](_0x48f7d5);}_0x2ce26a['trace']({'jobType':_0x41bd8f['Ingest'],'type':_0x42f1ad[_0x537975(0x219)],'jobId':_0x280fe2,'blockId':_0x47b7e8['id'],'traceLevel':_0x3d4084[_0x537975(0x617)],'startTime':_0x3ab46b,'timestamp':Date[_0x537975(0x58d)](),'status':_0x537975(0x603),'databaseName':_0x1c8381['getName'](),'vectorsAdded':_0x47b7e8['accumulated'][_0x537975(0x3fb)][_0x537975(0x87a)],'filePathName':_0x47b7e8['accumulated'][_0x537975(0x4db)]['pathName']});}async function _0x5051fd(_0x2269be,_0x106926,_0x1bf54f,_0x324772,_0x110273){const _0xaa9aab=_0x2358f4,_0x400a81=Date[_0xaa9aab(0x58d)]();let _0x2dadf3=[];if(_0x106926 instanceof Array){for(const _0x13e5bf of _0x106926)_0x2dadf3=_0x2dadf3[_0xaa9aab(0x5ff)](_0x1ef6ce(_0x13e5bf[_0xaa9aab(0x5d0)],_0x1bf54f,_0x13e5bf['start'],_0x13e5bf[_0xaa9aab(0x87a)]));}else _0x2dadf3=_0x1ef6ce(_0x106926,_0x1bf54f);_0x2ce26a[_0xaa9aab(0x9af)]({'jobType':_0x41bd8f[_0xaa9aab(0x47e)],'type':_0x42f1ad[_0xaa9aab(0x55f)],'jobId':_0x2269be,'traceLevel':_0x3d4084[_0xaa9aab(0x617)],'blockId':_0x1bf54f['id'],'startTime':_0x400a81,'timestamp':Date[_0xaa9aab(0x58d)](),'status':_0xaa9aab(0x603),'totalChunks':_0x2dadf3[_0xaa9aab(0x87a)],'averageChunkLength':_0x2dadf3[_0xaa9aab(0x2fe)]((_0x1059e4,_0x199c1d)=>_0x1059e4+_0x199c1d[_0xaa9aab(0x87a)],0x0)/_0x2dadf3[_0xaa9aab(0x87a)]}),await _0x25068c(_0x2269be,_0x2dadf3,_0x1bf54f,_0x324772,_0x110273);}function _0x1ef6ce(_0x7a84ac,_0x8dea30,_0x1e6a90,_0x128952){const _0x4de1e2=_0x2358f4,_0x1a6827=[],_0xff11c0=_0x7a84ac[_0x4de1e2(0x6ab)]('\x20');let _0x4b06ed='',_0x494286=0x0,_0x43eff8=0x0,_0x4a9866=0x0;for(const _0x237409 of _0xff11c0){if(_0x4b06ed[_0x4de1e2(0x87a)]+_0x237409[_0x4de1e2(0x87a)]>_0x8dea30[_0x4de1e2(0x477)]['size']){const _0x3a7d0c=_0x4b06ed[_0x4de1e2(0x87a)];let _0x319218=_0x494286,_0x8ad280='';for(;_0x319218>=0x0&&_0x8ad280[_0x4de1e2(0x87a)]+_0xff11c0[_0x319218][_0x4de1e2(0x87a)]<_0x8dea30[_0x4de1e2(0x477)][_0x4de1e2(0x96b)];)_0x8ad280=_0xff11c0[_0x319218]+'\x20'+_0x8ad280,_0x319218--;let _0x2902d9=_0x43eff8,_0x71e7ad='';for(;_0x2902d9<_0xff11c0[_0x4de1e2(0x87a)]&&_0x71e7ad['length']+_0xff11c0[_0x2902d9][_0x4de1e2(0x87a)]<_0x8dea30['attributes'][_0x4de1e2(0x96b)];)_0x71e7ad+=_0xff11c0[_0x2902d9]+'\x20',_0x2902d9++;_0x4b06ed=_0x8ad280+_0x4b06ed+_0x71e7ad,_0x1a6827['push']({'content':_0x4b06ed[_0x4de1e2(0x3a4)](),'start':_0x1e6a90??_0x4a9866,'length':_0x128952??_0x4b06ed['length']}),_0x4b06ed='',_0x494286=_0x43eff8,_0x4a9866+=_0x3a7d0c;}_0x4b06ed+=_0x237409+'\x20',_0x43eff8++;}if(_0x4b06ed[_0x4de1e2(0x87a)]>0x0){const _0x5adb85=_0x4b06ed['length'];let _0x5e53d3=_0x494286,_0x48d80a='';for(;_0x5e53d3>=0x0&&_0x48d80a[_0x4de1e2(0x87a)]+_0xff11c0[_0x5e53d3]['length']<_0x8dea30[_0x4de1e2(0x477)][_0x4de1e2(0x96b)];)_0x48d80a=_0xff11c0[_0x5e53d3]+'\x20'+_0x48d80a,_0x5e53d3--;_0x4b06ed=_0x48d80a+_0x4b06ed,_0x1a6827[_0x4de1e2(0x397)]({'content':_0x4b06ed[_0x4de1e2(0x3a4)](),'start':_0x1e6a90??_0x4a9866,'length':_0x128952??_0x5adb85});}return _0x1a6827;}async function _0x25068c(_0x4ac66d,_0x467972,_0x15168e,_0x3a7027,_0x545076){const _0x3f7edf=_0x2358f4;for(const _0x5a3830 of _0x15168e[_0x3f7edf(0x35a)]||[]){const _0x3b2920=_0x3a7027['find'](_0x4998c1=>_0x4998c1[_0x3f7edf(0x6a3)]===_0x5a3830[_0x3f7edf(0x6a3)]);if(_0x3b2920)switch(_0x3b2920['type']){case _0x1a4caa[_0x3f7edf(0x461)]:await _0x314f0d(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa['ChunkSplitter']:await _0x2eaf0b(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa[_0x3f7edf(0x58a)]:await _0x312eb0(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa[_0x3f7edf(0x2cc)]:await _0x2b9085(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa[_0x3f7edf(0xa16)]:_0x2941c1(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa[_0x3f7edf(0x74e)]:await _0x47f4f9(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa[_0x3f7edf(0x3a0)]:await _0x5623e4(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa[_0x3f7edf(0xa41)]:await _0x4defe9(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa['VectorDatabase']:_0x2b471d(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);break;case _0x1a4caa[_0x3f7edf(0x55f)]:await _0x5051fd(_0x4ac66d,_0x467972,_0x3b2920,_0x3a7027,_0x545076);}}}function _0x134f36(_0x3e8432,_0x19d5da){const _0x4bf948=_0x2358f4;return _0x19d5da[_0x4bf948(0x829)](_0x5f505d=>_0x5f505d[_0x4bf948(0x35a)]?.[_0x4bf948(0x9ec)](_0x29b959=>_0x29b959[_0x4bf948(0x6a3)]===_0x3e8432['uid']))[_0x4bf948(0x87a)];}async function _0x3f665c(_0x4ded3a,_0x48689d,_0x1d74c1,_0x48217b,_0x89bef8){const _0x2685fb=_0x2358f4;try{let _0x5882df;switch(_0x1d74c1[_0x2685fb(0x5ba)]){case _0x1a4caa[_0x2685fb(0x88b)]:const _0x5c9095=_0x89bef8[_0x2685fb(0xa20)][_0x2685fb(0x9a6)](_0x1d74c1['id']);_0x5882df=await _0x5c9095['get'](_0x48689d);break;case _0x1a4caa[_0x2685fb(0x1ef)]:const _0x2ba0c0=_0x89bef8['contentMediator'][_0x2685fb(0x936)](_0x1d74c1['id']);_0x5882df=await _0x2ba0c0[_0x2685fb(0x879)](_0x48689d);}if(!_0x5882df)throw new Error(_0x2685fb(0x4be));await _0x25068c(_0x4ded3a,{'file':_0x5882df,'pathName':_0x48689d},_0x1d74c1,structuredClone(_0x48217b),_0x89bef8);}catch(_0x5d37a8){console[_0x2685fb(0x7b7)](_0x2685fb(0x1e0),_0x5d37a8);}}async function _0x566c5b(_0x33faa2,_0x470ae9,_0x5e42c5,_0xb3edcb,_0x48c7db,_0x10f5fd,_0x1d0ffd){const _0x3d263c=_0x2358f4,_0x270367=Date['now'](),_0xb455b4=new Set();if(_0x5e42c5 instanceof Array){for(const _0x5f2162 of _0x5e42c5)await _0x30089b(_0x5f2162['content'],_0x48c7db,_0xb455b4,_0x1d0ffd['nlpLibraryConnector']);}else await _0x30089b(_0x5e42c5,_0x48c7db,_0xb455b4,_0x1d0ffd['nlpLibraryConnector']);_0x2ce26a['trace']({'jobType':_0x41bd8f['Retrieve'],'type':_0x2296e6[_0x3d263c(0x2cc)],'jobId':_0x33faa2,'threadId':_0x470ae9,'blockId':_0x48c7db['id'],'traceLevel':_0x3d4084[_0x3d263c(0x617)],'startTime':_0x270367,'timestamp':Date['now'](),'status':_0x3d263c(0x603),'content':_0x5e42c5,'entitiesExtracted':Array[_0x3d263c(0x7ed)](_0xb455b4),'totalEntities':_0xb455b4['size']}),await _0x43382c(_0x33faa2,_0x470ae9,_0xb455b4,_0xb3edcb,_0x48c7db,_0x10f5fd,_0x1d0ffd);}async function _0x30089b(_0x4b7fe2,_0x3638ef,_0x2223d2,_0x2aa831){const _0x44c1ba=_0x2358f4,_0x26b2e0=await _0x2aa831[_0x44c1ba(0x478)](_0x4b7fe2,{'ner':_0x3638ef[_0x44c1ba(0x477)][_0x44c1ba(0x7b1)],'noun':_0x3638ef[_0x44c1ba(0x477)][_0x44c1ba(0x206)],'propn':_0x3638ef[_0x44c1ba(0x477)]['propn'],'verb':_0x3638ef[_0x44c1ba(0x477)][_0x44c1ba(0x4e9)]});for(const _0x236da4 of _0x26b2e0)_0x2223d2[_0x44c1ba(0x845)](_0x236da4);}async function _0x106cd3(_0xee0006,_0x2c7b9b,_0xdbf8cd,_0x449360,_0x591c61,_0x3d9651,_0x36f940){const _0x5b6744=_0x2358f4,_0x41f32b=Date[_0x5b6744(0x58d)]();if(_0x591c61['accumulated']||(_0x591c61[_0x5b6744(0x630)]={}),_0xdbf8cd instanceof Array?(_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cc)]||(_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cc)]=[]),_0x591c61[_0x5b6744(0x630)]['results'][_0x5b6744(0x397)](..._0xdbf8cd)):_0xdbf8cd instanceof Set?_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x4c2)]=_0xdbf8cd:_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cf)]=_0xdbf8cd,_0x591c61[_0x5b6744(0x3e3)]=_0x591c61[_0x5b6744(0x3e3)]?_0x591c61[_0x5b6744(0x3e3)]+0x1:0x1,_0x45f3d4(_0x591c61,_0x3d9651)>_0x591c61[_0x5b6744(0x3e3)])return;if(!_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cf)]&&!_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cc)]||!_0x591c61['accumulated']['entities'])throw new Error(_0x5b6744(0x93a));const _0x4c8032=_0x36f940[_0x5b6744(0xa20)][_0x5b6744(0x22c)](_0x591c61['id'])['getContent'](Array[_0x5b6744(0x7ed)](_0x591c61[_0x5b6744(0x630)]['entities']),_0x591c61[_0x5b6744(0x477)][_0x5b6744(0x302)],_0x591c61[_0x5b6744(0x477)]['contentSize']);let _0x3fa43f=[];for(const _0x199a28 in _0x4c8032){const _0x2f0a40=_0x4c8032[_0x199a28];for(const _0x1afbf3 of _0x2f0a40){let _0x41d77a=0x0;if(_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cf)]&&(_0x41d77a=await _0x36f940['nlpLibraryConnector'][_0x5b6744(0x199)](_0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cf)],_0x1afbf3)),_0x591c61['accumulated'][_0x5b6744(0x3cc)]){for(const _0x4fef3e of _0x591c61[_0x5b6744(0x630)][_0x5b6744(0x3cc)])_0x41d77a=Math['max'](_0x41d77a,await _0x36f940['nlpLibraryConnector']['getSimilarity'](_0x4fef3e[_0x5b6744(0x5d0)],_0x1afbf3));}_0x41d77a<_0x591c61[_0x5b6744(0x477)]['minRelevance']||_0x3fa43f[_0x5b6744(0x397)]({'content':_0x1afbf3,'relevance':_0x41d77a,'pathName':_0x199a28});}}_0x3fa43f=_0x3fa43f[_0x5b6744(0x96f)]((_0x5eed0d,_0x2c34e4)=>_0x2c34e4[_0x5b6744(0x4f8)]-_0x5eed0d[_0x5b6744(0x4f8)])['slice'](0x0,_0x591c61['attributes']['topK']),_0x2ce26a[_0x5b6744(0x9af)]({'jobType':_0x41bd8f[_0x5b6744(0x1fc)],'type':_0x2296e6[_0x5b6744(0x658)],'jobId':_0xee0006,'threadId':_0x2c7b9b,'blockId':_0x591c61['id'],'traceLevel':_0x3d4084[_0x5b6744(0x617)],'timestamp':Date[_0x5b6744(0x58d)](),'startTime':_0x41f32b,'status':_0x5b6744(0x603),'content':_0xdbf8cd,'topResults':_0x3fa43f,'numResults':_0x3fa43f[_0x5b6744(0x87a)]}),await _0x43382c(_0xee0006,_0x2c7b9b,_0x3fa43f,_0x449360,_0x591c61,_0x3d9651,_0x36f940);}async function _0x21f4df(_0x3dc772,_0x23cd60,_0x2da85d,_0x37fe33,_0x4dd014,_0x5861f7,_0x1ef663){const _0x1cbc08=_0x2358f4,_0x3067f2=_0x1ef663[_0x1cbc08(0x382)][_0x1cbc08(0x7c6)](_0x414252=>_0x414252['id']===_0x4dd014['id']);if(!_0x3067f2)throw new Error(_0x1cbc08(0x69e));let _0x48cc8d='';switch(_0x48cc8d=_0x2da85d instanceof Array?_0x2da85d['map'](_0x327428=>_0x327428[_0x1cbc08(0x5d0)])[_0x1cbc08(0x374)](',\x20'):_0x2da85d,_0x3067f2[_0x1cbc08(0x504)]){case _0x4ab575[_0x1cbc08(0x5ce)][_0x1cbc08(0x28c)]:await async function(_0x544ff4,_0x1a3047,_0x5396d0,_0x568f47,_0x42c633,_0x543676,_0x541302,_0x4dd86f){const _0x26ac78=_0x1cbc08,_0x5d0ccc=Date[_0x26ac78(0x58d)](),_0x2cbcca=_0x4dd86f[_0x26ac78(0x5f0)][_0x26ac78(0x7c6)](_0x55707b=>_0x55707b['getEngineType']()===_0x42c633['engineType']);if(!_0x2cbcca)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x1921f8=await async function(_0x458eed,_0x3e019e,_0x3a3aec,_0x5d3e93,_0x5e6dcb){const _0x1a5eb0=_0x26ac78,_0x3b2623={'type':_0x1a5eb0(0x3cf),'prompt':_0x3e019e,'threadId':_0x458eed};_0x3a3aec['context']['length']>0x0&&(_0x3b2623['instructions']='Additional\x20context:\x0a'+_0x3a3aec[_0x1a5eb0(0x7e5)][_0x1a5eb0(0x8d9)](_0x37b36a=>_0x1a5eb0(0x675)+_0x37b36a[_0x1a5eb0(0x313)]+':\x20'+_0x37b36a[_0x1a5eb0(0x5d0)])['join']('\x0a'));const _0xddabe0=await _0x5d3e93[_0x1a5eb0(0x2dd)](_0x3b2623,{'model':_0x5e6dcb});if(_0xddabe0[_0x1a5eb0(0x8da)]instanceof Array)throw new Error(_0x1a5eb0(0x4ea));return _0x3a3aec['inputTokens']+=_0xddabe0[_0x1a5eb0(0x69d)]??0x0,_0x3a3aec['outputTokens']+=_0xddabe0[_0x1a5eb0(0xa9a)]??0x0,_0xddabe0[_0x1a5eb0(0x8da)];}(_0x1a3047,_0x5396d0,_0x568f47,_0x2cbcca,_0x42c633);_0x2ce26a[_0x26ac78(0x9af)]({'jobType':_0x41bd8f['Retrieve'],'type':_0x2296e6['ModelText'],'jobId':_0x544ff4,'threadId':_0x1a3047,'blockId':_0x543676['id'],'traceLevel':_0x3d4084[_0x26ac78(0x617)],'startTime':_0x5d0ccc,'timestamp':Date[_0x26ac78(0x58d)](),'status':_0x26ac78(0x603),'modelName':_0x42c633['id'],'content':_0x5396d0,'newPrompt':_0x1921f8,'inputType':_0x42c633[_0x26ac78(0x95f)],'outputType':_0x42c633[_0x26ac78(0x504)]}),await _0x43382c(_0x544ff4,_0x1a3047,_0x1921f8,_0x568f47,_0x543676,_0x541302,_0x4dd86f);}(_0x3dc772,_0x23cd60,_0x48cc8d,_0x37fe33,_0x3067f2,_0x4dd014,_0x5861f7,_0x1ef663);break;case _0x4ab575['GenerativeAIModelOutputType'][_0x1cbc08(0x69b)]:await async function(_0x1e0c0b,_0x3bb35,_0x45841a,_0x4d83b9,_0x26e289,_0x1ba734,_0x15e1fd,_0x42d553){const _0x453421=_0x1cbc08,_0x164c85=Date[_0x453421(0x58d)](),_0x1a6f8d=_0x42d553[_0x453421(0x5f0)][_0x453421(0x7c6)](_0x2b9c9a=>_0x2b9c9a[_0x453421(0x734)]()===_0x26e289[_0x453421(0x458)]);if(!_0x1a6f8d)throw new Error(_0x453421(0x3ce));const _0x574605=await async function(_0x36030c,_0x1b64d9,_0x3e89b6,_0x28682a){const _0x2f1e32=_0x453421;return(await _0x3e89b6[_0x2f1e32(0x2dd)]({'type':'prompt','prompt':_0x1b64d9,'threadId':_0x36030c},{'model':_0x28682a}))['output'];}(_0x3bb35,_0x45841a,_0x1a6f8d,_0x26e289);_0x2ce26a['trace']({'jobType':_0x41bd8f[_0x453421(0x1fc)],'type':_0x2296e6[_0x453421(0x2bf)],'jobId':_0x1e0c0b,'threadId':_0x3bb35,'blockId':_0x1ba734['id'],'traceLevel':_0x3d4084['Debug'],'startTime':_0x164c85,'timestamp':Date[_0x453421(0x58d)](),'status':'success','modelName':_0x26e289['id'],'content':_0x45841a,'totalVectors':_0x574605[_0x453421(0x87a)]}),await _0x43382c(_0x1e0c0b,_0x3bb35,_0x574605,_0x4d83b9,_0x1ba734,_0x15e1fd,_0x42d553);}(_0x3dc772,_0x23cd60,_0x48cc8d,_0x37fe33,_0x3067f2,_0x4dd014,_0x5861f7,_0x1ef663);}}async function _0x191028(_0x44e930,_0x3b06a4,_0x3f9a8d,_0x40080d,_0x57a1c5,_0x53d997,_0x3b7d3e){const _0x5552d6=_0x2358f4,_0x12ef8e=Date[_0x5552d6(0x58d)](),_0x380016=_0x3b7d3e[_0x5552d6(0xa20)]['getVectorDatabase'](_0x57a1c5['id'])[_0x5552d6(0x791)](_0x3f9a8d,_0x57a1c5[_0x5552d6(0x477)]['topK'],_0x57a1c5[_0x5552d6(0x477)]['minRelevance'],_0x57a1c5[_0x5552d6(0x477)][_0x5552d6(0x68b)]);_0x2ce26a[_0x5552d6(0x9af)]({'jobType':_0x41bd8f[_0x5552d6(0x1fc)],'type':_0x2296e6[_0x5552d6(0x670)],'jobId':_0x44e930,'threadId':_0x3b06a4,'blockId':_0x57a1c5['id'],'traceLevel':_0x3d4084[_0x5552d6(0x617)],'startTime':_0x12ef8e,'timestamp':Date[_0x5552d6(0x58d)](),'status':_0x5552d6(0x603),'topResults':_0x380016,'numResults':_0x380016[_0x5552d6(0x87a)]}),await _0x43382c(_0x44e930,_0x3b06a4,_0x380016,_0x40080d,_0x57a1c5,_0x53d997,_0x3b7d3e);}async function _0x77af4c(_0x4ce9a8,_0x5159fc,_0x3920c9,_0xc78706,_0x1d2fbd,_0x526042,_0x491dfe){const _0x1f4041=_0x2358f4,_0x4d4752=Date['now']();if(_0x1d2fbd[_0x1f4041(0x630)]||(_0x1d2fbd['accumulated']={}),_0x3920c9 instanceof Array?(_0x1d2fbd[_0x1f4041(0x630)][_0x1f4041(0x3cc)]||(_0x1d2fbd[_0x1f4041(0x630)][_0x1f4041(0x3cc)]=[]),_0x1d2fbd['accumulated'][_0x1f4041(0x3cc)]['push'](..._0x3920c9)):_0x1d2fbd['accumulated'][_0x1f4041(0x3cf)]=_0x3920c9,_0x1d2fbd[_0x1f4041(0x3e3)]=_0x1d2fbd['timesCalled']?_0x1d2fbd['timesCalled']+0x1:0x1,_0x45f3d4(_0x1d2fbd,_0x526042)>_0x1d2fbd[_0x1f4041(0x3e3)])return;if(!_0x1d2fbd[_0x1f4041(0x630)][_0x1f4041(0x3cf)]||!_0x1d2fbd[_0x1f4041(0x630)][_0x1f4041(0x3cc)])throw new Error(_0x1f4041(0x5cc));for(const _0x233ce3 of _0x1d2fbd[_0x1f4041(0x630)][_0x1f4041(0x3cc)])_0x233ce3[_0x1f4041(0x4f8)]=await _0x491dfe['nlpLibraryConnector'][_0x1f4041(0x199)](_0x1d2fbd['accumulated'][_0x1f4041(0x3cf)],_0x233ce3[_0x1f4041(0x5d0)]);const _0x5ba234=_0x1d2fbd['accumulated']['results'][_0x1f4041(0x829)](_0x2da449=>_0x2da449['relevance']>_0x1d2fbd[_0x1f4041(0x477)]['minRelevance'])[_0x1f4041(0x96f)]((_0x2caad6,_0x2f3b23)=>_0x2f3b23[_0x1f4041(0x4f8)]-_0x2caad6['relevance'])[_0x1f4041(0x38f)](0x0,_0x1d2fbd['attributes'][_0x1f4041(0x22e)]);_0x2ce26a[_0x1f4041(0x9af)]({'jobType':_0x41bd8f[_0x1f4041(0x1fc)],'type':_0x2296e6[_0x1f4041(0x5d9)],'jobId':_0x4ce9a8,'threadId':_0x5159fc,'blockId':_0x1d2fbd['id'],'traceLevel':_0x3d4084[_0x1f4041(0x617)],'startTime':_0x4d4752,'timestamp':Date['now'](),'status':_0x1f4041(0x603),'inputResults':_0x1d2fbd['accumulated']['results'],'rerankedResults':_0x5ba234}),await _0x43382c(_0x4ce9a8,_0x5159fc,_0x5ba234,_0xc78706,_0x1d2fbd,_0x526042,_0x491dfe);}async function _0x43382c(_0x254841,_0x1cb649,_0x4c6f80,_0x2573eb,_0x656b6,_0x325bae,_0x1b155a){const _0x322f20=_0x2358f4;for(const _0x393057 of _0x656b6['links']||[]){const _0x1ef061=_0x325bae[_0x322f20(0x7c6)](_0x50b389=>_0x50b389[_0x322f20(0x6a3)]===_0x393057[_0x322f20(0x6a3)]);if(_0x1ef061)switch(_0x1ef061[_0x322f20(0x5ba)]){case _0x1a4caa[_0x322f20(0x5b6)]:_0x2573eb['context']['push'](..._0x4c6f80);break;case _0x1a4caa[_0x322f20(0x2cc)]:await _0x566c5b(_0x254841,_0x1cb649,_0x4c6f80,_0x2573eb,_0x1ef061,_0x325bae,_0x1b155a);break;case _0x1a4caa['GraphDatabase']:await _0x106cd3(_0x254841,_0x1cb649,_0x4c6f80,_0x2573eb,_0x1ef061,_0x325bae,_0x1b155a);break;case _0x1a4caa[_0x322f20(0x74e)]:await _0x21f4df(_0x254841,_0x1cb649,_0x4c6f80,_0x2573eb,_0x1ef061,_0x325bae,_0x1b155a);break;case _0x1a4caa[_0x322f20(0x5d9)]:await _0x77af4c(_0x254841,_0x1cb649,_0x4c6f80,_0x2573eb,_0x1ef061,_0x325bae,_0x1b155a);break;case _0x1a4caa[_0x322f20(0x219)]:await _0x191028(_0x254841,_0x1cb649,_0x4c6f80,_0x2573eb,_0x1ef061,_0x325bae,_0x1b155a);}}}function _0x45f3d4(_0x1ebf60,_0x51bbbf){const _0x4ce36b=_0x2358f4;return _0x51bbbf[_0x4ce36b(0x829)](_0x2aef17=>_0x2aef17[_0x4ce36b(0x35a)]?.[_0x4ce36b(0x9ec)](_0x5357d2=>_0x5357d2[_0x4ce36b(0x6a3)]===_0x1ebf60[_0x4ce36b(0x6a3)]))[_0x4ce36b(0x87a)];}async function _0x21053d(_0x246a9c,_0x1ca021,_0x50c115,_0x988be4,_0x3b278b,_0x357b3b){const _0x295c4e=_0x2358f4,_0x173977={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x43382c(_0x246a9c,_0x1ca021,_0x50c115,_0x173977,_0x988be4,structuredClone(_0x3b278b),_0x357b3b),_0x173977[_0x295c4e(0x8da)]=_0x295c4e(0x570)+_0x173977['context'][_0x295c4e(0x8d9)](_0x427dc6=>_0x295c4e(0x675)+_0x427dc6['pathName']+':\x20'+_0x427dc6[_0x295c4e(0x5d0)])['join']('\x0a');}catch(_0x558b28){console[_0x295c4e(0x7b7)](_0x295c4e(0x9df),_0x558b28);}return _0x173977;}class _0x40b259{static [_0x2358f4(0x7e5)]={};static['getContent'](_0x22fd48,_0x82d10b){const _0x3a0d64=_0x2358f4;return this[_0x3a0d64(0x7e5)][_0x22fd48]?.[_0x82d10b]??'';}static['setContent'](_0x26e597,_0xa7244e,_0x381912){const _0x4c5d63=_0x2358f4;this[_0x4c5d63(0x7e5)][_0x26e597]||(this[_0x4c5d63(0x7e5)][_0x26e597]={}),this['context'][_0x26e597][_0xa7244e]=_0x381912;}static['getThread'](_0x4e883b){const _0x192e93=_0x2358f4;return this[_0x192e93(0x7e5)][_0x4e883b]??{};}static['removeThread'](_0x5b7ee7){const _0x48b868=_0x2358f4;delete this[_0x48b868(0x7e5)][_0x5b7ee7];}}function _0x1b5446(_0x229b42,_0x190e0a,_0x5d4740,_0x4bfe1e,_0x54deb0,_0x181f96,_0x1c67b4,_0x5f1eba){const _0x1da43f=_0x2358f4,_0x49512d=new Map(),_0x1d092a=_0x181f96[_0x1da43f(0x829)](_0x3d747a=>_0x3d747a[_0x1da43f(0x35a)]?.['find'](_0x43c296=>_0x43c296[_0x1da43f(0x6a3)]===_0x54deb0[_0x1da43f(0x6a3)]&&(_0x43c296[_0x1da43f(0x5ba)]===_0x13f753[_0x1da43f(0x9d8)]||_0x43c296[_0x1da43f(0x5ba)]===_0x13f753[_0x1da43f(0x931)])));for(const _0x3b4694 of _0x1d092a)_0x3b4694[_0x1da43f(0x5ba)]===_0x2067ca['Knowledge']||_0x3b4694[_0x1da43f(0x5ba)]===_0x2067ca[_0x1da43f(0x62e)]?_0x49512d[_0x1da43f(0x851)]('searchInDataCollection'+_0x3b4694['id'],_0x44c380(_0x229b42,_0x190e0a,_0x5d4740,_0x4bfe1e,_0x3b4694,_0x1c67b4,_0x5f1eba)):_0x3b4694['type']===_0x2067ca[_0x1da43f(0x737)]||_0x3b4694[_0x1da43f(0x5ba)]===_0x2067ca['Agent']?_0x49512d['set']('runAgent'+_0x3b4694['id'],_0xf6f24f(_0x229b42,_0x190e0a,_0x5d4740,_0x4bfe1e,_0x3b4694,_0x181f96,_0x1c67b4,_0x5f1eba)):_0x3b4694[_0x1da43f(0x5ba)]===_0x2067ca['CustomSkill']?_0x49512d[_0x1da43f(0x851)](_0x3b4694[_0x1da43f(0x683)][_0x1da43f(0x4b5)](/[^a-zA-Z]/g,''),_0x5038bf(_0x229b42,_0x190e0a,_0x5d4740,_0x3b4694,_0x5f1eba)):_0x49512d['set'](_0x2a9e9d(_0x3b4694),_0x24b7fd(_0x229b42,_0x190e0a,_0x5d4740,_0x3b4694,_0x1c67b4,_0x5f1eba));return(_0x54deb0[_0x1da43f(0x6f5)]&&''!==_0x54deb0[_0x1da43f(0x6f5)]||_0x54deb0['contextOutputVariable']&&''!==_0x54deb0[_0x1da43f(0x979)])&&_0x1da43f(0x8cd)===_0x54deb0[_0x1da43f(0x389)]&&_0x49512d[_0x1da43f(0x851)](_0x1da43f(0x9e8),function(_0x4cf126,_0x57b675,_0x1da7c9){const _0x227a32=_0x1da43f;return{'description':_0x227a32(0x555),'params':{},'callback':async()=>{const _0x5e4f8b=_0x227a32;try{if(!_0x57b675[_0x5e4f8b(0x6f5)]&&!_0x57b675[_0x5e4f8b(0x979)])throw new Error('No\x20context\x20variables\x20set');_0x1da7c9&&_0x1da7c9[_0x5e4f8b(0x396)]({'output':_0x5e4f8b(0xa7c),'type':_0x5e4f8b(0x3cf)});let _0x29515d='';if(_0x57b675[_0x5e4f8b(0x6f5)]){const _0x487b8d=_0x57b675['contextInputVariable'][_0x5e4f8b(0x6ab)](',');for(const _0x2f260c of _0x487b8d){const _0x2340ee=_0x40b259[_0x5e4f8b(0x9a9)](_0x4cf126,_0x2f260c);''!==_0x2340ee&&(_0x29515d=_0x2f260c+':\x20'+_0x2340ee+'\x0a\x0a'+_0x29515d);}}if(_0x57b675[_0x5e4f8b(0x979)]){const _0x2ee1e1=_0x57b675['contextOutputVariable'][_0x5e4f8b(0x6ab)](',');for(const _0x403119 of _0x2ee1e1){const _0x568195=_0x40b259[_0x5e4f8b(0x9a9)](_0x4cf126,_0x403119);''!==_0x568195&&(_0x29515d=_0x403119+':\x20'+_0x568195+'\x0a\x0a'+_0x29515d);}}return _0x29515d;}catch(_0x193062){return console['error'](_0x193062),_0x193062 instanceof Error?_0x193062['message']:_0x5e4f8b(0x8d2);}}};}(_0x5d4740,_0x54deb0,_0x5f1eba)),_0x49512d;}function _0xf6f24f(_0x4a63eb,_0xd74c14,_0x50d06b,_0x31c577,_0x4686dc,_0x21ac28,_0x25ac8d,_0x323c14){const _0x2fea08=_0x2358f4,_0x399c83=_0x2fea08(0x50d)+_0x4686dc[_0x2fea08(0x827)]+'\x20to\x20generate\x20a\x20response.',_0x122529={'prompt':{'type':_0x4ab575[_0x2fea08(0x6eb)][_0x2fea08(0x38d)]}};return _0x2ce26a[_0x2fea08(0x9af)]({'jobType':_0x41bd8f[_0x2fea08(0x4e0)],'type':_0x3b2990[_0x2fea08(0x38b)],'jobId':_0x4a63eb,'agentId':_0xd74c14,'threadId':_0x50d06b,'traceLevel':_0x3d4084[_0x2fea08(0x69c)],'startTime':Date[_0x2fea08(0x58d)](),'timestamp':Date['now'](),'status':_0x2fea08(0x603),'function':_0x5a652c[_0x2fea08(0x584)],'params':_0x122529,'functionDescription':_0x399c83}),{'description':_0x399c83,'params':_0x122529,'callback':async _0x4a8f8d=>{const _0x2d1a94=_0x2fea08,_0x19938a=Date[_0x2d1a94(0x58d)]();let _0x32e77f='';try{if(_0x323c14&&_0x323c14[_0x2d1a94(0x396)]({'output':_0x2d1a94(0x452)+_0x4686dc[_0x2d1a94(0x683)]+'`\x0a\x0a','type':_0x2d1a94(0x3cf)}),_0x2d1a94(0x991)!=typeof _0x4a8f8d?.[_0x2d1a94(0x3cf)])throw new Error(_0x2d1a94(0x665));if(_0x32e77f=_0x4a8f8d[_0x2d1a94(0x3cf)],_0x4686dc['contextInputVariable']&&''!==_0x4686dc[_0x2d1a94(0x6f5)]&&_0x2d1a94(0x8cd)!==_0x4686dc[_0x2d1a94(0x389)]){const _0x39c040=_0x4686dc[_0x2d1a94(0x6f5)][_0x2d1a94(0x6ab)](',');for(const _0x520a65 of _0x39c040){const _0x2232cd=_0x40b259[_0x2d1a94(0x9a9)](_0x50d06b,_0x520a65);''!==_0x2232cd&&(_0x32e77f=_0x32e77f+'\x0a\x0a'+_0x520a65+':\x20'+_0x2232cd);}}if(_0x4686dc[_0x2d1a94(0x979)]&&''!==_0x4686dc[_0x2d1a94(0x979)]&&_0x2d1a94(0x8cd)!==_0x4686dc[_0x2d1a94(0x389)]){const _0x1ae599=_0x4686dc[_0x2d1a94(0x979)][_0x2d1a94(0x6ab)](',');for(const _0x58c62d of _0x1ae599){const _0xc94bc3=_0x40b259[_0x2d1a94(0x9a9)](_0x50d06b,_0x58c62d);''!==_0xc94bc3&&(_0x32e77f=_0x32e77f+'\x0a\x0a'+_0x58c62d+':\x20'+_0xc94bc3);}}const _0x50ad0b=_0x25ac8d['models'][_0x2d1a94(0x7c6)](_0x5235c5=>_0x5235c5['id']===_0x4686dc[_0x2d1a94(0x7a7)]);if(!_0x50ad0b)throw new Error(_0x2d1a94(0x69e));const _0x448c55=_0x25ac8d[_0x2d1a94(0x5f0)][_0x2d1a94(0x7c6)](_0x3a9d9d=>_0x3a9d9d[_0x2d1a94(0x734)]()===_0x50ad0b[_0x2d1a94(0x458)]);if(!_0x448c55)throw new Error(_0x2d1a94(0x3ce));let _0x18c3ca;if(_0x323c14&&!0x1!==_0x4686dc['showSkillOutput']?(_0x323c14['emit']({'output':'\x0a\x0a','type':'prompt'}),_0x18c3ca=await async function(_0x19bb8d,_0x5e4167,_0x518edf,_0x32ba8c,_0x112063,_0x3d8408,_0x3caac3,_0x1134df,_0x15f613){const _0x32d341=_0x2d1a94;let _0x8cab61='';const _0x32a3dd=_0x15f613[_0x32d341(0x382)][_0x32d341(0x7c6)](_0x337aeb=>_0x337aeb['id']===_0x3d8408['modelId']);if(!_0x32a3dd)throw new Error(_0x32d341(0x69e));const _0xa73a7a=_0x15f613['generativeAIWorkerConnectors'][_0x32d341(0x7c6)](_0x4d2ad9=>_0x4d2ad9[_0x32d341(0x734)]()===_0x32a3dd[_0x32d341(0x458)]);if(!_0xa73a7a)throw new Error(_0x32d341(0x3ce));for await(const _0x126e5f of _0xa73a7a[_0x32d341(0x1ec)]({'type':_0x32d341(0x3cf),'prompt':_0x32ba8c,'instructions':_0x3d8408['instructions'],'grammar':_0x3d8408[_0x32d341(0x389)],'temperature':_0x3d8408[_0x32d341(0x9fb)],'maxTokens':_0x3d8408['maxTokens'],'functions':_0x1b5446(_0x19bb8d,_0x5e4167,_0x518edf,_0x112063,_0x3d8408,_0x3caac3,_0x15f613,_0x1134df),'threadId':_0x518edf},{'model':_0x32a3dd}))_0x1134df[_0x32d341(0x396)](_0x126e5f),_0x8cab61+=_0x126e5f[_0x32d341(0x8da)];return{'type':_0x32d341(0x3cf),'output':_0x8cab61};}(_0x4a63eb,_0xd74c14,_0x50d06b,_0x32e77f,_0x31c577,_0x4686dc,_0x21ac28,_0x323c14,_0x25ac8d),_0x323c14['emit']({'output':'\x0a\x0a','type':_0x2d1a94(0x3cf)})):_0x18c3ca=await _0x448c55[_0x2d1a94(0x2dd)]({'type':_0x2d1a94(0x3cf),'prompt':_0x32e77f,'instructions':_0x4686dc[_0x2d1a94(0x27f)],'grammar':_0x4686dc['grammar'],'temperature':_0x4686dc[_0x2d1a94(0x9fb)],'maxTokens':_0x4686dc[_0x2d1a94(0xa1a)],'functions':_0x1b5446(_0x4a63eb,_0xd74c14,_0x50d06b,_0x31c577,_0x4686dc,_0x21ac28,_0x25ac8d,_0x323c14),'threadId':_0x50d06b},{'model':_0x50ad0b}),_0x2d1a94(0x991)!=typeof _0x18c3ca[_0x2d1a94(0x8da)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x2ce26a['trace']({'jobType':_0x41bd8f[_0x2d1a94(0x931)],'type':_0x5a652c[_0x2d1a94(0x584)],'jobId':_0x4a63eb,'blockId':_0x4686dc['id'],'agentId':_0xd74c14,'threadId':_0x50d06b,'traceLevel':_0x3d4084[_0x2d1a94(0x69c)],'startTime':_0x19938a,'timestamp':Date[_0x2d1a94(0x58d)](),'status':_0x2d1a94(0x603),'agentName':_0x4686dc[_0x2d1a94(0x683)],'prompt':_0x32e77f,'instructions':_0x4686dc[_0x2d1a94(0x27f)],'result':_0x18c3ca[_0x2d1a94(0x8da)],'inputTokens':0x0,'outputTokens':0x0}),_0x4686dc[_0x2d1a94(0x979)]&&(_0x40b259['setContent'](_0x50d06b,_0x4686dc[_0x2d1a94(0x979)],_0x18c3ca['output']),_0x31c577[_0x2d1a94(0x3b4)]=_0x40b259[_0x2d1a94(0x322)](_0x50d06b)),_0x323c14?_0x2d1a94(0x2fb):_0x18c3ca[_0x2d1a94(0x8da)];}catch(_0x1a7d3d){return console[_0x2d1a94(0x7b7)](_0x1a7d3d),_0x2ce26a[_0x2d1a94(0x9af)]({'jobType':_0x41bd8f[_0x2d1a94(0x931)],'type':_0x5a652c[_0x2d1a94(0x584)],'jobId':_0x4a63eb,'blockId':_0x4686dc['id'],'agentId':_0xd74c14,'threadId':_0x50d06b,'traceLevel':_0x3d4084[_0x2d1a94(0x69c)],'startTime':_0x19938a,'timestamp':Date[_0x2d1a94(0x58d)](),'status':_0x2d1a94(0x7b7),'errorDetails':_0x2a9e49(_0x1a7d3d),'agentName':_0x4686dc[_0x2d1a94(0x683)],'prompt':_0x32e77f,'instructions':_0x4686dc[_0x2d1a94(0x27f)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x1a7d3d instanceof Error?_0x1a7d3d[_0x2d1a94(0x71e)]:_0x2d1a94(0xa5f);}}};}function _0x44c380(_0x1281b2,_0x32231e,_0x12c919,_0x342c7b,_0x4ea967,_0x276fae,_0x57c649){const _0x58bdc0=_0x2358f4,_0x3cb996='Search\x20in\x20data\x20collection\x20'+_0x4ea967[_0x58bdc0(0x827)]+_0x58bdc0(0x280),_0x22cb3a={'queryOrPrompt':{'type':_0x4ab575[_0x58bdc0(0x6eb)][_0x58bdc0(0x38d)]}};return _0x2ce26a[_0x58bdc0(0x9af)]({'jobType':_0x41bd8f[_0x58bdc0(0x4e0)],'type':_0x3b2990[_0x58bdc0(0x587)],'jobId':_0x1281b2,'agentId':_0x32231e,'threadId':_0x12c919,'blockId':_0x4ea967['id'],'traceLevel':_0x3d4084['Info'],'startTime':Date[_0x58bdc0(0x58d)](),'timestamp':Date[_0x58bdc0(0x58d)](),'status':_0x58bdc0(0x603),'function':_0x2d0ebe[_0x58bdc0(0x8f0)],'params':_0x22cb3a,'functionDescription':_0x3cb996}),{'description':_0x3cb996,'params':_0x22cb3a,'callback':async _0x31c3de=>{const _0x311644=_0x58bdc0,_0x1f2fa8=Date[_0x311644(0x58d)]();try{if(_0x57c649&&_0x57c649[_0x311644(0x396)]({'output':_0x311644(0x339)+_0x4ea967['name']+_0x311644(0x93b)+_0x31c3de?.[_0x311644(0x7f4)]+_0x311644(0x813),'type':'prompt'}),'string'!=typeof _0x31c3de?.['queryOrPrompt'])throw new Error(_0x311644(0x950));const _0x57020a=_0x4ea967[_0x311644(0x784)][_0x311644(0x7c6)](_0x58259d=>_0x58259d['type']===_0x1a4caa[_0x311644(0x797)]),_0x67e93=await _0x21053d(_0x1281b2,_0x12c919,_0x31c3de[_0x311644(0x7f4)],_0x57020a,_0x4ea967['retrieveBlocks'],_0x276fae);return _0x342c7b['context']=Array[_0x311644(0x7ed)](new Set([..._0x342c7b[_0x311644(0x7e5)],..._0x67e93[_0x311644(0x7e5)]])),_0x2ce26a[_0x311644(0x9af)]({'jobType':_0x41bd8f[_0x311644(0x9d8)],'type':_0x2d0ebe[_0x311644(0x6d8)],'jobId':_0x1281b2,'blockId':_0x4ea967['id'],'agentId':_0x32231e,'threadId':_0x12c919,'traceLevel':_0x3d4084[_0x311644(0x69c)],'startTime':_0x1f2fa8,'timestamp':Date['now'](),'status':_0x311644(0x603),'query':_0x31c3de[_0x311644(0x7f4)],'context':_0x67e93[_0x311644(0x7e5)]??[],'inputTokens':_0x67e93[_0x311644(0x69d)]??0x0,'outputTokens':_0x67e93['outputTokens']??0x0}),_0x67e93[_0x311644(0x8da)];}catch(_0x4fab54){return console[_0x311644(0x7b7)](_0x4fab54),_0x2ce26a[_0x311644(0x9af)]({'jobType':_0x41bd8f[_0x311644(0x9d8)],'type':_0x2d0ebe[_0x311644(0x6d8)],'jobId':_0x1281b2,'blockId':_0x4ea967['id'],'agentId':_0x32231e,'threadId':_0x12c919,'traceLevel':_0x3d4084[_0x311644(0x69c)],'startTime':_0x1f2fa8,'timestamp':Date[_0x311644(0x58d)](),'status':_0x311644(0x7b7),'errorDetails':_0x2a9e49(_0x4fab54),'query':_0x31c3de?.[_0x311644(0x7f4)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x4fab54 instanceof Error?_0x4fab54[_0x311644(0x71e)]:_0x311644(0x3a7);}}};}function _0x2a9e9d(_0x201076){const _0x1433dd=_0x2358f4;switch(_0x201076['type']){case _0x2067ca[_0x1433dd(0x1e9)]:return _0x1433dd(0x6dd);case _0x2067ca[_0x1433dd(0x423)]:return _0x1433dd(0x227);case _0x2067ca[_0x1433dd(0x677)]:return _0x1433dd(0x63d);case _0x2067ca[_0x1433dd(0x572)]:case _0x2067ca[_0x1433dd(0x6f6)]:return _0x1433dd(0x8ea);}throw new Error(_0x1433dd(0x525));}function _0x24b7fd(_0x30660d,_0x29eade,_0x46d167,_0x57603e,_0x2e5319,_0x5669f3){const _0x30e15f=_0x2358f4;switch(_0x57603e['type']){case _0x2067ca['Time']:return function(_0x4be421,_0x165bba,_0x73ea25,_0x26706d,_0x1797fa){const _0x1d397b=a0_0x34e5,_0x24c85d='Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.';return _0x2ce26a[_0x1d397b(0x9af)]({'jobType':_0x41bd8f[_0x1d397b(0x4e0)],'type':_0x3b2990[_0x1d397b(0x38b)],'jobId':_0x4be421,'agentId':_0x165bba,'threadId':_0x73ea25,'traceLevel':_0x3d4084[_0x1d397b(0x69c)],'startTime':Date[_0x1d397b(0x58d)](),'timestamp':Date['now'](),'status':_0x1d397b(0x603),'function':_0x5a652c[_0x1d397b(0x4ad)],'params':{},'functionDescription':_0x24c85d}),{'description':_0x24c85d,'callback':()=>{const _0x387c8c=_0x1d397b,_0xea7c8e=Date[_0x387c8c(0x58d)]();_0x1797fa&&_0x1797fa[_0x387c8c(0x396)]({'output':_0x387c8c(0x484),'type':_0x387c8c(0x3cf)});const _0x4bd099=new Date()[_0x387c8c(0x45d)]();return _0x2ce26a[_0x387c8c(0x9af)]({'jobType':_0x41bd8f[_0x387c8c(0x931)],'type':_0x5a652c[_0x387c8c(0x4ad)],'jobId':_0x4be421,'agentId':_0x165bba,'threadId':_0x73ea25,'blockId':_0x26706d,'traceLevel':_0x3d4084[_0x387c8c(0x69c)],'startTime':_0xea7c8e,'timestamp':Date[_0x387c8c(0x58d)](),'status':_0x387c8c(0x603),'date':_0x4bd099}),_0x4bd099;}};}(_0x30660d,_0x29eade,_0x46d167,_0x57603e['id'],_0x5669f3);case _0x2067ca[_0x30e15f(0x423)]:return function(_0x780995,_0x20db8b,_0x416b44,_0x1e3469,_0x5c9f0d){const _0x4c0022=_0x30e15f,_0x336a88=_0x4c0022(0x940),_0x18f774={'code':{'type':_0x4ab575['PromptFunctionParamsType'][_0x4c0022(0x38d)]}};return _0x2ce26a[_0x4c0022(0x9af)]({'jobType':_0x41bd8f['JobContext'],'type':_0x3b2990[_0x4c0022(0x38b)],'jobId':_0x780995,'agentId':_0x20db8b,'threadId':_0x416b44,'traceLevel':_0x3d4084[_0x4c0022(0x69c)],'startTime':Date[_0x4c0022(0x58d)](),'timestamp':Date[_0x4c0022(0x58d)](),'status':_0x4c0022(0x603),'function':_0x5a652c[_0x4c0022(0x7fa)],'params':_0x18f774,'functionDescription':_0x336a88}),{'description':_0x336a88,'params':_0x18f774,'callback':_0x55185c=>{const _0x54ae1e=_0x4c0022,_0x860a6e=Date['now']();try{if(_0x5c9f0d&&_0x5c9f0d[_0x54ae1e(0x396)]({'output':_0x54ae1e(0x347),'type':_0x54ae1e(0x3cf)}),_0x54ae1e(0x991)!=typeof _0x55185c?.['code'])throw new Error(_0x54ae1e(0x89c));const _0x5e2e87=Function(''+_0x55185c?.[_0x54ae1e(0x1fe)])();let _0xb74708='';try{_0xb74708=JSON[_0x54ae1e(0x787)](_0x5e2e87);}catch{_0xb74708=_0x5e2e87[_0x54ae1e(0x98b)]();}return _0x2ce26a['trace']({'jobType':_0x41bd8f[_0x54ae1e(0x931)],'type':_0x5a652c[_0x54ae1e(0x7fa)],'agentId':_0x20db8b,'threadId':_0x416b44,'jobId':_0x780995,'blockId':_0x1e3469,'traceLevel':_0x3d4084[_0x54ae1e(0x69c)],'startTime':_0x860a6e,'timestamp':Date['now'](),'status':'success','code':_0x55185c['code'],'result':_0xb74708}),_0x5e2e87;}catch(_0x5bd6d8){return console[_0x54ae1e(0x7b7)](_0x5bd6d8),_0x2ce26a[_0x54ae1e(0x9af)]({'jobType':_0x41bd8f[_0x54ae1e(0x931)],'type':_0x5a652c[_0x54ae1e(0x7fa)],'jobId':_0x780995,'blockId':_0x1e3469,'traceLevel':_0x3d4084['Info'],'startTime':_0x860a6e,'timestamp':Date[_0x54ae1e(0x58d)](),'status':'error','errorDetails':_0x2a9e49(_0x5bd6d8),'agentId':_0x20db8b,'threadId':_0x416b44,'code':_0x55185c?.['code']??'','result':_0x54ae1e(0x9d4)}),_0x5bd6d8 instanceof Error?_0x5bd6d8[_0x54ae1e(0x71e)]:'Error\x20executing\x20code';}}};}(_0x30660d,_0x29eade,_0x46d167,_0x57603e['id'],_0x5669f3);case _0x2067ca[_0x30e15f(0x677)]:return function(_0x57baa4,_0x107c72,_0x18cd98,_0x4abeba,_0x41dc84,_0x3c9436,_0x4b8e22){const _0x26782e=_0x30e15f,_0x17dc86='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x4e74bf={'query':{'type':_0x4ab575[_0x26782e(0x6eb)]['String']}};return _0x2ce26a[_0x26782e(0x9af)]({'jobType':_0x41bd8f[_0x26782e(0x4e0)],'type':_0x3b2990[_0x26782e(0x38b)],'jobId':_0x57baa4,'agentId':_0x107c72,'threadId':_0x18cd98,'traceLevel':_0x3d4084[_0x26782e(0x69c)],'startTime':Date['now'](),'timestamp':Date[_0x26782e(0x58d)](),'status':_0x26782e(0x603),'function':_0x5a652c[_0x26782e(0x6b1)],'params':_0x4e74bf,'functionDescription':_0x17dc86}),{'description':_0x17dc86,'params':_0x4e74bf,'callback':async _0x6683b4=>{const _0x4ef0ab=_0x26782e,_0x358df5=Date[_0x4ef0ab(0x58d)]();try{if(_0x4b8e22&&_0x4b8e22[_0x4ef0ab(0x396)]({'output':_0x4ef0ab(0xa21)+_0x6683b4?.['query']+_0x4ef0ab(0x813),'type':_0x4ef0ab(0x3cf)}),!_0x3c9436[_0x4ef0ab(0x8fa)])throw new Error(_0x4ef0ab(0x93f));if(_0x4ef0ab(0x991)!=typeof _0x6683b4?.[_0x4ef0ab(0x99d)])throw new Error('Query\x20is\x20required');const _0x2974fb=await _0x3c9436[_0x4ef0ab(0x8fa)][_0x4ef0ab(0x791)](_0x6683b4[_0x4ef0ab(0x99d)],_0x41dc84,_0x3dd9c1[_0x4ef0ab(0x9b5)][_0x4ef0ab(0x5a7)]);let _0x2bb6b9='';for(const _0x1a7ad7 of _0x2974fb)_0x2bb6b9+=_0x1a7ad7[_0x4ef0ab(0x8f1)]+_0x4ef0ab(0x5b0)+_0x1a7ad7[_0x4ef0ab(0x835)]+'\x0a'+_0x1a7ad7[_0x4ef0ab(0x549)]+'\x0a\x0a';return _0x2ce26a[_0x4ef0ab(0x9af)]({'jobType':_0x41bd8f[_0x4ef0ab(0x931)],'type':_0x5a652c[_0x4ef0ab(0x6b1)],'jobId':_0x57baa4,'agentId':_0x107c72,'threadId':_0x18cd98,'blockId':_0x4abeba,'traceLevel':_0x3d4084['Info'],'startTime':_0x358df5,'timestamp':Date[_0x4ef0ab(0x58d)](),'status':_0x4ef0ab(0x603),'query':_0x6683b4[_0x4ef0ab(0x99d)],'results':_0x2bb6b9}),_0x2bb6b9;}catch(_0x5cfdeb){return console['error'](_0x5cfdeb),_0x2ce26a[_0x4ef0ab(0x9af)]({'jobType':_0x41bd8f[_0x4ef0ab(0x931)],'type':_0x5a652c[_0x4ef0ab(0x6b1)],'jobId':_0x57baa4,'blockId':_0x4abeba,'traceLevel':_0x3d4084[_0x4ef0ab(0x69c)],'startTime':_0x358df5,'timestamp':Date[_0x4ef0ab(0x58d)](),'status':_0x4ef0ab(0x7b7),'errorDetails':_0x2a9e49(_0x5cfdeb),'agentId':_0x107c72,'threadId':_0x18cd98,'query':_0x6683b4?.[_0x4ef0ab(0x99d)]??'','results':_0x4ef0ab(0x9ad)}),_0x5cfdeb instanceof Error?_0x5cfdeb[_0x4ef0ab(0x71e)]:_0x4ef0ab(0x9ad);}}};}(_0x30660d,_0x29eade,_0x46d167,_0x57603e['id'],_0x2e5319['searchApiKey'],_0x2e5319,_0x5669f3);case _0x2067ca[_0x30e15f(0x572)]:return _0x2024a5(_0x30660d,_0x29eade,_0x46d167,_0x57603e['id'],_0x5669f3);case _0x2067ca['WebScraperRaw']:return _0x2024a5(_0x30660d,_0x29eade,_0x46d167,_0x57603e['id'],_0x5669f3,!0x1);}throw new Error(_0x30e15f(0x525));}function _0x2024a5(_0x1c83fb,_0x59e506,_0x4cba80,_0x217a31,_0x1fc1da,_0x124f38=!0x0){const _0x16e8aa=_0x2358f4,_0x188dde='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x1537c8={'url':{'type':_0x4ab575['PromptFunctionParamsType'][_0x16e8aa(0x38d)]},'page':{'type':_0x4ab575[_0x16e8aa(0x6eb)]['Number']}};return _0x2ce26a['trace']({'jobType':_0x41bd8f[_0x16e8aa(0x4e0)],'type':_0x3b2990[_0x16e8aa(0x38b)],'jobId':_0x1c83fb,'agentId':_0x59e506,'threadId':_0x4cba80,'traceLevel':_0x3d4084['Info'],'startTime':Date[_0x16e8aa(0x58d)](),'timestamp':Date[_0x16e8aa(0x58d)](),'status':_0x16e8aa(0x603),'function':_0x5a652c[_0x16e8aa(0x977)],'params':_0x1537c8,'functionDescription':_0x188dde}),{'description':_0x188dde,'params':_0x1537c8,'callback':async _0xc71a29=>{const _0x36f60a=_0x16e8aa,_0x36506e=Date[_0x36f60a(0x58d)]();try{if(_0x1fc1da&&_0x1fc1da['emit']({'output':_0x36f60a(0x714)+_0xc71a29?.['url']+_0x36f60a(0x813),'type':_0x36f60a(0x3cf)}),_0x36f60a(0x991)!=typeof _0xc71a29?.[_0x36f60a(0x835)])throw new Error(_0x36f60a(0x772));const _0x578337=await fetch(_0xc71a29[_0x36f60a(0x835)]),_0x9b3703=await _0x578337[_0x36f60a(0x453)]();let _0x23ce73=_0x9b3703;if(_0x124f38){const _0x5d8608=_0x9b3703[_0x36f60a(0x869)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x29e720=_0x5d8608?_0x5d8608[0x1]:_0x9b3703,_0x193951=_0x29e720[_0x36f60a(0x4b5)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x36f60a(0x4b5)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x36f60a(0x4b5)](/<br\s*\/?>/gi,'\x20')[_0x36f60a(0x4b5)](/&nbsp;/g,'\x20');_0x23ce73=_0x193951[_0x36f60a(0x4b5)](/<\/?[^>]+(>|$)/g,'')[_0x36f60a(0x4b5)](/\s\s+/g,'\x20')['trim']();}const _0x5c9986='number'==typeof _0xc71a29['page']?_0xc71a29['page']:0x1,_0x97d345=Math[_0x36f60a(0x3bb)](_0x23ce73[_0x36f60a(0x87a)]/_0x1010ad);return _0x23ce73[_0x36f60a(0x87a)]>_0x1010ad&&(_0x23ce73=_0x23ce73[_0x36f60a(0x292)]((_0x5c9986-0x1)*_0x1010ad,(_0x5c9986-0x1)*_0x1010ad+_0x1010ad)+_0x36f60a(0xa0d)+(_0x5c9986+0x1)+'.Total\x20pages\x20available:\x20'+_0x97d345+'.'),_0x2ce26a[_0x36f60a(0x9af)]({'jobType':_0x41bd8f[_0x36f60a(0x931)],'type':_0x5a652c['FetchUrl'],'jobId':_0x1c83fb,'agentId':_0x59e506,'threadId':_0x4cba80,'blockId':_0x217a31,'traceLevel':_0x3d4084[_0x36f60a(0x69c)],'startTime':_0x36506e,'timestamp':Date[_0x36f60a(0x58d)](),'status':_0x578337['ok']?_0x36f60a(0x603):_0x36f60a(0x7b7),'url':_0xc71a29['url'],'page':_0x5c9986,'totalPages':_0x97d345,'response':_0x23ce73}),_0x23ce73;}catch(_0x3c9485){console[_0x36f60a(0x7b7)](_0x3c9485);const _0x2350a8=_0x3c9485 instanceof Error?_0x3c9485[_0x36f60a(0x71e)]:_0x36f60a(0x9e2);return _0x2ce26a['trace']({'jobType':_0x41bd8f[_0x36f60a(0x931)],'type':_0x5a652c[_0x36f60a(0x977)],'jobId':_0x1c83fb,'blockId':_0x217a31,'threadId':_0x4cba80,'traceLevel':_0x3d4084[_0x36f60a(0x69c)],'startTime':_0x36506e,'timestamp':Date[_0x36f60a(0x58d)](),'agentId':_0x59e506,'status':'error','errorDetails':_0x2a9e49(_0x3c9485),'url':_0xc71a29?.[_0x36f60a(0x835)]??'','page':0x0,'totalPages':0x0,'response':_0x2350a8}),_0x2350a8;}}};}function _0x5038bf(_0x47b4f6,_0x34b15d,_0x4870d8,_0x58056b,_0x2eb95a){const _0x1f4bab=_0x2358f4,_0x495897={};for(const _0x203545 of _0x58056b[_0x1f4bab(0x3e2)])switch(_0x203545[_0x1f4bab(0x5ba)]){case _0x1f4bab(0x991):case'json':_0x495897[_0x203545[_0x1f4bab(0x683)]]={'type':_0x4ab575[_0x1f4bab(0x6eb)][_0x1f4bab(0x38d)]};break;case'number':_0x495897[_0x203545[_0x1f4bab(0x683)]]={'type':_0x4ab575['PromptFunctionParamsType'][_0x1f4bab(0xa54)]};break;case _0x1f4bab(0x882):_0x495897[_0x203545[_0x1f4bab(0x683)]]={'type':_0x4ab575['PromptFunctionParamsType'][_0x1f4bab(0x4f4)]};}return _0x2ce26a[_0x1f4bab(0x9af)]({'jobType':_0x41bd8f[_0x1f4bab(0x4e0)],'type':_0x3b2990[_0x1f4bab(0x38b)],'jobId':_0x47b4f6,'agentId':_0x34b15d,'threadId':_0x4870d8,'traceLevel':_0x3d4084['Info'],'startTime':Date[_0x1f4bab(0x58d)](),'timestamp':Date[_0x1f4bab(0x58d)](),'status':'success','function':_0x5a652c['ExecuteCustomSkill'],'params':_0x495897,'functionDescription':_0x58056b[_0x1f4bab(0x827)]}),{'description':_0x1f4bab(0x22b)+_0x58056b[_0x1f4bab(0x827)],'params':_0x495897,'callback':async _0x4a6fd6=>{const _0x4344ee=_0x1f4bab,_0x4ba4c4=Date[_0x4344ee(0x58d)]();try{if(_0x2eb95a&&_0x2eb95a[_0x4344ee(0x396)]({'output':_0x4344ee(0x4aa)+_0x58056b[_0x4344ee(0x683)]+_0x4344ee(0x813),'type':'prompt'}),!_0x4a6fd6)throw new Error(_0x4344ee(0x718));for(const _0xd593a9 of _0x58056b[_0x4344ee(0x3e2)]){if(void 0x0===_0x4a6fd6[_0xd593a9[_0x4344ee(0x683)]])throw new Error('Parameter\x20'+_0xd593a9[_0x4344ee(0x683)]+'\x20is\x20required');if(_0x4344ee(0x991)===_0xd593a9[_0x4344ee(0x5ba)]&&_0x4344ee(0x991)!=typeof _0x4a6fd6[_0xd593a9[_0x4344ee(0x683)]])throw new Error(_0x4344ee(0x7de)+_0xd593a9[_0x4344ee(0x683)]+_0x4344ee(0x460));if(_0x4344ee(0x2d6)===_0xd593a9[_0x4344ee(0x5ba)]&&'number'!=typeof _0x4a6fd6[_0xd593a9['name']])throw new Error(_0x4344ee(0x7de)+_0xd593a9[_0x4344ee(0x683)]+_0x4344ee(0x579));if(_0x4344ee(0x882)===_0xd593a9[_0x4344ee(0x5ba)]&&_0x4344ee(0x882)!=typeof _0x4a6fd6[_0xd593a9[_0x4344ee(0x683)]])throw new Error(_0x4344ee(0x7de)+_0xd593a9[_0x4344ee(0x683)]+_0x4344ee(0x3f6));if(_0x4344ee(0x355)===_0xd593a9[_0x4344ee(0x5ba)]&&_0x4344ee(0x991)!=typeof _0x4a6fd6[_0xd593a9['name']])throw new Error(_0x4344ee(0x7de)+_0xd593a9['name']+_0x4344ee(0x460));if(_0x4344ee(0x355)===_0xd593a9[_0x4344ee(0x5ba)])try{_0x4a6fd6[_0xd593a9['name']]=JSON[_0x4344ee(0x46d)](_0x4a6fd6[_0xd593a9[_0x4344ee(0x683)]]);}catch{throw new Error(_0x4344ee(0x7de)+_0xd593a9[_0x4344ee(0x683)]+_0x4344ee(0x660));}}let _0x2d366d=_0x58056b[_0x4344ee(0x88e)];_0x2d366d[_0x4344ee(0x43b)]('$')&&(_0x2d366d=_0x4a6fd6[_0x58056b[_0x4344ee(0x88e)][_0x4344ee(0x38f)](0x1)]);const _0x46e85e=new URLSearchParams();for(const _0x552be1 of _0x58056b['queryParameters']){let _0x51d5de=_0x552be1[_0x4344ee(0x808)];if(_0x4344ee(0x991)==typeof _0x51d5de&&_0x51d5de['startsWith']('$')){const _0x21cefe=_0x51d5de['slice'](0x1);_0x51d5de=_0x4a6fd6[_0x21cefe];}if(_0x4344ee(0x991)==typeof _0x51d5de&&_0x51d5de[_0x4344ee(0x43b)]('@context.')){const _0xf594ce=_0x51d5de[_0x4344ee(0x4b5)](_0x4344ee(0x855),'');if(_0x51d5de=_0x40b259[_0x4344ee(0x9a9)](_0x4870d8,_0xf594ce),_0x4344ee(0x991)==typeof _0x51d5de&&_0x51d5de['startsWith']('{')&&_0x51d5de[_0x4344ee(0x5a3)]('}'))try{_0x51d5de=JSON[_0x4344ee(0x46d)](_0x51d5de);}catch{}}_0x4344ee(0x991)==typeof _0x51d5de&&_0x51d5de[_0x4344ee(0x43b)]('[')&&_0x51d5de['endsWith'](']')&&(_0x51d5de=_0x51d5de[_0x4344ee(0x38f)](0x1,-0x1)[_0x4344ee(0x6ab)](',')),_0x46e85e[_0x4344ee(0x656)](_0x552be1[_0x4344ee(0x683)],_0x51d5de);}let _0x4a824e=_0x58056b[_0x4344ee(0x9f7)];_0x46e85e[_0x4344ee(0x9dc)]>0x0&&(_0x4a824e+='?'+_0x46e85e['toString']());const _0x6e9dce={};for(const _0x13f6ee of _0x58056b[_0x4344ee(0x372)]){let _0x218be6=_0x13f6ee[_0x4344ee(0x808)];if(_0x4344ee(0x991)==typeof _0x218be6&&_0x218be6[_0x4344ee(0x43b)]('$')){const _0x528378=_0x218be6[_0x4344ee(0x38f)](0x1);_0x218be6=_0x4a6fd6[_0x528378];}if(_0x4344ee(0x991)==typeof _0x218be6&&_0x218be6[_0x4344ee(0x43b)]('@context.')){const _0x46cff4=_0x218be6['replace'](_0x4344ee(0x855),'');if(_0x218be6=_0x40b259[_0x4344ee(0x9a9)](_0x4870d8,_0x46cff4),_0x4344ee(0x991)==typeof _0x218be6&&_0x218be6[_0x4344ee(0x43b)]('{')&&_0x218be6['endsWith']('}'))try{_0x218be6=JSON[_0x4344ee(0x46d)](_0x218be6);}catch{}}if(_0x4344ee(0x991)==typeof _0x218be6&&_0x218be6[_0x4344ee(0x43b)]('[')&&_0x218be6[_0x4344ee(0x5a3)](']')&&(_0x218be6=_0x218be6['slice'](0x1,-0x1)[_0x4344ee(0x6ab)](',')),-0x1===_0x13f6ee[_0x4344ee(0x683)][_0x4344ee(0x803)]('.'))_0x6e9dce[_0x13f6ee['name']]=_0x218be6;else{const [_0x424bc9,_0x163b5c]=_0x13f6ee[_0x4344ee(0x683)][_0x4344ee(0x6ab)]('.');_0x6e9dce[_0x424bc9]||(_0x6e9dce[_0x424bc9]={}),_0x6e9dce[_0x424bc9][_0x163b5c]=_0x218be6;}}const _0x57bd42=await fetch(_0x4a824e,{'method':_0x58056b[_0x4344ee(0x754)],'headers':{'Authorization':_0x4344ee(0x63e)+_0x2d366d,'Content-Type':_0x4344ee(0x381)},'body':JSON['stringify'](_0x6e9dce)});if(_0x57bd42['ok']){const _0x3e8f0e=await _0x57bd42['json']();return _0x2ce26a[_0x4344ee(0x9af)]({'jobType':_0x41bd8f['Skill'],'type':_0x5a652c[_0x4344ee(0x34b)],'jobId':_0x47b4f6,'agentId':_0x34b15d,'threadId':_0x4870d8,'blockId':_0x58056b['id'],'traceLevel':_0x3d4084[_0x4344ee(0x69c)],'startTime':_0x4ba4c4,'timestamp':Date['now'](),'status':_0x4344ee(0x603),'skillName':_0x58056b['name'],'params':_0x4a6fd6,'result':_0x3e8f0e}),_0x3e8f0e;}throw new Error(_0x57bd42['statusText']);}catch(_0x50f182){console['error'](_0x50f182);const _0x558011=_0x50f182 instanceof Error?_0x50f182[_0x4344ee(0x71e)]:_0x4344ee(0x9e2);return _0x2ce26a[_0x4344ee(0x9af)]({'jobType':_0x41bd8f[_0x4344ee(0x931)],'type':_0x5a652c[_0x4344ee(0x34b)],'jobId':_0x47b4f6,'blockId':_0x58056b['id'],'threadId':_0x4870d8,'traceLevel':_0x3d4084['Info'],'startTime':_0x4ba4c4,'timestamp':Date[_0x4344ee(0x58d)](),'agentId':_0x34b15d,'status':_0x4344ee(0x7b7),'skillName':_0x58056b[_0x4344ee(0x683)],'params':_0x4a6fd6??{},'result':_0x558011}),_0x558011;}}};}function _0x2a9e49(_0x46d11f){const _0x2f2e2d=_0x2358f4;try{return JSON[_0x2f2e2d(0x787)](_0x46d11f);}catch(_0x1d1bf2){return _0x46d11f instanceof Error?_0x46d11f[_0x2f2e2d(0x98b)]():_0x2f2e2d(0x8d2);}}async function _0xfeab91(_0x1f9a50,_0x8fb9af,_0x484db1,_0x45c7ea,_0x58359c,_0x285868,_0x4a5c7e){const _0x349af6=_0x2358f4;for(const _0x44e3ed of _0x58359c[_0x349af6(0x35a)]||[]){const _0xcc514d=_0x285868[_0x349af6(0x7c6)](_0x1ff047=>_0x1ff047['uid']===_0x44e3ed['uid']);if(_0xcc514d&&_0xcc514d[_0x349af6(0x5ba)]===_0x2067ca[_0x349af6(0x1f6)]){if(_0x58359c[_0x349af6(0x630)]||(_0x58359c[_0x349af6(0x630)]={}),_0x8fb9af instanceof Array?_0x58359c[_0x349af6(0x630)][_0x349af6(0x7e5)]=_0x8fb9af:_0x58359c[_0x349af6(0x630)]['prompt']=_0x8fb9af,_0x58359c[_0x349af6(0x3e3)]=_0x58359c[_0x349af6(0x3e3)]?_0x58359c[_0x349af6(0x3e3)]+0x1:0x1,_0x282fc4(_0x58359c,_0x285868)>_0x58359c[_0x349af6(0x3e3)])return;return _0x58359c;}}if(_0x58359c['accumulated']||(_0x58359c[_0x349af6(0x630)]={}),_0x8fb9af instanceof Array?_0x58359c['accumulated'][_0x349af6(0x7e5)]=_0x8fb9af:_0x58359c[_0x349af6(0x630)][_0x349af6(0x3cf)]=_0x8fb9af,_0x58359c[_0x349af6(0x3e3)]=_0x58359c['timesCalled']?_0x58359c['timesCalled']+0x1:0x1,_0x282fc4(_0x58359c,_0x285868)>_0x58359c[_0x349af6(0x3e3)])return;if(!_0x58359c['accumulated'][_0x349af6(0x3cf)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data');const _0x21bf14=_0x4a5c7e[_0x349af6(0x382)][_0x349af6(0x7c6)](_0x2eef6d=>_0x2eef6d['id']===_0x58359c['modelId']);if(!_0x21bf14)throw new Error('Model\x20not\x20found');const _0x305da2=_0x4a5c7e[_0x349af6(0x5f0)][_0x349af6(0x7c6)](_0x7cc3e9=>_0x7cc3e9[_0x349af6(0x734)]()===_0x21bf14[_0x349af6(0x458)]);if(!_0x305da2)throw new Error(_0x349af6(0x3ce));const _0x38d0f0=Date['now'](),_0x4bd3c5=(0x0,_0x42da8f['v4'])(),_0x5659ff=await _0x305da2[_0x349af6(0x2dd)]({'type':'prompt','prompt':_0x58359c['accumulated']['prompt'],'instructions':''+_0x58359c[_0x349af6(0x27f)]+(_0x484db1[_0x349af6(0x27f)]??'')+(_0x58359c[_0x349af6(0x630)][_0x349af6(0x7e5)]?_0x349af6(0x48a)+_0x58359c['accumulated'][_0x349af6(0x7e5)][_0x349af6(0x8d9)](_0x4b9061=>_0x4b9061[_0x349af6(0x5d0)])['join']('\x0a'):''),'grammar':_0x58359c[_0x349af6(0x389)],'temperature':_0x58359c[_0x349af6(0x9fb)],'maxTokens':_0x58359c[_0x349af6(0xa1a)],'history':_0x484db1[_0x349af6(0x543)],'functions':_0x1b5446(_0x1f9a50,_0x4bd3c5,_0x484db1[_0x349af6(0x84b)],_0x45c7ea,_0x58359c,_0x285868,_0x4a5c7e),'threadId':_0x484db1[_0x349af6(0x84b)]},{'model':_0x21bf14});if('string'!=typeof _0x5659ff[_0x349af6(0x8da)])throw new Error(_0x349af6(0x5e4));return _0x45c7ea[_0x349af6(0x69d)]+=_0x5659ff[_0x349af6(0x69d)]??0x0,_0x45c7ea[_0x349af6(0xa9a)]+=_0x5659ff['outputTokens']??0x0,_0x2ce26a[_0x349af6(0x9af)]({'jobType':_0x41bd8f[_0x349af6(0x298)],'type':_0x2d44f4[_0x349af6(0x664)],'jobId':_0x1f9a50,'agentId':_0x4bd3c5,'threadId':_0x484db1[_0x349af6(0x84b)],'traceLevel':_0x3d4084[_0x349af6(0x69c)],'startTime':_0x38d0f0,'timestamp':Date[_0x349af6(0x58d)](),'blockId':_0x58359c['id'],'status':_0x349af6(0x603),'output':_0x5659ff['output']?.[_0x349af6(0x98b)]()??'','history':[],'instructions':''+_0x58359c[_0x349af6(0x27f)]+(_0x484db1[_0x349af6(0x27f)]??''),'ragContext':_0x5659ff[_0x349af6(0x7e5)]??[],'inputTokens':_0x5659ff['inputTokens']??0x0,'outputTokens':_0x5659ff[_0x349af6(0xa9a)]??0x0}),_0x193236(_0x1f9a50,_0x5659ff[_0x349af6(0x8da)],_0x484db1,_0x45c7ea,_0x58359c,_0x285868,_0x4a5c7e);}async function _0xb31533(_0x48feb6,_0x1f9c51,_0x364fad,_0x1a5453,_0x3126c5,_0x2094e0,_0x2c1978){const _0x134245=function(_0x16ef07,_0x4ced7d){const _0xe1db99=a0_0x34e5,_0x396b5f=[];for(let _0x563242=0x0;_0x563242<_0x16ef07[_0xe1db99(0x87a)];_0x563242+=_0x4ced7d[_0xe1db99(0x477)][_0xe1db99(0x9dc)]){let _0x47c0af=_0x563242-_0x4ced7d[_0xe1db99(0x477)]['overlap'];_0x47c0af<0x0&&(_0x47c0af=0x0);let _0x403a7e=_0x563242+_0x4ced7d[_0xe1db99(0x477)][_0xe1db99(0x9dc)]+_0x4ced7d[_0xe1db99(0x477)]['overlap'];_0x403a7e>_0x16ef07[_0xe1db99(0x87a)]&&(_0x403a7e=_0x16ef07[_0xe1db99(0x87a)]),length||(length=_0x563242+_0x4ced7d[_0xe1db99(0x477)][_0xe1db99(0x9dc)],length>_0x16ef07[_0xe1db99(0x87a)]&&(length=_0x16ef07[_0xe1db99(0x87a)])),_0x396b5f[_0xe1db99(0x397)](_0x16ef07[_0xe1db99(0x292)](_0x47c0af,_0x403a7e));}return _0x396b5f;}(_0x1f9c51,_0x3126c5);return _0x193236(_0x48feb6,_0x134245,_0x364fad,_0x1a5453,_0x3126c5,_0x2094e0,_0x2c1978);}async function _0x8496d9(_0xc20ca7,_0x3d58f6,_0x2bf647,_0x3132b0,_0x424434,_0x48d1c0,_0x2a2490){const _0x7c2c6=_0x2358f4;if(_0x424434[_0x7c2c6(0x630)]||(_0x424434['accumulated']={}),_0x424434[_0x7c2c6(0x630)][_0x7c2c6(0x8d6)]||(_0x424434[_0x7c2c6(0x630)]['queries']=[]),_0x3d58f6 instanceof Array?_0x424434['accumulated']['queries'][_0x7c2c6(0x397)](..._0x3d58f6):_0x424434[_0x7c2c6(0x630)][_0x7c2c6(0x8d6)][_0x7c2c6(0x397)](_0x3d58f6),_0x424434[_0x7c2c6(0x3e3)]=_0x424434['timesCalled']?_0x424434[_0x7c2c6(0x3e3)]+0x1:0x1,_0x282fc4(_0x424434,_0x48d1c0)>_0x424434[_0x7c2c6(0x3e3)])return;if(0x0===_0x424434[_0x7c2c6(0x630)][_0x7c2c6(0x8d6)][_0x7c2c6(0x87a)])throw new Error(_0x7c2c6(0x53a));let _0x585853=[];const _0x5bf403=Date[_0x7c2c6(0x58d)]();try{let _0x23ec4e=0x0,_0x1641b7=0x0;for(const _0x1719b9 of _0x424434[_0x7c2c6(0x630)][_0x7c2c6(0x8d6)]){const _0x213c96=_0x424434[_0x7c2c6(0x784)][_0x7c2c6(0x7c6)](_0x31eae6=>_0x31eae6[_0x7c2c6(0x5ba)]===_0x1a4caa[_0x7c2c6(0x797)]),_0xe67523=await _0x21053d(_0xc20ca7,_0x2bf647[_0x7c2c6(0x84b)],_0x1719b9,_0x213c96,_0x424434['retrieveBlocks'],_0x2a2490);_0x585853=Array[_0x7c2c6(0x7ed)](new Set([..._0x585853,..._0xe67523[_0x7c2c6(0x7e5)]])),_0x23ec4e+=_0xe67523[_0x7c2c6(0x69d)]??0x0,_0x1641b7+=_0xe67523[_0x7c2c6(0xa9a)]??0x0;}_0x3132b0[_0x7c2c6(0x69d)]+=_0x23ec4e,_0x3132b0[_0x7c2c6(0xa9a)]+=_0x1641b7,_0x3132b0[_0x7c2c6(0x7e5)]=Array['from'](new Set([..._0x3132b0[_0x7c2c6(0x7e5)],..._0x585853])),_0x2ce26a['trace']({'jobType':_0x41bd8f[_0x7c2c6(0x298)],'type':_0x2d44f4['DataCollection'],'jobId':_0xc20ca7,'threadId':_0x2bf647['threadId'],'traceLevel':_0x3d4084['Info'],'startTime':_0x5bf403,'timestamp':Date[_0x7c2c6(0x58d)](),'blockId':_0x424434['id'],'status':_0x7c2c6(0x603),'queries':_0x424434[_0x7c2c6(0x630)][_0x7c2c6(0x8d6)],'context':_0x585853,'inputTokens':_0x23ec4e,'outputTokens':_0x1641b7});}catch(_0x19a324){console['error'](_0x19a324),_0x2ce26a[_0x7c2c6(0x9af)]({'jobType':_0x41bd8f[_0x7c2c6(0x298)],'type':_0x2d44f4[_0x7c2c6(0x62e)],'jobId':_0xc20ca7,'threadId':_0x2bf647[_0x7c2c6(0x84b)],'traceLevel':_0x3d4084['Info'],'startTime':_0x5bf403,'timestamp':Date['now'](),'blockId':_0x424434['id'],'status':'error','queries':_0x424434[_0x7c2c6(0x630)][_0x7c2c6(0x8d6)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}return _0x193236(_0xc20ca7,_0x585853,_0x2bf647,_0x3132b0,_0x424434,_0x48d1c0,_0x2a2490);}async function _0x159ec6(_0x8ef44d,_0x517e83,_0x3a4772,_0x31742e,_0x3d4ee7,_0x346f92,_0xa538c6){const _0x421f7d=_0x2358f4;return _0x193236(_0x8ef44d,await _0xa538c6[_0x421f7d(0x36c)]['getSentences'](_0x517e83),_0x3a4772,_0x31742e,_0x3d4ee7,_0x346f92,_0xa538c6);}async function _0x321790(_0x280deb,_0x2a07ae,_0x4b9740,_0x2c956a,_0x8a6854,_0x727487,_0x5f003e){const _0x592d2d=function(_0x220015,_0x2fa0f5){const _0x3d196f=a0_0x34e5,_0x414891=[],_0x50f535=_0x220015[_0x3d196f(0x6ab)]('\x20');let _0x45857e='',_0x371638=0x0,_0x520f62=0x0,_0x223a27=0x0;for(const _0x3ccc95 of _0x50f535){if(_0x45857e[_0x3d196f(0x87a)]+_0x3ccc95[_0x3d196f(0x87a)]>_0x2fa0f5[_0x3d196f(0x477)][_0x3d196f(0x9dc)]){let _0x544093=_0x371638,_0x121a77='';for(;_0x544093>=0x0&&_0x121a77['length']+_0x50f535[_0x544093]['length']<_0x2fa0f5['attributes'][_0x3d196f(0x96b)];)_0x121a77=_0x50f535[_0x544093]+'\x20'+_0x121a77,_0x544093--;let _0x3812e1=_0x520f62,_0x2c1616='';for(;_0x3812e1<_0x50f535[_0x3d196f(0x87a)]&&_0x2c1616[_0x3d196f(0x87a)]+_0x50f535[_0x3812e1][_0x3d196f(0x87a)]<_0x2fa0f5[_0x3d196f(0x477)][_0x3d196f(0x96b)];)_0x2c1616+=_0x50f535[_0x3812e1]+'\x20',_0x3812e1++;_0x45857e=_0x121a77+_0x45857e+_0x2c1616,_0x414891[_0x3d196f(0x397)](_0x45857e[_0x3d196f(0x3a4)]()),_0x45857e='',_0x371638=_0x520f62;}_0x45857e+=_0x3ccc95+'\x20',_0x520f62++,_0x223a27+=_0x3ccc95[_0x3d196f(0x87a)]+0x1;}if(_0x45857e[_0x3d196f(0x87a)]>0x0){let _0x1d49f5=_0x371638,_0x22f2c5='';for(;_0x1d49f5>=0x0&&_0x22f2c5[_0x3d196f(0x87a)]+_0x50f535[_0x1d49f5][_0x3d196f(0x87a)]<_0x2fa0f5[_0x3d196f(0x477)][_0x3d196f(0x96b)];)_0x22f2c5=_0x50f535[_0x1d49f5]+'\x20'+_0x22f2c5,_0x1d49f5--;_0x45857e=_0x22f2c5+_0x45857e,_0x414891[_0x3d196f(0x397)](_0x45857e[_0x3d196f(0x3a4)]());}return _0x414891;}(_0x2a07ae,_0x8a6854);return _0x193236(_0x280deb,_0x592d2d,_0x4b9740,_0x2c956a,_0x8a6854,_0x727487,_0x5f003e);}async function _0x193236(_0x783ccf,_0xa8cb1e,_0x5cb3f2,_0xa77d2d,_0x5addb6,_0x26d4ef,_0x516a98){const _0x3aed2b=_0x2358f4;let _0x17dee3;for(const _0x903b84 of _0x5addb6[_0x3aed2b(0x35a)]||[]){const _0x1aab0c=_0x26d4ef['find'](_0x1c2f79=>_0x1c2f79['uid']===_0x903b84[_0x3aed2b(0x6a3)]);if(_0x1aab0c){switch(_0x1aab0c['type']){case _0x2067ca[_0x3aed2b(0x461)]:_0x17dee3=await _0xfeab91(_0x783ccf,_0xa8cb1e,_0x5cb3f2,_0xa77d2d,_0x1aab0c,_0x26d4ef,_0x516a98);break;case _0x2067ca[_0x3aed2b(0x4a9)]:_0x17dee3=await _0xb31533(_0x783ccf,_0xa8cb1e,_0x5cb3f2,_0xa77d2d,_0x1aab0c,_0x26d4ef,_0x516a98);break;case _0x2067ca['DataCollection']:_0x17dee3=await _0x8496d9(_0x783ccf,_0xa8cb1e,_0x5cb3f2,_0xa77d2d,_0x1aab0c,_0x26d4ef,_0x516a98);break;case _0x2067ca[_0x3aed2b(0xa41)]:_0x17dee3=await _0x159ec6(_0x783ccf,_0xa8cb1e,_0x5cb3f2,_0xa77d2d,_0x1aab0c,_0x26d4ef,_0x516a98);break;case _0x2067ca[_0x3aed2b(0x55f)]:_0x17dee3=await _0x321790(_0x783ccf,_0xa8cb1e,_0x5cb3f2,_0xa77d2d,_0x1aab0c,_0x26d4ef,_0x516a98);}if(_0x17dee3)return _0x17dee3;}}}function _0x282fc4(_0x1eed10,_0x2daa68){const _0x170e01=_0x2358f4;return _0x2daa68['filter'](_0x534b18=>_0x534b18[_0x170e01(0x35a)]?.[_0x170e01(0x9ec)](_0xd85032=>_0xd85032[_0x170e01(0x5ba)]!==_0x13f753[_0x170e01(0x9d8)]&&_0xd85032['type']!==_0x13f753['Skill']&&_0xd85032[_0x170e01(0x6a3)]===_0x1eed10['uid']))[_0x170e01(0x87a)];}const _0x975e9=require('rxjs/operators');class _0x1e4976{[_0x2358f4(0x973)];constructor(){const _0x341141=_0x2358f4;this[_0x341141(0x973)]=new _0x38eda3['Subject']();}[_0x2358f4(0x396)](_0x23dc55){const _0x23b89a=_0x2358f4;this['subject'][_0x23b89a(0x51c)](_0x23dc55);}async['once'](){const _0x1c0e46=_0x2358f4;return(0x0,_0x38eda3[_0x1c0e46(0x329)])(this[_0x1c0e46(0x973)]['pipe']((0x0,_0x975e9['take'])(0x1)));}}class _0x3d32be extends _0xd71a6d{[_0x2358f4(0x68a)];[_0x2358f4(0xa0a)];[_0x2358f4(0xa20)];['generativeAIWorkerConnectors'];[_0x2358f4(0x2db)];[_0x2358f4(0x36c)];[_0x2358f4(0x9d7)];[_0x2358f4(0x8fa)];[_0x2358f4(0x41c)];[_0x2358f4(0x786)];[_0x2358f4(0x215)]=new Map();[_0x2358f4(0x29d)]=new Map();[_0x2358f4(0x618)];['models']=new Map();[_0x2358f4(0x247)];['prompts']=0x0;[_0x2358f4(0x443)]=0x0;[_0x2358f4(0x65b)]=!0x1;constructor(_0x318c44,_0x1e8816,_0x40abbf,_0x15627b,_0x2effc4,_0xbed709,_0x3c04a5,_0x5f3a33,_0x4566eb,_0x2e9d24){const _0x2788dd=_0x2358f4;super(_0x318c44,_0x1e8816,_0x15627b),this[_0x2788dd(0x68a)]=_0x318c44,this['vendorId']=_0x40abbf,this[_0x2788dd(0xa20)]=_0x2effc4,this[_0x2788dd(0x5f0)]=_0xbed709,this[_0x2788dd(0x2db)]=_0x3c04a5,this['nlpLibraryConnector']=_0x5f3a33,this[_0x2788dd(0x9d7)]=_0x4566eb,this[_0x2788dd(0x8fa)]=_0x2e9d24;}async[_0x2358f4(0x816)](){const _0x484065=_0x2358f4;for(const _0x443291 of this[_0x484065(0x5f0)])await _0x443291['close']();this[_0x484065(0x786)]?.[_0x484065(0x353)](this['label']),this[_0x484065(0x215)]['forEach'](_0x22729e=>_0x22729e[_0x484065(0x353)](this['label'])),this[_0x484065(0x247)]&&(clearTimeout(this[_0x484065(0x247)]),delete this[_0x484065(0x247)]),super['destroy']();}async[_0x2358f4(0x1ed)](_0x6f00fd=!0x1){const _0x406712=_0x2358f4;if(this[_0x406712(0x65b)])super['open']();else{if(this[_0x406712(0x41c)]=await _0xc84b20[_0x406712(0x695)](this[_0x406712(0xa0a)],this['label']),this[_0x406712(0x786)]=this[_0x406712(0xa20)][_0x406712(0x9a6)](this[_0x406712(0x41c)][_0x406712(0x607)]),!this['modelStore'])throw new Error(_0x406712(0x923));this[_0x406712(0x595)](),_0x6f00fd||await this[_0x406712(0x68e)](this['modelStore']);for(const _0x1c925b of this[_0x406712(0x41c)]['models'])try{let _0x5e92bb;_0x1c925b[_0x406712(0x458)]===_0x4ab575[_0x406712(0x8b5)]['Llamacpp']&&(_0x5e92bb=await this[_0x406712(0x35b)]('/'+_0x1c925b['id']+_0x4a6edf)),this[_0x406712(0x382)][_0x406712(0x851)](_0x1c925b['id'],{'id':_0x1c925b['id'],'engineType':_0x1c925b[_0x406712(0x458)],'taskType':_0x1c925b['taskType'],'inputType':_0x1c925b[_0x406712(0x95f)],'outputType':_0x1c925b['outputType'],'sourceUrl':_0x1c925b['sourceUrl'],'pathName':_0x5e92bb});}catch(_0x119519){await this[_0x406712(0x786)]['publish']({'action':_0x4ab575[_0x406712(0x9c7)][_0x406712(0x5c9)],'file':new File([''],''+_0x1c925b['id']+_0x4a6edf),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x1c925b[_0x406712(0x775)]}}),this[_0x406712(0x382)][_0x406712(0x851)](_0x1c925b['id'],{'id':_0x1c925b['id'],'engineType':_0x1c925b[_0x406712(0x458)],'taskType':_0x1c925b[_0x406712(0x58b)],'inputType':_0x1c925b[_0x406712(0x95f)],'outputType':_0x1c925b[_0x406712(0x504)],'sourceUrl':_0x1c925b[_0x406712(0x775)],'pathName':await this[_0x406712(0x35b)]('/'+_0x1c925b['id']+_0x4a6edf)});}for(const _0x12586c of this[_0x406712(0x5f0)])await _0x12586c['initialize'](this[_0x406712(0x2bb)],this[_0x406712(0x382)]);for(const _0xcab3ff of this[_0x406712(0x41c)]['dataBucketIds'])this[_0x406712(0x215)][_0x406712(0x851)](_0xcab3ff,this[_0x406712(0xa20)]['getObjectStoreBucket'](_0xcab3ff));await this[_0x406712(0x6ec)](_0x6f00fd),this[_0x406712(0x2b1)]();for(const _0x22cfa3 of this[_0x406712(0x41c)][_0x406712(0x2d1)])this[_0x406712(0x29d)]['set'](_0x22cfa3,this[_0x406712(0xa20)][_0x406712(0x936)](_0x22cfa3));await this[_0x406712(0x847)](),this['subscribeToExternalContent'](),this[_0x406712(0x65b)]=!0x0,this[_0x406712(0x44c)](),super[_0x406712(0x1ed)]();}}[_0x2358f4(0x7c3)](){const _0x5c8113=_0x2358f4;this[_0x5c8113(0x98e)]=0x0,this['tokens']=0x0,this[_0x5c8113(0x44c)](),super[_0x5c8113(0x7c3)]();}['getBid'](){const _0x4ad2bb=_0x2358f4;return this['sendStats'](),this[_0x4ad2bb(0x52e)]();}[_0x2358f4(0x99e)](_0x385d0e,_0x31bedd,_0x1820c0){const _0x227b90=_0x2358f4,{outputTokens:_0x572647=0x0,output:_0x3f10b4=''}=_0x385d0e,_0x5062d9=_0x572647/((_0x1820c0-_0x31bedd)/0x3e8);this[_0x227b90(0x98e)]+=0x1,this[_0x227b90(0x443)]+=_0x572647,this[_0x227b90(0x8a4)](_0x5062d9,_0x572647),this[_0x227b90(0x44c)]();}[_0x2358f4(0x6e3)](_0x137a7f,_0x495459){const _0x55c2a3=_0x2358f4;return _0x137a7f[_0x55c2a3(0x8da)]=_0x137a7f['output']??'',{'type':_0x55c2a3(0x3cf),'output':_0x55c2a3(0x991)==typeof _0x137a7f['output']&&'string'==typeof _0x495459[_0x55c2a3(0x8da)]?_0x137a7f['output']+_0x495459[_0x55c2a3(0x8da)]:_0x495459[_0x55c2a3(0x8da)],'outputTokens':_0x495459[_0x55c2a3(0xa9a)]??_0x137a7f[_0x55c2a3(0xa9a)],'inputTokens':_0x495459[_0x55c2a3(0x69d)]??_0x137a7f[_0x55c2a3(0x69d)]};}async[_0x2358f4(0x1a5)](_0x373e04,_0x2c1fe8){const _0x153b91=_0x2358f4;if(!this[_0x153b91(0x41c)])throw new Error(_0x153b91(0x943));if('prompt'===_0x2c1fe8[_0x153b91(0x5ba)]){const _0x3174fb=this['workflow'][_0x153b91(0x5d7)]['find'](_0x3bf1e1=>_0x3bf1e1['type']===_0x2067ca[_0x153b91(0x797)]),_0x1a2aa4=await async function(_0x207b39,_0x379602,_0x5b418a,_0x72179e,_0x219b88){const _0x3678b6=_0x153b91,_0x4c7727=(0x0,_0x42da8f['v4'])();if(_0x2ce26a[_0x3678b6(0x9af)]({'jobType':_0x41bd8f[_0x3678b6(0x298)],'type':_0x2d44f4['InitialPrompt'],'jobId':_0x207b39,'blockId':_0x5b418a['id'],'agentId':_0x4c7727,'threadId':_0x379602['threadId'],'traceLevel':_0x3d4084[_0x3678b6(0x69c)],'startTime':Date[_0x3678b6(0x58d)](),'timestamp':Date[_0x3678b6(0x58d)](),'status':_0x3678b6(0x603),'initialPrompt':_0x379602['prompt']}),_0x379602[_0x3678b6(0x3b4)]){for(const _0x1cff80 in _0x379602['internalContext'])_0x40b259[_0x3678b6(0x858)](_0x379602[_0x3678b6(0x84b)],_0x1cff80,_0x379602['internalContext'][_0x1cff80]);}const _0x573057={'type':_0x379602[_0x3678b6(0x5ba)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x4c6b01=await _0x193236(_0x207b39,''+_0x379602['prompt'],_0x379602,_0x573057,_0x5b418a,_0x72179e,_0x219b88);if(!_0x4c6b01)throw new Error(_0x3678b6(0x4f1));const _0x2d87a2=_0x219b88[_0x3678b6(0x382)][_0x3678b6(0x7c6)](_0x1ae12d=>_0x1ae12d['id']===_0x4c6b01[_0x3678b6(0x7a7)]);if(!_0x2d87a2)throw new Error(_0x3678b6(0x69e));const _0x421496=_0x219b88['generativeAIWorkerConnectors'][_0x3678b6(0x7c6)](_0x1f4476=>_0x1f4476['getEngineType']()===_0x2d87a2['engineType']);if(!_0x421496)throw new Error('No\x20connector\x20found\x20for\x20model');let _0x35129d=_0x4c6b01[_0x3678b6(0x630)][_0x3678b6(0x3cf)];if(_0x4c6b01[_0x3678b6(0x6f5)]&&''!==_0x4c6b01[_0x3678b6(0x6f5)]&&'default'!==_0x4c6b01[_0x3678b6(0x389)]){const _0x3f4367=_0x4c6b01[_0x3678b6(0x6f5)][_0x3678b6(0x6ab)](',');for(const _0x32174d of _0x3f4367)_0x35129d=_0x35129d+'\x0a\x0a'+_0x32174d+':\x20'+_0x40b259[_0x3678b6(0x9a9)](_0x379602[_0x3678b6(0x84b)],_0x32174d);}const _0x1cb62c=Date[_0x3678b6(0x58d)](),_0x65fabd=await _0x421496[_0x3678b6(0x2dd)]({'type':_0x379602[_0x3678b6(0x5ba)],'prompt':_0x35129d,'instructions':''+_0x4c6b01['instructions']+(_0x379602[_0x3678b6(0x27f)]??'')+(_0x4c6b01[_0x3678b6(0x630)]?.[_0x3678b6(0x7e5)]?_0x3678b6(0x48a)+_0x4c6b01[_0x3678b6(0x630)]['context'][_0x3678b6(0x8d9)](_0xc0e5cc=>_0xc0e5cc['content'])[_0x3678b6(0x374)]('\x0a'):''),'grammar':_0x4c6b01[_0x3678b6(0x389)],'temperature':_0x4c6b01[_0x3678b6(0x9fb)],'maxTokens':_0x4c6b01[_0x3678b6(0xa1a)],'history':_0x379602[_0x3678b6(0x543)],'functions':_0x1b5446(_0x207b39,_0x4c7727,_0x379602[_0x3678b6(0x84b)],_0x573057,_0x4c6b01,_0x72179e,_0x219b88),'threadId':_0x379602[_0x3678b6(0x84b)]},{'model':_0x2d87a2}),{inputTokens:_0x3e9541=0x0,outputTokens:_0x598315=0x0,context:_0x53460e=[]}=_0x65fabd;return _0x2ce26a[_0x3678b6(0x9af)]({'jobType':_0x41bd8f[_0x3678b6(0x298)],'type':_0x2d44f4[_0x3678b6(0x620)],'jobId':_0x207b39,'agentId':_0x4c7727,'threadId':_0x379602['threadId'],'traceLevel':_0x3d4084[_0x3678b6(0x69c)],'startTime':_0x1cb62c,'timestamp':Date[_0x3678b6(0x58d)](),'blockId':_0x5b418a['id'],'status':_0x3678b6(0x603),'output':_0x65fabd['output']?.['toString']()??'','history':_0x379602[_0x3678b6(0x543)]??[],'instructions':''+_0x4c6b01[_0x3678b6(0x27f)]+(_0x379602[_0x3678b6(0x27f)]??''),'ragContext':_0x53460e,'inputTokens':_0x3e9541,'outputTokens':_0x598315}),_0x40b259[_0x3678b6(0x9f5)](_0x379602[_0x3678b6(0x84b)]),{'type':_0x379602['type'],'output':_0x65fabd['output'],'context':_0x573057[_0x3678b6(0x7e5)],'internalContext':_0x573057[_0x3678b6(0x3b4)],'inputTokens':(_0x573057[_0x3678b6(0x69d)]??0x0)+(_0x65fabd[_0x3678b6(0x69d)]??0x0),'outputTokens':(_0x573057[_0x3678b6(0xa9a)]??0x0)+(_0x65fabd['outputTokens']??0x0)};}(_0x373e04,_0x2c1fe8,_0x3174fb,this['workflow'][_0x153b91(0x5d7)],{'documentParserConnector':this[_0x153b91(0x2db)],'nlpLibraryConnector':this[_0x153b91(0x36c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this[_0x153b91(0x41c)]['models'],'contentMediator':this[_0x153b91(0xa20)],'searchApiKey':this[_0x153b91(0x9d7)],'searchConnector':this['searchConnector']});return _0x1a2aa4;}if(_0x153b91(0x70f)===_0x2c1fe8[_0x153b91(0x5ba)])return _0x2ce26a[_0x153b91(0x9af)]({'jobType':_0x41bd8f[_0x153b91(0x689)],'type':_0x1846d4[_0x153b91(0x652)],'jobId':_0x2c1fe8[_0x153b91(0x2f3)],'threadId':_0x2c1fe8[_0x153b91(0x84b)],'traceLevel':_0x3d4084[_0x153b91(0x69c)],'startTime':Date[_0x153b91(0x58d)](),'timestamp':Date[_0x153b91(0x58d)](),'status':_0x153b91(0x603),'rating':_0x2c1fe8[_0x153b91(0x7f2)],'feedback':_0x2c1fe8[_0x153b91(0x260)]}),{'type':'rate','status':_0x4ab575[_0x153b91(0x956)]['Success']};if(_0x153b91(0x9bb)===_0x2c1fe8['type']){let _0xf0f584;const _0x3852ec=this['dataStores'][_0x153b91(0x535)]();for(;!_0xf0f584;){const _0x4cbece=_0x3852ec[_0x153b91(0x51c)]()[_0x153b91(0x808)];if(!_0x4cbece)throw new Error(_0x153b91(0x3cd));_0xf0f584=this['dataStores'][_0x153b91(0x879)](_0x4cbece);try{const _0x23a430=await _0xf0f584[_0x153b91(0x879)](_0x2c1fe8[_0x153b91(0x7ae)]);return{'type':_0x153b91(0x9bb),'fileName':_0x23a430['name'],'mimeType':_0x23a430[_0x153b91(0x5ba)],'document':await _0x23a430[_0x153b91(0x370)]()};}catch(_0x1f7f31){continue;}}throw new Error(_0x153b91(0x3cd));}throw new Error(_0x153b91(0x6a5));}async*[_0x2358f4(0x696)](_0xd719a0,_0x3afd56){const _0x4e5105=_0x2358f4;if(!this[_0x4e5105(0x41c)])throw new Error(_0x4e5105(0x943));const _0x32a702=this[_0x4e5105(0x41c)][_0x4e5105(0x5d7)][_0x4e5105(0x7c6)](_0x5d6b34=>_0x5d6b34[_0x4e5105(0x5ba)]===_0x2067ca[_0x4e5105(0x797)]);for await(const _0x44a04e of async function*(_0x129995,_0x140f7d,_0x2ff267,_0x3416f6,_0x4dad8b){const _0x3af0d4=_0x4e5105,_0x5bce9f=(0x0,_0x42da8f['v4'])();if(_0x2ce26a[_0x3af0d4(0x9af)]({'jobType':_0x41bd8f['Workflow'],'type':_0x2d44f4[_0x3af0d4(0x67b)],'jobId':_0x129995,'agentId':_0x5bce9f,'threadId':_0x140f7d[_0x3af0d4(0x84b)],'traceLevel':_0x3d4084[_0x3af0d4(0x69c)],'startTime':Date[_0x3af0d4(0x58d)](),'timestamp':Date[_0x3af0d4(0x58d)](),'blockId':_0x2ff267['id'],'status':_0x3af0d4(0x603),'initialPrompt':_0x140f7d[_0x3af0d4(0x3cf)]}),_0x140f7d[_0x3af0d4(0x3b4)]){for(const _0x5bf952 in _0x140f7d[_0x3af0d4(0x3b4)])_0x40b259['setContent'](_0x140f7d['threadId'],_0x5bf952,_0x140f7d[_0x3af0d4(0x3b4)][_0x5bf952]);}const _0x2cc277={'type':_0x140f7d['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x2e77d4=await _0x193236(_0x129995,''+_0x140f7d[_0x3af0d4(0x3cf)],_0x140f7d,_0x2cc277,_0x2ff267,_0x3416f6,_0x4dad8b);if(!_0x2e77d4)throw new Error(_0x3af0d4(0x4f1));const _0x34f68e=Date['now']();let _0x360c59='',_0x50a92b={'type':_0x140f7d['type']};const _0x34ff61=new _0x1e4976();for(async function(_0x465ea6,_0x32395c,_0x43ec00,_0x6cbb9d,_0x2ae2ad,_0x11f9bb,_0x2aad34,_0x237d1a){const _0x2f5d15=_0x3af0d4,_0x5bbf3c=_0x237d1a[_0x2f5d15(0x382)][_0x2f5d15(0x7c6)](_0x38da8f=>_0x38da8f['id']===_0x2ae2ad[_0x2f5d15(0x7a7)]);if(!_0x5bbf3c)throw new Error(_0x2f5d15(0x69e));const _0x159fff=_0x237d1a['generativeAIWorkerConnectors'][_0x2f5d15(0x7c6)](_0xd7ea44=>_0xd7ea44[_0x2f5d15(0x734)]()===_0x5bbf3c[_0x2f5d15(0x458)]);if(!_0x159fff)throw new Error(_0x2f5d15(0x3ce));let _0x3ae259=_0x2ae2ad[_0x2f5d15(0x630)][_0x2f5d15(0x3cf)];if(_0x2ae2ad[_0x2f5d15(0x6f5)]&&''!==_0x2ae2ad['contextInputVariable']&&_0x2f5d15(0x8cd)!==_0x2ae2ad['grammar']){const _0x358b08=_0x2ae2ad[_0x2f5d15(0x6f5)][_0x2f5d15(0x6ab)](',');for(const _0x31800d of _0x358b08)_0x3ae259=_0x3ae259+'\x0a\x0a'+_0x31800d+':\x20'+_0x40b259[_0x2f5d15(0x9a9)](_0x43ec00['threadId'],_0x31800d);}for await(const _0x1d5076 of _0x159fff[_0x2f5d15(0x1ec)]({'type':_0x43ec00[_0x2f5d15(0x5ba)],'prompt':_0x3ae259,'instructions':''+_0x2ae2ad['instructions']+(_0x43ec00[_0x2f5d15(0x27f)]??'')+(_0x2ae2ad['accumulated']?.['context']?_0x2f5d15(0x48a)+_0x2ae2ad[_0x2f5d15(0x630)][_0x2f5d15(0x7e5)][_0x2f5d15(0x8d9)](_0x459aa1=>_0x459aa1[_0x2f5d15(0x5d0)])[_0x2f5d15(0x374)]('\x0a'):''),'grammar':_0x2ae2ad[_0x2f5d15(0x389)],'temperature':_0x2ae2ad[_0x2f5d15(0x9fb)],'maxTokens':_0x2ae2ad[_0x2f5d15(0xa1a)],'history':_0x43ec00['history'],'functions':_0x1b5446(_0x465ea6,_0x32395c,_0x43ec00[_0x2f5d15(0x84b)],_0x6cbb9d,_0x2ae2ad,_0x11f9bb,_0x237d1a,_0x2aad34),'threadId':_0x43ec00[_0x2f5d15(0x84b)]},{'model':_0x5bbf3c}))_0x2aad34[_0x2f5d15(0x396)](_0x1d5076);_0x2aad34['emit'](void 0x0);}(_0x129995,_0x5bce9f,_0x140f7d,_0x2cc277,_0x2e77d4,_0x3416f6,_0x34ff61,_0x4dad8b);;){const _0x655834=await _0x34ff61['once']();if(!_0x655834)break;_0x360c59+=_0x655834[_0x3af0d4(0x8da)],_0x50a92b={'type':_0x140f7d['type'],'output':_0x655834['output'],'context':_0x2cc277['context'],'internalContext':_0x2cc277['internalContext'],'inputTokens':(_0x2cc277['inputTokens']??0x0)+(_0x655834[_0x3af0d4(0x69d)]??0x0),'outputTokens':(_0x2cc277['outputTokens']??0x0)+(_0x655834[_0x3af0d4(0xa9a)]??0x0)},yield _0x50a92b;}const {inputTokens:_0x52d430=0x0,outputTokens:_0x5cd061=0x0,context:_0x1fef2f=[]}=_0x50a92b;_0x2ce26a[_0x3af0d4(0x9af)]({'jobType':_0x41bd8f[_0x3af0d4(0x298)],'type':_0x2d44f4[_0x3af0d4(0x620)],'jobId':_0x129995,'agentId':_0x5bce9f,'threadId':_0x140f7d[_0x3af0d4(0x84b)],'traceLevel':_0x3d4084[_0x3af0d4(0x69c)],'startTime':_0x34f68e,'timestamp':Date[_0x3af0d4(0x58d)](),'blockId':_0x2ff267['id'],'status':_0x3af0d4(0x603),'output':_0x360c59,'history':_0x140f7d['history']??[],'instructions':''+_0x2e77d4[_0x3af0d4(0x27f)]+(_0x140f7d['instructions']??''),'ragContext':_0x1fef2f,'inputTokens':_0x52d430,'outputTokens':_0x5cd061}),_0x40b259[_0x3af0d4(0x9f5)](_0x140f7d['threadId']);}(_0xd719a0,_0x3afd56,_0x32a702,this[_0x4e5105(0x41c)][_0x4e5105(0x5d7)],{'documentParserConnector':this[_0x4e5105(0x2db)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this['workflow'][_0x4e5105(0x382)],'contentMediator':this[_0x4e5105(0xa20)],'searchApiKey':this[_0x4e5105(0x9d7)],'searchConnector':this[_0x4e5105(0x8fa)]}))yield _0x44a04e;}[_0x2358f4(0x998)](_0x4c1150,_0x56a564){const _0x841cd6=_0x2358f4;if('rate'===_0x56a564[_0x841cd6(0x5ba)])return _0x4c1150=_0x56a564['jobId'],void this[_0x841cd6(0x9c3)](_0x4c1150);this['openTrace'](_0x4c1150),_0x2ce26a[_0x841cd6(0x9af)]({'jobType':_0x41bd8f['Job'],'type':_0x5caa01[_0x841cd6(0x84c)],'traceLevel':_0x3d4084['Info'],'jobId':_0x4c1150,'threadId':_0x56a564[_0x841cd6(0x84b)],'startTime':Date[_0x841cd6(0x58d)](),'timestamp':Date[_0x841cd6(0x58d)](),'status':_0x841cd6(0x603)});}[_0x2358f4(0x834)](_0xd212c5,_0x368c34){const _0x24c9aa=_0x2358f4;if(_0x24c9aa(0x70f)===_0x368c34[_0x24c9aa(0x5ba)])return _0xd212c5=_0x368c34[_0x24c9aa(0x2f3)],void this[_0x24c9aa(0x710)](_0xd212c5);_0x2ce26a[_0x24c9aa(0x9af)]({'jobType':_0x41bd8f[_0x24c9aa(0xaa4)],'type':_0x5caa01[_0x24c9aa(0x328)],'traceLevel':_0x3d4084['Info'],'jobId':_0xd212c5,'threadId':_0x368c34['threadId'],'startTime':Date[_0x24c9aa(0x58d)](),'timestamp':Date[_0x24c9aa(0x58d)](),'status':_0x24c9aa(0x603)}),this['closeTrace'](_0xd212c5);}async[_0x2358f4(0x68e)](_0x5a08c0){return new Promise(_0x20b9b5=>{const _0x280dc6=a0_0x34e5;_0x5a08c0['subscribe'](this[_0x280dc6(0x2bb)],async _0x575eed=>{const _0x62de02=_0x280dc6;_0x575eed[_0x62de02(0x530)]===_0x4ab575[_0x62de02(0x85e)][_0x62de02(0x8c2)]&&(_0x5a08c0[_0x62de02(0x353)](this[_0x62de02(0x2bb)]),_0x20b9b5(_0x575eed[_0x62de02(0x2e1)][_0x62de02(0x6fc)]));});});}async[_0x2358f4(0x35b)](_0x6ef1ae){const _0x4920dc=_0x2358f4;if(!this[_0x4920dc(0x786)])throw new Error('Model\x20store\x20not\x20initialized');const _0x1c01f1=await this[_0x4920dc(0x786)][_0x4920dc(0x1d7)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x18f605 of _0x1c01f1)if(_0x18f605[_0x4920dc(0xa7b)]===_0x4ab575[_0x4920dc(0x945)]['File']&&_0x18f605[_0x4920dc(0x313)]===_0x6ef1ae)return _0x18f605[_0x4920dc(0x282)]??_0x18f605[_0x4920dc(0x313)];throw new Error(_0x4920dc(0x28a)+_0x6ef1ae);}async[_0x2358f4(0x6ec)](_0x430867){const _0x56e48b=_0x2358f4;if(!this[_0x56e48b(0x41c)])throw new Error(_0x56e48b(0x943));for(const _0x34e6b0 of this['dataStores'][_0x56e48b(0x55b)]())try{const _0x7c208d=this['workflow'][_0x56e48b(0x5d7)][_0x56e48b(0x829)](_0x513577=>(_0x513577[_0x56e48b(0x5ba)]===_0x2067ca['DataCollection']||_0x513577[_0x56e48b(0x5ba)]===_0x2067ca[_0x56e48b(0x9d8)])&&_0x513577[_0x56e48b(0x692)]?.[_0x56e48b(0x9ec)](_0x276bcc=>_0x276bcc['id']===_0x34e6b0['getLabel']()));for(let _0x10bde1=_0x7c208d['length']-0x1;_0x10bde1>=0x0;_0x10bde1--)for(const _0x54b765 of _0x7c208d[_0x10bde1][_0x56e48b(0x692)]??[])_0x54b765[_0x56e48b(0x5ba)]===_0x1a4caa[_0x56e48b(0x219)]&&this[_0x56e48b(0xa20)]['getVectorDatabase'](_0x54b765['id'])[_0x56e48b(0x874)]()&&_0x7c208d[_0x56e48b(0x95d)](_0x10bde1,0x1),_0x54b765['type']===_0x1a4caa[_0x56e48b(0xa16)]&&this['contentMediator'][_0x56e48b(0x22c)](_0x54b765['id'])[_0x56e48b(0x874)]()&&_0x7c208d[_0x56e48b(0x95d)](_0x10bde1,0x1);const _0x4dcae0=new Map();let _0x1c26c1=0x0;_0x430867||(_0x1c26c1=await this['waitForSyncComplete'](_0x34e6b0));let _0xd10f1d=!0x1;if(0x0===_0x1c26c1){for(const _0x403e22 of _0x7c208d){let _0x2dee7b=''+(_0x403e22[_0x56e48b(0x97a)]??0x1);for(const _0x2b081f of _0x403e22[_0x56e48b(0x692)]??[])_0x2b081f[_0x56e48b(0x5ba)]===_0x1a4caa[_0x56e48b(0x461)]&&(_0x2dee7b=_0x2dee7b+'-'+(_0x2b081f['version']??0x1));for(const _0x30075c of _0x403e22[_0x56e48b(0x692)]??[])_0x30075c[_0x56e48b(0x5ba)]===_0x1a4caa[_0x56e48b(0x219)]&&_0x4dcae0[_0x56e48b(0x851)](_0x30075c['id'],{'version':_0x2dee7b,'getDatabase':this[_0x56e48b(0xa20)][_0x56e48b(0xa09)]['bind'](this['contentMediator']),'block':_0x30075c}),_0x30075c[_0x56e48b(0x5ba)]===_0x1a4caa['GraphDatabase']&&_0x4dcae0[_0x56e48b(0x851)](_0x30075c['id'],{'version':_0x2dee7b,'getDatabase':this[_0x56e48b(0xa20)]['getGraphDatabase'][_0x56e48b(0x767)](this['contentMediator']),'block':_0x30075c});}for(const {getDatabase:_0x42c44b,block:_0x58e954,version:_0x2f090b}of _0x4dcae0[_0x56e48b(0x55b)]())try{_0x42c44b(_0x58e954['id'])['loadFromDisk'](_0x2f090b),_0xd10f1d=!0x0;}catch(_0x350fa4){_0xd10f1d=!0x1;break;}}if(_0xd10f1d)continue;const _0x3ca323=await _0x34e6b0[_0x56e48b(0x1d7)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x56e48b(0x962)](_0x23f54d[_0x56e48b(0x42a)],_0x34e6b0[_0x56e48b(0x919)](),_0x3ca323);for(const {getDatabase:_0x5a2992,block:_0x59d6ea,version:_0x4f1327}of _0x4dcae0[_0x56e48b(0x55b)]()){const _0x599251=_0x5a2992(_0x59d6ea['id']);_0x599251[_0x56e48b(0x287)](_0x4f1327),_0x599251[_0x56e48b(0x5ca)](!0x0);}}catch(_0x50d204){_0x561d9b[_0x56e48b(0x7b7)](_0x56e48b(0x678),{'nodeId':this[_0x56e48b(0x68a)]['getId'](),'nodeType':this[_0x56e48b(0x68a)]['type']});}}async[_0x2358f4(0x847)](){const _0x11fb55=_0x2358f4;for(const _0x564b1e of this[_0x11fb55(0x29d)]['values']())try{const _0x67cf54=await _0x564b1e[_0x11fb55(0x1d7)]('/',{'recursive':!0x0});await this[_0x11fb55(0x962)](_0x23f54d[_0x11fb55(0x9cf)],_0x564b1e[_0x11fb55(0x919)](),_0x67cf54);}catch(_0x1c7e3b){_0x561d9b[_0x11fb55(0x7b7)]('Error\x20loading\x20external\x20content',{'nodeId':this[_0x11fb55(0x68a)][_0x11fb55(0x7b4)](),'nodeType':this[_0x11fb55(0x68a)][_0x11fb55(0x5ba)]});}}async[_0x2358f4(0x962)](_0xd2a142,_0x499e3e,_0x563954){const _0x171ac0=_0x2358f4;for(const _0x2c6c0b of _0x563954){if(_0x2c6c0b['kind']===_0x4ab575['ObjectKind'][_0x171ac0(0x746)]){if(!_0x2c6c0b[_0x171ac0(0x1c6)]||0x0===_0x2c6c0b[_0x171ac0(0x1c6)]['length'])continue;await this[_0x171ac0(0x962)](_0xd2a142,_0x499e3e,_0x2c6c0b[_0x171ac0(0x1c6)]);}_0x2c6c0b[_0x171ac0(0xa7b)]===_0x4ab575['ObjectKind'][_0x171ac0(0x5c9)]&&await this[_0x171ac0(0x466)](_0xd2a142,_0x499e3e,_0x2c6c0b[_0x171ac0(0x313)]);}}[_0x2358f4(0x2b1)](){const _0x12a1ea=_0x2358f4;for(const _0x2c5036 of this[_0x12a1ea(0x215)][_0x12a1ea(0x55b)]())_0x2c5036[_0x12a1ea(0x6f4)](this['label'],async _0x3e0d57=>{const _0x23c08c=_0x12a1ea;switch(_0x3e0d57[_0x23c08c(0x530)]){case _0x4ab575[_0x23c08c(0x85e)][_0x23c08c(0x88d)]:this[_0x23c08c(0x341)](_0x23f54d[_0x23c08c(0x42a)],_0x2c5036[_0x23c08c(0x919)](),_0x3e0d57['payload']['file'][_0x23c08c(0x313)]),await this['addContent'](_0x23f54d['ObjectStorage'],_0x2c5036['getName'](),_0x3e0d57[_0x23c08c(0x2e1)][_0x23c08c(0x4db)][_0x23c08c(0x313)]);break;case _0x4ab575[_0x23c08c(0x85e)][_0x23c08c(0x4a7)]:this['removeContent'](_0x23f54d[_0x23c08c(0x42a)],_0x2c5036[_0x23c08c(0x919)](),_0x3e0d57[_0x23c08c(0x2e1)][_0x23c08c(0x683)]);}});}[_0x2358f4(0x2e8)](){const _0x2add87=_0x2358f4;for(const _0x48d4f5 of this[_0x2add87(0x29d)][_0x2add87(0x55b)]())_0x48d4f5['subscribe'](this['label'],async _0x2b4f8c=>{const _0x33b6e1=_0x2add87;switch(_0x2b4f8c[_0x33b6e1(0x530)]){case _0x4ab575[_0x33b6e1(0x85e)]['FileWrite']:this['removeContent'](_0x23f54d[_0x33b6e1(0x9cf)],_0x48d4f5['getName'](),_0x2b4f8c['payload']['file'][_0x33b6e1(0x313)]),await this[_0x33b6e1(0x466)](_0x23f54d[_0x33b6e1(0x9cf)],_0x48d4f5[_0x33b6e1(0x919)](),_0x2b4f8c[_0x33b6e1(0x2e1)][_0x33b6e1(0x4db)][_0x33b6e1(0x313)]);break;case _0x4ab575[_0x33b6e1(0x85e)][_0x33b6e1(0x4a7)]:this[_0x33b6e1(0x341)](_0x23f54d[_0x33b6e1(0x9cf)],_0x48d4f5[_0x33b6e1(0x919)](),_0x2b4f8c[_0x33b6e1(0x2e1)][_0x33b6e1(0x683)]);}});}async[_0x2358f4(0x466)](_0x390085,_0x7c8556,_0x5835c5){const _0x304dd6=_0x2358f4;if(!this[_0x304dd6(0x41c)])throw new Error(_0x304dd6(0x943));let _0x645e5;switch(_0x390085){case _0x23f54d[_0x304dd6(0x42a)]:_0x645e5=_0x1a4caa[_0x304dd6(0x88b)];break;case _0x23f54d['ExternalStorage']:_0x645e5=_0x1a4caa[_0x304dd6(0x1ef)];}if(!_0x645e5)return;const _0x38aa49=this[_0x304dd6(0x41c)][_0x304dd6(0x5d7)]['filter'](_0x3dbda0=>_0x3dbda0[_0x304dd6(0x5ba)]===_0x2067ca[_0x304dd6(0x9d8)]||_0x3dbda0[_0x304dd6(0x5ba)]===_0x2067ca[_0x304dd6(0x62e)]),_0x2c5196=new Set(_0x38aa49[_0x304dd6(0x8d9)](_0x28a2b2=>_0x28a2b2['id'])),_0x453b38=_0x38aa49[_0x304dd6(0x829)](_0x3a4c0f=>_0x3a4c0f['ingestBlocks']?.[_0x304dd6(0x9ec)](_0x152761=>_0x152761['type']===_0x645e5&&_0x152761['id']===_0x7c8556));for(const _0x241d69 of _0x453b38){if(!_0x2c5196[_0x304dd6(0x3d0)](_0x241d69['id']))continue;_0x2c5196[_0x304dd6(0x6e6)](_0x241d69['id']);const _0x484447=_0x241d69[_0x304dd6(0x692)]?.[_0x304dd6(0x7c6)](_0x5ddb3d=>_0x5ddb3d[_0x304dd6(0x5ba)]===_0x645e5&&_0x5ddb3d['id']===_0x7c8556);if(!_0x484447)continue;const _0x57d2b2=(0x0,_0x42da8f['v4'])();_0x2ce26a[_0x304dd6(0x9c3)](null,_0x57d2b2),await _0x3f665c(_0x57d2b2,_0x5835c5,_0x484447,_0x241d69[_0x304dd6(0x692)],{'documentParserConnector':this[_0x304dd6(0x2db)],'nlpLibraryConnector':this[_0x304dd6(0x36c)],'generativeAIWorkerConnectors':this[_0x304dd6(0x5f0)],'models':this[_0x304dd6(0x41c)][_0x304dd6(0x382)],'contentMediator':this[_0x304dd6(0xa20)],'searchApiKey':this[_0x304dd6(0x9d7)],'version':_0x241d69[_0x304dd6(0x97a)]??0x1}),_0x2ce26a[_0x304dd6(0x710)](_0x57d2b2);}this['sendStats']();}[_0x2358f4(0x341)](_0x566466,_0x20baa9,_0x124a06){const _0x2289d5=_0x2358f4;if(!this[_0x2289d5(0x41c)])throw new Error('Workflow\x20not\x20initialized');let _0x3a71b8;switch(_0x566466){case _0x23f54d[_0x2289d5(0x42a)]:_0x3a71b8=_0x1a4caa[_0x2289d5(0x88b)];break;case _0x23f54d[_0x2289d5(0x9cf)]:_0x3a71b8=_0x1a4caa[_0x2289d5(0x1ef)];}if(!_0x3a71b8)return;const _0x1a5d20=this[_0x2289d5(0x41c)][_0x2289d5(0x5d7)][_0x2289d5(0x829)](_0x3da1fd=>_0x3da1fd[_0x2289d5(0x5ba)]===_0x2067ca[_0x2289d5(0x9d8)]||_0x3da1fd[_0x2289d5(0x5ba)]===_0x2067ca[_0x2289d5(0x62e)]),_0x25679a=new Set(_0x1a5d20[_0x2289d5(0x8d9)](_0x41bfee=>_0x41bfee['id'])),_0x487a18=_0x1a5d20[_0x2289d5(0x829)](_0x40a511=>_0x40a511[_0x2289d5(0x692)]?.[_0x2289d5(0x9ec)](_0x5c621e=>_0x5c621e[_0x2289d5(0x5ba)]===_0x3a71b8&&_0x5c621e['id']===_0x20baa9));for(const _0x56fadb of _0x487a18){if(!_0x25679a['has'](_0x56fadb['id']))continue;_0x25679a[_0x2289d5(0x6e6)](_0x56fadb['id']);let _0x46016c=''+(_0x56fadb[_0x2289d5(0x97a)]??0x1);for(const _0x25cb65 of _0x56fadb[_0x2289d5(0x692)]??[])_0x25cb65[_0x2289d5(0x5ba)]===_0x1a4caa[_0x2289d5(0x461)]&&(_0x46016c=_0x46016c+'-'+(_0x25cb65[_0x2289d5(0x97a)]??0x1));for(const _0x231d08 of _0x56fadb[_0x2289d5(0x692)]??[]){if(_0x231d08['type']===_0x1a4caa[_0x2289d5(0x219)]){const _0x385478=this[_0x2289d5(0xa20)][_0x2289d5(0xa09)](_0x231d08['id']);_0x385478[_0x2289d5(0xa17)](_0x124a06),_0x385478[_0x2289d5(0x874)]()&&_0x385478[_0x2289d5(0x287)](_0x46016c);}if(_0x231d08[_0x2289d5(0x5ba)]===_0x1a4caa[_0x2289d5(0xa16)]){const _0xeeb6b3=this[_0x2289d5(0xa20)][_0x2289d5(0x22c)](_0x231d08['id']);_0xeeb6b3[_0x2289d5(0xa17)](_0x124a06),_0xeeb6b3[_0x2289d5(0x874)]()&&_0xeeb6b3[_0x2289d5(0x287)](_0x46016c);}}}this[_0x2289d5(0x44c)]();}['getCoresFromCapacityReport'](){const _0x325f42=_0x2358f4;try{return this[_0x325f42(0x753)]['getCapacityReport']()[_0x325f42(0x4d8)][_0x325f42(0x622)]*(0x1-this[_0x325f42(0x753)][_0x325f42(0x8fd)]()[_0x325f42(0x4d8)][_0x325f42(0xa72)]);}catch(_0x21c280){return _0x561d9b[_0x325f42(0x870)](_0x577427[_0x325f42(0x6fd)],_0x325f42(0x19a),_0x21c280),0x0;}}[_0x2358f4(0x44c)](){const _0x50ccda=_0x2358f4;this[_0x50ccda(0x65b)]&&(this[_0x50ccda(0x247)]&&clearTimeout(this[_0x50ccda(0x247)]),this[_0x50ccda(0x247)]=setTimeout(async()=>{const _0x51398b=_0x50ccda;if(delete this['debounceStats'],!this[_0x51398b(0x786)])return;let _0x21d4e9=await this['modelStore'][_0x51398b(0x377)]();for(const _0x1768f9 of this[_0x51398b(0x215)][_0x51398b(0x55b)]())_0x21d4e9+=await _0x1768f9[_0x51398b(0x377)]();this[_0x51398b(0x80f)]['publish']({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x51398b(0x60f)],'content':{'type':_0x2d88a4[_0x51398b(0xa97)],'label':this[_0x51398b(0x2bb)],'stats':{'timestamp':Date[_0x51398b(0x58d)](),'storage':_0x21d4e9,'messagesSent':this[_0x51398b(0x379)],'messagesReceived':this[_0x51398b(0x4e7)],'bytesSent':this[_0x51398b(0x5f3)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x51398b(0x98e)],'tokens':this['tokens']}}});},_0x9a9f66));}['logServiceEvent'](_0x563db9,_0x446fd2){const _0x5e37e4=_0x2358f4,_0x10b388=this[_0x5e37e4(0x2bb)],_0x2e9603=this['getOwnerId']();_0x561d9b['logServiceEvent'](_0x4ae419['GenerativeAIContext'],{'topic':_0x10b388,'type':_0x5e37e4(0x53b),'nodeId':_0x2e9603,'tokenCount':_0x446fd2,'tokensPerSecond':_0x563db9});}[_0x2358f4(0x9c3)](_0x4b32a9){const _0x108859=_0x2358f4;try{if(!this[_0x108859(0x41c)])throw new Error(_0x108859(0x943));if(!this[_0x108859(0x618)])throw new Error(_0x108859(0x23a));if(!_0x2ce26a['openTrace'](this[_0x108859(0x618)],_0x4b32a9))throw new Error('Error\x20opening\x20trace');return _0x4b32a9;}catch(_0x5c121c){return console[_0x108859(0x7b7)]('Error\x20opening\x20trace',_0x5c121c),_0x108859(0x39f);}}['closeTrace'](_0x36abda){const _0x424d10=_0x2358f4;try{_0x2ce26a['closeTrace'](_0x36abda);}catch(_0x9dac91){console[_0x424d10(0x7b7)](_0x424d10(0x226),{'jobId':_0x36abda,'error':_0x9dac91});}}async[_0x2358f4(0x595)](){return new Promise(_0x2a4424=>{const _0x389eef=a0_0x34e5;try{const _0x49ac2d=_0xacdb89(this[_0x389eef(0xa0a)],this['label']);this['loggingDb']=this[_0x389eef(0xa20)][_0x389eef(0x9fe)](_0x49ac2d),this[_0x389eef(0x618)][_0x389eef(0x6f4)](({event:_0x155e7a})=>{const _0x13599a=_0x389eef;_0x155e7a===_0x4ab575['DatabaseEvent'][_0x13599a(0x8c2)]&&(this[_0x13599a(0x618)][_0x13599a(0x353)](),_0x2a4424());});}catch(_0x5c9c29){console[_0x389eef(0x7b7)](_0x389eef(0xa11)+_0xacdb89(this[_0x389eef(0xa0a)],this[_0x389eef(0x2bb)])+_0x389eef(0x39c),_0x5c9c29),_0x2a4424();}});}}class _0x507c38 extends _0xa6bf6b{[_0x2358f4(0x68a)];[_0x2358f4(0x667)];[_0x2358f4(0xa0a)];['db'];[_0x2358f4(0x247)];['writes']=0x0;['reads']=0x0;['isLoaded']=!0x1;constructor(_0x80c617,_0x2229c8,_0x42f20c,_0x761ba8,_0x348268){const _0x4abc93=_0x2358f4;if(_0x4abc93(0x991)!=typeof _0x2229c8)throw new _0x5af266(_0x3412d7[_0x4abc93(0x967)],_0x4abc93(0x6df));super(_0x80c617,_0x2229c8),this['localNode']=_0x80c617,this['clusterId']=_0x42f20c,this['vendorId']=_0x761ba8;const _0x47485f='ccc'+this[_0x4abc93(0xa0a)]+_0x4abc93(0x8d0)+this[_0x4abc93(0x667)]+_0x4abc93(0x8d0)+this[_0x4abc93(0x2bb)];this['db']=new _0x348268(_0x47485f),this[_0x4abc93(0x44c)]();}[_0x2358f4(0x874)](){const _0x50559c=_0x2358f4;return this[_0x50559c(0x43f)];}[_0x2358f4(0x5ca)](_0x7b42b7){const _0xa4f761=_0x2358f4;this[_0xa4f761(0x43f)]=_0x7b42b7;}[_0x2358f4(0x816)](){const _0x49790a=_0x2358f4;clearTimeout(this[_0x49790a(0x247)]),delete this[_0x49790a(0x247)],super[_0x49790a(0x816)]();}[_0x2358f4(0x951)](){const _0x22e492=_0x2358f4;this[_0x22e492(0x80f)][_0x22e492(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x22e492(0x60f)],'content':{'type':_0x2d88a4[_0x22e492(0x70a)],'label':this['label']}});}[_0x2358f4(0x8d8)](){const _0x5d5c7b=_0x2358f4;return _0x4ab575[_0x5d5c7b(0x7fd)][_0x5d5c7b(0xa16)];}[_0x2358f4(0x7c3)](){this['sendStats']();}[_0x2358f4(0x8c8)](_0x5b13f3,_0x339524,_0xd1910d,_0x1e5908){const _0x2304a8=_0x2358f4;this['db'][_0x2304a8(0x8c8)](_0x5b13f3,_0x339524,_0xd1910d,_0x1e5908),this[_0x2304a8(0x612)]+=0x1,this[_0x2304a8(0x44c)]();}[_0x2358f4(0x8ec)](_0x47718b,_0x489155){const _0xd6db4c=_0x2358f4;this['db']['addEdge'](_0x47718b,_0x489155),this[_0xd6db4c(0x612)]+=0x1,this[_0xd6db4c(0x44c)]();}['getContent'](_0x546867,_0x3dabec,_0xddfe1d){const _0x137aa0=_0x2358f4,_0x78075a=this['db'][_0x137aa0(0x9a9)](_0x546867,_0x3dabec,_0xddfe1d);return this[_0x137aa0(0x672)]+=0x1,_0x561d9b[_0x137aa0(0x8a4)](_0x4ae419['GraphDatabase'],{'type':'get-content','label':this[_0x137aa0(0x2bb)],'nodeId':this[_0x137aa0(0x68a)][_0x137aa0(0x7b4)](),'nodeType':this[_0x137aa0(0x68a)][_0x137aa0(0x5ba)],'clusterId':this[_0x137aa0(0x667)],'size':0x0}),this['sendStats'](),_0x78075a;}[_0x2358f4(0xa17)](_0x5691f6){const _0x3be207=_0x2358f4;this['db'][_0x3be207(0xa17)](_0x5691f6),this['writes']+=0x1,this[_0x3be207(0x44c)]();}[_0x2358f4(0x287)](_0x348541){const _0x1c842f=_0x2358f4;this['db'][_0x1c842f(0x287)](_0x348541);}['loadFromDisk'](_0x2847ac){const _0x224099=_0x2358f4;this['db'][_0x224099(0x4ae)](_0x2847ac);}[_0x2358f4(0x44c)](){const _0x200ab7=_0x2358f4;this[_0x200ab7(0x247)]&&clearTimeout(this[_0x200ab7(0x247)]),this[_0x200ab7(0x247)]=setTimeout(async()=>{const _0x512067=_0x200ab7;delete this['debounceStats'];const _0x38133a=this['db'][_0x512067(0x377)]();this[_0x512067(0x80f)]['publish']({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x512067(0x60f)],'content':{'type':_0x2d88a4[_0x512067(0x1be)],'label':this[_0x512067(0x2bb)],'stats':{'timestamp':Date[_0x512067(0x58d)](),'storage':_0x38133a,'messagesSent':this[_0x512067(0x379)],'messagesReceived':this[_0x512067(0x4e7)],'bytesSent':this[_0x512067(0x5f3)],'bytesReceived':this[_0x512067(0x67e)],'writes':this['writes'],'reads':this[_0x512067(0x672)],'prompts':0x0,'tokens':0x0}}}),_0x561d9b[_0x512067(0x51b)](_0x4ae419[_0x512067(0xa16)],'ccc'+this[_0x512067(0x667)]+_0x512067(0x8d0)+this[_0x512067(0x2bb)],_0x38133a);},_0x9a9f66);}}class _0x5e3439 extends _0x43356e{['mediaStream'];constructor(_0x224141,_0x2a312b,_0x467983){const _0x1b7e69=_0x2358f4;super(_0x224141,_0x2a312b),this[_0x1b7e69(0x9d1)]=_0x467983;}[_0x2358f4(0x8d8)](){const _0x1fbff7=_0x2358f4;return _0x4ab575[_0x1fbff7(0x7fd)][_0x1fbff7(0x853)];}[_0x2358f4(0x8d5)](){const _0x41b502=_0x2358f4;return this[_0x41b502(0x9d1)];}[_0x2358f4(0x8dd)](){const _0x208a8b=_0x2358f4;return this[_0x208a8b(0x9d1)]['id'];}}class _0x4054da extends _0x5e3439{[_0x2358f4(0x27e)];['params'];[_0x2358f4(0x8e8)];[_0x2358f4(0x56d)]=_0x3fc98a();constructor(_0x2a6486,_0x25cdb6,_0x4a967d,_0x13f226,_0x165404){const _0xe67f36=_0x2358f4;super(_0x2a6486,_0x25cdb6,_0x4a967d),this[_0xe67f36(0x27e)]=_0x13f226,this[_0xe67f36(0x9cb)]=_0x165404;}[_0x2358f4(0x816)](){const _0x228e42=_0x2358f4;this[_0x228e42(0x295)](_0x228e42(0x392)),this[_0x228e42(0x295)]('video'),super[_0x228e42(0x816)]();}[_0x2358f4(0x859)](_0x12d2cd){const _0x5d5dfe=_0x2358f4;if(!this[_0x5d5dfe(0x8e8)])throw new _0x45bad0(_0x45bad0[_0x5d5dfe(0x297)][_0x5d5dfe(0x8a5)],{'label':this['label'],'ownerId':this[_0x5d5dfe(0x4a3)][_0x5d5dfe(0x7b4)](),'remoteId':this['remoteId']});this[_0x5d5dfe(0x8e8)][_0x5d5dfe(0x727)]({'sourceId':this[_0x5d5dfe(0x4a3)]['getId'](),'content':{'action':_0x311c2a['Add'],'track':_0x12d2cd,'stream':this[_0x5d5dfe(0x9d1)],'priority':_0x4ab575[_0x5d5dfe(0x2b8)][_0x5d5dfe(0x812)],'params':this['getInternalTrackParams'](_0x12d2cd[_0x5d5dfe(0xa7b)],this['params'])}});}[_0x2358f4(0x295)](_0x51e881){const _0xafc72a=_0x2358f4,_0xecce3e=this[_0xafc72a(0x4da)](_0x51e881);if(_0xecce3e){if(!this['topic'])return null;this['topic'][_0xafc72a(0x727)]({'sourceId':this[_0xafc72a(0x4a3)][_0xafc72a(0x7b4)](),'content':{'action':_0x311c2a['Remove'],'track':_0xecce3e,'stream':this[_0xafc72a(0x9d1)]}});}return _0xecce3e;}['setPriority'](_0x339dee){const _0x442756=_0x2358f4;if(!this[_0x442756(0x8e8)])throw new _0x45bad0(_0x45bad0[_0x442756(0x297)][_0x442756(0x8a5)],{'label':this[_0x442756(0x2bb)],'ownerId':this[_0x442756(0x4a3)][_0x442756(0x7b4)](),'remoteId':this[_0x442756(0x27e)]});this[_0x442756(0x8e8)][_0x442756(0x727)]({'sourceId':this[_0x442756(0x4a3)][_0x442756(0x7b4)](),'content':{'action':_0x311c2a[_0x442756(0x8df)],'priority':_0x339dee,'stream':this[_0x442756(0x9d1)]}});}[_0x2358f4(0x6f4)]({trackKinds:_0x38a024,params:_0x2451b5},_0xdd9426){const _0x668d80=_0x2358f4;if(!this[_0x668d80(0x8e8)])throw new _0x45bad0(_0x45bad0['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x668d80(0x2bb)],'ownerId':this[_0x668d80(0x4a3)][_0x668d80(0x7b4)](),'remoteId':this[_0x668d80(0x27e)]});for(const _0x4aef00 of this['mediaStream'][_0x668d80(0x552)]())_0x38a024['includes'](_0x4aef00['kind'])&&this[_0x668d80(0x8e8)][_0x668d80(0x727)]({'sourceId':this[_0x668d80(0x4a3)][_0x668d80(0x7b4)](),'content':{'action':_0x311c2a[_0x668d80(0x7d6)],'track':_0x4aef00,'stream':this[_0x668d80(0x9d1)],'priority':_0xdd9426,'params':this[_0x668d80(0x990)](_0x4aef00[_0x668d80(0xa7b)],_0x2451b5)}});}[_0x2358f4(0x86f)]({params:_0x1f8b3e}){const _0x133871=_0x2358f4;if(!this['topic'])throw new _0x45bad0(_0x45bad0[_0x133871(0x297)][_0x133871(0x8a5)],{'label':this[_0x133871(0x2bb)],'ownerId':this[_0x133871(0x4a3)][_0x133871(0x7b4)](),'remoteId':this['remoteId']});for(const _0x535df6 of this['mediaStream']['getTracks']())this[_0x133871(0x8e8)][_0x133871(0x727)]({'sourceId':this['owner'][_0x133871(0x7b4)](),'content':{'action':_0x311c2a[_0x133871(0x8df)],'stream':this['mediaStream'],'params':this[_0x133871(0x990)](_0x535df6[_0x133871(0xa7b)],_0x1f8b3e)}});}['unsubscribe']({trackKinds:_0x34e42b}){const _0x2e76eb=_0x2358f4;if(this[_0x2e76eb(0x8e8)]){for(const _0x339069 of this[_0x2e76eb(0x9d1)][_0x2e76eb(0x552)]())_0x34e42b[_0x2e76eb(0x877)](_0x339069['kind'])&&this['topic'][_0x2e76eb(0x727)]({'sourceId':this[_0x2e76eb(0x4a3)]['getId'](),'content':{'action':_0x311c2a[_0x2e76eb(0x3ad)],'stream':this[_0x2e76eb(0x9d1)],'track':_0x339069}});}}[_0x2358f4(0x3fe)](_0xb5df06){const _0x535c71=_0x2358f4;this[_0x535c71(0x8e8)]=_0xb5df06;}[_0x2358f4(0x8a8)](_0x250e01){const _0x21bfad=_0x2358f4;_0x250e01===this[_0x21bfad(0x8e8)]&&(delete this['topic'],this[_0x21bfad(0x56d)][_0x21bfad(0x727)]());}['onUnregisterPublisher'](_0x3c84e8){const _0x5179a4=_0x2358f4;return this[_0x5179a4(0x56d)][_0x5179a4(0x6f4)](_0x3c84e8);}[_0x2358f4(0x4da)](_0x4b010b){const _0x5c5825=_0x2358f4;return this[_0x5c5825(0x9d1)][_0x5c5825(0x552)]()['find'](_0x214b78=>_0x214b78[_0x5c5825(0xa7b)]===_0x4b010b)||null;}[_0x2358f4(0x990)](_0x692d4d,_0xc4fa35){const _0x2d5364=_0x2358f4;let _0x3d33dd;return _0x2d5364(0x809)===_0x692d4d&&_0xc4fa35?.[_0x2d5364(0x809)]&&_0x2d5364(0x882)!=typeof _0xc4fa35[_0x2d5364(0x809)]&&(_0x3d33dd={'kind':'video',..._0xc4fa35['video']},_0x3d33dd[_0x2d5364(0x70b)]=this['getResolution']()),_0x2d5364(0x392)===_0x692d4d&&_0xc4fa35?.[_0x2d5364(0x392)]&&_0x2d5364(0x882)!=typeof _0xc4fa35['audio']&&(_0x3d33dd={'kind':_0x2d5364(0x392),..._0xc4fa35[_0x2d5364(0x392)]}),_0x3d33dd;}[_0x2358f4(0x2ab)](){const _0x3ea10a=_0x2358f4;let _0x484c3a={'width':0x0,'height':0x0};const _0x317cdc=this['mediaStream']['getVideoTracks']();if(_0x317cdc['length']>0x0){const _0x3e3e9b=_0x317cdc[0x0][_0x3ea10a(0x233)]();_0x3e3e9b[_0x3ea10a(0x31c)]&&_0x3e3e9b[_0x3ea10a(0x532)]&&(_0x484c3a={'width':_0x3e3e9b[_0x3ea10a(0x31c)],'height':_0x3e3e9b[_0x3ea10a(0x532)]});}return _0x484c3a;}}class _0x50135d extends _0x5e3439{[_0x2358f4(0x667)];['priority']=_0x4ab575['MediaStreamPriority'][_0x2358f4(0x812)];[_0x2358f4(0x608)]=new Map();['outgoingStreams']=new Map();constructor(_0x3b2d95,_0x43f4b1,_0x1b3e74,_0x5abeae){const _0xf6cb6d=_0x2358f4;super(_0x3b2d95,_0x43f4b1,_0x1b3e74 instanceof MediaStream?_0x1b3e74:_0x1b3e74[_0xf6cb6d(0x49c)]?_0x1b3e74[_0xf6cb6d(0x49c)]:_0x1b3e74[_0xf6cb6d(0x98f)]()),this[_0xf6cb6d(0x667)]=_0x5abeae,this['mediaStream']['getTracks']()['forEach'](_0x18a7b4=>this[_0xf6cb6d(0x7e0)](_0x18a7b4)),_0x561d9b[_0xf6cb6d(0x8a4)](_0x4ae419[_0xf6cb6d(0x37a)],{'type':'publish','label':this[_0xf6cb6d(0x2bb)],'nodeId':this[_0xf6cb6d(0x4a3)][_0xf6cb6d(0x7b4)](),'nodeType':this[_0xf6cb6d(0x4a3)][_0xf6cb6d(0x5ba)],'clusterId':this[_0xf6cb6d(0x667)],'streamId':this[_0xf6cb6d(0x8dd)](),'trackKinds':this[_0xf6cb6d(0x9d1)]['getTracks']()[_0xf6cb6d(0x8d9)](_0x2571f1=>_0x2571f1['kind'])});}[_0x2358f4(0x816)](){const _0x47aaa8=_0x2358f4;this['outgoingStreams'][_0x47aaa8(0x9dc)]>0x0&&(this[_0x47aaa8(0x578)][_0x47aaa8(0x37b)](_0x52fbc5=>{const _0x4183bd=_0x47aaa8;_0x52fbc5[_0x4183bd(0xa7d)](),_0x52fbc5[_0x4183bd(0x816)]();}),this['outgoingStreams'][_0x47aaa8(0x375)]()),this[_0x47aaa8(0x608)][_0x47aaa8(0x37b)](_0x307a75=>_0x307a75()),super[_0x47aaa8(0x816)]();}[_0x2358f4(0x727)](_0x17f36f){const _0xc3f01c=_0x2358f4;this[_0xc3f01c(0x80f)][_0xc3f01c(0x727)]({'sourceId':this[_0xc3f01c(0x4a3)][_0xc3f01c(0x7b4)](),'destinationIds':_0x17f36f?[_0x17f36f]:void 0x0,'propagate':!0x0,'messageType':_0x479af2[_0xc3f01c(0x60f)],'content':{'type':_0x2d88a4[_0xc3f01c(0x333)],'ownerId':this[_0xc3f01c(0x4a3)][_0xc3f01c(0x7b4)](),'label':this[_0xc3f01c(0x2bb)],'stream':{'streamId':this[_0xc3f01c(0x8dd)](),'availableTrackKinds':this['mediaStream']['getTracks']()['map'](_0x3169e0=>_0x3169e0[_0xc3f01c(0xa7b)])}}});}[_0x2358f4(0x3e8)](){const _0xc3dc51=_0x2358f4;this[_0xc3dc51(0x80f)][_0xc3dc51(0x727)]({'sourceId':this[_0xc3dc51(0x4a3)][_0xc3dc51(0x7b4)](),'propagate':!0x0,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0xc3dc51(0x326)],'ownerId':this[_0xc3dc51(0x4a3)][_0xc3dc51(0x7b4)](),'label':this['label']}}),this[_0xc3dc51(0x80f)][_0xc3dc51(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0xc3dc51(0x60f)],'content':{'type':_0x2d88a4[_0xc3dc51(0x83a)],'label':this['label']}}),_0x561d9b['logServiceEvent'](_0x4ae419[_0xc3dc51(0x37a)],{'type':_0xc3dc51(0x3e8),'label':this[_0xc3dc51(0x2bb)],'nodeId':this[_0xc3dc51(0x4a3)][_0xc3dc51(0x7b4)](),'nodeType':this[_0xc3dc51(0x4a3)][_0xc3dc51(0x5ba)],'clusterId':this[_0xc3dc51(0x667)],'streamId':this[_0xc3dc51(0x8dd)]()});}['getPriority'](){const _0x120f39=_0x2358f4;return this[_0x120f39(0xa5d)];}[_0x2358f4(0x320)](_0x4b1447){const _0x2d1be7=_0x2358f4;this[_0x2d1be7(0xa5d)]=_0x4b1447,this[_0x2d1be7(0x578)][_0x2d1be7(0x37b)](_0x2d65d2=>_0x2d65d2[_0x2d1be7(0x320)](_0x4b1447));}[_0x2358f4(0x1f2)](_0x1e4813,_0xc0483e){const _0x478460=_0x2358f4;if(!this[_0x478460(0x578)][_0x478460(0x3d0)](_0x1e4813)){const _0x3d01e4=new _0x4054da(this[_0x478460(0x4a3)],this[_0x478460(0x2bb)],this[_0x478460(0x9d1)],_0x1e4813,_0xc0483e),_0x21e8b8=_0x3d01e4[_0x478460(0x4ac)](()=>{const _0x2cd0b5=_0x478460;_0x21e8b8(),this[_0x2cd0b5(0x578)][_0x2cd0b5(0x879)](_0x1e4813)?.[_0x2cd0b5(0x816)](),this['outgoingStreams'][_0x2cd0b5(0x6e6)](_0x1e4813);});this[_0x478460(0x578)]['set'](_0x1e4813,_0x3d01e4),_0x3d01e4[_0x478460(0x823)](this[_0x478460(0x80f)]);}return this['outgoingStreams']['get'](_0x1e4813);}[_0x2358f4(0x3fc)](){const _0x40f07d=_0x2358f4;return this[_0x40f07d(0x9d1)]['id'];}['handleLocalTrackFailure'](_0x211cbd){const _0x2db10a=_0x2358f4;this[_0x2db10a(0x80f)][_0x2db10a(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x2db10a(0x60f)],'content':{'type':_0x2d88a4[_0x2db10a(0x279)],'label':this[_0x2db10a(0x2bb)],'trackKinds':[_0x211cbd['kind']]}});}['setupTrackEndedListeners'](_0x58f74d){const _0x45f395=_0x2358f4,_0x1386de=()=>this['handleLocalTrackFailure'](_0x58f74d);_0x58f74d[_0x45f395(0x5b8)](_0x45f395(0x994),_0x1386de),_0x58f74d[_0x45f395(0x5b8)](_0x45f395(0x8be),_0x1386de),this[_0x45f395(0x608)]['set'](_0x58f74d[_0x45f395(0xa7b)],()=>{const _0x2ebe87=_0x45f395;_0x58f74d[_0x2ebe87(0x688)](_0x2ebe87(0x994),_0x1386de),_0x58f74d[_0x2ebe87(0x688)](_0x2ebe87(0x8be),_0x1386de),this[_0x2ebe87(0x608)][_0x2ebe87(0x6e6)](_0x58f74d[_0x2ebe87(0xa7b)]);});}}class _0x313fe0 extends _0x50135d{[_0x2358f4(0x830)];['transformations']=[];[_0x2358f4(0x5c6)];[_0x2358f4(0xa36)];['audioDestination'];['sourceVideo'];[_0x2358f4(0x9f2)];[_0x2358f4(0x7e5)];[_0x2358f4(0x405)];constructor(_0x4365bb,_0x3aa056,_0x474811,_0x3e8b6b,_0x3e4412,_0x509c27){const _0x9c1994=_0x2358f4;if(super(_0x4365bb,_0x3aa056,_0x474811,_0x509c27),this[_0x9c1994(0x830)]=_0x3e4412,this[_0x9c1994(0x5c6)]=this[_0x9c1994(0x9d1)],this[_0x9c1994(0x8cb)]=document['createElement']('video'),this[_0x9c1994(0x8cb)]['autoplay']=!0x0,this[_0x9c1994(0x8cb)][_0x9c1994(0x2c5)]=!0x0,this[_0x9c1994(0x8cb)][_0x9c1994(0x49c)]=this['clientStream'],this[_0x9c1994(0x8cb)][_0x9c1994(0xa72)](),this[_0x9c1994(0x8cb)][_0x9c1994(0x306)]=()=>{const _0x6e2173=_0x9c1994;this['sourceVideo'][_0x6e2173(0x50b)]();},this[_0x9c1994(0x9f2)]=document[_0x9c1994(0x270)]('canvas'),this[_0x9c1994(0x7e5)]=this[_0x9c1994(0x9f2)]['getContext']('2d'),this['mediaStream']=this[_0x9c1994(0x9f2)][_0x9c1994(0x98f)](_0x3e8b6b),this[_0x9c1994(0xa2d)]=this['audioContext'][_0x9c1994(0x839)](),this[_0x9c1994(0x5c6)][_0x9c1994(0x1f5)]()[_0x9c1994(0x87a)]>0x0){const _0xa5ff1=this[_0x9c1994(0x5c6)][_0x9c1994(0x1f5)]()[0x0];this[_0x9c1994(0xa36)]=this[_0x9c1994(0x830)][_0x9c1994(0xa82)](new MediaStream([_0xa5ff1])),this['audioSource'][_0x9c1994(0x40f)](this[_0x9c1994(0xa2d)]);}const _0x5e55b5=this['audioDestination'][_0x9c1994(0x92c)][_0x9c1994(0x552)]()[0x0];this['mediaStream']['addTrack'](_0x5e55b5),this[_0x9c1994(0x405)]=setInterval(()=>{const _0x270054=_0x9c1994;this[_0x270054(0x9f2)][_0x270054(0x31c)]=this[_0x270054(0x8cb)]['videoWidth'],this[_0x270054(0x9f2)][_0x270054(0x532)]=this['sourceVideo']['videoHeight'],this[_0x270054(0x8cb)][_0x270054(0x311)]?(0x0!==this['clientStream'][_0x270054(0x790)]()['length']&&this[_0x270054(0x5c6)][_0x270054(0x790)]()[0x0][_0x270054(0x3f9)]?this[_0x270054(0x9d1)][_0x270054(0x790)]()[0x0]['enabled']=!0x0:this[_0x270054(0x9d1)][_0x270054(0x790)]()[0x0]['enabled']=!0x1,0x0!==this[_0x270054(0x5c6)][_0x270054(0x1f5)]()[_0x270054(0x87a)]&&this['clientStream'][_0x270054(0x1f5)]()[0x0][_0x270054(0x3f9)]?this[_0x270054(0x9d1)][_0x270054(0x1f5)]()[0x0][_0x270054(0x3f9)]=!0x0:this[_0x270054(0x9d1)][_0x270054(0x1f5)]()[0x0]['enabled']=!0x1,this['context'][_0x270054(0x952)](this['sourceVideo'],0x0,0x0)):this[_0x270054(0x7e5)][_0x270054(0x593)](0x0,0x0,this[_0x270054(0x9f2)][_0x270054(0x31c)],this[_0x270054(0x9f2)][_0x270054(0x532)]);},0x3e8/_0x3e8b6b);}[_0x2358f4(0x816)](){const _0x42bed0=_0x2358f4;clearInterval(this[_0x42bed0(0x405)]),this[_0x42bed0(0x8cb)]['remove'](),this[_0x42bed0(0x9f2)][_0x42bed0(0xa17)](),this[_0x42bed0(0xa36)]?.[_0x42bed0(0x910)](),this[_0x42bed0(0xa2d)][_0x42bed0(0x910)](),this[_0x42bed0(0x9d1)]['getTracks']()[_0x42bed0(0x37b)](_0x48f21f=>{const _0x4d615a=_0x42bed0;_0x48f21f[_0x4d615a(0x4b0)](),this[_0x4d615a(0x9d1)][_0x4d615a(0x295)](_0x48f21f);}),super[_0x42bed0(0x816)]();}['addTrack'](_0x3eb895){const _0x22e973=_0x2358f4,_0x1adde4=this['getTrack'](_0x3eb895['kind']);_0x1adde4&&this[_0x22e973(0x295)](_0x1adde4),_0x22e973(0x392)!==_0x3eb895[_0x22e973(0xa7b)]?(_0x22e973(0x809)===_0x3eb895[_0x22e973(0xa7b)]&&this[_0x22e973(0x5a5)](_0x3eb895),this[_0x22e973(0x7e0)](_0x3eb895)):this[_0x22e973(0x4c0)](_0x3eb895);}[_0x2358f4(0x295)](_0x5d814d){const _0x5f1e89=_0x2358f4,_0x368525=this[_0x5f1e89(0x519)](_0x5d814d);return _0x368525&&(_0x5f1e89(0x392)===_0x368525[_0x5f1e89(0xa7b)]&&(this[_0x5f1e89(0xa36)]?.[_0x5f1e89(0x910)](),this[_0x5f1e89(0xa36)]=void 0x0),this[_0x5f1e89(0x608)][_0x5f1e89(0x879)](_0x368525[_0x5f1e89(0xa7b)])?.(),this[_0x5f1e89(0x5c6)][_0x5f1e89(0x295)](_0x368525)),_0x368525;}[_0x2358f4(0x35f)](_0x3931fb){const _0x1e1cd6=_0x2358f4;this[_0x1e1cd6(0x295)](_0x3931fb[_0x1e1cd6(0xa7b)]),this[_0x1e1cd6(0x859)](_0x3931fb);}[_0x2358f4(0xa75)](_0x1dfff0){const _0x1cd3ed=_0x2358f4;this[_0x1cd3ed(0x7b5)]=_0x1dfff0;}[_0x2358f4(0x4da)](_0x431517){const _0x226f71=_0x2358f4;return this[_0x226f71(0x5c6)]['getTracks']()['find'](_0x341bd4=>_0x341bd4[_0x226f71(0xa7b)]===_0x431517)||null;}[_0x2358f4(0x519)](_0x229af1){const _0x69e8ce=_0x2358f4;return _0x69e8ce(0x991)==typeof _0x229af1?this[_0x69e8ce(0x4da)](_0x229af1):_0x229af1;}[_0x2358f4(0x4c0)](_0x397c4b){const _0x505d93=_0x2358f4;_0x505d93(0x48e)===this[_0x505d93(0x830)][_0x505d93(0x49a)]&&this['audioContext']['resume'](),this[_0x505d93(0x5c6)][_0x505d93(0x859)](_0x397c4b),this['audioSource']=this['audioContext'][_0x505d93(0xa82)](this[_0x505d93(0x5c6)]),this['audioSource'][_0x505d93(0x40f)](this[_0x505d93(0xa2d)]);}[_0x2358f4(0x5a5)](_0xdd894){const _0x5ae660=_0x2358f4;this[_0x5ae660(0x5c6)][_0x5ae660(0x859)](_0xdd894),this[_0x5ae660(0x8cb)][_0x5ae660(0xa72)]();}}class _0xa25cb9 extends _0x50135d{}class _0xf3b7b2 extends _0xa6bf6b{['localNode'];[_0x2358f4(0x667)];['vendorId'];[_0x2358f4(0x638)];['waitForArrayBufferSize'];[_0x2358f4(0x264)];[_0x2358f4(0x6c5)];[_0x2358f4(0x639)]=new Map();['objectRequests']=new Map();[_0x2358f4(0x8ab)]=new Map();['pendingFilesTransactions']=new Map();[_0x2358f4(0x534)]=new Map();['fileSendingMap']=new Map();[_0x2358f4(0x5a8)];[_0x2358f4(0x266)]=_0x2365fd();[_0x2358f4(0x6e5)]=new Map();[_0x2358f4(0x247)];[_0x2358f4(0x612)]=0x0;[_0x2358f4(0x672)]=0x0;[_0x2358f4(0x6d6)]=!0x0;['isSyncing']=!0x0;[_0x2358f4(0x6fc)]=0x0;['nodesConnected']=0x0;constructor(_0x1bc81c,_0x485cc2,_0x38848e,_0x274ea7,_0x21349d,_0x194023,_0x1d8fbc){const _0x1456fa=_0x2358f4;if(_0x1456fa(0x991)!=typeof _0x485cc2)throw new _0x5af266(_0x3412d7[_0x1456fa(0x663)],_0x1456fa(0x517));super(_0x1bc81c,_0x485cc2),this[_0x1456fa(0x68a)]=_0x1bc81c,this[_0x1456fa(0x667)]=_0x38848e,this[_0x1456fa(0xa0a)]=_0x274ea7,this[_0x1456fa(0x638)]=_0x21349d,this['waitForArrayBufferSize']=_0x1d8fbc;const _0x3ec82a=_0x1456fa(0x8d0)+this[_0x1456fa(0xa0a)]+_0x1456fa(0x8d0)+this[_0x1456fa(0x667)]+_0x1456fa(0x8d0)+_0x485cc2;this[_0x1456fa(0x5a8)]=new _0x194023(_0x3ec82a),this[_0x1456fa(0x44c)]();}[_0x2358f4(0x7c3)](){this['sendStats']();}[_0x2358f4(0x8d8)](){const _0x1a0712=_0x2358f4;return _0x4ab575[_0x1a0712(0x7fd)][_0x1a0712(0x60b)];}async[_0x2358f4(0x491)](_0x59ce0a){const _0x43cbdf=_0x2358f4;void 0x0!==_0x59ce0a&&(this['syncContent']=_0x59ce0a),this[_0x43cbdf(0x72c)]=!0x0;try{const _0x3a3259=await this[_0x43cbdf(0x5a8)]['get'](_0x457b48),_0x1590b7=await _0x3a3259['text']();this[_0x43cbdf(0x6c5)]=_0x1590b7;}catch(_0x59f182){}this[_0x43cbdf(0x264)]=this[_0x43cbdf(0x9d5)](async(_0x4fe431,_0x45910e)=>{const _0xeacfc9=_0x43cbdf;if(!(_0x45910e instanceof File))try{if(_0x45910e[_0xeacfc9(0x2a6)]===_0x2a0c9e[_0xeacfc9(0x701)])return void this[_0xeacfc9(0x3b9)](_0x45910e);this[_0xeacfc9(0x3dd)](_0x45910e);}catch(_0xedd9d7){if(_0xedd9d7 instanceof _0x45bad0)throw _0xedd9d7;throw new _0x45bad0(_0x45bad0[_0xeacfc9(0x297)][_0xeacfc9(0x719)],{'payload':_0x45910e});}}),await this[_0x43cbdf(0x28f)](),this[_0x43cbdf(0x6d6)]?await this[_0x43cbdf(0x5c4)]():this['completeSync'](),this[_0x43cbdf(0x44c)]();}[_0x2358f4(0x816)](){const _0x33c424=_0x2358f4;this[_0x33c424(0x264)]?.(),this[_0x33c424(0x6e5)][_0x33c424(0x37b)](_0x51b9a5=>_0x51b9a5()),clearTimeout(this[_0x33c424(0x247)]),delete this['debounceStats'],super[_0x33c424(0x816)]();}[_0x2358f4(0x951)](){const _0x495998=_0x2358f4;this['systemTopic']?.[_0x495998(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x495998(0x60f)],'content':{'type':_0x2d88a4['CloseObjectStoreBucket'],'label':this[_0x495998(0x2bb)]}});}[_0x2358f4(0x6f4)](_0x513643,_0x2b9960){const _0x2ee8e1=_0x2358f4;if(this[_0x2ee8e1(0x6e5)][_0x2ee8e1(0x3d0)](_0x513643))throw new _0x5af266(_0x3412d7[_0x2ee8e1(0x22a)],_0x2ee8e1(0x513));this['listenerUnsubscribers'][_0x2ee8e1(0x851)](_0x513643,this[_0x2ee8e1(0x266)]['subscribe'](_0x2b9960)),this[_0x2ee8e1(0x72c)]||this[_0x2ee8e1(0x266)][_0x2ee8e1(0x727)]({'event':_0x4ab575['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x2ee8e1(0x6fc)]}});}[_0x2358f4(0x353)](_0x5d236d){const _0x33dbf1=_0x2358f4;this['listenerUnsubscribers'][_0x33dbf1(0x879)](_0x5d236d)?.(),this[_0x33dbf1(0x6e5)][_0x33dbf1(0x6e6)](_0x5d236d);}[_0x2358f4(0x727)](_0x130954){const _0x6c42fe=_0x2358f4;switch(_0x130954['action']){case _0x4ab575[_0x6c42fe(0x9c7)][_0x6c42fe(0x5c9)]:return this[_0x6c42fe(0x8c7)](_0x130954[_0x6c42fe(0x4db)],_0x130954[_0x6c42fe(0x55c)],_0x130954[_0x6c42fe(0x56f)]);case _0x4ab575[_0x6c42fe(0x9c7)][_0x6c42fe(0x746)]:return this['publishFolder'](_0x130954[_0x6c42fe(0x55c)]);case _0x4ab575[_0x6c42fe(0x9c7)][_0x6c42fe(0x9b6)]:return this[_0x6c42fe(0x48f)](_0x130954['path'],_0x130954['newPath']);default:throw new _0x5af266(_0x3412d7['ObjectStoreInvalidPayload'],_0x6c42fe(0x2b3)+_0x130954);}}async[_0x2358f4(0x3e8)](_0x56be84){const _0x3d8681=_0x2358f4;try{const _0x7bf4d6=(0x0,_0x42da8f['v4'])(),_0x1ed063=this[_0x3d8681(0x6c5)],_0x4d44d0={'payloadType':_0x2a0c9e[_0x3d8681(0x7bd)],'action':_0x2d7604[_0x3d8681(0x824)],'id':_0x7bf4d6,'parentId':_0x1ed063,'path':_0x56be84};await this[_0x3d8681(0x520)](_0x4d44d0);const _0x1ff696=await this[_0x3d8681(0x5c3)](_0x56be84);await this['send'](_0x4d44d0),_0x561d9b[_0x3d8681(0x8a4)](_0x4ae419[_0x3d8681(0x42a)],{'type':_0x3d8681(0x3e8),'label':this[_0x3d8681(0x2bb)],'nodeId':this[_0x3d8681(0x68a)][_0x3d8681(0x7b4)](),'nodeType':this[_0x3d8681(0x68a)]['type'],'clusterId':this[_0x3d8681(0x667)],'kind':_0x1ff696,'path':_0x56be84}),this[_0x3d8681(0x612)]+=0x1,this['sendStats']();}catch(_0x200134){if(_0x200134 instanceof _0x45bad0)throw new _0x5af266(_0x3412d7['ObjectStoreNotInSync'],_0x3d8681(0xa8b)+_0x56be84+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x5af266(_0x3412d7[_0x3d8681(0x97c)],_0x3d8681(0x3b1)+_0x56be84);}}async[_0x2358f4(0x879)](_0x2f9a1c,_0x1a940d){const _0x2ffeda=_0x2358f4;_0x561d9b[_0x2ffeda(0x8a4)](_0x4ae419[_0x2ffeda(0x42a)],{'type':_0x2ffeda(0x879),'label':this['label'],'nodeId':this[_0x2ffeda(0x68a)][_0x2ffeda(0x7b4)](),'nodeType':this[_0x2ffeda(0x68a)][_0x2ffeda(0x5ba)],'clusterId':this[_0x2ffeda(0x667)],'path':_0x2f9a1c}),this['reads']+=0x1,this[_0x2ffeda(0x44c)]();try{return await this[_0x2ffeda(0x5a8)][_0x2ffeda(0x879)](_0x2f9a1c,_0x1a940d);}catch(_0x114809){try{await this[_0x2ffeda(0x5a8)]['get'](_0x2f9a1c+_0x22914a);}catch(_0x10c65a){throw new _0x5af266(_0x3412d7[_0x2ffeda(0x97c)],_0x2ffeda(0x258)+_0x2f9a1c);}throw new _0x5af266(_0x3412d7[_0x2ffeda(0xa45)],_0x2ffeda(0x36b));}}async[_0x2358f4(0x1d7)](_0x1db38c,_0x373909){const _0x386562=_0x2358f4,{recursive:_0x5d1a4c=!0x1,includeSyncingFiles:_0x300239=!0x1}=_0x373909??{};_0x561d9b[_0x386562(0x8a4)](_0x4ae419[_0x386562(0x42a)],{'type':_0x386562(0x1d7),'label':this[_0x386562(0x2bb)],'nodeId':this['localNode'][_0x386562(0x7b4)](),'nodeType':this[_0x386562(0x68a)][_0x386562(0x5ba)],'clusterId':this['clusterId'],'path':_0x1db38c}),this[_0x386562(0x672)]+=0x1,this[_0x386562(0x44c)]();try{const _0x49de4e=await this['objectStoreConnector'][_0x386562(0x1d7)](_0x1db38c,_0x5d1a4c);return this[_0x386562(0x33b)](_0x49de4e,{'recursive':_0x5d1a4c,'includeSyncingFiles':_0x300239});}catch(_0x497974){throw new _0x5af266(_0x3412d7[_0x386562(0x97c)],_0x386562(0x8c0)+_0x1db38c);}}[_0x2358f4(0x2d7)](_0x928cc0){const _0x413f6d=_0x2358f4;this[_0x413f6d(0x242)]+=0x1;for(const _0x40e730 of this[_0x413f6d(0x61e)]['values']())this[_0x413f6d(0x9cd)](_0x40e730,[_0x928cc0]);}[_0x2358f4(0x4f2)](_0x1a4398){const _0x26ef85=_0x2358f4;this['nodesConnected']-=0x1;const _0x4a593b=this[_0x26ef85(0x8ab)][_0x26ef85(0x879)](_0x1a4398);if(_0x4a593b){for(const [_0x32babf,_0x2a135e]of _0x4a593b[_0x26ef85(0x55b)]())this[_0x26ef85(0x573)](_0x32babf,_0x2a135e);this[_0x26ef85(0x8ab)]['delete'](_0x1a4398);}}async[_0x2358f4(0x377)](_0x4927b3='/'){const _0x41efd0=_0x2358f4;try{return await this[_0x41efd0(0x5a8)][_0x41efd0(0x417)](_0x4927b3);}catch(_0xdc4faa){if(_0xdc4faa instanceof Error&&_0xdc4faa['message'][_0x41efd0(0x877)](_0x41efd0(0x4bf)))return 0x0;throw new _0x5af266(_0x3412d7[_0x41efd0(0x97c)],_0x41efd0(0xa3a)+_0x4927b3);}}[_0x2358f4(0x32d)](){const _0x114fd6=_0x2358f4;this[_0x114fd6(0x72c)]&&(this[_0x114fd6(0x72c)]=!0x1,this[_0x114fd6(0x266)]['publish']({'event':_0x4ab575[_0x114fd6(0x85e)][_0x114fd6(0x8c2)],'payload':{'filesSynced':this[_0x114fd6(0x6fc)]}}));}async[_0x2358f4(0x33b)](_0x57b978,{includeSyncingFiles:_0x1d0103=!0x1}){const _0x5c8fa5=_0x2358f4,_0xd5addf=[];for(const _0x5e39c2 of _0x57b978)if(_0x5e39c2[_0x5c8fa5(0xa7b)]!==_0x4ab575[_0x5c8fa5(0x945)]['Folder']){if(_0x5e39c2[_0x5c8fa5(0x683)]!==_0x457b48){if(_0x5e39c2[_0x5c8fa5(0x683)]['endsWith'](_0x22914a)){if(!_0x1d0103)continue;const _0x811238=_0x5e39c2;if(_0x811238[_0x5c8fa5(0x683)]=_0x811238[_0x5c8fa5(0x683)][_0x5c8fa5(0x4b5)](_0x22914a,''),_0x811238[_0x5c8fa5(0x313)]=_0x811238[_0x5c8fa5(0x313)][_0x5c8fa5(0x4b5)](_0x22914a,''),await this['syncedFileExists'](_0x811238['pathName'])){_0x57b978['find'](_0x6d8806=>_0x6d8806[_0x5c8fa5(0x313)]===_0x811238[_0x5c8fa5(0x313)])['status']=_0x4ab575[_0x5c8fa5(0x7f0)][_0x5c8fa5(0x8ee)];continue;}_0x811238[_0x5c8fa5(0x978)]=_0x4ab575[_0x5c8fa5(0x7f0)][_0x5c8fa5(0x32a)];}_0xd5addf['push'](_0x5e39c2);}}else _0x5e39c2[_0x5c8fa5(0x1c6)]=await this[_0x5c8fa5(0x33b)](_0x5e39c2[_0x5c8fa5(0x1c6)]??[],{'includeSyncingFiles':_0x1d0103}),_0xd5addf[_0x5c8fa5(0x397)](_0x5e39c2);return _0xd5addf;}async[_0x2358f4(0x8c7)](_0x5be3c7,_0xf3ecab,_0x34425f){const _0x35dbaa=_0x2358f4;try{const _0xf98edf=(0x0,_0x42da8f['v4'])(),_0x6e1277=await _0x424842(_0x5be3c7),_0x1d0f97=_0x184125(_0xf3ecab??'/',_0x5be3c7[_0x35dbaa(0x683)]);let _0x8fb709=!0x0;const _0x401962={'payloadType':_0x2a0c9e[_0x35dbaa(0x7bd)],'action':_0x2d7604[_0x35dbaa(0x88d)],'id':_0xf98edf,'parentId':this['lastTransactionId'],'answererId':this['localNode'][_0x35dbaa(0x7b4)](),'name':_0x5be3c7[_0x35dbaa(0x683)],'type':_0x5be3c7['type'],'path':_0xf3ecab??'/','skipEncryption':_0x34425f?.[_0x35dbaa(0x254)]??!0x1,'checksum':_0x6e1277};try{const _0x363350=_0x1d0f97+_0x22914a;await this[_0x35dbaa(0x5a8)]['get'](_0x363350),_0x8fb709=!0x1,await this[_0x35dbaa(0x5a8)][_0x35dbaa(0x5c3)](_0x363350),this['objectRequests'][_0x35dbaa(0x6e6)](_0x1d0f97);}catch(_0x28d3f5){await this[_0x35dbaa(0x520)](_0x401962);}if(this[_0x35dbaa(0x6d6)]?await this[_0x35dbaa(0x47c)](_0x5be3c7,_0xf3ecab,_0x34425f):await this[_0x35dbaa(0x84a)](_0x5be3c7[_0x35dbaa(0x683)],_0xf3ecab??'/',{'checksum':_0x6e1277,'skipEncryption':_0x34425f?.[_0x35dbaa(0x254)]??!0x1}),this[_0x35dbaa(0x83c)][_0x35dbaa(0x3d0)](_0x1d0f97)){const [_0x3d37d6,_0x27a819]=this[_0x35dbaa(0x83c)][_0x35dbaa(0x879)](_0x1d0f97);this['fileSendingMap']['set'](_0x1d0f97,[!0x0,_0x27a819]);try{await _0x27a819;}catch(_0x1e5bd6){}this['fileSendingMap'][_0x35dbaa(0x6e6)](_0x1d0f97);}_0x8fb709&&this['nodesConnected']>0x0&&await this[_0x35dbaa(0x750)](_0x5be3c7,_0x401962),_0x561d9b['logServiceEvent'](_0x4ae419['ObjectStorage'],{'type':_0x35dbaa(0x727),'label':this['label'],'nodeId':this['localNode'][_0x35dbaa(0x7b4)](),'nodeType':this[_0x35dbaa(0x68a)][_0x35dbaa(0x5ba)],'clusterId':this[_0x35dbaa(0x667)],'kind':_0x4ab575[_0x35dbaa(0x945)]['File'],'path':_0xf3ecab,'fileName':_0x5be3c7[_0x35dbaa(0x683)],'fileType':_0x5be3c7['type'],'size':_0x5be3c7[_0x35dbaa(0x9dc)]}),this[_0x35dbaa(0x612)]+=0x1,this[_0x35dbaa(0x44c)]();}catch(_0x4a03c7){if(_0x4a03c7 instanceof _0x45bad0)throw new _0x5af266(_0x3412d7[_0x35dbaa(0xa45)],_0x35dbaa(0x36b));throw new _0x5af266(_0x3412d7[_0x35dbaa(0x97c)],_0x35dbaa(0x418)+_0xf3ecab+(_0xf3ecab?.['endsWith']('/')?'':'/')+_0x5be3c7[_0x35dbaa(0x683)]);}}async['publishFolder'](_0x1a5495){const _0x645f2a=_0x2358f4;try{const _0x6793ae=(0x0,_0x42da8f['v4'])(),_0x5a796a=this['lastTransactionId'],_0x2b4ed3={'payloadType':_0x2a0c9e[_0x645f2a(0x7bd)],'action':_0x2d7604[_0x645f2a(0x25a)],'id':_0x6793ae,'parentId':_0x5a796a,'path':_0x1a5495};await this[_0x645f2a(0x520)](_0x2b4ed3),await this[_0x645f2a(0x5a8)][_0x645f2a(0xa70)](_0x1a5495),await this[_0x645f2a(0x9cd)](_0x2b4ed3),_0x561d9b[_0x645f2a(0x8a4)](_0x4ae419[_0x645f2a(0x42a)],{'type':_0x645f2a(0x727),'label':this[_0x645f2a(0x2bb)],'nodeId':this[_0x645f2a(0x68a)][_0x645f2a(0x7b4)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x645f2a(0x667)],'kind':_0x4ab575[_0x645f2a(0x945)][_0x645f2a(0x746)],'path':_0x1a5495}),this[_0x645f2a(0x612)]+=0x1,this[_0x645f2a(0x44c)]();}catch(_0xeb538a){if(_0xeb538a instanceof _0x45bad0)throw new _0x5af266(_0x3412d7[_0x645f2a(0xa45)],_0x645f2a(0x36b));throw new _0x5af266(_0x3412d7[_0x645f2a(0x97c)],_0x645f2a(0x2de)+_0x1a5495);}}async[_0x2358f4(0x48f)](_0xb15c37,_0x1378b0){const _0x54615b=_0x2358f4;try{const _0x319099=(0x0,_0x42da8f['v4'])(),_0x12d4aa=this['lastTransactionId'],_0x15b60b={'payloadType':_0x2a0c9e[_0x54615b(0x7bd)],'action':_0x2d7604['Move'],'id':_0x319099,'parentId':_0x12d4aa,'path':_0xb15c37,'newPath':_0x1378b0};await this['publishTransaction'](_0x15b60b);const _0x42d448=await this[_0x54615b(0x6a0)](_0xb15c37,_0x1378b0);await this[_0x54615b(0x9cd)](_0x15b60b),_0x561d9b[_0x54615b(0x8a4)](_0x4ae419[_0x54615b(0x42a)],{'type':_0x54615b(0x820),'label':this[_0x54615b(0x2bb)],'nodeId':this[_0x54615b(0x68a)][_0x54615b(0x7b4)](),'nodeType':this[_0x54615b(0x68a)]['type'],'clusterId':this[_0x54615b(0x667)],'kind':_0x42d448,'path':_0xb15c37,'newPath':_0x1378b0}),this[_0x54615b(0x612)]+=0x1,this[_0x54615b(0x44c)]();}catch(_0xcadd55){if(_0xcadd55 instanceof _0x45bad0)throw new _0x5af266(_0x3412d7[_0x54615b(0xa45)],_0x54615b(0x36b));throw new _0x5af266(_0x3412d7[_0x54615b(0x97c)],'Cannot\x20publish\x20move\x20operation:\x20'+_0xb15c37);}}async[_0x2358f4(0x3dd)](_0xe55c04,_0x3e09ad=!0x1){const _0x305be6=_0x2358f4;if(this[_0x305be6(0x6c5)]&&_0xe55c04[_0x305be6(0x48b)]!==this[_0x305be6(0x6c5)]&&_0xe55c04['id']!==this['lastTransactionId']){if(!_0xe55c04[_0x305be6(0x48b)])throw new _0x45bad0(_0x45bad0[_0x305be6(0x297)][_0x305be6(0x719)]);this[_0x305be6(0x639)][_0x305be6(0x851)](_0xe55c04[_0x305be6(0x48b)],_0xe55c04);}else{try{await this[_0x305be6(0x79e)](_0xe55c04,_0x3e09ad);}catch(_0x433536){}await this[_0x305be6(0x55a)](_0xe55c04['id']),await this[_0x305be6(0x860)](_0xe55c04['id'],_0x3e09ad);}}async[_0x2358f4(0x79e)](_0x4798bf,_0x26985f=!0x1){const _0x507451=_0x2358f4;switch(_0x4798bf[_0x507451(0x553)]){case _0x2d7604[_0x507451(0x88d)]:await this['handleFileWrite'](_0x4798bf);break;case _0x2d7604['FolderCreate']:await this[_0x507451(0xa34)](_0x4798bf);break;case _0x2d7604[_0x507451(0x9b6)]:await this[_0x507451(0xa24)](_0x4798bf,_0x26985f);break;case _0x2d7604[_0x507451(0x824)]:await this['handleObjectDelete'](_0x4798bf,_0x26985f);break;default:throw new _0x45bad0(_0x45bad0[_0x507451(0x297)][_0x507451(0x719)],{'payload':_0x4798bf});}}async['processPendingSyncTransactions'](_0x1d8314,_0x12cb0e=!0x1){const _0x19188a=_0x2358f4;if(this[_0x19188a(0x639)]['has'](_0x1d8314)){const _0x3eb8ee=this[_0x19188a(0x639)][_0x19188a(0x879)](_0x1d8314);this[_0x19188a(0x639)][_0x19188a(0x6e6)](_0x1d8314),await this[_0x19188a(0x3dd)](_0x3eb8ee,_0x12cb0e);}}async[_0x2358f4(0x3b9)](_0x5df34b){const _0x104d08=_0x2358f4;switch(_0x5df34b[_0x104d08(0x553)]){case _0x2d7604[_0x104d08(0x4f5)]:return this[_0x104d08(0x67c)](_0x5df34b);case _0x2d7604[_0x104d08(0x723)]:return this[_0x104d08(0x6a8)](_0x5df34b);case _0x2d7604[_0x104d08(0xa0e)]:return this[_0x104d08(0x427)](_0x5df34b);case _0x2d7604[_0x104d08(0x948)]:return this[_0x104d08(0x5a0)](_0x5df34b);default:throw new _0x45bad0(_0x45bad0['codes'][_0x104d08(0x719)],{'payload':_0x5df34b});}}async[_0x2358f4(0x5a0)](_0x9a01df,_0x26100c=0x0){const _0x3a7fbd=_0x2358f4,_0x3eef81=_0x184125(_0x9a01df[_0x3a7fbd(0x55c)],_0x9a01df['name']);if(!_0x9a01df[_0x3a7fbd(0x562)]||void 0x0===_0x9a01df[_0x3a7fbd(0x55d)]||!_0x9a01df[_0x3a7fbd(0x9bf)])return this[_0x3a7fbd(0x518)][_0x3a7fbd(0x6e6)](_0x3eef81),void await this[_0x3a7fbd(0x84a)](_0x9a01df[_0x3a7fbd(0x683)],_0x9a01df[_0x3a7fbd(0x55c)],{'checksum':_0x9a01df[_0x3a7fbd(0xa19)],'skipEncryption':_0x9a01df[_0x3a7fbd(0x254)]});if(this[_0x3a7fbd(0x518)]['has'](_0x3eef81)){const _0x24e001=this['fileChunks'][_0x3a7fbd(0x879)](_0x3eef81);_0x24e001[_0x3a7fbd(0xa19)]!==_0x9a01df[_0x3a7fbd(0xa19)]&&(_0x24e001['stream']?.[_0x3a7fbd(0x951)](),this[_0x3a7fbd(0x518)][_0x3a7fbd(0x6e6)](_0x3eef81));}if(!this[_0x3a7fbd(0x518)][_0x3a7fbd(0x3d0)](_0x3eef81)){try{await this[_0x3a7fbd(0x5a8)][_0x3a7fbd(0x5c3)](_0x3eef81);}catch(_0xe27d8c){}try{const _0x329dcc=this['syncContent']?await this[_0x3a7fbd(0x5a8)]['createWritableStream'](_0x3eef81,{'skipEncryption':_0x9a01df[_0x3a7fbd(0x254)]}):void 0x0,_0x56269b={'chunksReceived':_0x9a01df[_0x3a7fbd(0x28e)]??0x0,'bytesReceived':0x0,'stream':_0x329dcc,'checksum':_0x9a01df[_0x3a7fbd(0xa19)]};this[_0x3a7fbd(0x518)][_0x3a7fbd(0x851)](_0x3eef81,_0x56269b),await this[_0x3a7fbd(0x84a)](_0x9a01df[_0x3a7fbd(0x683)],_0x9a01df['path'],{'checksum':_0x9a01df[_0x3a7fbd(0xa19)],'skipEncryption':_0x9a01df[_0x3a7fbd(0x254)]});}catch(_0x292f5f){}}const _0x4f6adc=this['fileChunks'][_0x3a7fbd(0x879)](_0x3eef81);if(_0x9a01df[_0x3a7fbd(0xa19)]!==_0x4f6adc[_0x3a7fbd(0xa19)])return;if(this[_0x3a7fbd(0x91d)](_0x9a01df,_0x3eef81),this[_0x3a7fbd(0x6d6)]){if(!_0x4f6adc[_0x3a7fbd(0x92c)])throw new _0x45bad0(_0x45bad0['codes'][_0x3a7fbd(0x719)],{'message':_0x3a7fbd(0x6a7)});let _0x3ba983=_0x4f6adc[_0x3a7fbd(0xa52)];if(_0x9a01df[_0x3a7fbd(0x55d)]!==_0x3ba983){if(_0x3ba983>_0x9a01df['index'])return;const _0x143471=2064.1259842519685;if(_0x9a01df[_0x3a7fbd(0x55d)]>_0x3ba983+_0x143471)return;if(_0x4f6adc[_0x3a7fbd(0x838)]||(_0x4f6adc[_0x3a7fbd(0x838)]=[]),_0x4f6adc[_0x3a7fbd(0x838)][_0x3a7fbd(0x87a)]>8256.503937007874)throw this[_0x3a7fbd(0x518)][_0x3a7fbd(0x6e6)](_0x3eef81),new _0x45bad0(_0x45bad0['codes'][_0x3a7fbd(0x719)],{'message':_0x3a7fbd(0x2c0)});return void _0x4f6adc[_0x3a7fbd(0x838)][_0x3a7fbd(0x397)](_0x9a01df);}try{_0x4f6adc['chunksReceived']+=0x1,_0x4f6adc['bytesReceived']+=_0x9a01df[_0x3a7fbd(0x562)][_0x3a7fbd(0x2a3)],await _0x4f6adc[_0x3a7fbd(0x92c)]['write'](_0x9a01df[_0x3a7fbd(0x562)]);}catch(_0x4c9ad0){if(console[_0x3a7fbd(0x7b7)](_0x3a7fbd(0x26f),_0x4c9ad0),_0x26100c>0x3)throw this['fileChunks']['delete'](_0x3eef81),console[_0x3a7fbd(0x7b7)](_0x3a7fbd(0x83f),_0x4c9ad0),new _0x45bad0(_0x45bad0['codes'][_0x3a7fbd(0x719)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x3a7fbd(0x5a0)](_0x9a01df,_0x26100c+0x1);}}try{await this[_0x3a7fbd(0x891)](_0x4f6adc,_0x9a01df[_0x3a7fbd(0x55d)]+0x1);}catch(_0x34f051){throw this[_0x3a7fbd(0x518)][_0x3a7fbd(0x6e6)](_0x3eef81),_0x34f051;}if(this[_0x3a7fbd(0x518)][_0x3a7fbd(0x851)](_0x3eef81,_0x4f6adc),_0x4f6adc[_0x3a7fbd(0xa52)]<_0x9a01df[_0x3a7fbd(0x9bf)])return;await this[_0x3a7fbd(0x481)](_0x3eef81),this[_0x3a7fbd(0x6d6)]&&(await this[_0x3a7fbd(0x37c)](_0x9a01df),_0x561d9b[_0x3a7fbd(0x8a4)](_0x4ae419[_0x3a7fbd(0x42a)],{'type':_0x3a7fbd(0x491),'label':this[_0x3a7fbd(0x2bb)],'nodeId':this[_0x3a7fbd(0x68a)][_0x3a7fbd(0x7b4)](),'nodeType':this[_0x3a7fbd(0x68a)][_0x3a7fbd(0x5ba)],'clusterId':this[_0x3a7fbd(0x667)],'kind':_0x4ab575[_0x3a7fbd(0x945)][_0x3a7fbd(0x5c9)],'path':_0x9a01df[_0x3a7fbd(0x55c)],'fileName':_0x9a01df[_0x3a7fbd(0x683)],'fileType':_0x9a01df[_0x3a7fbd(0x5ba)],'size':_0x4f6adc[_0x3a7fbd(0x67e)]}));const _0x21b817=this['pendingFilesTransactions'][_0x3a7fbd(0x879)](_0x9a01df[_0x3a7fbd(0x55c)])??[];for(const _0x2a1c65 of _0x21b817)await this['processTransactionPayload'](_0x2a1c65);this[_0x3a7fbd(0x720)][_0x3a7fbd(0x6e6)](_0x9a01df['path']),this['eventListener'][_0x3a7fbd(0x727)]({'event':_0x4ab575[_0x3a7fbd(0x85e)][_0x3a7fbd(0x88d)],'payload':{'file':{'kind':_0x4ab575[_0x3a7fbd(0x945)]['File'],'path':_0x9a01df[_0x3a7fbd(0x55c)],'type':_0x9a01df['type'],'size':_0x4f6adc[_0x3a7fbd(0x67e)],'name':_0x9a01df[_0x3a7fbd(0x683)],'pathName':_0x3eef81,'status':this[_0x3a7fbd(0x6d6)]?_0x4ab575[_0x3a7fbd(0x7f0)]['Synced']:_0x4ab575[_0x3a7fbd(0x7f0)]['Pending']}}}),this['sendStats']();}async['manageBufferedChunks'](_0x70db80,_0xdadb0d){const _0x7884d7=_0x2358f4,_0x1a7d00=_0x70db80[_0x7884d7(0x92c)];let _0x31e1aa=0x0;for(;_0x70db80[_0x7884d7(0x838)]&&_0x70db80['bufferedChunks']['length']>0x0;){const _0x1feba7=_0x70db80['bufferedChunks'][_0x7884d7(0x7c6)](_0x3ce678=>_0x3ce678[_0x7884d7(0x55d)]===_0xdadb0d+0x1);if(!_0x1feba7)break;_0x70db80[_0x7884d7(0x838)]=_0x70db80[_0x7884d7(0x838)][_0x7884d7(0x829)](_0x306368=>_0x306368[_0x7884d7(0x55d)]!==_0xdadb0d+0x1);try{await _0x1a7d00['write'](_0x1feba7[_0x7884d7(0x562)]),_0xdadb0d++;}catch(_0x7faee7){if(console[_0x7884d7(0x7b7)]('Error\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x7faee7),_0x31e1aa>0x3)throw console[_0x7884d7(0x7b7)](_0x7884d7(0x3ab),_0x7faee7),new _0x45bad0(_0x45bad0['codes']['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x31e1aa++;continue;}_0x70db80[_0x7884d7(0xa52)]+=0x1,_0x70db80[_0x7884d7(0x67e)]+=_0x1feba7[_0x7884d7(0x562)][_0x7884d7(0x2a3)];}}async['handleFolderCreate'](_0x126384){const _0x51bfa2=_0x2358f4;await this['objectStoreConnector'][_0x51bfa2(0xa70)](_0x126384[_0x51bfa2(0x55c)]);const [_0x5e4835,_0x3a40e2]=_0x56a4f3(_0x126384[_0x51bfa2(0x55c)]);this[_0x51bfa2(0x266)][_0x51bfa2(0x727)]({'event':_0x4ab575[_0x51bfa2(0x85e)][_0x51bfa2(0x25a)],'payload':{'folder':{'kind':_0x4ab575[_0x51bfa2(0x945)][_0x51bfa2(0x746)],'name':_0x3a40e2,'path':_0x5e4835,'pathName':_0x126384['path']}}});}async[_0x2358f4(0x74f)](_0x2dfc20,_0x553c0a=!0x1){const _0x360e98=_0x2358f4;if(!_0x553c0a&&!this['shouldProcessTransaction'](_0x2dfc20))return;const _0x21b1ad=await this[_0x360e98(0x5c3)](_0x2dfc20[_0x360e98(0x55c)]),[_0x4c09ba,_0x1cbb65]=_0x56a4f3(_0x2dfc20[_0x360e98(0x55c)]);this[_0x360e98(0x266)][_0x360e98(0x727)]({'event':_0x21b1ad===_0x4ab575[_0x360e98(0x945)]['Folder']?_0x4ab575[_0x360e98(0x85e)]['FolderDelete']:_0x4ab575['StorageEventType']['FileDelete'],'payload':{'name':_0x1cbb65,'path':_0x4c09ba,'pathName':_0x2dfc20[_0x360e98(0x55c)]}}),this[_0x360e98(0x44c)]();}async['handleObjectMove'](_0x37d5e4,_0x57f210=!0x1){const _0x1fe540=_0x2358f4;if(!_0x57f210&&!this['shouldProcessTransaction'](_0x37d5e4))return this[_0x1fe540(0x534)]['set'](_0x37d5e4['newPath'],this['pendingFilesRename'][_0x1fe540(0x879)](_0x37d5e4['path'])??_0x37d5e4['path']),void this[_0x1fe540(0x534)][_0x1fe540(0x6e6)](_0x37d5e4['path']);this[_0x1fe540(0x534)][_0x1fe540(0x6e6)](_0x37d5e4[_0x1fe540(0x55c)]);const _0x20a161=await this[_0x1fe540(0x5a8)]['moveObject'](_0x37d5e4[_0x1fe540(0x55c)],_0x37d5e4[_0x1fe540(0x939)]),[_0x22274d,_0x191410]=_0x56a4f3(_0x37d5e4['path']),[_0x49079d,_0x21f0e4]=_0x56a4f3(_0x37d5e4[_0x1fe540(0x939)]);this['eventListener'][_0x1fe540(0x727)]({'event':_0x20a161===_0x4ab575[_0x1fe540(0x945)]['Folder']?_0x4ab575['StorageEventType'][_0x1fe540(0x237)]:_0x4ab575[_0x1fe540(0x85e)][_0x1fe540(0x883)],'payload':{'name':_0x21f0e4,'path':_0x49079d,'pathName':_0x37d5e4[_0x1fe540(0x939)],'oldName':_0x191410,'oldPath':_0x22274d,'oldPathName':_0x37d5e4[_0x1fe540(0x55c)]}}),this['sendStats']();}[_0x2358f4(0x83b)](_0x12fb95){const _0x27730e=_0x2358f4,_0x2797fc=this[_0x27730e(0x534)][_0x27730e(0x879)](_0x12fb95['path'])??_0x12fb95[_0x27730e(0x55c)];let _0x2be145=!0x1;for(const _0x46b762 of this[_0x27730e(0x518)][_0x27730e(0x535)]())if(_0x46b762[_0x27730e(0x43b)](_0x2797fc)){const _0x128d84=this['pendingFilesTransactions'][_0x27730e(0x879)](_0x46b762)??[];_0x128d84[_0x27730e(0x397)](_0x12fb95),this[_0x27730e(0x720)][_0x27730e(0x851)](_0x46b762,_0x128d84),_0x2be145=!0x0;}return!_0x2be145;}async['publishTransaction'](_0x509fa0){const _0x572268=_0x2358f4;if(!_0x509fa0['id'])throw new _0x45bad0(_0x45bad0[_0x572268(0x297)][_0x572268(0x719)],{'message':_0x572268(0xa6e)});if(_0x509fa0[_0x572268(0x48b)]!==this[_0x572268(0x6c5)])throw new _0x45bad0(_0x45bad0['codes'][_0x572268(0x9c6)]);await this[_0x572268(0x638)][_0x572268(0x1e8)](_0x509fa0,this[_0x572268(0x2bb)]),await this[_0x572268(0x55a)](_0x509fa0['id']);}async[_0x2358f4(0x55a)](_0x523a3c){const _0x2777fc=_0x2358f4;this[_0x2777fc(0x6c5)]=_0x523a3c;const _0x590bc9=new File([new Blob([this['lastTransactionId']])],_0x457b48,{'type':_0x2777fc(0xa00)});await this[_0x2777fc(0x47c)](_0x590bc9,'/');}async[_0x2358f4(0x67c)](_0x2db58c){const _0x1bbdfe=_0x2358f4;try{const _0x3a6bec=await this['get'](_0x2db58c['path']+'/'+_0x2db58c['name'],{'skipEncryption':_0x2db58c[_0x1bbdfe(0x254)]}),_0x16c1c4=await _0x424842(_0x3a6bec);if(''!==_0x2db58c[_0x1bbdfe(0xa19)]&&_0x16c1c4!==_0x2db58c[_0x1bbdfe(0xa19)])return;_0x2db58c[_0x1bbdfe(0x886)]=this[_0x1bbdfe(0x68a)][_0x1bbdfe(0x7b4)](),_0x2db58c[_0x1bbdfe(0x553)]=_0x2d7604['RequestAccepted'],await this[_0x1bbdfe(0x9cd)](_0x2db58c,[_0x2db58c['sourceId']]);}catch(_0x52efc3){}}async['handleFileRequestAnswer'](_0x3ed34f){const _0x3fda86=_0x2358f4,_0x17d708=_0x184125(_0x3ed34f['path'],_0x3ed34f[_0x3fda86(0x683)]);if(!this[_0x3fda86(0x61e)][_0x3fda86(0x3d0)](_0x17d708))return;const _0x553af8=this[_0x3fda86(0x61e)]['get'](_0x17d708);_0x553af8[_0x3fda86(0x553)]=_0x2d7604[_0x3fda86(0xa0e)];const _0x5d6467=_0x3ed34f[_0x3fda86(0x886)];if(!_0x5d6467)throw new _0x45bad0(_0x45bad0[_0x3fda86(0x297)]['ObjectStoreInvalidSyncMessage'],{'message':_0x3fda86(0xa92)});if(this[_0x3fda86(0x61e)][_0x3fda86(0x6e6)](_0x17d708),this[_0x3fda86(0x8ab)][_0x3fda86(0x3d0)](_0x5d6467)||this['pendingFilesSyncing'][_0x3fda86(0x851)](_0x5d6467,new Map()),this[_0x3fda86(0x8ab)][_0x3fda86(0x879)](_0x5d6467)[_0x3fda86(0x851)](_0x17d708,[_0x553af8,this[_0x3fda86(0x6b5)](_0x5d6467,_0x17d708)]),_0x553af8['answererId']=_0x5d6467,_0x553af8['startIndex']=this[_0x3fda86(0x518)][_0x3fda86(0x879)](_0x17d708)?.['chunksReceived']??0x0,0x0===_0x553af8[_0x3fda86(0x28e)])try{const [_0x559e6d,_0x4a381f]=await this[_0x3fda86(0x69f)](_0x3ed34f['name'],_0x3ed34f[_0x3fda86(0x55c)],_0x3ed34f[_0x3fda86(0xa19)]);_0x559e6d&&(_0x553af8[_0x3fda86(0x28e)]=_0x4a381f);}catch(_0x4e026d){}this['send'](_0x553af8,[_0x5d6467]);}async[_0x2358f4(0x427)](_0x341dcc){const _0x707276=_0x2358f4,_0x1fac0f=_0x184125(_0x341dcc[_0x707276(0x55c)],_0x341dcc['name']),_0x50cddc=await this[_0x707276(0x879)](_0x1fac0f,{'skipEncryption':_0x341dcc[_0x707276(0x254)]}),_0x177cfd={..._0x341dcc,'answererId':this[_0x707276(0x68a)][_0x707276(0x7b4)](),'action':_0x2d7604['RequestFileWrite'],'startIndex':_0x341dcc['startIndex']??0x0};await this[_0x707276(0x750)](_0x50cddc,_0x177cfd,[_0x341dcc[_0x707276(0x240)]]);}async[_0x2358f4(0x750)](_0x1c822f,_0x427286,_0x2dff2f){let _0x31d46a,_0x3be5ad;const _0x4bc1e5=new Promise(async(_0x14463b,_0x5b25cc)=>{_0x31d46a=_0x14463b,_0x3be5ad=_0x5b25cc;});return((async()=>{const _0x5c08f2=a0_0x34e5,_0x281052=Math[_0x5c08f2(0x3bb)](_0x1c822f['size']/_0x412712);let _0x6daf27=_0x427286[_0x5c08f2(0x28e)]??0x0;const _0x12cae5=_0x184125(_0x427286[_0x5c08f2(0x55c)],_0x427286[_0x5c08f2(0x683)]);this['fileSendingMap']['set'](_0x12cae5,[!0x1,_0x4bc1e5]);for await(const _0x3be377 of async function*(_0x3026e3,_0xfc23ef=0x0,_0x4f73b6){for await(const _0x24511a of _0x42e2fd(_0x3026e3,_0xfc23ef,_0x4f73b6))yield _0x24511a;}(_0x1c822f,_0x6daf27,this[_0x5c08f2(0x276)])){const [_0x119b0f]=this[_0x5c08f2(0x83c)][_0x5c08f2(0x879)](_0x12cae5)??[];if(_0x119b0f)return this[_0x5c08f2(0x83c)][_0x5c08f2(0x6e6)](_0x12cae5),void _0x3be5ad(new Error('File\x20sending\x20interrupted'));if(this['pendingFilesTransactions'][_0x5c08f2(0x3d0)](_0x12cae5)){const _0x38f437=this['pendingFilesTransactions'][_0x5c08f2(0x879)](_0x12cae5);for(const _0x5bf50a of _0x38f437)if(_0x5bf50a[_0x5c08f2(0x553)]===_0x2d7604[_0x5c08f2(0x88d)]||_0x5bf50a[_0x5c08f2(0x553)]===_0x2d7604[_0x5c08f2(0x824)])return;}const _0x513d15={..._0x427286,'type':_0x1c822f[_0x5c08f2(0x5ba)],'data':_0x3be377,'index':_0x6daf27,'total':_0x281052};this[_0x5c08f2(0x9cd)](_0x513d15,_0x2dff2f),_0x6daf27++;}const _0x4d8cb8=setInterval(async()=>{const _0x5a8abd=_0x5c08f2;await this[_0x5a8abd(0x276)]()>0x0||(clearInterval(_0x4d8cb8),_0x31d46a());});this[_0x5c08f2(0x83c)]['delete'](_0x12cae5);})()),_0x4bc1e5;}async['deletePendingFile'](_0x2e54df){const _0x375689=_0x2358f4;try{const _0x3a32db=_0x184125(_0x2e54df[_0x375689(0x55c)],_0x2e54df[_0x375689(0x683)]),_0x132bae=_0x3a32db+_0x22914a;await this[_0x375689(0x5c3)](_0x132bae);const [,_0x27b3de]=this[_0x375689(0x8ab)]['get'](_0x2e54df[_0x375689(0x886)])?.[_0x375689(0x879)](_0x3a32db)??[];_0x27b3de&&(clearTimeout(_0x27b3de),this[_0x375689(0x8ab)][_0x375689(0x879)](_0x2e54df['answererId'])['delete'](_0x3a32db));}catch(_0x1a6d07){}0x0===this[_0x375689(0x8ab)][_0x375689(0x879)](_0x2e54df[_0x375689(0x886)])?.[_0x375689(0x9dc)]&&this[_0x375689(0x8ab)][_0x375689(0x6e6)](_0x2e54df[_0x375689(0x886)]),0x0===this[_0x375689(0x8ab)]['size']&&0x0===this['objectRequests'][_0x375689(0x9dc)]&&this[_0x375689(0x32d)]();}async[_0x2358f4(0x28f)](){const _0xa4e8ae=_0x2358f4;try{const _0x37860c=await this[_0xa4e8ae(0x638)][_0xa4e8ae(0x307)](this[_0xa4e8ae(0x2bb)],this[_0xa4e8ae(0x6c5)]);for(const _0x13cfac of _0x37860c)await this[_0xa4e8ae(0x3dd)](_0x13cfac,!0x0);}catch(_0x4b53b0){if(_0x4b53b0 instanceof _0x45bad0&&_0x4b53b0['code']===_0x45bad0[_0xa4e8ae(0x297)][_0xa4e8ae(0x7e8)]){await this['objectStoreConnector'][_0xa4e8ae(0x5c3)](_0x457b48),delete this[_0xa4e8ae(0x6c5)];try{const _0x140e9d=await this[_0xa4e8ae(0x5a8)]['list']('/',!0x1);for(const _0x5b08db of _0x140e9d)await this['objectStoreConnector'][_0xa4e8ae(0x5c3)](_0x5b08db['pathName']);}catch(_0x101e5a){}return await this[_0xa4e8ae(0x28f)]();}throw _0x4b53b0;}}async[_0x2358f4(0x5c4)](){const _0x33b423=_0x2358f4,_0x516d65=await this[_0x33b423(0x1d7)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x2099b0=async _0x3fed50=>{const _0x436f6c=_0x33b423;for(const _0xbeb7ba of _0x3fed50){if(_0xbeb7ba['kind']===_0x4ab575[_0x436f6c(0x945)][_0x436f6c(0x746)]){_0xbeb7ba[_0x436f6c(0x1c6)]&&_0xbeb7ba[_0x436f6c(0x1c6)][_0x436f6c(0x87a)]>0x0&&await _0x2099b0(_0xbeb7ba[_0x436f6c(0x1c6)]);continue;}if(_0xbeb7ba[_0x436f6c(0x978)]!==_0x4ab575[_0x436f6c(0x7f0)]['Pending'])continue;const _0x4b7f6c=await this[_0x436f6c(0x879)](_0xbeb7ba[_0x436f6c(0x313)]+_0x22914a),_0x116a68=JSON[_0x436f6c(0x46d)](await _0x4b7f6c[_0x436f6c(0x453)]()),_0x123420=_0xbeb7ba['name'][_0x436f6c(0x4b5)](_0x22914a,''),_0x17f831={'payloadType':_0x2a0c9e['Request'],'action':_0x2d7604[_0x436f6c(0x4f5)],'sourceId':this['localNode'][_0x436f6c(0x7b4)](),'type':'','path':_0xbeb7ba[_0x436f6c(0x55c)],'name':_0x123420,'checksum':_0x116a68[_0x436f6c(0xa19)],'skipEncryption':_0x116a68['skipEncryption']},_0x4e026c=_0x184125(_0xbeb7ba['path'],_0x123420);this['objectRequests'][_0x436f6c(0x851)](_0x4e026c,_0x17f831);}};await _0x2099b0(_0x516d65),0x0===this['objectRequests']['size']&&0x0===this['pendingFilesSyncing'][_0x33b423(0x9dc)]&&this[_0x33b423(0x32d)]();}async['createPendingFileWrite'](_0x5a1989,_0x10e036,_0x579e2e){const _0x399524=_0x2358f4,_0x245f4c=new File([new Blob([JSON[_0x399524(0x787)](_0x579e2e)])],''+_0x5a1989+_0x22914a,{'type':_0x399524(0xa00)});await this[_0x399524(0x47c)](_0x245f4c,_0x10e036);}async[_0x2358f4(0x69f)](_0x487ead,_0x1a8007,_0x40dda2){const _0x39b23f=_0x2358f4;try{const _0x547c1a=_0x184125(_0x1a8007,_0x487ead),_0x432a2b=_0x547c1a+_0x22914a,_0x1c8916=await this[_0x39b23f(0x5a8)][_0x39b23f(0x879)](_0x432a2b),{checksum:_0xc0d6d4,skipEncryption:_0x26fb80}=JSON[_0x39b23f(0x46d)](await _0x1c8916['text']()),_0x1bcff5=(await this[_0x39b23f(0x5a8)][_0x39b23f(0x879)](_0x547c1a,{'skipEncryption':_0x26fb80}))[_0x39b23f(0x9dc)];return _0xc0d6d4===_0x40dda2&&_0x1bcff5%_0x412712==0x0?[!0x0,Math[_0x39b23f(0x4cc)](_0x1bcff5/_0x412712)]:(await this[_0x39b23f(0x5a8)]['deleteObject'](_0x547c1a),[!0x1,0x0]);}catch(_0x50776b){return[!0x1,0x0];}}[_0x2358f4(0x6b5)](_0x45fc13,_0x7b3d16){const _0x1b77b5=_0x2358f4,[_0xae8d38,_0x4640c0]=this['pendingFilesSyncing']['get'](_0x45fc13)?.[_0x1b77b5(0x879)](_0x7b3d16)??[];return _0x4640c0&&clearTimeout(_0x4640c0),setTimeout(()=>{const _0x429639=_0x1b77b5,[_0x2fd1dc,_0x28cc49]=this[_0x429639(0x8ab)][_0x429639(0x879)](_0x45fc13)[_0x429639(0x879)](_0x7b3d16);this[_0x429639(0x573)](_0x2fd1dc,_0x28cc49);},0x927c0);}async['sendFileRequestPayload'](_0x17385d,_0x25cad7){const _0x26525a=_0x2358f4;clearTimeout(_0x25cad7),_0x17385d['action']=_0x2d7604[_0x26525a(0x4f5)],this[_0x26525a(0x61e)][_0x26525a(0x851)](_0x184125(_0x17385d[_0x26525a(0x55c)],_0x17385d['name']),_0x17385d),this[_0x26525a(0x9cd)](_0x17385d);}[_0x2358f4(0x91d)](_0x5ec074,_0x384793){const _0x5a628a=_0x2358f4;if(!this[_0x5a628a(0x6d6)])return;this[_0x5a628a(0x8ab)]['has'](_0x5ec074[_0x5a628a(0x886)])||this[_0x5a628a(0x8ab)][_0x5a628a(0x851)](_0x5ec074[_0x5a628a(0x886)],new Map());const [_0x32a4c6]=this[_0x5a628a(0x8ab)]['get'](_0x5ec074[_0x5a628a(0x886)])[_0x5a628a(0x879)](_0x384793)??[{'payloadType':_0x2a0c9e['Request'],'action':_0x2d7604[_0x5a628a(0x4f5)],'sourceId':this[_0x5a628a(0x68a)][_0x5a628a(0x7b4)](),'type':_0x5ec074['type'],'name':_0x5ec074[_0x5a628a(0x683)],'path':_0x5ec074[_0x5a628a(0x55c)],'skipEncryption':_0x5ec074[_0x5a628a(0x254)],'checksum':_0x5ec074['checksum'],'answererId':_0x5ec074[_0x5a628a(0x886)]}];this[_0x5a628a(0x8ab)]['get'](_0x5ec074[_0x5a628a(0x886)])['set'](_0x384793,[_0x32a4c6,this[_0x5a628a(0x6b5)](_0x5ec074[_0x5a628a(0x886)],_0x384793)]);}async[_0x2358f4(0x47c)](_0x51716c,_0x3f754b,_0x28cb5c){const _0x336e2a=_0x2358f4;this[_0x336e2a(0x72c)]&&(this[_0x336e2a(0x6fc)]+=0x1),await this[_0x336e2a(0x5a8)]['writeFile'](_0x51716c,_0x3f754b,_0x28cb5c);}async['deleteObject'](_0x36d7fa){const _0x475684=_0x2358f4;try{const _0x19b01c=await this[_0x475684(0x5a8)][_0x475684(0x5c3)](_0x36d7fa);if(!_0x36d7fa[_0x475684(0x5a3)](_0x22914a))try{await this[_0x475684(0x5a8)]['deleteObject'](_0x36d7fa+_0x22914a);}catch(_0x1e78a4){}return this[_0x475684(0x72c)]&&_0x19b01c===_0x4ab575[_0x475684(0x945)][_0x475684(0x5c9)]&&(this[_0x475684(0x6fc)]+=0x1),_0x19b01c;}catch(_0x5f0c56){return await this[_0x475684(0x5a8)][_0x475684(0x5c3)](_0x36d7fa+_0x22914a);}}async[_0x2358f4(0x6a0)](_0x1b3dd8,_0x3a35f1){const _0x850aaf=_0x2358f4;try{const _0x22176b=await this['objectStoreConnector'][_0x850aaf(0x6a0)](_0x1b3dd8,_0x3a35f1);if(!_0x1b3dd8['endsWith'](_0x22914a))try{await this[_0x850aaf(0x5a8)]['moveObject'](_0x1b3dd8+_0x22914a,_0x3a35f1+_0x22914a);}catch(_0xa78de9){}return _0x22176b;}catch(_0x4bfc47){return await this[_0x850aaf(0x5a8)][_0x850aaf(0x6a0)](_0x1b3dd8+_0x22914a,_0x3a35f1+_0x22914a);}}[_0x2358f4(0x44c)](){const _0x2e9601=_0x2358f4;this['debounceStats']&&clearTimeout(this[_0x2e9601(0x247)]),this['debounceStats']=setTimeout(async()=>{const _0x5ab3ca=_0x2e9601;delete this[_0x5ab3ca(0x247)];const _0x559d55=await this[_0x5ab3ca(0x5a8)][_0x5ab3ca(0x417)]('/');this['systemTopic']?.[_0x5ab3ca(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x5ab3ca(0x60f)],'content':{'type':_0x2d88a4[_0x5ab3ca(0x95a)],'label':this[_0x5ab3ca(0x2bb)],'stats':{'timestamp':Date[_0x5ab3ca(0x58d)](),'storage':_0x559d55,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x5ab3ca(0x4e7)],'bytesSent':this[_0x5ab3ca(0x5f3)],'bytesReceived':this[_0x5ab3ca(0x67e)],'writes':this[_0x5ab3ca(0x612)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x5ab3ca(0x6d6)]&&_0x561d9b['logStorage'](_0x4ae419[_0x5ab3ca(0x42a)],_0x5ab3ca(0x8d0)+this[_0x5ab3ca(0x667)]+'ccc'+this['label'],_0x559d55);},_0x9a9f66);}async[_0x2358f4(0x8d3)](_0x19e2cc){const _0x117e49=_0x2358f4;try{return await this[_0x117e49(0x879)](_0x19e2cc),!0x0;}catch(_0x14f4d0){return!0x1;}}async[_0x2358f4(0x481)](_0xe36823){const _0x4ad70a=_0x2358f4;if(!this[_0x4ad70a(0x518)]['has'](_0xe36823))return;const _0x575645=this[_0x4ad70a(0x518)][_0x4ad70a(0x879)](_0xe36823);if(_0x575645[_0x4ad70a(0x92c)])try{await _0x575645[_0x4ad70a(0x92c)]['close']();}catch(_0x303635){console[_0x4ad70a(0x7b7)]('Error\x20closing\x20writable\x20stream',_0x303635);}this[_0x4ad70a(0x518)][_0x4ad70a(0x6e6)](_0xe36823);}}class _0x38bf7d extends _0xa6bf6b{[_0x2358f4(0x68a)];[_0x2358f4(0x667)];[_0x2358f4(0x264)]=new Map();[_0x2358f4(0x247)];constructor(_0x279085,_0x55aa37,_0x3778e6){const _0x309ae5=_0x2358f4;if('string'!=typeof _0x55aa37)throw new _0x5af266(_0x3412d7[_0x309ae5(0x67d)],_0x309ae5(0x773));super(_0x279085,_0x55aa37),this[_0x309ae5(0x68a)]=_0x279085,this['clusterId']=_0x3778e6,this[_0x309ae5(0x44c)]();}[_0x2358f4(0x7c3)](){this['sendStats']();}[_0x2358f4(0x8d8)](){const _0x3cac4a=_0x2358f4;return _0x4ab575[_0x3cac4a(0x7fd)][_0x3cac4a(0x356)];}[_0x2358f4(0x727)](_0x1c3581,_0x39b52a){const _0x599d16=_0x2358f4;_0x561d9b['log'](_0x577427[_0x599d16(0x356)],_0x599d16(0x955),this[_0x599d16(0x68a)][_0x599d16(0x7b4)](),_0x1c3581,_0x39b52a),_0x561d9b['logServiceEvent'](_0x4ae419['PubSub'],{'type':_0x599d16(0x727),'label':this[_0x599d16(0x2bb)],'nodeId':this['localNode'][_0x599d16(0x7b4)](),'nodeType':this[_0x599d16(0x68a)][_0x599d16(0x5ba)],'clusterId':this[_0x599d16(0x667)],'remoteIds':_0x39b52a??[],'contentType':_0x1c3581 instanceof File?_0x4ab575[_0x599d16(0x7fd)]['File']:_0x4ab575[_0x599d16(0x7fd)][_0x599d16(0x409)],'size':_0x1c3581 instanceof File?_0x1c3581[_0x599d16(0x9dc)]:JSON[_0x599d16(0x787)](_0x1c3581)[_0x599d16(0x87a)]}),this[_0x599d16(0x44c)](),this[_0x599d16(0x9cd)](_0x1c3581,_0x39b52a);}[_0x2358f4(0x6f4)](_0x15bda5,_0x67a279){const _0x101721=_0x2358f4;if(this['unsubscribeHandler'][_0x101721(0x3d0)](_0x15bda5))throw new _0x5af266(_0x3412d7[_0x101721(0x1bc)],_0x101721(0x2f2));this[_0x101721(0x264)][_0x101721(0x851)](_0x15bda5,this[_0x101721(0x9d5)]((_0x3d12fa,_0x4a6be5)=>{const _0x5de541=_0x101721;_0x5de541(0x562)===_0x15bda5&&_0x4a6be5 instanceof File||!(_0x5de541(0x4db)!==_0x15bda5||_0x4a6be5 instanceof File)||(_0x561d9b[_0x5de541(0x870)](_0x577427['PubSub'],_0x5de541(0x7b2),this[_0x5de541(0x68a)][_0x5de541(0x7b4)](),_0x3d12fa,_0x4a6be5),_0x561d9b[_0x5de541(0x8a4)](_0x4ae419[_0x5de541(0x356)],{'type':_0x5de541(0x6f4),'label':this[_0x5de541(0x2bb)],'nodeId':this[_0x5de541(0x68a)]['getId'](),'nodeType':this[_0x5de541(0x68a)][_0x5de541(0x5ba)],'clusterId':this[_0x5de541(0x667)],'remoteId':_0x3d12fa,'contentType':_0x15bda5,'size':_0x4a6be5 instanceof File?_0x4a6be5[_0x5de541(0x9dc)]:JSON[_0x5de541(0x787)](_0x4a6be5)[_0x5de541(0x87a)]}),this['sendStats'](),_0x67a279(_0x3d12fa,_0x4a6be5));}));}['unsubscribe'](_0x941b05){const _0x21f5f7=_0x2358f4;this[_0x21f5f7(0x264)][_0x21f5f7(0x879)](_0x941b05)?.(),this['unsubscribeHandler']['delete'](_0x941b05);}[_0x2358f4(0x816)](){const _0x5c7a1d=_0x2358f4;this['unsubscribeHandler']['forEach'](_0x455105=>_0x455105()),clearTimeout(this['debounceStats']),delete this[_0x5c7a1d(0x247)],super[_0x5c7a1d(0x816)]();}['close'](){const _0x5d51ed=_0x2358f4;this[_0x5d51ed(0x80f)]?.[_0x5d51ed(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x5d51ed(0x60f)],'content':{'type':_0x2d88a4['ClosePubSubTopic'],'label':this['label']}});}[_0x2358f4(0x44c)](){const _0x526ccd=_0x2358f4;this[_0x526ccd(0x247)]&&clearTimeout(this[_0x526ccd(0x247)]),this[_0x526ccd(0x247)]=setTimeout(()=>{const _0x3e5600=_0x526ccd;this['systemTopic']?.[_0x3e5600(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x3e5600(0x60f)],'content':{'type':_0x2d88a4[_0x3e5600(0x359)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x3e5600(0x379)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3e5600(0x5f3)],'bytesReceived':this[_0x3e5600(0x67e)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x9a9f66);}}class _0x40f470 extends _0x5e3439{['localNode'];[_0x2358f4(0x3ed)];['availableTrackKinds'];[_0x2358f4(0x667)];[_0x2358f4(0x264)];['resizeHandler'];[_0x2358f4(0x610)];[_0x2358f4(0x578)]=new Map();['renderElement'];[_0x2358f4(0x29c)]=new Set();['providerId'];[_0x2358f4(0x249)]=_0x2365fd();[_0x2358f4(0x608)]=new Map();constructor(_0x4100fd,_0x3ad984,_0x4baa39,_0x25d5d4,_0x202464,_0x254740){const _0x26a79e=_0x2358f4;super(_0x3ad984,_0x4baa39,new MediaStream()),this[_0x26a79e(0x68a)]=_0x4100fd,this[_0x26a79e(0x3ed)]=_0x25d5d4,this[_0x26a79e(0x465)]=_0x202464,this[_0x26a79e(0x667)]=_0x254740,this['mediaStream'][_0x26a79e(0x552)]()[_0x26a79e(0x37b)](_0x2951d9=>this['setupTrackEndedListeners'](_0x2951d9));}['destroy'](){const _0x304b8b=_0x2358f4;this[_0x304b8b(0x578)][_0x304b8b(0x9dc)]>0x0&&(this[_0x304b8b(0x578)][_0x304b8b(0x37b)](_0xfe8a3=>{const _0x1ab0a3=_0x304b8b;_0xfe8a3['unregisterSystemPublisher'](),_0xfe8a3[_0x1ab0a3(0x816)]();}),this[_0x304b8b(0x578)]['clear']()),this['trackEndedListeners'][_0x304b8b(0x37b)](_0x31342a=>_0x31342a()),this[_0x304b8b(0x9d1)][_0x304b8b(0x552)]()[_0x304b8b(0x37b)](_0x28e971=>this['mediaStream']['removeTrack'](_0x28e971)),this[_0x304b8b(0x610)]&&(clearTimeout(this['updateDebounce']),delete this[_0x304b8b(0x610)]),this['resizeHandler']?.(),super['destroy']();}[_0x2358f4(0x1ee)](_0x33655e){const _0x2fc460=_0x2358f4;this[_0x2fc460(0x264)]=_0x33655e[_0x2fc460(0x6f4)](({content:_0x38ab2c})=>{const _0x50a0f0=_0x2fc460;switch(_0x38ab2c[_0x50a0f0(0x553)]){case _0x311c2a[_0x50a0f0(0x7ad)]:if(_0x561d9b['log'](_0x577427[_0x50a0f0(0x96a)],_0x50a0f0(0x507),this[_0x50a0f0(0x68a)]['getId'](),this[_0x50a0f0(0x736)]),_0x38ab2c[_0x50a0f0(0x92c)]['id']!==this[_0x50a0f0(0x3ed)]||_0x38ab2c[_0x50a0f0(0x736)]!==this[_0x50a0f0(0x736)])return;this[_0x50a0f0(0x295)](_0x38ab2c[_0x50a0f0(0x1c1)][_0x50a0f0(0xa7b)]),this[_0x50a0f0(0x9d1)][_0x50a0f0(0x859)](_0x38ab2c['track']);for(const [_0x18b793,_0x331bfe]of this[_0x50a0f0(0x578)][_0x50a0f0(0x1c6)]())try{_0x331bfe[_0x50a0f0(0x859)](_0x38ab2c[_0x50a0f0(0x1c1)]);}catch(_0x1f10cc){_0x331bfe[_0x50a0f0(0x816)](),this[_0x50a0f0(0x578)][_0x50a0f0(0x6e6)](_0x18b793);}this[_0x50a0f0(0x7e0)](_0x38ab2c[_0x50a0f0(0x1c1)]),this[_0x50a0f0(0x698)](),_0x50a0f0(0x809)===_0x38ab2c[_0x50a0f0(0x1c1)][_0x50a0f0(0xa7b)]&&this[_0x50a0f0(0xa63)]&&(this['mediaStream'][_0x50a0f0(0x5f5)]?setTimeout(()=>this['renderElement']?.[_0x50a0f0(0x50b)](),0x0):setTimeout(()=>this[_0x50a0f0(0xa63)]?.[_0x50a0f0(0xa72)](),0x0),this['setupResizeHandler']());break;case _0x311c2a[_0x50a0f0(0x762)]:if(_0x38ab2c['stream']['id']!==this[_0x50a0f0(0x3ed)]||_0x38ab2c[_0x50a0f0(0x736)]!==this[_0x50a0f0(0x736)])return;this[_0x50a0f0(0x295)](_0x38ab2c[_0x50a0f0(0x1c1)]['kind']),this[_0x50a0f0(0xa63)]&&'video'===_0x38ab2c[_0x50a0f0(0x1c1)][_0x50a0f0(0xa7b)]&&(this[_0x50a0f0(0x993)]?.(),this[_0x50a0f0(0x9d1)][_0x50a0f0(0x552)]()['length']>0x0?this[_0x50a0f0(0xa63)][_0x50a0f0(0xa72)]():this[_0x50a0f0(0xa63)]['srcObject']=null);}});}[_0x2358f4(0xa4f)](){const _0x30b603=_0x2358f4;this[_0x30b603(0x264)]?.(),this[_0x30b603(0x608)][_0x30b603(0x37b)](_0x2d474a=>_0x2d474a()),delete this[_0x30b603(0x264)];}['getInternalStreamId'](){const _0x204a90=_0x2358f4;return this[_0x204a90(0x3ed)];}['setInternalId'](_0x3926a4){const _0x22970a=_0x2358f4;this[_0x22970a(0x3ed)]=_0x3926a4;}[_0x2358f4(0x898)](){return this['availableTrackKinds'];}[_0x2358f4(0x833)](_0x294469){const _0x128e23=_0x2358f4;for(const _0x3ae171 of _0x294469||this[_0x128e23(0x465)])if(!this[_0x128e23(0x9d1)]['getTracks']()[_0x128e23(0x7c6)](_0x505168=>_0x505168[_0x128e23(0xa7b)]===_0x3ae171))return!0x1;return!0x0;}[_0x2358f4(0x2ab)](){const _0x38aa44=_0x2358f4;let _0x6db985={'width':0x0,'height':0x0};const _0x1e20d7=this[_0x38aa44(0x9d1)][_0x38aa44(0x790)]();if(_0x1e20d7[_0x38aa44(0x87a)]>0x0){const _0x2c6ca9=_0x1e20d7[0x0][_0x38aa44(0x233)]();_0x2c6ca9[_0x38aa44(0x31c)]&&_0x2c6ca9[_0x38aa44(0x532)]&&(_0x6db985={'width':_0x2c6ca9[_0x38aa44(0x31c)],'height':_0x2c6ca9['height']});}return _0x6db985;}[_0x2358f4(0x5b9)](_0x843e51){const _0x381113=_0x2358f4;for(const _0x418259 of _0x843e51)if(!this[_0x381113(0x29c)][_0x381113(0x3d0)](_0x418259))return!0x1;return!0x0;}[_0x2358f4(0x1f2)](_0x496464,_0x1a82c0){const _0x1e9203=_0x2358f4;if(!this[_0x1e9203(0x578)]['has'](_0x496464)){const _0x1471df=new _0x4054da(this[_0x1e9203(0x4a3)],this['label'],this['mediaStream'],_0x496464,_0x1a82c0),_0x2e1665=_0x1471df[_0x1e9203(0x4ac)](()=>{const _0x8e0f08=_0x1e9203;_0x2e1665(),this[_0x8e0f08(0x578)][_0x8e0f08(0x879)](_0x496464)?.[_0x8e0f08(0x816)](),this[_0x8e0f08(0x578)]['delete'](_0x496464);});this['outgoingStreams']['set'](_0x496464,_0x1471df),_0x1471df[_0x1e9203(0x823)](this['systemTopic']);}return this[_0x1e9203(0x578)]['get'](_0x496464);}[_0x2358f4(0x3fc)](){return this['mediaStream']['id'];}['getPriority'](){const _0x4948e6=_0x2358f4;return _0x4ab575['MediaStreamPriority'][_0x4948e6(0x812)];}[_0x2358f4(0x615)](){const _0x1e5e44=_0x2358f4;return Array[_0x1e5e44(0x7ed)](this['subscribedTracks']);}[_0x2358f4(0x6f4)](_0x1ab41f){const _0x34f3ae=_0x2358f4;let _0x57f93a=[];if(_0x1ab41f){'object'!=typeof _0x1ab41f[_0x34f3ae(0x809)]||_0x1ab41f[_0x34f3ae(0x809)][_0x34f3ae(0xa63)]instanceof HTMLVideoElement||!this[_0x34f3ae(0xa63)]||(_0x1ab41f[_0x34f3ae(0x809)]={'renderElement':this['renderElement']});try{(0x0,_0x4ab575[_0x34f3ae(0x45f)])(_0x1ab41f);}catch(_0x323e6e){throw new _0x5af266(_0x3412d7[_0x34f3ae(0x20c)],_0x34f3ae(0x61a));}_0x1ab41f['video']&&(_0x57f93a[_0x34f3ae(0x397)](_0x34f3ae(0x809)),_0x34f3ae(0x882)!=typeof _0x1ab41f['video']&&_0x1ab41f[_0x34f3ae(0x809)][_0x34f3ae(0xa63)]&&(this[_0x34f3ae(0xa63)]=_0x1ab41f[_0x34f3ae(0x809)][_0x34f3ae(0xa63)],_0x1ab41f[_0x34f3ae(0x809)][_0x34f3ae(0x4bd)]||(_0x1ab41f[_0x34f3ae(0x809)][_0x34f3ae(0x4bd)]={'width':this['renderElement'][_0x34f3ae(0x51f)],'height':this[_0x34f3ae(0xa63)][_0x34f3ae(0x65f)]}),delete _0x1ab41f[_0x34f3ae(0x809)]['renderElement'])),_0x1ab41f[_0x34f3ae(0x392)]&&_0x57f93a[_0x34f3ae(0x397)](_0x34f3ae(0x392));}else _0x57f93a=this[_0x34f3ae(0x898)]();this[_0x34f3ae(0x5b9)](_0x57f93a)||(_0x57f93a[_0x34f3ae(0x37b)](_0x292445=>this[_0x34f3ae(0x29c)]['add'](_0x292445)),this[_0x34f3ae(0x80f)]['publish']({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x34f3ae(0x60f)],'content':{'type':_0x2d88a4[_0x34f3ae(0x213)],'label':this[_0x34f3ae(0x2bb)],'ownerId':this[_0x34f3ae(0x4a3)][_0x34f3ae(0x7b4)](),'trackKinds':_0x57f93a,'params':_0x1ab41f}}),_0x561d9b['logServiceEvent'](_0x4ae419[_0x34f3ae(0x37a)],{'type':'subscribe','label':this['label'],'nodeId':this['localNode'][_0x34f3ae(0x7b4)](),'nodeType':this[_0x34f3ae(0x68a)][_0x34f3ae(0x5ba)],'clusterId':this['clusterId'],'sourceId':this[_0x34f3ae(0x4a3)][_0x34f3ae(0x7b4)](),'streamId':this[_0x34f3ae(0x3ed)],'trackKinds':_0x57f93a}));}[_0x2358f4(0x86f)](_0x4ea869){const _0x4919e7=_0x2358f4;try{(0x0,_0x4ab575[_0x4919e7(0x45f)])(_0x4ea869);}catch(_0x41cb60){throw new _0x5af266(_0x3412d7[_0x4919e7(0x20c)],_0x4919e7(0x61a));}this[_0x4919e7(0x610)]&&clearTimeout(this['updateDebounce']),this[_0x4919e7(0x610)]=setTimeout(()=>{const _0x1201f0=_0x4919e7;delete this[_0x1201f0(0x610)],this[_0x1201f0(0x80f)]['publish']({'sourceId':_0x48ff0f,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0x1201f0(0x456)],'label':this[_0x1201f0(0x2bb)],'ownerId':this[_0x1201f0(0x4a3)][_0x1201f0(0x7b4)](),'params':_0x4ea869}});},0x1f4);}['unsubscribe'](_0x22c194){const _0x78a626=_0x2358f4;_0x22c194||(_0x22c194=this[_0x78a626(0x898)]()),(_0x22c194=Array[_0x78a626(0x744)](_0x22c194)?_0x22c194:[_0x22c194])['forEach'](_0x15fff6=>this['subscribedTracks']['delete'](_0x15fff6)),this['systemTopic'][_0x78a626(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x78a626(0x60f)],'content':{'type':_0x2d88a4[_0x78a626(0x245)],'label':this['label'],'ownerId':this[_0x78a626(0x4a3)][_0x78a626(0x7b4)](),'trackKinds':_0x22c194,'remainingTracks':this[_0x78a626(0x29c)]['size']}});}[_0x2358f4(0x557)](_0x1708d3){const _0x1f2a52=_0x2358f4;return this[_0x1f2a52(0x249)]['subscribe'](_0x1708d3);}[_0x2358f4(0x39d)](){const _0x5a9cba=_0x2358f4;return this[_0x5a9cba(0x736)];}[_0x2358f4(0x756)](_0x2c558f){const _0x2ddb64=_0x2358f4;this[_0x2ddb64(0x736)]!==_0x2c558f&&(this[_0x2ddb64(0x736)]=_0x2c558f,this[_0x2ddb64(0x249)]['publish'](_0x2c558f));}[_0x2358f4(0x24a)](_0x5f0212){const _0x16dec4=_0x2358f4;this[_0x16dec4(0x608)][_0x16dec4(0x879)](_0x5f0212)?.(),this[_0x16dec4(0x608)][_0x16dec4(0x6e6)](_0x5f0212);}['removeTrack'](_0x8768f2){const _0x39ff01=_0x2358f4,_0x5c4608=this['mediaStream'][_0x39ff01(0x552)]()[_0x39ff01(0x7c6)](_0x72c3db=>_0x72c3db[_0x39ff01(0xa7b)]===_0x8768f2);_0x5c4608&&(this[_0x39ff01(0x9d1)][_0x39ff01(0x295)](_0x5c4608),this[_0x39ff01(0x578)][_0x39ff01(0x37b)](_0x486b73=>_0x486b73['removeTrack'](_0x8768f2)),this['trackEndedListeners']['get'](_0x8768f2)?.());}[_0x2358f4(0x698)](){const _0x94b9c8=_0x2358f4;this[_0x94b9c8(0xa63)]&&(this[_0x94b9c8(0xa63)][_0x94b9c8(0x49c)]&&this['renderElement'][_0x94b9c8(0x49c)]===this[_0x94b9c8(0x9d1)]||(this[_0x94b9c8(0xa63)][_0x94b9c8(0x49c)]=this[_0x94b9c8(0x9d1)]));}['setupResizeHandler'](){const _0x57e777=_0x2358f4;if(this[_0x57e777(0xa63)]&&!this[_0x57e777(0x993)]&&_0x57e777(0x1fd)!=typeof ResizeObserver){let _0x21a9c4=this[_0x57e777(0xa63)]['clientWidth'],_0x5675bd=this['renderElement'][_0x57e777(0x65f)];const _0x49bcdd=new ResizeObserver(_0x48cea1=>{const _0x911b8f=_0x57e777,{width:_0x20bcb8,height:_0x461042}=_0x48cea1[0x0][_0x911b8f(0x85f)];_0x21a9c4===_0x20bcb8&&_0x5675bd===_0x461042||(_0x21a9c4=Math[_0x911b8f(0x20d)](_0x20bcb8),_0x5675bd=Math[_0x911b8f(0x20d)](_0x461042),this[_0x911b8f(0x86f)]({'video':{'maxResolution':{'width':_0x20bcb8,'height':_0x461042}}}));});_0x49bcdd[_0x57e777(0x9e6)](this['renderElement']),this['resizeHandler']=()=>_0x49bcdd['disconnect']();}}[_0x2358f4(0x649)](_0x2073b4){const _0x174a1a=_0x2358f4,_0x292447=[];for(const _0x45f981 of this[_0x174a1a(0x29c)])this[_0x174a1a(0x295)](_0x45f981),_0x292447[_0x174a1a(0x397)](_0x45f981);this[_0x174a1a(0x736)]&&this[_0x174a1a(0x80f)][_0x174a1a(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0x174a1a(0xaa1)],'label':this['label'],'streamId':this[_0x174a1a(0x3ed)],'ownerId':this[_0x174a1a(0x4a3)]['getId'](),'providerId':this[_0x174a1a(0x736)],'trackKinds':_0x292447}});}[_0x2358f4(0x7e0)](_0x2bd1dc){const _0x2e1eaf=_0x2358f4,_0x3271cc=()=>this['handleRemoteTrackFailure'](_0x2bd1dc);_0x2bd1dc[_0x2e1eaf(0x5b8)](_0x2e1eaf(0x994),_0x3271cc),_0x2bd1dc[_0x2e1eaf(0x5b8)](_0x2e1eaf(0x8be),_0x3271cc),this['trackEndedListeners'][_0x2e1eaf(0x851)](_0x2bd1dc['kind'],()=>{const _0x5bfe50=_0x2e1eaf;_0x2bd1dc[_0x5bfe50(0x688)](_0x5bfe50(0x994),_0x3271cc),_0x2bd1dc[_0x5bfe50(0x688)](_0x5bfe50(0x8be),_0x3271cc),this[_0x5bfe50(0x608)][_0x5bfe50(0x6e6)](_0x2bd1dc[_0x5bfe50(0xa7b)]);});}}class _0x495450 extends _0xa6bf6b{[_0x2358f4(0x68a)];[_0x2358f4(0x667)];[_0x2358f4(0xa0a)];['db'];['debounceStats'];['writes']=0x0;[_0x2358f4(0x672)]=0x0;[_0x2358f4(0x43f)]=!0x1;constructor(_0x4ad6c6,_0x13b848,_0x1a1caf,_0x344eb0,_0x45c98e){const _0x53c8cf=_0x2358f4;if('string'!=typeof _0x13b848)throw new _0x5af266(_0x3412d7[_0x53c8cf(0x7a4)],_0x53c8cf(0x2c4));super(_0x4ad6c6,_0x13b848),this['localNode']=_0x4ad6c6,this['clusterId']=_0x1a1caf,this['vendorId']=_0x344eb0;const _0x133574=_0x53c8cf(0x8d0)+this[_0x53c8cf(0xa0a)]+'ccc'+this[_0x53c8cf(0x667)]+_0x53c8cf(0x8d0)+this[_0x53c8cf(0x2bb)];this['db']=new _0x45c98e(_0x133574),this[_0x53c8cf(0x44c)]();}['getIsLoaded'](){return this['isLoaded'];}[_0x2358f4(0x5ca)](_0xe4f192){const _0x3a415b=_0x2358f4;this[_0x3a415b(0x43f)]=_0xe4f192;}[_0x2358f4(0x816)](){const _0x2c00fc=_0x2358f4;clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x2c00fc(0x816)]();}[_0x2358f4(0x951)](){const _0x3c8738=_0x2358f4;this['systemTopic']['publish']({'sourceId':_0x48ff0f,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0x3c8738(0x86b)],'label':this[_0x3c8738(0x2bb)]}});}[_0x2358f4(0x7c3)](){const _0x5f34c9=_0x2358f4;this[_0x5f34c9(0x44c)]();}['getContentType'](){const _0x120730=_0x2358f4;return _0x4ab575[_0x120730(0x7fd)][_0x120730(0x219)];}[_0x2358f4(0x791)](_0x3267e0,_0x1ebb46,_0x1c416c,_0x5ad5f1){const _0x2d6db2=_0x2358f4,_0x45fa07=this['db'][_0x2d6db2(0x791)](_0x3267e0,_0x1ebb46,_0x1c416c,_0x5ad5f1);return this[_0x2d6db2(0x672)]+=0x1,_0x561d9b[_0x2d6db2(0x8a4)](_0x4ae419[_0x2d6db2(0x219)],{'type':_0x2d6db2(0x791),'label':this[_0x2d6db2(0x2bb)],'nodeId':this[_0x2d6db2(0x68a)][_0x2d6db2(0x7b4)](),'nodeType':this[_0x2d6db2(0x68a)]['type'],'clusterId':this[_0x2d6db2(0x667)],'size':0x0}),this['sendStats'](),_0x45fa07;}[_0x2358f4(0xa07)](_0x354535,_0x37f812,_0x358d95,_0x5d555e){const _0x1cf37d=_0x2358f4;this['db'][_0x1cf37d(0xa07)](_0x354535,_0x37f812,_0x358d95,_0x5d555e),this[_0x1cf37d(0x612)]+=0x1,_0x561d9b['logServiceEvent'](_0x4ae419[_0x1cf37d(0x219)],{'type':_0x1cf37d(0xa07),'label':this[_0x1cf37d(0x2bb)],'nodeId':this[_0x1cf37d(0x68a)]['getId'](),'nodeType':this[_0x1cf37d(0x68a)][_0x1cf37d(0x5ba)],'clusterId':this[_0x1cf37d(0x667)],'size':_0x5d555e[_0x1cf37d(0x2fe)]((_0xb874c1,_0x13f81f)=>_0xb874c1+_0x13f81f[_0x1cf37d(0x87a)],0x0)}),this['sendStats']();}[_0x2358f4(0xa17)](_0xed102e){const _0x1e334d=_0x2358f4;this['db'][_0x1e334d(0xa17)](_0xed102e),this[_0x1e334d(0x612)]+=0x1,_0x561d9b[_0x1e334d(0x8a4)](_0x4ae419[_0x1e334d(0x219)],{'type':'remove','label':this[_0x1e334d(0x2bb)],'nodeId':this[_0x1e334d(0x68a)][_0x1e334d(0x7b4)](),'nodeType':this[_0x1e334d(0x68a)][_0x1e334d(0x5ba)],'clusterId':this['clusterId'],'size':0x0}),this[_0x1e334d(0x44c)]();}[_0x2358f4(0x287)](_0x19454d){const _0x49badb=_0x2358f4;this['db'][_0x49badb(0x287)](_0x19454d);}['loadFromDisk'](_0x50a2c5){const _0x3b0135=_0x2358f4;this['db'][_0x3b0135(0x4ae)](_0x50a2c5);}[_0x2358f4(0x44c)](){const _0x2f50e8=_0x2358f4;this[_0x2f50e8(0x247)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x38b921=_0x2f50e8;delete this[_0x38b921(0x247)];const _0x336b72=this['db'][_0x38b921(0x645)]()[_0x38b921(0x2a3)];this[_0x38b921(0x80f)][_0x38b921(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2['Content'],'content':{'type':_0x2d88a4[_0x38b921(0x655)],'label':this[_0x38b921(0x2bb)],'stats':{'timestamp':Date[_0x38b921(0x58d)](),'storage':_0x336b72,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x38b921(0x4e7)],'bytesSent':this[_0x38b921(0x5f3)],'bytesReceived':this[_0x38b921(0x67e)],'writes':this[_0x38b921(0x612)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x561d9b[_0x38b921(0x51b)](_0x4ae419[_0x38b921(0x219)],_0x38b921(0x8d0)+this[_0x38b921(0x667)]+_0x38b921(0x8d0)+this['label'],_0x336b72);},_0x9a9f66);}}class _0x58e7e1{['id'];['remoteConnections'];['rank'];constructor(_0x4273e9,_0x1fb34b=new Set(),_0x438466){const _0x34bf4e=_0x2358f4;this['id']=_0x4273e9,this[_0x34bf4e(0x5da)]=_0x1fb34b,this[_0x34bf4e(0x238)]=_0x438466;}[_0x2358f4(0x951)](){const _0x4a4e83=_0x2358f4;this[_0x4a4e83(0x238)]=void 0x0,this[_0x4a4e83(0x5da)][_0x4a4e83(0x375)]();}[_0x2358f4(0x7b4)](){return this['id'];}['getRank'](){const _0x33bd95=_0x2358f4;return this[_0x33bd95(0x238)];}[_0x2358f4(0x3ca)](){const _0x3bfe63=_0x2358f4;return this[_0x3bfe63(0x5da)];}}class _0x41256c extends _0x58e7e1{['id'];[_0x2358f4(0x49e)];[_0x2358f4(0x2ca)];[_0x2358f4(0x5da)];['rank'];[_0x2358f4(0x5ba)]=_0x4ab575['NodeType'][_0x2358f4(0x6ea)];constructor(_0x3dfd0d,_0xd76d6d,_0xbb6453,_0x14b2da=new Set(),_0x41f58c){const _0x56f842=_0x2358f4;super(_0x3dfd0d,_0x14b2da,_0x41f58c),this['id']=_0x3dfd0d,this['displayName']=_0xd76d6d,this[_0x56f842(0x2ca)]=_0xbb6453,this[_0x56f842(0x5da)]=_0x14b2da,this[_0x56f842(0x238)]=_0x41f58c;}[_0x2358f4(0x85b)](){const _0x238113=_0x2358f4;return this[_0x238113(0x49e)];}[_0x2358f4(0x7e7)](){const _0x2c8c97=_0x2358f4;return this[_0x2c8c97(0x2ca)];}}class _0x383ff9{['vendorId'];[_0x2358f4(0x667)];[_0x2358f4(0x64d)];constructor(_0x4150ac,_0x39d534){const _0x59636c=_0x2358f4;this[_0x59636c(0xa0a)]=_0x4150ac,this[_0x59636c(0x667)]=_0x39d534,this['clusterKey']='ccc'+this[_0x59636c(0xa0a)]+_0x59636c(0x8d0)+this[_0x59636c(0x667)];}async['writeTransaction'](_0x3bc5b2,_0x3cc71e){const _0x209910=_0x2358f4,_0x2a2840=(0x0,_0x4c2efe['ref'])(_0x1eef3c[_0x209910(0x463)](),'clusters/'+this[_0x209910(0x64d)]+'/objectstores/'+_0x3cc71e+'/transactions/'+_0x3bc5b2['id']),_0x3364d9=(0x0,_0x4c2efe[_0x209910(0x3c9)])(_0x2a2840);_0x3364d9[_0x209910(0xa17)](),_0x3bc5b2[_0x209910(0x48b)]||delete _0x3bc5b2[_0x209910(0x48b)];try{await(0x0,_0x4c2efe[_0x209910(0x851)])(_0x2a2840,_0x3bc5b2);}catch(_0x26b802){throw await _0x3364d9['cancel'](),new _0x45bad0(_0x45bad0[_0x209910(0x297)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x4c2efe[_0x209910(0x6f0)])((0x0,_0x4c2efe[_0x209910(0xa8c)])(_0x1eef3c['getDatabase'](),_0x209910(0x2a5)+this[_0x209910(0x64d)]+_0x209910(0x690)+_0x3cc71e+'/transactions/lastTransaction'),_0x25cfa7=>_0x25cfa7?_0x25cfa7===_0x3bc5b2[_0x209910(0x48b)]?_0x3bc5b2['id']:void 0x0:_0x3bc5b2[_0x209910(0x48b)]?_0x3bc5b2['parentId']:_0x3bc5b2['id']))[_0x209910(0x91e)])throw await(0x0,_0x4c2efe[_0x209910(0xa17)])(_0x2a2840),await _0x3364d9[_0x209910(0x3ae)](),new _0x45bad0(_0x45bad0[_0x209910(0x297)]['ObjectStoreNotSynced']);await _0x3364d9[_0x209910(0x3ae)]();}async['getTransactions'](_0x2e5d3f,_0xe1c346){const _0x5516a1=_0x2358f4;let _0x34005f=[];const _0x295b66=(0x0,_0x4c2efe[_0x5516a1(0xa8c)])(_0x1eef3c[_0x5516a1(0x463)](),_0x5516a1(0x2a5)+this[_0x5516a1(0x64d)]+_0x5516a1(0x690)+_0x2e5d3f+_0x5516a1(0xaa5));let _0x26773c=await(0x0,_0x4c2efe[_0x5516a1(0x879)])((0x0,_0x4c2efe['query'])(_0x295b66,(0x0,_0x4c2efe[_0x5516a1(0x7e2)])(0x65),(0x0,_0x4c2efe[_0x5516a1(0x3e7)])()));if(!_0x26773c[_0x5516a1(0x609)]()){if(void 0x0!==_0xe1c346)throw new _0x45bad0(_0x45bad0[_0x5516a1(0x297)][_0x5516a1(0x7e8)]);return _0x34005f;}const _0x4f2a7f=_0x26773c[_0x5516a1(0x19c)]();for(;Object['keys'](_0x26773c['val']())[_0x5516a1(0x87a)]>0x64;){const _0x163767=Object[_0x5516a1(0x535)](_0x26773c[_0x5516a1(0x19c)]()),_0x3e5bbc=_0x163767[_0x163767[_0x5516a1(0x87a)]-0x1];_0x26773c=await(0x0,_0x4c2efe[_0x5516a1(0x879)])((0x0,_0x4c2efe[_0x5516a1(0x99d)])(_0x295b66,(0x0,_0x4c2efe[_0x5516a1(0x7e2)])(0x65),(0x0,_0x4c2efe[_0x5516a1(0x408)])(_0x3e5bbc),(0x0,_0x4c2efe[_0x5516a1(0x3e7)])())),Object[_0x5516a1(0x85d)](_0x4f2a7f,_0x26773c[_0x5516a1(0x19c)]());}if(_0x34005f=Object[_0x5516a1(0x55b)](_0x4f2a7f)[_0x5516a1(0x829)](_0x14ce0b=>_0x5516a1(0x991)!=typeof _0x14ce0b),0x0===_0x34005f['length']&&void 0x0!==_0xe1c346)throw new _0x45bad0(_0x45bad0[_0x5516a1(0x297)][_0x5516a1(0x7e8)]);if(_0x34005f[_0x5516a1(0x87a)]>0x0&&void 0x0!==_0xe1c346&&!_0x34005f[_0x5516a1(0x7c6)](_0x4bbc9e=>_0x4bbc9e['id']===_0xe1c346))throw new _0x45bad0(_0x45bad0['codes'][_0x5516a1(0x7e8)]);const _0x1343e0=[];let _0x45928a=_0x34005f[_0x5516a1(0x7c6)](_0x58d119=>_0x58d119[_0x5516a1(0x48b)]===_0xe1c346);for(;_0x45928a;)_0x1343e0[_0x5516a1(0x397)](_0x45928a),_0x45928a=_0x34005f[_0x5516a1(0x7c6)](_0x5bc77a=>_0x5bc77a[_0x5516a1(0x48b)]===_0x45928a['id']);return _0x1343e0;}}class _0x182df1{['configs'];[_0x2358f4(0x56f)];[_0x2358f4(0x9d7)];[_0x2358f4(0x6b9)]=new Map();[_0x2358f4(0x7dd)]=new Map();[_0x2358f4(0x5de)]=new Map();[_0x2358f4(0x766)]=new Map();[_0x2358f4(0x8e7)]=new Map();[_0x2358f4(0x7b0)]=new Map();[_0x2358f4(0x1de)]=new Map();['graphDatabases']=new Map();[_0x2358f4(0x4a4)]=new Map();[_0x2358f4(0x200)]=new Map();[_0x2358f4(0x638)];constructor(_0xcdfe3a,_0x400610,_0x286362){const _0x349c4e=_0x2358f4;this[_0x349c4e(0xa9e)]=_0xcdfe3a,this[_0x349c4e(0x56f)]=_0x400610,this[_0x349c4e(0x9d7)]=_0x286362,this[_0x349c4e(0x638)]=new _0x383ff9(this['configs'][_0x349c4e(0xa0a)],this[_0x349c4e(0xa9e)][_0x349c4e(0x667)]);}['close'](_0x1d02da=!0x1){const _0x154f4e=_0x2358f4;this['remoteMediaStreams'][_0x154f4e(0x37b)]((_0xed2cce,_0x656aa)=>{const _0x4c8645=_0x154f4e;_0xed2cce[_0x4c8645(0x37b)]((_0x48ca27,_0x4fba02)=>{const _0x40ff0f=_0x4c8645;this[_0x40ff0f(0x757)](_0x656aa,_0x4fba02);});}),_0x1d02da||(_0x4beec1['clear'](),this[_0x154f4e(0x6b9)][_0x154f4e(0x37b)]((_0xe0e3d4,_0x2c40d5)=>{this['removeLocalMediaStream'](_0x2c40d5);}),this[_0x154f4e(0x5de)]['forEach']((_0x53b41d,_0x8ec490)=>{this['removePubSubTopic'](_0x8ec490);}),this[_0x154f4e(0x766)][_0x154f4e(0x37b)]((_0x340a3a,_0x23035a)=>{this['removeObjectStore'](_0x23035a);}),this['externalStorageConnections']['forEach']((_0x5aa66f,_0xfb915b)=>{const _0x1df229=_0x154f4e;this[_0x1df229(0x6b0)](_0xfb915b);}),this[_0x154f4e(0x7b0)]['forEach']((_0x4b2f73,_0x4cb528)=>{const _0x34e0a9=_0x154f4e;this[_0x34e0a9(0x366)](_0x4cb528);}),this[_0x154f4e(0x4a4)][_0x154f4e(0x37b)]((_0x1428c1,_0x3f2f10)=>{const _0x852e43=_0x154f4e;this[_0x852e43(0x713)](_0x3f2f10);}),this['jobWorkers'][_0x154f4e(0x37b)]((_0x1f325b,_0x37d0ac)=>{const _0x423eb7=_0x154f4e;this[_0x423eb7(0x2ba)](_0x37d0ac);}),this[_0x154f4e(0x1de)]['forEach']((_0xa9dffb,_0x5b4120)=>{const _0x14eaf2=_0x154f4e;this[_0x14eaf2(0x559)](_0x5b4120);}),this['graphDatabases']['forEach']((_0x212975,_0x5eb4d8)=>{this['removeGraphDatabase'](_0x5eb4d8);}));}['createObjectStoreBucket'](_0x5114f8,_0x94aab6){const _0x54f712=_0x2358f4;if(this[_0x54f712(0x766)][_0x54f712(0x3d0)](_0x5114f8))throw new _0x5af266(_0x3412d7['ObjectStoreAlreadyExists'],_0x54f712(0x3c4));const _0x5679f4=new _0xf3b7b2(this[_0x54f712(0xa9e)][_0x54f712(0x68a)],_0x5114f8,this[_0x54f712(0xa9e)][_0x54f712(0x667)],this['configs'][_0x54f712(0xa0a)],this[_0x54f712(0x638)],_0x94aab6,()=>this[_0x54f712(0xa9e)][_0x54f712(0x4d4)][_0x54f712(0x276)]());return this['objectStores'][_0x54f712(0x851)](_0x5114f8,_0x5679f4),this[_0x54f712(0xa9e)][_0x54f712(0x4d4)][_0x54f712(0x642)](_0x5679f4),_0x5679f4;}['createExternalStorageConnection'](_0x256f62,_0x2f073e){const _0x8676a7=_0x2358f4;if(this[_0x8676a7(0x766)][_0x8676a7(0x3d0)](_0x256f62))throw new _0x5af266(_0x3412d7['ExternalStorageConnectionAlreadyExists'],'Connection\x20already\x20exists');const _0x34e31b=new _0x144c62(this[_0x8676a7(0xa9e)]['localNode'],_0x256f62,this['configs'][_0x8676a7(0x667)],this['configs'][_0x8676a7(0xa0a)],_0x2f073e);return this[_0x8676a7(0x8e7)]['set'](_0x256f62,_0x34e31b),this[_0x8676a7(0xa9e)][_0x8676a7(0x4d4)][_0x8676a7(0x642)](_0x34e31b),_0x34e31b;}async[_0x2358f4(0x39a)](_0x15be0b,_0x549030,_0x42e1f){const _0x1c7045=_0x2358f4;if(this[_0x1c7045(0x7b0)][_0x1c7045(0x3d0)](_0x15be0b))throw new _0x5af266(_0x3412d7[_0x1c7045(0x844)],'Database\x20already\x20exists');try{const _0x4c6e7a=this[_0x1c7045(0xa9e)][_0x1c7045(0x4d4)][_0x1c7045(0x47d)][_0x1c7045(0x767)](this['configs'][_0x1c7045(0x4d4)]),_0x17765c=new _0x3b885e(this[_0x1c7045(0xa9e)][_0x1c7045(0x68a)],_0x15be0b,this[_0x1c7045(0xa9e)]['clusterId'],this[_0x1c7045(0xa9e)][_0x1c7045(0xa0a)],_0x549030,_0x42e1f,_0x4c6e7a);return this[_0x1c7045(0x7b0)][_0x1c7045(0x851)](_0x15be0b,_0x17765c),this[_0x1c7045(0xa9e)][_0x1c7045(0x4d4)][_0x1c7045(0x642)](_0x17765c),_0x17765c;}catch(_0x26c66c){if(_0x26c66c instanceof _0x5af266)throw _0x26c66c;throw new _0x45bad0(_0x45bad0[_0x1c7045(0x297)][_0x1c7045(0x62f)],{'label':_0x15be0b,'clusterId':this[_0x1c7045(0xa9e)][_0x1c7045(0x667)],'vendorId':this[_0x1c7045(0xa9e)][_0x1c7045(0xa0a)]});}}async['createJobDispatcher'](_0x6f0d2a,_0x5d2c24){const _0x13fc33=_0x2358f4;if(this[_0x13fc33(0x4a4)][_0x13fc33(0x3d0)](_0x6f0d2a))throw new _0x5af266(_0x3412d7['JobDispatcherAlreadyExists'],'Job\x20Dispatcher\x20already\x20exists');try{const _0x1b592a=new _0x24285e(this[_0x13fc33(0xa9e)][_0x13fc33(0x68a)],_0x6f0d2a,_0x5d2c24);return this[_0x13fc33(0x4a4)][_0x13fc33(0x851)](_0x6f0d2a,_0x1b592a),this[_0x13fc33(0xa9e)][_0x13fc33(0x4d4)][_0x13fc33(0x642)](_0x1b592a),_0x1b592a;}catch(_0x49e956){if(_0x49e956 instanceof _0x5af266)throw _0x49e956;throw new _0x45bad0(_0x45bad0['codes'][_0x13fc33(0x86a)],{'label':_0x6f0d2a,'clusterId':this['configs'][_0x13fc33(0x667)],'vendorId':this['configs'][_0x13fc33(0xa0a)]});}}async[_0x2358f4(0x403)](_0x15a932,_0x3c6182){const _0x54ae03=_0x2358f4;if(this['jobDispatchers'][_0x54ae03(0x3d0)](_0x15a932))throw new _0x5af266(_0x3412d7[_0x54ae03(0x927)],_0x54ae03(0x3a3));if(this['jobWorkers'][_0x54ae03(0x3d0)](_0x15a932))throw new _0x5af266(_0x3412d7[_0x54ae03(0x93e)],_0x54ae03(0x1c2));try{const _0x24ac38=new _0x63c561(this[_0x54ae03(0xa9e)][_0x54ae03(0x68a)],_0x15a932,this[_0x54ae03(0xa9e)][_0x54ae03(0xa0a)],_0x3c6182);return this[_0x54ae03(0x4a4)][_0x54ae03(0x851)](_0x15a932,_0x24ac38),this[_0x54ae03(0xa9e)][_0x54ae03(0x4d4)][_0x54ae03(0x642)](_0x24ac38),_0x24ac38;}catch(_0x19f156){if(_0x19f156 instanceof _0x5af266)throw _0x19f156;throw new _0x45bad0(_0x45bad0['codes'][_0x54ae03(0x5e6)],{'label':_0x15a932,'clusterId':this[_0x54ae03(0xa9e)][_0x54ae03(0x667)],'vendorId':this[_0x54ae03(0xa9e)]['vendorId']});}}async[_0x2358f4(0xa7a)](_0x33ca03,_0x543274,_0x5aa24d,_0x6d453a,_0x36dd68,_0x122164){const _0x184e42=_0x2358f4;if(this[_0x184e42(0x200)][_0x184e42(0x3d0)](_0x33ca03))throw new _0x5af266(_0x3412d7[_0x184e42(0x591)],_0x184e42(0x4a2));if(this[_0x184e42(0x4a4)][_0x184e42(0x3d0)](_0x33ca03))throw new _0x5af266(_0x3412d7[_0x184e42(0x93e)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x89f715=new _0x3d32be(this[_0x184e42(0xa9e)]['localNode'],_0x33ca03,this[_0x184e42(0xa9e)][_0x184e42(0xa0a)],_0x543274,this,_0x5aa24d,_0x6d453a,_0x36dd68,this[_0x184e42(0x9d7)],_0x122164);return this[_0x184e42(0x200)][_0x184e42(0x851)](_0x33ca03,_0x89f715),this['configs'][_0x184e42(0x4d4)][_0x184e42(0x642)](_0x89f715),_0x89f715;}catch(_0x44bda1){if(_0x44bda1 instanceof _0x5af266)throw _0x44bda1;throw new _0x45bad0(_0x45bad0[_0x184e42(0x297)]['GenerativeAIWorkerCreationFailed'],{'label':_0x33ca03,'clusterId':this[_0x184e42(0xa9e)][_0x184e42(0x667)],'vendorId':this[_0x184e42(0xa9e)][_0x184e42(0xa0a)]});}}[_0x2358f4(0x811)](_0x163958,_0x55cec6){const _0x299d8d=_0x2358f4;if(this[_0x299d8d(0x94d)][_0x299d8d(0x3d0)](_0x163958))throw new _0x5af266(_0x3412d7[_0x299d8d(0x406)],_0x299d8d(0x6fb));try{const _0x4e49f0=new _0x507c38(this['configs'][_0x299d8d(0x68a)],_0x163958,this[_0x299d8d(0xa9e)][_0x299d8d(0x667)],this[_0x299d8d(0xa9e)][_0x299d8d(0xa0a)],_0x55cec6);return this[_0x299d8d(0x94d)][_0x299d8d(0x851)](_0x163958,_0x4e49f0),this[_0x299d8d(0xa9e)][_0x299d8d(0x4d4)][_0x299d8d(0x642)](_0x4e49f0),_0x4e49f0;}catch(_0x2ac46b){if(_0x2ac46b instanceof _0x5af266)throw _0x2ac46b;throw new _0x45bad0(_0x45bad0['codes'][_0x299d8d(0x5a2)],{'label':_0x163958,'clusterId':this[_0x299d8d(0xa9e)][_0x299d8d(0x667)],'vendorId':this[_0x299d8d(0xa9e)][_0x299d8d(0xa0a)]});}}[_0x2358f4(0x68f)](_0x2e38b9,_0x440665){const _0x1f3ec5=_0x2358f4;if(this[_0x1f3ec5(0x6b9)]['has'](_0x2e38b9))throw new _0x5af266(_0x3412d7[_0x1f3ec5(0x8f8)],_0x1f3ec5(0x78d));if(!this[_0x1f3ec5(0x56f)]['audioContext'])throw new _0x5af266(_0x3412d7[_0x1f3ec5(0x63b)],_0x1f3ec5(0x5c5));const _0x25e02b=new _0x313fe0(this[_0x1f3ec5(0xa9e)]['localNode'],_0x2e38b9,_0x440665,this[_0x1f3ec5(0x56f)][_0x1f3ec5(0x290)],this['options'][_0x1f3ec5(0x830)],this[_0x1f3ec5(0xa9e)][_0x1f3ec5(0x667)]);return this[_0x1f3ec5(0x6b9)][_0x1f3ec5(0x851)](_0x2e38b9,_0x25e02b),this['configs'][_0x1f3ec5(0x4d4)][_0x1f3ec5(0x642)](_0x25e02b),_0x25e02b[_0x1f3ec5(0x727)](),_0x25e02b;}[_0x2358f4(0x912)](_0x51fbee,_0x334f1c){const _0x15e725=_0x2358f4;if(this[_0x15e725(0x6b9)][_0x15e725(0x3d0)](_0x51fbee))throw new _0x5af266(_0x3412d7[_0x15e725(0x8f8)],_0x15e725(0x6fe));const _0x5399e0=new _0xa25cb9(this[_0x15e725(0xa9e)][_0x15e725(0x68a)],_0x51fbee,_0x334f1c,this[_0x15e725(0xa9e)][_0x15e725(0x667)]);return this['localMediaStreams'][_0x15e725(0x851)](_0x51fbee,_0x5399e0),this[_0x15e725(0xa9e)]['mediator'][_0x15e725(0x642)](_0x5399e0),_0x5399e0[_0x15e725(0x727)](),_0x5399e0;}[_0x2358f4(0x4ba)](_0x225683){const _0x194e7a=_0x2358f4;if(this[_0x194e7a(0x5de)]['has'](_0x225683))throw new _0x5af266(_0x3412d7[_0x194e7a(0x476)],_0x194e7a(0x852));const _0x306e91=new _0x38bf7d(this[_0x194e7a(0xa9e)]['localNode'],_0x225683,this[_0x194e7a(0xa9e)]['clusterId']);return this[_0x194e7a(0x5de)][_0x194e7a(0x851)](_0x225683,_0x306e91),this[_0x194e7a(0xa9e)]['mediator']['registerSystemSource'](_0x306e91),_0x306e91;}[_0x2358f4(0x2fc)](_0x4733ed,_0x1e4447,_0x1e3d10,_0x217892){const _0x290842=_0x2358f4;this[_0x290842(0x7dd)][_0x290842(0x3d0)](_0x4733ed)||this[_0x290842(0x7dd)][_0x290842(0x851)](_0x4733ed,new Map());const _0xbfe348=this[_0x290842(0x7dd)]['get'](_0x4733ed);if(_0xbfe348[_0x290842(0x3d0)](_0x1e4447))throw new _0x5af266(_0x3412d7[_0x290842(0x502)],_0x290842(0x81a));const _0x4709d2=new _0x41256c(_0x4733ed,'',''),_0x35dd90=new _0x40f470(this[_0x290842(0xa9e)]['localNode'],_0x4709d2,_0x1e4447,_0x1e3d10,_0x217892,this['configs'][_0x290842(0x667)]);return _0xbfe348['set'](_0x1e4447,_0x35dd90),this[_0x290842(0xa9e)][_0x290842(0x4d4)][_0x290842(0x642)](_0x35dd90),_0x35dd90;}[_0x2358f4(0x34f)](_0x52ce08,_0x25821b){const _0x3afa54=_0x2358f4;if(this[_0x3afa54(0x1de)]['has'](_0x52ce08))throw new _0x5af266(_0x3412d7[_0x3afa54(0x963)],_0x3afa54(0x6fb));try{const _0x472ff4=new _0x495450(this[_0x3afa54(0xa9e)][_0x3afa54(0x68a)],_0x52ce08,this['configs']['clusterId'],this[_0x3afa54(0xa9e)][_0x3afa54(0xa0a)],_0x25821b);return this[_0x3afa54(0x1de)][_0x3afa54(0x851)](_0x52ce08,_0x472ff4),this['configs']['mediator'][_0x3afa54(0x642)](_0x472ff4),_0x472ff4;}catch(_0x645885){if(_0x645885 instanceof _0x5af266)throw _0x645885;throw new _0x45bad0(_0x45bad0[_0x3afa54(0x297)][_0x3afa54(0x462)],{'label':_0x52ce08,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x3afa54(0xa9e)][_0x3afa54(0xa0a)]});}}[_0x2358f4(0x57a)](_0x11aab9){const _0x5e3258=_0x2358f4,_0x19c3d1=Array['from'](this[_0x5e3258(0x766)][_0x5e3258(0x55b)]());return _0x11aab9?_0x19c3d1[_0x5e3258(0x829)](_0x11aab9):_0x19c3d1;}['getExternalStorageConnections'](_0x23e81d){const _0x5611d5=_0x2358f4,_0x4162fb=Array[_0x5611d5(0x7ed)](this['externalStorageConnections'][_0x5611d5(0x55b)]());return _0x23e81d?_0x4162fb[_0x5611d5(0x829)](_0x23e81d):_0x4162fb;}[_0x2358f4(0x362)](_0x184274){const _0x273f96=_0x2358f4,_0x53932b=Array[_0x273f96(0x7ed)](this[_0x273f96(0x7b0)]['values']());return _0x184274?_0x53932b[_0x273f96(0x829)](_0x184274):_0x53932b;}[_0x2358f4(0x5cb)](_0x950b4){const _0x32901c=_0x2358f4,_0x46d5d4=Array[_0x32901c(0x7ed)](this[_0x32901c(0x4a4)][_0x32901c(0x55b)]());return _0x950b4?_0x46d5d4[_0x32901c(0x829)](_0x950b4):_0x46d5d4;}[_0x2358f4(0x810)](_0x365739){const _0x467ac8=_0x2358f4,_0x5f3e09=Array['from'](this['jobWorkers'][_0x467ac8(0x55b)]());return _0x365739?_0x5f3e09[_0x467ac8(0x829)](_0x365739):_0x5f3e09;}[_0x2358f4(0x1db)](_0x1a1b3d){const _0x4b4343=_0x2358f4,_0x1abcf4=Array[_0x4b4343(0x7ed)](this['jobDispatchers'][_0x4b4343(0x55b)]())[_0x4b4343(0x829)](_0x55a2c2=>_0x55a2c2 instanceof _0x63c561);return _0x1a1b3d?_0x1abcf4['filter'](_0x1a1b3d):_0x1abcf4;}[_0x2358f4(0xa46)](_0x14b7e5){const _0x78d9de=_0x2358f4,_0x40528d=Array[_0x78d9de(0x7ed)](this['jobWorkers'][_0x78d9de(0x55b)]())['filter'](_0x54694b=>_0x54694b instanceof _0x3d32be);return _0x14b7e5?_0x40528d[_0x78d9de(0x829)](_0x14b7e5):_0x40528d;}[_0x2358f4(0x566)](_0x5ca611){const _0x1e5de0=_0x2358f4,_0x5b1d5f=Array[_0x1e5de0(0x7ed)](this[_0x1e5de0(0x94d)][_0x1e5de0(0x55b)]());return _0x5ca611?_0x5b1d5f['filter'](_0x5ca611):_0x5b1d5f;}['getLocalMediaStreams'](_0x2fbeb7){const _0x140987=_0x2358f4,_0x14b4ee=Array[_0x140987(0x7ed)](this[_0x140987(0x6b9)][_0x140987(0x55b)]());return _0x2fbeb7?_0x14b4ee['filter'](_0x2fbeb7):_0x14b4ee;}[_0x2358f4(0x95e)](_0x44757f){const _0x26b5c6=_0x2358f4,_0x52ad5f=Array[_0x26b5c6(0x7ed)](this[_0x26b5c6(0x5de)][_0x26b5c6(0x55b)]());return _0x44757f?_0x52ad5f[_0x26b5c6(0x829)](_0x44757f):_0x52ad5f;}['getRemoteMediaStreams'](_0x1a676f){const _0x5cf619=_0x2358f4,_0x48414b=Array[_0x5cf619(0x7ed)](this['remoteMediaStreams'][_0x5cf619(0x55b)]())[_0x5cf619(0x2fe)]((_0x65d05a,_0x3cc492)=>[..._0x65d05a,...Array[_0x5cf619(0x7ed)](_0x3cc492[_0x5cf619(0x55b)]())],[]);return _0x1a676f?_0x48414b[_0x5cf619(0x829)](_0x1a676f):_0x48414b;}[_0x2358f4(0x8bd)](_0xe0be1d){const _0x3ab072=_0x2358f4,_0x4f5a35=Array['from'](this[_0x3ab072(0x1de)][_0x3ab072(0x55b)]());return _0xe0be1d?_0x4f5a35[_0x3ab072(0x829)](_0xe0be1d):_0x4f5a35;}[_0x2358f4(0x9a6)](_0x16a0a6){const _0x215562=_0x2358f4,_0x4a19ba=this[_0x215562(0x766)][_0x215562(0x879)](_0x16a0a6);if(!_0x4a19ba)throw new _0x5af266(_0x3412d7[_0x215562(0x40c)],_0x215562(0x371));return _0x4a19ba;}['getExternalStorageConnection'](_0x46b2f3){const _0x4051c2=_0x2358f4,_0x25926b=_0x46b2f3['split']('-'),_0x5c2616=this['externalStorageConnections']['get'](_0x25926b[0x1]);if(!_0x5c2616)throw new _0x5af266(_0x3412d7[_0x4051c2(0x393)],_0x4051c2(0x2ff));return _0x5c2616;}['getGraphDatabase'](_0x121fc8){const _0x252161=_0x2358f4,_0x4b244b=this['graphDatabases'][_0x252161(0x879)](_0x121fc8);if(!_0x4b244b)throw new _0x5af266(_0x3412d7['GraphDatabaseDoesNotExist'],_0x252161(0x9d3));return _0x4b244b;}[_0x2358f4(0x9fe)](_0x33b2c1){const _0x24daea=_0x2358f4,_0x3b6128=this[_0x24daea(0x7b0)][_0x24daea(0x879)](_0x33b2c1);if(!_0x3b6128)throw new _0x5af266(_0x3412d7[_0x24daea(0x9fa)],_0x24daea(0x27a));return _0x3b6128;}[_0x2358f4(0x3d2)](_0x4a83df){const _0x152c9e=_0x2358f4,_0x399dc2=this[_0x152c9e(0x5de)][_0x152c9e(0x879)](_0x4a83df);if(!_0x399dc2)throw new _0x5af266(_0x3412d7['PubSubTopicDoesNotExist'],_0x152c9e(0x62c));return _0x399dc2;}[_0x2358f4(0xa09)](_0x54896f){const _0x34b7c8=_0x2358f4,_0x59b5d2=this[_0x34b7c8(0x1de)][_0x34b7c8(0x879)](_0x54896f);if(!_0x59b5d2)throw new _0x5af266(_0x3412d7['VectorDatabaseDoesNotExist'],'VectorDatabase\x20not\x20found');return _0x59b5d2;}[_0x2358f4(0xa0b)](_0x16e180){const _0x19abb9=_0x2358f4;switch(_0x16e180['content'][_0x19abb9(0x5ba)]){case _0x2d88a4['PublishMediaStream']:this[_0x19abb9(0x99c)](_0x16e180[_0x19abb9(0x5d0)]);break;case _0x2d88a4[_0x19abb9(0x326)]:this[_0x19abb9(0x51a)](_0x16e180[_0x19abb9(0x5d0)]);break;case _0x2d88a4[_0x19abb9(0x974)]:this[_0x19abb9(0x713)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4[_0x19abb9(0x9b1)]:this[_0x19abb9(0x2ba)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4[_0x19abb9(0x83a)]:this[_0x19abb9(0x626)](_0x16e180['content'][_0x19abb9(0x2bb)]);break;case _0x2d88a4['ClosePubSubTopic']:this[_0x19abb9(0x79a)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4[_0x19abb9(0x889)]:this[_0x19abb9(0x8b1)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4['CloseExternalStorageConnection']:this['removeExternalStorageConnection'](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4[_0x19abb9(0x901)]:this[_0x19abb9(0x366)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4[_0x19abb9(0x86b)]:this['removeVectorDatabase'](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4[_0x19abb9(0x70a)]:this[_0x19abb9(0x52a)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)]);break;case _0x2d88a4[_0x19abb9(0x245)]:this[_0x19abb9(0x324)](_0x16e180[_0x19abb9(0x5d0)]);break;case _0x2d88a4[_0x19abb9(0x4e4)]:this[_0x19abb9(0x7b0)]['get'](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)])?.[_0x19abb9(0x66b)](_0x16e180['sourceId'],_0x16e180[_0x19abb9(0x5d0)]['mmrRoot']);break;case _0x2d88a4[_0x19abb9(0xa8f)]:this[_0x19abb9(0x7b0)][_0x19abb9(0x879)](_0x16e180[_0x19abb9(0x5d0)]['label'])?.[_0x19abb9(0xa31)](_0x16e180[_0x19abb9(0x240)],_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x3bd)]);break;case _0x2d88a4['KeyValueDatabaseContentAvailable']:this[_0x19abb9(0x7b0)][_0x19abb9(0x879)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)])?.['processContentAvailable'](_0x16e180[_0x19abb9(0x240)],_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x730)]);break;case _0x2d88a4[_0x19abb9(0x953)]:this[_0x19abb9(0x7b0)]['get'](_0x16e180['content'][_0x19abb9(0x2bb)])?.[_0x19abb9(0x5a4)](_0x16e180[_0x19abb9(0x240)],_0x16e180['content'][_0x19abb9(0x24f)]);break;case _0x2d88a4[_0x19abb9(0x198)]:this[_0x19abb9(0x7b0)]['get'](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)])?.['sendTransactionsValue'](_0x16e180[_0x19abb9(0x240)],_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x71d)]);break;case _0x2d88a4[_0x19abb9(0x1a9)]:this[_0x19abb9(0x7b0)][_0x19abb9(0x879)](_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)])?.[_0x19abb9(0x942)](_0x16e180['sourceId'],_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2f4)]);break;case _0x2d88a4[_0x19abb9(0x279)]:this[_0x19abb9(0xa9e)]['mediator'][_0x19abb9(0x3dc)](_0x19abb9(0x635),{'label':_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x2bb)],'trackKinds':_0x16e180[_0x19abb9(0x5d0)][_0x19abb9(0x1e1)]});}}['handleNodeSystemEvents']({content:_0x23be4b}){const _0x3048d8=_0x2358f4;switch(_0x23be4b[_0x3048d8(0x5ba)]){case _0x518128[_0x3048d8(0x796)]:this[_0x3048d8(0x4f3)](_0x23be4b),this[_0x3048d8(0x807)](_0x23be4b);break;case _0x518128[_0x3048d8(0x3ff)]:this[_0x3048d8(0x4f2)](_0x23be4b),this[_0x3048d8(0x5b5)](_0x23be4b);}}[_0x2358f4(0xa01)](_0x41f984){const _0x3d8b31=_0x2358f4;switch(_0x41f984[_0x3d8b31(0x5d0)][_0x3d8b31(0x5ba)]){case _0x4a489a[_0x3d8b31(0x213)]:this['handleSubscribeMediaStream'](_0x41f984[_0x3d8b31(0x240)],_0x41f984[_0x3d8b31(0x5d0)]);break;case _0x4a489a[_0x3d8b31(0x456)]:this['handleUpdateMediaStream'](_0x41f984[_0x3d8b31(0x240)],_0x41f984[_0x3d8b31(0x5d0)]);break;case _0x4a489a[_0x3d8b31(0x245)]:this[_0x3d8b31(0x2fd)](_0x41f984[_0x3d8b31(0x240)],_0x41f984['content']);}}['handleContentUnsubscribeMediaStream'](_0x600190){const _0x4f3f30=_0x2358f4;if(0x0===_0x600190[_0x4f3f30(0x3fd)])this[_0x4f3f30(0x7dd)][_0x4f3f30(0x879)](_0x600190['ownerId'])?.[_0x4f3f30(0x879)](_0x600190[_0x4f3f30(0x2bb)])?.[_0x4f3f30(0x816)]();else{const _0xa3e041=this[_0x4f3f30(0x7dd)][_0x4f3f30(0x879)](_0x600190[_0x4f3f30(0x6b3)])?.['get'](_0x600190[_0x4f3f30(0x2bb)]);if(!_0xa3e041)return;_0x600190[_0x4f3f30(0x1e1)][_0x4f3f30(0x37b)](_0x6126d9=>_0xa3e041[_0x4f3f30(0x24a)](_0x6126d9));}}[_0x2358f4(0x99c)](_0x1b5f5d){const _0x41fe9a=_0x2358f4,{label:_0xe0face,ownerId:_0x20c882,stream:{streamId:_0x140d2e,availableTrackKinds:_0x25aaee}}=_0x1b5f5d;if(this[_0x41fe9a(0x7dd)]['get'](_0x20c882)?.['has'](_0xe0face))return void _0x561d9b[_0x41fe9a(0x870)](_0x577427[_0x41fe9a(0x60f)],_0x41fe9a(0x6fe),_0x140d2e);const _0xa6e4b9=this['createRemoteMediaStream'](_0x20c882,_0xe0face,_0x140d2e,_0x25aaee);this['configs']['mediator'][_0x41fe9a(0x3dc)](_0x41fe9a(0x8a1),{'ownerId':_0x20c882,'stream':_0xa6e4b9});}['handleUnpublishMediaStream']({ownerId:_0x2b0393,label:_0x1e26ea}){const _0x467728=_0x2358f4;this['removeRemoteMediaStream'](_0x2b0393,_0x1e26ea),this['configs'][_0x467728(0x4d4)][_0x467728(0x3dc)](_0x467728(0x268),{'ownerId':_0x2b0393,'label':_0x1e26ea});}[_0x2358f4(0x3e6)](_0x56ddab,_0x227d55){const _0x124b58=_0x2358f4,{ownerId:_0x56ae14,label:_0x39625a}=_0x227d55;let _0x2eb30c;_0x2eb30c=_0x56ae14!==this[_0x124b58(0xa9e)]['localNode']['getId']()?this['remoteMediaStreams']['get'](_0x56ae14)[_0x124b58(0x879)](_0x39625a):this['localMediaStreams']['get'](_0x39625a),_0x2eb30c[_0x124b58(0x1f2)](_0x56ddab,_0x227d55[_0x124b58(0x9cb)])[_0x124b58(0x6f4)](_0x227d55,_0x2eb30c['getPriority']());}[_0x2358f4(0x384)](_0x25df70,_0x3db6f6){const _0x1eca36=_0x2358f4,{ownerId:_0x14867d,label:_0x34e236}=_0x3db6f6;let _0x513f37;_0x513f37=_0x14867d!==this[_0x1eca36(0xa9e)]['localNode'][_0x1eca36(0x7b4)]()?this[_0x1eca36(0x7dd)][_0x1eca36(0x879)](_0x14867d)[_0x1eca36(0x879)](_0x34e236):this[_0x1eca36(0x6b9)][_0x1eca36(0x879)](_0x34e236),_0x513f37['getShareableStream'](_0x25df70,_0x3db6f6['params'])['update'](_0x3db6f6);}[_0x2358f4(0x2fd)](_0x2671a4,_0x35b105){const _0x4be1e5=_0x2358f4,{ownerId:_0x527deb,label:_0x4e0099}=_0x35b105;let _0x33a253;_0x33a253=_0x527deb!==this['configs'][_0x4be1e5(0x68a)][_0x4be1e5(0x7b4)]()?this[_0x4be1e5(0x7dd)]['get'](_0x527deb)['get'](_0x4e0099):this[_0x4be1e5(0x6b9)][_0x4be1e5(0x879)](_0x4e0099),_0x33a253[_0x4be1e5(0x1f2)](_0x2671a4)[_0x4be1e5(0x353)](_0x35b105);}[_0x2358f4(0x4f3)]({id:_0x57a2de}){const _0xe02f67=_0x2358f4;this[_0xe02f67(0x467)]()[_0xe02f67(0x37b)](_0x463580=>{const _0x28cb5a=_0xe02f67;_0x463580[_0x28cb5a(0x727)](_0x57a2de);});}[_0x2358f4(0x4f2)]({id:_0x4b0e5b}){const _0x470a67=_0x2358f4;this[_0x470a67(0x802)](_0x389fda=>_0x389fda[_0x470a67(0x779)]()===_0x4b0e5b)[_0x470a67(0x37b)](_0xadfb25=>{const _0x332ce5=_0x470a67;this[_0x332ce5(0x757)](_0xadfb25['getOwnerId'](),_0xadfb25[_0x332ce5(0x674)]());});}[_0x2358f4(0x807)]({id:_0xc3de10}){const _0x5131ab=_0x2358f4;this[_0x5131ab(0x766)][_0x5131ab(0x37b)](_0x2c237a=>_0x2c237a[_0x5131ab(0x2d7)](_0xc3de10));}[_0x2358f4(0x5b5)]({id:_0x3ab1ee}){const _0x2f7d81=_0x2358f4;this['objectStores']['forEach'](_0x38435b=>_0x38435b[_0x2f7d81(0x4f2)](_0x3ab1ee));}['removeJobDispatcher'](_0x2a8f53){const _0x3b702c=_0x2358f4;if(!this[_0x3b702c(0x4a4)][_0x3b702c(0x3d0)](_0x2a8f53))throw new _0x5af266(_0x3412d7[_0x3b702c(0x2a0)],_0x3b702c(0x1f0));const _0x31f4c8=this['jobDispatchers'][_0x3b702c(0x879)](_0x2a8f53);this[_0x3b702c(0x4a4)][_0x3b702c(0x6e6)](_0x2a8f53),_0x31f4c8[_0x3b702c(0x816)](),this[_0x3b702c(0xa9e)][_0x3b702c(0x4d4)][_0x3b702c(0x32c)](_0x31f4c8);}['removeJobWorker'](_0x27a950){const _0x6e4cd2=_0x2358f4;if(!this[_0x6e4cd2(0x200)][_0x6e4cd2(0x3d0)](_0x27a950))throw new _0x5af266(_0x3412d7[_0x6e4cd2(0x7cb)],_0x6e4cd2(0x9b3));const _0x19fef1=this[_0x6e4cd2(0x200)]['get'](_0x27a950);this[_0x6e4cd2(0x200)][_0x6e4cd2(0x6e6)](_0x27a950),_0x19fef1['destroy'](),this['configs'][_0x6e4cd2(0x4d4)][_0x6e4cd2(0x32c)](_0x19fef1);}[_0x2358f4(0x8b1)](_0x39eaf3){const _0xbc9e3=_0x2358f4;if(!this[_0xbc9e3(0x766)]['has'](_0x39eaf3))throw new _0x5af266(_0x3412d7[_0xbc9e3(0x40c)],_0xbc9e3(0x7ff));const _0xe0f199=this[_0xbc9e3(0x766)][_0xbc9e3(0x879)](_0x39eaf3);this[_0xbc9e3(0x766)][_0xbc9e3(0x6e6)](_0x39eaf3),_0xe0f199[_0xbc9e3(0x816)](),this[_0xbc9e3(0xa9e)][_0xbc9e3(0x4d4)][_0xbc9e3(0x32c)](_0xe0f199);}[_0x2358f4(0x6b0)](_0x3410df){const _0x14bc62=_0x2358f4;if(!this[_0x14bc62(0x8e7)][_0x14bc62(0x3d0)](_0x3410df))throw new _0x5af266(_0x3412d7[_0x14bc62(0x393)],_0x14bc62(0x7a3));const _0x30e122=this[_0x14bc62(0x8e7)]['get'](_0x3410df);this['externalStorageConnections'][_0x14bc62(0x6e6)](_0x3410df),_0x30e122[_0x14bc62(0x816)](),this['configs'][_0x14bc62(0x4d4)]['unregisterSystemSource'](_0x30e122);}[_0x2358f4(0x79a)](_0xda9b6e){const _0x257274=_0x2358f4;if(!this[_0x257274(0x5de)][_0x257274(0x3d0)](_0xda9b6e))throw new _0x5af266(_0x3412d7['PubSubTopicDoesNotExist'],_0x257274(0x7ff));const _0x1d90b6=this[_0x257274(0x5de)]['get'](_0xda9b6e);this[_0x257274(0x5de)]['delete'](_0xda9b6e),_0x1d90b6['destroy'](),this[_0x257274(0xa9e)]['mediator']['unregisterSystemSource'](_0x1d90b6);}[_0x2358f4(0x366)](_0x2a3500){const _0x58c486=_0x2358f4;if(!this[_0x58c486(0x7b0)][_0x58c486(0x3d0)](_0x2a3500))throw new _0x5af266(_0x3412d7['KeyValueDatabaseDoesNotExist'],_0x58c486(0x446));const _0x36a523=this[_0x58c486(0x7b0)]['get'](_0x2a3500);this[_0x58c486(0x7b0)]['delete'](_0x2a3500),_0x36a523['destroy'](),this[_0x58c486(0xa9e)]['mediator'][_0x58c486(0x32c)](_0x36a523);}[_0x2358f4(0x559)](_0x3ac622){const _0x1ff93c=_0x2358f4;if(!this[_0x1ff93c(0x1de)]['has'](_0x3ac622))throw new _0x5af266(_0x3412d7[_0x1ff93c(0x1ce)],'Database\x20does\x20not\x20exist');const _0x12e822=this[_0x1ff93c(0x1de)]['get'](_0x3ac622);this[_0x1ff93c(0x1de)][_0x1ff93c(0x6e6)](_0x3ac622),_0x12e822[_0x1ff93c(0x816)](),this[_0x1ff93c(0xa9e)][_0x1ff93c(0x4d4)][_0x1ff93c(0x32c)](_0x12e822);}[_0x2358f4(0x52a)](_0x15cbb2){const _0x193dc0=_0x2358f4;if(!this['graphDatabases'][_0x193dc0(0x3d0)](_0x15cbb2))throw new _0x5af266(_0x3412d7[_0x193dc0(0x5d3)],'Database\x20does\x20not\x20exist');const _0x52ef7a=this[_0x193dc0(0x94d)]['get'](_0x15cbb2);this[_0x193dc0(0x94d)][_0x193dc0(0x6e6)](_0x15cbb2),_0x52ef7a[_0x193dc0(0x816)](),this[_0x193dc0(0xa9e)][_0x193dc0(0x4d4)][_0x193dc0(0x32c)](_0x52ef7a);}['removeLocalMediaStream'](_0x424dd6){const _0xb8a9e8=_0x2358f4;if(!this[_0xb8a9e8(0x6b9)][_0xb8a9e8(0x3d0)](_0x424dd6))throw new _0x45bad0(_0x45bad0['codes']['LocalMediaStreamDoesNotExist'],{'label':_0x424dd6,'localId':this[_0xb8a9e8(0xa9e)][_0xb8a9e8(0x68a)]['getId']()});const _0x502a50=this[_0xb8a9e8(0x6b9)][_0xb8a9e8(0x879)](_0x424dd6);this[_0xb8a9e8(0xa9e)][_0xb8a9e8(0x4d4)][_0xb8a9e8(0x32c)](_0x502a50),_0x502a50[_0xb8a9e8(0x816)](),this[_0xb8a9e8(0x6b9)][_0xb8a9e8(0x6e6)](_0x424dd6);}[_0x2358f4(0x757)](_0x4342e0,_0x5a3ad0){const _0x5a9d19=_0x2358f4;if(!this['remoteMediaStreams']['has'](_0x4342e0))throw new _0x45bad0(_0x45bad0[_0x5a9d19(0x297)][_0x5a9d19(0x969)],{'nodeId':_0x4342e0,'localId':this[_0x5a9d19(0xa9e)][_0x5a9d19(0x68a)][_0x5a9d19(0x7b4)]()});const _0x3a9ba3=this[_0x5a9d19(0x7dd)][_0x5a9d19(0x879)](_0x4342e0);if(!_0x3a9ba3['has'](_0x5a3ad0))throw new _0x45bad0(_0x45bad0['codes']['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x4342e0,'label':_0x5a3ad0,'localId':this[_0x5a9d19(0xa9e)][_0x5a9d19(0x68a)]['getId']()});const _0x2716c8=_0x3a9ba3['get'](_0x5a3ad0);this['configs']['mediator'][_0x5a9d19(0x32c)](_0x2716c8),_0x2716c8['destroy'](),_0x3a9ba3[_0x5a9d19(0x6e6)](_0x5a3ad0);}}var _0x2709d5,_0x52d6b3,_0x10af1f;!function(_0x531fe2){const _0x155fed=_0x2358f4;_0x531fe2[_0x155fed(0x88c)]=_0x155fed(0x550),_0x531fe2[_0x155fed(0x6dc)]=_0x155fed(0xa87),_0x531fe2[_0x155fed(0x3d1)]='time_per_frame',_0x531fe2['Bitrate']=_0x155fed(0x7a2),_0x531fe2[_0x155fed(0x4c8)]=_0x155fed(0x6e2),_0x531fe2[_0x155fed(0x92b)]='fps',_0x531fe2[_0x155fed(0x7d0)]=_0x155fed(0x6a4),_0x531fe2[_0x155fed(0x5d1)]=_0x155fed(0x9e4);}(_0x2709d5||(_0x2709d5={})),function(_0x4a99ff){const _0x12cf65=_0x2358f4;_0x4a99ff[_0x12cf65(0x228)]=_0x12cf65(0x4d5),_0x4a99ff[_0x12cf65(0x3d1)]=_0x12cf65(0x6d1),_0x4a99ff['AudioVideoDelay']=_0x12cf65(0x50e),_0x4a99ff[_0x12cf65(0x92b)]='cpu.fps',_0x4a99ff[_0x12cf65(0x789)]=_0x12cf65(0x5ee),_0x4a99ff[_0x12cf65(0x4c8)]=_0x12cf65(0x45c),_0x4a99ff[_0x12cf65(0x7d0)]=_0x12cf65(0x840);}(_0x52d6b3||(_0x52d6b3={})),function(_0x307e06){const _0x4c6cd4=_0x2358f4;_0x307e06[_0x307e06['Problem']=0x0]=_0x4c6cd4(0x325);}(_0x10af1f||(_0x10af1f={}));const _0x3e4674=[{'type':_0x2709d5[_0x2358f4(0x88c)],'reportMetric':_0x17843b=>_0x17843b[_0x2358f4(0x88c)],'maxThreshold':2.5},{'type':_0x2709d5[_0x2358f4(0x6dc)],'reportMetric':_0x4466d0=>_0x4466d0[_0x2358f4(0x6dc)],'maxThreshold':0.5}],_0x5dd78c=[{'type':_0x2709d5[_0x2358f4(0x3d1)],'reportMetric':_0x597ec4=>{const _0x1c69b7=_0x2358f4,_0xf6aef1=0x3e8/_0x597ec4[_0x1c69b7(0x4ee)];return _0x597ec4[_0x1c69b7(0x41a)]/_0xf6aef1;},'maxThreshold':0.75},{'type':_0x2709d5[_0x2358f4(0x789)],'reportMetric':_0x3e9ba4=>{const _0x4bddf2=_0x2358f4,_0x32bca9=_0x3e9ba4[_0x4bddf2(0x4ee)]*_0x3e9ba4[_0x4bddf2(0xa3e)]*_0x3e9ba4[_0x4bddf2(0x5bc)]*0.12;return _0x3e9ba4[_0x4bddf2(0x7a2)]/_0x32bca9;},'minThreshold':0.25},{'type':_0x2709d5[_0x2358f4(0x4c8)],'reportMetric':_0x5c5929=>_0x5c5929['jitter'],'maxThreshold':0.6},{'type':_0x2709d5[_0x2358f4(0x92b)],'reportMetric':_0x2659dc=>_0x2659dc[_0x2358f4(0x4ee)],'minThreshold':0xa}],_0x240a01=[{'type':_0x2709d5[_0x2358f4(0x4c8)],'reportMetric':_0x47ddb2=>_0x47ddb2['jitter'],'maxThreshold':0.6}],_0x16596f=[{'type':_0x2709d5[_0x2358f4(0x7d0)],'reportMetric':_0x2cfb98=>_0x2cfb98[_0x2358f4(0x5ef)],'maxThreshold':0x1/0x0}],_0x134634=[{'type':_0x2709d5['AudioVideoDelay'],'reportMetric':_0x2f35af=>_0x2f35af[_0x2358f4(0x5d1)],'maxThreshold':0x12c}],_0x2e4a40=[{'type':_0x52d6b3[_0x2358f4(0x228)],'issues':[{'type':_0x2709d5[_0x2358f4(0x88c)],'threshold':0x5},{'type':_0x2709d5[_0x2358f4(0x6dc)],'threshold':0x5}]},{'type':_0x52d6b3[_0x2358f4(0x3d1)],'issues':[{'type':_0x2709d5['TimePerFrame'],'threshold':0x3}]},{'type':_0x52d6b3['AudioVideoDelay'],'issues':[{'type':_0x2709d5['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x52d6b3[_0x2358f4(0x92b)],'issues':[{'type':_0x2709d5[_0x2358f4(0x92b)],'threshold':0x3}]},{'type':_0x52d6b3[_0x2358f4(0x789)],'issues':[{'type':_0x2709d5['Bitrate'],'threshold':0x3}]},{'type':_0x52d6b3[_0x2358f4(0x4c8)],'issues':[{'type':_0x2709d5[_0x2358f4(0x4c8)],'threshold':0x3}]},{'type':_0x52d6b3[_0x2358f4(0x7d0)],'issues':[{'type':_0x2709d5['RoundTripTime'],'threshold':0x3}]}];var _0x53aac7,_0x1bfd80;!function(_0x1a725f){const _0x1cb6a5=_0x2358f4;_0x1a725f[_0x1a725f['StreamReport']=0x0]=_0x1cb6a5(0x6ed),_0x1a725f[_0x1a725f[_0x1cb6a5(0x5e0)]=0x1]=_0x1cb6a5(0x5e0);}(_0x53aac7||(_0x53aac7={}));class _0x53c80e{[_0x2358f4(0xa9e)];[_0x2358f4(0x881)]=[];[_0x2358f4(0x80f)];constructor(_0x3d98a1){const _0x3ca2a3=_0x2358f4;this[_0x3ca2a3(0xa9e)]=_0x3d98a1,this[_0x3ca2a3(0xa9e)][_0x3ca2a3(0x4d4)][_0x3ca2a3(0x642)](this);}[_0x2358f4(0x823)](_0x22cb98){const _0x34338a=_0x2358f4;this[_0x34338a(0x80f)]=_0x22cb98;}[_0x2358f4(0xa7d)](){const _0x51d65d=_0x2358f4;this[_0x51d65d(0x80f)]=void 0x0;}[_0x2358f4(0x951)](){const _0x402dbb=_0x2358f4;this[_0x402dbb(0xa9e)][_0x402dbb(0x4d4)]['unregisterSystemSource'](this),this[_0x402dbb(0x881)]=[];}[_0x2358f4(0x569)](_0x407c2b){const _0x5be90e=_0x2358f4;switch(_0x407c2b['content']['type']){case _0x53aac7['LocalReport']:this[_0x5be90e(0x5ea)](_0x407c2b[_0x5be90e(0x5d0)][_0x5be90e(0x562)]);break;case _0x53aac7['StreamReport']:this['detectStreamIssues'](_0x407c2b[_0x5be90e(0x5d0)]['data']);}}['detectProblems'](_0x561b4c,_0x883f12,_0x2da4f6,_0x441dff){const _0x1aa319=_0x2358f4,_0x1942e3=_0x2e4a40['find'](_0x49f195=>_0x49f195[_0x1aa319(0x881)][_0x1aa319(0x9ec)](_0x325323=>_0x325323[_0x1aa319(0x5ba)]===_0x561b4c));_0x441dff>=_0x1942e3[_0x1aa319(0x881)][_0x1aa319(0x7c6)](_0x520139=>_0x520139['type']===_0x561b4c)['threshold']&&(this['addProblem'](_0x1942e3[_0x1aa319(0x5ba)],_0x883f12,_0x2da4f6),this[_0x1aa319(0x881)]=this['issues'][_0x1aa319(0x829)](_0x203667=>!(_0x203667[_0x1aa319(0x5ba)]===_0x561b4c&&_0x203667[_0x1aa319(0x6bc)]===_0x883f12&&_0x203667[_0x1aa319(0xa85)]===_0x2da4f6)));}[_0x2358f4(0x5ea)](_0x508a76){const _0x202dd5=_0x2358f4;_0x3e4674[_0x202dd5(0x37b)](_0x4cb856=>{const _0x245990=_0x202dd5,_0xed6549=_0x4cb856[_0x245990(0x2eb)](_0x508a76);_0x4cb856[_0x245990(0x351)]&&_0xed6549>_0x4cb856[_0x245990(0x351)]&&this['addIssue'](_0x4cb856[_0x245990(0x5ba)],this['configs'][_0x245990(0x68a)][_0x245990(0x7b4)](),_0x24afe6[_0x245990(0x399)],_0xed6549),_0x4cb856[_0x245990(0x234)]&&_0xed6549<_0x4cb856[_0x245990(0x234)]&&this['addIssue'](_0x4cb856[_0x245990(0x5ba)],this[_0x245990(0xa9e)]['localNode'][_0x245990(0x7b4)](),_0x24afe6[_0x245990(0x399)],_0xed6549);});}[_0x2358f4(0x885)](_0x4f1006){const _0x496662=_0x2358f4;let _0x5bf4fb=[];switch(_0x4f1006[_0x496662(0xa85)]){case _0x24afe6[_0x496662(0x399)]:_0x5bf4fb=_0x16596f;break;case _0x24afe6[_0x496662(0x9ea)]:_0x5bf4fb=_0x134634;}_0x4f1006[_0x496662(0x809)]&&this[_0x496662(0x4fb)](_0x4f1006[_0x496662(0x6bc)],_0x24afe6[_0x496662(0x399)],_0x4f1006[_0x496662(0x809)]),_0x4f1006['audio']&&this[_0x496662(0x711)](_0x4f1006[_0x496662(0x6bc)],_0x24afe6[_0x496662(0x399)],_0x4f1006[_0x496662(0x392)]),_0x5bf4fb[_0x496662(0x37b)](_0x59736b=>{const _0x29e7b4=_0x496662,_0x5eff4c=_0x59736b[_0x29e7b4(0x2eb)](_0x4f1006);_0x59736b[_0x29e7b4(0x351)]&&_0x5eff4c>_0x59736b[_0x29e7b4(0x351)]&&this[_0x29e7b4(0x23f)](_0x59736b[_0x29e7b4(0x5ba)],_0x4f1006[_0x29e7b4(0x6bc)],_0x24afe6[_0x29e7b4(0x399)],_0x5eff4c),_0x59736b['minThreshold']&&_0x5eff4c<_0x59736b['minThreshold']&&this[_0x29e7b4(0x23f)](_0x59736b[_0x29e7b4(0x5ba)],_0x4f1006['nodeId'],_0x24afe6['Sender'],_0x5eff4c);});}['detectVideoIssues'](_0x81f759,_0x401fb4,_0x215aaa){const _0x4ac3d1=_0x2358f4;0x0!==_0x215aaa[_0x4ac3d1(0x7a2)]&&_0x5dd78c[_0x4ac3d1(0x37b)](_0x40e544=>{const _0x356ba3=_0x4ac3d1,_0x27d0cd=_0x40e544[_0x356ba3(0x2eb)](_0x215aaa);_0x40e544[_0x356ba3(0x351)]&&_0x27d0cd>_0x40e544[_0x356ba3(0x351)]&&this['addIssue'](_0x40e544['type'],_0x81f759,_0x401fb4,_0x27d0cd,_0x356ba3(0x809)),_0x40e544[_0x356ba3(0x234)]&&_0x27d0cd<_0x40e544[_0x356ba3(0x234)]&&this[_0x356ba3(0x23f)](_0x40e544[_0x356ba3(0x5ba)],_0x81f759,_0x401fb4,_0x27d0cd,_0x356ba3(0x809));});}[_0x2358f4(0x711)](_0x2c5ab6,_0x36f270,_0x4244c7){const _0x5ec736=_0x2358f4;0x0!==_0x4244c7[_0x5ec736(0x7a2)]&&_0x240a01[_0x5ec736(0x37b)](_0xaa8427=>{const _0x4d57af=_0x5ec736,_0x3a165e=_0xaa8427[_0x4d57af(0x2eb)](_0x4244c7);_0xaa8427[_0x4d57af(0x351)]&&_0x3a165e>_0xaa8427[_0x4d57af(0x351)]&&this[_0x4d57af(0x23f)](_0xaa8427[_0x4d57af(0x5ba)],_0x2c5ab6,_0x36f270,_0x3a165e,_0x4d57af(0x392)),_0xaa8427['minThreshold']&&_0x3a165e<_0xaa8427[_0x4d57af(0x234)]&&this[_0x4d57af(0x23f)](_0xaa8427[_0x4d57af(0x5ba)],_0x2c5ab6,_0x36f270,_0x3a165e,_0x4d57af(0x392));});}['addIssue'](_0x58e195,_0x396b0f,_0x272244,_0x2441fe,_0x367f29){const _0x3fc7fa=_0x2358f4;_0x561d9b['log'](_0x577427[_0x3fc7fa(0x241)],_0x3fc7fa(0xa14)+_0x58e195,_0x58e195,_0x2441fe),_0x561d9b[_0x3fc7fa(0x890)](_0x3fc7fa(0x1a3),{'clusterId':this[_0x3fc7fa(0xa9e)][_0x3fc7fa(0x667)],'nodeId':this[_0x3fc7fa(0xa9e)][_0x3fc7fa(0x68a)][_0x3fc7fa(0x7b4)](),'nodeType':this['configs'][_0x3fc7fa(0x68a)][_0x3fc7fa(0x5ba)],'remoteId':_0x396b0f,'data':{'type':_0x58e195,'value':_0x2441fe,'kind':_0x367f29}}),this[_0x3fc7fa(0x881)]=this[_0x3fc7fa(0x881)]['filter'](_0x2c89ca=>Date[_0x3fc7fa(0x58d)]()-_0x2c89ca[_0x3fc7fa(0x5e2)]<0x7530),this[_0x3fc7fa(0x881)]['push']({'timestamp':Date[_0x3fc7fa(0x58d)](),'type':_0x58e195,'nodeId':_0x396b0f,'origin':_0x272244,'value':_0x2441fe,'kind':_0x367f29});const _0x147da5=this[_0x3fc7fa(0x881)][_0x3fc7fa(0x829)](_0x5d3f24=>_0x5d3f24[_0x3fc7fa(0x5ba)]===_0x58e195&&_0x5d3f24['nodeId']===_0x396b0f&&_0x5d3f24[_0x3fc7fa(0xa85)]===_0x272244)[_0x3fc7fa(0x87a)];this[_0x3fc7fa(0x92a)](_0x58e195,_0x396b0f,_0x272244,_0x147da5);}[_0x2358f4(0x4b8)](_0xc1902b,_0x54566b,_0x51c392){const _0x4f22df=_0x2358f4;_0x561d9b[_0x4f22df(0x870)](_0x577427[_0x4f22df(0x241)],'Problem\x20detected:\x20'+_0xc1902b),_0x561d9b[_0x4f22df(0x890)](_0x4f22df(0x88f),{'clusterId':this[_0x4f22df(0xa9e)][_0x4f22df(0x667)],'nodeId':this[_0x4f22df(0xa9e)]['localNode'][_0x4f22df(0x7b4)](),'nodeType':this['configs'][_0x4f22df(0x68a)][_0x4f22df(0x5ba)],'remoteId':_0x54566b,'data':{'type':_0xc1902b}}),this[_0x4f22df(0x80f)]?.[_0x4f22df(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2['Detection'],'content':{'type':_0x10af1f['Problem'],'data':{'timestamp':Date[_0x4f22df(0x58d)](),'nodeId':_0x54566b,'origin':_0x24afe6[_0x4f22df(0x399)],'type':_0xc1902b}}});}}class _0x42503f extends _0x58e7e1{[_0x2358f4(0x5ba)]=_0x4ab575['NodeType'][_0x2358f4(0x461)];}class _0x140e92 extends _0x42503f{['systemTopic'];['currentVersion']=Date['now']();[_0x2358f4(0xa78)];['lastUpdated'];[_0x2358f4(0x951)](){const _0x133efd=_0x2358f4;this['updateDebounceTimeout']&&(clearTimeout(this[_0x133efd(0xa78)]),delete this[_0x133efd(0xa78)]),delete this[_0x133efd(0x31b)],this['currentVersion']=Date[_0x133efd(0x58d)](),super[_0x133efd(0x951)]();}[_0x2358f4(0x823)](_0x455b4b){const _0x20e4be=_0x2358f4;this[_0x20e4be(0x80f)]=_0x455b4b;}[_0x2358f4(0xa7d)](){const _0x1b31ab=_0x2358f4;delete this[_0x1b31ab(0x80f)];}[_0x2358f4(0x3b8)](_0x5cb47c){const _0x4d0e2e=_0x2358f4;!this['updateDebounceTimeout']&&this[_0x4d0e2e(0x238)]&&this[_0x4d0e2e(0x80f)][_0x4d0e2e(0x727)]({'sourceId':this['id'],'destinationIds':[_0x5cb47c],'propagate':!0x0,'messageType':_0x479af2[_0x4d0e2e(0x201)],'content':{'type':_0x518128[_0x4d0e2e(0x46f)],'id':this['id'],'metaData':{'type':this[_0x4d0e2e(0x5ba)]},'rank':this[_0x4d0e2e(0x413)](),'remoteConnections':Array[_0x4d0e2e(0x7ed)](this['remoteConnections']),'version':this[_0x4d0e2e(0x82f)]}});}[_0x2358f4(0x9b0)](_0x12a31c){const _0x2fa7fd=_0x2358f4;this[_0x2fa7fd(0x5da)][_0x2fa7fd(0x3d0)](_0x12a31c)||(this['remoteConnections'][_0x2fa7fd(0x845)](_0x12a31c),this['incrementVersion'](),this[_0x2fa7fd(0x8bc)](!0x0));}[_0x2358f4(0x590)](_0x58dfa9){const _0x56a56e=_0x2358f4;this[_0x56a56e(0x5da)][_0x56a56e(0x3d0)](_0x58dfa9)&&(this[_0x56a56e(0x5da)]['delete'](_0x58dfa9),this[_0x56a56e(0x4f7)](),this[_0x56a56e(0x8bc)](!0x0));}[_0x2358f4(0x4fe)](){const _0x372467=_0x2358f4;return this[_0x372467(0x82f)];}[_0x2358f4(0x7c4)](_0x2385af,_0x1a7cb3=!0x0){const _0x28e3c6=_0x2358f4;this[_0x28e3c6(0x238)]!==_0x2385af&&(this[_0x28e3c6(0x238)]=_0x2385af,_0x1a7cb3&&(this[_0x28e3c6(0x4f7)](),this[_0x28e3c6(0x8bc)]()));}[_0x2358f4(0x4f7)](){const _0x13237b=_0x2358f4;this[_0x13237b(0x82f)]=Date[_0x13237b(0x58d)]();}[_0x2358f4(0x8bc)](_0x5a8e0c=!0x1){const _0x5a6db4=_0x2358f4;if(this[_0x5a6db4(0x238)]){if(this[_0x5a6db4(0x31b)]||(this[_0x5a6db4(0x31b)]=Date[_0x5a6db4(0x58d)]()),this[_0x5a6db4(0xa78)]){if(Date[_0x5a6db4(0x58d)]()-this[_0x5a6db4(0x31b)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x5a6db4(0xa78)]=setTimeout(()=>{const _0x442c45=_0x5a6db4;delete this['lastUpdated'],delete this[_0x442c45(0xa78)],this[_0x442c45(0x80f)][_0x442c45(0x727)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x479af2[_0x442c45(0x201)],'content':{'type':_0x5a8e0c?_0x518128[_0x442c45(0x3c5)]:_0x518128['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x442c45(0x5ba)]},'rank':this[_0x442c45(0x413)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x442c45(0x82f)]}});},0x3e8);}}}class _0x1adf48 extends _0x41256c{[_0x2358f4(0x80f)];[_0x2358f4(0x82f)]=Date[_0x2358f4(0x58d)]();[_0x2358f4(0xa78)];[_0x2358f4(0x31b)];[_0x2358f4(0x951)](){const _0x561a5d=_0x2358f4;this[_0x561a5d(0xa78)]&&(clearTimeout(this[_0x561a5d(0xa78)]),delete this[_0x561a5d(0xa78)]),delete this[_0x561a5d(0x31b)],this[_0x561a5d(0x82f)]=Date['now'](),super[_0x561a5d(0x951)]();}['registerSystemPublisher'](_0x2b9a9b){this['systemTopic']=_0x2b9a9b;}[_0x2358f4(0xa7d)](){const _0x3f88fb=_0x2358f4;delete this[_0x3f88fb(0x80f)];}['answerJoin'](_0x2280e4){const _0x179006=_0x2358f4;!this[_0x179006(0xa78)]&&this[_0x179006(0x238)]&&this[_0x179006(0x80f)][_0x179006(0x727)]({'sourceId':this['id'],'destinationIds':[_0x2280e4],'propagate':!0x0,'messageType':_0x479af2[_0x179006(0x201)],'content':{'type':_0x518128['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x179006(0x5ba)],'displayName':this[_0x179006(0x85b)](),'email':this[_0x179006(0x7e7)]()},'rank':this[_0x179006(0x413)](),'remoteConnections':Array[_0x179006(0x7ed)](this[_0x179006(0x5da)]),'version':this[_0x179006(0x82f)]}});}[_0x2358f4(0x9b0)](_0x559917){const _0x5e00fe=_0x2358f4;this[_0x5e00fe(0x5da)][_0x5e00fe(0x3d0)](_0x559917)||(this[_0x5e00fe(0x5da)][_0x5e00fe(0x845)](_0x559917),this[_0x5e00fe(0x4f7)](),this[_0x5e00fe(0x8bc)](!0x0));}[_0x2358f4(0x590)](_0x246b53){const _0x1ddbb7=_0x2358f4;this[_0x1ddbb7(0x5da)]['has'](_0x246b53)&&(this[_0x1ddbb7(0x5da)][_0x1ddbb7(0x6e6)](_0x246b53),this[_0x1ddbb7(0x4f7)](),this[_0x1ddbb7(0x8bc)](!0x0));}['getCurrentVersion'](){const _0x15d530=_0x2358f4;return this[_0x15d530(0x82f)];}[_0x2358f4(0x2d2)](_0x5ed8ee){const _0x25c648=_0x2358f4;this[_0x25c648(0x49e)]!==_0x5ed8ee&&(this[_0x25c648(0x49e)]=_0x5ed8ee,this['incrementVersion'](),this[_0x25c648(0x8bc)]());}[_0x2358f4(0x26c)](_0x3c7408){const _0xb5d598=_0x2358f4;this['email']!==_0x3c7408&&(this['email']=_0x3c7408,this[_0xb5d598(0x4f7)](),this[_0xb5d598(0x8bc)]());}[_0x2358f4(0x7c4)](_0x4ea573,_0x51a533=!0x0){const _0x3bb77e=_0x2358f4;this[_0x3bb77e(0x238)]!==_0x4ea573&&(this[_0x3bb77e(0x238)]=_0x4ea573,_0x51a533&&(this[_0x3bb77e(0x4f7)](),this[_0x3bb77e(0x8bc)]()));}['incrementVersion'](){const _0x52baaa=_0x2358f4;this[_0x52baaa(0x82f)]=Date[_0x52baaa(0x58d)]();}['publishUserUpdate'](_0x5ea0f9=!0x1){const _0x157634=_0x2358f4;if(this[_0x157634(0x238)]){if(this[_0x157634(0x31b)]||(this[_0x157634(0x31b)]=Date[_0x157634(0x58d)]()),this['updateDebounceTimeout']){if(Date[_0x157634(0x58d)]()-this[_0x157634(0x31b)]>0x2328)return;clearTimeout(this[_0x157634(0xa78)]);}this[_0x157634(0xa78)]=setTimeout(()=>{const _0x169c3d=_0x157634;delete this[_0x169c3d(0x31b)],delete this[_0x169c3d(0xa78)],this['systemTopic'][_0x169c3d(0x727)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x479af2[_0x169c3d(0x201)],'content':{'type':_0x5ea0f9?_0x518128[_0x169c3d(0x3c5)]:_0x518128['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x169c3d(0x5ba)],'displayName':this[_0x169c3d(0x85b)](),'email':this['getEmail']()},'rank':this[_0x169c3d(0x413)](),'remoteConnections':Array[_0x169c3d(0x7ed)](this[_0x169c3d(0x5da)]),'version':this[_0x169c3d(0x82f)]}});},0x3e8);}}}class _0x541832{['id'];[_0x2358f4(0x1cf)];[_0x2358f4(0xa0a)];[_0x2358f4(0x7c8)];['type']=_0x4ab575[_0x2358f4(0x21a)][_0x2358f4(0x461)];[_0x2358f4(0x907)];constructor(_0xfe5858,_0x1be7a8,_0x2c422e,_0x562a37){const _0x35c388=_0x2358f4;this['id']=_0xfe5858,this[_0x35c388(0x1cf)]=_0x1be7a8,this['vendorId']=_0x2c422e,this[_0x35c388(0x7c8)]=_0x562a37;}[_0x2358f4(0x7b4)](){return this['id'];}['onConfigurationChange'](_0x52390f){const _0x4a729a=_0x2358f4,_0x1383da=(0x0,_0x36f88f[_0x4a729a(0x77d)])((0x0,_0x36f88f[_0x4a729a(0x747)])(_0x1eef3c['getFirestore'](),_0x4a729a(0x267)+this[_0x4a729a(0xa0a)]+_0x4a729a(0x20f)+this[_0x4a729a(0x1cf)]),_0x17a482=>{const _0x40771f=_0x4a729a;if(_0x17a482[_0x40771f(0x609)]()){const _0x3fe47c=_0x17a482[_0x40771f(0x562)]();if(this['agentConfig'][_0x40771f(0x5e2)]['isEqual'](_0x3fe47c[_0x40771f(0x5e2)]))return;_0x561d9b[_0x40771f(0x870)](_0x577427['Node'],_0x40771f(0x50f),{'agentId':this['id'],'groupId':this[_0x40771f(0x1cf)],'oldConfig':this[_0x40771f(0x7c8)],'newConfig':_0x3fe47c}),this[_0x40771f(0x7c8)]=_0x3fe47c,_0x52390f();}});return()=>_0x1383da();}['setReportCapacity'](_0x12e1dd){const _0x2fa4fe=_0x2358f4;return this['reportCapacity'](this['groupId'],_0x12e1dd),_0x183111['setInterval'](()=>this[_0x2fa4fe(0x257)](this[_0x2fa4fe(0x1cf)],_0x12e1dd),0x7530);}['getCapacityReport'](){const _0x22b6bf=_0x2358f4;if(!this['lastCapacityReport'])throw new _0x45bad0(_0x45bad0[_0x22b6bf(0x297)][_0x22b6bf(0x5f4)]);return this[_0x22b6bf(0x907)];}async[_0x2358f4(0x257)](_0x29474c,_0xf6a4a){const _0x1e3de0=_0x2358f4,_0x157e50=await _0xf6a4a();this[_0x1e3de0(0x907)]=_0x157e50,await(0x0,_0x36f88f[_0x1e3de0(0xa6b)])((0x0,_0x36f88f[_0x1e3de0(0x42d)])(_0x1eef3c['getFirestore'](),'developers/'+this[_0x1e3de0(0xa0a)]+_0x1e3de0(0x703)),{'agentId':this['id'],'groupId':_0x29474c,'timestamp':(0x0,_0x36f88f[_0x1e3de0(0x914)])(),'capacity':_0x157e50});}}!function(_0x3d54c5){const _0x37b066=_0x2358f4;_0x3d54c5[_0x3d54c5[_0x37b066(0x932)]=0x0]=_0x37b066(0x932),_0x3d54c5[_0x3d54c5[_0x37b066(0x972)]=0x1]=_0x37b066(0x972);}(_0x1bfd80||(_0x1bfd80={}));class _0x3db0bf extends _0x42503f{[_0x2358f4(0x82f)];[_0x2358f4(0x978)]=_0x1bfd80[_0x2358f4(0x932)];[_0x2358f4(0x31b)]=Date['now']();constructor(_0x63bff6,_0x489d81=new Set(),_0x3412ee,_0x8a68b5){super(_0x63bff6,_0x489d81,_0x8a68b5),this['currentVersion']=_0x3412ee;}[_0x2358f4(0x4fe)](){const _0x1e14cf=_0x2358f4;return this[_0x1e14cf(0x82f)];}['getStatus'](){const _0x9778ae=_0x2358f4;return this[_0x9778ae(0x978)];}[_0x2358f4(0x997)](){const _0x3c03e3=_0x2358f4;return this[_0x3c03e3(0x31b)];}['setRank'](_0xa9d70){const _0x46d2f2=_0x2358f4;this[_0x46d2f2(0x238)]!==_0xa9d70&&(this[_0x46d2f2(0x238)]=_0xa9d70,this[_0x46d2f2(0x455)]());}[_0x2358f4(0x538)](_0x2dbf0d){const _0x33408e=_0x2358f4;let _0x54b9b5=!0x1;for(const _0x1e5966 of this[_0x33408e(0x5da)])_0x2dbf0d['includes'](_0x1e5966)||(_0x54b9b5=!0x0,this['remoteConnections']['delete'](_0x1e5966));for(const _0x17a830 of _0x2dbf0d)this[_0x33408e(0x5da)]['has'](_0x17a830)||(_0x54b9b5=!0x0,this[_0x33408e(0x5da)][_0x33408e(0x845)](_0x17a830));_0x54b9b5&&this[_0x33408e(0x455)]();}[_0x2358f4(0xa4c)](_0x2de7fa){const _0x49b6fe=_0x2358f4;this[_0x49b6fe(0x82f)]!==_0x2de7fa&&(this['currentVersion']=_0x2de7fa,this[_0x49b6fe(0x455)]());}[_0x2358f4(0x949)](_0x27ff6b){const _0x46a56f=_0x2358f4;this['status']!==_0x27ff6b&&(this[_0x46a56f(0x978)]=_0x27ff6b,this[_0x46a56f(0x455)](),_0x27ff6b===_0x1bfd80[_0x46a56f(0x972)]&&this['close']());}['updateLastUpdated'](){this['lastUpdated']=Date['now']();}}class _0x74c14a extends _0x41256c{['currentVersion'];[_0x2358f4(0x978)]=_0x1bfd80[_0x2358f4(0x932)];[_0x2358f4(0x31b)]=Date['now']();constructor(_0x1e7fa7,_0x4d8a09,_0x3d102f,_0xd00d07=new Set(),_0x4d9204,_0x4da19f){const _0x3b2ace=_0x2358f4;super(_0x1e7fa7,_0x4d8a09,_0x3d102f,_0xd00d07,_0x4da19f),this[_0x3b2ace(0x82f)]=_0x4d9204;}[_0x2358f4(0x4fe)](){const _0x23f224=_0x2358f4;return this[_0x23f224(0x82f)];}['getStatus'](){const _0x425918=_0x2358f4;return this[_0x425918(0x978)];}[_0x2358f4(0x997)](){const _0x5c1239=_0x2358f4;return this[_0x5c1239(0x31b)];}[_0x2358f4(0x2d2)](_0x393249){const _0x42152f=_0x2358f4;this[_0x42152f(0x49e)]!==_0x393249&&(this[_0x42152f(0x49e)]=_0x393249,this[_0x42152f(0x455)]());}[_0x2358f4(0x26c)](_0x240b77){const _0x15f1ee=_0x2358f4;this['email']!==_0x240b77&&(this[_0x15f1ee(0x2ca)]=_0x240b77,this[_0x15f1ee(0x455)]());}[_0x2358f4(0x7c4)](_0x5c7249){const _0x59a417=_0x2358f4;this[_0x59a417(0x238)]!==_0x5c7249&&(this['rank']=_0x5c7249,this['updateLastUpdated']());}[_0x2358f4(0x538)](_0xdb4404){const _0x4e4972=_0x2358f4;let _0x5abc02=!0x1;for(const _0x38142d of this[_0x4e4972(0x5da)])_0xdb4404[_0x4e4972(0x877)](_0x38142d)||(_0x5abc02=!0x0,this[_0x4e4972(0x5da)][_0x4e4972(0x6e6)](_0x38142d));for(const _0x28022a of _0xdb4404)this['remoteConnections'][_0x4e4972(0x3d0)](_0x28022a)||(_0x5abc02=!0x0,this[_0x4e4972(0x5da)]['add'](_0x28022a));_0x5abc02&&this[_0x4e4972(0x455)]();}[_0x2358f4(0xa4c)](_0x5b4f84){const _0x59b1c1=_0x2358f4;this[_0x59b1c1(0x82f)]!==_0x5b4f84&&(this['currentVersion']=_0x5b4f84,this[_0x59b1c1(0x455)]());}['setStatus'](_0x3e7ec9){const _0x340901=_0x2358f4;this[_0x340901(0x978)]!==_0x3e7ec9&&(this['status']=_0x3e7ec9,this[_0x340901(0x455)](),_0x3e7ec9===_0x1bfd80[_0x340901(0x972)]&&this[_0x340901(0x951)]());}[_0x2358f4(0x455)](){const _0x562c32=_0x2358f4;this['lastUpdated']=Date[_0x562c32(0x58d)]();}}class _0x53a2c0{[_0x2358f4(0xa0a)];[_0x2358f4(0x667)];[_0x2358f4(0x68a)];[_0x2358f4(0x721)];[_0x2358f4(0x196)]=_0x3fc98a();[_0x2358f4(0xa6d)];['childRemovedUnsubscriber'];[_0x2358f4(0xa9b)];[_0x2358f4(0x319)]=!0x1;['clusterKey'];['nodeKey'];constructor(_0x55b3c2,_0xcf42f,_0x222356,_0x101620){const _0x887c1=_0x2358f4;this[_0x887c1(0xa0a)]=_0x55b3c2,this[_0x887c1(0x667)]=_0xcf42f,this[_0x887c1(0x68a)]=_0x222356,this[_0x887c1(0x721)]=_0x101620,this[_0x887c1(0x64d)]=_0x887c1(0x8d0)+this[_0x887c1(0xa0a)]+_0x887c1(0x8d0)+this[_0x887c1(0x667)],this[_0x887c1(0x9e3)]=_0x887c1(0x8d0)+this['vendorId']+'ccc'+this['localNode'][_0x887c1(0x7b4)](),this[_0x887c1(0xa6d)]=(0x0,_0x4c2efe['onValue'])((0x0,_0x4c2efe['ref'])(_0x1eef3c['getDatabase'](),'.info/connected'),_0x83a66e=>{const _0x16a3ea=_0x887c1;!0x0!==_0x83a66e[_0x16a3ea(0x19c)]()?this[_0x16a3ea(0x319)]&&_0x561d9b[_0x16a3ea(0x7b7)](_0x16a3ea(0x352),{'clusterId':this[_0x16a3ea(0x667)],'nodeId':this['localNode'][_0x16a3ea(0x7b4)](),'nodeType':this['localNode'][_0x16a3ea(0x5ba)]}):(this[_0x16a3ea(0x319)]=!0x0,this['setOnDisconnectHandler'](),_0x561d9b[_0x16a3ea(0x444)](_0x16a3ea(0x71b),{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x16a3ea(0x7b4)](),'nodeType':this[_0x16a3ea(0x68a)][_0x16a3ea(0x5ba)]}));});}async[_0x2358f4(0x374)](){const _0x28bafc=_0x2358f4;await this['joinCluster']();const _0x1a5a35=await this[_0x28bafc(0x739)]();return this[_0x28bafc(0x8db)]=(0x0,_0x4c2efe[_0x28bafc(0x482)])((0x0,_0x4c2efe[_0x28bafc(0xa8c)])(_0x1eef3c[_0x28bafc(0x463)](),_0x28bafc(0x2a5)+this['clusterKey']+_0x28bafc(0x654)),_0x5bfcc1=>{const _0x518242=_0x28bafc,_0x4c3c49=_0x5bfcc1[_0x518242(0xa23)];if(!_0x4c3c49)return;const _0x3a06d8=_0x4c3c49[_0x518242(0x4b5)]('ccc'+this[_0x518242(0xa0a)]+'ccc','');this[_0x518242(0x196)]['publish'](_0x3a06d8);}),_0x1a5a35;}async[_0x2358f4(0x951)](){const _0x28d676=_0x2358f4;this[_0x28d676(0x8db)]?.(),delete this[_0x28d676(0x8db)],this[_0x28d676(0xa9b)]?.[_0x28d676(0x3ae)](),delete this[_0x28d676(0xa9b)],this[_0x28d676(0xa6d)]?.(),delete this[_0x28d676(0xa6d)],await(0x0,_0x4c2efe[_0x28d676(0xa17)])((0x0,_0x4c2efe[_0x28d676(0xa8c)])(_0x1eef3c[_0x28d676(0x463)](),_0x28d676(0x2a5)+this[_0x28d676(0x64d)]+'/nodes/'+this[_0x28d676(0x9e3)]));}[_0x2358f4(0x7d7)](_0x1917df){const _0x472b79=_0x2358f4;return this[_0x472b79(0x196)][_0x472b79(0x6f4)](_0x1917df);}async[_0x2358f4(0x739)](){const _0x21efeb=_0x2358f4,_0xd052ba=[],_0x260c3f=await(0x0,_0x4c2efe[_0x21efeb(0x879)])((0x0,_0x4c2efe[_0x21efeb(0xa8c)])(_0x1eef3c[_0x21efeb(0x463)](),_0x21efeb(0x2a5)+this['clusterKey']+_0x21efeb(0x654))),_0x4f289d=[];return _0x260c3f[_0x21efeb(0x37b)](_0x178188=>{const _0x27b518=_0x21efeb,_0x323c53=_0x178188[_0x27b518(0xa23)]?.[_0x27b518(0x4b5)]('ccc'+this[_0x27b518(0xa0a)]+'ccc','');_0x4f289d['push']({'id':_0x323c53,'joinedAt':_0x178188[_0x27b518(0x19c)]()[_0x27b518(0x36e)],'priority':_0x178188[_0x27b518(0x19c)]()[_0x27b518(0xa5d)]});}),_0x4f289d[_0x21efeb(0x96f)]((_0x2d95f0,_0x3ba116)=>_0x2d95f0['joinedAt']===_0x3ba116[_0x21efeb(0x36e)]?_0x2d95f0[_0x21efeb(0xa5d)]-_0x3ba116[_0x21efeb(0xa5d)]:_0x2d95f0[_0x21efeb(0x36e)]-_0x3ba116[_0x21efeb(0x36e)])[_0x21efeb(0x95d)](_0x4f289d['findIndex'](_0x561bca=>_0x561bca['id']===this[_0x21efeb(0x68a)][_0x21efeb(0x7b4)]())),_0x4f289d[_0x21efeb(0x96f)]((_0x129e32,_0xb4b92d)=>_0xb4b92d[_0x21efeb(0x36e)]===_0x129e32[_0x21efeb(0x36e)]?_0xb4b92d[_0x21efeb(0xa5d)]-_0x129e32[_0x21efeb(0xa5d)]:_0xb4b92d['joinedAt']-_0x129e32[_0x21efeb(0x36e)])[_0x21efeb(0x37b)](_0x59f072=>{const _0x5cad85=_0x21efeb;_0xd052ba[_0x5cad85(0x87a)]>=this[_0x5cad85(0x721)]||_0xd052ba['push'](_0x59f072['id']);}),_0x561d9b['logEvent'](_0x21efeb(0x86e),{'clusterId':this[_0x21efeb(0x667)],'nodeId':this[_0x21efeb(0x68a)][_0x21efeb(0x7b4)](),'nodeType':this[_0x21efeb(0x68a)][_0x21efeb(0x5ba)],'data':{'ancestorIds':_0xd052ba,'allNodes':_0x4f289d}}),_0xd052ba;}async[_0x2358f4(0x9c8)](){const _0x319dec=_0x2358f4;await(0x0,_0x4c2efe[_0x319dec(0x851)])((0x0,_0x4c2efe[_0x319dec(0xa8c)])(_0x1eef3c[_0x319dec(0x463)](),_0x319dec(0x2a5)+this[_0x319dec(0x64d)]+_0x319dec(0x9b2)+this[_0x319dec(0x9e3)]),{'joinedAt':(0x0,_0x4c2efe[_0x319dec(0x914)])(),'priority':Math[_0x319dec(0x363)]()});}[_0x2358f4(0x5fc)](){const _0xec574e=_0x2358f4;this[_0xec574e(0xa9b)]&&this['onDisconnectHandler'][_0xec574e(0x3ae)](),this[_0xec574e(0xa9b)]=(0x0,_0x4c2efe[_0xec574e(0x3c9)])((0x0,_0x4c2efe['ref'])(_0x1eef3c[_0xec574e(0x463)](),'clusters/'+this['clusterKey']+_0xec574e(0x9b2)+this[_0xec574e(0x9e3)])),this[_0xec574e(0xa9b)][_0xec574e(0xa17)]();}}class _0x121aff{['configs'];[_0x2358f4(0x310)];[_0x2358f4(0x387)];[_0x2358f4(0x24d)];[_0x2358f4(0x777)];[_0x2358f4(0x7a9)]=[];[_0x2358f4(0x80f)];[_0x2358f4(0x3e4)]=new Map();[_0x2358f4(0x625)];[_0x2358f4(0x64f)];['_isReady'];[_0x2358f4(0x1d6)];[_0x2358f4(0xa06)];[_0x2358f4(0x3f1)];constructor(_0xa6594e,_0x7b2e65){const _0xc73f9c=_0x2358f4;this[_0xc73f9c(0xa9e)]=_0xa6594e,this[_0xc73f9c(0x310)]=_0x7b2e65,this[_0xc73f9c(0x39b)]=new Promise((_0x5a09c7,_0x568d21)=>{const _0xb8f15a=_0xc73f9c;this[_0xb8f15a(0x1d6)]=_0x5a09c7,this[_0xb8f15a(0xa06)]=_0x568d21;}),this[_0xc73f9c(0x24d)]=new _0x53a2c0(this[_0xc73f9c(0xa9e)][_0xc73f9c(0xa0a)],this['configs'][_0xc73f9c(0x667)],this['configs'][_0xc73f9c(0x68a)],this[_0xc73f9c(0x310)][_0xc73f9c(0x499)]()),this['discoveryUnsubscriber']=this[_0xc73f9c(0x24d)][_0xc73f9c(0x7d7)](this[_0xc73f9c(0x9be)]['bind'](this)),this[_0xc73f9c(0xa9e)]['mediator'][_0xc73f9c(0x642)](this['configs'][_0xc73f9c(0x68a)]),this[_0xc73f9c(0xa9e)][_0xc73f9c(0x4d4)][_0xc73f9c(0x642)](this),this[_0xc73f9c(0x387)]=_0x183111['setInterval'](()=>{const _0x4ecdb5=_0xc73f9c,_0x129257=Date[_0x4ecdb5(0x58d)]();this['graphService'][_0x4ecdb5(0x78f)]()['forEach'](_0x2062f5=>{const _0x8be61e=_0x4ecdb5;_0x2062f5[_0x8be61e(0x650)]()===_0x1bfd80[_0x8be61e(0x972)]&&_0x2062f5[_0x8be61e(0x997)]()<_0x129257-0x493e0&&this['graphService'][_0x8be61e(0x7da)](_0x2062f5[_0x8be61e(0x7b4)]());});},0xea60);}async[_0x2358f4(0x1e7)](){const _0x3ebeb5=_0x2358f4;return this[_0x3ebeb5(0x39b)];}async[_0x2358f4(0x47d)](_0x49eb85){return new Promise((_0x344334,_0x8040b6)=>{const _0x5ce574=a0_0x34e5,_0x13f5ee=setTimeout(()=>{const _0x5eff8d=a0_0x34e5;this['graphService'][_0x5eff8d(0xa44)](_0xba9747),_0x8040b6(new Error('Node\x20\x27'+_0x49eb85+_0x5eff8d(0x388)));},0x2710),_0xba9747=()=>{const _0x2937a2=a0_0x34e5;this[_0x2937a2(0x310)][_0x2937a2(0x38a)](_0x49eb85)&&(clearTimeout(_0x13f5ee),_0x344334(!0x0));};_0xba9747(),this['graphService'][_0x5ce574(0x9ae)](_0xba9747);});}[_0x2358f4(0x823)](_0x2285e0){const _0x1fb46c=_0x2358f4;this[_0x1fb46c(0x80f)]=_0x2285e0;}['unregisterSystemPublisher'](){const _0x9e94bd=_0x2358f4;delete this[_0x9e94bd(0x80f)];}[_0x2358f4(0x951)](){const _0x173416=_0x2358f4;this[_0x173416(0x625)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x173416(0x625)]),delete this['lastProcessRank'],this[_0x173416(0xa9e)]['localNode'][_0x173416(0x951)](),this[_0x173416(0x387)](),this[_0x173416(0x777)](),this[_0x173416(0xa9e)][_0x173416(0x4d4)][_0x173416(0x32c)](this[_0x173416(0xa9e)][_0x173416(0x68a)]),this['configs']['mediator'][_0x173416(0x32c)](this),this['discoveryService'][_0x173416(0x951)]();}[_0x2358f4(0xa22)](){const _0x10e513=_0x2358f4;return this[_0x10e513(0x7a9)];}[_0x2358f4(0x4a1)](){const _0x528c84=_0x2358f4;return this[_0x528c84(0xa9e)][_0x528c84(0x68a)][_0x528c84(0x7b4)]();}[_0x2358f4(0x97f)](){const _0x16a24f=_0x2358f4;return this[_0x16a24f(0xa9e)][_0x16a24f(0x68a)];}['getRemoteNodes'](_0x367ca6){const _0x531e60=_0x2358f4,_0x8e33a3=Array[_0x531e60(0x7ed)](this[_0x531e60(0x310)][_0x531e60(0x78f)]()[_0x531e60(0x55b)]())[_0x531e60(0x829)](_0x18b39d=>_0x18b39d[_0x531e60(0x650)]()===_0x1bfd80[_0x531e60(0x932)]);return _0x367ca6?_0x8e33a3[_0x531e60(0x829)](_0x367ca6):_0x8e33a3;}async[_0x2358f4(0x86e)](){const _0x2038c7=_0x2358f4;return this[_0x2038c7(0x7a9)]=await this[_0x2038c7(0x24d)]['join'](),this[_0x2038c7(0x7a9)]['length']<this[_0x2038c7(0x310)][_0x2038c7(0x499)]()&&(this[_0x2038c7(0xa9e)][_0x2038c7(0x68a)][_0x2038c7(0x7c4)](this['ancestors'][_0x2038c7(0x87a)]+0x1),this[_0x2038c7(0x53e)]()),this['ancestors'];}[_0x2358f4(0x8c3)](_0x3b290b,_0x4630ea){const _0xb8ab6d=_0x2358f4,_0x2cadb1=this[_0xb8ab6d(0xa9e)][_0xb8ab6d(0x68a)][_0xb8ab6d(0x3ca)](),_0x1d3e69=new Set(_0x2cadb1),_0x39a44f=Array[_0xb8ab6d(0x7ed)](_0x2cadb1)[_0xb8ab6d(0x829)](_0x416992=>_0x416992!==_0x3b290b)[_0xb8ab6d(0x8d9)](_0x4e9759=>({'id':_0x4e9759,'distance':0x1}));for(;_0x39a44f[_0xb8ab6d(0x87a)]>0x0;){const _0x5dbf4a=_0x39a44f[_0xb8ab6d(0x98a)]();if(!_0x5dbf4a)continue;if(_0x5dbf4a['id']===_0x4630ea)return _0x5dbf4a[_0xb8ab6d(0x73e)];const _0x3b751c=this[_0xb8ab6d(0x310)][_0xb8ab6d(0xa04)](_0x5dbf4a['id']);_0x3b751c&&_0x3b751c[_0xb8ab6d(0x650)]()!==_0x1bfd80[_0xb8ab6d(0x972)]&&_0x3b751c[_0xb8ab6d(0x3ca)]()[_0xb8ab6d(0x37b)](_0x3641ee=>{const _0x1c8ad1=_0xb8ab6d;_0x1d3e69[_0x1c8ad1(0x3d0)](_0x3641ee)||(_0x1d3e69['add'](_0x3641ee),_0x39a44f[_0x1c8ad1(0x397)]({'id':_0x3641ee,'distance':_0x5dbf4a[_0x1c8ad1(0x73e)]+0x1}));});}return-0x1;}[_0x2358f4(0x671)](_0x53ddc1){const _0x1f57d5=_0x2358f4;try{switch(_0x53ddc1[_0x1f57d5(0x5d0)][_0x1f57d5(0x5ba)]){case _0x518128[_0x1f57d5(0x46f)]:case _0x518128['NodeConnectionsUpdate']:this['handleNodeUpdate'](_0x53ddc1['content']),_0x561d9b[_0x1f57d5(0x870)](_0x577427[_0x1f57d5(0x201)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x1f57d5(0xa9e)][_0x1f57d5(0x68a)]['getId']()+',\x20'+_0x53ddc1[_0x1f57d5(0x240)]+'\x27',_0x53ddc1,_0x53ddc1[_0x1f57d5(0x5d0)]);break;case _0x518128['NodeLeave']:this['removeNode'](_0x53ddc1[_0x1f57d5(0x5d0)]['id']),_0x561d9b[_0x1f57d5(0x870)](_0x577427[_0x1f57d5(0x201)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x1f57d5(0xa9e)][_0x1f57d5(0x68a)][_0x1f57d5(0x7b4)]()+',\x20'+_0x53ddc1['sourceId']+'\x27',_0x53ddc1,_0x53ddc1['content']);}}catch(_0x418f1e){if(_0x418f1e instanceof _0x4b95c1)return void _0x561d9b[_0x1f57d5(0x870)](_0x577427['Node'],_0x418f1e[_0x1f57d5(0x71e)]);throw _0x418f1e;}}[_0x2358f4(0x89e)](_0x1106ca){const _0x5d8963=_0x2358f4;switch(_0x1106ca[_0x5d8963(0x5d0)][_0x5d8963(0x5ba)]){case _0x2a5ce9[_0x5d8963(0x867)]:this[_0x5d8963(0x3d4)](_0x1106ca[_0x5d8963(0x240)]),_0x561d9b[_0x5d8963(0x870)](_0x577427[_0x5d8963(0x201)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this['configs']['localNode']['getId']()+',\x20'+_0x1106ca[_0x5d8963(0x240)]+'\x27',_0x1106ca,_0x1106ca[_0x5d8963(0x5d0)]);break;case _0x2a5ce9[_0x5d8963(0xa56)]:this[_0x5d8963(0x896)](_0x1106ca[_0x5d8963(0x240)]),_0x561d9b[_0x5d8963(0x870)](_0x577427['Node'],_0x5d8963(0x36a),this[_0x5d8963(0xa9e)]['localNode'][_0x5d8963(0x7b4)](),_0x1106ca,_0x1106ca[_0x5d8963(0x5d0)]);}}[_0x2358f4(0x2d7)](_0x5abe79){const _0x5d2c17=_0x2358f4;this[_0x5d2c17(0x621)](_0x5abe79),this[_0x5d2c17(0x2df)](_0x5abe79);}[_0x2358f4(0x2df)](_0x1ff4fd){const _0x6f1e95=_0x2358f4;this[_0x6f1e95(0xa9e)][_0x6f1e95(0x68a)]['answerJoin'](_0x1ff4fd['id']),this['publishNodeJoin'](_0x1ff4fd['id']),this[_0x6f1e95(0x7d1)](_0x1ff4fd);}[_0x2358f4(0x286)](_0x108508){const _0x164f3d=_0x2358f4,{id:_0x4f3e95,metaData:_0x571b05,rank:_0x577d90,remoteConnections:_0x329d38,version:_0x66f0ed}=_0x108508,_0x34030b=this[_0x164f3d(0x310)][_0x164f3d(0xa04)](_0x4f3e95);if(_0x34030b){if(!(_0x66f0ed<=_0x34030b[_0x164f3d(0x4fe)]())){if(_0x34030b[_0x164f3d(0x538)](_0x329d38),_0x34030b[_0x164f3d(0xa4c)](_0x66f0ed),_0x34030b[_0x164f3d(0x5ba)]===_0x4ab575[_0x164f3d(0x21a)][_0x164f3d(0x6ea)]&&_0x571b05['type']===_0x4ab575[_0x164f3d(0x21a)]['User']&&(_0x34030b['setDisplayName'](_0x571b05[_0x164f3d(0x49e)]),_0x34030b['setEmail'](_0x571b05[_0x164f3d(0x2ca)])),_0x577d90&&_0x34030b[_0x164f3d(0x7c4)](_0x577d90),this[_0x164f3d(0xa64)](_0x4f3e95,_0x577d90),_0x34030b[_0x164f3d(0x650)]()===_0x1bfd80['Offline'])return _0x34030b['setStatus'](_0x1bfd80[_0x164f3d(0x932)]),this[_0x164f3d(0x53e)](),void this[_0x164f3d(0x2df)](_0x108508);this[_0x164f3d(0x53e)](),this[_0x164f3d(0x4a5)]({'id':_0x4f3e95,'metaData':_0x571b05,'remoteConnections':_0x329d38,'version':_0x66f0ed});}}else this[_0x164f3d(0x2d7)](_0x108508);}[_0x2358f4(0xa64)](_0x3b5ebb,_0x290119){const _0x1dea5a=_0x2358f4;_0x290119&&this['ancestors'][_0x1dea5a(0x877)](_0x3b5ebb)&&this['configs'][_0x1dea5a(0x68a)][_0x1dea5a(0x7c4)](_0x290119+this[_0x1dea5a(0x7a9)][_0x1dea5a(0x803)](_0x3b5ebb)+0x1);}['handleConnectionSuccess'](_0x409174){const _0x11966a=_0x2358f4;this[_0x11966a(0xa9e)][_0x11966a(0x68a)][_0x11966a(0x9b0)](_0x409174);}[_0x2358f4(0x621)]({id:_0x34f07d,metaData:_0x229644,rank:_0x4099de,remoteConnections:_0x35354f,version:_0x61a8da}){const _0x3eaae9=_0x2358f4;if(this[_0x3eaae9(0x310)][_0x3eaae9(0x38a)](_0x34f07d))throw new _0x4b95c1(_0x3eaae9(0x28b)+_0x34f07d);switch(_0x229644['type']){case _0x4ab575['NodeType'][_0x3eaae9(0x6ea)]:const {displayName:_0x541e9f,email:_0x40d9c7}=_0x229644;this[_0x3eaae9(0x310)][_0x3eaae9(0x472)](_0x34f07d,new _0x74c14a(_0x34f07d,_0x541e9f,_0x40d9c7,new Set(_0x35354f),_0x61a8da,_0x4099de));break;case _0x4ab575[_0x3eaae9(0x21a)][_0x3eaae9(0x461)]:this[_0x3eaae9(0x310)][_0x3eaae9(0x472)](_0x34f07d,new _0x3db0bf(_0x34f07d,new Set(_0x35354f),_0x61a8da,_0x4099de));}const _0x1c9c2d=this['getRemoteNodes'](),_0x28dc59=new Set(this[_0x3eaae9(0x7a9)]);_0x1c9c2d[_0x3eaae9(0x37b)](_0x46d173=>{const _0x313b55=_0x3eaae9;_0x28dc59[_0x313b55(0x3d0)](_0x46d173[_0x313b55(0x7b4)]())&&_0x28dc59[_0x313b55(0x6e6)](_0x46d173[_0x313b55(0x7b4)]());}),0x0===_0x28dc59[_0x3eaae9(0x9dc)]&&this[_0x3eaae9(0x1d6)]&&(this[_0x3eaae9(0x3f1)]&&clearTimeout(this[_0x3eaae9(0x3f1)]),this['readyDebounce']=setTimeout(()=>{const _0x1e948e=_0x3eaae9;this[_0x1e948e(0x1d6)]?.(!0x0),delete this[_0x1e948e(0x1d6)],delete this[_0x1e948e(0xa06)];},0x7d0)),this[_0x3eaae9(0xa64)](_0x34f07d,_0x4099de),this[_0x3eaae9(0x53e)]();}[_0x2358f4(0x941)](_0x468c6a){const _0x39dda0=_0x2358f4;this[_0x39dda0(0x80f)][_0x39dda0(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2['Node'],'content':{'type':_0x518128[_0x39dda0(0x796)],'id':_0x468c6a}});}[_0x2358f4(0x896)](_0x511504){const _0x25fd8e=_0x2358f4;this[_0x25fd8e(0x80f)]?.[_0x25fd8e(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x25fd8e(0x201)],'content':{'type':_0x518128[_0x25fd8e(0x3ff)],'id':_0x511504}});}[_0x2358f4(0x9be)](_0x461ca2){const _0x5c0d1e=_0x2358f4;if(_0x461ca2===this[_0x5c0d1e(0xa9e)]['localNode']['getId']())return this[_0x5c0d1e(0xa9e)][_0x5c0d1e(0x4d4)][_0x5c0d1e(0x3dc)](_0x5c0d1e(0x61c),{'id':_0x461ca2}),this[_0x5c0d1e(0xa9e)][_0x5c0d1e(0x4d4)][_0x5c0d1e(0x951)]({'force':!0x0},!0x0),this[_0x5c0d1e(0xa9e)][_0x5c0d1e(0x4d4)][_0x5c0d1e(0x1ed)](),void this[_0x5c0d1e(0xa9e)][_0x5c0d1e(0x4d4)][_0x5c0d1e(0x81f)]();this[_0x5c0d1e(0x896)](_0x461ca2);}[_0x2358f4(0x26e)](_0xddb858){const _0x31f21c=_0x2358f4;this[_0x31f21c(0x7a9)][_0x31f21c(0x877)](_0xddb858)?this['manageAncestor'](_0xddb858):this[_0x31f21c(0xa9e)][_0x31f21c(0x68a)]['getRemoteConnections']()[_0x31f21c(0x3d0)](_0xddb858)&&this['manageOptimization'](_0xddb858),this[_0x31f21c(0xa9e)][_0x31f21c(0x68a)][_0x31f21c(0x590)](_0xddb858);const _0x2b902f=Array['from'](this['optimizationLayers'][_0x31f21c(0x1c6)]())[_0x31f21c(0x7c6)](([,_0x45e0ac])=>_0x45e0ac==_0x45e0ac);_0x2b902f&&this[_0x31f21c(0x3e4)]['delete'](_0x2b902f[0x0]);const _0x4c260a=this[_0x31f21c(0x310)]['getRemoteNode'](_0xddb858);if(!_0x4c260a)return;const _0x42c1e0=_0x4c260a[_0x31f21c(0x413)](),_0x3f1647=this['configs'][_0x31f21c(0x68a)][_0x31f21c(0x413)]();_0x3f1647&&_0x42c1e0&&_0x42c1e0<_0x3f1647&&this[_0x31f21c(0xa9e)][_0x31f21c(0x68a)][_0x31f21c(0x7c4)](_0x3f1647-0x1,!0x1),Array[_0x31f21c(0x7ed)](this[_0x31f21c(0x310)][_0x31f21c(0x78f)]()[_0x31f21c(0x55b)]())[_0x31f21c(0x37b)](_0x492bd6=>{const _0x443c8f=_0x31f21c,_0x849ed9=_0x492bd6[_0x443c8f(0x413)]();_0x849ed9&&_0x42c1e0&&_0x42c1e0<_0x849ed9&&_0x492bd6['setRank'](_0x849ed9-0x1);}),_0x4c260a['setStatus'](_0x1bfd80[_0x31f21c(0x972)]),this['configs'][_0x31f21c(0x4d4)]['notifyCluster'](_0x4c260a[_0x31f21c(0x5ba)]+'-leave',{'id':_0xddb858});}[_0x2358f4(0x7d1)]({id:_0x4e50dc,metaData:_0x1ee6c4,remoteConnections:_0x322521}){const _0x1a8a0e=_0x2358f4;switch(_0x1ee6c4[_0x1a8a0e(0x5ba)]){case _0x4ab575['NodeType']['User']:this[_0x1a8a0e(0xa9e)][_0x1a8a0e(0x4d4)][_0x1a8a0e(0x3dc)](_0x1a8a0e(0x346),{'id':_0x4e50dc,'metaData':_0x1ee6c4,'remoteConnections':_0x322521});break;case _0x4ab575['NodeType'][_0x1a8a0e(0x461)]:this[_0x1a8a0e(0xa9e)][_0x1a8a0e(0x4d4)][_0x1a8a0e(0x3dc)]('agent-join',{'id':_0x4e50dc,'metaData':_0x1ee6c4,'remoteConnections':_0x322521});}}[_0x2358f4(0x4a5)]({id:_0x569527,metaData:_0x1cec56,remoteConnections:_0x6a4303}){const _0xa7285a=_0x2358f4;switch(_0x1cec56[_0xa7285a(0x5ba)]){case _0x4ab575[_0xa7285a(0x21a)]['User']:this[_0xa7285a(0xa9e)][_0xa7285a(0x4d4)][_0xa7285a(0x3dc)](_0xa7285a(0x866),{'id':_0x569527,'metaData':_0x1cec56,'remoteConnections':_0x6a4303});break;case _0x4ab575[_0xa7285a(0x21a)]['Agent']:this[_0xa7285a(0xa9e)]['mediator']['notifyCluster'](_0xa7285a(0xa30),{'id':_0x569527,'metaData':_0x1cec56,'remoteConnections':_0x6a4303});}}[_0x2358f4(0x53e)](){const _0x1f1a7f=_0x2358f4;if(this['lastProcessRank']||(this['lastProcessRank']=Date[_0x1f1a7f(0x58d)]()),this[_0x1f1a7f(0x625)]){if(Date[_0x1f1a7f(0x58d)]()-this[_0x1f1a7f(0x64f)]>0x2328)return;clearTimeout(this[_0x1f1a7f(0x625)]);}this[_0x1f1a7f(0x625)]=setTimeout(async()=>{const _0xc7d9eb=_0x1f1a7f;delete this[_0xc7d9eb(0x64f)],delete this['debounceProcessRank'];const _0x190911=this['configs'][_0xc7d9eb(0x68a)]['getRank']();if(!_0x190911)return;const _0xbef3c3=this['graphService']['getCurrentMaxLayer'](this[_0xc7d9eb(0x310)][_0xc7d9eb(0x78f)]()['size']);if(this[_0xc7d9eb(0x3e4)]['size']>=_0xbef3c3)return;let _0x5ef73e=0x1;for(;this[_0xc7d9eb(0xa9e)][_0xc7d9eb(0x4d4)][_0xc7d9eb(0x315)]()[_0xc7d9eb(0x87a)]<this[_0xc7d9eb(0x310)]['getMaxConnections']()&&_0x5ef73e<=_0xbef3c3;){if(this[_0xc7d9eb(0x3e4)][_0xc7d9eb(0x3d0)](_0x5ef73e)){_0x5ef73e+=0x1;continue;}const _0x2c2f0c=this['graphService'][_0xc7d9eb(0x8a2)](_0x190911,_0x5ef73e),_0x4080a5=Array[_0xc7d9eb(0x7ed)](this[_0xc7d9eb(0x310)][_0xc7d9eb(0x78f)]()['values']())[_0xc7d9eb(0x7c6)](_0x565e7c=>_0x565e7c[_0xc7d9eb(0x413)]()===_0x2c2f0c&&_0x565e7c['getStatus']()===_0x1bfd80['Online']);if(_0x4080a5){try{await this['configs'][_0xc7d9eb(0x4d4)]['createConnection'](_0x4080a5[_0xc7d9eb(0x7b4)](),_0x4f417c[_0xc7d9eb(0x9d9)]),this['optimizationLayers'][_0xc7d9eb(0x851)](_0x5ef73e,_0x4080a5[_0xc7d9eb(0x7b4)]());}catch(_0x4c21e3){if(!(_0x4c21e3 instanceof _0x45bad0&&_0x4c21e3['code']===_0x45bad0[_0xc7d9eb(0x297)][_0xc7d9eb(0x795)]))throw _0x4c21e3;_0x561d9b[_0xc7d9eb(0x870)](_0x577427[_0xc7d9eb(0x201)],this[_0xc7d9eb(0xa9e)]['localNode'][_0xc7d9eb(0x7b4)](),_0x4080a5['getId'](),_0x4c21e3[_0xc7d9eb(0x71e)]);}_0x5ef73e+=0x1;}else _0x5ef73e+=0x1;}},0x3e8);}async['manageAncestor'](_0x2a4865){const _0x3fb20a=_0x2358f4;this[_0x3fb20a(0x7a9)][_0x3fb20a(0x95d)](this[_0x3fb20a(0x7a9)]['indexOf'](_0x2a4865),0x1);const _0x671e7d=await this[_0x3fb20a(0x24d)][_0x3fb20a(0x739)]();for(const _0x4307ad of _0x671e7d)if(!this[_0x3fb20a(0x7a9)][_0x3fb20a(0x877)](_0x4307ad)){const _0x2d531d=Array[_0x3fb20a(0x7ed)](this[_0x3fb20a(0x3e4)][_0x3fb20a(0x1c6)]())[_0x3fb20a(0x7c6)](([,_0x44f799])=>_0x44f799===_0x4307ad);_0x2d531d&&this[_0x3fb20a(0x3e4)][_0x3fb20a(0x6e6)](_0x2d531d[0x0]),this[_0x3fb20a(0xa9e)][_0x3fb20a(0x4d4)][_0x3fb20a(0x7fe)](_0x4307ad,_0x4f417c[_0x3fb20a(0x876)]);}0x0===_0x671e7d[_0x3fb20a(0x87a)]&&this[_0x3fb20a(0xa9e)][_0x3fb20a(0x68a)]['setRank'](0x1),this[_0x3fb20a(0x7a9)]=_0x671e7d;}async[_0x2358f4(0x9c5)](_0x4a4ff9){const _0x4e2f4c=_0x2358f4,_0x4a6a25=this['configs']['localNode'][_0x4e2f4c(0x413)]();if(!_0x4a6a25)return;const _0x4d9b06=this[_0x4e2f4c(0x310)][_0x4e2f4c(0xa04)](_0x4a4ff9);if(!_0x4d9b06||_0x4d9b06['getStatus']()===_0x1bfd80[_0x4e2f4c(0x972)])return;const _0x49ba39=_0x4d9b06[_0x4e2f4c(0x413)]();if(!_0x49ba39||_0x49ba39<_0x4a6a25)return;const _0x287521=this[_0x4e2f4c(0xa4a)](this[_0x4e2f4c(0xa9e)]['localNode'][_0x4e2f4c(0x3ca)](),_0x4a6a25),_0x21ac33=this[_0x4e2f4c(0xa4a)](_0x4d9b06['getRemoteConnections'](),_0x49ba39)[_0x287521[_0x4e2f4c(0xa39)](([_0x3ec71b])=>_0x3ec71b===_0x4a4ff9)];if(!_0x21ac33||this['configs'][_0x4e2f4c(0x68a)][_0x4e2f4c(0x3ca)]()[_0x4e2f4c(0x3d0)](_0x21ac33[0x0]))return;const _0x2d2c30=this[_0x4e2f4c(0x310)][_0x4e2f4c(0xa04)](_0x21ac33[0x0]);if(_0x2d2c30&&_0x2d2c30[_0x4e2f4c(0x650)]()!==_0x1bfd80[_0x4e2f4c(0x972)])try{await this['configs'][_0x4e2f4c(0x4d4)][_0x4e2f4c(0x7fe)](_0x21ac33[0x0],_0x4f417c[_0x4e2f4c(0x9d9)]);const _0x7cc201=Array['from'](this[_0x4e2f4c(0x3e4)][_0x4e2f4c(0x1c6)]())[_0x4e2f4c(0x7c6)](([,_0x52eade])=>_0x52eade===_0x4a4ff9);_0x7cc201&&this[_0x4e2f4c(0x3e4)][_0x4e2f4c(0x851)](_0x7cc201[0x0],_0x21ac33[0x0]);}catch(_0x44eb04){if(!(_0x44eb04 instanceof _0x45bad0&&_0x44eb04['code']===_0x45bad0[_0x4e2f4c(0x297)][_0x4e2f4c(0x795)]))throw _0x44eb04;_0x561d9b[_0x4e2f4c(0x870)](_0x577427[_0x4e2f4c(0x201)],this['configs']['localNode'][_0x4e2f4c(0x7b4)](),_0x21ac33[0x0],_0x44eb04[_0x4e2f4c(0x71e)]);}}[_0x2358f4(0xa4a)](_0x3d3edc,_0x3ae9b4){const _0x208628=_0x2358f4;return Array[_0x208628(0x7ed)](_0x3d3edc)['reduce']((_0x44008a,_0x4bbc52)=>{const _0x345ecb=_0x208628,_0x425680=this[_0x345ecb(0x310)][_0x345ecb(0xa04)](_0x4bbc52);if(!_0x425680||_0x425680['getStatus']()===_0x1bfd80[_0x345ecb(0x972)])return _0x44008a;const _0x18a6eb=_0x425680[_0x345ecb(0x413)]();if(!_0x18a6eb)return _0x44008a;const _0x2aabfb=_0x18a6eb-_0x3ae9b4;return _0x2aabfb<=this[_0x345ecb(0x310)]['getMinConnections']()||_0x44008a[_0x345ecb(0x397)]([_0x4bbc52,_0x2aabfb]),_0x44008a;},[])['sort'](([,_0x349928],[,_0x50fb0b])=>_0x349928-_0x50fb0b);}}const _0x24e104=[{'problemType':_0x52d6b3['CPUCycle'],'remediations':[{'type':_0x2e1292[_0x2358f4(0x6c3)],'component':_0x3896a0[_0x2358f4(0x492)],'action':_0x14c2b7[_0x2358f4(0x50c)]},{'type':_0x2e1292[_0x2358f4(0x745)],'component':_0x3896a0[_0x2358f4(0x492)],'action':_0x14c2b7[_0x2358f4(0x50c)]}]},{'problemType':_0x52d6b3[_0x2358f4(0x3d1)],'remediations':[{'type':_0x2e1292['Remediation'],'component':_0x3896a0['Resolution'],'action':_0x14c2b7[_0x2358f4(0x50c)]}]},{'problemType':_0x52d6b3['AudioVideoDelay'],'remediations':[{'type':_0x2e1292[_0x2358f4(0x6c3)],'component':_0x3896a0[_0x2358f4(0x492)],'action':_0x14c2b7[_0x2358f4(0x50c)]}]},{'problemType':_0x52d6b3[_0x2358f4(0x92b)],'remediations':[{'type':_0x2e1292[_0x2358f4(0x6c3)],'component':_0x3896a0['Resolution'],'action':_0x14c2b7['Downgrade']}]},{'problemType':_0x52d6b3[_0x2358f4(0x789)],'remediations':[{'type':_0x2e1292[_0x2358f4(0x6c3)],'component':_0x3896a0[_0x2358f4(0x789)],'action':_0x14c2b7['Downgrade']}]},{'problemType':_0x52d6b3['Jitter'],'remediations':[{'type':_0x2e1292['Remediation'],'component':_0x3896a0[_0x2358f4(0x789)],'action':_0x14c2b7[_0x2358f4(0x50c)]}]},{'problemType':_0x52d6b3[_0x2358f4(0x7d0)],'remediations':[{'type':_0x2e1292[_0x2358f4(0x6c3)],'component':_0x3896a0[_0x2358f4(0x789)],'action':_0x14c2b7[_0x2358f4(0x50c)]}]}];class _0x1bfc4f{[_0x2358f4(0xa9e)];[_0x2358f4(0x80f)];[_0x2358f4(0xa2f)]=new Map();constructor(_0x2f1a54){const _0x4a43c4=_0x2358f4;this[_0x4a43c4(0xa9e)]=_0x2f1a54,this[_0x4a43c4(0xa9e)][_0x4a43c4(0x4d4)][_0x4a43c4(0x642)](this);}[_0x2358f4(0x951)](){const _0x3a2faf=_0x2358f4;this[_0x3a2faf(0xa9e)]['mediator'][_0x3a2faf(0x32c)](this);}[_0x2358f4(0x823)](_0x51ef9f){const _0x488a33=_0x2358f4;this[_0x488a33(0x80f)]=_0x51ef9f;}[_0x2358f4(0xa7d)](){const _0x2b8266=_0x2358f4;delete this[_0x2b8266(0x80f)];}[_0x2358f4(0x3a6)](_0x57930c){const _0x2c229a=_0x2358f4;_0x57930c['content'][_0x2c229a(0x5ba)]===_0x10af1f[_0x2c229a(0x325)]&&this[_0x2c229a(0x4e5)](_0x57930c[_0x2c229a(0x5d0)][_0x2c229a(0x562)]);}[_0x2358f4(0xa3f)](_0x845f04){const _0x5c87f6=_0x2358f4;_0x845f04[_0x5c87f6(0x5d0)]['type']===_0x2e1292[_0x5c87f6(0x745)]&&this[_0x5c87f6(0x284)](_0x845f04[_0x5c87f6(0x240)],{'type':_0x2e1292[_0x5c87f6(0x6c3)],'component':_0x845f04['content'][_0x5c87f6(0x562)][_0x5c87f6(0x429)],'action':_0x845f04[_0x5c87f6(0x5d0)][_0x5c87f6(0x562)]['action']});}[_0x2358f4(0x4e5)](_0x5760ae){const _0x296838=_0x2358f4,_0x55a6a0=_0x24e104[_0x296838(0x7c6)](_0x15ae4f=>_0x15ae4f[_0x296838(0x4e2)]===_0x5760ae[_0x296838(0x5ba)]);_0x55a6a0[_0x296838(0x8bb)]?.[_0x296838(0x37b)](_0x512006=>{const _0x139dcd=_0x296838;this[_0x139dcd(0x284)](_0x5760ae[_0x139dcd(0x6bc)],{'type':_0x5760ae[_0x139dcd(0xa85)]===_0x24afe6[_0x139dcd(0x399)]?_0x2e1292[_0x139dcd(0x6c3)]:_0x2e1292[_0x139dcd(0x745)],'component':_0x512006[_0x139dcd(0x429)],'action':_0x512006['action']});});}[_0x2358f4(0x284)](_0xb241b3,_0x314233){const _0x20a0ec=_0x2358f4;if(_0x314233['type']===_0x2e1292[_0x20a0ec(0x6c3)]){const _0xfa6e1f=Date[_0x20a0ec(0x58d)](),_0x1b9a73=this[_0x20a0ec(0xa2f)][_0x20a0ec(0x879)](_0xb241b3);if(_0x1b9a73&&_0xfa6e1f-_0x1b9a73<0x1388)return;this[_0x20a0ec(0xa2f)][_0x20a0ec(0x851)](_0xb241b3,_0xfa6e1f);}_0x561d9b[_0x20a0ec(0x870)](_0x577427[_0x20a0ec(0x6c3)],'Apply\x20remediation',_0x314233),_0x561d9b[_0x20a0ec(0x890)](_0x20a0ec(0x75d),{'clusterId':this[_0x20a0ec(0xa9e)]['clusterId'],'nodeId':this[_0x20a0ec(0xa9e)][_0x20a0ec(0x68a)][_0x20a0ec(0x7b4)](),'nodeType':this[_0x20a0ec(0xa9e)]['localNode'][_0x20a0ec(0x5ba)],'remoteId':_0xb241b3,'data':{'type':_0x314233['type'],'component':_0x314233['component'],'action':_0x314233[_0x20a0ec(0x553)]}});let _0x11be80,_0x4bb9cd=_0x48ff0f;_0x314233[_0x20a0ec(0x5ba)]===_0x2e1292[_0x20a0ec(0x745)]&&(_0x4bb9cd=this[_0x20a0ec(0xa9e)][_0x20a0ec(0x68a)][_0x20a0ec(0x7b4)](),_0x11be80=[_0xb241b3]),this['systemTopic']['publish']({'sourceId':_0x4bb9cd,'destinationIds':_0x11be80,'messageType':_0x479af2[_0x20a0ec(0x6c3)],'content':{'type':_0x314233[_0x20a0ec(0x5ba)],'targetId':_0xb241b3,'data':_0x314233}});}}const _0x42e675=0x3e8,_0x162ef1=0x7530,_0x451ac=_0x2358f4(0x96d),_0x33ee81=_0x2358f4(0x5ac),_0x5490b7=_0x2358f4(0x75e),_0x5af82b=[_0x451ac,_0x33ee81],_0x17be02=[_0x5490b7];class _0x1334b5{[_0x2358f4(0x5ef)]=0x0;[_0x2358f4(0x19e)]=0x0;[_0x2358f4(0x6e2)]=0x0;['packetsLost']=0x0;[_0x2358f4(0xa42)]=0x0;[_0x2358f4(0x26a)]=0x0;[_0x2358f4(0x514)]=0x0;[_0x2358f4(0x715)]=0x0;[_0x2358f4(0x5f9)]=0x0;get[_0x2358f4(0x7a2)](){const _0x49c891=_0x2358f4;return this[_0x49c891(0x26a)]>0x0&&this[_0x49c891(0x514)]>0x0&&Date[_0x49c891(0x58d)]()-this[_0x49c891(0x26a)]<_0x162ef1?(this[_0x49c891(0x715)]-this[_0x49c891(0x5f9)])/(this[_0x49c891(0x26a)]-this[_0x49c891(0x514)])*0x8*0x3e8:0x0;}['processReport'](_0x267e53){const _0x14aae2=_0x2358f4;switch(_0x267e53[_0x14aae2(0x5ba)]){case _0x5490b7:this[_0x14aae2(0x19f)](_0x267e53);break;case _0x451ac:this[_0x14aae2(0x662)](_0x267e53);break;case _0x33ee81:this[_0x14aae2(0x742)](_0x267e53);}}[_0x2358f4(0x41e)](){const _0x3c1951=_0x2358f4;return{'bitrate':this[_0x3c1951(0x7a2)],'packetsLostPerc':this[_0x3c1951(0x783)](),'roundTripTime':this[_0x3c1951(0x5ef)],'jitter':this['jitter']};}['processInboundReport'](_0x1be8ee){const _0x292377=_0x2358f4;this[_0x292377(0x7fb)](_0x1be8ee[_0x292377(0x67e)]),this[_0x292377(0x832)](_0x1be8ee['timestamp']),this[_0x292377(0xa42)]=_0x1be8ee[_0x292377(0x488)],this[_0x292377(0x509)]=_0x1be8ee[_0x292377(0x509)],void 0x0!==_0x1be8ee[_0x292377(0x6e2)]?this[_0x292377(0x6e2)]=_0x1be8ee[_0x292377(0x6e2)]:this[_0x292377(0x6e2)]=0x0,void 0x0!==_0x1be8ee[_0x292377(0x19e)]?this['estimatedPlayoutTimestamp']=_0x1be8ee['estimatedPlayoutTimestamp']:this['estimatedPlayoutTimestamp']=0x0;}[_0x2358f4(0x662)](_0x5eab3a){const _0x16af9f=_0x2358f4;this[_0x16af9f(0x7fb)](_0x5eab3a[_0x16af9f(0x5f3)]),this[_0x16af9f(0x832)](_0x5eab3a['timestamp']),this[_0x16af9f(0xa42)]=_0x5eab3a[_0x16af9f(0x564)];}[_0x2358f4(0x742)](_0x5271f7){const _0x24f665=_0x2358f4;this[_0x24f665(0x5ef)]=0x3e8*_0x5271f7[_0x24f665(0x5ef)],void 0x0!==_0x5271f7[_0x24f665(0x6e2)]?this[_0x24f665(0x6e2)]=_0x5271f7[_0x24f665(0x6e2)]:this[_0x24f665(0x6e2)]=0x0;}['getPacketsLostPerc'](){const _0x30d7ec=_0x2358f4;return this[_0x30d7ec(0xa42)]>0x0?this[_0x30d7ec(0x509)]/this[_0x30d7ec(0xa42)]:0x0;}['setTimestamp'](_0x16e30a){const _0x250833=_0x2358f4;_0x16e30a>this['currentTimestamp']&&(this['previousTimestamp']=this[_0x250833(0x26a)],this['currentTimestamp']=_0x16e30a);}[_0x2358f4(0x7fb)](_0x39307f){const _0x43992a=_0x2358f4;this[_0x43992a(0x5f9)]=this[_0x43992a(0x715)],this['currentBytes']=_0x39307f;}}class _0xf428b1 extends _0x1334b5{}class _0x5bae35 extends _0x1334b5{['frameTime']=0x0;[_0x2358f4(0xa3e)]=0x0;[_0x2358f4(0x5bc)]=0x0;[_0x2358f4(0x91a)]=0x0;[_0x2358f4(0x3b5)]=0x0;get[_0x2358f4(0x57c)](){const _0x1ca7fd=_0x2358f4;return this[_0x1ca7fd(0x26a)]>0x0&&this[_0x1ca7fd(0x514)]>0x0&&Date[_0x1ca7fd(0x58d)]()-this[_0x1ca7fd(0x26a)]<_0x162ef1?(this[_0x1ca7fd(0x91a)]-this['previousFrames'])/(this['currentTimestamp']-this[_0x1ca7fd(0x514)])*0x3e8:0x0;}get[_0x2358f4(0x41a)](){const _0x1e1920=_0x2358f4;return this[_0x1e1920(0x4cb)]&&this['currentFrames']&&this['currentFrames']>0x0?this[_0x1e1920(0x4cb)]/this[_0x1e1920(0x91a)]:0x0;}set[_0x2358f4(0x868)](_0x226421){const _0x10ba87=_0x2358f4;this['previousFrames']=this[_0x10ba87(0x91a)],this[_0x10ba87(0x91a)]=_0x226421;}['getReport'](){const _0x1559b8=_0x2358f4;return{...super[_0x1559b8(0x41e)](),'FPS':this[_0x1559b8(0x57c)],'timePerFrame':this[_0x1559b8(0x41a)],'frameWidth':this[_0x1559b8(0xa3e)],'frameHeight':this[_0x1559b8(0x5bc)]};}[_0x2358f4(0x19f)](_0xa64140){const _0x4b982c=_0x2358f4;super[_0x4b982c(0x19f)](_0xa64140),this[_0x4b982c(0x4cb)]=_0xa64140[_0x4b982c(0x880)],this[_0x4b982c(0x868)]=_0xa64140[_0x4b982c(0x24c)],this[_0x4b982c(0xa3e)]=_0xa64140[_0x4b982c(0xa3e)],this[_0x4b982c(0x5bc)]=_0xa64140[_0x4b982c(0x5bc)];}[_0x2358f4(0x662)](_0x38f24e){const _0x3375a5=_0x2358f4;super[_0x3375a5(0x662)](_0x38f24e),this[_0x3375a5(0x4cb)]=_0x38f24e[_0x3375a5(0x902)],this[_0x3375a5(0x868)]=_0x38f24e[_0x3375a5(0x2f7)],this[_0x3375a5(0xa3e)]=_0x38f24e[_0x3375a5(0xa3e)],this[_0x3375a5(0x5bc)]=_0x38f24e[_0x3375a5(0x5bc)];}}class _0x1f6f02{[_0x2358f4(0x392)]=new _0xf428b1();[_0x2358f4(0x809)]=new _0x5bae35();get[_0x2358f4(0x7a2)](){const _0x35e6f1=_0x2358f4;return this['audio'][_0x35e6f1(0x7a2)]+this[_0x35e6f1(0x809)]['bitrate'];}[_0x2358f4(0x77f)](_0x22d43e){const _0x3a320a=_0x2358f4;return _0x22d43e[_0x3a320a(0x37b)](_0xdf235d=>{const _0x2d4d91=_0x3a320a;switch(_0xdf235d['kind']){case'audio':this[_0x2d4d91(0x392)][_0x2d4d91(0x632)](_0xdf235d);break;case _0x2d4d91(0x809):this[_0x2d4d91(0x809)]['processReport'](_0xdf235d);}}),this[_0x3a320a(0x41e)]();}[_0x2358f4(0x41e)](){const _0x36adae=_0x2358f4;return{'audio':this[_0x36adae(0x392)][_0x36adae(0x41e)](),'video':this[_0x36adae(0x809)][_0x36adae(0x41e)](),'roundTripTime':this[_0x36adae(0x83d)](),'AudioVideoDelay':this[_0x36adae(0x6ad)](),'bitrate':this['bitrate']};}[_0x2358f4(0x83d)](){const _0x31f4da=_0x2358f4;return Math[_0x31f4da(0x20d)]((this[_0x31f4da(0x392)][_0x31f4da(0x5ef)]+this[_0x31f4da(0x809)]['roundTripTime'])/0x2);}[_0x2358f4(0x6ad)](){const _0x3235e1=_0x2358f4;return this['audio'][_0x3235e1(0x19e)]-this[_0x3235e1(0x809)][_0x3235e1(0x19e)];}}class _0x53f67e{[_0x2358f4(0x1b3)]=0x0;[_0x2358f4(0x20a)]=0x0;[_0x2358f4(0x999)]=0x0;[_0x2358f4(0x34c)]=0x0;[_0x2358f4(0x1a2)]=0x0;[_0x2358f4(0x944)]=0x0;['receiverCurrentBytes']=0x0;[_0x2358f4(0x763)]=0x0;['senderTotalMessages']=0x0;['receiverTotalMessages']=0x0;[_0x2358f4(0x686)]=0x0;[_0x2358f4(0x995)]=0x0;[_0x2358f4(0x5ef)]=0x0;get[_0x2358f4(0x7a2)](){const _0x2cae38=_0x2358f4;return this[_0x2cae38(0x93c)]+this[_0x2cae38(0x8a3)];}get[_0x2358f4(0x93c)](){const _0x2890cc=_0x2358f4;return this[_0x2890cc(0x1b3)]>0x0&&this[_0x2890cc(0x20a)]>0x0&&Date[_0x2890cc(0x58d)]()-this[_0x2890cc(0x1b3)]<_0x162ef1?(this[_0x2890cc(0x1a2)]-this[_0x2890cc(0x944)])/(this[_0x2890cc(0x1b3)]-this[_0x2890cc(0x20a)])*0x8*0x3e8:0x0;}get[_0x2358f4(0x8a3)](){const _0x4847ac=_0x2358f4;return this[_0x4847ac(0x999)]>0x0&&this[_0x4847ac(0x34c)]>0x0&&Date[_0x4847ac(0x58d)]()-this[_0x4847ac(0x999)]<_0x162ef1?(this[_0x4847ac(0x2e7)]-this['receiverPreviousBytes'])/(this[_0x4847ac(0x999)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}[_0x2358f4(0x632)](_0x50aa7e){const _0x4288f3=_0x2358f4;switch(_0x50aa7e[_0x4288f3(0xa85)]){case _0x24afe6[_0x4288f3(0x399)]:this[_0x4288f3(0x3c6)](_0x50aa7e);break;case _0x24afe6[_0x4288f3(0x9ea)]:this[_0x4288f3(0x391)](_0x50aa7e);}}[_0x2358f4(0x41e)](){const _0x21aa2c=_0x2358f4;return{'bitrate':this[_0x21aa2c(0x7a2)],'senderBitrate':this[_0x21aa2c(0x93c)],'receiverBitrate':this[_0x21aa2c(0x8a3)],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x21aa2c(0x776)]+this[_0x21aa2c(0x843)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x21aa2c(0x995)],'senderTimeProcessing':this[_0x21aa2c(0x686)],'receiverTimeProcessing':this[_0x21aa2c(0x995)],'roundTripTime':this['roundTripTime']};}[_0x2358f4(0x412)](){const _0x450cd6=_0x2358f4;return this[_0x450cd6(0x1a2)]+this[_0x450cd6(0x2e7)];}[_0x2358f4(0x97e)](){const _0x17d9a0=_0x2358f4;return this[_0x17d9a0(0x1a2)];}[_0x2358f4(0x554)](){const _0xf80d66=_0x2358f4;return this[_0xf80d66(0x2e7)];}[_0x2358f4(0x3c6)](_0x22993e){const _0x1daf8e=_0x2358f4;this['setSenderTimestamp'](_0x22993e[_0x1daf8e(0x5e2)]),this[_0x1daf8e(0x7fb)](_0x22993e['bytesSent']),this[_0x1daf8e(0x776)]=_0x22993e[_0x1daf8e(0x379)],this[_0x1daf8e(0x686)]=_0x22993e['timeSending'],this[_0x1daf8e(0x5ef)]=_0x22993e[_0x1daf8e(0x5ef)];}['processReceiverReport'](_0xa5b0f6){const _0x42f787=_0x2358f4;this['setReceiverTimestamp'](_0xa5b0f6[_0x42f787(0x5e2)]),this[_0x42f787(0x725)](_0xa5b0f6[_0x42f787(0x67e)]),this['receiverTotalMessages']=_0xa5b0f6['messagesReceived'],this[_0x42f787(0x995)]=_0xa5b0f6[_0x42f787(0x76c)];}[_0x2358f4(0x6cb)](_0x1e66a6){const _0x487673=_0x2358f4;_0x1e66a6>this['senderCurrentTimestamp']&&(this[_0x487673(0x20a)]=this[_0x487673(0x1b3)],this['senderCurrentTimestamp']=_0x1e66a6);}[_0x2358f4(0x7ac)](_0x3d812e){const _0x210317=_0x2358f4;_0x3d812e>this[_0x210317(0x999)]&&(this[_0x210317(0x34c)]=this[_0x210317(0x999)],this[_0x210317(0x999)]=_0x3d812e);}[_0x2358f4(0x7fb)](_0x5055fe){const _0xa1766f=_0x2358f4;this[_0xa1766f(0x944)]=this[_0xa1766f(0x1a2)],this[_0xa1766f(0x1a2)]=_0x5055fe;}[_0x2358f4(0x725)](_0x580e15){const _0xab61d=_0x2358f4;this[_0xab61d(0x763)]=this[_0xab61d(0x2e7)],this['receiverCurrentBytes']=_0x580e15;}}class _0x477472{[_0x2358f4(0x57d)]=new Map();[_0x2358f4(0x501)]=new Map();[_0x2358f4(0x9bc)]=new _0x53f67e();get['senderBitrate'](){const _0x413e6f=_0x2358f4;let _0x5096c5=0x0;return this[_0x413e6f(0x57d)][_0x413e6f(0x37b)](_0x150caf=>{_0x5096c5+=_0x150caf['bitrate'];}),_0x5096c5+=this['dataChannel'][_0x413e6f(0x93c)],_0x5096c5;}get['receiverBitrate'](){const _0x3b5e56=_0x2358f4;let _0x14ce27=0x0;return this[_0x3b5e56(0x501)][_0x3b5e56(0x37b)](_0x34023c=>{const _0x856f23=_0x3b5e56;_0x14ce27+=_0x34023c[_0x856f23(0x7a2)];}),_0x14ce27+=this[_0x3b5e56(0x9bc)]['receiverBitrate'],_0x14ce27;}get[_0x2358f4(0x7a2)](){const _0x500e57=_0x2358f4;return this[_0x500e57(0x93c)]+this[_0x500e57(0x8a3)];}[_0x2358f4(0x77f)](_0x2f7b29,_0x264f56){const _0x287a3b=_0x2358f4,_0x87b1a4=[],_0x241452=[];return _0x2f7b29 instanceof Array?_0x2f7b29['forEach'](_0x57b0c1=>{const _0x341e4a=a0_0x34e5;_0x57b0c1[_0x341e4a(0x37b)](_0x3311a6=>{const _0x1bbbbb=_0x341e4a;_0x17be02['includes'](_0x3311a6[_0x1bbbbb(0x5ba)])&&_0x87b1a4[_0x1bbbbb(0x397)](_0x3311a6),_0x5af82b['includes'](_0x3311a6['type'])&&_0x241452[_0x1bbbbb(0x397)](_0x3311a6);});}):this[_0x287a3b(0x9bc)][_0x287a3b(0x632)](_0x2f7b29),_0x87b1a4[_0x287a3b(0x87a)]>0x0&&_0x264f56?{...this['processInboundReports'](_0x264f56,_0x87b1a4),'origin':_0x24afe6['Receiver'],'streamId':_0x264f56}:_0x241452[_0x287a3b(0x87a)]>0x0&&_0x264f56?{...this[_0x287a3b(0x457)](_0x264f56,_0x241452),'origin':_0x24afe6['Sender'],'streamId':_0x264f56}:void 0x0;}[_0x2358f4(0x41e)](){const _0x7c4e62=_0x2358f4,_0x5bfb07={};this[_0x7c4e62(0x57d)][_0x7c4e62(0x37b)]((_0x41d89f,_0x57d6a3)=>{const _0x5d43f4=_0x7c4e62;_0x5bfb07[_0x57d6a3]=_0x41d89f[_0x5d43f4(0x41e)]();});const _0x331022={};return this['receiverStreams']['forEach']((_0x470187,_0x36fc4e)=>{const _0xe85f93=_0x7c4e62;_0x331022[_0x36fc4e]=_0x470187[_0xe85f93(0x41e)]();}),{'bitrate':this[_0x7c4e62(0x7a2)],'senderBitrate':this[_0x7c4e62(0x93c)],'receiverBitrate':this[_0x7c4e62(0x8a3)],'senderStreams':_0x5bfb07,'receiverStreams':_0x331022,'dataChannel':this['dataChannel'][_0x7c4e62(0x41e)]()};}[_0x2358f4(0xa33)](_0x1532f1,_0x1ceefb){const _0x3b2e47=_0x2358f4;return this['receiverStreams'][_0x3b2e47(0x3d0)](_0x1532f1)||this[_0x3b2e47(0x501)]['set'](_0x1532f1,new _0x1f6f02()),this[_0x3b2e47(0x501)][_0x3b2e47(0x879)](_0x1532f1)[_0x3b2e47(0x77f)](_0x1ceefb);}[_0x2358f4(0x457)](_0x40afb0,_0x436de8){const _0x3a74a5=_0x2358f4;return this['senderStreams'][_0x3a74a5(0x3d0)](_0x40afb0)||this['senderStreams']['set'](_0x40afb0,new _0x1f6f02()),this[_0x3a74a5(0x57d)][_0x3a74a5(0x879)](_0x40afb0)['processReports'](_0x436de8);}}class _0x49b64e{[_0x2358f4(0x8d7)]=new Map();[_0x2358f4(0x54e)]=0x0;[_0x2358f4(0x327)]=0x0;[_0x2358f4(0x1d4)]=new Map();[_0x2358f4(0x766)]=new Map();[_0x2358f4(0x7b0)]=new Map();['generativeAIContexts']=new Map();[_0x2358f4(0x1cc)]=new Map();[_0x2358f4(0x1de)]=new Map();[_0x2358f4(0x94d)]=new Map();[_0x2358f4(0x4df)]=new Map();[_0x2358f4(0x776)]=new Map();[_0x2358f4(0x843)]=new Map();[_0x2358f4(0x686)]=new Map();['receiverTimeProcessing']=new Map();[_0x2358f4(0x342)]=new Map();[_0x2358f4(0x80f)];[_0x2358f4(0x41e)](){const _0x53bd4=_0x2358f4,_0x2f11f2={};this[_0x53bd4(0x8d7)]['forEach']((_0x48c79f,_0x4289ba)=>{const _0x4dcd30=_0x53bd4;_0x2f11f2[_0x4289ba]=_0x48c79f[_0x4dcd30(0x41e)]();});let _0x2932ff=0x0;this['senderTimeProcessing'][_0x53bd4(0x37b)](_0x307121=>{_0x2932ff+=_0x307121;});let _0x7b2173=0x0;this[_0x53bd4(0x995)][_0x53bd4(0x37b)](_0x109c1e=>{_0x7b2173+=_0x109c1e;});const _0x320394=_0x2932ff+_0x7b2173;let _0x17ccb4={'messages':{'total':0x0}};this[_0x53bd4(0x342)]['forEach'](_0x39ba06=>{const _0xf83145=_0x53bd4;Object[_0xf83145(0x535)](_0x39ba06)[_0xf83145(0x37b)](_0x30c22f=>{const _0xf0f601=_0xf83145;_0x17ccb4[_0x30c22f]||(_0x17ccb4[_0x30c22f]={}),Object[_0xf0f601(0x535)](_0x39ba06[_0x30c22f])['forEach'](_0x3bb5a3=>{_0x17ccb4[_0x30c22f][_0x3bb5a3]||(_0x17ccb4[_0x30c22f][_0x3bb5a3]=0x0),_0x17ccb4[_0x30c22f][_0x3bb5a3]+=_0x39ba06[_0x30c22f][_0x3bb5a3];});});});let _0x3cdf0f=0x0,_0x504445=0x0,_0x1a9b86=0x0,_0x3771ec=0x0,_0x3a0ee3=0x0;return this[_0x53bd4(0x1d4)][_0x53bd4(0x37b)](_0x1c2696=>{const _0x526599=_0x53bd4;_0x504445+=_0x1c2696['messagesSent'],_0x1a9b86+=_0x1c2696[_0x526599(0x4e7)],_0x3771ec+=_0x1c2696[_0x526599(0x5f3)],_0x3a0ee3+=_0x1c2696[_0x526599(0x67e)];}),this['objectStores'][_0x53bd4(0x37b)](_0x2ee3c8=>{const _0x45d430=_0x53bd4;_0x3cdf0f+=_0x2ee3c8[_0x45d430(0x3c2)],_0x504445+=_0x2ee3c8[_0x45d430(0x379)],_0x1a9b86+=_0x2ee3c8[_0x45d430(0x4e7)],_0x3771ec+=_0x2ee3c8['bytesSent'],_0x3a0ee3+=_0x2ee3c8[_0x45d430(0x67e)];}),this[_0x53bd4(0x7b0)][_0x53bd4(0x37b)](_0x501cf7=>{const _0x4925ee=_0x53bd4;_0x3cdf0f+=_0x501cf7[_0x4925ee(0x3c2)],_0x504445+=_0x501cf7[_0x4925ee(0x379)],_0x1a9b86+=_0x501cf7['messagesReceived'],_0x3771ec+=_0x501cf7[_0x4925ee(0x5f3)],_0x3a0ee3+=_0x501cf7[_0x4925ee(0x67e)];}),this['generativeAIContexts'][_0x53bd4(0x37b)](_0x40d8d2=>{const _0x233acc=_0x53bd4;_0x3cdf0f+=_0x40d8d2[_0x233acc(0x3c2)],_0x504445+=_0x40d8d2[_0x233acc(0x379)],_0x1a9b86+=_0x40d8d2['messagesReceived'],_0x3771ec+=_0x40d8d2['bytesSent'],_0x3a0ee3+=_0x40d8d2['bytesReceived'];}),this[_0x53bd4(0x1cc)]['forEach'](_0x19d093=>{const _0x2f7778=_0x53bd4;_0x3cdf0f+=_0x19d093['storage'],_0x504445+=_0x19d093[_0x2f7778(0x379)],_0x1a9b86+=_0x19d093[_0x2f7778(0x4e7)],_0x3771ec+=_0x19d093[_0x2f7778(0x5f3)],_0x3a0ee3+=_0x19d093['bytesReceived'];}),this[_0x53bd4(0x1de)]['forEach'](_0x4ad84e=>{const _0x2f0851=_0x53bd4;_0x3cdf0f+=_0x4ad84e[_0x2f0851(0x3c2)],_0x504445+=_0x4ad84e[_0x2f0851(0x379)],_0x1a9b86+=_0x4ad84e[_0x2f0851(0x4e7)],_0x3771ec+=_0x4ad84e[_0x2f0851(0x5f3)],_0x3a0ee3+=_0x4ad84e[_0x2f0851(0x67e)];}),this[_0x53bd4(0x94d)][_0x53bd4(0x37b)](_0x3b7fba=>{const _0x519fdf=_0x53bd4;_0x3cdf0f+=_0x3b7fba['storage'],_0x504445+=_0x3b7fba[_0x519fdf(0x379)],_0x1a9b86+=_0x3b7fba[_0x519fdf(0x4e7)],_0x3771ec+=_0x3b7fba[_0x519fdf(0x5f3)],_0x3a0ee3+=_0x3b7fba[_0x519fdf(0x67e)];}),{'STVolatility':this[_0x53bd4(0x2b0)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x53bd4(0xa73)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x3cdf0f,'totalMessages':_0x504445+_0x1a9b86,'totalMessagesSent':_0x504445,'totalMessagesReceived':_0x1a9b86,'totalBytes':_0x3771ec+_0x3a0ee3,'totalBytesSent':_0x3771ec,'totalBytesReceived':_0x3a0ee3,'systemMessages':_0x17ccb4,'timeProcessing':_0x320394,'nodes':_0x2f11f2,'pubsubTopics':Object[_0x53bd4(0x259)](this[_0x53bd4(0x1d4)]),'objectStores':Object['fromEntries'](this[_0x53bd4(0x766)]),'keyValueDatabases':Object[_0x53bd4(0x259)](this['keyValueDatabases']),'generativeAIContexts':Object['fromEntries'](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x53bd4(0x259)](this[_0x53bd4(0x1cc)]),'vectorDatabases':Object[_0x53bd4(0x259)](this[_0x53bd4(0x1de)]),'graphDatabases':Object[_0x53bd4(0x259)](this[_0x53bd4(0x94d)]),'externalStorages':Object[_0x53bd4(0x259)](this[_0x53bd4(0x4df)])};}[_0x2358f4(0x89a)](_0x3f199b){const _0x5fab35=_0x2358f4;this[_0x5fab35(0x8d7)][_0x5fab35(0x851)](_0x3f199b,new _0x477472());}[_0x2358f4(0x7b8)](_0xf357ec){const _0x56da3e=_0x2358f4;this[_0x56da3e(0x8d7)][_0x56da3e(0x6e6)](_0xf357ec);}[_0x2358f4(0x77f)](_0x5f1701,_0x45431b,_0x35195e){const _0x1ae248=_0x2358f4;_0x45431b instanceof Array||this[_0x1ae248(0x9e0)](_0x5f1701,_0x45431b);const _0x2b9af3=this['nodes'][_0x1ae248(0x879)](_0x5f1701)?.[_0x1ae248(0x77f)](_0x45431b,_0x35195e);_0x2b9af3&&this[_0x1ae248(0x80f)][_0x1ae248(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x1ae248(0x2be)],'content':{'type':_0x53aac7['StreamReport'],'data':{..._0x2b9af3,'nodeId':_0x5f1701}}});}[_0x2358f4(0x7c1)](_0x2ce4f2){const _0x260d0b=_0x2358f4;this['setScheduleTime'](_0x2ce4f2[_0x260d0b(0x21d)]),this[_0x260d0b(0x376)](_0x2ce4f2[_0x260d0b(0x327)]),this[_0x260d0b(0x80f)][_0x260d0b(0x727)]({'sourceId':_0x48ff0f,'messageType':_0x479af2[_0x260d0b(0x2be)],'content':{'type':_0x53aac7['LocalReport'],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x260d0b(0x46e)]()}}});}['processServiceReport'](_0x4e4ec7,_0x363fcf,_0x3a3578){const _0x1fd534=_0x2358f4;switch(_0x363fcf){case _0x2d88a4[_0x1fd534(0x359)]:this[_0x1fd534(0x1d4)][_0x1fd534(0x851)](_0x4e4ec7,_0x3a3578);break;case _0x2d88a4[_0x1fd534(0x95a)]:this[_0x1fd534(0x766)]['set'](_0x4e4ec7,_0x3a3578);break;case _0x2d88a4[_0x1fd534(0x489)]:this['keyValueDatabases']['set'](_0x4e4ec7,_0x3a3578);break;case _0x2d88a4[_0x1fd534(0x80e)]:this['generativeAIContexts'][_0x1fd534(0x851)](_0x4e4ec7,_0x3a3578);break;case _0x2d88a4[_0x1fd534(0xa97)]:this[_0x1fd534(0x1cc)][_0x1fd534(0x851)](_0x4e4ec7,_0x3a3578);break;case _0x2d88a4[_0x1fd534(0x655)]:this[_0x1fd534(0x1de)][_0x1fd534(0x851)](_0x4e4ec7,_0x3a3578);break;case _0x2d88a4[_0x1fd534(0x1be)]:this['graphDatabases'][_0x1fd534(0x851)](_0x4e4ec7,_0x3a3578);break;case _0x2d88a4[_0x1fd534(0x637)]:this['externalStorages']['set'](_0x4e4ec7,_0x3a3578);}}['registerSystemPublisher'](_0x3f8707){const _0x429c62=_0x2358f4;this[_0x429c62(0x80f)]=_0x3f8707;}[_0x2358f4(0xa7d)](){const _0x49e7dc=_0x2358f4;delete this[_0x49e7dc(0x80f)];}[_0x2358f4(0x2b0)](){const _0x1974b6=_0x2358f4;return this['scheduleTime']>0x0&&this[_0x1974b6(0x54e)]-_0x42e675>0x0?(this[_0x1974b6(0x54e)]-_0x42e675)/_0x42e675:0x0;}[_0x2358f4(0x46e)](){const _0x36be03=_0x2358f4;return this[_0x36be03(0x327)]>0x0&&this[_0x36be03(0x327)]-0x64>0x0?(this[_0x36be03(0x327)]-0x64)/0x64:0x0;}[_0x2358f4(0xa73)](){const _0x19d173=_0x2358f4;let _0x16ddbd=0x0;return this[_0x19d173(0x8d7)]['forEach'](_0x2ad091=>{const _0x2f1d14=_0x19d173;_0x16ddbd+=_0x2ad091[_0x2f1d14(0x93c)];}),_0x16ddbd;}[_0x2358f4(0xa0c)](){const _0x42616a=_0x2358f4;let _0x28f768=0x0;return this[_0x42616a(0x8d7)][_0x42616a(0x37b)](_0x22699d=>{const _0x7e89b=_0x42616a;_0x28f768+=_0x22699d[_0x7e89b(0x8a3)];}),_0x28f768;}[_0x2358f4(0x5ed)](){const _0x23338e=_0x2358f4;let _0x5cac15=0x0;return this[_0x23338e(0x8d7)]['forEach'](_0x28f094=>{const _0x492a94=_0x23338e;_0x5cac15+=_0x28f094[_0x492a94(0x7a2)];}),_0x5cac15;}[_0x2358f4(0x66d)](_0x278530){const _0x5d0f21=_0x2358f4;this[_0x5d0f21(0x54e)]=_0x278530;}[_0x2358f4(0x376)](_0x3f0e19){const _0x51f3e2=_0x2358f4;this[_0x51f3e2(0x327)]=_0x3f0e19;}[_0x2358f4(0x9e0)](_0x4257ca,_0xd17e8a){const _0x37cde0=_0x2358f4;switch(_0xd17e8a['origin']){case _0x24afe6['Sender']:this['processSenderReport'](_0x4257ca,_0xd17e8a);break;case _0x24afe6[_0x37cde0(0x9ea)]:this[_0x37cde0(0x391)](_0x4257ca,_0xd17e8a);}}[_0x2358f4(0x3c6)](_0x55c9db,_0x5aeb0d){const _0x145b89=_0x2358f4;this[_0x145b89(0x776)][_0x145b89(0x851)](_0x55c9db,_0x5aeb0d[_0x145b89(0x379)]),this[_0x145b89(0x686)]['set'](_0x55c9db,_0x5aeb0d[_0x145b89(0x871)]);}['processReceiverReport'](_0x4ca755,_0x463936){const _0x663b29=_0x2358f4;this[_0x663b29(0x843)][_0x663b29(0x851)](_0x4ca755,_0x463936[_0x663b29(0x4e7)]),this[_0x663b29(0x995)][_0x663b29(0x851)](_0x4ca755,_0x463936[_0x663b29(0x76c)]),this[_0x663b29(0x342)][_0x663b29(0x851)](_0x4ca755,_0x463936[_0x663b29(0x342)]);}}class _0x3fe0df{['configs'];[_0x2358f4(0x6f2)]=new Set();[_0x2358f4(0x59f)];['statsCollection'];[_0x2358f4(0x699)];[_0x2358f4(0x821)]=new _0x49b64e();constructor(_0x7dc06f){const _0x5af13d=_0x2358f4;this[_0x5af13d(0xa9e)]=_0x7dc06f,this[_0x5af13d(0xa9e)][_0x5af13d(0x4d4)][_0x5af13d(0x642)](this['statsReport']),this[_0x5af13d(0x27d)]=this[_0x5af13d(0x82e)](),this['statsReporting']=this[_0x5af13d(0xa58)]();}[_0x2358f4(0x951)](){const _0x4be895=_0x2358f4;this[_0x4be895(0xa9e)][_0x4be895(0x4d4)][_0x4be895(0x32c)](this[_0x4be895(0x821)]),this[_0x4be895(0x699)](),this['statsCollection']();}[_0x2358f4(0x89a)](_0x2f0808){const _0x27835f=_0x2358f4;this[_0x27835f(0x6f2)][_0x27835f(0x845)](_0x2f0808),this['statsReport'][_0x27835f(0x89a)](_0x2f0808);}['removeRemoteNode'](_0x1c3b1b){const _0x4712f3=_0x2358f4;this[_0x4712f3(0x6f2)]['delete'](_0x1c3b1b),this[_0x4712f3(0x821)][_0x4712f3(0x7b8)](_0x1c3b1b);}[_0x2358f4(0x89e)](_0x33df3c){const _0x565b51=_0x2358f4;if(_0x33df3c[_0x565b51(0x5d0)][_0x565b51(0x5ba)]===_0x2a5ce9[_0x565b51(0x2be)]){const {nodeId:_0x31674f,streamId:_0x267c0e,stats:_0x58fac9}=_0x33df3c['content'];this[_0x565b51(0x821)][_0x565b51(0x77f)](_0x31674f,_0x58fac9,_0x267c0e);}}[_0x2358f4(0xa0b)](_0x31ab31){const _0x463204=_0x2358f4;switch(_0x31ab31[_0x463204(0x5d0)][_0x463204(0x5ba)]){case _0x2d88a4[_0x463204(0x95a)]:case _0x2d88a4[_0x463204(0x489)]:case _0x2d88a4[_0x463204(0x359)]:case _0x2d88a4['GenerativeAIContextStats']:case _0x2d88a4[_0x463204(0xa97)]:case _0x2d88a4[_0x463204(0x655)]:case _0x2d88a4['GraphDatabaseStats']:case _0x2d88a4['ExternalStorageStats']:this[_0x463204(0x821)][_0x463204(0x64e)](_0x31ab31[_0x463204(0x5d0)][_0x463204(0x2bb)],_0x31ab31[_0x463204(0x5d0)][_0x463204(0x5ba)],_0x31ab31['content'][_0x463204(0x343)]);}}['setupStatsReporting'](){return _0x183111['setInterval'](()=>{const _0xc00151=a0_0x34e5,_0x4e2a37=this[_0xc00151(0x821)][_0xc00151(0x41e)]();_0x561d9b[_0xc00151(0x870)](_0x577427[_0xc00151(0x2be)],'Stats:\x20report',_0x4e2a37),(0x0,_0x36f88f[_0xc00151(0xa6b)])((0x0,_0x36f88f['collection'])(_0x1eef3c[_0xc00151(0x44d)](),_0xc00151(0x267)+this[_0xc00151(0xa9e)][_0xc00151(0xa0a)]+_0xc00151(0x529)),{'clusterId':this[_0xc00151(0xa9e)]['clusterId'],'nodeId':this[_0xc00151(0xa9e)]['localNode'][_0xc00151(0x7b4)](),'nodeType':this[_0xc00151(0xa9e)][_0xc00151(0x68a)][_0xc00151(0x5ba)],'timestamp':(0x0,_0x36f88f[_0xc00151(0x914)])(),'report':_0x4e2a37}),_0x561d9b[_0xc00151(0x890)](_0xc00151(0x343),{'clusterId':this[_0xc00151(0xa9e)][_0xc00151(0x667)],'nodeId':this[_0xc00151(0xa9e)][_0xc00151(0x68a)][_0xc00151(0x7b4)](),'nodeType':this[_0xc00151(0xa9e)][_0xc00151(0x68a)][_0xc00151(0x5ba)],'data':{'report':_0x4e2a37}});},_0x162ef1);}[_0x2358f4(0x82e)](){const _0x178cd1=_0x2358f4;let _0x185ca9=!0x1,_0x5b6337=Date[_0x178cd1(0x58d)]();return _0x183111[_0x178cd1(0x586)](async()=>{const _0x501f6f=_0x178cd1;if(_0x185ca9)return;if(_0x185ca9=!0x0,0x0===this[_0x501f6f(0x6f2)][_0x501f6f(0x9dc)])return delete this[_0x501f6f(0x59f)],void(_0x185ca9=!0x1);const _0x4f09ea=Date[_0x501f6f(0x58d)]();this['findNextNodeId']();try{await this[_0x501f6f(0xa9e)][_0x501f6f(0x4d4)][_0x501f6f(0x728)](this[_0x501f6f(0x59f)]);}catch(_0x288d3d){}this[_0x501f6f(0x821)]['processLocalReport']({'secheduleTime':_0x4f09ea-_0x5b6337,'durationTime':Date[_0x501f6f(0x58d)]()-_0x4f09ea}),_0x5b6337=_0x4f09ea,_0x185ca9=!0x1;},_0x42e675);}[_0x2358f4(0x20e)](){const _0x331dce=_0x2358f4;let _0x289c4f,_0x52ec9e=!0x1;this['nextNodeId']&&(this['remoteNodes'][_0x331dce(0x3d0)](this['nextNodeId'])||delete this[_0x331dce(0x59f)]);for(const _0x6d2a92 of this['remoteNodes'])if(_0x289c4f||(_0x289c4f=_0x6d2a92),this[_0x331dce(0x59f)]!==_0x6d2a92){if(_0x52ec9e)return void(this[_0x331dce(0x59f)]=_0x6d2a92);}else _0x52ec9e=!0x0,delete this['nextNodeId'];this[_0x331dce(0x59f)]||(this[_0x331dce(0x59f)]=_0x289c4f);}}class _0xdb8523{[_0x2358f4(0x5a9)];[_0x2358f4(0x749)];['systemTopic'];constructor(_0x5085ec,_0x32cd46){this['source']=_0x5085ec,this['destination']=_0x32cd46;}[_0x2358f4(0x823)](_0x53eb6c){this['systemTopic']=_0x53eb6c;}['unregisterSystemPublisher'](){const _0x1ab016=_0x2358f4;delete this[_0x1ab016(0x80f)];}}class _0x2f7a8f extends _0xdb8523{[_0x2358f4(0x5a9)];[_0x2358f4(0x749)];['params'];constructor(_0x4f30e6,_0xa10bd6,_0x4c1473){const _0x5129e1=_0x2358f4;super(_0x4f30e6,_0xa10bd6),this[_0x5129e1(0x5a9)]=_0x4f30e6,this[_0x5129e1(0x749)]=_0xa10bd6,this[_0x5129e1(0x9cb)]=_0x4c1473;}[_0x2358f4(0x6f4)](_0x265d70,_0x327242,_0x3e4ade){const _0x4f8700=_0x2358f4;if(this['destination'][_0x4f8700(0x8d8)]()===_0x4ab575[_0x4f8700(0x7fd)][_0x4f8700(0x853)]){const _0x170dca={'type':_0x4a489a[_0x4f8700(0x213)],'label':this[_0x4f8700(0x749)][_0x4f8700(0x674)](),'ownerId':_0x265d70,'trackKinds':_0x327242??this[_0x4f8700(0x749)][_0x4f8700(0x898)](),'params':_0x3e4ade};this['systemTopic'][_0x4f8700(0x727)]({'sourceId':this[_0x4f8700(0x5a9)][_0x4f8700(0x4a1)](),'destinationIds':[this[_0x4f8700(0x5a9)][_0x4f8700(0x700)]()],'messageType':_0x479af2['Subscription'],'content':_0x170dca}),this[_0x4f8700(0x9cb)]=_0x3e4ade;}}['update'](_0x3622e0,_0x44eb07){const _0x754fe1=_0x2358f4;if(this[_0x754fe1(0x749)][_0x754fe1(0x8d8)]()===_0x4ab575[_0x754fe1(0x7fd)][_0x754fe1(0x853)]){const _0x286875={'type':_0x4a489a[_0x754fe1(0x456)],'label':this['destination'][_0x754fe1(0x674)](),'ownerId':_0x3622e0,'params':_0x44eb07};this[_0x754fe1(0x80f)]['publish']({'sourceId':this[_0x754fe1(0x5a9)][_0x754fe1(0x4a1)](),'destinationIds':[this['source'][_0x754fe1(0x700)]()],'messageType':_0x479af2[_0x754fe1(0x96a)],'content':_0x286875}),this[_0x754fe1(0x9cb)]=_0x44eb07;}}[_0x2358f4(0x353)](_0x670dcc,_0x4ff43d,_0x1c61c3){const _0x2b3a7e=_0x2358f4;if(this[_0x2b3a7e(0x749)][_0x2b3a7e(0x8d8)]()===_0x4ab575[_0x2b3a7e(0x7fd)][_0x2b3a7e(0x853)]){const _0x599b2f={'type':_0x4a489a[_0x2b3a7e(0x245)],'label':this[_0x2b3a7e(0x749)][_0x2b3a7e(0x674)](),'ownerId':_0x670dcc,'trackKinds':_0x1c61c3??this[_0x2b3a7e(0x749)][_0x2b3a7e(0x898)](),'remainingTracks':_0x4ff43d};this[_0x2b3a7e(0x80f)]['publish']({'sourceId':this[_0x2b3a7e(0x5a9)]['getLocalId'](),'destinationIds':[this[_0x2b3a7e(0x5a9)][_0x2b3a7e(0x700)]()],'messageType':_0x479af2[_0x2b3a7e(0x96a)],'content':_0x599b2f});}}}class _0x4dd223{['currentDistance'];[_0x2358f4(0x490)];[_0x2358f4(0x893)];['systemTopic'];[_0x2358f4(0x531)]=new Set();[_0x2358f4(0x9a8)]=Date[_0x2358f4(0x58d)]();[_0x2358f4(0x9cb)];[_0x2358f4(0x561)]=0x0;constructor(_0x93d3f,_0x5343c3,_0x5a52e3,_0x564699){const _0x4a7e32=_0x2358f4;this['currentDistance']=_0x5343c3,this['maxDistance']=_0x5a52e3,this['tracks']=_0x564699,_0x93d3f[_0x4a7e32(0x37b)](_0x145709=>{const _0x2c1981=_0x4a7e32;this[_0x2c1981(0x531)][_0x2c1981(0x845)]({'nodeId':_0x145709,'type':_0x1339cf[_0x2c1981(0x905)]});});}[_0x2358f4(0x552)](){const _0x2f8c29=_0x2358f4;return this[_0x2f8c29(0x893)];}[_0x2358f4(0x823)](_0x26d01d){const _0x198a2c=_0x2358f4;this[_0x198a2c(0x80f)]=_0x26d01d;}[_0x2358f4(0xa7d)](){const _0xf295b=_0x2358f4;delete this[_0xf295b(0x80f)];}[_0x2358f4(0x7c3)](_0x5259ed,_0x25efdb){const _0x19ea79=_0x2358f4;this[_0x19ea79(0x9a8)]=Date[_0x19ea79(0x58d)](),this['answers'][_0x19ea79(0x375)](),_0x5259ed[_0x19ea79(0x37b)](_0xc5f7d4=>{const _0xd78f7a=_0x19ea79;this[_0xd78f7a(0x531)][_0xd78f7a(0x845)]({'nodeId':_0xc5f7d4,'type':_0x1339cf[_0xd78f7a(0x905)]});}),this[_0x19ea79(0x561)]+=0x1,this['currentDistance']=_0x25efdb;}[_0x2358f4(0x71a)](_0xc16dee,_0x462022,_0x288a90,_0x405762,_0x256f5e){const _0x145acd=_0x2358f4;if(this['retryCount']>0xa)throw new _0x45bad0(_0x45bad0[_0x145acd(0x297)][_0x145acd(0x3bf)],{'answers':Array[_0x145acd(0x7ed)](this[_0x145acd(0x531)])['map'](_0x884961=>({'nodeId':_0x884961[_0x145acd(0x6bc)],'type':_0x884961[_0x145acd(0x5ba)]}))});const _0x21f380=Array[_0x145acd(0x7ed)](this[_0x145acd(0x531)])['map'](_0x5457de=>_0x5457de['nodeId']);this[_0x145acd(0x9cb)]=_0x256f5e,this[_0x145acd(0x80f)]['publish']({'sourceId':_0xc16dee,'destinationIds':_0x21f380,'messageType':_0x479af2[_0x145acd(0x96a)],'content':{'type':_0x4a489a[_0x145acd(0x895)],'label':_0x288a90,'ownerId':_0x462022,'trackKinds':_0x405762,'params':_0x256f5e}}),_0x561d9b['log'](_0x577427[_0x145acd(0x96a)],_0x145acd(0x94c),_0xc16dee,_0x21f380);}[_0x2358f4(0xa01)](_0x5e8c5f,_0x12381c){const _0xf23af2=_0x2358f4;switch(_0x12381c['type']){case _0x4a489a[_0xf23af2(0x6ee)]:{const _0x1208fe=this[_0xf23af2(0x966)]>=_0x12381c[_0xf23af2(0x73e)]&&_0x12381c[_0xf23af2(0x73e)]<=this[_0xf23af2(0x490)],_0x5742ab=Array[_0xf23af2(0x7ed)](this[_0xf23af2(0x531)])[_0xf23af2(0x7c6)](_0x459bf1=>_0x459bf1['nodeId']===_0x5e8c5f);_0x5742ab['type']=_0x1208fe?_0x1339cf[_0xf23af2(0x1b0)]:_0x1339cf[_0xf23af2(0x778)],_0x5742ab[_0xf23af2(0x8cc)]=_0x12381c[_0xf23af2(0x8cc)],_0x5742ab[_0xf23af2(0x73e)]=_0x12381c[_0xf23af2(0x73e)],_0x5742ab['streamId']=_0x12381c[_0xf23af2(0x592)],_0x5742ab[_0xf23af2(0x5ef)]=Date[_0xf23af2(0x58d)]()-this[_0xf23af2(0x9a8)],_0x5742ab[_0xf23af2(0x9cb)]=this[_0xf23af2(0x9cb)],_0x5742ab[_0xf23af2(0x6b3)]=_0x12381c['ownerId'],_0x5742ab[_0xf23af2(0x1e1)]=_0x12381c[_0xf23af2(0x1e1)],_0x5742ab['streamLabel']=_0x12381c[_0xf23af2(0x2bb)],_0x561d9b[_0xf23af2(0x870)](_0x577427[_0xf23af2(0x96a)],(_0x1208fe?_0xf23af2(0x1b0):_0xf23af2(0x778))+_0xf23af2(0x884),_0x5742ab);break;}case _0x4a489a[_0xf23af2(0xa69)]:{const _0x113ff1=Array[_0xf23af2(0x7ed)](this[_0xf23af2(0x531)])[_0xf23af2(0x7c6)](_0x11a056=>_0x11a056[_0xf23af2(0x6bc)]===_0x5e8c5f);_0x113ff1[_0xf23af2(0x5ba)]=_0x1339cf['Rejected'],_0x561d9b[_0xf23af2(0x870)](_0x577427[_0xf23af2(0x96a)],_0xf23af2(0x1f7),_0x113ff1);break;}}if(this[_0xf23af2(0x571)]())return this[_0xf23af2(0x7dc)]();}['chooseAnswer'](){const _0x5d1fc9=_0x2358f4,_0x44dfb9=Array[_0x5d1fc9(0x7ed)](this[_0x5d1fc9(0x531)])['filter'](_0x45501b=>_0x45501b[_0x5d1fc9(0x5ba)]===_0x1339cf[_0x5d1fc9(0x1b0)])['sort']((_0x503fb2,_0x2c5442)=>_0x503fb2['cost']===_0x2c5442['cost']?_0x503fb2[_0x5d1fc9(0x5ef)]-_0x2c5442[_0x5d1fc9(0x5ef)]:_0x503fb2[_0x5d1fc9(0x8cc)]-_0x2c5442[_0x5d1fc9(0x8cc)]);if(0x0===_0x44dfb9[_0x5d1fc9(0x87a)])throw new _0x45bad0(_0x45bad0[_0x5d1fc9(0x297)][_0x5d1fc9(0x3bf)],{'answers':Array[_0x5d1fc9(0x7ed)](this['answers'])[_0x5d1fc9(0x8d9)](_0x38e2f7=>({'nodeId':_0x38e2f7['nodeId'],'type':_0x38e2f7[_0x5d1fc9(0x5ba)]}))});return _0x561d9b[_0x5d1fc9(0x870)](_0x577427['Subscription'],_0x5d1fc9(0x432),_0x44dfb9[0x0],this[_0x5d1fc9(0x531)]),_0x44dfb9[0x0];}['canChooseAnswer'](){const _0x499fe6=_0x2358f4;for(const _0x27e1ee of this[_0x499fe6(0x531)])if(_0x27e1ee['type']===_0x1339cf[_0x499fe6(0x905)])return!0x1;return!0x0;}}class _0x247d35{[_0x2358f4(0x2bb)];['contentType'];['listener']=_0x2365fd();constructor(_0x53abce,_0x3662a8){const _0x4102a9=_0x2358f4;this['label']=_0x53abce,this[_0x4102a9(0x334)]=_0x3662a8;}[_0x2358f4(0x674)](){const _0x2834da=_0x2358f4;return this[_0x2834da(0x2bb)];}[_0x2358f4(0x8d8)](){const _0x1f7b26=_0x2358f4;return this[_0x1f7b26(0x334)];}[_0x2358f4(0x431)](_0x421e81){const _0x57ff9f=_0x2358f4;_0x421e81[_0x57ff9f(0x3fe)](this);}[_0x2358f4(0x70c)](_0x1fd317){const _0x50a7ee=_0x2358f4;_0x1fd317[_0x50a7ee(0x1ee)](this);}[_0x2358f4(0x727)](_0xa2fe90){const _0x3b81d7=_0x2358f4;this[_0x3b81d7(0x64a)]['publish']({'topicLabel':this[_0x3b81d7(0x2bb)],'contentType':this['contentType'],'uuid':(0x0,_0x42da8f['v4'])(),'recipients':[],..._0xa2fe90});}['subscribe'](_0x2c3580){return this['listener']['subscribe'](_0x2c3580);}['unregisterSource'](_0x3d5bfa){const _0x2f3693=_0x2358f4;_0x3d5bfa[_0x2f3693(0x8a8)](this);}[_0x2358f4(0x9ff)](_0x53e03a){const _0x3c2283=_0x2358f4;_0x53e03a[_0x3c2283(0xa4f)](this);}}class _0x4c5184{[_0x2358f4(0x8b2)]={'topics':new Map(),'subscriptions':new Map()};[_0x2358f4(0x9fc)];constructor(_0x143de4){this['getPartsFromSubscription']=_0x143de4;}get['subscriptions'](){const _0x4ac3cb=_0x2358f4;return this['maps'][_0x4ac3cb(0x815)];}get[_0x2358f4(0x9dd)](){const _0x56ae8b=_0x2358f4;return this[_0x56ae8b(0x8b2)][_0x56ae8b(0x9dd)];}['createSubscription'](_0xb9da63,_0x2339c3){const _0x369031=_0x2358f4,_0x1abd50=this[_0x369031(0x9fc)](_0x2339c3),_0x48c9d5=_0x27df5f(_0xb9da63);if(!_0x1abd50[_0x369031(0x30c)])throw new _0x45bad0(_0x45bad0[_0x369031(0x297)][_0x369031(0x7fc)],{'message':_0x48c9d5+':\x20'+_0x1abd50['remoteId']+_0x369031(0x54f)+_0x1abd50[_0x369031(0x334)],'subscriptionType':_0xb9da63,'subscription':_0x2339c3,'subscriptonParts':_0x1abd50});const _0x96e890=_0x1d8ace(_0xb9da63,_0x1abd50);if(this['maps']['subscriptions'][_0x369031(0x3d0)](_0x96e890))throw new _0x45bad0(_0x45bad0['codes'][_0x369031(0x7fc)],{'message':_0x48c9d5+':\x20'+_0x96e890+_0x369031(0x2b6),'subscriptionType':_0xb9da63,'subscription':_0x2339c3,'subscriptonParts':_0x1abd50});this[_0x369031(0x8b2)][_0x369031(0x815)][_0x369031(0x851)](_0x96e890,_0x2339c3),this[_0x369031(0x24b)](_0x1abd50,_0x2339c3);}[_0x2358f4(0x9a3)](_0x51b182,_0x407460){const _0x3aae4c=_0x2358f4,_0x20a70d=_0x1d8ace(_0x407460,_0x51b182),_0x1a11dd=this[_0x3aae4c(0x8b2)][_0x3aae4c(0x815)][_0x3aae4c(0x879)](_0x20a70d);if(!_0x1a11dd)throw new _0x45bad0(_0x45bad0[_0x3aae4c(0x297)]['InvalidSubscription'],{'message':_0x27df5f(_0x407460)+':\x20'+_0x20a70d+'\x20does\x20not\x20exists','subscriptionType':_0x407460,'subscription':_0x1a11dd,'subscriptonParts':_0x51b182});this[_0x3aae4c(0x705)](_0x1a11dd,_0x20a70d,_0x51b182);}[_0x2358f4(0x705)](_0x325231,_0x1f6976,_0x34b776){const _0x457a46=_0x2358f4;_0x34b776=_0x34b776||this[_0x457a46(0x9fc)](_0x325231),this['maps'][_0x457a46(0x815)][_0x457a46(0x6e6)](_0x1f6976),this[_0x457a46(0x3fa)](_0x34b776,_0x325231);}[_0x2358f4(0x24b)](_0x9cbb22,{source:_0x3566f7,destination:_0x180fbb}){const _0x4b3869=_0x2358f4,{contentType:_0x3f953c,label:_0xa38357,remoteId:_0x15521a}=_0x9cbb22,_0x37b2e8=_0x5e2662(_0x3f953c,_0xa38357,_0x15521a),_0xc9f85f=new _0x247d35(_0x37b2e8,_0x3f953c);_0xc9f85f[_0x4b3869(0x431)](_0x3566f7),_0xc9f85f[_0x4b3869(0x70c)](_0x180fbb),this['maps']['topics'][_0x4b3869(0x851)](_0xc9f85f['getLabel'](),_0xc9f85f);}['removeTopic'](_0x17903d,_0x1a3142){const _0x1ed574=_0x2358f4,{contentType:_0x5cbbd2,label:_0x1591f3,remoteId:_0x3d7c67}=_0x17903d,_0x40a9c8=_0x5e2662(_0x5cbbd2,_0x1591f3,_0x3d7c67),_0x5092fb=this[_0x1ed574(0x8b2)][_0x1ed574(0x9dd)][_0x1ed574(0x879)](_0x40a9c8);_0x5092fb&&(this[_0x1ed574(0x414)](_0x5092fb,_0x1a3142),this[_0x1ed574(0x8b2)][_0x1ed574(0x9dd)][_0x1ed574(0x6e6)](_0x40a9c8));}[_0x2358f4(0x414)](_0x29dd20,{source:_0x3944e9,destination:_0x55ea07}){const _0x2fdbb3=_0x2358f4;_0x29dd20[_0x2fdbb3(0x29a)](_0x3944e9),_0x29dd20[_0x2fdbb3(0x9ff)](_0x55ea07);}[_0x2358f4(0x806)](_0x21b04f){const _0x90c763=_0x2358f4;this[_0x90c763(0x8b2)][_0x90c763(0x815)]['forEach']((_0x457a83,_0x3dd748)=>{const _0x5edfc0=_0x90c763;_0x3dd748[_0x5edfc0(0x5a3)](_0x21b04f)&&this[_0x5edfc0(0x705)](_0x457a83,_0x3dd748);});}}class _0x519a8c{[_0x2358f4(0xa9e)];[_0x2358f4(0x490)];['subscriptionRequests']=new Map();['subscriptionRequestsQueue']=_0x41ceec(new _0x103001(this['requestSubscriptionAction'][_0x2358f4(0x767)](this),()=>_0x183111['wait'](0x64)),!0x0);[_0x2358f4(0x82a)]=new Map();['maps'];[_0x2358f4(0x97d)]=new Map();constructor(_0x4a77d1,_0x2a634e){const _0x599c9d=_0x2358f4;this[_0x599c9d(0xa9e)]=_0x4a77d1,this['maxDistance']=_0x2a634e,this['maps']=new _0x4c5184(({source:_0x735502,destination:_0x332a69})=>_0xafa8c5(_0x332a69,_0x735502));}['createSubscription'](_0x3e6ccf,_0x35bc7a){const _0x183490=_0x2358f4,_0x582f78=this['isMediaSource'](_0x3e6ccf)&&this[_0x183490(0x523)](_0x35bc7a)?new _0x2f7a8f(_0x3e6ccf,_0x35bc7a):new _0xdb8523(_0x3e6ccf,_0x35bc7a);this[_0x183490(0x8b2)][_0x183490(0x5c1)](_0x3c9045[_0x183490(0x935)],_0x582f78),this[_0x183490(0xa9e)][_0x183490(0x4d4)][_0x183490(0x642)](_0x582f78);}[_0x2358f4(0x9a3)](_0x1cc11a,_0x5f04f3,_0x1e6d9d=''){const _0x5a0901=_0x2358f4,_0x3c5988={'contentType':_0x5f04f3,'label':_0x1cc11a,'remoteId':_0x1e6d9d},_0x36e329=_0x1d8ace(_0x3c9045[_0x5a0901(0x935)],_0x3c5988),_0x5e2cc6=this[_0x5a0901(0x8b2)]['subscriptions'][_0x5a0901(0x879)](_0x36e329);_0x5e2cc6&&this[_0x5a0901(0x705)](_0x5e2cc6,_0x36e329);}[_0x2358f4(0x567)](_0x2222c0){const _0x556f0e=_0x2358f4;this[_0x556f0e(0x982)](_0x2222c0);}[_0x2358f4(0x1eb)]({label:_0x59dfaf,ownerId:_0x5a1b1d,trackKinds:_0xba2095,params:_0x19ba35}){const _0x5d4433=_0x2358f4;this[_0x5d4433(0x7b6)](_0x59dfaf,_0x5a1b1d,_0xba2095,_0x19ba35);}[_0x2358f4(0x262)]({ownerId:_0x121270,label:_0x12833f,params:_0xda4fb0}){const _0x3ea243=_0x2358f4,{subscriptionLabel:_0x18a8b9}=this[_0x3ea243(0x6f8)](_0x12833f,_0x121270),_0x2769cf=this[_0x3ea243(0x380)](_0x18a8b9);_0x2769cf&&_0x2769cf[_0x3ea243(0x86f)](_0x121270,_0xda4fb0);}[_0x2358f4(0x324)]({ownerId:_0x1f79bb,label:_0x2d70f6,trackKinds:_0x123942,remainingTracks:_0x41755b}){const _0x319fb2=_0x2358f4,_0x37b54f=_0x1d8ace(_0x3c9045['Incoming'],{'contentType':_0x4ab575['ContentType'][_0x319fb2(0x853)],'label':_0x2d70f6,'remoteId':_0x1f79bb});this[_0x319fb2(0x5b1)](_0x37b54f);const _0x50ef0c=this['subscriptionRequests'][_0x319fb2(0x879)](_0x37b54f);_0x50ef0c&&(this[_0x319fb2(0xa9e)][_0x319fb2(0x4d4)][_0x319fb2(0x32c)](_0x50ef0c),this['subscriptionRequests']['delete'](_0x37b54f));const {parts:_0xf2b84f,subscriptionLabel:_0x55545d}=this[_0x319fb2(0x6f8)](_0x2d70f6,_0x1f79bb),_0x283df6=this[_0x319fb2(0x380)](_0x55545d);_0x283df6&&(_0x283df6[_0x319fb2(0x353)](_0x1f79bb,_0x41755b,_0x123942),0x0===_0x41755b&&this[_0x319fb2(0x9a3)](_0xf2b84f[_0x319fb2(0x2bb)],_0xf2b84f[_0x319fb2(0x334)],_0xf2b84f[_0x319fb2(0x27e)]));}[_0x2358f4(0x8e2)](_0x5a73ca,{label:_0x27f82f,ownerId:_0x393a57,trackKinds:_0x2b24ba,streamId:_0x510509,params:_0x2d0fd1}){const _0x1f1fda=_0x2358f4,_0x2f22c6=_0x1d8ace(_0x3c9045[_0x1f1fda(0x935)],{'contentType':_0x4ab575[_0x1f1fda(0x7fd)]['Media'],'label':_0x510509,'remoteId':_0x5a73ca}),_0x16a559=this[_0x1f1fda(0x8b2)][_0x1f1fda(0x815)]['get'](_0x2f22c6);if(!(_0x16a559&&_0x16a559 instanceof _0x2f7a8f))throw new _0x45bad0(_0x45bad0[_0x1f1fda(0x297)][_0x1f1fda(0x291)],{'label':_0x2f22c6,'ownerId':_0x393a57});this[_0x1f1fda(0x705)](_0x16a559,_0x2f22c6),this[_0x1f1fda(0x7b6)](_0x27f82f,_0x393a57,_0x2b24ba,_0x2d0fd1);}[_0x2358f4(0x8b0)](_0x59bcf5,_0x2de86a){const _0x2ae522=_0x2358f4,{label:_0x48f6f6,ownerId:_0x53eae0,trackKinds:_0x5af2d0,params:_0x388d34}=_0x2de86a,_0x571381=_0x1d8ace(_0x3c9045['Incoming'],{'contentType':_0x4ab575[_0x2ae522(0x7fd)][_0x2ae522(0x853)],'label':_0x48f6f6,'remoteId':_0x53eae0});if(!this[_0x2ae522(0x1d5)][_0x2ae522(0x3d0)](_0x571381))throw new _0x45bad0(_0x45bad0[_0x2ae522(0x297)][_0x2ae522(0x291)],{'label':_0x571381,'ownerId':_0x53eae0,'streamId':_0x2de86a[_0x2ae522(0x592)],'requests':this[_0x2ae522(0x1d5)]});const _0x29e1c9=this[_0x2ae522(0x1d5)][_0x2ae522(0x879)](_0x571381);if(_0x5af2d0[_0x2ae522(0x87a)]===_0x29e1c9[_0x2ae522(0x552)]()[_0x2ae522(0x87a)]&&_0x5af2d0['every'](_0xc97a0f=>_0x29e1c9[_0x2ae522(0x552)]()[_0x2ae522(0x877)](_0xc97a0f)))try{const _0x22ed4d=_0x29e1c9['handleSubscriptionSystemEvents'](_0x59bcf5,_0x2de86a);if(!_0x22ed4d)return;this[_0x2ae522(0x6f4)](_0x22ed4d,_0x53eae0,_0x48f6f6,_0x571381,_0x5af2d0);}catch(_0x2ee84f){return void this['handleNoAnswer'](_0x48f6f6,_0x53eae0,_0x5af2d0,_0x388d34);}}[_0x2358f4(0x6d3)](_0x21768e,{label:_0x57acd2,ownerId:_0x11b207,trackKinds:_0x11e1fe}){const _0x4f6530=_0x2358f4,_0x28fa60=this[_0x4f6530(0xa9e)][_0x4f6530(0x4d4)][_0x4f6530(0x631)](_0x11b207,_0x57acd2);if(!_0x28fa60)return;const _0x2c7467=_0x28fa60['getInternalStreamId'](),_0x157ea7=_0x28fa60['getSubscribedTracks']();_0x157ea7[_0x4f6530(0x9ec)](_0x4229f6=>_0x11e1fe[_0x4f6530(0x877)](_0x4229f6))&&this['findNewMediaSubscription'](_0x21768e,_0x57acd2,_0x2c7467,_0x11b207,_0x157ea7);}[_0x2358f4(0x1a6)]({label:_0x5ad3d8,providerId:_0x130ec4,ownerId:_0x191917,streamId:_0x1f612c,trackKinds:_0xc4f4c6}){const _0x33fb7a=_0x2358f4;this[_0x33fb7a(0x274)](_0x130ec4,_0x5ad3d8,_0x1f612c,_0x191917,_0xc4f4c6);}[_0x2358f4(0x661)](_0x2c3b54){const _0x2a36b8=_0x2358f4;for(const _0x50572a of this['chosenAnswers'][_0x2a36b8(0x55b)]()){const {streamLabel:_0x4420b0,ownerId:_0xe20255,trackKinds:_0x48a07c,params:_0x470846}=_0x50572a;if(!_0xe20255||!_0x48a07c||!_0x4420b0)return;this[_0x2a36b8(0x604)][_0x2a36b8(0x397)]({'label':_0x4420b0,'ownerId':_0xe20255,'trackKinds':_0x48a07c,'params':_0x470846,'remoteId':_0x2c3b54});}}['removeSubscriptionsForNode'](_0x2d76e3){const _0x3287cf=_0x2358f4;this[_0x3287cf(0x8b2)][_0x3287cf(0x815)]['forEach']((_0x35efc8,_0x1ae32d)=>{const _0x1297e5=_0x3287cf;if(_0x1ae32d[_0x1297e5(0x5a3)](_0x2d76e3)){if(_0x35efc8[_0x1297e5(0x749)][_0x1297e5(0x8d8)]()===_0x4ab575[_0x1297e5(0x7fd)]['Media']){const _0x2706a6=_0x35efc8[_0x1297e5(0x749)];if(_0x2706a6['getSubscribedTracks']()['length']>0x0){const _0x1241f6={'type':_0x4a489a[_0x1297e5(0x72b)],'label':_0x2706a6['getLabel'](),'ownerId':_0x2706a6[_0x1297e5(0x779)](),'trackKinds':_0x2706a6['getSubscribedTracks']()};return void this[_0x1297e5(0x6d3)](_0x2d76e3,_0x1241f6);}}this[_0x1297e5(0x705)](_0x35efc8,_0x1ae32d);}});}['close'](){const _0x437d09=_0x2358f4;this[_0x437d09(0x8b2)][_0x437d09(0x815)][_0x437d09(0x37b)](this['closeSubscription'][_0x437d09(0x767)](this));}[_0x2358f4(0x6f4)](_0x5bca41,_0x38512c,_0x3ba7bb,_0x426436,_0x38318d){const _0x280710=_0x2358f4,_0x2ca551=this[_0x280710(0xa9e)][_0x280710(0x4d4)]['getConnection'](_0x5bca41[_0x280710(0x6bc)]),_0x1aca9e=this[_0x280710(0xa9e)][_0x280710(0x4d4)][_0x280710(0x631)](_0x38512c,_0x3ba7bb);this['clearSubscriptionRequestTimeout'](_0x426436),this[_0x280710(0x1d5)]['has'](_0x426436)&&(this[_0x280710(0xa9e)][_0x280710(0x4d4)]['unregisterSystemSource'](this[_0x280710(0x1d5)][_0x280710(0x879)](_0x426436)),this['subscriptionRequests'][_0x280710(0x6e6)](_0x426436)),this[_0x280710(0x961)](_0x5bca41,_0x38512c,_0x3ba7bb,_0x1aca9e),_0x1aca9e[_0x280710(0x3a5)](_0x5bca41[_0x280710(0x592)]),_0x1aca9e[_0x280710(0x756)](_0x5bca41[_0x280710(0x6bc)]);const _0x2bba88=_0xafa8c5(_0x1aca9e,_0x2ca551),_0xdbdf2b=_0x1d8ace(_0x3c9045[_0x280710(0x935)],_0x2bba88);this[_0x280710(0x8b2)][_0x280710(0x815)][_0x280710(0x3d0)](_0xdbdf2b)||this[_0x280710(0x5c1)](_0x2ca551,_0x1aca9e);const _0x5e31ca=this[_0x280710(0x8b2)]['subscriptions'][_0x280710(0x879)](_0xdbdf2b);if(!(_0x5e31ca&&_0x5e31ca instanceof _0x2f7a8f))throw new _0x45bad0(_0x45bad0[_0x280710(0x297)][_0x280710(0x291)],{'label':_0x426436,'ownerId':_0x38512c});_0x561d9b[_0x280710(0x890)]('subscription',{'clusterId':this[_0x280710(0xa9e)][_0x280710(0x667)],'nodeId':this[_0x280710(0xa9e)][_0x280710(0x68a)]['getId'](),'nodeType':this['configs'][_0x280710(0x68a)][_0x280710(0x5ba)],'data':{'subscriptionLabel':_0xdbdf2b,'chosenAnswer':_0x5bca41}}),this['chosenAnswers'][_0x280710(0x851)](_0xdbdf2b,_0x5bca41),_0x5e31ca[_0x280710(0x6f4)](_0x38512c,_0x38318d,_0x5bca41[_0x280710(0x9cb)]);}[_0x2358f4(0x982)]({ownerId:_0x4f919a,label:_0x715321}){const _0x477c6f=_0x2358f4,_0x222d10=this[_0x477c6f(0xa9e)][_0x477c6f(0x4d4)]['getRemoteMediaStream'](_0x4f919a,_0x715321),[_0x28ecc9,_0x17b21c]=Array[_0x477c6f(0x7ed)](this['maps']['subscriptions']['entries']())[_0x477c6f(0x7c6)](([_0x141c87,_0x2ed506])=>-0x1!==_0x141c87[_0x477c6f(0x803)](_0x222d10['getInternalStreamId']()));return this[_0x477c6f(0x705)](_0x17b21c,_0x28ecc9);}[_0x2358f4(0x705)](_0x5e3eb8,_0x5bf000){const _0x29c3ed=_0x2358f4;this['configs'][_0x29c3ed(0x4d4)][_0x29c3ed(0x32c)](_0x5e3eb8),this[_0x29c3ed(0x8b2)][_0x29c3ed(0x705)](_0x5e3eb8,_0x5bf000);}[_0x2358f4(0x640)](_0x16ecb9){const _0x10e09d=_0x2358f4;return _0x16ecb9['getSupportedContentTypes']()['includes'](_0x4ab575[_0x10e09d(0x7fd)]['Media']);}['isMediaDestination'](_0x53142d){const _0x51d51e=_0x2358f4;return _0x53142d['getContentType']()===_0x4ab575[_0x51d51e(0x7fd)][_0x51d51e(0x853)];}async[_0x2358f4(0x229)](_0x21f159,_0x5a1198,_0x21391f,_0x3dba72){const _0x57ae50=_0x2358f4;await _0x183111[_0x57ae50(0x983)](0x3e8);const _0x235a9e=_0x1d8ace(_0x3c9045[_0x57ae50(0x935)],{'contentType':_0x4ab575[_0x57ae50(0x7fd)]['Media'],'label':_0x21f159,'remoteId':_0x5a1198});this[_0x57ae50(0x5b1)](_0x235a9e);const _0x49588c=this[_0x57ae50(0x1d5)][_0x57ae50(0x879)](_0x235a9e);if(!_0x49588c)throw new _0x45bad0(_0x45bad0[_0x57ae50(0x297)][_0x57ae50(0x291)],{'label':_0x235a9e,'ownerId':_0x5a1198});const _0x4ea725=this[_0x57ae50(0xa9e)][_0x57ae50(0x4d4)][_0x57ae50(0x315)](_0x136b68=>_0x136b68['isConnected']()),_0x584c4a=this[_0x57ae50(0xa9e)]['mediator'][_0x57ae50(0x8c3)](this['configs'][_0x57ae50(0x68a)][_0x57ae50(0x7b4)](),_0x5a1198);_0x49588c[_0x57ae50(0x7c3)](_0x4ea725[_0x57ae50(0x8d9)](_0xada31f=>_0xada31f[_0x57ae50(0x700)]()),_0x584c4a);try{_0x49588c['sendRequest'](this[_0x57ae50(0xa9e)][_0x57ae50(0x68a)][_0x57ae50(0x7b4)](),_0x5a1198,_0x21f159,_0x21391f,_0x3dba72),this['setSubscriptionRequestTimeout'](_0x21f159,_0x5a1198,_0x21391f,_0x3dba72,_0x235a9e,_0x49588c);}catch(_0x16036d){this[_0x57ae50(0x604)]['push']({'label':_0x21f159,'ownerId':_0x5a1198,'trackKinds':_0x21391f,'params':_0x3dba72});}}[_0x2358f4(0x7b6)](_0x2604d9,_0x2dc2aa,_0x3ab2c3,_0x353b7f){const _0x46ac0c=_0x2358f4;this[_0x46ac0c(0x604)][_0x46ac0c(0x397)]({'label':_0x2604d9,'ownerId':_0x2dc2aa,'trackKinds':_0x3ab2c3,'params':_0x353b7f});}[_0x2358f4(0x6ac)]({label:_0x56dcfa,ownerId:_0x568526,trackKinds:_0x383409,params:_0x568bae,remoteId:_0x4862d7}){const _0x122bd9=_0x2358f4;if(!this[_0x122bd9(0xa9e)]['mediator']['getRemoteMediaStream'](_0x568526,_0x56dcfa))return;if(!this['configs']['mediator'][_0x122bd9(0x97f)]()[_0x122bd9(0x413)]())throw new Error(_0x122bd9(0x64c));if(_0x4862d7){const _0x36114d=this[_0x122bd9(0xa9e)]['mediator'][_0x122bd9(0x78f)]()['find'](_0x5444d0=>_0x5444d0['getId']()===_0x4862d7),_0x45f1c5=_0x36114d?.[_0x122bd9(0x413)]();if(!_0x36114d||!_0x45f1c5)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x50b841=this['configs'][_0x122bd9(0x4d4)]['getRemoteNodes']()[_0x122bd9(0x7c6)](_0x3eb526=>_0x3eb526[_0x122bd9(0x7b4)]()===_0x568526),_0x478f03=_0x50b841?.[_0x122bd9(0x413)]();if(!_0x50b841||!_0x478f03)throw new Error(_0x122bd9(0x894));const _0xd2abe3=this[_0x122bd9(0x97d)][_0x122bd9(0x879)](_0x56dcfa);if(_0xd2abe3){const _0x479297=this['configs']['mediator'][_0x122bd9(0x78f)]()['find'](_0x2d3829=>_0x2d3829['getId']()===_0xd2abe3[_0x122bd9(0x6bc)]),_0x1102ed=_0x479297?.[_0x122bd9(0x413)]();if(!_0x479297||!_0x1102ed)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0x122bd9(0x706)](_0x1102ed-_0x478f03)<Math['abs'](_0x45f1c5-_0x478f03))return;}}const _0x30a643=this[_0x122bd9(0xa9e)][_0x122bd9(0x4d4)]['getConnections'](_0x43551c=>_0x43551c[_0x122bd9(0x1cd)]()&&(!_0x4862d7||_0x43551c[_0x122bd9(0x700)]()===_0x4862d7));if(!_0x30a643['length']||0x0===_0x30a643['length'])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x112f14=this[_0x122bd9(0xa9e)][_0x122bd9(0x4d4)][_0x122bd9(0x8c3)](this[_0x122bd9(0xa9e)][_0x122bd9(0x68a)][_0x122bd9(0x7b4)](),_0x568526),_0x1a52b3=_0x1d8ace(_0x3c9045['Incoming'],{'contentType':_0x4ab575['ContentType'][_0x122bd9(0x853)],'label':_0x56dcfa,'remoteId':_0x568526});if(this[_0x122bd9(0x1d5)][_0x122bd9(0x3d0)](_0x1a52b3)){if(_0x4862d7)throw new Error(_0x122bd9(0x1f9));const _0x18c819=this[_0x122bd9(0x1d5)][_0x122bd9(0x879)](_0x1a52b3)[_0x122bd9(0x552)]();if(_0x18c819['length']===_0x383409[_0x122bd9(0x87a)]&&_0x18c819[_0x122bd9(0xa98)](_0x2f56a3=>_0x383409[_0x122bd9(0x877)](_0x2f56a3)))return;this[_0x122bd9(0xa9e)][_0x122bd9(0x4d4)][_0x122bd9(0x32c)](this[_0x122bd9(0x1d5)][_0x122bd9(0x879)](_0x1a52b3)),this[_0x122bd9(0x1d5)][_0x122bd9(0x6e6)](_0x1a52b3),_0x383409=Array[_0x122bd9(0x7ed)](new Set(_0x383409[_0x122bd9(0x5ff)](_0x18c819))),this[_0x122bd9(0x5b1)](_0x1a52b3);}const _0x4a1076=new _0x4dd223(_0x30a643[_0x122bd9(0x8d9)](_0x3e38f8=>_0x3e38f8[_0x122bd9(0x700)]()),_0x112f14,this[_0x122bd9(0x490)],_0x383409);this['configs'][_0x122bd9(0x4d4)][_0x122bd9(0x642)](_0x4a1076),this[_0x122bd9(0x1d5)]['set'](_0x1a52b3,_0x4a1076),_0x4a1076[_0x122bd9(0x71a)](this[_0x122bd9(0xa9e)][_0x122bd9(0x68a)]['getId'](),_0x568526,_0x56dcfa,_0x383409,_0x568bae),this[_0x122bd9(0xa74)](_0x56dcfa,_0x568526,_0x383409,_0x568bae,_0x1a52b3,_0x4a1076);}[_0x2358f4(0x5b1)](_0x59334f){const _0x39ca0c=_0x2358f4;this[_0x39ca0c(0x82a)][_0x39ca0c(0x3d0)](_0x59334f)&&(clearTimeout(this[_0x39ca0c(0x82a)][_0x39ca0c(0x879)](_0x59334f)),this[_0x39ca0c(0x82a)][_0x39ca0c(0x6e6)](_0x59334f));}[_0x2358f4(0xa74)](_0x32737d,_0x1cc043,_0x551ac1,_0x128093,_0x132f10,_0x10fb88){const _0x9b0060=_0x2358f4;this[_0x9b0060(0x5b1)](_0x132f10),this[_0x9b0060(0x82a)][_0x9b0060(0x851)](_0x132f10,setTimeout(()=>{const _0x5f485d=_0x9b0060;this[_0x5f485d(0x82a)]['delete'](_0x132f10);try{const _0x385921=_0x10fb88[_0x5f485d(0x7dc)]();this[_0x5f485d(0x6f4)](_0x385921,_0x1cc043,_0x32737d,_0x132f10,_0x551ac1);}catch(_0x552436){this[_0x5f485d(0x229)](_0x32737d,_0x1cc043,_0x551ac1,_0x128093);}},0x7d0));}[_0x2358f4(0x274)](_0x338dc9,_0x52e214,_0x3001e2,_0xf293a3,_0x5b9314){const _0xdace8c=_0x2358f4,{subscriptionLabel:_0x4f587e}=this[_0xdace8c(0x6f8)](_0x52e214,_0xf293a3),_0x519e05=this[_0xdace8c(0x380)](_0x4f587e),_0x1723ad=_0x519e05?.[_0xdace8c(0x9cb)];_0x519e05&&(_0x519e05['unsubscribe'](_0xf293a3,0x0),this['removeSubscription'](_0x3001e2,_0x4ab575[_0xdace8c(0x7fd)][_0xdace8c(0x853)],_0x338dc9)),this['requestSubscription'](_0x52e214,_0xf293a3,_0x5b9314,_0x1723ad);}[_0x2358f4(0x380)](_0x9ba6f6){const _0x3103ff=_0x2358f4,_0x2a214e=this[_0x3103ff(0x8b2)][_0x3103ff(0x815)]['get'](_0x9ba6f6);if(_0x2a214e){if(!(_0x2a214e instanceof _0x2f7a8f))throw new _0x45bad0(_0x45bad0[_0x3103ff(0x297)][_0x3103ff(0x7fc)],{'label':_0x9ba6f6,'subscription':_0x2a214e});return _0x2a214e;}}[_0x2358f4(0x6f8)](_0x437b19,_0x3c06a1){const _0x5c4487=_0x2358f4,_0x3c0ae7=this[_0x5c4487(0x36d)](_0x437b19,_0x3c06a1);return{'parts':_0x3c0ae7,'subscriptionLabel':_0x1d8ace(_0x3c9045['Incoming'],_0x3c0ae7)};}['getPartsForSubscriptionLabel'](_0x2d04da,_0xc65303){const _0x4e2a04=_0x2358f4,_0x4f0c27=this[_0x4e2a04(0xa9e)][_0x4e2a04(0x4d4)]['getRemoteMediaStream'](_0xc65303,_0x2d04da),_0x367b9f=_0x4f0c27[_0x4e2a04(0x39d)]();if(!_0x367b9f)throw new _0x45bad0(_0x45bad0['codes'][_0x4e2a04(0xaa2)],{'label':_0x2d04da,'streamId':_0x4f0c27[_0x4e2a04(0x8dd)](),'ownerId':_0xc65303,'localId':this[_0x4e2a04(0xa9e)][_0x4e2a04(0x68a)][_0x4e2a04(0x7b4)]()});return{'contentType':_0x4ab575[_0x4e2a04(0x7fd)][_0x4e2a04(0x853)],'label':_0x4f0c27[_0x4e2a04(0x8dd)](),'remoteId':_0x367b9f};}[_0x2358f4(0x961)](_0x364d70,_0x2baf11,_0x38878e,_0x368160){const _0x215c4d=_0x2358f4,_0x582844=_0x368160['getProviderId']();if(_0x582844&&_0x582844!==_0x364d70[_0x215c4d(0x6bc)]){const {parts:_0xdf899c,subscriptionLabel:_0x5f54d6}=this[_0x215c4d(0x6f8)](_0x38878e,_0x2baf11),_0x1ba61b=this[_0x215c4d(0x380)](_0x5f54d6);_0x1ba61b&&(_0x1ba61b[_0x215c4d(0x353)](_0x2baf11,0x0),this[_0x215c4d(0x9a3)](_0xdf899c[_0x215c4d(0x2bb)],_0xdf899c[_0x215c4d(0x334)],_0xdf899c[_0x215c4d(0x27e)]));}}}class _0x201bb6{[_0x2358f4(0xa9e)];[_0x2358f4(0x61b)];[_0x2358f4(0x8b2)];constructor(_0x4fe7cc,_0x3a5d57){const _0x1cf782=_0x2358f4;this[_0x1cf782(0xa9e)]=_0x4fe7cc,this[_0x1cf782(0x61b)]=_0x3a5d57,this['maps']=new _0x4c5184(({source:_0x24c26d,destination:_0x1c9bc1})=>_0xafa8c5(_0x24c26d,_0x1c9bc1));}['createSubscription'](_0x48bace,_0x295eb1){const _0x1ed917=_0x2358f4,_0x5929bd={'source':_0x48bace,'destination':_0x295eb1};this[_0x1ed917(0x8b2)][_0x1ed917(0x5c1)](_0x3c9045['Outgoing'],_0x5929bd);}['removeSubscription'](_0x23282f,_0x2d253c,_0x32c08d=''){const _0x368753=_0x2358f4,_0x109423={'contentType':_0x2d253c,'label':_0x23282f,'remoteId':_0x32c08d};this[_0x368753(0x8b2)][_0x368753(0x9a3)](_0x109423,_0x3c9045['Outgoing']);}['handleSubscriptionSubscribeMediaStream'](_0x3b38ea,_0x29b5bf){const _0x175414=_0x2358f4;let _0x147047;_0x147047=_0x29b5bf[_0x175414(0x6b3)]!==this[_0x175414(0xa9e)]['localNode'][_0x175414(0x7b4)]()?this[_0x175414(0xa9e)][_0x175414(0x4d4)][_0x175414(0x631)](_0x29b5bf[_0x175414(0x6b3)],_0x29b5bf['label']):this['configs'][_0x175414(0x4d4)]['getLocalMediaStream'](_0x29b5bf['label']);const _0xc49e15=_0x1d8ace(_0x3c9045[_0x175414(0x599)],{'contentType':_0x4ab575['ContentType'][_0x175414(0x853)],'label':_0x147047['getShareableStreamId'](),'remoteId':_0x3b38ea}),_0x488349=this['getNumberOutgoingSubscriptions']();if(!this['maps'][_0x175414(0x815)][_0x175414(0x3d0)](_0xc49e15)&&_0x488349>=this[_0x175414(0x61b)])return{'type':_0x4a489a[_0x175414(0x361)],'ownerId':_0x29b5bf[_0x175414(0x6b3)],'label':_0x29b5bf[_0x175414(0x2bb)],'streamId':_0x147047[_0x175414(0x3fc)](),'trackKinds':_0x29b5bf[_0x175414(0x1e1)],'params':_0x29b5bf[_0x175414(0x9cb)]};_0x147047 instanceof _0x40f470&&!_0x147047[_0x175414(0x5b9)](_0x29b5bf['trackKinds'])&&_0x147047[_0x175414(0x6f4)](_0x29b5bf[_0x175414(0x9cb)]),this[_0x175414(0x8b2)][_0x175414(0x815)][_0x175414(0x3d0)](_0xc49e15)||this[_0x175414(0x5c1)](_0x147047[_0x175414(0x1f2)](_0x3b38ea),this['configs']['mediator'][_0x175414(0x2dc)](_0x3b38ea));}[_0x2358f4(0x37d)](_0xb8def7,{label:_0x2c4ce4,ownerId:_0x18ba7a,remainingTracks:_0xe4b5e7}){const _0x243cf9=_0x2358f4;if(_0xe4b5e7>0x0)return;let _0x58c132;_0x58c132=_0x18ba7a!==this[_0x243cf9(0xa9e)]['localNode']['getId']()?this['configs'][_0x243cf9(0x4d4)][_0x243cf9(0x631)](_0x18ba7a,_0x2c4ce4):this[_0x243cf9(0xa9e)]['mediator']['getLocalMediaStream'](_0x2c4ce4);const _0x5c8a97=_0x58c132[_0x243cf9(0x3fc)](),_0x274a8f=_0x4ab575[_0x243cf9(0x7fd)][_0x243cf9(0x853)];this[_0x243cf9(0x9a3)](_0x5c8a97,_0x274a8f,_0xb8def7);}['handleContentUnsubscribeMediaStream'](_0x965170,{label:_0x47cd2e,ownerId:_0x36586a,trackKinds:_0xb61151}){const _0x81aab4=_0x2358f4;if(_0x965170!==_0x48ff0f)return[];let _0x102cf0=[];for(const _0x4a1068 of this[_0x81aab4(0x8b2)][_0x81aab4(0x815)]){const {source:_0x17318f,destination:_0x8479cb}=_0x4a1068[0x1];_0x17318f[_0x81aab4(0x674)]()===_0x47cd2e&&_0x17318f[_0x81aab4(0x779)]()===_0x36586a&&_0x102cf0[_0x81aab4(0x397)]({'sourceId':this[_0x81aab4(0xa9e)][_0x81aab4(0x68a)][_0x81aab4(0x7b4)](),'destinationIds':[_0x8479cb['getRemoteId']()],'messageType':_0x479af2[_0x81aab4(0x96a)],'content':{'type':_0x4a489a['MediaStreamUnavailable'],'label':_0x47cd2e,'ownerId':_0x36586a,'trackKinds':_0xb61151}});}return _0x102cf0;}[_0x2358f4(0x6c7)](_0x1f0502,_0x33d11e){const _0x3b070c=_0x2358f4,{label:_0x423031,ownerId:_0x2294a6,trackKinds:_0x27a1cf,params:_0x321f63}=_0x33d11e,{hasTracks:_0x2263cd,streamId:_0x32ecb5,hasResolution:_0x2772fd,distance:_0x3b7b17,subscriptionLabel:_0x5e374d}=this[_0x3b070c(0x4a0)](_0x1f0502,_0x33d11e);let _0x464522=this['getNumberOutgoingSubscriptions']()<this[_0x3b070c(0x61b)]&&(_0x2263cd||_0x3b7b17>-0x1)?_0x4a489a['CanProvideMediaStream']:_0x4a489a['CannotProvideMediaStream'];const _0x428158=_0x3b7b17<0x0?0xa:_0x3b7b17;let _0xcdf50e=_0x2263cd?_0x2772fd?_0x428158:_0x428158+0x0:_0x428158+0xa;return _0x5e374d&&this[_0x3b070c(0x8b2)][_0x3b070c(0x815)][_0x3b070c(0x3d0)](_0x5e374d)&&(_0x2263cd&&(_0xcdf50e=0x0),_0x464522=_0x4a489a[_0x3b070c(0x6ee)]),{'type':_0x464522,'cost':_0xcdf50e,'distance':_0x3b7b17,'label':_0x423031,'ownerId':_0x2294a6,'streamId':_0x32ecb5,'trackKinds':_0x27a1cf,'params':_0x321f63};}[_0x2358f4(0x567)](_0x369a94){const _0x4f2006=_0x2358f4,{label:_0x179aee,ownerId:_0x3eec11}=_0x369a94,_0x5d7a71=this[_0x4f2006(0xa9e)][_0x4f2006(0x4d4)][_0x4f2006(0x631)](_0x3eec11,_0x179aee);this[_0x4f2006(0x8b2)][_0x4f2006(0x815)][_0x4f2006(0x37b)](_0xe9c38d=>{const _0x3c6931=_0x4f2006;if(_0xe9c38d[_0x3c6931(0x5a9)][_0x3c6931(0x8dd)]()===_0x5d7a71['getShareableStreamId']()){const _0x151a8e=_0xe9c38d[_0x3c6931(0x749)];this[_0x3c6931(0x9a3)](_0x5d7a71[_0x3c6931(0x3fc)](),_0x4ab575['ContentType'][_0x3c6931(0x853)],_0x151a8e[_0x3c6931(0x700)]());}});}[_0x2358f4(0x937)]({label:_0x14d217}){const _0x553a5f=_0x2358f4,_0x3befce=this[_0x553a5f(0xa9e)][_0x553a5f(0x4d4)][_0x553a5f(0x3d9)](_0x14d217);this[_0x553a5f(0x8b2)][_0x553a5f(0x815)][_0x553a5f(0x37b)](_0x5003c9=>{const _0x12db9b=_0x553a5f;if(_0x5003c9[_0x12db9b(0x5a9)]['getInternalStreamId']()===_0x3befce[_0x12db9b(0x3fc)]()){const _0x52daac=_0x5003c9[_0x12db9b(0x749)];this['removeSubscription'](_0x3befce[_0x12db9b(0x3fc)](),_0x4ab575['ContentType'][_0x12db9b(0x853)],_0x52daac[_0x12db9b(0x700)]());}});}[_0x2358f4(0x806)](_0x4528f0){const _0x2285d0=_0x2358f4;this[_0x2285d0(0x8b2)][_0x2285d0(0x806)](_0x4528f0);}[_0x2358f4(0x951)](){const _0x51d1cc=_0x2358f4;this[_0x51d1cc(0x8b2)][_0x51d1cc(0x815)][_0x51d1cc(0x37b)](this[_0x51d1cc(0x705)]['bind'](this));}[_0x2358f4(0x705)](_0x4c8573,_0x50ed7e){const _0x3180a4=_0x2358f4;this[_0x3180a4(0x8b2)][_0x3180a4(0x705)](_0x4c8573,_0x50ed7e);}[_0x2358f4(0x4a0)](_0x2e966d,{label:_0x148d7e,ownerId:_0x3a9174,trackKinds:_0x308527,params:_0x30e0ef}){const _0x210225=_0x2358f4;if(_0x3a9174!==this[_0x210225(0xa9e)][_0x210225(0x68a)][_0x210225(0x7b4)]()){const _0x313e55=this[_0x210225(0xa9e)][_0x210225(0x4d4)]['getRemoteMediaStream'](_0x3a9174,_0x148d7e);return _0x313e55&&_0x313e55['getProviderId']()!==_0x2e966d?{'hasTracks':_0x313e55[_0x210225(0x833)](_0x308527),'hasResolution':this['canProvideResolution'](_0x313e55[_0x210225(0x2ab)](),_0x30e0ef),'streamId':_0x313e55[_0x210225(0x3fc)](),'distance':this[_0x210225(0xa9e)][_0x210225(0x4d4)][_0x210225(0x8c3)](_0x2e966d,_0x3a9174),'subscriptionLabel':_0x1d8ace(_0x3c9045['Outgoing'],{'contentType':_0x4ab575[_0x210225(0x7fd)][_0x210225(0x853)],'label':_0x313e55[_0x210225(0x3fc)](),'remoteId':_0x2e966d})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x55bcd1=this[_0x210225(0xa9e)][_0x210225(0x4d4)][_0x210225(0x3d9)](_0x148d7e);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x55bcd1[_0x210225(0x3fc)](),'distance':0x0,'subscriptionLabel':_0x1d8ace(_0x3c9045[_0x210225(0x599)],{'contentType':_0x4ab575[_0x210225(0x7fd)][_0x210225(0x853)],'label':_0x55bcd1[_0x210225(0x3fc)](),'remoteId':_0x2e966d})};}[_0x2358f4(0x3a2)](){const _0x471b9d=_0x2358f4;return Array[_0x471b9d(0x7ed)](this[_0x471b9d(0x8b2)][_0x471b9d(0x815)][_0x471b9d(0x1c6)]())['filter'](([_0xc68743,{source:_0x571e1c}])=>_0xc68743[_0x471b9d(0x43b)](_0x3c9045[_0x471b9d(0x599)])&&_0x571e1c[_0x471b9d(0x8d8)]()===_0x4ab575[_0x471b9d(0x7fd)]['Media'])['length'];}[_0x2358f4(0x8f3)](_0x19a372,_0x19392e){const _0x36be29=_0x2358f4;if(!_0x19392e||!_0x19392e[_0x36be29(0x809)]||_0x36be29(0x882)==typeof _0x19392e[_0x36be29(0x809)]||!_0x19392e[_0x36be29(0x809)][_0x36be29(0x4bd)])return!0x0;const {width:_0x58c814,height:_0x21d319}=_0x19392e[_0x36be29(0x809)][_0x36be29(0x4bd)];return _0x19a372[_0x36be29(0x31c)]>=_0x58c814&&_0x19a372['height']>=_0x21d319;}}class _0x478a3f{[_0x2358f4(0xa9e)];[_0x2358f4(0x61b)];[_0x2358f4(0x490)];[_0x2358f4(0x80f)];[_0x2358f4(0x41d)];[_0x2358f4(0xa71)];constructor(_0x53d2ed,_0x6ae876,_0x2251cf){const _0x499d6a=_0x2358f4;this[_0x499d6a(0xa9e)]=_0x53d2ed,this[_0x499d6a(0x61b)]=_0x6ae876,this[_0x499d6a(0x490)]=_0x2251cf,this[_0x499d6a(0xa9e)][_0x499d6a(0x4d4)][_0x499d6a(0x642)](this),this[_0x499d6a(0x41d)]=new _0x519a8c(this[_0x499d6a(0xa9e)],this[_0x499d6a(0x490)]),this['outgoingManager']=new _0x201bb6(this[_0x499d6a(0xa9e)],this[_0x499d6a(0x61b)]);}[_0x2358f4(0x823)](_0x28c27a){this['systemTopic']=_0x28c27a;}[_0x2358f4(0xa7d)](){const _0xc0a18a=_0x2358f4;delete this[_0xc0a18a(0x80f)];}[_0x2358f4(0x951)](){const _0x324fa2=_0x2358f4;this['incomingManager']['close'](),this[_0x324fa2(0xa71)][_0x324fa2(0x951)](),this[_0x324fa2(0xa9e)]['mediator']['unregisterSystemSource'](this);}[_0x2358f4(0x401)](_0x17daab,_0x86d98d){const _0x537a08=_0x2358f4;this[_0x537a08(0x41d)][_0x537a08(0x5c1)](_0x17daab,_0x86d98d);}[_0x2358f4(0xa5e)](_0x5d0458,_0x58a500){const _0x5c897d=_0x2358f4;this[_0x5c897d(0xa71)][_0x5c897d(0x5c1)](_0x5d0458,_0x58a500);}[_0x2358f4(0x2f9)](_0x35bc78,_0x58302b,_0x1f66c4=''){const _0x8411c0=_0x2358f4;this[_0x8411c0(0x41d)]['removeSubscription'](_0x35bc78,_0x58302b,_0x1f66c4);}[_0x2358f4(0x4c5)](_0x5046d8,_0x19c2f5,_0x55f2f7=''){const _0x5449c4=_0x2358f4;try{this[_0x5449c4(0xa71)]['removeSubscription'](_0x5046d8,_0x19c2f5,_0x55f2f7);}catch(_0x4d4a90){if(_0x4d4a90 instanceof _0x45bad0&&_0x4d4a90[_0x5449c4(0x1fe)]===_0x45bad0[_0x5449c4(0x297)][_0x5449c4(0x7fc)])return;}}[_0x2358f4(0xa01)](_0x1e34e4){const _0x34cd37=_0x2358f4;switch(_0x1e34e4[_0x34cd37(0x5d0)]['type']){case _0x4a489a[_0x34cd37(0x213)]:this[_0x34cd37(0x7ab)](_0x1e34e4[_0x34cd37(0x240)],_0x1e34e4[_0x34cd37(0x5d0)]);break;case _0x4a489a[_0x34cd37(0x245)]:this[_0x34cd37(0xa71)][_0x34cd37(0x37d)](_0x1e34e4[_0x34cd37(0x240)],_0x1e34e4['content']);break;case _0x4a489a['NeedMediaStream']:this[_0x34cd37(0x6c7)](_0x1e34e4[_0x34cd37(0x240)],_0x1e34e4[_0x34cd37(0x5d0)]);break;case _0x4a489a[_0x34cd37(0x361)]:this[_0x34cd37(0x41d)][_0x34cd37(0x8e2)](_0x1e34e4[_0x34cd37(0x240)],_0x1e34e4['content']);break;case _0x4a489a['CanProvideMediaStream']:case _0x4a489a[_0x34cd37(0xa69)]:this[_0x34cd37(0x41d)]['handleSubscriptionProvideMediaStream'](_0x1e34e4[_0x34cd37(0x240)],_0x1e34e4[_0x34cd37(0x5d0)]);break;case _0x4a489a[_0x34cd37(0x72b)]:this[_0x34cd37(0x41d)][_0x34cd37(0x6d3)](_0x1e34e4[_0x34cd37(0x240)],_0x1e34e4['content']);}}[_0x2358f4(0xa0b)](_0x17bcf3){const _0x106a28=_0x2358f4;switch(_0x17bcf3[_0x106a28(0x5d0)][_0x106a28(0x5ba)]){case _0x2d88a4['UnpublishMediaStream']:this[_0x106a28(0x41d)][_0x106a28(0x567)](_0x17bcf3[_0x106a28(0x5d0)]),this[_0x106a28(0xa71)][_0x106a28(0x567)](_0x17bcf3[_0x106a28(0x5d0)]);break;case _0x2d88a4[_0x106a28(0x213)]:this['incomingManager'][_0x106a28(0x1eb)](_0x17bcf3[_0x106a28(0x5d0)]);break;case _0x2d88a4['UpdateMediaStream']:this['incomingManager'][_0x106a28(0x262)](_0x17bcf3[_0x106a28(0x5d0)]);break;case _0x2d88a4[_0x106a28(0x245)]:this[_0x106a28(0x324)](_0x17bcf3[_0x106a28(0x240)],_0x17bcf3['content']);break;case _0x2d88a4[_0x106a28(0x83a)]:this[_0x106a28(0xa71)]['handleContentCloseMediaStream'](_0x17bcf3[_0x106a28(0x5d0)]);break;case _0x2d88a4['ClosePubSubTopic']:this[_0x106a28(0x614)](_0x17bcf3[_0x106a28(0x5d0)][_0x106a28(0x2bb)],_0x4ab575[_0x106a28(0x7fd)][_0x106a28(0x356)]);break;case _0x2d88a4[_0x106a28(0x889)]:this['handleCloseContent'](_0x17bcf3[_0x106a28(0x5d0)][_0x106a28(0x2bb)],_0x4ab575['ContentType'][_0x106a28(0x60b)]);break;case _0x2d88a4[_0x106a28(0x5b4)]:this[_0x106a28(0x614)](_0x17bcf3[_0x106a28(0x5d0)][_0x106a28(0x2bb)],_0x4ab575[_0x106a28(0x7fd)][_0x106a28(0x9cf)]);break;case _0x2d88a4['CloseKeyValueDatabase']:this[_0x106a28(0x614)](_0x17bcf3[_0x106a28(0x5d0)][_0x106a28(0x2bb)],_0x4ab575[_0x106a28(0x7fd)][_0x106a28(0x212)]);break;case _0x2d88a4[_0x106a28(0x86b)]:this['handleCloseContent'](_0x17bcf3['content'][_0x106a28(0x2bb)],_0x4ab575['ContentType'][_0x106a28(0x219)]);break;case _0x2d88a4[_0x106a28(0x70a)]:this[_0x106a28(0x614)](_0x17bcf3['content'][_0x106a28(0x2bb)],_0x4ab575[_0x106a28(0x7fd)]['GraphDatabase']);break;case _0x2d88a4[_0x106a28(0x974)]:case _0x2d88a4[_0x106a28(0x9b1)]:this[_0x106a28(0x614)](_0x17bcf3['content'][_0x106a28(0x2bb)],_0x4ab575[_0x106a28(0x7fd)]['Job']);break;case _0x2d88a4['RemoteMediaStreamTrackFail']:this[_0x106a28(0x41d)][_0x106a28(0x1a6)](_0x17bcf3[_0x106a28(0x5d0)]);}}[_0x2358f4(0x671)]({content:_0x1898af}){const _0x4b0930=_0x2358f4;_0x1898af[_0x4b0930(0x5ba)]===_0x518128[_0x4b0930(0x3ff)]&&this[_0x4b0930(0x806)](_0x1898af);}[_0x2358f4(0x89e)](_0x8a6cb0){const _0x153ac5=_0x2358f4;_0x8a6cb0[_0x153ac5(0x5d0)][_0x153ac5(0x5ba)]===_0x2a5ce9[_0x153ac5(0x576)]&&this[_0x153ac5(0x41d)][_0x153ac5(0x661)](_0x8a6cb0[_0x153ac5(0x240)]);}[_0x2358f4(0x324)](_0x990bcb,_0x1f5d14){const _0x15344d=_0x2358f4;this[_0x15344d(0x41d)][_0x15344d(0x324)](_0x1f5d14),this[_0x15344d(0xa71)][_0x15344d(0x324)](_0x990bcb,_0x1f5d14)[_0x15344d(0x37b)](_0x1aa4a5=>this[_0x15344d(0x80f)][_0x15344d(0x727)](_0x1aa4a5));}[_0x2358f4(0x7ab)](_0x1a7509,_0x28a2d6){const _0x53debd=_0x2358f4,_0xf45e7d=this[_0x53debd(0xa71)][_0x53debd(0x7ab)](_0x1a7509,_0x28a2d6);if(_0xf45e7d&&(this[_0x53debd(0x80f)][_0x53debd(0x727)]({'sourceId':this['configs'][_0x53debd(0x68a)]['getId'](),'destinationIds':[_0x1a7509],'messageType':_0x479af2['Subscription'],'content':_0xf45e7d}),_0xf45e7d[_0x53debd(0x5ba)]===_0x4a489a[_0x53debd(0x361)]))throw new _0x4b95c1('Restart\x20NeedMediaStream');}[_0x2358f4(0x6c7)](_0x152b21,_0x1b37b8){const _0x24c3a2=_0x2358f4,_0xc921d8=this[_0x24c3a2(0xa71)][_0x24c3a2(0x6c7)](_0x152b21,_0x1b37b8);this[_0x24c3a2(0x80f)][_0x24c3a2(0x727)]({'sourceId':this[_0x24c3a2(0xa9e)][_0x24c3a2(0x68a)]['getId'](),'destinationIds':[_0x152b21],'messageType':_0x479af2[_0x24c3a2(0x96a)],'content':_0xc921d8});}[_0x2358f4(0x614)](_0x170dcd,_0x33077d){const _0xa3c3d0=_0x2358f4;this[_0xa3c3d0(0x2f9)](_0x170dcd,_0x33077d),this[_0xa3c3d0(0x4c5)](_0x170dcd,_0x33077d);}[_0x2358f4(0x806)]({id:_0x2370f3}){const _0x37f65b=_0x2358f4;this['incomingManager']['removeSubscriptionsForNode'](_0x2370f3),this[_0x37f65b(0xa71)][_0x37f65b(0x806)](_0x2370f3);}}class _0x262525{[_0x2358f4(0x2bb)];[_0x2358f4(0x64a)]=_0x2365fd();constructor(){this['label']=0x0;}['getLabel'](){const _0x21bd6c=_0x2358f4;return this[_0x21bd6c(0x2bb)];}[_0x2358f4(0x8d8)](){const _0x28ecb5=_0x2358f4;return _0x4ab575[_0x28ecb5(0x7fd)]['Data'];}[_0x2358f4(0x431)](_0x483415){_0x483415['registerSystemPublisher'](this);}[_0x2358f4(0x29a)](_0xbfa6cf){_0xbfa6cf['unregisterSystemPublisher']();}[_0x2358f4(0x727)](_0x5360c6){const _0x40bea7=_0x2358f4;_0x561d9b[_0x40bea7(0x870)](_0x577427[_0x40bea7(0x836)],_0x40bea7(0x8ac),_0x5360c6[_0x40bea7(0x240)],_0x5360c6),this[_0x40bea7(0x64a)][_0x40bea7(0x727)]({'topicLabel':this['label'],'contentType':_0x4ab575['ContentType']['Data'],'uuid':_0x5360c6[_0x40bea7(0x474)]??(0x0,_0x42da8f['v4'])(),'recipients':_0x5360c6[_0x40bea7(0x506)]??[],..._0x5360c6});}[_0x2358f4(0x6f4)](_0x1cd324){const _0x4abfac=_0x2358f4;return this[_0x4abfac(0x64a)][_0x4abfac(0x6f4)](_0x1cd324);}}const _0x37aaa4=require('events');class _0x4c8e16{[_0x2358f4(0x56f)];[_0x2358f4(0x2bc)]=[];[_0x2358f4(0x84f)];[_0x2358f4(0x6f2)]=new Map();[_0x2358f4(0x5f2)]=new _0x37aaa4[(_0x2358f4(0x6f1))]();constructor(_0x4a55a4){const _0x119974=_0x2358f4;this[_0x119974(0x56f)]=_0x4a55a4,this[_0x119974(0x84f)]=(this[_0x119974(0x56f)][_0x119974(0x33e)]-0x2*this[_0x119974(0x56f)][_0x119974(0x721)])/0x2,this[_0x119974(0x2bc)][_0x119974(0x397)]({'start':0x1,'end':this[_0x119974(0x8a2)](0x1,0x1)-0x1});for(let _0x19ea99=0x0;_0x19ea99<this[_0x119974(0x84f)];++_0x19ea99)this['ranges']['push']({'start':this['getNextTargetRank'](0x1,_0x19ea99+0x1),'end':this[_0x119974(0x8a2)](0x1,_0x19ea99+0x2)-0x1});}[_0x2358f4(0x8a2)](_0x1f9b5d,_0x2bc2d1=0x1){const _0x2cd91f=_0x2358f4;let _0x18cc66=this['options']['maxDistance']-this[_0x2cd91f(0x56f)][_0x2cd91f(0x721)],_0x531f53=0x1;for(let _0x534e18=0x1;_0x534e18<_0x2bc2d1;++_0x534e18)_0x18cc66*=this[_0x2cd91f(0x56f)][_0x2cd91f(0x490)]-this[_0x2cd91f(0x56f)][_0x2cd91f(0x721)]-_0x534e18,_0x531f53*=this['options']['maxDistance']-this[_0x2cd91f(0x56f)][_0x2cd91f(0x721)]-_0x534e18+0x1;return _0x18cc66*this[_0x2cd91f(0x56f)][_0x2cd91f(0x721)]+_0x1f9b5d-_0x531f53;}['getCurrentMaxLayer'](_0x279fa7){const _0x2037b9=_0x2358f4;let _0x25a0fd=0x0;for(;this[_0x2037b9(0x2bc)][_0x25a0fd][_0x2037b9(0x917)]<_0x279fa7;)_0x25a0fd+=0x1;return _0x25a0fd;}[_0x2358f4(0x499)](){const _0x54bce9=_0x2358f4;return this[_0x54bce9(0x56f)]['minConnections'];}[_0x2358f4(0x46a)](){const _0x32a72b=_0x2358f4;return this[_0x32a72b(0x56f)]['maxConnections'];}[_0x2358f4(0x605)](){const _0x3aeb03=_0x2358f4;return this['options'][_0x3aeb03(0x490)];}[_0x2358f4(0x78f)](){return this['remoteNodes'];}[_0x2358f4(0x472)](_0x5a650c,_0x16cedf){const _0x5c03c7=_0x2358f4;this[_0x5c03c7(0x6f2)][_0x5c03c7(0x851)](_0x5a650c,_0x16cedf),this[_0x5c03c7(0x5f2)][_0x5c03c7(0x396)](_0x5c03c7(0x601));}[_0x2358f4(0x7da)](_0x5a3de2){const _0x3627cd=_0x2358f4;this[_0x3627cd(0x6f2)]['delete'](_0x5a3de2),this[_0x3627cd(0x5f2)][_0x3627cd(0x396)]('nodeUpdate');}[_0x2358f4(0x38a)](_0x5c7f48){const _0x39c15e=_0x2358f4;return this[_0x39c15e(0x6f2)][_0x39c15e(0x3d0)](_0x5c7f48);}[_0x2358f4(0xa04)](_0x29e001){const _0x297264=_0x2358f4;return this[_0x297264(0x6f2)][_0x297264(0x879)](_0x29e001);}['getClosestNodes'](_0x232282,_0x594de6){const _0x242880=_0x2358f4,_0x4f819e=this[_0x242880(0xa04)](_0x594de6)?.['getRank']()??0x0;return _0x232282['map'](_0x3c8ea0=>this[_0x242880(0xa04)](_0x3c8ea0))[_0x242880(0x829)](_0x241033=>void 0x0!==_0x241033)[_0x242880(0x96f)]((_0x2a6a1a,_0x29e973)=>Math['abs'](_0x4f819e-(_0x2a6a1a&&_0x2a6a1a[_0x242880(0x413)]()||0x1/0x0))-Math[_0x242880(0x706)](_0x4f819e-(_0x29e973&&_0x29e973['getRank']()||0x1/0x0)))['map'](_0x216fa9=>_0x216fa9[_0x242880(0x7b4)]());}[_0x2358f4(0x9ae)](_0xa69f9d){const _0xdb12db=_0x2358f4;this[_0xdb12db(0x5f2)]['on'](_0xdb12db(0x601),_0xa69f9d);}[_0x2358f4(0xa44)](_0x478371){const _0x1a4312=_0x2358f4;this['eventEmitter']['off'](_0x1a4312(0x601),_0x478371);}}class _0x37ee51{[_0x2358f4(0xa0a)];[_0x2358f4(0x667)];[_0x2358f4(0x8de)];[_0x2358f4(0x957)];[_0x2358f4(0x56f)];['configs'];[_0x2358f4(0x57f)];[_0x2358f4(0x68d)];[_0x2358f4(0x75c)];['subscriptionManager'];[_0x2358f4(0x9d2)];[_0x2358f4(0x2f1)];['remediationManager'];[_0x2358f4(0x968)];['graphService'];[_0x2358f4(0x80f)]=new _0x262525();['systemTopicUnsubscribe'];[_0x2358f4(0x68a)];constructor(_0x163684,_0x361cc8,_0x498186,_0x494fff,_0x315370,_0x5ce089,_0x33f0ca){const _0x4e2f59=_0x2358f4;switch(this[_0x4e2f59(0xa0a)]=_0x163684,this[_0x4e2f59(0x667)]=_0x361cc8,this[_0x4e2f59(0x8de)]=_0x498186,this[_0x4e2f59(0x957)]=_0x494fff,this['options']=_0x315370,this[_0x4e2f59(0xa9e)]=_0x5ce089,this[_0x4e2f59(0x57f)]=_0x33f0ca,_0x498186[_0x4e2f59(0x5ba)]){case _0x4ab575['NodeType']['User']:this[_0x4e2f59(0x68a)]=new _0x1adf48(_0x498186[_0x4e2f59(0x7b4)](),_0x498186['getDisplayName'](),_0x498186['getEmail']());break;case _0x4ab575[_0x4e2f59(0x21a)][_0x4e2f59(0x461)]:default:this[_0x4e2f59(0x68a)]=new _0x140e92(_0x498186[_0x4e2f59(0x7b4)]());}const _0x2e91f2=this[_0x4e2f59(0x598)]();this[_0x4e2f59(0x310)]=new _0x4c8e16(this[_0x4e2f59(0x56f)]),this['contentManager']=new _0x182df1(_0x2e91f2,this[_0x4e2f59(0x56f)],this[_0x4e2f59(0xa9e)][_0x4e2f59(0x9d7)]),this[_0x4e2f59(0x75c)]=new _0x3fadea(_0x2e91f2,this['authService'],this[_0x4e2f59(0x310)],this[_0x4e2f59(0xa9e)][_0x4e2f59(0x922)],this['options']),this[_0x4e2f59(0x548)]=new _0x478a3f(_0x2e91f2,this[_0x4e2f59(0x56f)][_0x4e2f59(0x61b)],this['graphService'][_0x4e2f59(0x605)]()),this['statsManager']=new _0x3fe0df(_0x2e91f2),this[_0x4e2f59(0x2f1)]=new _0x53c80e(_0x2e91f2),this[_0x4e2f59(0x9ba)]=new _0x1bfc4f(_0x2e91f2),this[_0x4e2f59(0x968)]=new _0x121aff(_0x2e91f2,this[_0x4e2f59(0x310)]),this[_0x4e2f59(0x4d3)]=this[_0x4e2f59(0x558)]();}[_0x2358f4(0x1ed)](){const _0x5cacd3=_0x2358f4,_0x554bd1=this[_0x5cacd3(0x598)]();this[_0x5cacd3(0x75c)]=new _0x3fadea(_0x554bd1,this['authService'],this['graphService'],this[_0x5cacd3(0xa9e)][_0x5cacd3(0x922)],this['options']),this[_0x5cacd3(0x548)]=new _0x478a3f(_0x554bd1,this[_0x5cacd3(0x56f)]['maxOutgoingSubscriptions'],this['graphService']['getMaxDistance']()),this[_0x5cacd3(0x9d2)]=new _0x3fe0df(_0x554bd1),this['detectionManager']=new _0x53c80e(_0x554bd1),this[_0x5cacd3(0x9ba)]=new _0x1bfc4f(_0x554bd1),this[_0x5cacd3(0x968)]=new _0x121aff(_0x554bd1,this['graphService']);const _0xbadc58=this[_0x5cacd3(0x75c)]['getConnectionGroup']();this[_0x5cacd3(0x68d)][_0x5cacd3(0x95e)]()[_0x5cacd3(0x37b)](_0x4a3b66=>{const _0x5ab25a=_0x5cacd3;this['subscriptionManager'][_0x5ab25a(0xa5e)](_0x4a3b66,_0xbadc58),this['subscriptionManager'][_0x5ab25a(0x401)](_0xbadc58,_0x4a3b66),_0x4a3b66['reset']();}),this['contentManager']['getObjectStoreBuckets']()[_0x5cacd3(0x37b)](_0x56b3a4=>{const _0x185be5=_0x5cacd3;this[_0x185be5(0x548)][_0x185be5(0xa5e)](_0x56b3a4,_0xbadc58),this['subscriptionManager'][_0x185be5(0x401)](_0xbadc58,_0x56b3a4),_0x56b3a4['reset'](),_0x56b3a4[_0x185be5(0x491)]();}),this[_0x5cacd3(0x68d)][_0x5cacd3(0x362)]()['forEach'](_0x4aff71=>{const _0x419f6f=_0x5cacd3;this[_0x419f6f(0x548)][_0x419f6f(0xa5e)](_0x4aff71,_0xbadc58),this['subscriptionManager'][_0x419f6f(0x401)](_0xbadc58,_0x4aff71),_0x4aff71[_0x419f6f(0x7c3)](),this[_0x419f6f(0x528)](_0x4aff71);}),this['contentManager'][_0x5cacd3(0x5cb)]()[_0x5cacd3(0x37b)](_0x1b729e=>{const _0xd598e8=_0x5cacd3;this[_0xd598e8(0x548)]['createOutgoingSubscription'](_0x1b729e,_0xbadc58),this['subscriptionManager'][_0xd598e8(0x401)](_0xbadc58,_0x1b729e),_0x1b729e['reset']();}),this[_0x5cacd3(0x68d)][_0x5cacd3(0x810)]()['forEach'](_0xbb6daa=>{const _0xd93f60=_0x5cacd3;this[_0xd93f60(0x548)]['createOutgoingSubscription'](_0xbb6daa,_0xbadc58),this['subscriptionManager'][_0xd93f60(0x401)](_0xbadc58,_0xbb6daa),_0xbb6daa[_0xd93f60(0x7c3)]();}),this[_0x5cacd3(0x68d)]['getVectorDatabases']()[_0x5cacd3(0x37b)](_0x37b96a=>{const _0x45be40=_0x5cacd3;this[_0x45be40(0x548)][_0x45be40(0xa5e)](_0x37b96a,_0xbadc58),this['subscriptionManager'][_0x45be40(0x401)](_0xbadc58,_0x37b96a),_0x37b96a[_0x45be40(0x7c3)]();}),this[_0x5cacd3(0x68d)]['getGraphDatabases']()[_0x5cacd3(0x37b)](_0x16368e=>{const _0x2c5903=_0x5cacd3;this[_0x2c5903(0x548)][_0x2c5903(0xa5e)](_0x16368e,_0xbadc58),this[_0x2c5903(0x548)][_0x2c5903(0x401)](_0xbadc58,_0x16368e),_0x16368e[_0x2c5903(0x7c3)]();}),this['systemTopicUnsubscribe']=this[_0x5cacd3(0x558)]();}['registerSystemSource'](_0x4fd82e){const _0x3020a6=_0x2358f4;try{this[_0x3020a6(0x80f)][_0x3020a6(0x431)](_0x4fd82e);}catch(_0x486731){this['handleError'](_0x486731,{});}}['unregisterSystemSource'](_0x3b8516){const _0x210cb3=_0x2358f4;try{this[_0x210cb3(0x80f)][_0x210cb3(0x29a)](_0x3b8516);}catch(_0x27b764){this[_0x210cb3(0x9b4)](_0x27b764,{});}}[_0x2358f4(0x7fe)](_0x40dd9a,_0x41d23c){return this['connectionManager']['createConnection'](_0x40dd9a,_0x41d23c);}[_0x2358f4(0x2dc)](_0x17b6fe){const _0x5b89ff=_0x2358f4;try{return this['connectionManager'][_0x5b89ff(0x2dc)](_0x17b6fe);}catch(_0x4fa004){throw this[_0x5b89ff(0x9b4)](_0x4fa004,{});}}[_0x2358f4(0x315)](_0x4e3529){const _0x199fd1=_0x2358f4;try{return this[_0x199fd1(0x75c)][_0x199fd1(0x315)](_0x4e3529);}catch(_0x292b6d){throw this[_0x199fd1(0x9b4)](_0x292b6d,{});}}[_0x2358f4(0x631)](_0x5cf1fb,_0x2412a9){const _0xa6b193=_0x2358f4;try{return this[_0xa6b193(0x68d)][_0xa6b193(0x802)](_0x56bd54=>_0x56bd54[_0xa6b193(0x779)]()===_0x5cf1fb&&_0x56bd54[_0xa6b193(0x674)]()===_0x2412a9)[0x0];}catch(_0x11905e){throw this[_0xa6b193(0x9b4)](_0x11905e,{});}}[_0x2358f4(0x3d9)](_0x3893c2){const _0x23f0d9=_0x2358f4;try{return this[_0x23f0d9(0x68d)][_0x23f0d9(0x467)](_0x39da30=>_0x39da30[_0x23f0d9(0x674)]()===_0x3893c2)[0x0];}catch(_0x339e17){throw this[_0x23f0d9(0x9b4)](_0x339e17,{});}}[_0x2358f4(0x3dc)]=(..._0x429362)=>{const _0x1f5985=_0x2358f4;try{return this['clusterEventEmitter'][_0x1f5985(0x396)](..._0x429362);}catch(_0x15a8e5){throw this[_0x1f5985(0x9b4)](_0x15a8e5,{});}};[_0x2358f4(0x7bf)](_0x4699d2){const _0x56e7d8=_0x2358f4;try{this[_0x56e7d8(0x9d2)]['addRemoteNode'](_0x4699d2);}catch(_0x447efa){throw this[_0x56e7d8(0x9b4)](_0x447efa,{});}}[_0x2358f4(0x42e)](_0x302839){const _0x4f8865=_0x2358f4;try{this[_0x4f8865(0x9d2)]['removeRemoteNode'](_0x302839);}catch(_0x31c6ee){throw this[_0x4f8865(0x9b4)](_0x31c6ee,{});}}[_0x2358f4(0x728)](_0x58d4ae){const _0xc5bad3=_0x2358f4;return this[_0xc5bad3(0x75c)][_0xc5bad3(0x728)](_0x58d4ae);}async[_0x2358f4(0x81f)](){const _0x1fa3fd=_0x2358f4;try{await this[_0x1fa3fd(0x75c)][_0x1fa3fd(0x81f)]();const _0x581341=await this[_0x1fa3fd(0x968)][_0x1fa3fd(0x86e)]();for(const _0x369d87 of _0x581341)this[_0x1fa3fd(0x75c)]['createConnection'](_0x369d87);}catch(_0x5ef3fa){throw this[_0x1fa3fd(0x9b4)](_0x5ef3fa,{});}}[_0x2358f4(0x628)](_0x4b4e07){const _0x172134=_0x2358f4;this[_0x172134(0x68a)]['type']===_0x4ab575[_0x172134(0x21a)][_0x172134(0x6ea)]&&(this[_0x172134(0x68a)][_0x172134(0x26c)](_0x4b4e07[_0x172134(0x7e7)]()),this[_0x172134(0x68a)][_0x172134(0x2d2)](_0x4b4e07[_0x172134(0x85b)]()));}['close']({force:_0x43abe6=!0x1},_0x4d5c12=!0x1){const _0x5e50cc=_0x2358f4;if(_0x561d9b[_0x5e50cc(0x444)]('orchestrator-close',{'clusterId':this['clusterId'],'nodeId':this[_0x5e50cc(0x68a)]['getId'](),'nodeType':this['localNode']['type']}),!_0x43abe6&&this[_0x5e50cc(0x75c)][_0x5e50cc(0x4fa)]())throw new _0x5af266(_0x3412d7[_0x5e50cc(0x7a1)],_0x5e50cc(0x899));_0x561d9b[_0x5e50cc(0x657)](),this[_0x5e50cc(0x4d3)](),this[_0x5e50cc(0x9ba)][_0x5e50cc(0x951)](),this[_0x5e50cc(0x2f1)]['close'](),this[_0x5e50cc(0x9d2)][_0x5e50cc(0x951)](),this[_0x5e50cc(0x548)]['close'](),this['connectionManager'][_0x5e50cc(0x951)](),this[_0x5e50cc(0x68d)][_0x5e50cc(0x951)](_0x4d5c12),this[_0x5e50cc(0x968)][_0x5e50cc(0x951)]();}['openPubSubTopic'](_0x74568f){const _0x3a4f02=_0x2358f4;try{const _0x404f59=this['contentManager']['createPubSubTopic'](_0x74568f),_0x3790e3=this['connectionManager']['getConnectionGroup']();return this[_0x3a4f02(0x548)][_0x3a4f02(0xa5e)](_0x404f59,_0x3790e3),this[_0x3a4f02(0x548)]['createIncomingSubscription'](_0x3790e3,_0x404f59),_0x404f59;}catch(_0x2851de){throw this['handleError'](_0x2851de,{});}}async[_0x2358f4(0x221)](_0x5e444c,_0x47e127){const _0x2c155b=_0x2358f4;try{const _0x18be11=this['contentManager'][_0x2c155b(0x541)](_0x5e444c,this[_0x2c155b(0x56f)][_0x2c155b(0x5a8)]),_0x4bf66c=this['connectionManager']['getConnectionGroup']();return this[_0x2c155b(0x548)][_0x2c155b(0xa5e)](_0x18be11,_0x4bf66c),this[_0x2c155b(0x548)][_0x2c155b(0x401)](_0x4bf66c,_0x18be11),await _0x18be11[_0x2c155b(0x491)](_0x47e127?.[_0x2c155b(0x6d6)]??!0x0),_0x18be11;}catch(_0x31d335){throw this[_0x2c155b(0x9b4)](_0x31d335,{});}}async[_0x2358f4(0x5eb)](_0x351a8d,_0xdaa0e9){const _0x5ed4d4=_0x2358f4;try{if(!this[_0x5ed4d4(0x56f)][_0x5ed4d4(0x7db)])throw new _0x5af266(_0x3412d7['ExternalStorageConnectorsMissing'],_0x5ed4d4(0x316));if(!(this[_0x5ed4d4(0x8de)]instanceof _0x541832))throw new _0x5af266(_0x3412d7[_0x5ed4d4(0x6c8)],_0x5ed4d4(0x92f));const _0x2bd8a8=this[_0x5ed4d4(0x56f)][_0x5ed4d4(0x7db)][_0x5ed4d4(0x879)](_0xdaa0e9);if(!_0x2bd8a8)throw new _0x5af266(_0x3412d7[_0x5ed4d4(0x634)],_0x5ed4d4(0x316));const _0x44d39a=this[_0x5ed4d4(0x68d)][_0x5ed4d4(0x6a6)](_0x351a8d,_0x2bd8a8),_0x4a35b2=this[_0x5ed4d4(0x75c)][_0x5ed4d4(0x6c9)]();return this['subscriptionManager'][_0x5ed4d4(0xa5e)](_0x44d39a,_0x4a35b2),this[_0x5ed4d4(0x548)][_0x5ed4d4(0x401)](_0x4a35b2,_0x44d39a),await _0x44d39a[_0x5ed4d4(0x1ed)](),_0x44d39a;}catch(_0x24c033){throw this[_0x5ed4d4(0x9b4)](_0x24c033,{});}}async[_0x2358f4(0x208)](_0x2997bc,_0x1e594f,_0x59f275){const _0x1c98ba=_0x2358f4;try{_0x59f275=_0x59f275||this[_0x1c98ba(0x56f)][_0x1c98ba(0x37e)];const _0x3ba90e=await this[_0x1c98ba(0x68d)][_0x1c98ba(0x39a)](_0x2997bc,_0x1e594f,_0x59f275),_0x587a27=this[_0x1c98ba(0x75c)][_0x1c98ba(0x6c9)]();return this[_0x1c98ba(0x548)][_0x1c98ba(0xa5e)](_0x3ba90e,_0x587a27),this['subscriptionManager'][_0x1c98ba(0x401)](_0x587a27,_0x3ba90e),await _0x3ba90e[_0x1c98ba(0x1ed)](),this['syncKeyValueDatabase'](_0x3ba90e),_0x3ba90e;}catch(_0xe31a06){throw this[_0x1c98ba(0x9b4)](_0xe31a06,{});}}async[_0x2358f4(0x65a)](_0x42b750){const _0x2d9771=_0x2358f4;try{const _0x2d81a9=await this['contentManager'][_0x2d9771(0x321)](_0x42b750,this[_0x2d9771(0x310)]),_0x478240=this[_0x2d9771(0x75c)][_0x2d9771(0x6c9)]();return this[_0x2d9771(0x548)][_0x2d9771(0xa5e)](_0x2d81a9,_0x478240),this[_0x2d9771(0x548)][_0x2d9771(0x401)](_0x478240,_0x2d81a9),_0x2d81a9[_0x2d9771(0x1ed)](),_0x2d81a9;}catch(_0x593f77){throw this[_0x2d9771(0x9b4)](_0x593f77,{});}}async[_0x2358f4(0x94b)](_0x8b6689){const _0x41dd87=_0x2358f4;throw new Error(_0x41dd87(0x716));}async['openGenerativeAIContext'](_0x40d07b){const _0x52bf4f=_0x2358f4;try{const _0x4f06=await this['contentManager']['createGenerativeAIContext'](_0x40d07b,this[_0x52bf4f(0x310)]),_0x54f644=this['connectionManager'][_0x52bf4f(0x6c9)]();return this[_0x52bf4f(0x548)][_0x52bf4f(0xa5e)](_0x4f06,_0x54f644),this[_0x52bf4f(0x548)]['createIncomingSubscription'](_0x54f644,_0x4f06),_0x4f06[_0x52bf4f(0x1ed)](),_0x4f06;}catch(_0x276823){throw console[_0x52bf4f(0x7b7)](_0x276823),this[_0x52bf4f(0x9b4)](_0x276823,{});}}async['openGenerativeAIWorker'](_0x114e7d){const _0x2845fb=_0x2358f4;try{if(!this['options']['generativeAIWorkerConnectors']||!this[_0x2845fb(0x56f)][_0x2845fb(0x2db)]||!this['options']['nlpLibraryConnector'])throw new _0x5af266(_0x3412d7['GenerativeAIWorkerMissingConnector'],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x2845fb(0x8de)]instanceof _0x541832))throw new _0x5af266(_0x3412d7['NodeInvalidType'],_0x2845fb(0x92f));const _0x17dd10=[];for(const _0xad9a85 of this[_0x2845fb(0x56f)][_0x2845fb(0x5f0)])_0x17dd10[_0x2845fb(0x397)](new _0xad9a85());const _0x17c7d8=new this[(_0x2845fb(0x56f))][(_0x2845fb(0x2db))](),_0xb7789e=new this[(_0x2845fb(0x56f))][(_0x2845fb(0x36c))]();let _0x8d28b7;this['options'][_0x2845fb(0x8fa)]&&(_0x8d28b7=new this[(_0x2845fb(0x56f))][(_0x2845fb(0x8fa))]());const _0x1f06a7=await this[_0x2845fb(0x68d)][_0x2845fb(0xa7a)](_0x114e7d,this[_0x2845fb(0x8de)],_0x17dd10,_0x17c7d8,_0xb7789e,_0x8d28b7),_0x4145db=this[_0x2845fb(0x75c)][_0x2845fb(0x6c9)]();this[_0x2845fb(0x548)][_0x2845fb(0xa5e)](_0x1f06a7,_0x4145db),this[_0x2845fb(0x548)]['createIncomingSubscription'](_0x4145db,_0x1f06a7);const _0x45d548=this['nodeManager'][_0x2845fb(0xa22)]();return _0x1f06a7['open'](0x0===_0x45d548[_0x2845fb(0x87a)]||void 0x0),_0x1f06a7;}catch(_0x5b6419){throw this[_0x2845fb(0x9b4)](_0x5b6419,{});}}[_0x2358f4(0x2da)](_0x1cdb81){const _0x34af33=_0x2358f4;try{if(!this[_0x34af33(0x56f)]['graphDatabaseConnector'])throw new _0x5af266(_0x3412d7[_0x34af33(0x2e0)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x34af33(0x8de)]instanceof _0x541832))throw new _0x5af266(_0x3412d7['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x2b9467=this[_0x34af33(0x68d)][_0x34af33(0x811)](_0x1cdb81,this[_0x34af33(0x56f)][_0x34af33(0x1e3)]),_0x44591b=this['connectionManager'][_0x34af33(0x6c9)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x2b9467,_0x44591b),this[_0x34af33(0x548)][_0x34af33(0x401)](_0x44591b,_0x2b9467),_0x2b9467;}catch(_0x4c6ecc){throw this[_0x34af33(0x9b4)](_0x4c6ecc,{});}}['openVectorDatabase'](_0x3899b4){const _0x17ab91=_0x2358f4;try{if(!this[_0x17ab91(0x56f)][_0x17ab91(0xa6f)])throw new _0x5af266(_0x3412d7['VectorDatabaseMissingConnector'],_0x17ab91(0x30d));if(!(this[_0x17ab91(0x8de)]instanceof _0x541832))throw new _0x5af266(_0x3412d7[_0x17ab91(0x6c8)],_0x17ab91(0x92f));const _0x444222=this[_0x17ab91(0x68d)]['createVectorDatabase'](_0x3899b4,this[_0x17ab91(0x56f)]['vectorDatabaseConnector']),_0x2af3f0=this[_0x17ab91(0x75c)][_0x17ab91(0x6c9)]();return this[_0x17ab91(0x548)][_0x17ab91(0xa5e)](_0x444222,_0x2af3f0),this[_0x17ab91(0x548)]['createIncomingSubscription'](_0x2af3f0,_0x444222),_0x444222;}catch(_0x56fe2e){throw this[_0x17ab91(0x9b4)](_0x56fe2e,{});}}[_0x2358f4(0x95e)](_0x49754e){const _0x4a9d36=_0x2358f4;try{return this['contentManager'][_0x4a9d36(0x95e)](_0x49754e);}catch(_0x188cf7){throw this[_0x4a9d36(0x9b4)](_0x188cf7,{});}}[_0x2358f4(0x57a)](_0xcb005e){const _0x260fb0=_0x2358f4;try{return this[_0x260fb0(0x68d)][_0x260fb0(0x57a)](_0xcb005e);}catch(_0x5d3bc4){throw this[_0x260fb0(0x9b4)](_0x5d3bc4,{});}}[_0x2358f4(0x8d1)](_0x3b25d1){const _0xcf771=_0x2358f4;try{return this[_0xcf771(0x68d)][_0xcf771(0x8d1)](_0x3b25d1);}catch(_0x1238cb){throw this[_0xcf771(0x9b4)](_0x1238cb,{});}}[_0x2358f4(0x362)](_0x40a31e){const _0x16db96=_0x2358f4;try{return this['contentManager'][_0x16db96(0x362)](_0x40a31e);}catch(_0x1b0aa1){throw this[_0x16db96(0x9b4)](_0x1b0aa1,{});}}[_0x2358f4(0x1db)](_0x595ad1){const _0xc372a0=_0x2358f4;try{return this[_0xc372a0(0x68d)][_0xc372a0(0x1db)](_0x595ad1);}catch(_0x5a6841){throw this[_0xc372a0(0x9b4)](_0x5a6841,{});}}['getGenerativeAIWorkers'](_0x3b5bb1){const _0x26a7e8=_0x2358f4;try{return this[_0x26a7e8(0x68d)][_0x26a7e8(0xa46)](_0x3b5bb1);}catch(_0x4c6294){throw this[_0x26a7e8(0x9b4)](_0x4c6294,{});}}[_0x2358f4(0x566)](_0x184035){const _0x55a61d=_0x2358f4;try{return this[_0x55a61d(0x68d)][_0x55a61d(0x566)](_0x184035);}catch(_0x587994){throw this[_0x55a61d(0x9b4)](_0x587994,{});}}['createLocalMediaStream'](_0x1394fa,_0x37713a){const _0x188d7e=_0x2358f4;if(!this[_0x188d7e(0xa9e)][_0x188d7e(0xa4b)][_0x188d7e(0x877)](_0x44d62e['MediaStream']))throw new _0x5af266(_0x3412d7[_0x188d7e(0x673)],_0x188d7e(0x66a));try{return this[_0x188d7e(0x68d)][_0x188d7e(0x912)](_0x1394fa,_0x37713a);}catch(_0x4468b0){throw this[_0x188d7e(0x9b4)](_0x4468b0,{});}}['createLocalDynamicMediaStream'](_0x585690,_0x49abca){const _0x2d4def=_0x2358f4;if(!this[_0x2d4def(0xa9e)][_0x2d4def(0xa4b)][_0x2d4def(0x877)](_0x44d62e[_0x2d4def(0x37a)]))throw new _0x5af266(_0x3412d7['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager']['createLocalDynamicMediaStream'](_0x585690,_0x49abca);}catch(_0x4b15fe){throw this[_0x2d4def(0x9b4)](_0x4b15fe,{});}}['getLocalMediaStreams'](_0x53a23b){const _0x494da1=_0x2358f4;if(!this[_0x494da1(0xa9e)][_0x494da1(0xa4b)]['includes'](_0x44d62e[_0x494da1(0x37a)]))throw new _0x5af266(_0x3412d7['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x494da1(0x467)](_0x53a23b);}catch(_0x494ccb){throw this[_0x494da1(0x9b4)](_0x494ccb,{});}}[_0x2358f4(0x802)](_0x36559e){const _0x4cfd21=_0x2358f4;if(!this[_0x4cfd21(0xa9e)][_0x4cfd21(0xa4b)]['includes'](_0x44d62e[_0x4cfd21(0x37a)]))throw new _0x5af266(_0x3412d7[_0x4cfd21(0x673)],_0x4cfd21(0x66a));try{return this[_0x4cfd21(0x68d)][_0x4cfd21(0x802)](_0x36559e);}catch(_0x374bc1){throw this[_0x4cfd21(0x9b4)](_0x374bc1,{});}}['getVectorDatabases'](_0x14fb53){const _0xf54b8b=_0x2358f4;try{return this['contentManager'][_0xf54b8b(0x8bd)](_0x14fb53);}catch(_0x5c09cf){throw this[_0xf54b8b(0x9b4)](_0x5c09cf,{});}}['getDistance'](_0x96428f,_0x5eb1f6){const _0x29572c=_0x2358f4;return this[_0x29572c(0x968)][_0x29572c(0x8c3)](_0x96428f,_0x5eb1f6);}[_0x2358f4(0x97f)](){const _0x37ed05=_0x2358f4;return this[_0x37ed05(0x968)][_0x37ed05(0x97f)]();}['getRemoteNodes'](_0x4cad61){const _0x292200=_0x2358f4;try{return this[_0x292200(0x968)]['getRemoteNodes'](_0x4cad61);}catch(_0x5c2cd2){throw this[_0x292200(0x9b4)](_0x5c2cd2,{});}}[_0x2358f4(0x276)](){const _0x4fe4eb=_0x2358f4;return this[_0x4fe4eb(0x75c)][_0x4fe4eb(0x276)]();}[_0x2358f4(0x47d)](_0x377eb7){const _0x46c225=_0x2358f4;return this[_0x46c225(0x968)][_0x46c225(0x47d)](_0x377eb7);}async['handleSystemEvents'](_0x3506b7){const _0x1cdabb=_0x2358f4;try{if(_0x561d9b['log'](_0x577427[_0x1cdabb(0x836)],_0x1cdabb(0xa65),this[_0x1cdabb(0x968)][_0x1cdabb(0x4a1)](),_0x3506b7),_0x2f0cdd(_0x3506b7,this[_0x1cdabb(0x968)]['getLocalId']()))return void this[_0x1cdabb(0x75c)][_0x1cdabb(0x6db)](_0x3506b7);switch(_0x3506b7[_0x1cdabb(0x22d)]){case _0x479af2['Content']:this[_0x1cdabb(0x9d2)][_0x1cdabb(0xa0b)](_0x3506b7),this[_0x1cdabb(0x548)][_0x1cdabb(0xa0b)](_0x3506b7),this['contentManager'][_0x1cdabb(0xa0b)](_0x3506b7);break;case _0x479af2['Node']:this[_0x1cdabb(0x548)][_0x1cdabb(0x671)](_0x3506b7),this[_0x1cdabb(0x75c)][_0x1cdabb(0x671)](_0x3506b7),this[_0x1cdabb(0x68d)][_0x1cdabb(0x671)](_0x3506b7),this[_0x1cdabb(0x968)][_0x1cdabb(0x671)](_0x3506b7);break;case _0x479af2[_0x1cdabb(0x241)]:this[_0x1cdabb(0x9ba)][_0x1cdabb(0x3a6)](_0x3506b7);break;case _0x479af2['Remediation']:this[_0x1cdabb(0x9ba)]['handleRemediationSystemEvents'](_0x3506b7);break;case _0x479af2['Stats']:this['detectionManager'][_0x1cdabb(0x569)](_0x3506b7);break;case _0x479af2[_0x1cdabb(0x96a)]:_0x3506b7['content']['type']!==_0x4a489a[_0x1cdabb(0x245)]?(this[_0x1cdabb(0x548)][_0x1cdabb(0xa01)](_0x3506b7),this['contentManager'][_0x1cdabb(0xa01)](_0x3506b7)):(this[_0x1cdabb(0x68d)]['handleSubscriptionSystemEvents'](_0x3506b7),this[_0x1cdabb(0x548)][_0x1cdabb(0xa01)](_0x3506b7));break;case _0x479af2[_0x1cdabb(0x2ce)]:await this[_0x1cdabb(0x75c)][_0x1cdabb(0x89e)](_0x3506b7),this[_0x1cdabb(0x9d2)][_0x1cdabb(0x89e)](_0x3506b7),this[_0x1cdabb(0x968)][_0x1cdabb(0x89e)](_0x3506b7),this['subscriptionManager'][_0x1cdabb(0x89e)](_0x3506b7);}}catch(_0xa51b27){throw _0x561d9b[_0x1cdabb(0x256)](_0x1cdabb(0x7f1),_0xa51b27),this[_0x1cdabb(0x9b4)](_0xa51b27,{});}}[_0x2358f4(0x9b4)](_0x2c804a,_0x58135a){const _0x7833b5=_0x2358f4;if(!(_0x2c804a instanceof _0x4b95c1)){if(_0x2c804a instanceof _0x5af266)throw _0x2c804a;if(!(_0x2c804a instanceof Error))throw new _0x5af266(_0x3412d7[_0x7833b5(0xa6a)],_0x7833b5(0x9ca)+_0x2c804a);if(!(_0x2c804a instanceof _0x45bad0))throw new _0x5af266(_0x3412d7[_0x7833b5(0xa6a)],_0x7833b5(0xa90)+_0x2c804a[_0x7833b5(0x71e)]);switch(_0x2c804a[_0x7833b5(0x1fe)]){case _0x45bad0[_0x7833b5(0x297)][_0x7833b5(0x60e)]:case _0x45bad0['codes'][_0x7833b5(0x59d)]:case _0x45bad0[_0x7833b5(0x297)][_0x7833b5(0x602)]:case _0x45bad0['codes'][_0x7833b5(0xa7e)]:case _0x45bad0['codes']['ConnectionNotConnected']:case _0x45bad0[_0x7833b5(0x297)][_0x7833b5(0x74c)]:case _0x45bad0[_0x7833b5(0x297)][_0x7833b5(0x243)]:case _0x45bad0[_0x7833b5(0x297)]['InvalidSubscriber']:case _0x45bad0[_0x7833b5(0x297)][_0x7833b5(0x291)]:case _0x45bad0[_0x7833b5(0x297)][_0x7833b5(0x864)]:case _0x45bad0[_0x7833b5(0x297)]['SubscriptionRequestNoAnswer']:case _0x45bad0['codes'][_0x7833b5(0x7fc)]:}throw _0x561d9b[_0x7833b5(0x7b7)]('sdk-internal-error:\x20'+_0x2c804a['message'],{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x7833b5(0x7b4)](),'nodeType':this[_0x7833b5(0x68a)][_0x7833b5(0x5ba)]},_0x2c804a),new _0x5af266(_0x3412d7[_0x7833b5(0xa6a)],_0x7833b5(0x986)+_0x2c804a['message']);}}[_0x2358f4(0x598)](){const _0x3040dc=_0x2358f4;return{'mediator':this,'vendorId':this[_0x3040dc(0xa0a)],'clusterId':this['clusterId'],'localNode':this[_0x3040dc(0x68a)]};}[_0x2358f4(0x558)](){const _0x496d51=_0x2358f4;return this['systemTopic'][_0x496d51(0x6f4)](_0x4876ed=>{const _0x46c092=_0x496d51,_0x5cd86e=_0x128275(_0x4876ed,this[_0x46c092(0x68a)][_0x46c092(0x7b4)]()),_0x1f23c7=_0x4876ed['messageType']===_0x479af2[_0x46c092(0x2be)]||_0x4876ed[_0x46c092(0x22d)]===_0x479af2[_0x46c092(0x2ce)]&&_0x4876ed[_0x46c092(0x5d0)]['type']===_0x2a5ce9['Stats']?_0x577427[_0x46c092(0x6cd)]:_0x577427[_0x46c092(0x7ea)];_0x561d9b[_0x46c092(0x4eb)](_0x1f23c7,_0x4876ed[_0x46c092(0x474)]+_0x46c092(0x5b0)+_0x5cd86e,_0x4876ed),this[_0x46c092(0x7f1)](_0x4876ed)[_0x46c092(0x33a)](_0x31344d=>{const _0x1ceb12=_0x46c092;console[_0x1ceb12(0x7b7)](_0x31344d);});});}async[_0x2358f4(0x528)](_0x5b35ec){const _0x4bf8c1=_0x2358f4,{timingLogger:_0x278f2b,logger:_0x2154aa,logBeforeSync:_0x2bfd2e,logAfterSync:_0x3aa562}=function(_0x5a1015,_0x1daad4){const _0x218df0=a0_0x34e5;if(!_0x561d9b['isChannelEnabled'](_0x1daad4))return _0x561d9b[_0x218df0(0x256)](_0x218df0(0x984)+_0x1daad4),{..._0x3d39b5(_0x5a1015,_0x1daad4),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x2ca6bd,logger:_0x16d220}=_0x3d39b5(_0x5a1015,_0x1daad4);let _0x2b61d7=0x0;return _0x2b61d7=Date[_0x218df0(0x58d)](),{'syncStartTime':_0x2b61d7,'timingLogger':_0x2ca6bd,'logger':_0x16d220,'logBeforeSync':()=>(_0x5a70d9(_0x1daad4,_0x218df0(0x271)),_0x2ca6bd[_0x218df0(0x58d)]()),'logAfterSync':(_0x4f49fc,_0x2d0307)=>{const _0x27093a=_0x218df0,_0x596ddf=Date[_0x27093a(0x58d)]();_0x5a70d9(_0x1daad4,_0x27093a(0x980)+_0x2d0307);const _0x4f2936=(_0x596ddf-_0x2b61d7)/0x3e8,_0x209df1=(_0x596ddf-_0x4f49fc)/0x3e8;_0x561d9b[_0x27093a(0x870)](_0x1daad4,_0x27093a(0x8ba),_0x5a1015,_0x27093a(0x825)+_0x4f2936[_0x27093a(0x21b)](0x2)+_0x27093a(0x81c),_0x27093a(0xa4e)+_0x209df1['toFixed'](0x3)+_0x27093a(0x81c),_0x27093a(0x2b7)+((_0x596ddf-_0x2b61d7)/0x3e8-_0x209df1)[_0x27093a(0x21b)](0x2)+_0x27093a(0x81c));}};}(_0x5b35ec[_0x4bf8c1(0x674)](),_0x577427['KeyValueDatabase']);_0x2154aa['log'](_0x4bf8c1(0x3f5));const _0x5e799f=this['nodeManager'][_0x4bf8c1(0xa22)]()['length']>0x0;if(_0x5e799f){_0x2154aa[_0x4bf8c1(0x870)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x4bf8c1(0x968)][_0x4bf8c1(0xa22)]()),_0x278f2b['start'](),await Promise[_0x4bf8c1(0x9c9)](this[_0x4bf8c1(0x968)][_0x4bf8c1(0xa22)]()[_0x4bf8c1(0x8d9)](async _0x33d015=>await this['nodeManager'][_0x4bf8c1(0x47d)](_0x33d015)))[_0x4bf8c1(0x33a)](_0x11ef9b=>_0x561d9b[_0x4bf8c1(0x444)](_0x4bf8c1(0x582),{'nodeId':this['localNode'][_0x4bf8c1(0x7b4)](),'nodeType':this[_0x4bf8c1(0x68a)]['type']}));const _0x448a1b=_0x2154aa[_0x4bf8c1(0x296)](()=>this[_0x4bf8c1(0x968)]['getAncestorIds'](),[]);_0x278f2b[_0x4bf8c1(0x31a)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x448a1b+_0x4bf8c1(0x2ed));}_0x3aa562(_0x2bfd2e(),await _0x5b35ec['sync'](_0x5e799f,async()=>{const _0x3a92b2=_0x4bf8c1;_0x278f2b['start'](),await this[_0x3a92b2(0x968)][_0x3a92b2(0x1e7)](),_0x278f2b['logWaitTime'](_0x3a92b2(0x7d5)),_0x5b35ec['sync'](!0x0,()=>{const _0x2d4817=_0x3a92b2;_0x2154aa[_0x2d4817(0x870)](_0x2d4817(0x54d)),_0x5b35ec[_0x2d4817(0x491)](!0x1);},!0x0);}));}}class _0x2b0d1d{[_0x2358f4(0xa0a)];['clusterId'];[_0x2358f4(0x8de)];[_0x2358f4(0x5f2)];['orchestrator'];constructor(_0x5f4268,_0x15f8cd,_0x3fb29d,_0x268e39,_0x3f0c3f,_0x1feed7,_0x405924=new _0xa2fae1()){const _0x110081=_0x2358f4;this['vendorId']=_0x5f4268,this[_0x110081(0x667)]=_0x15f8cd,this[_0x110081(0x8de)]=_0x3fb29d,this[_0x110081(0x5f2)]=_0x405924,this[_0x110081(0xa8e)]=new _0x37ee51(this['vendorId'],this['clusterId'],_0x3fb29d,_0x268e39,_0x3f0c3f,_0x1feed7,this);}async[_0x2358f4(0x374)](){const _0x13f175=_0x2358f4;await this[_0x13f175(0xa8e)][_0x13f175(0x81f)](),this[_0x13f175(0x8de)][_0x13f175(0x5ba)]===_0x4ab575[_0x13f175(0x21a)]['User']&&this[_0x13f175(0x8de)][_0x13f175(0x207)](this[_0x13f175(0x667)],_0x4cdc72=>{const _0x5c9628=_0x13f175;this[_0x5c9628(0xa8e)][_0x5c9628(0x628)](_0x4cdc72);});}[_0x2358f4(0x9de)](_0x3fa684={}){const _0x16454b=_0x2358f4;this[_0x16454b(0xa8e)][_0x16454b(0x951)](_0x3fa684),this[_0x16454b(0x8de)][_0x16454b(0x5ba)]===_0x4ab575[_0x16454b(0x21a)][_0x16454b(0x6ea)]&&this[_0x16454b(0x8de)][_0x16454b(0x39e)](this[_0x16454b(0x667)]),this[_0x16454b(0x396)](_0x16454b(0xa2a),void 0x0);}['openPubSubTopic'](_0x24269f){const _0x5890eb=_0x2358f4,_0x2e9c19=this[_0x5890eb(0xa8e)][_0x5890eb(0x1dc)](_0x24269f);return{'getName':_0x2e9c19[_0x5890eb(0x919)][_0x5890eb(0x767)](_0x2e9c19),'getOwnerId':_0x2e9c19[_0x5890eb(0x779)][_0x5890eb(0x767)](_0x2e9c19),'getContentType':_0x2e9c19[_0x5890eb(0x8d8)]['bind'](_0x2e9c19),'publish':_0x2e9c19[_0x5890eb(0x727)][_0x5890eb(0x767)](_0x2e9c19),'subscribe':_0x2e9c19[_0x5890eb(0x6f4)][_0x5890eb(0x767)](_0x2e9c19),'unsubscribe':_0x2e9c19['unsubscribe'][_0x5890eb(0x767)](_0x2e9c19),'close':_0x2e9c19[_0x5890eb(0x951)]['bind'](_0x2e9c19)};}async[_0x2358f4(0x221)](_0x41bd08,_0x9e82a4){const _0x3e8bfa=_0x2358f4,_0x2d730f=await this[_0x3e8bfa(0xa8e)][_0x3e8bfa(0x221)](_0x41bd08,_0x9e82a4);return{'getName':_0x2d730f['getName']['bind'](_0x2d730f),'getOwnerId':_0x2d730f[_0x3e8bfa(0x779)][_0x3e8bfa(0x767)](_0x2d730f),'getContentType':_0x2d730f[_0x3e8bfa(0x8d8)][_0x3e8bfa(0x767)](_0x2d730f),'publish':_0x2d730f['publish'][_0x3e8bfa(0x767)](_0x2d730f),'unpublish':_0x2d730f[_0x3e8bfa(0x3e8)][_0x3e8bfa(0x767)](_0x2d730f),'get':_0x2d730f[_0x3e8bfa(0x879)][_0x3e8bfa(0x767)](_0x2d730f),'list':_0x2d730f[_0x3e8bfa(0x1d7)]['bind'](_0x2d730f),'getSize':_0x2d730f[_0x3e8bfa(0x377)][_0x3e8bfa(0x767)](_0x2d730f),'subscribe':_0x2d730f['subscribe'][_0x3e8bfa(0x767)](_0x2d730f),'unsubscribe':_0x2d730f[_0x3e8bfa(0x353)][_0x3e8bfa(0x767)](_0x2d730f),'close':_0x2d730f[_0x3e8bfa(0x951)][_0x3e8bfa(0x767)](_0x2d730f)};}async['openExternalStorageConnection'](_0x4ac4d3,_0x3f636d){const _0x2245be=_0x2358f4,_0x243b45=await this[_0x2245be(0xa8e)][_0x2245be(0x5eb)](_0x4ac4d3,_0x3f636d);return{'getName':_0x243b45[_0x2245be(0x919)][_0x2245be(0x767)](_0x243b45),'getOwnerId':_0x243b45[_0x2245be(0x779)][_0x2245be(0x767)](_0x243b45),'getContentType':_0x243b45[_0x2245be(0x8d8)][_0x2245be(0x767)](_0x243b45),'close':_0x243b45[_0x2245be(0x951)][_0x2245be(0x767)](_0x243b45),'get':_0x243b45['get'][_0x2245be(0x767)](_0x243b45),'list':_0x243b45[_0x2245be(0x1d7)][_0x2245be(0x767)](_0x243b45),'subscribe':_0x243b45[_0x2245be(0x6f4)][_0x2245be(0x767)](_0x243b45),'unsubscribe':_0x243b45[_0x2245be(0x353)][_0x2245be(0x767)](_0x243b45)};}async['openKeyValueDatabase'](_0x1fb3b1,_0x569333,_0x24cd53){const _0x4ccbe6=_0x2358f4,_0x436028=await this[_0x4ccbe6(0xa8e)][_0x4ccbe6(0x208)](_0x1fb3b1,_0x569333,_0x24cd53);return{'getName':_0x436028[_0x4ccbe6(0x919)]['bind'](_0x436028),'getOwnerId':_0x436028['getOwnerId'][_0x4ccbe6(0x767)](_0x436028),'getContentType':_0x436028['getContentType'][_0x4ccbe6(0x767)](_0x436028),'getTable':_0x436028['getTable'][_0x4ccbe6(0x767)](_0x436028),'subscribe':_0x436028[_0x4ccbe6(0x6f4)][_0x4ccbe6(0x767)](_0x436028),'unsubscribe':_0x436028[_0x4ccbe6(0x353)]['bind'](_0x436028),'close':_0x436028[_0x4ccbe6(0x951)][_0x4ccbe6(0x767)](_0x436028)};}async[_0x2358f4(0x65a)](_0x190285){const _0x57b9de=_0x2358f4,_0x5d1ab7=await this['orchestrator'][_0x57b9de(0x65a)](_0x190285);return{'getName':_0x5d1ab7[_0x57b9de(0x919)][_0x57b9de(0x767)](_0x5d1ab7),'getOwnerId':_0x5d1ab7[_0x57b9de(0x779)]['bind'](_0x5d1ab7),'getContentType':_0x5d1ab7[_0x57b9de(0x8d8)][_0x57b9de(0x767)](_0x5d1ab7),'createJob':_0x5d1ab7[_0x57b9de(0x217)][_0x57b9de(0x767)](_0x5d1ab7),'getJob':_0x5d1ab7[_0x57b9de(0x220)][_0x57b9de(0x767)](_0x5d1ab7),'getJobs':_0x5d1ab7[_0x57b9de(0x954)][_0x57b9de(0x767)](_0x5d1ab7),'close':_0x5d1ab7[_0x57b9de(0x951)][_0x57b9de(0x767)](_0x5d1ab7)};}async[_0x2358f4(0x94b)](_0x3c344e){const _0x1340d8=_0x2358f4,_0x4bf306=await this['orchestrator'][_0x1340d8(0x94b)](_0x3c344e);return{'close':_0x4bf306[_0x1340d8(0x951)][_0x1340d8(0x767)](_0x4bf306)};}async['openGenerativeAIContext'](_0x12c51c){const _0x4a84e4=_0x2358f4,_0x509ae2=await this['orchestrator'][_0x4a84e4(0x992)](_0x12c51c);return{'createAIJob':_0x509ae2[_0x4a84e4(0x920)][_0x4a84e4(0x767)](_0x509ae2),'ratePrompt':_0x509ae2['ratePrompt'][_0x4a84e4(0x767)](_0x509ae2),'downloadDocument':_0x509ae2[_0x4a84e4(0x9bb)][_0x4a84e4(0x767)](_0x509ae2),'getDataBucketIds':_0x509ae2[_0x4a84e4(0x29f)][_0x4a84e4(0x767)](_0x509ae2),'close':_0x509ae2[_0x4a84e4(0x951)][_0x4a84e4(0x767)](_0x509ae2)};}async[_0x2358f4(0x1dd)](_0x4e7291){const _0x5275b0=_0x2358f4,_0x597bd4=await this[_0x5275b0(0xa8e)]['openGenerativeAIWorker'](_0x4e7291);return{'close':_0x597bd4['close']['bind'](_0x597bd4)};}[_0x2358f4(0x2da)](_0x18d7a2){const _0x58efdc=_0x2358f4,_0x1f493a=this[_0x58efdc(0xa8e)][_0x58efdc(0x2da)](_0x18d7a2);return{'getName':_0x1f493a[_0x58efdc(0x919)]['bind'](_0x1f493a),'getOwnerId':_0x1f493a[_0x58efdc(0x779)][_0x58efdc(0x767)](_0x1f493a),'getContentType':_0x1f493a[_0x58efdc(0x8d8)][_0x58efdc(0x767)](_0x1f493a),'addNode':_0x1f493a[_0x58efdc(0x8c8)][_0x58efdc(0x767)](_0x1f493a),'addEdge':_0x1f493a[_0x58efdc(0x8ec)][_0x58efdc(0x767)](_0x1f493a),'getContent':_0x1f493a['getContent']['bind'](_0x1f493a),'remove':_0x1f493a[_0x58efdc(0xa17)][_0x58efdc(0x767)](_0x1f493a),'saveToDisk':_0x1f493a[_0x58efdc(0x287)][_0x58efdc(0x767)](_0x1f493a),'loadFromDisk':_0x1f493a[_0x58efdc(0x4ae)][_0x58efdc(0x767)](_0x1f493a),'close':_0x1f493a[_0x58efdc(0x951)][_0x58efdc(0x767)](_0x1f493a)};}[_0x2358f4(0x94e)](_0x236354){const _0x55c4ad=_0x2358f4,_0x3e223a=this[_0x55c4ad(0xa8e)][_0x55c4ad(0x94e)](_0x236354);return{'getName':_0x3e223a['getName']['bind'](_0x3e223a),'getOwnerId':_0x3e223a[_0x55c4ad(0x779)][_0x55c4ad(0x767)](_0x3e223a),'getContentType':_0x3e223a['getContentType'][_0x55c4ad(0x767)](_0x3e223a),'search':_0x3e223a[_0x55c4ad(0x791)]['bind'](_0x3e223a),'insert':_0x3e223a[_0x55c4ad(0xa07)]['bind'](_0x3e223a),'remove':_0x3e223a[_0x55c4ad(0xa17)][_0x55c4ad(0x767)](_0x3e223a),'saveToDisk':_0x3e223a[_0x55c4ad(0x287)][_0x55c4ad(0x767)](_0x3e223a),'loadFromDisk':_0x3e223a[_0x55c4ad(0x4ae)][_0x55c4ad(0x767)](_0x3e223a),'close':_0x3e223a[_0x55c4ad(0x951)][_0x55c4ad(0x767)](_0x3e223a)};}[_0x2358f4(0x95e)](_0x445f6f){const _0x59abb3=_0x2358f4;return this[_0x59abb3(0xa8e)][_0x59abb3(0x95e)](_0x445f6f)[_0x59abb3(0x8d9)](_0x1b6c69=>({'getName':_0x1b6c69[_0x59abb3(0x919)]['bind'](_0x1b6c69),'getOwnerId':_0x1b6c69[_0x59abb3(0x779)][_0x59abb3(0x767)](_0x1b6c69),'getContentType':_0x1b6c69[_0x59abb3(0x8d8)][_0x59abb3(0x767)](_0x1b6c69),'publish':_0x1b6c69[_0x59abb3(0x727)][_0x59abb3(0x767)](_0x1b6c69),'subscribe':_0x1b6c69[_0x59abb3(0x6f4)]['bind'](_0x1b6c69),'unsubscribe':_0x1b6c69[_0x59abb3(0x353)]['bind'](_0x1b6c69),'close':_0x1b6c69[_0x59abb3(0x951)]['bind'](_0x1b6c69)}));}['getObjectStoreBuckets'](_0x185a19){const _0x39a6bd=_0x2358f4;return this[_0x39a6bd(0xa8e)][_0x39a6bd(0x57a)](_0x185a19)[_0x39a6bd(0x8d9)](_0x1caa7b=>({'getName':_0x1caa7b[_0x39a6bd(0x919)][_0x39a6bd(0x767)](_0x1caa7b),'getOwnerId':_0x1caa7b[_0x39a6bd(0x779)][_0x39a6bd(0x767)](_0x1caa7b),'getContentType':_0x1caa7b[_0x39a6bd(0x8d8)]['bind'](_0x1caa7b),'publish':_0x1caa7b[_0x39a6bd(0x727)][_0x39a6bd(0x767)](_0x1caa7b),'unpublish':_0x1caa7b['unpublish']['bind'](_0x1caa7b),'get':_0x1caa7b[_0x39a6bd(0x879)][_0x39a6bd(0x767)](_0x1caa7b),'list':_0x1caa7b[_0x39a6bd(0x1d7)][_0x39a6bd(0x767)](_0x1caa7b),'getSize':_0x1caa7b['getSize'][_0x39a6bd(0x767)](_0x1caa7b),'subscribe':_0x1caa7b[_0x39a6bd(0x6f4)]['bind'](_0x1caa7b),'unsubscribe':_0x1caa7b[_0x39a6bd(0x353)][_0x39a6bd(0x767)](_0x1caa7b),'close':_0x1caa7b[_0x39a6bd(0x951)]['bind'](_0x1caa7b)}));}[_0x2358f4(0x8d1)](_0x5e6832){const _0x4d3791=_0x2358f4;return this[_0x4d3791(0xa8e)][_0x4d3791(0x8d1)](_0x5e6832)[_0x4d3791(0x8d9)](_0x5adbec=>({'getName':_0x5adbec[_0x4d3791(0x919)][_0x4d3791(0x767)](_0x5adbec),'getOwnerId':_0x5adbec[_0x4d3791(0x779)][_0x4d3791(0x767)](_0x5adbec),'getContentType':_0x5adbec[_0x4d3791(0x8d8)][_0x4d3791(0x767)](_0x5adbec),'close':_0x5adbec[_0x4d3791(0x951)][_0x4d3791(0x767)](_0x5adbec),'get':_0x5adbec[_0x4d3791(0x879)][_0x4d3791(0x767)](_0x5adbec),'list':_0x5adbec['list'][_0x4d3791(0x767)](_0x5adbec),'subscribe':_0x5adbec[_0x4d3791(0x6f4)][_0x4d3791(0x767)](_0x5adbec),'unsubscribe':_0x5adbec[_0x4d3791(0x353)][_0x4d3791(0x767)](_0x5adbec)}));}[_0x2358f4(0x362)](_0x211552){const _0x1e4218=_0x2358f4;return this[_0x1e4218(0xa8e)][_0x1e4218(0x362)](_0x211552)[_0x1e4218(0x8d9)](_0x21f7bd=>({'getName':_0x21f7bd['getName'][_0x1e4218(0x767)](_0x21f7bd),'getOwnerId':_0x21f7bd[_0x1e4218(0x779)][_0x1e4218(0x767)](_0x21f7bd),'getContentType':_0x21f7bd[_0x1e4218(0x8d8)][_0x1e4218(0x767)](_0x21f7bd),'getTable':_0x21f7bd['getTable'][_0x1e4218(0x767)](_0x21f7bd),'subscribe':_0x21f7bd[_0x1e4218(0x6f4)][_0x1e4218(0x767)](_0x21f7bd),'unsubscribe':_0x21f7bd[_0x1e4218(0x353)][_0x1e4218(0x767)](_0x21f7bd),'close':_0x21f7bd[_0x1e4218(0x951)][_0x1e4218(0x767)](_0x21f7bd)}));}[_0x2358f4(0x1db)](_0x4e1c75){const _0x2c179c=_0x2358f4;return this[_0x2c179c(0xa8e)][_0x2c179c(0x1db)](_0x4e1c75)['map'](_0x410984=>({'createAIJob':_0x410984[_0x2c179c(0x920)][_0x2c179c(0x767)](_0x410984),'ratePrompt':_0x410984[_0x2c179c(0x7be)][_0x2c179c(0x767)](_0x410984),'downloadDocument':_0x410984[_0x2c179c(0x9bb)][_0x2c179c(0x767)](_0x410984),'getDataBucketIds':_0x410984['getDataBucketIds']['bind'](_0x410984),'close':_0x410984[_0x2c179c(0x951)][_0x2c179c(0x767)](_0x410984)}));}[_0x2358f4(0xa46)](_0x3a31fa){const _0x9b9904=_0x2358f4;return this[_0x9b9904(0xa8e)][_0x9b9904(0xa46)](_0x3a31fa)[_0x9b9904(0x8d9)](_0x1447ce=>({'close':_0x1447ce[_0x9b9904(0x951)][_0x9b9904(0x767)](_0x1447ce)}));}[_0x2358f4(0x3c3)](_0x451cf6,_0x4e5ec8){const _0x285796=_0x2358f4,_0x154105=this[_0x285796(0xa8e)][_0x285796(0x912)](_0x451cf6,_0x4e5ec8);return{'getLabel':_0x154105[_0x285796(0x674)][_0x285796(0x767)](_0x154105),'getOwnerId':_0x154105['getOwnerId'][_0x285796(0x767)](_0x154105),'getContentType':_0x154105[_0x285796(0x8d8)][_0x285796(0x767)](_0x154105),'getMediaStream':_0x154105[_0x285796(0x8d5)][_0x285796(0x767)](_0x154105),'setPriority':_0x154105[_0x285796(0x320)][_0x285796(0x767)](_0x154105),'unpublish':_0x154105[_0x285796(0x3e8)]['bind'](_0x154105)};}[_0x2358f4(0x2c7)](_0x230d6c,_0x1b0c6a){const _0x3531a6=_0x2358f4,_0x324f57=this['orchestrator'][_0x3531a6(0x68f)](_0x230d6c,_0x1b0c6a);return{'getLabel':_0x324f57['getLabel']['bind'](_0x324f57),'getOwnerId':_0x324f57[_0x3531a6(0x779)][_0x3531a6(0x767)](_0x324f57),'getContentType':_0x324f57[_0x3531a6(0x8d8)][_0x3531a6(0x767)](_0x324f57),'setPriority':_0x324f57['setPriority']['bind'](_0x324f57),'unpublish':_0x324f57[_0x3531a6(0x3e8)][_0x3531a6(0x767)](_0x324f57),'getMediaStream':_0x324f57['getMediaStream'][_0x3531a6(0x767)](_0x324f57),'addTrack':_0x324f57[_0x3531a6(0x859)][_0x3531a6(0x767)](_0x324f57),'removeTrack':_0x324f57[_0x3531a6(0x295)]['bind'](_0x324f57),'replaceTrack':_0x324f57[_0x3531a6(0x35f)]['bind'](_0x324f57),'setTransformations':_0x324f57[_0x3531a6(0xa75)][_0x3531a6(0x767)](_0x324f57)};}[_0x2358f4(0x467)](_0x477ba8){const _0x4819ac=_0x2358f4;return this[_0x4819ac(0xa8e)][_0x4819ac(0x467)](_0x477ba8)[_0x4819ac(0x8d9)](_0x45d813=>({'getLabel':_0x45d813[_0x4819ac(0x674)][_0x4819ac(0x767)](_0x45d813),'getOwnerId':_0x45d813['getOwnerId'][_0x4819ac(0x767)](_0x45d813),'getContentType':_0x45d813['getContentType']['bind'](_0x45d813),'getMediaStream':_0x45d813[_0x4819ac(0x8d5)][_0x4819ac(0x767)](_0x45d813),'setPriority':_0x45d813[_0x4819ac(0x320)]['bind'](_0x45d813),'unpublish':_0x45d813[_0x4819ac(0x3e8)]['bind'](_0x45d813)}));}[_0x2358f4(0x802)](_0x16fa6a){const _0x5369cb=_0x2358f4;return this[_0x5369cb(0xa8e)][_0x5369cb(0x802)](_0x16fa6a)[_0x5369cb(0x8d9)](_0x24df9c=>({'getLabel':_0x24df9c[_0x5369cb(0x674)]['bind'](_0x24df9c),'getOwnerId':_0x24df9c[_0x5369cb(0x779)][_0x5369cb(0x767)](_0x24df9c),'getContentType':_0x24df9c[_0x5369cb(0x8d8)][_0x5369cb(0x767)](_0x24df9c),'getMediaStream':_0x24df9c[_0x5369cb(0x8d5)][_0x5369cb(0x767)](_0x24df9c),'subscribe':_0x24df9c[_0x5369cb(0x6f4)]['bind'](_0x24df9c),'unsubscribe':_0x24df9c[_0x5369cb(0x353)][_0x5369cb(0x767)](_0x24df9c),'getAvailableTrackKinds':_0x24df9c[_0x5369cb(0x898)][_0x5369cb(0x767)](_0x24df9c),'update':_0x24df9c[_0x5369cb(0x86f)]['bind'](_0x24df9c),'onProviderChange':_0x24df9c[_0x5369cb(0x557)][_0x5369cb(0x767)](_0x24df9c)}));}[_0x2358f4(0x566)](_0x2ae4d1){const _0x1acb0e=_0x2358f4;return this[_0x1acb0e(0xa8e)][_0x1acb0e(0x566)](_0x2ae4d1)['map'](_0x3a3f37=>({'getName':_0x3a3f37[_0x1acb0e(0x919)][_0x1acb0e(0x767)](_0x3a3f37),'getOwnerId':_0x3a3f37[_0x1acb0e(0x779)]['bind'](_0x3a3f37),'getContentType':_0x3a3f37['getContentType']['bind'](_0x3a3f37),'addNode':_0x3a3f37[_0x1acb0e(0x8c8)][_0x1acb0e(0x767)](_0x3a3f37),'addEdge':_0x3a3f37['addEdge'][_0x1acb0e(0x767)](_0x3a3f37),'getContent':_0x3a3f37[_0x1acb0e(0x9a9)][_0x1acb0e(0x767)](_0x3a3f37),'remove':_0x3a3f37[_0x1acb0e(0xa17)]['bind'](_0x3a3f37),'saveToDisk':_0x3a3f37[_0x1acb0e(0x287)]['bind'](_0x3a3f37),'loadFromDisk':_0x3a3f37[_0x1acb0e(0x4ae)][_0x1acb0e(0x767)](_0x3a3f37),'close':_0x3a3f37[_0x1acb0e(0x951)][_0x1acb0e(0x767)](_0x3a3f37)}));}['getVectorDatabases'](_0x33b4ee){const _0x2d39a0=_0x2358f4;return this[_0x2d39a0(0xa8e)][_0x2d39a0(0x8bd)](_0x33b4ee)[_0x2d39a0(0x8d9)](_0x5b2f4c=>({'getName':_0x5b2f4c[_0x2d39a0(0x919)]['bind'](_0x5b2f4c),'getOwnerId':_0x5b2f4c['getOwnerId'][_0x2d39a0(0x767)](_0x5b2f4c),'getContentType':_0x5b2f4c[_0x2d39a0(0x8d8)][_0x2d39a0(0x767)](_0x5b2f4c),'search':_0x5b2f4c[_0x2d39a0(0x791)]['bind'](_0x5b2f4c),'insert':_0x5b2f4c[_0x2d39a0(0xa07)][_0x2d39a0(0x767)](_0x5b2f4c),'remove':_0x5b2f4c[_0x2d39a0(0xa17)][_0x2d39a0(0x767)](_0x5b2f4c),'saveToDisk':_0x5b2f4c[_0x2d39a0(0x287)][_0x2d39a0(0x767)](_0x5b2f4c),'loadFromDisk':_0x5b2f4c[_0x2d39a0(0x4ae)]['bind'](_0x5b2f4c),'close':_0x5b2f4c[_0x2d39a0(0x951)][_0x2d39a0(0x767)](_0x5b2f4c)}));}[_0x2358f4(0x97f)](){const _0x1dcd03=_0x2358f4,_0x5434d8=this[_0x1dcd03(0xa8e)][_0x1dcd03(0x97f)]();switch(_0x5434d8[_0x1dcd03(0x5ba)]){case _0x4ab575['NodeType'][_0x1dcd03(0x6ea)]:return{'type':_0x4ab575[_0x1dcd03(0x21a)]['User'],'getId':_0x5434d8[_0x1dcd03(0x7b4)][_0x1dcd03(0x767)](_0x5434d8),'getDisplayName':_0x5434d8[_0x1dcd03(0x85b)][_0x1dcd03(0x767)](_0x5434d8),'getEmail':_0x5434d8[_0x1dcd03(0x7e7)][_0x1dcd03(0x767)](_0x5434d8),'getRemoteConnections':_0x5434d8['getRemoteConnections'][_0x1dcd03(0x767)](_0x5434d8),'setDisplayName':_0x5434d8[_0x1dcd03(0x2d2)][_0x1dcd03(0x767)](_0x5434d8),'setEmail':_0x5434d8['setEmail'][_0x1dcd03(0x767)](_0x5434d8)};case _0x4ab575[_0x1dcd03(0x21a)][_0x1dcd03(0x461)]:default:return{'type':_0x4ab575[_0x1dcd03(0x21a)][_0x1dcd03(0x461)],'getId':_0x5434d8['getId']['bind'](_0x5434d8),'getRemoteConnections':_0x5434d8['getRemoteConnections'][_0x1dcd03(0x767)](_0x5434d8)};}}[_0x2358f4(0x78f)](_0x5c4f69){const _0x27282a=_0x2358f4;return this['orchestrator']['getRemoteNodes'](_0x5c4f69)[_0x27282a(0x8d9)](_0x30ae97=>{const _0x2db9b5=_0x27282a;switch(_0x30ae97[_0x2db9b5(0x5ba)]){case _0x4ab575[_0x2db9b5(0x21a)][_0x2db9b5(0x6ea)]:return{'type':_0x4ab575[_0x2db9b5(0x21a)]['User'],'getId':_0x30ae97[_0x2db9b5(0x7b4)][_0x2db9b5(0x767)](_0x30ae97),'getDisplayName':_0x30ae97[_0x2db9b5(0x85b)][_0x2db9b5(0x767)](_0x30ae97),'getEmail':_0x30ae97['getEmail']['bind'](_0x30ae97),'getRemoteConnections':_0x30ae97[_0x2db9b5(0x3ca)][_0x2db9b5(0x767)](_0x30ae97)};case _0x4ab575[_0x2db9b5(0x21a)][_0x2db9b5(0x461)]:return{'type':_0x4ab575[_0x2db9b5(0x21a)][_0x2db9b5(0x461)],'getId':_0x30ae97['getId'][_0x2db9b5(0x767)](_0x30ae97),'getRemoteConnections':_0x30ae97[_0x2db9b5(0x3ca)]['bind'](_0x30ae97)};default:throw new _0x5af266(_0x3412d7[_0x2db9b5(0x6c8)],'Invalid\x20node\x20type');}});}['on']=(..._0xa1a4f8)=>{const _0x157c72=_0x2358f4;this[_0x157c72(0x5f2)]['on'](..._0xa1a4f8);};['emit']=(..._0x243be2)=>this[_0x2358f4(0x5f2)][_0x2358f4(0x396)](..._0x243be2);[_0x2358f4(0x2a2)](..._0x15a610){this['eventEmitter']['off'](..._0x15a610);}}class _0x524a59{['id'];[_0x2358f4(0x49e)];[_0x2358f4(0x2ca)];[_0x2358f4(0x5ba)]=_0x4ab575[_0x2358f4(0x21a)][_0x2358f4(0x6ea)];['joinedClusters']=new Map();['observer']=_0x2365fd();constructor(_0x3b5518,_0x45564b,_0x5c8031){const _0x9406b0=_0x2358f4;this['id']=_0x3b5518,this['displayName']=_0x45564b,this[_0x9406b0(0x2ca)]=_0x5c8031;}[_0x2358f4(0x7b4)](){return this['id'];}[_0x2358f4(0x85b)](){return this['displayName'];}[_0x2358f4(0x7e7)](){const _0x412745=_0x2358f4;return this[_0x412745(0x2ca)];}[_0x2358f4(0x2d2)](_0x506777){const _0x55f9b0=_0x2358f4;this[_0x55f9b0(0x49e)]!==_0x506777&&(this[_0x55f9b0(0x49e)]=_0x506777,this[_0x55f9b0(0x93d)][_0x55f9b0(0x727)](this));}['setEmail'](_0x5212ed){const _0x405256=_0x2358f4;this[_0x405256(0x2ca)]!==_0x5212ed&&(this[_0x405256(0x2ca)]=_0x5212ed,this[_0x405256(0x93d)]['publish'](this));}[_0x2358f4(0x207)](_0x26c14e,_0x4834d3){const _0xc0e7dd=_0x2358f4;if(this[_0xc0e7dd(0x4f0)][_0xc0e7dd(0x3d0)](_0x26c14e))return;const _0x113693=this[_0xc0e7dd(0x93d)][_0xc0e7dd(0x6f4)](_0x4834d3);this[_0xc0e7dd(0x4f0)]['set'](_0x26c14e,_0x113693);}['unregisterCluster'](_0x26617a){const _0xedd6b7=_0x2358f4;if(!this['joinedClusters']['has'](_0x26617a))return;const _0x4b7078=this[_0xedd6b7(0x4f0)]['get'](_0x26617a);_0x4b7078&&_0x4b7078(),this['joinedClusters']['delete'](_0x26617a);}}class _0xb4bd90{[_0x2358f4(0xa0a)];[_0x2358f4(0x56e)];constructor(_0x380f04){this['vendorId']=_0x380f04;}async[_0x2358f4(0x82d)](_0x528c37){const _0x1e515c=_0x2358f4,_0x4e6f46=await(0x0,_0x61dd54['httpsCallable'])(_0x1eef3c[_0x1e515c(0x3d5)](),_0x1e515c(0x30f))({'uid':'ccc'+this[_0x1e515c(0xa0a)]+'ccc'+_0x528c37['id']}),_0x1282b9=await(0x0,_0x1ccbf3[_0x1e515c(0x72d)])(_0x1eef3c['getAuth'](),_0x4e6f46[_0x1e515c(0x562)][_0x1e515c(0x436)]);this[_0x1e515c(0x56e)]=_0x1282b9[_0x1e515c(0x56e)];}async['signOut'](){const _0x4cda55=_0x2358f4;await(0x0,_0x1ccbf3[_0x4cda55(0x6ba)])(_0x1eef3c[_0x4cda55(0x277)]());}['getIdToken'](){const _0x3f2628=_0x2358f4;return this['user']?.[_0x3f2628(0x23d)]()??Promise[_0x3f2628(0x2a7)](_0x3f2628(0x1e5));}}class _0x26b950{static [_0x2358f4(0x6da)];[_0x2358f4(0x527)]=[];constructor(){}static[_0x2358f4(0xa9c)](){const _0x1deae3=_0x2358f4;return _0x26b950[_0x1deae3(0x6da)]||(_0x26b950[_0x1deae3(0x6da)]=new _0x26b950()),_0x26b950[_0x1deae3(0x6da)];}[_0x2358f4(0x81f)](){const _0x87db7d=_0x2358f4;this[_0x87db7d(0x66f)](),this['checkMediaStream'](),this[_0x87db7d(0x3ba)](),this[_0x87db7d(0x205)](),this[_0x87db7d(0x92e)](),this[_0x87db7d(0x41b)](),this[_0x87db7d(0x331)](),this[_0x87db7d(0x1a0)](),this[_0x87db7d(0x9f9)](),this[_0x87db7d(0x230)](),_0x561d9b[_0x87db7d(0x870)](_0x577427['Support'],_0x87db7d(0x35c),{'featureSupport':this[_0x87db7d(0x527)]});}[_0x2358f4(0x722)](_0x10eca8){const _0x282f19=_0x2358f4,_0x5c967a=this[_0x282f19(0x527)]['find'](_0x5392e5=>_0x5392e5[_0x282f19(0x683)]===_0x10eca8);return!!_0x5c967a&&_0x5c967a[_0x282f19(0x434)];}[_0x2358f4(0x1bd)](_0x5af8bd){const _0x130dbc=_0x2358f4;_0x561d9b['logEvent']('support',{'nodeId':_0x5af8bd[_0x130dbc(0x7b4)](),'nodeType':_0x5af8bd[_0x130dbc(0x5ba)],'data':{'featureSupport':this['featureSupport']}});}[_0x2358f4(0x66f)](){const _0x5a6580=_0x2358f4,_0x4d7961=_0x4ab0b0[_0x5a6580(0x336)];let _0x3c2125=!0x1;_0x5a6580(0xa08)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x5a6580(0xa08)==typeof RTCSessionDescription?_0x3c2125=!0x0:_0x561d9b['log'](_0x577427[_0x5a6580(0x7a5)],_0x5a6580(0xa32)+_0x4d7961+_0x5a6580(0x6ca)),this[_0x5a6580(0x527)][_0x5a6580(0x397)]({'name':_0x4d7961,'supported':_0x3c2125});}[_0x2358f4(0x2d8)](){const _0x3756d0=_0x2358f4,_0x514ec9=_0x4ab0b0[_0x3756d0(0x37a)];let _0x223202=!0x1;_0x3756d0(0xa08)==typeof MediaStream&&_0x3756d0(0xa08)==typeof MediaStreamTrack&&'object'==typeof navigator&&'object'==typeof navigator[_0x3756d0(0x3ea)]&&'function'==typeof navigator['mediaDevices'][_0x3756d0(0x437)]?_0x223202=!0x0:_0x561d9b['log'](_0x577427[_0x3756d0(0x7a5)],'Support:\x20'+_0x514ec9+_0x3756d0(0x6ca)),this[_0x3756d0(0x527)][_0x3756d0(0x397)]({'name':_0x514ec9,'supported':_0x223202});}[_0x2358f4(0x3ba)](){const _0x2213f7=_0x2358f4,_0x5070d0=_0x4ab0b0[_0x2213f7(0x9aa)];let _0x4f7b50=!0x1;'object'==typeof navigator&&_0x2213f7(0x7f5)==typeof navigator['mediaDevices']&&'function'==typeof navigator[_0x2213f7(0x3ea)][_0x2213f7(0x925)]?_0x4f7b50=!0x0:_0x561d9b[_0x2213f7(0x870)](_0x577427['Support'],_0x2213f7(0xa32)+_0x5070d0+'\x20not\x20supported'),this[_0x2213f7(0x527)][_0x2213f7(0x397)]({'name':_0x5070d0,'supported':_0x4f7b50});}[_0x2358f4(0x205)](){const _0x5d1a33=_0x2358f4,_0xf534fb=_0x4ab0b0[_0x5d1a33(0x5fa)];let _0x2735fe=!0x1;_0x5d1a33(0xa08)!=typeof AudioContext||_0x5d1a33(0xa08)!=typeof ScriptProcessorNode&&_0x5d1a33(0xa08)!=typeof AudioWorkletNode||_0x5d1a33(0xa08)!=typeof MediaStreamAudioSourceNode?_0x561d9b[_0x5d1a33(0x870)](_0x577427[_0x5d1a33(0x7a5)],'Support:\x20'+_0xf534fb+_0x5d1a33(0x6ca)):_0x2735fe=!0x0,this[_0x5d1a33(0x527)][_0x5d1a33(0x397)]({'name':_0xf534fb,'supported':_0x2735fe});}[_0x2358f4(0x92e)](){const _0x4e3397=_0x2358f4,_0x27c6da=_0x4ab0b0[_0x4e3397(0x53d)];let _0x359633=!0x1;_0x4e3397(0x7f5)==typeof navigator&&_0x4e3397(0x7f5)==typeof navigator[_0x4e3397(0x3ea)]&&'function'==typeof navigator[_0x4e3397(0x3ea)][_0x4e3397(0x2f5)]&&_0x4e3397(0xa08)==typeof MediaDeviceInfo?_0x359633=!0x0:_0x561d9b[_0x4e3397(0x870)](_0x577427['Support'],'Support:\x20'+_0x27c6da+_0x4e3397(0x6ca)),this[_0x4e3397(0x527)][_0x4e3397(0x397)]({'name':_0x27c6da,'supported':_0x359633});}[_0x2358f4(0x41b)](){const _0x379c6d=_0x2358f4,_0x1e7287=_0x4ab0b0['AudioOutput'];let _0x516d91=!0x1;_0x379c6d(0x7f5)==typeof document&&_0x379c6d(0xa08)==typeof document[_0x379c6d(0x270)](_0x379c6d(0x809))[_0x379c6d(0x2c2)]?_0x516d91=!0x0:_0x561d9b[_0x379c6d(0x870)](_0x577427[_0x379c6d(0x7a5)],_0x379c6d(0xa32)+_0x1e7287+_0x379c6d(0x6ca)),this[_0x379c6d(0x527)][_0x379c6d(0x397)]({'name':_0x1e7287,'supported':_0x516d91});}async[_0x2358f4(0x331)](){const _0x43c5c9=_0x2358f4,_0xfc031e=_0x4ab0b0[_0x43c5c9(0x613)];let _0x1a93a8=!0x1;try{const _0x6c767=document[_0x43c5c9(0x270)](_0x43c5c9(0x9f2));if(MediaRecorder&&MediaSource&&_0x6c767['captureStream']){const _0x44a3e5=_0x6c767[_0x43c5c9(0x98f)](),_0x58028a=new MediaRecorder(_0x44a3e5);_0x58028a[_0x43c5c9(0x435)](),await new Promise(_0x26c6ae=>setTimeout(_0x26c6ae,0x7d0)),_0x58028a[_0x43c5c9(0x4b0)](),_0x1a93a8='inactive'===_0x58028a[_0x43c5c9(0x49a)];}}catch(_0x2055b7){_0x561d9b[_0x43c5c9(0x870)](_0x577427[_0x43c5c9(0x7a5)],_0x43c5c9(0xa32)+_0xfc031e+'\x20check\x20failed',_0x2055b7);}this[_0x43c5c9(0x527)][_0x43c5c9(0x397)]({'name':_0xfc031e,'supported':_0x1a93a8}),_0x1a93a8||_0x561d9b[_0x43c5c9(0x870)](_0x577427[_0x43c5c9(0x7a5)],_0x43c5c9(0xa32)+_0xfc031e+'\x20not\x20supported');}[_0x2358f4(0x1a0)](){const _0x261edc=_0x2358f4,_0x296e89=_0x4ab0b0[_0x261edc(0xa4d)];let _0x14e1f6=!0x1;try{document['createElement'](_0x261edc(0x9f2))[_0x261edc(0x98f)]&&(_0x14e1f6=!0x0);}catch(_0x495eb0){_0x561d9b[_0x261edc(0x870)](_0x577427[_0x261edc(0x7a5)],_0x261edc(0xa32)+_0x296e89+_0x261edc(0x52b),_0x495eb0);}this[_0x261edc(0x527)][_0x261edc(0x397)]({'name':_0x296e89,'supported':_0x14e1f6}),_0x14e1f6||_0x561d9b[_0x261edc(0x870)](_0x577427[_0x261edc(0x7a5)],'Support:\x20'+_0x296e89+'\x20not\x20supported');}[_0x2358f4(0x9f9)](){const _0x3f744a=_0x2358f4,_0x3c50d0=_0x4ab0b0[_0x3f744a(0x970)];let _0x552c94=!0x1;try{const _0x4f8fbc=document[_0x3f744a(0x270)](_0x3f744a(0x9f2));WebGLRenderingContext&&_0x4f8fbc[_0x3f744a(0x846)]('webgl')&&(_0x552c94=!0x0);}catch(_0x1c7666){_0x561d9b[_0x3f744a(0x870)](_0x577427['Support'],_0x3f744a(0xa32)+_0x3c50d0+_0x3f744a(0x52b),_0x1c7666);}this['featureSupport']['push']({'name':_0x3c50d0,'supported':_0x552c94}),_0x552c94||_0x561d9b[_0x3f744a(0x870)](_0x577427['Support'],_0x3f744a(0xa32)+_0x3c50d0+_0x3f744a(0x6ca));}[_0x2358f4(0x230)](){const _0x3cee7c=_0x2358f4,_0x4831c7=_0x4ab0b0['AudioContext'];let _0x461b2f=!0x1;_0x3cee7c(0xa08)==typeof AudioContext?_0x461b2f=!0x0:_0x561d9b[_0x3cee7c(0x870)](_0x577427[_0x3cee7c(0x7a5)],_0x3cee7c(0xa32)+_0x4831c7+'\x20not\x20supported'),this['featureSupport'][_0x3cee7c(0x397)]({'name':_0x4831c7,'supported':_0x461b2f});}}const _0x4b9b62=_0x26b950[_0x2358f4(0xa9c)]();class _0x2838fd{static [_0x2358f4(0x6da)];static ['unsubscribe'];static [_0x2358f4(0x6e0)];[_0x2358f4(0x957)];[_0x2358f4(0xa0a)];[_0x2358f4(0x56f)];[_0x2358f4(0xa9e)];[_0x2358f4(0x56a)]=new Map();[_0x2358f4(0x8fe)];constructor(_0x240b44,_0x339940,_0x3387b8){const _0x2b211a=_0x2358f4;this[_0x2b211a(0xa0a)]=_0x240b44,this['configs']=_0x339940,this[_0x2b211a(0x957)]=new _0xb4bd90(this[_0x2b211a(0xa0a)]),_0x4b9b62[_0x2b211a(0x81f)](),this['options']={'audioContext':_0x3387b8?.[_0x2b211a(0x830)]??(_0x4b9b62[_0x2b211a(0x722)](_0x4ab0b0[_0x2b211a(0x563)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x3387b8?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x3387b8?.['minConnections']??0x3,'maxConnections':_0x3387b8?.['maxConnections']??(_0x3387b8?.[_0x2b211a(0x721)]&&0x4*_0x3387b8[_0x2b211a(0x721)])??0xc,'maxDistance':_0x3387b8?.['maxDistance']??0xa,'maxFps':_0x3387b8?.[_0x2b211a(0x290)]??0x18,'maxBpp':_0x3387b8?.['maxBpp']??0.12,'objectStoreConnector':_0x3387b8?.[_0x2b211a(0x5a8)]??_0x39ac8e['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x3387b8?.[_0x2b211a(0x7db)],'keyValueDatabaseConnector':_0x3387b8?.[_0x2b211a(0x37e)]??_0x586aed[_0x2b211a(0x4b7)],'loggingDatabaseConnector':_0x3387b8?.[_0x2b211a(0x348)]??_0x586aed[_0x2b211a(0x4b7)],'peerConnectionConnector':_0x3387b8?.[_0x2b211a(0x53c)]??_0x1474b0['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x3387b8?.['generativeAIWorkerConnectors'],'vectorDatabaseConnector':_0x3387b8?.[_0x2b211a(0xa6f)],'graphDatabaseConnector':_0x3387b8?.[_0x2b211a(0x1e3)],'documentParserConnector':_0x3387b8?.[_0x2b211a(0x2db)],'nlpLibraryConnector':_0x3387b8?.[_0x2b211a(0x36c)],'searchConnector':_0x3387b8?.[_0x2b211a(0x8fa)]},_0x3387b8?.[_0x2b211a(0x496)]&&this['options'][_0x2b211a(0x830)]&&_0x183111['startNoThrottlingHack'](this[_0x2b211a(0x56f)]['audioContext']),_0x561d9b[_0x2b211a(0x1cb)](this['vendorId']),_0x3387b8?.[_0x2b211a(0x74d)]&&_0x561d9b[_0x2b211a(0x9b9)](_0x3387b8[_0x2b211a(0x74d)]);}static async[_0x2358f4(0xa9c)](_0x55e655,_0x1ef67f,_0x51ee77,_0x1f0651,_0x438b59){const _0x33f60a=_0x2358f4;this[_0x33f60a(0x6e0)]=_0x51ee77;const _0x1ee18c=await this[_0x33f60a(0xa51)](_0x55e655,_0x1ef67f,_0x438b59);return _0x2838fd[_0x33f60a(0x6da)]||(_0x2838fd[_0x33f60a(0x6da)]=new _0x2838fd(_0x55e655,_0x1ee18c,_0x1f0651)),{'close':_0x2838fd['instance']['close'][_0x33f60a(0x767)](_0x2838fd[_0x33f60a(0x6da)]),'authenticateUser':_0x2838fd[_0x33f60a(0x6da)][_0x33f60a(0x9a5)][_0x33f60a(0x767)](_0x2838fd[_0x33f60a(0x6da)]),'authenticateAgent':_0x2838fd[_0x33f60a(0x6da)]['authenticateAgent'][_0x33f60a(0x767)](_0x2838fd[_0x33f60a(0x6da)]),'joinCluster':_0x2838fd[_0x33f60a(0x6da)][_0x33f60a(0x9c8)][_0x33f60a(0x767)](_0x2838fd[_0x33f60a(0x6da)])};}static async[_0x2358f4(0x5e2)](){const _0x2dc9c6=_0x2358f4;return _0x1eef3c[_0x2dc9c6(0x63a)]();}static[_0x2358f4(0xa26)](){const _0x166447=_0x2358f4;return _0x3dd9c1[_0x166447(0xa26)];}async[_0x2358f4(0x951)](_0x749834){const _0x21e069=_0x2358f4;this[_0x21e069(0x56a)][_0x21e069(0x37b)](_0x29dec4=>{const _0x3993ac=_0x21e069;_0x29dec4[_0x3993ac(0x2a2)](),_0x29dec4[_0x3993ac(0x9de)](_0x749834);}),this[_0x21e069(0x56a)]['clear'](),this['options'][_0x21e069(0x830)]&&_0x183111['stopNoThrottlingHack'](),_0x2838fd[_0x21e069(0x353)]?.(),_0x2838fd[_0x21e069(0x353)]=void 0x0,this[_0x21e069(0x8fe)]=void 0x0,await this[_0x21e069(0x957)][_0x21e069(0x6ba)](),_0x2838fd[_0x21e069(0x6da)]=void 0x0;}static async[_0x2358f4(0xa51)](_0x570754,_0x1892ca,_0x5ea6a2){const _0x3d718d=_0x2358f4;if(!this[_0x3d718d(0x6e0)])throw new _0x5af266(_0x3412d7[_0x3d718d(0x7e6)],_0x3d718d(0x924));let _0x1a235d;try{_0x1a235d=await(0x0,_0x61dd54[_0x3d718d(0x299)])(_0x1eef3c[_0x3d718d(0x3d5)](),_0x3d718d(0xa1b))({'vendorId':_0x570754,'accessToken':_0x1892ca,'secretKey':_0x5ea6a2});}catch(_0x185cf4){throw new _0x5af266(_0x3412d7['InvalidAccess'],_0x3d718d(0xa0f));}if(!this['isInternalSDKConfigs'](_0x1a235d['data']))throw new _0x5af266(_0x3412d7[_0x3d718d(0x818)],'Invalid\x20credentials');const _0x1e138=_0x1a235d[_0x3d718d(0x562)];return _0x1e138[_0x3d718d(0xa4b)]||(_0x1e138[_0x3d718d(0xa4b)]=[]),this[_0x3d718d(0x6e0)]===_0x4ab575[_0x3d718d(0x21a)][_0x3d718d(0x461)]&&(_0x1e138[_0x3d718d(0x922)]=_0x1e138[_0x3d718d(0x922)]['filter'](_0x36498a=>_0x36498a[_0x3d718d(0xa62)][_0x3d718d(0x43b)]('stun:'))),this[_0x3d718d(0x353)]||(this[_0x3d718d(0x353)]=_0x183111['setInterval'](async()=>{const _0x351de1=_0x3d718d;try{const _0x356951=await this['validateAccess'](_0x570754,_0x1892ca,_0x5ea6a2);this[_0x351de1(0x6e0)]===_0x4ab575[_0x351de1(0x21a)][_0x351de1(0x461)]&&(_0x356951[_0x351de1(0x922)]=_0x356951[_0x351de1(0x922)][_0x351de1(0x829)](_0x24b6ae=>_0x24b6ae[_0x351de1(0xa62)]['startsWith'](_0x351de1(0x36f)))),_0x1e138['iceServers']=_0x356951[_0x351de1(0x922)];}catch(_0x24f9cd){}},0x1b7740)),_0x1e138;}async[_0x2358f4(0x9a5)](_0x252b8d){const _0x5ed785=_0x2358f4;if(_0x2838fd[_0x5ed785(0x6e0)]!==_0x4ab575['NodeType'][_0x5ed785(0x6ea)])throw new _0x5af266(_0x3412d7[_0x5ed785(0x6c8)],_0x5ed785(0x57b));await this[_0x5ed785(0x957)][_0x5ed785(0x82d)](_0x252b8d);const _0x543e3f=new _0x524a59(_0x252b8d['id'],_0x252b8d['displayName'],_0x252b8d['email']);return this[_0x5ed785(0x8fe)]={'node':_0x543e3f},_0x4b9b62[_0x5ed785(0x1bd)](_0x543e3f),{'type':_0x4ab575[_0x5ed785(0x21a)][_0x5ed785(0x6ea)],'getId':_0x543e3f[_0x5ed785(0x7b4)]['bind'](_0x543e3f),'getDisplayName':_0x543e3f[_0x5ed785(0x85b)][_0x5ed785(0x767)](_0x543e3f),'getEmail':_0x543e3f[_0x5ed785(0x7e7)][_0x5ed785(0x767)](_0x543e3f),'setDisplayName':_0x543e3f['setDisplayName'][_0x5ed785(0x767)](_0x543e3f),'setEmail':_0x543e3f['setEmail'][_0x5ed785(0x767)](_0x543e3f)};}async[_0x2358f4(0xa03)](_0x468f7f){const _0x3de2cb=_0x2358f4;if(_0x2838fd['mode']!==_0x4ab575['NodeType'][_0x3de2cb(0x461)])throw new _0x5af266(_0x3412d7[_0x3de2cb(0x6c8)],'Node\x20type\x20is\x20invalid');const {id:_0x39afdd,groupId:_0x109462}=_0x468f7f,_0x3b8fb5=await(0x0,_0x36f88f[_0x3de2cb(0x9c0)])((0x0,_0x36f88f[_0x3de2cb(0x747)])(_0x1eef3c[_0x3de2cb(0x44d)](),_0x3de2cb(0x267)+this[_0x3de2cb(0xa0a)]+'/resources/agent/items/'+_0x109462));if(!_0x3b8fb5[_0x3de2cb(0x609)]())throw new _0x5af266(_0x3412d7[_0x3de2cb(0x8d4)],'Agent\x20group\x20not\x20found');const _0x366983=_0x3b8fb5[_0x3de2cb(0x562)]();await this[_0x3de2cb(0x957)]['signInWithCredential']({'id':_0x39afdd});const _0x5e5fb7=new _0x541832(_0x39afdd,_0x109462,this[_0x3de2cb(0xa0a)],_0x366983);return this[_0x3de2cb(0x8fe)]={'node':_0x5e5fb7},_0x4b9b62[_0x3de2cb(0x1bd)](_0x5e5fb7),await this[_0x3de2cb(0x493)](_0x5e5fb7),{'type':_0x4ab575[_0x3de2cb(0x21a)][_0x3de2cb(0x461)],'getId':_0x5e5fb7['getId'][_0x3de2cb(0x767)](_0x5e5fb7),'onConfigurationChange':_0x5e5fb7[_0x3de2cb(0x68c)]['bind'](_0x5e5fb7),'setReportCapacity':_0x5e5fb7[_0x3de2cb(0x498)][_0x3de2cb(0x767)](_0x5e5fb7)};}async['joinCluster'](_0x4061e3){const _0x148eb4=_0x2358f4;if(!this[_0x148eb4(0x8fe)])throw new _0x5af266(_0x3412d7[_0x148eb4(0x8d4)],_0x148eb4(0xa15));if(this[_0x148eb4(0x8fe)][_0x148eb4(0x3b6)][_0x148eb4(0x5ba)]!==_0x4ab575[_0x148eb4(0x21a)][_0x148eb4(0x6ea)])throw new _0x5af266(_0x3412d7[_0x148eb4(0x7cf)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this['clusters'][_0x148eb4(0x3d0)](_0x4061e3))throw new _0x5af266(_0x3412d7['ClusterAlreadyJoined'],'Cluster\x20already\x20joined');const _0xe7842a=new _0x2b0d1d(this[_0x148eb4(0xa0a)],_0x4061e3,this[_0x148eb4(0x8fe)][_0x148eb4(0x3b6)],this[_0x148eb4(0x957)],this[_0x148eb4(0x56f)],this[_0x148eb4(0xa9e)]);return await _0xe7842a[_0x148eb4(0x374)](),this[_0x148eb4(0x335)](_0x4061e3,_0xe7842a),_0x561d9b[_0x148eb4(0x890)](_0x148eb4(0x9a0),{'clusterId':_0x4061e3,'nodeId':this[_0x148eb4(0x8fe)][_0x148eb4(0x3b6)][_0x148eb4(0x7b4)](),'nodeType':this[_0x148eb4(0x8fe)][_0x148eb4(0x3b6)][_0x148eb4(0x5ba)]}),{'leave':_0xe7842a['leave'][_0x148eb4(0x767)](_0xe7842a),'getLocalNode':_0xe7842a[_0x148eb4(0x97f)][_0x148eb4(0x767)](_0xe7842a),'openPubSubTopic':_0xe7842a[_0x148eb4(0x1dc)][_0x148eb4(0x767)](_0xe7842a),'openObjectStoreBucket':_0xe7842a[_0x148eb4(0x221)][_0x148eb4(0x767)](_0xe7842a),'openExternalStorageConnection':_0xe7842a[_0x148eb4(0x5eb)][_0x148eb4(0x767)](_0xe7842a),'openKeyValueDatabase':_0xe7842a['openKeyValueDatabase']['bind'](_0xe7842a),'openGenerativeAIContext':_0xe7842a[_0x148eb4(0x992)][_0x148eb4(0x767)](_0xe7842a),'openGenerativeAIWorker':_0xe7842a[_0x148eb4(0x1dd)][_0x148eb4(0x767)](_0xe7842a),'openGraphDatabase':_0xe7842a[_0x148eb4(0x2da)][_0x148eb4(0x767)](_0xe7842a),'openVectorDatabase':_0xe7842a['openVectorDatabase'][_0x148eb4(0x767)](_0xe7842a),'publishLocalMediaStream':_0xe7842a[_0x148eb4(0x3c3)][_0x148eb4(0x767)](_0xe7842a),'publishLocalDynamicMediaStream':_0xe7842a['publishLocalDynamicMediaStream']['bind'](_0xe7842a),'getPubSubTopics':_0xe7842a[_0x148eb4(0x95e)]['bind'](_0xe7842a),'getObjectStoreBuckets':_0xe7842a[_0x148eb4(0x57a)][_0x148eb4(0x767)](_0xe7842a),'getExternalStorageConnections':_0xe7842a[_0x148eb4(0x8d1)][_0x148eb4(0x767)](_0xe7842a),'getKeyValueDatabases':_0xe7842a[_0x148eb4(0x362)]['bind'](_0xe7842a),'getGenerativeAIContexts':_0xe7842a['getGenerativeAIContexts']['bind'](_0xe7842a),'getGenerativeAIWorkers':_0xe7842a['getGenerativeAIWorkers'][_0x148eb4(0x767)](_0xe7842a),'getGraphDatabases':_0xe7842a['getGraphDatabases'][_0x148eb4(0x767)](_0xe7842a),'getVectorDatabases':_0xe7842a[_0x148eb4(0x8bd)][_0x148eb4(0x767)](_0xe7842a),'getLocalMediaStreams':_0xe7842a[_0x148eb4(0x467)][_0x148eb4(0x767)](_0xe7842a),'getRemoteMediaStreams':_0xe7842a[_0x148eb4(0x802)][_0x148eb4(0x767)](_0xe7842a),'getRemoteNodes':_0xe7842a['getRemoteNodes'][_0x148eb4(0x767)](_0xe7842a),'on':_0xe7842a['on'][_0x148eb4(0x767)](_0xe7842a),'off':_0xe7842a[_0x148eb4(0x2a2)][_0x148eb4(0x767)](_0xe7842a)};}async[_0x2358f4(0x493)](_0x1bf5f3){const _0x404d6a=_0x2358f4;for(const _0x5932f7 of _0x1bf5f3[_0x404d6a(0x7c8)][_0x404d6a(0x56a)]){const _0x3313ee=new _0x2b0d1d(this[_0x404d6a(0xa0a)],_0x5932f7['id'],_0x1bf5f3,this['authService'],this[_0x404d6a(0x56f)],this[_0x404d6a(0xa9e)]);await _0x3313ee[_0x404d6a(0x374)](),this[_0x404d6a(0x335)](_0x5932f7['id'],_0x3313ee);for(const _0x213463 of _0x5932f7[_0x404d6a(0x5de)]??[])_0x3313ee[_0x404d6a(0x1dc)](_0x213463);for(const _0x3e3b1e of _0x5932f7['objectStorageBuckets']??[])await _0x3313ee[_0x404d6a(0x221)](_0x3e3b1e);for(const _0x2748ae of _0x5932f7[_0x404d6a(0x8e7)]??[]){const _0x826315=_0x2748ae['split']('-');await _0x3313ee[_0x404d6a(0x5eb)](_0x826315[0x1],_0x826315[0x0]);}for(const _0x2c3996 of _0x5932f7['keyValueDatabases']??[])await _0x3313ee[_0x404d6a(0x208)](_0x2c3996,{'version':0x1,'tables':{}});for(const _0x3d9b83 of _0x5932f7[_0x404d6a(0x94d)]??[])_0x3313ee[_0x404d6a(0x2da)](_0x3d9b83);for(const _0x669165 of _0x5932f7[_0x404d6a(0x1de)]??[])_0x3313ee[_0x404d6a(0x94e)](_0x669165);for(const _0x39d3a7 of _0x5932f7[_0x404d6a(0x740)]??[]){await _0x3313ee[_0x404d6a(0x1dd)](_0x39d3a7);const _0x2b7af8=_0xacdb89(this[_0x404d6a(0xa0a)],_0x39d3a7),_0x45c3fc=_0x1602b3(),_0x388af1=this[_0x404d6a(0x56f)][_0x404d6a(0x348)]??this[_0x404d6a(0x56f)][_0x404d6a(0x37e)];await _0x3313ee[_0x404d6a(0x208)](_0x2b7af8,_0x45c3fc,_0x388af1);}}}[_0x2358f4(0x335)](_0x57dbe4,_0x304e2b){const _0x5cd229=_0x2358f4;this[_0x5cd229(0x56a)]['set'](_0x57dbe4,_0x304e2b),_0x304e2b['on'](_0x5cd229(0xa2a),()=>{const _0x3f8e62=_0x5cd229;_0x304e2b[_0x3f8e62(0x2a2)](),this[_0x3f8e62(0x56a)]['delete'](_0x57dbe4);});}static[_0x2358f4(0x6de)](_0x566aa9){const _0x4d5888=_0x2358f4;return void 0x0!==_0x566aa9[_0x4d5888(0x922)];}}return _0x5385df;})())));