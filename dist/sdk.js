function a0_0x2eba(_0x168302,_0x342acc){const _0x5c4ded=a0_0x5c4d();return a0_0x2eba=function(_0x2eba8c,_0x49d122){_0x2eba8c=_0x2eba8c-0x86;let _0x5c8807=_0x5c4ded[_0x2eba8c];return _0x5c8807;},a0_0x2eba(_0x168302,_0x342acc);}function a0_0x5c4d(){const _0xa88af6=['Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','getContext','dbKey','Chosen\x20answer','setVendorId','waitConnected','minThreshold','parse','setLoggingConnectors','senders','Request','replace','CloseKeyValueDatabase','shift','logConnectionState','isSubscribed','estimatedPlayoutTimestamp','contentManager','getTableConnector','ObjectStore','autoplay','cpu.fps','authNode','notifyJoin','videoWidth','mediaTopics','cluster-already-joined','detail','getTransactionFromTableWriteEvent','connection-not-connected','senderConnection','key-value-database-name-not-string','getTransactions','minConnections','removeListener','receiverStreams','\x20-\x20Sending\x20propagation\x20(','index','targetId','CONNECTION_STATE_CHANGE','destinationIds','handleNoAnswer','KeyValueDatabaseStats','action','RequestTransactionsValue','handleFileWrite','senderPreviousTimestamp','publishSyncCompleted','getHash','ObjectStoreDoesNotExist','InvalidSubscription','commit','closeConnection','isConnected','.info/serverTimeOffset','durationTime','https://crewdle-sdk-default-rtdb.firebaseio.com','481218GWNQRp','ConnectionNotinitialized','handleError','function','debounceStats','FileWrite','isChannelEnabled','bytesSent','Buffering\x20event','connection-no-retry-queue','parentId','moveObject','handleIceCandidates','has','Invalid\x20publisher.','420235181083','initializeSystemTopic','setupStatsReporting','Subscribing\x20to\x20an\x20event:\x20on','RemoteConnectionExists','Cannot\x20publish\x20file:\x20','removePubSubTopic','loggingConnectors','abs','SyncComplete','timeSending','getVideoTracks','app','width','getMaxDistance','ref','doc','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','peerConnectionConnector','createSenderConnection','Invalid\x20value.\x20Must\x20be\x20an\x20object.','KeyValueDatabaseNameNotString','RoundTripTime','UnsubscribeMediaStream','checkScreenSharing','currentDistance','startsWith','Early\x20return','receiverUnsubscribers','detectAudioIssues','resume','/nodes','unpublish','StreamReport','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','High','clearRestartTimeout','sendFile','pub-sub-topic-does-not-exist','Backgrounds','fps','TimePerFrame','setupListeners','text/plain','setReceiverBytes','node','keyValueDatabase','completed','Missing\x20transaction\x20id','contentType','northamerica-northeast1','onBufferedAmountLow','processTransactionPayload','maxFramerate','unregisterPublisher','handleNodeUpdate','RemoteRemove','getSTVolatility','clearUpgradeTimeout','publishNodeLeave','processInboundReport','subscribe','removeObjectStore','globalObject','getTracks','Node\x20does\x20not\x20exist.','removeItem','addReservedTables','processReceiverReport','operations','createReceiverConnection','List','defineProperty','instantiateTransactionTable','close','key-value-database-invalid-layout','onSnapshot','heartbeatUnsubscriber','handleSubscriptionProvideMediaStream','handleHandshake','closeSubscription','getFunctions','Answer','getAvailableTrackKinds','handleSystemEvents','Remote\x20MediaStream\x20already\x20exists','RequestFile','connection','joinCluster','PublishMediaStream','Database\x20already\x20exists','CannotProvideMediaStream','senderCurrentTimestamp','off','authenticateAgent','transactionTable','match','code','handleSubscriptionSubscribeMediaStream','handleObjectDelete','local-media-stream-already-exists','handleStatsSystemEvents','createBufferSource','receivers','onProviderChange','Cluster','ObjectStoreCannotWriteTransaction','clearSyncTimeout','transactionsToSync','internal','waitSuccess','getDTVolatility','requestSubscriptionAction','DataChannel\x20is\x20not\x20open.','getConnectionDestinations','Stats:\x20report','Downgrade','getLayout','getClosestNodes','ccc','discoveryUnsubscriber','Update','Invalid\x20data\x20chan_NO_RENAMEENAl.','remoteConnections','every','uuid','buildTableEvent','messageListeners','Invalid\x20where\x20clause','LocalMediaStreamTrackFail','Rejected\x20answer','setSenderTimestamp','InvalidPublisher','checkBackgrounds','discover','/nodes/','KeyValueDatabaseTableNameReserved','checkMediaStream','Stats','KeyValueDatabaseTableDoesNotExist','add','transactionService','isMediaSource','senderTotalMessages','registerSource','getSupportedContentTypes','captureStream','maxBpp','getName','compareTransactions','isReconnecting','Invalid\x20peer\x20connection\x20event\x20destination.','length','NodeType','Internal\x20unknown\x20error:\x20','Delete','local-media-stream-no-audio-context','getRemoteId','clearOncloseTimeout','handleSubscriptionMediaStreamUnavailable','authContext','setLocalRank','filter','tableUnsubscriber','processLocalReport','signalingServer','getSubscriptionLabel','auth','jitter','Outgoing','version','setItem','isInternalLoggingConnector','handleFileSync','senderStreams','answers','CanProvideMediaStream','handleOptimizationConnectionSuccess','retryCallback','createMediaStreamSource','publishSystemMessage','subscriptionRequestTimeouts','operator','Node','pub-sub-topic-already-exists','incomingTopic','getPartsForSubscriptionLabel','ConnectionInvalidDataEvent','unregisterDestination','KeyValueDatabase','onConfigurationChange','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','checkWebGL','AudioContext','firebaseConfig','clearHeartbeat','notifyClusterNodeJoin','Connection\x20not\x20initialized.','runTransaction','processServiceReport','object-store-invalid-payload','receiver','Waiting','agentConfig','MissingRemoteConnection','forEach','setCurrentVersion','addProblem','handleSubscriptionSystemEvents','getInstance','addDoc','support','internal-sdk-error','unsubscribeTrackEndedListener','44040jUTJaH','Received\x20event\x20on\x20cluster','Success','features','invalid-subscriber','reportCapacity','updatePropagationProperties','appsync-disconnect','getTrackFromParam','DataChannel\x20is\x20not\x20initialized.','clientHeight','remainingTracks','deleteRemoteNode','statsReport','Medium','processOutboundReport','boolean','getRemoteConnections','waitAnswer','Cannot\x20publish\x20move\x20operation:\x20','groupId','next','Media','Missing\x20owner\x20node\x20or\x20rank','state','getIdToken','getUserMedia','setScheduleTime','extendedRecipients','lastTransactionId','av_delay','MediaStream','Internal\x20SDK\x20error:\x20','publishSyncCompletedAfterWrites','key-value-database-transaction-table-not-initialized','crewdleSDKDisableLogging','NodeNotAuthenticated','receiverBitrate','email','KeyValueDatabaseIndexNotFound','deleteTransactionsForTable','InvalidSubscriber','chosenAnswers','Operations:','RequestFileSync','subscriptionRequests','Incoming','connector','FeatureNotEnabled','getTrack','some','handleOffer','createKeyValueDatabase','syncTransactionsWritten','batch','ScreenSharing','Key-value\x20database\x20creation\x20failed.','client','Channel\x20\x27','status','addRemoteNode','key-value-database-invalid-value','lastUpdated','localId','maxThreshold','track','hasMessage','oncloseTimeout','handleCloseKeyValueDatabase','unsubscribeHandler','Subscription\x20request\x20failed.','getSubscriptionInfo','DatabaseEvent','writes','setUpgradeTimeout','list','NodeJoin','sendWithRetry','clearSubscriptionRequestTimeout','streamLabel','count','val','peer-connection-invalid-destination','onGatheringStateChange','debugEnabled','AudioContext\x20is\x20not\x20available','createRemoteNode','distance','unregisterSource','setDurationTime','everyone','owner','Subscription\x20request\x20has\x20not\x20been\x20answered.','writeTransaction','publish','Internal\x20event\x20\x27','Invalid\x20subscriber.','receiverTotalMessages','min','LocalReport','sender','connection-state','reset','NodeManager\x20-\x20ConnectionSuccess','upgrade','UpdateMediaStream','indexOf','AppSync\x20connection\x20not\x20ready','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','test-page','complete','CrewdleConnection\x20handlePeerConnectionSystemEvents','publishFile','problemType','addEventListener','setPriority','enumerateDevices','outgoingStreams','messageType','handleSuccess','handlePublishMediaStream','packets','Events','sampleRate','prototype','senderPreviousBytes','InvalidDataChannel','NodeUpdate','sendRequest','cluster-disconnect','currentTimestamp','listen','getApp','logStorage','limit','handleUpdateMediaStream','clearWaitSuccess','LocalMediaStreamDoesNotExist','minResolutionScale','handleContentUnsubscribeMediaStream','currentVersion','codes','mediaStream','validateAccess','onUnregisterPublisher','subscriptions','getContentType','send','.crewdle-pending','exports','incomingManager','retryQueue','fileChunks','Add','handleChunkMessage','Connection\x20does\x20not\x20exist.','nodeKey','supported','packetsSent','handleNodeJoinNeedPublishedStream','createGain','Disconnect','openPubSubTopic','frameWidth','node-already-exist','setTimestamp','Support','handleFolderCreate','getObjectStoreBuckets','checkMediaRecording','KeyValueDatabaseNotOpen','handleUnpublishMediaStream','graphql','getAudioTracks','key-value-database-table-does-not-exist','checksum','ObjectStoreStats','clientWidth','Object\x20store\x20is\x20not\x20in\x20sync','return\x20this','request-file-write','CPUCycle','getAudioVideoDelay','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','Problem','AppSync\x20subscribe','addTrack','object-store-invalid-path','systemMessagesReceived','RequestAccepted','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','2-digit','NeedRestart','detectVideoIssues','calculateSize','clusterId','8002765YiMSpW','instance','layout','name','timePerFrame','video','unregisterSystemSource','buffer','MissingSystemTopic','displayName','getInternalTrackParams','streamId','logBatch','openKeyValueDatabase','getConnectionGroup','cleanList','User\x20not\x20signed\x20in','destroy','hasTracks','getTotalBytes','closed','PubSubTopic\x20onMessage','Database\x20does\x20not\x20exist','getNumberOutgoingSubscriptions','debounceProcessRank','parameters','maps','/stats','PeerConnection','error','internalId','syncResolve','connectionType','updateLastUpdated','remove','syncTimeout','handleContentCloseObjectStore','removeTrackCallback','providerListener','resetConnection','discoveryService','firebaseUnsubscriber','crewdle-sdk-logging-','pendingFilesTransactions','crewdle-sdk-stg.firebaseapp.com','messagesReceived','isProduction','handleContentCloseKeyValueDatabase','\x27\x20in\x20layout','Agent','getRemoteMediaStream','PubSubTopicNameNotString','request-file-sync','handleRemediationSystemEvents','object-store-cannot-write-transaction','SystemStats','context','random','previousTimestamp','getQuery','\x27\x20reserved','Invalid\x20object\x20store\x20sync\x20message.','sdkValidateAccess','splice','label','Invalid\x20data\x20event.','Invalid\x20node\x20type','sourceId','decodeJWT','clusterEventEmitter','Store\x20already\x20exists','appsync-connect-fail','removeRemoteNode','createRemoteMediaStream','ObjectStoreAlreadyExists','params','onDisconnect','arrayBufferToObject','User','clockSkew','sdkCreateToken','object-storage','__esModule','Cannot\x20publish\x20payload:\x20','FileDelete','Offer','createElement','handleCloseObjectStore','lastRemediations','audioDestination','ObjectStorage','getDoc','emit','handleFileRequestAnswer','outbound-rtp','createIncomingSubscription','table','Detection','downgrade','from','out','Remote\x20connection\x20already\x20exists.','Transaction','Content','ConnectionGroup','waitSendBuffer','SubscriptionRequestFailed','getDatabase','KeyValueDatabaseTableNotFound','value','totalDecodeTime','createAnswer','kind','OPFSObjectStoreConnector','OutgoingSubscription','handshakeDebounce','CrewdleReceiverConnection\x20ontrack','replaceTrack','processOutboundReports','getInternalStreamId','handleNodeSystemEvents','registerSubscriber','Problem\x20detected:\x20','getSenderBitrate','reduce','ObjectStoreInvalidPayload','resolutionScale','orchestrator-close','transformations','getSettings','bufferedEvents','handleOutgoingSystemEvents','object-store-not-synced','.crewdle-layout','publishLocalMediaStream','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','senderBitrate','Rejected','receiverPreviousTimestamp','syncTransactions','getShareableStreamId','createPubSubTopic','generateClient','subscribedTracks','graphService','setReportCapacity','Upgrade','restartTimeout','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','update','upgradeTimeout','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','nodeId','statsCollection','Cannot\x20get\x20file:\x20','frames','-leave','setOnTableWriteHandler','origin','publishMove','crewdle-sdk.firebaseapp.com','Sender','G-F7W8KXRKQB','audio','handleNodeLeave','counter','webgl','batchQueue','FramePerSecond','/objectstores/','bandwidth.rtt','retryLimit','localNode','setReceiverTimestamp','onDisconnectHandler','connected','chunks','WebRTC','No\x20destinationIds\x20left','Failed\x20to\x20create\x20key\x20value\x20database','sync','processPendingSyncTransactions','handleContentCloseMediaStream','getTable','maxResolution','createLocalDynamicMediaStream','createConstantSource','onremovetrack','canChooseAnswer','hasRemoteNode','SHA-1','bytesReceived','previousFrames','MediaStream\x20feature\x20not\x20enabled','unregisterSubscriber','Error\x20encountered\x20while\x20opening\x20database','warn','addMessage','setPendingFileSyncingPayload','delete','trackCallback','stream','Online','addVideoTrack','serverTimestamp','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','setSubscriptionRequestTimeout','newPath','Node\x20not\x20authenticated','observe','missing-system-topic','direction','senderTimeProcessing','publishUserUpdate','Node\x20already\x20exists.','remoteNodes','getKeyValueDatabases','ObjectStoreNameNotString','connect','addCluster','pubsub','indexes','removeConnection','logPropagateSystemEvent','checkWebRTC','registerRemoteNode','handleContentSystemEvents','\x20not\x20supported','pendingHandshakeCandidates','FolderCreate','createPendingFileWrite','pub-sub-topic-already-subscribed','PubSub\x20already\x20exists','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','Jitter','authenticateUser','head','setEncodingParameters','audioContext','canvas','getLocalNode','setConnectionType','eventEmitter','framesDecoded','invalid-publisher','sendIceCandidates','subscription-request-failed','remoteUnsubscriber','getStatus','KeyValueDatabaseInvalidLayout','developers/','registeredListeners','orderBy','previousBytes','chooseAnswer','frameHeight','remote-connection-exists','unshift','remote-media-stream-already-exists','user','updateLastTransactionId','PubSubTopic\x20publish','objectToArrayBuffer','UnpublishMediaStream','messageBuffer','propagate','RestartNeedMediaStream','missing-incoming-connection','\x20answer','Local\x20MediaStream\x20already\x20exists','eventTarget','MediaStreamPriority','createDataChannel','stop','renderElement','Database\x20not\x20open','detectStreamIssues','.info/connected','Default','isWhereValues','getLocalId','folder-create','clusters','DTVolatility','retry','crewdle-sdk.appspot.com','checkAudioVolume','remote-stream-missing-provider-id','NodeTypeNotSupported','push','reportMetric','PeerConnectionInvalidDestination','\x27\x20from\x20','getCurrentMaxLayer','logServiceEvent','RequestSyncKeyValueDatabase','orchestrator','dispatchEvent','findNextNodeId','removeRemoteMediaStream','Signaling','size','getId','leave','/transactions/','clusterKey','content','Receiver','NodeDoesNotExist','timestamp','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','remote-stream-does-not-exist','NodeConnectionsUpdate','receiverCurrentTimestamp','setProviderId','MediaStreamUnavailable','disconnected','/logs','ClusterAlreadyJoined','key-value-database-index-not-found','5354144sneNEB','all','PubSubTopicAlreadySubscribed','NodeInvalidType','unsubscribe','unregisterPublisherListener','firestore','systemTopicUnsubscribe','Key-value\x20database\x20transaction\x20value\x20not\x20set.','filteredDestinationIds','RemoteMediaStreamDoesNotExist','KeyValueDatabaseDoesNotExist','trackKinds','Received\x20track','Local\x20stream\x20does\x20not\x20exist.','mediator','packetsLost','nextNodeId','keyPath','registerPublisher','Local\x20node\x20rank\x20is\x20not\x20set','logSupport','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','sourceVideo','startTime','options','getPartsFromSubscription','joinedClusters','resizeHandler','setupStatsCollection','connection-not-initialized','aws','answerJoin','setupTrackEndedListeners','Object\x20store\x20not\x20synced.','rank','isWhereBetween','get','statsManager','WebGL','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','publishLocalDynamicMediaStream','roundTripTime','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','\x27\x20to\x20','statsReporting','getRemoteNodes','Key-value\x20database\x20table\x20does\x20not\x20exist.','createOutgoingSubscription','ObjectStoreNotSynced','reads','FPS','loadEnabledChannels','unregisterCluster','Stream\x20already\x20exists','listener','publishNodeJoin','file-write','getOwnerId','createOffer','nodes','NodeLeave','mute','onRemoveTrack','notifyClusterNodeUpdate','ObjectStoreInvalidPath','PubSub','getChannelData','bufferEvent','iceConnectionState\x20failed','Send\x20request','getLabel','clear','findIndex','Logger.getInstance','ancestors','agent-update','messageUnsubscriber','true','en-US','childRemovedUnsubscriber','Disconnected','onCandidate','handleClosePubSubTopic','detectLocalIssues','commitBatch','between','1:420235181083:web:4eff6062bd845cb0748cbe','local-media-stream-track-fail','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','maxBitrate','getBitrate','getProviderId','handleTransactionPayload','syncKeyValueDatabase','oidc','secheduleTime','removeLocalMediaStream','AppSync\x20client\x20not\x20ready','processReport','setupResizeHandler','user-update','createSubscription','offset','collectStats','getFirestore','topic','connectionTimeout','Issue\x20detected:\x20','streams','requestSubscription','createTopic','5610480nUKTzM','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','getRemoteNode','handshakeCandidates','endsWith','removeNode','object','FolderMove','setRemoteNode','Subscription','tableName','ConnectionState','unregisterRemoteNode','getConfigs','cancel','findNextAncestor','successNotified','Count','getLastUpdated','canProvideResolution','clusters/','signalingState','Missing\x20answerer\x20id\x20on\x20request\x20answer','chunk','\x20with\x20\x27','priority','Amplify','deletePendingFile','setOnMessageHandler','enabledChannels','removeKeyValueDatabase','logRaw','CloseObjectStoreBucket','message','Connection','WebRTCBrowserPeerConnectionConnector','dataUnsubscribers','27AZaCBy','receiverCurrentBytes','type','CrewdleSenderConnection\x20createOffer','ObjectStoreInvalidSyncMessage','handshakeState','bandwidth.jitter','All','logEvent','pendingSyncTransactions','Offline','handleCloseMediaStream','updateDebounceTimeout','tableObserver','onDataChannel','string','connectAgent','default','receiverPreviousBytes','startNoThrottlingHack','scheduleTime','validateValue','Move','processInboundReports','setSinkId','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','subtle','lastProcessRank','SubscriptionRequestDoesNotExist','maxConnections','onloadeddata','object-store-already-exists','connections','ClosePubSubTopic','getSenderTotalBytes','joinedAt','set','onerror','bandwidth.bitrate','registerCluster','media-stream','detectionManager','Consuming\x20buffered\x20event','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','InternalSDKError','KeyValueDatabaseCreationFailed','removeTrackListeners','batchTimeout','currentBatch','dt_volatility','currentFrames','ended','getReport','getAuth','pubsubTopics','listenUnsubscriber','undefined','query-helper-invalid-argument','KeyValueDatabaseAlreadyExists','AudioVideoDelay','tableLayout','notifyObjectStoreOfNodeLeave','values','cleanOldSubscription','CrewdleConnectionGroup','objectStoreConnector','File','processReports','addRemoteConnection','getPacketsLostPerc','Get','Early\x20return:\x20','StorageEventType','getAncestorIds','getPubSubTopics','publishTransaction','framerate','connectionStateListener','closeTopic','total','dataChannel','onChildRemoved','getCurrentVersion','getNextTargetRank','LocalMediaStreamAlreadyExists','Invalid\x20layout:\x20','getLocalMediaStreams','exists','iceServers','Restart','getEmail','handleSubscriptionNeedMediaStream','unregisterSystemPublisher','Folder','maxFps','SubscribeMediaStream','getRemoteMediaStreams','processDataChannelReport','topics','findNewMediaSubscription','OptimizationConnectionSuccess','handleRequestPayload','connectionConstructor','gain','ObjectStoreAlreadySubscribed','wait','NodeAlreadyExist','getOrResetPendingFileTimeout','split','getReceiverTotalBytes','sendFileRequestPayload','applyRemediation','KeyValueDatabaseTransactionTableNotInitialized','height','fromEntries','request-file','trackEndedListeners','getDistance','handleObjectMove','warning','batchSize','dataTopics','setupConnectionEvents','previous','remediationManager','functions','localMediaStreams','functionsRegion','Support:\x20','getLocalMediaStream','key-value-database-transaction-value-not-set','getResolution','cpu.time_per_frame','subscriptionManager','removeRemoteStreamSubscription','maxDistance','log','Bitrate','key-value-database-creation-failed','/transactions/lastTransaction','st_volatility','region','addIssue','incrementVersion','ObjectKind','KeyValueDatabaseTransactionValueNotSet','destination','No\x20global\x20object\x20found','Cannot\x20list\x20directory:\x20','supportsContentType','manageAncestor','/capacities','handleContentClosePubSubTopic','receiverTimeProcessing','startHeartbeat','trackListeners','\x20check\x20failed','senderCurrentBytes','source','\x20does\x20not\x20exists','committed','processPendingHandshakeCandidates','PubSubTopicStats','removeSubscriptionsForNode','RemoteMediaStreamTrackFail','restartHandshake','subscription','createBuffer','PubSubTopicDoesNotExist','handleSubscriptionUnsubscribeMediaStream','getResolutionScale','handleMissingSenders','processRank','removeSubscription','Valid\x20layout','currentBytes','packetsReceived','timeoutValue','createNewBatch','validateLayout','isWhereValue','isIceCandidate','createFolder','notifyCluster','stopConnection','handleSubscribeMediaStream','floor','mediaUnsubscribers','map','remote-media-stream-invalid-subscription-params','optimizationLayers','Low','sendTransactionsDump','clientStream','getMilliseconds','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','connectionState','RemoteRemediation','OutgoingMediaStreamNoTopic','consumeBufferedEvents','crewdle-sdk-stg','Receiver\x20connection\x20is\x20not\x20initialized.','getConnection','isSync','canRestartHandshake','handleOnMessage','remoteMediaStreams','toString','Orchestrator\x20handleSystemEvents','disconnect','onHandshakeStateChange','getPriority','sendTransactionsValue','appsync-no-destination','\x27\x20in\x20table\x20\x27','Method\x20not\x20implemented.','join','listenerUnsubscribers','handleContentRemoteMediaStreamTrackFail','TestPage','Invalid\x20query','Cannot\x20publish\x20folder:\x20','audioSource','asc','SubscriptionRequestNoAnswer','Optimization','objectRequests','hasOwnProperty','resolution','handleDetectionSystemEvents','appsync-connect','component','queues','setInterval','stringify','nodeManager','content-unpublish-media','Subscription\x20request\x20does\x20not\x20exist.','event','getConnections','AudioOutput','find','getSubscribedTracks','problem','providerId','QueryBuilderInvalidArgument','Sending\x20\x27','addAudioTrack','isArray','suspended','maxLayer','Handshake','mediaDevices','connectionGroup','toStringTag','vendorId','updateDebounce','element','byteLength','messagesSent','handlePeerConnectionSystemEvents','outgoingManager','configure','PayloadAction','getMinConnections','System','drawImage','getRoundTripTime','Receiving\x20\x27','key-value-database-not-open','topicLabel','setDoc','contentRect','isNeedRestart','Cannot\x20unpublish\x20object:\x20','RemoteMediaStreamAlreadyExists','ObjectStoreNotInSync','checkDeviceConfig','shouldProcessTransaction','setStatus','setInternalId','Data\x20cluster\x20is\x20not\x20open.','removeTopic','handleLocalTrackFailure','events','Remove','Connection\x20not\x20connected.','data','KeyValueDatabaseInvalidValue','ContentType','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','answererId','onConnectionStateChange','setDisplayName','start','4491096zDukOY','number','decode','messageCallback','updateUser','node-type-not-supported','where','authService','getMaxConnections','setEmail','entries','syncPendingFiles','processRemoteInboundReport','pendingFilesSyncing','.crewdle-transactions','processBatch','handleUnsubscribeMediaStream','\x27\x20payload:','handleContentSubscribeMediaStream','arrayBuffer','move','Invalid\x20table\x20name\x20\x27','removeTrack','registerSystemSource','remoteId','database','NeedMediaStream','initialize','firebase-disconnect','Remediation','getEstimatedTimestamp','key','splitParts','checkAudioContext','getAncestors','failed','invalid-data-chanel','keyValueDatabaseConnector','signInWithCredential','FolderDelete','detection','writeFile','getConnectionType','httpsCallable','subscriptionRequestsQueue','us-east-1','timeoutCallback','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','observer','eventListener','handleAnswer','RemoteMediaStreamInvalidSubscriptionParams','pendingFilesRename','availableTrackKinds','Restart\x20NeedMediaStream','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','NodeManager\x20-\x20NodeLeave','query','/transactions','connectionManager','bitrate','SendTransactionsDump','keys','Pool','setupRenderElement','getRank','sendAction','systemTopic','processTransactionsDump','getMediaSubscription','removeIncomingSubscription','objectStores','timeReceiving','0.1.0','getShareableStream','CloseMediaStream','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','getDisplayName','callback','buildQuery','gatheringState','sendStats','LocalMediaStreamNoAudioContext','rtt','createLocalMediaStream','invalid-subscription','mergeParts','isOffer','collection','getMediaStream','crewdleSDKEnableLogging','includes','setBytes','onNodeDisconnect','load','setTransformations','messages','RequestFileWrite','remote-inbound-rtp','deleteObject','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','agent-join','/resources/agent/items/','setOnDisconnectHandler','handleNeedRestart','slice','transactionIds','onTrack','call','retryCount','bufferedAmountLowThreshold','maxOutgoingSubscriptions','setRemoteConnections','getOutgoingOptimizationConnections','removeEventListener','content-publish-media','ownerId','keyValueDatabases','tables','cost','disableIntervalHack','cluster','outgoingTopic','Data','Remote\x20stream\x20does\x20not\x20exist.','lastHeartbeat','ranges','listenerUnsubscriber','setRank','object-store-already-subscribed','onValue','interval','clearConnectionTimeout','pubSubTopics','Connected','STVolatility','isFeatureSupported','setParams','registerDestination','handleSubscriptionRestartNeedMediaStream','candidate','crewdle-sdk','handleRemoteTrackFailure','readAsArrayBuffer','writeBatch','tail','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','SubscriptionRequestInProgress','addPendingHandshakeCandidate','disconnectCallback','\x0aAdditional\x20data:\x20','stopNoThrottlingHack','configs','KeyValueDatabaseInvalidQuery','frameTime','max','Recording','tracks','removeRemoteConnection','NodeManager\x20-\x20NodeUpdate','RemoteMediaStreamMissingProviderId','handleContentUpdateMediaStream','onMessage','handleContentUnpublishMediaStream','Everyone\x20','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','notifyObjectStoreOfNodeJoin','cluster-leave','Invalid\x20key\x20\x27','path','handleFileRequest','now','ConnectionNotConnected','processSenderReport','retryQueues','removeOutgoingSubscription','handleProblem','remediation','checkSyncComplete','key-value-database-table-not-found','assign','handleConnectionSuccess','key-value-database-table-name-reserved','text','systemMessages','isValidMediaSubscriptionParams','manageOptimization','receiverConnection','enabled','ConnectionNoRetryQueue','sort','addConnection','key-value-database-does-not-exist','getDisplayMedia','featureSupport','Accepted','.crewdle-last-transaction','isMediaDestination','subscription-request-no-answer','openObjectStoreBucket','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','registerSystemPublisher','Resolution','handleDisconnect','clearWaitAnswer','Core','getEnabledChannels','PubSubTopicAlreadyExists','handleNodeJoin','Invalid\x20params','::￿','onClose','handleNodeDisconnect','payloadType','detectProblems','shouldContinuePropagation','hasTable','\x20-\x20','getItem','desc','object-store-stream-does-not-exist','signOut','issues','LoggingService:\x20logging\x20enabled\x20for','encode','connectionPool','Stream\x20does\x20not\x20exist','stats','checkAudioOutput','recipients','object-store-invalid-sync-message','createObjectStoreBucket','srcObject','7959623OZbtId','DeviceConfig','open','bind','createConnection','IDBDatabaseConnector'];a0_0x5c4d=function(){return _0xa88af6;};return a0_0x5c4d();}(function(_0x402e9e,_0x28bd22){const _0x3b1aac=a0_0x2eba,_0x5be831=_0x402e9e();while(!![]){try{const _0x129568=parseInt(_0x3b1aac(0x2d5))/0x1*(parseInt(_0x3b1aac(0x609))/0x2)+parseInt(_0x3b1aac(0x2b0))/0x3+-parseInt(_0x3b1aac(0x240))/0x4+parseInt(_0x3b1aac(0x100))/0x5+-parseInt(_0x3b1aac(0x524))/0x6+-parseInt(_0x3b1aac(0x4e5))/0x7+-parseInt(_0x3b1aac(0x3fc))/0x8;if(_0x129568===_0x28bd22)break;else _0x5be831['push'](_0x5be831['shift']());}catch(_0x18d98e){_0x5be831['push'](_0x5be831['shift']());}}}(a0_0x5c4d,0xe7746),!function(_0x2c3346,_0x120319){const _0x5516cc=a0_0x2eba;if(_0x5516cc(0x2b6)==typeof exports&&_0x5516cc(0x2b6)==typeof module)module['exports']=_0x120319();else{if(_0x5516cc(0x527)==typeof define&&define['amd'])define([],_0x120319);else{var _0x47a48e=_0x120319();for(var _0x53f2ca in _0x47a48e)(_0x5516cc(0x2b6)==typeof exports?exports:_0x2c3346)[_0x53f2ca]=_0x47a48e[_0x53f2ca];}}}(this,()=>((()=>{'use strict';const _0x293d68=a0_0x2eba;var _0x151800={0x14d:(_0x460c19,_0x2f5392,_0x4b125f)=>{const _0x471ea1=a0_0x2eba;_0x4b125f['d'](_0x2f5392,{'O':()=>_0x32af67});const _0x32af67={'version':_0x471ea1(0x445),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x471ea1(0x12c),'databaseURL':_0x471ea1(0xfa),'projectId':_0x471ea1(0x39d),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x471ea1(0x565)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':'us-east-1'}};},0x33b:(_0x47029f,_0x2c70d2,_0x2c6e06)=>{_0x2c6e06['d'](_0x2c70d2,{'O':()=>_0x1a8c15});const _0x1a8c15={};},0x3e6:(_0x1271bd,_0x308833,_0x2519b5)=>{const _0x44daeb=a0_0x2eba;_0x2519b5['d'](_0x308833,{'O':()=>_0x191dbd});const _0x191dbd={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x44daeb(0x460),'authDomain':_0x44daeb(0x1a0),'databaseURL':_0x44daeb(0x523),'projectId':_0x44daeb(0x489),'storageBucket':_0x44daeb(0x21d),'messagingSenderId':_0x44daeb(0x533),'appId':_0x44daeb(0x297),'measurementId':_0x44daeb(0x1a2)},'aws':{'endpoint':_0x44daeb(0x4c4),'region':_0x44daeb(0x429)}};},0x20:(_0x34b5da,_0x2fda33,_0x4764e0)=>{_0x4764e0['d'](_0x2fda33,{'O':()=>_0x2dfe76});const _0x2dfe76={};}},_0x4e8ffb={};function _0x4c182f(_0x44dd4d){const _0x5e67f7=a0_0x2eba;var _0x30f6dd=_0x4e8ffb[_0x44dd4d];if(void 0x0!==_0x30f6dd)return _0x30f6dd[_0x5e67f7(0xd1)];var _0x2042ce=_0x4e8ffb[_0x44dd4d]={'exports':{}};return _0x151800[_0x44dd4d](_0x2042ce,_0x2042ce[_0x5e67f7(0xd1)],_0x4c182f),_0x2042ce[_0x5e67f7(0xd1)];}_0x4c182f['d']=(_0x1573a1,_0x32af01)=>{for(var _0x513016 in _0x32af01)_0x4c182f['o'](_0x32af01,_0x513016)&&!_0x4c182f['o'](_0x1573a1,_0x513016)&&Object['defineProperty'](_0x1573a1,_0x513016,{'enumerable':!0x0,'get':_0x32af01[_0x513016]});},_0x4c182f['g']=(function(){const _0x30e2d8=a0_0x2eba;if(_0x30e2d8(0x2b6)==typeof globalThis)return globalThis;try{return this||new Function(_0x30e2d8(0xef))();}catch(_0x5860c5){if(_0x30e2d8(0x2b6)==typeof window)return window;}}()),_0x4c182f['o']=(_0x3dc02b,_0xf3bc7c)=>Object[_0x293d68(0xb8)]['hasOwnProperty'][_0x293d68(0x468)](_0x3dc02b,_0xf3bc7c),_0x4c182f['r']=_0x2e2a56=>{const _0x17965d=_0x293d68;_0x17965d(0x30d)!=typeof Symbol&&Symbol[_0x17965d(0x3d3)]&&Object['defineProperty'](_0x2e2a56,Symbol[_0x17965d(0x3d3)],{'value':'Module'}),Object[_0x17965d(0x57b)](_0x2e2a56,_0x17965d(0x152),{'value':!0x0});};var _0x551045={};return((()=>{const _0x359c2e=_0x293d68;var _0x10cef2,_0xdaaeaa,_0x5e3d2b;_0x4c182f['r'](_0x551045),_0x4c182f['d'](_0x551045,{'KeyValueDatabase':()=>_0x3423d2,'LayoutBuilder':()=>_0x2ca18d,'LoggingChannels':()=>_0x5e3d2b,'QueryBuilder':()=>_0x4bf5a5,'SDK':()=>_0xcc8d52,'SDKClientErrorCodes':()=>_0x10cef2,'TableBuilder':()=>_0xa19ae,'logger':()=>_0x21773c}),function(_0x3c7c35){const _0x101c52=a0_0x2eba;_0x3c7c35[_0x101c52(0x23e)]=_0x101c52(0x505),_0x3c7c35[_0x101c52(0x639)]='feature-not-enabled',_0x3c7c35[_0x101c52(0x14a)]=_0x101c52(0x2f4),_0x3c7c35[_0x101c52(0x33d)]=_0x101c52(0x47d),_0x3c7c35['ObjectStoreDoesNotExist']=_0x101c52(0x4d8),_0x3c7c35[_0x101c52(0x1d9)]='object-store-name-not-string',_0x3c7c35[_0x101c52(0x17d)]=_0x101c52(0x5fb),_0x3c7c35[_0x101c52(0x281)]=_0x101c52(0xf7),_0x3c7c35[_0x101c52(0x3e9)]='object-store-not-in-sync',_0x3c7c35[_0x101c52(0x301)]=_0x101c52(0x607),_0x3c7c35[_0x101c52(0x30f)]='key-value-database-already-exists',_0x3c7c35['KeyValueDatabaseDoesNotExist']=_0x101c52(0x4bc),_0x3c7c35[_0x101c52(0x630)]=_0x101c52(0x23f),_0x3c7c35['KeyValueDatabaseInvalidQuery']='key-value-database-invalid-query',_0x3c7c35['KeyValueDatabaseInvalidValue']=_0x101c52(0x646),_0x3c7c35[_0x101c52(0x548)]=_0x101c52(0x50a),_0x3c7c35[_0x101c52(0xe6)]=_0x101c52(0x3e2),_0x3c7c35[_0x101c52(0x5bb)]=_0x101c52(0x4b2),_0x3c7c35['KeyValueDatabaseTableNotFound']=_0x101c52(0x4af),_0x3c7c35[_0x101c52(0x1f9)]=_0x101c52(0x57e),_0x3c7c35[_0x101c52(0x329)]=_0x101c52(0x597),_0x3c7c35[_0x101c52(0x44e)]=_0x101c52(0x5cf),_0x3c7c35[_0x101c52(0x4cb)]=_0x101c52(0x5eb),_0x3c7c35[_0x101c52(0x37d)]=_0x101c52(0x559),_0x3c7c35['PubSubTopicNameNotString']='pub-sub-topic-name-not-string',_0x3c7c35[_0x101c52(0x242)]=_0x101c52(0x1e7),_0x3c7c35[_0x101c52(0x3ca)]=_0x101c52(0x30e),_0x3c7c35[_0x101c52(0x3e8)]=_0x101c52(0x202),_0x3c7c35[_0x101c52(0x42f)]=_0x101c52(0x392),_0x3c7c35[_0x101c52(0x48f)]='subscription-request-in-progress',_0x3c7c35[_0x101c52(0x62d)]='node-not-authenticated',_0x3c7c35[_0x101c52(0x243)]='node-invalid-type',_0x3c7c35['NodeTypeNotSupported']=_0x101c52(0x401);}(_0x10cef2||(_0x10cef2={}));class _0x26d32b extends Error{[_0x359c2e(0x594)];constructor(_0x465cd6,_0x2c72b5){const _0x450228=_0x359c2e;super(_0x2c72b5),this[_0x450228(0x594)]=_0x465cd6;}}!function(_0x504020){const _0x14cce2=_0x359c2e;_0x504020[_0x14cce2(0x282)]='pubsub',_0x504020['ObjectStorage']=_0x14cce2(0x151),_0x504020[_0x14cce2(0x5f0)]='key-value-database',_0x504020['MediaStream']=_0x14cce2(0x2fd);}(_0xdaaeaa||(_0xdaaeaa={})),function(_0x26e129){const _0x3f3d5d=_0x359c2e;_0x26e129[_0x3f3d5d(0x2dc)]=_0x3f3d5d(0x241),_0x26e129[_0x3f3d5d(0x216)]=_0x3f3d5d(0x2e6),_0x26e129['Connection']=_0x3f3d5d(0x58a),_0x26e129['ConnectionState']=_0x3f3d5d(0xa1),_0x26e129[_0x3f3d5d(0x59c)]=_0x3f3d5d(0x475),_0x26e129[_0x3f3d5d(0x167)]='content',_0x26e129['Detection']=_0x3f3d5d(0x424),_0x26e129['Events']=_0x3f3d5d(0x3f1),_0x26e129['Error']=_0x3f3d5d(0x11d),_0x26e129[_0x3f3d5d(0x5ea)]=_0x3f3d5d(0x560),_0x26e129[_0x3f3d5d(0x43b)]='pool',_0x26e129['PubSub']=_0x3f3d5d(0x1dc),_0x26e129[_0x3f3d5d(0x419)]=_0x3f3d5d(0x4ad),_0x26e129[_0x3f3d5d(0x22c)]='signaling',_0x26e129[_0x3f3d5d(0x5bd)]=_0x3f3d5d(0x4df),_0x26e129[_0x3f3d5d(0x2b9)]=_0x3f3d5d(0x37b),_0x26e129[_0x3f3d5d(0xe2)]='support',_0x26e129[_0x3f3d5d(0x3de)]='system',_0x26e129[_0x3f3d5d(0x137)]='system-stats',_0x26e129[_0x3f3d5d(0x3b0)]=_0x3f3d5d(0xa9),_0x26e129[_0x3f3d5d(0x11c)]='peer-connection';}(_0x5e3d2b||(_0x5e3d2b={}));const _0x883b7d=require('@crewdle/web-sdk-types');class _0x4bf5a5{['query'];constructor(_0x58bb2d){const _0x1d99f0=_0x359c2e;this[_0x1d99f0(0x435)]={'orderBy':{'key':_0x58bb2d,'direction':_0x1d99f0(0x3b4)}};}static[_0x359c2e(0x510)](_0x478b97){const _0x1c9cf4=_0x359c2e;if(_0x1c9cf4(0x2e4)!=typeof _0x478b97||0x0===_0x478b97[_0x1c9cf4(0x5cb)])throw new _0x26d32b(_0x10cef2[_0x1c9cf4(0x3ca)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x4bf5a5(_0x478b97);}static['validateQuery'](_0x568223){const _0x5c1fb3=_0x359c2e;try{return _0x4bf5a5[_0x5c1fb3(0x44b)](_0x568223),!0x0;}catch(_0x692184){return!0x1;}}static[_0x359c2e(0x44b)](_0x500f9a){const _0xc5ae21=_0x359c2e,_0x1adeaf=_0x4bf5a5['index'](_0x500f9a[_0xc5ae21(0x1fc)]?.[_0xc5ae21(0x41b)]??_0x500f9a['where']?.[_0xc5ae21(0x41b)]??'');if(_0x500f9a['where']){const _0x46343e=_0x500f9a[_0xc5ae21(0x402)];if((_0x4bf5a5[_0xc5ae21(0x389)](_0x46343e)||_0x4bf5a5['isWhereValues'](_0x46343e)||_0x4bf5a5['isWhereBetween'](_0x46343e))&&_0x1adeaf[_0xc5ae21(0x402)](_0x46343e[_0xc5ae21(0x5e9)],_0x46343e['value']),_0x500f9a[_0xc5ae21(0x1fc)]?.[_0xc5ae21(0x41b)]&&_0x500f9a[_0xc5ae21(0x1fc)]?.[_0xc5ae21(0x41b)]!==_0x500f9a['where'][_0xc5ae21(0x41b)])throw new _0x26d32b(_0x10cef2[_0xc5ae21(0x3ca)],_0xc5ae21(0x256));}return _0x500f9a['orderBy']&&_0x1adeaf[_0xc5ae21(0x1fc)](_0x500f9a[_0xc5ae21(0x1fc)][_0xc5ae21(0x1d3)]),_0x500f9a[_0xc5ae21(0xc2)]&&_0x1adeaf[_0xc5ae21(0xc2)](_0x500f9a['limit']),_0x500f9a[_0xc5ae21(0x2a7)]&&_0x1adeaf[_0xc5ae21(0x2a7)](_0x500f9a[_0xc5ae21(0x2a7)]),_0x1adeaf;}['getQuery'](){return{...this['query']};}[_0x359c2e(0x402)](_0x5d684c,_0xec8d33){const _0x2bb202=_0x359c2e,_0x40e791={'key':this['query'][_0x2bb202(0x1fc)]['key'],'operator':_0x5d684c,'value':_0xec8d33};if(!_0x4bf5a5['isWhereValue'](_0x40e791)&&!_0x4bf5a5[_0x2bb202(0x217)](_0x40e791)&&!_0x4bf5a5[_0x2bb202(0x264)](_0x40e791))throw new _0x26d32b(_0x10cef2[_0x2bb202(0x3ca)],_0x2bb202(0x5b3));return this[_0x2bb202(0x435)][_0x2bb202(0x402)]=_0x40e791,this;}['orderBy'](_0x2b5d5f){const _0x397e5e=_0x359c2e;if(_0x397e5e(0x3b4)!==_0x2b5d5f&&_0x397e5e(0x4d7)!==_0x2b5d5f)throw new _0x26d32b(_0x10cef2[_0x397e5e(0x3ca)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x397e5e(0x435)]['orderBy'][_0x397e5e(0x1d3)]=_0x2b5d5f,this;}[_0x359c2e(0xc2)](_0x3abf16){const _0x2dbe1d=_0x359c2e;if(_0x2dbe1d(0x3fd)!=typeof _0x3abf16||_0x3abf16<0x0)throw new _0x26d32b(_0x10cef2['QueryBuilderInvalidArgument'],_0x2dbe1d(0x300));return this[_0x2dbe1d(0x435)][_0x2dbe1d(0xc2)]=_0x3abf16,this;}[_0x359c2e(0x2a7)](_0x352451){const _0x43fc70=_0x359c2e;if(_0x43fc70(0x3fd)!=typeof _0x352451||_0x352451<0x0)throw new _0x26d32b(_0x10cef2[_0x43fc70(0x3ca)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x43fc70(0x435)]['offset']=_0x352451,this;}static[_0x359c2e(0x389)](_0x1217a9){const _0x53da17=_0x359c2e;if(!(_0x1217a9&&'object'==typeof _0x1217a9&&_0x53da17(0x5e9)in _0x1217a9&&_0x53da17(0x16d)in _0x1217a9))return!0x1;const {operator:_0x116dc4,value:_0xfa65ca}=_0x1217a9;return!(!['==','!=','>','<','<=','>='][_0x53da17(0x457)](_0x116dc4)||Array[_0x53da17(0x3cd)](_0xfa65ca));}static[_0x359c2e(0x217)](_0xca940a){const _0x2e14ef=_0x359c2e;if(!(_0xca940a&&_0x2e14ef(0x2b6)==typeof _0xca940a&&_0x2e14ef(0x5e9)in _0xca940a&&_0x2e14ef(0x16d)in _0xca940a))return!0x1;const {operator:_0x29d9e4,value:_0x44fb0a}=_0xca940a;return!(!['in','not-in'][_0x2e14ef(0x457)](_0x29d9e4)||!Array['isArray'](_0x44fb0a));}static['isWhereBetween'](_0x470916){const _0x13ce09=_0x359c2e;if(!(_0x470916&&_0x13ce09(0x2b6)==typeof _0x470916&&'operator'in _0x470916&&'value'in _0x470916))return!0x1;const {operator:_0x317a9d,value:_0x30f550}=_0x470916;return!('between'!==_0x317a9d||!Array[_0x13ce09(0x3cd)](_0x30f550)||0x2!==_0x30f550['length']);}}class _0x2ca18d{['layout'];constructor(_0x1579b4){const _0x83d77d=_0x359c2e;this[_0x83d77d(0x102)]={'tables':{},'version':_0x1579b4};}static[_0x359c2e(0x388)](_0xd6e0b8){const _0x5f1d1c=_0x359c2e;for(const _0x562c9c in _0xd6e0b8){if(_0x5f1d1c(0x5dd)!==_0x562c9c&&_0x5f1d1c(0x472)!==_0x562c9c)return[!0x1,_0x5f1d1c(0x4a4)+_0x562c9c+_0x5f1d1c(0x130)];if('tables'===_0x562c9c)for(const _0x4a5e15 in _0xd6e0b8[_0x5f1d1c(0x472)]){if(_0x5f1d1c(0x2e4)!=typeof _0x4a5e15)return[!0x1,_0x5f1d1c(0x411)+_0x4a5e15+'\x27'];for(const _0x163b27 in _0xd6e0b8['tables'][_0x4a5e15]){if('indexes'!==_0x163b27)return[!0x1,_0x5f1d1c(0x4a4)+_0x163b27+_0x5f1d1c(0x3ab)+_0x4a5e15+'\x27'];const _0x333a1e=_0xd6e0b8['tables'][_0x4a5e15][_0x163b27]??[];for(const _0x329cd4 of _0x333a1e)if(void 0x0===_0x329cd4[_0x5f1d1c(0x252)]||_0x5f1d1c(0x2e4)!=typeof _0x329cd4[_0x5f1d1c(0x252)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x4a5e15+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x5f1d1c(0x5dd)===_0x562c9c&&_0x5f1d1c(0x3fd)!=typeof _0xd6e0b8[_0x562c9c])return[!0x1,'Invalid\x20version\x20\x27'+_0xd6e0b8[_0x562c9c]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x5f1d1c(0x383)];}static[_0x359c2e(0x102)](_0x3278ac){const _0x430971=_0x359c2e,_0x2c1ce2=new _0x2ca18d(_0x3278ac);return _0x2c1ce2[_0x430971(0x102)][_0x430971(0x5dd)]=_0x3278ac,_0x2c1ce2;}[_0x359c2e(0x160)](_0x101d8c){const _0x2bfe42=_0x359c2e;return this[_0x2bfe42(0x102)]['tables'][_0x101d8c]={},new _0xa19ae(this[_0x2bfe42(0x102)]['tables'][_0x101d8c]);}[_0x359c2e(0x5a8)](){const _0xb06e8c=_0x359c2e;return this[_0xb06e8c(0x102)];}}class _0xa19ae{[_0x359c2e(0x311)];constructor(_0x5267fa){const _0x307958=_0x359c2e;this[_0x307958(0x311)]=_0x5267fa;}[_0x359c2e(0x510)](_0x3bff87){const _0x96cb34=_0x359c2e;return this[_0x96cb34(0x311)][_0x96cb34(0x1dd)]=this[_0x96cb34(0x311)]['indexes']??[],this[_0x96cb34(0x311)][_0x96cb34(0x1dd)][_0x96cb34(0x221)]({'keyPath':_0x3bff87}),this;}}const _0x3cdf83=_0x359c2e(0x4c0),_0x73f2de=_0x359c2e(0xd0),_0x3a432a=_0x359c2e(0x40a),_0x384fa7=_0x359c2e(0x185),_0x14c6c8=0x7530,_0x5d7eff=_0x359c2e(0x5a0);var _0x2f3c6b;!function(_0x493b04){const _0x28bf1b=_0x359c2e;_0x493b04['ConnectionNotinitialized']=_0x28bf1b(0x25e),_0x493b04[_0x28bf1b(0x4a8)]=_0x28bf1b(0x508),_0x493b04[_0x28bf1b(0x4b9)]=_0x28bf1b(0x52d),_0x493b04['ConnectionInvalidDataEvent']='connection-invalid-data-event',_0x493b04[_0x28bf1b(0x59d)]=_0x28bf1b(0x136),_0x493b04[_0x28bf1b(0x2d9)]=_0x28bf1b(0x4e2),_0x493b04['ObjectStoreNotSynced']=_0x28bf1b(0x184),_0x493b04[_0x28bf1b(0xba)]=_0x28bf1b(0x420),_0x493b04[_0x28bf1b(0x5b7)]=_0x28bf1b(0x1f4),_0x493b04[_0x28bf1b(0x632)]=_0x28bf1b(0x60d),_0x493b04['InvalidSubscription']=_0x28bf1b(0x451),_0x493b04[_0x28bf1b(0x302)]=_0x28bf1b(0x35f),_0x493b04[_0x28bf1b(0x5be)]=_0x28bf1b(0xea),_0x493b04[_0x28bf1b(0x345)]=_0x28bf1b(0x62b),_0x493b04[_0x28bf1b(0x366)]=_0x28bf1b(0x357),_0x493b04[_0x28bf1b(0xc5)]='local-stream-does-not-exist',_0x493b04['MissingRemoteConnection']=_0x28bf1b(0x20b),_0x493b04[_0x28bf1b(0x108)]=_0x28bf1b(0x1d2),_0x493b04['OutgoingMediaStreamNoTopic']='outgoing-stream-no-topic',_0x493b04[_0x28bf1b(0x24a)]=_0x28bf1b(0x237),_0x493b04[_0x28bf1b(0x49c)]=_0x28bf1b(0x21f),_0x493b04[_0x28bf1b(0x537)]=_0x28bf1b(0x200),_0x493b04[_0x28bf1b(0x2f1)]='subscription-request-does-not-exist',_0x493b04['SubscriptionRequestFailed']=_0x28bf1b(0x1f6),_0x493b04[_0x28bf1b(0x3b5)]=_0x28bf1b(0x4c2),_0x493b04[_0x28bf1b(0x234)]='node-does-not-exist',_0x493b04[_0x28bf1b(0x33f)]=_0x28bf1b(0xe0),_0x493b04['PeerConnectionInvalidDestination']=_0x28bf1b(0x8e);}(_0x2f3c6b||(_0x2f3c6b={}));const _0x1a1ffa=new Map([[_0x2f3c6b['ConnectionNotinitialized'],_0x359c2e(0x5f8)],[_0x2f3c6b[_0x359c2e(0x4a8)],_0x359c2e(0x3f3)],[_0x2f3c6b[_0x359c2e(0x4b9)],_0x359c2e(0x187)],[_0x2f3c6b['ConnectionInvalidDataEvent'],_0x359c2e(0x141)],[_0x2f3c6b[_0x359c2e(0x59d)],'Cannot\x20write\x20transaction.'],[_0x2f3c6b[_0x359c2e(0x2d9)],_0x359c2e(0x13d)],[_0x2f3c6b[_0x359c2e(0x271)],_0x359c2e(0x262)],[_0x2f3c6b[_0x359c2e(0xba)],_0x359c2e(0x5ad)],[_0x2f3c6b[_0x359c2e(0x5b7)],_0x359c2e(0x532)],[_0x2f3c6b[_0x359c2e(0x632)],_0x359c2e(0x9c)],[_0x2f3c6b['InvalidSubscription'],'Invalid\x20subscription.'],[_0x2f3c6b['KeyValueDatabaseCreationFailed'],_0x359c2e(0x641)],[_0x2f3c6b[_0x359c2e(0x5be)],_0x359c2e(0x26f)],[_0x2f3c6b[_0x359c2e(0x345)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x2f3c6b['KeyValueDatabaseTransactionValueNotSet'],_0x359c2e(0x248)],[_0x2f3c6b[_0x359c2e(0xc5)],_0x359c2e(0x24e)],[_0x2f3c6b[_0x359c2e(0x5ff)],_0x359c2e(0xd7)],[_0x2f3c6b[_0x359c2e(0x108)],_0x359c2e(0x5f2)],[_0x2f3c6b[_0x359c2e(0x39b)],_0x359c2e(0x26b)],[_0x2f3c6b[_0x359c2e(0x24a)],_0x359c2e(0x478)],[_0x2f3c6b['RemoteMediaStreamMissingProviderId'],_0x359c2e(0x268)],[_0x2f3c6b['RemoteConnectionExists'],_0x359c2e(0x165)],[_0x2f3c6b[_0x359c2e(0x2f1)],_0x359c2e(0x3c2)],[_0x2f3c6b['SubscriptionRequestFailed'],_0x359c2e(0x64f)],[_0x2f3c6b[_0x359c2e(0x3b5)],_0x359c2e(0x98)],[_0x2f3c6b[_0x359c2e(0x234)],_0x359c2e(0x574)],[_0x2f3c6b[_0x359c2e(0x33f)],_0x359c2e(0x1d6)],[_0x2f3c6b[_0x359c2e(0x223)],_0x359c2e(0x5ca)]]);class _0x2e0415 extends Error{['code'];static [_0x359c2e(0xc9)]=_0x2f3c6b;[_0x359c2e(0x3f4)];constructor(_0x91e8e,_0x420f05){const _0x410ff5=_0x359c2e;super('Internal\x20SDK\x20Error:\x20'+_0x91e8e+':\x20'+_0x1a1ffa['get'](_0x91e8e)+_0x410ff5(0x492)+JSON['stringify'](_0x420f05)),this[_0x410ff5(0x594)]=_0x91e8e,this['data']=_0x420f05||{};}}var _0x114c1e,_0x203df2,_0x205e05,_0x276fb8,_0x13cdcc,_0x403a0f;!function(_0x224a01){const _0x713e78=_0x359c2e;_0x224a01[_0x224a01['PublishMediaStream']=0x0]=_0x713e78(0x58c),_0x224a01[_0x224a01[_0x713e78(0x207)]=0x1]=_0x713e78(0x207),_0x224a01[_0x224a01[_0x713e78(0x334)]=0x2]=_0x713e78(0x334),_0x224a01[_0x224a01[_0x713e78(0xa5)]=0x3]=_0x713e78(0xa5),_0x224a01[_0x224a01[_0x713e78(0x54a)]=0x4]='UnsubscribeMediaStream',_0x224a01[_0x224a01[_0x713e78(0x2d0)]=0x5]=_0x713e78(0x2d0),_0x224a01[_0x224a01[_0x713e78(0x4f7)]=0x6]=_0x713e78(0x4f7),_0x224a01[_0x224a01['ClosePubSubTopic']=0x7]=_0x713e78(0x2f6),_0x224a01[_0x224a01[_0x713e78(0x447)]=0x8]=_0x713e78(0x447),_0x224a01[_0x224a01[_0x713e78(0x5b4)]=0x9]='LocalMediaStreamTrackFail',_0x224a01[_0x224a01[_0x713e78(0x379)]=0xa]=_0x713e78(0x379),_0x224a01[_0x224a01[_0x713e78(0x227)]=0xb]='RequestSyncKeyValueDatabase',_0x224a01[_0x224a01[_0x713e78(0x439)]=0xc]='SendTransactionsDump',_0x224a01[_0x224a01[_0x713e78(0x517)]=0xd]='RequestTransactionsValue',_0x224a01[_0x224a01['PubSubTopicStats']=0xe]='PubSubTopicStats',_0x224a01[_0x224a01[_0x713e78(0xec)]=0xf]='ObjectStoreStats',_0x224a01[_0x224a01[_0x713e78(0x515)]=0x10]=_0x713e78(0x515);}(_0x114c1e||(_0x114c1e={})),function(_0x1cf0e8){const _0x5aea0c=_0x359c2e;_0x1cf0e8['FileWrite']=_0x5aea0c(0x279),_0x1cf0e8[_0x5aea0c(0x1e5)]=_0x5aea0c(0x219),_0x1cf0e8[_0x5aea0c(0x5ce)]=_0x5aea0c(0x1c7),_0x1cf0e8[_0x5aea0c(0x2eb)]=_0x5aea0c(0x410),_0x1cf0e8['RequestFile']=_0x5aea0c(0x348),_0x1cf0e8[_0x5aea0c(0xf9)]='request-accepted',_0x1cf0e8[_0x5aea0c(0x635)]=_0x5aea0c(0x134),_0x1cf0e8['RequestFileWrite']=_0x5aea0c(0xf0);}(_0x203df2||(_0x203df2={})),function(_0x32303c){const _0x256620=_0x359c2e;_0x32303c[_0x256620(0x4f5)]='request',_0x32303c[_0x256620(0x166)]='transaction';}(_0x205e05||(_0x205e05={})),function(_0x5bfb98){const _0x390883=_0x359c2e;_0x5bfb98[_0x390883(0xd5)]=_0x390883(0x5bf),_0x5bfb98[_0x390883(0x5ac)]=_0x390883(0x195),_0x5bfb98[_0x390883(0x5ce)]=_0x390883(0x1c7);}(_0x276fb8||(_0x276fb8={})),function(_0x2c3d86){const _0xaf5956=_0x359c2e;_0x2c3d86[_0xaf5956(0x31b)]='get',_0x2c3d86['List']='list',_0x2c3d86[_0xaf5956(0x2c1)]=_0xaf5956(0x8c);}(_0x13cdcc||(_0x13cdcc={})),function(_0x2ae742){const _0x5bffd9=_0x359c2e;_0x2ae742[_0x2ae742[_0x5bffd9(0x11c)]=0x0]=_0x5bffd9(0x11c),_0x2ae742[_0x2ae742[_0x5bffd9(0x5ea)]=0x1]=_0x5bffd9(0x5ea),_0x2ae742[_0x2ae742[_0x5bffd9(0x167)]=0x2]=_0x5bffd9(0x167),_0x2ae742[_0x2ae742[_0x5bffd9(0x2b9)]=0x3]='Subscription',_0x2ae742[_0x2ae742[_0x5bffd9(0x5bd)]=0x4]='Stats',_0x2ae742[_0x2ae742[_0x5bffd9(0x161)]=0x5]=_0x5bffd9(0x161),_0x2ae742[_0x2ae742[_0x5bffd9(0x419)]=0x6]=_0x5bffd9(0x419);}(_0x403a0f||(_0x403a0f={}));class _0x30cd40{[_0x359c2e(0x97)];[_0x359c2e(0x140)];['systemTopic'];constructor(_0x17ad2f,_0x4cd046){const _0x2ddfde=_0x359c2e;this['owner']=_0x17ad2f,this[_0x2ddfde(0x140)]=_0x4cd046;}[_0x359c2e(0x287)](){const _0x295461=_0x359c2e;return this[_0x295461(0x140)];}[_0x359c2e(0x27a)](){const _0x4230c3=_0x359c2e;return this[_0x4230c3(0x97)][_0x4230c3(0x22e)]();}[_0x359c2e(0x111)](){}[_0x359c2e(0x4c5)](_0x2731fa){this['systemTopic']=_0x2731fa;}[_0x359c2e(0x331)](){const _0x4dab64=_0x359c2e;delete this[_0x4dab64(0x43f)];}}function _0x5520ee(_0x115062,_0x497108){return'/'===_0x115062?_0x115062+_0x497108:_0x115062+'/'+_0x497108;}function _0x54157d(_0x40c8f2){const _0x1a1dd8=_0x359c2e,_0x606d5c=function(_0x4fa828){const _0x3df578=a0_0x2eba;return _0x4fa828[_0x3df578(0x341)]('/')['filter'](_0x3e3a10=>_0x3e3a10['length']>0x0);}(_0x40c8f2),_0x3e59ed=_0x606d5c['pop']()||'',_0x44b305=_0x606d5c[_0x1a1dd8(0x3ad)]('/');return[0x0===_0x44b305[_0x1a1dd8(0x5cb)]?'/':_0x44b305,_0x3e59ed];}async function _0x1a9366(_0xb14187){const _0x12c70e=_0x359c2e,_0x5f41ee=await _0xb14187[_0x12c70e(0x40f)](),_0xef4dee=new Uint8Array(_0x5f41ee);let _0x206d61=0x0;for(const _0x3c737e of _0xef4dee)_0x206d61+=_0x3c737e;return _0x206d61[_0x12c70e(0x3a4)]();}function _0x1eb665(_0x59844d){return new Promise((_0x3da0a5,_0x1479d6)=>{!function(_0x3a2bb3,_0x54577c,_0x5a1a97){let _0x146f1f=0x0;const _0x266ef1=[],_0x33b30e=()=>{const _0x4dc1ce=a0_0x2eba;let _0x1af6e7=_0x146f1f+0x3f800;_0x1af6e7>_0x3a2bb3[_0x4dc1ce(0x22d)]&&(_0x1af6e7=_0x3a2bb3[_0x4dc1ce(0x22d)]);let _0x593d21=_0x3a2bb3[_0x4dc1ce(0x465)](_0x146f1f,_0x1af6e7),_0x2ceb1f=new FileReader();_0x2ceb1f['onload']=_0x35c306=>{const _0x426eb8=_0x4dc1ce;_0x266ef1[_0x426eb8(0x221)](_0x2ceb1f['result']),_0x146f1f=_0x1af6e7,_0x146f1f<_0x3a2bb3[_0x426eb8(0x22d)]?_0x33b30e():_0x54577c(_0x266ef1);},_0x2ceb1f[_0x4dc1ce(0x2fa)]=_0x35263b=>{_0x5a1a97(_0x35263b);},_0x2ceb1f[_0x4dc1ce(0x48b)](_0x593d21);};_0x33b30e();}(_0x59844d,_0x3da0a5,_0x1479d6);});}function _0x291aa1(_0x17f0f4,_0x3aa777,_0x501a50){return new File(_0x17f0f4,_0x3aa777,{'type':_0x501a50});}class _0x314ed0 extends _0x30cd40{[_0x359c2e(0x476)];[_0x359c2e(0x5ec)];['fileChunks']=new Map();['messagesSent']=0x0;[_0x359c2e(0x12d)]=0x0;['bytesSent']=0x0;[_0x359c2e(0x1bf)]=0x0;constructor(_0x1b4a52,_0x402483){super(_0x1b4a52,_0x402483);}['getLabel'](){const _0x82cd78=_0x359c2e;return this[_0x82cd78(0x140)];}[_0x359c2e(0x5c7)](){const _0x121585=_0x359c2e;return this[_0x121585(0x140)];}[_0x359c2e(0xce)](){const _0x467902=_0x359c2e;return _0x883b7d[_0x467902(0x3f6)][_0x467902(0x477)];}[_0x359c2e(0x177)](){const _0x319ad4=_0x359c2e;return this[_0x319ad4(0x140)];}['registerPublisher'](_0x226a35){const _0x553ea5=_0x359c2e;if(this[_0x553ea5(0x476)])throw new _0x2e0415(_0x2e0415['codes'][_0x553ea5(0x5b7)],{'message':_0x553ea5(0x194)+this[_0x553ea5(0x97)][_0x553ea5(0x22e)]()+_0x553ea5(0x4d5)+this['label'],'topic':this[_0x553ea5(0x476)]});this[_0x553ea5(0x476)]=_0x226a35;}[_0x359c2e(0x179)](_0x2fba7d){const _0x5976d6=_0x359c2e;if(this[_0x5976d6(0x5ec)])throw new _0x2e0415(_0x2e0415[_0x5976d6(0xc9)][_0x5976d6(0x632)],{'message':_0x5976d6(0x4a1)+this[_0x5976d6(0x97)][_0x5976d6(0x22e)]()+_0x5976d6(0x4d5)+this[_0x5976d6(0x140)],'topic':this['incomingTopic']});this[_0x5976d6(0x5ec)]=_0x2fba7d;}[_0x359c2e(0x569)](){delete this['outgoingTopic'];}[_0x359c2e(0x1c2)](){const _0x54219b=_0x359c2e;delete this[_0x54219b(0x5ec)];}async[_0x359c2e(0xcf)](_0x1120c7,_0x155780){const _0x200972=_0x359c2e;if(this[_0x200972(0x3d8)]+=0x1,_0x1120c7 instanceof File){const _0x23a80a=await _0x1eb665(_0x1120c7);return this['bytesSent']+=_0x23a80a['reduce']((_0x2aa450,_0x22fad3)=>_0x2aa450+_0x22fad3[_0x200972(0x3d7)],0x0),void _0x23a80a[_0x200972(0x600)]((_0x3e6cc4,_0x10abcd)=>{const _0x4195a4=_0x200972;this[_0x4195a4(0x476)][_0x4195a4(0x9a)]({'sourceId':this[_0x4195a4(0x97)][_0x4195a4(0x22e)](),'destinationIds':_0x155780,'propagate':!0x0,'contentType':_0x883b7d[_0x4195a4(0x3f6)][_0x4195a4(0x317)],'content':{'name':_0x1120c7[_0x4195a4(0x103)],'type':_0x1120c7[_0x4195a4(0x2d7)],'data':_0x3e6cc4,'index':_0x10abcd,'total':_0x23a80a[_0x4195a4(0x5cb)]}});});}this[_0x200972(0x52b)]+=JSON['stringify'](_0x1120c7)[_0x200972(0x5cb)],this[_0x200972(0x476)][_0x200972(0x9a)]({'sourceId':this[_0x200972(0x97)][_0x200972(0x22e)](),'destinationIds':_0x155780,'propagate':!0x0,'contentType':_0x883b7d[_0x200972(0x3f6)][_0x200972(0x477)],'content':_0x1120c7});}[_0x359c2e(0x49e)](_0x38902c){const _0x2ce431=_0x359c2e;return this[_0x2ce431(0x5ec)][_0x2ce431(0x570)](_0x2957aa=>{const _0x2d0606=_0x2ce431;switch(_0x2957aa['contentType']){case _0x883b7d['ContentType']['Data']:this['messagesReceived']+=0x1,this[_0x2d0606(0x1bf)]+=JSON[_0x2d0606(0x3bf)](_0x2957aa[_0x2d0606(0x232)])['length'],_0x38902c(_0x2957aa[_0x2d0606(0x143)],_0x2957aa[_0x2d0606(0x232)]);break;case _0x883b7d['ContentType']['File']:this[_0x2d0606(0xd4)][_0x2d0606(0x531)](_0x2957aa[_0x2d0606(0x232)]['name'])||this[_0x2d0606(0xd4)]['set'](_0x2957aa[_0x2d0606(0x232)][_0x2d0606(0x103)],[]);const _0x454dfe=this[_0x2d0606(0xd4)][_0x2d0606(0x265)](_0x2957aa['content'][_0x2d0606(0x103)]);_0x454dfe[_0x2957aa['content'][_0x2d0606(0x510)]]=_0x2957aa['content'][_0x2d0606(0x3f4)],_0x454dfe[_0x2d0606(0x5cb)]===_0x2957aa[_0x2d0606(0x232)]['total']&&(this['messagesReceived']+=0x1,this[_0x2d0606(0x1bf)]+=_0x454dfe[_0x2d0606(0x17c)]((_0x17bfcf,_0x24f139)=>_0x17bfcf+_0x24f139[_0x2d0606(0x3d7)],0x0),_0x38902c(_0x2957aa[_0x2d0606(0x143)],_0x291aa1(_0x454dfe,_0x2957aa[_0x2d0606(0x232)]['name'],_0x2957aa[_0x2d0606(0x232)][_0x2d0606(0x2d7)])),this[_0x2d0606(0xd4)][_0x2d0606(0x1c7)](_0x2957aa[_0x2d0606(0x232)][_0x2d0606(0x103)]));}});}}function _0x36be06(){const _0x39b2fa=_0x359c2e;let _0xabb0d1=[];return{'subscribe':_0x2a4794=>(_0xabb0d1[_0x39b2fa(0x221)](_0x2a4794),()=>{_0xabb0d1=_0xabb0d1['filter'](_0x27d8cc=>_0x27d8cc!==_0x2a4794);}),'publish':_0x41b858=>{const _0x3bd0db=_0x39b2fa;_0xabb0d1[_0x3bd0db(0x600)](_0x4cf196=>_0x4cf196(_0x41b858));}};}function _0x4e9161(){let _0x3aacf9;return{'subscribe':_0x32cb38=>(_0x3aacf9=_0x32cb38,()=>{_0x3aacf9=void 0x0;}),'publish':_0x369c7e=>{_0x3aacf9&&_0x3aacf9(_0x369c7e);}};}class _0x20c225{[_0x359c2e(0x638)];['tableName'];['tableObserver'];['eventListener']=_0x4e9161();['listenerUnsubscriber'];constructor(_0xa98496,_0x189ec4,_0x5884f2){const _0x4cc02e=_0x359c2e;this['connector']=_0xa98496,this[_0x4cc02e(0x2ba)]=_0x189ec4,this[_0x4cc02e(0x2e2)]=_0x5884f2;}[_0x359c2e(0x111)](){const _0x2d9b7a=_0x359c2e;this[_0x2d9b7a(0x47b)]?.();}async[_0x359c2e(0x265)](_0x1b8627){const _0x2bd642=_0x359c2e,_0x4ebf5c={'key':_0x1b8627,'tableName':this[_0x2bd642(0x2ba)],'action':_0x13cdcc['Get']};return this[_0x2bd642(0x2e2)][_0x2bd642(0x9a)](_0x4ebf5c),this[_0x2bd642(0x638)][_0x2bd642(0x265)](_0x1b8627);}async[_0x359c2e(0x2f9)](_0x57ca11,_0xba1dc0,_0x5761c4=!0x0){const _0x1f27d7=_0x359c2e;this['validateValue'](_0xba1dc0);const _0x3063a9=await this['connector'][_0x1f27d7(0x265)](_0x57ca11),_0x3d24ca=await this['connector'][_0x1f27d7(0x2f9)](_0x57ca11,_0xba1dc0),_0x3d51e8=_0x3063a9?_0x276fb8[_0x1f27d7(0x5ac)]:_0x276fb8['Add'];if(this[_0x1f27d7(0x9a)](_0x3d51e8,_0x3d24ca),!_0x5761c4)return _0x3d24ca;const _0x52f67e={'key':_0x57ca11,'tableName':this[_0x1f27d7(0x2ba)],'action':_0x3d51e8,'value':_0x3d24ca};return this[_0x1f27d7(0x2e2)][_0x1f27d7(0x9a)](_0x52f67e),_0x3d24ca;}async[_0x359c2e(0x5bf)](_0x2f640a){const _0x3d4a6b=_0x359c2e;this[_0x3d4a6b(0x2ea)](_0x2f640a);const _0x4c0822=await this[_0x3d4a6b(0x638)][_0x3d4a6b(0x5bf)](_0x2f640a),_0x38fed7={'key':_0x4c0822['id'],'tableName':this['tableName'],'action':_0x276fb8[_0x3d4a6b(0xd5)],'value':_0x4c0822};return this['tableObserver']['publish'](_0x38fed7),this[_0x3d4a6b(0x9a)](_0x38fed7[_0x3d4a6b(0x516)],_0x4c0822),_0x4c0822;}async[_0x359c2e(0x1c7)](_0x44c421,_0x5842ab=!0x0){const _0x477ff0=_0x359c2e,_0xb7cec4=await this['connector'][_0x477ff0(0x265)](_0x44c421);if(!_0xb7cec4)return;await this[_0x477ff0(0x638)][_0x477ff0(0x1c7)](_0x44c421);const _0x1413af=_0x276fb8[_0x477ff0(0x5ce)];if(this['publish'](_0x1413af,_0xb7cec4),!_0x5842ab)return;const _0x116205={'key':_0x44c421,'tableName':this['tableName'],'action':_0x1413af,'value':_0xb7cec4};this[_0x477ff0(0x2e2)]['publish'](_0x116205);}async[_0x359c2e(0x288)](){const _0x71bb44=_0x359c2e,_0x40901e=await this[_0x71bb44(0x87)]();for(const _0x1a7917 of _0x40901e){const _0xfea791=_0x276fb8[_0x71bb44(0x5ce)];this[_0x71bb44(0x9a)](_0xfea791,_0x1a7917);const _0x52f3d5={'key':_0x1a7917['id'],'tableName':this[_0x71bb44(0x2ba)],'action':_0xfea791,'value':_0x1a7917};this[_0x71bb44(0x2e2)][_0x71bb44(0x9a)](_0x52f3d5);}return this[_0x71bb44(0x638)][_0x71bb44(0x288)]();}async[_0x359c2e(0x87)](_0x40a81f){const _0x527dc6=_0x359c2e,_0x43d25c={'key':'','tableName':this['tableName'],'action':_0x13cdcc[_0x527dc6(0x57a)]};this[_0x527dc6(0x2e2)][_0x527dc6(0x9a)](_0x43d25c);try{_0x40a81f&&(_0x40a81f=_0x40a81f instanceof _0x4bf5a5?_0x40a81f['getQuery']():_0x4bf5a5[_0x527dc6(0x44b)](_0x40a81f)[_0x527dc6(0x13b)]());}catch(_0x409e50){throw new _0x26d32b(_0x10cef2['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x527dc6(0x638)][_0x527dc6(0x87)](_0x40a81f);}catch(_0x54dc21){let _0x5516e8=_0x527dc6(0x3b1);throw _0x54dc21 instanceof Error&&(_0x5516e8=_0x54dc21[_0x527dc6(0x2d1)]),new _0x26d32b(_0x10cef2['KeyValueDatabaseInvalidQuery'],_0x5516e8);}}async[_0x359c2e(0x8c)](_0x40f89a){const _0x15348f=_0x359c2e,_0x25190c={'key':'','tableName':this[_0x15348f(0x2ba)],'action':_0x13cdcc['Count']};this[_0x15348f(0x2e2)][_0x15348f(0x9a)](_0x25190c);try{_0x40f89a&&(_0x40f89a=_0x40f89a instanceof _0x4bf5a5?_0x40f89a[_0x15348f(0x13b)]():_0x4bf5a5['buildQuery'](_0x40f89a)['getQuery']());}catch(_0x210710){throw new _0x26d32b(_0x10cef2[_0x15348f(0x495)],_0x15348f(0x3b1));}try{return await this['connector'][_0x15348f(0x8c)](_0x40f89a);}catch(_0x3faad2){let _0x1f505b='Invalid\x20query';throw _0x3faad2 instanceof Error&&(_0x1f505b=_0x3faad2[_0x15348f(0x2d1)]),new _0x26d32b(_0x10cef2[_0x15348f(0x495)],_0x1f505b);}}[_0x359c2e(0xfe)](){const _0xeb7a18=_0x359c2e;return this['connector'][_0xeb7a18(0xfe)]();}['subscribe'](_0x13dd37){const _0x4a00e7=_0x359c2e;this['listenerUnsubscriber']=this[_0x4a00e7(0x42d)][_0x4a00e7(0x570)](_0x13dd37);}['unsubscribe'](){const _0xe68ea5=_0x359c2e;this[_0xe68ea5(0x47b)]?.();}[_0x359c2e(0x9a)](_0x5d83a1,_0xb0f2b){const _0x2b6285=_0x359c2e,_0x3dd887=this[_0x2b6285(0x5b1)](_0x5d83a1,_0xb0f2b);this['eventListener'][_0x2b6285(0x9a)](_0x3dd887);}['buildTableEvent'](_0x42e30c,_0xa9b116){const _0x1b5e3b=_0x359c2e;let _0x2fc5db;switch(_0x42e30c){case _0x276fb8[_0x1b5e3b(0xd5)]:_0x2fc5db=_0x1b5e3b(0x5bf);break;case _0x276fb8[_0x1b5e3b(0x5ac)]:_0x2fc5db='update';break;case _0x276fb8['Delete']:_0x2fc5db='delete';}return{'action':_0x2fc5db,'value':_0xa9b116};}[_0x359c2e(0x2ea)](_0x432af1){const _0x22b74b=_0x359c2e;if(_0x22b74b(0x2b6)!=typeof _0x432af1||null===_0x432af1)throw new _0x26d32b(_0x10cef2['KeyValueDatabaseInvalidValue'],_0x22b74b(0x547));for(const _0x325049 in _0x432af1){const _0x1f04eb=_0x432af1[_0x325049];if(_0x22b74b(0x2b6)!=typeof _0x1f04eb||_0x1f04eb instanceof Date){if(!['string','number',_0x22b74b(0x619)][_0x22b74b(0x457)](typeof _0x1f04eb))throw new _0x26d32b(_0x10cef2[_0x22b74b(0x3f5)],'Invalid\x20value.\x20Property\x20\x27'+_0x325049+_0x22b74b(0x2b1));}else this[_0x22b74b(0x2ea)](_0x1f04eb);}}}const _0xd9f791=require('firebase/app'),_0x219e67=require('firebase/auth'),_0x40ab28=require('firebase/database'),_0x18f094=require('firebase/firestore'),_0x5e7560=require('firebase/functions');let _0x3a6719=_0x4c182f(0x14d)['O'];function _0x527d94(_0x42a934){const _0x41168b=_0x359c2e;return!(!_0x42a934||_0x41168b(0x2b6)!=typeof _0x42a934||Array[_0x41168b(0x3cd)](_0x42a934));}_0x3a6719=function _0x32f451(_0x12fd3e,..._0x453a5a){const _0xdf08dd=_0x359c2e;if(!Array[_0xdf08dd(0x3cd)](_0x453a5a)||0x0===_0x453a5a[_0xdf08dd(0x5cb)])return _0x12fd3e;const _0x5e34ca=_0x453a5a[_0xdf08dd(0x4f8)]();if(_0x527d94(_0x12fd3e)&&_0x527d94(_0x5e34ca)){for(const _0x1fbfbf in _0x5e34ca)_0x527d94(_0x5e34ca[_0x1fbfbf])?(_0x12fd3e[_0x1fbfbf]||Object[_0xdf08dd(0x4b0)](_0x12fd3e,{[_0x1fbfbf]:{}}),_0x32f451(_0x12fd3e[_0x1fbfbf],_0x5e34ca[_0x1fbfbf])):Object['assign'](_0x12fd3e,{[_0x1fbfbf]:_0x5e34ca[_0x1fbfbf]});}return _0x32f451(_0x12fd3e,..._0x453a5a);}(_0x3a6719,_0x4c182f(0x3e6)['O']);const _0x2efd8c=_0x3a6719;class _0x314ffe{static [_0x359c2e(0x101)];[_0x359c2e(0x53f)];[_0x359c2e(0x5da)];[_0x359c2e(0x352)];[_0x359c2e(0x415)];[_0x359c2e(0x246)];[_0x359c2e(0x14f)];constructor(){}static['getInstance'](){const _0x11cd03=_0x359c2e;return _0x314ffe[_0x11cd03(0x101)]||(_0x314ffe[_0x11cd03(0x101)]=new _0x314ffe()),_0x314ffe[_0x11cd03(0x101)];}[_0x359c2e(0xc0)](){const _0x394fec=_0x359c2e;return this[_0x394fec(0x53f)]||(this[_0x394fec(0x53f)]=(0x0,_0xd9f791['initializeApp'])(_0x2efd8c[_0x394fec(0x5f5)])),this[_0x394fec(0x53f)];}['getAuth'](){const _0xa6eff1=_0x359c2e;return this['auth']||(this[_0xa6eff1(0x5da)]=(0x0,_0x219e67[_0xa6eff1(0x30a)])(this['getApp']())),this['auth'];}[_0x359c2e(0x584)](){const _0x1980a8=_0x359c2e;return this[_0x1980a8(0x352)]||(this[_0x1980a8(0x352)]=(0x0,_0x5e7560[_0x1980a8(0x584)])(this['getApp'](),_0x2efd8c[_0x1980a8(0x5f5)][_0x1980a8(0x354)])),this[_0x1980a8(0x352)];}[_0x359c2e(0x16b)](){const _0x3364da=_0x359c2e;return this[_0x3364da(0x415)]||(this[_0x3364da(0x415)]=(0x0,_0x40ab28[_0x3364da(0x16b)])(this[_0x3364da(0xc0)]())),this[_0x3364da(0x415)];}[_0x359c2e(0x2a9)](){const _0x287081=_0x359c2e;return this[_0x287081(0x246)]||(this['firestore']=(0x0,_0x18f094[_0x287081(0x2a9)])(this[_0x287081(0xc0)]())),this[_0x287081(0x246)];}async[_0x359c2e(0x41a)](){const _0x48a11e=_0x359c2e;if(this[_0x48a11e(0x14f)])return Date[_0x48a11e(0x4a7)]()+this['clockSkew'];const _0x439559=this[_0x48a11e(0x16b)](),_0x30f73a=(0x0,_0x40ab28[_0x48a11e(0x542)])(_0x439559,_0x48a11e(0x215)),_0x4f412b=(0x0,_0x40ab28['onValue'])(_0x30f73a,_0x24c348=>{const _0x391784=_0x48a11e;!0x1===_0x24c348[_0x391784(0x8d)]()&&(_0x4f412b(),delete this[_0x391784(0x14f)]);}),_0x347177=(0x0,_0x40ab28['ref'])(_0x439559,_0x48a11e(0x521));return new Promise(_0x2922ce=>{(0x0,_0x40ab28['onValue'])(_0x347177,_0x4e093d=>{const _0x32a5a3=a0_0x2eba;(0x0,_0x40ab28[_0x32a5a3(0x590)])(_0x347177),this[_0x32a5a3(0x14f)]=_0x4e093d['val'](),_0x2922ce(Date[_0x32a5a3(0x4a7)]()+(this['clockSkew']??0x0));});});}}const _0x3104fb=_0x314ffe[_0x359c2e(0x604)]();class _0x574bd5{static [_0x359c2e(0x101)];[_0x359c2e(0x2cd)]=[_0x5e3d2b[_0x359c2e(0x216)]];[_0x359c2e(0x90)]=!0x0;[_0x359c2e(0x53a)];[_0x359c2e(0x3d4)]='';[_0x359c2e(0x572)];[_0x359c2e(0x1a7)]=[];[_0x359c2e(0x305)]=this['createNewBatch']();[_0x359c2e(0x304)];[_0x359c2e(0x1ab)]=0xa;['retryDelay']=0x1f4;['batchSize']=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x2fa8cc=_0x359c2e;if('undefined'!=typeof window)this[_0x2fa8cc(0x572)]=window;else{if(void 0x0===_0x4c182f['g'])throw new Error(_0x2fa8cc(0x368));this[_0x2fa8cc(0x572)]=_0x4c182f['g'];}this[_0x2fa8cc(0x274)](),this[_0x2fa8cc(0x572)][_0x2fa8cc(0x456)]=_0x4e9e76=>{const _0x4ef06a=_0x2fa8cc;if(_0x4e9e76===_0x5e3d2b[_0x4ef06a(0x2dc)])return this[_0x4ef06a(0x2cd)]=Object[_0x4ef06a(0x43a)](_0x5e3d2b)[_0x4ef06a(0x391)](_0x2bc0b6=>_0x5e3d2b[_0x2bc0b6]),void Object[_0x4ef06a(0x43a)](_0x5e3d2b)[_0x4ef06a(0x600)](_0x35ec41=>{const _0x36cfce=_0x4ef06a,_0xe8d2a1=_0x35ec41;localStorage[_0x36cfce(0x5de)](_0x36cfce(0x12a)+_0x5e3d2b[_0xe8d2a1],_0x36cfce(0x28e));});this[_0x4ef06a(0x2cd)][_0x4ef06a(0x457)](_0x4e9e76)||(this['enabledChannels'][_0x4ef06a(0x221)](_0x4e9e76),localStorage[_0x4ef06a(0x5de)]('crewdle-sdk-logging-'+_0x4e9e76,'true'));},this['globalObject'][_0x2fa8cc(0x62c)]=_0xf6c019=>{const _0x3059e9=_0x2fa8cc;if(!_0xf6c019||_0xf6c019===_0x5e3d2b[_0x3059e9(0x2dc)])return this[_0x3059e9(0x2cd)]=[],void Object['keys'](_0x5e3d2b)[_0x3059e9(0x600)](_0x181403=>{const _0x302e32=_0x3059e9,_0x37f2b9=_0x181403;localStorage[_0x302e32(0x575)](_0x302e32(0x12a)+_0x5e3d2b[_0x37f2b9]);});this[_0x3059e9(0x2cd)][_0x3059e9(0x457)](_0xf6c019)&&(this[_0x3059e9(0x2cd)]=this['enabledChannels'][_0x3059e9(0x5d5)](_0x5a72f9=>_0x5a72f9!==_0xf6c019),localStorage[_0x3059e9(0x575)](_0x3059e9(0x12a)+_0xf6c019));},this[_0x2fa8cc(0x572)]['crewdleSDKLoggingChannels']=_0x5e3d2b;}static[_0x359c2e(0x604)](){const _0x3f2326=_0x359c2e;try{return _0x574bd5['instance']||(_0x574bd5[_0x3f2326(0x101)]=new _0x574bd5()),_0x574bd5[_0x3f2326(0x101)];}catch(_0x1db6ae){return console[_0x3f2326(0x11d)](_0x3f2326(0x28a),_0x1db6ae),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}['setVendorId'](_0x2e8342){const _0x228599=_0x359c2e;this[_0x228599(0x3d4)]=_0x2e8342;}['setLoggingConnectors'](_0x13fecb){this['loggingConnectors']=_0x13fecb;}['debug'](_0x1f3823,..._0x742f8f){const _0x4c65db=_0x359c2e;this[_0x4c65db(0x90)]&&this[_0x4c65db(0x35d)](_0x5e3d2b[_0x4c65db(0x216)],'DEBUG\x20-\x20'+_0x1f3823,..._0x742f8f);}['log'](_0x1dd80c,_0xcd360f,..._0x427d7d){const _0x2d6eb5=_0x359c2e;_0x2efd8c['isProduction']||(this['enabledChannels']['includes'](_0x1dd80c)&&console['log'](_0x2d6eb5(0x643)+_0x1dd80c+'\x27\x0a',new Date()+'\x0a',_0xcd360f,..._0x427d7d),this[_0x2d6eb5(0x53a)]&&this['loggingConnectors'][_0x2d6eb5(0x600)](_0x2fa06d=>{const _0x2f72a3=_0x2d6eb5;this['isInternalLoggingConnector'](_0x2fa06d)&&_0x2fa06d[_0x2f72a3(0x4ca)]()[_0x2f72a3(0x457)](_0x1dd80c)&&_0x2fa06d[_0x2f72a3(0x35d)](_0xcd360f,{'vendorId':this[_0x2f72a3(0x3d4)],'nodeId':'','nodeType':'','data':{'channel':_0x1dd80c,..._0x427d7d}});}));}[_0x359c2e(0x2cf)](_0x138b19,_0x48c436,..._0x7fe218){const _0x360732=_0x359c2e;_0x2efd8c[_0x360732(0x12e)]||(this[_0x360732(0x2cd)][_0x360732(0x457)](_0x138b19)&&console['log'](_0x48c436,..._0x7fe218),this['loggingConnectors']&&this[_0x360732(0x53a)][_0x360732(0x600)](_0x4ad71d=>{const _0x1ca404=_0x360732;this[_0x1ca404(0x5df)](_0x4ad71d)&&_0x4ad71d[_0x1ca404(0x4ca)]()[_0x1ca404(0x457)](_0x138b19)&&_0x4ad71d['log'](_0x48c436,{'vendorId':this[_0x1ca404(0x3d4)],'nodeId':'','nodeType':'','data':{'channel':_0x138b19,..._0x7fe218}});}));}[_0x359c2e(0x2dd)](_0x7f0349,_0x2759b1){const _0x58d361=_0x359c2e;if(this['loggingConnectors']){const _0xca9b61={'vendorId':this[_0x58d361(0x3d4)],..._0x2759b1};this['loggingConnectors'][_0x58d361(0x600)](_0x57d5d7=>{const _0x3b69bf=_0x58d361;_0x57d5d7[_0x3b69bf(0x35d)](_0x7f0349,_0xca9b61);});}}['logServiceEvent'](_0x1bf76e,_0x3ede41){const _0x2be016=_0x359c2e,_0x175d6c=(0x0,_0x18f094[_0x2be016(0x543)])((0x0,_0x18f094[_0x2be016(0x454)])(_0x3104fb['getFirestore'](),_0x2be016(0x1fa)+this[_0x2be016(0x3d4)]+_0x2be016(0x23d)));this['currentBatch'][_0x2be016(0x63f)]['set'](_0x175d6c,{..._0x3ede41,'service':_0x1bf76e,'timestamp':(0x0,_0x18f094['serverTimestamp'])()}),this['currentBatch'][_0x2be016(0x578)][_0x2be016(0x221)]({'type':_0x2be016(0x2f9),'ref':_0x175d6c[_0x2be016(0x4a5)],'data':_0x3ede41}),this['logBatch']();}[_0x359c2e(0xc1)](_0x4efabd,_0x837677,_0x31d8bf){const _0x4a2a29=_0x359c2e;(0x0,_0x18f094[_0x4a2a29(0x3e4)])((0x0,_0x18f094[_0x4a2a29(0x543)])(_0x3104fb[_0x4a2a29(0x2a9)](),_0x4a2a29(0x1fa)+this[_0x4a2a29(0x3d4)]+'/'+_0x4efabd+'/'+_0x837677),{'storage':_0x31d8bf,'timestamp':(0x0,_0x18f094['serverTimestamp'])()});}[_0x359c2e(0x10c)](){const _0x513729=_0x359c2e;this['currentBatch'][_0x513729(0x1a5)]++,this[_0x513729(0x305)]['counter']===this[_0x513729(0x34d)]?this[_0x513729(0x40b)]():this[_0x513729(0x304)]||(this[_0x513729(0x304)]=this['globalObject']['setTimeout'](()=>this[_0x513729(0x40b)](),this[_0x513729(0x386)]));}async[_0x359c2e(0x40b)](){const _0x469c9a=_0x359c2e;for(this[_0x469c9a(0x1a7)][_0x469c9a(0x221)](this['currentBatch']),this['currentBatch']=this[_0x469c9a(0x387)]();this[_0x469c9a(0x1a7)]['length']>0x0;){const _0x334e30=this[_0x469c9a(0x1a7)][_0x469c9a(0x4f8)]();if(!await this[_0x469c9a(0x295)](_0x334e30,0x0))break;}clearTimeout(this[_0x469c9a(0x304)]),this[_0x469c9a(0x304)]=void 0x0;}async[_0x359c2e(0x295)](_0x653945,_0x331e9a){const _0x106213=_0x359c2e;if(_0x653945[_0x106213(0x1a5)]>0x0)try{return await _0x653945['batch'][_0x106213(0x51e)](),!0x0;}catch(_0x179a92){if(console[_0x106213(0x11d)]('Error\x20committing\x20batch:',_0x179a92,_0x106213(0x634),_0x653945[_0x106213(0x578)]),!(_0x331e9a<this['retryLimit'])){const {nodeId:_0x49a7ec='',nodeType:_0x751fae='',clusterId:_0x5cbea2=''}=_0x653945[_0x106213(0x578)][0x0][_0x106213(0x3f4)],_0xfe5c51={'nodeId':_0x49a7ec,'nodeType':_0x751fae,'clusterId':_0x5cbea2,'data':{'operations':_0x653945[_0x106213(0x578)],'error':_0x179a92}};return this[_0x106213(0x11d)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0xfe5c51),!0x1;}setTimeout(()=>this[_0x106213(0x295)](_0x653945,_0x331e9a+0x1),this['retryDelay']*Math['pow'](0x2,_0x331e9a));}}[_0x359c2e(0x11d)](_0x4e8e4e,_0x524e67,..._0x4cf93c){const _0xb70711=_0x359c2e;if(console[_0xb70711(0x11d)](new Date(),_0x4e8e4e,_0x524e67,..._0x4cf93c),this[_0xb70711(0x53a)]){const _0x2c1897={'vendorId':this[_0xb70711(0x3d4)],..._0x524e67};this['loggingConnectors'][_0xb70711(0x600)](_0x581d4f=>{const _0x14b503=_0xb70711;_0x581d4f[_0x14b503(0x11d)](_0x4e8e4e,_0x2c1897);});}}[_0x359c2e(0x34c)](_0x297520,_0x4f060f,..._0x192c75){const _0x1591de=_0x359c2e;if(console[_0x1591de(0x1c4)](new Date(),_0x297520,_0x4f060f,_0x192c75),this['loggingConnectors']){const _0x2a8fee={'vendorId':this['vendorId'],..._0x4f060f};this[_0x1591de(0x53a)][_0x1591de(0x600)](_0x3d76d6=>{const _0x5147fd=_0x1591de;_0x3d76d6[_0x5147fd(0x1c4)](_0x297520,_0x2a8fee);});}}[_0x359c2e(0x52a)](_0x11732e){const _0x3ef03e=_0x359c2e;return this['enabledChannels'][_0x3ef03e(0x457)](_0x11732e);}[_0x359c2e(0x274)](){try{Object['keys'](_0x5e3d2b)['forEach'](_0x262acb=>{const _0x14fc7e=a0_0x2eba,_0x273403=_0x262acb;localStorage[_0x14fc7e(0x4d6)](_0x14fc7e(0x12a)+_0x5e3d2b[_0x273403])&&(console['log'](_0x14fc7e(0x4db),_0x5e3d2b[_0x273403]),this[_0x14fc7e(0x2cd)][_0x14fc7e(0x221)](_0x5e3d2b[_0x273403]));});}catch(_0x1ad498){}}[_0x359c2e(0x5df)](_0xf2fc1){return void 0x0!==_0xf2fc1['getEnabledChannels'];}[_0x359c2e(0x387)](){const _0x5c00ae=_0x359c2e;return{'batch':(0x0,_0x18f094[_0x5c00ae(0x48c)])(_0x3104fb['getFirestore']()),'operations':[],'counter':0x0};}}const _0x21773c=_0x574bd5[_0x359c2e(0x604)]();class _0x3423d2 extends _0x314ed0{[_0x359c2e(0x1ac)];['clusterId'];['vendorId'];['db'];[_0x359c2e(0x4ed)];[_0x359c2e(0x472)]=new Map();['tableObserver'];[_0x359c2e(0x592)];[_0x359c2e(0x5d6)];[_0x359c2e(0x3a0)];[_0x359c2e(0x11f)];[_0x359c2e(0x59f)]=[];[_0x359c2e(0x42a)]=()=>{};[_0x359c2e(0x123)];[_0x359c2e(0x42d)]=_0x4e9161();['listenerUnsubscriber'];[_0x359c2e(0x63e)]=[];[_0x359c2e(0x102)];[_0x359c2e(0x528)];[_0x359c2e(0x652)]=0x0;[_0x359c2e(0x272)]=0x0;constructor(_0x520f9a,_0x5795a1,_0x300cfa,_0x11103a,_0x1b644d,_0x1bf3b3){const _0x336666=_0x359c2e;if(_0x336666(0x2e4)!=typeof _0x5795a1)throw new _0x26d32b(_0x10cef2[_0x336666(0x548)],_0x336666(0x433));if(super(_0x520f9a,_0x5795a1),this[_0x336666(0x1ac)]=_0x520f9a,this['clusterId']=_0x300cfa,this['vendorId']=_0x11103a,this[_0x336666(0x4ed)]=_0x336666(0x5aa)+this[_0x336666(0x3d4)]+'ccc'+this['clusterId']+_0x336666(0x5aa)+this[_0x336666(0x140)],this['tableObserver']=_0x4e9161(),this[_0x336666(0x3a0)]=new Promise(_0x49cbb4=>{const _0x119b89=_0x336666;this[_0x119b89(0x11f)]=_0x49cbb4;}),_0x1b644d instanceof _0x2ca18d)this[_0x336666(0x102)]=_0x1b644d['getLayout']();else{const [_0x327198,_0xaa8c4e]=_0x2ca18d['validateLayout'](_0x1b644d);if(!_0x327198)throw new _0x26d32b(_0x10cef2['KeyValueDatabaseInvalidLayout'],_0x336666(0x32a)+_0xaa8c4e);this[_0x336666(0x102)]=_0x1b644d;}this[_0x336666(0x576)](this[_0x336666(0x102)]),this['db']=new _0x1bf3b3(this[_0x336666(0x4ed)],this[_0x336666(0x102)]),this[_0x336666(0x44d)]();}[_0x359c2e(0xa2)](){const _0x459ead=_0x359c2e;this[_0x459ead(0x44d)]();}[_0x359c2e(0xce)](){const _0x2c589b=_0x359c2e;return _0x883b7d[_0x2c589b(0x3f6)][_0x2c589b(0x5f0)];}['destroy'](){const _0x39b120=_0x359c2e;this['db']['close'](),this[_0x39b120(0x5d6)]?.(),clearTimeout(this[_0x39b120(0x528)]),delete this[_0x39b120(0x528)],super['destroy']();}[_0x359c2e(0x57d)](){const _0x16e1c2=_0x359c2e;this[_0x16e1c2(0x43f)][_0x16e1c2(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x16e1c2(0x167)],'content':{'type':_0x114c1e[_0x16e1c2(0x4f7)],'label':this['label']}});}[_0x359c2e(0x1b7)](_0x25b253){const _0x9b2f26=_0x359c2e,_0x21b016=this[_0x9b2f26(0x472)][_0x9b2f26(0x265)](_0x25b253);if(_0x21b016)return _0x21b016;try{if(!this['db'][_0x9b2f26(0x4d4)](_0x25b253))throw new _0x26d32b(_0x10cef2[_0x9b2f26(0x16c)],'Table\x20not\x20found');const _0x256e58=new _0x20c225(this['db']['getTableConnector'](_0x25b253),_0x25b253,this[_0x9b2f26(0x2e2)]);return this[_0x9b2f26(0x472)][_0x9b2f26(0x2f9)](_0x25b253,_0x256e58),{'get':_0x256e58['get'][_0x9b2f26(0x4e8)](_0x256e58),'set':_0x256e58[_0x9b2f26(0x2f9)][_0x9b2f26(0x4e8)](_0x256e58),'add':_0x256e58['add'][_0x9b2f26(0x4e8)](_0x256e58),'delete':_0x256e58[_0x9b2f26(0x1c7)][_0x9b2f26(0x4e8)](_0x256e58),'clear':_0x256e58['clear'][_0x9b2f26(0x4e8)](_0x256e58),'list':_0x256e58[_0x9b2f26(0x87)]['bind'](_0x256e58),'count':_0x256e58[_0x9b2f26(0x8c)][_0x9b2f26(0x4e8)](_0x256e58),'subscribe':_0x256e58[_0x9b2f26(0x570)][_0x9b2f26(0x4e8)](_0x256e58),'unsubscribe':_0x256e58[_0x9b2f26(0x244)][_0x9b2f26(0x4e8)](_0x256e58)};}catch(_0x425fab){throw new _0x26d32b(_0x10cef2[_0x9b2f26(0xe6)],_0x9b2f26(0x213));}}['subscribe'](_0x4e1b94){const _0xc89154=_0x359c2e;this[_0xc89154(0x47b)]=this[_0xc89154(0x42d)][_0xc89154(0x570)](_0x4e1b94);}[_0x359c2e(0x244)](){this['listenerUnsubscriber']?.();}async[_0x359c2e(0x4e7)](){const _0x21a279=_0x359c2e,_0xe9ca72=[_0x3a432a,_0x384fa7],_0x12db98=[];try{await this['db'][_0x21a279(0x4e7)]();const _0x19fbd1=this['db']['getTableConnector'](_0x384fa7),_0xe8208d=await _0x19fbd1['list'](),{id:_0x4e9c5e,layout:_0x222f43}=_0xe8208d[0x0]??{};if(_0x222f43){for(const _0x36cfe0 in _0x222f43)_0xe9ca72['includes'](_0x36cfe0)||this['db']['hasTable'](_0x36cfe0)||_0x12db98[_0x21a279(0x221)](_0x36cfe0);_0x19fbd1[_0x21a279(0x2f9)](_0x4e9c5e,{'layout':this['layout']});}else _0x19fbd1['add']({'layout':this[_0x21a279(0x102)]});}catch(_0x329c37){throw new _0x26d32b(_0x10cef2[_0x21a279(0xe6)],_0x329c37[_0x21a279(0x2d1)]||_0x21a279(0x1c3));}this['instantiateTransactionTable'](),this[_0x21a279(0x2cc)](),this[_0x21a279(0x19d)](),_0x12db98[_0x21a279(0x600)](_0x2ce4fd=>this[_0x21a279(0x631)](_0x2ce4fd));}async[_0x359c2e(0x1b4)](_0x5630fb,_0x2f05ba){const _0x4e22a2=_0x359c2e;_0x5630fb?(this[_0x4e22a2(0x42a)]=_0x2f05ba,this['syncTimeout']=setTimeout(_0x2f05ba,_0x14c6c8),this[_0x4e22a2(0x43f)][_0x4e22a2(0x9a)]({'sourceId':this[_0x4e22a2(0x1ac)][_0x4e22a2(0x22e)](),'destinationIds':[_0x5630fb],'messageType':_0x403a0f['Content'],'content':{'type':_0x114c1e[_0x4e22a2(0x227)],'label':this[_0x4e22a2(0x140)]}}),await this['isSync']):setTimeout(()=>{const _0xf1d150=_0x4e22a2;this[_0xf1d150(0x59e)](),this[_0xf1d150(0x51a)]();},0x0);}async[_0x359c2e(0x395)](_0x53cc6f){const _0x39a7df=_0x359c2e;if(!this[_0x39a7df(0x592)])throw new _0x2e0415(_0x2e0415[_0x39a7df(0xc9)][_0x39a7df(0x345)]);await this['isSync'];const _0x533d48=await this[_0x39a7df(0x592)][_0x39a7df(0x87)]();this[_0x39a7df(0x43f)][_0x39a7df(0x9a)]({'sourceId':this[_0x39a7df(0x1ac)][_0x39a7df(0x22e)](),'destinationIds':[_0x53cc6f],'messageType':_0x403a0f['Content'],'content':{'type':_0x114c1e[_0x39a7df(0x439)],'label':this[_0x39a7df(0x140)],'transactions':_0x533d48}});}async['processTransactionsDump'](_0x3b6600,_0x56164a){const _0x546e0c=_0x359c2e;if(!this['transactionTable'])throw new _0x2e0415(_0x2e0415[_0x546e0c(0xc9)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x546e0c(0x59e)]();const _0x454bc6=await this[_0x546e0c(0x592)][_0x546e0c(0x87)]();for(const _0x5bd57f of _0x454bc6){const _0x55e648=_0x56164a[_0x546e0c(0x3c6)](_0x11c185=>_0x11c185['id']===_0x5bd57f['id']);if(_0x55e648&&this[_0x546e0c(0x5c8)](_0x5bd57f,_0x55e648)<=0x0)continue;const [_0x474c10,_0x5b4fe9]=_0x5bd57f['id']['split']('::'),_0x3abc5a=this[_0x546e0c(0x472)][_0x546e0c(0x265)](_0x474c10),_0x2cda64=await _0x3abc5a?.[_0x546e0c(0x265)](_0x5b4fe9);_0x5bd57f[_0x546e0c(0x16d)]=_0x2cda64,this['send'](_0x5bd57f);}for(const _0x25e2a2 of _0x56164a){const _0x49692d=await this['transactionTable']['get'](_0x25e2a2['id']);if(!(_0x49692d&&this[_0x546e0c(0x5c8)](_0x25e2a2,_0x49692d)<=0x0)){if(_0x25e2a2[_0x546e0c(0x516)]===_0x276fb8[_0x546e0c(0x5ce)]){const [_0x23a8e5,_0x5457a8]=_0x25e2a2['id'][_0x546e0c(0x341)]('::'),_0x89133f=this[_0x546e0c(0x472)][_0x546e0c(0x265)](_0x23a8e5);await _0x89133f?.[_0x546e0c(0x1c7)](_0x5457a8,!0x1);}else this[_0x546e0c(0x59f)]['push'](_0x25e2a2['id']);}}if(0x0===this[_0x546e0c(0x59f)][_0x546e0c(0x5cb)])return this[_0x546e0c(0x59e)](),void this[_0x546e0c(0x51a)]();this[_0x546e0c(0x123)]=setTimeout(this[_0x546e0c(0x42a)],_0x14c6c8),this[_0x546e0c(0x43f)][_0x546e0c(0x9a)]({'sourceId':this[_0x546e0c(0x1ac)][_0x546e0c(0x22e)](),'destinationIds':[_0x3b6600],'messageType':_0x403a0f[_0x546e0c(0x167)],'content':{'type':_0x114c1e['RequestTransactionsValue'],'label':this[_0x546e0c(0x140)],'transactionIds':this[_0x546e0c(0x59f)]}});}async[_0x359c2e(0x3a9)](_0x22365e,_0x3a0065){const _0x1d2d8e=_0x359c2e;if(!this[_0x1d2d8e(0x592)])throw new _0x2e0415(_0x2e0415[_0x1d2d8e(0xc9)][_0x1d2d8e(0x345)]);for(const _0x41f813 of _0x3a0065){const _0x125989=await this['transactionTable']['get'](_0x41f813);if(!_0x125989)continue;const [_0x275d9f,_0x21325c]=_0x41f813[_0x1d2d8e(0x341)]('::'),_0x5637be=this['tables'][_0x1d2d8e(0x265)](_0x275d9f),_0x4c4454=await _0x5637be?.['get'](_0x21325c);_0x125989[_0x1d2d8e(0x16d)]=_0x4c4454,this[_0x1d2d8e(0xcf)](_0x125989,[_0x22365e]);}}async['writeTransaction'](_0x3e14ca){const _0x55eace=_0x359c2e;if(!this['transactionTable'])throw new _0x2e0415(_0x2e0415[_0x55eace(0xc9)][_0x55eace(0x345)]);const _0x4a64db=await this['transactionTable'][_0x55eace(0x265)](_0x3e14ca['id']);if(_0x4a64db&&this[_0x55eace(0x5c8)](_0x3e14ca,_0x4a64db)<=0x0)return;const _0xdfa48a={..._0x3e14ca};return delete _0xdfa48a[_0x55eace(0x16d)],await this[_0x55eace(0x592)][_0x55eace(0x2f9)](_0x3e14ca['id'],_0xdfa48a),_0x3e14ca;}[_0x359c2e(0x5c8)](_0xd5867b,_0x1b45f3){const _0x3f77c5=_0x359c2e;return _0xd5867b[_0x3f77c5(0x235)]<_0x1b45f3['timestamp']?-0x1:_0xd5867b[_0x3f77c5(0x235)]>_0x1b45f3[_0x3f77c5(0x235)]?0x1:_0xd5867b[_0x3f77c5(0x2c9)]-_0x1b45f3[_0x3f77c5(0x2c9)];}async[_0x359c2e(0x507)](_0x4db92c){const _0x3c4634=_0x359c2e;if(!this[_0x3c4634(0x592)])throw new _0x2e0415(_0x2e0415[_0x3c4634(0xc9)][_0x3c4634(0x345)]);const _0x367ee3=_0x4db92c['tableName']+'::'+_0x4db92c['key'],_0xfab298=await _0x3104fb[_0x3c4634(0x41a)](),_0x2ba901={'id':_0x367ee3,'priority':Math[_0x3c4634(0x139)](),'timestamp':_0xfab298,'action':_0x4db92c['action']};if(await this[_0x3c4634(0x99)](_0x2ba901))return _0x2ba901;}async[_0x359c2e(0x631)](_0x367bed){const _0x10e476=_0x359c2e;if(!this[_0x10e476(0x592)])throw new _0x2e0415(_0x2e0415[_0x10e476(0xc9)][_0x10e476(0x345)]);const _0x4dc0a5=_0x4bf5a5[_0x10e476(0x510)]('id')[_0x10e476(0x402)](_0x10e476(0x296),[_0x367bed+'::',_0x367bed+_0x10e476(0x4ce)]),_0x24173e=await this['transactionTable'][_0x10e476(0x87)](_0x4dc0a5[_0x10e476(0x13b)]());for(const _0x2af391 of _0x24173e)await this[_0x10e476(0x592)][_0x10e476(0x1c7)](_0x2af391['id']);}[_0x359c2e(0x2cc)](){const _0x405979=_0x359c2e;this[_0x405979(0x49e)](async(_0x1395d4,_0x272afa)=>{const _0x534b20=_0x405979;if(_0x272afa instanceof File)return;if(!await this[_0x534b20(0x99)](_0x272afa))return void this[_0x534b20(0x4ae)](_0x272afa);if(!_0x272afa[_0x534b20(0x16d)])throw new _0x2e0415(_0x2e0415[_0x534b20(0xc9)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x355943,_0x29e9fb]=_0x272afa['id'][_0x534b20(0x341)]('::'),_0x4dcc30=this[_0x534b20(0x472)][_0x534b20(0x265)](_0x355943);if(!_0x4dcc30)throw new _0x2e0415(_0x2e0415[_0x534b20(0xc9)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x4dcc30});let _0x4601b5=0x0;switch(_0x272afa[_0x534b20(0x516)]){case _0x276fb8[_0x534b20(0xd5)]:case _0x276fb8[_0x534b20(0x5ac)]:{const _0x3b07fb=_0x4dcc30[_0x534b20(0x2f9)](_0x29e9fb,_0x272afa[_0x534b20(0x16d)],!0x1);_0x4601b5=JSON['stringify'](_0x272afa[_0x534b20(0x16d)])['length'],this['transactionsToSync']['includes'](_0x272afa['id'])&&this[_0x534b20(0x63e)][_0x534b20(0x221)](_0x3b07fb);break;}case _0x276fb8['Delete']:{const _0x2ef238=_0x4dcc30[_0x534b20(0x1c7)](_0x29e9fb,!0x1);this[_0x534b20(0x59f)][_0x534b20(0x457)](_0x272afa['id'])&&this['syncTransactionsWritten'][_0x534b20(0x221)](_0x2ef238);break;}}_0x21773c['logServiceEvent'](_0xdaaeaa[_0x534b20(0x5f0)],{'type':'sync','label':this[_0x534b20(0x140)],'nodeId':this[_0x534b20(0x1ac)][_0x534b20(0x22e)](),'nodeType':this['localNode'][_0x534b20(0x2d7)],'clusterId':this[_0x534b20(0xff)],'tableName':_0x355943,'key':_0x29e9fb,'size':_0x4601b5}),this[_0x534b20(0x4ae)](_0x272afa);});}[_0x359c2e(0x19d)](){const _0x4f1fba=_0x359c2e;this[_0x4f1fba(0x5d6)]=this[_0x4f1fba(0x2e2)][_0x4f1fba(0x570)](async _0x476b0f=>{const _0x37fbf=_0x4f1fba;let _0x113c77=0x0;switch(_0x476b0f[_0x37fbf(0x516)]){case _0x276fb8[_0x37fbf(0xd5)]:case _0x276fb8[_0x37fbf(0x5ac)]:case _0x276fb8[_0x37fbf(0x5ce)]:{const _0x1cb02e=await this[_0x37fbf(0x507)](_0x476b0f);if(!_0x1cb02e)return;_0x1cb02e[_0x37fbf(0x16d)]=_0x476b0f[_0x37fbf(0x16d)],this[_0x37fbf(0xcf)](_0x1cb02e),_0x113c77=JSON[_0x37fbf(0x3bf)](_0x476b0f['value'])[_0x37fbf(0x5cb)],this['writes']+=0x1;break;}case _0x13cdcc['Get']:case _0x13cdcc[_0x37fbf(0x57a)]:case _0x13cdcc[_0x37fbf(0x2c1)]:this[_0x37fbf(0x272)]+=0x1;}_0x21773c[_0x37fbf(0x226)](_0xdaaeaa[_0x37fbf(0x5f0)],{'type':_0x476b0f[_0x37fbf(0x516)],'label':this[_0x37fbf(0x140)],'nodeId':this[_0x37fbf(0x1ac)][_0x37fbf(0x22e)](),'nodeType':this[_0x37fbf(0x1ac)][_0x37fbf(0x2d7)],'clusterId':this[_0x37fbf(0xff)],'tableName':_0x476b0f[_0x37fbf(0x2ba)],'key':_0x476b0f['key'],'size':_0x113c77}),this[_0x37fbf(0x44d)]();});}[_0x359c2e(0x57c)](){const _0x297aa6=_0x359c2e;this['db']&&(this['transactionTable']||(this['transactionTable']=this['db'][_0x297aa6(0x4fd)](_0x3a432a)));}[_0x359c2e(0x59e)](){const _0x5ed23a=_0x359c2e;this['syncTimeout']&&(clearTimeout(this[_0x5ed23a(0x123)]),delete this[_0x5ed23a(0x123)]);}[_0x359c2e(0x51a)](){const _0x473464=_0x359c2e;this[_0x473464(0x42d)][_0x473464(0x9a)]({'event':_0x883b7d[_0x473464(0x651)][_0x473464(0x53c)]}),this[_0x473464(0x11f)]?.(!0x0),delete this['syncResolve'],this[_0x473464(0x44d)]();}async[_0x359c2e(0x62a)](){const _0x2cb0da=_0x359c2e;await Promise['all'](this[_0x2cb0da(0x63e)]),this[_0x2cb0da(0x51a)]();}[_0x359c2e(0x4ae)](_0x3c0203){const _0x2878db=_0x359c2e;this[_0x2878db(0x59f)]['includes'](_0x3c0203['id'])&&(this['clearSyncTimeout'](),this[_0x2878db(0x59f)]=this[_0x2878db(0x59f)][_0x2878db(0x5d5)](_0x49a5b2=>_0x49a5b2!==_0x3c0203['id']),0x0!==this[_0x2878db(0x59f)][_0x2878db(0x5cb)]?this[_0x2878db(0x123)]=setTimeout(this[_0x2878db(0x42a)],_0x14c6c8):this[_0x2878db(0x62a)]());}[_0x359c2e(0x44d)](){const _0x299b89=_0x359c2e;this['debounceStats']&&clearTimeout(this[_0x299b89(0x528)]),this[_0x299b89(0x528)]=setTimeout(async()=>{const _0x45bf77=_0x299b89;delete this[_0x45bf77(0x528)];let _0xec22cd=0x0;for(const _0x2bc6ef of this[_0x45bf77(0x472)][_0x45bf77(0x313)]())_0xec22cd+=await _0x2bc6ef[_0x45bf77(0xfe)]();this[_0x45bf77(0x43f)][_0x45bf77(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x45bf77(0x167)],'content':{'type':_0x114c1e[_0x45bf77(0x515)],'label':this[_0x45bf77(0x140)],'stats':{'timestamp':Date[_0x45bf77(0x4a7)](),'storage':_0xec22cd,'messagesSent':this[_0x45bf77(0x3d8)],'messagesReceived':this[_0x45bf77(0x12d)],'bytesSent':this[_0x45bf77(0x52b)],'bytesReceived':this[_0x45bf77(0x1bf)],'writes':this[_0x45bf77(0x652)],'reads':this['reads']}}}),_0x21773c[_0x45bf77(0xc1)](_0xdaaeaa[_0x45bf77(0x5f0)],'ccc'+this[_0x45bf77(0xff)]+_0x45bf77(0x5aa)+this[_0x45bf77(0x140)],_0xec22cd);},0x1388);}[_0x359c2e(0x576)](_0x345ec9){const _0x1577c0=_0x359c2e;if(_0x345ec9[_0x1577c0(0x472)][_0x3a432a])throw new _0x26d32b(_0x10cef2[_0x1577c0(0x5bb)],_0x1577c0(0x544)+_0x3a432a+_0x1577c0(0x13c));if(_0x345ec9['tables'][_0x384fa7])throw new _0x26d32b(_0x10cef2[_0x1577c0(0x5bb)],_0x1577c0(0x544)+_0x384fa7+'\x27\x20reserved');_0x345ec9['tables'][_0x3a432a]={'indexes':[]},_0x345ec9['tables'][_0x384fa7]={'indexes':[]};}}const _0x293190=require('@crewdle/mist-connector-opfs'),_0x1099b0=require('@crewdle/mist-connector-indexed-db'),_0xf0cc85=require('@crewdle/mist-connector-webrtc-browser');var _0x251718,_0x3f817f,_0x1577ee,_0xc93616,_0x352005,_0x483dd4,_0x5567d1,_0x27dd27,_0x252a31;!function(_0x3668b7){const _0x27e80d=_0x359c2e;_0x3668b7['AudioContext']='AudioContext',_0x3668b7[_0x27e80d(0x3c5)]='AudioOutput',_0x3668b7['AudioVolume']='AudioVolume',_0x3668b7[_0x27e80d(0x55a)]=_0x27e80d(0x55a),_0x3668b7[_0x27e80d(0x4e6)]=_0x27e80d(0x4e6),_0x3668b7[_0x27e80d(0x628)]=_0x27e80d(0x628),_0x3668b7[_0x27e80d(0x498)]='Recording',_0x3668b7[_0x27e80d(0x640)]=_0x27e80d(0x640),_0x3668b7[_0x27e80d(0x267)]=_0x27e80d(0x267),_0x3668b7[_0x27e80d(0x1b1)]=_0x27e80d(0x1b1);}(_0x251718||(_0x251718={}));class _0x42f445{['registeredListeners'];[_0x359c2e(0x182)];['eventTarget'];constructor(_0x494362=new Map(),_0x5d6a4d=new Map(),_0x1b5fb4=new EventTarget()){const _0x1c210d=_0x359c2e;this[_0x1c210d(0x1fb)]=_0x494362,this[_0x1c210d(0x182)]=_0x5d6a4d,this[_0x1c210d(0x20e)]=_0x1b5fb4;}['emit']=(_0x22ed12,_0x3ee7e8)=>this[_0x359c2e(0x1fb)]['has'](_0x22ed12)?(_0x21773c[_0x359c2e(0x35d)](_0x5e3d2b[_0x359c2e(0xb6)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x22ed12,'data':_0x3ee7e8}),this['eventTarget'][_0x359c2e(0x229)](new CustomEvent(_0x22ed12,{'detail':_0x3ee7e8})),!0x0):(this[_0x359c2e(0x284)](_0x22ed12,_0x3ee7e8),!0x1);['on']=(_0x3bee5f,_0x4500db)=>{const _0x1dda3e=_0x359c2e,_0x1fb7d0=_0x3811af=>{const _0x5a9d97=a0_0x2eba;_0x21773c[_0x5a9d97(0x35d)](_0x5e3d2b[_0x5a9d97(0xb6)],_0x5a9d97(0x60a),_0x3811af[_0x5a9d97(0x2d7)],_0x3811af[_0x5a9d97(0x506)]),_0x4500db(_0x3811af[_0x5a9d97(0x506)]);};return this[_0x1dda3e(0x1fb)]['set'](_0x3bee5f,_0x1fb7d0),this[_0x1dda3e(0x20e)]['addEventListener'](_0x3bee5f,_0x1fb7d0),_0x21773c[_0x1dda3e(0x35d)](_0x5e3d2b[_0x1dda3e(0x59c)],_0x1dda3e(0x536),_0x3bee5f,_0x4500db),this[_0x1dda3e(0x39c)](_0x3bee5f),this;};[_0x359c2e(0x590)](_0x5f17b0){const _0x30cf62=_0x359c2e;if(!_0x5f17b0)return this[_0x30cf62(0x1fb)]['forEach']((_0x55b861,_0x34ee2f)=>{const _0x52dde1=_0x30cf62;this[_0x52dde1(0x20e)][_0x52dde1(0x46e)](_0x34ee2f,_0x55b861);}),void this[_0x30cf62(0x1fb)]['clear']();_0x30cf62(0x2e4)==typeof _0x5f17b0&&this[_0x30cf62(0x50d)](_0x5f17b0),Array[_0x30cf62(0x3cd)](_0x5f17b0)&&_0x5f17b0[_0x30cf62(0x600)](_0x16cf41=>{const _0x3ad44e=_0x30cf62;this[_0x3ad44e(0x50d)](_0x16cf41);});}[_0x359c2e(0x50d)](_0x51872e){const _0x48ca14=_0x359c2e,_0x291046=this['registeredListeners']['get'](_0x51872e);_0x291046&&(this[_0x48ca14(0x20e)][_0x48ca14(0x46e)](_0x51872e,_0x291046),this['registeredListeners'][_0x48ca14(0x1c7)](_0x51872e));}['bufferEvent'](_0x974792,_0x56e963){const _0x4ea210=_0x359c2e;_0x21773c[_0x4ea210(0x35d)](_0x5e3d2b[_0x4ea210(0xb6)],_0x4ea210(0x52c),{'event':_0x974792,'data':_0x56e963});const _0x51d3f6=this[_0x4ea210(0x182)][_0x4ea210(0x265)](_0x974792)||[];this['bufferedEvents']['set'](_0x974792,[..._0x51d3f6,_0x56e963]);}[_0x359c2e(0x39c)](_0x559fd0){const _0x1651cc=_0x359c2e,_0x3c064e=this[_0x1651cc(0x182)][_0x1651cc(0x265)](_0x559fd0);_0x3c064e&&(_0x3c064e[_0x1651cc(0x600)](_0x1a9efe=>{const _0xbbea35=_0x1651cc;_0x21773c[_0xbbea35(0x35d)](_0x5e3d2b[_0xbbea35(0xb6)],_0xbbea35(0x2ff),{'event':_0x559fd0,'data':_0x1a9efe}),this[_0xbbea35(0x20e)][_0xbbea35(0x229)](new CustomEvent(_0x559fd0,{'detail':_0x1a9efe}));}),this[_0x1651cc(0x182)][_0x1651cc(0x1c7)](_0x559fd0));}}class _0x215c54 extends Error{constructor(_0x35f0dc){const _0x8000ac=_0x359c2e;super(_0x8000ac(0x31c)+_0x35f0dc);}}!function(_0x414616){const _0x323164=_0x359c2e;_0x414616[_0x414616['Core']=0x0]=_0x323164(0x4c9),_0x414616[_0x414616[_0x323164(0x3b6)]=0x1]=_0x323164(0x3b6);}(_0x3f817f||(_0x3f817f={})),function(_0x4bc876){const _0x304bca=_0x359c2e;_0x4bc876[_0x4bc876[_0x304bca(0x155)]=0x0]=_0x304bca(0x155),_0x4bc876[_0x4bc876[_0x304bca(0x585)]=0x1]=_0x304bca(0x585),_0x4bc876[_0x4bc876[_0x304bca(0x3d0)]=0x2]=_0x304bca(0x3d0),_0x4bc876[_0x4bc876[_0x304bca(0x60b)]=0x3]=_0x304bca(0x60b),_0x4bc876[_0x4bc876[_0x304bca(0xfc)]=0x4]=_0x304bca(0xfc),_0x4bc876[_0x4bc876[_0x304bca(0x32e)]=0x5]='Restart',_0x4bc876[_0x4bc876[_0x304bca(0xdd)]=0x6]='Disconnect',_0x4bc876[_0x4bc876[_0x304bca(0x5bd)]=0x7]='Stats',_0x4bc876[_0x4bc876[_0x304bca(0x339)]=0x8]=_0x304bca(0x339);}(_0x1577ee||(_0x1577ee={})),function(_0x678d3c){const _0x3fe428=_0x359c2e;_0x678d3c[_0x678d3c[_0x3fe428(0x1a1)]=0x0]=_0x3fe428(0x1a1),_0x678d3c[_0x678d3c['Receiver']=0x1]=_0x3fe428(0x233);}(_0xc93616||(_0xc93616={})),function(_0x5a3cf9){const _0xb88ed=_0x359c2e;_0x5a3cf9['MediaStream']=_0xb88ed(0x2fd);}(_0x352005||(_0x352005={})),function(_0x434b13){const _0x20d368=_0x359c2e;_0x434b13[_0x434b13['NodeJoin']=0x0]='NodeJoin',_0x434b13[_0x434b13[_0x20d368(0xbb)]=0x1]=_0x20d368(0xbb),_0x434b13[_0x434b13['NodeConnectionsUpdate']=0x2]=_0x20d368(0x238),_0x434b13[_0x434b13[_0x20d368(0x27d)]=0x3]=_0x20d368(0x27d);}(_0x483dd4||(_0x483dd4={})),function(_0x1e9c1b){const _0x5e9216=_0x359c2e;_0x1e9c1b[_0x1e9c1b[_0x5e9216(0x419)]=0x0]=_0x5e9216(0x419),_0x1e9c1b[_0x1e9c1b[_0x5e9216(0x39a)]=0x1]=_0x5e9216(0x39a);}(_0x5567d1||(_0x5567d1={})),function(_0xdd3584){const _0x20d70a=_0x359c2e;_0xdd3584['Upgrade']=_0x20d70a(0xa4),_0xdd3584['Downgrade']=_0x20d70a(0x162);}(_0x27dd27||(_0x27dd27={})),function(_0xe65f77){const _0x3e0bbd=_0x359c2e;_0xe65f77[_0x3e0bbd(0x4c6)]=_0x3e0bbd(0x3b9),_0xe65f77['Bitrate']='bitrate';}(_0x252a31||(_0x252a31={}));const _0x595a90=require('aws-amplify'),_0x17a81d=require('aws-amplify/utils'),_0x451aec=require('@aws-amplify/api'),_0xb0be70=require('@aws-amplify/core');class _0xf3744f{['clusterId'];[_0x359c2e(0x1ac)];[_0x359c2e(0x414)];constructor(_0xa92398,_0xc1d5d7,_0x23e084){const _0x40dabf=_0x359c2e;this[_0x40dabf(0xff)]=_0xa92398,this['localNode']=_0xc1d5d7,this[_0x40dabf(0x414)]=_0x23e084;}[_0x359c2e(0x218)](){const _0x463639=_0x359c2e;return this[_0x463639(0x1ac)][_0x463639(0x22e)]();}[_0x359c2e(0x5d0)](){const _0x53e5ff=_0x359c2e;return this[_0x53e5ff(0x414)];}}var _0x29eb7c,_0x455723,_0x218304;function _0x389d95(_0x4aee87,_0x535cc9){const _0x2b3210=_0x359c2e;return _0x4aee87[_0x2b3210(0x143)]===_0x535cc9;}function _0x4a1ac4(_0x48893a,_0x101560){const _0x8101ce=_0x359c2e;return _0x48893a[_0x8101ce(0x513)]?.[_0x8101ce(0x457)](_0x101560)??function(_0x1a95da){const _0x137cb7=_0x8101ce;return void 0x0===_0x1a95da[_0x137cb7(0x513)];}(_0x48893a);}function _0x195971(_0x5a58ba,{contentType:_0x559a03,label:_0x37ccfc,remoteId:_0x2aabe8}){return _0x5a58ba+'-'+_0x559a03+'-'+_0x37ccfc+'-'+_0x2aabe8;}function _0x34928b(_0x2594bc,_0x4076a0,_0x126d19){return''+_0x2594bc+_0x4076a0+_0x126d19;}function _0x4fdd5a(_0x5cf1b5){const _0x192ff9=_0x359c2e;return _0x5cf1b5===_0x455723[_0x192ff9(0x637)]?'IncomingSubscription':_0x192ff9(0x172);}function _0x241533(_0xf67c72,_0x516ecf){const _0x2e2047=_0x359c2e;return{'label':_0xf67c72[_0x2e2047(0x177)](),'contentType':_0xf67c72['getContentType'](),'remoteId':_0x516ecf[_0x2e2047(0x5d0)](),'supportsContentType':_0x516ecf[_0x2e2047(0x5c4)]()[_0x2e2047(0x457)](_0xf67c72[_0x2e2047(0xce)]())};}!function(_0x1bde59){const _0x25f0ba=_0x359c2e;_0x1bde59[_0x1bde59[_0x25f0ba(0x5fd)]=0x0]=_0x25f0ba(0x5fd),_0x1bde59[_0x1bde59[_0x25f0ba(0x4bf)]=0x1]=_0x25f0ba(0x4bf),_0x1bde59[_0x1bde59[_0x25f0ba(0x189)]=0x2]=_0x25f0ba(0x189);}(_0x29eb7c||(_0x29eb7c={})),function(_0xd85da){const _0x16e862=_0x359c2e;_0xd85da[_0x16e862(0x637)]='in',_0xd85da[_0x16e862(0x5dc)]=_0x16e862(0x164);}(_0x455723||(_0x455723={}));class _0x13eafc{[_0x359c2e(0x44a)];[_0x359c2e(0x5e5)];constructor(_0x2f7866,_0x28c578){const _0x461279=_0x359c2e;this[_0x461279(0x44a)]=_0x2f7866,this[_0x461279(0x5e5)]=_0x28c578;}[_0x359c2e(0x468)](_0xe476c3){const _0x54fb72=_0x359c2e;this[_0x54fb72(0x44a)](_0xe476c3);}async[_0x359c2e(0x33e)](){await this['retryCallback']();}}class _0x774117{[_0x359c2e(0x44a)];[_0x359c2e(0x5e5)];constructor(_0x3b9856,_0x55fc41){const _0x228dfb=_0x359c2e;this[_0x228dfb(0x44a)]=_0x3b9856,this[_0x228dfb(0x5e5)]=_0x55fc41;}async[_0x359c2e(0x468)](_0x160f1b){const _0x3482b5=_0x359c2e;await this[_0x3482b5(0x44a)](_0x160f1b);}async[_0x359c2e(0x33e)](){const _0x4401d0=_0x359c2e;await this[_0x4401d0(0x5e5)]();}}function _0x2c3e61(_0x3fa3c9=()=>{},_0x3d1585=()=>!0x1,_0x151209=()=>{}){let _0x15fc41,_0x5200a9,_0xd2154d=0x0;return{get 'size'(){return _0xd2154d;},get 'head'(){return _0x15fc41;},get 'tail'(){return _0x5200a9;},set 'head'(_0x48e1de){_0x15fc41=_0x48e1de;},set 'tail'(_0x1b7867){_0x5200a9=_0x1b7867;},'push'(_0x556e72,_0x3ec4f3=!0x0){const _0x32b3a7=a0_0x2eba,_0x27c0eb={'value':_0x556e72};_0x3ec4f3&&_0x3d1585(_0x27c0eb)?_0x3fa3c9():(_0x5200a9&&(_0x27c0eb['previous']=_0x5200a9,_0x5200a9[_0x32b3a7(0x61e)]=_0x27c0eb),_0x5200a9=_0x27c0eb,_0x15fc41||(_0x15fc41=_0x27c0eb),_0xd2154d+=0x1,_0x3ec4f3&&_0x3fa3c9());},'pop'(){const _0x5689c9=a0_0x2eba;if(!_0x5200a9)return;const _0x1cdfa0=_0x5200a9[_0x5689c9(0x16d)];return _0x5200a9=_0x5200a9[_0x5689c9(0x350)],_0x5200a9&&delete _0x5200a9[_0x5689c9(0x61e)],_0x5200a9||(_0x15fc41=void 0x0),_0xd2154d-=0x1,_0x1cdfa0;},'unshift'(_0x4d57da,_0x290359=!0x0){const _0x216090=a0_0x2eba,_0x5ee5db={'value':_0x4d57da};_0x290359&&_0x3d1585(_0x5ee5db)?_0x3fa3c9():(_0x15fc41&&(_0x15fc41['previous']=_0x5ee5db,_0x5ee5db[_0x216090(0x61e)]=_0x15fc41),_0x15fc41=_0x5ee5db,_0x5200a9||(_0x5200a9=_0x5ee5db),_0xd2154d+=0x1,_0x290359&&_0x3fa3c9());},'shift'(){const _0x2c27ca=a0_0x2eba;if(!_0x15fc41)return;const _0x5a393a=_0x15fc41[_0x2c27ca(0x16d)];return _0x15fc41=_0x15fc41[_0x2c27ca(0x61e)],_0x15fc41&&delete _0x15fc41[_0x2c27ca(0x350)],_0x15fc41||(_0x5200a9=void 0x0),_0xd2154d-=0x1,_0x5a393a;},'clear'(){_0x151209(),_0x15fc41=void 0x0,_0x5200a9=void 0x0,_0xd2154d=0x0;}};}function _0x3cace4(_0x522856,_0x4dd21a=!0x1,_0x4b7188=()=>{},_0x1b6978=()=>!0x1,_0x1c0053=()=>{}){let _0x1ece20=!0x1;const _0x4beaa0=_0x2c3e61(async function(){const _0x1c0e59=a0_0x2eba;if(!_0x1ece20){for(_0x1ece20=!0x0;_0x4beaa0['head'];){const _0x5b6148=_0x4beaa0[_0x1c0e59(0x4f8)]();if(_0x5b6148)try{_0x522856 instanceof _0x13eafc&&_0x522856[_0x1c0e59(0x468)](_0x5b6148),_0x522856 instanceof _0x774117&&await _0x522856[_0x1c0e59(0x468)](_0x5b6148),_0x4b7188(_0x5b6148);}catch(_0x5592a1){_0x4dd21a?_0x4beaa0[_0x1c0e59(0x221)](_0x5b6148,!0x1):_0x4beaa0['unshift'](_0x5b6148,!0x1),await _0x522856[_0x1c0e59(0x33e)]();}}_0x1ece20=!0x1;}},_0x1b6978,_0x1c0053);return _0x4beaa0;}class _0x53e053 extends _0xf3744f{[_0x359c2e(0x3d4)];[_0x359c2e(0x403)];['disconnect'];['connectionState']=_0x451aec['ConnectionState'][_0x359c2e(0x291)];[_0x359c2e(0x322)]=_0x4e9161();[_0x359c2e(0x5b2)]=_0x36be06();[_0x359c2e(0x37b)];[_0x359c2e(0x30c)];[_0x359c2e(0xd3)]=_0x3cace4(new _0x774117(this[_0x359c2e(0x43e)]['bind'](this),this[_0x359c2e(0x4f0)][_0x359c2e(0x4e8)](this)));[_0x359c2e(0x642)];constructor(_0x596597,_0x9d74a1,_0x9c5536,_0x3fc1a4,_0x1de7c7,_0x27d4d1){const _0x17c636=_0x359c2e;super(_0x9d74a1,_0x9c5536,_0x3fc1a4),this[_0x17c636(0x3d4)]=_0x596597,this[_0x17c636(0x403)]=_0x1de7c7,this[_0x17c636(0x3a6)]=_0x27d4d1;}async[_0x359c2e(0x1da)](){const _0x12503e=_0x359c2e;try{const _0x3a0158={'getTokens':async()=>{const _0xd209d4=a0_0x2eba,_0x4f4b74=await this[_0xd209d4(0x403)][_0xd209d4(0x622)]();return{'accessToken':(0x0,_0xb0be70[_0xd209d4(0x144)])(_0x4f4b74),'idToken':(0x0,_0xb0be70[_0xd209d4(0x144)])(_0x4f4b74)};}};_0x595a90[_0x12503e(0x2ca)][_0x12503e(0x3db)]({'API':{'GraphQL':{'endpoint':_0x2efd8c[_0x12503e(0x25f)]['endpoint'],'region':_0x2efd8c[_0x12503e(0x25f)][_0x12503e(0x362)],'defaultAuthMode':_0x12503e(0x29f)}}},{'Auth':{'tokenProvider':_0x3a0158}}),this['client']=(0x0,_0x451aec[_0x12503e(0x18e)])(),await this[_0x12503e(0x570)](),this['listenUnsubscriber']=_0x17a81d['Hub'][_0x12503e(0xbf)]('api',async({payload:_0x2dd522})=>{const _0x2a4893=_0x12503e;if(_0x2dd522[_0x2a4893(0x3c3)]===_0x451aec[_0x2a4893(0x512)]){const _0x14ab49=_0x2dd522[_0x2a4893(0x3f4)];this[_0x2a4893(0x399)]=_0x14ab49[_0x2a4893(0x399)],this[_0x2a4893(0x322)][_0x2a4893(0x9a)](_0x14ab49['connectionState']),this['connectionState']===_0x451aec['ConnectionState'][_0x2a4893(0x291)]&&_0x21773c[_0x2a4893(0x11d)](_0x2a4893(0x610),{'clusterId':this[_0x2a4893(0xff)],'nodeId':this[_0x2a4893(0x218)](),'nodeType':this['localNode'][_0x2a4893(0x2d7)]}),this['connectionState']===_0x451aec[_0x2a4893(0x2bb)][_0x2a4893(0x482)]&&_0x21773c[_0x2a4893(0x34c)](_0x2a4893(0x3bb),{'clusterId':this[_0x2a4893(0xff)],'nodeId':this['getLocalId'](),'nodeType':this[_0x2a4893(0x1ac)][_0x2a4893(0x2d7)]});}});}catch(_0x43d29d){_0x21773c['error'](_0x12503e(0x147),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x12503e(0x1ac)][_0x12503e(0x2d7)]});}}[_0x359c2e(0x57d)](){const _0x1d98ca=_0x359c2e;_0x21773c[_0x1d98ca(0x34c)]('appsync-close',{'clusterId':this[_0x1d98ca(0xff)],'nodeId':this[_0x1d98ca(0x218)](),'nodeType':this[_0x1d98ca(0x1ac)][_0x1d98ca(0x2d7)]}),this['retryQueue'][_0x1d98ca(0x288)](),this[_0x1d98ca(0x30c)]?.(),this[_0x1d98ca(0x37b)]?.['unsubscribe'](),delete this[_0x1d98ca(0x37b)];}['isConnected'](){const _0x1ae740=_0x359c2e;return this[_0x1ae740(0x399)]===_0x451aec[_0x1ae740(0x2bb)][_0x1ae740(0x482)];}[_0x359c2e(0xcf)](_0x21c95b){const _0x29397c=_0x359c2e;this[_0x29397c(0xd3)]['push'](_0x21c95b);}['onMessage'](_0xc23780){const _0x495b45=_0x359c2e;return this[_0x495b45(0x5b2)][_0x495b45(0x570)](_0xc23780);}[_0x359c2e(0x5c4)](){const _0x4d2d2f=_0x359c2e;return[_0x883b7d[_0x4d2d2f(0x3f6)][_0x4d2d2f(0x477)]];}async[_0x359c2e(0x4f0)](){const _0x276304=_0x359c2e;if(!this[_0x276304(0x520)]())return new Promise(_0x5a4028=>{const _0x19a1d6=_0x276304,_0x36dd05=this[_0x19a1d6(0x322)][_0x19a1d6(0x570)](_0x17af07=>{const _0x237433=_0x19a1d6;_0x17af07===_0x451aec[_0x237433(0x2bb)][_0x237433(0x482)]&&(_0x36dd05(),_0x5a4028());});});}async['sendAction'](_0x194c6b){const _0x36182a=_0x359c2e;if(this[_0x36182a(0x399)]!==_0x451aec[_0x36182a(0x2bb)][_0x36182a(0x482)])throw new Error(_0x36182a(0xa7));_0x194c6b[_0x36182a(0x513)]&&0x1===_0x194c6b[_0x36182a(0x513)][_0x36182a(0x5cb)]?await this['publish'](_0x194c6b['destinationIds'][0x0],JSON[_0x36182a(0x3bf)](_0x194c6b)):_0x21773c['error'](_0x36182a(0x3aa),{'clusterId':this['clusterId'],'nodeId':this[_0x36182a(0x218)](),'nodeType':this[_0x36182a(0x1ac)][_0x36182a(0x2d7)]});}async[_0x359c2e(0x9a)](_0x10e125,_0x338f0f){const _0x31dcea=_0x359c2e;if(!this[_0x31dcea(0x642)])throw new Error(_0x31dcea(0x2a2));_0x21773c[_0x31dcea(0x35d)](_0x5e3d2b['Signaling'],'AppSync\x20publish',this['getLocalId'](),_0x338f0f),await this[_0x31dcea(0x642)][_0x31dcea(0xe8)]({'query':_0x31dcea(0x197),'variables':{'name':await this[_0x31dcea(0x51b)](_0x10e125),'data':_0x338f0f}});}async[_0x359c2e(0x570)](){const _0xc435b6=_0x359c2e;if(this[_0xc435b6(0x37b)])return;if(!this[_0xc435b6(0x642)])throw new Error('AppSync\x20client\x20not\x20ready');_0x21773c[_0xc435b6(0x35d)](_0x5e3d2b['Signaling'],_0xc435b6(0xf5),this['getLocalId']());const _0x350cf1=await this['client'][_0xc435b6(0xe8)]({'query':_0xc435b6(0xa8),'variables':{'name':await this[_0xc435b6(0x51b)]()},'authToken':await this[_0xc435b6(0x403)][_0xc435b6(0x622)]()},{'Authorization':await this[_0xc435b6(0x403)][_0xc435b6(0x622)]()});this[_0xc435b6(0x37b)]=_0x350cf1[_0xc435b6(0x570)]({'next':({data:_0x55c622})=>{const _0x4f3b30=_0xc435b6,_0x3c2c20=JSON[_0x4f3b30(0x4f2)](_0x55c622[_0x4f3b30(0x570)][_0x4f3b30(0x3f4)]);!_0x389d95(_0x3c2c20,this['getLocalId']())&&_0x4a1ac4(_0x3c2c20,this[_0x4f3b30(0x218)]())&&this['messageListeners'][_0x4f3b30(0x9a)](_0x3c2c20);},'error':console[_0xc435b6(0x35d)]});}async[_0x359c2e(0x51b)](_0x4e0130){const _0x5d944e=_0x359c2e,_0x3c32c9=await crypto[_0x5d944e(0x2ef)]['digest'](_0x5d944e(0x1be),new TextEncoder()[_0x5d944e(0x4dc)](this[_0x5d944e(0x3d4)]+'-'+this[_0x5d944e(0xff)]+'-'+(_0x4e0130??this[_0x5d944e(0x218)]())));return Array[_0x5d944e(0x163)](new Uint8Array(_0x3c32c9))['map'](_0x19e2aa=>_0x19e2aa[_0x5d944e(0x3a4)](0x10)['padStart'](0x2,'0'))[_0x5d944e(0x3ad)]('');}}!function(_0x35e852){const _0x34a77f=_0x359c2e;_0x35e852[_0x35e852[_0x34a77f(0xd5)]=0x0]='Add',_0x35e852[_0x35e852[_0x34a77f(0x3f2)]=0x1]=_0x34a77f(0x3f2),_0x35e852[_0x35e852[_0x34a77f(0x5ac)]=0x2]=_0x34a77f(0x5ac),_0x35e852[_0x35e852['RemoteAdd']=0x3]='RemoteAdd',_0x35e852[_0x35e852[_0x34a77f(0x56b)]=0x4]=_0x34a77f(0x56b);}(_0x218304||(_0x218304={}));const _0x3696f7=require('uuid'),_0x29a2a8='0',_0x240a0b=_0x359c2e(0x2c7),_0x2c89f5=0x3fc00;class _0x4b4a26{[_0x359c2e(0xff)];['localNode'];['remoteId'];[_0x359c2e(0x32d)];[_0x359c2e(0x120)];[_0x359c2e(0x33b)];[_0x359c2e(0x58a)];[_0x359c2e(0x325)];[_0x359c2e(0xc8)]=0x1;[_0x359c2e(0x43f)];[_0x359c2e(0x2b3)]=[];['pendingHandshakeCandidates']=[];[_0x359c2e(0x173)];constructor(_0x64d86b,_0x56fa93,_0x2cee45,_0x481996,_0x3537c1,_0x1d5368){const _0x1b54b9=_0x359c2e;this['clusterId']=_0x64d86b,this[_0x1b54b9(0x1ac)]=_0x56fa93,this[_0x1b54b9(0x414)]=_0x2cee45,this[_0x1b54b9(0x32d)]=_0x481996,this[_0x1b54b9(0x120)]=_0x3537c1,this[_0x1b54b9(0x33b)]=_0x1d5368,this['connection']=new this[(_0x1b54b9(0x33b))]({'handshakeServers':this[_0x1b54b9(0x32d)]}),this[_0x1b54b9(0x34f)]();}[_0x359c2e(0x57d)](){const _0x2255c8=_0x359c2e;this[_0x2255c8(0x38d)]();}[_0x359c2e(0x1f1)](_0x1414ef){const _0x3d324e=_0x359c2e;this[_0x3d324e(0x120)]=_0x1414ef;}async[_0x359c2e(0x582)](_0x4d27cb,_0x4ca2d1){const _0x63e245=_0x359c2e;if(_0x4ca2d1===this[_0x63e245(0xc8)])for(const _0x264b53 of _0x4d27cb){if(!this[_0x63e245(0x58a)]['canAddCandidates'])return this[_0x63e245(0x490)](_0x264b53);await this[_0x63e245(0x58a)]['addCandidate'](_0x264b53);}}[_0x359c2e(0x520)](){const _0x139b2d=_0x359c2e;return this['logConnectionState'](),_0x139b2d(0x1af)===this['connection'][_0x139b2d(0x399)]&&[_0x139b2d(0x1af),_0x139b2d(0x562)][_0x139b2d(0x457)](this[_0x139b2d(0x58a)][_0x139b2d(0x2da)])&&_0x139b2d(0x114)!==this['connection'][_0x139b2d(0x2c5)]&&_0x139b2d(0x4e7)===this[_0x139b2d(0x325)]?.['state'];}['registerSystemPublisher'](_0x3e9e5d){const _0x280aa6=_0x359c2e;this[_0x280aa6(0x43f)]=_0x3e9e5d;}[_0x359c2e(0x331)](){const _0x18b227=_0x359c2e;delete this[_0x18b227(0x43f)];}[_0x359c2e(0x127)](_0x450943){const _0x27d869=_0x359c2e;this[_0x27d869(0x38d)](),this[_0x27d869(0x58a)]=new this[(_0x27d869(0x33b))]({'handshakeServers':this[_0x27d869(0x32d)]}),_0x450943?this['currentVersion']=_0x450943:this['currentVersion']+=0x1,this[_0x27d869(0x34f)]();}['processPendingHandshakeCandidates'](){const _0x4b035d=_0x359c2e;this['pendingHandshakeCandidates'][_0x4b035d(0x600)](_0x4d32de=>this[_0x4b035d(0x58a)]['addCandidate'](_0x4d32de)),this[_0x4b035d(0x1e4)]=[];}['publishSystemMessage'](_0x368058,_0x398825){const _0x13e1c0=_0x359c2e;if(!this[_0x13e1c0(0x43f)])throw new _0x2e0415(_0x2e0415[_0x13e1c0(0xc9)][_0x13e1c0(0x108)],{'content':_0x368058});const _0x170e21={'sourceId':this[_0x13e1c0(0x1ac)][_0x13e1c0(0x22e)](),'destinationIds':[this['remoteId']],'propagate':this[_0x13e1c0(0x120)]!==_0x3f817f['Core'],'retry':this[_0x13e1c0(0x120)]!==_0x3f817f['Core'],'messageType':_0x403a0f[_0x13e1c0(0x11c)],'content':_0x368058};_0x398825&&(_0x170e21[_0x13e1c0(0x5b0)]=_0x398825),this[_0x13e1c0(0x43f)][_0x13e1c0(0x9a)](_0x170e21);}[_0x359c2e(0x34f)](){const _0x5ddf1a=_0x359c2e;this[_0x5ddf1a(0x58a)][_0x5ddf1a(0x8f)]=()=>{const _0x2c3a32=_0x5ddf1a;_0x2c3a32(0xaa)===this['connection'][_0x2c3a32(0x44c)]&&this['handshakeCandidates'][_0x2c3a32(0x5cb)]>0x0&&(this[_0x2c3a32(0x173)]&&clearTimeout(this[_0x2c3a32(0x173)]),this[_0x2c3a32(0x173)]=setTimeout(()=>{const _0x3bdaf6=_0x2c3a32;delete this[_0x3bdaf6(0x173)],this[_0x3bdaf6(0x1f5)](),this[_0x3bdaf6(0x2b3)]=[];},0x1f4));},this[_0x5ddf1a(0x58a)][_0x5ddf1a(0x292)]=_0x578155=>{const _0x13d037=_0x5ddf1a;_0x578155[_0x13d037(0x488)]&&this[_0x13d037(0x2b3)][_0x13d037(0x221)](_0x578155[_0x13d037(0x488)]);};}['stopConnection'](){const _0x4141f1=_0x359c2e;clearTimeout(this[_0x4141f1(0x173)]),delete this[_0x4141f1(0x173)],this[_0x4141f1(0x2b3)]=[],this[_0x4141f1(0x1e4)]=[],this[_0x4141f1(0x325)]&&(this[_0x4141f1(0x325)][_0x4141f1(0x49e)]=null,this[_0x4141f1(0x325)][_0x4141f1(0x4cf)]=null,this[_0x4141f1(0x325)][_0x4141f1(0x57d)](),delete this[_0x4141f1(0x325)]),this[_0x4141f1(0x58a)]['onGatheringStateChange']=null,this['connection'][_0x4141f1(0x292)]=null,this[_0x4141f1(0x58a)]['onHandshakeStateChange']=null,this[_0x4141f1(0x58a)][_0x4141f1(0x3f9)]=null,this[_0x4141f1(0x58a)][_0x4141f1(0x467)]=null,this[_0x4141f1(0x58a)][_0x4141f1(0x2e3)]=null,this[_0x4141f1(0x58a)][_0x4141f1(0x57d)]();}['addPendingHandshakeCandidate'](_0x196fec){const _0x4992a6=_0x359c2e;this[_0x4992a6(0x1e4)]['push'](_0x196fec);}[_0x359c2e(0x4f9)](){const _0x3c14d1=_0x359c2e;_0x21773c['log'](_0x5e3d2b[_0x3c14d1(0x2bb)],'Base\x20Peer\x20Connection',{'localId':this[_0x3c14d1(0x1ac)][_0x3c14d1(0x22e)](),'remoteId':this['remoteId'],'connectionState':this[_0x3c14d1(0x58a)][_0x3c14d1(0x399)],'handshakeState':this[_0x3c14d1(0x58a)][_0x3c14d1(0x2da)],'signalingState':this[_0x3c14d1(0x58a)][_0x3c14d1(0x2c5)],'dataChannelState':this[_0x3c14d1(0x325)]?.[_0x3c14d1(0x621)]});}}function _0x38c823(_0xef2d27,_0x5b3fd0){const _0x4bd41f=_0x359c2e;_0x5b3fd0[_0x4bd41f(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x4bd41f(0x11c)],'content':_0xef2d27});}class _0x1e23d2{static [_0x359c2e(0x101)];[_0x359c2e(0x119)]=[];[_0x359c2e(0x373)];constructor(){setInterval(()=>{const _0xc8698a=a0_0x2eba;this[_0xc8698a(0x119)][_0xc8698a(0x600)](_0xdcb065=>{const _0x11365b=_0xc8698a;if(Date[_0x11365b(0x4a7)]()-_0xdcb065['lastExecuted']>_0xdcb065[_0x11365b(0x47f)]){try{_0xdcb065[_0x11365b(0x44a)]();}catch(_0x160ae5){}_0xdcb065['lastExecuted']=Date['now']();}});},0x64);}static[_0x359c2e(0x604)](){const _0x182af6=_0x359c2e;return _0x1e23d2[_0x182af6(0x101)]||(_0x1e23d2['instance']=new _0x1e23d2()),_0x1e23d2['instance'];}[_0x359c2e(0x2e8)](_0x19be0f){const _0x587254=_0x359c2e,_0x39653c=this[_0x587254(0x1ba)](_0x19be0f),_0x39bd08=_0x19be0f[_0x587254(0xdc)]();_0x39bd08&&_0x39653c&&(_0x39bd08[_0x587254(0x33c)][_0x587254(0x16d)]=0.001,_0x39653c[_0x587254(0x1da)](_0x39bd08),_0x39bd08[_0x587254(0x1da)](_0x19be0f[_0x587254(0x367)]),_0x39653c[_0x587254(0x3fb)]());}[_0x359c2e(0x493)](){const _0x244927=_0x359c2e;this[_0x244927(0x373)]&&(this['source'][_0x244927(0x211)](),this[_0x244927(0x373)][_0x244927(0x3a6)](),this[_0x244927(0x373)]=void 0x0);}['wait'](_0x4cf473){return new Promise(_0x1c2f35=>{setTimeout(_0x1c2f35,_0x4cf473);});}[_0x359c2e(0x3be)](_0x56e4db,_0x23f51d){return this['parameters']['push']({'callback':_0x56e4db,'interval':_0x23f51d,'lastExecuted':Date['now']()}),()=>{const _0x117b14=a0_0x2eba;this['parameters']=this['parameters'][_0x117b14(0x5d5)](_0x44f16d=>_0x44f16d[_0x117b14(0x44a)]!==_0x56e4db);};}[_0x359c2e(0x1ba)](_0x5506a5){const _0x394060=_0x359c2e;if(_0x5506a5['createConstantSource'])return _0x5506a5[_0x394060(0x1ba)]();const _0x46deec=_0x5506a5[_0x394060(0x599)](),_0x2e1b47=_0x5506a5[_0x394060(0x37c)](0x1,0x1,_0x5506a5[_0x394060(0xb7)]);return _0x2e1b47[_0x394060(0x283)](0x0)[0x0]=0xa,_0x46deec['buffer']=_0x2e1b47,_0x46deec['loop']=!0x0,_0x46deec;}}const _0x4df92f=_0x1e23d2['getInstance'](),_0x2d8b60=['PeerConnection','Node',_0x359c2e(0x167),'Subscription',_0x359c2e(0x5bd),_0x359c2e(0x161),'Remediation'],_0x364151=[[_0x359c2e(0x155),'Answer',_0x359c2e(0x3d0),_0x359c2e(0x60b),'NeedRestart',_0x359c2e(0x32e),_0x359c2e(0xdd),_0x359c2e(0x5bd),'OptimizationConnectionSuccess'],[_0x359c2e(0x88),_0x359c2e(0xbb),'NodeConnectionsUpdate',_0x359c2e(0x27d)],[_0x359c2e(0x58c),_0x359c2e(0x207),_0x359c2e(0x334),_0x359c2e(0xa5),_0x359c2e(0x54a),_0x359c2e(0x2d0),_0x359c2e(0x4f7),_0x359c2e(0x2f6),'CloseMediaStream',_0x359c2e(0x5b4),_0x359c2e(0x379),_0x359c2e(0x227),'SendTransactionsDump','RequestTransactionsValue',_0x359c2e(0xec),'KeyValueDatabaseStats'],[_0x359c2e(0x334),_0x359c2e(0xa5),_0x359c2e(0x54a),_0x359c2e(0x416),_0x359c2e(0x20a),_0x359c2e(0x5e3),_0x359c2e(0x58e),_0x359c2e(0x23b)],[_0x359c2e(0x554),_0x359c2e(0x9f)],[_0x359c2e(0xf4)],[_0x359c2e(0x419),_0x359c2e(0x39a)]];function _0x235a34(_0x36a689){const _0xec0a9f=_0x359c2e;return{..._0x36a689,'systemMessageType':_0x2d8b60[_0x36a689[_0xec0a9f(0xb2)]],'systemContentMessageType':_0x364151[_0x36a689[_0xec0a9f(0xb2)]][_0x36a689[_0xec0a9f(0x232)][_0xec0a9f(0x2d7)]]};}const _0x3fd4c8={'hour':'2-digit','minute':_0x359c2e(0xfb),'second':'2-digit'};function _0xaffa6e(_0x6362c8,_0xcd6ae1){const _0x56aeed=_0x359c2e,_0x5a9528=(function(){const _0x3a18be=a0_0x2eba,_0x47896b=new Date(),_0x1049ea=_0x47896b[_0x3a18be(0x397)](),_0x1a8032=_0x47896b['toLocaleDateString'](_0x3a18be(0x28f),_0x3fd4c8)[_0x3a18be(0x593)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x1a8032+'.'+(_0x1049ea>0x64?''+_0x1049ea:_0x1049ea>0xa?'0'+_0x1049ea:'00'+_0x1049ea);}()),{sourceId:_0x4673fc,destinationIds:_0x448086,systemMessageType:_0x18da98,systemContentMessageType:_0x2603bc}=_0x235a34(_0x6362c8);return _0x5a9528+_0x56aeed(0x4d5)+_0xcd6ae1+_0x56aeed(0x4d5)+(_0x4673fc===_0xcd6ae1?_0x56aeed(0x3cb)+_0x18da98+_0x56aeed(0x26c)+(_0x448086?''+_0x448086:_0x56aeed(0x96)):_0x6362c8['sourceId']===_0x5d7eff?_0x56aeed(0x9b)+_0x18da98+'\x27':(_0x448086?'':_0x56aeed(0x4a0))+_0x56aeed(0x3e1)+_0x18da98+_0x56aeed(0x224)+_0x4673fc)+_0x56aeed(0x2c8)+_0x2603bc+_0x56aeed(0x40d);}class _0x20e2da extends _0x4b4a26{[_0x359c2e(0x3ff)]=_0x4e9161();['trackCallback']=_0x4e9161();[_0x359c2e(0x125)]=_0x4e9161();[_0x359c2e(0x59a)]=new Map();[_0x359c2e(0x1b0)]=new Map();[_0x359c2e(0x5a1)];['messagesReceived']=0x0;[_0x359c2e(0xf8)]={'messages':{'total':0x0}};[_0x359c2e(0x1bf)]=0x0;[_0x359c2e(0x444)]=0x0;[_0x359c2e(0x57d)](){const _0x3e1c1d=_0x359c2e;this[_0x3e1c1d(0xc4)](),this['receivers'][_0x3e1c1d(0x288)](),super[_0x3e1c1d(0x57d)]();}async[_0x359c2e(0x63c)](_0x1581cf,_0x5c7978){const _0x173ed8=_0x359c2e;this[_0x173ed8(0xc8)]=_0x5c7978,this[_0x173ed8(0xc4)]();const _0x2f4381=await this[_0x173ed8(0x58a)][_0x173ed8(0x16f)](_0x1581cf);this[_0x173ed8(0x376)]();const _0xacb654=(0x0,_0x3696f7['v4'])();this['publishSystemMessage']({'type':_0x1577ee['Answer'],'answer':_0x2f4381,'version':_0x5c7978,'connectionType':this[_0x173ed8(0x120)]},_0xacb654),this['connectionType']===_0x3f817f['Core']&&(this[_0x173ed8(0x5a1)]=_0x4df92f[_0x173ed8(0x3be)](()=>{const _0x581e4b=_0x173ed8;navigator['onLine']&&this['publishSystemMessage']({'type':_0x1577ee[_0x581e4b(0x585)],'answer':_0x2f4381,'version':_0x5c7978,'connectionType':this['connectionType']},_0xacb654);},0x1388));}[_0x359c2e(0xb3)](){this['clearWaitSuccess']();}[_0x359c2e(0x464)](_0x290263){const _0x4c08a3=_0x359c2e;this[_0x4c08a3(0x127)](_0x290263),this['publishSystemMessage']({'type':_0x1577ee[_0x4c08a3(0x32e)]});}async[_0x359c2e(0x2a8)](){const _0x3e44e1=_0x359c2e;this['systemTopic']&&(await this['connection']['collectReceiversStats'](this['receivers'],(_0x93fa3b,_0x27ffc1)=>{const _0x396ebd=a0_0x2eba;_0x38c823({'type':_0x1577ee[_0x396ebd(0x5bd)],'streamId':_0x27ffc1,'nodeId':this[_0x396ebd(0x414)],'stats':_0x93fa3b},this['systemTopic']);}),this[_0x3e44e1(0x43f)][_0x3e44e1(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x3e44e1(0x11c)],'content':{'type':_0x1577ee[_0x3e44e1(0x5bd)],'nodeId':this[_0x3e44e1(0x414)],'stats':{'origin':_0xc93616['Receiver'],'timestamp':Date['now'](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x3e44e1(0x1bf)],'timeReceiving':this[_0x3e44e1(0x444)],'systemMessages':this[_0x3e44e1(0xf8)]}}}));}['onMessage'](_0x20d8f9){const _0x513670=_0x359c2e;return this[_0x513670(0x3ff)]['subscribe'](_0x20d8f9);}['onTrack'](_0x10be81){const _0x4cb3ce=_0x359c2e;return this[_0x4cb3ce(0x1c8)][_0x4cb3ce(0x570)](({track:_0x499ee0,stream:_0x5915f1})=>_0x10be81(_0x499ee0,_0x5915f1));}[_0x359c2e(0x27f)](_0x99a88d){const _0x1502f8=_0x359c2e;return this[_0x1502f8(0x125)]['subscribe'](({track:_0x2e81b9,stream:_0x471897})=>_0x99a88d(_0x2e81b9,_0x471897));}['resetConnection'](_0x234ca3){const _0x51bafd=_0x359c2e;this[_0x51bafd(0xc4)](),this[_0x51bafd(0x59a)][_0x51bafd(0x600)](_0x664b92=>{const _0x81c0=_0x51bafd;_0x664b92[_0x81c0(0x288)]();}),super[_0x51bafd(0x127)](_0x234ca3);}[_0x359c2e(0x1f5)](){const _0xad415e=_0x359c2e;this['publishSystemMessage']({'type':_0x1577ee[_0xad415e(0x3d0)],'candidates':this[_0xad415e(0x2b3)],'origin':_0xc93616['Receiver'],'version':this[_0xad415e(0xc8)],'connectionType':this[_0xad415e(0x120)]});}['setupConnectionEvents'](){const _0x5ae9c9=_0x359c2e;super['setupConnectionEvents'](),this['connection'][_0x5ae9c9(0x467)]=_0x517fef=>{const _0x2d1c5d=_0x5ae9c9;_0x21773c['log'](_0x5e3d2b[_0x2d1c5d(0x2d2)],_0x2d1c5d(0x174),this[_0x2d1c5d(0x1ac)]['getId'](),_0x517fef),_0x517fef['streams'][0x0][_0x2d1c5d(0x1bb)]=_0xb6d80=>{const _0x2accd7=_0x2d1c5d;this['receivers']['get'](_0x517fef[_0x2accd7(0x2ad)][0x0]['id'])?.[_0x2accd7(0x1c7)](_0xb6d80['track']),0x0===this[_0x2accd7(0x59a)][_0x2accd7(0x265)](_0x517fef['streams'][0x0]['id'])?.[_0x2accd7(0x22d)]&&this['receivers'][_0x2accd7(0x1c7)](_0x517fef[_0x2accd7(0x2ad)][0x0]['id']),this[_0x2accd7(0x125)][_0x2accd7(0x9a)]({'track':_0xb6d80[_0x2accd7(0x64a)],'stream':_0x517fef[_0x2accd7(0x2ad)][0x0]});},this[_0x2d1c5d(0x59a)]['has'](_0x517fef[_0x2d1c5d(0x2ad)][0x0]['id'])||this[_0x2d1c5d(0x59a)][_0x2d1c5d(0x2f9)](_0x517fef[_0x2d1c5d(0x2ad)][0x0]['id'],new Set()),this[_0x2d1c5d(0x59a)][_0x2d1c5d(0x265)](_0x517fef[_0x2d1c5d(0x2ad)][0x0]['id'])[_0x2d1c5d(0x5bf)](_0x517fef['track']),this[_0x2d1c5d(0x1c8)][_0x2d1c5d(0x9a)]({'track':_0x517fef['track'],'stream':_0x517fef['streams'][0x0]});},this[_0x5ae9c9(0x58a)][_0x5ae9c9(0x2e3)]=_0x49d4ff=>{const _0x1c00e0=_0x5ae9c9;this[_0x1c00e0(0x325)]=_0x49d4ff['channel'],this[_0x1c00e0(0x325)][_0x1c00e0(0x49e)]=_0x4b2729=>{const _0xdbd312=_0x1c00e0;if(_0x4b2729[_0xdbd312(0x3f4)]!==_0x29a2a8)this['handleOnMessage'](_0x4b2729[_0xdbd312(0x3f4)]);else{if(!this[_0xdbd312(0x325)])return void _0x21773c[_0xdbd312(0x11d)]('missing-datachannel',{'clusterId':this[_0xdbd312(0xff)],'nodeId':this['localNode'][_0xdbd312(0x22e)](),'nodeType':this[_0xdbd312(0x1ac)][_0xdbd312(0x2d7)],'remoteId':this[_0xdbd312(0x414)],'data':{'connection':_0xdbd312(0x5fc)}});if('open'!==this[_0xdbd312(0x325)][_0xdbd312(0x621)])return;this[_0xdbd312(0x325)][_0xdbd312(0xcf)]('1');}};};}[_0x359c2e(0x3a2)](_0x5c0029){const _0x292527=_0x359c2e;if(_0x292527(0x2e4)==typeof _0x5c0029&&_0x5c0029[_0x292527(0x54d)](_0x240a0b))return this[_0x292527(0x12d)]+=0x1,this[_0x292527(0x1bf)]+=_0x5c0029[_0x292527(0x5cb)],this[_0x292527(0xd6)](_0x5c0029);setTimeout(()=>{const _0xbca4bb=_0x292527,_0x48d0fc=Date[_0xbca4bb(0x4a7)]();let _0x4af056;if((_0x5c0029 instanceof ArrayBuffer||_0x5c0029[_0xbca4bb(0x5cb)]<=_0x2c89f5)&&(this[_0xbca4bb(0x12d)]+=0x1,this[_0xbca4bb(0x1bf)]+=_0x5c0029 instanceof ArrayBuffer?_0x5c0029['byteLength']:_0x5c0029[_0xbca4bb(0x5cb)]),_0x5c0029 instanceof ArrayBuffer){const [_0x5b926a,_0x5d46bd]=this[_0xbca4bb(0x41c)](_0x5c0029);_0x4af056=_0x5b926a,_0x4af056[_0xbca4bb(0x232)][_0xbca4bb(0x3f4)]=_0x5d46bd;}else _0x4af056=JSON[_0xbca4bb(0x4f2)](_0x5c0029);if(0x0===_0x4af056[_0xbca4bb(0x3e3)]){this[_0xbca4bb(0xf8)][_0xbca4bb(0x45c)][_0xbca4bb(0x324)]+=0x1;const {systemMessageType:_0x268622,systemContentMessageType:_0x314dbf}=_0x235a34(_0x4af056);this['systemMessagesReceived'][_0x268622]||(this['systemMessagesReceived'][_0x268622]={[_0x314dbf]:0x0}),this[_0xbca4bb(0xf8)][_0x268622][_0x314dbf]||(this[_0xbca4bb(0xf8)][_0x268622][_0x314dbf]=0x0),this[_0xbca4bb(0xf8)][_0x268622][_0xbca4bb(0x324)]||(this[_0xbca4bb(0xf8)][_0x268622][_0xbca4bb(0x324)]=0x0),this[_0xbca4bb(0xf8)][_0x268622][_0x314dbf]+=0x1,this[_0xbca4bb(0xf8)][_0x268622][_0xbca4bb(0x324)]+=0x1;}this[_0xbca4bb(0x3ff)][_0xbca4bb(0x9a)](_0x4af056),this[_0xbca4bb(0x444)]+=Date[_0xbca4bb(0x4a7)]()-_0x48d0fc;},0x0);}[_0x359c2e(0xd6)](_0x292f8d){const _0x4b008d=_0x359c2e,_0x45aabb=_0x292f8d[_0x4b008d(0x341)](';'),_0x16efab=_0x45aabb[0x1],_0xa8aae8=parseInt(_0x45aabb[0x2],0xa),_0x28bbb1=parseInt(_0x45aabb[0x3],0xa),_0x2a5880=_0x292f8d[_0x4b008d(0x4f6)](_0x240a0b+';'+_0x16efab+';'+_0xa8aae8+';'+_0x28bbb1+';','');this[_0x4b008d(0x1b0)]['has'](_0x16efab)||this[_0x4b008d(0x1b0)][_0x4b008d(0x2f9)](_0x16efab,[]);const _0x5bf49c=this['chunks'][_0x4b008d(0x265)](_0x16efab);_0x5bf49c[_0xa8aae8]=_0x2a5880,_0x5bf49c[_0x4b008d(0x5cb)]===_0x28bbb1&&(this[_0x4b008d(0x3a2)](_0x5bf49c[_0x4b008d(0x3ad)]('')),this[_0x4b008d(0x1b0)]['delete'](_0x16efab));}['clearWaitSuccess'](){const _0x1fe27e=_0x359c2e;this['waitSuccess']?.(),delete this[_0x1fe27e(0x5a1)];}[_0x359c2e(0x14d)](_0x5b1229){const _0x3d1b25=_0x359c2e,_0x5bde73=new TextDecoder()[_0x3d1b25(0x3fe)](_0x5b1229);return JSON[_0x3d1b25(0x4f2)](_0x5bde73);}['splitParts'](_0xe288aa){const _0x2033bd=_0x359c2e,_0x38e275=new Uint8Array(_0xe288aa[_0x2033bd(0x465)](0x0,0x4)),_0x4b16a8=new Uint32Array(_0x38e275[_0x2033bd(0x107)])[0x0],_0x1d9f73=new Uint8Array(_0xe288aa['slice'](0x4,0x4+_0x4b16a8)),_0x4aaf8d=new Uint8Array(_0xe288aa[_0x2033bd(0x465)](0x4+_0x4b16a8));return[this[_0x2033bd(0x14d)](_0x1d9f73[_0x2033bd(0x107)]),_0x4aaf8d[_0x2033bd(0x107)]];}}const _0xbfb9c7=0xc350;var _0x74ebed,_0x4b36c1,_0x466a49,_0x564ae3,_0x38cf58;!function(_0x453649){const _0x456057=_0x359c2e;_0x453649[_0x453649[_0x456057(0x556)]=0x0]=_0x456057(0x556),_0x453649[_0x453649['Medium']=0x1]='Medium',_0x453649[_0x453649[_0x456057(0x394)]=0x2]=_0x456057(0x394);}(_0x74ebed||(_0x74ebed={}));class _0x5e7298 extends _0x4b4a26{[_0x359c2e(0x333)];['maxBpp'];[_0x359c2e(0x4f4)]=new Map();[_0x359c2e(0x580)];[_0x359c2e(0x61b)];[_0x359c2e(0x479)];['isReconnecting']=!0x1;[_0x359c2e(0x2ab)];[_0x359c2e(0x193)];[_0x359c2e(0x196)];['retryQueue']=function(e,t=_0x74ebed,s=!0x1){const _0x45d192=_0x359c2e;let i=!0x1;const n=[];async function a(){const _0x69c27c=a0_0x2eba;if(!i){for(i=!0x0;n[_0x69c27c(0x63b)](e=>e[_0x69c27c(0x1ec)]);){let t,i=0x0;for(const [e,s]of n[_0x69c27c(0x406)]())if(t=s[_0x69c27c(0x4f8)](),i=e,t)break;if(t)try{if(e instanceof _0x13eafc&&e[_0x69c27c(0x468)](t),e instanceof _0x774117&&await e['call'](t),n['slice'](-0x1)[_0x69c27c(0x63b)](e=>e[_0x69c27c(0x1ec)]))continue;const s=n['length']-0x1;i===s&&n[s][_0x69c27c(0x1ec)]&&await _0x4df92f['wait'](0x0);}catch(a){s?n[i]['push'](t,!0x1):n[i][_0x69c27c(0x201)](t,!0x1),await e[_0x69c27c(0x33e)]();}}i=!0x1;}}return Object['values'](t)[_0x45d192(0x600)](e=>{const _0x1a351d=_0x45d192;_0x1a351d(0x2e4)!=typeof e&&(n[e]=_0x2c3e61(a));}),{'queues':n};}(new _0x13eafc(this[_0x359c2e(0x43e)][_0x359c2e(0x4e8)](this),this['waitSendBuffer'][_0x359c2e(0x4e8)](this)));[_0x359c2e(0x3d8)]=0x0;['bytesSent']=0x0;[_0x359c2e(0x53d)]=0x0;[_0x359c2e(0x26a)]=0x0;['oncloseTimeout'];constructor(_0x316d42,_0x3e6aec,_0x3fb7c6,_0x4d7a5c,_0x4d9175,_0x2ce281,_0x204b13,_0x141864){const _0x49c339=_0x359c2e;super(_0x316d42,_0x3e6aec,_0x3fb7c6,_0x4d7a5c,_0x4d9175,_0x141864),this[_0x49c339(0x333)]=_0x2ce281,this[_0x49c339(0x5c6)]=_0x204b13;}[_0x359c2e(0x57d)](){const _0x1c9efb=_0x359c2e;this[_0x1c9efb(0x56d)](),this[_0x1c9efb(0x5f6)](),delete this[_0x1c9efb(0x479)],this[_0x1c9efb(0x557)](),this['clearConnectionTimeout'](),this[_0x1c9efb(0x4c8)](),this[_0x1c9efb(0x4f4)][_0x1c9efb(0x288)](),this[_0x1c9efb(0x5c9)]=!0x1,this[_0x1c9efb(0xd3)][_0x1c9efb(0x3bd)][_0x1c9efb(0x600)](_0x45f6b1=>_0x45f6b1[_0x1c9efb(0x288)]()),this[_0x1c9efb(0x5d1)](),super[_0x1c9efb(0x57d)]();}['isConnected'](){const _0x1cd001=_0x359c2e;return!!this[_0x1cd001(0x479)]&&super[_0x1cd001(0x520)]()&&Date[_0x1cd001(0x4a7)]()-this[_0x1cd001(0x479)]<0x3a98;}async['collectStats'](){const _0x3ffb06=_0x359c2e;this[_0x3ffb06(0x43f)]&&(await this['connection']['collectSendersStats'](this[_0x3ffb06(0x4f4)],(_0x143afd,_0x194ff6)=>{const _0x2365b3=_0x3ffb06;_0x38c823({'type':_0x1577ee[_0x2365b3(0x5bd)],'streamId':_0x194ff6,'nodeId':this[_0x2365b3(0x414)],'stats':_0x143afd},this[_0x2365b3(0x43f)]);}),this[_0x3ffb06(0x43f)][_0x3ffb06(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x3ffb06(0x11c)],'content':{'type':_0x1577ee[_0x3ffb06(0x5bd)],'nodeId':this['remoteId'],'stats':{'origin':_0xc93616[_0x3ffb06(0x1a1)],'timestamp':Date[_0x3ffb06(0x4a7)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x3ffb06(0x52b)],'timeSending':this[_0x3ffb06(0x53d)],'roundTripTime':this['roundTripTime']}}}));}async['createOffer'](_0x1d6048){const _0x775335=_0x359c2e;_0x21773c[_0x775335(0x35d)](_0x5e3d2b[_0x775335(0x2d2)],_0x775335(0x2d8),this['localNode'][_0x775335(0x22e)](),this[_0x775335(0x414)]),this[_0x775335(0x557)](),this[_0x775335(0x480)](),this[_0x775335(0x4c8)](),this[_0x775335(0x2ab)]=setTimeout(()=>{const _0x13f07b=_0x775335;this[_0x13f07b(0x4c7)]();},0x7530),this[_0x775335(0x325)]||(this[_0x775335(0x325)]=this[_0x775335(0x58a)][_0x775335(0x210)](_0x775335(0x3f4)),this[_0x775335(0x325)][_0x775335(0x46a)]=0x10000,this[_0x775335(0x325)][_0x775335(0x4cf)]=()=>{const _0x194fc5=_0x775335;this[_0x194fc5(0x64c)]=setTimeout(()=>{const _0x4849d9=_0x194fc5;delete this[_0x4849d9(0x64c)],['connecting',_0x4849d9(0x4e7)][_0x4849d9(0x457)](this[_0x4849d9(0x325)]?.[_0x4849d9(0x621)]??'')||this[_0x4849d9(0x4c7)]();},0xfa);});const _0x277fef=await this['connection'][_0x775335(0x27b)](_0x1d6048);this[_0x775335(0x479)]||(this['lastHeartbeat']=Date['now']());const _0x1a2d3e=(0x0,_0x3696f7['v4'])();this[_0x775335(0x5e7)]({'type':_0x1577ee[_0x775335(0x155)],'offer':_0x277fef,'version':this['currentVersion'],'connectionType':this[_0x775335(0x120)]},_0x1a2d3e),this[_0x775335(0x120)]===_0x3f817f[_0x775335(0x4c9)]&&(this[_0x775335(0x61b)]=_0x4df92f['setInterval'](()=>{const _0x5dcebd=_0x775335;navigator['onLine']&&this['publishSystemMessage']({'type':_0x1577ee[_0x5dcebd(0x155)],'offer':_0x277fef,'version':this['currentVersion'],'connectionType':this[_0x5dcebd(0x120)]},_0x1a2d3e);},0x1388));}async['handleAnswer'](_0x5c9fe7,_0x4685cb){const _0x399892=_0x359c2e;if(_0x4685cb===this[_0x399892(0xc8)]){this['clearWaitAnswer']();try{await this['connection']['handleAnswer'](_0x5c9fe7,this['createOffer'][_0x399892(0x4e8)](this)),this[_0x399892(0x376)](),this[_0x399892(0x480)](),this['startHeartbeat']();}catch(_0x392afe){this[_0x399892(0x4c7)]();}}}[_0x359c2e(0xcf)](_0x5b26b3){const _0x69f747=_0x359c2e;if(!this[_0x69f747(0x325)])throw new _0x2e0415(_0x2e0415[_0x69f747(0xc9)]['InvalidDataChannel'],{'message':_0x69f747(0x612),'localId':this['localNode'][_0x69f747(0x22e)](),'remoteId':this[_0x69f747(0x414)],'eventMessage':_0x5b26b3});if(_0x69f747(0x4e7)!==this[_0x69f747(0x325)]['state'])throw new _0x2e0415(_0x2e0415[_0x69f747(0xc9)][_0x69f747(0xba)],{'message':_0x69f747(0x3ee),'localId':this[_0x69f747(0x1ac)][_0x69f747(0x22e)](),'remoteId':this[_0x69f747(0x414)],'eventMessage':_0x5b26b3});let _0x200018;if(_0x5b26b3['content'][_0x69f747(0x3f4)]instanceof ArrayBuffer){const _0x400609=_0x5b26b3['content'][_0x69f747(0x3f4)];delete _0x5b26b3[_0x69f747(0x232)][_0x69f747(0x3f4)],_0x200018=this[_0x69f747(0x452)](_0x5b26b3,_0x400609);}else _0x200018=JSON['stringify'](_0x5b26b3);if('string'==typeof _0x200018&&_0x200018[_0x69f747(0x5cb)]>_0x2c89f5)return this['sendChunked'](_0x5b26b3,_0x200018);const _0x249c35=0x0===_0x5b26b3['topicLabel']&&[_0x403a0f[_0x69f747(0x2b9)],_0x403a0f[_0x69f747(0x11c)]]['includes'](_0x5b26b3['messageType'])?_0x74ebed[_0x69f747(0x556)]:_0x5b26b3 instanceof ArrayBuffer?_0x74ebed[_0x69f747(0x394)]:_0x74ebed[_0x69f747(0x617)];this[_0x69f747(0x89)](_0x200018,_0x249c35);}[_0x359c2e(0xf6)](_0x177a09,_0x34e6d3,_0x140a67,_0x358e11){const _0x2f00b7=_0x359c2e,_0xf51343=(_0x5d5061=this[_0x2f00b7(0x333)],_0x469a75=this[_0x2f00b7(0x5c6)],Math[_0x2f00b7(0x38f)](0xe1000*_0x5d5061*_0x469a75));var _0x5d5061,_0x469a75;const _0x26f340=this[_0x2f00b7(0x4f4)][_0x2f00b7(0x265)](_0x34e6d3['id'])||{'stream':_0x34e6d3,'priority':_0x140a67,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0xf51343,'maxBitrate':_0xf51343,'framerate':this[_0x2f00b7(0x333)],'maxFramerate':this[_0x2f00b7(0x333)],'tracks':{},'params':_0x358e11},_0x12697f=_0x26f340[_0x2f00b7(0x499)][_0x177a09['kind']]||{'track':_0x177a09};if(_0x12697f[_0x2f00b7(0xa0)]?(_0x12697f[_0x2f00b7(0x64a)]=_0x177a09,this[_0x2f00b7(0x58a)]['replaceTrack'](_0x177a09,_0x12697f[_0x2f00b7(0xa0)])):_0x12697f[_0x2f00b7(0xa0)]=this[_0x2f00b7(0x58a)][_0x2f00b7(0xf6)](_0x177a09,_0x34e6d3),_0x26f340[_0x2f00b7(0x499)][_0x177a09[_0x2f00b7(0x170)]]=_0x12697f,_0x358e11&&(_0x26f340[_0x2f00b7(0x14b)]=_0x358e11),_0x358e11&&_0x2f00b7(0x105)===_0x358e11[_0x2f00b7(0x170)]&&_0x358e11['resolution']&&_0x358e11[_0x2f00b7(0x1b8)]&&(_0x26f340[_0x2f00b7(0x17e)]=this['getResolutionScale'](_0x358e11[_0x2f00b7(0x3b9)],_0x358e11[_0x2f00b7(0x1b8)]),_0x26f340['minResolutionScale']=_0x26f340[_0x2f00b7(0x17e)],_0x26f340[_0x2f00b7(0x499)]['video']&&_0x26f340[_0x2f00b7(0x499)][_0x2f00b7(0x105)][_0x2f00b7(0xa0)])){const _0x3de610=_0x26f340[_0x2f00b7(0x499)][_0x2f00b7(0x105)][_0x2f00b7(0xa0)];this[_0x2f00b7(0x58a)][_0x2f00b7(0x1ed)](_0x3de610,Math[_0x2f00b7(0x38f)](0xa*_0x26f340['resolutionScale'])/0xa,_0x26f340[_0x2f00b7(0x321)],_0x26f340['bitrate'],_0x26f340[_0x2f00b7(0x2c9)]);}this[_0x2f00b7(0x4f4)][_0x2f00b7(0x2f9)](_0x34e6d3['id'],_0x26f340);}[_0x359c2e(0xaf)](_0x4bcb3f,_0x19c645){const _0x85b1d0=_0x359c2e,_0x27e368=this[_0x85b1d0(0x4f4)][_0x85b1d0(0x265)](_0x4bcb3f['id']);if(_0x27e368&&_0x27e368[_0x85b1d0(0x2c9)]!==_0x19c645&&(_0x27e368['priority']=_0x19c645,_0x27e368[_0x85b1d0(0x499)]['video']&&_0x27e368[_0x85b1d0(0x499)][_0x85b1d0(0x105)][_0x85b1d0(0xa0)])){const _0xc1cc61=_0x27e368[_0x85b1d0(0x499)]['video'][_0x85b1d0(0xa0)];this['connection']['setEncodingParameters'](_0xc1cc61,Math[_0x85b1d0(0x38f)](0xa*_0x27e368[_0x85b1d0(0x17e)])/0xa,_0x27e368[_0x85b1d0(0x321)],_0x27e368[_0x85b1d0(0x438)],_0x27e368[_0x85b1d0(0x2c9)]);}}[_0x359c2e(0x485)](_0x301b9c,_0x215727){const _0x45b444=_0x359c2e,_0x456351=this[_0x45b444(0x4f4)][_0x45b444(0x265)](_0x301b9c['id']);if(_0x456351){if(_0x456351[_0x45b444(0x14b)]=_0x215727,_0x215727&&_0x45b444(0x105)===_0x215727['kind']&&_0x215727[_0x45b444(0x3b9)]&&_0x215727['maxResolution']){if(_0x456351[_0x45b444(0xc6)]=this['getResolutionScale'](_0x215727[_0x45b444(0x3b9)],_0x215727['maxResolution']),_0x456351[_0x45b444(0x17e)]<_0x456351[_0x45b444(0xc6)]&&(_0x456351[_0x45b444(0x17e)]=_0x456351[_0x45b444(0xc6)]),_0x456351[_0x45b444(0x499)]['video']&&_0x456351[_0x45b444(0x499)][_0x45b444(0x105)]['sender']){const _0x155336=_0x456351['tracks'][_0x45b444(0x105)][_0x45b444(0xa0)];this[_0x45b444(0x58a)][_0x45b444(0x1ed)](_0x155336,Math[_0x45b444(0x38f)](0xa*_0x456351[_0x45b444(0x17e)])/0xa,_0x456351[_0x45b444(0x321)],_0x456351[_0x45b444(0x438)],_0x456351[_0x45b444(0x2c9)]);}this['clearUpgradeTimeout'](),this[_0x45b444(0x86)]();}this[_0x45b444(0x4f4)][_0x45b444(0x2f9)](_0x301b9c['id'],_0x456351);}}['removeTrack'](_0x137a16,_0x57978c){const _0x4f1d0b=_0x359c2e,_0x113093=this['senders'][_0x4f1d0b(0x265)](_0x57978c['id']);if(_0x113093){const _0x291e67=_0x113093[_0x4f1d0b(0x499)][_0x137a16[_0x4f1d0b(0x170)]];_0x291e67&&(_0x291e67['sender']&&this['connection'][_0x4f1d0b(0x412)](_0x291e67[_0x4f1d0b(0xa0)]),_0x291e67['track']=void 0x0);}}[_0x359c2e(0x344)](_0x103f80){const _0x20b5ec=_0x359c2e;this[_0x20b5ec(0x56d)]();const _0x15af13=function(_0x1c77cd,_0x2d44f0){const _0x18b44e=_0x20b5ec;return _0x1c77cd[_0x18b44e(0x4ba)]((_0x5c7bb9,_0x34827b)=>_0x2d44f0[_0x18b44e(0x516)]===_0x27dd27[_0x18b44e(0x5a7)]?_0x34827b[_0x18b44e(0x2c9)]-_0x5c7bb9[_0x18b44e(0x2c9)]:_0x5c7bb9[_0x18b44e(0x2c9)]-_0x34827b[_0x18b44e(0x2c9)])[_0x18b44e(0x3c6)](_0x40906c=>function(_0x58d258,_0x24ce46){const _0x516e7c=_0x18b44e;if(_0x24ce46[_0x516e7c(0x516)]===_0x27dd27['Downgrade']){if(_0x24ce46[_0x516e7c(0x3bc)]===_0x252a31[_0x516e7c(0x4c6)])return _0x58d258[_0x516e7c(0x17e)]<0x4||_0x58d258[_0x516e7c(0x568)]>0xf;if(_0x24ce46[_0x516e7c(0x3bc)]===_0x252a31['Bitrate'])return _0x58d258[_0x516e7c(0x29a)]>_0xbfb9c7;}return _0x58d258[_0x516e7c(0x17e)]>_0x58d258['minResolutionScale']||_0x58d258[_0x516e7c(0x321)]<_0x58d258[_0x516e7c(0x568)]||_0x58d258['bitrate']<_0x58d258[_0x516e7c(0x29a)];}(_0x40906c,_0x2d44f0));}(Array[_0x20b5ec(0x163)](this[_0x20b5ec(0x4f4)][_0x20b5ec(0x313)]()),_0x103f80);if(_0x15af13&&(function(_0x48b30b,_0x5ee404){const _0x250556=_0x20b5ec;_0x48b30b[_0x250556(0x499)]['video']&&_0x48b30b[_0x250556(0x499)][_0x250556(0x105)][_0x250556(0xa0)]&&(_0x48b30b['resolutionScale']=function(_0x40eb79,_0x102756,_0x1d25aa){const _0x49ac53=_0x250556;switch(_0x1d25aa[_0x49ac53(0x516)]){case _0x27dd27[_0x49ac53(0x5a7)]:_0x1d25aa[_0x49ac53(0x3bc)]===_0x252a31[_0x49ac53(0x4c6)]&&(_0x40eb79+=0.5)>0x4&&(_0x40eb79=0x4);break;case _0x27dd27[_0x49ac53(0x192)]:(_0x40eb79-=0.5)<_0x102756&&(_0x40eb79=_0x102756);}return _0x40eb79;}(_0x48b30b[_0x250556(0x17e)],_0x48b30b['minResolutionScale'],_0x5ee404),_0x48b30b[_0x250556(0x321)]=function(_0x274f78,_0x401155,_0x39dc49){const _0x1fc59e=_0x250556;switch(_0x39dc49['action']){case _0x27dd27['Downgrade']:_0x39dc49[_0x1fc59e(0x3bc)]===_0x252a31[_0x1fc59e(0x4c6)]&&(_0x274f78-=0x3)<0xf&&(_0x274f78=0xf);break;case _0x27dd27['Upgrade']:(_0x274f78+=0x3)>_0x401155&&(_0x274f78=_0x401155);}return _0x274f78;}(_0x48b30b['framerate'],_0x48b30b[_0x250556(0x568)],_0x5ee404),_0x48b30b['bitrate']=function(_0x4b150f,_0x41639c,_0x208b30){const _0x5c25e0=_0x250556;switch(_0x208b30[_0x5c25e0(0x516)]){case _0x27dd27['Downgrade']:_0x208b30[_0x5c25e0(0x3bc)]===_0x252a31['Bitrate']&&(_0x4b150f*=0.75)<_0xbfb9c7&&(_0x4b150f=_0xbfb9c7);break;case _0x27dd27[_0x5c25e0(0x192)]:(_0x4b150f*=1.25)>_0x41639c&&(_0x4b150f=_0x41639c);}return _0x4b150f;}(_0x48b30b[_0x250556(0x438)],_0x48b30b['maxBitrate'],_0x5ee404));}(_0x15af13,_0x103f80),_0x15af13['tracks'][_0x20b5ec(0x105)]&&_0x15af13['tracks']['video']['sender'])){const _0x10013d=_0x15af13[_0x20b5ec(0x499)][_0x20b5ec(0x105)][_0x20b5ec(0xa0)];this[_0x20b5ec(0x58a)]['setEncodingParameters'](_0x10013d,Math[_0x20b5ec(0x38f)](0xa*_0x15af13[_0x20b5ec(0x17e)])/0xa,_0x15af13['framerate'],_0x15af13[_0x20b5ec(0x438)],_0x15af13['priority']);}(_0x15af13||_0x103f80[_0x20b5ec(0x516)]===_0x27dd27[_0x20b5ec(0x5a7)])&&this[_0x20b5ec(0x86)]();}[_0x359c2e(0x127)](){const _0x1d7447=_0x359c2e;super[_0x1d7447(0x127)](),this['clearOncloseTimeout'](),this[_0x1d7447(0x4c8)](),this[_0x1d7447(0x4f4)][_0x1d7447(0x600)](_0x55753c=>{const _0x1fd135=_0x1d7447;_0x55753c[_0x1fd135(0x499)][_0x1fd135(0x105)]&&(_0x55753c[_0x1fd135(0x499)]['video'][_0x1fd135(0xa0)]=void 0x0),_0x55753c[_0x1fd135(0x499)][_0x1fd135(0x1a3)]&&(_0x55753c[_0x1fd135(0x499)]['audio'][_0x1fd135(0xa0)]=void 0x0);}),this['isReconnecting']=!0x0;}async[_0x359c2e(0x169)](){return new Promise(async _0x3e14af=>{const _0x1534ea=a0_0x2eba;if(!this[_0x1534ea(0x325)]||'open'!==this[_0x1534ea(0x325)][_0x1534ea(0x621)])return await _0x4df92f['wait'](0x64),void _0x3e14af();this[_0x1534ea(0x325)]['bufferedAmount']<0x10000?_0x3e14af():this['dataChannel'][_0x1534ea(0x566)]=()=>{const _0x2f3f8b=_0x1534ea;this[_0x2f3f8b(0x325)]&&(this[_0x2f3f8b(0x325)][_0x2f3f8b(0x566)]=null),_0x3e14af();};});}['sendChunked'](_0x3e25f4,_0x57d983){const _0x2197ed=_0x359c2e,_0x885c13=[];for(let _0x4db272=0x0;_0x4db272<_0x57d983['length'];_0x4db272+=_0x2c89f5)_0x885c13[_0x2197ed(0x221)](_0x57d983[_0x2197ed(0x465)](_0x4db272,_0x4db272+_0x2c89f5));for(const _0x18419c of _0x885c13)this[_0x2197ed(0x89)](_0x240a0b+';'+_0x3e25f4[_0x2197ed(0x5b0)]+';'+_0x885c13[_0x2197ed(0xa6)](_0x18419c)+';'+_0x885c13[_0x2197ed(0x5cb)]+';'+_0x18419c,_0x74ebed[_0x2197ed(0x394)]);}async[_0x359c2e(0x89)](_0x30975a,_0x5bf80d){const _0x2267b8=_0x359c2e;_0x30975a===_0x29a2a8?this[_0x2267b8(0xd3)][_0x2267b8(0x3bd)][_0x5bf80d][_0x2267b8(0x1ec)]?.[_0x2267b8(0x16d)]!==_0x29a2a8&&this['retryQueue'][_0x2267b8(0x3bd)][_0x5bf80d][_0x2267b8(0x201)](_0x30975a):this[_0x2267b8(0xd3)]['queues'][_0x5bf80d]['push'](_0x30975a);}[_0x359c2e(0x43e)](_0x1cefe1){const _0x240c45=_0x359c2e;if(!this[_0x240c45(0x325)]||_0x240c45(0x4e7)!==this[_0x240c45(0x325)]['state'])throw new Error(_0x240c45(0x5a4));const _0x200716=Date[_0x240c45(0x4a7)]();_0x1cefe1!==_0x29a2a8&&(this[_0x240c45(0x3d8)]+=0x1,this[_0x240c45(0x52b)]+=_0x1cefe1 instanceof ArrayBuffer?_0x1cefe1[_0x240c45(0x3d7)]:_0x1cefe1[_0x240c45(0x5cb)]),ArrayBuffer,this['dataChannel'][_0x240c45(0xcf)](_0x1cefe1),this[_0x240c45(0x53d)]+=Date['now']()-_0x200716;}[_0x359c2e(0x36f)](){const _0x235922=_0x359c2e;this[_0x235922(0x580)]&&this[_0x235922(0x5f6)]();let _0x5397a0=!0x0,_0x22217f=Date[_0x235922(0x4a7)]();this['lastHeartbeat']=Date[_0x235922(0x4a7)](),this[_0x235922(0x325)][_0x235922(0x49e)]=_0x1558bd=>{const _0x29fd97=_0x235922;'1'===_0x1558bd[_0x29fd97(0x3f4)]&&(this['roundTripTime']=Date[_0x29fd97(0x4a7)]()-_0x22217f,_0x5397a0&&this[_0x29fd97(0x5e7)]({'type':_0x1577ee[_0x29fd97(0x60b)]}),_0x5397a0=!0x1,this[_0x29fd97(0x479)]=Date[_0x29fd97(0x4a7)](),this[_0x29fd97(0x5c9)]&&(this[_0x29fd97(0x5c9)]=!0x1,this[_0x29fd97(0x380)]()));},this[_0x235922(0x580)]=_0x4df92f[_0x235922(0x3be)](()=>{const _0x3be7fa=_0x235922;_0x22217f=Date[_0x3be7fa(0x4a7)](),this[_0x3be7fa(0x89)](_0x29a2a8,_0x74ebed[_0x3be7fa(0x556)]),Date['now']()-this['lastHeartbeat']>(_0x5397a0?0x15f90:0x3a98)&&this[_0x3be7fa(0x4c7)]();},0xbb8);}[_0x359c2e(0x380)](){const _0x538e4f=_0x359c2e;this[_0x538e4f(0x4f4)]['forEach'](_0x3f892d=>{const _0x109053=_0x538e4f;_0x3f892d['tracks']['video']&&_0x3f892d[_0x109053(0x499)][_0x109053(0x105)][_0x109053(0x64a)]&&!_0x3f892d['tracks'][_0x109053(0x105)][_0x109053(0xa0)]&&(_0x3f892d[_0x109053(0x499)][_0x109053(0x105)][_0x109053(0xa0)]=this[_0x109053(0x58a)][_0x109053(0xf6)](_0x3f892d['tracks'][_0x109053(0x105)][_0x109053(0x64a)],_0x3f892d[_0x109053(0x1c9)])),_0x3f892d[_0x109053(0x499)][_0x109053(0x1a3)]&&_0x3f892d['tracks'][_0x109053(0x1a3)]['track']&&!_0x3f892d[_0x109053(0x499)][_0x109053(0x1a3)][_0x109053(0xa0)]&&(_0x3f892d[_0x109053(0x499)][_0x109053(0x1a3)][_0x109053(0xa0)]=this['connection'][_0x109053(0xf6)](_0x3f892d['tracks'][_0x109053(0x1a3)][_0x109053(0x64a)],_0x3f892d[_0x109053(0x1c9)]));});}[_0x359c2e(0x1f5)](){const _0x5eaacb=_0x359c2e;this['publishSystemMessage']({'type':_0x1577ee[_0x5eaacb(0x3d0)],'candidates':this[_0x5eaacb(0x2b3)],'origin':_0xc93616['Sender'],'version':this[_0x5eaacb(0xc8)],'connectionType':this[_0x5eaacb(0x120)]});}['setupConnectionEvents'](){const _0x9aa9dd=_0x359c2e;super['setupConnectionEvents'](),this['connection'][_0x9aa9dd(0x3a7)]=()=>{const _0x1bf293=_0x9aa9dd;if(_0x1bf293(0x41f)===this['connection'][_0x1bf293(0x2da)]){_0x21773c[_0x1bf293(0x35d)](_0x5e3d2b[_0x1bf293(0x2bb)],_0x1bf293(0x285),this[_0x1bf293(0x1ac)][_0x1bf293(0x22e)](),this[_0x1bf293(0x414)]);try{if(this['connection'][_0x1bf293(0x3a1)])return void this[_0x1bf293(0x58a)][_0x1bf293(0x37a)]();}catch(_0x571b7f){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x9aa9dd(0x58a)][_0x9aa9dd(0x3f9)]=()=>{const _0x1ff79c=_0x9aa9dd;_0x1ff79c(0x23c)!==this[_0x1ff79c(0x58a)][_0x1ff79c(0x399)]&&_0x1ff79c(0x41f)!==this['connection']['connectionState']||this['handleDisconnect']();};}[_0x359c2e(0x4c7)](){const _0x477794=_0x359c2e;this['clearHeartbeat'](),this[_0x477794(0x557)](),this[_0x477794(0x480)](),_0x21773c['warning'](_0x477794(0x3a6),{'clusterId':this[_0x477794(0xff)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x477794(0x1ac)][_0x477794(0x2d7)],'remoteId':this['remoteId'],'data':{'connectionType':this['connectionType'],'connectionState':this[_0x477794(0x58a)]['connectionState'],'iceConnectionState':this[_0x477794(0x58a)][_0x477794(0x2da)],'signalingState':this['connection']['signalingState'],'readyState':this['dataChannel']?.[_0x477794(0x621)]||'','lastHeartbeat':this[_0x477794(0x479)]?Date[_0x477794(0x4a7)]()-this['lastHeartbeat']:'','retryQueue':this[_0x477794(0xd3)]}}),(this[_0x477794(0x479)]&&Date[_0x477794(0x4a7)]()-this[_0x477794(0x479)]>0xea60)??0x1?this[_0x477794(0x43f)][_0x477794(0x9a)]({'sourceId':this[_0x477794(0x414)],'destinationIds':[this[_0x477794(0x1ac)][_0x477794(0x22e)]()],'messageType':_0x403a0f[_0x477794(0x11c)],'content':{'type':_0x1577ee[_0x477794(0xdd)]}}):(this[_0x477794(0x127)](),this[_0x477794(0x5e7)]({'type':_0x1577ee[_0x477794(0xfc)],'version':this[_0x477794(0xc8)],'connectionType':this[_0x477794(0x120)]}),this[_0x477794(0x193)]=setTimeout(()=>{const _0x1fff82=_0x477794;this[_0x1fff82(0x4c7)]();},0x7530));}['clearHeartbeat'](){const _0x411159=_0x359c2e;this[_0x411159(0x580)]?.(),delete this[_0x411159(0x580)];}[_0x359c2e(0x480)](){const _0xaeaf39=_0x359c2e;this['connectionTimeout']&&(clearTimeout(this[_0xaeaf39(0x2ab)]),delete this['connectionTimeout']);}['clearRestartTimeout'](){const _0x1404f6=_0x359c2e;this[_0x1404f6(0x193)]&&(clearTimeout(this['restartTimeout']),delete this[_0x1404f6(0x193)]);}[_0x359c2e(0x56d)](){const _0x698ee0=_0x359c2e;this['upgradeTimeout']&&(clearTimeout(this['upgradeTimeout']),delete this[_0x698ee0(0x196)]);}[_0x359c2e(0x86)](){const _0x392eae=_0x359c2e;this[_0x392eae(0x196)]=setTimeout(()=>{const _0x3af38b=_0x392eae;this[_0x3af38b(0x344)]({'type':_0x5567d1[_0x3af38b(0x419)],'action':_0x27dd27[_0x3af38b(0x192)]});},0x3a98);}[_0x359c2e(0x37f)](_0x3806d9,_0x8fc43e){const _0x3e8459=_0x359c2e,_0x8f96b4=Math['max'](_0x3806d9[_0x3e8459(0x540)]/_0x8fc43e[_0x3e8459(0x540)],_0x3806d9[_0x3e8459(0x346)]/_0x8fc43e[_0x3e8459(0x346)]);return Math[_0x3e8459(0x9e)](Math[_0x3e8459(0x497)](_0x8f96b4,0x1),0x4);}[_0x359c2e(0x4c8)](){const _0x5e5b5d=_0x359c2e;this[_0x5e5b5d(0x61b)]?.(),delete this['waitAnswer'];}[_0x359c2e(0x5d1)](){const _0x24f027=_0x359c2e;this['oncloseTimeout']&&(clearTimeout(this[_0x24f027(0x64c)]),delete this['oncloseTimeout']);}[_0x359c2e(0x206)](_0x1b9cb0){const _0x30e9b5=_0x359c2e,_0x5dbcf9=JSON[_0x30e9b5(0x3bf)](_0x1b9cb0);return new TextEncoder()[_0x30e9b5(0x4dc)](_0x5dbcf9)['buffer'];}[_0x359c2e(0x452)](_0x4e0a33,_0x143c98){const _0x17e756=_0x359c2e,_0x55ea58=this[_0x17e756(0x206)](_0x4e0a33),_0x4d248d=new Uint8Array(0x4),_0x57097a=new Uint8Array(_0x55ea58),_0x39c738=new Uint8Array(_0x143c98);_0x4d248d[_0x17e756(0x2f9)](new Uint8Array(new Uint32Array([_0x57097a['length']])[_0x17e756(0x107)]));const _0x4fae6d=new Uint8Array(0x4+_0x57097a[_0x17e756(0x5cb)]+_0x39c738['length']);return _0x4fae6d[_0x17e756(0x2f9)](_0x4d248d),_0x4fae6d[_0x17e756(0x2f9)](_0x57097a,0x4),_0x4fae6d['set'](_0x39c738,0x4+_0x57097a[_0x17e756(0x5cb)]),_0x4fae6d['buffer'];}}class _0x4715d2 extends _0xf3744f{[_0x359c2e(0x32d)];[_0x359c2e(0x120)];[_0x359c2e(0x333)];['maxBpp'];[_0x359c2e(0x33b)];[_0x359c2e(0x509)];[_0x359c2e(0x4b7)];[_0x359c2e(0x54f)]=[];[_0x359c2e(0x5b2)]=_0x36be06();[_0x359c2e(0x370)]=_0x36be06();[_0x359c2e(0x303)]=_0x36be06();['listenerUnsubscribers']=[];[_0x359c2e(0x43f)];[_0x359c2e(0x34e)]=new Map();[_0x359c2e(0x2d4)]=new Map();[_0x359c2e(0x504)]=new Map();['mediaUnsubscribers']=new Map();[_0x359c2e(0x2c0)]=!0x1;constructor(_0xc7bee5,_0x3f18b3,_0x1e0cc2,_0x2a29ee,_0x32a355,_0x45882f,_0x131b76,_0x3d10f6){const _0x3c996e=_0x359c2e;super(_0xc7bee5,_0x3f18b3,_0x1e0cc2),this[_0x3c996e(0x32d)]=_0x2a29ee,this['connectionType']=_0x32a355,this['maxFps']=_0x45882f,this[_0x3c996e(0x5c6)]=_0x131b76,this[_0x3c996e(0x33b)]=_0x3d10f6;}[_0x359c2e(0x253)](_0x1d804e){const _0xdc5c71=_0x359c2e;switch(_0x1d804e[_0xdc5c71(0xce)]()){case _0x883b7d[_0xdc5c71(0x3f6)]['Data']:case _0x883b7d[_0xdc5c71(0x3f6)][_0xdc5c71(0x282)]:case _0x883b7d[_0xdc5c71(0x3f6)][_0xdc5c71(0x4fe)]:case _0x883b7d[_0xdc5c71(0x3f6)][_0xdc5c71(0x5f0)]:this['dataTopics'][_0xdc5c71(0x2f9)](_0x1d804e['getLabel'](),_0x1d804e);break;case _0x883b7d[_0xdc5c71(0x3f6)][_0xdc5c71(0x61f)]:this[_0xdc5c71(0x504)][_0xdc5c71(0x2f9)](_0x1d804e['getLabel'](),_0x1d804e);}}[_0x359c2e(0x569)](_0x5208c8){const _0x43b732=_0x359c2e;switch(_0x5208c8[_0x43b732(0xce)]()){case _0x883b7d[_0x43b732(0x3f6)][_0x43b732(0x477)]:case _0x883b7d[_0x43b732(0x3f6)][_0x43b732(0x282)]:case _0x883b7d[_0x43b732(0x3f6)][_0x43b732(0x4fe)]:case _0x883b7d['ContentType'][_0x43b732(0x5f0)]:this[_0x43b732(0x34e)][_0x43b732(0x1c7)](_0x5208c8[_0x43b732(0x287)]());break;case _0x883b7d[_0x43b732(0x3f6)]['Media']:this['mediaTopics'][_0x43b732(0x1c7)](_0x5208c8[_0x43b732(0x287)]());}}['registerSubscriber'](_0x1ec4ba){const _0x56729f=_0x359c2e;switch(_0x1ec4ba[_0x56729f(0xce)]()){case _0x883b7d[_0x56729f(0x3f6)][_0x56729f(0x477)]:case _0x883b7d[_0x56729f(0x3f6)][_0x56729f(0x282)]:case _0x883b7d['ContentType'][_0x56729f(0x4fe)]:case _0x883b7d[_0x56729f(0x3f6)][_0x56729f(0x5f0)]:{const _0x4bdf11=_0x1ec4ba[_0x56729f(0x570)](_0x4aa640=>{const _0x2d3ba7=_0x56729f;_0x389d95(_0x4aa640,this['getLocalId']())&&_0x4a1ac4(_0x4aa640,this[_0x2d3ba7(0x414)])&&this[_0x2d3ba7(0xcf)](_0x4aa640);});this[_0x56729f(0x2d4)]['set'](_0x1ec4ba[_0x56729f(0x287)](),_0x4bdf11);break;}case _0x883b7d[_0x56729f(0x3f6)][_0x56729f(0x61f)]:{const _0x1c37b2=_0x1ec4ba['subscribe'](({content:_0x193f90})=>{const _0x258d4a=_0x56729f;switch(_0x193f90[_0x258d4a(0x516)]){case _0x218304[_0x258d4a(0xd5)]:this['addTrack'](_0x193f90['track'],_0x193f90[_0x258d4a(0x1c9)],_0x193f90[_0x258d4a(0x2c9)],_0x193f90['params']);break;case _0x218304['Remove']:this['removeTrack'](_0x193f90[_0x258d4a(0x64a)],_0x193f90[_0x258d4a(0x1c9)]);break;case _0x218304[_0x258d4a(0x5ac)]:_0x193f90[_0x258d4a(0x2c9)]&&this[_0x258d4a(0xaf)](_0x193f90['stream'],_0x193f90[_0x258d4a(0x2c9)]),_0x193f90[_0x258d4a(0x14b)]&&this[_0x258d4a(0x485)](_0x193f90[_0x258d4a(0x1c9)],_0x193f90['params']);}});this['mediaUnsubscribers'][_0x56729f(0x2f9)](_0x1ec4ba['getLabel'](),_0x1c37b2);break;}}}[_0x359c2e(0x1c2)](_0x47af20){const _0x8379bd=_0x359c2e;switch(_0x47af20[_0x8379bd(0xce)]()){case _0x883b7d['ContentType']['Data']:case _0x883b7d[_0x8379bd(0x3f6)][_0x8379bd(0x282)]:case _0x883b7d[_0x8379bd(0x3f6)][_0x8379bd(0x4fe)]:case _0x883b7d['ContentType'][_0x8379bd(0x5f0)]:this['dataUnsubscribers'][_0x8379bd(0x265)](_0x47af20[_0x8379bd(0x287)]())?.(),this['dataUnsubscribers'][_0x8379bd(0x1c7)](_0x47af20['getLabel']());break;case _0x883b7d['ContentType']['Media']:this[_0x8379bd(0x390)][_0x8379bd(0x265)](_0x47af20[_0x8379bd(0x287)]())?.(),this[_0x8379bd(0x390)]['delete'](_0x47af20[_0x8379bd(0x287)]());}}['getSupportedContentTypes'](){const _0x3e736d=_0x359c2e;return[_0x883b7d[_0x3e736d(0x3f6)]['Data'],_0x883b7d[_0x3e736d(0x3f6)][_0x3e736d(0x61f)],_0x883b7d[_0x3e736d(0x3f6)][_0x3e736d(0x282)],_0x883b7d[_0x3e736d(0x3f6)][_0x3e736d(0x4fe)],_0x883b7d['ContentType']['KeyValueDatabase']];}['registerSystemPublisher'](_0xec93b5){const _0x10894a=_0x359c2e;this[_0x10894a(0x43f)]=_0xec93b5;}['unregisterSystemPublisher'](){const _0x6a1bd=_0x359c2e;delete this[_0x6a1bd(0x43f)];}async[_0x359c2e(0x1da)](){const _0x3abdc7=_0x359c2e;this[_0x3abdc7(0x55d)](),await this[_0x3abdc7(0x27b)]();}[_0x359c2e(0x57d)](){const _0x52e3c9=_0x359c2e;this[_0x52e3c9(0x3ae)]['forEach'](_0x5822fa=>_0x5822fa()),this[_0x52e3c9(0x3ae)]=[],this[_0x52e3c9(0x509)]?.[_0x52e3c9(0x331)](),this[_0x52e3c9(0x509)]?.[_0x52e3c9(0x57d)](),delete this['senderConnection'],this['receiverUnsubscribers'][_0x52e3c9(0x600)](_0x2af98a=>_0x2af98a()),this[_0x52e3c9(0x54f)]=[],this[_0x52e3c9(0x4b7)]?.[_0x52e3c9(0x331)](),this[_0x52e3c9(0x4b7)]?.[_0x52e3c9(0x57d)](),delete this[_0x52e3c9(0x4b7)];}[_0x359c2e(0x520)](){const _0x155072=_0x359c2e;return this['senderConnection']?.[_0x155072(0x520)]()&&this[_0x155072(0x4b7)]?.[_0x155072(0x520)]()||!0x1;}[_0x359c2e(0xcf)](_0x2e2131){const _0x17d46f=_0x359c2e;if(!this['senderConnection']||!this['isConnected']())throw new _0x2e0415(_0x2e0415['codes']['ConnectionNotinitialized'],{'message':_0x17d46f(0x2ee),'senderConnected':this[_0x17d46f(0x509)]?.[_0x17d46f(0x520)](),'receiverConnected':this[_0x17d46f(0x4b7)]?.['isConnected'](),'localId':this['getLocalId'](),'remoteId':this[_0x17d46f(0x414)],'data':_0x2e2131});this['senderConnection']['send'](_0x2e2131);}['onMessage'](_0x4efc6c){const _0x20daf3=_0x359c2e;return this['messageListeners'][_0x20daf3(0x570)](_0x4efc6c);}['onTrack'](_0x2ebea7){const _0x512da3=_0x359c2e;return this[_0x512da3(0x370)][_0x512da3(0x570)](({track:_0x48beb5,stream:_0x436f3f})=>_0x2ebea7(_0x48beb5,_0x436f3f));}[_0x359c2e(0x27f)](_0x8d8864){const _0x5081de=_0x359c2e;return this[_0x5081de(0x303)][_0x5081de(0x570)](({track:_0x41a11e,stream:_0x3806b6})=>_0x8d8864(_0x41a11e,_0x3806b6));}[_0x359c2e(0xf6)](_0x54fa43,_0x5324c0,_0x40c7f0,_0x1ef8b7){const _0x52d126=_0x359c2e;this[_0x52d126(0x509)]?.['addTrack'](_0x54fa43,_0x5324c0,_0x40c7f0,_0x1ef8b7);}[_0x359c2e(0xaf)](_0x51f42e,_0x366ef5){const _0x58dd2a=_0x359c2e;this[_0x58dd2a(0x509)]?.[_0x58dd2a(0xaf)](_0x51f42e,_0x366ef5);}[_0x359c2e(0x485)](_0x137376,_0x4b1987){const _0x5bf5aa=_0x359c2e;this[_0x5bf5aa(0x509)]?.[_0x5bf5aa(0x485)](_0x137376,_0x4b1987);}[_0x359c2e(0x412)](_0x42aad5,_0x39ebde){const _0xeab8af=_0x359c2e;this[_0xeab8af(0x509)]?.[_0xeab8af(0x412)](_0x42aad5,_0x39ebde);}async[_0x359c2e(0x3d9)](_0x335b14){const _0x5cf151=_0x359c2e;_0x21773c[_0x5cf151(0x35d)](_0x5e3d2b['Connection'],_0x5cf151(0xab),this[_0x5cf151(0x218)](),_0x335b14);const {content:_0x200841}=_0x335b14;switch(_0x200841[_0x5cf151(0x2d7)]){case _0x1577ee[_0x5cf151(0x155)]:await this[_0x5cf151(0x63c)](_0x200841);break;case _0x1577ee[_0x5cf151(0x585)]:await this['handleAnswer'](_0x200841);break;case _0x1577ee['Success']:this[_0x5cf151(0xb3)]();break;case _0x1577ee[_0x5cf151(0x3d0)]:await this['handleIceCandidates'](_0x200841);break;case _0x1577ee[_0x5cf151(0xfc)]:this['handleNeedRestart'](_0x200841);break;case _0x1577ee[_0x5cf151(0x32e)]:await this[_0x5cf151(0x27b)]();}}[_0x359c2e(0x135)](_0x1535c8){const _0x27363b=_0x359c2e;this['senderConnection']?.[_0x27363b(0x344)](_0x1535c8[_0x27363b(0x232)][_0x27363b(0x3f4)]);}[_0x359c2e(0x426)](){const _0x5c3b75=_0x359c2e;return this[_0x5c3b75(0x120)];}[_0x359c2e(0x1f1)](_0x3038d7){const _0x3053b7=_0x359c2e;this['connectionType']=_0x3038d7,this[_0x3053b7(0x509)]?.[_0x3053b7(0x1f1)](_0x3038d7),this[_0x3053b7(0x4b7)]?.['setConnectionType'](_0x3038d7);}async['collectStats'](){const _0x29721f=_0x359c2e;await this[_0x29721f(0x509)]?.['collectStats'](),await this[_0x29721f(0x4b7)]?.[_0x29721f(0x2a8)]();}[_0x359c2e(0x55d)](){const _0x4f0888=_0x359c2e;this[_0x4f0888(0x3ae)]['push'](this[_0x4f0888(0x49e)](_0x329b1e=>{const _0x20f9ae=_0x4f0888;_0x4a1ac4(_0x329b1e,this[_0x20f9ae(0x218)]())&&0x0!==_0x329b1e[_0x20f9ae(0x3e3)]&&this[_0x20f9ae(0x34e)][_0x20f9ae(0x265)](_0x329b1e[_0x20f9ae(0x3e3)])?.[_0x20f9ae(0x9a)](_0x329b1e);})),this[_0x4f0888(0x3ae)][_0x4f0888(0x221)](this['onTrack']((_0x504ad5,_0x4c0dd0)=>{const _0x1228f5=_0x4f0888,_0x338a0f=_0x34928b(_0x883b7d[_0x1228f5(0x3f6)][_0x1228f5(0x61f)],_0x4c0dd0['id'],this['remoteId']);this[_0x1228f5(0x504)]['get'](_0x338a0f)?.['publish']({'topicLabel':_0x338a0f,'sourceId':this[_0x1228f5(0x414)],'contentType':_0x883b7d[_0x1228f5(0x3f6)][_0x1228f5(0x61f)],'content':{'action':_0x218304['RemoteAdd'],'track':_0x504ad5,'stream':_0x4c0dd0,'providerId':this[_0x1228f5(0x414)]}});})),this['listenerUnsubscribers'][_0x4f0888(0x221)](this[_0x4f0888(0x27f)]((_0x5444d6,_0x4502fd)=>{const _0x2c0f9c=_0x4f0888,_0x4b7c17=_0x34928b(_0x883b7d[_0x2c0f9c(0x3f6)][_0x2c0f9c(0x61f)],_0x4502fd['id'],this[_0x2c0f9c(0x414)]);this['mediaTopics'][_0x2c0f9c(0x265)](_0x4b7c17)?.[_0x2c0f9c(0x9a)]({'topicLabel':_0x4b7c17,'sourceId':this[_0x2c0f9c(0x414)],'contentType':_0x883b7d[_0x2c0f9c(0x3f6)][_0x2c0f9c(0x61f)],'content':{'action':_0x218304[_0x2c0f9c(0x56b)],'track':_0x5444d6,'stream':_0x4502fd,'providerId':this['remoteId']}});}));}[_0x359c2e(0x530)]({candidates:_0x176955,origin:_0x3a510f,version:_0x441a7e}){const _0x488c18=_0x359c2e;return _0x3a510f===_0xc93616['Sender']?(this[_0x488c18(0x4b7)]||this[_0x488c18(0x579)](),this[_0x488c18(0x4b7)][_0x488c18(0x582)](_0x176955,_0x441a7e)):this[_0x488c18(0x509)][_0x488c18(0x582)](_0x176955,_0x441a7e);}async[_0x359c2e(0x27b)](){const _0x2fd10b=_0x359c2e;this[_0x2fd10b(0x509)]||this[_0x2fd10b(0x546)](),await this[_0x2fd10b(0x509)][_0x2fd10b(0x27b)]();}async[_0x359c2e(0x63c)]({offer:_0x1cec0f,version:_0x1b6b29}){const _0x2c8102=_0x359c2e;this[_0x2c8102(0x4b7)]||this[_0x2c8102(0x579)](),await this[_0x2c8102(0x4b7)][_0x2c8102(0x63c)](_0x1cec0f,_0x1b6b29);}async[_0x359c2e(0x42e)]({answer:_0x319b3d,version:_0x161873}){const _0x5e0bd3=_0x359c2e;if(!this['senderConnection'])throw new _0x2e0415(_0x2e0415[_0x5e0bd3(0xc9)][_0x5e0bd3(0x525)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x5e0bd3(0x218)](),'remoteId':this[_0x5e0bd3(0x414)],'answer':_0x319b3d});await this['senderConnection'][_0x5e0bd3(0x42e)](_0x319b3d,_0x161873);}[_0x359c2e(0xb3)](){const _0x3ca133=_0x359c2e;if(!this['receiverConnection'])throw new _0x2e0415(_0x2e0415[_0x3ca133(0xc9)][_0x3ca133(0x525)],{'message':_0x3ca133(0x39e),'localId':this['getLocalId'](),'remoteId':this[_0x3ca133(0x414)]});this['receiverConnection'][_0x3ca133(0xb3)](),this[_0x3ca133(0x2c0)]||this[_0x3ca133(0x120)]!==_0x3f817f['Optimization']||(this[_0x3ca133(0x2c0)]=!0x0,this['systemTopic']?.[_0x3ca133(0x9a)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x3ca133(0x218)]()],'messageType':_0x403a0f[_0x3ca133(0x11c)],'content':{'type':_0x1577ee[_0x3ca133(0x339)]}}));}['handleNeedRestart'](_0x335d02){const _0x557a0b=_0x359c2e;this[_0x557a0b(0x4b7)]||this[_0x557a0b(0x579)](),this['receiverConnection'][_0x557a0b(0x464)](_0x335d02[_0x557a0b(0x5dd)]);}[_0x359c2e(0x546)](){const _0x46ea21=_0x359c2e;this['senderConnection']=new _0x5e7298(this[_0x46ea21(0xff)],this[_0x46ea21(0x1ac)],this[_0x46ea21(0x414)],this[_0x46ea21(0x32d)],this[_0x46ea21(0x120)],this[_0x46ea21(0x333)],this[_0x46ea21(0x5c6)],this[_0x46ea21(0x33b)]),this[_0x46ea21(0x509)][_0x46ea21(0x4c5)](this[_0x46ea21(0x43f)]);}[_0x359c2e(0x579)](){const _0x254b11=_0x359c2e;this[_0x254b11(0x4b7)]=new _0x20e2da(this[_0x254b11(0xff)],this[_0x254b11(0x1ac)],this[_0x254b11(0x414)],this['iceServers'],this[_0x254b11(0x120)],this[_0x254b11(0x33b)]),this[_0x254b11(0x4b7)][_0x254b11(0x4c5)](this[_0x254b11(0x43f)]),this['receiverUnsubscribers']['push'](this[_0x254b11(0x4b7)]['onMessage'](_0x37f987=>this[_0x254b11(0x5b2)][_0x254b11(0x9a)](_0x37f987))),this[_0x254b11(0x54f)][_0x254b11(0x221)](this[_0x254b11(0x4b7)][_0x254b11(0x467)]((_0x4f93c2,_0x3b2a2d)=>this[_0x254b11(0x370)][_0x254b11(0x9a)]({'track':_0x4f93c2,'stream':_0x3b2a2d}))),this['receiverUnsubscribers'][_0x254b11(0x221)](this[_0x254b11(0x4b7)][_0x254b11(0x27f)]((_0x5a40f7,_0x8c3ae6)=>this[_0x254b11(0x303)]['publish']({'track':_0x5a40f7,'stream':_0x8c3ae6})));}}class _0x3c0888{[_0x359c2e(0x648)];[_0x359c2e(0x208)];['graphService'];[_0x359c2e(0x2f5)]=new Map();[_0x359c2e(0x5b2)]=_0x36be06();[_0x359c2e(0x28d)];[_0x359c2e(0x34e)]=new Map();[_0x359c2e(0x2d4)]=new Map();[_0x359c2e(0x4aa)]=new Map();constructor(_0xedd82a,_0x88eae6,_0x1dc1a4){const _0x56363c=_0x359c2e;this[_0x56363c(0x648)]=_0xedd82a,this[_0x56363c(0x208)]=_0x88eae6,this[_0x56363c(0x190)]=_0x1dc1a4,this['messageUnsubscriber']=this[_0x56363c(0x49e)](_0xf92bc2=>{const _0x2f2a5f=_0x56363c;this[_0x2f2a5f(0x208)][_0x2f2a5f(0x64b)](_0xf92bc2['uuid'])||(_0x4a1ac4(_0xf92bc2,this['localId'])&&0x0!==_0xf92bc2[_0x2f2a5f(0x3e3)]&&(this[_0x2f2a5f(0x208)][_0x2f2a5f(0x1c5)](_0xf92bc2[_0x2f2a5f(0x5b0)]),this['dataTopics']['get'](_0xf92bc2[_0x2f2a5f(0x3e3)])?.[_0x2f2a5f(0x9a)](_0xf92bc2)),_0xf92bc2[_0x2f2a5f(0x209)]&&this[_0x2f2a5f(0xcf)](_0xf92bc2));});}[_0x359c2e(0x57d)](){this['messageUnsubscriber']?.();}['addConnection'](_0x4f6556){const _0x310342=_0x359c2e,_0x25618f=_0x4f6556[_0x310342(0x49e)](_0x32eef8=>{const _0x5defb7=_0x310342;this['messageListeners'][_0x5defb7(0x9a)](_0x32eef8);});this[_0x310342(0x2f5)]['set'](_0x4f6556,_0x25618f),this[_0x310342(0x4aa)]['set'](_0x4f6556[_0x310342(0x5d0)](),function(_0x2494f8,_0x3f6195=!0x1){let _0x48373f=new Map();const _0x2014b1=_0x3cace4(_0x2494f8,_0x3f6195,function(_0x4e998){const _0x547cb2=a0_0x2eba;_0x3dcea4(_0x4e998)&&_0x48373f[_0x547cb2(0x1c7)](_0x4e998[_0x547cb2(0x143)]+'-'+(_0x4e998['destinationIds']??[])+'-'+_0x4e998['messageType']+'-'+_0x4e998[_0x547cb2(0x232)]['type']);},function(_0x5702e2){return!!function(_0x1ec5ed){const _0x2fbfb6=a0_0x2eba,_0x154e09=_0x1ec5ed['value'];if(!_0x3dcea4(_0x154e09))return!0x1;const _0x577eb6=_0x154e09['sourceId']+'-'+(_0x154e09['destinationIds']??[])+'-'+_0x154e09['messageType']+'-'+_0x154e09[_0x2fbfb6(0x232)][_0x2fbfb6(0x2d7)],_0x411f6b={'version':_0x154e09[_0x2fbfb6(0x232)][_0x2fbfb6(0x5dd)],'element':_0x1ec5ed},_0x3807cb=_0x48373f[_0x2fbfb6(0x265)](_0x577eb6);return _0x3807cb?(_0x3807cb['version']>=_0x154e09[_0x2fbfb6(0x232)][_0x2fbfb6(0x5dd)]||(_0x3807cb[_0x2fbfb6(0x3d6)]['previous']&&(_0x3807cb['element'][_0x2fbfb6(0x350)][_0x2fbfb6(0x61e)]=_0x1ec5ed,_0x1ec5ed[_0x2fbfb6(0x350)]=_0x3807cb[_0x2fbfb6(0x3d6)]['previous']),_0x3807cb[_0x2fbfb6(0x3d6)][_0x2fbfb6(0x61e)]&&(_0x3807cb['element'][_0x2fbfb6(0x61e)][_0x2fbfb6(0x350)]=_0x1ec5ed,_0x1ec5ed[_0x2fbfb6(0x61e)]=_0x3807cb[_0x2fbfb6(0x3d6)][_0x2fbfb6(0x61e)]),_0x3807cb['element']===_0x2014b1[_0x2fbfb6(0x1ec)]&&(_0x2014b1[_0x2fbfb6(0x1ec)]=_0x1ec5ed),_0x3807cb['element']===_0x2014b1[_0x2fbfb6(0x48d)]&&(_0x2014b1['tail']=_0x1ec5ed),_0x48373f[_0x2fbfb6(0x2f9)](_0x577eb6,_0x411f6b)),!0x0):(_0x48373f[_0x2fbfb6(0x2f9)](_0x577eb6,_0x411f6b),!0x1);}(_0x5702e2);},function(){const _0x4f8631=a0_0x2eba;_0x48373f[_0x4f8631(0x288)]();});function _0x3dcea4(_0x458941){const _0x54b7e0=a0_0x2eba;if(_0x458941&&_0x54b7e0(0x2b6)==typeof _0x458941&&_0x458941[_0x54b7e0(0x3b8)](_0x54b7e0(0x232))&&_0x458941[_0x54b7e0(0x3b8)]('messageType')&&_0x458941[_0x54b7e0(0x3b8)](_0x54b7e0(0x143))){const _0x530eee=_0x458941;if(_0x530eee[_0x54b7e0(0x232)]&&_0x54b7e0(0x2b6)==typeof _0x530eee[_0x54b7e0(0x232)]&&_0x530eee['content'][_0x54b7e0(0x3b8)](_0x54b7e0(0x5dd))&&_0x530eee[_0x54b7e0(0x232)]['hasOwnProperty'](_0x54b7e0(0x2d7)))return!0x0;}return!0x1;}return _0x2014b1;}(new _0x13eafc(_0x550e68=>_0x4f6556['send'](_0x550e68),()=>_0x4df92f[_0x310342(0x33e)](0x64))));}[_0x359c2e(0x1de)](_0x653939){const _0x20e278=_0x359c2e;this[_0x20e278(0x2f5)][_0x20e278(0x265)](_0x653939)?.(),this[_0x20e278(0x2f5)]['delete'](_0x653939),this[_0x20e278(0x4aa)]['get'](_0x653939[_0x20e278(0x5d0)]())?.[_0x20e278(0x288)](),this[_0x20e278(0x4aa)][_0x20e278(0x1c7)](_0x653939['getRemoteId']());}[_0x359c2e(0x520)](_0x709bad){const _0x475bce=_0x359c2e;return _0x21773c[_0x475bce(0x35d)](_0x5e3d2b[_0x475bce(0x2bb)],_0x475bce(0x168),this[_0x475bce(0x648)],this[_0x475bce(0x2f5)][_0x475bce(0x43a)]()),0x0!==this[_0x475bce(0x2f5)][_0x475bce(0x22d)]&&(Array['from'](this[_0x475bce(0x2f5)][_0x475bce(0x43a)]())[_0x475bce(0x3c6)](_0x3848ad=>_0x3848ad['getRemoteId']()===_0x709bad)?.[_0x475bce(0x520)]()??!0x1);}[_0x359c2e(0x253)](_0x242fad){const _0x564298=_0x359c2e;this[_0x564298(0x34e)][_0x564298(0x2f9)](_0x242fad[_0x564298(0x287)](),_0x242fad);}[_0x359c2e(0x569)](_0x13d333){const _0x884322=_0x359c2e;this['dataTopics']['delete'](_0x13d333[_0x884322(0x287)]());}[_0x359c2e(0x179)](_0x2a09e3){const _0x499f89=_0x359c2e,_0x531c59=_0x2a09e3['subscribe'](this[_0x499f89(0xcf)][_0x499f89(0x4e8)](this));this['dataUnsubscribers'][_0x499f89(0x2f9)](_0x2a09e3[_0x499f89(0x287)](),_0x531c59);}[_0x359c2e(0x1c2)](_0x5b4eb7){const _0x50cc7b=_0x359c2e;this[_0x50cc7b(0x2d4)][_0x50cc7b(0x265)](_0x5b4eb7[_0x50cc7b(0x287)]())?.(),this['dataUnsubscribers']['delete'](_0x5b4eb7['getLabel']());}[_0x359c2e(0x5c4)](){const _0x208a03=_0x359c2e;return[_0x883b7d[_0x208a03(0x3f6)][_0x208a03(0x477)],_0x883b7d[_0x208a03(0x3f6)][_0x208a03(0x282)],_0x883b7d['ContentType'][_0x208a03(0x4fe)],_0x883b7d['ContentType']['KeyValueDatabase']];}[_0x359c2e(0xcf)](_0x173a81){const _0x589940=_0x359c2e;if(!0x1===_0x173a81[_0x589940(0x21c)]){if(_0x173a81[_0x589940(0x209)]||!_0x173a81['destinationIds']||0x1!==_0x173a81[_0x589940(0x513)]['length'])throw new _0x2e0415(_0x2e0415['codes'][_0x589940(0x5ee)],{'message':_0x589940(0xf3),'localId':this[_0x589940(0x648)]});if(!this[_0x589940(0x520)](_0x173a81['destinationIds'][0x0]))throw new _0x215c54(_0x589940(0x4eb));}const _0x5b3eb0=_0x173a81['recipients']??[];try{const {filteredDestinationIds:_0x50a9a7,extendedRecipients:_0x196e7e}=this[_0x589940(0x60f)](_0x173a81,_0x5b3eb0);_0x173a81['destinationIds']=_0x50a9a7,_0x173a81['recipients']=_0x196e7e;}catch(_0x5da1b8){if(_0x5da1b8 instanceof _0x215c54)return void _0x21773c['log'](_0x5e3d2b[_0x589940(0x2d2)],_0x589940(0x315),_0x589940(0x54e),_0x173a81,_0x5da1b8['message']);}const _0x38634f=this[_0x589940(0x4d3)](_0x173a81);this[_0x589940(0x1df)](_0x173a81,_0x38634f),_0x173a81[_0x589940(0x209)]=_0x38634f;const _0x2a0242=this[_0x589940(0x5a5)](_0x173a81,_0x5b3eb0);for(const _0x7ece of _0x2a0242){const _0xb6df95=this[_0x589940(0x4aa)][_0x589940(0x265)](_0x7ece[_0x589940(0x5d0)]());if(!_0xb6df95)throw new _0x2e0415(_0x2e0415[_0x589940(0xc9)][_0x589940(0x4b9)],{'message':_0x589940(0x3f7),'localId':this[_0x589940(0x648)],'remoteId':_0x7ece[_0x589940(0x5d0)](),'data':_0x173a81});_0xb6df95[_0x589940(0x221)](_0x173a81);}}[_0x359c2e(0x5d0)](){return'';}[_0x359c2e(0x218)](){const _0x4ebbff=_0x359c2e;return this[_0x4ebbff(0x648)];}['onMessage'](_0x506b14){const _0x17ded7=_0x359c2e;return this[_0x17ded7(0x5b2)]['subscribe'](_0x506b14);}[_0x359c2e(0x60f)](_0x5dc4f5,_0x3951bb){const _0x53f7a0=_0x359c2e,_0xba82e2={'filteredDestinationIds':_0x5dc4f5[_0x53f7a0(0x513)],'extendedRecipients':_0x5dc4f5[_0x53f7a0(0x4e1)]};if(!_0x5dc4f5['propagate'])return _0xba82e2;const _0x5cde19=Array[_0x53f7a0(0x163)](this[_0x53f7a0(0x2f5)][_0x53f7a0(0x43a)]())[_0x53f7a0(0x5d5)](_0x15b533=>_0x15b533['getConnectionType']()===_0x3f817f[_0x53f7a0(0x4c9)]||_0x15b533[_0x53f7a0(0x520)]())[_0x53f7a0(0x391)](_0x4a8031=>_0x4a8031[_0x53f7a0(0x5d0)]());if(_0x5cde19[_0x53f7a0(0x17c)]((_0x467a63,_0x485a8e)=>_0x467a63&&_0x5dc4f5[_0x53f7a0(0x4e1)][_0x53f7a0(0x457)](_0x485a8e),!0x0))throw new _0x215c54('All\x20recipients\x20already\x20received');if(_0x5dc4f5[_0x53f7a0(0x513)]){const _0x1d114d=_0x5dc4f5['destinationIds'][_0x53f7a0(0x5d5)](_0x1f011a=>_0x1f011a!==this['localId']&&!_0x5dc4f5[_0x53f7a0(0x4e1)][_0x53f7a0(0x457)](_0x1f011a));if(0x0===_0x1d114d['length'])throw new _0x215c54(_0x53f7a0(0x1b2));_0xba82e2[_0x53f7a0(0x249)]=_0x1d114d;}return _0xba82e2[_0x53f7a0(0x625)]=[...new Set([..._0x3951bb,..._0x5cde19,this[_0x53f7a0(0x648)]])],_0xba82e2;}[_0x359c2e(0x1df)](_0x58fccc,_0x5dd9cd=!0x1){const _0x634a96=_0x359c2e;if(0x0===_0x58fccc[_0x634a96(0x3e3)]&&!_0x389d95(_0x58fccc,this[_0x634a96(0x648)])&&_0x58fccc[_0x634a96(0x209)]){const _0x175fdc=_0xaffa6e(_0x58fccc,this[_0x634a96(0x648)]);_0x21773c[_0x634a96(0x2cf)](_0x5e3d2b['System'],_0x58fccc[_0x634a96(0x5b0)]+_0x634a96(0x50f)+_0x5dd9cd+')\x20'+_0x175fdc,_0x58fccc,_0x5dd9cd);}}['shouldContinuePropagation'](_0x4bdf49){const _0x17d862=_0x359c2e;if(_0x4bdf49[_0x17d862(0x513)]&&_0x4bdf49[_0x17d862(0x209)]){const _0x213233=Array[_0x17d862(0x163)](this[_0x17d862(0x2f5)][_0x17d862(0x43a)]())[_0x17d862(0x5d5)](_0x1d30e7=>_0x1d30e7[_0x17d862(0x426)]()===_0x3f817f[_0x17d862(0x4c9)]||_0x1d30e7['isConnected']())[_0x17d862(0x391)](_0x4ea90e=>_0x4ea90e[_0x17d862(0x5d0)]());return!_0x4bdf49[_0x17d862(0x513)][_0x17d862(0x17c)]((_0x1e954e,_0x32fbc8)=>_0x1e954e&&_0x213233['includes'](_0x32fbc8),!0x0);}return _0x4bdf49[_0x17d862(0x209)]??!0x1;}[_0x359c2e(0x5a5)](_0x261407,_0x3a37a9){const _0x480d62=_0x359c2e;if(_0x261407[_0x480d62(0x209)]&&_0x261407[_0x480d62(0x513)]){const _0x2e1913=Array[_0x480d62(0x163)](this['connections'][_0x480d62(0x43a)]())[_0x480d62(0x5d5)](_0x3524b1=>_0x3524b1[_0x480d62(0x426)]()===_0x3f817f[_0x480d62(0x4c9)]||_0x3524b1[_0x480d62(0x520)]())['map'](_0x803de0=>_0x803de0['getRemoteId']()),_0x53f228=new Set(),_0x104591=_0x261407[_0x480d62(0x143)]===this[_0x480d62(0x648)]?0x3:0x1;return _0x261407['destinationIds'][_0x480d62(0x600)](_0x100cc2=>{const _0x789d61=_0x480d62,_0x56a939=this[_0x789d61(0x190)][_0x789d61(0x5a9)](_0x2e1913,_0x100cc2);let _0xeff37c=0x0,_0x1178e4=0x0;_0x56a939[_0x789d61(0x600)](_0x1bef56=>{const _0x318449=_0x789d61;if(_0xeff37c>=_0x104591)return;const _0x459aff=Array[_0x318449(0x163)](this['connections'][_0x318449(0x43a)]())[_0x318449(0x3c6)](_0x4e3ffd=>_0x4e3ffd[_0x318449(0x5d0)]()===_0x1bef56);if(_0x459aff){if(_0x459aff[_0x318449(0x426)]()===_0x3f817f[_0x318449(0x4c9)]&&_0x1178e4>0x0)return void(_0x1178e4-=0x1);_0x53f228['add'](_0x459aff),_0x459aff[_0x318449(0x426)]()===_0x3f817f[_0x318449(0x3b6)]&&(_0x1178e4+=0x1),_0xeff37c+=0x1;}});}),Array[_0x480d62(0x163)](_0x53f228);}return Array[_0x480d62(0x163)](this[_0x480d62(0x2f5)][_0x480d62(0x43a)]())[_0x480d62(0x5d5)](_0x3c98ee=>{const _0x1abc4c=_0x480d62;return _0x18bc19=_0x3c98ee['getRemoteId'](),!_0x3a37a9[_0x1abc4c(0x457)](_0x18bc19)&&(_0x4a1ac4(_0x261407,_0x18bc19)||_0x261407[_0x1abc4c(0x209)])&&(!_0x261407['propagate']||_0x3c98ee[_0x1abc4c(0x520)]()||_0x3c98ee[_0x1abc4c(0x426)]()===_0x3f817f[_0x1abc4c(0x4c9)]);var _0x18bc19;});}}class _0x1af6e1{['localId'];[_0x359c2e(0x208)];[_0x359c2e(0x2f5)]=new Map();[_0x359c2e(0x43f)];constructor(_0x181e79,_0x2f07cd){const _0x274606=_0x359c2e;this[_0x274606(0x648)]=_0x181e79,this['messageBuffer']=_0x2f07cd;}[_0x359c2e(0x57d)](){}[_0x359c2e(0xcf)](_0x58ea9e){const _0x3eecb3=_0x359c2e;for(const _0x54fb01 of this['connections'][_0x3eecb3(0x43a)]())try{return void _0x54fb01['send']({'retry':!0x1,..._0x58ea9e});}catch(_0x48c548){_0x48c548 instanceof _0x215c54||_0x21773c[_0x3eecb3(0x35d)](_0x5e3d2b['Pool'],'send\x20error\x20on\x20'+_0x54fb01,_0x48c548,_0x58ea9e);}_0x21773c[_0x3eecb3(0x35d)](_0x5e3d2b[_0x3eecb3(0x43b)],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x359c2e(0x4bb)](_0x32a27d){const _0xba9fa2=_0x359c2e,_0x153ccd=_0x32a27d[_0xba9fa2(0x49e)](_0x1b21d0=>{const _0x3baeac=_0xba9fa2;this[_0x3baeac(0x208)]['hasMessage'](_0x1b21d0[_0x3baeac(0x5b0)])||0x0===_0x1b21d0[_0x3baeac(0x3e3)]&&(this[_0x3baeac(0x208)][_0x3baeac(0x1c5)](_0x1b21d0[_0x3baeac(0x5b0)]),_0x4a1ac4(_0x1b21d0,this[_0x3baeac(0x648)])&&this[_0x3baeac(0x43f)]?.[_0x3baeac(0x9a)](_0x1b21d0));});this[_0xba9fa2(0x2f5)][_0xba9fa2(0x2f9)](_0x32a27d,_0x153ccd);}[_0x359c2e(0x1de)](_0x1e3bcd){const _0x134193=_0x359c2e;this[_0x134193(0x2f5)][_0x134193(0x265)](_0x1e3bcd)?.(),this[_0x134193(0x2f5)]['delete'](_0x1e3bcd);}['getLocalId'](){const _0x2cf340=_0x359c2e;return this[_0x2cf340(0x648)];}['getRemoteId'](){return'';}['getSupportedContentTypes'](){return[_0x883b7d['ContentType']['Data']];}[_0x359c2e(0x520)](){const _0x3df4a2=_0x359c2e;throw new Error(_0x3df4a2(0x3ac));}[_0x359c2e(0x4c5)](_0x3dc8e8){this['systemTopic']=_0x3dc8e8;}['unregisterSystemPublisher'](){const _0x210a9c=_0x359c2e;delete this[_0x210a9c(0x43f)];}}class _0x1f4622{[_0x359c2e(0x107)]=new Map();[_0x359c2e(0x64e)];constructor(){const _0x24a17e=_0x359c2e;this[_0x24a17e(0x64e)]=_0x4df92f[_0x24a17e(0x3be)](()=>{const _0x1781c9=_0x24a17e;for(const [_0x424c78,_0x3390c1]of this[_0x1781c9(0x107)][_0x1781c9(0x406)]())Date[_0x1781c9(0x4a7)]()-_0x3390c1>0x124f80&&this['buffer'][_0x1781c9(0x1c7)](_0x424c78);},0x1d4c0);}['close'](){this['unsubscribeHandler']();}['addMessage'](_0x4e133c){const _0x23026f=_0x359c2e;this[_0x23026f(0x107)][_0x23026f(0x2f9)](_0x4e133c,Date[_0x23026f(0x4a7)]());}[_0x359c2e(0x64b)](_0x2ac4d4){const _0x22e85b=_0x359c2e;return this[_0x22e85b(0x107)]['has'](_0x2ac4d4);}}class _0x4bce91{[_0x359c2e(0x494)];[_0x359c2e(0x403)];['iceServers'];['maxFps'];[_0x359c2e(0x5c6)];[_0x359c2e(0x33b)];[_0x359c2e(0x2f5)]=new Map();[_0x359c2e(0x4dd)];['connectionGroup'];[_0x359c2e(0x5d8)];['messageBuffer'];constructor(_0x41f049,_0x197493,_0x3169e3,_0x381af0,_0x20fc10,_0x268ade,_0x5cd951){const _0x3a796f=_0x359c2e;this[_0x3a796f(0x494)]=_0x41f049,this['authService']=_0x197493,this[_0x3a796f(0x32d)]=_0x3169e3,this[_0x3a796f(0x333)]=_0x381af0,this['maxBpp']=_0x20fc10,this[_0x3a796f(0x33b)]=_0x5cd951,this[_0x3a796f(0x208)]=new _0x1f4622(),this[_0x3a796f(0x3d2)]=new _0x3c0888(this[_0x3a796f(0x494)]['localNode'][_0x3a796f(0x22e)](),this['messageBuffer'],_0x268ade),this[_0x3a796f(0x5d8)]=new _0x53e053(this[_0x3a796f(0x494)][_0x3a796f(0x3d4)],this[_0x3a796f(0x494)][_0x3a796f(0xff)],this['configs']['localNode'],'server',this[_0x3a796f(0x403)],()=>this[_0x3a796f(0x494)]['mediator'][_0x3a796f(0x57d)]()),this[_0x3a796f(0x4dd)]=new _0x1af6e1(this[_0x3a796f(0x494)][_0x3a796f(0x1ac)]['getId'](),this[_0x3a796f(0x208)]),this[_0x3a796f(0x4dd)][_0x3a796f(0x4bb)](this[_0x3a796f(0x3d2)]),this['connectionPool']['addConnection'](this[_0x3a796f(0x5d8)]),this[_0x3a796f(0x494)][_0x3a796f(0x24f)][_0x3a796f(0x413)](this[_0x3a796f(0x4dd)]);}[_0x359c2e(0x57d)](){const _0x426440=_0x359c2e;this[_0x426440(0x208)]['close'](),this[_0x426440(0x2f5)]['forEach']((_0x19d180,_0x12ff80)=>this['closeConnection'](_0x12ff80)),this['configs'][_0x426440(0x24f)][_0x426440(0x106)](this[_0x426440(0x4dd)]),this[_0x426440(0x4dd)][_0x426440(0x1de)](this[_0x426440(0x5d8)]),this['connectionPool'][_0x426440(0x1de)](this[_0x426440(0x3d2)]),this[_0x426440(0x4dd)]['close'](),this[_0x426440(0x5d8)][_0x426440(0x57d)](),this[_0x426440(0x3d2)]['close']();}async['initialize'](){const _0x4b1543=_0x359c2e;await this[_0x4b1543(0x5d8)][_0x4b1543(0x1da)]();}async[_0x359c2e(0x4e9)](_0x24c2f2,_0x1d6fe6=_0x3f817f['Core']){const _0x49528b=_0x359c2e;if(this[_0x49528b(0x2f5)][_0x49528b(0x531)](_0x24c2f2)){if(this[_0x49528b(0x2f5)][_0x49528b(0x265)](_0x24c2f2)?.['getConnectionType']()===_0x3f817f['Optimization']&&_0x1d6fe6===_0x3f817f[_0x49528b(0x4c9)])return void this[_0x49528b(0x2f5)][_0x49528b(0x265)](_0x24c2f2)?.[_0x49528b(0x1f1)](_0x3f817f[_0x49528b(0x4c9)]);throw new _0x2e0415(_0x2e0415['codes'][_0x49528b(0x537)],{'localId':this['configs'][_0x49528b(0x1ac)][_0x49528b(0x22e)](),'remoteId':_0x24c2f2});}const _0x2b5666=new _0x4715d2(this[_0x49528b(0x494)][_0x49528b(0xff)],this[_0x49528b(0x494)]['localNode'],_0x24c2f2,this[_0x49528b(0x32d)],_0x1d6fe6,this[_0x49528b(0x333)],this['maxBpp'],this['connectionConstructor']);this[_0x49528b(0x2f5)][_0x49528b(0x2f9)](_0x24c2f2,_0x2b5666),this[_0x49528b(0x3d2)][_0x49528b(0x4bb)](_0x2b5666),this[_0x49528b(0x494)][_0x49528b(0x24f)][_0x49528b(0x413)](_0x2b5666),this[_0x49528b(0x494)][_0x49528b(0x24f)][_0x49528b(0x1e1)](_0x24c2f2),await _0x2b5666['connect']();}[_0x359c2e(0x10e)](){return this['connectionGroup'];}[_0x359c2e(0x39f)](_0x556f25){const _0x8b1b1f=_0x359c2e;if(!this[_0x8b1b1f(0x2f5)][_0x8b1b1f(0x531)](_0x556f25))throw new _0x2e0415(_0x2e0415[_0x8b1b1f(0xc9)][_0x8b1b1f(0x5ff)],{'localId':this[_0x8b1b1f(0x494)][_0x8b1b1f(0x1ac)][_0x8b1b1f(0x22e)](),'remoteId':_0x556f25});return this['connections'][_0x8b1b1f(0x265)](_0x556f25);}[_0x359c2e(0x3c4)](_0x1992d0){const _0x551b5b=_0x359c2e,_0x4258cb=Array[_0x551b5b(0x163)](this[_0x551b5b(0x2f5)][_0x551b5b(0x313)]());return _0x1992d0?_0x4258cb[_0x551b5b(0x5d5)](_0x1992d0):_0x4258cb;}async[_0x359c2e(0x2a8)](_0x585926){const _0x22a414=_0x359c2e,_0x1950f7=this[_0x22a414(0x2f5)][_0x22a414(0x265)](_0x585926);_0x1950f7&&_0x1950f7[_0x22a414(0x520)]()&&await _0x1950f7['collectStats']();}[_0x359c2e(0x183)](_0x3a3817){const _0x549411=_0x359c2e;if(_0x3a3817['messageType']!==_0x403a0f['PeerConnection']||_0x3a3817[_0x549411(0x209)])try{this[_0x549411(0x3d2)][_0x549411(0xcf)](_0x3a3817);}catch(_0x4edce5){if(_0x4edce5 instanceof _0x215c54)return;throw _0x4edce5;}else this[_0x549411(0x4dd)][_0x549411(0xcf)](_0x3a3817);}async[_0x359c2e(0x3d9)](_0x8fa67a){const _0x4e3f6c=_0x359c2e;switch(_0x8fa67a['content']['type']){case _0x1577ee['Disconnect']:case _0x1577ee['Stats']:case _0x1577ee[_0x4e3f6c(0x339)]:return;}if(!_0x8fa67a[_0x4e3f6c(0x513)]||0x1!==_0x8fa67a[_0x4e3f6c(0x513)]['length'])throw new _0x2e0415(_0x2e0415[_0x4e3f6c(0xc9)][_0x4e3f6c(0x223)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x8fa67a});if(_0x8fa67a[_0x4e3f6c(0x513)][0x0]!==this[_0x4e3f6c(0x494)][_0x4e3f6c(0x1ac)]['getId']())throw new _0x2e0415(_0x2e0415['codes'][_0x4e3f6c(0x223)],{'message':_0x4e3f6c(0x1cd),'event':_0x8fa67a});if(!this[_0x4e3f6c(0x2f5)][_0x4e3f6c(0x531)](_0x8fa67a[_0x4e3f6c(0x143)])){let _0x20d68c=_0x3f817f[_0x4e3f6c(0x4c9)];if(!(this[_0x4e3f6c(0x453)](_0x8fa67a[_0x4e3f6c(0x232)])||this[_0x4e3f6c(0x38a)](_0x8fa67a[_0x4e3f6c(0x232)])||this[_0x4e3f6c(0x3e6)](_0x8fa67a[_0x4e3f6c(0x232)])))return;_0x20d68c=_0x8fa67a[_0x4e3f6c(0x232)][_0x4e3f6c(0x120)],await this[_0x4e3f6c(0x4e9)](_0x8fa67a[_0x4e3f6c(0x143)],_0x20d68c);}const _0xf77376=this[_0x4e3f6c(0x2f5)][_0x4e3f6c(0x265)](_0x8fa67a[_0x4e3f6c(0x143)]);await _0xf77376[_0x4e3f6c(0x3d9)](_0x8fa67a);}['handleRemediationSystemEvents'](_0x1b2b50){const _0x3fbb68=_0x359c2e;if(_0x1b2b50[_0x3fbb68(0x232)][_0x3fbb68(0x2d7)]===_0x5567d1[_0x3fbb68(0x419)]){if(_0x1b2b50[_0x3fbb68(0x232)][_0x3fbb68(0x511)]===this[_0x3fbb68(0x494)]['localNode'][_0x3fbb68(0x22e)]())return void this[_0x3fbb68(0x2f5)]['forEach'](_0x23b4da=>_0x23b4da['handleRemediationSystemEvents'](_0x1b2b50));this[_0x3fbb68(0x2f5)][_0x3fbb68(0x265)](_0x1b2b50[_0x3fbb68(0x232)][_0x3fbb68(0x511)])?.[_0x3fbb68(0x135)](_0x1b2b50);}}['handleNodeSystemEvents']({content:_0x5c57a5}){const _0x2f2afb=_0x359c2e;_0x5c57a5['type']===_0x483dd4[_0x2f2afb(0x27d)]&&this[_0x2f2afb(0x51f)](_0x5c57a5['id']);}['closeConnection'](_0x3e6c15){const _0xc4e63e=_0x359c2e,_0x2ebbb8=this[_0xc4e63e(0x2f5)][_0xc4e63e(0x265)](_0x3e6c15);_0x2ebbb8&&(this[_0xc4e63e(0x494)]['mediator'][_0xc4e63e(0x2bc)](_0x3e6c15),this['configs'][_0xc4e63e(0x24f)]['unregisterSystemSource'](_0x2ebbb8),_0x2ebbb8 instanceof _0x4715d2&&this['connectionGroup'][_0xc4e63e(0x1de)](_0x2ebbb8),_0x2ebbb8[_0xc4e63e(0x57d)](),this['connections'][_0xc4e63e(0x1c7)](_0x3e6c15));}[_0x359c2e(0x453)](_0x35ecee){const _0x5eb342=_0x359c2e;return _0x35ecee[_0x5eb342(0x2d7)]===_0x1577ee[_0x5eb342(0x155)];}[_0x359c2e(0x3e6)](_0x1fb62e){const _0x28ee0e=_0x359c2e;return _0x1fb62e[_0x28ee0e(0x2d7)]===_0x1577ee['NeedRestart'];}['isIceCandidate'](_0x35dd72){const _0x5d5c07=_0x359c2e;return _0x35dd72[_0x5d5c07(0x2d7)]===_0x1577ee[_0x5d5c07(0x3d0)];}}!function(_0x32fcc3){const _0x5e6e4f=_0x359c2e;_0x32fcc3[_0x32fcc3[_0x5e6e4f(0x334)]=0x0]=_0x5e6e4f(0x334),_0x32fcc3[_0x32fcc3[_0x5e6e4f(0xa5)]=0x1]=_0x5e6e4f(0xa5),_0x32fcc3[_0x32fcc3[_0x5e6e4f(0x54a)]=0x2]='UnsubscribeMediaStream',_0x32fcc3[_0x32fcc3['NeedMediaStream']=0x3]=_0x5e6e4f(0x416),_0x32fcc3[_0x32fcc3[_0x5e6e4f(0x20a)]=0x4]=_0x5e6e4f(0x20a),_0x32fcc3[_0x32fcc3['CanProvideMediaStream']=0x5]=_0x5e6e4f(0x5e3),_0x32fcc3[_0x32fcc3[_0x5e6e4f(0x58e)]=0x6]='CannotProvideMediaStream',_0x32fcc3[_0x32fcc3[_0x5e6e4f(0x23b)]=0x7]=_0x5e6e4f(0x23b);}(_0x4b36c1||(_0x4b36c1={}));class _0x3d1a1e extends _0x314ed0{[_0x359c2e(0x1ac)];['clusterId'];['vendorId'];[_0x359c2e(0x5c0)];[_0x359c2e(0x64e)];[_0x359c2e(0x626)];['pendingSyncTransactions']=new Map();[_0x359c2e(0x3b7)]=new Map();[_0x359c2e(0x409)]=new Map();[_0x359c2e(0x12b)]=new Map();['pendingFilesRename']=new Map();[_0x359c2e(0x316)];[_0x359c2e(0x42d)]=_0x4e9161();[_0x359c2e(0x47b)];[_0x359c2e(0x528)];[_0x359c2e(0x652)]=0x0;[_0x359c2e(0x272)]=0x0;constructor(_0x3e15e3,_0x54b7a6,_0x5acd3a,_0x2bc5c8,_0x2cce1e,_0x416075){const _0x144225=_0x359c2e;if(_0x144225(0x2e4)!=typeof _0x54b7a6)throw new _0x26d32b(_0x10cef2[_0x144225(0x1d9)],_0x144225(0x398));super(_0x3e15e3,_0x54b7a6),this[_0x144225(0x1ac)]=_0x3e15e3,this[_0x144225(0xff)]=_0x5acd3a,this['vendorId']=_0x2bc5c8,this['transactionService']=_0x2cce1e;const _0x1399d3=_0x144225(0x5aa)+this['vendorId']+_0x144225(0x5aa)+this['clusterId']+_0x144225(0x5aa)+_0x54b7a6;this[_0x144225(0x316)]=new _0x416075(_0x1399d3),this[_0x144225(0x44d)]();}[_0x359c2e(0xa2)](){const _0x3aa782=_0x359c2e;this[_0x3aa782(0x44d)]();}['getContentType'](){const _0x58a2e5=_0x359c2e;return _0x883b7d[_0x58a2e5(0x3f6)]['ObjectStore'];}async[_0x359c2e(0x1b4)](){const _0x333662=_0x359c2e;try{const _0x4a6026=await this[_0x333662(0x316)][_0x333662(0x265)](_0x3cdf83),_0x3f24d7=await _0x4a6026['text']();this[_0x333662(0x626)]=_0x3f24d7;}catch(_0x92e4a2){}this[_0x333662(0x64e)]=this[_0x333662(0x49e)](async(_0x1171a8,_0x20f7fb)=>{const _0x1c3e95=_0x333662;if(!(_0x20f7fb instanceof File))try{if(_0x20f7fb[_0x1c3e95(0x4d1)]===_0x205e05[_0x1c3e95(0x4f5)])return void this[_0x1c3e95(0x33a)](_0x20f7fb);this['handleTransactionPayload'](_0x20f7fb);}catch(_0x355930){if(_0x355930 instanceof _0x2e0415)throw _0x355930;throw new _0x2e0415(_0x2e0415['codes'][_0x1c3e95(0x2d9)],{'payload':_0x20f7fb});}}),await this[_0x333662(0x18b)](),await this[_0x333662(0x407)](),this[_0x333662(0x44d)]();}[_0x359c2e(0x111)](){const _0x398450=_0x359c2e;this[_0x398450(0x64e)]?.(),clearTimeout(this[_0x398450(0x528)]),delete this['debounceStats'],super[_0x398450(0x111)]();}[_0x359c2e(0x57d)](){const _0x42c3e0=_0x359c2e;this[_0x42c3e0(0x43f)]?.[_0x42c3e0(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x42c3e0(0x167)],'content':{'type':_0x114c1e[_0x42c3e0(0x2d0)],'label':this[_0x42c3e0(0x140)]}});}[_0x359c2e(0x570)](_0x429b1e){const _0x29ab70=_0x359c2e;if(this['listenerUnsubscriber'])throw new _0x26d32b(_0x10cef2[_0x29ab70(0x33d)],_0x29ab70(0x1e9));this[_0x29ab70(0x47b)]=this['eventListener'][_0x29ab70(0x570)](_0x429b1e);}[_0x359c2e(0x244)](){const _0x3e9517=_0x359c2e;this[_0x3e9517(0x47b)]&&this[_0x3e9517(0x47b)]();}['publish'](_0x150fd0){const _0x1faaaa=_0x359c2e;switch(_0x150fd0[_0x1faaaa(0x516)]){case _0x883b7d[_0x1faaaa(0x3dc)][_0x1faaaa(0x317)]:return this[_0x1faaaa(0xac)](_0x150fd0['file'],_0x150fd0[_0x1faaaa(0x4a5)]);case _0x883b7d[_0x1faaaa(0x3dc)][_0x1faaaa(0x332)]:return this['publishFolder'](_0x150fd0[_0x1faaaa(0x4a5)]);case _0x883b7d[_0x1faaaa(0x3dc)][_0x1faaaa(0x2eb)]:return this[_0x1faaaa(0x19f)](_0x150fd0['path'],_0x150fd0[_0x1faaaa(0x1cf)]);default:throw new _0x26d32b(_0x10cef2[_0x1faaaa(0x17d)],_0x1faaaa(0x153)+_0x150fd0);}}async['unpublish'](_0x192a5b){const _0x5a7081=_0x359c2e;try{const _0x56388f=(0x0,_0x3696f7['v4'])(),_0x5e3fd2=this[_0x5a7081(0x626)],_0x33df01={'payloadType':_0x205e05[_0x5a7081(0x166)],'action':_0x203df2[_0x5a7081(0x5ce)],'id':_0x56388f,'parentId':_0x5e3fd2,'path':_0x192a5b};await this[_0x5a7081(0x320)](_0x33df01);const _0xddc0e5=await this[_0x5a7081(0x45f)](_0x192a5b);await this[_0x5a7081(0xcf)](_0x33df01),_0x21773c[_0x5a7081(0x226)](_0xdaaeaa[_0x5a7081(0x15a)],{'type':_0x5a7081(0x553),'label':this[_0x5a7081(0x140)],'nodeId':this[_0x5a7081(0x1ac)][_0x5a7081(0x22e)](),'nodeType':this[_0x5a7081(0x1ac)]['type'],'clusterId':this[_0x5a7081(0xff)],'kind':_0xddc0e5,'path':_0x192a5b}),this[_0x5a7081(0x652)]+=0x1,this[_0x5a7081(0x44d)]();}catch(_0x23ff98){if(_0x23ff98 instanceof _0x2e0415)throw new _0x26d32b(_0x10cef2[_0x5a7081(0x3e9)],_0x5a7081(0x236));throw new _0x26d32b(_0x10cef2[_0x5a7081(0x281)],_0x5a7081(0x3e7)+_0x192a5b);}}async[_0x359c2e(0x265)](_0x4af08c){const _0xb4467f=_0x359c2e;_0x21773c[_0xb4467f(0x226)](_0xdaaeaa[_0xb4467f(0x15a)],{'type':_0xb4467f(0x265),'label':this[_0xb4467f(0x140)],'nodeId':this['localNode'][_0xb4467f(0x22e)](),'nodeType':this[_0xb4467f(0x1ac)][_0xb4467f(0x2d7)],'clusterId':this[_0xb4467f(0xff)],'path':_0x4af08c}),this['reads']+=0x1,this[_0xb4467f(0x44d)]();try{return await this[_0xb4467f(0x316)][_0xb4467f(0x265)](_0x4af08c);}catch(_0x39a23c){try{await this[_0xb4467f(0x316)]['get'](_0x4af08c+_0x73f2de);}catch(_0x5e14c1){throw new _0x26d32b(_0x10cef2[_0xb4467f(0x281)],_0xb4467f(0x19a)+_0x4af08c);}throw new _0x26d32b(_0x10cef2['ObjectStoreNotInSync'],_0xb4467f(0xee));}}async[_0x359c2e(0x87)](_0x5c1ddc,_0x3a8cea=!0x1,_0x400a14=!0x1){const _0x19efd8=_0x359c2e;_0x21773c[_0x19efd8(0x226)](_0xdaaeaa[_0x19efd8(0x15a)],{'type':_0x19efd8(0x87),'label':this[_0x19efd8(0x140)],'nodeId':this['localNode'][_0x19efd8(0x22e)](),'nodeType':this[_0x19efd8(0x1ac)][_0x19efd8(0x2d7)],'clusterId':this[_0x19efd8(0xff)],'path':_0x5c1ddc}),this['reads']+=0x1,this[_0x19efd8(0x44d)]();try{const _0x325e57=await this[_0x19efd8(0x316)][_0x19efd8(0x87)](_0x5c1ddc,_0x3a8cea);return _0x400a14?_0x325e57:this[_0x19efd8(0x10f)](_0x325e57);}catch(_0x22130f){throw new _0x26d32b(_0x10cef2['ObjectStoreInvalidPath'],_0x19efd8(0x369)+_0x5c1ddc);}}[_0x359c2e(0x4cc)](_0x2aeefe){for(const _0x497671 of this['objectRequests']['values']())this['send'](_0x497671,[_0x2aeefe]);}[_0x359c2e(0x1a4)](_0x4cde4c){const _0x1b4f34=_0x359c2e,_0x55122c=this[_0x1b4f34(0x409)]['get'](_0x4cde4c);if(_0x55122c){for(const [_0x33f6cf,_0x23c6e2]of _0x55122c[_0x1b4f34(0x313)]())this[_0x1b4f34(0x343)](_0x33f6cf,_0x23c6e2);this[_0x1b4f34(0x409)][_0x1b4f34(0x1c7)](_0x4cde4c);}}[_0x359c2e(0x10f)](_0xbf9757){const _0x108135=_0x359c2e;for(const _0x43d03f of _0xbf9757)_0x43d03f[_0x108135(0x170)]===_0x883b7d[_0x108135(0x365)][_0x108135(0x332)]&&(_0x43d03f[_0x108135(0x406)]=this[_0x108135(0x10f)](_0x43d03f[_0x108135(0x406)]??[])),(_0x43d03f['name']['endsWith'](_0x73f2de)||_0x43d03f['name']===_0x3cdf83)&&_0xbf9757['splice'](_0xbf9757[_0x108135(0xa6)](_0x43d03f),0x1);return _0xbf9757;}async[_0x359c2e(0xac)](_0x4fdeae,_0x38de47){const _0x35b215=_0x359c2e;try{const _0x425799=(0x0,_0x3696f7['v4'])(),_0x1baba4=this['lastTransactionId'],_0x47861f=await _0x1a9366(_0x4fdeae);await this[_0x35b215(0x320)]({'payloadType':_0x205e05[_0x35b215(0x166)],'action':_0x203df2[_0x35b215(0x529)],'id':_0x425799,'parentId':_0x1baba4,'answererId':this[_0x35b215(0x1ac)][_0x35b215(0x22e)](),'name':_0x4fdeae[_0x35b215(0x103)],'type':_0x4fdeae[_0x35b215(0x2d7)],'path':_0x38de47??'/','checksum':_0x47861f}),await this['writeFile'](_0x4fdeae,_0x38de47),await this[_0x35b215(0x558)](_0x4fdeae,{'payloadType':_0x205e05[_0x35b215(0x166)],'action':_0x203df2[_0x35b215(0x529)],'id':_0x425799,'parentId':_0x1baba4,'answererId':this[_0x35b215(0x1ac)][_0x35b215(0x22e)](),'name':_0x4fdeae['name'],'type':_0x4fdeae[_0x35b215(0x2d7)],'path':_0x38de47??'/','checksum':_0x47861f}),_0x21773c[_0x35b215(0x226)](_0xdaaeaa['ObjectStorage'],{'type':_0x35b215(0x9a),'label':this[_0x35b215(0x140)],'nodeId':this[_0x35b215(0x1ac)][_0x35b215(0x22e)](),'nodeType':this['localNode'][_0x35b215(0x2d7)],'clusterId':this[_0x35b215(0xff)],'kind':_0x883b7d['ObjectKind']['File'],'path':_0x38de47,'fileName':_0x4fdeae['name'],'fileType':_0x4fdeae[_0x35b215(0x2d7)],'size':_0x4fdeae['size']}),this[_0x35b215(0x652)]+=0x1,this[_0x35b215(0x44d)]();}catch(_0x3a2414){if(_0x3a2414 instanceof _0x2e0415)throw new _0x26d32b(_0x10cef2[_0x35b215(0x3e9)],_0x35b215(0xee));throw new _0x26d32b(_0x10cef2[_0x35b215(0x281)],_0x35b215(0x538)+_0x38de47);}}async['publishFolder'](_0x2f36b8){const _0x48df91=_0x359c2e;try{const _0x1a7862=(0x0,_0x3696f7['v4'])(),_0x5d3632=this[_0x48df91(0x626)],_0x2611ad={'payloadType':_0x205e05[_0x48df91(0x166)],'action':_0x203df2[_0x48df91(0x1e5)],'id':_0x1a7862,'parentId':_0x5d3632,'path':_0x2f36b8};await this[_0x48df91(0x320)](_0x2611ad),await this[_0x48df91(0x316)][_0x48df91(0x38b)](_0x2f36b8),await this[_0x48df91(0xcf)](_0x2611ad),_0x21773c[_0x48df91(0x226)](_0xdaaeaa[_0x48df91(0x15a)],{'type':'publish','label':this[_0x48df91(0x140)],'nodeId':this[_0x48df91(0x1ac)][_0x48df91(0x22e)](),'nodeType':this['localNode'][_0x48df91(0x2d7)],'clusterId':this[_0x48df91(0xff)],'kind':_0x883b7d[_0x48df91(0x365)][_0x48df91(0x332)],'path':_0x2f36b8}),this[_0x48df91(0x652)]+=0x1,this[_0x48df91(0x44d)]();}catch(_0x3dce8d){if(_0x3dce8d instanceof _0x2e0415)throw new _0x26d32b(_0x10cef2[_0x48df91(0x3e9)],_0x48df91(0xee));throw new _0x26d32b(_0x10cef2[_0x48df91(0x281)],_0x48df91(0x3b2)+_0x2f36b8);}}async[_0x359c2e(0x19f)](_0x45e537,_0x48feb5){const _0x1e3f06=_0x359c2e;try{const _0x172270=(0x0,_0x3696f7['v4'])(),_0x8cfdc8=this[_0x1e3f06(0x626)],_0x5ec6de={'payloadType':_0x205e05[_0x1e3f06(0x166)],'action':_0x203df2['Move'],'id':_0x172270,'parentId':_0x8cfdc8,'path':_0x45e537,'newPath':_0x48feb5};await this['publishTransaction'](_0x5ec6de);const _0x1d50c0=await this['moveObject'](_0x45e537,_0x48feb5);await this[_0x1e3f06(0xcf)](_0x5ec6de),_0x21773c[_0x1e3f06(0x226)](_0xdaaeaa[_0x1e3f06(0x15a)],{'type':_0x1e3f06(0x410),'label':this[_0x1e3f06(0x140)],'nodeId':this[_0x1e3f06(0x1ac)][_0x1e3f06(0x22e)](),'nodeType':this[_0x1e3f06(0x1ac)][_0x1e3f06(0x2d7)],'clusterId':this[_0x1e3f06(0xff)],'kind':_0x1d50c0,'path':_0x45e537,'newPath':_0x48feb5}),this['writes']+=0x1,this[_0x1e3f06(0x44d)]();}catch(_0x590fe2){if(_0x590fe2 instanceof _0x2e0415)throw new _0x26d32b(_0x10cef2['ObjectStoreNotInSync'],_0x1e3f06(0xee));throw new _0x26d32b(_0x10cef2[_0x1e3f06(0x281)],_0x1e3f06(0x61c)+_0x45e537);}}async['handleTransactionPayload'](_0xd5ef6d){const _0xc1d269=_0x359c2e;if(this['lastTransactionId']&&_0xd5ef6d[_0xc1d269(0x52e)]!==this[_0xc1d269(0x626)]&&_0xd5ef6d['id']!==this['lastTransactionId']){if(!_0xd5ef6d[_0xc1d269(0x52e)])throw new _0x2e0415(_0x2e0415['codes'][_0xc1d269(0x2d9)]);this[_0xc1d269(0x2de)][_0xc1d269(0x2f9)](_0xd5ef6d[_0xc1d269(0x52e)],_0xd5ef6d);}else{try{await this[_0xc1d269(0x567)](_0xd5ef6d);}catch(_0x2d4b84){}await this['updateLastTransactionId'](_0xd5ef6d['id']),await this[_0xc1d269(0x1b5)](_0xd5ef6d['id']);}}async[_0x359c2e(0x567)](_0x4478d6){const _0x43e5ed=_0x359c2e;switch(_0x4478d6[_0x43e5ed(0x516)]){case _0x203df2[_0x43e5ed(0x529)]:await this[_0x43e5ed(0x518)](_0x4478d6);break;case _0x203df2[_0x43e5ed(0x1e5)]:await this[_0x43e5ed(0xe3)](_0x4478d6);break;case _0x203df2[_0x43e5ed(0x2eb)]:await this[_0x43e5ed(0x34b)](_0x4478d6);break;case _0x203df2[_0x43e5ed(0x5ce)]:await this['handleObjectDelete'](_0x4478d6);break;default:throw new _0x2e0415(_0x2e0415[_0x43e5ed(0xc9)][_0x43e5ed(0x2d9)],{'payload':_0x4478d6});}}async[_0x359c2e(0x1b5)](_0x3249c1){const _0x75039=_0x359c2e;if(this[_0x75039(0x2de)][_0x75039(0x531)](_0x3249c1)){const _0x48c446=this[_0x75039(0x2de)][_0x75039(0x265)](_0x3249c1);this[_0x75039(0x2de)]['delete'](_0x3249c1),await this[_0x75039(0x29d)](_0x48c446);}}async[_0x359c2e(0x33a)](_0x1f5447){const _0x557e84=_0x359c2e;switch(_0x1f5447['action']){case _0x203df2['RequestFile']:return this[_0x557e84(0x4a6)](_0x1f5447);case _0x203df2[_0x557e84(0xf9)]:return this[_0x557e84(0x15d)](_0x1f5447);case _0x203df2[_0x557e84(0x635)]:return this[_0x557e84(0x5e0)](_0x1f5447);case _0x203df2['RequestFileWrite']:return this[_0x557e84(0x518)](_0x1f5447);default:throw new _0x2e0415(_0x2e0415[_0x557e84(0xc9)][_0x557e84(0x2d9)],{'payload':_0x1f5447});}}async[_0x359c2e(0x518)](_0x1a67c8){const _0x490595=_0x359c2e;if(!_0x1a67c8[_0x490595(0x3f4)]||void 0x0===_0x1a67c8[_0x490595(0x510)]||!_0x1a67c8[_0x490595(0x324)])return void await this[_0x490595(0x1e6)](_0x1a67c8);const _0x569ed7=_0x5520ee(_0x1a67c8['path'],_0x1a67c8[_0x490595(0x103)]);this[_0x490595(0xd4)][_0x490595(0x531)](_0x569ed7)||(this[_0x490595(0xd4)][_0x490595(0x2f9)](_0x569ed7,[]),await this['createPendingFileWrite'](_0x1a67c8)),this['setPendingFileSyncingPayload'](_0x1a67c8,_0x569ed7);const _0x3530f9=this[_0x490595(0xd4)][_0x490595(0x265)](_0x569ed7);if(_0x3530f9[_0x1a67c8[_0x490595(0x510)]]=_0x1a67c8['data'],_0x3530f9[_0x490595(0x5d5)](_0x11c2dc=>_0x11c2dc)['length']<_0x1a67c8[_0x490595(0x324)])return;const _0x21112b=_0x291aa1(_0x3530f9,_0x1a67c8[_0x490595(0x103)],_0x1a67c8[_0x490595(0x2d7)]);await this['writeFile'](_0x21112b,_0x1a67c8[_0x490595(0x4a5)]),await this['deletePendingFile'](_0x1a67c8),this[_0x490595(0xd4)][_0x490595(0x1c7)](_0x569ed7),_0x21773c[_0x490595(0x226)](_0xdaaeaa[_0x490595(0x15a)],{'type':_0x490595(0x1b4),'label':this[_0x490595(0x140)],'nodeId':this['localNode'][_0x490595(0x22e)](),'nodeType':this[_0x490595(0x1ac)][_0x490595(0x2d7)],'clusterId':this['clusterId'],'kind':_0x883b7d[_0x490595(0x365)]['File'],'path':_0x1a67c8[_0x490595(0x4a5)],'fileName':_0x1a67c8[_0x490595(0x103)],'fileType':_0x1a67c8[_0x490595(0x2d7)],'size':_0x21112b[_0x490595(0x22d)]});const _0x21d605=this['pendingFilesTransactions'][_0x490595(0x265)](_0x1a67c8[_0x490595(0x4a5)])??[];for(const _0x394494 of _0x21d605)await this['processTransactionPayload'](_0x394494);this[_0x490595(0x12b)][_0x490595(0x1c7)](_0x1a67c8[_0x490595(0x4a5)]),this[_0x490595(0x42d)][_0x490595(0x9a)]({'event':_0x883b7d[_0x490595(0x31d)][_0x490595(0x529)],'payload':{'file':{'kind':_0x883b7d['ObjectKind']['File'],'path':_0x1a67c8[_0x490595(0x4a5)],'type':_0x21112b[_0x490595(0x2d7)],'size':_0x21112b[_0x490595(0x22d)],'name':_0x1a67c8['name'],'pathName':_0x569ed7}}});}async[_0x359c2e(0xe3)](_0xd243f8){const _0x4c954d=_0x359c2e;await this[_0x4c954d(0x316)][_0x4c954d(0x38b)](_0xd243f8[_0x4c954d(0x4a5)]);const [_0x504572,_0x558df9]=_0x54157d(_0xd243f8[_0x4c954d(0x4a5)]);this[_0x4c954d(0x42d)][_0x4c954d(0x9a)]({'event':_0x883b7d[_0x4c954d(0x31d)][_0x4c954d(0x1e5)],'payload':{'folder':{'kind':_0x883b7d[_0x4c954d(0x365)][_0x4c954d(0x332)],'name':_0x558df9,'path':_0x504572,'pathName':_0xd243f8['path']}}});}async[_0x359c2e(0x596)](_0x442777){const _0x15c369=_0x359c2e;if(!this[_0x15c369(0x3eb)](_0x442777))return;const _0x55ea83=await this[_0x15c369(0x45f)](_0x442777[_0x15c369(0x4a5)]),[_0x46ed06,_0x399d99]=_0x54157d(_0x442777['path']);this[_0x15c369(0x42d)]['publish']({'event':_0x55ea83===_0x883b7d['ObjectKind'][_0x15c369(0x332)]?_0x883b7d['StorageEventType'][_0x15c369(0x423)]:_0x883b7d[_0x15c369(0x31d)][_0x15c369(0x154)],'payload':{'name':_0x399d99,'path':_0x46ed06,'pathName':_0x442777[_0x15c369(0x4a5)]}});}async[_0x359c2e(0x34b)](_0x486650){const _0x4f941f=_0x359c2e;if(!this[_0x4f941f(0x3eb)](_0x486650))return this['pendingFilesRename'][_0x4f941f(0x2f9)](_0x486650[_0x4f941f(0x1cf)],this[_0x4f941f(0x430)][_0x4f941f(0x265)](_0x486650['path'])??_0x486650[_0x4f941f(0x4a5)]),void this[_0x4f941f(0x430)][_0x4f941f(0x1c7)](_0x486650[_0x4f941f(0x4a5)]);this['pendingFilesRename'][_0x4f941f(0x1c7)](_0x486650[_0x4f941f(0x4a5)]);const _0x1800cf=await this[_0x4f941f(0x316)][_0x4f941f(0x52f)](_0x486650[_0x4f941f(0x4a5)],_0x486650['newPath']),[_0x27c37e,_0x5949ff]=_0x54157d(_0x486650['path']),[_0x1be5f1,_0x18a370]=_0x54157d(_0x486650['newPath']);this[_0x4f941f(0x42d)][_0x4f941f(0x9a)]({'event':_0x1800cf===_0x883b7d[_0x4f941f(0x365)][_0x4f941f(0x332)]?_0x883b7d[_0x4f941f(0x31d)][_0x4f941f(0x2b7)]:_0x883b7d[_0x4f941f(0x31d)]['FileMove'],'payload':{'name':_0x18a370,'path':_0x1be5f1,'pathName':_0x486650['newPath'],'oldName':_0x5949ff,'oldPath':_0x27c37e,'oldPathName':_0x486650[_0x4f941f(0x4a5)]}});}['shouldProcessTransaction'](_0x5eba86){const _0x586574=_0x359c2e,_0x106ee4=this['pendingFilesRename'][_0x586574(0x265)](_0x5eba86['path'])??_0x5eba86['path'];let _0x6598d2=!0x1;for(const _0x33a179 of this[_0x586574(0xd4)]['keys']())if(_0x33a179['startsWith'](_0x106ee4)){const _0xfb3592=this[_0x586574(0x12b)][_0x586574(0x265)](_0x33a179)??[];_0xfb3592[_0x586574(0x221)](_0x5eba86),this[_0x586574(0x12b)][_0x586574(0x2f9)](_0x33a179,_0xfb3592),_0x6598d2=!0x0;}return!_0x6598d2;}async[_0x359c2e(0x320)](_0x1f28b6){const _0x5b9d74=_0x359c2e;if(!_0x1f28b6['id'])throw new _0x2e0415(_0x2e0415[_0x5b9d74(0xc9)][_0x5b9d74(0x2d9)],{'message':_0x5b9d74(0x563)});await this['transactionService']['writeTransaction'](_0x1f28b6,this['label'],this[_0x5b9d74(0x626)]),await this['updateLastTransactionId'](_0x1f28b6['id']);}async[_0x359c2e(0x204)](_0x48cef4){const _0x5bb555=_0x359c2e;this[_0x5bb555(0x626)]=_0x48cef4;const _0x35c6d4=new File([new Blob([this[_0x5bb555(0x626)]])],_0x3cdf83,{'type':_0x5bb555(0x55e)});await this[_0x5bb555(0x425)](_0x35c6d4,'/');}async['handleFileRequest'](_0x14e59f){const _0x349264=_0x359c2e;try{const _0x5bb684=await this[_0x349264(0x265)](_0x14e59f[_0x349264(0x4a5)]+'/'+_0x14e59f[_0x349264(0x103)]);if(await _0x1a9366(_0x5bb684)!==_0x14e59f[_0x349264(0xeb)])return;_0x14e59f[_0x349264(0x3f8)]=this['localNode'][_0x349264(0x22e)](),_0x14e59f[_0x349264(0x516)]=_0x203df2[_0x349264(0xf9)],await this[_0x349264(0xcf)](_0x14e59f,[_0x14e59f['sourceId']]);}catch(_0x2b367b){}}async[_0x359c2e(0x15d)](_0x45c1a2){const _0x272411=_0x359c2e,_0x462513=_0x5520ee(_0x45c1a2['path'],_0x45c1a2[_0x272411(0x103)]);if(!this[_0x272411(0x3b7)][_0x272411(0x531)](_0x462513))return;const _0x27f22c=this['objectRequests'][_0x272411(0x265)](_0x462513);_0x27f22c['action']=_0x203df2[_0x272411(0x635)];const _0x168e73=_0x45c1a2['answererId'];if(!_0x168e73)throw new _0x2e0415(_0x2e0415[_0x272411(0xc9)][_0x272411(0x2d9)],{'message':_0x272411(0x2c6)});this[_0x272411(0x3b7)][_0x272411(0x1c7)](_0x462513),this[_0x272411(0x409)][_0x272411(0x531)](_0x168e73)||this[_0x272411(0x409)][_0x272411(0x2f9)](_0x168e73,new Map()),this[_0x272411(0x409)]['get'](_0x168e73)[_0x272411(0x2f9)](_0x462513,[_0x27f22c,this[_0x272411(0x340)](_0x168e73,_0x462513)]),_0x27f22c[_0x272411(0x3f8)]=_0x168e73,this['send'](_0x27f22c,[_0x168e73]);}async['handleFileSync'](_0x3596af){const _0x2abfd2=_0x359c2e,_0x3d32ba=_0x5520ee(_0x3596af[_0x2abfd2(0x4a5)],_0x3596af[_0x2abfd2(0x103)]),_0x215cfc=await this[_0x2abfd2(0x265)](_0x3d32ba),_0x20c73a={..._0x3596af,'answererId':this[_0x2abfd2(0x1ac)][_0x2abfd2(0x22e)](),'action':_0x203df2[_0x2abfd2(0x45d)]};await this[_0x2abfd2(0x558)](_0x215cfc,_0x20c73a,[_0x3596af['sourceId']]);}async[_0x359c2e(0x558)](_0x1f86fc,_0x1faba4,_0x24aa66){const _0x59f668=_0x359c2e,_0x1618b2=await _0x1eb665(_0x1f86fc);for(const [_0x300a60,_0x258b4f]of _0x1618b2[_0x59f668(0x406)]()){const _0x7a35={..._0x1faba4,'type':_0x1f86fc[_0x59f668(0x2d7)],'data':_0x258b4f,'index':_0x300a60,'total':_0x1618b2[_0x59f668(0x5cb)]};this[_0x59f668(0xcf)](_0x7a35,_0x24aa66);}}async[_0x359c2e(0x2cb)](_0x30bd16){const _0x4fc656=_0x359c2e;try{const _0x11ddad=_0x5520ee(_0x30bd16[_0x4fc656(0x4a5)],_0x30bd16['name']),_0x116593=_0x11ddad+_0x73f2de;await this[_0x4fc656(0x45f)](_0x116593);const [,_0x2a5b06]=this['pendingFilesSyncing'][_0x4fc656(0x265)](_0x30bd16['answererId'])?.['get'](_0x11ddad)??[];_0x2a5b06&&(clearTimeout(_0x2a5b06),this[_0x4fc656(0x409)][_0x4fc656(0x265)](_0x30bd16[_0x4fc656(0x3f8)])[_0x4fc656(0x1c7)](_0x11ddad));}catch(_0xe79ca7){}}async[_0x359c2e(0x18b)](){const _0x28a81f=_0x359c2e,_0x2bf7f1=await this[_0x28a81f(0x5c0)][_0x28a81f(0x50b)](this['label'],this['lastTransactionId']);for(const _0x28707a of _0x2bf7f1)await this[_0x28a81f(0x29d)](_0x28707a);}async['syncPendingFiles'](){const _0x258f47=_0x359c2e,_0x43c876=await this[_0x258f47(0x87)]('/',!0x0,!0x0),_0x53ec1=async _0x5c8bf1=>{const _0x300819=_0x258f47;for(const _0x4d03a1 of _0x5c8bf1){if(_0x4d03a1[_0x300819(0x170)]===_0x883b7d['ObjectKind'][_0x300819(0x332)]){_0x4d03a1[_0x300819(0x406)]&&_0x4d03a1[_0x300819(0x406)][_0x300819(0x5cb)]>0x0&&await _0x53ec1(_0x4d03a1[_0x300819(0x406)]);continue;}if(!_0x4d03a1['name'][_0x300819(0x2b4)](_0x73f2de))continue;const _0x2b3c34=await this[_0x300819(0x265)](_0x4d03a1['pathName']),_0x35d161=await _0x2b3c34[_0x300819(0x4b3)](),_0x3bc3b8=_0x4d03a1[_0x300819(0x103)][_0x300819(0x4f6)](_0x73f2de,''),_0x3150b0={'payloadType':_0x205e05[_0x300819(0x4f5)],'action':_0x203df2[_0x300819(0x589)],'sourceId':this[_0x300819(0x1ac)][_0x300819(0x22e)](),'type':'','path':_0x4d03a1[_0x300819(0x4a5)],'name':_0x3bc3b8,'checksum':_0x35d161},_0x1a2bc3=_0x5520ee(_0x4d03a1[_0x300819(0x4a5)],_0x3bc3b8);this[_0x300819(0x3b7)][_0x300819(0x2f9)](_0x1a2bc3,_0x3150b0);}};await _0x53ec1(_0x43c876);}async['createPendingFileWrite'](_0x432f99){const _0x3e870b=_0x359c2e,_0x3038ec=new File([new Blob([_0x432f99[_0x3e870b(0xeb)]])],''+_0x432f99['name']+_0x73f2de,{'type':_0x3e870b(0x55e)});await this[_0x3e870b(0x425)](_0x3038ec,_0x432f99['path']);}[_0x359c2e(0x340)](_0x5edd50,_0x525bf6){const _0xcd90bb=_0x359c2e,[_0x5b5346,_0x146a57]=this[_0xcd90bb(0x409)][_0xcd90bb(0x265)](_0x5edd50)?.['get'](_0x525bf6)??[];return _0x146a57&&clearTimeout(_0x146a57),setTimeout(()=>{const _0x4b5f84=_0xcd90bb,[_0x3fb7ca,_0x4f1217]=this[_0x4b5f84(0x409)]['get'](_0x5edd50)[_0x4b5f84(0x265)](_0x525bf6);this[_0x4b5f84(0x343)](_0x3fb7ca,_0x4f1217);},0xea60);}async[_0x359c2e(0x343)](_0x6935c5,_0x56c1fd){const _0x582351=_0x359c2e;clearTimeout(_0x56c1fd),_0x6935c5[_0x582351(0x516)]=_0x203df2[_0x582351(0x589)],this['objectRequests'][_0x582351(0x2f9)](_0x5520ee(_0x6935c5[_0x582351(0x4a5)],_0x6935c5[_0x582351(0x103)]),_0x6935c5),this['send'](_0x6935c5);}[_0x359c2e(0x1c6)](_0x17b2c9,_0x2d66a2){const _0x3387c3=_0x359c2e;this[_0x3387c3(0x409)][_0x3387c3(0x531)](_0x17b2c9['answererId'])||this[_0x3387c3(0x409)][_0x3387c3(0x2f9)](_0x17b2c9['answererId'],new Map());const [_0x4474cc]=this[_0x3387c3(0x409)][_0x3387c3(0x265)](_0x17b2c9[_0x3387c3(0x3f8)])[_0x3387c3(0x265)](_0x2d66a2)??[{'payloadType':_0x205e05['Request'],'action':_0x203df2[_0x3387c3(0x589)],'sourceId':this[_0x3387c3(0x1ac)][_0x3387c3(0x22e)](),'type':_0x17b2c9['type'],'name':_0x17b2c9[_0x3387c3(0x103)],'path':_0x17b2c9[_0x3387c3(0x4a5)],'checksum':_0x17b2c9[_0x3387c3(0xeb)],'answererId':_0x17b2c9[_0x3387c3(0x3f8)]}];this[_0x3387c3(0x409)][_0x3387c3(0x265)](_0x17b2c9['answererId'])[_0x3387c3(0x2f9)](_0x2d66a2,[_0x4474cc,this[_0x3387c3(0x340)](_0x17b2c9[_0x3387c3(0x3f8)],_0x2d66a2)]);}async['writeFile'](_0x3e0acf,_0x1d4123){const _0x12d33e=_0x359c2e;await this[_0x12d33e(0x316)]['writeFile'](_0x3e0acf,_0x1d4123);}async[_0x359c2e(0x45f)](_0x4bb70d){const _0xaeef5a=_0x359c2e;try{return await this[_0xaeef5a(0x316)][_0xaeef5a(0x45f)](_0x4bb70d);}catch(_0x4b8171){return await this[_0xaeef5a(0x316)][_0xaeef5a(0x45f)](_0x4bb70d+_0x73f2de);}}async[_0x359c2e(0x52f)](_0x3a53ea,_0x337364){const _0x30dbee=_0x359c2e;try{return await this['objectStoreConnector'][_0x30dbee(0x52f)](_0x3a53ea,_0x337364);}catch(_0x5c0d20){return await this[_0x30dbee(0x316)][_0x30dbee(0x52f)](_0x3a53ea+_0x73f2de,_0x337364+_0x73f2de);}}[_0x359c2e(0x44d)](){const _0x6427fe=_0x359c2e;this[_0x6427fe(0x528)]&&clearTimeout(this[_0x6427fe(0x528)]),this[_0x6427fe(0x528)]=setTimeout(async()=>{const _0x504a56=_0x6427fe;delete this['debounceStats'];const _0x129479=await this[_0x504a56(0x316)][_0x504a56(0xfe)]('/');this[_0x504a56(0x43f)]?.[_0x504a56(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x504a56(0x167)],'content':{'type':_0x114c1e[_0x504a56(0xec)],'label':this[_0x504a56(0x140)],'stats':{'timestamp':Date[_0x504a56(0x4a7)](),'storage':_0x129479,'messagesSent':this[_0x504a56(0x3d8)],'messagesReceived':this[_0x504a56(0x12d)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x504a56(0x1bf)],'writes':this[_0x504a56(0x652)],'reads':this[_0x504a56(0x272)]}}}),_0x21773c[_0x504a56(0xc1)](_0xdaaeaa['ObjectStorage'],'ccc'+this[_0x504a56(0xff)]+'ccc'+this[_0x504a56(0x140)],_0x129479);},0x1388);}}class _0x1a37fc extends _0x30cd40{['mediaStream'];constructor(_0x1d1510,_0x5bc7f8,_0x27dbf9){super(_0x1d1510,_0x5bc7f8),this['mediaStream']=_0x27dbf9;}[_0x359c2e(0xce)](){const _0x508149=_0x359c2e;return _0x883b7d[_0x508149(0x3f6)]['Media'];}[_0x359c2e(0x455)](){return this['mediaStream'];}['getInternalStreamId'](){const _0x2a6c54=_0x359c2e;return this[_0x2a6c54(0xca)]['id'];}}class _0x148a13 extends _0x1a37fc{[_0x359c2e(0x414)];[_0x359c2e(0x14b)];['topic'];[_0x359c2e(0x245)]=_0x4e9161();constructor(_0x3a3076,_0x115e06,_0x2ff1f4,_0x25ec09,_0x3bc459){const _0x1c8bcd=_0x359c2e;super(_0x3a3076,_0x115e06,_0x2ff1f4),this['remoteId']=_0x25ec09,this[_0x1c8bcd(0x14b)]=_0x3bc459;}[_0x359c2e(0x111)](){const _0x5819bb=_0x359c2e;this[_0x5819bb(0x412)](_0x5819bb(0x1a3)),this[_0x5819bb(0x412)](_0x5819bb(0x105)),super[_0x5819bb(0x111)]();}[_0x359c2e(0xf6)](_0x982ab5){const _0x2026d9=_0x359c2e;if(!this[_0x2026d9(0x2aa)])throw new _0x2e0415(_0x2e0415[_0x2026d9(0xc9)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x2026d9(0x97)][_0x2026d9(0x22e)](),'remoteId':this[_0x2026d9(0x414)]});this[_0x2026d9(0x2aa)][_0x2026d9(0x9a)]({'sourceId':this[_0x2026d9(0x97)][_0x2026d9(0x22e)](),'content':{'action':_0x218304[_0x2026d9(0xd5)],'track':_0x982ab5,'stream':this[_0x2026d9(0xca)],'priority':_0x883b7d[_0x2026d9(0x20f)]['Default'],'params':this['getInternalTrackParams'](_0x982ab5['kind'],this['params'])}});}[_0x359c2e(0x412)](_0x41f894){const _0x5d3b3c=_0x359c2e,_0x2a6937=this['getTrack'](_0x41f894);if(_0x2a6937){if(!this[_0x5d3b3c(0x2aa)])return null;this[_0x5d3b3c(0x2aa)]['publish']({'sourceId':this[_0x5d3b3c(0x97)][_0x5d3b3c(0x22e)](),'content':{'action':_0x218304[_0x5d3b3c(0x3f2)],'track':_0x2a6937,'stream':this['mediaStream']}});}return _0x2a6937;}[_0x359c2e(0xaf)](_0x4a362a){const _0x209679=_0x359c2e;if(!this[_0x209679(0x2aa)])throw new _0x2e0415(_0x2e0415['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x209679(0x140)],'ownerId':this['owner'][_0x209679(0x22e)](),'remoteId':this[_0x209679(0x414)]});this[_0x209679(0x2aa)][_0x209679(0x9a)]({'sourceId':this[_0x209679(0x97)][_0x209679(0x22e)](),'content':{'action':_0x218304[_0x209679(0x5ac)],'priority':_0x4a362a,'stream':this[_0x209679(0xca)]}});}[_0x359c2e(0x570)]({trackKinds:_0x4c9d1e,params:_0x58626f},_0x4faa2e){const _0x20d752=_0x359c2e;if(!this[_0x20d752(0x2aa)])throw new _0x2e0415(_0x2e0415[_0x20d752(0xc9)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x20d752(0x140)],'ownerId':this[_0x20d752(0x97)][_0x20d752(0x22e)](),'remoteId':this['remoteId']});for(const _0x10029f of this[_0x20d752(0xca)][_0x20d752(0x573)]())_0x4c9d1e[_0x20d752(0x457)](_0x10029f[_0x20d752(0x170)])&&this[_0x20d752(0x2aa)][_0x20d752(0x9a)]({'sourceId':this[_0x20d752(0x97)][_0x20d752(0x22e)](),'content':{'action':_0x218304['Add'],'track':_0x10029f,'stream':this[_0x20d752(0xca)],'priority':_0x4faa2e,'params':this[_0x20d752(0x10a)](_0x10029f[_0x20d752(0x170)],_0x58626f)}});}[_0x359c2e(0x195)]({params:_0x571b31}){const _0x4dbe16=_0x359c2e;if(!this[_0x4dbe16(0x2aa)])throw new _0x2e0415(_0x2e0415['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x4dbe16(0x140)],'ownerId':this[_0x4dbe16(0x97)][_0x4dbe16(0x22e)](),'remoteId':this[_0x4dbe16(0x414)]});for(const _0x596f1a of this[_0x4dbe16(0xca)]['getTracks']())this[_0x4dbe16(0x2aa)][_0x4dbe16(0x9a)]({'sourceId':this[_0x4dbe16(0x97)][_0x4dbe16(0x22e)](),'content':{'action':_0x218304[_0x4dbe16(0x5ac)],'stream':this[_0x4dbe16(0xca)],'params':this['getInternalTrackParams'](_0x596f1a[_0x4dbe16(0x170)],_0x571b31)}});}[_0x359c2e(0x244)]({trackKinds:_0x3141a1}){const _0x305f3f=_0x359c2e;if(this[_0x305f3f(0x2aa)]){for(const _0x3992d2 of this['mediaStream'][_0x305f3f(0x573)]())_0x3141a1[_0x305f3f(0x457)](_0x3992d2[_0x305f3f(0x170)])&&this[_0x305f3f(0x2aa)][_0x305f3f(0x9a)]({'sourceId':this[_0x305f3f(0x97)][_0x305f3f(0x22e)](),'content':{'action':_0x218304[_0x305f3f(0x3f2)],'stream':this['mediaStream'],'track':_0x3992d2}});}}[_0x359c2e(0x253)](_0x29bbdc){const _0x3cc30d=_0x359c2e;this[_0x3cc30d(0x2aa)]=_0x29bbdc;}[_0x359c2e(0x569)](_0x1c9d2c){const _0x56feb2=_0x359c2e;_0x1c9d2c===this[_0x56feb2(0x2aa)]&&(delete this['topic'],this[_0x56feb2(0x245)][_0x56feb2(0x9a)]());}['onUnregisterPublisher'](_0xc7c40){const _0x65a260=_0x359c2e;return this[_0x65a260(0x245)][_0x65a260(0x570)](_0xc7c40);}[_0x359c2e(0x63a)](_0x2ac2c3){const _0x429fb6=_0x359c2e;return this[_0x429fb6(0xca)]['getTracks']()[_0x429fb6(0x3c6)](_0xa8f5e7=>_0xa8f5e7[_0x429fb6(0x170)]===_0x2ac2c3)||null;}[_0x359c2e(0x10a)](_0x115d6c,_0x5c6d2b){const _0x13a5f0=_0x359c2e;let _0x5045ce;return _0x13a5f0(0x105)===_0x115d6c&&_0x5c6d2b?.['video']&&'boolean'!=typeof _0x5c6d2b[_0x13a5f0(0x105)]&&(_0x5045ce={'kind':_0x13a5f0(0x105),..._0x5c6d2b[_0x13a5f0(0x105)]},_0x5045ce[_0x13a5f0(0x3b9)]=this['getResolution']()),'audio'===_0x115d6c&&_0x5c6d2b?.[_0x13a5f0(0x1a3)]&&_0x13a5f0(0x619)!=typeof _0x5c6d2b[_0x13a5f0(0x1a3)]&&(_0x5045ce={'kind':_0x13a5f0(0x1a3),..._0x5c6d2b[_0x13a5f0(0x1a3)]}),_0x5045ce;}['getResolution'](){const _0x20676e=_0x359c2e;let _0x3ad3e1={'width':0x0,'height':0x0};const _0x4c2b73=this[_0x20676e(0xca)]['getVideoTracks']();if(_0x4c2b73[_0x20676e(0x5cb)]>0x0){const _0x4c0432=_0x4c2b73[0x0][_0x20676e(0x181)]();_0x4c0432[_0x20676e(0x540)]&&_0x4c0432[_0x20676e(0x346)]&&(_0x3ad3e1={'width':_0x4c0432[_0x20676e(0x540)],'height':_0x4c0432[_0x20676e(0x346)]});}return _0x3ad3e1;}}class _0x45ad80 extends _0x1a37fc{[_0x359c2e(0xff)];[_0x359c2e(0x2c9)]=_0x883b7d[_0x359c2e(0x20f)][_0x359c2e(0x216)];[_0x359c2e(0x349)]=new Map();[_0x359c2e(0xb1)]=new Map();constructor(_0x1815b3,_0x415692,_0x5b8bf4,_0x13ce68){const _0x38f9a8=_0x359c2e;super(_0x1815b3,_0x415692,_0x5b8bf4 instanceof MediaStream?_0x5b8bf4:_0x5b8bf4[_0x38f9a8(0x4e4)]?_0x5b8bf4['srcObject']:_0x5b8bf4[_0x38f9a8(0x5c5)]()),this[_0x38f9a8(0xff)]=_0x13ce68,this[_0x38f9a8(0xca)][_0x38f9a8(0x573)]()[_0x38f9a8(0x600)](_0x6bb70=>this[_0x38f9a8(0x261)](_0x6bb70)),_0x21773c[_0x38f9a8(0x226)](_0xdaaeaa[_0x38f9a8(0x628)],{'type':_0x38f9a8(0x9a),'label':this[_0x38f9a8(0x140)],'nodeId':this[_0x38f9a8(0x97)][_0x38f9a8(0x22e)](),'nodeType':this[_0x38f9a8(0x97)]['type'],'clusterId':this[_0x38f9a8(0xff)],'streamId':this['getInternalStreamId'](),'trackKinds':this['mediaStream'][_0x38f9a8(0x573)]()[_0x38f9a8(0x391)](_0x432274=>_0x432274['kind'])});}['destroy'](){const _0x3060fa=_0x359c2e;this[_0x3060fa(0xb1)][_0x3060fa(0x22d)]>0x0&&(this['outgoingStreams']['forEach'](_0x383774=>{const _0x461f20=_0x3060fa;_0x383774['unregisterSystemPublisher'](),_0x383774[_0x461f20(0x111)]();}),this[_0x3060fa(0xb1)][_0x3060fa(0x288)]()),this[_0x3060fa(0x349)][_0x3060fa(0x600)](_0x335150=>_0x335150()),super[_0x3060fa(0x111)]();}[_0x359c2e(0x9a)](_0x2e218d){const _0x49b398=_0x359c2e;this[_0x49b398(0x43f)][_0x49b398(0x9a)]({'sourceId':this['owner'][_0x49b398(0x22e)](),'destinationIds':_0x2e218d?[_0x2e218d]:void 0x0,'propagate':!0x0,'messageType':_0x403a0f[_0x49b398(0x167)],'content':{'type':_0x114c1e[_0x49b398(0x58c)],'ownerId':this[_0x49b398(0x97)][_0x49b398(0x22e)](),'label':this['label'],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x49b398(0xca)][_0x49b398(0x573)]()[_0x49b398(0x391)](_0x15cfb5=>_0x15cfb5['kind'])}}});}['unpublish'](){const _0x58a82d=_0x359c2e;this[_0x58a82d(0x43f)]['publish']({'sourceId':this[_0x58a82d(0x97)]['getId'](),'propagate':!0x0,'messageType':_0x403a0f['Content'],'content':{'type':_0x114c1e[_0x58a82d(0x207)],'ownerId':this[_0x58a82d(0x97)][_0x58a82d(0x22e)](),'label':this[_0x58a82d(0x140)]}}),this['systemTopic'][_0x58a82d(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f['Content'],'content':{'type':_0x114c1e[_0x58a82d(0x447)],'label':this[_0x58a82d(0x140)]}}),_0x21773c['logServiceEvent'](_0xdaaeaa['MediaStream'],{'type':_0x58a82d(0x553),'label':this[_0x58a82d(0x140)],'nodeId':this[_0x58a82d(0x97)][_0x58a82d(0x22e)](),'nodeType':this[_0x58a82d(0x97)][_0x58a82d(0x2d7)],'clusterId':this['clusterId'],'streamId':this[_0x58a82d(0x177)]()});}[_0x359c2e(0x3a8)](){const _0x4ec5ac=_0x359c2e;return this[_0x4ec5ac(0x2c9)];}[_0x359c2e(0xaf)](_0x3b682b){const _0x36d345=_0x359c2e;this[_0x36d345(0x2c9)]=_0x3b682b,this[_0x36d345(0xb1)][_0x36d345(0x600)](_0x359295=>_0x359295[_0x36d345(0xaf)](_0x3b682b));}[_0x359c2e(0x446)](_0x2dc3f6,_0x5eda39){const _0x3f5492=_0x359c2e;if(!this[_0x3f5492(0xb1)][_0x3f5492(0x531)](_0x2dc3f6)){const _0xf0b212=new _0x148a13(this[_0x3f5492(0x97)],this[_0x3f5492(0x140)],this[_0x3f5492(0xca)],_0x2dc3f6,_0x5eda39),_0x2c2f5b=_0xf0b212[_0x3f5492(0xcc)](()=>{const _0x2a53c2=_0x3f5492;_0x2c2f5b(),this[_0x2a53c2(0xb1)][_0x2a53c2(0x265)](_0x2dc3f6)?.['destroy'](),this[_0x2a53c2(0xb1)][_0x2a53c2(0x1c7)](_0x2dc3f6);});this[_0x3f5492(0xb1)]['set'](_0x2dc3f6,_0xf0b212),_0xf0b212[_0x3f5492(0x4c5)](this['systemTopic']);}return this[_0x3f5492(0xb1)][_0x3f5492(0x265)](_0x2dc3f6);}[_0x359c2e(0x18c)](){const _0xfb91f2=_0x359c2e;return this[_0xfb91f2(0xca)]['id'];}[_0x359c2e(0x3f0)](_0x446da3){const _0x156cc5=_0x359c2e;this[_0x156cc5(0x43f)]['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x156cc5(0x167)],'content':{'type':_0x114c1e[_0x156cc5(0x5b4)],'label':this[_0x156cc5(0x140)],'trackKinds':[_0x446da3[_0x156cc5(0x170)]]}});}[_0x359c2e(0x261)](_0x32daca){const _0x324eb7=_0x359c2e,_0x26e1ba=()=>this[_0x324eb7(0x3f0)](_0x32daca);_0x32daca[_0x324eb7(0xae)](_0x324eb7(0x308),_0x26e1ba),_0x32daca[_0x324eb7(0xae)](_0x324eb7(0x27e),_0x26e1ba),this[_0x324eb7(0x349)][_0x324eb7(0x2f9)](_0x32daca[_0x324eb7(0x170)],()=>{const _0x35839c=_0x324eb7;_0x32daca['removeEventListener'](_0x35839c(0x308),_0x26e1ba),_0x32daca[_0x35839c(0x46e)](_0x35839c(0x27e),_0x26e1ba),this[_0x35839c(0x349)][_0x35839c(0x1c7)](_0x32daca[_0x35839c(0x170)]);});}}class _0x285752 extends _0x45ad80{['audioContext'];[_0x359c2e(0x180)]=[];[_0x359c2e(0x396)];[_0x359c2e(0x3b3)];['audioDestination'];[_0x359c2e(0x257)];[_0x359c2e(0x1ef)];[_0x359c2e(0x138)];[_0x359c2e(0x47f)];constructor(_0x2e5eb8,_0x5ac097,_0x1f952e,_0x3ebdaf,_0x4b90c3,_0x21fea5){const _0x148d73=_0x359c2e;if(super(_0x2e5eb8,_0x5ac097,_0x1f952e,_0x21fea5),this[_0x148d73(0x1ee)]=_0x4b90c3,this[_0x148d73(0x396)]=this[_0x148d73(0xca)],this[_0x148d73(0x257)]=document[_0x148d73(0x156)](_0x148d73(0x105)),this['sourceVideo'][_0x148d73(0x4ff)]=!0x0,this[_0x148d73(0x257)]['muted']=!0x0,this[_0x148d73(0x257)][_0x148d73(0x4e4)]=this[_0x148d73(0x396)],this[_0x148d73(0x257)][_0x148d73(0x45a)](),this[_0x148d73(0x257)][_0x148d73(0x2f3)]=()=>{const _0x44a077=_0x148d73;this[_0x44a077(0x257)]['play']();},this[_0x148d73(0x1ef)]=document[_0x148d73(0x156)](_0x148d73(0x1ef)),this[_0x148d73(0x138)]=this[_0x148d73(0x1ef)][_0x148d73(0x4ec)]('2d'),this['mediaStream']=this[_0x148d73(0x1ef)][_0x148d73(0x5c5)](_0x3ebdaf),this['audioDestination']=this[_0x148d73(0x1ee)]['createMediaStreamDestination'](),this[_0x148d73(0x396)]['getAudioTracks']()[_0x148d73(0x5cb)]>0x0){const _0x3a1479=this['clientStream']['getAudioTracks']()[0x0];this['audioSource']=this['audioContext'][_0x148d73(0x5e6)](new MediaStream([_0x3a1479])),this[_0x148d73(0x3b3)][_0x148d73(0x1da)](this[_0x148d73(0x159)]);}const _0x3cd362=this[_0x148d73(0x159)][_0x148d73(0x1c9)][_0x148d73(0x573)]()[0x0];this['mediaStream'][_0x148d73(0xf6)](_0x3cd362),this['interval']=setInterval(()=>{const _0x332404=_0x148d73;this[_0x332404(0x1ef)][_0x332404(0x540)]=this[_0x332404(0x257)][_0x332404(0x503)],this[_0x332404(0x1ef)]['height']=this[_0x332404(0x257)]['videoHeight'],this['sourceVideo'][_0x332404(0x503)]?(0x0!==this[_0x332404(0x396)][_0x332404(0x53e)]()[_0x332404(0x5cb)]&&this[_0x332404(0x396)]['getVideoTracks']()[0x0]['enabled']?this['mediaStream'][_0x332404(0x53e)]()[0x0]['enabled']=!0x0:this[_0x332404(0xca)][_0x332404(0x53e)]()[0x0][_0x332404(0x4b8)]=!0x1,0x0!==this[_0x332404(0x396)]['getAudioTracks']()[_0x332404(0x5cb)]&&this['clientStream'][_0x332404(0xe9)]()[0x0]['enabled']?this[_0x332404(0xca)][_0x332404(0xe9)]()[0x0][_0x332404(0x4b8)]=!0x0:this[_0x332404(0xca)][_0x332404(0xe9)]()[0x0]['enabled']=!0x1,this[_0x332404(0x138)][_0x332404(0x3df)](this[_0x332404(0x257)],0x0,0x0)):this['context']['clearRect'](0x0,0x0,this[_0x332404(0x1ef)][_0x332404(0x540)],this[_0x332404(0x1ef)][_0x332404(0x346)]);},0x3e8/_0x3ebdaf);}[_0x359c2e(0x111)](){const _0x50f2cf=_0x359c2e;clearInterval(this[_0x50f2cf(0x47f)]),this[_0x50f2cf(0x257)][_0x50f2cf(0x122)](),this[_0x50f2cf(0x1ef)][_0x50f2cf(0x122)](),this['audioSource']?.[_0x50f2cf(0x3a6)](),this[_0x50f2cf(0x159)]['disconnect'](),this[_0x50f2cf(0xca)][_0x50f2cf(0x573)]()[_0x50f2cf(0x600)](_0x42c044=>{const _0x593f5f=_0x50f2cf;_0x42c044[_0x593f5f(0x211)](),this[_0x593f5f(0xca)]['removeTrack'](_0x42c044);}),super['destroy']();}[_0x359c2e(0xf6)](_0x4fed7c){const _0x56c895=_0x359c2e,_0x1758f4=this[_0x56c895(0x63a)](_0x4fed7c[_0x56c895(0x170)]);_0x1758f4&&this[_0x56c895(0x412)](_0x1758f4),_0x56c895(0x1a3)!==_0x4fed7c[_0x56c895(0x170)]?(_0x56c895(0x105)===_0x4fed7c[_0x56c895(0x170)]&&this[_0x56c895(0x1cb)](_0x4fed7c),this[_0x56c895(0x261)](_0x4fed7c)):this[_0x56c895(0x3cc)](_0x4fed7c);}[_0x359c2e(0x412)](_0x40dd26){const _0x454d66=_0x359c2e,_0x52a6fd=this[_0x454d66(0x611)](_0x40dd26);return _0x52a6fd&&(_0x454d66(0x1a3)===_0x52a6fd[_0x454d66(0x170)]&&(this[_0x454d66(0x3b3)]?.[_0x454d66(0x3a6)](),this[_0x454d66(0x3b3)]=void 0x0),this[_0x454d66(0x349)]['get'](_0x52a6fd[_0x454d66(0x170)])?.(),this[_0x454d66(0x396)][_0x454d66(0x412)](_0x52a6fd)),_0x52a6fd;}[_0x359c2e(0x175)](_0xb0ab9e){const _0x3e4dbb=_0x359c2e;this[_0x3e4dbb(0x412)](_0xb0ab9e[_0x3e4dbb(0x170)]),this[_0x3e4dbb(0xf6)](_0xb0ab9e);}[_0x359c2e(0x45b)](_0x4672e7){const _0x1291d5=_0x359c2e;this[_0x1291d5(0x180)]=_0x4672e7;}['getTrack'](_0x30cb49){const _0x3d4241=_0x359c2e;return this[_0x3d4241(0x396)][_0x3d4241(0x573)]()['find'](_0x3a17cb=>_0x3a17cb[_0x3d4241(0x170)]===_0x30cb49)||null;}['getTrackFromParam'](_0x3195ec){const _0x33c907=_0x359c2e;return _0x33c907(0x2e4)==typeof _0x3195ec?this[_0x33c907(0x63a)](_0x3195ec):_0x3195ec;}[_0x359c2e(0x3cc)](_0x5eb48b){const _0x1c800d=_0x359c2e;_0x1c800d(0x3ce)===this[_0x1c800d(0x1ee)]['state']&&this[_0x1c800d(0x1ee)][_0x1c800d(0x551)](),this[_0x1c800d(0x396)][_0x1c800d(0xf6)](_0x5eb48b),this[_0x1c800d(0x3b3)]=this[_0x1c800d(0x1ee)][_0x1c800d(0x5e6)](this[_0x1c800d(0x396)]),this[_0x1c800d(0x3b3)]['connect'](this[_0x1c800d(0x159)]);}[_0x359c2e(0x1cb)](_0x37a3c3){const _0x438c84=_0x359c2e;this[_0x438c84(0x396)][_0x438c84(0xf6)](_0x37a3c3),this['sourceVideo']['load']();}}class _0x41ced0 extends _0x45ad80{}class _0x3970fb extends _0x314ed0{[_0x359c2e(0x1ac)];['clusterId'];['unsubscribeHandler']=new Map();[_0x359c2e(0x528)];constructor(_0x3332f1,_0x59ba8f,_0xf90b8e){const _0x4994ce=_0x359c2e;if(_0x4994ce(0x2e4)!=typeof _0x59ba8f)throw new _0x26d32b(_0x10cef2[_0x4994ce(0x133)],_0x4994ce(0x555));super(_0x3332f1,_0x59ba8f),this[_0x4994ce(0x1ac)]=_0x3332f1,this['clusterId']=_0xf90b8e,this[_0x4994ce(0x44d)]();}[_0x359c2e(0xa2)](){this['sendStats']();}[_0x359c2e(0xce)](){const _0x2af848=_0x359c2e;return _0x883b7d[_0x2af848(0x3f6)][_0x2af848(0x282)];}['publish'](_0x58e4ac,_0x47f468){const _0x397e2f=_0x359c2e;_0x21773c[_0x397e2f(0x35d)](_0x5e3d2b[_0x397e2f(0x282)],_0x397e2f(0x205),this[_0x397e2f(0x1ac)][_0x397e2f(0x22e)](),_0x58e4ac,_0x47f468),_0x21773c['logServiceEvent'](_0xdaaeaa[_0x397e2f(0x282)],{'type':'publish','label':this[_0x397e2f(0x140)],'nodeId':this[_0x397e2f(0x1ac)]['getId'](),'nodeType':this[_0x397e2f(0x1ac)]['type'],'clusterId':this[_0x397e2f(0xff)],'remoteIds':_0x47f468??[],'contentType':_0x58e4ac instanceof File?_0x883b7d[_0x397e2f(0x3f6)][_0x397e2f(0x317)]:_0x883b7d[_0x397e2f(0x3f6)][_0x397e2f(0x477)],'size':_0x58e4ac instanceof File?_0x58e4ac[_0x397e2f(0x22d)]:JSON[_0x397e2f(0x3bf)](_0x58e4ac)['length']}),this[_0x397e2f(0x44d)](),this['send'](_0x58e4ac,_0x47f468);}['subscribe'](_0x316a6f,_0x1ebcf3){const _0x1c6ed7=_0x359c2e;if(this[_0x1c6ed7(0x64e)][_0x1c6ed7(0x531)](_0x316a6f))throw new _0x26d32b(_0x10cef2[_0x1c6ed7(0x242)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x1c6ed7(0x64e)]['set'](_0x316a6f,this[_0x1c6ed7(0x49e)]((_0x4f6c4e,_0x4a06c0)=>{const _0x4cb6b5=_0x1c6ed7;'data'===_0x316a6f&&_0x4a06c0 instanceof File||!('file'!==_0x316a6f||_0x4a06c0 instanceof File)||(_0x21773c[_0x4cb6b5(0x35d)](_0x5e3d2b[_0x4cb6b5(0x282)],_0x4cb6b5(0x115),this[_0x4cb6b5(0x1ac)][_0x4cb6b5(0x22e)](),_0x4f6c4e,_0x4a06c0),_0x21773c['logServiceEvent'](_0xdaaeaa[_0x4cb6b5(0x282)],{'type':'subscribe','label':this['label'],'nodeId':this[_0x4cb6b5(0x1ac)][_0x4cb6b5(0x22e)](),'nodeType':this[_0x4cb6b5(0x1ac)][_0x4cb6b5(0x2d7)],'clusterId':this['clusterId'],'remoteId':_0x4f6c4e,'contentType':_0x316a6f,'size':_0x4a06c0 instanceof File?_0x4a06c0[_0x4cb6b5(0x22d)]:JSON[_0x4cb6b5(0x3bf)](_0x4a06c0)[_0x4cb6b5(0x5cb)]}),this[_0x4cb6b5(0x44d)](),_0x1ebcf3(_0x4f6c4e,_0x4a06c0));}));}[_0x359c2e(0x244)](_0x16e868){const _0x3fd139=_0x359c2e;this[_0x3fd139(0x64e)][_0x3fd139(0x265)](_0x16e868)?.(),this[_0x3fd139(0x64e)]['delete'](_0x16e868);}[_0x359c2e(0x111)](){const _0xf31210=_0x359c2e;this[_0xf31210(0x64e)][_0xf31210(0x600)](_0x220d8d=>_0x220d8d()),clearTimeout(this[_0xf31210(0x528)]),delete this['debounceStats'],super['destroy']();}[_0x359c2e(0x57d)](){const _0x40e14e=_0x359c2e;this[_0x40e14e(0x43f)]?.[_0x40e14e(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x40e14e(0x167)],'content':{'type':_0x114c1e[_0x40e14e(0x2f6)],'label':this[_0x40e14e(0x140)]}});}[_0x359c2e(0x44d)](){const _0x454f94=_0x359c2e;this[_0x454f94(0x528)]&&clearTimeout(this['debounceStats']),this[_0x454f94(0x528)]=setTimeout(()=>{const _0x102495=_0x454f94;this['systemTopic']?.['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x102495(0x167)],'content':{'type':_0x114c1e[_0x102495(0x377)],'label':this['label'],'stats':{'timestamp':Date[_0x102495(0x4a7)](),'storage':0x0,'messagesSent':this[_0x102495(0x3d8)],'messagesReceived':this[_0x102495(0x12d)],'bytesSent':this[_0x102495(0x52b)],'bytesReceived':this[_0x102495(0x1bf)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x24d1e8 extends _0x1a37fc{['localNode'];['internalId'];[_0x359c2e(0x431)];[_0x359c2e(0xff)];[_0x359c2e(0x64e)];[_0x359c2e(0x25c)];[_0x359c2e(0x3d5)];[_0x359c2e(0xb1)]=new Map();[_0x359c2e(0x212)];['subscribedTracks']=new Set();[_0x359c2e(0x3c9)];[_0x359c2e(0x126)]=_0x36be06();[_0x359c2e(0x349)]=new Map();constructor(_0x1add0f,_0x23b484,_0x79abf9,_0x1d122a,_0x1d6a05,_0x37acad){const _0x17dcf4=_0x359c2e;super(_0x23b484,_0x79abf9,new MediaStream()),this[_0x17dcf4(0x1ac)]=_0x1add0f,this['internalId']=_0x1d122a,this[_0x17dcf4(0x431)]=_0x1d6a05,this[_0x17dcf4(0xff)]=_0x37acad,this['mediaStream']['getTracks']()[_0x17dcf4(0x600)](_0x1328d3=>this[_0x17dcf4(0x261)](_0x1328d3));}[_0x359c2e(0x111)](){const _0x2cb6bc=_0x359c2e;this[_0x2cb6bc(0xb1)][_0x2cb6bc(0x22d)]>0x0&&(this[_0x2cb6bc(0xb1)]['forEach'](_0x1c9f7b=>{const _0x45733c=_0x2cb6bc;_0x1c9f7b[_0x45733c(0x331)](),_0x1c9f7b[_0x45733c(0x111)]();}),this['outgoingStreams'][_0x2cb6bc(0x288)]()),this[_0x2cb6bc(0x349)][_0x2cb6bc(0x600)](_0x178cd0=>_0x178cd0()),this['mediaStream'][_0x2cb6bc(0x573)]()[_0x2cb6bc(0x600)](_0x59719f=>this['mediaStream'][_0x2cb6bc(0x412)](_0x59719f)),this[_0x2cb6bc(0x3d5)]&&(clearTimeout(this[_0x2cb6bc(0x3d5)]),delete this[_0x2cb6bc(0x3d5)]),this[_0x2cb6bc(0x25c)]?.(),super[_0x2cb6bc(0x111)]();}[_0x359c2e(0x179)](_0x4dbd37){const _0xb44f3a=_0x359c2e;this[_0xb44f3a(0x64e)]=_0x4dbd37[_0xb44f3a(0x570)](({content:_0x5065af})=>{const _0x400957=_0xb44f3a;switch(_0x5065af['action']){case _0x218304['RemoteAdd']:if(_0x21773c[_0x400957(0x35d)](_0x5e3d2b[_0x400957(0x2b9)],_0x400957(0x24d),this[_0x400957(0x1ac)][_0x400957(0x22e)](),this['providerId']),_0x5065af[_0x400957(0x1c9)]['id']!==this['internalId']||_0x5065af[_0x400957(0x3c9)]!==this[_0x400957(0x3c9)])return;this[_0x400957(0x412)](_0x5065af[_0x400957(0x64a)][_0x400957(0x170)]),this[_0x400957(0xca)][_0x400957(0xf6)](_0x5065af[_0x400957(0x64a)]);for(const [_0x48be94,_0x513a9a]of this[_0x400957(0xb1)][_0x400957(0x406)]())try{_0x513a9a[_0x400957(0xf6)](_0x5065af['track']);}catch(_0x1ed321){_0x513a9a['destroy'](),this[_0x400957(0xb1)][_0x400957(0x1c7)](_0x48be94);}this['setupTrackEndedListeners'](_0x5065af['track']),this[_0x400957(0x43c)](),_0x400957(0x105)===_0x5065af[_0x400957(0x64a)][_0x400957(0x170)]&&this[_0x400957(0x212)]&&(this[_0x400957(0xca)]['active']?setTimeout(()=>this['renderElement']?.['play'](),0x0):setTimeout(()=>this[_0x400957(0x212)]?.['load'](),0x0),this[_0x400957(0x2a4)]());break;case _0x218304['RemoteRemove']:if(_0x5065af[_0x400957(0x1c9)]['id']!==this['internalId']||_0x5065af['providerId']!==this['providerId'])return;this['removeTrack'](_0x5065af[_0x400957(0x64a)][_0x400957(0x170)]),this[_0x400957(0x212)]&&'video'===_0x5065af[_0x400957(0x64a)][_0x400957(0x170)]&&(this[_0x400957(0x25c)]?.(),this['mediaStream']['getTracks']()['length']>0x0?this['renderElement']['load']():this[_0x400957(0x212)]['srcObject']=null);}});}['unregisterSubscriber'](){const _0x2ae0ab=_0x359c2e;this[_0x2ae0ab(0x64e)]?.(),this[_0x2ae0ab(0x349)][_0x2ae0ab(0x600)](_0x3fb324=>_0x3fb324()),delete this[_0x2ae0ab(0x64e)];}['getInternalStreamId'](){const _0x1873c5=_0x359c2e;return this[_0x1873c5(0x11e)];}[_0x359c2e(0x3ed)](_0x31bbf1){const _0x57bbcc=_0x359c2e;this[_0x57bbcc(0x11e)]=_0x31bbf1;}['getAvailableTrackKinds'](){return this['availableTrackKinds'];}[_0x359c2e(0x112)](_0x278d92){const _0x38e3a2=_0x359c2e;for(const _0xf2c946 of _0x278d92||this[_0x38e3a2(0x431)])if(!this[_0x38e3a2(0xca)]['getTracks']()[_0x38e3a2(0x3c6)](_0x38b74b=>_0x38b74b[_0x38e3a2(0x170)]===_0xf2c946))return!0x1;return!0x0;}['getResolution'](){const _0x5cd359=_0x359c2e;let _0x5cf43f={'width':0x0,'height':0x0};const _0x3a3267=this[_0x5cd359(0xca)][_0x5cd359(0x53e)]();if(_0x3a3267[_0x5cd359(0x5cb)]>0x0){const _0x25706b=_0x3a3267[0x0][_0x5cd359(0x181)]();_0x25706b[_0x5cd359(0x540)]&&_0x25706b[_0x5cd359(0x346)]&&(_0x5cf43f={'width':_0x25706b[_0x5cd359(0x540)],'height':_0x25706b[_0x5cd359(0x346)]});}return _0x5cf43f;}[_0x359c2e(0x4fa)](_0x36876f){const _0x3d1d7c=_0x359c2e;for(const _0x3ac9d4 of _0x36876f)if(!this[_0x3d1d7c(0x18f)]['has'](_0x3ac9d4))return!0x1;return!0x0;}['getShareableStream'](_0x5694b,_0x541d93){const _0x491dfe=_0x359c2e;if(!this['outgoingStreams'][_0x491dfe(0x531)](_0x5694b)){const _0x2c3e54=new _0x148a13(this[_0x491dfe(0x97)],this[_0x491dfe(0x140)],this[_0x491dfe(0xca)],_0x5694b,_0x541d93),_0x25c3e3=_0x2c3e54[_0x491dfe(0xcc)](()=>{const _0x4e6bcc=_0x491dfe;_0x25c3e3(),this[_0x4e6bcc(0xb1)][_0x4e6bcc(0x265)](_0x5694b)?.[_0x4e6bcc(0x111)](),this[_0x4e6bcc(0xb1)][_0x4e6bcc(0x1c7)](_0x5694b);});this['outgoingStreams'][_0x491dfe(0x2f9)](_0x5694b,_0x2c3e54),_0x2c3e54[_0x491dfe(0x4c5)](this['systemTopic']);}return this['outgoingStreams'][_0x491dfe(0x265)](_0x5694b);}['getShareableStreamId'](){return this['mediaStream']['id'];}[_0x359c2e(0x3a8)](){const _0x5cf98f=_0x359c2e;return _0x883b7d['MediaStreamPriority'][_0x5cf98f(0x216)];}['getSubscribedTracks'](){const _0x5eee2c=_0x359c2e;return Array[_0x5eee2c(0x163)](this['subscribedTracks']);}[_0x359c2e(0x570)](_0x563a4b){const _0x2efc17=_0x359c2e;let _0x2e4d9f=[];if(_0x563a4b){'object'!=typeof _0x563a4b[_0x2efc17(0x105)]||_0x563a4b[_0x2efc17(0x105)]['renderElement']instanceof HTMLVideoElement||!this[_0x2efc17(0x212)]||(_0x563a4b[_0x2efc17(0x105)]={'renderElement':this[_0x2efc17(0x212)]});try{(0x0,_0x883b7d[_0x2efc17(0x4b5)])(_0x563a4b);}catch(_0xf1a9a5){throw new _0x26d32b(_0x10cef2[_0x2efc17(0x42f)],_0x2efc17(0x4cd));}_0x563a4b['video']&&(_0x2e4d9f['push'](_0x2efc17(0x105)),_0x2efc17(0x619)!=typeof _0x563a4b[_0x2efc17(0x105)]&&_0x563a4b[_0x2efc17(0x105)]['renderElement']&&(this[_0x2efc17(0x212)]=_0x563a4b[_0x2efc17(0x105)][_0x2efc17(0x212)],_0x563a4b['video'][_0x2efc17(0x1b8)]||(_0x563a4b[_0x2efc17(0x105)][_0x2efc17(0x1b8)]={'width':this[_0x2efc17(0x212)][_0x2efc17(0xed)],'height':this['renderElement'][_0x2efc17(0x613)]}),delete _0x563a4b[_0x2efc17(0x105)][_0x2efc17(0x212)])),_0x563a4b[_0x2efc17(0x1a3)]&&_0x2e4d9f[_0x2efc17(0x221)](_0x2efc17(0x1a3));}else _0x2e4d9f=this[_0x2efc17(0x586)]();this[_0x2efc17(0x4fa)](_0x2e4d9f)||(_0x2e4d9f[_0x2efc17(0x600)](_0xe9148f=>this[_0x2efc17(0x18f)][_0x2efc17(0x5bf)](_0xe9148f)),this[_0x2efc17(0x43f)]['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x2efc17(0x167)],'content':{'type':_0x114c1e[_0x2efc17(0x334)],'label':this[_0x2efc17(0x140)],'ownerId':this[_0x2efc17(0x97)][_0x2efc17(0x22e)](),'trackKinds':_0x2e4d9f,'params':_0x563a4b}}),_0x21773c[_0x2efc17(0x226)](_0xdaaeaa[_0x2efc17(0x628)],{'type':'subscribe','label':this['label'],'nodeId':this[_0x2efc17(0x1ac)][_0x2efc17(0x22e)](),'nodeType':this[_0x2efc17(0x1ac)][_0x2efc17(0x2d7)],'clusterId':this['clusterId'],'sourceId':this[_0x2efc17(0x97)][_0x2efc17(0x22e)](),'streamId':this[_0x2efc17(0x11e)],'trackKinds':_0x2e4d9f}));}[_0x359c2e(0x195)](_0xa1ed66){const _0x60bdaa=_0x359c2e;try{(0x0,_0x883b7d[_0x60bdaa(0x4b5)])(_0xa1ed66);}catch(_0x45e47c){throw new _0x26d32b(_0x10cef2[_0x60bdaa(0x42f)],_0x60bdaa(0x4cd));}this[_0x60bdaa(0x3d5)]&&clearTimeout(this[_0x60bdaa(0x3d5)]),this[_0x60bdaa(0x3d5)]=setTimeout(()=>{const _0x373279=_0x60bdaa;delete this[_0x373279(0x3d5)],this[_0x373279(0x43f)]['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x373279(0x167)],'content':{'type':_0x114c1e[_0x373279(0xa5)],'label':this['label'],'ownerId':this[_0x373279(0x97)]['getId'](),'params':_0xa1ed66}});},0x1f4);}[_0x359c2e(0x244)](_0x41ecdb){const _0x460afd=_0x359c2e;_0x41ecdb||(_0x41ecdb=this['getAvailableTrackKinds']()),(_0x41ecdb=Array[_0x460afd(0x3cd)](_0x41ecdb)?_0x41ecdb:[_0x41ecdb])[_0x460afd(0x600)](_0xf57bf4=>this[_0x460afd(0x18f)][_0x460afd(0x1c7)](_0xf57bf4)),this[_0x460afd(0x43f)]['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x460afd(0x167)],'content':{'type':_0x114c1e['UnsubscribeMediaStream'],'label':this[_0x460afd(0x140)],'ownerId':this[_0x460afd(0x97)]['getId'](),'trackKinds':_0x41ecdb,'remainingTracks':this[_0x460afd(0x18f)]['size']}});}[_0x359c2e(0x59b)](_0x43654b){const _0x22d9b7=_0x359c2e;return this[_0x22d9b7(0x126)][_0x22d9b7(0x570)](_0x43654b);}['getProviderId'](){return this['providerId'];}[_0x359c2e(0x23a)](_0xb9d59f){const _0x55437a=_0x359c2e;this[_0x55437a(0x3c9)]!==_0xb9d59f&&(this[_0x55437a(0x3c9)]=_0xb9d59f,this[_0x55437a(0x126)][_0x55437a(0x9a)](_0xb9d59f));}[_0x359c2e(0x608)](_0xdf0f93){const _0xd36a01=_0x359c2e;this['trackEndedListeners'][_0xd36a01(0x265)](_0xdf0f93)?.(),this['trackEndedListeners']['delete'](_0xdf0f93);}['removeTrack'](_0x532662){const _0x303f8d=_0x359c2e,_0x293098=this[_0x303f8d(0xca)][_0x303f8d(0x573)]()['find'](_0x36cad8=>_0x36cad8[_0x303f8d(0x170)]===_0x532662);_0x293098&&(this[_0x303f8d(0xca)]['removeTrack'](_0x293098),this[_0x303f8d(0xb1)]['forEach'](_0x1eefb3=>_0x1eefb3[_0x303f8d(0x412)](_0x532662)),this[_0x303f8d(0x349)][_0x303f8d(0x265)](_0x532662)?.());}[_0x359c2e(0x43c)](){const _0x232105=_0x359c2e;this[_0x232105(0x212)]&&(this[_0x232105(0x212)]['srcObject']&&this[_0x232105(0x212)][_0x232105(0x4e4)]===this['mediaStream']||(this[_0x232105(0x212)][_0x232105(0x4e4)]=this[_0x232105(0xca)]));}[_0x359c2e(0x2a4)](){const _0x35dd9f=_0x359c2e;if(this['renderElement']&&!this[_0x35dd9f(0x25c)]&&_0x35dd9f(0x30d)!=typeof ResizeObserver){let _0x3f8d3d=this[_0x35dd9f(0x212)][_0x35dd9f(0xed)],_0x4cbf58=this[_0x35dd9f(0x212)]['clientHeight'];const _0x3b7db7=new ResizeObserver(_0x3b413e=>{const _0x3a46eb=_0x35dd9f,{width:_0xa7202,height:_0x90b19d}=_0x3b413e[0x0][_0x3a46eb(0x3e5)];_0x3f8d3d===_0xa7202&&_0x4cbf58===_0x90b19d||(_0x3f8d3d=Math[_0x3a46eb(0x38f)](_0xa7202),_0x4cbf58=Math[_0x3a46eb(0x38f)](_0x90b19d),this[_0x3a46eb(0x195)]({'video':{'maxResolution':{'width':_0xa7202,'height':_0x90b19d}}}));});_0x3b7db7[_0x35dd9f(0x1d1)](this['renderElement']),this[_0x35dd9f(0x25c)]=()=>_0x3b7db7[_0x35dd9f(0x3a6)]();}}[_0x359c2e(0x48a)](_0x53cec3){const _0x16d65a=_0x359c2e,_0x5b0d85=[];for(const _0x2c6aff of this[_0x16d65a(0x18f)])this['removeTrack'](_0x2c6aff),_0x5b0d85[_0x16d65a(0x221)](_0x2c6aff);this[_0x16d65a(0x3c9)]&&this[_0x16d65a(0x43f)][_0x16d65a(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x16d65a(0x167)],'content':{'type':_0x114c1e[_0x16d65a(0x379)],'label':this[_0x16d65a(0x140)],'streamId':this['internalId'],'ownerId':this[_0x16d65a(0x97)][_0x16d65a(0x22e)](),'providerId':this[_0x16d65a(0x3c9)],'trackKinds':_0x5b0d85}});}['setupTrackEndedListeners'](_0x3d6535){const _0x2bcb6c=_0x359c2e,_0x28835b=()=>this[_0x2bcb6c(0x48a)](_0x3d6535);_0x3d6535['addEventListener'](_0x2bcb6c(0x308),_0x28835b),_0x3d6535[_0x2bcb6c(0xae)](_0x2bcb6c(0x27e),_0x28835b),this['trackEndedListeners']['set'](_0x3d6535['kind'],()=>{const _0x1cbe02=_0x2bcb6c;_0x3d6535[_0x1cbe02(0x46e)](_0x1cbe02(0x308),_0x28835b),_0x3d6535[_0x1cbe02(0x46e)](_0x1cbe02(0x27e),_0x28835b),this[_0x1cbe02(0x349)]['delete'](_0x3d6535[_0x1cbe02(0x170)]);});}}class _0x3243f0{['id'];[_0x359c2e(0x5ae)];[_0x359c2e(0x263)];constructor(_0x278516,_0x91a801=new Set(),_0x52b56d){const _0x342ccb=_0x359c2e;this['id']=_0x278516,this[_0x342ccb(0x5ae)]=_0x91a801,this[_0x342ccb(0x263)]=_0x52b56d;}['close'](){const _0x1538f=_0x359c2e;this[_0x1538f(0x263)]=void 0x0,this['remoteConnections']['clear']();}['getId'](){return this['id'];}[_0x359c2e(0x43d)](){const _0x2641a7=_0x359c2e;return this[_0x2641a7(0x263)];}[_0x359c2e(0x61a)](){const _0x41bb29=_0x359c2e;return this[_0x41bb29(0x5ae)];}}class _0x10f693 extends _0x3243f0{['id'];[_0x359c2e(0x109)];['email'];[_0x359c2e(0x5ae)];[_0x359c2e(0x263)];[_0x359c2e(0x2d7)]=_0x883b7d['NodeType'][_0x359c2e(0x14e)];constructor(_0x51bfb4,_0x1a9535,_0x28e157,_0x45f53b=new Set(),_0x4ec444){const _0x361ace=_0x359c2e;super(_0x51bfb4,_0x45f53b,_0x4ec444),this['id']=_0x51bfb4,this[_0x361ace(0x109)]=_0x1a9535,this['email']=_0x28e157,this['remoteConnections']=_0x45f53b,this['rank']=_0x4ec444;}[_0x359c2e(0x449)](){return this['displayName'];}[_0x359c2e(0x32f)](){const _0x53569e=_0x359c2e;return this[_0x53569e(0x62f)];}}class _0x86e9a4{['vendorId'];['clusterId'];[_0x359c2e(0x231)];constructor(_0x1250b9,_0x31ab1e){const _0x4d6911=_0x359c2e;this['vendorId']=_0x1250b9,this[_0x4d6911(0xff)]=_0x31ab1e,this[_0x4d6911(0x231)]='ccc'+this[_0x4d6911(0x3d4)]+_0x4d6911(0x5aa)+this['clusterId'];}async['writeTransaction'](_0x4a1974,_0x2d2a29,_0x2f8c27){const _0x174b73=_0x359c2e;if(!0x1===(await(0x0,_0x40ab28[_0x174b73(0x5f9)])((0x0,_0x40ab28[_0x174b73(0x542)])(_0x3104fb[_0x174b73(0x16b)](),'clusters/'+this[_0x174b73(0x231)]+_0x174b73(0x1a9)+_0x2d2a29+_0x174b73(0x360)),_0x4be1d8=>{const _0x5b9a82=_0x174b73;if(!_0x4be1d8)return _0x4a1974['id'];if(_0x4be1d8!==_0x2f8c27)throw new _0x2e0415(_0x2e0415[_0x5b9a82(0xc9)][_0x5b9a82(0x271)]);return _0x4a1974['id'];}))[_0x174b73(0x375)])throw new _0x2e0415(_0x2e0415[_0x174b73(0xc9)][_0x174b73(0x59d)]);_0x4a1974['parentId']||delete _0x4a1974[_0x174b73(0x52e)],await(0x0,_0x40ab28[_0x174b73(0x2f9)])((0x0,_0x40ab28[_0x174b73(0x542)])(_0x3104fb[_0x174b73(0x16b)](),_0x174b73(0x2c4)+this[_0x174b73(0x231)]+_0x174b73(0x1a9)+_0x2d2a29+_0x174b73(0x230)+_0x4a1974['id']),_0x4a1974);}async[_0x359c2e(0x50b)](_0x2c5c29,_0x3fa948){const _0x53090b=_0x359c2e;let _0x54b11a=[];const _0x4814f7=await(0x0,_0x40ab28[_0x53090b(0x265)])((0x0,_0x40ab28[_0x53090b(0x542)])(_0x3104fb[_0x53090b(0x16b)](),_0x53090b(0x2c4)+this[_0x53090b(0x231)]+_0x53090b(0x1a9)+_0x2c5c29+_0x53090b(0x436)));if(!_0x4814f7[_0x53090b(0x32c)]())return _0x54b11a;const _0x4198a9=_0x4814f7['val']();_0x54b11a=Object[_0x53090b(0x313)](_0x4198a9)[_0x53090b(0x5d5)](_0x53aa98=>'string'!=typeof _0x53aa98);const _0x3236a8=[];let _0x19f4d0=_0x54b11a['find'](_0x186843=>_0x186843['parentId']===_0x3fa948);for(;_0x19f4d0;)_0x3236a8[_0x53090b(0x221)](_0x19f4d0),_0x19f4d0=_0x54b11a[_0x53090b(0x3c6)](_0x3af7f0=>_0x3af7f0[_0x53090b(0x52e)]===_0x19f4d0['id']);return _0x3236a8;}}class _0x4bc576{[_0x359c2e(0x494)];[_0x359c2e(0x333)];['audioContext'];['localMediaStreams']=new Map();[_0x359c2e(0x3a3)]=new Map();['pubSubTopics']=new Map();['objectStores']=new Map();['keyValueDatabases']=new Map();[_0x359c2e(0x5c0)];constructor(_0x405be1,_0x405743,_0x2280e0){const _0x4c1ac4=_0x359c2e;this['configs']=_0x405be1,this['maxFps']=_0x405743,this[_0x4c1ac4(0x1ee)]=_0x2280e0,this['transactionService']=new _0x86e9a4(this[_0x4c1ac4(0x494)][_0x4c1ac4(0x3d4)],this['configs']['clusterId']);}[_0x359c2e(0x57d)](_0x5576b5=!0x1){const _0x408063=_0x359c2e;this[_0x408063(0x3a3)][_0x408063(0x600)]((_0x15320e,_0x110b2a)=>{const _0x468926=_0x408063;_0x15320e[_0x468926(0x600)]((_0x169563,_0xfcc402)=>{const _0x2f1eaa=_0x468926;this[_0x2f1eaa(0x22b)](_0x110b2a,_0xfcc402);});}),_0x5576b5||(this[_0x408063(0x353)][_0x408063(0x600)]((_0x51b6c8,_0x2ae1dc)=>{this['removeLocalMediaStream'](_0x2ae1dc);}),this[_0x408063(0x481)]['forEach']((_0x1f6563,_0x3edef8)=>{const _0x5340aa=_0x408063;this[_0x5340aa(0x539)](_0x3edef8);}),this[_0x408063(0x443)][_0x408063(0x600)]((_0xde801d,_0x1dfe7c)=>{const _0x546167=_0x408063;this[_0x546167(0x571)](_0x1dfe7c);}),this['keyValueDatabases']['forEach']((_0x1749c0,_0x2217a4)=>{this['removeKeyValueDatabase'](_0x2217a4);}));}[_0x359c2e(0x4e3)](_0x3b81d8,_0x12fa62){const _0x2e5949=_0x359c2e;if(this[_0x2e5949(0x443)][_0x2e5949(0x531)](_0x3b81d8))throw new _0x26d32b(_0x10cef2[_0x2e5949(0x14a)],_0x2e5949(0x146));const _0x4745f4=new _0x3d1a1e(this[_0x2e5949(0x494)][_0x2e5949(0x1ac)],_0x3b81d8,this[_0x2e5949(0x494)]['clusterId'],this[_0x2e5949(0x494)][_0x2e5949(0x3d4)],this[_0x2e5949(0x5c0)],_0x12fa62);return this[_0x2e5949(0x443)]['set'](_0x3b81d8,_0x4745f4),this[_0x2e5949(0x494)][_0x2e5949(0x24f)][_0x2e5949(0x413)](_0x4745f4),_0x4745f4;}async[_0x359c2e(0x63d)](_0x1ec0ef,_0x5daa08,_0x572a56){const _0x2b1072=_0x359c2e;if(this[_0x2b1072(0x471)][_0x2b1072(0x531)](_0x1ec0ef))throw new _0x26d32b(_0x10cef2[_0x2b1072(0x30f)],_0x2b1072(0x58d));try{const _0x249237=new _0x3423d2(this[_0x2b1072(0x494)][_0x2b1072(0x1ac)],_0x1ec0ef,this[_0x2b1072(0x494)][_0x2b1072(0xff)],this[_0x2b1072(0x494)][_0x2b1072(0x3d4)],_0x5daa08,_0x572a56);return this[_0x2b1072(0x471)][_0x2b1072(0x2f9)](_0x1ec0ef,_0x249237),this[_0x2b1072(0x494)][_0x2b1072(0x24f)][_0x2b1072(0x413)](_0x249237),_0x249237;}catch(_0x36c170){if(_0x36c170 instanceof _0x26d32b)throw _0x36c170;throw console['warn'](_0x2b1072(0x1b3),_0x36c170),new _0x2e0415(_0x2e0415['codes'][_0x2b1072(0x302)],{'label':_0x1ec0ef,'clusterId':this[_0x2b1072(0x494)][_0x2b1072(0xff)],'vendorId':this[_0x2b1072(0x494)][_0x2b1072(0x3d4)]});}}[_0x359c2e(0x1b9)](_0x29feae,_0x6f32d1){const _0x566d58=_0x359c2e;if(this[_0x566d58(0x353)]['has'](_0x29feae))throw new _0x26d32b(_0x10cef2[_0x566d58(0x329)],_0x566d58(0x20d));if(!this[_0x566d58(0x1ee)])throw new _0x26d32b(_0x10cef2['LocalMediaStreamNoAudioContext'],_0x566d58(0x91));const _0x11c6dc=new _0x285752(this['configs'][_0x566d58(0x1ac)],_0x29feae,_0x6f32d1,this[_0x566d58(0x333)],this['audioContext'],this[_0x566d58(0x494)]['clusterId']);return this[_0x566d58(0x353)][_0x566d58(0x2f9)](_0x29feae,_0x11c6dc),this['configs']['mediator'][_0x566d58(0x413)](_0x11c6dc),_0x11c6dc[_0x566d58(0x9a)](),_0x11c6dc;}[_0x359c2e(0x450)](_0x35f79e,_0x2ef791){const _0x1029ec=_0x359c2e;if(this[_0x1029ec(0x353)][_0x1029ec(0x531)](_0x35f79e))throw new _0x26d32b(_0x10cef2['LocalMediaStreamAlreadyExists'],'Stream\x20already\x20exists');const _0xfd0528=new _0x41ced0(this[_0x1029ec(0x494)][_0x1029ec(0x1ac)],_0x35f79e,_0x2ef791,this['configs'][_0x1029ec(0xff)]);return this[_0x1029ec(0x353)][_0x1029ec(0x2f9)](_0x35f79e,_0xfd0528),this[_0x1029ec(0x494)][_0x1029ec(0x24f)][_0x1029ec(0x413)](_0xfd0528),_0xfd0528['publish'](),_0xfd0528;}[_0x359c2e(0x18d)](_0x203b47){const _0x8b6de6=_0x359c2e;if(this[_0x8b6de6(0x481)][_0x8b6de6(0x531)](_0x203b47))throw new _0x26d32b(_0x10cef2['PubSubTopicAlreadyExists'],_0x8b6de6(0x1e8));const _0x1c33c7=new _0x3970fb(this[_0x8b6de6(0x494)][_0x8b6de6(0x1ac)],_0x203b47,this['configs'][_0x8b6de6(0xff)]);return this[_0x8b6de6(0x481)]['set'](_0x203b47,_0x1c33c7),this[_0x8b6de6(0x494)][_0x8b6de6(0x24f)][_0x8b6de6(0x413)](_0x1c33c7),_0x1c33c7;}[_0x359c2e(0x149)](_0x5bf45a,_0x4260bb,_0x1cec8d,_0x22328b){const _0x765ae6=_0x359c2e;this['remoteMediaStreams'][_0x765ae6(0x531)](_0x5bf45a)||this['remoteMediaStreams'][_0x765ae6(0x2f9)](_0x5bf45a,new Map());const _0x31649a=this[_0x765ae6(0x3a3)][_0x765ae6(0x265)](_0x5bf45a);if(_0x31649a['has'](_0x4260bb))throw new _0x26d32b(_0x10cef2[_0x765ae6(0x3e8)],_0x765ae6(0x588));const _0x438830=new _0x10f693(_0x5bf45a,'',''),_0x5a0c14=new _0x24d1e8(this['configs'][_0x765ae6(0x1ac)],_0x438830,_0x4260bb,_0x1cec8d,_0x22328b,this['configs'][_0x765ae6(0xff)]);return _0x31649a[_0x765ae6(0x2f9)](_0x4260bb,_0x5a0c14),this['configs']['mediator'][_0x765ae6(0x413)](_0x5a0c14),_0x5a0c14;}[_0x359c2e(0xe4)](_0x30f9fe){const _0x510b03=_0x359c2e,_0x1e6e55=Array[_0x510b03(0x163)](this[_0x510b03(0x443)][_0x510b03(0x313)]());return _0x30f9fe?_0x1e6e55[_0x510b03(0x5d5)](_0x30f9fe):_0x1e6e55;}[_0x359c2e(0x1d8)](_0xc59454){const _0x2fee22=_0x359c2e,_0xe2a6ef=Array[_0x2fee22(0x163)](this[_0x2fee22(0x471)][_0x2fee22(0x313)]());return _0xc59454?_0xe2a6ef['filter'](_0xc59454):_0xe2a6ef;}[_0x359c2e(0x32b)](_0x5509f7){const _0x421e28=_0x359c2e,_0x5d238a=Array[_0x421e28(0x163)](this[_0x421e28(0x353)][_0x421e28(0x313)]());return _0x5509f7?_0x5d238a[_0x421e28(0x5d5)](_0x5509f7):_0x5d238a;}['getPubSubTopics'](_0x4b865d){const _0x459290=_0x359c2e,_0x4beddb=Array[_0x459290(0x163)](this[_0x459290(0x481)][_0x459290(0x313)]());return _0x4b865d?_0x4beddb[_0x459290(0x5d5)](_0x4b865d):_0x4beddb;}['getRemoteMediaStreams'](_0x304bf9){const _0x18958d=_0x359c2e,_0x3432a6=Array[_0x18958d(0x163)](this[_0x18958d(0x3a3)][_0x18958d(0x313)]())['reduce']((_0x537527,_0x553790)=>[..._0x537527,...Array['from'](_0x553790[_0x18958d(0x313)]())],[]);return _0x304bf9?_0x3432a6['filter'](_0x304bf9):_0x3432a6;}['handleContentSystemEvents'](_0xa7443e){const _0x2fb0bb=_0x359c2e;switch(_0xa7443e[_0x2fb0bb(0x232)]['type']){case _0x114c1e[_0x2fb0bb(0x58c)]:this[_0x2fb0bb(0xb4)](_0xa7443e[_0x2fb0bb(0x232)]);break;case _0x114c1e[_0x2fb0bb(0x207)]:this[_0x2fb0bb(0xe7)](_0xa7443e[_0x2fb0bb(0x232)]);break;case _0x114c1e[_0x2fb0bb(0x447)]:this[_0x2fb0bb(0x2e0)](_0xa7443e[_0x2fb0bb(0x232)]);break;case _0x114c1e[_0x2fb0bb(0x2f6)]:this['handleClosePubSubTopic'](_0xa7443e[_0x2fb0bb(0x232)]);break;case _0x114c1e[_0x2fb0bb(0x2d0)]:this['handleCloseObjectStore'](_0xa7443e[_0x2fb0bb(0x232)]);break;case _0x114c1e['CloseKeyValueDatabase']:this['handleCloseKeyValueDatabase'](_0xa7443e['content']);break;case _0x114c1e['UnsubscribeMediaStream']:this[_0x2fb0bb(0xc7)](_0xa7443e[_0x2fb0bb(0x232)]);break;case _0x114c1e['RequestSyncKeyValueDatabase']:this[_0x2fb0bb(0x471)][_0x2fb0bb(0x265)](_0xa7443e['content']['label'])?.['sendTransactionsDump'](_0xa7443e['sourceId']);break;case _0x114c1e['SendTransactionsDump']:this[_0x2fb0bb(0x471)][_0x2fb0bb(0x265)](_0xa7443e[_0x2fb0bb(0x232)][_0x2fb0bb(0x140)])?.[_0x2fb0bb(0x440)](_0xa7443e[_0x2fb0bb(0x143)],_0xa7443e[_0x2fb0bb(0x232)]['transactions']);break;case _0x114c1e['RequestTransactionsValue']:this[_0x2fb0bb(0x471)][_0x2fb0bb(0x265)](_0xa7443e[_0x2fb0bb(0x232)]['label'])?.[_0x2fb0bb(0x3a9)](_0xa7443e[_0x2fb0bb(0x143)],_0xa7443e[_0x2fb0bb(0x232)][_0x2fb0bb(0x466)]);break;case _0x114c1e[_0x2fb0bb(0x5b4)]:this[_0x2fb0bb(0x494)][_0x2fb0bb(0x24f)][_0x2fb0bb(0x38c)](_0x2fb0bb(0x298),{'label':_0xa7443e[_0x2fb0bb(0x232)][_0x2fb0bb(0x140)],'trackKinds':_0xa7443e[_0x2fb0bb(0x232)][_0x2fb0bb(0x24c)]});}}[_0x359c2e(0x178)]({content:_0x21b40a}){const _0x5c22c8=_0x359c2e;switch(_0x21b40a[_0x5c22c8(0x2d7)]){case _0x483dd4[_0x5c22c8(0x88)]:this[_0x5c22c8(0xdb)](_0x21b40a),this[_0x5c22c8(0x4a2)](_0x21b40a);break;case _0x483dd4[_0x5c22c8(0x27d)]:this[_0x5c22c8(0x1a4)](_0x21b40a),this[_0x5c22c8(0x312)](_0x21b40a);}}[_0x359c2e(0x603)](_0x44bcec){const _0x4d42b0=_0x359c2e;switch(_0x44bcec[_0x4d42b0(0x232)][_0x4d42b0(0x2d7)]){case _0x4b36c1[_0x4d42b0(0x334)]:this[_0x4d42b0(0x38e)](_0x44bcec[_0x4d42b0(0x143)],_0x44bcec[_0x4d42b0(0x232)]);break;case _0x4b36c1[_0x4d42b0(0xa5)]:this[_0x4d42b0(0xc3)](_0x44bcec[_0x4d42b0(0x143)],_0x44bcec[_0x4d42b0(0x232)]);break;case _0x4b36c1[_0x4d42b0(0x54a)]:this[_0x4d42b0(0x40c)](_0x44bcec['sourceId'],_0x44bcec[_0x4d42b0(0x232)]);}}[_0x359c2e(0xc7)](_0x2b3e7d){const _0x5ca7fe=_0x359c2e;if(0x0===_0x2b3e7d[_0x5ca7fe(0x614)])this['remoteMediaStreams'][_0x5ca7fe(0x265)](_0x2b3e7d[_0x5ca7fe(0x470)])?.[_0x5ca7fe(0x265)](_0x2b3e7d['label'])?.[_0x5ca7fe(0x111)]();else{const _0x1c7bc1=this[_0x5ca7fe(0x3a3)]['get'](_0x2b3e7d['ownerId'])?.[_0x5ca7fe(0x265)](_0x2b3e7d[_0x5ca7fe(0x140)]);if(!_0x1c7bc1)return;_0x2b3e7d[_0x5ca7fe(0x24c)][_0x5ca7fe(0x600)](_0x505109=>_0x1c7bc1[_0x5ca7fe(0x608)](_0x505109));}}[_0x359c2e(0xb4)](_0x2240b2){const _0x40b92e=_0x359c2e,{label:_0x55bab8,ownerId:_0x542913,stream:{streamId:_0xb0d73d,availableTrackKinds:_0x8d89c8}}=_0x2240b2;if(this['remoteMediaStreams']['get'](_0x542913)?.[_0x40b92e(0x531)](_0x55bab8))return void _0x21773c[_0x40b92e(0x35d)](_0x5e3d2b[_0x40b92e(0x167)],_0x40b92e(0x276),_0xb0d73d);const _0x35a1dd=this[_0x40b92e(0x149)](_0x542913,_0x55bab8,_0xb0d73d,_0x8d89c8);this['configs'][_0x40b92e(0x24f)]['notifyCluster'](_0x40b92e(0x46f),{'ownerId':_0x542913,'stream':_0x35a1dd});}[_0x359c2e(0xe7)]({ownerId:_0x2eae8d,label:_0x2b6d6e}){const _0x4f38d2=_0x359c2e;this[_0x4f38d2(0x22b)](_0x2eae8d,_0x2b6d6e),this[_0x4f38d2(0x494)]['mediator']['notifyCluster'](_0x4f38d2(0x3c1),{'ownerId':_0x2eae8d,'label':_0x2b6d6e});}[_0x359c2e(0x2e0)](_0x2c0ad5){const _0x28ebbe=_0x359c2e;this['removeLocalMediaStream'](_0x2c0ad5[_0x28ebbe(0x140)]);}[_0x359c2e(0x157)](_0x28bf84){const _0x5db5de=_0x359c2e;this['removeObjectStore'](_0x28bf84[_0x5db5de(0x140)]);}[_0x359c2e(0x293)](_0x53cef6){const _0xa36cc0=_0x359c2e;this[_0xa36cc0(0x539)](_0x53cef6[_0xa36cc0(0x140)]);}[_0x359c2e(0x64d)](_0x3c8c9d){const _0x37150e=_0x359c2e;this['removeKeyValueDatabase'](_0x3c8c9d[_0x37150e(0x140)]);}['handleSubscribeMediaStream'](_0x2a45b5,_0x542f6a){const _0x1717c1=_0x359c2e,{ownerId:_0x5cda2d,label:_0xaf9d1e}=_0x542f6a;let _0x21e309;_0x21e309=_0x5cda2d!==this[_0x1717c1(0x494)][_0x1717c1(0x1ac)][_0x1717c1(0x22e)]()?this[_0x1717c1(0x3a3)]['get'](_0x5cda2d)['get'](_0xaf9d1e):this[_0x1717c1(0x353)][_0x1717c1(0x265)](_0xaf9d1e),_0x21e309[_0x1717c1(0x446)](_0x2a45b5,_0x542f6a[_0x1717c1(0x14b)])['subscribe'](_0x542f6a,_0x21e309['getPriority']());}[_0x359c2e(0xc3)](_0x3b7685,_0x5570d5){const _0x1cd0d1=_0x359c2e,{ownerId:_0x576518,label:_0x5d9371}=_0x5570d5;let _0x3b9e98;_0x3b9e98=_0x576518!==this[_0x1cd0d1(0x494)][_0x1cd0d1(0x1ac)]['getId']()?this[_0x1cd0d1(0x3a3)][_0x1cd0d1(0x265)](_0x576518)['get'](_0x5d9371):this['localMediaStreams'][_0x1cd0d1(0x265)](_0x5d9371),_0x3b9e98[_0x1cd0d1(0x446)](_0x3b7685,_0x5570d5[_0x1cd0d1(0x14b)])['update'](_0x5570d5);}[_0x359c2e(0x40c)](_0x5a2c6f,_0x212881){const _0x119e68=_0x359c2e,{ownerId:_0x5b683c,label:_0x4337d4}=_0x212881;let _0x5cdcb9;_0x5cdcb9=_0x5b683c!==this[_0x119e68(0x494)][_0x119e68(0x1ac)][_0x119e68(0x22e)]()?this[_0x119e68(0x3a3)][_0x119e68(0x265)](_0x5b683c)['get'](_0x4337d4):this[_0x119e68(0x353)]['get'](_0x4337d4),_0x5cdcb9[_0x119e68(0x446)](_0x5a2c6f)[_0x119e68(0x244)](_0x212881);}['handleNodeJoinNeedPublishedStream']({id:_0x264cc1}){const _0x24837b=_0x359c2e;this[_0x24837b(0x32b)]()['forEach'](_0x1dd83b=>{_0x1dd83b['publish'](_0x264cc1);});}[_0x359c2e(0x1a4)]({id:_0xd60ed0}){const _0x559725=_0x359c2e;this[_0x559725(0x335)](_0x347e67=>_0x347e67[_0x559725(0x27a)]()===_0xd60ed0)[_0x559725(0x600)](_0x10471d=>{const _0x1902b1=_0x559725;this[_0x1902b1(0x22b)](_0x10471d[_0x1902b1(0x27a)](),_0x10471d['getLabel']());});}['notifyObjectStoreOfNodeJoin']({id:_0x5aaa44}){const _0x38788b=_0x359c2e;this[_0x38788b(0x443)][_0x38788b(0x600)](_0x19f363=>_0x19f363[_0x38788b(0x4cc)](_0x5aaa44));}[_0x359c2e(0x312)]({id:_0x35aa20}){const _0x4a85e0=_0x359c2e;this[_0x4a85e0(0x443)]['forEach'](_0x4fe94d=>_0x4fe94d[_0x4a85e0(0x1a4)](_0x35aa20));}[_0x359c2e(0x571)](_0x5bcb60){const _0x4a26ab=_0x359c2e;if(!this['objectStores'][_0x4a26ab(0x531)](_0x5bcb60))throw new _0x26d32b(_0x10cef2[_0x4a26ab(0x51c)],_0x4a26ab(0x4de));const _0x2214ee=this[_0x4a26ab(0x443)][_0x4a26ab(0x265)](_0x5bcb60);this[_0x4a26ab(0x443)]['delete'](_0x5bcb60),_0x2214ee[_0x4a26ab(0x111)](),this[_0x4a26ab(0x494)][_0x4a26ab(0x24f)][_0x4a26ab(0x106)](_0x2214ee);}[_0x359c2e(0x539)](_0x221911){const _0x973059=_0x359c2e;if(!this[_0x973059(0x481)][_0x973059(0x531)](_0x221911))throw new _0x26d32b(_0x10cef2[_0x973059(0x37d)],_0x973059(0x4de));const _0x26b3d4=this[_0x973059(0x481)][_0x973059(0x265)](_0x221911);this['pubSubTopics'][_0x973059(0x1c7)](_0x221911),_0x26b3d4[_0x973059(0x111)](),this[_0x973059(0x494)][_0x973059(0x24f)][_0x973059(0x106)](_0x26b3d4);}[_0x359c2e(0x2ce)](_0x28dcb1){const _0x3b760e=_0x359c2e;if(!this['keyValueDatabases'][_0x3b760e(0x531)](_0x28dcb1))throw new _0x26d32b(_0x10cef2[_0x3b760e(0x24b)],_0x3b760e(0x116));const _0x276d55=this[_0x3b760e(0x471)][_0x3b760e(0x265)](_0x28dcb1);this[_0x3b760e(0x471)][_0x3b760e(0x1c7)](_0x28dcb1),_0x276d55[_0x3b760e(0x111)](),this['configs'][_0x3b760e(0x24f)][_0x3b760e(0x106)](_0x276d55);}[_0x359c2e(0x2a1)](_0x29d711){const _0x233ee2=_0x359c2e;if(!this[_0x233ee2(0x353)]['has'](_0x29d711))throw new _0x2e0415(_0x2e0415['codes'][_0x233ee2(0xc5)],{'label':_0x29d711,'localId':this[_0x233ee2(0x494)][_0x233ee2(0x1ac)][_0x233ee2(0x22e)]()});const _0x4c2006=this[_0x233ee2(0x353)]['get'](_0x29d711);this[_0x233ee2(0x494)]['mediator'][_0x233ee2(0x106)](_0x4c2006),_0x4c2006[_0x233ee2(0x111)](),this['localMediaStreams'][_0x233ee2(0x1c7)](_0x29d711);}[_0x359c2e(0x22b)](_0x40f084,_0x2863a0){const _0x183fd7=_0x359c2e;if(!this[_0x183fd7(0x3a3)][_0x183fd7(0x531)](_0x40f084))throw new _0x2e0415(_0x2e0415[_0x183fd7(0xc9)]['NodeDoesNotExist'],{'nodeId':_0x40f084,'localId':this['configs']['localNode'][_0x183fd7(0x22e)]()});const _0x42a6b1=this[_0x183fd7(0x3a3)]['get'](_0x40f084);if(!_0x42a6b1[_0x183fd7(0x531)](_0x2863a0))throw new _0x2e0415(_0x2e0415[_0x183fd7(0xc9)][_0x183fd7(0x24a)],{'nodeId':_0x40f084,'label':_0x2863a0,'localId':this[_0x183fd7(0x494)][_0x183fd7(0x1ac)][_0x183fd7(0x22e)]()});const _0x40f229=_0x42a6b1[_0x183fd7(0x265)](_0x2863a0);this[_0x183fd7(0x494)][_0x183fd7(0x24f)][_0x183fd7(0x106)](_0x40f229),_0x40f229[_0x183fd7(0x111)](),_0x42a6b1[_0x183fd7(0x1c7)](_0x2863a0);}}!function(_0x14b179){const _0x513cae=_0x359c2e;_0x14b179[_0x513cae(0x483)]=_0x513cae(0x361),_0x14b179[_0x513cae(0x21b)]=_0x513cae(0x306),_0x14b179['TimePerFrame']='time_per_frame',_0x14b179[_0x513cae(0x35e)]=_0x513cae(0x438),_0x14b179[_0x513cae(0x1ea)]=_0x513cae(0x5db),_0x14b179[_0x513cae(0x1a8)]='fps',_0x14b179[_0x513cae(0x549)]=_0x513cae(0x44f),_0x14b179[_0x513cae(0x310)]=_0x513cae(0x627);}(_0x466a49||(_0x466a49={})),function(_0x313e8e){const _0x439f09=_0x359c2e;_0x313e8e[_0x439f09(0xf1)]='cpu.cycle',_0x313e8e['TimePerFrame']=_0x439f09(0x359),_0x313e8e[_0x439f09(0x310)]='cpu.av_delay',_0x313e8e[_0x439f09(0x1a8)]=_0x439f09(0x500),_0x313e8e[_0x439f09(0x35e)]=_0x439f09(0x2fb),_0x313e8e[_0x439f09(0x1ea)]=_0x439f09(0x2db),_0x313e8e[_0x439f09(0x549)]=_0x439f09(0x1aa);}(_0x564ae3||(_0x564ae3={})),function(_0xc4cfda){const _0x214730=_0x359c2e;_0xc4cfda[_0xc4cfda[_0x214730(0xf4)]=0x0]='Problem';}(_0x38cf58||(_0x38cf58={}));const _0x9b91ee=[{'type':_0x466a49[_0x359c2e(0x483)],'reportMetric':_0x22092b=>_0x22092b[_0x359c2e(0x483)],'maxThreshold':2.5},{'type':_0x466a49[_0x359c2e(0x21b)],'reportMetric':_0x545294=>_0x545294[_0x359c2e(0x21b)],'maxThreshold':0.5}],_0x4029de=[{'type':_0x466a49['TimePerFrame'],'reportMetric':_0x1aa66c=>{const _0x2487ae=_0x359c2e,_0x2b423a=0x3e8/_0x1aa66c['FPS'];return _0x1aa66c[_0x2487ae(0x104)]/_0x2b423a;},'maxThreshold':0.75},{'type':_0x466a49[_0x359c2e(0x35e)],'reportMetric':_0x572fc3=>{const _0x58571b=_0x359c2e,_0xd540a0=_0x572fc3[_0x58571b(0x273)]*_0x572fc3[_0x58571b(0xdf)]*_0x572fc3[_0x58571b(0x1ff)]*0.12;return _0x572fc3[_0x58571b(0x438)]/_0xd540a0;},'minThreshold':0.25},{'type':_0x466a49[_0x359c2e(0x1ea)],'reportMetric':_0x25d994=>_0x25d994[_0x359c2e(0x5db)],'maxThreshold':0.6},{'type':_0x466a49[_0x359c2e(0x1a8)],'reportMetric':_0x29e7d9=>_0x29e7d9[_0x359c2e(0x273)],'minThreshold':0xa}],_0x5563dd=[{'type':_0x466a49[_0x359c2e(0x1ea)],'reportMetric':_0x2467ae=>_0x2467ae[_0x359c2e(0x5db)],'maxThreshold':0.6}],_0x27e81f=[{'type':_0x466a49[_0x359c2e(0x549)],'reportMetric':_0x3a8724=>_0x3a8724[_0x359c2e(0x26a)],'maxThreshold':0x1/0x0}],_0x47a984=[{'type':_0x466a49['AudioVideoDelay'],'reportMetric':_0x19f21c=>_0x19f21c[_0x359c2e(0x310)],'maxThreshold':0x12c}],_0x1abbe6=[{'type':_0x564ae3[_0x359c2e(0xf1)],'issues':[{'type':_0x466a49[_0x359c2e(0x483)],'threshold':0x5},{'type':_0x466a49[_0x359c2e(0x21b)],'threshold':0x5}]},{'type':_0x564ae3[_0x359c2e(0x55c)],'issues':[{'type':_0x466a49[_0x359c2e(0x55c)],'threshold':0x3}]},{'type':_0x564ae3[_0x359c2e(0x310)],'issues':[{'type':_0x466a49[_0x359c2e(0x310)],'threshold':0x2}]},{'type':_0x564ae3[_0x359c2e(0x1a8)],'issues':[{'type':_0x466a49[_0x359c2e(0x1a8)],'threshold':0x3}]},{'type':_0x564ae3['Bitrate'],'issues':[{'type':_0x466a49[_0x359c2e(0x35e)],'threshold':0x3}]},{'type':_0x564ae3[_0x359c2e(0x1ea)],'issues':[{'type':_0x466a49['Jitter'],'threshold':0x3}]},{'type':_0x564ae3['RoundTripTime'],'issues':[{'type':_0x466a49[_0x359c2e(0x549)],'threshold':0x3}]}];var _0x3f0799,_0x504e08;!function(_0x37c5a1){const _0xa4a757=_0x359c2e;_0x37c5a1[_0x37c5a1[_0xa4a757(0x554)]=0x0]=_0xa4a757(0x554),_0x37c5a1[_0x37c5a1[_0xa4a757(0x9f)]=0x1]=_0xa4a757(0x9f);}(_0x3f0799||(_0x3f0799={}));class _0x5b35ae{[_0x359c2e(0x494)];[_0x359c2e(0x4da)]=[];[_0x359c2e(0x43f)];constructor(_0x371735){const _0x5e5310=_0x359c2e;this[_0x5e5310(0x494)]=_0x371735,this['configs'][_0x5e5310(0x24f)][_0x5e5310(0x413)](this);}[_0x359c2e(0x4c5)](_0xeaaac9){this['systemTopic']=_0xeaaac9;}[_0x359c2e(0x331)](){const _0x184119=_0x359c2e;this[_0x184119(0x43f)]=void 0x0;}[_0x359c2e(0x57d)](){const _0x30866f=_0x359c2e;this[_0x30866f(0x494)][_0x30866f(0x24f)][_0x30866f(0x106)](this),this[_0x30866f(0x4da)]=[];}[_0x359c2e(0x598)](_0x1abd80){const _0x1c7de1=_0x359c2e;switch(_0x1abd80[_0x1c7de1(0x232)][_0x1c7de1(0x2d7)]){case _0x3f0799[_0x1c7de1(0x9f)]:this[_0x1c7de1(0x294)](_0x1abd80['content']['data']);break;case _0x3f0799[_0x1c7de1(0x554)]:this[_0x1c7de1(0x214)](_0x1abd80[_0x1c7de1(0x232)]['data']);}}[_0x359c2e(0x4d2)](_0x4dd9c9,_0x4bff50,_0xd9029e,_0x162510){const _0xc5c1ed=_0x359c2e,_0x416529=_0x1abbe6[_0xc5c1ed(0x3c6)](_0x3b1804=>_0x3b1804[_0xc5c1ed(0x4da)][_0xc5c1ed(0x63b)](_0x4351e8=>_0x4351e8[_0xc5c1ed(0x2d7)]===_0x4dd9c9));_0x162510>=_0x416529[_0xc5c1ed(0x4da)][_0xc5c1ed(0x3c6)](_0xc3837e=>_0xc3837e[_0xc5c1ed(0x2d7)]===_0x4dd9c9)['threshold']&&(this[_0xc5c1ed(0x602)](_0x416529['type'],_0x4bff50,_0xd9029e),this[_0xc5c1ed(0x4da)]=this[_0xc5c1ed(0x4da)]['filter'](_0x3e54dc=>!(_0x3e54dc['type']===_0x4dd9c9&&_0x3e54dc[_0xc5c1ed(0x198)]===_0x4bff50&&_0x3e54dc['origin']===_0xd9029e)));}[_0x359c2e(0x294)](_0x2997e5){const _0x52e8cd=_0x359c2e;_0x9b91ee[_0x52e8cd(0x600)](_0x444cc1=>{const _0x3462b1=_0x52e8cd,_0x2503e4=_0x444cc1[_0x3462b1(0x222)](_0x2997e5);_0x444cc1['maxThreshold']&&_0x2503e4>_0x444cc1[_0x3462b1(0x649)]&&this[_0x3462b1(0x363)](_0x444cc1[_0x3462b1(0x2d7)],this['configs']['localNode'][_0x3462b1(0x22e)](),_0xc93616[_0x3462b1(0x1a1)],_0x2503e4),_0x444cc1[_0x3462b1(0x4f1)]&&_0x2503e4<_0x444cc1[_0x3462b1(0x4f1)]&&this[_0x3462b1(0x363)](_0x444cc1[_0x3462b1(0x2d7)],this[_0x3462b1(0x494)]['localNode'][_0x3462b1(0x22e)](),_0xc93616[_0x3462b1(0x1a1)],_0x2503e4);});}[_0x359c2e(0x214)](_0x30b7ff){const _0x47c4d4=_0x359c2e;let _0x53b577=[];switch(_0x30b7ff[_0x47c4d4(0x19e)]){case _0xc93616[_0x47c4d4(0x1a1)]:_0x53b577=_0x27e81f;break;case _0xc93616[_0x47c4d4(0x233)]:_0x53b577=_0x47a984;}_0x30b7ff[_0x47c4d4(0x105)]&&this[_0x47c4d4(0xfd)](_0x30b7ff[_0x47c4d4(0x198)],_0xc93616[_0x47c4d4(0x1a1)],_0x30b7ff[_0x47c4d4(0x105)]),_0x30b7ff[_0x47c4d4(0x1a3)]&&this[_0x47c4d4(0x550)](_0x30b7ff[_0x47c4d4(0x198)],_0xc93616[_0x47c4d4(0x1a1)],_0x30b7ff[_0x47c4d4(0x1a3)]),_0x53b577[_0x47c4d4(0x600)](_0x3fd834=>{const _0x9e3c22=_0x47c4d4,_0x420e97=_0x3fd834[_0x9e3c22(0x222)](_0x30b7ff);_0x3fd834[_0x9e3c22(0x649)]&&_0x420e97>_0x3fd834[_0x9e3c22(0x649)]&&this['addIssue'](_0x3fd834[_0x9e3c22(0x2d7)],_0x30b7ff[_0x9e3c22(0x198)],_0xc93616[_0x9e3c22(0x1a1)],_0x420e97),_0x3fd834['minThreshold']&&_0x420e97<_0x3fd834[_0x9e3c22(0x4f1)]&&this[_0x9e3c22(0x363)](_0x3fd834[_0x9e3c22(0x2d7)],_0x30b7ff[_0x9e3c22(0x198)],_0xc93616['Sender'],_0x420e97);});}[_0x359c2e(0xfd)](_0x39ac87,_0x5053c1,_0x14dd1d){const _0xf8ad4f=_0x359c2e;0x0!==_0x14dd1d[_0xf8ad4f(0x438)]&&_0x4029de[_0xf8ad4f(0x600)](_0x401f53=>{const _0x5366a2=_0xf8ad4f,_0x212b9b=_0x401f53[_0x5366a2(0x222)](_0x14dd1d);_0x401f53[_0x5366a2(0x649)]&&_0x212b9b>_0x401f53[_0x5366a2(0x649)]&&this[_0x5366a2(0x363)](_0x401f53[_0x5366a2(0x2d7)],_0x39ac87,_0x5053c1,_0x212b9b,_0x5366a2(0x105)),_0x401f53['minThreshold']&&_0x212b9b<_0x401f53[_0x5366a2(0x4f1)]&&this[_0x5366a2(0x363)](_0x401f53[_0x5366a2(0x2d7)],_0x39ac87,_0x5053c1,_0x212b9b,'video');});}['detectAudioIssues'](_0x2604d6,_0x5e9ce6,_0x4bc24b){const _0x3dc427=_0x359c2e;0x0!==_0x4bc24b[_0x3dc427(0x438)]&&_0x5563dd[_0x3dc427(0x600)](_0x9f84ad=>{const _0x9262e2=_0x3dc427,_0x354410=_0x9f84ad[_0x9262e2(0x222)](_0x4bc24b);_0x9f84ad[_0x9262e2(0x649)]&&_0x354410>_0x9f84ad[_0x9262e2(0x649)]&&this[_0x9262e2(0x363)](_0x9f84ad[_0x9262e2(0x2d7)],_0x2604d6,_0x5e9ce6,_0x354410,_0x9262e2(0x1a3)),_0x9f84ad[_0x9262e2(0x4f1)]&&_0x354410<_0x9f84ad[_0x9262e2(0x4f1)]&&this[_0x9262e2(0x363)](_0x9f84ad[_0x9262e2(0x2d7)],_0x2604d6,_0x5e9ce6,_0x354410,_0x9262e2(0x1a3));});}['addIssue'](_0xaaebf9,_0xc3d159,_0x3137db,_0x1de1c4,_0x229a2d){const _0x34cac6=_0x359c2e;_0x21773c[_0x34cac6(0x35d)](_0x5e3d2b[_0x34cac6(0x161)],_0x34cac6(0x2ac)+_0xaaebf9,_0xaaebf9,_0x1de1c4),_0x21773c[_0x34cac6(0x2dd)]('issue',{'clusterId':this[_0x34cac6(0x494)][_0x34cac6(0xff)],'nodeId':this[_0x34cac6(0x494)]['localNode'][_0x34cac6(0x22e)](),'nodeType':this['configs'][_0x34cac6(0x1ac)]['type'],'remoteId':_0xc3d159,'data':{'type':_0xaaebf9,'value':_0x1de1c4,'kind':_0x229a2d}}),this[_0x34cac6(0x4da)]=this[_0x34cac6(0x4da)]['filter'](_0x453b0a=>Date[_0x34cac6(0x4a7)]()-_0x453b0a[_0x34cac6(0x235)]<0x7530),this['issues'][_0x34cac6(0x221)]({'timestamp':Date[_0x34cac6(0x4a7)](),'type':_0xaaebf9,'nodeId':_0xc3d159,'origin':_0x3137db,'value':_0x1de1c4,'kind':_0x229a2d});const _0x3349f8=this[_0x34cac6(0x4da)][_0x34cac6(0x5d5)](_0x4371aa=>_0x4371aa[_0x34cac6(0x2d7)]===_0xaaebf9&&_0x4371aa[_0x34cac6(0x198)]===_0xc3d159&&_0x4371aa['origin']===_0x3137db)[_0x34cac6(0x5cb)];this[_0x34cac6(0x4d2)](_0xaaebf9,_0xc3d159,_0x3137db,_0x3349f8);}['addProblem'](_0x2055fe,_0xb69556,_0x2a2a8d){const _0xd679f0=_0x359c2e;_0x21773c[_0xd679f0(0x35d)](_0x5e3d2b[_0xd679f0(0x161)],_0xd679f0(0x17a)+_0x2055fe),_0x21773c['logEvent'](_0xd679f0(0x3c8),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0xd679f0(0x494)]['localNode'][_0xd679f0(0x22e)](),'nodeType':this[_0xd679f0(0x494)][_0xd679f0(0x1ac)][_0xd679f0(0x2d7)],'remoteId':_0xb69556,'data':{'type':_0x2055fe}}),this[_0xd679f0(0x43f)]?.['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f['Detection'],'content':{'type':_0x38cf58['Problem'],'data':{'timestamp':Date[_0xd679f0(0x4a7)](),'nodeId':_0xb69556,'origin':_0xc93616[_0xd679f0(0x1a1)],'type':_0x2055fe}}});}}class _0x58d702 extends _0x3243f0{[_0x359c2e(0x2d7)]=_0x883b7d[_0x359c2e(0x5cc)][_0x359c2e(0x131)];}class _0xcd57e3 extends _0x58d702{[_0x359c2e(0x43f)];[_0x359c2e(0xc8)]=Date['now']();['updateDebounceTimeout'];[_0x359c2e(0x647)];[_0x359c2e(0x57d)](){const _0x5a1414=_0x359c2e;this['updateDebounceTimeout']&&(clearTimeout(this[_0x5a1414(0x2e1)]),delete this[_0x5a1414(0x2e1)]),delete this[_0x5a1414(0x647)],this['currentVersion']=Date[_0x5a1414(0x4a7)](),super['close']();}[_0x359c2e(0x4c5)](_0x368a4e){const _0x3dca85=_0x359c2e;this[_0x3dca85(0x43f)]=_0x368a4e;}[_0x359c2e(0x331)](){const _0x59c12a=_0x359c2e;delete this[_0x59c12a(0x43f)];}[_0x359c2e(0x260)](_0x10bf70){const _0x1bc5b5=_0x359c2e;!this[_0x1bc5b5(0x2e1)]&&this[_0x1bc5b5(0x263)]&&this[_0x1bc5b5(0x43f)][_0x1bc5b5(0x9a)]({'sourceId':this['id'],'destinationIds':[_0x10bf70],'propagate':!0x0,'messageType':_0x403a0f['Node'],'content':{'type':_0x483dd4[_0x1bc5b5(0xbb)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x1bc5b5(0x43d)](),'remoteConnections':Array[_0x1bc5b5(0x163)](this['remoteConnections']),'version':this['currentVersion']}});}[_0x359c2e(0x319)](_0x596294){const _0x3e2471=_0x359c2e;this[_0x3e2471(0x5ae)][_0x3e2471(0x531)](_0x596294)||(this[_0x3e2471(0x5ae)][_0x3e2471(0x5bf)](_0x596294),this['incrementVersion'](),this[_0x3e2471(0x1d5)](!0x0));}[_0x359c2e(0x49a)](_0x1a921b){const _0x22a148=_0x359c2e;this[_0x22a148(0x5ae)][_0x22a148(0x531)](_0x1a921b)&&(this[_0x22a148(0x5ae)][_0x22a148(0x1c7)](_0x1a921b),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x359c2e(0x327)](){const _0x5e0135=_0x359c2e;return this[_0x5e0135(0xc8)];}[_0x359c2e(0x47c)](_0x249ce6,_0xdcaee4=!0x0){const _0x5d3554=_0x359c2e;this[_0x5d3554(0x263)]!==_0x249ce6&&(this['rank']=_0x249ce6,_0xdcaee4&&(this[_0x5d3554(0x364)](),this[_0x5d3554(0x1d5)]()));}[_0x359c2e(0x364)](){const _0xf35365=_0x359c2e;this[_0xf35365(0xc8)]=Date[_0xf35365(0x4a7)]();}[_0x359c2e(0x1d5)](_0x1561d5=!0x1){const _0x35cea3=_0x359c2e;if(this['rank']){if(this[_0x35cea3(0x647)]||(this['lastUpdated']=Date[_0x35cea3(0x4a7)]()),this[_0x35cea3(0x2e1)]){if(Date[_0x35cea3(0x4a7)]()-this[_0x35cea3(0x647)]>0x2328)return;clearTimeout(this[_0x35cea3(0x2e1)]);}this[_0x35cea3(0x2e1)]=setTimeout(()=>{const _0x31eedd=_0x35cea3;delete this['lastUpdated'],delete this[_0x31eedd(0x2e1)],this[_0x31eedd(0x43f)][_0x31eedd(0x9a)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x403a0f[_0x31eedd(0x5ea)],'content':{'type':_0x1561d5?_0x483dd4[_0x31eedd(0x238)]:_0x483dd4[_0x31eedd(0xbb)],'id':this['id'],'metaData':{'type':this[_0x31eedd(0x2d7)]},'rank':this[_0x31eedd(0x43d)](),'remoteConnections':Array[_0x31eedd(0x163)](this[_0x31eedd(0x5ae)]),'version':this[_0x31eedd(0xc8)]}});},0x3e8);}}}class _0x1fc9d2 extends _0x10f693{[_0x359c2e(0x43f)];['currentVersion']=Date[_0x359c2e(0x4a7)]();[_0x359c2e(0x2e1)];[_0x359c2e(0x647)];[_0x359c2e(0x57d)](){const _0x201457=_0x359c2e;this[_0x201457(0x2e1)]&&(clearTimeout(this[_0x201457(0x2e1)]),delete this[_0x201457(0x2e1)]),delete this[_0x201457(0x647)],this[_0x201457(0xc8)]=Date['now'](),super[_0x201457(0x57d)]();}[_0x359c2e(0x4c5)](_0x180b00){const _0x39a2a3=_0x359c2e;this[_0x39a2a3(0x43f)]=_0x180b00;}[_0x359c2e(0x331)](){const _0x57a526=_0x359c2e;delete this[_0x57a526(0x43f)];}[_0x359c2e(0x260)](_0x194ee1){const _0x18df4d=_0x359c2e;!this['updateDebounceTimeout']&&this[_0x18df4d(0x263)]&&this[_0x18df4d(0x43f)][_0x18df4d(0x9a)]({'sourceId':this['id'],'destinationIds':[_0x194ee1],'propagate':!0x0,'messageType':_0x403a0f[_0x18df4d(0x5ea)],'content':{'type':_0x483dd4[_0x18df4d(0xbb)],'id':this['id'],'metaData':{'type':this[_0x18df4d(0x2d7)],'displayName':this['getDisplayName'](),'email':this[_0x18df4d(0x32f)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x18df4d(0x163)](this[_0x18df4d(0x5ae)]),'version':this['currentVersion']}});}[_0x359c2e(0x319)](_0x538b46){const _0x473b54=_0x359c2e;this[_0x473b54(0x5ae)]['has'](_0x538b46)||(this[_0x473b54(0x5ae)][_0x473b54(0x5bf)](_0x538b46),this[_0x473b54(0x364)](),this[_0x473b54(0x1d5)](!0x0));}[_0x359c2e(0x49a)](_0x41ade3){const _0x59b959=_0x359c2e;this[_0x59b959(0x5ae)][_0x59b959(0x531)](_0x41ade3)&&(this[_0x59b959(0x5ae)]['delete'](_0x41ade3),this[_0x59b959(0x364)](),this[_0x59b959(0x1d5)](!0x0));}[_0x359c2e(0x327)](){const _0x8d6dba=_0x359c2e;return this[_0x8d6dba(0xc8)];}[_0x359c2e(0x3fa)](_0x1bcdf6){const _0x46f34b=_0x359c2e;this[_0x46f34b(0x109)]!==_0x1bcdf6&&(this['displayName']=_0x1bcdf6,this['incrementVersion'](),this[_0x46f34b(0x1d5)]());}[_0x359c2e(0x405)](_0x1f364a){const _0x5ee0ca=_0x359c2e;this[_0x5ee0ca(0x62f)]!==_0x1f364a&&(this[_0x5ee0ca(0x62f)]=_0x1f364a,this[_0x5ee0ca(0x364)](),this[_0x5ee0ca(0x1d5)]());}[_0x359c2e(0x47c)](_0x3f7d31,_0x438883=!0x0){const _0x4c3188=_0x359c2e;this[_0x4c3188(0x263)]!==_0x3f7d31&&(this[_0x4c3188(0x263)]=_0x3f7d31,_0x438883&&(this['incrementVersion'](),this['publishUserUpdate']()));}['incrementVersion'](){const _0xb31ed7=_0x359c2e;this['currentVersion']=Date[_0xb31ed7(0x4a7)]();}[_0x359c2e(0x1d5)](_0xb9adb1=!0x1){const _0x49c442=_0x359c2e;if(this[_0x49c442(0x263)]){if(this[_0x49c442(0x647)]||(this[_0x49c442(0x647)]=Date[_0x49c442(0x4a7)]()),this[_0x49c442(0x2e1)]){if(Date[_0x49c442(0x4a7)]()-this[_0x49c442(0x647)]>0x2328)return;clearTimeout(this[_0x49c442(0x2e1)]);}this[_0x49c442(0x2e1)]=setTimeout(()=>{const _0x1bc773=_0x49c442;delete this['lastUpdated'],delete this[_0x1bc773(0x2e1)],this[_0x1bc773(0x43f)][_0x1bc773(0x9a)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x403a0f[_0x1bc773(0x5ea)],'content':{'type':_0xb9adb1?_0x483dd4[_0x1bc773(0x238)]:_0x483dd4[_0x1bc773(0xbb)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x1bc773(0x449)](),'email':this[_0x1bc773(0x32f)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x1bc773(0x163)](this[_0x1bc773(0x5ae)]),'version':this[_0x1bc773(0xc8)]}});},0x3e8);}}}!function(_0x244eb5){const _0x428157=_0x359c2e;_0x244eb5[_0x244eb5[_0x428157(0x1ca)]=0x0]=_0x428157(0x1ca),_0x244eb5[_0x244eb5[_0x428157(0x2df)]=0x1]='Offline';}(_0x504e08||(_0x504e08={}));class _0x365459 extends _0x58d702{[_0x359c2e(0xc8)];['status']=_0x504e08['Online'];[_0x359c2e(0x647)]=Date[_0x359c2e(0x4a7)]();constructor(_0x283709,_0x408815=new Set(),_0x13f604,_0x4b3485){super(_0x283709,_0x408815,_0x4b3485),this['currentVersion']=_0x13f604;}[_0x359c2e(0x327)](){const _0x3a415d=_0x359c2e;return this[_0x3a415d(0xc8)];}[_0x359c2e(0x1f8)](){const _0x22d813=_0x359c2e;return this[_0x22d813(0x644)];}[_0x359c2e(0x2c2)](){return this['lastUpdated'];}[_0x359c2e(0x47c)](_0x32fedb){const _0xe35614=_0x359c2e;this[_0xe35614(0x263)]!==_0x32fedb&&(this[_0xe35614(0x263)]=_0x32fedb,this[_0xe35614(0x121)]());}[_0x359c2e(0x46c)](_0x1c0c51){const _0x4f4c5b=_0x359c2e;let _0x3c821f=!0x1;for(const _0x5aa589 of this[_0x4f4c5b(0x5ae)])_0x1c0c51['includes'](_0x5aa589)||(_0x3c821f=!0x0,this[_0x4f4c5b(0x5ae)]['delete'](_0x5aa589));for(const _0x49f8a4 of _0x1c0c51)this[_0x4f4c5b(0x5ae)]['has'](_0x49f8a4)||(_0x3c821f=!0x0,this[_0x4f4c5b(0x5ae)][_0x4f4c5b(0x5bf)](_0x49f8a4));_0x3c821f&&this[_0x4f4c5b(0x121)]();}[_0x359c2e(0x601)](_0x563394){const _0x1d34a9=_0x359c2e;this[_0x1d34a9(0xc8)]!==_0x563394&&(this[_0x1d34a9(0xc8)]=_0x563394,this[_0x1d34a9(0x121)]());}[_0x359c2e(0x3ec)](_0x55ecb2){const _0xf5c85b=_0x359c2e;this[_0xf5c85b(0x644)]!==_0x55ecb2&&(this[_0xf5c85b(0x644)]=_0x55ecb2,this[_0xf5c85b(0x121)](),_0x55ecb2===_0x504e08[_0xf5c85b(0x2df)]&&this[_0xf5c85b(0x57d)]());}[_0x359c2e(0x121)](){const _0x43d4e1=_0x359c2e;this[_0x43d4e1(0x647)]=Date['now']();}}class _0x338162 extends _0x10f693{[_0x359c2e(0xc8)];[_0x359c2e(0x644)]=_0x504e08[_0x359c2e(0x1ca)];[_0x359c2e(0x647)]=Date['now']();constructor(_0x262efe,_0x8a9762,_0x4b656b,_0x45ff61=new Set(),_0x419ff2,_0x3dbd9c){const _0xdb262c=_0x359c2e;super(_0x262efe,_0x8a9762,_0x4b656b,_0x45ff61,_0x3dbd9c),this[_0xdb262c(0xc8)]=_0x419ff2;}[_0x359c2e(0x327)](){const _0x340dde=_0x359c2e;return this[_0x340dde(0xc8)];}[_0x359c2e(0x1f8)](){const _0x2a1bf3=_0x359c2e;return this[_0x2a1bf3(0x644)];}[_0x359c2e(0x2c2)](){const _0xee429=_0x359c2e;return this[_0xee429(0x647)];}['setDisplayName'](_0x11da3c){const _0xe4a590=_0x359c2e;this[_0xe4a590(0x109)]!==_0x11da3c&&(this[_0xe4a590(0x109)]=_0x11da3c,this[_0xe4a590(0x121)]());}['setEmail'](_0x52895){const _0x4665cf=_0x359c2e;this['email']!==_0x52895&&(this[_0x4665cf(0x62f)]=_0x52895,this[_0x4665cf(0x121)]());}[_0x359c2e(0x47c)](_0x2cd439){const _0x45b885=_0x359c2e;this[_0x45b885(0x263)]!==_0x2cd439&&(this[_0x45b885(0x263)]=_0x2cd439,this['updateLastUpdated']());}[_0x359c2e(0x46c)](_0x1162f){const _0x30bafd=_0x359c2e;let _0x31fb09=!0x1;for(const _0x574d44 of this[_0x30bafd(0x5ae)])_0x1162f[_0x30bafd(0x457)](_0x574d44)||(_0x31fb09=!0x0,this[_0x30bafd(0x5ae)][_0x30bafd(0x1c7)](_0x574d44));for(const _0x5b3fef of _0x1162f)this['remoteConnections'][_0x30bafd(0x531)](_0x5b3fef)||(_0x31fb09=!0x0,this[_0x30bafd(0x5ae)][_0x30bafd(0x5bf)](_0x5b3fef));_0x31fb09&&this[_0x30bafd(0x121)]();}[_0x359c2e(0x601)](_0x5cc82c){const _0x462580=_0x359c2e;this[_0x462580(0xc8)]!==_0x5cc82c&&(this[_0x462580(0xc8)]=_0x5cc82c,this[_0x462580(0x121)]());}['setStatus'](_0x2ee729){const _0x2cb35d=_0x359c2e;this['status']!==_0x2ee729&&(this['status']=_0x2ee729,this[_0x2cb35d(0x121)](),_0x2ee729===_0x504e08['Offline']&&this[_0x2cb35d(0x57d)]());}[_0x359c2e(0x121)](){const _0x44fe0a=_0x359c2e;this[_0x44fe0a(0x647)]=Date[_0x44fe0a(0x4a7)]();}}class _0x19dcc1{[_0x359c2e(0x3d4)];[_0x359c2e(0xff)];[_0x359c2e(0x1ac)];[_0x359c2e(0x50c)];[_0x359c2e(0x491)]=_0x4e9161();[_0x359c2e(0x129)];['childRemovedUnsubscriber'];[_0x359c2e(0x1ae)];['connected']=!0x1;[_0x359c2e(0x231)];[_0x359c2e(0xd8)];constructor(_0x3e47e7,_0x487515,_0x303220,_0x2f8ab8){const _0x3cb5e0=_0x359c2e;this['vendorId']=_0x3e47e7,this['clusterId']=_0x487515,this['localNode']=_0x303220,this['minConnections']=_0x2f8ab8,this['clusterKey']='ccc'+this['vendorId']+_0x3cb5e0(0x5aa)+this['clusterId'],this[_0x3cb5e0(0xd8)]=_0x3cb5e0(0x5aa)+this[_0x3cb5e0(0x3d4)]+_0x3cb5e0(0x5aa)+this['localNode']['getId'](),this[_0x3cb5e0(0x129)]=(0x0,_0x40ab28[_0x3cb5e0(0x47e)])((0x0,_0x40ab28[_0x3cb5e0(0x542)])(_0x3104fb[_0x3cb5e0(0x16b)](),_0x3cb5e0(0x215)),_0x7722cb=>{const _0x1e98a6=_0x3cb5e0;!0x0!==_0x7722cb[_0x1e98a6(0x8d)]()?this[_0x1e98a6(0x1af)]&&_0x21773c[_0x1e98a6(0x11d)](_0x1e98a6(0x418),{'clusterId':this[_0x1e98a6(0xff)],'nodeId':this[_0x1e98a6(0x1ac)][_0x1e98a6(0x22e)](),'nodeType':this[_0x1e98a6(0x1ac)][_0x1e98a6(0x2d7)]}):(this[_0x1e98a6(0x1af)]=!0x0,this['setOnDisconnectHandler'](),_0x21773c[_0x1e98a6(0x34c)]('firebase-connect',{'clusterId':this[_0x1e98a6(0xff)],'nodeId':this[_0x1e98a6(0x1ac)][_0x1e98a6(0x22e)](),'nodeType':this[_0x1e98a6(0x1ac)][_0x1e98a6(0x2d7)]}));});}async[_0x359c2e(0x3ad)](){const _0x3372fa=_0x359c2e;await this[_0x3372fa(0x58b)]();const _0x10c190=await this[_0x3372fa(0x41e)]();return this[_0x3372fa(0x290)]=(0x0,_0x40ab28[_0x3372fa(0x326)])((0x0,_0x40ab28['ref'])(_0x3104fb['getDatabase'](),_0x3372fa(0x2c4)+this['clusterKey']+_0x3372fa(0x552)),_0x25d340=>{const _0x46ffde=_0x3372fa,_0x26db4c=_0x25d340[_0x46ffde(0x41b)];if(!_0x26db4c)return;const _0x3d2a91=_0x26db4c[_0x46ffde(0x4f6)](_0x46ffde(0x5aa)+this['vendorId']+_0x46ffde(0x5aa),'');this[_0x46ffde(0x491)][_0x46ffde(0x9a)](_0x3d2a91);}),_0x10c190;}async[_0x359c2e(0x57d)](){const _0x5a24db=_0x359c2e;this['childRemovedUnsubscriber']?.(),delete this[_0x5a24db(0x290)],this['onDisconnectHandler']?.[_0x5a24db(0x2be)](),delete this['onDisconnectHandler'],this['firebaseUnsubscriber']?.(),delete this[_0x5a24db(0x129)],await(0x0,_0x40ab28[_0x5a24db(0x122)])((0x0,_0x40ab28[_0x5a24db(0x542)])(_0x3104fb['getDatabase'](),'clusters/'+this['clusterKey']+_0x5a24db(0x5ba)+this[_0x5a24db(0xd8)]));}[_0x359c2e(0x459)](_0x3d97c0){const _0x4bb42a=_0x359c2e;return this[_0x4bb42a(0x491)][_0x4bb42a(0x570)](_0x3d97c0);}async[_0x359c2e(0x41e)](){const _0x428f41=_0x359c2e,_0x34c793=[],_0x5d377a=await(0x0,_0x40ab28['get'])((0x0,_0x40ab28[_0x428f41(0x542)])(_0x3104fb['getDatabase'](),_0x428f41(0x2c4)+this[_0x428f41(0x231)]+_0x428f41(0x552))),_0x255fad=[];return _0x5d377a[_0x428f41(0x600)](_0xa0c124=>{const _0xa55a94=_0x428f41,_0xcbdb92=_0xa0c124['key']?.['replace'](_0xa55a94(0x5aa)+this[_0xa55a94(0x3d4)]+_0xa55a94(0x5aa),'');_0x255fad[_0xa55a94(0x221)]({'id':_0xcbdb92,'joinedAt':_0xa0c124[_0xa55a94(0x8d)]()[_0xa55a94(0x2f8)],'priority':_0xa0c124[_0xa55a94(0x8d)]()['priority']});}),_0x255fad[_0x428f41(0x4ba)]((_0xe869bb,_0x34d06c)=>_0xe869bb['joinedAt']===_0x34d06c[_0x428f41(0x2f8)]?_0xe869bb['priority']-_0x34d06c['priority']:_0xe869bb[_0x428f41(0x2f8)]-_0x34d06c[_0x428f41(0x2f8)])[_0x428f41(0x13f)](_0x255fad[_0x428f41(0x289)](_0x56fc49=>_0x56fc49['id']===this['localNode'][_0x428f41(0x22e)]())),_0x255fad[_0x428f41(0x4ba)]((_0x5a7445,_0x166722)=>_0x166722[_0x428f41(0x2f8)]===_0x5a7445[_0x428f41(0x2f8)]?_0x166722[_0x428f41(0x2c9)]-_0x5a7445['priority']:_0x166722['joinedAt']-_0x5a7445[_0x428f41(0x2f8)])['forEach'](_0x408248=>{const _0x121390=_0x428f41;_0x34c793[_0x121390(0x5cb)]>=this['minConnections']||_0x34c793['push'](_0x408248['id']);}),_0x21773c[_0x428f41(0x2dd)](_0x428f41(0x5b9),{'clusterId':this[_0x428f41(0xff)],'nodeId':this[_0x428f41(0x1ac)]['getId'](),'nodeType':this[_0x428f41(0x1ac)][_0x428f41(0x2d7)],'data':{'ancestorIds':_0x34c793,'allNodes':_0x255fad}}),_0x34c793;}async[_0x359c2e(0x58b)](){const _0x3fd6ce=_0x359c2e;await(0x0,_0x40ab28['set'])((0x0,_0x40ab28[_0x3fd6ce(0x542)])(_0x3104fb[_0x3fd6ce(0x16b)](),_0x3fd6ce(0x2c4)+this[_0x3fd6ce(0x231)]+_0x3fd6ce(0x5ba)+this['nodeKey']),{'joinedAt':(0x0,_0x40ab28[_0x3fd6ce(0x1cc)])(),'priority':Math['random']()});}[_0x359c2e(0x463)](){const _0x117e9e=_0x359c2e;this[_0x117e9e(0x1ae)]&&this[_0x117e9e(0x1ae)][_0x117e9e(0x2be)](),this[_0x117e9e(0x1ae)]=(0x0,_0x40ab28[_0x117e9e(0x14c)])((0x0,_0x40ab28['ref'])(_0x3104fb[_0x117e9e(0x16b)](),'clusters/'+this[_0x117e9e(0x231)]+_0x117e9e(0x5ba)+this['nodeKey'])),this[_0x117e9e(0x1ae)][_0x117e9e(0x122)]();}}class _0x2fbc1d{['configs'];[_0x359c2e(0x190)];[_0x359c2e(0x1ac)];[_0x359c2e(0x1f7)];[_0x359c2e(0x128)];['discoveryUnsubscriber'];['ancestors']=[];[_0x359c2e(0x43f)];[_0x359c2e(0x393)]=new Map();[_0x359c2e(0x118)];[_0x359c2e(0x2f0)];constructor(_0x3d0ba3,_0x38383d,_0x2c90ab){const _0x397dfa=_0x359c2e;this['configs']=_0x3d0ba3,this[_0x397dfa(0x190)]=_0x38383d,this['localNode']=_0x2c90ab,this[_0x397dfa(0x128)]=new _0x19dcc1(this[_0x397dfa(0x494)][_0x397dfa(0x3d4)],this['configs']['clusterId'],this['localNode'],this[_0x397dfa(0x190)][_0x397dfa(0x3dd)]()),this[_0x397dfa(0x5ab)]=this[_0x397dfa(0x128)][_0x397dfa(0x459)](this[_0x397dfa(0x4d0)][_0x397dfa(0x4e8)](this)),this[_0x397dfa(0x494)]['mediator'][_0x397dfa(0x413)](this[_0x397dfa(0x1ac)]),this[_0x397dfa(0x494)]['mediator'][_0x397dfa(0x413)](this),this[_0x397dfa(0x1f7)]=_0x4df92f[_0x397dfa(0x3be)](()=>{const _0x11795a=_0x397dfa,_0x2be844=Date[_0x11795a(0x4a7)]();this[_0x11795a(0x190)][_0x11795a(0x26e)]()[_0x11795a(0x600)](_0x56d3ef=>{const _0x1ae494=_0x11795a;_0x56d3ef[_0x1ae494(0x1f8)]()===_0x504e08['Offline']&&_0x56d3ef[_0x1ae494(0x2c2)]()<_0x2be844-0x493e0&&this['graphService'][_0x1ae494(0x615)](_0x56d3ef[_0x1ae494(0x22e)]());});},0xea60);}[_0x359c2e(0x4c5)](_0x3b8f9c){const _0x7c1c5b=_0x359c2e;this[_0x7c1c5b(0x43f)]=_0x3b8f9c;}['unregisterSystemPublisher'](){const _0x1bf40e=_0x359c2e;delete this[_0x1bf40e(0x43f)];}[_0x359c2e(0x57d)](){const _0x311551=_0x359c2e;this['debounceProcessRank']&&(clearTimeout(this[_0x311551(0x118)]),delete this['debounceProcessRank']),delete this[_0x311551(0x2f0)],this[_0x311551(0x1ac)][_0x311551(0x57d)](),this[_0x311551(0x1f7)](),this[_0x311551(0x5ab)](),this[_0x311551(0x494)][_0x311551(0x24f)]['unregisterSystemSource'](this[_0x311551(0x1ac)]),this[_0x311551(0x494)][_0x311551(0x24f)][_0x311551(0x106)](this),this[_0x311551(0x128)][_0x311551(0x57d)]();}[_0x359c2e(0x31e)](){const _0x7c95bd=_0x359c2e;return this[_0x7c95bd(0x28b)];}['getLocalId'](){const _0x4b3652=_0x359c2e;return this[_0x4b3652(0x1ac)]['getId']();}[_0x359c2e(0x1f0)](){const _0x1100c=_0x359c2e;return this[_0x1100c(0x1ac)];}[_0x359c2e(0x26e)](_0xa040f2){const _0x1ad47e=_0x359c2e,_0x2d12f5=Array[_0x1ad47e(0x163)](this['graphService'][_0x1ad47e(0x26e)]()[_0x1ad47e(0x313)]())[_0x1ad47e(0x5d5)](_0x1d784e=>_0x1d784e[_0x1ad47e(0x1f8)]()===_0x504e08[_0x1ad47e(0x1ca)]);return _0xa040f2?_0x2d12f5[_0x1ad47e(0x5d5)](_0xa040f2):_0x2d12f5;}async[_0x359c2e(0x5b9)](){const _0x27547d=_0x359c2e;return this[_0x27547d(0x28b)]=await this[_0x27547d(0x128)][_0x27547d(0x3ad)](),this[_0x27547d(0x28b)]['length']<this[_0x27547d(0x190)][_0x27547d(0x3dd)]()&&(this[_0x27547d(0x1ac)]['setRank'](this[_0x27547d(0x28b)][_0x27547d(0x5cb)]+0x1),this[_0x27547d(0x381)]()),this[_0x27547d(0x28b)];}[_0x359c2e(0x34a)](_0x3771e0,_0x1e24e0){const _0x5a6c1a=_0x359c2e,_0x59cce4=this[_0x5a6c1a(0x1ac)][_0x5a6c1a(0x61a)](),_0x5353fc=new Set(_0x59cce4),_0x314df7=Array[_0x5a6c1a(0x163)](_0x59cce4)[_0x5a6c1a(0x5d5)](_0x5dac86=>_0x5dac86!==_0x3771e0)[_0x5a6c1a(0x391)](_0x1f08b1=>({'id':_0x1f08b1,'distance':0x1}));for(;_0x314df7[_0x5a6c1a(0x5cb)]>0x0;){const _0x21b61c=_0x314df7['shift']();if(!_0x21b61c)continue;if(_0x21b61c['id']===_0x1e24e0)return _0x21b61c[_0x5a6c1a(0x93)];const _0x489330=this[_0x5a6c1a(0x190)][_0x5a6c1a(0x2b2)](_0x21b61c['id']);_0x489330&&_0x489330[_0x5a6c1a(0x1f8)]()!==_0x504e08[_0x5a6c1a(0x2df)]&&_0x489330[_0x5a6c1a(0x61a)]()[_0x5a6c1a(0x600)](_0x2d08b5=>{const _0x32e2ef=_0x5a6c1a;_0x5353fc[_0x32e2ef(0x531)](_0x2d08b5)||(_0x5353fc[_0x32e2ef(0x5bf)](_0x2d08b5),_0x314df7[_0x32e2ef(0x221)]({'id':_0x2d08b5,'distance':_0x21b61c[_0x32e2ef(0x93)]+0x1}));});}return-0x1;}[_0x359c2e(0x178)](_0x574019){const _0x2e6014=_0x359c2e;try{switch(_0x574019['content'][_0x2e6014(0x2d7)]){case _0x483dd4[_0x2e6014(0xbb)]:case _0x483dd4[_0x2e6014(0x238)]:this[_0x2e6014(0x56a)](_0x574019[_0x2e6014(0x232)]),_0x21773c[_0x2e6014(0x35d)](_0x5e3d2b[_0x2e6014(0x5ea)],_0x2e6014(0x49b),'\x27'+this['localNode'][_0x2e6014(0x22e)]()+',\x20'+_0x574019[_0x2e6014(0x143)]+'\x27',_0x574019,_0x574019['content']);break;case _0x483dd4['NodeLeave']:this[_0x2e6014(0x2b5)](_0x574019[_0x2e6014(0x232)]['id']),_0x21773c[_0x2e6014(0x35d)](_0x5e3d2b[_0x2e6014(0x5ea)],_0x2e6014(0x434),'\x27'+this[_0x2e6014(0x1ac)][_0x2e6014(0x22e)]()+',\x20'+_0x574019['sourceId']+'\x27',_0x574019,_0x574019[_0x2e6014(0x232)]);}}catch(_0x7db63b){if(_0x7db63b instanceof _0x215c54)return void _0x21773c[_0x2e6014(0x35d)](_0x5e3d2b[_0x2e6014(0x5ea)],_0x7db63b['message']);throw _0x7db63b;}}[_0x359c2e(0x3d9)](_0x4e3bd7){const _0x3983b8=_0x359c2e;switch(_0x4e3bd7[_0x3983b8(0x232)][_0x3983b8(0x2d7)]){case _0x1577ee[_0x3983b8(0x60b)]:this['handleConnectionSuccess'](_0x4e3bd7[_0x3983b8(0x143)]),_0x21773c['log'](_0x5e3d2b[_0x3983b8(0x5ea)],_0x3983b8(0xa3),'\x27'+this[_0x3983b8(0x1ac)]['getId']()+',\x20'+_0x4e3bd7['sourceId']+'\x27',_0x4e3bd7,_0x4e3bd7[_0x3983b8(0x232)]);break;case _0x1577ee[_0x3983b8(0xdd)]:this[_0x3983b8(0x56e)](_0x4e3bd7['sourceId']),_0x21773c[_0x3983b8(0x35d)](_0x5e3d2b['Node'],'NodeManager\x20-\x20PublishNodeLeave',this[_0x3983b8(0x1ac)][_0x3983b8(0x22e)](),_0x4e3bd7,_0x4e3bd7[_0x3983b8(0x232)]);}}['handleNodeJoin'](_0x765bf5){const _0x4baad2=_0x359c2e;this[_0x4baad2(0x92)](_0x765bf5),this['notifyJoin'](_0x765bf5);}[_0x359c2e(0x502)](_0x32b453){const _0x103ce2=_0x359c2e;this[_0x103ce2(0x1ac)]['answerJoin'](_0x32b453['id']),this[_0x103ce2(0x278)](_0x32b453['id']),this[_0x103ce2(0x5f7)](_0x32b453);}[_0x359c2e(0x56a)](_0x2bf062){const _0x1a1c16=_0x359c2e,{id:_0x3072d9,metaData:_0x1817dc,rank:_0x16875d,remoteConnections:_0x5276fc,version:_0x74e819}=_0x2bf062,_0x5401aa=this['graphService'][_0x1a1c16(0x2b2)](_0x3072d9);if(_0x5401aa){if(!(_0x74e819<=_0x5401aa[_0x1a1c16(0x327)]())){if(_0x5401aa[_0x1a1c16(0x46c)](_0x5276fc),_0x5401aa['setCurrentVersion'](_0x74e819),_0x5401aa['type']===_0x883b7d[_0x1a1c16(0x5cc)][_0x1a1c16(0x14e)]&&_0x1817dc[_0x1a1c16(0x2d7)]===_0x883b7d[_0x1a1c16(0x5cc)][_0x1a1c16(0x14e)]&&(_0x5401aa['setDisplayName'](_0x1817dc['displayName']),_0x5401aa[_0x1a1c16(0x405)](_0x1817dc[_0x1a1c16(0x62f)])),_0x16875d&&_0x5401aa[_0x1a1c16(0x47c)](_0x16875d),this['setLocalRank'](_0x3072d9,_0x16875d),_0x5401aa[_0x1a1c16(0x1f8)]()===_0x504e08[_0x1a1c16(0x2df)])return _0x5401aa['setStatus'](_0x504e08['Online']),this[_0x1a1c16(0x381)](),void this[_0x1a1c16(0x502)](_0x2bf062);this['processRank'](),this[_0x1a1c16(0x280)]({'id':_0x3072d9,'metaData':_0x1817dc,'remoteConnections':_0x5276fc,'version':_0x74e819});}}else this[_0x1a1c16(0x4cc)](_0x2bf062);}[_0x359c2e(0x5d4)](_0x334842,_0x559a14){const _0x541ff1=_0x359c2e;_0x559a14&&this['ancestors'][_0x541ff1(0x457)](_0x334842)&&this[_0x541ff1(0x1ac)][_0x541ff1(0x47c)](_0x559a14+this[_0x541ff1(0x28b)][_0x541ff1(0xa6)](_0x334842)+0x1);}[_0x359c2e(0x4b1)](_0x5dda5e){const _0x93565d=_0x359c2e;this[_0x93565d(0x1ac)][_0x93565d(0x319)](_0x5dda5e);}[_0x359c2e(0x92)]({id:_0x5eb286,metaData:_0x1e1ed1,rank:_0x3f2215,remoteConnections:_0x54a4f7,version:_0x4564d2}){const _0x419517=_0x359c2e;if(this[_0x419517(0x190)][_0x419517(0x1bd)](_0x5eb286))throw new _0x215c54(_0x419517(0x299)+_0x5eb286);switch(_0x1e1ed1[_0x419517(0x2d7)]){case _0x883b7d[_0x419517(0x5cc)]['User']:const {displayName:_0x2224be,email:_0x412822}=_0x1e1ed1;this['graphService']['setRemoteNode'](_0x5eb286,new _0x338162(_0x5eb286,_0x2224be,_0x412822,new Set(_0x54a4f7),_0x4564d2,_0x3f2215));break;case _0x883b7d[_0x419517(0x5cc)]['Agent']:this[_0x419517(0x190)][_0x419517(0x2b8)](_0x5eb286,new _0x365459(_0x5eb286,new Set(_0x54a4f7),_0x4564d2,_0x3f2215));}this[_0x419517(0x5d4)](_0x5eb286,_0x3f2215),this['processRank']();}[_0x359c2e(0x278)](_0x251ef6){const _0x3f0369=_0x359c2e;this[_0x3f0369(0x43f)]['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f['Node'],'content':{'type':_0x483dd4[_0x3f0369(0x88)],'id':_0x251ef6}});}[_0x359c2e(0x56e)](_0x3ec0aa){const _0x4b8f3d=_0x359c2e;this[_0x4b8f3d(0x43f)]?.['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f['Node'],'content':{'type':_0x483dd4[_0x4b8f3d(0x27d)],'id':_0x3ec0aa}});}[_0x359c2e(0x4d0)](_0xe3b4b2){const _0x4d875d=_0x359c2e;if(_0xe3b4b2===this[_0x4d875d(0x1ac)][_0x4d875d(0x22e)]())return this[_0x4d875d(0x494)]['mediator'][_0x4d875d(0x38c)](_0x4d875d(0xbd),{'id':_0xe3b4b2}),this[_0x4d875d(0x494)][_0x4d875d(0x24f)][_0x4d875d(0x57d)](!0x0),this['configs'][_0x4d875d(0x24f)]['open'](),void this['configs']['mediator'][_0x4d875d(0x417)]();this[_0x4d875d(0x56e)](_0xe3b4b2);}[_0x359c2e(0x2b5)](_0x268e25){const _0x217135=_0x359c2e;this[_0x217135(0x28b)][_0x217135(0x457)](_0x268e25)?this[_0x217135(0x36b)](_0x268e25):this['localNode'][_0x217135(0x61a)]()[_0x217135(0x531)](_0x268e25)&&this[_0x217135(0x4b6)](_0x268e25),this[_0x217135(0x1ac)][_0x217135(0x49a)](_0x268e25);const _0x229035=Array['from'](this[_0x217135(0x393)][_0x217135(0x406)]())[_0x217135(0x3c6)](([,_0x37ce4e])=>_0x37ce4e==_0x37ce4e);_0x229035&&this[_0x217135(0x393)][_0x217135(0x1c7)](_0x229035[0x0]);const _0x59ce1e=this[_0x217135(0x190)][_0x217135(0x2b2)](_0x268e25);if(!_0x59ce1e)return;const _0x27b8f6=_0x59ce1e[_0x217135(0x43d)](),_0x5def4d=this[_0x217135(0x1ac)][_0x217135(0x43d)]();_0x5def4d&&_0x27b8f6&&_0x27b8f6<_0x5def4d&&this[_0x217135(0x1ac)][_0x217135(0x47c)](_0x5def4d-0x1,!0x1),Array[_0x217135(0x163)](this['graphService'][_0x217135(0x26e)]()[_0x217135(0x313)]())[_0x217135(0x600)](_0x1e96c2=>{const _0x38e15b=_0x217135,_0x1ddf2e=_0x1e96c2[_0x38e15b(0x43d)]();_0x1ddf2e&&_0x27b8f6&&_0x27b8f6<_0x1ddf2e&&_0x1e96c2[_0x38e15b(0x47c)](_0x1ddf2e-0x1);}),_0x59ce1e['setStatus'](_0x504e08[_0x217135(0x2df)]),this['configs'][_0x217135(0x24f)][_0x217135(0x38c)](_0x59ce1e[_0x217135(0x2d7)]+_0x217135(0x19c),{'id':_0x268e25});}['notifyClusterNodeJoin']({id:_0xa74bc2,metaData:_0x5f41bb,remoteConnections:_0x494fd1}){const _0xd87139=_0x359c2e;switch(_0x5f41bb[_0xd87139(0x2d7)]){case _0x883b7d['NodeType'][_0xd87139(0x14e)]:this[_0xd87139(0x494)][_0xd87139(0x24f)][_0xd87139(0x38c)]('user-join',{'id':_0xa74bc2,'metaData':_0x5f41bb,'remoteConnections':_0x494fd1});break;case _0x883b7d['NodeType'][_0xd87139(0x131)]:this[_0xd87139(0x494)][_0xd87139(0x24f)][_0xd87139(0x38c)](_0xd87139(0x461),{'id':_0xa74bc2,'metaData':_0x5f41bb,'remoteConnections':_0x494fd1});}}[_0x359c2e(0x280)]({id:_0xa32827,metaData:_0x5e9d22,remoteConnections:_0x2cebf3}){const _0x34583a=_0x359c2e;switch(_0x5e9d22[_0x34583a(0x2d7)]){case _0x883b7d['NodeType'][_0x34583a(0x14e)]:this[_0x34583a(0x494)][_0x34583a(0x24f)]['notifyCluster'](_0x34583a(0x2a5),{'id':_0xa32827,'metaData':_0x5e9d22,'remoteConnections':_0x2cebf3});break;case _0x883b7d[_0x34583a(0x5cc)]['Agent']:this[_0x34583a(0x494)][_0x34583a(0x24f)]['notifyCluster'](_0x34583a(0x28c),{'id':_0xa32827,'metaData':_0x5e9d22,'remoteConnections':_0x2cebf3});}}['processRank'](){const _0x54c399=_0x359c2e;if(this['lastProcessRank']||(this[_0x54c399(0x2f0)]=Date[_0x54c399(0x4a7)]()),this[_0x54c399(0x118)]){if(Date[_0x54c399(0x4a7)]()-this[_0x54c399(0x2f0)]>0x2328)return;clearTimeout(this[_0x54c399(0x118)]);}this[_0x54c399(0x118)]=setTimeout(async()=>{const _0x10643b=_0x54c399;delete this[_0x10643b(0x2f0)],delete this['debounceProcessRank'];const _0x559f43=this['localNode'][_0x10643b(0x43d)]();if(!_0x559f43)return;const _0x12a502=this['graphService'][_0x10643b(0x225)](this[_0x10643b(0x190)][_0x10643b(0x26e)]()[_0x10643b(0x22d)]);if(this[_0x10643b(0x393)][_0x10643b(0x22d)]>=_0x12a502)return;let _0x2a2f7c=0x1;for(;this[_0x10643b(0x494)][_0x10643b(0x24f)][_0x10643b(0x3c4)]()[_0x10643b(0x5cb)]<this[_0x10643b(0x190)][_0x10643b(0x404)]()&&_0x2a2f7c<=_0x12a502;){if(this[_0x10643b(0x393)][_0x10643b(0x531)](_0x2a2f7c)){_0x2a2f7c+=0x1;continue;}const _0x3186e7=this[_0x10643b(0x190)]['getNextTargetRank'](_0x559f43,_0x2a2f7c),_0x14bcc3=Array[_0x10643b(0x163)](this['graphService'][_0x10643b(0x26e)]()[_0x10643b(0x313)]())['find'](_0x5a7bdc=>_0x5a7bdc['getRank']()===_0x3186e7&&_0x5a7bdc[_0x10643b(0x1f8)]()===_0x504e08['Online']);if(_0x14bcc3){try{await this['configs']['mediator'][_0x10643b(0x4e9)](_0x14bcc3['getId'](),_0x3f817f['Optimization']),this[_0x10643b(0x393)][_0x10643b(0x2f9)](_0x2a2f7c,_0x14bcc3[_0x10643b(0x22e)]());}catch(_0x7a6bc8){if(!(_0x7a6bc8 instanceof _0x2e0415&&_0x7a6bc8[_0x10643b(0x594)]===_0x2e0415['codes'][_0x10643b(0x537)]))throw _0x7a6bc8;_0x21773c[_0x10643b(0x35d)](_0x5e3d2b[_0x10643b(0x5ea)],this['localNode'][_0x10643b(0x22e)](),_0x14bcc3['getId'](),_0x7a6bc8[_0x10643b(0x2d1)]);}_0x2a2f7c+=0x1;}else _0x2a2f7c+=0x1;}},0x3e8);}async['manageAncestor'](_0x1191bf){const _0x24bdf3=_0x359c2e;this[_0x24bdf3(0x28b)]['splice'](this[_0x24bdf3(0x28b)][_0x24bdf3(0xa6)](_0x1191bf),0x1);const _0x1e6659=await this[_0x24bdf3(0x128)]['getAncestors']();for(const _0x248f9a of _0x1e6659)if(!this[_0x24bdf3(0x28b)][_0x24bdf3(0x457)](_0x248f9a)){const _0x5db867=Array[_0x24bdf3(0x163)](this[_0x24bdf3(0x393)][_0x24bdf3(0x406)]())[_0x24bdf3(0x3c6)](([,_0x68fa31])=>_0x68fa31===_0x248f9a);_0x5db867&&this[_0x24bdf3(0x393)]['delete'](_0x5db867[0x0]),this[_0x24bdf3(0x494)][_0x24bdf3(0x24f)][_0x24bdf3(0x4e9)](_0x248f9a,_0x3f817f[_0x24bdf3(0x4c9)]);}0x0===_0x1e6659[_0x24bdf3(0x5cb)]&&this['localNode']['setRank'](0x1),this[_0x24bdf3(0x28b)]=_0x1e6659;}async[_0x359c2e(0x4b6)](_0x4a7a22){const _0x3a3a7f=_0x359c2e,_0x2a5750=this[_0x3a3a7f(0x1ac)]['getRank']();if(!_0x2a5750)return;const _0xb5e4c4=this[_0x3a3a7f(0x190)][_0x3a3a7f(0x2b2)](_0x4a7a22);if(!_0xb5e4c4||_0xb5e4c4[_0x3a3a7f(0x1f8)]()===_0x504e08['Offline'])return;const _0x3bd337=_0xb5e4c4[_0x3a3a7f(0x43d)]();if(!_0x3bd337||_0x3bd337<_0x2a5750)return;const _0x461868=this['getOutgoingOptimizationConnections'](this[_0x3a3a7f(0x1ac)][_0x3a3a7f(0x61a)](),_0x2a5750),_0x3a66e6=this[_0x3a3a7f(0x46d)](_0xb5e4c4[_0x3a3a7f(0x61a)](),_0x3bd337)[_0x461868[_0x3a3a7f(0x289)](([_0x1f61d6])=>_0x1f61d6===_0x4a7a22)];if(!_0x3a66e6||this[_0x3a3a7f(0x1ac)][_0x3a3a7f(0x61a)]()[_0x3a3a7f(0x531)](_0x3a66e6[0x0]))return;const _0x52f0e8=this['graphService'][_0x3a3a7f(0x2b2)](_0x3a66e6[0x0]);if(_0x52f0e8&&_0x52f0e8[_0x3a3a7f(0x1f8)]()!==_0x504e08[_0x3a3a7f(0x2df)])try{await this[_0x3a3a7f(0x494)][_0x3a3a7f(0x24f)][_0x3a3a7f(0x4e9)](_0x3a66e6[0x0],_0x3f817f[_0x3a3a7f(0x3b6)]);const _0xcf20c7=Array['from'](this[_0x3a3a7f(0x393)][_0x3a3a7f(0x406)]())['find'](([,_0x504878])=>_0x504878===_0x4a7a22);_0xcf20c7&&this['optimizationLayers'][_0x3a3a7f(0x2f9)](_0xcf20c7[0x0],_0x3a66e6[0x0]);}catch(_0x199619){if(!(_0x199619 instanceof _0x2e0415&&_0x199619[_0x3a3a7f(0x594)]===_0x2e0415[_0x3a3a7f(0xc9)][_0x3a3a7f(0x537)]))throw _0x199619;_0x21773c[_0x3a3a7f(0x35d)](_0x5e3d2b[_0x3a3a7f(0x5ea)],this[_0x3a3a7f(0x1ac)]['getId'](),_0x3a66e6[0x0],_0x199619[_0x3a3a7f(0x2d1)]);}}[_0x359c2e(0x46d)](_0x4d0f36,_0x315071){const _0x39b4be=_0x359c2e;return Array['from'](_0x4d0f36)['reduce']((_0x5eca50,_0x182beb)=>{const _0x33f97a=a0_0x2eba,_0x49c4da=this[_0x33f97a(0x190)][_0x33f97a(0x2b2)](_0x182beb);if(!_0x49c4da||_0x49c4da[_0x33f97a(0x1f8)]()===_0x504e08[_0x33f97a(0x2df)])return _0x5eca50;const _0x93798c=_0x49c4da[_0x33f97a(0x43d)]();if(!_0x93798c)return _0x5eca50;const _0x41a663=_0x93798c-_0x315071;return _0x41a663<=this[_0x33f97a(0x190)]['getMinConnections']()||_0x5eca50[_0x33f97a(0x221)]([_0x182beb,_0x41a663]),_0x5eca50;},[])[_0x39b4be(0x4ba)](([,_0x553b3d],[,_0x1fd32b])=>_0x553b3d-_0x1fd32b);}}const _0x464691=[{'problemType':_0x564ae3['CPUCycle'],'remediations':[{'type':_0x5567d1[_0x359c2e(0x419)],'component':_0x252a31[_0x359c2e(0x4c6)],'action':_0x27dd27[_0x359c2e(0x5a7)]},{'type':_0x5567d1[_0x359c2e(0x39a)],'component':_0x252a31['Resolution'],'action':_0x27dd27[_0x359c2e(0x5a7)]}]},{'problemType':_0x564ae3[_0x359c2e(0x55c)],'remediations':[{'type':_0x5567d1[_0x359c2e(0x419)],'component':_0x252a31[_0x359c2e(0x4c6)],'action':_0x27dd27[_0x359c2e(0x5a7)]}]},{'problemType':_0x564ae3[_0x359c2e(0x310)],'remediations':[{'type':_0x5567d1[_0x359c2e(0x419)],'component':_0x252a31[_0x359c2e(0x4c6)],'action':_0x27dd27['Downgrade']}]},{'problemType':_0x564ae3[_0x359c2e(0x1a8)],'remediations':[{'type':_0x5567d1[_0x359c2e(0x419)],'component':_0x252a31[_0x359c2e(0x4c6)],'action':_0x27dd27[_0x359c2e(0x5a7)]}]},{'problemType':_0x564ae3[_0x359c2e(0x35e)],'remediations':[{'type':_0x5567d1[_0x359c2e(0x419)],'component':_0x252a31[_0x359c2e(0x35e)],'action':_0x27dd27[_0x359c2e(0x5a7)]}]},{'problemType':_0x564ae3['Jitter'],'remediations':[{'type':_0x5567d1[_0x359c2e(0x419)],'component':_0x252a31[_0x359c2e(0x35e)],'action':_0x27dd27[_0x359c2e(0x5a7)]}]},{'problemType':_0x564ae3[_0x359c2e(0x549)],'remediations':[{'type':_0x5567d1[_0x359c2e(0x419)],'component':_0x252a31['Bitrate'],'action':_0x27dd27['Downgrade']}]}];class _0x413b3a{[_0x359c2e(0x494)];[_0x359c2e(0x43f)];[_0x359c2e(0x158)]=new Map();constructor(_0x59d994){const _0xc80963=_0x359c2e;this[_0xc80963(0x494)]=_0x59d994,this[_0xc80963(0x494)][_0xc80963(0x24f)][_0xc80963(0x413)](this);}[_0x359c2e(0x57d)](){const _0xcb2ef3=_0x359c2e;this[_0xcb2ef3(0x494)]['mediator'][_0xcb2ef3(0x106)](this);}[_0x359c2e(0x4c5)](_0x573741){const _0x50754a=_0x359c2e;this[_0x50754a(0x43f)]=_0x573741;}['unregisterSystemPublisher'](){const _0x205348=_0x359c2e;delete this[_0x205348(0x43f)];}[_0x359c2e(0x3ba)](_0xfcef27){const _0x5e6672=_0x359c2e;_0xfcef27[_0x5e6672(0x232)]['type']===_0x38cf58[_0x5e6672(0xf4)]&&this['handleProblem'](_0xfcef27[_0x5e6672(0x232)][_0x5e6672(0x3f4)]);}[_0x359c2e(0x135)](_0x2e41a9){const _0x116b19=_0x359c2e;_0x2e41a9[_0x116b19(0x232)][_0x116b19(0x2d7)]===_0x5567d1[_0x116b19(0x39a)]&&this[_0x116b19(0x344)](_0x2e41a9['sourceId'],{'type':_0x5567d1[_0x116b19(0x419)],'component':_0x2e41a9['content']['data']['component'],'action':_0x2e41a9[_0x116b19(0x232)]['data'][_0x116b19(0x516)]});}[_0x359c2e(0x4ac)](_0x57d17b){const _0x3f67a1=_0x359c2e,_0x13c8d6=_0x464691['find'](_0x52ef87=>_0x52ef87[_0x3f67a1(0xad)]===_0x57d17b[_0x3f67a1(0x2d7)]);_0x13c8d6['remediations']?.[_0x3f67a1(0x600)](_0x26d15e=>{const _0xa8888a=_0x3f67a1;this[_0xa8888a(0x344)](_0x57d17b['nodeId'],{'type':_0x57d17b[_0xa8888a(0x19e)]===_0xc93616[_0xa8888a(0x1a1)]?_0x5567d1[_0xa8888a(0x419)]:_0x5567d1[_0xa8888a(0x39a)],'component':_0x26d15e[_0xa8888a(0x3bc)],'action':_0x26d15e[_0xa8888a(0x516)]});});}[_0x359c2e(0x344)](_0x1c6d65,_0x93b312){const _0x5e1c41=_0x359c2e;if(_0x93b312[_0x5e1c41(0x2d7)]===_0x5567d1['Remediation']){const _0x461bf0=Date[_0x5e1c41(0x4a7)](),_0x43dfa2=this['lastRemediations'][_0x5e1c41(0x265)](_0x1c6d65);if(_0x43dfa2&&_0x461bf0-_0x43dfa2<0x1388)return;this['lastRemediations'][_0x5e1c41(0x2f9)](_0x1c6d65,_0x461bf0);}_0x21773c[_0x5e1c41(0x35d)](_0x5e3d2b[_0x5e1c41(0x419)],'Apply\x20remediation',_0x93b312),_0x21773c[_0x5e1c41(0x2dd)](_0x5e1c41(0x4ad),{'clusterId':this['configs'][_0x5e1c41(0xff)],'nodeId':this[_0x5e1c41(0x494)][_0x5e1c41(0x1ac)][_0x5e1c41(0x22e)](),'nodeType':this[_0x5e1c41(0x494)]['localNode'][_0x5e1c41(0x2d7)],'remoteId':_0x1c6d65,'data':{'type':_0x93b312[_0x5e1c41(0x2d7)],'component':_0x93b312['component'],'action':_0x93b312[_0x5e1c41(0x516)]}});let _0x55288a,_0x47d294=_0x5d7eff;_0x93b312['type']===_0x5567d1['RemoteRemediation']&&(_0x47d294=this[_0x5e1c41(0x494)][_0x5e1c41(0x1ac)][_0x5e1c41(0x22e)](),_0x55288a=[_0x1c6d65]),this[_0x5e1c41(0x43f)][_0x5e1c41(0x9a)]({'sourceId':_0x47d294,'destinationIds':_0x55288a,'messageType':_0x403a0f[_0x5e1c41(0x419)],'content':{'type':_0x93b312[_0x5e1c41(0x2d7)],'targetId':_0x1c6d65,'data':_0x93b312}});}}const _0x40bc7e=0x3e8,_0x59b92d=0x7530,_0xd961b9=_0x359c2e(0x15e),_0x3d0d13=_0x359c2e(0x45e),_0x4fff47='inbound-rtp',_0x19b271=[_0xd961b9,_0x3d0d13],_0x3e76aa=[_0x4fff47];class _0x4df940{['roundTripTime']=0x0;[_0x359c2e(0x4fb)]=0x0;['jitter']=0x0;['packetsLost']=0x0;[_0x359c2e(0xb5)]=0x0;[_0x359c2e(0xbe)]=0x0;[_0x359c2e(0x13a)]=0x0;['currentBytes']=0x0;[_0x359c2e(0x1fd)]=0x0;get['bitrate'](){const _0x30d528=_0x359c2e;return this[_0x30d528(0xbe)]>0x0&&this[_0x30d528(0x13a)]>0x0&&Date['now']()-this[_0x30d528(0xbe)]<_0x59b92d?(this['currentBytes']-this[_0x30d528(0x1fd)])/(this['currentTimestamp']-this[_0x30d528(0x13a)])*0x8*0x3e8:0x0;}[_0x359c2e(0x2a3)](_0x58f988){const _0x3d008e=_0x359c2e;switch(_0x58f988['type']){case _0x4fff47:this[_0x3d008e(0x56f)](_0x58f988);break;case _0xd961b9:this[_0x3d008e(0x618)](_0x58f988);break;case _0x3d0d13:this[_0x3d008e(0x408)](_0x58f988);}}['getReport'](){const _0x120724=_0x359c2e;return{'bitrate':this[_0x120724(0x438)],'packetsLostPerc':this[_0x120724(0x31a)](),'roundTripTime':this[_0x120724(0x26a)],'jitter':this['jitter']};}[_0x359c2e(0x56f)](_0x46663f){const _0x1666ca=_0x359c2e;this[_0x1666ca(0x458)](_0x46663f[_0x1666ca(0x1bf)]),this[_0x1666ca(0xe1)](_0x46663f[_0x1666ca(0x235)]),this[_0x1666ca(0xb5)]=_0x46663f[_0x1666ca(0x385)],this['packetsLost']=_0x46663f[_0x1666ca(0x250)],void 0x0!==_0x46663f['jitter']?this[_0x1666ca(0x5db)]=_0x46663f[_0x1666ca(0x5db)]:this[_0x1666ca(0x5db)]=0x0,void 0x0!==_0x46663f[_0x1666ca(0x4fb)]?this['estimatedPlayoutTimestamp']=_0x46663f[_0x1666ca(0x4fb)]:this[_0x1666ca(0x4fb)]=0x0;}['processOutboundReport'](_0x383e8d){const _0x29fa26=_0x359c2e;this[_0x29fa26(0x458)](_0x383e8d['bytesSent']),this[_0x29fa26(0xe1)](_0x383e8d[_0x29fa26(0x235)]),this['packets']=_0x383e8d[_0x29fa26(0xda)];}[_0x359c2e(0x408)](_0x225f62){const _0x33ff86=_0x359c2e;this[_0x33ff86(0x26a)]=0x3e8*_0x225f62[_0x33ff86(0x26a)],void 0x0!==_0x225f62[_0x33ff86(0x5db)]?this[_0x33ff86(0x5db)]=_0x225f62[_0x33ff86(0x5db)]:this['jitter']=0x0;}['getPacketsLostPerc'](){const _0x33b8f2=_0x359c2e;return this['packets']>0x0?this[_0x33b8f2(0x250)]/this[_0x33b8f2(0xb5)]:0x0;}[_0x359c2e(0xe1)](_0xd37bfb){const _0x305a2b=_0x359c2e;_0xd37bfb>this[_0x305a2b(0xbe)]&&(this[_0x305a2b(0x13a)]=this[_0x305a2b(0xbe)],this['currentTimestamp']=_0xd37bfb);}[_0x359c2e(0x458)](_0x589740){const _0x330184=_0x359c2e;this[_0x330184(0x1fd)]=this[_0x330184(0x384)],this[_0x330184(0x384)]=_0x589740;}}class _0xb4ec70 extends _0x4df940{}class _0x5618dc extends _0x4df940{[_0x359c2e(0x496)]=0x0;[_0x359c2e(0xdf)]=0x0;['frameHeight']=0x0;['currentFrames']=0x0;[_0x359c2e(0x1c0)]=0x0;get[_0x359c2e(0x55b)](){const _0x213698=_0x359c2e;return this[_0x213698(0xbe)]>0x0&&this['previousTimestamp']>0x0&&Date['now']()-this['currentTimestamp']<_0x59b92d?(this[_0x213698(0x307)]-this[_0x213698(0x1c0)])/(this['currentTimestamp']-this['previousTimestamp'])*0x3e8:0x0;}get[_0x359c2e(0x104)](){const _0x160d0c=_0x359c2e;return this[_0x160d0c(0x496)]&&this[_0x160d0c(0x307)]&&this[_0x160d0c(0x307)]>0x0?this[_0x160d0c(0x496)]/this[_0x160d0c(0x307)]:0x0;}set[_0x359c2e(0x19b)](_0x1536b7){const _0x2fecbb=_0x359c2e;this[_0x2fecbb(0x1c0)]=this[_0x2fecbb(0x307)],this[_0x2fecbb(0x307)]=_0x1536b7;}['getReport'](){const _0x37e142=_0x359c2e;return{...super[_0x37e142(0x309)](),'FPS':this[_0x37e142(0x55b)],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x37e142(0xdf)],'frameHeight':this[_0x37e142(0x1ff)]};}['processInboundReport'](_0x313ffe){const _0x988a93=_0x359c2e;super[_0x988a93(0x56f)](_0x313ffe),this['frameTime']=_0x313ffe[_0x988a93(0x16e)],this[_0x988a93(0x19b)]=_0x313ffe[_0x988a93(0x1f3)],this[_0x988a93(0xdf)]=_0x313ffe['frameWidth'],this['frameHeight']=_0x313ffe[_0x988a93(0x1ff)];}[_0x359c2e(0x618)](_0x327a57){const _0x56d5ce=_0x359c2e;super['processOutboundReport'](_0x327a57),this[_0x56d5ce(0x496)]=_0x327a57['totalEncodeTime'],this[_0x56d5ce(0x19b)]=_0x327a57['framesEncoded'],this['frameWidth']=_0x327a57[_0x56d5ce(0xdf)],this[_0x56d5ce(0x1ff)]=_0x327a57[_0x56d5ce(0x1ff)];}}class _0x19d8c8{[_0x359c2e(0x1a3)]=new _0xb4ec70();['video']=new _0x5618dc();get[_0x359c2e(0x438)](){const _0x166bce=_0x359c2e;return this[_0x166bce(0x1a3)]['bitrate']+this['video'][_0x166bce(0x438)];}['processReports'](_0x44b7e7){const _0x1c61a1=_0x359c2e;return _0x44b7e7[_0x1c61a1(0x600)](_0x4d0eb1=>{const _0x5828e3=_0x1c61a1;switch(_0x4d0eb1[_0x5828e3(0x170)]){case _0x5828e3(0x1a3):this['audio'][_0x5828e3(0x2a3)](_0x4d0eb1);break;case _0x5828e3(0x105):this[_0x5828e3(0x105)]['processReport'](_0x4d0eb1);}}),this[_0x1c61a1(0x309)]();}['getReport'](){const _0x604f97=_0x359c2e;return{'audio':this[_0x604f97(0x1a3)][_0x604f97(0x309)](),'video':this['video'][_0x604f97(0x309)](),'roundTripTime':this[_0x604f97(0x3e0)](),'AudioVideoDelay':this[_0x604f97(0xf2)](),'bitrate':this[_0x604f97(0x438)]};}[_0x359c2e(0x3e0)](){const _0x17e3cd=_0x359c2e;return Math['floor']((this[_0x17e3cd(0x1a3)]['roundTripTime']+this[_0x17e3cd(0x105)][_0x17e3cd(0x26a)])/0x2);}[_0x359c2e(0xf2)](){const _0x4fdea7=_0x359c2e;return this['audio']['estimatedPlayoutTimestamp']-this[_0x4fdea7(0x105)][_0x4fdea7(0x4fb)];}}class _0x396fde{['senderCurrentTimestamp']=0x0;[_0x359c2e(0x519)]=0x0;[_0x359c2e(0x239)]=0x0;[_0x359c2e(0x18a)]=0x0;[_0x359c2e(0x372)]=0x0;[_0x359c2e(0xb9)]=0x0;[_0x359c2e(0x2d6)]=0x0;[_0x359c2e(0x2e7)]=0x0;[_0x359c2e(0x5c2)]=0x0;[_0x359c2e(0x9d)]=0x0;[_0x359c2e(0x1d4)]=0x0;[_0x359c2e(0x36e)]=0x0;[_0x359c2e(0x26a)]=0x0;get[_0x359c2e(0x438)](){const _0x22aded=_0x359c2e;return this[_0x22aded(0x188)]+this[_0x22aded(0x62e)];}get['senderBitrate'](){const _0x4bb289=_0x359c2e;return this[_0x4bb289(0x58f)]>0x0&&this[_0x4bb289(0x519)]>0x0&&Date['now']()-this[_0x4bb289(0x58f)]<_0x59b92d?(this[_0x4bb289(0x372)]-this[_0x4bb289(0xb9)])/(this[_0x4bb289(0x58f)]-this[_0x4bb289(0x519)])*0x8*0x3e8:0x0;}get[_0x359c2e(0x62e)](){const _0x579d53=_0x359c2e;return this[_0x579d53(0x239)]>0x0&&this[_0x579d53(0x18a)]>0x0&&Date[_0x579d53(0x4a7)]()-this[_0x579d53(0x239)]<_0x59b92d?(this[_0x579d53(0x2d6)]-this[_0x579d53(0x2e7)])/(this[_0x579d53(0x239)]-this[_0x579d53(0x18a)])*0x8*0x3e8:0x0;}[_0x359c2e(0x2a3)](_0x1aa79e){const _0x16a7ee=_0x359c2e;switch(_0x1aa79e[_0x16a7ee(0x19e)]){case _0xc93616['Sender']:this[_0x16a7ee(0x4a9)](_0x1aa79e);break;case _0xc93616[_0x16a7ee(0x233)]:this['processReceiverReport'](_0x1aa79e);}}[_0x359c2e(0x309)](){const _0xb08556=_0x359c2e;return{'bitrate':this[_0xb08556(0x438)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0xb08556(0x62e)],'totalBytes':this[_0xb08556(0x113)](),'senderTotalBytes':this[_0xb08556(0x2f7)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0xb08556(0x5c2)]+this[_0xb08556(0x9d)],'senderTotalMessages':this[_0xb08556(0x5c2)],'receiverTotalMessages':this[_0xb08556(0x9d)],'timeProcessing':this[_0xb08556(0x1d4)]+this[_0xb08556(0x36e)],'senderTimeProcessing':this[_0xb08556(0x1d4)],'receiverTimeProcessing':this[_0xb08556(0x36e)],'roundTripTime':this[_0xb08556(0x26a)]};}[_0x359c2e(0x113)](){const _0x1ea173=_0x359c2e;return this[_0x1ea173(0x372)]+this[_0x1ea173(0x2d6)];}[_0x359c2e(0x2f7)](){const _0x590148=_0x359c2e;return this[_0x590148(0x372)];}[_0x359c2e(0x342)](){const _0x527ff0=_0x359c2e;return this[_0x527ff0(0x2d6)];}[_0x359c2e(0x4a9)](_0x6d2d87){const _0x36f8c9=_0x359c2e;this[_0x36f8c9(0x5b6)](_0x6d2d87[_0x36f8c9(0x235)]),this['setBytes'](_0x6d2d87[_0x36f8c9(0x52b)]),this[_0x36f8c9(0x5c2)]=_0x6d2d87[_0x36f8c9(0x3d8)],this[_0x36f8c9(0x1d4)]=_0x6d2d87['timeSending'],this[_0x36f8c9(0x26a)]=_0x6d2d87[_0x36f8c9(0x26a)];}[_0x359c2e(0x577)](_0x62c686){const _0x12fd28=_0x359c2e;this[_0x12fd28(0x1ad)](_0x62c686[_0x12fd28(0x235)]),this['setReceiverBytes'](_0x62c686[_0x12fd28(0x1bf)]),this[_0x12fd28(0x9d)]=_0x62c686[_0x12fd28(0x12d)],this[_0x12fd28(0x36e)]=_0x62c686[_0x12fd28(0x444)];}['setSenderTimestamp'](_0x43fd52){const _0x40a189=_0x359c2e;_0x43fd52>this['senderCurrentTimestamp']&&(this[_0x40a189(0x519)]=this[_0x40a189(0x58f)],this['senderCurrentTimestamp']=_0x43fd52);}[_0x359c2e(0x1ad)](_0x58072a){const _0x97969=_0x359c2e;_0x58072a>this[_0x97969(0x239)]&&(this[_0x97969(0x18a)]=this[_0x97969(0x239)],this[_0x97969(0x239)]=_0x58072a);}['setBytes'](_0x1c5b32){this['senderPreviousBytes']=this['senderCurrentBytes'],this['senderCurrentBytes']=_0x1c5b32;}[_0x359c2e(0x55f)](_0x455508){const _0x3b5604=_0x359c2e;this[_0x3b5604(0x2e7)]=this[_0x3b5604(0x2d6)],this[_0x3b5604(0x2d6)]=_0x455508;}}class _0xf962c{[_0x359c2e(0x5e1)]=new Map();['receiverStreams']=new Map();[_0x359c2e(0x325)]=new _0x396fde();get['senderBitrate'](){const _0xab21ae=_0x359c2e;let _0x23e65b=0x0;return this['senderStreams']['forEach'](_0x35b0e9=>{const _0x9d7af3=a0_0x2eba;_0x23e65b+=_0x35b0e9[_0x9d7af3(0x438)];}),_0x23e65b+=this['dataChannel'][_0xab21ae(0x188)],_0x23e65b;}get[_0x359c2e(0x62e)](){const _0x3f68a4=_0x359c2e;let _0x2c867c=0x0;return this[_0x3f68a4(0x50e)][_0x3f68a4(0x600)](_0x2dd8f0=>{_0x2c867c+=_0x2dd8f0['bitrate'];}),_0x2c867c+=this[_0x3f68a4(0x325)][_0x3f68a4(0x62e)],_0x2c867c;}get['bitrate'](){return this['senderBitrate']+this['receiverBitrate'];}[_0x359c2e(0x318)](_0x4945ce,_0x3d1004){const _0xa17feb=_0x359c2e,_0xaa1589=[],_0x35d643=[];return _0x4945ce instanceof Array?_0x4945ce['forEach'](_0x165ebb=>{_0x165ebb['forEach'](_0x522d2e=>{const _0x335d33=a0_0x2eba;_0x3e76aa[_0x335d33(0x457)](_0x522d2e[_0x335d33(0x2d7)])&&_0xaa1589['push'](_0x522d2e),_0x19b271[_0x335d33(0x457)](_0x522d2e['type'])&&_0x35d643[_0x335d33(0x221)](_0x522d2e);});}):this['dataChannel'][_0xa17feb(0x2a3)](_0x4945ce),_0xaa1589[_0xa17feb(0x5cb)]>0x0&&_0x3d1004?{...this[_0xa17feb(0x2ec)](_0x3d1004,_0xaa1589),'origin':_0xc93616[_0xa17feb(0x233)],'streamId':_0x3d1004}:_0x35d643[_0xa17feb(0x5cb)]>0x0&&_0x3d1004?{...this[_0xa17feb(0x176)](_0x3d1004,_0x35d643),'origin':_0xc93616[_0xa17feb(0x1a1)],'streamId':_0x3d1004}:void 0x0;}['getReport'](){const _0x510226=_0x359c2e,_0x2e7b9e={};this[_0x510226(0x5e1)][_0x510226(0x600)]((_0x4de827,_0x21c0bb)=>{const _0x5d56a0=_0x510226;_0x2e7b9e[_0x21c0bb]=_0x4de827[_0x5d56a0(0x309)]();});const _0x25da22={};return this[_0x510226(0x50e)][_0x510226(0x600)]((_0x69d167,_0x31f5f2)=>{const _0x518858=_0x510226;_0x25da22[_0x31f5f2]=_0x69d167[_0x518858(0x309)]();}),{'bitrate':this[_0x510226(0x438)],'senderBitrate':this[_0x510226(0x188)],'receiverBitrate':this[_0x510226(0x62e)],'senderStreams':_0x2e7b9e,'receiverStreams':_0x25da22,'dataChannel':this[_0x510226(0x325)]['getReport']()};}[_0x359c2e(0x2ec)](_0x403efe,_0x25a14c){const _0x4bc92b=_0x359c2e;return this['receiverStreams'][_0x4bc92b(0x531)](_0x403efe)||this['receiverStreams'][_0x4bc92b(0x2f9)](_0x403efe,new _0x19d8c8()),this[_0x4bc92b(0x50e)]['get'](_0x403efe)[_0x4bc92b(0x318)](_0x25a14c);}['processOutboundReports'](_0x54b624,_0xbba9cc){const _0x29f4c6=_0x359c2e;return this['senderStreams'][_0x29f4c6(0x531)](_0x54b624)||this[_0x29f4c6(0x5e1)][_0x29f4c6(0x2f9)](_0x54b624,new _0x19d8c8()),this[_0x29f4c6(0x5e1)]['get'](_0x54b624)[_0x29f4c6(0x318)](_0xbba9cc);}}class _0x5b0710{[_0x359c2e(0x27c)]=new Map();[_0x359c2e(0x2e9)]=0x0;['durationTime']=0x0;[_0x359c2e(0x30b)]=new Map();[_0x359c2e(0x443)]=new Map();[_0x359c2e(0x471)]=new Map();[_0x359c2e(0x5c2)]=new Map();[_0x359c2e(0x9d)]=new Map();['senderTimeProcessing']=new Map();[_0x359c2e(0x36e)]=new Map();[_0x359c2e(0x4b4)]=new Map();['systemTopic'];['getReport'](){const _0x333f46=_0x359c2e,_0x69690d={};this['nodes']['forEach']((_0x12197b,_0x389f87)=>{_0x69690d[_0x389f87]=_0x12197b['getReport']();});let _0x4a76ef=0x0;this[_0x333f46(0x1d4)]['forEach'](_0x4b8dbe=>{_0x4a76ef+=_0x4b8dbe;});let _0x247b1b=0x0;this[_0x333f46(0x36e)][_0x333f46(0x600)](_0x12a449=>{_0x247b1b+=_0x12a449;});const _0x3d6730=_0x4a76ef+_0x247b1b;let _0xe630af={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x27cf2b=>{const _0x141a6e=_0x333f46;Object[_0x141a6e(0x43a)](_0x27cf2b)[_0x141a6e(0x600)](_0xec9dac=>{const _0x28fda7=_0x141a6e;_0xe630af[_0xec9dac]||(_0xe630af[_0xec9dac]={}),Object[_0x28fda7(0x43a)](_0x27cf2b[_0xec9dac])[_0x28fda7(0x600)](_0x3a54e8=>{_0xe630af[_0xec9dac][_0x3a54e8]||(_0xe630af[_0xec9dac][_0x3a54e8]=0x0),_0xe630af[_0xec9dac][_0x3a54e8]+=_0x27cf2b[_0xec9dac][_0x3a54e8];});});});let _0x1503fc=0x0,_0x565c79=0x0,_0x38d6a0=0x0,_0x51ddcd=0x0,_0x44e5f4=0x0;return this[_0x333f46(0x30b)][_0x333f46(0x600)](_0x3694f4=>{const _0x5a31e2=_0x333f46;_0x565c79+=_0x3694f4['messagesSent'],_0x38d6a0+=_0x3694f4[_0x5a31e2(0x12d)],_0x51ddcd+=_0x3694f4[_0x5a31e2(0x52b)],_0x44e5f4+=_0x3694f4[_0x5a31e2(0x1bf)];}),this[_0x333f46(0x443)][_0x333f46(0x600)](_0xbbc5da=>{const _0x26f5f8=_0x333f46;_0x1503fc+=_0xbbc5da['storage'],_0x565c79+=_0xbbc5da[_0x26f5f8(0x3d8)],_0x38d6a0+=_0xbbc5da[_0x26f5f8(0x12d)],_0x51ddcd+=_0xbbc5da[_0x26f5f8(0x52b)],_0x44e5f4+=_0xbbc5da[_0x26f5f8(0x1bf)];}),this['keyValueDatabases'][_0x333f46(0x600)](_0x10baa9=>{const _0x2b99f2=_0x333f46;_0x1503fc+=_0x10baa9['storage'],_0x565c79+=_0x10baa9[_0x2b99f2(0x3d8)],_0x38d6a0+=_0x10baa9[_0x2b99f2(0x12d)],_0x51ddcd+=_0x10baa9[_0x2b99f2(0x52b)],_0x44e5f4+=_0x10baa9['bytesReceived'];}),{'STVolatility':this[_0x333f46(0x56c)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x333f46(0x29b)](),'senderBitrate':this[_0x333f46(0x17b)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x1503fc,'totalMessages':_0x565c79+_0x38d6a0,'totalMessagesSent':_0x565c79,'totalMessagesReceived':_0x38d6a0,'totalBytes':_0x51ddcd+_0x44e5f4,'totalBytesSent':_0x51ddcd,'totalBytesReceived':_0x44e5f4,'systemMessages':_0xe630af,'timeProcessing':_0x3d6730,'nodes':_0x69690d,'pubsubTopics':Object[_0x333f46(0x347)](this[_0x333f46(0x30b)]),'objectStores':Object[_0x333f46(0x347)](this[_0x333f46(0x443)]),'keyValueDatabases':Object[_0x333f46(0x347)](this['keyValueDatabases'])};}['addRemoteNode'](_0x4dc1aa){const _0x52e93f=_0x359c2e;this['nodes'][_0x52e93f(0x2f9)](_0x4dc1aa,new _0xf962c());}[_0x359c2e(0x148)](_0x90653f){const _0x4eb0ea=_0x359c2e;this[_0x4eb0ea(0x27c)][_0x4eb0ea(0x1c7)](_0x90653f);}[_0x359c2e(0x318)](_0x7714b8,_0x26e90b,_0x318eec){const _0x6daeca=_0x359c2e;_0x26e90b instanceof Array||this[_0x6daeca(0x336)](_0x7714b8,_0x26e90b);const _0x6dc883=this[_0x6daeca(0x27c)][_0x6daeca(0x265)](_0x7714b8)?.['processReports'](_0x26e90b,_0x318eec);_0x6dc883&&this[_0x6daeca(0x43f)][_0x6daeca(0x9a)]({'sourceId':_0x5d7eff,'messageType':_0x403a0f[_0x6daeca(0x5bd)],'content':{'type':_0x3f0799['StreamReport'],'data':{..._0x6dc883,'nodeId':_0x7714b8}}});}['processLocalReport'](_0xf67cae){const _0x548f33=_0x359c2e;this[_0x548f33(0x624)](_0xf67cae[_0x548f33(0x2a0)]),this[_0x548f33(0x95)](_0xf67cae[_0x548f33(0x522)]),this['systemTopic']['publish']({'sourceId':_0x5d7eff,'messageType':_0x403a0f['Stats'],'content':{'type':_0x3f0799[_0x548f33(0x9f)],'data':{'STVolatility':this[_0x548f33(0x56c)](),'DTVolatility':this['getDTVolatility']()}}});}[_0x359c2e(0x5fa)](_0x5f4b04,_0x749ba7,_0x18a159){const _0x4a4144=_0x359c2e;switch(_0x749ba7){case _0x114c1e['PubSubTopicStats']:this[_0x4a4144(0x30b)][_0x4a4144(0x2f9)](_0x5f4b04,_0x18a159);break;case _0x114c1e[_0x4a4144(0xec)]:this[_0x4a4144(0x443)][_0x4a4144(0x2f9)](_0x5f4b04,_0x18a159);break;case _0x114c1e[_0x4a4144(0x515)]:this['keyValueDatabases']['set'](_0x5f4b04,_0x18a159);}}[_0x359c2e(0x4c5)](_0x5df3e0){const _0x3cfd6f=_0x359c2e;this[_0x3cfd6f(0x43f)]=_0x5df3e0;}[_0x359c2e(0x331)](){const _0x26f47a=_0x359c2e;delete this[_0x26f47a(0x43f)];}[_0x359c2e(0x56c)](){const _0x29b353=_0x359c2e;return this['scheduleTime']>0x0&&this[_0x29b353(0x2e9)]-_0x40bc7e>0x0?(this[_0x29b353(0x2e9)]-_0x40bc7e)/_0x40bc7e:0x0;}[_0x359c2e(0x5a2)](){const _0x112f54=_0x359c2e;return this[_0x112f54(0x522)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x112f54(0x522)]-0x64)/0x64:0x0;}[_0x359c2e(0x17b)](){const _0x3057bd=_0x359c2e;let _0x456b35=0x0;return this[_0x3057bd(0x27c)][_0x3057bd(0x600)](_0x229365=>{_0x456b35+=_0x229365['senderBitrate'];}),_0x456b35;}['getReceiverBitrate'](){let _0x266e70=0x0;return this['nodes']['forEach'](_0x4d592f=>{const _0x4966b0=a0_0x2eba;_0x266e70+=_0x4d592f[_0x4966b0(0x62e)];}),_0x266e70;}['getBitrate'](){const _0x387d15=_0x359c2e;let _0x44b8d3=0x0;return this[_0x387d15(0x27c)][_0x387d15(0x600)](_0x32edff=>{const _0x27cc4b=_0x387d15;_0x44b8d3+=_0x32edff[_0x27cc4b(0x438)];}),_0x44b8d3;}['setScheduleTime'](_0x489a30){const _0x1dd992=_0x359c2e;this[_0x1dd992(0x2e9)]=_0x489a30;}[_0x359c2e(0x95)](_0x21f7bd){const _0x313961=_0x359c2e;this[_0x313961(0x522)]=_0x21f7bd;}[_0x359c2e(0x336)](_0x38a3a5,_0x58f481){const _0xc6bc0f=_0x359c2e;switch(_0x58f481['origin']){case _0xc93616['Sender']:this[_0xc6bc0f(0x4a9)](_0x38a3a5,_0x58f481);break;case _0xc93616[_0xc6bc0f(0x233)]:this[_0xc6bc0f(0x577)](_0x38a3a5,_0x58f481);}}['processSenderReport'](_0x1f4347,_0x5c2af6){const _0x3f7c0f=_0x359c2e;this[_0x3f7c0f(0x5c2)][_0x3f7c0f(0x2f9)](_0x1f4347,_0x5c2af6[_0x3f7c0f(0x3d8)]),this[_0x3f7c0f(0x1d4)]['set'](_0x1f4347,_0x5c2af6[_0x3f7c0f(0x53d)]);}[_0x359c2e(0x577)](_0x3e50e5,_0x4e9bbe){const _0x172a49=_0x359c2e;this['receiverTotalMessages']['set'](_0x3e50e5,_0x4e9bbe[_0x172a49(0x12d)]),this[_0x172a49(0x36e)][_0x172a49(0x2f9)](_0x3e50e5,_0x4e9bbe[_0x172a49(0x444)]),this['systemMessages'][_0x172a49(0x2f9)](_0x3e50e5,_0x4e9bbe[_0x172a49(0x4b4)]);}}class _0x261042{[_0x359c2e(0x494)];[_0x359c2e(0x1d7)]=new Set();[_0x359c2e(0x251)];[_0x359c2e(0x199)];['statsReporting'];[_0x359c2e(0x616)]=new _0x5b0710();constructor(_0x635b9b){const _0x220dca=_0x359c2e;this[_0x220dca(0x494)]=_0x635b9b,this[_0x220dca(0x494)][_0x220dca(0x24f)][_0x220dca(0x413)](this['statsReport']),this['statsCollection']=this[_0x220dca(0x25d)](),this[_0x220dca(0x26d)]=this[_0x220dca(0x535)]();}[_0x359c2e(0x57d)](){const _0x8a8958=_0x359c2e;this['configs'][_0x8a8958(0x24f)]['unregisterSystemSource'](this[_0x8a8958(0x616)]),this[_0x8a8958(0x26d)](),this[_0x8a8958(0x199)]();}[_0x359c2e(0x645)](_0x325994){const _0x42c926=_0x359c2e;this['remoteNodes'][_0x42c926(0x5bf)](_0x325994),this[_0x42c926(0x616)][_0x42c926(0x645)](_0x325994);}[_0x359c2e(0x148)](_0x17f419){const _0x774a9f=_0x359c2e;this[_0x774a9f(0x1d7)][_0x774a9f(0x1c7)](_0x17f419),this['statsReport'][_0x774a9f(0x148)](_0x17f419);}[_0x359c2e(0x3d9)](_0x2c133f){const _0x20de83=_0x359c2e;if(_0x2c133f[_0x20de83(0x232)]['type']===_0x1577ee[_0x20de83(0x5bd)]){const {nodeId:_0x5193f8,streamId:_0x4e2e6e,stats:_0x41d7b2}=_0x2c133f[_0x20de83(0x232)];this[_0x20de83(0x616)][_0x20de83(0x318)](_0x5193f8,_0x41d7b2,_0x4e2e6e);}}[_0x359c2e(0x1e2)](_0x3cf11f){const _0x42d0f9=_0x359c2e;switch(_0x3cf11f[_0x42d0f9(0x232)][_0x42d0f9(0x2d7)]){case _0x114c1e[_0x42d0f9(0xec)]:case _0x114c1e[_0x42d0f9(0x515)]:case _0x114c1e[_0x42d0f9(0x377)]:this['statsReport']['processServiceReport'](_0x3cf11f[_0x42d0f9(0x232)]['label'],_0x3cf11f[_0x42d0f9(0x232)]['type'],_0x3cf11f[_0x42d0f9(0x232)][_0x42d0f9(0x4df)]);}}[_0x359c2e(0x535)](){return _0x4df92f['setInterval'](()=>{const _0x55eedd=a0_0x2eba,_0x28d908=this[_0x55eedd(0x616)][_0x55eedd(0x309)]();_0x21773c[_0x55eedd(0x35d)](_0x5e3d2b[_0x55eedd(0x5bd)],_0x55eedd(0x5a6),_0x28d908),(0x0,_0x18f094[_0x55eedd(0x605)])((0x0,_0x18f094['collection'])(_0x3104fb['getFirestore'](),_0x55eedd(0x1fa)+this[_0x55eedd(0x494)]['vendorId']+_0x55eedd(0x11b)),{'clusterId':this['configs'][_0x55eedd(0xff)],'nodeId':this[_0x55eedd(0x494)][_0x55eedd(0x1ac)][_0x55eedd(0x22e)](),'nodeType':this[_0x55eedd(0x494)][_0x55eedd(0x1ac)][_0x55eedd(0x2d7)],'timestamp':(0x0,_0x18f094[_0x55eedd(0x1cc)])(),'report':_0x28d908}),_0x21773c['logEvent'](_0x55eedd(0x4df),{'clusterId':this[_0x55eedd(0x494)][_0x55eedd(0xff)],'nodeId':this['configs'][_0x55eedd(0x1ac)][_0x55eedd(0x22e)](),'nodeType':this[_0x55eedd(0x494)][_0x55eedd(0x1ac)][_0x55eedd(0x2d7)],'data':{'report':_0x28d908}});},_0x59b92d);}['setupStatsCollection'](){let _0x5f1539=!0x1,_0x4d8e8b=Date['now']();return _0x4df92f['setInterval'](async()=>{const _0x4a265f=a0_0x2eba;if(_0x5f1539)return;if(_0x5f1539=!0x0,0x0===this[_0x4a265f(0x1d7)]['size'])return delete this[_0x4a265f(0x251)],void(_0x5f1539=!0x1);const _0x270890=Date[_0x4a265f(0x4a7)]();this[_0x4a265f(0x22a)]();try{await this[_0x4a265f(0x494)][_0x4a265f(0x24f)][_0x4a265f(0x2a8)](this[_0x4a265f(0x251)]);}catch(_0x4c4742){}this['statsReport'][_0x4a265f(0x5d7)]({'secheduleTime':_0x270890-_0x4d8e8b,'durationTime':Date[_0x4a265f(0x4a7)]()-_0x270890}),_0x4d8e8b=_0x270890,_0x5f1539=!0x1;},_0x40bc7e);}[_0x359c2e(0x22a)](){const _0x1df2cb=_0x359c2e;let _0x81f131,_0x3fc743=!0x1;this[_0x1df2cb(0x251)]&&(this[_0x1df2cb(0x1d7)][_0x1df2cb(0x531)](this[_0x1df2cb(0x251)])||delete this[_0x1df2cb(0x251)]);for(const _0xd39798 of this[_0x1df2cb(0x1d7)])if(_0x81f131||(_0x81f131=_0xd39798),this[_0x1df2cb(0x251)]!==_0xd39798){if(_0x3fc743)return void(this[_0x1df2cb(0x251)]=_0xd39798);}else _0x3fc743=!0x0,delete this[_0x1df2cb(0x251)];this[_0x1df2cb(0x251)]||(this['nextNodeId']=_0x81f131);}}class _0x3338ac{['source'];[_0x359c2e(0x367)];['systemTopic'];constructor(_0x546f0d,_0x32233c){const _0x341d10=_0x359c2e;this[_0x341d10(0x373)]=_0x546f0d,this['destination']=_0x32233c;}[_0x359c2e(0x4c5)](_0x2bea89){const _0x3cadef=_0x359c2e;this[_0x3cadef(0x43f)]=_0x2bea89;}[_0x359c2e(0x331)](){const _0x4dc876=_0x359c2e;delete this[_0x4dc876(0x43f)];}}class _0x154e8e extends _0x3338ac{['source'];['destination'];[_0x359c2e(0x14b)];constructor(_0x4aba89,_0x564a75,_0x6b7591){const _0x1cdc96=_0x359c2e;super(_0x4aba89,_0x564a75),this[_0x1cdc96(0x373)]=_0x4aba89,this[_0x1cdc96(0x367)]=_0x564a75,this[_0x1cdc96(0x14b)]=_0x6b7591;}[_0x359c2e(0x570)](_0x4d91b1,_0x36265c,_0x157838){const _0xc3ea4d=_0x359c2e;if(this['destination'][_0xc3ea4d(0xce)]()===_0x883b7d['ContentType'][_0xc3ea4d(0x61f)]){const _0xb1399f={'type':_0x4b36c1[_0xc3ea4d(0x334)],'label':this[_0xc3ea4d(0x367)]['getLabel'](),'ownerId':_0x4d91b1,'trackKinds':_0x36265c??this[_0xc3ea4d(0x367)]['getAvailableTrackKinds'](),'params':_0x157838};this['systemTopic'][_0xc3ea4d(0x9a)]({'sourceId':this[_0xc3ea4d(0x373)][_0xc3ea4d(0x218)](),'destinationIds':[this[_0xc3ea4d(0x373)][_0xc3ea4d(0x5d0)]()],'messageType':_0x403a0f[_0xc3ea4d(0x2b9)],'content':_0xb1399f}),this[_0xc3ea4d(0x14b)]=_0x157838;}}['update'](_0xcd1355,_0x2f7269){const _0x2226f8=_0x359c2e;if(this[_0x2226f8(0x367)]['getContentType']()===_0x883b7d['ContentType'][_0x2226f8(0x61f)]){const _0x34590c={'type':_0x4b36c1[_0x2226f8(0xa5)],'label':this[_0x2226f8(0x367)][_0x2226f8(0x287)](),'ownerId':_0xcd1355,'params':_0x2f7269};this[_0x2226f8(0x43f)][_0x2226f8(0x9a)]({'sourceId':this[_0x2226f8(0x373)][_0x2226f8(0x218)](),'destinationIds':[this[_0x2226f8(0x373)][_0x2226f8(0x5d0)]()],'messageType':_0x403a0f[_0x2226f8(0x2b9)],'content':_0x34590c}),this['params']=_0x2f7269;}}[_0x359c2e(0x244)](_0x47a9b1,_0xff4b37,_0x3bbe7c){const _0x1611c4=_0x359c2e;if(this[_0x1611c4(0x367)][_0x1611c4(0xce)]()===_0x883b7d[_0x1611c4(0x3f6)][_0x1611c4(0x61f)]){const _0x26d1e1={'type':_0x4b36c1['UnsubscribeMediaStream'],'label':this[_0x1611c4(0x367)][_0x1611c4(0x287)](),'ownerId':_0x47a9b1,'trackKinds':_0x3bbe7c??this[_0x1611c4(0x367)][_0x1611c4(0x586)](),'remainingTracks':_0xff4b37};this[_0x1611c4(0x43f)][_0x1611c4(0x9a)]({'sourceId':this[_0x1611c4(0x373)][_0x1611c4(0x218)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x403a0f[_0x1611c4(0x2b9)],'content':_0x26d1e1});}}}class _0xf855bb{[_0x359c2e(0x54c)];[_0x359c2e(0x35c)];[_0x359c2e(0x499)];[_0x359c2e(0x43f)];[_0x359c2e(0x5e2)]=new Set();[_0x359c2e(0x258)]=Date['now']();['params'];[_0x359c2e(0x469)]=0x0;constructor(_0xd4b7c1,_0x6a75ce,_0x1ecab3,_0x2b8803){const _0x4e4cde=_0x359c2e;this['currentDistance']=_0x6a75ce,this[_0x4e4cde(0x35c)]=_0x1ecab3,this['tracks']=_0x2b8803,_0xd4b7c1[_0x4e4cde(0x600)](_0x378747=>{const _0x19e9ea=_0x4e4cde;this['answers'][_0x19e9ea(0x5bf)]({'nodeId':_0x378747,'type':_0x29eb7c['Waiting']});});}['getTracks'](){const _0x3d1866=_0x359c2e;return this[_0x3d1866(0x499)];}[_0x359c2e(0x4c5)](_0x3893bc){const _0x4095a5=_0x359c2e;this[_0x4095a5(0x43f)]=_0x3893bc;}[_0x359c2e(0x331)](){const _0x1a447f=_0x359c2e;delete this[_0x1a447f(0x43f)];}[_0x359c2e(0xa2)](_0x4ee66f,_0x47fd21){const _0x1852c4=_0x359c2e;this[_0x1852c4(0x258)]=Date[_0x1852c4(0x4a7)](),this[_0x1852c4(0x5e2)][_0x1852c4(0x288)](),_0x4ee66f[_0x1852c4(0x600)](_0x5ab2d7=>{const _0x2d5597=_0x1852c4;this[_0x2d5597(0x5e2)][_0x2d5597(0x5bf)]({'nodeId':_0x5ab2d7,'type':_0x29eb7c['Waiting']});}),this['retryCount']+=0x1,this['currentDistance']=_0x47fd21;}['sendRequest'](_0x4a6ddc,_0x5e0ee6,_0x365c57,_0x36dd48,_0x219757){const _0x44d6a1=_0x359c2e;if(this['retryCount']>0xa)throw new _0x2e0415(_0x2e0415[_0x44d6a1(0xc9)][_0x44d6a1(0x3b5)],{'answers':Array[_0x44d6a1(0x163)](this[_0x44d6a1(0x5e2)])['map'](_0x549c64=>({'nodeId':_0x549c64[_0x44d6a1(0x198)],'type':_0x549c64['type']}))});const _0x18b598=Array[_0x44d6a1(0x163)](this['answers'])[_0x44d6a1(0x391)](_0x4b0694=>_0x4b0694[_0x44d6a1(0x198)]);this[_0x44d6a1(0x14b)]=_0x219757,this[_0x44d6a1(0x43f)][_0x44d6a1(0x9a)]({'sourceId':_0x4a6ddc,'destinationIds':_0x18b598,'messageType':_0x403a0f[_0x44d6a1(0x2b9)],'content':{'type':_0x4b36c1['NeedMediaStream'],'label':_0x365c57,'ownerId':_0x5e0ee6,'trackKinds':_0x36dd48,'params':_0x219757}}),_0x21773c[_0x44d6a1(0x35d)](_0x5e3d2b['Subscription'],_0x44d6a1(0x286),_0x4a6ddc,_0x18b598);}[_0x359c2e(0x603)](_0x4fdc27,_0x298cbf){const _0x347a77=_0x359c2e;switch(_0x298cbf['type']){case _0x4b36c1[_0x347a77(0x5e3)]:{const _0x5e7398=this['currentDistance']>=_0x298cbf[_0x347a77(0x93)]&&_0x298cbf[_0x347a77(0x93)]<=this['maxDistance'],_0x521237=Array[_0x347a77(0x163)](this['answers'])[_0x347a77(0x3c6)](_0x364967=>_0x364967[_0x347a77(0x198)]===_0x4fdc27);_0x521237[_0x347a77(0x2d7)]=_0x5e7398?_0x29eb7c[_0x347a77(0x4bf)]:_0x29eb7c[_0x347a77(0x189)],_0x521237[_0x347a77(0x473)]=_0x298cbf[_0x347a77(0x473)],_0x521237['distance']=_0x298cbf[_0x347a77(0x93)],_0x521237[_0x347a77(0x10b)]=_0x298cbf[_0x347a77(0x10b)],_0x521237[_0x347a77(0x26a)]=Date[_0x347a77(0x4a7)]()-this[_0x347a77(0x258)],_0x521237[_0x347a77(0x14b)]=this[_0x347a77(0x14b)],_0x521237[_0x347a77(0x470)]=_0x298cbf['ownerId'],_0x521237[_0x347a77(0x24c)]=_0x298cbf[_0x347a77(0x24c)],_0x521237[_0x347a77(0x8b)]=_0x298cbf[_0x347a77(0x140)],_0x21773c[_0x347a77(0x35d)](_0x5e3d2b[_0x347a77(0x2b9)],(_0x5e7398?'Accepted':'Rejected')+_0x347a77(0x20c),_0x521237);break;}case _0x4b36c1['CannotProvideMediaStream']:{const _0x34988c=Array[_0x347a77(0x163)](this[_0x347a77(0x5e2)])[_0x347a77(0x3c6)](_0x4f8163=>_0x4f8163[_0x347a77(0x198)]===_0x4fdc27);_0x34988c[_0x347a77(0x2d7)]=_0x29eb7c[_0x347a77(0x189)],_0x21773c[_0x347a77(0x35d)](_0x5e3d2b['Subscription'],_0x347a77(0x5b5),_0x34988c);break;}}if(this[_0x347a77(0x1bc)]())return this[_0x347a77(0x1fe)]();}[_0x359c2e(0x1fe)](){const _0x354e97=_0x359c2e,_0x2e1efd=Array[_0x354e97(0x163)](this[_0x354e97(0x5e2)])[_0x354e97(0x5d5)](_0x546bd8=>_0x546bd8[_0x354e97(0x2d7)]===_0x29eb7c[_0x354e97(0x4bf)])[_0x354e97(0x4ba)]((_0x3bdef0,_0x1ed0d0)=>_0x3bdef0[_0x354e97(0x473)]===_0x1ed0d0[_0x354e97(0x473)]?_0x3bdef0[_0x354e97(0x26a)]-_0x1ed0d0[_0x354e97(0x26a)]:_0x3bdef0[_0x354e97(0x473)]-_0x1ed0d0[_0x354e97(0x473)]);if(0x0===_0x2e1efd[_0x354e97(0x5cb)])throw new _0x2e0415(_0x2e0415[_0x354e97(0xc9)][_0x354e97(0x3b5)],{'answers':Array['from'](this[_0x354e97(0x5e2)])[_0x354e97(0x391)](_0x30e534=>({'nodeId':_0x30e534[_0x354e97(0x198)],'type':_0x30e534[_0x354e97(0x2d7)]}))});return _0x21773c[_0x354e97(0x35d)](_0x5e3d2b[_0x354e97(0x2b9)],_0x354e97(0x4ee),_0x2e1efd[0x0],this[_0x354e97(0x5e2)]),_0x2e1efd[0x0];}[_0x359c2e(0x1bc)](){const _0x5d1b6e=_0x359c2e;for(const _0x84b8d6 of this[_0x5d1b6e(0x5e2)])if(_0x84b8d6[_0x5d1b6e(0x2d7)]===_0x29eb7c['Waiting'])return!0x1;return!0x0;}}class _0x4fb9bd{[_0x359c2e(0x140)];['contentType'];[_0x359c2e(0x277)]=_0x36be06();constructor(_0xa35c9e,_0x29e3a0){const _0x149e32=_0x359c2e;this[_0x149e32(0x140)]=_0xa35c9e,this['contentType']=_0x29e3a0;}[_0x359c2e(0x287)](){const _0x3decba=_0x359c2e;return this[_0x3decba(0x140)];}[_0x359c2e(0xce)](){return this['contentType'];}[_0x359c2e(0x5c3)](_0x3b6c03){const _0x259a00=_0x359c2e;_0x3b6c03[_0x259a00(0x253)](this);}[_0x359c2e(0x486)](_0x46e7a5){const _0x5c7671=_0x359c2e;_0x46e7a5[_0x5c7671(0x179)](this);}[_0x359c2e(0x9a)](_0x4132ba){const _0x4a5553=_0x359c2e;this['listener'][_0x4a5553(0x9a)]({'topicLabel':this[_0x4a5553(0x140)],'contentType':this[_0x4a5553(0x564)],'uuid':(0x0,_0x3696f7['v4'])(),'recipients':[],..._0x4132ba});}[_0x359c2e(0x570)](_0x32e50c){const _0x406477=_0x359c2e;return this[_0x406477(0x277)]['subscribe'](_0x32e50c);}[_0x359c2e(0x94)](_0x5424eb){const _0x326aa4=_0x359c2e;_0x5424eb[_0x326aa4(0x569)](this);}[_0x359c2e(0x5ef)](_0x39e199){_0x39e199['unregisterSubscriber'](this);}}class _0x5145a6{[_0x359c2e(0x11a)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x25d2e6){const _0x285a89=_0x359c2e;this[_0x285a89(0x25a)]=_0x25d2e6;}get[_0x359c2e(0xcd)](){return this['maps']['subscriptions'];}get['topics'](){const _0x19b74b=_0x359c2e;return this[_0x19b74b(0x11a)][_0x19b74b(0x337)];}[_0x359c2e(0x2a6)](_0x25413a,_0x322b4c){const _0x15fcb5=_0x359c2e,_0x547b7f=this[_0x15fcb5(0x25a)](_0x322b4c),_0x40a2a=_0x4fdd5a(_0x25413a);if(!_0x547b7f[_0x15fcb5(0x36a)])throw new _0x2e0415(_0x2e0415['codes'][_0x15fcb5(0x51d)],{'message':_0x40a2a+':\x20'+_0x547b7f['remoteId']+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x547b7f[_0x15fcb5(0x564)],'subscriptionType':_0x25413a,'subscription':_0x322b4c,'subscriptonParts':_0x547b7f});const _0x1f1e87=_0x195971(_0x25413a,_0x547b7f);if(this[_0x15fcb5(0x11a)][_0x15fcb5(0xcd)][_0x15fcb5(0x531)](_0x1f1e87))throw new _0x2e0415(_0x2e0415['codes'][_0x15fcb5(0x51d)],{'message':_0x40a2a+':\x20'+_0x1f1e87+'\x20already\x20exists','subscriptionType':_0x25413a,'subscription':_0x322b4c,'subscriptonParts':_0x547b7f});this[_0x15fcb5(0x11a)][_0x15fcb5(0xcd)][_0x15fcb5(0x2f9)](_0x1f1e87,_0x322b4c),this[_0x15fcb5(0x2af)](_0x547b7f,_0x322b4c);}[_0x359c2e(0x382)](_0x18da51,_0x4d0b48){const _0x3122a5=_0x359c2e,_0x37493f=_0x195971(_0x4d0b48,_0x18da51),_0x44ce0f=this[_0x3122a5(0x11a)]['subscriptions']['get'](_0x37493f);if(!_0x44ce0f)throw new _0x2e0415(_0x2e0415[_0x3122a5(0xc9)][_0x3122a5(0x51d)],{'message':_0x4fdd5a(_0x4d0b48)+':\x20'+_0x37493f+_0x3122a5(0x374),'subscriptionType':_0x4d0b48,'subscription':_0x44ce0f,'subscriptonParts':_0x18da51});this[_0x3122a5(0x583)](_0x44ce0f,_0x37493f,_0x18da51);}['closeSubscription'](_0x4cd38c,_0x399047,_0x4456e1){const _0x4faa1d=_0x359c2e;_0x4456e1=_0x4456e1||this['getPartsFromSubscription'](_0x4cd38c),this[_0x4faa1d(0x11a)][_0x4faa1d(0xcd)][_0x4faa1d(0x1c7)](_0x399047),this['removeTopic'](_0x4456e1,_0x4cd38c);}[_0x359c2e(0x2af)](_0x5ef5d3,{source:_0x49287e,destination:_0x56d6e7}){const _0x39bfd9=_0x359c2e,{contentType:_0x535586,label:_0x1cba71,remoteId:_0x208fcb}=_0x5ef5d3,_0x194ab6=_0x34928b(_0x535586,_0x1cba71,_0x208fcb),_0x41e70e=new _0x4fb9bd(_0x194ab6,_0x535586);_0x41e70e[_0x39bfd9(0x5c3)](_0x49287e),_0x41e70e[_0x39bfd9(0x486)](_0x56d6e7),this[_0x39bfd9(0x11a)][_0x39bfd9(0x337)][_0x39bfd9(0x2f9)](_0x41e70e[_0x39bfd9(0x287)](),_0x41e70e);}[_0x359c2e(0x3ef)](_0xd02430,_0x130c8c){const _0x36a2ee=_0x359c2e,{contentType:_0x1aff9b,label:_0x5a1451,remoteId:_0x33f34a}=_0xd02430,_0x5a5a99=_0x34928b(_0x1aff9b,_0x5a1451,_0x33f34a),_0x1b169c=this[_0x36a2ee(0x11a)][_0x36a2ee(0x337)][_0x36a2ee(0x265)](_0x5a5a99);_0x1b169c&&(this['closeTopic'](_0x1b169c,_0x130c8c),this['maps'][_0x36a2ee(0x337)][_0x36a2ee(0x1c7)](_0x5a5a99));}[_0x359c2e(0x323)](_0x462d94,{source:_0x4de69b,destination:_0x59acb9}){const _0x54a78a=_0x359c2e;_0x462d94[_0x54a78a(0x94)](_0x4de69b),_0x462d94[_0x54a78a(0x5ef)](_0x59acb9);}[_0x359c2e(0x378)](_0x3a34b1){const _0x1b40f8=_0x359c2e;this[_0x1b40f8(0x11a)][_0x1b40f8(0xcd)]['forEach']((_0x2d7ca1,_0x18cd26)=>{const _0x2da768=_0x1b40f8;_0x18cd26[_0x2da768(0x2b4)](_0x3a34b1)&&this[_0x2da768(0x583)](_0x2d7ca1,_0x18cd26);});}}class _0x4b49a1{[_0x359c2e(0x494)];['maxDistance'];[_0x359c2e(0x636)]=new Map();[_0x359c2e(0x428)]=_0x3cace4(new _0x13eafc(this[_0x359c2e(0x5a3)][_0x359c2e(0x4e8)](this),()=>_0x4df92f[_0x359c2e(0x33e)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();[_0x359c2e(0x11a)];['chosenAnswers']=new Map();constructor(_0x46a227,_0x3f2ffc){const _0x4e4db3=_0x359c2e;this['configs']=_0x46a227,this[_0x4e4db3(0x35c)]=_0x3f2ffc,this[_0x4e4db3(0x11a)]=new _0x5145a6(({source:_0x34c748,destination:_0x793073})=>_0x241533(_0x793073,_0x34c748));}[_0x359c2e(0x2a6)](_0x12f24e,_0x1e61ce){const _0x5ca985=_0x359c2e,_0x81774f=this[_0x5ca985(0x5c1)](_0x12f24e)&&this[_0x5ca985(0x4c1)](_0x1e61ce)?new _0x154e8e(_0x12f24e,_0x1e61ce):new _0x3338ac(_0x12f24e,_0x1e61ce);this['maps'][_0x5ca985(0x2a6)](_0x455723[_0x5ca985(0x637)],_0x81774f),this[_0x5ca985(0x494)]['mediator'][_0x5ca985(0x413)](_0x81774f);}['removeSubscription'](_0x292dff,_0x45d0f3,_0x55a599=''){const _0x3a1954=_0x359c2e,_0x4d2f16={'contentType':_0x45d0f3,'label':_0x292dff,'remoteId':_0x55a599},_0x2bb6ab=_0x195971(_0x455723['Incoming'],_0x4d2f16),_0x39628f=this[_0x3a1954(0x11a)][_0x3a1954(0xcd)][_0x3a1954(0x265)](_0x2bb6ab);_0x39628f&&this[_0x3a1954(0x583)](_0x39628f,_0x2bb6ab);}[_0x359c2e(0x49f)](_0x456674){this['removeRemoteStreamSubscription'](_0x456674);}['handleContentSubscribeMediaStream']({label:_0x5c1740,ownerId:_0x536b82,trackKinds:_0x3fd90a,params:_0x2e522f}){const _0x430d4f=_0x359c2e;this[_0x430d4f(0x2ae)](_0x5c1740,_0x536b82,_0x3fd90a,_0x2e522f);}[_0x359c2e(0x49d)]({ownerId:_0x339eb8,label:_0xa6066c,params:_0x3fca8c}){const _0x313a14=_0x359c2e,{subscriptionLabel:_0x4eda6b}=this[_0x313a14(0x5d9)](_0xa6066c,_0x339eb8),_0x54c28a=this[_0x313a14(0x441)](_0x4eda6b);_0x54c28a&&_0x54c28a[_0x313a14(0x195)](_0x339eb8,_0x3fca8c);}[_0x359c2e(0xc7)]({ownerId:_0x383c46,label:_0x2cc7d6,trackKinds:_0x562a55,remainingTracks:_0xa03ddd}){const _0x2cfddf=_0x359c2e,_0x4da461=_0x195971(_0x455723['Incoming'],{'contentType':_0x883b7d[_0x2cfddf(0x3f6)][_0x2cfddf(0x61f)],'label':_0x2cc7d6,'remoteId':_0x383c46});this[_0x2cfddf(0x8a)](_0x4da461);const _0x1cc733=this[_0x2cfddf(0x636)][_0x2cfddf(0x265)](_0x4da461);_0x1cc733&&(this[_0x2cfddf(0x494)][_0x2cfddf(0x24f)][_0x2cfddf(0x106)](_0x1cc733),this[_0x2cfddf(0x636)]['delete'](_0x4da461));const {parts:_0x5e08bf,subscriptionLabel:_0x11cf4a}=this[_0x2cfddf(0x5d9)](_0x2cc7d6,_0x383c46),_0x1595e6=this[_0x2cfddf(0x441)](_0x11cf4a);_0x1595e6&&(_0x1595e6[_0x2cfddf(0x244)](_0x383c46,_0xa03ddd,_0x562a55),0x0===_0xa03ddd&&this[_0x2cfddf(0x382)](_0x5e08bf[_0x2cfddf(0x140)],_0x5e08bf['contentType'],_0x5e08bf[_0x2cfddf(0x414)]));}[_0x359c2e(0x487)](_0x3242f6,{label:_0x3a2d54,ownerId:_0x1ad43f,trackKinds:_0x4622be,streamId:_0x18321e,params:_0x2b77c5}){const _0x1038f4=_0x359c2e,_0x14805b=_0x195971(_0x455723['Incoming'],{'contentType':_0x883b7d[_0x1038f4(0x3f6)][_0x1038f4(0x61f)],'label':_0x18321e,'remoteId':_0x3242f6}),_0x174ab4=this[_0x1038f4(0x11a)][_0x1038f4(0xcd)][_0x1038f4(0x265)](_0x14805b);if(!(_0x174ab4&&_0x174ab4 instanceof _0x154e8e))throw new _0x2e0415(_0x2e0415[_0x1038f4(0xc9)][_0x1038f4(0x2f1)],{'label':_0x14805b,'ownerId':_0x1ad43f});this[_0x1038f4(0x583)](_0x174ab4,_0x14805b),this[_0x1038f4(0x2ae)](_0x3a2d54,_0x1ad43f,_0x4622be,_0x2b77c5);}[_0x359c2e(0x581)](_0x98c777,_0x3f937b){const _0x315ef6=_0x359c2e,{label:_0x312e43,ownerId:_0x4dd244,trackKinds:_0x399273,params:_0x509dca}=_0x3f937b,_0x65fec0=_0x195971(_0x455723[_0x315ef6(0x637)],{'contentType':_0x883b7d[_0x315ef6(0x3f6)][_0x315ef6(0x61f)],'label':_0x312e43,'remoteId':_0x4dd244});if(!this['subscriptionRequests']['has'](_0x65fec0))throw new _0x2e0415(_0x2e0415[_0x315ef6(0xc9)][_0x315ef6(0x2f1)],{'label':_0x65fec0,'ownerId':_0x4dd244,'streamId':_0x3f937b[_0x315ef6(0x10b)],'requests':this[_0x315ef6(0x636)]});const _0x500b8e=this['subscriptionRequests'][_0x315ef6(0x265)](_0x65fec0);if(_0x399273[_0x315ef6(0x5cb)]===_0x500b8e[_0x315ef6(0x573)]()['length']&&_0x399273[_0x315ef6(0x5af)](_0x594246=>_0x500b8e[_0x315ef6(0x573)]()[_0x315ef6(0x457)](_0x594246)))try{const _0x5306db=_0x500b8e[_0x315ef6(0x603)](_0x98c777,_0x3f937b);if(!_0x5306db)return;this[_0x315ef6(0x570)](_0x5306db,_0x4dd244,_0x312e43,_0x65fec0,_0x399273);}catch(_0x47ec2a){return void this[_0x315ef6(0x514)](_0x312e43,_0x4dd244,_0x399273,_0x509dca);}}[_0x359c2e(0x5d2)](_0x172bb2,{label:_0x3e93c9,ownerId:_0x5d1357,trackKinds:_0x3474f9}){const _0x5194e4=_0x359c2e,_0x4d25aa=this[_0x5194e4(0x494)][_0x5194e4(0x24f)][_0x5194e4(0x132)](_0x5d1357,_0x3e93c9);if(!_0x4d25aa)return;const _0x372159=_0x4d25aa['getInternalStreamId'](),_0xccc557=_0x4d25aa['getSubscribedTracks']();_0xccc557[_0x5194e4(0x63b)](_0x2fc17b=>_0x3474f9[_0x5194e4(0x457)](_0x2fc17b))&&this['findNewMediaSubscription'](_0x172bb2,_0x3e93c9,_0x372159,_0x5d1357,_0xccc557);}[_0x359c2e(0x3af)]({label:_0x1012ec,providerId:_0x77b830,ownerId:_0x2ed5d3,streamId:_0x4dd1e3,trackKinds:_0x2440a0}){const _0x5d9da1=_0x359c2e;this[_0x5d9da1(0x338)](_0x77b830,_0x1012ec,_0x4dd1e3,_0x2ed5d3,_0x2440a0);}[_0x359c2e(0x5e4)](_0x172f2b){const _0x4cfe4f=_0x359c2e;for(const _0x3623f1 of this['chosenAnswers'][_0x4cfe4f(0x313)]()){const {streamLabel:_0x470346,ownerId:_0x1e374c,trackKinds:_0x15c673,params:_0x581cb3}=_0x3623f1;if(!_0x1e374c||!_0x15c673||!_0x470346)return;this[_0x4cfe4f(0x428)]['push']({'label':_0x470346,'ownerId':_0x1e374c,'trackKinds':_0x15c673,'params':_0x581cb3,'remoteId':_0x172f2b});}}[_0x359c2e(0x378)](_0x555641){const _0x201d2c=_0x359c2e;this[_0x201d2c(0x11a)][_0x201d2c(0xcd)][_0x201d2c(0x600)]((_0x4de6c0,_0x5bb97a)=>{const _0x272ef4=_0x201d2c;if(_0x5bb97a[_0x272ef4(0x2b4)](_0x555641)){if(_0x4de6c0[_0x272ef4(0x367)][_0x272ef4(0xce)]()===_0x883b7d['ContentType'][_0x272ef4(0x61f)]){const _0x1d7275=_0x4de6c0[_0x272ef4(0x367)];if(_0x1d7275['getSubscribedTracks']()[_0x272ef4(0x5cb)]>0x0){const _0x2fa9d3={'type':_0x4b36c1[_0x272ef4(0x23b)],'label':_0x1d7275[_0x272ef4(0x287)](),'ownerId':_0x1d7275[_0x272ef4(0x27a)](),'trackKinds':_0x1d7275[_0x272ef4(0x3c7)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x555641,_0x2fa9d3);}}this[_0x272ef4(0x583)](_0x4de6c0,_0x5bb97a);}});}[_0x359c2e(0x57d)](){const _0xe9f68=_0x359c2e;this[_0xe9f68(0x11a)][_0xe9f68(0xcd)]['forEach'](this[_0xe9f68(0x583)]['bind'](this));}['subscribe'](_0x495c43,_0x223860,_0x48e62c,_0x7c9240,_0x310599){const _0x98c959=_0x359c2e,_0x29068c=this['configs'][_0x98c959(0x24f)][_0x98c959(0x39f)](_0x495c43[_0x98c959(0x198)]),_0x3ddc90=this[_0x98c959(0x494)][_0x98c959(0x24f)][_0x98c959(0x132)](_0x223860,_0x48e62c);this[_0x98c959(0x8a)](_0x7c9240),this[_0x98c959(0x636)]['has'](_0x7c9240)&&(this[_0x98c959(0x494)][_0x98c959(0x24f)]['unregisterSystemSource'](this[_0x98c959(0x636)][_0x98c959(0x265)](_0x7c9240)),this[_0x98c959(0x636)][_0x98c959(0x1c7)](_0x7c9240)),this[_0x98c959(0x314)](_0x495c43,_0x223860,_0x48e62c,_0x3ddc90),_0x3ddc90[_0x98c959(0x3ed)](_0x495c43[_0x98c959(0x10b)]),_0x3ddc90[_0x98c959(0x23a)](_0x495c43[_0x98c959(0x198)]);const _0x400934=_0x241533(_0x3ddc90,_0x29068c),_0x270ca6=_0x195971(_0x455723['Incoming'],_0x400934);this['maps'][_0x98c959(0xcd)]['has'](_0x270ca6)||this[_0x98c959(0x2a6)](_0x29068c,_0x3ddc90);const _0x3bd91f=this[_0x98c959(0x11a)][_0x98c959(0xcd)][_0x98c959(0x265)](_0x270ca6);if(!(_0x3bd91f&&_0x3bd91f instanceof _0x154e8e))throw new _0x2e0415(_0x2e0415[_0x98c959(0xc9)]['SubscriptionRequestDoesNotExist'],{'label':_0x7c9240,'ownerId':_0x223860});_0x21773c[_0x98c959(0x2dd)](_0x98c959(0x37b),{'clusterId':this[_0x98c959(0x494)]['clusterId'],'nodeId':this[_0x98c959(0x494)][_0x98c959(0x1ac)]['getId'](),'nodeType':this[_0x98c959(0x494)]['localNode'][_0x98c959(0x2d7)],'data':{'subscriptionLabel':_0x270ca6,'chosenAnswer':_0x495c43}}),this[_0x98c959(0x633)]['set'](_0x270ca6,_0x495c43),_0x3bd91f[_0x98c959(0x570)](_0x223860,_0x310599,_0x495c43[_0x98c959(0x14b)]);}[_0x359c2e(0x35b)]({ownerId:_0x564fb7,label:_0x17b856}){const _0x11a317=_0x359c2e,_0x189d64=this[_0x11a317(0x494)][_0x11a317(0x24f)][_0x11a317(0x132)](_0x564fb7,_0x17b856),[_0x255198,_0x319104]=Array['from'](this['maps']['subscriptions'][_0x11a317(0x406)]())[_0x11a317(0x3c6)](([_0x295d36,_0x5ad3ce])=>-0x1!==_0x295d36[_0x11a317(0xa6)](_0x189d64[_0x11a317(0x177)]()));return this[_0x11a317(0x583)](_0x319104,_0x255198);}['closeSubscription'](_0x5f3fce,_0xa05fa){const _0x49e39c=_0x359c2e;this[_0x49e39c(0x494)][_0x49e39c(0x24f)][_0x49e39c(0x106)](_0x5f3fce),this['maps'][_0x49e39c(0x583)](_0x5f3fce,_0xa05fa);}[_0x359c2e(0x5c1)](_0x583838){const _0x472038=_0x359c2e;return _0x583838[_0x472038(0x5c4)]()[_0x472038(0x457)](_0x883b7d['ContentType'][_0x472038(0x61f)]);}[_0x359c2e(0x4c1)](_0x31d98b){const _0x372498=_0x359c2e;return _0x31d98b[_0x372498(0xce)]()===_0x883b7d['ContentType'][_0x372498(0x61f)];}async[_0x359c2e(0x514)](_0x48c8de,_0x1f78c6,_0x916ce0,_0x217889){const _0x3d62ac=_0x359c2e;await _0x4df92f[_0x3d62ac(0x33e)](0x3e8);const _0x5ac3f4=_0x195971(_0x455723[_0x3d62ac(0x637)],{'contentType':_0x883b7d['ContentType'][_0x3d62ac(0x61f)],'label':_0x48c8de,'remoteId':_0x1f78c6});this[_0x3d62ac(0x8a)](_0x5ac3f4);const _0x3a1d04=this[_0x3d62ac(0x636)]['get'](_0x5ac3f4);if(!_0x3a1d04)throw new _0x2e0415(_0x2e0415[_0x3d62ac(0xc9)]['SubscriptionRequestDoesNotExist'],{'label':_0x5ac3f4,'ownerId':_0x1f78c6});const _0x1f02c1=this[_0x3d62ac(0x494)]['mediator'][_0x3d62ac(0x3c4)](_0x462b62=>_0x462b62['isConnected']()),_0x37b0da=this[_0x3d62ac(0x494)][_0x3d62ac(0x24f)][_0x3d62ac(0x34a)](this[_0x3d62ac(0x494)][_0x3d62ac(0x1ac)]['getId'](),_0x1f78c6);_0x3a1d04[_0x3d62ac(0xa2)](_0x1f02c1[_0x3d62ac(0x391)](_0x557c42=>_0x557c42[_0x3d62ac(0x5d0)]()),_0x37b0da);try{_0x3a1d04['sendRequest'](this[_0x3d62ac(0x494)]['localNode']['getId'](),_0x1f78c6,_0x48c8de,_0x916ce0,_0x217889),this[_0x3d62ac(0x1ce)](_0x48c8de,_0x1f78c6,_0x916ce0,_0x217889,_0x5ac3f4,_0x3a1d04);}catch(_0x1fec1a){this[_0x3d62ac(0x428)]['push']({'label':_0x48c8de,'ownerId':_0x1f78c6,'trackKinds':_0x916ce0,'params':_0x217889});}}[_0x359c2e(0x2ae)](_0x1e39d2,_0x476e7a,_0x1fbfc4,_0x3aecdd){const _0x4d6494=_0x359c2e;this['subscriptionRequestsQueue'][_0x4d6494(0x221)]({'label':_0x1e39d2,'ownerId':_0x476e7a,'trackKinds':_0x1fbfc4,'params':_0x3aecdd});}['requestSubscriptionAction']({label:_0x2b68f1,ownerId:_0x38d77f,trackKinds:_0x391465,params:_0x5114c4,remoteId:_0x47c8e1}){const _0x5717f0=_0x359c2e;if(!this['configs'][_0x5717f0(0x24f)]['getRemoteMediaStream'](_0x38d77f,_0x2b68f1))return;if(!this[_0x5717f0(0x494)][_0x5717f0(0x24f)][_0x5717f0(0x1f0)]()[_0x5717f0(0x43d)]())throw new Error(_0x5717f0(0x254));if(_0x47c8e1){const _0x3eebe9=this['configs'][_0x5717f0(0x24f)][_0x5717f0(0x26e)]()[_0x5717f0(0x3c6)](_0x50f7ea=>_0x50f7ea[_0x5717f0(0x22e)]()===_0x47c8e1),_0xdd13ad=_0x3eebe9?.[_0x5717f0(0x43d)]();if(!_0x3eebe9||!_0xdd13ad)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x427deb=this[_0x5717f0(0x494)][_0x5717f0(0x24f)][_0x5717f0(0x26e)]()['find'](_0x54b243=>_0x54b243[_0x5717f0(0x22e)]()===_0x38d77f),_0x557098=_0x427deb?.[_0x5717f0(0x43d)]();if(!_0x427deb||!_0x557098)throw new Error(_0x5717f0(0x620));const _0x5d481f=this[_0x5717f0(0x633)]['get'](_0x2b68f1);if(_0x5d481f){const _0x1b7e68=this[_0x5717f0(0x494)][_0x5717f0(0x24f)][_0x5717f0(0x26e)]()[_0x5717f0(0x3c6)](_0x1c521a=>_0x1c521a['getId']()===_0x5d481f[_0x5717f0(0x198)]),_0x12d1ef=_0x1b7e68?.[_0x5717f0(0x43d)]();if(!_0x1b7e68||!_0x12d1ef)throw new Error(_0x5717f0(0x42b));if(Math[_0x5717f0(0x53b)](_0x12d1ef-_0x557098)<Math[_0x5717f0(0x53b)](_0xdd13ad-_0x557098))return;}}const _0x3119b4=this[_0x5717f0(0x494)]['mediator'][_0x5717f0(0x3c4)](_0xac1fd2=>_0xac1fd2[_0x5717f0(0x520)]()&&(!_0x47c8e1||_0xac1fd2[_0x5717f0(0x5d0)]()===_0x47c8e1));if(!_0x3119b4['length']||0x0===_0x3119b4['length'])throw new Error(_0x5717f0(0x448));const _0x4dcb04=this[_0x5717f0(0x494)]['mediator'][_0x5717f0(0x34a)](this[_0x5717f0(0x494)][_0x5717f0(0x1ac)][_0x5717f0(0x22e)](),_0x38d77f),_0x237933=_0x195971(_0x455723[_0x5717f0(0x637)],{'contentType':_0x883b7d['ContentType'][_0x5717f0(0x61f)],'label':_0x2b68f1,'remoteId':_0x38d77f});if(this[_0x5717f0(0x636)][_0x5717f0(0x531)](_0x237933)){if(_0x47c8e1)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x39b129=this['subscriptionRequests'][_0x5717f0(0x265)](_0x237933)['getTracks']();if(_0x39b129['length']===_0x391465[_0x5717f0(0x5cb)]&&_0x39b129['every'](_0x4a4235=>_0x391465[_0x5717f0(0x457)](_0x4a4235)))return;this[_0x5717f0(0x494)]['mediator']['unregisterSystemSource'](this[_0x5717f0(0x636)]['get'](_0x237933)),this[_0x5717f0(0x636)][_0x5717f0(0x1c7)](_0x237933),_0x391465=Array[_0x5717f0(0x163)](new Set(_0x391465['concat'](_0x39b129))),this[_0x5717f0(0x8a)](_0x237933);}const _0x5205c5=new _0xf855bb(_0x3119b4['map'](_0x57e4f0=>_0x57e4f0[_0x5717f0(0x5d0)]()),_0x4dcb04,this[_0x5717f0(0x35c)],_0x391465);this[_0x5717f0(0x494)][_0x5717f0(0x24f)][_0x5717f0(0x413)](_0x5205c5),this['subscriptionRequests'][_0x5717f0(0x2f9)](_0x237933,_0x5205c5),_0x5205c5[_0x5717f0(0xbc)](this['configs']['localNode'][_0x5717f0(0x22e)](),_0x38d77f,_0x2b68f1,_0x391465,_0x5114c4),this[_0x5717f0(0x1ce)](_0x2b68f1,_0x38d77f,_0x391465,_0x5114c4,_0x237933,_0x5205c5);}[_0x359c2e(0x8a)](_0x5826c8){const _0x695877=_0x359c2e;this['subscriptionRequestTimeouts'][_0x695877(0x531)](_0x5826c8)&&(clearTimeout(this[_0x695877(0x5e8)][_0x695877(0x265)](_0x5826c8)),this[_0x695877(0x5e8)][_0x695877(0x1c7)](_0x5826c8));}[_0x359c2e(0x1ce)](_0x36d892,_0x31dc57,_0x155d1a,_0x4e49bf,_0x10cb8d,_0x45e508){const _0x5f4f80=_0x359c2e;this[_0x5f4f80(0x8a)](_0x10cb8d),this['subscriptionRequestTimeouts'][_0x5f4f80(0x2f9)](_0x10cb8d,setTimeout(()=>{const _0x1d447b=_0x5f4f80;this[_0x1d447b(0x5e8)][_0x1d447b(0x1c7)](_0x10cb8d);try{const _0x19a156=_0x45e508['chooseAnswer']();this[_0x1d447b(0x570)](_0x19a156,_0x31dc57,_0x36d892,_0x10cb8d,_0x155d1a);}catch(_0x5031be){this[_0x1d447b(0x514)](_0x36d892,_0x31dc57,_0x155d1a,_0x4e49bf);}},0x7d0));}[_0x359c2e(0x338)](_0x1e85d6,_0x389d86,_0x1040dc,_0x292416,_0x561447){const _0x5a12a4=_0x359c2e,{subscriptionLabel:_0x78a572}=this[_0x5a12a4(0x5d9)](_0x389d86,_0x292416),_0x7b7274=this[_0x5a12a4(0x441)](_0x78a572),_0x5b4d80=_0x7b7274?.[_0x5a12a4(0x14b)];_0x7b7274&&(_0x7b7274[_0x5a12a4(0x244)](_0x292416,0x0),this[_0x5a12a4(0x382)](_0x1040dc,_0x883b7d[_0x5a12a4(0x3f6)][_0x5a12a4(0x61f)],_0x1e85d6)),this[_0x5a12a4(0x2ae)](_0x389d86,_0x292416,_0x561447,_0x5b4d80);}[_0x359c2e(0x441)](_0x33020f){const _0x12f653=_0x359c2e,_0x19bdfc=this[_0x12f653(0x11a)][_0x12f653(0xcd)][_0x12f653(0x265)](_0x33020f);if(_0x19bdfc){if(!(_0x19bdfc instanceof _0x154e8e))throw new _0x2e0415(_0x2e0415[_0x12f653(0xc9)][_0x12f653(0x51d)],{'label':_0x33020f,'subscription':_0x19bdfc});return _0x19bdfc;}}[_0x359c2e(0x5d9)](_0x46701b,_0x1e3739){const _0x208d04=_0x359c2e,_0x575ded=this['getPartsForSubscriptionLabel'](_0x46701b,_0x1e3739);return{'parts':_0x575ded,'subscriptionLabel':_0x195971(_0x455723[_0x208d04(0x637)],_0x575ded)};}[_0x359c2e(0x5ed)](_0x209584,_0x50a7c7){const _0x17f5c3=_0x359c2e,_0x19a44a=this[_0x17f5c3(0x494)][_0x17f5c3(0x24f)][_0x17f5c3(0x132)](_0x50a7c7,_0x209584),_0x2a65c6=_0x19a44a['getProviderId']();if(!_0x2a65c6)throw new _0x2e0415(_0x2e0415[_0x17f5c3(0xc9)][_0x17f5c3(0x49c)],{'label':_0x209584,'streamId':_0x19a44a[_0x17f5c3(0x177)](),'ownerId':_0x50a7c7,'localId':this[_0x17f5c3(0x494)]['localNode'][_0x17f5c3(0x22e)]()});return{'contentType':_0x883b7d['ContentType'][_0x17f5c3(0x61f)],'label':_0x19a44a['getInternalStreamId'](),'remoteId':_0x2a65c6};}['cleanOldSubscription'](_0x269a29,_0x4923fe,_0xa0a041,_0x23a9c4){const _0x1e285d=_0x359c2e,_0x4621bb=_0x23a9c4[_0x1e285d(0x29c)]();if(_0x4621bb&&_0x4621bb!==_0x269a29[_0x1e285d(0x198)]){const {parts:_0x327117,subscriptionLabel:_0x29ab33}=this['getSubscriptionLabel'](_0xa0a041,_0x4923fe),_0x2d7821=this[_0x1e285d(0x441)](_0x29ab33);_0x2d7821&&(_0x2d7821[_0x1e285d(0x244)](_0x4923fe,0x0),this[_0x1e285d(0x382)](_0x327117['label'],_0x327117[_0x1e285d(0x564)],_0x327117['remoteId']));}}}class _0x27434d{['configs'];[_0x359c2e(0x46b)];[_0x359c2e(0x11a)];constructor(_0x5b87a2,_0x2dcdfe){const _0xe0a9d5=_0x359c2e;this['configs']=_0x5b87a2,this['maxOutgoingSubscriptions']=_0x2dcdfe,this[_0xe0a9d5(0x11a)]=new _0x5145a6(({source:_0x449e13,destination:_0x336b3b})=>_0x241533(_0x449e13,_0x336b3b));}['createSubscription'](_0x230cf4,_0xb5a80){const _0x34e968=_0x359c2e,_0x26c5af={'source':_0x230cf4,'destination':_0xb5a80};this[_0x34e968(0x11a)][_0x34e968(0x2a6)](_0x455723['Outgoing'],_0x26c5af);}[_0x359c2e(0x382)](_0x509ee5,_0x4e163d,_0x3b69a9=''){const _0x165294=_0x359c2e,_0x45575d={'contentType':_0x4e163d,'label':_0x509ee5,'remoteId':_0x3b69a9};this[_0x165294(0x11a)][_0x165294(0x382)](_0x45575d,_0x455723['Outgoing']);}['handleSubscriptionSubscribeMediaStream'](_0x4a4ef5,_0x359524){const _0x3dc3cb=_0x359c2e;let _0x110e20;_0x110e20=_0x359524[_0x3dc3cb(0x470)]!==this[_0x3dc3cb(0x494)][_0x3dc3cb(0x1ac)]['getId']()?this[_0x3dc3cb(0x494)][_0x3dc3cb(0x24f)]['getRemoteMediaStream'](_0x359524[_0x3dc3cb(0x470)],_0x359524[_0x3dc3cb(0x140)]):this[_0x3dc3cb(0x494)][_0x3dc3cb(0x24f)]['getLocalMediaStream'](_0x359524[_0x3dc3cb(0x140)]);const _0x3a9ff4=_0x195971(_0x455723[_0x3dc3cb(0x5dc)],{'contentType':_0x883b7d['ContentType'][_0x3dc3cb(0x61f)],'label':_0x110e20['getShareableStreamId'](),'remoteId':_0x4a4ef5}),_0x478fe5=this['getNumberOutgoingSubscriptions']();if(!this[_0x3dc3cb(0x11a)][_0x3dc3cb(0xcd)][_0x3dc3cb(0x531)](_0x3a9ff4)&&_0x478fe5>=this['maxOutgoingSubscriptions'])return{'type':_0x4b36c1[_0x3dc3cb(0x20a)],'ownerId':_0x359524[_0x3dc3cb(0x470)],'label':_0x359524[_0x3dc3cb(0x140)],'streamId':_0x110e20[_0x3dc3cb(0x18c)](),'trackKinds':_0x359524[_0x3dc3cb(0x24c)],'params':_0x359524[_0x3dc3cb(0x14b)]};_0x110e20 instanceof _0x24d1e8&&!_0x110e20[_0x3dc3cb(0x4fa)](_0x359524[_0x3dc3cb(0x24c)])&&_0x110e20[_0x3dc3cb(0x570)](_0x359524[_0x3dc3cb(0x14b)]),this[_0x3dc3cb(0x11a)]['subscriptions']['has'](_0x3a9ff4)||this['createSubscription'](_0x110e20[_0x3dc3cb(0x446)](_0x4a4ef5),this['configs'][_0x3dc3cb(0x24f)]['getConnection'](_0x4a4ef5));}[_0x359c2e(0x37e)](_0x4408e2,{label:_0x37343a,ownerId:_0x1c9d61,remainingTracks:_0x3a6b4b}){const _0x1f3ba3=_0x359c2e;if(_0x3a6b4b>0x0)return;let _0x7efb01;_0x7efb01=_0x1c9d61!==this[_0x1f3ba3(0x494)]['localNode']['getId']()?this[_0x1f3ba3(0x494)][_0x1f3ba3(0x24f)][_0x1f3ba3(0x132)](_0x1c9d61,_0x37343a):this[_0x1f3ba3(0x494)][_0x1f3ba3(0x24f)][_0x1f3ba3(0x356)](_0x37343a);const _0x274e62=_0x7efb01[_0x1f3ba3(0x18c)](),_0x2e890d=_0x883b7d[_0x1f3ba3(0x3f6)][_0x1f3ba3(0x61f)];this[_0x1f3ba3(0x382)](_0x274e62,_0x2e890d,_0x4408e2);}[_0x359c2e(0xc7)](_0x1adaa8,{label:_0x5ed7f1,ownerId:_0x2794e9,trackKinds:_0x59a0ed}){const _0x4019dd=_0x359c2e;if(_0x1adaa8!==_0x5d7eff)return[];let _0x1ee563=[];for(const _0x457eef of this['maps']['subscriptions']){const {source:_0x127396,destination:_0x5520c3}=_0x457eef[0x1];_0x127396[_0x4019dd(0x287)]()===_0x5ed7f1&&_0x127396[_0x4019dd(0x27a)]()===_0x2794e9&&_0x1ee563[_0x4019dd(0x221)]({'sourceId':this[_0x4019dd(0x494)]['localNode'][_0x4019dd(0x22e)](),'destinationIds':[_0x5520c3[_0x4019dd(0x5d0)]()],'messageType':_0x403a0f[_0x4019dd(0x2b9)],'content':{'type':_0x4b36c1[_0x4019dd(0x23b)],'label':_0x5ed7f1,'ownerId':_0x2794e9,'trackKinds':_0x59a0ed}});}return _0x1ee563;}[_0x359c2e(0x330)](_0x5c276c,_0x9d4506){const _0x1f34c5=_0x359c2e,{label:_0x435f3d,ownerId:_0x3f37e5,trackKinds:_0x4eca56,params:_0x22cbf2}=_0x9d4506,{hasTracks:_0x11febe,streamId:_0x37002f,hasResolution:_0x4e18d6,distance:_0x58bcfe,subscriptionLabel:_0x273e78}=this[_0x1f34c5(0x650)](_0x5c276c,_0x9d4506);let _0x503c4f=this['getNumberOutgoingSubscriptions']()<this['maxOutgoingSubscriptions']&&(_0x11febe||_0x58bcfe>-0x1)?_0x4b36c1[_0x1f34c5(0x5e3)]:_0x4b36c1[_0x1f34c5(0x58e)];const _0x2a8a3e=_0x58bcfe<0x0?0xa:_0x58bcfe;let _0x2bac22=_0x11febe?_0x4e18d6?_0x2a8a3e:_0x2a8a3e+0x0:_0x2a8a3e+0xa;return _0x273e78&&this[_0x1f34c5(0x11a)]['subscriptions'][_0x1f34c5(0x531)](_0x273e78)&&(_0x11febe&&(_0x2bac22=0x0),_0x503c4f=_0x4b36c1[_0x1f34c5(0x5e3)]),{'type':_0x503c4f,'cost':_0x2bac22,'distance':_0x58bcfe,'label':_0x435f3d,'ownerId':_0x3f37e5,'streamId':_0x37002f,'trackKinds':_0x4eca56,'params':_0x22cbf2};}[_0x359c2e(0x49f)](_0x4035df){const _0x27576e=_0x359c2e,{label:_0xb2ae52,ownerId:_0x4ec451}=_0x4035df,_0x46e170=this['configs'][_0x27576e(0x24f)][_0x27576e(0x132)](_0x4ec451,_0xb2ae52);this[_0x27576e(0x11a)][_0x27576e(0xcd)][_0x27576e(0x600)](_0x3f7ecb=>{const _0x472350=_0x27576e;if(_0x3f7ecb[_0x472350(0x373)]['getInternalStreamId']()===_0x46e170[_0x472350(0x18c)]()){const _0x45b962=_0x3f7ecb[_0x472350(0x367)];this[_0x472350(0x382)](_0x46e170[_0x472350(0x18c)](),_0x883b7d['ContentType'][_0x472350(0x61f)],_0x45b962[_0x472350(0x5d0)]());}});}[_0x359c2e(0x1b6)]({label:_0x459579}){const _0x582e67=_0x359c2e,_0x3335a8=this['configs']['mediator'][_0x582e67(0x356)](_0x459579);this[_0x582e67(0x11a)]['subscriptions'][_0x582e67(0x600)](_0xdc3168=>{const _0x5823c3=_0x582e67;if(_0xdc3168[_0x5823c3(0x373)][_0x5823c3(0x177)]()===_0x3335a8[_0x5823c3(0x18c)]()){const _0x54a53b=_0xdc3168[_0x5823c3(0x367)];this[_0x5823c3(0x382)](_0x3335a8[_0x5823c3(0x18c)](),_0x883b7d[_0x5823c3(0x3f6)][_0x5823c3(0x61f)],_0x54a53b[_0x5823c3(0x5d0)]());}});}[_0x359c2e(0x378)](_0x965c8e){const _0xc0a06=_0x359c2e;this[_0xc0a06(0x11a)][_0xc0a06(0x378)](_0x965c8e);}[_0x359c2e(0x57d)](){const _0x20ce77=_0x359c2e;this['maps'][_0x20ce77(0xcd)][_0x20ce77(0x600)](this[_0x20ce77(0x583)][_0x20ce77(0x4e8)](this));}[_0x359c2e(0x583)](_0x805bd0,_0x57effd){const _0x1f87ff=_0x359c2e;this['maps'][_0x1f87ff(0x583)](_0x805bd0,_0x57effd);}[_0x359c2e(0x650)](_0x50ca94,{label:_0xed7d9f,ownerId:_0x20337e,trackKinds:_0x4d8b81,params:_0x1ff348}){const _0x166bd0=_0x359c2e;if(_0x20337e!==this[_0x166bd0(0x494)][_0x166bd0(0x1ac)][_0x166bd0(0x22e)]()){const _0x5d6b6d=this[_0x166bd0(0x494)]['mediator'][_0x166bd0(0x132)](_0x20337e,_0xed7d9f);return _0x5d6b6d&&_0x5d6b6d[_0x166bd0(0x29c)]()!==_0x50ca94?{'hasTracks':_0x5d6b6d['hasTracks'](_0x4d8b81),'hasResolution':this[_0x166bd0(0x2c3)](_0x5d6b6d[_0x166bd0(0x358)](),_0x1ff348),'streamId':_0x5d6b6d[_0x166bd0(0x18c)](),'distance':this[_0x166bd0(0x494)]['mediator']['getDistance'](_0x50ca94,_0x20337e),'subscriptionLabel':_0x195971(_0x455723[_0x166bd0(0x5dc)],{'contentType':_0x883b7d[_0x166bd0(0x3f6)][_0x166bd0(0x61f)],'label':_0x5d6b6d[_0x166bd0(0x18c)](),'remoteId':_0x50ca94})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x514074=this[_0x166bd0(0x494)][_0x166bd0(0x24f)]['getLocalMediaStream'](_0xed7d9f);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x514074[_0x166bd0(0x18c)](),'distance':0x0,'subscriptionLabel':_0x195971(_0x455723[_0x166bd0(0x5dc)],{'contentType':_0x883b7d[_0x166bd0(0x3f6)][_0x166bd0(0x61f)],'label':_0x514074['getShareableStreamId'](),'remoteId':_0x50ca94})};}[_0x359c2e(0x117)](){const _0x311abe=_0x359c2e;return Array[_0x311abe(0x163)](this['maps'][_0x311abe(0xcd)][_0x311abe(0x406)]())[_0x311abe(0x5d5)](([_0x410bc1,{source:_0x5b3c6c}])=>_0x410bc1['startsWith'](_0x455723[_0x311abe(0x5dc)])&&_0x5b3c6c[_0x311abe(0xce)]()===_0x883b7d[_0x311abe(0x3f6)][_0x311abe(0x61f)])[_0x311abe(0x5cb)];}['canProvideResolution'](_0x52e502,_0x48e2db){const _0x351519=_0x359c2e;if(!_0x48e2db||!_0x48e2db['video']||_0x351519(0x619)==typeof _0x48e2db[_0x351519(0x105)]||!_0x48e2db[_0x351519(0x105)][_0x351519(0x1b8)])return!0x0;const {width:_0x2e8e03,height:_0x2284e9}=_0x48e2db['video'][_0x351519(0x1b8)];return _0x52e502[_0x351519(0x540)]>=_0x2e8e03&&_0x52e502[_0x351519(0x346)]>=_0x2284e9;}}class _0x2fc015{[_0x359c2e(0x494)];[_0x359c2e(0x46b)];[_0x359c2e(0x35c)];[_0x359c2e(0x43f)];[_0x359c2e(0xd2)];['outgoingManager'];constructor(_0x588ffd,_0x324532,_0x39c53e){const _0x128122=_0x359c2e;this[_0x128122(0x494)]=_0x588ffd,this[_0x128122(0x46b)]=_0x324532,this[_0x128122(0x35c)]=_0x39c53e,this[_0x128122(0x494)][_0x128122(0x24f)]['registerSystemSource'](this),this[_0x128122(0xd2)]=new _0x4b49a1(this[_0x128122(0x494)],this[_0x128122(0x35c)]),this[_0x128122(0x3da)]=new _0x27434d(this[_0x128122(0x494)],this['maxOutgoingSubscriptions']);}[_0x359c2e(0x4c5)](_0x57d354){const _0x2c55ae=_0x359c2e;this[_0x2c55ae(0x43f)]=_0x57d354;}[_0x359c2e(0x331)](){const _0x4372d3=_0x359c2e;delete this[_0x4372d3(0x43f)];}[_0x359c2e(0x57d)](){const _0xff1848=_0x359c2e;this[_0xff1848(0xd2)][_0xff1848(0x57d)](),this[_0xff1848(0x3da)][_0xff1848(0x57d)](),this['configs'][_0xff1848(0x24f)][_0xff1848(0x106)](this);}['createIncomingSubscription'](_0x489ad4,_0x365670){const _0x2fac1f=_0x359c2e;this['incomingManager'][_0x2fac1f(0x2a6)](_0x489ad4,_0x365670);}[_0x359c2e(0x270)](_0xfab2be,_0x6e999d){const _0xc53a3=_0x359c2e;this['outgoingManager'][_0xc53a3(0x2a6)](_0xfab2be,_0x6e999d);}['removeIncomingSubscription'](_0x7a9bcf,_0x1e03eb,_0x42e719=''){const _0x21cf9e=_0x359c2e;this[_0x21cf9e(0xd2)]['removeSubscription'](_0x7a9bcf,_0x1e03eb,_0x42e719);}['removeOutgoingSubscription'](_0x5d1981,_0x128594,_0x9ae320=''){const _0x5844c4=_0x359c2e;try{this['outgoingManager'][_0x5844c4(0x382)](_0x5d1981,_0x128594,_0x9ae320);}catch(_0x21181e){if(_0x21181e instanceof _0x2e0415&&_0x21181e[_0x5844c4(0x594)]===_0x2e0415[_0x5844c4(0xc9)][_0x5844c4(0x51d)])return;}}['handleSubscriptionSystemEvents'](_0x5e434d){const _0x327036=_0x359c2e;switch(_0x5e434d[_0x327036(0x232)][_0x327036(0x2d7)]){case _0x4b36c1[_0x327036(0x334)]:this[_0x327036(0x595)](_0x5e434d[_0x327036(0x143)],_0x5e434d[_0x327036(0x232)]);break;case _0x4b36c1[_0x327036(0x54a)]:this[_0x327036(0x3da)][_0x327036(0x37e)](_0x5e434d[_0x327036(0x143)],_0x5e434d['content']);break;case _0x4b36c1[_0x327036(0x416)]:this[_0x327036(0x330)](_0x5e434d[_0x327036(0x143)],_0x5e434d[_0x327036(0x232)]);break;case _0x4b36c1['RestartNeedMediaStream']:this[_0x327036(0xd2)][_0x327036(0x487)](_0x5e434d[_0x327036(0x143)],_0x5e434d[_0x327036(0x232)]);break;case _0x4b36c1[_0x327036(0x5e3)]:case _0x4b36c1[_0x327036(0x58e)]:this[_0x327036(0xd2)]['handleSubscriptionProvideMediaStream'](_0x5e434d[_0x327036(0x143)],_0x5e434d['content']);break;case _0x4b36c1['MediaStreamUnavailable']:this[_0x327036(0xd2)][_0x327036(0x5d2)](_0x5e434d[_0x327036(0x143)],_0x5e434d[_0x327036(0x232)]);}}[_0x359c2e(0x1e2)](_0xd44e68){const _0x4c5a8d=_0x359c2e;switch(_0xd44e68[_0x4c5a8d(0x232)][_0x4c5a8d(0x2d7)]){case _0x114c1e[_0x4c5a8d(0x207)]:this['incomingManager'][_0x4c5a8d(0x49f)](_0xd44e68[_0x4c5a8d(0x232)]),this[_0x4c5a8d(0x3da)][_0x4c5a8d(0x49f)](_0xd44e68['content']);break;case _0x114c1e[_0x4c5a8d(0x334)]:this[_0x4c5a8d(0xd2)][_0x4c5a8d(0x40e)](_0xd44e68[_0x4c5a8d(0x232)]);break;case _0x114c1e[_0x4c5a8d(0xa5)]:this[_0x4c5a8d(0xd2)][_0x4c5a8d(0x49d)](_0xd44e68['content']);break;case _0x114c1e[_0x4c5a8d(0x54a)]:this['handleContentUnsubscribeMediaStream'](_0xd44e68['sourceId'],_0xd44e68[_0x4c5a8d(0x232)]);break;case _0x114c1e[_0x4c5a8d(0x447)]:this[_0x4c5a8d(0x3da)][_0x4c5a8d(0x1b6)](_0xd44e68[_0x4c5a8d(0x232)]);break;case _0x114c1e[_0x4c5a8d(0x2f6)]:this[_0x4c5a8d(0x36d)](_0xd44e68[_0x4c5a8d(0x232)]);break;case _0x114c1e['CloseObjectStoreBucket']:this[_0x4c5a8d(0x124)](_0xd44e68['content']);break;case _0x114c1e[_0x4c5a8d(0x4f7)]:this['handleContentCloseKeyValueDatabase'](_0xd44e68[_0x4c5a8d(0x232)]);break;case _0x114c1e['RemoteMediaStreamTrackFail']:this['incomingManager']['handleContentRemoteMediaStreamTrackFail'](_0xd44e68[_0x4c5a8d(0x232)]);}}[_0x359c2e(0x178)]({content:_0x5d292f}){const _0x9e30d4=_0x359c2e;_0x5d292f['type']===_0x483dd4[_0x9e30d4(0x27d)]&&this[_0x9e30d4(0x378)](_0x5d292f);}[_0x359c2e(0x3d9)](_0x47b12d){const _0x304190=_0x359c2e;_0x47b12d['content'][_0x304190(0x2d7)]===_0x1577ee['OptimizationConnectionSuccess']&&this['incomingManager'][_0x304190(0x5e4)](_0x47b12d[_0x304190(0x143)]);}[_0x359c2e(0xc7)](_0x464556,_0x9cdbb6){const _0x480e2a=_0x359c2e;this[_0x480e2a(0xd2)][_0x480e2a(0xc7)](_0x9cdbb6),this[_0x480e2a(0x3da)][_0x480e2a(0xc7)](_0x464556,_0x9cdbb6)[_0x480e2a(0x600)](_0x17f9fc=>this[_0x480e2a(0x43f)][_0x480e2a(0x9a)](_0x17f9fc));}['handleSubscriptionSubscribeMediaStream'](_0x1801ff,_0x25696c){const _0x5c6464=_0x359c2e,_0x1ad542=this['outgoingManager'][_0x5c6464(0x595)](_0x1801ff,_0x25696c);if(_0x1ad542&&(this['systemTopic'][_0x5c6464(0x9a)]({'sourceId':this[_0x5c6464(0x494)][_0x5c6464(0x1ac)][_0x5c6464(0x22e)](),'destinationIds':[_0x1801ff],'messageType':_0x403a0f[_0x5c6464(0x2b9)],'content':_0x1ad542}),_0x1ad542['type']===_0x4b36c1[_0x5c6464(0x20a)]))throw new _0x215c54(_0x5c6464(0x432));}[_0x359c2e(0x330)](_0x3441b3,_0x2ecf42){const _0x55015d=_0x359c2e,_0x4e3a6b=this['outgoingManager'][_0x55015d(0x330)](_0x3441b3,_0x2ecf42);this[_0x55015d(0x43f)][_0x55015d(0x9a)]({'sourceId':this[_0x55015d(0x494)]['localNode'][_0x55015d(0x22e)](),'destinationIds':[_0x3441b3],'messageType':_0x403a0f['Subscription'],'content':_0x4e3a6b});}[_0x359c2e(0x124)]({label:_0x3b13a2}){const _0x50e6ac=_0x359c2e;this[_0x50e6ac(0x442)](_0x3b13a2,_0x883b7d[_0x50e6ac(0x3f6)][_0x50e6ac(0x4fe)]),this[_0x50e6ac(0x4ab)](_0x3b13a2,_0x883b7d[_0x50e6ac(0x3f6)][_0x50e6ac(0x4fe)]);}[_0x359c2e(0x12f)]({label:_0x13622a}){const _0x21e3d6=_0x359c2e;this[_0x21e3d6(0x442)](_0x13622a,_0x883b7d['ContentType'][_0x21e3d6(0x5f0)]),this[_0x21e3d6(0x4ab)](_0x13622a,_0x883b7d[_0x21e3d6(0x3f6)]['KeyValueDatabase']);}[_0x359c2e(0x36d)]({label:_0x4ab1f1}){const _0x6b6948=_0x359c2e;this['removeIncomingSubscription'](_0x4ab1f1,_0x883b7d[_0x6b6948(0x3f6)][_0x6b6948(0x282)]),this[_0x6b6948(0x4ab)](_0x4ab1f1,_0x883b7d[_0x6b6948(0x3f6)][_0x6b6948(0x282)]);}['removeSubscriptionsForNode']({id:_0x3872b6}){const _0x70dfd7=_0x359c2e;this[_0x70dfd7(0xd2)][_0x70dfd7(0x378)](_0x3872b6),this[_0x70dfd7(0x3da)][_0x70dfd7(0x378)](_0x3872b6);}}class _0x24d0c1{[_0x359c2e(0x140)];[_0x359c2e(0x277)]=_0x36be06();constructor(){this['label']=0x0;}[_0x359c2e(0x287)](){return this['label'];}['getContentType'](){const _0x1cde18=_0x359c2e;return _0x883b7d[_0x1cde18(0x3f6)][_0x1cde18(0x477)];}['registerSource'](_0x5edb39){const _0x4ba3de=_0x359c2e;_0x5edb39[_0x4ba3de(0x4c5)](this);}[_0x359c2e(0x94)](_0x64e51a){_0x64e51a['unregisterSystemPublisher']();}['publish'](_0x592198){const _0x3e46f9=_0x359c2e;_0x21773c['log'](_0x5e3d2b[_0x3e46f9(0xb6)],'SystemTopic\x20publish',_0x592198[_0x3e46f9(0x143)],_0x592198),this[_0x3e46f9(0x277)][_0x3e46f9(0x9a)]({'topicLabel':this[_0x3e46f9(0x140)],'contentType':_0x883b7d[_0x3e46f9(0x3f6)][_0x3e46f9(0x477)],'uuid':_0x592198[_0x3e46f9(0x5b0)]??(0x0,_0x3696f7['v4'])(),'recipients':_0x592198[_0x3e46f9(0x4e1)]??[],..._0x592198});}['subscribe'](_0x21e712){const _0x501283=_0x359c2e;return this['listener'][_0x501283(0x570)](_0x21e712);}}class _0xe5172d{[_0x359c2e(0x50c)];[_0x359c2e(0x2f2)];['maxDistance'];[_0x359c2e(0x47a)]=[];[_0x359c2e(0x3cf)];['remoteNodes']=new Map();constructor(_0x226a17,_0x4fea5a,_0x191909){const _0x45f19a=_0x359c2e;this[_0x45f19a(0x50c)]=_0x226a17,this[_0x45f19a(0x2f2)]=_0x4fea5a,this[_0x45f19a(0x35c)]=_0x191909,this['maxLayer']=(this[_0x45f19a(0x2f2)]-0x2*this['minConnections'])/0x2,this['ranges'][_0x45f19a(0x221)]({'start':0x1,'end':this[_0x45f19a(0x328)](0x1,0x1)-0x1});for(let _0x34c854=0x0;_0x34c854<this[_0x45f19a(0x3cf)];++_0x34c854)this[_0x45f19a(0x47a)][_0x45f19a(0x221)]({'start':this[_0x45f19a(0x328)](0x1,_0x34c854+0x1),'end':this[_0x45f19a(0x328)](0x1,_0x34c854+0x2)-0x1});}[_0x359c2e(0x328)](_0x255a7a,_0x2e4176=0x1){const _0xcaee7f=_0x359c2e;let _0x35177c=this['maxDistance']-this[_0xcaee7f(0x50c)],_0xdfd693=0x1;for(let _0x5d971e=0x1;_0x5d971e<_0x2e4176;++_0x5d971e)_0x35177c*=this[_0xcaee7f(0x35c)]-this[_0xcaee7f(0x50c)]-_0x5d971e,_0xdfd693*=this[_0xcaee7f(0x35c)]-this[_0xcaee7f(0x50c)]-_0x5d971e+0x1;return _0x35177c*this[_0xcaee7f(0x50c)]+_0x255a7a-_0xdfd693;}[_0x359c2e(0x225)](_0x52b83e){const _0x5f6744=_0x359c2e;let _0x40f2fd=0x0;for(;this[_0x5f6744(0x47a)][_0x40f2fd]['end']<_0x52b83e;)_0x40f2fd+=0x1;return _0x40f2fd;}['getMinConnections'](){return this['minConnections'];}[_0x359c2e(0x404)](){const _0x322d31=_0x359c2e;return this[_0x322d31(0x2f2)];}[_0x359c2e(0x541)](){const _0x5c5bb7=_0x359c2e;return this[_0x5c5bb7(0x35c)];}['getRemoteNodes'](){return this['remoteNodes'];}[_0x359c2e(0x2b8)](_0x4f187e,_0x180c95){const _0x51a857=_0x359c2e;this[_0x51a857(0x1d7)][_0x51a857(0x2f9)](_0x4f187e,_0x180c95);}[_0x359c2e(0x1bd)](_0x43f26c){const _0x4b062c=_0x359c2e;return this[_0x4b062c(0x1d7)][_0x4b062c(0x531)](_0x43f26c);}[_0x359c2e(0x2b2)](_0x9b1250){const _0x7c86f3=_0x359c2e;return this['remoteNodes'][_0x7c86f3(0x265)](_0x9b1250);}['deleteRemoteNode'](_0x56e606){const _0x5f54d5=_0x359c2e;this[_0x5f54d5(0x1d7)][_0x5f54d5(0x1c7)](_0x56e606);}[_0x359c2e(0x5a9)](_0x3af5d4,_0x1655c4){const _0xa0584a=_0x359c2e,_0x19b369=this['getRemoteNode'](_0x1655c4)?.[_0xa0584a(0x43d)]()??0x0;return _0x3af5d4[_0xa0584a(0x391)](_0x54c607=>this[_0xa0584a(0x2b2)](_0x54c607))[_0xa0584a(0x5d5)](_0x2b4a46=>void 0x0!==_0x2b4a46)['sort']((_0x85c1b6,_0x3e2aa9)=>Math['abs'](_0x19b369-(_0x85c1b6&&_0x85c1b6[_0xa0584a(0x43d)]()||0x1/0x0))-Math[_0xa0584a(0x53b)](_0x19b369-(_0x3e2aa9&&_0x3e2aa9['getRank']()||0x1/0x0)))['map'](_0x38891e=>_0x38891e[_0xa0584a(0x22e)]());}}class _0xd114bf{['vendorId'];['clusterId'];[_0x359c2e(0x403)];['options'];[_0x359c2e(0x494)];[_0x359c2e(0x145)];[_0x359c2e(0x4fc)];[_0x359c2e(0x437)];[_0x359c2e(0x35a)];['statsManager'];[_0x359c2e(0x2fe)];[_0x359c2e(0x351)];[_0x359c2e(0x3c0)];['graphService'];[_0x359c2e(0x43f)]=new _0x24d0c1();[_0x359c2e(0x247)];['localNode'];constructor(_0x22b13e,_0x23cd1a,_0x390981,_0x33ece9,_0xf88388,_0x52f6aa,_0x47755b){const _0x1e5223=_0x359c2e;switch(this[_0x1e5223(0x3d4)]=_0x22b13e,this[_0x1e5223(0xff)]=_0x23cd1a,this[_0x1e5223(0x403)]=_0x33ece9,this[_0x1e5223(0x259)]=_0xf88388,this[_0x1e5223(0x494)]=_0x52f6aa,this[_0x1e5223(0x145)]=_0x47755b,_0x390981[_0x1e5223(0x2d7)]){case _0x883b7d[_0x1e5223(0x5cc)][_0x1e5223(0x14e)]:this['localNode']=new _0x1fc9d2(_0x390981[_0x1e5223(0x22e)](),_0x390981[_0x1e5223(0x449)](),_0x390981[_0x1e5223(0x32f)]());break;case _0x883b7d['NodeType']['Agent']:default:this['localNode']=new _0xcd57e3(_0x390981[_0x1e5223(0x22e)]());}const _0x3919b0=this[_0x1e5223(0x2bd)]();this['graphService']=new _0xe5172d(this[_0x1e5223(0x259)][_0x1e5223(0x50c)],this[_0x1e5223(0x259)][_0x1e5223(0x2f2)],this[_0x1e5223(0x259)][_0x1e5223(0x35c)]),this['contentManager']=new _0x4bc576(_0x3919b0,this['options'][_0x1e5223(0x333)],this[_0x1e5223(0x259)][_0x1e5223(0x1ee)]),this[_0x1e5223(0x437)]=new _0x4bce91(_0x3919b0,this[_0x1e5223(0x403)],this[_0x1e5223(0x494)][_0x1e5223(0x32d)],this[_0x1e5223(0x259)][_0x1e5223(0x333)],this[_0x1e5223(0x259)][_0x1e5223(0x5c6)],this['graphService'],this['options']['peerConnectionConnector']),this['subscriptionManager']=new _0x2fc015(_0x3919b0,this[_0x1e5223(0x259)][_0x1e5223(0x46b)],this['graphService'][_0x1e5223(0x541)]()),this['statsManager']=new _0x261042(_0x3919b0),this[_0x1e5223(0x2fe)]=new _0x5b35ae(_0x3919b0),this[_0x1e5223(0x351)]=new _0x413b3a(_0x3919b0),this['nodeManager']=new _0x2fbc1d(_0x3919b0,this[_0x1e5223(0x190)],this[_0x1e5223(0x1ac)]),this[_0x1e5223(0x247)]=this['initializeSystemTopic']();}['open'](){const _0xa7f1=_0x359c2e,_0x47996c=this[_0xa7f1(0x2bd)]();this[_0xa7f1(0x437)]=new _0x4bce91(_0x47996c,this[_0xa7f1(0x403)],this['configs']['iceServers'],this[_0xa7f1(0x259)][_0xa7f1(0x333)],this[_0xa7f1(0x259)][_0xa7f1(0x5c6)],this[_0xa7f1(0x190)],this[_0xa7f1(0x259)][_0xa7f1(0x545)]),this[_0xa7f1(0x35a)]=new _0x2fc015(_0x47996c,this['options'][_0xa7f1(0x46b)],this[_0xa7f1(0x190)][_0xa7f1(0x541)]()),this[_0xa7f1(0x266)]=new _0x261042(_0x47996c),this[_0xa7f1(0x2fe)]=new _0x5b35ae(_0x47996c),this[_0xa7f1(0x351)]=new _0x413b3a(_0x47996c),this[_0xa7f1(0x3c0)]=new _0x2fbc1d(_0x47996c,this[_0xa7f1(0x190)],this[_0xa7f1(0x1ac)]);const _0x331491=this['connectionManager'][_0xa7f1(0x10e)]();this['contentManager'][_0xa7f1(0x31f)]()[_0xa7f1(0x600)](_0x4fc2f1=>{const _0x54bb40=_0xa7f1;this['subscriptionManager'][_0x54bb40(0x270)](_0x4fc2f1,_0x331491),this[_0x54bb40(0x35a)][_0x54bb40(0x15f)](_0x331491,_0x4fc2f1),_0x4fc2f1[_0x54bb40(0xa2)]();}),this['contentManager'][_0xa7f1(0xe4)]()['forEach'](_0x5a52a1=>{const _0x1874ee=_0xa7f1;this['subscriptionManager'][_0x1874ee(0x270)](_0x5a52a1,_0x331491),this[_0x1874ee(0x35a)][_0x1874ee(0x15f)](_0x331491,_0x5a52a1),_0x5a52a1[_0x1874ee(0xa2)](),_0x5a52a1[_0x1874ee(0x1b4)]();}),this[_0xa7f1(0x4fc)][_0xa7f1(0x1d8)]()[_0xa7f1(0x600)](_0x5595fc=>{const _0x482a04=_0xa7f1;this[_0x482a04(0x35a)]['createOutgoingSubscription'](_0x5595fc,_0x331491),this[_0x482a04(0x35a)][_0x482a04(0x15f)](_0x331491,_0x5595fc),_0x5595fc[_0x482a04(0xa2)](),this[_0x482a04(0x29e)](_0x5595fc);}),this[_0xa7f1(0x247)]=this[_0xa7f1(0x534)]();}[_0x359c2e(0x413)](_0x1c2ef9){const _0x5d6809=_0x359c2e;try{this[_0x5d6809(0x43f)]['registerSource'](_0x1c2ef9);}catch(_0x3e16c7){this[_0x5d6809(0x526)](_0x3e16c7,{});}}[_0x359c2e(0x106)](_0x274b48){const _0x500a22=_0x359c2e;try{this[_0x500a22(0x43f)][_0x500a22(0x94)](_0x274b48);}catch(_0x41658c){this[_0x500a22(0x526)](_0x41658c,{});}}[_0x359c2e(0x4e9)](_0x2f42a6,_0x74852a){const _0x5420ff=_0x359c2e;return this[_0x5420ff(0x437)][_0x5420ff(0x4e9)](_0x2f42a6,_0x74852a);}[_0x359c2e(0x39f)](_0x5d91eb){const _0x23eae6=_0x359c2e;try{return this[_0x23eae6(0x437)]['getConnection'](_0x5d91eb);}catch(_0x13d47a){throw this[_0x23eae6(0x526)](_0x13d47a,{});}}[_0x359c2e(0x3c4)](_0x3129ae){const _0x4f0bc4=_0x359c2e;try{return this[_0x4f0bc4(0x437)]['getConnections'](_0x3129ae);}catch(_0x1f7029){throw this[_0x4f0bc4(0x526)](_0x1f7029,{});}}[_0x359c2e(0x132)](_0x4b9ece,_0x44a50f){const _0x14973d=_0x359c2e;try{return this[_0x14973d(0x4fc)][_0x14973d(0x335)](_0x1ebbb6=>_0x1ebbb6[_0x14973d(0x27a)]()===_0x4b9ece&&_0x1ebbb6['getLabel']()===_0x44a50f)[0x0];}catch(_0x5e4121){throw this[_0x14973d(0x526)](_0x5e4121,{});}}['getLocalMediaStream'](_0x224086){const _0x56fa70=_0x359c2e;try{return this[_0x56fa70(0x4fc)][_0x56fa70(0x32b)](_0x50b286=>_0x50b286['getLabel']()===_0x224086)[0x0];}catch(_0x57d099){throw this[_0x56fa70(0x526)](_0x57d099,{});}}[_0x359c2e(0x38c)]=(..._0x3370f4)=>{const _0x3d2dc2=_0x359c2e;try{return this[_0x3d2dc2(0x145)][_0x3d2dc2(0x15c)](..._0x3370f4);}catch(_0x5a57df){throw this[_0x3d2dc2(0x526)](_0x5a57df,{});}};[_0x359c2e(0x1e1)](_0x2858cc){const _0x277428=_0x359c2e;try{this['statsManager'][_0x277428(0x645)](_0x2858cc);}catch(_0x5d102c){throw this[_0x277428(0x526)](_0x5d102c,{});}}[_0x359c2e(0x2bc)](_0x607053){const _0x315dd4=_0x359c2e;try{this['statsManager'][_0x315dd4(0x148)](_0x607053);}catch(_0xbd85cc){throw this[_0x315dd4(0x526)](_0xbd85cc,{});}}[_0x359c2e(0x2a8)](_0x3ead33){const _0x41de10=_0x359c2e;return this[_0x41de10(0x437)]['collectStats'](_0x3ead33);}async[_0x359c2e(0x417)](){const _0xc57275=_0x359c2e;try{await this[_0xc57275(0x437)][_0xc57275(0x417)]();const _0x197a77=await this[_0xc57275(0x3c0)][_0xc57275(0x5b9)]();for(const _0xf45201 of _0x197a77)this['connectionManager'][_0xc57275(0x4e9)](_0xf45201);}catch(_0x4f5fcb){throw this[_0xc57275(0x526)](_0x4f5fcb,{});}}[_0x359c2e(0x400)](_0x4028e8){const _0x3d99b8=_0x359c2e;this['localNode'][_0x3d99b8(0x2d7)]===_0x883b7d[_0x3d99b8(0x5cc)][_0x3d99b8(0x14e)]&&(this['localNode'][_0x3d99b8(0x405)](_0x4028e8['getEmail']()),this[_0x3d99b8(0x1ac)][_0x3d99b8(0x3fa)](_0x4028e8[_0x3d99b8(0x449)]()));}[_0x359c2e(0x57d)](_0x7333b7=!0x1){const _0x3a0ab9=_0x359c2e;_0x21773c[_0x3a0ab9(0x34c)](_0x3a0ab9(0x17f),{'clusterId':this[_0x3a0ab9(0xff)],'nodeId':this['localNode'][_0x3a0ab9(0x22e)](),'nodeType':this[_0x3a0ab9(0x1ac)][_0x3a0ab9(0x2d7)]}),this[_0x3a0ab9(0x247)](),this[_0x3a0ab9(0x351)][_0x3a0ab9(0x57d)](),this[_0x3a0ab9(0x2fe)][_0x3a0ab9(0x57d)](),this[_0x3a0ab9(0x266)][_0x3a0ab9(0x57d)](),this[_0x3a0ab9(0x35a)][_0x3a0ab9(0x57d)](),this[_0x3a0ab9(0x437)][_0x3a0ab9(0x57d)](),this[_0x3a0ab9(0x4fc)][_0x3a0ab9(0x57d)](_0x7333b7),this[_0x3a0ab9(0x3c0)][_0x3a0ab9(0x57d)]();}[_0x359c2e(0xde)](_0x5ade15){const _0x3f2410=_0x359c2e;try{const _0x4c68ca=this[_0x3f2410(0x4fc)]['createPubSubTopic'](_0x5ade15),_0x247fe6=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x4c68ca,_0x247fe6),this[_0x3f2410(0x35a)][_0x3f2410(0x15f)](_0x247fe6,_0x4c68ca),_0x4c68ca;}catch(_0xf513ea){throw this[_0x3f2410(0x526)](_0xf513ea,{});}}async[_0x359c2e(0x4c3)](_0x2068ee){const _0x337007=_0x359c2e;try{const _0x11b358=this['contentManager'][_0x337007(0x4e3)](_0x2068ee,this[_0x337007(0x259)]['objectStoreConnector']),_0x431b6a=this[_0x337007(0x437)][_0x337007(0x10e)]();return this[_0x337007(0x35a)]['createOutgoingSubscription'](_0x11b358,_0x431b6a),this[_0x337007(0x35a)][_0x337007(0x15f)](_0x431b6a,_0x11b358),await _0x11b358[_0x337007(0x1b4)](),_0x11b358;}catch(_0x116cef){throw this[_0x337007(0x526)](_0x116cef,{});}}async['openKeyValueDatabase'](_0x32c7a7,_0x51e5ae){const _0x2e21b4=_0x359c2e;try{const _0x2a8e46=await this[_0x2e21b4(0x4fc)][_0x2e21b4(0x63d)](_0x32c7a7,_0x51e5ae,this['options'][_0x2e21b4(0x421)]),_0x475790=this[_0x2e21b4(0x437)][_0x2e21b4(0x10e)]();return this['subscriptionManager'][_0x2e21b4(0x270)](_0x2a8e46,_0x475790),this[_0x2e21b4(0x35a)][_0x2e21b4(0x15f)](_0x475790,_0x2a8e46),await _0x2a8e46['open'](),this[_0x2e21b4(0x29e)](_0x2a8e46),_0x2a8e46;}catch(_0x56160f){throw this[_0x2e21b4(0x526)](_0x56160f,{});}}[_0x359c2e(0x31f)](_0x2475ec){const _0x21d64c=_0x359c2e;try{return this[_0x21d64c(0x4fc)][_0x21d64c(0x31f)](_0x2475ec);}catch(_0x36b178){throw this['handleError'](_0x36b178,{});}}[_0x359c2e(0xe4)](_0x5e8d8b){const _0x3d9be7=_0x359c2e;try{return this[_0x3d9be7(0x4fc)][_0x3d9be7(0xe4)](_0x5e8d8b);}catch(_0x1c304a){throw this[_0x3d9be7(0x526)](_0x1c304a,{});}}[_0x359c2e(0x1d8)](_0x2c2b6f){const _0x57169e=_0x359c2e;try{return this[_0x57169e(0x4fc)][_0x57169e(0x1d8)](_0x2c2b6f);}catch(_0x5043da){throw this[_0x57169e(0x526)](_0x5043da,{});}}[_0x359c2e(0x450)](_0x4af9d0,_0x4f1549){const _0x3aa1a4=_0x359c2e;if(!this[_0x3aa1a4(0x494)][_0x3aa1a4(0x60c)][_0x3aa1a4(0x457)](_0x352005[_0x3aa1a4(0x628)]))throw new _0x26d32b(_0x10cef2[_0x3aa1a4(0x639)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x3aa1a4(0x450)](_0x4af9d0,_0x4f1549);}catch(_0x4b639d){throw this[_0x3aa1a4(0x526)](_0x4b639d,{});}}[_0x359c2e(0x1b9)](_0x34dd34,_0x2e373c){const _0x373fd2=_0x359c2e;if(!this[_0x373fd2(0x494)][_0x373fd2(0x60c)]['includes'](_0x352005['MediaStream']))throw new _0x26d32b(_0x10cef2[_0x373fd2(0x639)],_0x373fd2(0x1c1));try{return this[_0x373fd2(0x4fc)][_0x373fd2(0x1b9)](_0x34dd34,_0x2e373c);}catch(_0x1d7d56){throw this[_0x373fd2(0x526)](_0x1d7d56,{});}}[_0x359c2e(0x32b)](_0x2104f3){const _0x558cb6=_0x359c2e;if(!this[_0x558cb6(0x494)][_0x558cb6(0x60c)][_0x558cb6(0x457)](_0x352005[_0x558cb6(0x628)]))throw new _0x26d32b(_0x10cef2[_0x558cb6(0x639)],_0x558cb6(0x1c1));try{return this[_0x558cb6(0x4fc)][_0x558cb6(0x32b)](_0x2104f3);}catch(_0x1f555c){throw this['handleError'](_0x1f555c,{});}}[_0x359c2e(0x335)](_0x4c6baf){const _0x563279=_0x359c2e;if(!this[_0x563279(0x494)][_0x563279(0x60c)]['includes'](_0x352005[_0x563279(0x628)]))throw new _0x26d32b(_0x10cef2[_0x563279(0x639)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x563279(0x4fc)][_0x563279(0x335)](_0x4c6baf);}catch(_0x1281ef){throw this[_0x563279(0x526)](_0x1281ef,{});}}['getDistance'](_0x54845b,_0x3e7722){const _0x18e1a7=_0x359c2e;return this[_0x18e1a7(0x3c0)][_0x18e1a7(0x34a)](_0x54845b,_0x3e7722);}[_0x359c2e(0x1f0)](){const _0x240afa=_0x359c2e;return this[_0x240afa(0x3c0)][_0x240afa(0x1f0)]();}[_0x359c2e(0x26e)](_0x3677fb){const _0x2d5861=_0x359c2e;try{return this[_0x2d5861(0x3c0)][_0x2d5861(0x26e)](_0x3677fb);}catch(_0x466396){throw this[_0x2d5861(0x526)](_0x466396,{});}}async['handleSystemEvents'](_0x333cbe){const _0x5c6971=_0x359c2e;try{if(_0x21773c[_0x5c6971(0x35d)](_0x5e3d2b[_0x5c6971(0xb6)],_0x5c6971(0x3a5),this[_0x5c6971(0x3c0)][_0x5c6971(0x218)](),_0x333cbe),_0x389d95(_0x333cbe,this[_0x5c6971(0x3c0)][_0x5c6971(0x218)]()))return void this[_0x5c6971(0x437)][_0x5c6971(0x183)](_0x333cbe);switch(_0x333cbe[_0x5c6971(0xb2)]){case _0x403a0f[_0x5c6971(0x167)]:this[_0x5c6971(0x266)][_0x5c6971(0x1e2)](_0x333cbe),this['subscriptionManager']['handleContentSystemEvents'](_0x333cbe),this['contentManager']['handleContentSystemEvents'](_0x333cbe);break;case _0x403a0f['Node']:this[_0x5c6971(0x35a)]['handleNodeSystemEvents'](_0x333cbe),this['connectionManager'][_0x5c6971(0x178)](_0x333cbe),this[_0x5c6971(0x4fc)]['handleNodeSystemEvents'](_0x333cbe),this['nodeManager'][_0x5c6971(0x178)](_0x333cbe);break;case _0x403a0f[_0x5c6971(0x161)]:this[_0x5c6971(0x351)]['handleDetectionSystemEvents'](_0x333cbe);break;case _0x403a0f[_0x5c6971(0x419)]:this[_0x5c6971(0x351)][_0x5c6971(0x135)](_0x333cbe);break;case _0x403a0f[_0x5c6971(0x5bd)]:this[_0x5c6971(0x2fe)][_0x5c6971(0x598)](_0x333cbe);break;case _0x403a0f[_0x5c6971(0x2b9)]:_0x333cbe[_0x5c6971(0x232)][_0x5c6971(0x2d7)]!==_0x4b36c1[_0x5c6971(0x54a)]?(this['subscriptionManager'][_0x5c6971(0x603)](_0x333cbe),this[_0x5c6971(0x4fc)][_0x5c6971(0x603)](_0x333cbe)):(this[_0x5c6971(0x4fc)]['handleSubscriptionSystemEvents'](_0x333cbe),this['subscriptionManager'][_0x5c6971(0x603)](_0x333cbe));break;case _0x403a0f[_0x5c6971(0x11c)]:await this[_0x5c6971(0x437)][_0x5c6971(0x3d9)](_0x333cbe),this[_0x5c6971(0x266)]['handlePeerConnectionSystemEvents'](_0x333cbe),this['nodeManager']['handlePeerConnectionSystemEvents'](_0x333cbe),this[_0x5c6971(0x35a)][_0x5c6971(0x3d9)](_0x333cbe);}}catch(_0x14380b){throw this[_0x5c6971(0x526)](_0x14380b,{});}}['handleError'](_0x5e55ff,_0x9bea8d){const _0x5151e2=_0x359c2e;if(!(_0x5e55ff instanceof _0x215c54)){if(_0x5e55ff instanceof _0x26d32b)throw _0x5e55ff;if(!(_0x5e55ff instanceof Error))throw new _0x26d32b(_0x10cef2['InternalSDKError'],_0x5151e2(0x5cd)+_0x5e55ff);if(!(_0x5e55ff instanceof _0x2e0415))throw new _0x26d32b(_0x10cef2[_0x5151e2(0x301)],'Internal\x20error:\x20'+_0x5e55ff[_0x5151e2(0x2d1)]);switch(_0x5e55ff['code']){case _0x2e0415[_0x5151e2(0xc9)]['MissingSystemTopic']:case _0x2e0415[_0x5151e2(0xc9)][_0x5151e2(0x5ff)]:case _0x2e0415['codes'][_0x5151e2(0x223)]:case _0x2e0415[_0x5151e2(0xc9)][_0x5151e2(0x525)]:case _0x2e0415[_0x5151e2(0xc9)]['ConnectionNotConnected']:case _0x2e0415[_0x5151e2(0xc9)][_0x5151e2(0xba)]:case _0x2e0415[_0x5151e2(0xc9)]['InvalidPublisher']:case _0x2e0415[_0x5151e2(0xc9)][_0x5151e2(0x632)]:case _0x2e0415['codes'][_0x5151e2(0x2f1)]:case _0x2e0415[_0x5151e2(0xc9)][_0x5151e2(0x16a)]:case _0x2e0415[_0x5151e2(0xc9)][_0x5151e2(0x3b5)]:case _0x2e0415[_0x5151e2(0xc9)][_0x5151e2(0x51d)]:}throw _0x21773c[_0x5151e2(0x11d)]('sdk-internal-error:\x20'+_0x5e55ff[_0x5151e2(0x2d1)],{'clusterId':this['clusterId'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5151e2(0x1ac)][_0x5151e2(0x2d7)]},_0x5e55ff),new _0x26d32b(_0x10cef2[_0x5151e2(0x301)],_0x5151e2(0x629)+_0x5e55ff[_0x5151e2(0x2d1)]);}}[_0x359c2e(0x2bd)](){const _0x242634=_0x359c2e;return{'mediator':this,'vendorId':this[_0x242634(0x3d4)],'clusterId':this[_0x242634(0xff)],'localNode':this[_0x242634(0x1ac)]};}['initializeSystemTopic'](){const _0x2da426=_0x359c2e;return this[_0x2da426(0x43f)]['subscribe'](_0x301cc3=>{const _0x223b82=_0x2da426,_0x16b1a7=_0xaffa6e(_0x301cc3,this[_0x223b82(0x1ac)][_0x223b82(0x22e)]()),_0x2ddd5d=_0x301cc3[_0x223b82(0xb2)]===_0x403a0f[_0x223b82(0x5bd)]||_0x301cc3[_0x223b82(0xb2)]===_0x403a0f[_0x223b82(0x11c)]&&_0x301cc3[_0x223b82(0x232)][_0x223b82(0x2d7)]===_0x1577ee[_0x223b82(0x5bd)]?_0x5e3d2b['SystemStats']:_0x5e3d2b[_0x223b82(0x3de)];_0x21773c['logRaw'](_0x2ddd5d,_0x301cc3[_0x223b82(0x5b0)]+_0x223b82(0x4d5)+_0x16b1a7,_0x301cc3),this[_0x223b82(0x587)](_0x301cc3)['catch'](_0x281cad=>{const _0x519dff=_0x223b82;console[_0x519dff(0x11d)](_0x281cad);});});}async[_0x359c2e(0x29e)](_0x1166ad,_0x4f5917){const _0x2dfa9d=_0x359c2e;_0x4f5917=this[_0x2dfa9d(0x2bf)](_0x4f5917),await _0x1166ad[_0x2dfa9d(0x1b4)](_0x4f5917,()=>this[_0x2dfa9d(0x29e)](_0x1166ad,_0x4f5917));}['findNextAncestor'](_0x30996e){const _0x4459c6=_0x359c2e,_0x316f25=this[_0x4459c6(0x3c0)][_0x4459c6(0x31e)]();if(!_0x30996e)return _0x316f25[0x0];const _0x3a6f95=_0x316f25[_0x4459c6(0x289)](_0x339dd4=>_0x30996e===_0x339dd4),_0x73a52e=_0x316f25[_0x3a6f95+0x1];return _0x316f25[_0x4459c6(0x5cb)]>0x0&&!_0x73a52e?_0x30996e[0x0]:_0x73a52e;}}class _0x3ad3ba{['vendorId'];[_0x359c2e(0xff)];[_0x359c2e(0x501)];[_0x359c2e(0x1f2)];[_0x359c2e(0x228)];constructor(_0x105987,_0x5210d5,_0x1a493c,_0x5d5905,_0x28f12c,_0x2f8792,_0x3e6296=new _0x42f445()){const _0x2e2c75=_0x359c2e;this[_0x2e2c75(0x3d4)]=_0x105987,this[_0x2e2c75(0xff)]=_0x5210d5,this[_0x2e2c75(0x501)]=_0x1a493c,this[_0x2e2c75(0x1f2)]=_0x3e6296,this[_0x2e2c75(0x228)]=new _0xd114bf(this[_0x2e2c75(0x3d4)],this[_0x2e2c75(0xff)],_0x1a493c,_0x5d5905,_0x28f12c,_0x2f8792,this);}async['join'](){const _0x2a101b=_0x359c2e;await this[_0x2a101b(0x228)][_0x2a101b(0x417)](),this[_0x2a101b(0x501)][_0x2a101b(0x2d7)]===_0x883b7d[_0x2a101b(0x5cc)]['User']&&this[_0x2a101b(0x501)][_0x2a101b(0x2fc)](this['clusterId'],_0x3736a3=>{const _0x3d8a3d=_0x2a101b;this[_0x3d8a3d(0x228)]['updateUser'](_0x3736a3);});}['leave'](){const _0x1c567f=_0x359c2e;this[_0x1c567f(0x228)]['close'](),this['authNode'][_0x1c567f(0x2d7)]===_0x883b7d[_0x1c567f(0x5cc)][_0x1c567f(0x14e)]&&this[_0x1c567f(0x501)][_0x1c567f(0x275)](this[_0x1c567f(0xff)]),this[_0x1c567f(0x15c)](_0x1c567f(0x4a3),void 0x0);}[_0x359c2e(0xde)](_0x3ba675){const _0xa8640f=_0x359c2e,_0x4b88a0=this['orchestrator']['openPubSubTopic'](_0x3ba675);return{'getName':_0x4b88a0[_0xa8640f(0x5c7)]['bind'](_0x4b88a0),'getOwnerId':_0x4b88a0[_0xa8640f(0x27a)][_0xa8640f(0x4e8)](_0x4b88a0),'getContentType':_0x4b88a0[_0xa8640f(0xce)][_0xa8640f(0x4e8)](_0x4b88a0),'publish':_0x4b88a0['publish'][_0xa8640f(0x4e8)](_0x4b88a0),'subscribe':_0x4b88a0[_0xa8640f(0x570)][_0xa8640f(0x4e8)](_0x4b88a0),'unsubscribe':_0x4b88a0['unsubscribe'][_0xa8640f(0x4e8)](_0x4b88a0),'close':_0x4b88a0[_0xa8640f(0x57d)][_0xa8640f(0x4e8)](_0x4b88a0)};}async[_0x359c2e(0x4c3)](_0x553bbb){const _0x4361b4=_0x359c2e,_0x1e3efc=await this[_0x4361b4(0x228)][_0x4361b4(0x4c3)](_0x553bbb);return{'getName':_0x1e3efc[_0x4361b4(0x5c7)][_0x4361b4(0x4e8)](_0x1e3efc),'getOwnerId':_0x1e3efc['getOwnerId']['bind'](_0x1e3efc),'getContentType':_0x1e3efc[_0x4361b4(0xce)]['bind'](_0x1e3efc),'publish':_0x1e3efc[_0x4361b4(0x9a)][_0x4361b4(0x4e8)](_0x1e3efc),'unpublish':_0x1e3efc[_0x4361b4(0x553)][_0x4361b4(0x4e8)](_0x1e3efc),'get':_0x1e3efc[_0x4361b4(0x265)][_0x4361b4(0x4e8)](_0x1e3efc),'list':_0x1e3efc[_0x4361b4(0x87)]['bind'](_0x1e3efc),'subscribe':_0x1e3efc[_0x4361b4(0x570)][_0x4361b4(0x4e8)](_0x1e3efc),'unsubscribe':_0x1e3efc['unsubscribe'][_0x4361b4(0x4e8)](_0x1e3efc),'close':_0x1e3efc[_0x4361b4(0x57d)][_0x4361b4(0x4e8)](_0x1e3efc)};}async[_0x359c2e(0x10d)](_0x2da4a3,_0x10015a){const _0x3dc02d=_0x359c2e,_0x5c5cd5=await this[_0x3dc02d(0x228)][_0x3dc02d(0x10d)](_0x2da4a3,_0x10015a);return{'getName':_0x5c5cd5[_0x3dc02d(0x5c7)][_0x3dc02d(0x4e8)](_0x5c5cd5),'getOwnerId':_0x5c5cd5[_0x3dc02d(0x27a)][_0x3dc02d(0x4e8)](_0x5c5cd5),'getContentType':_0x5c5cd5[_0x3dc02d(0xce)][_0x3dc02d(0x4e8)](_0x5c5cd5),'getTable':_0x5c5cd5[_0x3dc02d(0x1b7)][_0x3dc02d(0x4e8)](_0x5c5cd5),'subscribe':_0x5c5cd5['subscribe'][_0x3dc02d(0x4e8)](_0x5c5cd5),'unsubscribe':_0x5c5cd5['unsubscribe'][_0x3dc02d(0x4e8)](_0x5c5cd5),'close':_0x5c5cd5[_0x3dc02d(0x57d)][_0x3dc02d(0x4e8)](_0x5c5cd5)};}['getPubSubTopics'](_0x1a6a30){const _0x4a6251=_0x359c2e;return this['orchestrator']['getPubSubTopics'](_0x1a6a30)[_0x4a6251(0x391)](_0x2a06dd=>({'getName':_0x2a06dd[_0x4a6251(0x5c7)][_0x4a6251(0x4e8)](_0x2a06dd),'getOwnerId':_0x2a06dd[_0x4a6251(0x27a)][_0x4a6251(0x4e8)](_0x2a06dd),'getContentType':_0x2a06dd['getContentType'][_0x4a6251(0x4e8)](_0x2a06dd),'publish':_0x2a06dd['publish'][_0x4a6251(0x4e8)](_0x2a06dd),'subscribe':_0x2a06dd[_0x4a6251(0x570)][_0x4a6251(0x4e8)](_0x2a06dd),'unsubscribe':_0x2a06dd[_0x4a6251(0x244)][_0x4a6251(0x4e8)](_0x2a06dd),'close':_0x2a06dd[_0x4a6251(0x57d)][_0x4a6251(0x4e8)](_0x2a06dd)}));}[_0x359c2e(0xe4)](_0x3cbba6){const _0x561601=_0x359c2e;return this[_0x561601(0x228)][_0x561601(0xe4)](_0x3cbba6)[_0x561601(0x391)](_0x316ea9=>({'getName':_0x316ea9[_0x561601(0x5c7)][_0x561601(0x4e8)](_0x316ea9),'getOwnerId':_0x316ea9['getOwnerId']['bind'](_0x316ea9),'getContentType':_0x316ea9[_0x561601(0xce)][_0x561601(0x4e8)](_0x316ea9),'publish':_0x316ea9[_0x561601(0x9a)][_0x561601(0x4e8)](_0x316ea9),'unpublish':_0x316ea9[_0x561601(0x553)][_0x561601(0x4e8)](_0x316ea9),'get':_0x316ea9[_0x561601(0x265)][_0x561601(0x4e8)](_0x316ea9),'list':_0x316ea9[_0x561601(0x87)][_0x561601(0x4e8)](_0x316ea9),'subscribe':_0x316ea9['subscribe']['bind'](_0x316ea9),'unsubscribe':_0x316ea9['unsubscribe'][_0x561601(0x4e8)](_0x316ea9),'close':_0x316ea9['close'][_0x561601(0x4e8)](_0x316ea9)}));}[_0x359c2e(0x1d8)](_0x3e5af4){const _0x3efd31=_0x359c2e;return this[_0x3efd31(0x228)][_0x3efd31(0x1d8)](_0x3e5af4)[_0x3efd31(0x391)](_0x17211c=>({'getName':_0x17211c[_0x3efd31(0x5c7)][_0x3efd31(0x4e8)](_0x17211c),'getOwnerId':_0x17211c['getOwnerId'][_0x3efd31(0x4e8)](_0x17211c),'getContentType':_0x17211c[_0x3efd31(0xce)][_0x3efd31(0x4e8)](_0x17211c),'getTable':_0x17211c['getTable'][_0x3efd31(0x4e8)](_0x17211c),'subscribe':_0x17211c[_0x3efd31(0x570)][_0x3efd31(0x4e8)](_0x17211c),'unsubscribe':_0x17211c[_0x3efd31(0x244)][_0x3efd31(0x4e8)](_0x17211c),'close':_0x17211c[_0x3efd31(0x57d)][_0x3efd31(0x4e8)](_0x17211c)}));}[_0x359c2e(0x186)](_0x112790,_0x4a4e18){const _0x23faea=_0x359c2e,_0x5606e8=this['orchestrator'][_0x23faea(0x450)](_0x112790,_0x4a4e18);return{'getLabel':_0x5606e8[_0x23faea(0x287)][_0x23faea(0x4e8)](_0x5606e8),'getOwnerId':_0x5606e8['getOwnerId']['bind'](_0x5606e8),'getContentType':_0x5606e8['getContentType'][_0x23faea(0x4e8)](_0x5606e8),'getMediaStream':_0x5606e8['getMediaStream']['bind'](_0x5606e8),'setPriority':_0x5606e8[_0x23faea(0xaf)]['bind'](_0x5606e8),'unpublish':_0x5606e8[_0x23faea(0x553)][_0x23faea(0x4e8)](_0x5606e8)};}[_0x359c2e(0x269)](_0x32d71b,_0x530e0c){const _0x2f031d=_0x359c2e,_0x1eb891=this[_0x2f031d(0x228)][_0x2f031d(0x1b9)](_0x32d71b,_0x530e0c);return{'getLabel':_0x1eb891[_0x2f031d(0x287)][_0x2f031d(0x4e8)](_0x1eb891),'getOwnerId':_0x1eb891[_0x2f031d(0x27a)]['bind'](_0x1eb891),'getContentType':_0x1eb891[_0x2f031d(0xce)]['bind'](_0x1eb891),'setPriority':_0x1eb891[_0x2f031d(0xaf)][_0x2f031d(0x4e8)](_0x1eb891),'unpublish':_0x1eb891['unpublish'][_0x2f031d(0x4e8)](_0x1eb891),'getMediaStream':_0x1eb891[_0x2f031d(0x455)]['bind'](_0x1eb891),'addTrack':_0x1eb891[_0x2f031d(0xf6)][_0x2f031d(0x4e8)](_0x1eb891),'removeTrack':_0x1eb891[_0x2f031d(0x412)][_0x2f031d(0x4e8)](_0x1eb891),'replaceTrack':_0x1eb891[_0x2f031d(0x175)]['bind'](_0x1eb891),'setTransformations':_0x1eb891['setTransformations'][_0x2f031d(0x4e8)](_0x1eb891)};}['getLocalMediaStreams'](_0x3f8c48){const _0x1cad26=_0x359c2e;return this[_0x1cad26(0x228)][_0x1cad26(0x32b)](_0x3f8c48)[_0x1cad26(0x391)](_0x521bb7=>({'getLabel':_0x521bb7[_0x1cad26(0x287)]['bind'](_0x521bb7),'getOwnerId':_0x521bb7[_0x1cad26(0x27a)]['bind'](_0x521bb7),'getContentType':_0x521bb7['getContentType'][_0x1cad26(0x4e8)](_0x521bb7),'getMediaStream':_0x521bb7[_0x1cad26(0x455)][_0x1cad26(0x4e8)](_0x521bb7),'setPriority':_0x521bb7[_0x1cad26(0xaf)][_0x1cad26(0x4e8)](_0x521bb7),'unpublish':_0x521bb7['unpublish'][_0x1cad26(0x4e8)](_0x521bb7)}));}[_0x359c2e(0x335)](_0x1d3515){const _0x2b63c0=_0x359c2e;return this[_0x2b63c0(0x228)][_0x2b63c0(0x335)](_0x1d3515)[_0x2b63c0(0x391)](_0x376596=>({'getLabel':_0x376596[_0x2b63c0(0x287)]['bind'](_0x376596),'getOwnerId':_0x376596[_0x2b63c0(0x27a)][_0x2b63c0(0x4e8)](_0x376596),'getContentType':_0x376596['getContentType'][_0x2b63c0(0x4e8)](_0x376596),'getMediaStream':_0x376596[_0x2b63c0(0x455)][_0x2b63c0(0x4e8)](_0x376596),'subscribe':_0x376596[_0x2b63c0(0x570)][_0x2b63c0(0x4e8)](_0x376596),'unsubscribe':_0x376596[_0x2b63c0(0x244)][_0x2b63c0(0x4e8)](_0x376596),'getAvailableTrackKinds':_0x376596[_0x2b63c0(0x586)][_0x2b63c0(0x4e8)](_0x376596),'update':_0x376596[_0x2b63c0(0x195)]['bind'](_0x376596),'onProviderChange':_0x376596[_0x2b63c0(0x59b)][_0x2b63c0(0x4e8)](_0x376596)}));}[_0x359c2e(0x1f0)](){const _0x590271=_0x359c2e,_0x3c3d74=this[_0x590271(0x228)]['getLocalNode']();switch(_0x3c3d74['type']){case _0x883b7d[_0x590271(0x5cc)][_0x590271(0x14e)]:return{'type':_0x883b7d['NodeType']['User'],'getId':_0x3c3d74[_0x590271(0x22e)][_0x590271(0x4e8)](_0x3c3d74),'getDisplayName':_0x3c3d74[_0x590271(0x449)]['bind'](_0x3c3d74),'getEmail':_0x3c3d74['getEmail']['bind'](_0x3c3d74),'getRemoteConnections':_0x3c3d74[_0x590271(0x61a)]['bind'](_0x3c3d74),'setDisplayName':_0x3c3d74[_0x590271(0x3fa)][_0x590271(0x4e8)](_0x3c3d74),'setEmail':_0x3c3d74['setEmail'][_0x590271(0x4e8)](_0x3c3d74)};case _0x883b7d[_0x590271(0x5cc)]['Agent']:default:return{'type':_0x883b7d[_0x590271(0x5cc)][_0x590271(0x131)],'getId':_0x3c3d74[_0x590271(0x22e)][_0x590271(0x4e8)](_0x3c3d74),'getRemoteConnections':_0x3c3d74[_0x590271(0x61a)][_0x590271(0x4e8)](_0x3c3d74)};}}[_0x359c2e(0x26e)](_0x16de10){const _0x2d6b7f=_0x359c2e;return this[_0x2d6b7f(0x228)][_0x2d6b7f(0x26e)](_0x16de10)[_0x2d6b7f(0x391)](_0x38c070=>{const _0x6f5cf=_0x2d6b7f;switch(_0x38c070[_0x6f5cf(0x2d7)]){case _0x883b7d[_0x6f5cf(0x5cc)]['User']:return{'type':_0x883b7d[_0x6f5cf(0x5cc)]['User'],'getId':_0x38c070[_0x6f5cf(0x22e)]['bind'](_0x38c070),'getDisplayName':_0x38c070[_0x6f5cf(0x449)][_0x6f5cf(0x4e8)](_0x38c070),'getEmail':_0x38c070[_0x6f5cf(0x32f)]['bind'](_0x38c070),'getRemoteConnections':_0x38c070[_0x6f5cf(0x61a)][_0x6f5cf(0x4e8)](_0x38c070)};case _0x883b7d[_0x6f5cf(0x5cc)]['Agent']:return{'type':_0x883b7d[_0x6f5cf(0x5cc)][_0x6f5cf(0x131)],'getId':_0x38c070[_0x6f5cf(0x22e)][_0x6f5cf(0x4e8)](_0x38c070),'getRemoteConnections':_0x38c070[_0x6f5cf(0x61a)][_0x6f5cf(0x4e8)](_0x38c070)};default:throw new _0x26d32b(_0x10cef2[_0x6f5cf(0x243)],_0x6f5cf(0x142));}});}['on']=(..._0x120809)=>{const _0x1cb27f=_0x359c2e;this[_0x1cb27f(0x1f2)]['on'](..._0x120809);};[_0x359c2e(0x15c)]=(..._0x46e041)=>this[_0x359c2e(0x1f2)][_0x359c2e(0x15c)](..._0x46e041);['off'](..._0x147834){const _0x13ad27=_0x359c2e;this['eventEmitter'][_0x13ad27(0x590)](..._0x147834);}}class _0x40f28e{['id'];[_0x359c2e(0x61d)];[_0x359c2e(0x3d4)];[_0x359c2e(0x5fe)];[_0x359c2e(0x2d7)]=_0x883b7d[_0x359c2e(0x5cc)]['Agent'];constructor(_0x13c28f,_0x3000e9,_0x4cc1ab,_0x42b8b4){const _0x4b6bd6=_0x359c2e;this['id']=_0x13c28f,this[_0x4b6bd6(0x61d)]=_0x3000e9,this['vendorId']=_0x4cc1ab,this['agentConfig']=_0x42b8b4;}['getId'](){return this['id'];}[_0x359c2e(0x5f1)](_0x32b68a){const _0x3c13f8=_0x359c2e,_0x5134eb=(0x0,_0x18f094[_0x3c13f8(0x57f)])((0x0,_0x18f094['doc'])(_0x3104fb[_0x3c13f8(0x2a9)](),_0x3c13f8(0x1fa)+this[_0x3c13f8(0x3d4)]+_0x3c13f8(0x462)+this[_0x3c13f8(0x61d)]),_0x2ab13e=>{const _0x2dc2d7=_0x3c13f8;if(_0x2ab13e[_0x2dc2d7(0x32c)]()){const _0x2d0bc3=_0x2ab13e[_0x2dc2d7(0x3f4)]();if(JSON[_0x2dc2d7(0x3bf)](_0x2d0bc3)===JSON[_0x2dc2d7(0x3bf)](this[_0x2dc2d7(0x5fe)]))return;this[_0x2dc2d7(0x5fe)]=_0x2d0bc3,_0x32b68a();}});return()=>_0x5134eb();}['setReportCapacity'](_0x1a76b1){const _0x7f9d87=_0x359c2e;return this[_0x7f9d87(0x60e)](this[_0x7f9d87(0x61d)],_0x1a76b1),_0x4df92f['setInterval'](()=>this[_0x7f9d87(0x60e)](this[_0x7f9d87(0x61d)],_0x1a76b1),0x493e0);}async['reportCapacity'](_0x19ff2b,_0x4d88e8){const _0x717e2e=_0x359c2e,_0x3559e3=await _0x4d88e8();await(0x0,_0x18f094[_0x717e2e(0x605)])((0x0,_0x18f094[_0x717e2e(0x454)])(_0x3104fb[_0x717e2e(0x2a9)](),'developers/'+this['vendorId']+_0x717e2e(0x36c)),{'agentId':this['id'],'groupId':_0x19ff2b,'timestamp':(0x0,_0x18f094[_0x717e2e(0x1cc)])(),'capacity':_0x3559e3});}}class _0x6ac637{['id'];[_0x359c2e(0x109)];[_0x359c2e(0x62f)];[_0x359c2e(0x2d7)]=_0x883b7d[_0x359c2e(0x5cc)][_0x359c2e(0x14e)];[_0x359c2e(0x25b)]=new Map();[_0x359c2e(0x42c)]=_0x36be06();constructor(_0x1aad94,_0x283936,_0x247d09){const _0x60b23f=_0x359c2e;this['id']=_0x1aad94,this[_0x60b23f(0x109)]=_0x283936,this[_0x60b23f(0x62f)]=_0x247d09;}[_0x359c2e(0x22e)](){return this['id'];}['getDisplayName'](){const _0x4e4097=_0x359c2e;return this[_0x4e4097(0x109)];}[_0x359c2e(0x32f)](){const _0x42b7e6=_0x359c2e;return this[_0x42b7e6(0x62f)];}[_0x359c2e(0x3fa)](_0x5e3145){const _0x381e7a=_0x359c2e;this[_0x381e7a(0x109)]!==_0x5e3145&&(this[_0x381e7a(0x109)]=_0x5e3145,this[_0x381e7a(0x42c)][_0x381e7a(0x9a)](this));}[_0x359c2e(0x405)](_0x239b5c){const _0x142766=_0x359c2e;this[_0x142766(0x62f)]!==_0x239b5c&&(this['email']=_0x239b5c,this[_0x142766(0x42c)][_0x142766(0x9a)](this));}[_0x359c2e(0x2fc)](_0x1b3227,_0x45f228){const _0x7bc702=_0x359c2e;if(this[_0x7bc702(0x25b)]['has'](_0x1b3227))return;const _0x586269=this[_0x7bc702(0x42c)][_0x7bc702(0x570)](_0x45f228);this[_0x7bc702(0x25b)][_0x7bc702(0x2f9)](_0x1b3227,_0x586269);}[_0x359c2e(0x275)](_0x54e9b9){const _0x87ea48=_0x359c2e;if(!this[_0x87ea48(0x25b)][_0x87ea48(0x531)](_0x54e9b9))return;const _0x5a7879=this['joinedClusters'][_0x87ea48(0x265)](_0x54e9b9);_0x5a7879&&_0x5a7879(),this[_0x87ea48(0x25b)]['delete'](_0x54e9b9);}}class _0x326bc7{['vendorId'];[_0x359c2e(0x203)];constructor(_0x5dac2b){const _0x17a867=_0x359c2e;this[_0x17a867(0x3d4)]=_0x5dac2b;}async[_0x359c2e(0x422)](_0x685648){const _0x1cdd9b=_0x359c2e,_0x79297d=await(0x0,_0x5e7560[_0x1cdd9b(0x427)])(_0x3104fb[_0x1cdd9b(0x584)](),_0x1cdd9b(0x150))({'uid':_0x1cdd9b(0x5aa)+this[_0x1cdd9b(0x3d4)]+_0x1cdd9b(0x5aa)+_0x685648['id']}),_0x5c6f41=await(0x0,_0x219e67['signInWithCustomToken'])(_0x3104fb[_0x1cdd9b(0x30a)](),_0x79297d[_0x1cdd9b(0x3f4)]['token']);this[_0x1cdd9b(0x203)]=_0x5c6f41[_0x1cdd9b(0x203)];}async[_0x359c2e(0x4d9)](){const _0x2a0b42=_0x359c2e;await(0x0,_0x219e67['signOut'])(_0x3104fb[_0x2a0b42(0x30a)]());}[_0x359c2e(0x622)](){const _0x5ee531=_0x359c2e;return this['user']?.[_0x5ee531(0x622)]()??Promise['reject'](_0x5ee531(0x110));}}class _0x209eb4{static [_0x359c2e(0x101)];[_0x359c2e(0x4be)]=[];constructor(){}static[_0x359c2e(0x604)](){const _0x2ef3b2=_0x359c2e;return _0x209eb4[_0x2ef3b2(0x101)]||(_0x209eb4['instance']=new _0x209eb4()),_0x209eb4['instance'];}['initialize'](){const _0x2a3332=_0x359c2e;this[_0x2a3332(0x1e0)](),this[_0x2a3332(0x5bc)](),this[_0x2a3332(0x54b)](),this[_0x2a3332(0x21e)](),this[_0x2a3332(0x3ea)](),this[_0x2a3332(0x4e0)](),this[_0x2a3332(0xe5)](),this[_0x2a3332(0x5b8)](),this[_0x2a3332(0x5f3)](),this['checkAudioContext'](),_0x21773c[_0x2a3332(0x35d)](_0x5e3d2b['Support'],'Support:\x20current\x20config',{'featureSupport':this['featureSupport']});}['isFeatureSupported'](_0x5f35c3){const _0x4e011c=_0x359c2e,_0x297997=this['featureSupport'][_0x4e011c(0x3c6)](_0x30862f=>_0x30862f['name']===_0x5f35c3);return!!_0x297997&&_0x297997[_0x4e011c(0xd9)];}[_0x359c2e(0x255)](_0x1edefa){const _0x1a4251=_0x359c2e;_0x21773c[_0x1a4251(0x2dd)](_0x1a4251(0x606),{'nodeId':_0x1edefa[_0x1a4251(0x22e)](),'nodeType':_0x1edefa[_0x1a4251(0x2d7)],'data':{'featureSupport':this['featureSupport']}});}[_0x359c2e(0x1e0)](){const _0x2496f5=_0x359c2e,_0xd027aa=_0x251718['WebRTC'];let _0x33b490=!0x1;_0x2496f5(0x527)==typeof RTCPeerConnection&&_0x2496f5(0x527)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x33b490=!0x0:_0x21773c['log'](_0x5e3d2b[_0x2496f5(0xe2)],'Support:\x20'+_0xd027aa+'\x20not\x20supported'),this[_0x2496f5(0x4be)][_0x2496f5(0x221)]({'name':_0xd027aa,'supported':_0x33b490});}[_0x359c2e(0x5bc)](){const _0x234fbe=_0x359c2e,_0x228dd2=_0x251718[_0x234fbe(0x628)];let _0x5004de=!0x1;_0x234fbe(0x527)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x234fbe(0x2b6)==typeof navigator&&_0x234fbe(0x2b6)==typeof navigator[_0x234fbe(0x3d1)]&&'function'==typeof navigator[_0x234fbe(0x3d1)][_0x234fbe(0x623)]?_0x5004de=!0x0:_0x21773c[_0x234fbe(0x35d)](_0x5e3d2b[_0x234fbe(0xe2)],_0x234fbe(0x355)+_0x228dd2+_0x234fbe(0x1e3)),this['featureSupport']['push']({'name':_0x228dd2,'supported':_0x5004de});}[_0x359c2e(0x54b)](){const _0x763e75=_0x359c2e,_0x41a2a=_0x251718[_0x763e75(0x640)];let _0x257c96=!0x1;_0x763e75(0x2b6)==typeof navigator&&_0x763e75(0x2b6)==typeof navigator[_0x763e75(0x3d1)]&&'function'==typeof navigator[_0x763e75(0x3d1)][_0x763e75(0x4bd)]?_0x257c96=!0x0:_0x21773c[_0x763e75(0x35d)](_0x5e3d2b['Support'],'Support:\x20'+_0x41a2a+_0x763e75(0x1e3)),this['featureSupport'][_0x763e75(0x221)]({'name':_0x41a2a,'supported':_0x257c96});}['checkAudioVolume'](){const _0x5a5958=_0x359c2e,_0x470a29=_0x251718['AudioVolume'];let _0x38ec1a=!0x1;_0x5a5958(0x527)!=typeof AudioContext||_0x5a5958(0x527)!=typeof ScriptProcessorNode&&_0x5a5958(0x527)!=typeof AudioWorkletNode||_0x5a5958(0x527)!=typeof MediaStreamAudioSourceNode?_0x21773c[_0x5a5958(0x35d)](_0x5e3d2b[_0x5a5958(0xe2)],_0x5a5958(0x355)+_0x470a29+_0x5a5958(0x1e3)):_0x38ec1a=!0x0,this[_0x5a5958(0x4be)][_0x5a5958(0x221)]({'name':_0x470a29,'supported':_0x38ec1a});}[_0x359c2e(0x3ea)](){const _0x58f01e=_0x359c2e,_0x12983b=_0x251718[_0x58f01e(0x4e6)];let _0x356250=!0x1;_0x58f01e(0x2b6)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x58f01e(0x527)==typeof navigator[_0x58f01e(0x3d1)][_0x58f01e(0xb0)]&&_0x58f01e(0x527)==typeof MediaDeviceInfo?_0x356250=!0x0:_0x21773c['log'](_0x5e3d2b['Support'],_0x58f01e(0x355)+_0x12983b+_0x58f01e(0x1e3)),this[_0x58f01e(0x4be)][_0x58f01e(0x221)]({'name':_0x12983b,'supported':_0x356250});}['checkAudioOutput'](){const _0x50023d=_0x359c2e,_0x19de2e=_0x251718[_0x50023d(0x3c5)];let _0x5ab0ad=!0x1;_0x50023d(0x2b6)==typeof document&&_0x50023d(0x527)==typeof document[_0x50023d(0x156)](_0x50023d(0x105))[_0x50023d(0x2ed)]?_0x5ab0ad=!0x0:_0x21773c[_0x50023d(0x35d)](_0x5e3d2b[_0x50023d(0xe2)],_0x50023d(0x355)+_0x19de2e+_0x50023d(0x1e3)),this[_0x50023d(0x4be)][_0x50023d(0x221)]({'name':_0x19de2e,'supported':_0x5ab0ad});}async[_0x359c2e(0xe5)](){const _0xb2e168=_0x359c2e,_0x405b58=_0x251718[_0xb2e168(0x498)];let _0x219a73=!0x1;try{const _0x27711a=document[_0xb2e168(0x156)](_0xb2e168(0x1ef));if(MediaRecorder&&MediaSource&&_0x27711a['captureStream']){const _0x3b7f79=_0x27711a[_0xb2e168(0x5c5)](),_0x4d6870=new MediaRecorder(_0x3b7f79);_0x4d6870['start'](),await new Promise(_0x5c1b17=>setTimeout(_0x5c1b17,0x7d0)),_0x4d6870[_0xb2e168(0x211)](),_0x219a73='inactive'===_0x4d6870['state'];}}catch(_0x167efc){_0x21773c[_0xb2e168(0x35d)](_0x5e3d2b[_0xb2e168(0xe2)],'Support:\x20'+_0x405b58+_0xb2e168(0x371),_0x167efc);}this[_0xb2e168(0x4be)][_0xb2e168(0x221)]({'name':_0x405b58,'supported':_0x219a73}),_0x219a73||_0x21773c[_0xb2e168(0x35d)](_0x5e3d2b['Support'],_0xb2e168(0x355)+_0x405b58+_0xb2e168(0x1e3));}[_0x359c2e(0x5b8)](){const _0x54f513=_0x359c2e,_0x2ed9e7=_0x251718[_0x54f513(0x55a)];let _0x18568a=!0x1;try{document[_0x54f513(0x156)](_0x54f513(0x1ef))['captureStream']&&(_0x18568a=!0x0);}catch(_0x1e36bb){_0x21773c[_0x54f513(0x35d)](_0x5e3d2b[_0x54f513(0xe2)],_0x54f513(0x355)+_0x2ed9e7+'\x20check\x20failed',_0x1e36bb);}this['featureSupport']['push']({'name':_0x2ed9e7,'supported':_0x18568a}),_0x18568a||_0x21773c['log'](_0x5e3d2b[_0x54f513(0xe2)],_0x54f513(0x355)+_0x2ed9e7+_0x54f513(0x1e3));}[_0x359c2e(0x5f3)](){const _0xa1f924=_0x359c2e,_0x39c9fb=_0x251718['WebGL'];let _0x23be06=!0x1;try{const _0xb61342=document[_0xa1f924(0x156)](_0xa1f924(0x1ef));WebGLRenderingContext&&_0xb61342[_0xa1f924(0x4ec)](_0xa1f924(0x1a6))&&(_0x23be06=!0x0);}catch(_0x2f9069){_0x21773c[_0xa1f924(0x35d)](_0x5e3d2b[_0xa1f924(0xe2)],'Support:\x20'+_0x39c9fb+_0xa1f924(0x371),_0x2f9069);}this[_0xa1f924(0x4be)][_0xa1f924(0x221)]({'name':_0x39c9fb,'supported':_0x23be06}),_0x23be06||_0x21773c[_0xa1f924(0x35d)](_0x5e3d2b[_0xa1f924(0xe2)],_0xa1f924(0x355)+_0x39c9fb+_0xa1f924(0x1e3));}[_0x359c2e(0x41d)](){const _0x464841=_0x359c2e,_0x220ba8=_0x251718[_0x464841(0x5f4)];let _0x30a4ae=!0x1;_0x464841(0x527)==typeof AudioContext?_0x30a4ae=!0x0:_0x21773c['log'](_0x5e3d2b[_0x464841(0xe2)],_0x464841(0x355)+_0x220ba8+_0x464841(0x1e3)),this[_0x464841(0x4be)][_0x464841(0x221)]({'name':_0x220ba8,'supported':_0x30a4ae});}}const _0x39e3ce=_0x209eb4['getInstance']();class _0xcc8d52{static [_0x359c2e(0x101)];['authService'];[_0x359c2e(0x3d4)];[_0x359c2e(0x259)];[_0x359c2e(0x494)];[_0x359c2e(0x21a)]=new Map();[_0x359c2e(0x5d3)];[_0x359c2e(0x244)];constructor(_0x295412,_0x40032a,_0x5d4951){const _0x4d3b91=_0x359c2e;this[_0x4d3b91(0x3d4)]=_0x295412,this[_0x4d3b91(0x494)]=_0x40032a,this[_0x4d3b91(0x403)]=new _0x326bc7(this[_0x4d3b91(0x3d4)]),_0x39e3ce[_0x4d3b91(0x417)](),this[_0x4d3b91(0x259)]={'audioContext':_0x5d4951?.[_0x4d3b91(0x1ee)]??(_0x39e3ce[_0x4d3b91(0x484)](_0x251718[_0x4d3b91(0x5f4)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x5d4951?.[_0x4d3b91(0x46b)]??0x1,'minConnections':_0x5d4951?.[_0x4d3b91(0x50c)]??0x3,'maxConnections':_0x5d4951?.['maxConnections']??(_0x5d4951?.[_0x4d3b91(0x50c)]&&0x4*_0x5d4951[_0x4d3b91(0x50c)])??0xc,'maxDistance':_0x5d4951?.[_0x4d3b91(0x35c)]??0xa,'maxFps':_0x5d4951?.[_0x4d3b91(0x333)]??0x18,'maxBpp':_0x5d4951?.[_0x4d3b91(0x5c6)]??0.12,'objectStoreConnector':_0x5d4951?.[_0x4d3b91(0x316)]??_0x293190[_0x4d3b91(0x171)],'keyValueDatabaseConnector':_0x5d4951?.[_0x4d3b91(0x421)]??_0x1099b0[_0x4d3b91(0x4ea)],'peerConnectionConnector':_0x5d4951?.['peerConnectionConnector']??_0xf0cc85[_0x4d3b91(0x2d3)]},_0x5d4951?.[_0x4d3b91(0x474)]&&this[_0x4d3b91(0x259)][_0x4d3b91(0x1ee)]&&_0x4df92f[_0x4d3b91(0x2e8)](this['options']['audioContext']),_0x21773c[_0x4d3b91(0x4ef)](this[_0x4d3b91(0x3d4)]),_0x5d4951?.[_0x4d3b91(0x53a)]&&_0x21773c[_0x4d3b91(0x4f3)](_0x5d4951[_0x4d3b91(0x53a)]);}static async[_0x359c2e(0x604)](_0xbea680,_0x1a27fc,_0x47824a,_0x1b55e2){const _0x5551d9=_0x359c2e,_0x21a546=await this[_0x5551d9(0xcb)](_0xbea680,_0x1a27fc,_0x1b55e2);return _0xcc8d52[_0x5551d9(0x101)]||(_0xcc8d52['instance']=new _0xcc8d52(_0xbea680,_0x21a546,_0x47824a)),{'close':_0xcc8d52[_0x5551d9(0x101)][_0x5551d9(0x57d)][_0x5551d9(0x4e8)](_0xcc8d52[_0x5551d9(0x101)]),'authenticateUser':_0xcc8d52[_0x5551d9(0x101)][_0x5551d9(0x1eb)]['bind'](_0xcc8d52[_0x5551d9(0x101)]),'authenticateAgent':_0xcc8d52['instance'][_0x5551d9(0x591)][_0x5551d9(0x4e8)](_0xcc8d52[_0x5551d9(0x101)]),'joinCluster':_0xcc8d52[_0x5551d9(0x101)][_0x5551d9(0x58b)][_0x5551d9(0x4e8)](_0xcc8d52[_0x5551d9(0x101)])};}static async['timestamp'](){const _0x2c5a63=_0x359c2e;return _0x3104fb[_0x2c5a63(0x41a)]();}async[_0x359c2e(0x57d)](){const _0x1af436=_0x359c2e;this['clusters']['forEach'](_0x4ec525=>{const _0x5bb4d9=a0_0x2eba;_0x4ec525[_0x5bb4d9(0x590)](),_0x4ec525[_0x5bb4d9(0x22f)]();}),this[_0x1af436(0x21a)][_0x1af436(0x288)](),this['options'][_0x1af436(0x1ee)]&&_0x4df92f[_0x1af436(0x493)](),this[_0x1af436(0x244)]?.(),this[_0x1af436(0x5d3)]=void 0x0,await this[_0x1af436(0x403)][_0x1af436(0x4d9)]();}static async[_0x359c2e(0xcb)](_0x5edd65,_0x35e81a,_0x325c42){const _0x34a829=_0x359c2e,_0x5b8af5=(await(0x0,_0x5e7560[_0x34a829(0x427)])(_0x3104fb[_0x34a829(0x584)](),_0x34a829(0x13e))({'vendorId':_0x5edd65,'accessToken':_0x35e81a,'secretKey':_0x325c42}))[_0x34a829(0x3f4)];return _0x5b8af5[_0x34a829(0x60c)]||(_0x5b8af5[_0x34a829(0x60c)]=[]),_0x5b8af5;}async[_0x359c2e(0x1eb)](_0x31b2a0){const _0x1440bc=_0x359c2e;await this['authService']['signInWithCredential'](_0x31b2a0);const _0x2cfc89=new _0x6ac637(_0x31b2a0['id'],_0x31b2a0[_0x1440bc(0x109)],_0x31b2a0['email']);return this[_0x1440bc(0x5d3)]={'node':_0x2cfc89},_0x39e3ce[_0x1440bc(0x255)](_0x2cfc89),{'type':_0x883b7d[_0x1440bc(0x5cc)][_0x1440bc(0x14e)],'getId':_0x2cfc89['getId']['bind'](_0x2cfc89),'getDisplayName':_0x2cfc89['getDisplayName'][_0x1440bc(0x4e8)](_0x2cfc89),'getEmail':_0x2cfc89[_0x1440bc(0x32f)][_0x1440bc(0x4e8)](_0x2cfc89),'setDisplayName':_0x2cfc89[_0x1440bc(0x3fa)]['bind'](_0x2cfc89),'setEmail':_0x2cfc89[_0x1440bc(0x405)][_0x1440bc(0x4e8)](_0x2cfc89)};}async[_0x359c2e(0x591)](_0x201dd3){const _0x4c7cd5=_0x359c2e,{id:_0x236a9f,groupId:_0x572a53}=_0x201dd3,_0x5acc18=await(0x0,_0x18f094[_0x4c7cd5(0x15b)])((0x0,_0x18f094[_0x4c7cd5(0x543)])(_0x3104fb[_0x4c7cd5(0x2a9)](),'developers/'+this[_0x4c7cd5(0x3d4)]+'/resources/agent/items/'+_0x572a53));if(!_0x5acc18['exists']())throw new _0x26d32b(_0x10cef2[_0x4c7cd5(0x62d)],'Agent\x20group\x20not\x20found');const _0x39189b=_0x5acc18[_0x4c7cd5(0x3f4)]();await this[_0x4c7cd5(0x403)]['signInWithCredential']({'id':_0x236a9f});const _0x2d21f8=new _0x40f28e(_0x236a9f,_0x572a53,this[_0x4c7cd5(0x3d4)],_0x39189b);return this[_0x4c7cd5(0x5d3)]={'node':_0x2d21f8},_0x39e3ce[_0x4c7cd5(0x255)](_0x2d21f8),await this['connectAgent'](_0x2d21f8),{'type':_0x883b7d[_0x4c7cd5(0x5cc)]['Agent'],'getId':_0x2d21f8[_0x4c7cd5(0x22e)]['bind'](_0x2d21f8),'onConfigurationChange':_0x2d21f8[_0x4c7cd5(0x5f1)][_0x4c7cd5(0x4e8)](_0x2d21f8),'setReportCapacity':_0x2d21f8[_0x4c7cd5(0x191)][_0x4c7cd5(0x4e8)](_0x2d21f8)};}async[_0x359c2e(0x58b)](_0x4a0716){const _0xd35e56=_0x359c2e;if(!this[_0xd35e56(0x5d3)])throw new _0x26d32b(_0x10cef2[_0xd35e56(0x62d)],_0xd35e56(0x1d0));if(this['authContext'][_0xd35e56(0x560)][_0xd35e56(0x2d7)]!==_0x883b7d[_0xd35e56(0x5cc)][_0xd35e56(0x14e)])throw new _0x26d32b(_0x10cef2[_0xd35e56(0x220)],_0xd35e56(0x48e));if(this[_0xd35e56(0x21a)]['has'](_0x4a0716))throw new _0x26d32b(_0x10cef2[_0xd35e56(0x23e)],'Cluster\x20already\x20joined');const _0x10501d=new _0x3ad3ba(this['vendorId'],_0x4a0716,this[_0xd35e56(0x5d3)][_0xd35e56(0x560)],this['authService'],this[_0xd35e56(0x259)],this[_0xd35e56(0x494)]);return await _0x10501d[_0xd35e56(0x3ad)](),this['addCluster'](_0x4a0716,_0x10501d),_0x21773c['logEvent']('join-cluster',{'clusterId':_0x4a0716,'nodeId':this[_0xd35e56(0x5d3)][_0xd35e56(0x560)][_0xd35e56(0x22e)](),'nodeType':this[_0xd35e56(0x5d3)]['node']['type']}),{'leave':_0x10501d[_0xd35e56(0x22f)]['bind'](_0x10501d),'getLocalNode':_0x10501d[_0xd35e56(0x1f0)][_0xd35e56(0x4e8)](_0x10501d),'openPubSubTopic':_0x10501d[_0xd35e56(0xde)][_0xd35e56(0x4e8)](_0x10501d),'openObjectStoreBucket':_0x10501d[_0xd35e56(0x4c3)][_0xd35e56(0x4e8)](_0x10501d),'openKeyValueDatabase':_0x10501d['openKeyValueDatabase'][_0xd35e56(0x4e8)](_0x10501d),'publishLocalMediaStream':_0x10501d[_0xd35e56(0x186)][_0xd35e56(0x4e8)](_0x10501d),'publishLocalDynamicMediaStream':_0x10501d[_0xd35e56(0x269)][_0xd35e56(0x4e8)](_0x10501d),'getPubSubTopics':_0x10501d[_0xd35e56(0x31f)][_0xd35e56(0x4e8)](_0x10501d),'getObjectStoreBuckets':_0x10501d[_0xd35e56(0xe4)][_0xd35e56(0x4e8)](_0x10501d),'getKeyValueDatabases':_0x10501d[_0xd35e56(0x1d8)][_0xd35e56(0x4e8)](_0x10501d),'getLocalMediaStreams':_0x10501d['getLocalMediaStreams']['bind'](_0x10501d),'getRemoteMediaStreams':_0x10501d[_0xd35e56(0x335)][_0xd35e56(0x4e8)](_0x10501d),'getRemoteNodes':_0x10501d[_0xd35e56(0x26e)][_0xd35e56(0x4e8)](_0x10501d),'on':_0x10501d['on']['bind'](_0x10501d),'off':_0x10501d['off'][_0xd35e56(0x4e8)](_0x10501d)};}async[_0x359c2e(0x2e5)](_0x269c03){const _0x4900d7=_0x359c2e;for(const _0x2bee49 of _0x269c03[_0x4900d7(0x5fe)][_0x4900d7(0x21a)]){const _0x30f125=new _0x3ad3ba(this[_0x4900d7(0x3d4)],_0x2bee49['id'],_0x269c03,this[_0x4900d7(0x403)],this[_0x4900d7(0x259)],this[_0x4900d7(0x494)]);await _0x30f125[_0x4900d7(0x3ad)](),this[_0x4900d7(0x1db)](_0x2bee49['id'],_0x30f125);for(const _0x5e1c06 of _0x2bee49[_0x4900d7(0x1dc)])_0x30f125[_0x4900d7(0xde)](_0x5e1c06);for(const _0x5d3838 of _0x2bee49['objectStorage'])await _0x30f125[_0x4900d7(0x4c3)](_0x5d3838);for(const _0x462740 of _0x2bee49[_0x4900d7(0x561)])await _0x30f125[_0x4900d7(0x10d)](_0x462740,{'version':0x1,'tables':{}});}}[_0x359c2e(0x1db)](_0x3041ad,_0xdf6a44){const _0x3a1289=_0x359c2e;this[_0x3a1289(0x21a)][_0x3a1289(0x2f9)](_0x3041ad,_0xdf6a44),_0xdf6a44['on'](_0x3a1289(0x4a3),()=>{const _0x5daf9e=_0x3a1289;_0xdf6a44['off'](),this[_0x5daf9e(0x21a)][_0x5daf9e(0x1c7)](_0x3041ad);});}}})()),_0x551045;})())));