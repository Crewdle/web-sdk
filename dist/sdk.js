function a0_0x4202(){const _0x4022b6=['.j2','height','some','.ex','keyPath','Unexpected\x20output\x20type','FeatureNotEnabled','external-storage-upload','onDisconnect','issue','isSubscribed','getLocalId','knowledge','batchTimeout','inputType','contextOutputVariable','recipients','Workflow\x20does\x20not\x20exist.','setDurationTime','counter','rank','sendRequest','warning','asc','previousBytes','Valid\x20layout','ExternalStorageConnectionAlreadySubscribed','signalingServer','/resources/generative-ai-grammar/items','transactionIds','getDisplayName','description','handleObjectDelete','capacityReporter','uid','getGraphDatabases','addEdge','lastUpdated','tableLayout','reset','getInstance','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','ExecuteCustomSkill','firebaseUnsubscriber','STVolatility','statsCollection','connectAgent','dataTopics','width','createAIJob','queries','openTrace','.php','WorkflowInvalidBlockType','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','transactionTable','chunksReceived','externalStores','debounceReadyTimeout','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','splitParts','Generative\x20AI\x20context\x20creation\x20failed.','\x20answer','missing-datachannel','bucketId','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','isOpened','versions','generative-ai-context-job-timeout','remote-stream-missing-provider-id','graph-database-creation-failed','processList','replaceTrack','getEmail','key-value-database-table-does-not-exist','registerSubscriber','/resources/agent/items/','Upgrade','onConnectionStateChange','sendPeakTransactions','signInWithCustomToken','subscription-request-no-answer','createOffer','publishFolder','setSinkId','job-dispatcher-already-exists','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','Ingest','isReady','sendWithRetry','listChanges','createVectorDatabase','addIssue','streamId',',\x20Transactions:\x20','toLocaleString','removeVectorDatabase','Received\x20ContentSynchronized\x20from\x20','node','publishTransaction','WebRTC','handleSubscriptionUnsubscribeMediaStream','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','\x20finalized.','LocalMediaStreamAlreadyExists','KeyValueDatabaseAlreadyExists','setVendorId','senderBitrate','notifyJoin','cores','getPartsForSubscriptionLabel','keyValueDatabaseConnector','streams','Error\x20executing\x20agent','1.0.13.0','getCapacityReport','detectionManager','isWhereValues','text/','cluster','isLoaded','applyRemediation','VectorDatabaseNameNotString','getMediaStream','Error\x20encountered\x20while\x20opening\x20database','ConnectionInvalidDataEvent','createRemoteMediaStream','GraphDatabase','\x20must\x20be\x20a\x20string','cachedRoot','KeyValueDatabaseTableNameReserved','ConnectionGroup','Workflow\x20not\x20initialized','documentParserConnector','problemType','requestSubscriptionAction','start','loggingConnectors','JobWorkerInvalidType','\x20already\x20exists.','Get','generateClient','Events','right','\x27\x20to\x20','JobDispatcherInvalidPayload','vectorDatabaseConnector','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','removeTrackCallback','next','appendTransactionAndUpdateHashMap','checkDeviceConfig','trackListeners','incomingManager','.cs','write','connecting','lastClockUpdate','\x20-\x20Sending\x20propagation\x20(','waitSendBuffer','KeyValueDatabase','maxFramerate','getDocs','rating','onClose','en-US','handleOptimizationConnectionSuccess','getCurrentVersion','northamerica-northeast1','enabled','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','KeyValueDatabaseTableDoesNotExist','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','Database\x20does\x20not\x20exist','Everyone\x20','job-dispatcher-does-not-exist','removeContent','key-value-database-already-exists','KeyValueDatabasePeakNotFound','queryOrPrompt','dataChannel','createFolder','fileChunks','jobId','jobObservers','getWorkflowExternalStorageConnections','ExternalStorageUpload','JobStatus','getConnections','syncPendingFiles','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','Skill','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','emit','removeTrackListeners','remainingTracks','instance','error','No\x20global\x20object\x20found','roundTripTime','removeRemoteConnection','indexes','gain','2291301UDgmEf','RemoteConnectionExists','handleContentCloseMediaStream','isFeatureSupported','handleConnectionSuccess','PubSubTopic\x20not\x20found','receivers','Waiting','connectorConstructor','maxOutgoingSubscriptions','onHandshakeStateChange','maxFps','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','LoadKnowledgeFunction','LoggingService:\x20logging\x20enabled\x20for','JobDispatcherJobNotFound','nodesConnected','handleHandshake','owner','.jinja','KeyValueDatabaseInvalidQuery','serverTimestamp','DTVolatility','filteredDestinationIds','removeRemoteMediaStream','event','getLastUpdated','listener','Info','google','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','isAvailable','publish','Loaded\x20from\x20disk','chooseAnswer','objectRequests','SystemTopic\x20publish','pendingFilesSyncing','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','createPendingFileWrite','failJob','callback','removeExternalStorageConnection','KeyValueDatabaseInvalidLayout','sendFileRequestPayload','generativeAIContexts','modelName','hashPeakHashes','CloseExternalStorageConnection','senderTotalMessages','handleOnMessage','mmrRoot','left','startLoggingCycle','notifyObjectStoreOfNodeJoin','defineProperty','operations','ingestBlocks','firestore','createBatch','.ipynb','list','addAudioTrack','Delete','syncedFileExists','KeyValueDatabase\x20-\x20Sync\x20completed','Prompt\x20is\x20required','expectedTransactions','trackCallback','getEstimatedTimestamp','GenerativeAIContextInvalidPartialResult','trace','SenderSendMessage','commitLevel','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Opened\x20vector\x20database','getDataCollections','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','.pl','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','CannotProvideMediaStream','warn','aiSearchApiKey','JobWorker:\x20Received\x20job\x20attribution','Internal\x20unknown\x20error:\x20','removeEventListener','addNode','evaluateProccessedJob','Downgrade','JobWorker:\x20Sending\x20job\x20result','externalStorages','page','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','getRemoteMediaStreams','getDataLogged','requestSubscription','addConnection','getSenderTotalBytes','DEBUG\x20-\x20','subject','internal-sdk-error','evaluatePartialJob','contentMediator','sdk-internal-error:\x20','InternalSDKError','resolution','trackEndedListeners','getShareableStreamId','ObjectStoreCannotWriteTransaction','FolderDelete','onTrack','vectors','currentBytes','senderCurrentTimestamp','answerJoin','system-stats','ClosePubSubTopic','No\x20connector\x20found\x20for\x20model','@root','snippet','verb','handleFileRequestAnswer','handleUnsubscribeMediaStream','.hs','createKeyValueDatabase','frames','connected','unregisterSubscriber','displayName','Folder','Model','filter','Node\x20type\x20is\x20required','toLowerCase','validateLayout','removeTrack','content-unpublish-media','agent-config-changed','json','stats','Table\x20not\x20found','processTransactionPayload','gpu','Received\x20event\x20on\x20cluster','handleRemoteTrackFailure','app','processContentAvailable','set','\x0a\x20===\x20Total\x20Data\x20Received:\x20','KeyValueDatabaseTransactionTableNotInitialized','RemoteMediaStreamTrackFail','asyncHeaders','.pptx','Generative\x20AI\x20context\x20job\x20failed.','AgentSkill','findNewMediaSubscription','isSync','reranker','processServiceReport','padStart','WebScraperRaw','retryQueue','GenerativeAIContextJobFailed','object-store-invalid-state','jobWorkers','GenerativeAIContext','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','completed','senderPreviousTimestamp','processLocalReport','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','Job\x20service\x20job\x20not\x20found.','agentId','size','video','setItem','currentFrames','1.0.13','framerate','round','commitType','isWhereValue','web-scraper','SHA-1','handlePublishMediaStream','connector','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','sender-send-message','deletePendingFile','overlap','unregisterDestination','Resolution','createTopic','searchApiKey','JobWorker:\x20Sending\x20job\x20partial\x20result','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','receiverPreviousBytes','instructions','setInternalId','detectVideoIssues','Hash\x20computation\x20failed,\x20retrying...','getModel','hash','connection-not-connected','relation-extractor','updateLastUpdated','setSenderTimestamp','buffer','gatheringState','node-already-exist','job-dispatcher-job-exists','getReceiverBitrate','getProviderId','captureStream','msalGetAccessToken','bufferedAmount','RelationExtractor','values','orchestrator-close','assign','.hbs','cost','registerSystemPublisher','getWorkflowModels','toString','generative-ai-context-job-already-consumed','removeIncomingSubscription','pub-sub-topic-does-not-exist','append','peaks','loggingDatabaseConnector','getGenerativeAIWorkers','onMessage','findIndex','.ts','DataStream','handleContentUnsubscribeMediaStream','external-storage-connection-already-exists','prompt','isWhereBetween','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','responseTimeout','Workflow','.djt','graph-database-does-not-exist','Invalid\x20node\x20type','user-join','.crewdle-layout','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','logConnectionState','setTimestamp','Error\x20searching','Job\x20','content','Sender','exports','splice','CREWDLE_WEB_SDK','\x20failed.','.xml','iceServers','audioDestination','lastTransactionId','internalRatePrompt','retryCount','getJob','updateUser','logDataReceived','GenerativeAIContextAlreadyExists','remote-stream-does-not-exist','ConnectionNotConnected','checkAudioContext','KeyValueDatabaseContentAvailable','Key-value\x20database\x20table\x20does\x20not\x20exist.','lastRemediations','writeFile','map','noun','handleSubscriptionSubscribeMediaStream','concat','NodeLeave','source','clientWidth','oidc','handleSubscriptionRestartNeedMediaStream','Cannot\x20list\x20directory:\x20','addRemoteNode','shouldContinuePropagation','GenerativeAIContextJobAlreadyConsumed','Opened\x20pubsub\x20topic','job-worker-invalid-type','FileDelete','createGenerativeAIWorker','job-','createSubscription','isResultResponse','offset','deleteJob','getSTVolatility','ObjectKind','WorkflowDoesNotExist','stopTracing','upgrade','Invalid\x20table\x20name\x20\x27','jobBids','getModels','MediaStream\x20feature\x20not\x20enabled','PubSubTopicAlreadySubscribed','receiverBitrate','AI\x20Search\x20connector\x20not\x20set','isConnected','getSkills','floor','KeyValueDatabase\x20not\x20found','JobWorker:\x20Handling\x20job\x20attribution','DataCollection','models','ExternalStorageConnectionDoesNotExist','Move','appsync-connect','head','filesSynced','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','request-file-sync','DataChannel\x20is\x20not\x20initialized.','unregisterSource','Connection\x20does\x20not\x20exist','JobQueueService:\x20Job\x20completed','resolutionScale','Success','hasTable','searchEngineId','shouldProcessTransaction','Content','/capacities','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','ENOENT','complete','Partial','catch','Cannot\x20get\x20file:\x20','getSubscriptionInfo','timeReceiving','RemoteRemove','subscribeToJobs','minRelevance','ExternalStorageNameNotString','minResolutionScale','Received\x20','processPendingSyncTransactions','Stream\x20does\x20not\x20exist','retry','objectStoreId','getEnabledChannels','Mistlet\x20capacity\x20report\x20not\x20set.','connection-buffer-not-empty','Pending','pendingHandshakeCandidates','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','Reranker','Search','Agent\x20block\x20is\x20missing\x20required\x20data','Invalid\x20object\x20store\x20sync\x20message.','externalStorageConnectors','disconnect','checkWebRTC','storeId','receiverPreviousTimestamp','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','getOwnerId','receiver-on-message','generative-ai','between','timeSending','Error\x20closing\x20trace','_isReady','text','getTransactionByHash','getFirestore','Transaction','parseDataCollectionBlocks','System','ObjectStorage','onCandidate','processJob','removeJobDispatcher','calculateArrayBufferSize','updateDebounceTimeout','createMediaStreamSource','mistlet-capacity-report-not-set','file','split','function','handleContentUnpublishMediaStream','String','ObjectStore\x20not\x20found','listenUnsubscriber','dataUnsubscribers','scheduleTime','resume','contentRequestSent','208096FPREfE','checkScreenSharing','skipEncryption','ready','kind','.conf','signInWithCredential','FileWrite','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','Support:\x20','removeObjectStore','\x20not\x20found.','Entity','processRemoveContent','job-dispatcher-observer-not-found','Error\x20stringifying\x20object','RemoteAdd','\x20attributed\x20to\x20','appsync-statechange','receiverStreams','Given\x20','searchConnector','pendingSyncTransactions','debounceLogTimeout','reportMetric','messageUnsubscriber','GenerativeAIContextJobMissingThreadId','handleContentUpdateMediaStream','nodeUpdate','messagesSent','localMediaStreams','toStringTag','IncomingSubscription','asyncEndpointUrl','.groovy','Local\x20MediaStream\x20already\x20exists','setEncodingParameters','random','PromptFunctionParamsType','Invalid\x20value.\x20Property\x20\x27','handleAnswer','JobQueueService:\x20Error\x20running\x20job','getRemoteMediaStream','\x20not\x20supported','cpu.time_per_frame','.rkt','getMinConnections','createGraphDatabase','CrewdleReceiverConnection\x20ontrack','Setting\x20context\x20for\x20custom\x20skill\x20block','logPropagateSystemEvent','logSyncMetrics','relations','CrewdleConnectionGroup','Node\x20does\x20not\x20exist.','end','handleSubscriptionProvideMediaStream','Job\x20Dispatcher\x20already\x20exists','ObjectStoreInvalidPath','SHA-256','discoveryService','isRunning','Invalid\x20where\x20clause','FramePerSecond','topics','crewdle-sdk-stg.appspot.com','accessToken','graphService','web-scraper-raw','maxBpp','setInterval','handleRequestPayload','setOnDisconnectHandler','getVectorDatabases','nextNodeId','pathName','message','handleNodeSystemEvents','getFunctions','onloadeddata','connectionPool','manageBufferedChunks','AppSync\x20client\x20not\x20ready','connectionGroup','getMaxDistance','Problem','Invalid\x20layout:\x20','external-storage-name-not-string','orderByKey','setUpgradeTimeout','Prompt','resolve','firebaseConfig','stop','node-type-required','.crewdle-last-transaction','{\x20\x22status\x22:\x20\x22success\x22\x20}','syncContent','addCluster','GenerativeAIWorkerCreationFailed','jobPhase','syncTransactionsWritten','entity-extractor','getKeyValueDatabase','setRemoteNode','processContentSynchronized','optimizationLayers','VectorDatabaseStats','JobWorkerDoesNotExist','object-store-name-not-string','ExternalStorageConnectionAlreadyExists','Invalid\x20key\x20\x27','logLevel','GraphDatabaseAlreadyExists','text/plain','runJobQueue','enabledChannels','.\x20Confirmation?\x20','startIndex','messageListeners','reduce','Node\x20already\x20exists.','bandwidth.bitrate','@context.','subscriptionRequestsQueue','\x27\x20is\x20not\x20ready','startBidResponseHandling','mediaDevices','authenticateUser','outgoingStreams','workflow','An\x20error\x20occurred','setReceiverBytes','transactionsToSync','recomputeRoot','lastExecuted','WebGL','subtle','Sender\x20connection\x20is\x20not\x20initialized.','logger','Answer','blockId','writeTransaction','fps','Base\x20Peer\x20Connection','table','2-digit','canProvideResolution','pop','CanProvideMediaStream','transactionService','systemTopic','.scala','TimePerFrame','I\x20am\x20done','startAt','internalContext','handleProblem','mode','connections','Missing\x20answerer\x20id\x20on\x20request\x20answer','notifyCluster','SenderPeerConnection.send','getSimilarity','LocalMediaStreamNoAudioContext','combinePeaks','setParams','\x20failed.\x20Retrying...','List','validateValue','.crewdle-pending','Signaling','remote-media-stream-already-exists','indexOf','GraphDatabaseNameNotString','ReceiverPeerConnection.onMessage','jobs','registerRemoteNode','isOffer','AudioVideoDelay','stream','skill','file-write','IntermediateOutput','subscriptionRequests','startTracing','.cpp','Received\x20content\x20available\x20from\x20node','timesCalled','sequence','publishSyncCompletedAfterWrites','push','detectProblems','processRemoteInboundReport','getRemoteConnections','ConnectionNotinitialized','unregisterRemoteNode','getContent','createBatchOperation','loop','handleDetectionSystemEvents','getSentences','traceLevel','FileStatus','getConfigs','StreamReport','.ppt','Invalid\x20version\x20\x27','processReports','Count','updated','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','handleObjectMove','Knowledge','Rejected','pow','clearWaitSuccess','NodeManager\x20-\x20NodeUpdate','get-content','url','NodeNotAuthenticated','object-store-invalid-path','.dart','Jobs','min','docs','objectStores','AITrace','relation','key-value-database-not-open','Opened\x20external\x20storage\x20connection','logs','Error\x20loading\x20existing\x20content','clusterKey','publishNodeJoin','parentId','Missing\x20remote\x20node\x20or\x20rank','currentTimestamp','Logging\x20trace','Setting\x20context\x20for\x20agent\x20skill\x20block','createRemoteNode','ObjectStoreNotInSync','createGain','Restart\x20NeedMediaStream','maxThreshold','unregisterPublisherListener','moveObject','openGenerativeAIWorker','Agent\x20output\x20is\x20not\x20a\x20string','contentRect','limitToFirst','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','Setting\x20context\x20for\x20answer\x20block','isPartialResultResponse','onRemoveTrack','CloseKeyValueDatabase','__esModule','processContentQueue','logBatch','setupStatsCollection','SubscribeMediaStream','searchOnPerplexity','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','executeAgent','High','KeyValueDatabaseNameNotString','trackKinds','unregisterSystemPublisher','Invalid\x20data\x20event.','crewdle-sdk.firebaseapp.com','mediaUnsubscribers','ownerId','searchOnGoogle','string','Error\x20opening\x20trace','Error\x20retrieving\x20context','ObjectStoreInvalidPayload','listen','reads','registeredListeners','unsubscribeHandler','videoHeight','frameWidth','arrayBufferToObject','setupRenderElement','external-storage','aiSearchConnector','objectStorageBuckets','chunk-splitter','setBytes','Invalid\x20peer\x20connection\x20event\x20destination.','initialize','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','key-value-database','WebScraper','Processing\x20agent\x20block:\x20','getDisplayMedia','IDBDatabaseConnector','ObjectStoreInvalidSyncMessage','Job\x20Dispatcher\x20does\x20not\x20exist','pubsubTopics','remote-connection-exists','NeedRestart','handleUpdateMediaStream','peerConnectionConnector','match','default','externalStorageConnections','graphql','outputTokens','.txt','isComputingMMR','handleNodeDisconnect','subscribe','object-storage','graphDatabaseConnector','removeKeyValueDatabase','isIceCandidate','Logging\x20database\x20not\x20initialized','handleFolderCreate','Error\x20during\x20MMR\x20rebuild\x20logging:','slice','calculateSize','payloadType','getPacketsLostPerc','agentConfig','getTotalBytes','Cannot\x20publish\x20payload:\x20','key-value-database-invalid-query','groupId','unsubscribeTrackEndedListener','key-value-database-does-not-exist','addTrack','ratePrompt','insert','.cfg','track','Core','0\x20B','getAudioTracks','Node\x20is\x20not\x20an\x20agent','clusters','disconnected','notifyClusterNodeJoin','remediations','ExternalStorage','getEngineType','key-value-database-name-not-string','operator','onUnregisterPublisher','createOutgoingSubscription','NodeTypeRequired','RequestFile','getTrack','wait','inputTokens','createBufferSource','log','addVideoTrack','instantiateTransactionTable','deleteObject','Parameter\x20','featureSupport','_ready','agent','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','\x20already\x20exists','key-value-database-invalid-value','Error\x20processing\x20ingest','debounceRebuildMMRWithTransaction','isNeedRestart','system','asObservable','Cannot\x20get\x20size\x20of\x20path:\x20','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','tracks','vector-database-does-not-exist','InvalidPublisher','Cannot\x20publish\x20move\x20operation:\x20','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','total','missing-system-topic','ccc','evaluateBidsAndAttributeJob','Local\x20node\x20rank\x20is\x20not\x20set','Job\x20Worker\x20does\x20not\x20exist','custom-skill','RestartNeedMediaStream','onConfigurationChange','waitForArrayBufferSize','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','handleSubscriptionMediaStreamUnavailable','sourceUrl','upgradeTimeout','jobQueue','handleSystemEvents','job-worker-creation-failed','endpointUrl','val','CloseVectorDatabase','clearWaitAnswer','clearOncloseTimeout','No\x20async\x20endpoint\x20URL','getObjectStoreBucket','maxLayer','topK','getJobObservable','NodeManager\x20-\x20PublishNodeLeave','propagate','contentSize','.liquid','processBatch','processAddContent','KeyValueDatabaseNotOpen','getExternalStorageConnections','getGenerativeAIContexts','processTransactionsToComputeMMR','\x27\x20reserved','suspended','downloadDocument','JobDispatcherAlreadyExists','getSenderBitrate','Backgrounds','pendingFilesTransactions','removeListener','statsReporting','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','getLocalNode','createDataChannel','collectSendersStats','topicLabel','isNodeReady','mergeParts','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','AudioOutput','GenerativeAIWorker:\x20Models','Missing\x20external\x20storage\x20connector','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','Default','DataStream\x20send','\x20with\x20\x27','createElement','addMessage','Job\x20with\x20id\x20','Outgoing','canvas','endsWith','abs','onDisconnectHandler','tableUnsubscriber','Bitrate','handleCloseContent','Invalid\x20workflow\x20block\x20type.','graph-database-name-not-string','PubSubTopic\x20publish','handleOutgoingSystemEvents','listenerUnsubscribers','mute','JobWorkerCreationFailed','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','openExternalStorageConnection','vector-database-creation-failed','ExecuteCode','rejectReady','Key-value\x20database\x20creation\x20failed.','getBid','NodeUpdate','checkWebGL','internalProcessJobStream','420235181083','cpu.cycle','Apply\x20remediation','AiSearch','.vue','Orchestrator\x20handleSystemEvents','stopConnection','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','setupResizeHandler','AppSync\x20subscribe','removeOutgoingSubscription','ObjectStoreAlreadyExists','getJobWorkers','removeTopic','comparePeaks','dt_volatility','frameTime','relevance','clusters/','batch','\x20for\x20','createNewBatch','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','ObjectStoreAlreadySubscribed','replace','subscriptions','openJobWorker','File','sendAction','Remote\x20MediaStream\x20already\x20exists','subscribedTracks','subscriptionRequestTimeouts','webgl','key-value-database-table-name-reserved','parseWorkflowDocument','availableTrackKinds','Online','nlpLibraryConnector','sendChunked','\x20completed.','/resources/generative-ai-skill/items','pub-sub-topic-name-not-string','number','packetsReceived','publishSystemMessage','discoveryUnsubscriber','logging-db-','systemMessagesReceived','options','getIsLoaded','type','decodeJWT','addRemoteConnection','UpdateMediaStream','byteLength','AudioContext\x20is\x20not\x20available','Offline','loadLocalContent','processReport','Time','24VasUvs','openedTraces','getRemoteNodes','restartTimeout','PubSubTopicDoesNotExist','Sending\x20\x27','/resources/external-storage/items/','CONNECTION_STATE_CHANGE','forceLog','newPath','KeyValueDatabaseStats','onNodeDisconnect','completeSync','uuid','getRoot','`\x0a\x0a','\x20were\x20ready\x20in','Missing\x20owner\x20node\x20or\x20rank','Invalid\x20subscriber.','handleNeedRestart','orchestrator','maxTokens','currentDistance','race','Audio','Node','ModelVector','open','ConnectionState','sendFile','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','senderTimeProcessing','RoundTripTime','key-value-database-transaction-value-not-set','Error\x20resolving\x20readyPromises:','Vector',':\x0a\x0a','performCalculation','NodeAlreadyExist','isFailedResponse','distance','\x20is\x20required','PubSubTopic\x20onMessage','OutgoingSubscription','GraphDatabaseMissingConnector','publishFile','NodeTypeNotSupported','getClosestNodes','take','CPUCycle','handleJobAttribution','Connection\x20already\x20exists','receiverCurrentTimestamp','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','email','query','context','createSenderConnection','every','Accepted','external-storage-connectors-missing','logInitialMMR','Writable\x20stream\x20is\x20missing','queryParameters','getConnectionGroup','setTransformations','debounceAppendLog','registerPublisher','play','getGraphDatabase','handleNodeLeave','storage','messagesReceived','label','addEventListener','compileStats','GenerativeAIContextJobTimeout','PubSub','interval','PayloadAction','SubscriptionRequestNoAnswer','processOutboundReports','request-file','\x0a\x20===\x20Synchronization\x20Time:\x20','client','Hub','isSyncing','problem','urls','.handlebars','handleSubscribeMediaStream','us-east-1','PubSubTopicStats','eventEmitter','deployedVersion','UnsubscribeMediaStream','leave','Support','answererId','connectionType','Media','index','Request','New\x20MMR\x20Root:\x20','candidate','ExternalStorageInvalidPath','joinCluster','hashNodes','InvalidSubscription','getName','syncKeyValueDatabase','updateDebounce','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','getSupportedContentTypes','.html','AppSync\x20publish','sendStats','onNodeUpdate','parse','getTable','handlePeerConnectionSystemEvents','discover','all','Buffering\x20event','addProblem','Internal\x20error:\x20','PeerConnection','handleError','signaling','framesEncoded','Relation','loadExternalContent','.Total\x20pages\x20available:\x20','maxResolution','sendTransactionsValue','encode','getObjectStoreBuckets','Data','Local\x20stream\x20does\x20not\x20exist.','taskType','lastProcessRank','getRemoteNode','removeNode','resolveReady','removePubSubTopic','Remote\x20connection\x20already\x20exists.','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','setIsLoaded','user-update','external-storage-connection-does-not-exist','rebuildMMR','JobWorker:\x20Sending\x20job\x20reject','Incoming','isBidResponse','invalid-publisher','internalId','handleContentRemoteMediaStreamTrackFail','doc','isValidMediaSubscriptionParams','OutgoingMediaStreamNoTopic','GenerativeAIWorkerStats','OPFSObjectStoreConnector','SubscriptionRequestDoesNotExist','hashTransaction','getShareableStream','detectStreamIssues','getItem','createMediaStreamDestination','handleStatsSystemEvents','processSenderReport','senderConnection','vectorDatabases','dispatchEvent','startNoThrottlingHack','setReportCapacity','sourceId','cpu.fps','key','dataStores','notifyObjectStoreOfNodeLeave','SearchPerplexity','graphDatabases','removeGraphDatabase','Execute\x20the\x20agent\x20','ScreenSharing','prototype','.kt','subscribeToExternalContent','onDataChannel','providerId','.json','Detection','grammar','get','Database\x20already\x20exists','21a9d78dee97f487b','handleChunkMessage','Code\x20is\x20required','mediaTopics','GraphDatabaseDoesNotExist','Debug','subscriptionManager','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','getPeaks','mediaStream','memoryUsage','feature-not-enabled','headers','connect','handshakeDebounce','Subject','startsWith','syncFolder','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','checkBackgrounds','crewdleSDKDisableLogging','getPriority','out','getAuth','commitBatch','params','openKeyValueDatabase','validateAccess','GetDate','DeviceConfig','destinationIds','RetrieveTrace','/nodes','key-value-database-table-not-found','rate','evaluateBids','debugEnabled','receiverConnection','Disconnected','hasOwnProperty','getJobDispatchers','undefined','graph-database-missing-connector','results','desc','getRoundTripTime','Invalid\x20value.\x20Must\x20be\x20an\x20object.','streamLabel','connectionStateListener','ObjectStorageUpload','GenerativeAILabelConflict','SentenceSplitter','parameters','processReceiverReport','clearSubscriptionRequestTimeout','substring','createJobDispatcher','unregisterSystemSource','chunks','UnpublishMediaStream','tokens','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','Error\x20processing\x20content\x20queue','closeSubscription','clear','\x20attempts:','getDoc','No\x20connections\x20available\x20to\x20send\x20message','remove','getOutgoingOptimizationConnections','getLabel','addContent','systemTopicUnsubscribe','Warning','Method\x20not\x20supported','ranges','Invalid\x20publisher.','Object\x20store\x20is\x20not\x20in\x20sync','remoteNodes','loggingCycle','exists','Context','Joined\x20cluster','transactions','globalObject','CloseJobDispatcher','setStatus','debounceRebuildMMR','logMMRRebuild','vector','maxBitrate','Subscription\x20request\x20has\x20not\x20been\x20answered.','RequestFileSync','Receiver\x20connection\x20is\x20not\x20initialized.','ceil','connection','unsubscribeListener','sendReject','configs','setEmail','ClusterAlreadyJoined','isMediaSource','bind','toFixed','GenerativeAIWorkerAlreadyExists','startHeartbeat','appendTransaction','\x20to\x20generate\x20a\x20response.','Model\x20not\x20found','standalone','getTransactions','KeyValueDatabaseRequestPeakTransactions','processReceivedTransactions','estimatedPlayoutTimestamp','component','registerCluster','ObjectStoreNameNotString','Execute\x20skill\x20','getHash','handleContentSystemEvents','Processing','modelStorageBuckets','getLocalMediaStream','collectStats','timeoutValue','publishNodeLeave','getRemoteId','inactive','Offer','confirmSynchronization','getBuffer','ObjectStoreDoesNotExist','readyDebounce','getPartsFromSubscription','initializeApp','getWorkflow','AI\x20worker\x20creation\x20failed.','JobDispatcher:\x20Received\x20job','registerSource','.jl','count','Handshake','detectAudioIssues','has','WordSplitter','connection-not-initialized','crewdle-sdk-logging-','then','clearConnectionTimeout','unsubscribe','support','Llamacpp','detectLocalIssues','setSubscriptionRequestTimeout','previousTimestamp','transformations',':\x20Object\x20store\x20is\x20not\x20in\x20sync','MissingRemoteConnection','vector-database','.docx','unregisterPublisher','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','codes','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','OptimizationConnectionSuccess','handleNoAnswer','Database\x20Opened','signalingState','digest','CloseGraphDatabase','Publish\x20the\x20transaction','Invalid\x20params','getNumberOutgoingSubscriptions','object-store-invalid-sync-message','invalid-access','nodeKey','Key-value\x20database\x20peak\x20not\x20found.','AudioVolume','onGatheringStateChange','crewdleSDKEnableLogging','transactionQueue','subscribeToLocalContent','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','subscription','GenerativeAIModelInputType','senders','ended','buildQuery','KeyValueDatabaseRequestTransactionsValue','events','nodes','getTableConnector','ancestors','collectReceiversStats','Opened\x20generative\x20AI\x20worker','checkSyncComplete','node-invalid-type','clockSkew','getApp','createConstantSource','connectionState','key-value-database-creation-failed','Error\x20fetching\x20URL','sentence-splitter','Stats:\x20report','handleLocalTrackFailure','object-store-not-in-sync','sendBid','setPendingFileSyncingPayload','ref','SyncComplete','getVideoTracks','1:519415702791:web:5dd39042f881cfde3251a2','request','tableName','hasMessage','createJob','ObjectStoreInvalidState','handleTransactionPayload','19iygxvE','word-splitter','validateQuery','DocumentParser','KeyValueDatabaseCreationFailed','arrayBuffer','resetConnection','previousFrames','\x20ms\x0a','connectionConstructor','off','createBuffer','absolutePathName','GenerativeAIEngineType','messageBuffer','/resources/generative-ai-workflow/items/','retryCallback','chosenAnswers','keyValueDatabases','downgrade','fileSendingMap','isInternalLoggingConnector','errorDetails','getConnectionType','18870hYTNdT','isInternalSDKConfigs','invalid-data-chanel','getJobs','RequestAccepted','getConnection','generativeAIWorkers','everyone','retryDelay','setScheduleTime','Setting\x20context\x20for\x20agent\x20block','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','firebase-connect','Remove','isReconnecting','image','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','registerDestination','crewdleSDKLoggingChannels','result','PartialResult','remediation','startTime','File\x20sending\x20interrupted','GraphDatabaseStats','AppSync\x20connection\x20not\x20ready','Stats','parseWorkflowBlocks','getGrammars','getPeakNode','openJobDispatcher','sendIceCandidates','document-parser','setupTrackEndedListeners','generative-ai-context-already-exists','issues','checkAudioVolume','GetContextResult','currentBatch','.sh','clientStream','checksum','Attempt\x20','destination','processPendingHandshakeCandidates','ExternalStorageConnectorsMissing','GenerativeAIWorkerMissingConnector','stopNoThrottlingHack','orderBy','openPubSubTopic','NodeInvalidType','\x27\x20payload:','answerContentAvailable','remote-media-stream-invalid-subscription-params','openVectorDatabase','JobWorker:\x20Received\x20job\x20request','setTimeout','\x20does\x20not\x20exists','statsReport','InvalidDataChannel','model','.ini','getSubscribedTracks','length','Internal\x20event\x20\x27','systemMessages','Model\x20not\x20found:\x20','messageCallback','object-store-stream-does-not-exist','G-F7W8KXRKQB','handleUnpublishMediaStream','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','syncTransactions','processRank','clearUpgradeTimeout','\x20MB','sync','RemoteMediaStreamDoesNotExist','JobWorker:\x20Sending\x20job\x20bid','.tcl','pipe','createPubSubTopic','feedback','send','from','maxConnections','Update','disconnectCallback','threshold','tableObserver','Cannot\x20unpublish\x20object:\x20','auth','addCandidate','createLocalMediaStream','setProviderId','computeHash','Recording','MissingSystemTopic','handleNodeUpdate','Synced','generativeAIWorkerConnectors','ExternalStorageStats','listenerUnsubscriber','Logging\x20not\x20enabled\x20for\x20channel\x20','totalNodes','openGenerativeAIContext','.py','supports','setupListeners','features','waitAnswer','audioSource','Optimization','media-stream','writeBatch','MediaStreamPriority','eventTarget','VectorSearch','timestamp','getWorkflowObjectStorageBuckets','registerSystemSource','peer-connection','connection-invalid-data-event','Search\x20in\x20data\x20collection\x20','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','getAncestors','key-value-database-invalid-layout','FolderCreate','getId','bufferEvent','changesUnsubscriber','processJobStream','Pool','missing-incoming-connection','outgoingManager','1420748ilWpPs','/transactions/','Error\x20reading\x20file\x20chunk\x20after\x20','senderCurrentBytes','CloseMediaStream','removeSubscription','true','KeyValueDatabaseSyncRequired','runTransaction','previous','now','remoteConnections','developers/','LoadSkillFunction','invalid-subscriber','JobQueueService:\x20Running\x20job','audioContext','onSnapshot','max','getBufferedAmount','remoteMediaStreams','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','getSize','GraphSearch','Generative\x20AI\x20context\x20job\x20already\x20consumed.','json_arr','trim','Consuming\x20buffered\x20event','readyPromises','move','Invalid\x20credentials','crewdle-sdk-stg.firebaseapp.com','isProduction','trackChanges','inbound-rtp','RemoteMediaStreamAlreadyExists','.awk','graph-database','timeoutCallback','Cannot\x20unpublish\x20object\x20at\x20','tail','outgoingTopic','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','remoteUnsubscriber','Invalid\x20data\x20channel.','clearRect','action','Problem\x20detected:\x20','processInboundReport','iceConnectionState\x20failed','FetchUrl','JobContext','time','incrementVersion','writes','removeRemoteStreamSubscription','All','asyncEndpointMethod','SubscriptionRequestFailed','links','Error','handleNodeJoin','path','element','logRaw','generative-ai-worker-creation-failed','folder-create','CrewdleSenderConnection\x20createOffer','Remediation','contentManager','lastCapacityReport','region','storageType','Result','external-storage-invalid-path','QueryBuilderInvalidArgument','Text','blocks','rtt','frameHeight','logServiceEvent','bodyParameters','getDTVolatility','isArray','toLocaleDateString','JobDispatcherObserverNotFound','name','layout','incomingTopic','delete','Query\x20is\x20required','close','closed','objectStoreConnector','loggingDb','Error\x20initializing\x20logging\x20database\x20with\x20\x27','bandwidth.jitter','handleDisconnect','StorageEventType','time_per_frame','publishMove','setupConnectionEvents','setCurrentVersion','success','.sql','logWaitTime','where','getConnectionDestinations','Opened\x20key\x20value\x20database','writeTransaction\x20-\x20transaction\x20already\x20exists','answers','Index','executeJavascriptCodeSnippet','3566LpZNlg','clearRestartTimeout','970959HePVyi','prompts','Job','getMilliseconds','logStorage','getLayout','RemoteMediaStreamMissingProviderId','RemoteMediaStreamInvalidSubscriptionParams','thread-','modelId','getEntities','JobWorker:\x20Tracing\x20not\x20implemented','packetsLost','processOutboundReport','object-storage-upload','publishSyncCompletedAfterWrites\x20-\x20','output','unshift','syncTimeout','GenerativeAIContextStats','keys','FolderMove','Jitter','local-stream-does-not-exist','targetId','Error\x20loading\x20external\x20content','Receiver','collectTransactionsFromNode','retryQueues','.rs','closeTrace','SyncKeyValueDatabase\x20-\x20Ancestors\x20','setLocalRank','commitTrace','.pdf','Invalid\x20job\x20service\x20payload.','documentPath','GraphDatabaseCreationFailed','mediator','.md','ai-search','decode','unpublish','Low','6BIjGew','joinedClusters','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','InitialPrompt','Invalid\x20query','addBatchOperation','KeyValueDatabaseTransactionValueNotSet','engineType','PubSubTopicNameNotString','getDistance','utf8','jobDispatchers','Store\x20already\x20exists','publishUserUpdate','VectorDatabaseDoesNotExist','rootComputationPromise','maxDistance','add','transactionsToAppend','logSupport','connectionManager','NodeJoin','resizeHandler','689435yXHMyk','oncloseTimeout','checkMediaStream','bitrate','debounceReady','authenticateAgent','job-worker-does-not-exist','Internal\x20SDK\x20Error:\x20','httpsCallable','topic','createWritableStream','TestPage','handleSubscriptionNeedMediaStream','EntityExtractor','autoplay','clearHeartbeat','\x0a\x20===\x20Wait\x20Time:\x20','firstValueFrom','outgoing-stream-no-topic','KeyValueDatabaseTableNotFound','getStatus','lastHeartbeat','generative-ai-context-creation-failed','removeLocalMediaStream','setConnectionType','RemoteRemediation','unregisterCluster','bufferedEvents','Cannot\x20write\x20transaction.','search','AI\x20Worker\x20already\x20exists','setOnTableWriteHandler','sort','destroy','Module','code','test-page','outbound-rtp','notifyClusterNodeUpdate','clusterId','onValue','renderElement','attributes','Unknown\x20skill\x20type','muted','Wait','propn','transaction','ModelText','Object\x20store\x20not\x20synced.','\x20seconds','getKeyValueDatabases','minThreshold','modelStore','once','CloseObjectStoreBucket','ExternalStorageConnection\x20not\x20found','vendorId','includes','getSettings','contentQueueRunning','vector-database-name-not-string','outputType','update','/objectstores/','boolean','\x20to\x20send\x20dispatcherJob\x20','supported','\x0aAdditional\x20data:\x20','openGraphDatabase','createConnection','PeerConnectionInvalidDestination','KeyValueDatabaseSendTransactions','KeyValueDatabaseDoesNotExist','\x20deleted.','getNextTargetRank','invalid-subscription','Stream\x20already\x20exists','handshakeCandidates','graph-database-already-exists','local-media-stream-track-fail','createLocalDynamicMediaStream','object','/resources/generative-ai-model/items','IngestTrace','logEvent','cleanOldSubscription','contentQueue','Before\x20Synchronization','InvalidAccess','Missing\x20vector\x20database\x20connector','.ejs','functions','.erl','observe','bufferedChunks','KeyValueDatabaseInvalidValue','closeTopic','manageAncestor','SearchGoogle','addBidResponse','isJobRequest','CustomSkill','setOnMessageHandler','Node\x20\x27','Attribution','setRemoteConnections','\x0a\x0a`Executing\x20custom\x20skill\x20','4763GvwFhl','DataStream\x20onMessage','createIncomingSubscription','handleSubscriptionSystemEvents','mmr','getVectorDatabase','\x20must\x20be\x20a\x20valid\x20JSON\x20string','sourceVideo','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','Connection\x20does\x20not\x20exist.','Rating','findNextNodeId','/nodes/','nodeManager','closeConnection','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','.info/serverTimeOffset','updatePropagationProperties','isPromiseResolved','retrieveBlocks','CloseJobWorker','Early\x20return:\x20','.erb','version','/transactions/lastTransaction','srcObject','\x20-\x20','Missing\x20transaction\x20id','Retrieve','initializeSystemTopic','Error\x20executing\x20code','getContext','payload','ExecuteAgent','generative-ai-context-job-failed','buildTableEvent','handleContentSubscribeMediaStream','getAvailableTrackKinds','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','getResolutionScale','PubSubTopicAlreadyExists','minConnections','state','handshakeState','NodeDoesNotExist','JobDispatcherCreationFailed','bytesReceived','deleteTransactionsForTable','handleFileRequest','tables','history','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','remediationManager','status','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','VectorDatabaseCreationFailed','key-value-database-transaction-table-not-initialized','messageType','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','.doc','removeSubscriptionsForNode','JobWorkerAlreadyExists','ObjectStoreStats','\x20transactions\x20from\x20node\x20','sender','Bid','pubSubTopics','\x20writes\x20from\x20','Failed','contextInputVariable','pendingFilesRename','stringify','WorkflowTrace','getQuery','accumulateResult','bufferedAmountLowThreshold','accumulated','getAudioVideoDelay','canChooseAnswer','getOrResetPendingFileTimeout','nodeId','GenerativeAIWorker:\x20Opened','firebase-disconnect','FileMove','cancel','cluster-disconnect','syncResolve','addReservedTables','childRemovedUnsubscriber','getCurrentMaxLayer','checkAudioOutput','clientHeight','LocalReport','getInternalStreamId','Opened\x20graph\x20database','LocalMediaStreamTrackFail','ConnectionNoRetryQueue','manageOptimization','onremovetrack','ContentType','getReport','VectorDatabase','onProviderChange','find','threadId','getPubSubTopics','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','saveToDisk','direction','limit','processInboundReports','InvalidSubscriber','shift','internalProcessJob','queueLength','not-resolved','eventListener','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','crewdle-sdk-stg','.gguf','getInternalTrackParams','User','SystemStats','batchQueue','JobDispatcherJobExists','generative-ai-worker-already-exists','Connected','getSubscriptionLabel','jitter','Receiving\x20\x27','sdkValidateAccess','packets','appsync-connect-fail','receiverUnsubscribers','load','debounceProcessRank','reportCapacity','successNotified','handleMissingSenders','authContext','getTrackFromParam','Invalid\x20job\x20worker\x20type.','NodeType','authService','GenerativeAIModelOutputType','PublishMediaStream','statsManager','senderStreams','DatabaseEvent','Completed','currentVersion','MediaStreamUnavailable','download','isMediaDestination','crewdle-sdk.appspot.com','user','PubSub\x20already\x20exists','getBitrate','getDatabase','initializeLoggingDatabase','debug','setRank','deleteRemoteNode','setDoc','commit','bytesSent','deleteFileChunks','SubscriptionRequestInProgress','GenerativeAIContextCreationFailed','handleRemediationSystemEvents','durationTime','maps','Queued','Disconnect','Code','onChildRemoved','Initial\x20MMR\x20built\x20with','Received\x20track','1:420235181083:web:4eff6062bd845cb0748cbe','isChannelEnabled','senderPreviousBytes','Key-value\x20database\x20transaction\x20value\x20not\x20set.','PromptRating','transactionHashMap','return\x20this','\x27\x20from\x20','LocalMediaStreamDoesNotExist','Search\x20connector\x20not\x20set','call','FPS','DataChannel\x20buffer\x20is\x20full.','getReceiverTotalBytes','collection','getResolution','handleFileSync','Additional\x20context:\x0a','audio','FinalOutput','VectorDatabaseMissingConnector','\x20received\x20responses:','getContentType','fromEntries','dbKey','Agent','logDataSent','ObjectStoreNotSynced','answer','hasRemoteNode','enumerateDevices','ChunkSplitter','compareTransactions',',\x20Total\x20Nodes:','VectorDatabaseAlreadyExists','\x0a\x0a`Executing\x20agent\x20','heartbeatUnsubscriber','removeRemoteNode','job-worker-already-exists','waitSuccess','waitAsync','setPriority','bid','statusText','KeyValueDatabaseContentSynchronized','Add','getAncestorIds','NodeConnectionsUpdate','Given\x20search\x20results\x20for\x20','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','Internal\x20SDK\x20error:\x20','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','clusterEventEmitter','key-value-database-index-not-found','NeedMediaStream','GenerativeAIContextDoesNotExist','available','Restart','JobType','entities','getDataBucketIds','NodeManager\x20-\x20ConnectionSuccess','getAgents','GenerativeAIWorker:\x20Opening','job-dispatcher-job-not-found','detail','entity','failed','URL\x20is\x20required','SenderPeerConnection\x20send','Number','signOut','getRank','handleSuccess','GetContextQuery','handleFileWrite','localNode','Model\x20store\x20not\x20initialized','connectionTimeout','MistletCapacityReportNotSet','drawImage','receiverCurrentBytes','forEach','Send\x20request','getTracks','Cannot\x20find\x20External\x20Storage\x20connection:\x20','createReceiverConnection','origin','setDisplayName','processDataChannelReport','localId','receiverTimeProcessing','openObjectStoreBucket','createExternalStorageConnection','publishSyncCompleted','object-store-already-exists','ConnectionBufferNotEmpty','checkExistingPendingFileContent','Unsupported\x20job\x20type','.clj','Missing\x20graph\x20database\x20connector','value','joinedAt','Connection','cluster-leave','packetsSent','sampleRate','root\x20hash:\x20','JobWorker:\x20Received\x20job','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','removeConnection','job-dispatcher-invalid-job-type','ner','AudioContext','Early\x20return','workflow-invalid-block-type','task','aws','From\x20','observer','.exs','/developers/','database','AI\x20Service\x20already\x20exists','getIdToken','Error\x20processing\x20retrieve','clearSyncTimeout','getMediaSubscription','handleOffer','Subscription','priority','publishLocalDynamicMediaStream','Node\x20type\x20is\x20invalid','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','getTransactionFromTableWriteEvent','jobType','Invalid\x20subscription.','created','debounceStats','addPendingHandshakeCandidate','send\x20error\x20on\x20','receiverTotalMessages','MediaStream','data','getLocalMediaStreams','query-helper-invalid-argument','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','Method\x20not\x20implemented.','.yml','\x20check\x20failed','Support:\x20current\x20config','queues','GenerativeAIWorkerModelSyncError','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','readyResolve','JobDispatcherDoesNotExist','hasBufferedData','isEqual','entries','temperature','.xls','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','objectToArrayBuffer','contentType','endpointMethod','remoteId','hasTracks','getTotalNodes','key-value-database-peak-not-found','ObjectStore','\x27\x20dabatase\x20id.','pubsub','setReceiverTimestamp','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','Graph\x20database\x20creation\x20failed.','consumeBufferedEvents','timePerFrame','authNode','externalStorageConnectionIds','join','providerListener','https://crewdle-sdk-default-rtdb.firebaseio.com','onBufferedAmountLow','RequestFileWrite','updateLastTransactionId','bandwidth.rtt','getMaxConnections','loadFromDisk'];a0_0x4202=function(){return _0x4022b6;};return a0_0x4202();}function a0_0x4922(_0xc6e27e,_0x5e42aa){const _0x420229=a0_0x4202();return a0_0x4922=function(_0x492249,_0x53c6a8){_0x492249=_0x492249-0x1ee;let _0x4c084e=_0x420229[_0x492249];return _0x4c084e;},a0_0x4922(_0xc6e27e,_0x5e42aa);}(function(_0x6f86c1,_0x18fa5d){const _0x2bdc78=a0_0x4922,_0x4bc7c4=_0x6f86c1();while(!![]){try{const _0x43fbff=-parseInt(_0x2bdc78(0x635))/0x1*(parseInt(_0x2bdc78(0x745))/0x2)+parseInt(_0x2bdc78(0x747))/0x3+-parseInt(_0x2bdc78(0x6d4))/0x4+-parseInt(_0x2bdc78(0x78a))/0x5*(parseInt(_0x2bdc78(0x773))/0x6)+parseInt(_0x2bdc78(0x284))/0x7*(-parseInt(_0x2bdc78(0x495))/0x8)+-parseInt(_0x2bdc78(0xa2f))/0x9+parseInt(_0x2bdc78(0x64d))/0xa*(parseInt(_0x2bdc78(0x7f6))/0xb);if(_0x43fbff===_0x18fa5d)break;else _0x4bc7c4['push'](_0x4bc7c4['shift']());}catch(_0x1f6ce3){_0x4bc7c4['push'](_0x4bc7c4['shift']());}}}(a0_0x4202,0x41eb0),!function(_0xeaba3a,_0x1a20b0){const _0xba65f4=a0_0x4922;if(_0xba65f4(0x7dc)==typeof exports&&_0xba65f4(0x7dc)==typeof module)module[_0xba65f4(0x1f2)]=_0x1a20b0();else{if(_0xba65f4(0x27b)==typeof define&&define['amd'])define([],_0x1a20b0);else{var _0x561f78=_0x1a20b0();for(var _0x3a021e in _0x561f78)(_0xba65f4(0x7dc)==typeof exports?exports:_0xeaba3a)[_0x3a021e]=_0x561f78[_0x3a021e];}}}(this,()=>((()=>{'use strict';const _0x3035df=a0_0x4922;var _0x3d364d={0x14d:(_0x4f54a6,_0x7af70c,_0x2dabeb)=>{const _0x208cad=a0_0x4922;_0x2dabeb['d'](_0x7af70c,{'O':()=>_0x16a81d});const _0x16a81d={'version':_0x208cad(0x9d6),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x208cad(0x6f3),'databaseURL':_0x208cad(0x460),'projectId':_0x208cad(0x86c),'storageBucket':_0x208cad(0x2c5),'appId':_0x208cad(0x62e),'functionsRegion':_0x208cad(0xa0c)},'google':{'searchEngineId':_0x208cad(0x559)},'aws':{'endpoint':_0x208cad(0x805),'region':_0x208cad(0x4f0)}};},0x33b:(_0x12e126,_0x371cf7,_0x499df3)=>{_0x499df3['d'](_0x371cf7,{'O':()=>_0x349a6c});const _0x349a6c={};},0x3e6:(_0x5b93b6,_0x2f29bf,_0x533eba)=>{const _0x3a61cb=a0_0x4922;_0x533eba['d'](_0x2f29bf,{'O':()=>_0x115fc9});const _0x115fc9={'version':_0x3a61cb(0xae0),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x3a61cb(0x391),'databaseURL':_0x3a61cb(0x95d),'projectId':'crewdle-sdk','storageBucket':_0x3a61cb(0x890),'messagingSenderId':_0x3a61cb(0x459),'appId':_0x3a61cb(0x8a8),'measurementId':_0x3a61cb(0x692)},'aws':{'endpoint':_0x3a61cb(0xaf3),'region':'us-east-1'}};},0x20:(_0x550f50,_0x583739,_0x233f49)=>{_0x233f49['d'](_0x583739,{'O':()=>_0x308a76});const _0x308a76={};}},_0x4d6d92={};function _0x423217(_0x1a15dc){const _0x142081=a0_0x4922;var _0xfb1941=_0x4d6d92[_0x1a15dc];if(void 0x0!==_0xfb1941)return _0xfb1941[_0x142081(0x1f2)];var _0x59b46b=_0x4d6d92[_0x1a15dc]={'exports':{}};return _0x3d364d[_0x1a15dc](_0x59b46b,_0x59b46b['exports'],_0x423217),_0x59b46b[_0x142081(0x1f2)];}_0x423217['d']=(_0x42a42f,_0x4cc259)=>{const _0x55f330=a0_0x4922;for(var _0x39f0a7 in _0x4cc259)_0x423217['o'](_0x4cc259,_0x39f0a7)&&!_0x423217['o'](_0x42a42f,_0x39f0a7)&&Object[_0x55f330(0xa66)](_0x42a42f,_0x39f0a7,{'enumerable':!0x0,'get':_0x4cc259[_0x39f0a7]});},_0x423217['g']=(function(){const _0x5494ea=a0_0x4922;if(_0x5494ea(0x7dc)==typeof globalThis)return globalThis;try{return this||new Function(_0x5494ea(0x8ae))();}catch(_0x483f9f){if(_0x5494ea(0x7dc)==typeof window)return window;}}()),_0x423217['o']=(_0x4a444b,_0x4931ab)=>Object[_0x3035df(0x54f)][_0x3035df(0x580)][_0x3035df(0x8b2)](_0x4a444b,_0x4931ab),_0x423217['r']=_0x39b522=>{const _0x469d9d=_0x3035df;_0x469d9d(0x582)!=typeof Symbol&&Symbol[_0x469d9d(0x2a3)]&&Object[_0x469d9d(0xa66)](_0x39b522,Symbol['toStringTag'],{'value':_0x469d9d(0x7ac)}),Object[_0x469d9d(0xa66)](_0x39b522,_0x469d9d(0x384),{'value':!0x0});};var _0x1e2529,_0x57257f,_0x2a39e9,_0x3028bd={};_0x423217['r'](_0x3028bd),_0x423217['d'](_0x3028bd,{'KeyValueDatabase':()=>_0x20f69f,'LayoutBuilder':()=>_0x231565,'LoggingChannels':()=>_0x2a39e9,'QueryBuilder':()=>_0x242cdc,'SDK':()=>_0x479146,'SDKClientErrorCodes':()=>_0x1e2529,'TableBuilder':()=>_0x448d19,'logger':()=>_0x5cdff6}),function(_0x5beeb6){const _0x1fecc6=_0x3035df;_0x5beeb6[_0x1fecc6(0x908)]=_0x1fecc6(0x256),_0x5beeb6[_0x1fecc6(0x5bd)]='cluster-already-joined',_0x5beeb6['ExternalStorageConnectionAlreadyExists']=_0x1fecc6(0xb1d),_0x5beeb6['ExternalStorageConnectionAlreadySubscribed']='external-storage-connection-already-subscribed',_0x5beeb6[_0x1fecc6(0x230)]=_0x1fecc6(0x52b),_0x5beeb6[_0x1fecc6(0x67a)]=_0x1fecc6(0x4d1),_0x5beeb6[_0x1fecc6(0x4fe)]=_0x1fecc6(0x71e),_0x5beeb6[_0x1fecc6(0x24d)]=_0x1fecc6(0x2db),_0x5beeb6[_0x1fecc6(0x96a)]=_0x1fecc6(0x564),_0x5beeb6[_0x1fecc6(0x1ff)]=_0x1fecc6(0x66f),_0x5beeb6[_0x1fecc6(0x8df)]='generative-ai-context-does-not-exist',_0x5beeb6[_0x1fecc6(0x29e)]='generative-ai-context-job-missing-thread-id',_0x5beeb6[_0x1fecc6(0x58b)]='generative-ai-label-conflict',_0x5beeb6['GenerativeAIWorkerAlreadyExists']=_0x1fecc6(0x873),_0x5beeb6['GenerativeAIWorkerMissingConnector']='generative-ai-worker-missing-connector',_0x5beeb6[_0x1fecc6(0x940)]='generative-ai-worker-model-sync-error',_0x5beeb6[_0x1fecc6(0x2f5)]=_0x1fecc6(0x7d9),_0x5beeb6[_0x1fecc6(0x55d)]=_0x1fecc6(0xb24),_0x5beeb6[_0x1fecc6(0x4c1)]=_0x1fecc6(0x583),_0x5beeb6[_0x1fecc6(0x332)]=_0x1fecc6(0x449),_0x5beeb6[_0x1fecc6(0x428)]=_0x1fecc6(0x9b9),_0x5beeb6[_0x1fecc6(0x943)]=_0x1fecc6(0xa13),_0x5beeb6['JobDispatcherJobExists']=_0x1fecc6(0xb02),_0x5beeb6['JobDispatcherJobNotFound']=_0x1fecc6(0x8e8),_0x5beeb6['JobDispatcherInvalidJobType']=_0x1fecc6(0x917),_0x5beeb6[_0x1fecc6(0x833)]=_0x1fecc6(0x8ce),_0x5beeb6[_0x1fecc6(0x2f0)]=_0x1fecc6(0x790),_0x5beeb6[_0x1fecc6(0x464)]=_0x1fecc6(0x907),_0x5beeb6['ObjectStoreAlreadySubscribed']='object-store-already-subscribed',_0x5beeb6[_0x1fecc6(0x5dc)]=_0x1fecc6(0x691),_0x5beeb6[_0x1fecc6(0x5cd)]=_0x1fecc6(0x2f1),_0x5beeb6['ObjectStoreInvalidPayload']='object-store-invalid-payload',_0x5beeb6['ObjectStoreInvalidPath']=_0x1fecc6(0x361),_0x5beeb6[_0x1fecc6(0x375)]=_0x1fecc6(0x628),_0x5beeb6[_0x1fecc6(0xa97)]=_0x1fecc6(0xa93),_0x5beeb6['InvalidAccess']=_0x1fecc6(0x608),_0x5beeb6['KeyValueDatabaseAlreadyExists']=_0x1fecc6(0xa15),_0x5beeb6[_0x1fecc6(0x7d3)]=_0x1fecc6(0x3cf),_0x5beeb6['KeyValueDatabaseIndexNotFound']=_0x1fecc6(0x8dd),_0x5beeb6[_0x1fecc6(0xa43)]=_0x1fecc6(0x3cc),_0x5beeb6['KeyValueDatabaseInvalidValue']=_0x1fecc6(0x3f3),_0x5beeb6[_0x1fecc6(0x38d)]=_0x1fecc6(0x3df),_0x5beeb6[_0x1fecc6(0x421)]=_0x1fecc6(0x369),_0x5beeb6[_0x1fecc6(0x9e6)]=_0x1fecc6(0x47a),_0x5beeb6['KeyValueDatabaseTableNotFound']=_0x1fecc6(0x57a),_0x5beeb6[_0x1fecc6(0xa5a)]=_0x1fecc6(0x6cb),_0x5beeb6['LocalMediaStreamAlreadyExists']='local-media-stream-already-exists',_0x5beeb6[_0x1fecc6(0x328)]='local-media-stream-no-audio-context',_0x5beeb6['PubSubTopicAlreadyExists']='pub-sub-topic-already-exists',_0x5beeb6['PubSubTopicDoesNotExist']=_0x1fecc6(0xb13),_0x5beeb6[_0x1fecc6(0x77b)]=_0x1fecc6(0x482),_0x5beeb6['PubSubTopicAlreadySubscribed']='pub-sub-topic-already-subscribed',_0x5beeb6[_0x1fecc6(0x71f)]=_0x1fecc6(0x939),_0x5beeb6[_0x1fecc6(0x6f7)]=_0x1fecc6(0x330),_0x5beeb6[_0x1fecc6(0x74e)]=_0x1fecc6(0x682),_0x5beeb6[_0x1fecc6(0x89d)]='subscription-request-in-progress',_0x5beeb6['NodeNotAuthenticated']='node-not-authenticated',_0x5beeb6['NodeInvalidType']=_0x1fecc6(0x61e),_0x5beeb6['NodeTypeNotSupported']='node-type-not-supported',_0x5beeb6[_0x1fecc6(0x3e3)]=_0x1fecc6(0x2e2),_0x5beeb6[_0x1fecc6(0x8ca)]='vector-database-already-exists',_0x5beeb6[_0x1fecc6(0x781)]=_0x1fecc6(0x3fc),_0x5beeb6[_0x1fecc6(0x8bc)]='vector-database-missing-connector',_0x5beeb6[_0x1fecc6(0x9de)]=_0x1fecc6(0x7c7);}(_0x1e2529||(_0x1e2529={}));class _0x2758ff extends Error{[_0x3035df(0x7ad)];constructor(_0x10e772,_0x3b5ddb){const _0x548b61=_0x3035df;super(_0x3b5ddb),this[_0x548b61(0x7ad)]=_0x10e772;}}!function(_0x2799ca){const _0x2022b2=_0x3035df;_0x2799ca['PubSub']=_0x2022b2(0x953),_0x2799ca[_0x2022b2(0x271)]=_0x2022b2(0x3be),_0x2799ca[_0x2022b2(0xa04)]=_0x2022b2(0x3a9),_0x2799ca[_0x2022b2(0x85b)]=_0x2022b2(0x5f7),_0x2799ca[_0x2022b2(0x9e3)]=_0x2022b2(0x6f9),_0x2799ca[_0x2022b2(0x3dd)]=_0x2022b2(0x3a1),_0x2799ca[_0x2022b2(0x936)]=_0x2022b2(0x6be),_0x2799ca[_0x2022b2(0xad4)]=_0x2022b2(0x266);}(_0x57257f||(_0x57257f={})),function(_0x145d80){const _0x587f68=_0x3035df;_0x145d80[_0x587f68(0x70c)]=_0x587f68(0x50f),_0x145d80[_0x587f68(0x43a)]='default',_0x145d80[_0x587f68(0x90f)]=_0x587f68(0x5b8),_0x145d80[_0x587f68(0x4b1)]='connection-state',_0x145d80['Cluster']=_0x587f68(0x9db),_0x145d80['Content']='content',_0x145d80[_0x587f68(0xb1b)]='data-stream',_0x145d80[_0x587f68(0x555)]='detection',_0x145d80[_0x587f68(0x9f2)]=_0x587f68(0x617),_0x145d80[_0x587f68(0x710)]=_0x587f68(0xa29),_0x145d80[_0x587f68(0x363)]=_0x587f68(0x334),_0x145d80[_0x587f68(0xa04)]=_0x587f68(0x3a9),_0x145d80['Node']=_0x587f68(0x9c6),_0x145d80[_0x587f68(0x6d1)]='pool',_0x145d80['PubSub']=_0x587f68(0x953),_0x145d80['ReceiverOnMessage']=_0x587f68(0x265),_0x145d80['Remediation']=_0x587f68(0x662),_0x145d80[_0x587f68(0xa77)]=_0x587f68(0xaeb),_0x145d80[_0x587f68(0x32f)]=_0x587f68(0x515),_0x145d80[_0x587f68(0x667)]=_0x587f68(0xaba),_0x145d80[_0x587f68(0x929)]='subscription',_0x145d80['Support']=_0x587f68(0x5ef),_0x145d80[_0x587f68(0x270)]=_0x587f68(0x3f7),_0x145d80[_0x587f68(0x870)]=_0x587f68(0xaa2),_0x145d80[_0x587f68(0x795)]=_0x587f68(0x7ae),_0x145d80['PeerConnection']=_0x587f68(0x6c6);}(_0x2a39e9||(_0x2a39e9={}));const _0x37e813=require('@crewdle/web-sdk-types');class _0x242cdc{['query'];constructor(_0x266ae1){const _0x5bdb67=_0x3035df;this['query']={'orderBy':{'key':_0x266ae1,'direction':_0x5bdb67(0x97b)}};}static[_0x3035df(0x4fa)](_0x14a58c){const _0x34084a=_0x3035df;if('string'!=typeof _0x14a58c||0x0===_0x14a58c[_0x34084a(0x68c)])throw new _0x2758ff(_0x1e2529[_0x34084a(0x71f)],_0x34084a(0x5fd));return new _0x242cdc(_0x14a58c);}static[_0x3035df(0x637)](_0x3db35e){const _0x2d0d7f=_0x3035df;try{return _0x242cdc[_0x2d0d7f(0x615)](_0x3db35e),!0x0;}catch(_0x5ca6ed){return!0x1;}}static[_0x3035df(0x615)](_0x12f32b){const _0x1d2000=_0x3035df,_0x135eb0=_0x242cdc[_0x1d2000(0x4fa)](_0x12f32b[_0x1d2000(0x67d)]?.[_0x1d2000(0x547)]??_0x12f32b['where']?.[_0x1d2000(0x547)]??'');if(_0x12f32b[_0x1d2000(0x73e)]){const _0x51b686=_0x12f32b[_0x1d2000(0x73e)];if((_0x242cdc['isWhereValue'](_0x51b686)||_0x242cdc['isWhereValues'](_0x51b686)||_0x242cdc[_0x1d2000(0xb1f)](_0x51b686))&&_0x135eb0[_0x1d2000(0x73e)](_0x51b686[_0x1d2000(0x3e0)],_0x51b686[_0x1d2000(0x90d)]),_0x12f32b[_0x1d2000(0x67d)]?.[_0x1d2000(0x547)]&&_0x12f32b[_0x1d2000(0x67d)]?.[_0x1d2000(0x547)]!==_0x12f32b['where'][_0x1d2000(0x547)])throw new _0x2758ff(_0x1e2529[_0x1d2000(0x71f)],_0x1d2000(0x9ca));}return _0x12f32b[_0x1d2000(0x67d)]&&_0x135eb0[_0x1d2000(0x67d)](_0x12f32b[_0x1d2000(0x67d)][_0x1d2000(0x862)]),_0x12f32b['limit']&&_0x135eb0[_0x1d2000(0x863)](_0x12f32b[_0x1d2000(0x863)]),_0x12f32b[_0x1d2000(0x21b)]&&_0x135eb0['offset'](_0x12f32b[_0x1d2000(0x21b)]),_0x135eb0;}['getQuery'](){return{...this['query']};}[_0x3035df(0x73e)](_0x137037,_0x425140){const _0x77920=_0x3035df,_0x3b3c68={'key':this[_0x77920(0x4cc)][_0x77920(0x67d)]['key'],'operator':_0x137037,'value':_0x425140};if(!_0x242cdc['isWhereValue'](_0x3b3c68)&&!_0x242cdc['isWhereValues'](_0x3b3c68)&&!_0x242cdc['isWhereBetween'](_0x3b3c68))throw new _0x2758ff(_0x1e2529['QueryBuilderInvalidArgument'],_0x77920(0x2c2));return this[_0x77920(0x4cc)][_0x77920(0x73e)]=_0x3b3c68,this;}[_0x3035df(0x67d)](_0xe11cd2){const _0x58f6bb=_0x3035df;if(_0x58f6bb(0x97b)!==_0xe11cd2&&_0x58f6bb(0x585)!==_0xe11cd2)throw new _0x2758ff(_0x1e2529[_0x58f6bb(0x71f)],_0x58f6bb(0xa22));return this[_0x58f6bb(0x4cc)][_0x58f6bb(0x67d)][_0x58f6bb(0x862)]=_0xe11cd2,this;}[_0x3035df(0x863)](_0x5366e8){const _0x518edb=_0x3035df;if(_0x518edb(0x483)!=typeof _0x5366e8||_0x5366e8<0x0)throw new _0x2758ff(_0x1e2529['QueryBuilderInvalidArgument'],_0x518edb(0x37f));return this[_0x518edb(0x4cc)][_0x518edb(0x863)]=_0x5366e8,this;}[_0x3035df(0x21b)](_0x28c825){const _0xa01385=_0x3035df;if(_0xa01385(0x483)!=typeof _0x28c825||_0x28c825<0x0)throw new _0x2758ff(_0x1e2529[_0xa01385(0x71f)],_0xa01385(0xaea));return this[_0xa01385(0x4cc)][_0xa01385(0x21b)]=_0x28c825,this;}static[_0x3035df(0xae4)](_0x849008){const _0x2596e9=_0x3035df;if(!(_0x849008&&_0x2596e9(0x7dc)==typeof _0x849008&&_0x2596e9(0x3e0)in _0x849008&&'value'in _0x849008))return!0x1;const {operator:_0x2d8299,value:_0x235a99}=_0x849008;return!(!['==','!=','>','<','<=','>=']['includes'](_0x2d8299)||Array[_0x2596e9(0x727)](_0x235a99));}static[_0x3035df(0x9d9)](_0x3b6d11){const _0x315020=_0x3035df;if(!(_0x3b6d11&&_0x315020(0x7dc)==typeof _0x3b6d11&&'operator'in _0x3b6d11&&_0x315020(0x90d)in _0x3b6d11))return!0x1;const {operator:_0x3544ef,value:_0x89ea89}=_0x3b6d11;return!(!['in','not-in'][_0x315020(0x7c4)](_0x3544ef)||!Array[_0x315020(0x727)](_0x89ea89));}static[_0x3035df(0xb1f)](_0x5285c9){const _0x48257c=_0x3035df;if(!(_0x5285c9&&_0x48257c(0x7dc)==typeof _0x5285c9&&_0x48257c(0x3e0)in _0x5285c9&&'value'in _0x5285c9))return!0x1;const {operator:_0x571890,value:_0x54d3fb}=_0x5285c9;return!('between'!==_0x571890||!Array[_0x48257c(0x727)](_0x54d3fb)||0x2!==_0x54d3fb[_0x48257c(0x68c)]);}}class _0x231565{['layout'];constructor(_0x18d3c5){const _0x132c5a=_0x3035df;this[_0x132c5a(0x72b)]={'tables':{},'version':_0x18d3c5};}static[_0x3035df(0xab5)](_0x3d5cb0){const _0x3acc83=_0x3035df;for(const _0x176285 in _0x3d5cb0){if(_0x3acc83(0x80d)!==_0x176285&&_0x3acc83(0x827)!==_0x176285)return[!0x1,_0x3acc83(0x2f3)+_0x176285+'\x27\x20in\x20layout'];if(_0x3acc83(0x827)===_0x176285)for(const _0x2abf65 in _0x3d5cb0[_0x3acc83(0x827)]){if(_0x3acc83(0x395)!=typeof _0x2abf65)return[!0x1,_0x3acc83(0x222)+_0x2abf65+'\x27'];for(const _0x21a36f in _0x3d5cb0[_0x3acc83(0x827)][_0x2abf65]){if(_0x3acc83(0xa2d)!==_0x21a36f)return[!0x1,_0x3acc83(0x2f3)+_0x21a36f+'\x27\x20in\x20table\x20\x27'+_0x2abf65+'\x27'];const _0xf2e841=_0x3d5cb0[_0x3acc83(0x827)][_0x2abf65][_0x21a36f]??[];for(const _0xb9f8e6 of _0xf2e841)if(void 0x0===_0xb9f8e6[_0x3acc83(0x968)]||'string'!=typeof _0xb9f8e6['keyPath'])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x2abf65+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if('version'===_0x176285&&_0x3acc83(0x483)!=typeof _0x3d5cb0[_0x176285])return[!0x1,_0x3acc83(0x353)+_0x3d5cb0[_0x176285]+_0x3acc83(0x5fa)];}}return[!0x0,_0x3acc83(0x97d)];}static[_0x3035df(0x72b)](_0x42b29b){const _0x107319=_0x3035df,_0x522c04=new _0x231565(_0x42b29b);return _0x522c04[_0x107319(0x72b)][_0x107319(0x80d)]=_0x42b29b,_0x522c04;}[_0x3035df(0x315)](_0x2d3428){const _0x1b9b17=_0x3035df;return this[_0x1b9b17(0x72b)][_0x1b9b17(0x827)][_0x2d3428]={},new _0x448d19(this[_0x1b9b17(0x72b)][_0x1b9b17(0x827)][_0x2d3428]);}['getLayout'](){const _0x324dcc=_0x3035df;return this[_0x324dcc(0x72b)];}}class _0x448d19{[_0x3035df(0x98a)];constructor(_0x44faa0){const _0x561a18=_0x3035df;this[_0x561a18(0x98a)]=_0x44faa0;}[_0x3035df(0x4fa)](_0x44065d){const _0x14f42e=_0x3035df;return this[_0x14f42e(0x98a)][_0x14f42e(0xa2d)]=this[_0x14f42e(0x98a)][_0x14f42e(0xa2d)]??[],this[_0x14f42e(0x98a)]['indexes'][_0x14f42e(0x343)]({'keyPath':_0x44065d}),this;}}const _0xc45bc7=0x40000,_0x306086=0x3f800,_0x1a8c76=0x1388,_0x4c79a8=_0x3035df(0x2e3),_0x4695b3=_0x3035df(0x32e),_0x40120b='.crewdle-transactions',_0x20c1d5=_0x3035df(0xb27),_0x1ace1e=0xdbba0,_0x5c4526=_0x3035df(0x86d),_0x20816c=0x61a8,_0x25c7b3=0x7530,_0x8b8df='internal';var _0x17947e;!function(_0x1352e9){const _0x4dcf1a=_0x3035df;_0x1352e9[_0x4dcf1a(0x347)]=_0x4dcf1a(0x5ea),_0x1352e9[_0x4dcf1a(0x201)]=_0x4dcf1a(0xafb),_0x1352e9[_0x4dcf1a(0x856)]='connection-no-retry-queue',_0x1352e9[_0x4dcf1a(0x9e1)]=_0x4dcf1a(0x6c7),_0x1352e9[_0x4dcf1a(0x89e)]=_0x4dcf1a(0x7a0),_0x1352e9[_0x4dcf1a(0xa75)]='generative-ai-context-invalid-partial-result',_0x1352e9['GenerativeAIContextJobAlreadyConsumed']=_0x4dcf1a(0xb11),_0x1352e9[_0x4dcf1a(0xad1)]=_0x4dcf1a(0x818),_0x1352e9[_0x4dcf1a(0x4e1)]=_0x4dcf1a(0x9a8),_0x1352e9[_0x4dcf1a(0x2e7)]=_0x4dcf1a(0x715),_0x1352e9[_0x4dcf1a(0x76c)]=_0x4dcf1a(0x9aa),_0x1352e9['InvalidDataChannel']=_0x4dcf1a(0x64f),_0x1352e9[_0x4dcf1a(0x3fd)]=_0x4dcf1a(0x530),_0x1352e9['InvalidSubscriber']=_0x4dcf1a(0x6e2),_0x1352e9['InvalidSubscription']=_0x4dcf1a(0x7d6),_0x1352e9[_0x4dcf1a(0x823)]='job-dispatcher-creation-failed',_0x1352e9[_0x4dcf1a(0x9f5)]='job-dispatcher-invalid-payload',_0x1352e9[_0x4dcf1a(0xa3e)]=_0x4dcf1a(0x8e8),_0x1352e9[_0x4dcf1a(0x729)]=_0x4dcf1a(0x292),_0x1352e9[_0x4dcf1a(0x44e)]=_0x4dcf1a(0x410),_0x1352e9[_0x4dcf1a(0x9ee)]=_0x4dcf1a(0x215),_0x1352e9['KeyValueDatabaseCreationFailed']=_0x4dcf1a(0x623),_0x1352e9[_0x4dcf1a(0xa16)]=_0x4dcf1a(0x950),_0x1352e9[_0x4dcf1a(0xa0f)]=_0x4dcf1a(0x9ae),_0x1352e9['KeyValueDatabaseTransactionTableNotInitialized']=_0x4dcf1a(0x82e),_0x1352e9[_0x4dcf1a(0x779)]=_0x4dcf1a(0x4b6),_0x1352e9['LocalMediaStreamDoesNotExist']=_0x4dcf1a(0x75e),_0x1352e9[_0x4dcf1a(0x5f6)]=_0x4dcf1a(0x6d2),_0x1352e9['MissingSystemTopic']=_0x4dcf1a(0x401),_0x1352e9['MistletCapacityReportNotSet']=_0x4dcf1a(0x278),_0x1352e9[_0x4dcf1a(0xa9b)]='object-store-cannot-write-transaction',_0x1352e9[_0x4dcf1a(0x633)]=_0x4dcf1a(0xad2),_0x1352e9['ObjectStoreInvalidSyncMessage']=_0x4dcf1a(0x607),_0x1352e9[_0x4dcf1a(0x8c3)]='object-store-not-synced',_0x1352e9['OutgoingMediaStreamNoTopic']=_0x4dcf1a(0x79c),_0x1352e9[_0x4dcf1a(0x69a)]=_0x4dcf1a(0x200),_0x1352e9[_0x4dcf1a(0x74d)]=_0x4dcf1a(0x9a9),_0x1352e9[_0x4dcf1a(0xa30)]=_0x4dcf1a(0x3b1),_0x1352e9['SubscriptionRequestDoesNotExist']='subscription-request-does-not-exist',_0x1352e9[_0x4dcf1a(0x70e)]='subscription-request-failed',_0x1352e9[_0x4dcf1a(0x4e5)]=_0x4dcf1a(0x9b5),_0x1352e9[_0x4dcf1a(0x822)]='node-does-not-exist',_0x1352e9[_0x4dcf1a(0x4bb)]=_0x4dcf1a(0xb01),_0x1352e9[_0x4dcf1a(0x7d1)]='peer-connection-invalid-destination',_0x1352e9[_0x4dcf1a(0x82d)]=_0x4dcf1a(0x451),_0x1352e9[_0x4dcf1a(0x21f)]='workflow-does-not-exist',_0x1352e9[_0x4dcf1a(0x999)]=_0x4dcf1a(0x91b);}(_0x17947e||(_0x17947e={}));const _0x35965b=new Map([[_0x17947e[_0x3035df(0x347)],'Connection\x20not\x20initialized.'],[_0x17947e[_0x3035df(0x201)],'Connection\x20not\x20connected.'],[_0x17947e[_0x3035df(0x856)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x17947e['ConnectionInvalidDataEvent'],_0x3035df(0x390)],[_0x17947e[_0x3035df(0x89e)],_0x3035df(0x9a1)],[_0x17947e[_0x3035df(0xa75)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x17947e['GenerativeAIContextJobAlreadyConsumed'],_0x3035df(0x6ec)],[_0x17947e[_0x3035df(0xad1)],_0x3035df(0xac8)],[_0x17947e[_0x3035df(0x4e1)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x17947e[_0x3035df(0x2e7)],_0x3035df(0x5e1)],[_0x17947e[_0x3035df(0x76c)],_0x3035df(0x956)],[_0x17947e['InvalidDataChannel'],_0x3035df(0x700)],[_0x17947e[_0x3035df(0x3fd)],_0x3035df(0x5a5)],[_0x17947e[_0x3035df(0x865)],_0x3035df(0x4a7)],[_0x17947e['InvalidSubscription'],_0x3035df(0x930)],[_0x17947e[_0x3035df(0x823)],'Job\x20service\x20creation\x20failed.'],[_0x17947e[_0x3035df(0x9f5)],_0x3035df(0x76a)],[_0x17947e[_0x3035df(0xa3e)],_0x3035df(0xada)],[_0x17947e[_0x3035df(0x729)],'Job\x20service\x20observer\x20not\x20found.'],[_0x17947e[_0x3035df(0x44e)],'Job\x20worker\x20creation\x20failed.'],[_0x17947e[_0x3035df(0x9ee)],_0x3035df(0x883)],[_0x17947e[_0x3035df(0x639)],_0x3035df(0x454)],[_0x17947e['KeyValueDatabasePeakNotFound'],_0x3035df(0x60a)],[_0x17947e['KeyValueDatabaseTableDoesNotExist'],_0x3035df(0x204)],[_0x17947e['KeyValueDatabaseTransactionTableNotInitialized'],_0x3035df(0x435)],[_0x17947e[_0x3035df(0x779)],_0x3035df(0x8ab)],[_0x17947e[_0x3035df(0x8b0)],_0x3035df(0x51f)],[_0x17947e['MissingRemoteConnection'],_0x3035df(0x7ff)],[_0x17947e[_0x3035df(0x6ae)],_0x3035df(0x65d)],[_0x17947e[_0x3035df(0x8f7)],_0x3035df(0x255)],[_0x17947e[_0x3035df(0xa9b)],_0x3035df(0x7a6)],[_0x17947e[_0x3035df(0x3ae)],_0x3035df(0x25d)],[_0x17947e[_0x3035df(0x633)],'Invalid\x20object\x20store\x20state.'],[_0x17947e[_0x3035df(0x8c3)],_0x3035df(0x7bb)],[_0x17947e[_0x3035df(0x535)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x17947e[_0x3035df(0x69a)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x17947e[_0x3035df(0x74d)],_0x3035df(0x28c)],[_0x17947e[_0x3035df(0xa30)],_0x3035df(0x526)],[_0x17947e[_0x3035df(0x538)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x17947e[_0x3035df(0x70e)],'Subscription\x20request\x20failed.'],[_0x17947e[_0x3035df(0x4e5)],_0x3035df(0x5b4)],[_0x17947e['NodeDoesNotExist'],_0x3035df(0x2ba)],[_0x17947e['NodeAlreadyExist'],_0x3035df(0x2fd)],[_0x17947e[_0x3035df(0x7d1)],_0x3035df(0x3a6)],[_0x17947e[_0x3035df(0x82d)],'Vector\x20database\x20creation\x20failed.'],[_0x17947e[_0x3035df(0x21f)],_0x3035df(0x975)],[_0x17947e['WorkflowInvalidBlockType'],_0x3035df(0x448)]]);class _0x891088 extends Error{[_0x3035df(0x7ad)];static [_0x3035df(0x5fb)]=_0x17947e;[_0x3035df(0x937)];constructor(_0x47f1fc,_0x87037f){const _0x33312e=_0x3035df;super(_0x33312e(0x791)+_0x47f1fc+':\x20'+_0x35965b[_0x33312e(0x557)](_0x47f1fc)+_0x33312e(0x7ce)+JSON[_0x33312e(0x83d)](_0x87037f)),this[_0x33312e(0x7ad)]=_0x47f1fc,this[_0x33312e(0x937)]=_0x87037f||{};}}var _0x41c383,_0x2c765a,_0x139727,_0x34bcc8,_0x15eb62,_0x583dae,_0x160b40;!function(_0x48b749){const _0x2c2ed7=_0x3035df;_0x48b749[_0x48b749[_0x2c2ed7(0x603)]=0x0]=_0x2c2ed7(0x603),_0x48b749[_0x48b749[_0x2c2ed7(0x5ae)]=0x1]=_0x2c2ed7(0x5ae),_0x48b749[_0x48b749['CloseJobWorker']=0x2]=_0x2c2ed7(0x80a),_0x48b749[_0x48b749[_0x2c2ed7(0xa5f)]=0x3]='CloseExternalStorageConnection',_0x48b749[_0x48b749[_0x2c2ed7(0x383)]=0x4]=_0x2c2ed7(0x383),_0x48b749[_0x48b749[_0x2c2ed7(0x6d8)]=0x5]=_0x2c2ed7(0x6d8),_0x48b749[_0x48b749[_0x2c2ed7(0x7c1)]=0x6]=_0x2c2ed7(0x7c1),_0x48b749[_0x48b749[_0x2c2ed7(0xaa3)]=0x7]='ClosePubSubTopic',_0x48b749[_0x48b749[_0x2c2ed7(0x413)]=0x8]=_0x2c2ed7(0x413),_0x48b749[_0x48b749['ExternalStorageStats']=0x9]=_0x2c2ed7(0x6b2),_0x48b749[_0x48b749[_0x2c2ed7(0x75a)]=0xa]='GenerativeAIContextStats',_0x48b749[_0x48b749[_0x2c2ed7(0x536)]=0xb]=_0x2c2ed7(0x536),_0x48b749[_0x48b749['GraphDatabaseStats']=0xc]=_0x2c2ed7(0x665),_0x48b749[_0x48b749[_0x2c2ed7(0x203)]=0xd]=_0x2c2ed7(0x203),_0x48b749[_0x48b749[_0x2c2ed7(0x8d4)]=0xe]=_0x2c2ed7(0x8d4),_0x48b749[_0x48b749[_0x2c2ed7(0x5c8)]=0xf]=_0x2c2ed7(0x5c8),_0x48b749[_0x48b749[_0x2c2ed7(0x616)]=0x10]=_0x2c2ed7(0x616),_0x48b749[_0x48b749[_0x2c2ed7(0x7d2)]=0x11]=_0x2c2ed7(0x7d2),_0x48b749[_0x48b749[_0x2c2ed7(0x49f)]=0x12]=_0x2c2ed7(0x49f),_0x48b749[_0x48b749[_0x2c2ed7(0x6db)]=0x13]=_0x2c2ed7(0x6db),_0x48b749[_0x48b749['LocalMediaStreamTrackFail']=0x14]=_0x2c2ed7(0x855),_0x48b749[_0x48b749[_0x2c2ed7(0x834)]=0x15]=_0x2c2ed7(0x834),_0x48b749[_0x48b749[_0x2c2ed7(0x4f1)]=0x16]='PubSubTopicStats',_0x48b749[_0x48b749[_0x2c2ed7(0x887)]=0x17]=_0x2c2ed7(0x887),_0x48b749[_0x48b749[_0x2c2ed7(0xac5)]=0x18]='RemoteMediaStreamTrackFail',_0x48b749[_0x48b749[_0x2c2ed7(0x388)]=0x19]=_0x2c2ed7(0x388),_0x48b749[_0x48b749[_0x2c2ed7(0x594)]=0x1a]=_0x2c2ed7(0x594),_0x48b749[_0x48b749[_0x2c2ed7(0x4f4)]=0x1b]=_0x2c2ed7(0x4f4),_0x48b749[_0x48b749[_0x2c2ed7(0x48e)]=0x1c]=_0x2c2ed7(0x48e),_0x48b749[_0x48b749[_0x2c2ed7(0x2ef)]=0x1d]='VectorDatabaseStats';}(_0x41c383||(_0x41c383={})),function(_0x258cbb){const _0x5090e0=_0x3035df;_0x258cbb['FileWrite']=_0x5090e0(0x33a),_0x258cbb[_0x5090e0(0x6cc)]=_0x5090e0(0x716),_0x258cbb['Delete']='delete',_0x258cbb[_0x5090e0(0x231)]=_0x5090e0(0x6f1),_0x258cbb[_0x5090e0(0x3e4)]=_0x5090e0(0x4e7),_0x258cbb[_0x5090e0(0x651)]='request-accepted',_0x258cbb[_0x5090e0(0x5b5)]=_0x5090e0(0x236),_0x258cbb['RequestFileWrite']='request-file-write';}(_0x2c765a||(_0x2c765a={})),function(_0x43ffa4){const _0x1ea558=_0x3035df;_0x43ffa4[_0x1ea558(0x4fb)]=_0x1ea558(0x62f),_0x43ffa4[_0x1ea558(0x26e)]=_0x1ea558(0x7b9);}(_0x139727||(_0x139727={})),function(_0x377ce0){const _0x47a0d0=_0x3035df;_0x377ce0['Add']='add',_0x377ce0[_0x47a0d0(0x6a3)]=_0x47a0d0(0x7c9),_0x377ce0[_0x47a0d0(0xa6e)]=_0x47a0d0(0x72d);}(_0x34bcc8||(_0x34bcc8={})),function(_0x39b372){const _0x533a85=_0x3035df;_0x39b372[_0x533a85(0x9f0)]=_0x533a85(0x557),_0x39b372[_0x533a85(0x32c)]=_0x533a85(0xa6c),_0x39b372[_0x533a85(0x355)]=_0x533a85(0x5e5);}(_0x15eb62||(_0x15eb62={})),function(_0x2bd3d5){const _0x217eb4=_0x3035df;_0x2bd3d5[_0x2bd3d5[_0x217eb4(0x4fb)]=0x0]=_0x217eb4(0x4fb),_0x2bd3d5[_0x2bd3d5[_0x217eb4(0x837)]=0x1]='Bid',_0x2bd3d5[_0x2bd3d5[_0x217eb4(0x7f3)]=0x2]='Attribution',_0x2bd3d5[_0x2bd3d5['PartialResult']=0x3]=_0x217eb4(0x661),_0x2bd3d5[_0x2bd3d5[_0x217eb4(0x71d)]=0x4]=_0x217eb4(0x71d),_0x2bd3d5[_0x2bd3d5[_0x217eb4(0x83a)]=0x5]=_0x217eb4(0x83a);}(_0x583dae||(_0x583dae={})),function(_0x36ba79){const _0x31b984=_0x3035df;_0x36ba79[_0x36ba79[_0x31b984(0x513)]=0x0]=_0x31b984(0x513),_0x36ba79[_0x36ba79[_0x31b984(0x4ae)]=0x1]=_0x31b984(0x4ae),_0x36ba79[_0x36ba79[_0x31b984(0x240)]=0x2]=_0x31b984(0x240),_0x36ba79[_0x36ba79[_0x31b984(0x929)]=0x3]=_0x31b984(0x929),_0x36ba79[_0x36ba79['Stats']=0x4]=_0x31b984(0x667),_0x36ba79[_0x36ba79[_0x31b984(0x555)]=0x5]=_0x31b984(0x555),_0x36ba79[_0x36ba79['Remediation']=0x6]=_0x31b984(0x718);}(_0x160b40||(_0x160b40={}));class _0x8006ba{[_0x3035df(0xa41)];['label'];[_0x3035df(0x31b)];constructor(_0x55714c,_0x4706fd){const _0x5923f6=_0x3035df;this[_0x5923f6(0xa41)]=_0x55714c,this[_0x5923f6(0x4de)]=_0x4706fd;}[_0x3035df(0x59f)](){const _0x1ae852=_0x3035df;return this[_0x1ae852(0x4de)];}[_0x3035df(0x264)](){const _0x397c84=_0x3035df;return this['owner'][_0x397c84(0x6cd)]();}[_0x3035df(0x7ab)](){}['registerSystemPublisher'](_0x32c682){const _0x8f06d=_0x3035df;this[_0x8f06d(0x31b)]=_0x32c682;}[_0x3035df(0x38f)](){const _0x205d81=_0x3035df;delete this[_0x205d81(0x31b)];}}const _0x3bf861=require('firebase/firestore');let _0x44d8bb=_0x423217(0x14d)['O'];function _0x201623(_0x5b2a39){const _0xa1127a=_0x3035df;return!(!_0x5b2a39||_0xa1127a(0x7dc)!=typeof _0x5b2a39||Array[_0xa1127a(0x727)](_0x5b2a39));}_0x44d8bb=function _0x4fd9b8(_0xff5232,..._0x5dc604){const _0x3f50e7=_0x3035df;if(!Array[_0x3f50e7(0x727)](_0x5dc604)||0x0===_0x5dc604[_0x3f50e7(0x68c)])return _0xff5232;const _0x5ff222=_0x5dc604['shift']();if(_0x201623(_0xff5232)&&_0x201623(_0x5ff222)){for(const _0x29dff0 in _0x5ff222)_0x201623(_0x5ff222[_0x29dff0])?(_0xff5232[_0x29dff0]||Object[_0x3f50e7(0xb0b)](_0xff5232,{[_0x29dff0]:{}}),_0x4fd9b8(_0xff5232[_0x29dff0],_0x5ff222[_0x29dff0])):Object[_0x3f50e7(0xb0b)](_0xff5232,{[_0x29dff0]:_0x5ff222[_0x29dff0]});}return _0x4fd9b8(_0xff5232,..._0x5dc604);}(_0x44d8bb,_0x423217(0x3e6)['O']);const _0x59f5be=_0x44d8bb,_0x5c6ede=require('firebase/app'),_0x3cdb0d=require('firebase/auth'),_0x116674=require('firebase/database'),_0xed4a33=require('firebase/functions'),_0x5b15a5=require('uuid'),_0x5b7761=_0x3035df(0x1f4);class _0x3191d3{static [_0x3035df(0xa28)];[_0x3035df(0xac0)];['auth'];[_0x3035df(0x7e6)];[_0x3035df(0x922)];[_0x3035df(0xa69)];[_0x3035df(0x61f)];[_0x3035df(0xa01)];constructor(){const _0x4875e4=_0x3035df;this[_0x4875e4(0x620)]();}static[_0x3035df(0x98c)](){const _0x3d1ef3=_0x3035df;return _0x3191d3['instance']||(_0x3191d3['instance']=new _0x3191d3()),_0x3191d3[_0x3d1ef3(0xa28)];}[_0x3035df(0x620)](){const _0x2fa8a9=_0x3035df;if(!this['app']){let _0x1912eb=_0x5b7761;_0x2fa8a9(0x582)!=typeof window&&(_0x1912eb=_0x5b7761+'-'+(0x0,_0x5b15a5['v4'])()),this[_0x2fa8a9(0xac0)]=(0x0,_0x5c6ede[_0x2fa8a9(0x5df)])(_0x59f5be[_0x2fa8a9(0x2e0)],''+_0x1912eb);}return this[_0x2fa8a9(0xac0)];}[_0x3035df(0x570)](){const _0xc17b51=_0x3035df;return this[_0xc17b51(0x6a8)]||(this['auth']=(0x0,_0x3cdb0d[_0xc17b51(0x570)])(this[_0xc17b51(0x620)]())),this[_0xc17b51(0x6a8)];}[_0x3035df(0x2d2)](){const _0x4d385f=_0x3035df;return this[_0x4d385f(0x7e6)]||(this[_0x4d385f(0x7e6)]=(0x0,_0xed4a33['getFunctions'])(this[_0x4d385f(0x620)](),_0x59f5be[_0x4d385f(0x2e0)]['functionsRegion'])),this[_0x4d385f(0x7e6)];}[_0x3035df(0x894)](){const _0x1e57cb=_0x3035df;return this['database']||(this[_0x1e57cb(0x922)]=(0x0,_0x116674[_0x1e57cb(0x894)])(this[_0x1e57cb(0x620)]())),this[_0x1e57cb(0x922)];}[_0x3035df(0x26d)](){const _0x4d3500=_0x3035df;return this[_0x4d3500(0xa69)]||(this[_0x4d3500(0xa69)]=(0x0,_0x3bf861[_0x4d3500(0x26d)])(this[_0x4d3500(0x620)]())),this[_0x4d3500(0xa69)];}async[_0x3035df(0xa74)](){const _0x135c67=_0x3035df;if(this[_0x135c67(0x61f)]&&this[_0x135c67(0xa01)]&&Date[_0x135c67(0x6de)]()-this[_0x135c67(0xa01)]<0x493e0)return Date[_0x135c67(0x6de)]()+this[_0x135c67(0x61f)];const _0x2dfae4=this[_0x135c67(0x894)](),_0x313db6=(0x0,_0x116674['ref'])(_0x2dfae4,_0x135c67(0x806));return new Promise(_0x21781c=>{(0x0,_0x116674['onValue'])(_0x313db6,_0x34deee=>{const _0x42b03a=a0_0x4922;(0x0,_0x116674[_0x42b03a(0x63f)])(_0x313db6),this[_0x42b03a(0x61f)]=_0x34deee[_0x42b03a(0x412)](),this[_0x42b03a(0xa01)]=Date['now'](),_0x21781c(Date[_0x42b03a(0x6de)]()+(this[_0x42b03a(0x61f)]??0x0));});});}}const _0x1d88af=_0x3191d3[_0x3035df(0x98c)]();class _0xb8deec{static [_0x3035df(0xa28)];[_0x3035df(0x2f8)]=[_0x2a39e9[_0x3035df(0x43a)]];[_0x3035df(0x57d)]=!0x1;[_0x3035df(0x9ed)];[_0x3035df(0x7c3)]='';[_0x3035df(0x5ad)];['batchQueue']=[];[_0x3035df(0x673)];[_0x3035df(0x971)];['retryLimit']=0xa;[_0x3035df(0x655)]=0x1f4;['batchSize']=0x1c2;[_0x3035df(0x5d5)]=0x3e8;constructor(){const _0x281606=_0x3035df;if(_0x281606(0x582)!=typeof window)this[_0x281606(0x5ad)]=window;else{if(void 0x0===_0x423217['g'])throw new Error(_0x281606(0xa2a));this[_0x281606(0x5ad)]=_0x423217['g'];}this['loadEnabledChannels'](),this[_0x281606(0x5ad)][_0x281606(0x60d)]=_0x3cda78=>{const _0x21945a=_0x281606;if(_0x3cda78===_0x2a39e9[_0x21945a(0x70c)])return this['enabledChannels']=Object[_0x21945a(0x75b)](_0x2a39e9)[_0x21945a(0x207)](_0x42ad8b=>_0x2a39e9[_0x42ad8b]),void Object['keys'](_0x2a39e9)[_0x21945a(0x8fa)](_0xd393ed=>{const _0x329fbf=_0x21945a,_0x528b7c=_0xd393ed;localStorage[_0x329fbf(0xade)](_0x329fbf(0x5eb)+_0x2a39e9[_0x528b7c],_0x329fbf(0x6da));});this[_0x21945a(0x2f8)]['includes'](_0x3cda78)||(this[_0x21945a(0x2f8)][_0x21945a(0x343)](_0x3cda78),localStorage[_0x21945a(0xade)](_0x21945a(0x5eb)+_0x3cda78,'true'));},this['globalObject'][_0x281606(0x56d)]=_0x107589=>{const _0x4ba374=_0x281606;if(!_0x107589||_0x107589===_0x2a39e9[_0x4ba374(0x70c)])return this[_0x4ba374(0x2f8)]=[],void Object['keys'](_0x2a39e9)[_0x4ba374(0x8fa)](_0x4a3e64=>{const _0x2b266b=_0x4ba374,_0x81a880=_0x4a3e64;localStorage['removeItem'](_0x2b266b(0x5eb)+_0x2a39e9[_0x81a880]);});this['enabledChannels']['includes'](_0x107589)&&(this['enabledChannels']=this[_0x4ba374(0x2f8)]['filter'](_0x55ef38=>_0x55ef38!==_0x107589),localStorage['removeItem'](_0x4ba374(0x5eb)+_0x107589));},this[_0x281606(0x5ad)][_0x281606(0x65f)]=_0x2a39e9;}static[_0x3035df(0x98c)](){const _0x41876f=_0x3035df;try{return _0xb8deec[_0x41876f(0xa28)]||(_0xb8deec[_0x41876f(0xa28)]=new _0xb8deec()),_0xb8deec['instance'];}catch(_0x5142f0){return console[_0x41876f(0xa29)]('Logger.getInstance',_0x5142f0),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x3035df(0x9ce)](_0x36b818){const _0x126ab7=_0x3035df;this['vendorId']=_0x36b818,this['batchQueue']=[],this[_0x126ab7(0x673)]=this[_0x126ab7(0x46e)](),this[_0x126ab7(0x971)]&&(clearTimeout(this[_0x126ab7(0x971)]),this['batchTimeout']=void 0x0);}['setLoggingConnectors'](_0x4a6577){const _0x4f9972=_0x3035df;this[_0x4f9972(0x9ed)]=_0x4a6577;}[_0x3035df(0x896)](_0x2ff00a,..._0x23b23d){const _0xdc88b0=_0x3035df;this[_0xdc88b0(0x57d)]&&this[_0xdc88b0(0x3e9)](_0x2a39e9[_0xdc88b0(0x43a)],_0xdc88b0(0xa91)+_0x2ff00a,..._0x23b23d);}['forceLog'](_0x1209a4,..._0x4ae1dd){const _0x480e2e=_0x3035df;console[_0x480e2e(0x3e9)](_0x1209a4,..._0x4ae1dd),this[_0x480e2e(0x9ed)]&&this[_0x480e2e(0x9ed)]['forEach'](_0x185831=>{const _0x5911ae=_0x480e2e;_0x185831[_0x5911ae(0x3e9)](_0x1209a4,{'vendorId':this[_0x5911ae(0x7c3)],'nodeId':'','nodeType':'','data':{..._0x4ae1dd}});});}[_0x3035df(0x3e9)](_0x255e18,_0x4988dc,..._0x330480){const _0x38436d=_0x3035df;_0x59f5be['isProduction']||(this[_0x38436d(0x2f8)]['includes'](_0x255e18)&&console[_0x38436d(0x3e9)]('Channel\x20\x27'+_0x255e18+'\x27\x0a',new Date()+'\x0a',_0x4988dc,..._0x330480),this[_0x38436d(0x9ed)]&&this[_0x38436d(0x9ed)]['forEach'](_0x1aecc6=>{const _0x4e7bba=_0x38436d;this[_0x4e7bba(0x64a)](_0x1aecc6)&&_0x1aecc6['getEnabledChannels']()[_0x4e7bba(0x7c4)](_0x255e18)&&_0x1aecc6[_0x4e7bba(0x3e9)](_0x4988dc,{'vendorId':this[_0x4e7bba(0x7c3)],'nodeId':'','nodeType':'','data':{'channel':_0x255e18,..._0x330480}});}));}[_0x3035df(0x714)](_0x5a6d0a,_0x1ad0a1,..._0x40d987){const _0x4a4ad1=_0x3035df;_0x59f5be['isProduction']||(this['enabledChannels']['includes'](_0x5a6d0a)&&console[_0x4a4ad1(0x3e9)](_0x1ad0a1,..._0x40d987),this[_0x4a4ad1(0x9ed)]&&this[_0x4a4ad1(0x9ed)]['forEach'](_0x525ac6=>{const _0x279dfc=_0x4a4ad1;this[_0x279dfc(0x64a)](_0x525ac6)&&_0x525ac6[_0x279dfc(0x254)]()[_0x279dfc(0x7c4)](_0x5a6d0a)&&_0x525ac6[_0x279dfc(0x3e9)](_0x1ad0a1,{'vendorId':this[_0x279dfc(0x7c3)],'nodeId':'','nodeType':'','data':{'channel':_0x5a6d0a,..._0x40d987}});}));}[_0x3035df(0x7df)](_0x647b79,_0x1f60db){const _0x3edaa2=_0x3035df;if(!this[_0x3edaa2(0x9ed)])return;const _0x5f1da0={'vendorId':this[_0x3edaa2(0x7c3)],..._0x1f60db};this[_0x3edaa2(0x9ed)]['forEach'](_0x379841=>{const _0x1909a2=_0x3edaa2;_0x379841[_0x1909a2(0x3e9)](_0x647b79,_0x5f1da0);});}['logServiceEvent'](_0x15a886,_0x462c0e){const _0x1d2a0d=_0x3035df;this[_0x1d2a0d(0x34a)](_0x15a886,_0x462c0e),this[_0x1d2a0d(0x386)]();}[_0x3035df(0x74b)](_0x5352c0,_0xd56580,_0x3ef7a3){const _0x3a4971=_0x3035df;(0x0,_0x3bf861[_0x3a4971(0x899)])((0x0,_0x3bf861['doc'])(_0x1d88af[_0x3a4971(0x26d)](),_0x3a4971(0x6e0)+this['vendorId']+'/'+_0x5352c0+'/'+_0xd56580),{'storage':_0x3ef7a3,'timestamp':(0x0,_0x3bf861[_0x3a4971(0xa44)])()});}[_0x3035df(0x386)](){const _0x526fb6=_0x3035df;this[_0x526fb6(0x673)]&&(this[_0x526fb6(0x673)][_0x526fb6(0x977)]+=0x1,this[_0x526fb6(0x673)][_0x526fb6(0x977)]===this['batchSize']?this['processBatch']():this[_0x526fb6(0x971)]||(this[_0x526fb6(0x971)]=this[_0x526fb6(0x5ad)][_0x526fb6(0x685)](()=>this[_0x526fb6(0x41f)](),this['timeoutValue'])));}async[_0x3035df(0x41f)](){const _0x121832=_0x3035df;if(this[_0x121832(0x673)]){for(this['batchQueue'][_0x121832(0x343)](this['currentBatch']),this['currentBatch']=this[_0x121832(0x46e)]();this['batchQueue'][_0x121832(0x68c)]>0x0;){const _0x71a3a9=this[_0x121832(0x871)][_0x121832(0x866)]();if(!await this[_0x121832(0x571)](_0x71a3a9))break;}clearTimeout(this[_0x121832(0x971)]),this['batchTimeout']=void 0x0;}}['error'](_0x2ae94c,_0x191720,..._0x4a63f6){const _0x3173ba=_0x3035df;if(console[_0x3173ba(0xa29)](new Date(),_0x2ae94c,_0x191720,..._0x4a63f6),this[_0x3173ba(0x9ed)]){const _0x19d566={'vendorId':this[_0x3173ba(0x7c3)],..._0x191720};this[_0x3173ba(0x9ed)][_0x3173ba(0x8fa)](_0xfd89c2=>{const _0x297a4a=_0x3173ba;_0xfd89c2[_0x297a4a(0xa29)](_0x2ae94c,_0x19d566);});}}[_0x3035df(0x97a)](_0x4d1491,_0xbafa09,..._0x4220da){const _0xbc1bdf=_0x3035df;if(console[_0xbc1bdf(0xa80)](new Date(),_0x4d1491,_0xbafa09,_0x4220da),this[_0xbc1bdf(0x9ed)]){const _0x110247={'vendorId':this[_0xbc1bdf(0x7c3)],..._0xbafa09};this[_0xbc1bdf(0x9ed)][_0xbc1bdf(0x8fa)](_0x36a3cd=>{const _0x428c1a=_0xbc1bdf;_0x36a3cd[_0x428c1a(0xa80)](_0x4d1491,_0x110247);});}}[_0x3035df(0x8a9)](_0x42c305){return this['enabledChannels']['includes'](_0x42c305);}async['commitBatch'](_0x5a3e11,_0x5be6a2=0x0){const _0x58ce99=_0x3035df;if(_0x5a3e11['counter']>0x0)try{return await _0x5a3e11['batch'][_0x58ce99(0x89a)](),!0x0;}catch(_0x351b87){if(console[_0x58ce99(0xa29)]('Error\x20committing\x20batch:',_0x351b87,'Operations:',_0x5a3e11[_0x58ce99(0xa67)]),!(_0x5be6a2<this['retryLimit'])){const {nodeId:_0x5d0e87='',nodeType:_0x2c4b29='',clusterId:_0x5e6f2a=''}=_0x5a3e11[_0x58ce99(0xa67)][0x0][_0x58ce99(0x937)],_0x3e0ae4={'nodeId':_0x5d0e87,'nodeType':_0x2c4b29,'clusterId':_0x5e6f2a,'data':{'operations':_0x5a3e11[_0x58ce99(0xa67)],'error':_0x351b87}};return this[_0x58ce99(0xa29)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x3e0ae4),!0x1;}{const _0x3691c3=this[_0x58ce99(0xa6a)](_0x5a3e11[_0x58ce99(0xa67)]);setTimeout(()=>this[_0x58ce99(0x571)](_0x3691c3,_0x5be6a2+0x1),this[_0x58ce99(0x655)]*Math['pow'](0x2,_0x5be6a2));}}}['loadEnabledChannels'](){const _0x25a96f=_0x3035df;try{Object[_0x25a96f(0x75b)](_0x2a39e9)[_0x25a96f(0x8fa)](_0x290cca=>{const _0x4b846e=_0x25a96f,_0x67b1a1=_0x290cca;localStorage[_0x4b846e(0x53c)](_0x4b846e(0x5eb)+_0x2a39e9[_0x67b1a1])&&(console[_0x4b846e(0x3e9)](_0x4b846e(0xa3d),_0x2a39e9[_0x67b1a1]),this[_0x4b846e(0x2f8)][_0x4b846e(0x343)](_0x2a39e9[_0x67b1a1]));});}catch(_0x4ab305){}}[_0x3035df(0x64a)](_0x3000a6){const _0xdce20e=_0x3035df;return void 0x0!==_0x3000a6[_0xdce20e(0x254)];}['createNewBatch'](){const _0x346534=_0x3035df;return{'batch':(0x0,_0x3bf861[_0x346534(0x6bf)])(_0x1d88af[_0x346534(0x26d)]()),'operations':[],'counter':0x0};}[_0x3035df(0xa6a)](_0x164920){const _0x150968=_0x3035df,_0x557941=(0x0,_0x3bf861['writeBatch'])(_0x1d88af[_0x150968(0x26d)]());return _0x164920[_0x150968(0x8fa)](_0xd1138f=>this[_0x150968(0x778)](_0x557941,_0xd1138f)),{'batch':_0x557941,'operations':_0x164920,'counter':_0x164920['length']};}[_0x3035df(0x778)](_0xaa1e4b,_0xaf75d2){const _0x3ca5ae=_0x3035df;switch(_0xaf75d2['type']){case _0x3ca5ae(0xac2):_0xaa1e4b[_0x3ca5ae(0xac2)](_0xaf75d2[_0x3ca5ae(0x62b)],_0xaf75d2[_0x3ca5ae(0x937)]);break;case _0x3ca5ae(0x7c9):_0xaa1e4b['update'](_0xaf75d2['ref'],_0xaf75d2[_0x3ca5ae(0x937)]);break;case _0x3ca5ae(0x72d):_0xaa1e4b[_0x3ca5ae(0x72d)](_0xaf75d2[_0x3ca5ae(0x62b)]);}}[_0x3035df(0x34a)](_0xb91e5e,_0x211e09){const _0xe72c73=_0x3035df;this['currentBatch']||(this[_0xe72c73(0x673)]=this[_0xe72c73(0x46e)]());const _0x1a2a7c=(0x0,_0x3bf861['doc'])((0x0,_0x3bf861[_0xe72c73(0x8b6)])(_0x1d88af[_0xe72c73(0x26d)](),_0xe72c73(0x6e0)+this[_0xe72c73(0x7c3)]+'/logs')),_0x2122b1={..._0x211e09,'service':_0xb91e5e,'timestamp':(0x0,_0x3bf861[_0xe72c73(0xa44)])()},_0x128d2c={'type':'set','path':_0x1a2a7c['path'],'ref':_0x1a2a7c,'data':_0x2122b1};return this[_0xe72c73(0x673)]['operations'][_0xe72c73(0x343)](_0x128d2c),this[_0xe72c73(0x778)](this[_0xe72c73(0x673)][_0xe72c73(0x46c)],_0x128d2c),_0x1a2a7c;}}const _0x5cdff6=_0xb8deec[_0x3035df(0x98c)]();function _0x3f97da(_0x5bb4a8,_0x1c7113){return'/'===_0x5bb4a8?_0x5bb4a8+_0x1c7113:_0x5bb4a8+'/'+_0x1c7113;}function _0x477a45(_0x54e05b){const _0xca4cd=_0x3035df,_0x51b397=function(_0x1fb9ff){const _0x43e981=a0_0x4922;return _0x1fb9ff['split']('/')[_0x43e981(0xab2)](_0x20791f=>_0x20791f[_0x43e981(0x68c)]>0x0);}(_0x54e05b),_0xcc3be4=_0x51b397[_0xca4cd(0x318)]()||'',_0xc15e85=_0x51b397['join']('/');return[0x0===_0xc15e85['length']?'/':_0xc15e85,_0xcc3be4];}async function _0x11e4dd(_0x3dbda9){const _0x39bb80=_0x3035df;let _0x348ef9;const _0x22c4cf=_0x3dbda9[_0x39bb80(0xadc)]/0x100000;_0x348ef9=_0x22c4cf<=0xa?0x1:_0x22c4cf<=0x64?0.5:_0x22c4cf<=0x1f4?0.1:0.05;const _0x56898e=Math[_0x39bb80(0x5b7)](_0x3dbda9[_0x39bb80(0xadc)]/_0xc45bc7),_0x1f1995=Math['ceil'](_0x56898e*_0x348ef9);let _0x3c504d=new Uint8Array();for(let _0x4e2226=0x0;_0x4e2226<_0x1f1995;_0x4e2226++){const _0x4cfb25=Math[_0x39bb80(0x22b)](_0x4e2226/_0x1f1995*_0x3dbda9['size']);let _0x469e46=_0x4cfb25+_0xc45bc7;_0x469e46>_0x3dbda9[_0x39bb80(0xadc)]&&(_0x469e46=_0x3dbda9[_0x39bb80(0xadc)]);const _0xa97174=_0x3dbda9[_0x39bb80(0x3c5)](_0x4cfb25,_0x469e46),_0x1a6d3f=await _0xa97174['arrayBuffer'](),_0x48847f=new Uint8Array([..._0x3c504d,...new Uint8Array(_0x1a6d3f)]);_0x3c504d=new Uint8Array(await crypto[_0x39bb80(0x30d)][_0x39bb80(0x602)](_0x39bb80(0x2bf),_0x48847f));}return Array['from'](new Uint8Array(_0x3c504d))[_0x39bb80(0x207)](_0x406cf9=>_0x406cf9['toString'](0x10)[_0x39bb80(0xace)](0x2,'0'))['join']('');}async function*_0x5eb0d5(_0x7cf965,_0x527479=0x0,_0x31fd43){const _0x216868=_0x3035df;let _0x484cdc=_0x527479*_0x306086,_0x3f42d3=_0x7cf965;for(;_0x484cdc<_0x3f42d3[_0x216868(0xadc)];){let _0x5bdbe6=_0x484cdc+_0x306086;_0x5bdbe6>_0x3f42d3[_0x216868(0xadc)]&&(_0x5bdbe6=_0x3f42d3[_0x216868(0xadc)]);let _0xd31f5=0x0;for(;_0xd31f5<0x14;)try{await _0x31fd43?.();const _0x31b580=_0x3f42d3[_0x216868(0x3c5)](_0x484cdc,_0x5bdbe6,'application/octet-stream'),_0x5c1c29=await _0x31b580[_0x216868(0x63a)]();yield _0x5c1c29,_0x484cdc=_0x5bdbe6,await new Promise(_0x496d0e=>setTimeout(_0x496d0e,0x0));break;}catch(_0x16c523){if(console[_0x216868(0xa29)](_0x216868(0x6d6)+(_0xd31f5+0x1)+_0x216868(0x59a),_0x16c523),_0xd31f5++,_0xd31f5>0x14)throw _0x16c523;let _0x17d916=0x3e8*Math[_0x216868(0x35b)](0x2,_0xd31f5);_0x17d916>0x7530&&(_0x17d916=0x7530),await new Promise(_0x2bc46c=>setTimeout(_0x2bc46c,_0x17d916));}}}class _0x3fc886 extends _0x8006ba{[_0x3035df(0x6fd)];[_0x3035df(0x72c)];[_0x3035df(0xa1a)]=new Map();[_0x3035df(0x2a1)]=0x0;['messagesReceived']=0x0;[_0x3035df(0x89b)]=0x0;['bytesReceived']=0x0;constructor(_0x1ea60b,_0x274538){super(_0x1ea60b,_0x274538);}[_0x3035df(0x59f)](){return this['label'];}[_0x3035df(0x502)](){const _0x8375f9=_0x3035df;return this[_0x8375f9(0x4de)];}[_0x3035df(0x8be)](){const _0x21cda5=_0x3035df;return _0x37e813[_0x21cda5(0x859)][_0x21cda5(0x51e)];}['getInternalStreamId'](){const _0x2084c8=_0x3035df;return this[_0x2084c8(0x4de)];}[_0x3035df(0x4d8)](_0x702f9a){const _0x9a5317=_0x3035df;if(this[_0x9a5317(0x6fd)])throw new _0x891088(_0x891088['codes'][_0x9a5317(0x3fd)],{'message':_0x9a5317(0x8db)+this[_0x9a5317(0xa41)]['getId']()+_0x9a5317(0x810)+this[_0x9a5317(0x4de)],'topic':this[_0x9a5317(0x6fd)]});this[_0x9a5317(0x6fd)]=_0x702f9a;}['registerSubscriber'](_0x310b61){const _0x9de4cb=_0x3035df;if(this[_0x9de4cb(0x72c)])throw new _0x891088(_0x891088[_0x9de4cb(0x5fb)][_0x9de4cb(0x865)],{'message':_0x9de4cb(0x44f)+this[_0x9de4cb(0xa41)][_0x9de4cb(0x6cd)]()+_0x9de4cb(0x810)+this[_0x9de4cb(0x4de)],'topic':this[_0x9de4cb(0x72c)]});this[_0x9de4cb(0x72c)]=_0x310b61;}[_0x3035df(0x5f9)](){const _0x112492=_0x3035df;delete this[_0x112492(0x6fd)];}['unregisterSubscriber'](){const _0x15e836=_0x3035df;delete this[_0x15e836(0x72c)];}async['send'](_0x2d6e49,_0x565444){const _0x37219d=_0x3035df;if(_0x5cdff6[_0x37219d(0x3e9)](_0x2a39e9[_0x37219d(0xb1b)],_0x37219d(0x43b),this[_0x37219d(0xa41)][_0x37219d(0x6cd)](),_0x2d6e49,_0x565444),this['messagesSent']+=0x1,_0x2d6e49 instanceof File){const _0x53d771=await async function(_0x348a33){const _0x473f7c=_0x37219d,_0x50b7ba=[];for await(const _0x3f36ef of _0x5eb0d5(_0x348a33))_0x50b7ba[_0x473f7c(0x343)](_0x3f36ef);return _0x50b7ba;}(_0x2d6e49);return this[_0x37219d(0x89b)]+=_0x53d771[_0x37219d(0x2fc)]((_0x4ed70e,_0x599e74)=>_0x4ed70e+_0x599e74[_0x37219d(0x48f)],0x0),void _0x53d771[_0x37219d(0x8fa)]((_0xb73b78,_0xfe5e23)=>{const _0x581c4a=_0x37219d;this[_0x581c4a(0x6fd)][_0x581c4a(0xa4f)]({'sourceId':this[_0x581c4a(0xa41)]['getId'](),'destinationIds':_0x565444,'propagate':!0x0,'contentType':_0x37e813['ContentType']['File'],'content':{'name':_0x2d6e49[_0x581c4a(0x72a)],'type':_0x2d6e49[_0x581c4a(0x48b)],'data':_0xb73b78,'index':_0xfe5e23,'total':_0x53d771[_0x581c4a(0x68c)]}});});}this[_0x37219d(0x89b)]+=JSON[_0x37219d(0x83d)](_0x2d6e49)[_0x37219d(0x68c)],this[_0x37219d(0x6fd)][_0x37219d(0xa4f)]({'sourceId':this['owner'][_0x37219d(0x6cd)](),'destinationIds':_0x565444,'propagate':!0x0,'contentType':_0x37e813[_0x37219d(0x859)]['Data'],'content':_0x2d6e49});}[_0x3035df(0xb18)](_0x3b2dda){const _0xffabb9=_0x3035df;return this[_0xffabb9(0x72c)][_0xffabb9(0x3bd)](_0x107942=>{const _0x4a13b5=_0xffabb9;switch(_0x5cdff6[_0x4a13b5(0x3e9)](_0x2a39e9[_0x4a13b5(0xb1b)],_0x4a13b5(0x7f7),this['owner'][_0x4a13b5(0x6cd)](),_0x107942),_0x107942[_0x4a13b5(0x94b)]){case _0x37e813[_0x4a13b5(0x859)][_0x4a13b5(0x51e)]:this[_0x4a13b5(0x4dd)]+=0x1,this[_0x4a13b5(0x824)]+=JSON[_0x4a13b5(0x83d)](_0x107942[_0x4a13b5(0x1f0)])['length'],_0x3b2dda(_0x107942[_0x4a13b5(0x545)],_0x107942[_0x4a13b5(0x1f0)]);break;case _0x37e813[_0x4a13b5(0x859)][_0x4a13b5(0x474)]:this['fileChunks'][_0x4a13b5(0x5e8)](_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x72a)])||this[_0x4a13b5(0xa1a)][_0x4a13b5(0xac2)](_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x72a)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x4a668b=this['fileChunks']['get'](_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x72a)]);if(_0x4a668b[_0x4a13b5(0x99c)]+=0x1,_0x4a668b[_0x4a13b5(0x824)]+=_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x937)]['byteLength'],_0x4a668b[_0x4a13b5(0x1f0)]&&(_0x4a668b[_0x4a13b5(0x1f0)][_0x107942['content'][_0x4a13b5(0x4fa)]]=_0x107942[_0x4a13b5(0x1f0)]['data']),this[_0x4a13b5(0xa1a)][_0x4a13b5(0xac2)](_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x72a)],_0x4a668b),_0x4a668b['chunksReceived']+0x1<_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x400)])return;this[_0x4a13b5(0x4dd)]+=0x1,this[_0x4a13b5(0x824)]+=_0x4a668b['bytesReceived'],_0x4a668b['content']&&_0x3b2dda(_0x107942[_0x4a13b5(0x545)],(_0x2c9095=_0x4a668b[_0x4a13b5(0x1f0)],_0x2e3008=_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x72a)],_0x76fe5f=_0x107942[_0x4a13b5(0x1f0)]['type'],new File(_0x2c9095,_0x2e3008,{'type':_0x76fe5f}))),this[_0x4a13b5(0xa1a)][_0x4a13b5(0x72d)](_0x107942[_0x4a13b5(0x1f0)][_0x4a13b5(0x72a)]);}var _0x2c9095,_0x2e3008,_0x76fe5f;});}}function _0x55a9d1(){let _0x50c2de=[];return{'subscribe':_0x5c1a20=>(_0x50c2de['push'](_0x5c1a20),()=>{_0x50c2de=_0x50c2de['filter'](_0x3444f7=>_0x3444f7!==_0x5c1a20);}),'publish':_0x52e610=>{const _0x40a151=a0_0x4922;_0x50c2de[_0x40a151(0x8fa)](_0x14fa17=>_0x14fa17(_0x52e610));}};}function _0x61647d(){let _0x2f1d99;return{'subscribe':_0x247693=>(_0x2f1d99=_0x247693,()=>{_0x2f1d99=void 0x0;}),'publish':_0x389f71=>{_0x2f1d99&&_0x2f1d99(_0x389f71);}};}class _0x473379{[_0x3035df(0xae8)];[_0x3035df(0x630)];[_0x3035df(0x6a6)];[_0x3035df(0x86a)]=_0x61647d();[_0x3035df(0x6b3)];constructor(_0x465da4,_0x3652bc,_0x2900c9){const _0x3ab3a9=_0x3035df;this['connector']=_0x465da4,this[_0x3ab3a9(0x630)]=_0x3652bc,this[_0x3ab3a9(0x6a6)]=_0x2900c9;}[_0x3035df(0x7ab)](){const _0x4b5192=_0x3035df;this[_0x4b5192(0x6b3)]?.();}async[_0x3035df(0x557)](_0xc95b8a){const _0x68f300=_0x3035df,_0x37f202={'key':_0xc95b8a,'tableName':this[_0x68f300(0x630)],'action':_0x15eb62[_0x68f300(0x9f0)]};return this[_0x68f300(0x6a6)][_0x68f300(0xa4f)](_0x37f202),this[_0x68f300(0xae8)][_0x68f300(0x557)](_0xc95b8a);}async['set'](_0x1539a9,_0x75f5f9,_0x17cc7e=!0x0){const _0x1978e1=_0x3035df;this[_0x1978e1(0x32d)](_0x75f5f9);const _0x47198a=await this['connector'][_0x1978e1(0x557)](_0x1539a9),_0x461083=await this[_0x1978e1(0xae8)][_0x1978e1(0xac2)](_0x1539a9,_0x75f5f9),_0x528c70=_0x47198a?_0x34bcc8['Update']:_0x34bcc8[_0x1978e1(0x8d5)];if(this[_0x1978e1(0xa4f)](_0x528c70,_0x461083),!_0x17cc7e)return _0x461083;const _0x360316={'key':_0x1539a9,'tableName':this[_0x1978e1(0x630)],'action':_0x528c70,'value':_0x461083};return this[_0x1978e1(0x6a6)]['publish'](_0x360316),_0x461083;}async[_0x3035df(0x784)](_0x39780e){const _0x5dc853=_0x3035df;this[_0x5dc853(0x32d)](_0x39780e);const _0xc11d4d=await this[_0x5dc853(0xae8)][_0x5dc853(0x784)](_0x39780e),_0x480aee={'key':_0xc11d4d['id'],'tableName':this[_0x5dc853(0x630)],'action':_0x34bcc8['Add'],'value':_0xc11d4d};return this[_0x5dc853(0x6a6)][_0x5dc853(0xa4f)](_0x480aee),this[_0x5dc853(0xa4f)](_0x480aee[_0x5dc853(0x702)],_0xc11d4d),_0xc11d4d;}async[_0x3035df(0x72d)](_0x58a260,_0x139b93=!0x0){const _0xc402e3=_0x3035df,_0x52f0ed=await this[_0xc402e3(0xae8)][_0xc402e3(0x557)](_0x58a260);if(!_0x52f0ed)return;await this[_0xc402e3(0xae8)][_0xc402e3(0x72d)](_0x58a260);const _0x173d06=_0x34bcc8[_0xc402e3(0xa6e)];if(this[_0xc402e3(0xa4f)](_0x173d06,_0x52f0ed),!_0x139b93)return;const _0x457997={'key':_0x58a260,'tableName':this['tableName'],'action':_0x173d06,'value':_0x52f0ed};this[_0xc402e3(0x6a6)][_0xc402e3(0xa4f)](_0x457997);}async[_0x3035df(0x599)](){const _0x4e6fb4=_0x3035df,_0x3ebca0=await this['list']();for(const _0x48d3b3 of _0x3ebca0){const _0x231b2=_0x34bcc8['Delete'];this[_0x4e6fb4(0xa4f)](_0x231b2,_0x48d3b3);const _0x33d0af={'key':_0x48d3b3['id'],'tableName':this[_0x4e6fb4(0x630)],'action':_0x231b2,'value':_0x48d3b3};this['tableObserver']['publish'](_0x33d0af);}return this[_0x4e6fb4(0xae8)]['clear']();}async[_0x3035df(0xa6c)](_0x202a07){const _0x493cc5=_0x3035df,_0x4ac58c={'key':'','tableName':this[_0x493cc5(0x630)],'action':_0x15eb62['List']};this['tableObserver']['publish'](_0x4ac58c);try{_0x202a07&&(_0x202a07=_0x202a07 instanceof _0x242cdc?_0x202a07['getQuery']():_0x242cdc['buildQuery'](_0x202a07)[_0x493cc5(0x83f)]());}catch(_0x51be92){throw new _0x2758ff(_0x1e2529[_0x493cc5(0xa43)],_0x493cc5(0x777));}try{return await this['connector'][_0x493cc5(0xa6c)](_0x202a07);}catch(_0x5ce83b){let _0x1bf95f='Invalid\x20query';throw _0x5ce83b instanceof Error&&(_0x1bf95f=_0x5ce83b[_0x493cc5(0x2d0)]),new _0x2758ff(_0x1e2529[_0x493cc5(0xa43)],_0x1bf95f);}}async['count'](_0x4e4434){const _0x16516b=_0x3035df,_0x1f9b6c={'key':'','tableName':this[_0x16516b(0x630)],'action':_0x15eb62[_0x16516b(0x355)]};this[_0x16516b(0x6a6)][_0x16516b(0xa4f)](_0x1f9b6c);try{_0x4e4434&&(_0x4e4434=_0x4e4434 instanceof _0x242cdc?_0x4e4434['getQuery']():_0x242cdc['buildQuery'](_0x4e4434)[_0x16516b(0x83f)]());}catch(_0x8b810){throw new _0x2758ff(_0x1e2529[_0x16516b(0xa43)],_0x16516b(0x777));}try{return await this[_0x16516b(0xae8)][_0x16516b(0x5e5)](_0x4e4434);}catch(_0x1abf3a){let _0x507625='Invalid\x20query';throw _0x1abf3a instanceof Error&&(_0x507625=_0x1abf3a[_0x16516b(0x2d0)]),new _0x2758ff(_0x1e2529[_0x16516b(0xa43)],_0x507625);}}[_0x3035df(0x3c6)](){const _0x63179a=_0x3035df;return this[_0x63179a(0xae8)][_0x63179a(0x3c6)]();}[_0x3035df(0x3bd)](_0x3f59b8){const _0x16db28=_0x3035df;this[_0x16db28(0x6b3)]=this[_0x16db28(0x86a)][_0x16db28(0x3bd)](_0x3f59b8);}['unsubscribe'](){this['listenerUnsubscriber']?.();}[_0x3035df(0xa4f)](_0xa6f444,_0x26e48b){const _0x102426=_0x3035df,_0x271666=this[_0x102426(0x819)](_0xa6f444,_0x26e48b);this[_0x102426(0x86a)][_0x102426(0xa4f)](_0x271666);}[_0x3035df(0x819)](_0x167a82,_0xacbdd6){const _0x48d6cf=_0x3035df;let _0x2a8a27;switch(_0x167a82){case _0x34bcc8[_0x48d6cf(0x8d5)]:_0x2a8a27=_0x48d6cf(0x784);break;case _0x34bcc8['Update']:_0x2a8a27=_0x48d6cf(0x7c9);break;case _0x34bcc8[_0x48d6cf(0xa6e)]:_0x2a8a27=_0x48d6cf(0x72d);}return{'action':_0x2a8a27,'value':_0xacbdd6};}['validateValue'](_0x37fe8f){const _0x4da0af=_0x3035df;if(_0x4da0af(0x7dc)!=typeof _0x37fe8f||null===_0x37fe8f)throw new _0x2758ff(_0x1e2529[_0x4da0af(0x7ea)],_0x4da0af(0x587));for(const _0x154c51 in _0x37fe8f){const _0x1f3caa=_0x37fe8f[_0x154c51];if(_0x4da0af(0x7dc)!=typeof _0x1f3caa||_0x1f3caa instanceof Date){if(![_0x4da0af(0x395),_0x4da0af(0x483),_0x4da0af(0x7cb)][_0x4da0af(0x7c4)](typeof _0x1f3caa))throw new _0x2758ff(_0x1e2529[_0x4da0af(0x7ea)],_0x4da0af(0x2ab)+_0x154c51+_0x4da0af(0xa10));}else this[_0x4da0af(0x32d)](_0x1f3caa);}}}class _0x29c652{['peaks']=[];[_0x3035df(0x6b5)]=0x0;[_0x3035df(0x60e)]=[];[_0x3035df(0x3bb)]=!0x1;[_0x3035df(0x9e5)]=null;['rootComputationPromise']=null;[_0x3035df(0x29b)];[_0x3035df(0x942)]=null;[_0x3035df(0x6f0)]=[];[_0x3035df(0x99e)];[_0x3035df(0x3ef)]=Promise[_0x3035df(0x2df)]();[_0x3035df(0xa72)]=0x0;constructor(){}get['ready'](){const _0x3146a5=_0x3035df;return this[_0x3146a5(0x3ef)];}async[_0x3035df(0x5c3)](_0x478ee0,_0x38ccc5=0x0){const _0x3d3b98=_0x3035df;this[_0x3d3b98(0x942)]||(this[_0x3d3b98(0x3ef)]=new Promise(_0x1c127b=>{const _0x77263c=_0x3d3b98;this[_0x77263c(0x942)]=_0x1c127b;}),this[_0x3d3b98(0xa72)]=_0x38ccc5);const _0xb0e41e=Date['now']();if(this[_0x3d3b98(0x3bb)])return void this['transactionQueue'][_0x3d3b98(0x343)](_0x478ee0);this[_0x3d3b98(0x3bb)]=!0x0;let _0x2ba480={'hash':await this[_0x3d3b98(0x539)](_0x478ee0),'height':0x0};const _0x26aa19=this[_0x3d3b98(0x329)](_0x2ba480);this[_0x3d3b98(0x6f0)][_0x3d3b98(0x343)](_0x26aa19),await _0x26aa19,this[_0x3d3b98(0x6b5)]+=0x1;const _0x58fdea=this[_0x3d3b98(0x60e)][_0x3d3b98(0x68c)];for(;this[_0x3d3b98(0x60e)][_0x3d3b98(0x68c)]>0x0;){const _0x3201e8=this[_0x3d3b98(0x60e)][_0x3d3b98(0x866)]();await this[_0x3d3b98(0x5c3)](_0x3201e8);}this[_0x3d3b98(0x78e)](),await this[_0x3d3b98(0x287)],this['debounceAppendLog'](_0xb0e41e,_0x58fdea);}async[_0x3035df(0x4a3)](){const _0x3acf57=_0x3035df;return await this['_ready'],this['isComputingMMR']?(this[_0x3acf57(0x782)]||(this[_0x3acf57(0x782)]=this[_0x3acf57(0x30a)]()),await this[_0x3acf57(0x782)]):this[_0x3acf57(0x9e5)];}['getPeaks'](){const _0x2fe34b=_0x3035df;return this[_0x2fe34b(0xb15)]['map'](({hash:_0x74cd23,height:_0x2b0477})=>({'hash':_0x74cd23,'height':_0x2b0477}));}[_0x3035df(0x94f)](){return this['totalNodes'];}[_0x3035df(0x66a)](_0x4b0138){const _0x3a6d25=_0x3035df;return this[_0x3a6d25(0xb15)][_0x3a6d25(0x85d)](_0x65ee0b=>_0x65ee0b['height']===_0x4b0138);}async[_0x3035df(0x500)](_0x3a960e,_0x1b8dfe){const _0x2d3d40=_0x3035df;return await this[_0x2d3d40(0x6ac)](_0x3a960e+_0x1b8dfe);}async['hashTransaction'](_0x2d74d2){const _0x46f943=_0x3035df;return await this[_0x46f943(0x6ac)](JSON['stringify'](_0x2d74d2));}[_0x3035df(0x467)](_0x13707b){const _0xbbfd11=_0x3035df,_0x17dbf4=this[_0xbbfd11(0x561)](),_0x3f570f=[],_0x19cb08=[],_0x4f2070=[];for(const _0x2534c8 of _0x17dbf4){const _0x473356=_0x13707b[_0xbbfd11(0x85d)](_0x5e661c=>_0x5e661c[_0xbbfd11(0x965)]===_0x2534c8[_0xbbfd11(0x965)]);_0x473356?_0x2534c8[_0xbbfd11(0xafa)]!==_0x473356[_0xbbfd11(0xafa)]&&_0x3f570f[_0xbbfd11(0x343)]({'height':_0x2534c8[_0xbbfd11(0x965)],'localPeak':_0x2534c8,'remotePeak':_0x473356}):_0x19cb08[_0xbbfd11(0x343)](_0x2534c8);}for(const _0x3d5cf8 of _0x13707b)_0x17dbf4[_0xbbfd11(0x85d)](_0x21380d=>_0x21380d[_0xbbfd11(0x965)]===_0x3d5cf8[_0xbbfd11(0x965)])||_0x4f2070[_0xbbfd11(0x343)](_0x3d5cf8);return{'differingPeaks':_0x3f570f,'peaksMissingInRemote':_0x19cb08,'peaksMissingInLocal':_0x4f2070};}async[_0x3035df(0x30a)](){const _0xc79a6a=_0x3035df;this[_0xc79a6a(0x3bb)]=!0x0;const _0xcbbb84=this[_0xc79a6a(0xb15)][_0xc79a6a(0x207)](_0x590e41=>_0x590e41[_0xc79a6a(0xafa)]);return this[_0xc79a6a(0x9e5)]=await this[_0xc79a6a(0xa5e)](_0xcbbb84),this[_0xc79a6a(0x3bb)]=!0x1,this[_0xc79a6a(0x782)]=null,this[_0xc79a6a(0x78e)](),this[_0xc79a6a(0x9e5)];}async[_0x3035df(0x6ac)](_0x3dac91){const _0xeffc6=_0x3035df;try{const _0x3c9c25=new TextEncoder()[_0xeffc6(0x51c)](_0x3dac91),_0x5b8d7f=await crypto['subtle'][_0xeffc6(0x602)](_0xeffc6(0x2bf),_0x3c9c25);return Array[_0xeffc6(0x6a1)](new Uint8Array(_0x5b8d7f))[_0xeffc6(0x207)](_0x2c1567=>_0x2c1567[_0xeffc6(0xb10)](0x10)['padStart'](0x2,'0'))[_0xeffc6(0x95b)]('');}catch(_0x52fd2a){return console[_0xeffc6(0xa29)](_0xeffc6(0xaf8),_0x52fd2a),this[_0xeffc6(0x6ac)](_0x3dac91);}}async['hashPeakHashes'](_0x207426){const _0x11dfdf=_0x3035df;return await this[_0x11dfdf(0x6ac)](_0x207426[_0x11dfdf(0x95b)](''));}async[_0x3035df(0x329)](_0x130b66){const _0x147710=_0x3035df;for(;this['peaks'][_0x147710(0x68c)]>0x0&&this['peaks'][this[_0x147710(0xb15)][_0x147710(0x68c)]-0x1]['height']===_0x130b66['height'];){const _0x6a246f=this[_0x147710(0xb15)][_0x147710(0x318)]();_0x130b66={'hash':await this[_0x147710(0x500)](_0x6a246f[_0x147710(0xafa)],_0x130b66[_0x147710(0xafa)]),'left':_0x6a246f,'right':_0x130b66,'height':_0x130b66[_0x147710(0x965)]+0x1};}this[_0x147710(0xb15)][_0x147710(0x343)](_0x130b66),await this[_0x147710(0x30a)]();}[_0x3035df(0x4d7)](_0xceb041,_0x2ac7ba){const _0x47ec57=_0x3035df;if(!_0x5cdff6['isChannelEnabled'](_0x2a39e9[_0x47ec57(0xa04)]))return;this[_0x47ec57(0x29b)]&&clearTimeout(this[_0x47ec57(0x29b)]);const _0x5c074b=Date[_0x47ec57(0x6de)]();this['debounceLogTimeout']=setTimeout(()=>_0x5cdff6[_0x47ec57(0x3e9)](_0x2a39e9[_0x47ec57(0xa04)],_0x47ec57(0x46f),this[_0x47ec57(0x9e5)],_0x47ec57(0x618),this[_0x47ec57(0x94f)](),_0x47ec57(0x868),_0x2ac7ba,'time',_0x5c074b-_0xceb041),0x7d0);}['debounceReady'](){const _0x3d3707=_0x3035df;this['debounceReadyTimeout']&&clearTimeout(this[_0x3d3707(0x99e)]),this[_0x3d3707(0x99e)]=setTimeout(async()=>{const _0x200a13=_0x3d3707;try{const _0x25505f=this[_0x200a13(0x6f0)];if(this[_0x200a13(0x6f0)]=[],await Promise[_0x200a13(0x50f)](_0x25505f),this[_0x200a13(0xa72)]-=_0x25505f[_0x200a13(0x68c)],this[_0x200a13(0x6f0)]['length']>0x0||this['expectedTransactions']>0x0)return this['debounceReady']();this[_0x200a13(0x942)]&&(this[_0x200a13(0x942)](),this[_0x200a13(0x942)]=null),this['_ready']=Promise[_0x200a13(0x2df)](),this[_0x200a13(0x3bb)]=!0x1;}catch(_0x363967){console[_0x200a13(0xa29)](_0x200a13(0x4b7),_0x363967);}},0xa);}}const _0x267978=[_0x3035df(0x513),'Node','Content','Subscription','Stats','Detection',_0x3035df(0x718)],_0x409e1a=[[_0x3035df(0x5d9),'Answer',_0x3035df(0x5e6),_0x3035df(0x23c),'NeedRestart',_0x3035df(0x8e1),_0x3035df(0x8a3),_0x3035df(0x667),_0x3035df(0x5fe)],['NodeJoin','NodeUpdate','NodeConnectionsUpdate','NodeLeave'],[_0x3035df(0x603),_0x3035df(0x5ae),'CloseJobWorker',_0x3035df(0xa5f),'CloseKeyValueDatabase','CloseMediaStream',_0x3035df(0x7c1),_0x3035df(0xaa3),_0x3035df(0x413),_0x3035df(0x6b2),_0x3035df(0x75a),_0x3035df(0x536),_0x3035df(0x665),_0x3035df(0x203),_0x3035df(0x8d4),_0x3035df(0x5c8),_0x3035df(0x616),_0x3035df(0x7d2),_0x3035df(0x49f),'KeyValueDatabaseSyncRequired',_0x3035df(0x855),_0x3035df(0x834),_0x3035df(0x4f1),_0x3035df(0x887),_0x3035df(0xac5),'SubscribeMediaStream',_0x3035df(0x594),_0x3035df(0x4f4),_0x3035df(0x48e),'VectorDatabaseStats'],['SubscribeMediaStream',_0x3035df(0x48e),'UnsubscribeMediaStreamdiaStream',_0x3035df(0x319),'CannotProvideMediaStream',_0x3035df(0x88d)],['StreamReport',_0x3035df(0x852)],[_0x3035df(0x2d9)],[_0x3035df(0x718),_0x3035df(0x7a3)]];function _0x73b127(_0x4bd2bd){const _0x187e4f=_0x3035df;return{..._0x4bd2bd,'systemMessageType':_0x267978[_0x4bd2bd[_0x187e4f(0x82f)]],'systemContentMessageType':_0x409e1a[_0x4bd2bd[_0x187e4f(0x82f)]][_0x4bd2bd[_0x187e4f(0x1f0)][_0x187e4f(0x48b)]]};}const _0x51efa2={'hour':'2-digit','minute':'2-digit','second':_0x3035df(0x316)};function _0x504d2a(_0x431c3f,_0x4be55f){const _0x5b7e69=_0x3035df,_0x159c35=(function(){const _0x400de4=a0_0x4922,_0x14f2b5=new Date(),_0x133602=_0x14f2b5[_0x400de4(0x74a)](),_0x2ba03e=_0x14f2b5[_0x400de4(0x728)](_0x400de4(0xa09),_0x51efa2)[_0x400de4(0x3b5)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x2ba03e+'.'+(_0x133602>0x64?''+_0x133602:_0x133602>0xa?'0'+_0x133602:'00'+_0x133602);}()),{sourceId:_0x2cd489,destinationIds:_0xf0c5d4,systemMessageType:_0x107ff8,systemContentMessageType:_0x52c39f}=_0x73b127(_0x431c3f);return _0x159c35+_0x5b7e69(0x810)+_0x4be55f+_0x5b7e69(0x810)+(_0x2cd489===_0x4be55f?_0x5b7e69(0x49a)+_0x107ff8+_0x5b7e69(0x9f4)+(_0xf0c5d4?''+_0xf0c5d4:_0x5b7e69(0x654)):_0x431c3f['sourceId']===_0x8b8df?_0x5b7e69(0x68d)+_0x107ff8+'\x27':(_0xf0c5d4?'':_0x5b7e69(0xa12))+_0x5b7e69(0x877)+_0x107ff8+_0x5b7e69(0x8af)+_0x2cd489)+_0x5b7e69(0x43c)+_0x52c39f+_0x5b7e69(0x680);}function _0x1d8a4a(_0x5dce1a,_0x4940c7){const _0x328fc4=_0x3035df;if(!_0x5cdff6[_0x328fc4(0x8a9)](_0x5dce1a))return;if(_0x59f5be['isProduction'])return;if(_0x328fc4(0x582)==typeof process)return;const _0xf9f4ed=process[_0x328fc4(0x563)]();console[_0x328fc4(0x3e9)]('Memory\x20Usage\x20at\x20'+_0x4940c7+':');for(const _0x26a724 in _0xf9f4ed)console['log']('\x20\x20'+_0x26a724+':\x20'+(_0xf9f4ed[_0x26a724]/0x400/0x400)[_0x328fc4(0x5c0)](0x2)+_0x328fc4(0x698));}function _0x1af329(_0x136452,_0x5187f1){const _0x494eaf=_0x3035df;if(!_0x5cdff6[_0x494eaf(0x8a9)](_0x5187f1))return _0x5cdff6[_0x494eaf(0x896)](_0x494eaf(0x6b4)+_0x5187f1),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x3ffbff,_0x169f33)=>_0x169f33}};let _0x58eeef=0x0;return{'timingLogger':((()=>{const _0x1cdd9f=_0x494eaf;let _0x524e49=Date[_0x1cdd9f(0x6de)]();return{'start':()=>{const _0x34e4cb=_0x1cdd9f;_0x524e49=Date[_0x34e4cb(0x6de)]();},'now':()=>Date[_0x1cdd9f(0x6de)](),'logWaitTime':_0x5648c0=>{const _0x17eb75=_0x1cdd9f;_0x58eeef+=Date[_0x17eb75(0x6de)]()-_0x524e49,_0x5cdff6[_0x17eb75(0x3e9)](_0x5187f1,_0x5648c0,_0x58eeef+'ms',_0x136452);}};})()),'logger':{'log':(_0x25e88e,_0x394997=()=>{})=>{const _0x3a7cd8=_0x494eaf,_0x17a4d4=_0x394997();_0x17a4d4?_0x5cdff6[_0x3a7cd8(0x3e9)](_0x5187f1,_0x25e88e,_0x17a4d4,_0x136452):_0x5cdff6['log'](_0x5187f1,_0x25e88e,_0x136452);},'performCalculation':(_0x347c86,_0x2dffd6)=>_0x347c86()}};}function _0x42b74f(_0x1c4211){const _0x50a5c7=_0x3035df;return _0x50a5c7(0x582)==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0x50a5c7(0x83d)](_0x1c4211),_0x50a5c7(0x77d));}function _0x1ec463(_0x3aff0d){const _0x4ba6f4=_0x3035df;if(0x0===_0x3aff0d)return _0x4ba6f4(0x3d6);const _0x3b67b6=Math[_0x4ba6f4(0x22b)](Math[_0x4ba6f4(0x3e9)](_0x3aff0d)/Math['log'](0x400));return parseFloat((_0x3aff0d/Math[_0x4ba6f4(0x35b)](0x400,_0x3b67b6))[_0x4ba6f4(0x5c0)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x3b67b6];}class _0x20f69f extends _0x3fc886{[_0x3035df(0x8f4)];['clusterId'];[_0x3035df(0x7c3)];['isNodeReady'];['db'];[_0x3035df(0x8c0)];[_0x3035df(0x827)]=new Map();['tableObserver'];[_0x3035df(0x99b)];[_0x3035df(0x445)];[_0x3035df(0xacb)];[_0x3035df(0x84c)];['transactionsToSync']=[];[_0x3035df(0x6fa)]=()=>{};['syncTimeout'];[_0x3035df(0x86a)]=_0x61647d();[_0x3035df(0x6b3)];['syncTransactionsWritten']=[];[_0x3035df(0x72b)];[_0x3035df(0x932)];['writes']=0x0;['reads']=0x0;[_0x3035df(0x283)]=!0x1;[_0x3035df(0x7fa)]=new _0x29c652();[_0x3035df(0x8ad)]=new Map();[_0x3035df(0x5ac)]=[];[_0x3035df(0x5b0)];[_0x3035df(0x785)]=[];['loggingCycle'];constructor(_0x297ad1,_0x552bee,_0x59e2a9,_0x1d44a5,_0x351b15,_0x31e1f4,_0x507ac0){const _0x46d187=_0x3035df;if(_0x46d187(0x395)!=typeof _0x552bee)throw new _0x2758ff(_0x1e2529[_0x46d187(0x38d)],_0x46d187(0x3f1));if(super(_0x297ad1,_0x552bee),this[_0x46d187(0x8f4)]=_0x297ad1,this['clusterId']=_0x59e2a9,this[_0x46d187(0x7c3)]=_0x1d44a5,this[_0x46d187(0x433)]=_0x507ac0,this['dbKey']=_0x46d187(0x402)+this['vendorId']+_0x46d187(0x402)+this['clusterId']+'ccc'+this['label'],this['tableObserver']=_0x61647d(),this[_0x46d187(0x5a8)]=function(_0x559eae,_0x4542ea){const _0x2f6bca=_0x46d187;if(!_0x5cdff6[_0x2f6bca(0x8a9)](_0x4542ea))return _0x5cdff6[_0x2f6bca(0x896)](_0x2f6bca(0x6b4)+_0x4542ea),{..._0x1af329(_0x559eae,_0x4542ea),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x2f6bca(0x3d6),'dataReceived':_0x2f6bca(0x3d6)})};const {timingLogger:_0x1c2428,logger:_0x4db135}=_0x1af329(_0x559eae,_0x4542ea);let _0x7b8fae=0x0,_0x1805cf=0x0;return{'timingLogger':_0x1c2428,'logger':_0x4db135,'logDataSent':(_0x55e4a1,_0x14a119=!0x1)=>{const _0x319388=_0x42b74f(_0x55e4a1);return _0x14a119&&_0x5cdff6['log'](_0x4542ea,'Data\x20Sent',_0x559eae,_0x319388),_0x7b8fae+=_0x319388,_0x319388;},'logDataReceived':(_0x2048e0,_0x34e209=!0x1)=>{const _0x2c7da6=_0x2f6bca,_0x1ec8d7=_0x42b74f(_0x2048e0);return _0x34e209&&_0x5cdff6[_0x2c7da6(0x3e9)](_0x4542ea,'Data\x20Received',_0x559eae,_0x1ec8d7),_0x1805cf+=_0x1ec8d7,_0x1ec8d7;},'getDataLogged':()=>({'dataSent':_0x1ec463(_0x7b8fae),'dataReceived':_0x1ec463(_0x1805cf)})};}(this['label'],_0x2a39e9[_0x46d187(0xa04)]),this[_0x46d187(0xacb)]=new Promise(_0x24977d=>{const _0x256a28=_0x46d187;this[_0x256a28(0x84c)]=_0x24977d;}),_0x351b15 instanceof _0x231565)this[_0x46d187(0x72b)]=_0x351b15[_0x46d187(0x74c)]();else{const [_0x243504,_0x5ef3e2]=_0x231565['validateLayout'](_0x351b15);if(!_0x243504)throw new _0x2758ff(_0x1e2529[_0x46d187(0xa5a)],_0x46d187(0x2da)+_0x5ef3e2);this['layout']=structuredClone(_0x351b15);}this[_0x46d187(0x84d)](this['layout']),this['db']=new _0x31e1f4(this['dbKey'],this[_0x46d187(0x72b)]),this['sendStats']();}async[_0x3035df(0x681)](_0xfbd756,_0x1dfb58){const _0x36959a=_0x3035df;if(_0x5cdff6[_0x36959a(0x3e9)](_0x2a39e9[_0x36959a(0xa04)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x36959a(0x4de)]),!this[_0x36959a(0x99b)])throw new _0x891088(_0x891088[_0x36959a(0x5fb)][_0x36959a(0xac4)]);if(await this[_0x36959a(0xacb)],await this[_0x36959a(0x433)](_0xfbd756),await this['mmr'][_0x36959a(0x4a3)]()===_0x1dfb58){const _0x10c6b5={'sourceId':this[_0x36959a(0x8f4)][_0x36959a(0x6cd)](),'destinationIds':[_0xfbd756],'propagate':!0x0,'messageType':_0x160b40[_0x36959a(0x240)],'content':{'type':_0x41c383[_0x36959a(0x8d4)],'label':this['label'],'mmrRoot':_0x1dfb58}};return this[_0x36959a(0x5a8)]['logDataSent'](_0x10c6b5),void this['systemTopic']['publish'](_0x10c6b5);}const _0x2f34e9=this[_0x36959a(0x7fa)][_0x36959a(0x561)](),_0x176771={'sourceId':this['localNode'][_0x36959a(0x6cd)](),'destinationIds':[_0xfbd756],'propagate':!0x0,'messageType':_0x160b40[_0x36959a(0x240)],'content':{'type':_0x41c383[_0x36959a(0x203)],'label':this['label'],'peaks':_0x2f34e9}};this[_0x36959a(0x5a8)][_0x36959a(0x8c2)](_0x176771),this['systemTopic'][_0x36959a(0xa4f)](_0x176771);}async[_0x3035df(0x2ed)](_0x3c01c3,_0x473005){const _0x5cbe4e=_0x3035df,_0x7e8e5b=await this['mmr'][_0x5cbe4e(0x4a3)](),_0x532639=_0x7e8e5b===_0x473005;if(_0x5cdff6[_0x5cbe4e(0x3e9)](_0x2a39e9[_0x5cbe4e(0xa04)],_0x5cbe4e(0x9c5)+_0x3c01c3+_0x5cbe4e(0x2f9)+_0x532639,this['label']),_0x532639)return this[_0x5cbe4e(0x926)](),void this[_0x5cbe4e(0x906)]();_0x5cdff6[_0x5cbe4e(0x3e9)](_0x2a39e9[_0x5cbe4e(0xa04)],_0x5cbe4e(0x7fe),_0x7e8e5b,_0x473005),_0x5cdff6[_0x5cbe4e(0x97a)](_0x5cbe4e(0x7fe),{'nodeId':this[_0x5cbe4e(0x8f4)]['getId'](),'nodeType':this[_0x5cbe4e(0x8f4)]['type'],'remoteId':_0x3c01c3,'data':{'localMMRRoot':_0x7e8e5b,'remoteMMRRoot':_0x473005}});const _0x28d483={'sourceId':this['localNode'][_0x5cbe4e(0x6cd)](),'messageType':_0x160b40['Content'],'propagate':!0x0,'content':{'type':_0x41c383['KeyValueDatabaseSyncRequired'],'label':this[_0x5cbe4e(0x4de)],'mmrRoot':_0x7e8e5b}};this[_0x5cbe4e(0x31b)][_0x5cbe4e(0xa4f)](_0x28d483);}async[_0x3035df(0xac1)](_0x15f266,_0x5f05a4){const _0x2817f1=_0x3035df;if(_0x5cdff6[_0x2817f1(0x3e9)](_0x2a39e9[_0x2817f1(0xa04)],_0x2817f1(0x33f),_0x15f266,'label',this['label'],'peaks',_0x5f05a4),this[_0x2817f1(0x283)])return;this['contentRequestSent']=!0x0,this[_0x2817f1(0x926)]();const {differingPeaks:_0x453a34,peaksMissingInLocal:_0x1c3fb1,peaksMissingInRemote:_0x4dce18}=this[_0x2817f1(0x7fa)][_0x2817f1(0x467)](_0x5f05a4);_0x5cdff6[_0x2817f1(0x3e9)](_0x2a39e9[_0x2817f1(0xa04)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0x453a34,'peaksMissingInLocal':_0x1c3fb1,'peaksMissingInRemote':_0x4dce18});const _0x243f95={'sourceId':this[_0x2817f1(0x8f4)]['getId'](),'destinationIds':[_0x15f266],'propagate':!0x0,'messageType':_0x160b40[_0x2817f1(0x240)],'content':{'type':_0x41c383[_0x2817f1(0x5c8)],'label':this[_0x2817f1(0x4de)],'peakHeights':_0x1c3fb1[_0x2817f1(0x207)](_0x4033af=>_0x4033af[_0x2817f1(0x965)])[_0x2817f1(0x20a)](_0x453a34[_0x2817f1(0x207)](_0x21fb4e=>_0x21fb4e[_0x2817f1(0x965)]))}};if(this['systemTopic'][_0x2817f1(0xa4f)](_0x243f95),_0x453a34[_0x2817f1(0x68c)]>0x0||_0x4dce18[_0x2817f1(0x68c)]>0x0){const _0x4967ee=_0x4dce18[_0x2817f1(0x207)](_0x5cdded=>_0x5cdded[_0x2817f1(0x965)])[_0x2817f1(0x20a)](_0x453a34[_0x2817f1(0x207)](_0x2fecf4=>_0x2fecf4[_0x2817f1(0x965)]));await this[_0x2817f1(0x9b3)](_0x15f266,_0x4967ee,!0x0);}}async[_0x3035df(0x9b3)](_0x752b57,_0x3092b4,_0x961175=!0x1){const _0x34da3c=_0x3035df;_0x5cdff6['log'](_0x2a39e9[_0x34da3c(0xa04)],_0x34da3c(0x6fe),this[_0x34da3c(0x4de)]);const _0x2e6fc3=_0x3092b4[_0x34da3c(0x207)](_0x2f2631=>this[_0x34da3c(0x7fa)]['getPeakNode'](_0x2f2631))[_0x34da3c(0xab2)](Boolean);if(!_0x2e6fc3[_0x34da3c(0x68c)]||_0x3092b4[_0x34da3c(0x68c)]!==_0x2e6fc3[_0x34da3c(0x68c)])throw new _0x891088(_0x891088['codes'][_0x34da3c(0xa16)],{'message':_0x34da3c(0x439),'peakHeights':_0x3092b4,'peaks':_0x2e6fc3[_0x34da3c(0x207)](_0x52aaa3=>_0x52aaa3[_0x34da3c(0x965)]),'nodeId':_0x752b57});const _0x53cf07=[];for(const _0x2944b5 of _0x2e6fc3)this[_0x34da3c(0x762)](_0x2944b5,_0x53cf07);const _0x3d552d=_0x961175?void 0x0:[_0x752b57],_0x1c67e8={'sourceId':this[_0x34da3c(0x8f4)]['getId'](),'destinationIds':_0x3d552d,'messageType':_0x160b40[_0x34da3c(0x240)],'propagate':!0x0,'content':{'type':_0x41c383['KeyValueDatabaseSendTransactions'],'label':this['label'],'transactions':_0x53cf07}};this[_0x34da3c(0x5a8)][_0x34da3c(0x8c2)](_0x1c67e8),this['systemTopic'][_0x34da3c(0xa4f)](_0x1c67e8);}async[_0x3035df(0x5c9)](_0x17ce7b,_0x1f24b8){const _0x17bf4d=_0x3035df;_0x5cdff6[_0x17bf4d(0x3e9)](_0x2a39e9['KeyValueDatabase'],_0x17bf4d(0x24f)+_0x1f24b8['length']+_0x17bf4d(0x835)+_0x17ce7b+_0x17bf4d(0x810)+this[_0x17bf4d(0x4de)]);for(const _0x9fa6d1 of _0x1f24b8){const _0x37423f=await this[_0x17bf4d(0x99b)][_0x17bf4d(0x557)](_0x9fa6d1['id']);if(!(_0x37423f&&this[_0x17bf4d(0x8c8)](_0x37423f,_0x9fa6d1)>=0x0)){if(_0x9fa6d1[_0x17bf4d(0x702)]===_0x34bcc8[_0x17bf4d(0xa6e)]){const [_0x34cc06,_0x332a13]=_0x9fa6d1['id'][_0x17bf4d(0x27a)]('::'),_0x1b5a01=this[_0x17bf4d(0x50c)](_0x34cc06);await _0x1b5a01['delete'](_0x332a13);}else this[_0x17bf4d(0x309)]['push'](_0x9fa6d1['id']);}}if(_0x5cdff6[_0x17bf4d(0x3e9)](_0x2a39e9[_0x17bf4d(0xa04)],'Found\x20'+this[_0x17bf4d(0x309)][_0x17bf4d(0x68c)]+'\x20new\x20transactions',this[_0x17bf4d(0x4de)]),this[_0x17bf4d(0x309)]['length']>0x0){const _0x41f910={'sourceId':this[_0x17bf4d(0x8f4)]['getId'](),'destinationIds':[_0x17ce7b],'messageType':_0x160b40[_0x17bf4d(0x240)],'propagate':!0x0,'content':{'type':_0x41c383[_0x17bf4d(0x616)],'label':this['label'],'transactionIds':this['transactionsToSync']}};this['loggingCycle'][_0x17bf4d(0x8c2)](_0x41f910),this[_0x17bf4d(0x31b)][_0x17bf4d(0xa4f)](_0x41f910);}}[_0x3035df(0x98b)](){const _0x24ed77=_0x3035df;this[_0x24ed77(0x509)]();}[_0x3035df(0x8be)](){const _0x3fc3d9=_0x3035df;return _0x37e813[_0x3fc3d9(0x859)][_0x3fc3d9(0xa04)];}[_0x3035df(0x7ab)](){const _0x3d1eaf=_0x3035df;this['db'][_0x3d1eaf(0x72f)](),this[_0x3d1eaf(0x445)]?.(),clearTimeout(this[_0x3d1eaf(0x932)]),delete this[_0x3d1eaf(0x932)],super[_0x3d1eaf(0x7ab)]();}[_0x3035df(0x72f)](){const _0xbc634f=_0x3035df;this[_0xbc634f(0x926)](),this['systemTopic'][_0xbc634f(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0xbc634f(0x240)],'content':{'type':_0x41c383[_0xbc634f(0x383)],'label':this[_0xbc634f(0x4de)]}});}[_0x3035df(0x50c)](_0x5a3434){const _0x422316=_0x3035df,_0x1f9706=this[_0x422316(0x827)][_0x422316(0x557)](_0x5a3434);if(_0x1f9706)return _0x1f9706;try{if(!this['db']['hasTable'](_0x5a3434))throw new _0x2758ff(_0x1e2529[_0x422316(0x79d)],_0x422316(0xabb));const _0x5c0ec2=new _0x473379(this['db'][_0x422316(0x619)](_0x5a3434),_0x5a3434,this[_0x422316(0x6a6)]);return this[_0x422316(0x827)][_0x422316(0xac2)](_0x5a3434,_0x5c0ec2),{'get':_0x5c0ec2[_0x422316(0x557)]['bind'](_0x5c0ec2),'set':_0x5c0ec2[_0x422316(0xac2)][_0x422316(0x5bf)](_0x5c0ec2),'add':_0x5c0ec2[_0x422316(0x784)][_0x422316(0x5bf)](_0x5c0ec2),'delete':_0x5c0ec2['delete'][_0x422316(0x5bf)](_0x5c0ec2),'clear':_0x5c0ec2[_0x422316(0x599)][_0x422316(0x5bf)](_0x5c0ec2),'list':_0x5c0ec2[_0x422316(0xa6c)][_0x422316(0x5bf)](_0x5c0ec2),'count':_0x5c0ec2[_0x422316(0x5e5)]['bind'](_0x5c0ec2),'subscribe':_0x5c0ec2['subscribe'][_0x422316(0x5bf)](_0x5c0ec2),'unsubscribe':_0x5c0ec2['unsubscribe'][_0x422316(0x5bf)](_0x5c0ec2)};}catch(_0x437694){if(_0x437694 instanceof _0x2758ff)throw _0x437694;throw new _0x2758ff(_0x1e2529[_0x422316(0x421)],'Database\x20not\x20open');}}[_0x3035df(0x3bd)](_0x591ded){const _0x5a9419=_0x3035df;this[_0x5a9419(0x6b3)]=this[_0x5a9419(0x86a)][_0x5a9419(0x3bd)](_0x591ded),this[_0x5a9419(0x808)](this[_0x5a9419(0xacb)])[_0x5a9419(0x5ec)](_0x25a6cf=>{const _0x1beba6=_0x5a9419;_0x25a6cf&&this['eventListener'][_0x1beba6(0xa4f)]({'event':_0x37e813[_0x1beba6(0x88a)]['SyncComplete']});});}[_0x3035df(0x5ee)](){const _0x27e82f=_0x3035df;this['listenerUnsubscriber']?.(),this[_0x27e82f(0x6b3)]=void 0x0;}async[_0x3035df(0x4b0)](){const _0x28d323=_0x3035df;_0x1d8a4a(_0x2a39e9['KeyValueDatabase'],_0x28d323(0x600));const _0xadbc4a=[_0x40120b,_0x20c1d5],_0x30aa38=[];try{await this['db']['open']();const _0x509aae=this['db'][_0x28d323(0x619)](_0x20c1d5),_0xc75659=await _0x509aae['list'](),{id:_0x4be578,layout:_0x459630}=_0xc75659[0x0]??{};if(_0x459630){for(const _0x23e246 in _0x459630)_0xadbc4a['includes'](_0x23e246)||this['db'][_0x28d323(0x23d)](_0x23e246)||_0x30aa38[_0x28d323(0x343)](_0x23e246);await _0x509aae[_0x28d323(0xac2)](_0x4be578,{'layout':this['layout']});}else await _0x509aae['add']({'layout':this[_0x28d323(0x72b)]});}catch(_0x471442){throw new _0x2758ff(_0x1e2529[_0x28d323(0x421)],_0x471442['message']||_0x28d323(0x9e0));}this[_0x28d323(0x3eb)](),await this['buildInitialMMR'](),this[_0x28d323(0x7f1)](),this[_0x28d323(0x7a9)](),_0x30aa38[_0x28d323(0x8fa)](_0x4d0e9e=>this[_0x28d323(0x825)](_0x4d0e9e));}async['sync'](_0x1f17c6,_0x42a68b=()=>{},_0x5dfc2c=!0x1){const _0x314a59=_0x3035df;if(!_0x1f17c6)return setTimeout(()=>{const _0x1d8d8d=a0_0x4922;this[_0x1d8d8d(0x926)](),this[_0x1d8d8d(0x906)]();},0x0),!0x0;if(this[_0x314a59(0x283)]=!0x1,this['timeoutCallback']=_0x42a68b,this[_0x314a59(0x759)]=setTimeout(_0x42a68b,0x7d0),!this[_0x314a59(0x31b)])throw new _0x891088(_0x891088['codes']['MissingSystemTopic']);const _0x48170c=await this[_0x314a59(0x7fa)][_0x314a59(0x4a3)](),_0x914c64={'sourceId':this[_0x314a59(0x8f4)][_0x314a59(0x6cd)](),'messageType':_0x160b40[_0x314a59(0x240)],'propagate':_0x5dfc2c,'content':{'type':_0x41c383[_0x314a59(0x6db)],'label':this[_0x314a59(0x4de)],'mmrRoot':_0x48170c}};return this[_0x314a59(0x5a8)][_0x314a59(0x8c2)](_0x914c64),this[_0x314a59(0x31b)][_0x314a59(0xa4f)](_0x914c64),this['isSync'];}async[_0x3035df(0x51b)](_0x4043e8,_0x200c2e){const _0x871a62=_0x3035df;if(_0x5cdff6['log'](_0x2a39e9[_0x871a62(0xa04)],_0x871a62(0x9a5)+_0x200c2e[_0x871a62(0x68c)],this[_0x871a62(0x4de)]),!this['transactionTable'])throw new _0x891088(_0x891088[_0x871a62(0x5fb)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x511154 of _0x200c2e){const _0x5286ad=await this['transactionTable'][_0x871a62(0x557)](_0x511154);if(!_0x5286ad)continue;const [_0x15eb77,_0x325201]=_0x511154[_0x871a62(0x27a)]('::'),_0x3c7966=this[_0x871a62(0x50c)](_0x15eb77),_0x43e770=await _0x3c7966[_0x871a62(0x557)](_0x325201);_0x43e770?(_0x5286ad[_0x871a62(0x90d)]=_0x43e770,this['send'](_0x5286ad,[_0x4043e8])):_0x5cdff6['warning']('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this[_0x871a62(0x8f4)][_0x871a62(0x6cd)](),'nodeType':this[_0x871a62(0x8f4)][_0x871a62(0x48b)],'remoteId':_0x4043e8,'data':{'tableKeys':Object[_0x871a62(0x75b)](this[_0x871a62(0x827)]),'transactionId':_0x511154,'transactions':this[_0x871a62(0x309)],'tableName':_0x15eb77,'key':_0x325201}});}}async[_0x3035df(0x312)](_0x1c0634){const _0x5a001c=_0x3035df;if(!this[_0x5a001c(0x99b)])throw new _0x891088(_0x891088[_0x5a001c(0x5fb)][_0x5a001c(0xac4)]);const _0x4215d3=await this[_0x5a001c(0x7fa)][_0x5a001c(0x539)](_0x1c0634),_0x83355a=this[_0x5a001c(0x8ad)][_0x5a001c(0x557)](_0x4215d3);if(_0x83355a&&this[_0x5a001c(0x8c8)](_0x1c0634,_0x83355a)<=0x0)return void _0x5cdff6['log'](_0x2a39e9[_0x5a001c(0xa04)],_0x5a001c(0x741),_0x1c0634);const _0x3b1dfb={..._0x1c0634};return delete _0x3b1dfb[_0x5a001c(0x90d)],this[_0x5a001c(0x3f5)](_0x3b1dfb),await this[_0x5a001c(0x99b)][_0x5a001c(0xac2)](_0x1c0634['id'],_0x3b1dfb),_0x1c0634;}[_0x3035df(0x8c8)](_0x11ec03,_0xc57d13){const _0x101ee1=_0x3035df;return _0x11ec03['timestamp']!==_0xc57d13[_0x101ee1(0x6c3)]?_0x11ec03['timestamp']-_0xc57d13[_0x101ee1(0x6c3)]:_0x11ec03[_0x101ee1(0x92a)]-_0xc57d13[_0x101ee1(0x92a)];}async[_0x3035df(0x92e)](_0x11f81c){const _0x44c9f5=_0x3035df;if(!this['transactionTable'])throw new _0x891088(_0x891088[_0x44c9f5(0x5fb)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x59c83b=_0x11f81c[_0x44c9f5(0x630)]+'::'+_0x11f81c[_0x44c9f5(0x547)],_0x22dac=await _0x1d88af[_0x44c9f5(0xa74)](),_0x13e77f={'id':_0x59c83b,'priority':Math[_0x44c9f5(0x2a9)](),'timestamp':_0x22dac,'action':_0x11f81c[_0x44c9f5(0x702)]};if(await this[_0x44c9f5(0x312)](_0x13e77f))return _0x13e77f;}async[_0x3035df(0x825)](_0x1b828e){const _0x127728=_0x3035df;if(!this[_0x127728(0x99b)])throw new _0x891088(_0x891088[_0x127728(0x5fb)][_0x127728(0xac4)]);const _0x447544=_0x242cdc['index']('id')[_0x127728(0x73e)](_0x127728(0x267),[_0x1b828e+'::',_0x1b828e+'::￿']),_0x4fe78b=await this[_0x127728(0x99b)][_0x127728(0xa6c)](_0x447544[_0x127728(0x83f)]());for(const _0x52bba9 of _0x4fe78b)await this['transactionTable'][_0x127728(0x72d)](_0x52bba9['id']);}['setOnMessageHandler'](){const _0x5e9c0b=_0x3035df;this[_0x5e9c0b(0xb18)](async(_0x50fcb7,_0x468d99)=>{const _0x4d6fe7=_0x5e9c0b;if(_0x468d99 instanceof File)return;if(this['loggingCycle'][_0x4d6fe7(0x1fe)](_0x468d99),!await this[_0x4d6fe7(0x312)](_0x468d99))return void this[_0x4d6fe7(0x61d)](_0x50fcb7,_0x468d99);if(!_0x468d99['value'])throw new _0x891088(_0x891088[_0x4d6fe7(0x5fb)][_0x4d6fe7(0x779)]);const [_0x439fee,_0x1a4236]=_0x468d99['id'][_0x4d6fe7(0x27a)]('::'),_0x111289=this[_0x4d6fe7(0x50c)](_0x439fee);if(!_0x111289)throw new _0x891088(_0x891088['codes'][_0x4d6fe7(0xa0f)],{'table':_0x111289});let _0x3d45f2=0x0;switch(_0x468d99[_0x4d6fe7(0x702)]){case _0x34bcc8['Add']:case _0x34bcc8[_0x4d6fe7(0x6a3)]:{const _0x3a4ff4=_0x111289[_0x4d6fe7(0xac2)](_0x1a4236,_0x468d99[_0x4d6fe7(0x90d)],!0x1);_0x3d45f2=JSON[_0x4d6fe7(0x83d)](_0x468d99[_0x4d6fe7(0x90d)])['length'],this[_0x4d6fe7(0x309)][_0x4d6fe7(0x7c4)](_0x468d99['id'])&&this[_0x4d6fe7(0x2e9)][_0x4d6fe7(0x343)](_0x3a4ff4);break;}case _0x34bcc8['Delete']:{const _0x3a07bb=_0x111289[_0x4d6fe7(0x72d)](_0x1a4236,!0x1);this[_0x4d6fe7(0x309)]['includes'](_0x468d99['id'])&&this[_0x4d6fe7(0x2e9)][_0x4d6fe7(0x343)](_0x3a07bb);break;}}_0x5cdff6['logServiceEvent'](_0x57257f[_0x4d6fe7(0xa04)],{'type':_0x4d6fe7(0x699),'label':this[_0x4d6fe7(0x4de)],'nodeId':this['localNode'][_0x4d6fe7(0x6cd)](),'nodeType':this[_0x4d6fe7(0x8f4)][_0x4d6fe7(0x48b)],'clusterId':this['clusterId'],'tableName':_0x439fee,'key':_0x1a4236,'size':_0x3d45f2}),this[_0x4d6fe7(0x61d)](_0x50fcb7,_0x468d99);});}['setOnTableWriteHandler'](){const _0x19583a=_0x3035df;this[_0x19583a(0x445)]=this['tableObserver']['subscribe'](async _0x41c6cd=>{const _0x37ecd3=_0x19583a;let _0x2ab6d9=0x0;switch(_0x41c6cd[_0x37ecd3(0x702)]){case _0x34bcc8['Add']:case _0x34bcc8[_0x37ecd3(0x6a3)]:case _0x34bcc8[_0x37ecd3(0xa6e)]:{const _0x3ff5af=await this[_0x37ecd3(0x92e)](_0x41c6cd);if(!_0x3ff5af)return;_0x3ff5af[_0x37ecd3(0x90d)]=_0x41c6cd['value'],this[_0x37ecd3(0x6a0)](_0x3ff5af),_0x2ab6d9=JSON[_0x37ecd3(0x83d)](_0x41c6cd[_0x37ecd3(0x90d)])['length'],this[_0x37ecd3(0x70a)]+=0x1;break;}case _0x15eb62[_0x37ecd3(0x9f0)]:case _0x15eb62[_0x37ecd3(0x32c)]:case _0x15eb62['Count']:this['reads']+=0x1;}_0x5cdff6['logServiceEvent'](_0x57257f[_0x37ecd3(0xa04)],{'type':_0x41c6cd['action'],'label':this['label'],'nodeId':this['localNode'][_0x37ecd3(0x6cd)](),'nodeType':this[_0x37ecd3(0x8f4)][_0x37ecd3(0x48b)],'clusterId':this[_0x37ecd3(0x7b1)],'tableName':_0x41c6cd['tableName'],'key':_0x41c6cd[_0x37ecd3(0x547)],'size':_0x2ab6d9}),this[_0x37ecd3(0x509)]();});}[_0x3035df(0x3eb)](){const _0x464d75=_0x3035df;this['db']&&(this[_0x464d75(0x99b)]||(this[_0x464d75(0x99b)]=this['db'][_0x464d75(0x619)](_0x40120b)));}[_0x3035df(0x926)](){const _0x56295a=_0x3035df;this['syncTimeout']&&(clearTimeout(this[_0x56295a(0x759)]),delete this['syncTimeout']);}async[_0x3035df(0x906)](){const _0x47fcfe=_0x3035df;await this[_0x47fcfe(0x7fa)]['ready'],this[_0x47fcfe(0x2b7)](),this['eventListener'][_0x47fcfe(0xa4f)]({'event':_0x37e813[_0x47fcfe(0x88a)][_0x47fcfe(0x62c)]}),this['syncResolve']?.(!0x0),delete this[_0x47fcfe(0x84c)],this[_0x47fcfe(0x509)](),_0x5cdff6['log'](_0x2a39e9[_0x47fcfe(0xa04)],'Sync\x20completed',this[_0x47fcfe(0x4de)]);}async[_0x3035df(0x342)](_0x522cea){const _0x357076=_0x3035df;await Promise[_0x357076(0x50f)](this[_0x357076(0x2e9)]),_0x5cdff6[_0x357076(0x3e9)](_0x2a39e9['KeyValueDatabase'],_0x357076(0x756)+this[_0x357076(0x2e9)][_0x357076(0x68c)]+_0x357076(0x839)+_0x522cea+_0x357076(0x480),this[_0x357076(0x4de)]),await this['mmr'][_0x357076(0x287)],await this['confirmSynchronization'](_0x522cea),await this['publishSyncCompleted']();}['checkSyncComplete'](_0xb28251,_0x361b96){const _0x5e5d4f=_0x3035df;this[_0x5e5d4f(0x309)][_0x5e5d4f(0x7c4)](_0x361b96['id'])&&(this[_0x5e5d4f(0x926)](),this[_0x5e5d4f(0x309)]=this[_0x5e5d4f(0x309)]['filter'](_0x2a3040=>_0x2a3040!==_0x361b96['id']),0x0!==this[_0x5e5d4f(0x309)][_0x5e5d4f(0x68c)]?this[_0x5e5d4f(0x759)]=setTimeout(this[_0x5e5d4f(0x6fa)],0x7d0):this['publishSyncCompletedAfterWrites'](_0xb28251));}[_0x3035df(0x509)](){const _0x2e8df1=_0x3035df;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x2e8df1(0x932)]=setTimeout(async()=>{const _0x45f19a=_0x2e8df1;delete this['debounceStats'];let _0x4177cb=0x0;for(const _0x11db51 of this['tables']['values']())_0x4177cb+=await _0x11db51[_0x45f19a(0x3c6)]();this[_0x45f19a(0x31b)]['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x45f19a(0x240)],'content':{'type':_0x41c383[_0x45f19a(0x49f)],'label':this[_0x45f19a(0x4de)],'stats':{'timestamp':Date[_0x45f19a(0x6de)](),'storage':_0x4177cb,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x45f19a(0x89b)],'bytesReceived':this[_0x45f19a(0x824)],'writes':this[_0x45f19a(0x70a)],'reads':this[_0x45f19a(0x39a)],'prompts':0x0,'tokens':0x0}}}),_0x5cdff6[_0x45f19a(0x74b)](_0x57257f['KeyValueDatabase'],_0x45f19a(0x402)+this[_0x45f19a(0x7b1)]+_0x45f19a(0x402)+this[_0x45f19a(0x4de)],_0x4177cb);},_0x1a8c76);}[_0x3035df(0x84d)](_0x118a8e){const _0x3cfed4=_0x3035df;if(_0x118a8e[_0x3cfed4(0x827)][_0x40120b])throw new _0x2758ff(_0x1e2529['KeyValueDatabaseTableNameReserved'],_0x3cfed4(0x527)+_0x40120b+_0x3cfed4(0x425));if(_0x118a8e[_0x3cfed4(0x827)][_0x20c1d5])throw new _0x2758ff(_0x1e2529['KeyValueDatabaseTableNameReserved'],_0x3cfed4(0x527)+_0x20c1d5+_0x3cfed4(0x425));_0x118a8e['tables'][_0x40120b]={'indexes':[]},_0x118a8e[_0x3cfed4(0x827)][_0x20c1d5]={'indexes':[]};}async[_0x3035df(0x808)](_0x39bc23){const _0x20b5d6=_0x3035df;return Promise[_0x20b5d6(0x4ac)]([_0x39bc23,Promise[_0x20b5d6(0x2df)](_0x20b5d6(0x869))])[_0x20b5d6(0x5ec)](_0x2d8805=>'not-resolved'!==_0x2d8805);}async[_0x3035df(0x5da)](_0x386538){const _0x1534d7=_0x3035df;await this[_0x1534d7(0x424)]();const _0x2f5430=await this['mmr'][_0x1534d7(0x4a3)](),_0x19da42={'sourceId':this[_0x1534d7(0x8f4)]['getId'](),'destinationIds':[_0x386538],'propagate':!0x0,'messageType':_0x160b40[_0x1534d7(0x240)],'content':{'type':_0x41c383['KeyValueDatabaseContentSynchronized'],'label':this[_0x1534d7(0x4de)],'mmrRoot':_0x2f5430}};this[_0x1534d7(0x31b)][_0x1534d7(0xa4f)](_0x19da42);}async['buildInitialMMR'](){const _0x960929=_0x3035df;if(!this[_0x960929(0x99b)])throw new _0x891088(_0x891088[_0x960929(0x5fb)][_0x960929(0xac4)]);this[_0x960929(0x5ac)]=await this[_0x960929(0x99b)][_0x960929(0xa6c)](),this[_0x960929(0x5ac)][_0x960929(0x7aa)](this[_0x960929(0x8c8)]),this[_0x960929(0x7fa)]=new _0x29c652(),this[_0x960929(0x8ad)]=new Map();for(const _0x2f2561 of this['transactions'])this[_0x960929(0x9fa)](_0x2f2561,this['transactions'][_0x960929(0x68c)]);this[_0x960929(0x4d2)]();}async[_0x3035df(0x9fa)](_0x271b06,_0x53b6de){const _0x4374c8=_0x3035df,_0x2287d5={..._0x271b06};delete _0x2287d5[_0x4374c8(0x90d)],await this[_0x4374c8(0x7fa)]['appendTransaction'](_0x2287d5,_0x53b6de);const _0x3a11d7=await this['mmr'][_0x4374c8(0x539)](_0x2287d5);this[_0x4374c8(0x8ad)][_0x4374c8(0xac2)](_0x3a11d7,_0x271b06);}[_0x3035df(0x26c)](_0xa93a51){return this['transactionHashMap']['get'](_0xa93a51);}['collectTransactionsFromNode'](_0x33597d,_0x24340c){const _0x53a11e=_0x3035df;if(0x0!==_0x33597d[_0x53a11e(0x965)])_0x33597d[_0x53a11e(0xa63)]&&this['collectTransactionsFromNode'](_0x33597d['left'],_0x24340c),_0x33597d[_0x53a11e(0x9f3)]&&this[_0x53a11e(0x762)](_0x33597d['right'],_0x24340c);else{const _0x1cb557=this[_0x53a11e(0x26c)](_0x33597d[_0x53a11e(0xafa)]);_0x1cb557&&_0x24340c[_0x53a11e(0x343)](_0x1cb557);}}async['rebuildMMR'](){const _0x82a0e3=_0x3035df;this[_0x82a0e3(0x5b0)]&&(clearTimeout(this[_0x82a0e3(0x5b0)]),delete this[_0x82a0e3(0x5b0)],this[_0x82a0e3(0x785)][_0x82a0e3(0x68c)]>0x0&&(this[_0x82a0e3(0x5ac)][_0x82a0e3(0x343)](...this[_0x82a0e3(0x785)]['sort'](this[_0x82a0e3(0x8c8)])),this[_0x82a0e3(0x785)]=[]));const _0x308ea0=this[_0x82a0e3(0xa64)]();this[_0x82a0e3(0x7fa)]=new _0x29c652(),this[_0x82a0e3(0x8ad)]['clear'](),this[_0x82a0e3(0x5ac)][_0x82a0e3(0x7aa)](this['compareTransactions']);for(const _0x58aa2a of this[_0x82a0e3(0x5ac)])this[_0x82a0e3(0x9fa)](_0x58aa2a,this[_0x82a0e3(0x5ac)][_0x82a0e3(0x68c)]);await this['mmr'][_0x82a0e3(0x287)],this[_0x82a0e3(0x5b1)](_0x308ea0);}[_0x3035df(0xa64)](){const _0x5d4b61=_0x3035df;return this['loggingCycle'][_0x5d4b61(0x30f)][_0x5d4b61(0x4ba)](async()=>{const _0x528254=_0x5d4b61,_0x478de3=await this[_0x528254(0x7fa)][_0x528254(0x4a3)]();return{'startTime':Date[_0x528254(0x6de)](),'initialRoot':_0x478de3};},Promise[_0x5d4b61(0x2df)]({'startTime':0x0,'initialRoot':''}));}async[_0x3035df(0x5b1)](_0x3218dc){const _0x1be14a=_0x3035df;try{const {startTime:_0x4ac6f5,initialRoot:_0x3b728f}=await _0x3218dc,_0x584379=await this['mmr'][_0x1be14a(0x4a3)](),_0x260cce=['RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20'+(_0x3b728f!==_0x584379),_0x1be14a(0x4ca)+_0x3b728f,_0x1be14a(0x259)+_0x584379,_0x1be14a(0xa79)+this[_0x1be14a(0x7fa)][_0x1be14a(0x94f)](),_0x1be14a(0x610)+(Date[_0x1be14a(0x6de)]()-_0x4ac6f5)+_0x1be14a(0x63d)][_0x1be14a(0x95b)]('\x20');this[_0x1be14a(0x5a8)][_0x1be14a(0x30f)][_0x1be14a(0x3e9)]('',()=>_0x260cce);}catch(_0x226c4c){console[_0x1be14a(0xa29)](_0x1be14a(0x3c4),_0x226c4c);}}[_0x3035df(0x3f5)](_0x1f0912){const _0x26cdc6=_0x3035df;this[_0x26cdc6(0x785)][_0x26cdc6(0x343)](_0x1f0912),this[_0x26cdc6(0x5b0)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x26cdc6(0x5b0)]),this[_0x26cdc6(0x5b0)]=setTimeout(()=>{const _0x115b39=_0x26cdc6;this[_0x115b39(0x424)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x1c6be1=_0x3035df;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x1c6be1(0x5b0)]),delete this[_0x1c6be1(0x5b0)]),0x0!==this[_0x1c6be1(0x785)]['length']){if(0x0===this['transactions'][_0x1c6be1(0x68c)])return this[_0x1c6be1(0x5ac)]=this['transactionsToAppend'],this[_0x1c6be1(0x785)]=[],await this[_0x1c6be1(0x52c)]();if(this['transactionsToAppend'][_0x1c6be1(0x7aa)](this[_0x1c6be1(0x8c8)]),this['compareTransactions'](this[_0x1c6be1(0x785)][0x0],this[_0x1c6be1(0x5ac)][this[_0x1c6be1(0x5ac)][_0x1c6be1(0x68c)]-0x1])>0x0){this[_0x1c6be1(0x5a8)][_0x1c6be1(0x30f)][_0x1c6be1(0x3e9)](_0x1c6be1(0x98d)+this[_0x1c6be1(0x785)]['length']+_0x1c6be1(0x9c2)+this[_0x1c6be1(0x5ac)][_0x1c6be1(0x68c)]);for(const _0x7452e1 of this[_0x1c6be1(0x785)])this[_0x1c6be1(0x5ac)][_0x1c6be1(0x343)](_0x7452e1),this['appendTransactionAndUpdateHashMap'](_0x7452e1,this[_0x1c6be1(0x785)][_0x1c6be1(0x68c)]);return this[_0x1c6be1(0x785)]=[],void this[_0x1c6be1(0x5a8)][_0x1c6be1(0x30f)][_0x1c6be1(0x3e9)](_0x1c6be1(0x941),async()=>_0x1c6be1(0x4fc)+await this['mmr'][_0x1c6be1(0x4a3)]()+_0x1c6be1(0x8c9)+this[_0x1c6be1(0x7fa)]['getTotalNodes']());}this[_0x1c6be1(0x5a8)]['logger'][_0x1c6be1(0x3e9)](_0x1c6be1(0x99a)+this[_0x1c6be1(0x785)][_0x1c6be1(0x68c)]+',\x20Transactions:\x20'+this[_0x1c6be1(0x5ac)][_0x1c6be1(0x68c)]),this[_0x1c6be1(0x5ac)][_0x1c6be1(0x343)](...this['transactionsToAppend']),this[_0x1c6be1(0x785)]=[],this[_0x1c6be1(0x52c)]();}}async[_0x3035df(0x2b7)](){const _0x434471=_0x3035df;if(!_0x5cdff6['isChannelEnabled'](_0x2a39e9[_0x434471(0xa04)]))return;await this[_0x434471(0x7fa)][_0x434471(0x287)];const {dataSent:_0x1f3594,dataReceived:_0x5427a2}=this['loggingCycle'][_0x434471(0xa8d)]();_0x5cdff6['log'](_0x2a39e9[_0x434471(0xa04)],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this['label'],_0x434471(0xa4d)+_0x1f3594,_0x434471(0xac3)+_0x5427a2,'\x0a\x20===\x20Current\x20MMR\x20Root',await this['mmr'][_0x434471(0x4a3)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x434471(0x7fa)][_0x434471(0x94f)]());}async['logInitialMMR'](){const _0x466cec=_0x3035df;if(!_0x5cdff6['isChannelEnabled'](_0x2a39e9[_0x466cec(0xa04)]))return;const _0x70f4ab=this[_0x466cec(0x7fa)][_0x466cec(0x561)](),_0x3d0ab6=_0x70f4ab[_0x466cec(0x207)](_0x27c27f=>_0x27c27f[_0x466cec(0x965)]),_0x40be6f=await this[_0x466cec(0x7fa)]['getRoot']();_0x5cdff6[_0x466cec(0x3e9)](_0x2a39e9[_0x466cec(0xa04)],_0x466cec(0x8a6),this[_0x466cec(0x5ac)][_0x466cec(0x68c)],_0x466cec(0x5ac),this[_0x466cec(0x7fa)][_0x466cec(0x94f)](),_0x466cec(0x6b5),_0x70f4ab[_0x466cec(0x68c)],_0x466cec(0xb15),_0x3d0ab6,_0x466cec(0x913),_0x40be6f);}}const _0x52d6f2=require('@crewdle/mist-connector-opfs'),_0x294ecb=require('@crewdle/mist-connector-indexed-db'),_0x119126=require('@crewdle/mist-connector-webrtc-browser'),_0x1850e3=0x1fc00000;var _0xb3a6aa,_0x20fab9,_0x369f7f,_0x4076df,_0x4b4ebc,_0x31962c,_0x4f8dca,_0x2588b9,_0x146fc2;!function(_0x133e57){const _0x490262=_0x3035df;_0x133e57[_0x490262(0x919)]=_0x490262(0x919),_0x133e57['AudioOutput']=_0x490262(0x436),_0x133e57['AudioVolume']=_0x490262(0x60b),_0x133e57['Backgrounds']=_0x490262(0x42a),_0x133e57[_0x490262(0x576)]=_0x490262(0x576),_0x133e57[_0x490262(0x936)]=_0x490262(0x936),_0x133e57['Recording']=_0x490262(0x6ad),_0x133e57['ScreenSharing']=_0x490262(0x54e),_0x133e57[_0x490262(0x30c)]=_0x490262(0x30c),_0x133e57['WebRTC']=_0x490262(0x9c8);}(_0xb3a6aa||(_0xb3a6aa={}));class _0x7c7fc4{[_0x3035df(0x39b)];[_0x3035df(0x7a5)];['eventTarget'];constructor(_0x3e09ff=new Map(),_0x3ec2a4=new Map(),_0x1935e6=new EventTarget()){const _0x450be7=_0x3035df;this[_0x450be7(0x39b)]=_0x3e09ff,this[_0x450be7(0x7a5)]=_0x3ec2a4,this['eventTarget']=_0x1935e6;}[_0x3035df(0xa25)]=(_0x2c6d39,_0x30beb3)=>this['registeredListeners'][_0x3035df(0x5e8)](_0x2c6d39)?(_0x5cdff6['log'](_0x2a39e9[_0x3035df(0x9f2)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x2c6d39,'data':_0x30beb3}),this[_0x3035df(0x6c1)][_0x3035df(0x542)](new CustomEvent(_0x2c6d39,{'detail':_0x30beb3})),!0x0):(this[_0x3035df(0x6ce)](_0x2c6d39,_0x30beb3),!0x1);['on']=(_0x30ad17,_0x4845cb)=>{const _0xbe3f45=_0x3035df,_0x2a3523=_0x506823=>{const _0x5ccbb0=a0_0x4922;_0x5cdff6[_0x5ccbb0(0x3e9)](_0x2a39e9[_0x5ccbb0(0x9f2)],_0x5ccbb0(0xabe),_0x506823['type'],_0x506823[_0x5ccbb0(0x8e9)]),_0x4845cb(_0x506823[_0x5ccbb0(0x8e9)]);};return this[_0xbe3f45(0x39b)][_0xbe3f45(0xac2)](_0x30ad17,_0x2a3523),this[_0xbe3f45(0x6c1)]['addEventListener'](_0x30ad17,_0x2a3523),_0x5cdff6[_0xbe3f45(0x3e9)](_0x2a39e9['Cluster'],'Subscribing\x20to\x20an\x20event:\x20on',_0x30ad17,_0x4845cb),this['consumeBufferedEvents'](_0x30ad17),this;};[_0x3035df(0x63f)](_0x2036ba){const _0x597d6a=_0x3035df;if(!_0x2036ba)return this[_0x597d6a(0x39b)][_0x597d6a(0x8fa)]((_0x18fbb3,_0x1f88d2)=>{const _0x468a96=_0x597d6a;this[_0x468a96(0x6c1)][_0x468a96(0xa84)](_0x1f88d2,_0x18fbb3);}),void this[_0x597d6a(0x39b)][_0x597d6a(0x599)]();_0x597d6a(0x395)==typeof _0x2036ba&&this[_0x597d6a(0x42c)](_0x2036ba),Array[_0x597d6a(0x727)](_0x2036ba)&&_0x2036ba['forEach'](_0x5c64e5=>{const _0x137095=_0x597d6a;this[_0x137095(0x42c)](_0x5c64e5);});}[_0x3035df(0x42c)](_0x6d9700){const _0x10e616=_0x3035df,_0x15283d=this[_0x10e616(0x39b)][_0x10e616(0x557)](_0x6d9700);_0x15283d&&(this[_0x10e616(0x6c1)][_0x10e616(0xa84)](_0x6d9700,_0x15283d),this[_0x10e616(0x39b)][_0x10e616(0x72d)](_0x6d9700));}['bufferEvent'](_0xfba2ed,_0x3cf110){const _0x4c66bd=_0x3035df;_0x5cdff6['log'](_0x2a39e9[_0x4c66bd(0x9f2)],_0x4c66bd(0x510),{'event':_0xfba2ed,'data':_0x3cf110});const _0x296a89=this['bufferedEvents'][_0x4c66bd(0x557)](_0xfba2ed)||[];this['bufferedEvents'][_0x4c66bd(0xac2)](_0xfba2ed,[..._0x296a89,_0x3cf110]);}[_0x3035df(0x957)](_0x105720){const _0x302ceb=_0x3035df,_0x483dae=this['bufferedEvents'][_0x302ceb(0x557)](_0x105720);_0x483dae&&(_0x483dae[_0x302ceb(0x8fa)](_0x18d184=>{const _0x564a64=_0x302ceb;_0x5cdff6[_0x564a64(0x3e9)](_0x2a39e9['Events'],_0x564a64(0x6ef),{'event':_0x105720,'data':_0x18d184}),this['eventTarget'][_0x564a64(0x542)](new CustomEvent(_0x105720,{'detail':_0x18d184}));}),this[_0x302ceb(0x7a5)]['delete'](_0x105720));}}class _0x91a477 extends Error{constructor(_0x1219ea){const _0x1da067=_0x3035df;super(_0x1da067(0x80b)+_0x1219ea);}}!function(_0x5de599){const _0x218e7b=_0x3035df;_0x5de599[_0x5de599[_0x218e7b(0x3d5)]=0x0]='Core',_0x5de599[_0x5de599['Optimization']=0x1]='Optimization';}(_0x20fab9||(_0x20fab9={})),function(_0x343def){const _0x48c41c=_0x3035df;_0x343def[_0x343def[_0x48c41c(0x5d9)]=0x0]=_0x48c41c(0x5d9),_0x343def[_0x343def[_0x48c41c(0x310)]=0x1]=_0x48c41c(0x310),_0x343def[_0x343def['Handshake']=0x2]=_0x48c41c(0x5e6),_0x343def[_0x343def[_0x48c41c(0x23c)]=0x3]=_0x48c41c(0x23c),_0x343def[_0x343def[_0x48c41c(0x3b2)]=0x4]='NeedRestart',_0x343def[_0x343def[_0x48c41c(0x8e1)]=0x5]=_0x48c41c(0x8e1),_0x343def[_0x343def[_0x48c41c(0x8a3)]=0x6]='Disconnect',_0x343def[_0x343def[_0x48c41c(0x667)]=0x7]=_0x48c41c(0x667),_0x343def[_0x343def['OptimizationConnectionSuccess']=0x8]=_0x48c41c(0x5fe);}(_0x369f7f||(_0x369f7f={})),function(_0x316c46){const _0x522057=_0x3035df;_0x316c46[_0x316c46[_0x522057(0x1f1)]=0x0]=_0x522057(0x1f1),_0x316c46[_0x316c46[_0x522057(0x761)]=0x1]=_0x522057(0x761);}(_0x4076df||(_0x4076df={})),function(_0x47af61){const _0x37b30d=_0x3035df;_0x47af61[_0x37b30d(0x936)]=_0x37b30d(0x6be);}(_0x4b4ebc||(_0x4b4ebc={})),function(_0x34ff99){const _0x2d8428=_0x3035df;_0x34ff99[_0x34ff99[_0x2d8428(0x788)]=0x0]=_0x2d8428(0x788),_0x34ff99[_0x34ff99[_0x2d8428(0x456)]=0x1]='NodeUpdate',_0x34ff99[_0x34ff99['NodeConnectionsUpdate']=0x2]=_0x2d8428(0x8d7),_0x34ff99[_0x34ff99[_0x2d8428(0x20b)]=0x3]='NodeLeave';}(_0x31962c||(_0x31962c={})),function(_0x376d1a){const _0x257950=_0x3035df;_0x376d1a[_0x376d1a[_0x257950(0x718)]=0x0]=_0x257950(0x718),_0x376d1a[_0x376d1a[_0x257950(0x7a3)]=0x1]=_0x257950(0x7a3);}(_0x4f8dca||(_0x4f8dca={})),function(_0x14bda9){const _0x19a7e0=_0x3035df;_0x14bda9[_0x19a7e0(0x9b1)]=_0x19a7e0(0x221),_0x14bda9['Downgrade']=_0x19a7e0(0x648);}(_0x2588b9||(_0x2588b9={})),function(_0x461e7c){const _0x13f935=_0x3035df;_0x461e7c[_0x13f935(0xaef)]=_0x13f935(0xa98),_0x461e7c[_0x13f935(0x446)]='bitrate';}(_0x146fc2||(_0x146fc2={}));const _0x5d9fb5=require('aws-amplify'),_0x45d803=require('aws-amplify/utils'),_0x3b3b56=require('@aws-amplify/api'),_0x331f8b=require('@aws-amplify/core');class _0x51cf63{[_0x3035df(0x7b1)];[_0x3035df(0x8f4)];[_0x3035df(0x94d)];constructor(_0xfdb696,_0x418181,_0x29e86a){const _0x5349f8=_0x3035df;this['clusterId']=_0xfdb696,this[_0x5349f8(0x8f4)]=_0x418181,this['remoteId']=_0x29e86a;}['getLocalId'](){const _0x4a6c70=_0x3035df;return this[_0x4a6c70(0x8f4)][_0x4a6c70(0x6cd)]();}[_0x3035df(0x5d7)](){const _0x4c336a=_0x3035df;return this[_0x4c336a(0x94d)];}}var _0x54c5c5,_0x4e6bc3,_0x5532c7;function _0x5bf714(_0x398cbb,_0x15f602){const _0x1edf80=_0x3035df;return _0x398cbb[_0x1edf80(0x545)]===_0x15f602;}function _0x13ebd5(_0x4252c8,_0xeb47c3){const _0xdb92ed=_0x3035df;return _0x4252c8[_0xdb92ed(0x577)]?.[_0xdb92ed(0x7c4)](_0xeb47c3)??function(_0xbe7902){const _0x5869e6=_0xdb92ed;return void 0x0===_0xbe7902[_0x5869e6(0x577)];}(_0x4252c8);}function _0x2d3b44(_0x54617d,{contentType:_0x2d9b56,label:_0x57a26a,remoteId:_0x3d9732}){return _0x54617d+'-'+_0x2d9b56+'-'+_0x57a26a+'-'+_0x3d9732;}function _0x2aa38c(_0x14a256,_0x324d6b,_0x57167d){return''+_0x14a256+_0x324d6b+_0x57167d;}function _0x29ee3b(_0x2efdbe){const _0x2d1af3=_0x3035df;return _0x2efdbe===_0x4e6bc3[_0x2d1af3(0x52e)]?_0x2d1af3(0x2a4):_0x2d1af3(0x4c0);}function _0x272249(_0x185750,_0x1ceed4){const _0x4fbec1=_0x3035df;return{'label':_0x185750[_0x4fbec1(0x853)](),'contentType':_0x185750[_0x4fbec1(0x8be)](),'remoteId':_0x1ceed4[_0x4fbec1(0x5d7)](),'supportsContentType':_0x1ceed4['getSupportedContentTypes']()[_0x4fbec1(0x7c4)](_0x185750[_0x4fbec1(0x8be)]())};}!function(_0x3d6d0f){const _0x3ba662=_0x3035df;_0x3d6d0f[_0x3d6d0f['Waiting']=0x0]=_0x3ba662(0xa36),_0x3d6d0f[_0x3d6d0f[_0x3ba662(0x4d0)]=0x1]=_0x3ba662(0x4d0),_0x3d6d0f[_0x3d6d0f['Rejected']=0x2]=_0x3ba662(0x35a);}(_0x54c5c5||(_0x54c5c5={})),function(_0x261d6c){const _0x23ab7f=_0x3035df;_0x261d6c[_0x23ab7f(0x52e)]='in',_0x261d6c[_0x23ab7f(0x440)]=_0x23ab7f(0x56f);}(_0x4e6bc3||(_0x4e6bc3={}));class _0x230bba{[_0x3035df(0xa58)];['retryCallback'];constructor(_0x13e793,_0x35bbd6){const _0x69e90a=_0x3035df;this[_0x69e90a(0xa58)]=_0x13e793,this[_0x69e90a(0x645)]=_0x35bbd6;}[_0x3035df(0x8b2)](_0x394665){const _0x3a9eac=_0x3035df;this[_0x3a9eac(0xa58)](_0x394665);}async[_0x3035df(0x3e6)](){const _0x44bf48=_0x3035df;await this[_0x44bf48(0x645)]();}}class _0x44969b{['callback'];[_0x3035df(0x645)];constructor(_0x40015a,_0x10e5fe){const _0x27b9b7=_0x3035df;this[_0x27b9b7(0xa58)]=_0x40015a,this[_0x27b9b7(0x645)]=_0x10e5fe;}async['call'](_0x53336a){const _0x49a1a2=_0x3035df;await this[_0x49a1a2(0xa58)](_0x53336a);}async[_0x3035df(0x3e6)](){const _0x3370a8=_0x3035df;await this[_0x3370a8(0x645)]();}}function _0x2344c4(_0x5cdfa3=()=>{},_0x167d27=()=>!0x1,_0x470749=()=>{}){let _0xf5a8cc,_0x4558ab,_0x1a4efa=0x0;return{get 'size'(){return _0x1a4efa;},get 'head'(){return _0xf5a8cc;},get 'tail'(){return _0x4558ab;},set 'head'(_0x58a946){_0xf5a8cc=_0x58a946;},set 'tail'(_0x459887){_0x4558ab=_0x459887;},'push'(_0x3a108e,_0x13ec28=!0x0){const _0x219499=a0_0x4922,_0x49bcc2={'value':_0x3a108e};_0x13ec28&&_0x167d27(_0x49bcc2)?_0x5cdfa3():(_0x4558ab&&(_0x49bcc2[_0x219499(0x6dd)]=_0x4558ab,_0x4558ab[_0x219499(0x9f9)]=_0x49bcc2),_0x4558ab=_0x49bcc2,_0xf5a8cc||(_0xf5a8cc=_0x49bcc2),_0x1a4efa+=0x1,_0x13ec28&&_0x5cdfa3());},'pop'(){const _0x53a38a=a0_0x4922;if(!_0x4558ab)return;const _0x120abe=_0x4558ab['value'];return _0x4558ab=_0x4558ab[_0x53a38a(0x6dd)],_0x4558ab&&delete _0x4558ab[_0x53a38a(0x9f9)],_0x4558ab||(_0xf5a8cc=void 0x0),_0x1a4efa-=0x1,_0x120abe;},'unshift'(_0x56f6ec,_0x21e7da=!0x0){const _0x3f9194=a0_0x4922,_0x35cf6a={'value':_0x56f6ec};_0x21e7da&&_0x167d27(_0x35cf6a)?_0x5cdfa3():(_0xf5a8cc&&(_0xf5a8cc[_0x3f9194(0x6dd)]=_0x35cf6a,_0x35cf6a['next']=_0xf5a8cc),_0xf5a8cc=_0x35cf6a,_0x4558ab||(_0x4558ab=_0x35cf6a),_0x1a4efa+=0x1,_0x21e7da&&_0x5cdfa3());},'shift'(){const _0x25ed6e=a0_0x4922;if(!_0xf5a8cc)return;const _0x51d7da=_0xf5a8cc[_0x25ed6e(0x90d)];return _0xf5a8cc=_0xf5a8cc[_0x25ed6e(0x9f9)],_0xf5a8cc&&delete _0xf5a8cc[_0x25ed6e(0x6dd)],_0xf5a8cc||(_0x4558ab=void 0x0),_0x1a4efa-=0x1,_0x51d7da;},'clear'(){_0x470749(),_0xf5a8cc=void 0x0,_0x4558ab=void 0x0,_0x1a4efa=0x0;}};}function _0x21d83a(_0x3d6a18,_0x51a1ac=!0x1,_0x4f40af=()=>{},_0x1794fc=()=>!0x1,_0x1c3db4=()=>{}){let _0x45f91d=!0x1;const _0x222104=_0x2344c4(async function(){const _0x21d853=a0_0x4922;if(!_0x45f91d){for(_0x45f91d=!0x0;_0x222104[_0x21d853(0x233)];){const _0x5bfcd1=_0x222104[_0x21d853(0x866)]();if(_0x5bfcd1)try{_0x3d6a18 instanceof _0x230bba&&_0x3d6a18[_0x21d853(0x8b2)](_0x5bfcd1),_0x3d6a18 instanceof _0x44969b&&await _0x3d6a18[_0x21d853(0x8b2)](_0x5bfcd1),_0x4f40af(_0x5bfcd1);}catch(_0x13ec6e){_0x51a1ac?_0x222104[_0x21d853(0x343)](_0x5bfcd1,!0x1):_0x222104['unshift'](_0x5bfcd1,!0x1),await _0x3d6a18[_0x21d853(0x3e6)]();}}_0x45f91d=!0x1;}},_0x1794fc,_0x1c3db4);return _0x222104;}class _0x5caf6d extends _0x51cf63{['vendorId'];[_0x3035df(0x885)];['connectionState']=_0x3b3b56[_0x3035df(0x4b1)][_0x3035df(0x57f)];[_0x3035df(0x589)]=_0x61647d();[_0x3035df(0x2fb)]=_0x55a9d1();['subscription'];[_0x3035df(0x27f)];['retryQueue']=_0x21d83a(new _0x44969b(this[_0x3035df(0x475)][_0x3035df(0x5bf)](this),this['waitConnected'][_0x3035df(0x5bf)](this)));[_0x3035df(0x4e9)];constructor(_0x481cd4,_0x73a077,_0x1c6f83,_0x233774,_0x83136c){super(_0x73a077,_0x1c6f83,_0x233774),this['vendorId']=_0x481cd4,this['authService']=_0x83136c;}async['connect'](){const _0x1535ae=_0x3035df;try{const _0x336a7d={'getTokens':async()=>{const _0x18fe48=a0_0x4922,_0x2341d7=await this[_0x18fe48(0x885)]['getIdToken']();return{'accessToken':(0x0,_0x331f8b[_0x18fe48(0x48c)])(_0x2341d7),'idToken':(0x0,_0x331f8b['decodeJWT'])(_0x2341d7)};}};_0x5d9fb5['Amplify']['configure']({'API':{'GraphQL':{'endpoint':_0x59f5be[_0x1535ae(0x91d)]['endpoint'],'region':_0x59f5be[_0x1535ae(0x91d)][_0x1535ae(0x71b)],'defaultAuthMode':_0x1535ae(0x20e)}}},{'Auth':{'tokenProvider':_0x336a7d}});const _0x2c06f6=(0x0,_0x3b3b56[_0x1535ae(0x9f1)])();this[_0x1535ae(0x4e9)]=_0x2c06f6,await this[_0x1535ae(0x3bd)](),this[_0x1535ae(0x27f)]=_0x45d803[_0x1535ae(0x4ea)][_0x1535ae(0x399)]('api',async({payload:_0x20ffde})=>{const _0x1f3968=_0x1535ae;if(_0x20ffde[_0x1f3968(0xa48)]===_0x3b3b56[_0x1f3968(0x49c)]){const _0x239832=_0x20ffde[_0x1f3968(0x937)];this[_0x1f3968(0x622)]=_0x239832['connectionState'],this[_0x1f3968(0x589)]['publish'](_0x239832[_0x1f3968(0x622)]),this['connectionState']===_0x3b3b56[_0x1f3968(0x4b1)]['Disconnected']?(_0x5cdff6[_0x1f3968(0xa29)]('appsync-disconnect',{'clusterId':this[_0x1f3968(0x7b1)],'nodeId':this['getLocalId'](),'nodeType':this['localNode']['type']}),this[_0x1f3968(0x72f)](),this[_0x1f3968(0x566)]()):this[_0x1f3968(0x622)]===_0x3b3b56[_0x1f3968(0x4b1)]['Connected']?_0x5cdff6[_0x1f3968(0x97a)](_0x1f3968(0x232),{'clusterId':this[_0x1f3968(0x7b1)],'nodeId':this[_0x1f3968(0x96f)](),'nodeType':this[_0x1f3968(0x8f4)]['type']}):_0x5cdff6[_0x1f3968(0x97a)](_0x1f3968(0x296),{'clusterId':this[_0x1f3968(0x7b1)],'nodeId':this[_0x1f3968(0x96f)](),'nodeType':this[_0x1f3968(0x8f4)][_0x1f3968(0x48b)],'data':{'state':_0x239832[_0x1f3968(0x622)]}});}});}catch(_0x25b89e){_0x5cdff6[_0x1535ae(0xa29)](_0x1535ae(0x87a),{'clusterId':this[_0x1535ae(0x7b1)],'nodeId':this[_0x1535ae(0x96f)](),'nodeType':this['localNode'][_0x1535ae(0x48b)]});}}['close'](){const _0x274f94=_0x3035df;_0x5cdff6['warning']('appsync-close',{'clusterId':this['clusterId'],'nodeId':this[_0x274f94(0x96f)](),'nodeType':this['localNode'][_0x274f94(0x48b)]}),this[_0x274f94(0xad0)][_0x274f94(0x599)](),this[_0x274f94(0x27f)]?.(),this[_0x274f94(0x611)]?.[_0x274f94(0x5ee)](),delete this[_0x274f94(0x611)];}[_0x3035df(0x229)](){const _0x55eb6f=_0x3035df;return this[_0x55eb6f(0x622)]===_0x3b3b56[_0x55eb6f(0x4b1)][_0x55eb6f(0x874)];}['send'](_0x286de1){const _0x10375c=_0x3035df;this[_0x10375c(0xad0)]['push'](_0x286de1);}[_0x3035df(0xb18)](_0x1d24b9){const _0x212526=_0x3035df;return this['messageListeners'][_0x212526(0x3bd)](_0x1d24b9);}[_0x3035df(0x506)](){const _0x5c7f84=_0x3035df;return[_0x37e813[_0x5c7f84(0x859)][_0x5c7f84(0x51e)]];}async['waitConnected'](){const _0x176f65=_0x3035df;if(!this[_0x176f65(0x229)]())return new Promise(_0x159297=>{const _0x2fe5c9=_0x176f65,_0x155b40=this[_0x2fe5c9(0x589)][_0x2fe5c9(0x3bd)](_0x248051=>{_0x248051===_0x3b3b56['ConnectionState']['Connected']&&(_0x155b40(),_0x159297());});});}async[_0x3035df(0x475)](_0x2345f1){const _0x442362=_0x3035df;if(this['connectionState']!==_0x3b3b56[_0x442362(0x4b1)][_0x442362(0x874)])throw new Error(_0x442362(0x666));_0x2345f1[_0x442362(0x577)]&&0x1===_0x2345f1[_0x442362(0x577)][_0x442362(0x68c)]?await this[_0x442362(0xa4f)](_0x2345f1[_0x442362(0x577)][0x0],JSON[_0x442362(0x83d)](_0x2345f1)):_0x5cdff6[_0x442362(0xa29)]('appsync-no-destination',{'clusterId':this[_0x442362(0x7b1)],'nodeId':this['getLocalId'](),'nodeType':this[_0x442362(0x8f4)][_0x442362(0x48b)]});}async[_0x3035df(0xa4f)](_0x5ab2e5,_0x3c88a3){const _0x5b35d3=_0x3035df;if(!this[_0x5b35d3(0x4e9)])throw new Error('AppSync\x20client\x20not\x20ready');_0x5cdff6['log'](_0x2a39e9[_0x5b35d3(0x32f)],_0x5b35d3(0x508),this[_0x5b35d3(0x96f)](),_0x3c88a3),await this['client'][_0x5b35d3(0x3b8)]({'query':_0x5b35d3(0x694),'variables':{'name':await this['getHash'](_0x5ab2e5),'data':_0x3c88a3}});}async[_0x3035df(0x3bd)](){const _0x15ec5e=_0x3035df;if(this['subscription'])return;if(!this[_0x15ec5e(0x4e9)])throw new Error(_0x15ec5e(0x2d6));_0x5cdff6[_0x15ec5e(0x3e9)](_0x2a39e9[_0x15ec5e(0x32f)],_0x15ec5e(0x462),this[_0x15ec5e(0x96f)]());const _0xaa289c=await this[_0x15ec5e(0x4e9)][_0x15ec5e(0x3b8)]({'query':_0x15ec5e(0x40a),'variables':{'name':await this[_0x15ec5e(0x5cf)]()},'authToken':await this[_0x15ec5e(0x885)][_0x15ec5e(0x924)]()},{'Authorization':await this[_0x15ec5e(0x885)][_0x15ec5e(0x924)]()});this[_0x15ec5e(0x611)]=_0xaa289c[_0x15ec5e(0x3bd)]({'next':({data:_0x4a1fb4})=>{const _0x5f3647=_0x15ec5e,_0x6fce9c=JSON[_0x5f3647(0x50b)](_0x4a1fb4[_0x5f3647(0x3bd)]['data']);!_0x5bf714(_0x6fce9c,this[_0x5f3647(0x96f)]())&&_0x13ebd5(_0x6fce9c,this[_0x5f3647(0x96f)]())&&this[_0x5f3647(0x2fb)]['publish'](_0x6fce9c);},'error':console['log']});}async['getHash'](_0x27b103){const _0x334066=_0x3035df,_0x28c74b=await crypto[_0x334066(0x30d)][_0x334066(0x602)](_0x334066(0xae6),new TextEncoder()[_0x334066(0x51c)](this[_0x334066(0x7c3)]+'-'+this[_0x334066(0x7b1)]+'-'+(_0x27b103??this['getLocalId']())));return Array[_0x334066(0x6a1)](new Uint8Array(_0x28c74b))[_0x334066(0x207)](_0x3ab8e9=>_0x3ab8e9[_0x334066(0xb10)](0x10)[_0x334066(0xace)](0x2,'0'))['join']('');}}!function(_0x2da2c3){const _0x1e9dbb=_0x3035df;_0x2da2c3[_0x2da2c3[_0x1e9dbb(0x8d5)]=0x0]=_0x1e9dbb(0x8d5),_0x2da2c3[_0x2da2c3[_0x1e9dbb(0x65a)]=0x1]=_0x1e9dbb(0x65a),_0x2da2c3[_0x2da2c3[_0x1e9dbb(0x6a3)]=0x2]='Update',_0x2da2c3[_0x2da2c3[_0x1e9dbb(0x294)]=0x3]=_0x1e9dbb(0x294),_0x2da2c3[_0x2da2c3[_0x1e9dbb(0x24a)]=0x4]=_0x1e9dbb(0x24a);}(_0x5532c7||(_0x5532c7={}));const _0x5f594a='0',_0x661313='chunk',_0x8768c1=_0x306086,_0x21b92=0xbe800;class _0x3ed808{[_0x3035df(0x7b1)];[_0x3035df(0x8f4)];[_0x3035df(0x94d)];[_0x3035df(0x1f7)];[_0x3035df(0x4f8)];['connectionConstructor'];[_0x3035df(0x5b8)];[_0x3035df(0xa18)];[_0x3035df(0x88c)]=0x1;[_0x3035df(0x31b)];[_0x3035df(0x7d8)]=[];[_0x3035df(0x258)]=[];[_0x3035df(0x567)];constructor(_0x510a77,_0x2dd037,_0x25e93f,_0xa95f34,_0x46d151,_0x23f2cd){const _0x32c465=_0x3035df;this[_0x32c465(0x7b1)]=_0x510a77,this[_0x32c465(0x8f4)]=_0x2dd037,this[_0x32c465(0x94d)]=_0x25e93f,this[_0x32c465(0x1f7)]=_0xa95f34,this[_0x32c465(0x4f8)]=_0x46d151,this[_0x32c465(0x63e)]=_0x23f2cd,this[_0x32c465(0x5b8)]=new this[(_0x32c465(0x63e))]({'handshakeServers':this[_0x32c465(0x1f7)]}),this[_0x32c465(0x739)]();}[_0x3035df(0x72f)](){this['stopConnection']();}[_0x3035df(0x7a2)](_0x4f8b63){const _0x465fa9=_0x3035df;this[_0x465fa9(0x4f8)]=_0x4f8b63;}async[_0x3035df(0xa40)](_0x43658c,_0x48d835){const _0xc47196=_0x3035df;if(_0x48d835===this[_0xc47196(0x88c)])for(const _0x39248f of _0x43658c){if(!this[_0xc47196(0x5b8)]['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0x39248f);try{await this['connection'][_0xc47196(0x6a9)](_0x39248f);}catch(_0x521c77){this[_0xc47196(0x933)](_0x39248f);}}}[_0x3035df(0x229)](){const _0x180abf=_0x3035df;return this[_0x180abf(0xb29)](),_0x180abf(0xaad)===this[_0x180abf(0x5b8)]['connectionState']&&[_0x180abf(0xaad),_0x180abf(0xad6)]['includes'](this['connection'][_0x180abf(0x821)])&&_0x180abf(0x730)!==this[_0x180abf(0x5b8)][_0x180abf(0x601)]&&_0x180abf(0x4b0)===this[_0x180abf(0xa18)]?.[_0x180abf(0x820)];}[_0x3035df(0xb0e)](_0x1634df){this['systemTopic']=_0x1634df;}[_0x3035df(0x38f)](){const _0x1d97f3=_0x3035df;delete this[_0x1d97f3(0x31b)];}[_0x3035df(0x63b)](_0x56ba68){const _0x4cd963=_0x3035df;this['stopConnection'](),this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x4cd963(0x1f7)]}),_0x56ba68?this['currentVersion']=_0x56ba68:this['currentVersion']+=0x1,this[_0x4cd963(0x739)]();}[_0x3035df(0x679)](){const _0x1d5bac=_0x3035df;this[_0x1d5bac(0x258)][_0x1d5bac(0x8fa)](_0xf03983=>{const _0x32ac0e=_0x1d5bac;try{this['connection'][_0x32ac0e(0x6a9)](_0xf03983);}catch(_0x194dbd){}}),this['pendingHandshakeCandidates']=[];}[_0x3035df(0x485)](_0x2c3e84,_0x5f4c33){const _0x55cf0d=_0x3035df;if(!this[_0x55cf0d(0x31b)])throw new _0x891088(_0x891088[_0x55cf0d(0x5fb)][_0x55cf0d(0x6ae)],{'content':_0x2c3e84});const _0x89d24c={'sourceId':this[_0x55cf0d(0x8f4)][_0x55cf0d(0x6cd)](),'destinationIds':[this[_0x55cf0d(0x94d)]],'propagate':this[_0x55cf0d(0x4f8)]!==_0x20fab9[_0x55cf0d(0x3d5)],'retry':this['connectionType']!==_0x20fab9[_0x55cf0d(0x3d5)],'messageType':_0x160b40[_0x55cf0d(0x513)],'content':_0x2c3e84};_0x5f4c33&&(_0x89d24c[_0x55cf0d(0x4a2)]=_0x5f4c33),this['systemTopic']['publish'](_0x89d24c);}['setupConnectionEvents'](){const _0x3a8262=_0x3035df;this[_0x3a8262(0x5b8)][_0x3a8262(0x60c)]=()=>{const _0x49bbf3=_0x3a8262;_0x49bbf3(0x244)===this['connection'][_0x49bbf3(0xb00)]&&this[_0x49bbf3(0x7d8)][_0x49bbf3(0x68c)]>0x0&&(this[_0x49bbf3(0x567)]&&clearTimeout(this['handshakeDebounce']),this[_0x49bbf3(0x567)]=setTimeout(()=>{const _0x9f82a9=_0x49bbf3;delete this[_0x9f82a9(0x567)],this[_0x9f82a9(0x66c)](),this[_0x9f82a9(0x7d8)]=[];},0x1f4));},this['connection'][_0x3a8262(0x272)]=_0x34dc98=>{const _0x1336b9=_0x3a8262;_0x34dc98[_0x1336b9(0x4fd)]&&this[_0x1336b9(0x7d8)][_0x1336b9(0x343)](_0x34dc98[_0x1336b9(0x4fd)]);};}[_0x3035df(0x45f)](){const _0x5609da=_0x3035df;clearTimeout(this[_0x5609da(0x567)]),delete this[_0x5609da(0x567)],this['handshakeCandidates']=[],this[_0x5609da(0x258)]=[],this[_0x5609da(0xa18)]&&(this[_0x5609da(0xa18)][_0x5609da(0xb18)]=null,this[_0x5609da(0xa18)][_0x5609da(0xa08)]=null,this['dataChannel'][_0x5609da(0x72f)](),delete this[_0x5609da(0xa18)]),this[_0x5609da(0x5b8)][_0x5609da(0x60c)]=null,this[_0x5609da(0x5b8)][_0x5609da(0x272)]=null,this['connection'][_0x5609da(0xa39)]=null,this[_0x5609da(0x5b8)]['onConnectionStateChange']=null,this['connection'][_0x5609da(0xa9d)]=null,this[_0x5609da(0x5b8)][_0x5609da(0x552)]=null,this[_0x5609da(0x5b8)][_0x5609da(0x72f)]();}[_0x3035df(0x933)](_0x1c8150){const _0x5f2965=_0x3035df;this[_0x5f2965(0x258)][_0x5f2965(0x343)](_0x1c8150);}[_0x3035df(0xb29)](){const _0xb04a47=_0x3035df;_0x5cdff6[_0xb04a47(0x3e9)](_0x2a39e9[_0xb04a47(0x4b1)],_0xb04a47(0x314),{'localId':this[_0xb04a47(0x8f4)][_0xb04a47(0x6cd)](),'remoteId':this[_0xb04a47(0x94d)],'connectionState':this[_0xb04a47(0x5b8)][_0xb04a47(0x622)],'handshakeState':this[_0xb04a47(0x5b8)]['handshakeState'],'signalingState':this['connection'][_0xb04a47(0x601)],'dataChannelState':this[_0xb04a47(0xa18)]?.['state']});}}function _0xc89cf9(_0x38e88c,_0x33101b){const _0x3960f0=_0x3035df;_0x33101b['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x3960f0(0x513)],'content':_0x38e88c});}class _0x10dc1d{static [_0x3035df(0xa28)];[_0x3035df(0x58d)]=[];['source'];constructor(){setInterval(()=>{const _0xeaa718=a0_0x4922;this[_0xeaa718(0x58d)]['forEach'](_0x47be23=>{const _0x4d10e1=_0xeaa718;if(Date['now']()-_0x47be23[_0x4d10e1(0x30b)]>_0x47be23[_0x4d10e1(0x4e3)]){try{_0x47be23[_0x4d10e1(0xa58)]();}catch(_0x275d6f){}_0x47be23[_0x4d10e1(0x30b)]=Date[_0x4d10e1(0x6de)]();}});},0x64);}static[_0x3035df(0x98c)](){const _0x4fe23f=_0x3035df;return _0x10dc1d['instance']||(_0x10dc1d[_0x4fe23f(0xa28)]=new _0x10dc1d()),_0x10dc1d[_0x4fe23f(0xa28)];}[_0x3035df(0x543)](_0x2a0c73){const _0x3fa8cd=_0x3035df,_0x3073ab=this[_0x3fa8cd(0x621)](_0x2a0c73),_0x1937fb=_0x2a0c73[_0x3fa8cd(0x376)]();_0x1937fb&&_0x3073ab&&(_0x1937fb[_0x3fa8cd(0xa2e)][_0x3fa8cd(0x90d)]=0.001,_0x3073ab[_0x3fa8cd(0x566)](_0x1937fb),_0x1937fb['connect'](_0x2a0c73['destination']),_0x3073ab['start']());}[_0x3035df(0x67c)](){const _0x26fc73=_0x3035df;this['source']&&(this[_0x26fc73(0x20c)][_0x26fc73(0x2e1)](),this[_0x26fc73(0x20c)][_0x26fc73(0x25f)](),this[_0x26fc73(0x20c)]=void 0x0);}[_0x3035df(0x3e6)](_0x2d4d6b){return new Promise(_0x48203f=>{setTimeout(_0x48203f,_0x2d4d6b);});}[_0x3035df(0x2ca)](_0x5526c5,_0x3561ee){const _0x36fb29=_0x3035df;return this[_0x36fb29(0x58d)]['push']({'callback':_0x5526c5,'interval':_0x3561ee,'lastExecuted':Date[_0x36fb29(0x6de)]()}),()=>{const _0x346ad9=_0x36fb29;this[_0x346ad9(0x58d)]=this[_0x346ad9(0x58d)][_0x346ad9(0xab2)](_0x2ec385=>_0x2ec385[_0x346ad9(0xa58)]!==_0x5526c5);};}[_0x3035df(0x621)](_0x6fdf1b){const _0x140f63=_0x3035df;if(_0x6fdf1b[_0x140f63(0x621)])return _0x6fdf1b[_0x140f63(0x621)]();const _0x15e107=_0x6fdf1b[_0x140f63(0x3e8)](),_0x45ce78=_0x6fdf1b[_0x140f63(0x640)](0x1,0x1,_0x6fdf1b[_0x140f63(0x912)]);return _0x45ce78['getChannelData'](0x0)[0x0]=0xa,_0x15e107[_0x140f63(0xaff)]=_0x45ce78,_0x15e107[_0x140f63(0x34b)]=!0x0,_0x15e107;}}const _0x255ca7=_0x10dc1d[_0x3035df(0x98c)]();class _0x5bbade extends _0x3ed808{[_0x3035df(0x690)]=_0x61647d();[_0x3035df(0xa73)]=_0x61647d();[_0x3035df(0x9f8)]=_0x61647d();[_0x3035df(0xa35)]=new Map();['chunks']=new Map();[_0x3035df(0x8cf)];[_0x3035df(0x4dd)]=0x0;[_0x3035df(0x488)]={'messages':{'total':0x0}};[_0x3035df(0x824)]=0x0;['timeReceiving']=0x0;['loggingCycle']=_0x1af329(_0x3035df(0x333),_0x2a39e9['ReceiverOnMessage']);[_0x3035df(0x72f)](){const _0x495721=_0x3035df;this[_0x495721(0x35c)](),this['receivers'][_0x495721(0x599)](),super['close']();}async[_0x3035df(0x928)](_0xe642ad,_0x5301c8){const _0x481a9d=_0x3035df;this[_0x481a9d(0x88c)]=_0x5301c8,this['clearWaitSuccess']();const _0x49e29f=await this[_0x481a9d(0x5b8)]['createAnswer'](_0xe642ad);this[_0x481a9d(0x679)]();const _0x10e6ef=(0x0,_0x5b15a5['v4'])();this[_0x481a9d(0x485)]({'type':_0x369f7f[_0x481a9d(0x310)],'answer':_0x49e29f,'version':_0x5301c8,'connectionType':this[_0x481a9d(0x4f8)]},_0x10e6ef),this[_0x481a9d(0x4f8)]===_0x20fab9[_0x481a9d(0x3d5)]&&(this[_0x481a9d(0x8cf)]=_0x255ca7[_0x481a9d(0x2ca)](()=>{const _0x104e04=_0x481a9d;this[_0x104e04(0x485)]({'type':_0x369f7f[_0x104e04(0x310)],'answer':_0x49e29f,'version':_0x5301c8,'connectionType':this[_0x104e04(0x4f8)]},_0x10e6ef);},0x1388));}['handleSuccess'](){this['clearWaitSuccess']();}[_0x3035df(0x4a8)](_0x47b708){const _0x48c8ba=_0x3035df;this['resetConnection'](_0x47b708),this['publishSystemMessage']({'type':_0x369f7f[_0x48c8ba(0x8e1)]});}async[_0x3035df(0x5d4)](){const _0x158321=_0x3035df;this[_0x158321(0x31b)]&&(await this['connection'][_0x158321(0x61b)](this['receivers'],(_0x20dd45,_0x126db2)=>{const _0x25c4ed=_0x158321;_0xc89cf9({'type':_0x369f7f[_0x25c4ed(0x667)],'streamId':_0x126db2,'nodeId':this[_0x25c4ed(0x94d)],'stats':_0x20dd45},this[_0x25c4ed(0x31b)]);}),this[_0x158321(0x31b)][_0x158321(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x158321(0x513)],'content':{'type':_0x369f7f[_0x158321(0x667)],'nodeId':this['remoteId'],'stats':{'origin':_0x4076df['Receiver'],'timestamp':Date['now'](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x158321(0x824)],'timeReceiving':this[_0x158321(0x249)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x3035df(0xb18)](_0x206f03){const _0x390a6d=_0x3035df;return _0x59f5be[_0x390a6d(0x6f4)]?this[_0x390a6d(0x690)][_0x390a6d(0x3bd)](_0x206f03):this[_0x390a6d(0x690)][_0x390a6d(0x3bd)](_0x400321=>{const _0x2b9321=_0x390a6d;0x0===_0x400321[_0x2b9321(0x432)]&&_0x400321[_0x2b9321(0x82f)]===_0x160b40[_0x2b9321(0x240)]&&this[_0x2b9321(0x5a8)][_0x2b9321(0x30f)][_0x2b9321(0x3e9)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this[_0x2b9321(0x94d)],()=>_0x73b127(_0x400321)),_0x206f03(_0x400321);});}[_0x3035df(0xa9d)](_0x199e2d){const _0x3f334d=_0x3035df;return this[_0x3f334d(0xa73)][_0x3f334d(0x3bd)](({track:_0xbef7c9,stream:_0x2e32f2})=>_0x199e2d(_0xbef7c9,_0x2e32f2));}[_0x3035df(0x382)](_0x2570bd){const _0xcbab52=_0x3035df;return this['removeTrackCallback'][_0xcbab52(0x3bd)](({track:_0x497a18,stream:_0x43d481})=>_0x2570bd(_0x497a18,_0x43d481));}[_0x3035df(0x63b)](_0x4d261c){const _0x178d41=_0x3035df;this[_0x178d41(0x35c)](),this[_0x178d41(0xa35)]['forEach'](_0x4ddaac=>{const _0x2cc487=_0x178d41;_0x4ddaac[_0x2cc487(0x599)]();}),super[_0x178d41(0x63b)](_0x4d261c);}[_0x3035df(0x66c)](){const _0x14ecdb=_0x3035df;this['publishSystemMessage']({'type':_0x369f7f[_0x14ecdb(0x5e6)],'candidates':this[_0x14ecdb(0x7d8)],'origin':_0x4076df[_0x14ecdb(0x761)],'version':this[_0x14ecdb(0x88c)],'connectionType':this['connectionType']});}[_0x3035df(0x739)](){const _0x295f82=_0x3035df;super[_0x295f82(0x739)](),this['connection'][_0x295f82(0xa9d)]=_0x1fde89=>{const _0x2d3251=_0x295f82;_0x5cdff6[_0x2d3251(0x3e9)](_0x2a39e9[_0x2d3251(0x90f)],_0x2d3251(0x2b4),this[_0x2d3251(0x8f4)][_0x2d3251(0x6cd)](),_0x1fde89),_0x1fde89[_0x2d3251(0x9d4)][0x0][_0x2d3251(0x858)]=_0x58fc4e=>{const _0xb32e65=_0x2d3251;this[_0xb32e65(0xa35)][_0xb32e65(0x557)](_0x1fde89[_0xb32e65(0x9d4)][0x0]['id'])?.['delete'](_0x58fc4e[_0xb32e65(0x3d4)]),0x0===this[_0xb32e65(0xa35)][_0xb32e65(0x557)](_0x1fde89['streams'][0x0]['id'])?.[_0xb32e65(0xadc)]&&this['receivers']['delete'](_0x1fde89[_0xb32e65(0x9d4)][0x0]['id']),this[_0xb32e65(0x9f8)][_0xb32e65(0xa4f)]({'track':_0x58fc4e[_0xb32e65(0x3d4)],'stream':_0x1fde89[_0xb32e65(0x9d4)][0x0]});},this[_0x2d3251(0xa35)][_0x2d3251(0x5e8)](_0x1fde89['streams'][0x0]['id'])||this[_0x2d3251(0xa35)][_0x2d3251(0xac2)](_0x1fde89[_0x2d3251(0x9d4)][0x0]['id'],new Set()),this[_0x2d3251(0xa35)][_0x2d3251(0x557)](_0x1fde89[_0x2d3251(0x9d4)][0x0]['id'])[_0x2d3251(0x784)](_0x1fde89[_0x2d3251(0x3d4)]),this[_0x2d3251(0xa73)]['publish']({'track':_0x1fde89[_0x2d3251(0x3d4)],'stream':_0x1fde89[_0x2d3251(0x9d4)][0x0]});},this[_0x295f82(0x5b8)]['onDataChannel']=_0x20cbdb=>{const _0xc71fc2=_0x295f82;this['dataChannel']=_0x20cbdb['channel'],this['dataChannel'][_0xc71fc2(0xb18)]=_0x356daa=>{const _0x5f2928=_0xc71fc2;if(_0x356daa['data']!==_0x5f594a)this[_0x5f2928(0xa61)](_0x356daa['data']);else{if(!this[_0x5f2928(0xa18)])return void _0x5cdff6[_0x5f2928(0xa29)](_0x5f2928(0x9a3),{'clusterId':this[_0x5f2928(0x7b1)],'nodeId':this['localNode'][_0x5f2928(0x6cd)](),'nodeType':this['localNode'][_0x5f2928(0x48b)],'remoteId':this['remoteId'],'data':{'connection':'receiver'}});if(_0x5f2928(0x4b0)!==this[_0x5f2928(0xa18)][_0x5f2928(0x820)])return;this[_0x5f2928(0xa18)][_0x5f2928(0x6a0)]('1');}};};}[_0x3035df(0xa61)](_0x271571){const _0x35ed6e=_0x3035df;if(_0x35ed6e(0x395)==typeof _0x271571&&_0x271571['startsWith'](_0x661313))return this[_0x35ed6e(0x4dd)]+=0x1,this['bytesReceived']+=_0x271571[_0x35ed6e(0x68c)],this[_0x35ed6e(0x55a)](_0x271571);setTimeout(()=>{const _0x9669b9=_0x35ed6e,_0x22e6fd=Date[_0x9669b9(0x6de)]();let _0x28a2dc;if((_0x271571 instanceof ArrayBuffer||_0x271571[_0x9669b9(0x68c)]<=_0x8768c1)&&(this[_0x9669b9(0x4dd)]+=0x1,this[_0x9669b9(0x824)]+=_0x271571 instanceof ArrayBuffer?_0x271571[_0x9669b9(0x48f)]:_0x271571[_0x9669b9(0x68c)]),_0x271571 instanceof ArrayBuffer){const [_0x582b78,_0x581151]=this['splitParts'](_0x271571);_0x28a2dc=_0x582b78,_0x28a2dc[_0x9669b9(0x1f0)][_0x9669b9(0x937)]=_0x581151;}else _0x28a2dc=JSON['parse'](_0x271571);if(0x0===_0x28a2dc[_0x9669b9(0x432)]){this['systemMessagesReceived']['messages']['total']+=0x1;const {systemMessageType:_0x50ff4b,systemContentMessageType:_0x18ced7}=_0x73b127(_0x28a2dc);this[_0x9669b9(0x488)][_0x50ff4b]||(this[_0x9669b9(0x488)][_0x50ff4b]={[_0x18ced7]:0x0}),this['systemMessagesReceived'][_0x50ff4b][_0x18ced7]||(this[_0x9669b9(0x488)][_0x50ff4b][_0x18ced7]=0x0),this[_0x9669b9(0x488)][_0x50ff4b][_0x9669b9(0x400)]||(this[_0x9669b9(0x488)][_0x50ff4b][_0x9669b9(0x400)]=0x0),this['systemMessagesReceived'][_0x50ff4b][_0x18ced7]+=0x1,this[_0x9669b9(0x488)][_0x50ff4b][_0x9669b9(0x400)]+=0x1;}this[_0x9669b9(0x690)]['publish'](_0x28a2dc),this[_0x9669b9(0x249)]+=Date[_0x9669b9(0x6de)]()-_0x22e6fd;},0x0);}['handleChunkMessage'](_0x1da767){const _0x1f3438=_0x3035df,_0x32d549=_0x1da767['split'](';'),_0x136cf2=_0x32d549[0x1],_0x4151d8=parseInt(_0x32d549[0x2],0xa),_0x582d9a=parseInt(_0x32d549[0x3],0xa),_0x39e451=_0x1da767[_0x1f3438(0x471)](_0x661313+';'+_0x136cf2+';'+_0x4151d8+';'+_0x582d9a+';','');this['chunks'][_0x1f3438(0x5e8)](_0x136cf2)||this[_0x1f3438(0x593)]['set'](_0x136cf2,[]);const _0x4dd7ce=this[_0x1f3438(0x593)][_0x1f3438(0x557)](_0x136cf2);_0x4dd7ce[_0x4151d8]=_0x39e451,_0x4dd7ce[_0x1f3438(0x68c)]===_0x582d9a&&(this['handleOnMessage'](_0x4dd7ce[_0x1f3438(0x95b)]('')),this[_0x1f3438(0x593)][_0x1f3438(0x72d)](_0x136cf2));}[_0x3035df(0x35c)](){const _0x5460df=_0x3035df;this[_0x5460df(0x8cf)]?.(),delete this[_0x5460df(0x8cf)];}[_0x3035df(0x39f)](_0x5eeccc){const _0x342d46=_0x3035df,_0x44f293=new TextDecoder()[_0x342d46(0x770)](_0x5eeccc);return JSON[_0x342d46(0x50b)](_0x44f293);}[_0x3035df(0x9a0)](_0x1a5fc5){const _0x486541=_0x3035df,_0x2987c6=new Uint8Array(_0x1a5fc5['slice'](0x0,0x4)),_0x23a86=new Uint32Array(_0x2987c6[_0x486541(0xaff)])[0x0],_0x2337e4=new Uint8Array(_0x1a5fc5[_0x486541(0x3c5)](0x4,0x4+_0x23a86)),_0x1f7130=new Uint8Array(_0x1a5fc5[_0x486541(0x3c5)](0x4+_0x23a86));return[this[_0x486541(0x39f)](_0x2337e4['buffer']),_0x1f7130[_0x486541(0xaff)]];}}const _0x395d79=0xc350;var _0x437f0a,_0x1a160d;!function(_0xa77a60){const _0x18c249=_0x3035df;_0xa77a60[_0xa77a60[_0x18c249(0x38c)]=0x0]=_0x18c249(0x38c),_0xa77a60[_0xa77a60['Medium']=0x1]='Medium',_0xa77a60[_0xa77a60['Low']=0x2]=_0x18c249(0x772);}(_0x437f0a||(_0x437f0a={}));class _0x1374d2 extends _0x3ed808{['maxFps'];[_0x3035df(0x2c9)];['senders']=new Map();[_0x3035df(0x8cc)];[_0x3035df(0x6bb)];[_0x3035df(0x79f)];[_0x3035df(0x65b)]=!0x1;[_0x3035df(0x8f6)];['restartTimeout'];[_0x3035df(0x40d)];['retryQueue']=function(e,t=_0x437f0a,s=!0x1){const _0xe30765=_0x3035df;let n=!0x1;const i=[];async function o(){const _0x43587e=a0_0x4922;if(!n){for(n=!0x0;i[_0x43587e(0x966)](e=>e[_0x43587e(0x233)]);){let t,n=0x0;for(const [e,s]of i[_0x43587e(0x946)]())if(t=s[_0x43587e(0x866)](),n=e,t)break;if(t)try{if(e instanceof _0x230bba&&e[_0x43587e(0x8b2)](t),e instanceof _0x44969b&&await e[_0x43587e(0x8b2)](t),i[_0x43587e(0x3c5)](-0x1)[_0x43587e(0x966)](e=>e['head']))continue;const s=i[_0x43587e(0x68c)]-0x1;n===s&&i[s][_0x43587e(0x233)]&&await _0x255ca7[_0x43587e(0x3e6)](0x0);}catch(o){s?i[n][_0x43587e(0x343)](t,!0x1):i[n][_0x43587e(0x758)](t,!0x1),await e[_0x43587e(0x3e6)]();}}n=!0x1;}}return Object[_0xe30765(0xb09)](t)['forEach'](e=>{'string'!=typeof e&&(i[e]=_0x2344c4(o));}),{'queues':i};}(new _0x230bba(this[_0x3035df(0x475)]['bind'](this),this[_0x3035df(0xa03)][_0x3035df(0x5bf)](this)));[_0x3035df(0x2a1)]=0x0;[_0x3035df(0x89b)]=0x0;[_0x3035df(0x268)]=0x0;['roundTripTime']=0x0;[_0x3035df(0x78b)];['loggingCycle']=_0x1af329(_0x3035df(0x326),_0x2a39e9[_0x3035df(0xa77)]);constructor(_0x3d1ba6,_0x4d42ae,_0x2d9da1,_0x4ad17f,_0x591f64,_0x5d25c7,_0x24707e,_0x59933c){const _0x44f3d4=_0x3035df;super(_0x3d1ba6,_0x4d42ae,_0x2d9da1,_0x4ad17f,_0x591f64,_0x59933c),this[_0x44f3d4(0xa3a)]=_0x5d25c7,this['maxBpp']=_0x24707e;}[_0x3035df(0x72f)](){const _0x4f0b4d=_0x3035df;this[_0x4f0b4d(0x697)](),this[_0x4f0b4d(0x799)](),delete this[_0x4f0b4d(0x79f)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x4f0b4d(0x414)](),this[_0x4f0b4d(0x613)][_0x4f0b4d(0x599)](),this[_0x4f0b4d(0x65b)]=!0x1,this[_0x4f0b4d(0xad0)]['queues'][_0x4f0b4d(0x8fa)](_0x56de83=>_0x56de83[_0x4f0b4d(0x599)]()),this[_0x4f0b4d(0x415)](),super[_0x4f0b4d(0x72f)]();}['isConnected'](){const _0x137036=_0x3035df;return!!this[_0x137036(0x79f)]&&super[_0x137036(0x229)]()&&Date['now']()-this[_0x137036(0x79f)]<0x3a98;}async['collectStats'](){const _0x277c1c=_0x3035df;this[_0x277c1c(0x31b)]&&(await this[_0x277c1c(0x5b8)][_0x277c1c(0x431)](this[_0x277c1c(0x613)],(_0x58077c,_0x4d5fb3)=>{const _0xd47064=_0x277c1c;_0xc89cf9({'type':_0x369f7f[_0xd47064(0x667)],'streamId':_0x4d5fb3,'nodeId':this[_0xd47064(0x94d)],'stats':_0x58077c},this[_0xd47064(0x31b)]);}),this[_0x277c1c(0x31b)][_0x277c1c(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40['PeerConnection'],'content':{'type':_0x369f7f[_0x277c1c(0x667)],'nodeId':this['remoteId'],'stats':{'origin':_0x4076df[_0x277c1c(0x1f1)],'timestamp':Date[_0x277c1c(0x6de)](),'messagesSent':this[_0x277c1c(0x2a1)],'bytesSent':this[_0x277c1c(0x89b)],'timeSending':this[_0x277c1c(0x268)],'roundTripTime':this['roundTripTime']}}}));}async['createOffer'](_0x593e91){const _0x40662c=_0x3035df;_0x5cdff6[_0x40662c(0x3e9)](_0x2a39e9[_0x40662c(0x90f)],_0x40662c(0x717),this[_0x40662c(0x8f4)][_0x40662c(0x6cd)](),this['remoteId']),this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x40662c(0x414)](),this[_0x40662c(0x8f6)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this['dataChannel']||(this[_0x40662c(0xa18)]=this[_0x40662c(0x5b8)][_0x40662c(0x430)]('data'),this[_0x40662c(0xa18)][_0x40662c(0x841)]=_0x21b92,this['dataChannel'][_0x40662c(0xa08)]=()=>{const _0x62b76e=_0x40662c;this[_0x62b76e(0x78b)]=setTimeout(()=>{const _0x3afc74=_0x62b76e;delete this['oncloseTimeout'],[_0x3afc74(0xa00),'open'][_0x3afc74(0x7c4)](this[_0x3afc74(0xa18)]?.['state']??'')||this[_0x3afc74(0x735)]();},0xfa);});const _0x26769f=await this['connection'][_0x40662c(0x9b6)](_0x593e91);this[_0x40662c(0x79f)]||(this[_0x40662c(0x79f)]=Date[_0x40662c(0x6de)]());const _0x5059e7=(0x0,_0x5b15a5['v4'])();this[_0x40662c(0x485)]({'type':_0x369f7f['Offer'],'offer':_0x26769f,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x5059e7),this[_0x40662c(0x4f8)]===_0x20fab9[_0x40662c(0x3d5)]&&(this['waitAnswer']=_0x255ca7['setInterval'](()=>{const _0x13907c=_0x40662c;this['publishSystemMessage']({'type':_0x369f7f[_0x13907c(0x5d9)],'offer':_0x26769f,'version':this[_0x13907c(0x88c)],'connectionType':this[_0x13907c(0x4f8)]},_0x5059e7);},0x1388));}async[_0x3035df(0x2ac)](_0x3d3742,_0x5448ee){const _0x2f5613=_0x3035df;if(_0x5448ee===this[_0x2f5613(0x88c)]){this[_0x2f5613(0x414)]();try{await this[_0x2f5613(0x5b8)][_0x2f5613(0x2ac)](_0x3d3742,this['createOffer'][_0x2f5613(0x5bf)](this)),this['processPendingHandshakeCandidates'](),this[_0x2f5613(0x5ed)](),this['startHeartbeat']();}catch(_0xf50d40){this['handleDisconnect']();}}}[_0x3035df(0x6a0)](_0x5afd9a){const _0x114228=_0x3035df;if(!this[_0x114228(0xa18)])throw new _0x891088(_0x891088[_0x114228(0x5fb)][_0x114228(0x688)],{'message':_0x114228(0x237),'localId':this[_0x114228(0x8f4)][_0x114228(0x6cd)](),'remoteId':this[_0x114228(0x94d)],'eventMessage':_0x5afd9a});if(_0x114228(0x4b0)!==this[_0x114228(0xa18)][_0x114228(0x820)])throw new _0x891088(_0x891088[_0x114228(0x5fb)][_0x114228(0x688)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x114228(0x8f4)]['getId'](),'remoteId':this[_0x114228(0x94d)],'eventMessage':_0x5afd9a});let _0x418b9c;if(_0x5afd9a['content'][_0x114228(0x937)]instanceof ArrayBuffer){const _0x2d6e83=_0x5afd9a[_0x114228(0x1f0)][_0x114228(0x937)];_0x5afd9a={..._0x5afd9a,'content':{..._0x5afd9a[_0x114228(0x1f0)],'data':void 0x0}},_0x418b9c=this[_0x114228(0x434)](_0x5afd9a,_0x2d6e83);}else _0x418b9c=JSON[_0x114228(0x83d)](_0x5afd9a);if(_0x114228(0x395)==typeof _0x418b9c&&_0x418b9c['length']>_0x8768c1)return this['sendChunked'](_0x5afd9a,_0x418b9c);0x0===_0x5afd9a[_0x114228(0x432)]&&_0x5afd9a['messageType']===_0x160b40['Content']&&this[_0x114228(0x5a8)][_0x114228(0x30f)][_0x114228(0x4ba)](()=>_0x5cdff6[_0x114228(0x3e9)](_0x2a39e9[_0x114228(0xa77)],_0x114228(0x8ed),this[_0x114228(0x94d)],_0x73b127(_0x5afd9a)),void 0x0);const _0x1c36aa=0x0===_0x5afd9a[_0x114228(0x432)]&&[_0x160b40['Subscription'],_0x160b40[_0x114228(0x513)]][_0x114228(0x7c4)](_0x5afd9a[_0x114228(0x82f)])?_0x437f0a[_0x114228(0x38c)]:_0x5afd9a instanceof ArrayBuffer?_0x437f0a[_0x114228(0x772)]:_0x437f0a['Medium'];this[_0x114228(0x9bd)](_0x418b9c,_0x1c36aa);}[_0x3035df(0x3d0)](_0x1cc37c,_0x560376,_0x3b5ae9,_0x32d249){const _0x19c5b4=_0x3035df,_0x7fc4e4=(_0x594e1d=this[_0x19c5b4(0xa3a)],_0x107855=this[_0x19c5b4(0x2c9)],Math[_0x19c5b4(0x22b)](0xe1000*_0x594e1d*_0x107855));var _0x594e1d,_0x107855;const _0x5503d9=this[_0x19c5b4(0x613)][_0x19c5b4(0x557)](_0x560376['id'])||{'stream':_0x560376,'priority':_0x3b5ae9,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x7fc4e4,'maxBitrate':_0x7fc4e4,'framerate':this[_0x19c5b4(0xa3a)],'maxFramerate':this[_0x19c5b4(0xa3a)],'tracks':{},'params':_0x32d249},_0xccd046=_0x5503d9[_0x19c5b4(0x3fb)][_0x1cc37c[_0x19c5b4(0x288)]]||{'track':_0x1cc37c};if(_0xccd046[_0x19c5b4(0x836)]?(_0xccd046[_0x19c5b4(0x3d4)]=_0x1cc37c,this[_0x19c5b4(0x5b8)][_0x19c5b4(0x9ac)](_0x1cc37c,_0xccd046[_0x19c5b4(0x836)])):_0xccd046[_0x19c5b4(0x836)]=this['connection'][_0x19c5b4(0x3d0)](_0x1cc37c,_0x560376),_0x5503d9[_0x19c5b4(0x3fb)][_0x1cc37c[_0x19c5b4(0x288)]]=_0xccd046,_0x32d249&&(_0x5503d9['params']=_0x32d249),_0x32d249&&'video'===_0x32d249[_0x19c5b4(0x288)]&&_0x32d249[_0x19c5b4(0xa98)]&&_0x32d249[_0x19c5b4(0x51a)]&&(_0x5503d9[_0x19c5b4(0x23b)]=this[_0x19c5b4(0x81d)](_0x32d249['resolution'],_0x32d249[_0x19c5b4(0x51a)]),_0x5503d9['minResolutionScale']=_0x5503d9[_0x19c5b4(0x23b)],_0x5503d9[_0x19c5b4(0x3fb)][_0x19c5b4(0xadd)]&&_0x5503d9[_0x19c5b4(0x3fb)]['video']['sender'])){const _0x316a24=_0x5503d9[_0x19c5b4(0x3fb)]['video'][_0x19c5b4(0x836)];this['connection'][_0x19c5b4(0x2a8)](_0x316a24,Math['floor'](0xa*_0x5503d9[_0x19c5b4(0x23b)])/0xa,_0x5503d9[_0x19c5b4(0xae1)],_0x5503d9[_0x19c5b4(0x78d)],_0x5503d9['priority']);}this[_0x19c5b4(0x613)][_0x19c5b4(0xac2)](_0x560376['id'],_0x5503d9);}[_0x3035df(0x8d1)](_0x45d2e4,_0x44a507){const _0x2c6c41=_0x3035df,_0x21c8d2=this[_0x2c6c41(0x613)][_0x2c6c41(0x557)](_0x45d2e4['id']);if(_0x21c8d2&&_0x21c8d2[_0x2c6c41(0x92a)]!==_0x44a507&&(_0x21c8d2[_0x2c6c41(0x92a)]=_0x44a507,_0x21c8d2[_0x2c6c41(0x3fb)]['video']&&_0x21c8d2[_0x2c6c41(0x3fb)][_0x2c6c41(0xadd)]['sender'])){const _0x4bd50f=_0x21c8d2[_0x2c6c41(0x3fb)][_0x2c6c41(0xadd)]['sender'];this['connection'][_0x2c6c41(0x2a8)](_0x4bd50f,Math['floor'](0xa*_0x21c8d2[_0x2c6c41(0x23b)])/0xa,_0x21c8d2[_0x2c6c41(0xae1)],_0x21c8d2['bitrate'],_0x21c8d2[_0x2c6c41(0x92a)]);}}[_0x3035df(0x32a)](_0x1bcf1b,_0x1f1699){const _0x563402=_0x3035df,_0x3bb6ca=this[_0x563402(0x613)][_0x563402(0x557)](_0x1bcf1b['id']);if(_0x3bb6ca){if(_0x3bb6ca[_0x563402(0x572)]=_0x1f1699,_0x1f1699&&_0x563402(0xadd)===_0x1f1699[_0x563402(0x288)]&&_0x1f1699['resolution']&&_0x1f1699['maxResolution']){if(_0x3bb6ca[_0x563402(0x24e)]=this['getResolutionScale'](_0x1f1699[_0x563402(0xa98)],_0x1f1699[_0x563402(0x51a)]),_0x3bb6ca[_0x563402(0x23b)]<_0x3bb6ca['minResolutionScale']&&(_0x3bb6ca[_0x563402(0x23b)]=_0x3bb6ca['minResolutionScale']),_0x3bb6ca['tracks'][_0x563402(0xadd)]&&_0x3bb6ca[_0x563402(0x3fb)][_0x563402(0xadd)]['sender']){const _0x4c31cf=_0x3bb6ca[_0x563402(0x3fb)]['video']['sender'];this[_0x563402(0x5b8)][_0x563402(0x2a8)](_0x4c31cf,Math[_0x563402(0x22b)](0xa*_0x3bb6ca[_0x563402(0x23b)])/0xa,_0x3bb6ca[_0x563402(0xae1)],_0x3bb6ca[_0x563402(0x78d)],_0x3bb6ca[_0x563402(0x92a)]);}this[_0x563402(0x697)](),this[_0x563402(0x2dd)]();}this[_0x563402(0x613)][_0x563402(0xac2)](_0x1bcf1b['id'],_0x3bb6ca);}}['removeTrack'](_0x1b96c7,_0x126537){const _0x5139fe=_0x3035df,_0x84e90b=this['senders']['get'](_0x126537['id']);if(_0x84e90b){const _0x5f2d96=_0x84e90b[_0x5139fe(0x3fb)][_0x1b96c7['kind']];_0x5f2d96&&(_0x5f2d96[_0x5139fe(0x836)]&&this[_0x5139fe(0x5b8)]['removeTrack'](_0x5f2d96[_0x5139fe(0x836)]),_0x5f2d96['track']=void 0x0);}}[_0x3035df(0x9dd)](_0x10a881){const _0x3d03c4=_0x3035df;this[_0x3d03c4(0x697)]();const _0x26ce33=function(_0x8fcfc,_0x10e4a3){const _0x2e40f8=_0x3d03c4;return _0x8fcfc[_0x2e40f8(0x7aa)]((_0x2283f5,_0x2bc5ae)=>_0x10e4a3[_0x2e40f8(0x702)]===_0x2588b9['Downgrade']?_0x2bc5ae['priority']-_0x2283f5['priority']:_0x2283f5[_0x2e40f8(0x92a)]-_0x2bc5ae['priority'])['find'](_0x1d6ba9=>function(_0x43c538,_0x269731){const _0x28bfba=_0x2e40f8;if(_0x269731[_0x28bfba(0x702)]===_0x2588b9['Downgrade']){if(_0x269731[_0x28bfba(0x5cb)]===_0x146fc2[_0x28bfba(0xaef)])return _0x43c538['resolutionScale']<0x4||_0x43c538['maxFramerate']>0xf;if(_0x269731[_0x28bfba(0x5cb)]===_0x146fc2['Bitrate'])return _0x43c538[_0x28bfba(0x5b3)]>_0x395d79;}return _0x43c538['resolutionScale']>_0x43c538[_0x28bfba(0x24e)]||_0x43c538['framerate']<_0x43c538[_0x28bfba(0xa05)]||_0x43c538['bitrate']<_0x43c538[_0x28bfba(0x5b3)];}(_0x1d6ba9,_0x10e4a3));}(Array[_0x3d03c4(0x6a1)](this[_0x3d03c4(0x613)][_0x3d03c4(0xb09)]()),_0x10a881);if(_0x26ce33&&(function(_0xddc7c3,_0x8f7f98){const _0xd970de=_0x3d03c4;_0xddc7c3[_0xd970de(0x3fb)]['video']&&_0xddc7c3[_0xd970de(0x3fb)][_0xd970de(0xadd)][_0xd970de(0x836)]&&(_0xddc7c3[_0xd970de(0x23b)]=function(_0x4851ff,_0x4250ea,_0xb00aa0){const _0x157692=_0xd970de;switch(_0xb00aa0[_0x157692(0x702)]){case _0x2588b9[_0x157692(0xa87)]:_0xb00aa0[_0x157692(0x5cb)]===_0x146fc2[_0x157692(0xaef)]&&(_0x4851ff+=0.5)>0x4&&(_0x4851ff=0x4);break;case _0x2588b9[_0x157692(0x9b1)]:(_0x4851ff-=0.5)<_0x4250ea&&(_0x4851ff=_0x4250ea);}return _0x4851ff;}(_0xddc7c3[_0xd970de(0x23b)],_0xddc7c3[_0xd970de(0x24e)],_0x8f7f98),_0xddc7c3[_0xd970de(0xae1)]=function(_0x2d5a14,_0x4aac2d,_0x21ef5f){const _0x890cfe=_0xd970de;switch(_0x21ef5f[_0x890cfe(0x702)]){case _0x2588b9['Downgrade']:_0x21ef5f[_0x890cfe(0x5cb)]===_0x146fc2[_0x890cfe(0xaef)]&&(_0x2d5a14-=0x3)<0xf&&(_0x2d5a14=0xf);break;case _0x2588b9['Upgrade']:(_0x2d5a14+=0x3)>_0x4aac2d&&(_0x2d5a14=_0x4aac2d);}return _0x2d5a14;}(_0xddc7c3[_0xd970de(0xae1)],_0xddc7c3[_0xd970de(0xa05)],_0x8f7f98),_0xddc7c3[_0xd970de(0x78d)]=function(_0x33d2e7,_0x201b9c,_0x260d92){const _0x159ffc=_0xd970de;switch(_0x260d92[_0x159ffc(0x702)]){case _0x2588b9['Downgrade']:_0x260d92[_0x159ffc(0x5cb)]===_0x146fc2[_0x159ffc(0x446)]&&(_0x33d2e7*=0.75)<_0x395d79&&(_0x33d2e7=_0x395d79);break;case _0x2588b9[_0x159ffc(0x9b1)]:(_0x33d2e7*=1.25)>_0x201b9c&&(_0x33d2e7=_0x201b9c);}return _0x33d2e7;}(_0xddc7c3[_0xd970de(0x78d)],_0xddc7c3[_0xd970de(0x5b3)],_0x8f7f98));}(_0x26ce33,_0x10a881),_0x26ce33['tracks'][_0x3d03c4(0xadd)]&&_0x26ce33[_0x3d03c4(0x3fb)][_0x3d03c4(0xadd)]['sender'])){const _0x191c91=_0x26ce33[_0x3d03c4(0x3fb)][_0x3d03c4(0xadd)][_0x3d03c4(0x836)];this['connection'][_0x3d03c4(0x2a8)](_0x191c91,Math[_0x3d03c4(0x22b)](0xa*_0x26ce33[_0x3d03c4(0x23b)])/0xa,_0x26ce33[_0x3d03c4(0xae1)],_0x26ce33[_0x3d03c4(0x78d)],_0x26ce33['priority']);}(_0x26ce33||_0x10a881[_0x3d03c4(0x702)]===_0x2588b9[_0x3d03c4(0xa87)])&&this[_0x3d03c4(0x2dd)]();}[_0x3035df(0x275)](){const _0xbdacda=_0x3035df;return this[_0xbdacda(0xad0)][_0xbdacda(0x93f)][_0xbdacda(0x2fc)]((_0x46dbbb,_0x19f6c2)=>_0x46dbbb+_0x19f6c2[_0xbdacda(0xadc)],0x0)*_0x306086;}[_0x3035df(0x6e7)](){const _0x250b3e=_0x3035df;return this[_0x250b3e(0xa18)]?.[_0x250b3e(0xb07)]??0x0;}[_0x3035df(0x63b)](){const _0x28e64c=_0x3035df;super[_0x28e64c(0x63b)](),this[_0x28e64c(0x415)](),this['clearWaitAnswer'](),this['senders'][_0x28e64c(0x8fa)](_0x1d21ff=>{const _0x5d5629=_0x28e64c;_0x1d21ff['tracks'][_0x5d5629(0xadd)]&&(_0x1d21ff[_0x5d5629(0x3fb)]['video']['sender']=void 0x0),_0x1d21ff[_0x5d5629(0x3fb)][_0x5d5629(0x8ba)]&&(_0x1d21ff[_0x5d5629(0x3fb)][_0x5d5629(0x8ba)][_0x5d5629(0x836)]=void 0x0);}),this[_0x28e64c(0x65b)]=!0x0;}async[_0x3035df(0xa03)](){return new Promise(async _0x5646fa=>{const _0x78595f=a0_0x4922;if(!this[_0x78595f(0xa18)]||_0x78595f(0x4b0)!==this['dataChannel']['state'])return await _0x255ca7[_0x78595f(0x3e6)](0x64),void _0x5646fa();this['dataChannel'][_0x78595f(0xb07)]<_0x21b92?_0x5646fa():this[_0x78595f(0xa18)][_0x78595f(0x95e)]=()=>{const _0x3c59b7=_0x78595f;this[_0x3c59b7(0xa18)]&&(this[_0x3c59b7(0xa18)][_0x3c59b7(0x95e)]=null),_0x5646fa();};});}[_0x3035df(0x47f)](_0x3ca39d,_0x3364df){const _0x27ef9b=_0x3035df,_0x5214a7=[];for(let _0x3d0570=0x0;_0x3d0570<_0x3364df['length'];_0x3d0570+=_0x8768c1)_0x5214a7['push'](_0x3364df[_0x27ef9b(0x3c5)](_0x3d0570,_0x3d0570+_0x8768c1));for(const _0x56cb57 of _0x5214a7)this[_0x27ef9b(0x9bd)](_0x661313+';'+_0x3ca39d[_0x27ef9b(0x4a2)]+';'+_0x5214a7[_0x27ef9b(0x331)](_0x56cb57)+';'+_0x5214a7[_0x27ef9b(0x68c)]+';'+_0x56cb57,_0x437f0a[_0x27ef9b(0x772)]);}async[_0x3035df(0x9bd)](_0x2e4b25,_0x5d7ce7){const _0x2bee91=_0x3035df;_0x2e4b25===_0x5f594a?this[_0x2bee91(0xad0)][_0x2bee91(0x93f)][_0x5d7ce7][_0x2bee91(0x233)]?.[_0x2bee91(0x90d)]!==_0x5f594a&&this[_0x2bee91(0xad0)][_0x2bee91(0x93f)][_0x5d7ce7][_0x2bee91(0x758)](_0x2e4b25):this[_0x2bee91(0xad0)][_0x2bee91(0x93f)][_0x5d7ce7][_0x2bee91(0x343)](_0x2e4b25);}[_0x3035df(0x475)](_0x430b19){const _0x569ce6=_0x3035df;if(!this[_0x569ce6(0xa18)]||_0x569ce6(0x4b0)!==this[_0x569ce6(0xa18)][_0x569ce6(0x820)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0x569ce6(0xa18)][_0x569ce6(0xb07)]>=0xbe8000)throw new Error(_0x569ce6(0x8b4));const _0x5bae49=Date[_0x569ce6(0x6de)]();_0x430b19!==_0x5f594a&&(this['messagesSent']+=0x1,this[_0x569ce6(0x89b)]+=_0x430b19 instanceof ArrayBuffer?_0x430b19[_0x569ce6(0x48f)]:_0x430b19[_0x569ce6(0x68c)]),ArrayBuffer,this[_0x569ce6(0xa18)][_0x569ce6(0x6a0)](_0x430b19),this[_0x569ce6(0x268)]+=Date['now']()-_0x5bae49;}[_0x3035df(0x5c2)](){const _0x295ebc=_0x3035df;this[_0x295ebc(0x8cc)]&&this[_0x295ebc(0x799)]();let _0x4a9a53=!0x0,_0x56107c=Date['now']();this['lastHeartbeat']=Date[_0x295ebc(0x6de)](),this[_0x295ebc(0xa18)][_0x295ebc(0xb18)]=_0x15e095=>{const _0x2d936e=_0x295ebc;'1'===_0x15e095[_0x2d936e(0x937)]&&(this[_0x2d936e(0xa2b)]=Date[_0x2d936e(0x6de)]()-_0x56107c,_0x4a9a53&&this[_0x2d936e(0x485)]({'type':_0x369f7f[_0x2d936e(0x23c)]}),_0x4a9a53=!0x1,this[_0x2d936e(0x79f)]=Date[_0x2d936e(0x6de)](),this[_0x2d936e(0x65b)]&&(this[_0x2d936e(0x65b)]=!0x1,this[_0x2d936e(0x880)]()));},this[_0x295ebc(0x8cc)]=_0x255ca7[_0x295ebc(0x2ca)](()=>{const _0x4c9ed5=_0x295ebc;_0x56107c=Date['now'](),this[_0x4c9ed5(0x9bd)](_0x5f594a,_0x437f0a[_0x4c9ed5(0x38c)]),Date[_0x4c9ed5(0x6de)]()-this[_0x4c9ed5(0x79f)]>(_0x4a9a53?0x15f90:0x3a98)&&this[_0x4c9ed5(0x735)]();},0xbb8);}[_0x3035df(0x880)](){const _0x19b246=_0x3035df;this['senders'][_0x19b246(0x8fa)](_0x161aee=>{const _0x27080f=_0x19b246;_0x161aee[_0x27080f(0x3fb)][_0x27080f(0xadd)]&&_0x161aee['tracks']['video'][_0x27080f(0x3d4)]&&!_0x161aee['tracks'][_0x27080f(0xadd)][_0x27080f(0x836)]&&(_0x161aee[_0x27080f(0x3fb)][_0x27080f(0xadd)][_0x27080f(0x836)]=this[_0x27080f(0x5b8)][_0x27080f(0x3d0)](_0x161aee['tracks'][_0x27080f(0xadd)][_0x27080f(0x3d4)],_0x161aee['stream'])),_0x161aee[_0x27080f(0x3fb)][_0x27080f(0x8ba)]&&_0x161aee[_0x27080f(0x3fb)][_0x27080f(0x8ba)][_0x27080f(0x3d4)]&&!_0x161aee[_0x27080f(0x3fb)][_0x27080f(0x8ba)][_0x27080f(0x836)]&&(_0x161aee[_0x27080f(0x3fb)][_0x27080f(0x8ba)][_0x27080f(0x836)]=this[_0x27080f(0x5b8)][_0x27080f(0x3d0)](_0x161aee['tracks'][_0x27080f(0x8ba)][_0x27080f(0x3d4)],_0x161aee['stream']));});}[_0x3035df(0x66c)](){const _0x2a2d17=_0x3035df;this[_0x2a2d17(0x485)]({'type':_0x369f7f['Handshake'],'candidates':this[_0x2a2d17(0x7d8)],'origin':_0x4076df[_0x2a2d17(0x1f1)],'version':this[_0x2a2d17(0x88c)],'connectionType':this[_0x2a2d17(0x4f8)]});}[_0x3035df(0x739)](){const _0x527fa7=_0x3035df;super['setupConnectionEvents'](),this[_0x527fa7(0x5b8)]['onHandshakeStateChange']=()=>{const _0x2b12c1=_0x527fa7;if(_0x2b12c1(0x8eb)===this[_0x2b12c1(0x5b8)][_0x2b12c1(0x821)]){_0x5cdff6[_0x2b12c1(0x3e9)](_0x2a39e9['ConnectionState'],_0x2b12c1(0x705),this['localNode'][_0x2b12c1(0x6cd)](),this['remoteId']);try{if(this['connection']['canRestartHandshake'])return void this['connection']['restartHandshake']();}catch(_0x2abed1){}this[_0x2b12c1(0x9b6)]({'handshakeRestart':!0x0});}},this[_0x527fa7(0x5b8)][_0x527fa7(0x9b2)]=()=>{const _0x17476d=_0x527fa7;_0x17476d(0x3da)!==this['connection'][_0x17476d(0x622)]&&_0x17476d(0x8eb)!==this[_0x17476d(0x5b8)][_0x17476d(0x622)]||this[_0x17476d(0x735)]();};}['handleDisconnect'](){const _0x2b6db8=_0x3035df;this[_0x2b6db8(0x799)](),this[_0x2b6db8(0x746)](),this[_0x2b6db8(0x5ed)](),_0x5cdff6['warning']('disconnect',{'clusterId':this[_0x2b6db8(0x7b1)],'nodeId':this['localNode'][_0x2b6db8(0x6cd)](),'nodeType':this[_0x2b6db8(0x8f4)][_0x2b6db8(0x48b)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x2b6db8(0x4f8)],'connectionState':this['connection']['connectionState'],'iceConnectionState':this[_0x2b6db8(0x5b8)][_0x2b6db8(0x821)],'signalingState':this['connection']['signalingState'],'readyState':this[_0x2b6db8(0xa18)]?.[_0x2b6db8(0x820)]||'','lastHeartbeat':this[_0x2b6db8(0x79f)]?Date[_0x2b6db8(0x6de)]()-this[_0x2b6db8(0x79f)]:'','retryQueue':this[_0x2b6db8(0xad0)]}}),(this[_0x2b6db8(0x79f)]&&Date[_0x2b6db8(0x6de)]()-this[_0x2b6db8(0x79f)]>0xea60)??0x1?this[_0x2b6db8(0x31b)][_0x2b6db8(0xa4f)]({'sourceId':this['remoteId'],'destinationIds':[this['localNode']['getId']()],'messageType':_0x160b40[_0x2b6db8(0x513)],'content':{'type':_0x369f7f['Disconnect']}}):(this[_0x2b6db8(0x63b)](),this['publishSystemMessage']({'type':_0x369f7f['NeedRestart'],'version':this[_0x2b6db8(0x88c)],'connectionType':this[_0x2b6db8(0x4f8)]}),this[_0x2b6db8(0x498)]=setTimeout(()=>{const _0x326fbe=_0x2b6db8;this[_0x326fbe(0x735)]();},0x7530));}[_0x3035df(0x799)](){const _0x11f12b=_0x3035df;this[_0x11f12b(0x8cc)]?.(),delete this[_0x11f12b(0x8cc)];}[_0x3035df(0x5ed)](){const _0x255ef1=_0x3035df;this[_0x255ef1(0x8f6)]&&(clearTimeout(this['connectionTimeout']),delete this[_0x255ef1(0x8f6)]);}[_0x3035df(0x746)](){const _0x42afca=_0x3035df;this[_0x42afca(0x498)]&&(clearTimeout(this[_0x42afca(0x498)]),delete this[_0x42afca(0x498)]);}[_0x3035df(0x697)](){const _0x38d8c8=_0x3035df;this[_0x38d8c8(0x40d)]&&(clearTimeout(this[_0x38d8c8(0x40d)]),delete this[_0x38d8c8(0x40d)]);}[_0x3035df(0x2dd)](){this['upgradeTimeout']=setTimeout(()=>{const _0x3cfd8e=a0_0x4922;this[_0x3cfd8e(0x9dd)]({'type':_0x4f8dca['Remediation'],'action':_0x2588b9[_0x3cfd8e(0x9b1)]});},0x3a98);}['getResolutionScale'](_0x56d3c3,_0x3189f6){const _0x5dbae4=_0x3035df,_0x48607c=Math[_0x5dbae4(0x6e6)](_0x56d3c3[_0x5dbae4(0x994)]/_0x3189f6[_0x5dbae4(0x994)],_0x56d3c3[_0x5dbae4(0x965)]/_0x3189f6[_0x5dbae4(0x965)]);return Math['min'](Math[_0x5dbae4(0x6e6)](_0x48607c,0x1),0x4);}[_0x3035df(0x414)](){const _0x38cbf6=_0x3035df;this['waitAnswer']?.(),delete this[_0x38cbf6(0x6bb)];}[_0x3035df(0x415)](){const _0x105f4b=_0x3035df;this['oncloseTimeout']&&(clearTimeout(this[_0x105f4b(0x78b)]),delete this[_0x105f4b(0x78b)]);}[_0x3035df(0x94a)](_0x2006ed){const _0x37b116=JSON['stringify'](_0x2006ed);return new TextEncoder()['encode'](_0x37b116)['buffer'];}[_0x3035df(0x434)](_0x2c4a65,_0x310f6e){const _0x384d42=_0x3035df,_0x3682fc=this[_0x384d42(0x94a)](_0x2c4a65),_0x22c915=new Uint8Array(0x4),_0x4e844c=new Uint8Array(_0x3682fc),_0x34104c=new Uint8Array(_0x310f6e);_0x22c915[_0x384d42(0xac2)](new Uint8Array(new Uint32Array([_0x4e844c[_0x384d42(0x68c)]])[_0x384d42(0xaff)]));const _0x1b5abb=new Uint8Array(0x4+_0x4e844c[_0x384d42(0x68c)]+_0x34104c[_0x384d42(0x68c)]);return _0x1b5abb[_0x384d42(0xac2)](_0x22c915),_0x1b5abb[_0x384d42(0xac2)](_0x4e844c,0x4),_0x1b5abb[_0x384d42(0xac2)](_0x34104c,0x4+_0x4e844c[_0x384d42(0x68c)]),_0x1b5abb['buffer'];}}class _0x694914 extends _0x51cf63{[_0x3035df(0x1f7)];[_0x3035df(0x4f8)];['maxFps'];[_0x3035df(0x2c9)];[_0x3035df(0x63e)];[_0x3035df(0x540)];[_0x3035df(0x57e)];[_0x3035df(0x87b)]=[];[_0x3035df(0x2fb)]=_0x55a9d1();['trackListeners']=_0x55a9d1();['removeTrackListeners']=_0x55a9d1();[_0x3035df(0x44c)]=[];[_0x3035df(0x31b)];[_0x3035df(0x993)]=new Map();[_0x3035df(0x280)]=new Map();['mediaTopics']=new Map();[_0x3035df(0x392)]=new Map();[_0x3035df(0x87f)]=!0x1;constructor(_0x155d6d,_0x16af88,_0x32dbe0,_0x212227,_0x3ddd9f,_0x16a8ee,_0x2e5fce,_0x41dfa1){const _0x48b727=_0x3035df;super(_0x155d6d,_0x16af88,_0x32dbe0),this[_0x48b727(0x1f7)]=_0x212227,this[_0x48b727(0x4f8)]=_0x3ddd9f,this[_0x48b727(0xa3a)]=_0x16a8ee,this[_0x48b727(0x2c9)]=_0x2e5fce,this[_0x48b727(0x63e)]=_0x41dfa1;}[_0x3035df(0x4d8)](_0x2366c1){const _0x20efa6=_0x3035df;switch(_0x2366c1[_0x20efa6(0x8be)]()){case _0x37e813['ContentType'][_0x20efa6(0x51e)]:case _0x37e813[_0x20efa6(0x859)][_0x20efa6(0x4e2)]:case _0x37e813[_0x20efa6(0x859)][_0x20efa6(0x951)]:case _0x37e813['ContentType'][_0x20efa6(0xa04)]:case _0x37e813[_0x20efa6(0x859)][_0x20efa6(0x749)]:case _0x37e813[_0x20efa6(0x859)][_0x20efa6(0x85b)]:case _0x37e813[_0x20efa6(0x859)][_0x20efa6(0x9e3)]:case _0x37e813['ContentType'][_0x20efa6(0x3dd)]:this[_0x20efa6(0x993)][_0x20efa6(0xac2)](_0x2366c1[_0x20efa6(0x59f)](),_0x2366c1);break;case _0x37e813[_0x20efa6(0x859)][_0x20efa6(0x4f9)]:this[_0x20efa6(0x55c)][_0x20efa6(0xac2)](_0x2366c1[_0x20efa6(0x59f)](),_0x2366c1);}}[_0x3035df(0x5f9)](_0x21e758){const _0x505130=_0x3035df;switch(_0x21e758[_0x505130(0x8be)]()){case _0x37e813[_0x505130(0x859)]['Data']:case _0x37e813['ContentType'][_0x505130(0x4e2)]:case _0x37e813[_0x505130(0x859)][_0x505130(0x951)]:case _0x37e813[_0x505130(0x859)][_0x505130(0xa04)]:case _0x37e813[_0x505130(0x859)][_0x505130(0x749)]:case _0x37e813['ContentType']['VectorDatabase']:case _0x37e813[_0x505130(0x859)][_0x505130(0x9e3)]:case _0x37e813[_0x505130(0x859)][_0x505130(0x3dd)]:this[_0x505130(0x993)][_0x505130(0x72d)](_0x21e758['getLabel']());break;case _0x37e813[_0x505130(0x859)][_0x505130(0x4f9)]:this[_0x505130(0x55c)]['delete'](_0x21e758[_0x505130(0x59f)]());}}[_0x3035df(0x9af)](_0x345354){const _0x359ebb=_0x3035df;switch(_0x345354[_0x359ebb(0x8be)]()){case _0x37e813['ContentType'][_0x359ebb(0x51e)]:case _0x37e813[_0x359ebb(0x859)][_0x359ebb(0x4e2)]:case _0x37e813['ContentType'][_0x359ebb(0x951)]:case _0x37e813[_0x359ebb(0x859)][_0x359ebb(0xa04)]:case _0x37e813['ContentType'][_0x359ebb(0x749)]:case _0x37e813[_0x359ebb(0x859)][_0x359ebb(0x85b)]:case _0x37e813[_0x359ebb(0x859)]['GraphDatabase']:case _0x37e813[_0x359ebb(0x859)]['ExternalStorage']:{const _0x38ea21=_0x345354['subscribe'](_0x4cf280=>{const _0x19be5a=_0x359ebb;_0x5bf714(_0x4cf280,this[_0x19be5a(0x96f)]())&&_0x13ebd5(_0x4cf280,this[_0x19be5a(0x94d)])&&this[_0x19be5a(0x6a0)](_0x4cf280);});this[_0x359ebb(0x280)][_0x359ebb(0xac2)](_0x345354[_0x359ebb(0x59f)](),_0x38ea21);break;}case _0x37e813[_0x359ebb(0x859)][_0x359ebb(0x4f9)]:{const _0x485e14=_0x345354[_0x359ebb(0x3bd)](({content:_0x47facf})=>{const _0x1d3699=_0x359ebb;switch(_0x47facf['action']){case _0x5532c7[_0x1d3699(0x8d5)]:this[_0x1d3699(0x3d0)](_0x47facf[_0x1d3699(0x3d4)],_0x47facf[_0x1d3699(0x338)],_0x47facf[_0x1d3699(0x92a)],_0x47facf[_0x1d3699(0x572)]);break;case _0x5532c7[_0x1d3699(0x65a)]:this[_0x1d3699(0xab6)](_0x47facf[_0x1d3699(0x3d4)],_0x47facf['stream']);break;case _0x5532c7['Update']:_0x47facf[_0x1d3699(0x92a)]&&this[_0x1d3699(0x8d1)](_0x47facf[_0x1d3699(0x338)],_0x47facf[_0x1d3699(0x92a)]),_0x47facf[_0x1d3699(0x572)]&&this[_0x1d3699(0x32a)](_0x47facf[_0x1d3699(0x338)],_0x47facf[_0x1d3699(0x572)]);}});this[_0x359ebb(0x392)][_0x359ebb(0xac2)](_0x345354[_0x359ebb(0x59f)](),_0x485e14);break;}}}[_0x3035df(0xaae)](_0x5c4317){const _0x5b2bf1=_0x3035df;switch(_0x5c4317[_0x5b2bf1(0x8be)]()){case _0x37e813[_0x5b2bf1(0x859)]['Data']:case _0x37e813['ContentType'][_0x5b2bf1(0x4e2)]:case _0x37e813[_0x5b2bf1(0x859)][_0x5b2bf1(0x951)]:case _0x37e813[_0x5b2bf1(0x859)][_0x5b2bf1(0xa04)]:case _0x37e813[_0x5b2bf1(0x859)][_0x5b2bf1(0x749)]:case _0x37e813['ContentType'][_0x5b2bf1(0x85b)]:case _0x37e813[_0x5b2bf1(0x859)]['GraphDatabase']:case _0x37e813[_0x5b2bf1(0x859)][_0x5b2bf1(0x3dd)]:this[_0x5b2bf1(0x280)][_0x5b2bf1(0x557)](_0x5c4317[_0x5b2bf1(0x59f)]())?.(),this['dataUnsubscribers'][_0x5b2bf1(0x72d)](_0x5c4317['getLabel']());break;case _0x37e813['ContentType'][_0x5b2bf1(0x4f9)]:this['mediaUnsubscribers']['get'](_0x5c4317['getLabel']())?.(),this['mediaUnsubscribers'][_0x5b2bf1(0x72d)](_0x5c4317['getLabel']());}}[_0x3035df(0x506)](){const _0x39be3c=_0x3035df;return[_0x37e813[_0x39be3c(0x859)][_0x39be3c(0x51e)],_0x37e813[_0x39be3c(0x859)]['Media'],_0x37e813[_0x39be3c(0x859)]['PubSub'],_0x37e813[_0x39be3c(0x859)][_0x39be3c(0x951)],_0x37e813[_0x39be3c(0x859)]['KeyValueDatabase'],_0x37e813[_0x39be3c(0x859)][_0x39be3c(0x749)],_0x37e813[_0x39be3c(0x859)]['VectorDatabase'],_0x37e813['ContentType'][_0x39be3c(0x9e3)],_0x37e813[_0x39be3c(0x859)][_0x39be3c(0x3dd)]];}[_0x3035df(0xb0e)](_0x197a40){const _0x2d176a=_0x3035df;this[_0x2d176a(0x31b)]=_0x197a40;}[_0x3035df(0x38f)](){delete this['systemTopic'];}async[_0x3035df(0x566)](){const _0x3f9a02=_0x3035df;this[_0x3f9a02(0x6b9)](),await this[_0x3f9a02(0x9b6)]();}[_0x3035df(0x72f)](){const _0x57fa=_0x3035df;this[_0x57fa(0x44c)][_0x57fa(0x8fa)](_0x2ff806=>_0x2ff806()),this[_0x57fa(0x44c)]=[],this[_0x57fa(0x540)]?.[_0x57fa(0x38f)](),this[_0x57fa(0x540)]?.['close'](),delete this[_0x57fa(0x540)],this[_0x57fa(0x87b)][_0x57fa(0x8fa)](_0x401e01=>_0x401e01()),this[_0x57fa(0x87b)]=[],this[_0x57fa(0x57e)]?.[_0x57fa(0x38f)](),this[_0x57fa(0x57e)]?.['close'](),delete this[_0x57fa(0x57e)];}[_0x3035df(0x229)](){const _0x1ab7d1=_0x3035df;return this[_0x1ab7d1(0x540)]?.['isConnected']()&&this['receiverConnection']?.[_0x1ab7d1(0x229)]()||!0x1;}[_0x3035df(0x6a0)](_0x325a05){const _0x39d572=_0x3035df;if(!this[_0x39d572(0x540)]||!this[_0x39d572(0x229)]())throw new _0x891088(_0x891088[_0x39d572(0x5fb)][_0x39d572(0x347)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x39d572(0x540)]?.[_0x39d572(0x229)](),'receiverConnected':this[_0x39d572(0x57e)]?.[_0x39d572(0x229)](),'localId':this[_0x39d572(0x96f)](),'remoteId':this[_0x39d572(0x94d)],'data':_0x325a05});this[_0x39d572(0x540)]['send'](_0x325a05);}['onMessage'](_0x16ed4a){const _0x523eef=_0x3035df;return this[_0x523eef(0x2fb)][_0x523eef(0x3bd)](_0x16ed4a);}[_0x3035df(0xa9d)](_0x543b3c){const _0x4f22c5=_0x3035df;return this[_0x4f22c5(0x9fc)]['subscribe'](({track:_0x54e2c2,stream:_0x2bbf9e})=>_0x543b3c(_0x54e2c2,_0x2bbf9e));}[_0x3035df(0x382)](_0x3435d6){const _0x2be26f=_0x3035df;return this[_0x2be26f(0xa26)]['subscribe'](({track:_0x303d1b,stream:_0x501000})=>_0x3435d6(_0x303d1b,_0x501000));}[_0x3035df(0x3d0)](_0x1efe51,_0x199af9,_0x1f7b08,_0x2763e2){const _0x1c66d0=_0x3035df;this['senderConnection']?.[_0x1c66d0(0x3d0)](_0x1efe51,_0x199af9,_0x1f7b08,_0x2763e2);}[_0x3035df(0x8d1)](_0x251465,_0x369695){const _0x5b0144=_0x3035df;this[_0x5b0144(0x540)]?.[_0x5b0144(0x8d1)](_0x251465,_0x369695);}[_0x3035df(0x32a)](_0x27f54d,_0x396cc3){const _0x3025b3=_0x3035df;this[_0x3025b3(0x540)]?.['setParams'](_0x27f54d,_0x396cc3);}[_0x3035df(0xab6)](_0x2356cb,_0x4b36f1){const _0x4aba57=_0x3035df;this[_0x4aba57(0x540)]?.[_0x4aba57(0xab6)](_0x2356cb,_0x4b36f1);}async[_0x3035df(0x50d)](_0xc0d36a){const _0x21199d=_0x3035df;_0x5cdff6[_0x21199d(0x3e9)](_0x2a39e9[_0x21199d(0x90f)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0x21199d(0x96f)](),_0xc0d36a);const {content:_0x3e438d}=_0xc0d36a;switch(_0x3e438d[_0x21199d(0x48b)]){case _0x369f7f[_0x21199d(0x5d9)]:await this[_0x21199d(0x928)](_0x3e438d);break;case _0x369f7f[_0x21199d(0x310)]:await this[_0x21199d(0x2ac)](_0x3e438d);break;case _0x369f7f[_0x21199d(0x23c)]:this['handleSuccess']();break;case _0x369f7f[_0x21199d(0x5e6)]:await this['handleIceCandidates'](_0x3e438d);break;case _0x369f7f['NeedRestart']:this[_0x21199d(0x4a8)](_0x3e438d);break;case _0x369f7f[_0x21199d(0x8e1)]:await this[_0x21199d(0x9b6)]();}}[_0x3035df(0x89f)](_0x4c009f){const _0x1d2c52=_0x3035df;this[_0x1d2c52(0x540)]?.['applyRemediation'](_0x4c009f[_0x1d2c52(0x1f0)][_0x1d2c52(0x937)]);}['getConnectionType'](){const _0x59e2a0=_0x3035df;return this[_0x59e2a0(0x4f8)];}[_0x3035df(0x7a2)](_0xa7974e){const _0x44c5da=_0x3035df;this[_0x44c5da(0x4f8)]=_0xa7974e,this[_0x44c5da(0x540)]?.[_0x44c5da(0x7a2)](_0xa7974e),this[_0x44c5da(0x57e)]?.['setConnectionType'](_0xa7974e);}async[_0x3035df(0x5d4)](){const _0x540e7c=_0x3035df;await this['senderConnection']?.['collectStats'](),await this[_0x540e7c(0x57e)]?.[_0x540e7c(0x5d4)]();}[_0x3035df(0x275)](){return this['senderConnection']?.['calculateArrayBufferSize']()??0x0;}[_0x3035df(0x6e7)](){const _0x25779d=_0x3035df;return this['senderConnection']?.[_0x25779d(0x6e7)]()??0x0;}['setupListeners'](){const _0x4c8b0e=_0x3035df;this[_0x4c8b0e(0x44c)][_0x4c8b0e(0x343)](this[_0x4c8b0e(0xb18)](_0x57e69d=>{const _0x22f07c=_0x4c8b0e;_0x13ebd5(_0x57e69d,this[_0x22f07c(0x96f)]())&&0x0!==_0x57e69d['topicLabel']&&this['dataTopics'][_0x22f07c(0x557)](_0x57e69d[_0x22f07c(0x432)])?.[_0x22f07c(0xa4f)](_0x57e69d);})),this[_0x4c8b0e(0x44c)][_0x4c8b0e(0x343)](this[_0x4c8b0e(0xa9d)]((_0x2cf43a,_0x40853e)=>{const _0x2cd01b=_0x4c8b0e,_0x45536f=_0x2aa38c(_0x37e813['ContentType'][_0x2cd01b(0x4f9)],_0x40853e['id'],this[_0x2cd01b(0x94d)]);this['mediaTopics'][_0x2cd01b(0x557)](_0x45536f)?.['publish']({'topicLabel':_0x45536f,'sourceId':this['remoteId'],'contentType':_0x37e813['ContentType'][_0x2cd01b(0x4f9)],'content':{'action':_0x5532c7['RemoteAdd'],'track':_0x2cf43a,'stream':_0x40853e,'providerId':this[_0x2cd01b(0x94d)]}});})),this[_0x4c8b0e(0x44c)][_0x4c8b0e(0x343)](this[_0x4c8b0e(0x382)]((_0x3dd9e5,_0x59769f)=>{const _0x4e46a0=_0x4c8b0e,_0x810a6d=_0x2aa38c(_0x37e813[_0x4e46a0(0x859)][_0x4e46a0(0x4f9)],_0x59769f['id'],this['remoteId']);this[_0x4e46a0(0x55c)][_0x4e46a0(0x557)](_0x810a6d)?.[_0x4e46a0(0xa4f)]({'topicLabel':_0x810a6d,'sourceId':this[_0x4e46a0(0x94d)],'contentType':_0x37e813[_0x4e46a0(0x859)][_0x4e46a0(0x4f9)],'content':{'action':_0x5532c7['RemoteRemove'],'track':_0x3dd9e5,'stream':_0x59769f,'providerId':this[_0x4e46a0(0x94d)]}});}));}['handleIceCandidates']({candidates:_0x4861b2,origin:_0x59f1d5,version:_0x22edee}){const _0xbe5385=_0x3035df;return _0x59f1d5===_0x4076df['Sender']?(this[_0xbe5385(0x57e)]||this[_0xbe5385(0x8fe)](),this[_0xbe5385(0x57e)][_0xbe5385(0xa40)](_0x4861b2,_0x22edee)):this['senderConnection'][_0xbe5385(0xa40)](_0x4861b2,_0x22edee);}async[_0x3035df(0x9b6)](){const _0x23c407=_0x3035df;this[_0x23c407(0x540)]||this[_0x23c407(0x4ce)](),await this[_0x23c407(0x540)][_0x23c407(0x9b6)]();}async[_0x3035df(0x928)]({offer:_0x4eac84,version:_0x2346f4}){const _0x3af012=_0x3035df;this['receiverConnection']||this['createReceiverConnection'](),await this['receiverConnection'][_0x3af012(0x928)](_0x4eac84,_0x2346f4);}async[_0x3035df(0x2ac)]({answer:_0x236d6a,version:_0x1794b4}){const _0x1f2cd7=_0x3035df;if(!this['senderConnection'])throw new _0x891088(_0x891088['codes']['ConnectionNotinitialized'],{'message':_0x1f2cd7(0x30e),'localId':this[_0x1f2cd7(0x96f)](),'remoteId':this[_0x1f2cd7(0x94d)],'answer':_0x236d6a});await this['senderConnection']['handleAnswer'](_0x236d6a,_0x1794b4);}[_0x3035df(0x8f1)](){const _0x133816=_0x3035df;if(!this['receiverConnection'])throw new _0x891088(_0x891088[_0x133816(0x5fb)][_0x133816(0x347)],{'message':_0x133816(0x5b6),'localId':this['getLocalId'](),'remoteId':this['remoteId']});this[_0x133816(0x57e)]['handleSuccess'](),this[_0x133816(0x87f)]||this['connectionType']!==_0x20fab9[_0x133816(0x6bd)]||(this[_0x133816(0x87f)]=!0x0,this[_0x133816(0x31b)]?.[_0x133816(0xa4f)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x133816(0x96f)]()],'messageType':_0x160b40[_0x133816(0x513)],'content':{'type':_0x369f7f[_0x133816(0x5fe)]}}));}['handleNeedRestart'](_0x3ab870){const _0x3c56db=_0x3035df;this[_0x3c56db(0x57e)]||this[_0x3c56db(0x8fe)](),this['receiverConnection'][_0x3c56db(0x4a8)](_0x3ab870[_0x3c56db(0x80d)]);}[_0x3035df(0x4ce)](){const _0x47ddba=_0x3035df;this[_0x47ddba(0x540)]=new _0x1374d2(this[_0x47ddba(0x7b1)],this[_0x47ddba(0x8f4)],this[_0x47ddba(0x94d)],this[_0x47ddba(0x1f7)],this[_0x47ddba(0x4f8)],this[_0x47ddba(0xa3a)],this[_0x47ddba(0x2c9)],this[_0x47ddba(0x63e)]),this['senderConnection']['registerSystemPublisher'](this[_0x47ddba(0x31b)]);}[_0x3035df(0x8fe)](){const _0xc0b8d9=_0x3035df;this[_0xc0b8d9(0x57e)]=new _0x5bbade(this[_0xc0b8d9(0x7b1)],this[_0xc0b8d9(0x8f4)],this[_0xc0b8d9(0x94d)],this[_0xc0b8d9(0x1f7)],this[_0xc0b8d9(0x4f8)],this[_0xc0b8d9(0x63e)]),this[_0xc0b8d9(0x57e)]['registerSystemPublisher'](this[_0xc0b8d9(0x31b)]),this[_0xc0b8d9(0x87b)][_0xc0b8d9(0x343)](this[_0xc0b8d9(0x57e)][_0xc0b8d9(0xb18)](_0x1712f9=>this[_0xc0b8d9(0x2fb)][_0xc0b8d9(0xa4f)](_0x1712f9))),this['receiverUnsubscribers'][_0xc0b8d9(0x343)](this[_0xc0b8d9(0x57e)]['onTrack']((_0x48967b,_0x46f0e7)=>this['trackListeners'][_0xc0b8d9(0xa4f)]({'track':_0x48967b,'stream':_0x46f0e7}))),this['receiverUnsubscribers'][_0xc0b8d9(0x343)](this['receiverConnection'][_0xc0b8d9(0x382)]((_0x403d99,_0x450952)=>this[_0xc0b8d9(0xa26)][_0xc0b8d9(0xa4f)]({'track':_0x403d99,'stream':_0x450952})));}}class _0x9ed384{[_0x3035df(0x902)];[_0x3035df(0x643)];[_0x3035df(0x2c7)];[_0x3035df(0x323)]=new Map();[_0x3035df(0x2fb)]=_0x55a9d1();['messageUnsubscriber'];[_0x3035df(0x993)]=new Map();[_0x3035df(0x280)]=new Map();[_0x3035df(0x763)]=new Map();constructor(_0x385941,_0x248ab1,_0x552a95){const _0x143357=_0x3035df;this[_0x143357(0x902)]=_0x385941,this[_0x143357(0x643)]=_0x248ab1,this['graphService']=_0x552a95,this[_0x143357(0x29d)]=this[_0x143357(0xb18)](_0x43cf23=>{const _0x305880=_0x143357;this[_0x305880(0x643)][_0x305880(0x631)](_0x43cf23['uuid'])||(_0x13ebd5(_0x43cf23,this['localId'])&&0x0!==_0x43cf23['topicLabel']&&(this[_0x305880(0x643)]['addMessage'](_0x43cf23[_0x305880(0x4a2)]),this[_0x305880(0x993)]['get'](_0x43cf23[_0x305880(0x432)])?.['publish'](_0x43cf23)),_0x43cf23['propagate']&&this[_0x305880(0x6a0)](_0x43cf23));});}['close'](){const _0x41d807=_0x3035df;this[_0x41d807(0x29d)]?.();}[_0x3035df(0xa8f)](_0xb0a341){const _0xdf24d7=_0x3035df,_0x301efb=_0xb0a341[_0xdf24d7(0xb18)](_0x3dc31e=>{const _0x343aee=_0xdf24d7;this['messageListeners'][_0x343aee(0xa4f)](_0x3dc31e);});this[_0xdf24d7(0x323)][_0xdf24d7(0xac2)](_0xb0a341,_0x301efb),this[_0xdf24d7(0x763)]['set'](_0xb0a341[_0xdf24d7(0x5d7)](),function(_0x4d5a80,_0x3f868c=!0x1){let _0x1c66b4=new Map();const _0x37db33=_0x21d83a(_0x4d5a80,_0x3f868c,function(_0x46fea8){const _0x32b5de=a0_0x4922;_0xcd9e82(_0x46fea8)&&_0x1c66b4[_0x32b5de(0x72d)](_0x46fea8[_0x32b5de(0x545)]+'-'+(_0x46fea8[_0x32b5de(0x577)]??[])+'-'+_0x46fea8[_0x32b5de(0x82f)]+'-'+_0x46fea8['content']['type']);},function(_0x10a700){return!!function(_0x429725){const _0x4053ec=a0_0x4922,_0x12a0a4=_0x429725[_0x4053ec(0x90d)];if(!_0xcd9e82(_0x12a0a4))return!0x1;const _0x1dbb6a=_0x12a0a4[_0x4053ec(0x545)]+'-'+(_0x12a0a4[_0x4053ec(0x577)]??[])+'-'+_0x12a0a4[_0x4053ec(0x82f)]+'-'+_0x12a0a4[_0x4053ec(0x1f0)][_0x4053ec(0x48b)],_0x3cc079={'version':_0x12a0a4[_0x4053ec(0x1f0)][_0x4053ec(0x80d)],'element':_0x429725},_0x4757dd=_0x1c66b4[_0x4053ec(0x557)](_0x1dbb6a);return _0x4757dd?(_0x4757dd[_0x4053ec(0x80d)]>=_0x12a0a4['content']['version']||(_0x4757dd[_0x4053ec(0x713)][_0x4053ec(0x6dd)]&&(_0x4757dd['element']['previous']['next']=_0x429725,_0x429725['previous']=_0x4757dd['element']['previous']),_0x4757dd[_0x4053ec(0x713)]['next']&&(_0x4757dd[_0x4053ec(0x713)]['next'][_0x4053ec(0x6dd)]=_0x429725,_0x429725['next']=_0x4757dd[_0x4053ec(0x713)][_0x4053ec(0x9f9)]),_0x4757dd[_0x4053ec(0x713)]===_0x37db33[_0x4053ec(0x233)]&&(_0x37db33[_0x4053ec(0x233)]=_0x429725),_0x4757dd['element']===_0x37db33[_0x4053ec(0x6fc)]&&(_0x37db33['tail']=_0x429725),_0x1c66b4['set'](_0x1dbb6a,_0x3cc079)),!0x0):(_0x1c66b4['set'](_0x1dbb6a,_0x3cc079),!0x1);}(_0x10a700);},function(){const _0xfae0e=a0_0x4922;_0x1c66b4[_0xfae0e(0x599)]();});function _0xcd9e82(_0x3acf52){const _0x1ac082=a0_0x4922;if(_0x3acf52&&_0x1ac082(0x7dc)==typeof _0x3acf52&&_0x3acf52['hasOwnProperty']('content')&&_0x3acf52[_0x1ac082(0x580)]('messageType')&&_0x3acf52[_0x1ac082(0x580)](_0x1ac082(0x545))){const _0x5710f3=_0x3acf52;if(_0x5710f3[_0x1ac082(0x1f0)]&&'object'==typeof _0x5710f3[_0x1ac082(0x1f0)]&&_0x5710f3[_0x1ac082(0x1f0)][_0x1ac082(0x580)](_0x1ac082(0x80d))&&_0x5710f3['content'][_0x1ac082(0x580)]('type'))return!0x0;}return!0x1;}return _0x37db33;}(new _0x230bba(_0x16dd20=>_0xb0a341[_0xdf24d7(0x6a0)](_0x16dd20),()=>_0x255ca7['wait'](0x64))));}[_0x3035df(0x916)](_0x355935){const _0x22b21b=_0x3035df;this[_0x22b21b(0x323)]['get'](_0x355935)?.(),this[_0x22b21b(0x323)][_0x22b21b(0x72d)](_0x355935),this[_0x22b21b(0x763)][_0x22b21b(0x557)](_0x355935[_0x22b21b(0x5d7)]())?.[_0x22b21b(0x599)](),this[_0x22b21b(0x763)][_0x22b21b(0x72d)](_0x355935['getRemoteId']());}[_0x3035df(0x229)](_0x16ac6e){const _0x2b1471=_0x3035df;return _0x5cdff6[_0x2b1471(0x3e9)](_0x2a39e9[_0x2b1471(0x4b1)],_0x2b1471(0x9e7),this[_0x2b1471(0x902)],this[_0x2b1471(0x323)][_0x2b1471(0x75b)]()),0x0!==this[_0x2b1471(0x323)]['size']&&(Array[_0x2b1471(0x6a1)](this[_0x2b1471(0x323)]['keys']())[_0x2b1471(0x85d)](_0x368f0f=>_0x368f0f[_0x2b1471(0x5d7)]()===_0x16ac6e)?.[_0x2b1471(0x229)]()??!0x1);}[_0x3035df(0x4d8)](_0x4d3030){const _0x3c841e=_0x3035df;this[_0x3c841e(0x993)][_0x3c841e(0xac2)](_0x4d3030[_0x3c841e(0x59f)](),_0x4d3030);}[_0x3035df(0x5f9)](_0x448a0c){const _0x4ffcf5=_0x3035df;this['dataTopics'][_0x4ffcf5(0x72d)](_0x448a0c[_0x4ffcf5(0x59f)]());}[_0x3035df(0x9af)](_0x1d4102){const _0x56d1d=_0x3035df,_0x2977c2=_0x1d4102[_0x56d1d(0x3bd)](this[_0x56d1d(0x6a0)][_0x56d1d(0x5bf)](this));this[_0x56d1d(0x280)][_0x56d1d(0xac2)](_0x1d4102[_0x56d1d(0x59f)](),_0x2977c2);}['unregisterSubscriber'](_0x1d9609){const _0x5b8162=_0x3035df;this['dataUnsubscribers'][_0x5b8162(0x557)](_0x1d9609[_0x5b8162(0x59f)]())?.(),this[_0x5b8162(0x280)][_0x5b8162(0x72d)](_0x1d9609[_0x5b8162(0x59f)]());}[_0x3035df(0x506)](){const _0x4a5eee=_0x3035df;return[_0x37e813[_0x4a5eee(0x859)][_0x4a5eee(0x51e)],_0x37e813[_0x4a5eee(0x859)]['PubSub'],_0x37e813['ContentType'][_0x4a5eee(0x951)],_0x37e813[_0x4a5eee(0x859)]['KeyValueDatabase'],_0x37e813['ContentType'][_0x4a5eee(0x749)],_0x37e813['ContentType'][_0x4a5eee(0x85b)],_0x37e813[_0x4a5eee(0x859)][_0x4a5eee(0x9e3)],_0x37e813[_0x4a5eee(0x859)][_0x4a5eee(0x3dd)]];}['send'](_0x4a6c77){const _0x504e99=_0x3035df;if(!0x1===_0x4a6c77[_0x504e99(0x252)]){if(_0x4a6c77[_0x504e99(0x41c)]||!_0x4a6c77['destinationIds']||0x1!==_0x4a6c77[_0x504e99(0x577)][_0x504e99(0x68c)])throw new _0x891088(_0x891088[_0x504e99(0x5fb)][_0x504e99(0x9e1)],{'message':_0x504e99(0x528),'localId':this[_0x504e99(0x902)]});if(!this[_0x504e99(0x229)](_0x4a6c77['destinationIds'][0x0]))throw new _0x91a477(_0x504e99(0x6c9));}const _0x3cada2=_0x4a6c77[_0x504e99(0x974)]??[];try{const {filteredDestinationIds:_0x23726b,extendedRecipients:_0x253f54}=this[_0x504e99(0x807)](_0x4a6c77,_0x3cada2);_0x4a6c77[_0x504e99(0x577)]=_0x23726b,_0x4a6c77[_0x504e99(0x974)]=_0x253f54;}catch(_0xef877a){if(_0xef877a instanceof _0x91a477)return void _0x5cdff6[_0x504e99(0x3e9)](_0x2a39e9[_0x504e99(0x90f)],_0x504e99(0x2b9),_0x504e99(0x91a),_0x4a6c77,_0xef877a['message']);}const _0x33946e=this[_0x504e99(0x212)](_0x4a6c77);this[_0x504e99(0x2b6)](_0x4a6c77,_0x33946e),_0x4a6c77[_0x504e99(0x41c)]=_0x33946e;const _0x6a590c=this[_0x504e99(0x73f)](_0x4a6c77,_0x3cada2);for(const _0x5ab73c of _0x6a590c){const _0x4d5bac=this[_0x504e99(0x763)]['get'](_0x5ab73c[_0x504e99(0x5d7)]());if(!_0x4d5bac)throw new _0x891088(_0x891088[_0x504e99(0x5fb)][_0x504e99(0x856)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x504e99(0x902)],'remoteId':_0x5ab73c[_0x504e99(0x5d7)](),'data':_0x4a6c77});_0x4d5bac[_0x504e99(0x343)](_0x4a6c77);}}[_0x3035df(0x5d7)](){return'';}[_0x3035df(0x96f)](){return this['localId'];}[_0x3035df(0xb18)](_0x495278){const _0x5fce31=_0x3035df;return this['messageListeners'][_0x5fce31(0x3bd)](_0x495278);}[_0x3035df(0x807)](_0x2450cb,_0x261bcd){const _0x1a203d=_0x3035df,_0x59a447={'filteredDestinationIds':_0x2450cb[_0x1a203d(0x577)],'extendedRecipients':_0x2450cb['recipients']};if(!_0x2450cb['propagate'])return _0x59a447;const _0x1b0988=Array['from'](this[_0x1a203d(0x323)][_0x1a203d(0x75b)]())[_0x1a203d(0xab2)](_0x23c9de=>_0x23c9de[_0x1a203d(0x64c)]()===_0x20fab9[_0x1a203d(0x3d5)]||_0x23c9de['isConnected']())[_0x1a203d(0x207)](_0x1fd4dc=>_0x1fd4dc[_0x1a203d(0x5d7)]());if(_0x1b0988['reduce']((_0x4fc055,_0x26f07f)=>_0x4fc055&&_0x2450cb[_0x1a203d(0x974)][_0x1a203d(0x7c4)](_0x26f07f),!0x0))throw new _0x91a477('All\x20recipients\x20already\x20received');if(_0x2450cb['destinationIds']){const _0x50ff87=_0x2450cb['destinationIds'][_0x1a203d(0xab2)](_0xd0c5f2=>_0xd0c5f2!==this[_0x1a203d(0x902)]&&!_0x2450cb[_0x1a203d(0x974)]['includes'](_0xd0c5f2));if(0x0===_0x50ff87[_0x1a203d(0x68c)])throw new _0x91a477('No\x20destinationIds\x20left');_0x59a447[_0x1a203d(0xa46)]=_0x50ff87;}return _0x59a447['extendedRecipients']=[...new Set([..._0x261bcd,..._0x1b0988,this[_0x1a203d(0x902)]])],_0x59a447;}[_0x3035df(0x2b6)](_0x267f7d,_0x356219=!0x1){const _0x4eec0c=_0x3035df;if(0x0===_0x267f7d[_0x4eec0c(0x432)]&&!_0x5bf714(_0x267f7d,this['localId'])&&_0x267f7d['propagate']){const _0x5145d0=_0x504d2a(_0x267f7d,this[_0x4eec0c(0x902)]);_0x5cdff6[_0x4eec0c(0x714)](_0x2a39e9[_0x4eec0c(0x270)],_0x267f7d[_0x4eec0c(0x4a2)]+_0x4eec0c(0xa02)+_0x356219+')\x20'+_0x5145d0,_0x267f7d,_0x356219);}}[_0x3035df(0x212)](_0x9f6b83){const _0x5d0a74=_0x3035df;if(_0x9f6b83[_0x5d0a74(0x577)]&&_0x9f6b83['propagate']){const _0x15324e=Array['from'](this[_0x5d0a74(0x323)][_0x5d0a74(0x75b)]())[_0x5d0a74(0xab2)](_0x404c14=>_0x404c14[_0x5d0a74(0x64c)]()===_0x20fab9[_0x5d0a74(0x3d5)]||_0x404c14[_0x5d0a74(0x229)]())[_0x5d0a74(0x207)](_0xfeff0a=>_0xfeff0a[_0x5d0a74(0x5d7)]());return!_0x9f6b83[_0x5d0a74(0x577)][_0x5d0a74(0x2fc)]((_0x3f0ac6,_0x53ffbc)=>_0x3f0ac6&&_0x15324e[_0x5d0a74(0x7c4)](_0x53ffbc),!0x0);}return _0x9f6b83['propagate']??!0x1;}[_0x3035df(0x73f)](_0x5ef858,_0x47f2dc){const _0x535138=_0x3035df;if(_0x5ef858['propagate']&&_0x5ef858[_0x535138(0x577)]){const _0x360ab1=Array[_0x535138(0x6a1)](this['connections'][_0x535138(0x75b)]())[_0x535138(0xab2)](_0x3686bb=>_0x3686bb[_0x535138(0x64c)]()===_0x20fab9[_0x535138(0x3d5)]||_0x3686bb[_0x535138(0x229)]())[_0x535138(0x207)](_0x5e7802=>_0x5e7802[_0x535138(0x5d7)]()),_0x5916ae=new Set(),_0xbd0122=_0x5ef858[_0x535138(0x545)]===this['localId']?0x3:0x1;return _0x5ef858['destinationIds']['forEach'](_0x5ce94b=>{const _0x2b651c=this['graphService']['getClosestNodes'](_0x360ab1,_0x5ce94b);let _0x4a5154=0x0,_0x112682=0x0;_0x2b651c['forEach'](_0xccc0a6=>{const _0xdc644=a0_0x4922;if(_0x4a5154>=_0xbd0122)return;const _0x1cb31b=Array[_0xdc644(0x6a1)](this['connections'][_0xdc644(0x75b)]())[_0xdc644(0x85d)](_0x461c59=>_0x461c59[_0xdc644(0x5d7)]()===_0xccc0a6);if(_0x1cb31b){if(_0x1cb31b[_0xdc644(0x64c)]()===_0x20fab9[_0xdc644(0x3d5)]&&_0x112682>0x0)return void(_0x112682-=0x1);_0x5916ae['add'](_0x1cb31b),_0x1cb31b['getConnectionType']()===_0x20fab9['Optimization']&&(_0x112682+=0x1),_0x4a5154+=0x1;}});}),Array[_0x535138(0x6a1)](_0x5916ae);}return Array[_0x535138(0x6a1)](this[_0x535138(0x323)][_0x535138(0x75b)]())['filter'](_0x91345d=>{const _0x31f4e9=_0x535138;return _0x3c6ec6=_0x91345d[_0x31f4e9(0x5d7)](),!_0x47f2dc[_0x31f4e9(0x7c4)](_0x3c6ec6)&&(_0x13ebd5(_0x5ef858,_0x3c6ec6)||_0x5ef858[_0x31f4e9(0x41c)])&&(!_0x5ef858[_0x31f4e9(0x41c)]||_0x91345d[_0x31f4e9(0x229)]()||_0x91345d['getConnectionType']()===_0x20fab9['Core']);var _0x3c6ec6;});}}class _0x1c66bd{[_0x3035df(0x902)];[_0x3035df(0x643)];[_0x3035df(0x323)]=new Map();[_0x3035df(0x31b)];constructor(_0xa7a536,_0x368fe9){const _0x21b0af=_0x3035df;this[_0x21b0af(0x902)]=_0xa7a536,this[_0x21b0af(0x643)]=_0x368fe9;}[_0x3035df(0x72f)](){}['send'](_0x24fd5e){const _0x291b71=_0x3035df;for(const _0x7671d7 of this['connections'][_0x291b71(0x75b)]())try{return void _0x7671d7['send']({'retry':!0x1,..._0x24fd5e});}catch(_0x28816c){_0x28816c instanceof _0x91a477||_0x5cdff6['log'](_0x2a39e9[_0x291b71(0x6d1)],_0x291b71(0x934)+_0x7671d7,_0x28816c,_0x24fd5e);}_0x5cdff6['log'](_0x2a39e9['Pool'],_0x291b71(0x59c));}[_0x3035df(0xa8f)](_0x526703){const _0x28d9a5=_0x3035df,_0xb759af=_0x526703['onMessage'](_0xbda712=>{const _0x354171=a0_0x4922;this[_0x354171(0x643)][_0x354171(0x631)](_0xbda712['uuid'])||0x0===_0xbda712[_0x354171(0x432)]&&(this['messageBuffer'][_0x354171(0x43e)](_0xbda712['uuid']),_0x13ebd5(_0xbda712,this[_0x354171(0x902)])&&this[_0x354171(0x31b)]?.['publish'](_0xbda712));});this[_0x28d9a5(0x323)]['set'](_0x526703,_0xb759af);}[_0x3035df(0x916)](_0x5a0d20){const _0x4f857a=_0x3035df;this[_0x4f857a(0x323)][_0x4f857a(0x557)](_0x5a0d20)?.(),this[_0x4f857a(0x323)][_0x4f857a(0x72d)](_0x5a0d20);}[_0x3035df(0x96f)](){return this['localId'];}[_0x3035df(0x5d7)](){return'';}['getSupportedContentTypes'](){const _0x14cb75=_0x3035df;return[_0x37e813[_0x14cb75(0x859)]['Data']];}[_0x3035df(0x229)](){const _0x149a97=_0x3035df;throw new Error(_0x149a97(0x93b));}[_0x3035df(0xb0e)](_0x1b4fee){const _0x36dbe4=_0x3035df;this[_0x36dbe4(0x31b)]=_0x1b4fee;}[_0x3035df(0x38f)](){const _0x313837=_0x3035df;delete this[_0x313837(0x31b)];}}class _0x47efd2{['buffer']=new Map();[_0x3035df(0x39c)];constructor(){this['unsubscribeHandler']=_0x255ca7['setInterval'](()=>{const _0x4e834a=a0_0x4922;for(const [_0x47b888,_0x545dd9]of this[_0x4e834a(0xaff)]['entries']())Date['now']()-_0x545dd9>0x124f80&&this['buffer'][_0x4e834a(0x72d)](_0x47b888);},0x1d4c0);}[_0x3035df(0x72f)](){this['unsubscribeHandler']();}[_0x3035df(0x43e)](_0x4eac5f){const _0x5c151f=_0x3035df;this['buffer'][_0x5c151f(0xac2)](_0x4eac5f,Date[_0x5c151f(0x6de)]());}[_0x3035df(0x631)](_0x1a0d7e){const _0x164cf5=_0x3035df;return this[_0x164cf5(0xaff)][_0x164cf5(0x5e8)](_0x1a0d7e);}}class _0x4079fc{[_0x3035df(0x5bb)];[_0x3035df(0x885)];['iceServers'];[_0x3035df(0x489)];['connections']=new Map();[_0x3035df(0x2d4)];[_0x3035df(0x2d7)];[_0x3035df(0x97f)];['messageBuffer'];constructor(_0xaa69de,_0x374676,_0x2b8ebb,_0x1ef32d,_0x5a5870){const _0x46c4c0=_0x3035df;this[_0x46c4c0(0x5bb)]=_0xaa69de,this[_0x46c4c0(0x885)]=_0x374676,this[_0x46c4c0(0x1f7)]=_0x1ef32d,this[_0x46c4c0(0x489)]=_0x5a5870,this[_0x46c4c0(0x643)]=new _0x47efd2(),this[_0x46c4c0(0x2d7)]=new _0x9ed384(this[_0x46c4c0(0x5bb)][_0x46c4c0(0x8f4)][_0x46c4c0(0x6cd)](),this[_0x46c4c0(0x643)],_0x2b8ebb),this['signalingServer']=new _0x5caf6d(this[_0x46c4c0(0x5bb)]['vendorId'],this[_0x46c4c0(0x5bb)][_0x46c4c0(0x7b1)],this[_0x46c4c0(0x5bb)]['localNode'],'server',this['authService']),this[_0x46c4c0(0x2d4)]=new _0x1c66bd(this['configs']['localNode'][_0x46c4c0(0x6cd)](),this[_0x46c4c0(0x643)]),this[_0x46c4c0(0x2d4)]['addConnection'](this[_0x46c4c0(0x2d7)]),this[_0x46c4c0(0x2d4)][_0x46c4c0(0xa8f)](this['signalingServer']),this[_0x46c4c0(0x5bb)][_0x46c4c0(0x76d)][_0x46c4c0(0x6c5)](this[_0x46c4c0(0x2d4)]);}['close'](){const _0x5b0e9c=_0x3035df;this[_0x5b0e9c(0x643)][_0x5b0e9c(0x72f)](),this['connections'][_0x5b0e9c(0x8fa)]((_0x15c575,_0x4b4208)=>this[_0x5b0e9c(0x804)](_0x4b4208)),this[_0x5b0e9c(0x5bb)][_0x5b0e9c(0x76d)][_0x5b0e9c(0x592)](this['connectionPool']),this[_0x5b0e9c(0x2d4)][_0x5b0e9c(0x916)](this[_0x5b0e9c(0x97f)]),this[_0x5b0e9c(0x2d4)][_0x5b0e9c(0x916)](this[_0x5b0e9c(0x2d7)]),this[_0x5b0e9c(0x2d4)][_0x5b0e9c(0x72f)](),this[_0x5b0e9c(0x97f)][_0x5b0e9c(0x72f)](),this[_0x5b0e9c(0x2d7)][_0x5b0e9c(0x72f)]();}async[_0x3035df(0x3a7)](){const _0x163885=_0x3035df;await this[_0x163885(0x97f)]['connect']();}async[_0x3035df(0x7d0)](_0x283267,_0x3f1a4c=_0x20fab9[_0x3035df(0x3d5)]){const _0x2702ec=_0x3035df;if(this['connections'][_0x2702ec(0x5e8)](_0x283267)){if(this[_0x2702ec(0x323)][_0x2702ec(0x557)](_0x283267)?.[_0x2702ec(0x64c)]()===_0x20fab9['Optimization']&&_0x3f1a4c===_0x20fab9[_0x2702ec(0x3d5)])return void this[_0x2702ec(0x323)][_0x2702ec(0x557)](_0x283267)?.[_0x2702ec(0x7a2)](_0x20fab9[_0x2702ec(0x3d5)]);throw new _0x891088(_0x891088[_0x2702ec(0x5fb)][_0x2702ec(0xa30)],{'localId':this[_0x2702ec(0x5bb)]['localNode'][_0x2702ec(0x6cd)](),'remoteId':_0x283267});}const _0x416bdc=new _0x694914(this[_0x2702ec(0x5bb)][_0x2702ec(0x7b1)],this['configs']['localNode'],_0x283267,this[_0x2702ec(0x1f7)],_0x3f1a4c,this['options'][_0x2702ec(0xa3a)],this[_0x2702ec(0x489)][_0x2702ec(0x2c9)],this[_0x2702ec(0x489)][_0x2702ec(0x3b4)]);this[_0x2702ec(0x323)][_0x2702ec(0xac2)](_0x283267,_0x416bdc),this[_0x2702ec(0x2d7)]['addConnection'](_0x416bdc),this['configs'][_0x2702ec(0x76d)][_0x2702ec(0x6c5)](_0x416bdc),this['configs'][_0x2702ec(0x76d)][_0x2702ec(0x335)](_0x283267),await _0x416bdc[_0x2702ec(0x566)]();}[_0x3035df(0x4d5)](){const _0x4b77ae=_0x3035df;return this[_0x4b77ae(0x2d7)];}['getConnection'](_0x44af6b){const _0x4eaf19=_0x3035df;if(!this[_0x4eaf19(0x323)][_0x4eaf19(0x5e8)](_0x44af6b))throw new _0x891088(_0x891088[_0x4eaf19(0x5fb)]['MissingRemoteConnection'],{'localId':this[_0x4eaf19(0x5bb)]['localNode'][_0x4eaf19(0x6cd)](),'remoteId':_0x44af6b});return this[_0x4eaf19(0x323)][_0x4eaf19(0x557)](_0x44af6b);}[_0x3035df(0xa20)](_0x2f0d60){const _0x4fb24f=_0x3035df,_0x5d7072=Array[_0x4fb24f(0x6a1)](this[_0x4fb24f(0x323)][_0x4fb24f(0xb09)]());return _0x2f0d60?_0x5d7072[_0x4fb24f(0xab2)](_0x2f0d60):_0x5d7072;}async[_0x3035df(0x5d4)](_0x1bbd5a){const _0x21562c=_0x3035df,_0x22b15b=this['connections'][_0x21562c(0x557)](_0x1bbd5a);_0x22b15b&&_0x22b15b[_0x21562c(0x229)]()&&await _0x22b15b['collectStats']();}[_0x3035df(0x44b)](_0x21592b){const _0x8a2679=_0x3035df;if(_0x21592b[_0x8a2679(0x82f)]!==_0x160b40[_0x8a2679(0x513)]||_0x21592b[_0x8a2679(0x41c)])try{this[_0x8a2679(0x2d7)][_0x8a2679(0x6a0)](_0x21592b);}catch(_0x3f1296){if(_0x3f1296 instanceof _0x91a477)return;throw _0x3f1296;}else this[_0x8a2679(0x2d4)][_0x8a2679(0x6a0)](_0x21592b);}async[_0x3035df(0x50d)](_0x2da4da){const _0x1e7a87=_0x3035df;switch(_0x2da4da[_0x1e7a87(0x1f0)][_0x1e7a87(0x48b)]){case _0x369f7f['Disconnect']:case _0x369f7f[_0x1e7a87(0x667)]:case _0x369f7f[_0x1e7a87(0x5fe)]:return;}if(!_0x2da4da[_0x1e7a87(0x577)]||0x1!==_0x2da4da['destinationIds']['length'])throw new _0x891088(_0x891088['codes'][_0x1e7a87(0x7d1)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x2da4da});if(_0x2da4da['destinationIds'][0x0]!==this[_0x1e7a87(0x5bb)][_0x1e7a87(0x8f4)][_0x1e7a87(0x6cd)]())throw new _0x891088(_0x891088[_0x1e7a87(0x5fb)][_0x1e7a87(0x7d1)],{'message':_0x1e7a87(0x242),'event':_0x2da4da});if(!this[_0x1e7a87(0x323)][_0x1e7a87(0x5e8)](_0x2da4da['sourceId'])){let _0x265435=_0x20fab9['Core'];if(!(this[_0x1e7a87(0x336)](_0x2da4da['content'])||this['isIceCandidate'](_0x2da4da['content'])||this[_0x1e7a87(0x3f6)](_0x2da4da[_0x1e7a87(0x1f0)])))return;_0x265435=_0x2da4da[_0x1e7a87(0x1f0)][_0x1e7a87(0x4f8)],await this[_0x1e7a87(0x7d0)](_0x2da4da[_0x1e7a87(0x545)],_0x265435);}const _0x18215b=this[_0x1e7a87(0x323)][_0x1e7a87(0x557)](_0x2da4da[_0x1e7a87(0x545)]);await _0x18215b[_0x1e7a87(0x50d)](_0x2da4da);}[_0x3035df(0x89f)](_0x19e67e){const _0x9ec7a5=_0x3035df;if(_0x19e67e[_0x9ec7a5(0x1f0)][_0x9ec7a5(0x48b)]===_0x4f8dca['Remediation']){if(_0x19e67e[_0x9ec7a5(0x1f0)][_0x9ec7a5(0x75f)]===this['configs'][_0x9ec7a5(0x8f4)][_0x9ec7a5(0x6cd)]())return void this[_0x9ec7a5(0x323)][_0x9ec7a5(0x8fa)](_0xa84fef=>_0xa84fef[_0x9ec7a5(0x89f)](_0x19e67e));this[_0x9ec7a5(0x323)][_0x9ec7a5(0x557)](_0x19e67e['content']['targetId'])?.['handleRemediationSystemEvents'](_0x19e67e);}}[_0x3035df(0x2d1)]({content:_0x516fb0}){const _0x1e2e97=_0x3035df;_0x516fb0[_0x1e2e97(0x48b)]===_0x31962c[_0x1e2e97(0x20b)]&&this['closeConnection'](_0x516fb0['id']);}[_0x3035df(0x409)](){const _0x205fe8=_0x3035df,_0x42fab6=Array[_0x205fe8(0x6a1)](this['connections'][_0x205fe8(0xb09)]())[_0x205fe8(0x2fc)]((_0x4b6324,_0x10963d)=>_0x4b6324+_0x10963d[_0x205fe8(0x275)](),0x0);return _0x42fab6<_0x1850e3?Promise['resolve'](_0x42fab6):new Promise(_0x3f7969=>{const _0x232381=setInterval(()=>{const _0x2881da=a0_0x4922,_0x4317b1=Array[_0x2881da(0x6a1)](this['connections']['values']())['reduce']((_0x2da964,_0x547a32)=>_0x2da964+_0x547a32[_0x2881da(0x275)](),0x0);_0x4317b1<_0x1850e3&&(clearInterval(_0x232381),_0x3f7969(_0x4317b1));},0x3e8);});}['hasBufferedData'](){const _0x20d482=_0x3035df;for(const _0x4a33f1 of this['connections']['values']())if(_0x4a33f1[_0x20d482(0x6e7)]()>0x0||_0x4a33f1['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x3035df(0x804)](_0x413f4e){const _0xaff66b=_0x3035df,_0x264c03=this[_0xaff66b(0x323)][_0xaff66b(0x557)](_0x413f4e);_0x264c03&&(this['configs']['mediator'][_0xaff66b(0x348)](_0x413f4e),this[_0xaff66b(0x5bb)][_0xaff66b(0x76d)][_0xaff66b(0x592)](_0x264c03),_0x264c03 instanceof _0x694914&&this['connectionGroup'][_0xaff66b(0x916)](_0x264c03),_0x264c03[_0xaff66b(0x72f)](),this[_0xaff66b(0x323)]['delete'](_0x413f4e));}['isOffer'](_0xcccf29){const _0x398fab=_0x3035df;return _0xcccf29[_0x398fab(0x48b)]===_0x369f7f[_0x398fab(0x5d9)];}[_0x3035df(0x3f6)](_0x54ef98){const _0xc914a=_0x3035df;return _0x54ef98[_0xc914a(0x48b)]===_0x369f7f[_0xc914a(0x3b2)];}[_0x3035df(0x3c1)](_0x51bfe6){const _0x151bf6=_0x3035df;return _0x51bfe6['type']===_0x369f7f[_0x151bf6(0x5e6)];}}!function(_0x5eb436){const _0x2b0337=_0x3035df;_0x5eb436[_0x5eb436[_0x2b0337(0x388)]=0x0]='SubscribeMediaStream',_0x5eb436[_0x5eb436[_0x2b0337(0x48e)]=0x1]='UpdateMediaStream',_0x5eb436[_0x5eb436[_0x2b0337(0x4f4)]=0x2]=_0x2b0337(0x4f4),_0x5eb436[_0x5eb436['NeedMediaStream']=0x3]='NeedMediaStream',_0x5eb436[_0x5eb436[_0x2b0337(0x407)]=0x4]='RestartNeedMediaStream',_0x5eb436[_0x5eb436[_0x2b0337(0x319)]=0x5]=_0x2b0337(0x319),_0x5eb436[_0x5eb436[_0x2b0337(0xa7f)]=0x6]='CannotProvideMediaStream',_0x5eb436[_0x5eb436[_0x2b0337(0x88d)]=0x7]=_0x2b0337(0x88d);}(_0x1a160d||(_0x1a160d={}));class _0x4fb826 extends _0x3fc886{[_0x3035df(0x8f4)];[_0x3035df(0x7b1)];[_0x3035df(0x7c3)];[_0x3035df(0xa37)];[_0x3035df(0x932)];[_0x3035df(0x39a)]=0x0;[_0x3035df(0xae8)];[_0x3035df(0x86a)]=_0x55a9d1();[_0x3035df(0x44c)]=new Map();[_0x3035df(0x6cf)];constructor(_0x3f05ad,_0x56c58a,_0x4e99bf,_0x55fb41,_0x48526c){const _0xaba695=_0x3035df;if(_0xaba695(0x395)!=typeof _0x56c58a)throw new _0x2758ff(_0x1e2529['ExternalStorageNameNotString'],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x3f05ad,_0x56c58a),this[_0xaba695(0x8f4)]=_0x3f05ad,this['clusterId']=_0x4e99bf,this[_0xaba695(0x7c3)]=_0x55fb41,this[_0xaba695(0xa37)]=_0x48526c,this[_0xaba695(0x509)]();}[_0x3035df(0x7ab)](){const _0x192df4=_0x3035df;this[_0x192df4(0x6cf)]?.(),this[_0x192df4(0x44c)][_0x192df4(0x8fa)](_0x1d4383=>_0x1d4383()),clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0x3035df(0x98b)](){const _0x31d519=_0x3035df;this[_0x31d519(0x509)]();}[_0x3035df(0x72f)](){const _0x506e9f=_0x3035df;this[_0x506e9f(0x31b)][_0x506e9f(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x506e9f(0x240)],'content':{'type':_0x41c383[_0x506e9f(0xa5f)],'label':this[_0x506e9f(0x4de)]}});}[_0x3035df(0x8be)](){return _0x37e813['ContentType']['ExternalStorage'];}async['get'](_0x44aad7){const _0x103d21=_0x3035df;if(!this['connector'])throw new _0x2758ff(_0x1e2529['ExternalStorageConnectorsMissing'],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x5cdff6['logServiceEvent'](_0x57257f[_0x103d21(0x3dd)],{'type':_0x103d21(0x557),'label':this[_0x103d21(0x4de)],'nodeId':this[_0x103d21(0x8f4)][_0x103d21(0x6cd)](),'nodeType':this[_0x103d21(0x8f4)][_0x103d21(0x48b)],'clusterId':this[_0x103d21(0x7b1)],'path':_0x44aad7}),this[_0x103d21(0x39a)]+=0x1,this[_0x103d21(0x509)]();try{return await this['connector']['get'](_0x44aad7);}catch(_0x488b36){throw new _0x2758ff(_0x1e2529['ExternalStorageInvalidPath'],_0x103d21(0x247)+_0x44aad7);}}async[_0x3035df(0xa6c)](_0x998b97,_0x5363dc){const _0x5ce0c2=_0x3035df;if(!this['connector'])throw new _0x2758ff(_0x1e2529[_0x5ce0c2(0x67a)],_0x5ce0c2(0xad5));const {recursive:_0x2a481d=!0x1}=_0x5363dc??{};_0x5cdff6[_0x5ce0c2(0x724)](_0x57257f[_0x5ce0c2(0x3dd)],{'type':'list','label':this[_0x5ce0c2(0x4de)],'nodeId':this['localNode'][_0x5ce0c2(0x6cd)](),'nodeType':this['localNode'][_0x5ce0c2(0x48b)],'clusterId':this[_0x5ce0c2(0x7b1)],'path':_0x998b97}),this[_0x5ce0c2(0x39a)]+=0x1,this[_0x5ce0c2(0x509)]();try{return await this[_0x5ce0c2(0xae8)][_0x5ce0c2(0xa6c)](_0x998b97,_0x2a481d);}catch(_0x11b6c3){throw new _0x2758ff(_0x1e2529[_0x5ce0c2(0x4fe)],_0x5ce0c2(0x210)+_0x998b97);}}['subscribe'](_0x5cf57c,_0x120b5b){const _0x272878=_0x3035df;if(this['listenerUnsubscribers'][_0x272878(0x5e8)](_0x5cf57c))throw new _0x2758ff(_0x1e2529[_0x272878(0x97e)],_0x272878(0x99f));this[_0x272878(0x44c)][_0x272878(0xac2)](_0x5cf57c,this[_0x272878(0x86a)][_0x272878(0x3bd)](_0x120b5b));}['unsubscribe'](_0x435c8f){const _0x2e6879=_0x3035df;this[_0x2e6879(0x44c)][_0x2e6879(0x557)](_0x435c8f)?.(),this[_0x2e6879(0x44c)]['delete'](_0x435c8f);}async[_0x3035df(0x4b0)](){const _0x1afa4a=_0x3035df,_0x17e058=(await(0x0,_0x3bf861[_0x1afa4a(0x59b)])((0x0,_0x3bf861['doc'])(_0x1d88af[_0x1afa4a(0x26d)](),_0x1afa4a(0x921)+this[_0x1afa4a(0x7c3)]+_0x1afa4a(0x49b)+this[_0x1afa4a(0x4de)])))['data']();if(!_0x17e058)throw new _0x2758ff(_0x1e2529[_0x1afa4a(0x230)],_0x1afa4a(0x8fd)+this[_0x1afa4a(0x4de)]);const {site:_0x4c155c,drive:_0x4627f1}=_0x17e058,_0x5636d6=(await(0x0,_0xed4a33[_0x1afa4a(0x792)])(_0x1d88af['getFunctions'](),_0x1afa4a(0xb06))({'storageId':this[_0x1afa4a(0x4de)]}))[_0x1afa4a(0x937)][_0x1afa4a(0x2c6)];this[_0x1afa4a(0xae8)]=new this[(_0x1afa4a(0xa37))](_0x4c155c['id'],_0x4627f1['id'],_0x5636d6,async()=>(await(0x0,_0xed4a33['httpsCallable'])(_0x1d88af[_0x1afa4a(0x2d2)](),'msalRefreshToken')({'storageId':this[_0x1afa4a(0x4de)]}))[_0x1afa4a(0x937)][_0x1afa4a(0x2c6)]),this[_0x1afa4a(0x6f5)]();}[_0x3035df(0x509)](){const _0x1282f8=_0x3035df;this[_0x1282f8(0x932)]&&clearTimeout(this['debounceStats']),this[_0x1282f8(0x932)]=setTimeout(async()=>{const _0x38b1c6=_0x1282f8;delete this[_0x38b1c6(0x932)],this['systemTopic'][_0x38b1c6(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x38b1c6(0x240)],'content':{'type':_0x41c383[_0x38b1c6(0x6b2)],'label':this['label'],'stats':{'timestamp':Date[_0x38b1c6(0x6de)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x38b1c6(0x39a)],'prompts':0x0,'tokens':0x0}}});},_0x1a8c76);}async[_0x3035df(0x6f5)](){const _0x2ccb1e=_0x3035df;await this['connector']?.['listChanges'](),this['changesUnsubscriber']=_0x255ca7[_0x2ccb1e(0x2ca)](async()=>{const _0x1aa644=_0x2ccb1e;try{if(!this[_0x1aa644(0xae8)])return;const _0x5c72a6=await this['connector'][_0x1aa644(0x9be)]();for(const _0x145b30 of _0x5c72a6)this[_0x1aa644(0x86a)][_0x1aa644(0xa4f)](_0x145b30);}catch(_0x9cbb15){}},0x493e0);}}const _0x522653=require('rxjs');class _0x27ffad extends _0x3fc886{[_0x3035df(0x2c7)];[_0x3035df(0x334)]=new Map();[_0x3035df(0xa1c)]=new Map();[_0x3035df(0x223)]=new Map();[_0x3035df(0x39c)];constructor(_0x16cc60,_0x33dfb5,_0x3022d7){const _0xd3665=_0x3035df;super(_0x16cc60,_0x33dfb5),this[_0xd3665(0x2c7)]=_0x3022d7;}[_0x3035df(0x8be)](){const _0x5e390a=_0x3035df;return _0x37e813[_0x5e390a(0x859)][_0x5e390a(0x749)];}[_0x3035df(0x4b0)](){this['unsubscribeHandler']=this['onMessage']((_0x46d31c,_0x13b1fc)=>{const _0x5078b2=a0_0x4922;if(_0x5cdff6[_0x5078b2(0x3e9)](_0x2a39e9[_0x5078b2(0x363)],_0x5078b2(0x5e2),_0x46d31c,_0x13b1fc,this['graphService'][_0x5078b2(0x497)]()),!(_0x13b1fc instanceof File)){if(!_0x13b1fc)throw new _0x891088(_0x891088[_0x5078b2(0x5fb)][_0x5078b2(0x9f5)]);return this[_0x5078b2(0x52f)](_0x13b1fc)?this[_0x5078b2(0x7ee)](_0x46d31c,_0x13b1fc['id'],_0x13b1fc):this[_0x5078b2(0x381)](_0x13b1fc)?(_0x5cdff6[_0x5078b2(0x3e9)](_0x2a39e9['Jobs'],_0x5078b2(0x1ef)+_0x13b1fc['id']+'\x20received\x20partial\x20result:',_0x13b1fc[_0x5078b2(0x660)]),void this['evaluatePartialJob'](_0x13b1fc['id'],_0x13b1fc)):this['isResultResponse'](_0x13b1fc)?(_0x5cdff6[_0x5078b2(0x3e9)](_0x2a39e9['Jobs'],_0x5078b2(0x1ef)+_0x13b1fc['id']+'\x20received\x20result:',_0x13b1fc[_0x5078b2(0x660)]),void this[_0x5078b2(0xa86)](_0x13b1fc['id'],_0x13b1fc)):void(this['isFailedResponse'](_0x13b1fc)&&this[_0x5078b2(0xa57)](_0x13b1fc['id'],_0x13b1fc[_0x5078b2(0x2d0)]));}});}[_0x3035df(0x98b)](){const _0x5b9560=_0x3035df;this[_0x5b9560(0x599)](),this[_0x5b9560(0x4b0)]();}[_0x3035df(0x7ab)](){const _0x320832=_0x3035df;this[_0x320832(0x599)](),super[_0x320832(0x7ab)]();}['clear'](){const _0x16a16b=_0x3035df;this[_0x16a16b(0x334)][_0x16a16b(0x599)](),this[_0x16a16b(0x39c)]&&this[_0x16a16b(0x39c)]();}[_0x3035df(0x72f)](){const _0x5dc1d5=_0x3035df;this[_0x5dc1d5(0x31b)]?.[_0x5dc1d5(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x5dc1d5(0x240)],'content':{'type':_0x41c383['CloseJobDispatcher'],'label':this['label']}});}async[_0x3035df(0x632)](_0x3607da){const _0x12578a=_0x3035df,{id:_0x134fb3,parameters:_0x142291,jobType:_0x41f122}=_0x3607da,_0x2fe525={'id':_0x134fb3,'jobType':_0x41f122,'parameters':_0x142291,'status':_0x37e813[_0x12578a(0xa1f)][_0x12578a(0x257)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x12578a(0x5e8)](_0x2fe525['id']))throw new _0x2758ff(_0x1e2529[_0x12578a(0x872)],'Job\x20with\x20id\x20'+_0x2fe525['id']+_0x12578a(0x9ef));_0x2fe525[_0x12578a(0x931)]=new Date(),_0x2fe525[_0x12578a(0x356)]=new Date();const _0x6d0bd2=new _0x522653[(_0x12578a(0x568))]();this['jobs'][_0x12578a(0xac2)](_0x2fe525['id'],_0x2fe525),this[_0x12578a(0xa1c)][_0x12578a(0xac2)](_0x2fe525['id'],_0x6d0bd2);try{const _0x52ebb3={'id':_0x2fe525['id'],'jobPhase':_0x583dae[_0x12578a(0x4fb)],'jobType':_0x2fe525['jobType']},_0x486e9f=0x3;let _0x472ef3=0x0;const _0x62f57f=async()=>{const _0x13afda=_0x12578a;_0x472ef3+=0x1;try{_0x5cdff6['log'](_0x2a39e9['Jobs'],_0x13afda(0x1ef)+_0x2fe525['id']+'\x20sending\x20attempt\x20'+_0x472ef3+'.',this[_0x13afda(0x2c7)][_0x13afda(0x497)]()),await this[_0x13afda(0x6a0)](_0x52ebb3),_0x2fe525['updated']=new Date(),this['jobs'][_0x13afda(0xac2)](_0x2fe525['id'],_0x2fe525),this[_0x13afda(0x302)](_0x2fe525['id']);}catch(_0x3da8b3){_0x472ef3<_0x486e9f?(_0x5cdff6['warning'](_0x13afda(0x677)+_0x472ef3+_0x13afda(0x7cc)+_0x2fe525['id']+_0x13afda(0x32b),{'nodeId':this[_0x13afda(0xa41)][_0x13afda(0x6cd)](),'nodeType':this[_0x13afda(0xa41)][_0x13afda(0x48b)],'data':{'job':_0x2fe525,'attempts':_0x472ef3,'maxRetries':_0x486e9f}}),setTimeout(_0x62f57f,0x3e8)):(_0x2fe525[_0x13afda(0x82b)]=_0x37e813[_0x13afda(0xa1f)][_0x13afda(0x83a)],_0x2fe525['updated']=new Date(),this[_0x13afda(0x334)]['set'](_0x2fe525['id'],_0x2fe525),_0x5cdff6[_0x13afda(0xa29)]('Failed\x20to\x20send\x20job\x20'+_0x2fe525['id']+'\x20after\x20'+_0x486e9f+_0x13afda(0x59a),{'nodeId':this['owner'][_0x13afda(0x6cd)](),'nodeType':this[_0x13afda(0xa41)][_0x13afda(0x48b)],'data':{'job':_0x2fe525,'attempts':_0x472ef3,'maxRetries':_0x486e9f,'error':_0x3da8b3}}));}};_0x62f57f();const {id:_0x123a61}=_0x2fe525;this['logEvent'](_0x12578a(0x1ef)+_0x2fe525['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x123a61}),_0x2fe525[_0x12578a(0x356)]=new Date();}catch(_0x33a916){_0x2fe525[_0x12578a(0x82b)]=_0x37e813['JobStatus'][_0x12578a(0x83a)],_0x5cdff6[_0x12578a(0xa29)]('Failed\x20to\x20send\x20job\x20'+_0x2fe525['id']+':',{'nodeId':this['owner']['getId'](),'nodeType':this[_0x12578a(0xa41)][_0x12578a(0x48b)],'data':{'job':_0x2fe525,'error':_0x33a916}});}return _0x6d0bd2[_0x12578a(0x3f8)]();}[_0x3035df(0x1fc)](_0x2f8528){const _0x4b1c8e=_0x3035df,_0xc8b645=this[_0x4b1c8e(0x334)][_0x4b1c8e(0x557)](_0x2f8528);if(!_0xc8b645)throw new _0x2758ff(_0x1e2529[_0x4b1c8e(0xa3e)],'Job\x20with\x20id\x20'+_0x2f8528+_0x4b1c8e(0x28f));return{'id':_0xc8b645['id'],'jobType':_0xc8b645[_0x4b1c8e(0x92f)],'status':_0xc8b645[_0x4b1c8e(0x82b)],'parameters':_0xc8b645[_0x4b1c8e(0x58d)]};}['getJobs'](){const _0x52d050=_0x3035df;return Array[_0x52d050(0x6a1)](this[_0x52d050(0x334)]['values']())[_0x52d050(0x207)](_0x3558ce=>this[_0x52d050(0x1fc)](_0x3558ce['id']));}async['updateJob'](_0x4a4916,_0x1c61c2){const _0x1ecb84=_0x3035df,_0x58f57c=this[_0x1ecb84(0x334)]['get'](_0x4a4916);if(!_0x58f57c)throw new _0x2758ff(_0x1e2529['JobDispatcherJobNotFound'],_0x1ecb84(0x43f)+_0x4a4916+_0x1ecb84(0x28f));_0x58f57c[_0x1ecb84(0x58d)]=_0x1c61c2,_0x58f57c[_0x1ecb84(0x356)]=new Date(),this[_0x1ecb84(0x334)][_0x1ecb84(0xac2)](_0x4a4916,_0x58f57c);}async[_0x3035df(0x21c)](_0x26eaa0){const _0x5c9538=_0x3035df;if(!this[_0x5c9538(0x334)][_0x5c9538(0x72d)](_0x26eaa0))throw new _0x2758ff(_0x1e2529[_0x5c9538(0xa3e)],_0x5c9538(0x43f)+_0x26eaa0+_0x5c9538(0x28f));const _0x86416a=this[_0x5c9538(0xa1c)][_0x5c9538(0x557)](_0x26eaa0);if(!_0x86416a)throw new _0x891088(_0x891088[_0x5c9538(0x5fb)][_0x5c9538(0x729)]);_0x86416a[_0x5c9538(0x244)](),this[_0x5c9538(0xa1c)][_0x5c9538(0x72d)](_0x26eaa0),_0x5cdff6[_0x5c9538(0x3e9)](_0x2a39e9[_0x5c9538(0x363)],_0x5c9538(0x1ef)+_0x26eaa0+_0x5c9538(0x7d4));}['addBidResponse'](_0x14a4d8,_0x32eae8,_0x24a9a6){const _0x26e146=_0x3035df,_0x57441b=this[_0x26e146(0x223)][_0x26e146(0x557)](_0x32eae8)??new Map();_0x57441b[_0x26e146(0xac2)](_0x14a4d8,[_0x24a9a6,Date[_0x26e146(0x6de)]()]),this[_0x26e146(0x223)][_0x26e146(0xac2)](_0x32eae8,_0x57441b),this[_0x26e146(0x403)](_0x32eae8);}[_0x3035df(0x302)](_0x2829c7){const _0x185327=_0x3035df,_0x4f768c=this[_0x185327(0x334)][_0x185327(0x557)](_0x2829c7);if(!_0x4f768c)throw new _0x891088(_0x891088['codes']['JobDispatcherJobNotFound']);const _0xb271c5=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x2829c7,!0x0),0xbb8);_0x4f768c[_0x185327(0xb21)]=_0xb271c5,this[_0x185327(0x334)][_0x185327(0xac2)](_0x4f768c['id'],_0x4f768c);}[_0x3035df(0x403)](_0x53fe19,_0xc815a=!0x1){const _0x9c7e3e=_0x3035df,_0x15e228=this[_0x9c7e3e(0x2c7)][_0x9c7e3e(0x497)](),_0x1c6bd7=Array['from'](_0x15e228[_0x9c7e3e(0xb09)]())[_0x9c7e3e(0xab2)](_0x160ff2=>_0x160ff2['type']===_0x37e813[_0x9c7e3e(0x884)][_0x9c7e3e(0x8c1)]),_0x1d2442=this['jobBids'][_0x9c7e3e(0x557)](_0x53fe19)??new Map();if(!_0xc815a&&(!_0x1d2442||_0x1d2442[_0x9c7e3e(0xadc)]<_0x1c6bd7[_0x9c7e3e(0x68c)]))return;const _0x25e76c=this[_0x9c7e3e(0x334)][_0x9c7e3e(0x557)](_0x53fe19);if(!_0x25e76c)throw new _0x891088(_0x891088[_0x9c7e3e(0x5fb)][_0x9c7e3e(0xa3e)]);if(clearTimeout(_0x25e76c[_0x9c7e3e(0xb21)]),_0x5cdff6[_0x9c7e3e(0x3e9)](_0x2a39e9[_0x9c7e3e(0x363)],'Job\x20'+_0x25e76c['id']+_0x9c7e3e(0x8bd),_0x1d2442,this[_0x9c7e3e(0x223)]),!_0x1d2442||0x0===_0x1d2442[_0x9c7e3e(0xadc)]){_0x25e76c[_0x9c7e3e(0x82b)]=_0x37e813['JobStatus'][_0x9c7e3e(0x83a)],_0x25e76c[_0x9c7e3e(0x356)]=new Date(),_0x5cdff6['error'](_0x9c7e3e(0x1ef)+_0x25e76c['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x9c7e3e(0xa41)][_0x9c7e3e(0x6cd)](),'nodeType':this[_0x9c7e3e(0xa41)]['type'],'data':{'job':_0x25e76c,'responses':_0x1d2442}});const _0xef502e=this['jobObservers'][_0x9c7e3e(0x557)](_0x53fe19);if(!_0xef502e)throw new _0x891088(_0x891088['codes'][_0x9c7e3e(0x729)]);const _0x5894a7=_0x9c7e3e(0x658),_0x307fad={'id':_0x25e76c['id'],'status':_0x25e76c[_0x9c7e3e(0x82b)],'message':_0x5894a7};return _0xef502e[_0x9c7e3e(0x9f9)](_0x307fad),_0xef502e[_0x9c7e3e(0x244)](),this[_0x9c7e3e(0x334)]['set'](_0x25e76c['id'],_0x25e76c),void this[_0x9c7e3e(0x223)][_0x9c7e3e(0x72d)](_0x53fe19);}const {nodeId:_0x34c78c,response:_0x13dc21}=this[_0x9c7e3e(0x57c)](_0x25e76c['id'],_0x1d2442);_0x25e76c[_0x9c7e3e(0x82b)]=_0x37e813[_0x9c7e3e(0xa1f)][_0x9c7e3e(0x5d1)],_0x25e76c['updated']=new Date(),_0x5cdff6['log'](_0x2a39e9[_0x9c7e3e(0x363)],_0x9c7e3e(0x1ef)+_0x25e76c['id']+_0x9c7e3e(0x295)+_0x34c78c+'\x20with\x20response:',_0x13dc21);const _0x3c4f59={'id':_0x25e76c['id'],'jobType':_0x25e76c['jobType'],'jobPhase':_0x583dae[_0x9c7e3e(0x7f3)],'parameters':_0x25e76c[_0x9c7e3e(0x58d)]};this['send'](_0x3c4f59,[_0x34c78c]),this[_0x9c7e3e(0x334)][_0x9c7e3e(0xac2)](_0x25e76c['id'],_0x25e76c),this[_0x9c7e3e(0x223)][_0x9c7e3e(0x72d)](_0x53fe19);}[_0x3035df(0x57c)](_0x332679,_0x3fa175){const _0x43e3dd=_0x3035df;let _0x107152;const _0x2eaa87=Array[_0x43e3dd(0x6a1)](_0x3fa175['entries']())[_0x43e3dd(0xab2)](([,[_0x529d82]])=>_0x529d82[_0x43e3dd(0x8e0)]);if(_0x107152=_0x2eaa87[_0x43e3dd(0x68c)]>0x0?Array[_0x43e3dd(0x6a1)](_0x3fa175[_0x43e3dd(0x946)]())['sort']((_0x17e303,_0x3dbf51)=>_0x3dbf51[0x1][0x0]['bid']-_0x17e303[0x1][0x0]['bid']):Array[_0x43e3dd(0x6a1)](_0x3fa175[_0x43e3dd(0x946)]())[_0x43e3dd(0x7aa)]((_0x176691,_0x30f519)=>_0x176691[0x1][0x0][_0x43e3dd(0x868)]-_0x30f519[0x1][0x0][_0x43e3dd(0x868)]),0x1===_0x107152[_0x43e3dd(0x68c)])return{'nodeId':_0x107152[0x0][0x0],'response':_0x107152[0x0][0x1][0x0]};let _0x9f055c;if(_0x9f055c=_0x2eaa87[_0x43e3dd(0x68c)]>0x0?(_0x150f85=>{const _0xeffc81=_0x43e3dd,_0x1ec01f=_0x150f85[0x0][0x1][0x0][_0xeffc81(0x8d2)];return _0x150f85[_0xeffc81(0xab2)](([,[_0x4d6cc1]])=>_0x4d6cc1[_0xeffc81(0x8d2)]===_0x1ec01f);})(_0x107152):(_0x1346b9=>{const _0x5afb98=_0x43e3dd,_0x5ec88f=_0x1346b9[0x0][0x1][0x0]['queueLength'];return _0x1346b9[_0x5afb98(0xab2)](([,[_0x474faf]])=>_0x474faf['queueLength']===_0x5ec88f);})(_0x107152),0x1===_0x9f055c[_0x43e3dd(0x68c)])return{'nodeId':_0x9f055c[0x0][0x0],'response':_0x9f055c[0x0][0x1][0x0]};const _0x313e44=this['jobs']['get'](_0x332679);if(!_0x313e44)throw new _0x891088(_0x891088[_0x43e3dd(0x5fb)][_0x43e3dd(0xa3e)]);const _0x44fdf2=_0x313e44[_0x43e3dd(0x931)]['getTime'](),_0x280c7e=_0x9f055c[_0x43e3dd(0x207)](([_0x3653c5,[,_0x5afffc]])=>({'nodeId':_0x3653c5,'rtt':_0x5afffc-_0x44fdf2})),_0xe3565c=Math[_0x43e3dd(0x364)](..._0x280c7e['map'](({rtt:_0x5d60c9})=>_0x5d60c9)),_0x46f36e=_0x280c7e[_0x43e3dd(0x85d)](({rtt:_0x33b921})=>_0x33b921===_0xe3565c),[,[_0x444c5e]]=_0x9f055c[_0x43e3dd(0x85d)](([_0x17f7d7])=>_0x17f7d7===_0x46f36e[_0x43e3dd(0x846)]);return{'nodeId':_0x46f36e[_0x43e3dd(0x846)],'response':_0x444c5e};}[_0x3035df(0xa94)](_0x10b571,_0x2f651d){const _0x215917=_0x3035df,_0x56e224=this['jobs'][_0x215917(0x557)](_0x10b571);if(!_0x56e224)throw new _0x891088(_0x891088[_0x215917(0x5fb)][_0x215917(0xa3e)]);const _0x5c1eee=this[_0x215917(0xa1c)][_0x215917(0x557)](_0x10b571);if(!_0x5c1eee)throw new _0x891088(_0x891088[_0x215917(0x5fb)]['JobDispatcherObserverNotFound']);const _0x46f03c={'id':_0x56e224['id'],'status':_0x37e813[_0x215917(0xa1f)][_0x215917(0x245)],'result':_0x2f651d['result']};_0x5c1eee['next'](_0x46f03c);}[_0x3035df(0xa86)](_0x1438fd,_0x35b6a6){const _0x5a3732=_0x3035df,_0x104177=this[_0x5a3732(0x334)][_0x5a3732(0x557)](_0x1438fd);if(!_0x104177)throw new _0x891088(_0x891088[_0x5a3732(0x5fb)][_0x5a3732(0xa3e)]);const _0x5b9872=this[_0x5a3732(0xa1c)][_0x5a3732(0x557)](_0x1438fd);if(!_0x5b9872)throw new _0x891088(_0x891088[_0x5a3732(0x5fb)][_0x5a3732(0x729)]);_0x104177[_0x5a3732(0x82b)]=_0x37e813[_0x5a3732(0xa1f)][_0x5a3732(0x88b)];const _0x4a6477={'id':_0x104177['id'],'status':_0x104177['status'],'result':_0x35b6a6[_0x5a3732(0x660)]};_0x5b9872[_0x5a3732(0x9f9)](_0x4a6477),_0x5b9872['complete'](),this['jobObservers']['delete'](_0x1438fd),this['logEvent'](_0x5a3732(0x1ef)+_0x1438fd+_0x5a3732(0x9cb),{'jobId':_0x1438fd});}[_0x3035df(0xa57)](_0x1821e7,_0x3d119b){const _0x10cc44=_0x3035df,_0x317622=this['jobs'][_0x10cc44(0x557)](_0x1821e7);if(!_0x317622)throw new _0x891088(_0x891088['codes']['JobDispatcherJobNotFound']);const _0x23dd00=this['jobObservers'][_0x10cc44(0x557)](_0x1821e7);if(!_0x23dd00)throw new _0x891088(_0x891088[_0x10cc44(0x5fb)]['JobDispatcherObserverNotFound']);_0x317622[_0x10cc44(0x82b)]=_0x37e813['JobStatus'][_0x10cc44(0x83a)];const _0x3c2f96={'id':_0x317622['id'],'status':_0x317622[_0x10cc44(0x82b)],'message':_0x3d119b};_0x23dd00['next'](_0x3c2f96),_0x23dd00[_0x10cc44(0x244)](),this['jobObservers'][_0x10cc44(0x72d)](_0x1821e7),this[_0x10cc44(0x7df)](_0x10cc44(0x1ef)+_0x1821e7+_0x10cc44(0x1f5),{'jobId':_0x1821e7});}[_0x3035df(0x7df)](_0x22239e,{jobId:_0x2c87c3}){const _0x1e803c=_0x3035df,_0x8f5428={'jobId':_0x2c87c3,'mistletIds':Array[_0x1e803c(0x6a1)](this[_0x1e803c(0x2c7)][_0x1e803c(0x497)]()[_0x1e803c(0xb09)]())[_0x1e803c(0xab2)](_0x4c5237=>_0x4c5237[_0x1e803c(0x48b)]===_0x37e813['NodeType'][_0x1e803c(0x8c1)])[_0x1e803c(0x207)](_0x422828=>_0x422828[_0x1e803c(0x6cd)]())};_0x5cdff6[_0x1e803c(0x7df)](_0x22239e,{'nodeId':this['getOwnerId'](),'nodeType':this['owner'][_0x1e803c(0x48b)],'data':_0x8f5428}),_0x5cdff6[_0x1e803c(0x3e9)](_0x2a39e9[_0x1e803c(0x363)],_0x22239e,_0x8f5428);}[_0x3035df(0x52f)](_0xd0287){const _0x7d3b88=_0x3035df,{jobPhase:_0x129cd4,available:_0x3a2988,bid:_0x5dc581}=_0xd0287;return _0x129cd4===_0x583dae[_0x7d3b88(0x837)]&&void 0x0!==_0x3a2988&&void 0x0!==_0x5dc581;}[_0x3035df(0x381)](_0x3707b7){const _0x6e4c07=_0x3035df,{jobPhase:_0x5cab83,result:_0x37b494}=_0x3707b7;return _0x5cab83===_0x583dae[_0x6e4c07(0x661)]&&void 0x0!==_0x37b494;}[_0x3035df(0x21a)](_0x14a4bf){const _0x5e8939=_0x3035df,{jobPhase:_0x1b9caf,result:_0x45ea7a}=_0x14a4bf;return _0x1b9caf===_0x583dae[_0x5e8939(0x71d)]&&void 0x0!==_0x45ea7a;}[_0x3035df(0x4bc)](_0x1199b4){const {jobPhase:_0x49f2f2,message:_0x4419e1}=_0x1199b4;return _0x49f2f2===_0x583dae['Failed']&&void 0x0!==_0x4419e1&&'string'==typeof _0x4419e1;}}var _0x399d08,_0x555fab,_0x27169c,_0x338075;!function(_0x256a96){const _0x51fca1=_0x3035df;_0x256a96['ObjectStorage']=_0x51fca1(0x3be),_0x256a96[_0x51fca1(0x3dd)]=_0x51fca1(0x3a1);}(_0x399d08||(_0x399d08={})),function(_0x48b2e5){const _0x542adb=_0x3035df;_0x48b2e5[_0x542adb(0x8c1)]='agent',_0x48b2e5[_0x542adb(0xac9)]='agent-skill',_0x48b2e5['CustomSkill']=_0x542adb(0x406),_0x48b2e5[_0x542adb(0x22e)]='data-collection',_0x48b2e5[_0x542adb(0x359)]=_0x542adb(0x970),_0x48b2e5[_0x542adb(0x2de)]=_0x542adb(0xb1e),_0x48b2e5[_0x542adb(0x310)]=_0x542adb(0x8c4),_0x48b2e5[_0x542adb(0x494)]=_0x542adb(0x708),_0x48b2e5[_0x542adb(0x8a4)]=_0x542adb(0x7ad),_0x48b2e5[_0x542adb(0x25b)]=_0x542adb(0x7a7),_0x48b2e5[_0x542adb(0x45c)]=_0x542adb(0x76f),_0x48b2e5[_0x542adb(0x3aa)]=_0x542adb(0xae5),_0x48b2e5['WebScraperRaw']=_0x542adb(0x2c8),_0x48b2e5[_0x542adb(0x8c7)]=_0x542adb(0x3a4),_0x48b2e5[_0x542adb(0x58c)]=_0x542adb(0x625),_0x48b2e5[_0x542adb(0x5e9)]=_0x542adb(0x636);}(_0x555fab||(_0x555fab={})),function(_0x11e6a4){const _0x21b61b=_0x3035df;_0x11e6a4[_0x21b61b(0x58a)]=_0x21b61b(0x755),_0x11e6a4[_0x21b61b(0xa1e)]=_0x21b61b(0x96b),_0x11e6a4[_0x21b61b(0x638)]=_0x21b61b(0x66d),_0x11e6a4['ChunkSplitter']=_0x21b61b(0x3a4),_0x11e6a4[_0x21b61b(0x5e9)]=_0x21b61b(0x636),_0x11e6a4['SentenceSplitter']=_0x21b61b(0x625),_0x11e6a4[_0x21b61b(0xb08)]=_0x21b61b(0xafc),_0x11e6a4[_0x21b61b(0x797)]=_0x21b61b(0x2ea),_0x11e6a4[_0x21b61b(0x25a)]=_0x21b61b(0xacc),_0x11e6a4[_0x21b61b(0xab1)]=_0x21b61b(0x689),_0x11e6a4[_0x21b61b(0x8c1)]=_0x21b61b(0x3f0),_0x11e6a4['ObjectStorageBucket']=_0x21b61b(0x3be),_0x11e6a4[_0x21b61b(0xa04)]='key-value-database',_0x11e6a4[_0x21b61b(0x85b)]='vector-database',_0x11e6a4['GraphDatabase']='graph-database',_0x11e6a4[_0x21b61b(0x2de)]=_0x21b61b(0xb1e),_0x11e6a4['Context']=_0x21b61b(0x4cd);}(_0x27169c||(_0x27169c={})),function(_0x3622f5){const _0x2927f8=_0x3035df;_0x3622f5['File']=_0x2927f8(0x279),_0x3622f5['Text']=_0x2927f8(0x26b),_0x3622f5['Image']=_0x2927f8(0x65c),_0x3622f5[_0x2927f8(0x4ad)]=_0x2927f8(0x8ba),_0x3622f5[_0x2927f8(0x51e)]='data',_0x3622f5[_0x2927f8(0x4b8)]=_0x2927f8(0x5b2),_0x3622f5['Entity']=_0x2927f8(0x8ea),_0x3622f5['Relation']=_0x2927f8(0x368),_0x3622f5['Search']=_0x2927f8(0x7a7),_0x3622f5[_0x2927f8(0x743)]='index',_0x3622f5[_0x2927f8(0x359)]='knowledge',_0x3622f5['Skill']=_0x2927f8(0x339),_0x3622f5['Context']=_0x2927f8(0x4cd),_0x3622f5[_0x2927f8(0x7b7)]='wait';}(_0x338075||(_0x338075={}));class _0x4a238b{static [_0x3035df(0xa28)];constructor(){}static['getInstance'](){const _0x3e9efe=_0x3035df;return _0x4a238b[_0x3e9efe(0xa28)]||(_0x4a238b[_0x3e9efe(0xa28)]=new _0x4a238b()),_0x4a238b[_0x3e9efe(0xa28)];}async[_0x3035df(0x5e0)](_0x559b28,_0x5eb8c2){const _0x2ec9b0=_0x3035df,_0x4cedd7=await(0x0,_0x3bf861['getDoc'])((0x0,_0x3bf861[_0x2ec9b0(0x533)])(_0x1d88af[_0x2ec9b0(0x26d)](),_0x2ec9b0(0x921)+_0x559b28+_0x2ec9b0(0x644)+_0x5eb8c2)),_0x3e53ca=await this['getAgents'](_0x559b28),_0x5acb90=await this[_0x2ec9b0(0xa7b)](_0x559b28),_0x2abb07=await this[_0x2ec9b0(0x22a)](_0x559b28),_0x252a50=await this['getModels'](_0x559b28),_0x501ee5=await this[_0x2ec9b0(0x669)](_0x559b28);if(!_0x4cedd7[_0x2ec9b0(0x5a9)]())throw new _0x891088(_0x891088['codes'][_0x2ec9b0(0x21f)]);return this[_0x2ec9b0(0x47b)](_0x4cedd7,_0x3e53ca,_0x5acb90,_0x2abb07,_0x252a50,_0x501ee5);}['parseWorkflowDocument'](_0xc581bb,_0xde4c21,_0x545ef6,_0x18ad98,_0x52b336,_0x5d6dc8){const _0x207c7c=_0x3035df,_0x5a5159=_0xc581bb[_0x207c7c(0x937)]();if(!_0x5a5159)throw new _0x891088(_0x891088[_0x207c7c(0x5fb)][_0x207c7c(0x21f)]);const _0x395b38=_0x5a5159['deployedVersion']&&_0x5a5159[_0x207c7c(0x9a7)]?_0x5a5159['versions'][_0x5a5159[_0x207c7c(0x4f3)]-0x1]:_0x5a5159,_0x2dfd1d=this[_0x207c7c(0x668)](_0x395b38[_0x207c7c(0x721)],_0xde4c21,_0x545ef6,_0x18ad98,_0x5d6dc8);return{'id':_0xc581bb['id'],'modelsBucketId':_0x5a5159[_0x207c7c(0x9a4)],'blocks':_0x2dfd1d,'models':this['getWorkflowModels'](_0x2dfd1d,_0x52b336),'dataBucketIds':this[_0x207c7c(0x6c4)](_0x2dfd1d),'externalStorageConnectionIds':this[_0x207c7c(0xa1d)](_0x2dfd1d)};}[_0x3035df(0xb0f)](_0x123b1f,_0x469253){const _0x413215=_0x3035df,_0x27368d=new Set();for(const _0x27900d of _0x123b1f)if(_0x27900d[_0x413215(0x48b)]!==_0x555fab[_0x413215(0x8c1)]&&_0x27900d['type']!==_0x555fab[_0x413215(0xac9)]||_0x27368d['add'](_0x27900d['modelId']),_0x27900d[_0x413215(0x48b)]===_0x555fab['Knowledge']||_0x27900d[_0x413215(0x48b)]===_0x555fab[_0x413215(0x22e)]){for(const _0x5ce9ee of[..._0x27900d['ingestBlocks'],..._0x27900d[_0x413215(0x809)]])_0x5ce9ee[_0x413215(0x48b)]===_0x27169c[_0x413215(0xab1)]&&_0x27368d[_0x413215(0x784)](_0x5ce9ee['id']),_0x5ce9ee[_0x413215(0x48b)]===_0x27169c['Agent']&&_0x27368d[_0x413215(0x784)](_0x5ce9ee[_0x413215(0x750)]);}return Array[_0x413215(0x6a1)](_0x27368d)[_0x413215(0x207)](_0x3518c6=>{const {id:_0x37103f,engineType:_0x6ebda4,taskType:_0x3c382f,inputType:_0x429de9,outputType:_0x2a823e,sourceUrl:_0x1ff65d}=_0x469253['find'](_0x455984=>_0x455984['id']===_0x3518c6);return{'id':_0x37103f,'engineType':_0x6ebda4,'taskType':_0x3c382f,'inputType':_0x429de9,'outputType':_0x2a823e,'sourceUrl':_0x1ff65d};});}[_0x3035df(0x6c4)](_0x5c7fa8){const _0x4a1caf=_0x3035df,_0x25cdae=new Set();for(const _0x456e8c of _0x5c7fa8)switch(_0x456e8c[_0x4a1caf(0x48b)]){case _0x555fab[_0x4a1caf(0x359)]:case _0x555fab['DataCollection']:for(const _0x29b6f8 of[..._0x456e8c[_0x4a1caf(0xa68)],..._0x456e8c[_0x4a1caf(0x809)]])_0x29b6f8[_0x4a1caf(0x48b)]===_0x27169c['ObjectStorageUpload']&&_0x25cdae['add'](_0x29b6f8['id']);}return Array[_0x4a1caf(0x6a1)](_0x25cdae);}[_0x3035df(0xa1d)](_0x34762e){const _0xed56d8=_0x3035df,_0x139d2a=new Set();for(const _0xe77b9d of _0x34762e)switch(_0xe77b9d[_0xed56d8(0x48b)]){case _0x555fab['Knowledge']:case _0x555fab[_0xed56d8(0x22e)]:for(const _0x2ac576 of[..._0xe77b9d[_0xed56d8(0xa68)],..._0xe77b9d['retrieveBlocks']])_0x2ac576['type']===_0x27169c[_0xed56d8(0xa1e)]&&_0x139d2a[_0xed56d8(0x784)](_0x2ac576['id']);}return Array[_0xed56d8(0x6a1)](_0x139d2a);}['parseWorkflowBlocks'](_0x475f05,_0x51e55d,_0x1ef1a4,_0x30d3db,_0x4f3f73){const _0x509897=_0x3035df;return _0x475f05[_0x509897(0x207)](_0x514093=>{const _0x203ec6=_0x509897;switch(_0x514093[_0x203ec6(0x48b)]){case _0x555fab[_0x203ec6(0x8c1)]:case _0x555fab[_0x203ec6(0xac9)]:const _0xb0fa20=_0x51e55d[_0x203ec6(0x85d)](_0x520b59=>_0x520b59['id']===_0x514093['id']);if(!_0xb0fa20)throw new _0x891088(_0x891088[_0x203ec6(0x5fb)][_0x203ec6(0x999)],{'block':_0x514093});const _0x5455c5=_0x514093[_0x203ec6(0x80d)]&&_0xb0fa20[_0x203ec6(0x9a7)]?_0xb0fa20[_0x203ec6(0x9a7)][_0x514093['version']-0x1]:_0xb0fa20;return{'type':_0xb0fa20[_0x203ec6(0x48b)],'id':_0xb0fa20['id'],'uid':_0x514093['uid'],'name':_0x5455c5[_0x203ec6(0x72a)],'description':_0x5455c5[_0x203ec6(0x983)],'instructions':_0x5455c5[_0x203ec6(0xaf5)],'contextOutputVariable':_0x5455c5['contextOutputVariable'],'contextInputVariable':_0x5455c5[_0x203ec6(0x83b)],'grammar':[_0x203ec6(0x3b6),'json',_0x203ec6(0x6ed)][_0x203ec6(0x7c4)](_0x5455c5[_0x203ec6(0x556)])?_0x5455c5[_0x203ec6(0x556)]:_0x4f3f73[_0x203ec6(0x85d)](_0x1c870a=>_0x1c870a['id']===_0x5455c5['grammar'])['content'],'temperature':_0x5455c5[_0x203ec6(0x947)],'maxTokens':_0x5455c5[_0x203ec6(0x4aa)],'modelId':_0x5455c5[_0x203ec6(0x750)],'links':_0x514093[_0x203ec6(0x70f)],'version':_0x514093[_0x203ec6(0x80d)]};case _0x555fab[_0x203ec6(0x359)]:case _0x555fab['DataCollection']:const _0x15cb1b=_0x1ef1a4[_0x203ec6(0x85d)](_0x661bb5=>_0x661bb5['id']===_0x514093['id']);if(!_0x15cb1b)throw new _0x891088(_0x891088['codes'][_0x203ec6(0x999)],{'block':_0x514093});const _0x2768bc=_0x514093[_0x203ec6(0x80d)]&&_0x15cb1b[_0x203ec6(0x9a7)]?_0x15cb1b[_0x203ec6(0x9a7)][_0x514093[_0x203ec6(0x80d)]-0x1]:_0x15cb1b;return{'type':_0x514093['type'],'id':_0x15cb1b['id'],'uid':_0x514093['uid'],'name':_0x2768bc[_0x203ec6(0x72a)],'description':_0x2768bc[_0x203ec6(0x983)],'ingestBlocks':this[_0x203ec6(0x26f)](_0x2768bc[_0x203ec6(0xa68)],_0x51e55d),'retrieveBlocks':this[_0x203ec6(0x26f)](_0x2768bc['retrieveBlocks'],_0x51e55d),'links':_0x514093['links'],'version':_0x514093[_0x203ec6(0x80d)]};case _0x555fab[_0x203ec6(0x7f0)]:const _0x44deb7=_0x30d3db[_0x203ec6(0x85d)](_0x1a0476=>_0x1a0476['id']===_0x514093['id']);if(!_0x44deb7)throw new _0x891088(_0x891088['codes']['WorkflowInvalidBlockType'],{'block':_0x514093});return{'type':_0x514093['type'],'id':_0x44deb7['id'],'uid':_0x514093[_0x203ec6(0x986)],'name':_0x44deb7[_0x203ec6(0x72a)],'description':_0x44deb7[_0x203ec6(0x983)],'parameters':_0x44deb7['parameters'],'endpointUrl':_0x44deb7['endpointUrl'],'endpointMethod':_0x44deb7[_0x203ec6(0x94c)],'headers':_0x44deb7[_0x203ec6(0x565)],'queryParameters':_0x44deb7[_0x203ec6(0x4d4)],'bodyParameters':_0x44deb7[_0x203ec6(0x725)],'contextOutputVariable':_0x44deb7[_0x203ec6(0x973)],'waitAsync':_0x44deb7[_0x203ec6(0x8d0)],'asyncEndpointUrl':_0x44deb7[_0x203ec6(0x2a5)],'asyncEndpointMethod':_0x44deb7[_0x203ec6(0x70d)],'asyncHeaders':_0x44deb7['asyncHeaders'],'links':_0x514093[_0x203ec6(0x70f)]};case _0x555fab[_0x203ec6(0x2de)]:case _0x555fab[_0x203ec6(0x310)]:case _0x555fab[_0x203ec6(0x494)]:case _0x555fab['Code']:case _0x555fab['Search']:case _0x555fab['AiSearch']:case _0x555fab[_0x203ec6(0x3aa)]:case _0x555fab[_0x203ec6(0xacf)]:case _0x555fab[_0x203ec6(0x58c)]:return{'type':_0x514093[_0x203ec6(0x48b)],'id':_0x514093['id'],'uid':_0x514093[_0x203ec6(0x986)],'links':_0x514093[_0x203ec6(0x70f)]};case _0x555fab['ChunkSplitter']:case _0x555fab[_0x203ec6(0x5e9)]:return{'type':_0x514093[_0x203ec6(0x48b)],'id':_0x514093['id'],'uid':_0x514093[_0x203ec6(0x986)],'links':_0x514093[_0x203ec6(0x70f)],'attributes':_0x514093[_0x203ec6(0x7b4)]};default:throw new _0x891088(_0x891088['codes']['WorkflowInvalidBlockType'],{'block':_0x514093});}});}['parseDataCollectionBlocks'](_0x28e92a,_0x33475a){const _0x20aefb=_0x3035df;return _0x28e92a[_0x20aefb(0x207)](_0x5ed68c=>{const _0x10ebac=_0x20aefb;switch(_0x5ed68c[_0x10ebac(0x48b)]){case _0x27169c['Agent']:const _0x2d8957=_0x33475a[_0x10ebac(0x85d)](_0x4bbc48=>_0x4bbc48['id']===_0x5ed68c['id']);if(!_0x2d8957)throw new _0x891088(_0x891088[_0x10ebac(0x5fb)][_0x10ebac(0x999)],{'block':_0x5ed68c});const _0x3ac343=_0x5ed68c[_0x10ebac(0x80d)]&&_0x2d8957[_0x10ebac(0x9a7)]?_0x2d8957['versions'][_0x5ed68c['version']-0x1]:_0x2d8957;return{'type':_0x5ed68c[_0x10ebac(0x48b)],'id':_0x5ed68c['id'],'uid':_0x5ed68c[_0x10ebac(0x986)],'description':_0x3ac343[_0x10ebac(0x983)],'instructions':_0x3ac343[_0x10ebac(0xaf5)],'grammar':_0x3ac343['grammar'],'temperature':_0x3ac343[_0x10ebac(0x947)],'maxTokens':_0x3ac343['maxTokens'],'modelId':_0x3ac343[_0x10ebac(0x750)],'links':_0x5ed68c[_0x10ebac(0x70f)],'version':_0x5ed68c[_0x10ebac(0x80d)]};case _0x27169c['GraphDatabase']:case _0x27169c['VectorDatabase']:case _0x27169c[_0x10ebac(0x5e9)]:case _0x27169c[_0x10ebac(0x8c7)]:case _0x27169c['EntityExtractor']:case _0x27169c[_0x10ebac(0x25a)]:return{'type':_0x5ed68c[_0x10ebac(0x48b)],'id':_0x5ed68c['id'],'uid':_0x5ed68c[_0x10ebac(0x986)],'links':_0x5ed68c[_0x10ebac(0x70f)],'attributes':_0x5ed68c['attributes']};case _0x27169c['Model']:case _0x27169c['ObjectStorageBucket']:case _0x27169c['KeyValueDatabase']:case _0x27169c[_0x10ebac(0xb08)]:case _0x27169c[_0x10ebac(0x638)]:case _0x27169c[_0x10ebac(0x58c)]:case _0x27169c['ObjectStorageUpload']:case _0x27169c[_0x10ebac(0xa1e)]:case _0x27169c[_0x10ebac(0x5aa)]:case _0x27169c['Prompt']:return{'type':_0x5ed68c[_0x10ebac(0x48b)],'id':_0x5ed68c['id'],'uid':_0x5ed68c[_0x10ebac(0x986)],'links':_0x5ed68c[_0x10ebac(0x70f)]};default:throw new _0x891088(_0x891088['codes'][_0x10ebac(0x999)],{'block':_0x5ed68c});}});}async[_0x3035df(0x8e6)](_0x273107){const _0x34f3be=_0x3035df;return(await(0x0,_0x3bf861[_0x34f3be(0xa06)])((0x0,_0x3bf861[_0x34f3be(0x8b6)])(_0x1d88af[_0x34f3be(0x26d)](),_0x34f3be(0x921)+_0x273107+'/resources/generative-ai-agent/items')))[_0x34f3be(0x365)]['map'](_0x4412dc=>{const _0xa4c2e7=_0x34f3be,_0x598dc6=_0x4412dc['data']();return{'type':_0x555fab[_0xa4c2e7(0x8c1)],'id':_0x4412dc['id'],'name':_0x598dc6[_0xa4c2e7(0x72a)],'description':_0x598dc6[_0xa4c2e7(0x983)],'instructions':_0x598dc6[_0xa4c2e7(0xaf5)],'contextOutputVariable':_0x598dc6['contextOutputVariable'],'contextInputVariable':_0x598dc6[_0xa4c2e7(0x83b)],'grammar':_0x598dc6[_0xa4c2e7(0x556)]??'default','temperature':_0x598dc6[_0xa4c2e7(0x947)],'maxTokens':_0x598dc6[_0xa4c2e7(0x4aa)],'modelId':_0x598dc6[_0xa4c2e7(0x750)],'versions':_0x598dc6['versions']};});}async['getDataCollections'](_0x12dbd0){const _0x481dc0=_0x3035df;return(await(0x0,_0x3bf861[_0x481dc0(0xa06)])((0x0,_0x3bf861[_0x481dc0(0x8b6)])(_0x1d88af[_0x481dc0(0x26d)](),'/developers/'+_0x12dbd0+'/resources/generative-ai-collection/items')))[_0x481dc0(0x365)]['map'](_0x4460dc=>{const _0x32c9e4=_0x481dc0,_0x1f4715=_0x4460dc[_0x32c9e4(0x937)]();return{'type':_0x555fab[_0x32c9e4(0x22e)],'id':_0x4460dc['id'],'name':_0x1f4715['name'],'description':_0x1f4715[_0x32c9e4(0x983)],'ingestBlocks':_0x1f4715[_0x32c9e4(0xa68)],'retrieveBlocks':_0x1f4715['retrieveBlocks'],'versions':_0x1f4715['versions']};});}async[_0x3035df(0x22a)](_0x220206){const _0x48d4cc=_0x3035df;return(await(0x0,_0x3bf861[_0x48d4cc(0xa06)])((0x0,_0x3bf861[_0x48d4cc(0x8b6)])(_0x1d88af[_0x48d4cc(0x26d)](),'/developers/'+_0x220206+_0x48d4cc(0x481))))[_0x48d4cc(0x365)][_0x48d4cc(0x207)](_0x1aeb2c=>{const _0x38df3a=_0x48d4cc,_0x2ee91a=_0x1aeb2c['data']();return{'type':_0x555fab[_0x38df3a(0x7f0)],'id':_0x1aeb2c['id'],'name':_0x2ee91a[_0x38df3a(0x72a)],'description':_0x2ee91a[_0x38df3a(0x983)],'parameters':_0x2ee91a['parameters'],'endpointUrl':_0x2ee91a[_0x38df3a(0x411)],'endpointMethod':_0x2ee91a[_0x38df3a(0x94c)],'headers':_0x2ee91a[_0x38df3a(0x565)],'queryParameters':_0x2ee91a[_0x38df3a(0x4d4)],'bodyParameters':_0x2ee91a['bodyParameters'],'contextOutputVariable':_0x2ee91a[_0x38df3a(0x973)],'waitAsync':_0x2ee91a['waitAsync']??!0x1,'asyncEndpointUrl':_0x2ee91a['asyncEndpointUrl'],'asyncEndpointMethod':_0x2ee91a['asyncEndpointMethod'],'asyncHeaders':_0x2ee91a[_0x38df3a(0xac6)]};});}async[_0x3035df(0x669)](_0x474926){const _0x283205=_0x3035df;return(await(0x0,_0x3bf861[_0x283205(0xa06)])((0x0,_0x3bf861[_0x283205(0x8b6)])(_0x1d88af[_0x283205(0x26d)](),_0x283205(0x921)+_0x474926+_0x283205(0x980))))[_0x283205(0x365)][_0x283205(0x207)](_0xea26a=>{const _0x1268ed=_0x283205,_0x348407=_0xea26a['data']();return{'id':_0xea26a['id'],'name':_0x348407['name'],'description':_0x348407[_0x1268ed(0x983)],'content':_0x348407[_0x1268ed(0x1f0)]};});}async[_0x3035df(0x224)](_0xdc0bc2){const _0x4eb36a=_0x3035df;return(await(0x0,_0x3bf861[_0x4eb36a(0xa06)])((0x0,_0x3bf861['collection'])(_0x1d88af['getFirestore'](),_0x4eb36a(0x921)+_0xdc0bc2+_0x4eb36a(0x7dd))))[_0x4eb36a(0x365)][_0x4eb36a(0x207)](_0x1a1e51=>{const _0x4415d0=_0x4eb36a,_0xb0b2ba=_0x1a1e51[_0x4415d0(0x937)]();return{'id':_0x1a1e51['id'],'modelName':_0xb0b2ba[_0x4415d0(0xa5d)],'engineType':_0xb0b2ba['engine'],'taskType':_0xb0b2ba[_0x4415d0(0x91c)],'inputType':_0xb0b2ba[_0x4415d0(0x972)]??_0x37e813[_0x4415d0(0x612)]['Text'],'outputType':_0xb0b2ba['outputType']??_0x37e813[_0x4415d0(0x886)][_0x4415d0(0x720)],'sourceUrl':_0xb0b2ba[_0x4415d0(0x35f)]};});}}const _0x408716=_0x4a238b[_0x3035df(0x98c)]();class _0xe055e1 extends _0x27ffad{[_0x3035df(0x8f4)];[_0x3035df(0x7c3)];[_0x3035df(0x748)]=0x0;['tokens']=0x0;[_0x3035df(0x932)];constructor(_0x51883f,_0xe145fb,_0x4f3e47,_0x23f02e){const _0x18cae8=_0x3035df;super(_0x51883f,_0xe145fb,_0x23f02e),this[_0x18cae8(0x8f4)]=_0x51883f,this['vendorId']=_0x4f3e47,this[_0x18cae8(0x509)]();}[_0x3035df(0x7ab)](){const _0x1fa3e3=_0x3035df;this[_0x1fa3e3(0x932)]&&(clearTimeout(this['debounceStats']),delete this[_0x1fa3e3(0x932)]),super['destroy']();}[_0x3035df(0x98b)](){const _0x4ef1a4=_0x3035df;this[_0x4ef1a4(0x748)]=0x0,this[_0x4ef1a4(0x595)]=0x0,this[_0x4ef1a4(0x509)](),super['reset']();}[_0x3035df(0x995)](_0x5a7b69){const _0x446aac=_0x3035df,_0x331aa2=_0x446aac(0x218)+(0x0,_0x5b15a5['v4'])();switch(_0x5a7b69[_0x446aac(0x48b)]){case _0x446aac(0xb1e):let _0x3ca3b0=!0x1;const _0x35ab2a=()=>{const _0x4a6848=_0x446aac;if(_0x3ca3b0)throw new _0x891088(_0x891088[_0x4a6848(0x5fb)][_0x4a6848(0x213)]);_0x3ca3b0=!0x0;},_0x36bc40=()=>(_0x35ab2a(),this[_0x446aac(0xb1e)](_0x331aa2,_0x5a7b69[_0x446aac(0xb1e)],_0x5a7b69[_0x446aac(0x489)])),_0xb78476=()=>(_0x35ab2a(),this[_0x446aac(0x338)](_0x331aa2,_0x5a7b69[_0x446aac(0xb1e)],_0x5a7b69[_0x446aac(0x489)]));return{'id':_0x331aa2,'prompt':_0x5a7b69[_0x446aac(0xb1e)],'options':_0x5a7b69[_0x446aac(0x489)]??{'threadId':'thread-'+(0x0,_0x5b15a5['v4'])()},'run':_0x36bc40,'stream':_0xb78476};case _0x446aac(0x57b):let _0x23a7c0=!0x1;const _0x2e2e4e=()=>{const _0x8c75f9=_0x446aac;if(_0x23a7c0)throw new _0x891088(_0x891088[_0x8c75f9(0x5fb)][_0x8c75f9(0x213)]);_0x23a7c0=!0x0;},_0x487c84=()=>(_0x2e2e4e(),this[_0x446aac(0x1fa)](_0x331aa2,_0x5a7b69[_0x446aac(0xa07)],_0x5a7b69[_0x446aac(0xa1b)],_0x5a7b69[_0x446aac(0x489)]));if(!_0x5a7b69[_0x446aac(0x489)]?.[_0x446aac(0x85e)])throw new _0x2758ff(_0x1e2529[_0x446aac(0x29e)],'Please\x20provide\x20a\x20threadId\x20in\x20the\x20options');return{'id':_0x331aa2,'rating':_0x5a7b69[_0x446aac(0xa07)],'options':_0x5a7b69[_0x446aac(0x489)]??{'threadId':_0x446aac(0x74f)+(0x0,_0x5b15a5['v4'])()},'rate':_0x487c84};case _0x446aac(0x427):let _0x46945d=!0x1;const _0x3e3141=()=>{const _0x17353c=_0x446aac;if(_0x46945d)throw new _0x891088(_0x891088['codes'][_0x17353c(0x213)]);_0x46945d=!0x0;};return{'id':_0x331aa2,'objectStoreId':'','documentPath':_0x5a7b69[_0x446aac(0x76b)],'download':()=>(_0x3e3141(),this['internalDownloadDocument'](_0x331aa2,_0x5a7b69['objectStoreId'],_0x5a7b69['documentPath']))};}}async[_0x3035df(0x3d1)](_0x1a17ba){const _0x353962=_0x3035df;return this[_0x353962(0x995)](_0x1a17ba)[_0x353962(0x57b)]();}async[_0x3035df(0x427)](_0x70325e){const _0x1a96a4=_0x3035df,_0xd72fc={'type':'downloadDocument','objectStoreId':'','documentPath':_0x70325e};return this[_0x1a96a4(0x995)](_0xd72fc)[_0x1a96a4(0x88e)]();}async[_0x3035df(0x1fa)](_0x63d6c,_0x3ba249,_0x3dc1b8,{threadId:_0x4b059a,feedback:_0x1914eb=''}){const _0x43f8ff=_0x3035df,_0x1ae255={'type':_0x43f8ff(0x57b),'jobId':_0x3dc1b8,'threadId':_0x4b059a,'rating':_0x3ba249,'feedback':_0x1914eb},_0x4723cc=await this[_0x43f8ff(0x41a)](_0x63d6c,_0x37e813[_0x43f8ff(0x8e2)][_0x43f8ff(0x749)],_0x1ae255,{'threadId':_0x4b059a,'feedback':_0x1914eb});return new Promise((_0x29fd72,_0x352b70)=>{const _0x32203c=_0x43f8ff;let _0x61be3b;const _0x1f05b5=_0x4723cc[_0x32203c(0x3bd)]({'next':_0x34c50f=>{const _0x5e2681=_0x32203c;switch(_0x34c50f['status']){case _0x37e813['JobStatus'][_0x5e2681(0x88b)]:clearTimeout(_0x61be3b),_0x29fd72(_0x34c50f[_0x5e2681(0x660)]),_0x1f05b5[_0x5e2681(0x5ee)]();break;case _0x37e813[_0x5e2681(0xa1f)][_0x5e2681(0x83a)]:clearTimeout(_0x61be3b),_0x352b70(new _0x891088(_0x891088[_0x5e2681(0x5fb)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x34c50f})),_0x1f05b5['unsubscribe']();}},'error':_0x450b2d=>{const _0x578570=_0x32203c;clearTimeout(_0x61be3b),_0x352b70(new _0x891088(_0x891088[_0x578570(0x5fb)][_0x578570(0xad1)],{'err':_0x450b2d})),_0x1f05b5['unsubscribe']();}});_0x61be3b=setTimeout(()=>{const _0x48a6b6=_0x32203c;_0x352b70(new _0x891088(_0x891088[_0x48a6b6(0x5fb)][_0x48a6b6(0x4e1)])),_0x1f05b5[_0x48a6b6(0x5ee)]();},_0x1ace1e);});}async['internalDownloadDocument'](_0x31b687,_0x2257bf,_0x42976b){const _0x21465c=_0x3035df,_0x2af8d4={'type':_0x21465c(0x427),'objectStoreId':_0x2257bf,'documentPath':_0x42976b,'threadId':_0x21465c(0x74f)+(0x0,_0x5b15a5['v4'])()},_0x222705=await this['getJobObservable'](_0x31b687,_0x37e813['JobType']['Job'],_0x2af8d4);return new Promise((_0x31cd5d,_0x4126f1)=>{const _0x2c621a=_0x21465c;let _0x4cb56a;const _0x22606a=_0x222705[_0x2c621a(0x3bd)]({'next':_0x461cfd=>{const _0x2fa29d=_0x2c621a;switch(_0x461cfd['status']){case _0x37e813[_0x2fa29d(0xa1f)][_0x2fa29d(0x88b)]:clearTimeout(_0x4cb56a),_0x31cd5d(_0x461cfd[_0x2fa29d(0x660)]),_0x22606a[_0x2fa29d(0x5ee)]();break;case _0x37e813[_0x2fa29d(0xa1f)][_0x2fa29d(0x83a)]:clearTimeout(_0x4cb56a),_0x4126f1(new _0x891088(_0x891088[_0x2fa29d(0x5fb)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x461cfd})),_0x22606a[_0x2fa29d(0x5ee)]();}},'error':_0x3e9bda=>{const _0x53ca15=_0x2c621a;clearTimeout(_0x4cb56a),_0x4126f1(new _0x891088(_0x891088[_0x53ca15(0x5fb)][_0x53ca15(0xad1)],{'err':_0x3e9bda})),_0x22606a['unsubscribe']();}});_0x4cb56a=setTimeout(()=>{const _0x1340d0=_0x2c621a;_0x4126f1(new _0x891088(_0x891088[_0x1340d0(0x5fb)][_0x1340d0(0x4e1)])),_0x22606a[_0x1340d0(0x5ee)]();},_0x1ace1e);});}async['prompt'](_0x341b62,_0x10a570,_0x509514){const _0x573b77=_0x3035df,_0x427957={'type':_0x573b77(0xb1e),'prompt':_0x10a570,'threadId':_0x509514?.[_0x573b77(0x85e)]??_0x573b77(0x74f)+(0x0,_0x5b15a5['v4'])()},_0x5a874f=await this[_0x573b77(0x41a)](_0x341b62,_0x37e813[_0x573b77(0x8e2)]['Job'],_0x427957,_0x509514);return new Promise((_0x33b037,_0x325f8a)=>{let _0x238018;const _0x3f8774=_0x5a874f['subscribe']({'next':_0x39b5c8=>{const _0x11ca0a=a0_0x4922;switch(_0x39b5c8[_0x11ca0a(0x82b)]){case _0x37e813[_0x11ca0a(0xa1f)][_0x11ca0a(0x88b)]:if(_0x11ca0a(0xb1e)!==_0x39b5c8['result'][_0x11ca0a(0x48b)])return;const _0x488000=_0x39b5c8[_0x11ca0a(0x660)][_0x11ca0a(0x3e7)]??0x0;this[_0x11ca0a(0x724)](_0x10a570,_0x488000),clearTimeout(_0x238018),_0x33b037(_0x39b5c8[_0x11ca0a(0x660)]),_0x3f8774['unsubscribe'](),this[_0x11ca0a(0x748)]+=0x1,this['tokens']+=_0x488000,this[_0x11ca0a(0x509)]();break;case _0x37e813[_0x11ca0a(0xa1f)][_0x11ca0a(0x83a)]:clearTimeout(_0x238018),_0x325f8a(new _0x891088(_0x891088['codes'][_0x11ca0a(0xad1)],{'updatedJob':_0x39b5c8})),_0x3f8774[_0x11ca0a(0x5ee)](),this[_0x11ca0a(0x509)]();}},'error':_0x3e491a=>{const _0x1b022e=a0_0x4922;clearTimeout(_0x238018),_0x325f8a(new _0x891088(_0x891088[_0x1b022e(0x5fb)][_0x1b022e(0xad1)],{'err':_0x3e491a})),_0x3f8774['unsubscribe']();}});_0x238018=setTimeout(()=>{const _0x37c5d4=a0_0x4922;_0x325f8a(new _0x891088(_0x891088['codes'][_0x37c5d4(0x4e1)])),_0x3f8774['unsubscribe']();},_0x1ace1e);});}async*[_0x3035df(0x338)](_0x22ffd3,_0x5c7c64,_0x1a069a){const _0x25edf4=_0x3035df,_0xd34e09={'type':_0x25edf4(0xb1e),'prompt':_0x5c7c64,'threadId':_0x1a069a?.[_0x25edf4(0x85e)]??_0x25edf4(0x74f)+(0x0,_0x5b15a5['v4'])()},_0x214092=await this[_0x25edf4(0x41a)](_0x22ffd3,_0x37e813[_0x25edf4(0x8e2)]['JobStream'],_0xd34e09,_0x1a069a);let _0x92e52,_0x16bd47,_0xf2a030=!0x1,_0x1e8d03=0x0;const _0x1497b1=[],_0x2746f0=new Map();let _0x17f24a=null;const _0x540c36=()=>{_0x17f24a&&(_0x17f24a(),_0x17f24a=null);},_0x5189af=_0x2ff1e4=>{const _0x337f73=_0x25edf4;_0xf2a030=!0x0,_0x540c36(),_0x23824e[_0x337f73(0x5ee)](),_0x16bd47=_0x2ff1e4;},_0x23824e=_0x214092[_0x25edf4(0x3bd)]({'next':_0x38fc14=>{const _0x60e58c=_0x25edf4;switch(_0x38fc14[_0x60e58c(0x82b)]){case _0x37e813['JobStatus'][_0x60e58c(0x245)]:if('prompt'!==_0x38fc14[_0x60e58c(0x660)][_0x60e58c(0x48b)])return;if(_0x38fc14[_0x60e58c(0x660)]&&void 0x0!==_0x38fc14[_0x60e58c(0x660)][_0x60e58c(0x757)]){if(void 0x0===_0x38fc14[_0x60e58c(0x660)][_0x60e58c(0x4fa)])return void _0x5189af(_0x891088[_0x60e58c(0x5fb)][_0x60e58c(0xa75)]);_0x1e8d03===_0x38fc14[_0x60e58c(0x660)][_0x60e58c(0x4fa)]?(_0x1497b1[_0x60e58c(0x343)](_0x38fc14[_0x60e58c(0x660)]),_0x1e8d03++,((()=>{const _0x423489=_0x60e58c;for(;_0x2746f0[_0x423489(0x5e8)](_0x1e8d03);)_0x1497b1[_0x423489(0x343)](_0x2746f0[_0x423489(0x557)](_0x1497b1[_0x423489(0x68c)])),_0x2746f0['delete'](_0x1497b1[_0x423489(0x68c)]),_0x1e8d03++;})()),_0x540c36(),_0x1b83ff()):_0x2746f0[_0x60e58c(0xac2)](_0x38fc14[_0x60e58c(0x660)]['index'],_0x38fc14[_0x60e58c(0x660)]);}break;case _0x37e813[_0x60e58c(0xa1f)][_0x60e58c(0x88b)]:if(_0x60e58c(0xb1e)!==_0x38fc14[_0x60e58c(0x660)][_0x60e58c(0x48b)])return;const _0xf5a797=_0x38fc14[_0x60e58c(0x660)]['inputTokens']??0x0;this[_0x60e58c(0x724)](_0x5c7c64,_0xf5a797),clearTimeout(_0x92e52),_0x5189af(),this[_0x60e58c(0x748)]+=0x1,this[_0x60e58c(0x595)]+=_0xf5a797,this[_0x60e58c(0x509)]();break;case _0x37e813[_0x60e58c(0xa1f)][_0x60e58c(0x83a)]:clearTimeout(_0x92e52),_0x5189af(_0x891088[_0x60e58c(0x5fb)]['GenerativeAIContextJobFailed']),this[_0x60e58c(0x509)]();}},'error':_0x515303=>{const _0x346685=_0x25edf4;clearTimeout(_0x92e52),_0x5189af(_0x891088[_0x346685(0x5fb)][_0x346685(0xad1)]);}}),_0x45efca=()=>{const _0x465de1=_0x25edf4;_0x5189af(_0x891088['codes'][_0x465de1(0x4e1)]);},_0x1b83ff=()=>{clearTimeout(_0x92e52),_0x92e52=setTimeout(_0x45efca,_0x1ace1e);};for(_0x92e52=setTimeout(_0x45efca,_0x1ace1e);!_0xf2a030||_0x1497b1[_0x25edf4(0x68c)]>0x0;)_0x1497b1[_0x25edf4(0x68c)]>0x0?yield _0x1497b1[_0x25edf4(0x866)]():await new Promise(_0xb3dd6d=>_0x17f24a=_0xb3dd6d);if(_0x16bd47)throw _0x5cdff6[_0x25edf4(0xa29)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x25edf4(0x8f4)][_0x25edf4(0x6cd)](),'nodeType':this[_0x25edf4(0x8f4)][_0x25edf4(0x48b)]}),new _0x891088(_0x16bd47);}async[_0x3035df(0x8e4)](){const _0x393720=_0x3035df;return(await _0x408716[_0x393720(0x5e0)](this[_0x393720(0x7c3)],this['label']))['dataBucketIds'];}[_0x3035df(0x724)](_0x346fea,_0x59e37d){const _0x1d038e=_0x3035df,_0x393e01=this['label'],_0xe919f1=this[_0x1d038e(0x264)]();_0x5cdff6[_0x1d038e(0x724)](_0x57257f[_0x1d038e(0xad4)],{'topic':_0x393e01,'prompt':_0x346fea,'type':'prompt','nodeId':_0xe919f1,'tokenCount':_0x59e37d});}async[_0x3035df(0x41a)](_0x54a268,_0x1ec54c,_0x59af7a,_0x599987={}){const _0x4e454=_0x3035df;let _0x4aff5c;switch(_0x59af7a[_0x4e454(0x48b)]){case _0x4e454(0xb1e):{const {threadId:_0x11cc54}=_0x599987;_0x4aff5c={'id':_0x54a268,'jobType':_0x1ec54c,'parameters':{..._0x599987,'type':'prompt','prompt':_0x59af7a['prompt'],'threadId':_0x11cc54},'status':_0x37e813['JobStatus'][_0x4e454(0x257)]};break;}case _0x4e454(0x57b):{const {threadId:_0x4ebaff}=_0x599987;_0x4aff5c={'id':_0x54a268,'jobType':_0x1ec54c,'parameters':{..._0x599987,'type':'rate','jobId':_0x59af7a[_0x4e454(0xa1b)],'rating':_0x59af7a[_0x4e454(0xa07)],'feedback':_0x59af7a[_0x4e454(0x69f)]??'','threadId':_0x4ebaff},'status':_0x37e813[_0x4e454(0xa1f)][_0x4e454(0x257)]};break;}case _0x4e454(0x427):_0x4aff5c={'id':_0x54a268,'jobType':_0x1ec54c,'parameters':{..._0x599987,'type':_0x4e454(0x427),'objectStoreId':_0x59af7a[_0x4e454(0x253)],'documentPath':_0x59af7a['documentPath']},'status':_0x37e813[_0x4e454(0xa1f)][_0x4e454(0x257)]};}return await this[_0x4e454(0x632)](_0x4aff5c);}[_0x3035df(0x509)](){const _0x3054f0=_0x3035df;this['debounceStats']&&clearTimeout(this[_0x3054f0(0x932)]),this[_0x3054f0(0x932)]=setTimeout(async()=>{const _0x4053c1=_0x3054f0;delete this[_0x4053c1(0x932)],this[_0x4053c1(0x31b)]['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x4053c1(0x240)],'content':{'type':_0x41c383[_0x4053c1(0x75a)],'label':this[_0x4053c1(0x4de)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x4053c1(0x824)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x4053c1(0x595)]}}});},_0x1a8c76);}}var _0x42272a,_0xd37276,_0x69b2a,_0x493d65,_0x61ddf8,_0x20e65b,_0x3145ba,_0x260b67,_0x64685d,_0x1570df,_0x351627;!function(_0x2a1f7d){const _0x5a2e2a=_0x3035df;_0x2a1f7d['AITrace']=_0x5a2e2a(0x367),_0x2a1f7d[_0x5a2e2a(0x7de)]='IngestTrace',_0x2a1f7d[_0x5a2e2a(0x578)]=_0x5a2e2a(0x578),_0x2a1f7d[_0x5a2e2a(0x83e)]=_0x5a2e2a(0x83e);}(_0x42272a||(_0x42272a={})),function(_0x9e4195){const _0x3b6a62=_0x3035df;_0x9e4195[_0x3b6a62(0x7ba)]=_0x3b6a62(0x7ba),_0x9e4195['ModelVector']='ModelVector',_0x9e4195[_0x3b6a62(0x6c2)]=_0x3b6a62(0x6c2),_0x9e4195[_0x3b6a62(0x797)]=_0x3b6a62(0x797),_0x9e4195[_0x3b6a62(0x6eb)]=_0x3b6a62(0x6eb),_0x9e4195[_0x3b6a62(0x25a)]=_0x3b6a62(0x25a);}(_0xd37276||(_0xd37276={})),function(_0x40bde1){const _0x59da0a=_0x3035df;_0x40bde1[_0x40bde1[_0x59da0a(0x55e)]=0x0]=_0x59da0a(0x55e),_0x40bde1[_0x40bde1['Info']=0x5]=_0x59da0a(0xa4b),_0x40bde1[_0x40bde1[_0x59da0a(0x5a2)]=0xa]='Warning',_0x40bde1[_0x40bde1[_0x59da0a(0x710)]=0xf]=_0x59da0a(0x710);}(_0x69b2a||(_0x69b2a={})),function(_0x2ba1a0){const _0x5de185=_0x3035df;_0x2ba1a0[_0x5de185(0x812)]=_0x5de185(0x812),_0x2ba1a0['Ingest']=_0x5de185(0x9bb),_0x2ba1a0[_0x5de185(0x359)]=_0x5de185(0x359),_0x2ba1a0[_0x5de185(0xa23)]=_0x5de185(0xa23),_0x2ba1a0[_0x5de185(0xb22)]='Workflow',_0x2ba1a0[_0x5de185(0x749)]=_0x5de185(0x749),_0x2ba1a0['JobContext']=_0x5de185(0x707),_0x2ba1a0[_0x5de185(0x800)]=_0x5de185(0x800);}(_0x493d65||(_0x493d65={})),function(_0x117dc2){const _0x5084e9=_0x3035df;_0x117dc2[_0x5084e9(0x8a2)]='Queued',_0x117dc2[_0x5084e9(0x88b)]=_0x5084e9(0x88b);}(_0x61ddf8||(_0x61ddf8={})),function(_0x512010){const _0x32470b=_0x3035df;_0x512010[_0x32470b(0x776)]=_0x32470b(0x776),_0x512010[_0x32470b(0x33b)]=_0x32470b(0x33b),_0x512010[_0x32470b(0x22e)]=_0x32470b(0x22e),_0x512010[_0x32470b(0x8bb)]='FinalOutput';}(_0x20e65b||(_0x20e65b={})),function(_0x5c1d96){const _0x4d553d=_0x3035df;_0x5c1d96[_0x4d553d(0x8c7)]='ChunkSplitter',_0x5c1d96['DocumentParser']=_0x4d553d(0x638),_0x5c1d96[_0x4d553d(0x797)]=_0x4d553d(0x797),_0x5c1d96['GraphDatabase']=_0x4d553d(0x9e3),_0x5c1d96[_0x4d553d(0x8c1)]=_0x4d553d(0x8c1),_0x5c1d96[_0x4d553d(0x7ba)]=_0x4d553d(0x7ba),_0x5c1d96[_0x4d553d(0x4af)]=_0x4d553d(0x4af),_0x5c1d96[_0x4d553d(0xb08)]='RelationExtractor',_0x5c1d96[_0x4d553d(0x58c)]='SentenceSplitter',_0x5c1d96[_0x4d553d(0x85b)]=_0x4d553d(0x85b),_0x5c1d96[_0x4d553d(0x5e9)]=_0x4d553d(0x5e9);}(_0x3145ba||(_0x3145ba={})),function(_0x4ee17a){const _0x38981c=_0x3035df;_0x4ee17a[_0x38981c(0x8f2)]=_0x38981c(0x8f2),_0x4ee17a['GetContextResult']=_0x38981c(0x672);}(_0x260b67||(_0x260b67={})),function(_0x179965){const _0x5cf0f4=_0x3035df;_0x179965['ExecuteCode']=_0x5cf0f4(0x452),_0x179965[_0x5cf0f4(0x575)]=_0x5cf0f4(0x575),_0x179965[_0x5cf0f4(0x706)]=_0x5cf0f4(0x706),_0x179965[_0x5cf0f4(0x7ed)]=_0x5cf0f4(0x7ed),_0x179965[_0x5cf0f4(0x54a)]=_0x5cf0f4(0x54a),_0x179965[_0x5cf0f4(0x817)]='ExecuteAgent',_0x179965['ExecuteCustomSkill']=_0x5cf0f4(0x98e);}(_0x64685d||(_0x64685d={})),function(_0x47a189){const _0x46c122=_0x3035df;_0x47a189[_0x46c122(0xa3c)]=_0x46c122(0xa3c),_0x47a189[_0x46c122(0x6e1)]=_0x46c122(0x6e1);}(_0x1570df||(_0x1570df={})),function(_0x205f4d){const _0x13f8da=_0x3035df;_0x205f4d[_0x13f8da(0x8ac)]=_0x13f8da(0x8ac);}(_0x351627||(_0x351627={}));class _0x33a4fd{static [_0x3035df(0xa28)];[_0x3035df(0x40e)]=[];[_0x3035df(0x2c1)]=!0x1;constructor(){}static[_0x3035df(0x98c)](){const _0x5adabb=_0x3035df;return _0x33a4fd[_0x5adabb(0xa28)]||(_0x33a4fd['instance']=new _0x33a4fd()),_0x33a4fd['instance'];}get[_0x3035df(0x68c)](){const _0x1d377b=_0x3035df;return this[_0x1d377b(0x40e)][_0x1d377b(0x68c)];}[_0x3035df(0xa4e)](){const _0x59bc3a=_0x3035df;return!this[_0x59bc3a(0x2c1)];}['clear'](_0x1adb12){const _0x3d81bc=_0x3035df;_0x1adb12?this[_0x3d81bc(0x40e)]=this[_0x3d81bc(0x40e)][_0x3d81bc(0xab2)](_0x33dd8c=>_0x33dd8c[_0x3d81bc(0x393)]!==_0x1adb12):(this['jobQueue']=[],this['isRunning']=!0x1);}[_0x3035df(0x784)](_0x312ecf,_0x326af4){const _0x5e4de3=_0x3035df;this['jobQueue']['push']({'callback':_0x326af4,'ownerId':_0x312ecf}),this[_0x5e4de3(0x2f7)]();}async['runJobQueue'](){const _0x184b5b=_0x3035df;if(!this[_0x184b5b(0x2c1)]){for(this[_0x184b5b(0x2c1)]=!0x0;this[_0x184b5b(0x40e)]['length']>0x0;){const _0x43c155=this[_0x184b5b(0x40e)][_0x184b5b(0x866)]();if(_0x43c155)try{console[_0x184b5b(0xa80)](_0x184b5b(0x6e3)),await _0x43c155[_0x184b5b(0xa58)](),console[_0x184b5b(0xa80)](_0x184b5b(0x23a));}catch(_0x56e9e8){console[_0x184b5b(0xa29)](_0x184b5b(0x2ad),_0x56e9e8);}}this[_0x184b5b(0x2c1)]=!0x1;}}}const _0x5e21ec=_0x33a4fd['getInstance']();class _0x2fd95e extends _0x3fc886{[_0x3035df(0x985)];[_0x3035df(0x5b9)];constructor(_0x21c35d,_0x523dd1,_0x5cc34e){const _0x3f8189=_0x3035df;super(_0x21c35d,_0x523dd1),this[_0x3f8189(0x985)]=_0x5cc34e;}[_0x3035df(0x8be)](){const _0x9ae9e9=_0x3035df;return _0x37e813[_0x9ae9e9(0x859)]['Job'];}['open'](){const _0xd9e5d1=_0x3035df;this[_0xd9e5d1(0x24b)]();}['close'](){const _0x530c51=_0x3035df;this[_0x530c51(0x31b)]?.[_0x530c51(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x530c51(0x240)],'content':{'type':_0x41c383[_0x530c51(0x80a)],'label':this[_0x530c51(0x4de)]}});}[_0x3035df(0x98b)](){const _0x192bd4=_0x3035df;this['unsubscribeListener']?.(),delete this['unsubscribeListener'],this[_0x192bd4(0x4b0)]();}['destroy'](){const _0x3c2de9=_0x3035df;_0x5e21ec[_0x3c2de9(0x599)](this[_0x3c2de9(0x4de)]),this[_0x3c2de9(0x5b9)]?.(),delete this['unsubscribeListener'],super[_0x3c2de9(0x7ab)]();}[_0x3035df(0xa4e)](){const _0x33a860=_0x3035df;return _0x5e21ec[_0x33a860(0xa4e)]();}[_0x3035df(0x455)](){return 0x1;}[_0x3035df(0x4e0)](_0xa6809d,_0x5e77a3,_0x482132){}[_0x3035df(0x840)](_0x53e296,_0xc43938){return _0x53e296;}['startTracing'](_0x302f94,_0x1dcc91){const _0x5aea5c=_0x3035df;console[_0x5aea5c(0xa80)](_0x5aea5c(0x752));}[_0x3035df(0x220)](_0x9a6606,_0x50c03a){const _0x1a699c=_0x3035df;console[_0x1a699c(0xa80)](_0x1a699c(0x752));}[_0x3035df(0x24b)](){const _0x4a1f29=_0x3035df;this['unsubscribeListener']||(this[_0x4a1f29(0x5b9)]=this[_0x4a1f29(0xb18)]((_0x5dd4cb,_0x26fc33)=>{const _0x5a6856=_0x4a1f29;if(_0x5cdff6[_0x5a6856(0x3e9)](_0x2a39e9[_0x5a6856(0x363)],_0x5a6856(0x914),_0x26fc33),!(_0x26fc33 instanceof File)){if(this[_0x5a6856(0x7ef)](_0x26fc33))_0x5cdff6[_0x5a6856(0x3e9)](_0x2a39e9[_0x5a6856(0x363)],_0x5a6856(0x684),_0x26fc33),this[_0x5a6856(0xa4e)]()?this[_0x5a6856(0x629)](_0x26fc33['id'],_0x26fc33[_0x5a6856(0x92f)],_0x5dd4cb):this[_0x5a6856(0x5ba)](_0x26fc33['id'],_0x26fc33[_0x5a6856(0x92f)],_0x5dd4cb);else{if(this['isJobAttribution'](_0x26fc33)){_0x5cdff6[_0x5a6856(0x3e9)](_0x2a39e9['Jobs'],_0x5a6856(0xa82),_0x26fc33);const {id:_0x30a2d6,parameters:_0x558e86}=_0x26fc33;this[_0x5a6856(0x33d)](_0x30a2d6,_0x558e86),_0x5e21ec[_0x5a6856(0x784)](this['label'],()=>this[_0x5a6856(0x4c7)](_0x26fc33['id'],_0x26fc33,_0x5dd4cb));}}}}));}[_0x3035df(0x629)](_0x26335c,_0x55399d,_0x1ec48f){const _0x5b04f5=_0x3035df,_0x23c02f={'id':_0x26335c,'jobType':_0x55399d,'jobPhase':_0x583dae[_0x5b04f5(0x837)],'available':!0x0,'queueLength':_0x5e21ec[_0x5b04f5(0x68c)],'bid':this[_0x5b04f5(0x455)]()};_0x5cdff6[_0x5b04f5(0x3e9)](_0x2a39e9[_0x5b04f5(0x363)],_0x5b04f5(0x69b),_0x23c02f),this[_0x5b04f5(0x6a0)](_0x23c02f,[_0x1ec48f]);}[_0x3035df(0x5ba)](_0x60ac7b,_0x17c8b8,_0x20ad77){const _0x41237d=_0x3035df,_0x34c5fc={'id':_0x60ac7b,'jobType':_0x17c8b8,'jobPhase':_0x583dae['Bid'],'available':!0x1,'queueLength':_0x5e21ec[_0x41237d(0x68c)],'bid':0x0};_0x5cdff6[_0x41237d(0x3e9)](_0x2a39e9[_0x41237d(0x363)],_0x41237d(0x52d),_0x34c5fc),this[_0x41237d(0x6a0)](_0x34c5fc,[_0x20ad77]);}async[_0x3035df(0x4c7)](_0x1e2aa2,_0x2d04c0,_0x2415a8){const _0x34278e=_0x3035df;_0x5cdff6['log'](_0x2a39e9[_0x34278e(0x363)],_0x34278e(0x22d),_0x2d04c0);const _0x3355fc={'id':_0x1e2aa2,'jobType':_0x2d04c0['jobType'],'parameters':_0x2d04c0[_0x34278e(0x58d)]};try{switch(_0x2d04c0[_0x34278e(0x92f)]){case _0x37e813[_0x34278e(0x8e2)][_0x34278e(0x749)]:await this[_0x34278e(0x273)](_0x1e2aa2,_0x2d04c0,_0x3355fc,_0x2415a8);break;case _0x37e813[_0x34278e(0x8e2)]['JobStream']:await this[_0x34278e(0x6d0)](_0x1e2aa2,_0x2d04c0,_0x3355fc,_0x2415a8);break;default:throw new Error(_0x34278e(0x90a));}}catch(_0x18e793){_0x5cdff6[_0x34278e(0xa29)]('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this[_0x34278e(0xa41)]['getId'](),'nodeType':this[_0x34278e(0xa41)][_0x34278e(0x48b)],'data':{'job':_0x3355fc}},_0x18e793);const _0xa6a564=_0x18e793 instanceof Error?_0x18e793[_0x34278e(0x2d0)]:_0x34278e(0x307),_0x3e49ca={'id':_0x1e2aa2,'jobType':_0x2d04c0[_0x34278e(0x92f)],'jobPhase':_0x583dae[_0x34278e(0x83a)],'message':_0xa6a564};await this['send'](_0x3e49ca,[_0x2415a8]);}}async[_0x3035df(0x273)](_0x443755,_0x4f4cc4,_0x12dd8b,_0x3b2809){const _0x32f685=_0x3035df,_0x3d4e54=Date[_0x32f685(0x6de)](),_0x1d0a25=await this['internalProcessJob'](_0x443755,_0x12dd8b['parameters']);this['compileStats'](_0x1d0a25,_0x3d4e54,Date[_0x32f685(0x6de)]());const _0xe0743d={'id':_0x443755,'jobType':_0x4f4cc4['jobType'],'jobPhase':_0x583dae[_0x32f685(0x71d)],'result':_0x1d0a25};_0x5cdff6['log'](_0x2a39e9[_0x32f685(0x363)],'JobWorker:\x20Sending\x20job\x20result',_0xe0743d),await this[_0x32f685(0x6a0)](_0xe0743d,[_0x3b2809]),this['stopTracing'](_0x443755,_0x12dd8b['parameters']);}async[_0x3035df(0x6d0)](_0x31a2be,_0x5cf5d1,_0x4f09a2,_0x169a92){const _0x518b96=_0x3035df,_0x15abce=Date[_0x518b96(0x6de)]();let _0x4e4fce=0x0,_0x5a5aa0={};for await(const _0x54376f of this[_0x518b96(0x458)](_0x4f09a2['id'],_0x4f09a2['parameters'])){const _0x46cd29={'id':_0x31a2be,'jobType':_0x5cf5d1[_0x518b96(0x92f)],'jobPhase':_0x583dae['PartialResult'],'result':{..._0x54376f,'index':_0x4e4fce}};_0x5cdff6[_0x518b96(0x3e9)](_0x2a39e9[_0x518b96(0x363)],_0x518b96(0xaf2),_0x46cd29),this[_0x518b96(0x6a0)](_0x46cd29,[_0x169a92]),_0x5a5aa0=this['accumulateResult'](_0x5a5aa0,_0x54376f),_0x4e4fce++;}this['compileStats'](_0x5a5aa0,_0x15abce,Date['now']());const _0x26d962={'id':_0x31a2be,'jobType':_0x5cf5d1[_0x518b96(0x92f)],'jobPhase':_0x583dae[_0x518b96(0x71d)],'result':_0x5a5aa0};_0x5cdff6['log'](_0x2a39e9[_0x518b96(0x363)],_0x518b96(0xa88),_0x26d962),await this[_0x518b96(0x6a0)](_0x26d962,[_0x169a92]),this[_0x518b96(0x220)](_0x31a2be,_0x4f09a2[_0x518b96(0x58d)]);}['isJobRequest'](_0x2aa26a){const _0x399c1e=_0x3035df;return _0x2aa26a[_0x399c1e(0x2e8)]===_0x583dae[_0x399c1e(0x4fb)];}['isJobAttribution'](_0x60955){const _0x12ca35=_0x3035df;return _0x60955[_0x12ca35(0x2e8)]===_0x583dae[_0x12ca35(0x7f3)];}}function _0x9b6e36(_0x1a6f6b,_0x31d3f0){const _0x35a249=_0x3035df;return _0x35a249(0x487)+_0x1a6f6b+'-'+_0x31d3f0;}function _0x31287b(){const _0x35e1d4=_0x3035df,_0x40eefe=_0x231565['layout'](0x1);return _0x40eefe['table'](_0x35e1d4(0x36b))['index']('id')['index'](_0x35e1d4(0xa1b))[_0x35e1d4(0x4fa)]('agentId')[_0x35e1d4(0x4fa)](_0x35e1d4(0x85e))['index'](_0x35e1d4(0x6c3))['index'](_0x35e1d4(0x341)),_0x40eefe;}function _0x3f5593(_0x318217){const _0x29ea49=_0x3035df;try{return JSON[_0x29ea49(0x83d)](_0x318217);}catch(_0x3d45e0){return _0x318217 instanceof Error?_0x318217[_0x29ea49(0xb10)]():JSON[_0x29ea49(0x83d)](_0x29ea49(0x293));}}class _0x3bba8d{static ['instance'];[_0x3035df(0x2f4)]=_0x69b2a['Error'];[_0x3035df(0xa78)]=_0x69b2a[_0x3035df(0xa4b)];[_0x3035df(0xae3)]=_0x493d65['Retrieve'];[_0x3035df(0x496)]={};static [_0x3035df(0x98c)]=()=>(_0x3bba8d['instance']||(_0x3bba8d[_0x3035df(0xa28)]=new _0x3bba8d()),_0x3bba8d['instance']);[_0x3035df(0x997)](_0x1b740b,_0x59c206,_0x41ad6a=!0x0){const _0x1718d9=_0x3035df;try{if(this[_0x1718d9(0x496)][_0x59c206])throw new Error(_0x1718d9(0x915));const _0x4ecea0={'sequence':0x0};if(this[_0x1718d9(0x496)][_0x59c206]=_0x4ecea0,!_0x1b740b)return!0x0;const _0x45f652=function(_0x39a619){const _0x123195=_0x1718d9;return _0x39a619[_0x123195(0x50c)](_0x123195(0x36b));}(_0x1b740b);return _0x4ecea0[_0x1718d9(0x922)]=_0x1b740b,_0x4ecea0[_0x1718d9(0x315)]=_0x45f652,!0x0;}catch(_0x5059ce){return console[_0x1718d9(0xa29)]('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27'+_0x41ad6a,_0x5059ce),!!_0x41ad6a&&(this[_0x1718d9(0x765)](_0x59c206),this[_0x1718d9(0x997)](_0x1b740b,_0x59c206,!0x1));}}[_0x3035df(0xa76)](_0x29f157){const _0x32ca85=_0x3035df;try{const _0x17d2dc=this[_0x32ca85(0x496)][_0x29f157['jobId']];if(!_0x17d2dc)throw new Error(_0x32ca85(0x775));_0x29f157[_0x32ca85(0x341)]=_0x17d2dc['sequence']++,_0x29f157[_0x32ca85(0x34e)]>=this[_0x32ca85(0x2f4)]&&console[_0x32ca85(0x3e9)](JSON[_0x32ca85(0x83d)](_0x29f157,null,0x2)),this['commitTrace'](_0x29f157);}catch(_0xf8d833){console['error'](_0x32ca85(0x860),_0xf8d833);}}[_0x3035df(0x765)](_0x37330c){const _0x31fec2=_0x3035df;if(!_0x3bba8d[_0x31fec2(0xa28)])throw new Error(_0x31fec2(0x5fc));if(!this['openedTraces'][_0x37330c])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');delete this['openedTraces'][_0x37330c];}[_0x3035df(0x768)](_0x477625){const _0x37f380=_0x3035df;if(_0x477625[_0x37f380(0x34e)]<this[_0x37f380(0xa78)]&&_0x477625[_0x37f380(0x92f)]!==this[_0x37f380(0xae3)])return;if(!this[_0x37f380(0x496)][_0x477625[_0x37f380(0xa1b)]])throw new Error(_0x37f380(0xa0e));const _0x1fc65b=this[_0x37f380(0x496)][_0x477625['jobId']];if(!_0x1fc65b[_0x37f380(0x922)])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set');if(!_0x1fc65b[_0x37f380(0x315)])throw new Error(_0x37f380(0x93a));try{const _0x3fd954=function(_0x100432){const _0x210ee3=_0x37f380,_0x586501=[_0x210ee3(0x663),_0x210ee3(0x6c3),_0x210ee3(0x92f),_0x210ee3(0x48b),'jobId',_0x210ee3(0x34e),_0x210ee3(0x311),_0x210ee3(0x82b),'sequence',_0x210ee3(0x64b)],_0x2dff5c={..._0x100432};for(const _0x39897c of _0x586501)delete _0x2dff5c[_0x39897c];return{'timestamp':_0x100432[_0x210ee3(0x6c3)],'jobType':_0x100432[_0x210ee3(0x92f)],'type':_0x100432[_0x210ee3(0x48b)],'jobId':_0x100432[_0x210ee3(0xa1b)],'agentId':_0x100432[_0x210ee3(0xadb)]??'','traceLevel':_0x100432[_0x210ee3(0x34e)],'blockId':_0x100432[_0x210ee3(0x311)]??'','startTime':_0x100432['startTime'],'status':_0x100432['status'],'sequence':_0x100432[_0x210ee3(0x341)]??0x0,'errorDetails':_0x100432[_0x210ee3(0x64b)]??'','metadata':_0x3f5593(_0x2dff5c)};}(_0x477625),_0x12ea7b=(0x0,_0x5b15a5['v4'])();console[_0x37f380(0x3e9)](_0x37f380(0x372),_0x3fd954[_0x37f380(0x48b)]),_0x1fc65b[_0x37f380(0x315)][_0x37f380(0xac2)](_0x12ea7b,_0x3fd954);}catch(_0x1bf4c2){console[_0x37f380(0xa29)](_0x37f380(0x235),_0x1bf4c2);}}}const _0x21cae3=_0x3bba8d[_0x3035df(0x98c)]();async function _0x14bd65(_0x546eb0,_0x324b0e,_0x4129d9,_0x5b0acc,_0x305572){const _0x47ae0e=_0x3035df,_0x35e688=Date[_0x47ae0e(0x6de)](),_0x334ae6=_0x305572[_0x47ae0e(0x22f)][_0x47ae0e(0x85d)](_0x22be1b=>_0x22be1b['id']===_0x4129d9[_0x47ae0e(0x750)]);if(!_0x334ae6)throw new Error(_0x47ae0e(0x5c5));const _0x2bbcfc=_0x305572[_0x47ae0e(0x6b1)]['find'](_0xbfeb0=>_0xbfeb0['getEngineType']()===_0x334ae6[_0x47ae0e(0x77a)]);if(!_0x2bbcfc)throw new Error(_0x47ae0e(0xaa4));const _0x3f3683=[],_0x383e0e=(0x0,_0x5b15a5['v4'])(),_0x369eb8=await _0x2bbcfc[_0x47ae0e(0x273)]({'type':'prompt','prompt':_0x324b0e,'instructions':_0x4129d9[_0x47ae0e(0xaf5)],'grammar':_0x4129d9[_0x47ae0e(0x556)],'temperature':_0x4129d9[_0x47ae0e(0x947)],'maxTokens':_0x4129d9[_0x47ae0e(0x4aa)],'threadId':_0x383e0e},{'model':_0x334ae6});if(_0x47ae0e(0x395)!=typeof _0x369eb8['output'])throw new Error(_0x47ae0e(0x37c));if(_0x21cae3[_0x47ae0e(0xa76)]({'jobType':_0x493d65['Ingest'],'type':_0x3145ba[_0x47ae0e(0x8c1)],'jobId':_0x546eb0,'blockId':_0x4129d9['id'],'traceLevel':_0x69b2a[_0x47ae0e(0x55e)],'timestamp':Date['now'](),'startTime':_0x35e688,'status':_0x47ae0e(0x73b),'agentId':_0x383e0e,'content':_0x324b0e,'instructions':_0x4129d9['instructions'],'result':_0x369eb8[_0x47ae0e(0x757)]}),_0x4129d9['links']?.['some'](_0x430ce7=>_0x430ce7[_0x47ae0e(0x48b)]===_0x338075[_0x47ae0e(0x720)]))return _0x3f3683[_0x47ae0e(0x343)]({'content':_0x369eb8['output'],'start':0x0,'length':_0x369eb8[_0x47ae0e(0x757)][_0x47ae0e(0x68c)]}),await _0x5428d7(_0x546eb0,_0x3f3683,_0x4129d9,_0x5b0acc,_0x305572),void await _0x5428d7(_0x546eb0,_0x369eb8[_0x47ae0e(0x757)],_0x4129d9,_0x5b0acc,_0x305572);_0x3f3683['push']({'content':_0x369eb8['output'],'start':0x0,'length':_0x324b0e[_0x47ae0e(0x68c)]}),await _0x5428d7(_0x546eb0,_0x3f3683,_0x4129d9,_0x5b0acc,_0x305572);}async function _0x15ee6a(_0x4fb330,_0x21fe14,_0x3e2a75,_0x1304b3,_0x3a065c){const _0x56e1e0=_0x3035df,_0x1b5701=Date['now']();let _0x3acd97=[];if(_0x21fe14 instanceof Array){for(const _0x4d1193 of _0x21fe14)_0x3acd97=_0x3acd97[_0x56e1e0(0x20a)](_0x1b9e8b(_0x4d1193[_0x56e1e0(0x1f0)],_0x3e2a75,_0x4d1193[_0x56e1e0(0x9ec)],_0x4d1193[_0x56e1e0(0x68c)]));}else _0x3acd97=_0x1b9e8b(_0x21fe14,_0x3e2a75);_0x21cae3[_0x56e1e0(0xa76)]({'jobType':_0x493d65[_0x56e1e0(0x9bb)],'type':_0x3145ba[_0x56e1e0(0x8c7)],'traceLevel':_0x69b2a['Debug'],'jobId':_0x4fb330,'blockId':_0x3e2a75['id'],'startTime':_0x1b5701,'timestamp':Date[_0x56e1e0(0x6de)](),'status':_0x56e1e0(0x73b),'totalChunks':_0x3acd97['length'],'chunkSize':_0x3e2a75[_0x56e1e0(0x7b4)][_0x56e1e0(0xadc)]}),await _0x5428d7(_0x4fb330,_0x3acd97,_0x3e2a75,_0x1304b3,_0x3a065c);}function _0x1b9e8b(_0x3caeb1,_0x4a4c0e,_0x2cae53,_0x4e75ec){const _0x1c155a=_0x3035df,_0x1a60a0=[];let _0x361ca7=0x0;for(let _0x54bf86=0x0;_0x54bf86<_0x3caeb1[_0x1c155a(0x68c)];_0x54bf86+=_0x4a4c0e[_0x1c155a(0x7b4)]['size']){let _0x265f81=_0x54bf86-_0x4a4c0e[_0x1c155a(0x7b4)]['overlap'];_0x265f81<0x0&&(_0x265f81=0x0);let _0x203501=_0x54bf86+_0x4a4c0e[_0x1c155a(0x7b4)][_0x1c155a(0xadc)]+_0x4a4c0e[_0x1c155a(0x7b4)]['overlap'];_0x203501>_0x3caeb1['length']&&(_0x203501=_0x3caeb1[_0x1c155a(0x68c)]);const _0x223686=_0x3caeb1[_0x1c155a(0x590)](_0x265f81,_0x203501);_0x1a60a0[_0x1c155a(0x343)]({'content':_0x223686,'start':_0x2cae53??_0x361ca7,'length':_0x4e75ec??_0x223686['length']}),_0x361ca7+=_0x223686[_0x1c155a(0x68c)];}return _0x1a60a0;}async function _0x20ab57(_0x20489b,_0x3974a2,_0x1ba1b3,_0x3ac061,_0x486e02){const _0x119458=_0x3035df,_0x5f26ae=Date[_0x119458(0x6de)]();let _0x2a13ff;if(_0x3974a2['file'][_0x119458(0x48b)][_0x119458(0x569)](_0x119458(0x9da))||(_0x347a8c=_0x3974a2[_0x119458(0x279)]['name'],_0x2e3f72[_0x119458(0x7c4)]('.'+(_0x347a8c[_0x119458(0x27a)]('.')[_0x119458(0x318)]()?.[_0x119458(0xab4)]()||''))))_0x2a13ff=await _0x3974a2[_0x119458(0x279)][_0x119458(0x26b)]();else{if(!_0x486e02[_0x119458(0x9e9)][_0x119458(0x6b8)](_0x3974a2[_0x119458(0x279)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x3974a2[_0x119458(0x279)][_0x119458(0x48b)]+_0x119458(0x810)+_0x3974a2[_0x119458(0x279)][_0x119458(0x72a)]);_0x2a13ff=await _0x486e02['documentParserConnector'][_0x119458(0x50b)](_0x3974a2[_0x119458(0x279)]);}var _0x347a8c;_0x21cae3[_0x119458(0xa76)]({'jobType':_0x493d65[_0x119458(0x9bb)],'type':_0x3145ba[_0x119458(0x638)],'traceLevel':_0x69b2a['Debug'],'blockId':_0x1ba1b3['id'],'jobId':_0x20489b,'startTime':_0x5f26ae,'timestamp':Date[_0x119458(0x6de)](),'status':_0x119458(0x73b),'documentType':_0x3974a2[_0x119458(0x279)][_0x119458(0x48b)],'documentName':_0x3974a2[_0x119458(0x279)][_0x119458(0x72a)],'extractionMethod':'OfficeParser'}),await _0x5428d7(_0x20489b,_0x2a13ff,_0x1ba1b3,_0x3ac061,_0x486e02);}const _0x2e3f72=['.js',_0x3035df(0xb1a),_0x3035df(0x6b7),_0x3035df(0x554),_0x3035df(0x3ba),_0x3035df(0x507),'.css',_0x3035df(0x1f6),_0x3035df(0x76e),_0x3035df(0x93c),'.yaml',_0x3035df(0x674),'.bat',_0x3035df(0x68a),_0x3035df(0x3d3),_0x3035df(0x289),_0x3035df(0x73c),'.rb',_0x3035df(0x998),'.java','.c',_0x3035df(0x33e),_0x3035df(0x9fe),'.r','.go','.swift',_0x3035df(0x31c),_0x3035df(0x550),_0x3035df(0x764),_0x3035df(0x362),_0x3035df(0xa7d),'.lua',_0x3035df(0xaaa),_0x3035df(0x90b),_0x3035df(0x2a6),_0x3035df(0x7e7),_0x3035df(0x967),_0x3035df(0x920),'.vb','.ps1',_0x3035df(0x69c),'.m','.vbs',_0x3035df(0x6f8),_0x3035df(0x2b1),_0x3035df(0x5e4),_0x3035df(0xa6b),'.jsx','.tsx',_0x3035df(0x45d),_0x3035df(0x80c),_0x3035df(0xa42),'.jinja2',_0x3035df(0xb0c),_0x3035df(0x4ee),_0x3035df(0x7e5),'.pug',_0x3035df(0x41e),'.mustache','.tpl','.twig',_0x3035df(0x964),_0x3035df(0xb23)];async function _0x3d680b(_0x1968f9,_0x7ecf4f,_0x319ec2,_0x217641,_0x1c0cd3){const _0x359a2b=_0x3035df,_0x872015=Date[_0x359a2b(0x6de)](),_0x110105=new Set();let _0x1583a5=0x0;for(const _0x413c29 of _0x7ecf4f)_0x1583a5+=_0x413c29[_0x359a2b(0x1f0)][_0x359a2b(0x68c)],await _0x2e03fc(_0x413c29[_0x359a2b(0x1f0)],_0x110105,_0x319ec2,_0x1c0cd3[_0x359a2b(0x47e)]);_0x21cae3[_0x359a2b(0xa76)]({'jobType':_0x493d65['Ingest'],'type':_0x3145ba['EntityExtractor'],'jobId':_0x1968f9,'blockId':_0x319ec2['id'],'traceLevel':_0x69b2a[_0x359a2b(0x55e)],'startTime':_0x872015,'timestamp':Date[_0x359a2b(0x6de)](),'status':'success','contentLength':_0x1583a5,'totalChunks':_0x7ecf4f instanceof Array?_0x7ecf4f[_0x359a2b(0x68c)]:0x1,'entitiesExtracted':_0x110105,'totalEntities':_0x110105[_0x359a2b(0xadc)]}),await _0x5428d7(_0x1968f9,_0x110105,_0x319ec2,_0x217641,_0x1c0cd3);}async function _0x2e03fc(_0x20ff87,_0x1e8aae,_0x2d8c80,_0x3a31ab){const _0x1e68ea=_0x3035df,_0x93731c=await _0x3a31ab[_0x1e68ea(0x751)](_0x20ff87,{'ner':_0x2d8c80[_0x1e68ea(0x7b4)][_0x1e68ea(0x918)],'noun':_0x2d8c80[_0x1e68ea(0x7b4)][_0x1e68ea(0x208)],'propn':_0x2d8c80[_0x1e68ea(0x7b4)][_0x1e68ea(0x7b8)],'verb':_0x2d8c80[_0x1e68ea(0x7b4)][_0x1e68ea(0xaa7)]});for(const _0x28a698 of _0x93731c)_0x1e8aae['add'](_0x28a698);}function _0x16fa8b(_0x380240,_0x3d10bf,_0x19c2e9,_0x381a43,_0xe678a8){const _0x11c012=_0x3035df,_0x38797f=Date['now']();if(_0x19c2e9[_0x11c012(0x842)]||(_0x19c2e9[_0x11c012(0x842)]={}),_0x11c012(0x395)==typeof _0x3d10bf?_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x1f0)]=_0x3d10bf:_0x3d10bf instanceof Set?_0x19c2e9['accumulated'][_0x11c012(0x8e3)]=_0x3d10bf:_0x3d10bf instanceof Map?_0x19c2e9[_0x11c012(0x842)]['relations']=_0x3d10bf:_0x3d10bf instanceof Array?_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x4fa)]=_0x3d10bf:_0x19c2e9[_0x11c012(0x842)]['file']=_0x3d10bf,_0x19c2e9[_0x11c012(0x340)]=_0x19c2e9[_0x11c012(0x340)]?_0x19c2e9[_0x11c012(0x340)]+0x1:0x1,_0x22c12d(_0x19c2e9,_0x381a43)>_0x19c2e9['timesCalled'])return;if(!(_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x8e3)]&&_0x19c2e9[_0x11c012(0x842)]['file']&&_0x19c2e9['accumulated'][_0x11c012(0x1f0)]&&_0x19c2e9[_0x11c012(0x842)]['index']))throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');let _0x5e929d=0x0;const _0xd84f48=_0xe678a8[_0x11c012(0xa95)][_0x11c012(0x4da)](_0x19c2e9['id']);for(const _0x1e80ec of _0x19c2e9[_0x11c012(0x842)][_0x11c012(0x8e3)]){let _0x1f53b2=[];_0x1f53b2=_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x4fa)]['filter'](_0x27cce9=>_0x27cce9[_0x11c012(0x1f0)][_0x11c012(0x7c4)](_0x1e80ec));try{_0xd84f48[_0x11c012(0xa85)](_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x279)][_0x11c012(0x2cf)],_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x1f0)],_0x1f53b2,_0x1e80ec),_0x5e929d+=0x1;}catch(_0x536bc2){}}if(_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x2b8)]){for(const [_0x5eb957,_0x51fbc8]of _0x19c2e9[_0x11c012(0x842)][_0x11c012(0x2b8)])for(const _0x3aa8f6 of _0x51fbc8)try{_0xd84f48[_0x11c012(0x988)](_0x5eb957,_0x3aa8f6);}catch(_0x3754d5){}if(_0xd84f48[_0x11c012(0x48a)]()){let _0x1d2d83=''+(_0xe678a8[_0x11c012(0x80d)]??0x1);for(const _0x1879da of _0x381a43)if(_0x1879da[_0x11c012(0x48b)]===_0x27169c[_0x11c012(0x8c1)]){_0x1d2d83=_0x1d2d83+'-'+(_0x1879da[_0x11c012(0x80d)]??0x1);break;}_0xd84f48[_0x11c012(0x861)](_0x1d2d83);}_0x21cae3[_0x11c012(0xa76)]({'jobType':_0x493d65[_0x11c012(0x9bb)],'type':_0x3145ba[_0x11c012(0x9e3)],'jobId':_0x380240,'blockId':_0x19c2e9['id'],'status':_0x11c012(0x73b),'startTime':_0x38797f,'timestamp':Date[_0x11c012(0x6de)](),'traceLevel':_0x69b2a[_0x11c012(0x55e)],'nodesAdded':_0x5e929d,'entities':_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x8e3)],'relations':_0x19c2e9[_0x11c012(0x842)][_0x11c012(0x2b8)]});}}async function _0x482e62(_0x1b7cf7,_0x37bac5,_0x9743c9,_0x4ded71,_0x496988){const _0x438a56=_0x3035df,_0x5925f7=_0x496988[_0x438a56(0x22f)][_0x438a56(0x85d)](_0x2d2f45=>_0x2d2f45['id']===_0x9743c9['id']);if(!_0x5925f7)throw new Error(_0x438a56(0x5c5));switch(_0x5925f7['outputType']){case _0x37e813[_0x438a56(0x886)][_0x438a56(0x720)]:if(_0x438a56(0x395)!=typeof _0x37bac5)throw new Error(_0x438a56(0x9ba));await async function(_0x40d496,_0x468ab5,_0x21154e,_0x3800d2,_0x5db564,_0x32d4cd){const _0x278769=_0x438a56,_0x1ec0b8=Date[_0x278769(0x6de)]();let _0x13f360;const _0x7a0b7b=_0x32d4cd[_0x278769(0x6b1)][_0x278769(0x85d)](_0x45ac5b=>_0x45ac5b[_0x278769(0x3de)]()===_0x21154e[_0x278769(0x77a)]);if(!_0x7a0b7b)throw new Error(_0x278769(0xaa4));_0x13f360=await async function(_0x1606c9,_0x219128,_0x507002){const _0x4e6bde=_0x278769,_0x5c5644=await _0x219128[_0x4e6bde(0x273)]({'type':_0x4e6bde(0xb1e),'prompt':_0x1606c9,'threadId':''},{'model':_0x507002});if(_0x5c5644['output']instanceof Array)throw new Error(_0x4e6bde(0x92d));return _0x5c5644[_0x4e6bde(0x757)];}(_0x468ab5,_0x7a0b7b,_0x21154e),_0x21cae3[_0x278769(0xa76)]({'jobType':_0x493d65['Ingest'],'type':_0x3145ba[_0x278769(0x7ba)],'jobId':_0x40d496,'blockId':_0x3800d2['id'],'traceLevel':_0x69b2a[_0x278769(0x55e)],'timestamp':Date[_0x278769(0x6de)](),'startTime':_0x1ec0b8,'status':_0x278769(0x73b),'modelName':_0x21154e['id'],'inputType':_0x21154e[_0x278769(0x972)],'outputType':_0x21154e[_0x278769(0x7c8)],'content':_0x468ab5,'results':_0x13f360}),await _0x5428d7(_0x40d496,_0x13f360,_0x3800d2,_0x5db564,_0x32d4cd);}(_0x1b7cf7,_0x37bac5,_0x5925f7,_0x9743c9,_0x4ded71,_0x496988);break;case _0x37e813[_0x438a56(0x886)][_0x438a56(0x4b8)]:if(!(_0x37bac5 instanceof Array))throw new Error(_0x438a56(0x86b));await async function(_0x239831,_0x572f6b,_0x3e3edb,_0x4dbe46,_0xd597a2,_0x3fe02f){const _0x3ec144=_0x438a56,_0x3828da=Date[_0x3ec144(0x6de)](),_0x4df6e2=[],_0x4ea7cc=_0x3fe02f[_0x3ec144(0x6b1)]['find'](_0x3b1cc1=>_0x3b1cc1[_0x3ec144(0x3de)]()===_0x3e3edb[_0x3ec144(0x77a)]);if(!_0x4ea7cc)throw new Error(_0x3ec144(0xaa4));for(const _0x96d571 of _0x572f6b)_0x4df6e2[_0x3ec144(0x343)](await _0x2ac40d(_0x96d571,_0x4ea7cc,_0x3e3edb));_0x21cae3[_0x3ec144(0xa76)]({'jobType':_0x493d65[_0x3ec144(0x9bb)],'type':_0x3145ba[_0x3ec144(0x4af)],'jobId':_0x239831,'blockId':_0x4dbe46['id'],'traceLevel':_0x69b2a[_0x3ec144(0x55e)],'timestamp':Date[_0x3ec144(0x6de)](),'startTime':_0x3828da,'status':_0x3ec144(0x73b),'modelName':_0x3e3edb['id'],'inputType':_0x3e3edb[_0x3ec144(0x972)],'outputType':_0x3e3edb[_0x3ec144(0x7c8)],'totalVectors':_0x4df6e2[_0x3ec144(0x68c)]}),await _0x5428d7(_0x239831,_0x4df6e2,_0x4dbe46,_0xd597a2,_0x3fe02f);}(_0x1b7cf7,_0x37bac5,_0x5925f7,_0x9743c9,_0x4ded71,_0x496988);}}async function _0x2ac40d(_0x55468d,_0x4c4651,_0x596780){const _0x4fab98=_0x3035df;return(await _0x4c4651[_0x4fab98(0x273)]({'type':_0x4fab98(0xb1e),'prompt':_0x55468d[_0x4fab98(0x1f0)],'threadId':''},{'model':_0x596780}))[_0x4fab98(0x757)];}async function _0xacf6c6(_0x171601,_0x332ed7,_0x2016fa,_0x3102c5,_0x4b1eab){const _0x18f503=_0x3035df,_0x40bf53=Date[_0x18f503(0x6de)]();if(_0x2016fa[_0x18f503(0x842)]||(_0x2016fa[_0x18f503(0x842)]={}),_0x332ed7 instanceof Array?_0x2016fa[_0x18f503(0x842)]['index']=_0x332ed7:_0x2016fa[_0x18f503(0x842)][_0x18f503(0x8e3)]=_0x332ed7,_0x2016fa[_0x18f503(0x340)]=_0x2016fa[_0x18f503(0x340)]?_0x2016fa[_0x18f503(0x340)]+0x1:0x1,_0x22c12d(_0x2016fa,_0x3102c5)>_0x2016fa[_0x18f503(0x340)])return;if(!_0x2016fa[_0x18f503(0x842)][_0x18f503(0x4fa)]||!_0x2016fa['accumulated'][_0x18f503(0x8e3)])throw new Error(_0x18f503(0x3a8));const _0x4c66e8=new Map();for(const _0x3a070f of _0x2016fa[_0x18f503(0x842)]['index'])_0x538245(_0x3a070f['content'],_0x2016fa['accumulated'][_0x18f503(0x8e3)],_0x4c66e8);_0x21cae3[_0x18f503(0xa76)]({'jobType':_0x493d65[_0x18f503(0x9bb)],'type':_0x3145ba[_0x18f503(0xb08)],'jobId':_0x171601,'blockId':_0x2016fa['id'],'traceLevel':_0x69b2a[_0x18f503(0x55e)],'timestamp':Date['now'](),'startTime':_0x40bf53,'status':_0x18f503(0x73b),'entities':_0x2016fa['accumulated']['entities'],'relations':_0x4c66e8,'totalRelationsExtracted':_0x4c66e8[_0x18f503(0xadc)]}),await _0x5428d7(_0x171601,_0x4c66e8,_0x2016fa,_0x3102c5,_0x4b1eab);}function _0x538245(_0x3f7d27,_0x5a5b24,_0x4ae4de){const _0x55db0c=_0x3035df;for(const _0x11ca63 of _0x5a5b24)for(const _0x352d3c of _0x5a5b24){if(_0x11ca63===_0x352d3c)continue;const _0x1e1260=_0x3f7d27[_0x55db0c(0x331)](_0x11ca63),_0x1ee546=_0x3f7d27[_0x55db0c(0x331)](_0x352d3c);-0x1!==_0x1e1260&&-0x1!==_0x1ee546&&(_0x4ae4de['has'](_0x11ca63)||_0x4ae4de['set'](_0x11ca63,new Set()),_0x4ae4de[_0x55db0c(0x557)](_0x11ca63)[_0x55db0c(0x784)](_0x352d3c));}return _0x4ae4de;}async function _0x3785b2(_0x2fcaf8,_0x1539c7,_0x1d306a,_0x1e8744,_0x332cfd){const _0x426194=_0x3035df,_0x530f96=Date[_0x426194(0x6de)]();let _0x1840bd=[];if(_0x1539c7 instanceof Array)for(const _0x2603d8 of _0x1539c7){const _0x497508=await _0x332cfd[_0x426194(0x47e)]['getSentences'](_0x2603d8[_0x426194(0x1f0)]);_0x1840bd=_0x1840bd[_0x426194(0x20a)](_0x497508[_0x426194(0x207)](_0x11cd97=>({'content':_0x11cd97,'start':_0x2603d8['start'],'length':_0x2603d8['length']})));}else _0x1840bd=(await _0x332cfd[_0x426194(0x47e)][_0x426194(0x34d)](_0x1539c7))[_0x426194(0x207)](_0x525f0b=>({'content':_0x525f0b,'start':_0x1539c7[_0x426194(0x331)](_0x525f0b),'length':_0x525f0b['length']}));_0x21cae3[_0x426194(0xa76)]({'jobType':_0x493d65['Ingest'],'type':_0x3145ba['SentenceSplitter'],'jobId':_0x2fcaf8,'blockId':_0x1d306a['id'],'traceLevel':_0x69b2a['Debug'],'startTime':_0x530f96,'timestamp':Date[_0x426194(0x6de)](),'status':_0x426194(0x73b),'totalSentences':_0x1840bd[_0x426194(0x68c)],'averageSentenceLength':_0x1840bd['reduce']((_0x2cde77,_0x4777a1)=>_0x2cde77+_0x4777a1['length'],0x0)/_0x1840bd[_0x426194(0x68c)]}),await _0x5428d7(_0x2fcaf8,_0x1840bd,_0x1d306a,_0x1e8744,_0x332cfd);}function _0x280480(_0x10cb00,_0x8f2b05,_0x465ee9,_0x2f43e3,_0x1ad36d){const _0x1f47f1=_0x3035df,_0x42f456=Date[_0x1f47f1(0x6de)]();var _0x56728e;if(_0x465ee9[_0x1f47f1(0x842)]||(_0x465ee9['accumulated']={}),_0x8f2b05 instanceof Array?(_0x56728e=_0x8f2b05)[0x0]instanceof Array&&'number'==typeof _0x56728e[0x0]?.[0x0]?_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0xa9e)]=_0x8f2b05:_0x465ee9[_0x1f47f1(0x842)]['index']=_0x8f2b05:_0x1f47f1(0x395)==typeof _0x8f2b05?_0x465ee9['accumulated']['content']=_0x8f2b05:_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0x279)]=_0x8f2b05,_0x465ee9[_0x1f47f1(0x340)]=_0x465ee9[_0x1f47f1(0x340)]?_0x465ee9[_0x1f47f1(0x340)]+0x1:0x1,_0x22c12d(_0x465ee9,_0x2f43e3)>_0x465ee9[_0x1f47f1(0x340)])return;if(!(_0x465ee9[_0x1f47f1(0x842)]['content']&&_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0x4fa)]&&_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0xa9e)]&&_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0x279)]))throw new Error(_0x1f47f1(0xa8b));const _0x305fb2=_0x1ad36d[_0x1f47f1(0xa95)][_0x1f47f1(0x7fb)](_0x465ee9['id']);if(_0x305fb2[_0x1f47f1(0x3d2)](_0x465ee9['accumulated']['file']['pathName'],_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0x1f0)],_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0x4fa)],_0x465ee9['accumulated'][_0x1f47f1(0xa9e)]),_0x305fb2[_0x1f47f1(0x48a)]()){let _0x58b1bf=''+(_0x1ad36d[_0x1f47f1(0x80d)]??0x1);for(const _0x3535ad of _0x2f43e3)_0x3535ad['type']===_0x27169c[_0x1f47f1(0x8c1)]&&(_0x58b1bf=_0x58b1bf+'-'+(_0x3535ad['version']??0x1));_0x305fb2[_0x1f47f1(0x861)](_0x58b1bf);}_0x21cae3[_0x1f47f1(0xa76)]({'jobType':_0x493d65[_0x1f47f1(0x9bb)],'type':_0x3145ba[_0x1f47f1(0x85b)],'jobId':_0x10cb00,'blockId':_0x465ee9['id'],'traceLevel':_0x69b2a[_0x1f47f1(0x55e)],'startTime':_0x42f456,'timestamp':Date[_0x1f47f1(0x6de)](),'status':'success','databaseName':_0x305fb2[_0x1f47f1(0x502)](),'vectorsAdded':_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0xa9e)]['length'],'filePathName':_0x465ee9[_0x1f47f1(0x842)][_0x1f47f1(0x279)][_0x1f47f1(0x2cf)]});}async function _0xd09352(_0x993573,_0x2bd6ef,_0x20675f,_0x138afa,_0x4b40c8){const _0x24c89f=_0x3035df,_0x22861e=Date[_0x24c89f(0x6de)]();let _0x3178db=[];if(_0x2bd6ef instanceof Array){for(const _0x4d5d3e of _0x2bd6ef)_0x3178db=_0x3178db[_0x24c89f(0x20a)](_0x4d75d4(_0x4d5d3e['content'],_0x20675f,_0x4d5d3e[_0x24c89f(0x9ec)],_0x4d5d3e[_0x24c89f(0x68c)]));}else _0x3178db=_0x4d75d4(_0x2bd6ef,_0x20675f);_0x21cae3[_0x24c89f(0xa76)]({'jobType':_0x493d65['Ingest'],'type':_0x3145ba[_0x24c89f(0x5e9)],'jobId':_0x993573,'traceLevel':_0x69b2a[_0x24c89f(0x55e)],'blockId':_0x20675f['id'],'startTime':_0x22861e,'timestamp':Date['now'](),'status':_0x24c89f(0x73b),'totalChunks':_0x3178db[_0x24c89f(0x68c)],'averageChunkLength':_0x3178db[_0x24c89f(0x2fc)]((_0x40b41d,_0xc5b13a)=>_0x40b41d+_0xc5b13a[_0x24c89f(0x68c)],0x0)/_0x3178db[_0x24c89f(0x68c)]}),await _0x5428d7(_0x993573,_0x3178db,_0x20675f,_0x138afa,_0x4b40c8);}function _0x4d75d4(_0x29e949,_0x593d6a,_0x525701,_0x3faa14){const _0xc582da=_0x3035df,_0x308bf8=[],_0xc097a2=_0x29e949[_0xc582da(0x27a)]('\x20');let _0x41b877='',_0x5f4ecf=-0x1,_0x5d77c9=0x0,_0x20adbc=0x0;for(const _0x6a1dac of _0xc097a2){if(_0x41b877[_0xc582da(0x68c)]+_0x6a1dac[_0xc582da(0x68c)]>_0x593d6a[_0xc582da(0x7b4)][_0xc582da(0xadc)]){const _0x435462=_0x41b877[_0xc582da(0x68c)];let _0x17c69b=_0x5f4ecf,_0x22f7e8='';for(;_0x17c69b>=0x0&&_0x22f7e8[_0xc582da(0x68c)]+_0xc097a2[_0x17c69b][_0xc582da(0x68c)]<_0x593d6a[_0xc582da(0x7b4)][_0xc582da(0xaed)];)_0x22f7e8=_0xc097a2[_0x17c69b]+'\x20'+_0x22f7e8,_0x17c69b--;let _0x2bcc93=_0x5d77c9,_0x160db4='';for(;_0x2bcc93<_0xc097a2[_0xc582da(0x68c)]&&_0x160db4['length']+_0xc097a2[_0x2bcc93][_0xc582da(0x68c)]<_0x593d6a[_0xc582da(0x7b4)][_0xc582da(0xaed)];)_0x160db4+=_0xc097a2[_0x2bcc93]+'\x20',_0x2bcc93++;_0x41b877=_0x22f7e8+_0x41b877+_0x160db4,_0x308bf8['push']({'content':_0x41b877[_0xc582da(0x6ee)](),'start':_0x525701??_0x20adbc,'length':_0x3faa14??_0x41b877[_0xc582da(0x68c)]}),_0x41b877='',_0x5f4ecf=_0x5d77c9-0x1,_0x20adbc+=_0x435462;}_0x41b877+=_0x6a1dac+'\x20',_0x5d77c9++;}if(_0x41b877[_0xc582da(0x68c)]>0x0){const _0x393dcc=_0x41b877['length'];let _0x54511f=_0x5f4ecf,_0x33563d='';for(;_0x54511f>=0x0&&_0x33563d['length']+_0xc097a2[_0x54511f][_0xc582da(0x68c)]<_0x593d6a['attributes'][_0xc582da(0xaed)];)_0x33563d=_0xc097a2[_0x54511f]+'\x20'+_0x33563d,_0x54511f--;_0x41b877=_0x33563d+_0x41b877,_0x308bf8[_0xc582da(0x343)]({'content':_0x41b877['trim'](),'start':_0x525701??_0x20adbc,'length':_0x3faa14??_0x393dcc});}return _0x308bf8;}async function _0x5428d7(_0x162ff1,_0x1d5fe7,_0x3664cf,_0xbff55e,_0x2e4b78){const _0xb4f4df=_0x3035df;for(const _0x128791 of _0x3664cf[_0xb4f4df(0x70f)]||[]){const _0x129ef9=_0xbff55e[_0xb4f4df(0x85d)](_0x585c6c=>_0x585c6c['uid']===_0x128791['uid']);if(_0x129ef9)switch(_0x129ef9[_0xb4f4df(0x48b)]){case _0x27169c[_0xb4f4df(0x8c1)]:_0x128791['type']===_0x338075['Text']&&_0xb4f4df(0x395)==typeof _0x1d5fe7&&await _0x14bd65(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0x8c7)]:_0x128791['type']===_0x338075[_0xb4f4df(0x720)]&&_0xb4f4df(0x395)==typeof _0x1d5fe7&&await _0x15ee6a(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075['Index']&&_0x1d5fe7 instanceof Array&&await _0x15ee6a(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0x638)]:_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x474)]&&await _0x20ab57(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0x797)]:_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x743)]&&_0x1d5fe7 instanceof Array&&await _0x3d680b(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0x9e3)]:_0x128791['type']===_0x338075[_0xb4f4df(0x720)]&&_0xb4f4df(0x395)==typeof _0x1d5fe7&&_0x16fa8b(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791['type']===_0x338075[_0xb4f4df(0x743)]&&_0x1d5fe7 instanceof Array&&_0x16fa8b(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x290)]&&_0x1d5fe7 instanceof Set&&_0x16fa8b(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x517)]&&_0x1d5fe7 instanceof Map&&_0x16fa8b(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791['type']===_0x338075[_0xb4f4df(0x474)]&&_0x16fa8b(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c['Model']:_0x128791[_0xb4f4df(0x48b)]===_0x338075['Text']&&_0xb4f4df(0x395)==typeof _0x1d5fe7&&await _0x482e62(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x743)]&&_0x1d5fe7 instanceof Array&&await _0x482e62(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0xb08)]:_0x128791[_0xb4f4df(0x48b)]===_0x338075['Index']&&_0x1d5fe7 instanceof Array&&await _0xacf6c6(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x290)]&&_0x1d5fe7 instanceof Set&&await _0xacf6c6(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0x58c)]:_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x720)]&&_0xb4f4df(0x395)==typeof _0x1d5fe7&&await _0x3785b2(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791['type']===_0x338075[_0xb4f4df(0x743)]&&_0x1d5fe7 instanceof Array&&await _0x3785b2(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0x85b)]:_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x720)]&&'string'==typeof _0x1d5fe7&&_0x280480(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075['Index']&&_0x1d5fe7 instanceof Array&&_0x280480(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791['type']===_0x338075[_0xb4f4df(0x4b8)]&&_0x1d5fe7 instanceof Array&&_0x280480(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x474)]&&_0x280480(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);break;case _0x27169c[_0xb4f4df(0x5e9)]:_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x720)]&&_0xb4f4df(0x395)==typeof _0x1d5fe7&&await _0xd09352(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78),_0x128791[_0xb4f4df(0x48b)]===_0x338075[_0xb4f4df(0x743)]&&_0x1d5fe7 instanceof Array&&await _0xd09352(_0x162ff1,_0x1d5fe7,_0x129ef9,_0xbff55e,_0x2e4b78);}}}function _0x22c12d(_0x4eae10,_0x213e39){const _0x5d11d1=_0x3035df;return _0x213e39[_0x5d11d1(0xab2)](_0x5e014e=>_0x5e014e[_0x5d11d1(0x70f)]?.[_0x5d11d1(0x966)](_0x5f27c2=>_0x5f27c2[_0x5d11d1(0x986)]===_0x4eae10[_0x5d11d1(0x986)]))['length'];}async function _0x429f8f(_0x186b91,_0x3bc471,_0x3f2695,_0x43afbf,_0x5f0cea){const _0x1cec7a=_0x3035df;try{let _0x84b9cf;switch(_0x3f2695[_0x1cec7a(0x48b)]){case _0x27169c[_0x1cec7a(0x58a)]:const _0xcf7d6c=_0x5f0cea[_0x1cec7a(0xa95)][_0x1cec7a(0x417)](_0x3f2695['id']);_0x84b9cf=await _0xcf7d6c[_0x1cec7a(0x557)](_0x3bc471);break;case _0x27169c[_0x1cec7a(0xa1e)]:const _0x8e3fcc=_0x5f0cea[_0x1cec7a(0xa95)]['getExternalStorageConnection'](_0x3f2695['id']);_0x84b9cf=await _0x8e3fcc[_0x1cec7a(0x557)](_0x3bc471);}if(!_0x84b9cf)throw new Error('Failed\x20to\x20get\x20file');await _0x5428d7(_0x186b91,{'file':_0x84b9cf,'pathName':_0x3bc471},_0x3f2695,structuredClone(_0x43afbf),_0x5f0cea);}catch(_0xbabd4f){console[_0x1cec7a(0xa29)](_0x1cec7a(0x3f4),_0xbabd4f);}}const _0x981ab0=require('rxjs/operators');class _0x3569e2{[_0x3035df(0xa92)];constructor(){const _0x46fe24=_0x3035df;this[_0x46fe24(0xa92)]=new _0x522653[(_0x46fe24(0x568))]();}['emit'](_0x41f8f2){const _0x4e253c=_0x3035df;this[_0x4e253c(0xa92)][_0x4e253c(0x9f9)](_0x41f8f2);}async[_0x3035df(0x7c0)](){const _0x51ee74=_0x3035df;return(0x0,_0x522653[_0x51ee74(0x79b)])(this[_0x51ee74(0xa92)][_0x51ee74(0x69d)]((0x0,_0x981ab0[_0x51ee74(0x4c5)])(0x1)));}}async function _0x5da02d(_0x2f0903,_0x387855,_0x46b1c6,_0x2eeda3,_0x59e5ce,_0x3baf47,_0x1dd7b6){const _0x34ae84=_0x3035df,_0x4a07eb=Date[_0x34ae84(0x6de)](),_0x558a92=new Set();if(_0x46b1c6 instanceof Array){for(const _0x2e91c9 of _0x46b1c6)await _0x1b6cf9(_0x2e91c9[_0x34ae84(0x1f0)],_0x59e5ce,_0x558a92,_0x1dd7b6['nlpLibraryConnector']);}else await _0x1b6cf9(_0x46b1c6,_0x59e5ce,_0x558a92,_0x1dd7b6[_0x34ae84(0x47e)]);_0x21cae3[_0x34ae84(0xa76)]({'jobType':_0x493d65[_0x34ae84(0x812)],'type':_0xd37276[_0x34ae84(0x797)],'jobId':_0x2f0903,'threadId':_0x387855,'blockId':_0x59e5ce['id'],'traceLevel':_0x69b2a[_0x34ae84(0x55e)],'startTime':_0x4a07eb,'timestamp':Date[_0x34ae84(0x6de)](),'status':_0x34ae84(0x73b),'content':_0x46b1c6,'entitiesExtracted':Array[_0x34ae84(0x6a1)](_0x558a92),'totalEntities':_0x558a92[_0x34ae84(0xadc)]}),await _0x46106d(_0x2f0903,_0x387855,_0x558a92,_0x2eeda3,_0x59e5ce,_0x3baf47,_0x1dd7b6);}async function _0x1b6cf9(_0x4ba6f0,_0xca0eaa,_0x2103c4,_0x31befb){const _0x315516=_0x3035df,_0xc9facc=await _0x31befb[_0x315516(0x751)](_0x4ba6f0,{'ner':_0xca0eaa[_0x315516(0x7b4)]['ner'],'noun':_0xca0eaa['attributes']['noun'],'propn':_0xca0eaa['attributes'][_0x315516(0x7b8)],'verb':_0xca0eaa[_0x315516(0x7b4)][_0x315516(0xaa7)]});for(const _0x37fb30 of _0xc9facc)_0x2103c4[_0x315516(0x784)](_0x37fb30);}async function _0x2f095f(_0x1be2b3,_0x255dd3,_0x271143,_0x294f77,_0xa3f099,_0x412128,_0x14ef57){const _0x5d4b0a=_0x3035df,_0x49d61=Date[_0x5d4b0a(0x6de)]();if(_0xa3f099[_0x5d4b0a(0x842)]||(_0xa3f099[_0x5d4b0a(0x842)]={}),_0x271143 instanceof Array?(_0xa3f099[_0x5d4b0a(0x842)]['results']||(_0xa3f099[_0x5d4b0a(0x842)][_0x5d4b0a(0x584)]=[]),_0xa3f099[_0x5d4b0a(0x842)][_0x5d4b0a(0x584)][_0x5d4b0a(0x343)](..._0x271143)):_0x271143 instanceof Set?_0xa3f099[_0x5d4b0a(0x842)][_0x5d4b0a(0x8e3)]=_0x271143:_0xa3f099['accumulated']['prompt']=_0x271143,_0xa3f099['timesCalled']=_0xa3f099['timesCalled']?_0xa3f099['timesCalled']+0x1:0x1,_0x2a3624(_0xa3f099,_0x412128)>_0xa3f099[_0x5d4b0a(0x340)])return;if(!_0xa3f099[_0x5d4b0a(0x842)][_0x5d4b0a(0xb1e)]&&!_0xa3f099['accumulated'][_0x5d4b0a(0x584)]||!_0xa3f099[_0x5d4b0a(0x842)]['entities'])throw new Error(_0x5d4b0a(0x8d9));const _0x53f8c6=_0x14ef57[_0x5d4b0a(0xa95)][_0x5d4b0a(0x4da)](_0xa3f099['id'])[_0x5d4b0a(0x349)](Array[_0x5d4b0a(0x6a1)](_0xa3f099[_0x5d4b0a(0x842)][_0x5d4b0a(0x8e3)]),_0xa3f099[_0x5d4b0a(0x7b4)]['maxDepth'],_0xa3f099[_0x5d4b0a(0x7b4)][_0x5d4b0a(0x41d)]);let _0x327fdd=[];for(const _0xf84820 in _0x53f8c6){const _0x57fb83=_0x53f8c6[_0xf84820];for(const _0x4be94b of _0x57fb83){let _0x136afd=0x0;if(_0xa3f099[_0x5d4b0a(0x842)][_0x5d4b0a(0xb1e)]&&(_0x136afd=await _0x14ef57[_0x5d4b0a(0x47e)]['getSimilarity'](_0xa3f099[_0x5d4b0a(0x842)]['prompt'],_0x4be94b)),_0xa3f099['accumulated'][_0x5d4b0a(0x584)]){for(const _0x134705 of _0xa3f099[_0x5d4b0a(0x842)][_0x5d4b0a(0x584)])_0x136afd=Math['max'](_0x136afd,await _0x14ef57[_0x5d4b0a(0x47e)][_0x5d4b0a(0x327)](_0x134705[_0x5d4b0a(0x1f0)],_0x4be94b));}_0x136afd<_0xa3f099['attributes']['minRelevance']||_0x327fdd['push']({'content':_0x4be94b,'relevance':_0x136afd,'pathName':_0xf84820});}}_0x327fdd=_0x327fdd[_0x5d4b0a(0x7aa)]((_0x45540e,_0x5db422)=>_0x5db422[_0x5d4b0a(0x46a)]-_0x45540e['relevance'])[_0x5d4b0a(0x3c5)](0x0,_0xa3f099[_0x5d4b0a(0x7b4)][_0x5d4b0a(0x419)]),_0x21cae3[_0x5d4b0a(0xa76)]({'jobType':_0x493d65[_0x5d4b0a(0x812)],'type':_0xd37276['GraphSearch'],'jobId':_0x1be2b3,'threadId':_0x255dd3,'blockId':_0xa3f099['id'],'traceLevel':_0x69b2a[_0x5d4b0a(0x55e)],'timestamp':Date[_0x5d4b0a(0x6de)](),'startTime':_0x49d61,'status':_0x5d4b0a(0x73b),'content':_0x271143,'topResults':_0x327fdd,'numResults':_0x327fdd['length']}),await _0x46106d(_0x1be2b3,_0x255dd3,_0x327fdd,_0x294f77,_0xa3f099,_0x412128,_0x14ef57);}async function _0x162bb7(_0x3e5d56,_0x616ec6,_0x5b2751,_0x28fdec,_0x3a494c,_0x33f678,_0x3ab599){const _0x489b18=_0x3035df,_0xb744ba=_0x3ab599[_0x489b18(0x22f)][_0x489b18(0x85d)](_0x2ac3a5=>_0x2ac3a5['id']===_0x3a494c['id']);if(!_0xb744ba)throw new Error('Model\x20not\x20found');let _0x1d1a5e='';switch(_0x1d1a5e=_0x5b2751 instanceof Array?_0x5b2751[_0x489b18(0x207)](_0x19c4d3=>_0x19c4d3[_0x489b18(0x1f0)])['join'](',\x20'):_0x5b2751,_0xb744ba[_0x489b18(0x7c8)]){case _0x37e813[_0x489b18(0x886)][_0x489b18(0x720)]:await async function(_0x559ded,_0x20c9f2,_0x56126e,_0x4f9aa9,_0x51b261,_0x15fb11,_0x281f5b,_0x5d7f96){const _0x1224e9=_0x489b18,_0x2bcf84=Date[_0x1224e9(0x6de)](),_0x25704a=_0x5d7f96[_0x1224e9(0x6b1)][_0x1224e9(0x85d)](_0x49cde4=>_0x49cde4[_0x1224e9(0x3de)]()===_0x51b261[_0x1224e9(0x77a)]);if(!_0x25704a)throw new Error(_0x1224e9(0xaa4));const _0x2da6b1=await async function(_0x40d710,_0x21114c,_0x1753ee,_0x5311b9,_0x465af7){const _0x32fb7c=_0x1224e9,_0x385d13={'type':_0x32fb7c(0xb1e),'prompt':_0x21114c,'threadId':_0x40d710};_0x1753ee['context'][_0x32fb7c(0x68c)]>0x0&&(_0x385d13[_0x32fb7c(0xaf5)]=_0x32fb7c(0x8b9)+_0x1753ee[_0x32fb7c(0x4cd)][_0x32fb7c(0x207)](_0xf8558=>_0x32fb7c(0x91e)+_0xf8558[_0x32fb7c(0x2cf)]+':\x20'+_0xf8558[_0x32fb7c(0x1f0)])[_0x32fb7c(0x95b)]('\x0a'));const _0xe11fbb=await _0x5311b9['processJob'](_0x385d13,{'model':_0x465af7});if(_0xe11fbb[_0x32fb7c(0x757)]instanceof Array)throw new Error(_0x32fb7c(0x969));return _0x1753ee['inputTokens']+=_0xe11fbb[_0x32fb7c(0x3e7)]??0x0,_0x1753ee['outputTokens']+=_0xe11fbb['outputTokens']??0x0,_0xe11fbb[_0x32fb7c(0x757)];}(_0x20c9f2,_0x56126e,_0x4f9aa9,_0x25704a,_0x51b261);_0x21cae3[_0x1224e9(0xa76)]({'jobType':_0x493d65[_0x1224e9(0x812)],'type':_0xd37276[_0x1224e9(0x7ba)],'jobId':_0x559ded,'threadId':_0x20c9f2,'blockId':_0x15fb11['id'],'traceLevel':_0x69b2a[_0x1224e9(0x55e)],'startTime':_0x2bcf84,'timestamp':Date[_0x1224e9(0x6de)](),'status':'success','modelName':_0x51b261['id'],'content':_0x56126e,'newPrompt':_0x2da6b1,'inputType':_0x51b261[_0x1224e9(0x972)],'outputType':_0x51b261[_0x1224e9(0x7c8)]}),await _0x46106d(_0x559ded,_0x20c9f2,_0x2da6b1,_0x4f9aa9,_0x15fb11,_0x281f5b,_0x5d7f96);}(_0x3e5d56,_0x616ec6,_0x1d1a5e,_0x28fdec,_0xb744ba,_0x3a494c,_0x33f678,_0x3ab599);break;case _0x37e813[_0x489b18(0x886)]['Vector']:await async function(_0x14983d,_0x3a50ed,_0x1bbdf7,_0x4bfd99,_0x329597,_0x4aa18c,_0x572067,_0xf00323){const _0x10a9fd=_0x489b18,_0x394cbf=Date[_0x10a9fd(0x6de)](),_0x5efcf1=_0xf00323[_0x10a9fd(0x6b1)]['find'](_0x4e4dc4=>_0x4e4dc4[_0x10a9fd(0x3de)]()===_0x329597[_0x10a9fd(0x77a)]);if(!_0x5efcf1)throw new Error(_0x10a9fd(0xaa4));const _0x2d6659=await async function(_0x37cee9,_0x4471f6,_0x4d5075,_0x2cbdac){const _0x329df0=_0x10a9fd;return(await _0x4d5075[_0x329df0(0x273)]({'type':_0x329df0(0xb1e),'prompt':_0x4471f6,'threadId':_0x37cee9},{'model':_0x2cbdac}))[_0x329df0(0x757)];}(_0x3a50ed,_0x1bbdf7,_0x5efcf1,_0x329597);_0x21cae3[_0x10a9fd(0xa76)]({'jobType':_0x493d65[_0x10a9fd(0x812)],'type':_0xd37276[_0x10a9fd(0x4af)],'jobId':_0x14983d,'threadId':_0x3a50ed,'blockId':_0x4aa18c['id'],'traceLevel':_0x69b2a['Debug'],'startTime':_0x394cbf,'timestamp':Date['now'](),'status':_0x10a9fd(0x73b),'modelName':_0x329597['id'],'content':_0x1bbdf7,'totalVectors':_0x2d6659[_0x10a9fd(0x68c)]}),await _0x46106d(_0x14983d,_0x3a50ed,_0x2d6659,_0x4bfd99,_0x4aa18c,_0x572067,_0xf00323);}(_0x3e5d56,_0x616ec6,_0x1d1a5e,_0x28fdec,_0xb744ba,_0x3a494c,_0x33f678,_0x3ab599);}}async function _0x3ce3e3(_0x1d1352,_0x1c958b,_0x5e3808,_0x318719,_0x55b4a0,_0x49d8b0,_0x109e28){const _0x4f7f92=_0x3035df,_0x6cbd0c=Date[_0x4f7f92(0x6de)](),_0x53bfa9=_0x109e28[_0x4f7f92(0xa95)][_0x4f7f92(0x7fb)](_0x55b4a0['id'])['search'](_0x5e3808,_0x55b4a0['attributes'][_0x4f7f92(0x419)],_0x55b4a0['attributes'][_0x4f7f92(0x24c)],_0x55b4a0[_0x4f7f92(0x7b4)]['contentSize']);_0x21cae3[_0x4f7f92(0xa76)]({'jobType':_0x493d65[_0x4f7f92(0x812)],'type':_0xd37276[_0x4f7f92(0x6c2)],'jobId':_0x1d1352,'threadId':_0x1c958b,'blockId':_0x55b4a0['id'],'traceLevel':_0x69b2a['Debug'],'startTime':_0x6cbd0c,'timestamp':Date[_0x4f7f92(0x6de)](),'status':_0x4f7f92(0x73b),'topResults':_0x53bfa9,'numResults':_0x53bfa9[_0x4f7f92(0x68c)]}),await _0x46106d(_0x1d1352,_0x1c958b,_0x53bfa9,_0x318719,_0x55b4a0,_0x49d8b0,_0x109e28);}async function _0x30adf3(_0x1a9d73,_0x17a698,_0x5b0847,_0x4fd551,_0x3ff8c9,_0x399e73,_0xa1d1a4){const _0x2361ee=_0x3035df,_0x35c454=Date[_0x2361ee(0x6de)]();if(_0x3ff8c9[_0x2361ee(0x842)]||(_0x3ff8c9['accumulated']={}),_0x5b0847 instanceof Array?(_0x3ff8c9['accumulated'][_0x2361ee(0x584)]||(_0x3ff8c9[_0x2361ee(0x842)]['results']=[]),_0x3ff8c9[_0x2361ee(0x842)][_0x2361ee(0x584)]['push'](..._0x5b0847)):_0x3ff8c9[_0x2361ee(0x842)][_0x2361ee(0xb1e)]=_0x5b0847,_0x3ff8c9[_0x2361ee(0x340)]=_0x3ff8c9['timesCalled']?_0x3ff8c9['timesCalled']+0x1:0x1,_0x2a3624(_0x3ff8c9,_0x399e73)>_0x3ff8c9['timesCalled'])return;if(!_0x3ff8c9[_0x2361ee(0x842)]['prompt']||!_0x3ff8c9[_0x2361ee(0x842)]['results'])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x533e17 of _0x3ff8c9['accumulated'][_0x2361ee(0x584)])_0x533e17[_0x2361ee(0x46a)]=await _0xa1d1a4[_0x2361ee(0x47e)][_0x2361ee(0x327)](_0x3ff8c9[_0x2361ee(0x842)][_0x2361ee(0xb1e)],_0x533e17[_0x2361ee(0x1f0)]);const _0x5c5fc0=_0x3ff8c9['accumulated'][_0x2361ee(0x584)][_0x2361ee(0xab2)](_0x26ba9e=>_0x26ba9e[_0x2361ee(0x46a)]>_0x3ff8c9['attributes'][_0x2361ee(0x24c)])['sort']((_0x15df22,_0x3934cc)=>_0x3934cc['relevance']-_0x15df22[_0x2361ee(0x46a)])[_0x2361ee(0x3c5)](0x0,_0x3ff8c9[_0x2361ee(0x7b4)][_0x2361ee(0x419)]);_0x21cae3[_0x2361ee(0xa76)]({'jobType':_0x493d65[_0x2361ee(0x812)],'type':_0xd37276['Reranker'],'jobId':_0x1a9d73,'threadId':_0x17a698,'blockId':_0x3ff8c9['id'],'traceLevel':_0x69b2a[_0x2361ee(0x55e)],'startTime':_0x35c454,'timestamp':Date[_0x2361ee(0x6de)](),'status':'success','inputResults':_0x3ff8c9['accumulated'][_0x2361ee(0x584)],'rerankedResults':_0x5c5fc0}),await _0x46106d(_0x1a9d73,_0x17a698,_0x5c5fc0,_0x4fd551,_0x3ff8c9,_0x399e73,_0xa1d1a4);}async function _0x46106d(_0x5912d4,_0x2b8643,_0x478e86,_0x3ce14c,_0x3ac512,_0x19bb78,_0x120322){const _0x201bd4=_0x3035df;for(const _0x4d09f8 of _0x3ac512['links']||[]){const _0x267a27=_0x19bb78['find'](_0x5b596e=>_0x5b596e['uid']===_0x4d09f8[_0x201bd4(0x986)]);if(_0x267a27)switch(_0x267a27['type']){case _0x27169c['Context']:_0x3ce14c[_0x201bd4(0x4cd)][_0x201bd4(0x343)](..._0x478e86);break;case _0x27169c[_0x201bd4(0x797)]:await _0x5da02d(_0x5912d4,_0x2b8643,_0x478e86,_0x3ce14c,_0x267a27,_0x19bb78,_0x120322);break;case _0x27169c['GraphDatabase']:await _0x2f095f(_0x5912d4,_0x2b8643,_0x478e86,_0x3ce14c,_0x267a27,_0x19bb78,_0x120322);break;case _0x27169c[_0x201bd4(0xab1)]:await _0x162bb7(_0x5912d4,_0x2b8643,_0x478e86,_0x3ce14c,_0x267a27,_0x19bb78,_0x120322);break;case _0x27169c['Reranker']:await _0x30adf3(_0x5912d4,_0x2b8643,_0x478e86,_0x3ce14c,_0x267a27,_0x19bb78,_0x120322);break;case _0x27169c['VectorDatabase']:await _0x3ce3e3(_0x5912d4,_0x2b8643,_0x478e86,_0x3ce14c,_0x267a27,_0x19bb78,_0x120322);}}}function _0x2a3624(_0x3f6d32,_0x96c927){const _0x8da0c7=_0x3035df;return _0x96c927[_0x8da0c7(0xab2)](_0x41fa7f=>_0x41fa7f[_0x8da0c7(0x70f)]?.[_0x8da0c7(0x966)](_0x5039da=>_0x5039da[_0x8da0c7(0x986)]===_0x3f6d32[_0x8da0c7(0x986)]))[_0x8da0c7(0x68c)];}async function _0x296d1b(_0xff781e,_0x51b7f2,_0x4b5171,_0x314cd0,_0x171820,_0x379ed4){const _0x2f391c=_0x3035df,_0x6a2d52={'type':_0x2f391c(0xb1e),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x46106d(_0xff781e,_0x51b7f2,_0x4b5171,_0x6a2d52,_0x314cd0,structuredClone(_0x171820),_0x379ed4),_0x6a2d52[_0x2f391c(0x757)]=_0x2f391c(0x8b9)+_0x6a2d52[_0x2f391c(0x4cd)][_0x2f391c(0x207)](_0x37e2f6=>_0x2f391c(0x91e)+_0x37e2f6[_0x2f391c(0x2cf)]+':\x20'+_0x37e2f6[_0x2f391c(0x1f0)])['join']('\x0a');}catch(_0x158007){console[_0x2f391c(0xa29)](_0x2f391c(0x925),_0x158007);}return _0x6a2d52;}function _0x25cef2(_0x3e0e5e,_0x3e0665,_0x20723b,_0x110436,_0x133622,_0x33e382,_0x39ad28,_0x50d548){const _0x51d5d4=_0x3035df,_0xbb4008=new Map(),_0x5032ed=_0x33e382[_0x51d5d4(0xab2)](_0x504200=>_0x504200[_0x51d5d4(0x70f)]?.[_0x51d5d4(0x85d)](_0x2a964a=>_0x2a964a[_0x51d5d4(0x986)]===_0x133622[_0x51d5d4(0x986)]&&(_0x2a964a[_0x51d5d4(0x48b)]===_0x338075['Knowledge']||_0x2a964a['type']===_0x338075[_0x51d5d4(0xa23)])));for(const _0x373a45 of _0x5032ed)_0x373a45[_0x51d5d4(0x48b)]===_0x555fab[_0x51d5d4(0x359)]||_0x373a45['type']===_0x555fab[_0x51d5d4(0x22e)]?_0xbb4008[_0x51d5d4(0xac2)]('searchInDataCollection'+_0x373a45[_0x51d5d4(0x72a)][_0x51d5d4(0x471)](/[^a-zA-Z]/g,''),_0x59bf8b(_0x3e0e5e,_0x3e0665,_0x20723b,_0x110436,_0x373a45,_0x39ad28,_0x50d548)):_0x373a45['type']===_0x555fab[_0x51d5d4(0xac9)]||_0x373a45[_0x51d5d4(0x48b)]===_0x555fab[_0x51d5d4(0x8c1)]?_0xbb4008['set'](_0x51d5d4(0x38b)+_0x373a45[_0x51d5d4(0x72a)][_0x51d5d4(0x471)](/[^a-zA-Z]/g,''),_0x4382d5(_0x3e0e5e,_0x3e0665,_0x20723b,_0x110436,_0x373a45,_0x33e382,_0x39ad28,_0x50d548)):_0x373a45[_0x51d5d4(0x48b)]===_0x555fab[_0x51d5d4(0x7f0)]?_0xbb4008[_0x51d5d4(0xac2)](_0x373a45['name'][_0x51d5d4(0x471)](/[^a-zA-Z]/g,''),_0x1298ef(_0x3e0e5e,_0x3e0665,_0x20723b,_0x373a45,_0x33e382,_0x50d548)):_0xbb4008['set'](_0x5a1e06(_0x373a45),_0x242a41(_0x3e0e5e,_0x3e0665,_0x20723b,_0x373a45,_0x39ad28,_0x50d548));return _0xbb4008;}function _0x4382d5(_0x959e98,_0x45fcff,_0x177448,_0xe4747a,_0x1f9809,_0x170072,_0x842892,_0x538c2a){const _0x23bd1a=_0x3035df,_0x53b793=_0x23bd1a(0x54d)+_0x1f9809['description']+_0x23bd1a(0x5c4),_0x1548db={'prompt':{'type':_0x37e813[_0x23bd1a(0x2aa)]['String']}};return _0x21cae3[_0x23bd1a(0xa76)]({'jobType':_0x493d65[_0x23bd1a(0x707)],'type':_0x1570df[_0x23bd1a(0x6e1)],'jobId':_0x959e98,'agentId':_0x45fcff,'threadId':_0x177448,'traceLevel':_0x69b2a[_0x23bd1a(0xa4b)],'startTime':Date['now'](),'timestamp':Date[_0x23bd1a(0x6de)](),'status':_0x23bd1a(0x73b),'function':_0x64685d[_0x23bd1a(0x817)],'params':_0x1548db,'functionDescription':_0x53b793}),{'description':_0x53b793,'params':_0x1548db,'callback':async _0x5e762d=>{const _0x376130=_0x23bd1a,_0xac9e0a=Date[_0x376130(0x6de)]();try{if(_0x538c2a&&(await _0x255ca7[_0x376130(0x3e6)](0x1),_0x538c2a[_0x376130(0xa25)]({'output':_0x376130(0x8cb)+_0x1f9809[_0x376130(0x72a)]+_0x376130(0x4a4),'type':_0x376130(0xb1e)})),_0x376130(0x395)!=typeof _0x5e762d?.['prompt'])throw new Error(_0x376130(0xa71));let _0x5a9680=_0x5e762d[_0x376130(0xb1e)];if(_0x1f9809[_0x376130(0x842)]?.[_0x376130(0x4cd)])for(const _0x35347e of Object[_0x376130(0x75b)](_0x1f9809[_0x376130(0x842)][_0x376130(0x4cd)])){const _0xe205cf=_0x1f9809['accumulated']['context'][_0x35347e];_0x5a9680=_0xe205cf instanceof Array?_0x376130(0x8d8)+_0x35347e+_0x376130(0x4b9)+_0xe205cf[_0x376130(0x207)](_0x524308=>_0x376130(0x91e)+_0x524308['pathName']+':\x20'+_0x524308[_0x376130(0x1f0)])[_0x376130(0x95b)]('\x0a\x0a')+'\x0a\x0a'+_0x5a9680:_0x376130(0x298)+_0x35347e+':\x20'+_0xe205cf+'\x0a\x0a'+_0x5a9680;}const _0xfac8f2=_0x842892['models'][_0x376130(0x85d)](_0x542a95=>_0x542a95['id']===_0x1f9809[_0x376130(0x750)]);if(!_0xfac8f2)throw new Error(_0x376130(0x5c5));const _0x248119=_0x842892[_0x376130(0x6b1)][_0x376130(0x85d)](_0x2eadc5=>_0x2eadc5['getEngineType']()===_0xfac8f2[_0x376130(0x77a)]);if(!_0x248119)throw new Error(_0x376130(0xaa4));const _0x57eeb1=_0x1f9809[_0x376130(0x70f)]?.[_0x376130(0x966)](_0x2e7e80=>{const _0xb77cf3=_0x376130,_0x94ace0=_0x170072[_0xb77cf3(0x85d)](_0x5b41a5=>_0x5b41a5[_0xb77cf3(0x986)]===_0x2e7e80['uid']);return!!_0x94ace0&&_0x2e7e80[_0xb77cf3(0x48b)]===_0x338075[_0xb77cf3(0x720)]&&_0x94ace0[_0xb77cf3(0x48b)]===_0x555fab[_0xb77cf3(0x310)];})??!0x1;let _0x3dd8b3;if(_0x538c2a&&_0x57eeb1?(await _0x255ca7[_0x376130(0x3e6)](0x1),_0x538c2a[_0x376130(0xa25)]({'output':'\x0a\x0a','type':_0x376130(0xb1e)}),_0x3dd8b3=await async function(_0x305864,_0x12e388,_0x4a3ae2,_0x3dfcad,_0x14b4e4,_0x13b35d,_0x4f8fb0,_0x572b77,_0x4f4800){const _0x37dfb8=_0x376130;let _0x21587a='';const _0x186bac=_0x4f4800['models'][_0x37dfb8(0x85d)](_0x4910cd=>_0x4910cd['id']===_0x13b35d[_0x37dfb8(0x750)]);if(!_0x186bac)throw new Error(_0x37dfb8(0x5c5));const _0x143b84=_0x4f4800['generativeAIWorkerConnectors']['find'](_0x1d7619=>_0x1d7619[_0x37dfb8(0x3de)]()===_0x186bac[_0x37dfb8(0x77a)]);if(!_0x143b84)throw new Error(_0x37dfb8(0xaa4));for await(const _0x3f56e6 of _0x143b84[_0x37dfb8(0x6d0)]({'type':_0x37dfb8(0xb1e),'prompt':_0x3dfcad,'instructions':_0x13b35d[_0x37dfb8(0xaf5)],'grammar':_0x13b35d[_0x37dfb8(0x556)],'temperature':_0x13b35d[_0x37dfb8(0x947)],'maxTokens':_0x13b35d[_0x37dfb8(0x4aa)],'functions':_0x25cef2(_0x305864,_0x12e388,_0x4a3ae2,_0x14b4e4,_0x13b35d,_0x4f8fb0,_0x4f4800,_0x572b77),'threadId':_0x4a3ae2},{'model':_0x186bac,'sequences':0x2}))_0x572b77[_0x37dfb8(0xa25)](_0x3f56e6),_0x21587a+=_0x3f56e6[_0x37dfb8(0x757)];return{'type':_0x37dfb8(0xb1e),'output':_0x21587a};}(_0x959e98,_0x45fcff,_0x177448,_0x5a9680,_0xe4747a,_0x1f9809,_0x170072,_0x538c2a,_0x842892),await _0x255ca7[_0x376130(0x3e6)](0x1),_0x538c2a[_0x376130(0xa25)]({'output':'\x0a\x0a','type':_0x376130(0xb1e)})):_0x3dd8b3=await _0x248119[_0x376130(0x273)]({'type':_0x376130(0xb1e),'prompt':_0x5a9680,'instructions':_0x1f9809[_0x376130(0xaf5)],'grammar':_0x1f9809['grammar'],'temperature':_0x1f9809['temperature'],'maxTokens':_0x1f9809[_0x376130(0x4aa)],'functions':_0x25cef2(_0x959e98,_0x45fcff,_0x177448,_0xe4747a,_0x1f9809,_0x170072,_0x842892,_0x538c2a),'threadId':_0x177448},{'model':_0xfac8f2,'sequences':0x2}),_0x376130(0x395)!=typeof _0x3dd8b3[_0x376130(0x757)])throw new Error(_0x376130(0x37c));return _0x21cae3[_0x376130(0xa76)]({'jobType':_0x493d65[_0x376130(0xa23)],'type':_0x64685d['ExecuteAgent'],'jobId':_0x959e98,'blockId':_0x1f9809['id'],'agentId':_0x45fcff,'threadId':_0x177448,'traceLevel':_0x69b2a[_0x376130(0xa4b)],'startTime':_0xac9e0a,'timestamp':Date[_0x376130(0x6de)](),'status':_0x376130(0x73b),'agentName':_0x1f9809['name'],'prompt':_0x5a9680,'instructions':_0x1f9809[_0x376130(0xaf5)],'result':_0x3dd8b3[_0x376130(0x757)],'inputTokens':0x0,'outputTokens':0x0}),_0x1f9809[_0x376130(0x70f)]?.[_0x376130(0x966)](_0x1422f1=>_0x1422f1[_0x376130(0x48b)]===_0x338075['Context'])?(_0x32c6d1(_0x3dd8b3['output'],_0x1f9809,_0x170072),_0x376130(0x31e)):_0x3dd8b3[_0x376130(0x757)];}catch(_0x759f3c){return console[_0x376130(0xa29)](_0x759f3c),_0x21cae3['trace']({'jobType':_0x493d65[_0x376130(0xa23)],'type':_0x64685d['ExecuteAgent'],'jobId':_0x959e98,'blockId':_0x1f9809['id'],'agentId':_0x45fcff,'threadId':_0x177448,'traceLevel':_0x69b2a['Info'],'startTime':_0xac9e0a,'timestamp':Date[_0x376130(0x6de)](),'status':'error','errorDetails':_0x4c4b0a(_0x759f3c),'agentName':_0x1f9809[_0x376130(0x72a)],'prompt':'','instructions':_0x1f9809['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x759f3c instanceof Error?_0x759f3c[_0x376130(0x2d0)]:_0x376130(0x9d5);}}};}function _0x59bf8b(_0x55c914,_0x770f10,_0x4fcab2,_0x12fcc3,_0x19186b,_0x30e51a,_0x33fbdd){const _0x49e985=_0x3035df,_0x1ba15a=_0x49e985(0x6c8)+_0x19186b[_0x49e985(0x983)]+_0x49e985(0x82c),_0x19c213={'queryOrPrompt':{'type':_0x37e813['PromptFunctionParamsType'][_0x49e985(0x27d)]}};return _0x21cae3[_0x49e985(0xa76)]({'jobType':_0x493d65['JobContext'],'type':_0x1570df[_0x49e985(0xa3c)],'jobId':_0x55c914,'agentId':_0x770f10,'threadId':_0x4fcab2,'blockId':_0x19186b['id'],'traceLevel':_0x69b2a[_0x49e985(0xa4b)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x49e985(0x73b),'function':_0x260b67['GetContextQuery'],'params':_0x19c213,'functionDescription':_0x1ba15a}),{'description':_0x1ba15a,'params':_0x19c213,'callback':async _0x5033f1=>{const _0x173587=_0x49e985,_0x14cd51=Date[_0x173587(0x6de)]();try{if(_0x33fbdd&&(await _0x255ca7[_0x173587(0x3e6)](0x1),_0x33fbdd[_0x173587(0xa25)]({'output':_0x173587(0x42e)+_0x19186b[_0x173587(0x72a)]+_0x173587(0x46d)+_0x5033f1?.['queryOrPrompt']+_0x173587(0x4a4),'type':_0x173587(0xb1e)})),'string'!=typeof _0x5033f1?.['queryOrPrompt'])throw new Error(_0x173587(0x72e));const _0x495fc8=_0x19186b[_0x173587(0x809)][_0x173587(0x85d)](_0x49d1ac=>_0x49d1ac['type']===_0x27169c[_0x173587(0x2de)]),_0x1e4ea6=await _0x296d1b(_0x55c914,_0x4fcab2,_0x5033f1[_0x173587(0xa17)],_0x495fc8,_0x19186b[_0x173587(0x809)],_0x30e51a);return _0x12fcc3[_0x173587(0x4cd)]=Array[_0x173587(0x6a1)](new Set([..._0x12fcc3['context'],..._0x1e4ea6[_0x173587(0x4cd)]])),_0x21cae3[_0x173587(0xa76)]({'jobType':_0x493d65['Knowledge'],'type':_0x260b67[_0x173587(0x672)],'jobId':_0x55c914,'blockId':_0x19186b['id'],'agentId':_0x770f10,'threadId':_0x4fcab2,'traceLevel':_0x69b2a[_0x173587(0xa4b)],'startTime':_0x14cd51,'timestamp':Date['now'](),'status':_0x173587(0x73b),'query':_0x5033f1[_0x173587(0xa17)],'context':_0x1e4ea6[_0x173587(0x4cd)]??[],'inputTokens':_0x1e4ea6['inputTokens']??0x0,'outputTokens':_0x1e4ea6[_0x173587(0x3b9)]??0x0}),_0x1e4ea6['output'];}catch(_0x366233){return console[_0x173587(0xa29)](_0x366233),_0x21cae3[_0x173587(0xa76)]({'jobType':_0x493d65['Knowledge'],'type':_0x260b67[_0x173587(0x672)],'jobId':_0x55c914,'blockId':_0x19186b['id'],'agentId':_0x770f10,'threadId':_0x4fcab2,'traceLevel':_0x69b2a[_0x173587(0xa4b)],'startTime':_0x14cd51,'timestamp':Date['now'](),'status':_0x173587(0xa29),'errorDetails':_0x4c4b0a(_0x366233),'query':_0x5033f1?.[_0x173587(0xa17)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x366233 instanceof Error?_0x366233[_0x173587(0x2d0)]:_0x173587(0x397);}}};}function _0x5a1e06(_0x5336db){const _0xfb79d9=_0x3035df;switch(_0x5336db['type']){case _0x555fab[_0xfb79d9(0x494)]:return'getCurrentDate';case _0x555fab[_0xfb79d9(0x8a4)]:return _0xfb79d9(0x744);case _0x555fab['Search']:return _0xfb79d9(0x394);case _0x555fab[_0xfb79d9(0x45c)]:return _0xfb79d9(0x389);case _0x555fab[_0xfb79d9(0x3aa)]:case _0x555fab[_0xfb79d9(0xacf)]:return'fetchContentFromUrl';}throw new Error(_0xfb79d9(0x7b5));}function _0x242a41(_0x49694a,_0x2469dc,_0x265c6a,_0x139f2b,_0x3c20c4,_0x39c87d){const _0xed70c5=_0x3035df;switch(_0x139f2b[_0xed70c5(0x48b)]){case _0x555fab['Time']:return function(_0x7bb1a3,_0x30ac00,_0x115c80,_0x11cdf0,_0x565eca){const _0x1eb3d9=_0xed70c5,_0x37a848=_0x1eb3d9(0xae9);return _0x21cae3[_0x1eb3d9(0xa76)]({'jobType':_0x493d65[_0x1eb3d9(0x707)],'type':_0x1570df[_0x1eb3d9(0x6e1)],'jobId':_0x7bb1a3,'agentId':_0x30ac00,'threadId':_0x115c80,'traceLevel':_0x69b2a[_0x1eb3d9(0xa4b)],'startTime':Date[_0x1eb3d9(0x6de)](),'timestamp':Date[_0x1eb3d9(0x6de)](),'status':_0x1eb3d9(0x73b),'function':_0x64685d[_0x1eb3d9(0x575)],'params':{},'functionDescription':_0x37a848}),{'description':_0x37a848,'callback':()=>{const _0x49b42c=_0x1eb3d9,_0x4e9d57=Date[_0x49b42c(0x6de)]();_0x565eca&&_0x565eca[_0x49b42c(0xa25)]({'output':_0x49b42c(0xa3b),'type':_0x49b42c(0xb1e)});const _0x3461c3=new Date()[_0x49b42c(0x9c3)]();return _0x21cae3[_0x49b42c(0xa76)]({'jobType':_0x493d65['Skill'],'type':_0x64685d[_0x49b42c(0x575)],'jobId':_0x7bb1a3,'agentId':_0x30ac00,'threadId':_0x115c80,'blockId':_0x11cdf0,'traceLevel':_0x69b2a[_0x49b42c(0xa4b)],'startTime':_0x4e9d57,'timestamp':Date[_0x49b42c(0x6de)](),'status':_0x49b42c(0x73b),'date':_0x3461c3}),_0x3461c3;}};}(_0x49694a,_0x2469dc,_0x265c6a,_0x139f2b['id'],_0x39c87d);case _0x555fab['Code']:return function(_0x2c793d,_0x3b8a47,_0x33df09,_0x3969e4,_0x33745a){const _0x145bb0=_0xed70c5,_0x1b7686=_0x145bb0(0x829),_0x35927e={'code':{'type':_0x37e813[_0x145bb0(0x2aa)][_0x145bb0(0x27d)]}};return _0x21cae3[_0x145bb0(0xa76)]({'jobType':_0x493d65[_0x145bb0(0x707)],'type':_0x1570df[_0x145bb0(0x6e1)],'jobId':_0x2c793d,'agentId':_0x3b8a47,'threadId':_0x33df09,'traceLevel':_0x69b2a[_0x145bb0(0xa4b)],'startTime':Date[_0x145bb0(0x6de)](),'timestamp':Date[_0x145bb0(0x6de)](),'status':_0x145bb0(0x73b),'function':_0x64685d['ExecuteCode'],'params':_0x35927e,'functionDescription':_0x1b7686}),{'description':_0x1b7686,'params':_0x35927e,'callback':_0x5a71ab=>{const _0x57a121=_0x145bb0,_0xa9f42d=Date[_0x57a121(0x6de)]();try{if(_0x33745a&&_0x33745a[_0x57a121(0xa25)]({'output':_0x57a121(0x81c),'type':'prompt'}),_0x57a121(0x395)!=typeof _0x5a71ab?.[_0x57a121(0x7ad)])throw new Error(_0x57a121(0x55b));const _0x50d853=Function(''+_0x5a71ab?.['code'])();let _0x493212='';try{_0x493212=JSON['stringify'](_0x50d853);}catch{_0x493212=_0x50d853['toString']();}return _0x21cae3['trace']({'jobType':_0x493d65[_0x57a121(0xa23)],'type':_0x64685d[_0x57a121(0x452)],'agentId':_0x3b8a47,'threadId':_0x33df09,'jobId':_0x2c793d,'blockId':_0x3969e4,'traceLevel':_0x69b2a[_0x57a121(0xa4b)],'startTime':_0xa9f42d,'timestamp':Date[_0x57a121(0x6de)](),'status':_0x57a121(0x73b),'code':_0x5a71ab[_0x57a121(0x7ad)],'result':_0x493212}),_0x50d853;}catch(_0x195fab){return console[_0x57a121(0xa29)](_0x195fab),_0x21cae3[_0x57a121(0xa76)]({'jobType':_0x493d65[_0x57a121(0xa23)],'type':_0x64685d[_0x57a121(0x452)],'jobId':_0x2c793d,'blockId':_0x3969e4,'traceLevel':_0x69b2a[_0x57a121(0xa4b)],'startTime':_0xa9f42d,'timestamp':Date[_0x57a121(0x6de)](),'status':_0x57a121(0xa29),'errorDetails':_0x4c4b0a(_0x195fab),'agentId':_0x3b8a47,'threadId':_0x33df09,'code':_0x5a71ab?.[_0x57a121(0x7ad)]??'','result':_0x57a121(0x814)}),_0x195fab instanceof Error?_0x195fab[_0x57a121(0x2d0)]:_0x57a121(0x814);}}};}(_0x49694a,_0x2469dc,_0x265c6a,_0x139f2b['id'],_0x39c87d);case _0x555fab['Search']:return function(_0x2c0768,_0x15a03e,_0x5d9aee,_0x324002,_0x4a32f2,_0x3cb380,_0x5c1479){const _0x45ad82=_0xed70c5,_0x4988e8='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x16035c={'query':{'type':_0x37e813['PromptFunctionParamsType'][_0x45ad82(0x27d)]}};return _0x21cae3['trace']({'jobType':_0x493d65['JobContext'],'type':_0x1570df[_0x45ad82(0x6e1)],'jobId':_0x2c0768,'agentId':_0x15a03e,'threadId':_0x5d9aee,'traceLevel':_0x69b2a[_0x45ad82(0xa4b)],'startTime':Date[_0x45ad82(0x6de)](),'timestamp':Date[_0x45ad82(0x6de)](),'status':_0x45ad82(0x73b),'function':_0x64685d[_0x45ad82(0x7ed)],'params':_0x16035c,'functionDescription':_0x4988e8}),{'description':_0x4988e8,'params':_0x16035c,'callback':async _0x1b9b90=>{const _0x3c66dc=_0x45ad82,_0x2b850f=Date['now']();try{if(_0x5c1479&&(await _0x255ca7[_0x3c66dc(0x3e6)](0x1),_0x5c1479[_0x3c66dc(0xa25)]({'output':_0x3c66dc(0xa24)+_0x1b9b90?.['query']+'`\x0a\x0a','type':_0x3c66dc(0xb1e)})),!_0x3cb380[_0x3c66dc(0x299)])throw new Error(_0x3c66dc(0x8b1));if(_0x3c66dc(0x395)!=typeof _0x1b9b90?.[_0x3c66dc(0x4cc)])throw new Error('Query\x20is\x20required');const _0x15f891=await _0x3cb380[_0x3c66dc(0x299)][_0x3c66dc(0x7a7)](_0x1b9b90[_0x3c66dc(0x4cc)],_0x4a32f2,_0x59f5be[_0x3c66dc(0xa4c)][_0x3c66dc(0x23e)]);let _0x9e5e8d='';for(const _0x45f6d4 of _0x15f891)_0x9e5e8d+=_0x45f6d4['title']+'\x20-\x20'+_0x45f6d4['url']+'\x0a'+_0x45f6d4[_0x3c66dc(0xaa6)]+'\x0a\x0a';return _0x21cae3['trace']({'jobType':_0x493d65[_0x3c66dc(0xa23)],'type':_0x64685d[_0x3c66dc(0x7ed)],'jobId':_0x2c0768,'agentId':_0x15a03e,'threadId':_0x5d9aee,'blockId':_0x324002,'traceLevel':_0x69b2a[_0x3c66dc(0xa4b)],'startTime':_0x2b850f,'timestamp':Date[_0x3c66dc(0x6de)](),'status':_0x3c66dc(0x73b),'query':_0x1b9b90[_0x3c66dc(0x4cc)],'results':_0x9e5e8d}),_0x9e5e8d;}catch(_0x1dc21a){return console[_0x3c66dc(0xa29)](_0x1dc21a),_0x21cae3[_0x3c66dc(0xa76)]({'jobType':_0x493d65['Skill'],'type':_0x64685d[_0x3c66dc(0x7ed)],'jobId':_0x2c0768,'blockId':_0x324002,'traceLevel':_0x69b2a[_0x3c66dc(0xa4b)],'startTime':_0x2b850f,'timestamp':Date[_0x3c66dc(0x6de)](),'status':_0x3c66dc(0xa29),'errorDetails':_0x4c4b0a(_0x1dc21a),'agentId':_0x15a03e,'threadId':_0x5d9aee,'query':_0x1b9b90?.['query']??'','results':_0x3c66dc(0x1ee)}),_0x1dc21a instanceof Error?_0x1dc21a[_0x3c66dc(0x2d0)]:'Error\x20searching';}}};}(_0x49694a,_0x2469dc,_0x265c6a,_0x139f2b['id'],_0x3c20c4[_0xed70c5(0xaf1)],_0x3c20c4,_0x39c87d);case _0x555fab[_0xed70c5(0x45c)]:return function(_0xd86a21,_0x3e0c35,_0x5aa1d5,_0x239caa,_0x42d677,_0x53b9c8,_0x29c67c){const _0x5673ed=_0xed70c5,_0x2a72f5=_0x5673ed(0x357),_0x349bfe={'query':{'type':_0x37e813[_0x5673ed(0x2aa)]['String']}};return _0x21cae3[_0x5673ed(0xa76)]({'jobType':_0x493d65[_0x5673ed(0x707)],'type':_0x1570df['LoadSkillFunction'],'jobId':_0xd86a21,'agentId':_0x3e0c35,'threadId':_0x5aa1d5,'traceLevel':_0x69b2a['Info'],'startTime':Date['now'](),'timestamp':Date[_0x5673ed(0x6de)](),'status':_0x5673ed(0x73b),'function':_0x64685d['SearchPerplexity'],'params':_0x349bfe,'functionDescription':_0x2a72f5}),{'description':_0x2a72f5,'params':_0x349bfe,'callback':async _0x8d4b8=>{const _0x55deff=_0x5673ed,_0x4a0a0c=Date['now']();try{if(_0x29c67c&&(await _0x255ca7[_0x55deff(0x3e6)](0x1),_0x29c67c[_0x55deff(0xa25)]({'output':_0x55deff(0xb28)+_0x8d4b8?.[_0x55deff(0x4cc)]+_0x55deff(0x4a4),'type':_0x55deff(0xb1e)})),!_0x53b9c8[_0x55deff(0x3a2)])throw new Error(_0x55deff(0x228));if('string'!=typeof _0x8d4b8?.['query'])throw new Error(_0x55deff(0x72e));const _0x19dc29=await _0x53b9c8[_0x55deff(0x3a2)]['search'](_0x8d4b8[_0x55deff(0x4cc)],_0x42d677);return _0x21cae3[_0x55deff(0xa76)]({'jobType':_0x493d65[_0x55deff(0xa23)],'type':_0x64685d[_0x55deff(0x54a)],'jobId':_0xd86a21,'agentId':_0x3e0c35,'threadId':_0x5aa1d5,'blockId':_0x239caa,'traceLevel':_0x69b2a[_0x55deff(0xa4b)],'startTime':_0x4a0a0c,'timestamp':Date[_0x55deff(0x6de)](),'status':_0x55deff(0x73b),'query':_0x8d4b8[_0x55deff(0x4cc)],'results':_0x19dc29}),_0x19dc29;}catch(_0x12ec83){return console[_0x55deff(0xa29)](_0x12ec83),_0x21cae3[_0x55deff(0xa76)]({'jobType':_0x493d65[_0x55deff(0xa23)],'type':_0x64685d[_0x55deff(0x54a)],'jobId':_0xd86a21,'blockId':_0x239caa,'traceLevel':_0x69b2a['Info'],'startTime':_0x4a0a0c,'timestamp':Date[_0x55deff(0x6de)](),'status':_0x55deff(0xa29),'errorDetails':_0x4c4b0a(_0x12ec83),'agentId':_0x3e0c35,'threadId':_0x5aa1d5,'query':_0x8d4b8?.[_0x55deff(0x4cc)]??'','results':'Error\x20searching'}),_0x12ec83 instanceof Error?_0x12ec83[_0x55deff(0x2d0)]:_0x55deff(0x1ee);}}};}(_0x49694a,_0x2469dc,_0x265c6a,_0x139f2b['id'],_0x3c20c4[_0xed70c5(0xa81)],_0x3c20c4,_0x39c87d);case _0x555fab['WebScraper']:return _0x21e151(_0x49694a,_0x2469dc,_0x265c6a,_0x139f2b['id'],_0x39c87d);case _0x555fab[_0xed70c5(0xacf)]:return _0x21e151(_0x49694a,_0x2469dc,_0x265c6a,_0x139f2b['id'],_0x39c87d,!0x1);}throw new Error(_0xed70c5(0x7b5));}function _0x21e151(_0x4bc2d6,_0xd8c1aa,_0xf507c0,_0x48fde6,_0x4c90fa,_0x318ab1=!0x0){const _0x27392a=_0x3035df,_0x5ec294='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x585b4f={'url':{'type':_0x37e813[_0x27392a(0x2aa)][_0x27392a(0x27d)]},'page':{'type':_0x37e813['PromptFunctionParamsType'][_0x27392a(0x8ee)]}};return _0x21cae3[_0x27392a(0xa76)]({'jobType':_0x493d65['JobContext'],'type':_0x1570df[_0x27392a(0x6e1)],'jobId':_0x4bc2d6,'agentId':_0xd8c1aa,'threadId':_0xf507c0,'traceLevel':_0x69b2a['Info'],'startTime':Date['now'](),'timestamp':Date[_0x27392a(0x6de)](),'status':_0x27392a(0x73b),'function':_0x64685d[_0x27392a(0x706)],'params':_0x585b4f,'functionDescription':_0x5ec294}),{'description':_0x5ec294,'params':_0x585b4f,'callback':async _0x13ee83=>{const _0x5b2c54=_0x27392a,_0x2538f1=Date[_0x5b2c54(0x6de)]();try{if(_0x4c90fa&&(await _0x255ca7[_0x5b2c54(0x3e6)](0x1),_0x4c90fa[_0x5b2c54(0xa25)]({'output':_0x5b2c54(0x596)+_0x13ee83?.['url']+_0x5b2c54(0x4a4),'type':'prompt'})),_0x5b2c54(0x395)!=typeof _0x13ee83?.[_0x5b2c54(0x35f)])throw new Error(_0x5b2c54(0x8ec));const _0x7dc9ad=_0x13ee83['url'];if([_0x5b2c54(0x769),_0x5b2c54(0x831),_0x5b2c54(0x5f8),_0x5b2c54(0x352),_0x5b2c54(0xac7),_0x5b2c54(0x948),'.xlsx'][_0x5b2c54(0x966)](_0x1f0263=>_0x7dc9ad['endsWith'](_0x1f0263)))throw new Error(_0x5b2c54(0x830));const _0x1e8a8c=await fetch(_0x7dc9ad),_0x1c7723=await _0x1e8a8c['text']();let _0x1099b2=_0x1c7723;if(_0x318ab1){const _0x3174f2=_0x1c7723['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x4ea784=_0x3174f2?_0x3174f2[0x1]:_0x1c7723,_0x4c6795=_0x4ea784[_0x5b2c54(0x471)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x5b2c54(0x471)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')['replace'](/<br\s*\/?>/gi,'\x20')[_0x5b2c54(0x471)](/&nbsp;/g,'\x20');_0x1099b2=_0x4c6795[_0x5b2c54(0x471)](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')['trim']();}const _0x5f3e26=_0x5b2c54(0x483)==typeof _0x13ee83['page']?_0x13ee83[_0x5b2c54(0xa8a)]:0x1,_0x525be0=Math[_0x5b2c54(0x5b7)](_0x1099b2['length']/_0x20816c);return _0x1099b2[_0x5b2c54(0x68c)]>_0x20816c&&(_0x1099b2=_0x1099b2['substring']((_0x5f3e26-0x1)*_0x20816c,(_0x5f3e26-0x1)*_0x20816c+_0x20816c)+'More\x20content\x20available\x20on\x20page\x20'+(_0x5f3e26+0x1)+_0x5b2c54(0x519)+_0x525be0+'.'),_0x21cae3['trace']({'jobType':_0x493d65[_0x5b2c54(0xa23)],'type':_0x64685d[_0x5b2c54(0x706)],'jobId':_0x4bc2d6,'agentId':_0xd8c1aa,'threadId':_0xf507c0,'blockId':_0x48fde6,'traceLevel':_0x69b2a[_0x5b2c54(0xa4b)],'startTime':_0x2538f1,'timestamp':Date[_0x5b2c54(0x6de)](),'status':_0x1e8a8c['ok']?'success':_0x5b2c54(0xa29),'url':_0x13ee83[_0x5b2c54(0x35f)],'page':_0x5f3e26,'totalPages':_0x525be0,'response':_0x1099b2}),_0x1099b2;}catch(_0x180607){console[_0x5b2c54(0xa29)](_0x180607);const _0x4488c0=_0x180607 instanceof Error?_0x180607[_0x5b2c54(0x2d0)]:_0x5b2c54(0x624);return _0x21cae3[_0x5b2c54(0xa76)]({'jobType':_0x493d65[_0x5b2c54(0xa23)],'type':_0x64685d[_0x5b2c54(0x706)],'jobId':_0x4bc2d6,'blockId':_0x48fde6,'threadId':_0xf507c0,'traceLevel':_0x69b2a[_0x5b2c54(0xa4b)],'startTime':_0x2538f1,'timestamp':Date['now'](),'agentId':_0xd8c1aa,'status':_0x5b2c54(0xa29),'errorDetails':_0x4c4b0a(_0x180607),'url':_0x13ee83?.[_0x5b2c54(0x35f)]??'','page':0x0,'totalPages':0x0,'response':_0x4488c0}),_0x4488c0;}}};}function _0x1298ef(_0x273b73,_0x4490fc,_0x231594,_0x2b699c,_0x4f837c,_0x14c693){const _0x5d92d4=_0x3035df,_0x1970eb={};for(const _0x211b6b of _0x2b699c['parameters'])switch(_0x211b6b[_0x5d92d4(0x48b)]){case _0x5d92d4(0x395):case'json':_0x1970eb[_0x211b6b[_0x5d92d4(0x72a)]]={'type':_0x37e813[_0x5d92d4(0x2aa)][_0x5d92d4(0x27d)]};break;case _0x5d92d4(0x483):_0x1970eb[_0x211b6b[_0x5d92d4(0x72a)]]={'type':_0x37e813[_0x5d92d4(0x2aa)]['Number']};break;case _0x5d92d4(0x7cb):_0x1970eb[_0x211b6b['name']]={'type':_0x37e813[_0x5d92d4(0x2aa)]['Boolean']};}return _0x21cae3[_0x5d92d4(0xa76)]({'jobType':_0x493d65[_0x5d92d4(0x707)],'type':_0x1570df['LoadSkillFunction'],'jobId':_0x273b73,'agentId':_0x4490fc,'threadId':_0x231594,'traceLevel':_0x69b2a['Info'],'startTime':Date[_0x5d92d4(0x6de)](),'timestamp':Date['now'](),'status':_0x5d92d4(0x73b),'function':_0x64685d['ExecuteCustomSkill'],'params':_0x1970eb,'functionDescription':_0x2b699c['description']}),{'description':_0x5d92d4(0x5ce)+_0x2b699c[_0x5d92d4(0x983)],'params':_0x1970eb,'callback':async _0x27b421=>{const _0x20c45e=_0x5d92d4,_0x37a6ed=Date[_0x20c45e(0x6de)]();try{if(_0x14c693&&(await _0x255ca7['wait'](0x1),_0x14c693[_0x20c45e(0xa25)]({'output':_0x20c45e(0x7f5)+_0x2b699c[_0x20c45e(0x72a)]+_0x20c45e(0x4a4),'type':_0x20c45e(0xb1e)})),!_0x27b421)throw new Error('No\x20parameters\x20provided');for(const _0x4dc0ae of _0x2b699c[_0x20c45e(0x58d)]){if(void 0x0===_0x27b421[_0x4dc0ae[_0x20c45e(0x72a)]])throw new Error(_0x20c45e(0x3ed)+_0x4dc0ae[_0x20c45e(0x72a)]+_0x20c45e(0x4be));if(_0x20c45e(0x395)===_0x4dc0ae[_0x20c45e(0x48b)]&&_0x20c45e(0x395)!=typeof _0x27b421[_0x4dc0ae[_0x20c45e(0x72a)]])throw new Error(_0x20c45e(0x3ed)+_0x4dc0ae['name']+_0x20c45e(0x9e4));if(_0x20c45e(0x483)===_0x4dc0ae[_0x20c45e(0x48b)]&&_0x20c45e(0x483)!=typeof _0x27b421[_0x4dc0ae[_0x20c45e(0x72a)]])throw new Error('Parameter\x20'+_0x4dc0ae[_0x20c45e(0x72a)]+'\x20must\x20be\x20a\x20number');if(_0x20c45e(0x7cb)===_0x4dc0ae[_0x20c45e(0x48b)]&&_0x20c45e(0x7cb)!=typeof _0x27b421[_0x4dc0ae[_0x20c45e(0x72a)]])throw new Error(_0x20c45e(0x3ed)+_0x4dc0ae[_0x20c45e(0x72a)]+'\x20must\x20be\x20a\x20boolean');if(_0x20c45e(0xab9)===_0x4dc0ae[_0x20c45e(0x48b)]&&_0x20c45e(0x395)!=typeof _0x27b421[_0x4dc0ae[_0x20c45e(0x72a)]])throw new Error(_0x20c45e(0x3ed)+_0x4dc0ae[_0x20c45e(0x72a)]+'\x20must\x20be\x20a\x20string');if(_0x20c45e(0xab9)===_0x4dc0ae[_0x20c45e(0x48b)])try{_0x27b421[_0x4dc0ae[_0x20c45e(0x72a)]]=JSON[_0x20c45e(0x50b)](_0x27b421[_0x4dc0ae['name']]);}catch{throw new Error(_0x20c45e(0x3ed)+_0x4dc0ae['name']+_0x20c45e(0x7fc));}}const _0xc5f9a8={};for(const _0x1321b7 of _0x2b699c[_0x20c45e(0x565)]){let _0x421d22=_0x1321b7['value'];_0x421d22[_0x20c45e(0x3b5)](/\$[a-zA-Z0-9]+/)&&(_0x421d22=_0x421d22[_0x20c45e(0x471)](/\$[a-zA-Z0-9]+/g,_0x4be37c=>{const _0x124c7f=_0x20c45e,_0x492b92=_0x4be37c[_0x124c7f(0x3c5)](0x1);return _0x27b421[_0x492b92];})),_0xc5f9a8[_0x1321b7[_0x20c45e(0x72a)]]=_0x421d22;}const _0x4d19b1=new URLSearchParams();for(const _0x2365b8 of _0x2b699c[_0x20c45e(0x4d4)]){let _0x5e426f=_0x2365b8[_0x20c45e(0x90d)];if(_0x20c45e(0x395)==typeof _0x5e426f&&_0x5e426f[_0x20c45e(0x569)]('$')){const _0x542d51=_0x5e426f[_0x20c45e(0x3c5)](0x1);_0x5e426f=_0x27b421[_0x542d51];}if(_0x20c45e(0x395)==typeof _0x5e426f&&_0x5e426f[_0x20c45e(0x569)](_0x20c45e(0x2ff))){const _0x2a9e74=_0x5e426f[_0x20c45e(0x471)]('@context.','');if(_0x2b699c['accumulated'],_0x5e426f=_0x2b699c[_0x20c45e(0x842)]?.[_0x20c45e(0x4cd)]?.[_0x2a9e74],_0x20c45e(0x395)==typeof _0x5e426f&&_0x5e426f[_0x20c45e(0x569)]('{')&&_0x5e426f['endsWith']('}'))try{_0x5e426f=JSON[_0x20c45e(0x50b)](_0x5e426f);}catch{}}_0x20c45e(0x395)==typeof _0x5e426f&&_0x5e426f[_0x20c45e(0x569)]('[')&&_0x5e426f[_0x20c45e(0x442)](']')&&(_0x5e426f=_0x5e426f[_0x20c45e(0x3c5)](0x1,-0x1)[_0x20c45e(0x27a)](',')),_0x4d19b1[_0x20c45e(0xb14)](_0x2365b8[_0x20c45e(0x72a)],_0x5e426f);}let _0x340359=_0x2b699c['endpointUrl'];_0x4d19b1[_0x20c45e(0xadc)]>0x0&&(_0x340359+='?'+_0x4d19b1[_0x20c45e(0xb10)]());let _0x1a1d96={};for(const _0xcd7f3a of _0x2b699c['bodyParameters']){let _0x11109f=_0xcd7f3a[_0x20c45e(0x90d)];if(_0x20c45e(0x395)==typeof _0x11109f&&_0x11109f[_0x20c45e(0x569)]('$')){const _0x27956d=_0x11109f['slice'](0x1);_0x11109f=_0x27b421[_0x27956d];}if(_0x20c45e(0x395)==typeof _0x11109f&&_0x11109f['startsWith']('@context.')){const _0x32b6c4=_0x11109f['replace'](_0x20c45e(0x2ff),'');if(_0x11109f=_0x2b699c[_0x20c45e(0x842)]?.[_0x20c45e(0x4cd)]?.[_0x32b6c4],_0x20c45e(0x395)==typeof _0x11109f&&_0x11109f[_0x20c45e(0x569)]('{')&&_0x11109f[_0x20c45e(0x442)]('}'))try{_0x11109f=JSON[_0x20c45e(0x50b)](_0x11109f);}catch{}}if(_0x20c45e(0x395)==typeof _0x11109f&&_0x11109f[_0x20c45e(0x569)]('[')&&_0x11109f[_0x20c45e(0x442)](']')&&(_0x11109f=_0x11109f['slice'](0x1,-0x1)['split'](',')),_0x20c45e(0xaa5)===_0xcd7f3a[_0x20c45e(0x72a)]){const _0x839f69=_0x11109f[_0x20c45e(0x3b5)](/```html(.*)```/s);_0x839f69&&(_0x11109f=_0x839f69[0x1]),_0x11109f=_0x11109f['replace'](/\n/g,''),_0x11109f=_0x11109f[_0x20c45e(0x471)](/'/g,'\x22'),_0x1a1d96=_0x11109f;break;}if(-0x1===_0xcd7f3a[_0x20c45e(0x72a)]['indexOf']('.'))_0x1a1d96[_0xcd7f3a[_0x20c45e(0x72a)]]=_0x11109f;else{const [_0x34ef89,_0x45ca4b]=_0xcd7f3a['name'][_0x20c45e(0x27a)]('.');_0x1a1d96[_0x34ef89]||(_0x1a1d96[_0x34ef89]={}),_0x1a1d96[_0x34ef89][_0x45ca4b]=_0x11109f;}}const _0x14cf35=await fetch(_0x340359,{'method':_0x2b699c[_0x20c45e(0x94c)],'headers':_0xc5f9a8,'body':_0x20c45e(0x395)==typeof _0x1a1d96?_0x1a1d96:JSON[_0x20c45e(0x83d)](_0x1a1d96)});if(_0x14cf35['ok']){let _0x539cd3=await _0x14cf35['json']();return _0x2b699c[_0x20c45e(0x8d0)]&&(_0x539cd3=await function(_0x337d91,_0xcb3bc1){return new Promise((_0x502185,_0x191b1c)=>{const _0x5c1480=_0x255ca7['setInterval'](async()=>{const _0x5efb37=a0_0x4922;try{if(!_0x337d91[_0x5efb37(0x2a5)]||!_0x337d91[_0x5efb37(0x70d)])throw new Error(_0x5efb37(0x416));const _0x27392d={};if(_0x337d91['asyncHeaders']){for(const _0x48c411 of _0x337d91[_0x5efb37(0xac6)])_0x27392d[_0x48c411[_0x5efb37(0x72a)]]=_0x48c411[_0x5efb37(0x90d)];}const _0x304ead=_0x337d91[_0x5efb37(0x2a5)][_0x5efb37(0x471)]('@id',_0xcb3bc1),_0x460f60=await fetch(_0x304ead,{'method':_0x337d91[_0x5efb37(0x70d)],'headers':_0x27392d});if(0xc8===_0x460f60['status']){const _0x2c7a38=await _0x460f60[_0x5efb37(0xab9)]();_0x5c1480(),_0x502185(_0x2c7a38);}_0x460f60[_0x5efb37(0x82b)]>=0x190&&(console[_0x5efb37(0xa29)](_0x460f60[_0x5efb37(0x8d3)]),_0x5c1480(),_0x191b1c(new Error(_0x460f60[_0x5efb37(0x8d3)])));}catch(_0x139568){console['error'](_0x139568),_0x5c1480(),_0x191b1c(_0x139568);}},_0x25c7b3);});}(_0x2b699c,_0x539cd3['id'])),'string'!=typeof _0x539cd3&&(_0x539cd3=JSON[_0x20c45e(0x83d)](_0x539cd3)),_0x21cae3[_0x20c45e(0xa76)]({'jobType':_0x493d65[_0x20c45e(0xa23)],'type':_0x64685d[_0x20c45e(0x98e)],'jobId':_0x273b73,'agentId':_0x4490fc,'threadId':_0x231594,'blockId':_0x2b699c['id'],'traceLevel':_0x69b2a['Info'],'startTime':_0x37a6ed,'timestamp':Date[_0x20c45e(0x6de)](),'status':_0x20c45e(0x73b),'skillName':_0x2b699c[_0x20c45e(0x72a)],'params':_0x27b421,'result':_0x539cd3}),_0x2b699c[_0x20c45e(0x70f)]?.[_0x20c45e(0x966)](_0x45b5fa=>_0x45b5fa[_0x20c45e(0x48b)]===_0x338075['Context'])?(_0x32c6d1(_0x539cd3,_0x2b699c,_0x4f837c),_0x20c45e(0x2e4)):_0x539cd3;}throw new Error(_0x14cf35['statusText']);}catch(_0x518f40){console['error'](_0x518f40);const _0x1bf8e6=_0x518f40 instanceof Error?_0x518f40[_0x20c45e(0x2d0)]:_0x20c45e(0x624);return _0x21cae3[_0x20c45e(0xa76)]({'jobType':_0x493d65[_0x20c45e(0xa23)],'type':_0x64685d['ExecuteCustomSkill'],'jobId':_0x273b73,'blockId':_0x2b699c['id'],'threadId':_0x231594,'traceLevel':_0x69b2a['Info'],'startTime':_0x37a6ed,'timestamp':Date[_0x20c45e(0x6de)](),'agentId':_0x4490fc,'status':_0x20c45e(0xa29),'skillName':_0x2b699c[_0x20c45e(0x72a)],'params':_0x27b421??{},'result':_0x1bf8e6}),_0x1bf8e6;}}};}function _0x4c4b0a(_0x410867){const _0xb1c777=_0x3035df;try{return JSON[_0xb1c777(0x83d)](_0x410867);}catch(_0x147d70){return _0x410867 instanceof Error?_0x410867[_0xb1c777(0xb10)]():'Error\x20fetching\x20context';}}async function _0x38e8dc(_0xa3199b,_0xe6c8f4,_0x4aa223,_0x2075c3,_0x15b56b,_0x373d47,_0x37184a,_0x24d319,_0x4920fe){const _0x13dd55=_0x3035df;if(_0x373d47[_0x13dd55(0x842)]||(_0x373d47[_0x13dd55(0x842)]={}),_0xe6c8f4===_0x338075[_0x13dd55(0x720)]&&'string'==typeof _0x4aa223&&(_0x373d47['accumulated'][_0x13dd55(0xb1e)]=_0x4aa223),_0x373d47[_0x13dd55(0x340)]=_0x373d47['timesCalled']?_0x373d47[_0x13dd55(0x340)]+0x1:0x1,_0x1f9e5c(_0x373d47,_0x37184a)>_0x373d47['timesCalled'])return;if(_0x5cdff6[_0x13dd55(0x49d)](_0x13dd55(0x3ab)+_0x373d47[_0x13dd55(0x72a)],_0x373d47[_0x13dd55(0x340)]),!_0x373d47[_0x13dd55(0x842)]['prompt'])throw new Error(_0x13dd55(0xb20)+_0x373d47['name']);const _0x3312f0=_0x24d319[_0x13dd55(0x22f)][_0x13dd55(0x85d)](_0x472a2a=>_0x472a2a['id']===_0x373d47['modelId']);if(!_0x3312f0)throw new Error(_0x13dd55(0x5c5));if(!_0x24d319['generativeAIWorkerConnectors']['find'](_0x327025=>_0x327025[_0x13dd55(0x3de)]()===_0x3312f0[_0x13dd55(0x77a)]))throw new Error('No\x20connector\x20found\x20for\x20model');_0x4920fe&&_0x4920fe[_0x13dd55(0xa25)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x373d47[_0x13dd55(0x72a)]+'`\x0a\x0a','type':'prompt'});const _0x1b0985=Date[_0x13dd55(0x6de)](),_0x433380=(0x0,_0x5b15a5['v4'])(),_0x4042dc=_0x4920fe?await async function(_0x35446d,_0x3a1ecc,_0x5380d2,_0x1be21d,_0x3d5dc3,_0x419848,_0x147b59,_0xc65e96){const _0x3dfc56=_0x13dd55,_0xa9a659=_0xc65e96[_0x3dfc56(0x22f)][_0x3dfc56(0x85d)](_0x4f86fc=>_0x4f86fc['id']===_0x3d5dc3[_0x3dfc56(0x750)]);if(!_0xa9a659)throw new Error(_0x3dfc56(0x5c5));const _0x2b5d64=_0xc65e96[_0x3dfc56(0x6b1)][_0x3dfc56(0x85d)](_0x2fbea0=>_0x2fbea0[_0x3dfc56(0x3de)]()===_0xa9a659[_0x3dfc56(0x77a)]);if(!_0x2b5d64)throw new Error('No\x20connector\x20found\x20for\x20model');if(!_0x3d5dc3[_0x3dfc56(0x842)]||!_0x3d5dc3['accumulated'][_0x3dfc56(0xb1e)])throw new Error(_0x3dfc56(0x25c));let _0xc397d0=_0x3d5dc3[_0x3dfc56(0x842)][_0x3dfc56(0xb1e)];if(_0x3d5dc3[_0x3dfc56(0x842)]['context'])for(const _0x4080e9 of Object[_0x3dfc56(0x75b)](_0x3d5dc3[_0x3dfc56(0x842)][_0x3dfc56(0x4cd)])){const _0xf5db52=_0x3d5dc3[_0x3dfc56(0x842)][_0x3dfc56(0x4cd)][_0x4080e9];_0xc397d0=_0xf5db52 instanceof Array?_0x3dfc56(0x8d8)+_0x4080e9+_0x3dfc56(0x4b9)+_0xf5db52[_0x3dfc56(0x207)](_0x29e23f=>_0x3dfc56(0x91e)+_0x29e23f[_0x3dfc56(0x2cf)]+':\x20'+_0x29e23f[_0x3dfc56(0x1f0)])['join']('\x0a\x0a')+'\x0a\x0a'+_0xc397d0:_0x3dfc56(0x298)+_0x4080e9+':\x20'+_0xf5db52+'\x0a\x0a'+_0xc397d0;}const _0xa66dfe={'type':_0x3dfc56(0xb1e),'output':''};for await(const _0x30e4f0 of _0x2b5d64[_0x3dfc56(0x6d0)]({'type':_0x5380d2[_0x3dfc56(0x48b)],'prompt':_0xc397d0,'instructions':''+_0x3d5dc3[_0x3dfc56(0xaf5)]+(_0x5380d2[_0x3dfc56(0xaf5)]??''),'grammar':_0x3d5dc3['grammar'],'temperature':_0x3d5dc3[_0x3dfc56(0x947)],'maxTokens':_0x3d5dc3[_0x3dfc56(0x4aa)],'history':_0x5380d2[_0x3dfc56(0x828)],'functions':_0x25cef2(_0x35446d,_0x3a1ecc,_0x5380d2[_0x3dfc56(0x85e)],_0x1be21d,_0x3d5dc3,_0x419848,_0xc65e96,_0x147b59),'threadId':_0x5380d2[_0x3dfc56(0x85e)]},{'model':_0xa9a659,'sequences':0x2}))_0x3d5dc3[_0x3dfc56(0x70f)]&&_0x3d5dc3[_0x3dfc56(0x70f)][_0x3dfc56(0x966)](_0x55a468=>{const _0x202db9=_0x3dfc56,_0x5441a9=_0x419848[_0x202db9(0x85d)](_0x2983c0=>_0x2983c0[_0x202db9(0x986)]===_0x55a468[_0x202db9(0x986)]);return!!_0x5441a9&&_0x55a468[_0x202db9(0x48b)]===_0x338075['Text']&&_0x5441a9[_0x202db9(0x48b)]===_0x555fab[_0x202db9(0x310)];})&&_0x147b59[_0x3dfc56(0xa25)](_0x30e4f0),_0x3dfc56(0x395)==typeof _0xa66dfe[_0x3dfc56(0x757)]&&'string'==typeof _0x30e4f0[_0x3dfc56(0x757)]&&(_0xa66dfe['output']+=_0x30e4f0['output']),_0xa66dfe[_0x3dfc56(0x3e7)]=_0x30e4f0[_0x3dfc56(0x3e7)],_0xa66dfe['outputTokens']=_0x30e4f0[_0x3dfc56(0x3b9)];return _0xa66dfe;}(_0xa3199b,_0x433380,_0x2075c3,_0x15b56b,_0x373d47,_0x37184a,_0x4920fe,_0x24d319):await async function(_0x2ee528,_0xf9b6da,_0x3747a8,_0x407cdb,_0x2356a5,_0x3fa013,_0x137310){const _0x53c9ac=_0x13dd55,_0xb92cb9=_0x137310[_0x53c9ac(0x22f)][_0x53c9ac(0x85d)](_0x27523f=>_0x27523f['id']===_0x2356a5[_0x53c9ac(0x750)]);if(!_0xb92cb9)throw new Error(_0x53c9ac(0x5c5));const _0x557acd=_0x137310[_0x53c9ac(0x6b1)]['find'](_0x2c452d=>_0x2c452d[_0x53c9ac(0x3de)]()===_0xb92cb9[_0x53c9ac(0x77a)]);if(!_0x557acd)throw new Error(_0x53c9ac(0xaa4));if(!_0x2356a5[_0x53c9ac(0x842)]||!_0x2356a5[_0x53c9ac(0x842)][_0x53c9ac(0xb1e)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data');let _0x5aeb1d=_0x2356a5[_0x53c9ac(0x842)]['prompt'];if(_0x2356a5[_0x53c9ac(0x842)][_0x53c9ac(0x4cd)])for(const _0x6c42d6 of Object[_0x53c9ac(0x75b)](_0x2356a5[_0x53c9ac(0x842)][_0x53c9ac(0x4cd)])){const _0x3ee883=_0x2356a5['accumulated'][_0x53c9ac(0x4cd)][_0x6c42d6];_0x5aeb1d=_0x3ee883 instanceof Array?_0x53c9ac(0x8d8)+_0x6c42d6+_0x53c9ac(0x4b9)+_0x3ee883[_0x53c9ac(0x207)](_0x11f43a=>_0x53c9ac(0x91e)+_0x11f43a['pathName']+':\x20'+_0x11f43a[_0x53c9ac(0x1f0)])[_0x53c9ac(0x95b)]('\x0a\x0a')+'\x0a\x0a'+_0x5aeb1d:'Given\x20'+_0x6c42d6+':\x20'+_0x3ee883+'\x0a\x0a'+_0x5aeb1d;}return _0x557acd[_0x53c9ac(0x273)]({'type':_0x53c9ac(0xb1e),'prompt':_0x2356a5['accumulated'][_0x53c9ac(0xb1e)],'instructions':''+_0x2356a5[_0x53c9ac(0xaf5)]+(_0x3747a8['instructions']??''),'grammar':_0x2356a5[_0x53c9ac(0x556)],'temperature':_0x2356a5[_0x53c9ac(0x947)],'maxTokens':_0x2356a5[_0x53c9ac(0x4aa)],'history':_0x3747a8[_0x53c9ac(0x828)],'functions':_0x25cef2(_0x2ee528,_0xf9b6da,_0x3747a8['threadId'],_0x407cdb,_0x2356a5,_0x3fa013,_0x137310),'threadId':_0x3747a8['threadId']},{'model':_0xb92cb9,'sequences':0x2});}(_0xa3199b,_0x433380,_0x2075c3,_0x15b56b,_0x373d47,_0x37184a,_0x24d319);if('string'!=typeof _0x4042dc[_0x13dd55(0x757)])throw new Error(_0x13dd55(0x37c));_0x15b56b['inputTokens']+=_0x4042dc[_0x13dd55(0x3e7)]??0x0,_0x15b56b['outputTokens']+=_0x4042dc[_0x13dd55(0x3b9)]??0x0,_0x21cae3[_0x13dd55(0xa76)]({'jobType':_0x493d65['Workflow'],'type':_0x20e65b[_0x13dd55(0x33b)],'jobId':_0xa3199b,'agentId':_0x433380,'threadId':_0x2075c3[_0x13dd55(0x85e)],'traceLevel':_0x69b2a[_0x13dd55(0xa4b)],'startTime':_0x1b0985,'timestamp':Date[_0x13dd55(0x6de)](),'blockId':_0x373d47['id'],'status':_0x13dd55(0x73b),'output':_0x4042dc[_0x13dd55(0x757)],'prompt':_0x373d47[_0x13dd55(0x842)][_0x13dd55(0xb1e)],'agentName':_0x373d47[_0x13dd55(0x72a)],'history':[],'instructions':''+_0x373d47[_0x13dd55(0xaf5)]+(_0x2075c3[_0x13dd55(0xaf5)]??''),'ragContext':_0x4042dc[_0x13dd55(0x4cd)]??[],'inputTokens':_0x4042dc['inputTokens']??0x0,'outputTokens':_0x4042dc['outputTokens']??0x0}),_0x32c6d1(_0x4042dc[_0x13dd55(0x757)],_0x373d47,_0x37184a),await _0x929613(_0xa3199b,_0x4042dc[_0x13dd55(0x757)],_0x2075c3,_0x15b56b,_0x373d47,_0x37184a,_0x24d319,_0x4920fe);}function _0x240cf2(_0x13118f,_0x681a0d,_0x573c37){const _0x1e897c=_0x3035df;_0x573c37[_0x1e897c(0x842)]||(_0x573c37[_0x1e897c(0x842)]={}),_0x573c37['accumulated'][_0x1e897c(0x4cd)]||(_0x573c37[_0x1e897c(0x842)][_0x1e897c(0x4cd)]={});const _0x82806b=_0x573c37[_0x1e897c(0x83b)]?.['split'](',');_0x82806b&&_0x82806b['includes'](_0x13118f)&&(_0x573c37[_0x1e897c(0x842)][_0x1e897c(0x4cd)][_0x13118f]=_0x681a0d);}function _0x23faf6(_0x3c43fd,_0x1fba29,_0xbd71a8,_0x45afdd){const _0x3e68fa=_0x3035df;_0x3c43fd===_0x338075[_0x3e68fa(0x5aa)]&&(_0x45afdd[_0x3e68fa(0x842)]||(_0x45afdd['accumulated']={}),_0x45afdd[_0x3e68fa(0x842)]['context']||(_0x45afdd['accumulated']['context']={}),_0x45afdd['accumulated'][_0x3e68fa(0x4cd)][_0x1fba29]=_0xbd71a8);}async function _0x42b193(_0x56fb55,_0xf75daa,_0x455e18,_0x478efb,_0x1cdc9c,_0xafd08e,_0x5f09d6,_0x101a1c){const _0x4a3858=function(_0xac492b,_0x55695a){const _0x340802=a0_0x4922,_0x354814=[];for(let _0x4492bd=0x0;_0x4492bd<_0xac492b[_0x340802(0x68c)];_0x4492bd+=_0x55695a[_0x340802(0x7b4)][_0x340802(0xadc)]){let _0x325d50=_0x4492bd-_0x55695a['attributes'][_0x340802(0xaed)];_0x325d50<0x0&&(_0x325d50=0x0);let _0x41e7a3=_0x4492bd+_0x55695a['attributes'][_0x340802(0xadc)]+_0x55695a['attributes'][_0x340802(0xaed)];_0x41e7a3>_0xac492b['length']&&(_0x41e7a3=_0xac492b['length']),length||(length=_0x4492bd+_0x55695a[_0x340802(0x7b4)][_0x340802(0xadc)],length>_0xac492b[_0x340802(0x68c)]&&(length=_0xac492b[_0x340802(0x68c)])),_0x354814[_0x340802(0x343)](_0xac492b[_0x340802(0x590)](_0x325d50,_0x41e7a3));}return _0x354814;}(_0xf75daa,_0x1cdc9c);await _0x929613(_0x56fb55,_0x4a3858,_0x455e18,_0x478efb,_0x1cdc9c,_0xafd08e,_0x5f09d6,_0x101a1c);}function _0x56d729(_0x3b68ce,_0x661ee6,_0x5317d9){const _0x15e18d=_0x3035df;_0x5317d9['accumulated']||(_0x5317d9['accumulated']={}),_0x5317d9[_0x15e18d(0x842)][_0x15e18d(0x4cd)]||(_0x5317d9[_0x15e18d(0x842)][_0x15e18d(0x4cd)]={}),_0x5317d9[_0x15e18d(0x842)][_0x15e18d(0x4cd)][_0x3b68ce]=_0x661ee6;}async function _0x2f6d20(_0x1fff8e,_0x2dc290,_0xefb89e,_0x297bba,_0x43a079,_0x556f50,_0x41df7a,_0x5a5285){const _0x5c1785=_0x3035df;if(_0x43a079[_0x5c1785(0x842)]||(_0x43a079[_0x5c1785(0x842)]={}),_0x43a079[_0x5c1785(0x842)][_0x5c1785(0x996)]||(_0x43a079[_0x5c1785(0x842)][_0x5c1785(0x996)]=[]),_0x2dc290 instanceof Array?_0x43a079[_0x5c1785(0x842)]['queries'][_0x5c1785(0x343)](..._0x2dc290):_0x43a079[_0x5c1785(0x842)]['queries'][_0x5c1785(0x343)](_0x2dc290),_0x43a079[_0x5c1785(0x340)]=_0x43a079[_0x5c1785(0x340)]?_0x43a079[_0x5c1785(0x340)]+0x1:0x1,_0x1f9e5c(_0x43a079,_0x556f50)>_0x43a079[_0x5c1785(0x340)])return;if(0x0===_0x43a079[_0x5c1785(0x842)][_0x5c1785(0x996)][_0x5c1785(0x68c)])throw new Error(_0x5c1785(0x9f7));let _0x5e5096=[];const _0x49011f=Date['now']();try{let _0x3ef6b1=0x0,_0x4b301e=0x0;for(const _0x3e3ff3 of _0x43a079[_0x5c1785(0x842)][_0x5c1785(0x996)]){const _0x50a521=_0x43a079[_0x5c1785(0x809)][_0x5c1785(0x85d)](_0x15eee2=>_0x15eee2[_0x5c1785(0x48b)]===_0x27169c[_0x5c1785(0x2de)]),_0x3a26d8=await _0x296d1b(_0x1fff8e,_0xefb89e[_0x5c1785(0x85e)],_0x3e3ff3,_0x50a521,_0x43a079[_0x5c1785(0x809)],_0x41df7a);_0x5e5096=Array[_0x5c1785(0x6a1)](new Set([..._0x5e5096,..._0x3a26d8['context']])),_0x3ef6b1+=_0x3a26d8[_0x5c1785(0x3e7)]??0x0,_0x4b301e+=_0x3a26d8['outputTokens']??0x0;}_0x297bba[_0x5c1785(0x3e7)]+=_0x3ef6b1,_0x297bba[_0x5c1785(0x3b9)]+=_0x4b301e,_0x297bba[_0x5c1785(0x4cd)]=Array[_0x5c1785(0x6a1)](new Set([..._0x297bba[_0x5c1785(0x4cd)],..._0x5e5096])),_0x21cae3['trace']({'jobType':_0x493d65[_0x5c1785(0xb22)],'type':_0x20e65b[_0x5c1785(0x22e)],'jobId':_0x1fff8e,'threadId':_0xefb89e[_0x5c1785(0x85e)],'traceLevel':_0x69b2a[_0x5c1785(0xa4b)],'startTime':_0x49011f,'timestamp':Date[_0x5c1785(0x6de)](),'blockId':_0x43a079['id'],'status':_0x5c1785(0x73b),'queries':_0x43a079[_0x5c1785(0x842)][_0x5c1785(0x996)],'context':_0x5e5096,'inputTokens':_0x3ef6b1,'outputTokens':_0x4b301e});}catch(_0x41acd4){console[_0x5c1785(0xa29)](_0x41acd4),_0x21cae3[_0x5c1785(0xa76)]({'jobType':_0x493d65[_0x5c1785(0xb22)],'type':_0x20e65b['DataCollection'],'jobId':_0x1fff8e,'threadId':_0xefb89e[_0x5c1785(0x85e)],'traceLevel':_0x69b2a[_0x5c1785(0xa4b)],'startTime':_0x49011f,'timestamp':Date[_0x5c1785(0x6de)](),'blockId':_0x43a079['id'],'status':'error','queries':_0x43a079[_0x5c1785(0x842)][_0x5c1785(0x996)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x32c6d1(_0x5e5096,_0x43a079,_0x556f50),await _0x929613(_0x1fff8e,_0x5e5096,_0xefb89e,_0x297bba,_0x43a079,_0x556f50,_0x41df7a,_0x5a5285);}async function _0x4848d6(_0x4569c5,_0x2e137b,_0x5bacd3,_0xc44403,_0x527fb5,_0x3b1dca,_0x19da68,_0x390037){const _0x340bc5=_0x3035df,_0x5d35c8=await _0x19da68[_0x340bc5(0x47e)][_0x340bc5(0x34d)](_0x2e137b);await _0x929613(_0x4569c5,_0x5d35c8,_0x5bacd3,_0xc44403,_0x527fb5,_0x3b1dca,_0x19da68,_0x390037);}async function _0x1922ec(_0x10aac4,_0x505f0a,_0x4aad52,_0x4f1dbd,_0x2ee428,_0x4f07e6,_0x16e329,_0x40027f){const _0x50a7ab=function(_0x2de240,_0x223c69){const _0x23012e=a0_0x4922,_0x18107b=[],_0x2fcd2d=_0x2de240['split']('\x20');let _0x3f56d3='',_0x5f09b5=0x0,_0x457ba5=0x0,_0x5a90b2=0x0;for(const _0x573b20 of _0x2fcd2d){if(_0x3f56d3[_0x23012e(0x68c)]+_0x573b20[_0x23012e(0x68c)]>_0x223c69[_0x23012e(0x7b4)][_0x23012e(0xadc)]){let _0x26d235=_0x5f09b5,_0x479359='';for(;_0x26d235>=0x0&&_0x479359[_0x23012e(0x68c)]+_0x2fcd2d[_0x26d235][_0x23012e(0x68c)]<_0x223c69[_0x23012e(0x7b4)]['overlap'];)_0x479359=_0x2fcd2d[_0x26d235]+'\x20'+_0x479359,_0x26d235--;let _0x4f9c6b=_0x457ba5,_0x103815='';for(;_0x4f9c6b<_0x2fcd2d[_0x23012e(0x68c)]&&_0x103815[_0x23012e(0x68c)]+_0x2fcd2d[_0x4f9c6b]['length']<_0x223c69[_0x23012e(0x7b4)][_0x23012e(0xaed)];)_0x103815+=_0x2fcd2d[_0x4f9c6b]+'\x20',_0x4f9c6b++;_0x3f56d3=_0x479359+_0x3f56d3+_0x103815,_0x18107b[_0x23012e(0x343)](_0x3f56d3['trim']()),_0x3f56d3='',_0x5f09b5=_0x457ba5;}_0x3f56d3+=_0x573b20+'\x20',_0x457ba5++,_0x5a90b2+=_0x573b20[_0x23012e(0x68c)]+0x1;}if(_0x3f56d3[_0x23012e(0x68c)]>0x0){let _0xdcbd50=_0x5f09b5,_0x480214='';for(;_0xdcbd50>=0x0&&_0x480214[_0x23012e(0x68c)]+_0x2fcd2d[_0xdcbd50][_0x23012e(0x68c)]<_0x223c69[_0x23012e(0x7b4)][_0x23012e(0xaed)];)_0x480214=_0x2fcd2d[_0xdcbd50]+'\x20'+_0x480214,_0xdcbd50--;_0x3f56d3=_0x480214+_0x3f56d3,_0x18107b[_0x23012e(0x343)](_0x3f56d3['trim']());}return _0x18107b;}(_0x505f0a,_0x2ee428);await _0x929613(_0x10aac4,_0x50a7ab,_0x4aad52,_0x4f1dbd,_0x2ee428,_0x4f07e6,_0x16e329,_0x40027f);}function _0x32c6d1(_0xb68cf,_0x53ce7e,_0xbb8660,_0x14f7fa){const _0x56887c=_0x3035df;if(_0x53ce7e[_0x56887c(0x70f)])for(const _0x1d6739 of _0x53ce7e['links']){if(_0x1d6739[_0x56887c(0x48b)]!==_0x338075[_0x56887c(0x5aa)])continue;const _0x2045aa=_0xbb8660[_0x56887c(0x85d)](_0xca40b7=>_0xca40b7['uid']===_0x1d6739[_0x56887c(0x986)]);if(!_0x2045aa)continue;let _0xc2ce02=_0x53ce7e['id'];switch(_0x14f7fa?_0xc2ce02=_0x14f7fa:(_0x53ce7e[_0x56887c(0x48b)]===_0x555fab['DataCollection']&&(_0xc2ce02=_0x53ce7e['name']),_0x53ce7e[_0x56887c(0x48b)]!==_0x555fab['Agent']&&_0x53ce7e['type']!==_0x555fab[_0x56887c(0xac9)]&&_0x53ce7e[_0x56887c(0x48b)]!==_0x555fab['CustomSkill']||(_0xc2ce02=_0x53ce7e['contextOutputVariable']??_0x53ce7e[_0x56887c(0x72a)])),_0x2045aa[_0x56887c(0x48b)]){case _0x555fab[_0x56887c(0x8c1)]:_0x5cdff6[_0x56887c(0x49d)](_0x56887c(0x657),_0x2045aa[_0x56887c(0x72a)],_0xc2ce02),_0x2045aa[_0x56887c(0x842)]||(_0x2045aa['accumulated']={}),_0x2045aa['accumulated'][_0x56887c(0x4cd)]||(_0x2045aa[_0x56887c(0x842)][_0x56887c(0x4cd)]={});const _0x1bb487=_0x2045aa[_0x56887c(0x83b)]?.[_0x56887c(0x27a)](',');if(!_0x1bb487||!_0x1bb487[_0x56887c(0x7c4)](_0xc2ce02))return;_0x2045aa[_0x56887c(0x842)][_0x56887c(0x4cd)][_0xc2ce02]=_0xb68cf;break;case _0x555fab['AgentSkill']:_0x5cdff6[_0x56887c(0x49d)](_0x56887c(0x373),_0x2045aa['name'],_0xc2ce02),_0x240cf2(_0xc2ce02,_0xb68cf,_0x2045aa);break;case _0x555fab[_0x56887c(0x310)]:_0x5cdff6[_0x56887c(0x49d)](_0x56887c(0x380),_0xc2ce02),_0x23faf6(_0x1d6739[_0x56887c(0x48b)],_0xc2ce02,_0xb68cf,_0x2045aa);break;case _0x555fab['CustomSkill']:_0x5cdff6[_0x56887c(0x49d)](_0x56887c(0x2b5),_0x2045aa[_0x56887c(0x72a)],_0xc2ce02),_0x56d729(_0xc2ce02,_0xb68cf,_0x2045aa);}}}async function _0x929613(_0x43231d,_0x53a6c0,_0x201c68,_0x37d132,_0x5c6cd4,_0x4696aa,_0x28d4d6,_0x2b334f){const _0x40bdbc=_0x3035df;if(await _0x255ca7['wait'](0x1),_0x5c6cd4[_0x40bdbc(0x70f)]){for(const _0x1e353c of _0x5c6cd4[_0x40bdbc(0x70f)]){if(_0x1e353c[_0x40bdbc(0x48b)]===_0x338075[_0x40bdbc(0x5aa)])continue;const _0x574171=_0x4696aa[_0x40bdbc(0x85d)](_0x3f47c3=>_0x3f47c3['uid']===_0x1e353c[_0x40bdbc(0x986)]);if(_0x574171)switch(_0x574171['type']){case _0x555fab[_0x40bdbc(0x8c1)]:await _0x38e8dc(_0x43231d,_0x1e353c[_0x40bdbc(0x48b)],_0x53a6c0,_0x201c68,_0x37d132,_0x574171,_0x4696aa,_0x28d4d6,_0x2b334f);break;case _0x555fab[_0x40bdbc(0x8c7)]:await _0x42b193(_0x43231d,_0x53a6c0,_0x201c68,_0x37d132,_0x574171,_0x4696aa,_0x28d4d6,_0x2b334f);break;case _0x555fab['DataCollection']:await _0x2f6d20(_0x43231d,_0x53a6c0,_0x201c68,_0x37d132,_0x574171,_0x4696aa,_0x28d4d6,_0x2b334f);break;case _0x555fab[_0x40bdbc(0x58c)]:await _0x4848d6(_0x43231d,_0x53a6c0,_0x201c68,_0x37d132,_0x574171,_0x4696aa,_0x28d4d6,_0x2b334f);break;case _0x555fab[_0x40bdbc(0x5e9)]:await _0x1922ec(_0x43231d,_0x53a6c0,_0x201c68,_0x37d132,_0x574171,_0x4696aa,_0x28d4d6,_0x2b334f);}}_0x5c6cd4[_0x40bdbc(0x48b)]===_0x555fab[_0x40bdbc(0x2de)]&&_0x2b334f&&_0x2b334f[_0x40bdbc(0xa25)](void 0x0);}else _0x5c6cd4[_0x40bdbc(0x48b)]===_0x555fab[_0x40bdbc(0x2de)]&&_0x2b334f&&_0x2b334f['emit'](void 0x0);}function _0x1f9e5c(_0x5af2ce,_0x372e9f){const _0x45ec40=_0x3035df;let _0x420f3b=0x0;for(const _0x555de9 of _0x372e9f)for(const _0x583afd of _0x555de9[_0x45ec40(0x70f)]??[])_0x583afd['type']!==_0x338075[_0x45ec40(0x5aa)]&&_0x583afd[_0x45ec40(0x48b)]!==_0x338075[_0x45ec40(0x359)]&&_0x583afd[_0x45ec40(0x48b)]!==_0x338075[_0x45ec40(0xa23)]&&_0x583afd[_0x45ec40(0x986)]===_0x5af2ce[_0x45ec40(0x986)]&&_0x420f3b++;return _0x420f3b;}class _0x1e2052 extends _0x2fd95e{[_0x3035df(0x8f4)];[_0x3035df(0x7c3)];[_0x3035df(0xa95)];[_0x3035df(0x6b1)];[_0x3035df(0x9e9)];[_0x3035df(0x47e)];[_0x3035df(0xaf1)];[_0x3035df(0xa81)];[_0x3035df(0x299)];[_0x3035df(0x3a2)];['workflow'];[_0x3035df(0x7bf)];[_0x3035df(0x548)]=new Map();[_0x3035df(0x99d)]=new Map();[_0x3035df(0x732)];[_0x3035df(0x22f)]=new Map();[_0x3035df(0x932)];[_0x3035df(0x748)]=0x0;[_0x3035df(0x595)]=0x0;[_0x3035df(0x9a6)]=!0x1;['contentQueue']=[];[_0x3035df(0x7c6)]=!0x1;constructor(_0x2cc0b2,_0x34ae6b,_0x204ab2,_0x42bd68,_0x49d011,_0x4aa303,_0x18ef43,_0x2c3610,_0x317abd,_0x197406,_0x4f7190,_0x4f8f00){const _0x3b3893=_0x3035df;super(_0x2cc0b2,_0x34ae6b,_0x42bd68),this[_0x3b3893(0x8f4)]=_0x2cc0b2,this['vendorId']=_0x204ab2,this[_0x3b3893(0xa95)]=_0x49d011,this['generativeAIWorkerConnectors']=_0x4aa303,this['documentParserConnector']=_0x18ef43,this['nlpLibraryConnector']=_0x2c3610,this['searchApiKey']=_0x317abd,this[_0x3b3893(0xa81)]=_0x197406,this[_0x3b3893(0x299)]=_0x4f7190,this[_0x3b3893(0x3a2)]=_0x4f8f00;}async['destroy'](){const _0x45d3ed=_0x3035df;for(const _0xbe36d0 of this[_0x45d3ed(0x6b1)])await _0xbe36d0['close']();this[_0x45d3ed(0x7bf)]?.['unsubscribe'](this[_0x45d3ed(0x4de)]),this[_0x45d3ed(0x548)][_0x45d3ed(0x8fa)](_0x257304=>_0x257304[_0x45d3ed(0x5ee)](this[_0x45d3ed(0x4de)])),this[_0x45d3ed(0x932)]&&(clearTimeout(this[_0x45d3ed(0x932)]),delete this[_0x45d3ed(0x932)]),super[_0x45d3ed(0x7ab)]();}async[_0x3035df(0x4b0)](_0x42baf4=!0x1){const _0x1502a5=_0x3035df;if(this[_0x1502a5(0x9a6)])super[_0x1502a5(0x4b0)]();else{if(_0x5cdff6[_0x1502a5(0x49d)](_0x1502a5(0x8e7),this['label']),this[_0x1502a5(0x306)]=await _0x408716[_0x1502a5(0x5e0)](this['vendorId'],this[_0x1502a5(0x4de)]),this[_0x1502a5(0x7bf)]=this['contentMediator']['getObjectStoreBucket'](this[_0x1502a5(0x306)]['modelsBucketId']),!this[_0x1502a5(0x7bf)])throw new Error(_0x1502a5(0x8f5));this[_0x1502a5(0x895)](),_0x5cdff6[_0x1502a5(0x49d)](_0x1502a5(0x437),this[_0x1502a5(0x306)][_0x1502a5(0x22f)]);for(const _0x65bd59 of this[_0x1502a5(0x306)]['models'])try{let _0xcab405;_0x65bd59[_0x1502a5(0x77a)]===_0x37e813[_0x1502a5(0x642)][_0x1502a5(0x5f0)]&&(_0xcab405=await this['getModel']('/'+_0x65bd59['id']+_0x5c4526)),this[_0x1502a5(0x22f)][_0x1502a5(0xac2)](_0x65bd59['id'],{'id':_0x65bd59['id'],'engineType':_0x65bd59['engineType'],'taskType':_0x65bd59[_0x1502a5(0x520)],'inputType':_0x65bd59[_0x1502a5(0x972)],'outputType':_0x65bd59[_0x1502a5(0x7c8)],'sourceUrl':_0x65bd59[_0x1502a5(0x40c)],'pathName':_0xcab405});}catch(_0x30a2df){await this[_0x1502a5(0x7bf)][_0x1502a5(0xa4f)]({'action':_0x37e813['PayloadAction'][_0x1502a5(0x474)],'file':new File([''],''+_0x65bd59['id']+_0x5c4526),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x65bd59['sourceUrl']}}),this[_0x1502a5(0x22f)]['set'](_0x65bd59['id'],{'id':_0x65bd59['id'],'engineType':_0x65bd59['engineType'],'taskType':_0x65bd59['taskType'],'inputType':_0x65bd59['inputType'],'outputType':_0x65bd59[_0x1502a5(0x7c8)],'sourceUrl':_0x65bd59[_0x1502a5(0x40c)],'pathName':await this[_0x1502a5(0xaf9)]('/'+_0x65bd59['id']+_0x5c4526)});}try{for(const _0x2165ca of this[_0x1502a5(0x6b1)])await _0x2165ca[_0x1502a5(0x3a7)](this[_0x1502a5(0x4de)],this['models']);}catch(_0x2fdb8b){return this[_0x1502a5(0x4b0)](_0x42baf4);}for(const _0x20812b of this['workflow']['dataBucketIds'])this[_0x1502a5(0x548)][_0x1502a5(0xac2)](_0x20812b,this[_0x1502a5(0xa95)]['getObjectStoreBucket'](_0x20812b));await this[_0x1502a5(0x492)](),this[_0x1502a5(0x60f)]();for(const _0x1ba79b of this[_0x1502a5(0x306)][_0x1502a5(0x95a)])this[_0x1502a5(0x99d)][_0x1502a5(0xac2)](_0x1ba79b,this[_0x1502a5(0xa95)]['getExternalStorageConnection'](_0x1ba79b));await this[_0x1502a5(0x518)](),this[_0x1502a5(0x551)](),this[_0x1502a5(0x9a6)]=!0x0,this[_0x1502a5(0x509)](),super[_0x1502a5(0x4b0)](),_0x5cdff6[_0x1502a5(0x49d)](_0x1502a5(0x847),this[_0x1502a5(0x4de)]);}}['reset'](){const _0x1ff2df=_0x3035df;this[_0x1ff2df(0x748)]=0x0,this[_0x1ff2df(0x595)]=0x0,this[_0x1ff2df(0x509)](),super[_0x1ff2df(0x98b)]();}[_0x3035df(0x455)](){const _0x5ab89e=_0x3035df;return this[_0x5ab89e(0x509)](),this['getCoresFromCapacityReport']();}[_0x3035df(0x4e0)](_0x51b2f7,_0x33702c,_0x54bc16){const _0xaa2d4e=_0x3035df,{outputTokens:_0x35c78d=0x0,output:_0x5310af=''}=_0x51b2f7,_0x252c75=_0x35c78d/((_0x54bc16-_0x33702c)/0x3e8);this[_0xaa2d4e(0x748)]+=0x1,this[_0xaa2d4e(0x595)]+=_0x35c78d,this[_0xaa2d4e(0x724)](_0x252c75,_0x35c78d),this['sendStats']();}[_0x3035df(0x840)](_0x53ca36,_0x40b975){const _0x25b907=_0x3035df;return _0x53ca36['output']=_0x53ca36[_0x25b907(0x757)]??'',{'type':_0x25b907(0xb1e),'output':_0x25b907(0x395)==typeof _0x53ca36[_0x25b907(0x757)]&&_0x25b907(0x395)==typeof _0x40b975[_0x25b907(0x757)]?_0x53ca36['output']+_0x40b975[_0x25b907(0x757)]:_0x40b975['output'],'outputTokens':_0x40b975[_0x25b907(0x3b9)]??_0x53ca36['outputTokens'],'inputTokens':_0x40b975[_0x25b907(0x3e7)]??_0x53ca36['inputTokens']};}async[_0x3035df(0x867)](_0x5c7019,_0x5cfb13){const _0x2e2faa=_0x3035df;if(this['workflow']=await _0x408716[_0x2e2faa(0x5e0)](this[_0x2e2faa(0x7c3)],this[_0x2e2faa(0x4de)]),_0x2e2faa(0xb1e)===_0x5cfb13[_0x2e2faa(0x48b)]){const _0x4268db=this[_0x2e2faa(0x306)][_0x2e2faa(0x721)][_0x2e2faa(0x85d)](_0x22d3fc=>_0x22d3fc['type']===_0x555fab[_0x2e2faa(0x2de)]),_0x24ab43=await async function(_0x359242,_0xef5792,_0x1ef22e,_0x2203c6,_0x33e8c2){const _0xab15f2=_0x2e2faa,_0x88ace5=(0x0,_0x5b15a5['v4'])(),_0x1e05f6=Date['now']();if(_0x21cae3[_0xab15f2(0xa76)]({'jobType':_0x493d65[_0xab15f2(0xb22)],'type':_0x20e65b[_0xab15f2(0x776)],'jobId':_0x359242,'blockId':_0x1ef22e['id'],'agentId':_0x88ace5,'threadId':_0xef5792['threadId'],'traceLevel':_0x69b2a['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0xab15f2(0x73b),'initialPrompt':_0xef5792[_0xab15f2(0xb1e)]}),_0xef5792[_0xab15f2(0x320)]){for(const _0x42babe in _0xef5792[_0xab15f2(0x320)])_0x32c6d1(_0xef5792[_0xab15f2(0x320)][_0x42babe],_0x1ef22e,_0x2203c6,_0x42babe);}const _0x354b08={'type':_0xef5792[_0xab15f2(0x48b)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x929613(_0x359242,''+_0xef5792[_0xab15f2(0xb1e)],_0xef5792,_0x354b08,_0x1ef22e,_0x2203c6,_0x33e8c2);const {inputTokens:_0x52eb68=0x0,outputTokens:_0x3bbb37=0x0,context:_0x325919=[]}=_0x354b08;return _0x21cae3[_0xab15f2(0xa76)]({'jobType':_0x493d65['Workflow'],'type':_0x20e65b[_0xab15f2(0x8bb)],'jobId':_0x359242,'agentId':_0x88ace5,'threadId':_0xef5792[_0xab15f2(0x85e)],'traceLevel':_0x69b2a[_0xab15f2(0xa4b)],'startTime':_0x1e05f6,'timestamp':Date[_0xab15f2(0x6de)](),'blockId':_0x1ef22e['id'],'status':_0xab15f2(0x73b),'output':_0x354b08['output']?.[_0xab15f2(0xb10)]()??'','prompt':_0xef5792['prompt'],'agentName':'','history':_0xef5792[_0xab15f2(0x828)]??[],'instructions':''+(_0xef5792[_0xab15f2(0xaf5)]??''),'ragContext':_0x325919,'inputTokens':_0x52eb68,'outputTokens':_0x3bbb37}),{'type':_0xef5792[_0xab15f2(0x48b)],'output':_0x354b08[_0xab15f2(0x757)],'context':_0x354b08[_0xab15f2(0x4cd)],'internalContext':_0x2203c6[_0xab15f2(0x85d)](_0x472b62=>_0x472b62[_0xab15f2(0x48b)]===_0x555fab[_0xab15f2(0x310)])?.[_0xab15f2(0x842)]?.['context']??{},'inputTokens':_0x354b08[_0xab15f2(0x3e7)]??0x0,'outputTokens':_0x354b08[_0xab15f2(0x3b9)]??0x0};}(_0x5c7019,_0x5cfb13,_0x4268db,this['workflow']['blocks'],{'documentParserConnector':this[_0x2e2faa(0x9e9)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x2e2faa(0x6b1)],'models':this[_0x2e2faa(0x306)][_0x2e2faa(0x22f)],'contentMediator':this[_0x2e2faa(0xa95)],'searchApiKey':this[_0x2e2faa(0xaf1)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0x2e2faa(0x299)],'aiSearchConnector':this['aiSearchConnector']});return _0x24ab43;}if(_0x2e2faa(0x57b)===_0x5cfb13[_0x2e2faa(0x48b)])return _0x21cae3[_0x2e2faa(0xa76)]({'jobType':_0x493d65['Rating'],'type':_0x351627[_0x2e2faa(0x8ac)],'jobId':_0x5cfb13['jobId'],'threadId':_0x5cfb13[_0x2e2faa(0x85e)],'traceLevel':_0x69b2a[_0x2e2faa(0xa4b)],'startTime':Date['now'](),'timestamp':Date[_0x2e2faa(0x6de)](),'status':_0x2e2faa(0x73b),'rating':_0x5cfb13[_0x2e2faa(0xa07)],'feedback':_0x5cfb13[_0x2e2faa(0x69f)]}),{'type':'rate','status':_0x37e813['GenerativeAIRatingStatus'][_0x2e2faa(0x23c)]};if(_0x2e2faa(0x427)===_0x5cfb13['type']){let _0x1df1ca;const _0x37b081=this[_0x2e2faa(0x548)][_0x2e2faa(0x75b)]();for(;!_0x1df1ca;){const _0xd446d2=_0x37b081[_0x2e2faa(0x9f9)]()[_0x2e2faa(0x90d)];if(!_0xd446d2)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x1df1ca=this[_0x2e2faa(0x548)]['get'](_0xd446d2);try{const _0x296f63=await _0x1df1ca[_0x2e2faa(0x557)](_0x5cfb13[_0x2e2faa(0x76b)]);return{'type':_0x2e2faa(0x427),'fileName':_0x296f63[_0x2e2faa(0x72a)],'mimeType':_0x296f63['type'],'document':await _0x296f63['arrayBuffer']()};}catch(_0x3b5547){continue;}}throw new Error(_0x2e2faa(0x3fa));}throw new Error(_0x2e2faa(0x90a));}async*[_0x3035df(0x458)](_0x6c1169,_0x48428f){const _0x45232f=_0x3035df;this[_0x45232f(0x306)]=await _0x408716[_0x45232f(0x5e0)](this[_0x45232f(0x7c3)],this[_0x45232f(0x4de)]);const _0x2e8196=this[_0x45232f(0x306)][_0x45232f(0x721)][_0x45232f(0x85d)](_0x2b3858=>_0x2b3858[_0x45232f(0x48b)]===_0x555fab[_0x45232f(0x2de)]);for await(const _0x43bdf6 of async function*(_0x1ae3c1,_0x4948d6,_0xa607d6,_0x26d5a2,_0x1ff639){const _0x42096a=_0x45232f,_0x3ff0bb=(0x0,_0x5b15a5['v4'])(),_0x1f21a5=Date['now']();if(_0x21cae3[_0x42096a(0xa76)]({'jobType':_0x493d65[_0x42096a(0xb22)],'type':_0x20e65b['InitialPrompt'],'jobId':_0x1ae3c1,'agentId':_0x3ff0bb,'threadId':_0x4948d6[_0x42096a(0x85e)],'traceLevel':_0x69b2a['Info'],'startTime':Date[_0x42096a(0x6de)](),'timestamp':Date['now'](),'blockId':_0xa607d6['id'],'status':'success','initialPrompt':_0x4948d6[_0x42096a(0xb1e)]}),_0x4948d6[_0x42096a(0x320)]){for(const _0x3b74ac in _0x4948d6[_0x42096a(0x320)])_0x32c6d1(_0x4948d6[_0x42096a(0x320)][_0x3b74ac],_0xa607d6,_0x26d5a2,_0x3b74ac);}const _0x3a135a={'type':_0x4948d6[_0x42096a(0x48b)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x217da8=new _0x3569e2();_0x929613(_0x1ae3c1,''+_0x4948d6[_0x42096a(0xb1e)],_0x4948d6,_0x3a135a,_0xa607d6,_0x26d5a2,_0x1ff639,_0x217da8);let _0x486ca9='',_0xe28c5e={'type':_0x4948d6[_0x42096a(0x48b)]};for(;;){const _0x53ebbc=await _0x217da8[_0x42096a(0x7c0)]();if(!_0x53ebbc)break;_0x486ca9+=_0x53ebbc[_0x42096a(0x757)],_0xe28c5e={'type':_0x4948d6['type'],'output':_0x53ebbc[_0x42096a(0x757)],'context':_0x3a135a[_0x42096a(0x4cd)],'internalContext':{},'inputTokens':(_0x3a135a[_0x42096a(0x3e7)]??0x0)+(_0x53ebbc[_0x42096a(0x3e7)]??0x0),'outputTokens':(_0x3a135a['outputTokens']??0x0)+(_0x53ebbc['outputTokens']??0x0)},yield _0xe28c5e;}yield{..._0xe28c5e,'output':'','internalContext':_0x26d5a2[_0x42096a(0x85d)](_0x2a260d=>_0x2a260d[_0x42096a(0x48b)]===_0x555fab[_0x42096a(0x310)])?.[_0x42096a(0x842)]?.[_0x42096a(0x4cd)]??{}};const {inputTokens:_0x4d362e=0x0,outputTokens:_0x32e4c2=0x0,context:_0x3918ba=[]}=_0xe28c5e;_0x21cae3[_0x42096a(0xa76)]({'jobType':_0x493d65[_0x42096a(0xb22)],'type':_0x20e65b['FinalOutput'],'jobId':_0x1ae3c1,'agentId':_0x3ff0bb,'threadId':_0x4948d6[_0x42096a(0x85e)],'traceLevel':_0x69b2a[_0x42096a(0xa4b)],'startTime':_0x1f21a5,'timestamp':Date['now'](),'blockId':_0xa607d6['id'],'status':_0x42096a(0x73b),'output':_0x486ca9,'prompt':_0x4948d6[_0x42096a(0xb1e)],'agentName':'','history':_0x4948d6[_0x42096a(0x828)]??[],'instructions':''+(_0x4948d6[_0x42096a(0xaf5)]??''),'ragContext':_0x3918ba,'inputTokens':_0x4d362e,'outputTokens':_0x32e4c2});}(_0x6c1169,_0x48428f,_0x2e8196,this[_0x45232f(0x306)][_0x45232f(0x721)],{'documentParserConnector':this[_0x45232f(0x9e9)],'nlpLibraryConnector':this[_0x45232f(0x47e)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this['workflow'][_0x45232f(0x22f)],'contentMediator':this[_0x45232f(0xa95)],'searchApiKey':this[_0x45232f(0xaf1)],'aiSearchApiKey':this[_0x45232f(0xa81)],'searchConnector':this[_0x45232f(0x299)],'aiSearchConnector':this['aiSearchConnector']}))yield _0x43bdf6;}['startTracing'](_0x62bcb3,_0x1d48b4){const _0x1a22f2=_0x3035df;if(_0x1a22f2(0x57b)===_0x1d48b4[_0x1a22f2(0x48b)])return _0x62bcb3=_0x1d48b4[_0x1a22f2(0xa1b)],void this[_0x1a22f2(0x997)](_0x62bcb3);this[_0x1a22f2(0x997)](_0x62bcb3),_0x21cae3[_0x1a22f2(0xa76)]({'jobType':_0x493d65[_0x1a22f2(0x749)],'type':_0x61ddf8['Queued'],'traceLevel':_0x69b2a[_0x1a22f2(0xa4b)],'jobId':_0x62bcb3,'threadId':_0x1d48b4[_0x1a22f2(0x85e)],'startTime':Date[_0x1a22f2(0x6de)](),'timestamp':Date[_0x1a22f2(0x6de)](),'status':_0x1a22f2(0x73b)});}['stopTracing'](_0x32f23c,_0x5c9031){const _0x52a32b=_0x3035df;if(_0x52a32b(0x57b)===_0x5c9031[_0x52a32b(0x48b)])return _0x32f23c=_0x5c9031[_0x52a32b(0xa1b)],void this[_0x52a32b(0x765)](_0x32f23c);_0x21cae3['trace']({'jobType':_0x493d65[_0x52a32b(0x749)],'type':_0x61ddf8[_0x52a32b(0x88b)],'traceLevel':_0x69b2a[_0x52a32b(0xa4b)],'jobId':_0x32f23c,'threadId':_0x5c9031['threadId'],'startTime':Date[_0x52a32b(0x6de)](),'timestamp':Date[_0x52a32b(0x6de)](),'status':_0x52a32b(0x73b)}),this[_0x52a32b(0x765)](_0x32f23c);}async[_0x3035df(0xaf9)](_0x10641b){const _0x39f862=_0x3035df;if(!this[_0x39f862(0x7bf)])throw new Error(_0x39f862(0x8f5));const _0xb5482e=await this[_0x39f862(0x7bf)][_0x39f862(0xa6c)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x3b7842 of _0xb5482e)if(_0x3b7842[_0x39f862(0x288)]===_0x37e813['ObjectKind'][_0x39f862(0x474)]&&_0x3b7842['pathName']===_0x10641b)return _0x3b7842[_0x39f862(0x641)]??_0x3b7842[_0x39f862(0x2cf)];throw new Error(_0x39f862(0x68f)+_0x10641b);}async['loadLocalContent'](){const _0x1e5a02=_0x3035df;if(!this[_0x1e5a02(0x306)])throw new Error(_0x1e5a02(0x9e8));for(const _0x2cc203 of this[_0x1e5a02(0x548)][_0x1e5a02(0xb09)]())try{const _0xcc9518=this[_0x1e5a02(0x306)]['blocks'][_0x1e5a02(0xab2)](_0x4aa352=>(_0x4aa352[_0x1e5a02(0x48b)]===_0x555fab[_0x1e5a02(0x22e)]||_0x4aa352[_0x1e5a02(0x48b)]===_0x555fab[_0x1e5a02(0x359)])&&_0x4aa352[_0x1e5a02(0xa68)]?.['some'](_0x48ebba=>_0x48ebba['id']===_0x2cc203['getLabel']()));for(let _0x1030e8=_0xcc9518['length']-0x1;_0x1030e8>=0x0;_0x1030e8--)for(const _0x423eca of _0xcc9518[_0x1030e8][_0x1e5a02(0xa68)]??[])_0x423eca[_0x1e5a02(0x48b)]===_0x27169c['VectorDatabase']&&this[_0x1e5a02(0xa95)][_0x1e5a02(0x7fb)](_0x423eca['id'])[_0x1e5a02(0x48a)]()&&_0xcc9518['splice'](_0x1030e8,0x1),_0x423eca[_0x1e5a02(0x48b)]===_0x27169c[_0x1e5a02(0x9e3)]&&this[_0x1e5a02(0xa95)][_0x1e5a02(0x4da)](_0x423eca['id'])[_0x1e5a02(0x48a)]()&&_0xcc9518[_0x1e5a02(0x1f3)](_0x1030e8,0x1);const _0x3e3d1f=new Map();let _0x2e5f17=!0x1;for(const _0x25c9b7 of _0xcc9518){let _0x242872=''+(_0x25c9b7[_0x1e5a02(0x80d)]??0x1);for(const _0x3b73a5 of _0x25c9b7[_0x1e5a02(0xa68)]??[])_0x3b73a5[_0x1e5a02(0x48b)]===_0x27169c[_0x1e5a02(0x8c1)]&&(_0x242872=_0x242872+'-'+(_0x3b73a5['version']??0x1));for(const _0x2cf2ef of _0x25c9b7[_0x1e5a02(0xa68)]??[])_0x2cf2ef['type']===_0x27169c[_0x1e5a02(0x85b)]&&_0x3e3d1f[_0x1e5a02(0xac2)](_0x2cf2ef['id'],{'version':_0x242872,'getDatabase':this[_0x1e5a02(0xa95)][_0x1e5a02(0x7fb)][_0x1e5a02(0x5bf)](this['contentMediator']),'block':_0x2cf2ef}),_0x2cf2ef[_0x1e5a02(0x48b)]===_0x27169c['GraphDatabase']&&_0x3e3d1f[_0x1e5a02(0xac2)](_0x2cf2ef['id'],{'version':_0x242872,'getDatabase':this[_0x1e5a02(0xa95)][_0x1e5a02(0x4da)][_0x1e5a02(0x5bf)](this[_0x1e5a02(0xa95)]),'block':_0x2cf2ef});}for(const {getDatabase:_0x4dfbdd,block:_0x20485d,version:_0x162fc1}of _0x3e3d1f[_0x1e5a02(0xb09)]())try{const _0x39bb6b=_0x4dfbdd(_0x20485d['id']);_0x39bb6b[_0x1e5a02(0x963)](_0x162fc1),_0x39bb6b[_0x1e5a02(0x529)](!0x0),_0x2e5f17=!0x0;}catch(_0x4ae00a){_0x2e5f17=!0x1;break;}if(_0x5cdff6[_0x1e5a02(0x49d)](_0x1e5a02(0xa50)),_0x2e5f17)continue;_0x5cdff6[_0x1e5a02(0x49d)]('Start\x20Ingestion');const _0x7fe3c5=await _0x2cc203['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x1e5a02(0x56a)](_0x399d08[_0x1e5a02(0x271)],_0x2cc203[_0x1e5a02(0x502)](),_0x7fe3c5);for(const {getDatabase:_0x4e14b3,block:_0x30048c,version:_0x463d94}of _0x3e3d1f[_0x1e5a02(0xb09)]()){const _0x266bd5=_0x4e14b3(_0x30048c['id']);_0x266bd5[_0x1e5a02(0x861)](_0x463d94),_0x266bd5[_0x1e5a02(0x529)](!0x0);}}catch(_0x1aa899){_0x5cdff6[_0x1e5a02(0xa29)](_0x1e5a02(0x36c),{'nodeId':this[_0x1e5a02(0x8f4)]['getId'](),'nodeType':this[_0x1e5a02(0x8f4)]['type']});}}async[_0x3035df(0x518)](){const _0x3ee2d5=_0x3035df;for(const _0x2c0d97 of this[_0x3ee2d5(0x99d)]['values']())try{const _0x336df0=await _0x2c0d97['list']('/',{'recursive':!0x0});await this['syncFolder'](_0x399d08[_0x3ee2d5(0x3dd)],_0x2c0d97[_0x3ee2d5(0x502)](),_0x336df0);}catch(_0x57dc46){_0x5cdff6[_0x3ee2d5(0xa29)](_0x3ee2d5(0x760),{'nodeId':this['localNode'][_0x3ee2d5(0x6cd)](),'nodeType':this[_0x3ee2d5(0x8f4)]['type']});}}async[_0x3035df(0x56a)](_0x50aa76,_0x394346,_0x10538b){const _0x1fb2ea=_0x3035df;for(const _0x10c141 of _0x10538b){if(_0x10c141[_0x1fb2ea(0x288)]===_0x37e813[_0x1fb2ea(0x21e)][_0x1fb2ea(0xab0)]){if(!_0x10c141[_0x1fb2ea(0x946)]||0x0===_0x10c141['entries']['length'])continue;await this[_0x1fb2ea(0x56a)](_0x50aa76,_0x394346,_0x10c141[_0x1fb2ea(0x946)]);}_0x10c141[_0x1fb2ea(0x288)]===_0x37e813[_0x1fb2ea(0x21e)]['File']&&this[_0x1fb2ea(0x5a0)](_0x50aa76,_0x394346,_0x10c141[_0x1fb2ea(0x2cf)]);}return new Promise(_0x52c70b=>{const _0x1bbca7=_0x255ca7['setInterval'](()=>{0x0===this['contentQueue']['length']&&(_0x1bbca7(),_0x52c70b());},0x1388);});}[_0x3035df(0x60f)](){const _0x327b8e=_0x3035df;for(const _0x5d5308 of this[_0x327b8e(0x548)][_0x327b8e(0xb09)]())_0x5d5308[_0x327b8e(0x3bd)](this['label'],async _0x19cb29=>{const _0x3f16f7=_0x327b8e;switch(_0x19cb29[_0x3f16f7(0xa48)]){case _0x37e813[_0x3f16f7(0x736)][_0x3f16f7(0x28b)]:this['removeContent'](_0x399d08[_0x3f16f7(0x271)],_0x5d5308['getName'](),_0x19cb29[_0x3f16f7(0x816)]['file']['pathName']),this[_0x3f16f7(0x5a0)](_0x399d08[_0x3f16f7(0x271)],_0x5d5308[_0x3f16f7(0x502)](),_0x19cb29[_0x3f16f7(0x816)]['file'][_0x3f16f7(0x2cf)]);break;case _0x37e813[_0x3f16f7(0x736)][_0x3f16f7(0x216)]:this[_0x3f16f7(0xa14)](_0x399d08[_0x3f16f7(0x271)],_0x5d5308[_0x3f16f7(0x502)](),_0x19cb29[_0x3f16f7(0x816)][_0x3f16f7(0x2cf)]);}});}[_0x3035df(0x551)](){const _0x210ba1=_0x3035df;for(const _0x22f961 of this['externalStores'][_0x210ba1(0xb09)]())_0x22f961[_0x210ba1(0x3bd)](this[_0x210ba1(0x4de)],async _0xc7ecef=>{const _0x36f22e=_0x210ba1;switch(_0xc7ecef[_0x36f22e(0xa48)]){case _0x37e813[_0x36f22e(0x736)][_0x36f22e(0x28b)]:this['removeContent'](_0x399d08[_0x36f22e(0x3dd)],_0x22f961['getName'](),_0xc7ecef[_0x36f22e(0x816)][_0x36f22e(0x279)][_0x36f22e(0x2cf)]),this[_0x36f22e(0x5a0)](_0x399d08[_0x36f22e(0x3dd)],_0x22f961['getName'](),_0xc7ecef['payload'][_0x36f22e(0x279)][_0x36f22e(0x2cf)]);break;case _0x37e813['StorageEventType']['FileDelete']:this[_0x36f22e(0xa14)](_0x399d08['ExternalStorage'],_0x22f961[_0x36f22e(0x502)](),_0xc7ecef[_0x36f22e(0x816)][_0x36f22e(0x2cf)]);}});}[_0x3035df(0x5a0)](_0xac05c7,_0x25d200,_0x1102a7){const _0x5e242d=_0x3035df;this['contentQueue'][_0x5e242d(0x343)]({'type':_0x5e242d(0x784),'storageType':_0xac05c7,'storeId':_0x25d200,'pathName':_0x1102a7}),this[_0x5e242d(0x385)]();}['removeContent'](_0x517315,_0x136944,_0x23064a){const _0x53eb3e=_0x3035df;this[_0x53eb3e(0x7e1)]['push']({'type':_0x53eb3e(0x59d),'storageType':_0x517315,'storeId':_0x136944,'pathName':_0x23064a}),this[_0x53eb3e(0x385)]();}async[_0x3035df(0x385)](){const _0x309f27=_0x3035df;if(!this[_0x309f27(0x7c6)]){try{this['contentQueueRunning']=!0x0;const _0x4c9aa1=this[_0x309f27(0x7e1)]['shift']();if(!_0x4c9aa1)return;_0x309f27(0x784)===_0x4c9aa1[_0x309f27(0x48b)]?await this[_0x309f27(0x420)](_0x4c9aa1[_0x309f27(0x71c)],_0x4c9aa1[_0x309f27(0x261)],_0x4c9aa1[_0x309f27(0x2cf)]):this['processRemoveContent'](_0x4c9aa1['storageType'],_0x4c9aa1[_0x309f27(0x261)],_0x4c9aa1['pathName']);}catch(_0x32e5bb){_0x5cdff6[_0x309f27(0xa29)](_0x309f27(0x597),{'nodeId':this[_0x309f27(0x8f4)]['getId'](),'nodeType':this[_0x309f27(0x8f4)]['type']});}this['contentQueueRunning']=!0x1,this['contentQueue'][_0x309f27(0x68c)]>0x0&&this['processContentQueue']();}}async[_0x3035df(0x420)](_0x52210b,_0x6da56,_0xa95b1b){const _0x1ba990=_0x3035df;if(_0x5cdff6['forceLog'](_0x1ba990(0x5a0),_0x52210b,_0x6da56,_0xa95b1b),!this[_0x1ba990(0x306)])throw new Error(_0x1ba990(0x9e8));let _0x37f381;switch(_0x52210b){case _0x399d08['ObjectStorage']:_0x37f381=_0x27169c[_0x1ba990(0x58a)];break;case _0x399d08['ExternalStorage']:_0x37f381=_0x27169c['ExternalStorageUpload'];}if(!_0x37f381)return;const _0x1eaf86=this[_0x1ba990(0x306)][_0x1ba990(0x721)][_0x1ba990(0xab2)](_0x545c93=>_0x545c93['type']===_0x555fab[_0x1ba990(0x359)]||_0x545c93['type']===_0x555fab[_0x1ba990(0x22e)]),_0x7f7665=new Set(_0x1eaf86[_0x1ba990(0x207)](_0x28d61a=>_0x28d61a['id'])),_0x498797=_0x1eaf86[_0x1ba990(0xab2)](_0x6de4b8=>_0x6de4b8['ingestBlocks']?.['some'](_0x8c375e=>_0x8c375e[_0x1ba990(0x48b)]===_0x37f381&&_0x8c375e['id']===_0x6da56));for(const _0x565912 of _0x498797){if(!_0x7f7665[_0x1ba990(0x5e8)](_0x565912['id']))continue;_0x7f7665['delete'](_0x565912['id']);const _0x597595=_0x565912[_0x1ba990(0xa68)]?.[_0x1ba990(0x85d)](_0x56d2ab=>_0x56d2ab['type']===_0x37f381&&_0x56d2ab['id']===_0x6da56);_0x597595&&_0x5e21ec['add'](this[_0x1ba990(0x4de)],async()=>{const _0x3ec0a8=_0x1ba990,_0x2605fe=(0x0,_0x5b15a5['v4'])();_0x21cae3[_0x3ec0a8(0x997)](null,_0x2605fe),await _0x429f8f(_0x2605fe,_0xa95b1b,_0x597595,_0x565912['ingestBlocks'],{'documentParserConnector':this[_0x3ec0a8(0x9e9)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3ec0a8(0x6b1)],'models':this[_0x3ec0a8(0x306)][_0x3ec0a8(0x22f)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x3ec0a8(0xaf1)],'aiSearchApiKey':this[_0x3ec0a8(0xa81)],'version':_0x565912[_0x3ec0a8(0x80d)]??0x1}),_0x21cae3['closeTrace'](_0x2605fe);});}this['sendStats']();}[_0x3035df(0x291)](_0x4ce43c,_0x1e0ff5,_0x1f3190){const _0x34b6d9=_0x3035df;if(_0x5cdff6[_0x34b6d9(0x49d)](_0x34b6d9(0xa14),_0x4ce43c,_0x1e0ff5,_0x1f3190),!this[_0x34b6d9(0x306)])throw new Error(_0x34b6d9(0x9e8));let _0x82a776;switch(_0x4ce43c){case _0x399d08[_0x34b6d9(0x271)]:_0x82a776=_0x27169c[_0x34b6d9(0x58a)];break;case _0x399d08['ExternalStorage']:_0x82a776=_0x27169c['ExternalStorageUpload'];}if(!_0x82a776)return;const _0x2a362b=this['workflow'][_0x34b6d9(0x721)][_0x34b6d9(0xab2)](_0x1d733e=>_0x1d733e[_0x34b6d9(0x48b)]===_0x555fab[_0x34b6d9(0x359)]||_0x1d733e['type']===_0x555fab[_0x34b6d9(0x22e)]),_0x45457f=new Set(_0x2a362b[_0x34b6d9(0x207)](_0x4c2643=>_0x4c2643['id'])),_0x5f4edb=_0x2a362b[_0x34b6d9(0xab2)](_0x2adf3a=>_0x2adf3a[_0x34b6d9(0xa68)]?.['some'](_0x1b755b=>_0x1b755b[_0x34b6d9(0x48b)]===_0x82a776&&_0x1b755b['id']===_0x1e0ff5));for(const _0x2f3f1d of _0x5f4edb){if(!_0x45457f[_0x34b6d9(0x5e8)](_0x2f3f1d['id']))continue;_0x45457f['delete'](_0x2f3f1d['id']);let _0x3860c2=''+(_0x2f3f1d[_0x34b6d9(0x80d)]??0x1);for(const _0x5df35b of _0x2f3f1d[_0x34b6d9(0xa68)]??[])_0x5df35b[_0x34b6d9(0x48b)]===_0x27169c[_0x34b6d9(0x8c1)]&&(_0x3860c2=_0x3860c2+'-'+(_0x5df35b['version']??0x1));for(const _0x47c450 of _0x2f3f1d[_0x34b6d9(0xa68)]??[]){if(_0x47c450['type']===_0x27169c['VectorDatabase']){const _0x502d02=this[_0x34b6d9(0xa95)][_0x34b6d9(0x7fb)](_0x47c450['id']);_0x502d02[_0x34b6d9(0x59d)](_0x1f3190),_0x502d02[_0x34b6d9(0x48a)]()&&_0x502d02['saveToDisk'](_0x3860c2);}if(_0x47c450[_0x34b6d9(0x48b)]===_0x27169c[_0x34b6d9(0x9e3)]){const _0x5de6e1=this[_0x34b6d9(0xa95)][_0x34b6d9(0x4da)](_0x47c450['id']);_0x5de6e1[_0x34b6d9(0x59d)](_0x1f3190),_0x5de6e1[_0x34b6d9(0x48a)]()&&_0x5de6e1[_0x34b6d9(0x861)](_0x3860c2);}}}this['sendStats']();}['getCoresFromCapacityReport'](){const _0x1f5340=_0x3035df;try{return this[_0x1f5340(0x985)]['getCapacityReport']()[_0x1f5340(0xabd)][_0x1f5340(0x9d1)]*(0x1-this[_0x1f5340(0x985)][_0x1f5340(0x9d7)]()[_0x1f5340(0xabd)][_0x1f5340(0x87c)]);}catch(_0x2d3ad9){return _0x5cdff6[_0x1f5340(0x3e9)](_0x2a39e9['Jobs'],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x2d3ad9),0x0;}}[_0x3035df(0x509)](){const _0x481cd8=_0x3035df;this['isOpened']&&(this[_0x481cd8(0x932)]&&clearTimeout(this[_0x481cd8(0x932)]),this[_0x481cd8(0x932)]=setTimeout(async()=>{const _0xfae75f=_0x481cd8;if(delete this[_0xfae75f(0x932)],!this[_0xfae75f(0x7bf)])return;let _0x3de694=await this['modelStore']['getSize']();for(const _0x43a301 of this[_0xfae75f(0x548)][_0xfae75f(0xb09)]())_0x3de694+=await _0x43a301[_0xfae75f(0x6ea)]();this[_0xfae75f(0x31b)][_0xfae75f(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0xfae75f(0x240)],'content':{'type':_0x41c383[_0xfae75f(0x536)],'label':this[_0xfae75f(0x4de)],'stats':{'timestamp':Date['now'](),'storage':_0x3de694,'messagesSent':this[_0xfae75f(0x2a1)],'messagesReceived':this[_0xfae75f(0x4dd)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0xfae75f(0x824)],'writes':0x0,'reads':0x0,'prompts':this[_0xfae75f(0x748)],'tokens':this[_0xfae75f(0x595)]}}});},_0x1a8c76));}['logServiceEvent'](_0x35203f,_0x4ac2db){const _0x4f60d8=_0x3035df,_0x41f4d5=this[_0x4f60d8(0x4de)],_0x3f6147=this[_0x4f60d8(0x264)]();_0x5cdff6[_0x4f60d8(0x724)](_0x57257f[_0x4f60d8(0xad4)],{'topic':_0x41f4d5,'type':'answer','nodeId':_0x3f6147,'tokenCount':_0x4ac2db,'tokensPerSecond':_0x35203f});}[_0x3035df(0x997)](_0x5b625f){const _0x98a7a4=_0x3035df;try{if(!this[_0x98a7a4(0x306)])throw new Error(_0x98a7a4(0x9e8));if(!this[_0x98a7a4(0x732)])throw new Error(_0x98a7a4(0x3c2));if(!_0x21cae3[_0x98a7a4(0x997)](this[_0x98a7a4(0x732)],_0x5b625f))throw new Error('Error\x20opening\x20trace');return _0x5b625f;}catch(_0x1de93c){return console[_0x98a7a4(0xa29)](_0x98a7a4(0x396),_0x1de93c),'Could\x20not\x20open\x20trace';}}[_0x3035df(0x765)](_0x5c5f4c){const _0x4b379e=_0x3035df;try{_0x21cae3['closeTrace'](_0x5c5f4c);}catch(_0x36bf99){console[_0x4b379e(0xa29)](_0x4b379e(0x269),{'jobId':_0x5c5f4c,'error':_0x36bf99});}}async[_0x3035df(0x895)](){return new Promise(_0x190c20=>{const _0x424b6d=a0_0x4922;try{const _0x3c897c=_0x9b6e36(this['vendorId'],this[_0x424b6d(0x4de)]);this[_0x424b6d(0x732)]=this[_0x424b6d(0xa95)][_0x424b6d(0x2eb)](_0x3c897c),this[_0x424b6d(0x732)]['subscribe'](({event:_0x222ff5})=>{const _0x1dcdf5=_0x424b6d;_0x222ff5===_0x37e813[_0x1dcdf5(0x88a)][_0x1dcdf5(0x62c)]&&(this[_0x1dcdf5(0x732)][_0x1dcdf5(0x5ee)](),_0x190c20());});}catch(_0xb28fe2){console[_0x424b6d(0xa29)](_0x424b6d(0x733)+_0x9b6e36(this['vendorId'],this[_0x424b6d(0x4de)])+_0x424b6d(0x952),_0xb28fe2),_0x190c20();}});}}class _0x4f6c0d extends _0x3fc886{[_0x3035df(0x8f4)];[_0x3035df(0x7b1)];['vendorId'];['db'];['debounceStats'];[_0x3035df(0x70a)]=0x0;['reads']=0x0;[_0x3035df(0x9dc)]=!0x1;constructor(_0x3df4ff,_0x4cac2a,_0x105a0f,_0x513fc0,_0x208921){const _0x50064d=_0x3035df;if(_0x50064d(0x395)!=typeof _0x4cac2a)throw new _0x2758ff(_0x1e2529[_0x50064d(0x332)],_0x50064d(0x955));super(_0x3df4ff,_0x4cac2a),this[_0x50064d(0x8f4)]=_0x3df4ff,this['clusterId']=_0x105a0f,this['vendorId']=_0x513fc0;const _0x1496c8=_0x50064d(0x402)+this[_0x50064d(0x7c3)]+_0x50064d(0x402)+this[_0x50064d(0x7b1)]+'ccc'+this['label'];this['db']=new _0x208921(_0x1496c8),this[_0x50064d(0x509)]();}[_0x3035df(0x48a)](){const _0x2734ce=_0x3035df;return this[_0x2734ce(0x9dc)];}[_0x3035df(0x529)](_0x24f252){const _0xe64aeb=_0x3035df;this[_0xe64aeb(0x9dc)]=_0x24f252;}[_0x3035df(0x7ab)](){const _0xc8902b=_0x3035df;clearTimeout(this[_0xc8902b(0x932)]),delete this[_0xc8902b(0x932)],super[_0xc8902b(0x7ab)]();}[_0x3035df(0x72f)](){const _0x146c99=_0x3035df;this[_0x146c99(0x31b)]['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x146c99(0x240)],'content':{'type':_0x41c383[_0x146c99(0x603)],'label':this[_0x146c99(0x4de)]}});}[_0x3035df(0x8be)](){const _0x479d5c=_0x3035df;return _0x37e813['ContentType'][_0x479d5c(0x9e3)];}[_0x3035df(0x98b)](){const _0x179eea=_0x3035df;this[_0x179eea(0x509)]();}[_0x3035df(0xa85)](_0x5360c5,_0x53d44b,_0x130e8d,_0x44e146){const _0x12ce50=_0x3035df;this['db'][_0x12ce50(0xa85)](_0x5360c5,_0x53d44b,_0x130e8d,_0x44e146),this[_0x12ce50(0x70a)]+=0x1,this[_0x12ce50(0x509)]();}[_0x3035df(0x988)](_0x5f4d1e,_0x23f5f5){const _0x3daf32=_0x3035df;this['db'][_0x3daf32(0x988)](_0x5f4d1e,_0x23f5f5),this[_0x3daf32(0x70a)]+=0x1,this[_0x3daf32(0x509)]();}[_0x3035df(0x349)](_0x28b537,_0x1a7680,_0x1237a2){const _0x54e978=_0x3035df,_0x333c1c=this['db']['getContent'](_0x28b537,_0x1a7680,_0x1237a2);return this[_0x54e978(0x39a)]+=0x1,_0x5cdff6[_0x54e978(0x724)](_0x57257f[_0x54e978(0x9e3)],{'type':_0x54e978(0x35e),'label':this['label'],'nodeId':this[_0x54e978(0x8f4)][_0x54e978(0x6cd)](),'nodeType':this[_0x54e978(0x8f4)]['type'],'clusterId':this[_0x54e978(0x7b1)],'size':0x0}),this[_0x54e978(0x509)](),_0x333c1c;}[_0x3035df(0x59d)](_0x4c8afe){const _0x2488e9=_0x3035df;this['db'][_0x2488e9(0x59d)](_0x4c8afe),this[_0x2488e9(0x70a)]+=0x1,this['sendStats']();}[_0x3035df(0x861)](_0x26cfa7){const _0x326596=_0x3035df;this['db'][_0x326596(0x861)](_0x26cfa7);}['loadFromDisk'](_0x2a4ba7){this['db']['loadFromDisk'](_0x2a4ba7);}['sendStats'](){const _0x4ddb27=_0x3035df;this[_0x4ddb27(0x932)]&&clearTimeout(this[_0x4ddb27(0x932)]),this['debounceStats']=setTimeout(async()=>{const _0x271052=_0x4ddb27;delete this['debounceStats'];const _0x3c6fba=this['db'][_0x271052(0x6ea)]();this['systemTopic'][_0x271052(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x271052(0x240)],'content':{'type':_0x41c383['GraphDatabaseStats'],'label':this[_0x271052(0x4de)],'stats':{'timestamp':Date[_0x271052(0x6de)](),'storage':_0x3c6fba,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x271052(0x4dd)],'bytesSent':this[_0x271052(0x89b)],'bytesReceived':this['bytesReceived'],'writes':this[_0x271052(0x70a)],'reads':this[_0x271052(0x39a)],'prompts':0x0,'tokens':0x0}}}),_0x5cdff6[_0x271052(0x74b)](_0x57257f[_0x271052(0x9e3)],_0x271052(0x402)+this[_0x271052(0x7b1)]+_0x271052(0x402)+this[_0x271052(0x4de)],_0x3c6fba);},_0x1a8c76);}}class _0x5485f8 extends _0x8006ba{['mediaStream'];constructor(_0x477834,_0xd7272c,_0x4cecb7){const _0x2de97b=_0x3035df;super(_0x477834,_0xd7272c),this[_0x2de97b(0x562)]=_0x4cecb7;}[_0x3035df(0x8be)](){const _0x34ec55=_0x3035df;return _0x37e813['ContentType'][_0x34ec55(0x4f9)];}[_0x3035df(0x9df)](){const _0x2a4d0e=_0x3035df;return this[_0x2a4d0e(0x562)];}[_0x3035df(0x853)](){const _0x21dbaf=_0x3035df;return this[_0x21dbaf(0x562)]['id'];}}class _0x2ca7c2 extends _0x5485f8{['remoteId'];[_0x3035df(0x572)];[_0x3035df(0x793)];[_0x3035df(0x379)]=_0x61647d();constructor(_0x352027,_0x3d6edd,_0x50187f,_0x4b0d79,_0x259cce){const _0x5d469f=_0x3035df;super(_0x352027,_0x3d6edd,_0x50187f),this[_0x5d469f(0x94d)]=_0x4b0d79,this['params']=_0x259cce;}[_0x3035df(0x7ab)](){const _0x147307=_0x3035df;this[_0x147307(0xab6)](_0x147307(0x8ba)),this[_0x147307(0xab6)](_0x147307(0xadd)),super[_0x147307(0x7ab)]();}[_0x3035df(0x3d0)](_0x5ca7f8){const _0xa646b4=_0x3035df;if(!this['topic'])throw new _0x891088(_0x891088[_0xa646b4(0x5fb)]['OutgoingMediaStreamNoTopic'],{'label':this[_0xa646b4(0x4de)],'ownerId':this[_0xa646b4(0xa41)][_0xa646b4(0x6cd)](),'remoteId':this[_0xa646b4(0x94d)]});this[_0xa646b4(0x793)]['publish']({'sourceId':this[_0xa646b4(0xa41)][_0xa646b4(0x6cd)](),'content':{'action':_0x5532c7[_0xa646b4(0x8d5)],'track':_0x5ca7f8,'stream':this[_0xa646b4(0x562)],'priority':_0x37e813[_0xa646b4(0x6c0)][_0xa646b4(0x43a)],'params':this['getInternalTrackParams'](_0x5ca7f8[_0xa646b4(0x288)],this['params'])}});}[_0x3035df(0xab6)](_0x33bd41){const _0x1e540a=_0x3035df,_0x1afca9=this[_0x1e540a(0x3e5)](_0x33bd41);if(_0x1afca9){if(!this[_0x1e540a(0x793)])return null;this[_0x1e540a(0x793)][_0x1e540a(0xa4f)]({'sourceId':this[_0x1e540a(0xa41)]['getId'](),'content':{'action':_0x5532c7[_0x1e540a(0x65a)],'track':_0x1afca9,'stream':this['mediaStream']}});}return _0x1afca9;}['setPriority'](_0xf82250){const _0x79909a=_0x3035df;if(!this[_0x79909a(0x793)])throw new _0x891088(_0x891088[_0x79909a(0x5fb)][_0x79909a(0x535)],{'label':this[_0x79909a(0x4de)],'ownerId':this[_0x79909a(0xa41)]['getId'](),'remoteId':this[_0x79909a(0x94d)]});this[_0x79909a(0x793)][_0x79909a(0xa4f)]({'sourceId':this['owner'][_0x79909a(0x6cd)](),'content':{'action':_0x5532c7['Update'],'priority':_0xf82250,'stream':this[_0x79909a(0x562)]}});}['subscribe']({trackKinds:_0x2acfb5,params:_0x1d8628},_0x53654f){const _0xa21e07=_0x3035df;if(!this[_0xa21e07(0x793)])throw new _0x891088(_0x891088[_0xa21e07(0x5fb)][_0xa21e07(0x535)],{'label':this[_0xa21e07(0x4de)],'ownerId':this['owner'][_0xa21e07(0x6cd)](),'remoteId':this[_0xa21e07(0x94d)]});for(const _0x1b1faa of this['mediaStream']['getTracks']())_0x2acfb5['includes'](_0x1b1faa[_0xa21e07(0x288)])&&this['topic'][_0xa21e07(0xa4f)]({'sourceId':this['owner'][_0xa21e07(0x6cd)](),'content':{'action':_0x5532c7[_0xa21e07(0x8d5)],'track':_0x1b1faa,'stream':this['mediaStream'],'priority':_0x53654f,'params':this[_0xa21e07(0x86e)](_0x1b1faa[_0xa21e07(0x288)],_0x1d8628)}});}[_0x3035df(0x7c9)]({params:_0x55e3f8}){const _0x1bc75a=_0x3035df;if(!this[_0x1bc75a(0x793)])throw new _0x891088(_0x891088[_0x1bc75a(0x5fb)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x1bc75a(0x4de)],'ownerId':this['owner'][_0x1bc75a(0x6cd)](),'remoteId':this['remoteId']});for(const _0x5c7de4 of this['mediaStream'][_0x1bc75a(0x8fc)]())this[_0x1bc75a(0x793)]['publish']({'sourceId':this[_0x1bc75a(0xa41)][_0x1bc75a(0x6cd)](),'content':{'action':_0x5532c7['Update'],'stream':this[_0x1bc75a(0x562)],'params':this[_0x1bc75a(0x86e)](_0x5c7de4[_0x1bc75a(0x288)],_0x55e3f8)}});}[_0x3035df(0x5ee)]({trackKinds:_0xec49a6}){const _0x3bf359=_0x3035df;if(this['topic']){for(const _0x2fca37 of this[_0x3bf359(0x562)]['getTracks']())_0xec49a6[_0x3bf359(0x7c4)](_0x2fca37[_0x3bf359(0x288)])&&this[_0x3bf359(0x793)]['publish']({'sourceId':this[_0x3bf359(0xa41)][_0x3bf359(0x6cd)](),'content':{'action':_0x5532c7[_0x3bf359(0x65a)],'stream':this[_0x3bf359(0x562)],'track':_0x2fca37}});}}['registerPublisher'](_0x85ec9d){const _0x3fadea=_0x3035df;this[_0x3fadea(0x793)]=_0x85ec9d;}['unregisterPublisher'](_0xf1fd34){const _0x5c89e=_0x3035df;_0xf1fd34===this[_0x5c89e(0x793)]&&(delete this[_0x5c89e(0x793)],this['unregisterPublisherListener']['publish']());}[_0x3035df(0x3e1)](_0x430e55){const _0x46e135=_0x3035df;return this[_0x46e135(0x379)][_0x46e135(0x3bd)](_0x430e55);}[_0x3035df(0x3e5)](_0x59e336){const _0x351feb=_0x3035df;return this[_0x351feb(0x562)][_0x351feb(0x8fc)]()[_0x351feb(0x85d)](_0x5a24ec=>_0x5a24ec[_0x351feb(0x288)]===_0x59e336)||null;}[_0x3035df(0x86e)](_0xbd24e4,_0x16a70b){const _0x3fedbf=_0x3035df;let _0x1f5e3a;return'video'===_0xbd24e4&&_0x16a70b?.[_0x3fedbf(0xadd)]&&_0x3fedbf(0x7cb)!=typeof _0x16a70b[_0x3fedbf(0xadd)]&&(_0x1f5e3a={'kind':_0x3fedbf(0xadd),..._0x16a70b[_0x3fedbf(0xadd)]},_0x1f5e3a[_0x3fedbf(0xa98)]=this[_0x3fedbf(0x8b7)]()),'audio'===_0xbd24e4&&_0x16a70b?.['audio']&&_0x3fedbf(0x7cb)!=typeof _0x16a70b['audio']&&(_0x1f5e3a={'kind':_0x3fedbf(0x8ba),..._0x16a70b[_0x3fedbf(0x8ba)]}),_0x1f5e3a;}[_0x3035df(0x8b7)](){const _0x179ca2=_0x3035df;let _0xa95972={'width':0x0,'height':0x0};const _0x432951=this[_0x179ca2(0x562)]['getVideoTracks']();if(_0x432951[_0x179ca2(0x68c)]>0x0){const _0x566b60=_0x432951[0x0][_0x179ca2(0x7c5)]();_0x566b60[_0x179ca2(0x994)]&&_0x566b60['height']&&(_0xa95972={'width':_0x566b60[_0x179ca2(0x994)],'height':_0x566b60[_0x179ca2(0x965)]});}return _0xa95972;}}class _0xdcc58a extends _0x5485f8{['clusterId'];[_0x3035df(0x92a)]=_0x37e813[_0x3035df(0x6c0)][_0x3035df(0x43a)];[_0x3035df(0xa99)]=new Map();[_0x3035df(0x305)]=new Map();constructor(_0x322aea,_0x132295,_0x278df0,_0x28b628){const _0x2d0694=_0x3035df;super(_0x322aea,_0x132295,_0x278df0 instanceof MediaStream?_0x278df0:_0x278df0[_0x2d0694(0x80f)]?_0x278df0[_0x2d0694(0x80f)]:_0x278df0[_0x2d0694(0xb05)]()),this[_0x2d0694(0x7b1)]=_0x28b628,this[_0x2d0694(0x562)][_0x2d0694(0x8fc)]()[_0x2d0694(0x8fa)](_0x21842c=>this[_0x2d0694(0x66e)](_0x21842c)),_0x5cdff6[_0x2d0694(0x724)](_0x57257f[_0x2d0694(0x936)],{'type':_0x2d0694(0xa4f),'label':this[_0x2d0694(0x4de)],'nodeId':this[_0x2d0694(0xa41)][_0x2d0694(0x6cd)](),'nodeType':this[_0x2d0694(0xa41)][_0x2d0694(0x48b)],'clusterId':this[_0x2d0694(0x7b1)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x2d0694(0x562)][_0x2d0694(0x8fc)]()[_0x2d0694(0x207)](_0x26dc2d=>_0x26dc2d[_0x2d0694(0x288)])});}[_0x3035df(0x7ab)](){const _0x3bc92b=_0x3035df;this[_0x3bc92b(0x305)][_0x3bc92b(0xadc)]>0x0&&(this[_0x3bc92b(0x305)][_0x3bc92b(0x8fa)](_0x3f8f74=>{const _0x41bbaa=_0x3bc92b;_0x3f8f74['unregisterSystemPublisher'](),_0x3f8f74[_0x41bbaa(0x7ab)]();}),this['outgoingStreams']['clear']()),this[_0x3bc92b(0xa99)][_0x3bc92b(0x8fa)](_0x406c1c=>_0x406c1c()),super[_0x3bc92b(0x7ab)]();}['publish'](_0x2dde62){const _0x58d737=_0x3035df;this[_0x58d737(0x31b)][_0x58d737(0xa4f)]({'sourceId':this['owner'][_0x58d737(0x6cd)](),'destinationIds':_0x2dde62?[_0x2dde62]:void 0x0,'propagate':!0x0,'messageType':_0x160b40[_0x58d737(0x240)],'content':{'type':_0x41c383[_0x58d737(0x887)],'ownerId':this[_0x58d737(0xa41)][_0x58d737(0x6cd)](),'label':this[_0x58d737(0x4de)],'stream':{'streamId':this[_0x58d737(0x853)](),'availableTrackKinds':this[_0x58d737(0x562)][_0x58d737(0x8fc)]()[_0x58d737(0x207)](_0xbaf3b9=>_0xbaf3b9[_0x58d737(0x288)])}}});}[_0x3035df(0x771)](){const _0x31117d=_0x3035df;this['systemTopic'][_0x31117d(0xa4f)]({'sourceId':this['owner']['getId'](),'propagate':!0x0,'messageType':_0x160b40[_0x31117d(0x240)],'content':{'type':_0x41c383[_0x31117d(0x594)],'ownerId':this[_0x31117d(0xa41)][_0x31117d(0x6cd)](),'label':this['label']}}),this[_0x31117d(0x31b)][_0x31117d(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x31117d(0x240)],'content':{'type':_0x41c383['CloseMediaStream'],'label':this[_0x31117d(0x4de)]}}),_0x5cdff6[_0x31117d(0x724)](_0x57257f[_0x31117d(0x936)],{'type':_0x31117d(0x771),'label':this[_0x31117d(0x4de)],'nodeId':this[_0x31117d(0xa41)][_0x31117d(0x6cd)](),'nodeType':this['owner'][_0x31117d(0x48b)],'clusterId':this[_0x31117d(0x7b1)],'streamId':this[_0x31117d(0x853)]()});}[_0x3035df(0x56e)](){return this['priority'];}['setPriority'](_0xe9a9d6){const _0x34e39b=_0x3035df;this[_0x34e39b(0x92a)]=_0xe9a9d6,this[_0x34e39b(0x305)][_0x34e39b(0x8fa)](_0x857152=>_0x857152[_0x34e39b(0x8d1)](_0xe9a9d6));}[_0x3035df(0x53a)](_0x19b780,_0xe3a97){const _0x4ca166=_0x3035df;if(!this['outgoingStreams'][_0x4ca166(0x5e8)](_0x19b780)){const _0x3434c3=new _0x2ca7c2(this[_0x4ca166(0xa41)],this[_0x4ca166(0x4de)],this[_0x4ca166(0x562)],_0x19b780,_0xe3a97),_0x85a833=_0x3434c3[_0x4ca166(0x3e1)](()=>{const _0x4e318e=_0x4ca166;_0x85a833(),this[_0x4e318e(0x305)][_0x4e318e(0x557)](_0x19b780)?.['destroy'](),this[_0x4e318e(0x305)]['delete'](_0x19b780);});this[_0x4ca166(0x305)][_0x4ca166(0xac2)](_0x19b780,_0x3434c3),_0x3434c3[_0x4ca166(0xb0e)](this['systemTopic']);}return this[_0x4ca166(0x305)][_0x4ca166(0x557)](_0x19b780);}[_0x3035df(0xa9a)](){const _0x5039db=_0x3035df;return this[_0x5039db(0x562)]['id'];}[_0x3035df(0x627)](_0x346408){const _0x2796ff=_0x3035df;this[_0x2796ff(0x31b)]['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40['Content'],'content':{'type':_0x41c383['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x346408[_0x2796ff(0x288)]]}});}[_0x3035df(0x66e)](_0xeb306a){const _0x289835=_0x3035df,_0x3ce204=()=>this[_0x289835(0x627)](_0xeb306a);_0xeb306a[_0x289835(0x4df)](_0x289835(0x614),_0x3ce204),_0xeb306a[_0x289835(0x4df)](_0x289835(0x44d),_0x3ce204),this[_0x289835(0xa99)][_0x289835(0xac2)](_0xeb306a[_0x289835(0x288)],()=>{const _0x2b657d=_0x289835;_0xeb306a[_0x2b657d(0xa84)](_0x2b657d(0x614),_0x3ce204),_0xeb306a[_0x2b657d(0xa84)]('mute',_0x3ce204),this[_0x2b657d(0xa99)]['delete'](_0xeb306a[_0x2b657d(0x288)]);});}}class _0x284272 extends _0xdcc58a{['audioContext'];[_0x3035df(0x5f4)]=[];[_0x3035df(0x675)];[_0x3035df(0x6bc)];[_0x3035df(0x1f8)];[_0x3035df(0x7fd)];[_0x3035df(0x441)];[_0x3035df(0x4cd)];[_0x3035df(0x4e3)];constructor(_0x45f8b0,_0x49fad1,_0x3b62ee,_0x1f76fc,_0x498fb8,_0x811040){const _0x74841d=_0x3035df;if(super(_0x45f8b0,_0x49fad1,_0x3b62ee,_0x811040),this[_0x74841d(0x6e4)]=_0x498fb8,this['clientStream']=this[_0x74841d(0x562)],this['sourceVideo']=document[_0x74841d(0x43d)](_0x74841d(0xadd)),this[_0x74841d(0x7fd)][_0x74841d(0x798)]=!0x0,this[_0x74841d(0x7fd)][_0x74841d(0x7b6)]=!0x0,this['sourceVideo'][_0x74841d(0x80f)]=this['clientStream'],this[_0x74841d(0x7fd)][_0x74841d(0x87c)](),this[_0x74841d(0x7fd)][_0x74841d(0x2d3)]=()=>{const _0x1e2a98=_0x74841d;this['sourceVideo'][_0x1e2a98(0x4d9)]();},this[_0x74841d(0x441)]=document[_0x74841d(0x43d)](_0x74841d(0x441)),this[_0x74841d(0x4cd)]=this[_0x74841d(0x441)][_0x74841d(0x815)]('2d'),this['mediaStream']=this['canvas'][_0x74841d(0xb05)](_0x1f76fc),this[_0x74841d(0x1f8)]=this[_0x74841d(0x6e4)][_0x74841d(0x53d)](),this[_0x74841d(0x675)][_0x74841d(0x3d7)]()[_0x74841d(0x68c)]>0x0){const _0x29b82b=this[_0x74841d(0x675)][_0x74841d(0x3d7)]()[0x0];this[_0x74841d(0x6bc)]=this['audioContext'][_0x74841d(0x277)](new MediaStream([_0x29b82b])),this[_0x74841d(0x6bc)]['connect'](this[_0x74841d(0x1f8)]);}const _0xba1427=this['audioDestination'][_0x74841d(0x338)][_0x74841d(0x8fc)]()[0x0];this[_0x74841d(0x562)][_0x74841d(0x3d0)](_0xba1427),this[_0x74841d(0x4e3)]=setInterval(()=>{const _0x456138=_0x74841d;this[_0x456138(0x441)][_0x456138(0x994)]=this[_0x456138(0x7fd)]['videoWidth'],this['canvas'][_0x456138(0x965)]=this[_0x456138(0x7fd)][_0x456138(0x39d)],this[_0x456138(0x7fd)]['videoWidth']?(0x0!==this[_0x456138(0x675)][_0x456138(0x62d)]()['length']&&this['clientStream'][_0x456138(0x62d)]()[0x0][_0x456138(0xa0d)]?this[_0x456138(0x562)]['getVideoTracks']()[0x0][_0x456138(0xa0d)]=!0x0:this[_0x456138(0x562)]['getVideoTracks']()[0x0][_0x456138(0xa0d)]=!0x1,0x0!==this[_0x456138(0x675)][_0x456138(0x3d7)]()[_0x456138(0x68c)]&&this['clientStream'][_0x456138(0x3d7)]()[0x0][_0x456138(0xa0d)]?this[_0x456138(0x562)]['getAudioTracks']()[0x0][_0x456138(0xa0d)]=!0x0:this[_0x456138(0x562)]['getAudioTracks']()[0x0][_0x456138(0xa0d)]=!0x1,this[_0x456138(0x4cd)][_0x456138(0x8f8)](this[_0x456138(0x7fd)],0x0,0x0)):this[_0x456138(0x4cd)][_0x456138(0x701)](0x0,0x0,this['canvas'][_0x456138(0x994)],this[_0x456138(0x441)]['height']);},0x3e8/_0x1f76fc);}[_0x3035df(0x7ab)](){const _0x1a739e=_0x3035df;clearInterval(this['interval']),this['sourceVideo'][_0x1a739e(0x59d)](),this['canvas']['remove'](),this[_0x1a739e(0x6bc)]?.[_0x1a739e(0x25f)](),this['audioDestination'][_0x1a739e(0x25f)](),this[_0x1a739e(0x562)][_0x1a739e(0x8fc)]()['forEach'](_0x55ce4d=>{const _0x47ff75=_0x1a739e;_0x55ce4d['stop'](),this[_0x47ff75(0x562)]['removeTrack'](_0x55ce4d);}),super[_0x1a739e(0x7ab)]();}[_0x3035df(0x3d0)](_0x2b7c2f){const _0x3a77ba=_0x3035df,_0x25cba8=this[_0x3a77ba(0x3e5)](_0x2b7c2f[_0x3a77ba(0x288)]);_0x25cba8&&this[_0x3a77ba(0xab6)](_0x25cba8),_0x3a77ba(0x8ba)!==_0x2b7c2f[_0x3a77ba(0x288)]?('video'===_0x2b7c2f[_0x3a77ba(0x288)]&&this[_0x3a77ba(0x3ea)](_0x2b7c2f),this[_0x3a77ba(0x66e)](_0x2b7c2f)):this[_0x3a77ba(0xa6d)](_0x2b7c2f);}[_0x3035df(0xab6)](_0x430319){const _0x569561=_0x3035df,_0x3b00ba=this['getTrackFromParam'](_0x430319);return _0x3b00ba&&(_0x569561(0x8ba)===_0x3b00ba[_0x569561(0x288)]&&(this['audioSource']?.[_0x569561(0x25f)](),this[_0x569561(0x6bc)]=void 0x0),this[_0x569561(0xa99)][_0x569561(0x557)](_0x3b00ba[_0x569561(0x288)])?.(),this['clientStream'][_0x569561(0xab6)](_0x3b00ba)),_0x3b00ba;}[_0x3035df(0x9ac)](_0x205a6e){const _0x297f69=_0x3035df;this[_0x297f69(0xab6)](_0x205a6e[_0x297f69(0x288)]),this[_0x297f69(0x3d0)](_0x205a6e);}['setTransformations'](_0x12a7ae){const _0x2ec690=_0x3035df;this[_0x2ec690(0x5f4)]=_0x12a7ae;}[_0x3035df(0x3e5)](_0x436c8f){const _0x2b8515=_0x3035df;return this[_0x2b8515(0x675)]['getTracks']()[_0x2b8515(0x85d)](_0x44952f=>_0x44952f[_0x2b8515(0x288)]===_0x436c8f)||null;}[_0x3035df(0x882)](_0x44cae7){const _0x37b021=_0x3035df;return _0x37b021(0x395)==typeof _0x44cae7?this[_0x37b021(0x3e5)](_0x44cae7):_0x44cae7;}[_0x3035df(0xa6d)](_0xf54c1f){const _0x28c8cd=_0x3035df;_0x28c8cd(0x426)===this[_0x28c8cd(0x6e4)][_0x28c8cd(0x820)]&&this[_0x28c8cd(0x6e4)][_0x28c8cd(0x282)](),this['clientStream'][_0x28c8cd(0x3d0)](_0xf54c1f),this[_0x28c8cd(0x6bc)]=this[_0x28c8cd(0x6e4)][_0x28c8cd(0x277)](this['clientStream']),this[_0x28c8cd(0x6bc)][_0x28c8cd(0x566)](this['audioDestination']);}[_0x3035df(0x3ea)](_0x5bd6a2){const _0x1b1b70=_0x3035df;this[_0x1b1b70(0x675)]['addTrack'](_0x5bd6a2),this[_0x1b1b70(0x7fd)]['load']();}}class _0x2f3be6 extends _0xdcc58a{}class _0x1a5378 extends _0x3fc886{[_0x3035df(0x8f4)];['clusterId'];[_0x3035df(0x7c3)];[_0x3035df(0x31a)];[_0x3035df(0x409)];[_0x3035df(0x489)];[_0x3035df(0x39c)];['lastTransactionId'];['pendingSyncTransactions']=new Map();[_0x3035df(0xa52)]=new Map();[_0x3035df(0xa54)]=new Map();[_0x3035df(0x42b)]=new Map();[_0x3035df(0x83c)]=new Map();[_0x3035df(0x649)]=new Map();['objectStoreConnector'];['eventListener']=_0x55a9d1();[_0x3035df(0x44c)]=new Map();[_0x3035df(0x932)];['writes']=0x0;[_0x3035df(0x39a)]=0x0;[_0x3035df(0x2e5)]=!0x0;['isSyncing']=!0x0;[_0x3035df(0x234)]=0x0;[_0x3035df(0xa3f)]=0x0;constructor(_0x4466d0,_0x1014d7,_0x530b33,_0x42a439,_0x349dfe,_0x344be2,_0x3e786a,_0x487f6b){const _0x379971=_0x3035df;if(_0x379971(0x395)!=typeof _0x1014d7)throw new _0x2758ff(_0x1e2529['ObjectStoreNameNotString'],_0x379971(0x56b));super(_0x4466d0,_0x1014d7),this[_0x379971(0x8f4)]=_0x4466d0,this[_0x379971(0x7b1)]=_0x530b33,this[_0x379971(0x7c3)]=_0x42a439,this[_0x379971(0x31a)]=_0x349dfe,this[_0x379971(0x409)]=_0x3e786a,this[_0x379971(0x489)]=_0x487f6b;const _0x59ef97='ccc'+this['vendorId']+_0x379971(0x402)+this[_0x379971(0x7b1)]+_0x379971(0x402)+_0x1014d7;this[_0x379971(0x731)]=new _0x344be2(_0x59ef97),this['syncContent']=this[_0x379971(0x489)]?.['syncContent']??!0x0,this[_0x379971(0x489)]?.[_0x379971(0x5c6)]&&(this['syncContent']=!0x1),this[_0x379971(0x509)]();}['reset'](){this['sendStats']();}[_0x3035df(0x8be)](){const _0x146e88=_0x3035df;return _0x37e813[_0x146e88(0x859)]['ObjectStore'];}async[_0x3035df(0x699)](){const _0x5a24e6=_0x3035df;this[_0x5a24e6(0x4eb)]=!0x0;try{const _0x8523fb=await this[_0x5a24e6(0x731)][_0x5a24e6(0x557)](_0x4c79a8),_0x26d234=await _0x8523fb[_0x5a24e6(0x26b)]();this[_0x5a24e6(0x1f9)]=_0x26d234;}catch(_0x11f88f){}this[_0x5a24e6(0x39c)]=this[_0x5a24e6(0xb18)](async(_0x2c5375,_0x5184e8)=>{const _0x15b3ec=_0x5a24e6;if(!(_0x5184e8 instanceof File))try{if(_0x5184e8[_0x15b3ec(0x3c7)]===_0x139727[_0x15b3ec(0x4fb)])return void this[_0x15b3ec(0x2cb)](_0x5184e8);this[_0x15b3ec(0x634)](_0x5184e8);}catch(_0x218263){if(_0x218263 instanceof _0x891088)throw _0x218263;throw new _0x891088(_0x891088[_0x15b3ec(0x5fb)][_0x15b3ec(0x3ae)],{'payload':_0x5184e8});}}),await this['syncTransactions'](),this[_0x5a24e6(0x2e5)]?await this[_0x5a24e6(0xa21)]():this['completeSync'](),this[_0x5a24e6(0x509)]();}[_0x3035df(0x7ab)](){const _0x32c6b8=_0x3035df;this['unsubscribeHandler']?.(),this[_0x32c6b8(0x44c)][_0x32c6b8(0x8fa)](_0x33a26a=>_0x33a26a()),this['listenerUnsubscribers'][_0x32c6b8(0x599)](),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x32c6b8(0x7ab)]();}[_0x3035df(0x72f)](){const _0x461d3f=_0x3035df;this[_0x461d3f(0x31b)]?.[_0x461d3f(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x461d3f(0x240)],'content':{'type':_0x41c383[_0x461d3f(0x7c1)],'label':this[_0x461d3f(0x4de)]}});}[_0x3035df(0x3bd)](_0x293072,_0x488866){const _0x5401d4=_0x3035df;if(this[_0x5401d4(0x44c)]['has'](_0x293072))throw new _0x2758ff(_0x1e2529[_0x5401d4(0x470)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this['listenerUnsubscribers'][_0x5401d4(0xac2)](_0x293072,this['eventListener'][_0x5401d4(0x3bd)](_0x488866)),this[_0x5401d4(0x4eb)]||this[_0x5401d4(0x86a)]['publish']({'event':_0x37e813['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x5401d4(0x234)]}});}['unsubscribe'](_0x28b1f7){const _0x332728=_0x3035df;this[_0x332728(0x44c)][_0x332728(0x557)](_0x28b1f7)?.(),this[_0x332728(0x44c)][_0x332728(0x72d)](_0x28b1f7);}[_0x3035df(0xa4f)](_0xee8ae3){const _0x49233f=_0x3035df;switch(_0xee8ae3['action']){case _0x37e813['PayloadAction']['File']:return this[_0x49233f(0x4c2)](_0xee8ae3[_0x49233f(0x279)],_0xee8ae3[_0x49233f(0x712)],_0xee8ae3[_0x49233f(0x489)]);case _0x37e813['PayloadAction'][_0x49233f(0xab0)]:return this[_0x49233f(0x9b7)](_0xee8ae3[_0x49233f(0x712)]);case _0x37e813[_0x49233f(0x4e4)][_0x49233f(0x231)]:return this[_0x49233f(0x738)](_0xee8ae3[_0x49233f(0x712)],_0xee8ae3[_0x49233f(0x49e)]);default:throw new _0x2758ff(_0x1e2529[_0x49233f(0x398)],_0x49233f(0x3cb)+_0xee8ae3);}}async['unpublish'](_0x446872){const _0x5a71cf=_0x3035df;try{const _0x1ce631=(0x0,_0x5b15a5['v4'])(),_0x459152=this['lastTransactionId'],_0x35980e={'payloadType':_0x139727[_0x5a71cf(0x26e)],'action':_0x2c765a[_0x5a71cf(0xa6e)],'id':_0x1ce631,'parentId':_0x459152,'path':_0x446872};await this[_0x5a71cf(0x9c7)](_0x35980e);const _0x17f4fe=await this['deleteObject'](_0x446872);!0x0!==this[_0x5a71cf(0x489)]?.[_0x5a71cf(0x5c6)]&&await this['send'](_0x35980e),_0x5cdff6[_0x5a71cf(0x724)](_0x57257f[_0x5a71cf(0x271)],{'type':_0x5a71cf(0x771),'label':this[_0x5a71cf(0x4de)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5a71cf(0x8f4)][_0x5a71cf(0x48b)],'clusterId':this['clusterId'],'kind':_0x17f4fe,'path':_0x446872}),this['writes']+=0x1,this[_0x5a71cf(0x509)]();}catch(_0x5c5b90){if(_0x5c5b90 instanceof _0x891088)throw new _0x2758ff(_0x1e2529[_0x5a71cf(0x375)],_0x5a71cf(0x6fb)+_0x446872+_0x5a71cf(0x5f5));throw new _0x2758ff(_0x1e2529['ObjectStoreInvalidPath'],_0x5a71cf(0x6a7)+_0x446872);}}async[_0x3035df(0x557)](_0xdc888f,_0xced5c5){const _0x5ed263=_0x3035df;_0x5cdff6[_0x5ed263(0x724)](_0x57257f[_0x5ed263(0x271)],{'type':_0x5ed263(0x557),'label':this[_0x5ed263(0x4de)],'nodeId':this[_0x5ed263(0x8f4)]['getId'](),'nodeType':this[_0x5ed263(0x8f4)]['type'],'clusterId':this[_0x5ed263(0x7b1)],'path':_0xdc888f}),this[_0x5ed263(0x39a)]+=0x1,this['sendStats']();try{return await this['objectStoreConnector'][_0x5ed263(0x557)](_0xdc888f,_0xced5c5);}catch(_0x5eb017){try{await this[_0x5ed263(0x731)][_0x5ed263(0x557)](_0xdc888f+_0x4695b3);}catch(_0x47d279){throw new _0x2758ff(_0x1e2529[_0x5ed263(0x2be)],'Cannot\x20get\x20file:\x20'+_0xdc888f);}throw new _0x2758ff(_0x1e2529['ObjectStoreNotInSync'],_0x5ed263(0x5a6));}}async[_0x3035df(0xa6c)](_0x436b31,_0x17232a){const _0x3daf65=_0x3035df,{recursive:_0x260118=!0x1,includeSyncingFiles:_0xf4f294=!0x1}=_0x17232a??{};_0x5cdff6[_0x3daf65(0x724)](_0x57257f[_0x3daf65(0x271)],{'type':_0x3daf65(0xa6c),'label':this[_0x3daf65(0x4de)],'nodeId':this['localNode'][_0x3daf65(0x6cd)](),'nodeType':this[_0x3daf65(0x8f4)][_0x3daf65(0x48b)],'clusterId':this[_0x3daf65(0x7b1)],'path':_0x436b31}),this[_0x3daf65(0x39a)]+=0x1,this[_0x3daf65(0x509)]();try{const _0x4d01ab=await this[_0x3daf65(0x731)]['list'](_0x436b31,_0x260118);return this[_0x3daf65(0x9ab)](_0x4d01ab,{'recursive':_0x260118,'includeSyncingFiles':_0xf4f294});}catch(_0x6bb597){throw new _0x2758ff(_0x1e2529['ObjectStoreInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x436b31);}}[_0x3035df(0x711)](_0x4f8f9e){const _0x394986=_0x3035df;this[_0x394986(0xa3f)]+=0x1;for(const _0x25d676 of this[_0x394986(0xa52)][_0x394986(0xb09)]())this[_0x394986(0x6a0)](_0x25d676,[_0x4f8f9e]);}['handleNodeLeave'](_0x4013a0){const _0x8a6e7f=_0x3035df;this[_0x8a6e7f(0xa3f)]-=0x1;const _0x48e38f=this[_0x8a6e7f(0xa54)][_0x8a6e7f(0x557)](_0x4013a0);if(_0x48e38f){for(const [_0x15787b,_0x1df1bd]of _0x48e38f[_0x8a6e7f(0xb09)]())this['sendFileRequestPayload'](_0x15787b,_0x1df1bd);this['pendingFilesSyncing'][_0x8a6e7f(0x72d)](_0x4013a0);}}async[_0x3035df(0x6ea)](_0x5e0c86='/'){const _0x2127fd=_0x3035df;try{return await this[_0x2127fd(0x731)][_0x2127fd(0x3c6)](_0x5e0c86);}catch(_0x224730){if(_0x224730 instanceof Error&&_0x224730['message']['includes'](_0x2127fd(0x243)))return 0x0;throw new _0x2758ff(_0x1e2529['ObjectStoreInvalidPath'],_0x2127fd(0x3f9)+_0x5e0c86);}}['completeSync'](){const _0x1f2db3=_0x3035df;this['isSyncing']&&(this['isSyncing']=!0x1,this[_0x1f2db3(0x86a)]['publish']({'event':_0x37e813[_0x1f2db3(0x736)]['SyncComplete'],'payload':{'filesSynced':this[_0x1f2db3(0x234)]}}));}async[_0x3035df(0x9ab)](_0x147c45,{includeSyncingFiles:_0x20d6db=!0x1}){const _0x8dbf7d=_0x3035df,_0x58956f=[];for(const _0x2d0827 of _0x147c45)if(_0x2d0827[_0x8dbf7d(0x288)]!==_0x37e813[_0x8dbf7d(0x21e)][_0x8dbf7d(0xab0)]){if(_0x2d0827['name']!==_0x4c79a8){if(_0x2d0827[_0x8dbf7d(0x72a)][_0x8dbf7d(0x442)](_0x4695b3)){if(!_0x20d6db)continue;const _0xf51a54=_0x2d0827;if(_0xf51a54[_0x8dbf7d(0x72a)]=_0xf51a54[_0x8dbf7d(0x72a)][_0x8dbf7d(0x471)](_0x4695b3,''),_0xf51a54[_0x8dbf7d(0x2cf)]=_0xf51a54[_0x8dbf7d(0x2cf)][_0x8dbf7d(0x471)](_0x4695b3,''),await this['syncedFileExists'](_0xf51a54[_0x8dbf7d(0x2cf)])){_0x147c45['find'](_0x3c0946=>_0x3c0946[_0x8dbf7d(0x2cf)]===_0xf51a54['pathName'])[_0x8dbf7d(0x82b)]=_0x37e813['FileStatus']['Syncing'];continue;}_0xf51a54[_0x8dbf7d(0x82b)]=_0x37e813['FileStatus']['Pending'];}_0x58956f['push'](_0x2d0827);}}else _0x2d0827[_0x8dbf7d(0x946)]=await this[_0x8dbf7d(0x9ab)](_0x2d0827[_0x8dbf7d(0x946)]??[],{'includeSyncingFiles':_0x20d6db}),_0x58956f[_0x8dbf7d(0x343)](_0x2d0827);return _0x58956f;}async[_0x3035df(0x4c2)](_0x262e3c,_0x3d74c6,_0x28f2e1){const _0x3a5fa9=_0x3035df;try{const _0x3bfc9c=(0x0,_0x5b15a5['v4'])(),_0x5b7059=await _0x11e4dd(_0x262e3c),_0xba8139=_0x3f97da(_0x3d74c6??'/',_0x262e3c[_0x3a5fa9(0x72a)]);let _0x5aa962=!0x0;const _0x104abd={'payloadType':_0x139727[_0x3a5fa9(0x26e)],'action':_0x2c765a[_0x3a5fa9(0x28b)],'id':_0x3bfc9c,'parentId':this[_0x3a5fa9(0x1f9)],'answererId':this['localNode'][_0x3a5fa9(0x6cd)](),'name':_0x262e3c[_0x3a5fa9(0x72a)],'type':_0x262e3c['type'],'path':_0x3d74c6??'/','skipEncryption':_0x28f2e1?.[_0x3a5fa9(0x286)]??!0x1,'checksum':_0x5b7059};try{if(!_0x28f2e1?.['fetchUrl'])throw new Error(_0x3a5fa9(0x604));const _0x473daa=_0xba8139+_0x4695b3;await this[_0x3a5fa9(0x731)]['get'](_0x473daa),_0x5aa962=!0x1,await this['objectStoreConnector'][_0x3a5fa9(0x3ec)](_0x473daa),this[_0x3a5fa9(0xa52)][_0x3a5fa9(0x72d)](_0xba8139);}catch(_0x2be4f8){await this[_0x3a5fa9(0x9c7)](_0x104abd);}if(this[_0x3a5fa9(0x2e5)]||this[_0x3a5fa9(0x489)]?.[_0x3a5fa9(0x5c6)]?await this[_0x3a5fa9(0x206)](_0x262e3c,_0x3d74c6,_0x28f2e1):await this[_0x3a5fa9(0xa56)](_0x262e3c[_0x3a5fa9(0x72a)],_0x3d74c6??'/',{'checksum':_0x5b7059,'skipEncryption':_0x28f2e1?.[_0x3a5fa9(0x286)]??!0x1}),this[_0x3a5fa9(0x649)]['has'](_0xba8139)){const [_0x5cb6d9,_0x1ec622]=this[_0x3a5fa9(0x649)][_0x3a5fa9(0x557)](_0xba8139);this['fileSendingMap'][_0x3a5fa9(0xac2)](_0xba8139,[!0x0,_0x1ec622]);try{await _0x1ec622;}catch(_0x2d5a21){}this['fileSendingMap'][_0x3a5fa9(0x72d)](_0xba8139);}_0x5aa962&&this[_0x3a5fa9(0xa3f)]>0x0&&!0x0!==this['options']?.[_0x3a5fa9(0x5c6)]&&await this['sendFile'](_0x262e3c,_0x104abd),_0x5cdff6[_0x3a5fa9(0x724)](_0x57257f[_0x3a5fa9(0x271)],{'type':'publish','label':this['label'],'nodeId':this[_0x3a5fa9(0x8f4)][_0x3a5fa9(0x6cd)](),'nodeType':this['localNode'][_0x3a5fa9(0x48b)],'clusterId':this[_0x3a5fa9(0x7b1)],'kind':_0x37e813[_0x3a5fa9(0x21e)][_0x3a5fa9(0x474)],'path':_0x3d74c6,'fileName':_0x262e3c[_0x3a5fa9(0x72a)],'fileType':_0x262e3c[_0x3a5fa9(0x48b)],'size':_0x262e3c[_0x3a5fa9(0xadc)]}),this[_0x3a5fa9(0x70a)]+=0x1,this['sendStats']();}catch(_0x54de6a){if(_0x54de6a instanceof _0x891088)throw new _0x2758ff(_0x1e2529['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x2758ff(_0x1e2529[_0x3a5fa9(0x2be)],'Cannot\x20publish\x20file:\x20'+_0x3d74c6+(_0x3d74c6?.['endsWith']('/')?'':'/')+_0x262e3c['name']);}}async[_0x3035df(0x9b7)](_0x5795ce){const _0x3a56f8=_0x3035df;try{const _0x9e7d34=(0x0,_0x5b15a5['v4'])(),_0x20d850=this[_0x3a56f8(0x1f9)],_0x2fa819={'payloadType':_0x139727[_0x3a56f8(0x26e)],'action':_0x2c765a['FolderCreate'],'id':_0x9e7d34,'parentId':_0x20d850,'path':_0x5795ce};await this[_0x3a56f8(0x9c7)](_0x2fa819),await this[_0x3a56f8(0x731)][_0x3a56f8(0xa19)](_0x5795ce),!0x0!==this[_0x3a56f8(0x489)]?.[_0x3a56f8(0x5c6)]&&await this['send'](_0x2fa819),_0x5cdff6[_0x3a56f8(0x724)](_0x57257f[_0x3a56f8(0x271)],{'type':_0x3a56f8(0xa4f),'label':this[_0x3a56f8(0x4de)],'nodeId':this[_0x3a56f8(0x8f4)][_0x3a56f8(0x6cd)](),'nodeType':this[_0x3a56f8(0x8f4)][_0x3a56f8(0x48b)],'clusterId':this[_0x3a56f8(0x7b1)],'kind':_0x37e813[_0x3a56f8(0x21e)]['Folder'],'path':_0x5795ce}),this[_0x3a56f8(0x70a)]+=0x1,this[_0x3a56f8(0x509)]();}catch(_0x42573a){if(_0x42573a instanceof _0x891088)throw new _0x2758ff(_0x1e2529[_0x3a56f8(0x375)],_0x3a56f8(0x5a6));throw new _0x2758ff(_0x1e2529[_0x3a56f8(0x2be)],'Cannot\x20publish\x20folder:\x20'+_0x5795ce);}}async['publishMove'](_0xdafbee,_0x4cebce){const _0x690e5d=_0x3035df;try{const _0x10cd88=(0x0,_0x5b15a5['v4'])(),_0xdd562=this[_0x690e5d(0x1f9)],_0x1f17d2={'payloadType':_0x139727[_0x690e5d(0x26e)],'action':_0x2c765a[_0x690e5d(0x231)],'id':_0x10cd88,'parentId':_0xdd562,'path':_0xdafbee,'newPath':_0x4cebce};await this['publishTransaction'](_0x1f17d2);const _0x3d190b=await this[_0x690e5d(0x37a)](_0xdafbee,_0x4cebce);!0x0!==this[_0x690e5d(0x489)]?.[_0x690e5d(0x5c6)]&&await this['send'](_0x1f17d2),_0x5cdff6['logServiceEvent'](_0x57257f[_0x690e5d(0x271)],{'type':_0x690e5d(0x6f1),'label':this[_0x690e5d(0x4de)],'nodeId':this['localNode'][_0x690e5d(0x6cd)](),'nodeType':this[_0x690e5d(0x8f4)][_0x690e5d(0x48b)],'clusterId':this['clusterId'],'kind':_0x3d190b,'path':_0xdafbee,'newPath':_0x4cebce}),this[_0x690e5d(0x70a)]+=0x1,this[_0x690e5d(0x509)]();}catch(_0x9f6bc9){if(_0x9f6bc9 instanceof _0x891088)throw new _0x2758ff(_0x1e2529[_0x690e5d(0x375)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x2758ff(_0x1e2529[_0x690e5d(0x2be)],_0x690e5d(0x3fe)+_0xdafbee);}}async[_0x3035df(0x634)](_0x295cc9,_0x215c3d=!0x1){const _0x507b3e=_0x3035df;if(this[_0x507b3e(0x1f9)]&&_0x295cc9['parentId']!==this[_0x507b3e(0x1f9)]&&_0x295cc9['id']!==this[_0x507b3e(0x1f9)]){if(!_0x295cc9['parentId'])throw new _0x891088(_0x891088[_0x507b3e(0x5fb)][_0x507b3e(0x3ae)]);this[_0x507b3e(0x29a)][_0x507b3e(0xac2)](_0x295cc9[_0x507b3e(0x36f)],_0x295cc9);}else{try{await this[_0x507b3e(0xabc)](_0x295cc9,_0x215c3d);}catch(_0x44b105){}await this[_0x507b3e(0x960)](_0x295cc9['id']),await this['processPendingSyncTransactions'](_0x295cc9['id'],_0x215c3d);}}async[_0x3035df(0xabc)](_0x537f5e,_0x3aa133=!0x1){const _0x4e6dbf=_0x3035df;switch(_0x537f5e[_0x4e6dbf(0x702)]){case _0x2c765a['FileWrite']:await this[_0x4e6dbf(0x8f3)](_0x537f5e);break;case _0x2c765a[_0x4e6dbf(0x6cc)]:await this['handleFolderCreate'](_0x537f5e);break;case _0x2c765a[_0x4e6dbf(0x231)]:await this[_0x4e6dbf(0x358)](_0x537f5e,_0x3aa133);break;case _0x2c765a[_0x4e6dbf(0xa6e)]:await this['handleObjectDelete'](_0x537f5e,_0x3aa133);break;default:throw new _0x891088(_0x891088[_0x4e6dbf(0x5fb)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x537f5e});}}async[_0x3035df(0x250)](_0x5db9ef,_0x1457c6=!0x1){const _0x40c4bd=_0x3035df;if(this['pendingSyncTransactions'][_0x40c4bd(0x5e8)](_0x5db9ef)){const _0x31f8c8=this[_0x40c4bd(0x29a)][_0x40c4bd(0x557)](_0x5db9ef);this[_0x40c4bd(0x29a)]['delete'](_0x5db9ef),await this[_0x40c4bd(0x634)](_0x31f8c8,_0x1457c6);}}async[_0x3035df(0x2cb)](_0xf1101e){const _0x56a2dd=_0x3035df;switch(_0xf1101e[_0x56a2dd(0x702)]){case _0x2c765a[_0x56a2dd(0x3e4)]:return this['handleFileRequest'](_0xf1101e);case _0x2c765a[_0x56a2dd(0x651)]:return this['handleFileRequestAnswer'](_0xf1101e);case _0x2c765a['RequestFileSync']:return this[_0x56a2dd(0x8b8)](_0xf1101e);case _0x2c765a[_0x56a2dd(0x95f)]:return this[_0x56a2dd(0x8f3)](_0xf1101e);default:throw new _0x891088(_0x891088['codes'][_0x56a2dd(0x3ae)],{'payload':_0xf1101e});}}async['handleFileWrite'](_0x4566d6,_0x448816=0x0){const _0x514fb1=_0x3035df,_0x21f80e=_0x3f97da(_0x4566d6[_0x514fb1(0x712)],_0x4566d6['name']);if(!_0x4566d6[_0x514fb1(0x937)]||void 0x0===_0x4566d6['index']||!_0x4566d6[_0x514fb1(0x400)])return this['fileChunks']['delete'](_0x21f80e),void await this[_0x514fb1(0xa56)](_0x4566d6[_0x514fb1(0x72a)],_0x4566d6['path'],{'checksum':_0x4566d6['checksum'],'skipEncryption':_0x4566d6[_0x514fb1(0x286)]});if(this[_0x514fb1(0xa1a)][_0x514fb1(0x5e8)](_0x21f80e)){const _0x2b2f22=this[_0x514fb1(0xa1a)][_0x514fb1(0x557)](_0x21f80e);_0x2b2f22[_0x514fb1(0x676)]!==_0x4566d6['checksum']&&(_0x2b2f22[_0x514fb1(0x338)]?.[_0x514fb1(0x72f)](),this[_0x514fb1(0xa1a)][_0x514fb1(0x72d)](_0x21f80e));}if(!this['fileChunks']['has'](_0x21f80e)){try{await this['objectStoreConnector'][_0x514fb1(0x3ec)](_0x21f80e);}catch(_0x138896){}try{const _0x3bbaa7=this[_0x514fb1(0x2e5)]?await this[_0x514fb1(0x731)][_0x514fb1(0x794)](_0x21f80e,{'skipEncryption':_0x4566d6['skipEncryption']}):void 0x0,_0xcee742={'chunksReceived':_0x4566d6['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x3bbaa7,'checksum':_0x4566d6[_0x514fb1(0x676)]};this[_0x514fb1(0xa1a)]['set'](_0x21f80e,_0xcee742),await this['createPendingFileWrite'](_0x4566d6[_0x514fb1(0x72a)],_0x4566d6[_0x514fb1(0x712)],{'checksum':_0x4566d6[_0x514fb1(0x676)],'skipEncryption':_0x4566d6[_0x514fb1(0x286)]});}catch(_0x581845){}}const _0x334148=this[_0x514fb1(0xa1a)][_0x514fb1(0x557)](_0x21f80e);if(_0x4566d6[_0x514fb1(0x676)]!==_0x334148[_0x514fb1(0x676)])return;if(this[_0x514fb1(0x62a)](_0x4566d6,_0x21f80e),this[_0x514fb1(0x2e5)]){if(!_0x334148[_0x514fb1(0x338)])throw new _0x891088(_0x891088['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x514fb1(0x4d3)});let _0x53180b=_0x334148['chunksReceived'];if(_0x4566d6['index']!==_0x53180b){if(_0x53180b>_0x4566d6['index'])return;const _0x25ab68=2064.1259842519685;if(_0x4566d6[_0x514fb1(0x4fa)]>_0x53180b+_0x25ab68)return;if(_0x334148[_0x514fb1(0x7e9)]||(_0x334148[_0x514fb1(0x7e9)]=[]),_0x334148[_0x514fb1(0x7e9)]['length']>8256.503937007874)throw this[_0x514fb1(0xa1a)][_0x514fb1(0x72d)](_0x21f80e),new _0x891088(_0x891088[_0x514fb1(0x5fb)][_0x514fb1(0x3ae)],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x334148[_0x514fb1(0x7e9)]['push'](_0x4566d6);}try{_0x334148[_0x514fb1(0x99c)]+=0x1,_0x334148[_0x514fb1(0x824)]+=_0x4566d6['data'][_0x514fb1(0x48f)],await _0x334148[_0x514fb1(0x338)][_0x514fb1(0x9ff)](_0x4566d6[_0x514fb1(0x937)]);}catch(_0x37dd2b){if(console['error']('Error\x20writing\x20chunk\x20to\x20stream',_0x37dd2b),_0x448816>0x3)throw this[_0x514fb1(0xa1a)][_0x514fb1(0x72d)](_0x21f80e),console[_0x514fb1(0xa29)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x37dd2b),new _0x891088(_0x891088[_0x514fb1(0x5fb)]['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x514fb1(0x8f3)](_0x4566d6,_0x448816+0x1);}}try{await this[_0x514fb1(0x2d5)](_0x334148,_0x4566d6[_0x514fb1(0x4fa)]+0x1);}catch(_0x46bed3){throw this[_0x514fb1(0xa1a)][_0x514fb1(0x72d)](_0x21f80e),_0x46bed3;}if(this[_0x514fb1(0xa1a)]['set'](_0x21f80e,_0x334148),_0x334148[_0x514fb1(0x99c)]<_0x4566d6['total'])return;await this[_0x514fb1(0x89c)](_0x21f80e),this[_0x514fb1(0x2e5)]&&(await this[_0x514fb1(0xaec)](_0x4566d6),_0x5cdff6['logServiceEvent'](_0x57257f[_0x514fb1(0x271)],{'type':_0x514fb1(0x699),'label':this[_0x514fb1(0x4de)],'nodeId':this[_0x514fb1(0x8f4)]['getId'](),'nodeType':this[_0x514fb1(0x8f4)]['type'],'clusterId':this['clusterId'],'kind':_0x37e813['ObjectKind'][_0x514fb1(0x474)],'path':_0x4566d6[_0x514fb1(0x712)],'fileName':_0x4566d6['name'],'fileType':_0x4566d6[_0x514fb1(0x48b)],'size':_0x334148[_0x514fb1(0x824)]}));const _0x295296=this['pendingFilesTransactions']['get'](_0x4566d6['path'])??[];for(const _0xf1690e of _0x295296)await this[_0x514fb1(0xabc)](_0xf1690e);this[_0x514fb1(0x42b)][_0x514fb1(0x72d)](_0x4566d6[_0x514fb1(0x712)]),this[_0x514fb1(0x86a)][_0x514fb1(0xa4f)]({'event':_0x37e813[_0x514fb1(0x736)][_0x514fb1(0x28b)],'payload':{'file':{'kind':_0x37e813[_0x514fb1(0x21e)][_0x514fb1(0x474)],'path':_0x4566d6['path'],'type':_0x4566d6[_0x514fb1(0x48b)],'size':_0x334148['bytesReceived'],'name':_0x4566d6[_0x514fb1(0x72a)],'pathName':_0x21f80e,'status':this[_0x514fb1(0x2e5)]?_0x37e813[_0x514fb1(0x34f)][_0x514fb1(0x6b0)]:_0x37e813[_0x514fb1(0x34f)]['Pending']}}}),this[_0x514fb1(0x509)]();}async['manageBufferedChunks'](_0x268ff2,_0xb15a92){const _0x65085a=_0x3035df,_0x17fee7=_0x268ff2[_0x65085a(0x338)];let _0x45467f=0x0;for(;_0x268ff2[_0x65085a(0x7e9)]&&_0x268ff2[_0x65085a(0x7e9)][_0x65085a(0x68c)]>0x0;){const _0x40c651=_0x268ff2[_0x65085a(0x7e9)][_0x65085a(0x85d)](_0x18f8b2=>_0x18f8b2['index']===_0xb15a92+0x1);if(!_0x40c651)break;_0x268ff2[_0x65085a(0x7e9)]=_0x268ff2[_0x65085a(0x7e9)][_0x65085a(0xab2)](_0x39d53f=>_0x39d53f['index']!==_0xb15a92+0x1);try{await _0x17fee7['write'](_0x40c651[_0x65085a(0x937)]),_0xb15a92++;}catch(_0x12f15b){if(console['error'](_0x65085a(0x4b3),_0x12f15b),_0x45467f>0x3)throw console[_0x65085a(0xa29)](_0x65085a(0x560),_0x12f15b),new _0x891088(_0x891088[_0x65085a(0x5fb)][_0x65085a(0x3ae)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x45467f++;continue;}_0x268ff2['chunksReceived']+=0x1,_0x268ff2[_0x65085a(0x824)]+=_0x40c651['data'][_0x65085a(0x48f)];}}async[_0x3035df(0x3c3)](_0x5904a9){const _0x2d445e=_0x3035df;await this['objectStoreConnector'][_0x2d445e(0xa19)](_0x5904a9[_0x2d445e(0x712)]);const [_0x231d1d,_0x1dbf8d]=_0x477a45(_0x5904a9[_0x2d445e(0x712)]);this[_0x2d445e(0x86a)][_0x2d445e(0xa4f)]({'event':_0x37e813[_0x2d445e(0x736)][_0x2d445e(0x6cc)],'payload':{'folder':{'kind':_0x37e813[_0x2d445e(0x21e)]['Folder'],'name':_0x1dbf8d,'path':_0x231d1d,'pathName':_0x5904a9[_0x2d445e(0x712)]}}});}async[_0x3035df(0x984)](_0x533fd7,_0x4177a6=!0x1){const _0x452bcc=_0x3035df;if(!_0x4177a6&&!this[_0x452bcc(0x23f)](_0x533fd7))return;const _0x1999e5=await this[_0x452bcc(0x3ec)](_0x533fd7['path']),[_0x1dc724,_0x125728]=_0x477a45(_0x533fd7[_0x452bcc(0x712)]);this[_0x452bcc(0x86a)][_0x452bcc(0xa4f)]({'event':_0x1999e5===_0x37e813[_0x452bcc(0x21e)][_0x452bcc(0xab0)]?_0x37e813['StorageEventType'][_0x452bcc(0xa9c)]:_0x37e813[_0x452bcc(0x736)]['FileDelete'],'payload':{'name':_0x125728,'path':_0x1dc724,'pathName':_0x533fd7[_0x452bcc(0x712)]}}),this[_0x452bcc(0x509)]();}async[_0x3035df(0x358)](_0xa67043,_0x1574e1=!0x1){const _0x5a512e=_0x3035df;if(!_0x1574e1&&!this[_0x5a512e(0x23f)](_0xa67043))return this[_0x5a512e(0x83c)][_0x5a512e(0xac2)](_0xa67043['newPath'],this['pendingFilesRename'][_0x5a512e(0x557)](_0xa67043[_0x5a512e(0x712)])??_0xa67043[_0x5a512e(0x712)]),void this[_0x5a512e(0x83c)][_0x5a512e(0x72d)](_0xa67043[_0x5a512e(0x712)]);this[_0x5a512e(0x83c)]['delete'](_0xa67043[_0x5a512e(0x712)]);const _0x47867a=await this[_0x5a512e(0x731)]['moveObject'](_0xa67043[_0x5a512e(0x712)],_0xa67043[_0x5a512e(0x49e)]),[_0x802b59,_0x565a70]=_0x477a45(_0xa67043[_0x5a512e(0x712)]),[_0x3f5301,_0x469f87]=_0x477a45(_0xa67043[_0x5a512e(0x49e)]);this[_0x5a512e(0x86a)][_0x5a512e(0xa4f)]({'event':_0x47867a===_0x37e813[_0x5a512e(0x21e)][_0x5a512e(0xab0)]?_0x37e813[_0x5a512e(0x736)][_0x5a512e(0x75c)]:_0x37e813[_0x5a512e(0x736)][_0x5a512e(0x849)],'payload':{'name':_0x469f87,'path':_0x3f5301,'pathName':_0xa67043[_0x5a512e(0x49e)],'oldName':_0x565a70,'oldPath':_0x802b59,'oldPathName':_0xa67043[_0x5a512e(0x712)]}}),this[_0x5a512e(0x509)]();}[_0x3035df(0x23f)](_0x3ceae5){const _0x229be2=_0x3035df,_0x3663b9=this['pendingFilesRename'][_0x229be2(0x557)](_0x3ceae5[_0x229be2(0x712)])??_0x3ceae5['path'];let _0x4afbc7=!0x1;for(const _0x445d7e of this[_0x229be2(0xa1a)][_0x229be2(0x75b)]())if(_0x445d7e[_0x229be2(0x569)](_0x3663b9)){const _0xb3a2e1=this[_0x229be2(0x42b)][_0x229be2(0x557)](_0x445d7e)??[];_0xb3a2e1[_0x229be2(0x343)](_0x3ceae5),this[_0x229be2(0x42b)]['set'](_0x445d7e,_0xb3a2e1),_0x4afbc7=!0x0;}return!_0x4afbc7;}async[_0x3035df(0x9c7)](_0x164580){const _0x15569d=_0x3035df;if(!this[_0x15569d(0x489)]?.[_0x15569d(0x5c6)]){if(!_0x164580['id'])throw new _0x891088(_0x891088['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x15569d(0x811)});if(_0x164580['parentId']!==this[_0x15569d(0x1f9)])throw new _0x891088(_0x891088['codes']['ObjectStoreNotSynced']);await this[_0x15569d(0x31a)][_0x15569d(0x312)](_0x164580,this[_0x15569d(0x4de)]),await this[_0x15569d(0x960)](_0x164580['id']);}}async[_0x3035df(0x960)](_0x18eec5){const _0x5b8b4d=_0x3035df;this[_0x5b8b4d(0x1f9)]=_0x18eec5;const _0x53c83a=new File([new Blob([this[_0x5b8b4d(0x1f9)]])],_0x4c79a8,{'type':_0x5b8b4d(0x2f6)});await this[_0x5b8b4d(0x206)](_0x53c83a,'/');}async[_0x3035df(0x826)](_0x5e66ee){const _0x22cfd5=_0x3035df;try{const _0x489a99=await this[_0x22cfd5(0x557)](_0x5e66ee[_0x22cfd5(0x712)]+'/'+_0x5e66ee[_0x22cfd5(0x72a)],{'skipEncryption':_0x5e66ee[_0x22cfd5(0x286)]}),_0x4cda79=await _0x11e4dd(_0x489a99);if(''!==_0x5e66ee[_0x22cfd5(0x676)]&&_0x4cda79!==_0x5e66ee[_0x22cfd5(0x676)])return;_0x5e66ee[_0x22cfd5(0x4f7)]=this[_0x22cfd5(0x8f4)][_0x22cfd5(0x6cd)](),_0x5e66ee[_0x22cfd5(0x702)]=_0x2c765a[_0x22cfd5(0x651)],await this[_0x22cfd5(0x6a0)](_0x5e66ee,[_0x5e66ee[_0x22cfd5(0x545)]]);}catch(_0x4949b5){}}async[_0x3035df(0xaa8)](_0x8f5857){const _0x10c5ef=_0x3035df,_0x18f164=_0x3f97da(_0x8f5857[_0x10c5ef(0x712)],_0x8f5857[_0x10c5ef(0x72a)]);if(!this[_0x10c5ef(0xa52)]['has'](_0x18f164))return;const _0x2bf833=this['objectRequests'][_0x10c5ef(0x557)](_0x18f164);_0x2bf833[_0x10c5ef(0x702)]=_0x2c765a[_0x10c5ef(0x5b5)];const _0x255459=_0x8f5857[_0x10c5ef(0x4f7)];if(!_0x255459)throw new _0x891088(_0x891088[_0x10c5ef(0x5fb)][_0x10c5ef(0x3ae)],{'message':_0x10c5ef(0x324)});if(this['objectRequests'][_0x10c5ef(0x72d)](_0x18f164),this[_0x10c5ef(0xa54)][_0x10c5ef(0x5e8)](_0x255459)||this[_0x10c5ef(0xa54)][_0x10c5ef(0xac2)](_0x255459,new Map()),this['pendingFilesSyncing'][_0x10c5ef(0x557)](_0x255459)[_0x10c5ef(0xac2)](_0x18f164,[_0x2bf833,this[_0x10c5ef(0x845)](_0x255459,_0x18f164)]),_0x2bf833['answererId']=_0x255459,_0x2bf833[_0x10c5ef(0x2fa)]=this['fileChunks'][_0x10c5ef(0x557)](_0x18f164)?.[_0x10c5ef(0x99c)]??0x0,0x0===_0x2bf833[_0x10c5ef(0x2fa)])try{const [_0x391913,_0x5799c8]=await this[_0x10c5ef(0x909)](_0x8f5857[_0x10c5ef(0x72a)],_0x8f5857['path'],_0x8f5857[_0x10c5ef(0x676)]);_0x391913&&(_0x2bf833['startIndex']=_0x5799c8);}catch(_0x4a3300){}this['send'](_0x2bf833,[_0x255459]);}async[_0x3035df(0x8b8)](_0x304c0d){const _0x37ccd0=_0x3035df,_0x46eb33=_0x3f97da(_0x304c0d[_0x37ccd0(0x712)],_0x304c0d[_0x37ccd0(0x72a)]),_0x41e1d7=await this['get'](_0x46eb33,{'skipEncryption':_0x304c0d[_0x37ccd0(0x286)]}),_0x356dbc={..._0x304c0d,'answererId':this['localNode'][_0x37ccd0(0x6cd)](),'action':_0x2c765a['RequestFileWrite'],'startIndex':_0x304c0d[_0x37ccd0(0x2fa)]??0x0};await this['sendFile'](_0x41e1d7,_0x356dbc,[_0x304c0d[_0x37ccd0(0x545)]]);}async[_0x3035df(0x4b2)](_0x5ced87,_0x52301a,_0x1f1f89){let _0x186636,_0xa31799;const _0x441218=new Promise(async(_0x5e0591,_0x11c0af)=>{_0x186636=_0x5e0591,_0xa31799=_0x11c0af;});return((async()=>{const _0x30d34a=a0_0x4922,_0xd93232=Math['ceil'](_0x5ced87[_0x30d34a(0xadc)]/_0x306086);let _0xa4acc8=_0x52301a[_0x30d34a(0x2fa)]??0x0;const _0x2210f9=_0x3f97da(_0x52301a[_0x30d34a(0x712)],_0x52301a[_0x30d34a(0x72a)]);this['fileSendingMap'][_0x30d34a(0xac2)](_0x2210f9,[!0x1,_0x441218]);for await(const _0xda7e9a of async function*(_0x281e8c,_0x1774f6=0x0,_0x57d644){for await(const _0x48b99d of _0x5eb0d5(_0x281e8c,_0x1774f6,_0x57d644))yield _0x48b99d;}(_0x5ced87,_0xa4acc8,this[_0x30d34a(0x409)])){const [_0x2e93bb]=this[_0x30d34a(0x649)]['get'](_0x2210f9)??[];if(_0x2e93bb)return this[_0x30d34a(0x649)][_0x30d34a(0x72d)](_0x2210f9),void _0xa31799(new Error(_0x30d34a(0x664)));if(this[_0x30d34a(0x42b)][_0x30d34a(0x5e8)](_0x2210f9)){const _0x4d4e5d=this['pendingFilesTransactions'][_0x30d34a(0x557)](_0x2210f9);for(const _0x2fb8a4 of _0x4d4e5d)if(_0x2fb8a4[_0x30d34a(0x702)]===_0x2c765a['FileWrite']||_0x2fb8a4[_0x30d34a(0x702)]===_0x2c765a[_0x30d34a(0xa6e)])return;}const _0x5d3e5e={..._0x52301a,'type':_0x5ced87['type'],'data':_0xda7e9a,'index':_0xa4acc8,'total':_0xd93232};this['send'](_0x5d3e5e,_0x1f1f89),_0xa4acc8++;}const _0x333fa4=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x333fa4),_0x186636());});this[_0x30d34a(0x649)][_0x30d34a(0x72d)](_0x2210f9);})()),_0x441218;}async[_0x3035df(0xaec)](_0x35ae1f){const _0x179c9f=_0x3035df;try{const _0x5cfa06=_0x3f97da(_0x35ae1f[_0x179c9f(0x712)],_0x35ae1f[_0x179c9f(0x72a)]),_0x5995fc=_0x5cfa06+_0x4695b3;await this[_0x179c9f(0x3ec)](_0x5995fc);const [,_0xd2f4e8]=this[_0x179c9f(0xa54)]['get'](_0x35ae1f['answererId'])?.['get'](_0x5cfa06)??[];_0xd2f4e8&&(clearTimeout(_0xd2f4e8),this[_0x179c9f(0xa54)][_0x179c9f(0x557)](_0x35ae1f[_0x179c9f(0x4f7)])['delete'](_0x5cfa06));}catch(_0x1ac422){}0x0===this[_0x179c9f(0xa54)][_0x179c9f(0x557)](_0x35ae1f[_0x179c9f(0x4f7)])?.[_0x179c9f(0xadc)]&&this['pendingFilesSyncing'][_0x179c9f(0x72d)](_0x35ae1f[_0x179c9f(0x4f7)]),0x0===this[_0x179c9f(0xa54)][_0x179c9f(0xadc)]&&0x0===this[_0x179c9f(0xa52)][_0x179c9f(0xadc)]&&this[_0x179c9f(0x4a1)]();}async[_0x3035df(0x695)](){const _0x293dfd=_0x3035df;try{const _0x2dae05=await this[_0x293dfd(0x31a)][_0x293dfd(0x5c7)](this[_0x293dfd(0x4de)],this['lastTransactionId']);for(const _0xc2e3c8 of _0x2dae05)await this[_0x293dfd(0x634)](_0xc2e3c8,!0x0);}catch(_0x4eb211){if(_0x4eb211 instanceof _0x891088&&_0x4eb211[_0x293dfd(0x7ad)]===_0x891088[_0x293dfd(0x5fb)]['ObjectStoreInvalidState']){await this[_0x293dfd(0x731)][_0x293dfd(0x3ec)](_0x4c79a8),delete this[_0x293dfd(0x1f9)];try{const _0x4ce453=await this[_0x293dfd(0x731)][_0x293dfd(0xa6c)]('/',!0x1);for(const _0x25eaeb of _0x4ce453)await this[_0x293dfd(0x731)]['deleteObject'](_0x25eaeb[_0x293dfd(0x2cf)]);}catch(_0x246f85){}return await this['syncTransactions']();}throw _0x4eb211;}}async[_0x3035df(0xa21)](){const _0x18b8f5=_0x3035df,_0x5a1409=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x36d608=async _0x55e6d0=>{const _0x2edccc=a0_0x4922;for(const _0x43cd3c of _0x55e6d0){if(_0x43cd3c[_0x2edccc(0x288)]===_0x37e813[_0x2edccc(0x21e)][_0x2edccc(0xab0)]){_0x43cd3c['entries']&&_0x43cd3c[_0x2edccc(0x946)]['length']>0x0&&await _0x36d608(_0x43cd3c[_0x2edccc(0x946)]);continue;}if(_0x43cd3c['status']!==_0x37e813[_0x2edccc(0x34f)]['Pending'])continue;const _0x59d1d3=await this[_0x2edccc(0x557)](_0x43cd3c[_0x2edccc(0x2cf)]+_0x4695b3),_0x28bebb=JSON[_0x2edccc(0x50b)](await _0x59d1d3[_0x2edccc(0x26b)]()),_0x4ee239=_0x43cd3c['name'][_0x2edccc(0x471)](_0x4695b3,''),_0x329501={'payloadType':_0x139727['Request'],'action':_0x2c765a['RequestFile'],'sourceId':this[_0x2edccc(0x8f4)][_0x2edccc(0x6cd)](),'type':'','path':_0x43cd3c['path'],'name':_0x4ee239,'checksum':_0x28bebb['checksum'],'skipEncryption':_0x28bebb[_0x2edccc(0x286)]},_0x2c5d2f=_0x3f97da(_0x43cd3c[_0x2edccc(0x712)],_0x4ee239);this['objectRequests']['set'](_0x2c5d2f,_0x329501);}};await _0x36d608(_0x5a1409),0x0===this[_0x18b8f5(0xa52)]['size']&&0x0===this[_0x18b8f5(0xa54)][_0x18b8f5(0xadc)]&&this[_0x18b8f5(0x4a1)]();}async[_0x3035df(0xa56)](_0x549dae,_0x14609a,_0x5c1af1){const _0x372700=_0x3035df,_0x505634=new File([new Blob([JSON[_0x372700(0x83d)](_0x5c1af1)])],''+_0x549dae+_0x4695b3,{'type':_0x372700(0x2f6)});await this[_0x372700(0x206)](_0x505634,_0x14609a);}async[_0x3035df(0x909)](_0x1d0eba,_0x14bd37,_0x123033){const _0x53a4ce=_0x3035df;try{const _0x2a7f40=_0x3f97da(_0x14bd37,_0x1d0eba),_0x268b67=_0x2a7f40+_0x4695b3,_0x17dc1a=await this[_0x53a4ce(0x731)][_0x53a4ce(0x557)](_0x268b67),{checksum:_0x89ec7d,skipEncryption:_0x593d54}=JSON['parse'](await _0x17dc1a[_0x53a4ce(0x26b)]()),_0xbfd9fa=(await this[_0x53a4ce(0x731)][_0x53a4ce(0x557)](_0x2a7f40,{'skipEncryption':_0x593d54}))['size'];return _0x89ec7d===_0x123033&&_0xbfd9fa%_0x306086==0x0?[!0x0,Math[_0x53a4ce(0xae2)](_0xbfd9fa/_0x306086)]:(await this['objectStoreConnector'][_0x53a4ce(0x3ec)](_0x2a7f40),[!0x1,0x0]);}catch(_0x4a44ed){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x2d4d65,_0x527986){const _0x4525b2=_0x3035df,[_0x1d0a61,_0x28d8b6]=this[_0x4525b2(0xa54)][_0x4525b2(0x557)](_0x2d4d65)?.[_0x4525b2(0x557)](_0x527986)??[];return _0x28d8b6&&clearTimeout(_0x28d8b6),setTimeout(()=>{const _0x37354a=_0x4525b2,[_0x32f25a,_0xbb7c2f]=this['pendingFilesSyncing'][_0x37354a(0x557)](_0x2d4d65)[_0x37354a(0x557)](_0x527986);this[_0x37354a(0xa5b)](_0x32f25a,_0xbb7c2f);},0x927c0);}async[_0x3035df(0xa5b)](_0x381c10,_0x201e54){const _0x128cde=_0x3035df;clearTimeout(_0x201e54),_0x381c10[_0x128cde(0x702)]=_0x2c765a[_0x128cde(0x3e4)],this['objectRequests'][_0x128cde(0xac2)](_0x3f97da(_0x381c10['path'],_0x381c10[_0x128cde(0x72a)]),_0x381c10),this[_0x128cde(0x6a0)](_0x381c10);}[_0x3035df(0x62a)](_0x46e535,_0x167130){const _0x75cdc1=_0x3035df;if(!this['syncContent'])return;this['pendingFilesSyncing']['has'](_0x46e535['answererId'])||this[_0x75cdc1(0xa54)][_0x75cdc1(0xac2)](_0x46e535[_0x75cdc1(0x4f7)],new Map());const [_0x1a1fa1]=this[_0x75cdc1(0xa54)][_0x75cdc1(0x557)](_0x46e535[_0x75cdc1(0x4f7)])[_0x75cdc1(0x557)](_0x167130)??[{'payloadType':_0x139727[_0x75cdc1(0x4fb)],'action':_0x2c765a[_0x75cdc1(0x3e4)],'sourceId':this['localNode']['getId'](),'type':_0x46e535[_0x75cdc1(0x48b)],'name':_0x46e535[_0x75cdc1(0x72a)],'path':_0x46e535[_0x75cdc1(0x712)],'skipEncryption':_0x46e535['skipEncryption'],'checksum':_0x46e535[_0x75cdc1(0x676)],'answererId':_0x46e535['answererId']}];this[_0x75cdc1(0xa54)][_0x75cdc1(0x557)](_0x46e535[_0x75cdc1(0x4f7)])[_0x75cdc1(0xac2)](_0x167130,[_0x1a1fa1,this[_0x75cdc1(0x845)](_0x46e535[_0x75cdc1(0x4f7)],_0x167130)]);}async[_0x3035df(0x206)](_0x301d14,_0x5b7298,_0xa2b59){const _0x2ee323=_0x3035df;this['isSyncing']&&(this[_0x2ee323(0x234)]+=0x1),await this[_0x2ee323(0x731)]['writeFile'](_0x301d14,_0x5b7298,_0xa2b59);}async[_0x3035df(0x3ec)](_0x2c3e03){const _0x1d29e6=_0x3035df;try{const _0x3a6b0f=await this['objectStoreConnector'][_0x1d29e6(0x3ec)](_0x2c3e03);if(!_0x2c3e03[_0x1d29e6(0x442)](_0x4695b3))try{await this[_0x1d29e6(0x731)]['deleteObject'](_0x2c3e03+_0x4695b3);}catch(_0x1d50e8){}return this[_0x1d29e6(0x4eb)]&&_0x3a6b0f===_0x37e813[_0x1d29e6(0x21e)]['File']&&(this[_0x1d29e6(0x234)]+=0x1),_0x3a6b0f;}catch(_0x2c1f4e){return await this[_0x1d29e6(0x731)][_0x1d29e6(0x3ec)](_0x2c3e03+_0x4695b3);}}async['moveObject'](_0x3e2f51,_0x4c3c6b){const _0x397b0b=_0x3035df;try{const _0x212e41=await this['objectStoreConnector'][_0x397b0b(0x37a)](_0x3e2f51,_0x4c3c6b);if(!_0x3e2f51['endsWith'](_0x4695b3))try{await this[_0x397b0b(0x731)]['moveObject'](_0x3e2f51+_0x4695b3,_0x4c3c6b+_0x4695b3);}catch(_0x213c9f){}return _0x212e41;}catch(_0xcc0a6){return await this[_0x397b0b(0x731)][_0x397b0b(0x37a)](_0x3e2f51+_0x4695b3,_0x4c3c6b+_0x4695b3);}}[_0x3035df(0x509)](){const _0x40b121=_0x3035df;this[_0x40b121(0x932)]&&clearTimeout(this[_0x40b121(0x932)]),this['debounceStats']=setTimeout(async()=>{const _0x87641=_0x40b121;delete this[_0x87641(0x932)];const _0xeabbbb=await this[_0x87641(0x731)]['calculateSize']('/');this['systemTopic']?.[_0x87641(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x87641(0x240)],'content':{'type':_0x41c383[_0x87641(0x834)],'label':this[_0x87641(0x4de)],'stats':{'timestamp':Date[_0x87641(0x6de)](),'storage':_0xeabbbb,'messagesSent':this[_0x87641(0x2a1)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x87641(0x89b)],'bytesReceived':this[_0x87641(0x824)],'writes':this[_0x87641(0x70a)],'reads':this[_0x87641(0x39a)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x5cdff6[_0x87641(0x74b)](_0x57257f['ObjectStorage'],_0x87641(0x402)+this[_0x87641(0x7b1)]+_0x87641(0x402)+this[_0x87641(0x4de)],_0xeabbbb);},_0x1a8c76);}async[_0x3035df(0xa6f)](_0x5a137a){const _0x1d13da=_0x3035df;try{return await this[_0x1d13da(0x557)](_0x5a137a),!0x0;}catch(_0x259223){return!0x1;}}async[_0x3035df(0x89c)](_0x4810a7){const _0x1253cb=_0x3035df;if(!this['fileChunks']['has'](_0x4810a7))return;const _0x557dad=this[_0x1253cb(0xa1a)][_0x1253cb(0x557)](_0x4810a7);if(_0x557dad[_0x1253cb(0x338)])try{await _0x557dad['stream'][_0x1253cb(0x72f)]();}catch(_0x91846c){console[_0x1253cb(0xa29)]('Error\x20closing\x20writable\x20stream',_0x91846c);}this[_0x1253cb(0xa1a)][_0x1253cb(0x72d)](_0x4810a7);}}class _0x1368d2 extends _0x3fc886{[_0x3035df(0x8f4)];[_0x3035df(0x7b1)];[_0x3035df(0x39c)]=new Map();[_0x3035df(0x932)];constructor(_0x2c7aa7,_0x2f0e00,_0x4c032e){const _0x52d359=_0x3035df;if(_0x52d359(0x395)!=typeof _0x2f0e00)throw new _0x2758ff(_0x1e2529['PubSubTopicNameNotString'],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x2c7aa7,_0x2f0e00),this[_0x52d359(0x8f4)]=_0x2c7aa7,this['clusterId']=_0x4c032e,this[_0x52d359(0x509)]();}[_0x3035df(0x98b)](){const _0x3e8655=_0x3035df;this[_0x3e8655(0x509)]();}['getContentType'](){const _0x3396c3=_0x3035df;return _0x37e813[_0x3396c3(0x859)][_0x3396c3(0x4e2)];}[_0x3035df(0xa4f)](_0xb99fe8,_0x4dfe10){const _0xbb23cd=_0x3035df;_0x5cdff6[_0xbb23cd(0x3e9)](_0x2a39e9[_0xbb23cd(0x4e2)],_0xbb23cd(0x44a),this[_0xbb23cd(0x8f4)][_0xbb23cd(0x6cd)](),_0xb99fe8,_0x4dfe10),_0x5cdff6[_0xbb23cd(0x724)](_0x57257f['PubSub'],{'type':'publish','label':this[_0xbb23cd(0x4de)],'nodeId':this[_0xbb23cd(0x8f4)][_0xbb23cd(0x6cd)](),'nodeType':this['localNode'][_0xbb23cd(0x48b)],'clusterId':this[_0xbb23cd(0x7b1)],'remoteIds':_0x4dfe10??[],'contentType':_0xb99fe8 instanceof File?_0x37e813[_0xbb23cd(0x859)]['File']:_0x37e813[_0xbb23cd(0x859)][_0xbb23cd(0x51e)],'size':_0xb99fe8 instanceof File?_0xb99fe8[_0xbb23cd(0xadc)]:JSON[_0xbb23cd(0x83d)](_0xb99fe8)[_0xbb23cd(0x68c)]}),this['sendStats'](),this['send'](_0xb99fe8,_0x4dfe10);}['subscribe'](_0x413923,_0x3184a8){const _0x32491e=_0x3035df;if(this['unsubscribeHandler'][_0x32491e(0x5e8)](_0x413923))throw new _0x2758ff(_0x1e2529[_0x32491e(0x226)],_0x32491e(0xa7e));this[_0x32491e(0x39c)][_0x32491e(0xac2)](_0x413923,this[_0x32491e(0xb18)]((_0x3de5d2,_0x34972b)=>{const _0x4bf531=_0x32491e;_0x4bf531(0x937)===_0x413923&&_0x34972b instanceof File||!(_0x4bf531(0x279)!==_0x413923||_0x34972b instanceof File)||(_0x5cdff6['log'](_0x2a39e9['PubSub'],_0x4bf531(0x4bf),this[_0x4bf531(0x8f4)][_0x4bf531(0x6cd)](),_0x3de5d2,_0x34972b),_0x5cdff6[_0x4bf531(0x724)](_0x57257f[_0x4bf531(0x4e2)],{'type':'subscribe','label':this[_0x4bf531(0x4de)],'nodeId':this[_0x4bf531(0x8f4)][_0x4bf531(0x6cd)](),'nodeType':this[_0x4bf531(0x8f4)][_0x4bf531(0x48b)],'clusterId':this[_0x4bf531(0x7b1)],'remoteId':_0x3de5d2,'contentType':_0x413923,'size':_0x34972b instanceof File?_0x34972b[_0x4bf531(0xadc)]:JSON[_0x4bf531(0x83d)](_0x34972b)['length']}),this['sendStats'](),_0x3184a8(_0x3de5d2,_0x34972b));}));}['unsubscribe'](_0x817b08){const _0x2882b5=_0x3035df;this[_0x2882b5(0x39c)][_0x2882b5(0x557)](_0x817b08)?.(),this['unsubscribeHandler'][_0x2882b5(0x72d)](_0x817b08);}['destroy'](){const _0x6e91f=_0x3035df;this['unsubscribeHandler'][_0x6e91f(0x8fa)](_0x22d41c=>_0x22d41c()),clearTimeout(this[_0x6e91f(0x932)]),delete this['debounceStats'],super['destroy']();}['close'](){const _0x13ed4a=_0x3035df;this[_0x13ed4a(0x31b)]?.[_0x13ed4a(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x13ed4a(0x240)],'content':{'type':_0x41c383[_0x13ed4a(0xaa3)],'label':this[_0x13ed4a(0x4de)]}});}['sendStats'](){const _0x3b4922=_0x3035df;this[_0x3b4922(0x932)]&&clearTimeout(this[_0x3b4922(0x932)]),this[_0x3b4922(0x932)]=setTimeout(()=>{const _0x752421=_0x3b4922;this[_0x752421(0x31b)]?.[_0x752421(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x752421(0x240)],'content':{'type':_0x41c383[_0x752421(0x4f1)],'label':this[_0x752421(0x4de)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x752421(0x2a1)],'messagesReceived':this[_0x752421(0x4dd)],'bytesSent':this[_0x752421(0x89b)],'bytesReceived':this[_0x752421(0x824)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x1a8c76);}}class _0x16be9b extends _0x5485f8{[_0x3035df(0x8f4)];['internalId'];['availableTrackKinds'];[_0x3035df(0x7b1)];[_0x3035df(0x39c)];[_0x3035df(0x789)];[_0x3035df(0x504)];[_0x3035df(0x305)]=new Map();['renderElement'];['subscribedTracks']=new Set();[_0x3035df(0x553)];[_0x3035df(0x95c)]=_0x55a9d1();[_0x3035df(0xa99)]=new Map();constructor(_0x4ddf17,_0x3946c2,_0x5ab615,_0x323ffe,_0x43e052,_0x5a406a){const _0x46d290=_0x3035df;super(_0x3946c2,_0x5ab615,new MediaStream()),this[_0x46d290(0x8f4)]=_0x4ddf17,this[_0x46d290(0x531)]=_0x323ffe,this[_0x46d290(0x47c)]=_0x43e052,this[_0x46d290(0x7b1)]=_0x5a406a,this[_0x46d290(0x562)][_0x46d290(0x8fc)]()[_0x46d290(0x8fa)](_0x2abf23=>this[_0x46d290(0x66e)](_0x2abf23));}[_0x3035df(0x7ab)](){const _0x303a0c=_0x3035df;this[_0x303a0c(0x305)][_0x303a0c(0xadc)]>0x0&&(this[_0x303a0c(0x305)][_0x303a0c(0x8fa)](_0x3fb642=>{const _0x268de5=_0x303a0c;_0x3fb642[_0x268de5(0x38f)](),_0x3fb642[_0x268de5(0x7ab)]();}),this['outgoingStreams'][_0x303a0c(0x599)]()),this[_0x303a0c(0xa99)][_0x303a0c(0x8fa)](_0x2a3a15=>_0x2a3a15()),this[_0x303a0c(0x562)][_0x303a0c(0x8fc)]()[_0x303a0c(0x8fa)](_0x181aee=>this['mediaStream']['removeTrack'](_0x181aee)),this[_0x303a0c(0x504)]&&(clearTimeout(this[_0x303a0c(0x504)]),delete this[_0x303a0c(0x504)]),this[_0x303a0c(0x789)]?.(),super[_0x303a0c(0x7ab)]();}[_0x3035df(0x9af)](_0x61b04a){const _0x22135b=_0x3035df;this[_0x22135b(0x39c)]=_0x61b04a[_0x22135b(0x3bd)](({content:_0x5d5084})=>{const _0x50fcef=_0x22135b;switch(_0x5d5084[_0x50fcef(0x702)]){case _0x5532c7[_0x50fcef(0x294)]:if(_0x5cdff6[_0x50fcef(0x3e9)](_0x2a39e9[_0x50fcef(0x929)],_0x50fcef(0x8a7),this['localNode']['getId'](),this['providerId']),_0x5d5084[_0x50fcef(0x338)]['id']!==this[_0x50fcef(0x531)]||_0x5d5084[_0x50fcef(0x553)]!==this[_0x50fcef(0x553)])return;this[_0x50fcef(0xab6)](_0x5d5084[_0x50fcef(0x3d4)][_0x50fcef(0x288)]),this[_0x50fcef(0x562)][_0x50fcef(0x3d0)](_0x5d5084['track']);for(const [_0x38c009,_0x43e07c]of this[_0x50fcef(0x305)][_0x50fcef(0x946)]())try{_0x43e07c['addTrack'](_0x5d5084[_0x50fcef(0x3d4)]);}catch(_0x22be87){_0x43e07c[_0x50fcef(0x7ab)](),this[_0x50fcef(0x305)][_0x50fcef(0x72d)](_0x38c009);}this[_0x50fcef(0x66e)](_0x5d5084['track']),this[_0x50fcef(0x3a0)](),_0x50fcef(0xadd)===_0x5d5084[_0x50fcef(0x3d4)][_0x50fcef(0x288)]&&this[_0x50fcef(0x7b3)]&&(this['mediaStream']['active']?setTimeout(()=>this[_0x50fcef(0x7b3)]?.[_0x50fcef(0x4d9)](),0x0):setTimeout(()=>this[_0x50fcef(0x7b3)]?.[_0x50fcef(0x87c)](),0x0),this['setupResizeHandler']());break;case _0x5532c7[_0x50fcef(0x24a)]:if(_0x5d5084[_0x50fcef(0x338)]['id']!==this[_0x50fcef(0x531)]||_0x5d5084[_0x50fcef(0x553)]!==this['providerId'])return;this['removeTrack'](_0x5d5084[_0x50fcef(0x3d4)][_0x50fcef(0x288)]),this['renderElement']&&'video'===_0x5d5084[_0x50fcef(0x3d4)][_0x50fcef(0x288)]&&(this['resizeHandler']?.(),this[_0x50fcef(0x562)][_0x50fcef(0x8fc)]()['length']>0x0?this['renderElement'][_0x50fcef(0x87c)]():this[_0x50fcef(0x7b3)][_0x50fcef(0x80f)]=null);}});}[_0x3035df(0xaae)](){const _0x253f50=_0x3035df;this[_0x253f50(0x39c)]?.(),this[_0x253f50(0xa99)][_0x253f50(0x8fa)](_0x3584aa=>_0x3584aa()),delete this[_0x253f50(0x39c)];}[_0x3035df(0x853)](){const _0x6524f=_0x3035df;return this[_0x6524f(0x531)];}['setInternalId'](_0x314a09){const _0x35bc6e=_0x3035df;this[_0x35bc6e(0x531)]=_0x314a09;}[_0x3035df(0x81b)](){return this['availableTrackKinds'];}[_0x3035df(0x94e)](_0x1bba4f){const _0x29c20b=_0x3035df;for(const _0x1683d2 of _0x1bba4f||this[_0x29c20b(0x47c)])if(!this[_0x29c20b(0x562)][_0x29c20b(0x8fc)]()['find'](_0x34e64d=>_0x34e64d[_0x29c20b(0x288)]===_0x1683d2))return!0x1;return!0x0;}[_0x3035df(0x8b7)](){const _0x27e562=_0x3035df;let _0x2fdb46={'width':0x0,'height':0x0};const _0x13a938=this[_0x27e562(0x562)][_0x27e562(0x62d)]();if(_0x13a938[_0x27e562(0x68c)]>0x0){const _0xc4aa65=_0x13a938[0x0]['getSettings']();_0xc4aa65['width']&&_0xc4aa65[_0x27e562(0x965)]&&(_0x2fdb46={'width':_0xc4aa65[_0x27e562(0x994)],'height':_0xc4aa65[_0x27e562(0x965)]});}return _0x2fdb46;}[_0x3035df(0x96e)](_0x4425b4){const _0x536f6d=_0x3035df;for(const _0x5dc885 of _0x4425b4)if(!this['subscribedTracks'][_0x536f6d(0x5e8)](_0x5dc885))return!0x1;return!0x0;}[_0x3035df(0x53a)](_0x336559,_0x141748){const _0x2dbd13=_0x3035df;if(!this[_0x2dbd13(0x305)][_0x2dbd13(0x5e8)](_0x336559)){const _0x589281=new _0x2ca7c2(this[_0x2dbd13(0xa41)],this['label'],this[_0x2dbd13(0x562)],_0x336559,_0x141748),_0x446334=_0x589281['onUnregisterPublisher'](()=>{const _0x266cfc=_0x2dbd13;_0x446334(),this[_0x266cfc(0x305)]['get'](_0x336559)?.[_0x266cfc(0x7ab)](),this[_0x266cfc(0x305)][_0x266cfc(0x72d)](_0x336559);});this[_0x2dbd13(0x305)][_0x2dbd13(0xac2)](_0x336559,_0x589281),_0x589281[_0x2dbd13(0xb0e)](this['systemTopic']);}return this[_0x2dbd13(0x305)][_0x2dbd13(0x557)](_0x336559);}[_0x3035df(0xa9a)](){const _0x1f2d52=_0x3035df;return this[_0x1f2d52(0x562)]['id'];}[_0x3035df(0x56e)](){const _0x3e09db=_0x3035df;return _0x37e813[_0x3e09db(0x6c0)][_0x3e09db(0x43a)];}[_0x3035df(0x68b)](){const _0xa1bc4b=_0x3035df;return Array['from'](this[_0xa1bc4b(0x477)]);}[_0x3035df(0x3bd)](_0x2021c1){const _0x1904d4=_0x3035df;let _0x4d8021=[];if(_0x2021c1){_0x1904d4(0x7dc)!=typeof _0x2021c1[_0x1904d4(0xadd)]||_0x2021c1[_0x1904d4(0xadd)][_0x1904d4(0x7b3)]instanceof HTMLVideoElement||!this['renderElement']||(_0x2021c1['video']={'renderElement':this[_0x1904d4(0x7b3)]});try{(0x0,_0x37e813[_0x1904d4(0x534)])(_0x2021c1);}catch(_0xf25413){throw new _0x2758ff(_0x1e2529['RemoteMediaStreamInvalidSubscriptionParams'],_0x1904d4(0x605));}_0x2021c1['video']&&(_0x4d8021[_0x1904d4(0x343)](_0x1904d4(0xadd)),_0x1904d4(0x7cb)!=typeof _0x2021c1[_0x1904d4(0xadd)]&&_0x2021c1[_0x1904d4(0xadd)][_0x1904d4(0x7b3)]&&(this[_0x1904d4(0x7b3)]=_0x2021c1[_0x1904d4(0xadd)][_0x1904d4(0x7b3)],_0x2021c1[_0x1904d4(0xadd)]['maxResolution']||(_0x2021c1['video'][_0x1904d4(0x51a)]={'width':this[_0x1904d4(0x7b3)][_0x1904d4(0x20d)],'height':this[_0x1904d4(0x7b3)][_0x1904d4(0x851)]}),delete _0x2021c1['video']['renderElement'])),_0x2021c1[_0x1904d4(0x8ba)]&&_0x4d8021[_0x1904d4(0x343)](_0x1904d4(0x8ba));}else _0x4d8021=this[_0x1904d4(0x81b)]();this['isSubscribed'](_0x4d8021)||(_0x4d8021['forEach'](_0x199b20=>this['subscribedTracks'][_0x1904d4(0x784)](_0x199b20)),this[_0x1904d4(0x31b)]['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x1904d4(0x240)],'content':{'type':_0x41c383[_0x1904d4(0x388)],'label':this[_0x1904d4(0x4de)],'ownerId':this[_0x1904d4(0xa41)][_0x1904d4(0x6cd)](),'trackKinds':_0x4d8021,'params':_0x2021c1}}),_0x5cdff6[_0x1904d4(0x724)](_0x57257f[_0x1904d4(0x936)],{'type':_0x1904d4(0x3bd),'label':this[_0x1904d4(0x4de)],'nodeId':this[_0x1904d4(0x8f4)][_0x1904d4(0x6cd)](),'nodeType':this['localNode'][_0x1904d4(0x48b)],'clusterId':this[_0x1904d4(0x7b1)],'sourceId':this['owner'][_0x1904d4(0x6cd)](),'streamId':this[_0x1904d4(0x531)],'trackKinds':_0x4d8021}));}[_0x3035df(0x7c9)](_0x1a7807){const _0x5c192b=_0x3035df;try{(0x0,_0x37e813[_0x5c192b(0x534)])(_0x1a7807);}catch(_0x18fe8e){throw new _0x2758ff(_0x1e2529[_0x5c192b(0x74e)],_0x5c192b(0x605));}this['updateDebounce']&&clearTimeout(this[_0x5c192b(0x504)]),this[_0x5c192b(0x504)]=setTimeout(()=>{const _0x3cab93=_0x5c192b;delete this['updateDebounce'],this[_0x3cab93(0x31b)][_0x3cab93(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x3cab93(0x240)],'content':{'type':_0x41c383[_0x3cab93(0x48e)],'label':this[_0x3cab93(0x4de)],'ownerId':this[_0x3cab93(0xa41)][_0x3cab93(0x6cd)](),'params':_0x1a7807}});},0x1f4);}[_0x3035df(0x5ee)](_0x278814){const _0x57cb1d=_0x3035df;_0x278814||(_0x278814=this['getAvailableTrackKinds']()),(_0x278814=Array[_0x57cb1d(0x727)](_0x278814)?_0x278814:[_0x278814])[_0x57cb1d(0x8fa)](_0x1e7044=>this[_0x57cb1d(0x477)]['delete'](_0x1e7044)),this[_0x57cb1d(0x31b)][_0x57cb1d(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x57cb1d(0x240)],'content':{'type':_0x41c383[_0x57cb1d(0x4f4)],'label':this[_0x57cb1d(0x4de)],'ownerId':this[_0x57cb1d(0xa41)][_0x57cb1d(0x6cd)](),'trackKinds':_0x278814,'remainingTracks':this[_0x57cb1d(0x477)][_0x57cb1d(0xadc)]}});}[_0x3035df(0x85c)](_0x52bff1){const _0x4a7762=_0x3035df;return this[_0x4a7762(0x95c)][_0x4a7762(0x3bd)](_0x52bff1);}[_0x3035df(0xb04)](){const _0x2af821=_0x3035df;return this[_0x2af821(0x553)];}[_0x3035df(0x6ab)](_0xe0f76){const _0x1248d5=_0x3035df;this['providerId']!==_0xe0f76&&(this[_0x1248d5(0x553)]=_0xe0f76,this[_0x1248d5(0x95c)][_0x1248d5(0xa4f)](_0xe0f76));}[_0x3035df(0x3ce)](_0x5d68f4){const _0x290013=_0x3035df;this[_0x290013(0xa99)]['get'](_0x5d68f4)?.(),this[_0x290013(0xa99)][_0x290013(0x72d)](_0x5d68f4);}[_0x3035df(0xab6)](_0x175d01){const _0x395edc=_0x3035df,_0x409cc1=this['mediaStream'][_0x395edc(0x8fc)]()[_0x395edc(0x85d)](_0x397794=>_0x397794[_0x395edc(0x288)]===_0x175d01);_0x409cc1&&(this[_0x395edc(0x562)][_0x395edc(0xab6)](_0x409cc1),this[_0x395edc(0x305)][_0x395edc(0x8fa)](_0x5347a3=>_0x5347a3[_0x395edc(0xab6)](_0x175d01)),this[_0x395edc(0xa99)][_0x395edc(0x557)](_0x175d01)?.());}[_0x3035df(0x3a0)](){const _0x4ca7a3=_0x3035df;this['renderElement']&&(this[_0x4ca7a3(0x7b3)][_0x4ca7a3(0x80f)]&&this[_0x4ca7a3(0x7b3)][_0x4ca7a3(0x80f)]===this[_0x4ca7a3(0x562)]||(this['renderElement'][_0x4ca7a3(0x80f)]=this[_0x4ca7a3(0x562)]));}[_0x3035df(0x461)](){const _0x32e23c=_0x3035df;if(this[_0x32e23c(0x7b3)]&&!this[_0x32e23c(0x789)]&&_0x32e23c(0x582)!=typeof ResizeObserver){let _0x4c8c61=this['renderElement'][_0x32e23c(0x20d)],_0x485b32=this['renderElement']['clientHeight'];const _0x3f1a67=new ResizeObserver(_0x287a94=>{const _0x17b22d=_0x32e23c,{width:_0x161b60,height:_0x4e9dcd}=_0x287a94[0x0][_0x17b22d(0x37d)];_0x4c8c61===_0x161b60&&_0x485b32===_0x4e9dcd||(_0x4c8c61=Math[_0x17b22d(0x22b)](_0x161b60),_0x485b32=Math[_0x17b22d(0x22b)](_0x4e9dcd),this[_0x17b22d(0x7c9)]({'video':{'maxResolution':{'width':_0x161b60,'height':_0x4e9dcd}}}));});_0x3f1a67[_0x32e23c(0x7e8)](this['renderElement']),this[_0x32e23c(0x789)]=()=>_0x3f1a67[_0x32e23c(0x25f)]();}}[_0x3035df(0xabf)](_0x43b92a){const _0x3ecec7=_0x3035df,_0xc82107=[];for(const _0x5597d1 of this[_0x3ecec7(0x477)])this[_0x3ecec7(0xab6)](_0x5597d1),_0xc82107[_0x3ecec7(0x343)](_0x5597d1);this[_0x3ecec7(0x553)]&&this[_0x3ecec7(0x31b)][_0x3ecec7(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40['Content'],'content':{'type':_0x41c383['RemoteMediaStreamTrackFail'],'label':this[_0x3ecec7(0x4de)],'streamId':this['internalId'],'ownerId':this['owner'][_0x3ecec7(0x6cd)](),'providerId':this[_0x3ecec7(0x553)],'trackKinds':_0xc82107}});}[_0x3035df(0x66e)](_0x353380){const _0xa04131=_0x3035df,_0x510eac=()=>this[_0xa04131(0xabf)](_0x353380);_0x353380[_0xa04131(0x4df)](_0xa04131(0x614),_0x510eac),_0x353380[_0xa04131(0x4df)](_0xa04131(0x44d),_0x510eac),this['trackEndedListeners'][_0xa04131(0xac2)](_0x353380[_0xa04131(0x288)],()=>{const _0x5e9d24=_0xa04131;_0x353380[_0x5e9d24(0xa84)]('ended',_0x510eac),_0x353380[_0x5e9d24(0xa84)]('mute',_0x510eac),this['trackEndedListeners']['delete'](_0x353380['kind']);});}}class _0x26aac1 extends _0x3fc886{[_0x3035df(0x8f4)];[_0x3035df(0x7b1)];['vendorId'];['db'];[_0x3035df(0x932)];[_0x3035df(0x70a)]=0x0;[_0x3035df(0x39a)]=0x0;[_0x3035df(0x9dc)]=!0x1;constructor(_0x3a6686,_0x403b94,_0x380359,_0x2627fa,_0x1e1a2d){const _0x2976a2=_0x3035df;if(_0x2976a2(0x395)!=typeof _0x403b94)throw new _0x2758ff(_0x1e2529[_0x2976a2(0x9de)],_0x2976a2(0x949));super(_0x3a6686,_0x403b94),this['localNode']=_0x3a6686,this[_0x2976a2(0x7b1)]=_0x380359,this[_0x2976a2(0x7c3)]=_0x2627fa;const _0x134764=_0x2976a2(0x402)+this[_0x2976a2(0x7c3)]+'ccc'+this[_0x2976a2(0x7b1)]+'ccc'+this[_0x2976a2(0x4de)];this['db']=new _0x1e1a2d(_0x134764),this[_0x2976a2(0x509)]();}[_0x3035df(0x48a)](){const _0x2df72e=_0x3035df;return this[_0x2df72e(0x9dc)];}[_0x3035df(0x529)](_0x2e2b3d){this['isLoaded']=_0x2e2b3d;}['destroy'](){const _0x335488=_0x3035df;clearTimeout(this['debounceStats']),delete this[_0x335488(0x932)],super[_0x335488(0x7ab)]();}[_0x3035df(0x72f)](){const _0x4ec197=_0x3035df;this[_0x4ec197(0x31b)][_0x4ec197(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40['Content'],'content':{'type':_0x41c383['CloseVectorDatabase'],'label':this[_0x4ec197(0x4de)]}});}[_0x3035df(0x98b)](){const _0x3724e2=_0x3035df;this[_0x3724e2(0x509)]();}[_0x3035df(0x8be)](){const _0x40ad85=_0x3035df;return _0x37e813[_0x40ad85(0x859)][_0x40ad85(0x85b)];}[_0x3035df(0x7a7)](_0x1904cf,_0x433436,_0x3491b3,_0x5e1422){const _0x2c0e07=_0x3035df,_0x2d908f=this['db'][_0x2c0e07(0x7a7)](_0x1904cf,_0x433436,_0x3491b3,_0x5e1422);return this['reads']+=0x1,_0x5cdff6[_0x2c0e07(0x724)](_0x57257f[_0x2c0e07(0x85b)],{'type':_0x2c0e07(0x7a7),'label':this[_0x2c0e07(0x4de)],'nodeId':this[_0x2c0e07(0x8f4)][_0x2c0e07(0x6cd)](),'nodeType':this[_0x2c0e07(0x8f4)][_0x2c0e07(0x48b)],'clusterId':this['clusterId'],'size':0x0}),this[_0x2c0e07(0x509)](),_0x2d908f;}[_0x3035df(0x3d2)](_0x2d54ab,_0x4b96bc,_0x23b6e8,_0x27b402){const _0x11ee38=_0x3035df;this['db'][_0x11ee38(0x3d2)](_0x2d54ab,_0x4b96bc,_0x23b6e8,_0x27b402),this[_0x11ee38(0x70a)]+=0x1,_0x5cdff6[_0x11ee38(0x724)](_0x57257f[_0x11ee38(0x85b)],{'type':_0x11ee38(0x3d2),'label':this[_0x11ee38(0x4de)],'nodeId':this[_0x11ee38(0x8f4)][_0x11ee38(0x6cd)](),'nodeType':this['localNode'][_0x11ee38(0x48b)],'clusterId':this[_0x11ee38(0x7b1)],'size':_0x27b402['reduce']((_0x29f471,_0x406ed6)=>_0x29f471+_0x406ed6[_0x11ee38(0x68c)],0x0)}),this[_0x11ee38(0x509)]();}[_0x3035df(0x59d)](_0x33229d){const _0x577970=_0x3035df;this['db']['remove'](_0x33229d),this[_0x577970(0x70a)]+=0x1,_0x5cdff6['logServiceEvent'](_0x57257f[_0x577970(0x85b)],{'type':_0x577970(0x59d),'label':this[_0x577970(0x4de)],'nodeId':this[_0x577970(0x8f4)][_0x577970(0x6cd)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x577970(0x7b1)],'size':0x0}),this['sendStats']();}['saveToDisk'](_0x46b16d){const _0x43d388=_0x3035df;this['db'][_0x43d388(0x861)](_0x46b16d);}[_0x3035df(0x963)](_0x9cb34){const _0x4b9fca=_0x3035df;this['db'][_0x4b9fca(0x963)](_0x9cb34);}[_0x3035df(0x509)](){const _0x437ece=_0x3035df;this[_0x437ece(0x932)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x43f2dd=_0x437ece;delete this['debounceStats'];const _0x338e9b=this['db'][_0x43f2dd(0x5db)]()[_0x43f2dd(0x48f)];this[_0x43f2dd(0x31b)][_0x43f2dd(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x43f2dd(0x240)],'content':{'type':_0x41c383['VectorDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x338e9b,'messagesSent':this[_0x43f2dd(0x2a1)],'messagesReceived':this[_0x43f2dd(0x4dd)],'bytesSent':this[_0x43f2dd(0x89b)],'bytesReceived':this[_0x43f2dd(0x824)],'writes':this[_0x43f2dd(0x70a)],'reads':this[_0x43f2dd(0x39a)],'prompts':0x0,'tokens':0x0}}}),_0x5cdff6['logStorage'](_0x57257f[_0x43f2dd(0x85b)],_0x43f2dd(0x402)+this['clusterId']+_0x43f2dd(0x402)+this[_0x43f2dd(0x4de)],_0x338e9b);},_0x1a8c76);}}class _0xbdb320{['id'];[_0x3035df(0x6df)];['rank'];constructor(_0x3c957d,_0x279e35=new Set(),_0x4af70f){const _0x54306b=_0x3035df;this['id']=_0x3c957d,this[_0x54306b(0x6df)]=_0x279e35,this[_0x54306b(0x978)]=_0x4af70f;}[_0x3035df(0x72f)](){const _0x657696=_0x3035df;this[_0x657696(0x978)]=void 0x0,this[_0x657696(0x6df)][_0x657696(0x599)]();}[_0x3035df(0x6cd)](){return this['id'];}['getRank'](){return this['rank'];}[_0x3035df(0x346)](){const _0x3dee23=_0x3035df;return this[_0x3dee23(0x6df)];}}class _0x30d86d extends _0xbdb320{['id'];[_0x3035df(0xaaf)];['email'];[_0x3035df(0x6df)];['rank'];[_0x3035df(0x48b)]=_0x37e813['NodeType'][_0x3035df(0x86f)];constructor(_0x1665de,_0x47cac5,_0xce6cff,_0x299faa=new Set(),_0x2ebc6a){const _0x407fdc=_0x3035df;super(_0x1665de,_0x299faa,_0x2ebc6a),this['id']=_0x1665de,this[_0x407fdc(0xaaf)]=_0x47cac5,this[_0x407fdc(0x4cb)]=_0xce6cff,this['remoteConnections']=_0x299faa,this[_0x407fdc(0x978)]=_0x2ebc6a;}['getDisplayName'](){const _0x1fd4c7=_0x3035df;return this[_0x1fd4c7(0xaaf)];}['getEmail'](){const _0x3998a2=_0x3035df;return this[_0x3998a2(0x4cb)];}}class _0x486abd{['vendorId'];[_0x3035df(0x7b1)];['clusterKey'];constructor(_0x5a2dda,_0x4899d5){const _0x34fbcd=_0x3035df;this[_0x34fbcd(0x7c3)]=_0x5a2dda,this['clusterId']=_0x4899d5,this['clusterKey']=_0x34fbcd(0x402)+this[_0x34fbcd(0x7c3)]+'ccc'+this['clusterId'];}async[_0x3035df(0x312)](_0x56736f,_0x25a7bd){const _0x1942e1=_0x3035df,_0x444c18=(0x0,_0x116674['ref'])(_0x1d88af[_0x1942e1(0x894)](),_0x1942e1(0x46b)+this[_0x1942e1(0x36d)]+_0x1942e1(0x7ca)+_0x25a7bd+_0x1942e1(0x6d5)+_0x56736f['id']),_0x13440d=(0x0,_0x116674['onDisconnect'])(_0x444c18);_0x13440d['remove'](),_0x56736f['parentId']||delete _0x56736f[_0x1942e1(0x36f)];try{await(0x0,_0x116674[_0x1942e1(0xac2)])(_0x444c18,_0x56736f);}catch(_0x3ee52b){throw await _0x13440d['cancel'](),new _0x891088(_0x891088[_0x1942e1(0x5fb)][_0x1942e1(0xa9b)]);}if(!0x1===(await(0x0,_0x116674[_0x1942e1(0x6dc)])((0x0,_0x116674[_0x1942e1(0x62b)])(_0x1d88af[_0x1942e1(0x894)](),_0x1942e1(0x46b)+this[_0x1942e1(0x36d)]+_0x1942e1(0x7ca)+_0x25a7bd+_0x1942e1(0x80e)),_0x46fa27=>_0x46fa27?_0x46fa27===_0x56736f[_0x1942e1(0x36f)]?_0x56736f['id']:void 0x0:_0x56736f['parentId']?_0x56736f['parentId']:_0x56736f['id']))['committed'])throw await(0x0,_0x116674[_0x1942e1(0x59d)])(_0x444c18),await _0x13440d['cancel'](),new _0x891088(_0x891088[_0x1942e1(0x5fb)][_0x1942e1(0x8c3)]);await _0x13440d[_0x1942e1(0x84a)]();}async[_0x3035df(0x5c7)](_0x22addc,_0x41f915){const _0x16ae20=_0x3035df;let _0x5a59fa=[];const _0x34394c=(0x0,_0x116674['ref'])(_0x1d88af['getDatabase'](),_0x16ae20(0x46b)+this[_0x16ae20(0x36d)]+_0x16ae20(0x7ca)+_0x22addc+'/transactions');let _0x14ab8c=await(0x0,_0x116674[_0x16ae20(0x557)])((0x0,_0x116674[_0x16ae20(0x4cc)])(_0x34394c,(0x0,_0x116674[_0x16ae20(0x37e)])(0x65),(0x0,_0x116674[_0x16ae20(0x2dc)])()));if(!_0x14ab8c['exists']()){if(void 0x0!==_0x41f915)throw new _0x891088(_0x891088['codes']['ObjectStoreInvalidState']);return _0x5a59fa;}const _0x1beb06=_0x14ab8c[_0x16ae20(0x412)]();for(;Object[_0x16ae20(0x75b)](_0x14ab8c[_0x16ae20(0x412)]())['length']>0x64;){const _0x592ee3=Object[_0x16ae20(0x75b)](_0x14ab8c[_0x16ae20(0x412)]()),_0x1c196e=_0x592ee3[_0x592ee3[_0x16ae20(0x68c)]-0x1];_0x14ab8c=await(0x0,_0x116674[_0x16ae20(0x557)])((0x0,_0x116674['query'])(_0x34394c,(0x0,_0x116674[_0x16ae20(0x37e)])(0x65),(0x0,_0x116674[_0x16ae20(0x31f)])(_0x1c196e),(0x0,_0x116674['orderByKey'])())),Object['assign'](_0x1beb06,_0x14ab8c['val']());}if(_0x5a59fa=Object[_0x16ae20(0xb09)](_0x1beb06)[_0x16ae20(0xab2)](_0xc2bad0=>'string'!=typeof _0xc2bad0),0x0===_0x5a59fa[_0x16ae20(0x68c)]&&void 0x0!==_0x41f915)throw new _0x891088(_0x891088['codes']['ObjectStoreInvalidState']);if(_0x5a59fa[_0x16ae20(0x68c)]>0x0&&void 0x0!==_0x41f915&&!_0x5a59fa[_0x16ae20(0x85d)](_0x5426d3=>_0x5426d3['id']===_0x41f915))throw new _0x891088(_0x891088[_0x16ae20(0x5fb)][_0x16ae20(0x633)]);const _0x344d9c=[];let _0x2bc12d=_0x5a59fa[_0x16ae20(0x85d)](_0x48f55c=>_0x48f55c['parentId']===_0x41f915);for(;_0x2bc12d;)_0x344d9c[_0x16ae20(0x343)](_0x2bc12d),_0x2bc12d=_0x5a59fa[_0x16ae20(0x85d)](_0x354df6=>_0x354df6[_0x16ae20(0x36f)]===_0x2bc12d['id']);return _0x344d9c;}}class _0x21332d{[_0x3035df(0x5bb)];[_0x3035df(0x489)];[_0x3035df(0xaf1)];[_0x3035df(0xa81)];[_0x3035df(0x2a2)]=new Map();[_0x3035df(0x6e8)]=new Map();[_0x3035df(0x838)]=new Map();[_0x3035df(0x366)]=new Map();[_0x3035df(0x3b7)]=new Map();[_0x3035df(0x647)]=new Map();['vectorDatabases']=new Map();['graphDatabases']=new Map();[_0x3035df(0x77e)]=new Map();[_0x3035df(0xad3)]=new Map();[_0x3035df(0x31a)];constructor(_0x39f237,_0x665b66,_0x487392,_0x9d6702){const _0xb51976=_0x3035df;this[_0xb51976(0x5bb)]=_0x39f237,this[_0xb51976(0x489)]=_0x665b66,this['searchApiKey']=_0x487392,this[_0xb51976(0xa81)]=_0x9d6702,this[_0xb51976(0x31a)]=new _0x486abd(this[_0xb51976(0x5bb)][_0xb51976(0x7c3)],this[_0xb51976(0x5bb)][_0xb51976(0x7b1)]);}[_0x3035df(0x72f)](_0xb45c8=!0x1){const _0x213327=_0x3035df;this[_0x213327(0x6e8)][_0x213327(0x8fa)]((_0x32695e,_0x43d8a1)=>{const _0x326918=_0x213327;_0x32695e[_0x326918(0x8fa)]((_0x56f18f,_0x9293b4)=>{const _0x1f3188=_0x326918;this[_0x1f3188(0xa47)](_0x43d8a1,_0x9293b4);});}),_0xb45c8||(_0x5e21ec[_0x213327(0x599)](),this[_0x213327(0x2a2)][_0x213327(0x8fa)]((_0x122a59,_0x51c6e7)=>{const _0x4a3fef=_0x213327;this[_0x4a3fef(0x7a1)](_0x51c6e7);}),this[_0x213327(0x838)]['forEach']((_0x2dde0e,_0x5ddd1f)=>{const _0xc4c995=_0x213327;this[_0xc4c995(0x525)](_0x5ddd1f);}),this[_0x213327(0x366)][_0x213327(0x8fa)]((_0x144605,_0x2a8e69)=>{const _0x5b42a5=_0x213327;this[_0x5b42a5(0x28e)](_0x2a8e69);}),this[_0x213327(0x3b7)]['forEach']((_0x3c18c8,_0xaa7266)=>{const _0x48f5ce=_0x213327;this[_0x48f5ce(0xa59)](_0xaa7266);}),this[_0x213327(0x647)]['forEach']((_0x54cd52,_0x3b823a)=>{const _0xc7992b=_0x213327;this[_0xc7992b(0x3c0)](_0x3b823a);}),this[_0x213327(0x77e)][_0x213327(0x8fa)]((_0x10cd48,_0x41d695)=>{const _0x401c30=_0x213327;this[_0x401c30(0x274)](_0x41d695);}),this[_0x213327(0xad3)][_0x213327(0x8fa)]((_0x36a6d6,_0x241079)=>{this['removeJobWorker'](_0x241079);}),this[_0x213327(0x541)][_0x213327(0x8fa)]((_0x4968c7,_0x4e99e3)=>{const _0x211df6=_0x213327;this[_0x211df6(0x9c4)](_0x4e99e3);}),this[_0x213327(0x54b)][_0x213327(0x8fa)]((_0x371714,_0x13be5c)=>{this['removeGraphDatabase'](_0x13be5c);}));}['createObjectStoreBucket'](_0x19e34e,_0x448822,_0x842556){const _0x28d1be=_0x3035df;if(this[_0x28d1be(0x366)][_0x28d1be(0x5e8)](_0x19e34e))throw new _0x2758ff(_0x1e2529['ObjectStoreAlreadyExists'],_0x28d1be(0x77f));const _0x161788=new _0x1a5378(this[_0x28d1be(0x5bb)][_0x28d1be(0x8f4)],_0x19e34e,this[_0x28d1be(0x5bb)][_0x28d1be(0x7b1)],this[_0x28d1be(0x5bb)][_0x28d1be(0x7c3)],this[_0x28d1be(0x31a)],_0x448822,()=>this[_0x28d1be(0x5bb)][_0x28d1be(0x76d)][_0x28d1be(0x409)](),_0x842556);return this[_0x28d1be(0x366)][_0x28d1be(0xac2)](_0x19e34e,_0x161788),this[_0x28d1be(0x5bb)][_0x28d1be(0x76d)][_0x28d1be(0x6c5)](_0x161788),_0x161788;}['createExternalStorageConnection'](_0x9d9a29,_0x49c19d){const _0x3e5b14=_0x3035df;if(this[_0x3e5b14(0x366)]['has'](_0x9d9a29))throw new _0x2758ff(_0x1e2529[_0x3e5b14(0x2f2)],_0x3e5b14(0x4c8));const _0x111cb7=new _0x4fb826(this[_0x3e5b14(0x5bb)]['localNode'],_0x9d9a29,this['configs'][_0x3e5b14(0x7b1)],this[_0x3e5b14(0x5bb)][_0x3e5b14(0x7c3)],_0x49c19d);return this[_0x3e5b14(0x3b7)][_0x3e5b14(0xac2)](_0x9d9a29,_0x111cb7),this[_0x3e5b14(0x5bb)][_0x3e5b14(0x76d)][_0x3e5b14(0x6c5)](_0x111cb7),_0x111cb7;}async[_0x3035df(0xaab)](_0x4e8343,_0x771ded,_0x9c49e8){const _0x3df277=_0x3035df;if(this[_0x3df277(0x647)][_0x3df277(0x5e8)](_0x4e8343))throw new _0x2758ff(_0x1e2529[_0x3df277(0x9cd)],'Database\x20already\x20exists');try{const _0x18da0f=this[_0x3df277(0x5bb)][_0x3df277(0x76d)][_0x3df277(0x433)]['bind'](this[_0x3df277(0x5bb)][_0x3df277(0x76d)]),_0x3a3fd9=new _0x20f69f(this[_0x3df277(0x5bb)]['localNode'],_0x4e8343,this[_0x3df277(0x5bb)][_0x3df277(0x7b1)],this[_0x3df277(0x5bb)]['vendorId'],_0x771ded,_0x9c49e8,_0x18da0f);return this['keyValueDatabases']['set'](_0x4e8343,_0x3a3fd9),this['configs'][_0x3df277(0x76d)]['registerSystemSource'](_0x3a3fd9),_0x3a3fd9;}catch(_0x39a459){if(_0x39a459 instanceof _0x2758ff)throw _0x39a459;throw new _0x891088(_0x891088[_0x3df277(0x5fb)][_0x3df277(0x639)],{'label':_0x4e8343,'clusterId':this[_0x3df277(0x5bb)][_0x3df277(0x7b1)],'vendorId':this[_0x3df277(0x5bb)][_0x3df277(0x7c3)]});}}async[_0x3035df(0x591)](_0x24d0b0,_0x594b3a){const _0x5658a0=_0x3035df;if(this['jobDispatchers'][_0x5658a0(0x5e8)](_0x24d0b0))throw new _0x2758ff(_0x1e2529[_0x5658a0(0x428)],_0x5658a0(0x2bd));try{const _0xe8b4b=new _0x27ffad(this[_0x5658a0(0x5bb)][_0x5658a0(0x8f4)],_0x24d0b0,_0x594b3a);return this[_0x5658a0(0x77e)][_0x5658a0(0xac2)](_0x24d0b0,_0xe8b4b),this[_0x5658a0(0x5bb)][_0x5658a0(0x76d)][_0x5658a0(0x6c5)](_0xe8b4b),_0xe8b4b;}catch(_0x5f2da0){if(_0x5f2da0 instanceof _0x2758ff)throw _0x5f2da0;throw new _0x891088(_0x891088[_0x5658a0(0x5fb)]['JobDispatcherCreationFailed'],{'label':_0x24d0b0,'clusterId':this[_0x5658a0(0x5bb)][_0x5658a0(0x7b1)],'vendorId':this[_0x5658a0(0x5bb)][_0x5658a0(0x7c3)]});}}async['createGenerativeAIContext'](_0x282ad2,_0x18f6ad){const _0x1aa579=_0x3035df;if(this['jobDispatchers'][_0x1aa579(0x5e8)](_0x282ad2))throw new _0x2758ff(_0x1e2529[_0x1aa579(0x1ff)],_0x1aa579(0x923));if(this[_0x1aa579(0xad3)]['has'](_0x282ad2))throw new _0x2758ff(_0x1e2529['GenerativeAILabelConflict'],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0xff527b=new _0xe055e1(this['configs']['localNode'],_0x282ad2,this['configs'][_0x1aa579(0x7c3)],_0x18f6ad);return this[_0x1aa579(0x77e)][_0x1aa579(0xac2)](_0x282ad2,_0xff527b),this[_0x1aa579(0x5bb)][_0x1aa579(0x76d)][_0x1aa579(0x6c5)](_0xff527b),_0xff527b;}catch(_0x543c5e){if(_0x543c5e instanceof _0x2758ff)throw _0x543c5e;throw new _0x891088(_0x891088[_0x1aa579(0x5fb)][_0x1aa579(0x89e)],{'label':_0x282ad2,'clusterId':this[_0x1aa579(0x5bb)][_0x1aa579(0x7b1)],'vendorId':this['configs'][_0x1aa579(0x7c3)]});}}async[_0x3035df(0x217)](_0x5e311a,_0x4f6044,_0x233599,_0x260c1e,_0x156e32,_0x432158,_0x3a9f57){const _0x52e69b=_0x3035df;if(this[_0x52e69b(0xad3)][_0x52e69b(0x5e8)](_0x5e311a))throw new _0x2758ff(_0x1e2529[_0x52e69b(0x5c1)],_0x52e69b(0x7a8));if(this[_0x52e69b(0x77e)][_0x52e69b(0x5e8)](_0x5e311a))throw new _0x2758ff(_0x1e2529[_0x52e69b(0x58b)],_0x52e69b(0xa55));try{const _0x4810c8=new _0x1e2052(this[_0x52e69b(0x5bb)]['localNode'],_0x5e311a,this[_0x52e69b(0x5bb)][_0x52e69b(0x7c3)],_0x4f6044,this,_0x233599,_0x260c1e,_0x156e32,this['searchApiKey'],this[_0x52e69b(0xa81)],_0x432158,_0x3a9f57);return this[_0x52e69b(0xad3)]['set'](_0x5e311a,_0x4810c8),this[_0x52e69b(0x5bb)][_0x52e69b(0x76d)]['registerSystemSource'](_0x4810c8),_0x4810c8;}catch(_0x1c24e6){if(_0x1c24e6 instanceof _0x2758ff)throw _0x1c24e6;throw new _0x891088(_0x891088[_0x52e69b(0x5fb)]['GenerativeAIWorkerCreationFailed'],{'label':_0x5e311a,'clusterId':this['configs'][_0x52e69b(0x7b1)],'vendorId':this[_0x52e69b(0x5bb)][_0x52e69b(0x7c3)]});}}[_0x3035df(0x2b3)](_0x22c91a,_0x2f8bcf){const _0x1acb7b=_0x3035df;if(this[_0x1acb7b(0x54b)][_0x1acb7b(0x5e8)](_0x22c91a))throw new _0x2758ff(_0x1e2529['GraphDatabaseAlreadyExists'],_0x1acb7b(0x558));try{const _0x3e6044=new _0x4f6c0d(this[_0x1acb7b(0x5bb)][_0x1acb7b(0x8f4)],_0x22c91a,this[_0x1acb7b(0x5bb)][_0x1acb7b(0x7b1)],this[_0x1acb7b(0x5bb)][_0x1acb7b(0x7c3)],_0x2f8bcf);return this[_0x1acb7b(0x54b)]['set'](_0x22c91a,_0x3e6044),this[_0x1acb7b(0x5bb)][_0x1acb7b(0x76d)]['registerSystemSource'](_0x3e6044),_0x3e6044;}catch(_0x9945c1){if(_0x9945c1 instanceof _0x2758ff)throw _0x9945c1;throw new _0x891088(_0x891088[_0x1acb7b(0x5fb)]['GraphDatabaseCreationFailed'],{'label':_0x22c91a,'clusterId':this['configs'][_0x1acb7b(0x7b1)],'vendorId':this['configs'][_0x1acb7b(0x7c3)]});}}[_0x3035df(0x7db)](_0x4600f6,_0x23ab1c){const _0x4876dc=_0x3035df;if(this[_0x4876dc(0x2a2)]['has'](_0x4600f6))throw new _0x2758ff(_0x1e2529['LocalMediaStreamAlreadyExists'],_0x4876dc(0x2a7));if(!this[_0x4876dc(0x489)][_0x4876dc(0x6e4)])throw new _0x2758ff(_0x1e2529[_0x4876dc(0x328)],_0x4876dc(0x490));const _0x5d5db0=new _0x284272(this[_0x4876dc(0x5bb)][_0x4876dc(0x8f4)],_0x4600f6,_0x23ab1c,this[_0x4876dc(0x489)][_0x4876dc(0xa3a)],this['options'][_0x4876dc(0x6e4)],this[_0x4876dc(0x5bb)][_0x4876dc(0x7b1)]);return this[_0x4876dc(0x2a2)]['set'](_0x4600f6,_0x5d5db0),this[_0x4876dc(0x5bb)][_0x4876dc(0x76d)]['registerSystemSource'](_0x5d5db0),_0x5d5db0[_0x4876dc(0xa4f)](),_0x5d5db0;}[_0x3035df(0x6aa)](_0xe003e7,_0x4a0c62){const _0x4725e3=_0x3035df;if(this[_0x4725e3(0x2a2)][_0x4725e3(0x5e8)](_0xe003e7))throw new _0x2758ff(_0x1e2529[_0x4725e3(0x9cc)],_0x4725e3(0x7d7));const _0x54f883=new _0x2f3be6(this[_0x4725e3(0x5bb)][_0x4725e3(0x8f4)],_0xe003e7,_0x4a0c62,this[_0x4725e3(0x5bb)][_0x4725e3(0x7b1)]);return this[_0x4725e3(0x2a2)][_0x4725e3(0xac2)](_0xe003e7,_0x54f883),this[_0x4725e3(0x5bb)][_0x4725e3(0x76d)]['registerSystemSource'](_0x54f883),_0x54f883[_0x4725e3(0xa4f)](),_0x54f883;}['createPubSubTopic'](_0x443a74){const _0x34f61f=_0x3035df;if(this[_0x34f61f(0x838)]['has'](_0x443a74))throw new _0x2758ff(_0x1e2529[_0x34f61f(0x81e)],_0x34f61f(0x892));const _0x25d7d2=new _0x1368d2(this[_0x34f61f(0x5bb)][_0x34f61f(0x8f4)],_0x443a74,this[_0x34f61f(0x5bb)]['clusterId']);return this[_0x34f61f(0x838)][_0x34f61f(0xac2)](_0x443a74,_0x25d7d2),this['configs'][_0x34f61f(0x76d)]['registerSystemSource'](_0x25d7d2),_0x25d7d2;}[_0x3035df(0x9e2)](_0x586554,_0x178119,_0x2619fe,_0x2542da){const _0x3415dd=_0x3035df;this[_0x3415dd(0x6e8)]['has'](_0x586554)||this[_0x3415dd(0x6e8)]['set'](_0x586554,new Map());const _0x2e1fe1=this[_0x3415dd(0x6e8)][_0x3415dd(0x557)](_0x586554);if(_0x2e1fe1[_0x3415dd(0x5e8)](_0x178119))throw new _0x2758ff(_0x1e2529[_0x3415dd(0x6f7)],_0x3415dd(0x476));const _0x586673=new _0x30d86d(_0x586554,'',''),_0x101e8e=new _0x16be9b(this[_0x3415dd(0x5bb)]['localNode'],_0x586673,_0x178119,_0x2619fe,_0x2542da,this[_0x3415dd(0x5bb)][_0x3415dd(0x7b1)]);return _0x2e1fe1[_0x3415dd(0xac2)](_0x178119,_0x101e8e),this['configs'][_0x3415dd(0x76d)][_0x3415dd(0x6c5)](_0x101e8e),_0x101e8e;}[_0x3035df(0x9bf)](_0x489b32,_0x434302){const _0x2aa6ed=_0x3035df;if(this[_0x2aa6ed(0x541)]['has'](_0x489b32))throw new _0x2758ff(_0x1e2529[_0x2aa6ed(0x8ca)],'Database\x20already\x20exists');try{const _0x24b860=new _0x26aac1(this[_0x2aa6ed(0x5bb)][_0x2aa6ed(0x8f4)],_0x489b32,this['configs']['clusterId'],this[_0x2aa6ed(0x5bb)]['vendorId'],_0x434302);return this['vectorDatabases'][_0x2aa6ed(0xac2)](_0x489b32,_0x24b860),this[_0x2aa6ed(0x5bb)][_0x2aa6ed(0x76d)][_0x2aa6ed(0x6c5)](_0x24b860),_0x24b860;}catch(_0x3a84cb){if(_0x3a84cb instanceof _0x2758ff)throw _0x3a84cb;throw new _0x891088(_0x891088['codes']['VectorDatabaseCreationFailed'],{'label':_0x489b32,'clusterId':this[_0x2aa6ed(0x5bb)][_0x2aa6ed(0x7b1)],'vendorId':this[_0x2aa6ed(0x5bb)][_0x2aa6ed(0x7c3)]});}}[_0x3035df(0x51d)](_0x467913){const _0xdcdd32=_0x3035df,_0x345751=Array[_0xdcdd32(0x6a1)](this[_0xdcdd32(0x366)][_0xdcdd32(0xb09)]());return _0x467913?_0x345751[_0xdcdd32(0xab2)](_0x467913):_0x345751;}[_0x3035df(0x422)](_0x3bd43e){const _0x107015=_0x3035df,_0xfc9a67=Array[_0x107015(0x6a1)](this[_0x107015(0x3b7)]['values']());return _0x3bd43e?_0xfc9a67[_0x107015(0xab2)](_0x3bd43e):_0xfc9a67;}[_0x3035df(0x7bd)](_0x2f3a2d){const _0xa6fa73=_0x3035df,_0x952489=Array[_0xa6fa73(0x6a1)](this[_0xa6fa73(0x647)]['values']());return _0x2f3a2d?_0x952489[_0xa6fa73(0xab2)](_0x2f3a2d):_0x952489;}['getJobDispatchers'](_0x478bf9){const _0x5c8d23=_0x3035df,_0x38c6e2=Array['from'](this[_0x5c8d23(0x77e)]['values']());return _0x478bf9?_0x38c6e2[_0x5c8d23(0xab2)](_0x478bf9):_0x38c6e2;}['getJobWorkers'](_0x37d348){const _0x41faa0=_0x3035df,_0x59e46e=Array[_0x41faa0(0x6a1)](this['jobWorkers'][_0x41faa0(0xb09)]());return _0x37d348?_0x59e46e['filter'](_0x37d348):_0x59e46e;}[_0x3035df(0x423)](_0x4016be){const _0x254858=_0x3035df,_0x58325e=Array[_0x254858(0x6a1)](this[_0x254858(0x77e)][_0x254858(0xb09)]())[_0x254858(0xab2)](_0x1affb1=>_0x1affb1 instanceof _0xe055e1);return _0x4016be?_0x58325e[_0x254858(0xab2)](_0x4016be):_0x58325e;}[_0x3035df(0xb17)](_0x56fc2d){const _0x14aed0=_0x3035df,_0x3fb450=Array['from'](this[_0x14aed0(0xad3)][_0x14aed0(0xb09)]())[_0x14aed0(0xab2)](_0x541f4f=>_0x541f4f instanceof _0x1e2052);return _0x56fc2d?_0x3fb450[_0x14aed0(0xab2)](_0x56fc2d):_0x3fb450;}[_0x3035df(0x987)](_0x25c025){const _0x25ad9a=_0x3035df,_0x5c2ed2=Array[_0x25ad9a(0x6a1)](this[_0x25ad9a(0x54b)]['values']());return _0x25c025?_0x5c2ed2[_0x25ad9a(0xab2)](_0x25c025):_0x5c2ed2;}[_0x3035df(0x938)](_0x2c57bb){const _0xf95fd0=_0x3035df,_0x49658f=Array[_0xf95fd0(0x6a1)](this['localMediaStreams'][_0xf95fd0(0xb09)]());return _0x2c57bb?_0x49658f[_0xf95fd0(0xab2)](_0x2c57bb):_0x49658f;}['getPubSubTopics'](_0x21ed15){const _0xc0ceed=_0x3035df,_0x15a656=Array['from'](this[_0xc0ceed(0x838)][_0xc0ceed(0xb09)]());return _0x21ed15?_0x15a656[_0xc0ceed(0xab2)](_0x21ed15):_0x15a656;}[_0x3035df(0xa8c)](_0x4ae0a8){const _0x3ef999=_0x3035df,_0x2031e4=Array[_0x3ef999(0x6a1)](this[_0x3ef999(0x6e8)][_0x3ef999(0xb09)]())['reduce']((_0x413b1c,_0x207ade)=>[..._0x413b1c,...Array[_0x3ef999(0x6a1)](_0x207ade[_0x3ef999(0xb09)]())],[]);return _0x4ae0a8?_0x2031e4[_0x3ef999(0xab2)](_0x4ae0a8):_0x2031e4;}[_0x3035df(0x2cd)](_0x3567ff){const _0x32398a=_0x3035df,_0x51b057=Array[_0x32398a(0x6a1)](this['vectorDatabases'][_0x32398a(0xb09)]());return _0x3567ff?_0x51b057[_0x32398a(0xab2)](_0x3567ff):_0x51b057;}['getObjectStoreBucket'](_0xb33369){const _0x5f089f=_0x3035df,_0x1ebcad=this['objectStores'][_0x5f089f(0x557)](_0xb33369);if(!_0x1ebcad)throw new _0x2758ff(_0x1e2529[_0x5f089f(0x5dc)],_0x5f089f(0x27e));return _0x1ebcad;}['getExternalStorageConnection'](_0x2b43ea){const _0x294d48=_0x3035df,_0x78f333=_0x2b43ea['split']('-'),_0x3c8676=this[_0x294d48(0x3b7)][_0x294d48(0x557)](_0x78f333[0x1]);if(!_0x3c8676)throw new _0x2758ff(_0x1e2529[_0x294d48(0x230)],_0x294d48(0x7c2));return _0x3c8676;}[_0x3035df(0x4da)](_0x56fc92){const _0x578107=_0x3035df,_0x3e4a75=this['graphDatabases'][_0x578107(0x557)](_0x56fc92);if(!_0x3e4a75)throw new _0x2758ff(_0x1e2529[_0x578107(0x55d)],'GraphDatabase\x20not\x20found');return _0x3e4a75;}[_0x3035df(0x2eb)](_0xb182de){const _0x48853c=_0x3035df,_0xbd1de8=this[_0x48853c(0x647)][_0x48853c(0x557)](_0xb182de);if(!_0xbd1de8)throw new _0x2758ff(_0x1e2529[_0x48853c(0x7d3)],_0x48853c(0x22c));return _0xbd1de8;}['getPubSubTopic'](_0x2564ba){const _0x3d8a12=_0x3035df,_0x263ce7=this['pubSubTopics'][_0x3d8a12(0x557)](_0x2564ba);if(!_0x263ce7)throw new _0x2758ff(_0x1e2529[_0x3d8a12(0x499)],_0x3d8a12(0xa34));return _0x263ce7;}[_0x3035df(0x7fb)](_0x361778){const _0x3308ab=_0x3035df,_0x15cb31=this[_0x3308ab(0x541)]['get'](_0x361778);if(!_0x15cb31)throw new _0x2758ff(_0x1e2529[_0x3308ab(0x781)],'VectorDatabase\x20not\x20found');return _0x15cb31;}[_0x3035df(0x5d0)](_0xa2e077){const _0x359fd7=_0x3035df;switch(_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x48b)]){case _0x41c383[_0x359fd7(0x887)]:this[_0x359fd7(0xae7)](_0xa2e077[_0x359fd7(0x1f0)]);break;case _0x41c383[_0x359fd7(0x594)]:this[_0x359fd7(0x693)](_0xa2e077[_0x359fd7(0x1f0)]);break;case _0x41c383[_0x359fd7(0x5ae)]:this[_0x359fd7(0x274)](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0x80a)]:this['removeJobWorker'](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0x6d8)]:this[_0x359fd7(0x7a1)](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0xaa3)]:this[_0x359fd7(0x525)](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0x7c1)]:this['removeObjectStore'](_0xa2e077['content'][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0xa5f)]:this['removeExternalStorageConnection'](_0xa2e077['content'][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0x383)]:this[_0x359fd7(0x3c0)](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0x413)]:this[_0x359fd7(0x9c4)](_0xa2e077[_0x359fd7(0x1f0)]['label']);break;case _0x41c383[_0x359fd7(0x603)]:this[_0x359fd7(0x54c)](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)]);break;case _0x41c383[_0x359fd7(0x4f4)]:this[_0x359fd7(0xb1c)](_0xa2e077[_0x359fd7(0x1f0)]);break;case _0x41c383['KeyValueDatabaseSyncRequired']:this['keyValueDatabases']['get'](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)])?.[_0x359fd7(0x681)](_0xa2e077['sourceId'],_0xa2e077[_0x359fd7(0x1f0)]['mmrRoot']);break;case _0x41c383[_0x359fd7(0x8d4)]:this[_0x359fd7(0x647)][_0x359fd7(0x557)](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)])?.['processContentSynchronized'](_0xa2e077[_0x359fd7(0x545)],_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0xa62)]);break;case _0x41c383[_0x359fd7(0x203)]:this[_0x359fd7(0x647)]['get'](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)])?.['processContentAvailable'](_0xa2e077['sourceId'],_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0xb15)]);break;case _0x41c383[_0x359fd7(0x5c8)]:this[_0x359fd7(0x647)]['get'](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)])?.['sendPeakTransactions'](_0xa2e077['sourceId'],_0xa2e077['content']['peakHeights']);break;case _0x41c383[_0x359fd7(0x616)]:this['keyValueDatabases'][_0x359fd7(0x557)](_0xa2e077['content'][_0x359fd7(0x4de)])?.[_0x359fd7(0x51b)](_0xa2e077[_0x359fd7(0x545)],_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x981)]);break;case _0x41c383[_0x359fd7(0x7d2)]:this[_0x359fd7(0x647)][_0x359fd7(0x557)](_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)])?.[_0x359fd7(0x5c9)](_0xa2e077[_0x359fd7(0x545)],_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x5ac)]);break;case _0x41c383[_0x359fd7(0x855)]:this[_0x359fd7(0x5bb)]['mediator'][_0x359fd7(0x325)](_0x359fd7(0x7da),{'label':_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x4de)],'trackKinds':_0xa2e077[_0x359fd7(0x1f0)][_0x359fd7(0x38e)]});}}['handleNodeSystemEvents']({content:_0x435739}){const _0x4d6913=_0x3035df;switch(_0x435739['type']){case _0x31962c[_0x4d6913(0x788)]:this['handleNodeJoinNeedPublishedStream'](_0x435739),this[_0x4d6913(0xa65)](_0x435739);break;case _0x31962c['NodeLeave']:this[_0x4d6913(0x4db)](_0x435739),this[_0x4d6913(0x549)](_0x435739);}}['handleSubscriptionSystemEvents'](_0x35d52c){const _0x3b0dbf=_0x3035df;switch(_0x35d52c[_0x3b0dbf(0x1f0)][_0x3b0dbf(0x48b)]){case _0x1a160d[_0x3b0dbf(0x388)]:this[_0x3b0dbf(0x4ef)](_0x35d52c[_0x3b0dbf(0x545)],_0x35d52c[_0x3b0dbf(0x1f0)]);break;case _0x1a160d['UpdateMediaStream']:this[_0x3b0dbf(0x3b3)](_0x35d52c[_0x3b0dbf(0x545)],_0x35d52c[_0x3b0dbf(0x1f0)]);break;case _0x1a160d[_0x3b0dbf(0x4f4)]:this[_0x3b0dbf(0xaa9)](_0x35d52c[_0x3b0dbf(0x545)],_0x35d52c[_0x3b0dbf(0x1f0)]);}}[_0x3035df(0xb1c)](_0x31e9ba){const _0x233b6e=_0x3035df;if(0x0===_0x31e9ba[_0x233b6e(0xa27)])this[_0x233b6e(0x6e8)]['get'](_0x31e9ba['ownerId'])?.['get'](_0x31e9ba[_0x233b6e(0x4de)])?.[_0x233b6e(0x7ab)]();else{const _0x41b1e1=this[_0x233b6e(0x6e8)][_0x233b6e(0x557)](_0x31e9ba[_0x233b6e(0x393)])?.[_0x233b6e(0x557)](_0x31e9ba[_0x233b6e(0x4de)]);if(!_0x41b1e1)return;_0x31e9ba[_0x233b6e(0x38e)][_0x233b6e(0x8fa)](_0xa609b4=>_0x41b1e1[_0x233b6e(0x3ce)](_0xa609b4));}}[_0x3035df(0xae7)](_0x5adae4){const _0x436f07=_0x3035df,{label:_0xda5c52,ownerId:_0x300598,stream:{streamId:_0x3afce0,availableTrackKinds:_0x1938c2}}=_0x5adae4;if(this[_0x436f07(0x6e8)][_0x436f07(0x557)](_0x300598)?.[_0x436f07(0x5e8)](_0xda5c52))return void _0x5cdff6[_0x436f07(0x3e9)](_0x2a39e9[_0x436f07(0x240)],_0x436f07(0x7d7),_0x3afce0);const _0x4dec0a=this[_0x436f07(0x9e2)](_0x300598,_0xda5c52,_0x3afce0,_0x1938c2);this[_0x436f07(0x5bb)][_0x436f07(0x76d)][_0x436f07(0x325)]('content-publish-media',{'ownerId':_0x300598,'stream':_0x4dec0a});}[_0x3035df(0x693)]({ownerId:_0x55aa95,label:_0x351b25}){const _0x1ece4b=_0x3035df;this[_0x1ece4b(0xa47)](_0x55aa95,_0x351b25),this[_0x1ece4b(0x5bb)][_0x1ece4b(0x76d)]['notifyCluster'](_0x1ece4b(0xab7),{'ownerId':_0x55aa95,'label':_0x351b25});}[_0x3035df(0x4ef)](_0x6091eb,_0x12f823){const _0x3af4ce=_0x3035df,{ownerId:_0x378068,label:_0x519b52}=_0x12f823;let _0x4f5063;_0x4f5063=_0x378068!==this[_0x3af4ce(0x5bb)]['localNode']['getId']()?this['remoteMediaStreams']['get'](_0x378068)[_0x3af4ce(0x557)](_0x519b52):this[_0x3af4ce(0x2a2)][_0x3af4ce(0x557)](_0x519b52),_0x4f5063['getShareableStream'](_0x6091eb,_0x12f823['params'])['subscribe'](_0x12f823,_0x4f5063[_0x3af4ce(0x56e)]());}[_0x3035df(0x3b3)](_0x4e65ea,_0x3974c8){const _0x2a69f0=_0x3035df,{ownerId:_0x1fe3b6,label:_0x141084}=_0x3974c8;let _0x262438;_0x262438=_0x1fe3b6!==this[_0x2a69f0(0x5bb)][_0x2a69f0(0x8f4)][_0x2a69f0(0x6cd)]()?this[_0x2a69f0(0x6e8)][_0x2a69f0(0x557)](_0x1fe3b6)[_0x2a69f0(0x557)](_0x141084):this[_0x2a69f0(0x2a2)][_0x2a69f0(0x557)](_0x141084),_0x262438['getShareableStream'](_0x4e65ea,_0x3974c8[_0x2a69f0(0x572)])[_0x2a69f0(0x7c9)](_0x3974c8);}[_0x3035df(0xaa9)](_0x13df60,_0x280fef){const _0x5d56e0=_0x3035df,{ownerId:_0x54d8b2,label:_0x653c3}=_0x280fef;let _0x17bfda;_0x17bfda=_0x54d8b2!==this[_0x5d56e0(0x5bb)]['localNode'][_0x5d56e0(0x6cd)]()?this[_0x5d56e0(0x6e8)][_0x5d56e0(0x557)](_0x54d8b2)[_0x5d56e0(0x557)](_0x653c3):this[_0x5d56e0(0x2a2)][_0x5d56e0(0x557)](_0x653c3),_0x17bfda[_0x5d56e0(0x53a)](_0x13df60)['unsubscribe'](_0x280fef);}['handleNodeJoinNeedPublishedStream']({id:_0x5db1a5}){const _0x100adf=_0x3035df;this[_0x100adf(0x938)]()[_0x100adf(0x8fa)](_0x2c42fe=>{_0x2c42fe['publish'](_0x5db1a5);});}['handleNodeLeave']({id:_0x20c515}){const _0x32fc43=_0x3035df;this[_0x32fc43(0xa8c)](_0x3bc867=>_0x3bc867[_0x32fc43(0x264)]()===_0x20c515)[_0x32fc43(0x8fa)](_0x41ecca=>{const _0x3a2b56=_0x32fc43;this[_0x3a2b56(0xa47)](_0x41ecca[_0x3a2b56(0x264)](),_0x41ecca[_0x3a2b56(0x59f)]());});}[_0x3035df(0xa65)]({id:_0x34a31b}){const _0x3f2afc=_0x3035df;this['objectStores'][_0x3f2afc(0x8fa)](_0x1938a0=>_0x1938a0[_0x3f2afc(0x711)](_0x34a31b));}[_0x3035df(0x549)]({id:_0x427ce7}){const _0xdbcf78=_0x3035df;this['objectStores'][_0xdbcf78(0x8fa)](_0x240f70=>_0x240f70[_0xdbcf78(0x4db)](_0x427ce7));}[_0x3035df(0x274)](_0xb2eb02){const _0x1c6da0=_0x3035df;if(!this[_0x1c6da0(0x77e)][_0x1c6da0(0x5e8)](_0xb2eb02))throw new _0x2758ff(_0x1e2529['JobDispatcherDoesNotExist'],_0x1c6da0(0x3af));const _0x3780f8=this[_0x1c6da0(0x77e)][_0x1c6da0(0x557)](_0xb2eb02);this['jobDispatchers']['delete'](_0xb2eb02),_0x3780f8[_0x1c6da0(0x7ab)](),this[_0x1c6da0(0x5bb)][_0x1c6da0(0x76d)][_0x1c6da0(0x592)](_0x3780f8);}['removeJobWorker'](_0x33430b){const _0x3952ad=_0x3035df;if(!this[_0x3952ad(0xad3)][_0x3952ad(0x5e8)](_0x33430b))throw new _0x2758ff(_0x1e2529['JobWorkerDoesNotExist'],_0x3952ad(0x405));const _0x575cfd=this[_0x3952ad(0xad3)][_0x3952ad(0x557)](_0x33430b);this[_0x3952ad(0xad3)][_0x3952ad(0x72d)](_0x33430b),_0x575cfd[_0x3952ad(0x7ab)](),this[_0x3952ad(0x5bb)][_0x3952ad(0x76d)][_0x3952ad(0x592)](_0x575cfd);}['removeObjectStore'](_0x20b923){const _0x3c5320=_0x3035df;if(!this[_0x3c5320(0x366)][_0x3c5320(0x5e8)](_0x20b923))throw new _0x2758ff(_0x1e2529[_0x3c5320(0x5dc)],_0x3c5320(0x251));const _0x18137a=this[_0x3c5320(0x366)][_0x3c5320(0x557)](_0x20b923);this[_0x3c5320(0x366)]['delete'](_0x20b923),_0x18137a[_0x3c5320(0x7ab)](),this[_0x3c5320(0x5bb)][_0x3c5320(0x76d)]['unregisterSystemSource'](_0x18137a);}[_0x3035df(0xa59)](_0x3d55ed){const _0x31b2eb=_0x3035df;if(!this[_0x31b2eb(0x3b7)][_0x31b2eb(0x5e8)](_0x3d55ed))throw new _0x2758ff(_0x1e2529[_0x31b2eb(0x230)],_0x31b2eb(0x239));const _0x2c4fb7=this[_0x31b2eb(0x3b7)][_0x31b2eb(0x557)](_0x3d55ed);this[_0x31b2eb(0x3b7)]['delete'](_0x3d55ed),_0x2c4fb7[_0x31b2eb(0x7ab)](),this['configs']['mediator']['unregisterSystemSource'](_0x2c4fb7);}['removePubSubTopic'](_0x10c2d0){const _0x4a50d4=_0x3035df;if(!this[_0x4a50d4(0x838)][_0x4a50d4(0x5e8)](_0x10c2d0))throw new _0x2758ff(_0x1e2529[_0x4a50d4(0x499)],'Stream\x20does\x20not\x20exist');const _0x12378d=this[_0x4a50d4(0x838)][_0x4a50d4(0x557)](_0x10c2d0);this[_0x4a50d4(0x838)][_0x4a50d4(0x72d)](_0x10c2d0),_0x12378d[_0x4a50d4(0x7ab)](),this[_0x4a50d4(0x5bb)]['mediator'][_0x4a50d4(0x592)](_0x12378d);}['removeKeyValueDatabase'](_0x366c78){const _0x4d0217=_0x3035df;if(!this[_0x4d0217(0x647)]['has'](_0x366c78))throw new _0x2758ff(_0x1e2529[_0x4d0217(0x7d3)],'Database\x20does\x20not\x20exist');const _0x4433ff=this[_0x4d0217(0x647)][_0x4d0217(0x557)](_0x366c78);this['keyValueDatabases'][_0x4d0217(0x72d)](_0x366c78),_0x4433ff['destroy'](),this[_0x4d0217(0x5bb)][_0x4d0217(0x76d)][_0x4d0217(0x592)](_0x4433ff);}['removeVectorDatabase'](_0x2acc83){const _0x5731b5=_0x3035df;if(!this[_0x5731b5(0x541)][_0x5731b5(0x5e8)](_0x2acc83))throw new _0x2758ff(_0x1e2529[_0x5731b5(0x781)],_0x5731b5(0xa11));const _0x3ffc97=this[_0x5731b5(0x541)][_0x5731b5(0x557)](_0x2acc83);this[_0x5731b5(0x541)][_0x5731b5(0x72d)](_0x2acc83),_0x3ffc97[_0x5731b5(0x7ab)](),this[_0x5731b5(0x5bb)][_0x5731b5(0x76d)][_0x5731b5(0x592)](_0x3ffc97);}[_0x3035df(0x54c)](_0x32066c){const _0x32b39e=_0x3035df;if(!this[_0x32b39e(0x54b)][_0x32b39e(0x5e8)](_0x32066c))throw new _0x2758ff(_0x1e2529['GraphDatabaseDoesNotExist'],_0x32b39e(0xa11));const _0x589647=this[_0x32b39e(0x54b)][_0x32b39e(0x557)](_0x32066c);this[_0x32b39e(0x54b)][_0x32b39e(0x72d)](_0x32066c),_0x589647['destroy'](),this[_0x32b39e(0x5bb)]['mediator']['unregisterSystemSource'](_0x589647);}[_0x3035df(0x7a1)](_0x4765d7){const _0x170d21=_0x3035df;if(!this[_0x170d21(0x2a2)][_0x170d21(0x5e8)](_0x4765d7))throw new _0x891088(_0x891088[_0x170d21(0x5fb)]['LocalMediaStreamDoesNotExist'],{'label':_0x4765d7,'localId':this[_0x170d21(0x5bb)][_0x170d21(0x8f4)][_0x170d21(0x6cd)]()});const _0xa8d993=this[_0x170d21(0x2a2)]['get'](_0x4765d7);this[_0x170d21(0x5bb)]['mediator'][_0x170d21(0x592)](_0xa8d993),_0xa8d993[_0x170d21(0x7ab)](),this[_0x170d21(0x2a2)]['delete'](_0x4765d7);}[_0x3035df(0xa47)](_0x38cefb,_0x4bc050){const _0x1a3487=_0x3035df;if(!this['remoteMediaStreams'][_0x1a3487(0x5e8)](_0x38cefb))throw new _0x891088(_0x891088['codes'][_0x1a3487(0x822)],{'nodeId':_0x38cefb,'localId':this[_0x1a3487(0x5bb)][_0x1a3487(0x8f4)][_0x1a3487(0x6cd)]()});const _0x14d73f=this[_0x1a3487(0x6e8)][_0x1a3487(0x557)](_0x38cefb);if(!_0x14d73f[_0x1a3487(0x5e8)](_0x4bc050))throw new _0x891088(_0x891088[_0x1a3487(0x5fb)][_0x1a3487(0x69a)],{'nodeId':_0x38cefb,'label':_0x4bc050,'localId':this['configs'][_0x1a3487(0x8f4)][_0x1a3487(0x6cd)]()});const _0x148c41=_0x14d73f['get'](_0x4bc050);this[_0x1a3487(0x5bb)]['mediator'][_0x1a3487(0x592)](_0x148c41),_0x148c41[_0x1a3487(0x7ab)](),_0x14d73f['delete'](_0x4bc050);}}var _0x261f4b,_0x412c18,_0x1808d8;!function(_0x345047){const _0x1e767b=_0x3035df;_0x345047[_0x1e767b(0x990)]='st_volatility',_0x345047[_0x1e767b(0xa45)]=_0x1e767b(0x468),_0x345047[_0x1e767b(0x31d)]=_0x1e767b(0x737),_0x345047[_0x1e767b(0x446)]='bitrate',_0x345047[_0x1e767b(0x75d)]=_0x1e767b(0x876),_0x345047[_0x1e767b(0x2c3)]=_0x1e767b(0x313),_0x345047[_0x1e767b(0x4b5)]=_0x1e767b(0x722),_0x345047[_0x1e767b(0x337)]='av_delay';}(_0x261f4b||(_0x261f4b={})),function(_0x12797d){const _0x13938c=_0x3035df;_0x12797d[_0x13938c(0x4c6)]=_0x13938c(0x45a),_0x12797d[_0x13938c(0x31d)]=_0x13938c(0x2b0),_0x12797d[_0x13938c(0x337)]='cpu.av_delay',_0x12797d[_0x13938c(0x2c3)]=_0x13938c(0x546),_0x12797d[_0x13938c(0x446)]=_0x13938c(0x2fe),_0x12797d['Jitter']=_0x13938c(0x734),_0x12797d[_0x13938c(0x4b5)]=_0x13938c(0x961);}(_0x412c18||(_0x412c18={})),function(_0x14e764){const _0x56df65=_0x3035df;_0x14e764[_0x14e764[_0x56df65(0x2d9)]=0x0]=_0x56df65(0x2d9);}(_0x1808d8||(_0x1808d8={}));const _0x14ab86=[{'type':_0x261f4b[_0x3035df(0x990)],'reportMetric':_0x5af2a3=>_0x5af2a3[_0x3035df(0x990)],'maxThreshold':2.5},{'type':_0x261f4b[_0x3035df(0xa45)],'reportMetric':_0x207b1a=>_0x207b1a[_0x3035df(0xa45)],'maxThreshold':0.5}],_0x4606c1=[{'type':_0x261f4b[_0x3035df(0x31d)],'reportMetric':_0x570001=>{const _0x40720a=_0x3035df,_0x511cab=0x3e8/_0x570001[_0x40720a(0x8b3)];return _0x570001['timePerFrame']/_0x511cab;},'maxThreshold':0.75},{'type':_0x261f4b[_0x3035df(0x446)],'reportMetric':_0x27e54d=>{const _0x32bcc3=_0x3035df,_0x48097a=_0x27e54d[_0x32bcc3(0x8b3)]*_0x27e54d[_0x32bcc3(0x39e)]*_0x27e54d[_0x32bcc3(0x723)]*0.12;return _0x27e54d[_0x32bcc3(0x78d)]/_0x48097a;},'minThreshold':0.25},{'type':_0x261f4b[_0x3035df(0x75d)],'reportMetric':_0x3aadf6=>_0x3aadf6[_0x3035df(0x876)],'maxThreshold':0.6},{'type':_0x261f4b[_0x3035df(0x2c3)],'reportMetric':_0x161a6b=>_0x161a6b[_0x3035df(0x8b3)],'minThreshold':0xa}],_0x1b342d=[{'type':_0x261f4b[_0x3035df(0x75d)],'reportMetric':_0x2ce394=>_0x2ce394[_0x3035df(0x876)],'maxThreshold':0.6}],_0x7abcd3=[{'type':_0x261f4b[_0x3035df(0x4b5)],'reportMetric':_0x13d05f=>_0x13d05f[_0x3035df(0xa2b)],'maxThreshold':0x1/0x0}],_0x40d6af=[{'type':_0x261f4b[_0x3035df(0x337)],'reportMetric':_0x2fe1a=>_0x2fe1a['AudioVideoDelay'],'maxThreshold':0x12c}],_0x2683a1=[{'type':_0x412c18[_0x3035df(0x4c6)],'issues':[{'type':_0x261f4b[_0x3035df(0x990)],'threshold':0x5},{'type':_0x261f4b[_0x3035df(0xa45)],'threshold':0x5}]},{'type':_0x412c18[_0x3035df(0x31d)],'issues':[{'type':_0x261f4b[_0x3035df(0x31d)],'threshold':0x3}]},{'type':_0x412c18[_0x3035df(0x337)],'issues':[{'type':_0x261f4b['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x412c18[_0x3035df(0x2c3)],'issues':[{'type':_0x261f4b[_0x3035df(0x2c3)],'threshold':0x3}]},{'type':_0x412c18['Bitrate'],'issues':[{'type':_0x261f4b[_0x3035df(0x446)],'threshold':0x3}]},{'type':_0x412c18[_0x3035df(0x75d)],'issues':[{'type':_0x261f4b[_0x3035df(0x75d)],'threshold':0x3}]},{'type':_0x412c18[_0x3035df(0x4b5)],'issues':[{'type':_0x261f4b[_0x3035df(0x4b5)],'threshold':0x3}]}];var _0x1eb44b,_0x11d6ed;!function(_0x3a1855){const _0x498da8=_0x3035df;_0x3a1855[_0x3a1855[_0x498da8(0x351)]=0x0]=_0x498da8(0x351),_0x3a1855[_0x3a1855[_0x498da8(0x852)]=0x1]=_0x498da8(0x852);}(_0x1eb44b||(_0x1eb44b={}));class _0x36d313{[_0x3035df(0x5bb)];['issues']=[];[_0x3035df(0x31b)];constructor(_0x4545ef){const _0x2c646b=_0x3035df;this[_0x2c646b(0x5bb)]=_0x4545ef,this[_0x2c646b(0x5bb)][_0x2c646b(0x76d)][_0x2c646b(0x6c5)](this);}['registerSystemPublisher'](_0x2570e4){const _0x4d4d3d=_0x3035df;this[_0x4d4d3d(0x31b)]=_0x2570e4;}[_0x3035df(0x38f)](){const _0x43d15a=_0x3035df;this[_0x43d15a(0x31b)]=void 0x0;}[_0x3035df(0x72f)](){const _0x21945b=_0x3035df;this[_0x21945b(0x5bb)]['mediator'][_0x21945b(0x592)](this),this['issues']=[];}[_0x3035df(0x53e)](_0x29b84a){const _0x2bc840=_0x3035df;switch(_0x29b84a[_0x2bc840(0x1f0)][_0x2bc840(0x48b)]){case _0x1eb44b[_0x2bc840(0x852)]:this[_0x2bc840(0x5f1)](_0x29b84a[_0x2bc840(0x1f0)][_0x2bc840(0x937)]);break;case _0x1eb44b[_0x2bc840(0x351)]:this['detectStreamIssues'](_0x29b84a[_0x2bc840(0x1f0)][_0x2bc840(0x937)]);}}[_0x3035df(0x344)](_0x186565,_0x25ec21,_0x46459e,_0x2eb1fe){const _0x27e5f3=_0x3035df,_0x5c233a=_0x2683a1['find'](_0x3febe5=>_0x3febe5[_0x27e5f3(0x670)][_0x27e5f3(0x966)](_0x166fee=>_0x166fee[_0x27e5f3(0x48b)]===_0x186565));_0x2eb1fe>=_0x5c233a[_0x27e5f3(0x670)][_0x27e5f3(0x85d)](_0x368a4d=>_0x368a4d[_0x27e5f3(0x48b)]===_0x186565)[_0x27e5f3(0x6a5)]&&(this[_0x27e5f3(0x511)](_0x5c233a['type'],_0x25ec21,_0x46459e),this[_0x27e5f3(0x670)]=this[_0x27e5f3(0x670)]['filter'](_0x374c7f=>!(_0x374c7f[_0x27e5f3(0x48b)]===_0x186565&&_0x374c7f[_0x27e5f3(0x846)]===_0x25ec21&&_0x374c7f[_0x27e5f3(0x8ff)]===_0x46459e)));}['detectLocalIssues'](_0x6fb1a1){const _0x20befb=_0x3035df;_0x14ab86[_0x20befb(0x8fa)](_0x264b49=>{const _0x4d20cb=_0x20befb,_0x22afbf=_0x264b49[_0x4d20cb(0x29c)](_0x6fb1a1);_0x264b49[_0x4d20cb(0x378)]&&_0x22afbf>_0x264b49[_0x4d20cb(0x378)]&&this[_0x4d20cb(0x9c0)](_0x264b49[_0x4d20cb(0x48b)],this['configs'][_0x4d20cb(0x8f4)][_0x4d20cb(0x6cd)](),_0x4076df[_0x4d20cb(0x1f1)],_0x22afbf),_0x264b49[_0x4d20cb(0x7be)]&&_0x22afbf<_0x264b49['minThreshold']&&this[_0x4d20cb(0x9c0)](_0x264b49[_0x4d20cb(0x48b)],this[_0x4d20cb(0x5bb)][_0x4d20cb(0x8f4)][_0x4d20cb(0x6cd)](),_0x4076df[_0x4d20cb(0x1f1)],_0x22afbf);});}[_0x3035df(0x53b)](_0x512205){const _0xd7fb48=_0x3035df;let _0x534433=[];switch(_0x512205['origin']){case _0x4076df[_0xd7fb48(0x1f1)]:_0x534433=_0x7abcd3;break;case _0x4076df[_0xd7fb48(0x761)]:_0x534433=_0x40d6af;}_0x512205[_0xd7fb48(0xadd)]&&this[_0xd7fb48(0xaf7)](_0x512205[_0xd7fb48(0x846)],_0x4076df[_0xd7fb48(0x1f1)],_0x512205[_0xd7fb48(0xadd)]),_0x512205[_0xd7fb48(0x8ba)]&&this['detectAudioIssues'](_0x512205[_0xd7fb48(0x846)],_0x4076df[_0xd7fb48(0x1f1)],_0x512205[_0xd7fb48(0x8ba)]),_0x534433[_0xd7fb48(0x8fa)](_0x360a94=>{const _0x1236f7=_0xd7fb48,_0x4e2e82=_0x360a94[_0x1236f7(0x29c)](_0x512205);_0x360a94[_0x1236f7(0x378)]&&_0x4e2e82>_0x360a94['maxThreshold']&&this[_0x1236f7(0x9c0)](_0x360a94[_0x1236f7(0x48b)],_0x512205[_0x1236f7(0x846)],_0x4076df[_0x1236f7(0x1f1)],_0x4e2e82),_0x360a94[_0x1236f7(0x7be)]&&_0x4e2e82<_0x360a94[_0x1236f7(0x7be)]&&this[_0x1236f7(0x9c0)](_0x360a94[_0x1236f7(0x48b)],_0x512205[_0x1236f7(0x846)],_0x4076df[_0x1236f7(0x1f1)],_0x4e2e82);});}[_0x3035df(0xaf7)](_0x38ac24,_0x2c0a97,_0xc5b13c){const _0x3cc520=_0x3035df;0x0!==_0xc5b13c[_0x3cc520(0x78d)]&&_0x4606c1[_0x3cc520(0x8fa)](_0x4bd404=>{const _0x1b73f2=_0x3cc520,_0x1723a9=_0x4bd404[_0x1b73f2(0x29c)](_0xc5b13c);_0x4bd404[_0x1b73f2(0x378)]&&_0x1723a9>_0x4bd404[_0x1b73f2(0x378)]&&this['addIssue'](_0x4bd404[_0x1b73f2(0x48b)],_0x38ac24,_0x2c0a97,_0x1723a9,_0x1b73f2(0xadd)),_0x4bd404['minThreshold']&&_0x1723a9<_0x4bd404[_0x1b73f2(0x7be)]&&this[_0x1b73f2(0x9c0)](_0x4bd404[_0x1b73f2(0x48b)],_0x38ac24,_0x2c0a97,_0x1723a9,_0x1b73f2(0xadd));});}[_0x3035df(0x5e7)](_0x2c85d3,_0x2ac056,_0x1062d5){const _0x9391e=_0x3035df;0x0!==_0x1062d5[_0x9391e(0x78d)]&&_0x1b342d['forEach'](_0x18cc7f=>{const _0x1a22b1=_0x9391e,_0x14da63=_0x18cc7f['reportMetric'](_0x1062d5);_0x18cc7f[_0x1a22b1(0x378)]&&_0x14da63>_0x18cc7f[_0x1a22b1(0x378)]&&this[_0x1a22b1(0x9c0)](_0x18cc7f[_0x1a22b1(0x48b)],_0x2c85d3,_0x2ac056,_0x14da63,_0x1a22b1(0x8ba)),_0x18cc7f[_0x1a22b1(0x7be)]&&_0x14da63<_0x18cc7f[_0x1a22b1(0x7be)]&&this[_0x1a22b1(0x9c0)](_0x18cc7f[_0x1a22b1(0x48b)],_0x2c85d3,_0x2ac056,_0x14da63,_0x1a22b1(0x8ba));});}['addIssue'](_0x557114,_0x1998d7,_0x3aa9b3,_0x5d5ad4,_0x2c36cc){const _0x556174=_0x3035df;_0x5cdff6[_0x556174(0x3e9)](_0x2a39e9[_0x556174(0x555)],'Issue\x20detected:\x20'+_0x557114,_0x557114,_0x5d5ad4),_0x5cdff6['logEvent'](_0x556174(0x96d),{'clusterId':this[_0x556174(0x5bb)]['clusterId'],'nodeId':this[_0x556174(0x5bb)]['localNode'][_0x556174(0x6cd)](),'nodeType':this['configs']['localNode'][_0x556174(0x48b)],'remoteId':_0x1998d7,'data':{'type':_0x557114,'value':_0x5d5ad4,'kind':_0x2c36cc}}),this[_0x556174(0x670)]=this[_0x556174(0x670)][_0x556174(0xab2)](_0x2b35c7=>Date[_0x556174(0x6de)]()-_0x2b35c7[_0x556174(0x6c3)]<0x7530),this[_0x556174(0x670)][_0x556174(0x343)]({'timestamp':Date[_0x556174(0x6de)](),'type':_0x557114,'nodeId':_0x1998d7,'origin':_0x3aa9b3,'value':_0x5d5ad4,'kind':_0x2c36cc});const _0x329d1d=this[_0x556174(0x670)][_0x556174(0xab2)](_0x4f26c7=>_0x4f26c7[_0x556174(0x48b)]===_0x557114&&_0x4f26c7[_0x556174(0x846)]===_0x1998d7&&_0x4f26c7[_0x556174(0x8ff)]===_0x3aa9b3)[_0x556174(0x68c)];this[_0x556174(0x344)](_0x557114,_0x1998d7,_0x3aa9b3,_0x329d1d);}[_0x3035df(0x511)](_0x101493,_0x13bfce,_0x4cdb5b){const _0x583a9f=_0x3035df;_0x5cdff6['log'](_0x2a39e9['Detection'],_0x583a9f(0x703)+_0x101493),_0x5cdff6['logEvent'](_0x583a9f(0x4ec),{'clusterId':this[_0x583a9f(0x5bb)][_0x583a9f(0x7b1)],'nodeId':this[_0x583a9f(0x5bb)][_0x583a9f(0x8f4)][_0x583a9f(0x6cd)](),'nodeType':this[_0x583a9f(0x5bb)]['localNode'][_0x583a9f(0x48b)],'remoteId':_0x13bfce,'data':{'type':_0x101493}}),this[_0x583a9f(0x31b)]?.['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40['Detection'],'content':{'type':_0x1808d8[_0x583a9f(0x2d9)],'data':{'timestamp':Date[_0x583a9f(0x6de)](),'nodeId':_0x13bfce,'origin':_0x4076df['Sender'],'type':_0x101493}}});}}class _0x4c795a extends _0xbdb320{[_0x3035df(0x48b)]=_0x37e813[_0x3035df(0x884)][_0x3035df(0x8c1)];}class _0x2c3786 extends _0x4c795a{[_0x3035df(0x31b)];[_0x3035df(0x88c)]=Date['now']();[_0x3035df(0x276)];[_0x3035df(0x989)];[_0x3035df(0x72f)](){const _0x118a64=_0x3035df;this[_0x118a64(0x276)]&&(clearTimeout(this['updateDebounceTimeout']),delete this['updateDebounceTimeout']),delete this[_0x118a64(0x989)],this['currentVersion']=Date[_0x118a64(0x6de)](),super[_0x118a64(0x72f)]();}[_0x3035df(0xb0e)](_0x54ebca){const _0x54f0e9=_0x3035df;this[_0x54f0e9(0x31b)]=_0x54ebca;}[_0x3035df(0x38f)](){const _0x1035b1=_0x3035df;delete this[_0x1035b1(0x31b)];}[_0x3035df(0xaa1)](_0x4c4b9b){const _0xb2d103=_0x3035df;!this[_0xb2d103(0x276)]&&this[_0xb2d103(0x978)]&&this['systemTopic'][_0xb2d103(0xa4f)]({'sourceId':this['id'],'destinationIds':[_0x4c4b9b],'propagate':!0x0,'messageType':_0x160b40[_0xb2d103(0x4ae)],'content':{'type':_0x31962c[_0xb2d103(0x456)],'id':this['id'],'metaData':{'type':this[_0xb2d103(0x48b)]},'rank':this[_0xb2d103(0x8f0)](),'remoteConnections':Array['from'](this[_0xb2d103(0x6df)]),'version':this['currentVersion']}});}[_0x3035df(0x48d)](_0x43b943){const _0x32b072=_0x3035df;this['remoteConnections'][_0x32b072(0x5e8)](_0x43b943)||(this[_0x32b072(0x6df)]['add'](_0x43b943),this[_0x32b072(0x709)](),this[_0x32b072(0x780)](!0x0));}[_0x3035df(0xa2c)](_0x939a17){const _0x3800b9=_0x3035df;this[_0x3800b9(0x6df)][_0x3800b9(0x5e8)](_0x939a17)&&(this['remoteConnections']['delete'](_0x939a17),this[_0x3800b9(0x709)](),this[_0x3800b9(0x780)](!0x0));}[_0x3035df(0xa0b)](){const _0x434577=_0x3035df;return this[_0x434577(0x88c)];}[_0x3035df(0x897)](_0x5d2f61,_0x2aa172=!0x0){const _0x46bf5f=_0x3035df;this['rank']!==_0x5d2f61&&(this[_0x46bf5f(0x978)]=_0x5d2f61,_0x2aa172&&(this[_0x46bf5f(0x709)](),this[_0x46bf5f(0x780)]()));}[_0x3035df(0x709)](){const _0x509dd8=_0x3035df;this['currentVersion']=Date[_0x509dd8(0x6de)]();}[_0x3035df(0x780)](_0x1f415d=!0x1){const _0x362224=_0x3035df;if(this[_0x362224(0x978)]){if(this[_0x362224(0x989)]||(this[_0x362224(0x989)]=Date[_0x362224(0x6de)]()),this[_0x362224(0x276)]){if(Date[_0x362224(0x6de)]()-this[_0x362224(0x989)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x362224(0x276)]=setTimeout(()=>{const _0x432ca2=_0x362224;delete this[_0x432ca2(0x989)],delete this[_0x432ca2(0x276)],this[_0x432ca2(0x31b)][_0x432ca2(0xa4f)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x160b40['Node'],'content':{'type':_0x1f415d?_0x31962c['NodeConnectionsUpdate']:_0x31962c[_0x432ca2(0x456)],'id':this['id'],'metaData':{'type':this[_0x432ca2(0x48b)]},'rank':this[_0x432ca2(0x8f0)](),'remoteConnections':Array[_0x432ca2(0x6a1)](this[_0x432ca2(0x6df)]),'version':this[_0x432ca2(0x88c)]}});},0x3e8);}}}class _0x14b881 extends _0x30d86d{[_0x3035df(0x31b)];[_0x3035df(0x88c)]=Date['now']();[_0x3035df(0x276)];[_0x3035df(0x989)];[_0x3035df(0x72f)](){const _0x4e41cb=_0x3035df;this[_0x4e41cb(0x276)]&&(clearTimeout(this[_0x4e41cb(0x276)]),delete this[_0x4e41cb(0x276)]),delete this['lastUpdated'],this['currentVersion']=Date[_0x4e41cb(0x6de)](),super['close']();}[_0x3035df(0xb0e)](_0x2f0740){const _0x9a9698=_0x3035df;this[_0x9a9698(0x31b)]=_0x2f0740;}[_0x3035df(0x38f)](){const _0x55f862=_0x3035df;delete this[_0x55f862(0x31b)];}[_0x3035df(0xaa1)](_0x49aece){const _0x11e261=_0x3035df;!this['updateDebounceTimeout']&&this[_0x11e261(0x978)]&&this[_0x11e261(0x31b)][_0x11e261(0xa4f)]({'sourceId':this['id'],'destinationIds':[_0x49aece],'propagate':!0x0,'messageType':_0x160b40[_0x11e261(0x4ae)],'content':{'type':_0x31962c['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x11e261(0x48b)],'displayName':this['getDisplayName'](),'email':this[_0x11e261(0x9ad)]()},'rank':this[_0x11e261(0x8f0)](),'remoteConnections':Array[_0x11e261(0x6a1)](this[_0x11e261(0x6df)]),'version':this[_0x11e261(0x88c)]}});}[_0x3035df(0x48d)](_0x4a5ce2){const _0x11f09b=_0x3035df;this['remoteConnections'][_0x11f09b(0x5e8)](_0x4a5ce2)||(this['remoteConnections'][_0x11f09b(0x784)](_0x4a5ce2),this[_0x11f09b(0x709)](),this[_0x11f09b(0x780)](!0x0));}[_0x3035df(0xa2c)](_0x5e4b1c){const _0x1343e6=_0x3035df;this[_0x1343e6(0x6df)][_0x1343e6(0x5e8)](_0x5e4b1c)&&(this[_0x1343e6(0x6df)][_0x1343e6(0x72d)](_0x5e4b1c),this['incrementVersion'](),this[_0x1343e6(0x780)](!0x0));}['getCurrentVersion'](){const _0x38d5d8=_0x3035df;return this[_0x38d5d8(0x88c)];}['setDisplayName'](_0x2dfdd0){const _0xe48cfd=_0x3035df;this[_0xe48cfd(0xaaf)]!==_0x2dfdd0&&(this[_0xe48cfd(0xaaf)]=_0x2dfdd0,this['incrementVersion'](),this['publishUserUpdate']());}[_0x3035df(0x5bc)](_0x4a9bf3){const _0x337174=_0x3035df;this[_0x337174(0x4cb)]!==_0x4a9bf3&&(this[_0x337174(0x4cb)]=_0x4a9bf3,this[_0x337174(0x709)](),this['publishUserUpdate']());}[_0x3035df(0x897)](_0xf539e6,_0x5914dc=!0x0){const _0x564725=_0x3035df;this[_0x564725(0x978)]!==_0xf539e6&&(this['rank']=_0xf539e6,_0x5914dc&&(this[_0x564725(0x709)](),this[_0x564725(0x780)]()));}['incrementVersion'](){const _0x42739e=_0x3035df;this['currentVersion']=Date[_0x42739e(0x6de)]();}[_0x3035df(0x780)](_0x3c98f4=!0x1){const _0x30c657=_0x3035df;if(this[_0x30c657(0x978)]){if(this[_0x30c657(0x989)]||(this[_0x30c657(0x989)]=Date[_0x30c657(0x6de)]()),this[_0x30c657(0x276)]){if(Date[_0x30c657(0x6de)]()-this['lastUpdated']>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x30c657(0x276)]=setTimeout(()=>{const _0x5a8040=_0x30c657;delete this[_0x5a8040(0x989)],delete this[_0x5a8040(0x276)],this[_0x5a8040(0x31b)][_0x5a8040(0xa4f)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x160b40[_0x5a8040(0x4ae)],'content':{'type':_0x3c98f4?_0x31962c[_0x5a8040(0x8d7)]:_0x31962c[_0x5a8040(0x456)],'id':this['id'],'metaData':{'type':this[_0x5a8040(0x48b)],'displayName':this['getDisplayName'](),'email':this[_0x5a8040(0x9ad)]()},'rank':this[_0x5a8040(0x8f0)](),'remoteConnections':Array[_0x5a8040(0x6a1)](this[_0x5a8040(0x6df)]),'version':this[_0x5a8040(0x88c)]}});},0x3e8);}}}class _0x38e1b3{['id'];[_0x3035df(0x3cd)];['vendorId'];['agentConfig'];['type']=_0x37e813[_0x3035df(0x884)][_0x3035df(0x8c1)];['lastCapacityReport'];constructor(_0x203853,_0x38795d,_0x5eb3f8,_0x42454e){const _0x363c0a=_0x3035df;this['id']=_0x203853,this[_0x363c0a(0x3cd)]=_0x38795d,this[_0x363c0a(0x7c3)]=_0x5eb3f8,this[_0x363c0a(0x3c9)]=_0x42454e;}[_0x3035df(0x6cd)](){return this['id'];}[_0x3035df(0x408)](_0x213e42){const _0x1284e5=_0x3035df,_0x9c2152=(0x0,_0x3bf861[_0x1284e5(0x6e5)])((0x0,_0x3bf861[_0x1284e5(0x533)])(_0x1d88af[_0x1284e5(0x26d)](),_0x1284e5(0x6e0)+this[_0x1284e5(0x7c3)]+_0x1284e5(0x9b0)+this[_0x1284e5(0x3cd)]),_0x3c3424=>{const _0x140d18=_0x1284e5;if(_0x3c3424[_0x140d18(0x5a9)]()){const _0x3ef3c5=_0x3c3424['data']();if(this[_0x140d18(0x3c9)]['timestamp'][_0x140d18(0x945)](_0x3ef3c5[_0x140d18(0x6c3)]))return;_0x5cdff6[_0x140d18(0x3e9)](_0x2a39e9[_0x140d18(0x4ae)],_0x140d18(0xab8),{'agentId':this['id'],'groupId':this[_0x140d18(0x3cd)],'oldConfig':this[_0x140d18(0x3c9)],'newConfig':_0x3ef3c5}),this['agentConfig']=_0x3ef3c5,_0x213e42();}});return()=>_0x9c2152();}[_0x3035df(0x544)](_0x309365){const _0x3f694b=_0x3035df;return this[_0x3f694b(0x87e)](this[_0x3f694b(0x3cd)],_0x309365),_0x255ca7[_0x3f694b(0x2ca)](()=>this[_0x3f694b(0x87e)](this[_0x3f694b(0x3cd)],_0x309365),0x7530);}['getCapacityReport'](){const _0x2c2fdf=_0x3035df;if(!this['lastCapacityReport'])throw new _0x891088(_0x891088['codes'][_0x2c2fdf(0x8f7)]);return this[_0x2c2fdf(0x71a)];}async['reportCapacity'](_0x32df66,_0x56afff){const _0x400f85=_0x3035df,_0x33f949=await _0x56afff();this[_0x400f85(0x71a)]=_0x33f949,await(0x0,_0x3bf861['addDoc'])((0x0,_0x3bf861[_0x400f85(0x8b6)])(_0x1d88af[_0x400f85(0x26d)](),_0x400f85(0x6e0)+this[_0x400f85(0x7c3)]+_0x400f85(0x241)),{'agentId':this['id'],'groupId':_0x32df66,'timestamp':(0x0,_0x3bf861[_0x400f85(0xa44)])(),'capacity':_0x33f949});}}!function(_0x50ff41){const _0x1fd94b=_0x3035df;_0x50ff41[_0x50ff41[_0x1fd94b(0x47d)]=0x0]=_0x1fd94b(0x47d),_0x50ff41[_0x50ff41['Offline']=0x1]=_0x1fd94b(0x491);}(_0x11d6ed||(_0x11d6ed={}));class _0x455472 extends _0x4c795a{[_0x3035df(0x88c)];[_0x3035df(0x82b)]=_0x11d6ed[_0x3035df(0x47d)];[_0x3035df(0x989)]=Date[_0x3035df(0x6de)]();constructor(_0x9af32d,_0x29aaf8=new Set(),_0x4da259,_0x509117){const _0x5173d3=_0x3035df;super(_0x9af32d,_0x29aaf8,_0x509117),this[_0x5173d3(0x88c)]=_0x4da259;}[_0x3035df(0xa0b)](){const _0x3874eb=_0x3035df;return this[_0x3874eb(0x88c)];}[_0x3035df(0x79e)](){return this['status'];}['getLastUpdated'](){return this['lastUpdated'];}['setRank'](_0x4cb8a6){const _0x6fcd4d=_0x3035df;this['rank']!==_0x4cb8a6&&(this['rank']=_0x4cb8a6,this[_0x6fcd4d(0xafd)]());}[_0x3035df(0x7f4)](_0x570c0f){const _0x339636=_0x3035df;let _0x525f7c=!0x1;for(const _0x998829 of this['remoteConnections'])_0x570c0f['includes'](_0x998829)||(_0x525f7c=!0x0,this[_0x339636(0x6df)][_0x339636(0x72d)](_0x998829));for(const _0x5b6136 of _0x570c0f)this[_0x339636(0x6df)][_0x339636(0x5e8)](_0x5b6136)||(_0x525f7c=!0x0,this['remoteConnections'][_0x339636(0x784)](_0x5b6136));_0x525f7c&&this[_0x339636(0xafd)]();}[_0x3035df(0x73a)](_0x56d0e2){const _0xccf937=_0x3035df;this[_0xccf937(0x88c)]!==_0x56d0e2&&(this[_0xccf937(0x88c)]=_0x56d0e2,this['updateLastUpdated']());}[_0x3035df(0x5af)](_0x133a34){const _0x4efca2=_0x3035df;this[_0x4efca2(0x82b)]!==_0x133a34&&(this[_0x4efca2(0x82b)]=_0x133a34,this[_0x4efca2(0xafd)](),_0x133a34===_0x11d6ed[_0x4efca2(0x491)]&&this['close']());}['updateLastUpdated'](){const _0x33e6b2=_0x3035df;this[_0x33e6b2(0x989)]=Date[_0x33e6b2(0x6de)]();}}class _0x23a917 extends _0x30d86d{['currentVersion'];[_0x3035df(0x82b)]=_0x11d6ed[_0x3035df(0x47d)];[_0x3035df(0x989)]=Date[_0x3035df(0x6de)]();constructor(_0x1facd2,_0x1d155f,_0x55125d,_0xa6cc50=new Set(),_0x4b2da2,_0x5ce671){super(_0x1facd2,_0x1d155f,_0x55125d,_0xa6cc50,_0x5ce671),this['currentVersion']=_0x4b2da2;}['getCurrentVersion'](){const _0x321e7e=_0x3035df;return this[_0x321e7e(0x88c)];}[_0x3035df(0x79e)](){const _0x5248c9=_0x3035df;return this[_0x5248c9(0x82b)];}[_0x3035df(0xa49)](){const _0x3b7418=_0x3035df;return this[_0x3b7418(0x989)];}[_0x3035df(0x900)](_0x5a69e9){const _0x3892e4=_0x3035df;this[_0x3892e4(0xaaf)]!==_0x5a69e9&&(this[_0x3892e4(0xaaf)]=_0x5a69e9,this['updateLastUpdated']());}['setEmail'](_0x1e61d8){const _0x1e836c=_0x3035df;this[_0x1e836c(0x4cb)]!==_0x1e61d8&&(this['email']=_0x1e61d8,this[_0x1e836c(0xafd)]());}[_0x3035df(0x897)](_0x5a2862){const _0x58540e=_0x3035df;this['rank']!==_0x5a2862&&(this[_0x58540e(0x978)]=_0x5a2862,this['updateLastUpdated']());}[_0x3035df(0x7f4)](_0x458b4e){const _0x59916e=_0x3035df;let _0x59d6a1=!0x1;for(const _0x17220e of this['remoteConnections'])_0x458b4e['includes'](_0x17220e)||(_0x59d6a1=!0x0,this[_0x59916e(0x6df)][_0x59916e(0x72d)](_0x17220e));for(const _0x2c4f48 of _0x458b4e)this[_0x59916e(0x6df)][_0x59916e(0x5e8)](_0x2c4f48)||(_0x59d6a1=!0x0,this[_0x59916e(0x6df)][_0x59916e(0x784)](_0x2c4f48));_0x59d6a1&&this['updateLastUpdated']();}[_0x3035df(0x73a)](_0x2e841d){const _0x1a2cbd=_0x3035df;this[_0x1a2cbd(0x88c)]!==_0x2e841d&&(this[_0x1a2cbd(0x88c)]=_0x2e841d,this[_0x1a2cbd(0xafd)]());}[_0x3035df(0x5af)](_0x5a5957){const _0x35cdaa=_0x3035df;this[_0x35cdaa(0x82b)]!==_0x5a5957&&(this['status']=_0x5a5957,this['updateLastUpdated'](),_0x5a5957===_0x11d6ed[_0x35cdaa(0x491)]&&this[_0x35cdaa(0x72f)]());}['updateLastUpdated'](){const _0x469c14=_0x3035df;this[_0x469c14(0x989)]=Date[_0x469c14(0x6de)]();}}class _0x593439{[_0x3035df(0x7c3)];[_0x3035df(0x7b1)];[_0x3035df(0x8f4)];[_0x3035df(0x81f)];[_0x3035df(0x6a4)]=_0x61647d();['firebaseUnsubscriber'];['childRemovedUnsubscriber'];[_0x3035df(0x444)];[_0x3035df(0xaad)]=!0x1;[_0x3035df(0x36d)];['nodeKey'];constructor(_0x464686,_0x2806df,_0x4e1091,_0x4b79e0){const _0x555b71=_0x3035df;this[_0x555b71(0x7c3)]=_0x464686,this[_0x555b71(0x7b1)]=_0x2806df,this[_0x555b71(0x8f4)]=_0x4e1091,this[_0x555b71(0x81f)]=_0x4b79e0,this[_0x555b71(0x36d)]='ccc'+this[_0x555b71(0x7c3)]+_0x555b71(0x402)+this[_0x555b71(0x7b1)],this[_0x555b71(0x609)]=_0x555b71(0x402)+this['vendorId']+_0x555b71(0x402)+this[_0x555b71(0x8f4)]['getId'](),this[_0x555b71(0x98f)]=(0x0,_0x116674[_0x555b71(0x7b2)])((0x0,_0x116674[_0x555b71(0x62b)])(_0x1d88af['getDatabase'](),'.info/connected'),_0x4a0548=>{const _0x234f23=_0x555b71;!0x0!==_0x4a0548['val']()?this[_0x234f23(0xaad)]&&_0x5cdff6[_0x234f23(0xa29)](_0x234f23(0x848),{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x234f23(0x6cd)](),'nodeType':this['localNode'][_0x234f23(0x48b)]}):(this['connected']=!0x0,this[_0x234f23(0x2cc)](),_0x5cdff6[_0x234f23(0x97a)](_0x234f23(0x659),{'clusterId':this[_0x234f23(0x7b1)],'nodeId':this[_0x234f23(0x8f4)][_0x234f23(0x6cd)](),'nodeType':this['localNode'][_0x234f23(0x48b)]}));});}async[_0x3035df(0x95b)](){const _0x1b43b6=_0x3035df;await this['joinCluster']();const _0x3614f4=await this['getAncestors']();return this[_0x1b43b6(0x84e)]=(0x0,_0x116674[_0x1b43b6(0x8a5)])((0x0,_0x116674[_0x1b43b6(0x62b)])(_0x1d88af[_0x1b43b6(0x894)](),_0x1b43b6(0x46b)+this[_0x1b43b6(0x36d)]+_0x1b43b6(0x579)),_0x49810c=>{const _0x2040af=_0x1b43b6,_0x563a9f=_0x49810c[_0x2040af(0x547)];if(!_0x563a9f)return;const _0x5afdc4=_0x563a9f[_0x2040af(0x471)](_0x2040af(0x402)+this[_0x2040af(0x7c3)]+_0x2040af(0x402),'');this[_0x2040af(0x6a4)][_0x2040af(0xa4f)](_0x5afdc4);}),_0x3614f4;}async[_0x3035df(0x72f)](){const _0x39e9a0=_0x3035df;this[_0x39e9a0(0x84e)]?.(),delete this[_0x39e9a0(0x84e)],this['onDisconnectHandler']?.['cancel'](),delete this[_0x39e9a0(0x444)],this['firebaseUnsubscriber']?.(),delete this[_0x39e9a0(0x98f)],await(0x0,_0x116674[_0x39e9a0(0x59d)])((0x0,_0x116674[_0x39e9a0(0x62b)])(_0x1d88af[_0x39e9a0(0x894)](),_0x39e9a0(0x46b)+this[_0x39e9a0(0x36d)]+_0x39e9a0(0x802)+this['nodeKey']));}[_0x3035df(0x4a0)](_0x23a64f){const _0x94b06f=_0x3035df;return this[_0x94b06f(0x6a4)][_0x94b06f(0x3bd)](_0x23a64f);}async[_0x3035df(0x6ca)](){const _0x302042=_0x3035df,_0x1eb626=[],_0x22eed0=await(0x0,_0x116674['get'])((0x0,_0x116674['ref'])(_0x1d88af[_0x302042(0x894)](),_0x302042(0x46b)+this[_0x302042(0x36d)]+_0x302042(0x579))),_0xfbf390=[];return _0x22eed0['forEach'](_0x1b973d=>{const _0x14c18f=_0x302042,_0x3dec84=_0x1b973d['key']?.['replace'](_0x14c18f(0x402)+this['vendorId']+_0x14c18f(0x402),'');_0xfbf390[_0x14c18f(0x343)]({'id':_0x3dec84,'joinedAt':_0x1b973d[_0x14c18f(0x412)]()[_0x14c18f(0x90e)],'priority':_0x1b973d[_0x14c18f(0x412)]()[_0x14c18f(0x92a)]});}),_0xfbf390[_0x302042(0x7aa)]((_0x1c337d,_0x4a3dd1)=>_0x1c337d[_0x302042(0x90e)]===_0x4a3dd1[_0x302042(0x90e)]?_0x1c337d[_0x302042(0x92a)]-_0x4a3dd1[_0x302042(0x92a)]:_0x1c337d[_0x302042(0x90e)]-_0x4a3dd1[_0x302042(0x90e)])[_0x302042(0x1f3)](_0xfbf390[_0x302042(0xb19)](_0x560656=>_0x560656['id']===this[_0x302042(0x8f4)][_0x302042(0x6cd)]())),_0xfbf390[_0x302042(0x7aa)]((_0x281601,_0x3594a5)=>_0x3594a5[_0x302042(0x90e)]===_0x281601['joinedAt']?_0x3594a5[_0x302042(0x92a)]-_0x281601[_0x302042(0x92a)]:_0x3594a5[_0x302042(0x90e)]-_0x281601[_0x302042(0x90e)])[_0x302042(0x8fa)](_0x2e8dee=>{const _0xe274bb=_0x302042;_0x1eb626[_0xe274bb(0x68c)]>=this[_0xe274bb(0x81f)]||_0x1eb626[_0xe274bb(0x343)](_0x2e8dee['id']);}),_0x5cdff6['logEvent']('discover',{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x302042(0x6cd)](),'nodeType':this['localNode'][_0x302042(0x48b)],'data':{'ancestorIds':_0x1eb626,'allNodes':_0xfbf390}}),_0x1eb626;}async['joinCluster'](){const _0x36cfce=_0x3035df;await(0x0,_0x116674[_0x36cfce(0xac2)])((0x0,_0x116674[_0x36cfce(0x62b)])(_0x1d88af[_0x36cfce(0x894)](),'clusters/'+this[_0x36cfce(0x36d)]+'/nodes/'+this[_0x36cfce(0x609)]),{'joinedAt':(0x0,_0x116674[_0x36cfce(0xa44)])(),'priority':Math[_0x36cfce(0x2a9)]()});}[_0x3035df(0x2cc)](){const _0x30b3e9=_0x3035df;this[_0x30b3e9(0x444)]&&this[_0x30b3e9(0x444)]['cancel'](),this[_0x30b3e9(0x444)]=(0x0,_0x116674[_0x30b3e9(0x96c)])((0x0,_0x116674[_0x30b3e9(0x62b)])(_0x1d88af['getDatabase'](),_0x30b3e9(0x46b)+this[_0x30b3e9(0x36d)]+'/nodes/'+this[_0x30b3e9(0x609)])),this['onDisconnectHandler'][_0x30b3e9(0x59d)]();}}class _0x242d5a{[_0x3035df(0x5bb)];[_0x3035df(0x2c7)];[_0x3035df(0x6ff)];['discoveryService'];[_0x3035df(0x486)];[_0x3035df(0x61a)]=[];[_0x3035df(0x31b)];['optimizationLayers']=new Map();['debounceProcessRank'];[_0x3035df(0x521)];[_0x3035df(0x26a)];['resolveReady'];[_0x3035df(0x453)];[_0x3035df(0x5dd)];constructor(_0x357594,_0x4627f6){const _0x35a176=_0x3035df;this[_0x35a176(0x5bb)]=_0x357594,this['graphService']=_0x4627f6,this[_0x35a176(0x26a)]=new Promise((_0x42ca8d,_0x49f30d)=>{this['resolveReady']=_0x42ca8d,this['rejectReady']=_0x49f30d;}),this[_0x35a176(0x2c0)]=new _0x593439(this['configs'][_0x35a176(0x7c3)],this['configs'][_0x35a176(0x7b1)],this[_0x35a176(0x5bb)][_0x35a176(0x8f4)],this[_0x35a176(0x2c7)][_0x35a176(0x2b2)]()),this[_0x35a176(0x486)]=this[_0x35a176(0x2c0)]['onNodeDisconnect'](this['handleNodeDisconnect'][_0x35a176(0x5bf)](this)),this[_0x35a176(0x5bb)][_0x35a176(0x76d)][_0x35a176(0x6c5)](this[_0x35a176(0x5bb)][_0x35a176(0x8f4)]),this[_0x35a176(0x5bb)][_0x35a176(0x76d)]['registerSystemSource'](this),this[_0x35a176(0x6ff)]=_0x255ca7[_0x35a176(0x2ca)](()=>{const _0x39b4d6=_0x35a176,_0x54807a=Date[_0x39b4d6(0x6de)]();this[_0x39b4d6(0x2c7)][_0x39b4d6(0x497)]()['forEach'](_0x104e80=>{const _0xd737a=_0x39b4d6;_0x104e80[_0xd737a(0x79e)]()===_0x11d6ed[_0xd737a(0x491)]&&_0x104e80['getLastUpdated']()<_0x54807a-0x493e0&&this[_0xd737a(0x2c7)][_0xd737a(0x898)](_0x104e80['getId']());});},0xea60);}async[_0x3035df(0x9bc)](){const _0x3bf9bd=_0x3035df;return this[_0x3bf9bd(0x26a)];}async[_0x3035df(0x433)](_0xbd0806){return new Promise((_0x123f0a,_0x479a7a)=>{const _0x357f97=a0_0x4922;let _0x10e4aa;const _0xce660=setTimeout(()=>{const _0x5b6ae4=a0_0x4922;_0x10e4aa?.(),_0x479a7a(new Error(_0x5b6ae4(0x7f2)+_0xbd0806+_0x5b6ae4(0x301)));},0x2710);if(this[_0x357f97(0x2c7)]['hasRemoteNode'](_0xbd0806))return clearTimeout(_0xce660),void _0x123f0a(!0x0);_0x10e4aa=this['graphService'][_0x357f97(0x50a)](()=>{const _0x5da682=_0x357f97;this[_0x5da682(0x2c7)][_0x5da682(0x8c5)](_0xbd0806)&&(clearTimeout(_0xce660),_0x123f0a(!0x0),_0x10e4aa?.());});});}[_0x3035df(0xb0e)](_0x16b18a){this['systemTopic']=_0x16b18a;}[_0x3035df(0x38f)](){const _0x21d494=_0x3035df;delete this[_0x21d494(0x31b)];}[_0x3035df(0x72f)](){const _0x950f2d=_0x3035df;this[_0x950f2d(0x87d)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x950f2d(0x87d)]),delete this[_0x950f2d(0x521)],this[_0x950f2d(0x5bb)]['localNode'][_0x950f2d(0x72f)](),this[_0x950f2d(0x6ff)](),this[_0x950f2d(0x486)](),this[_0x950f2d(0x5bb)][_0x950f2d(0x76d)][_0x950f2d(0x592)](this[_0x950f2d(0x5bb)][_0x950f2d(0x8f4)]),this[_0x950f2d(0x5bb)][_0x950f2d(0x76d)][_0x950f2d(0x592)](this),this[_0x950f2d(0x2c0)][_0x950f2d(0x72f)]();}[_0x3035df(0x8d6)](){const _0x55c749=_0x3035df;return this[_0x55c749(0x61a)];}['getLocalId'](){const _0x487e9c=_0x3035df;return this[_0x487e9c(0x5bb)][_0x487e9c(0x8f4)][_0x487e9c(0x6cd)]();}[_0x3035df(0x42f)](){const _0x2eeb0d=_0x3035df;return this[_0x2eeb0d(0x5bb)][_0x2eeb0d(0x8f4)];}[_0x3035df(0x497)](_0x438fe0){const _0x5b8864=_0x3035df,_0x1bca63=Array[_0x5b8864(0x6a1)](this[_0x5b8864(0x2c7)][_0x5b8864(0x497)]()[_0x5b8864(0xb09)]())['filter'](_0x297ec1=>_0x297ec1['getStatus']()===_0x11d6ed[_0x5b8864(0x47d)]);return _0x438fe0?_0x1bca63[_0x5b8864(0xab2)](_0x438fe0):_0x1bca63;}async[_0x3035df(0x50e)](){const _0x1a13a8=_0x3035df;return this[_0x1a13a8(0x61a)]=await this[_0x1a13a8(0x2c0)][_0x1a13a8(0x95b)](),this[_0x1a13a8(0x61a)]['length']<this['graphService']['getMinConnections']()&&(this['configs']['localNode']['setRank'](this[_0x1a13a8(0x61a)]['length']+0x1),this['processRank']()),this[_0x1a13a8(0x61a)];}['getDistance'](_0x55fd98,_0x4ef8cb){const _0x578812=_0x3035df,_0x58323d=this[_0x578812(0x5bb)]['localNode'][_0x578812(0x346)](),_0x290481=new Set(_0x58323d),_0x36b14c=Array[_0x578812(0x6a1)](_0x58323d)[_0x578812(0xab2)](_0x1490bf=>_0x1490bf!==_0x55fd98)[_0x578812(0x207)](_0x1f3ca3=>({'id':_0x1f3ca3,'distance':0x1}));for(;_0x36b14c[_0x578812(0x68c)]>0x0;){const _0x39cca3=_0x36b14c['shift']();if(!_0x39cca3)continue;if(_0x39cca3['id']===_0x4ef8cb)return _0x39cca3[_0x578812(0x4bd)];const _0x124b07=this[_0x578812(0x2c7)][_0x578812(0x522)](_0x39cca3['id']);_0x124b07&&_0x124b07[_0x578812(0x79e)]()!==_0x11d6ed[_0x578812(0x491)]&&_0x124b07[_0x578812(0x346)]()[_0x578812(0x8fa)](_0x237611=>{const _0x1c5d09=_0x578812;_0x290481['has'](_0x237611)||(_0x290481['add'](_0x237611),_0x36b14c[_0x1c5d09(0x343)]({'id':_0x237611,'distance':_0x39cca3['distance']+0x1}));});}return-0x1;}[_0x3035df(0x2d1)](_0x2c0fcb){const _0x59d1d4=_0x3035df;try{switch(_0x2c0fcb['content'][_0x59d1d4(0x48b)]){case _0x31962c[_0x59d1d4(0x456)]:case _0x31962c[_0x59d1d4(0x8d7)]:this[_0x59d1d4(0x6af)](_0x2c0fcb[_0x59d1d4(0x1f0)]),_0x5cdff6['log'](_0x2a39e9['Node'],_0x59d1d4(0x35d),'\x27'+this[_0x59d1d4(0x5bb)][_0x59d1d4(0x8f4)][_0x59d1d4(0x6cd)]()+',\x20'+_0x2c0fcb[_0x59d1d4(0x545)]+'\x27',_0x2c0fcb,_0x2c0fcb[_0x59d1d4(0x1f0)]);break;case _0x31962c[_0x59d1d4(0x20b)]:this[_0x59d1d4(0x523)](_0x2c0fcb[_0x59d1d4(0x1f0)]['id']),_0x5cdff6[_0x59d1d4(0x3e9)](_0x2a39e9[_0x59d1d4(0x4ae)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x59d1d4(0x5bb)][_0x59d1d4(0x8f4)]['getId']()+',\x20'+_0x2c0fcb[_0x59d1d4(0x545)]+'\x27',_0x2c0fcb,_0x2c0fcb[_0x59d1d4(0x1f0)]);}}catch(_0x582791){if(_0x582791 instanceof _0x91a477)return void _0x5cdff6[_0x59d1d4(0x3e9)](_0x2a39e9[_0x59d1d4(0x4ae)],_0x582791[_0x59d1d4(0x2d0)]);throw _0x582791;}}[_0x3035df(0x50d)](_0x48d184){const _0x2bf6d9=_0x3035df;switch(_0x48d184[_0x2bf6d9(0x1f0)]['type']){case _0x369f7f[_0x2bf6d9(0x23c)]:this[_0x2bf6d9(0xa33)](_0x48d184[_0x2bf6d9(0x545)]),_0x5cdff6[_0x2bf6d9(0x3e9)](_0x2a39e9['Node'],_0x2bf6d9(0x8e5),'\x27'+this[_0x2bf6d9(0x5bb)][_0x2bf6d9(0x8f4)][_0x2bf6d9(0x6cd)]()+',\x20'+_0x48d184['sourceId']+'\x27',_0x48d184,_0x48d184[_0x2bf6d9(0x1f0)]);break;case _0x369f7f['Disconnect']:this[_0x2bf6d9(0x5d6)](_0x48d184[_0x2bf6d9(0x545)]),_0x5cdff6['log'](_0x2a39e9[_0x2bf6d9(0x4ae)],_0x2bf6d9(0x41b),this[_0x2bf6d9(0x5bb)][_0x2bf6d9(0x8f4)][_0x2bf6d9(0x6cd)](),_0x48d184,_0x48d184[_0x2bf6d9(0x1f0)]);}}[_0x3035df(0x711)](_0x1d9992){const _0x1e5d43=_0x3035df;this[_0x1e5d43(0x374)](_0x1d9992),this[_0x1e5d43(0x9d0)](_0x1d9992);}[_0x3035df(0x9d0)](_0x115ee2){const _0x43b5bb=_0x3035df;this[_0x43b5bb(0x5bb)][_0x43b5bb(0x8f4)][_0x43b5bb(0xaa1)](_0x115ee2['id']),this[_0x43b5bb(0x36e)](_0x115ee2['id']),this['notifyClusterNodeJoin'](_0x115ee2);}['handleNodeUpdate'](_0x43e5c4){const _0x1e0c2c=_0x3035df,{id:_0x3e5d97,metaData:_0x4ceea6,rank:_0x2ba805,remoteConnections:_0x4b1083,version:_0x55907d}=_0x43e5c4,_0x50290b=this[_0x1e0c2c(0x2c7)][_0x1e0c2c(0x522)](_0x3e5d97);if(_0x50290b){if(!(_0x55907d<=_0x50290b[_0x1e0c2c(0xa0b)]())){if(_0x50290b[_0x1e0c2c(0x7f4)](_0x4b1083),_0x50290b[_0x1e0c2c(0x73a)](_0x55907d),_0x50290b[_0x1e0c2c(0x48b)]===_0x37e813['NodeType']['User']&&_0x4ceea6[_0x1e0c2c(0x48b)]===_0x37e813['NodeType'][_0x1e0c2c(0x86f)]&&(_0x50290b[_0x1e0c2c(0x900)](_0x4ceea6[_0x1e0c2c(0xaaf)]),_0x50290b[_0x1e0c2c(0x5bc)](_0x4ceea6['email'])),_0x2ba805&&_0x50290b[_0x1e0c2c(0x897)](_0x2ba805),this[_0x1e0c2c(0x767)](_0x3e5d97,_0x2ba805),_0x50290b[_0x1e0c2c(0x79e)]()===_0x11d6ed[_0x1e0c2c(0x491)])return _0x50290b[_0x1e0c2c(0x5af)](_0x11d6ed[_0x1e0c2c(0x47d)]),this[_0x1e0c2c(0x696)](),void this[_0x1e0c2c(0x9d0)](_0x43e5c4);this['processRank'](),this[_0x1e0c2c(0x7b0)]({'id':_0x3e5d97,'metaData':_0x4ceea6,'remoteConnections':_0x4b1083,'version':_0x55907d});}}else this[_0x1e0c2c(0x711)](_0x43e5c4);}[_0x3035df(0x767)](_0xad17af,_0x18f9b1){const _0x44fcce=_0x3035df;_0x18f9b1&&this[_0x44fcce(0x61a)][_0x44fcce(0x7c4)](_0xad17af)&&this['configs'][_0x44fcce(0x8f4)][_0x44fcce(0x897)](_0x18f9b1+this[_0x44fcce(0x61a)][_0x44fcce(0x331)](_0xad17af)+0x1);}[_0x3035df(0xa33)](_0x22c104){const _0x2863d3=_0x3035df;this[_0x2863d3(0x5bb)][_0x2863d3(0x8f4)]['addRemoteConnection'](_0x22c104);}[_0x3035df(0x374)]({id:_0x4742a5,metaData:_0x8ee0d4,rank:_0x478ee4,remoteConnections:_0x44d5d3,version:_0x487d6d}){const _0x1e04b1=_0x3035df;if(this['graphService'][_0x1e04b1(0x8c5)](_0x4742a5))throw new _0x91a477('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x4742a5);switch(_0x8ee0d4[_0x1e04b1(0x48b)]){case _0x37e813[_0x1e04b1(0x884)]['User']:const {displayName:_0x212ded,email:_0x570b5c}=_0x8ee0d4;this[_0x1e04b1(0x2c7)][_0x1e04b1(0x2ec)](_0x4742a5,new _0x23a917(_0x4742a5,_0x212ded,_0x570b5c,new Set(_0x44d5d3),_0x487d6d,_0x478ee4));break;case _0x37e813[_0x1e04b1(0x884)][_0x1e04b1(0x8c1)]:this[_0x1e04b1(0x2c7)][_0x1e04b1(0x2ec)](_0x4742a5,new _0x455472(_0x4742a5,new Set(_0x44d5d3),_0x487d6d,_0x478ee4));}const _0x408bad=this[_0x1e04b1(0x497)](),_0x36385a=new Set(this[_0x1e04b1(0x61a)]);_0x408bad[_0x1e04b1(0x8fa)](_0x541561=>{const _0x32433f=_0x1e04b1;_0x36385a[_0x32433f(0x5e8)](_0x541561[_0x32433f(0x6cd)]())&&_0x36385a[_0x32433f(0x72d)](_0x541561[_0x32433f(0x6cd)]());}),0x0===_0x36385a[_0x1e04b1(0xadc)]&&this[_0x1e04b1(0x524)]&&(this[_0x1e04b1(0x5dd)]&&clearTimeout(this[_0x1e04b1(0x5dd)]),this[_0x1e04b1(0x5dd)]=setTimeout(()=>{const _0x5bf7e3=_0x1e04b1;this[_0x5bf7e3(0x524)]?.(!0x0),delete this[_0x5bf7e3(0x524)],delete this[_0x5bf7e3(0x453)];},0x7d0)),this[_0x1e04b1(0x767)](_0x4742a5,_0x478ee4),this['processRank']();}[_0x3035df(0x36e)](_0x393bb6){const _0x5bf96d=_0x3035df;this[_0x5bf96d(0x31b)][_0x5bf96d(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x5bf96d(0x4ae)],'content':{'type':_0x31962c['NodeJoin'],'id':_0x393bb6}});}[_0x3035df(0x5d6)](_0x5be5a3){const _0xff7136=_0x3035df;this[_0xff7136(0x31b)]?.['publish']({'sourceId':_0x8b8df,'messageType':_0x160b40[_0xff7136(0x4ae)],'content':{'type':_0x31962c[_0xff7136(0x20b)],'id':_0x5be5a3}});}[_0x3035df(0x3bc)](_0x59de96){const _0x3a3232=_0x3035df;if(_0x59de96===this[_0x3a3232(0x5bb)][_0x3a3232(0x8f4)][_0x3a3232(0x6cd)]())return this[_0x3a3232(0x5bb)][_0x3a3232(0x76d)][_0x3a3232(0x325)](_0x3a3232(0x84b),{'id':_0x59de96}),this[_0x3a3232(0x5bb)]['mediator'][_0x3a3232(0x72f)]({'force':!0x0},!0x0),this[_0x3a3232(0x5bb)]['mediator']['open'](),void this[_0x3a3232(0x5bb)][_0x3a3232(0x76d)][_0x3a3232(0x3a7)]();this[_0x3a3232(0x5d6)](_0x59de96);}['removeNode'](_0x2c0856){const _0xce41da=_0x3035df;this[_0xce41da(0x61a)]['includes'](_0x2c0856)?this['manageAncestor'](_0x2c0856):this[_0xce41da(0x5bb)]['localNode'][_0xce41da(0x346)]()['has'](_0x2c0856)&&this[_0xce41da(0x857)](_0x2c0856),this[_0xce41da(0x5bb)][_0xce41da(0x8f4)][_0xce41da(0xa2c)](_0x2c0856);const _0x493fb1=Array[_0xce41da(0x6a1)](this[_0xce41da(0x2ee)]['entries']())['find'](([,_0x270d60])=>_0x270d60==_0x270d60);_0x493fb1&&this['optimizationLayers'][_0xce41da(0x72d)](_0x493fb1[0x0]);const _0xad6520=this[_0xce41da(0x2c7)]['getRemoteNode'](_0x2c0856);if(!_0xad6520)return;const _0x3376c3=_0xad6520[_0xce41da(0x8f0)](),_0x403aea=this[_0xce41da(0x5bb)][_0xce41da(0x8f4)]['getRank']();_0x403aea&&_0x3376c3&&_0x3376c3<_0x403aea&&this[_0xce41da(0x5bb)]['localNode'][_0xce41da(0x897)](_0x403aea-0x1,!0x1),Array[_0xce41da(0x6a1)](this['graphService'][_0xce41da(0x497)]()[_0xce41da(0xb09)]())[_0xce41da(0x8fa)](_0x4dc834=>{const _0x2e140e=_0x4dc834['getRank']();_0x2e140e&&_0x3376c3&&_0x3376c3<_0x2e140e&&_0x4dc834['setRank'](_0x2e140e-0x1);}),_0xad6520[_0xce41da(0x5af)](_0x11d6ed[_0xce41da(0x491)]),this[_0xce41da(0x5bb)][_0xce41da(0x76d)][_0xce41da(0x325)](_0xad6520[_0xce41da(0x48b)]+'-leave',{'id':_0x2c0856});}[_0x3035df(0x3db)]({id:_0x5a1456,metaData:_0x3c7128,remoteConnections:_0x157f2b}){const _0x3a84a6=_0x3035df;switch(_0x3c7128[_0x3a84a6(0x48b)]){case _0x37e813[_0x3a84a6(0x884)][_0x3a84a6(0x86f)]:this['configs'][_0x3a84a6(0x76d)][_0x3a84a6(0x325)](_0x3a84a6(0xb26),{'id':_0x5a1456,'metaData':_0x3c7128,'remoteConnections':_0x157f2b});break;case _0x37e813[_0x3a84a6(0x884)]['Agent']:this['configs'][_0x3a84a6(0x76d)]['notifyCluster']('agent-join',{'id':_0x5a1456,'metaData':_0x3c7128,'remoteConnections':_0x157f2b});}}['notifyClusterNodeUpdate']({id:_0x4078ca,metaData:_0x23718d,remoteConnections:_0x2fa9eb}){const _0xf26b3d=_0x3035df;switch(_0x23718d[_0xf26b3d(0x48b)]){case _0x37e813[_0xf26b3d(0x884)][_0xf26b3d(0x86f)]:this[_0xf26b3d(0x5bb)]['mediator'][_0xf26b3d(0x325)](_0xf26b3d(0x52a),{'id':_0x4078ca,'metaData':_0x23718d,'remoteConnections':_0x2fa9eb});break;case _0x37e813['NodeType'][_0xf26b3d(0x8c1)]:this[_0xf26b3d(0x5bb)][_0xf26b3d(0x76d)][_0xf26b3d(0x325)]('agent-update',{'id':_0x4078ca,'metaData':_0x23718d,'remoteConnections':_0x2fa9eb});}}[_0x3035df(0x696)](){const _0x49aef7=_0x3035df;if(this[_0x49aef7(0x521)]||(this[_0x49aef7(0x521)]=Date[_0x49aef7(0x6de)]()),this[_0x49aef7(0x87d)]){if(Date['now']()-this[_0x49aef7(0x521)]>0x2328)return;clearTimeout(this[_0x49aef7(0x87d)]);}this[_0x49aef7(0x87d)]=setTimeout(async()=>{const _0x128e28=_0x49aef7;delete this['lastProcessRank'],delete this[_0x128e28(0x87d)];const _0x4d578e=this[_0x128e28(0x5bb)][_0x128e28(0x8f4)][_0x128e28(0x8f0)]();if(!_0x4d578e)return;const _0xaa0089=this['graphService'][_0x128e28(0x84f)](this[_0x128e28(0x2c7)][_0x128e28(0x497)]()['size']);if(this['optimizationLayers'][_0x128e28(0xadc)]>=_0xaa0089)return;let _0x4331e6=0x1;for(;this[_0x128e28(0x5bb)][_0x128e28(0x76d)][_0x128e28(0xa20)]()[_0x128e28(0x68c)]<this['graphService']['getMaxConnections']()&&_0x4331e6<=_0xaa0089;){if(this['optimizationLayers'][_0x128e28(0x5e8)](_0x4331e6)){_0x4331e6+=0x1;continue;}const _0x53be37=this[_0x128e28(0x2c7)][_0x128e28(0x7d5)](_0x4d578e,_0x4331e6),_0x49039e=Array['from'](this[_0x128e28(0x2c7)][_0x128e28(0x497)]()[_0x128e28(0xb09)]())['find'](_0x4d641a=>_0x4d641a[_0x128e28(0x8f0)]()===_0x53be37&&_0x4d641a['getStatus']()===_0x11d6ed[_0x128e28(0x47d)]);if(_0x49039e){try{await this[_0x128e28(0x5bb)][_0x128e28(0x76d)][_0x128e28(0x7d0)](_0x49039e['getId'](),_0x20fab9[_0x128e28(0x6bd)]),this[_0x128e28(0x2ee)]['set'](_0x4331e6,_0x49039e[_0x128e28(0x6cd)]());}catch(_0x48e508){if(!(_0x48e508 instanceof _0x891088&&_0x48e508[_0x128e28(0x7ad)]===_0x891088[_0x128e28(0x5fb)][_0x128e28(0xa30)]))throw _0x48e508;_0x5cdff6[_0x128e28(0x3e9)](_0x2a39e9['Node'],this['configs'][_0x128e28(0x8f4)][_0x128e28(0x6cd)](),_0x49039e['getId'](),_0x48e508['message']);}_0x4331e6+=0x1;}else _0x4331e6+=0x1;}},0x3e8);}async[_0x3035df(0x7ec)](_0x456829){const _0x9a8cb3=_0x3035df;this[_0x9a8cb3(0x61a)][_0x9a8cb3(0x1f3)](this[_0x9a8cb3(0x61a)][_0x9a8cb3(0x331)](_0x456829),0x1);const _0x5e01f0=await this['discoveryService'][_0x9a8cb3(0x6ca)]();for(const _0x181344 of _0x5e01f0)if(!this['ancestors'][_0x9a8cb3(0x7c4)](_0x181344)){const _0x134cf5=Array['from'](this['optimizationLayers'][_0x9a8cb3(0x946)]())[_0x9a8cb3(0x85d)](([,_0x4c5988])=>_0x4c5988===_0x181344);_0x134cf5&&this[_0x9a8cb3(0x2ee)][_0x9a8cb3(0x72d)](_0x134cf5[0x0]),this['configs']['mediator']['createConnection'](_0x181344,_0x20fab9[_0x9a8cb3(0x3d5)]);}0x0===_0x5e01f0[_0x9a8cb3(0x68c)]&&this[_0x9a8cb3(0x5bb)][_0x9a8cb3(0x8f4)][_0x9a8cb3(0x897)](0x1),this['ancestors']=_0x5e01f0;}async['manageOptimization'](_0x4bfbdc){const _0x2555fe=_0x3035df,_0x5a6303=this[_0x2555fe(0x5bb)][_0x2555fe(0x8f4)][_0x2555fe(0x8f0)]();if(!_0x5a6303)return;const _0x273c46=this[_0x2555fe(0x2c7)][_0x2555fe(0x522)](_0x4bfbdc);if(!_0x273c46||_0x273c46[_0x2555fe(0x79e)]()===_0x11d6ed[_0x2555fe(0x491)])return;const _0x4c6299=_0x273c46[_0x2555fe(0x8f0)]();if(!_0x4c6299||_0x4c6299<_0x5a6303)return;const _0x13a881=this[_0x2555fe(0x59e)](this[_0x2555fe(0x5bb)][_0x2555fe(0x8f4)][_0x2555fe(0x346)](),_0x5a6303),_0x357397=this[_0x2555fe(0x59e)](_0x273c46[_0x2555fe(0x346)](),_0x4c6299)[_0x13a881[_0x2555fe(0xb19)](([_0xd92c34])=>_0xd92c34===_0x4bfbdc)];if(!_0x357397||this[_0x2555fe(0x5bb)]['localNode'][_0x2555fe(0x346)]()['has'](_0x357397[0x0]))return;const _0x30ed7a=this[_0x2555fe(0x2c7)][_0x2555fe(0x522)](_0x357397[0x0]);if(_0x30ed7a&&_0x30ed7a[_0x2555fe(0x79e)]()!==_0x11d6ed[_0x2555fe(0x491)])try{await this['configs'][_0x2555fe(0x76d)][_0x2555fe(0x7d0)](_0x357397[0x0],_0x20fab9[_0x2555fe(0x6bd)]);const _0x538a59=Array[_0x2555fe(0x6a1)](this[_0x2555fe(0x2ee)][_0x2555fe(0x946)]())['find'](([,_0x4279b4])=>_0x4279b4===_0x4bfbdc);_0x538a59&&this[_0x2555fe(0x2ee)][_0x2555fe(0xac2)](_0x538a59[0x0],_0x357397[0x0]);}catch(_0x3418b6){if(!(_0x3418b6 instanceof _0x891088&&_0x3418b6[_0x2555fe(0x7ad)]===_0x891088[_0x2555fe(0x5fb)]['RemoteConnectionExists']))throw _0x3418b6;_0x5cdff6[_0x2555fe(0x3e9)](_0x2a39e9[_0x2555fe(0x4ae)],this['configs'][_0x2555fe(0x8f4)][_0x2555fe(0x6cd)](),_0x357397[0x0],_0x3418b6[_0x2555fe(0x2d0)]);}}['getOutgoingOptimizationConnections'](_0xdc8f34,_0x44b99d){const _0x1b70cf=_0x3035df;return Array[_0x1b70cf(0x6a1)](_0xdc8f34)[_0x1b70cf(0x2fc)]((_0x1d3cf6,_0x117253)=>{const _0x488bbb=_0x1b70cf,_0x3c3950=this[_0x488bbb(0x2c7)][_0x488bbb(0x522)](_0x117253);if(!_0x3c3950||_0x3c3950['getStatus']()===_0x11d6ed[_0x488bbb(0x491)])return _0x1d3cf6;const _0x129668=_0x3c3950[_0x488bbb(0x8f0)]();if(!_0x129668)return _0x1d3cf6;const _0x1f8411=_0x129668-_0x44b99d;return _0x1f8411<=this[_0x488bbb(0x2c7)][_0x488bbb(0x2b2)]()||_0x1d3cf6[_0x488bbb(0x343)]([_0x117253,_0x1f8411]),_0x1d3cf6;},[])[_0x1b70cf(0x7aa)](([,_0x3da9a9],[,_0x131cf2])=>_0x3da9a9-_0x131cf2);}}const _0x40d616=[{'problemType':_0x412c18[_0x3035df(0x4c6)],'remediations':[{'type':_0x4f8dca[_0x3035df(0x718)],'component':_0x146fc2[_0x3035df(0xaef)],'action':_0x2588b9[_0x3035df(0xa87)]},{'type':_0x4f8dca[_0x3035df(0x7a3)],'component':_0x146fc2[_0x3035df(0xaef)],'action':_0x2588b9[_0x3035df(0xa87)]}]},{'problemType':_0x412c18[_0x3035df(0x31d)],'remediations':[{'type':_0x4f8dca[_0x3035df(0x718)],'component':_0x146fc2[_0x3035df(0xaef)],'action':_0x2588b9[_0x3035df(0xa87)]}]},{'problemType':_0x412c18[_0x3035df(0x337)],'remediations':[{'type':_0x4f8dca[_0x3035df(0x718)],'component':_0x146fc2[_0x3035df(0xaef)],'action':_0x2588b9[_0x3035df(0xa87)]}]},{'problemType':_0x412c18['FramePerSecond'],'remediations':[{'type':_0x4f8dca['Remediation'],'component':_0x146fc2[_0x3035df(0xaef)],'action':_0x2588b9[_0x3035df(0xa87)]}]},{'problemType':_0x412c18[_0x3035df(0x446)],'remediations':[{'type':_0x4f8dca[_0x3035df(0x718)],'component':_0x146fc2['Bitrate'],'action':_0x2588b9['Downgrade']}]},{'problemType':_0x412c18[_0x3035df(0x75d)],'remediations':[{'type':_0x4f8dca[_0x3035df(0x718)],'component':_0x146fc2[_0x3035df(0x446)],'action':_0x2588b9['Downgrade']}]},{'problemType':_0x412c18['RoundTripTime'],'remediations':[{'type':_0x4f8dca[_0x3035df(0x718)],'component':_0x146fc2['Bitrate'],'action':_0x2588b9[_0x3035df(0xa87)]}]}];class _0x3a9b43{[_0x3035df(0x5bb)];['systemTopic'];[_0x3035df(0x205)]=new Map();constructor(_0x2cb0fb){const _0x45e14c=_0x3035df;this[_0x45e14c(0x5bb)]=_0x2cb0fb,this[_0x45e14c(0x5bb)][_0x45e14c(0x76d)]['registerSystemSource'](this);}['close'](){const _0x4edc76=_0x3035df;this[_0x4edc76(0x5bb)]['mediator']['unregisterSystemSource'](this);}['registerSystemPublisher'](_0x2dc966){const _0xcf1799=_0x3035df;this[_0xcf1799(0x31b)]=_0x2dc966;}['unregisterSystemPublisher'](){const _0x280687=_0x3035df;delete this[_0x280687(0x31b)];}[_0x3035df(0x34c)](_0x3d28c1){const _0x59588c=_0x3035df;_0x3d28c1[_0x59588c(0x1f0)][_0x59588c(0x48b)]===_0x1808d8[_0x59588c(0x2d9)]&&this['handleProblem'](_0x3d28c1['content'][_0x59588c(0x937)]);}[_0x3035df(0x89f)](_0x2003f9){const _0x15c5ac=_0x3035df;_0x2003f9[_0x15c5ac(0x1f0)]['type']===_0x4f8dca[_0x15c5ac(0x7a3)]&&this[_0x15c5ac(0x9dd)](_0x2003f9['sourceId'],{'type':_0x4f8dca[_0x15c5ac(0x718)],'component':_0x2003f9[_0x15c5ac(0x1f0)][_0x15c5ac(0x937)]['component'],'action':_0x2003f9[_0x15c5ac(0x1f0)][_0x15c5ac(0x937)]['action']});}[_0x3035df(0x321)](_0x49fee0){const _0x55a8a4=_0x3035df,_0x25e1e3=_0x40d616['find'](_0x2f458f=>_0x2f458f[_0x55a8a4(0x9ea)]===_0x49fee0[_0x55a8a4(0x48b)]);_0x25e1e3[_0x55a8a4(0x3dc)]?.[_0x55a8a4(0x8fa)](_0x4f73bf=>{const _0x5bc205=_0x55a8a4;this['applyRemediation'](_0x49fee0[_0x5bc205(0x846)],{'type':_0x49fee0[_0x5bc205(0x8ff)]===_0x4076df['Sender']?_0x4f8dca[_0x5bc205(0x718)]:_0x4f8dca[_0x5bc205(0x7a3)],'component':_0x4f73bf[_0x5bc205(0x5cb)],'action':_0x4f73bf['action']});});}[_0x3035df(0x9dd)](_0x3d787a,_0x125ffa){const _0x3f8bf9=_0x3035df;if(_0x125ffa[_0x3f8bf9(0x48b)]===_0x4f8dca[_0x3f8bf9(0x718)]){const _0x570a8e=Date[_0x3f8bf9(0x6de)](),_0x519897=this['lastRemediations'][_0x3f8bf9(0x557)](_0x3d787a);if(_0x519897&&_0x570a8e-_0x519897<0x1388)return;this[_0x3f8bf9(0x205)][_0x3f8bf9(0xac2)](_0x3d787a,_0x570a8e);}_0x5cdff6['log'](_0x2a39e9[_0x3f8bf9(0x718)],_0x3f8bf9(0x45b),_0x125ffa),_0x5cdff6[_0x3f8bf9(0x7df)](_0x3f8bf9(0x662),{'clusterId':this[_0x3f8bf9(0x5bb)][_0x3f8bf9(0x7b1)],'nodeId':this[_0x3f8bf9(0x5bb)][_0x3f8bf9(0x8f4)]['getId'](),'nodeType':this['configs']['localNode'][_0x3f8bf9(0x48b)],'remoteId':_0x3d787a,'data':{'type':_0x125ffa['type'],'component':_0x125ffa[_0x3f8bf9(0x5cb)],'action':_0x125ffa[_0x3f8bf9(0x702)]}});let _0x2b914d,_0x31e728=_0x8b8df;_0x125ffa[_0x3f8bf9(0x48b)]===_0x4f8dca[_0x3f8bf9(0x7a3)]&&(_0x31e728=this['configs'][_0x3f8bf9(0x8f4)][_0x3f8bf9(0x6cd)](),_0x2b914d=[_0x3d787a]),this['systemTopic']['publish']({'sourceId':_0x31e728,'destinationIds':_0x2b914d,'messageType':_0x160b40[_0x3f8bf9(0x718)],'content':{'type':_0x125ffa['type'],'targetId':_0x3d787a,'data':_0x125ffa}});}}const _0x11b904=0x3e8,_0x389685=0x7530,_0x532de5=_0x3035df(0x7af),_0x2e2855='remote-inbound-rtp',_0x557b4d=_0x3035df(0x6f6),_0x218807=[_0x532de5,_0x2e2855],_0x428007=[_0x557b4d];class _0x5805ff{[_0x3035df(0xa2b)]=0x0;[_0x3035df(0x5ca)]=0x0;[_0x3035df(0x876)]=0x0;[_0x3035df(0x753)]=0x0;[_0x3035df(0x879)]=0x0;[_0x3035df(0x371)]=0x0;[_0x3035df(0x5f3)]=0x0;[_0x3035df(0xa9f)]=0x0;[_0x3035df(0x97c)]=0x0;get[_0x3035df(0x78d)](){const _0x53c9dd=_0x3035df;return this[_0x53c9dd(0x371)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x53c9dd(0x6de)]()-this[_0x53c9dd(0x371)]<_0x389685?(this[_0x53c9dd(0xa9f)]-this[_0x53c9dd(0x97c)])/(this[_0x53c9dd(0x371)]-this[_0x53c9dd(0x5f3)])*0x8*0x3e8:0x0;}[_0x3035df(0x493)](_0x183390){const _0x171df0=_0x3035df;switch(_0x183390[_0x171df0(0x48b)]){case _0x557b4d:this[_0x171df0(0x704)](_0x183390);break;case _0x532de5:this[_0x171df0(0x754)](_0x183390);break;case _0x2e2855:this['processRemoteInboundReport'](_0x183390);}}[_0x3035df(0x85a)](){const _0x3030ad=_0x3035df;return{'bitrate':this[_0x3030ad(0x78d)],'packetsLostPerc':this[_0x3030ad(0x3c8)](),'roundTripTime':this[_0x3030ad(0xa2b)],'jitter':this['jitter']};}[_0x3035df(0x704)](_0x569490){const _0x919249=_0x3035df;this[_0x919249(0x3a5)](_0x569490[_0x919249(0x824)]),this[_0x919249(0xb2a)](_0x569490['timestamp']),this['packets']=_0x569490[_0x919249(0x484)],this[_0x919249(0x753)]=_0x569490[_0x919249(0x753)],void 0x0!==_0x569490[_0x919249(0x876)]?this[_0x919249(0x876)]=_0x569490[_0x919249(0x876)]:this[_0x919249(0x876)]=0x0,void 0x0!==_0x569490['estimatedPlayoutTimestamp']?this[_0x919249(0x5ca)]=_0x569490['estimatedPlayoutTimestamp']:this[_0x919249(0x5ca)]=0x0;}[_0x3035df(0x754)](_0x206443){const _0x4bf1f9=_0x3035df;this[_0x4bf1f9(0x3a5)](_0x206443[_0x4bf1f9(0x89b)]),this[_0x4bf1f9(0xb2a)](_0x206443[_0x4bf1f9(0x6c3)]),this[_0x4bf1f9(0x879)]=_0x206443[_0x4bf1f9(0x911)];}[_0x3035df(0x345)](_0x2856fb){const _0x2c7059=_0x3035df;this[_0x2c7059(0xa2b)]=0x3e8*_0x2856fb[_0x2c7059(0xa2b)],void 0x0!==_0x2856fb[_0x2c7059(0x876)]?this[_0x2c7059(0x876)]=_0x2856fb[_0x2c7059(0x876)]:this[_0x2c7059(0x876)]=0x0;}[_0x3035df(0x3c8)](){const _0x3323a5=_0x3035df;return this[_0x3323a5(0x879)]>0x0?this['packetsLost']/this['packets']:0x0;}['setTimestamp'](_0xda394c){const _0x412f8f=_0x3035df;_0xda394c>this['currentTimestamp']&&(this[_0x412f8f(0x5f3)]=this[_0x412f8f(0x371)],this[_0x412f8f(0x371)]=_0xda394c);}[_0x3035df(0x3a5)](_0x200bb5){const _0x14dab4=_0x3035df;this[_0x14dab4(0x97c)]=this[_0x14dab4(0xa9f)],this[_0x14dab4(0xa9f)]=_0x200bb5;}}class _0x128900 extends _0x5805ff{}class _0x423f44 extends _0x5805ff{[_0x3035df(0x469)]=0x0;[_0x3035df(0x39e)]=0x0;[_0x3035df(0x723)]=0x0;[_0x3035df(0xadf)]=0x0;[_0x3035df(0x63c)]=0x0;get['fps'](){const _0x1ef325=_0x3035df;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date['now']()-this[_0x1ef325(0x371)]<_0x389685?(this['currentFrames']-this[_0x1ef325(0x63c)])/(this[_0x1ef325(0x371)]-this[_0x1ef325(0x5f3)])*0x3e8:0x0;}get['timePerFrame'](){const _0x432d82=_0x3035df;return this[_0x432d82(0x469)]&&this[_0x432d82(0xadf)]&&this[_0x432d82(0xadf)]>0x0?this[_0x432d82(0x469)]/this[_0x432d82(0xadf)]:0x0;}set['frames'](_0x27e75d){const _0x392c2b=_0x3035df;this[_0x392c2b(0x63c)]=this[_0x392c2b(0xadf)],this[_0x392c2b(0xadf)]=_0x27e75d;}['getReport'](){const _0xd97f81=_0x3035df;return{...super[_0xd97f81(0x85a)](),'FPS':this[_0xd97f81(0x313)],'timePerFrame':this[_0xd97f81(0x958)],'frameWidth':this[_0xd97f81(0x39e)],'frameHeight':this[_0xd97f81(0x723)]};}[_0x3035df(0x704)](_0x403b78){const _0x300fb9=_0x3035df;super[_0x300fb9(0x704)](_0x403b78),this[_0x300fb9(0x469)]=_0x403b78['totalDecodeTime'],this[_0x300fb9(0xaac)]=_0x403b78['framesDecoded'],this[_0x300fb9(0x39e)]=_0x403b78[_0x300fb9(0x39e)],this[_0x300fb9(0x723)]=_0x403b78[_0x300fb9(0x723)];}[_0x3035df(0x754)](_0x179369){const _0x102343=_0x3035df;super['processOutboundReport'](_0x179369),this['frameTime']=_0x179369['totalEncodeTime'],this[_0x102343(0xaac)]=_0x179369[_0x102343(0x516)],this[_0x102343(0x39e)]=_0x179369['frameWidth'],this['frameHeight']=_0x179369[_0x102343(0x723)];}}class _0x5d3416{[_0x3035df(0x8ba)]=new _0x128900();['video']=new _0x423f44();get[_0x3035df(0x78d)](){const _0x54eaba=_0x3035df;return this['audio'][_0x54eaba(0x78d)]+this['video']['bitrate'];}[_0x3035df(0x354)](_0x3efb2c){const _0x2a37f5=_0x3035df;return _0x3efb2c[_0x2a37f5(0x8fa)](_0x40cac3=>{const _0x40936d=_0x2a37f5;switch(_0x40cac3[_0x40936d(0x288)]){case'audio':this[_0x40936d(0x8ba)][_0x40936d(0x493)](_0x40cac3);break;case _0x40936d(0xadd):this[_0x40936d(0xadd)][_0x40936d(0x493)](_0x40cac3);}}),this[_0x2a37f5(0x85a)]();}[_0x3035df(0x85a)](){const _0x10fc02=_0x3035df;return{'audio':this[_0x10fc02(0x8ba)][_0x10fc02(0x85a)](),'video':this[_0x10fc02(0xadd)][_0x10fc02(0x85a)](),'roundTripTime':this[_0x10fc02(0x586)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x10fc02(0x78d)]};}[_0x3035df(0x586)](){const _0x48e89a=_0x3035df;return Math['floor']((this['audio'][_0x48e89a(0xa2b)]+this[_0x48e89a(0xadd)]['roundTripTime'])/0x2);}[_0x3035df(0x843)](){const _0x2bc72b=_0x3035df;return this[_0x2bc72b(0x8ba)][_0x2bc72b(0x5ca)]-this[_0x2bc72b(0xadd)]['estimatedPlayoutTimestamp'];}}class _0x3c3f4c{[_0x3035df(0xaa0)]=0x0;[_0x3035df(0xad7)]=0x0;[_0x3035df(0x4c9)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x3035df(0x6d7)]=0x0;[_0x3035df(0x8aa)]=0x0;['receiverCurrentBytes']=0x0;['receiverPreviousBytes']=0x0;[_0x3035df(0xa60)]=0x0;[_0x3035df(0x935)]=0x0;[_0x3035df(0x4b4)]=0x0;[_0x3035df(0x903)]=0x0;[_0x3035df(0xa2b)]=0x0;get['bitrate'](){const _0x3a9d3b=_0x3035df;return this[_0x3a9d3b(0x9cf)]+this[_0x3a9d3b(0x227)];}get[_0x3035df(0x9cf)](){const _0x3c7214=_0x3035df;return this[_0x3c7214(0xaa0)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x3c7214(0x6de)]()-this['senderCurrentTimestamp']<_0x389685?(this[_0x3c7214(0x6d7)]-this[_0x3c7214(0x8aa)])/(this['senderCurrentTimestamp']-this[_0x3c7214(0xad7)])*0x8*0x3e8:0x0;}get[_0x3035df(0x227)](){const _0x4791b9=_0x3035df;return this[_0x4791b9(0x4c9)]>0x0&&this[_0x4791b9(0x262)]>0x0&&Date[_0x4791b9(0x6de)]()-this[_0x4791b9(0x4c9)]<_0x389685?(this[_0x4791b9(0x8f9)]-this[_0x4791b9(0xaf4)])/(this[_0x4791b9(0x4c9)]-this[_0x4791b9(0x262)])*0x8*0x3e8:0x0;}['processReport'](_0x2fd271){const _0x500c68=_0x3035df;switch(_0x2fd271[_0x500c68(0x8ff)]){case _0x4076df[_0x500c68(0x1f1)]:this['processSenderReport'](_0x2fd271);break;case _0x4076df['Receiver']:this[_0x500c68(0x58e)](_0x2fd271);}}[_0x3035df(0x85a)](){const _0x81b2e5=_0x3035df;return{'bitrate':this[_0x81b2e5(0x78d)],'senderBitrate':this[_0x81b2e5(0x9cf)],'receiverBitrate':this[_0x81b2e5(0x227)],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this[_0x81b2e5(0xa90)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x81b2e5(0xa60)]+this[_0x81b2e5(0x935)],'senderTotalMessages':this[_0x81b2e5(0xa60)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0x81b2e5(0x4b4)]+this[_0x81b2e5(0x903)],'senderTimeProcessing':this[_0x81b2e5(0x4b4)],'receiverTimeProcessing':this[_0x81b2e5(0x903)],'roundTripTime':this[_0x81b2e5(0xa2b)]};}[_0x3035df(0x3ca)](){return this['senderCurrentBytes']+this['receiverCurrentBytes'];}[_0x3035df(0xa90)](){return this['senderCurrentBytes'];}[_0x3035df(0x8b5)](){return this['receiverCurrentBytes'];}[_0x3035df(0x53f)](_0x216053){const _0x55398e=_0x3035df;this[_0x55398e(0xafe)](_0x216053[_0x55398e(0x6c3)]),this[_0x55398e(0x3a5)](_0x216053[_0x55398e(0x89b)]),this['senderTotalMessages']=_0x216053['messagesSent'],this[_0x55398e(0x4b4)]=_0x216053[_0x55398e(0x268)],this[_0x55398e(0xa2b)]=_0x216053[_0x55398e(0xa2b)];}[_0x3035df(0x58e)](_0x30b02f){const _0xdc58=_0x3035df;this['setReceiverTimestamp'](_0x30b02f['timestamp']),this[_0xdc58(0x308)](_0x30b02f[_0xdc58(0x824)]),this[_0xdc58(0x935)]=_0x30b02f[_0xdc58(0x4dd)],this[_0xdc58(0x903)]=_0x30b02f[_0xdc58(0x249)];}[_0x3035df(0xafe)](_0xbc9724){const _0x3c121d=_0x3035df;_0xbc9724>this[_0x3c121d(0xaa0)]&&(this[_0x3c121d(0xad7)]=this[_0x3c121d(0xaa0)],this[_0x3c121d(0xaa0)]=_0xbc9724);}[_0x3035df(0x954)](_0x16962c){const _0x3a0ba3=_0x3035df;_0x16962c>this[_0x3a0ba3(0x4c9)]&&(this['receiverPreviousTimestamp']=this[_0x3a0ba3(0x4c9)],this[_0x3a0ba3(0x4c9)]=_0x16962c);}[_0x3035df(0x3a5)](_0x2ab37a){const _0x27d552=_0x3035df;this[_0x27d552(0x8aa)]=this[_0x27d552(0x6d7)],this['senderCurrentBytes']=_0x2ab37a;}[_0x3035df(0x308)](_0x264ee7){const _0x3962e1=_0x3035df;this['receiverPreviousBytes']=this[_0x3962e1(0x8f9)],this['receiverCurrentBytes']=_0x264ee7;}}class _0x1c0ca4{[_0x3035df(0x889)]=new Map();[_0x3035df(0x297)]=new Map();['dataChannel']=new _0x3c3f4c();get[_0x3035df(0x9cf)](){const _0x16ae11=_0x3035df;let _0x52278c=0x0;return this['senderStreams'][_0x16ae11(0x8fa)](_0x324e54=>{const _0x13da64=_0x16ae11;_0x52278c+=_0x324e54[_0x13da64(0x78d)];}),_0x52278c+=this['dataChannel']['senderBitrate'],_0x52278c;}get[_0x3035df(0x227)](){const _0x17aaff=_0x3035df;let _0x51bae4=0x0;return this[_0x17aaff(0x297)][_0x17aaff(0x8fa)](_0x4dd116=>{const _0x55d4ea=_0x17aaff;_0x51bae4+=_0x4dd116[_0x55d4ea(0x78d)];}),_0x51bae4+=this['dataChannel'][_0x17aaff(0x227)],_0x51bae4;}get[_0x3035df(0x78d)](){const _0x1ce947=_0x3035df;return this['senderBitrate']+this[_0x1ce947(0x227)];}[_0x3035df(0x354)](_0x3d641,_0x551ffd){const _0x3521cc=_0x3035df,_0x42294b=[],_0x58d286=[];return _0x3d641 instanceof Array?_0x3d641['forEach'](_0x2bf570=>{const _0x45aac8=a0_0x4922;_0x2bf570[_0x45aac8(0x8fa)](_0x275d12=>{const _0x150f02=_0x45aac8;_0x428007[_0x150f02(0x7c4)](_0x275d12[_0x150f02(0x48b)])&&_0x42294b[_0x150f02(0x343)](_0x275d12),_0x218807['includes'](_0x275d12[_0x150f02(0x48b)])&&_0x58d286['push'](_0x275d12);});}):this['dataChannel'][_0x3521cc(0x493)](_0x3d641),_0x42294b[_0x3521cc(0x68c)]>0x0&&_0x551ffd?{...this[_0x3521cc(0x864)](_0x551ffd,_0x42294b),'origin':_0x4076df[_0x3521cc(0x761)],'streamId':_0x551ffd}:_0x58d286[_0x3521cc(0x68c)]>0x0&&_0x551ffd?{...this[_0x3521cc(0x4e6)](_0x551ffd,_0x58d286),'origin':_0x4076df['Sender'],'streamId':_0x551ffd}:void 0x0;}[_0x3035df(0x85a)](){const _0xb61d0=_0x3035df,_0x4fdfdf={};this[_0xb61d0(0x889)][_0xb61d0(0x8fa)]((_0x50a508,_0x586db2)=>{const _0x5d2585=_0xb61d0;_0x4fdfdf[_0x586db2]=_0x50a508[_0x5d2585(0x85a)]();});const _0x58f6da={};return this[_0xb61d0(0x297)][_0xb61d0(0x8fa)]((_0x2c9e42,_0x315eb6)=>{_0x58f6da[_0x315eb6]=_0x2c9e42['getReport']();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0xb61d0(0x9cf)],'receiverBitrate':this[_0xb61d0(0x227)],'senderStreams':_0x4fdfdf,'receiverStreams':_0x58f6da,'dataChannel':this[_0xb61d0(0xa18)][_0xb61d0(0x85a)]()};}[_0x3035df(0x864)](_0x245c2d,_0x544ac1){const _0x474b54=_0x3035df;return this['receiverStreams'][_0x474b54(0x5e8)](_0x245c2d)||this[_0x474b54(0x297)][_0x474b54(0xac2)](_0x245c2d,new _0x5d3416()),this[_0x474b54(0x297)][_0x474b54(0x557)](_0x245c2d)[_0x474b54(0x354)](_0x544ac1);}[_0x3035df(0x4e6)](_0x257fe4,_0x5e262c){const _0x3a2184=_0x3035df;return this[_0x3a2184(0x889)]['has'](_0x257fe4)||this['senderStreams']['set'](_0x257fe4,new _0x5d3416()),this[_0x3a2184(0x889)][_0x3a2184(0x557)](_0x257fe4)[_0x3a2184(0x354)](_0x5e262c);}}class _0x298199{['nodes']=new Map();[_0x3035df(0x281)]=0x0;['durationTime']=0x0;[_0x3035df(0x3b0)]=new Map();[_0x3035df(0x366)]=new Map();['keyValueDatabases']=new Map();[_0x3035df(0xa5c)]=new Map();['generativeAIWorkers']=new Map();['vectorDatabases']=new Map();[_0x3035df(0x54b)]=new Map();[_0x3035df(0xa89)]=new Map();[_0x3035df(0xa60)]=new Map();[_0x3035df(0x935)]=new Map();['senderTimeProcessing']=new Map();[_0x3035df(0x903)]=new Map();['systemMessages']=new Map();[_0x3035df(0x31b)];[_0x3035df(0x85a)](){const _0x1fed71=_0x3035df,_0x2a6b86={};this[_0x1fed71(0x618)]['forEach']((_0x66e49d,_0xf87508)=>{const _0x22e269=_0x1fed71;_0x2a6b86[_0xf87508]=_0x66e49d[_0x22e269(0x85a)]();});let _0x427854=0x0;this[_0x1fed71(0x4b4)][_0x1fed71(0x8fa)](_0x4011af=>{_0x427854+=_0x4011af;});let _0x4cce63=0x0;this[_0x1fed71(0x903)]['forEach'](_0x23ad41=>{_0x4cce63+=_0x23ad41;});const _0x35060b=_0x427854+_0x4cce63;let _0x3a8e08={'messages':{'total':0x0}};this[_0x1fed71(0x68e)][_0x1fed71(0x8fa)](_0x429314=>{const _0x4cde75=_0x1fed71;Object[_0x4cde75(0x75b)](_0x429314)[_0x4cde75(0x8fa)](_0x76957=>{const _0x23fa51=_0x4cde75;_0x3a8e08[_0x76957]||(_0x3a8e08[_0x76957]={}),Object['keys'](_0x429314[_0x76957])[_0x23fa51(0x8fa)](_0x2257d3=>{_0x3a8e08[_0x76957][_0x2257d3]||(_0x3a8e08[_0x76957][_0x2257d3]=0x0),_0x3a8e08[_0x76957][_0x2257d3]+=_0x429314[_0x76957][_0x2257d3];});});});let _0x283e4d=0x0,_0x3fc06d=0x0,_0x40afd5=0x0,_0x14c896=0x0,_0x2597b2=0x0;return this[_0x1fed71(0x3b0)][_0x1fed71(0x8fa)](_0x56f803=>{const _0x1dffb1=_0x1fed71;_0x3fc06d+=_0x56f803[_0x1dffb1(0x2a1)],_0x40afd5+=_0x56f803[_0x1dffb1(0x4dd)],_0x14c896+=_0x56f803[_0x1dffb1(0x89b)],_0x2597b2+=_0x56f803[_0x1dffb1(0x824)];}),this[_0x1fed71(0x366)][_0x1fed71(0x8fa)](_0x2b9078=>{const _0x25619d=_0x1fed71;_0x283e4d+=_0x2b9078['storage'],_0x3fc06d+=_0x2b9078[_0x25619d(0x2a1)],_0x40afd5+=_0x2b9078['messagesReceived'],_0x14c896+=_0x2b9078[_0x25619d(0x89b)],_0x2597b2+=_0x2b9078[_0x25619d(0x824)];}),this[_0x1fed71(0x647)][_0x1fed71(0x8fa)](_0x14ee0b=>{const _0x49c2fc=_0x1fed71;_0x283e4d+=_0x14ee0b[_0x49c2fc(0x4dc)],_0x3fc06d+=_0x14ee0b['messagesSent'],_0x40afd5+=_0x14ee0b[_0x49c2fc(0x4dd)],_0x14c896+=_0x14ee0b[_0x49c2fc(0x89b)],_0x2597b2+=_0x14ee0b['bytesReceived'];}),this['generativeAIContexts'][_0x1fed71(0x8fa)](_0x3a51ea=>{const _0x5324b3=_0x1fed71;_0x283e4d+=_0x3a51ea['storage'],_0x3fc06d+=_0x3a51ea['messagesSent'],_0x40afd5+=_0x3a51ea[_0x5324b3(0x4dd)],_0x14c896+=_0x3a51ea['bytesSent'],_0x2597b2+=_0x3a51ea[_0x5324b3(0x824)];}),this[_0x1fed71(0x653)]['forEach'](_0x42d1cc=>{const _0x376b5a=_0x1fed71;_0x283e4d+=_0x42d1cc[_0x376b5a(0x4dc)],_0x3fc06d+=_0x42d1cc[_0x376b5a(0x2a1)],_0x40afd5+=_0x42d1cc[_0x376b5a(0x4dd)],_0x14c896+=_0x42d1cc[_0x376b5a(0x89b)],_0x2597b2+=_0x42d1cc[_0x376b5a(0x824)];}),this[_0x1fed71(0x541)][_0x1fed71(0x8fa)](_0x3528c0=>{const _0x42aa8f=_0x1fed71;_0x283e4d+=_0x3528c0[_0x42aa8f(0x4dc)],_0x3fc06d+=_0x3528c0[_0x42aa8f(0x2a1)],_0x40afd5+=_0x3528c0[_0x42aa8f(0x4dd)],_0x14c896+=_0x3528c0[_0x42aa8f(0x89b)],_0x2597b2+=_0x3528c0[_0x42aa8f(0x824)];}),this[_0x1fed71(0x54b)]['forEach'](_0x3a400f=>{const _0x4379b0=_0x1fed71;_0x283e4d+=_0x3a400f[_0x4379b0(0x4dc)],_0x3fc06d+=_0x3a400f[_0x4379b0(0x2a1)],_0x40afd5+=_0x3a400f[_0x4379b0(0x4dd)],_0x14c896+=_0x3a400f[_0x4379b0(0x89b)],_0x2597b2+=_0x3a400f[_0x4379b0(0x824)];}),{'STVolatility':this[_0x1fed71(0x21d)](),'DTVolatility':this[_0x1fed71(0x726)](),'bitrate':this[_0x1fed71(0x893)](),'senderBitrate':this[_0x1fed71(0x429)](),'receiverBitrate':this[_0x1fed71(0xb03)](),'totalStorageSize':_0x283e4d,'totalMessages':_0x3fc06d+_0x40afd5,'totalMessagesSent':_0x3fc06d,'totalMessagesReceived':_0x40afd5,'totalBytes':_0x14c896+_0x2597b2,'totalBytesSent':_0x14c896,'totalBytesReceived':_0x2597b2,'systemMessages':_0x3a8e08,'timeProcessing':_0x35060b,'nodes':_0x2a6b86,'pubsubTopics':Object['fromEntries'](this[_0x1fed71(0x3b0)]),'objectStores':Object[_0x1fed71(0x8bf)](this[_0x1fed71(0x366)]),'keyValueDatabases':Object[_0x1fed71(0x8bf)](this[_0x1fed71(0x647)]),'generativeAIContexts':Object[_0x1fed71(0x8bf)](this[_0x1fed71(0xa5c)]),'generativeAIWorkers':Object['fromEntries'](this[_0x1fed71(0x653)]),'vectorDatabases':Object[_0x1fed71(0x8bf)](this['vectorDatabases']),'graphDatabases':Object['fromEntries'](this['graphDatabases']),'externalStorages':Object['fromEntries'](this['externalStorages'])};}[_0x3035df(0x211)](_0x59d0e8){this['nodes']['set'](_0x59d0e8,new _0x1c0ca4());}[_0x3035df(0x8cd)](_0x2844de){const _0x6662c9=_0x3035df;this[_0x6662c9(0x618)]['delete'](_0x2844de);}[_0x3035df(0x354)](_0x15e0d3,_0x840dc6,_0x55e7fb){const _0x5c0288=_0x3035df;_0x840dc6 instanceof Array||this[_0x5c0288(0x901)](_0x15e0d3,_0x840dc6);const _0x3b9f84=this[_0x5c0288(0x618)][_0x5c0288(0x557)](_0x15e0d3)?.['processReports'](_0x840dc6,_0x55e7fb);_0x3b9f84&&this['systemTopic'][_0x5c0288(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x5c0288(0x667)],'content':{'type':_0x1eb44b[_0x5c0288(0x351)],'data':{..._0x3b9f84,'nodeId':_0x15e0d3}}});}[_0x3035df(0xad8)](_0x289ceb){const _0x517be6=_0x3035df;this['setScheduleTime'](_0x289ceb['secheduleTime']),this['setDurationTime'](_0x289ceb[_0x517be6(0x8a0)]),this[_0x517be6(0x31b)][_0x517be6(0xa4f)]({'sourceId':_0x8b8df,'messageType':_0x160b40[_0x517be6(0x667)],'content':{'type':_0x1eb44b[_0x517be6(0x852)],'data':{'STVolatility':this[_0x517be6(0x21d)](),'DTVolatility':this[_0x517be6(0x726)]()}}});}[_0x3035df(0xacd)](_0xdd4c21,_0x272e11,_0x3dcbff){const _0x3dd212=_0x3035df;switch(_0x272e11){case _0x41c383[_0x3dd212(0x4f1)]:this['pubsubTopics'][_0x3dd212(0xac2)](_0xdd4c21,_0x3dcbff);break;case _0x41c383[_0x3dd212(0x834)]:this[_0x3dd212(0x366)][_0x3dd212(0xac2)](_0xdd4c21,_0x3dcbff);break;case _0x41c383[_0x3dd212(0x49f)]:this[_0x3dd212(0x647)]['set'](_0xdd4c21,_0x3dcbff);break;case _0x41c383['GenerativeAIContextStats']:this[_0x3dd212(0xa5c)][_0x3dd212(0xac2)](_0xdd4c21,_0x3dcbff);break;case _0x41c383[_0x3dd212(0x536)]:this[_0x3dd212(0x653)]['set'](_0xdd4c21,_0x3dcbff);break;case _0x41c383[_0x3dd212(0x2ef)]:this[_0x3dd212(0x541)][_0x3dd212(0xac2)](_0xdd4c21,_0x3dcbff);break;case _0x41c383[_0x3dd212(0x665)]:this[_0x3dd212(0x54b)]['set'](_0xdd4c21,_0x3dcbff);break;case _0x41c383[_0x3dd212(0x6b2)]:this[_0x3dd212(0xa89)][_0x3dd212(0xac2)](_0xdd4c21,_0x3dcbff);}}['registerSystemPublisher'](_0x40668f){this['systemTopic']=_0x40668f;}[_0x3035df(0x38f)](){const _0x1c4e02=_0x3035df;delete this[_0x1c4e02(0x31b)];}['getSTVolatility'](){const _0x5280cc=_0x3035df;return this[_0x5280cc(0x281)]>0x0&&this[_0x5280cc(0x281)]-_0x11b904>0x0?(this[_0x5280cc(0x281)]-_0x11b904)/_0x11b904:0x0;}[_0x3035df(0x726)](){const _0x2e90a3=_0x3035df;return this['durationTime']>0x0&&this[_0x2e90a3(0x8a0)]-0x64>0x0?(this[_0x2e90a3(0x8a0)]-0x64)/0x64:0x0;}[_0x3035df(0x429)](){const _0xe67a48=_0x3035df;let _0x4a12c8=0x0;return this['nodes'][_0xe67a48(0x8fa)](_0x5f0174=>{const _0x2eeaf0=_0xe67a48;_0x4a12c8+=_0x5f0174[_0x2eeaf0(0x9cf)];}),_0x4a12c8;}[_0x3035df(0xb03)](){const _0x143b06=_0x3035df;let _0x456a83=0x0;return this[_0x143b06(0x618)][_0x143b06(0x8fa)](_0x411168=>{const _0x443495=_0x143b06;_0x456a83+=_0x411168[_0x443495(0x227)];}),_0x456a83;}[_0x3035df(0x893)](){const _0x52bb48=_0x3035df;let _0x7d41a8=0x0;return this[_0x52bb48(0x618)][_0x52bb48(0x8fa)](_0x5a6754=>{const _0x546f5b=_0x52bb48;_0x7d41a8+=_0x5a6754[_0x546f5b(0x78d)];}),_0x7d41a8;}[_0x3035df(0x656)](_0x1534d6){const _0x5bf7b6=_0x3035df;this[_0x5bf7b6(0x281)]=_0x1534d6;}[_0x3035df(0x976)](_0x424193){const _0x82dd9b=_0x3035df;this[_0x82dd9b(0x8a0)]=_0x424193;}[_0x3035df(0x901)](_0x34d705,_0x3b9bfa){const _0x4362b1=_0x3035df;switch(_0x3b9bfa['origin']){case _0x4076df[_0x4362b1(0x1f1)]:this[_0x4362b1(0x53f)](_0x34d705,_0x3b9bfa);break;case _0x4076df[_0x4362b1(0x761)]:this['processReceiverReport'](_0x34d705,_0x3b9bfa);}}[_0x3035df(0x53f)](_0x2d674f,_0x1639c9){const _0x5b23e2=_0x3035df;this[_0x5b23e2(0xa60)][_0x5b23e2(0xac2)](_0x2d674f,_0x1639c9[_0x5b23e2(0x2a1)]),this[_0x5b23e2(0x4b4)][_0x5b23e2(0xac2)](_0x2d674f,_0x1639c9[_0x5b23e2(0x268)]);}[_0x3035df(0x58e)](_0x5e3694,_0xcfe48e){const _0x1fea08=_0x3035df;this[_0x1fea08(0x935)][_0x1fea08(0xac2)](_0x5e3694,_0xcfe48e[_0x1fea08(0x4dd)]),this['receiverTimeProcessing'][_0x1fea08(0xac2)](_0x5e3694,_0xcfe48e[_0x1fea08(0x249)]),this[_0x1fea08(0x68e)]['set'](_0x5e3694,_0xcfe48e['systemMessages']);}}class _0x567fad{[_0x3035df(0x5bb)];[_0x3035df(0x5a7)]=new Set();[_0x3035df(0x2ce)];[_0x3035df(0x991)];[_0x3035df(0x42d)];['statsReport']=new _0x298199();constructor(_0x51e9ae){const _0x316cab=_0x3035df;this['configs']=_0x51e9ae,this['configs'][_0x316cab(0x76d)]['registerSystemSource'](this['statsReport']),this['statsCollection']=this[_0x316cab(0x387)](),this[_0x316cab(0x42d)]=this['setupStatsReporting']();}[_0x3035df(0x72f)](){const _0x46a516=_0x3035df;this['configs']['mediator'][_0x46a516(0x592)](this[_0x46a516(0x687)]),this['statsReporting'](),this[_0x46a516(0x991)]();}[_0x3035df(0x211)](_0x5a844e){const _0x1ad34f=_0x3035df;this[_0x1ad34f(0x5a7)][_0x1ad34f(0x784)](_0x5a844e),this[_0x1ad34f(0x687)][_0x1ad34f(0x211)](_0x5a844e);}['removeRemoteNode'](_0x49e950){const _0x20962f=_0x3035df;this['remoteNodes'][_0x20962f(0x72d)](_0x49e950),this[_0x20962f(0x687)][_0x20962f(0x8cd)](_0x49e950);}['handlePeerConnectionSystemEvents'](_0x1385aa){const _0x1894ab=_0x3035df;if(_0x1385aa[_0x1894ab(0x1f0)][_0x1894ab(0x48b)]===_0x369f7f['Stats']){const {nodeId:_0x94fc4b,streamId:_0xfc9448,stats:_0x3cd859}=_0x1385aa[_0x1894ab(0x1f0)];this[_0x1894ab(0x687)]['processReports'](_0x94fc4b,_0x3cd859,_0xfc9448);}}['handleContentSystemEvents'](_0x5cf69d){const _0x5b3f63=_0x3035df;switch(_0x5cf69d['content']['type']){case _0x41c383[_0x5b3f63(0x834)]:case _0x41c383[_0x5b3f63(0x49f)]:case _0x41c383['PubSubTopicStats']:case _0x41c383[_0x5b3f63(0x75a)]:case _0x41c383[_0x5b3f63(0x536)]:case _0x41c383[_0x5b3f63(0x2ef)]:case _0x41c383[_0x5b3f63(0x665)]:case _0x41c383[_0x5b3f63(0x6b2)]:this['statsReport'][_0x5b3f63(0xacd)](_0x5cf69d[_0x5b3f63(0x1f0)]['label'],_0x5cf69d[_0x5b3f63(0x1f0)]['type'],_0x5cf69d[_0x5b3f63(0x1f0)][_0x5b3f63(0xaba)]);}}['setupStatsReporting'](){const _0x2e72b2=_0x3035df;return _0x255ca7[_0x2e72b2(0x2ca)](()=>{const _0x2ddc4e=_0x2e72b2,_0x20d2f8=this['statsReport'][_0x2ddc4e(0x85a)]();_0x5cdff6[_0x2ddc4e(0x3e9)](_0x2a39e9[_0x2ddc4e(0x667)],_0x2ddc4e(0x626),_0x20d2f8),(0x0,_0x3bf861['addDoc'])((0x0,_0x3bf861[_0x2ddc4e(0x8b6)])(_0x1d88af['getFirestore'](),_0x2ddc4e(0x6e0)+this['configs'][_0x2ddc4e(0x7c3)]+'/stats'),{'clusterId':this['configs'][_0x2ddc4e(0x7b1)],'nodeId':this[_0x2ddc4e(0x5bb)][_0x2ddc4e(0x8f4)][_0x2ddc4e(0x6cd)](),'nodeType':this['configs'][_0x2ddc4e(0x8f4)]['type'],'timestamp':(0x0,_0x3bf861[_0x2ddc4e(0xa44)])(),'report':_0x20d2f8}),_0x5cdff6['logEvent'](_0x2ddc4e(0xaba),{'clusterId':this[_0x2ddc4e(0x5bb)][_0x2ddc4e(0x7b1)],'nodeId':this['configs'][_0x2ddc4e(0x8f4)][_0x2ddc4e(0x6cd)](),'nodeType':this[_0x2ddc4e(0x5bb)]['localNode'][_0x2ddc4e(0x48b)],'data':{'report':_0x20d2f8}});},_0x389685);}['setupStatsCollection'](){const _0x58324d=_0x3035df;let _0x43a407=!0x1,_0x3e0da4=Date[_0x58324d(0x6de)]();return _0x255ca7[_0x58324d(0x2ca)](async()=>{const _0x4b487b=_0x58324d;if(_0x43a407)return;if(_0x43a407=!0x0,0x0===this[_0x4b487b(0x5a7)]['size'])return delete this[_0x4b487b(0x2ce)],void(_0x43a407=!0x1);const _0x4b9238=Date['now']();this[_0x4b487b(0x801)]();try{await this['configs'][_0x4b487b(0x76d)][_0x4b487b(0x5d4)](this[_0x4b487b(0x2ce)]);}catch(_0x6ee4e7){}this['statsReport'][_0x4b487b(0xad8)]({'secheduleTime':_0x4b9238-_0x3e0da4,'durationTime':Date[_0x4b487b(0x6de)]()-_0x4b9238}),_0x3e0da4=_0x4b9238,_0x43a407=!0x1;},_0x11b904);}['findNextNodeId'](){const _0x45e3c2=_0x3035df;let _0x204a2a,_0x2256ec=!0x1;this['nextNodeId']&&(this['remoteNodes'][_0x45e3c2(0x5e8)](this[_0x45e3c2(0x2ce)])||delete this['nextNodeId']);for(const _0x26ea02 of this[_0x45e3c2(0x5a7)])if(_0x204a2a||(_0x204a2a=_0x26ea02),this[_0x45e3c2(0x2ce)]!==_0x26ea02){if(_0x2256ec)return void(this[_0x45e3c2(0x2ce)]=_0x26ea02);}else _0x2256ec=!0x0,delete this['nextNodeId'];this['nextNodeId']||(this['nextNodeId']=_0x204a2a);}}class _0x3542d5{[_0x3035df(0x20c)];[_0x3035df(0x678)];[_0x3035df(0x31b)];constructor(_0x143be3,_0x132fba){const _0x4ce901=_0x3035df;this[_0x4ce901(0x20c)]=_0x143be3,this['destination']=_0x132fba;}['registerSystemPublisher'](_0x39a697){const _0x56cbc3=_0x3035df;this[_0x56cbc3(0x31b)]=_0x39a697;}[_0x3035df(0x38f)](){const _0x421605=_0x3035df;delete this[_0x421605(0x31b)];}}class _0x5829fc extends _0x3542d5{[_0x3035df(0x20c)];[_0x3035df(0x678)];['params'];constructor(_0x3e6f7e,_0x43ec4c,_0x35c8fe){const _0x4cc324=_0x3035df;super(_0x3e6f7e,_0x43ec4c),this['source']=_0x3e6f7e,this[_0x4cc324(0x678)]=_0x43ec4c,this[_0x4cc324(0x572)]=_0x35c8fe;}[_0x3035df(0x3bd)](_0x29b305,_0x516640,_0x2a399e){const _0x9bad16=_0x3035df;if(this[_0x9bad16(0x678)][_0x9bad16(0x8be)]()===_0x37e813[_0x9bad16(0x859)][_0x9bad16(0x4f9)]){const _0x3bc0bf={'type':_0x1a160d[_0x9bad16(0x388)],'label':this[_0x9bad16(0x678)][_0x9bad16(0x59f)](),'ownerId':_0x29b305,'trackKinds':_0x516640??this[_0x9bad16(0x678)][_0x9bad16(0x81b)](),'params':_0x2a399e};this[_0x9bad16(0x31b)][_0x9bad16(0xa4f)]({'sourceId':this[_0x9bad16(0x20c)][_0x9bad16(0x96f)](),'destinationIds':[this['source'][_0x9bad16(0x5d7)]()],'messageType':_0x160b40['Subscription'],'content':_0x3bc0bf}),this[_0x9bad16(0x572)]=_0x2a399e;}}[_0x3035df(0x7c9)](_0x1b2a02,_0x25eacb){const _0x3c215f=_0x3035df;if(this[_0x3c215f(0x678)][_0x3c215f(0x8be)]()===_0x37e813['ContentType'][_0x3c215f(0x4f9)]){const _0x40bebb={'type':_0x1a160d['UpdateMediaStream'],'label':this['destination'][_0x3c215f(0x59f)](),'ownerId':_0x1b2a02,'params':_0x25eacb};this['systemTopic'][_0x3c215f(0xa4f)]({'sourceId':this[_0x3c215f(0x20c)][_0x3c215f(0x96f)](),'destinationIds':[this[_0x3c215f(0x20c)][_0x3c215f(0x5d7)]()],'messageType':_0x160b40[_0x3c215f(0x929)],'content':_0x40bebb}),this[_0x3c215f(0x572)]=_0x25eacb;}}[_0x3035df(0x5ee)](_0x3a2913,_0x57070b,_0x288515){const _0x4dc78a=_0x3035df;if(this[_0x4dc78a(0x678)]['getContentType']()===_0x37e813[_0x4dc78a(0x859)][_0x4dc78a(0x4f9)]){const _0x36fa2a={'type':_0x1a160d[_0x4dc78a(0x4f4)],'label':this[_0x4dc78a(0x678)][_0x4dc78a(0x59f)](),'ownerId':_0x3a2913,'trackKinds':_0x288515??this[_0x4dc78a(0x678)][_0x4dc78a(0x81b)](),'remainingTracks':_0x57070b};this[_0x4dc78a(0x31b)]['publish']({'sourceId':this[_0x4dc78a(0x20c)][_0x4dc78a(0x96f)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x160b40[_0x4dc78a(0x929)],'content':_0x36fa2a});}}}class _0x31f408{[_0x3035df(0x4ab)];[_0x3035df(0x783)];[_0x3035df(0x3fb)];[_0x3035df(0x31b)];[_0x3035df(0x742)]=new Set();[_0x3035df(0x663)]=Date['now']();[_0x3035df(0x572)];[_0x3035df(0x1fb)]=0x0;constructor(_0x38534b,_0x29cb43,_0x42e97d,_0x22b2ea){const _0x10667f=_0x3035df;this['currentDistance']=_0x29cb43,this[_0x10667f(0x783)]=_0x42e97d,this[_0x10667f(0x3fb)]=_0x22b2ea,_0x38534b[_0x10667f(0x8fa)](_0x54621d=>{const _0x22f505=_0x10667f;this['answers'][_0x22f505(0x784)]({'nodeId':_0x54621d,'type':_0x54c5c5[_0x22f505(0xa36)]});});}[_0x3035df(0x8fc)](){return this['tracks'];}['registerSystemPublisher'](_0x539ce8){const _0x595718=_0x3035df;this[_0x595718(0x31b)]=_0x539ce8;}[_0x3035df(0x38f)](){const _0x1495eb=_0x3035df;delete this[_0x1495eb(0x31b)];}[_0x3035df(0x98b)](_0x535789,_0x56a681){const _0x2933ec=_0x3035df;this[_0x2933ec(0x663)]=Date[_0x2933ec(0x6de)](),this[_0x2933ec(0x742)][_0x2933ec(0x599)](),_0x535789[_0x2933ec(0x8fa)](_0xf1e2ec=>{const _0x4431d6=_0x2933ec;this[_0x4431d6(0x742)]['add']({'nodeId':_0xf1e2ec,'type':_0x54c5c5[_0x4431d6(0xa36)]});}),this[_0x2933ec(0x1fb)]+=0x1,this[_0x2933ec(0x4ab)]=_0x56a681;}[_0x3035df(0x979)](_0x20456d,_0x434905,_0x5c9b7b,_0x5a2012,_0x2878ad){const _0x3601ca=_0x3035df;if(this[_0x3601ca(0x1fb)]>0xa)throw new _0x891088(_0x891088[_0x3601ca(0x5fb)][_0x3601ca(0x4e5)],{'answers':Array['from'](this[_0x3601ca(0x742)])[_0x3601ca(0x207)](_0x57b0c7=>({'nodeId':_0x57b0c7[_0x3601ca(0x846)],'type':_0x57b0c7[_0x3601ca(0x48b)]}))});const _0x5471ea=Array[_0x3601ca(0x6a1)](this[_0x3601ca(0x742)])[_0x3601ca(0x207)](_0x13cd8c=>_0x13cd8c[_0x3601ca(0x846)]);this[_0x3601ca(0x572)]=_0x2878ad,this['systemTopic']['publish']({'sourceId':_0x20456d,'destinationIds':_0x5471ea,'messageType':_0x160b40[_0x3601ca(0x929)],'content':{'type':_0x1a160d[_0x3601ca(0x8de)],'label':_0x5c9b7b,'ownerId':_0x434905,'trackKinds':_0x5a2012,'params':_0x2878ad}}),_0x5cdff6[_0x3601ca(0x3e9)](_0x2a39e9['Subscription'],_0x3601ca(0x8fb),_0x20456d,_0x5471ea);}[_0x3035df(0x7f9)](_0x48d851,_0x2b215d){const _0x5f4c92=_0x3035df;switch(_0x2b215d[_0x5f4c92(0x48b)]){case _0x1a160d[_0x5f4c92(0x319)]:{const _0x2ce778=this['currentDistance']>=_0x2b215d['distance']&&_0x2b215d['distance']<=this[_0x5f4c92(0x783)],_0x4c7031=Array[_0x5f4c92(0x6a1)](this[_0x5f4c92(0x742)])[_0x5f4c92(0x85d)](_0xb4ff38=>_0xb4ff38['nodeId']===_0x48d851);_0x4c7031[_0x5f4c92(0x48b)]=_0x2ce778?_0x54c5c5['Accepted']:_0x54c5c5['Rejected'],_0x4c7031[_0x5f4c92(0xb0d)]=_0x2b215d['cost'],_0x4c7031['distance']=_0x2b215d[_0x5f4c92(0x4bd)],_0x4c7031[_0x5f4c92(0x9c1)]=_0x2b215d[_0x5f4c92(0x9c1)],_0x4c7031['roundTripTime']=Date[_0x5f4c92(0x6de)]()-this[_0x5f4c92(0x663)],_0x4c7031[_0x5f4c92(0x572)]=this[_0x5f4c92(0x572)],_0x4c7031[_0x5f4c92(0x393)]=_0x2b215d[_0x5f4c92(0x393)],_0x4c7031['trackKinds']=_0x2b215d['trackKinds'],_0x4c7031[_0x5f4c92(0x588)]=_0x2b215d[_0x5f4c92(0x4de)],_0x5cdff6[_0x5f4c92(0x3e9)](_0x2a39e9[_0x5f4c92(0x929)],(_0x2ce778?'Accepted':'Rejected')+_0x5f4c92(0x9a2),_0x4c7031);break;}case _0x1a160d[_0x5f4c92(0xa7f)]:{const _0x47cffb=Array[_0x5f4c92(0x6a1)](this[_0x5f4c92(0x742)])[_0x5f4c92(0x85d)](_0x53c29c=>_0x53c29c[_0x5f4c92(0x846)]===_0x48d851);_0x47cffb[_0x5f4c92(0x48b)]=_0x54c5c5[_0x5f4c92(0x35a)],_0x5cdff6[_0x5f4c92(0x3e9)](_0x2a39e9[_0x5f4c92(0x929)],'Rejected\x20answer',_0x47cffb);break;}}if(this[_0x5f4c92(0x844)]())return this[_0x5f4c92(0xa51)]();}['chooseAnswer'](){const _0x369c13=_0x3035df,_0x596025=Array[_0x369c13(0x6a1)](this[_0x369c13(0x742)])[_0x369c13(0xab2)](_0x593cb1=>_0x593cb1[_0x369c13(0x48b)]===_0x54c5c5[_0x369c13(0x4d0)])[_0x369c13(0x7aa)]((_0x5b07b6,_0x5b45ae)=>_0x5b07b6[_0x369c13(0xb0d)]===_0x5b45ae[_0x369c13(0xb0d)]?_0x5b07b6['roundTripTime']-_0x5b45ae[_0x369c13(0xa2b)]:_0x5b07b6['cost']-_0x5b45ae[_0x369c13(0xb0d)]);if(0x0===_0x596025[_0x369c13(0x68c)])throw new _0x891088(_0x891088[_0x369c13(0x5fb)][_0x369c13(0x4e5)],{'answers':Array[_0x369c13(0x6a1)](this['answers'])[_0x369c13(0x207)](_0x1d7e49=>({'nodeId':_0x1d7e49[_0x369c13(0x846)],'type':_0x1d7e49['type']}))});return _0x5cdff6[_0x369c13(0x3e9)](_0x2a39e9['Subscription'],'Chosen\x20answer',_0x596025[0x0],this['answers']),_0x596025[0x0];}[_0x3035df(0x844)](){const _0x380bde=_0x3035df;for(const _0x1fb37f of this[_0x380bde(0x742)])if(_0x1fb37f[_0x380bde(0x48b)]===_0x54c5c5['Waiting'])return!0x1;return!0x0;}}class _0x216083{[_0x3035df(0x4de)];[_0x3035df(0x94b)];['listener']=_0x55a9d1();constructor(_0x15975c,_0x43bc86){const _0xcb218a=_0x3035df;this[_0xcb218a(0x4de)]=_0x15975c,this['contentType']=_0x43bc86;}[_0x3035df(0x59f)](){const _0x3ba517=_0x3035df;return this[_0x3ba517(0x4de)];}[_0x3035df(0x8be)](){const _0x433298=_0x3035df;return this[_0x433298(0x94b)];}['registerSource'](_0x586b9e){const _0x5ed82c=_0x3035df;_0x586b9e[_0x5ed82c(0x4d8)](this);}['registerDestination'](_0x54a1e9){const _0xc9b779=_0x3035df;_0x54a1e9[_0xc9b779(0x9af)](this);}[_0x3035df(0xa4f)](_0x36ea08){const _0x6201e4=_0x3035df;this['listener'][_0x6201e4(0xa4f)]({'topicLabel':this[_0x6201e4(0x4de)],'contentType':this[_0x6201e4(0x94b)],'uuid':(0x0,_0x5b15a5['v4'])(),'recipients':[],..._0x36ea08});}[_0x3035df(0x3bd)](_0x46de36){const _0xa34128=_0x3035df;return this['listener'][_0xa34128(0x3bd)](_0x46de36);}['unregisterSource'](_0x1fc994){const _0x3c2fc4=_0x3035df;_0x1fc994[_0x3c2fc4(0x5f9)](this);}[_0x3035df(0xaee)](_0x3dbd09){const _0x3c4b34=_0x3035df;_0x3dbd09[_0x3c4b34(0xaae)](this);}}class _0x3f6186{[_0x3035df(0x8a1)]={'topics':new Map(),'subscriptions':new Map()};[_0x3035df(0x5de)];constructor(_0x4ce310){const _0x2cd8f2=_0x3035df;this[_0x2cd8f2(0x5de)]=_0x4ce310;}get[_0x3035df(0x472)](){const _0x5468f1=_0x3035df;return this[_0x5468f1(0x8a1)][_0x5468f1(0x472)];}get[_0x3035df(0x2c4)](){const _0x87f0e2=_0x3035df;return this['maps'][_0x87f0e2(0x2c4)];}[_0x3035df(0x219)](_0x7d031f,_0x311c77){const _0x141711=_0x3035df,_0x3ae666=this['getPartsFromSubscription'](_0x311c77),_0x295e82=_0x29ee3b(_0x7d031f);if(!_0x3ae666['supportsContentType'])throw new _0x891088(_0x891088[_0x141711(0x5fb)]['InvalidSubscription'],{'message':_0x295e82+':\x20'+_0x3ae666[_0x141711(0x94d)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x3ae666['contentType'],'subscriptionType':_0x7d031f,'subscription':_0x311c77,'subscriptonParts':_0x3ae666});const _0x394aa5=_0x2d3b44(_0x7d031f,_0x3ae666);if(this[_0x141711(0x8a1)][_0x141711(0x472)][_0x141711(0x5e8)](_0x394aa5))throw new _0x891088(_0x891088['codes'][_0x141711(0x501)],{'message':_0x295e82+':\x20'+_0x394aa5+_0x141711(0x3f2),'subscriptionType':_0x7d031f,'subscription':_0x311c77,'subscriptonParts':_0x3ae666});this[_0x141711(0x8a1)][_0x141711(0x472)]['set'](_0x394aa5,_0x311c77),this[_0x141711(0xaf0)](_0x3ae666,_0x311c77);}[_0x3035df(0x6d9)](_0x12254c,_0x310a2b){const _0x40c5c9=_0x3035df,_0x5e549d=_0x2d3b44(_0x310a2b,_0x12254c),_0x3368d4=this['maps'][_0x40c5c9(0x472)][_0x40c5c9(0x557)](_0x5e549d);if(!_0x3368d4)throw new _0x891088(_0x891088[_0x40c5c9(0x5fb)][_0x40c5c9(0x501)],{'message':_0x29ee3b(_0x310a2b)+':\x20'+_0x5e549d+_0x40c5c9(0x686),'subscriptionType':_0x310a2b,'subscription':_0x3368d4,'subscriptonParts':_0x12254c});this['closeSubscription'](_0x3368d4,_0x5e549d,_0x12254c);}['closeSubscription'](_0x54e42b,_0x477dfa,_0x1be209){const _0x2acf00=_0x3035df;_0x1be209=_0x1be209||this['getPartsFromSubscription'](_0x54e42b),this[_0x2acf00(0x8a1)][_0x2acf00(0x472)][_0x2acf00(0x72d)](_0x477dfa),this[_0x2acf00(0x466)](_0x1be209,_0x54e42b);}[_0x3035df(0xaf0)](_0x27f913,{source:_0x33a64b,destination:_0x443b03}){const _0x411a09=_0x3035df,{contentType:_0x3bc3ea,label:_0x12f900,remoteId:_0x31f47b}=_0x27f913,_0x1e6703=_0x2aa38c(_0x3bc3ea,_0x12f900,_0x31f47b),_0xd5db0c=new _0x216083(_0x1e6703,_0x3bc3ea);_0xd5db0c[_0x411a09(0x5e3)](_0x33a64b),_0xd5db0c[_0x411a09(0x65e)](_0x443b03),this[_0x411a09(0x8a1)]['topics'][_0x411a09(0xac2)](_0xd5db0c[_0x411a09(0x59f)](),_0xd5db0c);}[_0x3035df(0x466)](_0xd9b1b8,_0x2ac2ca){const _0x4c30e2=_0x3035df,{contentType:_0x38d851,label:_0x588d6c,remoteId:_0xe415eb}=_0xd9b1b8,_0x2fde70=_0x2aa38c(_0x38d851,_0x588d6c,_0xe415eb),_0x4eb13f=this[_0x4c30e2(0x8a1)]['topics'][_0x4c30e2(0x557)](_0x2fde70);_0x4eb13f&&(this[_0x4c30e2(0x7eb)](_0x4eb13f,_0x2ac2ca),this[_0x4c30e2(0x8a1)]['topics'][_0x4c30e2(0x72d)](_0x2fde70));}[_0x3035df(0x7eb)](_0x13b008,{source:_0x2acc14,destination:_0x650820}){const _0x5c2968=_0x3035df;_0x13b008[_0x5c2968(0x238)](_0x2acc14),_0x13b008[_0x5c2968(0xaee)](_0x650820);}['removeSubscriptionsForNode'](_0x13df35){const _0x460a15=_0x3035df;this[_0x460a15(0x8a1)][_0x460a15(0x472)][_0x460a15(0x8fa)]((_0x5646db,_0x250a22)=>{const _0xea25d5=_0x460a15;_0x250a22[_0xea25d5(0x442)](_0x13df35)&&this['closeSubscription'](_0x5646db,_0x250a22);});}}class _0xc88a18{[_0x3035df(0x5bb)];['maxDistance'];[_0x3035df(0x33c)]=new Map();['subscriptionRequestsQueue']=_0x21d83a(new _0x230bba(this['requestSubscriptionAction'][_0x3035df(0x5bf)](this),()=>_0x255ca7[_0x3035df(0x3e6)](0x64)),!0x0);[_0x3035df(0x478)]=new Map();[_0x3035df(0x8a1)];[_0x3035df(0x646)]=new Map();constructor(_0x52322d,_0x9f112d){const _0x218de1=_0x3035df;this['configs']=_0x52322d,this['maxDistance']=_0x9f112d,this[_0x218de1(0x8a1)]=new _0x3f6186(({source:_0x463c0d,destination:_0x48d95c})=>_0x272249(_0x48d95c,_0x463c0d));}[_0x3035df(0x219)](_0x491f05,_0x3d224b){const _0x57f141=_0x3035df,_0x55d2c1=this[_0x57f141(0x5be)](_0x491f05)&&this[_0x57f141(0x88f)](_0x3d224b)?new _0x5829fc(_0x491f05,_0x3d224b):new _0x3542d5(_0x491f05,_0x3d224b);this['maps'][_0x57f141(0x219)](_0x4e6bc3['Incoming'],_0x55d2c1),this['configs']['mediator'][_0x57f141(0x6c5)](_0x55d2c1);}['removeSubscription'](_0x32643a,_0x32377e,_0x1a43b2=''){const _0x59adfa=_0x3035df,_0x53d8f6={'contentType':_0x32377e,'label':_0x32643a,'remoteId':_0x1a43b2},_0x14a522=_0x2d3b44(_0x4e6bc3[_0x59adfa(0x52e)],_0x53d8f6),_0x106cf9=this[_0x59adfa(0x8a1)][_0x59adfa(0x472)][_0x59adfa(0x557)](_0x14a522);_0x106cf9&&this['closeSubscription'](_0x106cf9,_0x14a522);}[_0x3035df(0x27c)](_0x5532ba){const _0x4c880a=_0x3035df;this[_0x4c880a(0x70b)](_0x5532ba);}[_0x3035df(0x81a)]({label:_0x308df9,ownerId:_0x3d5ee1,trackKinds:_0x633c33,params:_0x48d000}){this['requestSubscription'](_0x308df9,_0x3d5ee1,_0x633c33,_0x48d000);}[_0x3035df(0x29f)]({ownerId:_0x44b188,label:_0x375010,params:_0x1a9685}){const _0x34e38c=_0x3035df,{subscriptionLabel:_0x51e24b}=this[_0x34e38c(0x875)](_0x375010,_0x44b188),_0x2824ef=this['getMediaSubscription'](_0x51e24b);_0x2824ef&&_0x2824ef[_0x34e38c(0x7c9)](_0x44b188,_0x1a9685);}[_0x3035df(0xb1c)]({ownerId:_0xaa5c67,label:_0xf9cbe4,trackKinds:_0x23a774,remainingTracks:_0x10ddaa}){const _0x51924a=_0x3035df,_0x517b64=_0x2d3b44(_0x4e6bc3['Incoming'],{'contentType':_0x37e813[_0x51924a(0x859)][_0x51924a(0x4f9)],'label':_0xf9cbe4,'remoteId':_0xaa5c67});this[_0x51924a(0x58f)](_0x517b64);const _0x3ad2e7=this[_0x51924a(0x33c)]['get'](_0x517b64);_0x3ad2e7&&(this['configs'][_0x51924a(0x76d)][_0x51924a(0x592)](_0x3ad2e7),this[_0x51924a(0x33c)]['delete'](_0x517b64));const {parts:_0x33d779,subscriptionLabel:_0x4ebd5}=this[_0x51924a(0x875)](_0xf9cbe4,_0xaa5c67),_0xddc7f0=this['getMediaSubscription'](_0x4ebd5);_0xddc7f0&&(_0xddc7f0[_0x51924a(0x5ee)](_0xaa5c67,_0x10ddaa,_0x23a774),0x0===_0x10ddaa&&this['removeSubscription'](_0x33d779[_0x51924a(0x4de)],_0x33d779['contentType'],_0x33d779[_0x51924a(0x94d)]));}[_0x3035df(0x20f)](_0x5b80a6,{label:_0xb4a948,ownerId:_0x2e8805,trackKinds:_0x15ad65,streamId:_0x24e6f5,params:_0x5249d}){const _0x36e9a0=_0x3035df,_0x4f0c20=_0x2d3b44(_0x4e6bc3[_0x36e9a0(0x52e)],{'contentType':_0x37e813['ContentType']['Media'],'label':_0x24e6f5,'remoteId':_0x5b80a6}),_0x4b3a9d=this[_0x36e9a0(0x8a1)]['subscriptions']['get'](_0x4f0c20);if(!(_0x4b3a9d&&_0x4b3a9d instanceof _0x5829fc))throw new _0x891088(_0x891088[_0x36e9a0(0x5fb)][_0x36e9a0(0x538)],{'label':_0x4f0c20,'ownerId':_0x2e8805});this[_0x36e9a0(0x598)](_0x4b3a9d,_0x4f0c20),this[_0x36e9a0(0xa8e)](_0xb4a948,_0x2e8805,_0x15ad65,_0x5249d);}[_0x3035df(0x2bc)](_0x25108c,_0x12def5){const _0x354306=_0x3035df,{label:_0x5a678c,ownerId:_0x7755ce,trackKinds:_0x4f98d8,params:_0x4bf3f6}=_0x12def5,_0x3bbf43=_0x2d3b44(_0x4e6bc3['Incoming'],{'contentType':_0x37e813[_0x354306(0x859)][_0x354306(0x4f9)],'label':_0x5a678c,'remoteId':_0x7755ce});if(!this['subscriptionRequests']['has'](_0x3bbf43))throw new _0x891088(_0x891088[_0x354306(0x5fb)]['SubscriptionRequestDoesNotExist'],{'label':_0x3bbf43,'ownerId':_0x7755ce,'streamId':_0x12def5[_0x354306(0x9c1)],'requests':this[_0x354306(0x33c)]});const _0x1643a0=this[_0x354306(0x33c)][_0x354306(0x557)](_0x3bbf43);if(_0x4f98d8[_0x354306(0x68c)]===_0x1643a0['getTracks']()['length']&&_0x4f98d8[_0x354306(0x4cf)](_0x57aee4=>_0x1643a0[_0x354306(0x8fc)]()[_0x354306(0x7c4)](_0x57aee4)))try{const _0x275230=_0x1643a0[_0x354306(0x7f9)](_0x25108c,_0x12def5);if(!_0x275230)return;this[_0x354306(0x3bd)](_0x275230,_0x7755ce,_0x5a678c,_0x3bbf43,_0x4f98d8);}catch(_0x3c3568){return void this[_0x354306(0x5ff)](_0x5a678c,_0x7755ce,_0x4f98d8,_0x4bf3f6);}}[_0x3035df(0x40b)](_0x128381,{label:_0x42f8ea,ownerId:_0x5758d6,trackKinds:_0x51cb1d}){const _0x75a441=_0x3035df,_0x1b9dac=this[_0x75a441(0x5bb)][_0x75a441(0x76d)][_0x75a441(0x2ae)](_0x5758d6,_0x42f8ea);if(!_0x1b9dac)return;const _0x201c79=_0x1b9dac[_0x75a441(0x853)](),_0x214369=_0x1b9dac[_0x75a441(0x68b)]();_0x214369[_0x75a441(0x966)](_0x599f2=>_0x51cb1d[_0x75a441(0x7c4)](_0x599f2))&&this['findNewMediaSubscription'](_0x128381,_0x42f8ea,_0x201c79,_0x5758d6,_0x214369);}['handleContentRemoteMediaStreamTrackFail']({label:_0x514bab,providerId:_0x1b0b96,ownerId:_0x42fffe,streamId:_0x5581d5,trackKinds:_0x3c9a7f}){const _0xd4b4bb=_0x3035df;this[_0xd4b4bb(0xaca)](_0x1b0b96,_0x514bab,_0x5581d5,_0x42fffe,_0x3c9a7f);}['handleOptimizationConnectionSuccess'](_0x1e10ed){const _0x1c9cdb=_0x3035df;for(const _0x450d3e of this[_0x1c9cdb(0x646)][_0x1c9cdb(0xb09)]()){const {streamLabel:_0x5e610f,ownerId:_0x32d906,trackKinds:_0xc40990,params:_0x59c1bf}=_0x450d3e;if(!_0x32d906||!_0xc40990||!_0x5e610f)return;this[_0x1c9cdb(0x300)][_0x1c9cdb(0x343)]({'label':_0x5e610f,'ownerId':_0x32d906,'trackKinds':_0xc40990,'params':_0x59c1bf,'remoteId':_0x1e10ed});}}[_0x3035df(0x832)](_0x1951d1){const _0xe58c05=_0x3035df;this['maps'][_0xe58c05(0x472)][_0xe58c05(0x8fa)]((_0x1001ab,_0x39bcfd)=>{const _0x39d110=_0xe58c05;if(_0x39bcfd[_0x39d110(0x442)](_0x1951d1)){if(_0x1001ab[_0x39d110(0x678)][_0x39d110(0x8be)]()===_0x37e813[_0x39d110(0x859)][_0x39d110(0x4f9)]){const _0x13b6d6=_0x1001ab[_0x39d110(0x678)];if(_0x13b6d6['getSubscribedTracks']()[_0x39d110(0x68c)]>0x0){const _0x50ec5a={'type':_0x1a160d[_0x39d110(0x88d)],'label':_0x13b6d6[_0x39d110(0x59f)](),'ownerId':_0x13b6d6['getOwnerId'](),'trackKinds':_0x13b6d6[_0x39d110(0x68b)]()};return void this[_0x39d110(0x40b)](_0x1951d1,_0x50ec5a);}}this[_0x39d110(0x598)](_0x1001ab,_0x39bcfd);}});}[_0x3035df(0x72f)](){const _0x4868bf=_0x3035df;this[_0x4868bf(0x8a1)][_0x4868bf(0x472)][_0x4868bf(0x8fa)](this[_0x4868bf(0x598)][_0x4868bf(0x5bf)](this));}['subscribe'](_0x3f0d30,_0x3e7a85,_0x38ea00,_0x33e735,_0x48a39f){const _0x235f2f=_0x3035df,_0x52f70c=this[_0x235f2f(0x5bb)][_0x235f2f(0x76d)][_0x235f2f(0x652)](_0x3f0d30[_0x235f2f(0x846)]),_0x283697=this[_0x235f2f(0x5bb)][_0x235f2f(0x76d)]['getRemoteMediaStream'](_0x3e7a85,_0x38ea00);this[_0x235f2f(0x58f)](_0x33e735),this['subscriptionRequests']['has'](_0x33e735)&&(this['configs']['mediator'][_0x235f2f(0x592)](this['subscriptionRequests'][_0x235f2f(0x557)](_0x33e735)),this['subscriptionRequests'][_0x235f2f(0x72d)](_0x33e735)),this[_0x235f2f(0x7e0)](_0x3f0d30,_0x3e7a85,_0x38ea00,_0x283697),_0x283697[_0x235f2f(0xaf6)](_0x3f0d30[_0x235f2f(0x9c1)]),_0x283697[_0x235f2f(0x6ab)](_0x3f0d30['nodeId']);const _0x139452=_0x272249(_0x283697,_0x52f70c),_0x2e9b64=_0x2d3b44(_0x4e6bc3[_0x235f2f(0x52e)],_0x139452);this['maps']['subscriptions'][_0x235f2f(0x5e8)](_0x2e9b64)||this[_0x235f2f(0x219)](_0x52f70c,_0x283697);const _0x47c3f3=this[_0x235f2f(0x8a1)][_0x235f2f(0x472)][_0x235f2f(0x557)](_0x2e9b64);if(!(_0x47c3f3&&_0x47c3f3 instanceof _0x5829fc))throw new _0x891088(_0x891088[_0x235f2f(0x5fb)][_0x235f2f(0x538)],{'label':_0x33e735,'ownerId':_0x3e7a85});_0x5cdff6[_0x235f2f(0x7df)](_0x235f2f(0x611),{'clusterId':this[_0x235f2f(0x5bb)]['clusterId'],'nodeId':this[_0x235f2f(0x5bb)][_0x235f2f(0x8f4)][_0x235f2f(0x6cd)](),'nodeType':this[_0x235f2f(0x5bb)]['localNode'][_0x235f2f(0x48b)],'data':{'subscriptionLabel':_0x2e9b64,'chosenAnswer':_0x3f0d30}}),this['chosenAnswers'][_0x235f2f(0xac2)](_0x2e9b64,_0x3f0d30),_0x47c3f3[_0x235f2f(0x3bd)](_0x3e7a85,_0x48a39f,_0x3f0d30[_0x235f2f(0x572)]);}[_0x3035df(0x70b)]({ownerId:_0x205ee5,label:_0x2760bf}){const _0x37e4cf=_0x3035df,_0x524d1a=this[_0x37e4cf(0x5bb)][_0x37e4cf(0x76d)][_0x37e4cf(0x2ae)](_0x205ee5,_0x2760bf),[_0x187d2f,_0x345648]=Array[_0x37e4cf(0x6a1)](this[_0x37e4cf(0x8a1)][_0x37e4cf(0x472)]['entries']())[_0x37e4cf(0x85d)](([_0x575db6,_0x525c1e])=>-0x1!==_0x575db6[_0x37e4cf(0x331)](_0x524d1a['getInternalStreamId']()));return this['closeSubscription'](_0x345648,_0x187d2f);}['closeSubscription'](_0x565b67,_0x20f3a0){const _0x12a9da=_0x3035df;this[_0x12a9da(0x5bb)][_0x12a9da(0x76d)][_0x12a9da(0x592)](_0x565b67),this[_0x12a9da(0x8a1)][_0x12a9da(0x598)](_0x565b67,_0x20f3a0);}[_0x3035df(0x5be)](_0x564c9b){const _0x5f38d6=_0x3035df;return _0x564c9b[_0x5f38d6(0x506)]()[_0x5f38d6(0x7c4)](_0x37e813[_0x5f38d6(0x859)][_0x5f38d6(0x4f9)]);}['isMediaDestination'](_0x2d8111){const _0x2970cf=_0x3035df;return _0x2d8111[_0x2970cf(0x8be)]()===_0x37e813[_0x2970cf(0x859)][_0x2970cf(0x4f9)];}async[_0x3035df(0x5ff)](_0x2758d0,_0x14f995,_0xc0c026,_0x44a2a3){const _0x3e87fe=_0x3035df;await _0x255ca7[_0x3e87fe(0x3e6)](0x3e8);const _0x4549f1=_0x2d3b44(_0x4e6bc3['Incoming'],{'contentType':_0x37e813[_0x3e87fe(0x859)]['Media'],'label':_0x2758d0,'remoteId':_0x14f995});this['clearSubscriptionRequestTimeout'](_0x4549f1);const _0x5b8702=this['subscriptionRequests'][_0x3e87fe(0x557)](_0x4549f1);if(!_0x5b8702)throw new _0x891088(_0x891088[_0x3e87fe(0x5fb)][_0x3e87fe(0x538)],{'label':_0x4549f1,'ownerId':_0x14f995});const _0x4e7044=this[_0x3e87fe(0x5bb)][_0x3e87fe(0x76d)][_0x3e87fe(0xa20)](_0x487162=>_0x487162[_0x3e87fe(0x229)]()),_0x88a8b3=this[_0x3e87fe(0x5bb)][_0x3e87fe(0x76d)][_0x3e87fe(0x77c)](this['configs'][_0x3e87fe(0x8f4)][_0x3e87fe(0x6cd)](),_0x14f995);_0x5b8702[_0x3e87fe(0x98b)](_0x4e7044[_0x3e87fe(0x207)](_0x8aa60c=>_0x8aa60c[_0x3e87fe(0x5d7)]()),_0x88a8b3);try{_0x5b8702[_0x3e87fe(0x979)](this[_0x3e87fe(0x5bb)][_0x3e87fe(0x8f4)]['getId'](),_0x14f995,_0x2758d0,_0xc0c026,_0x44a2a3),this[_0x3e87fe(0x5f2)](_0x2758d0,_0x14f995,_0xc0c026,_0x44a2a3,_0x4549f1,_0x5b8702);}catch(_0x3a5f50){this[_0x3e87fe(0x300)]['push']({'label':_0x2758d0,'ownerId':_0x14f995,'trackKinds':_0xc0c026,'params':_0x44a2a3});}}[_0x3035df(0xa8e)](_0x2bd1cb,_0x4346b7,_0x2f1e9d,_0x3d02bf){this['subscriptionRequestsQueue']['push']({'label':_0x2bd1cb,'ownerId':_0x4346b7,'trackKinds':_0x2f1e9d,'params':_0x3d02bf});}[_0x3035df(0x9eb)]({label:_0x2a7675,ownerId:_0x21247e,trackKinds:_0x11f683,params:_0x4dab6e,remoteId:_0x26b55f}){const _0x9f3b17=_0x3035df;if(!this[_0x9f3b17(0x5bb)][_0x9f3b17(0x76d)][_0x9f3b17(0x2ae)](_0x21247e,_0x2a7675))return;if(!this[_0x9f3b17(0x5bb)][_0x9f3b17(0x76d)][_0x9f3b17(0x42f)]()[_0x9f3b17(0x8f0)]())throw new Error(_0x9f3b17(0x404));if(_0x26b55f){const _0x5a0812=this[_0x9f3b17(0x5bb)][_0x9f3b17(0x76d)][_0x9f3b17(0x497)]()['find'](_0x19b649=>_0x19b649['getId']()===_0x26b55f),_0x12ea11=_0x5a0812?.['getRank']();if(!_0x5a0812||!_0x12ea11)throw new Error(_0x9f3b17(0x370));const _0x25ae9d=this[_0x9f3b17(0x5bb)][_0x9f3b17(0x76d)][_0x9f3b17(0x497)]()[_0x9f3b17(0x85d)](_0x4537cc=>_0x4537cc[_0x9f3b17(0x6cd)]()===_0x21247e),_0x25e789=_0x25ae9d?.[_0x9f3b17(0x8f0)]();if(!_0x25ae9d||!_0x25e789)throw new Error(_0x9f3b17(0x4a6));const _0x558cdc=this[_0x9f3b17(0x646)][_0x9f3b17(0x557)](_0x2a7675);if(_0x558cdc){const _0xe748f4=this[_0x9f3b17(0x5bb)]['mediator'][_0x9f3b17(0x497)]()[_0x9f3b17(0x85d)](_0x4e0d17=>_0x4e0d17['getId']()===_0x558cdc['nodeId']),_0x105e6d=_0xe748f4?.[_0x9f3b17(0x8f0)]();if(!_0xe748f4||!_0x105e6d)throw new Error(_0x9f3b17(0x263));if(Math[_0x9f3b17(0x443)](_0x105e6d-_0x25e789)<Math[_0x9f3b17(0x443)](_0x12ea11-_0x25e789))return;}}const _0x46498b=this[_0x9f3b17(0x5bb)]['mediator'][_0x9f3b17(0xa20)](_0x2e5986=>_0x2e5986[_0x9f3b17(0x229)]()&&(!_0x26b55f||_0x2e5986[_0x9f3b17(0x5d7)]()===_0x26b55f));if(!_0x46498b['length']||0x0===_0x46498b['length'])throw new Error(_0x9f3b17(0x6e9));const _0x25ff87=this[_0x9f3b17(0x5bb)][_0x9f3b17(0x76d)][_0x9f3b17(0x77c)](this[_0x9f3b17(0x5bb)]['localNode'][_0x9f3b17(0x6cd)](),_0x21247e),_0x26348d=_0x2d3b44(_0x4e6bc3[_0x9f3b17(0x52e)],{'contentType':_0x37e813[_0x9f3b17(0x859)][_0x9f3b17(0x4f9)],'label':_0x2a7675,'remoteId':_0x21247e});if(this[_0x9f3b17(0x33c)]['has'](_0x26348d)){if(_0x26b55f)throw new Error(_0x9f3b17(0x38a));const _0xbcf5f7=this[_0x9f3b17(0x33c)][_0x9f3b17(0x557)](_0x26348d)[_0x9f3b17(0x8fc)]();if(_0xbcf5f7[_0x9f3b17(0x68c)]===_0x11f683[_0x9f3b17(0x68c)]&&_0xbcf5f7[_0x9f3b17(0x4cf)](_0x41dec2=>_0x11f683[_0x9f3b17(0x7c4)](_0x41dec2)))return;this[_0x9f3b17(0x5bb)][_0x9f3b17(0x76d)][_0x9f3b17(0x592)](this[_0x9f3b17(0x33c)][_0x9f3b17(0x557)](_0x26348d)),this[_0x9f3b17(0x33c)][_0x9f3b17(0x72d)](_0x26348d),_0x11f683=Array['from'](new Set(_0x11f683[_0x9f3b17(0x20a)](_0xbcf5f7))),this['clearSubscriptionRequestTimeout'](_0x26348d);}const _0x4d4867=new _0x31f408(_0x46498b[_0x9f3b17(0x207)](_0x3cf43b=>_0x3cf43b['getRemoteId']()),_0x25ff87,this['maxDistance'],_0x11f683);this[_0x9f3b17(0x5bb)]['mediator']['registerSystemSource'](_0x4d4867),this[_0x9f3b17(0x33c)][_0x9f3b17(0xac2)](_0x26348d,_0x4d4867),_0x4d4867[_0x9f3b17(0x979)](this[_0x9f3b17(0x5bb)]['localNode'][_0x9f3b17(0x6cd)](),_0x21247e,_0x2a7675,_0x11f683,_0x4dab6e),this['setSubscriptionRequestTimeout'](_0x2a7675,_0x21247e,_0x11f683,_0x4dab6e,_0x26348d,_0x4d4867);}[_0x3035df(0x58f)](_0x300050){const _0x1b768b=_0x3035df;this[_0x1b768b(0x478)][_0x1b768b(0x5e8)](_0x300050)&&(clearTimeout(this[_0x1b768b(0x478)][_0x1b768b(0x557)](_0x300050)),this[_0x1b768b(0x478)]['delete'](_0x300050));}[_0x3035df(0x5f2)](_0x476470,_0x783134,_0x9a267b,_0x388dd5,_0x10a169,_0x17ad60){const _0x2b5a1=_0x3035df;this[_0x2b5a1(0x58f)](_0x10a169),this[_0x2b5a1(0x478)][_0x2b5a1(0xac2)](_0x10a169,setTimeout(()=>{const _0x3dd36c=_0x2b5a1;this[_0x3dd36c(0x478)]['delete'](_0x10a169);try{const _0x45da38=_0x17ad60[_0x3dd36c(0xa51)]();this[_0x3dd36c(0x3bd)](_0x45da38,_0x783134,_0x476470,_0x10a169,_0x9a267b);}catch(_0x5088d3){this[_0x3dd36c(0x5ff)](_0x476470,_0x783134,_0x9a267b,_0x388dd5);}},0x7d0));}['findNewMediaSubscription'](_0x334ca2,_0x2c71e3,_0x58b574,_0x109fcf,_0x2c587e){const _0x4afff2=_0x3035df,{subscriptionLabel:_0x4a77c3}=this[_0x4afff2(0x875)](_0x2c71e3,_0x109fcf),_0x1bd1b0=this[_0x4afff2(0x927)](_0x4a77c3),_0x3c3e40=_0x1bd1b0?.[_0x4afff2(0x572)];_0x1bd1b0&&(_0x1bd1b0[_0x4afff2(0x5ee)](_0x109fcf,0x0),this[_0x4afff2(0x6d9)](_0x58b574,_0x37e813[_0x4afff2(0x859)][_0x4afff2(0x4f9)],_0x334ca2)),this['requestSubscription'](_0x2c71e3,_0x109fcf,_0x2c587e,_0x3c3e40);}[_0x3035df(0x927)](_0x33048d){const _0xc0784b=_0x3035df,_0x4a65e4=this[_0xc0784b(0x8a1)]['subscriptions'][_0xc0784b(0x557)](_0x33048d);if(_0x4a65e4){if(!(_0x4a65e4 instanceof _0x5829fc))throw new _0x891088(_0x891088[_0xc0784b(0x5fb)][_0xc0784b(0x501)],{'label':_0x33048d,'subscription':_0x4a65e4});return _0x4a65e4;}}[_0x3035df(0x875)](_0x4a5752,_0x24670){const _0x2e7b48=_0x3035df,_0x2a8144=this[_0x2e7b48(0x9d2)](_0x4a5752,_0x24670);return{'parts':_0x2a8144,'subscriptionLabel':_0x2d3b44(_0x4e6bc3['Incoming'],_0x2a8144)};}[_0x3035df(0x9d2)](_0x2aa607,_0x35756a){const _0x534567=_0x3035df,_0xa4bcf2=this['configs'][_0x534567(0x76d)][_0x534567(0x2ae)](_0x35756a,_0x2aa607),_0x31a0f2=_0xa4bcf2['getProviderId']();if(!_0x31a0f2)throw new _0x891088(_0x891088[_0x534567(0x5fb)][_0x534567(0x74d)],{'label':_0x2aa607,'streamId':_0xa4bcf2[_0x534567(0x853)](),'ownerId':_0x35756a,'localId':this[_0x534567(0x5bb)][_0x534567(0x8f4)][_0x534567(0x6cd)]()});return{'contentType':_0x37e813[_0x534567(0x859)]['Media'],'label':_0xa4bcf2[_0x534567(0x853)](),'remoteId':_0x31a0f2};}[_0x3035df(0x7e0)](_0x3a4619,_0x3bd689,_0x2aed05,_0xc0908f){const _0x156ba7=_0x3035df,_0x298cd6=_0xc0908f['getProviderId']();if(_0x298cd6&&_0x298cd6!==_0x3a4619['nodeId']){const {parts:_0x1a8733,subscriptionLabel:_0x176ead}=this['getSubscriptionLabel'](_0x2aed05,_0x3bd689),_0x436344=this[_0x156ba7(0x927)](_0x176ead);_0x436344&&(_0x436344[_0x156ba7(0x5ee)](_0x3bd689,0x0),this['removeSubscription'](_0x1a8733['label'],_0x1a8733[_0x156ba7(0x94b)],_0x1a8733[_0x156ba7(0x94d)]));}}}class _0x514021{[_0x3035df(0x5bb)];[_0x3035df(0xa38)];[_0x3035df(0x8a1)];constructor(_0x3ff4e4,_0x3fc2ad){const _0x4615eb=_0x3035df;this[_0x4615eb(0x5bb)]=_0x3ff4e4,this['maxOutgoingSubscriptions']=_0x3fc2ad,this[_0x4615eb(0x8a1)]=new _0x3f6186(({source:_0x55ec29,destination:_0x1d4320})=>_0x272249(_0x55ec29,_0x1d4320));}[_0x3035df(0x219)](_0x5f49f5,_0x2b9f35){const _0x248943=_0x3035df,_0x51fe6b={'source':_0x5f49f5,'destination':_0x2b9f35};this[_0x248943(0x8a1)]['createSubscription'](_0x4e6bc3[_0x248943(0x440)],_0x51fe6b);}['removeSubscription'](_0x26ca71,_0xe0db4a,_0xcd2be0=''){const _0x3f9a4e=_0x3035df,_0xbc9fdc={'contentType':_0xe0db4a,'label':_0x26ca71,'remoteId':_0xcd2be0};this[_0x3f9a4e(0x8a1)][_0x3f9a4e(0x6d9)](_0xbc9fdc,_0x4e6bc3['Outgoing']);}['handleSubscriptionSubscribeMediaStream'](_0x1a3632,_0x171971){const _0x284f0f=_0x3035df;let _0x5e086c;_0x5e086c=_0x171971[_0x284f0f(0x393)]!==this[_0x284f0f(0x5bb)][_0x284f0f(0x8f4)][_0x284f0f(0x6cd)]()?this['configs'][_0x284f0f(0x76d)]['getRemoteMediaStream'](_0x171971[_0x284f0f(0x393)],_0x171971[_0x284f0f(0x4de)]):this[_0x284f0f(0x5bb)][_0x284f0f(0x76d)][_0x284f0f(0x5d3)](_0x171971[_0x284f0f(0x4de)]);const _0x1e79ab=_0x2d3b44(_0x4e6bc3[_0x284f0f(0x440)],{'contentType':_0x37e813[_0x284f0f(0x859)][_0x284f0f(0x4f9)],'label':_0x5e086c[_0x284f0f(0xa9a)](),'remoteId':_0x1a3632}),_0x474028=this[_0x284f0f(0x606)]();if(!this['maps']['subscriptions']['has'](_0x1e79ab)&&_0x474028>=this['maxOutgoingSubscriptions'])return{'type':_0x1a160d[_0x284f0f(0x407)],'ownerId':_0x171971[_0x284f0f(0x393)],'label':_0x171971[_0x284f0f(0x4de)],'streamId':_0x5e086c[_0x284f0f(0xa9a)](),'trackKinds':_0x171971[_0x284f0f(0x38e)],'params':_0x171971[_0x284f0f(0x572)]};_0x5e086c instanceof _0x16be9b&&!_0x5e086c[_0x284f0f(0x96e)](_0x171971[_0x284f0f(0x38e)])&&_0x5e086c[_0x284f0f(0x3bd)](_0x171971['params']),this[_0x284f0f(0x8a1)][_0x284f0f(0x472)]['has'](_0x1e79ab)||this['createSubscription'](_0x5e086c[_0x284f0f(0x53a)](_0x1a3632),this[_0x284f0f(0x5bb)][_0x284f0f(0x76d)][_0x284f0f(0x652)](_0x1a3632));}[_0x3035df(0x9c9)](_0x5bcd27,{label:_0x571a2d,ownerId:_0x2fed3a,remainingTracks:_0x57156c}){const _0x3128d3=_0x3035df;if(_0x57156c>0x0)return;let _0x59f1c6;_0x59f1c6=_0x2fed3a!==this['configs'][_0x3128d3(0x8f4)][_0x3128d3(0x6cd)]()?this[_0x3128d3(0x5bb)][_0x3128d3(0x76d)][_0x3128d3(0x2ae)](_0x2fed3a,_0x571a2d):this[_0x3128d3(0x5bb)][_0x3128d3(0x76d)][_0x3128d3(0x5d3)](_0x571a2d);const _0x14992e=_0x59f1c6['getShareableStreamId'](),_0x38a0b6=_0x37e813['ContentType'][_0x3128d3(0x4f9)];this[_0x3128d3(0x6d9)](_0x14992e,_0x38a0b6,_0x5bcd27);}[_0x3035df(0xb1c)](_0x1d6130,{label:_0x4bec4c,ownerId:_0xc80be,trackKinds:_0x1c91af}){const _0x512f4d=_0x3035df;if(_0x1d6130!==_0x8b8df)return[];let _0x126afd=[];for(const _0x16357f of this['maps']['subscriptions']){const {source:_0xa76cc8,destination:_0x59f569}=_0x16357f[0x1];_0xa76cc8['getLabel']()===_0x4bec4c&&_0xa76cc8[_0x512f4d(0x264)]()===_0xc80be&&_0x126afd[_0x512f4d(0x343)]({'sourceId':this['configs'][_0x512f4d(0x8f4)]['getId'](),'destinationIds':[_0x59f569[_0x512f4d(0x5d7)]()],'messageType':_0x160b40[_0x512f4d(0x929)],'content':{'type':_0x1a160d[_0x512f4d(0x88d)],'label':_0x4bec4c,'ownerId':_0xc80be,'trackKinds':_0x1c91af}});}return _0x126afd;}[_0x3035df(0x796)](_0x52d9dd,_0x191e06){const _0xe24487=_0x3035df,{label:_0x3a3024,ownerId:_0x42c12d,trackKinds:_0x556b14,params:_0x2988a9}=_0x191e06,{hasTracks:_0x18a0a0,streamId:_0x1cb242,hasResolution:_0x511396,distance:_0x27e534,subscriptionLabel:_0x22b477}=this[_0xe24487(0x248)](_0x52d9dd,_0x191e06);let _0x597572=this['getNumberOutgoingSubscriptions']()<this[_0xe24487(0xa38)]&&(_0x18a0a0||_0x27e534>-0x1)?_0x1a160d[_0xe24487(0x319)]:_0x1a160d[_0xe24487(0xa7f)];const _0x5ad197=_0x27e534<0x0?0xa:_0x27e534;let _0x5a2f64=_0x18a0a0?_0x511396?_0x5ad197:_0x5ad197+0x0:_0x5ad197+0xa;return _0x22b477&&this[_0xe24487(0x8a1)][_0xe24487(0x472)][_0xe24487(0x5e8)](_0x22b477)&&(_0x18a0a0&&(_0x5a2f64=0x0),_0x597572=_0x1a160d[_0xe24487(0x319)]),{'type':_0x597572,'cost':_0x5a2f64,'distance':_0x27e534,'label':_0x3a3024,'ownerId':_0x42c12d,'streamId':_0x1cb242,'trackKinds':_0x556b14,'params':_0x2988a9};}[_0x3035df(0x27c)](_0x3c765c){const _0x15b640=_0x3035df,{label:_0x3cd642,ownerId:_0x20270b}=_0x3c765c,_0x402851=this[_0x15b640(0x5bb)][_0x15b640(0x76d)][_0x15b640(0x2ae)](_0x20270b,_0x3cd642);this[_0x15b640(0x8a1)][_0x15b640(0x472)][_0x15b640(0x8fa)](_0x3d9e15=>{const _0x4e5cf1=_0x15b640;if(_0x3d9e15[_0x4e5cf1(0x20c)][_0x4e5cf1(0x853)]()===_0x402851['getShareableStreamId']()){const _0x55296d=_0x3d9e15['destination'];this[_0x4e5cf1(0x6d9)](_0x402851[_0x4e5cf1(0xa9a)](),_0x37e813[_0x4e5cf1(0x859)][_0x4e5cf1(0x4f9)],_0x55296d['getRemoteId']());}});}[_0x3035df(0xa31)]({label:_0x5152e5}){const _0x50aaa9=_0x3035df,_0x4fef69=this[_0x50aaa9(0x5bb)][_0x50aaa9(0x76d)]['getLocalMediaStream'](_0x5152e5);this[_0x50aaa9(0x8a1)][_0x50aaa9(0x472)][_0x50aaa9(0x8fa)](_0x2eb111=>{const _0x40ede5=_0x50aaa9;if(_0x2eb111[_0x40ede5(0x20c)]['getInternalStreamId']()===_0x4fef69[_0x40ede5(0xa9a)]()){const _0x2aaac7=_0x2eb111[_0x40ede5(0x678)];this[_0x40ede5(0x6d9)](_0x4fef69[_0x40ede5(0xa9a)](),_0x37e813[_0x40ede5(0x859)][_0x40ede5(0x4f9)],_0x2aaac7[_0x40ede5(0x5d7)]());}});}[_0x3035df(0x832)](_0x1044c7){const _0x331eea=_0x3035df;this[_0x331eea(0x8a1)]['removeSubscriptionsForNode'](_0x1044c7);}[_0x3035df(0x72f)](){const _0x30dad7=_0x3035df;this['maps'][_0x30dad7(0x472)][_0x30dad7(0x8fa)](this[_0x30dad7(0x598)]['bind'](this));}[_0x3035df(0x598)](_0x3f746d,_0x1424d5){const _0x232be9=_0x3035df;this[_0x232be9(0x8a1)][_0x232be9(0x598)](_0x3f746d,_0x1424d5);}['getSubscriptionInfo'](_0x4e7342,{label:_0x2a8d9c,ownerId:_0x1e2bc7,trackKinds:_0x1621bd,params:_0x18a824}){const _0x4bf721=_0x3035df;if(_0x1e2bc7!==this[_0x4bf721(0x5bb)][_0x4bf721(0x8f4)][_0x4bf721(0x6cd)]()){const _0x27f2f1=this[_0x4bf721(0x5bb)][_0x4bf721(0x76d)][_0x4bf721(0x2ae)](_0x1e2bc7,_0x2a8d9c);return _0x27f2f1&&_0x27f2f1[_0x4bf721(0xb04)]()!==_0x4e7342?{'hasTracks':_0x27f2f1[_0x4bf721(0x94e)](_0x1621bd),'hasResolution':this[_0x4bf721(0x317)](_0x27f2f1[_0x4bf721(0x8b7)](),_0x18a824),'streamId':_0x27f2f1[_0x4bf721(0xa9a)](),'distance':this[_0x4bf721(0x5bb)][_0x4bf721(0x76d)][_0x4bf721(0x77c)](_0x4e7342,_0x1e2bc7),'subscriptionLabel':_0x2d3b44(_0x4e6bc3[_0x4bf721(0x440)],{'contentType':_0x37e813[_0x4bf721(0x859)][_0x4bf721(0x4f9)],'label':_0x27f2f1[_0x4bf721(0xa9a)](),'remoteId':_0x4e7342})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x1020ca=this[_0x4bf721(0x5bb)][_0x4bf721(0x76d)][_0x4bf721(0x5d3)](_0x2a8d9c);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x1020ca[_0x4bf721(0xa9a)](),'distance':0x0,'subscriptionLabel':_0x2d3b44(_0x4e6bc3[_0x4bf721(0x440)],{'contentType':_0x37e813[_0x4bf721(0x859)][_0x4bf721(0x4f9)],'label':_0x1020ca[_0x4bf721(0xa9a)](),'remoteId':_0x4e7342})};}[_0x3035df(0x606)](){const _0x5bb3b4=_0x3035df;return Array[_0x5bb3b4(0x6a1)](this['maps'][_0x5bb3b4(0x472)][_0x5bb3b4(0x946)]())[_0x5bb3b4(0xab2)](([_0x3b0d06,{source:_0x51bd57}])=>_0x3b0d06[_0x5bb3b4(0x569)](_0x4e6bc3[_0x5bb3b4(0x440)])&&_0x51bd57[_0x5bb3b4(0x8be)]()===_0x37e813[_0x5bb3b4(0x859)][_0x5bb3b4(0x4f9)])[_0x5bb3b4(0x68c)];}[_0x3035df(0x317)](_0x4b16c9,_0x2a66f6){const _0x28d8d0=_0x3035df;if(!_0x2a66f6||!_0x2a66f6[_0x28d8d0(0xadd)]||_0x28d8d0(0x7cb)==typeof _0x2a66f6['video']||!_0x2a66f6[_0x28d8d0(0xadd)][_0x28d8d0(0x51a)])return!0x0;const {width:_0x2ec739,height:_0xed93f}=_0x2a66f6['video'][_0x28d8d0(0x51a)];return _0x4b16c9[_0x28d8d0(0x994)]>=_0x2ec739&&_0x4b16c9['height']>=_0xed93f;}}class _0x574213{[_0x3035df(0x5bb)];[_0x3035df(0xa38)];[_0x3035df(0x783)];[_0x3035df(0x31b)];[_0x3035df(0x9fd)];['outgoingManager'];constructor(_0x162083,_0x4b14b6,_0x25b92a){const _0x4c0a0d=_0x3035df;this[_0x4c0a0d(0x5bb)]=_0x162083,this['maxOutgoingSubscriptions']=_0x4b14b6,this[_0x4c0a0d(0x783)]=_0x25b92a,this[_0x4c0a0d(0x5bb)]['mediator'][_0x4c0a0d(0x6c5)](this),this[_0x4c0a0d(0x9fd)]=new _0xc88a18(this[_0x4c0a0d(0x5bb)],this[_0x4c0a0d(0x783)]),this[_0x4c0a0d(0x6d3)]=new _0x514021(this[_0x4c0a0d(0x5bb)],this['maxOutgoingSubscriptions']);}[_0x3035df(0xb0e)](_0x14b231){const _0x2d4362=_0x3035df;this[_0x2d4362(0x31b)]=_0x14b231;}['unregisterSystemPublisher'](){const _0x36757c=_0x3035df;delete this[_0x36757c(0x31b)];}[_0x3035df(0x72f)](){const _0x1b8fe1=_0x3035df;this[_0x1b8fe1(0x9fd)][_0x1b8fe1(0x72f)](),this[_0x1b8fe1(0x6d3)][_0x1b8fe1(0x72f)](),this[_0x1b8fe1(0x5bb)]['mediator'][_0x1b8fe1(0x592)](this);}[_0x3035df(0x7f8)](_0x3d882e,_0x274a37){const _0x2a233e=_0x3035df;this[_0x2a233e(0x9fd)][_0x2a233e(0x219)](_0x3d882e,_0x274a37);}[_0x3035df(0x3e2)](_0x53b948,_0x2d288a){const _0x503bdb=_0x3035df;this['outgoingManager'][_0x503bdb(0x219)](_0x53b948,_0x2d288a);}[_0x3035df(0xb12)](_0x2927e7,_0x1a04f6,_0x25bc34=''){const _0x58b5a8=_0x3035df;this[_0x58b5a8(0x9fd)]['removeSubscription'](_0x2927e7,_0x1a04f6,_0x25bc34);}[_0x3035df(0x463)](_0x5ae8bd,_0x51380f,_0x538a33=''){const _0x5bd2f2=_0x3035df;try{this['outgoingManager'][_0x5bd2f2(0x6d9)](_0x5ae8bd,_0x51380f,_0x538a33);}catch(_0x239e37){if(_0x239e37 instanceof _0x891088&&_0x239e37[_0x5bd2f2(0x7ad)]===_0x891088[_0x5bd2f2(0x5fb)]['InvalidSubscription'])return;}}[_0x3035df(0x7f9)](_0x1e674a){const _0x17c542=_0x3035df;switch(_0x1e674a['content'][_0x17c542(0x48b)]){case _0x1a160d[_0x17c542(0x388)]:this[_0x17c542(0x209)](_0x1e674a['sourceId'],_0x1e674a[_0x17c542(0x1f0)]);break;case _0x1a160d[_0x17c542(0x4f4)]:this['outgoingManager'][_0x17c542(0x9c9)](_0x1e674a[_0x17c542(0x545)],_0x1e674a['content']);break;case _0x1a160d['NeedMediaStream']:this[_0x17c542(0x796)](_0x1e674a[_0x17c542(0x545)],_0x1e674a[_0x17c542(0x1f0)]);break;case _0x1a160d[_0x17c542(0x407)]:this[_0x17c542(0x9fd)][_0x17c542(0x20f)](_0x1e674a[_0x17c542(0x545)],_0x1e674a['content']);break;case _0x1a160d[_0x17c542(0x319)]:case _0x1a160d[_0x17c542(0xa7f)]:this['incomingManager']['handleSubscriptionProvideMediaStream'](_0x1e674a['sourceId'],_0x1e674a[_0x17c542(0x1f0)]);break;case _0x1a160d[_0x17c542(0x88d)]:this[_0x17c542(0x9fd)][_0x17c542(0x40b)](_0x1e674a[_0x17c542(0x545)],_0x1e674a['content']);}}[_0x3035df(0x5d0)](_0x28455b){const _0x161abf=_0x3035df;switch(_0x28455b[_0x161abf(0x1f0)][_0x161abf(0x48b)]){case _0x41c383[_0x161abf(0x594)]:this['incomingManager'][_0x161abf(0x27c)](_0x28455b['content']),this[_0x161abf(0x6d3)][_0x161abf(0x27c)](_0x28455b[_0x161abf(0x1f0)]);break;case _0x41c383[_0x161abf(0x388)]:this[_0x161abf(0x9fd)][_0x161abf(0x81a)](_0x28455b[_0x161abf(0x1f0)]);break;case _0x41c383['UpdateMediaStream']:this[_0x161abf(0x9fd)]['handleContentUpdateMediaStream'](_0x28455b['content']);break;case _0x41c383[_0x161abf(0x4f4)]:this[_0x161abf(0xb1c)](_0x28455b[_0x161abf(0x545)],_0x28455b[_0x161abf(0x1f0)]);break;case _0x41c383[_0x161abf(0x6d8)]:this[_0x161abf(0x6d3)][_0x161abf(0xa31)](_0x28455b[_0x161abf(0x1f0)]);break;case _0x41c383[_0x161abf(0xaa3)]:this[_0x161abf(0x447)](_0x28455b[_0x161abf(0x1f0)][_0x161abf(0x4de)],_0x37e813[_0x161abf(0x859)][_0x161abf(0x4e2)]);break;case _0x41c383['CloseObjectStoreBucket']:this[_0x161abf(0x447)](_0x28455b[_0x161abf(0x1f0)][_0x161abf(0x4de)],_0x37e813[_0x161abf(0x859)][_0x161abf(0x951)]);break;case _0x41c383['CloseExternalStorageConnection']:this[_0x161abf(0x447)](_0x28455b[_0x161abf(0x1f0)][_0x161abf(0x4de)],_0x37e813['ContentType'][_0x161abf(0x3dd)]);break;case _0x41c383[_0x161abf(0x383)]:this[_0x161abf(0x447)](_0x28455b['content'][_0x161abf(0x4de)],_0x37e813['ContentType'][_0x161abf(0xa04)]);break;case _0x41c383[_0x161abf(0x413)]:this[_0x161abf(0x447)](_0x28455b[_0x161abf(0x1f0)][_0x161abf(0x4de)],_0x37e813[_0x161abf(0x859)]['VectorDatabase']);break;case _0x41c383[_0x161abf(0x603)]:this[_0x161abf(0x447)](_0x28455b[_0x161abf(0x1f0)][_0x161abf(0x4de)],_0x37e813[_0x161abf(0x859)][_0x161abf(0x9e3)]);break;case _0x41c383[_0x161abf(0x5ae)]:case _0x41c383['CloseJobWorker']:this[_0x161abf(0x447)](_0x28455b[_0x161abf(0x1f0)]['label'],_0x37e813[_0x161abf(0x859)][_0x161abf(0x749)]);break;case _0x41c383[_0x161abf(0xac5)]:this['incomingManager'][_0x161abf(0x532)](_0x28455b['content']);}}[_0x3035df(0x2d1)]({content:_0x37c158}){const _0x59da5e=_0x3035df;_0x37c158[_0x59da5e(0x48b)]===_0x31962c[_0x59da5e(0x20b)]&&this[_0x59da5e(0x832)](_0x37c158);}[_0x3035df(0x50d)](_0x1eceb0){const _0x52df40=_0x3035df;_0x1eceb0[_0x52df40(0x1f0)][_0x52df40(0x48b)]===_0x369f7f[_0x52df40(0x5fe)]&&this[_0x52df40(0x9fd)][_0x52df40(0xa0a)](_0x1eceb0[_0x52df40(0x545)]);}['handleContentUnsubscribeMediaStream'](_0x240048,_0x54864f){const _0x488e75=_0x3035df;this[_0x488e75(0x9fd)]['handleContentUnsubscribeMediaStream'](_0x54864f),this[_0x488e75(0x6d3)]['handleContentUnsubscribeMediaStream'](_0x240048,_0x54864f)[_0x488e75(0x8fa)](_0x37ea85=>this[_0x488e75(0x31b)]['publish'](_0x37ea85));}[_0x3035df(0x209)](_0x200775,_0x14a509){const _0x4d542e=_0x3035df,_0x4c85b8=this[_0x4d542e(0x6d3)][_0x4d542e(0x209)](_0x200775,_0x14a509);if(_0x4c85b8&&(this[_0x4d542e(0x31b)][_0x4d542e(0xa4f)]({'sourceId':this[_0x4d542e(0x5bb)][_0x4d542e(0x8f4)]['getId'](),'destinationIds':[_0x200775],'messageType':_0x160b40[_0x4d542e(0x929)],'content':_0x4c85b8}),_0x4c85b8[_0x4d542e(0x48b)]===_0x1a160d[_0x4d542e(0x407)]))throw new _0x91a477(_0x4d542e(0x377));}['handleSubscriptionNeedMediaStream'](_0x2f5d4b,_0x4e5677){const _0x571c9f=_0x3035df,_0x5399f4=this[_0x571c9f(0x6d3)][_0x571c9f(0x796)](_0x2f5d4b,_0x4e5677);this[_0x571c9f(0x31b)][_0x571c9f(0xa4f)]({'sourceId':this[_0x571c9f(0x5bb)][_0x571c9f(0x8f4)][_0x571c9f(0x6cd)](),'destinationIds':[_0x2f5d4b],'messageType':_0x160b40[_0x571c9f(0x929)],'content':_0x5399f4});}[_0x3035df(0x447)](_0x5d51de,_0xd93f18){const _0x3246d9=_0x3035df;this['removeIncomingSubscription'](_0x5d51de,_0xd93f18),this[_0x3246d9(0x463)](_0x5d51de,_0xd93f18);}[_0x3035df(0x832)]({id:_0x4fc5ad}){const _0x4e01f1=_0x3035df;this[_0x4e01f1(0x9fd)]['removeSubscriptionsForNode'](_0x4fc5ad),this['outgoingManager'][_0x4e01f1(0x832)](_0x4fc5ad);}}class _0x288fba{[_0x3035df(0x4de)];[_0x3035df(0xa4a)]=_0x55a9d1();constructor(){const _0x2b713d=_0x3035df;this[_0x2b713d(0x4de)]=0x0;}['getLabel'](){const _0x39624d=_0x3035df;return this[_0x39624d(0x4de)];}[_0x3035df(0x8be)](){const _0x1e6126=_0x3035df;return _0x37e813[_0x1e6126(0x859)][_0x1e6126(0x51e)];}[_0x3035df(0x5e3)](_0x5bb845){const _0xd01944=_0x3035df;_0x5bb845[_0xd01944(0xb0e)](this);}[_0x3035df(0x238)](_0x455030){const _0x653023=_0x3035df;_0x455030[_0x653023(0x38f)]();}[_0x3035df(0xa4f)](_0x39e98f){const _0x3a1a11=_0x3035df;_0x5cdff6[_0x3a1a11(0x3e9)](_0x2a39e9[_0x3a1a11(0x9f2)],_0x3a1a11(0xa53),_0x39e98f[_0x3a1a11(0x545)],_0x39e98f),this[_0x3a1a11(0xa4a)]['publish']({'topicLabel':this[_0x3a1a11(0x4de)],'contentType':_0x37e813[_0x3a1a11(0x859)][_0x3a1a11(0x51e)],'uuid':_0x39e98f[_0x3a1a11(0x4a2)]??(0x0,_0x5b15a5['v4'])(),'recipients':_0x39e98f[_0x3a1a11(0x974)]??[],..._0x39e98f});}['subscribe'](_0x2bc353){const _0x3cecde=_0x3035df;return this[_0x3cecde(0xa4a)]['subscribe'](_0x2bc353);}}class _0x251286{[_0x3035df(0x489)];[_0x3035df(0x5a4)]=[];['maxLayer'];['remoteNodes']=new Map();[_0x3035df(0x2a0)]=_0x55a9d1();constructor(_0x3a132e){const _0x3f9245=_0x3035df;this['options']=_0x3a132e,this[_0x3f9245(0x418)]=(this['options'][_0x3f9245(0x6a2)]-0x2*this[_0x3f9245(0x489)][_0x3f9245(0x81f)])/0x2,this[_0x3f9245(0x5a4)][_0x3f9245(0x343)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x11214e=0x0;_0x11214e<this[_0x3f9245(0x418)];++_0x11214e)this[_0x3f9245(0x5a4)][_0x3f9245(0x343)]({'start':this['getNextTargetRank'](0x1,_0x11214e+0x1),'end':this['getNextTargetRank'](0x1,_0x11214e+0x2)-0x1});}[_0x3035df(0x7d5)](_0x276336,_0x292905=0x1){const _0x3d9998=_0x3035df;let _0x394f60=this[_0x3d9998(0x489)][_0x3d9998(0x783)]-this[_0x3d9998(0x489)][_0x3d9998(0x81f)],_0x5c657c=0x1;for(let _0x4107bb=0x1;_0x4107bb<_0x292905;++_0x4107bb)_0x394f60*=this[_0x3d9998(0x489)][_0x3d9998(0x783)]-this['options'][_0x3d9998(0x81f)]-_0x4107bb,_0x5c657c*=this[_0x3d9998(0x489)][_0x3d9998(0x783)]-this[_0x3d9998(0x489)]['minConnections']-_0x4107bb+0x1;return _0x394f60*this['options'][_0x3d9998(0x81f)]+_0x276336-_0x5c657c;}[_0x3035df(0x84f)](_0x2e9615){const _0x5b96a8=_0x3035df;let _0xc3a99e=0x0;for(;this[_0x5b96a8(0x5a4)][_0xc3a99e][_0x5b96a8(0x2bb)]<_0x2e9615;)_0xc3a99e+=0x1;return _0xc3a99e;}['getMinConnections'](){const _0x5e03d0=_0x3035df;return this[_0x5e03d0(0x489)][_0x5e03d0(0x81f)];}[_0x3035df(0x962)](){return this['options']['maxConnections'];}['getMaxDistance'](){const _0xde1608=_0x3035df;return this[_0xde1608(0x489)][_0xde1608(0x783)];}[_0x3035df(0x497)](){const _0x2913d=_0x3035df;return this[_0x2913d(0x5a7)];}[_0x3035df(0x2ec)](_0x269464,_0x4f258d){const _0x2c8ef6=_0x3035df;this[_0x2c8ef6(0x5a7)][_0x2c8ef6(0xac2)](_0x269464,_0x4f258d),this[_0x2c8ef6(0x2a0)][_0x2c8ef6(0xa4f)]();}[_0x3035df(0x898)](_0x4b78d3){const _0x4842ca=_0x3035df;this['remoteNodes'][_0x4842ca(0x72d)](_0x4b78d3),this[_0x4842ca(0x2a0)]['publish']();}[_0x3035df(0x8c5)](_0x500a86){const _0x11e60a=_0x3035df;return this[_0x11e60a(0x5a7)]['has'](_0x500a86);}[_0x3035df(0x522)](_0x2f68a9){const _0x51937a=_0x3035df;return this['remoteNodes'][_0x51937a(0x557)](_0x2f68a9);}[_0x3035df(0x4c4)](_0xbfd277,_0x28600d){const _0x29e2a2=_0x3035df,_0x5cfb7b=this[_0x29e2a2(0x522)](_0x28600d)?.[_0x29e2a2(0x8f0)]()??0x0;return _0xbfd277[_0x29e2a2(0x207)](_0x357c85=>this[_0x29e2a2(0x522)](_0x357c85))[_0x29e2a2(0xab2)](_0x40da4e=>void 0x0!==_0x40da4e)[_0x29e2a2(0x7aa)]((_0x5ae7f4,_0x58f32e)=>Math[_0x29e2a2(0x443)](_0x5cfb7b-(_0x5ae7f4&&_0x5ae7f4[_0x29e2a2(0x8f0)]()||0x1/0x0))-Math[_0x29e2a2(0x443)](_0x5cfb7b-(_0x58f32e&&_0x58f32e[_0x29e2a2(0x8f0)]()||0x1/0x0)))[_0x29e2a2(0x207)](_0x57b457=>_0x57b457[_0x29e2a2(0x6cd)]());}[_0x3035df(0x50a)](_0x4e6eed){const _0x548c43=_0x3035df;return this[_0x548c43(0x2a0)][_0x548c43(0x3bd)](_0x4e6eed);}}class _0x3564ff{[_0x3035df(0x7c3)];[_0x3035df(0x7b1)];[_0x3035df(0x959)];['authService'];[_0x3035df(0x489)];['configs'];[_0x3035df(0x8dc)];[_0x3035df(0x719)];[_0x3035df(0x787)];[_0x3035df(0x55f)];[_0x3035df(0x888)];[_0x3035df(0x9d8)];[_0x3035df(0x82a)];[_0x3035df(0x803)];[_0x3035df(0x2c7)];[_0x3035df(0x31b)]=new _0x288fba();[_0x3035df(0x5a1)];[_0x3035df(0x8f4)];constructor(_0x3c7910,_0x19ab60,_0x42579d,_0x3a21c7,_0x230b14,_0x3a6b10,_0x451079){const _0x5aeea8=_0x3035df;switch(this[_0x5aeea8(0x7c3)]=_0x3c7910,this[_0x5aeea8(0x7b1)]=_0x19ab60,this[_0x5aeea8(0x959)]=_0x42579d,this[_0x5aeea8(0x885)]=_0x3a21c7,this[_0x5aeea8(0x489)]=_0x230b14,this[_0x5aeea8(0x5bb)]=_0x3a6b10,this[_0x5aeea8(0x8dc)]=_0x451079,_0x42579d['type']){case _0x37e813[_0x5aeea8(0x884)]['User']:this[_0x5aeea8(0x8f4)]=new _0x14b881(_0x42579d['getId'](),_0x42579d['getDisplayName'](),_0x42579d[_0x5aeea8(0x9ad)]());break;case _0x37e813[_0x5aeea8(0x884)][_0x5aeea8(0x8c1)]:default:this['localNode']=new _0x2c3786(_0x42579d[_0x5aeea8(0x6cd)]());}const _0x100a94=this[_0x5aeea8(0x350)]();this[_0x5aeea8(0x2c7)]=new _0x251286(this[_0x5aeea8(0x489)]),this[_0x5aeea8(0x719)]=new _0x21332d(_0x100a94,this['options'],this[_0x5aeea8(0x5bb)][_0x5aeea8(0xaf1)],this[_0x5aeea8(0x5bb)][_0x5aeea8(0xa81)]),this[_0x5aeea8(0x787)]=new _0x4079fc(_0x100a94,this[_0x5aeea8(0x885)],this[_0x5aeea8(0x2c7)],this[_0x5aeea8(0x5bb)][_0x5aeea8(0x1f7)],this[_0x5aeea8(0x489)]),this['subscriptionManager']=new _0x574213(_0x100a94,this['options'][_0x5aeea8(0xa38)],this[_0x5aeea8(0x2c7)][_0x5aeea8(0x2d8)]()),this['statsManager']=new _0x567fad(_0x100a94),this[_0x5aeea8(0x9d8)]=new _0x36d313(_0x100a94),this[_0x5aeea8(0x82a)]=new _0x3a9b43(_0x100a94),this[_0x5aeea8(0x803)]=new _0x242d5a(_0x100a94,this[_0x5aeea8(0x2c7)]),this[_0x5aeea8(0x5a1)]=this[_0x5aeea8(0x813)]();}['open'](){const _0x50e377=_0x3035df,_0x21e621=this['getConfigs']();this[_0x50e377(0x787)]=new _0x4079fc(_0x21e621,this[_0x50e377(0x885)],this[_0x50e377(0x2c7)],this[_0x50e377(0x5bb)][_0x50e377(0x1f7)],this['options']),this[_0x50e377(0x55f)]=new _0x574213(_0x21e621,this[_0x50e377(0x489)][_0x50e377(0xa38)],this[_0x50e377(0x2c7)]['getMaxDistance']()),this[_0x50e377(0x888)]=new _0x567fad(_0x21e621),this[_0x50e377(0x9d8)]=new _0x36d313(_0x21e621),this['remediationManager']=new _0x3a9b43(_0x21e621),this[_0x50e377(0x803)]=new _0x242d5a(_0x21e621,this[_0x50e377(0x2c7)]);const _0x29aa2d=this[_0x50e377(0x787)][_0x50e377(0x4d5)]();this['contentManager'][_0x50e377(0x85f)]()[_0x50e377(0x8fa)](_0x144c34=>{const _0x34c28e=_0x50e377;this[_0x34c28e(0x55f)]['createOutgoingSubscription'](_0x144c34,_0x29aa2d),this[_0x34c28e(0x55f)][_0x34c28e(0x7f8)](_0x29aa2d,_0x144c34),_0x144c34[_0x34c28e(0x98b)]();}),this[_0x50e377(0x719)][_0x50e377(0x51d)]()[_0x50e377(0x8fa)](_0x463bea=>{const _0x2aba5b=_0x50e377;this[_0x2aba5b(0x55f)][_0x2aba5b(0x3e2)](_0x463bea,_0x29aa2d),this['subscriptionManager'][_0x2aba5b(0x7f8)](_0x29aa2d,_0x463bea),_0x463bea[_0x2aba5b(0x98b)](),_0x463bea[_0x2aba5b(0x699)]();}),this['contentManager']['getKeyValueDatabases']()[_0x50e377(0x8fa)](_0x3c7b6d=>{const _0x52b99a=_0x50e377;this[_0x52b99a(0x55f)][_0x52b99a(0x3e2)](_0x3c7b6d,_0x29aa2d),this[_0x52b99a(0x55f)][_0x52b99a(0x7f8)](_0x29aa2d,_0x3c7b6d),_0x3c7b6d[_0x52b99a(0x98b)](),this[_0x52b99a(0x503)](_0x3c7b6d);}),this[_0x50e377(0x719)][_0x50e377(0x581)]()[_0x50e377(0x8fa)](_0x3c3c70=>{const _0x17ab7a=_0x50e377;this[_0x17ab7a(0x55f)]['createOutgoingSubscription'](_0x3c3c70,_0x29aa2d),this[_0x17ab7a(0x55f)][_0x17ab7a(0x7f8)](_0x29aa2d,_0x3c3c70),_0x3c3c70['reset']();}),this[_0x50e377(0x719)][_0x50e377(0x465)]()[_0x50e377(0x8fa)](_0x1e1a51=>{const _0x1920eb=_0x50e377;this['subscriptionManager']['createOutgoingSubscription'](_0x1e1a51,_0x29aa2d),this[_0x1920eb(0x55f)][_0x1920eb(0x7f8)](_0x29aa2d,_0x1e1a51),_0x1e1a51[_0x1920eb(0x98b)]();}),this[_0x50e377(0x719)][_0x50e377(0x2cd)]()[_0x50e377(0x8fa)](_0x512753=>{const _0xb5cb54=_0x50e377;this[_0xb5cb54(0x55f)][_0xb5cb54(0x3e2)](_0x512753,_0x29aa2d),this[_0xb5cb54(0x55f)]['createIncomingSubscription'](_0x29aa2d,_0x512753),_0x512753[_0xb5cb54(0x98b)]();}),this[_0x50e377(0x719)][_0x50e377(0x987)]()[_0x50e377(0x8fa)](_0x3f555b=>{const _0x4023ae=_0x50e377;this['subscriptionManager'][_0x4023ae(0x3e2)](_0x3f555b,_0x29aa2d),this[_0x4023ae(0x55f)][_0x4023ae(0x7f8)](_0x29aa2d,_0x3f555b),_0x3f555b[_0x4023ae(0x98b)]();}),this[_0x50e377(0x5a1)]=this[_0x50e377(0x813)]();}[_0x3035df(0x6c5)](_0x34093c){const _0x2e1367=_0x3035df;try{this[_0x2e1367(0x31b)]['registerSource'](_0x34093c);}catch(_0x165846){this[_0x2e1367(0x514)](_0x165846,{});}}['unregisterSystemSource'](_0x33b2ab){const _0x5a4e64=_0x3035df;try{this['systemTopic'][_0x5a4e64(0x238)](_0x33b2ab);}catch(_0x42390f){this[_0x5a4e64(0x514)](_0x42390f,{});}}[_0x3035df(0x7d0)](_0x424005,_0x4585fb){const _0x83d271=_0x3035df;return this[_0x83d271(0x787)][_0x83d271(0x7d0)](_0x424005,_0x4585fb);}['getConnection'](_0xa22583){const _0xbe6a77=_0x3035df;try{return this['connectionManager'][_0xbe6a77(0x652)](_0xa22583);}catch(_0x49fc83){throw this[_0xbe6a77(0x514)](_0x49fc83,{});}}[_0x3035df(0xa20)](_0xf63eed){const _0x4d62de=_0x3035df;try{return this[_0x4d62de(0x787)][_0x4d62de(0xa20)](_0xf63eed);}catch(_0x6d9ea7){throw this[_0x4d62de(0x514)](_0x6d9ea7,{});}}[_0x3035df(0x2ae)](_0x19c2ab,_0x22f2fe){const _0x25040f=_0x3035df;try{return this[_0x25040f(0x719)][_0x25040f(0xa8c)](_0x38e5cd=>_0x38e5cd['getOwnerId']()===_0x19c2ab&&_0x38e5cd[_0x25040f(0x59f)]()===_0x22f2fe)[0x0];}catch(_0x284c4a){throw this[_0x25040f(0x514)](_0x284c4a,{});}}[_0x3035df(0x5d3)](_0x4ecf49){const _0x739ed1=_0x3035df;try{return this[_0x739ed1(0x719)]['getLocalMediaStreams'](_0x273248=>_0x273248['getLabel']()===_0x4ecf49)[0x0];}catch(_0x4e9432){throw this['handleError'](_0x4e9432,{});}}[_0x3035df(0x325)]=(..._0x77d5ae)=>{const _0x306574=_0x3035df;try{return this[_0x306574(0x8dc)]['emit'](..._0x77d5ae);}catch(_0x2e8ad9){throw this['handleError'](_0x2e8ad9,{});}};['registerRemoteNode'](_0x52d0e7){try{this['statsManager']['addRemoteNode'](_0x52d0e7);}catch(_0x2ad69c){throw this['handleError'](_0x2ad69c,{});}}[_0x3035df(0x348)](_0x94af58){const _0xbbd379=_0x3035df;try{this[_0xbbd379(0x888)][_0xbbd379(0x8cd)](_0x94af58);}catch(_0xf784f3){throw this[_0xbbd379(0x514)](_0xf784f3,{});}}[_0x3035df(0x5d4)](_0x422f52){const _0x30de0f=_0x3035df;return this[_0x30de0f(0x787)][_0x30de0f(0x5d4)](_0x422f52);}async[_0x3035df(0x3a7)](){const _0x4d1ea2=_0x3035df;try{await this[_0x4d1ea2(0x787)][_0x4d1ea2(0x3a7)]();const _0x3ff1f1=await this['nodeManager'][_0x4d1ea2(0x50e)]();for(const _0x5ce84f of _0x3ff1f1)this[_0x4d1ea2(0x787)][_0x4d1ea2(0x7d0)](_0x5ce84f);}catch(_0x2c6ce3){throw this[_0x4d1ea2(0x514)](_0x2c6ce3,{});}}[_0x3035df(0x1fd)](_0x42c1b9){const _0x21c9df=_0x3035df;this['localNode'][_0x21c9df(0x48b)]===_0x37e813[_0x21c9df(0x884)][_0x21c9df(0x86f)]&&(this[_0x21c9df(0x8f4)][_0x21c9df(0x5bc)](_0x42c1b9[_0x21c9df(0x9ad)]()),this['localNode'][_0x21c9df(0x900)](_0x42c1b9[_0x21c9df(0x982)]()));}[_0x3035df(0x72f)]({force:_0xa66aa2=!0x1},_0x5204c7=!0x1){const _0x2ab819=_0x3035df;if(_0x5cdff6[_0x2ab819(0x97a)](_0x2ab819(0xb0a),{'clusterId':this[_0x2ab819(0x7b1)],'nodeId':this[_0x2ab819(0x8f4)][_0x2ab819(0x6cd)](),'nodeType':this[_0x2ab819(0x8f4)][_0x2ab819(0x48b)]}),!_0xa66aa2&&this[_0x2ab819(0x787)][_0x2ab819(0x944)]())throw new _0x2758ff(_0x1e2529['ConnectionBufferNotEmpty'],_0x2ab819(0xad9));_0x5cdff6[_0x2ab819(0x41f)](),this[_0x2ab819(0x5a1)](),this[_0x2ab819(0x82a)]['close'](),this[_0x2ab819(0x9d8)]['close'](),this['statsManager'][_0x2ab819(0x72f)](),this[_0x2ab819(0x55f)]['close'](),this[_0x2ab819(0x787)][_0x2ab819(0x72f)](),this['contentManager']['close'](_0x5204c7),this[_0x2ab819(0x803)][_0x2ab819(0x72f)]();}[_0x3035df(0x67e)](_0x5256a0){const _0x35c2d3=_0x3035df;try{const _0x3d1720=this['contentManager'][_0x35c2d3(0x69e)](_0x5256a0),_0x464c1d=this[_0x35c2d3(0x787)][_0x35c2d3(0x4d5)]();return this['subscriptionManager'][_0x35c2d3(0x3e2)](_0x3d1720,_0x464c1d),this['subscriptionManager'][_0x35c2d3(0x7f8)](_0x464c1d,_0x3d1720),_0x3d1720;}catch(_0x497331){throw this[_0x35c2d3(0x514)](_0x497331,{});}}async[_0x3035df(0x904)](_0xa0169a,_0x2e24c5){const _0x3366b0=_0x3035df;try{const _0x2013b3=this[_0x3366b0(0x719)]['createObjectStoreBucket'](_0xa0169a,this['options'][_0x3366b0(0x731)],_0x2e24c5),_0x2f2940=this[_0x3366b0(0x787)][_0x3366b0(0x4d5)]();return this[_0x3366b0(0x55f)][_0x3366b0(0x3e2)](_0x2013b3,_0x2f2940),this[_0x3366b0(0x55f)][_0x3366b0(0x7f8)](_0x2f2940,_0x2013b3),await _0x2013b3[_0x3366b0(0x699)](),_0x2013b3;}catch(_0x522011){throw this[_0x3366b0(0x514)](_0x522011,{});}}async[_0x3035df(0x450)](_0x2e1837,_0x3138b2){const _0xbdcb0b=_0x3035df;try{if(!this['options'][_0xbdcb0b(0x25e)])throw new _0x2758ff(_0x1e2529[_0xbdcb0b(0x67a)],_0xbdcb0b(0x438));if(!(this[_0xbdcb0b(0x959)]instanceof _0x38e1b3))throw new _0x2758ff(_0x1e2529[_0xbdcb0b(0x67f)],'Node\x20is\x20not\x20an\x20agent');const _0x5cccf3=this[_0xbdcb0b(0x489)]['externalStorageConnectors']['get'](_0x3138b2);if(!_0x5cccf3)throw new _0x2758ff(_0x1e2529[_0xbdcb0b(0x67a)],'Missing\x20external\x20storage\x20connector');const _0x3a59ea=this[_0xbdcb0b(0x719)][_0xbdcb0b(0x905)](_0x2e1837,_0x5cccf3),_0x134e7e=this[_0xbdcb0b(0x787)][_0xbdcb0b(0x4d5)]();return this[_0xbdcb0b(0x55f)][_0xbdcb0b(0x3e2)](_0x3a59ea,_0x134e7e),this[_0xbdcb0b(0x55f)][_0xbdcb0b(0x7f8)](_0x134e7e,_0x3a59ea),await _0x3a59ea[_0xbdcb0b(0x4b0)](),_0x3a59ea;}catch(_0x19d7d1){throw this['handleError'](_0x19d7d1,{});}}async[_0x3035df(0x573)](_0x2c3914,_0x26d300,_0x322845){const _0x321bc1=_0x3035df;try{_0x322845=_0x322845||this[_0x321bc1(0x489)]['keyValueDatabaseConnector'];const _0x4553c7=await this[_0x321bc1(0x719)][_0x321bc1(0xaab)](_0x2c3914,_0x26d300,_0x322845),_0x4b58cb=this[_0x321bc1(0x787)][_0x321bc1(0x4d5)]();return this[_0x321bc1(0x55f)]['createOutgoingSubscription'](_0x4553c7,_0x4b58cb),this[_0x321bc1(0x55f)][_0x321bc1(0x7f8)](_0x4b58cb,_0x4553c7),await _0x4553c7[_0x321bc1(0x4b0)](),this['syncKeyValueDatabase'](_0x4553c7),_0x4553c7;}catch(_0x4e5920){throw this[_0x321bc1(0x514)](_0x4e5920,{});}}async[_0x3035df(0x66b)](_0x35eba7){const _0x25efa8=_0x3035df;try{const _0xdfb36=await this[_0x25efa8(0x719)][_0x25efa8(0x591)](_0x35eba7,this['graphService']),_0x168f3f=this[_0x25efa8(0x787)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0xdfb36,_0x168f3f),this[_0x25efa8(0x55f)][_0x25efa8(0x7f8)](_0x168f3f,_0xdfb36),_0xdfb36[_0x25efa8(0x4b0)](),_0xdfb36;}catch(_0x1b5e38){throw this[_0x25efa8(0x514)](_0x1b5e38,{});}}async[_0x3035df(0x473)](_0x52d59a){const _0x54e33f=_0x3035df;throw new Error(_0x54e33f(0x5a3));}async['openGenerativeAIContext'](_0x294ac3){const _0x4d3575=_0x3035df;try{const _0x1c6b9f=await this[_0x4d3575(0x719)]['createGenerativeAIContext'](_0x294ac3,this['graphService']),_0x3cad35=this['connectionManager']['getConnectionGroup']();return this[_0x4d3575(0x55f)]['createOutgoingSubscription'](_0x1c6b9f,_0x3cad35),this[_0x4d3575(0x55f)][_0x4d3575(0x7f8)](_0x3cad35,_0x1c6b9f),_0x1c6b9f[_0x4d3575(0x4b0)](),_0x1c6b9f;}catch(_0x48e3f2){throw console[_0x4d3575(0xa29)](_0x48e3f2),this[_0x4d3575(0x514)](_0x48e3f2,{});}}async['openGenerativeAIWorker'](_0x598c51){const _0x54f0af=_0x3035df;try{if(!this[_0x54f0af(0x489)]['generativeAIWorkerConnectors']||!this['options']['documentParserConnector']||!this[_0x54f0af(0x489)][_0x54f0af(0x47e)])throw new _0x2758ff(_0x1e2529[_0x54f0af(0x67b)],'Missing\x20AI\x20worker\x20connector');if(!(this['authNode']instanceof _0x38e1b3))throw new _0x2758ff(_0x1e2529[_0x54f0af(0x67f)],'Node\x20is\x20not\x20an\x20agent');const _0x47d763=[];for(const _0x45c910 of this[_0x54f0af(0x489)][_0x54f0af(0x6b1)])_0x47d763[_0x54f0af(0x343)](new _0x45c910());const _0x3d1a4e=new this[(_0x54f0af(0x489))]['documentParserConnector'](),_0x3469bd=new this['options'][(_0x54f0af(0x47e))]();let _0x5984b0,_0x4aa257;this[_0x54f0af(0x489)][_0x54f0af(0x299)]&&(_0x5984b0=new this[(_0x54f0af(0x489))][(_0x54f0af(0x299))]()),this[_0x54f0af(0x489)][_0x54f0af(0x3a2)]&&(_0x4aa257=new this[(_0x54f0af(0x489))]['aiSearchConnector']());const _0x552f39=await this[_0x54f0af(0x719)]['createGenerativeAIWorker'](_0x598c51,this[_0x54f0af(0x959)],_0x47d763,_0x3d1a4e,_0x3469bd,_0x5984b0,_0x4aa257),_0x2a7cb3=this['connectionManager'][_0x54f0af(0x4d5)]();this[_0x54f0af(0x55f)][_0x54f0af(0x3e2)](_0x552f39,_0x2a7cb3),this[_0x54f0af(0x55f)][_0x54f0af(0x7f8)](_0x2a7cb3,_0x552f39);const _0x5f3532=this[_0x54f0af(0x803)]['getAncestorIds']();return await _0x552f39['open'](0x0===_0x5f3532['length']||void 0x0),_0x552f39;}catch(_0x40b99e){throw this['handleError'](_0x40b99e,{});}}[_0x3035df(0x7cf)](_0x230309){const _0x2632f3=_0x3035df;try{if(!this[_0x2632f3(0x489)][_0x2632f3(0x3bf)])throw new _0x2758ff(_0x1e2529[_0x2632f3(0x4c1)],_0x2632f3(0x90c));if(!(this[_0x2632f3(0x959)]instanceof _0x38e1b3))throw new _0x2758ff(_0x1e2529[_0x2632f3(0x67f)],_0x2632f3(0x3d8));const _0x17a12b=this[_0x2632f3(0x719)]['createGraphDatabase'](_0x230309,this[_0x2632f3(0x489)][_0x2632f3(0x3bf)]),_0x4bd4ec=this[_0x2632f3(0x787)][_0x2632f3(0x4d5)]();return this[_0x2632f3(0x55f)][_0x2632f3(0x3e2)](_0x17a12b,_0x4bd4ec),this[_0x2632f3(0x55f)][_0x2632f3(0x7f8)](_0x4bd4ec,_0x17a12b),_0x17a12b;}catch(_0x105b69){throw this[_0x2632f3(0x514)](_0x105b69,{});}}[_0x3035df(0x683)](_0x1f25a1){const _0x1079fc=_0x3035df;try{if(!this[_0x1079fc(0x489)][_0x1079fc(0x9f6)])throw new _0x2758ff(_0x1e2529[_0x1079fc(0x8bc)],_0x1079fc(0x7e4));if(!(this[_0x1079fc(0x959)]instanceof _0x38e1b3))throw new _0x2758ff(_0x1e2529[_0x1079fc(0x67f)],_0x1079fc(0x3d8));const _0x195348=this[_0x1079fc(0x719)]['createVectorDatabase'](_0x1f25a1,this['options'][_0x1079fc(0x9f6)]),_0x22ceb0=this[_0x1079fc(0x787)][_0x1079fc(0x4d5)]();return this['subscriptionManager'][_0x1079fc(0x3e2)](_0x195348,_0x22ceb0),this[_0x1079fc(0x55f)][_0x1079fc(0x7f8)](_0x22ceb0,_0x195348),_0x195348;}catch(_0x1e4b8d){throw this[_0x1079fc(0x514)](_0x1e4b8d,{});}}[_0x3035df(0x85f)](_0x227e0a){const _0x382ed8=_0x3035df;try{return this[_0x382ed8(0x719)]['getPubSubTopics'](_0x227e0a);}catch(_0x144a11){throw this['handleError'](_0x144a11,{});}}['getObjectStoreBuckets'](_0x2722bd){const _0xb91782=_0x3035df;try{return this[_0xb91782(0x719)][_0xb91782(0x51d)](_0x2722bd);}catch(_0x413ed6){throw this[_0xb91782(0x514)](_0x413ed6,{});}}[_0x3035df(0x422)](_0x2b0202){const _0x177df4=_0x3035df;try{return this['contentManager'][_0x177df4(0x422)](_0x2b0202);}catch(_0x2f6556){throw this[_0x177df4(0x514)](_0x2f6556,{});}}['getKeyValueDatabases'](_0x34aa50){const _0x35bba5=_0x3035df;try{return this[_0x35bba5(0x719)][_0x35bba5(0x7bd)](_0x34aa50);}catch(_0x6b0723){throw this[_0x35bba5(0x514)](_0x6b0723,{});}}[_0x3035df(0x423)](_0x5719c6){const _0x50d045=_0x3035df;try{return this['contentManager'][_0x50d045(0x423)](_0x5719c6);}catch(_0x5256b9){throw this['handleError'](_0x5256b9,{});}}[_0x3035df(0xb17)](_0x195f09){const _0x29e59c=_0x3035df;try{return this[_0x29e59c(0x719)][_0x29e59c(0xb17)](_0x195f09);}catch(_0x5859fc){throw this[_0x29e59c(0x514)](_0x5859fc,{});}}[_0x3035df(0x987)](_0x3925c8){const _0x91f94c=_0x3035df;try{return this[_0x91f94c(0x719)]['getGraphDatabases'](_0x3925c8);}catch(_0x3f35ee){throw this[_0x91f94c(0x514)](_0x3f35ee,{});}}['createLocalMediaStream'](_0xfe3599,_0x13a5cb){const _0x360b15=_0x3035df;if(!this[_0x360b15(0x5bb)]['features'][_0x360b15(0x7c4)](_0x4b4ebc['MediaStream']))throw new _0x2758ff(_0x1e2529[_0x360b15(0x96a)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x360b15(0x719)][_0x360b15(0x6aa)](_0xfe3599,_0x13a5cb);}catch(_0x128dc3){throw this['handleError'](_0x128dc3,{});}}[_0x3035df(0x7db)](_0x474034,_0x1b298c){const _0xc82713=_0x3035df;if(!this[_0xc82713(0x5bb)][_0xc82713(0x6ba)][_0xc82713(0x7c4)](_0x4b4ebc[_0xc82713(0x936)]))throw new _0x2758ff(_0x1e2529['FeatureNotEnabled'],_0xc82713(0x225));try{return this[_0xc82713(0x719)][_0xc82713(0x7db)](_0x474034,_0x1b298c);}catch(_0x3b17fd){throw this[_0xc82713(0x514)](_0x3b17fd,{});}}[_0x3035df(0x938)](_0x4f8328){const _0x312c8c=_0x3035df;if(!this['configs'][_0x312c8c(0x6ba)][_0x312c8c(0x7c4)](_0x4b4ebc[_0x312c8c(0x936)]))throw new _0x2758ff(_0x1e2529[_0x312c8c(0x96a)],_0x312c8c(0x225));try{return this[_0x312c8c(0x719)]['getLocalMediaStreams'](_0x4f8328);}catch(_0x4a183d){throw this[_0x312c8c(0x514)](_0x4a183d,{});}}[_0x3035df(0xa8c)](_0x1e90f1){const _0x195573=_0x3035df;if(!this[_0x195573(0x5bb)][_0x195573(0x6ba)][_0x195573(0x7c4)](_0x4b4ebc[_0x195573(0x936)]))throw new _0x2758ff(_0x1e2529[_0x195573(0x96a)],_0x195573(0x225));try{return this['contentManager']['getRemoteMediaStreams'](_0x1e90f1);}catch(_0x5caf8d){throw this[_0x195573(0x514)](_0x5caf8d,{});}}[_0x3035df(0x2cd)](_0x290581){const _0x21e97f=_0x3035df;try{return this['contentManager']['getVectorDatabases'](_0x290581);}catch(_0x364c87){throw this[_0x21e97f(0x514)](_0x364c87,{});}}['getDistance'](_0x236510,_0x372033){return this['nodeManager']['getDistance'](_0x236510,_0x372033);}[_0x3035df(0x42f)](){const _0x573ba6=_0x3035df;return this[_0x573ba6(0x803)][_0x573ba6(0x42f)]();}[_0x3035df(0x497)](_0xf0a3d7){const _0x51dece=_0x3035df;try{return this[_0x51dece(0x803)]['getRemoteNodes'](_0xf0a3d7);}catch(_0x37fd5a){throw this[_0x51dece(0x514)](_0x37fd5a,{});}}[_0x3035df(0x409)](){const _0x7a0064=_0x3035df;return this['connectionManager'][_0x7a0064(0x409)]();}[_0x3035df(0x433)](_0x519d0f){const _0x14ad42=_0x3035df;return this[_0x14ad42(0x803)][_0x14ad42(0x433)](_0x519d0f);}async[_0x3035df(0x40f)](_0x422b71){const _0x293101=_0x3035df;try{if(_0x5cdff6['log'](_0x2a39e9[_0x293101(0x9f2)],_0x293101(0x45e),this[_0x293101(0x803)][_0x293101(0x96f)](),_0x422b71),_0x5bf714(_0x422b71,this['nodeManager'][_0x293101(0x96f)]()))return void this[_0x293101(0x787)][_0x293101(0x44b)](_0x422b71);switch(_0x422b71['messageType']){case _0x160b40[_0x293101(0x240)]:this[_0x293101(0x888)][_0x293101(0x5d0)](_0x422b71),this[_0x293101(0x55f)][_0x293101(0x5d0)](_0x422b71),this[_0x293101(0x719)][_0x293101(0x5d0)](_0x422b71);break;case _0x160b40[_0x293101(0x4ae)]:this[_0x293101(0x55f)][_0x293101(0x2d1)](_0x422b71),this[_0x293101(0x787)]['handleNodeSystemEvents'](_0x422b71),this[_0x293101(0x719)][_0x293101(0x2d1)](_0x422b71),this[_0x293101(0x803)][_0x293101(0x2d1)](_0x422b71);break;case _0x160b40[_0x293101(0x555)]:this['remediationManager'][_0x293101(0x34c)](_0x422b71);break;case _0x160b40[_0x293101(0x718)]:this[_0x293101(0x82a)][_0x293101(0x89f)](_0x422b71);break;case _0x160b40[_0x293101(0x667)]:this[_0x293101(0x9d8)][_0x293101(0x53e)](_0x422b71);break;case _0x160b40[_0x293101(0x929)]:_0x422b71['content']['type']!==_0x1a160d[_0x293101(0x4f4)]?(this[_0x293101(0x55f)][_0x293101(0x7f9)](_0x422b71),this[_0x293101(0x719)][_0x293101(0x7f9)](_0x422b71)):(this['contentManager'][_0x293101(0x7f9)](_0x422b71),this[_0x293101(0x55f)][_0x293101(0x7f9)](_0x422b71));break;case _0x160b40[_0x293101(0x513)]:await this[_0x293101(0x787)][_0x293101(0x50d)](_0x422b71),this[_0x293101(0x888)][_0x293101(0x50d)](_0x422b71),this['nodeManager']['handlePeerConnectionSystemEvents'](_0x422b71),this['subscriptionManager'][_0x293101(0x50d)](_0x422b71);}}catch(_0x64683b){throw _0x5cdff6[_0x293101(0x896)](_0x293101(0x40f),_0x64683b),this[_0x293101(0x514)](_0x64683b,{});}}[_0x3035df(0x514)](_0x3d10a6,_0x2649a9){const _0x5b0a8f=_0x3035df;if(!(_0x3d10a6 instanceof _0x91a477)){if(_0x3d10a6 instanceof _0x2758ff)throw _0x3d10a6;if(!(_0x3d10a6 instanceof Error))throw new _0x2758ff(_0x1e2529['InternalSDKError'],_0x5b0a8f(0xa83)+_0x3d10a6);if(!(_0x3d10a6 instanceof _0x891088))throw new _0x2758ff(_0x1e2529[_0x5b0a8f(0xa97)],_0x5b0a8f(0x512)+_0x3d10a6[_0x5b0a8f(0x2d0)]);switch(_0x3d10a6[_0x5b0a8f(0x7ad)]){case _0x891088[_0x5b0a8f(0x5fb)][_0x5b0a8f(0x6ae)]:case _0x891088[_0x5b0a8f(0x5fb)][_0x5b0a8f(0x5f6)]:case _0x891088['codes'][_0x5b0a8f(0x7d1)]:case _0x891088['codes']['ConnectionNotinitialized']:case _0x891088[_0x5b0a8f(0x5fb)][_0x5b0a8f(0x201)]:case _0x891088[_0x5b0a8f(0x5fb)][_0x5b0a8f(0x688)]:case _0x891088[_0x5b0a8f(0x5fb)][_0x5b0a8f(0x3fd)]:case _0x891088[_0x5b0a8f(0x5fb)]['InvalidSubscriber']:case _0x891088[_0x5b0a8f(0x5fb)]['SubscriptionRequestDoesNotExist']:case _0x891088['codes']['SubscriptionRequestFailed']:case _0x891088['codes'][_0x5b0a8f(0x4e5)]:case _0x891088['codes'][_0x5b0a8f(0x501)]:}throw _0x5cdff6['error'](_0x5b0a8f(0xa96)+_0x3d10a6[_0x5b0a8f(0x2d0)],{'clusterId':this[_0x5b0a8f(0x7b1)],'nodeId':this[_0x5b0a8f(0x8f4)][_0x5b0a8f(0x6cd)](),'nodeType':this[_0x5b0a8f(0x8f4)][_0x5b0a8f(0x48b)]},_0x3d10a6),new _0x2758ff(_0x1e2529[_0x5b0a8f(0xa97)],_0x5b0a8f(0x8da)+_0x3d10a6[_0x5b0a8f(0x2d0)]);}}[_0x3035df(0x350)](){const _0x10c5e9=_0x3035df;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x10c5e9(0x7b1)],'localNode':this[_0x10c5e9(0x8f4)]};}[_0x3035df(0x813)](){const _0x20cf3a=_0x3035df;return this[_0x20cf3a(0x31b)][_0x20cf3a(0x3bd)](_0x523c76=>{const _0x1bfd90=_0x20cf3a,_0x15926e=_0x504d2a(_0x523c76,this['localNode'][_0x1bfd90(0x6cd)]()),_0x2a8e21=_0x523c76[_0x1bfd90(0x82f)]===_0x160b40[_0x1bfd90(0x667)]||_0x523c76[_0x1bfd90(0x82f)]===_0x160b40['PeerConnection']&&_0x523c76[_0x1bfd90(0x1f0)][_0x1bfd90(0x48b)]===_0x369f7f[_0x1bfd90(0x667)]?_0x2a39e9['SystemStats']:_0x2a39e9['System'];_0x5cdff6['logRaw'](_0x2a8e21,_0x523c76[_0x1bfd90(0x4a2)]+_0x1bfd90(0x810)+_0x15926e,_0x523c76),this['handleSystemEvents'](_0x523c76)[_0x1bfd90(0x246)](_0x388252=>{const _0x10c12a=_0x1bfd90;console[_0x10c12a(0xa29)](_0x388252);});});}async[_0x3035df(0x503)](_0x200c7c){const _0x16f7b8=_0x3035df,{timingLogger:_0x267320,logger:_0x26597c,logBeforeSync:_0x1b2e18,logAfterSync:_0x49f22a}=function(_0x3816ec,_0x5d6bb5){const _0x114ff2=a0_0x4922;if(!_0x5cdff6['isChannelEnabled'](_0x5d6bb5))return _0x5cdff6[_0x114ff2(0x896)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x5d6bb5),{..._0x1af329(_0x3816ec,_0x5d6bb5),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x1fcd21,logger:_0x346fe3}=_0x1af329(_0x3816ec,_0x5d6bb5);let _0x41dd75=0x0;return _0x41dd75=Date[_0x114ff2(0x6de)](),{'syncStartTime':_0x41dd75,'timingLogger':_0x1fcd21,'logger':_0x346fe3,'logBeforeSync':()=>(_0x1d8a4a(_0x5d6bb5,_0x114ff2(0x7e2)),_0x1fcd21[_0x114ff2(0x6de)]()),'logAfterSync':(_0x26e1b4,_0x303b2f)=>{const _0x2ca439=_0x114ff2,_0x42b955=Date[_0x2ca439(0x6de)]();_0x1d8a4a(_0x5d6bb5,_0x2ca439(0x3ff)+_0x303b2f);const _0x100cc2=(_0x42b955-_0x41dd75)/0x3e8,_0x2b74f5=(_0x42b955-_0x26e1b4)/0x3e8;_0x5cdff6[_0x2ca439(0x3e9)](_0x5d6bb5,_0x2ca439(0xa70),_0x3816ec,'\x0a\x20===\x20Total\x20Time:\x20'+_0x100cc2[_0x2ca439(0x5c0)](0x2)+_0x2ca439(0x7bc),_0x2ca439(0x79a)+_0x2b74f5[_0x2ca439(0x5c0)](0x3)+_0x2ca439(0x7bc),_0x2ca439(0x4e8)+((_0x42b955-_0x41dd75)/0x3e8-_0x2b74f5)[_0x2ca439(0x5c0)](0x2)+_0x2ca439(0x7bc));}};}(_0x200c7c[_0x16f7b8(0x59f)](),_0x2a39e9[_0x16f7b8(0xa04)]);_0x26597c[_0x16f7b8(0x3e9)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0x51fec2=this[_0x16f7b8(0x803)][_0x16f7b8(0x8d6)]()[_0x16f7b8(0x68c)]>0x0;if(_0x51fec2){_0x26597c[_0x16f7b8(0x3e9)](_0x16f7b8(0xa7c),()=>this[_0x16f7b8(0x803)][_0x16f7b8(0x8d6)]()),_0x267320[_0x16f7b8(0x9ec)](),await Promise[_0x16f7b8(0x50f)](this[_0x16f7b8(0x803)][_0x16f7b8(0x8d6)]()[_0x16f7b8(0x207)](async _0x1b46e2=>await this[_0x16f7b8(0x803)][_0x16f7b8(0x433)](_0x1b46e2)))[_0x16f7b8(0x246)](_0x149349=>_0x5cdff6[_0x16f7b8(0x97a)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.',{'nodeId':this[_0x16f7b8(0x8f4)][_0x16f7b8(0x6cd)](),'nodeType':this[_0x16f7b8(0x8f4)]['type']}));const _0x140258=_0x26597c[_0x16f7b8(0x4ba)](()=>this[_0x16f7b8(0x803)][_0x16f7b8(0x8d6)](),[]);_0x267320['logWaitTime'](_0x16f7b8(0x766)+_0x140258+_0x16f7b8(0x4a5));}_0x49f22a(_0x1b2e18(),await _0x200c7c['sync'](_0x51fec2,async()=>{const _0x2bd0a7=_0x16f7b8;_0x267320['start'](),await this[_0x2bd0a7(0x803)][_0x2bd0a7(0x9bc)](),_0x267320[_0x2bd0a7(0x73d)]('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x200c7c[_0x2bd0a7(0x699)](!0x0,()=>{const _0x3b4d0d=_0x2bd0a7;_0x26597c[_0x3b4d0d(0x3e9)](_0x3b4d0d(0x505)),_0x200c7c['sync'](!0x1);},!0x0);}));}}class _0x37c0e6{[_0x3035df(0x7c3)];[_0x3035df(0x7b1)];[_0x3035df(0x959)];[_0x3035df(0x4f2)];[_0x3035df(0x4a9)];constructor(_0x17a00e,_0x7764b7,_0x3548f2,_0x56604a,_0x2840af,_0x2338c2,_0x5db903=new _0x7c7fc4()){const _0x5cdc3d=_0x3035df;this[_0x5cdc3d(0x7c3)]=_0x17a00e,this[_0x5cdc3d(0x7b1)]=_0x7764b7,this[_0x5cdc3d(0x959)]=_0x3548f2,this['eventEmitter']=_0x5db903,this[_0x5cdc3d(0x4a9)]=new _0x3564ff(this[_0x5cdc3d(0x7c3)],this[_0x5cdc3d(0x7b1)],_0x3548f2,_0x56604a,_0x2840af,_0x2338c2,this);}async[_0x3035df(0x95b)](){const _0x4cf3bf=_0x3035df;await this['orchestrator'][_0x4cf3bf(0x3a7)](),this['authNode'][_0x4cf3bf(0x48b)]===_0x37e813['NodeType'][_0x4cf3bf(0x86f)]&&this[_0x4cf3bf(0x959)][_0x4cf3bf(0x5cc)](this[_0x4cf3bf(0x7b1)],_0x3dc5b4=>{this['orchestrator']['updateUser'](_0x3dc5b4);});}[_0x3035df(0x4f5)](_0x523254={}){const _0x3b460b=_0x3035df;this[_0x3b460b(0x4a9)]['close'](_0x523254),this[_0x3b460b(0x959)][_0x3b460b(0x48b)]===_0x37e813[_0x3b460b(0x884)][_0x3b460b(0x86f)]&&this[_0x3b460b(0x959)][_0x3b460b(0x7a4)](this['clusterId']),this[_0x3b460b(0xa25)]('cluster-leave',void 0x0);}[_0x3035df(0x67e)](_0x52cfa9){const _0x269cf4=_0x3035df,_0x2edff2=this[_0x269cf4(0x4a9)][_0x269cf4(0x67e)](_0x52cfa9);return{'getName':_0x2edff2[_0x269cf4(0x502)][_0x269cf4(0x5bf)](_0x2edff2),'getOwnerId':_0x2edff2['getOwnerId'][_0x269cf4(0x5bf)](_0x2edff2),'getContentType':_0x2edff2[_0x269cf4(0x8be)][_0x269cf4(0x5bf)](_0x2edff2),'publish':_0x2edff2[_0x269cf4(0xa4f)][_0x269cf4(0x5bf)](_0x2edff2),'subscribe':_0x2edff2['subscribe'][_0x269cf4(0x5bf)](_0x2edff2),'unsubscribe':_0x2edff2[_0x269cf4(0x5ee)][_0x269cf4(0x5bf)](_0x2edff2),'close':_0x2edff2[_0x269cf4(0x72f)][_0x269cf4(0x5bf)](_0x2edff2)};}async[_0x3035df(0x904)](_0x2f590e,_0x5bc84f){const _0x227421=_0x3035df,_0x3f5d51=await this[_0x227421(0x4a9)][_0x227421(0x904)](_0x2f590e,_0x5bc84f);return{'getName':_0x3f5d51[_0x227421(0x502)]['bind'](_0x3f5d51),'getOwnerId':_0x3f5d51[_0x227421(0x264)][_0x227421(0x5bf)](_0x3f5d51),'getContentType':_0x3f5d51[_0x227421(0x8be)][_0x227421(0x5bf)](_0x3f5d51),'publish':_0x3f5d51[_0x227421(0xa4f)][_0x227421(0x5bf)](_0x3f5d51),'unpublish':_0x3f5d51[_0x227421(0x771)][_0x227421(0x5bf)](_0x3f5d51),'get':_0x3f5d51[_0x227421(0x557)][_0x227421(0x5bf)](_0x3f5d51),'list':_0x3f5d51[_0x227421(0xa6c)][_0x227421(0x5bf)](_0x3f5d51),'getSize':_0x3f5d51[_0x227421(0x6ea)][_0x227421(0x5bf)](_0x3f5d51),'subscribe':_0x3f5d51['subscribe'][_0x227421(0x5bf)](_0x3f5d51),'unsubscribe':_0x3f5d51['unsubscribe'][_0x227421(0x5bf)](_0x3f5d51),'close':_0x3f5d51[_0x227421(0x72f)][_0x227421(0x5bf)](_0x3f5d51)};}async[_0x3035df(0x450)](_0x1401a9,_0x4997a9){const _0x30b117=_0x3035df,_0x22387b=await this[_0x30b117(0x4a9)][_0x30b117(0x450)](_0x1401a9,_0x4997a9);return{'getName':_0x22387b[_0x30b117(0x502)][_0x30b117(0x5bf)](_0x22387b),'getOwnerId':_0x22387b['getOwnerId'][_0x30b117(0x5bf)](_0x22387b),'getContentType':_0x22387b[_0x30b117(0x8be)][_0x30b117(0x5bf)](_0x22387b),'close':_0x22387b['close']['bind'](_0x22387b),'get':_0x22387b['get'][_0x30b117(0x5bf)](_0x22387b),'list':_0x22387b[_0x30b117(0xa6c)]['bind'](_0x22387b),'subscribe':_0x22387b[_0x30b117(0x3bd)][_0x30b117(0x5bf)](_0x22387b),'unsubscribe':_0x22387b['unsubscribe'][_0x30b117(0x5bf)](_0x22387b)};}async['openKeyValueDatabase'](_0x4b1a4a,_0x582874,_0x132336){const _0x26f7ad=_0x3035df,_0x178c08=await this[_0x26f7ad(0x4a9)][_0x26f7ad(0x573)](_0x4b1a4a,_0x582874,_0x132336);return{'getName':_0x178c08[_0x26f7ad(0x502)][_0x26f7ad(0x5bf)](_0x178c08),'getOwnerId':_0x178c08['getOwnerId'][_0x26f7ad(0x5bf)](_0x178c08),'getContentType':_0x178c08['getContentType'][_0x26f7ad(0x5bf)](_0x178c08),'getTable':_0x178c08[_0x26f7ad(0x50c)][_0x26f7ad(0x5bf)](_0x178c08),'subscribe':_0x178c08[_0x26f7ad(0x3bd)][_0x26f7ad(0x5bf)](_0x178c08),'unsubscribe':_0x178c08[_0x26f7ad(0x5ee)]['bind'](_0x178c08),'close':_0x178c08[_0x26f7ad(0x72f)][_0x26f7ad(0x5bf)](_0x178c08)};}async[_0x3035df(0x66b)](_0x574e9d){const _0x145f58=_0x3035df,_0x295022=await this[_0x145f58(0x4a9)][_0x145f58(0x66b)](_0x574e9d);return{'getName':_0x295022[_0x145f58(0x502)][_0x145f58(0x5bf)](_0x295022),'getOwnerId':_0x295022['getOwnerId'][_0x145f58(0x5bf)](_0x295022),'getContentType':_0x295022['getContentType'][_0x145f58(0x5bf)](_0x295022),'createJob':_0x295022[_0x145f58(0x632)][_0x145f58(0x5bf)](_0x295022),'getJob':_0x295022[_0x145f58(0x1fc)]['bind'](_0x295022),'getJobs':_0x295022[_0x145f58(0x650)]['bind'](_0x295022),'close':_0x295022[_0x145f58(0x72f)][_0x145f58(0x5bf)](_0x295022)};}async['openJobWorker'](_0x2c5532){const _0x4d94b0=_0x3035df,_0x33f9df=await this['orchestrator'][_0x4d94b0(0x473)](_0x2c5532);return{'close':_0x33f9df[_0x4d94b0(0x72f)][_0x4d94b0(0x5bf)](_0x33f9df)};}async[_0x3035df(0x6b6)](_0x533815){const _0x38e89f=_0x3035df,_0x1c0ed3=await this[_0x38e89f(0x4a9)][_0x38e89f(0x6b6)](_0x533815);return{'createAIJob':_0x1c0ed3['createAIJob'][_0x38e89f(0x5bf)](_0x1c0ed3),'ratePrompt':_0x1c0ed3[_0x38e89f(0x3d1)][_0x38e89f(0x5bf)](_0x1c0ed3),'downloadDocument':_0x1c0ed3[_0x38e89f(0x427)][_0x38e89f(0x5bf)](_0x1c0ed3),'getDataBucketIds':_0x1c0ed3[_0x38e89f(0x8e4)][_0x38e89f(0x5bf)](_0x1c0ed3),'close':_0x1c0ed3[_0x38e89f(0x72f)][_0x38e89f(0x5bf)](_0x1c0ed3)};}async[_0x3035df(0x37b)](_0x197129){const _0x3c2f5a=_0x3035df,_0x5d9aab=await this['orchestrator'][_0x3c2f5a(0x37b)](_0x197129);return{'close':_0x5d9aab[_0x3c2f5a(0x72f)][_0x3c2f5a(0x5bf)](_0x5d9aab)};}[_0x3035df(0x7cf)](_0x1c9987){const _0x3685a4=_0x3035df,_0x4c969a=this[_0x3685a4(0x4a9)][_0x3685a4(0x7cf)](_0x1c9987);return{'getName':_0x4c969a['getName'][_0x3685a4(0x5bf)](_0x4c969a),'getOwnerId':_0x4c969a['getOwnerId'][_0x3685a4(0x5bf)](_0x4c969a),'getContentType':_0x4c969a[_0x3685a4(0x8be)][_0x3685a4(0x5bf)](_0x4c969a),'addNode':_0x4c969a['addNode'][_0x3685a4(0x5bf)](_0x4c969a),'addEdge':_0x4c969a[_0x3685a4(0x988)]['bind'](_0x4c969a),'getContent':_0x4c969a[_0x3685a4(0x349)]['bind'](_0x4c969a),'remove':_0x4c969a[_0x3685a4(0x59d)][_0x3685a4(0x5bf)](_0x4c969a),'saveToDisk':_0x4c969a[_0x3685a4(0x861)]['bind'](_0x4c969a),'loadFromDisk':_0x4c969a[_0x3685a4(0x963)][_0x3685a4(0x5bf)](_0x4c969a),'close':_0x4c969a[_0x3685a4(0x72f)][_0x3685a4(0x5bf)](_0x4c969a)};}[_0x3035df(0x683)](_0x5342fa){const _0x18ec0d=_0x3035df,_0x344d59=this[_0x18ec0d(0x4a9)][_0x18ec0d(0x683)](_0x5342fa);return{'getName':_0x344d59[_0x18ec0d(0x502)]['bind'](_0x344d59),'getOwnerId':_0x344d59[_0x18ec0d(0x264)][_0x18ec0d(0x5bf)](_0x344d59),'getContentType':_0x344d59[_0x18ec0d(0x8be)][_0x18ec0d(0x5bf)](_0x344d59),'search':_0x344d59[_0x18ec0d(0x7a7)][_0x18ec0d(0x5bf)](_0x344d59),'insert':_0x344d59['insert'][_0x18ec0d(0x5bf)](_0x344d59),'remove':_0x344d59[_0x18ec0d(0x59d)][_0x18ec0d(0x5bf)](_0x344d59),'saveToDisk':_0x344d59[_0x18ec0d(0x861)][_0x18ec0d(0x5bf)](_0x344d59),'loadFromDisk':_0x344d59[_0x18ec0d(0x963)]['bind'](_0x344d59),'close':_0x344d59[_0x18ec0d(0x72f)]['bind'](_0x344d59)};}[_0x3035df(0x85f)](_0x37ddb7){const _0x3542a0=_0x3035df;return this['orchestrator'][_0x3542a0(0x85f)](_0x37ddb7)['map'](_0x305ebf=>({'getName':_0x305ebf['getName']['bind'](_0x305ebf),'getOwnerId':_0x305ebf['getOwnerId'][_0x3542a0(0x5bf)](_0x305ebf),'getContentType':_0x305ebf[_0x3542a0(0x8be)][_0x3542a0(0x5bf)](_0x305ebf),'publish':_0x305ebf[_0x3542a0(0xa4f)][_0x3542a0(0x5bf)](_0x305ebf),'subscribe':_0x305ebf[_0x3542a0(0x3bd)]['bind'](_0x305ebf),'unsubscribe':_0x305ebf[_0x3542a0(0x5ee)][_0x3542a0(0x5bf)](_0x305ebf),'close':_0x305ebf[_0x3542a0(0x72f)][_0x3542a0(0x5bf)](_0x305ebf)}));}['getObjectStoreBuckets'](_0x542b8f){const _0x455673=_0x3035df;return this[_0x455673(0x4a9)]['getObjectStoreBuckets'](_0x542b8f)[_0x455673(0x207)](_0x5ae53b=>({'getName':_0x5ae53b[_0x455673(0x502)][_0x455673(0x5bf)](_0x5ae53b),'getOwnerId':_0x5ae53b['getOwnerId'][_0x455673(0x5bf)](_0x5ae53b),'getContentType':_0x5ae53b['getContentType'][_0x455673(0x5bf)](_0x5ae53b),'publish':_0x5ae53b[_0x455673(0xa4f)][_0x455673(0x5bf)](_0x5ae53b),'unpublish':_0x5ae53b[_0x455673(0x771)][_0x455673(0x5bf)](_0x5ae53b),'get':_0x5ae53b[_0x455673(0x557)][_0x455673(0x5bf)](_0x5ae53b),'list':_0x5ae53b[_0x455673(0xa6c)]['bind'](_0x5ae53b),'getSize':_0x5ae53b[_0x455673(0x6ea)][_0x455673(0x5bf)](_0x5ae53b),'subscribe':_0x5ae53b[_0x455673(0x3bd)]['bind'](_0x5ae53b),'unsubscribe':_0x5ae53b[_0x455673(0x5ee)][_0x455673(0x5bf)](_0x5ae53b),'close':_0x5ae53b[_0x455673(0x72f)][_0x455673(0x5bf)](_0x5ae53b)}));}[_0x3035df(0x422)](_0x1cdfe4){const _0x640925=_0x3035df;return this[_0x640925(0x4a9)][_0x640925(0x422)](_0x1cdfe4)[_0x640925(0x207)](_0x441b70=>({'getName':_0x441b70['getName']['bind'](_0x441b70),'getOwnerId':_0x441b70[_0x640925(0x264)][_0x640925(0x5bf)](_0x441b70),'getContentType':_0x441b70['getContentType'][_0x640925(0x5bf)](_0x441b70),'close':_0x441b70[_0x640925(0x72f)][_0x640925(0x5bf)](_0x441b70),'get':_0x441b70[_0x640925(0x557)][_0x640925(0x5bf)](_0x441b70),'list':_0x441b70[_0x640925(0xa6c)][_0x640925(0x5bf)](_0x441b70),'subscribe':_0x441b70['subscribe'][_0x640925(0x5bf)](_0x441b70),'unsubscribe':_0x441b70['unsubscribe'][_0x640925(0x5bf)](_0x441b70)}));}[_0x3035df(0x7bd)](_0x47b35f){const _0x5297dc=_0x3035df;return this['orchestrator'][_0x5297dc(0x7bd)](_0x47b35f)[_0x5297dc(0x207)](_0x1e4c17=>({'getName':_0x1e4c17[_0x5297dc(0x502)][_0x5297dc(0x5bf)](_0x1e4c17),'getOwnerId':_0x1e4c17['getOwnerId'][_0x5297dc(0x5bf)](_0x1e4c17),'getContentType':_0x1e4c17[_0x5297dc(0x8be)]['bind'](_0x1e4c17),'getTable':_0x1e4c17[_0x5297dc(0x50c)][_0x5297dc(0x5bf)](_0x1e4c17),'subscribe':_0x1e4c17[_0x5297dc(0x3bd)][_0x5297dc(0x5bf)](_0x1e4c17),'unsubscribe':_0x1e4c17[_0x5297dc(0x5ee)]['bind'](_0x1e4c17),'close':_0x1e4c17[_0x5297dc(0x72f)]['bind'](_0x1e4c17)}));}['getGenerativeAIContexts'](_0x467c30){const _0x2b4b49=_0x3035df;return this[_0x2b4b49(0x4a9)]['getGenerativeAIContexts'](_0x467c30)[_0x2b4b49(0x207)](_0x5c5474=>({'createAIJob':_0x5c5474[_0x2b4b49(0x995)]['bind'](_0x5c5474),'ratePrompt':_0x5c5474[_0x2b4b49(0x3d1)][_0x2b4b49(0x5bf)](_0x5c5474),'downloadDocument':_0x5c5474[_0x2b4b49(0x427)]['bind'](_0x5c5474),'getDataBucketIds':_0x5c5474[_0x2b4b49(0x8e4)][_0x2b4b49(0x5bf)](_0x5c5474),'close':_0x5c5474['close'][_0x2b4b49(0x5bf)](_0x5c5474)}));}['getGenerativeAIWorkers'](_0x165f35){const _0x16e70a=_0x3035df;return this[_0x16e70a(0x4a9)][_0x16e70a(0xb17)](_0x165f35)[_0x16e70a(0x207)](_0x2e78da=>({'close':_0x2e78da[_0x16e70a(0x72f)][_0x16e70a(0x5bf)](_0x2e78da)}));}['publishLocalMediaStream'](_0x4b1ecd,_0x12ffce){const _0x1f4318=_0x3035df,_0x18d623=this['orchestrator']['createLocalMediaStream'](_0x4b1ecd,_0x12ffce);return{'getLabel':_0x18d623[_0x1f4318(0x59f)][_0x1f4318(0x5bf)](_0x18d623),'getOwnerId':_0x18d623[_0x1f4318(0x264)][_0x1f4318(0x5bf)](_0x18d623),'getContentType':_0x18d623[_0x1f4318(0x8be)]['bind'](_0x18d623),'getMediaStream':_0x18d623['getMediaStream']['bind'](_0x18d623),'setPriority':_0x18d623['setPriority'][_0x1f4318(0x5bf)](_0x18d623),'unpublish':_0x18d623[_0x1f4318(0x771)][_0x1f4318(0x5bf)](_0x18d623)};}[_0x3035df(0x92b)](_0x14fa68,_0x92b620){const _0x471fcb=_0x3035df,_0x1a9bc2=this[_0x471fcb(0x4a9)][_0x471fcb(0x7db)](_0x14fa68,_0x92b620);return{'getLabel':_0x1a9bc2[_0x471fcb(0x59f)]['bind'](_0x1a9bc2),'getOwnerId':_0x1a9bc2[_0x471fcb(0x264)][_0x471fcb(0x5bf)](_0x1a9bc2),'getContentType':_0x1a9bc2['getContentType'][_0x471fcb(0x5bf)](_0x1a9bc2),'setPriority':_0x1a9bc2[_0x471fcb(0x8d1)][_0x471fcb(0x5bf)](_0x1a9bc2),'unpublish':_0x1a9bc2[_0x471fcb(0x771)]['bind'](_0x1a9bc2),'getMediaStream':_0x1a9bc2['getMediaStream'][_0x471fcb(0x5bf)](_0x1a9bc2),'addTrack':_0x1a9bc2['addTrack'][_0x471fcb(0x5bf)](_0x1a9bc2),'removeTrack':_0x1a9bc2[_0x471fcb(0xab6)]['bind'](_0x1a9bc2),'replaceTrack':_0x1a9bc2['replaceTrack'][_0x471fcb(0x5bf)](_0x1a9bc2),'setTransformations':_0x1a9bc2[_0x471fcb(0x4d6)][_0x471fcb(0x5bf)](_0x1a9bc2)};}[_0x3035df(0x938)](_0x52c515){const _0x102586=_0x3035df;return this[_0x102586(0x4a9)][_0x102586(0x938)](_0x52c515)[_0x102586(0x207)](_0x4ca2d7=>({'getLabel':_0x4ca2d7[_0x102586(0x59f)][_0x102586(0x5bf)](_0x4ca2d7),'getOwnerId':_0x4ca2d7[_0x102586(0x264)][_0x102586(0x5bf)](_0x4ca2d7),'getContentType':_0x4ca2d7['getContentType']['bind'](_0x4ca2d7),'getMediaStream':_0x4ca2d7['getMediaStream'][_0x102586(0x5bf)](_0x4ca2d7),'setPriority':_0x4ca2d7[_0x102586(0x8d1)][_0x102586(0x5bf)](_0x4ca2d7),'unpublish':_0x4ca2d7[_0x102586(0x771)][_0x102586(0x5bf)](_0x4ca2d7)}));}[_0x3035df(0xa8c)](_0x72136e){const _0x48d170=_0x3035df;return this['orchestrator'][_0x48d170(0xa8c)](_0x72136e)[_0x48d170(0x207)](_0x1a6f74=>({'getLabel':_0x1a6f74['getLabel'][_0x48d170(0x5bf)](_0x1a6f74),'getOwnerId':_0x1a6f74[_0x48d170(0x264)][_0x48d170(0x5bf)](_0x1a6f74),'getContentType':_0x1a6f74[_0x48d170(0x8be)][_0x48d170(0x5bf)](_0x1a6f74),'getMediaStream':_0x1a6f74['getMediaStream'][_0x48d170(0x5bf)](_0x1a6f74),'subscribe':_0x1a6f74[_0x48d170(0x3bd)][_0x48d170(0x5bf)](_0x1a6f74),'unsubscribe':_0x1a6f74[_0x48d170(0x5ee)]['bind'](_0x1a6f74),'getAvailableTrackKinds':_0x1a6f74[_0x48d170(0x81b)][_0x48d170(0x5bf)](_0x1a6f74),'update':_0x1a6f74['update'][_0x48d170(0x5bf)](_0x1a6f74),'onProviderChange':_0x1a6f74[_0x48d170(0x85c)][_0x48d170(0x5bf)](_0x1a6f74)}));}[_0x3035df(0x987)](_0xd6c0d9){const _0x2923f7=_0x3035df;return this[_0x2923f7(0x4a9)][_0x2923f7(0x987)](_0xd6c0d9)[_0x2923f7(0x207)](_0x2a94c7=>({'getName':_0x2a94c7[_0x2923f7(0x502)][_0x2923f7(0x5bf)](_0x2a94c7),'getOwnerId':_0x2a94c7['getOwnerId'][_0x2923f7(0x5bf)](_0x2a94c7),'getContentType':_0x2a94c7[_0x2923f7(0x8be)]['bind'](_0x2a94c7),'addNode':_0x2a94c7[_0x2923f7(0xa85)][_0x2923f7(0x5bf)](_0x2a94c7),'addEdge':_0x2a94c7[_0x2923f7(0x988)][_0x2923f7(0x5bf)](_0x2a94c7),'getContent':_0x2a94c7[_0x2923f7(0x349)][_0x2923f7(0x5bf)](_0x2a94c7),'remove':_0x2a94c7[_0x2923f7(0x59d)][_0x2923f7(0x5bf)](_0x2a94c7),'saveToDisk':_0x2a94c7['saveToDisk'][_0x2923f7(0x5bf)](_0x2a94c7),'loadFromDisk':_0x2a94c7[_0x2923f7(0x963)]['bind'](_0x2a94c7),'close':_0x2a94c7[_0x2923f7(0x72f)]['bind'](_0x2a94c7)}));}['getVectorDatabases'](_0x37e417){const _0x4ace7f=_0x3035df;return this['orchestrator'][_0x4ace7f(0x2cd)](_0x37e417)[_0x4ace7f(0x207)](_0x137fd0=>({'getName':_0x137fd0[_0x4ace7f(0x502)]['bind'](_0x137fd0),'getOwnerId':_0x137fd0[_0x4ace7f(0x264)][_0x4ace7f(0x5bf)](_0x137fd0),'getContentType':_0x137fd0[_0x4ace7f(0x8be)][_0x4ace7f(0x5bf)](_0x137fd0),'search':_0x137fd0[_0x4ace7f(0x7a7)]['bind'](_0x137fd0),'insert':_0x137fd0[_0x4ace7f(0x3d2)][_0x4ace7f(0x5bf)](_0x137fd0),'remove':_0x137fd0[_0x4ace7f(0x59d)]['bind'](_0x137fd0),'saveToDisk':_0x137fd0[_0x4ace7f(0x861)][_0x4ace7f(0x5bf)](_0x137fd0),'loadFromDisk':_0x137fd0['loadFromDisk'][_0x4ace7f(0x5bf)](_0x137fd0),'close':_0x137fd0[_0x4ace7f(0x72f)][_0x4ace7f(0x5bf)](_0x137fd0)}));}[_0x3035df(0x42f)](){const _0x464adf=_0x3035df,_0x186124=this[_0x464adf(0x4a9)][_0x464adf(0x42f)]();switch(_0x186124[_0x464adf(0x48b)]){case _0x37e813['NodeType'][_0x464adf(0x86f)]:return{'type':_0x37e813['NodeType']['User'],'getId':_0x186124[_0x464adf(0x6cd)][_0x464adf(0x5bf)](_0x186124),'getDisplayName':_0x186124[_0x464adf(0x982)][_0x464adf(0x5bf)](_0x186124),'getEmail':_0x186124[_0x464adf(0x9ad)][_0x464adf(0x5bf)](_0x186124),'getRemoteConnections':_0x186124[_0x464adf(0x346)][_0x464adf(0x5bf)](_0x186124),'setDisplayName':_0x186124[_0x464adf(0x900)][_0x464adf(0x5bf)](_0x186124),'setEmail':_0x186124[_0x464adf(0x5bc)]['bind'](_0x186124)};case _0x37e813[_0x464adf(0x884)][_0x464adf(0x8c1)]:default:return{'type':_0x37e813['NodeType'][_0x464adf(0x8c1)],'getId':_0x186124['getId'][_0x464adf(0x5bf)](_0x186124),'getRemoteConnections':_0x186124['getRemoteConnections'][_0x464adf(0x5bf)](_0x186124)};}}[_0x3035df(0x497)](_0x277dd5){const _0x284b12=_0x3035df;return this[_0x284b12(0x4a9)][_0x284b12(0x497)](_0x277dd5)[_0x284b12(0x207)](_0x3b5379=>{const _0x20b2e7=_0x284b12;switch(_0x3b5379[_0x20b2e7(0x48b)]){case _0x37e813['NodeType'][_0x20b2e7(0x86f)]:return{'type':_0x37e813[_0x20b2e7(0x884)][_0x20b2e7(0x86f)],'getId':_0x3b5379[_0x20b2e7(0x6cd)][_0x20b2e7(0x5bf)](_0x3b5379),'getDisplayName':_0x3b5379['getDisplayName']['bind'](_0x3b5379),'getEmail':_0x3b5379[_0x20b2e7(0x9ad)][_0x20b2e7(0x5bf)](_0x3b5379),'getRemoteConnections':_0x3b5379[_0x20b2e7(0x346)]['bind'](_0x3b5379)};case _0x37e813[_0x20b2e7(0x884)][_0x20b2e7(0x8c1)]:return{'type':_0x37e813[_0x20b2e7(0x884)]['Agent'],'getId':_0x3b5379[_0x20b2e7(0x6cd)][_0x20b2e7(0x5bf)](_0x3b5379),'getRemoteConnections':_0x3b5379[_0x20b2e7(0x346)][_0x20b2e7(0x5bf)](_0x3b5379)};default:throw new _0x2758ff(_0x1e2529['NodeInvalidType'],_0x20b2e7(0xb25));}});}['on']=(..._0x2c3727)=>{const _0x35ca25=_0x3035df;this[_0x35ca25(0x4f2)]['on'](..._0x2c3727);};[_0x3035df(0xa25)]=(..._0x522ecb)=>this['eventEmitter']['emit'](..._0x522ecb);[_0x3035df(0x63f)](..._0x283aff){const _0x64deb6=_0x3035df;this[_0x64deb6(0x4f2)][_0x64deb6(0x63f)](..._0x283aff);}}class _0x1fd11e{['id'];['displayName'];[_0x3035df(0x4cb)];['type']=_0x37e813[_0x3035df(0x884)][_0x3035df(0x86f)];[_0x3035df(0x774)]=new Map();[_0x3035df(0x91f)]=_0x55a9d1();constructor(_0x309cbf,_0x541ecb,_0x2afc94){const _0x244075=_0x3035df;this['id']=_0x309cbf,this[_0x244075(0xaaf)]=_0x541ecb,this[_0x244075(0x4cb)]=_0x2afc94;}[_0x3035df(0x6cd)](){return this['id'];}[_0x3035df(0x982)](){const _0x1f13f0=_0x3035df;return this[_0x1f13f0(0xaaf)];}[_0x3035df(0x9ad)](){return this['email'];}[_0x3035df(0x900)](_0x2ff7d3){const _0x2abf98=_0x3035df;this[_0x2abf98(0xaaf)]!==_0x2ff7d3&&(this[_0x2abf98(0xaaf)]=_0x2ff7d3,this[_0x2abf98(0x91f)][_0x2abf98(0xa4f)](this));}['setEmail'](_0x404f4a){const _0xde506c=_0x3035df;this['email']!==_0x404f4a&&(this[_0xde506c(0x4cb)]=_0x404f4a,this['observer'][_0xde506c(0xa4f)](this));}[_0x3035df(0x5cc)](_0x5b35b6,_0x483d1b){const _0x384e89=_0x3035df;if(this[_0x384e89(0x774)][_0x384e89(0x5e8)](_0x5b35b6))return;const _0x593ae9=this[_0x384e89(0x91f)][_0x384e89(0x3bd)](_0x483d1b);this[_0x384e89(0x774)][_0x384e89(0xac2)](_0x5b35b6,_0x593ae9);}[_0x3035df(0x7a4)](_0x1ed02a){const _0x3020a9=_0x3035df;if(!this[_0x3020a9(0x774)][_0x3020a9(0x5e8)](_0x1ed02a))return;const _0xab1e5e=this['joinedClusters'][_0x3020a9(0x557)](_0x1ed02a);_0xab1e5e&&_0xab1e5e(),this[_0x3020a9(0x774)][_0x3020a9(0x72d)](_0x1ed02a);}}class _0x45ab87{[_0x3035df(0x7c3)];['user'];constructor(_0x23a518){const _0x4d1035=_0x3035df;this[_0x4d1035(0x7c3)]=_0x23a518;}async['signInWithCredential'](_0x2de0c7){const _0x4ac808=_0x3035df,_0x28e860=await(0x0,_0xed4a33[_0x4ac808(0x792)])(_0x1d88af[_0x4ac808(0x2d2)](),'sdkCreateToken')({'uid':'ccc'+this['vendorId']+'ccc'+_0x2de0c7['id']}),_0x1232b2=await(0x0,_0x3cdb0d[_0x4ac808(0x9b4)])(_0x1d88af['getAuth'](),_0x28e860[_0x4ac808(0x937)]['token']);this['user']=_0x1232b2[_0x4ac808(0x891)];}async[_0x3035df(0x8ef)](){const _0xaa6fbe=_0x3035df;await(0x0,_0x3cdb0d[_0xaa6fbe(0x8ef)])(_0x1d88af[_0xaa6fbe(0x570)]());}[_0x3035df(0x924)](){const _0x5b3d9a=_0x3035df;return this['user']?.[_0x5b3d9a(0x924)]()??Promise['reject']('User\x20not\x20signed\x20in');}}class _0x360f00{static [_0x3035df(0xa28)];[_0x3035df(0x3ee)]=[];constructor(){}static[_0x3035df(0x98c)](){const _0x2227e0=_0x3035df;return _0x360f00[_0x2227e0(0xa28)]||(_0x360f00['instance']=new _0x360f00()),_0x360f00['instance'];}['initialize'](){const _0x54c7bf=_0x3035df;this[_0x54c7bf(0x260)](),this[_0x54c7bf(0x78c)](),this[_0x54c7bf(0x285)](),this[_0x54c7bf(0x671)](),this['checkDeviceConfig'](),this[_0x54c7bf(0x850)](),this['checkMediaRecording'](),this['checkBackgrounds'](),this['checkWebGL'](),this[_0x54c7bf(0x202)](),_0x5cdff6[_0x54c7bf(0x3e9)](_0x2a39e9[_0x54c7bf(0x4f6)],_0x54c7bf(0x93e),{'featureSupport':this[_0x54c7bf(0x3ee)]});}[_0x3035df(0xa32)](_0x39f1c5){const _0x2bacf3=_0x3035df,_0x3a8d96=this[_0x2bacf3(0x3ee)]['find'](_0x502ca0=>_0x502ca0[_0x2bacf3(0x72a)]===_0x39f1c5);return!!_0x3a8d96&&_0x3a8d96[_0x2bacf3(0x7cd)];}['logSupport'](_0x4d4fad){const _0x40e7ed=_0x3035df;_0x5cdff6[_0x40e7ed(0x7df)](_0x40e7ed(0x5ef),{'nodeId':_0x4d4fad[_0x40e7ed(0x6cd)](),'nodeType':_0x4d4fad[_0x40e7ed(0x48b)],'data':{'featureSupport':this[_0x40e7ed(0x3ee)]}});}[_0x3035df(0x260)](){const _0x34dda1=_0x3035df,_0x4c77b2=_0xb3a6aa[_0x34dda1(0x9c8)];let _0x3be81d=!0x1;'function'==typeof RTCPeerConnection&&_0x34dda1(0x27b)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x3be81d=!0x0:_0x5cdff6[_0x34dda1(0x3e9)](_0x2a39e9[_0x34dda1(0x4f6)],_0x34dda1(0x28d)+_0x4c77b2+_0x34dda1(0x2af)),this['featureSupport'][_0x34dda1(0x343)]({'name':_0x4c77b2,'supported':_0x3be81d});}[_0x3035df(0x78c)](){const _0x549aa1=_0x3035df,_0x40a3d0=_0xb3a6aa['MediaStream'];let _0x2186f6=!0x1;_0x549aa1(0x27b)==typeof MediaStream&&_0x549aa1(0x27b)==typeof MediaStreamTrack&&_0x549aa1(0x7dc)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x549aa1(0x27b)==typeof navigator[_0x549aa1(0x303)]['getUserMedia']?_0x2186f6=!0x0:_0x5cdff6[_0x549aa1(0x3e9)](_0x2a39e9[_0x549aa1(0x4f6)],_0x549aa1(0x28d)+_0x40a3d0+_0x549aa1(0x2af)),this[_0x549aa1(0x3ee)]['push']({'name':_0x40a3d0,'supported':_0x2186f6});}[_0x3035df(0x285)](){const _0x60208b=_0x3035df,_0x3a7d1e=_0xb3a6aa[_0x60208b(0x54e)];let _0x1da9e1=!0x1;_0x60208b(0x7dc)==typeof navigator&&_0x60208b(0x7dc)==typeof navigator[_0x60208b(0x303)]&&'function'==typeof navigator['mediaDevices'][_0x60208b(0x3ac)]?_0x1da9e1=!0x0:_0x5cdff6[_0x60208b(0x3e9)](_0x2a39e9[_0x60208b(0x4f6)],_0x60208b(0x28d)+_0x3a7d1e+_0x60208b(0x2af)),this['featureSupport']['push']({'name':_0x3a7d1e,'supported':_0x1da9e1});}[_0x3035df(0x671)](){const _0x4278f8=_0x3035df,_0x338448=_0xb3a6aa[_0x4278f8(0x60b)];let _0x1e9270=!0x1;_0x4278f8(0x27b)!=typeof AudioContext||_0x4278f8(0x27b)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x4278f8(0x27b)!=typeof MediaStreamAudioSourceNode?_0x5cdff6[_0x4278f8(0x3e9)](_0x2a39e9[_0x4278f8(0x4f6)],_0x4278f8(0x28d)+_0x338448+_0x4278f8(0x2af)):_0x1e9270=!0x0,this[_0x4278f8(0x3ee)][_0x4278f8(0x343)]({'name':_0x338448,'supported':_0x1e9270});}[_0x3035df(0x9fb)](){const _0x3ce0ea=_0x3035df,_0xaec959=_0xb3a6aa[_0x3ce0ea(0x576)];let _0x46438e=!0x1;_0x3ce0ea(0x7dc)==typeof navigator&&_0x3ce0ea(0x7dc)==typeof navigator[_0x3ce0ea(0x303)]&&_0x3ce0ea(0x27b)==typeof navigator[_0x3ce0ea(0x303)][_0x3ce0ea(0x8c6)]&&_0x3ce0ea(0x27b)==typeof MediaDeviceInfo?_0x46438e=!0x0:_0x5cdff6[_0x3ce0ea(0x3e9)](_0x2a39e9[_0x3ce0ea(0x4f6)],_0x3ce0ea(0x28d)+_0xaec959+_0x3ce0ea(0x2af)),this[_0x3ce0ea(0x3ee)]['push']({'name':_0xaec959,'supported':_0x46438e});}[_0x3035df(0x850)](){const _0x2eb2d4=_0x3035df,_0x410f17=_0xb3a6aa[_0x2eb2d4(0x436)];let _0x2da10d=!0x1;_0x2eb2d4(0x7dc)==typeof document&&'function'==typeof document[_0x2eb2d4(0x43d)](_0x2eb2d4(0xadd))[_0x2eb2d4(0x9b8)]?_0x2da10d=!0x0:_0x5cdff6['log'](_0x2a39e9[_0x2eb2d4(0x4f6)],'Support:\x20'+_0x410f17+_0x2eb2d4(0x2af)),this['featureSupport'][_0x2eb2d4(0x343)]({'name':_0x410f17,'supported':_0x2da10d});}async['checkMediaRecording'](){const _0x1d5e17=_0x3035df,_0x245537=_0xb3a6aa[_0x1d5e17(0x6ad)];let _0x5a0136=!0x1;try{const _0xebf052=document[_0x1d5e17(0x43d)](_0x1d5e17(0x441));if(MediaRecorder&&MediaSource&&_0xebf052[_0x1d5e17(0xb05)]){const _0x24047a=_0xebf052[_0x1d5e17(0xb05)](),_0x4204a8=new MediaRecorder(_0x24047a);_0x4204a8[_0x1d5e17(0x9ec)](),await new Promise(_0x18e103=>setTimeout(_0x18e103,0x7d0)),_0x4204a8[_0x1d5e17(0x2e1)](),_0x5a0136=_0x1d5e17(0x5d8)===_0x4204a8['state'];}}catch(_0x4a77bb){_0x5cdff6[_0x1d5e17(0x3e9)](_0x2a39e9[_0x1d5e17(0x4f6)],_0x1d5e17(0x28d)+_0x245537+_0x1d5e17(0x93d),_0x4a77bb);}this[_0x1d5e17(0x3ee)][_0x1d5e17(0x343)]({'name':_0x245537,'supported':_0x5a0136}),_0x5a0136||_0x5cdff6[_0x1d5e17(0x3e9)](_0x2a39e9['Support'],'Support:\x20'+_0x245537+'\x20not\x20supported');}[_0x3035df(0x56c)](){const _0x1480ce=_0x3035df,_0x250727=_0xb3a6aa[_0x1480ce(0x42a)];let _0x548afb=!0x1;try{document[_0x1480ce(0x43d)]('canvas')[_0x1480ce(0xb05)]&&(_0x548afb=!0x0);}catch(_0x90b40b){_0x5cdff6['log'](_0x2a39e9[_0x1480ce(0x4f6)],_0x1480ce(0x28d)+_0x250727+_0x1480ce(0x93d),_0x90b40b);}this[_0x1480ce(0x3ee)][_0x1480ce(0x343)]({'name':_0x250727,'supported':_0x548afb}),_0x548afb||_0x5cdff6['log'](_0x2a39e9[_0x1480ce(0x4f6)],'Support:\x20'+_0x250727+_0x1480ce(0x2af));}[_0x3035df(0x457)](){const _0x4837a7=_0x3035df,_0x22f769=_0xb3a6aa[_0x4837a7(0x30c)];let _0x824a23=!0x1;try{const _0x515b2a=document[_0x4837a7(0x43d)](_0x4837a7(0x441));WebGLRenderingContext&&_0x515b2a['getContext'](_0x4837a7(0x479))&&(_0x824a23=!0x0);}catch(_0x350610){_0x5cdff6[_0x4837a7(0x3e9)](_0x2a39e9[_0x4837a7(0x4f6)],_0x4837a7(0x28d)+_0x22f769+_0x4837a7(0x93d),_0x350610);}this[_0x4837a7(0x3ee)][_0x4837a7(0x343)]({'name':_0x22f769,'supported':_0x824a23}),_0x824a23||_0x5cdff6[_0x4837a7(0x3e9)](_0x2a39e9[_0x4837a7(0x4f6)],_0x4837a7(0x28d)+_0x22f769+_0x4837a7(0x2af));}[_0x3035df(0x202)](){const _0x56f3d7=_0x3035df,_0x1d273e=_0xb3a6aa['AudioContext'];let _0x3a4a4e=!0x1;_0x56f3d7(0x27b)==typeof AudioContext?_0x3a4a4e=!0x0:_0x5cdff6[_0x56f3d7(0x3e9)](_0x2a39e9[_0x56f3d7(0x4f6)],'Support:\x20'+_0x1d273e+_0x56f3d7(0x2af)),this['featureSupport'][_0x56f3d7(0x343)]({'name':_0x1d273e,'supported':_0x3a4a4e});}}const _0x260d91=_0x360f00[_0x3035df(0x98c)]();class _0x479146{static [_0x3035df(0xa28)];static [_0x3035df(0x5ee)];static [_0x3035df(0x322)];[_0x3035df(0x885)];[_0x3035df(0x7c3)];['options'];[_0x3035df(0x5bb)];['clusters']=new Map();[_0x3035df(0x881)];constructor(_0x2a933a,_0x10fbca,_0x520274){const _0x577678=_0x3035df;this[_0x577678(0x7c3)]=_0x2a933a,this[_0x577678(0x5bb)]=_0x10fbca,this[_0x577678(0x885)]=new _0x45ab87(this['vendorId']),_0x260d91['initialize'](),this['options']={'audioContext':_0x520274?.[_0x577678(0x6e4)]??(_0x260d91[_0x577678(0xa32)](_0xb3a6aa['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x520274?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x520274?.['minConnections']??0x3,'maxConnections':_0x520274?.['maxConnections']??(_0x520274?.[_0x577678(0x81f)]&&0x4*_0x520274[_0x577678(0x81f)])??0xc,'maxDistance':_0x520274?.[_0x577678(0x783)]??0xa,'maxFps':_0x520274?.[_0x577678(0xa3a)]??0x18,'maxBpp':_0x520274?.[_0x577678(0x2c9)]??0.12,'objectStoreConnector':_0x520274?.['objectStoreConnector']??_0x52d6f2[_0x577678(0x537)],'externalStorageConnectors':_0x520274?.[_0x577678(0x25e)],'keyValueDatabaseConnector':_0x520274?.[_0x577678(0x9d3)]??_0x294ecb[_0x577678(0x3ad)],'loggingDatabaseConnector':_0x520274?.['loggingDatabaseConnector']??_0x294ecb['IDBDatabaseConnector'],'peerConnectionConnector':_0x520274?.[_0x577678(0x3b4)]??_0x119126['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x520274?.[_0x577678(0x6b1)],'vectorDatabaseConnector':_0x520274?.[_0x577678(0x9f6)],'graphDatabaseConnector':_0x520274?.[_0x577678(0x3bf)],'documentParserConnector':_0x520274?.[_0x577678(0x9e9)],'nlpLibraryConnector':_0x520274?.[_0x577678(0x47e)],'searchConnector':_0x520274?.['searchConnector'],'aiSearchConnector':_0x520274?.['aiSearchConnector']},_0x520274?.['disableIntervalHack']&&this['options']['audioContext']&&_0x255ca7[_0x577678(0x543)](this['options'][_0x577678(0x6e4)]),_0x5cdff6[_0x577678(0x9ce)](this['vendorId']),_0x520274?.[_0x577678(0x9ed)]&&_0x5cdff6['setLoggingConnectors'](_0x520274[_0x577678(0x9ed)]);}static async[_0x3035df(0x98c)](_0x4cc47d,_0x58a7d0,_0x1e7eac,_0x2872f2,_0xa59374){const _0x337500=_0x3035df;this['mode']=_0x1e7eac;const _0x3a18b1=await this['validateAccess'](_0x4cc47d,_0x58a7d0,_0xa59374);return _0x479146[_0x337500(0xa28)]||(_0x479146[_0x337500(0xa28)]=new _0x479146(_0x4cc47d,_0x3a18b1,_0x2872f2)),{'close':_0x479146[_0x337500(0xa28)][_0x337500(0x72f)][_0x337500(0x5bf)](_0x479146['instance']),'authenticateUser':_0x479146['instance'][_0x337500(0x304)][_0x337500(0x5bf)](_0x479146[_0x337500(0xa28)]),'authenticateAgent':_0x479146[_0x337500(0xa28)][_0x337500(0x78f)][_0x337500(0x5bf)](_0x479146[_0x337500(0xa28)]),'joinCluster':_0x479146['instance']['joinCluster'][_0x337500(0x5bf)](_0x479146[_0x337500(0xa28)])};}static async[_0x3035df(0x6c3)](){const _0xa53549=_0x3035df;return _0x1d88af[_0xa53549(0xa74)]();}static[_0x3035df(0x6f4)](){const _0x5a645d=_0x3035df;return _0x59f5be[_0x5a645d(0x6f4)];}async[_0x3035df(0x72f)](_0x13c779){const _0x26e8d1=_0x3035df;this[_0x26e8d1(0x3d9)]['forEach'](_0x277289=>{const _0x38e73b=_0x26e8d1;_0x277289[_0x38e73b(0x63f)](),_0x277289[_0x38e73b(0x4f5)](_0x13c779);}),this['clusters'][_0x26e8d1(0x599)](),this[_0x26e8d1(0x489)][_0x26e8d1(0x6e4)]&&_0x255ca7['stopNoThrottlingHack'](),_0x479146[_0x26e8d1(0x5ee)]?.(),_0x479146[_0x26e8d1(0x5ee)]=void 0x0,this[_0x26e8d1(0x881)]=void 0x0,await this['authService']['signOut'](),_0x479146[_0x26e8d1(0xa28)]=void 0x0;}static async[_0x3035df(0x574)](_0x251e9c,_0x28ef74,_0x3f7458){const _0xed1c21=_0x3035df;if(!this[_0xed1c21(0x322)])throw new _0x2758ff(_0x1e2529[_0xed1c21(0x3e3)],_0xed1c21(0xab3));let _0x2c4e9a;try{_0x2c4e9a=await(0x0,_0xed4a33[_0xed1c21(0x792)])(_0x1d88af['getFunctions'](),_0xed1c21(0x878))({'vendorId':_0x251e9c,'accessToken':_0x28ef74,'secretKey':_0x3f7458});}catch(_0x12a081){throw new _0x2758ff(_0x1e2529[_0xed1c21(0x7e3)],_0xed1c21(0x6f2));}if(!this[_0xed1c21(0x64e)](_0x2c4e9a['data']))throw new _0x2758ff(_0x1e2529[_0xed1c21(0x7e3)],_0xed1c21(0x6f2));const _0x450da5=_0x2c4e9a[_0xed1c21(0x937)];return _0x450da5[_0xed1c21(0x6ba)]||(_0x450da5[_0xed1c21(0x6ba)]=[]),this[_0xed1c21(0x5ee)]||(this[_0xed1c21(0x5ee)]=_0x255ca7['setInterval'](async()=>{const _0x3341e6=_0xed1c21;try{const _0x326021=await this[_0x3341e6(0x574)](_0x251e9c,_0x28ef74,_0x3f7458);this['mode']===_0x37e813[_0x3341e6(0x884)][_0x3341e6(0x8c1)]&&(_0x326021[_0x3341e6(0x1f7)]=_0x326021['iceServers'][_0x3341e6(0xab2)](_0x3ca1ce=>_0x3ca1ce[_0x3341e6(0x4ed)][_0x3341e6(0x569)]('stun:'))),_0x450da5[_0x3341e6(0x1f7)]=_0x326021['iceServers'];}catch(_0x2dcaa6){}},0x1b7740)),_0x450da5;}async[_0x3035df(0x304)](_0x3658e3){const _0xbdfffe=_0x3035df;if(_0x479146[_0xbdfffe(0x322)]!==_0x37e813[_0xbdfffe(0x884)]['User'])throw new _0x2758ff(_0x1e2529[_0xbdfffe(0x67f)],_0xbdfffe(0x92c));await this[_0xbdfffe(0x885)]['signInWithCredential'](_0x3658e3);const _0x5d977b=new _0x1fd11e(_0x3658e3['id'],_0x3658e3[_0xbdfffe(0xaaf)],_0x3658e3['email']);return this[_0xbdfffe(0x881)]={'node':_0x5d977b},_0x260d91[_0xbdfffe(0x786)](_0x5d977b),{'type':_0x37e813[_0xbdfffe(0x884)]['User'],'getId':_0x5d977b[_0xbdfffe(0x6cd)]['bind'](_0x5d977b),'getDisplayName':_0x5d977b[_0xbdfffe(0x982)][_0xbdfffe(0x5bf)](_0x5d977b),'getEmail':_0x5d977b['getEmail'][_0xbdfffe(0x5bf)](_0x5d977b),'setDisplayName':_0x5d977b[_0xbdfffe(0x900)]['bind'](_0x5d977b),'setEmail':_0x5d977b[_0xbdfffe(0x5bc)][_0xbdfffe(0x5bf)](_0x5d977b)};}async[_0x3035df(0x78f)](_0x3c49eb){const _0x3a5af9=_0x3035df;if(_0x479146['mode']!==_0x37e813[_0x3a5af9(0x884)][_0x3a5af9(0x8c1)])throw new _0x2758ff(_0x1e2529[_0x3a5af9(0x67f)],_0x3a5af9(0x92c));const {id:_0xd5fd36,groupId:_0x3b9b94}=_0x3c49eb,_0x53b2b7=await(0x0,_0x3bf861['getDoc'])((0x0,_0x3bf861[_0x3a5af9(0x533)])(_0x1d88af[_0x3a5af9(0x26d)](),_0x3a5af9(0x6e0)+this[_0x3a5af9(0x7c3)]+_0x3a5af9(0x9b0)+_0x3b9b94));if(!_0x53b2b7['exists']())throw new _0x2758ff(_0x1e2529[_0x3a5af9(0x360)],'Agent\x20group\x20not\x20found');const _0x56ff16=_0x53b2b7[_0x3a5af9(0x937)]();await this[_0x3a5af9(0x885)][_0x3a5af9(0x28a)]({'id':_0xd5fd36});const _0x5df340=new _0x38e1b3(_0xd5fd36,_0x3b9b94,this[_0x3a5af9(0x7c3)],_0x56ff16);return this[_0x3a5af9(0x881)]={'node':_0x5df340},_0x260d91[_0x3a5af9(0x786)](_0x5df340),this[_0x3a5af9(0x992)](_0x5df340),{'type':_0x37e813[_0x3a5af9(0x884)][_0x3a5af9(0x8c1)],'getId':_0x5df340[_0x3a5af9(0x6cd)][_0x3a5af9(0x5bf)](_0x5df340),'onConfigurationChange':_0x5df340[_0x3a5af9(0x408)][_0x3a5af9(0x5bf)](_0x5df340),'setReportCapacity':_0x5df340['setReportCapacity'][_0x3a5af9(0x5bf)](_0x5df340)};}async[_0x3035df(0x4ff)](_0x423364){const _0x5bfb3b=_0x3035df;if(!this[_0x5bfb3b(0x881)])throw new _0x2758ff(_0x1e2529[_0x5bfb3b(0x360)],'Node\x20not\x20authenticated');if(this[_0x5bfb3b(0x881)]['node']['type']!==_0x37e813['NodeType'][_0x5bfb3b(0x86f)])throw new _0x2758ff(_0x1e2529[_0x5bfb3b(0x4c3)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this[_0x5bfb3b(0x3d9)]['has'](_0x423364))throw new _0x2758ff(_0x1e2529[_0x5bfb3b(0x5bd)],'Cluster\x20already\x20joined');const _0x3e8583=new _0x37c0e6(this[_0x5bfb3b(0x7c3)],_0x423364,this[_0x5bfb3b(0x881)][_0x5bfb3b(0x9c6)],this['authService'],this[_0x5bfb3b(0x489)],this[_0x5bfb3b(0x5bb)]);return await _0x3e8583[_0x5bfb3b(0x95b)](),this['addCluster'](_0x423364,_0x3e8583),_0x5cdff6['logEvent']('join-cluster',{'clusterId':_0x423364,'nodeId':this['authContext']['node'][_0x5bfb3b(0x6cd)](),'nodeType':this[_0x5bfb3b(0x881)][_0x5bfb3b(0x9c6)][_0x5bfb3b(0x48b)]}),{'leave':_0x3e8583[_0x5bfb3b(0x4f5)][_0x5bfb3b(0x5bf)](_0x3e8583),'getLocalNode':_0x3e8583[_0x5bfb3b(0x42f)][_0x5bfb3b(0x5bf)](_0x3e8583),'openPubSubTopic':_0x3e8583['openPubSubTopic'][_0x5bfb3b(0x5bf)](_0x3e8583),'openObjectStoreBucket':_0x3e8583[_0x5bfb3b(0x904)]['bind'](_0x3e8583),'openExternalStorageConnection':_0x3e8583[_0x5bfb3b(0x450)]['bind'](_0x3e8583),'openKeyValueDatabase':_0x3e8583[_0x5bfb3b(0x573)]['bind'](_0x3e8583),'openGenerativeAIContext':_0x3e8583[_0x5bfb3b(0x6b6)][_0x5bfb3b(0x5bf)](_0x3e8583),'openGenerativeAIWorker':_0x3e8583[_0x5bfb3b(0x37b)][_0x5bfb3b(0x5bf)](_0x3e8583),'openGraphDatabase':_0x3e8583[_0x5bfb3b(0x7cf)][_0x5bfb3b(0x5bf)](_0x3e8583),'openVectorDatabase':_0x3e8583['openVectorDatabase']['bind'](_0x3e8583),'publishLocalMediaStream':_0x3e8583['publishLocalMediaStream'][_0x5bfb3b(0x5bf)](_0x3e8583),'publishLocalDynamicMediaStream':_0x3e8583[_0x5bfb3b(0x92b)][_0x5bfb3b(0x5bf)](_0x3e8583),'getPubSubTopics':_0x3e8583[_0x5bfb3b(0x85f)][_0x5bfb3b(0x5bf)](_0x3e8583),'getObjectStoreBuckets':_0x3e8583['getObjectStoreBuckets'][_0x5bfb3b(0x5bf)](_0x3e8583),'getExternalStorageConnections':_0x3e8583[_0x5bfb3b(0x422)][_0x5bfb3b(0x5bf)](_0x3e8583),'getKeyValueDatabases':_0x3e8583[_0x5bfb3b(0x7bd)][_0x5bfb3b(0x5bf)](_0x3e8583),'getGenerativeAIContexts':_0x3e8583['getGenerativeAIContexts'][_0x5bfb3b(0x5bf)](_0x3e8583),'getGenerativeAIWorkers':_0x3e8583[_0x5bfb3b(0xb17)][_0x5bfb3b(0x5bf)](_0x3e8583),'getGraphDatabases':_0x3e8583['getGraphDatabases'][_0x5bfb3b(0x5bf)](_0x3e8583),'getVectorDatabases':_0x3e8583[_0x5bfb3b(0x2cd)][_0x5bfb3b(0x5bf)](_0x3e8583),'getLocalMediaStreams':_0x3e8583[_0x5bfb3b(0x938)][_0x5bfb3b(0x5bf)](_0x3e8583),'getRemoteMediaStreams':_0x3e8583[_0x5bfb3b(0xa8c)]['bind'](_0x3e8583),'getRemoteNodes':_0x3e8583[_0x5bfb3b(0x497)][_0x5bfb3b(0x5bf)](_0x3e8583),'on':_0x3e8583['on'][_0x5bfb3b(0x5bf)](_0x3e8583),'off':_0x3e8583['off'][_0x5bfb3b(0x5bf)](_0x3e8583)};}async[_0x3035df(0x992)](_0xbe3009){const _0x2456c5=_0x3035df;for(const _0x40518a of _0xbe3009['agentConfig'][_0x2456c5(0x3d9)]){const _0x356938=new _0x37c0e6(this['vendorId'],_0x40518a['id'],_0xbe3009,this['authService'],this[_0x2456c5(0x489)],this[_0x2456c5(0x5bb)]);await _0x356938[_0x2456c5(0x95b)](),this[_0x2456c5(0x2e6)](_0x40518a['id'],_0x356938),_0x5cdff6[_0x2456c5(0x49d)](_0x2456c5(0x5ab),_0x40518a['id']);for(const _0x29a651 of _0x40518a[_0x2456c5(0x838)]??[])_0x356938[_0x2456c5(0x67e)](_0x29a651),_0x5cdff6[_0x2456c5(0x49d)](_0x2456c5(0x214),_0x29a651);for(const _0x2e9ca1 of _0x40518a[_0x2456c5(0x3a3)]??[])await _0x356938['openObjectStoreBucket'](_0x2e9ca1),_0x5cdff6[_0x2456c5(0x49d)]('Opened\x20object\x20store\x20bucket',_0x2e9ca1);for(const _0x50f29b of _0x40518a[_0x2456c5(0x5d2)]??[])await _0x356938[_0x2456c5(0x904)](_0x50f29b,{'standalone':!0x0}),_0x5cdff6['forceLog']('Opened\x20model\x20store\x20bucket',_0x50f29b);for(const _0x4deee9 of _0x40518a['externalStorageConnections']??[]){const _0x596006=_0x4deee9[_0x2456c5(0x27a)]('-');await _0x356938[_0x2456c5(0x450)](_0x596006[0x1],_0x596006[0x0]),_0x5cdff6[_0x2456c5(0x49d)](_0x2456c5(0x36a),_0x4deee9);}for(const _0x2b3584 of _0x40518a[_0x2456c5(0x647)]??[])await _0x356938[_0x2456c5(0x573)](_0x2b3584,{'version':0x1,'tables':{}}),_0x5cdff6[_0x2456c5(0x49d)](_0x2456c5(0x740),_0x2b3584);for(const _0x2a42ef of _0x40518a[_0x2456c5(0x54b)]??[])_0x356938[_0x2456c5(0x7cf)](_0x2a42ef),_0x5cdff6['forceLog'](_0x2456c5(0x854),_0x2a42ef);for(const _0x38ffeb of _0x40518a[_0x2456c5(0x541)]??[])_0x356938[_0x2456c5(0x683)](_0x38ffeb),_0x5cdff6[_0x2456c5(0x49d)](_0x2456c5(0xa7a),_0x38ffeb);for(const _0x304bc9 of _0x40518a['generativeAIContexts']??[]){const _0x167fef=_0x9b6e36(this['vendorId'],_0x304bc9),_0xc8d6b2=_0x31287b(),_0x455a9b=this[_0x2456c5(0x489)][_0x2456c5(0xb16)]??this[_0x2456c5(0x489)][_0x2456c5(0x9d3)];await _0x356938[_0x2456c5(0x573)](_0x167fef,_0xc8d6b2,_0x455a9b),_0x5cdff6[_0x2456c5(0x49d)]('Opened\x20logging\x20database',_0x167fef),await _0x356938[_0x2456c5(0x37b)](_0x304bc9),_0x5cdff6[_0x2456c5(0x49d)](_0x2456c5(0x61c),_0x304bc9);}}}['addCluster'](_0x2ea8c5,_0x4660d1){const _0x3e1d8f=_0x3035df;this[_0x3e1d8f(0x3d9)][_0x3e1d8f(0xac2)](_0x2ea8c5,_0x4660d1),_0x4660d1['on'](_0x3e1d8f(0x910),()=>{const _0x3e8509=_0x3e1d8f;_0x4660d1['off'](),this[_0x3e8509(0x3d9)]['delete'](_0x2ea8c5);});}static['isInternalSDKConfigs'](_0x1bd30b){const _0x389ad8=_0x3035df;return void 0x0!==_0x1bd30b[_0x389ad8(0x1f7)];}}return _0x3028bd;})())));