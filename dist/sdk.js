function a0_0xca1a(_0x2d53d4,_0x224ac7){const _0x23b339=a0_0x23b3();return a0_0xca1a=function(_0xca1aa6,_0x4cecf5){_0xca1aa6=_0xca1aa6-0x121;let _0x124ac1=_0x23b339[_0xca1aa6];return _0x124ac1;},a0_0xca1a(_0x2d53d4,_0x224ac7);}function a0_0x23b3(){const _0x4109b4=['.swift','senderBitrate','searchOnGoogle','audioSource','ObjectStoreAlreadyExists','createJobDispatcher','fetchUrl','processReceiverReport','disableIntervalHack','onDataChannel','LocalMediaStreamDoesNotExist','\x20received\x20result:','statsReporting','frameTime','detectStreamIssues','subscriptionRequests','handleSubscriptionSystemEvents','sentence-splitter','/capacities','RemoteAdd','operations','detectAudioIssues','No\x20connections\x20available\x20to\x20send\x20message','AgentSkill','remainingTracks','externalStorageConnectors','limitToFirst','checkWebRTC','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','1238LNOdtm','string','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','KeyValueDatabaseTableNameReserved','createExternalStorageConnection','getMediaSubscription','WebRTC','callback','Online','handshakeCandidates','Connected','onNodeUpdate','RemoteMediaStreamAlreadyExists','getCurrentMaxLayer','Boolean','startTracing','iceConnectionState\x20failed','Cannot\x20write\x20transaction.','Stream\x20does\x20not\x20exist','listenerUnsubscriber','compileStats','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','senderPreviousTimestamp','createMediaStreamDestination','unregisterPublisher','ExternalStorageConnectionAlreadySubscribed','ragConnector','roundTripTime','getBitrate','KeyValueDatabase','Problem','modelId','LocalReport','handleCloseContent','getMilliseconds','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','getJobDispatchers','region','GenerativeAIContext','commitLevel','reset','executeAgent','LoadKnowledgeFunction','/developers/','frames','queueLength','minResolutionScale','GenerativeAIContextDoesNotExist','boolean','push','previousBytes','setDoc','setTimeout','.ps1','crewdleSDKDisableLogging','Valid\x20layout','InitialPrompt','Failed\x20to\x20send\x20job\x20','notifyJoin','GetContextResult','hosting','transaction','time','AppSync\x20subscribe','WebGL','ModelText','getOrResetPendingFileTimeout','isWhereValues','searchOnPerplexity','invalid-subscription','processInboundReports','tool-call','Invalid\x20JSON:','openTrace','handleSuccess','encode','.php','receiverTotalMessages','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','isWhereValue','extendedRecipients','TestPage','agent-config-changed','detectProblems','key-value-database-index-not-found','authContext','.info/serverTimeOffset','Job\x20worker\x20creation\x20failed.','documentPath','removeRemoteMediaStream','SenderSendMessage','feedback','objectRequests','tools','rank','startTime','videoHeight','updateLastUpdated','inference','.cs','tables','runTransaction','readyResolve','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','currentDistance','discoveryService','createBufferSource','.jsx','isWhereBetween','jitter','Unknown\x20error','graphDatabaseConnector','timeoutValue','Offer','setupTrackEndedListeners','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','answer','substring','Optimization','job-dispatcher-job-exists','User\x20not\x20signed\x20in','Sending\x20\x27','ObjectStoreNameNotString','split','query-helper-invalid-argument','traceLevel','grammar','connections','list','getMaxConnections','includes','\x20attempts:','gpt-4.1-nano','getTransactionFromTableWriteEvent','getSenderBitrate','getConnectionDestinations','web-scraper','answer-','providerListener','receiverCurrentTimestamp','getRemoteMediaStream','Invalid\x20query','FROM\x20file','GenerativeAIWorkerMissingConnector','Workflow\x20output\x20is\x20not\x20a\x20string','Error\x20committing\x20batch:','logRaw','NodeType','statsManager','CloseJobDispatcher','application/octet-stream','setPriority','addTrack','Internal\x20event\x20\x27','code','syncTransactionsWritten','entity','Data\x20Sent','.rkt','shouldEmit','outgoingStreams','UnpublishMediaStream','tokens','KeyValueDatabaseInvalidLayout','GetContextQuery','MistletCapacityReportNotSet','Cluster\x20already\x20joined','Model\x20not\x20found\x20','incrementVersion','OPFSObjectStoreConnector','Error\x20fetching\x20URL','PubSubTopic\x20publish','Data\x20cluster\x20is\x20not\x20open.','/logs','Method\x20not\x20supported','generativeAIWorkerConnectors','handshakeDebounce','currentFrames','cluster','\x27\x20is\x20not\x20ready','resolveReady','prompt','ConnectionNotinitialized','hasRemoteNode','handleUnpublishMediaStream','GenerativeAIContextJobFailed','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','pathName','handleFileWrite','Found\x20','Subscription','timeReceiving','problemType','next','GenerativeAIContext\x20stream\x20error','sdkCreateToken','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','queryFile','LoggingService:\x20logging\x20enabled\x20for','MediaStream\x20feature\x20not\x20enabled','Recording','/traces','external-storage-upload','Everyone\x20','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','LocalMediaStreamTrackFail','nodeManager','disconnectCallback','source','decodeJWT','/objectstores/','jobs','collectTransactionsFromNode','between','firebase-disconnect','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','cpu.av_delay','Node\x20type\x20is\x20invalid','shouldProcessTransaction','object-storage','head','VectorDatabaseStats','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','Error\x20processing\x20ingest','publishSyncCompletedAfterWrites','DTVolatility','Crewdle','Interviewer\x20Agent','additionnalInstructions','CPUCycle','fileChunks','supported','.md','NodeNotAuthenticated','AudioOutput','.hbs','arguments','warn','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','key-value-database-name-not-string','isNodeReady','Audio','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Backgrounds','getWorkflowExternalStorageConnections','getConnectionGroup','transformations','OutputAudioStream','processLocalReport','clusterKey','action','bufferEvent','Rejected\x20answer','invalid-access','detectLocalIssues','handleOffer','Consuming\x20buffered\x20event','NodeDoesNotExist','asObservable','.groovy','logBatch','getTableConnector','minThreshold','docs','arrayBufferToObject','NodeTypeRequired','\x0a\x20===\x20Wait\x20Time:\x20','handleSubscriptionUnsubscribeMediaStream','pipe','.css','openGenerativeAIContextStandalone','processServiceReport','endpoint','FolderCreate','notifyClusterNodeJoin','systemMessagesReceived','close','ingestFile','comparePeaks','timeSending','setConnectionType','No\x20start\x20block\x20found','AI\x20Service\x20already\x20exists','eventEmitter','remote-stream-missing-provider-id','Count','Node\x20is\x20not\x20an\x20agent','score','.xml','Received\x20','https://api.stg.crewdle.ai','Llamacpp','\x20sending\x20attempt\x20','data-collection-does-not-exist','externalStorages','resizeHandler','Low','setUpgradeTimeout','isChannelEnabled','hasOwnProperty','filename','end','logDataSent','sort','clusterEventEmitter','MediaStreamUnavailable','workflow','Invalid\x20where\x20clause','mistlet-capacity-report-not-set','GenerativeAIContextAlreadyExists','getSTVolatility','Reranker','\x20failed.','filter','debounceAppendLog','joinedAt','.jl','featureSupport','Copywriter\x20Agent','PubSub','keyPath','Shared','logger','isProduction','getToolParams','Missing\x20external\x20storage\x20connector','audio','sendPeakTransactions','topicLabel','isRunning','debounceLogTimeout','agent-join','Node\x20type\x20is\x20required','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','debounceStats','addPendingHandshakeCandidate','removeTopic','job-','rootComputationPromise','SentenceSplitter','.cpp','.ini','indexes','success','Medium','JobWorker:\x20Tracing\x20not\x20implemented','unregisterSystemPublisher','retrieveBlocks','Parameter\x20','STVolatility','Result','Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question','handleStatsSystemEvents','waitSuccess','WebScraper','CONNECTION_STATE_CHANGE','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','propn','commitType','.sh','WriteFile','.pptx','bitrate','agentConfig','decode','PubSub\x20already\x20exists','.erb','sourceVideo','outputType','Processing\x20agent\x20block:\x20','system-stats','upgradeTimeout','generative-ai-context-already-exists','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','clientHeight','Key-value\x20database\x20transaction\x20value\x20not\x20set.','processOutboundReports','key-value-database-invalid-layout','21a9d78dee97f487b','registerDestination','key','completion_tokens','AiSearch','Trend\x20Spotter','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','setReceiverTimestamp','removeIncomingSubscription','PeerConnectionInvalidDestination','senderCurrentTimestamp','FormGetQuestion','startLoggingCycle','restartTimeout','join-cluster','instructions','Object\x20store\x20connector\x20is\x20not\x20available','streams','authenticateUser','processContentAvailable\x20-\x20Peak\x20comparison:','Code','remoteMediaStreams','Generative\x20AI\x20context\x20job\x20failed.','publish','Debug','user-update','sender-send-message','pendingFilesTransactions','NodeAlreadyExist','-leave','clear','createSenderConnection','addAudioTrack','collection-create','dataChannel','LocalMediaStreamNoAudioContext','batchTimeout','debounceProcessRank','NodeLeave','/resources/agent/items/','getSize','getVectorDatabase','toFixed','CanProvideMediaStream','relation','handleRequestPayload','handshakeState','registerRemoteNode','joinedClusters','openKeyValueDatabase','clearWaitSuccess','checksum','JobQueueService:\x20Running\x20job','cluster-already-joined','external-storage-connection-does-not-exist','logSyncMetrics','setupRenderElement','Remote\x20connection\x20already\x20exists.','crewdle-sdk-stg','knowledgeCutoffDate','localId','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','lastHeartbeat','Publish\x20the\x20transaction','GraphDatabaseAlreadyExists','getLabel','all','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','endsWith','getDistance','filesSynced','some','addEventListener','Default','FormSubmitForm','KeyValueDatabaseSendTransactions','loggingCycle','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','remoteNodes','JobDispatcher:\x20Received\x20job','connection','isMediaSource','resetConnection','Database\x20already\x20exists','element','handleLocalTrackFailure','Incoming','counter','nodes','All','archival-search','exists','models','Key-value\x20database\x20creation\x20failed.','outgoingManager','Generative\x20AI\x20context\x20creation\x20failed.','.info/connected','off','153483iYfGaV','us-east-1','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','KeyValueDatabaseContentSynchronized','collection-delete','Node\x20does\x20not\x20exist.','AI\x20Search\x20connector\x20not\x20set','receiver','value','retryCallback','indexOf','total','IncomingSubscription','incomingTopic','Embed','local-media-stream-no-audio-context','KeyValueDatabaseAlreadyExists','startHeartbeat','openExternalStorageConnection','Agent','agentId','/jobs/','Rating','handleDetectionSystemEvents','component','TextGeneration','Writable\x20stream\x20is\x20missing','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','available','PubSubTopicAlreadyExists','stats','Media','gpt-4o-mini','maxBpp','VectorDatabaseAlreadyExists','onGatheringStateChange','queries','generative-ai-context-job-failed','temperature','getConnection','crewdle-sdk-logging-','Subscription\x20request\x20has\x20not\x20been\x20answered.','isLoaded','getSubscriptionInfo','getDisplayName','DataStream','receiverPreviousTimestamp','getSentences','getGraphDatabases','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','/transactions/lastTransaction','.pug','streamId','nodesConnected','isReady','accumulateResult','Attempt\x20','Support','signInWithCustomToken','executeWorkflow','addNode','AudioContext','Handshake','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','setCurrentVersion','Conditional\x20Router','getTrackFromParam','ExternalStorageConnectionDoesNotExist','currentBytes','RestartNeedMediaStream','debounceReady','getReader','listener','checkMediaRecording','FormSkillGetQuestion','submitForm','addBatchOperation','getPubSubTopics','FeatureNotEnabled','JobDispatcherInvalidPayload','scheduleTime','videoWidth','Sync\x20completed','content','statsCollection','splice','getJobWorkers','ExternalStorageConnectionAlreadyExists','Node','dispatchEvent','call','abs','setOnTableWriteHandler','Subscribing\x20to\x20an\x20event:\x20on','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','take','System','addIssue','setLoggingConnectors','tableLayout','InvalidDataChannel','getObjectStoreBuckets','sendRequest','All\x20recipients\x20already\x20received','removeJobDispatcher','timestamp','NodeManager\x20-\x20PublishNodeLeave','checkAudioVolume','FPS','Receiving\x20\x27','questions','if_else','removeOutgoingSubscription','delta','skipEncryption','DataChannel\x20buffer\x20is\x20full.','firebaseConfig','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','newPath','publishTransaction','ExecuteCode','form-skill','FinalOutput','messagesSent','appendTransactionAndUpdateHashMap','isIceCandidate','writes','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','Offline','Table\x20not\x20found','connectionTimeout','reasoning','dedicated','processSenderReport','G-F7W8KXRKQB','GenerativeAIWorkerModelSyncError','JobWorker:\x20Handling\x20job\x20attribution','Operations:','KeyValueDatabaseRequestTransactionsValue','/nodes/','node-type-required','handleNodeJoinNeedPublishedStream','Subject','RemoteMediaStreamTrackFail','ai-search','syncPendingFiles','removeGraphDatabase','bodyParameters','InvalidPublisher','request-accepted','round','createGenerativeAIContextStandalone','joinCluster','logDataReceived','job-dispatcher-invalid-job-type','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','notifyObjectStoreOfNodeJoin','contentType','timesCalled','Cluster','Error\x20stringifying\x20object','ObjectStoreInvalidState','Initial\x20MMR\x20built\x20with','generative-ai-context-job-timeout','async','ragApiKey','message','usage','media-stream','Error','bufferedEvents','Workflow','Data\x20Received','crewdleSDKEnableLogging','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','result','MediaStream','Remove','maxConnections','appsync-statechange','tail','isJobAttribution','createAnswer','getShareableStream','maxDepth','1810qAwwYx','getTotalNodes','invalid-subscriber','https://crewdle-sdk-default-rtdb.firebaseio.com','sender','options','KeyValueDatabaseTransactionTableNotInitialized','.awk','desc','waitForArrayBufferSize','missing-incoming-connection','handleHandshake','where','Queued','openVectorDatabase','ranges','publishSyncCompleted','write','isPromiseResolved','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','isValidMediaSubscriptionParams','unregisterSystemSource','DatabaseEvent','entity-extractor','graph-database-missing-connector','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','clockSkew','Detection','Issue\x20detected:\x20','getBid','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','index','initialPrompt','resolution','getAuth','Connection\x20does\x20not\x20exist.','NodeUpdate','requestSubscriptionAction','Invalid\x20subscriber.','subtle','warning','Job\x20service\x20observer\x20not\x20found.','moveObject','Internal\x20error:\x20','0\x20B','RAG\x20connector\x20is\x20not\x20available','clusters/','Missing\x20AI\x20search\x20API\x20key','getPartsForSubscriptionLabel','validateLayout','pubsubTopics','shared','.hs','JobContext','.vb','\x20to\x20generate\x20a\x20response.','FormSkillSubmitForm','getRemoteId','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','setupStatsReporting','codes','lastExecuted','successNotified','getBuffer','transactions','ObjectStorage','KeyValueDatabaseTransactionValueNotSet','closeTrace','connectAgent','removePubSubTopic','Missing\x20vector\x20database\x20connector','retryQueues','getEstimatedTimestamp','signInWithCredential','Key-value\x20database\x20table\x20does\x20not\x20exist.','clientStream','subscribeToJobs','handleObjectMove','Hub','onMessage','Early\x20return','destinationIds','channel','Attribution','required','CrewdleConnectionGroup','Store\x20already\x20exists','isEqual','user-join','ConnectionState','Pinecone','key-value-database-already-exists','.xls','page','subscriptions','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','waitConnected','SHA-256','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','canChooseAnswer','PubSubTopic\x20onMessage','No\x20destinationIds\x20left','enabledChannels','sendTransactionsValue','JobDispatcherCreationFailed','logEvent','startIndex','web-scraper-raw','getExternalStorageConnections','Model\x20not\x20found','vector-database-missing-connector','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','drawImage','cachedRoot','.yaml','propagate','memoryUsage','handleJobAttribution','eventTarget','Waiting','PromptFunctionParamsType','registerCluster','fileSendingMap','graph-database-creation-failed','ObjectStoreNotInSync','ConnectionNoRetryQueue','sourceId','rejectReady','getSubscriptionLabel','detection','bufferedAmount','serverTimestamp','defineProperty','.rs','Prompt','key-value-database-transaction-value-not-set','reduce','\x20not\x20supported','subscriptionRequestTimeouts','northamerica-northeast1','.scala','url','attributes','retry','__esModule','Support:\x20','isOffer','.tpl','oncloseTimeout','addVideoTrack','KeyValueDatabasePeakNotFound','.jinja','pubsub','Joined\x20cluster','getTrack','key-value-database-table-does-not-exist','pubSubTopics','queryCollection','FetchUrl','agent-skill','vendorId','FormSkillSetAnswer','subscriptionRequestsQueue','processReport','isConnected','CloseKeyValueDatabase','CrewdleSenderConnection\x20createOffer','Done','minConnections','Error\x20reading\x20file\x20chunk\x20after\x20','competitive-agent','GenerativeAIWorkerAlreadyExists','topK','node','\x20created\x20and\x20dispatched.','.pl','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','document-parser','label','createReceiverConnection','nodeKey','Processing','clusters','getJobObservable','debounceRebuildMMRWithTransaction','setAnswer','Skill','Invalid\x20key\x20\x27','manageBufferedChunks','closeSubscription','handlePeerConnectionSystemEvents','getQuery','function','\x0a\x20===\x20Current\x20MMR\x20Root','FileMove','Invalid\x20params','totalEncodeTime','addBidResponse','/chat/completions','/transactions','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','KeyValueDatabaseSyncRequired','pendingFilesRename','externalStorageConnections','jobId','JobWorkerInvalidType','.jinja2','google','ObjectStoreAlreadySubscribed','\x20MB','Invalid\x20workflow\x20block\x20type.','CloseExternalStorageConnection','hasBufferedData','trace','Generative\x20AI\x20context\x20job\x20timeout.','ccc','mediator','question','query','createVectorDatabase','relevance','bid','SearchGoogle','msalGetAccessToken','processPendingSyncTransactions','JobWorker:\x20Error\x20processing\x20job','loadFromDisk','updateDebounce','invalid-data-chanel','Local\x20MediaStream\x20already\x20exists','createNewBatch','/vector_stores/','firestore','420235181083','isPartialResultResponse','getBufferedAmount','move','getContentType','trackEndedListeners','openJobWorker','maxThreshold','Job\x20','job-worker-invalid-type','setEncodingParameters','ClusterAlreadyJoined','active','Context','threadId','subscription-request-no-answer','_isReady','layout','reranker','generative-ai-worker-already-exists','text/csv','FS\x20connector\x20is\x20not\x20available','.\x20Confirmation?\x20','DataChannel\x20send\x20error','getContext','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','compareTransactions','av_delay','results','registerSubscriber','Job','checkSyncComplete','setupResizeHandler','getReceiverTotalBytes','messageListeners','removeRemoteStreamSubscription','mediaTopics','.dart','setLocalRank','processTransactionPayload','external-storage','receiverTimeProcessing','unregisterSource','origin','vector-database-already-exists','durationTime','openGraphDatabase','if-else-router','completed','limit','ObjectStoreStats','Remote\x20MediaStream\x20already\x20exists','object-store-not-synced','Method\x20not\x20implemented.','Search\x20connector\x20not\x20set','packetsSent','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','\x0a\x20===\x20Total\x20Data\x20Received:\x20','openAIKey','engineType','Resolution','setSenderTimestamp','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','json','completeSync','\x20new\x20transactions','startNoThrottlingHack','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','handleNodeDisconnect','snippet','default','onCandidate','I\x20have\x20finished\x20executing\x20my\x20task.','.twig','NodeInvalidType','SubscribeMediaStream','system','Invalid\x20subscription.','Get','Subscription\x20request\x20failed.','clientWidth','framerate','history','Events','question-','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','evaluatePartialJob','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','handleNodeSystemEvents','trim','KeyValueDatabaseTableNotFound','getRemoteNodes','handleOutgoingSystemEvents','auth','createLocalMediaStream','Invalid\x20data\x20event.','Restart','jobType','ancestors','createWritableStream','File\x20sending\x20interrupted','priority','orchestrator','No\x20global\x20object\x20found','getReport','timeoutCallback','Channel\x20\x27','getShareableStreamId','headers','LocalMediaStreamAlreadyExists','logInitialMMR','WaitTrue','remediationManager','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','registerSystemPublisher','\x20seconds','1392ysWMak','getOwnerId','searchInDataCollection','handleNodeJoin','support','tracks','ObjectStorageUpload','embedding','initialize','KeyValueDatabaseRequestPeakTransactions','clearOncloseTimeout','storageType','ExternalStorageNameNotString','signalingServer','openGenerativeAIWorker','stopTracing','.doc','evaluateBidsAndAttributeJob','reportMetric','ScreenSharing','learn-agent','\x20ms\x0a','transactionTable','AudioVideoDelay','ReadableStream\x20is\x20not\x20supported','unsubscribe','job-dispatcher-job-not-found','onHandshakeStateChange','.crewdle-last-transaction','KeyValueDatabaseContentAvailable','clearWaitAnswer','estimatedPlayoutTimestamp','direction','slice','ContentType','RemoteConnectionExists','getInternalStreamId','Connection\x20not\x20connected.','getInternalTrackParams','More\x20content\x20available\x20on\x20page\x20','ExecuteWorkflow','clearConnectionTimeout','messageUnsubscriber','Folder','getPubSubTopic','numeric','application/json','createIncomingSubscription','processList','fromEntries','events','RemoteMediaStreamMissingProviderId','Query\x20is\x20required','unshift','video','KeyValueDatabaseTableDoesNotExist','connectionPool','getLastUpdated','start','Logging\x20trace','CloseJobWorker','.Total\x20pages\x20available:\x20','tool','commitTrace','NodeManager\x20-\x20NodeLeave','getObjectStoreBucket','vectorDatabaseConnector','job-dispatcher-does-not-exist','senderTimeProcessing','objectToArrayBuffer','Invalid\x20layout:\x20','random','isAvailable','RequestFileSync','listenerUnsubscribers','setForDeletion','ObjectStoreCannotWriteTransaction','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','Orchestrator\x20handleSystemEvents','chooseAnswer','handleConnectionSuccess','undefined','JobType','May\x202024','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','VectorDatabaseCreationFailed','isSyncing','hasTracks','detectVideoIssues','nodeId','Internal\x20unknown\x20error:\x20','getGraphDatabase','trackKinds','exports','ExecuteCustomSkill','topic','getWorkflowObjectStorageBuckets','crewdle-sdk.firebaseapp.com','.docx','keyValueDatabaseConnector','getStatus','getPeakNode','stream','generative-ai-worker-model-sync-error','getLocalId','\x20were\x20ready\x20in','handleContentCloseMediaStream','setTransformations','fetchContentFromUrl','getToolName','handleDisconnect','form-skill-submit-form','Error\x20querying\x20file','getOutgoingOptimizationConnections','handleChunkMessage','getTotalBytes','Outgoing','JobQueueService:\x20Job\x20completed','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','chunksReceived','race','Pending','.liquid','local-stream-does-not-exist','srcObject','manageOptimization','Invalid\x20node\x20type','readyDebounce','WebScraperRaw','object-store-stream-does-not-exist','sendIceCandidates','handleAnswer','remoteConnections','Content','appendTransaction','Invalid\x20key:\x20','true','text-embedding-3-large','handleError','@context.','min','lastProcessRank','removeTrack','file-list','GenerativeAIContextInvalidPartialResult','publishSyncCompletedAfterWrites\x20-\x20','setDisplayName','toString','Failed\x20to\x20get\x20file','createSubscription','Job\x20Dispatcher\x20does\x20not\x20exist','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','findNextNodeId','handleSubscriptionSubscribeMediaStream','KeyValueDatabaseCreationFailed','previousTimestamp','description','output','Invalid\x20data\x20channel.','RemoteRemove','receiverConnection','VectorDatabase\x20not\x20found','Amplify','text-embedding-3-small','UpdateMediaStream','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','getSubscribedTracks','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','setTimestamp','destroy','pub-sub-topic-name-not-string','loop','getRemoteNode','Data\x20collection\x20does\x20not\x20exist.','Router','answers','forEach','now','custom-skill','CloseVectorDatabase','Restart\x20NeedMediaStream','closed','title','setBytes','previous','getPriority','sendWithRetry','failed','validation','AISearch','file','Relation','orderBy','generative-ai-context-job-invalid-type','external-storage-connection-already-subscribed','processContentAvailable','arrayBuffer','findIndex','logMMRRebuild','capacityReporter','Warning','Code\x20is\x20required','NodeJoin','openObjectStoreBucket','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','getAncestors','handleContentUpdateMediaStream','links','New\x20MMR\x20Root:\x20','handleSubscriptionMediaStreamUnavailable','displayName','rating','getDoc','Invalid\x20credentials','crewdle-sdk.appspot.com','October\x202023','maxDistance','blank-agent','getRank','queryParameters','owner','vector','Update','systemTopic','setReportCapacity','getDataCollections','messageCallback','.yml','external-storage-name-not-string','Internal\x20SDK\x20error:\x20','peaks','forceLog','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','syncedFileExists','Archival\x20Search\x20Agent','Executing\x20custom\x20skill:\x20','node-already-exist','Stream\x20already\x20exists','getSimilarity','output-audio-stream','SearchPerplexity','unregisterPublisherListener','Number','cluster-leave','buffer','\x27:\x20missing\x20or\x20invalid\x20keyPath','SubscriptionRequestDoesNotExist','\x20failed.\x20Retrying...','getChannelData','threshold','keys','GenerativeAIModelInputType','dbKey','text/','issues','ObjectStoreInvalidSyncMessage','hashTransaction','image','apikeys/','onConnectionStateChange','targetId','waitSendBuffer','once','messages','handleProblem','getConfigs','createAIJob','handleContentSystemEvents','generative-ai-worker-creation-failed','getMaxDistance','graphql','validateAccess','\x20not\x20found.','providerId','getDTVolatility','Emitting\x20event\x20on\x20local\x20cluster','recipients','data:\x20[DONE]\x0a\x0a','file-delete','/embeddings','getWorkflows','addMessage','\x0aAdditional\x20data:\x20','authService','queryFileConnector','WorkflowDoesNotExist','sendAction','accumulated','emit','initializeApp','JobWorker:\x20Received\x20job\x20request','Info','MissingRemoteConnection','registerSource','authNode','JobWorkerCreationFailed','bytesReceived','maxLayer','createFolder','embed','sendStats','SystemStats','Unknown\x20skill\x20type','pendingSyncTransactions','buildInitialMMR','JobDispatcherObserverNotFound','Execute\x20the\x20workflow\x20','getHash','createObjectStoreBucket','listFiles','Model','addEdge','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','String','clusterId','publishSystemMessage','createOutgoingSubscription','removeRemoteConnection','bufferedAmountLowThreshold',',\x20Total\x20Nodes:','deleteRemoteNode','Cannot\x20publish\x20folder:\x20','getItem','delete','peerConnectionConnector','GraphDatabase\x20not\x20found','parseDataCollectionBlocks','cancel','observe','changesUnsubscriber','getFunctions','functionsRegion','trackCallback','debug','isFeatureSupported','getName','currentTimestamp','deleteObject','handleNodeLeave','Invalid\x20publisher.','receiverCurrentBytes','Sender\x20connection\x20is\x20not\x20initialized.','handleSubscriptionNeedMediaStream','storage','responseTimeout','getResolution','processRemoteInboundReport','DataStream\x20onMessage','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','oidc','Account','getPartsFromSubscription','Send\x20request','_ready','reads','client','subscribe','fetch-url','stopNoThrottlingHack','QueryFile','right','fileConnector','NodeConnectionsUpdate','clearRect','retryQueue','FolderMove','contentManager','signOut','/resources/generative-ai-collection/items/','Partial','setRemoteNode','Received\x20content\x20available\x20from\x20node','getIdToken','firebaseUnsubscriber','updateJob','realtime-session-create','maxOutgoingSubscriptions','PubSubTopicAlreadySubscribed','Remediation','updated','Error\x20closing\x20writable\x20stream','instantiateTransactionTable','Human','findNewMediaSubscription','setDurationTime','GraphDatabaseDoesNotExist','subscription','event','getDataLogged','Upgrade','hasMessage','onProviderChange','unregisterSubscriber','JobWorker:\x20Sending\x20job\x20result','AI\x20Worker\x20already\x20exists','answererId','handleNoAnswer','connectionStateListener','syncTimeout','setupConnectionEvents','handleSubscriptionProvideMediaStream','rtt','format','Cannot\x20publish\x20payload:\x20','WaitFalse','hashPeakHashes','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','GenerativeAIInferenceToolType','getRemoteConnections','removeRemoteNode','Missing\x20AI\x20worker\x20connector','then','.ejs','getContent','InternalSDKError','vector-database-name-not-string','dataStores','state','Database\x20does\x20not\x20exist','has','internalProcessJob','unpublish','eventListener','cpu.time_per_frame','output_tokens','handleTransactionPayload','match','FileWrite','startsWith','objectStoreConnector','prototype','/stats','getDataBucketIds','isInternalLoggingConnector','vectors','resolutionScale','GenerativeAIContextJobAlreadyConsumed','1.0.37','Failed','updateUser','mediaDevices','calculateArrayBufferSize','NeedMediaStream','GraphDatabase','removeSubscription','\x20received\x20responses:','Pool','generic-agent','GenerativeAIWorker:\x20FileDelete\x20failed','JobDispatcherDoesNotExist','removeExternalStorageConnection','\x20-\x20','Jitter','No\x20connector\x20found\x20for\x20model','JobStream','key-value-database-transaction-table-not-initialized','errorDetails','closeConnection','debounceRebuildMMR','maxResolution','audioDestination','append','Unsupported\x20job\x20type','createElement','GenerativeAILabelConflict','openaiApiKey','createGenerativeAIWorker','CloseGraphDatabase','developers/','maxTokens','/transactions/','router','ObjectStoreInvalidPath','getPacketsLostPerc','distance','tableObserver','node-type-not-supported','play','getId','logConnectionState','localMediaStreams','type','everyone','Document\x20Agent','runJobQueue','processDataChannelReport','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','RequestFileWrite','addCandidate','flatMap','standalone','>\x0a\x0a','sendFileRequestPayload','Rejected','\x20after\x20','transactionsToAppend','\x0a\x20===\x20Total\x20Time:\x20','processReceivedTransactions','CrewdleReceiverConnection\x20ontrack','Cannot\x20unpublish\x20object:\x20','Search','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','getTracks','base64','publishLocalMediaStream','KeyValueDatabaseIndexNotFound','.erl','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','claude-3-opus-latest','sync','openJobDispatcher','graph-database',',\x20Transactions:\x20','retryLimit','bandwidth.rtt','get','getKeyValueDatabases','data:\x20','.exs','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','removeNode','setInterval','getEngineType','uid','minRelevance','Jobs','llama-3.2-3b','leave','crewdle-sdk','\x20writes\x20from\x20','No\x20parameters\x20provided','WorkflowTool','byteLength','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','Node\x20already\x20exists.','getLocalMediaStream','content-unpublish-media','lastRemediations','.crewdle-layout','getApp','generativeAIWorkers','KeyValueDatabaseNameNotString','connector','internalContext','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','model','KeyValueDatabase\x20not\x20found','evaluateProccessedJob','notifyClusterNodeUpdate','OptimizationConnectionSuccess','canProvideResolution','Cannot\x20publish\x20file:\x20','unsubscribeListener','text/event-stream','Failed\x20to\x20commit\x20batch\x20after\x20retries:','setRemoteConnections','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','peer-connection','instance','assign','complete','.bat','handleUnsubscribeMediaStream','contentSize','Cannot\x20list\x20directory:\x20','InvalidSubscription','incomingManager','processInboundReport','timePerFrame','blocks','From\x20','claude-3-5-haiku-latest','queues','retryCount','\x20deleted.','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','PartialResult','Accepted','getExternalStorageConnection','relations','getLocalNode','mediaUnsubscribers','aiSearchConnector','Blank\x20Agent','pub-sub-topic-already-subscribed','ObjectStore','body','IngestTrace','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','statsReport','getAudioTracks','doc','GenerativeAIModelOutputType','interval','upgrade','Connection\x20not\x20initialized.','JobDispatcherJobExists','key-value-database-creation-failed','wait-false','setOnMessageHandler','issue','confirmSynchronization','query-file','getGenerativeAIContexts','search-agent','createMediaStreamSource','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','executeQuery','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','cost','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','AudioContext\x20is\x20not\x20available','getEnabledChannels','.sql','onTrack','dataUnsubscribers','SubscriptionRequestInProgress','frameWidth','parseWorkflowDocument','bandwidth.jitter','renderElement','status','getNumberOutgoingSubscriptions','getReceiverBitrate','stringify','createRemoteNode','expectedTransactions','all-minilm-l12-v2','localNode','httpsCallable','GenerativeAIWorkerCreationFailed','file-write','registeredListeners','Text','key-value-database-does-not-exist','ConnectionInvalidDataEvent','subscribedTracks','generativeAIContexts','contextOutputVariable','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','No\x20RAG\x20connector\x20available','logWaitTime','getRemoteMediaStreams','senderStreams','functions','readyPromises','getVectorDatabases','remove','gpt-4o','getConnectionType','Receiver\x20connection\x20is\x20not\x20initialized.','JobStatus','deleteCollection','/resources/generative-ai-workflow/items/','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','GenerativeAIContextStats','listen','files','endpointUrl','size','ExecuteAgent','packetsLost','Bid','User','commitBatch','sdkValidateAccess','getToolDescription','manageAncestor','Error\x20writing\x20chunk\x20to\x20stream','removeGenerativeAIContext','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','replaceTrack','ObjectStorageBucket','search','mergeParts','listenUnsubscriber','getRoot','ExternalStorageConnection\x20not\x20found','CloseObjectStoreBucket','batchSize','read','debugEnabled','removeConnection','RemoteMediaStreamInvalidSubscriptionParams','length','destination','name','processPendingHandshakeCandidates','handleSystemEvents','outgoingTopic','answerContentAvailable','Error\x20executing\x20code','addRemoteConnection','connection-state','DataCollection','\x20must\x20be\x20a\x20boolean','parseWorkflowBlocks','PromptRating','isReconnecting','params','llama-3.1-8b','addCluster','\x20check\x20failed','canRestartHandshake','getUserMedia','Write\x20text\x20data\x20to\x20a\x20file.','July\x202024','chosenAnswers','\x0a\x0adata:\x20','file-download','November\x202024','applyRemediation','GenerativeAIWorker:\x20Opening','Invalid\x20index\x20in\x20table\x20\x27','queryOrPrompt','orchestrator-close','internal','gpt-4.1','mute','544932YNtSBj','Error\x20writing\x20file','error','CloseMediaStream','publishFile','Sender','retryDelay','/workflows/','\x20with\x20\x27','st_volatility','disconnect','.xlsx','inbound-rtp','detail','DataCollectionDoesNotExist','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','packets','graphDatabases','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','graph-database-already-exists','Job\x20with\x20id\x20','isFailedResponse','recomputeRoot','workflow-invalid-block-type','email','generative-ai-context-job-missing-thread-id','.cfg','restartHandshake','long','GenerativeAITaskType','subscriptionManager','document-agent','collectReceiversStats','Vector','remote-inbound-rtp','Query\x20Generator','strategizing-agent','from','path','InputAudioStream','getClosestNodes','receivers','getLocalMediaStreams','handleUpdateMediaStream','getJobs','generative-ai','\x0a\x20===\x20Total\x20Nodes:','\x20with\x20','detectionManager','VectorSearch','\x20already\x20exists','external-storage-connectors-missing','handleOptimizationConnectionSuccess','isComputingMMR','filteredDestinationIds','appsync-connect','nodeUpdate','checkExistingPendingFileContent','contextInputVariable','verb','maxBitrate','SubscriptionRequestNoAnswer','appsync-disconnect','onValue','captureStream','getPeaks','feedback-agent','Knowledge','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','Tool','removeObjectStore','problem','Received\x20track','Core','bufferedChunks','crewdle-sdk-stg.appspot.com','setItem','Error\x20searching','offset','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','trackListeners','jobQueue','handleContentUnsubscribeMediaStream','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','number','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','connectionConstructor','isInternalSDKConfigs','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getConnections','discoveryUnsubscriber','FramePerSecond','count','clearUpgradeTimeout','optimizationLayers','Success','packetsReceived','shouldContinuePropagation','map','groupId','thread-','internalProcessJobStream','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','setupStatsCollection','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','AudioVolume','floor','text','stopConnection','1:420235181083:web:4eff6062bd845cb0748cbe','\x27\x20reserved','setParams','agent','transactionService','LoadSkillFunction','dataTopics','prompts','receiverStreams','clearSyncTimeout','contentRequestSent','maps','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','getLayout','canAddCandidates','subject','closeTopic','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','inputType','ObjectStoreNotSynced','SHA-1','Invalid\x20job\x20type','notifyCluster','max','AppSync\x20connection\x20not\x20ready','Disconnect','Signaling','processOutboundReport','setStatus','isOpened','operator','CustomSkill','RequestAccepted','Submit\x20the\x20form.','subscription-request-failed','features','removeLocalMediaStream','setRank','getSupportedContentTypes','committed','processReports','database','aiSearchApiKey','checkAudioOutput','Search\x20in\x20data\x20collection\x20','false','createPubSubTopic','ExternalStorage','QueryBuilderInvalidArgument','setVendorId','suspended','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','/jobs','VectorDatabaseDoesNotExist','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','NodeTypeNotSupported','configs','publishMove','add','addReservedTables','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','totalNodes','startBidResponseHandling','addRemoteNode','setProviderId','removeItem','Error\x20during\x20MMR\x20rebuild\x20logging:','GenerativeAIContextJobInvalidType','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','supports','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','Coordinator\x20Agent','\x20-\x20Sending\x20propagation\x20(','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','loggingConnectors','connectionType','POST','workflow-tool','Wait','logStorage','CannotProvideMediaStream','user','Data','frameHeight','Completed','ragConnectors','getSenderTotalBytes','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','.crewdle-pending','buildQuery','searchApiKey','validateValue','WorkflowInvalidBlockType','appsync-no-destination','observer','120nuszwd','entities','Missing\x20OpenAI\x20API\x20key','Missing\x20RAG\x20API\x20key','load','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','clearSubscriptionRequestTimeout','webgl','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','not-resolved','.crewdle-transactions','assistant','createLocalDynamicMediaStream','FormSkill','StorageEventType','setReceiverBytes','getCurrentVersion','version','api-key-missing','canvas','RemoteMediaStreamDoesNotExist','isNeedRestart','enabled','executeJavascriptCodeSnippet','currentBatch','getNextTargetRank','heartbeatUnsubscriber','handleNeedRestart','handlePublishMediaStream','notifyObjectStoreOfNodeLeave','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','writeBatch','VectorDatabaseNameNotString','Connection','removeTrackCallback','ObjectKind','JobDispatcherAlreadyExists','ApiKeyMissing','key-value-database','input_tokens','.go','FileStatus','Key-Value\x20Database\x20-\x20Sync\x20Completed','getMediaStream','connectionGroup','GenerativeAIWorker:\x20CollectionDelete\x20failed','Missing\x20owner\x20node\x20or\x20rank','Local\x20stream\x20does\x20not\x20exist.','maxFps','pop','PublishMediaStream','senderTotalMessages','word-splitter','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','.mustache','ownerId','No\x20file\x20content\x20found','Error\x20opening\x20trace','removeKeyValueDatabase','ingestBlocks','candidate','remediation','tableName','1:519415702791:web:5dd39042f881cfde3251a2','isArray','KeyValueDatabaseDoesNotExist','getAncestorIds','set','7eVNxaU','graph-database-name-not-string','not-in','debounceReadyTimeout','.handlebars','handleNodeUpdate','contentMediator','Missing\x20search\x20API\x20key','SyncComplete','Syncing','Bitrate','saveToDisk','authenticateAgent','\x20attributed\x20to\x20','Remote\x20stream\x20does\x20not\x20exist.','KeyValueDatabaseInvalidValue','sequence','processJobStream','hashNodes','Invalid\x20object\x20store\x20state.','Dedicated','clearRestartTimeout','feature-not-enabled','RemoteRemediation','file-ingest','CrewdleConnection\x20handlePeerConnectionSystemEvents','messageType','initializeSystemTopic','Move','Knowledge\x20Cutoff\x20Date:\x20','OutgoingMediaStreamNoTopic','availableTrackKinds','root\x20hash:\x20','Early\x20return:\x20','onDisconnectHandler','handleContentUnpublishMediaStream','createKeyValueDatabase','Additional\x20context:\x0a','onClose','logServiceEvent','maxFramerate','setEmail','content-publish-media','Answer','lastCapacityReport','bind','Stats','Cannot\x20get\x20file:\x20','createPendingFileWrite','interview-agent','ExternalStorageStats','getVideoTracks','statusText','orderByKey','ExternalStorageInvalidPath','getSettings','ner','senders','searchEngineId','anthropicApiKey','handleMissingSenders','gpu','ReceiverPeerConnection.onMessage','Feedback\x20Agent','fps','::￿','sendReject','overlap','currentVersion','connected','remote-media-stream-invalid-subscription-params','transactionQueue','failJob','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','data-collection','internalJob','UnsubscribeMediaStream','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','\x20received\x20partial\x20result:','AppSync\x20client\x20not\x20ready','getGenerativeAIWorkers','Invalid\x20job\x20worker\x20type.','JobDispatcherJobNotFound','rate','send','IntermediateOutput','1092AxVeOu','High','job-worker-does-not-exist','RequestFile','remote-stream-does-not-exist','handleObjectDelete','digest','removeSubscriptionsForNode','getQuestion','.tcl','file.content','KeyValueDatabaseInvalidQuery','handleFolderCreate','val','DEBUG\x20-\x20','AI\x20worker\x20creation\x20failed.','Add','SubscriptionRequestFailed','iceServers','senderConnection','lastUpdated','pub-sub-topic-already-exists','\x20already\x20exists.','getProviderId','syncResolve','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','token','addProblem','getMinConnections','GenerativeAIWorkerStats','claude-3-7-sonnet-latest','noun','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','PubSubTopicNameNotString','text/plain','tableUnsubscriber','object','ModelVector','setOnDisconnectHandler','mmrRoot','getAgents','senderPreviousBytes','supportsContentType','pendingHandshakeCandidates','node-not-authenticated','uuid','PeerConnection','Database\x20not\x20open','checkMediaStream','write-file','RelationExtractor','subscription-request-does-not-exist','Invalid\x20object\x20store\x20sync\x20message.','hash','systemMessages','GraphDatabaseCreationFailed','Logger.getInstance','evaluateBids','onConfigurationChange','jobWorkers','pool','Delete','Generative\x20AI\x20context\x20job\x20already\x20consumed.','checkAudioContext','internalId','registerPublisher','parentId','mmr','getDatabase',':\x20Object\x20store\x20is\x20not\x20in\x20sync','Chosen\x20answer','openPubSubTopic','request','getFirestore','totalDecodeTime','Job\x20service\x20creation\x20failed.','resume','Entity','streamLabel','GenerativeAIContextJobTimeout','lastClockUpdate','RetrieveTrace','key-value-database-peak-not-found','signaling','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','nlpLibraryConnector','test-page','Ingest','Invalid\x20job\x20service\x20payload.','WebRTCBrowserPeerConnectionConnector','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','ChunkSplitter','createJob','ConnectionBufferNotEmpty','EntityExtractor','previousFrames','Generic\x20AI\x20Agent','childRemovedUnsubscriber','trackChanges','generative-ai-context-job-already-consumed','getDocs','\x0a</','ExternalStorageConnectorsMissing','unregisterCluster','height','KeyValueDatabaseStats','Subscription\x20request\x20does\x20not\x20exist.','Agent\x20output\x20is\x20not\x20a\x20string','getIsLoaded','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','PubSubTopicStats','peer-connection-invalid-destination','choices','\x20must\x20be\x20a\x20string','getTransactionByHash','senderCurrentBytes','ref','framesEncoded','searchConnector','\x20does\x20not\x20support\x20content\x20type\x20','writeTransaction','prompt_tokens','reportCapacity','Node\x20not\x20authenticated','chunks','NeedRestart','Downgrade','registerSystemSource','Cannot\x20publish\x20move\x20operation:\x20','.pdf','/resources/external-storage/items/','getKeyValueDatabase','.html','createBatch','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','removeTrackListeners','width','concat','CREWDLE_WEB_SDK','isSubscribed','collection-query','computeHash','vector-database','objectStores','vectorDatabases','processRank','\x20answer','removeVectorDatabase','Error\x20fetching\x20context','PubSubTopicDoesNotExist','Error\x20processing\x20retrieve','URL\x20is\x20required','o3-mini','isResultResponse','dt_volatility','catch','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','bytesSent','messagesReceived','2368092ySSTbi','Transaction','unsubscribeHandler','processContentSynchronized','processTransactionsToComputeMMR','Query\x20must\x20refer\x20to\x20the\x20file\x20table','List','left','TimePerFrame','PayloadAction','validateKey','receiverPreviousBytes','insert','getResolutionScale','Object\x20store\x20is\x20not\x20in\x20sync','every','MissingSystemTopic','ObjectStoreInvalidPayload','clearHeartbeat','log','values','syncKeyValueDatabase','gatheringState','updateLastTransactionId','Connection\x20does\x20not\x20exist','topics','handleRemoteTrackFailure','claude-3-5-sonnet-latest','JobWorkerDoesNotExist','WordSplitter','unregisterRemoteNode','splitParts','removeJobWorker','checkDeviceConfig','Could\x20not\x20open\x20trace','handleOnMessage','RoundTripTime','DocumentParser','hasTable','relation-extractor','data','Anthropic','9SIfNGK','loadEnabledChannels','Base\x20Peer\x20Connection','connect','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','crewdle','handleFileSync','app','createOffer','query-generator','\x27\x20in\x20layout','folder-create','en-US','messageBuffer','stop','node-invalid-type','DeviceConfig','Opened\x20generative\x20AI\x20worker','remoteId','ConnectionNotConnected','publishNodeLeave','publishFolder','inputTokens','signalingState','resolve','writeFile','Receiver','JobQueueService:\x20Error\x20running\x20job','PromptSource','created','ENOENT','local-media-stream-already-exists','entries','buildTableEvent','1491304LlHtkq','updateDebounceTimeout','handleFileRequest','keyValueDatabases','Vector\x20database\x20creation\x20failed.','mode','pendingFilesSyncing','File','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','getCapacityReport','listChanges','\x20is\x20required','graphService','replace','onSnapshot','collection','request-file-write','syncContent','Received\x20event\x20on\x20cluster','createCollection','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','getTable','crewdleSDKLoggingChannels','createRemoteMediaStream','systemTopicUnsubscribe','AITrace','logLevel','/resources/generative-ai-workflow/items','createConstantSource','VectorDatabase','Logging\x20not\x20enabled\x20for\x20channel\x20','GenerativeAIRagType','updatePropagationProperties','globalObject','Execute\x20skill\x20','checkWebGL','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','createBuffer','MediaStreamPriority','getInstance','handleIceCandidates','key-value-database-invalid-query','Cannot\x20find\x20External\x20Storage\x20connection:\x20','getEntities','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','accessToken','discover','Competitive\x20Analysis\x20Agent','/nodes','join','checkScreenSharing','payloadType','collectStats','Retrieve','handleRemediationSystemEvents','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','transactionsToSync','sdk-internal-error:\x20','sendFile','onNodeDisconnect','Search\x20Agent','processBatch','/resources/generative-ai-collection/items','ended','logSupport','jobBids','Invalid\x20value.\x20Property\x20\x27','parse','coordinator-agent','file.type','ceil','workflowId','GraphDatabaseStats','Internal\x20SDK\x20Error:\x20','onremovetrack','onRemoveTrack','Execute\x20the\x20agent\x20','OpenAI','remoteUnsubscriber','open','unregisterDestination','dataBucketIds','handleContentSubscribeMediaStream','consumeBufferedEvents','object-storage-upload','waitAnswer','jobObservers','JobWorker:\x20Sending\x20job\x20bid','requestSubscription','\x20transactions\x20from\x20node\x20','handleSubscriptionRestartNeedMediaStream','kind','jobDispatchers','removeEventListener','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','padStart','apiUrl','deleteFile','condition_result','crewdle-sdk-stg.firebaseapp.com','deleteTransactionsForTable','getDataCollection','chunk-splitter','ObjectStoreDoesNotExist','connectionManager','GenerativeAIContextCreationFailed','pub-sub-topic-does-not-exist','mediaStream','out','NodeManager\x20-\x20NodeUpdate','logPropagateSystemEvent','getJob','Buffering\x20event','key-value-database-table-not-found','chunk','setPendingFileSyncingPayload','setSubscriptionRequestTimeout','publishLocalDynamicMediaStream','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','shift','object-store-already-exists','ClosePubSubTopic','transactionHashMap','receiverUnsubscribers','/search','wait','calculateSize','ExternalStorageUpload','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','Stats:\x20report','openedTraces','FormSetAnswer','sendBid','August\x202023','publishUserUpdate','job-worker-already-exists','combinePeaks','CloseGenerativeAIContext','checkBackgrounds','createConnection','KeyValueDatabaseNotOpen','find','.djt','Invalid\x20content\x20type','openGenerativeAIContext','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','getWorkflow','nextNodeId','.ts','.ipynb','missing-datachannel','outputTokens','asc','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','time_per_frame','update','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','syncTransactions','request-file-sync','\x20to\x20send\x20dispatcherJob\x20','commit','wait-true','connectorConstructor','connectionState','Upload','April\x202024','getGenerativeAIContextsStandalone','audioContext','getAudioVideoDelay','blockId','addConnection','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','parameters','Key-value\x20database\x20peak\x20not\x20found.','getAvailableTrackKinds','ready','receiverBitrate','StreamReport','onUnregisterPublisher','deleteJob','GraphSearch','object-store-name-not-string','getEmail','6918yccdcH','rebuildMMR','isSync','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','\x27\x20payload:','context','onBufferedAmountLow','lastTransactionId','isBidResponse','track','Request','performCalculation','appsync-connect-fail','DataStream\x20send','Embeddings','isMediaDestination','getRoundTripTime','Index','setIsLoaded','processJob','InvalidAccess','documentParserConnector','batchQueue','GenerativeAIEngineType'];a0_0x23b3=function(){return _0x4109b4;};return a0_0x23b3();}(function(_0x39163f,_0x3bd36e){const _0x3a4c08=a0_0xca1a,_0x39a17c=_0x39163f();while(!![]){try{const _0x4568e7=-parseInt(_0x3a4c08(0xa81))/0x1+parseInt(_0x3a4c08(0xab6))/0x2*(parseInt(_0x3a4c08(0x8df))/0x3)+-parseInt(_0x3a4c08(0x4a7))/0x4*(-parseInt(_0x3a4c08(0x34a))/0x5)+parseInt(_0x3a4c08(0x779))/0x6*(parseInt(_0x3a4c08(0x889))/0x7)+-parseInt(_0x3a4c08(0x9ca))/0x8*(parseInt(_0x3a4c08(0x9a8))/0x9)+parseInt(_0x3a4c08(0x845))/0xa*(parseInt(_0x3a4c08(0x291))/0xb)+-parseInt(_0x3a4c08(0x97e))/0xc;if(_0x4568e7===_0x3bd36e)break;else _0x39a17c['push'](_0x39a17c['shift']());}catch(_0xe257ba){_0x39a17c['push'](_0x39a17c['shift']());}}}(a0_0x23b3,0x356fe),!function(_0x4c2ba7,_0x196ba4){const _0xfe16cd=a0_0xca1a;if(_0xfe16cd(0x903)==typeof exports&&'object'==typeof module)module['exports']=_0x196ba4();else{if(_0xfe16cd(0x40a)==typeof define&&define['amd'])define([],_0x196ba4);else{var _0x2c11e5=_0x196ba4();for(var _0x138bed in _0x2c11e5)(_0xfe16cd(0x903)==typeof exports?exports:_0x4c2ba7)[_0x138bed]=_0x2c11e5[_0x138bed];}}}(this,()=>((()=>{'use strict';const _0xe992e3=a0_0xca1a;var _0x53095f={0x14d:(_0x477bc9,_0x5cfa28,_0xe71a72)=>{const _0x410a7e=a0_0xca1a;_0xe71a72['d'](_0x5cfa28,{'O':()=>_0x1fa921});const _0x1fa921={'version':'1.0.37.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x410a7e(0x51d),'authDomain':_0x410a7e(0xa2d),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x410a7e(0x269),'storageBucket':_0x410a7e(0x7c4),'appId':_0x410a7e(0x884),'functionsRegion':_0x410a7e(0x3d5)},'apiUrl':_0x410a7e(0x1d7),'google':{'searchEngineId':_0x410a7e(0x22f)},'aws':{'endpoint':_0x410a7e(0x54d),'region':_0x410a7e(0x292)}};},0x33b:(_0x13168d,_0x85f665,_0x5eb082)=>{_0x5eb082['d'](_0x85f665,{'O':()=>_0x4f7468});const _0x4f7468={};},0x3e6:(_0x252b0e,_0x577270,_0x33b989)=>{const _0x2510eb=a0_0xca1a;_0x33b989['d'](_0x577270,{'O':()=>_0x3d36fe});const _0x3d36fe={'version':_0x2510eb(0x65d),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x2510eb(0x70b),'authDomain':_0x2510eb(0x508),'databaseURL':_0x2510eb(0x34d),'projectId':_0x2510eb(0x6b8),'storageBucket':_0x2510eb(0x57e),'messagingSenderId':_0x2510eb(0x433),'appId':_0x2510eb(0x7e6),'measurementId':_0x2510eb(0x317)},'apiUrl':'https://api.crewdle.ai','aws':{'endpoint':_0x2510eb(0x6af),'region':_0x2510eb(0x292)}};},0x20:(_0x9c7a8a,_0x2556b6,_0x4d186f)=>{_0x4d186f['d'](_0x2556b6,{'O':()=>_0x179227});const _0x179227={};}},_0x33bf6d={};function _0x2a1a61(_0x1e59b5){const _0x15cfe7=a0_0xca1a;var _0x3f675c=_0x33bf6d[_0x1e59b5];if(void 0x0!==_0x3f675c)return _0x3f675c['exports'];var _0x19639c=_0x33bf6d[_0x1e59b5]={'exports':{}};return _0x53095f[_0x1e59b5](_0x19639c,_0x19639c[_0x15cfe7(0x504)],_0x2a1a61),_0x19639c['exports'];}_0x2a1a61['d']=(_0x4787ee,_0x3e05db)=>{const _0x4f80f0=a0_0xca1a;for(var _0x13c3a8 in _0x3e05db)_0x2a1a61['o'](_0x3e05db,_0x13c3a8)&&!_0x2a1a61['o'](_0x4787ee,_0x13c3a8)&&Object[_0x4f80f0(0x3ce)](_0x4787ee,_0x13c3a8,{'enumerable':!0x0,'get':_0x3e05db[_0x13c3a8]});},_0x2a1a61['g']=(function(){const _0x5929c0=a0_0xca1a;if(_0x5929c0(0x903)==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x1ea660){if(_0x5929c0(0x903)==typeof window)return window;}}()),_0x2a1a61['o']=(_0x11e93a,_0x559173)=>Object[_0xe992e3(0x656)][_0xe992e3(0x1e0)][_0xe992e3(0x2eb)](_0x11e93a,_0x559173),_0x2a1a61['r']=_0x559e8d=>{const _0x3eaea7=_0xe992e3;_0x3eaea7(0x4f8)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x3eaea7(0x3ce)](_0x559e8d,Symbol['toStringTag'],{'value':'Module'}),Object[_0x3eaea7(0x3ce)](_0x559e8d,_0x3eaea7(0x3da),{'value':!0x0});};var _0x2a0ddc,_0x2d66c0,_0x3c5ddd,_0x3a426c={};_0x2a1a61['r'](_0x3a426c),_0x2a1a61['d'](_0x3a426c,{'KeyValueDatabase':()=>_0x7f83d1,'LayoutBuilder':()=>_0xc8aaf7,'LoggingChannels':()=>_0x3c5ddd,'QueryBuilder':()=>_0x2fd359,'SDK':()=>_0x3df5d9,'SDKClientErrorCodes':()=>_0x2a0ddc,'TableBuilder':()=>_0x234451,'logger':()=>_0xd64180}),function(_0x4e6349){const _0x90a564=_0xe992e3;_0x4e6349[_0x90a564(0x86a)]=_0x90a564(0x857),_0x4e6349[_0x90a564(0x93c)]='connection-buffer-not-empty',_0x4e6349[_0x90a564(0x43e)]=_0x90a564(0x264),_0x4e6349[_0x90a564(0x2e8)]='external-storage-connection-already-exists',_0x4e6349[_0x90a564(0xacf)]=_0x90a564(0x56a),_0x4e6349[_0x90a564(0x2d4)]=_0x90a564(0x265),_0x4e6349['ExternalStorageConnectorsMissing']=_0x90a564(0x7ac),_0x4e6349[_0x90a564(0x8bf)]='external-storage-invalid-path',_0x4e6349['ExternalStorageNameNotString']=_0x90a564(0x58c),_0x4e6349[_0x90a564(0x2df)]=_0x90a564(0x89f),_0x4e6349[_0x90a564(0x1ea)]=_0x90a564(0x229),_0x4e6349[_0x90a564(0xae5)]='generative-ai-context-does-not-exist',_0x4e6349['GenerativeAIContextJobMissingThreadId']=_0x90a564(0x792),_0x4e6349[_0x90a564(0x829)]=_0x90a564(0x569),_0x4e6349[_0x90a564(0x678)]='generative-ai-label-conflict',_0x4e6349[_0x90a564(0x3f5)]=_0x90a564(0x446),_0x4e6349[_0x90a564(0x144)]='generative-ai-worker-missing-connector',_0x4e6349[_0x90a564(0x318)]=_0x90a564(0x50e),_0x4e6349[_0x90a564(0x26f)]=_0x90a564(0x78c),_0x4e6349[_0x90a564(0x629)]='graph-database-does-not-exist',_0x4e6349['GraphDatabaseMissingConnector']=_0x90a564(0x362),_0x4e6349['GraphDatabaseNameNotString']=_0x90a564(0x88a),_0x4e6349['JobDispatcherAlreadyExists']='job-dispatcher-already-exists',_0x4e6349[_0x90a564(0x669)]=_0x90a564(0x4ea),_0x4e6349[_0x90a564(0x6fc)]=_0x90a564(0x12c),_0x4e6349[_0x90a564(0x8db)]=_0x90a564(0x4c1),_0x4e6349['JobDispatcherInvalidJobType']=_0x90a564(0x32b),_0x4e6349['JobWorkerAlreadyExists']=_0x90a564(0xa51),_0x4e6349[_0x90a564(0x99a)]=_0x90a564(0x8e1),_0x4e6349[_0x90a564(0xa9d)]=_0x90a564(0xa42),_0x4e6349[_0x90a564(0x41a)]='object-store-already-subscribed',_0x4e6349['ObjectStoreDoesNotExist']=_0x90a564(0x529),_0x4e6349['ObjectStoreNameNotString']=_0x90a564(0xa7f),_0x4e6349[_0x90a564(0x98f)]='object-store-invalid-payload',_0x4e6349[_0x90a564(0x680)]='object-store-invalid-path',_0x4e6349['ObjectStoreNotInSync']='object-store-not-in-sync',_0x4e6349[_0x90a564(0x646)]='internal-sdk-error',_0x4e6349[_0x90a564(0xa95)]=_0x90a564(0x1b2),_0x4e6349[_0x90a564(0x2a1)]=_0x90a564(0x3a5),_0x4e6349['KeyValueDatabaseDoesNotExist']=_0x90a564(0x723),_0x4e6349[_0x90a564(0x6a1)]=_0x90a564(0xb0a),_0x4e6349['KeyValueDatabaseInvalidQuery']=_0x90a564(0x9f3),_0x4e6349[_0x90a564(0x898)]='key-value-database-invalid-value',_0x4e6349[_0x90a564(0x6c5)]=_0x90a564(0x1a4),_0x4e6349['KeyValueDatabaseNotOpen']='key-value-database-not-open',_0x4e6349[_0x90a564(0xab9)]='key-value-database-table-name-reserved',_0x4e6349[_0x90a564(0x48d)]=_0x90a564(0xa3b),_0x4e6349[_0x90a564(0x158)]=_0x90a564(0x22e),_0x4e6349['LocalMediaStreamAlreadyExists']=_0x90a564(0x9c7),_0x4e6349[_0x90a564(0x252)]=_0x90a564(0x2a0),_0x4e6349[_0x90a564(0x2ae)]=_0x90a564(0x8f4),_0x4e6349[_0x90a564(0x974)]=_0x90a564(0xa34),_0x4e6349['PubSubTopicNameNotString']=_0x90a564(0x552),_0x4e6349[_0x90a564(0x621)]=_0x90a564(0x6f0),_0x4e6349[_0x90a564(0x816)]=_0x90a564(0x131),_0x4e6349['RemoteMediaStreamAlreadyExists']='remote-media-stream-already-exists',_0x4e6349[_0x90a564(0x755)]=_0x90a564(0x8cf),_0x4e6349[_0x90a564(0x711)]='subscription-request-in-progress',_0x4e6349[_0x90a564(0x19e)]=_0x90a564(0x90b),_0x4e6349['NodeInvalidType']=_0x90a564(0x9b7),_0x4e6349[_0x90a564(0x81d)]=_0x90a564(0x684),_0x4e6349[_0x90a564(0x1be)]=_0x90a564(0x31d),_0x4e6349[_0x90a564(0x2b3)]=_0x90a564(0x45f),_0x4e6349[_0x90a564(0x81b)]='vector-database-does-not-exist',_0x4e6349['VectorDatabaseMissingConnector']=_0x90a564(0x3b8),_0x4e6349[_0x90a564(0x865)]=_0x90a564(0x647);}(_0x2a0ddc||(_0x2a0ddc={}));class _0x3748ee extends Error{['code'];constructor(_0x76bd54,_0x36ee8e){const _0x125b82=_0xe992e3;super(_0x36ee8e),this[_0x125b82(0x14f)]=_0x76bd54;}}!function(_0x4a8da3){const _0x2529cc=_0xe992e3;_0x4a8da3[_0x2529cc(0x1f4)]=_0x2529cc(0x3e2),_0x4a8da3[_0x2529cc(0x38b)]=_0x2529cc(0x190),_0x4a8da3[_0x2529cc(0xad3)]=_0x2529cc(0x86b),_0x4a8da3[_0x2529cc(0x9e7)]='vector-database',_0x4a8da3['GraphDatabase']=_0x2529cc(0x6a7),_0x4a8da3[_0x2529cc(0x815)]=_0x2529cc(0x45b),_0x4a8da3[_0x2529cc(0x341)]=_0x2529cc(0x339),_0x4a8da3[_0x2529cc(0xadc)]=_0x2529cc(0x7a6);}(_0x2d66c0||(_0x2d66c0={})),function(_0x339aa7){const _0x1ad347=_0xe992e3;_0x339aa7[_0x1ad347(0x288)]=_0x1ad347(0x271),_0x339aa7[_0x1ad347(0x278)]=_0x1ad347(0x479),_0x339aa7[_0x1ad347(0x866)]=_0x1ad347(0x27f),_0x339aa7[_0x1ad347(0x3a3)]=_0x1ad347(0x75f),_0x339aa7['Cluster']=_0x1ad347(0x167),_0x339aa7[_0x1ad347(0x52d)]=_0x1ad347(0x2e4),_0x339aa7[_0x1ad347(0x2be)]='data-stream',_0x339aa7[_0x1ad347(0x365)]=_0x1ad347(0x3cb),_0x339aa7[_0x1ad347(0x486)]=_0x1ad347(0x4d9),_0x339aa7[_0x1ad347(0x33a)]=_0x1ad347(0x77b),_0x339aa7[_0x1ad347(0x6b5)]=_0x1ad347(0x188),_0x339aa7[_0x1ad347(0xad3)]=_0x1ad347(0x86b),_0x339aa7[_0x1ad347(0x2e9)]=_0x1ad347(0x3f7),_0x339aa7[_0x1ad347(0x666)]=_0x1ad347(0x91b),_0x339aa7[_0x1ad347(0x1f4)]='pubsub',_0x339aa7['ReceiverOnMessage']='receiver-on-message',_0x339aa7[_0x1ad347(0x622)]=_0x1ad347(0x882),_0x339aa7[_0x1ad347(0xb10)]=_0x1ad347(0x249),_0x339aa7[_0x1ad347(0x800)]=_0x1ad347(0x932),_0x339aa7[_0x1ad347(0x8b7)]=_0x1ad347(0x2af),_0x339aa7[_0x1ad347(0x173)]=_0x1ad347(0x62a),_0x339aa7[_0x1ad347(0x2ca)]=_0x1ad347(0x4ab),_0x339aa7['System']='system',_0x339aa7['SystemStats']=_0x1ad347(0x227),_0x339aa7[_0x1ad347(0xb07)]=_0x1ad347(0x935),_0x339aa7[_0x1ad347(0x90d)]=_0x1ad347(0x6d5);}(_0x3c5ddd||(_0x3c5ddd={}));const _0x981fb5=require('@crewdle/web-sdk-types');class _0x2fd359{['query'];constructor(_0x3a546d){const _0x2d17c1=_0xe992e3;this[_0x2d17c1(0x424)]={'orderBy':{'key':_0x3a546d,'direction':_0x2d17c1(0xa62)}};}static['index'](_0x26c834){const _0x128163=_0xe992e3;if(_0x128163(0xab7)!=typeof _0x26c834||0x0===_0x26c834[_0x128163(0x756)])throw new _0x3748ee(_0x2a0ddc['QueryBuilderInvalidArgument'],_0x128163(0x7c8));return new _0x2fd359(_0x26c834);}static['validateQuery'](_0x405dba){try{return _0x2fd359['buildQuery'](_0x405dba),!0x0;}catch(_0x4a3067){return!0x1;}}static[_0xe992e3(0x83f)](_0x44ee77){const _0x20fffd=_0xe992e3,_0x180ce1=_0x2fd359[_0x20fffd(0x369)](_0x44ee77['orderBy']?.[_0x20fffd(0x231)]??_0x44ee77[_0x20fffd(0x356)]?.[_0x20fffd(0x231)]??'');if(_0x44ee77['where']){const _0x286650=_0x44ee77[_0x20fffd(0x356)];if((_0x2fd359[_0x20fffd(0xb05)](_0x286650)||_0x2fd359['isWhereValues'](_0x286650)||_0x2fd359[_0x20fffd(0x121)](_0x286650))&&_0x180ce1[_0x20fffd(0x356)](_0x286650[_0x20fffd(0x804)],_0x286650[_0x20fffd(0x299)]),_0x44ee77[_0x20fffd(0x568)]?.[_0x20fffd(0x231)]&&_0x44ee77[_0x20fffd(0x568)]?.[_0x20fffd(0x231)]!==_0x44ee77[_0x20fffd(0x356)][_0x20fffd(0x231)])throw new _0x3748ee(_0x2a0ddc[_0x20fffd(0x816)],_0x20fffd(0xab8));}return _0x44ee77[_0x20fffd(0x568)]&&_0x180ce1['orderBy'](_0x44ee77['orderBy']['direction']),_0x44ee77['limit']&&_0x180ce1[_0x20fffd(0x464)](_0x44ee77[_0x20fffd(0x464)]),_0x44ee77[_0x20fffd(0x7c7)]&&_0x180ce1[_0x20fffd(0x7c7)](_0x44ee77[_0x20fffd(0x7c7)]),_0x180ce1;}[_0xe992e3(0x409)](){return{...this['query']};}[_0xe992e3(0x356)](_0x57e2bf,_0x2018b7){const _0x5bbbe1=_0xe992e3,_0x3b199d={'key':this['query'][_0x5bbbe1(0x568)]['key'],'operator':_0x57e2bf,'value':_0x2018b7};if(!_0x2fd359[_0x5bbbe1(0xb05)](_0x3b199d)&&!_0x2fd359[_0x5bbbe1(0xaf9)](_0x3b199d)&&!_0x2fd359[_0x5bbbe1(0x121)](_0x3b199d))throw new _0x3748ee(_0x2a0ddc[_0x5bbbe1(0x816)],_0x5bbbe1(0x1e8));return this[_0x5bbbe1(0x424)]['where']=_0x3b199d,this;}['orderBy'](_0x41e6d7){const _0x3f17ff=_0xe992e3;if('asc'!==_0x41e6d7&&_0x3f17ff(0x352)!==_0x41e6d7)throw new _0x3748ee(_0x2a0ddc[_0x3f17ff(0x816)],_0x3f17ff(0x965));return this['query'][_0x3f17ff(0x568)][_0x3f17ff(0x4c7)]=_0x41e6d7,this;}[_0xe992e3(0x464)](_0xc44481){const _0x483c79=_0xe992e3;if('number'!=typeof _0xc44481||_0xc44481<0x0)throw new _0x3748ee(_0x2a0ddc['QueryBuilderInvalidArgument'],_0x483c79(0x363));return this[_0x483c79(0x424)][_0x483c79(0x464)]=_0xc44481,this;}['offset'](_0x56c93c){const _0x3387b1=_0xe992e3;if(_0x3387b1(0x7cd)!=typeof _0x56c93c||_0x56c93c<0x0)throw new _0x3748ee(_0x2a0ddc['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x3387b1(0x424)][_0x3387b1(0x7c7)]=_0x56c93c,this;}static[_0xe992e3(0xb05)](_0x39082e){const _0x3517ec=_0xe992e3;if(!(_0x39082e&&_0x3517ec(0x903)==typeof _0x39082e&&_0x3517ec(0x804)in _0x39082e&&'value'in _0x39082e))return!0x1;const {operator:_0x141ee5,value:_0x5bd0da}=_0x39082e;return!(!['==','!=','>','<','<=','>=']['includes'](_0x141ee5)||Array[_0x3517ec(0x885)](_0x5bd0da));}static['isWhereValues'](_0x245563){const _0x31455d=_0xe992e3;if(!(_0x245563&&_0x31455d(0x903)==typeof _0x245563&&_0x31455d(0x804)in _0x245563&&'value'in _0x245563))return!0x1;const {operator:_0x3ceea7,value:_0x4255cd}=_0x245563;return!(!['in',_0x31455d(0x88b)]['includes'](_0x3ceea7)||!Array[_0x31455d(0x885)](_0x4255cd));}static[_0xe992e3(0x121)](_0x4eda77){const _0x22d972=_0xe992e3;if(!(_0x4eda77&&_0x22d972(0x903)==typeof _0x4eda77&&'operator'in _0x4eda77&&'value'in _0x4eda77))return!0x1;const {operator:_0xc6c62f,value:_0x59a311}=_0x4eda77;return!(_0x22d972(0x18a)!==_0xc6c62f||!Array[_0x22d972(0x885)](_0x59a311)||0x2!==_0x59a311[_0x22d972(0x756)]);}}class _0xc8aaf7{[_0xe992e3(0x444)];constructor(_0x16bf9a){const _0x1401d3=_0xe992e3;this[_0x1401d3(0x444)]={'tables':{},'version':_0x16bf9a};}static[_0xe992e3(0x37b)](_0x41031c){const _0x1d1fd1=_0xe992e3;for(const _0x4607e7 in _0x41031c){if('version'!==_0x4607e7&&'tables'!==_0x4607e7)return[!0x1,_0x1d1fd1(0x405)+_0x4607e7+_0x1d1fd1(0x9b2)];if(_0x1d1fd1(0xb1a)===_0x4607e7)for(const _0x5a31c1 in _0x41031c[_0x1d1fd1(0xb1a)]){if(_0x1d1fd1(0xab7)!=typeof _0x5a31c1)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x5a31c1+'\x27'];for(const _0xe4656d in _0x41031c[_0x1d1fd1(0xb1a)][_0x5a31c1]){if(_0x1d1fd1(0x20b)!==_0xe4656d)return[!0x1,_0x1d1fd1(0x405)+_0xe4656d+'\x27\x20in\x20table\x20\x27'+_0x5a31c1+'\x27'];const _0x137b10=_0x41031c[_0x1d1fd1(0xb1a)][_0x5a31c1][_0xe4656d]??[];for(const _0x22a2a1 of _0x137b10)if(void 0x0===_0x22a2a1[_0x1d1fd1(0x1f5)]||'string'!=typeof _0x22a2a1[_0x1d1fd1(0x1f5)])return[!0x1,_0x1d1fd1(0x773)+_0x5a31c1+_0x1d1fd1(0x59d)];}}else{if(_0x1d1fd1(0x856)===_0x4607e7&&_0x1d1fd1(0x7cd)!=typeof _0x41031c[_0x4607e7])return[!0x1,'Invalid\x20version\x20\x27'+_0x41031c[_0x4607e7]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x1d1fd1(0xaed)];}static[_0xe992e3(0x444)](_0x49c8bb){const _0x934e5=_0xe992e3,_0x6d555e=new _0xc8aaf7(_0x49c8bb);return _0x6d555e['layout'][_0x934e5(0x856)]=_0x49c8bb,_0x6d555e;}['table'](_0x5157c9){const _0x3de173=_0xe992e3;return this['layout']['tables'][_0x5157c9]={},new _0x234451(this[_0x3de173(0x444)][_0x3de173(0xb1a)][_0x5157c9]);}['getLayout'](){const _0x489ae0=_0xe992e3;return this[_0x489ae0(0x444)];}}class _0x234451{[_0xe992e3(0x2f4)];constructor(_0x8a4db1){const _0x132515=_0xe992e3;this[_0x132515(0x2f4)]=_0x8a4db1;}[_0xe992e3(0x369)](_0x100787){const _0xcab5df=_0xe992e3;return this[_0xcab5df(0x2f4)][_0xcab5df(0x20b)]=this[_0xcab5df(0x2f4)][_0xcab5df(0x20b)]??[],this['tableLayout']['indexes']['push']({'keyPath':_0x100787}),this;}}const _0xe53a0a=0x40000,_0x505ed0=0x20000,_0x411ded=0x1388,_0x4b3de2=_0xe992e3(0x4c3),_0x5172dc=_0xe992e3(0x83e),_0x11c5cb=_0xe992e3(0x84f),_0x4e92cd=_0xe992e3(0x6c2),_0x5c29b3=0xdbba0,_0x1e8dad=0x61a8,_0x413d1e=_0xe992e3(0x776);var _0x28b3c3;!function(_0x27da98){const _0x5e0f62=_0xe992e3;_0x27da98[_0x5e0f62(0x16b)]='connection-not-initialized',_0x27da98[_0x5e0f62(0x9bb)]='connection-not-connected',_0x27da98[_0x5e0f62(0x3c7)]='connection-no-retry-queue',_0x27da98['ConnectionInvalidDataEvent']='connection-invalid-data-event',_0x27da98['DataCollectionDoesNotExist']=_0x5e0f62(0x1da),_0x27da98['GenerativeAIContextCreationFailed']='generative-ai-context-creation-failed',_0x27da98[_0x5e0f62(0x538)]='generative-ai-context-invalid-partial-result',_0x27da98[_0x5e0f62(0x65c)]=_0x5e0f62(0x942),_0x27da98[_0x5e0f62(0x16e)]=_0x5e0f62(0x2b6),_0x27da98[_0x5e0f62(0x92e)]=_0x5e0f62(0x334),_0x27da98[_0x5e0f62(0x71f)]=_0x5e0f62(0x5b4),_0x27da98[_0x5e0f62(0x916)]=_0x5e0f62(0x3c5),_0x27da98[_0x5e0f62(0x2f5)]=_0x5e0f62(0x42e),_0x27da98[_0x5e0f62(0x325)]='invalid-publisher',_0x27da98['InvalidSubscriber']=_0x5e0f62(0x34c),_0x27da98[_0x5e0f62(0x6dd)]=_0x5e0f62(0xafb),_0x27da98['JobDispatcherCreationFailed']='job-dispatcher-creation-failed',_0x27da98[_0x5e0f62(0x2e0)]='job-dispatcher-invalid-payload',_0x27da98['JobDispatcherJobNotFound']=_0x5e0f62(0x4c1),_0x27da98[_0x5e0f62(0x5d9)]='job-dispatcher-observer-not-found',_0x27da98[_0x5e0f62(0x5cf)]='job-worker-creation-failed',_0x27da98[_0x5e0f62(0x417)]=_0x5e0f62(0x43c),_0x27da98[_0x5e0f62(0x542)]=_0x5e0f62(0x6fd),_0x27da98[_0x5e0f62(0x3e0)]=_0x5e0f62(0x931),_0x27da98[_0x5e0f62(0x4de)]=_0x5e0f62(0x3e5),_0x27da98[_0x5e0f62(0x350)]=_0x5e0f62(0x66f),_0x27da98['KeyValueDatabaseTransactionValueNotSet']=_0x5e0f62(0x3d1),_0x27da98[_0x5e0f62(0xaa3)]=_0x5e0f62(0x523),_0x27da98[_0x5e0f62(0x5cc)]=_0x5e0f62(0x354),_0x27da98['MissingSystemTopic']='missing-system-topic',_0x27da98['MistletCapacityReportNotSet']=_0x5e0f62(0x1e9),_0x27da98['ObjectStoreCannotWriteTransaction']='object-store-cannot-write-transaction',_0x27da98['ObjectStoreInvalidState']='object-store-invalid-state',_0x27da98['ObjectStoreInvalidSyncMessage']='object-store-invalid-sync-message',_0x27da98[_0x5e0f62(0x7f9)]=_0x5e0f62(0x467),_0x27da98[_0x5e0f62(0x8a7)]='outgoing-stream-no-topic',_0x27da98[_0x5e0f62(0x859)]=_0x5e0f62(0x8e3),_0x27da98[_0x5e0f62(0x4da)]=_0x5e0f62(0x1d1),_0x27da98[_0x5e0f62(0x4ca)]='remote-connection-exists',_0x27da98['SubscriptionRequestDoesNotExist']=_0x5e0f62(0x912),_0x27da98['SubscriptionRequestFailed']=_0x5e0f62(0x808),_0x27da98[_0x5e0f62(0x7b6)]=_0x5e0f62(0x442),_0x27da98[_0x5e0f62(0x1b6)]='node-does-not-exist',_0x27da98[_0x5e0f62(0x24b)]=_0x5e0f62(0x594),_0x27da98[_0x5e0f62(0x238)]=_0x5e0f62(0x94e),_0x27da98[_0x5e0f62(0x4fc)]='vector-database-creation-failed',_0x27da98['WorkflowDoesNotExist']='workflow-does-not-exist',_0x27da98[_0x5e0f62(0x842)]=_0x5e0f62(0x790);}(_0x28b3c3||(_0x28b3c3={}));const _0x26df6d=new Map([[_0x28b3c3[_0xe992e3(0x16b)],_0xe992e3(0x6fb)],[_0x28b3c3['ConnectionNotConnected'],_0xe992e3(0x4cc)],[_0x28b3c3['ConnectionNoRetryQueue'],_0xe992e3(0x788)],[_0x28b3c3[_0xe992e3(0x724)],_0xe992e3(0x492)],[_0x28b3c3[_0xe992e3(0x787)],_0xe992e3(0x555)],[_0x28b3c3[_0xe992e3(0xa33)],_0xe992e3(0x28e)],[_0x28b3c3['GenerativeAIContextInvalidPartialResult'],_0xe992e3(0x706)],[_0x28b3c3['GenerativeAIContextJobAlreadyConsumed'],_0xe992e3(0x91d)],[_0x28b3c3[_0xe992e3(0x16e)],_0xe992e3(0x245)],[_0x28b3c3['GenerativeAIContextJobTimeout'],_0xe992e3(0x420)],[_0x28b3c3[_0xe992e3(0x71f)],_0xe992e3(0x8ee)],[_0x28b3c3[_0xe992e3(0x916)],'Graph\x20database\x20creation\x20failed.'],[_0x28b3c3[_0xe992e3(0x2f5)],_0xe992e3(0x546)],[_0x28b3c3['InvalidPublisher'],_0xe992e3(0x5fb)],[_0x28b3c3['InvalidSubscriber'],_0xe992e3(0x370)],[_0x28b3c3['InvalidSubscription'],_0xe992e3(0x480)],[_0x28b3c3[_0xe992e3(0x3b2)],_0xe992e3(0x92a)],[_0x28b3c3[_0xe992e3(0x2e0)],_0xe992e3(0x937)],[_0x28b3c3[_0xe992e3(0x8db)],'Job\x20service\x20job\x20not\x20found.'],[_0x28b3c3['JobDispatcherObserverNotFound'],_0xe992e3(0x373)],[_0x28b3c3[_0xe992e3(0x5cf)],_0xe992e3(0xb0d)],[_0x28b3c3[_0xe992e3(0x417)],_0xe992e3(0x8da)],[_0x28b3c3['KeyValueDatabaseCreationFailed'],_0xe992e3(0x28c)],[_0x28b3c3[_0xe992e3(0x3e0)],_0xe992e3(0xa77)],[_0x28b3c3[_0xe992e3(0x4de)],_0xe992e3(0x394)],[_0x28b3c3[_0xe992e3(0x350)],_0xe992e3(0x368)],[_0x28b3c3['KeyValueDatabaseTransactionValueNotSet'],_0xe992e3(0x22c)],[_0x28b3c3['LocalMediaStreamDoesNotExist'],_0xe992e3(0x874)],[_0x28b3c3[_0xe992e3(0x5cc)],_0xe992e3(0x36d)],[_0x28b3c3['MissingSystemTopic'],_0xe992e3(0x604)],[_0x28b3c3[_0xe992e3(0x15a)],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x28b3c3[_0xe992e3(0x4f3)],_0xe992e3(0xac7)],[_0x28b3c3[_0xe992e3(0x5a7)],_0xe992e3(0x913)],[_0x28b3c3[_0xe992e3(0x332)],_0xe992e3(0x89c)],[_0x28b3c3[_0xe992e3(0x7f9)],'Object\x20store\x20not\x20synced.'],[_0x28b3c3[_0xe992e3(0x8a7)],_0xe992e3(0x78b)],[_0x28b3c3[_0xe992e3(0x859)],_0xe992e3(0x897)],[_0x28b3c3[_0xe992e3(0x4da)],_0xe992e3(0x7cc)],[_0x28b3c3[_0xe992e3(0x4ca)],_0xe992e3(0x268)],[_0x28b3c3[_0xe992e3(0x59e)],_0xe992e3(0x949)],[_0x28b3c3['SubscriptionRequestFailed'],_0xe992e3(0x482)],[_0x28b3c3[_0xe992e3(0x7b6)],_0xe992e3(0x2ba)],[_0x28b3c3[_0xe992e3(0x1b6)],_0xe992e3(0x296)],[_0x28b3c3['NodeAlreadyExist'],_0xe992e3(0x6be)],[_0x28b3c3[_0xe992e3(0x238)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x28b3c3[_0xe992e3(0x4fc)],_0xe992e3(0x9ce)],[_0x28b3c3[_0xe992e3(0x5c5)],'Workflow\x20does\x20not\x20exist.'],[_0x28b3c3[_0xe992e3(0x842)],_0xe992e3(0x41c)]]);class _0xd907de extends Error{[_0xe992e3(0x14f)];static [_0xe992e3(0x386)]=_0x28b3c3;[_0xe992e3(0x9a6)];constructor(_0x3b0eba,_0x5d5852){const _0x433fd8=_0xe992e3;super(_0x433fd8(0xa13)+_0x3b0eba+':\x20'+_0x26df6d[_0x433fd8(0x6ab)](_0x3b0eba)+_0x433fd8(0x5c2)+JSON[_0x433fd8(0x719)](_0x5d5852)),this[_0x433fd8(0x14f)]=_0x3b0eba,this[_0x433fd8(0x9a6)]=_0x5d5852||{};}}var _0x26ec79,_0x5d9d32,_0x535a1e,_0x50c466,_0x173fc1,_0x46e818,_0x13f595;!function(_0xdcb567){const _0x56b31b=_0xe992e3;_0xdcb567[_0xdcb567[_0x56b31b(0x67b)]=0x0]=_0x56b31b(0x67b),_0xdcb567[_0xdcb567[_0x56b31b(0x14a)]=0x1]=_0x56b31b(0x14a),_0xdcb567[_0xdcb567[_0x56b31b(0x4e3)]=0x2]=_0x56b31b(0x4e3),_0xdcb567[_0xdcb567[_0x56b31b(0x41d)]=0x3]=_0x56b31b(0x41d),_0xdcb567[_0xdcb567[_0x56b31b(0x3ef)]=0x4]=_0x56b31b(0x3ef),_0xdcb567[_0xdcb567['CloseMediaStream']=0x5]=_0x56b31b(0x77c),_0xdcb567[_0xdcb567['CloseObjectStoreBucket']=0x6]=_0x56b31b(0x750),_0xdcb567[_0xdcb567[_0x56b31b(0xa43)]=0x7]='ClosePubSubTopic',_0xdcb567[_0xdcb567['CloseVectorDatabase']=0x8]=_0x56b31b(0x55b),_0xdcb567[_0xdcb567['CloseGenerativeAIContext']=0x9]=_0x56b31b(0xa53),_0xdcb567[_0xdcb567[_0x56b31b(0x8bb)]=0xa]=_0x56b31b(0x8bb),_0xdcb567[_0xdcb567['GenerativeAIContextStats']=0xb]=_0x56b31b(0x739),_0xdcb567[_0xdcb567[_0x56b31b(0x8fc)]=0xc]=_0x56b31b(0x8fc),_0xdcb567[_0xdcb567[_0x56b31b(0xa12)]=0xd]=_0x56b31b(0xa12),_0xdcb567[_0xdcb567['KeyValueDatabaseContentAvailable']=0xe]='KeyValueDatabaseContentAvailable',_0xdcb567[_0xdcb567[_0x56b31b(0x294)]=0xf]='KeyValueDatabaseContentSynchronized',_0xdcb567[_0xdcb567[_0x56b31b(0x4b0)]=0x10]='KeyValueDatabaseRequestPeakTransactions',_0xdcb567[_0xdcb567[_0x56b31b(0x31b)]=0x11]='KeyValueDatabaseRequestTransactionsValue',_0xdcb567[_0xdcb567['KeyValueDatabaseSendTransactions']=0x12]=_0x56b31b(0x27a),_0xdcb567[_0xdcb567[_0x56b31b(0x948)]=0x13]=_0x56b31b(0x948),_0xdcb567[_0xdcb567[_0x56b31b(0x413)]=0x14]=_0x56b31b(0x413),_0xdcb567[_0xdcb567['LocalMediaStreamTrackFail']=0x15]='LocalMediaStreamTrackFail',_0xdcb567[_0xdcb567[_0x56b31b(0x465)]=0x16]=_0x56b31b(0x465),_0xdcb567[_0xdcb567['PubSubTopicStats']=0x17]=_0x56b31b(0x94d),_0xdcb567[_0xdcb567[_0x56b31b(0x877)]=0x18]='PublishMediaStream',_0xdcb567[_0xdcb567[_0x56b31b(0x320)]=0x19]='RemoteMediaStreamTrackFail',_0xdcb567[_0xdcb567[_0x56b31b(0x47e)]=0x1a]=_0x56b31b(0x47e),_0xdcb567[_0xdcb567[_0x56b31b(0x156)]=0x1b]=_0x56b31b(0x156),_0xdcb567[_0xdcb567[_0x56b31b(0x8d5)]=0x1c]=_0x56b31b(0x8d5),_0xdcb567[_0xdcb567[_0x56b31b(0x54c)]=0x1d]=_0x56b31b(0x54c),_0xdcb567[_0xdcb567[_0x56b31b(0x192)]=0x1e]=_0x56b31b(0x192);}(_0x26ec79||(_0x26ec79={})),function(_0x462f46){const _0x136dce=_0xe992e3;_0x462f46[_0x136dce(0x653)]=_0x136dce(0x720),_0x462f46['FolderCreate']=_0x136dce(0x9b3),_0x462f46[_0x136dce(0x91c)]=_0x136dce(0x5eb),_0x462f46['Move']='move',_0x462f46[_0x136dce(0x8e2)]='request-file',_0x462f46[_0x136dce(0x806)]=_0x136dce(0x326),_0x462f46[_0x136dce(0x4f0)]=_0x136dce(0xa68),_0x462f46[_0x136dce(0x68f)]=_0x136dce(0x9da);}(_0x5d9d32||(_0x5d9d32={})),function(_0x4bb3cf){const _0x3ae2aa=_0xe992e3;_0x4bb3cf[_0x3ae2aa(0xa8b)]=_0x3ae2aa(0x927),_0x4bb3cf[_0x3ae2aa(0x97f)]=_0x3ae2aa(0xaf3);}(_0x535a1e||(_0x535a1e={})),function(_0x18f713){const _0x2e3c41=_0xe992e3;_0x18f713[_0x2e3c41(0x8ef)]=_0x2e3c41(0x820),_0x18f713[_0x2e3c41(0x586)]=_0x2e3c41(0xa65),_0x18f713[_0x2e3c41(0x91c)]=_0x2e3c41(0x5eb);}(_0x50c466||(_0x50c466={})),function(_0x588ce1){const _0x5aa633=_0xe992e3;_0x588ce1[_0x5aa633(0x481)]=_0x5aa633(0x6ab),_0x588ce1[_0x5aa633(0x984)]='list',_0x588ce1[_0x5aa633(0x1d2)]='count';}(_0x173fc1||(_0x173fc1={})),function(_0x2b9fa8){const _0x2d8042=_0xe992e3;_0x2b9fa8[_0x2b9fa8[_0x2d8042(0xa8b)]=0x0]=_0x2d8042(0xa8b),_0x2b9fa8[_0x2b9fa8[_0x2d8042(0x740)]=0x1]=_0x2d8042(0x740),_0x2b9fa8[_0x2b9fa8[_0x2d8042(0x39d)]=0x2]=_0x2d8042(0x39d),_0x2b9fa8[_0x2b9fa8[_0x2d8042(0x6e8)]=0x3]='PartialResult',_0x2b9fa8[_0x2b9fa8[_0x2d8042(0x213)]=0x4]=_0x2d8042(0x213),_0x2b9fa8[_0x2b9fa8['Failed']=0x5]=_0x2d8042(0x65e);}(_0x46e818||(_0x46e818={})),function(_0x4bec0e){const _0x14e9aa=_0xe992e3;_0x4bec0e[_0x4bec0e[_0x14e9aa(0x90d)]=0x0]='PeerConnection',_0x4bec0e[_0x4bec0e[_0x14e9aa(0x2e9)]=0x1]=_0x14e9aa(0x2e9),_0x4bec0e[_0x4bec0e[_0x14e9aa(0x52d)]=0x2]=_0x14e9aa(0x52d),_0x4bec0e[_0x4bec0e[_0x14e9aa(0x173)]=0x3]=_0x14e9aa(0x173),_0x4bec0e[_0x4bec0e[_0x14e9aa(0x8b7)]=0x4]=_0x14e9aa(0x8b7),_0x4bec0e[_0x4bec0e[_0x14e9aa(0x365)]=0x5]=_0x14e9aa(0x365),_0x4bec0e[_0x4bec0e[_0x14e9aa(0x622)]=0x6]=_0x14e9aa(0x622);}(_0x13f595||(_0x13f595={}));class _0x3699d4{[_0xe992e3(0x584)];['label'];['systemTopic'];constructor(_0x8c5f0e,_0x8e405){const _0x414efd=_0xe992e3;this[_0x414efd(0x584)]=_0x8c5f0e,this['label']=_0x8e405;}[_0xe992e3(0x270)](){const _0x1f4934=_0xe992e3;return this[_0x1f4934(0x3fc)];}[_0xe992e3(0x4a8)](){const _0x276bba=_0xe992e3;return this[_0x276bba(0x584)][_0x276bba(0x686)]();}[_0xe992e3(0x551)](){}[_0xe992e3(0x4a5)](_0x263f0a){const _0x37a66e=_0xe992e3;this[_0x37a66e(0x587)]=_0x263f0a;}[_0xe992e3(0x20f)](){const _0xfcce3a=_0xe992e3;delete this[_0xfcce3a(0x587)];}}const _0x3d2491=require('firebase/firestore');let _0x4b2367=_0x2a1a61(0x14d)['O'];function _0x256c0e(_0x4b12a1){const _0x2d204f=_0xe992e3;return!(!_0x4b12a1||_0x2d204f(0x903)!=typeof _0x4b12a1||Array[_0x2d204f(0x885)](_0x4b12a1));}_0x4b2367=function _0x58c6a5(_0x33faf8,..._0x77d768){const _0x41db0b=_0xe992e3;if(!Array[_0x41db0b(0x885)](_0x77d768)||0x0===_0x77d768[_0x41db0b(0x756)])return _0x33faf8;const _0x5efa43=_0x77d768[_0x41db0b(0xa41)]();if(_0x256c0e(_0x33faf8)&&_0x256c0e(_0x5efa43)){for(const _0x1572a0 in _0x5efa43)_0x256c0e(_0x5efa43[_0x1572a0])?(_0x33faf8[_0x1572a0]||Object[_0x41db0b(0x6d7)](_0x33faf8,{[_0x1572a0]:{}}),_0x58c6a5(_0x33faf8[_0x1572a0],_0x5efa43[_0x1572a0])):Object['assign'](_0x33faf8,{[_0x1572a0]:_0x5efa43[_0x1572a0]});}return _0x58c6a5(_0x33faf8,..._0x77d768);}(_0x4b2367,_0x2a1a61(0x3e6)['O']);const _0x201946=_0x4b2367,_0x2bc13f=require('firebase/app'),_0x186c1f=require('firebase/auth'),_0x59c1bb=require('firebase/database'),_0x10e1b1=require('firebase/functions'),_0x2860a6=require('uuid'),_0x32a5f0=_0xe992e3(0x969);class _0x2c96f7{static ['instance'];['app'];['auth'];[_0xe992e3(0x72d)];['database'];[_0xe992e3(0x432)];[_0xe992e3(0x364)];[_0xe992e3(0x92f)];constructor(){this['getApp']();}static[_0xe992e3(0x9f1)](){const _0x123d72=_0xe992e3;return _0x2c96f7[_0x123d72(0x6d6)]||(_0x2c96f7['instance']=new _0x2c96f7()),_0x2c96f7[_0x123d72(0x6d6)];}[_0xe992e3(0x6c3)](){const _0x5794a2=_0xe992e3;if(!this[_0x5794a2(0x9af)]){let _0x3f1e85=_0x32a5f0;_0x5794a2(0x4f8)!=typeof window&&(_0x3f1e85=_0x32a5f0+'-'+(0x0,_0x2860a6['v4'])()),this[_0x5794a2(0x9af)]=(0x0,_0x2bc13f[_0x5794a2(0x5c9)])(_0x201946[_0x5794a2(0x305)],''+_0x3f1e85);}return this['app'];}[_0xe992e3(0x36c)](){const _0x418bca=_0xe992e3;return this['auth']||(this['auth']=(0x0,_0x186c1f['getAuth'])(this[_0x418bca(0x6c3)]())),this[_0x418bca(0x490)];}[_0xe992e3(0x5f2)](){const _0x4fd11b=_0xe992e3;return this[_0x4fd11b(0x72d)]||(this[_0x4fd11b(0x72d)]=(0x0,_0x10e1b1[_0x4fd11b(0x5f2)])(this[_0x4fd11b(0x6c3)](),_0x201946[_0x4fd11b(0x305)][_0x4fd11b(0x5f3)])),this[_0x4fd11b(0x72d)];}[_0xe992e3(0x923)](){const _0x55551e=_0xe992e3;return this[_0x55551e(0x80f)]||(this[_0x55551e(0x80f)]=(0x0,_0x59c1bb[_0x55551e(0x923)])(this['getApp']())),this[_0x55551e(0x80f)];}[_0xe992e3(0x928)](){const _0x3a9089=_0xe992e3;return this[_0x3a9089(0x432)]||(this[_0x3a9089(0x432)]=(0x0,_0x3d2491[_0x3a9089(0x928)])(this['getApp']())),this[_0x3a9089(0x432)];}async[_0xe992e3(0x392)](){const _0x417c97=_0xe992e3;if(this[_0x417c97(0x364)]&&this['lastClockUpdate']&&Date[_0x417c97(0x559)]()-this['lastClockUpdate']<0x493e0)return Date[_0x417c97(0x559)]()+this[_0x417c97(0x364)];const _0x244b2a=this[_0x417c97(0x923)](),_0xd5043d=(0x0,_0x59c1bb['ref'])(_0x244b2a,_0x417c97(0xb0c));return new Promise(_0x400e9f=>{const _0x2f9d03=_0x417c97;(0x0,_0x59c1bb[_0x2f9d03(0x7b8)])(_0xd5043d,_0x13eb73=>{const _0xfdcfa4=_0x2f9d03;(0x0,_0x59c1bb[_0xfdcfa4(0x290)])(_0xd5043d),this[_0xfdcfa4(0x364)]=_0x13eb73[_0xfdcfa4(0x8ec)](),this[_0xfdcfa4(0x92f)]=Date['now'](),_0x400e9f(Date[_0xfdcfa4(0x559)]()+(this[_0xfdcfa4(0x364)]??0x0));});});}}const _0x57cb7d=_0x2c96f7[_0xe992e3(0x9f1)]();class _0x563cdb{static [_0xe992e3(0x6d6)];['enabledChannels']=[_0x3c5ddd['Default']];[_0xe992e3(0x753)]=!0x1;[_0xe992e3(0x830)];[_0xe992e3(0x3ea)]='';[_0xe992e3(0x9eb)];[_0xe992e3(0xa97)]=[];[_0xe992e3(0x85d)];['batchTimeout'];[_0xe992e3(0x6a9)]=0xa;[_0xe992e3(0x77f)]=0x1f4;[_0xe992e3(0x751)]=0x1c2;[_0xe992e3(0x125)]=0x3e8;constructor(){const _0xb048af=_0xe992e3;if(_0xb048af(0x4f8)!=typeof window)this[_0xb048af(0x9eb)]=window;else{if(void 0x0===_0x2a1a61['g'])throw new Error(_0xb048af(0x49a));this[_0xb048af(0x9eb)]=_0x2a1a61['g'];}this[_0xb048af(0x9a9)](),this['globalObject'][_0xb048af(0x33e)]=_0x9931c1=>{const _0x3e5582=_0xb048af;if(_0x9931c1===_0x3c5ddd[_0x3e5582(0x288)])return this[_0x3e5582(0x3b0)]=Object['keys'](_0x3c5ddd)['map'](_0x497736=>_0x3c5ddd[_0x497736]),void Object[_0x3e5582(0x5a2)](_0x3c5ddd)[_0x3e5582(0x558)](_0x9cc0c5=>{const _0x369ccf=_0x3e5582,_0x4f4eb1=_0x9cc0c5;localStorage[_0x369ccf(0x7c5)](_0x369ccf(0x2b9)+_0x3c5ddd[_0x4f4eb1],_0x369ccf(0x530));});this[_0x3e5582(0x3b0)][_0x3e5582(0x137)](_0x9931c1)||(this[_0x3e5582(0x3b0)][_0x3e5582(0xae7)](_0x9931c1),localStorage[_0x3e5582(0x7c5)](_0x3e5582(0x2b9)+_0x9931c1,'true'));},this[_0xb048af(0x9eb)][_0xb048af(0xaec)]=_0x1900a7=>{const _0x41e1b1=_0xb048af;if(!_0x1900a7||_0x1900a7===_0x3c5ddd[_0x41e1b1(0x288)])return this[_0x41e1b1(0x3b0)]=[],void Object[_0x41e1b1(0x5a2)](_0x3c5ddd)[_0x41e1b1(0x558)](_0x518fdb=>{const _0xca23b1=_0x41e1b1,_0x2f2839=_0x518fdb;localStorage['removeItem'](_0xca23b1(0x2b9)+_0x3c5ddd[_0x2f2839]);});this[_0x41e1b1(0x3b0)][_0x41e1b1(0x137)](_0x1900a7)&&(this[_0x41e1b1(0x3b0)]=this[_0x41e1b1(0x3b0)][_0x41e1b1(0x1ee)](_0x29d031=>_0x29d031!==_0x1900a7),localStorage[_0x41e1b1(0x827)]('crewdle-sdk-logging-'+_0x1900a7));},this[_0xb048af(0x9eb)][_0xb048af(0x9e0)]=_0x3c5ddd;}static[_0xe992e3(0x9f1)](){const _0x5d7778=_0xe992e3;try{return _0x563cdb[_0x5d7778(0x6d6)]||(_0x563cdb[_0x5d7778(0x6d6)]=new _0x563cdb()),_0x563cdb[_0x5d7778(0x6d6)];}catch(_0x72998e){return console['error'](_0x5d7778(0x917),_0x72998e),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0xe992e3(0x817)](_0x1562bc){const _0x2e0ab5=_0xe992e3;this[_0x2e0ab5(0x3ea)]=_0x1562bc,this[_0x2e0ab5(0xa97)]=[],this[_0x2e0ab5(0x85d)]=this[_0x2e0ab5(0x430)](),this['batchTimeout']&&(clearTimeout(this[_0x2e0ab5(0x253)]),this[_0x2e0ab5(0x253)]=void 0x0);}['setLoggingConnectors'](_0x992223){const _0x27c101=_0xe992e3;this[_0x27c101(0x830)]=_0x992223;}['debug'](_0x3bfcd1,..._0x3b32ff){const _0x9f485=_0xe992e3;this[_0x9f485(0x753)]&&this[_0x9f485(0x991)](_0x3c5ddd[_0x9f485(0x278)],_0x9f485(0x8ed)+_0x3bfcd1,..._0x3b32ff);}['forceLog'](_0x529ff3,..._0x277457){const _0x17fef6=_0xe992e3;console[_0x17fef6(0x991)](_0x529ff3,..._0x277457),this['loggingConnectors']&&this['loggingConnectors'][_0x17fef6(0x558)](_0x1e2152=>{const _0x2d3860=_0x17fef6;_0x1e2152[_0x2d3860(0x991)](_0x529ff3,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x277457}});});}[_0xe992e3(0x991)](_0x8cae3b,_0x338486,..._0x298b21){const _0xe30a5f=_0xe992e3;_0x201946['isProduction']||(this[_0xe30a5f(0x3b0)][_0xe30a5f(0x137)](_0x8cae3b)&&console['log'](_0xe30a5f(0x49d)+_0x8cae3b+'\x27\x0a',new Date()+'\x0a',_0x338486,..._0x298b21),this[_0xe30a5f(0x830)]&&this[_0xe30a5f(0x830)][_0xe30a5f(0x558)](_0xf0fcca=>{const _0x10bc41=_0xe30a5f;this[_0x10bc41(0x659)](_0xf0fcca)&&_0xf0fcca[_0x10bc41(0x70d)]()[_0x10bc41(0x137)](_0x8cae3b)&&_0xf0fcca[_0x10bc41(0x991)](_0x338486,{'vendorId':this[_0x10bc41(0x3ea)],'nodeId':'','nodeType':'','data':{'channel':_0x8cae3b,..._0x298b21}});}));}[_0xe992e3(0x147)](_0x4f4d31,_0x4fdaec,..._0x428f99){const _0x36faea=_0xe992e3;_0x201946[_0x36faea(0x1f8)]||(this[_0x36faea(0x3b0)][_0x36faea(0x137)](_0x4f4d31)&&console[_0x36faea(0x991)](_0x4fdaec,..._0x428f99),this[_0x36faea(0x830)]&&this[_0x36faea(0x830)]['forEach'](_0x272643=>{const _0x5ed715=_0x36faea;this[_0x5ed715(0x659)](_0x272643)&&_0x272643[_0x5ed715(0x70d)]()['includes'](_0x4f4d31)&&_0x272643['log'](_0x4fdaec,{'vendorId':this[_0x5ed715(0x3ea)],'nodeId':'','nodeType':'','data':{'channel':_0x4f4d31,..._0x428f99}});}));}[_0xe992e3(0x3b3)](_0x490589,_0x48c310){const _0x30352b=_0xe992e3;if(!this['loggingConnectors'])return;const _0x1760c0={'vendorId':this['vendorId'],..._0x48c310};this[_0x30352b(0x830)]['forEach'](_0x5b67fa=>{const _0x590741=_0x30352b;_0x5b67fa[_0x590741(0x991)](_0x490589,_0x1760c0);});}[_0xe992e3(0x8b0)](_0x4ae227,_0x2e2f12){const _0x52de47=_0xe992e3;this['createBatchOperation'](_0x4ae227,_0x2e2f12),this[_0x52de47(0x1b9)]();}[_0xe992e3(0x835)](_0x10ba12,_0x40202f,_0x384907){const _0x33c002=_0xe992e3;(0x0,_0x3d2491[_0x33c002(0xae9)])((0x0,_0x3d2491[_0x33c002(0x6f7)])(_0x57cb7d[_0x33c002(0x928)](),_0x33c002(0x67c)+this[_0x33c002(0x3ea)]+'/'+_0x10ba12+'/'+_0x40202f),{'storage':_0x384907,'timestamp':(0x0,_0x3d2491['serverTimestamp'])()});}[_0xe992e3(0x1b9)](){const _0x3e953b=_0xe992e3;this['currentBatch']&&(this[_0x3e953b(0x85d)]['counter']+=0x1,this[_0x3e953b(0x85d)][_0x3e953b(0x286)]===this[_0x3e953b(0x751)]?this[_0x3e953b(0xa07)]():this[_0x3e953b(0x253)]||(this[_0x3e953b(0x253)]=this[_0x3e953b(0x9eb)][_0x3e953b(0xaea)](()=>this[_0x3e953b(0xa07)](),this['timeoutValue'])));}async['processBatch'](){const _0x40afbe=_0xe992e3;if(this['currentBatch']){for(this[_0x40afbe(0xa97)][_0x40afbe(0xae7)](this[_0x40afbe(0x85d)]),this['currentBatch']=this[_0x40afbe(0x430)]();this[_0x40afbe(0xa97)][_0x40afbe(0x756)]>0x0;){const _0x5d34d5=this[_0x40afbe(0xa97)][_0x40afbe(0xa41)]();if(!await this[_0x40afbe(0x742)](_0x5d34d5))break;}clearTimeout(this['batchTimeout']),this[_0x40afbe(0x253)]=void 0x0;}}[_0xe992e3(0x77b)](_0x592631,_0x558b0e,..._0x22f8b0){const _0x1eb30f=_0xe992e3;if(console['error'](new Date(),_0x592631,_0x558b0e,..._0x22f8b0),this[_0x1eb30f(0x830)]){const _0x3d85e3={'vendorId':this[_0x1eb30f(0x3ea)],..._0x558b0e};this[_0x1eb30f(0x830)][_0x1eb30f(0x558)](_0x5b1ea4=>{const _0x3c196f=_0x1eb30f;_0x5b1ea4[_0x3c196f(0x77b)](_0x592631,_0x3d85e3);});}}[_0xe992e3(0x372)](_0xa497d3,_0x1fa393,..._0x280b53){const _0x346cc4=_0xe992e3;if(console[_0x346cc4(0x1a2)](new Date(),_0xa497d3,_0x1fa393,_0x280b53),this[_0x346cc4(0x830)]){const _0x4a21a0={'vendorId':this[_0x346cc4(0x3ea)],..._0x1fa393};this['loggingConnectors'][_0x346cc4(0x558)](_0x18fe50=>{_0x18fe50['warn'](_0xa497d3,_0x4a21a0);});}}[_0xe992e3(0x1df)](_0x55cdd4){const _0x51c843=_0xe992e3;return this[_0x51c843(0x3b0)][_0x51c843(0x137)](_0x55cdd4);}async[_0xe992e3(0x742)](_0x58466d,_0x1ed792=0x0){const _0x196e92=_0xe992e3;if(_0x58466d['counter']>0x0)try{return await _0x58466d['batch'][_0x196e92(0xa6a)](),!0x0;}catch(_0x418ba2){if(console[_0x196e92(0x77b)](_0x196e92(0x146),_0x418ba2,_0x196e92(0x31a),_0x58466d[_0x196e92(0xaad)]),!(_0x1ed792<this[_0x196e92(0x6a9)])){const {nodeId:_0x4c47a1='',nodeType:_0x2fa4af='',clusterId:_0xad4733=''}=_0x58466d[_0x196e92(0xaad)][0x0][_0x196e92(0x9a6)],_0x192515={'nodeId':_0x4c47a1,'nodeType':_0x2fa4af,'clusterId':_0xad4733,'data':{'operations':_0x58466d['operations'],'error':_0x418ba2}};return this[_0x196e92(0x77b)](_0x196e92(0x6d2),_0x192515),!0x1;}{const _0x264f77=this[_0x196e92(0x964)](_0x58466d[_0x196e92(0xaad)]);setTimeout(()=>this[_0x196e92(0x742)](_0x264f77,_0x1ed792+0x1),this[_0x196e92(0x77f)]*Math['pow'](0x2,_0x1ed792));}}}['loadEnabledChannels'](){try{Object['keys'](_0x3c5ddd)['forEach'](_0x5565a0=>{const _0x54b892=a0_0xca1a,_0x388c20=_0x5565a0;localStorage[_0x54b892(0x5ea)](_0x54b892(0x2b9)+_0x3c5ddd[_0x388c20])&&(console[_0x54b892(0x991)](_0x54b892(0x17b),_0x3c5ddd[_0x388c20]),this[_0x54b892(0x3b0)]['push'](_0x3c5ddd[_0x388c20]));});}catch(_0x26ac7f){}}[_0xe992e3(0x659)](_0x57a0ba){const _0x22da0c=_0xe992e3;return void 0x0!==_0x57a0ba[_0x22da0c(0x70d)];}[_0xe992e3(0x430)](){const _0x43b7d5=_0xe992e3;return{'batch':(0x0,_0x3d2491[_0x43b7d5(0x864)])(_0x57cb7d[_0x43b7d5(0x928)]()),'operations':[],'counter':0x0};}[_0xe992e3(0x964)](_0xaac4dd){const _0x635b37=_0xe992e3,_0xda55c9=(0x0,_0x3d2491[_0x635b37(0x864)])(_0x57cb7d[_0x635b37(0x928)]());return _0xaac4dd[_0x635b37(0x558)](_0x5f0526=>this[_0x635b37(0x2dd)](_0xda55c9,_0x5f0526)),{'batch':_0xda55c9,'operations':_0xaac4dd,'counter':_0xaac4dd[_0x635b37(0x756)]};}[_0xe992e3(0x2dd)](_0x58875e,_0x4e1f33){const _0x9fb4d9=_0xe992e3;switch(_0x4e1f33['type']){case _0x9fb4d9(0x888):_0x58875e['set'](_0x4e1f33[_0x9fb4d9(0x953)],_0x4e1f33['data']);break;case _0x9fb4d9(0xa65):_0x58875e['update'](_0x4e1f33[_0x9fb4d9(0x953)],_0x4e1f33[_0x9fb4d9(0x9a6)]);break;case _0x9fb4d9(0x5eb):_0x58875e['delete'](_0x4e1f33[_0x9fb4d9(0x953)]);}}['createBatchOperation'](_0x58e6af,_0x4fb859){const _0x5af22a=_0xe992e3;this[_0x5af22a(0x85d)]||(this[_0x5af22a(0x85d)]=this[_0x5af22a(0x430)]());const _0x4431e2=(0x0,_0x3d2491[_0x5af22a(0x6f7)])((0x0,_0x3d2491[_0x5af22a(0x9d9)])(_0x57cb7d[_0x5af22a(0x928)](),'developers/'+this['vendorId']+_0x5af22a(0x162))),_0x1ad62d={..._0x4fb859,'service':_0x58e6af,'timestamp':(0x0,_0x3d2491['serverTimestamp'])()},_0x5053ee={'type':_0x5af22a(0x888),'path':_0x4431e2['path'],'ref':_0x4431e2,'data':_0x1ad62d};return this[_0x5af22a(0x85d)][_0x5af22a(0xaad)]['push'](_0x5053ee),this['addBatchOperation'](this['currentBatch']['batch'],_0x5053ee),_0x4431e2;}}const _0xd64180=_0x563cdb[_0xe992e3(0x9f1)]();function _0x5c3d3c(_0x14e2c2,_0x4a6f36){return'/'===_0x14e2c2?_0x14e2c2+_0x4a6f36:_0x14e2c2+'/'+_0x4a6f36;}function _0x5a9201(_0x5cc375){const _0x481599=function(_0x15db1b){const _0x48ecd9=a0_0xca1a;return _0x15db1b[_0x48ecd9(0x130)]('/')[_0x48ecd9(0x1ee)](_0x50af74=>_0x50af74[_0x48ecd9(0x756)]>0x0);}(_0x5cc375),_0x3b2dd7=_0x481599['pop']()||'',_0x23a48c=_0x481599['join']('/');return[0x0===_0x23a48c['length']?'/':_0x23a48c,_0x3b2dd7];}async function _0x4bf693(_0xf651dd){const _0xd8607d=_0xe992e3;let _0x139430;const _0x186786=_0xf651dd[_0xd8607d(0x73d)]/0x100000;_0x139430=_0x186786<=0xa?0x1:_0x186786<=0x64?0.5:_0x186786<=0x1f4?0.1:0.05;const _0x9b2f05=Math[_0xd8607d(0xa10)](_0xf651dd['size']/_0xe53a0a),_0x1d4cdf=Math['ceil'](_0x9b2f05*_0x139430);let _0xd38034=new Uint8Array();for(let _0x55d9ac=0x0;_0x55d9ac<_0x1d4cdf;_0x55d9ac++){const _0xe2fb31=Math[_0xd8607d(0x7e3)](_0x55d9ac/_0x1d4cdf*_0xf651dd['size']);let _0x1e6aec=_0xe2fb31+_0xe53a0a;_0x1e6aec>_0xf651dd[_0xd8607d(0x73d)]&&(_0x1e6aec=_0xf651dd[_0xd8607d(0x73d)]);const _0x467e21=_0xf651dd[_0xd8607d(0x4c8)](_0xe2fb31,_0x1e6aec),_0x4ad50a=await _0x467e21[_0xd8607d(0x56c)](),_0x303713=new Uint8Array([..._0xd38034,...new Uint8Array(_0x4ad50a)]);_0xd38034=new Uint8Array(await crypto[_0xd8607d(0x371)][_0xd8607d(0x8e5)]('SHA-256',_0x303713));}return Array[_0xd8607d(0x79e)](new Uint8Array(_0xd38034))[_0xd8607d(0x7db)](_0x129a79=>_0x129a79[_0xd8607d(0x53b)](0x10)[_0xd8607d(0xa29)](0x2,'0'))[_0xd8607d(0x9fb)]('');}async function*_0x357ac2(_0x567887,_0x5e46a1=0x0,_0x75ce32){const _0x33bd62=_0xe992e3;let _0x200e9d=_0x5e46a1*_0x505ed0,_0x341148=_0x567887;for(;_0x200e9d<_0x341148[_0x33bd62(0x73d)];){let _0x45a596=_0x200e9d+_0x505ed0;_0x45a596>_0x341148['size']&&(_0x45a596=_0x341148[_0x33bd62(0x73d)]);let _0x45f2bd=0x0;for(;_0x45f2bd<0x14;)try{await _0x75ce32?.();const _0x522371=_0x341148[_0x33bd62(0x4c8)](_0x200e9d,_0x45a596,_0x33bd62(0x14b)),_0x4b4355=await _0x522371['arrayBuffer']();yield _0x4b4355,_0x200e9d=_0x45a596,await new Promise(_0x32a5dc=>setTimeout(_0x32a5dc,0x0));break;}catch(_0x223711){if(console[_0x33bd62(0x77b)](_0x33bd62(0x3f3)+(_0x45f2bd+0x1)+'\x20attempts:',_0x223711),_0x45f2bd++,_0x45f2bd>0x14)throw _0x223711;let _0x5df110=0x3e8*Math['pow'](0x2,_0x45f2bd);_0x5df110>0x7530&&(_0x5df110=0x7530),await new Promise(_0x1c51e6=>setTimeout(_0x1c51e6,_0x5df110));}}}class _0x430dee extends _0x3699d4{['outgoingTopic'];[_0xe992e3(0x29e)];[_0xe992e3(0x19b)]=new Map();[_0xe992e3(0x30c)]=0x0;[_0xe992e3(0x97d)]=0x0;[_0xe992e3(0x97c)]=0x0;['bytesReceived']=0x0;constructor(_0x528b45,_0x3664f8){super(_0x528b45,_0x3664f8);}[_0xe992e3(0x270)](){const _0x8c3404=_0xe992e3;return this[_0x8c3404(0x3fc)];}['getName'](){const _0x50d129=_0xe992e3;return this[_0x50d129(0x3fc)];}['getContentType'](){const _0xf69ef2=_0xe992e3;return _0x981fb5[_0xf69ef2(0x4c9)][_0xf69ef2(0x838)];}[_0xe992e3(0x4cb)](){const _0x17308b=_0xe992e3;return this[_0x17308b(0x3fc)];}[_0xe992e3(0x920)](_0x4b965b){const _0x53a58d=_0xe992e3;if(this[_0x53a58d(0x75b)])throw new _0xd907de(_0xd907de['codes']['InvalidPublisher'],{'message':_0x53a58d(0x748)+this['owner'][_0x53a58d(0x686)]()+_0x53a58d(0x66b)+this['label'],'topic':this['outgoingTopic']});this[_0x53a58d(0x75b)]=_0x4b965b;}[_0xe992e3(0x450)](_0x38da26){const _0x53e635=_0xe992e3;if(this[_0x53e635(0x29e)])throw new _0xd907de(_0xd907de['codes']['InvalidSubscriber'],{'message':_0x53e635(0xa75)+this['owner'][_0x53e635(0x686)]()+'\x20-\x20'+this[_0x53e635(0x3fc)],'topic':this['incomingTopic']});this[_0x53e635(0x29e)]=_0x38da26;}[_0xe992e3(0xace)](){delete this['outgoingTopic'];}[_0xe992e3(0x630)](){delete this['incomingTopic'];}async['send'](_0x516546,_0x58567f){const _0x904abe=_0xe992e3;if(_0xd64180['log'](_0x3c5ddd[_0x904abe(0x2be)],_0x904abe(0xa8e),this[_0x904abe(0x584)][_0x904abe(0x686)](),_0x516546,_0x58567f),this[_0x904abe(0x30c)]+=0x1,_0x516546 instanceof File){const _0x199a4a=await async function(_0x465b64){const _0x4f78bc=_0x904abe,_0x3a7672=[];for await(const _0x559a80 of _0x357ac2(_0x465b64))_0x3a7672[_0x4f78bc(0xae7)](_0x559a80);return _0x3a7672;}(_0x516546);return this[_0x904abe(0x97c)]+=_0x199a4a[_0x904abe(0x3d2)]((_0x482a24,_0x238382)=>_0x482a24+_0x238382[_0x904abe(0x6bc)],0x0),void _0x199a4a['forEach']((_0x1cd8e6,_0x1eea01)=>{const _0x1a5d04=_0x904abe;this[_0x1a5d04(0x75b)]['publish']({'sourceId':this[_0x1a5d04(0x584)][_0x1a5d04(0x686)](),'destinationIds':_0x58567f,'propagate':!0x0,'contentType':_0x981fb5[_0x1a5d04(0x4c9)][_0x1a5d04(0x9d1)],'content':{'name':_0x516546[_0x1a5d04(0x758)],'type':_0x516546[_0x1a5d04(0x689)],'data':_0x1cd8e6,'index':_0x1eea01,'total':_0x199a4a[_0x1a5d04(0x756)]}});});}this['bytesSent']+=JSON[_0x904abe(0x719)](_0x516546)[_0x904abe(0x756)],this['outgoingTopic']['publish']({'sourceId':this['owner'][_0x904abe(0x686)](),'destinationIds':_0x58567f,'propagate':!0x0,'contentType':_0x981fb5['ContentType'][_0x904abe(0x838)],'content':_0x516546});}[_0xe992e3(0x399)](_0x472b7b){const _0x452715=_0xe992e3;return this[_0x452715(0x29e)][_0x452715(0x60c)](_0x1c5d12=>{const _0x2a2e9a=_0x452715;switch(_0xd64180[_0x2a2e9a(0x991)](_0x3c5ddd['DataStream'],_0x2a2e9a(0x603),this['owner'][_0x2a2e9a(0x686)](),_0x1c5d12),_0x1c5d12[_0x2a2e9a(0x32e)]){case _0x981fb5['ContentType']['Data']:this[_0x2a2e9a(0x97d)]+=0x1,this[_0x2a2e9a(0x5d0)]+=JSON[_0x2a2e9a(0x719)](_0x1c5d12['content'])[_0x2a2e9a(0x756)],_0x472b7b(_0x1c5d12['sourceId'],_0x1c5d12[_0x2a2e9a(0x2e4)]);break;case _0x981fb5[_0x2a2e9a(0x4c9)][_0x2a2e9a(0x9d1)]:this[_0x2a2e9a(0x19b)]['has'](_0x1c5d12[_0x2a2e9a(0x2e4)]['name'])||this['fileChunks'][_0x2a2e9a(0x888)](_0x1c5d12[_0x2a2e9a(0x2e4)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x149914=this[_0x2a2e9a(0x19b)][_0x2a2e9a(0x6ab)](_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x758)]);if(_0x149914['chunksReceived']+=0x1,_0x149914[_0x2a2e9a(0x5d0)]+=_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x9a6)]['byteLength'],_0x149914[_0x2a2e9a(0x2e4)]&&(_0x149914['content'][_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x369)]]=_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x9a6)]),this[_0x2a2e9a(0x19b)][_0x2a2e9a(0x888)](_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x758)],_0x149914),_0x149914[_0x2a2e9a(0x51f)]+0x1<_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x29c)])return;this[_0x2a2e9a(0x97d)]+=0x1,this[_0x2a2e9a(0x5d0)]+=_0x149914['bytesReceived'],_0x149914['content']&&_0x472b7b(_0x1c5d12[_0x2a2e9a(0x3c8)],(_0x103b4c=_0x149914[_0x2a2e9a(0x2e4)],_0x5efcea=_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x758)],_0x5a0cde=_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x689)],new File(_0x103b4c,_0x5efcea,{'type':_0x5a0cde}))),this[_0x2a2e9a(0x19b)][_0x2a2e9a(0x5eb)](_0x1c5d12[_0x2a2e9a(0x2e4)][_0x2a2e9a(0x758)]);}var _0x103b4c,_0x5efcea,_0x5a0cde;});}}function _0x5c724d(){const _0x15672d=_0xe992e3;let _0x537e12=[];return{'subscribe':_0x58e59d=>(_0x537e12[_0x15672d(0xae7)](_0x58e59d),()=>{const _0x3c4158=_0x15672d;_0x537e12=_0x537e12[_0x3c4158(0x1ee)](_0x1a7476=>_0x1a7476!==_0x58e59d);}),'publish':_0x4764ad=>{const _0x5c94bd=_0x15672d;_0x537e12[_0x5c94bd(0x558)](_0x5384ef=>_0x5384ef(_0x4764ad));}};}function _0x4d5b0d(){let _0x17ad58;return{'subscribe':_0x1ec0ec=>(_0x17ad58=_0x1ec0ec,()=>{_0x17ad58=void 0x0;}),'publish':_0x4a05a2=>{_0x17ad58&&_0x17ad58(_0x4a05a2);}};}class _0x1ae5dc{[_0xe992e3(0x6c6)];[_0xe992e3(0x883)];[_0xe992e3(0x683)];[_0xe992e3(0x64e)]=_0x4d5b0d();[_0xe992e3(0xac9)];constructor(_0x54f3f3,_0x432c74,_0x2aab2d){const _0x19c061=_0xe992e3;this['connector']=_0x54f3f3,this[_0x19c061(0x883)]=_0x432c74,this[_0x19c061(0x683)]=_0x2aab2d;}['destroy'](){const _0x2794c0=_0xe992e3;this[_0x2794c0(0xac9)]?.();}async[_0xe992e3(0x6ab)](_0x530d99){const _0x5a586f=_0xe992e3,_0xc2681c={'key':_0x530d99,'tableName':this[_0x5a586f(0x883)],'action':_0x173fc1[_0x5a586f(0x481)]};return this[_0x5a586f(0x683)][_0x5a586f(0x246)](_0xc2681c),this['connector'][_0x5a586f(0x6ab)](_0x530d99);}async['set'](_0x33939b,_0x205abb,_0x30ac9b=!0x0){const _0x4539fc=_0xe992e3;this[_0x4539fc(0x841)](_0x205abb);const _0x1911f1=await this[_0x4539fc(0x6c6)][_0x4539fc(0x6ab)](_0x33939b),_0x514a66=await this['connector']['set'](_0x33939b,_0x205abb),_0x2392f7=_0x1911f1?_0x50c466[_0x4539fc(0x586)]:_0x50c466[_0x4539fc(0x8ef)];if(this[_0x4539fc(0x246)](_0x2392f7,_0x514a66),!_0x30ac9b)return _0x514a66;const _0x38d1e0={'key':_0x33939b,'tableName':this[_0x4539fc(0x883)],'action':_0x2392f7,'value':_0x514a66};return this[_0x4539fc(0x683)]['publish'](_0x38d1e0),_0x514a66;}async[_0xe992e3(0x820)](_0x2db719){const _0x5e831d=_0xe992e3;this[_0x5e831d(0x841)](_0x2db719);const _0x577224=await this[_0x5e831d(0x6c6)][_0x5e831d(0x820)](_0x2db719),_0x231a1e={'key':_0x577224['id'],'tableName':this[_0x5e831d(0x883)],'action':_0x50c466[_0x5e831d(0x8ef)],'value':_0x577224};return this['tableObserver']['publish'](_0x231a1e),this['publish'](_0x231a1e['action'],_0x577224),_0x577224;}async['delete'](_0x579660,_0x45f45e=!0x0){const _0x490cdb=_0xe992e3,_0xa7b8f2=await this['connector'][_0x490cdb(0x6ab)](_0x579660);if(!_0xa7b8f2)return;await this['connector']['delete'](_0x579660);const _0x35d65b=_0x50c466['Delete'];if(this[_0x490cdb(0x246)](_0x35d65b,_0xa7b8f2),!_0x45f45e)return;const _0x15e24e={'key':_0x579660,'tableName':this[_0x490cdb(0x883)],'action':_0x35d65b,'value':_0xa7b8f2};this['tableObserver'][_0x490cdb(0x246)](_0x15e24e);}async[_0xe992e3(0x24d)](){const _0x5314d8=_0xe992e3,_0x1ad797=await this[_0x5314d8(0x135)]();for(const _0x265d2c of _0x1ad797){const _0x35b6ee=_0x50c466[_0x5314d8(0x91c)];this[_0x5314d8(0x246)](_0x35b6ee,_0x265d2c);const _0x5f2fc2={'key':_0x265d2c['id'],'tableName':this['tableName'],'action':_0x35b6ee,'value':_0x265d2c};this['tableObserver']['publish'](_0x5f2fc2);}return this['connector']['clear']();}async['list'](_0x13c905){const _0x2327a8=_0xe992e3,_0x595a65={'key':'','tableName':this[_0x2327a8(0x883)],'action':_0x173fc1[_0x2327a8(0x984)]};this[_0x2327a8(0x683)][_0x2327a8(0x246)](_0x595a65);try{_0x13c905&&(_0x13c905=_0x13c905 instanceof _0x2fd359?_0x13c905[_0x2327a8(0x409)]():_0x2fd359[_0x2327a8(0x83f)](_0x13c905)['getQuery']());}catch(_0x56e766){throw new _0x3748ee(_0x2a0ddc[_0x2327a8(0x8ea)],_0x2327a8(0x142));}try{return await this[_0x2327a8(0x6c6)][_0x2327a8(0x135)](_0x13c905);}catch(_0x4d8066){let _0x5382f7=_0x2327a8(0x142);throw _0x4d8066 instanceof Error&&(_0x5382f7=_0x4d8066[_0x2327a8(0x337)]),new _0x3748ee(_0x2a0ddc[_0x2327a8(0x8ea)],_0x5382f7);}}async[_0xe992e3(0x7d5)](_0x4c802e){const _0x22584d=_0xe992e3,_0x2da85e={'key':'','tableName':this[_0x22584d(0x883)],'action':_0x173fc1['Count']};this[_0x22584d(0x683)][_0x22584d(0x246)](_0x2da85e);try{_0x4c802e&&(_0x4c802e=_0x4c802e instanceof _0x2fd359?_0x4c802e[_0x22584d(0x409)]():_0x2fd359[_0x22584d(0x83f)](_0x4c802e)[_0x22584d(0x409)]());}catch(_0x4e4a22){throw new _0x3748ee(_0x2a0ddc[_0x22584d(0x8ea)],'Invalid\x20query');}try{return await this[_0x22584d(0x6c6)]['count'](_0x4c802e);}catch(_0x3e26e1){let _0x1732d2='Invalid\x20query';throw _0x3e26e1 instanceof Error&&(_0x1732d2=_0x3e26e1[_0x22584d(0x337)]),new _0x3748ee(_0x2a0ddc[_0x22584d(0x8ea)],_0x1732d2);}}[_0xe992e3(0xa48)](){const _0x2c760d=_0xe992e3;return this[_0x2c760d(0x6c6)][_0x2c760d(0xa48)]();}[_0xe992e3(0x60c)](_0x2ff87d){const _0x1c7fa6=_0xe992e3;this[_0x1c7fa6(0xac9)]=this[_0x1c7fa6(0x64e)][_0x1c7fa6(0x60c)](_0x2ff87d);}[_0xe992e3(0x4c0)](){const _0x5d4acd=_0xe992e3;this[_0x5d4acd(0xac9)]?.();}['publish'](_0x1f95f6,_0x20bc7e){const _0x177719=_0xe992e3,_0x66a5d3=this['buildTableEvent'](_0x1f95f6,_0x20bc7e);this[_0x177719(0x64e)]['publish'](_0x66a5d3);}[_0xe992e3(0x9c9)](_0x4ed843,_0x5769ab){const _0x5cab47=_0xe992e3;let _0x2aa4a1;switch(_0x4ed843){case _0x50c466[_0x5cab47(0x8ef)]:_0x2aa4a1=_0x5cab47(0x820);break;case _0x50c466[_0x5cab47(0x586)]:_0x2aa4a1=_0x5cab47(0xa65);break;case _0x50c466['Delete']:_0x2aa4a1='delete';}return{'action':_0x2aa4a1,'value':_0x5769ab};}[_0xe992e3(0x841)](_0x191e36){const _0x3c7c28=_0xe992e3;if(_0x3c7c28(0x903)!=typeof _0x191e36||null===_0x191e36)throw new _0x3748ee(_0x2a0ddc[_0x3c7c28(0x898)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x51d9d5 in _0x191e36){const _0x32cd97=_0x191e36[_0x51d9d5];if(_0x3c7c28(0x903)!=typeof _0x32cd97||_0x32cd97 instanceof Date){if(![_0x3c7c28(0xab7),'number',_0x3c7c28(0xae6)][_0x3c7c28(0x137)](typeof _0x32cd97))throw new _0x3748ee(_0x2a0ddc['KeyValueDatabaseInvalidValue'],_0x3c7c28(0xa0c)+_0x51d9d5+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x3c7c28(0x841)](_0x32cd97);}}}class _0x1479b5{[_0xe992e3(0x58e)]=[];[_0xe992e3(0x823)]=0x0;[_0xe992e3(0x8d0)]=[];[_0xe992e3(0x7ae)]=!0x1;[_0xe992e3(0x3bb)]=null;[_0xe992e3(0x207)]=null;[_0xe992e3(0x1ff)];[_0xe992e3(0xb1c)]=null;[_0xe992e3(0x72e)]=[];['debounceReadyTimeout'];[_0xe992e3(0x609)]=Promise[_0xe992e3(0x9c0)]();['expectedTransactions']=0x0;constructor(){}get[_0xe992e3(0xa79)](){const _0x1b3565=_0xe992e3;return this[_0x1b3565(0x609)];}async[_0xe992e3(0x52e)](_0x1c06b5,_0x1ac754=0x0){const _0x3ed4ae=_0xe992e3;this[_0x3ed4ae(0xb1c)]||(this[_0x3ed4ae(0x609)]=new Promise(_0x1047c2=>{const _0x4f5862=_0x3ed4ae;this[_0x4f5862(0xb1c)]=_0x1047c2;}),this[_0x3ed4ae(0x71b)]=_0x1ac754);const _0xe43f8b=Date[_0x3ed4ae(0x559)]();if(this['isComputingMMR'])return void this[_0x3ed4ae(0x8d0)][_0x3ed4ae(0xae7)](_0x1c06b5);this['isComputingMMR']=!0x0;let _0x448587={'hash':await this[_0x3ed4ae(0x5a8)](_0x1c06b5),'height':0x0};const _0xb07050=this[_0x3ed4ae(0xa52)](_0x448587);this['readyPromises']['push'](_0xb07050),await _0xb07050,this[_0x3ed4ae(0x823)]+=0x1;const _0x133773=this[_0x3ed4ae(0x8d0)]['length'];for(;this['transactionQueue'][_0x3ed4ae(0x756)]>0x0;){const _0x70f361=this[_0x3ed4ae(0x8d0)][_0x3ed4ae(0xa41)]();await this[_0x3ed4ae(0x52e)](_0x70f361);}this[_0x3ed4ae(0x2d7)](),await this[_0x3ed4ae(0xa79)],this[_0x3ed4ae(0x1ef)](_0xe43f8b,_0x133773);}async[_0xe992e3(0x74e)](){const _0x3423aa=_0xe992e3;return await this['_ready'],this['isComputingMMR']?(this['rootComputationPromise']||(this[_0x3423aa(0x207)]=this[_0x3423aa(0x78f)]()),await this['rootComputationPromise']):this[_0x3423aa(0x3bb)];}['getPeaks'](){const _0x2df13d=_0xe992e3;return this[_0x2df13d(0x58e)][_0x2df13d(0x7db)](({hash:_0x3c9bde,height:_0x31b79d})=>({'hash':_0x3c9bde,'height':_0x31b79d}));}[_0xe992e3(0x34b)](){const _0x6b1f82=_0xe992e3;return this[_0x6b1f82(0x823)];}[_0xe992e3(0x50c)](_0x3d70c){const _0x19151c=_0xe992e3;return this['peaks'][_0x19151c(0xa57)](_0x434987=>_0x434987[_0x19151c(0x947)]===_0x3d70c);}async[_0xe992e3(0x89b)](_0x27f0c6,_0x5af2c5){return await this['computeHash'](_0x27f0c6+_0x5af2c5);}async[_0xe992e3(0x5a8)](_0x2a1738){const _0x244181=_0xe992e3;return await this[_0x244181(0x96c)](JSON['stringify'](_0x2a1738));}['comparePeaks'](_0x129037){const _0x3e92fa=_0xe992e3,_0x16a506=this[_0x3e92fa(0x7ba)](),_0x5e42bf=[],_0x1554bc=[],_0x57c5a4=[];for(const _0x50bb05 of _0x16a506){const _0x973e7f=_0x129037['find'](_0x3de8bf=>_0x3de8bf[_0x3e92fa(0x947)]===_0x50bb05[_0x3e92fa(0x947)]);_0x973e7f?_0x50bb05[_0x3e92fa(0x914)]!==_0x973e7f['hash']&&_0x5e42bf['push']({'height':_0x50bb05[_0x3e92fa(0x947)],'localPeak':_0x50bb05,'remotePeak':_0x973e7f}):_0x1554bc['push'](_0x50bb05);}for(const _0xfd783a of _0x129037)_0x16a506[_0x3e92fa(0xa57)](_0x3beb00=>_0x3beb00[_0x3e92fa(0x947)]===_0xfd783a[_0x3e92fa(0x947)])||_0x57c5a4[_0x3e92fa(0xae7)](_0xfd783a);return{'differingPeaks':_0x5e42bf,'peaksMissingInRemote':_0x1554bc,'peaksMissingInLocal':_0x57c5a4};}async[_0xe992e3(0x78f)](){const _0x5aca18=_0xe992e3;this['isComputingMMR']=!0x0;const _0x34e731=this['peaks'][_0x5aca18(0x7db)](_0x309f7b=>_0x309f7b[_0x5aca18(0x914)]);return this[_0x5aca18(0x3bb)]=await this[_0x5aca18(0x63d)](_0x34e731),this[_0x5aca18(0x7ae)]=!0x1,this[_0x5aca18(0x207)]=null,this[_0x5aca18(0x2d7)](),this[_0x5aca18(0x3bb)];}async[_0xe992e3(0x96c)](_0x3ea963){const _0x32036c=_0xe992e3;try{const _0x3c6cbe=new TextEncoder()['encode'](_0x3ea963),_0x1798bc=await crypto[_0x32036c(0x371)][_0x32036c(0x8e5)](_0x32036c(0x3ab),_0x3c6cbe);return Array[_0x32036c(0x79e)](new Uint8Array(_0x1798bc))[_0x32036c(0x7db)](_0x181852=>_0x181852[_0x32036c(0x53b)](0x10)['padStart'](0x2,'0'))['join']('');}catch(_0x1bb14e){return console['error']('Hash\x20computation\x20failed,\x20retrying...',_0x1bb14e),this[_0x32036c(0x96c)](_0x3ea963);}}async[_0xe992e3(0x63d)](_0x31c84e){const _0x19d0af=_0xe992e3;return await this[_0x19d0af(0x96c)](_0x31c84e[_0x19d0af(0x9fb)](''));}async[_0xe992e3(0xa52)](_0x28606a){const _0x4b7a51=_0xe992e3;for(;this['peaks'][_0x4b7a51(0x756)]>0x0&&this[_0x4b7a51(0x58e)][this[_0x4b7a51(0x58e)][_0x4b7a51(0x756)]-0x1][_0x4b7a51(0x947)]===_0x28606a[_0x4b7a51(0x947)];){const _0x2129c8=this['peaks'][_0x4b7a51(0x876)]();_0x28606a={'hash':await this['hashNodes'](_0x2129c8['hash'],_0x28606a[_0x4b7a51(0x914)]),'left':_0x2129c8,'right':_0x28606a,'height':_0x28606a[_0x4b7a51(0x947)]+0x1};}this['peaks']['push'](_0x28606a),await this[_0x4b7a51(0x78f)]();}[_0xe992e3(0x1ef)](_0x286461,_0x506a81){const _0x415ecd=_0xe992e3;if(!_0xd64180['isChannelEnabled'](_0x3c5ddd[_0x415ecd(0xad3)]))return;this[_0x415ecd(0x1ff)]&&clearTimeout(this[_0x415ecd(0x1ff)]);const _0x2aa26f=Date[_0x415ecd(0x559)]();this[_0x415ecd(0x1ff)]=setTimeout(()=>_0xd64180[_0x415ecd(0x991)](_0x3c5ddd[_0x415ecd(0xad3)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x415ecd(0x3bb)],'nodes',this[_0x415ecd(0x34b)](),'queueLength',_0x506a81,_0x415ecd(0xaf4),_0x2aa26f-_0x286461),0x7d0);}[_0xe992e3(0x2d7)](){const _0x597463=_0xe992e3;this[_0x597463(0x88c)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x597463(0x88c)]=setTimeout(async()=>{const _0x100bc0=_0x597463;try{const _0x19eeea=this[_0x100bc0(0x72e)];if(this[_0x100bc0(0x72e)]=[],await Promise[_0x100bc0(0x271)](_0x19eeea),this[_0x100bc0(0x71b)]-=_0x19eeea[_0x100bc0(0x756)],this[_0x100bc0(0x72e)]['length']>0x0||this['expectedTransactions']>0x0)return this[_0x100bc0(0x2d7)]();this[_0x100bc0(0xb1c)]&&(this[_0x100bc0(0xb1c)](),this[_0x100bc0(0xb1c)]=null),this['_ready']=Promise['resolve'](),this['isComputingMMR']=!0x1;}catch(_0x2d8104){console[_0x100bc0(0x77b)]('Error\x20resolving\x20readyPromises:',_0x2d8104);}},0xa);}}const _0x4d73cd=[_0xe992e3(0x90d),'Node',_0xe992e3(0x52d),_0xe992e3(0x173),'Stats',_0xe992e3(0x365),_0xe992e3(0x622)],_0x1f8025=[[_0xe992e3(0x126),_0xe992e3(0x8b4),_0xe992e3(0x2cf),_0xe992e3(0x7d8),'NeedRestart',_0xe992e3(0x493),'Disconnect',_0xe992e3(0x8b7),_0xe992e3(0x6cd)],[_0xe992e3(0x572),_0xe992e3(0x36e),_0xe992e3(0x612),'NodeLeave'],[_0xe992e3(0x67b),_0xe992e3(0x14a),_0xe992e3(0x4e3),_0xe992e3(0x41d),'CloseKeyValueDatabase',_0xe992e3(0x77c),_0xe992e3(0x750),_0xe992e3(0xa43),'CloseVectorDatabase',_0xe992e3(0x8bb),'GenerativeAIContextStats',_0xe992e3(0x8fc),'GraphDatabaseStats',_0xe992e3(0x4c4),_0xe992e3(0x294),'KeyValueDatabaseRequestPeakTransactions',_0xe992e3(0x31b),'KeyValueDatabaseSendTransactions',_0xe992e3(0x948),_0xe992e3(0x413),_0xe992e3(0x182),'ObjectStoreStats','PubSubTopicStats','PublishMediaStream','RemoteMediaStreamTrackFail',_0xe992e3(0x47e),_0xe992e3(0x156),'UnsubscribeMediaStream',_0xe992e3(0x54c),'VectorDatabaseStats'],[_0xe992e3(0x47e),_0xe992e3(0x54c),'UnsubscribeMediaStreamdiaStream',_0xe992e3(0x25a),'CannotProvideMediaStream',_0xe992e3(0x1e6)],['StreamReport',_0xe992e3(0xad6)],[_0xe992e3(0xad4)],[_0xe992e3(0x622),_0xe992e3(0x8a0)]];function _0x3746de(_0x7b78e4){const _0x65c875=_0xe992e3;return{..._0x7b78e4,'systemMessageType':_0x4d73cd[_0x7b78e4[_0x65c875(0x8a3)]],'systemContentMessageType':_0x1f8025[_0x7b78e4[_0x65c875(0x8a3)]][_0x7b78e4[_0x65c875(0x2e4)]['type']]};}const _0x917f04={'hour':'2-digit','minute':'2-digit','second':'2-digit'};function _0x3bc0db(_0x3e14b8,_0x4abb25){const _0x57053e=_0xe992e3,_0x292fb5=(function(){const _0x5a9c52=a0_0xca1a,_0x3df5a4=new Date(),_0x1519f3=_0x3df5a4[_0x5a9c52(0xad8)](),_0x589555=_0x3df5a4['toLocaleDateString'](_0x5a9c52(0x9b4),_0x917f04)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x589555+'.'+(_0x1519f3>0x64?''+_0x1519f3:_0x1519f3>0xa?'0'+_0x1519f3:'00'+_0x1519f3);}()),{sourceId:_0x4646c1,destinationIds:_0x112d81,systemMessageType:_0x2c6073,systemContentMessageType:_0x1b30ad}=_0x3746de(_0x3e14b8);return _0x292fb5+'\x20-\x20'+_0x4abb25+_0x57053e(0x66b)+(_0x4646c1===_0x4abb25?_0x57053e(0x12e)+_0x2c6073+'\x27\x20to\x20'+(_0x112d81?''+_0x112d81:_0x57053e(0x68a)):_0x3e14b8[_0x57053e(0x3c8)]===_0x413d1e?_0x57053e(0x14e)+_0x2c6073+'\x27':(_0x112d81?'':_0x57053e(0x180))+_0x57053e(0x2fe)+_0x2c6073+'\x27\x20from\x20'+_0x4646c1)+_0x57053e(0x781)+_0x1b30ad+_0x57053e(0xa85);}function _0x8afefe(_0x386f83,_0x4231f8){const _0x1055ed=_0xe992e3;if(!_0xd64180[_0x1055ed(0x1df)](_0x386f83))return;if(_0x201946[_0x1055ed(0x1f8)])return;if(_0x1055ed(0x4f8)==typeof process)return;const _0x3165c6=process[_0x1055ed(0x3be)]();console[_0x1055ed(0x991)]('Memory\x20Usage\x20at\x20'+_0x4231f8+':');for(const _0x374df6 in _0x3165c6)console[_0x1055ed(0x991)]('\x20\x20'+_0x374df6+':\x20'+(_0x3165c6[_0x374df6]/0x400/0x400)[_0x1055ed(0x259)](0x2)+_0x1055ed(0x41b));}function _0xe93484(_0x2d2a30,_0x449245){const _0x12c3ea=_0xe992e3;if(!_0xd64180[_0x12c3ea(0x1df)](_0x449245))return _0xd64180['debug'](_0x12c3ea(0x9e8)+_0x449245),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x1755f7,_0x5dcb25)=>_0x5dcb25}};let _0x354224=0x0;return{'timingLogger':((()=>{const _0x400d79=_0x12c3ea;let _0x4d02d1=Date[_0x400d79(0x559)]();return{'start':()=>{_0x4d02d1=Date['now']();},'now':()=>Date[_0x400d79(0x559)](),'logWaitTime':_0x5667fd=>{const _0x4b9a72=_0x400d79;_0x354224+=Date[_0x4b9a72(0x559)]()-_0x4d02d1,_0xd64180[_0x4b9a72(0x991)](_0x449245,_0x5667fd,_0x354224+'ms',_0x2d2a30);}};})()),'logger':{'log':(_0x4306d2,_0x1fd991=()=>{})=>{const _0x2b9eec=_0x12c3ea,_0x1d9a17=_0x1fd991();_0x1d9a17?_0xd64180['log'](_0x449245,_0x4306d2,_0x1d9a17,_0x2d2a30):_0xd64180[_0x2b9eec(0x991)](_0x449245,_0x4306d2,_0x2d2a30);},'performCalculation':(_0x252502,_0x38e361)=>_0x252502()}};}function _0x491a0e(_0x431194){const _0xa4265a=_0xe992e3;return _0xa4265a(0x4f8)==typeof Buffer?0x0:Buffer['byteLength'](JSON['stringify'](_0x431194),'utf8');}function _0x1bccc4(_0x264046){const _0x262545=_0xe992e3;if(0x0===_0x264046)return _0x262545(0x376);const _0x46651e=Math[_0x262545(0x7e3)](Math['log'](_0x264046)/Math[_0x262545(0x991)](0x400));return parseFloat((_0x264046/Math['pow'](0x400,_0x46651e))[_0x262545(0x259)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x46651e];}class _0x7f83d1 extends _0x430dee{['localNode'];[_0xe992e3(0x5e2)];[_0xe992e3(0x3ea)];[_0xe992e3(0x1a5)];['db'];[_0xe992e3(0x5a4)];[_0xe992e3(0xb1a)]=new Map();['tableObserver'];['transactionTable'];[_0xe992e3(0x902)];[_0xe992e3(0xa83)];[_0xe992e3(0x8f7)];[_0xe992e3(0xa02)]=[];[_0xe992e3(0x49c)]=()=>{};[_0xe992e3(0x636)];[_0xe992e3(0x64e)]=_0x4d5b0d();[_0xe992e3(0xac9)];[_0xe992e3(0x150)]=[];['layout'];[_0xe992e3(0x203)];[_0xe992e3(0x30f)]=0x0;[_0xe992e3(0x60a)]=0x0;[_0xe992e3(0x7f0)]=!0x1;[_0xe992e3(0x922)]=new _0x1479b5();[_0xe992e3(0xa44)]=new Map();[_0xe992e3(0x38a)]=[];[_0xe992e3(0x672)];['transactionsToAppend']=[];['loggingCycle'];constructor(_0x441ccd,_0x5bb714,_0x447dbf,_0x274815,_0x499245,_0x5e7c8b,_0x328e2a){const _0x3f626f=_0xe992e3;if(_0x3f626f(0xab7)!=typeof _0x5bb714)throw new _0x3748ee(_0x2a0ddc[_0x3f626f(0x6c5)],_0x3f626f(0x6f4));if(super(_0x441ccd,_0x5bb714),this[_0x3f626f(0x71d)]=_0x441ccd,this[_0x3f626f(0x5e2)]=_0x447dbf,this[_0x3f626f(0x3ea)]=_0x274815,this['isNodeReady']=_0x328e2a,this[_0x3f626f(0x5a4)]=_0x3f626f(0x421)+this[_0x3f626f(0x3ea)]+_0x3f626f(0x421)+this[_0x3f626f(0x5e2)]+_0x3f626f(0x421)+this[_0x3f626f(0x3fc)],this[_0x3f626f(0x683)]=_0x4d5b0d(),this[_0x3f626f(0x27b)]=function(_0x42fc4b,_0x49e71d){const _0x3459e6=_0x3f626f;if(!_0xd64180[_0x3459e6(0x1df)](_0x49e71d))return _0xd64180[_0x3459e6(0x5f5)](_0x3459e6(0x9e8)+_0x49e71d),{..._0xe93484(_0x42fc4b,_0x49e71d),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x3459e6(0x376),'dataReceived':_0x3459e6(0x376)})};const {timingLogger:_0x50caf6,logger:_0x18f9e7}=_0xe93484(_0x42fc4b,_0x49e71d);let _0x229367=0x0,_0x17f0f1=0x0;return{'timingLogger':_0x50caf6,'logger':_0x18f9e7,'logDataSent':(_0x4d04af,_0x2dbc57=!0x1)=>{const _0x891936=_0x3459e6,_0x157545=_0x491a0e(_0x4d04af);return _0x2dbc57&&_0xd64180[_0x891936(0x991)](_0x49e71d,_0x891936(0x152),_0x42fc4b,_0x157545),_0x229367+=_0x157545,_0x157545;},'logDataReceived':(_0x2bc3f6,_0x43c360=!0x1)=>{const _0x41e04c=_0x3459e6,_0x48cf54=_0x491a0e(_0x2bc3f6);return _0x43c360&&_0xd64180['log'](_0x49e71d,_0x41e04c(0x33d),_0x42fc4b,_0x48cf54),_0x17f0f1+=_0x48cf54,_0x48cf54;},'getDataLogged':()=>({'dataSent':_0x1bccc4(_0x229367),'dataReceived':_0x1bccc4(_0x17f0f1)})};}(this['label'],_0x3c5ddd[_0x3f626f(0xad3)]),this[_0x3f626f(0xa83)]=new Promise(_0x499988=>{this['syncResolve']=_0x499988;}),_0x499245 instanceof _0xc8aaf7)this['layout']=_0x499245[_0x3f626f(0x7f3)]();else{const [_0x48801d,_0x46457b]=_0xc8aaf7['validateLayout'](_0x499245);if(!_0x48801d)throw new _0x3748ee(_0x2a0ddc['KeyValueDatabaseInvalidLayout'],_0x3f626f(0x4ed)+_0x46457b);this[_0x3f626f(0x444)]=structuredClone(_0x499245);}this[_0x3f626f(0x821)](this[_0x3f626f(0x444)]),this['db']=new _0x5e7c8b(this['dbKey'],this['layout']),this['sendStats']();}async['answerContentAvailable'](_0x1b955d,_0x1d3162){const _0x49e2b6=_0xe992e3;if(_0xd64180[_0x49e2b6(0x991)](_0x3c5ddd['KeyValueDatabase'],_0x49e2b6(0x82a),this[_0x49e2b6(0x3fc)]),!this[_0x49e2b6(0x4bd)])throw new _0xd907de(_0xd907de['codes']['KeyValueDatabaseTransactionTableNotInitialized']);if(await this['isSync'],await this[_0x49e2b6(0x1a5)](_0x1b955d),await this[_0x49e2b6(0x922)][_0x49e2b6(0x74e)]()===_0x1d3162){const _0x3e1aef={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x1b955d],'propagate':!0x0,'messageType':_0x13f595[_0x49e2b6(0x52d)],'content':{'type':_0x26ec79[_0x49e2b6(0x294)],'label':this[_0x49e2b6(0x3fc)],'mmrRoot':_0x1d3162}};return this['loggingCycle'][_0x49e2b6(0x1e3)](_0x3e1aef),void this[_0x49e2b6(0x587)]['publish'](_0x3e1aef);}const _0x2df500=this[_0x49e2b6(0x922)][_0x49e2b6(0x7ba)](),_0x306400={'sourceId':this[_0x49e2b6(0x71d)][_0x49e2b6(0x686)](),'destinationIds':[_0x1b955d],'propagate':!0x0,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79['KeyValueDatabaseContentAvailable'],'label':this[_0x49e2b6(0x3fc)],'peaks':_0x2df500}};this['loggingCycle'][_0x49e2b6(0x1e3)](_0x306400),this[_0x49e2b6(0x587)][_0x49e2b6(0x246)](_0x306400);}async[_0xe992e3(0x981)](_0x35ef38,_0x525dfd){const _0x4161e9=_0xe992e3,_0xd7d589=await this[_0x4161e9(0x922)][_0x4161e9(0x74e)](),_0x596d03=_0xd7d589===_0x525dfd;if(_0xd64180['log'](_0x3c5ddd[_0x4161e9(0xad3)],'Received\x20ContentSynchronized\x20from\x20'+_0x35ef38+_0x4161e9(0x449)+_0x596d03,this[_0x4161e9(0x3fc)]),_0x596d03)return this['clearSyncTimeout'](),void this[_0x4161e9(0x35a)]();_0xd64180[_0x4161e9(0x991)](_0x3c5ddd[_0x4161e9(0xad3)],_0x4161e9(0x35d),_0xd7d589,_0x525dfd),_0xd64180[_0x4161e9(0x372)](_0x4161e9(0x35d),{'nodeId':this[_0x4161e9(0x71d)][_0x4161e9(0x686)](),'nodeType':this[_0x4161e9(0x71d)][_0x4161e9(0x689)],'remoteId':_0x35ef38,'data':{'localMMRRoot':_0xd7d589,'remoteMMRRoot':_0x525dfd}});const _0x36da2d={'sourceId':this[_0x4161e9(0x71d)][_0x4161e9(0x686)](),'messageType':_0x13f595['Content'],'propagate':!0x0,'content':{'type':_0x26ec79[_0x4161e9(0x413)],'label':this[_0x4161e9(0x3fc)],'mmrRoot':_0xd7d589}};this[_0x4161e9(0x587)][_0x4161e9(0x246)](_0x36da2d);}async[_0xe992e3(0x56b)](_0x3810f0,_0x23d531){const _0x17121a=_0xe992e3;if(_0xd64180['log'](_0x3c5ddd['KeyValueDatabase'],_0x17121a(0x61b),_0x3810f0,'label',this[_0x17121a(0x3fc)],_0x17121a(0x58e),_0x23d531),this[_0x17121a(0x7f0)])return;this[_0x17121a(0x7f0)]=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x10918d,peaksMissingInLocal:_0x2aa7f2,peaksMissingInRemote:_0x34dc1c}=this['mmr'][_0x17121a(0x1cb)](_0x23d531);_0xd64180[_0x17121a(0x991)](_0x3c5ddd[_0x17121a(0xad3)],_0x17121a(0x242),{'differingPeaks':_0x10918d,'peaksMissingInLocal':_0x2aa7f2,'peaksMissingInRemote':_0x34dc1c});const _0x58f26d={'sourceId':this[_0x17121a(0x71d)][_0x17121a(0x686)](),'destinationIds':[_0x3810f0],'propagate':!0x0,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x17121a(0x4b0)],'label':this[_0x17121a(0x3fc)],'peakHeights':_0x2aa7f2[_0x17121a(0x7db)](_0x2d2af0=>_0x2d2af0[_0x17121a(0x947)])['concat'](_0x10918d[_0x17121a(0x7db)](_0x1d268d=>_0x1d268d[_0x17121a(0x947)]))}};if(this['systemTopic'][_0x17121a(0x246)](_0x58f26d),_0x10918d[_0x17121a(0x756)]>0x0||_0x34dc1c['length']>0x0){const _0x459474=_0x34dc1c[_0x17121a(0x7db)](_0x4d559f=>_0x4d559f[_0x17121a(0x947)])[_0x17121a(0x968)](_0x10918d[_0x17121a(0x7db)](_0x4171cf=>_0x4171cf[_0x17121a(0x947)]));await this[_0x17121a(0x1fc)](_0x3810f0,_0x459474,!0x0);}}async['sendPeakTransactions'](_0x488c74,_0x5422fb,_0x2b5ccc=!0x1){const _0x125b69=_0xe992e3;_0xd64180['log'](_0x3c5ddd[_0x125b69(0xad3)],_0x125b69(0x54f),this[_0x125b69(0x3fc)]);const _0x4e38e6=_0x5422fb['map'](_0x263eb6=>this[_0x125b69(0x922)][_0x125b69(0x50c)](_0x263eb6))[_0x125b69(0x1ee)](Boolean);if(!_0x4e38e6[_0x125b69(0x756)]||_0x5422fb[_0x125b69(0x756)]!==_0x4e38e6[_0x125b69(0x756)])throw new _0xd907de(_0xd907de[_0x125b69(0x386)][_0x125b69(0x3e0)],{'message':_0x125b69(0x384),'peakHeights':_0x5422fb,'peaks':_0x4e38e6['map'](_0x5ebe63=>_0x5ebe63[_0x125b69(0x947)]),'nodeId':_0x488c74});const _0x2e7bb5=[];for(const _0x3f3752 of _0x4e38e6)this[_0x125b69(0x189)](_0x3f3752,_0x2e7bb5);const _0x12d0b7=_0x2b5ccc?void 0x0:[_0x488c74],_0x4fcacb={'sourceId':this[_0x125b69(0x71d)][_0x125b69(0x686)](),'destinationIds':_0x12d0b7,'messageType':_0x13f595['Content'],'propagate':!0x0,'content':{'type':_0x26ec79[_0x125b69(0x27a)],'label':this[_0x125b69(0x3fc)],'transactions':_0x2e7bb5}};this[_0x125b69(0x27b)]['logDataSent'](_0x4fcacb),this['systemTopic'][_0x125b69(0x246)](_0x4fcacb);}async['processReceivedTransactions'](_0x143d35,_0x262aef){const _0x1aa931=_0xe992e3;_0xd64180[_0x1aa931(0x991)](_0x3c5ddd[_0x1aa931(0xad3)],_0x1aa931(0x1d6)+_0x262aef[_0x1aa931(0x756)]+_0x1aa931(0xa23)+_0x143d35+'\x20-\x20'+this[_0x1aa931(0x3fc)]);for(const _0x54da63 of _0x262aef){const _0x3d49d1=await this[_0x1aa931(0x4bd)][_0x1aa931(0x6ab)](_0x54da63['id']);if(!(_0x3d49d1&&this[_0x1aa931(0x44d)](_0x3d49d1,_0x54da63)>=0x0)){if(_0x54da63[_0x1aa931(0x1af)]===_0x50c466[_0x1aa931(0x91c)]){const [_0x24ede0,_0x1ee9a9]=_0x54da63['id'][_0x1aa931(0x130)]('::'),_0x18e4fc=this['getTable'](_0x24ede0);await _0x18e4fc[_0x1aa931(0x5eb)](_0x1ee9a9);}else this['transactionsToSync'][_0x1aa931(0xae7)](_0x54da63['id']);}}if(_0xd64180[_0x1aa931(0x991)](_0x3c5ddd[_0x1aa931(0xad3)],_0x1aa931(0x172)+this[_0x1aa931(0xa02)][_0x1aa931(0x756)]+_0x1aa931(0x474),this['label']),this['transactionsToSync'][_0x1aa931(0x756)]>0x0){const _0x36ae11={'sourceId':this[_0x1aa931(0x71d)]['getId'](),'destinationIds':[_0x143d35],'messageType':_0x13f595[_0x1aa931(0x52d)],'propagate':!0x0,'content':{'type':_0x26ec79[_0x1aa931(0x31b)],'label':this[_0x1aa931(0x3fc)],'transactionIds':this['transactionsToSync']}};this[_0x1aa931(0x27b)][_0x1aa931(0x1e3)](_0x36ae11),this[_0x1aa931(0x587)]['publish'](_0x36ae11);}}[_0xe992e3(0xade)](){this['sendStats']();}['getContentType'](){const _0x2a88b6=_0xe992e3;return _0x981fb5[_0x2a88b6(0x4c9)]['KeyValueDatabase'];}[_0xe992e3(0x551)](){const _0x5b7f80=_0xe992e3;this['db'][_0x5b7f80(0x1c9)](),this[_0x5b7f80(0x902)]?.(),clearTimeout(this[_0x5b7f80(0x203)]),delete this[_0x5b7f80(0x203)],super[_0x5b7f80(0x551)]();}[_0xe992e3(0x1c9)](){const _0x28873a=_0xe992e3;this[_0x28873a(0x7ef)](),this['systemTopic'][_0x28873a(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x28873a(0x52d)],'content':{'type':_0x26ec79[_0x28873a(0x3ef)],'label':this[_0x28873a(0x3fc)]}});}[_0xe992e3(0x9df)](_0x403fcc){const _0x4d2480=_0xe992e3,_0x4ff03b=this[_0x4d2480(0xb1a)][_0x4d2480(0x6ab)](_0x403fcc);if(_0x4ff03b)return _0x4ff03b;try{if(!this['db'][_0x4d2480(0x9a4)](_0x403fcc))throw new _0x3748ee(_0x2a0ddc[_0x4d2480(0x48d)],_0x4d2480(0x312));const _0x28e128=new _0x1ae5dc(this['db'][_0x4d2480(0x1ba)](_0x403fcc),_0x403fcc,this[_0x4d2480(0x683)]);return this[_0x4d2480(0xb1a)][_0x4d2480(0x888)](_0x403fcc,_0x28e128),{'get':_0x28e128[_0x4d2480(0x6ab)][_0x4d2480(0x8b6)](_0x28e128),'set':_0x28e128[_0x4d2480(0x888)][_0x4d2480(0x8b6)](_0x28e128),'add':_0x28e128['add'][_0x4d2480(0x8b6)](_0x28e128),'delete':_0x28e128[_0x4d2480(0x5eb)]['bind'](_0x28e128),'clear':_0x28e128[_0x4d2480(0x24d)][_0x4d2480(0x8b6)](_0x28e128),'list':_0x28e128[_0x4d2480(0x135)][_0x4d2480(0x8b6)](_0x28e128),'count':_0x28e128['count'][_0x4d2480(0x8b6)](_0x28e128),'subscribe':_0x28e128[_0x4d2480(0x60c)][_0x4d2480(0x8b6)](_0x28e128),'unsubscribe':_0x28e128[_0x4d2480(0x4c0)][_0x4d2480(0x8b6)](_0x28e128)};}catch(_0x500363){if(_0x500363 instanceof _0x3748ee)throw _0x500363;throw new _0x3748ee(_0x2a0ddc[_0x4d2480(0xa56)],_0x4d2480(0x90e));}}[_0xe992e3(0x60c)](_0x3b146f){const _0x323fe1=_0xe992e3;this['listenerUnsubscriber']=this[_0x323fe1(0x64e)][_0x323fe1(0x60c)](_0x3b146f),this['isPromiseResolved'](this['isSync'])[_0x323fe1(0x643)](_0x146f96=>{const _0x3deaf1=_0x323fe1;_0x146f96&&this[_0x3deaf1(0x64e)][_0x3deaf1(0x246)]({'event':_0x981fb5['DatabaseEvent'][_0x3deaf1(0x891)]});});}[_0xe992e3(0x4c0)](){const _0x2b8a6a=_0xe992e3;this[_0x2b8a6a(0xac9)]?.(),this[_0x2b8a6a(0xac9)]=void 0x0;}async[_0xe992e3(0xa19)](){const _0x1990e8=_0xe992e3;_0x8afefe(_0x3c5ddd[_0x1990e8(0xad3)],'Database\x20Opened');const _0x356b73=[_0x11c5cb,_0x4e92cd],_0x584725=[];try{await this['db']['open']();const _0x178a06=this['db'][_0x1990e8(0x1ba)](_0x4e92cd),_0x32f312=await _0x178a06['list'](),{id:_0x108588,layout:_0x1bbbe5}=_0x32f312[0x0]??{};if(_0x1bbbe5){for(const _0x16ef6d in _0x1bbbe5)_0x356b73['includes'](_0x16ef6d)||this['db'][_0x1990e8(0x9a4)](_0x16ef6d)||_0x584725[_0x1990e8(0xae7)](_0x16ef6d);await _0x178a06[_0x1990e8(0x888)](_0x108588,{'layout':this['layout']});}else await _0x178a06[_0x1990e8(0x820)]({'layout':this[_0x1990e8(0x444)]});}catch(_0x3a9bb2){throw new _0x3748ee(_0x2a0ddc[_0x1990e8(0xa56)],_0x3a9bb2['message']||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x1990e8(0x625)](),await this[_0x1990e8(0x5d8)](),this[_0x1990e8(0x6ff)](),this[_0x1990e8(0x2ed)](),_0x584725[_0x1990e8(0x558)](_0x39820f=>this[_0x1990e8(0xa2e)](_0x39820f));}async[_0xe992e3(0x6a5)](_0x104f4b,_0x5e898a=()=>{},_0x24f99e=!0x1){const _0x41a81f=_0xe992e3;if(!_0x104f4b)return setTimeout(()=>{const _0x46cc3b=a0_0xca1a;this[_0x46cc3b(0x7ef)](),this[_0x46cc3b(0x35a)]();},0x0),!0x0;if(this[_0x41a81f(0x7f0)]=!0x1,this[_0x41a81f(0x49c)]=_0x5e898a,this[_0x41a81f(0x636)]=setTimeout(_0x5e898a,0x7d0),!this[_0x41a81f(0x587)])throw new _0xd907de(_0xd907de[_0x41a81f(0x386)][_0x41a81f(0x98e)]);const _0x569593=await this['mmr']['getRoot'](),_0x5893ea={'sourceId':this['localNode'][_0x41a81f(0x686)](),'messageType':_0x13f595['Content'],'propagate':_0x24f99e,'content':{'type':_0x26ec79[_0x41a81f(0x413)],'label':this['label'],'mmrRoot':_0x569593}};return this[_0x41a81f(0x27b)][_0x41a81f(0x1e3)](_0x5893ea),this[_0x41a81f(0x587)][_0x41a81f(0x246)](_0x5893ea),this['isSync'];}async['sendTransactionsValue'](_0x20fcb7,_0x43d497){const _0x31a0ae=_0xe992e3;if(_0xd64180['log'](_0x3c5ddd['KeyValueDatabase'],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x43d497['length'],this['label']),!this['transactionTable'])throw new _0xd907de(_0xd907de[_0x31a0ae(0x386)][_0x31a0ae(0x350)]);for(const _0x4e2a16 of _0x43d497){const _0x569aa1=await this[_0x31a0ae(0x4bd)]['get'](_0x4e2a16);if(!_0x569aa1)continue;const [_0x522651,_0x4ed507]=_0x4e2a16[_0x31a0ae(0x130)]('::'),_0x506ee7=this['getTable'](_0x522651),_0x53d892=await _0x506ee7[_0x31a0ae(0x6ab)](_0x4ed507);_0x53d892?(_0x569aa1[_0x31a0ae(0x299)]=_0x53d892,this[_0x31a0ae(0x8dd)](_0x569aa1,[_0x20fcb7])):_0xd64180['warning']('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this[_0x31a0ae(0x71d)][_0x31a0ae(0x686)](),'nodeType':this[_0x31a0ae(0x71d)][_0x31a0ae(0x689)],'remoteId':_0x20fcb7,'data':{'tableKeys':Object['keys'](this[_0x31a0ae(0xb1a)]),'transactionId':_0x4e2a16,'transactions':this[_0x31a0ae(0xa02)],'tableName':_0x522651,'key':_0x4ed507}});}}async[_0xe992e3(0x957)](_0x30b6d0){const _0x34c3ef=_0xe992e3;if(!this[_0x34c3ef(0x4bd)])throw new _0xd907de(_0xd907de[_0x34c3ef(0x386)][_0x34c3ef(0x350)]);const _0x3e2743=await this['mmr'][_0x34c3ef(0x5a8)](_0x30b6d0),_0x208a0e=this[_0x34c3ef(0xa44)][_0x34c3ef(0x6ab)](_0x3e2743);if(_0x208a0e&&this['compareTransactions'](_0x30b6d0,_0x208a0e)<=0x0)return void _0xd64180[_0x34c3ef(0x991)](_0x3c5ddd[_0x34c3ef(0xad3)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x30b6d0);const _0x307561={..._0x30b6d0};return delete _0x307561[_0x34c3ef(0x299)],this[_0x34c3ef(0x402)](_0x307561),await this[_0x34c3ef(0x4bd)]['set'](_0x30b6d0['id'],_0x307561),_0x30b6d0;}[_0xe992e3(0x44d)](_0x52afe2,_0x435c34){const _0x54b4c9=_0xe992e3;return _0x52afe2[_0x54b4c9(0x2fa)]!==_0x435c34[_0x54b4c9(0x2fa)]?_0x52afe2['timestamp']-_0x435c34['timestamp']:_0x52afe2[_0x54b4c9(0x498)]-_0x435c34[_0x54b4c9(0x498)];}async[_0xe992e3(0x13a)](_0x74cb02){const _0x34e590=_0xe992e3;if(!this[_0x34e590(0x4bd)])throw new _0xd907de(_0xd907de[_0x34e590(0x386)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2149aa=_0x74cb02['tableName']+'::'+_0x74cb02[_0x34e590(0x231)],_0x5e5156=await _0x57cb7d['getEstimatedTimestamp'](),_0x515204={'id':_0x2149aa,'priority':Math[_0x34e590(0x4ee)](),'timestamp':_0x5e5156,'action':_0x74cb02['action']};if(await this[_0x34e590(0x957)](_0x515204))return _0x515204;}async[_0xe992e3(0xa2e)](_0x1a206f){const _0xe88a31=_0xe992e3;if(!this['transactionTable'])throw new _0xd907de(_0xd907de[_0xe88a31(0x386)][_0xe88a31(0x350)]);const _0x47a461=_0x2fd359['index']('id')[_0xe88a31(0x356)](_0xe88a31(0x18a),[_0x1a206f+'::',_0x1a206f+_0xe88a31(0x8ca)]),_0x3bc516=await this['transactionTable']['list'](_0x47a461['getQuery']());for(const _0x228916 of _0x3bc516)await this[_0xe88a31(0x4bd)][_0xe88a31(0x5eb)](_0x228916['id']);}[_0xe992e3(0x6ff)](){this['onMessage'](async(_0x5c34dd,_0xd6a941)=>{const _0x5148bc=a0_0xca1a;if(_0xd6a941 instanceof File)return;if(this[_0x5148bc(0x27b)][_0x5148bc(0x32a)](_0xd6a941),!await this[_0x5148bc(0x957)](_0xd6a941))return void this[_0x5148bc(0x452)](_0x5c34dd,_0xd6a941);if(!_0xd6a941[_0x5148bc(0x299)])throw new _0xd907de(_0xd907de[_0x5148bc(0x386)][_0x5148bc(0x38c)]);const [_0x3ff22a,_0x3d5faf]=_0xd6a941['id'][_0x5148bc(0x130)]('::'),_0x3c5017=this[_0x5148bc(0x9df)](_0x3ff22a);if(!_0x3c5017)throw new _0xd907de(_0xd907de['codes'][_0x5148bc(0x4de)],{'table':_0x3c5017});let _0x4a6821=0x0;switch(_0xd6a941[_0x5148bc(0x1af)]){case _0x50c466[_0x5148bc(0x8ef)]:case _0x50c466['Update']:{const _0x23fc23=_0x3c5017[_0x5148bc(0x888)](_0x3d5faf,_0xd6a941[_0x5148bc(0x299)],!0x1);_0x4a6821=JSON[_0x5148bc(0x719)](_0xd6a941[_0x5148bc(0x299)])[_0x5148bc(0x756)],this[_0x5148bc(0xa02)][_0x5148bc(0x137)](_0xd6a941['id'])&&this[_0x5148bc(0x150)]['push'](_0x23fc23);break;}case _0x50c466[_0x5148bc(0x91c)]:{const _0x3d012a=_0x3c5017[_0x5148bc(0x5eb)](_0x3d5faf,!0x1);this[_0x5148bc(0xa02)][_0x5148bc(0x137)](_0xd6a941['id'])&&this['syncTransactionsWritten'][_0x5148bc(0xae7)](_0x3d012a);break;}}_0xd64180[_0x5148bc(0x8b0)](_0x2d66c0[_0x5148bc(0xad3)],{'type':_0x5148bc(0x6a5),'label':this[_0x5148bc(0x3fc)],'nodeId':this[_0x5148bc(0x71d)][_0x5148bc(0x686)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x5148bc(0x5e2)],'tableName':_0x3ff22a,'key':_0x3d5faf,'size':_0x4a6821}),this['checkSyncComplete'](_0x5c34dd,_0xd6a941);});}[_0xe992e3(0x2ed)](){const _0x44226c=_0xe992e3;this['tableUnsubscriber']=this[_0x44226c(0x683)][_0x44226c(0x60c)](async _0x1df89a=>{const _0x23cd2e=_0x44226c;let _0x37fbce=0x0;switch(_0x1df89a['action']){case _0x50c466[_0x23cd2e(0x8ef)]:case _0x50c466[_0x23cd2e(0x586)]:case _0x50c466[_0x23cd2e(0x91c)]:{const _0x70413a=await this['getTransactionFromTableWriteEvent'](_0x1df89a);if(!_0x70413a)return;_0x70413a[_0x23cd2e(0x299)]=_0x1df89a['value'],this[_0x23cd2e(0x8dd)](_0x70413a),_0x37fbce=JSON[_0x23cd2e(0x719)](_0x1df89a[_0x23cd2e(0x299)])[_0x23cd2e(0x756)],this[_0x23cd2e(0x30f)]+=0x1;break;}case _0x173fc1[_0x23cd2e(0x481)]:case _0x173fc1['List']:case _0x173fc1['Count']:this[_0x23cd2e(0x60a)]+=0x1;}_0xd64180[_0x23cd2e(0x8b0)](_0x2d66c0[_0x23cd2e(0xad3)],{'type':_0x1df89a['action'],'label':this[_0x23cd2e(0x3fc)],'nodeId':this[_0x23cd2e(0x71d)][_0x23cd2e(0x686)](),'nodeType':this[_0x23cd2e(0x71d)]['type'],'clusterId':this[_0x23cd2e(0x5e2)],'tableName':_0x1df89a[_0x23cd2e(0x883)],'key':_0x1df89a['key'],'size':_0x37fbce}),this[_0x23cd2e(0x5d4)]();});}[_0xe992e3(0x625)](){const _0x56c546=_0xe992e3;this['db']&&(this[_0x56c546(0x4bd)]||(this[_0x56c546(0x4bd)]=this['db']['getTableConnector'](_0x11c5cb)));}['clearSyncTimeout'](){const _0x9a7f28=_0xe992e3;this[_0x9a7f28(0x636)]&&(clearTimeout(this['syncTimeout']),delete this[_0x9a7f28(0x636)]);}async[_0xe992e3(0x35a)](){const _0x2222be=_0xe992e3;await this[_0x2222be(0x922)][_0x2222be(0xa79)],this[_0x2222be(0x266)](),this[_0x2222be(0x64e)][_0x2222be(0x246)]({'event':_0x981fb5[_0x2222be(0x360)][_0x2222be(0x891)]}),this['syncResolve']?.(!0x0),delete this[_0x2222be(0x8f7)],this[_0x2222be(0x5d4)](),_0xd64180[_0x2222be(0x991)](_0x3c5ddd[_0x2222be(0xad3)],_0x2222be(0x2e3),this[_0x2222be(0x3fc)]);}async['publishSyncCompletedAfterWrites'](_0x26ad72){const _0x27db17=_0xe992e3;await Promise[_0x27db17(0x271)](this[_0x27db17(0x150)]),_0xd64180['log'](_0x3c5ddd[_0x27db17(0xad3)],_0x27db17(0x539)+this[_0x27db17(0x150)][_0x27db17(0x756)]+_0x27db17(0x6b9)+_0x26ad72+'\x20completed.',this['label']),await this[_0x27db17(0x922)][_0x27db17(0xa79)],await this[_0x27db17(0x701)](_0x26ad72),await this['publishSyncCompleted']();}['checkSyncComplete'](_0x4fdc8,_0x5bddc9){const _0x119258=_0xe992e3;this[_0x119258(0xa02)]['includes'](_0x5bddc9['id'])&&(this[_0x119258(0x7ef)](),this['transactionsToSync']=this['transactionsToSync']['filter'](_0x5b9226=>_0x5b9226!==_0x5bddc9['id']),0x0!==this[_0x119258(0xa02)][_0x119258(0x756)]?this[_0x119258(0x636)]=setTimeout(this[_0x119258(0x49c)],0x7d0):this[_0x119258(0x195)](_0x4fdc8));}[_0xe992e3(0x5d4)](){const _0x4e2822=_0xe992e3;this[_0x4e2822(0x203)]&&clearTimeout(this[_0x4e2822(0x203)]),this[_0x4e2822(0x203)]=setTimeout(async()=>{const _0x4a3435=_0x4e2822;delete this[_0x4a3435(0x203)];let _0xf6051f=0x0;for(const _0x3d041e of this[_0x4a3435(0xb1a)]['values']())_0xf6051f+=await _0x3d041e['calculateSize']();this['systemTopic'][_0x4a3435(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x4a3435(0x948)],'label':this[_0x4a3435(0x3fc)],'stats':{'timestamp':Date[_0x4a3435(0x559)](),'storage':_0xf6051f,'messagesSent':this[_0x4a3435(0x30c)],'messagesReceived':this[_0x4a3435(0x97d)],'bytesSent':this[_0x4a3435(0x97c)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0xd64180[_0x4a3435(0x835)](_0x2d66c0[_0x4a3435(0xad3)],_0x4a3435(0x421)+this['clusterId']+_0x4a3435(0x421)+this[_0x4a3435(0x3fc)],_0xf6051f);},_0x411ded);}[_0xe992e3(0x821)](_0x2c121c){const _0x541b27=_0xe992e3;if(_0x2c121c['tables'][_0x11c5cb])throw new _0x3748ee(_0x2a0ddc[_0x541b27(0xab9)],_0x541b27(0x933)+_0x11c5cb+_0x541b27(0x7e7));if(_0x2c121c['tables'][_0x4e92cd])throw new _0x3748ee(_0x2a0ddc[_0x541b27(0xab9)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x4e92cd+_0x541b27(0x7e7));_0x2c121c[_0x541b27(0xb1a)][_0x11c5cb]={'indexes':[]},_0x2c121c[_0x541b27(0xb1a)][_0x4e92cd]={'indexes':[]};}async[_0xe992e3(0x35c)](_0x43514f){const _0x32ce4a=_0xe992e3;return Promise[_0x32ce4a(0x520)]([_0x43514f,Promise[_0x32ce4a(0x9c0)](_0x32ce4a(0x84e))])[_0x32ce4a(0x643)](_0x42ab25=>'not-resolved'!==_0x42ab25);}async[_0xe992e3(0x701)](_0x21ce65){const _0x2cd058=_0xe992e3;await this[_0x2cd058(0x982)]();const _0x2bebdf=await this['mmr'][_0x2cd058(0x74e)](),_0x3ebd97={'sourceId':this[_0x2cd058(0x71d)][_0x2cd058(0x686)](),'destinationIds':[_0x21ce65],'propagate':!0x0,'messageType':_0x13f595[_0x2cd058(0x52d)],'content':{'type':_0x26ec79[_0x2cd058(0x294)],'label':this[_0x2cd058(0x3fc)],'mmrRoot':_0x2bebdf}};this[_0x2cd058(0x587)]['publish'](_0x3ebd97);}async['buildInitialMMR'](){const _0x635f63=_0xe992e3;if(!this[_0x635f63(0x4bd)])throw new _0xd907de(_0xd907de['codes'][_0x635f63(0x350)]);this[_0x635f63(0x38a)]=await this[_0x635f63(0x4bd)][_0x635f63(0x135)](),this[_0x635f63(0x38a)][_0x635f63(0x1e4)](this[_0x635f63(0x44d)]),this[_0x635f63(0x922)]=new _0x1479b5(),this[_0x635f63(0xa44)]=new Map();for(const _0x5b946d of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x5b946d,this[_0x635f63(0x38a)][_0x635f63(0x756)]);this[_0x635f63(0x4a1)]();}async['appendTransactionAndUpdateHashMap'](_0x1bf817,_0x678fb3){const _0x11805e=_0xe992e3,_0x5d60f8={..._0x1bf817};delete _0x5d60f8['value'],await this[_0x11805e(0x922)][_0x11805e(0x52e)](_0x5d60f8,_0x678fb3);const _0x573e42=await this['mmr'][_0x11805e(0x5a8)](_0x5d60f8);this['transactionHashMap']['set'](_0x573e42,_0x1bf817);}[_0xe992e3(0x951)](_0x169b97){const _0x2e081c=_0xe992e3;return this[_0x2e081c(0xa44)][_0x2e081c(0x6ab)](_0x169b97);}[_0xe992e3(0x189)](_0x278b39,_0x37c40d){const _0x1c3ab0=_0xe992e3;if(0x0!==_0x278b39[_0x1c3ab0(0x947)])_0x278b39['left']&&this[_0x1c3ab0(0x189)](_0x278b39[_0x1c3ab0(0x985)],_0x37c40d),_0x278b39[_0x1c3ab0(0x610)]&&this[_0x1c3ab0(0x189)](_0x278b39[_0x1c3ab0(0x610)],_0x37c40d);else{const _0x10f62=this[_0x1c3ab0(0x951)](_0x278b39[_0x1c3ab0(0x914)]);_0x10f62&&_0x37c40d['push'](_0x10f62);}}async['rebuildMMR'](){const _0x1a19c1=_0xe992e3;this[_0x1a19c1(0x672)]&&(clearTimeout(this['debounceRebuildMMR']),delete this['debounceRebuildMMR'],this[_0x1a19c1(0x697)][_0x1a19c1(0x756)]>0x0&&(this['transactions']['push'](...this[_0x1a19c1(0x697)][_0x1a19c1(0x1e4)](this[_0x1a19c1(0x44d)])),this[_0x1a19c1(0x697)]=[]));const _0xe0953f=this[_0x1a19c1(0x23b)]();this[_0x1a19c1(0x922)]=new _0x1479b5(),this[_0x1a19c1(0xa44)]['clear'](),this['transactions'][_0x1a19c1(0x1e4)](this[_0x1a19c1(0x44d)]);for(const _0x22e631 of this[_0x1a19c1(0x38a)])this[_0x1a19c1(0x30d)](_0x22e631,this[_0x1a19c1(0x38a)][_0x1a19c1(0x756)]);await this[_0x1a19c1(0x922)][_0x1a19c1(0xa79)],this[_0x1a19c1(0x56e)](_0xe0953f);}[_0xe992e3(0x23b)](){const _0xb65d29=_0xe992e3;return this['loggingCycle'][_0xb65d29(0x1f7)][_0xb65d29(0xa8c)](async()=>{const _0x207633=_0xb65d29,_0x498eb3=await this['mmr'][_0x207633(0x74e)]();return{'startTime':Date[_0x207633(0x559)](),'initialRoot':_0x498eb3};},Promise[_0xb65d29(0x9c0)]({'startTime':0x0,'initialRoot':''}));}async[_0xe992e3(0x56e)](_0x5e90c8){const _0x197444=_0xe992e3;try{const {startTime:_0xd2c3a7,initialRoot:_0xc9c572}=await _0x5e90c8,_0x3a21e8=await this['mmr'][_0x197444(0x74e)](),_0x53e6d1=[_0x197444(0x44c)+(_0xc9c572!==_0x3a21e8),_0x197444(0x7d1)+_0xc9c572,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x3a21e8,_0x197444(0x708)+this[_0x197444(0x922)]['getTotalNodes'](),_0x197444(0xa84)+(Date['now']()-_0xd2c3a7)+_0x197444(0x4bc)]['join']('\x20');this[_0x197444(0x27b)][_0x197444(0x1f7)]['log']('',()=>_0x53e6d1);}catch(_0x3cca35){console[_0x197444(0x77b)](_0x197444(0x828),_0x3cca35);}}['debounceRebuildMMRWithTransaction'](_0x40b87d){const _0x325ade=_0xe992e3;this['transactionsToAppend'][_0x325ade(0xae7)](_0x40b87d),this[_0x325ade(0x672)]&&(clearTimeout(this[_0x325ade(0x672)]),delete this[_0x325ade(0x672)]),this[_0x325ade(0x672)]=setTimeout(()=>{const _0x537c4a=_0x325ade;this[_0x537c4a(0x982)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x2c5005=_0xe992e3;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x2c5005(0x672)]),delete this[_0x2c5005(0x672)]),0x0!==this[_0x2c5005(0x697)][_0x2c5005(0x756)]){if(0x0===this[_0x2c5005(0x38a)][_0x2c5005(0x756)])return this[_0x2c5005(0x38a)]=this[_0x2c5005(0x697)],this[_0x2c5005(0x697)]=[],await this['rebuildMMR']();if(this[_0x2c5005(0x697)][_0x2c5005(0x1e4)](this['compareTransactions']),this['compareTransactions'](this[_0x2c5005(0x697)][0x0],this[_0x2c5005(0x38a)][this[_0x2c5005(0x38a)][_0x2c5005(0x756)]-0x1])>0x0){this[_0x2c5005(0x27b)][_0x2c5005(0x1f7)]['log'](_0x2c5005(0x32c)+this[_0x2c5005(0x697)][_0x2c5005(0x756)]+_0x2c5005(0x6a8)+this['transactions'][_0x2c5005(0x756)]);for(const _0x1dd364 of this['transactionsToAppend'])this[_0x2c5005(0x38a)][_0x2c5005(0xae7)](_0x1dd364),this[_0x2c5005(0x30d)](_0x1dd364,this[_0x2c5005(0x697)][_0x2c5005(0x756)]);return this['transactionsToAppend']=[],void this[_0x2c5005(0x27b)][_0x2c5005(0x1f7)][_0x2c5005(0x991)](_0x2c5005(0x939),async()=>_0x2c5005(0x578)+await this[_0x2c5005(0x922)][_0x2c5005(0x74e)]()+_0x2c5005(0x5e7)+this[_0x2c5005(0x922)]['getTotalNodes']());}this[_0x2c5005(0x27b)][_0x2c5005(0x1f7)][_0x2c5005(0x991)](_0x2c5005(0x97b)+this[_0x2c5005(0x697)][_0x2c5005(0x756)]+',\x20Transactions:\x20'+this[_0x2c5005(0x38a)][_0x2c5005(0x756)]),this[_0x2c5005(0x38a)]['push'](...this['transactionsToAppend']),this[_0x2c5005(0x697)]=[],this[_0x2c5005(0xa82)]();}}async[_0xe992e3(0x266)](){const _0x4192fc=_0xe992e3;if(!_0xd64180[_0x4192fc(0x1df)](_0x3c5ddd[_0x4192fc(0xad3)]))return;await this[_0x4192fc(0x922)]['ready'];const {dataSent:_0x52ed5b,dataReceived:_0x16c8de}=this[_0x4192fc(0x27b)][_0x4192fc(0x62c)]();_0xd64180[_0x4192fc(0x991)](_0x3c5ddd['KeyValueDatabase'],_0x4192fc(0x86f),this[_0x4192fc(0x3fc)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x52ed5b,_0x4192fc(0x46c)+_0x16c8de,_0x4192fc(0x40b),await this['mmr'][_0x4192fc(0x74e)](),_0x4192fc(0x7a7),this[_0x4192fc(0x922)][_0x4192fc(0x34b)]());}async[_0xe992e3(0x4a1)](){const _0x4353c3=_0xe992e3;if(!_0xd64180[_0x4353c3(0x1df)](_0x3c5ddd['KeyValueDatabase']))return;const _0x42048d=this[_0x4353c3(0x922)][_0x4353c3(0x7ba)](),_0x372c15=_0x42048d[_0x4353c3(0x7db)](_0x3896b3=>_0x3896b3['height']),_0xbff421=await this['mmr'][_0x4353c3(0x74e)]();_0xd64180['log'](_0x3c5ddd[_0x4353c3(0xad3)],_0x4353c3(0x333),this[_0x4353c3(0x38a)][_0x4353c3(0x756)],'transactions',this['mmr'][_0x4353c3(0x34b)](),_0x4353c3(0x823),_0x42048d[_0x4353c3(0x756)],_0x4353c3(0x58e),_0x372c15,_0x4353c3(0x8a9),_0xbff421);}}const _0xe3ba75=require('@crewdle/mist-connector-opfs'),_0x18c963=require('@crewdle/mist-connector-indexed-db'),_0x25f673=require('@crewdle/mist-connector-webrtc-browser'),_0x14ba7f=0x10000000;var _0x36e9b0,_0x4cf391,_0x5b41e8,_0x50eff2,_0x3151aa,_0x25a471,_0x223cd8,_0x55363f,_0x309cef;!function(_0x14bc51){const _0x39d61e=_0xe992e3;_0x14bc51[_0x39d61e(0x2ce)]=_0x39d61e(0x2ce),_0x14bc51[_0x39d61e(0x19f)]='AudioOutput',_0x14bc51['AudioVolume']='AudioVolume',_0x14bc51['Backgrounds']=_0x39d61e(0x1a8),_0x14bc51[_0x39d61e(0x9b8)]=_0x39d61e(0x9b8),_0x14bc51['MediaStream']=_0x39d61e(0x341),_0x14bc51[_0x39d61e(0x17d)]=_0x39d61e(0x17d),_0x14bc51[_0x39d61e(0x4ba)]='ScreenSharing',_0x14bc51[_0x39d61e(0xaf6)]='WebGL',_0x14bc51[_0x39d61e(0xabc)]=_0x39d61e(0xabc);}(_0x36e9b0||(_0x36e9b0={}));class _0x1a329f{[_0xe992e3(0x721)];['bufferedEvents'];[_0xe992e3(0x3c0)];constructor(_0x382f2d=new Map(),_0x3b05ae=new Map(),_0x361bb5=new EventTarget()){const _0x433b30=_0xe992e3;this['registeredListeners']=_0x382f2d,this['bufferedEvents']=_0x3b05ae,this[_0x433b30(0x3c0)]=_0x361bb5;}[_0xe992e3(0x5c8)]=(_0x476a09,_0x3f51f8)=>this[_0xe992e3(0x721)][_0xe992e3(0x64b)](_0x476a09)?(_0xd64180[_0xe992e3(0x991)](_0x3c5ddd[_0xe992e3(0x486)],_0xe992e3(0x5bb),{'event':_0x476a09,'data':_0x3f51f8}),this[_0xe992e3(0x3c0)]['dispatchEvent'](new CustomEvent(_0x476a09,{'detail':_0x3f51f8})),!0x0):(this[_0xe992e3(0x1b0)](_0x476a09,_0x3f51f8),!0x1);['on']=(_0x2a45d8,_0x1e1639)=>{const _0x45f895=_0xe992e3,_0xa6648e=_0x2300d3=>{const _0x5b304=a0_0xca1a;_0xd64180[_0x5b304(0x991)](_0x3c5ddd[_0x5b304(0x486)],_0x5b304(0x9dc),_0x2300d3[_0x5b304(0x689)],_0x2300d3[_0x5b304(0x786)]),_0x1e1639(_0x2300d3[_0x5b304(0x786)]);};return this[_0x45f895(0x721)][_0x45f895(0x888)](_0x2a45d8,_0xa6648e),this[_0x45f895(0x3c0)][_0x45f895(0x277)](_0x2a45d8,_0xa6648e),_0xd64180['log'](_0x3c5ddd[_0x45f895(0x330)],_0x45f895(0x2ee),_0x2a45d8,_0x1e1639),this[_0x45f895(0xa1d)](_0x2a45d8),this;};[_0xe992e3(0x290)](_0x165ed8){const _0x151615=_0xe992e3;if(!_0x165ed8)return this[_0x151615(0x721)]['forEach']((_0x2230e6,_0x31356e)=>{const _0x1e08f8=_0x151615;this[_0x1e08f8(0x3c0)][_0x1e08f8(0xa27)](_0x31356e,_0x2230e6);}),void this[_0x151615(0x721)]['clear']();_0x151615(0xab7)==typeof _0x165ed8&&this['removeListener'](_0x165ed8),Array[_0x151615(0x885)](_0x165ed8)&&_0x165ed8['forEach'](_0x2043a8=>{this['removeListener'](_0x2043a8);});}['removeListener'](_0x21bae9){const _0x111dc6=_0xe992e3,_0x4f845d=this[_0x111dc6(0x721)][_0x111dc6(0x6ab)](_0x21bae9);_0x4f845d&&(this[_0x111dc6(0x3c0)][_0x111dc6(0xa27)](_0x21bae9,_0x4f845d),this[_0x111dc6(0x721)][_0x111dc6(0x5eb)](_0x21bae9));}[_0xe992e3(0x1b0)](_0xa56291,_0x3a8ab1){const _0x23640e=_0xe992e3;_0xd64180[_0x23640e(0x991)](_0x3c5ddd[_0x23640e(0x486)],_0x23640e(0xa3a),{'event':_0xa56291,'data':_0x3a8ab1});const _0x1fe55e=this['bufferedEvents'][_0x23640e(0x6ab)](_0xa56291)||[];this['bufferedEvents'][_0x23640e(0x888)](_0xa56291,[..._0x1fe55e,_0x3a8ab1]);}[_0xe992e3(0xa1d)](_0x4e043c){const _0x893835=_0xe992e3,_0x4fe1dd=this['bufferedEvents']['get'](_0x4e043c);_0x4fe1dd&&(_0x4fe1dd['forEach'](_0x3984d3=>{const _0xf4aa0f=a0_0xca1a;_0xd64180['log'](_0x3c5ddd[_0xf4aa0f(0x486)],_0xf4aa0f(0x1b5),{'event':_0x4e043c,'data':_0x3984d3}),this[_0xf4aa0f(0x3c0)][_0xf4aa0f(0x2ea)](new CustomEvent(_0x4e043c,{'detail':_0x3984d3}));}),this[_0x893835(0x33b)][_0x893835(0x5eb)](_0x4e043c));}}class _0x5e72c7 extends Error{constructor(_0xf85f27){const _0x512809=_0xe992e3;super(_0x512809(0x8aa)+_0xf85f27);}}!function(_0x34885d){const _0x4e23b3=_0xe992e3;_0x34885d[_0x34885d[_0x4e23b3(0x7c2)]=0x0]='Core',_0x34885d[_0x34885d[_0x4e23b3(0x12b)]=0x1]=_0x4e23b3(0x12b);}(_0x4cf391||(_0x4cf391={})),function(_0x23b424){const _0xccbd4d=_0xe992e3;_0x23b424[_0x23b424['Offer']=0x0]=_0xccbd4d(0x126),_0x23b424[_0x23b424[_0xccbd4d(0x8b4)]=0x1]=_0xccbd4d(0x8b4),_0x23b424[_0x23b424[_0xccbd4d(0x2cf)]=0x2]=_0xccbd4d(0x2cf),_0x23b424[_0x23b424['Success']=0x3]=_0xccbd4d(0x7d8),_0x23b424[_0x23b424[_0xccbd4d(0x95c)]=0x4]=_0xccbd4d(0x95c),_0x23b424[_0x23b424[_0xccbd4d(0x493)]=0x5]=_0xccbd4d(0x493),_0x23b424[_0x23b424[_0xccbd4d(0x7ff)]=0x6]='Disconnect',_0x23b424[_0x23b424[_0xccbd4d(0x8b7)]=0x7]='Stats',_0x23b424[_0x23b424['OptimizationConnectionSuccess']=0x8]=_0xccbd4d(0x6cd);}(_0x5b41e8||(_0x5b41e8={})),function(_0x474a82){const _0x58d442=_0xe992e3;_0x474a82[_0x474a82[_0x58d442(0x77e)]=0x0]=_0x58d442(0x77e),_0x474a82[_0x474a82['Receiver']=0x1]='Receiver';}(_0x50eff2||(_0x50eff2={})),function(_0x1d4c8d){const _0x2815a3=_0xe992e3;_0x1d4c8d[_0x2815a3(0x341)]=_0x2815a3(0x339);}(_0x3151aa||(_0x3151aa={})),function(_0x3b2539){const _0x50c5ff=_0xe992e3;_0x3b2539[_0x3b2539[_0x50c5ff(0x572)]=0x0]=_0x50c5ff(0x572),_0x3b2539[_0x3b2539[_0x50c5ff(0x36e)]=0x1]=_0x50c5ff(0x36e),_0x3b2539[_0x3b2539[_0x50c5ff(0x612)]=0x2]=_0x50c5ff(0x612),_0x3b2539[_0x3b2539['NodeLeave']=0x3]='NodeLeave';}(_0x25a471||(_0x25a471={})),function(_0x23ec63){const _0x1fc2b3=_0xe992e3;_0x23ec63[_0x23ec63[_0x1fc2b3(0x622)]=0x0]='Remediation',_0x23ec63[_0x23ec63[_0x1fc2b3(0x8a0)]=0x1]=_0x1fc2b3(0x8a0);}(_0x223cd8||(_0x223cd8={})),function(_0x35f480){const _0x62e7fb=_0xe992e3;_0x35f480[_0x62e7fb(0x62d)]=_0x62e7fb(0x6fa),_0x35f480['Downgrade']='downgrade';}(_0x55363f||(_0x55363f={})),function(_0x552e9a){const _0x45fb72=_0xe992e3;_0x552e9a[_0x45fb72(0x46f)]='resolution',_0x552e9a[_0x45fb72(0x893)]=_0x45fb72(0x21f);}(_0x309cef||(_0x309cef={}));const _0x18ac0d=require('aws-amplify'),_0x443e8f=require('aws-amplify/utils'),_0x1c18e2=require('@aws-amplify/api'),_0x337b5e=require('@aws-amplify/core');class _0x23dd0b{[_0xe992e3(0x5e2)];[_0xe992e3(0x71d)];[_0xe992e3(0x9ba)];constructor(_0x194549,_0x38737c,_0x90cc5b){const _0x128c32=_0xe992e3;this[_0x128c32(0x5e2)]=_0x194549,this[_0x128c32(0x71d)]=_0x38737c,this[_0x128c32(0x9ba)]=_0x90cc5b;}['getLocalId'](){const _0xf043de=_0xe992e3;return this[_0xf043de(0x71d)][_0xf043de(0x686)]();}[_0xe992e3(0x383)](){return this['remoteId'];}}var _0xb93568,_0x54f4ea,_0x45c646;function _0x40b072(_0x767c83,_0x3268a0){return _0x767c83['sourceId']===_0x3268a0;}function _0x357cdb(_0x473949,_0x50c26d){const _0x3a0d6b=_0xe992e3;return _0x473949[_0x3a0d6b(0x39b)]?.[_0x3a0d6b(0x137)](_0x50c26d)??function(_0x42eb7a){const _0x3f1b48=_0x3a0d6b;return void 0x0===_0x42eb7a[_0x3f1b48(0x39b)];}(_0x473949);}function _0xdeaa20(_0x645fe6,{contentType:_0x15fb6a,label:_0xc98a94,remoteId:_0x18f086}){return _0x645fe6+'-'+_0x15fb6a+'-'+_0xc98a94+'-'+_0x18f086;}function _0x29fbf8(_0x41c279,_0x2e6ef2,_0x247024){return''+_0x41c279+_0x2e6ef2+_0x247024;}function _0x5a20d2(_0xc07893){const _0xe46d83=_0xe992e3;return _0xc07893===_0x54f4ea[_0xe46d83(0x285)]?_0xe46d83(0x29d):'OutgoingSubscription';}function _0x3a6f95(_0x469b85,_0x12188d){const _0x10958a=_0xe992e3;return{'label':_0x469b85[_0x10958a(0x4cb)](),'contentType':_0x469b85['getContentType'](),'remoteId':_0x12188d[_0x10958a(0x383)](),'supportsContentType':_0x12188d[_0x10958a(0x80c)]()[_0x10958a(0x137)](_0x469b85['getContentType']())};}!function(_0x287b72){const _0x599a70=_0xe992e3;_0x287b72[_0x287b72[_0x599a70(0x3c1)]=0x0]=_0x599a70(0x3c1),_0x287b72[_0x287b72[_0x599a70(0x6e9)]=0x1]=_0x599a70(0x6e9),_0x287b72[_0x287b72['Rejected']=0x2]=_0x599a70(0x695);}(_0xb93568||(_0xb93568={})),function(_0x1925e8){const _0x12ed6a=_0xe992e3;_0x1925e8['Incoming']='in',_0x1925e8[_0x12ed6a(0x51b)]=_0x12ed6a(0xa36);}(_0x54f4ea||(_0x54f4ea={}));class _0x27d811{[_0xe992e3(0xabd)];[_0xe992e3(0x29a)];constructor(_0x2f9876,_0x54b79e){const _0x2f22f2=_0xe992e3;this[_0x2f22f2(0xabd)]=_0x2f9876,this['retryCallback']=_0x54b79e;}['call'](_0x39173c){const _0x1181b6=_0xe992e3;this[_0x1181b6(0xabd)](_0x39173c);}async[_0xe992e3(0xa47)](){const _0x452fbe=_0xe992e3;await this[_0x452fbe(0x29a)]();}}class _0x395b33{[_0xe992e3(0xabd)];[_0xe992e3(0x29a)];constructor(_0x5ea5e9,_0x1ee50d){const _0x2ab71f=_0xe992e3;this[_0x2ab71f(0xabd)]=_0x5ea5e9,this[_0x2ab71f(0x29a)]=_0x1ee50d;}async[_0xe992e3(0x2eb)](_0x5e0123){const _0x396dda=_0xe992e3;await this[_0x396dda(0xabd)](_0x5e0123);}async[_0xe992e3(0xa47)](){const _0x21cd37=_0xe992e3;await this[_0x21cd37(0x29a)]();}}function _0x442f65(_0x18d139=()=>{},_0x455b30=()=>!0x1,_0x27aa69=()=>{}){let _0xcc92d8,_0x47afba,_0x191c86=0x0;return{get 'size'(){return _0x191c86;},get 'head'(){return _0xcc92d8;},get 'tail'(){return _0x47afba;},set 'head'(_0x225dd0){_0xcc92d8=_0x225dd0;},set 'tail'(_0x29b2e8){_0x47afba=_0x29b2e8;},'push'(_0x4157a2,_0x145f75=!0x0){const _0x29ed1f=a0_0xca1a,_0x599145={'value':_0x4157a2};_0x145f75&&_0x455b30(_0x599145)?_0x18d139():(_0x47afba&&(_0x599145[_0x29ed1f(0x560)]=_0x47afba,_0x47afba['next']=_0x599145),_0x47afba=_0x599145,_0xcc92d8||(_0xcc92d8=_0x599145),_0x191c86+=0x1,_0x145f75&&_0x18d139());},'pop'(){const _0x584cf3=a0_0xca1a;if(!_0x47afba)return;const _0x503a19=_0x47afba[_0x584cf3(0x299)];return _0x47afba=_0x47afba[_0x584cf3(0x560)],_0x47afba&&delete _0x47afba[_0x584cf3(0x176)],_0x47afba||(_0xcc92d8=void 0x0),_0x191c86-=0x1,_0x503a19;},'unshift'(_0x3a23f6,_0x18fa92=!0x0){const _0x50a3b6=a0_0xca1a,_0x1bf59d={'value':_0x3a23f6};_0x18fa92&&_0x455b30(_0x1bf59d)?_0x18d139():(_0xcc92d8&&(_0xcc92d8[_0x50a3b6(0x560)]=_0x1bf59d,_0x1bf59d[_0x50a3b6(0x176)]=_0xcc92d8),_0xcc92d8=_0x1bf59d,_0x47afba||(_0x47afba=_0x1bf59d),_0x191c86+=0x1,_0x18fa92&&_0x18d139());},'shift'(){const _0x20764c=a0_0xca1a;if(!_0xcc92d8)return;const _0x5e32ea=_0xcc92d8['value'];return _0xcc92d8=_0xcc92d8[_0x20764c(0x176)],_0xcc92d8&&delete _0xcc92d8[_0x20764c(0x560)],_0xcc92d8||(_0x47afba=void 0x0),_0x191c86-=0x1,_0x5e32ea;},'clear'(){_0x27aa69(),_0xcc92d8=void 0x0,_0x47afba=void 0x0,_0x191c86=0x0;}};}function _0x5941bf(_0x373361,_0x4d56d7=!0x1,_0x106b5e=()=>{},_0x242413=()=>!0x1,_0x1b90b7=()=>{}){let _0x124437=!0x1;const _0x3b9c41=_0x442f65(async function(){const _0x13df6d=a0_0xca1a;if(!_0x124437){for(_0x124437=!0x0;_0x3b9c41['head'];){const _0x4bba73=_0x3b9c41['shift']();if(_0x4bba73)try{_0x373361 instanceof _0x27d811&&_0x373361[_0x13df6d(0x2eb)](_0x4bba73),_0x373361 instanceof _0x395b33&&await _0x373361['call'](_0x4bba73),_0x106b5e(_0x4bba73);}catch(_0x2cd0ef){_0x4d56d7?_0x3b9c41['push'](_0x4bba73,!0x1):_0x3b9c41[_0x13df6d(0x4dc)](_0x4bba73,!0x1),await _0x373361['wait']();}}_0x124437=!0x1;}},_0x242413,_0x1b90b7);return _0x3b9c41;}class _0x5dc163 extends _0x23dd0b{[_0xe992e3(0x3ea)];['authService'];[_0xe992e3(0xa6d)]=_0x1c18e2[_0xe992e3(0x3a3)]['Disconnected'];[_0xe992e3(0x635)]=_0x4d5b0d();[_0xe992e3(0x455)]=_0x5c724d();['subscription'];[_0xe992e3(0x74d)];[_0xe992e3(0x614)]=_0x5941bf(new _0x395b33(this['sendAction'][_0xe992e3(0x8b6)](this),this[_0xe992e3(0x3aa)][_0xe992e3(0x8b6)](this)));[_0xe992e3(0x60b)];constructor(_0x558a7c,_0x5334e7,_0x301392,_0x54f4b7,_0x9705d4){const _0x224576=_0xe992e3;super(_0x5334e7,_0x301392,_0x54f4b7),this[_0x224576(0x3ea)]=_0x558a7c,this[_0x224576(0x5c3)]=_0x9705d4;}async['connect'](){const _0x58140b=_0xe992e3;try{const _0x41ffb5={'getTokens':async()=>{const _0x9fb8fd=a0_0xca1a,_0xcd6876=await this[_0x9fb8fd(0x5c3)]['getIdToken']();return{'accessToken':(0x0,_0x337b5e[_0x9fb8fd(0x186)])(_0xcd6876),'idToken':(0x0,_0x337b5e['decodeJWT'])(_0xcd6876)};}};_0x18ac0d[_0x58140b(0x54a)]['configure']({'API':{'GraphQL':{'endpoint':_0x201946['aws'][_0x58140b(0x1c5)],'region':_0x201946['aws'][_0x58140b(0xadb)],'defaultAuthMode':_0x58140b(0x605)}}},{'Auth':{'tokenProvider':_0x41ffb5}});const _0x18e759=(0x0,_0x1c18e2['generateClient'])();this[_0x58140b(0x60b)]=_0x18e759,await this[_0x58140b(0x60c)](),this[_0x58140b(0x74d)]=_0x443e8f[_0x58140b(0x398)][_0x58140b(0x73a)]('api',async({payload:_0x110567})=>{const _0x3b7f74=_0x58140b;if(_0x110567[_0x3b7f74(0x62b)]===_0x1c18e2[_0x3b7f74(0x218)]){const _0x4bcdca=_0x110567['data'];this['connectionState']=_0x4bcdca['connectionState'],this['connectionStateListener'][_0x3b7f74(0x246)](_0x4bcdca['connectionState']),this[_0x3b7f74(0xa6d)]===_0x1c18e2[_0x3b7f74(0x3a3)]['Disconnected']?(_0xd64180[_0x3b7f74(0x77b)](_0x3b7f74(0x7b7),{'clusterId':this[_0x3b7f74(0x5e2)],'nodeId':this['getLocalId'](),'nodeType':this[_0x3b7f74(0x71d)][_0x3b7f74(0x689)]}),this[_0x3b7f74(0x1c9)](),this[_0x3b7f74(0x9ab)]()):this['connectionState']===_0x1c18e2[_0x3b7f74(0x3a3)][_0x3b7f74(0xac0)]?_0xd64180[_0x3b7f74(0x372)](_0x3b7f74(0x7b0),{'clusterId':this['clusterId'],'nodeId':this[_0x3b7f74(0x50f)](),'nodeType':this[_0x3b7f74(0x71d)][_0x3b7f74(0x689)]}):_0xd64180[_0x3b7f74(0x372)](_0x3b7f74(0x344),{'clusterId':this[_0x3b7f74(0x5e2)],'nodeId':this[_0x3b7f74(0x50f)](),'nodeType':this['localNode'][_0x3b7f74(0x689)],'data':{'state':_0x4bcdca[_0x3b7f74(0xa6d)]}});}});}catch(_0x55b1db){_0xd64180[_0x58140b(0x77b)](_0x58140b(0xa8d),{'clusterId':this['clusterId'],'nodeId':this[_0x58140b(0x50f)](),'nodeType':this[_0x58140b(0x71d)][_0x58140b(0x689)]});}}['close'](){const _0x246ccb=_0xe992e3;_0xd64180[_0x246ccb(0x372)]('appsync-close',{'clusterId':this[_0x246ccb(0x5e2)],'nodeId':this[_0x246ccb(0x50f)](),'nodeType':this[_0x246ccb(0x71d)][_0x246ccb(0x689)]}),this[_0x246ccb(0x614)][_0x246ccb(0x24d)](),this[_0x246ccb(0x74d)]?.(),this[_0x246ccb(0x62a)]?.[_0x246ccb(0x4c0)](),delete this[_0x246ccb(0x62a)];}[_0xe992e3(0x3ee)](){const _0x24718a=_0xe992e3;return this[_0x24718a(0xa6d)]===_0x1c18e2['ConnectionState']['Connected'];}[_0xe992e3(0x8dd)](_0x2abfcd){const _0x259217=_0xe992e3;this['retryQueue'][_0x259217(0xae7)](_0x2abfcd);}[_0xe992e3(0x399)](_0x52f9fe){const _0x1b14cb=_0xe992e3;return this[_0x1b14cb(0x455)][_0x1b14cb(0x60c)](_0x52f9fe);}[_0xe992e3(0x80c)](){return[_0x981fb5['ContentType']['Data']];}async['waitConnected'](){const _0xd40484=_0xe992e3;if(!this[_0xd40484(0x3ee)]())return new Promise(_0x301d57=>{const _0x41333b=_0xd40484,_0x427be4=this[_0x41333b(0x635)][_0x41333b(0x60c)](_0x497758=>{const _0x904c79=_0x41333b;_0x497758===_0x1c18e2[_0x904c79(0x3a3)][_0x904c79(0xac0)]&&(_0x427be4(),_0x301d57());});});}async['sendAction'](_0x2c199c){const _0x30845a=_0xe992e3;if(this[_0x30845a(0xa6d)]!==_0x1c18e2['ConnectionState'][_0x30845a(0xac0)])throw new Error(_0x30845a(0x7fe));_0x2c199c[_0x30845a(0x39b)]&&0x1===_0x2c199c[_0x30845a(0x39b)][_0x30845a(0x756)]?await this['publish'](_0x2c199c['destinationIds'][0x0],JSON[_0x30845a(0x719)](_0x2c199c)):_0xd64180[_0x30845a(0x77b)](_0x30845a(0x843),{'clusterId':this['clusterId'],'nodeId':this[_0x30845a(0x50f)](),'nodeType':this[_0x30845a(0x71d)][_0x30845a(0x689)]});}async['publish'](_0x491784,_0x2595a5){const _0x5c3730=_0xe992e3;if(!this[_0x5c3730(0x60b)])throw new Error(_0x5c3730(0x8d8));_0xd64180['log'](_0x3c5ddd[_0x5c3730(0x800)],'AppSync\x20publish',this['getLocalId'](),_0x2595a5),await this[_0x5c3730(0x60b)][_0x5c3730(0x5b6)]({'query':_0x5c3730(0x737),'variables':{'name':await this[_0x5c3730(0x5db)](_0x491784),'data':_0x2595a5}});}async['subscribe'](){const _0x5095d7=_0xe992e3;if(this[_0x5095d7(0x62a)])return;if(!this[_0x5095d7(0x60b)])throw new Error('AppSync\x20client\x20not\x20ready');_0xd64180[_0x5095d7(0x991)](_0x3c5ddd[_0x5095d7(0x800)],_0x5095d7(0xaf5),this[_0x5095d7(0x50f)]());const _0x42da82=await this[_0x5095d7(0x60b)][_0x5095d7(0x5b6)]({'query':_0x5095d7(0x68e),'variables':{'name':await this[_0x5095d7(0x5db)]()},'authToken':await this[_0x5095d7(0x5c3)]['getIdToken']()},{'Authorization':await this[_0x5095d7(0x5c3)][_0x5095d7(0x61c)]()});this[_0x5095d7(0x62a)]=_0x42da82['subscribe']({'next':({data:_0x32cf64})=>{const _0x38a0e4=_0x5095d7,_0x4e754e=JSON['parse'](_0x32cf64[_0x38a0e4(0x60c)][_0x38a0e4(0x9a6)]);!_0x40b072(_0x4e754e,this[_0x38a0e4(0x50f)]())&&_0x357cdb(_0x4e754e,this[_0x38a0e4(0x50f)]())&&this[_0x38a0e4(0x455)][_0x38a0e4(0x246)](_0x4e754e);},'error':console[_0x5095d7(0x991)]});}async[_0xe992e3(0x5db)](_0x2ad008){const _0x567f3e=_0xe992e3,_0x319879=await crypto[_0x567f3e(0x371)]['digest'](_0x567f3e(0x7fa),new TextEncoder()[_0x567f3e(0xb01)](this[_0x567f3e(0x3ea)]+'-'+this[_0x567f3e(0x5e2)]+'-'+(_0x2ad008??this['getLocalId']())));return Array[_0x567f3e(0x79e)](new Uint8Array(_0x319879))[_0x567f3e(0x7db)](_0x607ae1=>_0x607ae1[_0x567f3e(0x53b)](0x10)[_0x567f3e(0xa29)](0x2,'0'))[_0x567f3e(0x9fb)]('');}}!function(_0x1fd569){const _0x36bd97=_0xe992e3;_0x1fd569[_0x1fd569['Add']=0x0]='Add',_0x1fd569[_0x1fd569[_0x36bd97(0x342)]=0x1]='Remove',_0x1fd569[_0x1fd569[_0x36bd97(0x586)]=0x2]='Update',_0x1fd569[_0x1fd569[_0x36bd97(0xaac)]=0x3]=_0x36bd97(0xaac),_0x1fd569[_0x1fd569['RemoteRemove']=0x4]=_0x36bd97(0x547);}(_0x45c646||(_0x45c646={}));const _0xafc6ae='0',_0xe349bc=_0xe992e3(0xa3c),_0x3aa974=_0x505ed0,_0x14c800=0x60000;class _0x38841d{[_0xe992e3(0x5e2)];['localNode'];[_0xe992e3(0x9ba)];[_0xe992e3(0x8f1)];[_0xe992e3(0x831)];[_0xe992e3(0x7cf)];[_0xe992e3(0x27f)];[_0xe992e3(0x251)];[_0xe992e3(0x8cd)]=0x1;['systemTopic'];[_0xe992e3(0xabf)]=[];[_0xe992e3(0x90a)]=[];['handshakeDebounce'];constructor(_0x218db0,_0x4d1a78,_0x4fd342,_0x1c8635,_0x5db5ab,_0x3f4999){const _0x2ef3d=_0xe992e3;this[_0x2ef3d(0x5e2)]=_0x218db0,this['localNode']=_0x4d1a78,this[_0x2ef3d(0x9ba)]=_0x4fd342,this[_0x2ef3d(0x8f1)]=_0x1c8635,this['connectionType']=_0x5db5ab,this[_0x2ef3d(0x7cf)]=_0x3f4999,this[_0x2ef3d(0x27f)]=new this['connectionConstructor']({'handshakeServers':this['iceServers']}),this['setupConnectionEvents']();}['close'](){const _0x15b45b=_0xe992e3;this[_0x15b45b(0x7e5)]();}[_0xe992e3(0x1cd)](_0x14d9a4){const _0x190ea3=_0xe992e3;this[_0x190ea3(0x831)]=_0x14d9a4;}async[_0xe992e3(0x355)](_0x369ec0,_0x1259c4){const _0x1e67c8=_0xe992e3;if(_0x1259c4===this[_0x1e67c8(0x8cd)])for(const _0x37e53b of _0x369ec0){if(!this['connection'][_0x1e67c8(0x7f4)])return this['addPendingHandshakeCandidate'](_0x37e53b);try{await this[_0x1e67c8(0x27f)][_0x1e67c8(0x690)](_0x37e53b);}catch(_0x15a2f0){this[_0x1e67c8(0x204)](_0x37e53b);}}}[_0xe992e3(0x3ee)](){const _0x54f74c=_0xe992e3;return this['logConnectionState'](),_0x54f74c(0x8ce)===this['connection']['connectionState']&&['connected',_0x54f74c(0x463)]['includes'](this[_0x54f74c(0x27f)][_0x54f74c(0x25d)])&&_0x54f74c(0x55d)!==this[_0x54f74c(0x27f)][_0x54f74c(0x9bf)]&&_0x54f74c(0xa19)===this[_0x54f74c(0x251)]?.[_0x54f74c(0x649)];}[_0xe992e3(0x4a5)](_0x34bda2){const _0x208b2a=_0xe992e3;this[_0x208b2a(0x587)]=_0x34bda2;}['unregisterSystemPublisher'](){const _0x13768f=_0xe992e3;delete this[_0x13768f(0x587)];}[_0xe992e3(0x281)](_0x16d832){const _0xc66b1d=_0xe992e3;this[_0xc66b1d(0x7e5)](),this[_0xc66b1d(0x27f)]=new this[(_0xc66b1d(0x7cf))]({'handshakeServers':this[_0xc66b1d(0x8f1)]}),_0x16d832?this[_0xc66b1d(0x8cd)]=_0x16d832:this[_0xc66b1d(0x8cd)]+=0x1,this[_0xc66b1d(0x637)]();}['processPendingHandshakeCandidates'](){const _0x23f040=_0xe992e3;this[_0x23f040(0x90a)][_0x23f040(0x558)](_0x1be617=>{const _0x576267=_0x23f040;try{this[_0x576267(0x27f)]['addCandidate'](_0x1be617);}catch(_0x31e677){}}),this[_0x23f040(0x90a)]=[];}[_0xe992e3(0x5e3)](_0x38331d,_0x40e588){const _0x502958=_0xe992e3;if(!this['systemTopic'])throw new _0xd907de(_0xd907de['codes'][_0x502958(0x98e)],{'content':_0x38331d});const _0x44c036={'sourceId':this[_0x502958(0x71d)]['getId'](),'destinationIds':[this[_0x502958(0x9ba)]],'propagate':this[_0x502958(0x831)]!==_0x4cf391[_0x502958(0x7c2)],'retry':this[_0x502958(0x831)]!==_0x4cf391[_0x502958(0x7c2)],'messageType':_0x13f595[_0x502958(0x90d)],'content':_0x38331d};_0x40e588&&(_0x44c036[_0x502958(0x90c)]=_0x40e588),this[_0x502958(0x587)][_0x502958(0x246)](_0x44c036);}[_0xe992e3(0x637)](){const _0x1439e1=_0xe992e3;this['connection'][_0x1439e1(0x2b4)]=()=>{const _0x42192a=_0x1439e1;_0x42192a(0x6d8)===this[_0x42192a(0x27f)][_0x42192a(0x994)]&&this[_0x42192a(0xabf)][_0x42192a(0x756)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x42192a(0x165)]),this[_0x42192a(0x165)]=setTimeout(()=>{const _0x5ca1d5=_0x42192a;delete this[_0x5ca1d5(0x165)],this[_0x5ca1d5(0x52a)](),this[_0x5ca1d5(0xabf)]=[];},0x1f4));},this[_0x1439e1(0x27f)][_0x1439e1(0x47a)]=_0x1de99a=>{const _0x4161c6=_0x1439e1;_0x1de99a[_0x4161c6(0x881)]&&this[_0x4161c6(0xabf)][_0x4161c6(0xae7)](_0x1de99a[_0x4161c6(0x881)]);};}[_0xe992e3(0x7e5)](){const _0x23b61c=_0xe992e3;clearTimeout(this['handshakeDebounce']),delete this[_0x23b61c(0x165)],this[_0x23b61c(0xabf)]=[],this['pendingHandshakeCandidates']=[],this[_0x23b61c(0x251)]&&(this['dataChannel'][_0x23b61c(0x399)]=null,this[_0x23b61c(0x251)][_0x23b61c(0x8af)]=null,this[_0x23b61c(0x251)]['close'](),delete this[_0x23b61c(0x251)]),this[_0x23b61c(0x27f)][_0x23b61c(0x2b4)]=null,this[_0x23b61c(0x27f)][_0x23b61c(0x47a)]=null,this[_0x23b61c(0x27f)][_0x23b61c(0x4c2)]=null,this[_0x23b61c(0x27f)][_0x23b61c(0x5ab)]=null,this[_0x23b61c(0x27f)][_0x23b61c(0x70f)]=null,this[_0x23b61c(0x27f)][_0x23b61c(0xaa2)]=null,this[_0x23b61c(0x27f)][_0x23b61c(0x1c9)]();}[_0xe992e3(0x204)](_0x225956){const _0x5f2b27=_0xe992e3;this[_0x5f2b27(0x90a)][_0x5f2b27(0xae7)](_0x225956);}[_0xe992e3(0x687)](){const _0x40de46=_0xe992e3;_0xd64180[_0x40de46(0x991)](_0x3c5ddd[_0x40de46(0x3a3)],_0x40de46(0x9aa),{'localId':this[_0x40de46(0x71d)][_0x40de46(0x686)](),'remoteId':this[_0x40de46(0x9ba)],'connectionState':this[_0x40de46(0x27f)][_0x40de46(0xa6d)],'handshakeState':this[_0x40de46(0x27f)]['handshakeState'],'signalingState':this[_0x40de46(0x27f)][_0x40de46(0x9bf)],'dataChannelState':this['dataChannel']?.[_0x40de46(0x649)]});}}function _0x39cc9e(_0x52de68,_0x361e43){const _0xa3ab8e=_0xe992e3;_0x361e43[_0xa3ab8e(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0xa3ab8e(0x90d)],'content':_0x52de68});}class _0x25d4e8{static ['instance'];[_0xe992e3(0xa76)]=[];[_0xe992e3(0x185)];constructor(){setInterval(()=>{const _0x3efed9=a0_0xca1a;this[_0x3efed9(0xa76)]['forEach'](_0x20c0fe=>{const _0x21345a=_0x3efed9;if(Date['now']()-_0x20c0fe[_0x21345a(0x387)]>_0x20c0fe[_0x21345a(0x6f9)]){try{_0x20c0fe[_0x21345a(0xabd)]();}catch(_0x17473){}_0x20c0fe[_0x21345a(0x387)]=Date[_0x21345a(0x559)]();}});},0x64);}static[_0xe992e3(0x9f1)](){return _0x25d4e8['instance']||(_0x25d4e8['instance']=new _0x25d4e8()),_0x25d4e8['instance'];}[_0xe992e3(0x475)](_0x4bb9ce){const _0x277642=_0xe992e3,_0x5d0e07=this[_0x277642(0x9e6)](_0x4bb9ce),_0x2dcd1d=_0x4bb9ce['createGain']();_0x2dcd1d&&_0x5d0e07&&(_0x2dcd1d['gain'][_0x277642(0x299)]=0.001,_0x5d0e07[_0x277642(0x9ab)](_0x2dcd1d),_0x2dcd1d[_0x277642(0x9ab)](_0x4bb9ce[_0x277642(0x757)]),_0x5d0e07[_0x277642(0x4e1)]());}[_0xe992e3(0x60e)](){const _0x2296cd=_0xe992e3;this[_0x2296cd(0x185)]&&(this[_0x2296cd(0x185)][_0x2296cd(0x9b6)](),this[_0x2296cd(0x185)][_0x2296cd(0x783)](),this['source']=void 0x0);}[_0xe992e3(0xa47)](_0x122eaa){return new Promise(_0x3c83ed=>{setTimeout(_0x3c83ed,_0x122eaa);});}[_0xe992e3(0x6b1)](_0x30a487,_0x3006d5){const _0x4ebfb4=_0xe992e3;return this['parameters']['push']({'callback':_0x30a487,'interval':_0x3006d5,'lastExecuted':Date[_0x4ebfb4(0x559)]()}),()=>{const _0x55f9ee=_0x4ebfb4;this['parameters']=this['parameters'][_0x55f9ee(0x1ee)](_0x38fdd4=>_0x38fdd4[_0x55f9ee(0xabd)]!==_0x30a487);};}[_0xe992e3(0x9e6)](_0x136f13){const _0x139627=_0xe992e3;if(_0x136f13[_0x139627(0x9e6)])return _0x136f13['createConstantSource']();const _0x25f06b=_0x136f13[_0x139627(0xb20)](),_0x462532=_0x136f13[_0x139627(0x9ef)](0x1,0x1,_0x136f13['sampleRate']);return _0x462532[_0x139627(0x5a0)](0x0)[0x0]=0xa,_0x25f06b[_0x139627(0x59c)]=_0x462532,_0x25f06b[_0x139627(0x553)]=!0x0,_0x25f06b;}}const _0x50a54a=_0x25d4e8[_0xe992e3(0x9f1)]();class _0xc568a1 extends _0x38841d{[_0xe992e3(0x58a)]=_0x4d5b0d();['trackCallback']=_0x4d5b0d();[_0xe992e3(0x867)]=_0x4d5b0d();[_0xe992e3(0x7a2)]=new Map();[_0xe992e3(0x95b)]=new Map();[_0xe992e3(0x216)];['messagesReceived']=0x0;[_0xe992e3(0x1c8)]={'messages':{'total':0x0}};[_0xe992e3(0x5d0)]=0x0;[_0xe992e3(0x174)]=0x0;['loggingCycle']=_0xe93484(_0xe992e3(0x8c7),_0x3c5ddd['ReceiverOnMessage']);['close'](){const _0x517cbc=_0xe992e3;this[_0x517cbc(0x261)](),this[_0x517cbc(0x7a2)]['clear'](),super[_0x517cbc(0x1c9)]();}async[_0xe992e3(0x1b4)](_0x3b185c,_0x41a724){const _0x5ed48d=_0xe992e3;this['currentVersion']=_0x41a724,this['clearWaitSuccess']();const _0x3de5a5=await this[_0x5ed48d(0x27f)][_0x5ed48d(0x347)](_0x3b185c);this[_0x5ed48d(0x759)]();const _0x2838a2=(0x0,_0x2860a6['v4'])();this[_0x5ed48d(0x5e3)]({'type':_0x5b41e8[_0x5ed48d(0x8b4)],'answer':_0x3de5a5,'version':_0x41a724,'connectionType':this['connectionType']},_0x2838a2),this[_0x5ed48d(0x831)]===_0x4cf391[_0x5ed48d(0x7c2)]&&(this['waitSuccess']=_0x50a54a[_0x5ed48d(0x6b1)](()=>{const _0x3c6e68=_0x5ed48d;this[_0x3c6e68(0x5e3)]({'type':_0x5b41e8[_0x3c6e68(0x8b4)],'answer':_0x3de5a5,'version':_0x41a724,'connectionType':this[_0x3c6e68(0x831)]},_0x2838a2);},0x1388));}[_0xe992e3(0xb00)](){const _0x2e5bb7=_0xe992e3;this[_0x2e5bb7(0x261)]();}[_0xe992e3(0x860)](_0x345bb0){const _0x2859aa=_0xe992e3;this[_0x2859aa(0x281)](_0x345bb0),this[_0x2859aa(0x5e3)]({'type':_0x5b41e8['Restart']});}async[_0xe992e3(0x9fe)](){const _0x1114fd=_0xe992e3;this[_0x1114fd(0x587)]&&(await this['connection'][_0x1114fd(0x799)](this[_0x1114fd(0x7a2)],(_0x2a2f5e,_0x1b5bf3)=>{const _0x4cd407=_0x1114fd;_0x39cc9e({'type':_0x5b41e8[_0x4cd407(0x8b7)],'streamId':_0x1b5bf3,'nodeId':this[_0x4cd407(0x9ba)],'stats':_0x2a2f5e},this[_0x4cd407(0x587)]);}),this[_0x1114fd(0x587)]['publish']({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x1114fd(0x90d)],'content':{'type':_0x5b41e8['Stats'],'nodeId':this[_0x1114fd(0x9ba)],'stats':{'origin':_0x50eff2[_0x1114fd(0x9c2)],'timestamp':Date[_0x1114fd(0x559)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x1114fd(0x5d0)],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x1114fd(0x1c8)]}}}));}[_0xe992e3(0x399)](_0x5608a3){const _0x5ddcd9=_0xe992e3;return _0x201946[_0x5ddcd9(0x1f8)]?this[_0x5ddcd9(0x58a)][_0x5ddcd9(0x60c)](_0x5608a3):this[_0x5ddcd9(0x58a)][_0x5ddcd9(0x60c)](_0x31a9ec=>{const _0xa49c13=_0x5ddcd9;0x0===_0x31a9ec[_0xa49c13(0x1fd)]&&_0x31a9ec[_0xa49c13(0x8a3)]===_0x13f595[_0xa49c13(0x52d)]&&this[_0xa49c13(0x27b)]['logger'][_0xa49c13(0x991)](_0xa49c13(0x202)+this[_0xa49c13(0x9ba)],()=>_0x3746de(_0x31a9ec)),_0x5608a3(_0x31a9ec);});}[_0xe992e3(0x70f)](_0xeca24e){const _0x9d83a2=_0xe992e3;return this[_0x9d83a2(0x5f4)][_0x9d83a2(0x60c)](({track:_0x12e2e4,stream:_0x54e67d})=>_0xeca24e(_0x12e2e4,_0x54e67d));}[_0xe992e3(0xa15)](_0x4b84ea){const _0x4167cf=_0xe992e3;return this[_0x4167cf(0x867)][_0x4167cf(0x60c)](({track:_0x1394a3,stream:_0x460faf})=>_0x4b84ea(_0x1394a3,_0x460faf));}[_0xe992e3(0x281)](_0x531cce){const _0x2f7dac=_0xe992e3;this[_0x2f7dac(0x261)](),this['receivers'][_0x2f7dac(0x558)](_0x2f2b6d=>{const _0x224984=_0x2f7dac;_0x2f2b6d[_0x224984(0x24d)]();}),super[_0x2f7dac(0x281)](_0x531cce);}[_0xe992e3(0x52a)](){const _0xa556c=_0xe992e3;this[_0xa556c(0x5e3)]({'type':_0x5b41e8[_0xa556c(0x2cf)],'candidates':this[_0xa556c(0xabf)],'origin':_0x50eff2[_0xa556c(0x9c2)],'version':this[_0xa556c(0x8cd)],'connectionType':this[_0xa556c(0x831)]});}[_0xe992e3(0x637)](){const _0x1fbb94=_0xe992e3;super['setupConnectionEvents'](),this[_0x1fbb94(0x27f)]['onTrack']=_0x225ae9=>{const _0x16652e=_0x1fbb94;_0xd64180[_0x16652e(0x991)](_0x3c5ddd[_0x16652e(0x866)],_0x16652e(0x69a),this[_0x16652e(0x71d)][_0x16652e(0x686)](),_0x225ae9),_0x225ae9['streams'][0x0][_0x16652e(0xa14)]=_0x41cd8c=>{const _0x360550=_0x16652e;this[_0x360550(0x7a2)][_0x360550(0x6ab)](_0x225ae9[_0x360550(0x240)][0x0]['id'])?.[_0x360550(0x5eb)](_0x41cd8c[_0x360550(0xa8a)]),0x0===this[_0x360550(0x7a2)][_0x360550(0x6ab)](_0x225ae9[_0x360550(0x240)][0x0]['id'])?.[_0x360550(0x73d)]&&this[_0x360550(0x7a2)][_0x360550(0x5eb)](_0x225ae9['streams'][0x0]['id']),this['removeTrackCallback']['publish']({'track':_0x41cd8c[_0x360550(0xa8a)],'stream':_0x225ae9[_0x360550(0x240)][0x0]});},this[_0x16652e(0x7a2)]['has'](_0x225ae9[_0x16652e(0x240)][0x0]['id'])||this[_0x16652e(0x7a2)][_0x16652e(0x888)](_0x225ae9[_0x16652e(0x240)][0x0]['id'],new Set()),this[_0x16652e(0x7a2)]['get'](_0x225ae9['streams'][0x0]['id'])[_0x16652e(0x820)](_0x225ae9[_0x16652e(0xa8a)]),this[_0x16652e(0x5f4)][_0x16652e(0x246)]({'track':_0x225ae9[_0x16652e(0xa8a)],'stream':_0x225ae9[_0x16652e(0x240)][0x0]});},this[_0x1fbb94(0x27f)][_0x1fbb94(0xaa2)]=_0x4e547f=>{const _0x176474=_0x1fbb94;this[_0x176474(0x251)]=_0x4e547f[_0x176474(0x39c)],this[_0x176474(0x251)]['onMessage']=_0x2306b0=>{const _0x1890bb=_0x176474;if(_0x2306b0[_0x1890bb(0x9a6)]!==_0xafc6ae)this['handleOnMessage'](_0x2306b0[_0x1890bb(0x9a6)]);else{if(!this[_0x1890bb(0x251)])return void _0xd64180[_0x1890bb(0x77b)](_0x1890bb(0xa60),{'clusterId':this['clusterId'],'nodeId':this[_0x1890bb(0x71d)][_0x1890bb(0x686)](),'nodeType':this[_0x1890bb(0x71d)][_0x1890bb(0x689)],'remoteId':this[_0x1890bb(0x9ba)],'data':{'connection':_0x1890bb(0x298)}});if(_0x1890bb(0xa19)!==this[_0x1890bb(0x251)][_0x1890bb(0x649)])return;this['dataChannel'][_0x1890bb(0x8dd)]('1');}};};}[_0xe992e3(0x9a1)](_0x2580fc){const _0x58a132=_0xe992e3;if(_0x58a132(0xab7)==typeof _0x2580fc&&_0x2580fc[_0x58a132(0x654)](_0xe349bc))return this['messagesReceived']+=0x1,this[_0x58a132(0x5d0)]+=_0x2580fc[_0x58a132(0x756)],this[_0x58a132(0x519)](_0x2580fc);setTimeout(()=>{const _0x5dd1fb=_0x58a132,_0xf6e257=Date[_0x5dd1fb(0x559)]();let _0x45d871;if((_0x2580fc instanceof ArrayBuffer||_0x2580fc[_0x5dd1fb(0x756)]<=_0x3aa974)&&(this[_0x5dd1fb(0x97d)]+=0x1,this[_0x5dd1fb(0x5d0)]+=_0x2580fc instanceof ArrayBuffer?_0x2580fc[_0x5dd1fb(0x6bc)]:_0x2580fc[_0x5dd1fb(0x756)]),_0x2580fc instanceof ArrayBuffer){const [_0x367465,_0x1e4157]=this[_0x5dd1fb(0x99d)](_0x2580fc);_0x45d871=_0x367465,_0x45d871[_0x5dd1fb(0x2e4)][_0x5dd1fb(0x9a6)]=_0x1e4157;}else _0x45d871=JSON[_0x5dd1fb(0xa0d)](_0x2580fc);if(0x0===_0x45d871['topicLabel']){this[_0x5dd1fb(0x1c8)][_0x5dd1fb(0x5af)]['total']+=0x1;const {systemMessageType:_0x5ebc76,systemContentMessageType:_0x4bc85d}=_0x3746de(_0x45d871);this[_0x5dd1fb(0x1c8)][_0x5ebc76]||(this[_0x5dd1fb(0x1c8)][_0x5ebc76]={[_0x4bc85d]:0x0}),this['systemMessagesReceived'][_0x5ebc76][_0x4bc85d]||(this[_0x5dd1fb(0x1c8)][_0x5ebc76][_0x4bc85d]=0x0),this[_0x5dd1fb(0x1c8)][_0x5ebc76][_0x5dd1fb(0x29c)]||(this[_0x5dd1fb(0x1c8)][_0x5ebc76][_0x5dd1fb(0x29c)]=0x0),this['systemMessagesReceived'][_0x5ebc76][_0x4bc85d]+=0x1,this[_0x5dd1fb(0x1c8)][_0x5ebc76]['total']+=0x1;}this[_0x5dd1fb(0x58a)][_0x5dd1fb(0x246)](_0x45d871),this['timeReceiving']+=Date[_0x5dd1fb(0x559)]()-_0xf6e257;},0x0);}[_0xe992e3(0x519)](_0x5d242a){const _0x2d4cbb=_0xe992e3,_0x5316a2=_0x5d242a['split'](';'),_0x2136d4=_0x5316a2[0x1],_0x51e354=parseInt(_0x5316a2[0x2],0xa),_0x1c2fc4=parseInt(_0x5316a2[0x3],0xa),_0x2f3916=_0x5d242a[_0x2d4cbb(0x9d7)](_0xe349bc+';'+_0x2136d4+';'+_0x51e354+';'+_0x1c2fc4+';','');this[_0x2d4cbb(0x95b)][_0x2d4cbb(0x64b)](_0x2136d4)||this[_0x2d4cbb(0x95b)][_0x2d4cbb(0x888)](_0x2136d4,[]);const _0x329061=this[_0x2d4cbb(0x95b)][_0x2d4cbb(0x6ab)](_0x2136d4);_0x329061[_0x51e354]=_0x2f3916,_0x329061[_0x2d4cbb(0x756)]===_0x1c2fc4&&(this[_0x2d4cbb(0x9a1)](_0x329061[_0x2d4cbb(0x9fb)]('')),this[_0x2d4cbb(0x95b)][_0x2d4cbb(0x5eb)](_0x2136d4));}[_0xe992e3(0x261)](){const _0x41f76e=_0xe992e3;this[_0x41f76e(0x216)]?.(),delete this[_0x41f76e(0x216)];}[_0xe992e3(0x1bd)](_0x5b0a03){const _0x2a06ac=_0xe992e3,_0x23ab3f=new TextDecoder()[_0x2a06ac(0x221)](_0x5b0a03);return JSON[_0x2a06ac(0xa0d)](_0x23ab3f);}[_0xe992e3(0x99d)](_0x1d44dc){const _0x5d048a=_0xe992e3,_0x515d28=new Uint8Array(_0x1d44dc[_0x5d048a(0x4c8)](0x0,0x4)),_0x24d193=new Uint32Array(_0x515d28['buffer'])[0x0],_0x28f949=new Uint8Array(_0x1d44dc['slice'](0x4,0x4+_0x24d193)),_0x56909f=new Uint8Array(_0x1d44dc[_0x5d048a(0x4c8)](0x4+_0x24d193));return[this[_0x5d048a(0x1bd)](_0x28f949[_0x5d048a(0x59c)]),_0x56909f['buffer']];}}const _0x2078e5=0xc350;var _0x324a52,_0x311c63;!function(_0x5f2d06){const _0x15bccc=_0xe992e3;_0x5f2d06[_0x5f2d06[_0x15bccc(0x8e0)]=0x0]='High',_0x5f2d06[_0x5f2d06[_0x15bccc(0x20d)]=0x1]=_0x15bccc(0x20d),_0x5f2d06[_0x5f2d06[_0x15bccc(0x1dd)]=0x2]='Low';}(_0x324a52||(_0x324a52={}));class _0x2e3c63 extends _0x38841d{[_0xe992e3(0x875)];['maxBpp'];[_0xe992e3(0x8c2)]=new Map();[_0xe992e3(0x85f)];[_0xe992e3(0xa1f)];[_0xe992e3(0x26d)];[_0xe992e3(0x764)]=!0x1;[_0xe992e3(0x313)];[_0xe992e3(0x23c)];[_0xe992e3(0x228)];['retryQueue']=function(e,t=_0x324a52,s=!0x1){const _0x38fbce=_0xe992e3;let n=!0x1;const i=[];async function o(){const _0x2b12c9=a0_0xca1a;if(!n){for(n=!0x0;i['some'](e=>e['head']);){let t,n=0x0;for(const [e,s]of i[_0x2b12c9(0x9c8)]())if(t=s[_0x2b12c9(0xa41)](),n=e,t)break;if(t)try{if(e instanceof _0x27d811&&e[_0x2b12c9(0x2eb)](t),e instanceof _0x395b33&&await e[_0x2b12c9(0x2eb)](t),i[_0x2b12c9(0x4c8)](-0x1)[_0x2b12c9(0x276)](e=>e['head']))continue;const s=i[_0x2b12c9(0x756)]-0x1;n===s&&i[s][_0x2b12c9(0x191)]&&await _0x50a54a[_0x2b12c9(0xa47)](0x0);}catch(o){s?i[n][_0x2b12c9(0xae7)](t,!0x1):i[n]['unshift'](t,!0x1),await e[_0x2b12c9(0xa47)]();}}n=!0x1;}}return Object[_0x38fbce(0x992)](t)[_0x38fbce(0x558)](e=>{const _0x25f01c=_0x38fbce;_0x25f01c(0xab7)!=typeof e&&(i[e]=_0x442f65(o));}),{'queues':i};}(new _0x27d811(this['sendAction'][_0xe992e3(0x8b6)](this),this['waitSendBuffer'][_0xe992e3(0x8b6)](this)));[_0xe992e3(0x30c)]=0x0;[_0xe992e3(0x97c)]=0x0;[_0xe992e3(0x1cc)]=0x0;[_0xe992e3(0xad1)]=0x0;[_0xe992e3(0x3de)];[_0xe992e3(0x27b)]=_0xe93484('SenderPeerConnection.send',_0x3c5ddd[_0xe992e3(0xb10)]);constructor(_0x23527f,_0x1bff38,_0x5f2fa9,_0x51cf5e,_0x45a1f4,_0x3bf7d4,_0x457e70,_0x510d72){const _0x168f4a=_0xe992e3;super(_0x23527f,_0x1bff38,_0x5f2fa9,_0x51cf5e,_0x45a1f4,_0x510d72),this[_0x168f4a(0x875)]=_0x3bf7d4,this[_0x168f4a(0x2b2)]=_0x457e70;}['close'](){const _0x39fb3d=_0xe992e3;this[_0x39fb3d(0x7d6)](),this['clearHeartbeat'](),delete this['lastHeartbeat'],this[_0x39fb3d(0x89e)](),this[_0x39fb3d(0x4d0)](),this['clearWaitAnswer'](),this[_0x39fb3d(0x8c2)][_0x39fb3d(0x24d)](),this['isReconnecting']=!0x1,this[_0x39fb3d(0x614)][_0x39fb3d(0x6e4)][_0x39fb3d(0x558)](_0x3dd9e8=>_0x3dd9e8['clear']()),this[_0x39fb3d(0x4b1)](),super['close']();}[_0xe992e3(0x3ee)](){const _0x516ac4=_0xe992e3;return!!this['lastHeartbeat']&&super[_0x516ac4(0x3ee)]()&&Date['now']()-this['lastHeartbeat']<0x3a98;}async[_0xe992e3(0x9fe)](){const _0x52b492=_0xe992e3;this[_0x52b492(0x587)]&&(await this[_0x52b492(0x27f)]['collectSendersStats'](this[_0x52b492(0x8c2)],(_0x16fb61,_0x258fcb)=>{const _0x31b735=_0x52b492;_0x39cc9e({'type':_0x5b41e8['Stats'],'streamId':_0x258fcb,'nodeId':this[_0x31b735(0x9ba)],'stats':_0x16fb61},this[_0x31b735(0x587)]);}),this['systemTopic'][_0x52b492(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x52b492(0x90d)],'content':{'type':_0x5b41e8[_0x52b492(0x8b7)],'nodeId':this['remoteId'],'stats':{'origin':_0x50eff2[_0x52b492(0x77e)],'timestamp':Date[_0x52b492(0x559)](),'messagesSent':this[_0x52b492(0x30c)],'bytesSent':this[_0x52b492(0x97c)],'timeSending':this[_0x52b492(0x1cc)],'roundTripTime':this[_0x52b492(0xad1)]}}}));}async[_0xe992e3(0x9b0)](_0x1bd22f){const _0x373d37=_0xe992e3;_0xd64180[_0x373d37(0x991)](_0x3c5ddd[_0x373d37(0x866)],_0x373d37(0x3f0),this[_0x373d37(0x71d)][_0x373d37(0x686)](),this[_0x373d37(0x9ba)]),this[_0x373d37(0x89e)](),this[_0x373d37(0x4d0)](),this['clearWaitAnswer'](),this['connectionTimeout']=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x373d37(0x251)]||(this[_0x373d37(0x251)]=this[_0x373d37(0x27f)]['createDataChannel'](_0x373d37(0x9a6)),this['dataChannel'][_0x373d37(0x5e6)]=_0x14c800,this[_0x373d37(0x251)][_0x373d37(0x8af)]=()=>{const _0x2a7278=_0x373d37;this[_0x2a7278(0x3de)]=setTimeout(()=>{const _0x50bff1=_0x2a7278;delete this[_0x50bff1(0x3de)],['connecting','open'][_0x50bff1(0x137)](this[_0x50bff1(0x251)]?.[_0x50bff1(0x649)]??'')||this[_0x50bff1(0x515)]();},0xfa);});const _0xddd5af=await this[_0x373d37(0x27f)][_0x373d37(0x9b0)](_0x1bd22f);this[_0x373d37(0x26d)]||(this[_0x373d37(0x26d)]=Date[_0x373d37(0x559)]());const _0x18814c=(0x0,_0x2860a6['v4'])();this[_0x373d37(0x5e3)]({'type':_0x5b41e8[_0x373d37(0x126)],'offer':_0xddd5af,'version':this[_0x373d37(0x8cd)],'connectionType':this[_0x373d37(0x831)]},_0x18814c),this[_0x373d37(0x831)]===_0x4cf391[_0x373d37(0x7c2)]&&(this[_0x373d37(0xa1f)]=_0x50a54a['setInterval'](()=>{const _0x46e9cf=_0x373d37;this[_0x46e9cf(0x5e3)]({'type':_0x5b41e8[_0x46e9cf(0x126)],'offer':_0xddd5af,'version':this['currentVersion'],'connectionType':this[_0x46e9cf(0x831)]},_0x18814c);},0x1388));}async['handleAnswer'](_0x563660,_0x1b21c9){const _0x2eadb6=_0xe992e3;if(_0x1b21c9===this['currentVersion']){this[_0x2eadb6(0x4c5)]();try{await this['connection']['handleAnswer'](_0x563660,this['createOffer']['bind'](this)),this[_0x2eadb6(0x759)](),this[_0x2eadb6(0x4d0)](),this['startHeartbeat']();}catch(_0x4178fb){this[_0x2eadb6(0x515)]();}}}[_0xe992e3(0x8dd)](_0x5d4361){const _0x4fb3d3=_0xe992e3;if(!this[_0x4fb3d3(0x251)])throw new _0xd907de(_0xd907de[_0x4fb3d3(0x386)]['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x4fb3d3(0x71d)]['getId'](),'remoteId':this[_0x4fb3d3(0x9ba)],'eventMessage':_0x5d4361});if(_0x4fb3d3(0xa19)!==this['dataChannel'][_0x4fb3d3(0x649)])throw new _0xd907de(_0xd907de[_0x4fb3d3(0x386)]['InvalidDataChannel'],{'message':_0x4fb3d3(0x161),'localId':this[_0x4fb3d3(0x71d)][_0x4fb3d3(0x686)](),'remoteId':this[_0x4fb3d3(0x9ba)],'eventMessage':_0x5d4361});let _0x54901c;if(_0x5d4361['content'][_0x4fb3d3(0x9a6)]instanceof ArrayBuffer){const _0x28ab40=_0x5d4361[_0x4fb3d3(0x2e4)][_0x4fb3d3(0x9a6)];_0x5d4361={..._0x5d4361,'content':{..._0x5d4361[_0x4fb3d3(0x2e4)],'data':void 0x0}},_0x54901c=this['mergeParts'](_0x5d4361,_0x28ab40);}else _0x54901c=JSON['stringify'](_0x5d4361);if(_0x4fb3d3(0xab7)==typeof _0x54901c&&_0x54901c['length']>_0x3aa974)return void this['sendChunked'](_0x5d4361,_0x54901c);0x0===_0x5d4361[_0x4fb3d3(0x1fd)]&&_0x5d4361[_0x4fb3d3(0x8a3)]===_0x13f595[_0x4fb3d3(0x52d)]&&this[_0x4fb3d3(0x27b)][_0x4fb3d3(0x1f7)][_0x4fb3d3(0xa8c)](()=>_0xd64180[_0x4fb3d3(0x991)](_0x3c5ddd[_0x4fb3d3(0xb10)],'SenderPeerConnection\x20send',this[_0x4fb3d3(0x9ba)],_0x3746de(_0x5d4361)),void 0x0);const _0x1453e8=0x0===_0x5d4361[_0x4fb3d3(0x1fd)]&&[_0x13f595[_0x4fb3d3(0x173)],_0x13f595[_0x4fb3d3(0x90d)]][_0x4fb3d3(0x137)](_0x5d4361[_0x4fb3d3(0x8a3)])?_0x324a52[_0x4fb3d3(0x8e0)]:_0x5d4361 instanceof ArrayBuffer?_0x324a52[_0x4fb3d3(0x1dd)]:_0x324a52[_0x4fb3d3(0x20d)];this['sendWithRetry'](_0x54901c,_0x1453e8);}[_0xe992e3(0x14d)](_0x14d2d4,_0x184295,_0x319389,_0x567bf6){const _0xe94f98=_0xe992e3,_0x4827dd=(_0x421c0e=this[_0xe94f98(0x875)],_0x472fbd=this[_0xe94f98(0x2b2)],Math[_0xe94f98(0x7e3)](0xe1000*_0x421c0e*_0x472fbd));var _0x421c0e,_0x472fbd;const _0x3c5b17=this[_0xe94f98(0x8c2)][_0xe94f98(0x6ab)](_0x184295['id'])||{'stream':_0x184295,'priority':_0x319389,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x4827dd,'maxBitrate':_0x4827dd,'framerate':this['maxFps'],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x567bf6},_0x2316ec=_0x3c5b17['tracks'][_0x14d2d4['kind']]||{'track':_0x14d2d4};if(_0x2316ec[_0xe94f98(0x34e)]?(_0x2316ec[_0xe94f98(0xa8a)]=_0x14d2d4,this[_0xe94f98(0x27f)][_0xe94f98(0x749)](_0x14d2d4,_0x2316ec[_0xe94f98(0x34e)])):_0x2316ec[_0xe94f98(0x34e)]=this[_0xe94f98(0x27f)][_0xe94f98(0x14d)](_0x14d2d4,_0x184295),_0x3c5b17[_0xe94f98(0x4ac)][_0x14d2d4[_0xe94f98(0xa25)]]=_0x2316ec,_0x567bf6&&(_0x3c5b17[_0xe94f98(0x765)]=_0x567bf6),_0x567bf6&&'video'===_0x567bf6[_0xe94f98(0xa25)]&&_0x567bf6[_0xe94f98(0x36b)]&&_0x567bf6['maxResolution']&&(_0x3c5b17[_0xe94f98(0x65b)]=this['getResolutionScale'](_0x567bf6[_0xe94f98(0x36b)],_0x567bf6['maxResolution']),_0x3c5b17['minResolutionScale']=_0x3c5b17[_0xe94f98(0x65b)],_0x3c5b17[_0xe94f98(0x4ac)][_0xe94f98(0x4dd)]&&_0x3c5b17[_0xe94f98(0x4ac)][_0xe94f98(0x4dd)][_0xe94f98(0x34e)])){const _0x26b450=_0x3c5b17[_0xe94f98(0x4ac)][_0xe94f98(0x4dd)][_0xe94f98(0x34e)];this[_0xe94f98(0x27f)][_0xe94f98(0x43d)](_0x26b450,Math[_0xe94f98(0x7e3)](0xa*_0x3c5b17[_0xe94f98(0x65b)])/0xa,_0x3c5b17[_0xe94f98(0x484)],_0x3c5b17[_0xe94f98(0x21f)],_0x3c5b17[_0xe94f98(0x498)]);}this[_0xe94f98(0x8c2)][_0xe94f98(0x888)](_0x184295['id'],_0x3c5b17);}[_0xe992e3(0x14c)](_0x110521,_0x359d2e){const _0x139a0e=_0xe992e3,_0x5ceefb=this[_0x139a0e(0x8c2)][_0x139a0e(0x6ab)](_0x110521['id']);if(_0x5ceefb&&_0x5ceefb['priority']!==_0x359d2e&&(_0x5ceefb[_0x139a0e(0x498)]=_0x359d2e,_0x5ceefb[_0x139a0e(0x4ac)][_0x139a0e(0x4dd)]&&_0x5ceefb[_0x139a0e(0x4ac)][_0x139a0e(0x4dd)]['sender'])){const _0x2197bf=_0x5ceefb[_0x139a0e(0x4ac)][_0x139a0e(0x4dd)][_0x139a0e(0x34e)];this[_0x139a0e(0x27f)][_0x139a0e(0x43d)](_0x2197bf,Math[_0x139a0e(0x7e3)](0xa*_0x5ceefb[_0x139a0e(0x65b)])/0xa,_0x5ceefb[_0x139a0e(0x484)],_0x5ceefb['bitrate'],_0x5ceefb[_0x139a0e(0x498)]);}}[_0xe992e3(0x7e8)](_0x5bfa44,_0x5725be){const _0x301986=_0xe992e3,_0x5db643=this[_0x301986(0x8c2)][_0x301986(0x6ab)](_0x5bfa44['id']);if(_0x5db643){if(_0x5db643[_0x301986(0x765)]=_0x5725be,_0x5725be&&_0x301986(0x4dd)===_0x5725be[_0x301986(0xa25)]&&_0x5725be[_0x301986(0x36b)]&&_0x5725be[_0x301986(0x673)]){if(_0x5db643[_0x301986(0xae4)]=this['getResolutionScale'](_0x5725be[_0x301986(0x36b)],_0x5725be['maxResolution']),_0x5db643['resolutionScale']<_0x5db643[_0x301986(0xae4)]&&(_0x5db643[_0x301986(0x65b)]=_0x5db643[_0x301986(0xae4)]),_0x5db643['tracks'][_0x301986(0x4dd)]&&_0x5db643[_0x301986(0x4ac)][_0x301986(0x4dd)]['sender']){const _0x215358=_0x5db643['tracks'][_0x301986(0x4dd)][_0x301986(0x34e)];this[_0x301986(0x27f)]['setEncodingParameters'](_0x215358,Math['floor'](0xa*_0x5db643[_0x301986(0x65b)])/0xa,_0x5db643[_0x301986(0x484)],_0x5db643[_0x301986(0x21f)],_0x5db643['priority']);}this[_0x301986(0x7d6)](),this[_0x301986(0x1de)]();}this[_0x301986(0x8c2)][_0x301986(0x888)](_0x5bfa44['id'],_0x5db643);}}[_0xe992e3(0x536)](_0x481a42,_0x13391e){const _0x57398b=_0xe992e3,_0x1aa7dc=this[_0x57398b(0x8c2)][_0x57398b(0x6ab)](_0x13391e['id']);if(_0x1aa7dc){const _0x1af976=_0x1aa7dc['tracks'][_0x481a42['kind']];_0x1af976&&(_0x1af976['sender']&&this[_0x57398b(0x27f)][_0x57398b(0x536)](_0x1af976[_0x57398b(0x34e)]),_0x1af976[_0x57398b(0xa8a)]=void 0x0);}}['applyRemediation'](_0x154368){const _0x5d731c=_0xe992e3;this['clearUpgradeTimeout']();const _0x24a6bd=function(_0x2ddcc,_0x525f11){const _0x2836a6=a0_0xca1a;return _0x2ddcc[_0x2836a6(0x1e4)]((_0x49fe76,_0x5ea6f3)=>_0x525f11['action']===_0x55363f[_0x2836a6(0x95d)]?_0x5ea6f3['priority']-_0x49fe76[_0x2836a6(0x498)]:_0x49fe76[_0x2836a6(0x498)]-_0x5ea6f3['priority'])[_0x2836a6(0xa57)](_0x1722b6=>function(_0x2d3a10,_0x387aab){const _0x357839=_0x2836a6;if(_0x387aab[_0x357839(0x1af)]===_0x55363f['Downgrade']){if(_0x387aab['component']===_0x309cef['Resolution'])return _0x2d3a10[_0x357839(0x65b)]<0x4||_0x2d3a10[_0x357839(0x8b1)]>0xf;if(_0x387aab[_0x357839(0x2a9)]===_0x309cef['Bitrate'])return _0x2d3a10[_0x357839(0x7b5)]>_0x2078e5;}return _0x2d3a10[_0x357839(0x65b)]>_0x2d3a10[_0x357839(0xae4)]||_0x2d3a10[_0x357839(0x484)]<_0x2d3a10[_0x357839(0x8b1)]||_0x2d3a10[_0x357839(0x21f)]<_0x2d3a10['maxBitrate'];}(_0x1722b6,_0x525f11));}(Array['from'](this[_0x5d731c(0x8c2)][_0x5d731c(0x992)]()),_0x154368);if(_0x24a6bd&&(function(_0x22136f,_0x24b7fb){const _0x576f7a=_0x5d731c;_0x22136f[_0x576f7a(0x4ac)][_0x576f7a(0x4dd)]&&_0x22136f[_0x576f7a(0x4ac)][_0x576f7a(0x4dd)]['sender']&&(_0x22136f[_0x576f7a(0x65b)]=function(_0x256d54,_0x5ef436,_0x543a1d){const _0x183de3=_0x576f7a;switch(_0x543a1d[_0x183de3(0x1af)]){case _0x55363f[_0x183de3(0x95d)]:_0x543a1d[_0x183de3(0x2a9)]===_0x309cef['Resolution']&&(_0x256d54+=0.5)>0x4&&(_0x256d54=0x4);break;case _0x55363f[_0x183de3(0x62d)]:(_0x256d54-=0.5)<_0x5ef436&&(_0x256d54=_0x5ef436);}return _0x256d54;}(_0x22136f[_0x576f7a(0x65b)],_0x22136f[_0x576f7a(0xae4)],_0x24b7fb),_0x22136f[_0x576f7a(0x484)]=function(_0x874de9,_0x3742e9,_0x9620f1){const _0x341c7a=_0x576f7a;switch(_0x9620f1[_0x341c7a(0x1af)]){case _0x55363f['Downgrade']:_0x9620f1[_0x341c7a(0x2a9)]===_0x309cef[_0x341c7a(0x46f)]&&(_0x874de9-=0x3)<0xf&&(_0x874de9=0xf);break;case _0x55363f[_0x341c7a(0x62d)]:(_0x874de9+=0x3)>_0x3742e9&&(_0x874de9=_0x3742e9);}return _0x874de9;}(_0x22136f[_0x576f7a(0x484)],_0x22136f[_0x576f7a(0x8b1)],_0x24b7fb),_0x22136f['bitrate']=function(_0x341e47,_0x570d46,_0x1c4f25){const _0x170d07=_0x576f7a;switch(_0x1c4f25['action']){case _0x55363f[_0x170d07(0x95d)]:_0x1c4f25[_0x170d07(0x2a9)]===_0x309cef['Bitrate']&&(_0x341e47*=0.75)<_0x2078e5&&(_0x341e47=_0x2078e5);break;case _0x55363f[_0x170d07(0x62d)]:(_0x341e47*=1.25)>_0x570d46&&(_0x341e47=_0x570d46);}return _0x341e47;}(_0x22136f[_0x576f7a(0x21f)],_0x22136f[_0x576f7a(0x7b5)],_0x24b7fb));}(_0x24a6bd,_0x154368),_0x24a6bd[_0x5d731c(0x4ac)][_0x5d731c(0x4dd)]&&_0x24a6bd[_0x5d731c(0x4ac)][_0x5d731c(0x4dd)][_0x5d731c(0x34e)])){const _0x22e499=_0x24a6bd['tracks'][_0x5d731c(0x4dd)][_0x5d731c(0x34e)];this[_0x5d731c(0x27f)][_0x5d731c(0x43d)](_0x22e499,Math[_0x5d731c(0x7e3)](0xa*_0x24a6bd[_0x5d731c(0x65b)])/0xa,_0x24a6bd[_0x5d731c(0x484)],_0x24a6bd[_0x5d731c(0x21f)],_0x24a6bd[_0x5d731c(0x498)]);}(_0x24a6bd||_0x154368[_0x5d731c(0x1af)]===_0x55363f[_0x5d731c(0x95d)])&&this[_0x5d731c(0x1de)]();}[_0xe992e3(0x661)](){const _0x4bd106=_0xe992e3;return this[_0x4bd106(0x614)]['queues']['reduce']((_0xce0edf,_0x352a95)=>_0xce0edf+_0x352a95['size'],0x0)*_0x505ed0;}['getBufferedAmount'](){const _0x41a912=_0xe992e3;return this[_0x41a912(0x251)]?.['bufferedAmount']??0x0;}[_0xe992e3(0x281)](){const _0x35991c=_0xe992e3;super[_0x35991c(0x281)](),this[_0x35991c(0x4b1)](),this[_0x35991c(0x4c5)](),this[_0x35991c(0x8c2)][_0x35991c(0x558)](_0xbe5d99=>{const _0x5b86c5=_0x35991c;_0xbe5d99[_0x5b86c5(0x4ac)]['video']&&(_0xbe5d99[_0x5b86c5(0x4ac)][_0x5b86c5(0x4dd)][_0x5b86c5(0x34e)]=void 0x0),_0xbe5d99[_0x5b86c5(0x4ac)][_0x5b86c5(0x1fb)]&&(_0xbe5d99[_0x5b86c5(0x4ac)][_0x5b86c5(0x1fb)]['sender']=void 0x0);}),this[_0x35991c(0x764)]=!0x0;}async[_0xe992e3(0x5ad)](){return new Promise(async _0x5ac8c4=>{const _0x4d0472=a0_0xca1a;if(!this['dataChannel']||_0x4d0472(0xa19)!==this[_0x4d0472(0x251)][_0x4d0472(0x649)])return await _0x50a54a[_0x4d0472(0xa47)](0x64),void _0x5ac8c4();this[_0x4d0472(0x251)][_0x4d0472(0x3cc)]<_0x14c800?_0x5ac8c4():this['dataChannel'][_0x4d0472(0xa87)]=()=>{const _0x44c0c5=_0x4d0472;this[_0x44c0c5(0x251)]&&(this['dataChannel'][_0x44c0c5(0xa87)]=null),_0x5ac8c4();};});}async['sendChunked'](_0xf12eca,_0x2ec4c1){const _0x7475b7=_0xe992e3,_0x121ed0=[];for(let _0xaf45f7=0x0;_0xaf45f7<_0x2ec4c1[_0x7475b7(0x756)];_0xaf45f7+=_0x3aa974)_0x121ed0['push'](_0x2ec4c1['slice'](_0xaf45f7,_0xaf45f7+_0x3aa974));for(const _0x1eb4f3 of _0x121ed0){for(;this[_0x7475b7(0x614)][_0x7475b7(0x6e4)][_0x324a52['Low']][_0x7475b7(0x73d)]>0x1;)await _0x50a54a[_0x7475b7(0xa47)](0x64);this[_0x7475b7(0x562)](_0xe349bc+';'+_0xf12eca[_0x7475b7(0x90c)]+';'+_0x121ed0[_0x7475b7(0x29b)](_0x1eb4f3)+';'+_0x121ed0[_0x7475b7(0x756)]+';'+_0x1eb4f3,_0x324a52['Low']);}}async[_0xe992e3(0x562)](_0x40b0d4,_0x502192){const _0x2bbcdc=_0xe992e3;_0x40b0d4===_0xafc6ae?this[_0x2bbcdc(0x614)][_0x2bbcdc(0x6e4)][_0x502192]['head']?.[_0x2bbcdc(0x299)]!==_0xafc6ae&&this[_0x2bbcdc(0x614)][_0x2bbcdc(0x6e4)][_0x502192][_0x2bbcdc(0x4dc)](_0x40b0d4):this[_0x2bbcdc(0x614)][_0x2bbcdc(0x6e4)][_0x502192][_0x2bbcdc(0xae7)](_0x40b0d4);}[_0xe992e3(0x5c6)](_0x4cdd6f){const _0x2f6631=_0xe992e3;if(!this[_0x2f6631(0x251)]||_0x2f6631(0xa19)!==this[_0x2f6631(0x251)][_0x2f6631(0x649)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0x2f6631(0x251)][_0x2f6631(0x3cc)]>=0x600000)throw new Error(_0x2f6631(0x304));const _0x203f80=Date[_0x2f6631(0x559)]();_0x4cdd6f!==_0xafc6ae&&(this[_0x2f6631(0x30c)]+=0x1,this[_0x2f6631(0x97c)]+=_0x4cdd6f instanceof ArrayBuffer?_0x4cdd6f['byteLength']:_0x4cdd6f[_0x2f6631(0x756)]);try{ArrayBuffer,this[_0x2f6631(0x251)][_0x2f6631(0x8dd)](_0x4cdd6f);}catch(_0x17cce6){throw console['error'](_0x2f6631(0x44a),_0x17cce6),_0x17cce6;}this[_0x2f6631(0x1cc)]+=Date[_0x2f6631(0x559)]()-_0x203f80;}[_0xe992e3(0x2a2)](){const _0x483b72=_0xe992e3;this[_0x483b72(0x85f)]&&this[_0x483b72(0x990)]();let _0x19e853=!0x0,_0x371278=Date[_0x483b72(0x559)]();this[_0x483b72(0x26d)]=Date[_0x483b72(0x559)](),this[_0x483b72(0x251)]['onMessage']=_0x4273ef=>{const _0x1af429=_0x483b72;'1'===_0x4273ef['data']&&(this['roundTripTime']=Date[_0x1af429(0x559)]()-_0x371278,_0x19e853&&this[_0x1af429(0x5e3)]({'type':_0x5b41e8['Success']}),_0x19e853=!0x1,this[_0x1af429(0x26d)]=Date[_0x1af429(0x559)](),this[_0x1af429(0x764)]&&(this[_0x1af429(0x764)]=!0x1,this[_0x1af429(0x8c5)]()));},this[_0x483b72(0x85f)]=_0x50a54a[_0x483b72(0x6b1)](()=>{const _0x2ba938=_0x483b72;_0x371278=Date[_0x2ba938(0x559)](),this[_0x2ba938(0x562)](_0xafc6ae,_0x324a52[_0x2ba938(0x8e0)]),Date[_0x2ba938(0x559)]()-this[_0x2ba938(0x26d)]>(_0x19e853?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}['handleMissingSenders'](){const _0x466de5=_0xe992e3;this[_0x466de5(0x8c2)][_0x466de5(0x558)](_0x510cc7=>{const _0x3ef2ed=_0x466de5;_0x510cc7['tracks'][_0x3ef2ed(0x4dd)]&&_0x510cc7[_0x3ef2ed(0x4ac)][_0x3ef2ed(0x4dd)][_0x3ef2ed(0xa8a)]&&!_0x510cc7['tracks'][_0x3ef2ed(0x4dd)][_0x3ef2ed(0x34e)]&&(_0x510cc7[_0x3ef2ed(0x4ac)][_0x3ef2ed(0x4dd)][_0x3ef2ed(0x34e)]=this['connection'][_0x3ef2ed(0x14d)](_0x510cc7[_0x3ef2ed(0x4ac)]['video'][_0x3ef2ed(0xa8a)],_0x510cc7['stream'])),_0x510cc7[_0x3ef2ed(0x4ac)][_0x3ef2ed(0x1fb)]&&_0x510cc7['tracks'][_0x3ef2ed(0x1fb)][_0x3ef2ed(0xa8a)]&&!_0x510cc7[_0x3ef2ed(0x4ac)][_0x3ef2ed(0x1fb)][_0x3ef2ed(0x34e)]&&(_0x510cc7[_0x3ef2ed(0x4ac)][_0x3ef2ed(0x1fb)]['sender']=this[_0x3ef2ed(0x27f)][_0x3ef2ed(0x14d)](_0x510cc7['tracks'][_0x3ef2ed(0x1fb)]['track'],_0x510cc7['stream']));});}[_0xe992e3(0x52a)](){const _0x41b18e=_0xe992e3;this['publishSystemMessage']({'type':_0x5b41e8['Handshake'],'candidates':this['handshakeCandidates'],'origin':_0x50eff2[_0x41b18e(0x77e)],'version':this[_0x41b18e(0x8cd)],'connectionType':this[_0x41b18e(0x831)]});}[_0xe992e3(0x637)](){const _0x2b926a=_0xe992e3;super['setupConnectionEvents'](),this['connection'][_0x2b926a(0x4c2)]=()=>{const _0x4a3081=_0x2b926a;if('failed'===this[_0x4a3081(0x27f)][_0x4a3081(0x25d)]){_0xd64180['log'](_0x3c5ddd[_0x4a3081(0x3a3)],_0x4a3081(0xac6),this[_0x4a3081(0x71d)]['getId'](),this[_0x4a3081(0x9ba)]);try{if(this[_0x4a3081(0x27f)][_0x4a3081(0x769)])return void this['connection'][_0x4a3081(0x794)]();}catch(_0x43237e){}this[_0x4a3081(0x9b0)]({'handshakeRestart':!0x0});}},this['connection']['onConnectionStateChange']=()=>{const _0x342699=_0x2b926a;'disconnected'!==this[_0x342699(0x27f)]['connectionState']&&_0x342699(0x563)!==this[_0x342699(0x27f)][_0x342699(0xa6d)]||this[_0x342699(0x515)]();};}[_0xe992e3(0x515)](){const _0x43832f=_0xe992e3;this['clearHeartbeat'](),this['clearRestartTimeout'](),this['clearConnectionTimeout'](),_0xd64180[_0x43832f(0x372)](_0x43832f(0x783),{'clusterId':this[_0x43832f(0x5e2)],'nodeId':this['localNode'][_0x43832f(0x686)](),'nodeType':this[_0x43832f(0x71d)][_0x43832f(0x689)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x43832f(0x831)],'connectionState':this[_0x43832f(0x27f)]['connectionState'],'iceConnectionState':this[_0x43832f(0x27f)][_0x43832f(0x25d)],'signalingState':this[_0x43832f(0x27f)][_0x43832f(0x9bf)],'readyState':this['dataChannel']?.['state']||'','lastHeartbeat':this[_0x43832f(0x26d)]?Date['now']()-this['lastHeartbeat']:'','retryQueue':this[_0x43832f(0x614)]}}),(this[_0x43832f(0x26d)]&&Date[_0x43832f(0x559)]()-this['lastHeartbeat']>0xea60)??0x1?this[_0x43832f(0x587)]['publish']({'sourceId':this['remoteId'],'destinationIds':[this['localNode'][_0x43832f(0x686)]()],'messageType':_0x13f595[_0x43832f(0x90d)],'content':{'type':_0x5b41e8[_0x43832f(0x7ff)]}}):(this['resetConnection'](),this['publishSystemMessage']({'type':_0x5b41e8[_0x43832f(0x95c)],'version':this[_0x43832f(0x8cd)],'connectionType':this['connectionType']}),this[_0x43832f(0x23c)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0xe992e3(0x990)](){const _0xb0e412=_0xe992e3;this[_0xb0e412(0x85f)]?.(),delete this[_0xb0e412(0x85f)];}[_0xe992e3(0x4d0)](){const _0x557f52=_0xe992e3;this[_0x557f52(0x313)]&&(clearTimeout(this[_0x557f52(0x313)]),delete this[_0x557f52(0x313)]);}[_0xe992e3(0x89e)](){const _0x1fdd91=_0xe992e3;this['restartTimeout']&&(clearTimeout(this[_0x1fdd91(0x23c)]),delete this[_0x1fdd91(0x23c)]);}[_0xe992e3(0x7d6)](){const _0x221f3f=_0xe992e3;this[_0x221f3f(0x228)]&&(clearTimeout(this['upgradeTimeout']),delete this[_0x221f3f(0x228)]);}[_0xe992e3(0x1de)](){const _0x5274ab=_0xe992e3;this[_0x5274ab(0x228)]=setTimeout(()=>{const _0x3ba063=_0x5274ab;this[_0x3ba063(0x771)]({'type':_0x223cd8['Remediation'],'action':_0x55363f[_0x3ba063(0x62d)]});},0x3a98);}[_0xe992e3(0x98b)](_0x4fa265,_0x14b5fc){const _0x3c914a=_0xe992e3,_0x1a6a7e=Math[_0x3c914a(0x7fd)](_0x4fa265[_0x3c914a(0x967)]/_0x14b5fc['width'],_0x4fa265[_0x3c914a(0x947)]/_0x14b5fc[_0x3c914a(0x947)]);return Math[_0x3c914a(0x534)](Math[_0x3c914a(0x7fd)](_0x1a6a7e,0x1),0x4);}['clearWaitAnswer'](){const _0x5937a0=_0xe992e3;this[_0x5937a0(0xa1f)]?.(),delete this[_0x5937a0(0xa1f)];}['clearOncloseTimeout'](){this['oncloseTimeout']&&(clearTimeout(this['oncloseTimeout']),delete this['oncloseTimeout']);}['objectToArrayBuffer'](_0x2c0842){const _0x25f9f1=_0xe992e3,_0x1f61c0=JSON['stringify'](_0x2c0842);return new TextEncoder()[_0x25f9f1(0xb01)](_0x1f61c0)[_0x25f9f1(0x59c)];}[_0xe992e3(0x74c)](_0x4100f1,_0x33baf4){const _0x1e1fe9=_0xe992e3,_0x2661eb=this[_0x1e1fe9(0x4ec)](_0x4100f1),_0x12e7db=new Uint8Array(0x4),_0x5e4c4f=new Uint8Array(_0x2661eb),_0x1cd05d=new Uint8Array(_0x33baf4);_0x12e7db[_0x1e1fe9(0x888)](new Uint8Array(new Uint32Array([_0x5e4c4f['length']])['buffer']));const _0xfb1308=new Uint8Array(0x4+_0x5e4c4f[_0x1e1fe9(0x756)]+_0x1cd05d[_0x1e1fe9(0x756)]);return _0xfb1308[_0x1e1fe9(0x888)](_0x12e7db),_0xfb1308[_0x1e1fe9(0x888)](_0x5e4c4f,0x4),_0xfb1308[_0x1e1fe9(0x888)](_0x1cd05d,0x4+_0x5e4c4f[_0x1e1fe9(0x756)]),_0xfb1308[_0x1e1fe9(0x59c)];}}class _0x5f06b4 extends _0x23dd0b{[_0xe992e3(0x8f1)];['connectionType'];[_0xe992e3(0x875)];[_0xe992e3(0x2b2)];[_0xe992e3(0x7cf)];[_0xe992e3(0x8f2)];[_0xe992e3(0x548)];[_0xe992e3(0xa45)]=[];[_0xe992e3(0x455)]=_0x5c724d();[_0xe992e3(0x7c9)]=_0x5c724d();[_0xe992e3(0x966)]=_0x5c724d();['listenerUnsubscribers']=[];[_0xe992e3(0x587)];[_0xe992e3(0x7ec)]=new Map();[_0xe992e3(0x710)]=new Map();[_0xe992e3(0x457)]=new Map();[_0xe992e3(0x6ed)]=new Map();[_0xe992e3(0x388)]=!0x1;constructor(_0x2faa28,_0x59cbe0,_0x919496,_0x4231ad,_0x19e0b8,_0x149903,_0x288e0a,_0x5e8486){const _0x5231f2=_0xe992e3;super(_0x2faa28,_0x59cbe0,_0x919496),this[_0x5231f2(0x8f1)]=_0x4231ad,this[_0x5231f2(0x831)]=_0x19e0b8,this[_0x5231f2(0x875)]=_0x149903,this[_0x5231f2(0x2b2)]=_0x288e0a,this[_0x5231f2(0x7cf)]=_0x5e8486;}[_0xe992e3(0x920)](_0x4acd28){const _0x2b881c=_0xe992e3;switch(_0x4acd28[_0x2b881c(0x437)]()){case _0x981fb5[_0x2b881c(0x4c9)][_0x2b881c(0x838)]:case _0x981fb5['ContentType'][_0x2b881c(0x1f4)]:case _0x981fb5['ContentType']['ObjectStore']:case _0x981fb5[_0x2b881c(0x4c9)][_0x2b881c(0xad3)]:case _0x981fb5[_0x2b881c(0x4c9)][_0x2b881c(0x451)]:case _0x981fb5[_0x2b881c(0x4c9)][_0x2b881c(0x9e7)]:case _0x981fb5['ContentType'][_0x2b881c(0x663)]:case _0x981fb5[_0x2b881c(0x4c9)][_0x2b881c(0x815)]:this[_0x2b881c(0x7ec)][_0x2b881c(0x888)](_0x4acd28['getLabel'](),_0x4acd28);break;case _0x981fb5[_0x2b881c(0x4c9)][_0x2b881c(0x2b0)]:this['mediaTopics'][_0x2b881c(0x888)](_0x4acd28[_0x2b881c(0x270)](),_0x4acd28);}}[_0xe992e3(0xace)](_0x35d275){const _0x4ad5fb=_0xe992e3;switch(_0x35d275[_0x4ad5fb(0x437)]()){case _0x981fb5['ContentType']['Data']:case _0x981fb5[_0x4ad5fb(0x4c9)][_0x4ad5fb(0x1f4)]:case _0x981fb5[_0x4ad5fb(0x4c9)][_0x4ad5fb(0x6f1)]:case _0x981fb5[_0x4ad5fb(0x4c9)][_0x4ad5fb(0xad3)]:case _0x981fb5[_0x4ad5fb(0x4c9)][_0x4ad5fb(0x451)]:case _0x981fb5['ContentType'][_0x4ad5fb(0x9e7)]:case _0x981fb5[_0x4ad5fb(0x4c9)][_0x4ad5fb(0x663)]:case _0x981fb5[_0x4ad5fb(0x4c9)]['ExternalStorage']:this['dataTopics'][_0x4ad5fb(0x5eb)](_0x35d275[_0x4ad5fb(0x270)]());break;case _0x981fb5[_0x4ad5fb(0x4c9)][_0x4ad5fb(0x2b0)]:this[_0x4ad5fb(0x457)][_0x4ad5fb(0x5eb)](_0x35d275[_0x4ad5fb(0x270)]());}}[_0xe992e3(0x450)](_0x1d0cdb){const _0x44243b=_0xe992e3;switch(_0x1d0cdb[_0x44243b(0x437)]()){case _0x981fb5[_0x44243b(0x4c9)]['Data']:case _0x981fb5[_0x44243b(0x4c9)][_0x44243b(0x1f4)]:case _0x981fb5[_0x44243b(0x4c9)][_0x44243b(0x6f1)]:case _0x981fb5[_0x44243b(0x4c9)][_0x44243b(0xad3)]:case _0x981fb5[_0x44243b(0x4c9)][_0x44243b(0x451)]:case _0x981fb5['ContentType']['VectorDatabase']:case _0x981fb5[_0x44243b(0x4c9)][_0x44243b(0x663)]:case _0x981fb5['ContentType'][_0x44243b(0x815)]:{const _0x29b1c1=_0x1d0cdb[_0x44243b(0x60c)](_0x5a5cc2=>{const _0x1e7edc=_0x44243b;_0x40b072(_0x5a5cc2,this[_0x1e7edc(0x50f)]())&&_0x357cdb(_0x5a5cc2,this[_0x1e7edc(0x9ba)])&&this[_0x1e7edc(0x8dd)](_0x5a5cc2);});this[_0x44243b(0x710)][_0x44243b(0x888)](_0x1d0cdb[_0x44243b(0x270)](),_0x29b1c1);break;}case _0x981fb5[_0x44243b(0x4c9)][_0x44243b(0x2b0)]:{const _0x1ef917=_0x1d0cdb[_0x44243b(0x60c)](({content:_0x31cb4d})=>{const _0x5df488=_0x44243b;switch(_0x31cb4d['action']){case _0x45c646[_0x5df488(0x8ef)]:this[_0x5df488(0x14d)](_0x31cb4d[_0x5df488(0xa8a)],_0x31cb4d[_0x5df488(0x50d)],_0x31cb4d['priority'],_0x31cb4d[_0x5df488(0x765)]);break;case _0x45c646['Remove']:this[_0x5df488(0x536)](_0x31cb4d['track'],_0x31cb4d[_0x5df488(0x50d)]);break;case _0x45c646[_0x5df488(0x586)]:_0x31cb4d[_0x5df488(0x498)]&&this[_0x5df488(0x14c)](_0x31cb4d[_0x5df488(0x50d)],_0x31cb4d[_0x5df488(0x498)]),_0x31cb4d[_0x5df488(0x765)]&&this[_0x5df488(0x7e8)](_0x31cb4d['stream'],_0x31cb4d[_0x5df488(0x765)]);}});this[_0x44243b(0x6ed)][_0x44243b(0x888)](_0x1d0cdb[_0x44243b(0x270)](),_0x1ef917);break;}}}[_0xe992e3(0x630)](_0x5dddea){const _0x35f072=_0xe992e3;switch(_0x5dddea['getContentType']()){case _0x981fb5[_0x35f072(0x4c9)][_0x35f072(0x838)]:case _0x981fb5[_0x35f072(0x4c9)][_0x35f072(0x1f4)]:case _0x981fb5[_0x35f072(0x4c9)][_0x35f072(0x6f1)]:case _0x981fb5[_0x35f072(0x4c9)]['KeyValueDatabase']:case _0x981fb5['ContentType']['Job']:case _0x981fb5[_0x35f072(0x4c9)][_0x35f072(0x9e7)]:case _0x981fb5[_0x35f072(0x4c9)]['GraphDatabase']:case _0x981fb5[_0x35f072(0x4c9)][_0x35f072(0x815)]:this['dataUnsubscribers'][_0x35f072(0x6ab)](_0x5dddea[_0x35f072(0x270)]())?.(),this['dataUnsubscribers']['delete'](_0x5dddea['getLabel']());break;case _0x981fb5[_0x35f072(0x4c9)][_0x35f072(0x2b0)]:this[_0x35f072(0x6ed)][_0x35f072(0x6ab)](_0x5dddea['getLabel']())?.(),this['mediaUnsubscribers'][_0x35f072(0x5eb)](_0x5dddea[_0x35f072(0x270)]());}}[_0xe992e3(0x80c)](){const _0x5370f6=_0xe992e3;return[_0x981fb5[_0x5370f6(0x4c9)][_0x5370f6(0x838)],_0x981fb5[_0x5370f6(0x4c9)][_0x5370f6(0x2b0)],_0x981fb5[_0x5370f6(0x4c9)][_0x5370f6(0x1f4)],_0x981fb5[_0x5370f6(0x4c9)][_0x5370f6(0x6f1)],_0x981fb5[_0x5370f6(0x4c9)]['KeyValueDatabase'],_0x981fb5['ContentType'][_0x5370f6(0x451)],_0x981fb5[_0x5370f6(0x4c9)][_0x5370f6(0x9e7)],_0x981fb5[_0x5370f6(0x4c9)][_0x5370f6(0x663)],_0x981fb5[_0x5370f6(0x4c9)][_0x5370f6(0x815)]];}[_0xe992e3(0x4a5)](_0x12b7b2){const _0x31bf43=_0xe992e3;this[_0x31bf43(0x587)]=_0x12b7b2;}[_0xe992e3(0x20f)](){const _0x175310=_0xe992e3;delete this[_0x175310(0x587)];}async[_0xe992e3(0x9ab)](){const _0x167237=_0xe992e3;this['setupListeners'](),await this[_0x167237(0x9b0)]();}['close'](){const _0x45bea5=_0xe992e3;this[_0x45bea5(0x4f1)]['forEach'](_0x29a800=>_0x29a800()),this[_0x45bea5(0x4f1)]=[],this['senderConnection']?.['unregisterSystemPublisher'](),this[_0x45bea5(0x8f2)]?.[_0x45bea5(0x1c9)](),delete this[_0x45bea5(0x8f2)],this['receiverUnsubscribers']['forEach'](_0x36350f=>_0x36350f()),this[_0x45bea5(0xa45)]=[],this[_0x45bea5(0x548)]?.['unregisterSystemPublisher'](),this['receiverConnection']?.[_0x45bea5(0x1c9)](),delete this[_0x45bea5(0x548)];}[_0xe992e3(0x3ee)](){const _0x4b7178=_0xe992e3;return this[_0x4b7178(0x8f2)]?.['isConnected']()&&this[_0x4b7178(0x548)]?.[_0x4b7178(0x3ee)]()||!0x1;}[_0xe992e3(0x8dd)](_0x3484fd){const _0x56aa06=_0xe992e3;if(!this[_0x56aa06(0x8f2)]||!this[_0x56aa06(0x3ee)]())throw new _0xd907de(_0xd907de[_0x56aa06(0x386)][_0x56aa06(0x16b)],{'message':_0x56aa06(0x3ac),'senderConnected':this[_0x56aa06(0x8f2)]?.[_0x56aa06(0x3ee)](),'receiverConnected':this['receiverConnection']?.[_0x56aa06(0x3ee)](),'localId':this[_0x56aa06(0x50f)](),'remoteId':this[_0x56aa06(0x9ba)],'data':_0x3484fd});this[_0x56aa06(0x8f2)][_0x56aa06(0x8dd)](_0x3484fd);}['onMessage'](_0x225098){const _0x238310=_0xe992e3;return this[_0x238310(0x455)][_0x238310(0x60c)](_0x225098);}[_0xe992e3(0x70f)](_0x499d87){const _0x5e5f79=_0xe992e3;return this[_0x5e5f79(0x7c9)]['subscribe'](({track:_0x1fd33a,stream:_0x7fd90e})=>_0x499d87(_0x1fd33a,_0x7fd90e));}[_0xe992e3(0xa15)](_0x4c8365){const _0x43a6ad=_0xe992e3;return this['removeTrackListeners'][_0x43a6ad(0x60c)](({track:_0x24ab2a,stream:_0x3f359c})=>_0x4c8365(_0x24ab2a,_0x3f359c));}[_0xe992e3(0x14d)](_0x48e0d5,_0xcd79e,_0x50da96,_0x278bac){const _0x1d99d2=_0xe992e3;this[_0x1d99d2(0x8f2)]?.['addTrack'](_0x48e0d5,_0xcd79e,_0x50da96,_0x278bac);}['setPriority'](_0x39b8d7,_0x30efce){const _0x8d31a7=_0xe992e3;this[_0x8d31a7(0x8f2)]?.[_0x8d31a7(0x14c)](_0x39b8d7,_0x30efce);}[_0xe992e3(0x7e8)](_0x3bd203,_0x3eb4e2){const _0x5eb451=_0xe992e3;this[_0x5eb451(0x8f2)]?.['setParams'](_0x3bd203,_0x3eb4e2);}[_0xe992e3(0x536)](_0xf72fb7,_0x58f8af){const _0x1d04c3=_0xe992e3;this['senderConnection']?.[_0x1d04c3(0x536)](_0xf72fb7,_0x58f8af);}async[_0xe992e3(0x408)](_0x21709f){const _0x49e8e0=_0xe992e3;_0xd64180[_0x49e8e0(0x991)](_0x3c5ddd['Connection'],_0x49e8e0(0x8a2),this[_0x49e8e0(0x50f)](),_0x21709f);const {content:_0x51024f}=_0x21709f;switch(_0x51024f['type']){case _0x5b41e8[_0x49e8e0(0x126)]:await this[_0x49e8e0(0x1b4)](_0x51024f);break;case _0x5b41e8[_0x49e8e0(0x8b4)]:await this[_0x49e8e0(0x52b)](_0x51024f);break;case _0x5b41e8[_0x49e8e0(0x7d8)]:this[_0x49e8e0(0xb00)]();break;case _0x5b41e8[_0x49e8e0(0x2cf)]:await this[_0x49e8e0(0x9f2)](_0x51024f);break;case _0x5b41e8[_0x49e8e0(0x95c)]:this['handleNeedRestart'](_0x51024f);break;case _0x5b41e8[_0x49e8e0(0x493)]:await this['createOffer']();}}[_0xe992e3(0xa00)](_0x467472){const _0x4fd14c=_0xe992e3;this[_0x4fd14c(0x8f2)]?.[_0x4fd14c(0x771)](_0x467472['content']['data']);}[_0xe992e3(0x732)](){const _0x40344b=_0xe992e3;return this[_0x40344b(0x831)];}[_0xe992e3(0x1cd)](_0x4bfa6a){const _0x4a8007=_0xe992e3;this[_0x4a8007(0x831)]=_0x4bfa6a,this[_0x4a8007(0x8f2)]?.[_0x4a8007(0x1cd)](_0x4bfa6a),this[_0x4a8007(0x548)]?.['setConnectionType'](_0x4bfa6a);}async[_0xe992e3(0x9fe)](){const _0x4c49ad=_0xe992e3;await this[_0x4c49ad(0x8f2)]?.[_0x4c49ad(0x9fe)](),await this[_0x4c49ad(0x548)]?.[_0x4c49ad(0x9fe)]();}[_0xe992e3(0x661)](){const _0x566ddb=_0xe992e3;return this[_0x566ddb(0x8f2)]?.[_0x566ddb(0x661)]()??0x0;}['getBufferedAmount'](){const _0x3939ae=_0xe992e3;return this[_0x3939ae(0x8f2)]?.[_0x3939ae(0x435)]()??0x0;}['setupListeners'](){const _0x13f42c=_0xe992e3;this[_0x13f42c(0x4f1)][_0x13f42c(0xae7)](this['onMessage'](_0x298283=>{const _0x26fcd1=_0x13f42c;_0x357cdb(_0x298283,this[_0x26fcd1(0x50f)]())&&0x0!==_0x298283['topicLabel']&&this['dataTopics'][_0x26fcd1(0x6ab)](_0x298283[_0x26fcd1(0x1fd)])?.[_0x26fcd1(0x246)](_0x298283);})),this[_0x13f42c(0x4f1)][_0x13f42c(0xae7)](this['onTrack']((_0x53f267,_0x183450)=>{const _0x394e73=_0x13f42c,_0x470cb2=_0x29fbf8(_0x981fb5[_0x394e73(0x4c9)][_0x394e73(0x2b0)],_0x183450['id'],this[_0x394e73(0x9ba)]);this[_0x394e73(0x457)][_0x394e73(0x6ab)](_0x470cb2)?.['publish']({'topicLabel':_0x470cb2,'sourceId':this['remoteId'],'contentType':_0x981fb5['ContentType'][_0x394e73(0x2b0)],'content':{'action':_0x45c646[_0x394e73(0xaac)],'track':_0x53f267,'stream':_0x183450,'providerId':this[_0x394e73(0x9ba)]}});})),this['listenerUnsubscribers'][_0x13f42c(0xae7)](this[_0x13f42c(0xa15)]((_0x21c46,_0x19e14c)=>{const _0xd85bf4=_0x13f42c,_0x4a5a5d=_0x29fbf8(_0x981fb5[_0xd85bf4(0x4c9)][_0xd85bf4(0x2b0)],_0x19e14c['id'],this[_0xd85bf4(0x9ba)]);this['mediaTopics'][_0xd85bf4(0x6ab)](_0x4a5a5d)?.[_0xd85bf4(0x246)]({'topicLabel':_0x4a5a5d,'sourceId':this[_0xd85bf4(0x9ba)],'contentType':_0x981fb5['ContentType'][_0xd85bf4(0x2b0)],'content':{'action':_0x45c646['RemoteRemove'],'track':_0x21c46,'stream':_0x19e14c,'providerId':this[_0xd85bf4(0x9ba)]}});}));}['handleIceCandidates']({candidates:_0x129dae,origin:_0xb93c92,version:_0x1aa9f7}){const _0x3ab9d7=_0xe992e3;return _0xb93c92===_0x50eff2[_0x3ab9d7(0x77e)]?(this[_0x3ab9d7(0x548)]||this[_0x3ab9d7(0x3fd)](),this[_0x3ab9d7(0x548)][_0x3ab9d7(0x355)](_0x129dae,_0x1aa9f7)):this[_0x3ab9d7(0x8f2)]['handleHandshake'](_0x129dae,_0x1aa9f7);}async[_0xe992e3(0x9b0)](){const _0x16d222=_0xe992e3;this['senderConnection']||this[_0x16d222(0x24e)](),await this[_0x16d222(0x8f2)][_0x16d222(0x9b0)]();}async[_0xe992e3(0x1b4)]({offer:_0x33d42b,version:_0x568110}){const _0xd17dec=_0xe992e3;this[_0xd17dec(0x548)]||this[_0xd17dec(0x3fd)](),await this[_0xd17dec(0x548)]['handleOffer'](_0x33d42b,_0x568110);}async['handleAnswer']({answer:_0x1a56ef,version:_0x17604d}){const _0x115c46=_0xe992e3;if(!this[_0x115c46(0x8f2)])throw new _0xd907de(_0xd907de[_0x115c46(0x386)][_0x115c46(0x16b)],{'message':_0x115c46(0x5fd),'localId':this[_0x115c46(0x50f)](),'remoteId':this[_0x115c46(0x9ba)],'answer':_0x1a56ef});await this['senderConnection']['handleAnswer'](_0x1a56ef,_0x17604d);}[_0xe992e3(0xb00)](){const _0x3d0e09=_0xe992e3;if(!this['receiverConnection'])throw new _0xd907de(_0xd907de['codes'][_0x3d0e09(0x16b)],{'message':_0x3d0e09(0x733),'localId':this[_0x3d0e09(0x50f)](),'remoteId':this['remoteId']});this[_0x3d0e09(0x548)][_0x3d0e09(0xb00)](),this[_0x3d0e09(0x388)]||this[_0x3d0e09(0x831)]!==_0x4cf391['Optimization']||(this[_0x3d0e09(0x388)]=!0x0,this['systemTopic']?.['publish']({'sourceId':this[_0x3d0e09(0x9ba)],'destinationIds':[this[_0x3d0e09(0x50f)]()],'messageType':_0x13f595[_0x3d0e09(0x90d)],'content':{'type':_0x5b41e8['OptimizationConnectionSuccess']}}));}[_0xe992e3(0x860)](_0x1b1880){const _0x324a15=_0xe992e3;this[_0x324a15(0x548)]||this[_0x324a15(0x3fd)](),this[_0x324a15(0x548)][_0x324a15(0x860)](_0x1b1880['version']);}[_0xe992e3(0x24e)](){const _0x2ebf84=_0xe992e3;this[_0x2ebf84(0x8f2)]=new _0x2e3c63(this[_0x2ebf84(0x5e2)],this[_0x2ebf84(0x71d)],this[_0x2ebf84(0x9ba)],this[_0x2ebf84(0x8f1)],this[_0x2ebf84(0x831)],this[_0x2ebf84(0x875)],this['maxBpp'],this[_0x2ebf84(0x7cf)]),this['senderConnection'][_0x2ebf84(0x4a5)](this[_0x2ebf84(0x587)]);}[_0xe992e3(0x3fd)](){const _0x3c75b1=_0xe992e3;this[_0x3c75b1(0x548)]=new _0xc568a1(this[_0x3c75b1(0x5e2)],this[_0x3c75b1(0x71d)],this['remoteId'],this[_0x3c75b1(0x8f1)],this[_0x3c75b1(0x831)],this[_0x3c75b1(0x7cf)]),this[_0x3c75b1(0x548)][_0x3c75b1(0x4a5)](this['systemTopic']),this[_0x3c75b1(0xa45)][_0x3c75b1(0xae7)](this[_0x3c75b1(0x548)][_0x3c75b1(0x399)](_0xe46e03=>this[_0x3c75b1(0x455)][_0x3c75b1(0x246)](_0xe46e03))),this['receiverUnsubscribers'][_0x3c75b1(0xae7)](this['receiverConnection']['onTrack']((_0x42d9e9,_0x31a6da)=>this[_0x3c75b1(0x7c9)][_0x3c75b1(0x246)]({'track':_0x42d9e9,'stream':_0x31a6da}))),this[_0x3c75b1(0xa45)][_0x3c75b1(0xae7)](this[_0x3c75b1(0x548)][_0x3c75b1(0xa15)]((_0x215359,_0x56349a)=>this[_0x3c75b1(0x966)][_0x3c75b1(0x246)]({'track':_0x215359,'stream':_0x56349a})));}}class _0x5ba691{[_0xe992e3(0x26b)];[_0xe992e3(0x9b5)];[_0xe992e3(0x9d6)];[_0xe992e3(0x134)]=new Map();[_0xe992e3(0x455)]=_0x5c724d();[_0xe992e3(0x4d1)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0xe992e3(0x391)]=new Map();constructor(_0xd8d985,_0x168a94,_0x55a801){const _0x5e725f=_0xe992e3;this[_0x5e725f(0x26b)]=_0xd8d985,this[_0x5e725f(0x9b5)]=_0x168a94,this[_0x5e725f(0x9d6)]=_0x55a801,this['messageUnsubscriber']=this[_0x5e725f(0x399)](_0x8162c8=>{const _0x1a4615=_0x5e725f;this[_0x1a4615(0x9b5)]['hasMessage'](_0x8162c8[_0x1a4615(0x90c)])||(_0x357cdb(_0x8162c8,this[_0x1a4615(0x26b)])&&0x0!==_0x8162c8[_0x1a4615(0x1fd)]&&(this[_0x1a4615(0x9b5)]['addMessage'](_0x8162c8[_0x1a4615(0x90c)]),this[_0x1a4615(0x7ec)][_0x1a4615(0x6ab)](_0x8162c8[_0x1a4615(0x1fd)])?.[_0x1a4615(0x246)](_0x8162c8)),_0x8162c8[_0x1a4615(0x3bd)]&&this['send'](_0x8162c8));});}[_0xe992e3(0x1c9)](){const _0x4250a6=_0xe992e3;this[_0x4250a6(0x4d1)]?.();}[_0xe992e3(0xa74)](_0x4a2dd5){const _0x5b5e41=_0xe992e3,_0x295d47=_0x4a2dd5[_0x5b5e41(0x399)](_0x4b45ce=>{const _0x597723=_0x5b5e41;this[_0x597723(0x455)][_0x597723(0x246)](_0x4b45ce);});this[_0x5b5e41(0x134)][_0x5b5e41(0x888)](_0x4a2dd5,_0x295d47),this['retryQueues'][_0x5b5e41(0x888)](_0x4a2dd5['getRemoteId'](),function(_0x1c9428,_0x6f8726=!0x1){let _0x30c315=new Map();const _0xd6eca0=_0x5941bf(_0x1c9428,_0x6f8726,function(_0x1e0194){const _0x4cc7d4=a0_0xca1a;_0x47dcf6(_0x1e0194)&&_0x30c315['delete'](_0x1e0194[_0x4cc7d4(0x3c8)]+'-'+(_0x1e0194[_0x4cc7d4(0x39b)]??[])+'-'+_0x1e0194['messageType']+'-'+_0x1e0194[_0x4cc7d4(0x2e4)][_0x4cc7d4(0x689)]);},function(_0x4e7937){return!!function(_0xbda2f){const _0x4f7f93=a0_0xca1a,_0x164a34=_0xbda2f[_0x4f7f93(0x299)];if(!_0x47dcf6(_0x164a34))return!0x1;const _0x2a164f=_0x164a34[_0x4f7f93(0x3c8)]+'-'+(_0x164a34[_0x4f7f93(0x39b)]??[])+'-'+_0x164a34['messageType']+'-'+_0x164a34[_0x4f7f93(0x2e4)][_0x4f7f93(0x689)],_0x164540={'version':_0x164a34[_0x4f7f93(0x2e4)][_0x4f7f93(0x856)],'element':_0xbda2f},_0xb8f196=_0x30c315[_0x4f7f93(0x6ab)](_0x2a164f);return _0xb8f196?(_0xb8f196['version']>=_0x164a34[_0x4f7f93(0x2e4)][_0x4f7f93(0x856)]||(_0xb8f196[_0x4f7f93(0x283)][_0x4f7f93(0x560)]&&(_0xb8f196[_0x4f7f93(0x283)][_0x4f7f93(0x560)][_0x4f7f93(0x176)]=_0xbda2f,_0xbda2f[_0x4f7f93(0x560)]=_0xb8f196['element'][_0x4f7f93(0x560)]),_0xb8f196[_0x4f7f93(0x283)][_0x4f7f93(0x176)]&&(_0xb8f196['element'][_0x4f7f93(0x176)][_0x4f7f93(0x560)]=_0xbda2f,_0xbda2f[_0x4f7f93(0x176)]=_0xb8f196[_0x4f7f93(0x283)]['next']),_0xb8f196[_0x4f7f93(0x283)]===_0xd6eca0[_0x4f7f93(0x191)]&&(_0xd6eca0[_0x4f7f93(0x191)]=_0xbda2f),_0xb8f196[_0x4f7f93(0x283)]===_0xd6eca0[_0x4f7f93(0x345)]&&(_0xd6eca0[_0x4f7f93(0x345)]=_0xbda2f),_0x30c315['set'](_0x2a164f,_0x164540)),!0x0):(_0x30c315['set'](_0x2a164f,_0x164540),!0x1);}(_0x4e7937);},function(){_0x30c315['clear']();});function _0x47dcf6(_0x424d05){const _0xba59c7=a0_0xca1a;if(_0x424d05&&_0xba59c7(0x903)==typeof _0x424d05&&_0x424d05[_0xba59c7(0x1e0)](_0xba59c7(0x2e4))&&_0x424d05[_0xba59c7(0x1e0)](_0xba59c7(0x8a3))&&_0x424d05['hasOwnProperty']('sourceId')){const _0x5aae31=_0x424d05;if(_0x5aae31[_0xba59c7(0x2e4)]&&_0xba59c7(0x903)==typeof _0x5aae31['content']&&_0x5aae31['content'][_0xba59c7(0x1e0)]('version')&&_0x5aae31[_0xba59c7(0x2e4)][_0xba59c7(0x1e0)](_0xba59c7(0x689)))return!0x0;}return!0x1;}return _0xd6eca0;}(new _0x27d811(_0x2c40d9=>_0x4a2dd5[_0x5b5e41(0x8dd)](_0x2c40d9),()=>_0x50a54a[_0x5b5e41(0xa47)](0x64))));}['removeConnection'](_0x52467e){const _0x128381=_0xe992e3;this[_0x128381(0x134)]['get'](_0x52467e)?.(),this[_0x128381(0x134)]['delete'](_0x52467e),this[_0x128381(0x391)][_0x128381(0x6ab)](_0x52467e[_0x128381(0x383)]())?.['clear'](),this[_0x128381(0x391)][_0x128381(0x5eb)](_0x52467e[_0x128381(0x383)]());}[_0xe992e3(0x3ee)](_0x56688a){const _0x1ffeba=_0xe992e3;return _0xd64180[_0x1ffeba(0x991)](_0x3c5ddd[_0x1ffeba(0x3a3)],'ConnectionGroup',this[_0x1ffeba(0x26b)],this[_0x1ffeba(0x134)]['keys']()),0x0!==this[_0x1ffeba(0x134)][_0x1ffeba(0x73d)]&&(Array[_0x1ffeba(0x79e)](this[_0x1ffeba(0x134)][_0x1ffeba(0x5a2)]())['find'](_0x4e7092=>_0x4e7092[_0x1ffeba(0x383)]()===_0x56688a)?.[_0x1ffeba(0x3ee)]()??!0x1);}[_0xe992e3(0x920)](_0x4f47db){const _0x4e9148=_0xe992e3;this[_0x4e9148(0x7ec)][_0x4e9148(0x888)](_0x4f47db[_0x4e9148(0x270)](),_0x4f47db);}[_0xe992e3(0xace)](_0x2239e2){const _0x1b1eba=_0xe992e3;this[_0x1b1eba(0x7ec)][_0x1b1eba(0x5eb)](_0x2239e2[_0x1b1eba(0x270)]());}['registerSubscriber'](_0x3b6a81){const _0x40dc7a=_0xe992e3,_0x215897=_0x3b6a81[_0x40dc7a(0x60c)](this['send'][_0x40dc7a(0x8b6)](this));this[_0x40dc7a(0x710)]['set'](_0x3b6a81[_0x40dc7a(0x270)](),_0x215897);}[_0xe992e3(0x630)](_0x3d6fb8){const _0x46e2b6=_0xe992e3;this[_0x46e2b6(0x710)]['get'](_0x3d6fb8[_0x46e2b6(0x270)]())?.(),this[_0x46e2b6(0x710)]['delete'](_0x3d6fb8[_0x46e2b6(0x270)]());}[_0xe992e3(0x80c)](){const _0x2186fe=_0xe992e3;return[_0x981fb5[_0x2186fe(0x4c9)][_0x2186fe(0x838)],_0x981fb5[_0x2186fe(0x4c9)][_0x2186fe(0x1f4)],_0x981fb5[_0x2186fe(0x4c9)]['ObjectStore'],_0x981fb5[_0x2186fe(0x4c9)][_0x2186fe(0xad3)],_0x981fb5[_0x2186fe(0x4c9)][_0x2186fe(0x451)],_0x981fb5['ContentType']['VectorDatabase'],_0x981fb5[_0x2186fe(0x4c9)]['GraphDatabase'],_0x981fb5['ContentType'][_0x2186fe(0x815)]];}['send'](_0xafd82){const _0x271e80=_0xe992e3;if(!0x1===_0xafd82[_0x271e80(0x3d9)]){if(_0xafd82[_0x271e80(0x3bd)]||!_0xafd82[_0x271e80(0x39b)]||0x1!==_0xafd82[_0x271e80(0x39b)][_0x271e80(0x756)])throw new _0xd907de(_0xd907de[_0x271e80(0x386)][_0x271e80(0x724)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x271e80(0x26b)]});if(!this[_0x271e80(0x3ee)](_0xafd82['destinationIds'][0x0]))throw new _0x5e72c7(_0x271e80(0x51e));}const _0x31e619=_0xafd82['recipients']??[];try{const {filteredDestinationIds:_0x2871c8,extendedRecipients:_0x385920}=this[_0x271e80(0x9ea)](_0xafd82,_0x31e619);_0xafd82[_0x271e80(0x39b)]=_0x2871c8,_0xafd82[_0x271e80(0x5bc)]=_0x385920;}catch(_0x3c2156){if(_0x3c2156 instanceof _0x5e72c7)return void _0xd64180[_0x271e80(0x991)](_0x3c5ddd[_0x271e80(0x866)],_0x271e80(0x39f),_0x271e80(0x39a),_0xafd82,_0x3c2156[_0x271e80(0x337)]);}const _0x319cbc=this[_0x271e80(0x7da)](_0xafd82);this[_0x271e80(0xa38)](_0xafd82,_0x319cbc),_0xafd82[_0x271e80(0x3bd)]=_0x319cbc;const _0x640abd=this['getConnectionDestinations'](_0xafd82,_0x31e619);for(const _0x4688f7 of _0x640abd){const _0x55430a=this[_0x271e80(0x391)][_0x271e80(0x6ab)](_0x4688f7['getRemoteId']());if(!_0x55430a)throw new _0xd907de(_0xd907de['codes'][_0x271e80(0x3c7)],{'message':_0x271e80(0xa63),'localId':this[_0x271e80(0x26b)],'remoteId':_0x4688f7[_0x271e80(0x383)](),'data':_0xafd82});_0x55430a[_0x271e80(0xae7)](_0xafd82);}}[_0xe992e3(0x383)](){return'';}[_0xe992e3(0x50f)](){const _0x5b0c1f=_0xe992e3;return this[_0x5b0c1f(0x26b)];}[_0xe992e3(0x399)](_0x1e4bdc){const _0x2b036f=_0xe992e3;return this[_0x2b036f(0x455)]['subscribe'](_0x1e4bdc);}[_0xe992e3(0x9ea)](_0x1edf2b,_0x3f5fba){const _0x41e9bf=_0xe992e3,_0x26554e={'filteredDestinationIds':_0x1edf2b[_0x41e9bf(0x39b)],'extendedRecipients':_0x1edf2b[_0x41e9bf(0x5bc)]};if(!_0x1edf2b[_0x41e9bf(0x3bd)])return _0x26554e;const _0x36e334=Array[_0x41e9bf(0x79e)](this[_0x41e9bf(0x134)]['keys']())[_0x41e9bf(0x1ee)](_0x22140a=>_0x22140a[_0x41e9bf(0x732)]()===_0x4cf391['Core']||_0x22140a['isConnected']())['map'](_0x3301c0=>_0x3301c0[_0x41e9bf(0x383)]());if(_0x36e334[_0x41e9bf(0x3d2)]((_0x25fb68,_0x2ce0c9)=>_0x25fb68&&_0x1edf2b[_0x41e9bf(0x5bc)][_0x41e9bf(0x137)](_0x2ce0c9),!0x0))throw new _0x5e72c7(_0x41e9bf(0x2f8));if(_0x1edf2b[_0x41e9bf(0x39b)]){const _0x4f8f69=_0x1edf2b[_0x41e9bf(0x39b)][_0x41e9bf(0x1ee)](_0x4eb16e=>_0x4eb16e!==this[_0x41e9bf(0x26b)]&&!_0x1edf2b[_0x41e9bf(0x5bc)][_0x41e9bf(0x137)](_0x4eb16e));if(0x0===_0x4f8f69[_0x41e9bf(0x756)])throw new _0x5e72c7(_0x41e9bf(0x3af));_0x26554e[_0x41e9bf(0x7af)]=_0x4f8f69;}return _0x26554e[_0x41e9bf(0xb06)]=[...new Set([..._0x3f5fba,..._0x36e334,this[_0x41e9bf(0x26b)]])],_0x26554e;}['logPropagateSystemEvent'](_0x3930d7,_0x3489dd=!0x1){const _0x33952d=_0xe992e3;if(0x0===_0x3930d7[_0x33952d(0x1fd)]&&!_0x40b072(_0x3930d7,this[_0x33952d(0x26b)])&&_0x3930d7[_0x33952d(0x3bd)]){const _0x431901=_0x3bc0db(_0x3930d7,this['localId']);_0xd64180[_0x33952d(0x147)](_0x3c5ddd[_0x33952d(0x2f1)],_0x3930d7[_0x33952d(0x90c)]+_0x33952d(0x82e)+_0x3489dd+')\x20'+_0x431901,_0x3930d7,_0x3489dd);}}[_0xe992e3(0x7da)](_0x451e96){const _0x473a23=_0xe992e3;if(_0x451e96['destinationIds']&&_0x451e96[_0x473a23(0x3bd)]){const _0x2c240e=Array[_0x473a23(0x79e)](this['connections']['keys']())[_0x473a23(0x1ee)](_0x18c78c=>_0x18c78c['getConnectionType']()===_0x4cf391[_0x473a23(0x7c2)]||_0x18c78c['isConnected']())[_0x473a23(0x7db)](_0x53c6fa=>_0x53c6fa[_0x473a23(0x383)]());return!_0x451e96['destinationIds'][_0x473a23(0x3d2)]((_0x599fd5,_0x388104)=>_0x599fd5&&_0x2c240e['includes'](_0x388104),!0x0);}return _0x451e96[_0x473a23(0x3bd)]??!0x1;}[_0xe992e3(0x13c)](_0xca9649,_0x4bfac3){const _0x1c71de=_0xe992e3;if(_0xca9649[_0x1c71de(0x3bd)]&&_0xca9649[_0x1c71de(0x39b)]){const _0x3773b5=Array[_0x1c71de(0x79e)](this['connections'][_0x1c71de(0x5a2)]())[_0x1c71de(0x1ee)](_0x39f89b=>_0x39f89b['getConnectionType']()===_0x4cf391[_0x1c71de(0x7c2)]||_0x39f89b[_0x1c71de(0x3ee)]())[_0x1c71de(0x7db)](_0x50c927=>_0x50c927[_0x1c71de(0x383)]()),_0xaab6f3=new Set(),_0x5b49f5=_0xca9649[_0x1c71de(0x3c8)]===this['localId']?0x3:0x1;return _0xca9649[_0x1c71de(0x39b)][_0x1c71de(0x558)](_0x32c4ec=>{const _0x365d9f=_0x1c71de,_0x34876f=this[_0x365d9f(0x9d6)]['getClosestNodes'](_0x3773b5,_0x32c4ec);let _0xb3a540=0x0,_0x1251e0=0x0;_0x34876f[_0x365d9f(0x558)](_0x1a2f26=>{const _0x1531d1=_0x365d9f;if(_0xb3a540>=_0x5b49f5)return;const _0x24ae61=Array[_0x1531d1(0x79e)](this[_0x1531d1(0x134)][_0x1531d1(0x5a2)]())[_0x1531d1(0xa57)](_0xeb226e=>_0xeb226e[_0x1531d1(0x383)]()===_0x1a2f26);if(_0x24ae61){if(_0x24ae61[_0x1531d1(0x732)]()===_0x4cf391[_0x1531d1(0x7c2)]&&_0x1251e0>0x0)return void(_0x1251e0-=0x1);_0xaab6f3['add'](_0x24ae61),_0x24ae61[_0x1531d1(0x732)]()===_0x4cf391[_0x1531d1(0x12b)]&&(_0x1251e0+=0x1),_0xb3a540+=0x1;}});}),Array[_0x1c71de(0x79e)](_0xaab6f3);}return Array[_0x1c71de(0x79e)](this[_0x1c71de(0x134)][_0x1c71de(0x5a2)]())[_0x1c71de(0x1ee)](_0x28b08e=>{const _0x1d87bc=_0x1c71de;return _0x40d1db=_0x28b08e[_0x1d87bc(0x383)](),!_0x4bfac3[_0x1d87bc(0x137)](_0x40d1db)&&(_0x357cdb(_0xca9649,_0x40d1db)||_0xca9649[_0x1d87bc(0x3bd)])&&(!_0xca9649[_0x1d87bc(0x3bd)]||_0x28b08e[_0x1d87bc(0x3ee)]()||_0x28b08e[_0x1d87bc(0x732)]()===_0x4cf391['Core']);var _0x40d1db;});}}class _0x4b3fd9{[_0xe992e3(0x26b)];['messageBuffer'];[_0xe992e3(0x134)]=new Map();[_0xe992e3(0x587)];constructor(_0x1114b0,_0x358294){const _0x5f4e79=_0xe992e3;this['localId']=_0x1114b0,this[_0x5f4e79(0x9b5)]=_0x358294;}[_0xe992e3(0x1c9)](){}['send'](_0x25667e){const _0x9cdcdd=_0xe992e3;for(const _0x4bc795 of this['connections']['keys']())try{return void _0x4bc795[_0x9cdcdd(0x8dd)]({'retry':!0x1,..._0x25667e});}catch(_0x5c432e){_0x5c432e instanceof _0x5e72c7||_0xd64180[_0x9cdcdd(0x991)](_0x3c5ddd[_0x9cdcdd(0x666)],'send\x20error\x20on\x20'+_0x4bc795,_0x5c432e,_0x25667e);}_0xd64180['log'](_0x3c5ddd[_0x9cdcdd(0x666)],_0x9cdcdd(0xaaf));}['addConnection'](_0x36778a){const _0x23ccbe=_0xe992e3,_0x1e9449=_0x36778a[_0x23ccbe(0x399)](_0x1464ac=>{const _0x59dde1=_0x23ccbe;this[_0x59dde1(0x9b5)][_0x59dde1(0x62e)](_0x1464ac[_0x59dde1(0x90c)])||0x0===_0x1464ac[_0x59dde1(0x1fd)]&&(this[_0x59dde1(0x9b5)][_0x59dde1(0x5c1)](_0x1464ac[_0x59dde1(0x90c)]),_0x357cdb(_0x1464ac,this[_0x59dde1(0x26b)])&&this[_0x59dde1(0x587)]?.[_0x59dde1(0x246)](_0x1464ac));});this[_0x23ccbe(0x134)][_0x23ccbe(0x888)](_0x36778a,_0x1e9449);}[_0xe992e3(0x754)](_0xea68c6){const _0x22ac31=_0xe992e3;this['connections'][_0x22ac31(0x6ab)](_0xea68c6)?.(),this[_0x22ac31(0x134)][_0x22ac31(0x5eb)](_0xea68c6);}['getLocalId'](){return this['localId'];}['getRemoteId'](){return'';}[_0xe992e3(0x80c)](){const _0x1c9e8d=_0xe992e3;return[_0x981fb5[_0x1c9e8d(0x4c9)][_0x1c9e8d(0x838)]];}['isConnected'](){const _0x3149af=_0xe992e3;throw new Error(_0x3149af(0x468));}['registerSystemPublisher'](_0x38f98b){const _0x4d9896=_0xe992e3;this[_0x4d9896(0x587)]=_0x38f98b;}[_0xe992e3(0x20f)](){delete this['systemTopic'];}}class _0x119aca{[_0xe992e3(0x59c)]=new Map();[_0xe992e3(0x980)];constructor(){const _0x19810a=_0xe992e3;this[_0x19810a(0x980)]=_0x50a54a[_0x19810a(0x6b1)](()=>{const _0x5b724f=_0x19810a;for(const [_0xd6af4a,_0x36d6b1]of this[_0x5b724f(0x59c)][_0x5b724f(0x9c8)]())Date[_0x5b724f(0x559)]()-_0x36d6b1>0x124f80&&this['buffer'][_0x5b724f(0x5eb)](_0xd6af4a);},0x1d4c0);}[_0xe992e3(0x1c9)](){const _0x3ab9dd=_0xe992e3;this[_0x3ab9dd(0x980)]();}[_0xe992e3(0x5c1)](_0x20d3ab){const _0x52307d=_0xe992e3;this[_0x52307d(0x59c)][_0x52307d(0x888)](_0x20d3ab,Date[_0x52307d(0x559)]());}[_0xe992e3(0x62e)](_0x163bf8){const _0x50fce9=_0xe992e3;return this[_0x50fce9(0x59c)]['has'](_0x163bf8);}}class _0x46c200{[_0xe992e3(0x81e)];[_0xe992e3(0x5c3)];[_0xe992e3(0x8f1)];[_0xe992e3(0x34f)];[_0xe992e3(0x134)]=new Map();[_0xe992e3(0x4df)];[_0xe992e3(0x871)];[_0xe992e3(0x4b4)];[_0xe992e3(0x9b5)];constructor(_0x3bb38d,_0x5b22f6,_0x2fade7,_0x9f78d3,_0x30e683){const _0x4b32e9=_0xe992e3;this['configs']=_0x3bb38d,this[_0x4b32e9(0x5c3)]=_0x5b22f6,this[_0x4b32e9(0x8f1)]=_0x9f78d3,this[_0x4b32e9(0x34f)]=_0x30e683,this['messageBuffer']=new _0x119aca(),this[_0x4b32e9(0x871)]=new _0x5ba691(this[_0x4b32e9(0x81e)][_0x4b32e9(0x71d)]['getId'](),this['messageBuffer'],_0x2fade7),this[_0x4b32e9(0x4b4)]=new _0x5dc163(this['configs']['vendorId'],this[_0x4b32e9(0x81e)][_0x4b32e9(0x5e2)],this[_0x4b32e9(0x81e)][_0x4b32e9(0x71d)],'server',this['authService']),this['connectionPool']=new _0x4b3fd9(this[_0x4b32e9(0x81e)][_0x4b32e9(0x71d)][_0x4b32e9(0x686)](),this[_0x4b32e9(0x9b5)]),this[_0x4b32e9(0x4df)][_0x4b32e9(0xa74)](this[_0x4b32e9(0x871)]),this[_0x4b32e9(0x4df)][_0x4b32e9(0xa74)](this['signalingServer']),this['configs'][_0x4b32e9(0x422)]['registerSystemSource'](this[_0x4b32e9(0x4df)]);}[_0xe992e3(0x1c9)](){const _0x57f8e3=_0xe992e3;this['messageBuffer'][_0x57f8e3(0x1c9)](),this[_0x57f8e3(0x134)]['forEach']((_0x1529de,_0x392591)=>this['closeConnection'](_0x392591)),this[_0x57f8e3(0x81e)]['mediator']['unregisterSystemSource'](this[_0x57f8e3(0x4df)]),this['connectionPool'][_0x57f8e3(0x754)](this['signalingServer']),this[_0x57f8e3(0x4df)]['removeConnection'](this['connectionGroup']),this[_0x57f8e3(0x4df)][_0x57f8e3(0x1c9)](),this[_0x57f8e3(0x4b4)][_0x57f8e3(0x1c9)](),this['connectionGroup'][_0x57f8e3(0x1c9)]();}async[_0xe992e3(0x4af)](){const _0x1a8165=_0xe992e3;await this['signalingServer'][_0x1a8165(0x9ab)]();}async[_0xe992e3(0xa55)](_0x231e71,_0x8858a6=_0x4cf391[_0xe992e3(0x7c2)]){const _0x149e84=_0xe992e3;if(this[_0x149e84(0x134)]['has'](_0x231e71)){if(this['connections'][_0x149e84(0x6ab)](_0x231e71)?.[_0x149e84(0x732)]()===_0x4cf391['Optimization']&&_0x8858a6===_0x4cf391[_0x149e84(0x7c2)])return void this[_0x149e84(0x134)][_0x149e84(0x6ab)](_0x231e71)?.[_0x149e84(0x1cd)](_0x4cf391[_0x149e84(0x7c2)]);throw new _0xd907de(_0xd907de[_0x149e84(0x386)][_0x149e84(0x4ca)],{'localId':this['configs'][_0x149e84(0x71d)]['getId'](),'remoteId':_0x231e71});}const _0x521838=new _0x5f06b4(this[_0x149e84(0x81e)][_0x149e84(0x5e2)],this[_0x149e84(0x81e)][_0x149e84(0x71d)],_0x231e71,this[_0x149e84(0x8f1)],_0x8858a6,this[_0x149e84(0x34f)][_0x149e84(0x875)],this[_0x149e84(0x34f)][_0x149e84(0x2b2)],this[_0x149e84(0x34f)]['peerConnectionConnector']);this[_0x149e84(0x134)][_0x149e84(0x888)](_0x231e71,_0x521838),this[_0x149e84(0x871)][_0x149e84(0xa74)](_0x521838),this['configs'][_0x149e84(0x422)][_0x149e84(0x95e)](_0x521838),this['configs'][_0x149e84(0x422)][_0x149e84(0x25e)](_0x231e71),await _0x521838['connect']();}[_0xe992e3(0x1aa)](){const _0x561fb3=_0xe992e3;return this[_0x561fb3(0x871)];}[_0xe992e3(0x2b8)](_0x1205b3){const _0x498ee6=_0xe992e3;if(!this[_0x498ee6(0x134)][_0x498ee6(0x64b)](_0x1205b3))throw new _0xd907de(_0xd907de[_0x498ee6(0x386)]['MissingRemoteConnection'],{'localId':this[_0x498ee6(0x81e)][_0x498ee6(0x71d)][_0x498ee6(0x686)](),'remoteId':_0x1205b3});return this[_0x498ee6(0x134)][_0x498ee6(0x6ab)](_0x1205b3);}[_0xe992e3(0x7d2)](_0x8e8d44){const _0x1b3df0=_0xe992e3,_0x30964b=Array[_0x1b3df0(0x79e)](this[_0x1b3df0(0x134)]['values']());return _0x8e8d44?_0x30964b[_0x1b3df0(0x1ee)](_0x8e8d44):_0x30964b;}async[_0xe992e3(0x9fe)](_0xe5c419){const _0x27e424=_0xe992e3,_0x2b11c1=this[_0x27e424(0x134)][_0x27e424(0x6ab)](_0xe5c419);_0x2b11c1&&_0x2b11c1[_0x27e424(0x3ee)]()&&await _0x2b11c1[_0x27e424(0x9fe)]();}[_0xe992e3(0x48f)](_0x30c3c3){const _0x1f932c=_0xe992e3;if(_0x30c3c3['messageType']!==_0x13f595[_0x1f932c(0x90d)]||_0x30c3c3[_0x1f932c(0x3bd)])try{this[_0x1f932c(0x871)][_0x1f932c(0x8dd)](_0x30c3c3);}catch(_0x26d332){if(_0x26d332 instanceof _0x5e72c7)return;throw _0x26d332;}else this['connectionPool']['send'](_0x30c3c3);}async[_0xe992e3(0x408)](_0x4ede78){const _0x4a7635=_0xe992e3;switch(_0x4ede78[_0x4a7635(0x2e4)]['type']){case _0x5b41e8['Disconnect']:case _0x5b41e8['Stats']:case _0x5b41e8[_0x4a7635(0x6cd)]:return;}if(!_0x4ede78['destinationIds']||0x1!==_0x4ede78[_0x4a7635(0x39b)][_0x4a7635(0x756)])throw new _0xd907de(_0xd907de[_0x4a7635(0x386)]['PeerConnectionInvalidDestination'],{'message':_0x4a7635(0x1a7),'event':_0x4ede78});if(_0x4ede78[_0x4a7635(0x39b)][0x0]!==this['configs'][_0x4a7635(0x71d)]['getId']())throw new _0xd907de(_0xd907de[_0x4a7635(0x386)]['PeerConnectionInvalidDestination'],{'message':_0x4a7635(0x7f2),'event':_0x4ede78});if(!this[_0x4a7635(0x134)][_0x4a7635(0x64b)](_0x4ede78[_0x4a7635(0x3c8)])){let _0xb368b8=_0x4cf391[_0x4a7635(0x7c2)];if(!(this[_0x4a7635(0x3dc)](_0x4ede78[_0x4a7635(0x2e4)])||this['isIceCandidate'](_0x4ede78[_0x4a7635(0x2e4)])||this['isNeedRestart'](_0x4ede78[_0x4a7635(0x2e4)])))return;_0xb368b8=_0x4ede78[_0x4a7635(0x2e4)][_0x4a7635(0x831)],await this[_0x4a7635(0xa55)](_0x4ede78[_0x4a7635(0x3c8)],_0xb368b8);}const _0x52b294=this[_0x4a7635(0x134)][_0x4a7635(0x6ab)](_0x4ede78['sourceId']);await _0x52b294['handlePeerConnectionSystemEvents'](_0x4ede78);}[_0xe992e3(0xa00)](_0x5c9f39){const _0x1bfe6c=_0xe992e3;if(_0x5c9f39['content'][_0x1bfe6c(0x689)]===_0x223cd8[_0x1bfe6c(0x622)]){if(_0x5c9f39[_0x1bfe6c(0x2e4)][_0x1bfe6c(0x5ac)]===this[_0x1bfe6c(0x81e)][_0x1bfe6c(0x71d)][_0x1bfe6c(0x686)]())return void this['connections'][_0x1bfe6c(0x558)](_0x39947b=>_0x39947b[_0x1bfe6c(0xa00)](_0x5c9f39));this[_0x1bfe6c(0x134)][_0x1bfe6c(0x6ab)](_0x5c9f39[_0x1bfe6c(0x2e4)][_0x1bfe6c(0x5ac)])?.[_0x1bfe6c(0xa00)](_0x5c9f39);}}['handleNodeSystemEvents']({content:_0x47998f}){const _0x40c09e=_0xe992e3;_0x47998f[_0x40c09e(0x689)]===_0x25a471['NodeLeave']&&this['closeConnection'](_0x47998f['id']);}[_0xe992e3(0x353)](){const _0x471492=_0xe992e3,_0x569545=Array[_0x471492(0x79e)](this['connections'][_0x471492(0x992)]())[_0x471492(0x3d2)]((_0x1ffd9f,_0x49a293)=>_0x1ffd9f+_0x49a293[_0x471492(0x661)](),0x0);return _0x569545<_0x14ba7f?Promise[_0x471492(0x9c0)](_0x569545):new Promise(_0x55e5ed=>{const _0x4852f6=setInterval(()=>{const _0x3f1c82=a0_0xca1a,_0x10bc6d=Array[_0x3f1c82(0x79e)](this[_0x3f1c82(0x134)]['values']())['reduce']((_0x385493,_0x435b6d)=>_0x385493+_0x435b6d[_0x3f1c82(0x661)](),0x0);_0x10bc6d<_0x14ba7f&&(clearInterval(_0x4852f6),_0x55e5ed(_0x10bc6d));},0x3e8);});}[_0xe992e3(0x41e)](){const _0x3b2cc4=_0xe992e3;for(const _0x261f7a of this[_0x3b2cc4(0x134)][_0x3b2cc4(0x992)]())if(_0x261f7a[_0x3b2cc4(0x435)]()>0x0||_0x261f7a[_0x3b2cc4(0x661)]()>0x0)return!0x0;return!0x1;}[_0xe992e3(0x671)](_0x5406a9){const _0x479554=_0xe992e3,_0x56e2f2=this[_0x479554(0x134)][_0x479554(0x6ab)](_0x5406a9);_0x56e2f2&&(this['configs']['mediator'][_0x479554(0x99c)](_0x5406a9),this[_0x479554(0x81e)][_0x479554(0x422)][_0x479554(0x35f)](_0x56e2f2),_0x56e2f2 instanceof _0x5f06b4&&this[_0x479554(0x871)]['removeConnection'](_0x56e2f2),_0x56e2f2[_0x479554(0x1c9)](),this[_0x479554(0x134)][_0x479554(0x5eb)](_0x5406a9));}[_0xe992e3(0x3dc)](_0x40505a){const _0x1bf458=_0xe992e3;return _0x40505a[_0x1bf458(0x689)]===_0x5b41e8[_0x1bf458(0x126)];}[_0xe992e3(0x85a)](_0x120eed){const _0x2d9484=_0xe992e3;return _0x120eed[_0x2d9484(0x689)]===_0x5b41e8[_0x2d9484(0x95c)];}[_0xe992e3(0x30e)](_0x42a48d){const _0x54a1e0=_0xe992e3;return _0x42a48d[_0x54a1e0(0x689)]===_0x5b41e8[_0x54a1e0(0x2cf)];}}!function(_0x4b3d35){const _0xf19faa=_0xe992e3;_0x4b3d35[_0x4b3d35['SubscribeMediaStream']=0x0]='SubscribeMediaStream',_0x4b3d35[_0x4b3d35[_0xf19faa(0x54c)]=0x1]='UpdateMediaStream',_0x4b3d35[_0x4b3d35['UnsubscribeMediaStream']=0x2]='UnsubscribeMediaStream',_0x4b3d35[_0x4b3d35['NeedMediaStream']=0x3]=_0xf19faa(0x662),_0x4b3d35[_0x4b3d35[_0xf19faa(0x2d6)]=0x4]=_0xf19faa(0x2d6),_0x4b3d35[_0x4b3d35['CanProvideMediaStream']=0x5]='CanProvideMediaStream',_0x4b3d35[_0x4b3d35[_0xf19faa(0x836)]=0x6]='CannotProvideMediaStream',_0x4b3d35[_0x4b3d35[_0xf19faa(0x1e6)]=0x7]=_0xf19faa(0x1e6);}(_0x311c63||(_0x311c63={}));class _0x3ce5cf extends _0x430dee{[_0xe992e3(0x71d)];[_0xe992e3(0x5e2)];[_0xe992e3(0x3ea)];[_0xe992e3(0xa6c)];['debounceStats'];['reads']=0x0;[_0xe992e3(0x6c6)];[_0xe992e3(0x64e)]=_0x5c724d();[_0xe992e3(0x4f1)]=new Map();[_0xe992e3(0x5f1)];constructor(_0x591149,_0x58d838,_0x15a5ce,_0x4dd23d,_0x4868eb){const _0x246694=_0xe992e3;if(_0x246694(0xab7)!=typeof _0x58d838)throw new _0x3748ee(_0x2a0ddc[_0x246694(0x4b3)],_0x246694(0xab5));super(_0x591149,_0x58d838),this[_0x246694(0x71d)]=_0x591149,this[_0x246694(0x5e2)]=_0x15a5ce,this['vendorId']=_0x4dd23d,this[_0x246694(0xa6c)]=_0x4868eb,this[_0x246694(0x5d4)]();}['destroy'](){const _0x33cab3=_0xe992e3;this[_0x33cab3(0x5f1)]?.(),this[_0x33cab3(0x4f1)][_0x33cab3(0x558)](_0x53e12e=>_0x53e12e()),clearTimeout(this[_0x33cab3(0x203)]),delete this[_0x33cab3(0x203)],super[_0x33cab3(0x551)]();}[_0xe992e3(0xade)](){const _0x96f925=_0xe992e3;this[_0x96f925(0x5d4)]();}['close'](){const _0x94ff7c=_0xe992e3;this[_0x94ff7c(0x587)][_0x94ff7c(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x94ff7c(0x52d)],'content':{'type':_0x26ec79[_0x94ff7c(0x41d)],'label':this['label']}});}[_0xe992e3(0x437)](){const _0x4287ed=_0xe992e3;return _0x981fb5[_0x4287ed(0x4c9)][_0x4287ed(0x815)];}async[_0xe992e3(0x6ab)](_0x592a3f){const _0x221a2f=_0xe992e3;if(!this[_0x221a2f(0x6c6)])throw new _0x3748ee(_0x2a0ddc[_0x221a2f(0x945)],_0x221a2f(0x7bd));_0xd64180[_0x221a2f(0x8b0)](_0x2d66c0['ExternalStorage'],{'type':_0x221a2f(0x6ab),'label':this[_0x221a2f(0x3fc)],'nodeId':this[_0x221a2f(0x71d)][_0x221a2f(0x686)](),'nodeType':this[_0x221a2f(0x71d)][_0x221a2f(0x689)],'clusterId':this['clusterId'],'path':_0x592a3f}),this['reads']+=0x1,this[_0x221a2f(0x5d4)]();try{return await this[_0x221a2f(0x6c6)]['get'](_0x592a3f);}catch(_0x1a2803){throw new _0x3748ee(_0x2a0ddc[_0x221a2f(0x8bf)],'Cannot\x20get\x20file:\x20'+_0x592a3f);}}async[_0xe992e3(0x135)](_0x494865,_0x587834){const _0x31cb94=_0xe992e3;if(!this[_0x31cb94(0x6c6)])throw new _0x3748ee(_0x2a0ddc[_0x31cb94(0x945)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x47d0fa=!0x1}=_0x587834??{};_0xd64180['logServiceEvent'](_0x2d66c0[_0x31cb94(0x815)],{'type':_0x31cb94(0x135),'label':this[_0x31cb94(0x3fc)],'nodeId':this['localNode'][_0x31cb94(0x686)](),'nodeType':this[_0x31cb94(0x71d)]['type'],'clusterId':this[_0x31cb94(0x5e2)],'path':_0x494865}),this[_0x31cb94(0x60a)]+=0x1,this[_0x31cb94(0x5d4)]();try{return await this[_0x31cb94(0x6c6)][_0x31cb94(0x135)](_0x494865,_0x47d0fa);}catch(_0x5940f5){throw new _0x3748ee(_0x2a0ddc[_0x31cb94(0x8bf)],_0x31cb94(0x6dc)+_0x494865);}}[_0xe992e3(0x60c)](_0x29777b,_0xdaea17){const _0x40e341=_0xe992e3;if(this[_0x40e341(0x4f1)][_0x40e341(0x64b)](_0x29777b))throw new _0x3748ee(_0x2a0ddc[_0x40e341(0xacf)],_0x40e341(0xa66));this['listenerUnsubscribers'][_0x40e341(0x888)](_0x29777b,this[_0x40e341(0x64e)]['subscribe'](_0xdaea17));}[_0xe992e3(0x4c0)](_0x31ea76){const _0x530252=_0xe992e3;this[_0x530252(0x4f1)][_0x530252(0x6ab)](_0x31ea76)?.(),this['listenerUnsubscribers'][_0x530252(0x5eb)](_0x31ea76);}async[_0xe992e3(0xa19)](){const _0x53b268=_0xe992e3,_0x4c32fc=(await(0x0,_0x3d2491['getDoc'])((0x0,_0x3d2491['doc'])(_0x57cb7d[_0x53b268(0x928)](),_0x53b268(0xae1)+this['vendorId']+_0x53b268(0x961)+this[_0x53b268(0x3fc)])))[_0x53b268(0x9a6)]();if(!_0x4c32fc)throw new _0x3748ee(_0x2a0ddc[_0x53b268(0x2d4)],_0x53b268(0x9f4)+this[_0x53b268(0x3fc)]);const {site:_0x1d4543,drive:_0x1c59db}=_0x4c32fc,_0x5606fd=(await(0x0,_0x10e1b1['httpsCallable'])(_0x57cb7d[_0x53b268(0x5f2)](),_0x53b268(0x429))({'storageId':this[_0x53b268(0x3fc)]}))[_0x53b268(0x9a6)]['accessToken'];this['connector']=new this[(_0x53b268(0xa6c))](_0x1d4543['id'],_0x1c59db['id'],_0x5606fd,async()=>(await(0x0,_0x10e1b1[_0x53b268(0x71e)])(_0x57cb7d[_0x53b268(0x5f2)](),'msalRefreshToken')({'storageId':this[_0x53b268(0x3fc)]}))['data'][_0x53b268(0x9f7)]),this['trackChanges']();}[_0xe992e3(0x5d4)](){const _0x5ebcaa=_0xe992e3;this[_0x5ebcaa(0x203)]&&clearTimeout(this[_0x5ebcaa(0x203)]),this[_0x5ebcaa(0x203)]=setTimeout(async()=>{const _0x3c274e=_0x5ebcaa;delete this['debounceStats'],this[_0x3c274e(0x587)]['publish']({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x3c274e(0x8bb)],'label':this['label'],'stats':{'timestamp':Date[_0x3c274e(0x559)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x3c274e(0x60a)],'prompts':0x0,'tokens':0x0}}});},_0x411ded);}async[_0xe992e3(0x941)](){const _0x352bd1=_0xe992e3;await this[_0x352bd1(0x6c6)]?.[_0x352bd1(0x9d4)](),this['changesUnsubscriber']=_0x50a54a['setInterval'](async()=>{const _0x28c2ca=_0x352bd1;try{if(!this[_0x28c2ca(0x6c6)])return;const _0xd59c61=await this[_0x28c2ca(0x6c6)][_0x28c2ca(0x9d4)]();for(const _0x5dd776 of _0xd59c61)this['eventListener'][_0x28c2ca(0x246)](_0x5dd776);}catch(_0x2c6b89){}},0x493e0);}}const _0x148b31=require('rxjs');class _0x43c04a extends _0x430dee{[_0xe992e3(0x9d6)];[_0xe992e3(0x188)]=new Map();[_0xe992e3(0xa20)]=new Map();[_0xe992e3(0xa0b)]=new Map();[_0xe992e3(0x980)];constructor(_0x322d7f,_0x3879fc,_0x22d4e4){const _0xb9d78a=_0xe992e3;super(_0x322d7f,_0x3879fc),this[_0xb9d78a(0x9d6)]=_0x22d4e4;}['getContentType'](){const _0x1691fe=_0xe992e3;return _0x981fb5[_0x1691fe(0x4c9)][_0x1691fe(0x451)];}['open'](){const _0x55d2d3=_0xe992e3;this[_0x55d2d3(0x980)]=this['onMessage']((_0x1dd9b5,_0x46cb11)=>{const _0x38735f=_0x55d2d3;if(_0xd64180[_0x38735f(0x991)](_0x3c5ddd[_0x38735f(0x6b5)],_0x38735f(0x27e),_0x1dd9b5,_0x46cb11,this['graphService'][_0x38735f(0x48e)]()),!(_0x46cb11 instanceof File)){if(!_0x46cb11)throw new _0xd907de(_0xd907de[_0x38735f(0x386)][_0x38735f(0x2e0)]);return this[_0x38735f(0xa89)](_0x46cb11)?this[_0x38735f(0x40f)](_0x1dd9b5,_0x46cb11['id'],_0x46cb11):this[_0x38735f(0x434)](_0x46cb11)?(_0xd64180[_0x38735f(0x991)](_0x3c5ddd['Jobs'],_0x38735f(0x43b)+_0x46cb11['id']+_0x38735f(0x8d7),_0x46cb11['result']),void this[_0x38735f(0x489)](_0x46cb11['id'],_0x46cb11)):this[_0x38735f(0x978)](_0x46cb11)?(_0xd64180[_0x38735f(0x991)](_0x3c5ddd[_0x38735f(0x6b5)],_0x38735f(0x43b)+_0x46cb11['id']+_0x38735f(0xaa4),_0x46cb11[_0x38735f(0x340)]),void this[_0x38735f(0x6cb)](_0x46cb11['id'],_0x46cb11)):void(this[_0x38735f(0x78e)](_0x46cb11)&&this[_0x38735f(0x8d1)](_0x46cb11['id'],_0x46cb11[_0x38735f(0x337)]));}});}[_0xe992e3(0xade)](){const _0x1e0b9d=_0xe992e3;this[_0x1e0b9d(0x24d)](),this['open']();}[_0xe992e3(0x551)](){const _0x56b576=_0xe992e3;this[_0x56b576(0x24d)](),super['destroy']();}[_0xe992e3(0x24d)](){const _0x1e7820=_0xe992e3;this[_0x1e7820(0x188)][_0x1e7820(0x24d)](),this['unsubscribeHandler']&&this['unsubscribeHandler']();}['close'](){const _0x3114c8=_0xe992e3;this[_0x3114c8(0x587)]?.[_0x3114c8(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x3114c8(0x14a)],'label':this[_0x3114c8(0x3fc)]}});}async[_0xe992e3(0x93b)](_0x29674a){const _0x131ebc=_0xe992e3,{id:_0x633c47,parameters:_0x263935,jobType:_0x88738f}=_0x29674a,_0x233add={'id':_0x633c47,'jobType':_0x88738f,'parameters':_0x263935,'status':_0x981fb5[_0x131ebc(0x734)]['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x131ebc(0x188)]['has'](_0x233add['id']))throw new _0x3748ee(_0x2a0ddc[_0x131ebc(0x6fc)],_0x131ebc(0x78d)+_0x233add['id']+_0x131ebc(0x8f5));_0x233add[_0x131ebc(0x9c5)]=new Date(),_0x233add[_0x131ebc(0x623)]=new Date();const _0x52762f=new _0x148b31[(_0x131ebc(0x31f))]();this[_0x131ebc(0x188)][_0x131ebc(0x888)](_0x233add['id'],_0x233add),this[_0x131ebc(0xa20)][_0x131ebc(0x888)](_0x233add['id'],_0x52762f);try{const _0x37befc={'id':_0x233add['id'],'jobPhase':_0x46e818['Request'],'jobType':_0x233add[_0x131ebc(0x494)]},_0x331e30=0x3;let _0x5bdd19=0x0;const _0x580e51=async()=>{const _0x27efdd=_0x131ebc;_0x5bdd19+=0x1;try{_0xd64180[_0x27efdd(0x991)](_0x3c5ddd[_0x27efdd(0x6b5)],'Job\x20'+_0x233add['id']+_0x27efdd(0x1d9)+_0x5bdd19+'.',this[_0x27efdd(0x9d6)][_0x27efdd(0x48e)]()),await this[_0x27efdd(0x8dd)](_0x37befc),_0x233add[_0x27efdd(0x623)]=new Date(),this[_0x27efdd(0x188)][_0x27efdd(0x888)](_0x233add['id'],_0x233add),this[_0x27efdd(0x824)](_0x233add['id']);}catch(_0x324800){_0x5bdd19<_0x331e30?(_0xd64180[_0x27efdd(0x372)](_0x27efdd(0x2c9)+_0x5bdd19+_0x27efdd(0xa69)+_0x233add['id']+_0x27efdd(0x59f),{'nodeId':this['owner'][_0x27efdd(0x686)](),'nodeType':this[_0x27efdd(0x584)][_0x27efdd(0x689)],'data':{'job':_0x233add,'attempts':_0x5bdd19,'maxRetries':_0x331e30}}),setTimeout(_0x580e51,0x3e8)):(_0x233add['status']=_0x981fb5[_0x27efdd(0x734)][_0x27efdd(0x65e)],_0x233add[_0x27efdd(0x623)]=new Date(),this[_0x27efdd(0x188)][_0x27efdd(0x888)](_0x233add['id'],_0x233add),_0xd64180[_0x27efdd(0x77b)](_0x27efdd(0xaef)+_0x233add['id']+_0x27efdd(0x696)+_0x331e30+_0x27efdd(0x138),{'nodeId':this[_0x27efdd(0x584)][_0x27efdd(0x686)](),'nodeType':this[_0x27efdd(0x584)][_0x27efdd(0x689)],'data':{'job':_0x233add,'attempts':_0x5bdd19,'maxRetries':_0x331e30,'error':_0x324800}}));}};_0x580e51();const {id:_0x57a9f8}=_0x233add;this['logEvent'](_0x131ebc(0x43b)+_0x233add['id']+_0x131ebc(0x3f8),{'jobId':_0x57a9f8}),_0x233add['updated']=new Date();}catch(_0x586b33){_0x233add['status']=_0x981fb5[_0x131ebc(0x734)]['Failed'],_0xd64180[_0x131ebc(0x77b)](_0x131ebc(0xaef)+_0x233add['id']+':',{'nodeId':this[_0x131ebc(0x584)]['getId'](),'nodeType':this['owner'][_0x131ebc(0x689)],'data':{'job':_0x233add,'error':_0x586b33}});}return _0x52762f[_0x131ebc(0x1b7)]();}[_0xe992e3(0xa39)](_0x1c0305){const _0x88f83b=_0xe992e3,_0x3e5736=this[_0x88f83b(0x188)][_0x88f83b(0x6ab)](_0x1c0305);if(!_0x3e5736)throw new _0x3748ee(_0x2a0ddc[_0x88f83b(0x8db)],_0x88f83b(0x78d)+_0x1c0305+'\x20not\x20found.');return{'id':_0x3e5736['id'],'jobType':_0x3e5736[_0x88f83b(0x494)],'status':_0x3e5736[_0x88f83b(0x716)],'parameters':_0x3e5736[_0x88f83b(0xa76)]};}[_0xe992e3(0x7a5)](){const _0x554612=_0xe992e3;return Array[_0x554612(0x79e)](this[_0x554612(0x188)][_0x554612(0x992)]())[_0x554612(0x7db)](_0x23d701=>this[_0x554612(0xa39)](_0x23d701['id']));}async[_0xe992e3(0x61e)](_0x5d6b2a,_0x27664d){const _0x5b5695=_0xe992e3,_0x5228ec=this[_0x5b5695(0x188)][_0x5b5695(0x6ab)](_0x5d6b2a);if(!_0x5228ec)throw new _0x3748ee(_0x2a0ddc['JobDispatcherJobNotFound'],_0x5b5695(0x78d)+_0x5d6b2a+_0x5b5695(0x5b8));_0x5228ec[_0x5b5695(0xa76)]=_0x27664d,_0x5228ec[_0x5b5695(0x623)]=new Date(),this['jobs'][_0x5b5695(0x888)](_0x5d6b2a,_0x5228ec);}async[_0xe992e3(0xa7d)](_0x36eeb0){const _0x7fc520=_0xe992e3;if(!this[_0x7fc520(0x188)][_0x7fc520(0x5eb)](_0x36eeb0))throw new _0x3748ee(_0x2a0ddc['JobDispatcherJobNotFound'],_0x7fc520(0x78d)+_0x36eeb0+_0x7fc520(0x5b8));const _0x2c52d9=this[_0x7fc520(0xa20)][_0x7fc520(0x6ab)](_0x36eeb0);if(!_0x2c52d9)throw new _0xd907de(_0xd907de[_0x7fc520(0x386)][_0x7fc520(0x5d9)]);_0x2c52d9[_0x7fc520(0x6d8)](),this[_0x7fc520(0xa20)][_0x7fc520(0x5eb)](_0x36eeb0),_0xd64180[_0x7fc520(0x991)](_0x3c5ddd[_0x7fc520(0x6b5)],_0x7fc520(0x43b)+_0x36eeb0+_0x7fc520(0x6e6));}[_0xe992e3(0x40f)](_0x26f4f5,_0x26ab1f,_0x259f10){const _0x175783=_0xe992e3,_0x29df9f=this[_0x175783(0xa0b)][_0x175783(0x6ab)](_0x26ab1f)??new Map();_0x29df9f['set'](_0x26f4f5,[_0x259f10,Date[_0x175783(0x559)]()]),this[_0x175783(0xa0b)][_0x175783(0x888)](_0x26ab1f,_0x29df9f),this['evaluateBidsAndAttributeJob'](_0x26ab1f);}[_0xe992e3(0x824)](_0xa53df5){const _0x54d9f7=_0xe992e3,_0x2363b5=this[_0x54d9f7(0x188)]['get'](_0xa53df5);if(!_0x2363b5)throw new _0xd907de(_0xd907de[_0x54d9f7(0x386)][_0x54d9f7(0x8db)]);const _0x2d2e6e=setTimeout(()=>this[_0x54d9f7(0x4b8)](_0xa53df5,!0x0),0xbb8);_0x2363b5['responseTimeout']=_0x2d2e6e,this[_0x54d9f7(0x188)][_0x54d9f7(0x888)](_0x2363b5['id'],_0x2363b5);}[_0xe992e3(0x4b8)](_0x5a1342,_0x576131=!0x1){const _0x599e97=_0xe992e3,_0x4846ce=this[_0x599e97(0x9d6)][_0x599e97(0x48e)](),_0x5b015a=Array[_0x599e97(0x79e)](_0x4846ce['values']())[_0x599e97(0x1ee)](_0x379e19=>_0x379e19['type']===_0x981fb5['NodeType'][_0x599e97(0x2a4)]),_0x1626e7=this[_0x599e97(0xa0b)]['get'](_0x5a1342)??new Map();if(!_0x576131&&(!_0x1626e7||_0x1626e7[_0x599e97(0x73d)]<_0x5b015a[_0x599e97(0x756)]))return;const _0x1ee979=this[_0x599e97(0x188)]['get'](_0x5a1342);if(!_0x1ee979)throw new _0xd907de(_0xd907de[_0x599e97(0x386)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x1ee979[_0x599e97(0x600)]),_0xd64180[_0x599e97(0x991)](_0x3c5ddd[_0x599e97(0x6b5)],_0x599e97(0x43b)+_0x1ee979['id']+_0x599e97(0x665),_0x1626e7,this[_0x599e97(0xa0b)]),!_0x1626e7||0x0===_0x1626e7[_0x599e97(0x73d)]){_0x1ee979['status']=_0x981fb5[_0x599e97(0x734)]['Failed'],_0x1ee979[_0x599e97(0x623)]=new Date(),_0xd64180[_0x599e97(0x77b)](_0x599e97(0x43b)+_0x1ee979['id']+_0x599e97(0x863),{'nodeId':this[_0x599e97(0x584)]['getId'](),'nodeType':this[_0x599e97(0x584)][_0x599e97(0x689)],'data':{'job':_0x1ee979,'responses':_0x1626e7}});const _0x47d9fa=this[_0x599e97(0xa20)][_0x599e97(0x6ab)](_0x5a1342);if(!_0x47d9fa)throw new _0xd907de(_0xd907de[_0x599e97(0x386)]['JobDispatcherObserverNotFound']);const _0x58fe53='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x1debe4={'id':_0x1ee979['id'],'status':_0x1ee979[_0x599e97(0x716)],'message':_0x58fe53};return _0x47d9fa['next'](_0x1debe4),_0x47d9fa[_0x599e97(0x6d8)](),this[_0x599e97(0x188)][_0x599e97(0x888)](_0x1ee979['id'],_0x1ee979),void this[_0x599e97(0xa0b)][_0x599e97(0x5eb)](_0x5a1342);}const {nodeId:_0x15b871,response:_0x457638}=this[_0x599e97(0x918)](_0x1ee979['id'],_0x1626e7);_0x1ee979[_0x599e97(0x716)]=_0x981fb5['JobStatus'][_0x599e97(0x3ff)],_0x1ee979[_0x599e97(0x623)]=new Date(),_0xd64180['log'](_0x3c5ddd[_0x599e97(0x6b5)],'Job\x20'+_0x1ee979['id']+_0x599e97(0x896)+_0x15b871+'\x20with\x20response:',_0x457638);const _0x43094c={'id':_0x1ee979['id'],'jobType':_0x1ee979['jobType'],'jobPhase':_0x46e818[_0x599e97(0x39d)],'parameters':_0x1ee979[_0x599e97(0xa76)]};this[_0x599e97(0x8dd)](_0x43094c,[_0x15b871]),this[_0x599e97(0x188)][_0x599e97(0x888)](_0x1ee979['id'],_0x1ee979),this[_0x599e97(0xa0b)][_0x599e97(0x5eb)](_0x5a1342);}['evaluateBids'](_0x40a220,_0x4c97e2){const _0x1a096d=_0xe992e3;let _0x13f7e3;const _0x3d61a1=Array[_0x1a096d(0x79e)](_0x4c97e2[_0x1a096d(0x9c8)]())[_0x1a096d(0x1ee)](([,[_0x4f36d5]])=>_0x4f36d5[_0x1a096d(0x2ad)]);if(_0x13f7e3=_0x3d61a1[_0x1a096d(0x756)]>0x0?Array[_0x1a096d(0x79e)](_0x4c97e2[_0x1a096d(0x9c8)]())[_0x1a096d(0x1e4)]((_0xf3a845,_0x1b8394)=>_0x1b8394[0x1][0x0][_0x1a096d(0x427)]-_0xf3a845[0x1][0x0][_0x1a096d(0x427)]):Array[_0x1a096d(0x79e)](_0x4c97e2['entries']())['sort']((_0x238014,_0x1093f1)=>_0x238014[0x1][0x0]['queueLength']-_0x1093f1[0x1][0x0]['queueLength']),0x1===_0x13f7e3[_0x1a096d(0x756)])return{'nodeId':_0x13f7e3[0x0][0x0],'response':_0x13f7e3[0x0][0x1][0x0]};let _0x416b8d;if(_0x416b8d=_0x3d61a1[_0x1a096d(0x756)]>0x0?(_0x2c0d48=>{const _0x28e82d=_0x1a096d,_0x52da10=_0x2c0d48[0x0][0x1][0x0][_0x28e82d(0x427)];return _0x2c0d48[_0x28e82d(0x1ee)](([,[_0x16f0eb]])=>_0x16f0eb[_0x28e82d(0x427)]===_0x52da10);})(_0x13f7e3):(_0xd5ca6=>{const _0x2283da=_0x1a096d,_0x5779d5=_0xd5ca6[0x0][0x1][0x0][_0x2283da(0xae3)];return _0xd5ca6['filter'](([,[_0x7637f]])=>_0x7637f[_0x2283da(0xae3)]===_0x5779d5);})(_0x13f7e3),0x1===_0x416b8d[_0x1a096d(0x756)])return{'nodeId':_0x416b8d[0x0][0x0],'response':_0x416b8d[0x0][0x1][0x0]};const _0x351582=this['jobs']['get'](_0x40a220);if(!_0x351582)throw new _0xd907de(_0xd907de[_0x1a096d(0x386)][_0x1a096d(0x8db)]);const _0x314214=_0x351582['created']['getTime'](),_0x484025=_0x416b8d[_0x1a096d(0x7db)](([_0x10553d,[,_0x5e41e4]])=>({'nodeId':_0x10553d,'rtt':_0x5e41e4-_0x314214})),_0x46bcd3=Math['min'](..._0x484025[_0x1a096d(0x7db)](({rtt:_0x42a491})=>_0x42a491)),_0x757131=_0x484025['find'](({rtt:_0x13ce9b})=>_0x13ce9b===_0x46bcd3),[,[_0x1a5e8e]]=_0x416b8d[_0x1a096d(0xa57)](([_0x490d2d])=>_0x490d2d===_0x757131[_0x1a096d(0x500)]);return{'nodeId':_0x757131[_0x1a096d(0x500)],'response':_0x1a5e8e};}[_0xe992e3(0x489)](_0xf82abf,_0x4264b7){const _0x3222a9=_0xe992e3,_0x310f42=this[_0x3222a9(0x188)][_0x3222a9(0x6ab)](_0xf82abf);if(!_0x310f42)throw new _0xd907de(_0xd907de[_0x3222a9(0x386)][_0x3222a9(0x8db)]);const _0x11fc56=this[_0x3222a9(0xa20)]['get'](_0xf82abf);if(!_0x11fc56)throw new _0xd907de(_0xd907de[_0x3222a9(0x386)]['JobDispatcherObserverNotFound']);const _0x1972ad={'id':_0x310f42['id'],'status':_0x981fb5[_0x3222a9(0x734)][_0x3222a9(0x619)],'result':_0x4264b7[_0x3222a9(0x340)]};_0x11fc56['next'](_0x1972ad);}[_0xe992e3(0x6cb)](_0x1aa0ba,_0xa5c21f){const _0x2b9c02=_0xe992e3,_0x4c100f=this[_0x2b9c02(0x188)]['get'](_0x1aa0ba);if(!_0x4c100f)throw new _0xd907de(_0xd907de[_0x2b9c02(0x386)]['JobDispatcherJobNotFound']);const _0xc8beaa=this[_0x2b9c02(0xa20)][_0x2b9c02(0x6ab)](_0x1aa0ba);if(!_0xc8beaa)throw new _0xd907de(_0xd907de['codes'][_0x2b9c02(0x5d9)]);_0x4c100f[_0x2b9c02(0x716)]=_0x981fb5[_0x2b9c02(0x734)]['Completed'];const _0x2ddfd6={'id':_0x4c100f['id'],'status':_0x4c100f[_0x2b9c02(0x716)],'result':_0xa5c21f[_0x2b9c02(0x340)]};_0xc8beaa['next'](_0x2ddfd6),_0xc8beaa[_0x2b9c02(0x6d8)](),this[_0x2b9c02(0xa20)][_0x2b9c02(0x5eb)](_0x1aa0ba),this['logEvent']('Job\x20'+_0x1aa0ba+'\x20finalized.',{'jobId':_0x1aa0ba});}[_0xe992e3(0x8d1)](_0xaa9fb8,_0xae1b3c){const _0x57681d=_0xe992e3,_0x1b1dca=this[_0x57681d(0x188)][_0x57681d(0x6ab)](_0xaa9fb8);if(!_0x1b1dca)throw new _0xd907de(_0xd907de[_0x57681d(0x386)][_0x57681d(0x8db)]);const _0x5e5b11=this[_0x57681d(0xa20)][_0x57681d(0x6ab)](_0xaa9fb8);if(!_0x5e5b11)throw new _0xd907de(_0xd907de[_0x57681d(0x386)][_0x57681d(0x5d9)]);_0x1b1dca['status']=_0x981fb5[_0x57681d(0x734)][_0x57681d(0x65e)];const _0x1ef752={'id':_0x1b1dca['id'],'status':_0x1b1dca['status'],'message':_0xae1b3c};_0x5e5b11[_0x57681d(0x176)](_0x1ef752),_0x5e5b11[_0x57681d(0x6d8)](),this[_0x57681d(0xa20)][_0x57681d(0x5eb)](_0xaa9fb8),this[_0x57681d(0x3b3)](_0x57681d(0x43b)+_0xaa9fb8+_0x57681d(0x1ed),{'jobId':_0xaa9fb8});}[_0xe992e3(0x3b3)](_0xa282d8,{jobId:_0xf3d64a}){const _0x5232a2=_0xe992e3,_0x28c506={'jobId':_0xf3d64a,'mistletIds':Array[_0x5232a2(0x79e)](this[_0x5232a2(0x9d6)][_0x5232a2(0x48e)]()[_0x5232a2(0x992)]())[_0x5232a2(0x1ee)](_0x5a00ed=>_0x5a00ed[_0x5232a2(0x689)]===_0x981fb5[_0x5232a2(0x148)]['Agent'])['map'](_0x2d4bde=>_0x2d4bde['getId']())};_0xd64180[_0x5232a2(0x3b3)](_0xa282d8,{'nodeId':this[_0x5232a2(0x4a8)](),'nodeType':this[_0x5232a2(0x584)][_0x5232a2(0x689)],'data':_0x28c506}),_0xd64180[_0x5232a2(0x991)](_0x3c5ddd[_0x5232a2(0x6b5)],_0xa282d8,_0x28c506);}[_0xe992e3(0xa89)](_0x5944d8){const _0x33c1a6=_0xe992e3,{jobPhase:_0x327492,available:_0x48c2ba,bid:_0x2955d0}=_0x5944d8;return _0x327492===_0x46e818[_0x33c1a6(0x740)]&&void 0x0!==_0x48c2ba&&void 0x0!==_0x2955d0;}['isPartialResultResponse'](_0x1dae4a){const _0x1adb7e=_0xe992e3,{jobPhase:_0x5dee98,result:_0x2e684e}=_0x1dae4a;return _0x5dee98===_0x46e818[_0x1adb7e(0x6e8)]&&void 0x0!==_0x2e684e;}[_0xe992e3(0x978)](_0x4767ac){const {jobPhase:_0x56b291,result:_0x50d327}=_0x4767ac;return _0x56b291===_0x46e818['Result']&&void 0x0!==_0x50d327;}[_0xe992e3(0x78e)](_0xac6e47){const _0x3f9374=_0xe992e3,{jobPhase:_0x8b3393,message:_0x20fc23}=_0xac6e47;return _0x8b3393===_0x46e818[_0x3f9374(0x65e)]&&void 0x0!==_0x20fc23&&_0x3f9374(0xab7)==typeof _0x20fc23;}}var _0x56aeeb,_0x115e61,_0x3910,_0x1bcb29,_0x1a7421;!function(_0x20cb72){const _0x3ef6f4=_0xe992e3;_0x20cb72[_0x3ef6f4(0x38b)]=_0x3ef6f4(0x190),_0x20cb72[_0x3ef6f4(0x815)]=_0x3ef6f4(0x45b);}(_0x56aeeb||(_0x56aeeb={})),function(_0x213b4b){const _0x4b3a92=_0xe992e3;_0x213b4b[_0x4b3a92(0x2a4)]=_0x4b3a92(0x7e9),_0x213b4b[_0x4b3a92(0xab0)]=_0x4b3a92(0x3e9),_0x213b4b[_0x4b3a92(0x556)]=_0x4b3a92(0x67f),_0x213b4b[_0x4b3a92(0x805)]=_0x4b3a92(0x55a),_0x213b4b[_0x4b3a92(0x760)]=_0x4b3a92(0x8d3),_0x213b4b[_0x4b3a92(0x7bc)]='knowledge',_0x213b4b['Prompt']=_0x4b3a92(0x16a),_0x213b4b[_0x4b3a92(0x8b4)]=_0x4b3a92(0x129),_0x213b4b['Code']='code',_0x213b4b[_0x4b3a92(0x852)]=_0x4b3a92(0x30a),_0x213b4b[_0x4b3a92(0x69c)]=_0x4b3a92(0x74b),_0x213b4b[_0x4b3a92(0x233)]=_0x4b3a92(0x321),_0x213b4b['WebScraper']=_0x4b3a92(0x13d),_0x213b4b['WebScraperRaw']=_0x4b3a92(0x3b5),_0x213b4b[_0x4b3a92(0x60f)]=_0x4b3a92(0x702),_0x213b4b[_0x4b3a92(0x21d)]=_0x4b3a92(0x910),_0x213b4b[_0x4b3a92(0x93a)]=_0x4b3a92(0xa30),_0x213b4b[_0x4b3a92(0x208)]=_0x4b3a92(0xaaa),_0x213b4b['WordSplitter']=_0x4b3a92(0x879),_0x213b4b[_0x4b3a92(0x9a3)]=_0x4b3a92(0x3fb),_0x213b4b[_0x4b3a92(0x7a0)]='input-audio-stream',_0x213b4b[_0x4b3a92(0x1ac)]=_0x4b3a92(0x597),_0x213b4b[_0x4b3a92(0x6bb)]=_0x4b3a92(0x833);}(_0x115e61||(_0x115e61={})),function(_0x11dd20){const _0x37ada7=_0xe992e3;_0x11dd20[_0x37ada7(0x4ad)]=_0x37ada7(0xa1e),_0x11dd20[_0x37ada7(0xa49)]=_0x37ada7(0x17f),_0x11dd20[_0x37ada7(0x9a3)]=_0x37ada7(0x3fb),_0x11dd20[_0x37ada7(0x93a)]=_0x37ada7(0xa30),_0x11dd20[_0x37ada7(0x99b)]=_0x37ada7(0x879),_0x11dd20['SentenceSplitter']=_0x37ada7(0xaaa),_0x11dd20[_0x37ada7(0x911)]=_0x37ada7(0x9a5),_0x11dd20[_0x37ada7(0x93d)]=_0x37ada7(0x361),_0x11dd20['Reranker']=_0x37ada7(0x445),_0x11dd20[_0x37ada7(0x5de)]=_0x37ada7(0x6c9),_0x11dd20[_0x37ada7(0x2a4)]=_0x37ada7(0x7e9),_0x11dd20[_0x37ada7(0x74a)]=_0x37ada7(0x190),_0x11dd20['KeyValueDatabase']=_0x37ada7(0x86b),_0x11dd20[_0x37ada7(0x9e7)]=_0x37ada7(0x96d),_0x11dd20[_0x37ada7(0x663)]=_0x37ada7(0x6a7),_0x11dd20[_0x37ada7(0x3d0)]=_0x37ada7(0x16a),_0x11dd20[_0x37ada7(0x440)]=_0x37ada7(0xa86),_0x11dd20['Upload']='upload',_0x11dd20['Embed']=_0x37ada7(0x5d3);}(_0x3910||(_0x3910={})),function(_0x40e39b){const _0x1ce610=_0xe992e3;_0x40e39b[_0x1ce610(0x9d1)]=_0x1ce610(0x566),_0x40e39b[_0x1ce610(0x722)]='text',_0x40e39b['Image']=_0x1ce610(0x5a9),_0x40e39b[_0x1ce610(0x1a6)]=_0x1ce610(0x1fb),_0x40e39b[_0x1ce610(0x838)]=_0x1ce610(0x9a6),_0x40e39b[_0x1ce610(0x79a)]=_0x1ce610(0x585),_0x40e39b[_0x1ce610(0x92c)]=_0x1ce610(0x151),_0x40e39b[_0x1ce610(0x567)]=_0x1ce610(0x25b),_0x40e39b[_0x1ce610(0x69c)]=_0x1ce610(0x74b),_0x40e39b[_0x1ce610(0xa92)]=_0x1ce610(0x369),_0x40e39b[_0x1ce610(0x7be)]=_0x1ce610(0x4e5),_0x40e39b[_0x1ce610(0x440)]='context',_0x40e39b[_0x1ce610(0x834)]=_0x1ce610(0xa47),_0x40e39b[_0x1ce610(0x4a2)]=_0x1ce610(0xa6b),_0x40e39b['WaitFalse']=_0x1ce610(0x6fe);}(_0x1bcb29||(_0x1bcb29={})),function(_0x4e1442){const _0x59236e=_0xe992e3;_0x4e1442['Shared']=_0x59236e(0x37d),_0x4e1442[_0x59236e(0x606)]='account',_0x4e1442['Dedicated']=_0x59236e(0x315);}(_0x1a7421||(_0x1a7421={}));const _0xc1e522=[{'type':_0x115e61['Router'],'id':_0xe992e3(0x462),'name':_0xe992e3(0x2d2),'description':_0xe992e3(0x488),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x574),'grammar':'if_else','temperature':0x0,'maxTokens':0x64}],_0x13d4a1=[{'type':_0x115e61[_0xe992e3(0x2a4)],'id':_0xe992e3(0x581),'name':_0xe992e3(0x6ef),'description':'','modelId':_0xe992e3(0x139),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':_0xe992e3(0x667),'name':_0xe992e3(0x93f),'description':_0xe992e3(0x69d),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x728),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':_0xe992e3(0x704),'name':_0xe992e3(0xa06),'description':_0xe992e3(0x53f),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x8d6),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61['Agent'],'id':_0xe992e3(0x7bb),'name':_0xe992e3(0x8c8),'description':_0xe992e3(0x1a3),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x94c),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':_0xe992e3(0x4bb),'name':'Learning\x20Agent','description':_0xe992e3(0x272),'modelId':_0xe992e3(0x139),'instructions':'Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':_0xe992e3(0x9b1),'name':_0xe992e3(0x79c),'description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':'gpt-4.1-nano','instructions':_0xe992e3(0x8f8),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61['Agent'],'id':_0xe992e3(0x3f4),'name':_0xe992e3(0x9f9),'description':_0xe992e3(0x26c),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x83d),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61['Agent'],'id':_0xe992e3(0x79d),'name':'Strategizing\x20Agent','description':'Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x82c),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':'summary-generator','name':'Summary\x20Generator','description':'Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','modelId':_0xe992e3(0x139),'instructions':'Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':_0xe992e3(0x289),'name':_0xe992e3(0x592),'description':_0xe992e3(0x6c8),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x33f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':'trend-spotter','name':_0xe992e3(0x234),'description':_0xe992e3(0x6bd),'modelId':'gpt-4.1-nano','instructions':_0xe992e3(0x3a9),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x115e61[_0xe992e3(0x2a4)],'id':'copywriter-agent','name':_0xe992e3(0x1f3),'description':_0xe992e3(0x738),'modelId':_0xe992e3(0x139),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0xe992e3(0xa0e),'name':_0xe992e3(0x82d),'description':'Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x4a4),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0xe992e3(0x8ba),'name':_0xe992e3(0x198),'description':_0xe992e3(0x819),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0x306),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0xe992e3(0x798),'name':_0xe992e3(0x68b),'description':_0xe992e3(0x2d0),'modelId':_0xe992e3(0x139),'instructions':_0xe992e3(0xa28),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x9a3700{static [_0xe992e3(0x6d6)];constructor(){}static[_0xe992e3(0x9f1)](){const _0x14961e=_0xe992e3;return _0x9a3700[_0x14961e(0x6d6)]||(_0x9a3700[_0x14961e(0x6d6)]=new _0x9a3700()),_0x9a3700[_0x14961e(0x6d6)];}async[_0xe992e3(0xa5c)](_0x511fab,_0x2b9222){const _0x503666=_0xe992e3,_0x5364c1=await(0x0,_0x3d2491[_0x503666(0x57c)])((0x0,_0x3d2491[_0x503666(0x6f7)])(_0x57cb7d[_0x503666(0x928)](),_0x503666(0xae1)+_0x511fab+_0x503666(0x736)+_0x2b9222)),_0x575d8f=await this[_0x503666(0x907)](_0x511fab),_0x55f329=await this[_0x503666(0x5c0)](_0x511fab),_0x5c45ec=await this[_0x503666(0x589)](_0x511fab);if(!_0x5364c1['exists']())throw new _0xd907de(_0xd907de['codes']['WorkflowDoesNotExist']);return this[_0x503666(0x713)](_0x5364c1,_0x575d8f,_0x55f329,_0x5c45ec);}async[_0xe992e3(0x589)](_0xb1ce3c){const _0x476e2d=_0xe992e3;return(await(0x0,_0x3d2491['getDocs'])((0x0,_0x3d2491[_0x476e2d(0x9d9)])(_0x57cb7d[_0x476e2d(0x928)](),'/developers/'+_0xb1ce3c+_0x476e2d(0xa08))))[_0x476e2d(0x1bc)]['map'](_0x47151a=>{const _0x4395bd=_0x476e2d,_0x29725b=_0x47151a[_0x4395bd(0x9a6)]();return{'type':_0x115e61[_0x4395bd(0x760)],'id':_0x47151a['id'],'name':_0x29725b[_0x4395bd(0x758)],'description':_0x29725b[_0x4395bd(0x544)],'storageType':_0x29725b[_0x4395bd(0x4b2)]??_0x981fb5[_0x4395bd(0x9e9)][_0x4395bd(0x3a4)],'hosting':_0x29725b[_0x4395bd(0xaf2)]??_0x1a7421[_0x4395bd(0x89d)],'modelId':_0x29725b[_0x4395bd(0xad5)]??'text-embedding-3-small','ingestBlocks':_0x29725b[_0x4395bd(0x880)],'retrieveBlocks':_0x29725b[_0x4395bd(0x210)]};});}async[_0xe992e3(0xa2f)](_0x7b1e1a,_0x466753){const _0xf5116a=_0xe992e3,_0x537cfc=await(0x0,_0x3d2491[_0xf5116a(0x57c)])((0x0,_0x3d2491[_0xf5116a(0x6f7)])(_0x57cb7d['getFirestore'](),_0xf5116a(0xae1)+_0x7b1e1a+_0xf5116a(0x618)+_0x466753)),_0x541bdc=await this['getAgents'](_0x7b1e1a),_0x3d1ffd=_0x537cfc[_0xf5116a(0x9a6)]();if(!_0x3d1ffd)throw new _0xd907de(_0xd907de[_0xf5116a(0x386)][_0xf5116a(0x787)]);return{'type':_0x115e61[_0xf5116a(0x760)],'id':_0x466753,'uid':_0x466753,'name':_0x3d1ffd['name'],'description':_0x3d1ffd[_0xf5116a(0x544)],'storageType':_0x3d1ffd[_0xf5116a(0x4b2)]??_0x981fb5['GenerativeAIRagType']['Pinecone'],'hosting':_0x3d1ffd[_0xf5116a(0xaf2)]??_0x1a7421['Dedicated'],'modelId':_0x3d1ffd['modelId']??_0xf5116a(0x54b),'ingestBlocks':this[_0xf5116a(0x5ee)](_0x3d1ffd[_0xf5116a(0x880)],_0x541bdc),'retrieveBlocks':this[_0xf5116a(0x5ee)](_0x3d1ffd['retrieveBlocks'],_0x541bdc),'links':[]};}['parseWorkflowDocument'](_0x19f321,_0x35967c,_0x288583,_0x2efe94){const _0x301ef7=_0xe992e3,_0x3f57d2=_0x19f321[_0x301ef7(0x9a6)]();if(!_0x3f57d2)throw new _0xd907de(_0xd907de[_0x301ef7(0x386)][_0x301ef7(0x5c5)]);const _0x38a4e1=this[_0x301ef7(0x762)](_0x3f57d2[_0x301ef7(0x6e1)],_0x35967c,_0x288583,_0x2efe94);return{'id':_0x19f321['id'],'name':_0x3f57d2['name'],'description':_0x3f57d2[_0x301ef7(0x544)],'blocks':_0x38a4e1,'dataBucketIds':this[_0x301ef7(0x507)](_0x38a4e1),'externalStorageConnectionIds':this[_0x301ef7(0x1a9)](_0x38a4e1),'initialPrompt':_0x3f57d2[_0x301ef7(0x36a)]};}[_0xe992e3(0x507)](_0x2a7a24){const _0x2a251c=_0xe992e3,_0x50c492=new Set();for(const _0x2f8a92 of _0x2a7a24)switch(_0x2f8a92[_0x2a251c(0x689)]){case _0x115e61[_0x2a251c(0x7bc)]:case _0x115e61['DataCollection']:for(const _0x1c642c of[..._0x2f8a92['ingestBlocks'],..._0x2f8a92[_0x2a251c(0x210)]])_0x1c642c['type']===_0x3910[_0x2a251c(0x4ad)]&&_0x50c492[_0x2a251c(0x820)](_0x1c642c['id']);}return Array[_0x2a251c(0x79e)](_0x50c492);}[_0xe992e3(0x1a9)](_0x48d091){const _0x14a984=_0xe992e3,_0x27ac53=new Set();for(const _0x33d8ab of _0x48d091)switch(_0x33d8ab[_0x14a984(0x689)]){case _0x115e61['Knowledge']:case _0x115e61[_0x14a984(0x760)]:for(const _0x70b59f of[..._0x33d8ab[_0x14a984(0x880)],..._0x33d8ab['retrieveBlocks']])_0x70b59f[_0x14a984(0x689)]===_0x3910['ExternalStorageUpload']&&_0x27ac53[_0x14a984(0x820)](_0x70b59f['id']);}return Array[_0x14a984(0x79e)](_0x27ac53);}['parseWorkflowBlocks'](_0x27f4d9,_0x23324c,_0x1b74f4,_0x65ff09){const _0xd986ea=_0xe992e3;return _0x27f4d9[_0xd986ea(0x7db)](_0x16321b=>{const _0x4a50df=_0xd986ea;switch(_0x16321b['type']){case _0x115e61[_0x4a50df(0x2a4)]:case _0x115e61['AgentSkill']:case _0x115e61['Router']:const _0x3d7812=_0x23324c[_0x4a50df(0xa57)](_0x2ec4e9=>_0x2ec4e9['id']===_0x16321b['id']);if(!_0x3d7812)throw new _0xd907de(_0xd907de[_0x4a50df(0x386)]['WorkflowInvalidBlockType'],{'block':_0x16321b});return{'type':_0x115e61[_0x4a50df(0x2a4)],'id':_0x3d7812['id'],'uid':_0x16321b[_0x4a50df(0x6b3)],'name':_0x3d7812['name'],'description':_0x3d7812[_0x4a50df(0x544)],'instructions':(_0x3d7812[_0x4a50df(0x23e)]+'\x0a\x0a'+(_0x16321b['agent']?.[_0x4a50df(0x199)]??''))[_0x4a50df(0x48c)](),'contextOutputVariable':_0x16321b[_0x4a50df(0x7e9)]?.[_0x4a50df(0x727)],'contextInputVariable':_0x16321b[_0x4a50df(0x7e9)]?.[_0x4a50df(0x7b3)],'reasoning':_0x16321b['agent']?.['reasoning']??!0x1,'grammar':_0x16321b['agent']?.[_0x4a50df(0x133)]??_0x4a50df(0x479),'temperature':_0x16321b[_0x4a50df(0x7e9)]?.[_0x4a50df(0x2b7)]??0.5,'maxTokens':_0x16321b[_0x4a50df(0x7e9)]?.[_0x4a50df(0x67d)]??0x1f4,'modelId':_0x16321b['agent']?.[_0x4a50df(0xad5)]??'gpt-4o-mini','links':_0x16321b['links']};case _0x115e61['Knowledge']:case _0x115e61[_0x4a50df(0x760)]:const _0x4bfa26=_0x65ff09[_0x4a50df(0xa57)](_0x5232c3=>_0x5232c3['id']===_0x16321b['id']);if(!_0x4bfa26)throw new _0xd907de(_0xd907de[_0x4a50df(0x386)][_0x4a50df(0x842)],{'block':_0x16321b});return{'type':_0x16321b[_0x4a50df(0x689)],'id':_0x4bfa26['id'],'uid':_0x16321b[_0x4a50df(0x6b3)],'name':_0x4bfa26['name'],'description':_0x4bfa26[_0x4a50df(0x544)],'ingestBlocks':this[_0x4a50df(0x5ee)](_0x4bfa26[_0x4a50df(0x880)],_0x23324c),'retrieveBlocks':this[_0x4a50df(0x5ee)](_0x4bfa26[_0x4a50df(0x210)],_0x23324c),'links':_0x16321b[_0x4a50df(0x577)]};case _0x115e61[_0x4a50df(0x805)]:return{'type':_0x16321b[_0x4a50df(0x689)],'id':_0x16321b['id'],'uid':_0x16321b[_0x4a50df(0x6b3)],'name':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x758)],'description':_0x16321b[_0x4a50df(0x4e5)]['description'],'parameters':_0x16321b[_0x4a50df(0x4e5)]['parameters'],'endpointUrl':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x73c)],'endpointMethod':_0x16321b[_0x4a50df(0x4e5)]['endpointMethod'],'headers':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x49f)],'queryParameters':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x583)],'bodyParameters':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x324)],'contextOutputVariable':_0x16321b[_0x4a50df(0x4e5)]['contextOutputVariable'],'links':_0x16321b[_0x4a50df(0x577)]};case _0x115e61['FormSkill']:return{'type':_0x16321b['type'],'id':_0x16321b['id'],'uid':_0x16321b['uid'],'name':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x758)],'description':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x544)],'questions':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x2ff)][_0x4a50df(0x7db)](_0x14f56a=>({'id':_0x14f56a['id'],'question':_0x14f56a[_0x4a50df(0x758)],'validation':_0x14f56a[_0x4a50df(0x299)],'required':'true'===_0x14f56a['required'],'format':_0x14f56a[_0x4a50df(0x63a)]})),'contextOutputVariable':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x727)],'links':_0x16321b[_0x4a50df(0x577)]};case _0x115e61['AiSearch']:return{'type':_0x16321b['type'],'id':_0x16321b['id'],'uid':_0x16321b[_0x4a50df(0x6b3)],'modelId':_0x16321b['tool'][_0x4a50df(0xad5)]??'sonar','links':_0x16321b[_0x4a50df(0x577)]};case _0x115e61[_0x4a50df(0x6bb)]:const _0x501e94=_0x1b74f4[_0x4a50df(0xa57)](_0x2e7e42=>_0x2e7e42['id']===_0x16321b['id']);if(!_0x501e94)throw new _0xd907de(_0xd907de[_0x4a50df(0x386)][_0x4a50df(0x842)],{'block':_0x16321b});return{'type':_0x16321b['type'],'id':_0x16321b['id'],'uid':_0x16321b[_0x4a50df(0x6b3)],'name':_0x501e94[_0x4a50df(0x758)],'description':_0x501e94[_0x4a50df(0x544)],'workflowId':_0x501e94['id'],'async':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x335)],'contextOutputVariable':_0x16321b[_0x4a50df(0x4e5)][_0x4a50df(0x727)],'contextInputVariable':_0x16321b[_0x4a50df(0x4e5)]['contextInputVariable'],'links':_0x16321b['links']};case _0x115e61[_0x4a50df(0x3d0)]:case _0x115e61[_0x4a50df(0x7a0)]:case _0x115e61['Answer']:case _0x115e61[_0x4a50df(0x1ac)]:case _0x115e61[_0x4a50df(0x243)]:case _0x115e61[_0x4a50df(0x69c)]:case _0x115e61[_0x4a50df(0x217)]:case _0x115e61['WebScraperRaw']:case _0x115e61[_0x4a50df(0x60f)]:case _0x115e61['WriteFile']:case _0x115e61[_0x4a50df(0x208)]:case _0x115e61[_0x4a50df(0x9a3)]:return{'type':_0x16321b[_0x4a50df(0x689)],'id':_0x16321b['id'],'uid':_0x16321b[_0x4a50df(0x6b3)],'links':_0x16321b[_0x4a50df(0x577)]};case _0x115e61['ChunkSplitter']:case _0x115e61[_0x4a50df(0x99b)]:return{'type':_0x16321b['type'],'id':_0x16321b['id'],'uid':_0x16321b[_0x4a50df(0x6b3)],'links':_0x16321b['links'],'attributes':_0x16321b[_0x4a50df(0x3d8)]};default:throw new _0xd907de(_0xd907de['codes']['WorkflowInvalidBlockType'],{'block':_0x16321b});}});}[_0xe992e3(0x5ee)](_0x152d33,_0x5112bb){const _0x547dd6=_0xe992e3;return _0x152d33?_0x152d33[_0x547dd6(0x7db)](_0x4f7e96=>{const _0x4bdf74=_0x547dd6;switch(_0x4f7e96[_0x4bdf74(0x689)]){case _0x3910[_0x4bdf74(0x2a4)]:const _0x3db48a=_0x5112bb[_0x4bdf74(0xa57)](_0x5ba345=>_0x5ba345['id']===_0x4f7e96['id']);if(!_0x3db48a)throw new _0xd907de(_0xd907de[_0x4bdf74(0x386)][_0x4bdf74(0x842)],{'block':_0x4f7e96});return{'type':_0x4f7e96[_0x4bdf74(0x689)],'id':_0x4f7e96['id'],'uid':_0x4f7e96[_0x4bdf74(0x6b3)],'description':_0x3db48a[_0x4bdf74(0x544)],'instructions':(_0x3db48a[_0x4bdf74(0x23e)]+'\x0a\x0a'+(_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0x199)]??''))[_0x4bdf74(0x48c)](),'contextOutputVariable':_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0x727)],'contextInputVariable':_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0x7b3)],'reasoning':_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0x314)]??!0x1,'grammar':_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0x133)]??_0x4bdf74(0x479),'temperature':_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0x2b7)]??0.5,'maxTokens':_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0x67d)]??0x1f4,'modelId':_0x4f7e96[_0x4bdf74(0x7e9)]?.[_0x4bdf74(0xad5)]??_0x4bdf74(0x2b1),'links':_0x4f7e96[_0x4bdf74(0x577)]};case _0x3910[_0x4bdf74(0x663)]:case _0x3910[_0x4bdf74(0x9e7)]:case _0x3910[_0x4bdf74(0x99b)]:case _0x3910[_0x4bdf74(0x93a)]:case _0x3910['EntityExtractor']:case _0x3910[_0x4bdf74(0x1ec)]:return{'type':_0x4f7e96['type'],'id':_0x4f7e96['id'],'uid':_0x4f7e96[_0x4bdf74(0x6b3)],'links':_0x4f7e96[_0x4bdf74(0x577)],'attributes':_0x4f7e96[_0x4bdf74(0x3d8)]};case _0x3910['Model']:case _0x3910[_0x4bdf74(0x74a)]:case _0x3910[_0x4bdf74(0xad3)]:case _0x3910[_0x4bdf74(0x911)]:case _0x3910[_0x4bdf74(0x9a3)]:case _0x3910[_0x4bdf74(0x208)]:case _0x3910[_0x4bdf74(0x4ad)]:case _0x3910['ExternalStorageUpload']:case _0x3910[_0x4bdf74(0x440)]:case _0x3910['Prompt']:case _0x3910[_0x4bdf74(0xa6e)]:case _0x3910[_0x4bdf74(0x29f)]:return{'type':_0x4f7e96[_0x4bdf74(0x689)],'id':_0x4f7e96['id'],'uid':_0x4f7e96[_0x4bdf74(0x6b3)],'links':_0x4f7e96[_0x4bdf74(0x577)]};default:throw new _0xd907de(_0xd907de['codes']['WorkflowInvalidBlockType'],{'block':_0x4f7e96});}}):[];}async[_0xe992e3(0x907)](_0x38bf5e){const _0x4828d3=_0xe992e3,_0x562203=(await(0x0,_0x3d2491[_0x4828d3(0x943)])((0x0,_0x3d2491[_0x4828d3(0x9d9)])(_0x57cb7d[_0x4828d3(0x928)](),'/developers/'+_0x38bf5e+'/resources/generative-ai-agent/items')))['docs']['map'](_0x343a4d=>{const _0x4e6834=_0x4828d3,_0x49c870=_0x343a4d['data']();return{'type':_0x115e61[_0x4e6834(0x2a4)],'id':_0x343a4d['id'],'name':_0x49c870['name'],'description':_0x49c870[_0x4e6834(0x544)],'instructions':_0x49c870[_0x4e6834(0x23e)]};});return _0x562203[_0x4828d3(0xae7)](..._0xc1e522),_0x562203[_0x4828d3(0xae7)](..._0x13d4a1),_0x562203;}async['getWorkflows'](_0x30f983){const _0x3c8bfc=_0xe992e3;return(await(0x0,_0x3d2491[_0x3c8bfc(0x943)])((0x0,_0x3d2491[_0x3c8bfc(0x9d9)])(_0x57cb7d[_0x3c8bfc(0x928)](),_0x3c8bfc(0xae1)+_0x30f983+_0x3c8bfc(0x9e5))))[_0x3c8bfc(0x1bc)]['map'](_0x46a64c=>{const _0x456128=_0x3c8bfc,_0x540d54=_0x46a64c['data']();return{'id':_0x46a64c['id'],'name':_0x540d54['name'],'description':_0x540d54[_0x456128(0x544)]};});}}const _0x4cfee1=_0x9a3700['getInstance']();class _0x5c10ef extends _0x43c04a{[_0xe992e3(0x71d)];[_0xe992e3(0x3ea)];['prompts']=0x0;['tokens']=0x0;[_0xe992e3(0x203)];constructor(_0x408c74,_0x22434b,_0x53081a,_0x5a6126){const _0x1bf6c7=_0xe992e3;super(_0x408c74,_0x22434b,_0x5a6126),this[_0x1bf6c7(0x71d)]=_0x408c74,this[_0x1bf6c7(0x3ea)]=_0x53081a,this[_0x1bf6c7(0x5d4)]();}['destroy'](){const _0x4b3c42=_0xe992e3;this[_0x4b3c42(0x203)]&&(clearTimeout(this['debounceStats']),delete this[_0x4b3c42(0x203)]),super[_0x4b3c42(0x551)]();}['reset'](){const _0xaadcb8=_0xe992e3;this[_0xaadcb8(0x7ed)]=0x0,this[_0xaadcb8(0x157)]=0x0,this[_0xaadcb8(0x5d4)](),super['reset']();}[_0xe992e3(0x5b2)](_0x438414){const _0x5a21e0=_0xe992e3,_0xe7ee26=_0x5a21e0(0x206)+(0x0,_0x2860a6['v4'])();let _0x2ecb19=!0x1;const _0x246aa9=()=>{const _0x477e48=_0x5a21e0;if(_0x2ecb19)throw new _0xd907de(_0xd907de[_0x477e48(0x386)][_0x477e48(0x65c)]);_0x2ecb19=!0x0;};switch(_0x438414[_0x5a21e0(0x689)]){case _0x5a21e0(0x250):case'collection-delete':case _0x5a21e0(0x96b):case _0x5a21e0(0x5be):case _0x5a21e0(0x76f):case _0x5a21e0(0x8a1):case _0x5a21e0(0x8a1):case'file-list':case _0x5a21e0(0x8dc):case _0x5a21e0(0x61f):case _0x5a21e0(0xafd):case'embed':return{'id':_0xe7ee26,..._0x438414,'run':()=>(_0x246aa9(),this[_0x5a21e0(0x8d4)](_0xe7ee26,_0x438414))};case _0x5a21e0(0xb18):case _0x5a21e0(0x16a):const _0x5b99c1=()=>(_0x246aa9(),this['run'](_0xe7ee26,_0x438414)),_0x5b1d1e=()=>(_0x246aa9(),this[_0x5a21e0(0x50d)](_0xe7ee26,_0x438414));return{'id':_0xe7ee26,'options':{'threadId':_0x5a21e0(0x7dd)+(0x0,_0x2860a6['v4'])()},..._0x438414,'run':_0x5b99c1,'stream':_0x5b1d1e};default:throw new Error('Invalid\x20job\x20type');}}async[_0xe992e3(0x8d4)](_0x585146,_0x4bf0af){const _0x2f6a8a=_0xe992e3;if(_0x2f6a8a(0xb18)===_0x4bf0af[_0x2f6a8a(0x689)]||_0x2f6a8a(0x16a)===_0x4bf0af[_0x2f6a8a(0x689)])throw new _0x3748ee(_0x2a0ddc[_0x2f6a8a(0x829)],_0x2f6a8a(0x7fb));const _0x19818c={'threadId':_0x2f6a8a(0x7dd)+(0x0,_0x2860a6['v4'])(),..._0x4bf0af},_0x69e563=await this[_0x2f6a8a(0x401)](_0x585146,_0x981fb5['JobType'][_0x2f6a8a(0x451)],_0x19818c);return new Promise((_0xac0212,_0x1ae4a8)=>{const _0x4481f2=_0x2f6a8a;let _0x8f814f;const _0x4d2e96=_0x69e563[_0x4481f2(0x60c)]({'next':_0x12bfb9=>{const _0x304bc2=_0x4481f2;switch(_0x12bfb9[_0x304bc2(0x716)]){case _0x981fb5[_0x304bc2(0x734)]['Completed']:clearTimeout(_0x8f814f),_0xac0212(_0x12bfb9[_0x304bc2(0x340)]),_0x4d2e96[_0x304bc2(0x4c0)]();break;case _0x981fb5[_0x304bc2(0x734)][_0x304bc2(0x65e)]:clearTimeout(_0x8f814f),_0x1ae4a8(new _0xd907de(_0xd907de['codes'][_0x304bc2(0x16e)],{'updatedJob':_0x12bfb9})),_0x4d2e96[_0x304bc2(0x4c0)]();}},'error':_0x161d91=>{const _0x6e03c0=_0x4481f2;clearTimeout(_0x8f814f),_0x1ae4a8(new _0xd907de(_0xd907de['codes']['GenerativeAIContextJobFailed'],{'err':_0x161d91})),_0x4d2e96[_0x6e03c0(0x4c0)]();}});_0x8f814f=setTimeout(()=>{const _0x440a93=_0x4481f2;_0x1ae4a8(new _0xd907de(_0xd907de[_0x440a93(0x386)][_0x440a93(0x92e)])),_0x4d2e96[_0x440a93(0x4c0)]();},_0x5c29b3);});}async['run'](_0x39a0c7,_0x488c34){const _0x45e6fd=_0xe992e3,_0x5837de=await this[_0x45e6fd(0x401)](_0x39a0c7,_0x981fb5[_0x45e6fd(0x4f9)][_0x45e6fd(0x451)],_0x488c34);return new Promise((_0xf15eec,_0x213525)=>{let _0x147aec;const _0x125236=_0x5837de['subscribe']({'next':_0x362cd5=>{const _0x8e603f=a0_0xca1a;switch(_0x362cd5[_0x8e603f(0x716)]){case _0x981fb5[_0x8e603f(0x734)][_0x8e603f(0x83a)]:if(_0x8e603f(0x16a)!==_0x362cd5[_0x8e603f(0x340)][_0x8e603f(0x689)])return;const _0xceb378=_0x362cd5[_0x8e603f(0x340)][_0x8e603f(0x9be)]??0x0;this['logServiceEvent'](_0x488c34['prompt'],_0xceb378),clearTimeout(_0x147aec),_0xf15eec(_0x362cd5['result']),_0x125236[_0x8e603f(0x4c0)](),this['prompts']+=0x1,this[_0x8e603f(0x157)]+=_0xceb378,this['sendStats']();break;case _0x981fb5['JobStatus'][_0x8e603f(0x65e)]:clearTimeout(_0x147aec),_0x213525(new _0xd907de(_0xd907de[_0x8e603f(0x386)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x362cd5})),_0x125236[_0x8e603f(0x4c0)](),this[_0x8e603f(0x5d4)]();}},'error':_0x1782d3=>{const _0x5ed568=a0_0xca1a;clearTimeout(_0x147aec),_0x213525(new _0xd907de(_0xd907de[_0x5ed568(0x386)][_0x5ed568(0x16e)],{'err':_0x1782d3})),_0x125236[_0x5ed568(0x4c0)]();}});_0x147aec=setTimeout(()=>{const _0x4fe09f=a0_0xca1a;_0x213525(new _0xd907de(_0xd907de[_0x4fe09f(0x386)]['GenerativeAIContextJobTimeout'])),_0x125236[_0x4fe09f(0x4c0)]();},_0x5c29b3);});}async*[_0xe992e3(0x50d)](_0x4db3a9,_0x1bbbea){const _0x124b1e=_0xe992e3,_0x51c574=await this[_0x124b1e(0x401)](_0x4db3a9,_0x981fb5[_0x124b1e(0x4f9)][_0x124b1e(0x66e)],_0x1bbbea);let _0x484af8,_0x142350,_0x279896=!0x1,_0x42bcb3=0x0;const _0x5216cd=[],_0x5c2bf6=new Map();let _0x1ae7d8=null;const _0x15fe92=()=>{_0x1ae7d8&&(_0x1ae7d8(),_0x1ae7d8=null);},_0x16b791=_0x561665=>{const _0x17c019=_0x124b1e;_0x279896=!0x0,_0x15fe92(),_0xe3305f[_0x17c019(0x4c0)](),_0x142350=_0x561665;},_0xe3305f=_0x51c574[_0x124b1e(0x60c)]({'next':async _0x167623=>{const _0x4f3837=_0x124b1e;switch(_0x167623[_0x4f3837(0x716)]){case _0x981fb5[_0x4f3837(0x734)]['Partial']:if(_0x4f3837(0x16a)!==_0x167623[_0x4f3837(0x340)][_0x4f3837(0x689)])return;if(void 0x0!==_0x167623[_0x4f3837(0x340)][_0x4f3837(0x545)]){if(void 0x0===_0x167623[_0x4f3837(0x340)][_0x4f3837(0x369)])return void _0x16b791(_0xd907de[_0x4f3837(0x386)][_0x4f3837(0x538)]);_0x42bcb3===_0x167623[_0x4f3837(0x340)][_0x4f3837(0x369)]?(_0x5216cd[_0x4f3837(0xae7)](_0x167623[_0x4f3837(0x340)]),_0x42bcb3++,((()=>{const _0xa90828=_0x4f3837;for(;_0x5c2bf6[_0xa90828(0x64b)](_0x42bcb3);)_0x5216cd[_0xa90828(0xae7)](_0x5c2bf6['get'](_0x5216cd[_0xa90828(0x756)])),_0x5c2bf6[_0xa90828(0x5eb)](_0x5216cd[_0xa90828(0x756)]),_0x42bcb3++;})()),_0x15fe92(),_0xd98cec()):_0x5c2bf6[_0x4f3837(0x888)](_0x167623[_0x4f3837(0x340)][_0x4f3837(0x369)],_0x167623[_0x4f3837(0x340)]);}break;case _0x981fb5[_0x4f3837(0x734)][_0x4f3837(0x83a)]:if('prompt'!==_0x167623[_0x4f3837(0x340)]['type'])return;for(;_0x42bcb3!==_0x167623[_0x4f3837(0x340)][_0x4f3837(0x369)];)await _0x50a54a[_0x4f3837(0xa47)](0x3e8);const _0x1aec41=_0x167623[_0x4f3837(0x340)][_0x4f3837(0x9be)]??0x0;this['logServiceEvent'](_0x1bbbea[_0x4f3837(0x16a)],_0x1aec41),clearTimeout(_0x484af8),_0x16b791(),this[_0x4f3837(0x7ed)]+=0x1,this[_0x4f3837(0x157)]+=_0x1aec41,this[_0x4f3837(0x5d4)]();break;case _0x981fb5[_0x4f3837(0x734)][_0x4f3837(0x65e)]:clearTimeout(_0x484af8),_0x16b791(_0xd907de[_0x4f3837(0x386)][_0x4f3837(0x16e)]),this[_0x4f3837(0x5d4)]();}},'error':_0x3ee910=>{const _0x41e0de=_0x124b1e;clearTimeout(_0x484af8),_0x16b791(_0xd907de[_0x41e0de(0x386)][_0x41e0de(0x16e)]);}}),_0x2919c4=()=>{_0x16b791(_0xd907de['codes']['GenerativeAIContextJobTimeout']);},_0xd98cec=()=>{clearTimeout(_0x484af8),_0x484af8=setTimeout(_0x2919c4,_0x5c29b3);};for(_0x484af8=setTimeout(_0x2919c4,_0x5c29b3);!_0x279896||_0x5216cd[_0x124b1e(0x756)]>0x0;)_0x5216cd[_0x124b1e(0x756)]>0x0?yield _0x5216cd[_0x124b1e(0xa41)]():await new Promise(_0x20e5ec=>_0x1ae7d8=_0x20e5ec);if(_0x142350)throw _0xd64180[_0x124b1e(0x77b)](_0x124b1e(0x177),{'nodeId':this[_0x124b1e(0x71d)]['getId'](),'nodeType':this[_0x124b1e(0x71d)][_0x124b1e(0x689)]}),new _0xd907de(_0x142350);}async[_0xe992e3(0x658)](){const _0x1687e2=_0xe992e3;return(await _0x4cfee1[_0x1687e2(0xa5c)](this[_0x1687e2(0x3ea)],this[_0x1687e2(0x3fc)]))[_0x1687e2(0xa1b)];}[_0xe992e3(0x8b0)](_0x262888,_0x1b9bca){const _0x2f48b5=_0xe992e3,_0x8282e0=this[_0x2f48b5(0x3fc)],_0x347dca=this[_0x2f48b5(0x4a8)]();_0xd64180[_0x2f48b5(0x8b0)](_0x2d66c0['GenerativeAIContext'],{'topic':_0x8282e0,'prompt':_0x262888,'type':_0x2f48b5(0x16a),'nodeId':_0x347dca,'tokenCount':_0x1b9bca});}async[_0xe992e3(0x401)](_0x29ec24,_0x2fb44b,_0x262f5f,_0x2c95d0={}){const _0x34c10d=_0xe992e3;let _0x3055b0;switch(_0x262f5f['type']){case _0x34c10d(0x250):case _0x34c10d(0x295):case'collection-query':case _0x34c10d(0x5d3):case _0x34c10d(0x5be):case _0x34c10d(0x76f):case _0x34c10d(0x8a1):case _0x34c10d(0x537):case _0x34c10d(0xb18):case _0x34c10d(0x16a):case'rate':case _0x34c10d(0x61f):case _0x34c10d(0xafd):_0x3055b0={'id':_0x29ec24,'jobType':_0x2fb44b,'parameters':{..._0x2c95d0,..._0x262f5f},'status':_0x981fb5[_0x34c10d(0x734)][_0x34c10d(0x521)]};break;default:throw new Error(_0x34c10d(0x7fb));}return await this[_0x34c10d(0x93b)](_0x3055b0);}[_0xe992e3(0x5d4)](){const _0x8b0a7d=_0xe992e3;this['debounceStats']&&clearTimeout(this[_0x8b0a7d(0x203)]),this[_0x8b0a7d(0x203)]=setTimeout(async()=>{const _0x7d9494=_0x8b0a7d;delete this['debounceStats'],this[_0x7d9494(0x587)][_0x7d9494(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x7d9494(0x739)],'label':this[_0x7d9494(0x3fc)],'stats':{'timestamp':Date[_0x7d9494(0x559)](),'storage':0x0,'messagesSent':this[_0x7d9494(0x30c)],'messagesReceived':this[_0x7d9494(0x97d)],'bytesSent':this[_0x7d9494(0x97c)],'bytesReceived':this[_0x7d9494(0x5d0)],'writes':0x0,'reads':0x0,'prompts':this[_0x7d9494(0x7ed)],'tokens':this[_0x7d9494(0x157)]}}});},_0x411ded);}}var _0x68ab12,_0x2141d5,_0x1ceba1,_0x883e8c,_0x4218b7,_0xeda98f,_0x4215bb,_0x3dc290,_0x175bd1,_0x2713ea,_0x36f69e;!function(_0x347b78){const _0x3753b8=_0xe992e3;_0x347b78[_0x3753b8(0x9e3)]=_0x3753b8(0x9e3),_0x347b78[_0x3753b8(0x6f3)]=_0x3753b8(0x6f3),_0x347b78['RetrieveTrace']=_0x3753b8(0x930),_0x347b78['WorkflowTrace']='WorkflowTrace';}(_0x68ab12||(_0x68ab12={})),function(_0x567f66){const _0xb2c3a6=_0xe992e3;_0x567f66[_0xb2c3a6(0xaf7)]='ModelText',_0x567f66[_0xb2c3a6(0x904)]='ModelVector',_0x567f66[_0xb2c3a6(0x7aa)]='VectorSearch',_0x567f66[_0xb2c3a6(0x93d)]=_0xb2c3a6(0x93d),_0x567f66[_0xb2c3a6(0xa7e)]=_0xb2c3a6(0xa7e),_0x567f66[_0xb2c3a6(0x1ec)]=_0xb2c3a6(0x1ec);}(_0x2141d5||(_0x2141d5={})),function(_0x6b9a04){const _0x3d7adc=_0xe992e3;_0x6b9a04[_0x6b9a04['Debug']=0x0]=_0x3d7adc(0x247),_0x6b9a04[_0x6b9a04[_0x3d7adc(0x5cb)]=0x5]='Info',_0x6b9a04[_0x6b9a04[_0x3d7adc(0x570)]=0xa]='Warning',_0x6b9a04[_0x6b9a04['Error']=0xf]=_0x3d7adc(0x33a);}(_0x1ceba1||(_0x1ceba1={})),function(_0x23aed9){const _0x5e3c7c=_0xe992e3;_0x23aed9[_0x5e3c7c(0x9ff)]=_0x5e3c7c(0x9ff),_0x23aed9['Ingest']=_0x5e3c7c(0x936),_0x23aed9[_0x5e3c7c(0x7bc)]='Knowledge',_0x23aed9[_0x5e3c7c(0x404)]=_0x5e3c7c(0x404),_0x23aed9[_0x5e3c7c(0x33c)]='Workflow',_0x23aed9[_0x5e3c7c(0x451)]=_0x5e3c7c(0x451),_0x23aed9[_0x5e3c7c(0x37f)]='JobContext',_0x23aed9['Rating']=_0x5e3c7c(0x2a7);}(_0x883e8c||(_0x883e8c={})),function(_0x22cb82){const _0x12758e=_0xe992e3;_0x22cb82['Queued']=_0x12758e(0x357),_0x22cb82[_0x12758e(0x83a)]=_0x12758e(0x83a);}(_0x4218b7||(_0x4218b7={})),function(_0x556f6a){const _0x37f633=_0xe992e3;_0x556f6a[_0x37f633(0xaee)]='InitialPrompt',_0x556f6a[_0x37f633(0x8de)]='IntermediateOutput',_0x556f6a['DataCollection']=_0x37f633(0x760),_0x556f6a[_0x37f633(0x30b)]=_0x37f633(0x30b);}(_0xeda98f||(_0xeda98f={})),function(_0x2fbd02){const _0x5e75a3=_0xe992e3;_0x2fbd02[_0x5e75a3(0x93a)]=_0x5e75a3(0x93a),_0x2fbd02[_0x5e75a3(0x9a3)]=_0x5e75a3(0x9a3),_0x2fbd02[_0x5e75a3(0x93d)]=_0x5e75a3(0x93d),_0x2fbd02[_0x5e75a3(0x663)]=_0x5e75a3(0x663),_0x2fbd02[_0x5e75a3(0x2a4)]=_0x5e75a3(0x2a4),_0x2fbd02[_0x5e75a3(0xaf7)]='ModelText',_0x2fbd02['ModelVector']=_0x5e75a3(0x904),_0x2fbd02[_0x5e75a3(0x911)]=_0x5e75a3(0x911),_0x2fbd02[_0x5e75a3(0x208)]=_0x5e75a3(0x208),_0x2fbd02[_0x5e75a3(0x9e7)]='VectorDatabase',_0x2fbd02['WordSplitter']=_0x5e75a3(0x99b);}(_0x4215bb||(_0x4215bb={})),function(_0x1a7e8f){const _0x313b65=_0xe992e3;_0x1a7e8f['GetContextQuery']='GetContextQuery',_0x1a7e8f[_0x313b65(0xaf1)]=_0x313b65(0xaf1);}(_0x3dc290||(_0x3dc290={})),function(_0x5201ca){const _0x4384dd=_0xe992e3;_0x5201ca[_0x4384dd(0x309)]=_0x4384dd(0x309),_0x5201ca[_0x4384dd(0x3e8)]='FetchUrl',_0x5201ca['SearchGoogle']=_0x4384dd(0x428),_0x5201ca[_0x4384dd(0x598)]=_0x4384dd(0x598),_0x5201ca[_0x4384dd(0x73e)]=_0x4384dd(0x73e),_0x5201ca[_0x4384dd(0x505)]=_0x4384dd(0x505),_0x5201ca[_0x4384dd(0x60f)]=_0x4384dd(0x60f),_0x5201ca['WriteFile']='WriteFile',_0x5201ca[_0x4384dd(0x4cf)]='ExecuteWorkflow',_0x5201ca[_0x4384dd(0x23a)]=_0x4384dd(0x23a),_0x5201ca[_0x4384dd(0xa4d)]=_0x4384dd(0xa4d),_0x5201ca[_0x4384dd(0x279)]=_0x4384dd(0x279);}(_0x175bd1||(_0x175bd1={})),function(_0x424c0c){const _0x437a5e=_0xe992e3;_0x424c0c['LoadKnowledgeFunction']=_0x437a5e(0xae0),_0x424c0c[_0x437a5e(0x7eb)]=_0x437a5e(0x7eb);}(_0x2713ea||(_0x2713ea={})),function(_0x460eb5){const _0x4cf0c9=_0xe992e3;_0x460eb5[_0x4cf0c9(0x763)]=_0x4cf0c9(0x763);}(_0x36f69e||(_0x36f69e={}));class _0x1baf09{static [_0xe992e3(0x6d6)]=new _0x1baf09();[_0xe992e3(0x7ca)]=[];[_0xe992e3(0x1fe)]=!0x1;constructor(){}static[_0xe992e3(0x9f1)](){const _0x171491=_0xe992e3;return _0x1baf09[_0x171491(0x6d6)];}get[_0xe992e3(0x756)](){const _0x52decf=_0xe992e3;return this[_0x52decf(0x7ca)][_0x52decf(0x756)];}[_0xe992e3(0x4ef)](){return!this['isRunning'];}[_0xe992e3(0x24d)](_0x20d901){const _0x2e395d=_0xe992e3;_0x20d901?this[_0x2e395d(0x7ca)]=this[_0x2e395d(0x7ca)][_0x2e395d(0x1ee)](_0x598681=>_0x598681[_0x2e395d(0x87c)]!==_0x20d901):(this[_0x2e395d(0x7ca)]=[],this[_0x2e395d(0x1fe)]=!0x1);}[_0xe992e3(0x820)](_0x31048b,_0x1011c6){const _0x56a95f=_0xe992e3;this[_0x56a95f(0x7ca)][_0x56a95f(0xae7)]({'callback':_0x1011c6,'ownerId':_0x31048b}),this['runJobQueue']();}async[_0xe992e3(0x68c)](){const _0x4554b8=_0xe992e3;if(!this[_0x4554b8(0x1fe)]){for(this[_0x4554b8(0x1fe)]=!0x0;this[_0x4554b8(0x7ca)]['length']>0x0;){const _0x579cd0=this[_0x4554b8(0x7ca)]['shift']();if(_0x579cd0)try{console['warn'](_0x4554b8(0x263)),await _0x579cd0[_0x4554b8(0xabd)](),console[_0x4554b8(0x1a2)](_0x4554b8(0x51c));}catch(_0x1e3d78){console['error'](_0x4554b8(0x9c3),_0x1e3d78);}}this[_0x4554b8(0x1fe)]=!0x1;}}}const _0x2282f5=_0x1baf09['getInstance']();class _0x599fec extends _0x430dee{[_0xe992e3(0x56f)];[_0xe992e3(0x6d0)];constructor(_0x453192,_0x4c4725,_0x2d8264){const _0xa1d0c9=_0xe992e3;super(_0x453192,_0x4c4725),this[_0xa1d0c9(0x56f)]=_0x2d8264;}[_0xe992e3(0x437)](){const _0xdefb7e=_0xe992e3;return _0x981fb5[_0xdefb7e(0x4c9)][_0xdefb7e(0x451)];}[_0xe992e3(0xa19)](){this['subscribeToJobs']();}[_0xe992e3(0x1c9)](){const _0x1f48be=_0xe992e3;this[_0x1f48be(0x587)]?.[_0x1f48be(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x1f48be(0x52d)],'content':{'type':_0x26ec79[_0x1f48be(0x4e3)],'label':this[_0x1f48be(0x3fc)]}});}[_0xe992e3(0xade)](){const _0x27ff2c=_0xe992e3;this[_0x27ff2c(0x6d0)]?.(),delete this[_0x27ff2c(0x6d0)],this['open']();}[_0xe992e3(0x551)](){const _0x410a4f=_0xe992e3;_0x2282f5[_0x410a4f(0x24d)](this[_0x410a4f(0x3fc)]),this[_0x410a4f(0x6d0)]?.(),delete this[_0x410a4f(0x6d0)],super[_0x410a4f(0x551)]();}[_0xe992e3(0x4ef)](){const _0x21f8bd=_0xe992e3;return _0x2282f5[_0x21f8bd(0x4ef)]();}[_0xe992e3(0x367)](){return 0x1;}[_0xe992e3(0xaca)](_0x2441e3,_0x16670b,_0x49c028){}[_0xe992e3(0x2c8)](_0x20470f,_0x5dead1){return _0x20470f;}async[_0xe992e3(0xac5)](_0x4a6602,_0x26f33a){const _0x264ab3=_0xe992e3;console[_0x264ab3(0x1a2)](_0x264ab3(0x20e));}async['stopTracing'](_0x53270e,_0xb3bc4f){const _0x40ca21=_0xe992e3;console[_0x40ca21(0x1a2)]('JobWorker:\x20Tracing\x20not\x20implemented');}[_0xe992e3(0x396)](){const _0x19751e=_0xe992e3;this[_0x19751e(0x6d0)]||(this[_0x19751e(0x6d0)]=this[_0x19751e(0x399)](async(_0x508f29,_0x20cd81)=>{const _0x50edc0=_0x19751e;if(_0xd64180[_0x50edc0(0x991)](_0x3c5ddd[_0x50edc0(0x6b5)],'JobWorker:\x20Received\x20job',_0x20cd81),!(_0x20cd81 instanceof File)){if(this['isJobRequest'](_0x20cd81))_0xd64180[_0x50edc0(0x991)](_0x3c5ddd[_0x50edc0(0x6b5)],_0x50edc0(0x5ca),_0x20cd81),this[_0x50edc0(0x4ef)]()?this['sendBid'](_0x20cd81['id'],_0x20cd81['jobType'],_0x508f29):this[_0x50edc0(0x8cb)](_0x20cd81['id'],_0x20cd81[_0x50edc0(0x494)],_0x508f29);else{if(this[_0x50edc0(0x346)](_0x20cd81)){_0xd64180[_0x50edc0(0x991)](_0x3c5ddd[_0x50edc0(0x6b5)],'JobWorker:\x20Received\x20job\x20attribution',_0x20cd81);const {id:_0x2c0473,parameters:_0x246c9b}=_0x20cd81;await this[_0x50edc0(0xac5)](_0x2c0473,_0x246c9b),this[_0x50edc0(0x3bf)](_0x20cd81['id'],_0x20cd81,_0x508f29);}}}}));}[_0xe992e3(0xa4e)](_0x2bf966,_0x55aa12,_0x2f0473){const _0x42a619=_0xe992e3,_0x9eb119={'id':_0x2bf966,'jobType':_0x55aa12,'jobPhase':_0x46e818[_0x42a619(0x740)],'available':!0x0,'queueLength':_0x2282f5[_0x42a619(0x756)],'bid':this[_0x42a619(0x367)]()};_0xd64180[_0x42a619(0x991)](_0x3c5ddd[_0x42a619(0x6b5)],_0x42a619(0xa21),_0x9eb119),this[_0x42a619(0x8dd)](_0x9eb119,[_0x2f0473]);}[_0xe992e3(0x8cb)](_0x2fa93f,_0x3a861f,_0x27ee3e){const _0x1ccbcb=_0xe992e3,_0x55a7a4={'id':_0x2fa93f,'jobType':_0x3a861f,'jobPhase':_0x46e818['Bid'],'available':!0x1,'queueLength':_0x2282f5[_0x1ccbcb(0x756)],'bid':0x0};_0xd64180['log'](_0x3c5ddd[_0x1ccbcb(0x6b5)],'JobWorker:\x20Sending\x20job\x20reject',_0x55a7a4),this[_0x1ccbcb(0x8dd)](_0x55a7a4,[_0x27ee3e]);}async[_0xe992e3(0x3bf)](_0x128443,_0x2e3389,_0x5d3f8a){const _0x5882fa=_0xe992e3;_0xd64180[_0x5882fa(0x991)](_0x3c5ddd[_0x5882fa(0x6b5)],_0x5882fa(0x319),_0x2e3389);const _0x271507={'id':_0x128443,'jobType':_0x2e3389[_0x5882fa(0x494)],'parameters':_0x2e3389[_0x5882fa(0xa76)]};try{switch(_0x2e3389[_0x5882fa(0x494)]){case _0x981fb5[_0x5882fa(0x4f9)][_0x5882fa(0x451)]:await this[_0x5882fa(0xa94)](_0x128443,_0x2e3389,_0x271507,_0x5d3f8a);break;case _0x981fb5[_0x5882fa(0x4f9)][_0x5882fa(0x66e)]:await this[_0x5882fa(0x89a)](_0x128443,_0x2e3389,_0x271507,_0x5d3f8a);break;default:throw new Error(_0x5882fa(0x676));}}catch(_0x226c3a){_0xd64180[_0x5882fa(0x77b)](_0x5882fa(0x42b),{'nodeId':this[_0x5882fa(0x584)][_0x5882fa(0x686)](),'nodeType':this[_0x5882fa(0x584)][_0x5882fa(0x689)],'data':{'job':_0x271507}},_0x226c3a);const _0x173f9e=_0x226c3a instanceof Error?_0x226c3a['message']:'An\x20error\x20occurred',_0x29ee63={'id':_0x128443,'jobType':_0x2e3389['jobType'],'jobPhase':_0x46e818['Failed'],'message':_0x173f9e};await this[_0x5882fa(0x8dd)](_0x29ee63,[_0x5d3f8a]);}}async[_0xe992e3(0xa94)](_0xa68fbe,_0x558473,_0x2018f6,_0x1e437d){const _0xea02a3=_0xe992e3,_0x324f91=Date['now'](),_0x10a4da=await this['internalProcessJob'](_0xa68fbe,_0x2018f6[_0xea02a3(0xa76)]);this[_0xea02a3(0xaca)](_0x10a4da,_0x324f91,Date[_0xea02a3(0x559)]());const _0x209c04={'id':_0xa68fbe,'jobType':_0x558473[_0xea02a3(0x494)],'jobPhase':_0x46e818['Result'],'result':_0x10a4da};_0xd64180[_0xea02a3(0x991)](_0x3c5ddd[_0xea02a3(0x6b5)],_0xea02a3(0x631),_0x209c04),await this['send'](_0x209c04,[_0x1e437d]),await this['stopTracing'](_0xa68fbe,_0x2018f6[_0xea02a3(0xa76)]);}async[_0xe992e3(0x89a)](_0x50196e,_0x490f25,_0x2ab949,_0x18a629){const _0x5df169=_0xe992e3,_0x499b10=Date[_0x5df169(0x559)]();let _0x3fcaad=0x0,_0x157b15={};for await(const _0x34d308 of this[_0x5df169(0x7de)](_0x2ab949['id'],_0x2ab949[_0x5df169(0xa76)])){const _0x27bf41={'id':_0x50196e,'jobType':_0x490f25['jobType'],'jobPhase':_0x46e818[_0x5df169(0x6e8)],'result':{..._0x34d308,'index':_0x3fcaad}};_0xd64180[_0x5df169(0x991)](_0x3c5ddd[_0x5df169(0x6b5)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x27bf41),this[_0x5df169(0x8dd)](_0x27bf41,[_0x18a629]),_0x157b15=this[_0x5df169(0x2c8)](_0x157b15,_0x34d308),_0x3fcaad++;}this['compileStats'](_0x157b15,_0x499b10,Date[_0x5df169(0x559)]());const _0x177400={'id':_0x50196e,'jobType':_0x490f25[_0x5df169(0x494)],'jobPhase':_0x46e818[_0x5df169(0x213)],'result':{..._0x157b15,'index':_0x3fcaad}};_0xd64180[_0x5df169(0x991)](_0x3c5ddd['Jobs'],'JobWorker:\x20Sending\x20job\x20result',_0x177400),await this['send'](_0x177400,[_0x18a629]),await this[_0x5df169(0x4b6)](_0x50196e,_0x2ab949[_0x5df169(0xa76)]);}['isJobRequest'](_0x37cb9f){const _0x185890=_0xe992e3;return _0x37cb9f['jobPhase']===_0x46e818[_0x185890(0xa8b)];}['isJobAttribution'](_0x57b34c){const _0x3ebc5d=_0xe992e3;return _0x57b34c['jobPhase']===_0x46e818[_0x3ebc5d(0x39d)];}}const _0x1e3adc=new Map([['all-minilm-l12-v2',{'id':_0xe992e3(0x71c),'engineType':_0x981fb5[_0xe992e3(0xa98)]['Llamacpp'],'taskType':_0x981fb5['GenerativeAITaskType'][_0xe992e3(0xa8f)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)]['Vector'],'sourceUrl':'https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf'}],[_0xe992e3(0x54b),{'id':'text-embedding-3-small','engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5['GenerativeAITaskType'][_0xe992e3(0xa8f)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x79a)],'sourceUrl':''}],[_0xe992e3(0x531),{'id':_0xe992e3(0x531),'engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5[_0xe992e3(0x796)]['Embeddings'],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)]['Vector'],'sourceUrl':''}],[_0xe992e3(0x766),{'id':_0xe992e3(0x766),'engineType':_0x981fb5[_0xe992e3(0xa98)]['Llamacpp'],'taskType':_0x981fb5[_0xe992e3(0x796)]['TextGeneration'],'inputType':_0x981fb5[_0xe992e3(0x5a3)]['Text'],'outputType':_0x981fb5['GenerativeAIModelOutputType'][_0xe992e3(0x722)],'sourceUrl':_0xe992e3(0x412)}],[_0xe992e3(0x6b6),{'id':_0xe992e3(0x6b6),'engineType':_0x981fb5['GenerativeAIEngineType'][_0xe992e3(0x1d8)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'sourceUrl':_0xe992e3(0x9ac)}],['phi-4-14b',{'id':'phi-4-14b','engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0x1d8)],'taskType':_0x981fb5[_0xe992e3(0x796)]['TextGeneration'],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)]['Text'],'sourceUrl':_0xe992e3(0x9ee)}],['gpt-4o',{'id':_0xe992e3(0x731),'engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'knowledgeCutoffDate':_0xe992e3(0x57f),'sourceUrl':''}],[_0xe992e3(0x2b1),{'id':_0xe992e3(0x2b1),'engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5['GenerativeAITaskType'][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'knowledgeCutoffDate':_0xe992e3(0x57f),'sourceUrl':''}],[_0xe992e3(0x777),{'id':_0xe992e3(0x777),'engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],['gpt-4.1-mini',{'id':'gpt-4.1-mini','engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5[_0xe992e3(0x796)]['TextGeneration'],'inputType':_0x981fb5[_0xe992e3(0x5a3)]['Text'],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'knowledgeCutoffDate':_0xe992e3(0x4fa),'sourceUrl':''}],[_0xe992e3(0x139),{'id':_0xe992e3(0x139),'engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5['GenerativeAIModelOutputType'][_0xe992e3(0x722)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],['o1',{'id':'o1','engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0xe992e3(0x977),{'id':_0xe992e3(0x977),'engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0xa17)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)]['Text'],'outputType':_0x981fb5['GenerativeAIModelOutputType'][_0xe992e3(0x722)],'knowledgeCutoffDate':_0xe992e3(0x57f),'sourceUrl':''}],[_0xe992e3(0x8fd),{'id':'claude-3-7-sonnet-latest','engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0x9a7)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)]['Text'],'knowledgeCutoffDate':_0xe992e3(0x770),'sourceUrl':''}],['claude-3-5-haiku-latest',{'id':_0xe992e3(0x6e3),'engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0x9a7)],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5['GenerativeAIModelInputType'][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'knowledgeCutoffDate':_0xe992e3(0xa6f),'sourceUrl':''}],[_0xe992e3(0x999),{'id':'claude-3-5-sonnet-latest','engineType':_0x981fb5[_0xe992e3(0xa98)][_0xe992e3(0x9a7)],'taskType':_0x981fb5[_0xe992e3(0x796)]['TextGeneration'],'inputType':_0x981fb5[_0xe992e3(0x5a3)][_0xe992e3(0x722)],'outputType':_0x981fb5[_0xe992e3(0x6f8)][_0xe992e3(0x722)],'knowledgeCutoffDate':_0xe992e3(0x76c),'sourceUrl':''}],['claude-3-opus-latest',{'id':_0xe992e3(0x6a4),'engineType':_0x981fb5[_0xe992e3(0xa98)]['Anthropic'],'taskType':_0x981fb5[_0xe992e3(0x796)][_0xe992e3(0x2aa)],'inputType':_0x981fb5[_0xe992e3(0x5a3)]['Text'],'outputType':_0x981fb5[_0xe992e3(0x6f8)]['Text'],'knowledgeCutoffDate':_0xe992e3(0xa4f),'sourceUrl':''}]]),_0x45b4b6=require('rxjs/operators');class _0x58f138{[_0xe992e3(0x7f5)];constructor(){const _0xd6446=_0xe992e3;this['subject']=new _0x148b31[(_0xd6446(0x31f))]();}[_0xe992e3(0x5c8)](_0x1631ad){const _0x5034f1=_0xe992e3;this[_0x5034f1(0x7f5)]['next'](_0x1631ad);}async[_0xe992e3(0x5ae)](){const _0x3f8409=_0xe992e3;return(0x0,_0x148b31['firstValueFrom'])(this['subject'][_0x3f8409(0x1c1)]((0x0,_0x45b4b6[_0x3f8409(0x2f0)])(0x1)));}}function _0xc2ddb(_0x3b4791){const _0x2971e4=_0xe992e3;try{return JSON[_0x2971e4(0x719)](_0x3b4791);}catch(_0x4fc612){return _0x3b4791 instanceof Error?_0x3b4791[_0x2971e4(0x53b)]():JSON[_0x2971e4(0x719)](_0x2971e4(0x331));}}class _0x3eb2e1{static [_0xe992e3(0x6d6)];[_0xe992e3(0x9e4)]=_0x1ceba1[_0xe992e3(0x33a)];[_0xe992e3(0xadd)]=_0x1ceba1['Info'];['commitType']=_0x883e8c[_0xe992e3(0x9ff)];[_0xe992e3(0xa4c)]={};static [_0xe992e3(0x9f1)]=()=>(_0x3eb2e1['instance']||(_0x3eb2e1['instance']=new _0x3eb2e1()),_0x3eb2e1[_0xe992e3(0x6d6)]);async[_0xe992e3(0xaff)](_0x587f7c,_0x2818d6,_0x3772ef,_0x3e6fc3){const _0x59ce00=_0xe992e3;try{if(this[_0x59ce00(0xa4c)][_0x2818d6])return!0x0;const _0x5ad2ee={'vendorId':_0x587f7c,'workflowId':_0x3772ef,'sequence':0x0};if(this[_0x59ce00(0xa4c)][_0x2818d6]=_0x5ad2ee,!_0x3e6fc3||!_0x3772ef)return!0x0;const _0x2ddae4=(0x0,_0x3d2491[_0x59ce00(0x6f7)])(_0x57cb7d[_0x59ce00(0x928)](),'developers/'+_0x587f7c+_0x59ce00(0x780)+_0x3772ef+_0x59ce00(0x81a),_0x2818d6);return(await(0x0,_0x3d2491['getDoc'])(_0x2ddae4))[_0x59ce00(0x28a)]()||await(0x0,_0x3d2491['setDoc'])(_0x2ddae4,{'threadId':_0x3e6fc3,'startTime':(0x0,_0x3d2491[_0x59ce00(0x3cd)])()}),!0x0;}catch(_0x1a23f7){return console[_0x59ce00(0x77b)](_0x59ce00(0xa4a),_0x1a23f7),!0x1;}}async['trace'](_0x449782){const _0x87e68a=_0xe992e3;try{const _0x163a58=this[_0x87e68a(0xa4c)][_0x449782[_0x87e68a(0x416)]];if(!_0x163a58)throw new Error(_0x87e68a(0x4fb));_0x449782[_0x87e68a(0x899)]=_0x163a58[_0x87e68a(0x899)]++,_0x449782[_0x87e68a(0x132)]>=this[_0x87e68a(0x9e4)]&&console['log'](JSON[_0x87e68a(0x719)](_0x449782,null,0x2)),await this[_0x87e68a(0x4e6)](_0x449782);}catch(_0x208484){console['error'](_0x87e68a(0x6e7),_0x208484);}}async['closeTrace'](_0x3f4d75,_0x510b3a){const _0x15e82d=_0xe992e3;if(!_0x3eb2e1['instance'])throw new Error(_0x15e82d(0x2ac));if(!this[_0x15e82d(0xa4c)][_0x3f4d75])throw new Error(_0x15e82d(0x9d2));if(_0x510b3a&&this[_0x15e82d(0xa4c)][_0x3f4d75][_0x15e82d(0xa11)])try{await(0x0,_0x3d2491[_0x15e82d(0xae9)])((0x0,_0x3d2491[_0x15e82d(0x6f7)])(_0x57cb7d[_0x15e82d(0x928)](),_0x15e82d(0x67c)+this[_0x15e82d(0xa4c)][_0x3f4d75]['vendorId']+_0x15e82d(0x780)+this[_0x15e82d(0xa4c)][_0x3f4d75]['workflowId']+_0x15e82d(0x81a),_0x3f4d75),{'endTime':(0x0,_0x3d2491[_0x15e82d(0x3cd)])()},{'merge':!0x0}),this['setForDeletion'](_0x3f4d75);}catch(_0x15c35f){console[_0x15e82d(0x77b)](_0x15e82d(0x22a),_0x15c35f);}else this['setForDeletion'](_0x3f4d75);}[_0xe992e3(0x4f2)](_0x3a0885){setTimeout(()=>{const _0x5af105=a0_0xca1a;delete this[_0x5af105(0xa4c)][_0x3a0885];},0x1b7740);}async[_0xe992e3(0x4e6)](_0x24b1c3){const _0x2d8a11=_0xe992e3;if(_0x24b1c3['traceLevel']<this[_0x2d8a11(0xadd)]&&_0x24b1c3[_0x2d8a11(0x494)]!==this[_0x2d8a11(0x21b)])return;if(!this[_0x2d8a11(0xa4c)][_0x24b1c3[_0x2d8a11(0x416)]])throw new Error(_0x2d8a11(0x84d));const _0x574557=this[_0x2d8a11(0xa4c)][_0x24b1c3['jobId']];try{const _0x133df1=function(_0xda6d6b){const _0x4e16f3=_0x2d8a11,_0x594742=[_0x4e16f3(0xb15),_0x4e16f3(0x2fa),_0x4e16f3(0x494),_0x4e16f3(0x689),_0x4e16f3(0x416),_0x4e16f3(0x132),_0x4e16f3(0xa73),'status',_0x4e16f3(0x899),'errorDetails'],_0x2104b1={..._0xda6d6b};for(const _0x157e28 of _0x594742)delete _0x2104b1[_0x157e28];return{'timestamp':_0xda6d6b[_0x4e16f3(0x2fa)],'jobType':_0xda6d6b[_0x4e16f3(0x494)],'type':_0xda6d6b[_0x4e16f3(0x689)],'jobId':_0xda6d6b[_0x4e16f3(0x416)],'agentId':_0xda6d6b[_0x4e16f3(0x2a5)]??'','traceLevel':_0xda6d6b[_0x4e16f3(0x132)],'blockId':_0xda6d6b[_0x4e16f3(0xa73)]??'','startTime':_0xda6d6b[_0x4e16f3(0xb15)],'status':_0xda6d6b[_0x4e16f3(0x716)],'sequence':_0xda6d6b[_0x4e16f3(0x899)]??0x0,'errorDetails':_0xda6d6b[_0x4e16f3(0x670)]??'','metadata':_0xc2ddb(_0x2104b1)};}(_0x24b1c3),_0x4fcf99=(0x0,_0x2860a6['v4'])();console['log'](_0x2d8a11(0x4e2),_0x133df1[_0x2d8a11(0x689)]),await(0x0,_0x3d2491[_0x2d8a11(0xae9)])((0x0,_0x3d2491[_0x2d8a11(0x6f7)])(_0x57cb7d[_0x2d8a11(0x928)](),'developers/'+_0x574557[_0x2d8a11(0x3ea)]+_0x2d8a11(0x780)+_0x574557[_0x2d8a11(0xa11)]+_0x2d8a11(0x2a6)+_0x24b1c3[_0x2d8a11(0x416)]+_0x2d8a11(0x17e),_0x4fcf99),_0x133df1),_0x24b1c3['type']===_0x36f69e['PromptRating']&&await(0x0,_0x3d2491[_0x2d8a11(0xae9)])((0x0,_0x3d2491[_0x2d8a11(0x6f7)])(_0x57cb7d[_0x2d8a11(0x928)](),'developers/'+_0x574557[_0x2d8a11(0x3ea)]+_0x2d8a11(0x780)+_0x574557['workflowId']+_0x2d8a11(0x81a),_0x24b1c3['jobId']),{'rating':_0x24b1c3['rating']},{'merge':!0x0});}catch(_0x2d7a89){console[_0x2d8a11(0x77b)](_0x2d8a11(0x7e1),_0x2d7a89);}}}const _0x45b70a=_0x3eb2e1[_0xe992e3(0x9f1)]();async function _0x1155eb(_0x251f5d,_0x25f4f1,_0x1a41ea,_0x996e31,_0x11128d,_0x58355c,_0x29327a,_0x422dcd){const _0x3dda5c=function(_0x1140f1,_0x55576a){const _0x452066=a0_0xca1a,_0x4fcba4=[];for(let _0x11a542=0x0;_0x11a542<_0x1140f1['length'];_0x11a542+=_0x55576a['attributes'][_0x452066(0x73d)]){let _0x5a7650=_0x11a542-_0x55576a['attributes'][_0x452066(0x8cc)];_0x5a7650<0x0&&(_0x5a7650=0x0);let _0x6b058=_0x11a542+_0x55576a[_0x452066(0x3d8)][_0x452066(0x73d)]+_0x55576a[_0x452066(0x3d8)][_0x452066(0x8cc)];_0x6b058>_0x1140f1['length']&&(_0x6b058=_0x1140f1[_0x452066(0x756)]),length||(length=_0x11a542+_0x55576a[_0x452066(0x3d8)][_0x452066(0x73d)],length>_0x1140f1['length']&&(length=_0x1140f1['length'])),_0x4fcba4['push'](_0x1140f1[_0x452066(0x12a)](_0x5a7650,_0x6b058));}return _0x4fcba4;}(_0x25f4f1,_0x11128d);await _0x2a1c05(_0x251f5d,_0x3dda5c,_0x1a41ea,_0x996e31,_0x11128d,_0x58355c,_0x29327a,_0x422dcd);}async function _0x276d6c(_0x7d5f91,_0x55381e,_0x42cc49,_0x1ca194,_0x4ea07a,_0x29300d,_0x4c2be7,_0x407894){const _0x442607=_0xe992e3;if(_0x4ea07a['accumulated']||(_0x4ea07a[_0x442607(0x5c7)]={}),_0x4ea07a[_0x442607(0x5c7)][_0x442607(0x2b5)]||(_0x4ea07a['accumulated']['queries']=[]),_0x55381e instanceof Array?_0x4ea07a[_0x442607(0x5c7)][_0x442607(0x2b5)][_0x442607(0xae7)](..._0x55381e):_0x4ea07a[_0x442607(0x5c7)][_0x442607(0x2b5)][_0x442607(0xae7)](_0x55381e),_0x4ea07a[_0x442607(0x32f)]=_0x4ea07a[_0x442607(0x32f)]?_0x4ea07a[_0x442607(0x32f)]+0x1:0x1,_0x12a699(_0x4ea07a,_0x29300d)>_0x4ea07a[_0x442607(0x32f)])return;if(0x0===_0x4ea07a[_0x442607(0x5c7)][_0x442607(0x2b5)][_0x442607(0x756)])throw new Error(_0x442607(0x82f));let _0x2303dd=[];const _0x528009=Date[_0x442607(0x559)]();try{let _0x19a6b4=0x0,_0x4bcbf6=0x0;for(const _0x5ebea0 of _0x4ea07a['accumulated'][_0x442607(0x2b5)]){const _0x311f07=await fetch(_0x201946[_0x442607(0xa2a)]+_0x442607(0x431)+_0x4ea07a['id']+_0x442607(0xa46),{'method':_0x442607(0x832),'headers':{'Content-Type':_0x442607(0x4d5),'x-vendor-id':_0x42cc49[_0x442607(0x3ea)]},'body':JSON[_0x442607(0x719)]({'query':_0x5ebea0})}),_0x536029=((await _0x311f07['json']())[_0x442607(0x9a6)]??[])['map'](_0x46502e=>({'pathName':_0x46502e[_0x442607(0x1e1)],'relevance':_0x46502e[_0x442607(0x1d4)],'content':_0x46502e['content'][_0x442607(0x7e4)]}));_0x2303dd=Array[_0x442607(0x79e)](new Set([..._0x2303dd,..._0x536029])),_0x19a6b4+=_0x536029[_0x442607(0x9be)]??0x0,_0x4bcbf6+=_0x536029['outputTokens']??0x0;}_0x1ca194['inputTokens']+=_0x19a6b4,_0x1ca194['outputTokens']+=_0x4bcbf6,_0x1ca194[_0x442607(0xa86)]=Array[_0x442607(0x79e)](new Set([..._0x1ca194[_0x442607(0xa86)],..._0x2303dd])),await _0x45b70a[_0x442607(0x41f)]({'jobType':_0x883e8c['Workflow'],'type':_0xeda98f['DataCollection'],'jobId':_0x7d5f91,'threadId':_0x42cc49[_0x442607(0x441)],'traceLevel':_0x1ceba1[_0x442607(0x5cb)],'startTime':_0x528009,'timestamp':Date[_0x442607(0x559)](),'blockId':_0x4ea07a['id'],'status':'success','queries':_0x4ea07a[_0x442607(0x5c7)][_0x442607(0x2b5)],'context':_0x2303dd,'inputTokens':_0x19a6b4,'outputTokens':_0x4bcbf6});}catch(_0x1ee57b){console[_0x442607(0x77b)](_0x1ee57b),await _0x45b70a[_0x442607(0x41f)]({'jobType':_0x883e8c[_0x442607(0x33c)],'type':_0xeda98f[_0x442607(0x760)],'jobId':_0x7d5f91,'threadId':_0x42cc49['threadId'],'traceLevel':_0x1ceba1[_0x442607(0x5cb)],'startTime':_0x528009,'timestamp':Date[_0x442607(0x559)](),'blockId':_0x4ea07a['id'],'status':_0x442607(0x77b),'queries':_0x4ea07a[_0x442607(0x5c7)][_0x442607(0x2b5)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x2a1c05(_0x7d5f91,'',_0x42cc49,_0x1ca194,_0x4ea07a,_0x29300d,_0x4c2be7,_0x407894);}async function _0xd80814(_0x7998a0,_0xf14f52,_0x19d15f,_0x3cb0cd,_0x125d2e,_0x591b13,_0x385c94,_0x345c6d){const _0x1962d0=_0xe992e3,_0x17c0c7=await _0x385c94[_0x1962d0(0x934)][_0x1962d0(0x2c0)](_0xf14f52);await _0x2a1c05(_0x7998a0,_0x17c0c7,_0x19d15f,_0x3cb0cd,_0x125d2e,_0x591b13,_0x385c94,_0x345c6d);}async function _0x37e860(_0x48fc73,_0x2a720f,_0x18d6b5,_0x45b745,_0x5276e8,_0x449850,_0x1028d8,_0x16afd0){const _0x2e6011=function(_0x2731c8,_0x365475){const _0x29b2c9=a0_0xca1a,_0x3e45db=[],_0x49df62=_0x2731c8['split']('\x20');let _0x4c4d22='',_0x58010d=0x0,_0x25679f=0x0,_0x358b75=0x0;for(const _0x461b2c of _0x49df62){if(_0x4c4d22[_0x29b2c9(0x756)]+_0x461b2c['length']>_0x365475[_0x29b2c9(0x3d8)][_0x29b2c9(0x73d)]){let _0x10b8c4=_0x58010d,_0x2c4562='';for(;_0x10b8c4>=0x0&&_0x2c4562[_0x29b2c9(0x756)]+_0x49df62[_0x10b8c4]['length']<_0x365475[_0x29b2c9(0x3d8)][_0x29b2c9(0x8cc)];)_0x2c4562=_0x49df62[_0x10b8c4]+'\x20'+_0x2c4562,_0x10b8c4--;let _0x5b1693=_0x25679f,_0x281c55='';for(;_0x5b1693<_0x49df62[_0x29b2c9(0x756)]&&_0x281c55[_0x29b2c9(0x756)]+_0x49df62[_0x5b1693][_0x29b2c9(0x756)]<_0x365475['attributes'][_0x29b2c9(0x8cc)];)_0x281c55+=_0x49df62[_0x5b1693]+'\x20',_0x5b1693++;_0x4c4d22=_0x2c4562+_0x4c4d22+_0x281c55,_0x3e45db[_0x29b2c9(0xae7)](_0x4c4d22[_0x29b2c9(0x48c)]()),_0x4c4d22='',_0x58010d=_0x25679f;}_0x4c4d22+=_0x461b2c+'\x20',_0x25679f++,_0x358b75+=_0x461b2c[_0x29b2c9(0x756)]+0x1;}if(_0x4c4d22[_0x29b2c9(0x756)]>0x0){let _0xc56107=_0x58010d,_0x47bb6a='';for(;_0xc56107>=0x0&&_0x47bb6a[_0x29b2c9(0x756)]+_0x49df62[_0xc56107][_0x29b2c9(0x756)]<_0x365475[_0x29b2c9(0x3d8)][_0x29b2c9(0x8cc)];)_0x47bb6a=_0x49df62[_0xc56107]+'\x20'+_0x47bb6a,_0xc56107--;_0x4c4d22=_0x47bb6a+_0x4c4d22,_0x3e45db['push'](_0x4c4d22['trim']());}return _0x3e45db;}(_0x2a720f,_0x5276e8);await _0x2a1c05(_0x48fc73,_0x2e6011,_0x18d6b5,_0x45b745,_0x5276e8,_0x449850,_0x1028d8,_0x16afd0);}async function _0x2a1c05(_0x5d1853,_0x2b5fae,_0x1491d4,_0x36eca6,_0x1f5fac,_0x5c99e6,_0x371478,_0x35ab40){const _0x3f49cd=_0xe992e3;if(await _0x50a54a[_0x3f49cd(0xa47)](0x1),_0x1f5fac['links']){for(const _0x56f795 of _0x1f5fac[_0x3f49cd(0x577)]){if(_0x56f795[_0x3f49cd(0x689)]===_0x1bcb29['Context'])continue;const _0x21e49a=_0x5c99e6[_0x3f49cd(0xa57)](_0x18b04b=>_0x18b04b['uid']===_0x56f795[_0x3f49cd(0x6b3)]);if(_0x21e49a)switch(_0x21e49a[_0x3f49cd(0x689)]){case _0x115e61[_0x3f49cd(0x2a4)]:_0x56f795['type']!==_0x1bcb29[_0x3f49cd(0x722)]&&_0x56f795[_0x3f49cd(0x689)]!==_0x1bcb29['Wait']||'string'!=typeof _0x2b5fae||await _0x527a81(_0x5d1853,_0x56f795[_0x3f49cd(0x689)],_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40),_0x56f795[_0x3f49cd(0x689)]===_0x1bcb29[_0x3f49cd(0x4a2)]&&'true'===_0x2b5fae&&await _0x527a81(_0x5d1853,_0x56f795[_0x3f49cd(0x689)],_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40),_0x56f795[_0x3f49cd(0x689)]===_0x1bcb29[_0x3f49cd(0x63c)]&&_0x3f49cd(0x813)===_0x2b5fae&&await _0x527a81(_0x5d1853,_0x56f795[_0x3f49cd(0x689)],_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40);break;case _0x115e61[_0x3f49cd(0x93a)]:_0x56f795[_0x3f49cd(0x689)]===_0x1bcb29[_0x3f49cd(0x722)]&&_0x3f49cd(0xab7)==typeof _0x2b5fae&&await _0x1155eb(_0x5d1853,_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40);break;case _0x115e61[_0x3f49cd(0x760)]:_0x56f795[_0x3f49cd(0x689)]===_0x1bcb29['Text']&&'string'==typeof _0x2b5fae&&await _0x276d6c(_0x5d1853,_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40),_0x56f795['type']===_0x1bcb29['Text']&&_0x2b5fae instanceof Array&&await _0x276d6c(_0x5d1853,_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40);break;case _0x115e61['SentenceSplitter']:_0x56f795[_0x3f49cd(0x689)]===_0x1bcb29[_0x3f49cd(0x722)]&&_0x3f49cd(0xab7)==typeof _0x2b5fae&&await _0xd80814(_0x5d1853,_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40);break;case _0x115e61[_0x3f49cd(0x99b)]:_0x56f795['type']===_0x1bcb29[_0x3f49cd(0x722)]&&_0x3f49cd(0xab7)==typeof _0x2b5fae&&await _0x37e860(_0x5d1853,_0x2b5fae,_0x1491d4,_0x36eca6,_0x21e49a,_0x5c99e6,_0x371478,_0x35ab40);}}_0x1f5fac[_0x3f49cd(0x689)]===_0x115e61['Prompt']&&_0x35ab40&&_0x35ab40[_0x3f49cd(0x5c8)](void 0x0);}else _0x1f5fac[_0x3f49cd(0x689)]===_0x115e61[_0x3f49cd(0x3d0)]&&_0x35ab40&&_0x35ab40['emit'](void 0x0);}function _0x12a699(_0x3f8f57,_0x5a1434){const _0x12570e=_0xe992e3;let _0xd969f5=0x0;for(const _0x5107b9 of _0x5a1434)for(const _0x517c50 of _0x5107b9[_0x12570e(0x577)]??[])_0x517c50[_0x12570e(0x689)]!==_0x1bcb29['Context']&&_0x517c50['type']!==_0x1bcb29[_0x12570e(0x7be)]&&_0x517c50['uid']===_0x3f8f57[_0x12570e(0x6b3)]&&_0xd969f5++;return _0xd969f5;}function _0x20ebc3(_0x1b7467,_0x34ac41){const _0x5dd62f=_0xe992e3,_0x59d9ac={'type':_0x1b7467[_0x5dd62f(0x689)],'name':_0x1b7467[_0x5dd62f(0x758)]??'','description':_0x1b7467[_0x5dd62f(0x544)]??'','parameters':_0x1b7467[_0x5dd62f(0xa76)]??[],'headers':_0x1b7467['headers']??[],'queryParameters':_0x1b7467[_0x5dd62f(0x583)]??[],'bodyParameters':_0x1b7467['bodyParameters']??[],'endpointUrl':_0x1b7467[_0x5dd62f(0x73c)]??'','endpointMethod':_0x1b7467['endpointMethod']??'','contextInputVariable':_0x1b7467['contextInputVariable']??'','contextOutputVariable':_0x1b7467['contextOutputVariable']??'','modelId':_0x1b7467[_0x5dd62f(0xad5)]??'','workflowId':_0x1b7467['workflowId']??'','async':_0x1b7467['async']??!0x1,'instructions':_0x1b7467[_0x5dd62f(0x23e)]??'','maxTokens':_0x1b7467[_0x5dd62f(0x67d)]??0x0,'temperature':_0x1b7467[_0x5dd62f(0x2b7)]??0x0,'grammar':_0x1b7467[_0x5dd62f(0x133)]??_0x5dd62f(0x479),'collectionId':_0x1b7467['type']===_0x115e61[_0x5dd62f(0x760)]||_0x1b7467[_0x5dd62f(0x689)]===_0x115e61['Knowledge']?_0x1b7467['id']:'','shouldEmit':_0x1b7467[_0x5dd62f(0x577)]?.[_0x5dd62f(0x276)](_0x1b07ec=>_0x1b07ec[_0x5dd62f(0x689)]===_0x1bcb29[_0x5dd62f(0x722)]&&_0x34ac41[_0x5dd62f(0xa57)](_0x39d3e8=>_0x39d3e8[_0x5dd62f(0x6b3)]===_0x1b07ec['uid'])?.['type']===_0x115e61[_0x5dd62f(0x8b4)])??!0x1};if(_0x1b7467[_0x5dd62f(0x689)]===_0x115e61[_0x5dd62f(0x852)])return[{..._0x59d9ac,'type':_0x981fb5[_0x5dd62f(0x63f)][_0x5dd62f(0x2db)],'questions':_0x1b7467[_0x5dd62f(0x2ff)]??[]},{..._0x59d9ac,'type':_0x981fb5[_0x5dd62f(0x63f)][_0x5dd62f(0x3eb)],'questions':_0x1b7467['questions']??[]},{..._0x59d9ac,'type':_0x981fb5[_0x5dd62f(0x63f)][_0x5dd62f(0x382)],'questions':_0x1b7467['questions']??[]}];if(_0x1b7467[_0x5dd62f(0x689)]===_0x115e61[_0x5dd62f(0x2a4)]||_0x1b7467['type']===_0x115e61[_0x5dd62f(0xab0)]||_0x1b7467[_0x5dd62f(0x689)]===_0x115e61[_0x5dd62f(0x556)]){const _0x2dc997=_0x34ac41[_0x5dd62f(0x1ee)](_0x4b3420=>_0x4b3420[_0x5dd62f(0x577)]?.[_0x5dd62f(0x276)](_0x53106c=>_0x53106c['uid']===_0x1b7467[_0x5dd62f(0x6b3)]&&_0x53106c[_0x5dd62f(0x689)]===_0x1bcb29[_0x5dd62f(0x7be)]));if(_0x2dc997[_0x5dd62f(0x756)]>0x0)return{..._0x59d9ac,'tools':_0x2dc997[_0x5dd62f(0x691)](_0x361c42=>_0x20ebc3(_0x361c42,_0x34ac41))};}return _0x59d9ac;}async function _0x527a81(_0x3bdc12,_0x3bd671,_0xb53b86,_0xfa9c1b,_0x228a1d,_0x4e22b1,_0x154f90,_0x2a384a,_0x597dd5){const _0x20a6cf=_0xe992e3;if(_0x4e22b1[_0x20a6cf(0x5c7)]||(_0x4e22b1[_0x20a6cf(0x5c7)]={}),_0x3bd671===_0x1bcb29[_0x20a6cf(0x722)]&&_0x20a6cf(0xab7)==typeof _0xb53b86&&(_0x4e22b1[_0x20a6cf(0x5c7)][_0x20a6cf(0x16a)]||(_0x4e22b1[_0x20a6cf(0x5c7)][_0x20a6cf(0x16a)]=[]),_0x4e22b1['accumulated'][_0x20a6cf(0x16a)][_0x20a6cf(0xae7)](_0xb53b86)),_0x4e22b1['timesCalled']=_0x4e22b1['timesCalled']?_0x4e22b1[_0x20a6cf(0x32f)]+0x1:0x1,_0x12a699(_0x4e22b1,_0x154f90)>_0x4e22b1[_0x20a6cf(0x32f)])return;if(_0xd64180[_0x20a6cf(0x58f)](_0x20a6cf(0x226)+_0x4e22b1[_0x20a6cf(0x758)],_0x4e22b1[_0x20a6cf(0x32f)]),!_0x4e22b1[_0x20a6cf(0x5c7)]['prompt'])throw new Error(_0x20a6cf(0x6a3)+_0x4e22b1['name']);const _0x343e9b=_0x2a384a[_0x20a6cf(0x28b)][_0x20a6cf(0xa57)](_0x455609=>_0x455609['id']===_0x4e22b1[_0x20a6cf(0xad5)]);if(!_0x343e9b)throw new Error(_0x20a6cf(0x15c)+_0x4e22b1[_0x20a6cf(0xad5)]);const _0xb43798=Date[_0x20a6cf(0x559)](),_0x42f3bb=(0x0,_0x2860a6['v4'])();let _0x2a1db7='',_0x1b6fc5=0x0,_0xf8e01f=0x0;const _0x1debce=[],_0x55819d=function(_0x5b97ef,_0x2165f3,_0x4a1775){const _0x35726f=_0x20a6cf;if(_0x4a1775[_0x35726f(0x7b3)]){const _0x297f28=_0x4a1775[_0x35726f(0x7b3)]['split'](',');for(const _0x4aa182 of _0x297f28)_0x35726f(0x73b)!==_0x4aa182&&_0x2165f3[_0x35726f(0x6c7)]?.[_0x4aa182]&&(_0x5b97ef='<'+_0x4aa182+'>'+_0x2165f3[_0x35726f(0x6c7)][_0x4aa182]+'</'+_0x4aa182+_0x35726f(0x693)+_0x5b97ef);}return _0x5b97ef;}(_0x4e22b1[_0x20a6cf(0x5c7)][_0x20a6cf(0x16a)][_0x20a6cf(0x9fb)]('\x0a\x0a'),_0x228a1d,_0x4e22b1);let _0x1bc2c0=_0x55819d;const _0x46a89e=_0x4e22b1['contextInputVariable']?.[_0x20a6cf(0x130)](',');if(_0x228a1d[_0x20a6cf(0x6c7)]?.[_0x20a6cf(0x73b)]&&_0x46a89e?.['includes'](_0x20a6cf(0x73b))){const _0x30f622=_0x228a1d[_0x20a6cf(0x6c7)]['files'][_0x20a6cf(0x130)](',');_0x1bc2c0=[];for(const _0x1b9314 of _0x30f622)_0x1bc2c0['push']({'type':_0x20a6cf(0x566),'file':{'file_id':_0x1b9314}});_0x1bc2c0[_0x20a6cf(0xae7)]({'type':_0x20a6cf(0x7e4),'text':_0x55819d});}_0x1debce[_0x20a6cf(0xae7)]({'role':'system','content':_0x4c8be0(_0xfa9c1b[_0x20a6cf(0x23e)]??'',_0x4e22b1,_0x343e9b)}),_0x1debce[_0x20a6cf(0xae7)](..._0xfa9c1b[_0x20a6cf(0x485)]?.[_0x20a6cf(0x7db)](_0x3745b1=>({'role':_0x3745b1['source']===_0x981fb5[_0x20a6cf(0x9c4)][_0x20a6cf(0x626)]?'user':_0x20a6cf(0x850),'content':_0x3745b1[_0x20a6cf(0x337)]}))??[]),_0x1debce['push']({'role':_0x20a6cf(0x837),'content':_0x1bc2c0});const _0x427047=_0x154f90['filter'](_0x472d69=>_0x472d69[_0x20a6cf(0x577)]?.[_0x20a6cf(0x276)](_0x1c2a27=>_0x1c2a27[_0x20a6cf(0x6b3)]===_0x4e22b1[_0x20a6cf(0x6b3)]&&_0x1c2a27[_0x20a6cf(0x689)]===_0x1bcb29['Tool']))['flatMap'](_0x10a13f=>_0x20ebc3(_0x10a13f,_0x154f90));if(_0x597dd5){const _0x1e6cfe=_0x4e22b1[_0x20a6cf(0x577)]?.['some'](_0x5474e5=>_0x5474e5[_0x20a6cf(0x689)]===_0x1bcb29[_0x20a6cf(0x722)]&&_0x154f90[_0x20a6cf(0xa57)](_0xb13cb6=>_0xb13cb6[_0x20a6cf(0x6b3)]===_0x5474e5[_0x20a6cf(0x6b3)])?.['type']===_0x115e61[_0x20a6cf(0x8b4)])??!0x1,_0x401438=await fetch(_0x201946[_0x20a6cf(0xa2a)]+_0x20a6cf(0x410),{'method':_0x20a6cf(0x832),'headers':{'Accept':_0x20a6cf(0x6d1),'Content-Type':_0x20a6cf(0x4d5),'x-vendor-id':_0xfa9c1b[_0x20a6cf(0x3ea)]},'body':JSON['stringify']({'model':_0x4e22b1['modelId'],'messages':_0x1debce,'max_completion_tokens':_0x4e22b1['maxTokens'],'temperature':_0x4e22b1[_0x20a6cf(0x2b7)],'metadata':{'threadId':_0xfa9c1b[_0x20a6cf(0x441)],'agentId':_0x42f3bb,'jobId':_0x3bdc12,'workflowId':_0xfa9c1b[_0x20a6cf(0xa11)],'context':_0x228a1d[_0x20a6cf(0x6c7)]??{}},'structured_output':_0x4e22b1[_0x20a6cf(0x133)],'tools':_0x427047,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x401438['ok']||!_0x401438[_0x20a6cf(0x6f2)])throw new Error(_0x20a6cf(0x4bf));const _0x228261=_0x401438[_0x20a6cf(0x6f2)][_0x20a6cf(0x2d8)](),_0x31c72f=new TextDecoder();for(;;){const {value:_0x3e8c76,done:_0x5e94b2}=await _0x228261[_0x20a6cf(0x752)]();if(_0x5e94b2)break;const _0x41b37f=_0x31c72f[_0x20a6cf(0x221)](_0x3e8c76,{'stream':!0x0});if(_0x20a6cf(0x5bd)===_0x41b37f)break;const _0x4e3dfc=_0x2592ba(_0x41b37f);for(const _0x51e574 of _0x4e3dfc)_0x51e574[_0x20a6cf(0x94f)]&&_0x51e574[_0x20a6cf(0x94f)][0x0]&&(_0x1e6cfe&&(_0x597dd5[_0x20a6cf(0x5c8)]({'output':_0x51e574[_0x20a6cf(0x94f)][0x0][_0x20a6cf(0x302)][_0x20a6cf(0x2e4)],'type':_0x20a6cf(0x16a)}),await _0x50a54a[_0x20a6cf(0xa47)](0x1)),_0x2a1db7+=_0x51e574[_0x20a6cf(0x94f)][0x0]['delta']['content']??'',_0x1b6fc5=_0x51e574[_0x20a6cf(0x338)]?.['prompt_tokens']??0x0,_0xf8e01f=_0x51e574[_0x20a6cf(0x338)]?.['completion_tokens']??0x0,_0x228a1d[_0x20a6cf(0x6c7)]={..._0x228a1d[_0x20a6cf(0x6c7)],..._0x51e574[_0x20a6cf(0xa86)]});}_0x228a1d[_0x20a6cf(0xa61)]=(_0x228a1d[_0x20a6cf(0xa61)]??0x0)+_0xf8e01f,_0x228a1d[_0x20a6cf(0x9be)]=(_0x228a1d[_0x20a6cf(0x9be)]??0x0)+_0x1b6fc5,_0x597dd5[_0x20a6cf(0x5c8)]({'output':_0x1e6cfe?'\x0a\x0a':'','type':'prompt'}),await _0x50a54a[_0x20a6cf(0xa47)](0x1);}else{const _0x5e3666=await fetch(_0x201946['apiUrl']+_0x20a6cf(0x410),{'method':'POST','headers':{'Content-Type':_0x20a6cf(0x4d5),'x-vendor-id':_0xfa9c1b['vendorId']},'body':JSON['stringify']({'model':_0x4e22b1[_0x20a6cf(0xad5)],'messages':_0x1debce,'max_completion_tokens':_0x4e22b1[_0x20a6cf(0x67d)],'temperature':_0x4e22b1['temperature'],'metadata':{'threadId':_0xfa9c1b[_0x20a6cf(0x441)],'agentId':_0x42f3bb,'jobId':_0x3bdc12,'workflowId':_0xfa9c1b[_0x20a6cf(0xa11)],'context':_0x228a1d['internalContext']??{}},'structured_output':_0x4e22b1[_0x20a6cf(0x133)],'tools':_0x427047})}),_0x43f494=await _0x5e3666['json']();_0x2a1db7=_0x43f494[_0x20a6cf(0x94f)][0x0][_0x20a6cf(0x337)][_0x20a6cf(0x2e4)],_0x1b6fc5=_0x43f494[_0x20a6cf(0x338)][_0x20a6cf(0x958)],_0xf8e01f=_0x43f494[_0x20a6cf(0x338)][_0x20a6cf(0x232)],_0x228a1d[_0x20a6cf(0x545)]=_0x2a1db7,_0x228a1d[_0x20a6cf(0x6c7)]={..._0x228a1d['internalContext'],..._0x43f494['context']},_0x228a1d['outputTokens']=(_0x228a1d[_0x20a6cf(0xa61)]??0x0)+_0xf8e01f,_0x228a1d[_0x20a6cf(0x9be)]=(_0x228a1d[_0x20a6cf(0x9be)]??0x0)+_0x1b6fc5;}if(_0x4e22b1[_0x20a6cf(0x727)]&&(_0x228a1d[_0x20a6cf(0x6c7)]||(_0x228a1d[_0x20a6cf(0x6c7)]={}),_0x228a1d[_0x20a6cf(0x6c7)][_0x4e22b1[_0x20a6cf(0x727)]]=_0x2a1db7),await _0x45b70a[_0x20a6cf(0x41f)]({'jobType':_0x883e8c[_0x20a6cf(0x33c)],'type':_0xeda98f[_0x20a6cf(0x8de)],'jobId':_0x3bdc12,'agentId':_0x42f3bb,'threadId':_0xfa9c1b['threadId'],'traceLevel':_0x1ceba1[_0x20a6cf(0x5cb)],'startTime':_0xb43798,'timestamp':Date['now'](),'blockId':_0x4e22b1['id'],'status':'success','output':_0x2a1db7,'prompt':_0x55819d,'agentName':_0x4e22b1[_0x20a6cf(0x758)],'history':[],'instructions':''+_0x4e22b1['instructions']+(_0xfa9c1b[_0x20a6cf(0x23e)]??''),'ragContext':[],'inputTokens':_0x1b6fc5??0x0,'outputTokens':_0xf8e01f??0x0}),_0x20a6cf(0x300)===_0x4e22b1[_0x20a6cf(0x133)])try{_0x2a1db7=JSON[_0x20a6cf(0xa0d)](_0x2a1db7)[_0x20a6cf(0xa2c)]?_0x20a6cf(0x530):_0x20a6cf(0x813);}catch(_0xc60838){console[_0x20a6cf(0x77b)]('Error\x20parsing\x20JSON:',_0x2a1db7),_0x2a1db7='false';}await _0x2a1c05(_0x3bdc12,_0x2a1db7,_0xfa9c1b,_0x228a1d,_0x4e22b1,_0x154f90,_0x2a384a,_0x597dd5);}function _0x4c8be0(_0x250f01,_0x7e80b7,_0xf8441f){const _0x333598=_0xe992e3;let _0x5564b7='';return _0xf8441f[_0x333598(0x26a)]&&''!==_0xf8441f['knowledgeCutoffDate']&&(_0x5564b7=_0x333598(0x8a6)+_0xf8441f[_0x333598(0x26a)]+'\x0a\x0a'),_0x5564b7=_0x5564b7+'Today\x20Date:\x20'+new Date()['toLocaleDateString'](void 0x0,{'weekday':_0x333598(0x795),'year':'numeric','month':'long','day':_0x333598(0x4d4)})+'\x0a\x0a',''+_0x5564b7+_0x7e80b7[_0x333598(0x23e)]+_0x250f01;}function _0x2592ba(_0x4a6e9c){const _0x4c9c3d=_0xe992e3;return _0x4a6e9c['split'](_0x4c9c3d(0x76e))['map'](_0x195353=>_0x195353['replace'](_0x4c9c3d(0x6ad),'')['trim']())[_0x4c9c3d(0x1ee)](_0x2738a0=>''!==_0x2738a0)['map'](_0x256de6=>{const _0x416075=_0x4c9c3d;if('[DONE]'===_0x256de6)return null;try{return JSON[_0x416075(0xa0d)](_0x256de6);}catch(_0x50bb03){return console[_0x416075(0x77b)](_0x416075(0xafe),_0x256de6),null;}})[_0x4c9c3d(0x1ee)](_0x4e0b66=>null!==_0x4e0b66);}async function _0x542910(_0xaf5e2,_0x13fa1c,_0x4b4c5e,_0x379f57,_0x471507,_0x155ae8,_0x3b587b){const _0x4984a4=_0xe992e3,_0x2a4c54=_0x4984a4(0xa16)+_0x471507[_0x4984a4(0x544)]+_0x4984a4(0x381),_0x39d291={'prompt':{'type':_0x981fb5['PromptFunctionParamsType'][_0x4984a4(0x5e1)]}};return await _0x45b70a[_0x4984a4(0x41f)]({'jobType':_0x883e8c[_0x4984a4(0x37f)],'type':_0x2713ea[_0x4984a4(0x7eb)],'jobId':_0xaf5e2,'agentId':_0x13fa1c,'threadId':_0x4b4c5e['threadId'],'traceLevel':_0x1ceba1['Info'],'startTime':Date[_0x4984a4(0x559)](),'timestamp':Date['now'](),'status':'success','function':_0x175bd1['ExecuteAgent'],'params':_0x39d291,'functionDescription':_0x2a4c54}),{'description':_0x2a4c54,'params':_0x39d291,'callback':async _0x36de5a=>_0x4c9a6d(_0x4b4c5e[_0x4984a4(0x3ea)],_0x471507,_0x155ae8,_0x36de5a,_0x379f57,_0xaf5e2,_0x13fa1c,_0x4b4c5e['threadId'],_0x3b587b)};}async function _0x4c9a6d(_0xac8682,_0x1bc618,_0x2409a0,_0x2e4612,_0x2ffc9d,_0xe6a493,_0x2eca8d,_0x3b46ba,_0x4692ea){const _0x478cc0=_0xe992e3,_0x242307=Date[_0x478cc0(0x559)]();try{if(_0x478cc0(0xab7)!=typeof _0x2e4612?.[_0x478cc0(0x16a)])throw new Error('Prompt\x20is\x20required');if(!_0x2409a0[_0x478cc0(0x28b)][_0x478cc0(0xa57)](_0x4b981e=>_0x4b981e['id']===_0x1bc618[_0x478cc0(0xad5)]))throw new Error(_0x478cc0(0x3b7));let _0x505e67='',_0x1bca36=[];if(_0x1bc618['instructions']&&_0x1bca36['push']({'role':'system','content':_0x1bc618[_0x478cc0(0x23e)]}),_0x1bca36[_0x478cc0(0xae7)]({'role':_0x478cc0(0x837),'content':_0x2e4612['prompt']}),_0x4692ea&&_0x1bc618[_0x478cc0(0x154)]){const _0x43e45d=await fetch(_0x201946[_0x478cc0(0xa2a)]+_0x478cc0(0x410),{'method':_0x478cc0(0x832),'headers':{'Accept':_0x478cc0(0x6d1),'Content-Type':_0x478cc0(0x4d5),'x-vendor-id':_0xac8682},'body':JSON[_0x478cc0(0x719)]({'model':_0x1bc618[_0x478cc0(0xad5)],'messages':_0x1bca36,'max_completion_tokens':_0x1bc618['maxTokens'],'temperature':_0x1bc618[_0x478cc0(0x2b7)],'tools':_0x1bc618['tools'],'structured_output':_0x1bc618[_0x478cc0(0x133)],'metadata':{'threadId':_0x3b46ba,'jobId':_0xe6a493,'agentId':_0x2eca8d,'context':_0x2ffc9d?.[_0x478cc0(0x6c7)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x43e45d['ok']||!_0x43e45d[_0x478cc0(0x6f2)])throw new Error(_0x478cc0(0x4bf));const _0x3acff0=_0x43e45d[_0x478cc0(0x6f2)][_0x478cc0(0x2d8)](),_0x5dc801=new TextDecoder();let _0x1d145b=0x0,_0x16e733=0x0,_0x1b62cd='';for(;;){const {value:_0x403187,done:_0x403bb8}=await _0x3acff0[_0x478cc0(0x752)]();if(_0x403bb8)break;const _0x6b9e8b=_0x5dc801[_0x478cc0(0x221)](_0x403187,{'stream':!0x0});if(_0x478cc0(0x5bd)===_0x6b9e8b)break;const _0x210d27=_0x2592ba(_0x6b9e8b);for(const _0x5240cf of _0x210d27)_0x5240cf['choices']&&_0x5240cf[_0x478cc0(0x94f)][0x0]&&(_0x1b62cd+=_0x5240cf['choices'][0x0][_0x478cc0(0x302)]['content'],_0x1d145b+=_0x5240cf['usage']?.[_0x478cc0(0x86c)]??0x0,_0x16e733+=_0x5240cf['usage']?.[_0x478cc0(0x650)]??0x0,_0x2ffc9d&&(_0x2ffc9d[_0x478cc0(0x6c7)]={..._0x2ffc9d[_0x478cc0(0x6c7)],..._0x5240cf[_0x478cc0(0xa86)]}),_0x4692ea[_0x478cc0(0x5c8)]({'output':_0x5240cf['choices'][0x0][_0x478cc0(0x302)]['content'],'type':_0x478cc0(0x16a)}),await _0x50a54a[_0x478cc0(0xa47)](0x1));}_0x2ffc9d&&(_0x2ffc9d['outputTokens']=(_0x2ffc9d[_0x478cc0(0xa61)]??0x0)+_0x16e733,_0x2ffc9d[_0x478cc0(0x9be)]=(_0x2ffc9d[_0x478cc0(0x9be)]??0x0)+_0x1d145b,_0x1bc618[_0x478cc0(0x727)]&&(_0x2ffc9d[_0x478cc0(0x6c7)]||(_0x2ffc9d[_0x478cc0(0x6c7)]={}),_0x2ffc9d['internalContext'][_0x1bc618[_0x478cc0(0x727)]]=_0x1b62cd)),_0x4692ea[_0x478cc0(0x5c8)]({'output':'\x0a\x0a','type':'prompt'}),await _0x50a54a['wait'](0x1),_0x505e67=_0x478cc0(0x47b);}else{const _0x233f3c=await fetch(_0x201946['apiUrl']+_0x478cc0(0x410),{'method':_0x478cc0(0x832),'headers':{'Content-Type':_0x478cc0(0x4d5),'x-vendor-id':_0xac8682},'body':JSON[_0x478cc0(0x719)]({'model':_0x1bc618['modelId'],'messages':_0x1bca36,'max_completion_tokens':_0x1bc618['maxTokens'],'temperature':_0x1bc618[_0x478cc0(0x2b7)],'tools':_0x1bc618[_0x478cc0(0xb13)],'structured_output':_0x1bc618[_0x478cc0(0x133)],'metadata':{'threadId':_0x3b46ba,'jobId':_0xe6a493,'agentId':_0x2eca8d,'context':_0x2ffc9d?.[_0x478cc0(0x6c7)]??{}}})}),_0x3f6588=await _0x233f3c[_0x478cc0(0x472)]();_0x505e67=_0x3f6588[_0x478cc0(0x94f)][0x0][_0x478cc0(0x337)][_0x478cc0(0x2e4)],_0x2ffc9d&&(_0x2ffc9d[_0x478cc0(0x6c7)]={..._0x2ffc9d[_0x478cc0(0x6c7)],..._0x3f6588[_0x478cc0(0xa86)]},_0x2ffc9d[_0x478cc0(0xa61)]=(_0x2ffc9d['outputTokens']??0x0)+_0x3f6588[_0x478cc0(0x338)][_0x478cc0(0x232)],_0x2ffc9d[_0x478cc0(0x9be)]=(_0x2ffc9d[_0x478cc0(0x9be)]??0x0)+_0x3f6588['usage'][_0x478cc0(0x958)],_0x1bc618[_0x478cc0(0x727)]&&(_0x2ffc9d[_0x478cc0(0x6c7)]||(_0x2ffc9d[_0x478cc0(0x6c7)]={}),_0x2ffc9d[_0x478cc0(0x6c7)][_0x1bc618['contextOutputVariable']]=_0x505e67));}if('string'!=typeof _0x505e67)throw new Error(_0x478cc0(0x94a));return _0xe6a493&&_0x2eca8d&&_0x3b46ba&&await _0x45b70a[_0x478cc0(0x41f)]({'jobType':_0x883e8c[_0x478cc0(0x404)],'type':_0x175bd1[_0x478cc0(0x73e)],'jobId':_0xe6a493,'blockId':_0x478cc0(0x7e9),'agentId':_0x2eca8d,'threadId':_0x3b46ba,'traceLevel':_0x1ceba1[_0x478cc0(0x5cb)],'startTime':_0x242307,'timestamp':Date[_0x478cc0(0x559)](),'status':_0x478cc0(0x20c),'agentName':_0x1bc618['name'],'prompt':_0x2e4612[_0x478cc0(0x16a)],'instructions':_0x1bc618[_0x478cc0(0x23e)]??'','result':_0x505e67,'inputTokens':0x0,'outputTokens':0x0}),_0x505e67;}catch(_0xb9f30b){return console[_0x478cc0(0x77b)](_0xb9f30b),_0xe6a493&&_0x2eca8d&&_0x3b46ba&&await _0x45b70a[_0x478cc0(0x41f)]({'jobType':_0x883e8c['Skill'],'type':_0x175bd1[_0x478cc0(0x73e)],'jobId':_0xe6a493,'blockId':_0x478cc0(0x7e9),'agentId':_0x2eca8d,'threadId':_0x3b46ba,'traceLevel':_0x1ceba1['Info'],'startTime':_0x242307,'timestamp':Date[_0x478cc0(0x559)](),'status':'error','errorDetails':_0x50959a(_0xb9f30b),'agentName':_0x1bc618[_0x478cc0(0x758)],'prompt':_0x2e4612?.['prompt']??'','instructions':_0x1bc618[_0x478cc0(0x23e)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0xb9f30b instanceof Error?_0xb9f30b['message']:'Error\x20executing\x20agent';}}async function _0x2f5ef3(_0x26a7da,_0x15095c,_0x2c2194,_0x32436f,_0x5c5104,_0xbe231){const _0x336427=_0xe992e3,_0x50d114=Date[_0x336427(0x559)]();try{if(!_0x15095c[_0x336427(0x6ee)])throw new Error(_0x336427(0x297));if(!_0x26a7da[_0x336427(0xad5)])throw new Error('Model\x20ID\x20is\x20required');if(_0x336427(0xab7)!=typeof _0x2c2194?.[_0x336427(0x424)])throw new Error(_0x336427(0x4db));const _0xb799f4=await _0x15095c[_0x336427(0x6ee)][_0x336427(0x74b)](_0x2c2194[_0x336427(0x424)],_0x26a7da[_0x336427(0xad5)]);return _0x32436f&&_0x5c5104&&_0xbe231&&await _0x45b70a[_0x336427(0x41f)]({'jobType':_0x883e8c['Skill'],'type':_0x175bd1['SearchPerplexity'],'jobId':_0x32436f,'agentId':_0x5c5104,'threadId':_0xbe231,'blockId':'ai-search','traceLevel':_0x1ceba1[_0x336427(0x5cb)],'startTime':_0x50d114,'timestamp':Date[_0x336427(0x559)](),'status':_0x336427(0x20c),'query':_0x2c2194[_0x336427(0x424)],'results':_0xb799f4}),_0xb799f4;}catch(_0x4820ba){return console[_0x336427(0x77b)](_0x4820ba),_0x32436f&&_0x5c5104&&_0xbe231&&await _0x45b70a['trace']({'jobType':_0x883e8c[_0x336427(0x404)],'type':_0x175bd1[_0x336427(0x598)],'jobId':_0x32436f,'blockId':_0x336427(0x321),'traceLevel':_0x1ceba1[_0x336427(0x5cb)],'startTime':_0x50d114,'timestamp':Date[_0x336427(0x559)](),'status':_0x336427(0x77b),'errorDetails':_0x50959a(_0x4820ba),'agentId':_0x5c5104,'threadId':_0xbe231,'query':_0x2c2194?.[_0x336427(0x424)]??'','results':_0x336427(0x7c6)}),_0x4820ba instanceof Error?_0x4820ba[_0x336427(0x337)]:_0x336427(0x7c6);}}async function _0x5837fc(_0x775f9c,_0x2bc93f,_0x20b842,_0x12731a){const _0x380a82=_0xe992e3,_0x30f90e=Date[_0x380a82(0x559)]();try{if('string'!=typeof _0x775f9c?.[_0x380a82(0x14f)])throw new Error(_0x380a82(0x571));const _0x598662=Function(''+_0x775f9c?.[_0x380a82(0x14f)])();let _0x80d1c0='';try{_0x80d1c0=JSON['stringify'](_0x598662);}catch{_0x80d1c0=_0x598662['toString']();}return _0x2bc93f&&_0x20b842&&_0x12731a&&await _0x45b70a[_0x380a82(0x41f)]({'jobType':_0x883e8c[_0x380a82(0x404)],'type':_0x175bd1[_0x380a82(0x309)],'agentId':_0x20b842,'threadId':_0x12731a,'jobId':_0x2bc93f,'blockId':_0x380a82(0x14f),'traceLevel':_0x1ceba1[_0x380a82(0x5cb)],'startTime':_0x30f90e,'timestamp':Date[_0x380a82(0x559)](),'status':_0x380a82(0x20c),'code':_0x775f9c[_0x380a82(0x14f)],'result':_0x80d1c0}),_0x598662;}catch(_0x3318b0){return console[_0x380a82(0x77b)](_0x3318b0),_0x2bc93f&&_0x20b842&&_0x12731a&&await _0x45b70a[_0x380a82(0x41f)]({'jobType':_0x883e8c[_0x380a82(0x404)],'type':_0x175bd1[_0x380a82(0x309)],'jobId':_0x2bc93f,'blockId':_0x380a82(0x14f),'traceLevel':_0x1ceba1['Info'],'startTime':_0x30f90e,'timestamp':Date[_0x380a82(0x559)](),'status':'error','errorDetails':_0x50959a(_0x3318b0),'agentId':_0x20b842,'threadId':_0x12731a,'code':_0x775f9c?.[_0x380a82(0x14f)]??'','result':_0x380a82(0x75d)}),_0x3318b0 instanceof Error?_0x3318b0[_0x380a82(0x337)]:'Error\x20executing\x20code';}}async function _0x17fa3b(_0x2a2d69,_0x46067d,_0x51415c,_0x4e78fb,_0xb4ef8a){const _0x51033c=_0xe992e3,_0x4a62b0='Search\x20in\x20data\x20collection\x20'+_0xb4ef8a[_0x51033c(0x544)]+_0x51033c(0xa40),_0x271f2a={'queryOrPrompt':{'type':_0x981fb5[_0x51033c(0x3c2)][_0x51033c(0x5e1)]}};return await _0x45b70a['trace']({'jobType':_0x883e8c[_0x51033c(0x37f)],'type':_0x2713ea['LoadKnowledgeFunction'],'jobId':_0x2a2d69,'agentId':_0x46067d,'threadId':_0x51415c[_0x51033c(0x441)],'blockId':_0x51033c(0x8d3),'traceLevel':_0x1ceba1[_0x51033c(0x5cb)],'startTime':Date[_0x51033c(0x559)](),'timestamp':Date[_0x51033c(0x559)](),'status':'success','function':_0x3dc290[_0x51033c(0x159)],'params':_0x271f2a,'functionDescription':_0x4a62b0}),{'description':_0x4a62b0,'params':_0x271f2a,'callback':async _0x153d8d=>_0x4aebe9(_0x51415c[_0x51033c(0x3ea)],_0xb4ef8a,_0x153d8d,_0x4e78fb,_0x2a2d69,_0x46067d,_0x51415c[_0x51033c(0x441)])};}async function _0x4aebe9(_0x34a22e,_0x19c7e0,_0x4e9fb5,_0x3a6dff,_0x2f1720,_0x289371,_0x35949b){const _0x1545f1=_0xe992e3,_0x5d2105=Date[_0x1545f1(0x559)]();try{if(_0x1545f1(0xab7)!=typeof _0x4e9fb5?.['queryOrPrompt'])throw new Error(_0x1545f1(0x4db));const _0x347839=await fetch(_0x201946[_0x1545f1(0xa2a)]+'/vector_stores/'+_0x19c7e0['collectionId']+_0x1545f1(0xa46),{'method':_0x1545f1(0x832),'headers':{'Content-Type':_0x1545f1(0x4d5),'x-vendor-id':_0x34a22e},'body':JSON[_0x1545f1(0x719)]({'query':_0x4e9fb5[_0x1545f1(0x774)]})}),_0x548d13=((await _0x347839['json']())[_0x1545f1(0x9a6)]??[])[_0x1545f1(0x7db)](_0x461b3c=>({'pathName':_0x461b3c[_0x1545f1(0x1e1)],'relevance':_0x461b3c[_0x1545f1(0x1d4)],'content':_0x461b3c['content'][_0x1545f1(0x7e4)]}));return _0x3a6dff&&(_0x3a6dff[_0x1545f1(0xa86)]=Array[_0x1545f1(0x79e)](new Set([..._0x3a6dff[_0x1545f1(0xa86)]??[],..._0x548d13]))),_0x2f1720&&_0x289371&&_0x35949b&&await _0x45b70a[_0x1545f1(0x41f)]({'jobType':_0x883e8c[_0x1545f1(0x7bc)],'type':_0x3dc290[_0x1545f1(0xaf1)],'jobId':_0x2f1720,'blockId':_0x1545f1(0x8d3),'agentId':_0x289371,'threadId':_0x35949b,'traceLevel':_0x1ceba1[_0x1545f1(0x5cb)],'startTime':_0x5d2105,'timestamp':Date['now'](),'status':'success','query':_0x4e9fb5['queryOrPrompt'],'context':_0x548d13??[],'inputTokens':0x0,'outputTokens':0x0}),_0x548d13['reduce']((_0x1b2f7e,_0x262d1f)=>_0x1b2f7e+'\x0a'+_0x262d1f[_0x1545f1(0x2e4)],'');}catch(_0x361301){return console[_0x1545f1(0x77b)](_0x361301),_0x2f1720&&_0x289371&&_0x35949b&&await _0x45b70a['trace']({'jobType':_0x883e8c['Knowledge'],'type':_0x3dc290[_0x1545f1(0xaf1)],'jobId':_0x2f1720,'blockId':_0x1545f1(0x8d3),'agentId':_0x289371,'threadId':_0x35949b,'traceLevel':_0x1ceba1[_0x1545f1(0x5cb)],'startTime':_0x5d2105,'timestamp':Date[_0x1545f1(0x559)](),'status':'error','errorDetails':_0x50959a(_0x361301),'query':_0x4e9fb5?.[_0x1545f1(0x774)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x361301 instanceof Error?_0x361301['message']:'Error\x20retrieving\x20context';}}async function _0x3c69d7(_0x3b1b1b,_0x574476,_0x5e52d8,_0x27f1d8,_0x1aa1d5){const _0x86f3a0=_0xe992e3,_0x291c1d={};for(const _0x5bbf74 of _0x1aa1d5['parameters']??[])switch(_0x5bbf74[_0x86f3a0(0x689)]){case'string':case'json':_0x291c1d[_0x5bbf74['name']]={'type':_0x981fb5[_0x86f3a0(0x3c2)]['String']};break;case _0x86f3a0(0x7cd):_0x291c1d[_0x5bbf74[_0x86f3a0(0x758)]]={'type':_0x981fb5[_0x86f3a0(0x3c2)][_0x86f3a0(0x59a)]};break;case _0x86f3a0(0xae6):_0x291c1d[_0x5bbf74[_0x86f3a0(0x758)]]={'type':_0x981fb5[_0x86f3a0(0x3c2)][_0x86f3a0(0xac4)]};}return await _0x45b70a[_0x86f3a0(0x41f)]({'jobType':_0x883e8c[_0x86f3a0(0x37f)],'type':_0x2713ea[_0x86f3a0(0x7eb)],'jobId':_0x3b1b1b,'agentId':_0x574476,'threadId':_0x5e52d8,'traceLevel':_0x1ceba1[_0x86f3a0(0x5cb)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x86f3a0(0x20c),'function':_0x175bd1[_0x86f3a0(0x505)],'params':_0x291c1d,'functionDescription':_0x1aa1d5['description']??''}),{'description':_0x86f3a0(0x9ec)+_0x1aa1d5[_0x86f3a0(0x544)],'params':_0x291c1d,'callback':async _0x6b816a=>_0x272703(_0x1aa1d5,_0x6b816a,_0x27f1d8,_0x3b1b1b,_0x574476,_0x5e52d8)};}async function _0x272703(_0x17cc90,_0x3100e7,_0x296658,_0x59d2ba,_0x16e477,_0x3b33c8){const _0x15e372=_0xe992e3,_0x44aa3e=Date[_0x15e372(0x559)]();try{if(!_0x3100e7)throw new Error(_0x15e372(0x6ba));for(const _0x960fd9 of _0x17cc90['parameters']??[]){if(void 0x0===_0x3100e7[_0x960fd9[_0x15e372(0x758)]])throw new Error('Parameter\x20'+_0x960fd9[_0x15e372(0x758)]+_0x15e372(0x9d5));if('string'===_0x960fd9[_0x15e372(0x689)]&&_0x15e372(0xab7)!=typeof _0x3100e7[_0x960fd9[_0x15e372(0x758)]])throw new Error(_0x15e372(0x211)+_0x960fd9[_0x15e372(0x758)]+_0x15e372(0x950));if(_0x15e372(0x7cd)===_0x960fd9[_0x15e372(0x689)]&&_0x15e372(0x7cd)!=typeof _0x3100e7[_0x960fd9['name']])throw new Error(_0x15e372(0x211)+_0x960fd9[_0x15e372(0x758)]+'\x20must\x20be\x20a\x20number');if(_0x15e372(0xae6)===_0x960fd9['type']&&_0x15e372(0xae6)!=typeof _0x3100e7[_0x960fd9[_0x15e372(0x758)]])throw new Error(_0x15e372(0x211)+_0x960fd9[_0x15e372(0x758)]+_0x15e372(0x761));if(_0x15e372(0x472)===_0x960fd9[_0x15e372(0x689)]&&_0x15e372(0xab7)!=typeof _0x3100e7[_0x960fd9['name']])throw new Error('Parameter\x20'+_0x960fd9[_0x15e372(0x758)]+'\x20must\x20be\x20a\x20string');if(_0x15e372(0x472)===_0x960fd9[_0x15e372(0x689)])try{_0x3100e7[_0x960fd9['name']]=JSON[_0x15e372(0xa0d)](_0x3100e7[_0x960fd9[_0x15e372(0x758)]]);}catch{throw new Error('Parameter\x20'+_0x960fd9[_0x15e372(0x758)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x409c45={};for(const _0x1ab6ec of _0x17cc90[_0x15e372(0x49f)]??[]){let _0x4937d2=_0x1ab6ec[_0x15e372(0x299)];_0x4937d2[_0x15e372(0x652)](/\$[a-zA-Z0-9]+/)&&(_0x4937d2=_0x4937d2[_0x15e372(0x9d7)](/\$[a-zA-Z0-9]+/g,_0x5c8dea=>{const _0x1a99ba=_0x15e372,_0x598000=_0x5c8dea[_0x1a99ba(0x4c8)](0x1);return _0x3100e7[_0x598000];})),_0x409c45[_0x1ab6ec[_0x15e372(0x758)]]=_0x4937d2;}const _0x1d2962=new URLSearchParams();for(const _0x46b5fe of _0x17cc90[_0x15e372(0x583)]??[]){let _0x19e041=_0x46b5fe['value'];if(_0x15e372(0xab7)==typeof _0x19e041&&_0x19e041['startsWith']('$')){const _0x202a42=_0x19e041['slice'](0x1);_0x19e041=_0x3100e7[_0x202a42];}if(_0x15e372(0xab7)==typeof _0x19e041&&_0x19e041[_0x15e372(0x654)](_0x15e372(0x533))){const _0x58830d=_0x19e041[_0x15e372(0x9d7)]('@context.','');if(_0x19e041=_0x296658?.[_0x15e372(0x6c7)]?.[_0x58830d],'string'==typeof _0x19e041&&_0x19e041[_0x15e372(0x654)]('{')&&_0x19e041[_0x15e372(0x273)]('}'))try{_0x19e041=JSON['parse'](_0x19e041);}catch{}}_0x15e372(0xab7)==typeof _0x19e041&&_0x19e041[_0x15e372(0x654)]('[')&&_0x19e041[_0x15e372(0x273)](']')&&(_0x19e041=JSON['parse'](_0x19e041)),_0x1d2962[_0x15e372(0x675)](_0x46b5fe['name'],_0x19e041);}let _0x5adccd,_0x3d43fb=_0x17cc90[_0x15e372(0x73c)]??'';_0x1d2962[_0x15e372(0x73d)]>0x0&&(_0x3d43fb+='?'+_0x1d2962[_0x15e372(0x53b)]());for(const _0x50b8d0 of _0x17cc90[_0x15e372(0x324)]??[]){void 0x0===_0x5adccd&&(_0x5adccd={});let _0x1ff08f=_0x50b8d0[_0x15e372(0x299)];if(_0x15e372(0xab7)==typeof _0x1ff08f&&_0x1ff08f[_0x15e372(0x654)]('$')){const _0x526e0b=_0x1ff08f[_0x15e372(0x4c8)](0x1);_0x1ff08f=_0x3100e7[_0x526e0b];}if(_0x15e372(0xab7)==typeof _0x1ff08f&&_0x1ff08f[_0x15e372(0x654)](_0x15e372(0x533))){const _0x4babf4=_0x1ff08f['replace'](_0x15e372(0x533),'');if(_0x1ff08f=_0x296658?.['internalContext']?.[_0x4babf4],'string'==typeof _0x1ff08f&&_0x1ff08f[_0x15e372(0x654)]('{')&&_0x1ff08f['endsWith']('}'))try{_0x1ff08f=JSON[_0x15e372(0xa0d)](_0x1ff08f);}catch{}}if(_0x15e372(0xab7)==typeof _0x1ff08f&&_0x1ff08f['startsWith']('[')&&_0x1ff08f[_0x15e372(0x273)](']')&&(_0x1ff08f=JSON[_0x15e372(0xa0d)](_0x1ff08f)),'@root'===_0x50b8d0[_0x15e372(0x758)]){const _0x486801=_0x1ff08f[_0x15e372(0x652)](/```html(.*)```/s);_0x486801&&(_0x1ff08f=_0x486801[0x1]),_0x1ff08f=_0x1ff08f[_0x15e372(0x9d7)](/\n/g,''),_0x1ff08f=_0x1ff08f[_0x15e372(0x9d7)](/'/g,'\x22'),_0x5adccd=_0x1ff08f;break;}if(-0x1===_0x50b8d0['name']['indexOf']('.'))_0x5adccd[_0x50b8d0[_0x15e372(0x758)]]=_0x1ff08f;else{const [_0x44d0d1,_0x3bc7f8]=_0x50b8d0['name'][_0x15e372(0x130)]('.');_0x5adccd[_0x44d0d1]||(_0x5adccd[_0x44d0d1]={}),_0x5adccd[_0x44d0d1][_0x3bc7f8]=_0x1ff08f;}}console['log'](_0x15e372(0x593)+_0x17cc90[_0x15e372(0x758)]+_0x15e372(0x7a8)+JSON[_0x15e372(0x719)](_0x5adccd));const _0x34a18b=await fetch(_0x3d43fb,{'method':_0x17cc90['endpointMethod'],'headers':_0x409c45,'body':void 0x0===_0x5adccd?void 0x0:_0x15e372(0xab7)==typeof _0x5adccd?_0x5adccd:JSON[_0x15e372(0x719)](_0x5adccd)});if(_0x34a18b['ok']){let _0x1eebe2=await _0x34a18b[_0x15e372(0x472)]();return _0x15e372(0xab7)!=typeof _0x1eebe2&&(_0x1eebe2=JSON[_0x15e372(0x719)](_0x1eebe2)),_0x59d2ba&&_0x16e477&&_0x3b33c8&&await _0x45b70a[_0x15e372(0x41f)]({'jobType':_0x883e8c['Skill'],'type':_0x175bd1['ExecuteCustomSkill'],'jobId':_0x59d2ba,'agentId':_0x16e477,'threadId':_0x3b33c8,'blockId':'custom-skill','traceLevel':_0x1ceba1[_0x15e372(0x5cb)],'startTime':_0x44aa3e,'timestamp':Date[_0x15e372(0x559)](),'status':_0x15e372(0x20c),'skillName':_0x17cc90['name'],'params':_0x3100e7,'result':_0x1eebe2}),_0x296658&&_0x17cc90[_0x15e372(0x727)]&&''!==_0x17cc90[_0x15e372(0x727)]&&(_0x296658[_0x15e372(0x6c7)]||(_0x296658['internalContext']={}),_0x296658[_0x15e372(0x6c7)][_0x17cc90[_0x15e372(0x727)]]=_0x1eebe2),_0x1eebe2;}throw new Error(_0x34a18b[_0x15e372(0x8bd)]);}catch(_0x6fcb1){console[_0x15e372(0x77b)](_0x6fcb1);const _0x2dec37=_0x6fcb1 instanceof Error?_0x6fcb1[_0x15e372(0x337)]:_0x15e372(0x15f);return _0x59d2ba&&_0x16e477&&_0x3b33c8&&await _0x45b70a[_0x15e372(0x41f)]({'jobType':_0x883e8c[_0x15e372(0x404)],'type':_0x175bd1[_0x15e372(0x505)],'jobId':_0x59d2ba,'blockId':_0x15e372(0x55a),'threadId':_0x3b33c8,'traceLevel':_0x1ceba1[_0x15e372(0x5cb)],'startTime':_0x44aa3e,'timestamp':Date[_0x15e372(0x559)](),'agentId':_0x16e477,'status':_0x15e372(0x77b),'skillName':_0x17cc90[_0x15e372(0x758)],'params':_0x3100e7??{},'result':_0x2dec37}),_0x2dec37;}}async function _0x14cf44(_0x129c3b,_0x16d872,_0x2d6fe9,_0x2f1486=!0x0){const _0x268b8c=_0xe992e3,_0x4233e0=_0x268b8c(0x8ff),_0x2ccba6={'url':{'type':_0x981fb5['PromptFunctionParamsType'][_0x268b8c(0x5e1)]},'page':{'type':_0x981fb5[_0x268b8c(0x3c2)][_0x268b8c(0x59a)]}};return await _0x45b70a['trace']({'jobType':_0x883e8c[_0x268b8c(0x37f)],'type':_0x2713ea[_0x268b8c(0x7eb)],'jobId':_0x129c3b,'agentId':_0x16d872,'threadId':_0x2d6fe9,'traceLevel':_0x1ceba1[_0x268b8c(0x5cb)],'startTime':Date[_0x268b8c(0x559)](),'timestamp':Date[_0x268b8c(0x559)](),'status':_0x268b8c(0x20c),'function':_0x175bd1[_0x268b8c(0x3e8)],'params':_0x2ccba6,'functionDescription':_0x4233e0}),{'description':_0x4233e0,'params':_0x2ccba6,'callback':async _0x33f20f=>_0x504581(_0x33f20f,_0x2f1486,_0x129c3b,_0x16d872,_0x2d6fe9)};}async function _0x504581(_0x59303d,_0xa363ec=!0x0,_0xc52f5f,_0x4dfe8a,_0x52dfac){const _0x28aac2=_0xe992e3,_0xfb48f9=Date['now']();try{if('string'!=typeof _0x59303d?.['url'])throw new Error(_0x28aac2(0x976));const _0x1014b4=_0x59303d['url'];if([_0x28aac2(0x960),_0x28aac2(0x4b7),_0x28aac2(0x509),'.ppt',_0x28aac2(0x21e),_0x28aac2(0x3a6),_0x28aac2(0x784)]['some'](_0x51bc0c=>_0x1014b4[_0x28aac2(0x273)](_0x51bc0c)))throw new Error(_0x28aac2(0xacb));const _0x29f583=await fetch(_0x1014b4),_0x48dd23=await _0x29f583[_0x28aac2(0x7e4)]();let _0x36a130=_0x48dd23;if(_0xa363ec){const _0x3dae9c=_0x48dd23[_0x28aac2(0x652)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x3fe413=_0x3dae9c?_0x3dae9c[0x1]:_0x48dd23,_0x37f565=_0x3fe413[_0x28aac2(0x9d7)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x28aac2(0x9d7)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x28aac2(0x9d7)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x36a130=_0x37f565['replace'](/<\/?[^>]+(>|$)/g,'')[_0x28aac2(0x9d7)](/\s\s+/g,'\x20')['trim']();}const _0x1c9d99=_0x28aac2(0x7cd)==typeof _0x59303d[_0x28aac2(0x3a7)]?_0x59303d[_0x28aac2(0x3a7)]:0x1,_0x3eec71=Math[_0x28aac2(0xa10)](_0x36a130[_0x28aac2(0x756)]/_0x1e8dad);return _0x36a130[_0x28aac2(0x756)]>_0x1e8dad&&(_0x36a130=_0x36a130[_0x28aac2(0x12a)]((_0x1c9d99-0x1)*_0x1e8dad,(_0x1c9d99-0x1)*_0x1e8dad+_0x1e8dad)+_0x28aac2(0x4ce)+(_0x1c9d99+0x1)+_0x28aac2(0x4e4)+_0x3eec71+'.'),_0xc52f5f&&_0x4dfe8a&&_0x52dfac&&await _0x45b70a['trace']({'jobType':_0x883e8c[_0x28aac2(0x404)],'type':_0x175bd1['FetchUrl'],'jobId':_0xc52f5f,'agentId':_0x4dfe8a,'threadId':_0x52dfac,'blockId':_0x28aac2(0x60d),'traceLevel':_0x1ceba1[_0x28aac2(0x5cb)],'startTime':_0xfb48f9,'timestamp':Date['now'](),'status':_0x29f583['ok']?_0x28aac2(0x20c):_0x28aac2(0x77b),'url':_0x59303d[_0x28aac2(0x3d7)],'page':_0x1c9d99,'totalPages':_0x3eec71,'response':_0x36a130}),_0x36a130;}catch(_0x5624da){console[_0x28aac2(0x77b)](_0x5624da);const _0x2e221e=_0x5624da instanceof Error?_0x5624da[_0x28aac2(0x337)]:_0x28aac2(0x15f);return _0xc52f5f&&_0x4dfe8a&&_0x52dfac&&await _0x45b70a[_0x28aac2(0x41f)]({'jobType':_0x883e8c['Skill'],'type':_0x175bd1['FetchUrl'],'jobId':_0xc52f5f,'blockId':_0x28aac2(0x60d),'threadId':_0x52dfac,'traceLevel':_0x1ceba1['Info'],'startTime':_0xfb48f9,'timestamp':Date[_0x28aac2(0x559)](),'agentId':_0x4dfe8a,'status':_0x28aac2(0x77b),'errorDetails':_0x50959a(_0x5624da),'url':_0x59303d?.['url']??'','page':0x0,'totalPages':0x0,'response':_0x2e221e}),_0x2e221e;}}async function _0x5cfd5c(_0x2f0837,_0x58fa69,_0x9daccb,_0x4a9508,_0x4a2248){const _0x3a133c=_0xe992e3,_0x2eb6ab=Date[_0x3a133c(0x559)]();try{if(!_0x2f0837['searchConnector'])throw new Error(_0x3a133c(0x469));if(_0x3a133c(0xab7)!=typeof _0x58fa69?.[_0x3a133c(0x424)])throw new Error('Query\x20is\x20required');const _0x59f491=await _0x2f0837[_0x3a133c(0x955)][_0x3a133c(0x74b)](_0x58fa69[_0x3a133c(0x424)],_0x201946[_0x3a133c(0x419)][_0x3a133c(0x8c3)]);let _0x35faca='';for(const _0xfa5c4e of _0x59f491)_0x35faca+=_0xfa5c4e[_0x3a133c(0x55e)]+_0x3a133c(0x66b)+_0xfa5c4e['url']+'\x0a'+_0xfa5c4e[_0x3a133c(0x478)]+'\x0a\x0a';return _0x9daccb&&_0x4a9508&&_0x4a2248&&await _0x45b70a[_0x3a133c(0x41f)]({'jobType':_0x883e8c['Skill'],'type':_0x175bd1[_0x3a133c(0x428)],'jobId':_0x9daccb,'agentId':_0x4a9508,'threadId':_0x4a2248,'blockId':_0x3a133c(0x74b),'traceLevel':_0x1ceba1[_0x3a133c(0x5cb)],'startTime':_0x2eb6ab,'timestamp':Date[_0x3a133c(0x559)](),'status':'success','query':_0x58fa69[_0x3a133c(0x424)],'results':_0x35faca}),_0x35faca;}catch(_0x4f4fd9){return console[_0x3a133c(0x77b)](_0x4f4fd9),_0x9daccb&&_0x4a9508&&_0x4a2248&&await _0x45b70a[_0x3a133c(0x41f)]({'jobType':_0x883e8c[_0x3a133c(0x404)],'type':_0x175bd1[_0x3a133c(0x428)],'jobId':_0x9daccb,'blockId':_0x3a133c(0x74b),'traceLevel':_0x1ceba1[_0x3a133c(0x5cb)],'startTime':_0x2eb6ab,'timestamp':Date['now'](),'status':'error','errorDetails':_0x50959a(_0x4f4fd9),'agentId':_0x4a9508,'threadId':_0x4a2248,'query':_0x58fa69?.[_0x3a133c(0x424)]??'','results':_0x3a133c(0x7c6)}),_0x4f4fd9 instanceof Error?_0x4f4fd9[_0x3a133c(0x337)]:_0x3a133c(0x7c6);}}async function _0x21a517(_0x1bf3cb,_0x549798,_0x462cde,_0x3357f1,_0x46c2b5,_0x3bef53){const _0x5bfa71=_0xe992e3,_0x4bf28c=_0x5bfa71(0x5da)+_0x46c2b5[_0x5bfa71(0x544)]+_0x5bfa71(0x381),_0xa440a6={'prompt':{'type':_0x981fb5[_0x5bfa71(0x3c2)][_0x5bfa71(0x5e1)]}};return await _0x45b70a[_0x5bfa71(0x41f)]({'jobType':_0x883e8c[_0x5bfa71(0x37f)],'type':_0x2713ea[_0x5bfa71(0x7eb)],'jobId':_0x1bf3cb,'agentId':_0x549798,'threadId':_0x462cde['threadId'],'traceLevel':_0x1ceba1['Info'],'startTime':Date[_0x5bfa71(0x559)](),'timestamp':Date[_0x5bfa71(0x559)](),'status':_0x5bfa71(0x20c),'function':_0x175bd1[_0x5bfa71(0x4cf)],'params':_0xa440a6,'functionDescription':_0x4bf28c}),{'description':_0x4bf28c,'params':_0xa440a6,'callback':async _0x2837b7=>_0x3b2d8c(_0x462cde[_0x5bfa71(0x3ea)],_0x46c2b5,_0x2837b7,_0x3357f1,_0x1bf3cb,_0x549798,_0x462cde[_0x5bfa71(0x441)],_0x3bef53)};}async function _0x3b2d8c(_0x54456c,_0xcd7419,_0x5e6d4f,_0x2af392,_0x19e4c0,_0x24d0f9,_0x82e516,_0x20701c){const _0x32b4d8=_0xe992e3,_0x37ec4e=Date[_0x32b4d8(0x559)]();try{if(_0x32b4d8(0xab7)!=typeof _0x5e6d4f?.[_0x32b4d8(0x16a)])throw new Error('Prompt\x20is\x20required');let _0x1225fe='';const _0x587ec3=_0xcd7419[_0x32b4d8(0x7b3)]?.['split'](',')??[];let _0x5b0944=_0x5e6d4f['prompt'];for(const _0x1e8834 of _0x587ec3){const _0x2b1e49=_0x2af392?.[_0x32b4d8(0x6c7)]?.[_0x1e8834];_0x2b1e49&&(_0x5b0944='<'+_0x1e8834+'>\x0a'+_0x2b1e49+_0x32b4d8(0x944)+_0x1e8834+'>\x0a\x0a'+_0x5b0944);}let _0x18d09a=[{'role':_0x32b4d8(0x837),'content':_0x5b0944}];if(_0x20701c&&_0xcd7419['shouldEmit']){const _0x4e4e5b=await fetch(_0x201946['apiUrl']+'/workflows/'+_0xcd7419[_0x32b4d8(0xa11)]+'/chat/completions',{'method':_0x32b4d8(0x832),'headers':{'Accept':_0x32b4d8(0x6d1),'Content-Type':_0x32b4d8(0x4d5),'x-vendor-id':_0x54456c},'body':JSON[_0x32b4d8(0x719)]({'model':_0xcd7419[_0x32b4d8(0xad5)],'messages':_0x18d09a,'max_completion_tokens':_0xcd7419[_0x32b4d8(0x67d)],'temperature':_0xcd7419['temperature'],'tools':_0xcd7419[_0x32b4d8(0xb13)],'structured_output':_0xcd7419[_0x32b4d8(0x133)],'metadata':{'threadId':_0x82e516,'jobId':_0x19e4c0,'agentId':_0x24d0f9,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x4e4e5b['ok']||!_0x4e4e5b['body'])throw new Error(_0x32b4d8(0x4bf));const _0x541f80=_0x4e4e5b[_0x32b4d8(0x6f2)][_0x32b4d8(0x2d8)](),_0x4ee6a0=new TextDecoder();let _0x461862=0x0,_0x5d3515=0x0,_0x19a5be='';for(;;){const {value:_0x333690,done:_0x521806}=await _0x541f80[_0x32b4d8(0x752)]();if(_0x521806)break;const _0x57dcd4=_0x4ee6a0[_0x32b4d8(0x221)](_0x333690,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x57dcd4)break;const _0x4eb336=_0x2592ba(_0x57dcd4);for(const _0x5c5c42 of _0x4eb336)_0x5c5c42[_0x32b4d8(0x94f)]&&_0x5c5c42[_0x32b4d8(0x94f)][0x0]&&(_0x19a5be+=_0x5c5c42[_0x32b4d8(0x94f)][0x0]['delta']['content'],_0x461862+=_0x5c5c42[_0x32b4d8(0x338)]?.['input_tokens']??0x0,_0x5d3515+=_0x5c5c42[_0x32b4d8(0x338)]?.[_0x32b4d8(0x650)]??0x0,_0x2af392&&(_0x2af392[_0x32b4d8(0x6c7)]={..._0x2af392[_0x32b4d8(0x6c7)],..._0x5c5c42[_0x32b4d8(0xa86)]}),_0x20701c['emit']({'output':_0x5c5c42[_0x32b4d8(0x94f)][0x0][_0x32b4d8(0x302)][_0x32b4d8(0x2e4)],'type':_0x32b4d8(0x16a)}),await _0x50a54a[_0x32b4d8(0xa47)](0x1));}_0x2af392&&(_0x2af392[_0x32b4d8(0xa61)]=(_0x2af392[_0x32b4d8(0xa61)]??0x0)+_0x5d3515,_0x2af392[_0x32b4d8(0x9be)]=(_0x2af392[_0x32b4d8(0x9be)]??0x0)+_0x461862,_0xcd7419[_0x32b4d8(0x727)]&&(_0x2af392[_0x32b4d8(0x6c7)]||(_0x2af392[_0x32b4d8(0x6c7)]={}),_0x2af392[_0x32b4d8(0x6c7)][_0xcd7419[_0x32b4d8(0x727)]]=_0x19a5be)),_0x20701c[_0x32b4d8(0x5c8)]({'output':'\x0a\x0a','type':_0x32b4d8(0x16a)}),await _0x50a54a[_0x32b4d8(0xa47)](0x1),_0x1225fe=_0x32b4d8(0x47b);}else{const _0x103786=fetch(_0x201946[_0x32b4d8(0xa2a)]+_0x32b4d8(0x780)+_0xcd7419['workflowId']+'/chat/completions',{'method':_0x32b4d8(0x832),'headers':{'Content-Type':_0x32b4d8(0x4d5),'x-vendor-id':_0x54456c},'body':JSON['stringify']({'model':_0xcd7419[_0x32b4d8(0xad5)],'messages':_0x18d09a,'max_completion_tokens':_0xcd7419[_0x32b4d8(0x67d)],'temperature':_0xcd7419[_0x32b4d8(0x2b7)],'tools':_0xcd7419['tools'],'structured_output':_0xcd7419[_0x32b4d8(0x133)],'metadata':{'threadId':_0x82e516,'jobId':_0x19e4c0,'agentId':_0x24d0f9,'context':{}}})});if(_0xcd7419[_0x32b4d8(0x335)])return'I\x20have\x20finished\x20executing\x20my\x20task.';const _0x381580=await _0x103786,_0x1930bd=await _0x381580[_0x32b4d8(0x472)]();_0x1225fe=_0x1930bd[_0x32b4d8(0x94f)][0x0][_0x32b4d8(0x337)]['content'],_0x2af392&&(_0x2af392[_0x32b4d8(0x6c7)]={..._0x2af392[_0x32b4d8(0x6c7)],..._0x1930bd[_0x32b4d8(0xa86)]},_0x2af392[_0x32b4d8(0xa61)]=(_0x2af392['outputTokens']??0x0)+_0x1930bd[_0x32b4d8(0x338)][_0x32b4d8(0x232)],_0x2af392[_0x32b4d8(0x9be)]=(_0x2af392[_0x32b4d8(0x9be)]??0x0)+_0x1930bd['usage'][_0x32b4d8(0x958)],_0xcd7419[_0x32b4d8(0x727)]&&(_0x2af392['internalContext']||(_0x2af392['internalContext']={}),_0x2af392['internalContext'][_0xcd7419['contextOutputVariable']]=_0x1225fe));}if(_0x32b4d8(0xab7)!=typeof _0x1225fe)throw new Error(_0x32b4d8(0x145));return _0x19e4c0&&_0x24d0f9&&_0x82e516&&await _0x45b70a[_0x32b4d8(0x41f)]({'jobType':_0x883e8c[_0x32b4d8(0x404)],'type':_0x175bd1['ExecuteWorkflow'],'jobId':_0x19e4c0,'blockId':_0x32b4d8(0x1e7),'agentId':_0x24d0f9,'threadId':_0x82e516,'traceLevel':_0x1ceba1[_0x32b4d8(0x5cb)],'startTime':_0x37ec4e,'timestamp':Date['now'](),'status':_0x32b4d8(0x20c),'workflowName':_0xcd7419[_0x32b4d8(0x758)],'prompt':_0x5e6d4f[_0x32b4d8(0x16a)],'result':_0x1225fe,'inputTokens':0x0,'outputTokens':0x0}),_0x1225fe;}catch(_0x356f59){if(console['error'](_0x356f59),_0x19e4c0&&_0x24d0f9&&_0x82e516&&await _0x45b70a[_0x32b4d8(0x41f)]({'jobType':_0x883e8c[_0x32b4d8(0x404)],'type':_0x175bd1[_0x32b4d8(0x4cf)],'jobId':_0x19e4c0,'blockId':_0x32b4d8(0x1e7),'agentId':_0x24d0f9,'threadId':_0x82e516,'traceLevel':_0x1ceba1[_0x32b4d8(0x5cb)],'startTime':_0x37ec4e,'timestamp':Date[_0x32b4d8(0x559)](),'status':'error','errorDetails':_0x50959a(_0x356f59),'workflowName':_0xcd7419['name'],'prompt':_0x5e6d4f?.['prompt']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x356f59 instanceof Error)throw _0x356f59;throw new Error(_0x32b4d8(0x48a));}}async function _0x49b457(_0x356326,_0x504f62,_0x45ef18,_0x1259ec,_0x2cb26f){const _0x3ac943=_0xe992e3;return await _0x45b70a['trace']({'jobType':_0x883e8c[_0x3ac943(0x37f)],'type':_0x2713ea['LoadSkillFunction'],'jobId':_0x356326,'agentId':_0x504f62,'threadId':_0x45ef18,'traceLevel':_0x1ceba1[_0x3ac943(0x5cb)],'startTime':Date['now'](),'timestamp':Date[_0x3ac943(0x559)](),'status':_0x3ac943(0x20c),'function':_0x175bd1[_0x3ac943(0x23a)],'params':{},'functionDescription':_0x3ac943(0x235)}),{'description':'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','params':{},'callback':async()=>_0xc458e0(_0x2cb26f,_0x1259ec,_0x356326,_0x504f62,_0x45ef18)};}async function _0xc458e0(_0xf79813,_0x3c060c,_0x3b6745,_0x3da3d1,_0x529be9){const _0x14cebf=_0xe992e3,_0x453a50=Date['now']();let _0x11a12f=_0xf79813[_0x14cebf(0x758)][_0x14cebf(0x9d7)](/[^a-zA-Z]/g,'');_0x11a12f[_0x14cebf(0x654)](_0x14cebf(0x8e7))&&(_0x11a12f=_0x11a12f[_0x14cebf(0x9d7)](_0x14cebf(0x8e7),''));const _0x5f4967=_0x14cebf(0x487)+_0x11a12f;let _0x14839a=0x0;_0x3c060c&&(_0x14839a=parseInt(_0x3c060c['internalContext']?.[_0x5f4967]??'0'));const _0x48ba3f=_0xf79813[_0x14cebf(0x2ff)]||[];if(_0x14839a>=_0x48ba3f[_0x14cebf(0x756)])return JSON[_0x14cebf(0x719)]({'error':_0x14cebf(0x5e0)});const _0x54d29c=_0x48ba3f[_0x14839a];return _0x3b6745&&_0x3da3d1&&_0x529be9&&await _0x45b70a[_0x14cebf(0x41f)]({'jobType':_0x883e8c[_0x14cebf(0x404)],'type':_0x175bd1[_0x14cebf(0x23a)],'jobId':_0x3b6745,'agentId':_0x3da3d1,'threadId':_0x529be9,'blockId':'form-skill-get-question','traceLevel':_0x1ceba1[_0x14cebf(0x5cb)],'startTime':_0x453a50,'timestamp':Date[_0x14cebf(0x559)](),'status':_0x14cebf(0x20c),'question':_0x54d29c[_0x14cebf(0x423)],'currentQuestionIndex':_0x14839a,'questions':_0x48ba3f['map'](_0x2b9f15=>_0x2b9f15['question'])}),JSON['stringify']({'id':_0x54d29c['id'],'question':_0x54d29c['question'],'validation':_0x54d29c[_0x14cebf(0x564)],'required':_0x54d29c['required'],'format':_0x54d29c[_0x14cebf(0x63a)],'action':_0x14cebf(0x7f7)});}async function _0x25588a(_0xcc71d9,_0x3ad984,_0x5c7153,_0x2f6418,_0xd73f43){const _0x1a16df=_0xe992e3;return await _0x45b70a[_0x1a16df(0x41f)]({'jobType':_0x883e8c[_0x1a16df(0x37f)],'type':_0x2713ea[_0x1a16df(0x7eb)],'jobId':_0xcc71d9,'agentId':_0x3ad984,'threadId':_0x5c7153,'traceLevel':_0x1ceba1[_0x1a16df(0x5cb)],'startTime':Date['now'](),'timestamp':Date[_0x1a16df(0x559)](),'status':'success','function':_0x175bd1[_0x1a16df(0xa4d)],'params':{},'functionDescription':_0x1a16df(0x822)}),{'description':_0x1a16df(0x822),'params':{'id':{'type':_0x981fb5['PromptFunctionParamsType'][_0x1a16df(0x5e1)]},'answer':{'type':_0x981fb5[_0x1a16df(0x3c2)]['String']}},'callback':async _0x56bd7f=>_0x2b9b6c(_0xd73f43,_0x56bd7f,_0x2f6418,_0xcc71d9,_0x3ad984,_0x5c7153)};}async function _0x2b9b6c(_0x36694a,_0x3920e1,_0x5fdc45,_0x374916,_0x47253b,_0x33b5c2){const _0x2c1916=_0xe992e3,_0x2b6125=Date[_0x2c1916(0x559)]();let _0x18c883=_0x36694a[_0x2c1916(0x758)][_0x2c1916(0x9d7)](/[^a-zA-Z]/g,'');_0x18c883[_0x2c1916(0x654)]('setAnswer')&&(_0x18c883=_0x18c883[_0x2c1916(0x9d7)](_0x2c1916(0x403),''));const _0xe395e5=_0x2c1916(0x487)+_0x18c883,_0x13f798=_0x36694a[_0x2c1916(0x2ff)]||[];let _0x421f37=0x0;if(_0x5fdc45&&(_0x421f37=parseInt(_0x5fdc45[_0x2c1916(0x6c7)]?.[_0xe395e5]??'0')),!_0x3920e1?.['id']||_0x2c1916(0xab7)!=typeof _0x3920e1['id'])return JSON[_0x2c1916(0x719)]({'error':_0x2c1916(0x128)});const _0x3cbd5e=_0x13f798[_0x2c1916(0xa57)](_0x5b424d=>_0x5b424d['id']===_0x3920e1['id']);if(!_0x3cbd5e)return JSON[_0x2c1916(0x719)]({'error':'Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});if(!_0x3920e1?.['answer']||_0x2c1916(0xab7)!=typeof _0x3920e1[_0x2c1916(0x129)])return JSON[_0x2c1916(0x719)]({'error':_0x2c1916(0x2ef)});if(_0x5fdc45){_0x5fdc45[_0x2c1916(0x6c7)]||(_0x5fdc45[_0x2c1916(0x6c7)]={});const _0xc17880=_0x2c1916(0x13e)+_0x18c883,_0x1390af=_0xc17880+'-'+_0x3920e1['id'];_0x5fdc45['internalContext'][_0x1390af]=_0x3920e1[_0x2c1916(0x129)];let _0x9b6ede=!0x1;for(let _0x3c1b7d=0x0;_0x3c1b7d<_0x13f798[_0x2c1916(0x756)];_0x3c1b7d++){const _0x453635=_0x5fdc45[_0x2c1916(0x6c7)]?.[_0xc17880+'-'+_0x13f798[_0x3c1b7d]['id']];if(_0x3c1b7d!==_0x421f37&&!_0x453635){_0x421f37=_0x3c1b7d,_0x9b6ede=!0x0;break;}}_0x9b6ede||_0x421f37++,_0x5fdc45['internalContext'][_0xe395e5]=_0x421f37['toString']();}return _0x374916&&_0x47253b&&_0x33b5c2&&await _0x45b70a[_0x2c1916(0x41f)]({'jobType':_0x883e8c[_0x2c1916(0x404)],'type':_0x175bd1[_0x2c1916(0xa4d)],'jobId':_0x374916,'agentId':_0x47253b,'threadId':_0x33b5c2,'blockId':'form-skill-set-answer','traceLevel':_0x1ceba1[_0x2c1916(0x5cb)],'startTime':_0x2b6125,'timestamp':Date[_0x2c1916(0x559)](),'status':_0x2c1916(0x20c),'question':_0x3cbd5e[_0x2c1916(0x423)],'answer':_0x3920e1[_0x2c1916(0x129)],'currentQuestionIndex':_0x421f37,'questions':_0x13f798['map'](_0x3f7edf=>_0x3f7edf[_0x2c1916(0x423)])}),JSON['stringify']({'success':_0x2c1916(0x214)});}async function _0x309efc(_0x450fdc,_0xef2ce1,_0x139a87,_0x11bb6f,_0x318174){const _0x22567e=_0xe992e3,_0x4ad3f8=_0x22567e(0x807);return await _0x45b70a[_0x22567e(0x41f)]({'jobType':_0x883e8c[_0x22567e(0x37f)],'type':_0x2713ea[_0x22567e(0x7eb)],'jobId':_0x450fdc,'agentId':_0xef2ce1,'threadId':_0x139a87,'traceLevel':_0x1ceba1[_0x22567e(0x5cb)],'startTime':Date[_0x22567e(0x559)](),'timestamp':Date[_0x22567e(0x559)](),'status':_0x22567e(0x20c),'function':_0x175bd1['FormSubmitForm'],'params':{},'functionDescription':_0x4ad3f8}),{'description':_0x4ad3f8,'params':{},'callback':async()=>_0x4f4b92(_0x318174,_0x11bb6f,_0x450fdc,_0xef2ce1,_0x139a87)};}async function _0x4f4b92(_0x57ecb8,_0x4ae364,_0x107bb7,_0x1fb22f,_0x23fdef){const _0x4f2711=_0xe992e3;let _0x5bc2a1=_0x57ecb8[_0x4f2711(0x758)][_0x4f2711(0x9d7)](/[^a-zA-Z]/g,'');_0x5bc2a1[_0x4f2711(0x654)]('submitForm')&&(_0x5bc2a1=_0x5bc2a1[_0x4f2711(0x9d7)](_0x4f2711(0x2dc),''));const _0x1d8d2d=_0x57ecb8[_0x4f2711(0x2ff)]||[],_0x27c6c1={};if(!_0x4ae364)return JSON[_0x4f2711(0x719)]({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});for(let _0x1752ab=0x0;_0x1752ab<_0x1d8d2d[_0x4f2711(0x756)];_0x1752ab++){const _0x2a7e6e=_0x4ae364[_0x4f2711(0x6c7)]?.[_0x4f2711(0x13e)+_0x5bc2a1+'-'+_0x1d8d2d[_0x1752ab]['id']];if(_0x1d8d2d[_0x1752ab][_0x4f2711(0x39e)]&&!_0x2a7e6e)return JSON[_0x4f2711(0x719)]({'error':_0x4f2711(0x179)});_0x27c6c1[_0x1d8d2d[_0x1752ab]['id']]=_0x2a7e6e;}return _0x4ae364&&_0x57ecb8[_0x4f2711(0x727)]&&(_0x4ae364[_0x4f2711(0x6c7)]||(_0x4ae364['internalContext']={}),_0x4ae364[_0x4f2711(0x6c7)][_0x57ecb8[_0x4f2711(0x727)]]=JSON[_0x4f2711(0x719)](_0x27c6c1)),_0x107bb7&&_0x1fb22f&&_0x23fdef&&await _0x45b70a['trace']({'jobType':_0x883e8c['Skill'],'type':_0x175bd1['FormSubmitForm'],'jobId':_0x107bb7,'agentId':_0x1fb22f,'threadId':_0x23fdef,'blockId':_0x4f2711(0x516),'traceLevel':_0x1ceba1[_0x4f2711(0x5cb)],'startTime':Date[_0x4f2711(0x559)](),'timestamp':Date[_0x4f2711(0x559)](),'status':_0x4f2711(0x20c),'answers':_0x27c6c1}),JSON[_0x4f2711(0x719)]({'success':!0x0});}async function _0xa709c(_0x2c2e94,_0x428a86,_0x269a14,_0x4e97cb,_0x4572f4,_0x53bf44,_0x51326d){const _0x1967bc=_0xe992e3,_0x208572=new Map();for(const _0x49cc0d of _0x4572f4)_0x49cc0d[_0x1967bc(0x689)]===_0x981fb5[_0x1967bc(0x63f)][_0x1967bc(0x7bc)]||_0x49cc0d[_0x1967bc(0x689)]===_0x981fb5[_0x1967bc(0x63f)][_0x1967bc(0x760)]?_0x208572[_0x1967bc(0x888)](_0x1967bc(0x4a9)+_0x49cc0d[_0x1967bc(0x758)][_0x1967bc(0x9d7)](/[^a-zA-Z]/g,''),await _0x17fa3b(_0x2c2e94,_0x428a86,_0x269a14,_0x4e97cb,_0x49cc0d)):_0x49cc0d[_0x1967bc(0x689)]===_0x981fb5['GenerativeAIInferenceToolType']['AgentSkill']||_0x49cc0d[_0x1967bc(0x689)]===_0x981fb5['GenerativeAIInferenceToolType'][_0x1967bc(0x2a4)]?_0x208572[_0x1967bc(0x888)](_0x1967bc(0xadf)+_0x49cc0d[_0x1967bc(0x758)]['replace'](/[^a-zA-Z]/g,''),await _0x542910(_0x2c2e94,_0x428a86,_0x269a14,_0x4e97cb,_0x49cc0d,_0x53bf44,_0x51326d)):_0x49cc0d[_0x1967bc(0x689)]===_0x981fb5[_0x1967bc(0x63f)][_0x1967bc(0x6bb)]?_0x208572['set'](_0x1967bc(0x2cc)+_0x49cc0d[_0x1967bc(0x758)][_0x1967bc(0x9d7)](/[^a-zA-Z]/g,''),await _0x21a517(_0x2c2e94,_0x428a86,_0x269a14,_0x4e97cb,_0x49cc0d,_0x51326d)):_0x49cc0d[_0x1967bc(0x689)]===_0x981fb5[_0x1967bc(0x63f)][_0x1967bc(0x805)]?_0x208572[_0x1967bc(0x888)](_0x49cc0d[_0x1967bc(0x758)][_0x1967bc(0x9d7)](/[^a-zA-Z]/g,''),await _0x3c69d7(_0x2c2e94,_0x428a86,_0x269a14['threadId'],_0x4e97cb,_0x49cc0d)):_0x49cc0d['type']===_0x981fb5[_0x1967bc(0x63f)][_0x1967bc(0x2db)]?_0x208572[_0x1967bc(0x888)](_0x1967bc(0x8e7)+_0x49cc0d['name']['replace'](/[^a-zA-Z]/g,''),await _0x49b457(_0x2c2e94,_0x428a86,_0x269a14['threadId'],_0x4e97cb,_0x49cc0d)):_0x49cc0d[_0x1967bc(0x689)]===_0x981fb5['GenerativeAIInferenceToolType'][_0x1967bc(0x3eb)]?_0x208572[_0x1967bc(0x888)](_0x1967bc(0x403)+_0x49cc0d['name'][_0x1967bc(0x9d7)](/[^a-zA-Z]/g,''),await _0x25588a(_0x2c2e94,_0x428a86,_0x269a14[_0x1967bc(0x441)],_0x4e97cb,_0x49cc0d)):_0x49cc0d['type']===_0x981fb5[_0x1967bc(0x63f)]['FormSkillSubmitForm']?_0x208572[_0x1967bc(0x888)](_0x1967bc(0x2dc)+_0x49cc0d['name'][_0x1967bc(0x9d7)](/[^a-zA-Z]/g,''),await _0x309efc(_0x2c2e94,_0x428a86,_0x269a14[_0x1967bc(0x441)],_0x4e97cb,_0x49cc0d)):_0x208572[_0x1967bc(0x888)](_0x2f1404(_0x49cc0d),await _0x31c99c(_0x2c2e94,_0x428a86,_0x269a14['threadId'],_0x4e97cb,_0x49cc0d,_0x53bf44));return _0x208572;}function _0x2f1404(_0xc516ce){const _0x2e810d=_0xe992e3;switch(_0xc516ce[_0x2e810d(0x689)]){case _0x981fb5[_0x2e810d(0x63f)][_0x2e810d(0x565)]:return _0x2e810d(0xafa);case _0x981fb5[_0x2e810d(0x63f)][_0x2e810d(0x243)]:return'executeJavascriptCodeSnippet';case _0x981fb5[_0x2e810d(0x63f)][_0x2e810d(0x60f)]:return _0x2e810d(0x17a);case _0x981fb5[_0x2e810d(0x63f)][_0x2e810d(0x69c)]:return _0x2e810d(0xa9b);case _0x981fb5[_0x2e810d(0x63f)][_0x2e810d(0x217)]:case _0x981fb5[_0x2e810d(0x63f)][_0x2e810d(0x528)]:return'fetchContentFromUrl';case _0x981fb5[_0x2e810d(0x63f)]['WriteFile']:return _0x2e810d(0x9c1);}throw new Error(_0x2e810d(0x5d6));}async function _0x31c99c(_0x2f9500,_0x5d8ccd,_0x2a33f5,_0x18153b,_0x25d56a,_0x17cdaa){const _0x27d56e=_0xe992e3;switch(_0x25d56a[_0x27d56e(0x689)]){case _0x981fb5[_0x27d56e(0x63f)][_0x27d56e(0x565)]:return async function(_0x18d99a,_0x5346e5,_0x157000,_0x1e550a,_0x2c1887){const _0x295088=_0x27d56e,_0x447dd1=_0x295088(0x471),_0x15b4f3={'query':{'type':_0x981fb5['PromptFunctionParamsType']['String']}};return await _0x45b70a[_0x295088(0x41f)]({'jobType':_0x883e8c[_0x295088(0x37f)],'type':_0x2713ea[_0x295088(0x7eb)],'jobId':_0x18d99a,'agentId':_0x5346e5,'threadId':_0x157000,'traceLevel':_0x1ceba1['Info'],'startTime':Date[_0x295088(0x559)](),'timestamp':Date[_0x295088(0x559)](),'status':'success','function':_0x175bd1[_0x295088(0x598)],'params':_0x15b4f3,'functionDescription':_0x447dd1}),{'description':_0x447dd1,'params':_0x15b4f3,'callback':async _0x548451=>_0x2f5ef3(_0x1e550a,_0x2c1887,_0x548451,_0x18d99a,_0x5346e5,_0x157000)};}(_0x2f9500,_0x5d8ccd,_0x2a33f5,_0x25d56a,_0x17cdaa);case _0x981fb5[_0x27d56e(0x63f)][_0x27d56e(0x243)]:return async function(_0xc660ac,_0xbbeff6,_0x274463){const _0x3012f7=_0x27d56e,_0x35249b=_0x3012f7(0x3b9),_0x43440c={'code':{'type':_0x981fb5[_0x3012f7(0x3c2)][_0x3012f7(0x5e1)]}};return await _0x45b70a['trace']({'jobType':_0x883e8c[_0x3012f7(0x37f)],'type':_0x2713ea[_0x3012f7(0x7eb)],'jobId':_0xc660ac,'agentId':_0xbbeff6,'threadId':_0x274463,'traceLevel':_0x1ceba1[_0x3012f7(0x5cb)],'startTime':Date[_0x3012f7(0x559)](),'timestamp':Date['now'](),'status':_0x3012f7(0x20c),'function':_0x175bd1[_0x3012f7(0x309)],'params':_0x43440c,'functionDescription':_0x35249b}),{'description':_0x35249b,'params':_0x43440c,'callback':async _0xc8ca79=>_0x5837fc(_0xc8ca79,_0xc660ac,_0xbbeff6,_0x274463)};}(_0x2f9500,_0x5d8ccd,_0x2a33f5);case _0x981fb5['GenerativeAIInferenceToolType']['QueryFile']:return async function(_0x259e62,_0x5dce85,_0xa3d303,_0x1ccc1c,_0x7a834f){const _0x59d89a=_0x27d56e,_0x4a3804=[',',';','\x09','|',':'],_0x3ed557=['\x22','\x27'];let _0x56462d='';if(_0x59d89a(0x447)===_0x1ccc1c[_0x59d89a(0x6c7)]?.[_0x59d89a(0xa0f)]&&_0x1ccc1c[_0x59d89a(0x6c7)]?.[_0x59d89a(0x8e9)]&&(_0x56462d=_0x1ccc1c['internalContext'][_0x59d89a(0x8e9)]),''===_0x56462d)throw new Error(_0x59d89a(0x87d));const _0x11e422=_0x56462d[_0x59d89a(0x130)]('\x0a')[0x0];let _0x11b51d=null,_0x8f8d80=null,_0x479fae=0x0;for(const _0x18c3b3 of _0x4a3804){const _0x42ccd2=(_0x11e422[_0x59d89a(0x652)](new RegExp('\x5c'+_0x18c3b3,'g'))||[])[_0x59d89a(0x756)];_0x42ccd2>_0x479fae&&(_0x479fae=_0x42ccd2,_0x11b51d=_0x18c3b3);}_0x11b51d||(_0x11b51d=','),_0x479fae=0x0;for(const _0x5eaaee of _0x3ed557){const _0x2ae79f=(_0x11e422[_0x59d89a(0x652)](new RegExp('\x5c'+_0x5eaaee,'g'))||[])['length'];_0x2ae79f>_0x479fae&&(_0x479fae=_0x2ae79f,_0x8f8d80=_0x5eaaee);}_0x8f8d80||(_0x8f8d80='\x22');const _0x5cc482=_0x59d89a(0x9f6)+_0x11e422[_0x59d89a(0x130)](_0x11b51d)[_0x59d89a(0x9fb)](',\x20'),_0x4373ff={'query':{'type':_0x981fb5[_0x59d89a(0x3c2)]['String']}};return await _0x45b70a[_0x59d89a(0x41f)]({'jobType':_0x883e8c[_0x59d89a(0x37f)],'type':_0x2713ea[_0x59d89a(0x7eb)],'jobId':_0x259e62,'agentId':_0x5dce85,'threadId':_0xa3d303,'traceLevel':_0x1ceba1['Info'],'startTime':Date[_0x59d89a(0x559)](),'timestamp':Date[_0x59d89a(0x559)](),'status':_0x59d89a(0x20c),'function':_0x175bd1['QueryFile'],'params':_0x4373ff,'functionDescription':_0x5cc482}),{'description':_0x5cc482,'params':_0x4373ff,'callback':async _0x5120a6=>{const _0x5286f8=_0x59d89a,_0x164cd6=Date['now']();try{if(!_0x7a834f[_0x5286f8(0x5c4)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x5286f8(0xab7)!=typeof _0x5120a6?.[_0x5286f8(0x424)])throw new Error(_0x5286f8(0x4db));if(!_0x5120a6[_0x5286f8(0x424)]['includes'](_0x5286f8(0x143)))throw new Error(_0x5286f8(0x983));const _0x255229=await _0x7a834f[_0x5286f8(0x5c4)][_0x5286f8(0x707)](_0x56462d,_0x5120a6[_0x5286f8(0x424)],{'headers':!0x0,'quote':_0x8f8d80,'separator':_0x11b51d});await _0x45b70a[_0x5286f8(0x41f)]({'jobType':_0x883e8c[_0x5286f8(0x404)],'type':_0x175bd1[_0x5286f8(0x60f)],'jobId':_0x259e62,'agentId':_0x5dce85,'threadId':_0xa3d303,'blockId':_0x5286f8(0x702),'traceLevel':_0x1ceba1[_0x5286f8(0x5cb)],'startTime':_0x164cd6,'timestamp':Date[_0x5286f8(0x559)](),'status':_0x5286f8(0x20c),'query':_0x5120a6[_0x5286f8(0x424)],'results':_0x255229[_0x5286f8(0x12a)](0x0,0x3e8)});const _0x37e801=JSON[_0x5286f8(0xa0d)](_0x255229);let _0x228f1a='';if(_0x37e801[_0x5286f8(0x756)]>0x0){const _0xb6c3f2=Object[_0x5286f8(0x5a2)](_0x37e801[0x0]);_0x228f1a=_0xb6c3f2['map'](_0x51cbb2=>'\x22'+_0x51cbb2+'\x22')[_0x5286f8(0x9fb)](',')+'\x0a';for(const _0x58a1f3 of _0x37e801)_0x228f1a+=_0xb6c3f2[_0x5286f8(0x7db)](_0x29dee7=>'\x22'+_0x58a1f3[_0x29dee7]+'\x22')[_0x5286f8(0x9fb)](',')+'\x0a';}return _0x1ccc1c[_0x5286f8(0x6c7)]||(_0x1ccc1c[_0x5286f8(0x6c7)]={}),_0x1ccc1c[_0x5286f8(0x6c7)][_0x5286f8(0x8e9)]=_0x228f1a,_0x1ccc1c[_0x5286f8(0x6c7)][_0x5286f8(0xa0f)]=_0x5286f8(0x447),_0x255229[_0x5286f8(0x12a)](0x0,0x3e8);}catch(_0x4d0ac1){return console[_0x5286f8(0x77b)](_0x4d0ac1),await _0x45b70a[_0x5286f8(0x41f)]({'jobType':_0x883e8c[_0x5286f8(0x404)],'type':_0x175bd1['QueryFile'],'jobId':_0x259e62,'blockId':_0x5286f8(0x702),'traceLevel':_0x1ceba1[_0x5286f8(0x5cb)],'startTime':_0x164cd6,'timestamp':Date['now'](),'status':'error','errorDetails':_0x50959a(_0x4d0ac1),'agentId':_0x5dce85,'threadId':_0xa3d303,'query':_0x5120a6?.['query']??'','results':_0x5286f8(0x7c6)}),_0x4d0ac1 instanceof Error?_0x4d0ac1[_0x5286f8(0x337)]:_0x5286f8(0x517);}}};}(_0x2f9500,_0x5d8ccd,_0x2a33f5,_0x18153b,_0x17cdaa);case _0x981fb5[_0x27d56e(0x63f)][_0x27d56e(0x69c)]:return async function(_0x15cc77,_0x3434ff,_0x54949c,_0x9c36e7){const _0x4446f8=_0x27d56e,_0x5561ed=_0x4446f8(0x84a),_0x15acb4={'query':{'type':_0x981fb5[_0x4446f8(0x3c2)][_0x4446f8(0x5e1)]}};return await _0x45b70a[_0x4446f8(0x41f)]({'jobType':_0x883e8c[_0x4446f8(0x37f)],'type':_0x2713ea[_0x4446f8(0x7eb)],'jobId':_0x15cc77,'agentId':_0x3434ff,'threadId':_0x54949c,'traceLevel':_0x1ceba1[_0x4446f8(0x5cb)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x4446f8(0x20c),'function':_0x175bd1[_0x4446f8(0x428)],'params':_0x15acb4,'functionDescription':_0x5561ed}),{'description':_0x5561ed,'params':_0x15acb4,'callback':async _0x38f1be=>_0x5cfd5c(_0x9c36e7,_0x38f1be,_0x15cc77,_0x3434ff,_0x54949c)};}(_0x2f9500,_0x5d8ccd,_0x2a33f5,_0x17cdaa);case _0x981fb5[_0x27d56e(0x63f)]['WebScraper']:return _0x14cf44(_0x2f9500,_0x5d8ccd,_0x2a33f5);case _0x981fb5[_0x27d56e(0x63f)][_0x27d56e(0x528)]:return _0x14cf44(_0x2f9500,_0x5d8ccd,_0x2a33f5,!0x1);case _0x981fb5[_0x27d56e(0x63f)][_0x27d56e(0x21d)]:return async function(_0x35609e,_0x56b56b,_0x1d81b8,_0x2c6b5b){const _0x338223=_0x27d56e,_0x373ca1=_0x338223(0x76b),_0x1f57e7={'text':{'type':_0x981fb5[_0x338223(0x3c2)]['String']}};return await _0x45b70a[_0x338223(0x41f)]({'jobType':_0x883e8c[_0x338223(0x37f)],'type':_0x2713ea['LoadSkillFunction'],'jobId':_0x35609e,'agentId':_0x56b56b,'threadId':_0x1d81b8,'traceLevel':_0x1ceba1[_0x338223(0x5cb)],'startTime':Date['now'](),'timestamp':Date[_0x338223(0x559)](),'status':_0x338223(0x20c),'function':_0x175bd1['WriteFile'],'params':_0x1f57e7,'functionDescription':_0x373ca1}),{'description':_0x373ca1,'params':_0x1f57e7,'callback':async _0x41f130=>{const _0x2ed254=_0x338223,_0x34507f=Date[_0x2ed254(0x559)]();try{if(_0x2ed254(0xab7)!=typeof _0x41f130?.[_0x2ed254(0x7e4)])throw new Error('Text\x20is\x20required');return await _0x45b70a[_0x2ed254(0x41f)]({'jobType':_0x883e8c['Skill'],'type':_0x175bd1[_0x2ed254(0x21d)],'jobId':_0x35609e,'agentId':_0x56b56b,'threadId':_0x1d81b8,'blockId':_0x2ed254(0x910),'traceLevel':_0x1ceba1['Info'],'startTime':_0x34507f,'timestamp':Date[_0x2ed254(0x559)](),'status':'success','content':_0x41f130[_0x2ed254(0x7e4)]}),_0x2c6b5b[_0x2ed254(0x6c7)]||(_0x2c6b5b[_0x2ed254(0x6c7)]={}),_0x2c6b5b[_0x2ed254(0x6c7)][_0x2ed254(0x8e9)]=_0x41f130[_0x2ed254(0x7e4)],_0x2c6b5b[_0x2ed254(0x6c7)][_0x2ed254(0xa0f)]=_0x2ed254(0x901),_0x2ed254(0x3f1);}catch(_0x50358e){return console['error'](_0x50358e),await _0x45b70a[_0x2ed254(0x41f)]({'jobType':_0x883e8c['Skill'],'type':_0x175bd1[_0x2ed254(0x21d)],'jobId':_0x35609e,'blockId':_0x2ed254(0x910),'traceLevel':_0x1ceba1[_0x2ed254(0x5cb)],'startTime':_0x34507f,'timestamp':Date[_0x2ed254(0x559)](),'status':_0x2ed254(0x77b),'errorDetails':_0x50959a(_0x50358e),'agentId':_0x56b56b,'threadId':_0x1d81b8,'content':_0x2ed254(0xab7)==typeof _0x41f130?.['text']?_0x41f130['text']:''}),_0x50358e instanceof Error?_0x50358e[_0x2ed254(0x337)]:_0x2ed254(0x77a);}}};}(_0x2f9500,_0x5d8ccd,_0x2a33f5,_0x18153b);}throw new Error(_0x27d56e(0x5d6));}function _0x50959a(_0x2e3d20){const _0x27dcbb=_0xe992e3;try{return JSON['stringify'](_0x2e3d20);}catch(_0x54529c){return _0x2e3d20 instanceof Error?_0x2e3d20[_0x27dcbb(0x53b)]():_0x27dcbb(0x973);}}async function _0xbf086e(_0x38241c,_0x1f5cf3,_0x9cfcaa){const _0x5a3186=_0xe992e3,_0x1cc435=_0x1f5cf3[_0x5a3186(0x2a5)]??(0x0,_0x2860a6['v4'])(),_0x10b4b9={'type':_0x5a3186(0x16a),'context':[],'internalContext':_0x1f5cf3[_0x5a3186(0x6c7)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x1c9289=await async function(_0x4bb0a8,_0x2fe795,_0x3cfbb1,_0x5d37f0,_0xf86acb){const _0x114d9a=_0x5a3186,_0x5edb85=_0xf86acb[_0x114d9a(0x28b)]['find'](_0x5c2c10=>_0x5c2c10['id']===_0x3cfbb1[_0x114d9a(0x6c9)]);if(!_0x5edb85)throw new Error(_0x114d9a(0x3b7));const _0x29329b=_0xf86acb[_0x114d9a(0x164)][_0x114d9a(0xa57)](_0x3e71cd=>_0x3e71cd['getEngineType']()===_0x5edb85[_0x114d9a(0x46e)]);if(!_0x29329b)throw new Error(_0x114d9a(0x66d));const _0x4ee2c3=await _0xa709c(_0x4bb0a8,_0x2fe795,_0x3cfbb1,_0x5d37f0,_0x3cfbb1[_0x114d9a(0xb13)]??[],_0xf86acb);return _0x29329b[_0x114d9a(0xa94)]({'type':_0x114d9a(0x16a),'prompt':_0x3cfbb1[_0x114d9a(0x16a)],'instructions':_0x3cfbb1[_0x114d9a(0x23e)],'reasoning':_0x3cfbb1['reasoning'],'grammar':_0x3cfbb1[_0x114d9a(0x133)],'temperature':_0x3cfbb1['temperature'],'maxTokens':_0x3cfbb1[_0x114d9a(0x67d)],'history':_0x3cfbb1[_0x114d9a(0x485)],'functions':_0x4ee2c3,'threadId':_0x3cfbb1[_0x114d9a(0x441)]},{'model':_0x5edb85,'sequences':Array[_0x114d9a(0x79e)](_0x4ee2c3[_0x114d9a(0x5a2)]())[_0x114d9a(0x276)](_0x2b7f1c=>_0x2b7f1c[_0x114d9a(0x654)](_0x114d9a(0xadf)))?0x2:0x1});}(_0x38241c,_0x1cc435,_0x1f5cf3,_0x10b4b9,_0x9cfcaa);return{'type':'prompt','output':_0x1c9289[_0x5a3186(0x545)],'context':_0x10b4b9[_0x5a3186(0xa86)],'internalContext':_0x10b4b9[_0x5a3186(0x6c7)]??{},'inputTokens':_0x1c9289[_0x5a3186(0x9be)]??0x0,'outputTokens':_0x1c9289['outputTokens']??0x0};}async function _0x2791ca(_0x5751a7,_0x25e33c){const _0x4f991d=_0xe992e3,_0x1917ec=await async function(_0x382490,_0x584c19){const _0x17191f=a0_0xca1a,_0x1d1136=_0x584c19['models'][_0x17191f(0xa57)](_0x16b83c=>_0x16b83c['id']===_0x382490[_0x17191f(0x6c9)]);if(!_0x1d1136)throw new Error(_0x17191f(0x3b7));const _0x58778c=_0x584c19[_0x17191f(0x164)][_0x17191f(0xa57)](_0x29430f=>_0x29430f[_0x17191f(0x6b2)]()===_0x1d1136[_0x17191f(0x46e)]);if(!_0x58778c)throw new Error('No\x20connector\x20found\x20for\x20model');return _0x58778c[_0x17191f(0xa94)]({'type':_0x17191f(0x16a),'prompt':_0x382490[_0x17191f(0x7e4)],'threadId':_0x382490[_0x17191f(0x441)]},{'model':_0x1d1136,'sequences':0x1});}(_0x5751a7,_0x25e33c);return{'type':_0x4f991d(0x16a),'output':_0x1917ec[_0x4f991d(0x545)],'inputTokens':_0x1917ec[_0x4f991d(0x9be)]??0x0,'outputTokens':_0x1917ec[_0x4f991d(0xa61)]??0x0};}async function _0x95bf22(_0x5b2a77,_0x51a921){const _0x4bd905=_0xe992e3;let _0x3cc22c='',_0x25eae4={'type':_0x4bd905(0x16a),'internalContext':_0x5b2a77[_0x4bd905(0x6c7)]??{}};switch(_0x5b2a77['tool'][_0x4bd905(0x689)]){case _0x981fb5['GenerativeAIInferenceToolType'][_0x4bd905(0x2a4)]:case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0xab0)]:_0x3cc22c=await _0x4c9a6d(_0x5b2a77[_0x4bd905(0x3ea)],_0x5b2a77['tool'],_0x51a921,_0x5b2a77[_0x4bd905(0x1a1)],_0x25eae4);break;case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x565)]:_0x3cc22c=await _0x2f5ef3(_0x5b2a77['tool'],_0x51a921,_0x5b2a77[_0x4bd905(0x1a1)]);break;case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x243)]:_0x3cc22c=await _0x5837fc(_0x5b2a77[_0x4bd905(0x1a1)]);break;case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x760)]:case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x7bc)]:_0x3cc22c=await _0x4aebe9(_0x5b2a77[_0x4bd905(0x3ea)],_0x5b2a77[_0x4bd905(0x4e5)],_0x5b2a77[_0x4bd905(0x1a1)],_0x25eae4);break;case _0x981fb5[_0x4bd905(0x63f)]['CustomSkill']:_0x3cc22c=await _0x272703(_0x5b2a77[_0x4bd905(0x4e5)],_0x5b2a77[_0x4bd905(0x1a1)],_0x25eae4);break;case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x217)]:_0x3cc22c=await _0x504581(_0x5b2a77[_0x4bd905(0x1a1)]);break;case _0x981fb5[_0x4bd905(0x63f)]['WebScraperRaw']:_0x3cc22c=await _0x504581(_0x5b2a77[_0x4bd905(0x1a1)],!0x1);break;case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x69c)]:_0x3cc22c=await _0x5cfd5c(_0x51a921,_0x5b2a77[_0x4bd905(0x1a1)]);break;case _0x981fb5['GenerativeAIInferenceToolType']['FormSkillGetQuestion']:_0x3cc22c=await _0xc458e0(_0x5b2a77[_0x4bd905(0x4e5)],_0x25eae4);break;case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x3eb)]:_0x3cc22c=await _0x2b9b6c(_0x5b2a77['tool'],_0x5b2a77['arguments'],_0x25eae4);break;case _0x981fb5['GenerativeAIInferenceToolType'][_0x4bd905(0x382)]:_0x3cc22c=await _0x4f4b92(_0x5b2a77[_0x4bd905(0x4e5)],_0x25eae4);break;case _0x981fb5[_0x4bd905(0x63f)][_0x4bd905(0x6bb)]:_0x5b2a77[_0x4bd905(0x4e5)][_0x4bd905(0x335)]?_0x3cc22c=await _0x3b2d8c(_0x5b2a77[_0x4bd905(0x3ea)],_0x5b2a77[_0x4bd905(0x4e5)],_0x5b2a77[_0x4bd905(0x1a1)],_0x25eae4):(_0x3b2d8c(_0x5b2a77[_0x4bd905(0x3ea)],_0x5b2a77[_0x4bd905(0x4e5)],_0x5b2a77[_0x4bd905(0x1a1)],_0x25eae4),_0x3cc22c=_0x4bd905(0x47b));}return{'type':_0x4bd905(0xafd),'output':_0x3cc22c,'internalContext':_0x25eae4[_0x4bd905(0x6c7)]??{}};}async function*_0x12f02f(_0x2d0e23,_0x11d001,_0x296626){const _0x5c7bcd=_0xe992e3,_0x46458a=_0x11d001['agentId']??(0x0,_0x2860a6['v4'])(),_0x39c2b3={'type':'prompt','context':[],'internalContext':_0x11d001['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x4cdbb3=new _0x58f138();!async function(_0x55ec85,_0x2a4a4b,_0xcdd863,_0x5da07e,_0x2d5d36,_0x3679bb){const _0x4e4fe1=a0_0xca1a,_0x5d21b0=_0x3679bb[_0x4e4fe1(0x28b)][_0x4e4fe1(0xa57)](_0x31527f=>_0x31527f['id']===_0xcdd863[_0x4e4fe1(0x6c9)]);if(!_0x5d21b0)throw new Error('Model\x20not\x20found');const _0x396ade=_0x3679bb[_0x4e4fe1(0x164)]['find'](_0x38bcfa=>_0x38bcfa[_0x4e4fe1(0x6b2)]()===_0x5d21b0[_0x4e4fe1(0x46e)]);if(!_0x396ade)throw new Error(_0x4e4fe1(0x66d));const _0x14cbf4={'type':_0x4e4fe1(0x16a),'output':''},_0x4dce71=await _0xa709c(_0x55ec85,_0x2a4a4b,_0xcdd863,_0x5da07e,_0xcdd863[_0x4e4fe1(0xb13)]??[],_0x3679bb,_0x2d5d36);for await(const _0x11f6e6 of _0x396ade[_0x4e4fe1(0x89a)]({'type':_0x4e4fe1(0x16a),'prompt':_0xcdd863[_0x4e4fe1(0x16a)],'instructions':_0xcdd863[_0x4e4fe1(0x23e)],'reasoning':_0xcdd863[_0x4e4fe1(0x314)],'grammar':_0xcdd863[_0x4e4fe1(0x133)],'temperature':_0xcdd863[_0x4e4fe1(0x2b7)],'maxTokens':_0xcdd863[_0x4e4fe1(0x67d)],'history':_0xcdd863[_0x4e4fe1(0x485)],'functions':_0x4dce71,'threadId':_0xcdd863[_0x4e4fe1(0x441)]},{'model':_0x5d21b0,'sequences':Array[_0x4e4fe1(0x79e)](_0x4dce71[_0x4e4fe1(0x5a2)]())[_0x4e4fe1(0x276)](_0x317114=>_0x317114['startsWith'](_0x4e4fe1(0xadf)))?0x2:0x1}))_0x2d5d36['emit'](_0x11f6e6),_0x4e4fe1(0xab7)==typeof _0x14cbf4['output']&&_0x4e4fe1(0xab7)==typeof _0x11f6e6['output']&&(_0x14cbf4[_0x4e4fe1(0x545)]+=_0x11f6e6['output']),_0x14cbf4['inputTokens']=_0x11f6e6[_0x4e4fe1(0x9be)],_0x14cbf4[_0x4e4fe1(0xa61)]=_0x11f6e6['outputTokens'];await _0x50a54a['wait'](0x1),_0x2d5d36[_0x4e4fe1(0x5c8)](void 0x0);}(_0x2d0e23,_0x46458a,_0x11d001,_0x39c2b3,_0x4cdbb3,_0x296626);let _0x59fbb0='',_0x50cd7f={'type':_0x5c7bcd(0x16a)};for(;;){const _0x4d328e=await _0x4cdbb3[_0x5c7bcd(0x5ae)]();if(!_0x4d328e)break;_0x59fbb0+=_0x4d328e['output'],_0x50cd7f={'type':'prompt','output':_0x4d328e['output'],'context':_0x39c2b3[_0x5c7bcd(0xa86)],'internalContext':{},'inputTokens':(_0x39c2b3[_0x5c7bcd(0x9be)]??0x0)+(_0x4d328e[_0x5c7bcd(0x9be)]??0x0),'outputTokens':(_0x39c2b3[_0x5c7bcd(0xa61)]??0x0)+(_0x4d328e[_0x5c7bcd(0xa61)]??0x0)},yield _0x50cd7f;}yield{..._0x50cd7f,'output':'','internalContext':_0x39c2b3[_0x5c7bcd(0x6c7)]??{}};}async function _0x30e3b2(_0x24ff48,_0x3e723e,_0x490b88,_0x13d043,_0x4366e2,_0x432960){const _0x1fb959=_0xe992e3,_0x5b4bdc=Date[_0x1fb959(0x559)]();if(!_0x432960[_0x1fb959(0x28b)][_0x1fb959(0xa57)](_0x557875=>_0x557875['id']===_0x13d043['modelId']))throw new Error('Model\x20not\x20found');const _0x15d18a=(0x0,_0x2860a6['v4'])(),_0x6a4ba7=[];_0x6a4ba7['push']({'role':_0x1fb959(0x47f),'content':_0x13d043['instructions']}),_0x6a4ba7[_0x1fb959(0xae7)]({'role':_0x1fb959(0x837),'content':_0x490b88});const _0x557dbb=await fetch(_0x201946[_0x1fb959(0xa2a)]+'/chat/completions',{'method':'POST','headers':{'Content-Type':_0x1fb959(0x4d5),'x-vendor-id':_0x24ff48},'body':JSON['stringify']({'model':_0x13d043['modelId'],'messages':_0x6a4ba7,'max_completion_tokens':_0x13d043[_0x1fb959(0x67d)],'temperature':_0x13d043['temperature'],'threadId':_0x15d18a})}),_0x34b40d=(await _0x557dbb[_0x1fb959(0x472)]())[_0x1fb959(0x94f)][0x0][_0x1fb959(0x337)][_0x1fb959(0x2e4)];await _0x45b70a['trace']({'jobType':_0x883e8c['Ingest'],'type':_0x4215bb[_0x1fb959(0x2a4)],'jobId':_0x3e723e,'blockId':_0x13d043['id'],'traceLevel':_0x1ceba1[_0x1fb959(0x247)],'timestamp':Date['now'](),'startTime':_0x5b4bdc,'status':'success','agentId':_0x15d18a,'content':_0x490b88,'instructions':_0x13d043['instructions'],'result':_0x34b40d});const _0x231346=[];if(_0x13d043['links']?.[_0x1fb959(0x276)](_0x5e85e3=>_0x5e85e3['type']===_0x1bcb29['Text']))return _0x231346[_0x1fb959(0xae7)]({'content':_0x34b40d,'start':0x0,'length':_0x34b40d['length']}),await _0x320f00(_0x24ff48,_0x3e723e,_0x231346,_0x13d043,_0x4366e2,_0x432960),void await _0x320f00(_0x24ff48,_0x3e723e,_0x34b40d,_0x13d043,_0x4366e2,_0x432960);_0x231346[_0x1fb959(0xae7)]({'content':_0x34b40d,'start':0x0,'length':_0x490b88['length']}),await _0x320f00(_0x24ff48,_0x3e723e,_0x231346,_0x13d043,_0x4366e2,_0x432960);}async function _0x25a54e(_0x17f8df,_0xd02ae,_0xc239d9,_0x1a6430,_0xb2cb21,_0x44c74c){const _0x38f9e8=_0xe992e3,_0x198e32=Date['now']();let _0x364326=[];if(_0xc239d9 instanceof Array)for(const _0x37b6e6 of _0xc239d9){if(_0x38f9e8(0xab7)!=typeof _0x37b6e6[_0x38f9e8(0x2e4)])throw new Error(_0x38f9e8(0xa59));_0x364326=_0x364326[_0x38f9e8(0x968)](_0x41189e(_0x37b6e6[_0x38f9e8(0x2e4)],_0x1a6430,_0x37b6e6['start'],_0x37b6e6[_0x38f9e8(0x756)]));}else _0x364326=_0x41189e(_0xc239d9,_0x1a6430);await _0x45b70a['trace']({'jobType':_0x883e8c['Ingest'],'type':_0x4215bb[_0x38f9e8(0x93a)],'traceLevel':_0x1ceba1[_0x38f9e8(0x247)],'jobId':_0xd02ae,'blockId':_0x1a6430['id'],'startTime':_0x198e32,'timestamp':Date[_0x38f9e8(0x559)](),'status':_0x38f9e8(0x20c),'totalChunks':_0x364326[_0x38f9e8(0x756)],'chunkSize':_0x1a6430[_0x38f9e8(0x3d8)]['size']}),await _0x320f00(_0x17f8df,_0xd02ae,_0x364326,_0x1a6430,_0xb2cb21,_0x44c74c);}function _0x41189e(_0x241374,_0x22e82e,_0x5ab1f7,_0x1e7b99){const _0x2c418d=_0xe992e3,_0x1b7c1f=[];for(let _0x4a35eb=0x0;_0x4a35eb<_0x241374[_0x2c418d(0x756)];_0x4a35eb+=_0x22e82e[_0x2c418d(0x3d8)][_0x2c418d(0x73d)]){let _0xaf383c=_0x4a35eb-_0x22e82e[_0x2c418d(0x3d8)][_0x2c418d(0x8cc)];_0xaf383c<0x0&&(_0xaf383c=0x0);let _0x4fecf1=_0x4a35eb+_0x22e82e[_0x2c418d(0x3d8)][_0x2c418d(0x73d)]+_0x22e82e[_0x2c418d(0x3d8)]['overlap'];_0x4fecf1>_0x241374[_0x2c418d(0x756)]&&(_0x4fecf1=_0x241374['length']);const _0x2da403=_0x241374[_0x2c418d(0x12a)](_0xaf383c,_0x4fecf1);_0x1b7c1f[_0x2c418d(0xae7)]({'content':_0x2da403,'start':_0x5ab1f7??_0x4a35eb,'length':_0x1e7b99??(_0x4a35eb+_0x22e82e[_0x2c418d(0x3d8)]['size']>_0x241374[_0x2c418d(0x756)]?_0x241374[_0x2c418d(0x756)]-_0x4a35eb:_0x22e82e[_0x2c418d(0x3d8)][_0x2c418d(0x73d)])});}return _0x1b7c1f;}async function _0x5d96f0(_0x2c4190,_0x621a2e,_0x2e8219,_0xa41ad7,_0xf20676,_0x5bc2e5){const _0x38df4b=_0xe992e3,_0x39f4ab=Date[_0x38df4b(0x559)]();let _0x33c209;if(_0x2e8219[_0x38df4b(0x566)][_0x38df4b(0x689)][_0x38df4b(0x654)](_0x38df4b(0x5a5))||_0x1727bc(_0x2e8219[_0x38df4b(0x566)][_0x38df4b(0x758)],_0x389a48))_0x33c209=await _0x2e8219[_0x38df4b(0x566)][_0x38df4b(0x7e4)]();else{if(!_0x5bc2e5[_0x38df4b(0xa96)][_0x38df4b(0x82b)](_0x2e8219[_0x38df4b(0x566)]))throw new Error(_0x38df4b(0x16f)+_0x2e8219[_0x38df4b(0x566)]['type']+_0x38df4b(0x66b)+_0x2e8219[_0x38df4b(0x566)][_0x38df4b(0x758)]);_0x33c209=await _0x5bc2e5[_0x38df4b(0xa96)][_0x38df4b(0xa0d)](_0x2e8219[_0x38df4b(0x566)]);}await _0x45b70a[_0x38df4b(0x41f)]({'jobType':_0x883e8c[_0x38df4b(0x936)],'type':_0x4215bb['DocumentParser'],'traceLevel':_0x1ceba1[_0x38df4b(0x247)],'blockId':_0xa41ad7['id'],'jobId':_0x621a2e,'startTime':_0x39f4ab,'timestamp':Date['now'](),'status':_0x38df4b(0x20c),'documentType':_0x2e8219[_0x38df4b(0x566)][_0x38df4b(0x689)],'documentName':_0x2e8219[_0x38df4b(0x566)][_0x38df4b(0x758)],'extractionMethod':'OfficeParser'}),await _0x320f00(_0x2c4190,_0x621a2e,_0x33c209,_0xa41ad7,_0xf20676,_0x5bc2e5);const _0x16e4fa=[{'content':_0x33c209,'start':0x0,'length':_0x33c209[_0x38df4b(0x756)]}];await _0x320f00(_0x2c4190,_0x621a2e,_0x16e4fa,_0xa41ad7,_0xf20676,_0x5bc2e5);}const _0x389a48=['.js',_0xe992e3(0xa5e),'.py','.json','.txt',_0xe992e3(0x963),_0xe992e3(0x1c2),_0xe992e3(0x1d5),_0xe992e3(0x19d),_0xe992e3(0x58b),_0xe992e3(0x3bc),_0xe992e3(0x21c),_0xe992e3(0x6d9),_0xe992e3(0x20a),_0xe992e3(0x793),'.conf',_0xe992e3(0x70e),'.rb',_0xe992e3(0xb02),'.java','.c',_0xe992e3(0x209),_0xe992e3(0xb19),'.r',_0xe992e3(0x86d),_0xe992e3(0xa99),_0xe992e3(0x3d6),'.kt',_0xe992e3(0x3cf),_0xe992e3(0x458),_0xe992e3(0x3f9),'.lua',_0xe992e3(0x37e),'.clj',_0xe992e3(0x1b8),_0xe992e3(0x6a2),'.ex',_0xe992e3(0x6ae),_0xe992e3(0x380),_0xe992e3(0xaeb),_0xe992e3(0x8e8),'.m','.vbs',_0xe992e3(0x351),_0xe992e3(0x153),_0xe992e3(0x1f1),_0xe992e3(0xa5f),_0xe992e3(0xb21),'.tsx','.vue',_0xe992e3(0x223),_0xe992e3(0x3e1),_0xe992e3(0x418),_0xe992e3(0x1a0),_0xe992e3(0x88d),_0xe992e3(0x644),_0xe992e3(0x2c4),_0xe992e3(0x522),_0xe992e3(0x87b),_0xe992e3(0x3dd),_0xe992e3(0x47c),'.j2',_0xe992e3(0xa58)];function _0x1727bc(_0x173c2d,_0xbcc107){const _0x12ddad=_0xe992e3;return _0xbcc107[_0x12ddad(0x137)]('.'+(_0x173c2d[_0x12ddad(0x130)]('.')['pop']()?.['toLowerCase']()||''));}async function _0x4821b4(_0x47359f,_0x228635,_0x45547a,_0x14b8ba,_0x249153,_0x58b6ec){const _0x48ba66=_0xe992e3,_0x4ca773=Date['now'](),_0xc14a26=new Set();let _0x2758c4=0x0;for(const _0x38bc41 of _0x45547a){if(_0x48ba66(0xab7)!=typeof _0x38bc41[_0x48ba66(0x2e4)])throw new Error('Invalid\x20content\x20type');_0x2758c4+=_0x38bc41[_0x48ba66(0x2e4)][_0x48ba66(0x756)],await _0x1b6bbd(_0x38bc41[_0x48ba66(0x2e4)],_0xc14a26,_0x14b8ba,_0x58b6ec[_0x48ba66(0x934)]);}await _0x45b70a['trace']({'jobType':_0x883e8c['Ingest'],'type':_0x4215bb[_0x48ba66(0x93d)],'jobId':_0x228635,'blockId':_0x14b8ba['id'],'traceLevel':_0x1ceba1[_0x48ba66(0x247)],'startTime':_0x4ca773,'timestamp':Date[_0x48ba66(0x559)](),'status':_0x48ba66(0x20c),'contentLength':_0x2758c4,'totalChunks':_0x45547a instanceof Array?_0x45547a[_0x48ba66(0x756)]:0x1,'entitiesExtracted':_0xc14a26,'totalEntities':_0xc14a26[_0x48ba66(0x73d)]}),await _0x320f00(_0x47359f,_0x228635,_0xc14a26,_0x14b8ba,_0x249153,_0x58b6ec);}async function _0x1b6bbd(_0x129378,_0x1f7dfc,_0x2c46fe,_0x3b7fbc){const _0x3e47e4=_0xe992e3,_0x338994=await _0x3b7fbc['getEntities'](_0x129378,{'ner':_0x2c46fe[_0x3e47e4(0x3d8)]['ner'],'noun':_0x2c46fe['attributes'][_0x3e47e4(0x8fe)],'propn':_0x2c46fe['attributes'][_0x3e47e4(0x21a)],'verb':_0x2c46fe['attributes'][_0x3e47e4(0x7b4)]});for(const _0x49927c of _0x338994)_0x1f7dfc['add'](_0x49927c);}async function _0x5e6232(_0x37540e,_0x55cbab,_0x123a9d,_0x143c00,_0x34d440){const _0x5cdded=_0xe992e3,_0x23b60c=Date['now']();if(_0x123a9d[_0x5cdded(0x5c7)]||(_0x123a9d[_0x5cdded(0x5c7)]={}),'string'==typeof _0x55cbab?_0x123a9d['accumulated'][_0x5cdded(0x2e4)]=_0x55cbab:_0x55cbab instanceof Set?_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x846)]=_0x55cbab:_0x55cbab instanceof Map?_0x123a9d['accumulated'][_0x5cdded(0x6eb)]=_0x55cbab:_0x55cbab instanceof Array?_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x369)]=_0x55cbab:_0x123a9d[_0x5cdded(0x5c7)]['file']=_0x55cbab,_0x123a9d[_0x5cdded(0x32f)]=_0x123a9d[_0x5cdded(0x32f)]?_0x123a9d['timesCalled']+0x1:0x1,_0x332031(_0x123a9d,_0x143c00['ingestBlocks'])>_0x123a9d['timesCalled'])return;if(!(_0x123a9d['accumulated']['entities']&&_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x566)]&&_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x2e4)]&&_0x123a9d['accumulated']['index']))throw new Error(_0x5cdded(0x2c2));let _0x4182dc=0x0;const _0x516367=_0x34d440[_0x5cdded(0x88f)][_0x5cdded(0x502)](_0x123a9d['id']);for(const _0x5c20f0 of _0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x846)]){let _0x2e04a3=[];_0x2e04a3=_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x369)][_0x5cdded(0x1ee)](_0x1ee660=>_0x5cdded(0xab7)==typeof _0x1ee660['content']&&_0x1ee660['content'][_0x5cdded(0x137)](_0x5c20f0));try{_0x516367[_0x5cdded(0x2cd)](_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x566)]['pathName'],_0x123a9d[_0x5cdded(0x5c7)]['content'],_0x2e04a3,_0x5c20f0),_0x4182dc+=0x1;}catch(_0x5d0662){}}if(_0x123a9d['accumulated'][_0x5cdded(0x6eb)]){for(const [_0x38e2ad,_0x4f8b1d]of _0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x6eb)])for(const _0xd18710 of _0x4f8b1d)try{_0x516367[_0x5cdded(0x5df)](_0x38e2ad,_0xd18710);}catch(_0x17c78b){}await _0x45b70a['trace']({'jobType':_0x883e8c['Ingest'],'type':_0x4215bb[_0x5cdded(0x663)],'jobId':_0x37540e,'blockId':_0x123a9d['id'],'status':'success','startTime':_0x23b60c,'timestamp':Date[_0x5cdded(0x559)](),'traceLevel':_0x1ceba1[_0x5cdded(0x247)],'nodesAdded':_0x4182dc,'entities':_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x846)],'relations':_0x123a9d[_0x5cdded(0x5c7)][_0x5cdded(0x6eb)]});}}async function _0x34ac9a(_0x53a974,_0x59837b,_0x28296f,_0x544c56,_0x42af78,_0x5d3a4f){const _0x1744f1=_0xe992e3,_0x566fe0=_0x5d3a4f[_0x1744f1(0x28b)]['find'](_0x25c75d=>_0x25c75d['id']===_0x544c56['id']);if(!_0x566fe0)throw new Error(_0x1744f1(0x3b7));switch(_0x566fe0[_0x1744f1(0x225)]){case _0x981fb5[_0x1744f1(0x6f8)][_0x1744f1(0x722)]:if(_0x1744f1(0xab7)!=typeof _0x28296f)throw new Error(_0x1744f1(0x4f4));await async function(_0x3e7477,_0x530c02,_0x106c47,_0x1f23fd,_0x321c1f,_0x34b3db,_0x520290){const _0x3e4300=_0x1744f1,_0x595f5f=Date[_0x3e4300(0x559)]();let _0x236468;const _0x9c5a11=await fetch(_0x201946[_0x3e4300(0xa2a)]+_0x3e4300(0x410),{'method':_0x3e4300(0x832),'headers':{'Content-Type':_0x3e4300(0x4d5),'x-vendor-id':_0x3e7477},'body':JSON[_0x3e4300(0x719)]({'messages':[{'role':_0x3e4300(0x837),'content':_0x106c47}],'model':_0x1f23fd['id']})});_0x236468=(await _0x9c5a11['json']())[_0x3e4300(0x94f)][0x0][_0x3e4300(0x337)][_0x3e4300(0x2e4)],await _0x45b70a[_0x3e4300(0x41f)]({'jobType':_0x883e8c[_0x3e4300(0x936)],'type':_0x4215bb[_0x3e4300(0xaf7)],'jobId':_0x530c02,'blockId':_0x321c1f['id'],'traceLevel':_0x1ceba1[_0x3e4300(0x247)],'timestamp':Date[_0x3e4300(0x559)](),'startTime':_0x595f5f,'status':_0x3e4300(0x20c),'modelName':_0x1f23fd['id'],'inputType':_0x1f23fd[_0x3e4300(0x7f8)],'outputType':_0x1f23fd[_0x3e4300(0x225)],'content':_0x106c47,'results':_0x236468}),await _0x320f00(_0x3e7477,_0x530c02,_0x236468,_0x321c1f,_0x34b3db,_0x520290);}(_0x53a974,_0x59837b,_0x28296f,_0x566fe0,_0x544c56,_0x42af78,_0x5d3a4f);break;case _0x981fb5[_0x1744f1(0x6f8)]['Vector']:if(!(_0x28296f instanceof Array))throw new Error(_0x1744f1(0x8d2));await async function(_0x17fc39,_0x476f35,_0x3d1651,_0x2e625d,_0x4615b3,_0x5cff7c,_0x4bb1d6){const _0xcb765d=_0x1744f1,_0x580280=Date['now'](),_0x59e1ec=await fetch(_0x201946[_0xcb765d(0xa2a)]+_0xcb765d(0x5bf),{'method':'POST','headers':{'Content-Type':_0xcb765d(0x4d5),'x-vendor-id':_0x17fc39},'body':JSON[_0xcb765d(0x719)]({'input':_0x3d1651['map'](_0x3bb137=>_0x3bb137[_0xcb765d(0x2e4)]),'model':_0x2e625d['id']})}),_0x38284b=(await _0x59e1ec[_0xcb765d(0x472)]())[_0xcb765d(0x9a6)][_0xcb765d(0x7db)](_0x149e73=>_0x149e73[_0xcb765d(0x4ae)]);await _0x45b70a[_0xcb765d(0x41f)]({'jobType':_0x883e8c[_0xcb765d(0x936)],'type':_0x4215bb[_0xcb765d(0x904)],'jobId':_0x476f35,'blockId':_0x4615b3['id'],'traceLevel':_0x1ceba1['Debug'],'timestamp':Date[_0xcb765d(0x559)](),'startTime':_0x580280,'status':_0xcb765d(0x20c),'modelName':_0x2e625d['id'],'inputType':_0x2e625d[_0xcb765d(0x7f8)],'outputType':_0x2e625d['outputType'],'totalVectors':_0x38284b[_0xcb765d(0x756)]}),await _0x320f00(_0x17fc39,_0x476f35,_0x38284b,_0x4615b3,_0x5cff7c,_0x4bb1d6);}(_0x53a974,_0x59837b,_0x28296f,_0x566fe0,_0x544c56,_0x42af78,_0x5d3a4f);}}async function _0x5d2b6a(_0x4cae19,_0x7fd4ba,_0x3169c5,_0x1d90c8,_0x2421c1,_0x2e5ecf){const _0x239a6f=_0xe992e3,_0x5ddbb0=Date[_0x239a6f(0x559)]();if(_0x1d90c8[_0x239a6f(0x5c7)]||(_0x1d90c8[_0x239a6f(0x5c7)]={}),_0x3169c5 instanceof Array?_0x1d90c8[_0x239a6f(0x5c7)][_0x239a6f(0x369)]=_0x3169c5:_0x1d90c8['accumulated'][_0x239a6f(0x846)]=_0x3169c5,_0x1d90c8[_0x239a6f(0x32f)]=_0x1d90c8[_0x239a6f(0x32f)]?_0x1d90c8[_0x239a6f(0x32f)]+0x1:0x1,_0x332031(_0x1d90c8,_0x2421c1[_0x239a6f(0x880)])>_0x1d90c8[_0x239a6f(0x32f)])return;if(!_0x1d90c8[_0x239a6f(0x5c7)]['index']||!_0x1d90c8[_0x239a6f(0x5c7)][_0x239a6f(0x846)])throw new Error(_0x239a6f(0xa5b));const _0x50f0e9=new Map();for(const _0x36ec20 of _0x1d90c8[_0x239a6f(0x5c7)][_0x239a6f(0x369)]){if(_0x239a6f(0xab7)!=typeof _0x36ec20['content'])throw new Error('Invalid\x20content\x20type');_0x146181(_0x36ec20['content'],_0x1d90c8[_0x239a6f(0x5c7)][_0x239a6f(0x846)],_0x50f0e9);}await _0x45b70a[_0x239a6f(0x41f)]({'jobType':_0x883e8c[_0x239a6f(0x936)],'type':_0x4215bb['RelationExtractor'],'jobId':_0x7fd4ba,'blockId':_0x1d90c8['id'],'traceLevel':_0x1ceba1[_0x239a6f(0x247)],'timestamp':Date['now'](),'startTime':_0x5ddbb0,'status':_0x239a6f(0x20c),'entities':_0x1d90c8[_0x239a6f(0x5c7)][_0x239a6f(0x846)],'relations':_0x50f0e9,'totalRelationsExtracted':_0x50f0e9['size']}),await _0x320f00(_0x4cae19,_0x7fd4ba,_0x50f0e9,_0x1d90c8,_0x2421c1,_0x2e5ecf);}function _0x146181(_0x1559cc,_0x5953eb,_0x26d5cc){const _0x1b117c=_0xe992e3;for(const _0x4214af of _0x5953eb)for(const _0x204082 of _0x5953eb){if(_0x4214af===_0x204082)continue;const _0x14361f=_0x1559cc['indexOf'](_0x4214af),_0xd65179=_0x1559cc[_0x1b117c(0x29b)](_0x204082);-0x1!==_0x14361f&&-0x1!==_0xd65179&&(_0x26d5cc['has'](_0x4214af)||_0x26d5cc[_0x1b117c(0x888)](_0x4214af,new Set()),_0x26d5cc[_0x1b117c(0x6ab)](_0x4214af)['add'](_0x204082));}return _0x26d5cc;}async function _0xed4ffa(_0x2e2f5b,_0x2da3be,_0x5817f0,_0x8ed660,_0x5b609a,_0x11dbba){const _0x36cac3=_0xe992e3,_0x31decc=Date[_0x36cac3(0x559)]();let _0x4f9262=[];if(_0x5817f0 instanceof Array)for(const _0x2a9ee4 of _0x5817f0){if(_0x36cac3(0xab7)!=typeof _0x2a9ee4[_0x36cac3(0x2e4)])throw new Error('Invalid\x20content\x20type');const _0x90babf=await _0x11dbba[_0x36cac3(0x934)][_0x36cac3(0x2c0)](_0x2a9ee4[_0x36cac3(0x2e4)]);_0x4f9262=_0x4f9262[_0x36cac3(0x968)](_0x90babf['map'](_0x378344=>({'content':_0x378344,'start':_0x2a9ee4['start'],'length':_0x2a9ee4['length']})));}else _0x4f9262=(await _0x11dbba[_0x36cac3(0x934)][_0x36cac3(0x2c0)](_0x5817f0))['map'](_0x285813=>({'content':_0x285813,'start':_0x5817f0[_0x36cac3(0x29b)](_0x285813),'length':_0x285813[_0x36cac3(0x756)]}));await _0x45b70a[_0x36cac3(0x41f)]({'jobType':_0x883e8c['Ingest'],'type':_0x4215bb[_0x36cac3(0x208)],'jobId':_0x2da3be,'blockId':_0x8ed660['id'],'traceLevel':_0x1ceba1[_0x36cac3(0x247)],'startTime':_0x31decc,'timestamp':Date[_0x36cac3(0x559)](),'status':_0x36cac3(0x20c),'totalSentences':_0x4f9262[_0x36cac3(0x756)],'averageSentenceLength':_0x4f9262[_0x36cac3(0x3d2)]((_0x539196,_0x34964c)=>_0x539196+_0x34964c[_0x36cac3(0x756)],0x0)/_0x4f9262[_0x36cac3(0x756)]}),await _0x320f00(_0x2e2f5b,_0x2da3be,_0x4f9262,_0x8ed660,_0x5b609a,_0x11dbba);}async function _0x31c6ac(_0x2d9f7e,_0xe0c878,_0x25171b){const _0x56db2b=_0xe992e3;if(0x0===_0x2d9f7e[_0x56db2b(0x756)])return;const _0x5af5b=_0xe0c878[_0x56db2b(0x6c7)]?.[_0x56db2b(0x73b)]?_0xe0c878[_0x56db2b(0x6c7)][_0x56db2b(0x73b)]['split'](','):[];for(const _0xc68921 of _0x2d9f7e){const _0x5251de=await _0x25171b[_0x56db2b(0x611)][_0x56db2b(0x9c1)](_0xc68921);_0x5af5b[_0x56db2b(0xae7)](_0x5251de);}_0xe0c878[_0x56db2b(0x6c7)]||(_0xe0c878[_0x56db2b(0x6c7)]={}),_0xe0c878[_0x56db2b(0x6c7)][_0x56db2b(0x73b)]=_0x5af5b['join'](',');}async function _0x496b3e(_0xaa6f3f,_0x1f43de,_0x4d21c3,_0x13689f,_0x4ee4ac){const _0x470cd5=_0xe992e3,_0x2d25fc=_0x1f43de[_0x470cd5(0x2a5)]??(0x0,_0x2860a6['v4'])(),_0x2937c8=Date[_0x470cd5(0x559)]();await _0x45b70a['trace']({'jobType':_0x883e8c[_0x470cd5(0x33c)],'type':_0xeda98f[_0x470cd5(0xaee)],'jobId':_0xaa6f3f,'blockId':_0x4d21c3['id'],'agentId':_0x2d25fc,'threadId':_0x1f43de[_0x470cd5(0x441)],'traceLevel':_0x1ceba1['Info'],'startTime':Date[_0x470cd5(0x559)](),'timestamp':Date[_0x470cd5(0x559)](),'status':_0x470cd5(0x20c),'initialPrompt':_0x1f43de[_0x470cd5(0x16a)]});const _0x42dade={'type':_0x470cd5(0x16a),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x1f43de[_0x470cd5(0x6c7)]&&(_0x42dade[_0x470cd5(0x6c7)]=_0x1f43de[_0x470cd5(0x6c7)]),await _0x560aea(_0x1f43de,_0x42dade,_0x4d21c3,_0x13689f,_0x4ee4ac),await _0x2a1c05(_0xaa6f3f,''+_0x1f43de['prompt'],_0x1f43de,_0x42dade,_0x4d21c3,_0x13689f,_0x4ee4ac);const {inputTokens:_0x168c38=0x0,outputTokens:_0x4c0324=0x0,context:_0x5f5810=[]}=_0x42dade;await _0x45b70a[_0x470cd5(0x41f)]({'jobType':_0x883e8c[_0x470cd5(0x33c)],'type':_0xeda98f[_0x470cd5(0x30b)],'jobId':_0xaa6f3f,'agentId':_0x2d25fc,'threadId':_0x1f43de[_0x470cd5(0x441)],'traceLevel':_0x1ceba1[_0x470cd5(0x5cb)],'startTime':_0x2937c8,'timestamp':Date[_0x470cd5(0x559)](),'blockId':_0x4d21c3['id'],'status':_0x470cd5(0x20c),'output':_0x42dade[_0x470cd5(0x545)]?.[_0x470cd5(0x53b)]()??'','prompt':_0x1f43de[_0x470cd5(0x16a)],'agentName':'','history':_0x1f43de['history']??[],'instructions':''+(_0x1f43de[_0x470cd5(0x23e)]??''),'ragContext':_0x5f5810,'inputTokens':_0x168c38,'outputTokens':_0x4c0324});const _0x3d7c27=_0x13689f['find'](_0x3d222d=>_0x3d222d['type']===_0x115e61[_0x470cd5(0x8b4)]);return{'type':_0x470cd5(0x16a),'output':_0x42dade['output'],'context':_0x42dade[_0x470cd5(0xa86)],'internalContext':_0x42dade['internalContext'],'resultFile':await _0x3d7c27?.[_0x470cd5(0x5c7)]?.[_0x470cd5(0x566)]?.[_0x470cd5(0x7e4)]()??void 0x0,'inputTokens':_0x42dade[_0x470cd5(0x9be)]??0x0,'outputTokens':_0x42dade[_0x470cd5(0xa61)]??0x0};}async function*_0x72cadc(_0x215101,_0x3349fe,_0x571df1,_0x44cad4,_0x27b63f){const _0x46edda=_0xe992e3,_0x8023ea=_0x3349fe['agentId']??(0x0,_0x2860a6['v4'])(),_0x390b13=Date['now']();await _0x45b70a['trace']({'jobType':_0x883e8c[_0x46edda(0x33c)],'type':_0xeda98f['InitialPrompt'],'jobId':_0x215101,'agentId':_0x8023ea,'threadId':_0x3349fe[_0x46edda(0x441)],'traceLevel':_0x1ceba1['Info'],'startTime':Date[_0x46edda(0x559)](),'timestamp':Date[_0x46edda(0x559)](),'blockId':_0x571df1['id'],'status':_0x46edda(0x20c),'initialPrompt':_0x3349fe[_0x46edda(0x16a)]});const _0x4cd1cb={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x3349fe['internalContext']&&(_0x4cd1cb['internalContext']=_0x3349fe[_0x46edda(0x6c7)]);const _0x2f8938=new _0x58f138();await _0x560aea(_0x3349fe,_0x4cd1cb,_0x571df1,_0x44cad4,_0x27b63f),_0x2a1c05(_0x215101,''+_0x3349fe[_0x46edda(0x16a)],_0x3349fe,_0x4cd1cb,_0x571df1,_0x44cad4,_0x27b63f,_0x2f8938);let _0x1d0aad='',_0x57b2a5={'type':'prompt'};for(;;){const _0x4c1b38=await _0x2f8938[_0x46edda(0x5ae)]();if(!_0x4c1b38)break;_0x1d0aad+=_0x4c1b38[_0x46edda(0x545)],_0x57b2a5={'type':'prompt','output':_0x4c1b38[_0x46edda(0x545)],'context':_0x4cd1cb[_0x46edda(0xa86)],'resultFile':void 0x0,'inputTokens':(_0x4cd1cb[_0x46edda(0x9be)]??0x0)+(_0x4c1b38[_0x46edda(0x9be)]??0x0),'outputTokens':(_0x4cd1cb[_0x46edda(0xa61)]??0x0)+(_0x4c1b38[_0x46edda(0xa61)]??0x0)},yield _0x57b2a5;}const _0xee561e=_0x44cad4[_0x46edda(0xa57)](_0x47f74f=>_0x47f74f[_0x46edda(0x689)]===_0x115e61['Answer']);yield{..._0x57b2a5,'output':'','internalContext':_0x4cd1cb[_0x46edda(0x6c7)],'resultFile':await _0xee561e?.[_0x46edda(0x5c7)]?.[_0x46edda(0x566)]?.[_0x46edda(0x7e4)]()??void 0x0};const {inputTokens:_0x542e3d=0x0,outputTokens:_0x407f0b=0x0,context:_0x19abc2=[]}=_0x57b2a5;await _0x45b70a[_0x46edda(0x41f)]({'jobType':_0x883e8c[_0x46edda(0x33c)],'type':_0xeda98f[_0x46edda(0x30b)],'jobId':_0x215101,'agentId':_0x8023ea,'threadId':_0x3349fe['threadId'],'traceLevel':_0x1ceba1[_0x46edda(0x5cb)],'startTime':_0x390b13,'timestamp':Date['now'](),'blockId':_0x571df1['id'],'status':'success','output':_0x1d0aad,'prompt':_0x3349fe[_0x46edda(0x16a)],'agentName':'','history':_0x3349fe[_0x46edda(0x485)]??[],'instructions':''+(_0x3349fe[_0x46edda(0x23e)]??''),'ragContext':_0x19abc2,'inputTokens':_0x542e3d,'outputTokens':_0x407f0b});}async function _0x560aea(_0x879b20,_0x1277af,_0x3f0a01,_0x5c5232,_0x21a358){const _0x5bb1ef=_0xe992e3;if(_0x879b20['files']&&_0x3f0a01[_0x5bb1ef(0x577)]){const _0x20b5e2=[];for(const _0x4f9a99 of _0x879b20['files'])_0x20b5e2[_0x5bb1ef(0xae7)](_0x416a4f(_0x4f9a99));for(const _0x39a7c7 of _0x3f0a01[_0x5bb1ef(0x577)])if('file'===_0x39a7c7[_0x5bb1ef(0x689)]){const _0x27ae8c=_0x5c5232[_0x5bb1ef(0xa57)](_0x5e7099=>_0x5e7099[_0x5bb1ef(0x6b3)]===_0x39a7c7['uid']);if(!_0x27ae8c)continue;_0x27ae8c[_0x5bb1ef(0x689)]===_0x115e61['DocumentParser']&&await _0x31c6ac(_0x20b5e2,_0x1277af,_0x21a358);}}}function _0x416a4f(_0x3555e8){const _0x2fce3b=_0xe992e3,_0x4d8be1=Uint8Array['from'](Buffer['from'](_0x3555e8['content'],_0x2fce3b(0x69f))),_0x5a0abe=new Blob([_0x4d8be1],{'type':_0x3555e8[_0x2fce3b(0x689)]});return new File([_0x5a0abe],_0x3555e8[_0x2fce3b(0x758)],{'type':_0x3555e8[_0x2fce3b(0x689)]});}function _0x13a298(_0x47f8ad,_0x4095e6){const _0x4decda=_0xe992e3;switch(_0x4095e6[_0x4decda(0xaf2)]){case _0x1a7421[_0x4decda(0x1f6)]:return'crewdle';case _0x1a7421[_0x4decda(0x606)]:return _0x47f8ad;case _0x1a7421[_0x4decda(0x89d)]:default:return _0x4095e6['id'];}}async function _0x222b5f(_0x30b7e4,_0x5d4f9b,_0x1bda2f,_0x312361,_0x5c02e7,_0x56cfce){const _0x590f89=_0xe992e3,_0x584384=Date['now']();var _0x40baf3;if(_0x312361[_0x590f89(0x5c7)]||(_0x312361[_0x590f89(0x5c7)]={}),_0x1bda2f instanceof Array?(_0x40baf3=_0x1bda2f)[0x0]instanceof Array&&_0x590f89(0x7cd)==typeof _0x40baf3[0x0]?.[0x0]?_0x312361[_0x590f89(0x5c7)][_0x590f89(0x65a)]=_0x1bda2f:_0x312361[_0x590f89(0x5c7)][_0x590f89(0x369)]=_0x1bda2f:_0x590f89(0xab7)==typeof _0x1bda2f?_0x312361[_0x590f89(0x5c7)][_0x590f89(0x2e4)]=_0x1bda2f:_0x312361[_0x590f89(0x5c7)][_0x590f89(0x566)]=_0x1bda2f,_0x312361[_0x590f89(0x32f)]=_0x312361[_0x590f89(0x32f)]?_0x312361['timesCalled']+0x1:0x1,!(_0x332031(_0x312361,_0x5c02e7[_0x590f89(0x880)])>_0x312361[_0x590f89(0x32f)])){if(_0x590f89(0x96d)===_0x312361['id']){if(!_0x312361[_0x590f89(0x5c7)]['index']||!_0x312361[_0x590f89(0x5c7)][_0x590f89(0x65a)]||!_0x312361[_0x590f89(0x5c7)][_0x590f89(0x566)])throw new Error(_0x590f89(0x46b));if(!_0x56cfce['ragConnector'])throw new Error('RAG\x20connector\x20is\x20not\x20available');const _0x377c03=[];for(let _0x3fe3ae=0x0;_0x3fe3ae<_0x312361[_0x590f89(0x5c7)][_0x590f89(0x369)]['length'];_0x3fe3ae++){const _0x10b940=_0x312361[_0x590f89(0x5c7)][_0x590f89(0x65a)][_0x3fe3ae],_0x4f921f=_0x312361['accumulated']['index'][_0x3fe3ae];_0x377c03[_0x590f89(0xae7)]({'content':_0x10b940,'start':_0x4f921f[_0x590f89(0x4e1)],'length':_0x4f921f[_0x590f89(0x756)]});}const _0x618916=_0x13a298(_0x30b7e4,_0x5c02e7);await _0x56cfce['ragConnector']['ingestFile'](_0x618916,_0x5c02e7['id'],_0x312361['accumulated'][_0x590f89(0x566)]['pathName'],_0x377c03);}else{if(!(_0x312361['accumulated'][_0x590f89(0x2e4)]&&_0x312361[_0x590f89(0x5c7)][_0x590f89(0x369)]&&_0x312361[_0x590f89(0x5c7)][_0x590f89(0x65a)]&&_0x312361[_0x590f89(0x5c7)]['file']))throw new Error(_0x590f89(0x46b));const _0x542ea5=_0x56cfce[_0x590f89(0x88f)][_0x590f89(0x258)](_0x312361['id']);_0x542ea5[_0x590f89(0x98a)](_0x312361[_0x590f89(0x5c7)][_0x590f89(0x566)][_0x590f89(0x170)],_0x312361[_0x590f89(0x5c7)]['content'],_0x312361[_0x590f89(0x5c7)][_0x590f89(0x369)],_0x312361['accumulated']['vectors']),await _0x45b70a[_0x590f89(0x41f)]({'jobType':_0x883e8c[_0x590f89(0x936)],'type':_0x4215bb[_0x590f89(0x9e7)],'jobId':_0x5d4f9b,'blockId':_0x312361['id'],'traceLevel':_0x1ceba1[_0x590f89(0x247)],'startTime':_0x584384,'timestamp':Date[_0x590f89(0x559)](),'status':'success','databaseName':_0x542ea5[_0x590f89(0x5f7)](),'vectorsAdded':_0x312361[_0x590f89(0x5c7)][_0x590f89(0x65a)][_0x590f89(0x756)],'filePathName':_0x312361['accumulated'][_0x590f89(0x566)][_0x590f89(0x170)]});}}}async function _0x1fea6d(_0x3690df,_0x546f61,_0x446e06,_0x27b4a3,_0x301eb4,_0x37fdd6){const _0xd48379=_0xe992e3,_0x41fcaf=Date['now']();let _0x1f862d=[];if(_0x446e06 instanceof Array)for(const _0x36fd09 of _0x446e06){if(_0xd48379(0xab7)!=typeof _0x36fd09[_0xd48379(0x2e4)])throw new Error(_0xd48379(0xa59));_0x1f862d=_0x1f862d[_0xd48379(0x968)](_0x3a3c91(_0x36fd09[_0xd48379(0x2e4)],_0x27b4a3,_0x36fd09[_0xd48379(0x4e1)],_0x36fd09[_0xd48379(0x756)]));}else _0x1f862d=_0x3a3c91(_0x446e06,_0x27b4a3);await _0x45b70a[_0xd48379(0x41f)]({'jobType':_0x883e8c[_0xd48379(0x936)],'type':_0x4215bb[_0xd48379(0x99b)],'jobId':_0x546f61,'traceLevel':_0x1ceba1[_0xd48379(0x247)],'blockId':_0x27b4a3['id'],'startTime':_0x41fcaf,'timestamp':Date[_0xd48379(0x559)](),'status':_0xd48379(0x20c),'totalChunks':_0x1f862d[_0xd48379(0x756)],'averageChunkLength':_0x1f862d[_0xd48379(0x3d2)]((_0x295baa,_0xb2c5ad)=>_0x295baa+_0xb2c5ad[_0xd48379(0x756)],0x0)/_0x1f862d[_0xd48379(0x756)]}),await _0x320f00(_0x3690df,_0x546f61,_0x1f862d,_0x27b4a3,_0x301eb4,_0x37fdd6);}function _0x3a3c91(_0x5dfc34,_0x20970d,_0x13f0c5,_0xb8633a){const _0x3427ec=_0xe992e3,_0x5128f3=[],_0x272dfb=_0x5dfc34[_0x3427ec(0x130)]('\x20');let _0x5586fd='',_0x1b17be=-0x1,_0x355e2e=0x0,_0x3da2c3=0x0;for(const _0x2cf90c of _0x272dfb){if(_0x5586fd[_0x3427ec(0x756)]+_0x2cf90c['length']>_0x20970d[_0x3427ec(0x3d8)]['size']){const _0x1007ae=_0x5586fd[_0x3427ec(0x756)];let _0x1512e5=_0x1b17be,_0x3cd3af='';for(;_0x1512e5>=0x0&&_0x3cd3af[_0x3427ec(0x756)]+_0x272dfb[_0x1512e5][_0x3427ec(0x756)]<_0x20970d[_0x3427ec(0x3d8)]['overlap'];)_0x3cd3af=_0x272dfb[_0x1512e5]+'\x20'+_0x3cd3af,_0x1512e5--;let _0x23913e=_0x355e2e,_0x3bf0a8='';for(;_0x23913e<_0x272dfb[_0x3427ec(0x756)]&&_0x3bf0a8[_0x3427ec(0x756)]+_0x272dfb[_0x23913e][_0x3427ec(0x756)]<_0x20970d[_0x3427ec(0x3d8)][_0x3427ec(0x8cc)];)_0x3bf0a8+=_0x272dfb[_0x23913e]+'\x20',_0x23913e++;_0x5586fd=_0x3cd3af+_0x5586fd+_0x3bf0a8,_0x5128f3[_0x3427ec(0xae7)]({'content':_0x5586fd[_0x3427ec(0x48c)](),'start':_0x13f0c5??_0x3da2c3,'length':_0xb8633a??_0x1007ae}),_0x5586fd='',_0x1b17be=_0x355e2e-0x1,_0x3da2c3+=_0x1007ae;}_0x5586fd+=_0x2cf90c+'\x20',_0x355e2e++;}if(_0x5586fd['length']>0x0){const _0x3fbfaf=_0x5586fd[_0x3427ec(0x756)];let _0x3d9399=_0x1b17be,_0xf24eb3='';for(;_0x3d9399>=0x0&&_0xf24eb3[_0x3427ec(0x756)]+_0x272dfb[_0x3d9399]['length']<_0x20970d[_0x3427ec(0x3d8)][_0x3427ec(0x8cc)];)_0xf24eb3=_0x272dfb[_0x3d9399]+'\x20'+_0xf24eb3,_0x3d9399--;_0x5586fd=_0xf24eb3+_0x5586fd,_0x5128f3[_0x3427ec(0xae7)]({'content':_0x5586fd['trim'](),'start':_0x13f0c5??_0x3da2c3,'length':_0xb8633a??_0x3fbfaf});}return _0x5128f3;}async function _0x320f00(_0x219ba9,_0x45eea6,_0x4ff955,_0x1dafb8,_0xe50023,_0x4a44c3){const _0x3327ba=_0xe992e3;for(const _0x34b488 of _0x1dafb8[_0x3327ba(0x577)]||[]){const _0x5ae7d5=_0xe50023['ingestBlocks'][_0x3327ba(0xa57)](_0x47490f=>_0x47490f[_0x3327ba(0x6b3)]===_0x34b488[_0x3327ba(0x6b3)]);if(_0x5ae7d5)switch(_0x5ae7d5[_0x3327ba(0x689)]){case _0x3910['Agent']:_0x34b488['type']===_0x1bcb29[_0x3327ba(0x722)]&&_0x3327ba(0xab7)==typeof _0x4ff955&&await _0x30e3b2(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910[_0x3327ba(0x93a)]:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29['Text']&&_0x3327ba(0xab7)==typeof _0x4ff955&&await _0x25a54e(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0xa92)]&&_0x4ff955 instanceof Array&&await _0x25a54e(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910[_0x3327ba(0x9a3)]:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0x9d1)]&&await _0x5d96f0(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910[_0x3327ba(0x29f)]:if(_0x34b488['type']===_0x1bcb29[_0x3327ba(0xa92)]&&_0x4ff955 instanceof Array){if(!_0xe50023[_0x3327ba(0xad5)])throw new Error(_0x3327ba(0x7ce));const _0x56300c={'type':_0x3910[_0x3327ba(0x5de)],'id':_0xe50023['modelId'],'uid':(0x0,_0x2860a6['v4'])(),'links':_0x5ae7d5[_0x3327ba(0x577)]};await _0x34ac9a(_0x219ba9,_0x45eea6,_0x4ff955,_0x56300c,_0xe50023,_0x4a44c3);}break;case _0x3910[_0x3327ba(0x93d)]:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0xa92)]&&_0x4ff955 instanceof Array&&await _0x4821b4(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910['GraphDatabase']:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29['Text']&&_0x3327ba(0xab7)==typeof _0x4ff955&&await _0x5e6232(_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0xa92)]&&_0x4ff955 instanceof Array&&await _0x5e6232(_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488['type']===_0x1bcb29[_0x3327ba(0x92c)]&&_0x4ff955 instanceof Set&&await _0x5e6232(_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488[_0x3327ba(0x689)]===_0x1bcb29['Relation']&&_0x4ff955 instanceof Map&&await _0x5e6232(_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0x9d1)]&&await _0x5e6232(_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910['Model']:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29['Text']&&_0x3327ba(0xab7)==typeof _0x4ff955&&await _0x34ac9a(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0xa92)]&&_0x4ff955 instanceof Array&&await _0x34ac9a(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910[_0x3327ba(0x911)]:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29['Index']&&_0x4ff955 instanceof Array&&await _0x5d2b6a(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0x92c)]&&_0x4ff955 instanceof Set&&await _0x5d2b6a(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910[_0x3327ba(0x208)]:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29[_0x3327ba(0x722)]&&_0x3327ba(0xab7)==typeof _0x4ff955&&await _0xed4ffa(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488['type']===_0x1bcb29['Index']&&_0x4ff955 instanceof Array&&await _0xed4ffa(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910[_0x3327ba(0x9e7)]:_0x34b488[_0x3327ba(0x689)]===_0x1bcb29['Text']&&'string'==typeof _0x4ff955&&await _0x222b5f(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488['type']===_0x1bcb29[_0x3327ba(0xa92)]&&_0x4ff955 instanceof Array&&await _0x222b5f(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488['type']===_0x1bcb29['Vector']&&_0x4ff955 instanceof Array&&await _0x222b5f(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488[_0x3327ba(0x689)]===_0x1bcb29['File']&&await _0x222b5f(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);break;case _0x3910[_0x3327ba(0x99b)]:_0x34b488['type']===_0x1bcb29[_0x3327ba(0x722)]&&_0x3327ba(0xab7)==typeof _0x4ff955&&await _0x1fea6d(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3),_0x34b488['type']===_0x1bcb29['Index']&&_0x4ff955 instanceof Array&&await _0x1fea6d(_0x219ba9,_0x45eea6,_0x4ff955,_0x5ae7d5,_0xe50023,_0x4a44c3);}}}function _0x332031(_0x459f20,_0x1fbdcb){const _0x1f1277=_0xe992e3;return _0x1fbdcb[_0x1f1277(0x1ee)](_0x46a427=>_0x46a427[_0x1f1277(0x577)]?.['some'](_0x62b8f0=>_0x62b8f0[_0x1f1277(0x6b3)]===_0x459f20['uid']))[_0x1f1277(0x756)];}async function _0x2cbdc7(_0x5e2e6d,_0x2218f1,_0x389a91,_0x57b53d,_0x1b2895,_0x224201,_0x332e52){const _0x1ff214=_0xe992e3;try{let _0xe55211;switch(_0x1b2895[_0x1ff214(0x689)]){case _0x3910[_0x1ff214(0x4ad)]:const _0x5d2144=_0x332e52[_0x1ff214(0x88f)]['getObjectStoreBucket'](_0x1b2895['id']);_0xe55211=await _0x5d2144[_0x1ff214(0x6ab)](_0x389a91);break;case _0x3910[_0x1ff214(0xa49)]:const _0x364b55=_0x332e52[_0x1ff214(0x88f)]['getExternalStorageConnection'](_0x1b2895['id']);_0xe55211=await _0x364b55['get'](_0x389a91);case _0x3910[_0x1ff214(0xa6e)]:const _0xe9f523=_0x389a91[_0x1ff214(0x130)]('/')[_0x1ff214(0x876)]();if(!_0xe9f523)throw new Error('Failed\x20to\x20get\x20filename');const _0x5df4d3=_0x389a91[_0x1ff214(0x9d7)](_0xe9f523,''),_0x5d9919=Buffer[_0x1ff214(0x79e)](_0x57b53d,'base64');if(_0xe55211=new File([_0x5d9919],_0xe9f523),!_0x332e52[_0x1ff214(0x655)])throw new Error(_0x1ff214(0x448));await _0x332e52[_0x1ff214(0x655)][_0x1ff214(0x9c1)](_0xe55211,_0x5df4d3);}if(!_0xe55211)throw new Error(_0x1ff214(0x53c));await _0x320f00(_0x5e2e6d,_0x2218f1,{'file':_0xe55211,'pathName':_0x389a91},_0x1b2895,structuredClone(_0x224201),_0x332e52);}catch(_0x43f90c){console['error'](_0x1ff214(0x194),_0x43f90c);}}async function _0x2774ab(_0x3ebc7c,_0x4d87f8,_0x488116,_0x5bb595,_0x1a9121,_0x569e82,_0x20ccfa,_0x3b3182){const _0x52f76b=_0xe992e3,_0xe542c9=Date[_0x52f76b(0x559)](),_0x17aa03=new Set();if(_0x5bb595 instanceof Array){for(const _0x25fe54 of _0x5bb595)await _0x282c8f(_0x25fe54[_0x52f76b(0x2e4)],_0x569e82,_0x17aa03,_0x3b3182[_0x52f76b(0x934)]);}else await _0x282c8f(_0x5bb595,_0x569e82,_0x17aa03,_0x3b3182['nlpLibraryConnector']);await _0x45b70a[_0x52f76b(0x41f)]({'jobType':_0x883e8c['Retrieve'],'type':_0x2141d5[_0x52f76b(0x93d)],'jobId':_0x4d87f8,'threadId':_0x488116,'blockId':_0x569e82['id'],'traceLevel':_0x1ceba1[_0x52f76b(0x247)],'startTime':_0xe542c9,'timestamp':Date[_0x52f76b(0x559)](),'status':_0x52f76b(0x20c),'content':_0x5bb595,'entitiesExtracted':Array['from'](_0x17aa03),'totalEntities':_0x17aa03['size']}),await _0x114510(_0x3ebc7c,_0x4d87f8,_0x488116,_0x17aa03,_0x1a9121,_0x569e82,_0x20ccfa,_0x3b3182);}async function _0x282c8f(_0x5d170d,_0x5b40b7,_0x1d116f,_0x38485e){const _0x3bfa9c=_0xe992e3,_0x3fa982=await _0x38485e[_0x3bfa9c(0x9f5)](_0x5d170d,{'ner':_0x5b40b7['attributes'][_0x3bfa9c(0x8c1)],'noun':_0x5b40b7['attributes'][_0x3bfa9c(0x8fe)],'propn':_0x5b40b7[_0x3bfa9c(0x3d8)][_0x3bfa9c(0x21a)],'verb':_0x5b40b7[_0x3bfa9c(0x3d8)][_0x3bfa9c(0x7b4)]});for(const _0x235022 of _0x3fa982)_0x1d116f[_0x3bfa9c(0x820)](_0x235022);}async function _0x4a7544(_0x4bed95,_0xbe9d6,_0x457864,_0x2628a3,_0x17f23b,_0x1a4388,_0x57c09e,_0xcd4a6a){const _0x2050bb=_0xe992e3,_0xa2e603=Date[_0x2050bb(0x559)]();if(_0x1a4388[_0x2050bb(0x5c7)]||(_0x1a4388[_0x2050bb(0x5c7)]={}),_0x2628a3 instanceof Array?(_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x44f)]||(_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x44f)]=[]),_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x44f)][_0x2050bb(0xae7)](..._0x2628a3)):_0x2628a3 instanceof Set?_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x846)]=_0x2628a3:_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x16a)]=_0x2628a3,_0x1a4388[_0x2050bb(0x32f)]=_0x1a4388[_0x2050bb(0x32f)]?_0x1a4388[_0x2050bb(0x32f)]+0x1:0x1,_0xb578b5(_0x1a4388,_0x57c09e[_0x2050bb(0x210)])>_0x1a4388[_0x2050bb(0x32f)])return;if(!_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x16a)]&&!_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x44f)]||!_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x846)])throw new Error(_0x2050bb(0x2c2));const _0x279dea=_0xcd4a6a['contentMediator'][_0x2050bb(0x502)](_0x1a4388['id'])[_0x2050bb(0x645)](Array[_0x2050bb(0x79e)](_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x846)]),_0x1a4388[_0x2050bb(0x3d8)][_0x2050bb(0x349)],_0x1a4388[_0x2050bb(0x3d8)][_0x2050bb(0x6db)]);let _0x46c5b8=[];for(const _0x78afb4 in _0x279dea){const _0x1724de=_0x279dea[_0x78afb4];for(const _0x362b8b of _0x1724de){let _0x456944=0x0;if(_0x1a4388[_0x2050bb(0x5c7)]['prompt']&&(_0x456944=await _0xcd4a6a[_0x2050bb(0x934)]['getSimilarity'](_0x1a4388[_0x2050bb(0x5c7)][_0x2050bb(0x16a)],_0x362b8b)),_0x1a4388[_0x2050bb(0x5c7)]['results']){for(const _0x16356b of _0x1a4388['accumulated'][_0x2050bb(0x44f)])_0x456944=Math[_0x2050bb(0x7fd)](_0x456944,await _0xcd4a6a[_0x2050bb(0x934)]['getSimilarity'](_0x16356b[_0x2050bb(0x2e4)],_0x362b8b));}_0x456944<_0x1a4388[_0x2050bb(0x3d8)]['minRelevance']||_0x46c5b8[_0x2050bb(0xae7)]({'content':_0x362b8b,'relevance':_0x456944,'pathName':_0x78afb4});}}_0x46c5b8=_0x46c5b8[_0x2050bb(0x1e4)]((_0x5aa075,_0x57d9cb)=>_0x57d9cb[_0x2050bb(0x426)]-_0x5aa075[_0x2050bb(0x426)])['slice'](0x0,_0x1a4388[_0x2050bb(0x3d8)][_0x2050bb(0x3f6)]),await _0x45b70a['trace']({'jobType':_0x883e8c[_0x2050bb(0x9ff)],'type':_0x2141d5[_0x2050bb(0xa7e)],'jobId':_0xbe9d6,'threadId':_0x457864,'blockId':_0x1a4388['id'],'traceLevel':_0x1ceba1[_0x2050bb(0x247)],'timestamp':Date[_0x2050bb(0x559)](),'startTime':_0xa2e603,'status':_0x2050bb(0x20c),'content':_0x2628a3,'topResults':_0x46c5b8,'numResults':_0x46c5b8[_0x2050bb(0x756)]}),await _0x114510(_0x4bed95,_0xbe9d6,_0x457864,_0x46c5b8,_0x17f23b,_0x1a4388,_0x57c09e,_0xcd4a6a);}async function _0x43e7f9(_0x562f68,_0x8b7e0e,_0x5bca8a,_0x539ef2,_0x2a48c7,_0x48d873,_0x376844,_0x301b9d){const _0x208262=_0xe992e3,_0x13cbb3=_0x301b9d[_0x208262(0x28b)][_0x208262(0xa57)](_0x3b2ad2=>_0x3b2ad2['id']===_0x48d873['id']);if(!_0x13cbb3)throw new Error('Model\x20not\x20found');let _0x44a4e4='';switch(_0x44a4e4=_0x539ef2 instanceof Array?_0x539ef2['map'](_0x77c399=>_0x77c399[_0x208262(0x2e4)])['join'](',\x20'):_0x539ef2,_0x13cbb3[_0x208262(0x225)]){case _0x981fb5[_0x208262(0x6f8)][_0x208262(0x722)]:await async function(_0x299528,_0x1c1f8d,_0x23b9ce,_0x590a3c,_0x40cac3,_0x544a92,_0x9063bd,_0x5a077e,_0x5fdf82){const _0x4b8a76=_0x208262,_0x1b9da0=Date[_0x4b8a76(0x559)](),_0x24aa7c=await fetch(_0x201946['apiUrl']+_0x4b8a76(0x410),{'method':'POST','headers':{'Content-Type':_0x4b8a76(0x4d5),'x-vendor-id':_0x299528},'body':JSON['stringify']({'messages':[{'role':_0x4b8a76(0x837),'content':_0x590a3c}],'model':_0x544a92['id']})}),_0x6f5fe4=(await _0x24aa7c[_0x4b8a76(0x472)]())[_0x4b8a76(0x94f)][0x0][_0x4b8a76(0x337)]['content'];await _0x45b70a['trace']({'jobType':_0x883e8c[_0x4b8a76(0x9ff)],'type':_0x2141d5['ModelText'],'jobId':_0x1c1f8d,'threadId':_0x23b9ce,'blockId':_0x9063bd['id'],'traceLevel':_0x1ceba1[_0x4b8a76(0x247)],'startTime':_0x1b9da0,'timestamp':Date[_0x4b8a76(0x559)](),'status':_0x4b8a76(0x20c),'modelName':_0x544a92['id'],'content':_0x590a3c,'newPrompt':_0x6f5fe4,'inputType':_0x544a92['inputType'],'outputType':_0x544a92['outputType']}),await _0x114510(_0x299528,_0x1c1f8d,_0x23b9ce,_0x6f5fe4,_0x40cac3,_0x9063bd,_0x5a077e,_0x5fdf82);}(_0x562f68,_0x8b7e0e,_0x5bca8a,_0x44a4e4,_0x2a48c7,_0x13cbb3,_0x48d873,_0x376844,_0x301b9d);break;case _0x981fb5['GenerativeAIModelOutputType'][_0x208262(0x79a)]:await async function(_0x3671a6,_0x51cbec,_0x18576c,_0x5549a1,_0x258967,_0x38e477,_0x35815b,_0x346258,_0x597aa7){const _0xe31333=_0x208262,_0x2dc931=Date[_0xe31333(0x559)](),_0x5d0f68=await fetch(_0x201946[_0xe31333(0xa2a)]+_0xe31333(0x5bf),{'method':_0xe31333(0x832),'headers':{'Content-Type':_0xe31333(0x4d5),'x-vendor-id':_0x3671a6},'body':JSON[_0xe31333(0x719)]({'input':_0x5549a1,'model':_0x38e477['id']})}),_0x5d383f=(await _0x5d0f68[_0xe31333(0x472)]())[_0xe31333(0x9a6)][0x0][_0xe31333(0x4ae)];await _0x45b70a[_0xe31333(0x41f)]({'jobType':_0x883e8c[_0xe31333(0x9ff)],'type':_0x2141d5[_0xe31333(0x904)],'jobId':_0x51cbec,'threadId':_0x18576c,'blockId':_0x35815b['id'],'traceLevel':_0x1ceba1['Debug'],'startTime':_0x2dc931,'timestamp':Date[_0xe31333(0x559)](),'status':_0xe31333(0x20c),'modelName':_0x38e477['id'],'content':_0x5549a1,'totalVectors':_0x5d383f[_0xe31333(0x756)]}),await _0x114510(_0x3671a6,_0x51cbec,_0x18576c,_0x5d383f,_0x258967,_0x35815b,_0x346258,_0x597aa7);}(_0x562f68,_0x8b7e0e,_0x5bca8a,_0x44a4e4,_0x2a48c7,_0x13cbb3,_0x48d873,_0x376844,_0x301b9d);}}async function _0x2f3d23(_0x5a3284,_0x3e68c6,_0x154a40,_0x44e39e,_0x16626b,_0x28719b,_0x579589,_0x16ab56){const _0x1adac3=_0xe992e3,_0x1c0f84=Date[_0x1adac3(0x559)]();if(_0x28719b[_0x1adac3(0x5c7)]||(_0x28719b[_0x1adac3(0x5c7)]={}),_0x44e39e instanceof Array?(_0x28719b[_0x1adac3(0x5c7)]['results']||(_0x28719b['accumulated'][_0x1adac3(0x44f)]=[]),_0x28719b[_0x1adac3(0x5c7)][_0x1adac3(0x44f)]['push'](..._0x44e39e)):_0x28719b[_0x1adac3(0x5c7)][_0x1adac3(0x16a)]=_0x44e39e,_0x28719b[_0x1adac3(0x32f)]=_0x28719b['timesCalled']?_0x28719b['timesCalled']+0x1:0x1,_0xb578b5(_0x28719b,_0x579589[_0x1adac3(0x210)])>_0x28719b[_0x1adac3(0x32f)])return;if(!_0x28719b[_0x1adac3(0x5c7)][_0x1adac3(0x16a)]||!_0x28719b[_0x1adac3(0x5c7)]['results'])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x39361d of _0x28719b[_0x1adac3(0x5c7)][_0x1adac3(0x44f)])_0x39361d['relevance']=await _0x16ab56[_0x1adac3(0x934)][_0x1adac3(0x596)](_0x28719b[_0x1adac3(0x5c7)][_0x1adac3(0x16a)],_0x39361d['content']);const _0x350e10=_0x28719b[_0x1adac3(0x5c7)][_0x1adac3(0x44f)][_0x1adac3(0x1ee)](_0x2fc51f=>_0x2fc51f[_0x1adac3(0x426)]>_0x28719b['attributes'][_0x1adac3(0x6b4)])[_0x1adac3(0x1e4)]((_0xd5ca7c,_0x3aecb1)=>_0x3aecb1[_0x1adac3(0x426)]-_0xd5ca7c['relevance'])['slice'](0x0,_0x28719b[_0x1adac3(0x3d8)][_0x1adac3(0x3f6)]);await _0x45b70a[_0x1adac3(0x41f)]({'jobType':_0x883e8c[_0x1adac3(0x9ff)],'type':_0x2141d5[_0x1adac3(0x1ec)],'jobId':_0x3e68c6,'threadId':_0x154a40,'blockId':_0x28719b['id'],'traceLevel':_0x1ceba1[_0x1adac3(0x247)],'startTime':_0x1c0f84,'timestamp':Date['now'](),'status':_0x1adac3(0x20c),'inputResults':_0x28719b[_0x1adac3(0x5c7)][_0x1adac3(0x44f)],'rerankedResults':_0x350e10}),await _0x114510(_0x5a3284,_0x3e68c6,_0x154a40,_0x350e10,_0x16626b,_0x28719b,_0x579589,_0x16ab56);}async function _0x1c534b(_0x38523f,_0x1ad69d,_0x1fee11,_0x13e0ac,_0x2166c9,_0x294ce1,_0x4a740c,_0x52be45){const _0x21e317=_0xe992e3,_0x377272=Date[_0x21e317(0x559)]();if(_0x294ce1[_0x21e317(0x5c7)]||(_0x294ce1[_0x21e317(0x5c7)]={}),_0x13e0ac instanceof Array?_0x294ce1[_0x21e317(0x5c7)][_0x21e317(0x585)]=_0x13e0ac:_0x294ce1[_0x21e317(0x5c7)][_0x21e317(0x2e4)]=_0x13e0ac,_0x294ce1[_0x21e317(0x32f)]=_0x294ce1[_0x21e317(0x32f)]?_0x294ce1[_0x21e317(0x32f)]+0x1:0x1,!(_0xb578b5(_0x294ce1,_0x4a740c[_0x21e317(0x210)])>_0x294ce1[_0x21e317(0x32f)])){if('vector-database'===_0x294ce1['id']){if(!_0x294ce1[_0x21e317(0x5c7)][_0x21e317(0x585)])throw new Error(_0x21e317(0x46b));if(!_0x52be45[_0x21e317(0xad0)])throw new Error(_0x21e317(0x377));const _0x3451ed=_0x13a298(_0x38523f,_0x4a740c);let _0x4a2267=await _0x52be45[_0x21e317(0xad0)]?.[_0x21e317(0x3e7)](_0x3451ed,_0x4a740c['id'],_0x294ce1[_0x21e317(0x5c7)][_0x21e317(0x585)],_0x294ce1[_0x21e317(0x3d8)]['topK']);_0x4a2267=_0x4a2267[_0x21e317(0x1ee)](_0x118939=>_0x118939[_0x21e317(0x426)]>_0x294ce1[_0x21e317(0x3d8)][_0x21e317(0x6b4)])||[];const _0x3d86c0=[];for(const _0x8a7e6f of _0x4a2267){if(!_0x52be45[_0x21e317(0x655)])throw new Error(_0x21e317(0x23f));if(void 0x0===_0x8a7e6f[_0x21e317(0x4e1)]||void 0x0===_0x8a7e6f[_0x21e317(0x756)])throw new Error('Missing\x20index');const _0x349bd3=await _0x52be45[_0x21e317(0x655)][_0x21e317(0x6ab)](_0x8a7e6f[_0x21e317(0x170)]);let _0x3a23b2='';if(_0x349bd3[_0x21e317(0x689)]['startsWith'](_0x21e317(0x5a5))||_0x1727bc(_0x349bd3['name'],_0x389a48))_0x3a23b2=await _0x349bd3[_0x21e317(0x7e4)]();else{if(!_0x52be45[_0x21e317(0xa96)]['supports'](_0x349bd3))throw new Error(_0x21e317(0x16f)+_0x349bd3[_0x21e317(0x689)]+_0x21e317(0x66b)+_0x349bd3['name']);_0x3a23b2=await _0x52be45[_0x21e317(0xa96)][_0x21e317(0xa0d)](_0x349bd3);}_0x3d86c0[_0x21e317(0xae7)]({'pathName':_0x8a7e6f[_0x21e317(0x170)],'content':_0x3a23b2['substring'](_0x8a7e6f[_0x21e317(0x4e1)],_0x8a7e6f[_0x21e317(0x4e1)]+_0x8a7e6f[_0x21e317(0x756)]),'relevance':_0x8a7e6f[_0x21e317(0x426)]});}await _0x114510(_0x38523f,_0x1ad69d,_0x1fee11,_0x3d86c0,_0x2166c9,_0x294ce1,_0x4a740c,_0x52be45);}else{if(!_0x294ce1[_0x21e317(0x5c7)]['vector']||!_0x294ce1[_0x21e317(0x5c7)][_0x21e317(0x2e4)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x26d513=await _0x52be45['nlpLibraryConnector'][_0x21e317(0x9f5)](_0x294ce1[_0x21e317(0x5c7)]['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x535e66=_0x52be45[_0x21e317(0x88f)][_0x21e317(0x258)](_0x294ce1['id'])[_0x21e317(0x74b)](_0x26d513,_0x294ce1['accumulated'][_0x21e317(0x585)],_0x294ce1[_0x21e317(0x3d8)][_0x21e317(0x3f6)],_0x294ce1[_0x21e317(0x3d8)]['minRelevance'],_0x294ce1[_0x21e317(0x3d8)][_0x21e317(0x6db)]);await _0x45b70a[_0x21e317(0x41f)]({'jobType':_0x883e8c[_0x21e317(0x9ff)],'type':_0x2141d5['VectorSearch'],'jobId':_0x1ad69d,'threadId':_0x1fee11,'blockId':_0x294ce1['id'],'traceLevel':_0x1ceba1[_0x21e317(0x247)],'startTime':_0x377272,'timestamp':Date['now'](),'status':_0x21e317(0x20c),'topResults':_0x535e66,'numResults':_0x535e66[_0x21e317(0x756)]}),await _0x114510(_0x38523f,_0x1ad69d,_0x1fee11,_0x535e66,_0x2166c9,_0x294ce1,_0x4a740c,_0x52be45);}}}async function _0x114510(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x594fe4,_0x2e33a1,_0x454cc9){const _0x44fd7b=_0xe992e3;for(const _0x5321d1 of _0x594fe4[_0x44fd7b(0x577)]||[]){const _0x1e0c89=_0x2e33a1[_0x44fd7b(0x210)][_0x44fd7b(0xa57)](_0x1f6efa=>_0x1f6efa['uid']===_0x5321d1[_0x44fd7b(0x6b3)]);if(_0x1e0c89)switch(_0x1e0c89[_0x44fd7b(0x689)]){case _0x3910[_0x44fd7b(0x440)]:_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29['Search']&&_0x304d64 instanceof Array&&_0x4af26a[_0x44fd7b(0xa86)][_0x44fd7b(0xae7)](..._0x304d64);break;case _0x3910['Embed']:if(_0x5321d1['type']===_0x1bcb29['Text']&&_0x44fd7b(0xab7)==typeof _0x304d64){if(!_0x2e33a1[_0x44fd7b(0xad5)])throw new Error(_0x44fd7b(0x7ce));const _0x212652={'type':_0x3910[_0x44fd7b(0x5de)],'id':_0x2e33a1[_0x44fd7b(0xad5)],'uid':(0x0,_0x2860a6['v4'])(),'links':_0x1e0c89[_0x44fd7b(0x577)]};await _0x43e7f9(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x212652,_0x2e33a1,_0x454cc9);}break;case _0x3910['EntityExtractor']:_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29[_0x44fd7b(0x722)]&&_0x44fd7b(0xab7)==typeof _0x304d64&&await _0x2774ab(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9),_0x5321d1['type']===_0x1bcb29[_0x44fd7b(0x69c)]&&_0x304d64 instanceof Array&&await _0x2774ab(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9);break;case _0x3910[_0x44fd7b(0x663)]:_0x5321d1['type']===_0x1bcb29[_0x44fd7b(0x722)]&&'string'==typeof _0x304d64&&await _0x4a7544(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9),_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29[_0x44fd7b(0x69c)]&&_0x304d64 instanceof Array&&await _0x4a7544(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9),_0x5321d1['type']===_0x1bcb29[_0x44fd7b(0x92c)]&&_0x304d64 instanceof Set&&await _0x4a7544(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9);break;case _0x3910[_0x44fd7b(0x5de)]:_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29['Text']&&_0x44fd7b(0xab7)==typeof _0x304d64&&await _0x43e7f9(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9),_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29[_0x44fd7b(0x69c)]&&_0x304d64 instanceof Array&&await _0x43e7f9(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9);break;case _0x3910[_0x44fd7b(0x1ec)]:_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29['Text']&&_0x44fd7b(0xab7)==typeof _0x304d64&&await _0x2f3d23(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9),_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29[_0x44fd7b(0x69c)]&&_0x304d64 instanceof Array&&await _0x2f3d23(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9);break;case _0x3910[_0x44fd7b(0x9e7)]:_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29[_0x44fd7b(0x722)]&&_0x44fd7b(0xab7)==typeof _0x304d64&&await _0x1c534b(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9),_0x5321d1[_0x44fd7b(0x689)]===_0x1bcb29['Vector']&&_0x304d64 instanceof Array&&await _0x1c534b(_0x58e30b,_0x2fa2e6,_0x42009d,_0x304d64,_0x4af26a,_0x1e0c89,_0x2e33a1,_0x454cc9);}}}function _0xb578b5(_0x2320e8,_0x30c2f0){const _0x1596fc=_0xe992e3;return _0x30c2f0[_0x1596fc(0x1ee)](_0xd1863e=>_0xd1863e[_0x1596fc(0x577)]?.[_0x1596fc(0x276)](_0x5bc83d=>_0x5bc83d[_0x1596fc(0x6b3)]===_0x2320e8[_0x1596fc(0x6b3)]))['length'];}async function _0x5bc59b(_0x108096,_0x3d4d76,_0x8b5199,_0x1be49a,_0x436b56,_0x4d54e0,_0x38259a){const _0xc0452f=_0xe992e3,_0x292fcb={'type':_0xc0452f(0x16a),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x13a159;await _0x114510(_0x108096,_0x3d4d76,_0x8b5199,_0x1be49a,_0x292fcb,_0x436b56,structuredClone(_0x4d54e0),_0x38259a),_0x292fcb[_0xc0452f(0xa86)]['reduce']((_0x2b39e4,_0x4f7dda)=>_0x2b39e4+_0x4f7dda[_0xc0452f(0x2e4)][_0xc0452f(0x756)],0x0)>_0x1e8dad&&(_0x13a159=Math[_0xc0452f(0x7e3)](_0x1e8dad/_0x292fcb[_0xc0452f(0xa86)]['length'])),_0x292fcb[_0xc0452f(0x545)]=_0xc0452f(0x8ae)+_0x292fcb['context'][_0xc0452f(0x7db)](_0x40b09a=>_0xc0452f(0x6e2)+_0x40b09a[_0xc0452f(0x170)]+':\x20'+_0x40b09a[_0xc0452f(0x2e4)]['substring'](0x0,_0x13a159))['join']('\x0a');}catch(_0x45b243){console[_0xc0452f(0x77b)](_0xc0452f(0x975),_0x45b243);}return _0x292fcb;}class _0x4ce4d2 extends _0x599fec{['contentMediator'];[_0xe992e3(0x164)];[_0xe992e3(0x655)];[_0xe992e3(0xa96)];['fileConnector'];[_0xe992e3(0x934)];[_0xe992e3(0x955)];[_0xe992e3(0x6ee)];[_0xe992e3(0x5c4)];['ragConnectors'];[_0xe992e3(0x46d)];[_0xe992e3(0x648)]=new Map();[_0xe992e3(0x28b)]=_0x1e3adc;['debounceStats'];[_0xe992e3(0x7ed)]=0x0;[_0xe992e3(0x157)]=0x0;['isOpened']=!0x1;constructor(_0x18d102,_0x48aa7f,_0x490c80,_0xe9ba1c,_0x4b240b,_0x304667,_0x22c3bf,_0x5c9134,_0x30e556,_0x5e5934,_0x3a74a6,_0x55078e,_0x390a7d,_0x2ac34){const _0x188142=_0xe992e3;super(_0x18d102,_0x48aa7f,_0x490c80),this['contentMediator']=_0xe9ba1c,this[_0x188142(0x164)]=_0x4b240b,this[_0x188142(0x655)]=_0x304667,this[_0x188142(0xa96)]=_0x22c3bf,this[_0x188142(0x611)]=_0x5c9134,this[_0x188142(0x934)]=_0x30e556,this[_0x188142(0x955)]=_0x5e5934,this[_0x188142(0x6ee)]=_0x3a74a6,this[_0x188142(0x5c4)]=_0x55078e,this[_0x188142(0x83b)]=_0x390a7d,this[_0x188142(0x46d)]=_0x2ac34;}async[_0xe992e3(0x551)](){const _0x33647b=_0xe992e3;for(const _0x26b1dd of this[_0x33647b(0x164)])await _0x26b1dd[_0x33647b(0x1c9)]();this[_0x33647b(0x648)][_0x33647b(0x558)](_0x42f2c3=>_0x42f2c3[_0x33647b(0x4c0)](this['label'])),this[_0x33647b(0x203)]&&(clearTimeout(this[_0x33647b(0x203)]),delete this[_0x33647b(0x203)]),super[_0x33647b(0x551)]();}async[_0xe992e3(0xa19)](_0x3070b5=!0x1){const _0x20bfb5=_0xe992e3;if(this[_0x20bfb5(0x803)])super['open']();else{_0xd64180[_0x20bfb5(0x58f)]('GenerativeAIWorker:\x20Opening',this['label']);try{for(const _0xbadce9 of this['generativeAIWorkerConnectors'])await _0xbadce9[_0x20bfb5(0x4af)](this['label'],this[_0x20bfb5(0x28b)]);}catch(_0x463e3e){return this[_0x20bfb5(0xa19)](_0x3070b5);}this['isOpened']=!0x0,this[_0x20bfb5(0x5d4)](),super[_0x20bfb5(0xa19)](),_0xd64180[_0x20bfb5(0x58f)]('GenerativeAIWorker:\x20Opened',this[_0x20bfb5(0x3fc)]);}}[_0xe992e3(0xade)](){const _0xf607ef=_0xe992e3;this[_0xf607ef(0x7ed)]=0x0,this['tokens']=0x0,this['sendStats'](),super[_0xf607ef(0xade)]();}['getBid'](){return this['sendStats'](),this['getCoresFromCapacityReport']();}['compileStats'](_0x16b118,_0x2d721f,_0x29a496){const _0xb8e778=_0xe992e3,{outputTokens:_0x146c7d=0x0,output:_0x2f45fa=''}=_0x16b118,_0x1f966a=_0x146c7d/((_0x29a496-_0x2d721f)/0x3e8);this[_0xb8e778(0x7ed)]+=0x1,this['tokens']+=_0x146c7d,this[_0xb8e778(0x8b0)](_0x1f966a,_0x146c7d),this['sendStats']();}[_0xe992e3(0x2c8)](_0x2f7749,_0x9e2d64){const _0x3d0998=_0xe992e3;return _0x2f7749['output']=_0x2f7749[_0x3d0998(0x545)]??'',{'type':_0x3d0998(0x16a),'output':_0x3d0998(0xab7)==typeof _0x2f7749[_0x3d0998(0x545)]&&'string'==typeof _0x9e2d64[_0x3d0998(0x545)]?_0x2f7749[_0x3d0998(0x545)]+_0x9e2d64[_0x3d0998(0x545)]:_0x9e2d64[_0x3d0998(0x545)],'outputTokens':_0x9e2d64[_0x3d0998(0xa61)]??_0x2f7749[_0x3d0998(0xa61)],'inputTokens':_0x9e2d64[_0x3d0998(0x9be)]??_0x2f7749['inputTokens']};}async[_0xe992e3(0x64c)](_0x30b104,_0x105b87){const _0x2fe3f9=_0xe992e3;if(_0x2fe3f9(0x16a)===_0x105b87[_0x2fe3f9(0x689)]){const _0x5d7955=await _0x4cfee1[_0x2fe3f9(0xa5c)](_0x105b87['vendorId'],_0x105b87['workflowId']),_0x472c70=_0x5d7955[_0x2fe3f9(0x6e1)]['find'](_0x15202d=>_0x15202d[_0x2fe3f9(0x689)]===_0x115e61[_0x2fe3f9(0x3d0)]);return await _0x496b3e(_0x105b87[_0x2fe3f9(0x416)]??_0x30b104,_0x105b87,_0x472c70,_0x5d7955[_0x2fe3f9(0x6e1)],{'documentParserConnector':this[_0x2fe3f9(0xa96)],'fileConnector':this[_0x2fe3f9(0x611)],'nlpLibraryConnector':this[_0x2fe3f9(0x934)],'generativeAIWorkerConnectors':this[_0x2fe3f9(0x164)],'models':Array[_0x2fe3f9(0x79e)](this[_0x2fe3f9(0x28b)][_0x2fe3f9(0x992)]()),'contentMediator':this[_0x2fe3f9(0x88f)],'searchConnector':this[_0x2fe3f9(0x955)],'aiSearchConnector':this[_0x2fe3f9(0x6ee)],'queryFileConnector':this['queryFileConnector']});}if(_0x2fe3f9(0x5d3)===_0x105b87[_0x2fe3f9(0x689)])return await _0x2791ca(_0x105b87,{'documentParserConnector':this[_0x2fe3f9(0xa96)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x2fe3f9(0x934)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x2fe3f9(0x79e)](this['models']['values']()),'contentMediator':this[_0x2fe3f9(0x88f)],'searchConnector':this[_0x2fe3f9(0x955)],'aiSearchConnector':this[_0x2fe3f9(0x6ee)],'queryFileConnector':this[_0x2fe3f9(0x5c4)]});if('inference'===_0x105b87[_0x2fe3f9(0x689)])return await _0xbf086e(_0x105b87[_0x2fe3f9(0x416)]??_0x30b104,_0x105b87,{'documentParserConnector':this[_0x2fe3f9(0xa96)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x2fe3f9(0x934)],'generativeAIWorkerConnectors':this[_0x2fe3f9(0x164)],'models':Array[_0x2fe3f9(0x79e)](this[_0x2fe3f9(0x28b)]['values']()),'contentMediator':this[_0x2fe3f9(0x88f)],'searchConnector':this[_0x2fe3f9(0x955)],'aiSearchConnector':this[_0x2fe3f9(0x6ee)],'queryFileConnector':this['queryFileConnector']});if(_0x2fe3f9(0x8dc)===_0x105b87[_0x2fe3f9(0x689)])return await _0x45b70a['trace']({'jobType':_0x883e8c['Rating'],'type':_0x36f69e[_0x2fe3f9(0x763)],'jobId':_0x105b87[_0x2fe3f9(0x416)],'threadId':_0x105b87[_0x2fe3f9(0x441)],'traceLevel':_0x1ceba1[_0x2fe3f9(0x5cb)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','rating':_0x105b87[_0x2fe3f9(0x57b)],'feedback':_0x105b87[_0x2fe3f9(0xb11)]}),{'type':_0x2fe3f9(0x8dc),'status':_0x981fb5['GenerativeAIRatingStatus']['Success']};if(_0x2fe3f9(0xafd)===_0x105b87['type'])return await _0x95bf22(_0x105b87,{'documentParserConnector':this[_0x2fe3f9(0xa96)],'fileConnector':this[_0x2fe3f9(0x611)],'nlpLibraryConnector':this[_0x2fe3f9(0x934)],'generativeAIWorkerConnectors':this[_0x2fe3f9(0x164)],'models':Array[_0x2fe3f9(0x79e)](this['models'][_0x2fe3f9(0x992)]()),'contentMediator':this[_0x2fe3f9(0x88f)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x2fe3f9(0x6ee)],'queryFileConnector':this['queryFileConnector']});if(_0x2fe3f9(0x61f)===_0x105b87['type']){const _0x5877e4=await _0x4cfee1[_0x2fe3f9(0xa5c)](_0x105b87['vendorId'],_0x105b87[_0x2fe3f9(0xa11)]),_0xd58063=_0x5877e4[_0x2fe3f9(0x6e1)]['find'](_0x4abd7e=>_0x4abd7e[_0x2fe3f9(0x689)]===_0x115e61[_0x2fe3f9(0x2a4)]),_0x5e0efc=_0x5877e4['blocks'][_0x2fe3f9(0x1ee)](_0x5adef8=>_0x5adef8[_0x2fe3f9(0x577)]?.[_0x2fe3f9(0x276)](_0x1b0ceb=>_0x1b0ceb['type']===_0x1bcb29[_0x2fe3f9(0x7be)]&&_0x1b0ceb[_0x2fe3f9(0x6b3)]===_0xd58063['uid']))['flatMap'](_0x147fb7=>_0x20ebc3(_0x147fb7,_0x5877e4[_0x2fe3f9(0x6e1)]));return{'type':_0x2fe3f9(0x61f),'apiKey':this[_0x2fe3f9(0x46d)],'modelId':_0xd58063[_0x2fe3f9(0xad5)],'instructions':_0xd58063[_0x2fe3f9(0x23e)],'temperature':_0xd58063['temperature'],'maxTokens':_0xd58063[_0x2fe3f9(0x67d)],'initialPrompt':_0x5877e4[_0x2fe3f9(0x36a)],'tools':_0x5e0efc[_0x2fe3f9(0x7db)](_0x500543=>({..._0x500543,'name':this['getToolName'](_0x500543),'description':this[_0x2fe3f9(0x744)](_0x500543),'parameters':this[_0x2fe3f9(0x1f9)](_0x500543)}))};}if('file-delete'===_0x105b87[_0x2fe3f9(0x689)]){const {vendorId:_0x5dceb7,collectionId:_0x506a11,fileId:_0x5d9d5e}=_0x105b87,_0x3ff323=await _0x4cfee1[_0x2fe3f9(0xa2f)](_0x5dceb7,_0x506a11),_0x262765=this['ragConnectors']?.[_0x2fe3f9(0x6ab)](_0x3ff323[_0x2fe3f9(0x4b2)]);if(!_0x262765)throw new Error(_0x2fe3f9(0x729));const _0x38139c=_0x13a298(_0x5dceb7,_0x3ff323);if(_0x3ff323[_0x2fe3f9(0x4b2)]===_0x981fb5[_0x2fe3f9(0x9e9)][_0x2fe3f9(0x197)])try{await _0x262765[_0x2fe3f9(0xa2b)](_0x38139c,_0x506a11,'/'+_0x5dceb7+'/'+_0x506a11+'/'+_0x5d9d5e),await this['objectStoreConnector'][_0x2fe3f9(0x5f9)]('/'+_0x5dceb7+'/'+_0x506a11+'/'+_0x5d9d5e);}catch(_0x512576){_0xd64180[_0x2fe3f9(0x77b)](_0x2fe3f9(0x668),_0x512576);}else try{await _0x262765['deleteFile'](_0x38139c,_0x506a11,_0x5d9d5e);}catch(_0x4dabff){_0xd64180[_0x2fe3f9(0x77b)](_0x2fe3f9(0x668),_0x4dabff);}return{'type':'file-delete'};}if(_0x2fe3f9(0x76f)===_0x105b87[_0x2fe3f9(0x689)]){let _0x595f92;const _0x2ff9d6=this[_0x2fe3f9(0x648)]['keys']();for(;!_0x595f92;){const _0x48c423=_0x2ff9d6[_0x2fe3f9(0x176)]()['value'];if(!_0x48c423)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x595f92=this[_0x2fe3f9(0x648)]['get'](_0x48c423);try{const _0x47ce67=await _0x595f92[_0x2fe3f9(0x6ab)](_0x105b87[_0x2fe3f9(0xb0e)]);return{'type':_0x2fe3f9(0x76f),'fileName':_0x47ce67[_0x2fe3f9(0x758)],'mimeType':_0x47ce67[_0x2fe3f9(0x689)],'document':await _0x47ce67[_0x2fe3f9(0x56c)]()};}catch(_0x16bbcb){continue;}}throw new Error(_0x2fe3f9(0x3fa));}if('file-ingest'===_0x105b87[_0x2fe3f9(0x689)]){const {vendorId:_0xe3fec9,collectionId:_0xc5a3b1,fileName:_0x2594ce,content:_0x3e8c87}=_0x105b87,_0x24e017=await _0x4cfee1[_0x2fe3f9(0xa2f)](_0xe3fec9,_0xc5a3b1);if(_0x24e017[_0x2fe3f9(0x4b2)]!==_0x981fb5[_0x2fe3f9(0x9e9)]['Crewdle']){const _0xeb659c=this[_0x2fe3f9(0x83b)]?.[_0x2fe3f9(0x6ab)](_0x24e017[_0x2fe3f9(0x4b2)]);if(!_0xeb659c)throw new Error(_0x2fe3f9(0x729));const _0x11c194=_0x13a298(_0xe3fec9,_0x24e017);return await _0xeb659c[_0x2fe3f9(0x1ca)](_0x11c194,_0xc5a3b1,_0x2594ce,_0x3e8c87),{'type':'file-ingest'};}const _0x5c117c=_0x24e017[_0x2fe3f9(0x880)]?.[_0x2fe3f9(0xa57)](_0x4ded15=>_0x4ded15['type']===_0x3910[_0x2fe3f9(0xa6e)]);if(!_0x5c117c)throw new Error(_0x2fe3f9(0x1ce));const _0x240c1e=(0x0,_0x2860a6['v4'])();return _0x45b70a[_0x2fe3f9(0xaff)](_0xe3fec9,_0x240c1e),await _0x2cbdc7(_0x105b87[_0x2fe3f9(0x3ea)],_0x240c1e,'/'+_0xe3fec9+'/'+_0xc5a3b1+'/'+_0x2594ce,_0x3e8c87,_0x5c117c,_0x24e017,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x2fe3f9(0x83b)]?.[_0x2fe3f9(0x6ab)](_0x981fb5[_0x2fe3f9(0x9e9)][_0x2fe3f9(0x197)]),'documentParserConnector':this[_0x2fe3f9(0xa96)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x2fe3f9(0x164)],'models':Array[_0x2fe3f9(0x79e)](this[_0x2fe3f9(0x28b)][_0x2fe3f9(0x992)]()),'contentMediator':this[_0x2fe3f9(0x88f)]}),_0x45b70a[_0x2fe3f9(0x38d)](_0x240c1e),{'type':_0x2fe3f9(0x8a1)};}if(_0x2fe3f9(0x537)===_0x105b87['type']){const {vendorId:_0xfc9319,collectionId:_0x254c87}=_0x105b87,_0x5e4268=await _0x4cfee1[_0x2fe3f9(0xa2f)](_0xfc9319,_0x254c87);if(_0x5e4268[_0x2fe3f9(0x4b2)]!==_0x981fb5[_0x2fe3f9(0x9e9)]['Crewdle']){const _0x508c87=this[_0x2fe3f9(0x83b)]?.[_0x2fe3f9(0x6ab)](_0x5e4268[_0x2fe3f9(0x4b2)]);if(!_0x508c87)throw new Error(_0x2fe3f9(0x729));const _0x5617f0=_0x13a298(_0xfc9319,_0x5e4268);return{'type':_0x2fe3f9(0x537),'files':await _0x508c87[_0x2fe3f9(0x5dd)](_0x5617f0,_0x254c87)};}try{return{'type':_0x2fe3f9(0x537),'files':(await this[_0x2fe3f9(0x655)]['list']('/'+_0xfc9319+'/'+_0x254c87,!0x1))[_0x2fe3f9(0x7db)](_0x49ead9=>({'name':_0x49ead9[_0x2fe3f9(0x758)],'id':_0x49ead9[_0x2fe3f9(0x758)],'status':_0x2fe3f9(0xa79)}))};}catch(_0x114424){return{'type':_0x2fe3f9(0x537),'files':[]};}}if(_0x2fe3f9(0x250)===_0x105b87[_0x2fe3f9(0x689)]){const {vendorId:_0x27b1e4,collectionId:_0x37f55a}=_0x105b87,_0x1f3ba2=await _0x4cfee1['getDataCollection'](_0x27b1e4,_0x37f55a),_0x313960=this[_0x2fe3f9(0x83b)]?.['get'](_0x1f3ba2[_0x2fe3f9(0x4b2)]);if(!_0x313960)return{'type':_0x2fe3f9(0x250)};const _0x37b751=_0x13a298(_0x27b1e4,_0x1f3ba2);return await _0x313960[_0x2fe3f9(0x9dd)](_0x37b751,_0x37f55a),{'type':_0x2fe3f9(0x250)};}if(_0x2fe3f9(0x295)===_0x105b87[_0x2fe3f9(0x689)]){const {vendorId:_0x35c49f,collectionId:_0x4f0205}=_0x105b87,_0x67b889=await _0x4cfee1[_0x2fe3f9(0xa2f)](_0x35c49f,_0x4f0205),_0x4126b5=this[_0x2fe3f9(0x83b)]?.[_0x2fe3f9(0x6ab)](_0x67b889[_0x2fe3f9(0x4b2)]);if(!_0x4126b5)return{'type':'collection-delete'};const _0x224a3e=_0x13a298(_0x35c49f,_0x67b889);let _0x10f494=!0x1;if(_0x67b889[_0x2fe3f9(0xaf2)]===_0x1a7421[_0x2fe3f9(0x89d)]&&(_0x10f494=!0x0),_0x67b889[_0x2fe3f9(0xaf2)]===_0x1a7421[_0x2fe3f9(0x606)]){_0x10f494=!0x0;const _0x231634=await _0x4cfee1[_0x2fe3f9(0x589)](_0x35c49f);for(const _0x5915f0 of _0x231634)if(_0x5915f0[_0x2fe3f9(0x4b2)]===_0x67b889[_0x2fe3f9(0x4b2)]&&_0x5915f0['hosting']===_0x1a7421[_0x2fe3f9(0x606)]&&_0x5915f0['id']!==_0x67b889['id']){_0x10f494=!0x1;break;}}try{await _0x4126b5[_0x2fe3f9(0x735)](_0x224a3e,_0x4f0205,_0x10f494);}catch(_0x3be34c){_0xd64180[_0x2fe3f9(0x77b)](_0x2fe3f9(0x872),_0x3be34c);}return{'type':_0x2fe3f9(0x295)};}if(_0x2fe3f9(0x96b)===_0x105b87[_0x2fe3f9(0x689)]){const {query:_0xf7c814,vendorId:_0x3b1e96,collectionId:_0x38fbc5}=_0x105b87,_0x2299f9=await _0x4cfee1[_0x2fe3f9(0xa2f)](_0x3b1e96,_0x38fbc5);if(_0x2299f9[_0x2fe3f9(0x4b2)]!==_0x981fb5[_0x2fe3f9(0x9e9)]['Crewdle']){const _0xcf4bd1=this[_0x2fe3f9(0x83b)]?.[_0x2fe3f9(0x6ab)](_0x2299f9[_0x2fe3f9(0x4b2)]);if(!_0xcf4bd1)throw new Error('No\x20RAG\x20connector\x20available');const _0x509fe9=_0x13a298(_0x3b1e96,_0x2299f9);return{'type':_0x2fe3f9(0x96b),'results':await _0xcf4bd1[_0x2fe3f9(0x3e7)](_0x509fe9,_0x38fbc5,_0xf7c814,0x1)};}const _0x10b11c=_0x2299f9['retrieveBlocks']?.[_0x2fe3f9(0xa57)](_0x5d69fc=>_0x5d69fc['type']===_0x3910[_0x2fe3f9(0x3d0)]);return{'type':_0x2fe3f9(0x96b),'results':(await _0x5bc59b(_0x105b87[_0x2fe3f9(0x3ea)],_0x30b104,'',_0xf7c814,_0x10b11c,_0x2299f9,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this['ragConnectors']?.[_0x2fe3f9(0x6ab)](_0x981fb5['GenerativeAIRagType']['Crewdle']),'documentParserConnector':this[_0x2fe3f9(0xa96)],'fileConnector':this[_0x2fe3f9(0x611)],'nlpLibraryConnector':this[_0x2fe3f9(0x934)],'generativeAIWorkerConnectors':this[_0x2fe3f9(0x164)],'models':Array['from'](this[_0x2fe3f9(0x28b)][_0x2fe3f9(0x992)]()),'contentMediator':this[_0x2fe3f9(0x88f)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x2fe3f9(0x6ee)],'queryFileConnector':this['queryFileConnector']}))[_0x2fe3f9(0xa86)]??[]};}throw new Error(_0x2fe3f9(0x676));}async*['internalProcessJobStream'](_0x261055,_0xfa0ca3){const _0x459a66=_0xe992e3;if(_0x459a66(0x16a)===_0xfa0ca3['type']){const _0x282c68=await _0x4cfee1[_0x459a66(0xa5c)](_0xfa0ca3[_0x459a66(0x3ea)],_0xfa0ca3['workflowId']),_0x42b3e0=_0x282c68[_0x459a66(0x6e1)][_0x459a66(0xa57)](_0x3f9b3a=>_0x3f9b3a[_0x459a66(0x689)]===_0x115e61[_0x459a66(0x3d0)]);for await(const _0x46b7af of _0x72cadc(_0xfa0ca3['jobId']??_0x261055,_0xfa0ca3,_0x42b3e0,_0x282c68[_0x459a66(0x6e1)],{'documentParserConnector':this[_0x459a66(0xa96)],'fileConnector':this[_0x459a66(0x611)],'nlpLibraryConnector':this[_0x459a66(0x934)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x459a66(0x79e)](this['models'][_0x459a66(0x992)]()),'contentMediator':this[_0x459a66(0x88f)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x459a66(0x6ee)],'queryFileConnector':this['queryFileConnector']}))yield _0x46b7af;}if(_0x459a66(0xb18)===_0xfa0ca3[_0x459a66(0x689)]){for await(const _0x1f5e1f of _0x12f02f(_0xfa0ca3[_0x459a66(0x416)]??_0x261055,_0xfa0ca3,{'documentParserConnector':this[_0x459a66(0xa96)],'fileConnector':this[_0x459a66(0x611)],'nlpLibraryConnector':this[_0x459a66(0x934)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x459a66(0x79e)](this[_0x459a66(0x28b)]['values']()),'contentMediator':this[_0x459a66(0x88f)],'searchConnector':this[_0x459a66(0x955)],'aiSearchConnector':this[_0x459a66(0x6ee)],'queryFileConnector':this['queryFileConnector']}))yield _0x1f5e1f;}}async[_0xe992e3(0xac5)](_0x5ca0ba,_0x474173){const _0x4237c1=_0xe992e3;if(_0x4237c1(0x8dc)===_0x474173[_0x4237c1(0x689)])return _0x5ca0ba=_0x474173[_0x4237c1(0x416)],void await this[_0x4237c1(0xaff)](_0x5ca0ba,_0x474173[_0x4237c1(0x3ea)],_0x474173[_0x4237c1(0xa11)]);_0x4237c1(0x16a)!==_0x474173[_0x4237c1(0x689)]&&_0x4237c1(0xb18)!==_0x474173['type']||!_0x474173['jobId']||(_0x5ca0ba=_0x474173['jobId']),await this['openTrace'](_0x5ca0ba,_0x474173['vendorId'],_0x474173['workflowId'],_0x474173['threadId']),await _0x45b70a[_0x4237c1(0x41f)]({'jobType':_0x883e8c['Job'],'type':_0x4218b7['Queued'],'traceLevel':_0x1ceba1[_0x4237c1(0x5cb)],'jobId':_0x5ca0ba,'threadId':_0x474173[_0x4237c1(0x441)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x4237c1(0x20c)});}async[_0xe992e3(0x4b6)](_0x2aa0f2,_0xcea201){const _0x2db876=_0xe992e3;if(_0x2db876(0x8dc)===_0xcea201[_0x2db876(0x689)])return _0x2aa0f2=_0xcea201[_0x2db876(0x416)],void await this['closeTrace'](_0x2aa0f2);_0x2db876(0x16a)!==_0xcea201[_0x2db876(0x689)]&&_0x2db876(0xb18)!==_0xcea201['type']||!_0xcea201[_0x2db876(0x416)]||(_0x2aa0f2=_0xcea201[_0x2db876(0x416)]),await _0x45b70a[_0x2db876(0x41f)]({'jobType':_0x883e8c[_0x2db876(0x451)],'type':_0x4218b7['Completed'],'traceLevel':_0x1ceba1[_0x2db876(0x5cb)],'jobId':_0x2aa0f2,'threadId':_0xcea201[_0x2db876(0x441)],'startTime':Date[_0x2db876(0x559)](),'timestamp':Date[_0x2db876(0x559)](),'status':_0x2db876(0x20c)}),await this[_0x2db876(0x38d)](_0x2aa0f2,_0xcea201[_0x2db876(0x441)]);}[_0xe992e3(0x514)](_0x4510bf){const _0x3d8ac0=_0xe992e3;switch(_0x4510bf['type']){case _0x115e61[_0x3d8ac0(0x2a4)]:case _0x115e61['AgentSkill']:return _0x3d8ac0(0xadf)+_0x4510bf[_0x3d8ac0(0x758)][_0x3d8ac0(0x9d7)](/[^a-zA-Z]/g,'');case _0x115e61[_0x3d8ac0(0x6bb)]:return _0x3d8ac0(0x2cc)+_0x4510bf[_0x3d8ac0(0x758)][_0x3d8ac0(0x9d7)](/[^a-zA-Z]/g,'');case _0x115e61['DataCollection']:case _0x115e61['Knowledge']:return _0x3d8ac0(0x4a9)+_0x4510bf[_0x3d8ac0(0x758)][_0x3d8ac0(0x9d7)](/[^a-zA-Z]/g,'');case _0x115e61[_0x3d8ac0(0x805)]:return _0x4510bf['name'][_0x3d8ac0(0x9d7)](/[^a-zA-Z]/g,'');case _0x115e61['AiSearch']:return _0x3d8ac0(0xafa);case _0x115e61['Code']:return _0x3d8ac0(0x85c);case _0x115e61['Search']:return _0x3d8ac0(0xa9b);case _0x115e61[_0x3d8ac0(0x217)]:case _0x115e61[_0x3d8ac0(0x528)]:return _0x3d8ac0(0x513);case _0x981fb5['GenerativeAIInferenceToolType'][_0x3d8ac0(0x2db)]:return _0x3d8ac0(0x8e7)+_0x4510bf[_0x3d8ac0(0x758)][_0x3d8ac0(0x9d7)](/[^a-zA-Z]/g,'');case _0x981fb5[_0x3d8ac0(0x63f)][_0x3d8ac0(0x3eb)]:return _0x3d8ac0(0x403)+_0x4510bf[_0x3d8ac0(0x758)][_0x3d8ac0(0x9d7)](/[^a-zA-Z]/g,'');case _0x981fb5[_0x3d8ac0(0x63f)][_0x3d8ac0(0x382)]:return _0x3d8ac0(0x2dc)+_0x4510bf[_0x3d8ac0(0x758)][_0x3d8ac0(0x9d7)](/[^a-zA-Z]/g,'');default:return'';}}['getToolDescription'](_0x11fa89){const _0x2f5f25=_0xe992e3;switch(_0x11fa89[_0x2f5f25(0x689)]){case _0x115e61[_0x2f5f25(0x2a4)]:case _0x115e61[_0x2f5f25(0xab0)]:return _0x2f5f25(0xa16)+_0x11fa89[_0x2f5f25(0x544)]+_0x2f5f25(0x381);case _0x115e61['WorkflowTool']:return'Execute\x20the\x20workflow\x20'+_0x11fa89[_0x2f5f25(0x544)]+_0x2f5f25(0x381);case _0x115e61[_0x2f5f25(0x760)]:case _0x115e61[_0x2f5f25(0x7bc)]:return _0x2f5f25(0x812)+_0x11fa89[_0x2f5f25(0x544)]+_0x2f5f25(0xa40);case _0x115e61[_0x2f5f25(0x805)]:return'Execute\x20skill\x20'+_0x11fa89[_0x2f5f25(0x544)];case _0x115e61[_0x2f5f25(0x233)]:return _0x2f5f25(0x471);case _0x115e61[_0x2f5f25(0x243)]:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x115e61['Search']:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x115e61[_0x2f5f25(0x217)]:case _0x115e61[_0x2f5f25(0x528)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x981fb5[_0x2f5f25(0x63f)][_0x2f5f25(0x2db)]:return _0x2f5f25(0x235);case _0x981fb5['GenerativeAIInferenceToolType'][_0x2f5f25(0x3eb)]:return _0x2f5f25(0x822);case _0x981fb5['GenerativeAIInferenceToolType'][_0x2f5f25(0x382)]:return _0x2f5f25(0x807);default:return'';}}['getToolParams'](_0x2c31c8){const _0xfe24a8=_0xe992e3;switch(_0x2c31c8[_0xfe24a8(0x689)]){case _0x115e61[_0xfe24a8(0x2a4)]:case _0x115e61[_0xfe24a8(0xab0)]:case _0x115e61[_0xfe24a8(0x6bb)]:return[{'name':_0xfe24a8(0x16a),'type':_0xfe24a8(0xab7)}];case _0x115e61['DataCollection']:case _0x115e61['Knowledge']:return[{'name':_0xfe24a8(0x774),'type':_0xfe24a8(0xab7)}];case _0x115e61['CustomSkill']:return _0x2c31c8[_0xfe24a8(0xa76)][_0xfe24a8(0x7db)](_0x21bc3b=>({'name':_0x21bc3b[_0xfe24a8(0x758)],'type':_0x21bc3b[_0xfe24a8(0x689)]??_0xfe24a8(0xab7)}))??[];case _0x115e61[_0xfe24a8(0x233)]:return[{'name':_0xfe24a8(0x424),'type':'string'}];case _0x115e61[_0xfe24a8(0x243)]:return[{'name':_0xfe24a8(0x14f),'type':_0xfe24a8(0xab7)}];case _0x115e61[_0xfe24a8(0x69c)]:return[{'name':_0xfe24a8(0x424),'type':_0xfe24a8(0xab7)}];case _0x115e61[_0xfe24a8(0x217)]:case _0x115e61[_0xfe24a8(0x528)]:return[{'name':_0xfe24a8(0x3d7),'type':_0xfe24a8(0xab7)},{'name':'page','type':_0xfe24a8(0x7cd)}];case _0x981fb5['GenerativeAIInferenceToolType']['FormSkillGetQuestion']:return[];case _0x981fb5[_0xfe24a8(0x63f)][_0xfe24a8(0x3eb)]:return[{'name':'id','type':'string'},{'name':_0xfe24a8(0x129),'type':'string'}];case _0x981fb5[_0xfe24a8(0x63f)]['FormSkillSubmitForm']:default:return[];}}['getCoresFromCapacityReport'](){const _0x58c39d=_0xe992e3;try{return this[_0x58c39d(0x56f)][_0x58c39d(0x9d3)]()[_0x58c39d(0x8c6)]['cores']*(0x1-this['capacityReporter'][_0x58c39d(0x9d3)]()[_0x58c39d(0x8c6)][_0x58c39d(0x849)]);}catch(_0x442b7e){return _0xd64180[_0x58c39d(0x991)](_0x3c5ddd[_0x58c39d(0x6b5)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x442b7e),0x0;}}['sendStats'](){const _0x1861c9=_0xe992e3;this[_0x1861c9(0x803)]&&(this[_0x1861c9(0x203)]&&clearTimeout(this[_0x1861c9(0x203)]),this[_0x1861c9(0x203)]=setTimeout(async()=>{const _0x3f12f=_0x1861c9;delete this['debounceStats'];let _0x55676d=0x0;for(const _0x5502f3 of this[_0x3f12f(0x648)][_0x3f12f(0x992)]())_0x55676d+=await _0x5502f3[_0x3f12f(0x257)]();this[_0x3f12f(0x587)][_0x3f12f(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x3f12f(0x52d)],'content':{'type':_0x26ec79['GenerativeAIWorkerStats'],'label':this[_0x3f12f(0x3fc)],'stats':{'timestamp':Date['now'](),'storage':_0x55676d,'messagesSent':this[_0x3f12f(0x30c)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3f12f(0x97c)],'bytesReceived':this[_0x3f12f(0x5d0)],'writes':0x0,'reads':0x0,'prompts':this[_0x3f12f(0x7ed)],'tokens':this[_0x3f12f(0x157)]}}});},_0x411ded));}[_0xe992e3(0x8b0)](_0x5d07a3,_0x23a883){const _0x12b280=_0xe992e3,_0x421221=this['label'],_0x51736a=this[_0x12b280(0x4a8)]();_0xd64180['logServiceEvent'](_0x2d66c0[_0x12b280(0xadc)],{'topic':_0x421221,'type':_0x12b280(0x129),'nodeId':_0x51736a,'tokenCount':_0x23a883,'tokensPerSecond':_0x5d07a3});}async[_0xe992e3(0xaff)](_0x2b7646,_0x157274,_0x472a63,_0x4c39fc){const _0x2fe034=_0xe992e3;try{if(!await _0x45b70a['openTrace'](_0x157274,_0x2b7646,_0x472a63,_0x4c39fc))throw new Error(_0x2fe034(0x87e));return _0x2b7646;}catch(_0x5a5e60){return console[_0x2fe034(0x77b)]('Error\x20opening\x20trace',_0x5a5e60),_0x2fe034(0x9a0);}}async[_0xe992e3(0x38d)](_0x2e805d,_0x580434){const _0x134e39=_0xe992e3;try{await _0x45b70a[_0x134e39(0x38d)](_0x2e805d,_0x580434);}catch(_0x4627df){console[_0x134e39(0x77b)]('Error\x20closing\x20trace',{'jobId':_0x2e805d,'error':_0x4627df});}}}class _0x940501 extends _0x430dee{[_0xe992e3(0x71d)];[_0xe992e3(0x5e2)];[_0xe992e3(0x3ea)];['db'];[_0xe992e3(0x203)];['writes']=0x0;[_0xe992e3(0x60a)]=0x0;[_0xe992e3(0x2bb)]=!0x1;constructor(_0x5aec74,_0x27ac67,_0x4f3657,_0x36d2d1,_0xf10e7){const _0xde43b1=_0xe992e3;if('string'!=typeof _0x27ac67)throw new _0x3748ee(_0x2a0ddc['GraphDatabaseNameNotString'],_0xde43b1(0xb04));super(_0x5aec74,_0x27ac67),this[_0xde43b1(0x71d)]=_0x5aec74,this[_0xde43b1(0x5e2)]=_0x4f3657,this[_0xde43b1(0x3ea)]=_0x36d2d1;const _0xf68678=_0xde43b1(0x421)+this[_0xde43b1(0x3ea)]+_0xde43b1(0x421)+this[_0xde43b1(0x5e2)]+_0xde43b1(0x421)+this[_0xde43b1(0x3fc)];this['db']=new _0xf10e7(_0xf68678),this['sendStats']();}[_0xe992e3(0x94b)](){return this['isLoaded'];}[_0xe992e3(0xa93)](_0x5feda2){const _0x3d8d18=_0xe992e3;this[_0x3d8d18(0x2bb)]=_0x5feda2;}[_0xe992e3(0x551)](){const _0x5b636e=_0xe992e3;clearTimeout(this['debounceStats']),delete this[_0x5b636e(0x203)],super[_0x5b636e(0x551)]();}['close'](){const _0x56a308=_0xe992e3;this[_0x56a308(0x587)][_0x56a308(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x56a308(0x52d)],'content':{'type':_0x26ec79['CloseGraphDatabase'],'label':this[_0x56a308(0x3fc)]}});}['getContentType'](){const _0x1d2f78=_0xe992e3;return _0x981fb5[_0x1d2f78(0x4c9)]['GraphDatabase'];}['reset'](){const _0x8e1fb7=_0xe992e3;this[_0x8e1fb7(0x5d4)]();}['addNode'](_0xcde274,_0x335ce7,_0x23f0ce,_0xe86943){const _0x55d992=_0xe992e3;this['db'][_0x55d992(0x2cd)](_0xcde274,_0x335ce7,_0x23f0ce,_0xe86943),this[_0x55d992(0x30f)]+=0x1,this[_0x55d992(0x5d4)]();}[_0xe992e3(0x5df)](_0x18de0e,_0x5ba1ed){const _0x4d8d4b=_0xe992e3;this['db'][_0x4d8d4b(0x5df)](_0x18de0e,_0x5ba1ed),this[_0x4d8d4b(0x30f)]+=0x1,this[_0x4d8d4b(0x5d4)]();}['getContent'](_0x1a4fbd,_0x392acd,_0x12b7e1){const _0x2ba023=_0xe992e3,_0xc6f946=this['db'][_0x2ba023(0x645)](_0x1a4fbd,_0x392acd,_0x12b7e1);return this[_0x2ba023(0x60a)]+=0x1,_0xd64180['logServiceEvent'](_0x2d66c0['GraphDatabase'],{'type':'get-content','label':this[_0x2ba023(0x3fc)],'nodeId':this['localNode'][_0x2ba023(0x686)](),'nodeType':this[_0x2ba023(0x71d)][_0x2ba023(0x689)],'clusterId':this[_0x2ba023(0x5e2)],'size':0x0}),this[_0x2ba023(0x5d4)](),_0xc6f946;}['remove'](_0x32b70c){const _0x3b0ccc=_0xe992e3;this['db'][_0x3b0ccc(0x730)](_0x32b70c),this['writes']+=0x1,this[_0x3b0ccc(0x5d4)]();}[_0xe992e3(0x894)](_0x2badcb){const _0x1975f1=_0xe992e3;this['db'][_0x1975f1(0x894)](_0x2badcb);}['loadFromDisk'](_0x5b3d64){this['db']['loadFromDisk'](_0x5b3d64);}[_0xe992e3(0x5d4)](){const _0x90dc66=_0xe992e3;this[_0x90dc66(0x203)]&&clearTimeout(this[_0x90dc66(0x203)]),this[_0x90dc66(0x203)]=setTimeout(async()=>{const _0x336918=_0x90dc66;delete this[_0x336918(0x203)];const _0x5a09a2=this['db'][_0x336918(0x257)]();this[_0x336918(0x587)][_0x336918(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x336918(0x52d)],'content':{'type':_0x26ec79['GraphDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0x336918(0x559)](),'storage':_0x5a09a2,'messagesSent':this[_0x336918(0x30c)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x336918(0x97c)],'bytesReceived':this[_0x336918(0x5d0)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0xd64180[_0x336918(0x835)](_0x2d66c0[_0x336918(0x663)],_0x336918(0x421)+this['clusterId']+_0x336918(0x421)+this[_0x336918(0x3fc)],_0x5a09a2);},_0x411ded);}}class _0x2c71fc extends _0x3699d4{[_0xe992e3(0xa35)];constructor(_0x423d1b,_0x387511,_0x113fac){const _0x55e46e=_0xe992e3;super(_0x423d1b,_0x387511),this[_0x55e46e(0xa35)]=_0x113fac;}['getContentType'](){const _0x480b=_0xe992e3;return _0x981fb5[_0x480b(0x4c9)][_0x480b(0x2b0)];}[_0xe992e3(0x870)](){const _0x350d94=_0xe992e3;return this[_0x350d94(0xa35)];}[_0xe992e3(0x4cb)](){const _0x34512e=_0xe992e3;return this[_0x34512e(0xa35)]['id'];}}class _0x312ed8 extends _0x2c71fc{[_0xe992e3(0x9ba)];[_0xe992e3(0x765)];['topic'];[_0xe992e3(0x599)]=_0x4d5b0d();constructor(_0x5ed488,_0x8e1dec,_0x3f9951,_0x5a1be8,_0x26886c){const _0x22a3cc=_0xe992e3;super(_0x5ed488,_0x8e1dec,_0x3f9951),this[_0x22a3cc(0x9ba)]=_0x5a1be8,this[_0x22a3cc(0x765)]=_0x26886c;}['destroy'](){const _0x1f48a7=_0xe992e3;this[_0x1f48a7(0x536)](_0x1f48a7(0x1fb)),this[_0x1f48a7(0x536)](_0x1f48a7(0x4dd)),super[_0x1f48a7(0x551)]();}['addTrack'](_0x42f082){const _0x4dd2f9=_0xe992e3;if(!this[_0x4dd2f9(0x506)])throw new _0xd907de(_0xd907de[_0x4dd2f9(0x386)][_0x4dd2f9(0x8a7)],{'label':this['label'],'ownerId':this[_0x4dd2f9(0x584)][_0x4dd2f9(0x686)](),'remoteId':this[_0x4dd2f9(0x9ba)]});this[_0x4dd2f9(0x506)]['publish']({'sourceId':this['owner'][_0x4dd2f9(0x686)](),'content':{'action':_0x45c646[_0x4dd2f9(0x8ef)],'track':_0x42f082,'stream':this[_0x4dd2f9(0xa35)],'priority':_0x981fb5[_0x4dd2f9(0x9f0)][_0x4dd2f9(0x278)],'params':this[_0x4dd2f9(0x4cd)](_0x42f082[_0x4dd2f9(0xa25)],this[_0x4dd2f9(0x765)])}});}['removeTrack'](_0x3ea2c6){const _0x2ab7cf=_0xe992e3,_0x59bf82=this[_0x2ab7cf(0x3e4)](_0x3ea2c6);if(_0x59bf82){if(!this[_0x2ab7cf(0x506)])return null;this[_0x2ab7cf(0x506)][_0x2ab7cf(0x246)]({'sourceId':this['owner'][_0x2ab7cf(0x686)](),'content':{'action':_0x45c646[_0x2ab7cf(0x342)],'track':_0x59bf82,'stream':this[_0x2ab7cf(0xa35)]}});}return _0x59bf82;}[_0xe992e3(0x14c)](_0x35d511){const _0x224b59=_0xe992e3;if(!this[_0x224b59(0x506)])throw new _0xd907de(_0xd907de[_0x224b59(0x386)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x224b59(0x3fc)],'ownerId':this[_0x224b59(0x584)][_0x224b59(0x686)](),'remoteId':this[_0x224b59(0x9ba)]});this['topic']['publish']({'sourceId':this[_0x224b59(0x584)][_0x224b59(0x686)](),'content':{'action':_0x45c646[_0x224b59(0x586)],'priority':_0x35d511,'stream':this['mediaStream']}});}[_0xe992e3(0x60c)]({trackKinds:_0x4de4da,params:_0x3c6a82},_0x30f81c){const _0x42f147=_0xe992e3;if(!this[_0x42f147(0x506)])throw new _0xd907de(_0xd907de[_0x42f147(0x386)][_0x42f147(0x8a7)],{'label':this[_0x42f147(0x3fc)],'ownerId':this[_0x42f147(0x584)][_0x42f147(0x686)](),'remoteId':this[_0x42f147(0x9ba)]});for(const _0x52ecd4 of this[_0x42f147(0xa35)][_0x42f147(0x69e)]())_0x4de4da[_0x42f147(0x137)](_0x52ecd4[_0x42f147(0xa25)])&&this[_0x42f147(0x506)][_0x42f147(0x246)]({'sourceId':this['owner'][_0x42f147(0x686)](),'content':{'action':_0x45c646[_0x42f147(0x8ef)],'track':_0x52ecd4,'stream':this[_0x42f147(0xa35)],'priority':_0x30f81c,'params':this[_0x42f147(0x4cd)](_0x52ecd4[_0x42f147(0xa25)],_0x3c6a82)}});}[_0xe992e3(0xa65)]({params:_0x2d54e5}){const _0x22ed5d=_0xe992e3;if(!this[_0x22ed5d(0x506)])throw new _0xd907de(_0xd907de['codes'][_0x22ed5d(0x8a7)],{'label':this[_0x22ed5d(0x3fc)],'ownerId':this[_0x22ed5d(0x584)][_0x22ed5d(0x686)](),'remoteId':this[_0x22ed5d(0x9ba)]});for(const _0x1b00ba of this[_0x22ed5d(0xa35)][_0x22ed5d(0x69e)]())this['topic'][_0x22ed5d(0x246)]({'sourceId':this['owner'][_0x22ed5d(0x686)](),'content':{'action':_0x45c646['Update'],'stream':this[_0x22ed5d(0xa35)],'params':this[_0x22ed5d(0x4cd)](_0x1b00ba[_0x22ed5d(0xa25)],_0x2d54e5)}});}['unsubscribe']({trackKinds:_0x5630de}){const _0x398595=_0xe992e3;if(this[_0x398595(0x506)]){for(const _0x371b7b of this[_0x398595(0xa35)][_0x398595(0x69e)]())_0x5630de['includes'](_0x371b7b[_0x398595(0xa25)])&&this[_0x398595(0x506)][_0x398595(0x246)]({'sourceId':this[_0x398595(0x584)]['getId'](),'content':{'action':_0x45c646['Remove'],'stream':this[_0x398595(0xa35)],'track':_0x371b7b}});}}['registerPublisher'](_0x1c960c){const _0x5c729b=_0xe992e3;this[_0x5c729b(0x506)]=_0x1c960c;}[_0xe992e3(0xace)](_0x1eb637){const _0x59451e=_0xe992e3;_0x1eb637===this['topic']&&(delete this[_0x59451e(0x506)],this[_0x59451e(0x599)][_0x59451e(0x246)]());}[_0xe992e3(0xa7c)](_0x1a3211){const _0x47f743=_0xe992e3;return this['unregisterPublisherListener'][_0x47f743(0x60c)](_0x1a3211);}[_0xe992e3(0x3e4)](_0x11efda){const _0x4e8ad1=_0xe992e3;return this[_0x4e8ad1(0xa35)]['getTracks']()['find'](_0x38fd73=>_0x38fd73[_0x4e8ad1(0xa25)]===_0x11efda)||null;}[_0xe992e3(0x4cd)](_0x28bf17,_0x822f0d){const _0x4987b5=_0xe992e3;let _0x328547;return'video'===_0x28bf17&&_0x822f0d?.[_0x4987b5(0x4dd)]&&_0x4987b5(0xae6)!=typeof _0x822f0d[_0x4987b5(0x4dd)]&&(_0x328547={'kind':'video',..._0x822f0d[_0x4987b5(0x4dd)]},_0x328547['resolution']=this[_0x4987b5(0x601)]()),'audio'===_0x28bf17&&_0x822f0d?.[_0x4987b5(0x1fb)]&&_0x4987b5(0xae6)!=typeof _0x822f0d[_0x4987b5(0x1fb)]&&(_0x328547={'kind':_0x4987b5(0x1fb),..._0x822f0d[_0x4987b5(0x1fb)]}),_0x328547;}['getResolution'](){const _0x2059dd=_0xe992e3;let _0x41d129={'width':0x0,'height':0x0};const _0x13dc8a=this[_0x2059dd(0xa35)][_0x2059dd(0x8bc)]();if(_0x13dc8a['length']>0x0){const _0x1e3aeb=_0x13dc8a[0x0][_0x2059dd(0x8c0)]();_0x1e3aeb['width']&&_0x1e3aeb['height']&&(_0x41d129={'width':_0x1e3aeb[_0x2059dd(0x967)],'height':_0x1e3aeb['height']});}return _0x41d129;}}class _0x2d1cec extends _0x2c71fc{[_0xe992e3(0x5e2)];[_0xe992e3(0x498)]=_0x981fb5['MediaStreamPriority'][_0xe992e3(0x278)];[_0xe992e3(0x438)]=new Map();[_0xe992e3(0x155)]=new Map();constructor(_0x3c04fa,_0x40efa8,_0x43428f,_0x437d95){const _0x2892a4=_0xe992e3;super(_0x3c04fa,_0x40efa8,_0x43428f instanceof MediaStream?_0x43428f:_0x43428f[_0x2892a4(0x524)]?_0x43428f[_0x2892a4(0x524)]:_0x43428f[_0x2892a4(0x7b9)]()),this['clusterId']=_0x437d95,this[_0x2892a4(0xa35)]['getTracks']()[_0x2892a4(0x558)](_0x2b2a71=>this['setupTrackEndedListeners'](_0x2b2a71)),_0xd64180[_0x2892a4(0x8b0)](_0x2d66c0[_0x2892a4(0x341)],{'type':_0x2892a4(0x246),'label':this['label'],'nodeId':this['owner'][_0x2892a4(0x686)](),'nodeType':this['owner'][_0x2892a4(0x689)],'clusterId':this[_0x2892a4(0x5e2)],'streamId':this[_0x2892a4(0x4cb)](),'trackKinds':this['mediaStream'][_0x2892a4(0x69e)]()['map'](_0x2dbd31=>_0x2dbd31['kind'])});}[_0xe992e3(0x551)](){const _0x28697c=_0xe992e3;this[_0x28697c(0x155)][_0x28697c(0x73d)]>0x0&&(this[_0x28697c(0x155)][_0x28697c(0x558)](_0x22c7f0=>{const _0x18dba6=_0x28697c;_0x22c7f0['unregisterSystemPublisher'](),_0x22c7f0[_0x18dba6(0x551)]();}),this['outgoingStreams'][_0x28697c(0x24d)]()),this[_0x28697c(0x438)][_0x28697c(0x558)](_0x302dca=>_0x302dca()),super[_0x28697c(0x551)]();}[_0xe992e3(0x246)](_0x1492e6){const _0x263262=_0xe992e3;this['systemTopic']['publish']({'sourceId':this['owner'][_0x263262(0x686)](),'destinationIds':_0x1492e6?[_0x1492e6]:void 0x0,'propagate':!0x0,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79['PublishMediaStream'],'ownerId':this[_0x263262(0x584)][_0x263262(0x686)](),'label':this[_0x263262(0x3fc)],'stream':{'streamId':this[_0x263262(0x4cb)](),'availableTrackKinds':this['mediaStream'][_0x263262(0x69e)]()[_0x263262(0x7db)](_0x20d9b3=>_0x20d9b3[_0x263262(0xa25)])}}});}[_0xe992e3(0x64d)](){const _0x109b63=_0xe992e3;this[_0x109b63(0x587)]['publish']({'sourceId':this['owner'][_0x109b63(0x686)](),'propagate':!0x0,'messageType':_0x13f595[_0x109b63(0x52d)],'content':{'type':_0x26ec79[_0x109b63(0x156)],'ownerId':this['owner']['getId'](),'label':this[_0x109b63(0x3fc)]}}),this[_0x109b63(0x587)][_0x109b63(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x109b63(0x77c)],'label':this[_0x109b63(0x3fc)]}}),_0xd64180['logServiceEvent'](_0x2d66c0[_0x109b63(0x341)],{'type':_0x109b63(0x64d),'label':this[_0x109b63(0x3fc)],'nodeId':this[_0x109b63(0x584)]['getId'](),'nodeType':this['owner'][_0x109b63(0x689)],'clusterId':this[_0x109b63(0x5e2)],'streamId':this[_0x109b63(0x4cb)]()});}[_0xe992e3(0x561)](){const _0x5eb66f=_0xe992e3;return this[_0x5eb66f(0x498)];}[_0xe992e3(0x14c)](_0x170004){const _0x5e1f48=_0xe992e3;this[_0x5e1f48(0x498)]=_0x170004,this[_0x5e1f48(0x155)][_0x5e1f48(0x558)](_0xffb0b1=>_0xffb0b1['setPriority'](_0x170004));}['getShareableStream'](_0x4b0ac9,_0x346607){const _0x43b5f2=_0xe992e3;if(!this[_0x43b5f2(0x155)][_0x43b5f2(0x64b)](_0x4b0ac9)){const _0xf267bd=new _0x312ed8(this['owner'],this[_0x43b5f2(0x3fc)],this['mediaStream'],_0x4b0ac9,_0x346607),_0x47423f=_0xf267bd['onUnregisterPublisher'](()=>{const _0x55eecf=_0x43b5f2;_0x47423f(),this[_0x55eecf(0x155)][_0x55eecf(0x6ab)](_0x4b0ac9)?.[_0x55eecf(0x551)](),this['outgoingStreams'][_0x55eecf(0x5eb)](_0x4b0ac9);});this[_0x43b5f2(0x155)]['set'](_0x4b0ac9,_0xf267bd),_0xf267bd[_0x43b5f2(0x4a5)](this['systemTopic']);}return this['outgoingStreams'][_0x43b5f2(0x6ab)](_0x4b0ac9);}[_0xe992e3(0x49e)](){return this['mediaStream']['id'];}['handleLocalTrackFailure'](_0x250838){const _0x3e187f=_0xe992e3;this['systemTopic'][_0x3e187f(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x3e187f(0x182)],'label':this[_0x3e187f(0x3fc)],'trackKinds':[_0x250838['kind']]}});}['setupTrackEndedListeners'](_0x5920c1){const _0x1262ad=_0xe992e3,_0x31a739=()=>this[_0x1262ad(0x284)](_0x5920c1);_0x5920c1[_0x1262ad(0x277)]('ended',_0x31a739),_0x5920c1[_0x1262ad(0x277)]('mute',_0x31a739),this[_0x1262ad(0x438)][_0x1262ad(0x888)](_0x5920c1[_0x1262ad(0xa25)],()=>{const _0x520ea8=_0x1262ad;_0x5920c1[_0x520ea8(0xa27)](_0x520ea8(0xa09),_0x31a739),_0x5920c1['removeEventListener'](_0x520ea8(0x778),_0x31a739),this[_0x520ea8(0x438)][_0x520ea8(0x5eb)](_0x5920c1['kind']);});}}class _0x5ae7bb extends _0x2d1cec{[_0xe992e3(0xa71)];[_0xe992e3(0x1ab)]=[];['clientStream'];[_0xe992e3(0xa9c)];['audioDestination'];[_0xe992e3(0x224)];['canvas'];[_0xe992e3(0xa86)];[_0xe992e3(0x6f9)];constructor(_0x46c7c2,_0x226fe6,_0x21a063,_0x5a0982,_0x387a5f,_0x339a1b){const _0x5a3a1c=_0xe992e3;if(super(_0x46c7c2,_0x226fe6,_0x21a063,_0x339a1b),this[_0x5a3a1c(0xa71)]=_0x387a5f,this[_0x5a3a1c(0x395)]=this[_0x5a3a1c(0xa35)],this['sourceVideo']=document[_0x5a3a1c(0x677)](_0x5a3a1c(0x4dd)),this[_0x5a3a1c(0x224)]['autoplay']=!0x0,this[_0x5a3a1c(0x224)]['muted']=!0x0,this[_0x5a3a1c(0x224)]['srcObject']=this['clientStream'],this[_0x5a3a1c(0x224)][_0x5a3a1c(0x849)](),this['sourceVideo']['onloadeddata']=()=>{const _0x1072a0=_0x5a3a1c;this['sourceVideo'][_0x1072a0(0x685)]();},this[_0x5a3a1c(0x858)]=document[_0x5a3a1c(0x677)](_0x5a3a1c(0x858)),this['context']=this['canvas'][_0x5a3a1c(0x44b)]('2d'),this[_0x5a3a1c(0xa35)]=this['canvas']['captureStream'](_0x5a0982),this['audioDestination']=this[_0x5a3a1c(0xa71)][_0x5a3a1c(0xacd)](),this[_0x5a3a1c(0x395)][_0x5a3a1c(0x6f6)]()[_0x5a3a1c(0x756)]>0x0){const _0x4e28d5=this[_0x5a3a1c(0x395)][_0x5a3a1c(0x6f6)]()[0x0];this[_0x5a3a1c(0xa9c)]=this[_0x5a3a1c(0xa71)][_0x5a3a1c(0x705)](new MediaStream([_0x4e28d5])),this[_0x5a3a1c(0xa9c)][_0x5a3a1c(0x9ab)](this['audioDestination']);}const _0x14e66c=this[_0x5a3a1c(0x674)]['stream'][_0x5a3a1c(0x69e)]()[0x0];this[_0x5a3a1c(0xa35)][_0x5a3a1c(0x14d)](_0x14e66c),this[_0x5a3a1c(0x6f9)]=setInterval(()=>{const _0x421b21=_0x5a3a1c;this[_0x421b21(0x858)][_0x421b21(0x967)]=this[_0x421b21(0x224)][_0x421b21(0x2e2)],this[_0x421b21(0x858)]['height']=this[_0x421b21(0x224)][_0x421b21(0xb16)],this['sourceVideo'][_0x421b21(0x2e2)]?(0x0!==this[_0x421b21(0x395)][_0x421b21(0x8bc)]()[_0x421b21(0x756)]&&this[_0x421b21(0x395)][_0x421b21(0x8bc)]()[0x0][_0x421b21(0x85b)]?this['mediaStream'][_0x421b21(0x8bc)]()[0x0][_0x421b21(0x85b)]=!0x0:this['mediaStream']['getVideoTracks']()[0x0][_0x421b21(0x85b)]=!0x1,0x0!==this[_0x421b21(0x395)][_0x421b21(0x6f6)]()[_0x421b21(0x756)]&&this[_0x421b21(0x395)][_0x421b21(0x6f6)]()[0x0][_0x421b21(0x85b)]?this[_0x421b21(0xa35)][_0x421b21(0x6f6)]()[0x0]['enabled']=!0x0:this[_0x421b21(0xa35)][_0x421b21(0x6f6)]()[0x0][_0x421b21(0x85b)]=!0x1,this[_0x421b21(0xa86)][_0x421b21(0x3ba)](this['sourceVideo'],0x0,0x0)):this[_0x421b21(0xa86)][_0x421b21(0x613)](0x0,0x0,this['canvas'][_0x421b21(0x967)],this[_0x421b21(0x858)][_0x421b21(0x947)]);},0x3e8/_0x5a0982);}['destroy'](){const _0x41ee56=_0xe992e3;clearInterval(this['interval']),this['sourceVideo']['remove'](),this[_0x41ee56(0x858)][_0x41ee56(0x730)](),this[_0x41ee56(0xa9c)]?.[_0x41ee56(0x783)](),this[_0x41ee56(0x674)][_0x41ee56(0x783)](),this[_0x41ee56(0xa35)][_0x41ee56(0x69e)]()[_0x41ee56(0x558)](_0x2fd39d=>{const _0x3db873=_0x41ee56;_0x2fd39d[_0x3db873(0x9b6)](),this[_0x3db873(0xa35)][_0x3db873(0x536)](_0x2fd39d);}),super['destroy']();}[_0xe992e3(0x14d)](_0x14152d){const _0x409d26=_0xe992e3,_0x4998e1=this['getTrack'](_0x14152d[_0x409d26(0xa25)]);_0x4998e1&&this[_0x409d26(0x536)](_0x4998e1),'audio'!==_0x14152d[_0x409d26(0xa25)]?('video'===_0x14152d[_0x409d26(0xa25)]&&this['addVideoTrack'](_0x14152d),this['setupTrackEndedListeners'](_0x14152d)):this[_0x409d26(0x24f)](_0x14152d);}[_0xe992e3(0x536)](_0x165108){const _0x468306=_0xe992e3,_0x4596af=this[_0x468306(0x2d3)](_0x165108);return _0x4596af&&(_0x468306(0x1fb)===_0x4596af[_0x468306(0xa25)]&&(this[_0x468306(0xa9c)]?.[_0x468306(0x783)](),this['audioSource']=void 0x0),this[_0x468306(0x438)][_0x468306(0x6ab)](_0x4596af[_0x468306(0xa25)])?.(),this[_0x468306(0x395)]['removeTrack'](_0x4596af)),_0x4596af;}[_0xe992e3(0x749)](_0x47de42){const _0x3993fc=_0xe992e3;this['removeTrack'](_0x47de42[_0x3993fc(0xa25)]),this['addTrack'](_0x47de42);}[_0xe992e3(0x512)](_0x32c004){const _0x52929b=_0xe992e3;this[_0x52929b(0x1ab)]=_0x32c004;}[_0xe992e3(0x3e4)](_0x3fed42){const _0x759557=_0xe992e3;return this['clientStream'][_0x759557(0x69e)]()['find'](_0x4a968f=>_0x4a968f['kind']===_0x3fed42)||null;}['getTrackFromParam'](_0x4f817f){const _0x37459a=_0xe992e3;return _0x37459a(0xab7)==typeof _0x4f817f?this[_0x37459a(0x3e4)](_0x4f817f):_0x4f817f;}['addAudioTrack'](_0x4a3ce0){const _0x5e9e4d=_0xe992e3;_0x5e9e4d(0x818)===this[_0x5e9e4d(0xa71)][_0x5e9e4d(0x649)]&&this[_0x5e9e4d(0xa71)][_0x5e9e4d(0x92b)](),this[_0x5e9e4d(0x395)]['addTrack'](_0x4a3ce0),this['audioSource']=this[_0x5e9e4d(0xa71)][_0x5e9e4d(0x705)](this[_0x5e9e4d(0x395)]),this['audioSource'][_0x5e9e4d(0x9ab)](this[_0x5e9e4d(0x674)]);}[_0xe992e3(0x3df)](_0x39fa6e){const _0x4d3b1c=_0xe992e3;this[_0x4d3b1c(0x395)][_0x4d3b1c(0x14d)](_0x39fa6e),this[_0x4d3b1c(0x224)][_0x4d3b1c(0x849)]();}}class _0x587e7c extends _0x2d1cec{}class _0x4bf108 extends _0x430dee{[_0xe992e3(0x71d)];['clusterId'];[_0xe992e3(0x3ea)];['transactionService'];['waitForArrayBufferSize'];[_0xe992e3(0x34f)];[_0xe992e3(0x980)];[_0xe992e3(0xa88)];['pendingSyncTransactions']=new Map();['objectRequests']=new Map();[_0xe992e3(0x9d0)]=new Map();['pendingFilesTransactions']=new Map();['pendingFilesRename']=new Map();[_0xe992e3(0x3c4)]=new Map();[_0xe992e3(0x655)];[_0xe992e3(0x64e)]=_0x5c724d();[_0xe992e3(0x4f1)]=new Map();[_0xe992e3(0x203)];['writes']=0x0;[_0xe992e3(0x60a)]=0x0;[_0xe992e3(0x9db)]=!0x0;[_0xe992e3(0x4fd)]=!0x0;[_0xe992e3(0x275)]=0x0;[_0xe992e3(0x2c6)]=0x0;constructor(_0x544543,_0x3d3c1a,_0x1f1784,_0x2c4c56,_0x34f035,_0x59efbc,_0xeb8da1,_0x54f899){const _0x51b729=_0xe992e3;if(_0x51b729(0xab7)!=typeof _0x3d3c1a)throw new _0x3748ee(_0x2a0ddc[_0x51b729(0x12f)],_0x51b729(0x63e));super(_0x544543,_0x3d3c1a),this[_0x51b729(0x71d)]=_0x544543,this[_0x51b729(0x5e2)]=_0x1f1784,this['vendorId']=_0x2c4c56,this[_0x51b729(0x7ea)]=_0x34f035,this[_0x51b729(0x353)]=_0xeb8da1,this[_0x51b729(0x34f)]=_0x54f899;const _0x280b03=_0x51b729(0x421)+this[_0x51b729(0x3ea)]+_0x51b729(0x421)+this['clusterId']+'ccc'+_0x3d3c1a;this['objectStoreConnector']=new _0x59efbc(_0x280b03),this['syncContent']=this['options']?.[_0x51b729(0x9db)]??!0x0,this['options']?.[_0x51b729(0x692)]&&(this[_0x51b729(0x9db)]=!0x1),this[_0x51b729(0x5d4)]();}['reset'](){const _0x4db738=_0xe992e3;this[_0x4db738(0x5d4)]();}['getContentType'](){const _0x18053a=_0xe992e3;return _0x981fb5[_0x18053a(0x4c9)]['ObjectStore'];}async[_0xe992e3(0x6a5)](){const _0x3c715b=_0xe992e3;this[_0x3c715b(0x4fd)]=!0x0;try{const _0x2c99b7=await this[_0x3c715b(0x655)][_0x3c715b(0x6ab)](_0x4b3de2),_0x57d29b=await _0x2c99b7['text']();this[_0x3c715b(0xa88)]=_0x57d29b;}catch(_0x3acaec){}this['unsubscribeHandler']=this[_0x3c715b(0x399)](async(_0x5c741f,_0xf5593e)=>{const _0x36e5eb=_0x3c715b;if(!(_0xf5593e instanceof File))try{if(_0xf5593e[_0x36e5eb(0x9fd)]===_0x535a1e[_0x36e5eb(0xa8b)])return void this[_0x36e5eb(0x25c)](_0xf5593e);this[_0x36e5eb(0x651)](_0xf5593e);}catch(_0x47a71f){if(_0x47a71f instanceof _0xd907de)throw _0x47a71f;throw new _0xd907de(_0xd907de[_0x36e5eb(0x386)]['ObjectStoreInvalidSyncMessage'],{'payload':_0xf5593e});}}),await this[_0x3c715b(0xa67)](),this[_0x3c715b(0x9db)]?await this[_0x3c715b(0x322)]():this[_0x3c715b(0x473)](),this[_0x3c715b(0x5d4)]();}['destroy'](){const _0x46435a=_0xe992e3;this[_0x46435a(0x980)]?.(),this[_0x46435a(0x4f1)][_0x46435a(0x558)](_0x5ddd59=>_0x5ddd59()),this[_0x46435a(0x4f1)][_0x46435a(0x24d)](),clearTimeout(this[_0x46435a(0x203)]),delete this['debounceStats'],super['destroy']();}[_0xe992e3(0x1c9)](){const _0x4760dd=_0xe992e3;this[_0x4760dd(0x587)]?.['publish']({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x4760dd(0x52d)],'content':{'type':_0x26ec79[_0x4760dd(0x750)],'label':this['label']}});}[_0xe992e3(0x60c)](_0x23b8f9,_0x260d74){const _0x5e053f=_0xe992e3;if(this[_0x5e053f(0x4f1)][_0x5e053f(0x64b)](_0x23b8f9))throw new _0x3748ee(_0x2a0ddc[_0x5e053f(0x41a)],_0x5e053f(0x219));this[_0x5e053f(0x4f1)][_0x5e053f(0x888)](_0x23b8f9,this[_0x5e053f(0x64e)]['subscribe'](_0x260d74)),this['isSyncing']||this[_0x5e053f(0x64e)][_0x5e053f(0x246)]({'event':_0x981fb5[_0x5e053f(0x853)]['SyncComplete'],'payload':{'filesSynced':this[_0x5e053f(0x275)]}});}[_0xe992e3(0x4c0)](_0x302ad4){const _0x4def9c=_0xe992e3;this[_0x4def9c(0x4f1)]['get'](_0x302ad4)?.(),this[_0x4def9c(0x4f1)][_0x4def9c(0x5eb)](_0x302ad4);}[_0xe992e3(0x246)](_0x323050){const _0x2432fb=_0xe992e3;switch(_0x323050['action']){case _0x981fb5['PayloadAction'][_0x2432fb(0x9d1)]:return this[_0x2432fb(0x77d)](_0x323050['file'],_0x323050['path'],_0x323050[_0x2432fb(0x34f)]);case _0x981fb5['PayloadAction'][_0x2432fb(0x4d2)]:return this[_0x2432fb(0x9bd)](_0x323050[_0x2432fb(0x79f)]);case _0x981fb5[_0x2432fb(0x987)][_0x2432fb(0x8a5)]:return this[_0x2432fb(0x81f)](_0x323050['path'],_0x323050[_0x2432fb(0x307)]);default:throw new _0x3748ee(_0x2a0ddc[_0x2432fb(0x98f)],_0x2432fb(0x63b)+_0x323050);}}async[_0xe992e3(0x64d)](_0x1ea40e){const _0x4d5571=_0xe992e3;try{const _0x2b256b=(0x0,_0x2860a6['v4'])(),_0x134677=this[_0x4d5571(0xa88)],_0x2f32d5={'payloadType':_0x535a1e[_0x4d5571(0x97f)],'action':_0x5d9d32[_0x4d5571(0x91c)],'id':_0x2b256b,'parentId':_0x134677,'path':_0x1ea40e};await this[_0x4d5571(0x308)](_0x2f32d5);const _0x4fae3e=await this['deleteObject'](_0x1ea40e);!0x0!==this[_0x4d5571(0x34f)]?.['standalone']&&await this[_0x4d5571(0x8dd)](_0x2f32d5),_0xd64180['logServiceEvent'](_0x2d66c0[_0x4d5571(0x38b)],{'type':_0x4d5571(0x64d),'label':this[_0x4d5571(0x3fc)],'nodeId':this[_0x4d5571(0x71d)][_0x4d5571(0x686)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'kind':_0x4fae3e,'path':_0x1ea40e}),this[_0x4d5571(0x30f)]+=0x1,this[_0x4d5571(0x5d4)]();}catch(_0x1a2543){if(_0x1a2543 instanceof _0xd907de)throw new _0x3748ee(_0x2a0ddc['ObjectStoreNotInSync'],'Cannot\x20unpublish\x20object\x20at\x20'+_0x1ea40e+_0x4d5571(0x924));throw new _0x3748ee(_0x2a0ddc['ObjectStoreInvalidPath'],_0x4d5571(0x69b)+_0x1ea40e);}}async[_0xe992e3(0x6ab)](_0x47c577,_0x42abfb){const _0x2d8349=_0xe992e3;_0xd64180[_0x2d8349(0x8b0)](_0x2d66c0['ObjectStorage'],{'type':_0x2d8349(0x6ab),'label':this[_0x2d8349(0x3fc)],'nodeId':this[_0x2d8349(0x71d)][_0x2d8349(0x686)](),'nodeType':this['localNode'][_0x2d8349(0x689)],'clusterId':this['clusterId'],'path':_0x47c577}),this[_0x2d8349(0x60a)]+=0x1,this['sendStats']();try{return await this['objectStoreConnector']['get'](_0x47c577,_0x42abfb);}catch(_0x1c7247){try{await this[_0x2d8349(0x655)][_0x2d8349(0x6ab)](_0x47c577+_0x5172dc);}catch(_0x213d42){throw new _0x3748ee(_0x2a0ddc[_0x2d8349(0x680)],_0x2d8349(0x8b8)+_0x47c577);}throw new _0x3748ee(_0x2a0ddc[_0x2d8349(0x3c6)],'Object\x20store\x20is\x20not\x20in\x20sync');}}async['list'](_0x1383bc,_0x4cf259){const _0x4cf6a0=_0xe992e3,{recursive:_0x333b34=!0x1,includeSyncingFiles:_0x32dc16=!0x1}=_0x4cf259??{};_0xd64180[_0x4cf6a0(0x8b0)](_0x2d66c0['ObjectStorage'],{'type':_0x4cf6a0(0x135),'label':this['label'],'nodeId':this[_0x4cf6a0(0x71d)][_0x4cf6a0(0x686)](),'nodeType':this[_0x4cf6a0(0x71d)]['type'],'clusterId':this[_0x4cf6a0(0x5e2)],'path':_0x1383bc}),this['reads']+=0x1,this[_0x4cf6a0(0x5d4)]();try{const _0x5c5079=await this[_0x4cf6a0(0x655)][_0x4cf6a0(0x135)](_0x1383bc,_0x333b34);return this[_0x4cf6a0(0x4d7)](_0x5c5079,{'recursive':_0x333b34,'includeSyncingFiles':_0x32dc16});}catch(_0x60f408){throw new _0x3748ee(_0x2a0ddc[_0x4cf6a0(0x680)],'Cannot\x20list\x20directory:\x20'+_0x1383bc);}}[_0xe992e3(0x4aa)](_0x5b8579){const _0x1c5227=_0xe992e3;this[_0x1c5227(0x2c6)]+=0x1;for(const _0x2d3079 of this[_0x1c5227(0xb12)]['values']())this[_0x1c5227(0x8dd)](_0x2d3079,[_0x5b8579]);}[_0xe992e3(0x5fa)](_0x42a286){const _0x4cf62a=_0xe992e3;this[_0x4cf62a(0x2c6)]-=0x1;const _0x1b53da=this['pendingFilesSyncing'][_0x4cf62a(0x6ab)](_0x42a286);if(_0x1b53da){for(const [_0x2b7b36,_0x1b5f21]of _0x1b53da[_0x4cf62a(0x992)]())this[_0x4cf62a(0x694)](_0x2b7b36,_0x1b5f21);this['pendingFilesSyncing']['delete'](_0x42a286);}}async[_0xe992e3(0x257)](_0x5845a8='/'){const _0x4409fd=_0xe992e3;try{return await this['objectStoreConnector'][_0x4409fd(0xa48)](_0x5845a8);}catch(_0x2e1734){if(_0x2e1734 instanceof Error&&_0x2e1734['message'][_0x4409fd(0x137)](_0x4409fd(0x9c6)))return 0x0;throw new _0x3748ee(_0x2a0ddc[_0x4409fd(0x680)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x5845a8);}}['completeSync'](){const _0xeb0783=_0xe992e3;this[_0xeb0783(0x4fd)]&&(this['isSyncing']=!0x1,this['eventListener']['publish']({'event':_0x981fb5['StorageEventType'][_0xeb0783(0x891)],'payload':{'filesSynced':this['filesSynced']}}));}async['processList'](_0x39076a,{includeSyncingFiles:_0x15a165=!0x1}){const _0x57a061=_0xe992e3,_0x1ecf86=[];for(const _0x2b9f08 of _0x39076a)if(_0x2b9f08[_0x57a061(0xa25)]!==_0x981fb5[_0x57a061(0x868)][_0x57a061(0x4d2)]){if(_0x2b9f08['name']!==_0x4b3de2){if(_0x2b9f08[_0x57a061(0x758)][_0x57a061(0x273)](_0x5172dc)){if(!_0x15a165)continue;const _0x567b9f=_0x2b9f08;if(_0x567b9f['name']=_0x567b9f[_0x57a061(0x758)][_0x57a061(0x9d7)](_0x5172dc,''),_0x567b9f[_0x57a061(0x170)]=_0x567b9f[_0x57a061(0x170)]['replace'](_0x5172dc,''),await this[_0x57a061(0x591)](_0x567b9f[_0x57a061(0x170)])){_0x39076a['find'](_0x309f17=>_0x309f17[_0x57a061(0x170)]===_0x567b9f[_0x57a061(0x170)])['status']=_0x981fb5[_0x57a061(0x86e)][_0x57a061(0x892)];continue;}_0x567b9f[_0x57a061(0x716)]=_0x981fb5[_0x57a061(0x86e)][_0x57a061(0x521)];}_0x1ecf86[_0x57a061(0xae7)](_0x2b9f08);}}else _0x2b9f08[_0x57a061(0x9c8)]=await this[_0x57a061(0x4d7)](_0x2b9f08[_0x57a061(0x9c8)]??[],{'includeSyncingFiles':_0x15a165}),_0x1ecf86[_0x57a061(0xae7)](_0x2b9f08);return _0x1ecf86;}async['publishFile'](_0x58d989,_0x12c602,_0x47f158){const _0x5bc6bf=_0xe992e3;try{const _0x3b7296=(0x0,_0x2860a6['v4'])(),_0x5ae2b4=await _0x4bf693(_0x58d989),_0x1303cb=_0x5c3d3c(_0x12c602??'/',_0x58d989[_0x5bc6bf(0x758)]);let _0x5a6622=!0x0;const _0x5224dc={'payloadType':_0x535a1e['Transaction'],'action':_0x5d9d32[_0x5bc6bf(0x653)],'id':_0x3b7296,'parentId':this[_0x5bc6bf(0xa88)],'answererId':this[_0x5bc6bf(0x71d)][_0x5bc6bf(0x686)](),'name':_0x58d989[_0x5bc6bf(0x758)],'type':_0x58d989[_0x5bc6bf(0x689)],'path':_0x12c602??'/','skipEncryption':_0x47f158?.[_0x5bc6bf(0x303)]??!0x1,'checksum':_0x5ae2b4};try{if(!_0x47f158?.[_0x5bc6bf(0xa9f)])throw new Error(_0x5bc6bf(0x26e));const _0x1fcd57=_0x1303cb+_0x5172dc;await this[_0x5bc6bf(0x655)][_0x5bc6bf(0x6ab)](_0x1fcd57),_0x5a6622=!0x1,await this[_0x5bc6bf(0x655)][_0x5bc6bf(0x5f9)](_0x1fcd57),this[_0x5bc6bf(0xb12)][_0x5bc6bf(0x5eb)](_0x1303cb);}catch(_0x2a9fc0){await this['publishTransaction'](_0x5224dc);}if(this[_0x5bc6bf(0x9db)]||this['options']?.[_0x5bc6bf(0x692)]?await this[_0x5bc6bf(0x9c1)](_0x58d989,_0x12c602,_0x47f158):await this['createPendingFileWrite'](_0x58d989[_0x5bc6bf(0x758)],_0x12c602??'/',{'checksum':_0x5ae2b4,'skipEncryption':_0x47f158?.['skipEncryption']??!0x1}),this[_0x5bc6bf(0x3c4)][_0x5bc6bf(0x64b)](_0x1303cb)){const [_0x349e4b,_0x479124]=this[_0x5bc6bf(0x3c4)][_0x5bc6bf(0x6ab)](_0x1303cb);this[_0x5bc6bf(0x3c4)][_0x5bc6bf(0x888)](_0x1303cb,[!0x0,_0x479124]);try{await _0x479124;}catch(_0x84c673){}this[_0x5bc6bf(0x3c4)][_0x5bc6bf(0x5eb)](_0x1303cb);}_0x5a6622&&this[_0x5bc6bf(0x2c6)]>0x0&&!0x0!==this[_0x5bc6bf(0x34f)]?.[_0x5bc6bf(0x692)]&&await this[_0x5bc6bf(0xa04)](_0x58d989,_0x5224dc),_0xd64180[_0x5bc6bf(0x8b0)](_0x2d66c0[_0x5bc6bf(0x38b)],{'type':_0x5bc6bf(0x246),'label':this[_0x5bc6bf(0x3fc)],'nodeId':this[_0x5bc6bf(0x71d)][_0x5bc6bf(0x686)](),'nodeType':this[_0x5bc6bf(0x71d)][_0x5bc6bf(0x689)],'clusterId':this[_0x5bc6bf(0x5e2)],'kind':_0x981fb5[_0x5bc6bf(0x868)][_0x5bc6bf(0x9d1)],'path':_0x12c602,'fileName':_0x58d989[_0x5bc6bf(0x758)],'fileType':_0x58d989[_0x5bc6bf(0x689)],'size':_0x58d989[_0x5bc6bf(0x73d)]}),this['writes']+=0x1,this['sendStats']();}catch(_0x347941){if(_0x347941 instanceof _0xd907de)throw new _0x3748ee(_0x2a0ddc[_0x5bc6bf(0x3c6)],_0x5bc6bf(0x98c));throw new _0x3748ee(_0x2a0ddc[_0x5bc6bf(0x680)],_0x5bc6bf(0x6cf)+_0x12c602+(_0x12c602?.[_0x5bc6bf(0x273)]('/')?'':'/')+_0x58d989['name']);}}async['publishFolder'](_0x3820d2){const _0x5a86ab=_0xe992e3;try{const _0x25b9e1=(0x0,_0x2860a6['v4'])(),_0x1dc0e2=this[_0x5a86ab(0xa88)],_0x60dd05={'payloadType':_0x535a1e[_0x5a86ab(0x97f)],'action':_0x5d9d32[_0x5a86ab(0x1c6)],'id':_0x25b9e1,'parentId':_0x1dc0e2,'path':_0x3820d2};await this[_0x5a86ab(0x308)](_0x60dd05),await this[_0x5a86ab(0x655)][_0x5a86ab(0x5d2)](_0x3820d2),!0x0!==this[_0x5a86ab(0x34f)]?.[_0x5a86ab(0x692)]&&await this[_0x5a86ab(0x8dd)](_0x60dd05),_0xd64180[_0x5a86ab(0x8b0)](_0x2d66c0[_0x5a86ab(0x38b)],{'type':_0x5a86ab(0x246),'label':this[_0x5a86ab(0x3fc)],'nodeId':this['localNode'][_0x5a86ab(0x686)](),'nodeType':this[_0x5a86ab(0x71d)][_0x5a86ab(0x689)],'clusterId':this[_0x5a86ab(0x5e2)],'kind':_0x981fb5[_0x5a86ab(0x868)]['Folder'],'path':_0x3820d2}),this[_0x5a86ab(0x30f)]+=0x1,this[_0x5a86ab(0x5d4)]();}catch(_0x14652c){if(_0x14652c instanceof _0xd907de)throw new _0x3748ee(_0x2a0ddc[_0x5a86ab(0x3c6)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x3748ee(_0x2a0ddc[_0x5a86ab(0x680)],_0x5a86ab(0x5e9)+_0x3820d2);}}async[_0xe992e3(0x81f)](_0x5e3914,_0x493205){const _0x24c6fc=_0xe992e3;try{const _0x4ef3a0=(0x0,_0x2860a6['v4'])(),_0x2d0c24=this[_0x24c6fc(0xa88)],_0x34055e={'payloadType':_0x535a1e[_0x24c6fc(0x97f)],'action':_0x5d9d32[_0x24c6fc(0x8a5)],'id':_0x4ef3a0,'parentId':_0x2d0c24,'path':_0x5e3914,'newPath':_0x493205};await this['publishTransaction'](_0x34055e);const _0x5dc1c2=await this['moveObject'](_0x5e3914,_0x493205);!0x0!==this[_0x24c6fc(0x34f)]?.[_0x24c6fc(0x692)]&&await this[_0x24c6fc(0x8dd)](_0x34055e),_0xd64180[_0x24c6fc(0x8b0)](_0x2d66c0[_0x24c6fc(0x38b)],{'type':_0x24c6fc(0x436),'label':this['label'],'nodeId':this[_0x24c6fc(0x71d)][_0x24c6fc(0x686)](),'nodeType':this[_0x24c6fc(0x71d)][_0x24c6fc(0x689)],'clusterId':this['clusterId'],'kind':_0x5dc1c2,'path':_0x5e3914,'newPath':_0x493205}),this[_0x24c6fc(0x30f)]+=0x1,this['sendStats']();}catch(_0xb0dfd4){if(_0xb0dfd4 instanceof _0xd907de)throw new _0x3748ee(_0x2a0ddc[_0x24c6fc(0x3c6)],_0x24c6fc(0x98c));throw new _0x3748ee(_0x2a0ddc[_0x24c6fc(0x680)],_0x24c6fc(0x95f)+_0x5e3914);}}async['handleTransactionPayload'](_0x44938f,_0x42895b=!0x1){const _0x517e25=_0xe992e3;if(this['lastTransactionId']&&_0x44938f[_0x517e25(0x921)]!==this[_0x517e25(0xa88)]&&_0x44938f['id']!==this[_0x517e25(0xa88)]){if(!_0x44938f[_0x517e25(0x921)])throw new _0xd907de(_0xd907de[_0x517e25(0x386)][_0x517e25(0x5a7)]);this[_0x517e25(0x5d7)][_0x517e25(0x888)](_0x44938f[_0x517e25(0x921)],_0x44938f);}else{try{await this[_0x517e25(0x45a)](_0x44938f,_0x42895b);}catch(_0x43c35d){}await this[_0x517e25(0x995)](_0x44938f['id']),await this[_0x517e25(0x42a)](_0x44938f['id'],_0x42895b);}}async[_0xe992e3(0x45a)](_0x50fad4,_0x238acd=!0x1){const _0x4d7fd7=_0xe992e3;switch(_0x50fad4[_0x4d7fd7(0x1af)]){case _0x5d9d32[_0x4d7fd7(0x653)]:await this[_0x4d7fd7(0x171)](_0x50fad4);break;case _0x5d9d32[_0x4d7fd7(0x1c6)]:await this['handleFolderCreate'](_0x50fad4);break;case _0x5d9d32[_0x4d7fd7(0x8a5)]:await this[_0x4d7fd7(0x397)](_0x50fad4,_0x238acd);break;case _0x5d9d32[_0x4d7fd7(0x91c)]:await this[_0x4d7fd7(0x8e4)](_0x50fad4,_0x238acd);break;default:throw new _0xd907de(_0xd907de[_0x4d7fd7(0x386)][_0x4d7fd7(0x5a7)],{'payload':_0x50fad4});}}async['processPendingSyncTransactions'](_0xd17bc5,_0x3882a4=!0x1){const _0x51b603=_0xe992e3;if(this[_0x51b603(0x5d7)]['has'](_0xd17bc5)){const _0x316405=this[_0x51b603(0x5d7)][_0x51b603(0x6ab)](_0xd17bc5);this[_0x51b603(0x5d7)][_0x51b603(0x5eb)](_0xd17bc5),await this[_0x51b603(0x651)](_0x316405,_0x3882a4);}}async[_0xe992e3(0x25c)](_0x520dee){const _0x2e06a8=_0xe992e3;switch(_0x520dee[_0x2e06a8(0x1af)]){case _0x5d9d32[_0x2e06a8(0x8e2)]:return this[_0x2e06a8(0x9cc)](_0x520dee);case _0x5d9d32[_0x2e06a8(0x806)]:return this['handleFileRequestAnswer'](_0x520dee);case _0x5d9d32[_0x2e06a8(0x4f0)]:return this[_0x2e06a8(0x9ae)](_0x520dee);case _0x5d9d32['RequestFileWrite']:return this[_0x2e06a8(0x171)](_0x520dee);default:throw new _0xd907de(_0xd907de[_0x2e06a8(0x386)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x520dee});}}async[_0xe992e3(0x171)](_0x4c3b69,_0x18104f=0x0){const _0x29554b=_0xe992e3,_0x3c43b1=_0x5c3d3c(_0x4c3b69[_0x29554b(0x79f)],_0x4c3b69['name']);if(!_0x4c3b69[_0x29554b(0x9a6)]||void 0x0===_0x4c3b69[_0x29554b(0x369)]||!_0x4c3b69['total'])return this[_0x29554b(0x19b)][_0x29554b(0x5eb)](_0x3c43b1),void await this['createPendingFileWrite'](_0x4c3b69[_0x29554b(0x758)],_0x4c3b69[_0x29554b(0x79f)],{'checksum':_0x4c3b69[_0x29554b(0x262)],'skipEncryption':_0x4c3b69[_0x29554b(0x303)]});if(this[_0x29554b(0x19b)]['has'](_0x3c43b1)){const _0x58469f=this[_0x29554b(0x19b)]['get'](_0x3c43b1);_0x58469f['checksum']!==_0x4c3b69[_0x29554b(0x262)]&&(_0x58469f[_0x29554b(0x50d)]?.[_0x29554b(0x1c9)](),this[_0x29554b(0x19b)][_0x29554b(0x5eb)](_0x3c43b1));}if(!this['fileChunks'][_0x29554b(0x64b)](_0x3c43b1)){try{await this[_0x29554b(0x655)][_0x29554b(0x5f9)](_0x3c43b1);}catch(_0x2d915e){}try{const _0x4b4b32=this['syncContent']?await this['objectStoreConnector'][_0x29554b(0x496)](_0x3c43b1,{'skipEncryption':_0x4c3b69['skipEncryption']}):void 0x0,_0x3635d6={'chunksReceived':_0x4c3b69[_0x29554b(0x3b4)]??0x0,'bytesReceived':0x0,'stream':_0x4b4b32,'checksum':_0x4c3b69[_0x29554b(0x262)]};this[_0x29554b(0x19b)][_0x29554b(0x888)](_0x3c43b1,_0x3635d6),await this['createPendingFileWrite'](_0x4c3b69[_0x29554b(0x758)],_0x4c3b69[_0x29554b(0x79f)],{'checksum':_0x4c3b69['checksum'],'skipEncryption':_0x4c3b69[_0x29554b(0x303)]});}catch(_0x1f309c){}}const _0x44042a=this[_0x29554b(0x19b)][_0x29554b(0x6ab)](_0x3c43b1);if(_0x4c3b69[_0x29554b(0x262)]!==_0x44042a[_0x29554b(0x262)])return;if(this['setPendingFileSyncingPayload'](_0x4c3b69,_0x3c43b1),this[_0x29554b(0x9db)]){if(!_0x44042a[_0x29554b(0x50d)])throw new _0xd907de(_0xd907de[_0x29554b(0x386)][_0x29554b(0x5a7)],{'message':_0x29554b(0x2ab)});let _0xfa116e=_0x44042a[_0x29554b(0x51f)];if(_0x4c3b69[_0x29554b(0x369)]!==_0xfa116e){if(_0xfa116e>_0x4c3b69['index'])return;const _0x37e857=0x1000;if(_0x4c3b69['index']>_0xfa116e+_0x37e857)return;if(_0x44042a[_0x29554b(0x7c3)]||(_0x44042a['bufferedChunks']=[]),_0x44042a[_0x29554b(0x7c3)][_0x29554b(0x756)]>0x4000)throw this[_0x29554b(0x19b)]['delete'](_0x3c43b1),new _0xd907de(_0xd907de[_0x29554b(0x386)][_0x29554b(0x5a7)],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x44042a[_0x29554b(0x7c3)]['push'](_0x4c3b69);}try{_0x44042a[_0x29554b(0x51f)]+=0x1,_0x44042a[_0x29554b(0x5d0)]+=_0x4c3b69[_0x29554b(0x9a6)][_0x29554b(0x6bc)],await _0x44042a[_0x29554b(0x50d)][_0x29554b(0x35b)](_0x4c3b69[_0x29554b(0x9a6)]);}catch(_0x475444){if(console[_0x29554b(0x77b)](_0x29554b(0x746),_0x475444),_0x18104f>0x3)throw this[_0x29554b(0x19b)]['delete'](_0x3c43b1),console['error'](_0x29554b(0x709),_0x475444),new _0xd907de(_0xd907de[_0x29554b(0x386)][_0x29554b(0x5a7)],{'message':_0x29554b(0x709)});return this[_0x29554b(0x171)](_0x4c3b69,_0x18104f+0x1);}}try{await this[_0x29554b(0x406)](_0x44042a,_0x4c3b69[_0x29554b(0x369)]+0x1);}catch(_0x55fbb2){throw this[_0x29554b(0x19b)]['delete'](_0x3c43b1),_0x55fbb2;}if(this[_0x29554b(0x19b)][_0x29554b(0x888)](_0x3c43b1,_0x44042a),_0x44042a[_0x29554b(0x51f)]<_0x4c3b69[_0x29554b(0x29c)])return;await this['deleteFileChunks'](_0x3c43b1),this[_0x29554b(0x9db)]&&(await this['deletePendingFile'](_0x4c3b69),_0xd64180[_0x29554b(0x8b0)](_0x2d66c0['ObjectStorage'],{'type':_0x29554b(0x6a5),'label':this[_0x29554b(0x3fc)],'nodeId':this[_0x29554b(0x71d)]['getId'](),'nodeType':this[_0x29554b(0x71d)][_0x29554b(0x689)],'clusterId':this[_0x29554b(0x5e2)],'kind':_0x981fb5[_0x29554b(0x868)][_0x29554b(0x9d1)],'path':_0x4c3b69['path'],'fileName':_0x4c3b69[_0x29554b(0x758)],'fileType':_0x4c3b69[_0x29554b(0x689)],'size':_0x44042a[_0x29554b(0x5d0)]}));const _0x28c377=this[_0x29554b(0x24a)][_0x29554b(0x6ab)](_0x4c3b69[_0x29554b(0x79f)])??[];for(const _0x57b4bf of _0x28c377)await this[_0x29554b(0x45a)](_0x57b4bf);this[_0x29554b(0x24a)][_0x29554b(0x5eb)](_0x4c3b69[_0x29554b(0x79f)]),this[_0x29554b(0x64e)][_0x29554b(0x246)]({'event':_0x981fb5[_0x29554b(0x853)][_0x29554b(0x653)],'payload':{'file':{'kind':_0x981fb5[_0x29554b(0x868)][_0x29554b(0x9d1)],'path':_0x4c3b69[_0x29554b(0x79f)],'type':_0x4c3b69['type'],'size':_0x44042a['bytesReceived'],'name':_0x4c3b69[_0x29554b(0x758)],'pathName':_0x3c43b1,'status':this[_0x29554b(0x9db)]?_0x981fb5[_0x29554b(0x86e)]['Synced']:_0x981fb5[_0x29554b(0x86e)][_0x29554b(0x521)]}}}),this['sendStats']();}async[_0xe992e3(0x406)](_0x24e553,_0x44e80e){const _0x2dab6b=_0xe992e3,_0xfaee1a=_0x24e553[_0x2dab6b(0x50d)];let _0x27b07f=0x0;for(;_0x24e553['bufferedChunks']&&_0x24e553['bufferedChunks'][_0x2dab6b(0x756)]>0x0;){const _0xc61fe6=_0x24e553[_0x2dab6b(0x7c3)][_0x2dab6b(0xa57)](_0x4c2021=>_0x4c2021[_0x2dab6b(0x369)]===_0x44e80e+0x1);if(!_0xc61fe6)break;_0x24e553[_0x2dab6b(0x7c3)]=_0x24e553['bufferedChunks'][_0x2dab6b(0x1ee)](_0x303db8=>_0x303db8[_0x2dab6b(0x369)]!==_0x44e80e+0x1);try{await _0xfaee1a[_0x2dab6b(0x35b)](_0xc61fe6[_0x2dab6b(0x9a6)]),_0x44e80e++;}catch(_0x112376){if(console['error'](_0x2dab6b(0x6d4),_0x112376),_0x27b07f>0x3)throw console[_0x2dab6b(0x77b)](_0x2dab6b(0xa01),_0x112376),new _0xd907de(_0xd907de[_0x2dab6b(0x386)][_0x2dab6b(0x5a7)],{'message':_0x2dab6b(0xa01)});_0x27b07f++;continue;}_0x24e553[_0x2dab6b(0x51f)]+=0x1,_0x24e553[_0x2dab6b(0x5d0)]+=_0xc61fe6['data'][_0x2dab6b(0x6bc)];}}async[_0xe992e3(0x8eb)](_0x336442){const _0x64a761=_0xe992e3;await this[_0x64a761(0x655)][_0x64a761(0x5d2)](_0x336442[_0x64a761(0x79f)]);const [_0x34e91b,_0x20eff8]=_0x5a9201(_0x336442['path']);this[_0x64a761(0x64e)]['publish']({'event':_0x981fb5[_0x64a761(0x853)][_0x64a761(0x1c6)],'payload':{'folder':{'kind':_0x981fb5[_0x64a761(0x868)][_0x64a761(0x4d2)],'name':_0x20eff8,'path':_0x34e91b,'pathName':_0x336442[_0x64a761(0x79f)]}}});}async[_0xe992e3(0x8e4)](_0x5f32c3,_0x1a2225=!0x1){const _0x9cc70b=_0xe992e3;if(!_0x1a2225&&!this[_0x9cc70b(0x18f)](_0x5f32c3))return;const _0x4f0cbf=await this[_0x9cc70b(0x5f9)](_0x5f32c3['path']),[_0x13b700,_0x4b4d8c]=_0x5a9201(_0x5f32c3[_0x9cc70b(0x79f)]);this[_0x9cc70b(0x64e)][_0x9cc70b(0x246)]({'event':_0x4f0cbf===_0x981fb5[_0x9cc70b(0x868)]['Folder']?_0x981fb5[_0x9cc70b(0x853)]['FolderDelete']:_0x981fb5[_0x9cc70b(0x853)]['FileDelete'],'payload':{'name':_0x4b4d8c,'path':_0x13b700,'pathName':_0x5f32c3[_0x9cc70b(0x79f)]}}),this[_0x9cc70b(0x5d4)]();}async[_0xe992e3(0x397)](_0x337c5f,_0x2b52f9=!0x1){const _0x45079a=_0xe992e3;if(!_0x2b52f9&&!this[_0x45079a(0x18f)](_0x337c5f))return this[_0x45079a(0x414)][_0x45079a(0x888)](_0x337c5f['newPath'],this['pendingFilesRename'][_0x45079a(0x6ab)](_0x337c5f[_0x45079a(0x79f)])??_0x337c5f['path']),void this[_0x45079a(0x414)][_0x45079a(0x5eb)](_0x337c5f['path']);this[_0x45079a(0x414)]['delete'](_0x337c5f[_0x45079a(0x79f)]);const _0xbd02b=await this['objectStoreConnector'][_0x45079a(0x374)](_0x337c5f[_0x45079a(0x79f)],_0x337c5f[_0x45079a(0x307)]),[_0x47ad7f,_0x12f6b4]=_0x5a9201(_0x337c5f['path']),[_0xe01308,_0x38458c]=_0x5a9201(_0x337c5f[_0x45079a(0x307)]);this[_0x45079a(0x64e)][_0x45079a(0x246)]({'event':_0xbd02b===_0x981fb5[_0x45079a(0x868)][_0x45079a(0x4d2)]?_0x981fb5[_0x45079a(0x853)][_0x45079a(0x615)]:_0x981fb5[_0x45079a(0x853)][_0x45079a(0x40c)],'payload':{'name':_0x38458c,'path':_0xe01308,'pathName':_0x337c5f[_0x45079a(0x307)],'oldName':_0x12f6b4,'oldPath':_0x47ad7f,'oldPathName':_0x337c5f['path']}}),this['sendStats']();}[_0xe992e3(0x18f)](_0x14f75b){const _0x409764=_0xe992e3,_0x5778e4=this[_0x409764(0x414)][_0x409764(0x6ab)](_0x14f75b[_0x409764(0x79f)])??_0x14f75b[_0x409764(0x79f)];let _0x5a96e6=!0x1;for(const _0x5b2a8d of this[_0x409764(0x19b)][_0x409764(0x5a2)]())if(_0x5b2a8d[_0x409764(0x654)](_0x5778e4)){const _0xd9342=this['pendingFilesTransactions'][_0x409764(0x6ab)](_0x5b2a8d)??[];_0xd9342['push'](_0x14f75b),this[_0x409764(0x24a)][_0x409764(0x888)](_0x5b2a8d,_0xd9342),_0x5a96e6=!0x0;}return!_0x5a96e6;}async[_0xe992e3(0x308)](_0x289f2e){const _0xabaa04=_0xe992e3;if(!this[_0xabaa04(0x34f)]?.['standalone']){if(!_0x289f2e['id'])throw new _0xd907de(_0xd907de[_0xabaa04(0x386)][_0xabaa04(0x5a7)],{'message':'Missing\x20transaction\x20id'});if(_0x289f2e[_0xabaa04(0x921)]!==this[_0xabaa04(0xa88)])throw new _0xd907de(_0xd907de['codes'][_0xabaa04(0x7f9)]);await this[_0xabaa04(0x7ea)][_0xabaa04(0x957)](_0x289f2e,this['label']),await this[_0xabaa04(0x995)](_0x289f2e['id']);}}async[_0xe992e3(0x995)](_0x2d80d5){const _0x559995=_0xe992e3;this['lastTransactionId']=_0x2d80d5;const _0x49f560=new File([new Blob([this['lastTransactionId']])],_0x4b3de2,{'type':_0x559995(0x901)});await this[_0x559995(0x9c1)](_0x49f560,'/');}async[_0xe992e3(0x9cc)](_0x57c153){const _0x3338d5=_0xe992e3;try{const _0x594a73=await this['get'](_0x57c153['path']+'/'+_0x57c153[_0x3338d5(0x758)],{'skipEncryption':_0x57c153[_0x3338d5(0x303)]}),_0x323ba0=await _0x4bf693(_0x594a73);if(''!==_0x57c153['checksum']&&_0x323ba0!==_0x57c153[_0x3338d5(0x262)])return;_0x57c153[_0x3338d5(0x633)]=this['localNode']['getId'](),_0x57c153[_0x3338d5(0x1af)]=_0x5d9d32[_0x3338d5(0x806)],await this[_0x3338d5(0x8dd)](_0x57c153,[_0x57c153[_0x3338d5(0x3c8)]]);}catch(_0x1d3f5d){}}async['handleFileRequestAnswer'](_0x52b3ad){const _0x598900=_0xe992e3,_0x5b8085=_0x5c3d3c(_0x52b3ad['path'],_0x52b3ad['name']);if(!this['objectRequests']['has'](_0x5b8085))return;const _0x1d6380=this['objectRequests'][_0x598900(0x6ab)](_0x5b8085);_0x1d6380[_0x598900(0x1af)]=_0x5d9d32[_0x598900(0x4f0)];const _0x44bf5a=_0x52b3ad[_0x598900(0x633)];if(!_0x44bf5a)throw new _0xd907de(_0xd907de[_0x598900(0x386)]['ObjectStoreInvalidSyncMessage'],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this['objectRequests'][_0x598900(0x5eb)](_0x5b8085),this[_0x598900(0x9d0)][_0x598900(0x64b)](_0x44bf5a)||this[_0x598900(0x9d0)][_0x598900(0x888)](_0x44bf5a,new Map()),this[_0x598900(0x9d0)][_0x598900(0x6ab)](_0x44bf5a)[_0x598900(0x888)](_0x5b8085,[_0x1d6380,this[_0x598900(0xaf8)](_0x44bf5a,_0x5b8085)]),_0x1d6380['answererId']=_0x44bf5a,_0x1d6380[_0x598900(0x3b4)]=this[_0x598900(0x19b)]['get'](_0x5b8085)?.[_0x598900(0x51f)]??0x0,0x0===_0x1d6380['startIndex'])try{const [_0x1e6be5,_0x42eb3c]=await this[_0x598900(0x7b2)](_0x52b3ad[_0x598900(0x758)],_0x52b3ad['path'],_0x52b3ad[_0x598900(0x262)]);_0x1e6be5&&(_0x1d6380[_0x598900(0x3b4)]=_0x42eb3c);}catch(_0x1cb38f){}this[_0x598900(0x8dd)](_0x1d6380,[_0x44bf5a]);}async[_0xe992e3(0x9ae)](_0x358144){const _0x1078b0=_0xe992e3,_0x39da6c=_0x5c3d3c(_0x358144[_0x1078b0(0x79f)],_0x358144['name']),_0x56aeff=await this[_0x1078b0(0x6ab)](_0x39da6c,{'skipEncryption':_0x358144['skipEncryption']}),_0x1356d1={..._0x358144,'answererId':this[_0x1078b0(0x71d)][_0x1078b0(0x686)](),'action':_0x5d9d32[_0x1078b0(0x68f)],'startIndex':_0x358144[_0x1078b0(0x3b4)]??0x0};await this[_0x1078b0(0xa04)](_0x56aeff,_0x1356d1,[_0x358144[_0x1078b0(0x3c8)]]);}async[_0xe992e3(0xa04)](_0x4d0c8d,_0x582922,_0x387342){let _0x31833e,_0x3fdd11;const _0x5e67ce=new Promise(async(_0x1ffaad,_0xc7b247)=>{_0x31833e=_0x1ffaad,_0x3fdd11=_0xc7b247;});return((async()=>{const _0x1f7e85=a0_0xca1a,_0x3a1607=Math['ceil'](_0x4d0c8d[_0x1f7e85(0x73d)]/_0x505ed0);let _0x18e5ed=_0x582922[_0x1f7e85(0x3b4)]??0x0;const _0x43290f=_0x5c3d3c(_0x582922['path'],_0x582922[_0x1f7e85(0x758)]);this[_0x1f7e85(0x3c4)][_0x1f7e85(0x888)](_0x43290f,[!0x1,_0x5e67ce]);for await(const _0x55deb8 of async function*(_0x1f481c,_0xe31fbe=0x0,_0x4808b5){for await(const _0xab460a of _0x357ac2(_0x1f481c,_0xe31fbe,_0x4808b5))yield _0xab460a;}(_0x4d0c8d,_0x18e5ed,this['waitForArrayBufferSize'])){const [_0x2bd27b]=this[_0x1f7e85(0x3c4)][_0x1f7e85(0x6ab)](_0x43290f)??[];if(_0x2bd27b)return this[_0x1f7e85(0x3c4)][_0x1f7e85(0x5eb)](_0x43290f),void _0x3fdd11(new Error(_0x1f7e85(0x497)));if(this['pendingFilesTransactions'][_0x1f7e85(0x64b)](_0x43290f)){const _0x57c88a=this['pendingFilesTransactions'][_0x1f7e85(0x6ab)](_0x43290f);for(const _0x530fb0 of _0x57c88a)if(_0x530fb0[_0x1f7e85(0x1af)]===_0x5d9d32[_0x1f7e85(0x653)]||_0x530fb0[_0x1f7e85(0x1af)]===_0x5d9d32[_0x1f7e85(0x91c)])return;}const _0xac6dd={..._0x582922,'type':_0x4d0c8d['type'],'data':_0x55deb8,'index':_0x18e5ed,'total':_0x3a1607};this[_0x1f7e85(0x8dd)](_0xac6dd,_0x387342),_0x18e5ed++;}const _0xa95455=setInterval(async()=>{const _0x23990b=_0x1f7e85;await this[_0x23990b(0x353)]()>0x0||(clearInterval(_0xa95455),_0x31833e());});this[_0x1f7e85(0x3c4)][_0x1f7e85(0x5eb)](_0x43290f);})()),_0x5e67ce;}async['deletePendingFile'](_0x333bab){const _0x88e071=_0xe992e3;try{const _0x1bffd6=_0x5c3d3c(_0x333bab[_0x88e071(0x79f)],_0x333bab['name']),_0x384d5b=_0x1bffd6+_0x5172dc;await this[_0x88e071(0x5f9)](_0x384d5b);const [,_0x1529c1]=this[_0x88e071(0x9d0)]['get'](_0x333bab['answererId'])?.[_0x88e071(0x6ab)](_0x1bffd6)??[];_0x1529c1&&(clearTimeout(_0x1529c1),this['pendingFilesSyncing'][_0x88e071(0x6ab)](_0x333bab['answererId'])['delete'](_0x1bffd6));}catch(_0x44fe2f){}0x0===this[_0x88e071(0x9d0)][_0x88e071(0x6ab)](_0x333bab[_0x88e071(0x633)])?.[_0x88e071(0x73d)]&&this[_0x88e071(0x9d0)]['delete'](_0x333bab[_0x88e071(0x633)]),0x0===this[_0x88e071(0x9d0)][_0x88e071(0x73d)]&&0x0===this[_0x88e071(0xb12)][_0x88e071(0x73d)]&&this[_0x88e071(0x473)]();}async[_0xe992e3(0xa67)](){const _0x5afe76=_0xe992e3;try{const _0xcf350e=await this[_0x5afe76(0x7ea)]['getTransactions'](this[_0x5afe76(0x3fc)],this['lastTransactionId']);for(const _0x4c93d7 of _0xcf350e)await this[_0x5afe76(0x651)](_0x4c93d7,!0x0);}catch(_0x1fd1ac){if(_0x1fd1ac instanceof _0xd907de&&_0x1fd1ac[_0x5afe76(0x14f)]===_0xd907de[_0x5afe76(0x386)][_0x5afe76(0x332)]){await this[_0x5afe76(0x655)][_0x5afe76(0x5f9)](_0x4b3de2),delete this[_0x5afe76(0xa88)];try{const _0x1ea7a3=await this[_0x5afe76(0x655)][_0x5afe76(0x135)]('/',!0x1);for(const _0x573653 of _0x1ea7a3)await this[_0x5afe76(0x655)][_0x5afe76(0x5f9)](_0x573653[_0x5afe76(0x170)]);}catch(_0x3689b0){}return await this['syncTransactions']();}throw _0x1fd1ac;}}async[_0xe992e3(0x322)](){const _0x4be8ae=_0xe992e3,_0x1e2ba3=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x50e475=async _0x5b8206=>{const _0x50ba3e=a0_0xca1a;for(const _0x511fef of _0x5b8206){if(_0x511fef[_0x50ba3e(0xa25)]===_0x981fb5[_0x50ba3e(0x868)][_0x50ba3e(0x4d2)]){_0x511fef[_0x50ba3e(0x9c8)]&&_0x511fef[_0x50ba3e(0x9c8)][_0x50ba3e(0x756)]>0x0&&await _0x50e475(_0x511fef['entries']);continue;}if(_0x511fef[_0x50ba3e(0x716)]!==_0x981fb5[_0x50ba3e(0x86e)][_0x50ba3e(0x521)])continue;const _0x25b260=await this['get'](_0x511fef[_0x50ba3e(0x170)]+_0x5172dc),_0x29e207=JSON[_0x50ba3e(0xa0d)](await _0x25b260[_0x50ba3e(0x7e4)]()),_0x16bd88=_0x511fef[_0x50ba3e(0x758)][_0x50ba3e(0x9d7)](_0x5172dc,''),_0x166a0a={'payloadType':_0x535a1e['Request'],'action':_0x5d9d32[_0x50ba3e(0x8e2)],'sourceId':this[_0x50ba3e(0x71d)][_0x50ba3e(0x686)](),'type':'','path':_0x511fef[_0x50ba3e(0x79f)],'name':_0x16bd88,'checksum':_0x29e207[_0x50ba3e(0x262)],'skipEncryption':_0x29e207[_0x50ba3e(0x303)]},_0x317ed0=_0x5c3d3c(_0x511fef[_0x50ba3e(0x79f)],_0x16bd88);this[_0x50ba3e(0xb12)][_0x50ba3e(0x888)](_0x317ed0,_0x166a0a);}};await _0x50e475(_0x1e2ba3),0x0===this[_0x4be8ae(0xb12)][_0x4be8ae(0x73d)]&&0x0===this['pendingFilesSyncing']['size']&&this[_0x4be8ae(0x473)]();}async[_0xe992e3(0x8b9)](_0x14cceb,_0x2b0598,_0x14a09f){const _0x569896=_0xe992e3,_0x2991be=new File([new Blob([JSON['stringify'](_0x14a09f)])],''+_0x14cceb+_0x5172dc,{'type':_0x569896(0x901)});await this[_0x569896(0x9c1)](_0x2991be,_0x2b0598);}async['checkExistingPendingFileContent'](_0x130e8f,_0x57f99a,_0x38ae20){const _0x3451fa=_0xe992e3;try{const _0x537238=_0x5c3d3c(_0x57f99a,_0x130e8f),_0x4867d4=_0x537238+_0x5172dc,_0x2615da=await this[_0x3451fa(0x655)][_0x3451fa(0x6ab)](_0x4867d4),{checksum:_0x11bbbf,skipEncryption:_0x5d63fe}=JSON['parse'](await _0x2615da[_0x3451fa(0x7e4)]()),_0x225847=(await this[_0x3451fa(0x655)][_0x3451fa(0x6ab)](_0x537238,{'skipEncryption':_0x5d63fe}))[_0x3451fa(0x73d)];return _0x11bbbf===_0x38ae20&&_0x225847%_0x505ed0==0x0?[!0x0,Math[_0x3451fa(0x327)](_0x225847/_0x505ed0)]:(await this[_0x3451fa(0x655)][_0x3451fa(0x5f9)](_0x537238),[!0x1,0x0]);}catch(_0x25579a){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x3156eb,_0x216875){const _0x1fb62b=_0xe992e3,[_0x3be144,_0xee0003]=this['pendingFilesSyncing'][_0x1fb62b(0x6ab)](_0x3156eb)?.['get'](_0x216875)??[];return _0xee0003&&clearTimeout(_0xee0003),setTimeout(()=>{const _0x18b599=_0x1fb62b,[_0x56622b,_0x114929]=this[_0x18b599(0x9d0)][_0x18b599(0x6ab)](_0x3156eb)[_0x18b599(0x6ab)](_0x216875);this[_0x18b599(0x694)](_0x56622b,_0x114929);},0x927c0);}async[_0xe992e3(0x694)](_0x2ea6ba,_0x51297f){const _0x16aaba=_0xe992e3;clearTimeout(_0x51297f),_0x2ea6ba['action']=_0x5d9d32['RequestFile'],this[_0x16aaba(0xb12)][_0x16aaba(0x888)](_0x5c3d3c(_0x2ea6ba[_0x16aaba(0x79f)],_0x2ea6ba[_0x16aaba(0x758)]),_0x2ea6ba),this['send'](_0x2ea6ba);}[_0xe992e3(0xa3d)](_0x433c0d,_0x252cbd){const _0x4cbb11=_0xe992e3;if(!this['syncContent'])return;this[_0x4cbb11(0x9d0)][_0x4cbb11(0x64b)](_0x433c0d[_0x4cbb11(0x633)])||this[_0x4cbb11(0x9d0)]['set'](_0x433c0d['answererId'],new Map());const [_0x204c17]=this[_0x4cbb11(0x9d0)][_0x4cbb11(0x6ab)](_0x433c0d[_0x4cbb11(0x633)])[_0x4cbb11(0x6ab)](_0x252cbd)??[{'payloadType':_0x535a1e[_0x4cbb11(0xa8b)],'action':_0x5d9d32['RequestFile'],'sourceId':this['localNode']['getId'](),'type':_0x433c0d[_0x4cbb11(0x689)],'name':_0x433c0d[_0x4cbb11(0x758)],'path':_0x433c0d[_0x4cbb11(0x79f)],'skipEncryption':_0x433c0d[_0x4cbb11(0x303)],'checksum':_0x433c0d['checksum'],'answererId':_0x433c0d[_0x4cbb11(0x633)]}];this[_0x4cbb11(0x9d0)][_0x4cbb11(0x6ab)](_0x433c0d[_0x4cbb11(0x633)])[_0x4cbb11(0x888)](_0x252cbd,[_0x204c17,this[_0x4cbb11(0xaf8)](_0x433c0d[_0x4cbb11(0x633)],_0x252cbd)]);}async['writeFile'](_0x344631,_0x370a94,_0x41bf57){const _0x427d2e=_0xe992e3;this[_0x427d2e(0x4fd)]&&(this['filesSynced']+=0x1),await this[_0x427d2e(0x655)][_0x427d2e(0x9c1)](_0x344631,_0x370a94,_0x41bf57);}async['deleteObject'](_0x5b22cb){const _0x46bed7=_0xe992e3;try{const _0x372129=await this[_0x46bed7(0x655)]['deleteObject'](_0x5b22cb);if(!_0x5b22cb[_0x46bed7(0x273)](_0x5172dc))try{await this[_0x46bed7(0x655)][_0x46bed7(0x5f9)](_0x5b22cb+_0x5172dc);}catch(_0x39c264){}return this[_0x46bed7(0x4fd)]&&_0x372129===_0x981fb5[_0x46bed7(0x868)]['File']&&(this['filesSynced']+=0x1),_0x372129;}catch(_0x2e6031){return await this[_0x46bed7(0x655)][_0x46bed7(0x5f9)](_0x5b22cb+_0x5172dc);}}async[_0xe992e3(0x374)](_0xf092a0,_0x11fa52){const _0x5918bd=_0xe992e3;try{const _0x5305e7=await this[_0x5918bd(0x655)][_0x5918bd(0x374)](_0xf092a0,_0x11fa52);if(!_0xf092a0[_0x5918bd(0x273)](_0x5172dc))try{await this[_0x5918bd(0x655)][_0x5918bd(0x374)](_0xf092a0+_0x5172dc,_0x11fa52+_0x5172dc);}catch(_0x2a798f){}return _0x5305e7;}catch(_0x1defb1){return await this['objectStoreConnector'][_0x5918bd(0x374)](_0xf092a0+_0x5172dc,_0x11fa52+_0x5172dc);}}[_0xe992e3(0x5d4)](){const _0x2efd51=_0xe992e3;this[_0x2efd51(0x203)]&&clearTimeout(this['debounceStats']),this[_0x2efd51(0x203)]=setTimeout(async()=>{const _0x23f801=_0x2efd51;delete this[_0x23f801(0x203)];const _0x555755=await this[_0x23f801(0x655)]['calculateSize']('/');this[_0x23f801(0x587)]?.[_0x23f801(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79[_0x23f801(0x465)],'label':this[_0x23f801(0x3fc)],'stats':{'timestamp':Date['now'](),'storage':_0x555755,'messagesSent':this[_0x23f801(0x30c)],'messagesReceived':this[_0x23f801(0x97d)],'bytesSent':this[_0x23f801(0x97c)],'bytesReceived':this[_0x23f801(0x5d0)],'writes':this['writes'],'reads':this[_0x23f801(0x60a)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0xd64180[_0x23f801(0x835)](_0x2d66c0[_0x23f801(0x38b)],_0x23f801(0x421)+this[_0x23f801(0x5e2)]+'ccc'+this['label'],_0x555755);},_0x411ded);}async[_0xe992e3(0x591)](_0x158aa0){const _0x1cd1d3=_0xe992e3;try{return await this[_0x1cd1d3(0x6ab)](_0x158aa0),!0x0;}catch(_0x3f016e){return!0x1;}}async['deleteFileChunks'](_0x13d198){const _0x4bfa57=_0xe992e3;if(!this[_0x4bfa57(0x19b)]['has'](_0x13d198))return;const _0x5b0582=this[_0x4bfa57(0x19b)][_0x4bfa57(0x6ab)](_0x13d198);if(_0x5b0582[_0x4bfa57(0x50d)])try{await _0x5b0582[_0x4bfa57(0x50d)][_0x4bfa57(0x1c9)]();}catch(_0x4eee08){console[_0x4bfa57(0x77b)](_0x4bfa57(0x624),_0x4eee08);}this[_0x4bfa57(0x19b)]['delete'](_0x13d198);}}class _0x33f493 extends _0x430dee{[_0xe992e3(0x71d)];['clusterId'];[_0xe992e3(0x980)]=new Map();[_0xe992e3(0x203)];constructor(_0x4f98a5,_0x8848d1,_0x4b78be){const _0x384cbb=_0xe992e3;if(_0x384cbb(0xab7)!=typeof _0x8848d1)throw new _0x3748ee(_0x2a0ddc[_0x384cbb(0x900)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x4f98a5,_0x8848d1),this[_0x384cbb(0x71d)]=_0x4f98a5,this[_0x384cbb(0x5e2)]=_0x4b78be,this['sendStats']();}['reset'](){this['sendStats']();}[_0xe992e3(0x437)](){const _0x14b634=_0xe992e3;return _0x981fb5[_0x14b634(0x4c9)]['PubSub'];}[_0xe992e3(0x246)](_0x2df267,_0x32617e){const _0x5dd1c8=_0xe992e3;_0xd64180['log'](_0x3c5ddd[_0x5dd1c8(0x1f4)],_0x5dd1c8(0x160),this[_0x5dd1c8(0x71d)][_0x5dd1c8(0x686)](),_0x2df267,_0x32617e),_0xd64180[_0x5dd1c8(0x8b0)](_0x2d66c0['PubSub'],{'type':_0x5dd1c8(0x246),'label':this[_0x5dd1c8(0x3fc)],'nodeId':this[_0x5dd1c8(0x71d)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x5dd1c8(0x5e2)],'remoteIds':_0x32617e??[],'contentType':_0x2df267 instanceof File?_0x981fb5[_0x5dd1c8(0x4c9)]['File']:_0x981fb5['ContentType']['Data'],'size':_0x2df267 instanceof File?_0x2df267[_0x5dd1c8(0x73d)]:JSON[_0x5dd1c8(0x719)](_0x2df267)[_0x5dd1c8(0x756)]}),this[_0x5dd1c8(0x5d4)](),this['send'](_0x2df267,_0x32617e);}[_0xe992e3(0x60c)](_0x28ec6b,_0x11e8cd){const _0x1cc72d=_0xe992e3;if(this[_0x1cc72d(0x980)]['has'](_0x28ec6b))throw new _0x3748ee(_0x2a0ddc[_0x1cc72d(0x621)],_0x1cc72d(0x7df));this[_0x1cc72d(0x980)]['set'](_0x28ec6b,this[_0x1cc72d(0x399)]((_0x1603a6,_0x46c511)=>{const _0x533748=_0x1cc72d;'data'===_0x28ec6b&&_0x46c511 instanceof File||!('file'!==_0x28ec6b||_0x46c511 instanceof File)||(_0xd64180[_0x533748(0x991)](_0x3c5ddd[_0x533748(0x1f4)],_0x533748(0x3ae),this[_0x533748(0x71d)]['getId'](),_0x1603a6,_0x46c511),_0xd64180['logServiceEvent'](_0x2d66c0[_0x533748(0x1f4)],{'type':_0x533748(0x60c),'label':this[_0x533748(0x3fc)],'nodeId':this[_0x533748(0x71d)][_0x533748(0x686)](),'nodeType':this[_0x533748(0x71d)][_0x533748(0x689)],'clusterId':this[_0x533748(0x5e2)],'remoteId':_0x1603a6,'contentType':_0x28ec6b,'size':_0x46c511 instanceof File?_0x46c511[_0x533748(0x73d)]:JSON['stringify'](_0x46c511)[_0x533748(0x756)]}),this[_0x533748(0x5d4)](),_0x11e8cd(_0x1603a6,_0x46c511));}));}[_0xe992e3(0x4c0)](_0x4540bf){const _0x50a46d=_0xe992e3;this[_0x50a46d(0x980)][_0x50a46d(0x6ab)](_0x4540bf)?.(),this[_0x50a46d(0x980)][_0x50a46d(0x5eb)](_0x4540bf);}['destroy'](){const _0x11fc0f=_0xe992e3;this[_0x11fc0f(0x980)][_0x11fc0f(0x558)](_0x1433e8=>_0x1433e8()),clearTimeout(this[_0x11fc0f(0x203)]),delete this[_0x11fc0f(0x203)],super[_0x11fc0f(0x551)]();}[_0xe992e3(0x1c9)](){const _0x4081d9=_0xe992e3;this[_0x4081d9(0x587)]?.[_0x4081d9(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x4081d9(0x52d)],'content':{'type':_0x26ec79[_0x4081d9(0xa43)],'label':this[_0x4081d9(0x3fc)]}});}[_0xe992e3(0x5d4)](){const _0x3c6841=_0xe992e3;this[_0x3c6841(0x203)]&&clearTimeout(this[_0x3c6841(0x203)]),this[_0x3c6841(0x203)]=setTimeout(()=>{const _0x567f8d=_0x3c6841;this['systemTopic']?.[_0x567f8d(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x567f8d(0x52d)],'content':{'type':_0x26ec79[_0x567f8d(0x94d)],'label':this['label'],'stats':{'timestamp':Date[_0x567f8d(0x559)](),'storage':0x0,'messagesSent':this[_0x567f8d(0x30c)],'messagesReceived':this[_0x567f8d(0x97d)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x567f8d(0x5d0)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x411ded);}}class _0x1bc3e0 extends _0x2c71fc{['localNode'];['internalId'];[_0xe992e3(0x8a8)];['clusterId'];[_0xe992e3(0x980)];[_0xe992e3(0x1dc)];[_0xe992e3(0x42d)];[_0xe992e3(0x155)]=new Map();[_0xe992e3(0x715)];[_0xe992e3(0x725)]=new Set();[_0xe992e3(0x5b9)];[_0xe992e3(0x13f)]=_0x5c724d();['trackEndedListeners']=new Map();constructor(_0x18fd79,_0x3578a5,_0x3de9d9,_0x2ea7b3,_0x451827,_0x1e46ec){const _0x13d99a=_0xe992e3;super(_0x3578a5,_0x3de9d9,new MediaStream()),this[_0x13d99a(0x71d)]=_0x18fd79,this[_0x13d99a(0x91f)]=_0x2ea7b3,this[_0x13d99a(0x8a8)]=_0x451827,this[_0x13d99a(0x5e2)]=_0x1e46ec,this[_0x13d99a(0xa35)]['getTracks']()[_0x13d99a(0x558)](_0x23a23d=>this[_0x13d99a(0x127)](_0x23a23d));}[_0xe992e3(0x551)](){const _0x4858c1=_0xe992e3;this['outgoingStreams'][_0x4858c1(0x73d)]>0x0&&(this[_0x4858c1(0x155)][_0x4858c1(0x558)](_0x5c99df=>{const _0x387416=_0x4858c1;_0x5c99df['unregisterSystemPublisher'](),_0x5c99df[_0x387416(0x551)]();}),this[_0x4858c1(0x155)]['clear']()),this[_0x4858c1(0x438)][_0x4858c1(0x558)](_0x15e41b=>_0x15e41b()),this[_0x4858c1(0xa35)][_0x4858c1(0x69e)]()[_0x4858c1(0x558)](_0x429b78=>this['mediaStream']['removeTrack'](_0x429b78)),this[_0x4858c1(0x42d)]&&(clearTimeout(this['updateDebounce']),delete this[_0x4858c1(0x42d)]),this[_0x4858c1(0x1dc)]?.(),super[_0x4858c1(0x551)]();}[_0xe992e3(0x450)](_0x434c4b){const _0x2de884=_0xe992e3;this[_0x2de884(0x980)]=_0x434c4b[_0x2de884(0x60c)](({content:_0x3ebe6b})=>{const _0x47c97e=_0x2de884;switch(_0x3ebe6b[_0x47c97e(0x1af)]){case _0x45c646[_0x47c97e(0xaac)]:if(_0xd64180[_0x47c97e(0x991)](_0x3c5ddd[_0x47c97e(0x173)],_0x47c97e(0x7c1),this[_0x47c97e(0x71d)][_0x47c97e(0x686)](),this[_0x47c97e(0x5b9)]),_0x3ebe6b[_0x47c97e(0x50d)]['id']!==this['internalId']||_0x3ebe6b[_0x47c97e(0x5b9)]!==this[_0x47c97e(0x5b9)])return;this['removeTrack'](_0x3ebe6b['track'][_0x47c97e(0xa25)]),this['mediaStream'][_0x47c97e(0x14d)](_0x3ebe6b[_0x47c97e(0xa8a)]);for(const [_0x4ecc16,_0x110330]of this[_0x47c97e(0x155)]['entries']())try{_0x110330[_0x47c97e(0x14d)](_0x3ebe6b[_0x47c97e(0xa8a)]);}catch(_0x46298b){_0x110330[_0x47c97e(0x551)](),this[_0x47c97e(0x155)][_0x47c97e(0x5eb)](_0x4ecc16);}this[_0x47c97e(0x127)](_0x3ebe6b[_0x47c97e(0xa8a)]),this[_0x47c97e(0x267)](),'video'===_0x3ebe6b['track'][_0x47c97e(0xa25)]&&this[_0x47c97e(0x715)]&&(this[_0x47c97e(0xa35)][_0x47c97e(0x43f)]?setTimeout(()=>this[_0x47c97e(0x715)]?.[_0x47c97e(0x685)](),0x0):setTimeout(()=>this[_0x47c97e(0x715)]?.[_0x47c97e(0x849)](),0x0),this['setupResizeHandler']());break;case _0x45c646[_0x47c97e(0x547)]:if(_0x3ebe6b['stream']['id']!==this[_0x47c97e(0x91f)]||_0x3ebe6b['providerId']!==this['providerId'])return;this[_0x47c97e(0x536)](_0x3ebe6b[_0x47c97e(0xa8a)][_0x47c97e(0xa25)]),this[_0x47c97e(0x715)]&&'video'===_0x3ebe6b[_0x47c97e(0xa8a)][_0x47c97e(0xa25)]&&(this['resizeHandler']?.(),this[_0x47c97e(0xa35)][_0x47c97e(0x69e)]()[_0x47c97e(0x756)]>0x0?this[_0x47c97e(0x715)][_0x47c97e(0x849)]():this[_0x47c97e(0x715)][_0x47c97e(0x524)]=null);}});}[_0xe992e3(0x630)](){const _0x5cf8ca=_0xe992e3;this[_0x5cf8ca(0x980)]?.(),this['trackEndedListeners'][_0x5cf8ca(0x558)](_0x594bed=>_0x594bed()),delete this['unsubscribeHandler'];}[_0xe992e3(0x4cb)](){const _0x4407b1=_0xe992e3;return this[_0x4407b1(0x91f)];}['setInternalId'](_0x3bd335){const _0x1ada86=_0xe992e3;this[_0x1ada86(0x91f)]=_0x3bd335;}[_0xe992e3(0xa78)](){return this['availableTrackKinds'];}[_0xe992e3(0x4fe)](_0x4eac17){const _0x59337e=_0xe992e3;for(const _0x4761b6 of _0x4eac17||this[_0x59337e(0x8a8)])if(!this[_0x59337e(0xa35)][_0x59337e(0x69e)]()[_0x59337e(0xa57)](_0x24bf71=>_0x24bf71[_0x59337e(0xa25)]===_0x4761b6))return!0x1;return!0x0;}['getResolution'](){const _0x28d943=_0xe992e3;let _0xa7819b={'width':0x0,'height':0x0};const _0x2700a2=this[_0x28d943(0xa35)][_0x28d943(0x8bc)]();if(_0x2700a2['length']>0x0){const _0x317b4e=_0x2700a2[0x0][_0x28d943(0x8c0)]();_0x317b4e[_0x28d943(0x967)]&&_0x317b4e[_0x28d943(0x947)]&&(_0xa7819b={'width':_0x317b4e['width'],'height':_0x317b4e[_0x28d943(0x947)]});}return _0xa7819b;}['isSubscribed'](_0x555047){const _0x5c1227=_0xe992e3;for(const _0xff9574 of _0x555047)if(!this[_0x5c1227(0x725)]['has'](_0xff9574))return!0x1;return!0x0;}['getShareableStream'](_0xac735d,_0x2e1d3e){const _0x462313=_0xe992e3;if(!this[_0x462313(0x155)][_0x462313(0x64b)](_0xac735d)){const _0x2dde5b=new _0x312ed8(this[_0x462313(0x584)],this[_0x462313(0x3fc)],this['mediaStream'],_0xac735d,_0x2e1d3e),_0x1ca7ac=_0x2dde5b[_0x462313(0xa7c)](()=>{const _0x3d329d=_0x462313;_0x1ca7ac(),this[_0x3d329d(0x155)]['get'](_0xac735d)?.[_0x3d329d(0x551)](),this[_0x3d329d(0x155)][_0x3d329d(0x5eb)](_0xac735d);});this[_0x462313(0x155)][_0x462313(0x888)](_0xac735d,_0x2dde5b),_0x2dde5b[_0x462313(0x4a5)](this[_0x462313(0x587)]);}return this[_0x462313(0x155)]['get'](_0xac735d);}[_0xe992e3(0x49e)](){return this['mediaStream']['id'];}[_0xe992e3(0x561)](){const _0xc0779c=_0xe992e3;return _0x981fb5[_0xc0779c(0x9f0)]['Default'];}[_0xe992e3(0x54e)](){const _0x1cc92b=_0xe992e3;return Array[_0x1cc92b(0x79e)](this['subscribedTracks']);}[_0xe992e3(0x60c)](_0x5d69ee){const _0x49037e=_0xe992e3;let _0x5003b2=[];if(_0x5d69ee){'object'!=typeof _0x5d69ee['video']||_0x5d69ee[_0x49037e(0x4dd)][_0x49037e(0x715)]instanceof HTMLVideoElement||!this[_0x49037e(0x715)]||(_0x5d69ee[_0x49037e(0x4dd)]={'renderElement':this[_0x49037e(0x715)]});try{(0x0,_0x981fb5[_0x49037e(0x35e)])(_0x5d69ee);}catch(_0x46c13f){throw new _0x3748ee(_0x2a0ddc[_0x49037e(0x755)],_0x49037e(0x40d));}_0x5d69ee['video']&&(_0x5003b2[_0x49037e(0xae7)](_0x49037e(0x4dd)),_0x49037e(0xae6)!=typeof _0x5d69ee[_0x49037e(0x4dd)]&&_0x5d69ee[_0x49037e(0x4dd)][_0x49037e(0x715)]&&(this[_0x49037e(0x715)]=_0x5d69ee[_0x49037e(0x4dd)]['renderElement'],_0x5d69ee[_0x49037e(0x4dd)]['maxResolution']||(_0x5d69ee[_0x49037e(0x4dd)]['maxResolution']={'width':this['renderElement'][_0x49037e(0x483)],'height':this[_0x49037e(0x715)][_0x49037e(0x22b)]}),delete _0x5d69ee[_0x49037e(0x4dd)]['renderElement'])),_0x5d69ee[_0x49037e(0x1fb)]&&_0x5003b2[_0x49037e(0xae7)](_0x49037e(0x1fb));}else _0x5003b2=this[_0x49037e(0xa78)]();this['isSubscribed'](_0x5003b2)||(_0x5003b2[_0x49037e(0x558)](_0x4936b4=>this['subscribedTracks'][_0x49037e(0x820)](_0x4936b4)),this['systemTopic'][_0x49037e(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x49037e(0x52d)],'content':{'type':_0x26ec79[_0x49037e(0x47e)],'label':this[_0x49037e(0x3fc)],'ownerId':this[_0x49037e(0x584)]['getId'](),'trackKinds':_0x5003b2,'params':_0x5d69ee}}),_0xd64180[_0x49037e(0x8b0)](_0x2d66c0[_0x49037e(0x341)],{'type':_0x49037e(0x60c),'label':this[_0x49037e(0x3fc)],'nodeId':this[_0x49037e(0x71d)][_0x49037e(0x686)](),'nodeType':this[_0x49037e(0x71d)][_0x49037e(0x689)],'clusterId':this[_0x49037e(0x5e2)],'sourceId':this[_0x49037e(0x584)]['getId'](),'streamId':this[_0x49037e(0x91f)],'trackKinds':_0x5003b2}));}[_0xe992e3(0xa65)](_0x133b97){const _0x114779=_0xe992e3;try{(0x0,_0x981fb5[_0x114779(0x35e)])(_0x133b97);}catch(_0x3b5d43){throw new _0x3748ee(_0x2a0ddc[_0x114779(0x755)],'Invalid\x20params');}this['updateDebounce']&&clearTimeout(this[_0x114779(0x42d)]),this[_0x114779(0x42d)]=setTimeout(()=>{const _0x4ec61b=_0x114779;delete this[_0x4ec61b(0x42d)],this[_0x4ec61b(0x587)][_0x4ec61b(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x4ec61b(0x52d)],'content':{'type':_0x26ec79[_0x4ec61b(0x54c)],'label':this[_0x4ec61b(0x3fc)],'ownerId':this[_0x4ec61b(0x584)]['getId'](),'params':_0x133b97}});},0x1f4);}['unsubscribe'](_0x144f37){const _0x4e522b=_0xe992e3;_0x144f37||(_0x144f37=this['getAvailableTrackKinds']()),(_0x144f37=Array['isArray'](_0x144f37)?_0x144f37:[_0x144f37])[_0x4e522b(0x558)](_0x343ca9=>this[_0x4e522b(0x725)]['delete'](_0x343ca9)),this['systemTopic']['publish']({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x4e522b(0x52d)],'content':{'type':_0x26ec79['UnsubscribeMediaStream'],'label':this[_0x4e522b(0x3fc)],'ownerId':this['owner'][_0x4e522b(0x686)](),'trackKinds':_0x144f37,'remainingTracks':this['subscribedTracks'][_0x4e522b(0x73d)]}});}[_0xe992e3(0x62f)](_0x1a6a09){return this['providerListener']['subscribe'](_0x1a6a09);}[_0xe992e3(0x8f6)](){return this['providerId'];}[_0xe992e3(0x826)](_0x11c064){const _0x14a8cb=_0xe992e3;this[_0x14a8cb(0x5b9)]!==_0x11c064&&(this[_0x14a8cb(0x5b9)]=_0x11c064,this[_0x14a8cb(0x13f)]['publish'](_0x11c064));}['unsubscribeTrackEndedListener'](_0x28108a){const _0x86fb7=_0xe992e3;this[_0x86fb7(0x438)][_0x86fb7(0x6ab)](_0x28108a)?.(),this[_0x86fb7(0x438)][_0x86fb7(0x5eb)](_0x28108a);}[_0xe992e3(0x536)](_0x86e6ca){const _0x27296b=_0xe992e3,_0x23ac2c=this[_0x27296b(0xa35)][_0x27296b(0x69e)]()[_0x27296b(0xa57)](_0x5e5472=>_0x5e5472[_0x27296b(0xa25)]===_0x86e6ca);_0x23ac2c&&(this['mediaStream'][_0x27296b(0x536)](_0x23ac2c),this[_0x27296b(0x155)]['forEach'](_0x1ab745=>_0x1ab745[_0x27296b(0x536)](_0x86e6ca)),this[_0x27296b(0x438)][_0x27296b(0x6ab)](_0x86e6ca)?.());}[_0xe992e3(0x267)](){const _0x2bdbee=_0xe992e3;this[_0x2bdbee(0x715)]&&(this[_0x2bdbee(0x715)][_0x2bdbee(0x524)]&&this[_0x2bdbee(0x715)][_0x2bdbee(0x524)]===this[_0x2bdbee(0xa35)]||(this[_0x2bdbee(0x715)][_0x2bdbee(0x524)]=this['mediaStream']));}[_0xe992e3(0x453)](){const _0x306a9f=_0xe992e3;if(this[_0x306a9f(0x715)]&&!this['resizeHandler']&&_0x306a9f(0x4f8)!=typeof ResizeObserver){let _0x2c6b71=this[_0x306a9f(0x715)][_0x306a9f(0x483)],_0x4b6583=this[_0x306a9f(0x715)]['clientHeight'];const _0x3778e1=new ResizeObserver(_0x918c1e=>{const _0x4471bb=_0x306a9f,{width:_0x45defe,height:_0x5532f1}=_0x918c1e[0x0]['contentRect'];_0x2c6b71===_0x45defe&&_0x4b6583===_0x5532f1||(_0x2c6b71=Math[_0x4471bb(0x7e3)](_0x45defe),_0x4b6583=Math[_0x4471bb(0x7e3)](_0x5532f1),this[_0x4471bb(0xa65)]({'video':{'maxResolution':{'width':_0x45defe,'height':_0x5532f1}}}));});_0x3778e1[_0x306a9f(0x5f0)](this[_0x306a9f(0x715)]),this[_0x306a9f(0x1dc)]=()=>_0x3778e1[_0x306a9f(0x783)]();}}[_0xe992e3(0x998)](_0x3113ef){const _0x4e1a66=_0xe992e3,_0x34b7e8=[];for(const _0xc642b0 of this[_0x4e1a66(0x725)])this[_0x4e1a66(0x536)](_0xc642b0),_0x34b7e8['push'](_0xc642b0);this['providerId']&&this[_0x4e1a66(0x587)]['publish']({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x4e1a66(0x52d)],'content':{'type':_0x26ec79['RemoteMediaStreamTrackFail'],'label':this[_0x4e1a66(0x3fc)],'streamId':this[_0x4e1a66(0x91f)],'ownerId':this[_0x4e1a66(0x584)][_0x4e1a66(0x686)](),'providerId':this[_0x4e1a66(0x5b9)],'trackKinds':_0x34b7e8}});}[_0xe992e3(0x127)](_0x4ad1bf){const _0x5d8f2c=_0xe992e3,_0x159126=()=>this[_0x5d8f2c(0x998)](_0x4ad1bf);_0x4ad1bf[_0x5d8f2c(0x277)](_0x5d8f2c(0xa09),_0x159126),_0x4ad1bf[_0x5d8f2c(0x277)]('mute',_0x159126),this[_0x5d8f2c(0x438)][_0x5d8f2c(0x888)](_0x4ad1bf[_0x5d8f2c(0xa25)],()=>{const _0x2ba4ac=_0x5d8f2c;_0x4ad1bf['removeEventListener'](_0x2ba4ac(0xa09),_0x159126),_0x4ad1bf[_0x2ba4ac(0xa27)](_0x2ba4ac(0x778),_0x159126),this[_0x2ba4ac(0x438)]['delete'](_0x4ad1bf[_0x2ba4ac(0xa25)]);});}}class _0x5d0ae6 extends _0x430dee{['localNode'];[_0xe992e3(0x5e2)];[_0xe992e3(0x3ea)];['db'];[_0xe992e3(0x203)];[_0xe992e3(0x30f)]=0x0;[_0xe992e3(0x60a)]=0x0;['isLoaded']=!0x1;constructor(_0x4d788f,_0x3c3e77,_0x2de09e,_0x16e7ec,_0x4136b1){const _0x39889d=_0xe992e3;if(_0x39889d(0xab7)!=typeof _0x3c3e77)throw new _0x3748ee(_0x2a0ddc[_0x39889d(0x865)],_0x39889d(0x87a));super(_0x4d788f,_0x3c3e77),this[_0x39889d(0x71d)]=_0x4d788f,this[_0x39889d(0x5e2)]=_0x2de09e,this[_0x39889d(0x3ea)]=_0x16e7ec;const _0x3278ad=_0x39889d(0x421)+this['vendorId']+_0x39889d(0x421)+this[_0x39889d(0x5e2)]+_0x39889d(0x421)+this[_0x39889d(0x3fc)];this['db']=new _0x4136b1(_0x3278ad),this[_0x39889d(0x5d4)]();}[_0xe992e3(0x94b)](){const _0x5ec11d=_0xe992e3;return this[_0x5ec11d(0x2bb)];}[_0xe992e3(0xa93)](_0x1d7b12){const _0x1e8b02=_0xe992e3;this[_0x1e8b02(0x2bb)]=_0x1d7b12;}[_0xe992e3(0x551)](){const _0x7f0cc2=_0xe992e3;clearTimeout(this[_0x7f0cc2(0x203)]),delete this[_0x7f0cc2(0x203)],super[_0x7f0cc2(0x551)]();}[_0xe992e3(0x1c9)](){const _0x1769cf=_0xe992e3;this[_0x1769cf(0x587)][_0x1769cf(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x1769cf(0x52d)],'content':{'type':_0x26ec79['CloseVectorDatabase'],'label':this['label']}});}['reset'](){const _0x3e460c=_0xe992e3;this[_0x3e460c(0x5d4)]();}[_0xe992e3(0x437)](){const _0x378f66=_0xe992e3;return _0x981fb5[_0x378f66(0x4c9)][_0x378f66(0x9e7)];}[_0xe992e3(0x74b)](_0x54e4ff,_0x111d48,_0x25ca3c,_0x471b00,_0x5aee49){const _0x1dcba1=_0xe992e3,_0x45561e=this['db'][_0x1dcba1(0x74b)](_0x54e4ff,_0x111d48,_0x25ca3c,_0x471b00,_0x5aee49);return this[_0x1dcba1(0x60a)]+=0x1,_0xd64180[_0x1dcba1(0x8b0)](_0x2d66c0['VectorDatabase'],{'type':_0x1dcba1(0x74b),'label':this['label'],'nodeId':this[_0x1dcba1(0x71d)][_0x1dcba1(0x686)](),'nodeType':this['localNode'][_0x1dcba1(0x689)],'clusterId':this[_0x1dcba1(0x5e2)],'size':0x0}),this['sendStats'](),_0x45561e;}[_0xe992e3(0x98a)](_0x405ac8,_0x5d751d,_0x55f9d0,_0x4d432f){const _0x822957=_0xe992e3;this['db'][_0x822957(0x98a)](_0x405ac8,_0x5d751d,_0x55f9d0,_0x4d432f),this[_0x822957(0x30f)]+=0x1,_0xd64180['logServiceEvent'](_0x2d66c0[_0x822957(0x9e7)],{'type':_0x822957(0x98a),'label':this['label'],'nodeId':this[_0x822957(0x71d)]['getId'](),'nodeType':this['localNode'][_0x822957(0x689)],'clusterId':this[_0x822957(0x5e2)],'size':_0x4d432f['reduce']((_0x4b45b2,_0x240590)=>_0x4b45b2+_0x240590['length'],0x0)}),this[_0x822957(0x5d4)]();}[_0xe992e3(0x730)](_0x580c0b){const _0x41b8c5=_0xe992e3;this['db'][_0x41b8c5(0x730)](_0x580c0b),this['writes']+=0x1,_0xd64180[_0x41b8c5(0x8b0)](_0x2d66c0[_0x41b8c5(0x9e7)],{'type':_0x41b8c5(0x730),'label':this['label'],'nodeId':this[_0x41b8c5(0x71d)]['getId'](),'nodeType':this[_0x41b8c5(0x71d)][_0x41b8c5(0x689)],'clusterId':this[_0x41b8c5(0x5e2)],'size':0x0}),this[_0x41b8c5(0x5d4)]();}[_0xe992e3(0x894)](_0x44cf6f){this['db']['saveToDisk'](_0x44cf6f);}[_0xe992e3(0x42c)](_0x17e3c5){const _0x9fb865=_0xe992e3;this['db'][_0x9fb865(0x42c)](_0x17e3c5);}['sendStats'](){const _0x54405a=_0xe992e3;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x54405a(0x203)]=setTimeout(async()=>{const _0xef7a28=_0x54405a;delete this[_0xef7a28(0x203)];const _0x103c19=this['db'][_0xef7a28(0x389)]()[_0xef7a28(0x6bc)];this['systemTopic']['publish']({'sourceId':_0x413d1e,'messageType':_0x13f595['Content'],'content':{'type':_0x26ec79['VectorDatabaseStats'],'label':this[_0xef7a28(0x3fc)],'stats':{'timestamp':Date['now'](),'storage':_0x103c19,'messagesSent':this[_0xef7a28(0x30c)],'messagesReceived':this[_0xef7a28(0x97d)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0xef7a28(0x60a)],'prompts':0x0,'tokens':0x0}}}),_0xd64180[_0xef7a28(0x835)](_0x2d66c0[_0xef7a28(0x9e7)],_0xef7a28(0x421)+this[_0xef7a28(0x5e2)]+'ccc'+this['label'],_0x103c19);},_0x411ded);}}class _0x5b3ce4{['id'];[_0xe992e3(0x52c)];[_0xe992e3(0xb14)];constructor(_0x47ba8a,_0x113452=new Set(),_0xe614ce){const _0x3a1c95=_0xe992e3;this['id']=_0x47ba8a,this[_0x3a1c95(0x52c)]=_0x113452,this[_0x3a1c95(0xb14)]=_0xe614ce;}[_0xe992e3(0x1c9)](){const _0x1400ea=_0xe992e3;this['rank']=void 0x0,this[_0x1400ea(0x52c)][_0x1400ea(0x24d)]();}[_0xe992e3(0x686)](){return this['id'];}['getRank'](){return this['rank'];}[_0xe992e3(0x640)](){const _0x53fb07=_0xe992e3;return this[_0x53fb07(0x52c)];}}class _0x5be447 extends _0x5b3ce4{['id'];[_0xe992e3(0x57a)];[_0xe992e3(0x791)];['remoteConnections'];[_0xe992e3(0xb14)];[_0xe992e3(0x689)]=_0x981fb5[_0xe992e3(0x148)][_0xe992e3(0x741)];constructor(_0x4ac526,_0x438e27,_0x1cadcc,_0x949399=new Set(),_0x2b2ea9){const _0x137040=_0xe992e3;super(_0x4ac526,_0x949399,_0x2b2ea9),this['id']=_0x4ac526,this[_0x137040(0x57a)]=_0x438e27,this[_0x137040(0x791)]=_0x1cadcc,this['remoteConnections']=_0x949399,this[_0x137040(0xb14)]=_0x2b2ea9;}[_0xe992e3(0x2bd)](){const _0x14aac5=_0xe992e3;return this[_0x14aac5(0x57a)];}[_0xe992e3(0xa80)](){return this['email'];}}class _0xbcfd51{[_0xe992e3(0x3ea)];[_0xe992e3(0x5e2)];[_0xe992e3(0x1ae)];constructor(_0x341520,_0x59727a){const _0x1e0c99=_0xe992e3;this[_0x1e0c99(0x3ea)]=_0x341520,this[_0x1e0c99(0x5e2)]=_0x59727a,this[_0x1e0c99(0x1ae)]=_0x1e0c99(0x421)+this[_0x1e0c99(0x3ea)]+_0x1e0c99(0x421)+this[_0x1e0c99(0x5e2)];}async['writeTransaction'](_0x320ccb,_0x146fbd){const _0x436c30=_0xe992e3,_0x3000cc=(0x0,_0x59c1bb['ref'])(_0x57cb7d['getDatabase'](),_0x436c30(0x378)+this[_0x436c30(0x1ae)]+_0x436c30(0x187)+_0x146fbd+_0x436c30(0x67e)+_0x320ccb['id']),_0x5e4dd4=(0x0,_0x59c1bb['onDisconnect'])(_0x3000cc);_0x5e4dd4[_0x436c30(0x730)](),_0x320ccb[_0x436c30(0x921)]||delete _0x320ccb[_0x436c30(0x921)];try{await(0x0,_0x59c1bb['set'])(_0x3000cc,_0x320ccb);}catch(_0x552746){throw await _0x5e4dd4['cancel'](),new _0xd907de(_0xd907de[_0x436c30(0x386)][_0x436c30(0x4f3)]);}if(!0x1===(await(0x0,_0x59c1bb[_0x436c30(0xb1b)])((0x0,_0x59c1bb[_0x436c30(0x953)])(_0x57cb7d[_0x436c30(0x923)](),'clusters/'+this[_0x436c30(0x1ae)]+_0x436c30(0x187)+_0x146fbd+_0x436c30(0x2c3)),_0x4c48a2=>_0x4c48a2?_0x4c48a2===_0x320ccb['parentId']?_0x320ccb['id']:void 0x0:_0x320ccb[_0x436c30(0x921)]?_0x320ccb[_0x436c30(0x921)]:_0x320ccb['id']))[_0x436c30(0x80d)])throw await(0x0,_0x59c1bb['remove'])(_0x3000cc),await _0x5e4dd4[_0x436c30(0x5ef)](),new _0xd907de(_0xd907de[_0x436c30(0x386)][_0x436c30(0x7f9)]);await _0x5e4dd4[_0x436c30(0x5ef)]();}async['getTransactions'](_0x221737,_0x501612){const _0x483877=_0xe992e3;let _0x249ebf=[];const _0x38198c=(0x0,_0x59c1bb[_0x483877(0x953)])(_0x57cb7d[_0x483877(0x923)](),_0x483877(0x378)+this[_0x483877(0x1ae)]+'/objectstores/'+_0x221737+_0x483877(0x411));let _0x250514=await(0x0,_0x59c1bb[_0x483877(0x6ab)])((0x0,_0x59c1bb[_0x483877(0x424)])(_0x38198c,(0x0,_0x59c1bb[_0x483877(0xab3)])(0x65),(0x0,_0x59c1bb[_0x483877(0x8be)])()));if(!_0x250514['exists']()){if(void 0x0!==_0x501612)throw new _0xd907de(_0xd907de['codes'][_0x483877(0x332)]);return _0x249ebf;}const _0xa361bf=_0x250514[_0x483877(0x8ec)]();for(;Object[_0x483877(0x5a2)](_0x250514[_0x483877(0x8ec)]())[_0x483877(0x756)]>0x64;){const _0x4f972e=Object[_0x483877(0x5a2)](_0x250514[_0x483877(0x8ec)]()),_0x5db811=_0x4f972e[_0x4f972e[_0x483877(0x756)]-0x1];_0x250514=await(0x0,_0x59c1bb['get'])((0x0,_0x59c1bb[_0x483877(0x424)])(_0x38198c,(0x0,_0x59c1bb[_0x483877(0xab3)])(0x65),(0x0,_0x59c1bb['startAt'])(_0x5db811),(0x0,_0x59c1bb[_0x483877(0x8be)])())),Object[_0x483877(0x6d7)](_0xa361bf,_0x250514['val']());}if(_0x249ebf=Object[_0x483877(0x992)](_0xa361bf)[_0x483877(0x1ee)](_0x153387=>_0x483877(0xab7)!=typeof _0x153387),0x0===_0x249ebf[_0x483877(0x756)]&&void 0x0!==_0x501612)throw new _0xd907de(_0xd907de[_0x483877(0x386)]['ObjectStoreInvalidState']);if(_0x249ebf[_0x483877(0x756)]>0x0&&void 0x0!==_0x501612&&!_0x249ebf[_0x483877(0xa57)](_0x4c1371=>_0x4c1371['id']===_0x501612))throw new _0xd907de(_0xd907de['codes']['ObjectStoreInvalidState']);const _0x263238=[];let _0x4dc5f0=_0x249ebf[_0x483877(0xa57)](_0x2c3add=>_0x2c3add['parentId']===_0x501612);for(;_0x4dc5f0;)_0x263238[_0x483877(0xae7)](_0x4dc5f0),_0x4dc5f0=_0x249ebf[_0x483877(0xa57)](_0x31611a=>_0x31611a[_0x483877(0x921)]===_0x4dc5f0['id']);return _0x263238;}}class _0xddeb56 extends _0x3699d4{[_0xe992e3(0x88f)];['generativeAIWorkerConnectors'];[_0xe992e3(0x655)];[_0xe992e3(0xa96)];[_0xe992e3(0x611)];[_0xe992e3(0x934)];[_0xe992e3(0x955)];[_0xe992e3(0x6ee)];['queryFileConnector'];[_0xe992e3(0x83b)];[_0xe992e3(0x46d)];[_0xe992e3(0x28b)]=_0x1e3adc;['dataStores']=new Map();[_0xe992e3(0x803)]=!0x1;constructor(_0x5d9e00,_0x2c3c79,_0x199a72,_0x4124c9,_0x3aff93,_0x54a57b,_0x4c636f,_0x30a57b,_0x36d159,_0x353286,_0x435efe,_0x262f9e,_0x3cf98c){const _0xd4943b=_0xe992e3;super(_0x5d9e00,_0x2c3c79),this[_0xd4943b(0x88f)]=_0x199a72,this[_0xd4943b(0x164)]=_0x4124c9,this['objectStoreConnector']=_0x3aff93,this[_0xd4943b(0xa96)]=_0x54a57b,this[_0xd4943b(0x611)]=_0x4c636f,this['nlpLibraryConnector']=_0x30a57b,this[_0xd4943b(0x955)]=_0x36d159,this[_0xd4943b(0x6ee)]=_0x353286,this[_0xd4943b(0x5c4)]=_0x435efe,this[_0xd4943b(0x83b)]=_0x262f9e,this[_0xd4943b(0x46d)]=_0x3cf98c,this[_0xd4943b(0xa19)]();}async[_0xe992e3(0x658)](){return[];}async['open'](_0x3dcda7=!0x1){const _0x47a702=_0xe992e3;if(!this[_0x47a702(0x803)]){_0xd64180[_0x47a702(0x58f)](_0x47a702(0x772),this[_0x47a702(0x3fc)]);try{for(const _0x2d4a4f of this[_0x47a702(0x164)])await _0x2d4a4f[_0x47a702(0x4af)](this[_0x47a702(0x3fc)],this[_0x47a702(0x28b)]);}catch(_0x3f9820){return this[_0x47a702(0xa19)](_0x3dcda7);}this[_0x47a702(0x803)]=!0x0,_0xd64180[_0x47a702(0x58f)]('GenerativeAIWorker:\x20Opened',this[_0x47a702(0x3fc)]);}}[_0xe992e3(0x1c9)](){const _0x3a61ac=_0xe992e3;this[_0x3a61ac(0x587)]?.[_0x3a61ac(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x3a61ac(0x52d)],'content':{'type':_0x26ec79['CloseGenerativeAIContext'],'label':this[_0x3a61ac(0x3fc)]}});}[_0xe992e3(0x4cb)](){return this['label'];}['getContentType'](){const _0x162a17=_0xe992e3;return _0x981fb5[_0x162a17(0x4c9)][_0x162a17(0x838)];}['createAIJob'](_0x13f4a1){const _0x348373=_0xe992e3,_0x540cdb=_0x348373(0x206)+(0x0,_0x2860a6['v4'])();let _0x2bac14=!0x1;const _0x4573a8=()=>{const _0x1b459f=_0x348373;if(_0x2bac14)throw new _0xd907de(_0xd907de[_0x1b459f(0x386)][_0x1b459f(0x65c)]);_0x2bac14=!0x0;},_0x1bd24d={'threadId':'thread-'+(0x0,_0x2860a6['v4'])(),..._0x13f4a1};switch(_0x13f4a1[_0x348373(0x689)]){case _0x348373(0x250):case _0x348373(0x295):case'collection-query':case _0x348373(0x5be):case _0x348373(0x76f):case'file-ingest':case'file-ingest':case _0x348373(0x537):case _0x348373(0x8dc):case _0x348373(0x61f):case'tool-call':case _0x348373(0x5d3):return{'id':_0x540cdb,..._0x13f4a1,'run':()=>(_0x4573a8(),this['internalProcessJob'](_0x540cdb,_0x1bd24d))};case _0x348373(0xb18):case _0x348373(0x16a):return{'id':_0x540cdb,'options':{'threadId':_0x348373(0x7dd)+(0x0,_0x2860a6['v4'])()},..._0x13f4a1,'run':()=>(_0x4573a8(),this[_0x348373(0x64c)](_0x540cdb,_0x1bd24d)),'stream':()=>(_0x4573a8(),this[_0x348373(0x7de)](_0x540cdb,_0x1bd24d))};default:throw new Error(_0x348373(0x7fb));}}async[_0xe992e3(0x64c)](_0x76a8b2,_0x57eb68){const _0x44dc1f=_0xe992e3;if(_0x44dc1f(0x16a)===_0x57eb68['type']){await this[_0x44dc1f(0xac5)](_0x76a8b2,_0x57eb68);const _0x228f8c=await _0x4cfee1[_0x44dc1f(0xa5c)](_0x57eb68[_0x44dc1f(0x3ea)],_0x57eb68['workflowId']),_0x36288b=_0x228f8c['blocks'][_0x44dc1f(0xa57)](_0x3a88c9=>_0x3a88c9[_0x44dc1f(0x689)]===_0x115e61[_0x44dc1f(0x3d0)]),_0x31ff58=await _0x496b3e(_0x57eb68['jobId']??_0x76a8b2,_0x57eb68,_0x36288b,_0x228f8c[_0x44dc1f(0x6e1)],{'documentParserConnector':this[_0x44dc1f(0xa96)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x44dc1f(0x164)],'models':Array['from'](this[_0x44dc1f(0x28b)][_0x44dc1f(0x992)]()),'contentMediator':this[_0x44dc1f(0x88f)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x44dc1f(0x6ee)],'queryFileConnector':this[_0x44dc1f(0x5c4)]});return await this['stopTracing'](_0x76a8b2,_0x57eb68),_0x31ff58;}if(_0x44dc1f(0x5d3)===_0x57eb68['type'])return await _0x2791ca(_0x57eb68,{'documentParserConnector':this[_0x44dc1f(0xa96)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x44dc1f(0x934)],'generativeAIWorkerConnectors':this[_0x44dc1f(0x164)],'models':Array[_0x44dc1f(0x79e)](this['models']['values']()),'contentMediator':this[_0x44dc1f(0x88f)],'searchConnector':this[_0x44dc1f(0x955)],'aiSearchConnector':this[_0x44dc1f(0x6ee)],'queryFileConnector':this['queryFileConnector']});if('inference'===_0x57eb68[_0x44dc1f(0x689)]){await this[_0x44dc1f(0xac5)](_0x76a8b2,_0x57eb68);const _0x3277b8=await _0xbf086e(_0x57eb68[_0x44dc1f(0x416)]??_0x76a8b2,_0x57eb68,{'documentParserConnector':this[_0x44dc1f(0xa96)],'fileConnector':this[_0x44dc1f(0x611)],'nlpLibraryConnector':this[_0x44dc1f(0x934)],'generativeAIWorkerConnectors':this[_0x44dc1f(0x164)],'models':Array[_0x44dc1f(0x79e)](this[_0x44dc1f(0x28b)][_0x44dc1f(0x992)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x44dc1f(0x955)],'aiSearchConnector':this[_0x44dc1f(0x6ee)],'queryFileConnector':this[_0x44dc1f(0x5c4)]});return await this[_0x44dc1f(0x4b6)](_0x76a8b2,_0x57eb68),_0x3277b8;}if(_0x44dc1f(0x8dc)===_0x57eb68[_0x44dc1f(0x689)])return await _0x45b70a['trace']({'jobType':_0x883e8c[_0x44dc1f(0x2a7)],'type':_0x36f69e['PromptRating'],'jobId':_0x57eb68[_0x44dc1f(0x416)],'threadId':_0x57eb68[_0x44dc1f(0x441)],'traceLevel':_0x1ceba1[_0x44dc1f(0x5cb)],'startTime':Date[_0x44dc1f(0x559)](),'timestamp':Date[_0x44dc1f(0x559)](),'status':_0x44dc1f(0x20c),'rating':_0x57eb68[_0x44dc1f(0x57b)],'feedback':_0x57eb68['feedback']}),{'type':'rate','status':_0x981fb5['GenerativeAIRatingStatus'][_0x44dc1f(0x7d8)]};if(_0x44dc1f(0xafd)===_0x57eb68[_0x44dc1f(0x689)])return await _0x95bf22(_0x57eb68,{'documentParserConnector':this[_0x44dc1f(0xa96)],'fileConnector':this[_0x44dc1f(0x611)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x44dc1f(0x79e)](this[_0x44dc1f(0x28b)][_0x44dc1f(0x992)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x44dc1f(0x955)],'aiSearchConnector':this[_0x44dc1f(0x6ee)],'queryFileConnector':this[_0x44dc1f(0x5c4)]});if('realtime-session-create'===_0x57eb68[_0x44dc1f(0x689)]){const _0x3bae9a=await _0x4cfee1['getWorkflow'](_0x57eb68[_0x44dc1f(0x3ea)],_0x57eb68['workflowId']),_0x596650=_0x3bae9a[_0x44dc1f(0x6e1)]['find'](_0x2fdfb8=>_0x2fdfb8[_0x44dc1f(0x689)]===_0x115e61[_0x44dc1f(0x2a4)]),_0x307a19=_0x3bae9a[_0x44dc1f(0x6e1)][_0x44dc1f(0x1ee)](_0x2c4e56=>_0x2c4e56[_0x44dc1f(0x577)]?.['some'](_0x4ea4ae=>_0x4ea4ae[_0x44dc1f(0x689)]===_0x1bcb29['Tool']&&_0x4ea4ae[_0x44dc1f(0x6b3)]===_0x596650[_0x44dc1f(0x6b3)]))[_0x44dc1f(0x691)](_0x5b9c3d=>_0x20ebc3(_0x5b9c3d,_0x3bae9a['blocks']));return{'type':_0x44dc1f(0x61f),'apiKey':this[_0x44dc1f(0x46d)],'modelId':_0x596650['modelId'],'instructions':_0x596650['instructions'],'temperature':_0x596650['temperature'],'maxTokens':_0x596650[_0x44dc1f(0x67d)],'initialPrompt':_0x3bae9a[_0x44dc1f(0x36a)],'tools':_0x307a19[_0x44dc1f(0x7db)](_0x192464=>({..._0x192464,'name':this[_0x44dc1f(0x514)](_0x192464),'description':this[_0x44dc1f(0x744)](_0x192464),'parameters':this['getToolParams'](_0x192464)}))};}if(_0x44dc1f(0x5be)===_0x57eb68['type']){const {vendorId:_0x10f7ca,collectionId:_0x4a4906,fileId:_0x110785}=_0x57eb68,_0x25932d=await _0x4cfee1[_0x44dc1f(0xa2f)](_0x10f7ca,_0x4a4906),_0x31a0de=this[_0x44dc1f(0x83b)]?.[_0x44dc1f(0x6ab)](_0x25932d[_0x44dc1f(0x4b2)]);if(!_0x31a0de)throw new Error(_0x44dc1f(0x729));const _0x2aac46=_0x13a298(_0x10f7ca,_0x25932d);if(_0x25932d['storageType']===_0x981fb5[_0x44dc1f(0x9e9)][_0x44dc1f(0x197)])try{await _0x31a0de[_0x44dc1f(0xa2b)](_0x2aac46,_0x4a4906,'/'+_0x10f7ca+'/'+_0x4a4906+'/'+_0x110785),await this[_0x44dc1f(0x655)][_0x44dc1f(0x5f9)]('/'+_0x10f7ca+'/'+_0x4a4906+'/'+_0x110785);}catch(_0x9bf275){_0xd64180[_0x44dc1f(0x77b)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x9bf275);}else try{await _0x31a0de[_0x44dc1f(0xa2b)](_0x2aac46,_0x4a4906,_0x110785);}catch(_0x44627b){_0xd64180[_0x44dc1f(0x77b)](_0x44dc1f(0x668),_0x44627b);}return{'type':'file-delete'};}if(_0x44dc1f(0x76f)===_0x57eb68['type']){let _0x4c4edb;const _0x4966f7=this[_0x44dc1f(0x648)]['keys']();for(;!_0x4c4edb;){const _0xdabf68=_0x4966f7['next']()[_0x44dc1f(0x299)];if(!_0xdabf68)throw new Error(_0x44dc1f(0x3fa));_0x4c4edb=this[_0x44dc1f(0x648)][_0x44dc1f(0x6ab)](_0xdabf68);try{const _0x103fe5=await _0x4c4edb[_0x44dc1f(0x6ab)](_0x57eb68[_0x44dc1f(0xb0e)]);return{'type':_0x44dc1f(0x76f),'fileName':_0x103fe5[_0x44dc1f(0x758)],'mimeType':_0x103fe5[_0x44dc1f(0x689)],'document':await _0x103fe5[_0x44dc1f(0x56c)]()};}catch(_0x558325){continue;}}throw new Error(_0x44dc1f(0x3fa));}if(_0x44dc1f(0x8a1)===_0x57eb68[_0x44dc1f(0x689)]){const {vendorId:_0x4d2360,collectionId:_0x278517,fileName:_0x1418d1,content:_0x1e9f2e}=_0x57eb68,_0x5d8894=await _0x4cfee1[_0x44dc1f(0xa2f)](_0x4d2360,_0x278517);if(_0x5d8894[_0x44dc1f(0x4b2)]!==_0x981fb5[_0x44dc1f(0x9e9)][_0x44dc1f(0x197)]){const _0x13658c=this[_0x44dc1f(0x83b)]?.['get'](_0x5d8894['storageType']);if(!_0x13658c)throw new Error('No\x20RAG\x20connector\x20available');const _0x3b34e2=_0x13a298(_0x4d2360,_0x5d8894);return await _0x13658c[_0x44dc1f(0x1ca)](_0x3b34e2,_0x278517,_0x1418d1,_0x1e9f2e),{'type':_0x44dc1f(0x8a1)};}const _0x48ba59=_0x5d8894[_0x44dc1f(0x880)]?.[_0x44dc1f(0xa57)](_0x3cefb3=>_0x3cefb3[_0x44dc1f(0x689)]===_0x3910['Upload']);if(!_0x48ba59)throw new Error(_0x44dc1f(0x1ce));return await _0x2cbdc7(_0x57eb68[_0x44dc1f(0x3ea)],_0x76a8b2,'/'+_0x4d2360+'/'+_0x278517+'/'+_0x1418d1,_0x1e9f2e,_0x48ba59,_0x5d8894,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this['ragConnectors']?.[_0x44dc1f(0x6ab)](_0x981fb5[_0x44dc1f(0x9e9)][_0x44dc1f(0x197)]),'documentParserConnector':this[_0x44dc1f(0xa96)],'fileConnector':this[_0x44dc1f(0x611)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x44dc1f(0x164)],'models':Array['from'](this[_0x44dc1f(0x28b)][_0x44dc1f(0x992)]()),'contentMediator':this['contentMediator']}),{'type':_0x44dc1f(0x8a1)};}if('file-list'===_0x57eb68['type']){const {vendorId:_0x361192,collectionId:_0x38bdc8}=_0x57eb68,_0xff88a2=await _0x4cfee1[_0x44dc1f(0xa2f)](_0x361192,_0x38bdc8);if(_0xff88a2['storageType']!==_0x981fb5[_0x44dc1f(0x9e9)][_0x44dc1f(0x197)]){const _0x50692f=this[_0x44dc1f(0x83b)]?.[_0x44dc1f(0x6ab)](_0xff88a2[_0x44dc1f(0x4b2)]);if(!_0x50692f)throw new Error('No\x20RAG\x20connector\x20available');const _0x3b1e63=_0x13a298(_0x361192,_0xff88a2);return{'type':_0x44dc1f(0x537),'files':await _0x50692f[_0x44dc1f(0x5dd)](_0x3b1e63,_0x38bdc8)};}try{return{'type':'file-list','files':(await this[_0x44dc1f(0x655)][_0x44dc1f(0x135)]('/'+_0x361192+'/'+_0x38bdc8,!0x1))[_0x44dc1f(0x7db)](_0x47f178=>({'name':_0x47f178[_0x44dc1f(0x758)],'id':_0x47f178[_0x44dc1f(0x758)],'status':_0x44dc1f(0xa79)}))};}catch(_0x223bd7){return{'type':_0x44dc1f(0x537),'files':[]};}}if(_0x44dc1f(0x250)===_0x57eb68[_0x44dc1f(0x689)]){const {vendorId:_0x3d35f4,collectionId:_0x25d408}=_0x57eb68,_0x4d9db8=await _0x4cfee1[_0x44dc1f(0xa2f)](_0x3d35f4,_0x25d408),_0x1f3621=this[_0x44dc1f(0x83b)]?.[_0x44dc1f(0x6ab)](_0x4d9db8[_0x44dc1f(0x4b2)]);if(!_0x1f3621)return{'type':'collection-create'};const _0x37e846=_0x13a298(_0x3d35f4,_0x4d9db8);return await _0x1f3621[_0x44dc1f(0x9dd)](_0x37e846,_0x25d408),{'type':'collection-create'};}if('collection-delete'===_0x57eb68[_0x44dc1f(0x689)]){const {vendorId:_0x53bc7e,collectionId:_0x1e701b}=_0x57eb68,_0x5a25e8=await _0x4cfee1['getDataCollection'](_0x53bc7e,_0x1e701b),_0x55d796=this[_0x44dc1f(0x83b)]?.[_0x44dc1f(0x6ab)](_0x5a25e8[_0x44dc1f(0x4b2)]);if(!_0x55d796)return{'type':'collection-delete'};const _0x28876f=_0x13a298(_0x53bc7e,_0x5a25e8);let _0xb54812=!0x1;if(_0x5a25e8[_0x44dc1f(0xaf2)]===_0x1a7421[_0x44dc1f(0x89d)]&&(_0xb54812=!0x0),_0x5a25e8[_0x44dc1f(0xaf2)]===_0x1a7421[_0x44dc1f(0x606)]){_0xb54812=!0x0;const _0x41a82e=await _0x4cfee1[_0x44dc1f(0x589)](_0x53bc7e);for(const _0x5462e6 of _0x41a82e)if(_0x5462e6['storageType']===_0x5a25e8['storageType']&&_0x5462e6[_0x44dc1f(0xaf2)]===_0x1a7421['Account']&&_0x5462e6['id']!==_0x5a25e8['id']){_0xb54812=!0x1;break;}}try{await _0x55d796['deleteCollection'](_0x28876f,_0x1e701b,_0xb54812);}catch(_0x513f2f){_0xd64180[_0x44dc1f(0x77b)](_0x44dc1f(0x872),_0x513f2f);}return{'type':_0x44dc1f(0x295)};}if(_0x44dc1f(0x96b)===_0x57eb68[_0x44dc1f(0x689)]){const {query:_0xbc867c,vendorId:_0x11116e,collectionId:_0xdc6173}=_0x57eb68,_0x187a68=await _0x4cfee1['getDataCollection'](_0x11116e,_0xdc6173);if(_0x187a68['storageType']!==_0x981fb5[_0x44dc1f(0x9e9)][_0x44dc1f(0x197)]){const _0x5dd421=this[_0x44dc1f(0x83b)]?.['get'](_0x187a68['storageType']);if(!_0x5dd421)throw new Error(_0x44dc1f(0x729));const _0x324407=_0x13a298(_0x11116e,_0x187a68);return{'type':_0x44dc1f(0x96b),'results':await _0x5dd421['queryCollection'](_0x324407,_0xdc6173,_0xbc867c,0x1)};}const _0x387fbf=_0x187a68['retrieveBlocks']?.[_0x44dc1f(0xa57)](_0x500d34=>_0x500d34[_0x44dc1f(0x689)]===_0x3910[_0x44dc1f(0x3d0)]);return{'type':'collection-query','results':(await _0x5bc59b(_0x57eb68[_0x44dc1f(0x3ea)],_0x76a8b2,'',_0xbc867c,_0x387fbf,_0x187a68,{'objectStoreConnector':this[_0x44dc1f(0x655)],'ragConnector':this[_0x44dc1f(0x83b)]?.[_0x44dc1f(0x6ab)](_0x981fb5['GenerativeAIRagType'][_0x44dc1f(0x197)]),'documentParserConnector':this[_0x44dc1f(0xa96)],'fileConnector':this[_0x44dc1f(0x611)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x44dc1f(0x164)],'models':Array[_0x44dc1f(0x79e)](this[_0x44dc1f(0x28b)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x44dc1f(0x955)],'aiSearchConnector':this[_0x44dc1f(0x6ee)],'queryFileConnector':this[_0x44dc1f(0x5c4)]}))[_0x44dc1f(0xa86)]??[]};}throw new Error(_0x44dc1f(0x676));}async*[_0xe992e3(0x7de)](_0x30267a,_0x53773a){const _0x2941c8=_0xe992e3;if(_0x2941c8(0x16a)===_0x53773a['type']){await this[_0x2941c8(0xac5)](_0x30267a,_0x53773a);const _0x5dc035=await _0x4cfee1[_0x2941c8(0xa5c)](_0x53773a[_0x2941c8(0x3ea)],_0x53773a[_0x2941c8(0xa11)]),_0x42f4bd=_0x5dc035[_0x2941c8(0x6e1)][_0x2941c8(0xa57)](_0x31ab8d=>_0x31ab8d[_0x2941c8(0x689)]===_0x115e61['Prompt']);for await(const _0x291ee3 of _0x72cadc(_0x53773a[_0x2941c8(0x416)]??_0x30267a,_0x53773a,_0x42f4bd,_0x5dc035[_0x2941c8(0x6e1)],{'documentParserConnector':this[_0x2941c8(0xa96)],'fileConnector':this[_0x2941c8(0x611)],'nlpLibraryConnector':this[_0x2941c8(0x934)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x2941c8(0x79e)](this[_0x2941c8(0x28b)][_0x2941c8(0x992)]()),'contentMediator':this[_0x2941c8(0x88f)],'searchConnector':this[_0x2941c8(0x955)],'aiSearchConnector':this[_0x2941c8(0x6ee)],'queryFileConnector':this[_0x2941c8(0x5c4)]}))yield _0x291ee3;await this[_0x2941c8(0x4b6)](_0x30267a,_0x53773a);}if(_0x2941c8(0xb18)===_0x53773a['type']){await this[_0x2941c8(0xac5)](_0x30267a,_0x53773a);for await(const _0xf5be27 of _0x12f02f(_0x53773a[_0x2941c8(0x416)]??_0x30267a,_0x53773a,{'documentParserConnector':this[_0x2941c8(0xa96)],'fileConnector':this[_0x2941c8(0x611)],'nlpLibraryConnector':this[_0x2941c8(0x934)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0x2941c8(0x28b)][_0x2941c8(0x992)]()),'contentMediator':this[_0x2941c8(0x88f)],'searchConnector':this[_0x2941c8(0x955)],'aiSearchConnector':this[_0x2941c8(0x6ee)],'queryFileConnector':this[_0x2941c8(0x5c4)]}))yield _0xf5be27;await this[_0x2941c8(0x4b6)](_0x30267a,_0x53773a);}}async[_0xe992e3(0xac5)](_0xcdf4fc,_0x228753){const _0x3553ef=_0xe992e3;if('rate'===_0x228753[_0x3553ef(0x689)])return _0xcdf4fc=_0x228753[_0x3553ef(0x416)],void await this[_0x3553ef(0xaff)](_0xcdf4fc,_0x228753['vendorId'],_0x228753['workflowId']);'prompt'!==_0x228753[_0x3553ef(0x689)]&&_0x3553ef(0xb18)!==_0x228753[_0x3553ef(0x689)]||!_0x228753[_0x3553ef(0x416)]||(_0xcdf4fc=_0x228753['jobId']),await this[_0x3553ef(0xaff)](_0xcdf4fc,_0x228753[_0x3553ef(0x3ea)],_0x228753[_0x3553ef(0xa11)],_0x228753[_0x3553ef(0x441)]),await _0x45b70a[_0x3553ef(0x41f)]({'jobType':_0x883e8c['Job'],'type':_0x4218b7[_0x3553ef(0x357)],'traceLevel':_0x1ceba1[_0x3553ef(0x5cb)],'jobId':_0xcdf4fc,'threadId':_0x228753[_0x3553ef(0x441)],'startTime':Date['now'](),'timestamp':Date[_0x3553ef(0x559)](),'status':'success'});}async[_0xe992e3(0x4b6)](_0x321617,_0x2ff456){const _0x2a0cc2=_0xe992e3;if(_0x2a0cc2(0x8dc)===_0x2ff456['type'])return _0x321617=_0x2ff456[_0x2a0cc2(0x416)],void await this[_0x2a0cc2(0x38d)](_0x321617);'prompt'!==_0x2ff456['type']&&_0x2a0cc2(0xb18)!==_0x2ff456['type']||!_0x2ff456[_0x2a0cc2(0x416)]||(_0x321617=_0x2ff456[_0x2a0cc2(0x416)]),await _0x45b70a[_0x2a0cc2(0x41f)]({'jobType':_0x883e8c[_0x2a0cc2(0x451)],'type':_0x4218b7[_0x2a0cc2(0x83a)],'traceLevel':_0x1ceba1[_0x2a0cc2(0x5cb)],'jobId':_0x321617,'threadId':_0x2ff456['threadId'],'startTime':Date[_0x2a0cc2(0x559)](),'timestamp':Date[_0x2a0cc2(0x559)](),'status':'success'}),await this[_0x2a0cc2(0x38d)](_0x321617,_0x2ff456['threadId']);}async[_0xe992e3(0xaff)](_0x26a0cf,_0x4eeeec,_0x624c43,_0x395316){const _0x2a6a2d=_0xe992e3;try{if(!await _0x45b70a[_0x2a6a2d(0xaff)](_0x4eeeec,_0x26a0cf,_0x624c43,_0x395316))throw new Error(_0x2a6a2d(0x87e));return _0x26a0cf;}catch(_0x2475c6){return console[_0x2a6a2d(0x77b)]('Error\x20opening\x20trace',_0x2475c6),_0x2a6a2d(0x9a0);}}async[_0xe992e3(0x38d)](_0x1d896c,_0x5383cd){const _0x40810c=_0xe992e3;try{await _0x45b70a[_0x40810c(0x38d)](_0x1d896c,_0x5383cd);}catch(_0x5789f2){console[_0x40810c(0x77b)]('Error\x20closing\x20trace',{'jobId':_0x1d896c,'error':_0x5789f2});}}[_0xe992e3(0x514)](_0x1345db){const _0x371a21=_0xe992e3;switch(_0x1345db[_0x371a21(0x689)]){case _0x115e61['Agent']:case _0x115e61['AgentSkill']:return'executeAgent'+_0x1345db[_0x371a21(0x758)][_0x371a21(0x9d7)](/[^a-zA-Z]/g,'');case _0x115e61[_0x371a21(0x6bb)]:return _0x371a21(0x2cc)+_0x1345db['name'][_0x371a21(0x9d7)](/[^a-zA-Z]/g,'');case _0x115e61[_0x371a21(0x760)]:case _0x115e61[_0x371a21(0x7bc)]:return'searchInDataCollection'+_0x1345db[_0x371a21(0x758)]['replace'](/[^a-zA-Z]/g,'');case _0x115e61[_0x371a21(0x805)]:return _0x1345db[_0x371a21(0x758)][_0x371a21(0x9d7)](/[^a-zA-Z]/g,'');case _0x115e61[_0x371a21(0x233)]:return _0x371a21(0xafa);case _0x115e61[_0x371a21(0x243)]:return _0x371a21(0x85c);case _0x115e61['Search']:return _0x371a21(0xa9b);case _0x115e61['WebScraper']:case _0x115e61['WebScraperRaw']:return'fetchContentFromUrl';case _0x981fb5[_0x371a21(0x63f)][_0x371a21(0x2db)]:return _0x371a21(0x8e7)+_0x1345db['name']['replace'](/[^a-zA-Z]/g,'');case _0x981fb5[_0x371a21(0x63f)][_0x371a21(0x3eb)]:return _0x371a21(0x403)+_0x1345db[_0x371a21(0x758)][_0x371a21(0x9d7)](/[^a-zA-Z]/g,'');case _0x981fb5['GenerativeAIInferenceToolType'][_0x371a21(0x382)]:return _0x371a21(0x2dc)+_0x1345db[_0x371a21(0x758)]['replace'](/[^a-zA-Z]/g,'');default:return'';}}[_0xe992e3(0x744)](_0x4166ab){const _0x102c39=_0xe992e3;switch(_0x4166ab[_0x102c39(0x689)]){case _0x115e61[_0x102c39(0x2a4)]:case _0x115e61[_0x102c39(0xab0)]:return _0x102c39(0xa16)+_0x4166ab[_0x102c39(0x544)]+'\x20to\x20generate\x20a\x20response.';case _0x115e61[_0x102c39(0x6bb)]:return _0x102c39(0x5da)+_0x4166ab[_0x102c39(0x544)]+_0x102c39(0x381);case _0x115e61[_0x102c39(0x760)]:case _0x115e61[_0x102c39(0x7bc)]:return _0x102c39(0x812)+_0x4166ab[_0x102c39(0x544)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.';case _0x115e61[_0x102c39(0x805)]:return _0x102c39(0x9ec)+_0x4166ab['description'];case _0x115e61[_0x102c39(0x233)]:return _0x102c39(0x471);case _0x115e61[_0x102c39(0x243)]:return _0x102c39(0x3b9);case _0x115e61['Search']:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x115e61[_0x102c39(0x217)]:case _0x115e61['WebScraperRaw']:return _0x102c39(0x8ff);case _0x981fb5[_0x102c39(0x63f)]['FormSkillGetQuestion']:return _0x102c39(0x235);case _0x981fb5[_0x102c39(0x63f)][_0x102c39(0x3eb)]:return _0x102c39(0x822);case _0x981fb5[_0x102c39(0x63f)][_0x102c39(0x382)]:return'Submit\x20the\x20form.';default:return'';}}['getToolParams'](_0x37e424){const _0x310eff=_0xe992e3;switch(_0x37e424[_0x310eff(0x689)]){case _0x115e61[_0x310eff(0x2a4)]:case _0x115e61[_0x310eff(0xab0)]:case _0x115e61[_0x310eff(0x6bb)]:return[{'name':_0x310eff(0x16a),'type':_0x310eff(0xab7)}];case _0x115e61[_0x310eff(0x760)]:case _0x115e61[_0x310eff(0x7bc)]:return[{'name':_0x310eff(0x774),'type':'string'}];case _0x115e61['CustomSkill']:return _0x37e424[_0x310eff(0xa76)][_0x310eff(0x7db)](_0x46c03a=>({'name':_0x46c03a[_0x310eff(0x758)],'type':_0x46c03a['type']??_0x310eff(0xab7)}))??[];case _0x115e61['AiSearch']:return[{'name':_0x310eff(0x424),'type':'string'}];case _0x115e61[_0x310eff(0x243)]:return[{'name':_0x310eff(0x14f),'type':_0x310eff(0xab7)}];case _0x115e61[_0x310eff(0x69c)]:return[{'name':'query','type':'string'}];case _0x115e61[_0x310eff(0x217)]:case _0x115e61[_0x310eff(0x528)]:return[{'name':_0x310eff(0x3d7),'type':'string'},{'name':'page','type':_0x310eff(0x7cd)}];case _0x981fb5[_0x310eff(0x63f)][_0x310eff(0x2db)]:return[];case _0x981fb5[_0x310eff(0x63f)][_0x310eff(0x3eb)]:return[{'name':'id','type':'string'},{'name':_0x310eff(0x129),'type':_0x310eff(0xab7)}];case _0x981fb5[_0x310eff(0x63f)][_0x310eff(0x382)]:default:return[];}}}class _0x4c88fb{['configs'];[_0xe992e3(0x34f)];['localMediaStreams']=new Map();[_0xe992e3(0x244)]=new Map();[_0xe992e3(0x3e6)]=new Map();['objectStores']=new Map();['externalStorageConnections']=new Map();['keyValueDatabases']=new Map();[_0xe992e3(0x96f)]=new Map();['graphDatabases']=new Map();[_0xe992e3(0xa26)]=new Map();['jobWorkers']=new Map();[_0xe992e3(0x726)]=new Map();[_0xe992e3(0x7ea)];constructor(_0x35de71,_0x3859d4){const _0x572cd3=_0xe992e3;this[_0x572cd3(0x81e)]=_0x35de71,this[_0x572cd3(0x34f)]=_0x3859d4,this[_0x572cd3(0x7ea)]=new _0xbcfd51(this['configs'][_0x572cd3(0x3ea)],this['configs'][_0x572cd3(0x5e2)]);}['close'](_0xf74369=!0x1){const _0x46716e=_0xe992e3;this['remoteMediaStreams']['forEach']((_0x51044b,_0x2aca54)=>{const _0x271394=a0_0xca1a;_0x51044b[_0x271394(0x558)]((_0x4ae64d,_0x4b15e7)=>{const _0x6a62f4=_0x271394;this[_0x6a62f4(0xb0f)](_0x2aca54,_0x4b15e7);});}),_0xf74369||(_0x2282f5[_0x46716e(0x24d)](),this[_0x46716e(0x688)][_0x46716e(0x558)]((_0x19a150,_0x39f7dc)=>{this['removeLocalMediaStream'](_0x39f7dc);}),this[_0x46716e(0x3e6)][_0x46716e(0x558)]((_0x2267b3,_0x1832c1)=>{this['removePubSubTopic'](_0x1832c1);}),this[_0x46716e(0x96e)][_0x46716e(0x558)]((_0x2409b8,_0x343795)=>{const _0x5b28f3=_0x46716e;this[_0x5b28f3(0x7bf)](_0x343795);}),this[_0x46716e(0x415)][_0x46716e(0x558)]((_0x3dee47,_0x2663ce)=>{const _0xb17fba=_0x46716e;this[_0xb17fba(0x66a)](_0x2663ce);}),this[_0x46716e(0x9cd)][_0x46716e(0x558)]((_0x4e68e7,_0x2352c0)=>{this['removeKeyValueDatabase'](_0x2352c0);}),this[_0x46716e(0xa26)][_0x46716e(0x558)]((_0x326617,_0x2ebe15)=>{const _0x1f2dc3=_0x46716e;this[_0x1f2dc3(0x2f9)](_0x2ebe15);}),this[_0x46716e(0x91a)][_0x46716e(0x558)]((_0x254c25,_0x241072)=>{const _0x5b34bb=_0x46716e;this[_0x5b34bb(0x99e)](_0x241072);}),this[_0x46716e(0x726)][_0x46716e(0x558)]((_0x2db7a6,_0x2714a9)=>{const _0xe97ad7=_0x46716e;this[_0xe97ad7(0x747)](_0x2714a9);}),this[_0x46716e(0x96f)][_0x46716e(0x558)]((_0xd48f9d,_0x34c4f2)=>{const _0x12cd76=_0x46716e;this[_0x12cd76(0x972)](_0x34c4f2);}),this[_0x46716e(0x78a)][_0x46716e(0x558)]((_0x1fd9a7,_0x73c0d2)=>{const _0x588a6b=_0x46716e;this[_0x588a6b(0x323)](_0x73c0d2);}));}[_0xe992e3(0x5dc)](_0x3e02a1,_0x235587,_0x20e34d){const _0x1d058c=_0xe992e3;if(this[_0x1d058c(0x96e)][_0x1d058c(0x64b)](_0x3e02a1))throw new _0x3748ee(_0x2a0ddc[_0x1d058c(0xa9d)],_0x1d058c(0x3a0));const _0xf50f77=new _0x4bf108(this[_0x1d058c(0x81e)][_0x1d058c(0x71d)],_0x3e02a1,this['configs'][_0x1d058c(0x5e2)],this['configs']['vendorId'],this[_0x1d058c(0x7ea)],_0x235587,()=>this['configs'][_0x1d058c(0x422)][_0x1d058c(0x353)](),_0x20e34d);return this[_0x1d058c(0x96e)]['set'](_0x3e02a1,_0xf50f77),this[_0x1d058c(0x81e)]['mediator'][_0x1d058c(0x95e)](_0xf50f77),_0xf50f77;}[_0xe992e3(0xaba)](_0x48bd0f,_0x2a275a){const _0x3eac5a=_0xe992e3;if(this[_0x3eac5a(0x96e)][_0x3eac5a(0x64b)](_0x48bd0f))throw new _0x3748ee(_0x2a0ddc[_0x3eac5a(0x2e8)],'Connection\x20already\x20exists');const _0x176161=new _0x3ce5cf(this[_0x3eac5a(0x81e)][_0x3eac5a(0x71d)],_0x48bd0f,this[_0x3eac5a(0x81e)]['clusterId'],this[_0x3eac5a(0x81e)][_0x3eac5a(0x3ea)],_0x2a275a);return this['externalStorageConnections'][_0x3eac5a(0x888)](_0x48bd0f,_0x176161),this[_0x3eac5a(0x81e)][_0x3eac5a(0x422)]['registerSystemSource'](_0x176161),_0x176161;}async[_0xe992e3(0x8ad)](_0xa5e899,_0x4ebc7d,_0x58d90e){const _0x5bedf6=_0xe992e3;if(this[_0x5bedf6(0x9cd)][_0x5bedf6(0x64b)](_0xa5e899))throw new _0x3748ee(_0x2a0ddc[_0x5bedf6(0x2a1)],_0x5bedf6(0x282));try{const _0x3c78a8=this['configs'][_0x5bedf6(0x422)][_0x5bedf6(0x1a5)][_0x5bedf6(0x8b6)](this[_0x5bedf6(0x81e)][_0x5bedf6(0x422)]),_0x16452f=new _0x7f83d1(this[_0x5bedf6(0x81e)]['localNode'],_0xa5e899,this[_0x5bedf6(0x81e)][_0x5bedf6(0x5e2)],this[_0x5bedf6(0x81e)][_0x5bedf6(0x3ea)],_0x4ebc7d,_0x58d90e,_0x3c78a8);return this['keyValueDatabases'][_0x5bedf6(0x888)](_0xa5e899,_0x16452f),this[_0x5bedf6(0x81e)][_0x5bedf6(0x422)][_0x5bedf6(0x95e)](_0x16452f),_0x16452f;}catch(_0x4e30c8){if(_0x4e30c8 instanceof _0x3748ee)throw _0x4e30c8;throw new _0xd907de(_0xd907de[_0x5bedf6(0x386)]['KeyValueDatabaseCreationFailed'],{'label':_0xa5e899,'clusterId':this['configs'][_0x5bedf6(0x5e2)],'vendorId':this['configs'][_0x5bedf6(0x3ea)]});}}async[_0xe992e3(0xa9e)](_0x5bbffb,_0x308f19){const _0xed43c7=_0xe992e3;if(this[_0xed43c7(0xa26)]['has'](_0x5bbffb))throw new _0x3748ee(_0x2a0ddc[_0xed43c7(0x869)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x2a6bb3=new _0x43c04a(this['configs'][_0xed43c7(0x71d)],_0x5bbffb,_0x308f19);return this[_0xed43c7(0xa26)][_0xed43c7(0x888)](_0x5bbffb,_0x2a6bb3),this[_0xed43c7(0x81e)]['mediator']['registerSystemSource'](_0x2a6bb3),_0x2a6bb3;}catch(_0x3299fd){if(_0x3299fd instanceof _0x3748ee)throw _0x3299fd;throw new _0xd907de(_0xd907de['codes'][_0xed43c7(0x3b2)],{'label':_0x5bbffb,'clusterId':this[_0xed43c7(0x81e)][_0xed43c7(0x5e2)],'vendorId':this['configs']['vendorId']});}}async['createGenerativeAIContext'](_0x52773b,_0x1747f5){const _0x51dbbb=_0xe992e3;if(this[_0x51dbbb(0xa26)][_0x51dbbb(0x64b)](_0x52773b))throw new _0x3748ee(_0x2a0ddc[_0x51dbbb(0x1ea)],_0x51dbbb(0x1cf));if(this[_0x51dbbb(0x91a)]['has'](_0x52773b))throw new _0x3748ee(_0x2a0ddc[_0x51dbbb(0x678)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x4c60f0=new _0x5c10ef(this[_0x51dbbb(0x81e)]['localNode'],_0x52773b,this['configs'][_0x51dbbb(0x3ea)],_0x1747f5);return this['jobDispatchers'][_0x51dbbb(0x888)](_0x52773b,_0x4c60f0),this[_0x51dbbb(0x81e)][_0x51dbbb(0x422)][_0x51dbbb(0x95e)](_0x4c60f0),_0x4c60f0;}catch(_0x464265){if(_0x464265 instanceof _0x3748ee)throw _0x464265;throw new _0xd907de(_0xd907de[_0x51dbbb(0x386)]['GenerativeAIContextCreationFailed'],{'label':_0x52773b,'clusterId':this[_0x51dbbb(0x81e)][_0x51dbbb(0x5e2)],'vendorId':this[_0x51dbbb(0x81e)]['vendorId']});}}async[_0xe992e3(0x328)](_0x652fe,_0x4a1a90,_0x348824,_0x39d206,_0xfbd26d,_0x27576b,_0x2cc9a1,_0x2e2bb3,_0x41d12d,_0x572d4f,_0x1475b2){const _0x414e90=_0xe992e3;if(this[_0x414e90(0x726)][_0x414e90(0x64b)](_0x652fe))throw new _0x3748ee(_0x2a0ddc[_0x414e90(0x1ea)],_0x414e90(0x1cf));if(this[_0x414e90(0x91a)]['has'](_0x652fe))throw new _0x3748ee(_0x2a0ddc[_0x414e90(0x678)],_0x414e90(0x81c));try{const _0x3cd058=new _0xddeb56(this[_0x414e90(0x81e)][_0x414e90(0x71d)],_0x652fe,this,_0x4a1a90,_0x348824,_0x39d206,_0xfbd26d,_0x27576b,_0x2cc9a1,_0x2e2bb3,_0x41d12d,_0x572d4f,_0x1475b2);return this['generativeAIContexts']['set'](_0x652fe,_0x3cd058),this[_0x414e90(0x81e)][_0x414e90(0x422)]['registerSystemSource'](_0x3cd058),_0x3cd058;}catch(_0x4ab035){if(_0x4ab035 instanceof _0x3748ee)throw _0x4ab035;throw new _0xd907de(_0xd907de[_0x414e90(0x386)][_0x414e90(0xa33)],{'label':_0x652fe,'clusterId':this[_0x414e90(0x81e)]['clusterId'],'vendorId':this[_0x414e90(0x81e)][_0x414e90(0x3ea)]});}}async[_0xe992e3(0x67a)](_0x4217d9,_0x42a020,_0x3c4b7a,_0x59fb47,_0x40e6da,_0x223194,_0x5354f2,_0x9c32b2,_0xd5460f,_0x5ba8c1,_0x4f4663,_0xc1b701){const _0x3ac5e6=_0xe992e3;if(this[_0x3ac5e6(0x91a)]['has'](_0x4217d9))throw new _0x3748ee(_0x2a0ddc['GenerativeAIWorkerAlreadyExists'],_0x3ac5e6(0x632));if(this[_0x3ac5e6(0xa26)][_0x3ac5e6(0x64b)](_0x4217d9))throw new _0x3748ee(_0x2a0ddc[_0x3ac5e6(0x678)],_0x3ac5e6(0x81c));try{const _0x4b1d80=new _0x4ce4d2(this['configs'][_0x3ac5e6(0x71d)],_0x4217d9,_0x42a020,this,_0x3c4b7a,_0x59fb47,_0x40e6da,_0x223194,_0x5354f2,_0x9c32b2,_0xd5460f,_0x5ba8c1,_0x4f4663,_0xc1b701);return this['jobWorkers'][_0x3ac5e6(0x888)](_0x4217d9,_0x4b1d80),this[_0x3ac5e6(0x81e)][_0x3ac5e6(0x422)][_0x3ac5e6(0x95e)](_0x4b1d80),_0x4b1d80;}catch(_0x140120){if(_0x140120 instanceof _0x3748ee)throw _0x140120;throw new _0xd907de(_0xd907de['codes'][_0x3ac5e6(0x71f)],{'label':_0x4217d9,'clusterId':this[_0x3ac5e6(0x81e)][_0x3ac5e6(0x5e2)],'vendorId':this['configs'][_0x3ac5e6(0x3ea)]});}}['createGraphDatabase'](_0x20013c,_0x133495){const _0x37c954=_0xe992e3;if(this[_0x37c954(0x78a)]['has'](_0x20013c))throw new _0x3748ee(_0x2a0ddc[_0x37c954(0x26f)],_0x37c954(0x282));try{const _0x893635=new _0x940501(this[_0x37c954(0x81e)][_0x37c954(0x71d)],_0x20013c,this[_0x37c954(0x81e)][_0x37c954(0x5e2)],this[_0x37c954(0x81e)][_0x37c954(0x3ea)],_0x133495);return this[_0x37c954(0x78a)][_0x37c954(0x888)](_0x20013c,_0x893635),this[_0x37c954(0x81e)][_0x37c954(0x422)]['registerSystemSource'](_0x893635),_0x893635;}catch(_0x3c5b62){if(_0x3c5b62 instanceof _0x3748ee)throw _0x3c5b62;throw new _0xd907de(_0xd907de[_0x37c954(0x386)][_0x37c954(0x916)],{'label':_0x20013c,'clusterId':this[_0x37c954(0x81e)][_0x37c954(0x5e2)],'vendorId':this[_0x37c954(0x81e)][_0x37c954(0x3ea)]});}}[_0xe992e3(0x851)](_0x22e8ba,_0x2548d9){const _0x534a0a=_0xe992e3;if(this[_0x534a0a(0x688)][_0x534a0a(0x64b)](_0x22e8ba))throw new _0x3748ee(_0x2a0ddc[_0x534a0a(0x4a0)],_0x534a0a(0x42f));if(!this[_0x534a0a(0x34f)][_0x534a0a(0xa71)])throw new _0x3748ee(_0x2a0ddc[_0x534a0a(0x252)],_0x534a0a(0x70c));const _0x5dd25c=new _0x5ae7bb(this['configs'][_0x534a0a(0x71d)],_0x22e8ba,_0x2548d9,this['options']['maxFps'],this[_0x534a0a(0x34f)]['audioContext'],this[_0x534a0a(0x81e)][_0x534a0a(0x5e2)]);return this['localMediaStreams']['set'](_0x22e8ba,_0x5dd25c),this[_0x534a0a(0x81e)]['mediator']['registerSystemSource'](_0x5dd25c),_0x5dd25c[_0x534a0a(0x246)](),_0x5dd25c;}[_0xe992e3(0x491)](_0x51cf47,_0x443ab3){const _0x50f4ec=_0xe992e3;if(this[_0x50f4ec(0x688)][_0x50f4ec(0x64b)](_0x51cf47))throw new _0x3748ee(_0x2a0ddc[_0x50f4ec(0x4a0)],_0x50f4ec(0x595));const _0x59d508=new _0x587e7c(this['configs'][_0x50f4ec(0x71d)],_0x51cf47,_0x443ab3,this['configs'][_0x50f4ec(0x5e2)]);return this[_0x50f4ec(0x688)][_0x50f4ec(0x888)](_0x51cf47,_0x59d508),this['configs'][_0x50f4ec(0x422)][_0x50f4ec(0x95e)](_0x59d508),_0x59d508[_0x50f4ec(0x246)](),_0x59d508;}[_0xe992e3(0x814)](_0x26da6a){const _0x5de200=_0xe992e3;if(this[_0x5de200(0x3e6)][_0x5de200(0x64b)](_0x26da6a))throw new _0x3748ee(_0x2a0ddc[_0x5de200(0x2ae)],_0x5de200(0x222));const _0x31866b=new _0x33f493(this[_0x5de200(0x81e)][_0x5de200(0x71d)],_0x26da6a,this[_0x5de200(0x81e)][_0x5de200(0x5e2)]);return this[_0x5de200(0x3e6)][_0x5de200(0x888)](_0x26da6a,_0x31866b),this['configs']['mediator'][_0x5de200(0x95e)](_0x31866b),_0x31866b;}[_0xe992e3(0x9e1)](_0xc366b8,_0x5a2dd3,_0xfb8c4d,_0x5499f7){const _0x27d912=_0xe992e3;this['remoteMediaStreams']['has'](_0xc366b8)||this[_0x27d912(0x244)][_0x27d912(0x888)](_0xc366b8,new Map());const _0x5e18cb=this[_0x27d912(0x244)][_0x27d912(0x6ab)](_0xc366b8);if(_0x5e18cb[_0x27d912(0x64b)](_0x5a2dd3))throw new _0x3748ee(_0x2a0ddc[_0x27d912(0xac2)],_0x27d912(0x466));const _0x2b7119=new _0x5be447(_0xc366b8,'',''),_0x229bfd=new _0x1bc3e0(this[_0x27d912(0x81e)][_0x27d912(0x71d)],_0x2b7119,_0x5a2dd3,_0xfb8c4d,_0x5499f7,this[_0x27d912(0x81e)][_0x27d912(0x5e2)]);return _0x5e18cb['set'](_0x5a2dd3,_0x229bfd),this[_0x27d912(0x81e)][_0x27d912(0x422)]['registerSystemSource'](_0x229bfd),_0x229bfd;}['createVectorDatabase'](_0xaf16d0,_0x433c8){const _0x52e903=_0xe992e3;if(this[_0x52e903(0x96f)][_0x52e903(0x64b)](_0xaf16d0))throw new _0x3748ee(_0x2a0ddc[_0x52e903(0x2b3)],_0x52e903(0x282));try{const _0xbeca30=new _0x5d0ae6(this[_0x52e903(0x81e)][_0x52e903(0x71d)],_0xaf16d0,this['configs'][_0x52e903(0x5e2)],this['configs']['vendorId'],_0x433c8);return this['vectorDatabases'][_0x52e903(0x888)](_0xaf16d0,_0xbeca30),this[_0x52e903(0x81e)]['mediator'][_0x52e903(0x95e)](_0xbeca30),_0xbeca30;}catch(_0x170370){if(_0x170370 instanceof _0x3748ee)throw _0x170370;throw new _0xd907de(_0xd907de[_0x52e903(0x386)][_0x52e903(0x4fc)],{'label':_0xaf16d0,'clusterId':this[_0x52e903(0x81e)][_0x52e903(0x5e2)],'vendorId':this[_0x52e903(0x81e)][_0x52e903(0x3ea)]});}}[_0xe992e3(0x2f6)](_0x176b6d){const _0x55aaec=_0xe992e3,_0xccadd4=Array['from'](this[_0x55aaec(0x96e)][_0x55aaec(0x992)]());return _0x176b6d?_0xccadd4[_0x55aaec(0x1ee)](_0x176b6d):_0xccadd4;}[_0xe992e3(0x3b6)](_0x3d0ae9){const _0x586a80=_0xe992e3,_0x2ffd36=Array[_0x586a80(0x79e)](this[_0x586a80(0x415)]['values']());return _0x3d0ae9?_0x2ffd36[_0x586a80(0x1ee)](_0x3d0ae9):_0x2ffd36;}['getKeyValueDatabases'](_0x228780){const _0x209681=_0xe992e3,_0x1e309e=Array[_0x209681(0x79e)](this[_0x209681(0x9cd)][_0x209681(0x992)]());return _0x228780?_0x1e309e[_0x209681(0x1ee)](_0x228780):_0x1e309e;}[_0xe992e3(0xada)](_0xc23eff){const _0x3e4611=_0xe992e3,_0x17277e=Array[_0x3e4611(0x79e)](this[_0x3e4611(0xa26)]['values']());return _0xc23eff?_0x17277e[_0x3e4611(0x1ee)](_0xc23eff):_0x17277e;}[_0xe992e3(0x2e7)](_0x4b9440){const _0x578c99=_0xe992e3,_0x4d3cb2=Array[_0x578c99(0x79e)](this['jobWorkers']['values']());return _0x4b9440?_0x4d3cb2[_0x578c99(0x1ee)](_0x4b9440):_0x4d3cb2;}[_0xe992e3(0x703)](_0x41faad){const _0x2ab4f4=_0xe992e3,_0x1e464e=Array['from'](this[_0x2ab4f4(0xa26)][_0x2ab4f4(0x992)]())[_0x2ab4f4(0x1ee)](_0x15afdc=>_0x15afdc instanceof _0x5c10ef);return _0x41faad?_0x1e464e[_0x2ab4f4(0x1ee)](_0x41faad):_0x1e464e;}[_0xe992e3(0xa70)](_0x5e1f61){const _0x32ec7c=_0xe992e3,_0x4747c1=Array[_0x32ec7c(0x79e)](this[_0x32ec7c(0x726)][_0x32ec7c(0x992)]());return _0x5e1f61?_0x4747c1[_0x32ec7c(0x1ee)](_0x5e1f61):_0x4747c1;}[_0xe992e3(0x8d9)](_0x54af0a){const _0x2eec0c=_0xe992e3,_0x42f075=Array['from'](this['jobWorkers'][_0x2eec0c(0x992)]())[_0x2eec0c(0x1ee)](_0x1e42d4=>_0x1e42d4 instanceof _0x4ce4d2);return _0x54af0a?_0x42f075['filter'](_0x54af0a):_0x42f075;}[_0xe992e3(0x2c1)](_0x1ffb3e){const _0x5896a7=_0xe992e3,_0x217525=Array[_0x5896a7(0x79e)](this[_0x5896a7(0x78a)][_0x5896a7(0x992)]());return _0x1ffb3e?_0x217525[_0x5896a7(0x1ee)](_0x1ffb3e):_0x217525;}['getLocalMediaStreams'](_0x36947b){const _0x50f24c=_0xe992e3,_0x381b32=Array[_0x50f24c(0x79e)](this[_0x50f24c(0x688)][_0x50f24c(0x992)]());return _0x36947b?_0x381b32['filter'](_0x36947b):_0x381b32;}[_0xe992e3(0x2de)](_0x3d2aff){const _0x354875=_0xe992e3,_0x302e70=Array[_0x354875(0x79e)](this['pubSubTopics']['values']());return _0x3d2aff?_0x302e70['filter'](_0x3d2aff):_0x302e70;}[_0xe992e3(0x72b)](_0x23eab6){const _0x4e225f=_0xe992e3,_0x5c053c=Array[_0x4e225f(0x79e)](this[_0x4e225f(0x244)][_0x4e225f(0x992)]())[_0x4e225f(0x3d2)]((_0x15ddae,_0x46f551)=>[..._0x15ddae,...Array[_0x4e225f(0x79e)](_0x46f551[_0x4e225f(0x992)]())],[]);return _0x23eab6?_0x5c053c[_0x4e225f(0x1ee)](_0x23eab6):_0x5c053c;}[_0xe992e3(0x72f)](_0x13bd50){const _0xe0d8bf=_0xe992e3,_0x275cd1=Array['from'](this['vectorDatabases'][_0xe0d8bf(0x992)]());return _0x13bd50?_0x275cd1[_0xe0d8bf(0x1ee)](_0x13bd50):_0x275cd1;}[_0xe992e3(0x4e8)](_0x28883f){const _0x54ec2c=_0xe992e3,_0x116592=this[_0x54ec2c(0x96e)][_0x54ec2c(0x6ab)](_0x28883f);if(!_0x116592)throw new _0x3748ee(_0x2a0ddc['ObjectStoreDoesNotExist'],'ObjectStore\x20not\x20found');return _0x116592;}[_0xe992e3(0x6ea)](_0x3b56e1){const _0x326399=_0xe992e3,_0x7d515b=_0x3b56e1['split']('-'),_0x55823c=this['externalStorageConnections'][_0x326399(0x6ab)](_0x7d515b[0x1]);if(!_0x55823c)throw new _0x3748ee(_0x2a0ddc[_0x326399(0x2d4)],_0x326399(0x74f));return _0x55823c;}[_0xe992e3(0x502)](_0x5323fd){const _0x46719d=_0xe992e3,_0x57db34=this[_0x46719d(0x78a)][_0x46719d(0x6ab)](_0x5323fd);if(!_0x57db34)throw new _0x3748ee(_0x2a0ddc[_0x46719d(0x629)],_0x46719d(0x5ed));return _0x57db34;}[_0xe992e3(0x962)](_0x4098c0){const _0xdb7fe3=_0xe992e3,_0x26800c=this[_0xdb7fe3(0x9cd)][_0xdb7fe3(0x6ab)](_0x4098c0);if(!_0x26800c)throw new _0x3748ee(_0x2a0ddc[_0xdb7fe3(0x886)],_0xdb7fe3(0x6ca));return _0x26800c;}[_0xe992e3(0x4d3)](_0x5f13fe){const _0x14ee53=_0xe992e3,_0xb32a4a=this[_0x14ee53(0x3e6)]['get'](_0x5f13fe);if(!_0xb32a4a)throw new _0x3748ee(_0x2a0ddc[_0x14ee53(0x974)],'PubSubTopic\x20not\x20found');return _0xb32a4a;}[_0xe992e3(0x258)](_0x1a5559){const _0x1bf5dd=_0xe992e3,_0x3471b2=this['vectorDatabases'][_0x1bf5dd(0x6ab)](_0x1a5559);if(!_0x3471b2)throw new _0x3748ee(_0x2a0ddc[_0x1bf5dd(0x81b)],_0x1bf5dd(0x549));return _0x3471b2;}['handleContentSystemEvents'](_0x427bbb){const _0x2fb571=_0xe992e3;switch(_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x689)]){case _0x26ec79[_0x2fb571(0x877)]:this['handlePublishMediaStream'](_0x427bbb['content']);break;case _0x26ec79[_0x2fb571(0x156)]:this[_0x2fb571(0x16d)](_0x427bbb[_0x2fb571(0x2e4)]);break;case _0x26ec79[_0x2fb571(0x14a)]:this[_0x2fb571(0x2f9)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)]);break;case _0x26ec79['CloseJobWorker']:this['removeJobWorker'](_0x427bbb['content']['label']);break;case _0x26ec79['CloseGenerativeAIContext']:this[_0x2fb571(0x747)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)]);break;case _0x26ec79[_0x2fb571(0x77c)]:this[_0x2fb571(0x80a)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)]);break;case _0x26ec79[_0x2fb571(0xa43)]:this[_0x2fb571(0x38f)](_0x427bbb[_0x2fb571(0x2e4)]['label']);break;case _0x26ec79[_0x2fb571(0x750)]:this['removeObjectStore'](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)]);break;case _0x26ec79[_0x2fb571(0x41d)]:this[_0x2fb571(0x66a)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)]);break;case _0x26ec79[_0x2fb571(0x3ef)]:this[_0x2fb571(0x87f)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)]);break;case _0x26ec79[_0x2fb571(0x55b)]:this[_0x2fb571(0x972)](_0x427bbb['content'][_0x2fb571(0x3fc)]);break;case _0x26ec79[_0x2fb571(0x67b)]:this[_0x2fb571(0x323)](_0x427bbb['content'][_0x2fb571(0x3fc)]);break;case _0x26ec79[_0x2fb571(0x8d5)]:this[_0x2fb571(0x7cb)](_0x427bbb[_0x2fb571(0x2e4)]);break;case _0x26ec79[_0x2fb571(0x413)]:this[_0x2fb571(0x9cd)][_0x2fb571(0x6ab)](_0x427bbb[_0x2fb571(0x2e4)]['label'])?.[_0x2fb571(0x75c)](_0x427bbb['sourceId'],_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x906)]);break;case _0x26ec79[_0x2fb571(0x294)]:this[_0x2fb571(0x9cd)][_0x2fb571(0x6ab)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)])?.['processContentSynchronized'](_0x427bbb[_0x2fb571(0x3c8)],_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x906)]);break;case _0x26ec79[_0x2fb571(0x4c4)]:this[_0x2fb571(0x9cd)][_0x2fb571(0x6ab)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)])?.['processContentAvailable'](_0x427bbb[_0x2fb571(0x3c8)],_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x58e)]);break;case _0x26ec79['KeyValueDatabaseRequestPeakTransactions']:this[_0x2fb571(0x9cd)][_0x2fb571(0x6ab)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)])?.[_0x2fb571(0x1fc)](_0x427bbb[_0x2fb571(0x3c8)],_0x427bbb[_0x2fb571(0x2e4)]['peakHeights']);break;case _0x26ec79['KeyValueDatabaseRequestTransactionsValue']:this[_0x2fb571(0x9cd)][_0x2fb571(0x6ab)](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)])?.[_0x2fb571(0x3b1)](_0x427bbb[_0x2fb571(0x3c8)],_0x427bbb[_0x2fb571(0x2e4)]['transactionIds']);break;case _0x26ec79[_0x2fb571(0x27a)]:this[_0x2fb571(0x9cd)]['get'](_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)])?.[_0x2fb571(0x699)](_0x427bbb['sourceId'],_0x427bbb['content'][_0x2fb571(0x38a)]);break;case _0x26ec79['LocalMediaStreamTrackFail']:this[_0x2fb571(0x81e)]['mediator']['notifyCluster']('local-media-stream-track-fail',{'label':_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x3fc)],'trackKinds':_0x427bbb[_0x2fb571(0x2e4)][_0x2fb571(0x503)]});}}['handleNodeSystemEvents']({content:_0x502526}){const _0x4ca331=_0xe992e3;switch(_0x502526[_0x4ca331(0x689)]){case _0x25a471['NodeJoin']:this[_0x4ca331(0x31e)](_0x502526),this[_0x4ca331(0x32d)](_0x502526);break;case _0x25a471['NodeLeave']:this[_0x4ca331(0x5fa)](_0x502526),this['notifyObjectStoreOfNodeLeave'](_0x502526);}}[_0xe992e3(0xaa9)](_0x35f5f1){const _0x1d09d6=_0xe992e3;switch(_0x35f5f1[_0x1d09d6(0x2e4)][_0x1d09d6(0x689)]){case _0x311c63[_0x1d09d6(0x47e)]:this['handleSubscribeMediaStream'](_0x35f5f1[_0x1d09d6(0x3c8)],_0x35f5f1['content']);break;case _0x311c63[_0x1d09d6(0x54c)]:this[_0x1d09d6(0x7a4)](_0x35f5f1[_0x1d09d6(0x3c8)],_0x35f5f1['content']);break;case _0x311c63[_0x1d09d6(0x8d5)]:this[_0x1d09d6(0x6da)](_0x35f5f1[_0x1d09d6(0x3c8)],_0x35f5f1['content']);}}['handleContentUnsubscribeMediaStream'](_0x50b155){const _0x50468a=_0xe992e3;if(0x0===_0x50b155[_0x50468a(0xab1)])this[_0x50468a(0x244)][_0x50468a(0x6ab)](_0x50b155[_0x50468a(0x87c)])?.[_0x50468a(0x6ab)](_0x50b155[_0x50468a(0x3fc)])?.[_0x50468a(0x551)]();else{const _0x303415=this[_0x50468a(0x244)][_0x50468a(0x6ab)](_0x50b155[_0x50468a(0x87c)])?.['get'](_0x50b155[_0x50468a(0x3fc)]);if(!_0x303415)return;_0x50b155[_0x50468a(0x503)][_0x50468a(0x558)](_0x45d7e3=>_0x303415['unsubscribeTrackEndedListener'](_0x45d7e3));}}[_0xe992e3(0x861)](_0x591c70){const _0x43f201=_0xe992e3,{label:_0x2c5712,ownerId:_0x459a90,stream:{streamId:_0x3fa037,availableTrackKinds:_0x13a9ed}}=_0x591c70;if(this['remoteMediaStreams'][_0x43f201(0x6ab)](_0x459a90)?.[_0x43f201(0x64b)](_0x2c5712))return void _0xd64180[_0x43f201(0x991)](_0x3c5ddd[_0x43f201(0x52d)],_0x43f201(0x595),_0x3fa037);const _0x22f841=this['createRemoteMediaStream'](_0x459a90,_0x2c5712,_0x3fa037,_0x13a9ed);this[_0x43f201(0x81e)]['mediator']['notifyCluster'](_0x43f201(0x8b3),{'ownerId':_0x459a90,'stream':_0x22f841});}[_0xe992e3(0x16d)]({ownerId:_0x33a118,label:_0x1daa34}){const _0x369c30=_0xe992e3;this[_0x369c30(0xb0f)](_0x33a118,_0x1daa34),this[_0x369c30(0x81e)][_0x369c30(0x422)][_0x369c30(0x7fc)](_0x369c30(0x6c0),{'ownerId':_0x33a118,'label':_0x1daa34});}['handleSubscribeMediaStream'](_0x65a687,_0x152031){const _0x284bcc=_0xe992e3,{ownerId:_0x1cc1fe,label:_0x2cea5c}=_0x152031;let _0x5a3a14;_0x5a3a14=_0x1cc1fe!==this[_0x284bcc(0x81e)]['localNode'][_0x284bcc(0x686)]()?this[_0x284bcc(0x244)]['get'](_0x1cc1fe)[_0x284bcc(0x6ab)](_0x2cea5c):this[_0x284bcc(0x688)]['get'](_0x2cea5c),_0x5a3a14[_0x284bcc(0x348)](_0x65a687,_0x152031['params'])[_0x284bcc(0x60c)](_0x152031,_0x5a3a14['getPriority']());}['handleUpdateMediaStream'](_0x297075,_0x2d6cc3){const _0x4b658e=_0xe992e3,{ownerId:_0x5738f1,label:_0x39b125}=_0x2d6cc3;let _0x169e12;_0x169e12=_0x5738f1!==this['configs'][_0x4b658e(0x71d)][_0x4b658e(0x686)]()?this[_0x4b658e(0x244)][_0x4b658e(0x6ab)](_0x5738f1)['get'](_0x39b125):this[_0x4b658e(0x688)]['get'](_0x39b125),_0x169e12[_0x4b658e(0x348)](_0x297075,_0x2d6cc3[_0x4b658e(0x765)])[_0x4b658e(0xa65)](_0x2d6cc3);}[_0xe992e3(0x6da)](_0x490601,_0xe5b1b0){const _0x3990cd=_0xe992e3,{ownerId:_0x2b8f2b,label:_0x533088}=_0xe5b1b0;let _0xc4c0;_0xc4c0=_0x2b8f2b!==this[_0x3990cd(0x81e)]['localNode'][_0x3990cd(0x686)]()?this[_0x3990cd(0x244)]['get'](_0x2b8f2b)[_0x3990cd(0x6ab)](_0x533088):this['localMediaStreams'][_0x3990cd(0x6ab)](_0x533088),_0xc4c0[_0x3990cd(0x348)](_0x490601)[_0x3990cd(0x4c0)](_0xe5b1b0);}[_0xe992e3(0x31e)]({id:_0x61b502}){const _0x5d8f88=_0xe992e3;this[_0x5d8f88(0x7a3)]()['forEach'](_0x58d07f=>{const _0x34cd67=_0x5d8f88;_0x58d07f[_0x34cd67(0x246)](_0x61b502);});}[_0xe992e3(0x5fa)]({id:_0x39919f}){const _0x14abe1=_0xe992e3;this[_0x14abe1(0x72b)](_0x144933=>_0x144933[_0x14abe1(0x4a8)]()===_0x39919f)[_0x14abe1(0x558)](_0x2014e3=>{const _0x21ead1=_0x14abe1;this[_0x21ead1(0xb0f)](_0x2014e3[_0x21ead1(0x4a8)](),_0x2014e3[_0x21ead1(0x270)]());});}[_0xe992e3(0x32d)]({id:_0x37a2f5}){const _0x264bee=_0xe992e3;this[_0x264bee(0x96e)][_0x264bee(0x558)](_0x5de4c1=>_0x5de4c1[_0x264bee(0x4aa)](_0x37a2f5));}[_0xe992e3(0x862)]({id:_0x124da0}){const _0x5326e6=_0xe992e3;this[_0x5326e6(0x96e)][_0x5326e6(0x558)](_0x46deff=>_0x46deff['handleNodeLeave'](_0x124da0));}['removeJobDispatcher'](_0x324b82){const _0x538f42=_0xe992e3;if(!this[_0x538f42(0xa26)][_0x538f42(0x64b)](_0x324b82))throw new _0x3748ee(_0x2a0ddc[_0x538f42(0x669)],_0x538f42(0x53e));const _0x2a50bd=this[_0x538f42(0xa26)][_0x538f42(0x6ab)](_0x324b82);this[_0x538f42(0xa26)][_0x538f42(0x5eb)](_0x324b82),_0x2a50bd[_0x538f42(0x551)](),this[_0x538f42(0x81e)][_0x538f42(0x422)][_0x538f42(0x35f)](_0x2a50bd);}[_0xe992e3(0x99e)](_0x18a462){const _0x552465=_0xe992e3;if(!this['jobWorkers'][_0x552465(0x64b)](_0x18a462))throw new _0x3748ee(_0x2a0ddc[_0x552465(0x99a)],'Job\x20Worker\x20does\x20not\x20exist');const _0x1587b=this['jobWorkers'][_0x552465(0x6ab)](_0x18a462);this['jobWorkers']['delete'](_0x18a462),_0x1587b[_0x552465(0x551)](),this[_0x552465(0x81e)][_0x552465(0x422)][_0x552465(0x35f)](_0x1587b);}[_0xe992e3(0x747)](_0x2322ca){const _0x141927=_0xe992e3;if(!this['generativeAIContexts'][_0x141927(0x64b)](_0x2322ca))throw new _0x3748ee(_0x2a0ddc[_0x141927(0xae5)],'Generative\x20AI\x20Context\x20does\x20not\x20exist');const _0x20c3be=this[_0x141927(0x726)][_0x141927(0x6ab)](_0x2322ca);this[_0x141927(0x726)][_0x141927(0x5eb)](_0x2322ca),this[_0x141927(0x81e)][_0x141927(0x422)]['unregisterSystemSource'](_0x20c3be);}[_0xe992e3(0x7bf)](_0x4e7ee9){const _0x36eccc=_0xe992e3;if(!this[_0x36eccc(0x96e)]['has'](_0x4e7ee9))throw new _0x3748ee(_0x2a0ddc[_0x36eccc(0xa31)],_0x36eccc(0xac8));const _0x3aabec=this[_0x36eccc(0x96e)]['get'](_0x4e7ee9);this[_0x36eccc(0x96e)][_0x36eccc(0x5eb)](_0x4e7ee9),_0x3aabec[_0x36eccc(0x551)](),this[_0x36eccc(0x81e)]['mediator'][_0x36eccc(0x35f)](_0x3aabec);}['removeExternalStorageConnection'](_0x483e25){const _0x1aa2b0=_0xe992e3;if(!this[_0x1aa2b0(0x415)][_0x1aa2b0(0x64b)](_0x483e25))throw new _0x3748ee(_0x2a0ddc[_0x1aa2b0(0x2d4)],_0x1aa2b0(0x996));const _0x325f5b=this[_0x1aa2b0(0x415)][_0x1aa2b0(0x6ab)](_0x483e25);this['externalStorageConnections'][_0x1aa2b0(0x5eb)](_0x483e25),_0x325f5b[_0x1aa2b0(0x551)](),this['configs'][_0x1aa2b0(0x422)]['unregisterSystemSource'](_0x325f5b);}[_0xe992e3(0x38f)](_0x20ad5d){const _0x443e24=_0xe992e3;if(!this['pubSubTopics']['has'](_0x20ad5d))throw new _0x3748ee(_0x2a0ddc[_0x443e24(0x974)],_0x443e24(0xac8));const _0x27914a=this[_0x443e24(0x3e6)][_0x443e24(0x6ab)](_0x20ad5d);this[_0x443e24(0x3e6)][_0x443e24(0x5eb)](_0x20ad5d),_0x27914a[_0x443e24(0x551)](),this[_0x443e24(0x81e)][_0x443e24(0x422)][_0x443e24(0x35f)](_0x27914a);}[_0xe992e3(0x87f)](_0x31c96f){const _0x4e1cdd=_0xe992e3;if(!this[_0x4e1cdd(0x9cd)][_0x4e1cdd(0x64b)](_0x31c96f))throw new _0x3748ee(_0x2a0ddc[_0x4e1cdd(0x886)],_0x4e1cdd(0x64a));const _0x2464f7=this[_0x4e1cdd(0x9cd)][_0x4e1cdd(0x6ab)](_0x31c96f);this['keyValueDatabases'][_0x4e1cdd(0x5eb)](_0x31c96f),_0x2464f7[_0x4e1cdd(0x551)](),this[_0x4e1cdd(0x81e)][_0x4e1cdd(0x422)]['unregisterSystemSource'](_0x2464f7);}['removeVectorDatabase'](_0x199a86){const _0x78abbe=_0xe992e3;if(!this[_0x78abbe(0x96f)]['has'](_0x199a86))throw new _0x3748ee(_0x2a0ddc[_0x78abbe(0x81b)],_0x78abbe(0x64a));const _0x41c9f1=this[_0x78abbe(0x96f)][_0x78abbe(0x6ab)](_0x199a86);this['vectorDatabases'][_0x78abbe(0x5eb)](_0x199a86),_0x41c9f1[_0x78abbe(0x551)](),this['configs'][_0x78abbe(0x422)][_0x78abbe(0x35f)](_0x41c9f1);}['removeGraphDatabase'](_0x269aa1){const _0x6448dd=_0xe992e3;if(!this[_0x6448dd(0x78a)]['has'](_0x269aa1))throw new _0x3748ee(_0x2a0ddc[_0x6448dd(0x629)],'Database\x20does\x20not\x20exist');const _0xadc538=this[_0x6448dd(0x78a)][_0x6448dd(0x6ab)](_0x269aa1);this['graphDatabases'][_0x6448dd(0x5eb)](_0x269aa1),_0xadc538[_0x6448dd(0x551)](),this[_0x6448dd(0x81e)][_0x6448dd(0x422)][_0x6448dd(0x35f)](_0xadc538);}[_0xe992e3(0x80a)](_0x2db5e8){const _0x5dff17=_0xe992e3;if(!this['localMediaStreams'][_0x5dff17(0x64b)](_0x2db5e8))throw new _0xd907de(_0xd907de['codes']['LocalMediaStreamDoesNotExist'],{'label':_0x2db5e8,'localId':this[_0x5dff17(0x81e)]['localNode']['getId']()});const _0x3a8a08=this[_0x5dff17(0x688)][_0x5dff17(0x6ab)](_0x2db5e8);this[_0x5dff17(0x81e)][_0x5dff17(0x422)][_0x5dff17(0x35f)](_0x3a8a08),_0x3a8a08[_0x5dff17(0x551)](),this[_0x5dff17(0x688)][_0x5dff17(0x5eb)](_0x2db5e8);}[_0xe992e3(0xb0f)](_0x59b1a8,_0x5b4ef8){const _0x527bfc=_0xe992e3;if(!this[_0x527bfc(0x244)][_0x527bfc(0x64b)](_0x59b1a8))throw new _0xd907de(_0xd907de[_0x527bfc(0x386)][_0x527bfc(0x1b6)],{'nodeId':_0x59b1a8,'localId':this[_0x527bfc(0x81e)]['localNode'][_0x527bfc(0x686)]()});const _0x27f801=this[_0x527bfc(0x244)][_0x527bfc(0x6ab)](_0x59b1a8);if(!_0x27f801[_0x527bfc(0x64b)](_0x5b4ef8))throw new _0xd907de(_0xd907de['codes'][_0x527bfc(0x859)],{'nodeId':_0x59b1a8,'label':_0x5b4ef8,'localId':this[_0x527bfc(0x81e)][_0x527bfc(0x71d)][_0x527bfc(0x686)]()});const _0x2c598c=_0x27f801[_0x527bfc(0x6ab)](_0x5b4ef8);this[_0x527bfc(0x81e)][_0x527bfc(0x422)]['unregisterSystemSource'](_0x2c598c),_0x2c598c[_0x527bfc(0x551)](),_0x27f801[_0x527bfc(0x5eb)](_0x5b4ef8);}}var _0x24090b,_0xf0f020,_0xe1a757;!function(_0x264f05){const _0x211af1=_0xe992e3;_0x264f05[_0x211af1(0x212)]=_0x211af1(0x782),_0x264f05[_0x211af1(0x196)]=_0x211af1(0x979),_0x264f05['TimePerFrame']=_0x211af1(0xa64),_0x264f05['Bitrate']=_0x211af1(0x21f),_0x264f05[_0x211af1(0x66c)]=_0x211af1(0x122),_0x264f05['FramePerSecond']=_0x211af1(0x8c9),_0x264f05[_0x211af1(0x9a2)]=_0x211af1(0x639),_0x264f05[_0x211af1(0x4be)]=_0x211af1(0x44e);}(_0x24090b||(_0x24090b={})),function(_0x2cf5b7){const _0x359fa4=_0xe992e3;_0x2cf5b7[_0x359fa4(0x19a)]='cpu.cycle',_0x2cf5b7[_0x359fa4(0x986)]=_0x359fa4(0x64f),_0x2cf5b7[_0x359fa4(0x4be)]=_0x359fa4(0x18d),_0x2cf5b7['FramePerSecond']='cpu.fps',_0x2cf5b7[_0x359fa4(0x893)]='bandwidth.bitrate',_0x2cf5b7[_0x359fa4(0x66c)]=_0x359fa4(0x714),_0x2cf5b7[_0x359fa4(0x9a2)]=_0x359fa4(0x6aa);}(_0xf0f020||(_0xf0f020={})),function(_0x4c65bf){const _0x516e21=_0xe992e3;_0x4c65bf[_0x4c65bf[_0x516e21(0xad4)]=0x0]=_0x516e21(0xad4);}(_0xe1a757||(_0xe1a757={}));const _0x3aba78=[{'type':_0x24090b[_0xe992e3(0x212)],'reportMetric':_0x46f36f=>_0x46f36f['STVolatility'],'maxThreshold':2.5},{'type':_0x24090b[_0xe992e3(0x196)],'reportMetric':_0x46af6d=>_0x46af6d['DTVolatility'],'maxThreshold':0.5}],_0x4b75b0=[{'type':_0x24090b[_0xe992e3(0x986)],'reportMetric':_0x4139f7=>{const _0x32dd80=_0xe992e3,_0x58f8d1=0x3e8/_0x4139f7[_0x32dd80(0x2fd)];return _0x4139f7[_0x32dd80(0x6e0)]/_0x58f8d1;},'maxThreshold':0.75},{'type':_0x24090b[_0xe992e3(0x893)],'reportMetric':_0x25f739=>{const _0x34b013=_0xe992e3,_0x36d66a=_0x25f739[_0x34b013(0x2fd)]*_0x25f739[_0x34b013(0x712)]*_0x25f739[_0x34b013(0x839)]*0.12;return _0x25f739[_0x34b013(0x21f)]/_0x36d66a;},'minThreshold':0.25},{'type':_0x24090b[_0xe992e3(0x66c)],'reportMetric':_0x516b0e=>_0x516b0e[_0xe992e3(0x122)],'maxThreshold':0.6},{'type':_0x24090b['FramePerSecond'],'reportMetric':_0x180e3a=>_0x180e3a[_0xe992e3(0x2fd)],'minThreshold':0xa}],_0x1dab86=[{'type':_0x24090b[_0xe992e3(0x66c)],'reportMetric':_0x245ff7=>_0x245ff7[_0xe992e3(0x122)],'maxThreshold':0.6}],_0x2882f5=[{'type':_0x24090b[_0xe992e3(0x9a2)],'reportMetric':_0x4c7d38=>_0x4c7d38[_0xe992e3(0xad1)],'maxThreshold':0x1/0x0}],_0x22d14e=[{'type':_0x24090b['AudioVideoDelay'],'reportMetric':_0x1b4dde=>_0x1b4dde['AudioVideoDelay'],'maxThreshold':0x12c}],_0x1c8432=[{'type':_0xf0f020[_0xe992e3(0x19a)],'issues':[{'type':_0x24090b[_0xe992e3(0x212)],'threshold':0x5},{'type':_0x24090b[_0xe992e3(0x196)],'threshold':0x5}]},{'type':_0xf0f020['TimePerFrame'],'issues':[{'type':_0x24090b['TimePerFrame'],'threshold':0x3}]},{'type':_0xf0f020['AudioVideoDelay'],'issues':[{'type':_0x24090b[_0xe992e3(0x4be)],'threshold':0x2}]},{'type':_0xf0f020[_0xe992e3(0x7d4)],'issues':[{'type':_0x24090b['FramePerSecond'],'threshold':0x3}]},{'type':_0xf0f020[_0xe992e3(0x893)],'issues':[{'type':_0x24090b[_0xe992e3(0x893)],'threshold':0x3}]},{'type':_0xf0f020['Jitter'],'issues':[{'type':_0x24090b[_0xe992e3(0x66c)],'threshold':0x3}]},{'type':_0xf0f020['RoundTripTime'],'issues':[{'type':_0x24090b[_0xe992e3(0x9a2)],'threshold':0x3}]}];var _0x51cca5,_0x5c56c8;!function(_0xe81f48){const _0x2c3e28=_0xe992e3;_0xe81f48[_0xe81f48['StreamReport']=0x0]=_0x2c3e28(0xa7b),_0xe81f48[_0xe81f48[_0x2c3e28(0xad6)]=0x1]=_0x2c3e28(0xad6);}(_0x51cca5||(_0x51cca5={}));class _0x19f392{[_0xe992e3(0x81e)];['issues']=[];[_0xe992e3(0x587)];constructor(_0x39230e){const _0x3add27=_0xe992e3;this[_0x3add27(0x81e)]=_0x39230e,this[_0x3add27(0x81e)][_0x3add27(0x422)][_0x3add27(0x95e)](this);}[_0xe992e3(0x4a5)](_0x32c3e3){const _0x39c180=_0xe992e3;this[_0x39c180(0x587)]=_0x32c3e3;}['unregisterSystemPublisher'](){const _0x1e6beb=_0xe992e3;this[_0x1e6beb(0x587)]=void 0x0;}['close'](){const _0xb50a0f=_0xe992e3;this['configs']['mediator'][_0xb50a0f(0x35f)](this),this[_0xb50a0f(0x5a6)]=[];}[_0xe992e3(0x215)](_0x2b686e){const _0x795f59=_0xe992e3;switch(_0x2b686e[_0x795f59(0x2e4)][_0x795f59(0x689)]){case _0x51cca5['LocalReport']:this[_0x795f59(0x1b3)](_0x2b686e[_0x795f59(0x2e4)][_0x795f59(0x9a6)]);break;case _0x51cca5[_0x795f59(0xa7b)]:this[_0x795f59(0xaa7)](_0x2b686e[_0x795f59(0x2e4)][_0x795f59(0x9a6)]);}}['detectProblems'](_0x52a88d,_0x2ad0bd,_0x5c3b90,_0x24c36e){const _0x256431=_0xe992e3,_0x5d2e0a=_0x1c8432[_0x256431(0xa57)](_0x5cd05f=>_0x5cd05f['issues'][_0x256431(0x276)](_0x63e902=>_0x63e902[_0x256431(0x689)]===_0x52a88d));_0x24c36e>=_0x5d2e0a[_0x256431(0x5a6)][_0x256431(0xa57)](_0x1f3745=>_0x1f3745[_0x256431(0x689)]===_0x52a88d)[_0x256431(0x5a1)]&&(this[_0x256431(0x8fa)](_0x5d2e0a[_0x256431(0x689)],_0x2ad0bd,_0x5c3b90),this[_0x256431(0x5a6)]=this[_0x256431(0x5a6)][_0x256431(0x1ee)](_0x394387=>!(_0x394387[_0x256431(0x689)]===_0x52a88d&&_0x394387[_0x256431(0x500)]===_0x2ad0bd&&_0x394387['origin']===_0x5c3b90)));}[_0xe992e3(0x1b3)](_0x33fced){_0x3aba78['forEach'](_0x6fd74a=>{const _0x462445=a0_0xca1a,_0x45ecd8=_0x6fd74a['reportMetric'](_0x33fced);_0x6fd74a['maxThreshold']&&_0x45ecd8>_0x6fd74a['maxThreshold']&&this['addIssue'](_0x6fd74a[_0x462445(0x689)],this[_0x462445(0x81e)][_0x462445(0x71d)][_0x462445(0x686)](),_0x50eff2['Sender'],_0x45ecd8),_0x6fd74a[_0x462445(0x1bb)]&&_0x45ecd8<_0x6fd74a['minThreshold']&&this[_0x462445(0x2f2)](_0x6fd74a['type'],this[_0x462445(0x81e)]['localNode'][_0x462445(0x686)](),_0x50eff2[_0x462445(0x77e)],_0x45ecd8);});}[_0xe992e3(0xaa7)](_0x55e327){const _0xd4140b=_0xe992e3;let _0x29adc7=[];switch(_0x55e327[_0xd4140b(0x45e)]){case _0x50eff2[_0xd4140b(0x77e)]:_0x29adc7=_0x2882f5;break;case _0x50eff2['Receiver']:_0x29adc7=_0x22d14e;}_0x55e327[_0xd4140b(0x4dd)]&&this[_0xd4140b(0x4ff)](_0x55e327['nodeId'],_0x50eff2[_0xd4140b(0x77e)],_0x55e327['video']),_0x55e327['audio']&&this['detectAudioIssues'](_0x55e327[_0xd4140b(0x500)],_0x50eff2[_0xd4140b(0x77e)],_0x55e327[_0xd4140b(0x1fb)]),_0x29adc7[_0xd4140b(0x558)](_0x3d6fe3=>{const _0x5b5929=_0xd4140b,_0x385589=_0x3d6fe3[_0x5b5929(0x4b9)](_0x55e327);_0x3d6fe3[_0x5b5929(0x43a)]&&_0x385589>_0x3d6fe3[_0x5b5929(0x43a)]&&this[_0x5b5929(0x2f2)](_0x3d6fe3[_0x5b5929(0x689)],_0x55e327['nodeId'],_0x50eff2['Sender'],_0x385589),_0x3d6fe3[_0x5b5929(0x1bb)]&&_0x385589<_0x3d6fe3[_0x5b5929(0x1bb)]&&this['addIssue'](_0x3d6fe3[_0x5b5929(0x689)],_0x55e327[_0x5b5929(0x500)],_0x50eff2['Sender'],_0x385589);});}[_0xe992e3(0x4ff)](_0x33eb5f,_0x46f0aa,_0x9ef733){const _0x23982d=_0xe992e3;0x0!==_0x9ef733[_0x23982d(0x21f)]&&_0x4b75b0[_0x23982d(0x558)](_0x328a2a=>{const _0x17dc7a=_0x23982d,_0x16125f=_0x328a2a['reportMetric'](_0x9ef733);_0x328a2a[_0x17dc7a(0x43a)]&&_0x16125f>_0x328a2a[_0x17dc7a(0x43a)]&&this[_0x17dc7a(0x2f2)](_0x328a2a[_0x17dc7a(0x689)],_0x33eb5f,_0x46f0aa,_0x16125f,'video'),_0x328a2a[_0x17dc7a(0x1bb)]&&_0x16125f<_0x328a2a[_0x17dc7a(0x1bb)]&&this['addIssue'](_0x328a2a[_0x17dc7a(0x689)],_0x33eb5f,_0x46f0aa,_0x16125f,'video');});}[_0xe992e3(0xaae)](_0x4ab388,_0x1d8e8d,_0xffd691){const _0x4b44e2=_0xe992e3;0x0!==_0xffd691[_0x4b44e2(0x21f)]&&_0x1dab86['forEach'](_0x2fdd5f=>{const _0x5658c1=_0x4b44e2,_0x2f811f=_0x2fdd5f[_0x5658c1(0x4b9)](_0xffd691);_0x2fdd5f['maxThreshold']&&_0x2f811f>_0x2fdd5f['maxThreshold']&&this[_0x5658c1(0x2f2)](_0x2fdd5f['type'],_0x4ab388,_0x1d8e8d,_0x2f811f,_0x5658c1(0x1fb)),_0x2fdd5f[_0x5658c1(0x1bb)]&&_0x2f811f<_0x2fdd5f[_0x5658c1(0x1bb)]&&this[_0x5658c1(0x2f2)](_0x2fdd5f['type'],_0x4ab388,_0x1d8e8d,_0x2f811f,_0x5658c1(0x1fb));});}['addIssue'](_0x429737,_0x409f03,_0x1cb8c2,_0xba3773,_0x5ca048){const _0x57b372=_0xe992e3;_0xd64180[_0x57b372(0x991)](_0x3c5ddd['Detection'],_0x57b372(0x366)+_0x429737,_0x429737,_0xba3773),_0xd64180['logEvent'](_0x57b372(0x700),{'clusterId':this[_0x57b372(0x81e)][_0x57b372(0x5e2)],'nodeId':this[_0x57b372(0x81e)]['localNode'][_0x57b372(0x686)](),'nodeType':this[_0x57b372(0x81e)][_0x57b372(0x71d)][_0x57b372(0x689)],'remoteId':_0x409f03,'data':{'type':_0x429737,'value':_0xba3773,'kind':_0x5ca048}}),this[_0x57b372(0x5a6)]=this[_0x57b372(0x5a6)][_0x57b372(0x1ee)](_0xcbc5e4=>Date[_0x57b372(0x559)]()-_0xcbc5e4['timestamp']<0x7530),this[_0x57b372(0x5a6)][_0x57b372(0xae7)]({'timestamp':Date['now'](),'type':_0x429737,'nodeId':_0x409f03,'origin':_0x1cb8c2,'value':_0xba3773,'kind':_0x5ca048});const _0x45f175=this[_0x57b372(0x5a6)][_0x57b372(0x1ee)](_0x2a755a=>_0x2a755a[_0x57b372(0x689)]===_0x429737&&_0x2a755a['nodeId']===_0x409f03&&_0x2a755a[_0x57b372(0x45e)]===_0x1cb8c2)[_0x57b372(0x756)];this[_0x57b372(0xb09)](_0x429737,_0x409f03,_0x1cb8c2,_0x45f175);}[_0xe992e3(0x8fa)](_0x585db3,_0x381fe6,_0x221e15){const _0x5350f9=_0xe992e3;_0xd64180[_0x5350f9(0x991)](_0x3c5ddd[_0x5350f9(0x365)],'Problem\x20detected:\x20'+_0x585db3),_0xd64180[_0x5350f9(0x3b3)](_0x5350f9(0x7c0),{'clusterId':this[_0x5350f9(0x81e)][_0x5350f9(0x5e2)],'nodeId':this[_0x5350f9(0x81e)][_0x5350f9(0x71d)][_0x5350f9(0x686)](),'nodeType':this['configs']['localNode']['type'],'remoteId':_0x381fe6,'data':{'type':_0x585db3}}),this['systemTopic']?.[_0x5350f9(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x5350f9(0x365)],'content':{'type':_0xe1a757[_0x5350f9(0xad4)],'data':{'timestamp':Date[_0x5350f9(0x559)](),'nodeId':_0x381fe6,'origin':_0x50eff2[_0x5350f9(0x77e)],'type':_0x585db3}}});}}class _0x18feb2 extends _0x5b3ce4{[_0xe992e3(0x689)]=_0x981fb5[_0xe992e3(0x148)][_0xe992e3(0x2a4)];}class _0x2b01ee extends _0x18feb2{[_0xe992e3(0x587)];[_0xe992e3(0x8cd)]=Date['now']();[_0xe992e3(0x9cb)];['lastUpdated'];[_0xe992e3(0x1c9)](){const _0x68268c=_0xe992e3;this['updateDebounceTimeout']&&(clearTimeout(this[_0x68268c(0x9cb)]),delete this['updateDebounceTimeout']),delete this[_0x68268c(0x8f3)],this[_0x68268c(0x8cd)]=Date[_0x68268c(0x559)](),super[_0x68268c(0x1c9)]();}[_0xe992e3(0x4a5)](_0x1ccf64){const _0x3a4454=_0xe992e3;this[_0x3a4454(0x587)]=_0x1ccf64;}['unregisterSystemPublisher'](){const _0x1b9282=_0xe992e3;delete this[_0x1b9282(0x587)];}['answerJoin'](_0x59887c){const _0x2d494e=_0xe992e3;!this[_0x2d494e(0x9cb)]&&this['rank']&&this[_0x2d494e(0x587)]['publish']({'sourceId':this['id'],'destinationIds':[_0x59887c],'propagate':!0x0,'messageType':_0x13f595[_0x2d494e(0x2e9)],'content':{'type':_0x25a471[_0x2d494e(0x36e)],'id':this['id'],'metaData':{'type':this[_0x2d494e(0x689)]},'rank':this[_0x2d494e(0x582)](),'remoteConnections':Array[_0x2d494e(0x79e)](this[_0x2d494e(0x52c)]),'version':this[_0x2d494e(0x8cd)]}});}[_0xe992e3(0x75e)](_0x509ef9){const _0x55e795=_0xe992e3;this[_0x55e795(0x52c)][_0x55e795(0x64b)](_0x509ef9)||(this[_0x55e795(0x52c)][_0x55e795(0x820)](_0x509ef9),this[_0x55e795(0x15d)](),this[_0x55e795(0xa50)](!0x0));}[_0xe992e3(0x5e5)](_0x47a0ca){const _0x4a791b=_0xe992e3;this[_0x4a791b(0x52c)]['has'](_0x47a0ca)&&(this[_0x4a791b(0x52c)][_0x4a791b(0x5eb)](_0x47a0ca),this[_0x4a791b(0x15d)](),this[_0x4a791b(0xa50)](!0x0));}[_0xe992e3(0x855)](){const _0x3bbfb1=_0xe992e3;return this[_0x3bbfb1(0x8cd)];}['setRank'](_0x1f7498,_0x370696=!0x0){const _0x2d7c4a=_0xe992e3;this[_0x2d7c4a(0xb14)]!==_0x1f7498&&(this[_0x2d7c4a(0xb14)]=_0x1f7498,_0x370696&&(this[_0x2d7c4a(0x15d)](),this[_0x2d7c4a(0xa50)]()));}[_0xe992e3(0x15d)](){const _0x5b12bc=_0xe992e3;this['currentVersion']=Date[_0x5b12bc(0x559)]();}[_0xe992e3(0xa50)](_0x2ce601=!0x1){const _0x3bf3c1=_0xe992e3;if(this[_0x3bf3c1(0xb14)]){if(this['lastUpdated']||(this[_0x3bf3c1(0x8f3)]=Date[_0x3bf3c1(0x559)]()),this[_0x3bf3c1(0x9cb)]){if(Date[_0x3bf3c1(0x559)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x3bf3c1(0x9cb)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x41553e=_0x3bf3c1;delete this[_0x41553e(0x8f3)],delete this['updateDebounceTimeout'],this['systemTopic'][_0x41553e(0x246)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x13f595[_0x41553e(0x2e9)],'content':{'type':_0x2ce601?_0x25a471[_0x41553e(0x612)]:_0x25a471[_0x41553e(0x36e)],'id':this['id'],'metaData':{'type':this[_0x41553e(0x689)]},'rank':this[_0x41553e(0x582)](),'remoteConnections':Array['from'](this[_0x41553e(0x52c)]),'version':this[_0x41553e(0x8cd)]}});},0x3e8);}}}class _0x4cc391 extends _0x5be447{[_0xe992e3(0x587)];[_0xe992e3(0x8cd)]=Date[_0xe992e3(0x559)]();[_0xe992e3(0x9cb)];['lastUpdated'];['close'](){const _0x5d0b62=_0xe992e3;this[_0x5d0b62(0x9cb)]&&(clearTimeout(this[_0x5d0b62(0x9cb)]),delete this[_0x5d0b62(0x9cb)]),delete this[_0x5d0b62(0x8f3)],this['currentVersion']=Date[_0x5d0b62(0x559)](),super[_0x5d0b62(0x1c9)]();}['registerSystemPublisher'](_0x38a87b){const _0x55db48=_0xe992e3;this[_0x55db48(0x587)]=_0x38a87b;}[_0xe992e3(0x20f)](){const _0x847aec=_0xe992e3;delete this[_0x847aec(0x587)];}['answerJoin'](_0x177d16){const _0x3a0c8a=_0xe992e3;!this[_0x3a0c8a(0x9cb)]&&this[_0x3a0c8a(0xb14)]&&this[_0x3a0c8a(0x587)][_0x3a0c8a(0x246)]({'sourceId':this['id'],'destinationIds':[_0x177d16],'propagate':!0x0,'messageType':_0x13f595[_0x3a0c8a(0x2e9)],'content':{'type':_0x25a471['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x3a0c8a(0x689)],'displayName':this[_0x3a0c8a(0x2bd)](),'email':this[_0x3a0c8a(0xa80)]()},'rank':this[_0x3a0c8a(0x582)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x3a0c8a(0x8cd)]}});}[_0xe992e3(0x75e)](_0x5c6fa5){const _0x228c75=_0xe992e3;this['remoteConnections'][_0x228c75(0x64b)](_0x5c6fa5)||(this[_0x228c75(0x52c)][_0x228c75(0x820)](_0x5c6fa5),this[_0x228c75(0x15d)](),this[_0x228c75(0xa50)](!0x0));}['removeRemoteConnection'](_0x304f73){const _0x46cd5e=_0xe992e3;this[_0x46cd5e(0x52c)][_0x46cd5e(0x64b)](_0x304f73)&&(this[_0x46cd5e(0x52c)][_0x46cd5e(0x5eb)](_0x304f73),this[_0x46cd5e(0x15d)](),this[_0x46cd5e(0xa50)](!0x0));}[_0xe992e3(0x855)](){const _0x2b78b2=_0xe992e3;return this[_0x2b78b2(0x8cd)];}[_0xe992e3(0x53a)](_0x39d4a0){const _0xfcdb4b=_0xe992e3;this[_0xfcdb4b(0x57a)]!==_0x39d4a0&&(this['displayName']=_0x39d4a0,this[_0xfcdb4b(0x15d)](),this[_0xfcdb4b(0xa50)]());}[_0xe992e3(0x8b2)](_0x50df66){const _0x4c4856=_0xe992e3;this[_0x4c4856(0x791)]!==_0x50df66&&(this['email']=_0x50df66,this[_0x4c4856(0x15d)](),this[_0x4c4856(0xa50)]());}[_0xe992e3(0x80b)](_0x5270a9,_0x48cdcc=!0x0){const _0x1da899=_0xe992e3;this['rank']!==_0x5270a9&&(this[_0x1da899(0xb14)]=_0x5270a9,_0x48cdcc&&(this[_0x1da899(0x15d)](),this['publishUserUpdate']()));}[_0xe992e3(0x15d)](){const _0x38c45e=_0xe992e3;this[_0x38c45e(0x8cd)]=Date[_0x38c45e(0x559)]();}[_0xe992e3(0xa50)](_0x5e17d5=!0x1){const _0x5302ce=_0xe992e3;if(this['rank']){if(this[_0x5302ce(0x8f3)]||(this[_0x5302ce(0x8f3)]=Date['now']()),this[_0x5302ce(0x9cb)]){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x5302ce(0x9cb)]=setTimeout(()=>{const _0x4965a5=_0x5302ce;delete this[_0x4965a5(0x8f3)],delete this[_0x4965a5(0x9cb)],this[_0x4965a5(0x587)][_0x4965a5(0x246)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x13f595[_0x4965a5(0x2e9)],'content':{'type':_0x5e17d5?_0x25a471[_0x4965a5(0x612)]:_0x25a471[_0x4965a5(0x36e)],'id':this['id'],'metaData':{'type':this[_0x4965a5(0x689)],'displayName':this[_0x4965a5(0x2bd)](),'email':this['getEmail']()},'rank':this[_0x4965a5(0x582)](),'remoteConnections':Array[_0x4965a5(0x79e)](this[_0x4965a5(0x52c)]),'version':this[_0x4965a5(0x8cd)]}});},0x3e8);}}}class _0x5d1a16{['id'];[_0xe992e3(0x7dc)];['vendorId'];[_0xe992e3(0x220)];['type']=_0x981fb5['NodeType'][_0xe992e3(0x2a4)];[_0xe992e3(0x8b5)];constructor(_0x41cdab,_0x222584,_0x444002,_0x178415){const _0xc3a218=_0xe992e3;this['id']=_0x41cdab,this[_0xc3a218(0x7dc)]=_0x222584,this['vendorId']=_0x444002,this[_0xc3a218(0x220)]=_0x178415;}[_0xe992e3(0x686)](){return this['id'];}[_0xe992e3(0x919)](_0x3da39c){const _0x53be90=_0xe992e3,_0x94d340=(0x0,_0x3d2491[_0x53be90(0x9d8)])((0x0,_0x3d2491[_0x53be90(0x6f7)])(_0x57cb7d[_0x53be90(0x928)](),_0x53be90(0x67c)+this['vendorId']+_0x53be90(0x256)+this[_0x53be90(0x7dc)]),_0x366a6f=>{const _0x18ff50=_0x53be90;if(_0x366a6f[_0x18ff50(0x28a)]()){const _0x2b199a=_0x366a6f[_0x18ff50(0x9a6)]();if(this[_0x18ff50(0x220)][_0x18ff50(0x2fa)][_0x18ff50(0x3a1)](_0x2b199a['timestamp']))return;_0xd64180['log'](_0x3c5ddd[_0x18ff50(0x2e9)],_0x18ff50(0xb08),{'agentId':this['id'],'groupId':this[_0x18ff50(0x7dc)],'oldConfig':this[_0x18ff50(0x220)],'newConfig':_0x2b199a}),this[_0x18ff50(0x220)]=_0x2b199a,_0x3da39c();}});return()=>_0x94d340();}[_0xe992e3(0x588)](_0x3303e3){const _0x224b0c=_0xe992e3;return this[_0x224b0c(0x959)](this[_0x224b0c(0x7dc)],_0x3303e3),_0x50a54a['setInterval'](()=>this[_0x224b0c(0x959)](this[_0x224b0c(0x7dc)],_0x3303e3),0x7530);}[_0xe992e3(0x9d3)](){const _0x51a94d=_0xe992e3;if(!this[_0x51a94d(0x8b5)])throw new _0xd907de(_0xd907de[_0x51a94d(0x386)][_0x51a94d(0x15a)]);return this[_0x51a94d(0x8b5)];}async[_0xe992e3(0x959)](_0x1d70fa,_0x51dcb7){const _0x8a3c89=_0xe992e3,_0xe1574c=await _0x51dcb7();this[_0x8a3c89(0x8b5)]=_0xe1574c,await(0x0,_0x3d2491['addDoc'])((0x0,_0x3d2491[_0x8a3c89(0x9d9)])(_0x57cb7d[_0x8a3c89(0x928)](),_0x8a3c89(0x67c)+this[_0x8a3c89(0x3ea)]+_0x8a3c89(0xaab)),{'agentId':this['id'],'groupId':_0x1d70fa,'timestamp':(0x0,_0x3d2491[_0x8a3c89(0x3cd)])(),'capacity':_0xe1574c});}}!function(_0xddf811){const _0x45064f=_0xe992e3;_0xddf811[_0xddf811['Online']=0x0]=_0x45064f(0xabe),_0xddf811[_0xddf811[_0x45064f(0x311)]=0x1]=_0x45064f(0x311);}(_0x5c56c8||(_0x5c56c8={}));class _0x4823b4 extends _0x18feb2{[_0xe992e3(0x8cd)];[_0xe992e3(0x716)]=_0x5c56c8['Online'];[_0xe992e3(0x8f3)]=Date[_0xe992e3(0x559)]();constructor(_0x2321a8,_0x5adbaf=new Set(),_0x443142,_0x4f7187){const _0xdeba3d=_0xe992e3;super(_0x2321a8,_0x5adbaf,_0x4f7187),this[_0xdeba3d(0x8cd)]=_0x443142;}[_0xe992e3(0x855)](){const _0x3b5169=_0xe992e3;return this[_0x3b5169(0x8cd)];}[_0xe992e3(0x50b)](){const _0x4891c1=_0xe992e3;return this[_0x4891c1(0x716)];}[_0xe992e3(0x4e0)](){const _0x126ccf=_0xe992e3;return this[_0x126ccf(0x8f3)];}[_0xe992e3(0x80b)](_0x47f37e){const _0x14e2c8=_0xe992e3;this[_0x14e2c8(0xb14)]!==_0x47f37e&&(this[_0x14e2c8(0xb14)]=_0x47f37e,this[_0x14e2c8(0xb17)]());}['setRemoteConnections'](_0x2bbaae){const _0x459663=_0xe992e3;let _0x23b84d=!0x1;for(const _0x2ee6f3 of this[_0x459663(0x52c)])_0x2bbaae[_0x459663(0x137)](_0x2ee6f3)||(_0x23b84d=!0x0,this[_0x459663(0x52c)][_0x459663(0x5eb)](_0x2ee6f3));for(const _0x161ef1 of _0x2bbaae)this[_0x459663(0x52c)][_0x459663(0x64b)](_0x161ef1)||(_0x23b84d=!0x0,this['remoteConnections']['add'](_0x161ef1));_0x23b84d&&this[_0x459663(0xb17)]();}[_0xe992e3(0x2d1)](_0x3d190b){const _0x477fbc=_0xe992e3;this[_0x477fbc(0x8cd)]!==_0x3d190b&&(this[_0x477fbc(0x8cd)]=_0x3d190b,this[_0x477fbc(0xb17)]());}[_0xe992e3(0x802)](_0x5e92ed){const _0x197e90=_0xe992e3;this['status']!==_0x5e92ed&&(this[_0x197e90(0x716)]=_0x5e92ed,this[_0x197e90(0xb17)](),_0x5e92ed===_0x5c56c8[_0x197e90(0x311)]&&this['close']());}['updateLastUpdated'](){const _0x23b17c=_0xe992e3;this[_0x23b17c(0x8f3)]=Date[_0x23b17c(0x559)]();}}class _0x5e2237 extends _0x5be447{[_0xe992e3(0x8cd)];[_0xe992e3(0x716)]=_0x5c56c8[_0xe992e3(0xabe)];[_0xe992e3(0x8f3)]=Date[_0xe992e3(0x559)]();constructor(_0x57b071,_0x4d1c92,_0x1aeeb8,_0xadebb3=new Set(),_0x28e38c,_0x181417){const _0x24e405=_0xe992e3;super(_0x57b071,_0x4d1c92,_0x1aeeb8,_0xadebb3,_0x181417),this[_0x24e405(0x8cd)]=_0x28e38c;}[_0xe992e3(0x855)](){const _0x321f14=_0xe992e3;return this[_0x321f14(0x8cd)];}['getStatus'](){const _0x133d4f=_0xe992e3;return this[_0x133d4f(0x716)];}['getLastUpdated'](){const _0xeb62ec=_0xe992e3;return this[_0xeb62ec(0x8f3)];}[_0xe992e3(0x53a)](_0x8e4bdd){const _0x3f79cf=_0xe992e3;this[_0x3f79cf(0x57a)]!==_0x8e4bdd&&(this[_0x3f79cf(0x57a)]=_0x8e4bdd,this[_0x3f79cf(0xb17)]());}['setEmail'](_0x7882af){const _0x3b66f8=_0xe992e3;this[_0x3b66f8(0x791)]!==_0x7882af&&(this['email']=_0x7882af,this[_0x3b66f8(0xb17)]());}['setRank'](_0x539acc){const _0x1f1176=_0xe992e3;this[_0x1f1176(0xb14)]!==_0x539acc&&(this[_0x1f1176(0xb14)]=_0x539acc,this[_0x1f1176(0xb17)]());}[_0xe992e3(0x6d3)](_0x3e47f5){const _0x321c25=_0xe992e3;let _0x38912d=!0x1;for(const _0x5752ae of this['remoteConnections'])_0x3e47f5[_0x321c25(0x137)](_0x5752ae)||(_0x38912d=!0x0,this[_0x321c25(0x52c)][_0x321c25(0x5eb)](_0x5752ae));for(const _0x2043cb of _0x3e47f5)this[_0x321c25(0x52c)][_0x321c25(0x64b)](_0x2043cb)||(_0x38912d=!0x0,this[_0x321c25(0x52c)]['add'](_0x2043cb));_0x38912d&&this[_0x321c25(0xb17)]();}['setCurrentVersion'](_0x46ab1c){const _0x578042=_0xe992e3;this[_0x578042(0x8cd)]!==_0x46ab1c&&(this[_0x578042(0x8cd)]=_0x46ab1c,this[_0x578042(0xb17)]());}[_0xe992e3(0x802)](_0x533b04){const _0x304bac=_0xe992e3;this['status']!==_0x533b04&&(this['status']=_0x533b04,this[_0x304bac(0xb17)](),_0x533b04===_0x5c56c8[_0x304bac(0x311)]&&this['close']());}[_0xe992e3(0xb17)](){const _0x1ee698=_0xe992e3;this[_0x1ee698(0x8f3)]=Date[_0x1ee698(0x559)]();}}class _0x2cfe49{[_0xe992e3(0x3ea)];['clusterId'];[_0xe992e3(0x71d)];[_0xe992e3(0x3f2)];['disconnectCallback']=_0x4d5b0d();[_0xe992e3(0x61d)];[_0xe992e3(0x940)];[_0xe992e3(0x8ab)];['connected']=!0x1;['clusterKey'];[_0xe992e3(0x3fe)];constructor(_0x2bb340,_0x1e414d,_0x25d807,_0x40971d){const _0x19a8a6=_0xe992e3;this[_0x19a8a6(0x3ea)]=_0x2bb340,this[_0x19a8a6(0x5e2)]=_0x1e414d,this[_0x19a8a6(0x71d)]=_0x25d807,this[_0x19a8a6(0x3f2)]=_0x40971d,this[_0x19a8a6(0x1ae)]=_0x19a8a6(0x421)+this[_0x19a8a6(0x3ea)]+_0x19a8a6(0x421)+this[_0x19a8a6(0x5e2)],this['nodeKey']='ccc'+this[_0x19a8a6(0x3ea)]+'ccc'+this['localNode'][_0x19a8a6(0x686)](),this['firebaseUnsubscriber']=(0x0,_0x59c1bb['onValue'])((0x0,_0x59c1bb[_0x19a8a6(0x953)])(_0x57cb7d[_0x19a8a6(0x923)](),_0x19a8a6(0x28f)),_0x14fa84=>{const _0x592597=_0x19a8a6;!0x0!==_0x14fa84['val']()?this[_0x592597(0x8ce)]&&_0xd64180[_0x592597(0x77b)](_0x592597(0x18b),{'clusterId':this[_0x592597(0x5e2)],'nodeId':this['localNode'][_0x592597(0x686)](),'nodeType':this[_0x592597(0x71d)]['type']}):(this[_0x592597(0x8ce)]=!0x0,this[_0x592597(0x905)](),_0xd64180[_0x592597(0x372)]('firebase-connect',{'clusterId':this[_0x592597(0x5e2)],'nodeId':this[_0x592597(0x71d)]['getId'](),'nodeType':this[_0x592597(0x71d)]['type']}));});}async[_0xe992e3(0x9fb)](){const _0x5ccc55=_0xe992e3;await this['joinCluster']();const _0x5ba153=await this[_0x5ccc55(0x575)]();return this['childRemovedUnsubscriber']=(0x0,_0x59c1bb['onChildRemoved'])((0x0,_0x59c1bb[_0x5ccc55(0x953)])(_0x57cb7d['getDatabase'](),'clusters/'+this['clusterKey']+'/nodes'),_0x4a1e1c=>{const _0x2ee421=_0x5ccc55,_0x108833=_0x4a1e1c[_0x2ee421(0x231)];if(!_0x108833)return;const _0x3ef628=_0x108833[_0x2ee421(0x9d7)](_0x2ee421(0x421)+this[_0x2ee421(0x3ea)]+_0x2ee421(0x421),'');this[_0x2ee421(0x184)][_0x2ee421(0x246)](_0x3ef628);}),_0x5ba153;}async['close'](){const _0x4ca6b9=_0xe992e3;this['childRemovedUnsubscriber']?.(),delete this[_0x4ca6b9(0x940)],this[_0x4ca6b9(0x8ab)]?.[_0x4ca6b9(0x5ef)](),delete this[_0x4ca6b9(0x8ab)],this['firebaseUnsubscriber']?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x59c1bb[_0x4ca6b9(0x730)])((0x0,_0x59c1bb['ref'])(_0x57cb7d[_0x4ca6b9(0x923)](),_0x4ca6b9(0x378)+this[_0x4ca6b9(0x1ae)]+_0x4ca6b9(0x31c)+this[_0x4ca6b9(0x3fe)]));}[_0xe992e3(0xa05)](_0x26e3d5){const _0x7c26d=_0xe992e3;return this[_0x7c26d(0x184)][_0x7c26d(0x60c)](_0x26e3d5);}async[_0xe992e3(0x575)](){const _0xf4d275=_0xe992e3,_0x5f37c7=[],_0x52e887=await(0x0,_0x59c1bb[_0xf4d275(0x6ab)])((0x0,_0x59c1bb[_0xf4d275(0x953)])(_0x57cb7d[_0xf4d275(0x923)](),_0xf4d275(0x378)+this['clusterKey']+_0xf4d275(0x9fa))),_0x2ac4f6=[];return _0x52e887[_0xf4d275(0x558)](_0x4eaf01=>{const _0x355495=_0xf4d275,_0x12d15d=_0x4eaf01[_0x355495(0x231)]?.[_0x355495(0x9d7)](_0x355495(0x421)+this[_0x355495(0x3ea)]+'ccc','');_0x2ac4f6[_0x355495(0xae7)]({'id':_0x12d15d,'joinedAt':_0x4eaf01['val']()[_0x355495(0x1f0)],'priority':_0x4eaf01[_0x355495(0x8ec)]()[_0x355495(0x498)]});}),_0x2ac4f6[_0xf4d275(0x1e4)]((_0x5e9bbe,_0x2bf40e)=>_0x5e9bbe[_0xf4d275(0x1f0)]===_0x2bf40e['joinedAt']?_0x5e9bbe[_0xf4d275(0x498)]-_0x2bf40e[_0xf4d275(0x498)]:_0x5e9bbe[_0xf4d275(0x1f0)]-_0x2bf40e[_0xf4d275(0x1f0)])[_0xf4d275(0x2e6)](_0x2ac4f6[_0xf4d275(0x56d)](_0x296c75=>_0x296c75['id']===this['localNode'][_0xf4d275(0x686)]())),_0x2ac4f6[_0xf4d275(0x1e4)]((_0x15310f,_0x12b21b)=>_0x12b21b[_0xf4d275(0x1f0)]===_0x15310f['joinedAt']?_0x12b21b[_0xf4d275(0x498)]-_0x15310f[_0xf4d275(0x498)]:_0x12b21b[_0xf4d275(0x1f0)]-_0x15310f[_0xf4d275(0x1f0)])[_0xf4d275(0x558)](_0x1e6164=>{const _0x4cecb3=_0xf4d275;_0x5f37c7[_0x4cecb3(0x756)]>=this[_0x4cecb3(0x3f2)]||_0x5f37c7[_0x4cecb3(0xae7)](_0x1e6164['id']);}),_0xd64180[_0xf4d275(0x3b3)](_0xf4d275(0x9f8),{'clusterId':this[_0xf4d275(0x5e2)],'nodeId':this[_0xf4d275(0x71d)][_0xf4d275(0x686)](),'nodeType':this[_0xf4d275(0x71d)]['type'],'data':{'ancestorIds':_0x5f37c7,'allNodes':_0x2ac4f6}}),_0x5f37c7;}async['joinCluster'](){const _0x59cf2c=_0xe992e3;await(0x0,_0x59c1bb[_0x59cf2c(0x888)])((0x0,_0x59c1bb[_0x59cf2c(0x953)])(_0x57cb7d[_0x59cf2c(0x923)](),'clusters/'+this[_0x59cf2c(0x1ae)]+_0x59cf2c(0x31c)+this[_0x59cf2c(0x3fe)]),{'joinedAt':(0x0,_0x59c1bb[_0x59cf2c(0x3cd)])(),'priority':Math['random']()});}[_0xe992e3(0x905)](){const _0x34feae=_0xe992e3;this[_0x34feae(0x8ab)]&&this[_0x34feae(0x8ab)]['cancel'](),this[_0x34feae(0x8ab)]=(0x0,_0x59c1bb['onDisconnect'])((0x0,_0x59c1bb[_0x34feae(0x953)])(_0x57cb7d['getDatabase'](),_0x34feae(0x378)+this[_0x34feae(0x1ae)]+_0x34feae(0x31c)+this[_0x34feae(0x3fe)])),this['onDisconnectHandler'][_0x34feae(0x730)]();}}class _0x489f27{[_0xe992e3(0x81e)];[_0xe992e3(0x9d6)];[_0xe992e3(0xa18)];['discoveryService'];['discoveryUnsubscriber'];[_0xe992e3(0x495)]=[];[_0xe992e3(0x587)];['optimizationLayers']=new Map();[_0xe992e3(0x254)];[_0xe992e3(0x535)];['_isReady'];['resolveReady'];['rejectReady'];['readyDebounce'];constructor(_0x41d674,_0x506c37){const _0x43ba6d=_0xe992e3;this[_0x43ba6d(0x81e)]=_0x41d674,this['graphService']=_0x506c37,this['_isReady']=new Promise((_0x31e74c,_0x3c8803)=>{const _0xa660e9=_0x43ba6d;this[_0xa660e9(0x169)]=_0x31e74c,this[_0xa660e9(0x3c9)]=_0x3c8803;}),this[_0x43ba6d(0xb1f)]=new _0x2cfe49(this[_0x43ba6d(0x81e)][_0x43ba6d(0x3ea)],this[_0x43ba6d(0x81e)][_0x43ba6d(0x5e2)],this[_0x43ba6d(0x81e)][_0x43ba6d(0x71d)],this[_0x43ba6d(0x9d6)]['getMinConnections']()),this[_0x43ba6d(0x7d3)]=this[_0x43ba6d(0xb1f)]['onNodeDisconnect'](this[_0x43ba6d(0x477)][_0x43ba6d(0x8b6)](this)),this['configs'][_0x43ba6d(0x422)][_0x43ba6d(0x95e)](this[_0x43ba6d(0x81e)][_0x43ba6d(0x71d)]),this['configs']['mediator'][_0x43ba6d(0x95e)](this),this[_0x43ba6d(0xa18)]=_0x50a54a[_0x43ba6d(0x6b1)](()=>{const _0x2b0780=_0x43ba6d,_0x432b18=Date['now']();this[_0x2b0780(0x9d6)][_0x2b0780(0x48e)]()[_0x2b0780(0x558)](_0x15ee3f=>{const _0x9328f8=_0x2b0780;_0x15ee3f[_0x9328f8(0x50b)]()===_0x5c56c8[_0x9328f8(0x311)]&&_0x15ee3f[_0x9328f8(0x4e0)]()<_0x432b18-0x493e0&&this['graphService'][_0x9328f8(0x5e8)](_0x15ee3f[_0x9328f8(0x686)]());});},0xea60);}async[_0xe992e3(0x2c7)](){const _0x1bff7b=_0xe992e3;return this[_0x1bff7b(0x443)];}async[_0xe992e3(0x1a5)](_0x25b9c2){return new Promise((_0x5a095b,_0x3a84a8)=>{const _0xadc8dd=a0_0xca1a;let _0xeca893;const _0x515a86=setTimeout(()=>{const _0x4a6783=a0_0xca1a;_0xeca893?.(),_0x3a84a8(new Error('Node\x20\x27'+_0x25b9c2+_0x4a6783(0x168)));},0x2710);if(this['graphService'][_0xadc8dd(0x16c)](_0x25b9c2))return clearTimeout(_0x515a86),void _0x5a095b(!0x0);_0xeca893=this['graphService'][_0xadc8dd(0xac1)](()=>{const _0x50951d=_0xadc8dd;this[_0x50951d(0x9d6)][_0x50951d(0x16c)](_0x25b9c2)&&(clearTimeout(_0x515a86),_0x5a095b(!0x0),_0xeca893?.());});});}[_0xe992e3(0x4a5)](_0x2ec1f2){const _0x4e3c14=_0xe992e3;this[_0x4e3c14(0x587)]=_0x2ec1f2;}[_0xe992e3(0x20f)](){const _0x152e16=_0xe992e3;delete this[_0x152e16(0x587)];}[_0xe992e3(0x1c9)](){const _0x58f995=_0xe992e3;this['debounceProcessRank']&&(clearTimeout(this[_0x58f995(0x254)]),delete this[_0x58f995(0x254)]),delete this[_0x58f995(0x535)],this[_0x58f995(0x81e)][_0x58f995(0x71d)][_0x58f995(0x1c9)](),this[_0x58f995(0xa18)](),this[_0x58f995(0x7d3)](),this['configs']['mediator'][_0x58f995(0x35f)](this[_0x58f995(0x81e)][_0x58f995(0x71d)]),this[_0x58f995(0x81e)][_0x58f995(0x422)][_0x58f995(0x35f)](this),this[_0x58f995(0xb1f)][_0x58f995(0x1c9)]();}['getAncestorIds'](){return this['ancestors'];}[_0xe992e3(0x50f)](){const _0x27a949=_0xe992e3;return this[_0x27a949(0x81e)][_0x27a949(0x71d)]['getId']();}['getLocalNode'](){const _0x3efd47=_0xe992e3;return this[_0x3efd47(0x81e)][_0x3efd47(0x71d)];}['getRemoteNodes'](_0x579398){const _0x3b5d6f=_0xe992e3,_0x203163=Array[_0x3b5d6f(0x79e)](this[_0x3b5d6f(0x9d6)][_0x3b5d6f(0x48e)]()[_0x3b5d6f(0x992)]())['filter'](_0x460b14=>_0x460b14[_0x3b5d6f(0x50b)]()===_0x5c56c8[_0x3b5d6f(0xabe)]);return _0x579398?_0x203163['filter'](_0x579398):_0x203163;}async['discover'](){const _0x2ae763=_0xe992e3;return this[_0x2ae763(0x495)]=await this['discoveryService']['join'](),this[_0x2ae763(0x495)]['length']<this[_0x2ae763(0x9d6)][_0x2ae763(0x8fb)]()&&(this[_0x2ae763(0x81e)][_0x2ae763(0x71d)][_0x2ae763(0x80b)](this[_0x2ae763(0x495)]['length']+0x1),this[_0x2ae763(0x970)]()),this[_0x2ae763(0x495)];}[_0xe992e3(0x274)](_0x4fa667,_0x4b7a58){const _0x32ef20=_0xe992e3,_0xce23c9=this[_0x32ef20(0x81e)]['localNode'][_0x32ef20(0x640)](),_0x27c2bb=new Set(_0xce23c9),_0x540ccf=Array[_0x32ef20(0x79e)](_0xce23c9)['filter'](_0x3c05f8=>_0x3c05f8!==_0x4fa667)[_0x32ef20(0x7db)](_0x199010=>({'id':_0x199010,'distance':0x1}));for(;_0x540ccf[_0x32ef20(0x756)]>0x0;){const _0x37dd7b=_0x540ccf[_0x32ef20(0xa41)]();if(!_0x37dd7b)continue;if(_0x37dd7b['id']===_0x4b7a58)return _0x37dd7b[_0x32ef20(0x682)];const _0x4c2899=this[_0x32ef20(0x9d6)]['getRemoteNode'](_0x37dd7b['id']);_0x4c2899&&_0x4c2899[_0x32ef20(0x50b)]()!==_0x5c56c8[_0x32ef20(0x311)]&&_0x4c2899[_0x32ef20(0x640)]()[_0x32ef20(0x558)](_0xa1b47c=>{const _0x145eaf=_0x32ef20;_0x27c2bb[_0x145eaf(0x64b)](_0xa1b47c)||(_0x27c2bb[_0x145eaf(0x820)](_0xa1b47c),_0x540ccf[_0x145eaf(0xae7)]({'id':_0xa1b47c,'distance':_0x37dd7b['distance']+0x1}));});}return-0x1;}[_0xe992e3(0x48b)](_0x199708){const _0x311f7b=_0xe992e3;try{switch(_0x199708['content'][_0x311f7b(0x689)]){case _0x25a471[_0x311f7b(0x36e)]:case _0x25a471[_0x311f7b(0x612)]:this['handleNodeUpdate'](_0x199708[_0x311f7b(0x2e4)]),_0xd64180[_0x311f7b(0x991)](_0x3c5ddd[_0x311f7b(0x2e9)],_0x311f7b(0xa37),'\x27'+this['configs'][_0x311f7b(0x71d)][_0x311f7b(0x686)]()+',\x20'+_0x199708[_0x311f7b(0x3c8)]+'\x27',_0x199708,_0x199708['content']);break;case _0x25a471['NodeLeave']:this[_0x311f7b(0x6b0)](_0x199708[_0x311f7b(0x2e4)]['id']),_0xd64180[_0x311f7b(0x991)](_0x3c5ddd['Node'],_0x311f7b(0x4e7),'\x27'+this[_0x311f7b(0x81e)]['localNode']['getId']()+',\x20'+_0x199708['sourceId']+'\x27',_0x199708,_0x199708[_0x311f7b(0x2e4)]);}}catch(_0x384743){if(_0x384743 instanceof _0x5e72c7)return void _0xd64180[_0x311f7b(0x991)](_0x3c5ddd[_0x311f7b(0x2e9)],_0x384743[_0x311f7b(0x337)]);throw _0x384743;}}[_0xe992e3(0x408)](_0xe55e29){const _0x472581=_0xe992e3;switch(_0xe55e29[_0x472581(0x2e4)][_0x472581(0x689)]){case _0x5b41e8[_0x472581(0x7d8)]:this[_0x472581(0x4f7)](_0xe55e29[_0x472581(0x3c8)]),_0xd64180[_0x472581(0x991)](_0x3c5ddd[_0x472581(0x2e9)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x472581(0x81e)]['localNode'][_0x472581(0x686)]()+',\x20'+_0xe55e29[_0x472581(0x3c8)]+'\x27',_0xe55e29,_0xe55e29[_0x472581(0x2e4)]);break;case _0x5b41e8[_0x472581(0x7ff)]:this[_0x472581(0x9bc)](_0xe55e29[_0x472581(0x3c8)]),_0xd64180[_0x472581(0x991)](_0x3c5ddd['Node'],_0x472581(0x2fb),this['configs']['localNode'][_0x472581(0x686)](),_0xe55e29,_0xe55e29[_0x472581(0x2e4)]);}}[_0xe992e3(0x4aa)](_0x8f88b){const _0x4c87cc=_0xe992e3;this['createRemoteNode'](_0x8f88b),this[_0x4c87cc(0xaf0)](_0x8f88b);}[_0xe992e3(0xaf0)](_0x476dec){const _0x34a30d=_0xe992e3;this[_0x34a30d(0x81e)]['localNode']['answerJoin'](_0x476dec['id']),this['publishNodeJoin'](_0x476dec['id']),this[_0x34a30d(0x1c7)](_0x476dec);}[_0xe992e3(0x88e)](_0x249c69){const _0x50b681=_0xe992e3,{id:_0x4f751c,metaData:_0x3c64aa,rank:_0x433a9e,remoteConnections:_0x1131ca,version:_0x274b61}=_0x249c69,_0x6ce8d7=this[_0x50b681(0x9d6)][_0x50b681(0x554)](_0x4f751c);if(_0x6ce8d7){if(!(_0x274b61<=_0x6ce8d7[_0x50b681(0x855)]())){if(_0x6ce8d7[_0x50b681(0x6d3)](_0x1131ca),_0x6ce8d7[_0x50b681(0x2d1)](_0x274b61),_0x6ce8d7[_0x50b681(0x689)]===_0x981fb5[_0x50b681(0x148)][_0x50b681(0x741)]&&_0x3c64aa[_0x50b681(0x689)]===_0x981fb5['NodeType'][_0x50b681(0x741)]&&(_0x6ce8d7[_0x50b681(0x53a)](_0x3c64aa[_0x50b681(0x57a)]),_0x6ce8d7[_0x50b681(0x8b2)](_0x3c64aa[_0x50b681(0x791)])),_0x433a9e&&_0x6ce8d7[_0x50b681(0x80b)](_0x433a9e),this['setLocalRank'](_0x4f751c,_0x433a9e),_0x6ce8d7[_0x50b681(0x50b)]()===_0x5c56c8[_0x50b681(0x311)])return _0x6ce8d7[_0x50b681(0x802)](_0x5c56c8[_0x50b681(0xabe)]),this[_0x50b681(0x970)](),void this[_0x50b681(0xaf0)](_0x249c69);this[_0x50b681(0x970)](),this[_0x50b681(0x6cc)]({'id':_0x4f751c,'metaData':_0x3c64aa,'remoteConnections':_0x1131ca,'version':_0x274b61});}}else this[_0x50b681(0x4aa)](_0x249c69);}['setLocalRank'](_0x37e510,_0x2bf507){const _0x29ad25=_0xe992e3;_0x2bf507&&this[_0x29ad25(0x495)]['includes'](_0x37e510)&&this[_0x29ad25(0x81e)][_0x29ad25(0x71d)][_0x29ad25(0x80b)](_0x2bf507+this[_0x29ad25(0x495)][_0x29ad25(0x29b)](_0x37e510)+0x1);}[_0xe992e3(0x4f7)](_0x219c63){const _0x4d6488=_0xe992e3;this[_0x4d6488(0x81e)][_0x4d6488(0x71d)]['addRemoteConnection'](_0x219c63);}[_0xe992e3(0x71a)]({id:_0x119bd8,metaData:_0x45c000,rank:_0xa5943a,remoteConnections:_0x519044,version:_0x478b0a}){const _0x5d395b=_0xe992e3;if(this['graphService'][_0x5d395b(0x16c)](_0x119bd8))throw new _0x5e72c7(_0x5d395b(0x18c)+_0x119bd8);switch(_0x45c000[_0x5d395b(0x689)]){case _0x981fb5[_0x5d395b(0x148)]['User']:const {displayName:_0x51f5c3,email:_0x32b357}=_0x45c000;this['graphService'][_0x5d395b(0x61a)](_0x119bd8,new _0x5e2237(_0x119bd8,_0x51f5c3,_0x32b357,new Set(_0x519044),_0x478b0a,_0xa5943a));break;case _0x981fb5[_0x5d395b(0x148)][_0x5d395b(0x2a4)]:this[_0x5d395b(0x9d6)][_0x5d395b(0x61a)](_0x119bd8,new _0x4823b4(_0x119bd8,new Set(_0x519044),_0x478b0a,_0xa5943a));}const _0x5ed365=this['getRemoteNodes'](),_0x41ba5a=new Set(this[_0x5d395b(0x495)]);_0x5ed365[_0x5d395b(0x558)](_0x2cc030=>{const _0x240b5c=_0x5d395b;_0x41ba5a[_0x240b5c(0x64b)](_0x2cc030[_0x240b5c(0x686)]())&&_0x41ba5a[_0x240b5c(0x5eb)](_0x2cc030['getId']());}),0x0===_0x41ba5a[_0x5d395b(0x73d)]&&this['resolveReady']&&(this['readyDebounce']&&clearTimeout(this['readyDebounce']),this[_0x5d395b(0x527)]=setTimeout(()=>{const _0x46329e=_0x5d395b;this[_0x46329e(0x169)]?.(!0x0),delete this['resolveReady'],delete this[_0x46329e(0x3c9)];},0x7d0)),this[_0x5d395b(0x459)](_0x119bd8,_0xa5943a),this[_0x5d395b(0x970)]();}['publishNodeJoin'](_0x41e307){const _0x13083c=_0xe992e3;this[_0x13083c(0x587)][_0x13083c(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x13083c(0x2e9)],'content':{'type':_0x25a471[_0x13083c(0x572)],'id':_0x41e307}});}[_0xe992e3(0x9bc)](_0x2395ea){const _0x21c846=_0xe992e3;this[_0x21c846(0x587)]?.[_0x21c846(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x21c846(0x2e9)],'content':{'type':_0x25a471[_0x21c846(0x255)],'id':_0x2395ea}});}['handleNodeDisconnect'](_0x598457){const _0x4b2d62=_0xe992e3;if(_0x598457===this[_0x4b2d62(0x81e)][_0x4b2d62(0x71d)]['getId']())return this[_0x4b2d62(0x81e)][_0x4b2d62(0x422)][_0x4b2d62(0x7fc)]('cluster-disconnect',{'id':_0x598457}),this[_0x4b2d62(0x81e)][_0x4b2d62(0x422)][_0x4b2d62(0x1c9)]({'force':!0x0},!0x0),this['configs'][_0x4b2d62(0x422)][_0x4b2d62(0xa19)](),void this[_0x4b2d62(0x81e)]['mediator'][_0x4b2d62(0x4af)]();this['publishNodeLeave'](_0x598457);}['removeNode'](_0x2f8d78){const _0x43f191=_0xe992e3;this['ancestors'][_0x43f191(0x137)](_0x2f8d78)?this['manageAncestor'](_0x2f8d78):this[_0x43f191(0x81e)]['localNode'][_0x43f191(0x640)]()[_0x43f191(0x64b)](_0x2f8d78)&&this[_0x43f191(0x525)](_0x2f8d78),this[_0x43f191(0x81e)]['localNode'][_0x43f191(0x5e5)](_0x2f8d78);const _0xe86cbe=Array[_0x43f191(0x79e)](this['optimizationLayers'][_0x43f191(0x9c8)]())['find'](([,_0x4722e3])=>_0x4722e3==_0x4722e3);_0xe86cbe&&this[_0x43f191(0x7d7)][_0x43f191(0x5eb)](_0xe86cbe[0x0]);const _0x4be2b8=this[_0x43f191(0x9d6)][_0x43f191(0x554)](_0x2f8d78);if(!_0x4be2b8)return;const _0x5f45e4=_0x4be2b8[_0x43f191(0x582)](),_0x59279d=this[_0x43f191(0x81e)][_0x43f191(0x71d)][_0x43f191(0x582)]();_0x59279d&&_0x5f45e4&&_0x5f45e4<_0x59279d&&this['configs'][_0x43f191(0x71d)][_0x43f191(0x80b)](_0x59279d-0x1,!0x1),Array[_0x43f191(0x79e)](this[_0x43f191(0x9d6)][_0x43f191(0x48e)]()['values']())[_0x43f191(0x558)](_0x147fcc=>{const _0x18edcf=_0x43f191,_0x31a9f9=_0x147fcc[_0x18edcf(0x582)]();_0x31a9f9&&_0x5f45e4&&_0x5f45e4<_0x31a9f9&&_0x147fcc['setRank'](_0x31a9f9-0x1);}),_0x4be2b8[_0x43f191(0x802)](_0x5c56c8['Offline']),this['configs'][_0x43f191(0x422)][_0x43f191(0x7fc)](_0x4be2b8[_0x43f191(0x689)]+_0x43f191(0x24c),{'id':_0x2f8d78});}[_0xe992e3(0x1c7)]({id:_0x454dfb,metaData:_0x44c329,remoteConnections:_0xd2d08e}){const _0x3a46e4=_0xe992e3;switch(_0x44c329[_0x3a46e4(0x689)]){case _0x981fb5[_0x3a46e4(0x148)][_0x3a46e4(0x741)]:this[_0x3a46e4(0x81e)][_0x3a46e4(0x422)][_0x3a46e4(0x7fc)](_0x3a46e4(0x3a2),{'id':_0x454dfb,'metaData':_0x44c329,'remoteConnections':_0xd2d08e});break;case _0x981fb5[_0x3a46e4(0x148)][_0x3a46e4(0x2a4)]:this[_0x3a46e4(0x81e)]['mediator'][_0x3a46e4(0x7fc)](_0x3a46e4(0x200),{'id':_0x454dfb,'metaData':_0x44c329,'remoteConnections':_0xd2d08e});}}[_0xe992e3(0x6cc)]({id:_0x7ae78c,metaData:_0xb67f50,remoteConnections:_0x154598}){const _0x128436=_0xe992e3;switch(_0xb67f50['type']){case _0x981fb5['NodeType'][_0x128436(0x741)]:this['configs']['mediator'][_0x128436(0x7fc)](_0x128436(0x248),{'id':_0x7ae78c,'metaData':_0xb67f50,'remoteConnections':_0x154598});break;case _0x981fb5[_0x128436(0x148)][_0x128436(0x2a4)]:this[_0x128436(0x81e)][_0x128436(0x422)][_0x128436(0x7fc)]('agent-update',{'id':_0x7ae78c,'metaData':_0xb67f50,'remoteConnections':_0x154598});}}[_0xe992e3(0x970)](){const _0x340332=_0xe992e3;if(this[_0x340332(0x535)]||(this[_0x340332(0x535)]=Date['now']()),this[_0x340332(0x254)]){if(Date[_0x340332(0x559)]()-this[_0x340332(0x535)]>0x2328)return;clearTimeout(this[_0x340332(0x254)]);}this[_0x340332(0x254)]=setTimeout(async()=>{const _0x100d96=_0x340332;delete this[_0x100d96(0x535)],delete this[_0x100d96(0x254)];const _0x242c0c=this[_0x100d96(0x81e)][_0x100d96(0x71d)]['getRank']();if(!_0x242c0c)return;const _0x480573=this[_0x100d96(0x9d6)]['getCurrentMaxLayer'](this['graphService'][_0x100d96(0x48e)]()[_0x100d96(0x73d)]);if(this[_0x100d96(0x7d7)][_0x100d96(0x73d)]>=_0x480573)return;let _0x4c5545=0x1;for(;this[_0x100d96(0x81e)][_0x100d96(0x422)]['getConnections']()[_0x100d96(0x756)]<this[_0x100d96(0x9d6)][_0x100d96(0x136)]()&&_0x4c5545<=_0x480573;){if(this['optimizationLayers'][_0x100d96(0x64b)](_0x4c5545)){_0x4c5545+=0x1;continue;}const _0x4fa060=this[_0x100d96(0x9d6)][_0x100d96(0x85e)](_0x242c0c,_0x4c5545),_0x4e4d1d=Array['from'](this['graphService'][_0x100d96(0x48e)]()[_0x100d96(0x992)]())[_0x100d96(0xa57)](_0x1c8ca8=>_0x1c8ca8['getRank']()===_0x4fa060&&_0x1c8ca8[_0x100d96(0x50b)]()===_0x5c56c8[_0x100d96(0xabe)]);if(_0x4e4d1d){try{await this[_0x100d96(0x81e)]['mediator'][_0x100d96(0xa55)](_0x4e4d1d[_0x100d96(0x686)](),_0x4cf391[_0x100d96(0x12b)]),this[_0x100d96(0x7d7)]['set'](_0x4c5545,_0x4e4d1d[_0x100d96(0x686)]());}catch(_0x106bbb){if(!(_0x106bbb instanceof _0xd907de&&_0x106bbb['code']===_0xd907de[_0x100d96(0x386)][_0x100d96(0x4ca)]))throw _0x106bbb;_0xd64180[_0x100d96(0x991)](_0x3c5ddd[_0x100d96(0x2e9)],this['configs']['localNode']['getId'](),_0x4e4d1d['getId'](),_0x106bbb[_0x100d96(0x337)]);}_0x4c5545+=0x1;}else _0x4c5545+=0x1;}},0x3e8);}async[_0xe992e3(0x745)](_0x558435){const _0x4792b9=_0xe992e3;this[_0x4792b9(0x495)]['splice'](this[_0x4792b9(0x495)][_0x4792b9(0x29b)](_0x558435),0x1);const _0x4f3a18=await this[_0x4792b9(0xb1f)][_0x4792b9(0x575)]();for(const _0x9d7d07 of _0x4f3a18)if(!this[_0x4792b9(0x495)][_0x4792b9(0x137)](_0x9d7d07)){const _0x212a78=Array[_0x4792b9(0x79e)](this[_0x4792b9(0x7d7)][_0x4792b9(0x9c8)]())[_0x4792b9(0xa57)](([,_0x201280])=>_0x201280===_0x9d7d07);_0x212a78&&this[_0x4792b9(0x7d7)]['delete'](_0x212a78[0x0]),this['configs'][_0x4792b9(0x422)][_0x4792b9(0xa55)](_0x9d7d07,_0x4cf391[_0x4792b9(0x7c2)]);}0x0===_0x4f3a18['length']&&this[_0x4792b9(0x81e)][_0x4792b9(0x71d)][_0x4792b9(0x80b)](0x1),this[_0x4792b9(0x495)]=_0x4f3a18;}async[_0xe992e3(0x525)](_0x41688a){const _0x25b1d5=_0xe992e3,_0x18faf3=this[_0x25b1d5(0x81e)][_0x25b1d5(0x71d)]['getRank']();if(!_0x18faf3)return;const _0xc2620=this[_0x25b1d5(0x9d6)]['getRemoteNode'](_0x41688a);if(!_0xc2620||_0xc2620[_0x25b1d5(0x50b)]()===_0x5c56c8[_0x25b1d5(0x311)])return;const _0x58db7a=_0xc2620['getRank']();if(!_0x58db7a||_0x58db7a<_0x18faf3)return;const _0xc809ae=this[_0x25b1d5(0x518)](this[_0x25b1d5(0x81e)][_0x25b1d5(0x71d)][_0x25b1d5(0x640)](),_0x18faf3),_0x266f91=this[_0x25b1d5(0x518)](_0xc2620['getRemoteConnections'](),_0x58db7a)[_0xc809ae['findIndex'](([_0x347c29])=>_0x347c29===_0x41688a)];if(!_0x266f91||this[_0x25b1d5(0x81e)][_0x25b1d5(0x71d)][_0x25b1d5(0x640)]()['has'](_0x266f91[0x0]))return;const _0x1d1094=this[_0x25b1d5(0x9d6)][_0x25b1d5(0x554)](_0x266f91[0x0]);if(_0x1d1094&&_0x1d1094[_0x25b1d5(0x50b)]()!==_0x5c56c8[_0x25b1d5(0x311)])try{await this['configs']['mediator']['createConnection'](_0x266f91[0x0],_0x4cf391[_0x25b1d5(0x12b)]);const _0x5cc7a8=Array[_0x25b1d5(0x79e)](this['optimizationLayers'][_0x25b1d5(0x9c8)]())['find'](([,_0x55fa10])=>_0x55fa10===_0x41688a);_0x5cc7a8&&this[_0x25b1d5(0x7d7)][_0x25b1d5(0x888)](_0x5cc7a8[0x0],_0x266f91[0x0]);}catch(_0x31d119){if(!(_0x31d119 instanceof _0xd907de&&_0x31d119[_0x25b1d5(0x14f)]===_0xd907de['codes'][_0x25b1d5(0x4ca)]))throw _0x31d119;_0xd64180['log'](_0x3c5ddd[_0x25b1d5(0x2e9)],this[_0x25b1d5(0x81e)][_0x25b1d5(0x71d)][_0x25b1d5(0x686)](),_0x266f91[0x0],_0x31d119[_0x25b1d5(0x337)]);}}[_0xe992e3(0x518)](_0x5c0fda,_0x3362f9){const _0x2fc3a0=_0xe992e3;return Array[_0x2fc3a0(0x79e)](_0x5c0fda)[_0x2fc3a0(0x3d2)]((_0x3c0858,_0x46a3db)=>{const _0xf61719=_0x2fc3a0,_0x1a2018=this['graphService'][_0xf61719(0x554)](_0x46a3db);if(!_0x1a2018||_0x1a2018[_0xf61719(0x50b)]()===_0x5c56c8[_0xf61719(0x311)])return _0x3c0858;const _0x65cd95=_0x1a2018[_0xf61719(0x582)]();if(!_0x65cd95)return _0x3c0858;const _0x4fb235=_0x65cd95-_0x3362f9;return _0x4fb235<=this[_0xf61719(0x9d6)][_0xf61719(0x8fb)]()||_0x3c0858[_0xf61719(0xae7)]([_0x46a3db,_0x4fb235]),_0x3c0858;},[])[_0x2fc3a0(0x1e4)](([,_0x19aa7b],[,_0x2e17ae])=>_0x19aa7b-_0x2e17ae);}}const _0x1b84f3=[{'problemType':_0xf0f020[_0xe992e3(0x19a)],'remediations':[{'type':_0x223cd8[_0xe992e3(0x622)],'component':_0x309cef[_0xe992e3(0x46f)],'action':_0x55363f[_0xe992e3(0x95d)]},{'type':_0x223cd8[_0xe992e3(0x8a0)],'component':_0x309cef[_0xe992e3(0x46f)],'action':_0x55363f[_0xe992e3(0x95d)]}]},{'problemType':_0xf0f020[_0xe992e3(0x986)],'remediations':[{'type':_0x223cd8[_0xe992e3(0x622)],'component':_0x309cef[_0xe992e3(0x46f)],'action':_0x55363f[_0xe992e3(0x95d)]}]},{'problemType':_0xf0f020['AudioVideoDelay'],'remediations':[{'type':_0x223cd8[_0xe992e3(0x622)],'component':_0x309cef['Resolution'],'action':_0x55363f[_0xe992e3(0x95d)]}]},{'problemType':_0xf0f020[_0xe992e3(0x7d4)],'remediations':[{'type':_0x223cd8[_0xe992e3(0x622)],'component':_0x309cef['Resolution'],'action':_0x55363f['Downgrade']}]},{'problemType':_0xf0f020['Bitrate'],'remediations':[{'type':_0x223cd8[_0xe992e3(0x622)],'component':_0x309cef[_0xe992e3(0x893)],'action':_0x55363f['Downgrade']}]},{'problemType':_0xf0f020[_0xe992e3(0x66c)],'remediations':[{'type':_0x223cd8[_0xe992e3(0x622)],'component':_0x309cef[_0xe992e3(0x893)],'action':_0x55363f[_0xe992e3(0x95d)]}]},{'problemType':_0xf0f020['RoundTripTime'],'remediations':[{'type':_0x223cd8[_0xe992e3(0x622)],'component':_0x309cef['Bitrate'],'action':_0x55363f[_0xe992e3(0x95d)]}]}];class _0x2698ba{['configs'];[_0xe992e3(0x587)];[_0xe992e3(0x6c1)]=new Map();constructor(_0x1ae182){const _0x338b7f=_0xe992e3;this[_0x338b7f(0x81e)]=_0x1ae182,this[_0x338b7f(0x81e)]['mediator'][_0x338b7f(0x95e)](this);}['close'](){const _0x6a4b55=_0xe992e3;this[_0x6a4b55(0x81e)][_0x6a4b55(0x422)][_0x6a4b55(0x35f)](this);}[_0xe992e3(0x4a5)](_0x58123b){const _0x28014b=_0xe992e3;this[_0x28014b(0x587)]=_0x58123b;}[_0xe992e3(0x20f)](){const _0x437bef=_0xe992e3;delete this[_0x437bef(0x587)];}[_0xe992e3(0x2a8)](_0x210e5f){const _0x55db5c=_0xe992e3;_0x210e5f['content']['type']===_0xe1a757[_0x55db5c(0xad4)]&&this[_0x55db5c(0x5b0)](_0x210e5f[_0x55db5c(0x2e4)][_0x55db5c(0x9a6)]);}[_0xe992e3(0xa00)](_0x1badfb){const _0x49a04a=_0xe992e3;_0x1badfb['content'][_0x49a04a(0x689)]===_0x223cd8['RemoteRemediation']&&this[_0x49a04a(0x771)](_0x1badfb['sourceId'],{'type':_0x223cd8[_0x49a04a(0x622)],'component':_0x1badfb[_0x49a04a(0x2e4)][_0x49a04a(0x9a6)][_0x49a04a(0x2a9)],'action':_0x1badfb['content']['data']['action']});}[_0xe992e3(0x5b0)](_0x2839e7){const _0x5313c7=_0xe992e3,_0xbbf7cc=_0x1b84f3[_0x5313c7(0xa57)](_0x227540=>_0x227540[_0x5313c7(0x175)]===_0x2839e7[_0x5313c7(0x689)]);_0xbbf7cc['remediations']?.['forEach'](_0x2f2713=>{const _0x284f3e=_0x5313c7;this[_0x284f3e(0x771)](_0x2839e7['nodeId'],{'type':_0x2839e7[_0x284f3e(0x45e)]===_0x50eff2[_0x284f3e(0x77e)]?_0x223cd8[_0x284f3e(0x622)]:_0x223cd8[_0x284f3e(0x8a0)],'component':_0x2f2713[_0x284f3e(0x2a9)],'action':_0x2f2713['action']});});}['applyRemediation'](_0x219121,_0x229f76){const _0x1d84ef=_0xe992e3;if(_0x229f76[_0x1d84ef(0x689)]===_0x223cd8[_0x1d84ef(0x622)]){const _0x69c176=Date['now'](),_0x33d90d=this[_0x1d84ef(0x6c1)][_0x1d84ef(0x6ab)](_0x219121);if(_0x33d90d&&_0x69c176-_0x33d90d<0x1388)return;this[_0x1d84ef(0x6c1)][_0x1d84ef(0x888)](_0x219121,_0x69c176);}_0xd64180['log'](_0x3c5ddd['Remediation'],'Apply\x20remediation',_0x229f76),_0xd64180[_0x1d84ef(0x3b3)](_0x1d84ef(0x882),{'clusterId':this[_0x1d84ef(0x81e)][_0x1d84ef(0x5e2)],'nodeId':this[_0x1d84ef(0x81e)]['localNode']['getId'](),'nodeType':this['configs'][_0x1d84ef(0x71d)][_0x1d84ef(0x689)],'remoteId':_0x219121,'data':{'type':_0x229f76[_0x1d84ef(0x689)],'component':_0x229f76[_0x1d84ef(0x2a9)],'action':_0x229f76['action']}});let _0x31d853,_0x3b4085=_0x413d1e;_0x229f76[_0x1d84ef(0x689)]===_0x223cd8[_0x1d84ef(0x8a0)]&&(_0x3b4085=this[_0x1d84ef(0x81e)][_0x1d84ef(0x71d)][_0x1d84ef(0x686)](),_0x31d853=[_0x219121]),this[_0x1d84ef(0x587)]['publish']({'sourceId':_0x3b4085,'destinationIds':_0x31d853,'messageType':_0x13f595[_0x1d84ef(0x622)],'content':{'type':_0x229f76[_0x1d84ef(0x689)],'targetId':_0x219121,'data':_0x229f76}});}}const _0x87a601=0x3e8,_0x3eafe1=0x7530,_0x3746c3='outbound-rtp',_0x3c7593=_0xe992e3(0x79b),_0x399061=_0xe992e3(0x785),_0x2a9f62=[_0x3746c3,_0x3c7593],_0x24cba3=[_0x399061];class _0x5b72ab{[_0xe992e3(0xad1)]=0x0;[_0xe992e3(0x4c6)]=0x0;[_0xe992e3(0x122)]=0x0;['packetsLost']=0x0;[_0xe992e3(0x789)]=0x0;[_0xe992e3(0x5f8)]=0x0;[_0xe992e3(0x543)]=0x0;['currentBytes']=0x0;[_0xe992e3(0xae8)]=0x0;get['bitrate'](){const _0x22f52e=_0xe992e3;return this[_0x22f52e(0x5f8)]>0x0&&this[_0x22f52e(0x543)]>0x0&&Date[_0x22f52e(0x559)]()-this[_0x22f52e(0x5f8)]<_0x3eafe1?(this[_0x22f52e(0x2d5)]-this[_0x22f52e(0xae8)])/(this['currentTimestamp']-this[_0x22f52e(0x543)])*0x8*0x3e8:0x0;}[_0xe992e3(0x3ed)](_0x38212c){const _0x138f0a=_0xe992e3;switch(_0x38212c[_0x138f0a(0x689)]){case _0x399061:this[_0x138f0a(0x6df)](_0x38212c);break;case _0x3746c3:this[_0x138f0a(0x801)](_0x38212c);break;case _0x3c7593:this[_0x138f0a(0x602)](_0x38212c);}}[_0xe992e3(0x49b)](){const _0x1db615=_0xe992e3;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x1db615(0x681)](),'roundTripTime':this[_0x1db615(0xad1)],'jitter':this[_0x1db615(0x122)]};}[_0xe992e3(0x6df)](_0x4bab09){const _0x4a2977=_0xe992e3;this[_0x4a2977(0x55f)](_0x4bab09[_0x4a2977(0x5d0)]),this[_0x4a2977(0x550)](_0x4bab09[_0x4a2977(0x2fa)]),this[_0x4a2977(0x789)]=_0x4bab09[_0x4a2977(0x7d9)],this[_0x4a2977(0x73f)]=_0x4bab09[_0x4a2977(0x73f)],void 0x0!==_0x4bab09[_0x4a2977(0x122)]?this[_0x4a2977(0x122)]=_0x4bab09[_0x4a2977(0x122)]:this[_0x4a2977(0x122)]=0x0,void 0x0!==_0x4bab09[_0x4a2977(0x4c6)]?this['estimatedPlayoutTimestamp']=_0x4bab09['estimatedPlayoutTimestamp']:this[_0x4a2977(0x4c6)]=0x0;}[_0xe992e3(0x801)](_0x399005){const _0xc0e74b=_0xe992e3;this[_0xc0e74b(0x55f)](_0x399005[_0xc0e74b(0x97c)]),this['setTimestamp'](_0x399005['timestamp']),this[_0xc0e74b(0x789)]=_0x399005[_0xc0e74b(0x46a)];}[_0xe992e3(0x602)](_0x5aaca2){const _0x2ce151=_0xe992e3;this[_0x2ce151(0xad1)]=0x3e8*_0x5aaca2['roundTripTime'],void 0x0!==_0x5aaca2['jitter']?this[_0x2ce151(0x122)]=_0x5aaca2[_0x2ce151(0x122)]:this[_0x2ce151(0x122)]=0x0;}[_0xe992e3(0x681)](){const _0x5adc90=_0xe992e3;return this[_0x5adc90(0x789)]>0x0?this['packetsLost']/this['packets']:0x0;}['setTimestamp'](_0x4c173a){const _0x335b02=_0xe992e3;_0x4c173a>this['currentTimestamp']&&(this[_0x335b02(0x543)]=this['currentTimestamp'],this['currentTimestamp']=_0x4c173a);}[_0xe992e3(0x55f)](_0x1b6757){const _0x4e2dce=_0xe992e3;this[_0x4e2dce(0xae8)]=this[_0x4e2dce(0x2d5)],this['currentBytes']=_0x1b6757;}}class _0x1815e1 extends _0x5b72ab{}class _0x7107dd extends _0x5b72ab{[_0xe992e3(0xaa6)]=0x0;[_0xe992e3(0x712)]=0x0;[_0xe992e3(0x839)]=0x0;[_0xe992e3(0x166)]=0x0;[_0xe992e3(0x93e)]=0x0;get[_0xe992e3(0x8c9)](){const _0x2e60a6=_0xe992e3;return this[_0x2e60a6(0x5f8)]>0x0&&this[_0x2e60a6(0x543)]>0x0&&Date[_0x2e60a6(0x559)]()-this['currentTimestamp']<_0x3eafe1?(this[_0x2e60a6(0x166)]-this[_0x2e60a6(0x93e)])/(this[_0x2e60a6(0x5f8)]-this[_0x2e60a6(0x543)])*0x3e8:0x0;}get[_0xe992e3(0x6e0)](){const _0xec9644=_0xe992e3;return this[_0xec9644(0xaa6)]&&this[_0xec9644(0x166)]&&this[_0xec9644(0x166)]>0x0?this[_0xec9644(0xaa6)]/this['currentFrames']:0x0;}set[_0xe992e3(0xae2)](_0x3980d8){const _0x50b45b=_0xe992e3;this[_0x50b45b(0x93e)]=this[_0x50b45b(0x166)],this['currentFrames']=_0x3980d8;}['getReport'](){const _0x4a191f=_0xe992e3;return{...super[_0x4a191f(0x49b)](),'FPS':this[_0x4a191f(0x8c9)],'timePerFrame':this[_0x4a191f(0x6e0)],'frameWidth':this[_0x4a191f(0x712)],'frameHeight':this[_0x4a191f(0x839)]};}[_0xe992e3(0x6df)](_0x42d3ac){const _0x33b13a=_0xe992e3;super['processInboundReport'](_0x42d3ac),this[_0x33b13a(0xaa6)]=_0x42d3ac[_0x33b13a(0x929)],this[_0x33b13a(0xae2)]=_0x42d3ac['framesDecoded'],this[_0x33b13a(0x712)]=_0x42d3ac[_0x33b13a(0x712)],this[_0x33b13a(0x839)]=_0x42d3ac[_0x33b13a(0x839)];}[_0xe992e3(0x801)](_0x91d88a){const _0x39dc5c=_0xe992e3;super[_0x39dc5c(0x801)](_0x91d88a),this[_0x39dc5c(0xaa6)]=_0x91d88a[_0x39dc5c(0x40e)],this[_0x39dc5c(0xae2)]=_0x91d88a[_0x39dc5c(0x954)],this[_0x39dc5c(0x712)]=_0x91d88a[_0x39dc5c(0x712)],this[_0x39dc5c(0x839)]=_0x91d88a['frameHeight'];}}class _0x12ef2f{['audio']=new _0x1815e1();[_0xe992e3(0x4dd)]=new _0x7107dd();get[_0xe992e3(0x21f)](){const _0x15dd4b=_0xe992e3;return this['audio']['bitrate']+this[_0x15dd4b(0x4dd)]['bitrate'];}['processReports'](_0x1f982d){const _0x5baaf6=_0xe992e3;return _0x1f982d[_0x5baaf6(0x558)](_0x15c651=>{const _0x828c4a=_0x5baaf6;switch(_0x15c651[_0x828c4a(0xa25)]){case'audio':this[_0x828c4a(0x1fb)][_0x828c4a(0x3ed)](_0x15c651);break;case'video':this[_0x828c4a(0x4dd)][_0x828c4a(0x3ed)](_0x15c651);}}),this['getReport']();}[_0xe992e3(0x49b)](){const _0x5c10c8=_0xe992e3;return{'audio':this[_0x5c10c8(0x1fb)]['getReport'](),'video':this[_0x5c10c8(0x4dd)][_0x5c10c8(0x49b)](),'roundTripTime':this[_0x5c10c8(0xa91)](),'AudioVideoDelay':this[_0x5c10c8(0xa72)](),'bitrate':this['bitrate']};}[_0xe992e3(0xa91)](){const _0x4e379f=_0xe992e3;return Math[_0x4e379f(0x7e3)]((this[_0x4e379f(0x1fb)][_0x4e379f(0xad1)]+this[_0x4e379f(0x4dd)][_0x4e379f(0xad1)])/0x2);}[_0xe992e3(0xa72)](){const _0x4c4d14=_0xe992e3;return this['audio'][_0x4c4d14(0x4c6)]-this[_0x4c4d14(0x4dd)][_0x4c4d14(0x4c6)];}}class _0x4e90f7{['senderCurrentTimestamp']=0x0;[_0xe992e3(0xacc)]=0x0;['receiverCurrentTimestamp']=0x0;['receiverPreviousTimestamp']=0x0;['senderCurrentBytes']=0x0;[_0xe992e3(0x908)]=0x0;[_0xe992e3(0x5fc)]=0x0;[_0xe992e3(0x989)]=0x0;[_0xe992e3(0x878)]=0x0;[_0xe992e3(0xb03)]=0x0;[_0xe992e3(0x4eb)]=0x0;[_0xe992e3(0x45c)]=0x0;['roundTripTime']=0x0;get[_0xe992e3(0x21f)](){const _0x41b8ec=_0xe992e3;return this[_0x41b8ec(0xa9a)]+this[_0x41b8ec(0xa7a)];}get[_0xe992e3(0xa9a)](){const _0x3a33b3=_0xe992e3;return this[_0x3a33b3(0x239)]>0x0&&this[_0x3a33b3(0xacc)]>0x0&&Date[_0x3a33b3(0x559)]()-this['senderCurrentTimestamp']<_0x3eafe1?(this['senderCurrentBytes']-this[_0x3a33b3(0x908)])/(this[_0x3a33b3(0x239)]-this[_0x3a33b3(0xacc)])*0x8*0x3e8:0x0;}get[_0xe992e3(0xa7a)](){const _0x1156ee=_0xe992e3;return this[_0x1156ee(0x140)]>0x0&&this[_0x1156ee(0x2bf)]>0x0&&Date[_0x1156ee(0x559)]()-this[_0x1156ee(0x140)]<_0x3eafe1?(this[_0x1156ee(0x5fc)]-this[_0x1156ee(0x989)])/(this[_0x1156ee(0x140)]-this[_0x1156ee(0x2bf)])*0x8*0x3e8:0x0;}[_0xe992e3(0x3ed)](_0x1b9817){const _0x25e9aa=_0xe992e3;switch(_0x1b9817[_0x25e9aa(0x45e)]){case _0x50eff2['Sender']:this['processSenderReport'](_0x1b9817);break;case _0x50eff2['Receiver']:this[_0x25e9aa(0xaa0)](_0x1b9817);}}[_0xe992e3(0x49b)](){const _0x3ca185=_0xe992e3;return{'bitrate':this[_0x3ca185(0x21f)],'senderBitrate':this[_0x3ca185(0xa9a)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x3ca185(0x51a)](),'senderTotalBytes':this[_0x3ca185(0x83c)](),'receiverTotalBytes':this[_0x3ca185(0x454)](),'totalMessages':this[_0x3ca185(0x878)]+this[_0x3ca185(0xb03)],'senderTotalMessages':this[_0x3ca185(0x878)],'receiverTotalMessages':this[_0x3ca185(0xb03)],'timeProcessing':this['senderTimeProcessing']+this[_0x3ca185(0x45c)],'senderTimeProcessing':this[_0x3ca185(0x4eb)],'receiverTimeProcessing':this[_0x3ca185(0x45c)],'roundTripTime':this[_0x3ca185(0xad1)]};}[_0xe992e3(0x51a)](){const _0x1d82ba=_0xe992e3;return this[_0x1d82ba(0x952)]+this[_0x1d82ba(0x5fc)];}[_0xe992e3(0x83c)](){const _0x170258=_0xe992e3;return this[_0x170258(0x952)];}['getReceiverTotalBytes'](){const _0x39f83f=_0xe992e3;return this[_0x39f83f(0x5fc)];}[_0xe992e3(0x316)](_0x316766){const _0x59b727=_0xe992e3;this[_0x59b727(0x470)](_0x316766['timestamp']),this['setBytes'](_0x316766[_0x59b727(0x97c)]),this[_0x59b727(0x878)]=_0x316766['messagesSent'],this['senderTimeProcessing']=_0x316766[_0x59b727(0x1cc)],this['roundTripTime']=_0x316766[_0x59b727(0xad1)];}[_0xe992e3(0xaa0)](_0x4600cd){const _0x21692b=_0xe992e3;this[_0x21692b(0x236)](_0x4600cd[_0x21692b(0x2fa)]),this[_0x21692b(0x854)](_0x4600cd[_0x21692b(0x5d0)]),this['receiverTotalMessages']=_0x4600cd['messagesReceived'],this[_0x21692b(0x45c)]=_0x4600cd['timeReceiving'];}[_0xe992e3(0x470)](_0x410624){const _0x5aeab0=_0xe992e3;_0x410624>this[_0x5aeab0(0x239)]&&(this[_0x5aeab0(0xacc)]=this['senderCurrentTimestamp'],this[_0x5aeab0(0x239)]=_0x410624);}['setReceiverTimestamp'](_0x539516){const _0x3d45a0=_0xe992e3;_0x539516>this[_0x3d45a0(0x140)]&&(this[_0x3d45a0(0x2bf)]=this[_0x3d45a0(0x140)],this[_0x3d45a0(0x140)]=_0x539516);}[_0xe992e3(0x55f)](_0x319a19){const _0xef70cb=_0xe992e3;this[_0xef70cb(0x908)]=this['senderCurrentBytes'],this[_0xef70cb(0x952)]=_0x319a19;}[_0xe992e3(0x854)](_0x4f10ab){const _0x4ee1ff=_0xe992e3;this[_0x4ee1ff(0x989)]=this['receiverCurrentBytes'],this['receiverCurrentBytes']=_0x4f10ab;}}class _0x2ae867{[_0xe992e3(0x72c)]=new Map();['receiverStreams']=new Map();[_0xe992e3(0x251)]=new _0x4e90f7();get[_0xe992e3(0xa9a)](){const _0x1250c9=_0xe992e3;let _0x233ddd=0x0;return this['senderStreams'][_0x1250c9(0x558)](_0x36f704=>{const _0x4a7c58=_0x1250c9;_0x233ddd+=_0x36f704[_0x4a7c58(0x21f)];}),_0x233ddd+=this['dataChannel'][_0x1250c9(0xa9a)],_0x233ddd;}get['receiverBitrate'](){const _0x45080e=_0xe992e3;let _0x246b93=0x0;return this[_0x45080e(0x7ee)][_0x45080e(0x558)](_0x187bf9=>{const _0x323841=_0x45080e;_0x246b93+=_0x187bf9[_0x323841(0x21f)];}),_0x246b93+=this[_0x45080e(0x251)][_0x45080e(0xa7a)],_0x246b93;}get[_0xe992e3(0x21f)](){const _0x129e2f=_0xe992e3;return this[_0x129e2f(0xa9a)]+this['receiverBitrate'];}[_0xe992e3(0x80e)](_0x327a03,_0x3c7924){const _0x352080=_0xe992e3,_0x25586f=[],_0x3c0744=[];return _0x327a03 instanceof Array?_0x327a03[_0x352080(0x558)](_0x5c9c30=>{const _0x1ae652=_0x352080;_0x5c9c30[_0x1ae652(0x558)](_0x537d6b=>{const _0x4d7007=_0x1ae652;_0x24cba3[_0x4d7007(0x137)](_0x537d6b['type'])&&_0x25586f['push'](_0x537d6b),_0x2a9f62[_0x4d7007(0x137)](_0x537d6b[_0x4d7007(0x689)])&&_0x3c0744[_0x4d7007(0xae7)](_0x537d6b);});}):this[_0x352080(0x251)][_0x352080(0x3ed)](_0x327a03),_0x25586f['length']>0x0&&_0x3c7924?{...this[_0x352080(0xafc)](_0x3c7924,_0x25586f),'origin':_0x50eff2[_0x352080(0x9c2)],'streamId':_0x3c7924}:_0x3c0744['length']>0x0&&_0x3c7924?{...this[_0x352080(0x22d)](_0x3c7924,_0x3c0744),'origin':_0x50eff2[_0x352080(0x77e)],'streamId':_0x3c7924}:void 0x0;}[_0xe992e3(0x49b)](){const _0x4884e5=_0xe992e3,_0x4c8752={};this['senderStreams'][_0x4884e5(0x558)]((_0x581421,_0x421281)=>{const _0x22ab06=_0x4884e5;_0x4c8752[_0x421281]=_0x581421[_0x22ab06(0x49b)]();});const _0x18624c={};return this[_0x4884e5(0x7ee)][_0x4884e5(0x558)]((_0x16add7,_0x18c763)=>{const _0x77d0ea=_0x4884e5;_0x18624c[_0x18c763]=_0x16add7[_0x77d0ea(0x49b)]();}),{'bitrate':this[_0x4884e5(0x21f)],'senderBitrate':this[_0x4884e5(0xa9a)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x4c8752,'receiverStreams':_0x18624c,'dataChannel':this[_0x4884e5(0x251)]['getReport']()};}[_0xe992e3(0xafc)](_0x286025,_0x42d3d9){const _0x7a5023=_0xe992e3;return this['receiverStreams'][_0x7a5023(0x64b)](_0x286025)||this['receiverStreams']['set'](_0x286025,new _0x12ef2f()),this[_0x7a5023(0x7ee)][_0x7a5023(0x6ab)](_0x286025)[_0x7a5023(0x80e)](_0x42d3d9);}[_0xe992e3(0x22d)](_0x409ce8,_0x4deb3a){const _0x262bbe=_0xe992e3;return this['senderStreams']['has'](_0x409ce8)||this[_0x262bbe(0x72c)]['set'](_0x409ce8,new _0x12ef2f()),this[_0x262bbe(0x72c)][_0x262bbe(0x6ab)](_0x409ce8)[_0x262bbe(0x80e)](_0x4deb3a);}}class _0x3f8838{[_0xe992e3(0x287)]=new Map();[_0xe992e3(0x2e1)]=0x0;[_0xe992e3(0x460)]=0x0;[_0xe992e3(0x37c)]=new Map();[_0xe992e3(0x96e)]=new Map();[_0xe992e3(0x9cd)]=new Map();[_0xe992e3(0x726)]=new Map();[_0xe992e3(0x6c4)]=new Map();['vectorDatabases']=new Map();[_0xe992e3(0x78a)]=new Map();[_0xe992e3(0x1db)]=new Map();[_0xe992e3(0x878)]=new Map();[_0xe992e3(0xb03)]=new Map();['senderTimeProcessing']=new Map();[_0xe992e3(0x45c)]=new Map();[_0xe992e3(0x915)]=new Map();['systemTopic'];[_0xe992e3(0x49b)](){const _0x400268=_0xe992e3,_0x13f4ae={};this['nodes'][_0x400268(0x558)]((_0x75e3e5,_0x53fdbd)=>{const _0x57a9cc=_0x400268;_0x13f4ae[_0x53fdbd]=_0x75e3e5[_0x57a9cc(0x49b)]();});let _0x2dd38c=0x0;this[_0x400268(0x4eb)]['forEach'](_0x466942=>{_0x2dd38c+=_0x466942;});let _0x50d227=0x0;this['receiverTimeProcessing'][_0x400268(0x558)](_0x5cb409=>{_0x50d227+=_0x5cb409;});const _0x518107=_0x2dd38c+_0x50d227;let _0x27fcf1={'messages':{'total':0x0}};this[_0x400268(0x915)][_0x400268(0x558)](_0xbf40c6=>{const _0xe2d850=_0x400268;Object[_0xe2d850(0x5a2)](_0xbf40c6)[_0xe2d850(0x558)](_0x18587d=>{const _0x35e28f=_0xe2d850;_0x27fcf1[_0x18587d]||(_0x27fcf1[_0x18587d]={}),Object[_0x35e28f(0x5a2)](_0xbf40c6[_0x18587d])[_0x35e28f(0x558)](_0x4d1c70=>{_0x27fcf1[_0x18587d][_0x4d1c70]||(_0x27fcf1[_0x18587d][_0x4d1c70]=0x0),_0x27fcf1[_0x18587d][_0x4d1c70]+=_0xbf40c6[_0x18587d][_0x4d1c70];});});});let _0x2778ce=0x0,_0x480a2a=0x0,_0x276c8c=0x0,_0x560831=0x0,_0x255828=0x0;return this[_0x400268(0x37c)]['forEach'](_0x150bc8=>{const _0x1377b6=_0x400268;_0x480a2a+=_0x150bc8[_0x1377b6(0x30c)],_0x276c8c+=_0x150bc8[_0x1377b6(0x97d)],_0x560831+=_0x150bc8[_0x1377b6(0x97c)],_0x255828+=_0x150bc8['bytesReceived'];}),this[_0x400268(0x96e)][_0x400268(0x558)](_0x24ddb9=>{const _0x86e406=_0x400268;_0x2778ce+=_0x24ddb9[_0x86e406(0x5ff)],_0x480a2a+=_0x24ddb9[_0x86e406(0x30c)],_0x276c8c+=_0x24ddb9[_0x86e406(0x97d)],_0x560831+=_0x24ddb9[_0x86e406(0x97c)],_0x255828+=_0x24ddb9[_0x86e406(0x5d0)];}),this[_0x400268(0x9cd)][_0x400268(0x558)](_0xfb283a=>{const _0x39f3ec=_0x400268;_0x2778ce+=_0xfb283a[_0x39f3ec(0x5ff)],_0x480a2a+=_0xfb283a[_0x39f3ec(0x30c)],_0x276c8c+=_0xfb283a[_0x39f3ec(0x97d)],_0x560831+=_0xfb283a[_0x39f3ec(0x97c)],_0x255828+=_0xfb283a[_0x39f3ec(0x5d0)];}),this[_0x400268(0x726)][_0x400268(0x558)](_0x293ab8=>{const _0x57812b=_0x400268;_0x2778ce+=_0x293ab8[_0x57812b(0x5ff)],_0x480a2a+=_0x293ab8[_0x57812b(0x30c)],_0x276c8c+=_0x293ab8[_0x57812b(0x97d)],_0x560831+=_0x293ab8[_0x57812b(0x97c)],_0x255828+=_0x293ab8[_0x57812b(0x5d0)];}),this[_0x400268(0x6c4)][_0x400268(0x558)](_0x555dcb=>{const _0x48c32e=_0x400268;_0x2778ce+=_0x555dcb[_0x48c32e(0x5ff)],_0x480a2a+=_0x555dcb[_0x48c32e(0x30c)],_0x276c8c+=_0x555dcb[_0x48c32e(0x97d)],_0x560831+=_0x555dcb[_0x48c32e(0x97c)],_0x255828+=_0x555dcb[_0x48c32e(0x5d0)];}),this[_0x400268(0x96f)][_0x400268(0x558)](_0x5d743a=>{const _0x157c84=_0x400268;_0x2778ce+=_0x5d743a['storage'],_0x480a2a+=_0x5d743a['messagesSent'],_0x276c8c+=_0x5d743a[_0x157c84(0x97d)],_0x560831+=_0x5d743a['bytesSent'],_0x255828+=_0x5d743a['bytesReceived'];}),this[_0x400268(0x78a)][_0x400268(0x558)](_0x3f374b=>{const _0x3e79fc=_0x400268;_0x2778ce+=_0x3f374b[_0x3e79fc(0x5ff)],_0x480a2a+=_0x3f374b[_0x3e79fc(0x30c)],_0x276c8c+=_0x3f374b[_0x3e79fc(0x97d)],_0x560831+=_0x3f374b[_0x3e79fc(0x97c)],_0x255828+=_0x3f374b[_0x3e79fc(0x5d0)];}),{'STVolatility':this[_0x400268(0x1eb)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x400268(0xad2)](),'senderBitrate':this[_0x400268(0x13b)](),'receiverBitrate':this[_0x400268(0x718)](),'totalStorageSize':_0x2778ce,'totalMessages':_0x480a2a+_0x276c8c,'totalMessagesSent':_0x480a2a,'totalMessagesReceived':_0x276c8c,'totalBytes':_0x560831+_0x255828,'totalBytesSent':_0x560831,'totalBytesReceived':_0x255828,'systemMessages':_0x27fcf1,'timeProcessing':_0x518107,'nodes':_0x13f4ae,'pubsubTopics':Object[_0x400268(0x4d8)](this[_0x400268(0x37c)]),'objectStores':Object[_0x400268(0x4d8)](this['objectStores']),'keyValueDatabases':Object['fromEntries'](this[_0x400268(0x9cd)]),'generativeAIContexts':Object[_0x400268(0x4d8)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x400268(0x4d8)](this[_0x400268(0x6c4)]),'vectorDatabases':Object['fromEntries'](this[_0x400268(0x96f)]),'graphDatabases':Object[_0x400268(0x4d8)](this[_0x400268(0x78a)]),'externalStorages':Object['fromEntries'](this['externalStorages'])};}[_0xe992e3(0x825)](_0x5567cd){const _0x598717=_0xe992e3;this['nodes'][_0x598717(0x888)](_0x5567cd,new _0x2ae867());}[_0xe992e3(0x641)](_0x1bb933){const _0x370be7=_0xe992e3;this['nodes'][_0x370be7(0x5eb)](_0x1bb933);}['processReports'](_0x4cf3d0,_0x3cdbf2,_0x14155e){const _0x446fa9=_0xe992e3;_0x3cdbf2 instanceof Array||this['processDataChannelReport'](_0x4cf3d0,_0x3cdbf2);const _0x3e92bf=this[_0x446fa9(0x287)][_0x446fa9(0x6ab)](_0x4cf3d0)?.[_0x446fa9(0x80e)](_0x3cdbf2,_0x14155e);_0x3e92bf&&this[_0x446fa9(0x587)][_0x446fa9(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595[_0x446fa9(0x8b7)],'content':{'type':_0x51cca5['StreamReport'],'data':{..._0x3e92bf,'nodeId':_0x4cf3d0}}});}[_0xe992e3(0x1ad)](_0x4b1d03){const _0x338ecd=_0xe992e3;this['setScheduleTime'](_0x4b1d03['secheduleTime']),this[_0x338ecd(0x628)](_0x4b1d03[_0x338ecd(0x460)]),this[_0x338ecd(0x587)][_0x338ecd(0x246)]({'sourceId':_0x413d1e,'messageType':_0x13f595['Stats'],'content':{'type':_0x51cca5[_0x338ecd(0xad6)],'data':{'STVolatility':this[_0x338ecd(0x1eb)](),'DTVolatility':this['getDTVolatility']()}}});}[_0xe992e3(0x1c4)](_0xbe7f97,_0x2383b9,_0x433ad1){const _0x1b17cb=_0xe992e3;switch(_0x2383b9){case _0x26ec79[_0x1b17cb(0x94d)]:this[_0x1b17cb(0x37c)]['set'](_0xbe7f97,_0x433ad1);break;case _0x26ec79[_0x1b17cb(0x465)]:this[_0x1b17cb(0x96e)][_0x1b17cb(0x888)](_0xbe7f97,_0x433ad1);break;case _0x26ec79[_0x1b17cb(0x948)]:this[_0x1b17cb(0x9cd)]['set'](_0xbe7f97,_0x433ad1);break;case _0x26ec79['GenerativeAIContextStats']:this[_0x1b17cb(0x726)][_0x1b17cb(0x888)](_0xbe7f97,_0x433ad1);break;case _0x26ec79[_0x1b17cb(0x8fc)]:this[_0x1b17cb(0x6c4)]['set'](_0xbe7f97,_0x433ad1);break;case _0x26ec79['VectorDatabaseStats']:this[_0x1b17cb(0x96f)][_0x1b17cb(0x888)](_0xbe7f97,_0x433ad1);break;case _0x26ec79['GraphDatabaseStats']:this[_0x1b17cb(0x78a)][_0x1b17cb(0x888)](_0xbe7f97,_0x433ad1);break;case _0x26ec79['ExternalStorageStats']:this[_0x1b17cb(0x1db)][_0x1b17cb(0x888)](_0xbe7f97,_0x433ad1);}}[_0xe992e3(0x4a5)](_0x5d605d){const _0x3383ac=_0xe992e3;this[_0x3383ac(0x587)]=_0x5d605d;}['unregisterSystemPublisher'](){const _0x273d6d=_0xe992e3;delete this[_0x273d6d(0x587)];}['getSTVolatility'](){const _0x530898=_0xe992e3;return this[_0x530898(0x2e1)]>0x0&&this[_0x530898(0x2e1)]-_0x87a601>0x0?(this[_0x530898(0x2e1)]-_0x87a601)/_0x87a601:0x0;}[_0xe992e3(0x5ba)](){const _0x4a8b79=_0xe992e3;return this['durationTime']>0x0&&this[_0x4a8b79(0x460)]-0x64>0x0?(this[_0x4a8b79(0x460)]-0x64)/0x64:0x0;}[_0xe992e3(0x13b)](){const _0x535d59=_0xe992e3;let _0x354635=0x0;return this[_0x535d59(0x287)][_0x535d59(0x558)](_0xb1feee=>{const _0x1170de=_0x535d59;_0x354635+=_0xb1feee[_0x1170de(0xa9a)];}),_0x354635;}[_0xe992e3(0x718)](){const _0xa50409=_0xe992e3;let _0x428a0f=0x0;return this[_0xa50409(0x287)]['forEach'](_0x148cac=>{const _0x4f78d5=_0xa50409;_0x428a0f+=_0x148cac[_0x4f78d5(0xa7a)];}),_0x428a0f;}[_0xe992e3(0xad2)](){const _0x61c5a1=_0xe992e3;let _0x31252f=0x0;return this[_0x61c5a1(0x287)]['forEach'](_0x16a49e=>{_0x31252f+=_0x16a49e['bitrate'];}),_0x31252f;}['setScheduleTime'](_0x49f92f){const _0x430b4a=_0xe992e3;this[_0x430b4a(0x2e1)]=_0x49f92f;}[_0xe992e3(0x628)](_0x3d09fe){const _0xf698ed=_0xe992e3;this[_0xf698ed(0x460)]=_0x3d09fe;}[_0xe992e3(0x68d)](_0x1c66f4,_0x37ca57){const _0x4ebb4d=_0xe992e3;switch(_0x37ca57[_0x4ebb4d(0x45e)]){case _0x50eff2[_0x4ebb4d(0x77e)]:this[_0x4ebb4d(0x316)](_0x1c66f4,_0x37ca57);break;case _0x50eff2[_0x4ebb4d(0x9c2)]:this['processReceiverReport'](_0x1c66f4,_0x37ca57);}}['processSenderReport'](_0x14ecb8,_0x3b849f){const _0xb3d70a=_0xe992e3;this['senderTotalMessages'][_0xb3d70a(0x888)](_0x14ecb8,_0x3b849f[_0xb3d70a(0x30c)]),this['senderTimeProcessing'][_0xb3d70a(0x888)](_0x14ecb8,_0x3b849f[_0xb3d70a(0x1cc)]);}[_0xe992e3(0xaa0)](_0x3beb4b,_0x2cc8d9){const _0x2c49fa=_0xe992e3;this['receiverTotalMessages']['set'](_0x3beb4b,_0x2cc8d9['messagesReceived']),this[_0x2c49fa(0x45c)][_0x2c49fa(0x888)](_0x3beb4b,_0x2cc8d9[_0x2c49fa(0x174)]),this[_0x2c49fa(0x915)][_0x2c49fa(0x888)](_0x3beb4b,_0x2cc8d9[_0x2c49fa(0x915)]);}}class _0x368d52{[_0xe992e3(0x81e)];[_0xe992e3(0x27d)]=new Set();[_0xe992e3(0xa5d)];['statsCollection'];[_0xe992e3(0xaa5)];[_0xe992e3(0x6f5)]=new _0x3f8838();constructor(_0x42e779){const _0x5bd933=_0xe992e3;this[_0x5bd933(0x81e)]=_0x42e779,this[_0x5bd933(0x81e)][_0x5bd933(0x422)][_0x5bd933(0x95e)](this['statsReport']),this[_0x5bd933(0x2e5)]=this[_0x5bd933(0x7e0)](),this['statsReporting']=this[_0x5bd933(0x385)]();}[_0xe992e3(0x1c9)](){const _0x3262e3=_0xe992e3;this[_0x3262e3(0x81e)]['mediator'][_0x3262e3(0x35f)](this[_0x3262e3(0x6f5)]),this['statsReporting'](),this[_0x3262e3(0x2e5)]();}[_0xe992e3(0x825)](_0x67dbba){const _0x3b49d6=_0xe992e3;this[_0x3b49d6(0x27d)]['add'](_0x67dbba),this[_0x3b49d6(0x6f5)][_0x3b49d6(0x825)](_0x67dbba);}[_0xe992e3(0x641)](_0x29d675){const _0x376015=_0xe992e3;this['remoteNodes']['delete'](_0x29d675),this['statsReport'][_0x376015(0x641)](_0x29d675);}[_0xe992e3(0x408)](_0x493488){const _0x54c9d8=_0xe992e3;if(_0x493488['content'][_0x54c9d8(0x689)]===_0x5b41e8[_0x54c9d8(0x8b7)]){const {nodeId:_0x39e85b,streamId:_0x14bf1e,stats:_0x14d861}=_0x493488[_0x54c9d8(0x2e4)];this['statsReport'][_0x54c9d8(0x80e)](_0x39e85b,_0x14d861,_0x14bf1e);}}[_0xe992e3(0x5b3)](_0x5b23ce){const _0x27a8ab=_0xe992e3;switch(_0x5b23ce[_0x27a8ab(0x2e4)][_0x27a8ab(0x689)]){case _0x26ec79[_0x27a8ab(0x465)]:case _0x26ec79['KeyValueDatabaseStats']:case _0x26ec79['PubSubTopicStats']:case _0x26ec79[_0x27a8ab(0x739)]:case _0x26ec79[_0x27a8ab(0x8fc)]:case _0x26ec79[_0x27a8ab(0x192)]:case _0x26ec79['GraphDatabaseStats']:case _0x26ec79['ExternalStorageStats']:this[_0x27a8ab(0x6f5)][_0x27a8ab(0x1c4)](_0x5b23ce[_0x27a8ab(0x2e4)][_0x27a8ab(0x3fc)],_0x5b23ce[_0x27a8ab(0x2e4)][_0x27a8ab(0x689)],_0x5b23ce['content'][_0x27a8ab(0x2af)]);}}[_0xe992e3(0x385)](){const _0x1177c7=_0xe992e3;return _0x50a54a[_0x1177c7(0x6b1)](()=>{const _0x33df7a=_0x1177c7,_0x59c8af=this[_0x33df7a(0x6f5)]['getReport']();_0xd64180['log'](_0x3c5ddd[_0x33df7a(0x8b7)],_0x33df7a(0xa4b),_0x59c8af),(0x0,_0x3d2491['addDoc'])((0x0,_0x3d2491['collection'])(_0x57cb7d[_0x33df7a(0x928)](),_0x33df7a(0x67c)+this['configs'][_0x33df7a(0x3ea)]+_0x33df7a(0x657)),{'clusterId':this[_0x33df7a(0x81e)][_0x33df7a(0x5e2)],'nodeId':this[_0x33df7a(0x81e)][_0x33df7a(0x71d)][_0x33df7a(0x686)](),'nodeType':this[_0x33df7a(0x81e)][_0x33df7a(0x71d)][_0x33df7a(0x689)],'timestamp':(0x0,_0x3d2491[_0x33df7a(0x3cd)])(),'report':_0x59c8af}),_0xd64180[_0x33df7a(0x3b3)](_0x33df7a(0x2af),{'clusterId':this['configs'][_0x33df7a(0x5e2)],'nodeId':this['configs']['localNode']['getId'](),'nodeType':this[_0x33df7a(0x81e)][_0x33df7a(0x71d)][_0x33df7a(0x689)],'data':{'report':_0x59c8af}});},_0x3eafe1);}['setupStatsCollection'](){const _0x412b32=_0xe992e3;let _0x37ee23=!0x1,_0x3edf7d=Date[_0x412b32(0x559)]();return _0x50a54a[_0x412b32(0x6b1)](async()=>{const _0x271d59=_0x412b32;if(_0x37ee23)return;if(_0x37ee23=!0x0,0x0===this[_0x271d59(0x27d)][_0x271d59(0x73d)])return delete this[_0x271d59(0xa5d)],void(_0x37ee23=!0x1);const _0x2f0157=Date[_0x271d59(0x559)]();this[_0x271d59(0x540)]();try{await this['configs'][_0x271d59(0x422)]['collectStats'](this[_0x271d59(0xa5d)]);}catch(_0xc35df9){}this[_0x271d59(0x6f5)][_0x271d59(0x1ad)]({'secheduleTime':_0x2f0157-_0x3edf7d,'durationTime':Date[_0x271d59(0x559)]()-_0x2f0157}),_0x3edf7d=_0x2f0157,_0x37ee23=!0x1;},_0x87a601);}[_0xe992e3(0x540)](){const _0x136f82=_0xe992e3;let _0x5bcb5b,_0x45e45a=!0x1;this[_0x136f82(0xa5d)]&&(this[_0x136f82(0x27d)][_0x136f82(0x64b)](this[_0x136f82(0xa5d)])||delete this[_0x136f82(0xa5d)]);for(const _0x41b855 of this[_0x136f82(0x27d)])if(_0x5bcb5b||(_0x5bcb5b=_0x41b855),this[_0x136f82(0xa5d)]!==_0x41b855){if(_0x45e45a)return void(this['nextNodeId']=_0x41b855);}else _0x45e45a=!0x0,delete this[_0x136f82(0xa5d)];this['nextNodeId']||(this[_0x136f82(0xa5d)]=_0x5bcb5b);}}class _0x9ecd29{[_0xe992e3(0x185)];[_0xe992e3(0x757)];[_0xe992e3(0x587)];constructor(_0x1f0485,_0x5dae29){const _0x445f56=_0xe992e3;this[_0x445f56(0x185)]=_0x1f0485,this['destination']=_0x5dae29;}[_0xe992e3(0x4a5)](_0x4e6aae){const _0x957c8f=_0xe992e3;this[_0x957c8f(0x587)]=_0x4e6aae;}[_0xe992e3(0x20f)](){delete this['systemTopic'];}}class _0x584c79 extends _0x9ecd29{[_0xe992e3(0x185)];[_0xe992e3(0x757)];['params'];constructor(_0x13e0b2,_0x4c0f0a,_0x1a566e){const _0x339ce4=_0xe992e3;super(_0x13e0b2,_0x4c0f0a),this['source']=_0x13e0b2,this[_0x339ce4(0x757)]=_0x4c0f0a,this[_0x339ce4(0x765)]=_0x1a566e;}['subscribe'](_0x1c498d,_0x247a92,_0x5318bb){const _0x154c36=_0xe992e3;if(this[_0x154c36(0x757)][_0x154c36(0x437)]()===_0x981fb5['ContentType'][_0x154c36(0x2b0)]){const _0x3c9798={'type':_0x311c63['SubscribeMediaStream'],'label':this[_0x154c36(0x757)][_0x154c36(0x270)](),'ownerId':_0x1c498d,'trackKinds':_0x247a92??this[_0x154c36(0x757)]['getAvailableTrackKinds'](),'params':_0x5318bb};this[_0x154c36(0x587)]['publish']({'sourceId':this['source'][_0x154c36(0x50f)](),'destinationIds':[this['source'][_0x154c36(0x383)]()],'messageType':_0x13f595[_0x154c36(0x173)],'content':_0x3c9798}),this[_0x154c36(0x765)]=_0x5318bb;}}['update'](_0x28bb70,_0x22ccf5){const _0xd65c8b=_0xe992e3;if(this[_0xd65c8b(0x757)][_0xd65c8b(0x437)]()===_0x981fb5[_0xd65c8b(0x4c9)][_0xd65c8b(0x2b0)]){const _0x2b6a35={'type':_0x311c63[_0xd65c8b(0x54c)],'label':this[_0xd65c8b(0x757)][_0xd65c8b(0x270)](),'ownerId':_0x28bb70,'params':_0x22ccf5};this[_0xd65c8b(0x587)][_0xd65c8b(0x246)]({'sourceId':this[_0xd65c8b(0x185)]['getLocalId'](),'destinationIds':[this[_0xd65c8b(0x185)][_0xd65c8b(0x383)]()],'messageType':_0x13f595[_0xd65c8b(0x173)],'content':_0x2b6a35}),this[_0xd65c8b(0x765)]=_0x22ccf5;}}[_0xe992e3(0x4c0)](_0x115f2d,_0xaf9ed7,_0xa91fca){const _0x409e74=_0xe992e3;if(this[_0x409e74(0x757)]['getContentType']()===_0x981fb5[_0x409e74(0x4c9)][_0x409e74(0x2b0)]){const _0x4ca0e7={'type':_0x311c63[_0x409e74(0x8d5)],'label':this['destination'][_0x409e74(0x270)](),'ownerId':_0x115f2d,'trackKinds':_0xa91fca??this[_0x409e74(0x757)][_0x409e74(0xa78)](),'remainingTracks':_0xaf9ed7};this[_0x409e74(0x587)][_0x409e74(0x246)]({'sourceId':this[_0x409e74(0x185)]['getLocalId'](),'destinationIds':[this['source'][_0x409e74(0x383)]()],'messageType':_0x13f595[_0x409e74(0x173)],'content':_0x4ca0e7});}}}class _0x2a3b7d{[_0xe992e3(0xb1e)];[_0xe992e3(0x580)];[_0xe992e3(0x4ac)];[_0xe992e3(0x587)];['answers']=new Set();['startTime']=Date[_0xe992e3(0x559)]();[_0xe992e3(0x765)];[_0xe992e3(0x6e5)]=0x0;constructor(_0x86a964,_0x1680ca,_0x1e76be,_0x431c89){const _0x530f7e=_0xe992e3;this[_0x530f7e(0xb1e)]=_0x1680ca,this['maxDistance']=_0x1e76be,this['tracks']=_0x431c89,_0x86a964[_0x530f7e(0x558)](_0x52c390=>{const _0x3c6594=_0x530f7e;this[_0x3c6594(0x557)]['add']({'nodeId':_0x52c390,'type':_0xb93568['Waiting']});});}[_0xe992e3(0x69e)](){const _0x4c97fa=_0xe992e3;return this[_0x4c97fa(0x4ac)];}[_0xe992e3(0x4a5)](_0x3eefb8){const _0xcc55a0=_0xe992e3;this[_0xcc55a0(0x587)]=_0x3eefb8;}[_0xe992e3(0x20f)](){const _0x388bfd=_0xe992e3;delete this[_0x388bfd(0x587)];}['reset'](_0x4cbb71,_0x528e69){const _0x1558ec=_0xe992e3;this[_0x1558ec(0xb15)]=Date[_0x1558ec(0x559)](),this[_0x1558ec(0x557)][_0x1558ec(0x24d)](),_0x4cbb71[_0x1558ec(0x558)](_0x5a48e2=>{const _0x2fcdbf=_0x1558ec;this[_0x2fcdbf(0x557)]['add']({'nodeId':_0x5a48e2,'type':_0xb93568[_0x2fcdbf(0x3c1)]});}),this[_0x1558ec(0x6e5)]+=0x1,this[_0x1558ec(0xb1e)]=_0x528e69;}[_0xe992e3(0x2f7)](_0x53ed57,_0x2d00e7,_0x2d54fc,_0x20fca5,_0x69be69){const _0x3fa798=_0xe992e3;if(this[_0x3fa798(0x6e5)]>0xa)throw new _0xd907de(_0xd907de[_0x3fa798(0x386)][_0x3fa798(0x7b6)],{'answers':Array[_0x3fa798(0x79e)](this[_0x3fa798(0x557)])[_0x3fa798(0x7db)](_0x184458=>({'nodeId':_0x184458['nodeId'],'type':_0x184458[_0x3fa798(0x689)]}))});const _0xdbd53=Array[_0x3fa798(0x79e)](this[_0x3fa798(0x557)])[_0x3fa798(0x7db)](_0x5d9535=>_0x5d9535[_0x3fa798(0x500)]);this['params']=_0x69be69,this['systemTopic'][_0x3fa798(0x246)]({'sourceId':_0x53ed57,'destinationIds':_0xdbd53,'messageType':_0x13f595[_0x3fa798(0x173)],'content':{'type':_0x311c63[_0x3fa798(0x662)],'label':_0x2d54fc,'ownerId':_0x2d00e7,'trackKinds':_0x20fca5,'params':_0x69be69}}),_0xd64180[_0x3fa798(0x991)](_0x3c5ddd[_0x3fa798(0x173)],_0x3fa798(0x608),_0x53ed57,_0xdbd53);}[_0xe992e3(0xaa9)](_0x575e93,_0x17ba6e){const _0x68c79d=_0xe992e3;switch(_0x17ba6e[_0x68c79d(0x689)]){case _0x311c63[_0x68c79d(0x25a)]:{const _0x79cc0=this[_0x68c79d(0xb1e)]>=_0x17ba6e[_0x68c79d(0x682)]&&_0x17ba6e['distance']<=this[_0x68c79d(0x580)],_0x5e6414=Array[_0x68c79d(0x79e)](this['answers'])[_0x68c79d(0xa57)](_0xc630e5=>_0xc630e5[_0x68c79d(0x500)]===_0x575e93);_0x5e6414[_0x68c79d(0x689)]=_0x79cc0?_0xb93568[_0x68c79d(0x6e9)]:_0xb93568[_0x68c79d(0x695)],_0x5e6414['cost']=_0x17ba6e[_0x68c79d(0x70a)],_0x5e6414[_0x68c79d(0x682)]=_0x17ba6e['distance'],_0x5e6414[_0x68c79d(0x2c5)]=_0x17ba6e[_0x68c79d(0x2c5)],_0x5e6414['roundTripTime']=Date['now']()-this[_0x68c79d(0xb15)],_0x5e6414['params']=this[_0x68c79d(0x765)],_0x5e6414[_0x68c79d(0x87c)]=_0x17ba6e['ownerId'],_0x5e6414[_0x68c79d(0x503)]=_0x17ba6e[_0x68c79d(0x503)],_0x5e6414[_0x68c79d(0x92d)]=_0x17ba6e[_0x68c79d(0x3fc)],_0xd64180[_0x68c79d(0x991)](_0x3c5ddd[_0x68c79d(0x173)],(_0x79cc0?_0x68c79d(0x6e9):_0x68c79d(0x695))+_0x68c79d(0x971),_0x5e6414);break;}case _0x311c63[_0x68c79d(0x836)]:{const _0x4b496b=Array[_0x68c79d(0x79e)](this[_0x68c79d(0x557)])['find'](_0x2d9a8c=>_0x2d9a8c[_0x68c79d(0x500)]===_0x575e93);_0x4b496b[_0x68c79d(0x689)]=_0xb93568[_0x68c79d(0x695)],_0xd64180[_0x68c79d(0x991)](_0x3c5ddd[_0x68c79d(0x173)],_0x68c79d(0x1b1),_0x4b496b);break;}}if(this[_0x68c79d(0x3ad)]())return this['chooseAnswer']();}['chooseAnswer'](){const _0x18fa38=_0xe992e3,_0x292968=Array['from'](this[_0x18fa38(0x557)])[_0x18fa38(0x1ee)](_0x3dcc9b=>_0x3dcc9b[_0x18fa38(0x689)]===_0xb93568[_0x18fa38(0x6e9)])['sort']((_0x4a6834,_0x28eeaa)=>_0x4a6834[_0x18fa38(0x70a)]===_0x28eeaa[_0x18fa38(0x70a)]?_0x4a6834[_0x18fa38(0xad1)]-_0x28eeaa[_0x18fa38(0xad1)]:_0x4a6834['cost']-_0x28eeaa[_0x18fa38(0x70a)]);if(0x0===_0x292968['length'])throw new _0xd907de(_0xd907de['codes'][_0x18fa38(0x7b6)],{'answers':Array['from'](this[_0x18fa38(0x557)])[_0x18fa38(0x7db)](_0x505671=>({'nodeId':_0x505671['nodeId'],'type':_0x505671[_0x18fa38(0x689)]}))});return _0xd64180[_0x18fa38(0x991)](_0x3c5ddd[_0x18fa38(0x173)],_0x18fa38(0x925),_0x292968[0x0],this[_0x18fa38(0x557)]),_0x292968[0x0];}[_0xe992e3(0x3ad)](){const _0x1f41a4=_0xe992e3;for(const _0xce7186 of this[_0x1f41a4(0x557)])if(_0xce7186['type']===_0xb93568[_0x1f41a4(0x3c1)])return!0x1;return!0x0;}}class _0x42e969{[_0xe992e3(0x3fc)];[_0xe992e3(0x32e)];[_0xe992e3(0x2d9)]=_0x5c724d();constructor(_0x185d14,_0x5c7adf){const _0x3d1594=_0xe992e3;this[_0x3d1594(0x3fc)]=_0x185d14,this['contentType']=_0x5c7adf;}[_0xe992e3(0x270)](){const _0x27b0e2=_0xe992e3;return this[_0x27b0e2(0x3fc)];}[_0xe992e3(0x437)](){const _0xe05693=_0xe992e3;return this[_0xe05693(0x32e)];}[_0xe992e3(0x5cd)](_0xece985){_0xece985['registerPublisher'](this);}[_0xe992e3(0x230)](_0x574d32){_0x574d32['registerSubscriber'](this);}['publish'](_0x40866a){const _0x2aca0c=_0xe992e3;this['listener']['publish']({'topicLabel':this[_0x2aca0c(0x3fc)],'contentType':this[_0x2aca0c(0x32e)],'uuid':(0x0,_0x2860a6['v4'])(),'recipients':[],..._0x40866a});}[_0xe992e3(0x60c)](_0xa96c23){const _0x3008fe=_0xe992e3;return this[_0x3008fe(0x2d9)][_0x3008fe(0x60c)](_0xa96c23);}[_0xe992e3(0x45d)](_0x21af86){const _0x5681cf=_0xe992e3;_0x21af86[_0x5681cf(0xace)](this);}[_0xe992e3(0xa1a)](_0x4b7fab){const _0x268569=_0xe992e3;_0x4b7fab[_0x268569(0x630)](this);}}class _0x366773{[_0xe992e3(0x7f1)]={'topics':new Map(),'subscriptions':new Map()};[_0xe992e3(0x607)];constructor(_0x187f2c){const _0x1676d6=_0xe992e3;this[_0x1676d6(0x607)]=_0x187f2c;}get[_0xe992e3(0x3a8)](){const _0x423e14=_0xe992e3;return this[_0x423e14(0x7f1)]['subscriptions'];}get[_0xe992e3(0x997)](){return this['maps']['topics'];}['createSubscription'](_0x45598b,_0x39c3f4){const _0x15db0f=_0xe992e3,_0x243a11=this[_0x15db0f(0x607)](_0x39c3f4),_0x5f45b9=_0x5a20d2(_0x45598b);if(!_0x243a11[_0x15db0f(0x909)])throw new _0xd907de(_0xd907de['codes'][_0x15db0f(0x6dd)],{'message':_0x5f45b9+':\x20'+_0x243a11['remoteId']+_0x15db0f(0x956)+_0x243a11[_0x15db0f(0x32e)],'subscriptionType':_0x45598b,'subscription':_0x39c3f4,'subscriptonParts':_0x243a11});const _0x2de02b=_0xdeaa20(_0x45598b,_0x243a11);if(this[_0x15db0f(0x7f1)][_0x15db0f(0x3a8)][_0x15db0f(0x64b)](_0x2de02b))throw new _0xd907de(_0xd907de['codes']['InvalidSubscription'],{'message':_0x5f45b9+':\x20'+_0x2de02b+_0x15db0f(0x7ab),'subscriptionType':_0x45598b,'subscription':_0x39c3f4,'subscriptonParts':_0x243a11});this[_0x15db0f(0x7f1)][_0x15db0f(0x3a8)][_0x15db0f(0x888)](_0x2de02b,_0x39c3f4),this['createTopic'](_0x243a11,_0x39c3f4);}[_0xe992e3(0x664)](_0x3302be,_0x59765d){const _0x59d2b7=_0xe992e3,_0x48f6b5=_0xdeaa20(_0x59765d,_0x3302be),_0x49ceef=this[_0x59d2b7(0x7f1)][_0x59d2b7(0x3a8)][_0x59d2b7(0x6ab)](_0x48f6b5);if(!_0x49ceef)throw new _0xd907de(_0xd907de[_0x59d2b7(0x386)][_0x59d2b7(0x6dd)],{'message':_0x5a20d2(_0x59765d)+':\x20'+_0x48f6b5+'\x20does\x20not\x20exists','subscriptionType':_0x59765d,'subscription':_0x49ceef,'subscriptonParts':_0x3302be});this[_0x59d2b7(0x407)](_0x49ceef,_0x48f6b5,_0x3302be);}[_0xe992e3(0x407)](_0x171d01,_0x5dbdef,_0x1dd921){const _0x2082d7=_0xe992e3;_0x1dd921=_0x1dd921||this[_0x2082d7(0x607)](_0x171d01),this[_0x2082d7(0x7f1)]['subscriptions'][_0x2082d7(0x5eb)](_0x5dbdef),this[_0x2082d7(0x205)](_0x1dd921,_0x171d01);}['createTopic'](_0x3af8cd,{source:_0x57e594,destination:_0x16b9f2}){const _0x4f6a77=_0xe992e3,{contentType:_0x1c867e,label:_0x6f2a70,remoteId:_0x5bf328}=_0x3af8cd,_0x9e7132=_0x29fbf8(_0x1c867e,_0x6f2a70,_0x5bf328),_0xe8536d=new _0x42e969(_0x9e7132,_0x1c867e);_0xe8536d[_0x4f6a77(0x5cd)](_0x57e594),_0xe8536d[_0x4f6a77(0x230)](_0x16b9f2),this[_0x4f6a77(0x7f1)][_0x4f6a77(0x997)]['set'](_0xe8536d['getLabel'](),_0xe8536d);}['removeTopic'](_0x1ec316,_0x8dcbb){const _0x1441b8=_0xe992e3,{contentType:_0x387e01,label:_0x2813a5,remoteId:_0x859722}=_0x1ec316,_0xa2b03=_0x29fbf8(_0x387e01,_0x2813a5,_0x859722),_0x53a88=this[_0x1441b8(0x7f1)]['topics'][_0x1441b8(0x6ab)](_0xa2b03);_0x53a88&&(this[_0x1441b8(0x7f6)](_0x53a88,_0x8dcbb),this['maps'][_0x1441b8(0x997)][_0x1441b8(0x5eb)](_0xa2b03));}[_0xe992e3(0x7f6)](_0x553c84,{source:_0x54c2cc,destination:_0x3c40a6}){const _0x249ae9=_0xe992e3;_0x553c84[_0x249ae9(0x45d)](_0x54c2cc),_0x553c84['unregisterDestination'](_0x3c40a6);}['removeSubscriptionsForNode'](_0x1dad98){const _0x27f8e6=_0xe992e3;this[_0x27f8e6(0x7f1)][_0x27f8e6(0x3a8)][_0x27f8e6(0x558)]((_0x1fffab,_0x2dfa22)=>{const _0x17bc31=_0x27f8e6;_0x2dfa22['endsWith'](_0x1dad98)&&this[_0x17bc31(0x407)](_0x1fffab,_0x2dfa22);});}}class _0x1a28b4{[_0xe992e3(0x81e)];[_0xe992e3(0x580)];[_0xe992e3(0xaa8)]=new Map();['subscriptionRequestsQueue']=_0x5941bf(new _0x27d811(this[_0xe992e3(0x36f)]['bind'](this),()=>_0x50a54a[_0xe992e3(0xa47)](0x64)),!0x0);[_0xe992e3(0x3d4)]=new Map();[_0xe992e3(0x7f1)];[_0xe992e3(0x76d)]=new Map();constructor(_0x343bfd,_0x19103a){const _0x3b59e2=_0xe992e3;this['configs']=_0x343bfd,this['maxDistance']=_0x19103a,this[_0x3b59e2(0x7f1)]=new _0x366773(({source:_0x3833a4,destination:_0x39da6a})=>_0x3a6f95(_0x39da6a,_0x3833a4));}[_0xe992e3(0x53d)](_0x29d506,_0xe61304){const _0x370d21=_0xe992e3,_0x338850=this[_0x370d21(0x280)](_0x29d506)&&this[_0x370d21(0xa90)](_0xe61304)?new _0x584c79(_0x29d506,_0xe61304):new _0x9ecd29(_0x29d506,_0xe61304);this[_0x370d21(0x7f1)][_0x370d21(0x53d)](_0x54f4ea[_0x370d21(0x285)],_0x338850),this[_0x370d21(0x81e)][_0x370d21(0x422)][_0x370d21(0x95e)](_0x338850);}['removeSubscription'](_0x442386,_0x225765,_0x16fb60=''){const _0x51cfea=_0xe992e3,_0x3c8928={'contentType':_0x225765,'label':_0x442386,'remoteId':_0x16fb60},_0x47a9b8=_0xdeaa20(_0x54f4ea[_0x51cfea(0x285)],_0x3c8928),_0x6587da=this[_0x51cfea(0x7f1)][_0x51cfea(0x3a8)][_0x51cfea(0x6ab)](_0x47a9b8);_0x6587da&&this[_0x51cfea(0x407)](_0x6587da,_0x47a9b8);}[_0xe992e3(0x8ac)](_0x5bef2c){this['removeRemoteStreamSubscription'](_0x5bef2c);}[_0xe992e3(0xa1c)]({label:_0x30d0fb,ownerId:_0x3d1a3b,trackKinds:_0x58c428,params:_0x201c3c}){const _0x8e0bdd=_0xe992e3;this[_0x8e0bdd(0xa22)](_0x30d0fb,_0x3d1a3b,_0x58c428,_0x201c3c);}['handleContentUpdateMediaStream']({ownerId:_0x8d199e,label:_0x4d1c64,params:_0x2b473a}){const _0x57ccff=_0xe992e3,{subscriptionLabel:_0x1553ed}=this[_0x57ccff(0x3ca)](_0x4d1c64,_0x8d199e),_0x37ccf2=this[_0x57ccff(0xabb)](_0x1553ed);_0x37ccf2&&_0x37ccf2[_0x57ccff(0xa65)](_0x8d199e,_0x2b473a);}[_0xe992e3(0x7cb)]({ownerId:_0x44ebd5,label:_0x36ccb1,trackKinds:_0x18e3d3,remainingTracks:_0x1f1d8f}){const _0x666f81=_0xe992e3,_0x2484c0=_0xdeaa20(_0x54f4ea[_0x666f81(0x285)],{'contentType':_0x981fb5['ContentType']['Media'],'label':_0x36ccb1,'remoteId':_0x44ebd5});this[_0x666f81(0x84b)](_0x2484c0);const _0x329d27=this['subscriptionRequests']['get'](_0x2484c0);_0x329d27&&(this['configs'][_0x666f81(0x422)][_0x666f81(0x35f)](_0x329d27),this['subscriptionRequests']['delete'](_0x2484c0));const {parts:_0x5a68f3,subscriptionLabel:_0x23b981}=this[_0x666f81(0x3ca)](_0x36ccb1,_0x44ebd5),_0x34ee30=this[_0x666f81(0xabb)](_0x23b981);_0x34ee30&&(_0x34ee30['unsubscribe'](_0x44ebd5,_0x1f1d8f,_0x18e3d3),0x0===_0x1f1d8f&&this[_0x666f81(0x664)](_0x5a68f3[_0x666f81(0x3fc)],_0x5a68f3[_0x666f81(0x32e)],_0x5a68f3[_0x666f81(0x9ba)]));}[_0xe992e3(0xa24)](_0x25c041,{label:_0x53be0a,ownerId:_0x5b832d,trackKinds:_0x127015,streamId:_0xa9c5db,params:_0x5c2f5c}){const _0x2115f9=_0xe992e3,_0x46dd30=_0xdeaa20(_0x54f4ea[_0x2115f9(0x285)],{'contentType':_0x981fb5['ContentType']['Media'],'label':_0xa9c5db,'remoteId':_0x25c041}),_0xdf4759=this[_0x2115f9(0x7f1)][_0x2115f9(0x3a8)][_0x2115f9(0x6ab)](_0x46dd30);if(!(_0xdf4759&&_0xdf4759 instanceof _0x584c79))throw new _0xd907de(_0xd907de['codes'][_0x2115f9(0x59e)],{'label':_0x46dd30,'ownerId':_0x5b832d});this[_0x2115f9(0x407)](_0xdf4759,_0x46dd30),this[_0x2115f9(0xa22)](_0x53be0a,_0x5b832d,_0x127015,_0x5c2f5c);}[_0xe992e3(0x638)](_0x384321,_0x1c001c){const _0x36d69d=_0xe992e3,{label:_0x4d6b64,ownerId:_0x2c5c37,trackKinds:_0x90f8b2,params:_0x96496f}=_0x1c001c,_0x2e960b=_0xdeaa20(_0x54f4ea[_0x36d69d(0x285)],{'contentType':_0x981fb5[_0x36d69d(0x4c9)][_0x36d69d(0x2b0)],'label':_0x4d6b64,'remoteId':_0x2c5c37});if(!this[_0x36d69d(0xaa8)][_0x36d69d(0x64b)](_0x2e960b))throw new _0xd907de(_0xd907de['codes'][_0x36d69d(0x59e)],{'label':_0x2e960b,'ownerId':_0x2c5c37,'streamId':_0x1c001c['streamId'],'requests':this[_0x36d69d(0xaa8)]});const _0x229490=this[_0x36d69d(0xaa8)][_0x36d69d(0x6ab)](_0x2e960b);if(_0x90f8b2['length']===_0x229490[_0x36d69d(0x69e)]()[_0x36d69d(0x756)]&&_0x90f8b2[_0x36d69d(0x98d)](_0x3982cc=>_0x229490[_0x36d69d(0x69e)]()['includes'](_0x3982cc)))try{const _0x5696e1=_0x229490[_0x36d69d(0xaa9)](_0x384321,_0x1c001c);if(!_0x5696e1)return;this['subscribe'](_0x5696e1,_0x2c5c37,_0x4d6b64,_0x2e960b,_0x90f8b2);}catch(_0x20ff4c){return void this[_0x36d69d(0x634)](_0x4d6b64,_0x2c5c37,_0x90f8b2,_0x96496f);}}['handleSubscriptionMediaStreamUnavailable'](_0x3b4365,{label:_0x1d3be7,ownerId:_0x2a036e,trackKinds:_0x84ff12}){const _0x5782d5=_0xe992e3,_0x18fedf=this[_0x5782d5(0x81e)][_0x5782d5(0x422)][_0x5782d5(0x141)](_0x2a036e,_0x1d3be7);if(!_0x18fedf)return;const _0x19835e=_0x18fedf[_0x5782d5(0x4cb)](),_0x491519=_0x18fedf[_0x5782d5(0x54e)]();_0x491519[_0x5782d5(0x276)](_0x5df93a=>_0x84ff12['includes'](_0x5df93a))&&this[_0x5782d5(0x627)](_0x3b4365,_0x1d3be7,_0x19835e,_0x2a036e,_0x491519);}['handleContentRemoteMediaStreamTrackFail']({label:_0x7c4a3a,providerId:_0x532076,ownerId:_0x3a9a62,streamId:_0x5059a1,trackKinds:_0x228190}){const _0x33a146=_0xe992e3;this[_0x33a146(0x627)](_0x532076,_0x7c4a3a,_0x5059a1,_0x3a9a62,_0x228190);}[_0xe992e3(0x7ad)](_0x32ec2c){const _0xefcaf7=_0xe992e3;for(const _0x556b26 of this[_0xefcaf7(0x76d)][_0xefcaf7(0x992)]()){const {streamLabel:_0xbece51,ownerId:_0x1ad9ca,trackKinds:_0x4c1e32,params:_0x35b56e}=_0x556b26;if(!_0x1ad9ca||!_0x4c1e32||!_0xbece51)return;this[_0xefcaf7(0x3ec)][_0xefcaf7(0xae7)]({'label':_0xbece51,'ownerId':_0x1ad9ca,'trackKinds':_0x4c1e32,'params':_0x35b56e,'remoteId':_0x32ec2c});}}[_0xe992e3(0x8e6)](_0x468b07){const _0x377a4e=_0xe992e3;this[_0x377a4e(0x7f1)]['subscriptions'][_0x377a4e(0x558)]((_0x441864,_0x350007)=>{const _0x46d42e=_0x377a4e;if(_0x350007[_0x46d42e(0x273)](_0x468b07)){if(_0x441864[_0x46d42e(0x757)][_0x46d42e(0x437)]()===_0x981fb5['ContentType'][_0x46d42e(0x2b0)]){const _0x4b7289=_0x441864[_0x46d42e(0x757)];if(_0x4b7289[_0x46d42e(0x54e)]()['length']>0x0){const _0x3c2a99={'type':_0x311c63[_0x46d42e(0x1e6)],'label':_0x4b7289[_0x46d42e(0x270)](),'ownerId':_0x4b7289[_0x46d42e(0x4a8)](),'trackKinds':_0x4b7289['getSubscribedTracks']()};return void this[_0x46d42e(0x579)](_0x468b07,_0x3c2a99);}}this[_0x46d42e(0x407)](_0x441864,_0x350007);}});}[_0xe992e3(0x1c9)](){const _0x4b7ceb=_0xe992e3;this[_0x4b7ceb(0x7f1)][_0x4b7ceb(0x3a8)][_0x4b7ceb(0x558)](this['closeSubscription'][_0x4b7ceb(0x8b6)](this));}[_0xe992e3(0x60c)](_0x10b730,_0x33e59d,_0x39c2ee,_0x1fbc2b,_0x1a1099){const _0x1fdb43=_0xe992e3,_0x4c38fc=this[_0x1fdb43(0x81e)][_0x1fdb43(0x422)]['getConnection'](_0x10b730[_0x1fdb43(0x500)]),_0x12fb89=this[_0x1fdb43(0x81e)]['mediator'][_0x1fdb43(0x141)](_0x33e59d,_0x39c2ee);this[_0x1fdb43(0x84b)](_0x1fbc2b),this['subscriptionRequests']['has'](_0x1fbc2b)&&(this[_0x1fdb43(0x81e)][_0x1fdb43(0x422)][_0x1fdb43(0x35f)](this[_0x1fdb43(0xaa8)][_0x1fdb43(0x6ab)](_0x1fbc2b)),this[_0x1fdb43(0xaa8)][_0x1fdb43(0x5eb)](_0x1fbc2b)),this['cleanOldSubscription'](_0x10b730,_0x33e59d,_0x39c2ee,_0x12fb89),_0x12fb89['setInternalId'](_0x10b730[_0x1fdb43(0x2c5)]),_0x12fb89[_0x1fdb43(0x826)](_0x10b730[_0x1fdb43(0x500)]);const _0x1f824d=_0x3a6f95(_0x12fb89,_0x4c38fc),_0x1e882f=_0xdeaa20(_0x54f4ea['Incoming'],_0x1f824d);this[_0x1fdb43(0x7f1)]['subscriptions'][_0x1fdb43(0x64b)](_0x1e882f)||this[_0x1fdb43(0x53d)](_0x4c38fc,_0x12fb89);const _0x4570a8=this[_0x1fdb43(0x7f1)][_0x1fdb43(0x3a8)]['get'](_0x1e882f);if(!(_0x4570a8&&_0x4570a8 instanceof _0x584c79))throw new _0xd907de(_0xd907de[_0x1fdb43(0x386)][_0x1fdb43(0x59e)],{'label':_0x1fbc2b,'ownerId':_0x33e59d});_0xd64180[_0x1fdb43(0x3b3)](_0x1fdb43(0x62a),{'clusterId':this[_0x1fdb43(0x81e)][_0x1fdb43(0x5e2)],'nodeId':this[_0x1fdb43(0x81e)][_0x1fdb43(0x71d)][_0x1fdb43(0x686)](),'nodeType':this[_0x1fdb43(0x81e)][_0x1fdb43(0x71d)][_0x1fdb43(0x689)],'data':{'subscriptionLabel':_0x1e882f,'chosenAnswer':_0x10b730}}),this[_0x1fdb43(0x76d)][_0x1fdb43(0x888)](_0x1e882f,_0x10b730),_0x4570a8[_0x1fdb43(0x60c)](_0x33e59d,_0x1a1099,_0x10b730['params']);}[_0xe992e3(0x456)]({ownerId:_0x9a7d2d,label:_0x33abd2}){const _0x19b579=_0xe992e3,_0x46a6ef=this[_0x19b579(0x81e)][_0x19b579(0x422)]['getRemoteMediaStream'](_0x9a7d2d,_0x33abd2),[_0x1ee2da,_0x4fae98]=Array[_0x19b579(0x79e)](this['maps'][_0x19b579(0x3a8)]['entries']())['find'](([_0x4b69ef,_0x240513])=>-0x1!==_0x4b69ef[_0x19b579(0x29b)](_0x46a6ef['getInternalStreamId']()));return this['closeSubscription'](_0x4fae98,_0x1ee2da);}['closeSubscription'](_0x4d645c,_0x477fc5){const _0x13ca80=_0xe992e3;this[_0x13ca80(0x81e)][_0x13ca80(0x422)][_0x13ca80(0x35f)](_0x4d645c),this['maps'][_0x13ca80(0x407)](_0x4d645c,_0x477fc5);}['isMediaSource'](_0x257dad){const _0x2cad0b=_0xe992e3;return _0x257dad['getSupportedContentTypes']()[_0x2cad0b(0x137)](_0x981fb5[_0x2cad0b(0x4c9)]['Media']);}[_0xe992e3(0xa90)](_0x37a81c){const _0x25af5c=_0xe992e3;return _0x37a81c[_0x25af5c(0x437)]()===_0x981fb5[_0x25af5c(0x4c9)][_0x25af5c(0x2b0)];}async['handleNoAnswer'](_0x44b0ad,_0x2e4b3e,_0x202a0e,_0x5cbd81){const _0x5b0a04=_0xe992e3;await _0x50a54a[_0x5b0a04(0xa47)](0x3e8);const _0x169fd4=_0xdeaa20(_0x54f4ea[_0x5b0a04(0x285)],{'contentType':_0x981fb5[_0x5b0a04(0x4c9)][_0x5b0a04(0x2b0)],'label':_0x44b0ad,'remoteId':_0x2e4b3e});this[_0x5b0a04(0x84b)](_0x169fd4);const _0x1d1c01=this[_0x5b0a04(0xaa8)][_0x5b0a04(0x6ab)](_0x169fd4);if(!_0x1d1c01)throw new _0xd907de(_0xd907de[_0x5b0a04(0x386)][_0x5b0a04(0x59e)],{'label':_0x169fd4,'ownerId':_0x2e4b3e});const _0x437907=this[_0x5b0a04(0x81e)][_0x5b0a04(0x422)]['getConnections'](_0x58ce01=>_0x58ce01[_0x5b0a04(0x3ee)]()),_0x5ed12f=this[_0x5b0a04(0x81e)][_0x5b0a04(0x422)]['getDistance'](this['configs'][_0x5b0a04(0x71d)][_0x5b0a04(0x686)](),_0x2e4b3e);_0x1d1c01[_0x5b0a04(0xade)](_0x437907[_0x5b0a04(0x7db)](_0x937770=>_0x937770[_0x5b0a04(0x383)]()),_0x5ed12f);try{_0x1d1c01[_0x5b0a04(0x2f7)](this[_0x5b0a04(0x81e)][_0x5b0a04(0x71d)][_0x5b0a04(0x686)](),_0x2e4b3e,_0x44b0ad,_0x202a0e,_0x5cbd81),this[_0x5b0a04(0xa3e)](_0x44b0ad,_0x2e4b3e,_0x202a0e,_0x5cbd81,_0x169fd4,_0x1d1c01);}catch(_0x567c92){this[_0x5b0a04(0x3ec)][_0x5b0a04(0xae7)]({'label':_0x44b0ad,'ownerId':_0x2e4b3e,'trackKinds':_0x202a0e,'params':_0x5cbd81});}}[_0xe992e3(0xa22)](_0x49ac5b,_0x41e963,_0x53b1ad,_0x19e65a){const _0x529c03=_0xe992e3;this[_0x529c03(0x3ec)]['push']({'label':_0x49ac5b,'ownerId':_0x41e963,'trackKinds':_0x53b1ad,'params':_0x19e65a});}[_0xe992e3(0x36f)]({label:_0x23b386,ownerId:_0x485b2f,trackKinds:_0x2727b0,params:_0x18d234,remoteId:_0x52ad03}){const _0x4f9bf8=_0xe992e3;if(!this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x422)][_0x4f9bf8(0x141)](_0x485b2f,_0x23b386))return;if(!this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x422)]['getLocalNode']()[_0x4f9bf8(0x582)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x52ad03){const _0x24b3de=this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x422)][_0x4f9bf8(0x48e)]()[_0x4f9bf8(0xa57)](_0x26cb91=>_0x26cb91[_0x4f9bf8(0x686)]()===_0x52ad03),_0x30e8d4=_0x24b3de?.['getRank']();if(!_0x24b3de||!_0x30e8d4)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x4a9b10=this[_0x4f9bf8(0x81e)]['mediator'][_0x4f9bf8(0x48e)]()[_0x4f9bf8(0xa57)](_0x4c853b=>_0x4c853b[_0x4f9bf8(0x686)]()===_0x485b2f),_0x22d18c=_0x4a9b10?.[_0x4f9bf8(0x582)]();if(!_0x4a9b10||!_0x22d18c)throw new Error(_0x4f9bf8(0x873));const _0x255ee8=this[_0x4f9bf8(0x76d)][_0x4f9bf8(0x6ab)](_0x23b386);if(_0x255ee8){const _0x1654e2=this['configs'][_0x4f9bf8(0x422)]['getRemoteNodes']()[_0x4f9bf8(0xa57)](_0x220dac=>_0x220dac[_0x4f9bf8(0x686)]()===_0x255ee8['nodeId']),_0x4dbfb9=_0x1654e2?.[_0x4f9bf8(0x582)]();if(!_0x1654e2||!_0x4dbfb9)throw new Error(_0x4f9bf8(0x590));if(Math[_0x4f9bf8(0x2ec)](_0x4dbfb9-_0x22d18c)<Math[_0x4f9bf8(0x2ec)](_0x30e8d4-_0x22d18c))return;}}const _0xb04704=this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x422)][_0x4f9bf8(0x7d2)](_0xcb73dc=>_0xcb73dc[_0x4f9bf8(0x3ee)]()&&(!_0x52ad03||_0xcb73dc[_0x4f9bf8(0x383)]()===_0x52ad03));if(!_0xb04704['length']||0x0===_0xb04704[_0x4f9bf8(0x756)])throw new Error(_0x4f9bf8(0x293));const _0x18078b=this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x422)][_0x4f9bf8(0x274)](this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x71d)][_0x4f9bf8(0x686)](),_0x485b2f),_0x277310=_0xdeaa20(_0x54f4ea[_0x4f9bf8(0x285)],{'contentType':_0x981fb5[_0x4f9bf8(0x4c9)]['Media'],'label':_0x23b386,'remoteId':_0x485b2f});if(this[_0x4f9bf8(0xaa8)][_0x4f9bf8(0x64b)](_0x277310)){if(_0x52ad03)throw new Error(_0x4f9bf8(0x9de));const _0x253d8f=this[_0x4f9bf8(0xaa8)]['get'](_0x277310)['getTracks']();if(_0x253d8f[_0x4f9bf8(0x756)]===_0x2727b0[_0x4f9bf8(0x756)]&&_0x253d8f[_0x4f9bf8(0x98d)](_0x19d463=>_0x2727b0[_0x4f9bf8(0x137)](_0x19d463)))return;this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x422)][_0x4f9bf8(0x35f)](this[_0x4f9bf8(0xaa8)][_0x4f9bf8(0x6ab)](_0x277310)),this[_0x4f9bf8(0xaa8)][_0x4f9bf8(0x5eb)](_0x277310),_0x2727b0=Array[_0x4f9bf8(0x79e)](new Set(_0x2727b0[_0x4f9bf8(0x968)](_0x253d8f))),this[_0x4f9bf8(0x84b)](_0x277310);}const _0x2c6f6d=new _0x2a3b7d(_0xb04704[_0x4f9bf8(0x7db)](_0x56c5d7=>_0x56c5d7[_0x4f9bf8(0x383)]()),_0x18078b,this['maxDistance'],_0x2727b0);this[_0x4f9bf8(0x81e)]['mediator'][_0x4f9bf8(0x95e)](_0x2c6f6d),this['subscriptionRequests']['set'](_0x277310,_0x2c6f6d),_0x2c6f6d[_0x4f9bf8(0x2f7)](this[_0x4f9bf8(0x81e)][_0x4f9bf8(0x71d)]['getId'](),_0x485b2f,_0x23b386,_0x2727b0,_0x18d234),this[_0x4f9bf8(0xa3e)](_0x23b386,_0x485b2f,_0x2727b0,_0x18d234,_0x277310,_0x2c6f6d);}['clearSubscriptionRequestTimeout'](_0xa9c923){const _0x577edd=_0xe992e3;this[_0x577edd(0x3d4)][_0x577edd(0x64b)](_0xa9c923)&&(clearTimeout(this[_0x577edd(0x3d4)][_0x577edd(0x6ab)](_0xa9c923)),this['subscriptionRequestTimeouts'][_0x577edd(0x5eb)](_0xa9c923));}[_0xe992e3(0xa3e)](_0xd3d06d,_0x254a1f,_0x1548d7,_0x5884eb,_0x7f02e0,_0x413225){const _0x7f305d=_0xe992e3;this[_0x7f305d(0x84b)](_0x7f02e0),this[_0x7f305d(0x3d4)][_0x7f305d(0x888)](_0x7f02e0,setTimeout(()=>{const _0x4e5358=_0x7f305d;this[_0x4e5358(0x3d4)][_0x4e5358(0x5eb)](_0x7f02e0);try{const _0x493ca3=_0x413225[_0x4e5358(0x4f6)]();this['subscribe'](_0x493ca3,_0x254a1f,_0xd3d06d,_0x7f02e0,_0x1548d7);}catch(_0x204cff){this['handleNoAnswer'](_0xd3d06d,_0x254a1f,_0x1548d7,_0x5884eb);}},0x7d0));}[_0xe992e3(0x627)](_0xb3bb75,_0x38c7c6,_0x1fefc1,_0x73e73e,_0x1a5d91){const _0x45e4d1=_0xe992e3,{subscriptionLabel:_0x1d7237}=this[_0x45e4d1(0x3ca)](_0x38c7c6,_0x73e73e),_0x262a9d=this[_0x45e4d1(0xabb)](_0x1d7237),_0x25149e=_0x262a9d?.['params'];_0x262a9d&&(_0x262a9d['unsubscribe'](_0x73e73e,0x0),this[_0x45e4d1(0x664)](_0x1fefc1,_0x981fb5['ContentType']['Media'],_0xb3bb75)),this['requestSubscription'](_0x38c7c6,_0x73e73e,_0x1a5d91,_0x25149e);}['getMediaSubscription'](_0xac3436){const _0x33ce6f=_0xe992e3,_0x2b3fe8=this['maps']['subscriptions'][_0x33ce6f(0x6ab)](_0xac3436);if(_0x2b3fe8){if(!(_0x2b3fe8 instanceof _0x584c79))throw new _0xd907de(_0xd907de['codes'][_0x33ce6f(0x6dd)],{'label':_0xac3436,'subscription':_0x2b3fe8});return _0x2b3fe8;}}[_0xe992e3(0x3ca)](_0x3f8a4a,_0x45f464){const _0x2ef1c8=_0xe992e3,_0x205b39=this['getPartsForSubscriptionLabel'](_0x3f8a4a,_0x45f464);return{'parts':_0x205b39,'subscriptionLabel':_0xdeaa20(_0x54f4ea[_0x2ef1c8(0x285)],_0x205b39)};}[_0xe992e3(0x37a)](_0x5e1339,_0x27f63d){const _0x1dde3a=_0xe992e3,_0x58c949=this['configs'][_0x1dde3a(0x422)]['getRemoteMediaStream'](_0x27f63d,_0x5e1339),_0x448b78=_0x58c949[_0x1dde3a(0x8f6)]();if(!_0x448b78)throw new _0xd907de(_0xd907de[_0x1dde3a(0x386)][_0x1dde3a(0x4da)],{'label':_0x5e1339,'streamId':_0x58c949[_0x1dde3a(0x4cb)](),'ownerId':_0x27f63d,'localId':this['configs']['localNode'][_0x1dde3a(0x686)]()});return{'contentType':_0x981fb5[_0x1dde3a(0x4c9)]['Media'],'label':_0x58c949[_0x1dde3a(0x4cb)](),'remoteId':_0x448b78};}['cleanOldSubscription'](_0x156b1b,_0x218c59,_0x429944,_0x5514e7){const _0x5e7ae1=_0xe992e3,_0x3c3712=_0x5514e7[_0x5e7ae1(0x8f6)]();if(_0x3c3712&&_0x3c3712!==_0x156b1b[_0x5e7ae1(0x500)]){const {parts:_0x2a5367,subscriptionLabel:_0x7bf10e}=this[_0x5e7ae1(0x3ca)](_0x429944,_0x218c59),_0x334ef8=this[_0x5e7ae1(0xabb)](_0x7bf10e);_0x334ef8&&(_0x334ef8[_0x5e7ae1(0x4c0)](_0x218c59,0x0),this[_0x5e7ae1(0x664)](_0x2a5367[_0x5e7ae1(0x3fc)],_0x2a5367['contentType'],_0x2a5367[_0x5e7ae1(0x9ba)]));}}}class _0x35260e{[_0xe992e3(0x81e)];[_0xe992e3(0x620)];[_0xe992e3(0x7f1)];constructor(_0x58ac13,_0x2815c2){const _0x3f6be7=_0xe992e3;this['configs']=_0x58ac13,this[_0x3f6be7(0x620)]=_0x2815c2,this[_0x3f6be7(0x7f1)]=new _0x366773(({source:_0xc41e0e,destination:_0x24a8e5})=>_0x3a6f95(_0xc41e0e,_0x24a8e5));}[_0xe992e3(0x53d)](_0x56b9cd,_0x3b2ed5){const _0xe4bd14=_0xe992e3,_0x164f52={'source':_0x56b9cd,'destination':_0x3b2ed5};this['maps'][_0xe4bd14(0x53d)](_0x54f4ea[_0xe4bd14(0x51b)],_0x164f52);}[_0xe992e3(0x664)](_0x2623e9,_0x2ba315,_0x4075cd=''){const _0x3179c5=_0xe992e3,_0x360e4b={'contentType':_0x2ba315,'label':_0x2623e9,'remoteId':_0x4075cd};this[_0x3179c5(0x7f1)]['removeSubscription'](_0x360e4b,_0x54f4ea[_0x3179c5(0x51b)]);}[_0xe992e3(0x541)](_0x4c4fe2,_0x213bb9){const _0x41000e=_0xe992e3;let _0x4947e0;_0x4947e0=_0x213bb9[_0x41000e(0x87c)]!==this[_0x41000e(0x81e)][_0x41000e(0x71d)][_0x41000e(0x686)]()?this[_0x41000e(0x81e)][_0x41000e(0x422)][_0x41000e(0x141)](_0x213bb9[_0x41000e(0x87c)],_0x213bb9['label']):this['configs'][_0x41000e(0x422)][_0x41000e(0x6bf)](_0x213bb9[_0x41000e(0x3fc)]);const _0xcbc3c1=_0xdeaa20(_0x54f4ea[_0x41000e(0x51b)],{'contentType':_0x981fb5[_0x41000e(0x4c9)][_0x41000e(0x2b0)],'label':_0x4947e0[_0x41000e(0x49e)](),'remoteId':_0x4c4fe2}),_0x37f585=this['getNumberOutgoingSubscriptions']();if(!this['maps'][_0x41000e(0x3a8)][_0x41000e(0x64b)](_0xcbc3c1)&&_0x37f585>=this['maxOutgoingSubscriptions'])return{'type':_0x311c63[_0x41000e(0x2d6)],'ownerId':_0x213bb9[_0x41000e(0x87c)],'label':_0x213bb9['label'],'streamId':_0x4947e0['getShareableStreamId'](),'trackKinds':_0x213bb9[_0x41000e(0x503)],'params':_0x213bb9[_0x41000e(0x765)]};_0x4947e0 instanceof _0x1bc3e0&&!_0x4947e0[_0x41000e(0x96a)](_0x213bb9[_0x41000e(0x503)])&&_0x4947e0[_0x41000e(0x60c)](_0x213bb9['params']),this[_0x41000e(0x7f1)][_0x41000e(0x3a8)]['has'](_0xcbc3c1)||this['createSubscription'](_0x4947e0['getShareableStream'](_0x4c4fe2),this[_0x41000e(0x81e)][_0x41000e(0x422)][_0x41000e(0x2b8)](_0x4c4fe2));}[_0xe992e3(0x1c0)](_0x4d0a2f,{label:_0x2ca266,ownerId:_0x19cd6e,remainingTracks:_0x2df9bd}){const _0x54bceb=_0xe992e3;if(_0x2df9bd>0x0)return;let _0x326a43;_0x326a43=_0x19cd6e!==this[_0x54bceb(0x81e)][_0x54bceb(0x71d)]['getId']()?this[_0x54bceb(0x81e)][_0x54bceb(0x422)][_0x54bceb(0x141)](_0x19cd6e,_0x2ca266):this[_0x54bceb(0x81e)][_0x54bceb(0x422)][_0x54bceb(0x6bf)](_0x2ca266);const _0x133432=_0x326a43[_0x54bceb(0x49e)](),_0x1ce360=_0x981fb5[_0x54bceb(0x4c9)][_0x54bceb(0x2b0)];this[_0x54bceb(0x664)](_0x133432,_0x1ce360,_0x4d0a2f);}[_0xe992e3(0x7cb)](_0x41ba01,{label:_0xaabd51,ownerId:_0x1db0f2,trackKinds:_0x2e63d9}){const _0x240f19=_0xe992e3;if(_0x41ba01!==_0x413d1e)return[];let _0x186306=[];for(const _0x95cec1 of this[_0x240f19(0x7f1)][_0x240f19(0x3a8)]){const {source:_0xc1f1c7,destination:_0x546681}=_0x95cec1[0x1];_0xc1f1c7[_0x240f19(0x270)]()===_0xaabd51&&_0xc1f1c7[_0x240f19(0x4a8)]()===_0x1db0f2&&_0x186306['push']({'sourceId':this[_0x240f19(0x81e)]['localNode'][_0x240f19(0x686)](),'destinationIds':[_0x546681['getRemoteId']()],'messageType':_0x13f595[_0x240f19(0x173)],'content':{'type':_0x311c63[_0x240f19(0x1e6)],'label':_0xaabd51,'ownerId':_0x1db0f2,'trackKinds':_0x2e63d9}});}return _0x186306;}[_0xe992e3(0x5fe)](_0xb81292,_0x298d87){const _0x5172c2=_0xe992e3,{label:_0x5c2c90,ownerId:_0x2b0be2,trackKinds:_0x2e8d06,params:_0x1f28b3}=_0x298d87,{hasTracks:_0x5aa21b,streamId:_0x4e3340,hasResolution:_0x4f3c8f,distance:_0x58ca60,subscriptionLabel:_0x27561b}=this[_0x5172c2(0x2bc)](_0xb81292,_0x298d87);let _0x332461=this[_0x5172c2(0x717)]()<this[_0x5172c2(0x620)]&&(_0x5aa21b||_0x58ca60>-0x1)?_0x311c63[_0x5172c2(0x25a)]:_0x311c63['CannotProvideMediaStream'];const _0x24dc48=_0x58ca60<0x0?0xa:_0x58ca60;let _0x24c76d=_0x5aa21b?_0x4f3c8f?_0x24dc48:_0x24dc48+0x0:_0x24dc48+0xa;return _0x27561b&&this[_0x5172c2(0x7f1)]['subscriptions']['has'](_0x27561b)&&(_0x5aa21b&&(_0x24c76d=0x0),_0x332461=_0x311c63[_0x5172c2(0x25a)]),{'type':_0x332461,'cost':_0x24c76d,'distance':_0x58ca60,'label':_0x5c2c90,'ownerId':_0x2b0be2,'streamId':_0x4e3340,'trackKinds':_0x2e8d06,'params':_0x1f28b3};}[_0xe992e3(0x8ac)](_0x4c8b11){const _0xea851e=_0xe992e3,{label:_0x2d8b07,ownerId:_0x4b26b8}=_0x4c8b11,_0x488d9a=this[_0xea851e(0x81e)][_0xea851e(0x422)]['getRemoteMediaStream'](_0x4b26b8,_0x2d8b07);this[_0xea851e(0x7f1)]['subscriptions'][_0xea851e(0x558)](_0x416ba1=>{const _0x4989ba=_0xea851e;if(_0x416ba1[_0x4989ba(0x185)][_0x4989ba(0x4cb)]()===_0x488d9a[_0x4989ba(0x49e)]()){const _0x2d490d=_0x416ba1[_0x4989ba(0x757)];this['removeSubscription'](_0x488d9a[_0x4989ba(0x49e)](),_0x981fb5[_0x4989ba(0x4c9)][_0x4989ba(0x2b0)],_0x2d490d[_0x4989ba(0x383)]());}});}[_0xe992e3(0x511)]({label:_0x22622f}){const _0xbb9c5f=_0xe992e3,_0x1acf78=this[_0xbb9c5f(0x81e)][_0xbb9c5f(0x422)][_0xbb9c5f(0x6bf)](_0x22622f);this[_0xbb9c5f(0x7f1)][_0xbb9c5f(0x3a8)][_0xbb9c5f(0x558)](_0x5ae6ee=>{const _0x3060da=_0xbb9c5f;if(_0x5ae6ee[_0x3060da(0x185)][_0x3060da(0x4cb)]()===_0x1acf78[_0x3060da(0x49e)]()){const _0x274b21=_0x5ae6ee[_0x3060da(0x757)];this[_0x3060da(0x664)](_0x1acf78['getShareableStreamId'](),_0x981fb5[_0x3060da(0x4c9)][_0x3060da(0x2b0)],_0x274b21[_0x3060da(0x383)]());}});}['removeSubscriptionsForNode'](_0x47f3ea){const _0x5159f3=_0xe992e3;this[_0x5159f3(0x7f1)][_0x5159f3(0x8e6)](_0x47f3ea);}[_0xe992e3(0x1c9)](){const _0x289c1a=_0xe992e3;this[_0x289c1a(0x7f1)][_0x289c1a(0x3a8)][_0x289c1a(0x558)](this[_0x289c1a(0x407)][_0x289c1a(0x8b6)](this));}[_0xe992e3(0x407)](_0x55dbf8,_0x5a04be){const _0x207bb1=_0xe992e3;this[_0x207bb1(0x7f1)][_0x207bb1(0x407)](_0x55dbf8,_0x5a04be);}[_0xe992e3(0x2bc)](_0x36171b,{label:_0x454dbf,ownerId:_0x3fa5a4,trackKinds:_0x8b7029,params:_0x231d71}){const _0x5353b4=_0xe992e3;if(_0x3fa5a4!==this[_0x5353b4(0x81e)][_0x5353b4(0x71d)]['getId']()){const _0xe39255=this[_0x5353b4(0x81e)][_0x5353b4(0x422)][_0x5353b4(0x141)](_0x3fa5a4,_0x454dbf);return _0xe39255&&_0xe39255[_0x5353b4(0x8f6)]()!==_0x36171b?{'hasTracks':_0xe39255[_0x5353b4(0x4fe)](_0x8b7029),'hasResolution':this['canProvideResolution'](_0xe39255[_0x5353b4(0x601)](),_0x231d71),'streamId':_0xe39255[_0x5353b4(0x49e)](),'distance':this['configs'][_0x5353b4(0x422)][_0x5353b4(0x274)](_0x36171b,_0x3fa5a4),'subscriptionLabel':_0xdeaa20(_0x54f4ea[_0x5353b4(0x51b)],{'contentType':_0x981fb5[_0x5353b4(0x4c9)][_0x5353b4(0x2b0)],'label':_0xe39255['getShareableStreamId'](),'remoteId':_0x36171b})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x56b87f=this[_0x5353b4(0x81e)][_0x5353b4(0x422)][_0x5353b4(0x6bf)](_0x454dbf);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x56b87f[_0x5353b4(0x49e)](),'distance':0x0,'subscriptionLabel':_0xdeaa20(_0x54f4ea[_0x5353b4(0x51b)],{'contentType':_0x981fb5[_0x5353b4(0x4c9)]['Media'],'label':_0x56b87f[_0x5353b4(0x49e)](),'remoteId':_0x36171b})};}[_0xe992e3(0x717)](){const _0x42ed93=_0xe992e3;return Array[_0x42ed93(0x79e)](this[_0x42ed93(0x7f1)]['subscriptions'][_0x42ed93(0x9c8)]())[_0x42ed93(0x1ee)](([_0x4936dd,{source:_0x59b8d1}])=>_0x4936dd[_0x42ed93(0x654)](_0x54f4ea[_0x42ed93(0x51b)])&&_0x59b8d1[_0x42ed93(0x437)]()===_0x981fb5[_0x42ed93(0x4c9)][_0x42ed93(0x2b0)])['length'];}[_0xe992e3(0x6ce)](_0x48826a,_0x37b810){const _0x3cf13a=_0xe992e3;if(!_0x37b810||!_0x37b810['video']||_0x3cf13a(0xae6)==typeof _0x37b810[_0x3cf13a(0x4dd)]||!_0x37b810[_0x3cf13a(0x4dd)][_0x3cf13a(0x673)])return!0x0;const {width:_0x297448,height:_0x159865}=_0x37b810[_0x3cf13a(0x4dd)][_0x3cf13a(0x673)];return _0x48826a[_0x3cf13a(0x967)]>=_0x297448&&_0x48826a[_0x3cf13a(0x947)]>=_0x159865;}}class _0x25370c{[_0xe992e3(0x81e)];[_0xe992e3(0x620)];[_0xe992e3(0x580)];[_0xe992e3(0x587)];[_0xe992e3(0x6de)];[_0xe992e3(0x28d)];constructor(_0x949095,_0x3c0c47,_0x410094){const _0x5a1840=_0xe992e3;this[_0x5a1840(0x81e)]=_0x949095,this['maxOutgoingSubscriptions']=_0x3c0c47,this[_0x5a1840(0x580)]=_0x410094,this[_0x5a1840(0x81e)][_0x5a1840(0x422)]['registerSystemSource'](this),this[_0x5a1840(0x6de)]=new _0x1a28b4(this[_0x5a1840(0x81e)],this[_0x5a1840(0x580)]),this[_0x5a1840(0x28d)]=new _0x35260e(this[_0x5a1840(0x81e)],this[_0x5a1840(0x620)]);}['registerSystemPublisher'](_0x203352){const _0x8cc4a2=_0xe992e3;this[_0x8cc4a2(0x587)]=_0x203352;}[_0xe992e3(0x20f)](){const _0x57a20a=_0xe992e3;delete this[_0x57a20a(0x587)];}['close'](){const _0x24cb1d=_0xe992e3;this[_0x24cb1d(0x6de)][_0x24cb1d(0x1c9)](),this[_0x24cb1d(0x28d)][_0x24cb1d(0x1c9)](),this[_0x24cb1d(0x81e)]['mediator'][_0x24cb1d(0x35f)](this);}[_0xe992e3(0x4d6)](_0x43ad54,_0x2a5a9a){const _0x2099a3=_0xe992e3;this[_0x2099a3(0x6de)][_0x2099a3(0x53d)](_0x43ad54,_0x2a5a9a);}['createOutgoingSubscription'](_0x28879b,_0x106b9e){this['outgoingManager']['createSubscription'](_0x28879b,_0x106b9e);}[_0xe992e3(0x237)](_0x4aefe5,_0x425434,_0xc767e6=''){const _0xd896d1=_0xe992e3;this['incomingManager'][_0xd896d1(0x664)](_0x4aefe5,_0x425434,_0xc767e6);}[_0xe992e3(0x301)](_0xfe44c0,_0x1175c3,_0x23377a=''){const _0x2a0d82=_0xe992e3;try{this[_0x2a0d82(0x28d)][_0x2a0d82(0x664)](_0xfe44c0,_0x1175c3,_0x23377a);}catch(_0x4932ef){if(_0x4932ef instanceof _0xd907de&&_0x4932ef[_0x2a0d82(0x14f)]===_0xd907de[_0x2a0d82(0x386)][_0x2a0d82(0x6dd)])return;}}['handleSubscriptionSystemEvents'](_0x4b347f){const _0x46f3e6=_0xe992e3;switch(_0x4b347f['content']['type']){case _0x311c63['SubscribeMediaStream']:this['handleSubscriptionSubscribeMediaStream'](_0x4b347f[_0x46f3e6(0x3c8)],_0x4b347f[_0x46f3e6(0x2e4)]);break;case _0x311c63[_0x46f3e6(0x8d5)]:this[_0x46f3e6(0x28d)][_0x46f3e6(0x1c0)](_0x4b347f[_0x46f3e6(0x3c8)],_0x4b347f[_0x46f3e6(0x2e4)]);break;case _0x311c63[_0x46f3e6(0x662)]:this[_0x46f3e6(0x5fe)](_0x4b347f['sourceId'],_0x4b347f[_0x46f3e6(0x2e4)]);break;case _0x311c63[_0x46f3e6(0x2d6)]:this[_0x46f3e6(0x6de)]['handleSubscriptionRestartNeedMediaStream'](_0x4b347f['sourceId'],_0x4b347f[_0x46f3e6(0x2e4)]);break;case _0x311c63[_0x46f3e6(0x25a)]:case _0x311c63[_0x46f3e6(0x836)]:this[_0x46f3e6(0x6de)]['handleSubscriptionProvideMediaStream'](_0x4b347f[_0x46f3e6(0x3c8)],_0x4b347f[_0x46f3e6(0x2e4)]);break;case _0x311c63[_0x46f3e6(0x1e6)]:this['incomingManager']['handleSubscriptionMediaStreamUnavailable'](_0x4b347f[_0x46f3e6(0x3c8)],_0x4b347f[_0x46f3e6(0x2e4)]);}}['handleContentSystemEvents'](_0x8bc29f){const _0x516b9b=_0xe992e3;switch(_0x8bc29f[_0x516b9b(0x2e4)]['type']){case _0x26ec79[_0x516b9b(0x156)]:this[_0x516b9b(0x6de)]['handleContentUnpublishMediaStream'](_0x8bc29f[_0x516b9b(0x2e4)]),this['outgoingManager'][_0x516b9b(0x8ac)](_0x8bc29f[_0x516b9b(0x2e4)]);break;case _0x26ec79[_0x516b9b(0x47e)]:this[_0x516b9b(0x6de)][_0x516b9b(0xa1c)](_0x8bc29f[_0x516b9b(0x2e4)]);break;case _0x26ec79[_0x516b9b(0x54c)]:this['incomingManager'][_0x516b9b(0x576)](_0x8bc29f[_0x516b9b(0x2e4)]);break;case _0x26ec79[_0x516b9b(0x8d5)]:this[_0x516b9b(0x7cb)](_0x8bc29f[_0x516b9b(0x3c8)],_0x8bc29f[_0x516b9b(0x2e4)]);break;case _0x26ec79[_0x516b9b(0x77c)]:this[_0x516b9b(0x28d)][_0x516b9b(0x511)](_0x8bc29f[_0x516b9b(0x2e4)]);break;case _0x26ec79[_0x516b9b(0xa43)]:this[_0x516b9b(0xad7)](_0x8bc29f[_0x516b9b(0x2e4)][_0x516b9b(0x3fc)],_0x981fb5[_0x516b9b(0x4c9)][_0x516b9b(0x1f4)]);break;case _0x26ec79[_0x516b9b(0x750)]:this[_0x516b9b(0xad7)](_0x8bc29f[_0x516b9b(0x2e4)][_0x516b9b(0x3fc)],_0x981fb5[_0x516b9b(0x4c9)][_0x516b9b(0x6f1)]);break;case _0x26ec79[_0x516b9b(0x41d)]:this[_0x516b9b(0xad7)](_0x8bc29f[_0x516b9b(0x2e4)]['label'],_0x981fb5[_0x516b9b(0x4c9)]['ExternalStorage']);break;case _0x26ec79[_0x516b9b(0x3ef)]:this[_0x516b9b(0xad7)](_0x8bc29f[_0x516b9b(0x2e4)]['label'],_0x981fb5[_0x516b9b(0x4c9)][_0x516b9b(0xad3)]);break;case _0x26ec79['CloseVectorDatabase']:this[_0x516b9b(0xad7)](_0x8bc29f['content'][_0x516b9b(0x3fc)],_0x981fb5[_0x516b9b(0x4c9)][_0x516b9b(0x9e7)]);break;case _0x26ec79['CloseGraphDatabase']:this[_0x516b9b(0xad7)](_0x8bc29f['content'][_0x516b9b(0x3fc)],_0x981fb5[_0x516b9b(0x4c9)][_0x516b9b(0x663)]);break;case _0x26ec79['CloseJobDispatcher']:case _0x26ec79[_0x516b9b(0x4e3)]:this['handleCloseContent'](_0x8bc29f['content']['label'],_0x981fb5['ContentType'][_0x516b9b(0x451)]);break;case _0x26ec79[_0x516b9b(0x320)]:this[_0x516b9b(0x6de)]['handleContentRemoteMediaStreamTrackFail'](_0x8bc29f[_0x516b9b(0x2e4)]);}}[_0xe992e3(0x48b)]({content:_0x1c349f}){const _0x1aa557=_0xe992e3;_0x1c349f[_0x1aa557(0x689)]===_0x25a471['NodeLeave']&&this[_0x1aa557(0x8e6)](_0x1c349f);}[_0xe992e3(0x408)](_0x549941){const _0x3ea575=_0xe992e3;_0x549941[_0x3ea575(0x2e4)][_0x3ea575(0x689)]===_0x5b41e8[_0x3ea575(0x6cd)]&&this[_0x3ea575(0x6de)]['handleOptimizationConnectionSuccess'](_0x549941[_0x3ea575(0x3c8)]);}[_0xe992e3(0x7cb)](_0x1eb273,_0x5398fe){const _0x13c60f=_0xe992e3;this['incomingManager'][_0x13c60f(0x7cb)](_0x5398fe),this[_0x13c60f(0x28d)]['handleContentUnsubscribeMediaStream'](_0x1eb273,_0x5398fe)[_0x13c60f(0x558)](_0x31999d=>this[_0x13c60f(0x587)][_0x13c60f(0x246)](_0x31999d));}[_0xe992e3(0x541)](_0x44d90a,_0x38849d){const _0xe876a3=_0xe992e3,_0x4672d3=this[_0xe876a3(0x28d)]['handleSubscriptionSubscribeMediaStream'](_0x44d90a,_0x38849d);if(_0x4672d3&&(this['systemTopic'][_0xe876a3(0x246)]({'sourceId':this[_0xe876a3(0x81e)][_0xe876a3(0x71d)][_0xe876a3(0x686)](),'destinationIds':[_0x44d90a],'messageType':_0x13f595[_0xe876a3(0x173)],'content':_0x4672d3}),_0x4672d3['type']===_0x311c63[_0xe876a3(0x2d6)]))throw new _0x5e72c7(_0xe876a3(0x55c));}[_0xe992e3(0x5fe)](_0x3798a4,_0x54d724){const _0x5e37f5=_0xe992e3,_0x3097ea=this[_0x5e37f5(0x28d)][_0x5e37f5(0x5fe)](_0x3798a4,_0x54d724);this[_0x5e37f5(0x587)][_0x5e37f5(0x246)]({'sourceId':this[_0x5e37f5(0x81e)][_0x5e37f5(0x71d)][_0x5e37f5(0x686)](),'destinationIds':[_0x3798a4],'messageType':_0x13f595[_0x5e37f5(0x173)],'content':_0x3097ea});}['handleCloseContent'](_0x1f268b,_0x2e0546){const _0xeabd4b=_0xe992e3;this[_0xeabd4b(0x237)](_0x1f268b,_0x2e0546),this['removeOutgoingSubscription'](_0x1f268b,_0x2e0546);}[_0xe992e3(0x8e6)]({id:_0x239691}){const _0x3864b5=_0xe992e3;this[_0x3864b5(0x6de)][_0x3864b5(0x8e6)](_0x239691),this[_0x3864b5(0x28d)][_0x3864b5(0x8e6)](_0x239691);}}class _0x4d0ba9{[_0xe992e3(0x3fc)];[_0xe992e3(0x2d9)]=_0x5c724d();constructor(){this['label']=0x0;}[_0xe992e3(0x270)](){const _0x455c0a=_0xe992e3;return this[_0x455c0a(0x3fc)];}[_0xe992e3(0x437)](){const _0x596c9e=_0xe992e3;return _0x981fb5[_0x596c9e(0x4c9)][_0x596c9e(0x838)];}['registerSource'](_0x19ad19){const _0x441331=_0xe992e3;_0x19ad19[_0x441331(0x4a5)](this);}['unregisterSource'](_0x1960f8){const _0x10f37e=_0xe992e3;_0x1960f8[_0x10f37e(0x20f)]();}['publish'](_0x6ffd50){const _0x1bc0ab=_0xe992e3;_0xd64180[_0x1bc0ab(0x991)](_0x3c5ddd[_0x1bc0ab(0x486)],'SystemTopic\x20publish',_0x6ffd50[_0x1bc0ab(0x3c8)],_0x6ffd50),this['listener'][_0x1bc0ab(0x246)]({'topicLabel':this[_0x1bc0ab(0x3fc)],'contentType':_0x981fb5[_0x1bc0ab(0x4c9)][_0x1bc0ab(0x838)],'uuid':_0x6ffd50[_0x1bc0ab(0x90c)]??(0x0,_0x2860a6['v4'])(),'recipients':_0x6ffd50[_0x1bc0ab(0x5bc)]??[],..._0x6ffd50});}['subscribe'](_0x23e1e6){const _0x5bdda2=_0xe992e3;return this[_0x5bdda2(0x2d9)][_0x5bdda2(0x60c)](_0x23e1e6);}}class _0x335998{['options'];['ranges']=[];[_0xe992e3(0x5d1)];[_0xe992e3(0x27d)]=new Map();[_0xe992e3(0x7b1)]=_0x5c724d();constructor(_0x191d39){const _0x47436a=_0xe992e3;this[_0x47436a(0x34f)]=_0x191d39,this[_0x47436a(0x5d1)]=(this['options'][_0x47436a(0x343)]-0x2*this[_0x47436a(0x34f)][_0x47436a(0x3f2)])/0x2,this['ranges']['push']({'start':0x1,'end':this[_0x47436a(0x85e)](0x1,0x1)-0x1});for(let _0x421008=0x0;_0x421008<this[_0x47436a(0x5d1)];++_0x421008)this[_0x47436a(0x359)][_0x47436a(0xae7)]({'start':this['getNextTargetRank'](0x1,_0x421008+0x1),'end':this[_0x47436a(0x85e)](0x1,_0x421008+0x2)-0x1});}['getNextTargetRank'](_0x1b5427,_0x254f9d=0x1){const _0x5dbcaf=_0xe992e3;let _0x3ca2e4=this[_0x5dbcaf(0x34f)][_0x5dbcaf(0x580)]-this[_0x5dbcaf(0x34f)]['minConnections'],_0x5d705d=0x1;for(let _0x33d5b6=0x1;_0x33d5b6<_0x254f9d;++_0x33d5b6)_0x3ca2e4*=this[_0x5dbcaf(0x34f)]['maxDistance']-this[_0x5dbcaf(0x34f)][_0x5dbcaf(0x3f2)]-_0x33d5b6,_0x5d705d*=this['options']['maxDistance']-this[_0x5dbcaf(0x34f)][_0x5dbcaf(0x3f2)]-_0x33d5b6+0x1;return _0x3ca2e4*this[_0x5dbcaf(0x34f)][_0x5dbcaf(0x3f2)]+_0x1b5427-_0x5d705d;}[_0xe992e3(0xac3)](_0x1b60ad){const _0x4f7e69=_0xe992e3;let _0x26ba87=0x0;for(;this[_0x4f7e69(0x359)][_0x26ba87][_0x4f7e69(0x1e2)]<_0x1b60ad;)_0x26ba87+=0x1;return _0x26ba87;}[_0xe992e3(0x8fb)](){const _0x4fdb12=_0xe992e3;return this[_0x4fdb12(0x34f)]['minConnections'];}[_0xe992e3(0x136)](){const _0x50ce18=_0xe992e3;return this[_0x50ce18(0x34f)][_0x50ce18(0x343)];}[_0xe992e3(0x5b5)](){const _0x2a9fac=_0xe992e3;return this[_0x2a9fac(0x34f)][_0x2a9fac(0x580)];}['getRemoteNodes'](){return this['remoteNodes'];}[_0xe992e3(0x61a)](_0x27bde5,_0xb013fa){const _0x4ff0b5=_0xe992e3;this['remoteNodes'][_0x4ff0b5(0x888)](_0x27bde5,_0xb013fa),this[_0x4ff0b5(0x7b1)][_0x4ff0b5(0x246)]();}[_0xe992e3(0x5e8)](_0x240908){const _0x28ce42=_0xe992e3;this[_0x28ce42(0x27d)][_0x28ce42(0x5eb)](_0x240908),this['nodeUpdate'][_0x28ce42(0x246)]();}[_0xe992e3(0x16c)](_0x5ea67d){const _0x4a509f=_0xe992e3;return this['remoteNodes'][_0x4a509f(0x64b)](_0x5ea67d);}[_0xe992e3(0x554)](_0x4f3b3b){const _0x548399=_0xe992e3;return this[_0x548399(0x27d)][_0x548399(0x6ab)](_0x4f3b3b);}[_0xe992e3(0x7a1)](_0x2511d2,_0x192dbc){const _0x3d30e6=_0xe992e3,_0x42ea1f=this['getRemoteNode'](_0x192dbc)?.['getRank']()??0x0;return _0x2511d2['map'](_0x3b8b68=>this[_0x3d30e6(0x554)](_0x3b8b68))[_0x3d30e6(0x1ee)](_0x41e674=>void 0x0!==_0x41e674)[_0x3d30e6(0x1e4)]((_0x57f425,_0x101e30)=>Math[_0x3d30e6(0x2ec)](_0x42ea1f-(_0x57f425&&_0x57f425[_0x3d30e6(0x582)]()||0x1/0x0))-Math['abs'](_0x42ea1f-(_0x101e30&&_0x101e30[_0x3d30e6(0x582)]()||0x1/0x0)))[_0x3d30e6(0x7db)](_0x179757=>_0x179757['getId']());}['onNodeUpdate'](_0x4c5bc0){const _0x5aa625=_0xe992e3;return this['nodeUpdate'][_0x5aa625(0x60c)](_0x4c5bc0);}}class _0x4d9e09{[_0xe992e3(0x3ea)];['clusterId'];['authNode'];[_0xe992e3(0x5c3)];[_0xe992e3(0x34f)];[_0xe992e3(0x81e)];[_0xe992e3(0x1e5)];[_0xe992e3(0x616)];[_0xe992e3(0xa32)];['subscriptionManager'];[_0xe992e3(0x149)];[_0xe992e3(0x7a9)];['remediationManager'];['nodeManager'];[_0xe992e3(0x9d6)];[_0xe992e3(0x587)]=new _0x4d0ba9();['systemTopicUnsubscribe'];[_0xe992e3(0x71d)];constructor(_0x56d323,_0x49f8d9,_0x4a4cc8,_0x842764,_0x13714e,_0x4fb049,_0x79623a){const _0x28687a=_0xe992e3;switch(this[_0x28687a(0x3ea)]=_0x56d323,this['clusterId']=_0x49f8d9,this[_0x28687a(0x5ce)]=_0x4a4cc8,this['authService']=_0x842764,this[_0x28687a(0x34f)]=_0x13714e,this[_0x28687a(0x81e)]=_0x4fb049,this['clusterEventEmitter']=_0x79623a,_0x4a4cc8[_0x28687a(0x689)]){case _0x981fb5[_0x28687a(0x148)][_0x28687a(0x741)]:this[_0x28687a(0x71d)]=new _0x4cc391(_0x4a4cc8[_0x28687a(0x686)](),_0x4a4cc8['getDisplayName'](),_0x4a4cc8[_0x28687a(0xa80)]());break;case _0x981fb5[_0x28687a(0x148)][_0x28687a(0x2a4)]:default:this[_0x28687a(0x71d)]=new _0x2b01ee(_0x4a4cc8[_0x28687a(0x686)]());}const _0x5d47cf=this[_0x28687a(0x5b1)]();this[_0x28687a(0x9d6)]=new _0x335998(this[_0x28687a(0x34f)]),this[_0x28687a(0x616)]=new _0x4c88fb(_0x5d47cf,this['options']),this['connectionManager']=new _0x46c200(_0x5d47cf,this[_0x28687a(0x5c3)],this[_0x28687a(0x9d6)],this[_0x28687a(0x81e)]['iceServers'],this[_0x28687a(0x34f)]),this['subscriptionManager']=new _0x25370c(_0x5d47cf,this['options'][_0x28687a(0x620)],this[_0x28687a(0x9d6)][_0x28687a(0x5b5)]()),this[_0x28687a(0x149)]=new _0x368d52(_0x5d47cf),this[_0x28687a(0x7a9)]=new _0x19f392(_0x5d47cf),this[_0x28687a(0x4a3)]=new _0x2698ba(_0x5d47cf),this[_0x28687a(0x183)]=new _0x489f27(_0x5d47cf,this['graphService']),this[_0x28687a(0x9e2)]=this['initializeSystemTopic']();}[_0xe992e3(0xa19)](){const _0x1c72d9=_0xe992e3,_0x34e622=this['getConfigs']();this[_0x1c72d9(0xa32)]=new _0x46c200(_0x34e622,this['authService'],this[_0x1c72d9(0x9d6)],this[_0x1c72d9(0x81e)][_0x1c72d9(0x8f1)],this[_0x1c72d9(0x34f)]),this[_0x1c72d9(0x797)]=new _0x25370c(_0x34e622,this['options']['maxOutgoingSubscriptions'],this['graphService'][_0x1c72d9(0x5b5)]()),this[_0x1c72d9(0x149)]=new _0x368d52(_0x34e622),this['detectionManager']=new _0x19f392(_0x34e622),this[_0x1c72d9(0x4a3)]=new _0x2698ba(_0x34e622),this[_0x1c72d9(0x183)]=new _0x489f27(_0x34e622,this[_0x1c72d9(0x9d6)]);const _0x23bfa2=this[_0x1c72d9(0xa32)]['getConnectionGroup']();this[_0x1c72d9(0x616)][_0x1c72d9(0x2de)]()[_0x1c72d9(0x558)](_0x500e48=>{const _0x24618e=_0x1c72d9;this[_0x24618e(0x797)][_0x24618e(0x5e4)](_0x500e48,_0x23bfa2),this[_0x24618e(0x797)][_0x24618e(0x4d6)](_0x23bfa2,_0x500e48),_0x500e48['reset']();}),this[_0x1c72d9(0x616)][_0x1c72d9(0x2f6)]()[_0x1c72d9(0x558)](_0x4a1b25=>{const _0x3e7c36=_0x1c72d9;this[_0x3e7c36(0x797)][_0x3e7c36(0x5e4)](_0x4a1b25,_0x23bfa2),this[_0x3e7c36(0x797)]['createIncomingSubscription'](_0x23bfa2,_0x4a1b25),_0x4a1b25[_0x3e7c36(0xade)](),_0x4a1b25['sync']();}),this[_0x1c72d9(0x616)][_0x1c72d9(0x6ac)]()[_0x1c72d9(0x558)](_0x5564f1=>{const _0x4d6d49=_0x1c72d9;this['subscriptionManager'][_0x4d6d49(0x5e4)](_0x5564f1,_0x23bfa2),this[_0x4d6d49(0x797)][_0x4d6d49(0x4d6)](_0x23bfa2,_0x5564f1),_0x5564f1[_0x4d6d49(0xade)](),this[_0x4d6d49(0x993)](_0x5564f1);}),this[_0x1c72d9(0x616)][_0x1c72d9(0xada)]()['forEach'](_0x356a27=>{const _0x2e4084=_0x1c72d9;this['subscriptionManager']['createOutgoingSubscription'](_0x356a27,_0x23bfa2),this[_0x2e4084(0x797)][_0x2e4084(0x4d6)](_0x23bfa2,_0x356a27),_0x356a27[_0x2e4084(0xade)]();}),this['contentManager'][_0x1c72d9(0x2e7)]()[_0x1c72d9(0x558)](_0x1c2691=>{const _0x5377cd=_0x1c72d9;this[_0x5377cd(0x797)][_0x5377cd(0x5e4)](_0x1c2691,_0x23bfa2),this[_0x5377cd(0x797)][_0x5377cd(0x4d6)](_0x23bfa2,_0x1c2691),_0x1c2691[_0x5377cd(0xade)]();}),this[_0x1c72d9(0x616)]['getVectorDatabases']()[_0x1c72d9(0x558)](_0xb4ccdf=>{this['subscriptionManager']['createOutgoingSubscription'](_0xb4ccdf,_0x23bfa2),this['subscriptionManager']['createIncomingSubscription'](_0x23bfa2,_0xb4ccdf),_0xb4ccdf['reset']();}),this[_0x1c72d9(0x616)][_0x1c72d9(0x2c1)]()[_0x1c72d9(0x558)](_0x59db11=>{const _0x12d7eb=_0x1c72d9;this[_0x12d7eb(0x797)][_0x12d7eb(0x5e4)](_0x59db11,_0x23bfa2),this[_0x12d7eb(0x797)][_0x12d7eb(0x4d6)](_0x23bfa2,_0x59db11),_0x59db11['reset']();}),this[_0x1c72d9(0x9e2)]=this['initializeSystemTopic']();}['registerSystemSource'](_0x2ee8bb){const _0x1408c2=_0xe992e3;try{this[_0x1408c2(0x587)]['registerSource'](_0x2ee8bb);}catch(_0xd60ab){this['handleError'](_0xd60ab,{});}}[_0xe992e3(0x35f)](_0x189c1f){const _0x51992d=_0xe992e3;try{this[_0x51992d(0x587)]['unregisterSource'](_0x189c1f);}catch(_0x1065c1){this[_0x51992d(0x532)](_0x1065c1,{});}}[_0xe992e3(0xa55)](_0x2598ba,_0x5c6675){const _0x4ecf25=_0xe992e3;return this[_0x4ecf25(0xa32)]['createConnection'](_0x2598ba,_0x5c6675);}['getConnection'](_0x1fb98f){const _0x15e10c=_0xe992e3;try{return this[_0x15e10c(0xa32)][_0x15e10c(0x2b8)](_0x1fb98f);}catch(_0x277c88){throw this[_0x15e10c(0x532)](_0x277c88,{});}}[_0xe992e3(0x7d2)](_0x2a621c){const _0x276427=_0xe992e3;try{return this[_0x276427(0xa32)][_0x276427(0x7d2)](_0x2a621c);}catch(_0x449c1e){throw this[_0x276427(0x532)](_0x449c1e,{});}}[_0xe992e3(0x141)](_0x2d1e1a,_0xbd7c23){const _0xb2271d=_0xe992e3;try{return this['contentManager']['getRemoteMediaStreams'](_0x4049b8=>_0x4049b8[_0xb2271d(0x4a8)]()===_0x2d1e1a&&_0x4049b8[_0xb2271d(0x270)]()===_0xbd7c23)[0x0];}catch(_0x48406c){throw this[_0xb2271d(0x532)](_0x48406c,{});}}[_0xe992e3(0x6bf)](_0x556fb3){const _0xe5224a=_0xe992e3;try{return this[_0xe5224a(0x616)]['getLocalMediaStreams'](_0xf63190=>_0xf63190[_0xe5224a(0x270)]()===_0x556fb3)[0x0];}catch(_0x4d9a5a){throw this[_0xe5224a(0x532)](_0x4d9a5a,{});}}[_0xe992e3(0x7fc)]=(..._0x1f337c)=>{const _0xaa133c=_0xe992e3;try{return this[_0xaa133c(0x1e5)][_0xaa133c(0x5c8)](..._0x1f337c);}catch(_0x4573ab){throw this['handleError'](_0x4573ab,{});}};[_0xe992e3(0x25e)](_0x418fff){const _0x3a3cb7=_0xe992e3;try{this[_0x3a3cb7(0x149)][_0x3a3cb7(0x825)](_0x418fff);}catch(_0x598afc){throw this[_0x3a3cb7(0x532)](_0x598afc,{});}}[_0xe992e3(0x99c)](_0x1037cb){const _0x6a9634=_0xe992e3;try{this[_0x6a9634(0x149)][_0x6a9634(0x641)](_0x1037cb);}catch(_0x4d4f74){throw this[_0x6a9634(0x532)](_0x4d4f74,{});}}[_0xe992e3(0x9fe)](_0x5e3a0b){const _0x59f6e1=_0xe992e3;return this['connectionManager'][_0x59f6e1(0x9fe)](_0x5e3a0b);}async[_0xe992e3(0x4af)](){const _0x5b4395=_0xe992e3;try{await this[_0x5b4395(0xa32)][_0x5b4395(0x4af)]();const _0x5753cd=await this[_0x5b4395(0x183)]['discover']();for(const _0x193021 of _0x5753cd)this['connectionManager'][_0x5b4395(0xa55)](_0x193021);}catch(_0x3839c7){throw this[_0x5b4395(0x532)](_0x3839c7,{});}}[_0xe992e3(0x65f)](_0xa076b1){const _0x4b92c9=_0xe992e3;this[_0x4b92c9(0x71d)]['type']===_0x981fb5['NodeType'][_0x4b92c9(0x741)]&&(this[_0x4b92c9(0x71d)]['setEmail'](_0xa076b1[_0x4b92c9(0xa80)]()),this[_0x4b92c9(0x71d)][_0x4b92c9(0x53a)](_0xa076b1[_0x4b92c9(0x2bd)]()));}[_0xe992e3(0x1c9)]({force:_0x5b949f=!0x1},_0x38ac96=!0x1){const _0x20e672=_0xe992e3;if(_0xd64180['warning'](_0x20e672(0x775),{'clusterId':this['clusterId'],'nodeId':this[_0x20e672(0x71d)][_0x20e672(0x686)](),'nodeType':this[_0x20e672(0x71d)][_0x20e672(0x689)]}),!_0x5b949f&&this[_0x20e672(0xa32)][_0x20e672(0x41e)]())throw new _0x3748ee(_0x2a0ddc[_0x20e672(0x93c)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0xd64180['processBatch'](),this[_0x20e672(0x9e2)](),this[_0x20e672(0x4a3)][_0x20e672(0x1c9)](),this[_0x20e672(0x7a9)][_0x20e672(0x1c9)](),this[_0x20e672(0x149)][_0x20e672(0x1c9)](),this[_0x20e672(0x797)][_0x20e672(0x1c9)](),this[_0x20e672(0xa32)][_0x20e672(0x1c9)](),this[_0x20e672(0x616)]['close'](_0x38ac96),this[_0x20e672(0x183)]['close']();}['openPubSubTopic'](_0x8a6f6d){const _0x3c57e5=_0xe992e3;try{const _0x27fcf0=this[_0x3c57e5(0x616)][_0x3c57e5(0x814)](_0x8a6f6d),_0x4c503b=this[_0x3c57e5(0xa32)]['getConnectionGroup']();return this[_0x3c57e5(0x797)][_0x3c57e5(0x5e4)](_0x27fcf0,_0x4c503b),this[_0x3c57e5(0x797)][_0x3c57e5(0x4d6)](_0x4c503b,_0x27fcf0),_0x27fcf0;}catch(_0x18ae52){throw this[_0x3c57e5(0x532)](_0x18ae52,{});}}async['openObjectStoreBucket'](_0xdc65a8,_0x19f0d6){const _0x144a02=_0xe992e3;try{const _0x543fc7=this[_0x144a02(0x616)][_0x144a02(0x5dc)](_0xdc65a8,this[_0x144a02(0x34f)][_0x144a02(0x655)],_0x19f0d6),_0x2bcda0=this['connectionManager'][_0x144a02(0x1aa)]();return this[_0x144a02(0x797)][_0x144a02(0x5e4)](_0x543fc7,_0x2bcda0),this[_0x144a02(0x797)]['createIncomingSubscription'](_0x2bcda0,_0x543fc7),await _0x543fc7[_0x144a02(0x6a5)](),_0x543fc7;}catch(_0x2c9b24){throw this['handleError'](_0x2c9b24,{});}}async[_0xe992e3(0x2a3)](_0xbbe2a5,_0x5ebbfc){const _0x50e5b5=_0xe992e3;try{if(!this[_0x50e5b5(0x34f)][_0x50e5b5(0xab2)])throw new _0x3748ee(_0x2a0ddc[_0x50e5b5(0x945)],'Missing\x20external\x20storage\x20connector');if(!(this['authNode']instanceof _0x5d1a16))throw new _0x3748ee(_0x2a0ddc[_0x50e5b5(0x47d)],_0x50e5b5(0x1d3));const _0x342068=this[_0x50e5b5(0x34f)]['externalStorageConnectors'][_0x50e5b5(0x6ab)](_0x5ebbfc);if(!_0x342068)throw new _0x3748ee(_0x2a0ddc[_0x50e5b5(0x945)],_0x50e5b5(0x1fa));const _0x170dd5=this[_0x50e5b5(0x616)][_0x50e5b5(0xaba)](_0xbbe2a5,_0x342068),_0x40d352=this[_0x50e5b5(0xa32)][_0x50e5b5(0x1aa)]();return this[_0x50e5b5(0x797)][_0x50e5b5(0x5e4)](_0x170dd5,_0x40d352),this[_0x50e5b5(0x797)][_0x50e5b5(0x4d6)](_0x40d352,_0x170dd5),await _0x170dd5[_0x50e5b5(0xa19)](),_0x170dd5;}catch(_0x35ba17){throw this['handleError'](_0x35ba17,{});}}async[_0xe992e3(0x260)](_0x55084,_0x5d8ea7,_0x5423d3){const _0x3b6a0f=_0xe992e3;try{_0x5423d3=_0x5423d3||this['options'][_0x3b6a0f(0x50a)];const _0x28abb8=await this[_0x3b6a0f(0x616)][_0x3b6a0f(0x8ad)](_0x55084,_0x5d8ea7,_0x5423d3),_0xdba918=this[_0x3b6a0f(0xa32)][_0x3b6a0f(0x1aa)]();return this[_0x3b6a0f(0x797)]['createOutgoingSubscription'](_0x28abb8,_0xdba918),this['subscriptionManager'][_0x3b6a0f(0x4d6)](_0xdba918,_0x28abb8),await _0x28abb8[_0x3b6a0f(0xa19)](),this[_0x3b6a0f(0x993)](_0x28abb8),_0x28abb8;}catch(_0x52a51a){throw this[_0x3b6a0f(0x532)](_0x52a51a,{});}}async[_0xe992e3(0x6a6)](_0x4e2e76){const _0x4b7c64=_0xe992e3;try{const _0x358365=await this['contentManager'][_0x4b7c64(0xa9e)](_0x4e2e76,this[_0x4b7c64(0x9d6)]),_0x52b373=this[_0x4b7c64(0xa32)][_0x4b7c64(0x1aa)]();return this[_0x4b7c64(0x797)]['createOutgoingSubscription'](_0x358365,_0x52b373),this[_0x4b7c64(0x797)][_0x4b7c64(0x4d6)](_0x52b373,_0x358365),_0x358365[_0x4b7c64(0xa19)](),_0x358365;}catch(_0x1e8552){throw this[_0x4b7c64(0x532)](_0x1e8552,{});}}async[_0xe992e3(0x439)](_0x1ef402){const _0x238702=_0xe992e3;throw new Error(_0x238702(0x163));}async[_0xe992e3(0xa5a)](_0x3137a6){const _0x9fa23a=_0xe992e3;try{const _0x318b3d=await this[_0x9fa23a(0x616)]['createGenerativeAIContext'](_0x3137a6,this['graphService']),_0x17a06c=this[_0x9fa23a(0xa32)][_0x9fa23a(0x1aa)]();return this[_0x9fa23a(0x797)][_0x9fa23a(0x5e4)](_0x318b3d,_0x17a06c),this[_0x9fa23a(0x797)][_0x9fa23a(0x4d6)](_0x17a06c,_0x318b3d),_0x318b3d[_0x9fa23a(0xa19)](),_0x318b3d;}catch(_0x1b1704){throw console[_0x9fa23a(0x77b)](_0x1b1704),this['handleError'](_0x1b1704,{});}}async[_0xe992e3(0x1c3)](_0x1f9c73){const _0x4ebeee=_0xe992e3;try{if(!(this['options']['generativeAIWorkerConnectors']&&this[_0x4ebeee(0x34f)][_0x4ebeee(0xa96)]&&this[_0x4ebeee(0x34f)][_0x4ebeee(0x611)]&&this[_0x4ebeee(0x34f)][_0x4ebeee(0x934)]))throw new _0x3748ee(_0x2a0ddc[_0x4ebeee(0x144)],_0x4ebeee(0x642));if(!this['configs'][_0x4ebeee(0x679)])throw new _0x3748ee(_0x2a0ddc[_0x4ebeee(0x86a)],_0x4ebeee(0x847));const _0x2534e1=[];for(const [_0x32e76f,_0x209632]of this[_0x4ebeee(0x34f)]['generativeAIWorkerConnectors']){let _0x39675d;_0x32e76f===_0x981fb5[_0x4ebeee(0xa98)][_0x4ebeee(0xa17)]&&(_0x39675d=this[_0x4ebeee(0x81e)]['openaiApiKey']),_0x32e76f===_0x981fb5[_0x4ebeee(0xa98)][_0x4ebeee(0x9a7)]&&(_0x39675d=this[_0x4ebeee(0x81e)][_0x4ebeee(0x8c4)]),_0x2534e1[_0x4ebeee(0xae7)](new _0x209632(_0x39675d));}const _0x3bce95=new this[(_0x4ebeee(0x34f))][(_0x4ebeee(0x655))](_0x4ebeee(0x9ad)),_0x28cacd=new this[(_0x4ebeee(0x34f))][(_0x4ebeee(0xa96))](),_0x11df4d=new this[(_0x4ebeee(0x34f))][(_0x4ebeee(0x611))](this['configs'][_0x4ebeee(0x679)]),_0x11e583=new this[(_0x4ebeee(0x34f))]['nlpLibraryConnector']();let _0x1670b5,_0x2a0942,_0x44e4e5,_0xcbe371;if(this[_0x4ebeee(0x34f)][_0x4ebeee(0x955)]){if(!this[_0x4ebeee(0x81e)][_0x4ebeee(0x840)])throw new _0x3748ee(_0x2a0ddc[_0x4ebeee(0x86a)],'Missing\x20search\x20API\x20key');_0x1670b5=new this['options'][(_0x4ebeee(0x955))](this[_0x4ebeee(0x81e)]['searchApiKey']);}if(this[_0x4ebeee(0x34f)][_0x4ebeee(0x6ee)]){if(!this[_0x4ebeee(0x81e)]['aiSearchApiKey'])throw new _0x3748ee(_0x2a0ddc[_0x4ebeee(0x86a)],_0x4ebeee(0x379));_0x2a0942=new this['options'][(_0x4ebeee(0x6ee))](this['configs'][_0x4ebeee(0x810)]);}if(this['options'][_0x4ebeee(0x5c4)]&&(_0x44e4e5=new this[(_0x4ebeee(0x34f))][(_0x4ebeee(0x5c4))]()),this[_0x4ebeee(0x34f)][_0x4ebeee(0x83b)]){if(!this[_0x4ebeee(0x81e)]['ragApiKey'])throw new _0x3748ee(_0x2a0ddc['ApiKeyMissing'],_0x4ebeee(0x848));_0xcbe371=new Map();for(const [_0x126864,_0x39907f]of this[_0x4ebeee(0x34f)][_0x4ebeee(0x83b)])_0xcbe371[_0x4ebeee(0x888)](_0x126864,new _0x39907f(this[_0x4ebeee(0x81e)][_0x4ebeee(0x336)]));}return await this[_0x4ebeee(0x616)][_0x4ebeee(0x328)](_0x1f9c73,_0x2534e1,_0x3bce95,_0x28cacd,_0x11df4d,_0x11e583,_0x1670b5,_0x2a0942,_0x44e4e5,_0xcbe371,this[_0x4ebeee(0x81e)][_0x4ebeee(0x679)]);}catch(_0x3b482d){throw this[_0x4ebeee(0x532)](_0x3b482d,{});}}async['openGenerativeAIWorker'](_0x389ca7){const _0x1566f2=_0xe992e3;try{if(!(this[_0x1566f2(0x34f)]['generativeAIWorkerConnectors']&&this[_0x1566f2(0x34f)][_0x1566f2(0xa96)]&&this[_0x1566f2(0x34f)][_0x1566f2(0x611)]&&this[_0x1566f2(0x34f)][_0x1566f2(0x934)]))throw new _0x3748ee(_0x2a0ddc['GenerativeAIWorkerMissingConnector'],_0x1566f2(0x642));if(!(this[_0x1566f2(0x5ce)]instanceof _0x5d1a16))throw new _0x3748ee(_0x2a0ddc[_0x1566f2(0x47d)],_0x1566f2(0x1d3));if(!this[_0x1566f2(0x81e)][_0x1566f2(0x679)])throw new _0x3748ee(_0x2a0ddc[_0x1566f2(0x86a)],'Missing\x20OpenAI\x20API\x20key');const _0x17aab5=[];for(const [_0x1a0d6e,_0x4ccbee]of this[_0x1566f2(0x34f)][_0x1566f2(0x164)]){let _0x5b0abe;_0x1a0d6e===_0x981fb5[_0x1566f2(0xa98)][_0x1566f2(0xa17)]&&(_0x5b0abe=this[_0x1566f2(0x81e)][_0x1566f2(0x679)]),_0x1a0d6e===_0x981fb5[_0x1566f2(0xa98)][_0x1566f2(0x9a7)]&&(_0x5b0abe=this[_0x1566f2(0x81e)][_0x1566f2(0x8c4)]),_0x17aab5[_0x1566f2(0xae7)](new _0x4ccbee(_0x5b0abe));}const _0x594db3=new this[(_0x1566f2(0x34f))][(_0x1566f2(0x655))](_0x1566f2(0x9ad)),_0x49ad73=new this['options'][(_0x1566f2(0xa96))](),_0xe61ebf=new this['options'][(_0x1566f2(0x611))](this[_0x1566f2(0x81e)][_0x1566f2(0x679)]),_0xc6b27e=new this[(_0x1566f2(0x34f))][(_0x1566f2(0x934))]();let _0x5ce20a,_0x25d2e7,_0x58dbbb,_0x55c06f;if(this[_0x1566f2(0x34f)][_0x1566f2(0x955)]){if(!this[_0x1566f2(0x81e)]['searchApiKey'])throw new _0x3748ee(_0x2a0ddc[_0x1566f2(0x86a)],_0x1566f2(0x890));_0x5ce20a=new this[(_0x1566f2(0x34f))][(_0x1566f2(0x955))](this[_0x1566f2(0x81e)][_0x1566f2(0x840)]);}if(this[_0x1566f2(0x34f)][_0x1566f2(0x6ee)]){if(!this[_0x1566f2(0x81e)][_0x1566f2(0x810)])throw new _0x3748ee(_0x2a0ddc['ApiKeyMissing'],'Missing\x20AI\x20search\x20API\x20key');_0x25d2e7=new this['options'][(_0x1566f2(0x6ee))](this[_0x1566f2(0x81e)]['aiSearchApiKey']);}if(this[_0x1566f2(0x34f)]['queryFileConnector']&&(_0x58dbbb=new this[(_0x1566f2(0x34f))][(_0x1566f2(0x5c4))]()),this[_0x1566f2(0x34f)][_0x1566f2(0x83b)]){if(!this['configs'][_0x1566f2(0x336)])throw new _0x3748ee(_0x2a0ddc[_0x1566f2(0x86a)],_0x1566f2(0x848));_0x55c06f=new Map();for(const [_0x48ccee,_0x403d71]of this[_0x1566f2(0x34f)][_0x1566f2(0x83b)])_0x55c06f[_0x1566f2(0x888)](_0x48ccee,new _0x403d71(this[_0x1566f2(0x81e)]['ragApiKey']));}const _0xdfc619=await this[_0x1566f2(0x616)][_0x1566f2(0x67a)](_0x389ca7,this[_0x1566f2(0x5ce)],_0x17aab5,_0x594db3,_0x49ad73,_0xe61ebf,_0xc6b27e,_0x5ce20a,_0x25d2e7,_0x58dbbb,_0x55c06f,this['configs'][_0x1566f2(0x679)]),_0x68110c=this[_0x1566f2(0xa32)][_0x1566f2(0x1aa)]();this[_0x1566f2(0x797)]['createOutgoingSubscription'](_0xdfc619,_0x68110c),this[_0x1566f2(0x797)][_0x1566f2(0x4d6)](_0x68110c,_0xdfc619);const _0x567631=this[_0x1566f2(0x183)][_0x1566f2(0x887)]();return await _0xdfc619['open'](0x0===_0x567631[_0x1566f2(0x756)]||void 0x0),_0xdfc619;}catch(_0x1b783e){throw this[_0x1566f2(0x532)](_0x1b783e,{});}}[_0xe992e3(0x461)](_0x3a9e01){const _0x5189b5=_0xe992e3;try{if(!this[_0x5189b5(0x34f)][_0x5189b5(0x124)])throw new _0x3748ee(_0x2a0ddc['GraphDatabaseMissingConnector'],'Missing\x20graph\x20database\x20connector');if(!(this[_0x5189b5(0x5ce)]instanceof _0x5d1a16))throw new _0x3748ee(_0x2a0ddc['NodeInvalidType'],_0x5189b5(0x1d3));const _0x5f25a9=this[_0x5189b5(0x616)]['createGraphDatabase'](_0x3a9e01,this[_0x5189b5(0x34f)][_0x5189b5(0x124)]),_0x23f3f5=this[_0x5189b5(0xa32)][_0x5189b5(0x1aa)]();return this[_0x5189b5(0x797)][_0x5189b5(0x5e4)](_0x5f25a9,_0x23f3f5),this[_0x5189b5(0x797)]['createIncomingSubscription'](_0x23f3f5,_0x5f25a9),_0x5f25a9;}catch(_0x189ea5){throw this[_0x5189b5(0x532)](_0x189ea5,{});}}[_0xe992e3(0x358)](_0x49e51b){const _0x13ab54=_0xe992e3;try{if(!this['options'][_0x13ab54(0x4e9)])throw new _0x3748ee(_0x2a0ddc['VectorDatabaseMissingConnector'],_0x13ab54(0x390));if(!(this['authNode']instanceof _0x5d1a16))throw new _0x3748ee(_0x2a0ddc[_0x13ab54(0x47d)],_0x13ab54(0x1d3));const _0x29cfbb=this['contentManager'][_0x13ab54(0x425)](_0x49e51b,this[_0x13ab54(0x34f)][_0x13ab54(0x4e9)]),_0x19cbb9=this[_0x13ab54(0xa32)][_0x13ab54(0x1aa)]();return this['subscriptionManager'][_0x13ab54(0x5e4)](_0x29cfbb,_0x19cbb9),this[_0x13ab54(0x797)][_0x13ab54(0x4d6)](_0x19cbb9,_0x29cfbb),_0x29cfbb;}catch(_0x2d1687){throw this['handleError'](_0x2d1687,{});}}[_0xe992e3(0x2de)](_0x5894c5){const _0x7470d8=_0xe992e3;try{return this[_0x7470d8(0x616)]['getPubSubTopics'](_0x5894c5);}catch(_0x100da8){throw this[_0x7470d8(0x532)](_0x100da8,{});}}[_0xe992e3(0x2f6)](_0x5b204b){const _0x1503ba=_0xe992e3;try{return this[_0x1503ba(0x616)]['getObjectStoreBuckets'](_0x5b204b);}catch(_0x1c7e92){throw this[_0x1503ba(0x532)](_0x1c7e92,{});}}[_0xe992e3(0x3b6)](_0x5cd0b2){const _0x46b659=_0xe992e3;try{return this[_0x46b659(0x616)]['getExternalStorageConnections'](_0x5cd0b2);}catch(_0x2296fa){throw this['handleError'](_0x2296fa,{});}}[_0xe992e3(0x6ac)](_0x4068ec){const _0x5cd73b=_0xe992e3;try{return this[_0x5cd73b(0x616)][_0x5cd73b(0x6ac)](_0x4068ec);}catch(_0x3ff0ac){throw this[_0x5cd73b(0x532)](_0x3ff0ac,{});}}['getGenerativeAIContexts'](_0x3cc265){const _0x3c5221=_0xe992e3;try{return this[_0x3c5221(0x616)][_0x3c5221(0x703)](_0x3cc265);}catch(_0x36a708){throw this[_0x3c5221(0x532)](_0x36a708,{});}}['getGenerativeAIContextsStandalone'](_0x4ce605){const _0x316270=_0xe992e3;try{return this[_0x316270(0x616)][_0x316270(0xa70)](_0x4ce605);}catch(_0x2366b9){throw this['handleError'](_0x2366b9,{});}}[_0xe992e3(0x8d9)](_0x20c7d1){const _0xc29a06=_0xe992e3;try{return this[_0xc29a06(0x616)][_0xc29a06(0x8d9)](_0x20c7d1);}catch(_0x578258){throw this[_0xc29a06(0x532)](_0x578258,{});}}['getGraphDatabases'](_0x288bb2){const _0x2d1424=_0xe992e3;try{return this[_0x2d1424(0x616)]['getGraphDatabases'](_0x288bb2);}catch(_0x241579){throw this['handleError'](_0x241579,{});}}[_0xe992e3(0x491)](_0x59063e,_0x5e45f9){const _0x4e57f6=_0xe992e3;if(!this[_0x4e57f6(0x81e)][_0x4e57f6(0x809)][_0x4e57f6(0x137)](_0x3151aa[_0x4e57f6(0x341)]))throw new _0x3748ee(_0x2a0ddc[_0x4e57f6(0x2df)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x4e57f6(0x616)][_0x4e57f6(0x491)](_0x59063e,_0x5e45f9);}catch(_0x32fa7b){throw this[_0x4e57f6(0x532)](_0x32fa7b,{});}}[_0xe992e3(0x851)](_0x2949a0,_0x197a36){const _0x3c9188=_0xe992e3;if(!this[_0x3c9188(0x81e)][_0x3c9188(0x809)]['includes'](_0x3151aa['MediaStream']))throw new _0x3748ee(_0x2a0ddc[_0x3c9188(0x2df)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x3c9188(0x616)]['createLocalDynamicMediaStream'](_0x2949a0,_0x197a36);}catch(_0x1957c8){throw this[_0x3c9188(0x532)](_0x1957c8,{});}}[_0xe992e3(0x7a3)](_0x4037e6){const _0x3fc8e7=_0xe992e3;if(!this['configs']['features'][_0x3fc8e7(0x137)](_0x3151aa[_0x3fc8e7(0x341)]))throw new _0x3748ee(_0x2a0ddc[_0x3fc8e7(0x2df)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x3fc8e7(0x7a3)](_0x4037e6);}catch(_0x2918d7){throw this[_0x3fc8e7(0x532)](_0x2918d7,{});}}[_0xe992e3(0x72b)](_0x5483da){const _0x12dd5b=_0xe992e3;if(!this[_0x12dd5b(0x81e)][_0x12dd5b(0x809)][_0x12dd5b(0x137)](_0x3151aa[_0x12dd5b(0x341)]))throw new _0x3748ee(_0x2a0ddc['FeatureNotEnabled'],_0x12dd5b(0x17c));try{return this['contentManager'][_0x12dd5b(0x72b)](_0x5483da);}catch(_0x241fa3){throw this[_0x12dd5b(0x532)](_0x241fa3,{});}}[_0xe992e3(0x72f)](_0x121beb){const _0x240bb2=_0xe992e3;try{return this[_0x240bb2(0x616)][_0x240bb2(0x72f)](_0x121beb);}catch(_0x33798f){throw this[_0x240bb2(0x532)](_0x33798f,{});}}[_0xe992e3(0x274)](_0x25c39f,_0x1eeb12){const _0x443c64=_0xe992e3;return this[_0x443c64(0x183)][_0x443c64(0x274)](_0x25c39f,_0x1eeb12);}[_0xe992e3(0x6ec)](){const _0x38785a=_0xe992e3;return this[_0x38785a(0x183)][_0x38785a(0x6ec)]();}['getRemoteNodes'](_0x352df4){const _0x2c9680=_0xe992e3;try{return this[_0x2c9680(0x183)][_0x2c9680(0x48e)](_0x352df4);}catch(_0x1c63e5){throw this[_0x2c9680(0x532)](_0x1c63e5,{});}}[_0xe992e3(0x353)](){const _0xa48497=_0xe992e3;return this[_0xa48497(0xa32)][_0xa48497(0x353)]();}[_0xe992e3(0x1a5)](_0x2fd625){const _0x1fadc0=_0xe992e3;return this[_0x1fadc0(0x183)]['isNodeReady'](_0x2fd625);}async[_0xe992e3(0x75a)](_0x428a33){const _0xe459e2=_0xe992e3;try{if(_0xd64180[_0xe459e2(0x991)](_0x3c5ddd['Events'],_0xe459e2(0x4f5),this[_0xe459e2(0x183)]['getLocalId'](),_0x428a33),_0x40b072(_0x428a33,this['nodeManager'][_0xe459e2(0x50f)]()))return void this[_0xe459e2(0xa32)]['handleOutgoingSystemEvents'](_0x428a33);switch(_0x428a33[_0xe459e2(0x8a3)]){case _0x13f595[_0xe459e2(0x52d)]:this[_0xe459e2(0x149)][_0xe459e2(0x5b3)](_0x428a33),this['subscriptionManager'][_0xe459e2(0x5b3)](_0x428a33),this['contentManager'][_0xe459e2(0x5b3)](_0x428a33);break;case _0x13f595['Node']:this['subscriptionManager'][_0xe459e2(0x48b)](_0x428a33),this[_0xe459e2(0xa32)][_0xe459e2(0x48b)](_0x428a33),this[_0xe459e2(0x616)][_0xe459e2(0x48b)](_0x428a33),this[_0xe459e2(0x183)][_0xe459e2(0x48b)](_0x428a33);break;case _0x13f595[_0xe459e2(0x365)]:this[_0xe459e2(0x4a3)][_0xe459e2(0x2a8)](_0x428a33);break;case _0x13f595[_0xe459e2(0x622)]:this[_0xe459e2(0x4a3)][_0xe459e2(0xa00)](_0x428a33);break;case _0x13f595['Stats']:this['detectionManager'][_0xe459e2(0x215)](_0x428a33);break;case _0x13f595['Subscription']:_0x428a33[_0xe459e2(0x2e4)][_0xe459e2(0x689)]!==_0x311c63[_0xe459e2(0x8d5)]?(this[_0xe459e2(0x797)][_0xe459e2(0xaa9)](_0x428a33),this[_0xe459e2(0x616)][_0xe459e2(0xaa9)](_0x428a33)):(this[_0xe459e2(0x616)]['handleSubscriptionSystemEvents'](_0x428a33),this[_0xe459e2(0x797)][_0xe459e2(0xaa9)](_0x428a33));break;case _0x13f595['PeerConnection']:await this[_0xe459e2(0xa32)][_0xe459e2(0x408)](_0x428a33),this[_0xe459e2(0x149)][_0xe459e2(0x408)](_0x428a33),this['nodeManager']['handlePeerConnectionSystemEvents'](_0x428a33),this[_0xe459e2(0x797)][_0xe459e2(0x408)](_0x428a33);}}catch(_0x3a9f78){throw _0xd64180['debug']('handleSystemEvents',_0x3a9f78),this[_0xe459e2(0x532)](_0x3a9f78,{});}}[_0xe992e3(0x532)](_0x2c0049,_0xa5517d){const _0x18ba8a=_0xe992e3;if(!(_0x2c0049 instanceof _0x5e72c7)){if(_0x2c0049 instanceof _0x3748ee)throw _0x2c0049;if(!(_0x2c0049 instanceof Error))throw new _0x3748ee(_0x2a0ddc[_0x18ba8a(0x646)],_0x18ba8a(0x501)+_0x2c0049);if(!(_0x2c0049 instanceof _0xd907de))throw new _0x3748ee(_0x2a0ddc[_0x18ba8a(0x646)],_0x18ba8a(0x375)+_0x2c0049['message']);switch(_0x2c0049['code']){case _0xd907de[_0x18ba8a(0x386)][_0x18ba8a(0x98e)]:case _0xd907de['codes']['MissingRemoteConnection']:case _0xd907de[_0x18ba8a(0x386)]['PeerConnectionInvalidDestination']:case _0xd907de[_0x18ba8a(0x386)]['ConnectionNotinitialized']:case _0xd907de['codes'][_0x18ba8a(0x9bb)]:case _0xd907de[_0x18ba8a(0x386)]['InvalidDataChannel']:case _0xd907de[_0x18ba8a(0x386)][_0x18ba8a(0x325)]:case _0xd907de['codes']['InvalidSubscriber']:case _0xd907de[_0x18ba8a(0x386)]['SubscriptionRequestDoesNotExist']:case _0xd907de[_0x18ba8a(0x386)][_0x18ba8a(0x8f0)]:case _0xd907de['codes'][_0x18ba8a(0x7b6)]:case _0xd907de['codes']['InvalidSubscription']:}throw _0xd64180[_0x18ba8a(0x77b)](_0x18ba8a(0xa03)+_0x2c0049[_0x18ba8a(0x337)],{'clusterId':this['clusterId'],'nodeId':this[_0x18ba8a(0x71d)][_0x18ba8a(0x686)](),'nodeType':this[_0x18ba8a(0x71d)][_0x18ba8a(0x689)]},_0x2c0049),new _0x3748ee(_0x2a0ddc[_0x18ba8a(0x646)],_0x18ba8a(0x58d)+_0x2c0049[_0x18ba8a(0x337)]);}}[_0xe992e3(0x5b1)](){const _0x13063a=_0xe992e3;return{'mediator':this,'vendorId':this[_0x13063a(0x3ea)],'clusterId':this[_0x13063a(0x5e2)],'localNode':this[_0x13063a(0x71d)]};}[_0xe992e3(0x8a4)](){const _0x49c722=_0xe992e3;return this[_0x49c722(0x587)][_0x49c722(0x60c)](_0x38d14b=>{const _0x498c81=_0x49c722,_0x6de77b=_0x3bc0db(_0x38d14b,this[_0x498c81(0x71d)][_0x498c81(0x686)]()),_0x19e663=_0x38d14b[_0x498c81(0x8a3)]===_0x13f595[_0x498c81(0x8b7)]||_0x38d14b[_0x498c81(0x8a3)]===_0x13f595[_0x498c81(0x90d)]&&_0x38d14b[_0x498c81(0x2e4)][_0x498c81(0x689)]===_0x5b41e8[_0x498c81(0x8b7)]?_0x3c5ddd[_0x498c81(0x5d5)]:_0x3c5ddd['System'];_0xd64180['logRaw'](_0x19e663,_0x38d14b[_0x498c81(0x90c)]+_0x498c81(0x66b)+_0x6de77b,_0x38d14b),this[_0x498c81(0x75a)](_0x38d14b)[_0x498c81(0x97a)](_0x5c416f=>{const _0x1f9f17=_0x498c81;console[_0x1f9f17(0x77b)](_0x5c416f);});});}async[_0xe992e3(0x993)](_0x559429){const _0x313f44=_0xe992e3,{timingLogger:_0x189621,logger:_0x592877,logBeforeSync:_0x3981a2,logAfterSync:_0x5b233c}=function(_0x3adb12,_0x570212){const _0x17032e=a0_0xca1a;if(!_0xd64180[_0x17032e(0x1df)](_0x570212))return _0xd64180[_0x17032e(0x5f5)](_0x17032e(0x9e8)+_0x570212),{..._0xe93484(_0x3adb12,_0x570212),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x13f893,logger:_0x188fdb}=_0xe93484(_0x3adb12,_0x570212);let _0x1fd9e5=0x0;return _0x1fd9e5=Date[_0x17032e(0x559)](),{'syncStartTime':_0x1fd9e5,'timingLogger':_0x13f893,'logger':_0x188fdb,'logBeforeSync':()=>(_0x8afefe(_0x570212,'Before\x20Synchronization'),_0x13f893[_0x17032e(0x559)]()),'logAfterSync':(_0x15b825,_0x1615e6)=>{const _0x533b07=_0x17032e,_0x5f0370=Date[_0x533b07(0x559)]();_0x8afefe(_0x570212,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x1615e6);const _0x3101d0=(_0x5f0370-_0x1fd9e5)/0x3e8,_0x2b5241=(_0x5f0370-_0x15b825)/0x3e8;_0xd64180[_0x533b07(0x991)](_0x570212,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x3adb12,_0x533b07(0x698)+_0x3101d0[_0x533b07(0x259)](0x2)+_0x533b07(0x4a6),_0x533b07(0x1bf)+_0x2b5241['toFixed'](0x3)+_0x533b07(0x4a6),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x5f0370-_0x1fd9e5)/0x3e8-_0x2b5241)['toFixed'](0x2)+_0x533b07(0x4a6));}};}(_0x559429['getLabel'](),_0x3c5ddd['KeyValueDatabase']);_0x592877[_0x313f44(0x991)](_0x313f44(0x193));const _0x5303b5=this[_0x313f44(0x183)]['getAncestorIds']()[_0x313f44(0x756)]>0x0;if(_0x5303b5){_0x592877[_0x313f44(0x991)](_0x313f44(0x476),()=>this['nodeManager'][_0x313f44(0x887)]()),_0x189621[_0x313f44(0x4e1)](),await Promise['all'](this[_0x313f44(0x183)][_0x313f44(0x887)]()[_0x313f44(0x7db)](async _0x3eff5f=>await this[_0x313f44(0x183)][_0x313f44(0x1a5)](_0x3eff5f)))['catch'](_0x2982c8=>_0xd64180[_0x313f44(0x372)](_0x313f44(0x27c),{'nodeId':this['localNode'][_0x313f44(0x686)](),'nodeType':this[_0x313f44(0x71d)][_0x313f44(0x689)]}));const _0x2e72b1=_0x592877[_0x313f44(0xa8c)](()=>this[_0x313f44(0x183)][_0x313f44(0x887)](),[]);_0x189621[_0x313f44(0x72a)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x2e72b1+_0x313f44(0x510));}_0x5b233c(_0x3981a2(),await _0x559429[_0x313f44(0x6a5)](_0x5303b5,async()=>{const _0x28c5fc=_0x313f44;_0x189621[_0x28c5fc(0x4e1)](),await this['nodeManager']['isReady'](),_0x189621[_0x28c5fc(0x72a)](_0x28c5fc(0x181)),_0x559429[_0x28c5fc(0x6a5)](!0x0,()=>{const _0x35284a=_0x28c5fc;_0x592877[_0x35284a(0x991)](_0x35284a(0x310)),_0x559429[_0x35284a(0x6a5)](!0x1);},!0x0);}));}}class _0x17fd35{[_0xe992e3(0x3ea)];[_0xe992e3(0x5e2)];['authNode'];[_0xe992e3(0x1d0)];[_0xe992e3(0x499)];constructor(_0xfd974b,_0x2b1e1b,_0x475dcd,_0x3d5466,_0x32ebbb,_0x4b68b2,_0x27138b=new _0x1a329f()){const _0x24d734=_0xe992e3;this[_0x24d734(0x3ea)]=_0xfd974b,this[_0x24d734(0x5e2)]=_0x2b1e1b,this[_0x24d734(0x5ce)]=_0x475dcd,this[_0x24d734(0x1d0)]=_0x27138b,this[_0x24d734(0x499)]=new _0x4d9e09(this['vendorId'],this[_0x24d734(0x5e2)],_0x475dcd,_0x3d5466,_0x32ebbb,_0x4b68b2,this);}async['join'](){const _0x3fe064=_0xe992e3;await this['orchestrator'][_0x3fe064(0x4af)](),this[_0x3fe064(0x5ce)][_0x3fe064(0x689)]===_0x981fb5[_0x3fe064(0x148)][_0x3fe064(0x741)]&&this[_0x3fe064(0x5ce)][_0x3fe064(0x3c3)](this['clusterId'],_0x4383fd=>{const _0x1d4356=_0x3fe064;this[_0x1d4356(0x499)]['updateUser'](_0x4383fd);});}[_0xe992e3(0x6b7)](_0x4ba204={}){const _0x41ba71=_0xe992e3;this['orchestrator']['close'](_0x4ba204),this[_0x41ba71(0x5ce)]['type']===_0x981fb5[_0x41ba71(0x148)][_0x41ba71(0x741)]&&this[_0x41ba71(0x5ce)]['unregisterCluster'](this[_0x41ba71(0x5e2)]),this['emit'](_0x41ba71(0x59b),void 0x0);}[_0xe992e3(0x926)](_0x4a4cda){const _0x3db3a7=_0xe992e3,_0x3d1888=this[_0x3db3a7(0x499)]['openPubSubTopic'](_0x4a4cda);return{'getName':_0x3d1888[_0x3db3a7(0x5f7)][_0x3db3a7(0x8b6)](_0x3d1888),'getOwnerId':_0x3d1888[_0x3db3a7(0x4a8)]['bind'](_0x3d1888),'getContentType':_0x3d1888[_0x3db3a7(0x437)]['bind'](_0x3d1888),'publish':_0x3d1888[_0x3db3a7(0x246)]['bind'](_0x3d1888),'subscribe':_0x3d1888[_0x3db3a7(0x60c)][_0x3db3a7(0x8b6)](_0x3d1888),'unsubscribe':_0x3d1888[_0x3db3a7(0x4c0)][_0x3db3a7(0x8b6)](_0x3d1888),'close':_0x3d1888['close'][_0x3db3a7(0x8b6)](_0x3d1888)};}async[_0xe992e3(0x573)](_0x49bf32,_0x352528){const _0x55bf6b=_0xe992e3,_0x3f4585=await this[_0x55bf6b(0x499)]['openObjectStoreBucket'](_0x49bf32,_0x352528);return{'getName':_0x3f4585['getName'][_0x55bf6b(0x8b6)](_0x3f4585),'getOwnerId':_0x3f4585[_0x55bf6b(0x4a8)][_0x55bf6b(0x8b6)](_0x3f4585),'getContentType':_0x3f4585['getContentType'][_0x55bf6b(0x8b6)](_0x3f4585),'publish':_0x3f4585['publish']['bind'](_0x3f4585),'unpublish':_0x3f4585[_0x55bf6b(0x64d)][_0x55bf6b(0x8b6)](_0x3f4585),'get':_0x3f4585[_0x55bf6b(0x6ab)][_0x55bf6b(0x8b6)](_0x3f4585),'list':_0x3f4585['list'][_0x55bf6b(0x8b6)](_0x3f4585),'getSize':_0x3f4585[_0x55bf6b(0x257)][_0x55bf6b(0x8b6)](_0x3f4585),'subscribe':_0x3f4585[_0x55bf6b(0x60c)][_0x55bf6b(0x8b6)](_0x3f4585),'unsubscribe':_0x3f4585[_0x55bf6b(0x4c0)]['bind'](_0x3f4585),'close':_0x3f4585['close'][_0x55bf6b(0x8b6)](_0x3f4585)};}async[_0xe992e3(0x2a3)](_0x5c003c,_0x49c969){const _0x5cfe22=_0xe992e3,_0x1e9e89=await this[_0x5cfe22(0x499)][_0x5cfe22(0x2a3)](_0x5c003c,_0x49c969);return{'getName':_0x1e9e89[_0x5cfe22(0x5f7)][_0x5cfe22(0x8b6)](_0x1e9e89),'getOwnerId':_0x1e9e89[_0x5cfe22(0x4a8)]['bind'](_0x1e9e89),'getContentType':_0x1e9e89[_0x5cfe22(0x437)][_0x5cfe22(0x8b6)](_0x1e9e89),'close':_0x1e9e89[_0x5cfe22(0x1c9)][_0x5cfe22(0x8b6)](_0x1e9e89),'get':_0x1e9e89[_0x5cfe22(0x6ab)][_0x5cfe22(0x8b6)](_0x1e9e89),'list':_0x1e9e89[_0x5cfe22(0x135)]['bind'](_0x1e9e89),'subscribe':_0x1e9e89['subscribe'][_0x5cfe22(0x8b6)](_0x1e9e89),'unsubscribe':_0x1e9e89['unsubscribe'][_0x5cfe22(0x8b6)](_0x1e9e89)};}async[_0xe992e3(0x260)](_0x169672,_0x74b089,_0x2f6678){const _0x5aba59=_0xe992e3,_0xaa67d0=await this[_0x5aba59(0x499)]['openKeyValueDatabase'](_0x169672,_0x74b089,_0x2f6678);return{'getName':_0xaa67d0[_0x5aba59(0x5f7)][_0x5aba59(0x8b6)](_0xaa67d0),'getOwnerId':_0xaa67d0['getOwnerId'][_0x5aba59(0x8b6)](_0xaa67d0),'getContentType':_0xaa67d0[_0x5aba59(0x437)][_0x5aba59(0x8b6)](_0xaa67d0),'getTable':_0xaa67d0[_0x5aba59(0x9df)][_0x5aba59(0x8b6)](_0xaa67d0),'subscribe':_0xaa67d0[_0x5aba59(0x60c)][_0x5aba59(0x8b6)](_0xaa67d0),'unsubscribe':_0xaa67d0[_0x5aba59(0x4c0)][_0x5aba59(0x8b6)](_0xaa67d0),'close':_0xaa67d0[_0x5aba59(0x1c9)][_0x5aba59(0x8b6)](_0xaa67d0)};}async['openJobDispatcher'](_0x519e11){const _0x23f325=_0xe992e3,_0x325ae0=await this[_0x23f325(0x499)][_0x23f325(0x6a6)](_0x519e11);return{'getName':_0x325ae0['getName'][_0x23f325(0x8b6)](_0x325ae0),'getOwnerId':_0x325ae0[_0x23f325(0x4a8)][_0x23f325(0x8b6)](_0x325ae0),'getContentType':_0x325ae0['getContentType'][_0x23f325(0x8b6)](_0x325ae0),'createJob':_0x325ae0[_0x23f325(0x93b)]['bind'](_0x325ae0),'getJob':_0x325ae0['getJob'][_0x23f325(0x8b6)](_0x325ae0),'getJobs':_0x325ae0[_0x23f325(0x7a5)][_0x23f325(0x8b6)](_0x325ae0),'close':_0x325ae0[_0x23f325(0x1c9)][_0x23f325(0x8b6)](_0x325ae0)};}async[_0xe992e3(0x439)](_0x355ce6){const _0x42a771=_0xe992e3,_0x23fb7b=await this['orchestrator'][_0x42a771(0x439)](_0x355ce6);return{'close':_0x23fb7b[_0x42a771(0x1c9)]['bind'](_0x23fb7b)};}async[_0xe992e3(0xa5a)](_0x46a5c5){const _0x2d7e9=_0xe992e3,_0x597329=await this[_0x2d7e9(0x499)]['openGenerativeAIContext'](_0x46a5c5);return{'createAIJob':_0x597329[_0x2d7e9(0x5b2)][_0x2d7e9(0x8b6)](_0x597329),'getDataBucketIds':_0x597329[_0x2d7e9(0x658)][_0x2d7e9(0x8b6)](_0x597329),'close':_0x597329['close'][_0x2d7e9(0x8b6)](_0x597329)};}async['openGenerativeAIContextStandalone'](_0x2020ed){const _0x3ff3ac=_0xe992e3,_0x5ebe7a=await this[_0x3ff3ac(0x499)][_0x3ff3ac(0x1c3)](_0x2020ed);return{'createAIJob':_0x5ebe7a['createAIJob'][_0x3ff3ac(0x8b6)](_0x5ebe7a),'getDataBucketIds':_0x5ebe7a[_0x3ff3ac(0x658)]['bind'](_0x5ebe7a),'close':_0x5ebe7a['close'][_0x3ff3ac(0x8b6)](_0x5ebe7a)};}async[_0xe992e3(0x4b5)](_0x1aa542){const _0x391beb=_0xe992e3,_0x41d4d6=await this[_0x391beb(0x499)][_0x391beb(0x4b5)](_0x1aa542);return{'close':_0x41d4d6['close']['bind'](_0x41d4d6)};}[_0xe992e3(0x461)](_0x39cc56){const _0x538892=_0xe992e3,_0x3a3f6c=this[_0x538892(0x499)][_0x538892(0x461)](_0x39cc56);return{'getName':_0x3a3f6c[_0x538892(0x5f7)][_0x538892(0x8b6)](_0x3a3f6c),'getOwnerId':_0x3a3f6c['getOwnerId'][_0x538892(0x8b6)](_0x3a3f6c),'getContentType':_0x3a3f6c[_0x538892(0x437)][_0x538892(0x8b6)](_0x3a3f6c),'addNode':_0x3a3f6c[_0x538892(0x2cd)][_0x538892(0x8b6)](_0x3a3f6c),'addEdge':_0x3a3f6c[_0x538892(0x5df)][_0x538892(0x8b6)](_0x3a3f6c),'getContent':_0x3a3f6c[_0x538892(0x645)][_0x538892(0x8b6)](_0x3a3f6c),'remove':_0x3a3f6c['remove']['bind'](_0x3a3f6c),'saveToDisk':_0x3a3f6c[_0x538892(0x894)][_0x538892(0x8b6)](_0x3a3f6c),'loadFromDisk':_0x3a3f6c['loadFromDisk'][_0x538892(0x8b6)](_0x3a3f6c),'close':_0x3a3f6c[_0x538892(0x1c9)][_0x538892(0x8b6)](_0x3a3f6c)};}[_0xe992e3(0x358)](_0x3ca34f){const _0x21f918=_0xe992e3,_0x2d392b=this[_0x21f918(0x499)][_0x21f918(0x358)](_0x3ca34f);return{'getName':_0x2d392b['getName']['bind'](_0x2d392b),'getOwnerId':_0x2d392b[_0x21f918(0x4a8)][_0x21f918(0x8b6)](_0x2d392b),'getContentType':_0x2d392b[_0x21f918(0x437)][_0x21f918(0x8b6)](_0x2d392b),'search':_0x2d392b[_0x21f918(0x74b)][_0x21f918(0x8b6)](_0x2d392b),'insert':_0x2d392b[_0x21f918(0x98a)][_0x21f918(0x8b6)](_0x2d392b),'remove':_0x2d392b[_0x21f918(0x730)][_0x21f918(0x8b6)](_0x2d392b),'saveToDisk':_0x2d392b[_0x21f918(0x894)][_0x21f918(0x8b6)](_0x2d392b),'loadFromDisk':_0x2d392b['loadFromDisk'][_0x21f918(0x8b6)](_0x2d392b),'close':_0x2d392b[_0x21f918(0x1c9)][_0x21f918(0x8b6)](_0x2d392b)};}[_0xe992e3(0x2de)](_0x4daf60){const _0x440073=_0xe992e3;return this[_0x440073(0x499)][_0x440073(0x2de)](_0x4daf60)[_0x440073(0x7db)](_0x2429ec=>({'getName':_0x2429ec[_0x440073(0x5f7)]['bind'](_0x2429ec),'getOwnerId':_0x2429ec['getOwnerId'][_0x440073(0x8b6)](_0x2429ec),'getContentType':_0x2429ec[_0x440073(0x437)]['bind'](_0x2429ec),'publish':_0x2429ec[_0x440073(0x246)][_0x440073(0x8b6)](_0x2429ec),'subscribe':_0x2429ec[_0x440073(0x60c)]['bind'](_0x2429ec),'unsubscribe':_0x2429ec['unsubscribe'][_0x440073(0x8b6)](_0x2429ec),'close':_0x2429ec[_0x440073(0x1c9)]['bind'](_0x2429ec)}));}[_0xe992e3(0x2f6)](_0x1c8cc7){const _0x441815=_0xe992e3;return this[_0x441815(0x499)][_0x441815(0x2f6)](_0x1c8cc7)[_0x441815(0x7db)](_0x3fa891=>({'getName':_0x3fa891['getName']['bind'](_0x3fa891),'getOwnerId':_0x3fa891['getOwnerId'][_0x441815(0x8b6)](_0x3fa891),'getContentType':_0x3fa891[_0x441815(0x437)][_0x441815(0x8b6)](_0x3fa891),'publish':_0x3fa891['publish'][_0x441815(0x8b6)](_0x3fa891),'unpublish':_0x3fa891[_0x441815(0x64d)][_0x441815(0x8b6)](_0x3fa891),'get':_0x3fa891[_0x441815(0x6ab)][_0x441815(0x8b6)](_0x3fa891),'list':_0x3fa891[_0x441815(0x135)][_0x441815(0x8b6)](_0x3fa891),'getSize':_0x3fa891[_0x441815(0x257)]['bind'](_0x3fa891),'subscribe':_0x3fa891['subscribe'][_0x441815(0x8b6)](_0x3fa891),'unsubscribe':_0x3fa891[_0x441815(0x4c0)][_0x441815(0x8b6)](_0x3fa891),'close':_0x3fa891['close'][_0x441815(0x8b6)](_0x3fa891)}));}[_0xe992e3(0x3b6)](_0x101311){const _0x4509fb=_0xe992e3;return this[_0x4509fb(0x499)][_0x4509fb(0x3b6)](_0x101311)[_0x4509fb(0x7db)](_0x2ffd77=>({'getName':_0x2ffd77[_0x4509fb(0x5f7)][_0x4509fb(0x8b6)](_0x2ffd77),'getOwnerId':_0x2ffd77[_0x4509fb(0x4a8)][_0x4509fb(0x8b6)](_0x2ffd77),'getContentType':_0x2ffd77['getContentType'][_0x4509fb(0x8b6)](_0x2ffd77),'close':_0x2ffd77[_0x4509fb(0x1c9)][_0x4509fb(0x8b6)](_0x2ffd77),'get':_0x2ffd77[_0x4509fb(0x6ab)][_0x4509fb(0x8b6)](_0x2ffd77),'list':_0x2ffd77[_0x4509fb(0x135)][_0x4509fb(0x8b6)](_0x2ffd77),'subscribe':_0x2ffd77['subscribe'][_0x4509fb(0x8b6)](_0x2ffd77),'unsubscribe':_0x2ffd77[_0x4509fb(0x4c0)][_0x4509fb(0x8b6)](_0x2ffd77)}));}[_0xe992e3(0x6ac)](_0x5395e1){const _0x5d06de=_0xe992e3;return this[_0x5d06de(0x499)]['getKeyValueDatabases'](_0x5395e1)[_0x5d06de(0x7db)](_0x2ff245=>({'getName':_0x2ff245[_0x5d06de(0x5f7)]['bind'](_0x2ff245),'getOwnerId':_0x2ff245['getOwnerId'][_0x5d06de(0x8b6)](_0x2ff245),'getContentType':_0x2ff245[_0x5d06de(0x437)]['bind'](_0x2ff245),'getTable':_0x2ff245['getTable'][_0x5d06de(0x8b6)](_0x2ff245),'subscribe':_0x2ff245[_0x5d06de(0x60c)][_0x5d06de(0x8b6)](_0x2ff245),'unsubscribe':_0x2ff245[_0x5d06de(0x4c0)][_0x5d06de(0x8b6)](_0x2ff245),'close':_0x2ff245[_0x5d06de(0x1c9)][_0x5d06de(0x8b6)](_0x2ff245)}));}['getGenerativeAIContexts'](_0x16f1a2){const _0x2d98fa=_0xe992e3;return this[_0x2d98fa(0x499)]['getGenerativeAIContexts'](_0x16f1a2)[_0x2d98fa(0x7db)](_0x428a51=>({'createAIJob':_0x428a51[_0x2d98fa(0x5b2)][_0x2d98fa(0x8b6)](_0x428a51),'getDataBucketIds':_0x428a51[_0x2d98fa(0x658)]['bind'](_0x428a51),'close':_0x428a51[_0x2d98fa(0x1c9)][_0x2d98fa(0x8b6)](_0x428a51)}));}[_0xe992e3(0xa70)](_0xa9d31b){const _0x54d648=_0xe992e3;return this['orchestrator'][_0x54d648(0xa70)](_0xa9d31b)[_0x54d648(0x7db)](_0x2f5bad=>({'createAIJob':_0x2f5bad[_0x54d648(0x5b2)][_0x54d648(0x8b6)](_0x2f5bad),'getDataBucketIds':_0x2f5bad[_0x54d648(0x658)][_0x54d648(0x8b6)](_0x2f5bad),'close':_0x2f5bad[_0x54d648(0x1c9)]['bind'](_0x2f5bad)}));}['getGenerativeAIWorkers'](_0x1576a8){const _0x51c83d=_0xe992e3;return this[_0x51c83d(0x499)][_0x51c83d(0x8d9)](_0x1576a8)['map'](_0x4e098e=>({'close':_0x4e098e[_0x51c83d(0x1c9)]['bind'](_0x4e098e)}));}[_0xe992e3(0x6a0)](_0x455589,_0x2888c5){const _0x3b4f2d=_0xe992e3,_0x3c79a3=this[_0x3b4f2d(0x499)][_0x3b4f2d(0x491)](_0x455589,_0x2888c5);return{'getLabel':_0x3c79a3['getLabel'][_0x3b4f2d(0x8b6)](_0x3c79a3),'getOwnerId':_0x3c79a3[_0x3b4f2d(0x4a8)]['bind'](_0x3c79a3),'getContentType':_0x3c79a3['getContentType']['bind'](_0x3c79a3),'getMediaStream':_0x3c79a3['getMediaStream'][_0x3b4f2d(0x8b6)](_0x3c79a3),'setPriority':_0x3c79a3[_0x3b4f2d(0x14c)][_0x3b4f2d(0x8b6)](_0x3c79a3),'unpublish':_0x3c79a3[_0x3b4f2d(0x64d)]['bind'](_0x3c79a3)};}[_0xe992e3(0xa3f)](_0x5d6d17,_0x4ba303){const _0x446496=_0xe992e3,_0x3a9142=this['orchestrator'][_0x446496(0x851)](_0x5d6d17,_0x4ba303);return{'getLabel':_0x3a9142['getLabel'][_0x446496(0x8b6)](_0x3a9142),'getOwnerId':_0x3a9142[_0x446496(0x4a8)][_0x446496(0x8b6)](_0x3a9142),'getContentType':_0x3a9142['getContentType']['bind'](_0x3a9142),'setPriority':_0x3a9142[_0x446496(0x14c)][_0x446496(0x8b6)](_0x3a9142),'unpublish':_0x3a9142[_0x446496(0x64d)][_0x446496(0x8b6)](_0x3a9142),'getMediaStream':_0x3a9142[_0x446496(0x870)][_0x446496(0x8b6)](_0x3a9142),'addTrack':_0x3a9142[_0x446496(0x14d)][_0x446496(0x8b6)](_0x3a9142),'removeTrack':_0x3a9142[_0x446496(0x536)][_0x446496(0x8b6)](_0x3a9142),'replaceTrack':_0x3a9142[_0x446496(0x749)]['bind'](_0x3a9142),'setTransformations':_0x3a9142[_0x446496(0x512)][_0x446496(0x8b6)](_0x3a9142)};}[_0xe992e3(0x7a3)](_0x1d491f){const _0x6a685d=_0xe992e3;return this[_0x6a685d(0x499)][_0x6a685d(0x7a3)](_0x1d491f)['map'](_0x2e5398=>({'getLabel':_0x2e5398[_0x6a685d(0x270)][_0x6a685d(0x8b6)](_0x2e5398),'getOwnerId':_0x2e5398['getOwnerId'][_0x6a685d(0x8b6)](_0x2e5398),'getContentType':_0x2e5398[_0x6a685d(0x437)][_0x6a685d(0x8b6)](_0x2e5398),'getMediaStream':_0x2e5398['getMediaStream']['bind'](_0x2e5398),'setPriority':_0x2e5398[_0x6a685d(0x14c)][_0x6a685d(0x8b6)](_0x2e5398),'unpublish':_0x2e5398[_0x6a685d(0x64d)][_0x6a685d(0x8b6)](_0x2e5398)}));}[_0xe992e3(0x72b)](_0x2e4e17){const _0x583744=_0xe992e3;return this['orchestrator'][_0x583744(0x72b)](_0x2e4e17)[_0x583744(0x7db)](_0x1440d2=>({'getLabel':_0x1440d2[_0x583744(0x270)]['bind'](_0x1440d2),'getOwnerId':_0x1440d2[_0x583744(0x4a8)][_0x583744(0x8b6)](_0x1440d2),'getContentType':_0x1440d2[_0x583744(0x437)][_0x583744(0x8b6)](_0x1440d2),'getMediaStream':_0x1440d2[_0x583744(0x870)][_0x583744(0x8b6)](_0x1440d2),'subscribe':_0x1440d2['subscribe'][_0x583744(0x8b6)](_0x1440d2),'unsubscribe':_0x1440d2['unsubscribe']['bind'](_0x1440d2),'getAvailableTrackKinds':_0x1440d2[_0x583744(0xa78)][_0x583744(0x8b6)](_0x1440d2),'update':_0x1440d2['update']['bind'](_0x1440d2),'onProviderChange':_0x1440d2[_0x583744(0x62f)]['bind'](_0x1440d2)}));}[_0xe992e3(0x2c1)](_0xed24ee){const _0x411065=_0xe992e3;return this['orchestrator']['getGraphDatabases'](_0xed24ee)[_0x411065(0x7db)](_0x5ec50f=>({'getName':_0x5ec50f[_0x411065(0x5f7)][_0x411065(0x8b6)](_0x5ec50f),'getOwnerId':_0x5ec50f[_0x411065(0x4a8)][_0x411065(0x8b6)](_0x5ec50f),'getContentType':_0x5ec50f[_0x411065(0x437)]['bind'](_0x5ec50f),'addNode':_0x5ec50f[_0x411065(0x2cd)]['bind'](_0x5ec50f),'addEdge':_0x5ec50f[_0x411065(0x5df)][_0x411065(0x8b6)](_0x5ec50f),'getContent':_0x5ec50f[_0x411065(0x645)][_0x411065(0x8b6)](_0x5ec50f),'remove':_0x5ec50f[_0x411065(0x730)][_0x411065(0x8b6)](_0x5ec50f),'saveToDisk':_0x5ec50f[_0x411065(0x894)][_0x411065(0x8b6)](_0x5ec50f),'loadFromDisk':_0x5ec50f[_0x411065(0x42c)][_0x411065(0x8b6)](_0x5ec50f),'close':_0x5ec50f[_0x411065(0x1c9)][_0x411065(0x8b6)](_0x5ec50f)}));}[_0xe992e3(0x72f)](_0x4c164f){const _0x2606f2=_0xe992e3;return this[_0x2606f2(0x499)][_0x2606f2(0x72f)](_0x4c164f)[_0x2606f2(0x7db)](_0x22ff60=>({'getName':_0x22ff60['getName'][_0x2606f2(0x8b6)](_0x22ff60),'getOwnerId':_0x22ff60[_0x2606f2(0x4a8)][_0x2606f2(0x8b6)](_0x22ff60),'getContentType':_0x22ff60[_0x2606f2(0x437)][_0x2606f2(0x8b6)](_0x22ff60),'search':_0x22ff60[_0x2606f2(0x74b)][_0x2606f2(0x8b6)](_0x22ff60),'insert':_0x22ff60[_0x2606f2(0x98a)]['bind'](_0x22ff60),'remove':_0x22ff60[_0x2606f2(0x730)][_0x2606f2(0x8b6)](_0x22ff60),'saveToDisk':_0x22ff60[_0x2606f2(0x894)][_0x2606f2(0x8b6)](_0x22ff60),'loadFromDisk':_0x22ff60['loadFromDisk']['bind'](_0x22ff60),'close':_0x22ff60['close']['bind'](_0x22ff60)}));}[_0xe992e3(0x6ec)](){const _0x17c149=_0xe992e3,_0xc3eb30=this[_0x17c149(0x499)][_0x17c149(0x6ec)]();switch(_0xc3eb30[_0x17c149(0x689)]){case _0x981fb5[_0x17c149(0x148)]['User']:return{'type':_0x981fb5[_0x17c149(0x148)][_0x17c149(0x741)],'getId':_0xc3eb30[_0x17c149(0x686)][_0x17c149(0x8b6)](_0xc3eb30),'getDisplayName':_0xc3eb30['getDisplayName'][_0x17c149(0x8b6)](_0xc3eb30),'getEmail':_0xc3eb30[_0x17c149(0xa80)]['bind'](_0xc3eb30),'getRemoteConnections':_0xc3eb30['getRemoteConnections'][_0x17c149(0x8b6)](_0xc3eb30),'setDisplayName':_0xc3eb30[_0x17c149(0x53a)]['bind'](_0xc3eb30),'setEmail':_0xc3eb30[_0x17c149(0x8b2)][_0x17c149(0x8b6)](_0xc3eb30)};case _0x981fb5[_0x17c149(0x148)][_0x17c149(0x2a4)]:default:return{'type':_0x981fb5[_0x17c149(0x148)]['Agent'],'getId':_0xc3eb30[_0x17c149(0x686)][_0x17c149(0x8b6)](_0xc3eb30),'getRemoteConnections':_0xc3eb30[_0x17c149(0x640)]['bind'](_0xc3eb30)};}}[_0xe992e3(0x48e)](_0x138ccc){const _0x329620=_0xe992e3;return this[_0x329620(0x499)][_0x329620(0x48e)](_0x138ccc)[_0x329620(0x7db)](_0x50a242=>{const _0x125a91=_0x329620;switch(_0x50a242['type']){case _0x981fb5[_0x125a91(0x148)][_0x125a91(0x741)]:return{'type':_0x981fb5[_0x125a91(0x148)][_0x125a91(0x741)],'getId':_0x50a242[_0x125a91(0x686)][_0x125a91(0x8b6)](_0x50a242),'getDisplayName':_0x50a242['getDisplayName']['bind'](_0x50a242),'getEmail':_0x50a242[_0x125a91(0xa80)]['bind'](_0x50a242),'getRemoteConnections':_0x50a242[_0x125a91(0x640)][_0x125a91(0x8b6)](_0x50a242)};case _0x981fb5['NodeType'][_0x125a91(0x2a4)]:return{'type':_0x981fb5['NodeType'][_0x125a91(0x2a4)],'getId':_0x50a242['getId'][_0x125a91(0x8b6)](_0x50a242),'getRemoteConnections':_0x50a242[_0x125a91(0x640)]['bind'](_0x50a242)};default:throw new _0x3748ee(_0x2a0ddc[_0x125a91(0x47d)],_0x125a91(0x526));}});}['on']=(..._0x551e6e)=>{const _0x398451=_0xe992e3;this[_0x398451(0x1d0)]['on'](..._0x551e6e);};['emit']=(..._0x1941b8)=>this[_0xe992e3(0x1d0)][_0xe992e3(0x5c8)](..._0x1941b8);[_0xe992e3(0x290)](..._0x5316eb){const _0x168db3=_0xe992e3;this[_0x168db3(0x1d0)]['off'](..._0x5316eb);}}class _0x5a3081{['id'];['displayName'];['email'];['type']=_0x981fb5[_0xe992e3(0x148)][_0xe992e3(0x741)];[_0xe992e3(0x25f)]=new Map();[_0xe992e3(0x844)]=_0x5c724d();constructor(_0x26f647,_0x26662c,_0xd05ec){const _0x18cd98=_0xe992e3;this['id']=_0x26f647,this[_0x18cd98(0x57a)]=_0x26662c,this[_0x18cd98(0x791)]=_0xd05ec;}['getId'](){return this['id'];}[_0xe992e3(0x2bd)](){const _0x2a1f86=_0xe992e3;return this[_0x2a1f86(0x57a)];}[_0xe992e3(0xa80)](){const _0x362378=_0xe992e3;return this[_0x362378(0x791)];}[_0xe992e3(0x53a)](_0x310e47){const _0x3f850a=_0xe992e3;this[_0x3f850a(0x57a)]!==_0x310e47&&(this[_0x3f850a(0x57a)]=_0x310e47,this[_0x3f850a(0x844)][_0x3f850a(0x246)](this));}[_0xe992e3(0x8b2)](_0x2b6bff){const _0x2ed447=_0xe992e3;this[_0x2ed447(0x791)]!==_0x2b6bff&&(this[_0x2ed447(0x791)]=_0x2b6bff,this[_0x2ed447(0x844)]['publish'](this));}[_0xe992e3(0x3c3)](_0x8e6cc7,_0x1bb108){const _0x7f416e=_0xe992e3;if(this['joinedClusters'][_0x7f416e(0x64b)](_0x8e6cc7))return;const _0x42a414=this[_0x7f416e(0x844)][_0x7f416e(0x60c)](_0x1bb108);this[_0x7f416e(0x25f)][_0x7f416e(0x888)](_0x8e6cc7,_0x42a414);}[_0xe992e3(0x946)](_0x550f40){const _0x3625ce=_0xe992e3;if(!this[_0x3625ce(0x25f)][_0x3625ce(0x64b)](_0x550f40))return;const _0x416091=this[_0x3625ce(0x25f)][_0x3625ce(0x6ab)](_0x550f40);_0x416091&&_0x416091(),this[_0x3625ce(0x25f)]['delete'](_0x550f40);}}class _0x3f3f39{['vendorId'];[_0xe992e3(0x837)];constructor(_0x1ce43b){const _0x238a41=_0xe992e3;this[_0x238a41(0x3ea)]=_0x1ce43b;}async[_0xe992e3(0x393)](_0x36b94d){const _0x407126=_0xe992e3,_0x3691fa=await(0x0,_0x10e1b1[_0x407126(0x71e)])(_0x57cb7d['getFunctions'](),_0x407126(0x178))({'uid':_0x407126(0x421)+this[_0x407126(0x3ea)]+_0x407126(0x421)+_0x36b94d['id']}),_0x4636af=await(0x0,_0x186c1f[_0x407126(0x2cb)])(_0x57cb7d['getAuth'](),_0x3691fa[_0x407126(0x9a6)][_0x407126(0x8f9)]);this[_0x407126(0x837)]=_0x4636af[_0x407126(0x837)];}async['signOut'](){const _0x1bd83c=_0xe992e3;await(0x0,_0x186c1f[_0x1bd83c(0x617)])(_0x57cb7d[_0x1bd83c(0x36c)]());}[_0xe992e3(0x61c)](){const _0x3a4c73=_0xe992e3;return this['user']?.['getIdToken']()??Promise['reject'](_0x3a4c73(0x12d));}}class _0x32d45c{static [_0xe992e3(0x6d6)];[_0xe992e3(0x1f2)]=[];constructor(){}static[_0xe992e3(0x9f1)](){const _0x5ba24c=_0xe992e3;return _0x32d45c[_0x5ba24c(0x6d6)]||(_0x32d45c[_0x5ba24c(0x6d6)]=new _0x32d45c()),_0x32d45c[_0x5ba24c(0x6d6)];}[_0xe992e3(0x4af)](){const _0x26a890=_0xe992e3;this['checkWebRTC'](),this['checkMediaStream'](),this['checkScreenSharing'](),this[_0x26a890(0x2fc)](),this[_0x26a890(0x99f)](),this[_0x26a890(0x811)](),this[_0x26a890(0x2da)](),this[_0x26a890(0xa54)](),this[_0x26a890(0x9ed)](),this['checkAudioContext'](),_0xd64180[_0x26a890(0x991)](_0x3c5ddd['Support'],'Support:\x20current\x20config',{'featureSupport':this['featureSupport']});}['isFeatureSupported'](_0x53c2ce){const _0x196b0b=_0xe992e3,_0x5ab925=this[_0x196b0b(0x1f2)][_0x196b0b(0xa57)](_0x1219dc=>_0x1219dc[_0x196b0b(0x758)]===_0x53c2ce);return!!_0x5ab925&&_0x5ab925[_0x196b0b(0x19c)];}['logSupport'](_0x21c825){const _0x1b2c4c=_0xe992e3;_0xd64180[_0x1b2c4c(0x3b3)](_0x1b2c4c(0x4ab),{'nodeId':_0x21c825[_0x1b2c4c(0x686)](),'nodeType':_0x21c825[_0x1b2c4c(0x689)],'data':{'featureSupport':this[_0x1b2c4c(0x1f2)]}});}[_0xe992e3(0xab4)](){const _0x1f0cd1=_0xe992e3,_0x5e5734=_0x36e9b0[_0x1f0cd1(0xabc)];let _0x156244=!0x1;_0x1f0cd1(0x40a)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x156244=!0x0:_0xd64180[_0x1f0cd1(0x991)](_0x3c5ddd[_0x1f0cd1(0x2ca)],_0x1f0cd1(0x3db)+_0x5e5734+_0x1f0cd1(0x3d3)),this[_0x1f0cd1(0x1f2)][_0x1f0cd1(0xae7)]({'name':_0x5e5734,'supported':_0x156244});}[_0xe992e3(0x90f)](){const _0x4b41b2=_0xe992e3,_0x567d24=_0x36e9b0[_0x4b41b2(0x341)];let _0x5eaf3e=!0x1;_0x4b41b2(0x40a)==typeof MediaStream&&_0x4b41b2(0x40a)==typeof MediaStreamTrack&&_0x4b41b2(0x903)==typeof navigator&&_0x4b41b2(0x903)==typeof navigator[_0x4b41b2(0x660)]&&_0x4b41b2(0x40a)==typeof navigator['mediaDevices'][_0x4b41b2(0x76a)]?_0x5eaf3e=!0x0:_0xd64180[_0x4b41b2(0x991)](_0x3c5ddd[_0x4b41b2(0x2ca)],_0x4b41b2(0x3db)+_0x567d24+_0x4b41b2(0x3d3)),this[_0x4b41b2(0x1f2)][_0x4b41b2(0xae7)]({'name':_0x567d24,'supported':_0x5eaf3e});}[_0xe992e3(0x9fc)](){const _0x35f4dc=_0xe992e3,_0x405233=_0x36e9b0['ScreenSharing'];let _0xb063cb=!0x1;'object'==typeof navigator&&_0x35f4dc(0x903)==typeof navigator[_0x35f4dc(0x660)]&&_0x35f4dc(0x40a)==typeof navigator[_0x35f4dc(0x660)]['getDisplayMedia']?_0xb063cb=!0x0:_0xd64180['log'](_0x3c5ddd[_0x35f4dc(0x2ca)],'Support:\x20'+_0x405233+_0x35f4dc(0x3d3)),this[_0x35f4dc(0x1f2)]['push']({'name':_0x405233,'supported':_0xb063cb});}[_0xe992e3(0x2fc)](){const _0x1628e=_0xe992e3,_0x41924e=_0x36e9b0[_0x1628e(0x7e2)];let _0x1d5425=!0x1;_0x1628e(0x40a)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x1628e(0x40a)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0xd64180['log'](_0x3c5ddd[_0x1628e(0x2ca)],_0x1628e(0x3db)+_0x41924e+_0x1628e(0x3d3)):_0x1d5425=!0x0,this[_0x1628e(0x1f2)][_0x1628e(0xae7)]({'name':_0x41924e,'supported':_0x1d5425});}[_0xe992e3(0x99f)](){const _0x3af628=_0xe992e3,_0x2998b2=_0x36e9b0[_0x3af628(0x9b8)];let _0x15fd68=!0x1;_0x3af628(0x903)==typeof navigator&&_0x3af628(0x903)==typeof navigator[_0x3af628(0x660)]&&_0x3af628(0x40a)==typeof navigator[_0x3af628(0x660)]['enumerateDevices']&&_0x3af628(0x40a)==typeof MediaDeviceInfo?_0x15fd68=!0x0:_0xd64180['log'](_0x3c5ddd[_0x3af628(0x2ca)],_0x3af628(0x3db)+_0x2998b2+_0x3af628(0x3d3)),this[_0x3af628(0x1f2)][_0x3af628(0xae7)]({'name':_0x2998b2,'supported':_0x15fd68});}[_0xe992e3(0x811)](){const _0x217188=_0xe992e3,_0x58e824=_0x36e9b0[_0x217188(0x19f)];let _0x3c3035=!0x1;'object'==typeof document&&'function'==typeof document[_0x217188(0x677)]('video')['setSinkId']?_0x3c3035=!0x0:_0xd64180[_0x217188(0x991)](_0x3c5ddd[_0x217188(0x2ca)],'Support:\x20'+_0x58e824+_0x217188(0x3d3)),this['featureSupport'][_0x217188(0xae7)]({'name':_0x58e824,'supported':_0x3c3035});}async[_0xe992e3(0x2da)](){const _0x5182a9=_0xe992e3,_0x5fb3f3=_0x36e9b0[_0x5182a9(0x17d)];let _0x2ca698=!0x1;try{const _0x660b16=document[_0x5182a9(0x677)](_0x5182a9(0x858));if(MediaRecorder&&MediaSource&&_0x660b16[_0x5182a9(0x7b9)]){const _0x4214ef=_0x660b16['captureStream'](),_0x470925=new MediaRecorder(_0x4214ef);_0x470925['start'](),await new Promise(_0x27c0bc=>setTimeout(_0x27c0bc,0x7d0)),_0x470925['stop'](),_0x2ca698='inactive'===_0x470925[_0x5182a9(0x649)];}}catch(_0x37eccc){_0xd64180[_0x5182a9(0x991)](_0x3c5ddd[_0x5182a9(0x2ca)],_0x5182a9(0x3db)+_0x5fb3f3+_0x5182a9(0x768),_0x37eccc);}this[_0x5182a9(0x1f2)][_0x5182a9(0xae7)]({'name':_0x5fb3f3,'supported':_0x2ca698}),_0x2ca698||_0xd64180[_0x5182a9(0x991)](_0x3c5ddd['Support'],_0x5182a9(0x3db)+_0x5fb3f3+_0x5182a9(0x3d3));}['checkBackgrounds'](){const _0x452b21=_0xe992e3,_0x456ffe=_0x36e9b0[_0x452b21(0x1a8)];let _0x708381=!0x1;try{document['createElement'](_0x452b21(0x858))[_0x452b21(0x7b9)]&&(_0x708381=!0x0);}catch(_0x4df984){_0xd64180[_0x452b21(0x991)](_0x3c5ddd[_0x452b21(0x2ca)],_0x452b21(0x3db)+_0x456ffe+_0x452b21(0x768),_0x4df984);}this['featureSupport'][_0x452b21(0xae7)]({'name':_0x456ffe,'supported':_0x708381}),_0x708381||_0xd64180[_0x452b21(0x991)](_0x3c5ddd['Support'],'Support:\x20'+_0x456ffe+_0x452b21(0x3d3));}[_0xe992e3(0x9ed)](){const _0x378aa4=_0xe992e3,_0xae5609=_0x36e9b0[_0x378aa4(0xaf6)];let _0x1a9dcd=!0x1;try{const _0x2c0ff2=document[_0x378aa4(0x677)](_0x378aa4(0x858));WebGLRenderingContext&&_0x2c0ff2[_0x378aa4(0x44b)](_0x378aa4(0x84c))&&(_0x1a9dcd=!0x0);}catch(_0x5e0856){_0xd64180[_0x378aa4(0x991)](_0x3c5ddd[_0x378aa4(0x2ca)],_0x378aa4(0x3db)+_0xae5609+_0x378aa4(0x768),_0x5e0856);}this[_0x378aa4(0x1f2)]['push']({'name':_0xae5609,'supported':_0x1a9dcd}),_0x1a9dcd||_0xd64180['log'](_0x3c5ddd[_0x378aa4(0x2ca)],'Support:\x20'+_0xae5609+_0x378aa4(0x3d3));}[_0xe992e3(0x91e)](){const _0x295212=_0xe992e3,_0x460933=_0x36e9b0[_0x295212(0x2ce)];let _0x5e15a9=!0x1;'function'==typeof AudioContext?_0x5e15a9=!0x0:_0xd64180[_0x295212(0x991)](_0x3c5ddd['Support'],_0x295212(0x3db)+_0x460933+_0x295212(0x3d3)),this[_0x295212(0x1f2)][_0x295212(0xae7)]({'name':_0x460933,'supported':_0x5e15a9});}}const _0xe06476=_0x32d45c['getInstance']();class _0x3df5d9{static ['instance'];static [_0xe992e3(0x4c0)];static [_0xe992e3(0x9cf)];[_0xe992e3(0x5c3)];[_0xe992e3(0x3ea)];[_0xe992e3(0x34f)];['configs'];[_0xe992e3(0x400)]=new Map();[_0xe992e3(0xb0b)];constructor(_0x59dfaa,_0x5ba99b,_0x904417){const _0x260988=_0xe992e3;this[_0x260988(0x3ea)]=_0x59dfaa,this[_0x260988(0x81e)]=_0x5ba99b,this[_0x260988(0x5c3)]=new _0x3f3f39(this[_0x260988(0x3ea)]),_0xe06476[_0x260988(0x4af)](),this['options']={'audioContext':_0x904417?.[_0x260988(0xa71)]??(_0xe06476[_0x260988(0x5f6)](_0x36e9b0['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x904417?.[_0x260988(0x620)]??0x1,'minConnections':_0x904417?.[_0x260988(0x3f2)]??0x3,'maxConnections':_0x904417?.[_0x260988(0x343)]??(_0x904417?.[_0x260988(0x3f2)]&&0x4*_0x904417[_0x260988(0x3f2)])??0xc,'maxDistance':_0x904417?.[_0x260988(0x580)]??0xa,'maxFps':_0x904417?.[_0x260988(0x875)]??0x18,'maxBpp':_0x904417?.[_0x260988(0x2b2)]??0.12,'objectStoreConnector':_0x904417?.[_0x260988(0x655)]??_0xe3ba75[_0x260988(0x15e)],'externalStorageConnectors':_0x904417?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x904417?.['keyValueDatabaseConnector']??_0x18c963['IDBDatabaseConnector'],'peerConnectionConnector':_0x904417?.[_0x260988(0x5ec)]??_0x25f673[_0x260988(0x938)],'generativeAIWorkerConnectors':_0x904417?.[_0x260988(0x164)],'vectorDatabaseConnector':_0x904417?.[_0x260988(0x4e9)],'graphDatabaseConnector':_0x904417?.[_0x260988(0x124)],'documentParserConnector':_0x904417?.[_0x260988(0xa96)],'fileConnector':_0x904417?.[_0x260988(0x611)],'nlpLibraryConnector':_0x904417?.[_0x260988(0x934)],'searchConnector':_0x904417?.[_0x260988(0x955)],'aiSearchConnector':_0x904417?.[_0x260988(0x6ee)],'queryFileConnector':_0x904417?.['queryFileConnector'],'ragConnectors':_0x904417?.[_0x260988(0x83b)]},_0x904417?.[_0x260988(0xaa1)]&&this['options'][_0x260988(0xa71)]&&_0x50a54a[_0x260988(0x475)](this[_0x260988(0x34f)]['audioContext']),_0xd64180[_0x260988(0x817)](this[_0x260988(0x3ea)]),_0x904417?.[_0x260988(0x830)]&&_0xd64180[_0x260988(0x2f3)](_0x904417['loggingConnectors']);}static async[_0xe992e3(0x9f1)](_0x574b5d,_0x535139,_0x5b42fa,_0x50ce50,_0x10fe32){const _0x5bd178=_0xe992e3;this[_0x5bd178(0x9cf)]=_0x5b42fa;const _0x33a1d7=await this[_0x5bd178(0x5b7)](_0x574b5d,_0x535139,_0x10fe32);return _0x3df5d9[_0x5bd178(0x6d6)]||(_0x3df5d9[_0x5bd178(0x6d6)]=new _0x3df5d9(_0x574b5d,_0x33a1d7,_0x50ce50)),{'close':_0x3df5d9[_0x5bd178(0x6d6)][_0x5bd178(0x1c9)][_0x5bd178(0x8b6)](_0x3df5d9[_0x5bd178(0x6d6)]),'authenticateUser':_0x3df5d9[_0x5bd178(0x6d6)][_0x5bd178(0x241)]['bind'](_0x3df5d9[_0x5bd178(0x6d6)]),'authenticateAgent':_0x3df5d9[_0x5bd178(0x6d6)]['authenticateAgent'][_0x5bd178(0x8b6)](_0x3df5d9['instance']),'validateKey':_0x3df5d9[_0x5bd178(0x6d6)][_0x5bd178(0x988)]['bind'](_0x3df5d9[_0x5bd178(0x6d6)]),'joinCluster':_0x3df5d9[_0x5bd178(0x6d6)][_0x5bd178(0x329)][_0x5bd178(0x8b6)](_0x3df5d9['instance'])};}static async['timestamp'](){return _0x57cb7d['getEstimatedTimestamp']();}static[_0xe992e3(0x1f8)](){return _0x201946['isProduction'];}async[_0xe992e3(0x1c9)](_0x3684d7){const _0x43504b=_0xe992e3;this[_0x43504b(0x400)][_0x43504b(0x558)](_0x5b8a03=>{const _0x9b30e2=_0x43504b;_0x5b8a03['off'](),_0x5b8a03[_0x9b30e2(0x6b7)](_0x3684d7);}),this[_0x43504b(0x400)][_0x43504b(0x24d)](),this[_0x43504b(0x34f)][_0x43504b(0xa71)]&&_0x50a54a['stopNoThrottlingHack'](),_0x3df5d9['unsubscribe']?.(),_0x3df5d9['unsubscribe']=void 0x0,this[_0x43504b(0xb0b)]=void 0x0,await this['authService'][_0x43504b(0x617)](),_0x3df5d9[_0x43504b(0x6d6)]=void 0x0;}static async['validateAccess'](_0xd8a50a,_0x5fe88d,_0x4ac74a){const _0x6384d5=_0xe992e3;if(!this[_0x6384d5(0x9cf)])throw new _0x3748ee(_0x2a0ddc[_0x6384d5(0x1be)],_0x6384d5(0x201));let _0x665180;try{_0x665180=await(0x0,_0x10e1b1[_0x6384d5(0x71e)])(_0x57cb7d['getFunctions'](),_0x6384d5(0x743))({'vendorId':_0xd8a50a,'accessToken':_0x5fe88d,'secretKey':_0x4ac74a});}catch(_0x35912e){throw new _0x3748ee(_0x2a0ddc[_0x6384d5(0xa95)],_0x6384d5(0x57d));}if(!this[_0x6384d5(0x7d0)](_0x665180[_0x6384d5(0x9a6)]))throw new _0x3748ee(_0x2a0ddc[_0x6384d5(0xa95)],_0x6384d5(0x57d));const _0x41cc00=_0x665180[_0x6384d5(0x9a6)];return _0x41cc00['features']||(_0x41cc00[_0x6384d5(0x809)]=[]),this[_0x6384d5(0x4c0)]||(this[_0x6384d5(0x4c0)]=_0x50a54a[_0x6384d5(0x6b1)](async()=>{const _0x1864d5=_0x6384d5;try{const _0x54cf85=await this['validateAccess'](_0xd8a50a,_0x5fe88d,_0x4ac74a);this[_0x1864d5(0x9cf)]===_0x981fb5['NodeType']['Agent']&&(_0x54cf85['iceServers']=_0x54cf85['iceServers'][_0x1864d5(0x1ee)](_0x1069f6=>_0x1069f6['urls'][_0x1864d5(0x654)]('stun:'))),_0x41cc00[_0x1864d5(0x8f1)]=_0x54cf85['iceServers'];}catch(_0x1bb67e){}},0x1b7740)),_0x41cc00;}async[_0xe992e3(0x241)](_0x224294){const _0x1287c2=_0xe992e3;if(_0x3df5d9[_0x1287c2(0x9cf)]!==_0x981fb5[_0x1287c2(0x148)]['User'])throw new _0x3748ee(_0x2a0ddc[_0x1287c2(0x47d)],'Node\x20type\x20is\x20invalid');await this[_0x1287c2(0x5c3)][_0x1287c2(0x393)](_0x224294);const _0x374fd9=new _0x5a3081(_0x224294['id'],_0x224294[_0x1287c2(0x57a)],_0x224294[_0x1287c2(0x791)]);return this[_0x1287c2(0xb0b)]={'node':_0x374fd9},_0xe06476['logSupport'](_0x374fd9),{'type':_0x981fb5['NodeType']['User'],'getId':_0x374fd9['getId']['bind'](_0x374fd9),'getDisplayName':_0x374fd9[_0x1287c2(0x2bd)][_0x1287c2(0x8b6)](_0x374fd9),'getEmail':_0x374fd9['getEmail']['bind'](_0x374fd9),'setDisplayName':_0x374fd9[_0x1287c2(0x53a)][_0x1287c2(0x8b6)](_0x374fd9),'setEmail':_0x374fd9[_0x1287c2(0x8b2)][_0x1287c2(0x8b6)](_0x374fd9)};}async[_0xe992e3(0x895)](_0x5c799e){const _0x41843d=_0xe992e3;if(_0x3df5d9['mode']!==_0x981fb5['NodeType'][_0x41843d(0x2a4)])throw new _0x3748ee(_0x2a0ddc[_0x41843d(0x47d)],_0x41843d(0x18e));const {id:_0x54d2ac,groupId:_0x520b54}=_0x5c799e,_0x5c6cd7=await(0x0,_0x3d2491[_0x41843d(0x57c)])((0x0,_0x3d2491[_0x41843d(0x6f7)])(_0x57cb7d[_0x41843d(0x928)](),_0x41843d(0x67c)+this['vendorId']+_0x41843d(0x256)+_0x520b54));if(!_0x5c6cd7[_0x41843d(0x28a)]())throw new _0x3748ee(_0x2a0ddc['NodeNotAuthenticated'],'Agent\x20group\x20not\x20found');const _0xfad34e=_0x5c6cd7[_0x41843d(0x9a6)]();await this[_0x41843d(0x5c3)][_0x41843d(0x393)]({'id':_0x54d2ac});const _0x5d3e71=new _0x5d1a16(_0x54d2ac,_0x520b54,this[_0x41843d(0x3ea)],_0xfad34e);return this[_0x41843d(0xb0b)]={'node':_0x5d3e71},_0xe06476[_0x41843d(0xa0a)](_0x5d3e71),this[_0x41843d(0x38e)](_0x5d3e71),{'type':_0x981fb5['NodeType']['Agent'],'getId':_0x5d3e71['getId'][_0x41843d(0x8b6)](_0x5d3e71),'onConfigurationChange':_0x5d3e71[_0x41843d(0x919)][_0x41843d(0x8b6)](_0x5d3e71),'setReportCapacity':_0x5d3e71[_0x41843d(0x588)]['bind'](_0x5d3e71)};}async[_0xe992e3(0x988)](_0x304a7b,_0x318a0d){const _0x528aec=_0xe992e3,_0x87b200=await(0x0,_0x3d2491[_0x528aec(0x57c)])((0x0,_0x3d2491['doc'])(_0x57cb7d[_0x528aec(0x928)](),_0x528aec(0x5aa)+_0x304a7b));if(!_0x87b200[_0x528aec(0x28a)]()){const _0x109150=atob(_0x304a7b)['split'](':'),_0x560ff4=_0x109150['shift'](),_0x275ac1=_0x109150['join'](':');if(!_0x560ff4||!_0x275ac1)throw new _0x3748ee(_0x2a0ddc[_0x528aec(0xa95)],_0x528aec(0xad9));try{return await(0x0,_0x10e1b1['httpsCallable'])(_0x57cb7d[_0x528aec(0x5f2)](),_0x528aec(0x743))({'vendorId':_0x560ff4,'accessToken':_0x275ac1,'origin':_0x318a0d}),_0x560ff4;}catch(_0x433600){throw new _0x3748ee(_0x2a0ddc[_0x528aec(0xa95)],_0x528aec(0x52f)+(_0x433600 instanceof Error?_0x433600[_0x528aec(0x337)]:_0x528aec(0x123)));}}return _0x87b200[_0x528aec(0x9a6)]()[_0x528aec(0x3ea)];}async[_0xe992e3(0x329)](_0x3ad1f9,_0x931530){const _0xca24ba=_0xe992e3;if(!this['authContext'])throw new _0x3748ee(_0x2a0ddc[_0xca24ba(0x19e)],_0xca24ba(0x95a));if(this['authContext'][_0xca24ba(0x3f7)][_0xca24ba(0x689)]!==_0x981fb5[_0xca24ba(0x148)][_0xca24ba(0x741)])throw new _0x3748ee(_0x2a0ddc[_0xca24ba(0x81d)],_0xca24ba(0xb1d));if(this['clusters'][_0xca24ba(0x64b)](_0x3ad1f9))throw new _0x3748ee(_0x2a0ddc[_0xca24ba(0x43e)],_0xca24ba(0x15b));const _0x52c8ba=new _0x17fd35(this[_0xca24ba(0x3ea)],_0x3ad1f9,this[_0xca24ba(0xb0b)][_0xca24ba(0x3f7)],this[_0xca24ba(0x5c3)],this[_0xca24ba(0x34f)],this[_0xca24ba(0x81e)]);return!0x0!==_0x931530&&await _0x52c8ba[_0xca24ba(0x9fb)](),this['addCluster'](_0x3ad1f9,_0x52c8ba),_0xd64180[_0xca24ba(0x3b3)](_0xca24ba(0x23d),{'clusterId':_0x3ad1f9,'nodeId':this[_0xca24ba(0xb0b)][_0xca24ba(0x3f7)][_0xca24ba(0x686)](),'nodeType':this['authContext']['node'][_0xca24ba(0x689)]}),{'leave':_0x52c8ba['leave'][_0xca24ba(0x8b6)](_0x52c8ba),'getLocalNode':_0x52c8ba[_0xca24ba(0x6ec)][_0xca24ba(0x8b6)](_0x52c8ba),'openPubSubTopic':_0x52c8ba[_0xca24ba(0x926)][_0xca24ba(0x8b6)](_0x52c8ba),'openObjectStoreBucket':_0x52c8ba[_0xca24ba(0x573)][_0xca24ba(0x8b6)](_0x52c8ba),'openExternalStorageConnection':_0x52c8ba['openExternalStorageConnection']['bind'](_0x52c8ba),'openKeyValueDatabase':_0x52c8ba[_0xca24ba(0x260)][_0xca24ba(0x8b6)](_0x52c8ba),'openGenerativeAIContext':_0x52c8ba['openGenerativeAIContext'][_0xca24ba(0x8b6)](_0x52c8ba),'openGenerativeAIContextStandalone':_0x52c8ba[_0xca24ba(0x1c3)][_0xca24ba(0x8b6)](_0x52c8ba),'openGenerativeAIWorker':_0x52c8ba[_0xca24ba(0x4b5)][_0xca24ba(0x8b6)](_0x52c8ba),'openGraphDatabase':_0x52c8ba[_0xca24ba(0x461)]['bind'](_0x52c8ba),'openVectorDatabase':_0x52c8ba[_0xca24ba(0x358)]['bind'](_0x52c8ba),'publishLocalMediaStream':_0x52c8ba[_0xca24ba(0x6a0)][_0xca24ba(0x8b6)](_0x52c8ba),'publishLocalDynamicMediaStream':_0x52c8ba[_0xca24ba(0xa3f)][_0xca24ba(0x8b6)](_0x52c8ba),'getPubSubTopics':_0x52c8ba['getPubSubTopics'][_0xca24ba(0x8b6)](_0x52c8ba),'getObjectStoreBuckets':_0x52c8ba[_0xca24ba(0x2f6)]['bind'](_0x52c8ba),'getExternalStorageConnections':_0x52c8ba[_0xca24ba(0x3b6)][_0xca24ba(0x8b6)](_0x52c8ba),'getKeyValueDatabases':_0x52c8ba[_0xca24ba(0x6ac)]['bind'](_0x52c8ba),'getGenerativeAIContexts':_0x52c8ba[_0xca24ba(0x703)]['bind'](_0x52c8ba),'getGenerativeAIContextsStandalone':_0x52c8ba['getGenerativeAIContextsStandalone'][_0xca24ba(0x8b6)](_0x52c8ba),'getGenerativeAIWorkers':_0x52c8ba[_0xca24ba(0x8d9)][_0xca24ba(0x8b6)](_0x52c8ba),'getGraphDatabases':_0x52c8ba['getGraphDatabases']['bind'](_0x52c8ba),'getVectorDatabases':_0x52c8ba[_0xca24ba(0x72f)][_0xca24ba(0x8b6)](_0x52c8ba),'getLocalMediaStreams':_0x52c8ba[_0xca24ba(0x7a3)][_0xca24ba(0x8b6)](_0x52c8ba),'getRemoteMediaStreams':_0x52c8ba[_0xca24ba(0x72b)]['bind'](_0x52c8ba),'getRemoteNodes':_0x52c8ba[_0xca24ba(0x48e)][_0xca24ba(0x8b6)](_0x52c8ba),'on':_0x52c8ba['on'][_0xca24ba(0x8b6)](_0x52c8ba),'off':_0x52c8ba[_0xca24ba(0x290)][_0xca24ba(0x8b6)](_0x52c8ba)};}async[_0xe992e3(0x38e)](_0xe67bc){const _0x86e291=_0xe992e3,_0x12d9ee=new _0x17fd35(this[_0x86e291(0x3ea)],_0x86e291(0x9ad),_0xe67bc,this[_0x86e291(0x5c3)],this[_0x86e291(0x34f)],this[_0x86e291(0x81e)]);await _0x12d9ee[_0x86e291(0x9fb)](),this[_0x86e291(0x767)](_0x86e291(0x9ad),_0x12d9ee),_0xd64180[_0x86e291(0x58f)](_0x86e291(0x3e3),_0x86e291(0x9ad)),await _0x12d9ee['openGenerativeAIWorker'](_0x86e291(0x9ad)),_0xd64180['forceLog'](_0x86e291(0x9b9),_0x86e291(0x9ad));}[_0xe992e3(0x767)](_0x8a9da0,_0x1c7058){const _0x55a640=_0xe992e3;this[_0x55a640(0x400)]['set'](_0x8a9da0,_0x1c7058),_0x1c7058['on'](_0x55a640(0x59b),()=>{const _0x49121f=_0x55a640;_0x1c7058[_0x49121f(0x290)](),this[_0x49121f(0x400)][_0x49121f(0x5eb)](_0x8a9da0);});}static[_0xe992e3(0x7d0)](_0x55c661){const _0x4a5423=_0xe992e3;return void 0x0!==_0x55c661[_0x4a5423(0x8f1)];}}return _0x3a426c;})())));