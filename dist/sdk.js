function a0_0x1c09(){const _0x4c3b84=['supported','statsCollection','openPubSubTopic','onDisconnectHandler','onSnapshot','timeReceiving','Events','onConfigurationChange','No\x20global\x20object\x20found','remediations','ObjectStore','connection-no-retry-queue','providerListener','contentRect','getTransactions','bandwidth.bitrate','getFunctions','frameWidth','unregisterPublisher','timeoutValue','waitAnswer','mediaDevices','node-already-exist','ConnectionNotinitialized','ObjectKind','Data\x20cluster\x20is\x20not\x20open.','invalid-publisher','total','remove','isFeatureSupported','invalid-data-chanel','byteLength','\x20received\x20result:','string','key-value-database-name-not-string','handleDetectionSystemEvents','handleSubscriptionSubscribeMediaStream','sender','vendorId','isRunning','answererId','some','removeRemoteMediaStream','maxFramerate','logSupport','FPS','setConnectionType','Cannot\x20list\x20directory:\x20','mergeParts','handleCloseKeyValueDatabase','getVideoTracks','trackCallback','minResolutionScale','clearConnectionTimeout','outgoingTopic','getResolutionScale','successNotified','app','appsync-connect','filter','objectStorage','Count','Node\x20not\x20authenticated','\x27\x20reserved','trackEndedListeners','addIssue','node-does-not-exist','isAIResultResponse','clusters/','getClosestNodes','resolutionScale','handleRemediationSystemEvents','size','commit','buildQuery','onloadeddata','removeRemoteConnection','retryCallback','createMediaStreamSource','params','catch','firebaseConfig','time_per_frame','setupRenderElement','waitConnected','groupId','removeTrackCallback','warning','Subscription\x20request\x20does\x20not\x20exist.','dbKey','destination','next','storage','G-F7W8KXRKQB','job-','CPUCycle','SyncComplete','authService','play','processTransactionsDump','sendFile','Hub','statsManager','handleNodeJoinNeedPublishedStream','sendChunked','capacityReporter','dataTopics','problemType','NodeUpdate','lastExecuted','oncloseTimeout','enabled','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','sort','decodeJWT','handleContentUnsubscribeMediaStream','failJob','gatheringState','stopConnection','PubSub','Rejected\x20answer','getPartsForSubscriptionLabel','PayloadAction','NodeLeave','bufferedEvents','setTimeout','Emitting\x20event\x20on\x20local\x20cluster','clearHeartbeat','receiverUnsubscribers','us-east-1','Receiving\x20\x27','createFolder','supportsContentType','splitParts','handleRequestPayload','handleHandshake','Invalid\x20job\x20worker\x20type.','senders','destinationIds','val','queues','callback','getTable','JobType','update','Job\x20with\x20id\x20','setDisplayName','updateLastUpdated','connection','handleContentSubscribeMediaStream','processTransactionPayload','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','tableLayout','mediator','entries','batchQueue','MissingSystemTopic','durationTime','min','onRemoveTrack','1:420235181083:web:4eff6062bd845cb0748cbe','authenticateAgent','job-dispatcher-job-not-found','Invalid\x20object\x20store\x20sync\x20message.','jobWorkerConnector','true','validateLayout','setPriority','doc','waitSuccess','nodeManager','GenerativeAIWorkerAlreadyExists','Failed\x20to\x20create\x20AI\x20service','registerPublisher','scheduleTime','frameHeight','RestartNeedMediaStream','JobDispatcherInvalidPayload','pow','getRemoteMediaStreams','connections','addRemoteNode','Missing\x20transaction\x20id','currentVersion','getMediaSubscription','canRestartHandshake','Optimization','handleError','detection','handleContentCloseKeyValueDatabase','detectStreamIssues','api','Failed\x20to\x20create\x20key\x20value\x20database','batch','Table\x20not\x20found','stats','RemoteMediaStreamMissingProviderId','getIdToken','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','getAudioVideoDelay','resizeHandler','createLocalDynamicMediaStream','getTransactionFromTableWriteEvent','providerId','ObjectStoreAlreadySubscribed','removeTrack','object-store-not-synced','UpdateMediaStream','TimePerFrame','pubsub','requestSubscription','authenticateUser','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','getAudioTracks','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','parse','handleContentRemoteMediaStreamTrackFail','Get','path','receiverTotalMessages','timePerFrame','onBufferedAmountLow','eventTarget','getLocalNode','receiverConnection','https://crewdle-sdk-default-rtdb.firebaseio.com','instance','QueryBuilderInvalidArgument','getSettings','lastUpdated','outgoingManager','handleDisconnect','Missing\x20remote\x20node\x20or\x20rank','timeoutCallback','RoundTripTime','kind','startTime','Missing\x20AI\x20worker\x20connectors','direction','get','MediaStreamUnavailable','track','onProviderChange','34600JCRaxi','Send\x20request','stop','issues','remoteNodes','statsReporting','getInstance','syncKeyValueDatabase','getRank','System','processJob','NodeAlreadyExist','manageOptimization','AppSync\x20subscribe','\x20created\x20and\x20dispatched.','notifyCluster','setRemoteConnections','getUserMedia','Job\x20Worker\x20already\x20exists','packetsReceived','Medium','handleConnectionSuccess','1:519415702791:web:5dd39042f881cfde3251a2','sourceId','createConnection','northamerica-northeast1','firestore','handleContentCloseMediaStream','packets','videoHeight','checkWebRTC','getAvailableTrackKinds','isIceCandidate','connector','handleRemoteTrackFailure','Rejected','publishMove','\x20-\x20Sending\x20propagation\x20(','incomingTopic','publishFile','senderTimeProcessing','createOutgoingSubscription','remainingTracks','createTopic','setOnTableWriteHandler','LocalReport','publishLocalMediaStream','signInWithCredential','addCluster','Failed','setDoc','findNewMediaSubscription','floor','messageBuffer','2122824XufVCs','key-value-database-invalid-value','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','registerSystemPublisher','LoggingService:\x20logging\x20enabled\x20for','Outgoing','collectSendersStats','messageUnsubscriber','Disconnect','secheduleTime','createReceiverConnection','key-value-database-table-name-reserved','Failed\x20to\x20create\x20AI\x20worker','generativeAIWorkerConnector','Issue\x20detected:\x20','discoveryUnsubscriber','Agent\x20group\x20not\x20found','ObjectStorage','decode','isValidMediaSubscriptionParams','Key-value\x20database\x20table\x20does\x20not\x20exist.','Method\x20not\x20supported','job-worker-does-not-exist','setSubscriptionRequestTimeout','setRemoteNode','setLoggingConnectors','getMaxDistance','onDisconnect','key-value-database-invalid-query','syncResolve','getInternalStreamId','local-media-stream-already-exists','SHA-1','handleNoAnswer','internal','subscribe','delete','debounceStats','AI\x20worker\x20creation\x20failed.','call','firebaseUnsubscriber','getAuth','KeyValueDatabaseCreationFailed','0.2.7','UnsubscribeMediaStream','sync','getOutgoingOptimizationConnections','createRemoteMediaStream','keyValueDatabaseConnector','transaction','indexOf','tail','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','handleProblem','statsReport','getChannelData','onDataChannel','getSubscriptionLabel','User\x20not\x20signed\x20in','updateDebounce','signOut','\x20does\x20not\x20exists','Attribution','4106ZlPhcp','syncTimeout','getMinConnections','logConnectionState','getConnections','video','\x20-\x20','cluster-disconnect','maxBpp','Problem\x20detected:\x20','orderBy','clearSubscriptionRequestTimeout','onremovetrack','checksum','unregisterSystemSource','checkScreenSharing','remoteUnsubscriber','maxResolution','Mistlet\x20capacity\x20report\x20not\x20set.','10XyizGB','handleCloseJobDispatcher','request-file','KeyValueDatabaseInvalidValue','detectionManager','UnpublishMediaStream','cluster-leave','crewdle-sdk-stg.firebaseapp.com','InvalidSubscription','SubscriptionRequestInProgress','key-value-database-does-not-exist','addEventListener','bandwidth.rtt','everyone','getCoresFromCapacityReport','Job\x20','7554nWEQVF','sendRequest','createSubscription','publishNodeJoin','connectionConstructor','MediaStream\x20feature\x20not\x20enabled','sendIceCandidates','handleContentUnpublishMediaStream','muted','clusterEventEmitter','removePubSubTopic','isAvailable','database','addBidResponse','registerSubscriber','tables','bytesSent','subscription','GenerativeAIContextAlreadyExists','getSTVolatility','deleteJob','Connection\x20not\x20initialized.','removeLocalMediaStream','KeyValueDatabaseIndexNotFound','createPendingFileWrite','job-worker-already-exists','PublishMediaStream','Missing\x20owner\x20node\x20or\x20rank','previousFrames','processDataChannelReport','createIncomingSubscription','detail','listen','bufferedAmountLowThreshold','pubSubTopics','answer','options','subscription-request-failed','WebRTCBrowserPeerConnectionConnector','removeTopic','text','JobWorker:\x20Sending\x20AI\x20job\x20bid','endsWith','setReceiverTimestamp','webgl','lastCapacityReport','handleUnsubscribeMediaStream','getBitrate','connection-not-connected','RemoteMediaStreamDoesNotExist','.info/serverTimeOffset','destroy','Cannot\x20publish\x20move\x20operation:\x20','bind','addAudioTrack','outbound-rtp','2-digit','disconnect','renderElement','file-write','developers/','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','PubSubTopicAlreadyExists','getInternalTrackParams','key-value-database-creation-failed','getShareableStream','data','unregisterSystemPublisher','Syncing','logStorage','unregisterPublisherListener','closed','audioContext','peer-connection-invalid-destination','Low','pendingSyncTransactions','getCurrentMaxLayer','setEncodingParameters','Key-value\x20database\x20transaction\x20value\x20not\x20set.','pub-sub-topic-already-subscribed','desc','created','systemMessagesReceived','clientStream','Receiver\x20connection\x20is\x20not\x20initialized.','handleSubscribeMediaStream','registeredListeners','Connected','handleTransactionPayload','splice','OptimizationConnectionSuccess','\x27\x20in\x20layout','getTrack','subscriptionRequestTimeouts','mediaTopics','generative-ai-worker-already-exists','notifyObjectStoreOfNodeLeave','pub-sub-topic-does-not-exist','LocalMediaStreamTrackFail','observe','isMediaSource','features','unregisterDestination','handleSuccess','processOutboundReports','mediaStream','Jobs','connectionState','KeyValueDatabase','discoveryService','ConnectionState','getItem','head','RequestAccepted','srcObject','pathName','folder-create','logEvent','Receiver','senderBitrate','File','RemoteConnectionExists','bytesReceived','pop','clearRect','messagesSent','ObjectStoreInvalidPayload','\x27\x20in\x20table\x20\x27','Internal\x20SDK\x20Error:\x20','NodeDoesNotExist','failed','getConnection','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','reduce','getDisplayName','isOffer','getReceiverTotalBytes','push','NodeType','CannotProvideMediaStream','handshakeState','subscription-request-no-answer','Consuming\x20buffered\x20event','getPubSubTopics','getLocalMediaStreams','handleNeedRestart','messageListeners','16226430CMrfuX','Recording','writes','optimizationLayers','generative-ai-context-creation-failed','owner','CONNECTION_STATE_CHANGE','log','Cannot\x20get\x20file:\x20','\x20not\x20supported.','load','handleUnpublishMediaStream','CloseKeyValueDatabase','Node','clusterId','DEBUG\x20-\x20','graphService','FeatureNotEnabled','split','RequestTransactionsValue','onConnectionStateChange','recipients','autoplay','node','setRank','job-dispatcher-creation-failed','featureSupport','peerConnectionConnector','validateQuery','graphql','onCandidate','SystemStats','isSync','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','FolderDelete','Failed\x20to\x20commit\x20batch\x20after\x20retries:','removeItem','missing-system-topic','\x20with\x20\x27','getRemoteNode','type','KeyValueDatabaseStats','retryDelay','933sFIWSN','setInternalId','maxDistance','findNextAncestor','checkMediaRecording','ObjectStoreInvalidSyncMessage','checkSyncComplete','now','messagesReceived','setDurationTime','processLocalReport','getCapacityReport','checkBackgrounds','contentManager','getJobWorkers','handleFolderCreate','CloseObjectStoreBucket','sdk-internal-error:\x20','key-value-database-not-open','detectAudioIssues','CrewdleConnectionGroup','isSyncing','processList','isProduction','Channel\x20\x27','RequestFile','getId','329gomjzk','includes','transactions','framesEncoded','shouldProcessTransaction','senderTotalMessages','Sender\x20connection\x20is\x20not\x20initialized.','remote-stream-missing-provider-id','handleNodeUpdate','addProblem','handleCloseObjectStore','PeerConnectionInvalidDestination','replaceTrack','loggingConnectors','parentId','slice','InternalSDKError','Invalid\x20value.\x20Must\x20be\x20an\x20object.','findIndex','DTVolatility','isMediaDestination','getEmail','Core','Internal\x20SDK\x20error:\x20','FileStatus','tableName','/resources/agent/items/','GenerativeAIWorkerMissingConnectors','SubscribeMediaStream','trackListeners','SendTransactionsDump','getSenderTotalBytes','getNextTargetRank','getRemoteId','setupConnectionEvents','pub-sub-topic-name-not-string','agent-update','cpu.cycle','removeJobDispatcher','crewdle-sdk.appspot.com','cluster-already-joined','processPendingSyncTransactions','Answer','unsubscribeHandler','clusterKey','getTableConnector','job-dispatcher-already-exists','nodes','problem','DataChannel\x20is\x20not\x20initialized.','KeyValueDatabaseTransactionValueNotSet','evaluateProccessedAIJob','Move','getPriority','JobWorkerCreationFailed','updateJob','Backgrounds','440CSzFse','nodeId','httpsCallable','registerDestination','NodeJoin','pendingFilesSyncing','detectVideoIssues','setupStatsCollection','indexes','generative-ai-context-does-not-exist','syncContent','action','setVendorId','addTrack','isArray','removeListener','::￿','createBufferSource','handleOffer','JobDispatcherAlreadyExists','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','onerror','every','transactionTable','handleClosePubSubTopic','node-not-authenticated','hasTable','subscriptionRequestsQueue','AudioVideoDelay','Offline','CrewdleSenderConnection\x20createOffer','readAsArrayBuffer','version','pubsubTopics','handleFileWrite','operations','/transactions','setupResizeHandler','processOutboundReport','sendAction','getDoc','aws','hasMessage','answers','\x20sending\x20attempt\x20','Generative\x20AI\x20context\x20creation\x20failed.','nodeKey','lastTransactionId','drawImage','syncPendingFiles','Job\x20worker\x20creation\x20failed.','cancel','server','canChooseAnswer','removeContent','createKeyValueDatabase','getTime','orchestrator-close','test-page','invalid-subscription','IDBDatabaseConnector','Update','remote-inbound-rtp','handleIceCandidates','inbound-rtp','crewdleSDKEnableLogging','code','WebRTC','tableUnsubscriber','retryCount','AudioContext','/stats','parameters','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','receiverPreviousBytes','setSenderTimestamp','addCandidate','job-dispatcher-observer-not-found','findNextNodeId','shift','lastRemediations','maxFps','region','firebase-connect','Database\x20does\x20not\x20exist','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','getModel','clusters','Apply\x20remediation','streams','LocalMediaStreamDoesNotExist','remote-media-stream-invalid-subscription-params','Operations:','handleStatsSystemEvents','processSenderReport','Job\x20type\x20','serverTimestamp','cleanOldSubscription','reportMetric','job-dispatcher-invalid-payload','totalEncodeTime','listenUnsubscriber','objectStores','JobDispatcherDoesNotExist','JobDispatcherJobNotFound','getContext','removeSubscriptionsForNode','createJobWorker','createJobDispatcher','candidate','/models','handshakeCandidates','Job','FolderCreate','getCurrentVersion','initializeSystemTopic','timeSending','waitSendBuffer','InvalidDataChannel','wait','upgradeTimeout','oidc','isConnected','request-file-sync','interval','getTotalBytes','remoteConnections','payload','waitForSyncComplete','canvas','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','addVideoTrack','topicLabel','debug','handleAnswer','openJobWorker','handleObjectMove','connecting','contentType','outgoingStreams','commitBatch','Support','propagate','NodeInvalidType','tableObserver','CanProvideMediaStream','transactionIds','getTracks','getMaxConnections','checkAudioContext','pendingFilesTransactions','ObjectStoreDoesNotExist','getKeyValueDatabases','off','GenerativeAIWorkerCreationFailed','addContent','Missing\x20answerer\x20id\x20on\x20request\x20answer','getFirestore','chunks','Job\x20Worker\x20does\x20not\x20exist','setBytes','result','ObjectStoreCannotWriteTransaction','streamId','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','\x20not\x20supported','fps','canAddCandidates','processInboundReports','addConnection','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','FramePerSecond','jobs','STVolatility','addReservedTables','user-update','sendTransactionsDump','localId','/nodes/','/transactions/','jobDispatchers','removeTrackListeners','close','isInternalLoggingConnector','query-helper-invalid-argument','system','handleSubscriptionSystemEvents','gain','user','unregisterSource','framerate','canProvideResolution','createRemoteNode','maps','getOrResetPendingFileTimeout','generative-ai-worker-model-sync-error','currentBytes','query','SubscriptionRequestNoAnswer','transactionsToSync','Model\x20not\x20found','isChannelEnabled','checkWebGL','Stream\x20already\x20exists','/nodes','startBidResponseHandling','NeedMediaStream','getRemoteMediaStream','Object\x20store\x20not\x20synced.','dispatchEvent','closeTopic','getResolution','st_volatility','maxThreshold','reset','\x20not\x20found.','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','newPath','\x20answer','label','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','loadExistingContent','Media','currentDistance','send','handleNodeDisconnect','state','trackKinds','unregisterCluster','listener','values','encode','loop','Method\x20not\x20implemented.','match','__esModule','Add','processInboundReport','Connection','Remote\x20stream\x20does\x20not\x20exist.','getLocalMediaStream','createElement','getDatabase','ranges','MediaStreamPriority','generative-ai-worker-missing-connectors','set','Signaling','ConnectionInvalidDataEvent','All','JobWorkerInvalidType','clear','uuid','add','createJob','jobWorkers','find','checkMediaStream','handleFileRequestAnswer','job-dispatcher-does-not-exist','request','publishUserUpdate','openKeyValueDatabase','sourceVideo','move','list','chosenAnswers','digest','collection','displayName','Cannot\x20publish\x20payload:\x20','instantiateTransactionTable','\x20deleted.','objectStoreConnector','subscriptionManager','updated','retryQueues','exports','\x0aAdditional\x20data:\x20','Remote\x20connection\x20already\x20exists.','syncTransactions','committed','checkDeviceConfig','createMediaStreamDestination','retry','jobType','captureStream','ConnectionGroup','addPendingHandshakeCandidate','/transactions/lastTransaction','listenerUnsubscribers','onHandshakeStateChange','Stats:\x20report','processServiceReport','isWhereValue','removeConnection','handlePublishMediaStream','validateValue','keyValueDatabases','requestSubscriptionAction','ownerId','content-unpublish-media','Cannot\x20unpublish\x20object:\x20','agentConfig','JobStatus','Waiting','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','objectStore','availableTrackKinds','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','Support:\x20current\x20config','\x20already\x20exists.','Processing','Cannot\x20publish\x20folder:\x20','reads','stopNoThrottlingHack','processPendingHandshakeCandidates','childRemovedUnsubscriber','PubSubTopicNameNotString','forEach','previousTimestamp','chooseAnswer','handleContentClosePubSubTopic','handleMissingSenders','connectionManager','Early\x20return','onMessage','has','ObjectStoreInvalidPath','KeyValueDatabaseInvalidLayout','syncTransactionsWritten','shouldProcessJob','Database\x20already\x20exists','Error\x20committing\x20batch:','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','event','Amplify','audio','RequestFileSync','createSenderConnection','source','abs','ObjectStoreAlreadyExists','previousBytes','localMediaStreams','moveObject','setReportCapacity','Node\x20already\x20exists.','ClusterAlreadyJoined','ScreenSharing','prompt','KeyValueDatabaseNameNotString','\x27\x20to\x20','buildTableEvent','receiverPreviousTimestamp','startNoThrottlingHack','removeOutgoingSubscription','remote-stream-does-not-exist','shouldContinuePropagation','handleFileRequest','Module','setSinkId','skipEncryption','KeyValueDatabaseNotOpen','ContentType','DataStream','cpu.time_per_frame','layout','joinedAt','runTransaction','handleSubscriptionNeedMediaStream','status','peer-connection','incrementVersion','isWhereValues','batchTimeout','handleCloseMediaStream','FileMove','receiverCurrentTimestamp','senderCurrentTimestamp','senderPreviousTimestamp','content-publish-media','Invalid\x20params','processRank','applyRemediation','PubSubTopicStats','Pending','getRemoteNodes','startsWith','PubSub\x20already\x20exists','deletePendingFile','InvalidSubscriber','JobWorker:\x20Handling\x20AI\x20job\x20attribution','Synced','dataChannel','remediationManager','NodeNotAuthenticated','maxConnections','.crewdle-pending','getHash','joinedClusters','collectReceiversStats','AppSync\x20publish','handleNodeJoin','getNumberOutgoingSubscriptions','.info/connected','absolutePathName','local-stream-does-not-exist','mute','Resolution','remoteId','timestamp','subscriptionRequests','arrayBufferToObject','discover','isSubscribed','media-stream','setParams','distance','asObservable','listenerUnsubscriber','maxLayer','joinCluster','getDistance','key','Invalid\x20key\x20\x27','RemoteMediaStreamInvalidSubscriptionParams','generative-ai-label-conflict','getSupportedContentTypes','getSubscriptionInfo','KeyValueDatabaseTableNameReserved','message','keyValueDatabase','.crewdle-layout','counter','setupTrackEndedListeners','getLocalId','getGenerativeAIWorkers','batchSize','roundTripTime','Content','join','subscribeToContent','PubSubTopicAlreadySubscribed','User','getShareableStreamId','createGenerativeAIContext','NodeTypeNotSupported','topics','Invalid\x20version\x20\x27','Stream\x20does\x20not\x20exist','buffer','getApp','context','asc','length','Connection\x20not\x20connected.','keys','localNode','removeRemoteStreamSubscription','iceServers','CloseJobDispatcher','email','pendingHandshakeCandidates','logRaw','unregisterSubscriber','KeyValueDatabaseDoesNotExist','createPubSubTopic','JobDispatcherCreationFailed','Invalid\x20query','isAIFailedResponse','restartTimeout','\x20failed.\x20Retrying...','openJobDispatcher','openGenerativeAIWorker','rtt','clearSyncTimeout','job-worker-invalid-type','number','Internal\x20unknown\x20error:\x20','handleSubscriptionMediaStreamUnavailable','orchestrator','ccc','setTransformations','Sending\x20\x27','handleObjectDelete','maxOutgoingSubscriptions','initializeApp','AudioOutput','connected','key-value-database-transaction-table-not-initialized','getJobDispatchers','crewdle-sdk-logging-','request-accepted','SubscriptionRequestDoesNotExist','retryQueue','priority','restartHandshake','Internal\x20error:\x20','Problem','reject','hasOwnProperty','senderCurrentBytes','frames','handleChunkMessage','syncedFileExists','object-store-stream-does-not-exist','replace','setPendingFileSyncingPayload','.crewdle-last-transaction','exists','handleUpdateMediaStream','responseTimeout','count','writeBatch','JobDispatcherInvalidJobType','registerSource','NeedRestart','authNode','KeyValueDatabaseTableDoesNotExist','getConnectionType','start','debounceProcessRank','setLocalRank','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','KeyValueDatabaseTransactionTableNotInitialized','assign','between','notifyClusterNodeJoin','createConstantSource','tracks','offset','Invalid\x20data\x20channel.','sendFileRequestPayload','sendWithRetry','subscription-request-in-progress','gpu','handleLocalTrackFailure','connect','handleJobAttribution','clientHeight','client','handshakeDebounce','Support:\x20','-leave','fileChunks','getRoundTripTime','FileWrite','isAIBidResponse','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','getBid','setReceiverBytes','validateAccess','remote-connection-exists','operator','closeConnection','Result','estimatedPlayoutTimestamp','setupStatsReporting','/logs','en-US','Job\x20service\x20job\x20not\x20found.','limit','notifyClusterNodeUpdate','removeNode','removeSubscription','mediaUnsubscribers','messageCallback','connection-state','onClose','getConnectionDestinations','Invalid\x20job\x20service\x20payload.','crewdleSDKDisableLogging','handleContentUpdateMediaStream','Local\x20stream\x20does\x20not\x20exist.','Restart','isWhereBetween','send\x20error\x20on\x20','manageAncestor','getTrackFromParam','toString','where','MediaStream','getAncestors','packetsLost','Bid','/objectstores/','closeSubscription','upgrade','clearWaitAnswer','loadEnabledChannels','Local\x20MediaStream\x20already\x20exists','Cannot\x20write\x20transaction.','High','getStatus','local-media-stream-track-fail','updateLastTransactionId','objectRequests','deleteObject','MistletCapacityReportNotSet','onload','RemoteRemove','Node\x20does\x20not\x20exist.','/documents','debugEnabled','handleSubscriptionUnsubscribeMediaStream','connectionTimeout','bid','clearUpgradeTimeout','FileDelete','endpoint','AppSync\x20client\x20not\x20ready','Folder','RemoteMediaStreamAlreadyExists','previous','cost','crewdle-sdk-stg.appspot.com','sampleRate','JobWorker:\x20Sending\x20AI\x20job\x20result','unsubscribe','agent-config-changed','getOwnerId','disconnectCallback','minThreshold','publish','getContentType','topic','text/plain','List','CloseJobWorker','ended','ClosePubSubTopic','ObjectStoreStats','answerJoin','generateClient','Node\x20is\x20not\x20an\x20agent','jobBids','notifyJoin','connection-invalid-data-event','updateDebounceTimeout','setInterval','Invalid\x20data\x20event.','return\x20this','codes','Incoming','SubscriptionRequestFailed','sendStats','\x20check\x20failed','openObjectStoreBucket','initialize','bufferEvent','SystemTopic\x20publish','setStatus','getQuery','error','objectToArrayBuffer','leave','jobPhase','value','Sender','remediation','key-value-database-index-not-found','random','AI\x20Service\x20already\x20exists','Failed\x20to\x20create\x20job\x20service','systemTopic','writeFile','connectionGroup','StreamReport','getRemoteConnections','connectionType','key-value-database-already-exists','emit','handleNodeSystemEvents','file','isAIJobAttribution','jobObservers','NodeManager\x20-\x20PublishNodeLeave','createLocalMediaStream','heartbeatUnsubscriber','missing-datachannel','subscription-request-does-not-exist','handleNodeLeave','OPFSObjectStoreConnector','processReports','Pool','onUnregisterPublisher','deleteTransactionsForTable','getSenderBitrate','getLayout','currentFrames','lastProcessRank','Invalid\x20where\x20clause','hasRemoteNode','hasTracks','KeyValueDatabaseInvalidQuery','Other','registerSystemSource','calculateSize','content','fromEntries','node-type-not-supported','out','getLastUpdated','boolean','handleContentCloseObjectStore','LocalMediaStreamAlreadyExists','signalingServer','senderPreviousBytes','PubSubTopic\x20publish','setScheduleTime','RequestFileWrite','bufferedAmount','checkAudioVolume','InvalidPublisher','internal-sdk-error','crewdle-sdk','keyPath','collectStats','Subscription','origin','systemMessages','isNeedRestart','isReconnecting','key-value-database-table-not-found','processReport','processReceiverReport','ai-worker-','resume','user-join','audioDestination','checkAudioOutput','pendingFilesRename','Delete','resetConnection','removeIncomingSubscription','ObjectStoreNotInSync','Default','rank','Object\x20store\x20is\x20not\x20in\x20sync','clearRestartTimeout','NodeConnectionsUpdate','Invalid\x20subscription.','PubSubTopic\x20onMessage','targetId','resolution','height','deleteRemoteNode','Failed\x20to\x20read\x20file\x20chunk','enabledChannels','width','ref','Downgrade','unregisterRemoteNode','processRemoteInboundReport','agent-join','ConnectionNoRetryQueue','Completed','setUpgradeTimeout','Subject','notifyObjectStoreOfNodeJoin','sendTransactionsValue','isAIJobRequest','subscribedTracks','observer','GenerativeAILabelConflict','all','cpu.av_delay','evaluateBidsAndAttributeJob','setOnDisconnectHandler','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','handleOnMessage','remote-media-stream-already-exists','inactive','lastHeartbeat','Detection','compareTransactions','ObjectStoreNotSynced','Stats','ConnectionNotConnected','GenerativeAIContextCreationFailed','registerRemoteNode','removeKeyValueDatabase','getName','handleSubscriptionRestartNeedMediaStream','getMilliseconds','authContext','sendBid','reportCapacity','MissingRemoteConnection','Request','setProviderId','getMediaStream','stringify','enumerateDevices','Success','getJob','No\x20connections\x20available\x20to\x20send\x20message','ObjectStoreNameNotString','element','receiverStreams','connectionStateListener','undefined','transformations','5152743rpqhVY','getPartsFromSubscription','AudioVolume','frameTime','receivers','getEnabledChannels','getPacketsLostPerc','signalingState','streamLabel','jitter','JobDispatcherJobExists','output','JobDispatcherObserverNotFound','bitrate','framesDecoded','publishSystemMessage','removeObjectStore','All\x20recipients\x20already\x20received','getLabel','remoteMediaStreams','KeyValueDatabaseAlreadyExists','support','No\x20destinationIds\x20left','DataStream\x20send','handleSubscriptionProvideMediaStream','ancestors','systemTopicUnsubscribe','onNodeDisconnect','minConnections','connection-not-initialized','\x27:\x20missing\x20or\x20invalid\x20keyPath','getProviderId','Agent','Subscription\x20request\x20failed.','connectAgent','firebase-disconnect','Offer','openGenerativeAIContext','getObjectStoreBuckets','processBatch','startHeartbeat','Remove','unsubscribeTrackEndedListener','vectorDatabaseConnector','onTrack','maxBitrate','Store\x20already\x20exists','feature-not-enabled','Bitrate','local-media-stream-no-audio-context','Early\x20return:\x20','publishNodeLeave','appsync-no-destination','createObjectStoreBucket','Invalid\x20job\x20service\x20job\x20type.','sendReject','dt_volatility','logPropagateSystemEvent','getConfigs','addDoc','configs','map','toStringTag','Jitter','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','subtle','getReport','stream','receiverTimeProcessing','setOnMessageHandler','videoWidth','Upgrade','consumeBufferedEvents','onGatheringStateChange','PubSubTopicDoesNotExist','DeviceConfig','9130qzdhia','Subscription\x20request\x20has\x20not\x20been\x20answered.','removeRemoteNode','clockSkew','publishLocalDynamicMediaStream','RemoteAdd','currentBatch','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','Orchestrator\x20handleSystemEvents','KeyValueDatabaseTableNotFound','sdkValidateAccess','Handshake','filteredDestinationIds','getConnectionGroup','CrewdleConnection\x20handlePeerConnectionSystemEvents','getEstimatedTimestamp','/capacities','incomingManager','object-storage','DatabaseEvent','receiverBitrate','receiverCurrentBytes','functions','handleOptimizationConnectionSuccess','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','setTimestamp','clientWidth','subscribeToJobs','CloseMediaStream','removeJobWorker','Job\x20service\x20observer\x20not\x20found.','JobWorkerDoesNotExist','Only\x20','RemoteMediaStreamTrackFail','Transaction','logBatch','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','currentTimestamp','addRemoteConnection','WebGL','publishFolder','Only\x20AI\x20jobs\x20are\x20supported\x20by\x20this\x20dispatcher.','getDTVolatility','\x27\x20payload:','name','connectionPool','senderConnection','dataUnsubscribers','audioSource','crewdle-sdk.firebaseapp.com','completeSync','OutgoingMediaStreamNoTopic','index','messageType','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','nextNodeId','key-value-database-transaction-value-not-set','createOffer','removeEventListener','registerCluster','getGenerativeAIContexts','internalId','getSubscribedTracks','function','StorageEventType','open','getReceiverBitrate','unsubscribeListener','handleFileSync','max','RemoteRemediation','detectProblems','transactionService','LocalMediaStreamNoAudioContext','Online','senderStreams','addMessage','object-store-not-in-sync','CrewdleReceiverConnection\x20ontrack','Remote\x20MediaStream\x20already\x20exists','updateUser','object','complete','JobWorkerAlreadyExists','An\x20error\x20occurred','evaluateBids','getAncestorIds','downgrade','Invalid\x20table\x20name\x20\x27','unpublish','publishTransaction','key-value-database','auth','component','handleContentSystemEvents','Accepted','RequestSyncKeyValueDatabase','handlePeerConnectionSystemEvents','functionsRegion','signaling','JobDispatcher:\x20Received\x20job','eventEmitter','threshold','setEmail','createNewBatch','warn','globalObject','subscriptions','job-dispatcher-invalid-job-type','GenerativeAIContextDoesNotExist','node-invalid-type','Invalid\x20index\x20in\x20table\x20\x27','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','logServiceEvent','Data','from','handleSystemEvents','Key-value\x20database\x20creation\x20failed.','PeerConnection','AudioContext\x20is\x20not\x20available','JobWorker:\x20Error\x20processing\x20job','eventListener','Base\x20Peer\x20Connection','Remediation','writeTransaction','Database\x20not\x20open','not-in','handleCloseJobWorker','unshift','clearWaitSuccess','onValue','\x27\x20from\x20','publishSyncCompleted'];a0_0x1c09=function(){return _0x4c3b84;};return a0_0x1c09();}function a0_0x3de5(_0x3c5a37,_0x41a9bc){const _0x1c09be=a0_0x1c09();return a0_0x3de5=function(_0x3de52a,_0x49a1a0){_0x3de52a=_0x3de52a-0xc9;let _0x105b58=_0x1c09be[_0x3de52a];return _0x105b58;},a0_0x3de5(_0x3c5a37,_0x41a9bc);}(function(_0x379c18,_0x4a2ccb){const _0x2381a8=a0_0x3de5,_0x1199c6=_0x379c18();while(!![]){try{const _0x4ad6e6=-parseInt(_0x2381a8(0x11c))/0x1+parseInt(_0x2381a8(0x191))/0x2*(-parseInt(_0x2381a8(0x272))/0x3)+-parseInt(_0x2381a8(0x2c6))/0x4*(parseInt(_0x2381a8(0x636))/0x5)+parseInt(_0x2381a8(0x1b4))/0x6*(parseInt(_0x2381a8(0x28d))/0x7)+parseInt(_0x2381a8(0x152))/0x8+-parseInt(_0x2381a8(0x5ea))/0x9*(parseInt(_0x2381a8(0x1a4))/0xa)+parseInt(_0x2381a8(0x247))/0xb;if(_0x4ad6e6===_0x4a2ccb)break;else _0x1199c6['push'](_0x1199c6['shift']());}catch(_0x3259d8){_0x1199c6['push'](_0x1199c6['shift']());}}}(a0_0x1c09,0x563a2),!function(_0x41ee29,_0x2ad9ec){const _0xa4a085=a0_0x3de5;if(_0xa4a085(0x687)==typeof exports&&_0xa4a085(0x687)==typeof module)module[_0xa4a085(0x3db)]=_0x2ad9ec();else{if(_0xa4a085(0x675)==typeof define&&define['amd'])define([],_0x2ad9ec);else{var _0x1668ae=_0x2ad9ec();for(var _0x49474a in _0x1668ae)(_0xa4a085(0x687)==typeof exports?exports:_0x41ee29)[_0x49474a]=_0x1668ae[_0x49474a];}}}(this,()=>((()=>{'use strict';const _0x35c147=a0_0x3de5;var _0x586cc2={0x14d:(_0x4cd99f,_0x3cca61,_0x4bd1f4)=>{const _0x1bfb54=a0_0x3de5;_0x4bd1f4['d'](_0x3cca61,{'O':()=>_0x51f946});const _0x51f946={'version':_0x1bfb54(0x17d),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x1bfb54(0x1ab),'databaseURL':_0x1bfb54(0x370),'projectId':'crewdle-sdk-stg','storageBucket':_0x1bfb54(0x52e),'appId':_0x1bfb54(0x132),'functionsRegion':_0x1bfb54(0x135)},'aws':{'endpoint':_0x1bfb54(0x4eb),'region':_0x1bfb54(0x73c)}};},0x33b:(_0x59d1a7,_0x276820,_0x7de672)=>{_0x7de672['d'](_0x276820,{'O':()=>_0x63dfa});const _0x63dfa={};},0x3e6:(_0x590556,_0x4ac312,_0x2d8382)=>{const _0x40964b=a0_0x3de5;_0x2d8382['d'](_0x4ac312,{'O':()=>_0xd0d4f1});const _0xd0d4f1={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x40964b(0xfc),'authDomain':_0x40964b(0x667),'databaseURL':_0x40964b(0x10a),'projectId':_0x40964b(0x592),'storageBucket':_0x40964b(0x2b4),'messagingSenderId':'420235181083','appId':_0x40964b(0x75b),'measurementId':_0x40964b(0x718)},'aws':{'endpoint':_0x40964b(0x3a2),'region':_0x40964b(0x73c)}};},0x20:(_0x24acd3,_0x11e01f,_0x397c31)=>{_0x397c31['d'](_0x11e01f,{'O':()=>_0xb15a13});const _0xb15a13={};}},_0x3d759b={};function _0x525647(_0x5d3476){const _0x2fa245=a0_0x3de5;var _0x552845=_0x3d759b[_0x5d3476];if(void 0x0!==_0x552845)return _0x552845['exports'];var _0x40d8eb=_0x3d759b[_0x5d3476]={'exports':{}};return _0x586cc2[_0x5d3476](_0x40d8eb,_0x40d8eb[_0x2fa245(0x3db)],_0x525647),_0x40d8eb['exports'];}_0x525647['d']=(_0x1d8067,_0x1503be)=>{for(var _0x305be8 in _0x1503be)_0x525647['o'](_0x1503be,_0x305be8)&&!_0x525647['o'](_0x1d8067,_0x305be8)&&Object['defineProperty'](_0x1d8067,_0x305be8,{'enumerable':!0x0,'get':_0x1503be[_0x305be8]});},_0x525647['g']=(function(){const _0xbd580b=a0_0x3de5;if(_0xbd580b(0x687)==typeof globalThis)return globalThis;try{return this||new Function(_0xbd580b(0x548))();}catch(_0x405db1){if(_0xbd580b(0x687)==typeof window)return window;}}()),_0x525647['o']=(_0x535ea2,_0x2dfabe)=>Object['prototype'][_0x35c147(0x4bb)][_0x35c147(0x179)](_0x535ea2,_0x2dfabe),_0x525647['r']=_0x3db872=>{const _0x307d6f=_0x35c147;_0x307d6f(0x5e8)!=typeof Symbol&&Symbol[_0x307d6f(0x628)]&&Object['defineProperty'](_0x3db872,Symbol[_0x307d6f(0x628)],{'value':_0x307d6f(0x42e)}),Object['defineProperty'](_0x3db872,_0x307d6f(0x3b1),{'value':!0x0});};var _0x45ec01={};return((()=>{const _0x2db2ce=_0x35c147;var _0x3a91a5,_0x2fe3df,_0x50f1bc;_0x525647['r'](_0x45ec01),_0x525647['d'](_0x45ec01,{'KeyValueDatabase':()=>_0x3411f1,'LayoutBuilder':()=>_0x4effc0,'LoggingChannels':()=>_0x50f1bc,'QueryBuilder':()=>_0x1fe594,'SDK':()=>_0x488a34,'SDKClientErrorCodes':()=>_0x3a91a5,'TableBuilder':()=>_0x11cd66,'logger':()=>_0x4aa571}),function(_0x552fc7){const _0x270a7d=a0_0x3de5;_0x552fc7[_0x270a7d(0x422)]=_0x270a7d(0x2b5),_0x552fc7['FeatureNotEnabled']=_0x270a7d(0x619),_0x552fc7[_0x270a7d(0x1c6)]='generative-ai-context-already-exists',_0x552fc7[_0x270a7d(0x6a3)]=_0x270a7d(0x2cf),_0x552fc7['GenerativeAILabelConflict']=_0x270a7d(0x471),_0x552fc7[_0x270a7d(0xd3)]=_0x270a7d(0x213),_0x552fc7[_0x270a7d(0x2a8)]=_0x270a7d(0x3bb),_0x552fc7['GenerativeAIWorkerModelSyncError']=_0x270a7d(0x389),_0x552fc7[_0x270a7d(0x2d9)]=_0x270a7d(0x2bb),_0x552fc7[_0x270a7d(0x32d)]=_0x270a7d(0x3c9),_0x552fc7[_0x270a7d(0x5f4)]='job-dispatcher-job-exists',_0x552fc7[_0x270a7d(0x32e)]=_0x270a7d(0xca),_0x552fc7['JobDispatcherInvalidJobType']='job-dispatcher-invalid-job-type',_0x552fc7[_0x270a7d(0x689)]=_0x270a7d(0x1cd),_0x552fc7['JobWorkerDoesNotExist']=_0x270a7d(0x168),_0x552fc7[_0x270a7d(0x3c0)]='job-worker-invalid-type',_0x552fc7[_0x270a7d(0x41c)]='object-store-already-exists',_0x552fc7[_0x270a7d(0xf4)]='object-store-already-subscribed',_0x552fc7[_0x270a7d(0x35d)]=_0x270a7d(0x4c0),_0x552fc7[_0x270a7d(0x5e4)]='object-store-name-not-string',_0x552fc7[_0x270a7d(0x232)]='object-store-invalid-payload',_0x552fc7[_0x270a7d(0x40e)]='object-store-invalid-path',_0x552fc7['ObjectStoreNotInSync']=_0x270a7d(0x683),_0x552fc7['InternalSDKError']=_0x270a7d(0x591),_0x552fc7[_0x270a7d(0x5fe)]=_0x270a7d(0x565),_0x552fc7[_0x270a7d(0x498)]=_0x270a7d(0x1ae),_0x552fc7[_0x270a7d(0x1cb)]=_0x270a7d(0x55b),_0x552fc7[_0x270a7d(0x57d)]=_0x270a7d(0x16e),_0x552fc7[_0x270a7d(0x1a7)]=_0x270a7d(0x153),_0x552fc7[_0x270a7d(0x425)]=_0x270a7d(0x6dd),_0x552fc7['KeyValueDatabaseNotOpen']=_0x270a7d(0x284),_0x552fc7[_0x270a7d(0x474)]=_0x270a7d(0x15d),_0x552fc7[_0x270a7d(0x63f)]=_0x270a7d(0x59a),_0x552fc7[_0x270a7d(0x40f)]='key-value-database-invalid-layout',_0x552fc7[_0x270a7d(0x588)]=_0x270a7d(0x171),_0x552fc7[_0x270a7d(0x67f)]=_0x270a7d(0x61b),_0x552fc7[_0x270a7d(0x1f2)]='pub-sub-topic-already-exists',_0x552fc7['PubSubTopicDoesNotExist']=_0x270a7d(0x215),_0x552fc7['PubSubTopicNameNotString']=_0x270a7d(0x2b0),_0x552fc7[_0x270a7d(0x481)]=_0x270a7d(0x203),_0x552fc7[_0x270a7d(0x10c)]=_0x270a7d(0x37e),_0x552fc7[_0x270a7d(0x52b)]=_0x270a7d(0x5ca),_0x552fc7[_0x270a7d(0x470)]=_0x270a7d(0x321),_0x552fc7[_0x270a7d(0x1ad)]=_0x270a7d(0x4dd),_0x552fc7[_0x270a7d(0x452)]=_0x270a7d(0x2df),_0x552fc7[_0x270a7d(0x355)]=_0x270a7d(0x6a4),_0x552fc7['NodeTypeNotSupported']=_0x270a7d(0x583);}(_0x3a91a5||(_0x3a91a5={}));class _0x5c22ea extends Error{['code'];constructor(_0x5e2a5a,_0x2e87e4){const _0x11e5cd=a0_0x3de5;super(_0x2e87e4),this[_0x11e5cd(0x308)]=_0x5e2a5a;}}!function(_0xce909f){const _0x17a960=a0_0x3de5;_0xce909f[_0x17a960(0x732)]=_0x17a960(0xf9),_0xce909f[_0x17a960(0x163)]=_0x17a960(0x648),_0xce909f[_0x17a960(0x220)]=_0x17a960(0x691),_0xce909f[_0x17a960(0x50c)]=_0x17a960(0x466);}(_0x2fe3df||(_0x2fe3df={})),function(_0x29fa43){const _0x528bdf=a0_0x3de5;_0x29fa43[_0x528bdf(0x3bf)]=_0x528bdf(0x5c4),_0x29fa43[_0x528bdf(0x5a7)]='default',_0x29fa43[_0x528bdf(0x3b4)]=_0x528bdf(0x74f),_0x29fa43[_0x528bdf(0x222)]=_0x528bdf(0x4fe),_0x29fa43['Cluster']='cluster',_0x29fa43[_0x528bdf(0x47e)]=_0x528bdf(0x581),_0x29fa43['DataStream']='data-stream',_0x29fa43['Detection']=_0x528bdf(0xe4),_0x29fa43[_0x528bdf(0x6c1)]='events',_0x29fa43['Error']=_0x528bdf(0x554),_0x29fa43[_0x528bdf(0x21e)]='jobs',_0x29fa43[_0x528bdf(0x254)]=_0x528bdf(0x25e),_0x29fa43[_0x528bdf(0x573)]='pool',_0x29fa43[_0x528bdf(0x732)]=_0x528bdf(0xf9),_0x29fa43[_0x528bdf(0x6b1)]=_0x528bdf(0x55a),_0x29fa43[_0x528bdf(0x3bd)]=_0x528bdf(0x699),_0x29fa43[_0x528bdf(0x5d0)]=_0x528bdf(0xeb),_0x29fa43[_0x528bdf(0x595)]=_0x528bdf(0x1c5),_0x29fa43[_0x528bdf(0x353)]=_0x528bdf(0x5ff),_0x29fa43[_0x528bdf(0x125)]=_0x528bdf(0x37f),_0x29fa43['SystemStats']='system-stats',_0x29fa43['TestPage']=_0x528bdf(0x300),_0x29fa43[_0x528bdf(0x6ac)]=_0x528bdf(0x43a);}(_0x50f1bc||(_0x50f1bc={}));const _0x26993c=require('@crewdle/web-sdk-types');class _0x1fe594{['query'];constructor(_0x5cc2a6){const _0x1f05b4=a0_0x3de5;this[_0x1f05b4(0x38b)]={'orderBy':{'key':_0x5cc2a6,'direction':'asc'}};}static['index'](_0x2c36b6){const _0x41ef3c=a0_0x3de5;if(_0x41ef3c(0x6dc)!=typeof _0x2c36b6||0x0===_0x2c36b6['length'])throw new _0x5c22ea(_0x3a91a5[_0x41ef3c(0x10c)],_0x41ef3c(0x2da));return new _0x1fe594(_0x2c36b6);}static[_0x2db2ce(0x263)](_0x302cb3){const _0x575206=_0x2db2ce;try{return _0x1fe594[_0x575206(0x705)](_0x302cb3),!0x0;}catch(_0x10421d){return!0x1;}}static[_0x2db2ce(0x705)](_0x48698c){const _0x2783c9=_0x2db2ce,_0x55f640=_0x1fe594[_0x2783c9(0x66a)](_0x48698c[_0x2783c9(0x19b)]?.[_0x2783c9(0x46e)]??_0x48698c[_0x2783c9(0x50b)]?.['key']??'');if(_0x48698c['where']){const _0x5d08ab=_0x48698c[_0x2783c9(0x50b)];if((_0x1fe594[_0x2783c9(0x3ec)](_0x5d08ab)||_0x1fe594[_0x2783c9(0x43c)](_0x5d08ab)||_0x1fe594[_0x2783c9(0x506)](_0x5d08ab))&&_0x55f640[_0x2783c9(0x50b)](_0x5d08ab[_0x2783c9(0x4f0)],_0x5d08ab[_0x2783c9(0x558)]),_0x48698c[_0x2783c9(0x19b)]?.[_0x2783c9(0x46e)]&&_0x48698c[_0x2783c9(0x19b)]?.[_0x2783c9(0x46e)]!==_0x48698c['where']['key'])throw new _0x5c22ea(_0x3a91a5[_0x2783c9(0x10c)],_0x2783c9(0x62a));}return _0x48698c['orderBy']&&_0x55f640['orderBy'](_0x48698c['orderBy']['direction']),_0x48698c['limit']&&_0x55f640[_0x2783c9(0x4f8)](_0x48698c[_0x2783c9(0x4f8)]),_0x48698c[_0x2783c9(0x4d9)]&&_0x55f640['offset'](_0x48698c[_0x2783c9(0x4d9)]),_0x55f640;}[_0x2db2ce(0x553)](){const _0x3a7a93=_0x2db2ce;return{...this[_0x3a7a93(0x38b)]};}[_0x2db2ce(0x50b)](_0x57bbd3,_0x690502){const _0x4f7c81=_0x2db2ce,_0x421a8b={'key':this[_0x4f7c81(0x38b)]['orderBy'][_0x4f7c81(0x46e)],'operator':_0x57bbd3,'value':_0x690502};if(!_0x1fe594[_0x4f7c81(0x3ec)](_0x421a8b)&&!_0x1fe594[_0x4f7c81(0x43c)](_0x421a8b)&&!_0x1fe594['isWhereBetween'](_0x421a8b))throw new _0x5c22ea(_0x3a91a5[_0x4f7c81(0x10c)],_0x4f7c81(0x57a));return this['query'][_0x4f7c81(0x50b)]=_0x421a8b,this;}[_0x2db2ce(0x19b)](_0x28706e){const _0x508fc1=_0x2db2ce;if(_0x508fc1(0x48c)!==_0x28706e&&_0x508fc1(0x204)!==_0x28706e)throw new _0x5c22ea(_0x3a91a5[_0x508fc1(0x10c)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x508fc1(0x38b)][_0x508fc1(0x19b)][_0x508fc1(0x117)]=_0x28706e,this;}[_0x2db2ce(0x4f8)](_0x5cb4e5){const _0x4d3866=_0x2db2ce;if(_0x4d3866(0x4a4)!=typeof _0x5cb4e5||_0x5cb4e5<0x0)throw new _0x5c22ea(_0x3a91a5[_0x4d3866(0x10c)],_0x4d3866(0x186));return this[_0x4d3866(0x38b)]['limit']=_0x5cb4e5,this;}['offset'](_0x13b447){const _0x15fc7e=_0x2db2ce;if('number'!=typeof _0x13b447||_0x13b447<0x0)throw new _0x5c22ea(_0x3a91a5[_0x15fc7e(0x10c)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query']['offset']=_0x13b447,this;}static[_0x2db2ce(0x3ec)](_0xc629c9){const _0x1c8235=_0x2db2ce;if(!(_0xc629c9&&_0x1c8235(0x687)==typeof _0xc629c9&&_0x1c8235(0x4f0)in _0xc629c9&&_0x1c8235(0x558)in _0xc629c9))return!0x1;const {operator:_0x5a4043,value:_0x5a851f}=_0xc629c9;return!(!['==','!=','>','<','<=','>=']['includes'](_0x5a4043)||Array[_0x1c8235(0x2d4)](_0x5a851f));}static['isWhereValues'](_0x19ce2b){const _0x455cdf=_0x2db2ce;if(!(_0x19ce2b&&'object'==typeof _0x19ce2b&&_0x455cdf(0x4f0)in _0x19ce2b&&_0x455cdf(0x558)in _0x19ce2b))return!0x1;const {operator:_0x28ba95,value:_0x52dc64}=_0x19ce2b;return!(!['in',_0x455cdf(0x6b4)][_0x455cdf(0x28e)](_0x28ba95)||!Array[_0x455cdf(0x2d4)](_0x52dc64));}static[_0x2db2ce(0x506)](_0x5dde18){const _0x2c0498=_0x2db2ce;if(!(_0x5dde18&&'object'==typeof _0x5dde18&&_0x2c0498(0x4f0)in _0x5dde18&&_0x2c0498(0x558)in _0x5dde18))return!0x1;const {operator:_0x2226f5,value:_0x3f127c}=_0x5dde18;return!(_0x2c0498(0x4d5)!==_0x2226f5||!Array[_0x2c0498(0x2d4)](_0x3f127c)||0x2!==_0x3f127c[_0x2c0498(0x48d)]);}}class _0x4effc0{[_0x2db2ce(0x435)];constructor(_0x558c83){const _0x204c43=_0x2db2ce;this[_0x204c43(0x435)]={'tables':{},'version':_0x558c83};}static['validateLayout'](_0x28a512){const _0x270a69=_0x2db2ce;for(const _0x236ed6 in _0x28a512){if(_0x270a69(0x2e6)!==_0x236ed6&&_0x270a69(0x1c3)!==_0x236ed6)return[!0x1,'Invalid\x20key\x20\x27'+_0x236ed6+_0x270a69(0x20f)];if(_0x270a69(0x1c3)===_0x236ed6)for(const _0x1223b1 in _0x28a512[_0x270a69(0x1c3)]){if(_0x270a69(0x6dc)!=typeof _0x1223b1)return[!0x1,_0x270a69(0x68e)+_0x1223b1+'\x27'];for(const _0x24bffc in _0x28a512[_0x270a69(0x1c3)][_0x1223b1]){if(_0x270a69(0x2ce)!==_0x24bffc)return[!0x1,_0x270a69(0x46f)+_0x24bffc+_0x270a69(0x233)+_0x1223b1+'\x27'];const _0x2b56dc=_0x28a512[_0x270a69(0x1c3)][_0x1223b1][_0x24bffc]??[];for(const _0x12d2a3 of _0x2b56dc)if(void 0x0===_0x12d2a3['keyPath']||_0x270a69(0x6dc)!=typeof _0x12d2a3[_0x270a69(0x593)])return[!0x1,_0x270a69(0x6a5)+_0x1223b1+_0x270a69(0x608)];}}else{if(_0x270a69(0x2e6)===_0x236ed6&&_0x270a69(0x4a4)!=typeof _0x28a512[_0x236ed6])return[!0x1,_0x270a69(0x487)+_0x28a512[_0x236ed6]+_0x270a69(0xee)];}}return[!0x0,'Valid\x20layout'];}static[_0x2db2ce(0x435)](_0x5dad07){const _0x257838=_0x2db2ce,_0x45f1db=new _0x4effc0(_0x5dad07);return _0x45f1db[_0x257838(0x435)][_0x257838(0x2e6)]=_0x5dad07,_0x45f1db;}['table'](_0x3ffcb2){const _0x30612f=_0x2db2ce;return this[_0x30612f(0x435)][_0x30612f(0x1c3)][_0x3ffcb2]={},new _0x11cd66(this[_0x30612f(0x435)][_0x30612f(0x1c3)][_0x3ffcb2]);}[_0x2db2ce(0x577)](){const _0x47c23e=_0x2db2ce;return this[_0x47c23e(0x435)];}}class _0x11cd66{[_0x2db2ce(0x753)];constructor(_0x17c413){this['tableLayout']=_0x17c413;}[_0x2db2ce(0x66a)](_0x230bd5){const _0x2f644d=_0x2db2ce;return this['tableLayout']['indexes']=this['tableLayout']['indexes']??[],this[_0x2f644d(0x753)][_0x2f644d(0x2ce)][_0x2f644d(0x23d)]({'keyPath':_0x230bd5}),this;}}const _0x2c7066=_0x2db2ce(0x4c3),_0x121218=_0x2db2ce(0x454),_0x31869f='.crewdle-transactions',_0x32a8d8=_0x2db2ce(0x477),_0x2c006b=0x7530,_0x150f3e=_0x2db2ce(0x174);var _0x5c3180;!function(_0x5a147f){const _0x543a69=_0x2db2ce;_0x5a147f[_0x543a69(0x6d2)]=_0x543a69(0x607),_0x5a147f[_0x543a69(0x5d1)]=_0x543a69(0x1e4),_0x5a147f[_0x543a69(0x5ba)]=_0x543a69(0x6c6),_0x5a147f[_0x543a69(0x3be)]=_0x543a69(0x544),_0x5a147f[_0x543a69(0x5d2)]=_0x543a69(0x24b),_0x5a147f['GenerativeAIWorkerCreationFailed']='generative-ai-worker-creation-failed',_0x5a147f['InvalidDataChannel']=_0x543a69(0x6d9),_0x5a147f[_0x543a69(0x590)]=_0x543a69(0x6d5),_0x5a147f['InvalidSubscriber']='invalid-subscriber',_0x5a147f[_0x543a69(0x1ac)]=_0x543a69(0x301),_0x5a147f['JobDispatcherCreationFailed']=_0x543a69(0x260),_0x5a147f['JobDispatcherInvalidPayload']=_0x543a69(0x329),_0x5a147f['JobDispatcherInvalidJobType']=_0x543a69(0x6a2),_0x5a147f[_0x543a69(0x32e)]=_0x543a69(0xca),_0x5a147f[_0x543a69(0x5f6)]=_0x543a69(0x313),_0x5a147f[_0x543a69(0x2c3)]='job-worker-creation-failed',_0x5a147f[_0x543a69(0x3c0)]=_0x543a69(0x4a3),_0x5a147f['KeyValueDatabaseCreationFailed']=_0x543a69(0x1f4),_0x5a147f[_0x543a69(0x4cd)]='key-value-database-table-does-not-exist',_0x5a147f[_0x543a69(0x4d3)]=_0x543a69(0x4b0),_0x5a147f['KeyValueDatabaseTransactionValueNotSet']=_0x543a69(0x66e),_0x5a147f[_0x543a69(0x320)]=_0x543a69(0x45d),_0x5a147f[_0x543a69(0x5db)]='missing-incoming-connection',_0x5a147f[_0x543a69(0x757)]=_0x543a69(0x26c),_0x5a147f[_0x543a69(0x51d)]='mistlet-capacity-report-not-set',_0x5a147f['ObjectStoreCannotWriteTransaction']='object-store-cannot-write-transaction',_0x5a147f[_0x543a69(0x277)]='object-store-invalid-sync-message',_0x5a147f[_0x543a69(0x5cf)]=_0x543a69(0xf6),_0x5a147f[_0x543a69(0x669)]='outgoing-stream-no-topic',_0x5a147f[_0x543a69(0x1e5)]=_0x543a69(0x42b),_0x5a147f[_0x543a69(0xec)]=_0x543a69(0x294),_0x5a147f[_0x543a69(0x22d)]=_0x543a69(0x4ef),_0x5a147f[_0x543a69(0x4b4)]=_0x543a69(0x56f),_0x5a147f[_0x543a69(0x54b)]=_0x543a69(0x1d9),_0x5a147f[_0x543a69(0x38c)]=_0x543a69(0x241),_0x5a147f[_0x543a69(0x235)]=_0x543a69(0x6fd),_0x5a147f[_0x543a69(0x127)]=_0x543a69(0x6d1),_0x5a147f[_0x543a69(0x298)]=_0x543a69(0x1fd);}(_0x5c3180||(_0x5c3180={}));const _0x24bf1a=new Map([[_0x5c3180[_0x2db2ce(0x6d2)],_0x2db2ce(0x1c9)],[_0x5c3180[_0x2db2ce(0x5d1)],_0x2db2ce(0x48e)],[_0x5c3180['ConnectionNoRetryQueue'],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x5c3180[_0x2db2ce(0x3be)],_0x2db2ce(0x547)],[_0x5c3180[_0x2db2ce(0x5d2)],_0x2db2ce(0x2f3)],[_0x5c3180[_0x2db2ce(0x360)],_0x2db2ce(0x178)],[_0x5c3180[_0x2db2ce(0x33c)],_0x2db2ce(0x4da)],[_0x5c3180[_0x2db2ce(0x590)],'Invalid\x20publisher.'],[_0x5c3180['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x5c3180[_0x2db2ce(0x1ac)],_0x2db2ce(0x5ac)],[_0x5c3180['JobDispatcherCreationFailed'],'Job\x20service\x20creation\x20failed.'],[_0x5c3180[_0x2db2ce(0xd9)],_0x2db2ce(0x501)],[_0x5c3180[_0x2db2ce(0x4c9)],_0x2db2ce(0x620)],[_0x5c3180['JobDispatcherJobNotFound'],_0x2db2ce(0x4f7)],[_0x5c3180['JobDispatcherObserverNotFound'],_0x2db2ce(0x654)],[_0x5c3180[_0x2db2ce(0x2c3)],_0x2db2ce(0x2f8)],[_0x5c3180[_0x2db2ce(0x3c0)],_0x2db2ce(0x743)],[_0x5c3180['KeyValueDatabaseCreationFailed'],_0x2db2ce(0x6ab)],[_0x5c3180[_0x2db2ce(0x4cd)],_0x2db2ce(0x166)],[_0x5c3180[_0x2db2ce(0x4d3)],_0x2db2ce(0x4d2)],[_0x5c3180[_0x2db2ce(0x2bf)],_0x2db2ce(0x202)],[_0x5c3180[_0x2db2ce(0x320)],_0x2db2ce(0x504)],[_0x5c3180['MissingRemoteConnection'],'Connection\x20does\x20not\x20exist.'],[_0x5c3180[_0x2db2ce(0x757)],_0x2db2ce(0x348)],[_0x5c3180[_0x2db2ce(0x51d)],_0x2db2ce(0x1a3)],[_0x5c3180[_0x2db2ce(0x368)],_0x2db2ce(0x516)],[_0x5c3180[_0x2db2ce(0x277)],_0x2db2ce(0xcb)],[_0x5c3180[_0x2db2ce(0x5cf)],_0x2db2ce(0x396)],[_0x5c3180[_0x2db2ce(0x669)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x5c3180['RemoteMediaStreamDoesNotExist'],_0x2db2ce(0x3b5)],[_0x5c3180[_0x2db2ce(0xec)],_0x2db2ce(0x65a)],[_0x5c3180['RemoteConnectionExists'],_0x2db2ce(0x3dd)],[_0x5c3180[_0x2db2ce(0x4b4)],_0x2db2ce(0x713)],[_0x5c3180[_0x2db2ce(0x54b)],_0x2db2ce(0x60b)],[_0x5c3180[_0x2db2ce(0x38c)],_0x2db2ce(0x637)],[_0x5c3180[_0x2db2ce(0x235)],_0x2db2ce(0x520)],[_0x5c3180[_0x2db2ce(0x127)],_0x2db2ce(0x421)],[_0x5c3180[_0x2db2ce(0x298)],'Invalid\x20peer\x20connection\x20event\x20destination.']]);class _0xb694a1 extends Error{[_0x2db2ce(0x308)];static [_0x2db2ce(0x549)]=_0x5c3180;[_0x2db2ce(0x1f6)];constructor(_0x1f5dfb,_0x303879){const _0x45fe5e=_0x2db2ce;super(_0x45fe5e(0x234)+_0x1f5dfb+':\x20'+_0x24bf1a['get'](_0x1f5dfb)+_0x45fe5e(0x3dc)+JSON[_0x45fe5e(0x5df)](_0x303879)),this[_0x45fe5e(0x308)]=_0x1f5dfb,this[_0x45fe5e(0x1f6)]=_0x303879||{};}}var _0x1ce536,_0x137c39,_0x36a469,_0x3d1aaf,_0x4c9e18,_0x2cb45e,_0x190ed6;!function(_0x206fe1){const _0x2950d5=_0x2db2ce;_0x206fe1[_0x206fe1['PublishMediaStream']=0x0]='PublishMediaStream',_0x206fe1[_0x206fe1[_0x2950d5(0x1a9)]=0x1]=_0x2950d5(0x1a9),_0x206fe1[_0x206fe1[_0x2950d5(0x2a9)]=0x2]=_0x2950d5(0x2a9),_0x206fe1[_0x206fe1[_0x2950d5(0xf7)]=0x3]=_0x2950d5(0xf7),_0x206fe1[_0x206fe1[_0x2950d5(0x17e)]=0x4]=_0x2950d5(0x17e),_0x206fe1[_0x206fe1[_0x2950d5(0x493)]=0x5]=_0x2950d5(0x493),_0x206fe1[_0x206fe1[_0x2950d5(0x53b)]=0x6]='CloseJobWorker',_0x206fe1[_0x206fe1[_0x2950d5(0x282)]=0x7]=_0x2950d5(0x282),_0x206fe1[_0x206fe1[_0x2950d5(0x253)]=0x8]=_0x2950d5(0x253),_0x206fe1[_0x206fe1[_0x2950d5(0x53d)]=0x9]='ClosePubSubTopic',_0x206fe1[_0x206fe1[_0x2950d5(0x652)]=0xa]=_0x2950d5(0x652),_0x206fe1[_0x206fe1[_0x2950d5(0x216)]=0xb]=_0x2950d5(0x216),_0x206fe1[_0x206fe1['RemoteMediaStreamTrackFail']=0xc]=_0x2950d5(0x657),_0x206fe1[_0x206fe1[_0x2950d5(0x696)]=0xd]=_0x2950d5(0x696),_0x206fe1[_0x206fe1['SendTransactionsDump']=0xe]=_0x2950d5(0x2ab),_0x206fe1[_0x206fe1[_0x2950d5(0x25a)]=0xf]=_0x2950d5(0x25a),_0x206fe1[_0x206fe1[_0x2950d5(0x447)]=0x10]=_0x2950d5(0x447),_0x206fe1[_0x206fe1['ObjectStoreStats']=0x11]=_0x2950d5(0x53e),_0x206fe1[_0x206fe1[_0x2950d5(0x270)]=0x12]=_0x2950d5(0x270);}(_0x1ce536||(_0x1ce536={})),function(_0x2019fe){const _0x473023=_0x2db2ce;_0x2019fe['FileWrite']=_0x473023(0x1ef),_0x2019fe['FolderCreate']=_0x473023(0x228),_0x2019fe[_0x473023(0x5a3)]=_0x473023(0x176),_0x2019fe[_0x473023(0x2c1)]=_0x473023(0x3ce),_0x2019fe[_0x473023(0x28b)]=_0x473023(0x1a6),_0x2019fe[_0x473023(0x225)]=_0x473023(0x4b3),_0x2019fe[_0x473023(0x418)]=_0x473023(0x341),_0x2019fe[_0x473023(0x58d)]='request-file-write';}(_0x137c39||(_0x137c39={})),function(_0x5ed088){const _0x339903=_0x2db2ce;_0x5ed088[_0x339903(0x5dc)]=_0x339903(0x3ca),_0x5ed088[_0x339903(0x658)]=_0x339903(0x183);}(_0x36a469||(_0x36a469={})),function(_0x3f316d){const _0x258158=_0x2db2ce;_0x3f316d[_0x258158(0x3b2)]=_0x258158(0x3c3),_0x3f316d['Update']=_0x258158(0x74b),_0x3f316d[_0x258158(0x5a3)]='delete';}(_0x3d1aaf||(_0x3d1aaf={})),function(_0x2dc7a5){const _0x475802=_0x2db2ce;_0x2dc7a5[_0x475802(0x102)]=_0x475802(0x118),_0x2dc7a5[_0x475802(0x53a)]=_0x475802(0x3cf),_0x2dc7a5[_0x475802(0x6f8)]=_0x475802(0x4c7);}(_0x4c9e18||(_0x4c9e18={})),function(_0x2ea0e9){const _0x381664=_0x2db2ce;_0x2ea0e9[_0x2ea0e9[_0x381664(0x5dc)]=0x0]=_0x381664(0x5dc),_0x2ea0e9[_0x2ea0e9[_0x381664(0x50f)]=0x1]='Bid',_0x2ea0e9[_0x2ea0e9[_0x381664(0x190)]=0x2]=_0x381664(0x190),_0x2ea0e9[_0x2ea0e9[_0x381664(0x4f2)]=0x3]=_0x381664(0x4f2),_0x2ea0e9[_0x2ea0e9[_0x381664(0x14d)]=0x4]=_0x381664(0x14d);}(_0x2cb45e||(_0x2cb45e={})),function(_0x5c4f6b){const _0x15f8d1=_0x2db2ce;_0x5c4f6b[_0x5c4f6b[_0x15f8d1(0x6ac)]=0x0]='PeerConnection',_0x5c4f6b[_0x5c4f6b['Node']=0x1]=_0x15f8d1(0x254),_0x5c4f6b[_0x5c4f6b['Content']=0x2]=_0x15f8d1(0x47e),_0x5c4f6b[_0x5c4f6b[_0x15f8d1(0x595)]=0x3]=_0x15f8d1(0x595),_0x5c4f6b[_0x5c4f6b[_0x15f8d1(0x5d0)]=0x4]=_0x15f8d1(0x5d0),_0x5c4f6b[_0x5c4f6b[_0x15f8d1(0x5cd)]=0x5]='Detection',_0x5c4f6b[_0x5c4f6b['Remediation']=0x6]=_0x15f8d1(0x6b1);}(_0x190ed6||(_0x190ed6={}));class _0x16e1a9{[_0x2db2ce(0x24c)];[_0x2db2ce(0x3a1)];[_0x2db2ce(0x55f)];constructor(_0x5768ef,_0x4e33c4){const _0x35418b=_0x2db2ce;this[_0x35418b(0x24c)]=_0x5768ef,this[_0x35418b(0x3a1)]=_0x4e33c4;}['getLabel'](){const _0x5af253=_0x2db2ce;return this[_0x5af253(0x3a1)];}[_0x2db2ce(0x533)](){const _0x58f585=_0x2db2ce;return this[_0x58f585(0x24c)][_0x58f585(0x28c)]();}['destroy'](){}[_0x2db2ce(0x155)](_0x35725){const _0x1759f7=_0x2db2ce;this[_0x1759f7(0x55f)]=_0x35725;}[_0x2db2ce(0x1f7)](){const _0x54ecdb=_0x2db2ce;delete this[_0x54ecdb(0x55f)];}}const _0x18623e=require('firebase/firestore');let _0xb8d93e=_0x525647(0x14d)['O'];function _0x42ab14(_0x5e9d83){const _0x46eb5d=_0x2db2ce;return!(!_0x5e9d83||_0x46eb5d(0x687)!=typeof _0x5e9d83||Array[_0x46eb5d(0x2d4)](_0x5e9d83));}_0xb8d93e=function _0x535859(_0x1fc062,..._0x60f5e2){const _0x121906=_0x2db2ce;if(!Array[_0x121906(0x2d4)](_0x60f5e2)||0x0===_0x60f5e2[_0x121906(0x48d)])return _0x1fc062;const _0x23faf0=_0x60f5e2[_0x121906(0x315)]();if(_0x42ab14(_0x1fc062)&&_0x42ab14(_0x23faf0)){for(const _0x2b72a0 in _0x23faf0)_0x42ab14(_0x23faf0[_0x2b72a0])?(_0x1fc062[_0x2b72a0]||Object[_0x121906(0x4d4)](_0x1fc062,{[_0x2b72a0]:{}}),_0x535859(_0x1fc062[_0x2b72a0],_0x23faf0[_0x2b72a0])):Object['assign'](_0x1fc062,{[_0x2b72a0]:_0x23faf0[_0x2b72a0]});}return _0x535859(_0x1fc062,..._0x60f5e2);}(_0xb8d93e,_0x525647(0x3e6)['O']);const _0x5d41ff=_0xb8d93e,_0x5f3c24=require('firebase/app'),_0x5dde59=require('firebase/auth'),_0x1147fd=require('firebase/database'),_0x1bff9c=require('firebase/functions');class _0x435125{static [_0x2db2ce(0x10b)];['app'];[_0x2db2ce(0x692)];['functions'];['database'];[_0x2db2ce(0x136)];[_0x2db2ce(0x639)];constructor(){}static['getInstance'](){const _0x1cf545=_0x2db2ce;return _0x435125['instance']||(_0x435125[_0x1cf545(0x10b)]=new _0x435125()),_0x435125[_0x1cf545(0x10b)];}[_0x2db2ce(0x48a)](){const _0x556645=_0x2db2ce;return this[_0x556645(0x6f4)]||(this['app']=(0x0,_0x5f3c24[_0x556645(0x4ad)])(_0x5d41ff['firebaseConfig'])),this[_0x556645(0x6f4)];}[_0x2db2ce(0x17b)](){const _0x83ae8=_0x2db2ce;return this[_0x83ae8(0x692)]||(this[_0x83ae8(0x692)]=(0x0,_0x5dde59[_0x83ae8(0x17b)])(this[_0x83ae8(0x48a)]())),this[_0x83ae8(0x692)];}[_0x2db2ce(0x6cb)](){const _0x28613b=_0x2db2ce;return this['functions']||(this[_0x28613b(0x64c)]=(0x0,_0x1bff9c['getFunctions'])(this[_0x28613b(0x48a)](),_0x5d41ff[_0x28613b(0x70c)][_0x28613b(0x698)])),this[_0x28613b(0x64c)];}[_0x2db2ce(0x3b8)](){const _0x1ce9db=_0x2db2ce;return this[_0x1ce9db(0x1c0)]||(this[_0x1ce9db(0x1c0)]=(0x0,_0x1147fd['getDatabase'])(this[_0x1ce9db(0x48a)]())),this['database'];}['getFirestore'](){const _0x5b87a2=_0x2db2ce;return this[_0x5b87a2(0x136)]||(this[_0x5b87a2(0x136)]=(0x0,_0x18623e[_0x5b87a2(0x363)])(this[_0x5b87a2(0x48a)]())),this[_0x5b87a2(0x136)];}async[_0x2db2ce(0x645)](){const _0x2cf6e6=_0x2db2ce;if(this[_0x2cf6e6(0x639)])return Date[_0x2cf6e6(0x279)]()+this['clockSkew'];const _0x18e4f3=this[_0x2cf6e6(0x3b8)](),_0x514f10=(0x0,_0x1147fd[_0x2cf6e6(0x5b5)])(_0x18e4f3,'.info/connected'),_0x2ed560=(0x0,_0x1147fd['onValue'])(_0x514f10,_0x58cc69=>{const _0x466a9e=_0x2cf6e6;!0x1===_0x58cc69['val']()&&(_0x2ed560(),delete this[_0x466a9e(0x639)]);}),_0x471e7d=(0x0,_0x1147fd[_0x2cf6e6(0x5b5)])(_0x18e4f3,_0x2cf6e6(0x1e6));return new Promise(_0x40b174=>{const _0x5c1097=_0x2cf6e6;(0x0,_0x1147fd[_0x5c1097(0x6b8)])(_0x471e7d,_0x2dee28=>{const _0x235900=_0x5c1097;(0x0,_0x1147fd[_0x235900(0x35f)])(_0x471e7d),this['clockSkew']=_0x2dee28['val'](),_0x40b174(Date[_0x235900(0x279)]()+(this[_0x235900(0x639)]??0x0));});});}}const _0x58bac0=_0x435125['getInstance']();class _0x40daba{static ['instance'];['enabledChannels']=[_0x50f1bc[_0x2db2ce(0x5a7)]];[_0x2db2ce(0x522)]=!0x0;[_0x2db2ce(0x29a)];[_0x2db2ce(0x6e1)]='';[_0x2db2ce(0x6a0)];[_0x2db2ce(0x756)]=[];['currentBatch']=this[_0x2db2ce(0x69e)]();['batchTimeout'];['retryLimit']=0xa;[_0x2db2ce(0x271)]=0x1f4;[_0x2db2ce(0x47c)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x44d760=_0x2db2ce;if('undefined'!=typeof window)this[_0x44d760(0x6a0)]=window;else{if(void 0x0===_0x525647['g'])throw new Error(_0x44d760(0x6c3));this[_0x44d760(0x6a0)]=_0x525647['g'];}this[_0x44d760(0x514)](),this['globalObject'][_0x44d760(0x307)]=_0x4a2a72=>{const _0x33a7c8=_0x44d760;if(_0x4a2a72===_0x50f1bc[_0x33a7c8(0x3bf)])return this['enabledChannels']=Object[_0x33a7c8(0x48f)](_0x50f1bc)[_0x33a7c8(0x627)](_0x1341ea=>_0x50f1bc[_0x1341ea]),void Object['keys'](_0x50f1bc)[_0x33a7c8(0x405)](_0x4d4cad=>{const _0x20a051=_0x33a7c8,_0xcccac3=_0x4d4cad;localStorage['setItem'](_0x20a051(0x4b2)+_0x50f1bc[_0xcccac3],'true');});this[_0x33a7c8(0x5b3)][_0x33a7c8(0x28e)](_0x4a2a72)||(this[_0x33a7c8(0x5b3)]['push'](_0x4a2a72),localStorage['setItem']('crewdle-sdk-logging-'+_0x4a2a72,_0x33a7c8(0xcd)));},this[_0x44d760(0x6a0)][_0x44d760(0x502)]=_0x42d372=>{const _0x100bc5=_0x44d760;if(!_0x42d372||_0x42d372===_0x50f1bc[_0x100bc5(0x3bf)])return this[_0x100bc5(0x5b3)]=[],void Object[_0x100bc5(0x48f)](_0x50f1bc)[_0x100bc5(0x405)](_0x502fb7=>{const _0x3d3971=_0x100bc5,_0x257616=_0x502fb7;localStorage[_0x3d3971(0x26b)](_0x3d3971(0x4b2)+_0x50f1bc[_0x257616]);});this[_0x100bc5(0x5b3)][_0x100bc5(0x28e)](_0x42d372)&&(this[_0x100bc5(0x5b3)]=this['enabledChannels'][_0x100bc5(0x6f6)](_0xb5d3ef=>_0xb5d3ef!==_0x42d372),localStorage['removeItem'](_0x100bc5(0x4b2)+_0x42d372));},this[_0x44d760(0x6a0)]['crewdleSDKLoggingChannels']=_0x50f1bc;}static['getInstance'](){const _0x4053df=_0x2db2ce;try{return _0x40daba[_0x4053df(0x10b)]||(_0x40daba[_0x4053df(0x10b)]=new _0x40daba()),_0x40daba['instance'];}catch(_0x24c966){return console[_0x4053df(0x554)]('Logger.getInstance',_0x24c966),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}[_0x2db2ce(0x2d2)](_0x3445d4){const _0x2b3075=_0x2db2ce;this[_0x2b3075(0x6e1)]=_0x3445d4;}[_0x2db2ce(0x16b)](_0x54cba1){const _0x2854d0=_0x2db2ce;this[_0x2854d0(0x29a)]=_0x54cba1;}[_0x2db2ce(0x34b)](_0x30520c,..._0x531057){const _0xfa38b8=_0x2db2ce;this[_0xfa38b8(0x522)]&&this[_0xfa38b8(0x24e)](_0x50f1bc[_0xfa38b8(0x5a7)],_0xfa38b8(0x256)+_0x30520c,..._0x531057);}[_0x2db2ce(0x24e)](_0x425227,_0x1e9fce,..._0x2322cc){const _0x35eb9d=_0x2db2ce;_0x5d41ff[_0x35eb9d(0x289)]||(this['enabledChannels'][_0x35eb9d(0x28e)](_0x425227)&&console['log'](_0x35eb9d(0x28a)+_0x425227+'\x27\x0a',new Date()+'\x0a',_0x1e9fce,..._0x2322cc),this[_0x35eb9d(0x29a)]&&this[_0x35eb9d(0x29a)]['forEach'](_0x113026=>{const _0x347ccb=_0x35eb9d;this[_0x347ccb(0x37d)](_0x113026)&&_0x113026['getEnabledChannels']()[_0x347ccb(0x28e)](_0x425227)&&_0x113026['log'](_0x1e9fce,{'vendorId':this[_0x347ccb(0x6e1)],'nodeId':'','nodeType':'','data':{'channel':_0x425227,..._0x2322cc}});}));}[_0x2db2ce(0x496)](_0x39d4ba,_0x5bbe1f,..._0x4face6){const _0x40e8ec=_0x2db2ce;_0x5d41ff[_0x40e8ec(0x289)]||(this[_0x40e8ec(0x5b3)][_0x40e8ec(0x28e)](_0x39d4ba)&&console[_0x40e8ec(0x24e)](_0x5bbe1f,..._0x4face6),this['loggingConnectors']&&this[_0x40e8ec(0x29a)]['forEach'](_0x4583b6=>{const _0x5a7c2c=_0x40e8ec;this[_0x5a7c2c(0x37d)](_0x4583b6)&&_0x4583b6[_0x5a7c2c(0x5ef)]()[_0x5a7c2c(0x28e)](_0x39d4ba)&&_0x4583b6[_0x5a7c2c(0x24e)](_0x5bbe1f,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x39d4ba,..._0x4face6}});}));}[_0x2db2ce(0x229)](_0x3fc516,_0x56918c){const _0x83bcdd=_0x2db2ce;if(!this[_0x83bcdd(0x29a)])return;const _0x2b172f={'vendorId':this[_0x83bcdd(0x6e1)],..._0x56918c};this[_0x83bcdd(0x29a)]['forEach'](_0x4f3faf=>{_0x4f3faf['log'](_0x3fc516,_0x2b172f);});}['logServiceEvent'](_0x38fbf5,_0x4051b0){const _0x3eb2ba=_0x2db2ce,_0x2a91f6=(0x0,_0x18623e[_0x3eb2ba(0xd0)])((0x0,_0x18623e[_0x3eb2ba(0x3d2)])(_0x58bac0[_0x3eb2ba(0x363)](),_0x3eb2ba(0x1f0)+this[_0x3eb2ba(0x6e1)]+_0x3eb2ba(0x4f5)));this[_0x3eb2ba(0x63c)]['batch'][_0x3eb2ba(0x3bc)](_0x2a91f6,{..._0x4051b0,'service':_0x38fbf5,'timestamp':(0x0,_0x18623e[_0x3eb2ba(0x326)])()}),this[_0x3eb2ba(0x63c)]['operations'][_0x3eb2ba(0x23d)]({'type':_0x3eb2ba(0x3bc),'ref':_0x2a91f6[_0x3eb2ba(0x103)],'data':_0x4051b0}),this[_0x3eb2ba(0x659)]();}['logStorage'](_0x116a27,_0x1c2534,_0x9f2e6){const _0x3159a5=_0x2db2ce;(0x0,_0x18623e[_0x3159a5(0x14e)])((0x0,_0x18623e['doc'])(_0x58bac0[_0x3159a5(0x363)](),_0x3159a5(0x1f0)+this['vendorId']+'/'+_0x116a27+'/'+_0x1c2534),{'storage':_0x9f2e6,'timestamp':(0x0,_0x18623e[_0x3159a5(0x326)])()});}['logBatch'](){const _0x2eccd0=_0x2db2ce;this[_0x2eccd0(0x63c)]['counter']++,this[_0x2eccd0(0x63c)]['counter']===this[_0x2eccd0(0x47c)]?this['processBatch']():this[_0x2eccd0(0x43d)]||(this[_0x2eccd0(0x43d)]=this[_0x2eccd0(0x6a0)][_0x2eccd0(0x738)](()=>this[_0x2eccd0(0x611)](),this[_0x2eccd0(0x6ce)]));}async['processBatch'](){const _0x827e3=_0x2db2ce;for(this[_0x827e3(0x756)][_0x827e3(0x23d)](this[_0x827e3(0x63c)]),this[_0x827e3(0x63c)]=this[_0x827e3(0x69e)]();this[_0x827e3(0x756)][_0x827e3(0x48d)]>0x0;){const _0x221a16=this[_0x827e3(0x756)]['shift']();if(!await this[_0x827e3(0x352)](_0x221a16,0x0))break;}clearTimeout(this['batchTimeout']),this[_0x827e3(0x43d)]=void 0x0;}async[_0x2db2ce(0x352)](_0x4abc56,_0x546f36){const _0x4216ad=_0x2db2ce;if(_0x4abc56[_0x4216ad(0x478)]>0x0)try{return await _0x4abc56[_0x4216ad(0xe9)][_0x4216ad(0x704)](),!0x0;}catch(_0x29d5f1){if(console[_0x4216ad(0x554)](_0x4216ad(0x413),_0x29d5f1,_0x4216ad(0x322),_0x4abc56[_0x4216ad(0x2e9)]),!(_0x546f36<this['retryLimit'])){const {nodeId:_0x31a495='',nodeType:_0x201727='',clusterId:_0x44105e=''}=_0x4abc56['operations'][0x0]['data'],_0x549942={'nodeId':_0x31a495,'nodeType':_0x201727,'clusterId':_0x44105e,'data':{'operations':_0x4abc56['operations'],'error':_0x29d5f1}};return this[_0x4216ad(0x554)](_0x4216ad(0x26a),_0x549942),!0x1;}setTimeout(()=>this[_0x4216ad(0x352)](_0x4abc56,_0x546f36+0x1),this[_0x4216ad(0x271)]*Math[_0x4216ad(0xda)](0x2,_0x546f36));}}[_0x2db2ce(0x554)](_0x355c99,_0x14fa1b,..._0xd71267){const _0x365077=_0x2db2ce;if(console[_0x365077(0x554)](new Date(),_0x355c99,_0x14fa1b,..._0xd71267),this[_0x365077(0x29a)]){const _0x5e047d={'vendorId':this[_0x365077(0x6e1)],..._0x14fa1b};this[_0x365077(0x29a)][_0x365077(0x405)](_0x4f9f62=>{const _0x32d9ef=_0x365077;_0x4f9f62[_0x32d9ef(0x554)](_0x355c99,_0x5e047d);});}}[_0x2db2ce(0x712)](_0x2d5808,_0x5d43d3,..._0x34549b){const _0x285957=_0x2db2ce;if(console['warn'](new Date(),_0x2d5808,_0x5d43d3,_0x34549b),this[_0x285957(0x29a)]){const _0xdf495={'vendorId':this[_0x285957(0x6e1)],..._0x5d43d3};this[_0x285957(0x29a)][_0x285957(0x405)](_0x2825bc=>{const _0x3db3b9=_0x285957;_0x2825bc[_0x3db3b9(0x69f)](_0x2d5808,_0xdf495);});}}[_0x2db2ce(0x38f)](_0x27b13b){const _0x7b3c7=_0x2db2ce;return this[_0x7b3c7(0x5b3)]['includes'](_0x27b13b);}[_0x2db2ce(0x514)](){const _0x4b666c=_0x2db2ce;try{Object['keys'](_0x50f1bc)[_0x4b666c(0x405)](_0x174126=>{const _0x920512=_0x4b666c,_0x43cc1b=_0x174126;localStorage[_0x920512(0x223)](_0x920512(0x4b2)+_0x50f1bc[_0x43cc1b])&&(console['log'](_0x920512(0x156),_0x50f1bc[_0x43cc1b]),this[_0x920512(0x5b3)][_0x920512(0x23d)](_0x50f1bc[_0x43cc1b]));});}catch(_0x5a2998){}}[_0x2db2ce(0x37d)](_0x2ee093){const _0x349c4b=_0x2db2ce;return void 0x0!==_0x2ee093[_0x349c4b(0x5ef)];}[_0x2db2ce(0x69e)](){const _0x52f42c=_0x2db2ce;return{'batch':(0x0,_0x18623e[_0x52f42c(0x4c8)])(_0x58bac0['getFirestore']()),'operations':[],'counter':0x0};}}const _0x4aa571=_0x40daba['getInstance']();function _0x5462b9(_0x524405,_0x165079){return'/'===_0x524405?_0x524405+_0x165079:_0x524405+'/'+_0x165079;}function _0x1dbf9e(_0x3d34d2){const _0x3e236a=_0x2db2ce,_0x41c7ef=function(_0x524732){const _0x270461=a0_0x3de5;return _0x524732[_0x270461(0x259)]('/')[_0x270461(0x6f6)](_0x12cf77=>_0x12cf77[_0x270461(0x48d)]>0x0);}(_0x3d34d2),_0x57bd4b=_0x41c7ef[_0x3e236a(0x22f)]()||'',_0x12a057=_0x41c7ef[_0x3e236a(0x47f)]('/');return[0x0===_0x12a057[_0x3e236a(0x48d)]?'/':_0x12a057,_0x57bd4b];}async function _0x518ef6(_0x3841d8){const _0x3cda1b=_0x2db2ce,_0x39d598=0x100000,_0x2f2c8c=new FileReader();let _0x4dcfc3=0x0;for(let _0x217427=0x0;_0x217427<_0x3841d8['size'];_0x217427+=_0x39d598){const _0x386059=_0x3841d8[_0x3cda1b(0x29c)](_0x217427,_0x217427+_0x39d598);await new Promise((_0x4151ba,_0x4b27b8)=>{const _0x2ad739=_0x3cda1b;_0x2f2c8c[_0x2ad739(0x51e)]=()=>{const _0xa10cfd=_0x2ad739,_0x5367d2=_0x2f2c8c[_0xa10cfd(0x367)],_0x3b8cb7=new Uint8Array(_0x5367d2);for(const _0x32f08b of _0x3b8cb7)_0x4dcfc3+=_0x32f08b;_0x4151ba();},_0x2f2c8c[_0x2ad739(0x2db)]=()=>{const _0x33e436=_0x2ad739;_0x4b27b8(new Error(_0x33e436(0x5b2)));},_0x2f2c8c[_0x2ad739(0x2e5)](_0x386059);});}return _0x4dcfc3['toString']();}function _0x5c7b0d(_0x3c3786){return new Promise((_0x184fae,_0x49756e)=>{!function(_0x575bc0,_0x58683c,_0x5d255b){let _0x296f90=0x0;const _0x5cff86=[],_0x3ddeed=()=>{const _0x45413a=a0_0x3de5;let _0x378e69=_0x296f90+0x3f800;_0x378e69>_0x575bc0[_0x45413a(0x703)]&&(_0x378e69=_0x575bc0[_0x45413a(0x703)]);let _0x500b23=_0x575bc0[_0x45413a(0x29c)](_0x296f90,_0x378e69),_0x2255ac=new FileReader();_0x2255ac[_0x45413a(0x51e)]=_0x47a3be=>{const _0x3d8290=_0x45413a;_0x5cff86[_0x3d8290(0x23d)](_0x2255ac['result']),_0x296f90=_0x378e69,_0x296f90<_0x575bc0[_0x3d8290(0x703)]?_0x3ddeed():_0x58683c(_0x5cff86);},_0x2255ac[_0x45413a(0x2db)]=_0x24234d=>{_0x5d255b(_0x24234d);},_0x2255ac[_0x45413a(0x2e5)](_0x500b23);};_0x3ddeed();}(_0x3c3786,_0x184fae,_0x49756e);});}function _0x5072c3(_0x2fec48,_0x3f93ab,_0x2f102a){return new File(_0x2fec48,_0x3f93ab,{'type':_0x2f102a});}class _0x552aba extends _0x16e1a9{['outgoingTopic'];[_0x2db2ce(0x142)];['fileChunks']=new Map();[_0x2db2ce(0x231)]=0x0;[_0x2db2ce(0x27a)]=0x0;[_0x2db2ce(0x1c4)]=0x0;[_0x2db2ce(0x22e)]=0x0;constructor(_0x39c01d,_0x20552e){super(_0x39c01d,_0x20552e);}['getLabel'](){const _0xf0abab=_0x2db2ce;return this[_0xf0abab(0x3a1)];}['getName'](){const _0x2e9eed=_0x2db2ce;return this[_0x2e9eed(0x3a1)];}[_0x2db2ce(0x537)](){const _0x3e091d=_0x2db2ce;return _0x26993c[_0x3e091d(0x432)][_0x3e091d(0x6a8)];}[_0x2db2ce(0x170)](){const _0x1663a4=_0x2db2ce;return this[_0x1663a4(0x3a1)];}['registerPublisher'](_0x2efcfa){const _0x2f131e=_0x2db2ce;if(this[_0x2f131e(0x6f1)])throw new _0xb694a1(_0xb694a1[_0x2f131e(0x549)][_0x2f131e(0x590)],{'message':_0x2f131e(0x154)+this[_0x2f131e(0x24c)][_0x2f131e(0x28c)]()+'\x20-\x20'+this[_0x2f131e(0x3a1)],'topic':this['outgoingTopic']});this['outgoingTopic']=_0x2efcfa;}[_0x2db2ce(0x1c2)](_0x193210){const _0x45107a=_0x2db2ce;if(this[_0x45107a(0x142)])throw new _0xb694a1(_0xb694a1['codes'][_0x45107a(0x44d)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x45107a(0x24c)][_0x45107a(0x28c)]()+'\x20-\x20'+this[_0x45107a(0x3a1)],'topic':this['incomingTopic']});this[_0x45107a(0x142)]=_0x193210;}[_0x2db2ce(0x6cd)](){const _0xcc6f02=_0x2db2ce;delete this[_0xcc6f02(0x6f1)];}[_0x2db2ce(0x497)](){delete this['incomingTopic'];}async[_0x2db2ce(0x3a6)](_0x459dd6,_0x1803cc){const _0x45e41e=_0x2db2ce;if(_0x4aa571['log'](_0x50f1bc['DataStream'],_0x45e41e(0x601),this[_0x45e41e(0x24c)][_0x45e41e(0x28c)](),_0x459dd6,_0x1803cc),this[_0x45e41e(0x231)]+=0x1,_0x459dd6 instanceof File){const _0x1efca9=await _0x5c7b0d(_0x459dd6);return this[_0x45e41e(0x1c4)]+=_0x1efca9[_0x45e41e(0x239)]((_0x39c38f,_0xe2f0d2)=>_0x39c38f+_0xe2f0d2['byteLength'],0x0),void _0x1efca9[_0x45e41e(0x405)]((_0x4c789b,_0x464260)=>{const _0x7b53c4=_0x45e41e;this['outgoingTopic'][_0x7b53c4(0x536)]({'sourceId':this[_0x7b53c4(0x24c)][_0x7b53c4(0x28c)](),'destinationIds':_0x1803cc,'propagate':!0x0,'contentType':_0x26993c['ContentType']['File'],'content':{'name':_0x459dd6[_0x7b53c4(0x662)],'type':_0x459dd6[_0x7b53c4(0x26f)],'data':_0x4c789b,'index':_0x464260,'total':_0x1efca9[_0x7b53c4(0x48d)]}});});}this[_0x45e41e(0x1c4)]+=JSON['stringify'](_0x459dd6)[_0x45e41e(0x48d)],this[_0x45e41e(0x6f1)][_0x45e41e(0x536)]({'sourceId':this['owner'][_0x45e41e(0x28c)](),'destinationIds':_0x1803cc,'propagate':!0x0,'contentType':_0x26993c[_0x45e41e(0x432)][_0x45e41e(0x6a8)],'content':_0x459dd6});}[_0x2db2ce(0x40c)](_0x1dfd19){const _0x1fc0fe=_0x2db2ce;return this[_0x1fc0fe(0x142)][_0x1fc0fe(0x175)](_0x14cacc=>{const _0x1c05d9=_0x1fc0fe;switch(_0x4aa571['log'](_0x50f1bc[_0x1c05d9(0x433)],'DataStream\x20onMessage',this['owner'][_0x1c05d9(0x28c)](),_0x14cacc),_0x14cacc['contentType']){case _0x26993c[_0x1c05d9(0x432)]['Data']:this['messagesReceived']+=0x1,this[_0x1c05d9(0x22e)]+=JSON['stringify'](_0x14cacc[_0x1c05d9(0x581)])['length'],_0x1dfd19(_0x14cacc['sourceId'],_0x14cacc[_0x1c05d9(0x581)]);break;case _0x26993c[_0x1c05d9(0x432)][_0x1c05d9(0x22c)]:this['fileChunks'][_0x1c05d9(0x40d)](_0x14cacc['content'][_0x1c05d9(0x662)])||this['fileChunks'][_0x1c05d9(0x3bc)](_0x14cacc['content'][_0x1c05d9(0x662)],[]);const _0x3a8659=this[_0x1c05d9(0x4e7)][_0x1c05d9(0x118)](_0x14cacc[_0x1c05d9(0x581)][_0x1c05d9(0x662)]);_0x3a8659[_0x14cacc['content']['index']]=_0x14cacc['content']['data'],_0x3a8659[_0x1c05d9(0x48d)]===_0x14cacc[_0x1c05d9(0x581)][_0x1c05d9(0x6d6)]&&(this[_0x1c05d9(0x27a)]+=0x1,this[_0x1c05d9(0x22e)]+=_0x3a8659[_0x1c05d9(0x239)]((_0x16fbb1,_0x2bebf3)=>_0x16fbb1+_0x2bebf3[_0x1c05d9(0x6da)],0x0),_0x1dfd19(_0x14cacc[_0x1c05d9(0x133)],_0x5072c3(_0x3a8659,_0x14cacc['content'][_0x1c05d9(0x662)],_0x14cacc[_0x1c05d9(0x581)][_0x1c05d9(0x26f)])),this[_0x1c05d9(0x4e7)][_0x1c05d9(0x176)](_0x14cacc['content'][_0x1c05d9(0x662)]));}});}}function _0x8f7aff(){const _0x4fe34b=_0x2db2ce;let _0x94e180=[];return{'subscribe':_0x131f17=>(_0x94e180[_0x4fe34b(0x23d)](_0x131f17),()=>{_0x94e180=_0x94e180['filter'](_0x19da1f=>_0x19da1f!==_0x131f17);}),'publish':_0x2d4fe7=>{const _0x1f2197=_0x4fe34b;_0x94e180[_0x1f2197(0x405)](_0x43397a=>_0x43397a(_0x2d4fe7));}};}function _0x38d6db(){let _0x2e3fbc;return{'subscribe':_0xd503f2=>(_0x2e3fbc=_0xd503f2,()=>{_0x2e3fbc=void 0x0;}),'publish':_0x2120d4=>{_0x2e3fbc&&_0x2e3fbc(_0x2120d4);}};}class _0x47d00f{[_0x2db2ce(0x13d)];['tableName'];[_0x2db2ce(0x356)];[_0x2db2ce(0x6af)]=_0x38d6db();[_0x2db2ce(0x46a)];constructor(_0x4f064f,_0x597b25,_0x170d31){const _0x170c51=_0x2db2ce;this[_0x170c51(0x13d)]=_0x4f064f,this[_0x170c51(0x2a6)]=_0x597b25,this[_0x170c51(0x356)]=_0x170d31;}[_0x2db2ce(0x1e7)](){this['listenerUnsubscriber']?.();}async[_0x2db2ce(0x118)](_0x972026){const _0x59ce88=_0x2db2ce,_0x165021={'key':_0x972026,'tableName':this[_0x59ce88(0x2a6)],'action':_0x4c9e18['Get']};return this['tableObserver'][_0x59ce88(0x536)](_0x165021),this['connector'][_0x59ce88(0x118)](_0x972026);}async['set'](_0x3b2db0,_0xec8c58,_0x3a32db=!0x0){const _0x1e177c=_0x2db2ce;this[_0x1e177c(0x3ef)](_0xec8c58);const _0xcfac16=await this[_0x1e177c(0x13d)][_0x1e177c(0x118)](_0x3b2db0),_0xd1f5b3=await this[_0x1e177c(0x13d)][_0x1e177c(0x3bc)](_0x3b2db0,_0xec8c58),_0x44b7b7=_0xcfac16?_0x3d1aaf[_0x1e177c(0x303)]:_0x3d1aaf[_0x1e177c(0x3b2)];if(this[_0x1e177c(0x536)](_0x44b7b7,_0xd1f5b3),!_0x3a32db)return _0xd1f5b3;const _0x94468f={'key':_0x3b2db0,'tableName':this[_0x1e177c(0x2a6)],'action':_0x44b7b7,'value':_0xd1f5b3};return this[_0x1e177c(0x356)][_0x1e177c(0x536)](_0x94468f),_0xd1f5b3;}async[_0x2db2ce(0x3c3)](_0x58c8e1){const _0xed9f27=_0x2db2ce;this[_0xed9f27(0x3ef)](_0x58c8e1);const _0x3c7eb3=await this[_0xed9f27(0x13d)][_0xed9f27(0x3c3)](_0x58c8e1),_0x38a5bd={'key':_0x3c7eb3['id'],'tableName':this[_0xed9f27(0x2a6)],'action':_0x3d1aaf[_0xed9f27(0x3b2)],'value':_0x3c7eb3};return this['tableObserver']['publish'](_0x38a5bd),this[_0xed9f27(0x536)](_0x38a5bd[_0xed9f27(0x2d1)],_0x3c7eb3),_0x3c7eb3;}async[_0x2db2ce(0x176)](_0x1adf5b,_0x28d114=!0x0){const _0x11e3b7=_0x2db2ce,_0x14eda6=await this[_0x11e3b7(0x13d)]['get'](_0x1adf5b);if(!_0x14eda6)return;await this[_0x11e3b7(0x13d)][_0x11e3b7(0x176)](_0x1adf5b);const _0x983d2d=_0x3d1aaf['Delete'];if(this['publish'](_0x983d2d,_0x14eda6),!_0x28d114)return;const _0x3bbd1f={'key':_0x1adf5b,'tableName':this['tableName'],'action':_0x983d2d,'value':_0x14eda6};this[_0x11e3b7(0x356)][_0x11e3b7(0x536)](_0x3bbd1f);}async[_0x2db2ce(0x3c1)](){const _0x4d78f5=_0x2db2ce,_0xb23744=await this[_0x4d78f5(0x3cf)]();for(const _0xb81a13 of _0xb23744){const _0x232dd1=_0x3d1aaf[_0x4d78f5(0x5a3)];this[_0x4d78f5(0x536)](_0x232dd1,_0xb81a13);const _0x2e73f9={'key':_0xb81a13['id'],'tableName':this[_0x4d78f5(0x2a6)],'action':_0x232dd1,'value':_0xb81a13};this['tableObserver'][_0x4d78f5(0x536)](_0x2e73f9);}return this[_0x4d78f5(0x13d)][_0x4d78f5(0x3c1)]();}async[_0x2db2ce(0x3cf)](_0x5bf32e){const _0x46fb8d=_0x2db2ce,_0x43a6ff={'key':'','tableName':this['tableName'],'action':_0x4c9e18[_0x46fb8d(0x53a)]};this[_0x46fb8d(0x356)]['publish'](_0x43a6ff);try{_0x5bf32e&&(_0x5bf32e=_0x5bf32e instanceof _0x1fe594?_0x5bf32e[_0x46fb8d(0x553)]():_0x1fe594[_0x46fb8d(0x705)](_0x5bf32e)[_0x46fb8d(0x553)]());}catch(_0xf329b7){throw new _0x5c22ea(_0x3a91a5[_0x46fb8d(0x57d)],_0x46fb8d(0x49b));}try{return await this['connector']['list'](_0x5bf32e);}catch(_0x1b8400){let _0x475437='Invalid\x20query';throw _0x1b8400 instanceof Error&&(_0x475437=_0x1b8400['message']),new _0x5c22ea(_0x3a91a5[_0x46fb8d(0x57d)],_0x475437);}}async[_0x2db2ce(0x4c7)](_0x55f0f4){const _0x5cd1bf=_0x2db2ce,_0xc3cf34={'key':'','tableName':this[_0x5cd1bf(0x2a6)],'action':_0x4c9e18[_0x5cd1bf(0x6f8)]};this[_0x5cd1bf(0x356)][_0x5cd1bf(0x536)](_0xc3cf34);try{_0x55f0f4&&(_0x55f0f4=_0x55f0f4 instanceof _0x1fe594?_0x55f0f4['getQuery']():_0x1fe594[_0x5cd1bf(0x705)](_0x55f0f4)[_0x5cd1bf(0x553)]());}catch(_0x2bd42d){throw new _0x5c22ea(_0x3a91a5['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x5cd1bf(0x13d)]['count'](_0x55f0f4);}catch(_0x51002d){let _0x3955cd=_0x5cd1bf(0x49b);throw _0x51002d instanceof Error&&(_0x3955cd=_0x51002d['message']),new _0x5c22ea(_0x3a91a5[_0x5cd1bf(0x57d)],_0x3955cd);}}[_0x2db2ce(0x580)](){const _0xee7c56=_0x2db2ce;return this[_0xee7c56(0x13d)][_0xee7c56(0x580)]();}['subscribe'](_0x248ddb){const _0x4bb920=_0x2db2ce;this[_0x4bb920(0x46a)]=this[_0x4bb920(0x6af)]['subscribe'](_0x248ddb);}['unsubscribe'](){this['listenerUnsubscriber']?.();}['publish'](_0x30226c,_0xe1638b){const _0xc408c0=_0x2db2ce,_0x59343d=this[_0xc408c0(0x427)](_0x30226c,_0xe1638b);this[_0xc408c0(0x6af)][_0xc408c0(0x536)](_0x59343d);}[_0x2db2ce(0x427)](_0x44847f,_0x25f5a7){const _0x443776=_0x2db2ce;let _0x17fd64;switch(_0x44847f){case _0x3d1aaf['Add']:_0x17fd64='add';break;case _0x3d1aaf[_0x443776(0x303)]:_0x17fd64=_0x443776(0x74b);break;case _0x3d1aaf[_0x443776(0x5a3)]:_0x17fd64=_0x443776(0x176);}return{'action':_0x17fd64,'value':_0x25f5a7};}[_0x2db2ce(0x3ef)](_0x1911e3){const _0x41a05a=_0x2db2ce;if(_0x41a05a(0x687)!=typeof _0x1911e3||null===_0x1911e3)throw new _0x5c22ea(_0x3a91a5['KeyValueDatabaseInvalidValue'],_0x41a05a(0x29e));for(const _0x24baa8 in _0x1911e3){const _0x5a0f12=_0x1911e3[_0x24baa8];if('object'!=typeof _0x5a0f12||_0x5a0f12 instanceof Date){if(![_0x41a05a(0x6dc),_0x41a05a(0x4a4),_0x41a05a(0x586)][_0x41a05a(0x28e)](typeof _0x5a0f12))throw new _0x5c22ea(_0x3a91a5[_0x41a05a(0x1a7)],'Invalid\x20value.\x20Property\x20\x27'+_0x24baa8+_0x41a05a(0x1f1));}else this[_0x41a05a(0x3ef)](_0x5a0f12);}}}class _0x3411f1 extends _0x552aba{[_0x2db2ce(0x490)];[_0x2db2ce(0x255)];[_0x2db2ce(0x6e1)];['db'];[_0x2db2ce(0x714)];[_0x2db2ce(0x1c3)]=new Map();['tableObserver'];[_0x2db2ce(0x2dd)];['tableUnsubscriber'];[_0x2db2ce(0x267)];['syncResolve'];[_0x2db2ce(0x38d)]=[];[_0x2db2ce(0x112)]=()=>{};[_0x2db2ce(0x192)];[_0x2db2ce(0x6af)]=_0x38d6db();[_0x2db2ce(0x46a)];[_0x2db2ce(0x410)]=[];[_0x2db2ce(0x435)];[_0x2db2ce(0x177)];[_0x2db2ce(0x249)]=0x0;[_0x2db2ce(0x400)]=0x0;constructor(_0x9056d0,_0x2279b3,_0x1cc9fd,_0x25b3bd,_0x35760c,_0x27c23c){const _0x2db93e=_0x2db2ce;if('string'!=typeof _0x2279b3)throw new _0x5c22ea(_0x3a91a5['KeyValueDatabaseNameNotString'],_0x2db93e(0x752));if(super(_0x9056d0,_0x2279b3),this[_0x2db93e(0x490)]=_0x9056d0,this[_0x2db93e(0x255)]=_0x1cc9fd,this['vendorId']=_0x25b3bd,this[_0x2db93e(0x714)]=_0x2db93e(0x4a8)+this[_0x2db93e(0x6e1)]+_0x2db93e(0x4a8)+this['clusterId']+'ccc'+this[_0x2db93e(0x3a1)],this[_0x2db93e(0x356)]=_0x38d6db(),this[_0x2db93e(0x267)]=new Promise(_0x4bd16a=>{this['syncResolve']=_0x4bd16a;}),_0x35760c instanceof _0x4effc0)this[_0x2db93e(0x435)]=_0x35760c[_0x2db93e(0x577)]();else{const [_0x4ca117,_0x3d2058]=_0x4effc0[_0x2db93e(0xce)](_0x35760c);if(!_0x4ca117)throw new _0x5c22ea(_0x3a91a5[_0x2db93e(0x40f)],'Invalid\x20layout:\x20'+_0x3d2058);this['layout']=_0x35760c;}this[_0x2db93e(0x374)](this['layout']),this['db']=new _0x27c23c(this[_0x2db93e(0x714)],this[_0x2db93e(0x435)]),this[_0x2db93e(0x54c)]();}[_0x2db2ce(0x39c)](){const _0x35c8c4=_0x2db2ce;this[_0x35c8c4(0x54c)]();}['getContentType'](){const _0xda74f7=_0x2db2ce;return _0x26993c[_0xda74f7(0x432)][_0xda74f7(0x220)];}[_0x2db2ce(0x1e7)](){const _0x3cff3e=_0x2db2ce;this['db']['close'](),this[_0x3cff3e(0x30a)]?.(),clearTimeout(this[_0x3cff3e(0x177)]),delete this[_0x3cff3e(0x177)],super[_0x3cff3e(0x1e7)]();}[_0x2db2ce(0x37c)](){const _0x148fdb=_0x2db2ce;this['systemTopic']['publish']({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x148fdb(0x47e)],'content':{'type':_0x1ce536[_0x148fdb(0x253)],'label':this['label']}});}[_0x2db2ce(0x749)](_0x515562){const _0x51202c=_0x2db2ce,_0x247e1e=this[_0x51202c(0x1c3)][_0x51202c(0x118)](_0x515562);if(_0x247e1e)return _0x247e1e;try{if(!this['db'][_0x51202c(0x2e0)](_0x515562))throw new _0x5c22ea(_0x3a91a5[_0x51202c(0x63f)],_0x51202c(0xea));const _0x49f9cf=new _0x47d00f(this['db'][_0x51202c(0x2ba)](_0x515562),_0x515562,this[_0x51202c(0x356)]);return this['tables']['set'](_0x515562,_0x49f9cf),{'get':_0x49f9cf['get'][_0x51202c(0x1e9)](_0x49f9cf),'set':_0x49f9cf[_0x51202c(0x3bc)][_0x51202c(0x1e9)](_0x49f9cf),'add':_0x49f9cf[_0x51202c(0x3c3)][_0x51202c(0x1e9)](_0x49f9cf),'delete':_0x49f9cf[_0x51202c(0x176)][_0x51202c(0x1e9)](_0x49f9cf),'clear':_0x49f9cf[_0x51202c(0x3c1)][_0x51202c(0x1e9)](_0x49f9cf),'list':_0x49f9cf[_0x51202c(0x3cf)][_0x51202c(0x1e9)](_0x49f9cf),'count':_0x49f9cf['count'][_0x51202c(0x1e9)](_0x49f9cf),'subscribe':_0x49f9cf[_0x51202c(0x175)]['bind'](_0x49f9cf),'unsubscribe':_0x49f9cf[_0x51202c(0x531)][_0x51202c(0x1e9)](_0x49f9cf)};}catch(_0x2315ff){throw new _0x5c22ea(_0x3a91a5[_0x51202c(0x431)],_0x51202c(0x6b3));}}[_0x2db2ce(0x175)](_0x1f46b3){const _0x174de3=_0x2db2ce;this[_0x174de3(0x46a)]=this['eventListener'][_0x174de3(0x175)](_0x1f46b3);}[_0x2db2ce(0x531)](){const _0x370df2=_0x2db2ce;this[_0x370df2(0x46a)]?.(),this['listenerUnsubscriber']=void 0x0;}async['open'](){const _0x301cb2=_0x2db2ce,_0x49d519=[_0x31869f,_0x32a8d8],_0x440b5f=[];try{await this['db'][_0x301cb2(0x677)]();const _0x2c871f=this['db'][_0x301cb2(0x2ba)](_0x32a8d8),_0xb2fce6=await _0x2c871f['list'](),{id:_0x20fcdd,layout:_0x4f2a52}=_0xb2fce6[0x0]??{};if(_0x4f2a52){for(const _0x78708e in _0x4f2a52)_0x49d519[_0x301cb2(0x28e)](_0x78708e)||this['db'][_0x301cb2(0x2e0)](_0x78708e)||_0x440b5f[_0x301cb2(0x23d)](_0x78708e);_0x2c871f[_0x301cb2(0x3bc)](_0x20fcdd,{'layout':this['layout']});}else _0x2c871f[_0x301cb2(0x3c3)]({'layout':this[_0x301cb2(0x435)]});}catch(_0x33684a){throw new _0x5c22ea(_0x3a91a5['KeyValueDatabaseNotOpen'],_0x33684a['message']||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x301cb2(0x3d5)](),this[_0x301cb2(0x62f)](),this[_0x301cb2(0x148)](),_0x440b5f[_0x301cb2(0x405)](_0x3cd64b=>this[_0x301cb2(0x575)](_0x3cd64b));}async['sync'](_0x1e9fb4,_0x114d11){const _0x4db854=_0x2db2ce;_0x1e9fb4?(this[_0x4db854(0x112)]=_0x114d11,this[_0x4db854(0x192)]=setTimeout(_0x114d11,_0x2c006b),this[_0x4db854(0x55f)][_0x4db854(0x536)]({'sourceId':this['localNode'][_0x4db854(0x28c)](),'destinationIds':[_0x1e9fb4],'messageType':_0x190ed6[_0x4db854(0x47e)],'content':{'type':_0x1ce536[_0x4db854(0x696)],'label':this[_0x4db854(0x3a1)]}}),await this[_0x4db854(0x267)]):setTimeout(()=>{const _0x4e4800=_0x4db854;this[_0x4e4800(0x4a2)](),this[_0x4e4800(0x6ba)]();},0x0);}async[_0x2db2ce(0x376)](_0x438073){const _0x18d41e=_0x2db2ce;if(!this[_0x18d41e(0x2dd)])throw new _0xb694a1(_0xb694a1[_0x18d41e(0x549)][_0x18d41e(0x4d3)]);await this[_0x18d41e(0x267)];const _0x4e7f11=await this['transactionTable'][_0x18d41e(0x3cf)]();this[_0x18d41e(0x55f)][_0x18d41e(0x536)]({'sourceId':this[_0x18d41e(0x490)][_0x18d41e(0x28c)](),'destinationIds':[_0x438073],'messageType':_0x190ed6[_0x18d41e(0x47e)],'content':{'type':_0x1ce536[_0x18d41e(0x2ab)],'label':this['label'],'transactions':_0x4e7f11}});}async[_0x2db2ce(0x71e)](_0x3f53b8,_0x4b73bb){const _0x4c4113=_0x2db2ce;if(!this[_0x4c4113(0x2dd)])throw new _0xb694a1(_0xb694a1[_0x4c4113(0x549)][_0x4c4113(0x4d3)]);this[_0x4c4113(0x4a2)]();const _0x1831a2=await this[_0x4c4113(0x2dd)][_0x4c4113(0x3cf)]();for(const _0x7315c7 of _0x1831a2){const _0x1d95f7=_0x4b73bb['find'](_0x3d3837=>_0x3d3837['id']===_0x7315c7['id']);if(_0x1d95f7&&this['compareTransactions'](_0x7315c7,_0x1d95f7)<=0x0)continue;const [_0xa22d58,_0x5977cb]=_0x7315c7['id'][_0x4c4113(0x259)]('::'),_0x210965=this[_0x4c4113(0x1c3)][_0x4c4113(0x118)](_0xa22d58),_0x21d1c5=await _0x210965?.[_0x4c4113(0x118)](_0x5977cb);_0x7315c7[_0x4c4113(0x558)]=_0x21d1c5,this[_0x4c4113(0x3a6)](_0x7315c7);}for(const _0x39077b of _0x4b73bb){const _0x21c0ca=await this[_0x4c4113(0x2dd)][_0x4c4113(0x118)](_0x39077b['id']);if(!(_0x21c0ca&&this[_0x4c4113(0x5ce)](_0x39077b,_0x21c0ca)<=0x0)){if(_0x39077b[_0x4c4113(0x2d1)]===_0x3d1aaf[_0x4c4113(0x5a3)]){const [_0x52e778,_0x5d9296]=_0x39077b['id'][_0x4c4113(0x259)]('::'),_0x1c336a=this['tables'][_0x4c4113(0x118)](_0x52e778);await _0x1c336a?.[_0x4c4113(0x176)](_0x5d9296,!0x1);}else this[_0x4c4113(0x38d)][_0x4c4113(0x23d)](_0x39077b['id']);}}if(0x0===this[_0x4c4113(0x38d)][_0x4c4113(0x48d)])return this[_0x4c4113(0x4a2)](),void this[_0x4c4113(0x6ba)]();this['syncTimeout']=setTimeout(this['timeoutCallback'],_0x2c006b),this[_0x4c4113(0x55f)]['publish']({'sourceId':this[_0x4c4113(0x490)][_0x4c4113(0x28c)](),'destinationIds':[_0x3f53b8],'messageType':_0x190ed6[_0x4c4113(0x47e)],'content':{'type':_0x1ce536[_0x4c4113(0x25a)],'label':this[_0x4c4113(0x3a1)],'transactionIds':this[_0x4c4113(0x38d)]}});}async[_0x2db2ce(0x5bf)](_0x53efbf,_0x1f4f6f){const _0x4dd48a=_0x2db2ce;if(!this[_0x4dd48a(0x2dd)])throw new _0xb694a1(_0xb694a1['codes'][_0x4dd48a(0x4d3)]);for(const _0x466572 of _0x1f4f6f){const _0x1c2dc9=await this[_0x4dd48a(0x2dd)]['get'](_0x466572);if(!_0x1c2dc9)continue;const [_0x10fa14,_0xa9dde6]=_0x466572[_0x4dd48a(0x259)]('::'),_0x5792df=this['tables'][_0x4dd48a(0x118)](_0x10fa14),_0x5ec47d=await _0x5792df?.['get'](_0xa9dde6);_0x1c2dc9[_0x4dd48a(0x558)]=_0x5ec47d,this[_0x4dd48a(0x3a6)](_0x1c2dc9,[_0x53efbf]);}}async['writeTransaction'](_0x40003){const _0x123385=_0x2db2ce;if(!this[_0x123385(0x2dd)])throw new _0xb694a1(_0xb694a1['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x489934=await this[_0x123385(0x2dd)][_0x123385(0x118)](_0x40003['id']);if(_0x489934&&this[_0x123385(0x5ce)](_0x40003,_0x489934)<=0x0)return;const _0x594c04={..._0x40003};return delete _0x594c04['value'],await this[_0x123385(0x2dd)][_0x123385(0x3bc)](_0x40003['id'],_0x594c04),_0x40003;}[_0x2db2ce(0x5ce)](_0x35ca13,_0x57a814){const _0x1378cd=_0x2db2ce;return _0x35ca13[_0x1378cd(0x461)]<_0x57a814[_0x1378cd(0x461)]?-0x1:_0x35ca13['timestamp']>_0x57a814[_0x1378cd(0x461)]?0x1:_0x35ca13[_0x1378cd(0x4b6)]-_0x57a814['priority'];}async[_0x2db2ce(0xf2)](_0x2de1cb){const _0x41e697=_0x2db2ce;if(!this[_0x41e697(0x2dd)])throw new _0xb694a1(_0xb694a1[_0x41e697(0x549)][_0x41e697(0x4d3)]);const _0x4778d9=_0x2de1cb[_0x41e697(0x2a6)]+'::'+_0x2de1cb[_0x41e697(0x46e)],_0x88ded=await _0x58bac0[_0x41e697(0x645)](),_0x143719={'id':_0x4778d9,'priority':Math[_0x41e697(0x55c)](),'timestamp':_0x88ded,'action':_0x2de1cb[_0x41e697(0x2d1)]};if(await this['writeTransaction'](_0x143719))return _0x143719;}async[_0x2db2ce(0x575)](_0x4cd796){const _0x8a2351=_0x2db2ce;if(!this[_0x8a2351(0x2dd)])throw new _0xb694a1(_0xb694a1[_0x8a2351(0x549)][_0x8a2351(0x4d3)]);const _0x30b2f5=_0x1fe594[_0x8a2351(0x66a)]('id')[_0x8a2351(0x50b)]('between',[_0x4cd796+'::',_0x4cd796+_0x8a2351(0x2d6)]),_0x2fd9c9=await this[_0x8a2351(0x2dd)][_0x8a2351(0x3cf)](_0x30b2f5[_0x8a2351(0x553)]());for(const _0x529d75 of _0x2fd9c9)await this[_0x8a2351(0x2dd)][_0x8a2351(0x176)](_0x529d75['id']);}[_0x2db2ce(0x62f)](){const _0x3a667f=_0x2db2ce;this[_0x3a667f(0x40c)](async(_0x15ad10,_0x5dc2d0)=>{const _0x1c424e=_0x3a667f;if(_0x5dc2d0 instanceof File)return;if(!await this['writeTransaction'](_0x5dc2d0))return void this[_0x1c424e(0x278)](_0x5dc2d0);if(!_0x5dc2d0[_0x1c424e(0x558)])throw new _0xb694a1(_0xb694a1[_0x1c424e(0x549)][_0x1c424e(0x2bf)]);const [_0x3dd47a,_0x1eabd2]=_0x5dc2d0['id'][_0x1c424e(0x259)]('::'),_0xaa54ee=this[_0x1c424e(0x1c3)][_0x1c424e(0x118)](_0x3dd47a);if(!_0xaa54ee)throw new _0xb694a1(_0xb694a1['codes'][_0x1c424e(0x4cd)],{'table':_0xaa54ee});let _0x583344=0x0;switch(_0x5dc2d0[_0x1c424e(0x2d1)]){case _0x3d1aaf[_0x1c424e(0x3b2)]:case _0x3d1aaf[_0x1c424e(0x303)]:{const _0x21f51a=_0xaa54ee[_0x1c424e(0x3bc)](_0x1eabd2,_0x5dc2d0[_0x1c424e(0x558)],!0x1);_0x583344=JSON[_0x1c424e(0x5df)](_0x5dc2d0[_0x1c424e(0x558)])[_0x1c424e(0x48d)],this['transactionsToSync'][_0x1c424e(0x28e)](_0x5dc2d0['id'])&&this[_0x1c424e(0x410)][_0x1c424e(0x23d)](_0x21f51a);break;}case _0x3d1aaf[_0x1c424e(0x5a3)]:{const _0x19c722=_0xaa54ee[_0x1c424e(0x176)](_0x1eabd2,!0x1);this[_0x1c424e(0x38d)][_0x1c424e(0x28e)](_0x5dc2d0['id'])&&this[_0x1c424e(0x410)][_0x1c424e(0x23d)](_0x19c722);break;}}_0x4aa571[_0x1c424e(0x6a7)](_0x2fe3df[_0x1c424e(0x220)],{'type':'sync','label':this[_0x1c424e(0x3a1)],'nodeId':this['localNode'][_0x1c424e(0x28c)](),'nodeType':this[_0x1c424e(0x490)][_0x1c424e(0x26f)],'clusterId':this[_0x1c424e(0x255)],'tableName':_0x3dd47a,'key':_0x1eabd2,'size':_0x583344}),this[_0x1c424e(0x278)](_0x5dc2d0);});}[_0x2db2ce(0x148)](){const _0x3524c1=_0x2db2ce;this[_0x3524c1(0x30a)]=this[_0x3524c1(0x356)][_0x3524c1(0x175)](async _0x43f31d=>{const _0x4647fd=_0x3524c1;let _0x3f15b2=0x0;switch(_0x43f31d[_0x4647fd(0x2d1)]){case _0x3d1aaf[_0x4647fd(0x3b2)]:case _0x3d1aaf[_0x4647fd(0x303)]:case _0x3d1aaf[_0x4647fd(0x5a3)]:{const _0x57e827=await this['getTransactionFromTableWriteEvent'](_0x43f31d);if(!_0x57e827)return;_0x57e827[_0x4647fd(0x558)]=_0x43f31d[_0x4647fd(0x558)],this['send'](_0x57e827),_0x3f15b2=JSON[_0x4647fd(0x5df)](_0x43f31d[_0x4647fd(0x558)])[_0x4647fd(0x48d)],this[_0x4647fd(0x249)]+=0x1;break;}case _0x4c9e18['Get']:case _0x4c9e18['List']:case _0x4c9e18['Count']:this[_0x4647fd(0x400)]+=0x1;}_0x4aa571[_0x4647fd(0x6a7)](_0x2fe3df[_0x4647fd(0x220)],{'type':_0x43f31d['action'],'label':this['label'],'nodeId':this['localNode'][_0x4647fd(0x28c)](),'nodeType':this[_0x4647fd(0x490)]['type'],'clusterId':this[_0x4647fd(0x255)],'tableName':_0x43f31d[_0x4647fd(0x2a6)],'key':_0x43f31d[_0x4647fd(0x46e)],'size':_0x3f15b2}),this[_0x4647fd(0x54c)]();});}[_0x2db2ce(0x3d5)](){const _0x56843f=_0x2db2ce;this['db']&&(this[_0x56843f(0x2dd)]||(this[_0x56843f(0x2dd)]=this['db'][_0x56843f(0x2ba)](_0x31869f)));}[_0x2db2ce(0x4a2)](){const _0x214d1a=_0x2db2ce;this[_0x214d1a(0x192)]&&(clearTimeout(this['syncTimeout']),delete this[_0x214d1a(0x192)]);}['publishSyncCompleted'](){const _0x12774a=_0x2db2ce;this[_0x12774a(0x6af)][_0x12774a(0x536)]({'event':_0x26993c[_0x12774a(0x649)][_0x12774a(0x71b)]}),this[_0x12774a(0x16f)]?.(!0x0),delete this[_0x12774a(0x16f)],this['sendStats']();}async['publishSyncCompletedAfterWrites'](){const _0x428223=_0x2db2ce;await Promise[_0x428223(0x5c4)](this['syncTransactionsWritten']),this[_0x428223(0x6ba)]();}[_0x2db2ce(0x278)](_0x5e662f){const _0x2d1635=_0x2db2ce;this[_0x2d1635(0x38d)][_0x2d1635(0x28e)](_0x5e662f['id'])&&(this[_0x2d1635(0x4a2)](),this[_0x2d1635(0x38d)]=this[_0x2d1635(0x38d)]['filter'](_0x2edfa8=>_0x2edfa8!==_0x5e662f['id']),0x0!==this[_0x2d1635(0x38d)][_0x2d1635(0x48d)]?this[_0x2d1635(0x192)]=setTimeout(this[_0x2d1635(0x112)],_0x2c006b):this['publishSyncCompletedAfterWrites']());}[_0x2db2ce(0x54c)](){const _0x8bc0ab=_0x2db2ce;this[_0x8bc0ab(0x177)]&&clearTimeout(this[_0x8bc0ab(0x177)]),this[_0x8bc0ab(0x177)]=setTimeout(async()=>{const _0x24bd16=_0x8bc0ab;delete this[_0x24bd16(0x177)];let _0x49bb7e=0x0;for(const _0x1c890b of this[_0x24bd16(0x1c3)][_0x24bd16(0x3ac)]())_0x49bb7e+=await _0x1c890b['calculateSize']();this[_0x24bd16(0x55f)][_0x24bd16(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x24bd16(0x47e)],'content':{'type':_0x1ce536[_0x24bd16(0x270)],'label':this[_0x24bd16(0x3a1)],'stats':{'timestamp':Date[_0x24bd16(0x279)](),'storage':_0x49bb7e,'messagesSent':this[_0x24bd16(0x231)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x24bd16(0x1c4)],'bytesReceived':this[_0x24bd16(0x22e)],'writes':this['writes'],'reads':this[_0x24bd16(0x400)]}}}),_0x4aa571[_0x24bd16(0x1f9)](_0x2fe3df['KeyValueDatabase'],_0x24bd16(0x4a8)+this[_0x24bd16(0x255)]+_0x24bd16(0x4a8)+this[_0x24bd16(0x3a1)],_0x49bb7e);},0x1388);}[_0x2db2ce(0x374)](_0x19ae80){const _0x481e7b=_0x2db2ce;if(_0x19ae80[_0x481e7b(0x1c3)][_0x31869f])throw new _0x5c22ea(_0x3a91a5[_0x481e7b(0x474)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x31869f+_0x481e7b(0x6fa));if(_0x19ae80['tables'][_0x32a8d8])throw new _0x5c22ea(_0x3a91a5['KeyValueDatabaseTableNameReserved'],_0x481e7b(0x31b)+_0x32a8d8+_0x481e7b(0x6fa));_0x19ae80[_0x481e7b(0x1c3)][_0x31869f]={'indexes':[]},_0x19ae80['tables'][_0x32a8d8]={'indexes':[]};}}const _0x4c023f=require('@crewdle/mist-connector-opfs'),_0x1145e0=require('@crewdle/mist-connector-indexed-db'),_0xd4f130=require('@crewdle/mist-connector-webrtc-browser');var _0x29b865,_0x4d69c0,_0x41aa84,_0x1f6b2a,_0xb64620,_0x1a33b0,_0x59d153,_0x18b64a,_0x4e7bef;!function(_0x305243){const _0x7172f4=_0x2db2ce;_0x305243[_0x7172f4(0x30c)]='AudioContext',_0x305243[_0x7172f4(0x4ae)]=_0x7172f4(0x4ae),_0x305243[_0x7172f4(0x5ec)]=_0x7172f4(0x5ec),_0x305243[_0x7172f4(0x2c5)]=_0x7172f4(0x2c5),_0x305243[_0x7172f4(0x635)]=_0x7172f4(0x635),_0x305243[_0x7172f4(0x50c)]=_0x7172f4(0x50c),_0x305243[_0x7172f4(0x248)]=_0x7172f4(0x248),_0x305243[_0x7172f4(0x423)]=_0x7172f4(0x423),_0x305243[_0x7172f4(0x65d)]=_0x7172f4(0x65d),_0x305243[_0x7172f4(0x309)]=_0x7172f4(0x309);}(_0x29b865||(_0x29b865={}));class _0x3e68a1{[_0x2db2ce(0x20a)];[_0x2db2ce(0x737)];[_0x2db2ce(0x107)];constructor(_0x9a9578=new Map(),_0x1b3064=new Map(),_0xf17b76=new EventTarget()){const _0x23811d=_0x2db2ce;this[_0x23811d(0x20a)]=_0x9a9578,this[_0x23811d(0x737)]=_0x1b3064,this['eventTarget']=_0xf17b76;}['emit']=(_0x55d8e8,_0x29e38d)=>this[_0x2db2ce(0x20a)][_0x2db2ce(0x40d)](_0x55d8e8)?(_0x4aa571[_0x2db2ce(0x24e)](_0x50f1bc[_0x2db2ce(0x6c1)],_0x2db2ce(0x739),{'event':_0x55d8e8,'data':_0x29e38d}),this['eventTarget'][_0x2db2ce(0x397)](new CustomEvent(_0x55d8e8,{'detail':_0x29e38d})),!0x0):(this[_0x2db2ce(0x550)](_0x55d8e8,_0x29e38d),!0x1);['on']=(_0x45bf48,_0x535230)=>{const _0x5d053e=_0x2db2ce,_0x4856b8=_0x2be616=>{const _0x4930ae=a0_0x3de5;_0x4aa571[_0x4930ae(0x24e)](_0x50f1bc[_0x4930ae(0x6c1)],'Received\x20event\x20on\x20cluster',_0x2be616[_0x4930ae(0x26f)],_0x2be616[_0x4930ae(0x1d3)]),_0x535230(_0x2be616['detail']);};return this['registeredListeners'][_0x5d053e(0x3bc)](_0x45bf48,_0x4856b8),this[_0x5d053e(0x107)][_0x5d053e(0x1af)](_0x45bf48,_0x4856b8),_0x4aa571[_0x5d053e(0x24e)](_0x50f1bc['Cluster'],'Subscribing\x20to\x20an\x20event:\x20on',_0x45bf48,_0x535230),this['consumeBufferedEvents'](_0x45bf48),this;};['off'](_0x13caca){const _0x347b4e=_0x2db2ce;if(!_0x13caca)return this[_0x347b4e(0x20a)][_0x347b4e(0x405)]((_0x5b2b85,_0x4ea430)=>{const _0x3c93d1=_0x347b4e;this['eventTarget'][_0x3c93d1(0x670)](_0x4ea430,_0x5b2b85);}),void this[_0x347b4e(0x20a)][_0x347b4e(0x3c1)]();_0x347b4e(0x6dc)==typeof _0x13caca&&this[_0x347b4e(0x2d5)](_0x13caca),Array[_0x347b4e(0x2d4)](_0x13caca)&&_0x13caca['forEach'](_0x398631=>{const _0x28592a=_0x347b4e;this[_0x28592a(0x2d5)](_0x398631);});}[_0x2db2ce(0x2d5)](_0x5593bf){const _0x138f21=_0x2db2ce,_0x291884=this[_0x138f21(0x20a)][_0x138f21(0x118)](_0x5593bf);_0x291884&&(this[_0x138f21(0x107)]['removeEventListener'](_0x5593bf,_0x291884),this['registeredListeners'][_0x138f21(0x176)](_0x5593bf));}[_0x2db2ce(0x550)](_0x7e1215,_0x10c892){const _0x187d5d=_0x2db2ce;_0x4aa571[_0x187d5d(0x24e)](_0x50f1bc[_0x187d5d(0x6c1)],'Buffering\x20event',{'event':_0x7e1215,'data':_0x10c892});const _0x4f5552=this[_0x187d5d(0x737)]['get'](_0x7e1215)||[];this[_0x187d5d(0x737)][_0x187d5d(0x3bc)](_0x7e1215,[..._0x4f5552,_0x10c892]);}[_0x2db2ce(0x632)](_0x554821){const _0x4d7dae=_0x2db2ce,_0x38d084=this['bufferedEvents']['get'](_0x554821);_0x38d084&&(_0x38d084[_0x4d7dae(0x405)](_0x10e543=>{const _0x141014=_0x4d7dae;_0x4aa571[_0x141014(0x24e)](_0x50f1bc[_0x141014(0x6c1)],_0x141014(0x242),{'event':_0x554821,'data':_0x10e543}),this[_0x141014(0x107)][_0x141014(0x397)](new CustomEvent(_0x554821,{'detail':_0x10e543}));}),this[_0x4d7dae(0x737)][_0x4d7dae(0x176)](_0x554821));}}class _0x30f7c3 extends Error{constructor(_0x2f331c){const _0x12bba7=_0x2db2ce;super(_0x12bba7(0x61c)+_0x2f331c);}}!function(_0x2e9cf5){const _0x42f3c3=_0x2db2ce;_0x2e9cf5[_0x2e9cf5['Core']=0x0]=_0x42f3c3(0x2a3),_0x2e9cf5[_0x2e9cf5[_0x42f3c3(0xe2)]=0x1]=_0x42f3c3(0xe2);}(_0x4d69c0||(_0x4d69c0={})),function(_0x20f2b0){const _0x5da343=_0x2db2ce;_0x20f2b0[_0x20f2b0[_0x5da343(0x60e)]=0x0]=_0x5da343(0x60e),_0x20f2b0[_0x20f2b0[_0x5da343(0x2b7)]=0x1]=_0x5da343(0x2b7),_0x20f2b0[_0x20f2b0[_0x5da343(0x641)]=0x2]=_0x5da343(0x641),_0x20f2b0[_0x20f2b0['Success']=0x3]=_0x5da343(0x5e1),_0x20f2b0[_0x20f2b0['NeedRestart']=0x4]=_0x5da343(0x4cb),_0x20f2b0[_0x20f2b0['Restart']=0x5]=_0x5da343(0x505),_0x20f2b0[_0x20f2b0[_0x5da343(0x15a)]=0x6]=_0x5da343(0x15a),_0x20f2b0[_0x20f2b0[_0x5da343(0x5d0)]=0x7]=_0x5da343(0x5d0),_0x20f2b0[_0x20f2b0[_0x5da343(0x20e)]=0x8]=_0x5da343(0x20e);}(_0x41aa84||(_0x41aa84={})),function(_0x1fdace){const _0x265354=_0x2db2ce;_0x1fdace[_0x1fdace[_0x265354(0x559)]=0x0]=_0x265354(0x559),_0x1fdace[_0x1fdace[_0x265354(0x22a)]=0x1]=_0x265354(0x22a);}(_0x1f6b2a||(_0x1f6b2a={})),function(_0x28f9ae){const _0x56c400=_0x2db2ce;_0x28f9ae[_0x56c400(0x50c)]=_0x56c400(0x466);}(_0xb64620||(_0xb64620={})),function(_0x423caf){const _0xe245e8=_0x2db2ce;_0x423caf[_0x423caf[_0xe245e8(0x2ca)]=0x0]=_0xe245e8(0x2ca),_0x423caf[_0x423caf[_0xe245e8(0x727)]=0x1]=_0xe245e8(0x727),_0x423caf[_0x423caf['NodeConnectionsUpdate']=0x2]=_0xe245e8(0x5ab),_0x423caf[_0x423caf[_0xe245e8(0x736)]=0x3]='NodeLeave';}(_0x1a33b0||(_0x1a33b0={})),function(_0x1241c1){const _0x157466=_0x2db2ce;_0x1241c1[_0x1241c1['Remediation']=0x0]='Remediation',_0x1241c1[_0x1241c1[_0x157466(0x67c)]=0x1]=_0x157466(0x67c);}(_0x59d153||(_0x59d153={})),function(_0x515c1f){const _0x527c44=_0x2db2ce;_0x515c1f[_0x527c44(0x631)]=_0x527c44(0x512),_0x515c1f[_0x527c44(0x5b6)]=_0x527c44(0x68d);}(_0x18b64a||(_0x18b64a={})),function(_0x208995){const _0x9731fa=_0x2db2ce;_0x208995[_0x9731fa(0x45f)]=_0x9731fa(0x5af),_0x208995[_0x9731fa(0x61a)]=_0x9731fa(0x5f7);}(_0x4e7bef||(_0x4e7bef={}));const _0x5e1e26=require('aws-amplify'),_0x1d117c=require('aws-amplify/utils'),_0x5b3fb6=require('@aws-amplify/api'),_0x1bd3d7=require('@aws-amplify/core');class _0x3f0748{['clusterId'];['localNode'];['remoteId'];constructor(_0x45a001,_0x2db2ae,_0x1c9b71){const _0x5ebc35=_0x2db2ce;this[_0x5ebc35(0x255)]=_0x45a001,this['localNode']=_0x2db2ae,this['remoteId']=_0x1c9b71;}[_0x2db2ce(0x47a)](){const _0x375921=_0x2db2ce;return this['localNode'][_0x375921(0x28c)]();}[_0x2db2ce(0x2ae)](){const _0x4d0f72=_0x2db2ce;return this[_0x4d0f72(0x460)];}}var _0x1d6f78,_0x221219,_0x2add13;function _0x38b7fc(_0x5d52c9,_0x2e16fb){return _0x5d52c9['sourceId']===_0x2e16fb;}function _0x1e2015(_0x592986,_0x5b8615){return _0x592986['destinationIds']?.['includes'](_0x5b8615)??function(_0xc7f89b){const _0x3a701b=a0_0x3de5;return void 0x0===_0xc7f89b[_0x3a701b(0x745)];}(_0x592986);}function _0x15540f(_0x214c58,{contentType:_0x145884,label:_0x2b1f2e,remoteId:_0x52617c}){return _0x214c58+'-'+_0x145884+'-'+_0x2b1f2e+'-'+_0x52617c;}function _0x24c977(_0x20b369,_0x28c305,_0x104f83){return''+_0x20b369+_0x28c305+_0x104f83;}function _0x4a7389(_0x532b05){const _0x223bab=_0x2db2ce;return _0x532b05===_0x221219[_0x223bab(0x54a)]?'IncomingSubscription':'OutgoingSubscription';}function _0x2dc33e(_0x1d9e56,_0x4b7599){const _0x168df2=_0x2db2ce;return{'label':_0x1d9e56[_0x168df2(0x170)](),'contentType':_0x1d9e56[_0x168df2(0x537)](),'remoteId':_0x4b7599[_0x168df2(0x2ae)](),'supportsContentType':_0x4b7599['getSupportedContentTypes']()['includes'](_0x1d9e56[_0x168df2(0x537)]())};}!function(_0x353b52){const _0x4c29d2=_0x2db2ce;_0x353b52[_0x353b52[_0x4c29d2(0x3f7)]=0x0]='Waiting',_0x353b52[_0x353b52['Accepted']=0x1]=_0x4c29d2(0x695),_0x353b52[_0x353b52[_0x4c29d2(0x13f)]=0x2]=_0x4c29d2(0x13f);}(_0x1d6f78||(_0x1d6f78={})),function(_0x345574){const _0x1ab488=_0x2db2ce;_0x345574['Incoming']='in',_0x345574[_0x1ab488(0x157)]=_0x1ab488(0x584);}(_0x221219||(_0x221219={}));class _0x26827b{['callback'];['retryCallback'];constructor(_0x44fec9,_0x502872){const _0x4cafd3=_0x2db2ce;this['callback']=_0x44fec9,this[_0x4cafd3(0x708)]=_0x502872;}[_0x2db2ce(0x179)](_0x58f257){const _0x1bdd7b=_0x2db2ce;this[_0x1bdd7b(0x748)](_0x58f257);}async[_0x2db2ce(0x33d)](){await this['retryCallback']();}}class _0x1f8373{['callback'];[_0x2db2ce(0x708)];constructor(_0x3f262b,_0x3d53bb){this['callback']=_0x3f262b,this['retryCallback']=_0x3d53bb;}async[_0x2db2ce(0x179)](_0x1b78bd){const _0xc057ee=_0x2db2ce;await this[_0xc057ee(0x748)](_0x1b78bd);}async['wait'](){const _0x1b99c7=_0x2db2ce;await this[_0x1b99c7(0x708)]();}}function _0x41c93b(_0x2e2ffb=()=>{},_0x3d08a7=()=>!0x1,_0x4d2c19=()=>{}){let _0x5d6a41,_0x1dd9d4,_0x2a0630=0x0;return{get 'size'(){return _0x2a0630;},get 'head'(){return _0x5d6a41;},get 'tail'(){return _0x1dd9d4;},set 'head'(_0x5f22a1){_0x5d6a41=_0x5f22a1;},set 'tail'(_0x4e3ea6){_0x1dd9d4=_0x4e3ea6;},'push'(_0x4164ef,_0x3fa782=!0x0){const _0x5b112e=a0_0x3de5,_0x4ad495={'value':_0x4164ef};_0x3fa782&&_0x3d08a7(_0x4ad495)?_0x2e2ffb():(_0x1dd9d4&&(_0x4ad495['previous']=_0x1dd9d4,_0x1dd9d4[_0x5b112e(0x716)]=_0x4ad495),_0x1dd9d4=_0x4ad495,_0x5d6a41||(_0x5d6a41=_0x4ad495),_0x2a0630+=0x1,_0x3fa782&&_0x2e2ffb());},'pop'(){const _0x2a70fb=a0_0x3de5;if(!_0x1dd9d4)return;const _0x591d61=_0x1dd9d4[_0x2a70fb(0x558)];return _0x1dd9d4=_0x1dd9d4[_0x2a70fb(0x52c)],_0x1dd9d4&&delete _0x1dd9d4['next'],_0x1dd9d4||(_0x5d6a41=void 0x0),_0x2a0630-=0x1,_0x591d61;},'unshift'(_0x49bd69,_0x4ca919=!0x0){const _0xd3e162=a0_0x3de5,_0x1620b3={'value':_0x49bd69};_0x4ca919&&_0x3d08a7(_0x1620b3)?_0x2e2ffb():(_0x5d6a41&&(_0x5d6a41['previous']=_0x1620b3,_0x1620b3[_0xd3e162(0x716)]=_0x5d6a41),_0x5d6a41=_0x1620b3,_0x1dd9d4||(_0x1dd9d4=_0x1620b3),_0x2a0630+=0x1,_0x4ca919&&_0x2e2ffb());},'shift'(){const _0x40ef49=a0_0x3de5;if(!_0x5d6a41)return;const _0x41b4c4=_0x5d6a41[_0x40ef49(0x558)];return _0x5d6a41=_0x5d6a41[_0x40ef49(0x716)],_0x5d6a41&&delete _0x5d6a41[_0x40ef49(0x52c)],_0x5d6a41||(_0x1dd9d4=void 0x0),_0x2a0630-=0x1,_0x41b4c4;},'clear'(){_0x4d2c19(),_0x5d6a41=void 0x0,_0x1dd9d4=void 0x0,_0x2a0630=0x0;}};}function _0x4b3294(_0x336314,_0x20e12e=!0x1,_0x3d7552=()=>{},_0xcd2a47=()=>!0x1,_0x57b464=()=>{}){let _0xc4352=!0x1;const _0x6af776=_0x41c93b(async function(){const _0x468efa=a0_0x3de5;if(!_0xc4352){for(_0xc4352=!0x0;_0x6af776[_0x468efa(0x224)];){const _0x201d41=_0x6af776[_0x468efa(0x315)]();if(_0x201d41)try{_0x336314 instanceof _0x26827b&&_0x336314[_0x468efa(0x179)](_0x201d41),_0x336314 instanceof _0x1f8373&&await _0x336314[_0x468efa(0x179)](_0x201d41),_0x3d7552(_0x201d41);}catch(_0x2325b1){_0x20e12e?_0x6af776['push'](_0x201d41,!0x1):_0x6af776[_0x468efa(0x6b6)](_0x201d41,!0x1),await _0x336314['wait']();}}_0xc4352=!0x1;}},_0xcd2a47,_0x57b464);return _0x6af776;}class _0x25eb66 extends _0x3f0748{[_0x2db2ce(0x6e1)];['authService'];[_0x2db2ce(0x21f)]=_0x5b3fb6[_0x2db2ce(0x222)]['Disconnected'];[_0x2db2ce(0x5e7)]=_0x38d6db();[_0x2db2ce(0x246)]=_0x8f7aff();[_0x2db2ce(0x1c5)];[_0x2db2ce(0x32b)];['retryQueue']=_0x4b3294(new _0x1f8373(this[_0x2db2ce(0x2ed)][_0x2db2ce(0x1e9)](this),this[_0x2db2ce(0x70f)][_0x2db2ce(0x1e9)](this)));[_0x2db2ce(0x4e3)];constructor(_0x4424b7,_0x5d2265,_0x27f78d,_0x210270,_0x1b94b1){const _0x5913a4=_0x2db2ce;super(_0x5d2265,_0x27f78d,_0x210270),this[_0x5913a4(0x6e1)]=_0x4424b7,this[_0x5913a4(0x71c)]=_0x1b94b1;}async[_0x2db2ce(0x4e0)](){const _0x4f657b=_0x2db2ce;try{const _0x193984={'getTokens':async()=>{const _0x562418=a0_0x3de5,_0x498366=await this[_0x562418(0x71c)]['getIdToken']();return{'accessToken':(0x0,_0x1bd3d7[_0x562418(0x72d)])(_0x498366),'idToken':(0x0,_0x1bd3d7[_0x562418(0x72d)])(_0x498366)};}};_0x5e1e26[_0x4f657b(0x416)]['configure']({'API':{'GraphQL':{'endpoint':_0x5d41ff[_0x4f657b(0x2ef)][_0x4f657b(0x528)],'region':_0x5d41ff['aws'][_0x4f657b(0x318)],'defaultAuthMode':_0x4f657b(0x33f)}}},{'Auth':{'tokenProvider':_0x193984}}),this['client']=(0x0,_0x5b3fb6[_0x4f657b(0x540)])(),await this['subscribe'](),this['listenUnsubscriber']=_0x1d117c[_0x4f657b(0x720)][_0x4f657b(0x1d4)](_0x4f657b(0xe7),async({payload:_0x192100})=>{const _0x19e9cb=_0x4f657b;if(_0x192100[_0x19e9cb(0x415)]===_0x5b3fb6[_0x19e9cb(0x24d)]){const _0x1ee964=_0x192100[_0x19e9cb(0x1f6)];this['connectionState']=_0x1ee964[_0x19e9cb(0x21f)],this['connectionStateListener'][_0x19e9cb(0x536)](_0x1ee964[_0x19e9cb(0x21f)]),this[_0x19e9cb(0x21f)]===_0x5b3fb6[_0x19e9cb(0x222)]['Disconnected']&&_0x4aa571[_0x19e9cb(0x554)]('appsync-disconnect',{'clusterId':this[_0x19e9cb(0x255)],'nodeId':this[_0x19e9cb(0x47a)](),'nodeType':this['localNode'][_0x19e9cb(0x26f)]}),this[_0x19e9cb(0x21f)]===_0x5b3fb6[_0x19e9cb(0x222)]['Connected']&&_0x4aa571[_0x19e9cb(0x712)](_0x19e9cb(0x6f5),{'clusterId':this[_0x19e9cb(0x255)],'nodeId':this[_0x19e9cb(0x47a)](),'nodeType':this[_0x19e9cb(0x490)][_0x19e9cb(0x26f)]});}});}catch(_0x5cd90f){_0x4aa571[_0x4f657b(0x554)]('appsync-connect-fail',{'clusterId':this[_0x4f657b(0x255)],'nodeId':this[_0x4f657b(0x47a)](),'nodeType':this[_0x4f657b(0x490)][_0x4f657b(0x26f)]});}}['close'](){const _0x39118f=_0x2db2ce;_0x4aa571[_0x39118f(0x712)]('appsync-close',{'clusterId':this['clusterId'],'nodeId':this[_0x39118f(0x47a)](),'nodeType':this[_0x39118f(0x490)][_0x39118f(0x26f)]}),this[_0x39118f(0x4b5)][_0x39118f(0x3c1)](),this[_0x39118f(0x32b)]?.(),this[_0x39118f(0x1c5)]?.['unsubscribe'](),delete this[_0x39118f(0x1c5)];}['isConnected'](){const _0x22dbc1=_0x2db2ce;return this['connectionState']===_0x5b3fb6[_0x22dbc1(0x222)][_0x22dbc1(0x20b)];}['send'](_0x426d72){const _0x2c5b18=_0x2db2ce;this[_0x2c5b18(0x4b5)][_0x2c5b18(0x23d)](_0x426d72);}[_0x2db2ce(0x40c)](_0x2b43d5){const _0x27968f=_0x2db2ce;return this[_0x27968f(0x246)][_0x27968f(0x175)](_0x2b43d5);}[_0x2db2ce(0x472)](){const _0x44eafa=_0x2db2ce;return[_0x26993c['ContentType'][_0x44eafa(0x6a8)]];}async[_0x2db2ce(0x70f)](){const _0x56757a=_0x2db2ce;if(!this[_0x56757a(0x340)]())return new Promise(_0x11dad3=>{const _0x2bc601=_0x56757a,_0xe0c90c=this[_0x2bc601(0x5e7)][_0x2bc601(0x175)](_0x27ab0b=>{const _0x44d2ff=_0x2bc601;_0x27ab0b===_0x5b3fb6[_0x44d2ff(0x222)][_0x44d2ff(0x20b)]&&(_0xe0c90c(),_0x11dad3());});});}async[_0x2db2ce(0x2ed)](_0x1e6537){const _0x575307=_0x2db2ce;if(this['connectionState']!==_0x5b3fb6[_0x575307(0x222)][_0x575307(0x20b)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x1e6537['destinationIds']&&0x1===_0x1e6537[_0x575307(0x745)][_0x575307(0x48d)]?await this[_0x575307(0x536)](_0x1e6537[_0x575307(0x745)][0x0],JSON['stringify'](_0x1e6537)):_0x4aa571[_0x575307(0x554)](_0x575307(0x61e),{'clusterId':this[_0x575307(0x255)],'nodeId':this['getLocalId'](),'nodeType':this[_0x575307(0x490)]['type']});}async[_0x2db2ce(0x536)](_0x5ff2c,_0x32748b){const _0x36907d=_0x2db2ce;if(!this['client'])throw new Error(_0x36907d(0x529));_0x4aa571['log'](_0x50f1bc[_0x36907d(0x3bd)],_0x36907d(0x458),this[_0x36907d(0x47a)](),_0x32748b),await this[_0x36907d(0x4e3)]['graphql']({'query':_0x36907d(0x72b),'variables':{'name':await this[_0x36907d(0x455)](_0x5ff2c),'data':_0x32748b}});}async[_0x2db2ce(0x175)](){const _0x35ecd3=_0x2db2ce;if(this[_0x35ecd3(0x1c5)])return;if(!this['client'])throw new Error(_0x35ecd3(0x529));_0x4aa571[_0x35ecd3(0x24e)](_0x50f1bc['Signaling'],_0x35ecd3(0x129),this[_0x35ecd3(0x47a)]());const _0x4ef52b=await this[_0x35ecd3(0x4e3)][_0x35ecd3(0x264)]({'query':_0x35ecd3(0xff),'variables':{'name':await this[_0x35ecd3(0x455)]()},'authToken':await this[_0x35ecd3(0x71c)][_0x35ecd3(0xed)]()},{'Authorization':await this[_0x35ecd3(0x71c)][_0x35ecd3(0xed)]()});this[_0x35ecd3(0x1c5)]=_0x4ef52b[_0x35ecd3(0x175)]({'next':({data:_0x138dec})=>{const _0x3368e9=_0x35ecd3,_0x53c1b2=JSON[_0x3368e9(0x100)](_0x138dec['subscribe']['data']);!_0x38b7fc(_0x53c1b2,this[_0x3368e9(0x47a)]())&&_0x1e2015(_0x53c1b2,this[_0x3368e9(0x47a)]())&&this[_0x3368e9(0x246)]['publish'](_0x53c1b2);},'error':console[_0x35ecd3(0x24e)]});}async[_0x2db2ce(0x455)](_0x994354){const _0x394bee=_0x2db2ce,_0x3c1a4d=await crypto[_0x394bee(0x62b)][_0x394bee(0x3d1)](_0x394bee(0x172),new TextEncoder()['encode'](this[_0x394bee(0x6e1)]+'-'+this[_0x394bee(0x255)]+'-'+(_0x994354??this[_0x394bee(0x47a)]())));return Array['from'](new Uint8Array(_0x3c1a4d))['map'](_0x4e0c83=>_0x4e0c83[_0x394bee(0x50a)](0x10)['padStart'](0x2,'0'))['join']('');}}!function(_0x1cf934){const _0x14cdf9=_0x2db2ce;_0x1cf934[_0x1cf934['Add']=0x0]=_0x14cdf9(0x3b2),_0x1cf934[_0x1cf934['Remove']=0x1]=_0x14cdf9(0x613),_0x1cf934[_0x1cf934[_0x14cdf9(0x303)]=0x2]=_0x14cdf9(0x303),_0x1cf934[_0x1cf934[_0x14cdf9(0x63b)]=0x3]=_0x14cdf9(0x63b),_0x1cf934[_0x1cf934[_0x14cdf9(0x51f)]=0x4]='RemoteRemove';}(_0x2add13||(_0x2add13={}));const _0x25a06c=require('uuid'),_0x344ef9='0',_0x371c20='chunk',_0xb5fc15=0x3fc00;class _0x1fbc2c{[_0x2db2ce(0x255)];[_0x2db2ce(0x490)];['remoteId'];['iceServers'];[_0x2db2ce(0x564)];[_0x2db2ce(0x1b8)];[_0x2db2ce(0x74f)];['dataChannel'];[_0x2db2ce(0xdf)]=0x1;[_0x2db2ce(0x55f)];[_0x2db2ce(0x335)]=[];[_0x2db2ce(0x495)]=[];[_0x2db2ce(0x4e4)];constructor(_0x2a6ffa,_0xa38854,_0x24a4d9,_0x1b90a6,_0x5f4d78,_0x43937d){const _0x1cf9ff=_0x2db2ce;this[_0x1cf9ff(0x255)]=_0x2a6ffa,this[_0x1cf9ff(0x490)]=_0xa38854,this['remoteId']=_0x24a4d9,this['iceServers']=_0x1b90a6,this['connectionType']=_0x5f4d78,this['connectionConstructor']=_0x43937d,this[_0x1cf9ff(0x74f)]=new this[(_0x1cf9ff(0x1b8))]({'handshakeServers':this[_0x1cf9ff(0x492)]}),this['setupConnectionEvents']();}[_0x2db2ce(0x37c)](){const _0x148133=_0x2db2ce;this[_0x148133(0x731)]();}[_0x2db2ce(0x6e9)](_0x46ffe9){const _0x587737=_0x2db2ce;this[_0x587737(0x564)]=_0x46ffe9;}async[_0x2db2ce(0x742)](_0x154b87,_0x541f51){const _0x3c2113=_0x2db2ce;if(_0x541f51===this[_0x3c2113(0xdf)])for(const _0x5a89fa of _0x154b87){if(!this['connection'][_0x3c2113(0x36d)])return this[_0x3c2113(0x3e6)](_0x5a89fa);await this[_0x3c2113(0x74f)]['addCandidate'](_0x5a89fa);}}[_0x2db2ce(0x340)](){const _0x4aceec=_0x2db2ce;return this[_0x4aceec(0x194)](),_0x4aceec(0x4af)===this[_0x4aceec(0x74f)][_0x4aceec(0x21f)]&&['connected','completed'][_0x4aceec(0x28e)](this[_0x4aceec(0x74f)][_0x4aceec(0x240)])&&_0x4aceec(0x1fb)!==this[_0x4aceec(0x74f)][_0x4aceec(0x5f1)]&&_0x4aceec(0x677)===this[_0x4aceec(0x450)]?.['state'];}[_0x2db2ce(0x155)](_0x137692){const _0x1f2e97=_0x2db2ce;this[_0x1f2e97(0x55f)]=_0x137692;}[_0x2db2ce(0x1f7)](){delete this['systemTopic'];}[_0x2db2ce(0x5a4)](_0x136670){const _0x30bf8c=_0x2db2ce;this[_0x30bf8c(0x731)](),this[_0x30bf8c(0x74f)]=new this[(_0x30bf8c(0x1b8))]({'handshakeServers':this[_0x30bf8c(0x492)]}),_0x136670?this[_0x30bf8c(0xdf)]=_0x136670:this[_0x30bf8c(0xdf)]+=0x1,this[_0x30bf8c(0x2af)]();}[_0x2db2ce(0x402)](){const _0x288213=_0x2db2ce;this['pendingHandshakeCandidates'][_0x288213(0x405)](_0x4455f1=>this['connection'][_0x288213(0x312)](_0x4455f1)),this['pendingHandshakeCandidates']=[];}['publishSystemMessage'](_0x810c9b,_0x1a28ff){const _0x1c142b=_0x2db2ce;if(!this[_0x1c142b(0x55f)])throw new _0xb694a1(_0xb694a1[_0x1c142b(0x549)][_0x1c142b(0x757)],{'content':_0x810c9b});const _0x8e85e5={'sourceId':this[_0x1c142b(0x490)][_0x1c142b(0x28c)](),'destinationIds':[this[_0x1c142b(0x460)]],'propagate':this[_0x1c142b(0x564)]!==_0x4d69c0['Core'],'retry':this['connectionType']!==_0x4d69c0[_0x1c142b(0x2a3)],'messageType':_0x190ed6[_0x1c142b(0x6ac)],'content':_0x810c9b};_0x1a28ff&&(_0x8e85e5[_0x1c142b(0x3c2)]=_0x1a28ff),this[_0x1c142b(0x55f)][_0x1c142b(0x536)](_0x8e85e5);}[_0x2db2ce(0x2af)](){const _0xfb15f9=_0x2db2ce;this[_0xfb15f9(0x74f)][_0xfb15f9(0x633)]=()=>{const _0x34e395=_0xfb15f9;'complete'===this[_0x34e395(0x74f)][_0x34e395(0x730)]&&this[_0x34e395(0x335)][_0x34e395(0x48d)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x34e395(0x4e4)]),this[_0x34e395(0x4e4)]=setTimeout(()=>{const _0x4fd720=_0x34e395;delete this[_0x4fd720(0x4e4)],this[_0x4fd720(0x1ba)](),this[_0x4fd720(0x335)]=[];},0x1f4));},this['connection'][_0xfb15f9(0x265)]=_0xefba1f=>{const _0x534a5d=_0xfb15f9;_0xefba1f[_0x534a5d(0x333)]&&this[_0x534a5d(0x335)][_0x534a5d(0x23d)](_0xefba1f[_0x534a5d(0x333)]);};}[_0x2db2ce(0x731)](){const _0x3336c8=_0x2db2ce;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this[_0x3336c8(0x335)]=[],this[_0x3336c8(0x495)]=[],this[_0x3336c8(0x450)]&&(this[_0x3336c8(0x450)][_0x3336c8(0x40c)]=null,this['dataChannel'][_0x3336c8(0x4ff)]=null,this[_0x3336c8(0x450)][_0x3336c8(0x37c)](),delete this[_0x3336c8(0x450)]),this['connection'][_0x3336c8(0x633)]=null,this[_0x3336c8(0x74f)]['onCandidate']=null,this[_0x3336c8(0x74f)]['onHandshakeStateChange']=null,this[_0x3336c8(0x74f)][_0x3336c8(0x25b)]=null,this[_0x3336c8(0x74f)][_0x3336c8(0x616)]=null,this[_0x3336c8(0x74f)][_0x3336c8(0x18a)]=null,this[_0x3336c8(0x74f)][_0x3336c8(0x37c)]();}[_0x2db2ce(0x3e6)](_0x390efc){const _0x150f98=_0x2db2ce;this[_0x150f98(0x495)][_0x150f98(0x23d)](_0x390efc);}['logConnectionState'](){const _0x21a1d1=_0x2db2ce;_0x4aa571['log'](_0x50f1bc[_0x21a1d1(0x222)],_0x21a1d1(0x6b0),{'localId':this[_0x21a1d1(0x490)]['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0x21a1d1(0x74f)][_0x21a1d1(0x21f)],'handshakeState':this[_0x21a1d1(0x74f)][_0x21a1d1(0x240)],'signalingState':this['connection']['signalingState'],'dataChannelState':this['dataChannel']?.[_0x21a1d1(0x3a8)]});}}function _0x4d0163(_0x2c0e61,_0x52d6a2){const _0x25b0be=_0x2db2ce;_0x52d6a2[_0x25b0be(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6['PeerConnection'],'content':_0x2c0e61});}class _0x4a7edc{static [_0x2db2ce(0x10b)];[_0x2db2ce(0x30e)]=[];['source'];constructor(){setInterval(()=>{const _0x1828c2=a0_0x3de5;this[_0x1828c2(0x30e)][_0x1828c2(0x405)](_0x5ba495=>{const _0x202845=_0x1828c2;if(Date[_0x202845(0x279)]()-_0x5ba495[_0x202845(0x728)]>_0x5ba495['interval']){try{_0x5ba495[_0x202845(0x748)]();}catch(_0x1d182a){}_0x5ba495[_0x202845(0x728)]=Date['now']();}});},0x64);}static[_0x2db2ce(0x122)](){const _0x124173=_0x2db2ce;return _0x4a7edc['instance']||(_0x4a7edc[_0x124173(0x10b)]=new _0x4a7edc()),_0x4a7edc[_0x124173(0x10b)];}[_0x2db2ce(0x429)](_0x45f9f7){const _0x3bf6b0=_0x2db2ce,_0x5d44bc=this[_0x3bf6b0(0x4d7)](_0x45f9f7),_0x24961a=_0x45f9f7['createGain']();_0x24961a&&_0x5d44bc&&(_0x24961a[_0x3bf6b0(0x381)][_0x3bf6b0(0x558)]=0.001,_0x5d44bc[_0x3bf6b0(0x4e0)](_0x24961a),_0x24961a[_0x3bf6b0(0x4e0)](_0x45f9f7[_0x3bf6b0(0x715)]),_0x5d44bc[_0x3bf6b0(0x4cf)]());}[_0x2db2ce(0x401)](){const _0x3add78=_0x2db2ce;this['source']&&(this[_0x3add78(0x41a)][_0x3add78(0x11e)](),this[_0x3add78(0x41a)]['disconnect'](),this[_0x3add78(0x41a)]=void 0x0);}[_0x2db2ce(0x33d)](_0x2be0d7){return new Promise(_0x592758=>{setTimeout(_0x592758,_0x2be0d7);});}[_0x2db2ce(0x546)](_0x4cb1f6,_0x33bb93){const _0x27db35=_0x2db2ce;return this['parameters'][_0x27db35(0x23d)]({'callback':_0x4cb1f6,'interval':_0x33bb93,'lastExecuted':Date[_0x27db35(0x279)]()}),()=>{const _0xa2c112=_0x27db35;this[_0xa2c112(0x30e)]=this['parameters'][_0xa2c112(0x6f6)](_0x13bb3d=>_0x13bb3d[_0xa2c112(0x748)]!==_0x4cb1f6);};}[_0x2db2ce(0x4d7)](_0x118541){const _0x43e7d3=_0x2db2ce;if(_0x118541[_0x43e7d3(0x4d7)])return _0x118541['createConstantSource']();const _0x172fa5=_0x118541[_0x43e7d3(0x2d7)](),_0xfdb56a=_0x118541['createBuffer'](0x1,0x1,_0x118541[_0x43e7d3(0x52f)]);return _0xfdb56a[_0x43e7d3(0x189)](0x0)[0x0]=0xa,_0x172fa5[_0x43e7d3(0x489)]=_0xfdb56a,_0x172fa5[_0x43e7d3(0x3ae)]=!0x0,_0x172fa5;}}const _0x8ac28d=_0x4a7edc[_0x2db2ce(0x122)](),_0x31f367=[_0x2db2ce(0x6ac),_0x2db2ce(0x254),_0x2db2ce(0x47e),_0x2db2ce(0x595),'Stats',_0x2db2ce(0x5cd),_0x2db2ce(0x6b1)],_0x3d5002=[[_0x2db2ce(0x60e),'Answer',_0x2db2ce(0x641),_0x2db2ce(0x5e1),_0x2db2ce(0x4cb),_0x2db2ce(0x505),_0x2db2ce(0x15a),_0x2db2ce(0x5d0),_0x2db2ce(0x20e)],[_0x2db2ce(0x2ca),_0x2db2ce(0x727),_0x2db2ce(0x5ab),_0x2db2ce(0x736)],[_0x2db2ce(0x1ce),_0x2db2ce(0x1a9),_0x2db2ce(0x2a9),_0x2db2ce(0xf7),_0x2db2ce(0x17e),_0x2db2ce(0x493),_0x2db2ce(0x53b),_0x2db2ce(0x282),_0x2db2ce(0x253),_0x2db2ce(0x53d),_0x2db2ce(0x652),'LocalMediaStreamTrackFail',_0x2db2ce(0x657),_0x2db2ce(0x696),_0x2db2ce(0x2ab),_0x2db2ce(0x25a),'ObjectStoreStats','KeyValueDatabaseStats'],[_0x2db2ce(0x2a9),_0x2db2ce(0xf7),_0x2db2ce(0x17e),'NeedMediaStream',_0x2db2ce(0xd8),'CanProvideMediaStream','CannotProvideMediaStream','MediaStreamUnavailable'],[_0x2db2ce(0x562),_0x2db2ce(0x149)],[_0x2db2ce(0x4b9)],['Remediation',_0x2db2ce(0x67c)]];function _0x471152(_0x5d518d){const _0x3cfe28=_0x2db2ce;return{..._0x5d518d,'systemMessageType':_0x31f367[_0x5d518d[_0x3cfe28(0x66b)]],'systemContentMessageType':_0x3d5002[_0x5d518d[_0x3cfe28(0x66b)]][_0x5d518d[_0x3cfe28(0x581)][_0x3cfe28(0x26f)]]};}const _0x73179b={'hour':_0x2db2ce(0x1ec),'minute':'2-digit','second':'2-digit'};function _0x3d304c(_0x144a51,_0x1eb671){const _0x424619=_0x2db2ce,_0x5da1fc=(function(){const _0x456fcf=a0_0x3de5,_0x3fb0a8=new Date(),_0x2242d4=_0x3fb0a8[_0x456fcf(0x5d7)](),_0x80942f=_0x3fb0a8['toLocaleDateString'](_0x456fcf(0x4f6),_0x73179b)[_0x456fcf(0x3b0)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x80942f+'.'+(_0x2242d4>0x64?''+_0x2242d4:_0x2242d4>0xa?'0'+_0x2242d4:'00'+_0x2242d4);}()),{sourceId:_0x1df6f4,destinationIds:_0x8f6e40,systemMessageType:_0x4dc439,systemContentMessageType:_0x23fc43}=_0x471152(_0x144a51);return _0x5da1fc+'\x20-\x20'+_0x1eb671+'\x20-\x20'+(_0x1df6f4===_0x1eb671?_0x424619(0x4aa)+_0x4dc439+_0x424619(0x426)+(_0x8f6e40?''+_0x8f6e40:_0x424619(0x1b1)):_0x144a51[_0x424619(0x133)]===_0x150f3e?'Internal\x20event\x20\x27'+_0x4dc439+'\x27':(_0x8f6e40?'':'Everyone\x20')+_0x424619(0x73d)+_0x4dc439+_0x424619(0x6b9)+_0x1df6f4)+_0x424619(0x26d)+_0x23fc43+_0x424619(0x661);}class _0x16e897 extends _0x1fbc2c{[_0x2db2ce(0x4fd)]=_0x38d6db();[_0x2db2ce(0x6ee)]=_0x38d6db();['removeTrackCallback']=_0x38d6db();[_0x2db2ce(0x5ee)]=new Map();[_0x2db2ce(0x364)]=new Map();[_0x2db2ce(0xd1)];[_0x2db2ce(0x27a)]=0x0;[_0x2db2ce(0x206)]={'messages':{'total':0x0}};[_0x2db2ce(0x22e)]=0x0;[_0x2db2ce(0x6c0)]=0x0;[_0x2db2ce(0x37c)](){const _0x2e7862=_0x2db2ce;this['clearWaitSuccess'](),this[_0x2e7862(0x5ee)][_0x2e7862(0x3c1)](),super[_0x2e7862(0x37c)]();}async['handleOffer'](_0x29c4fe,_0x4b87f3){const _0x270e1b=_0x2db2ce;this['currentVersion']=_0x4b87f3,this[_0x270e1b(0x6b7)]();const _0x365028=await this[_0x270e1b(0x74f)]['createAnswer'](_0x29c4fe);this[_0x270e1b(0x402)]();const _0x1852e9=(0x0,_0x25a06c['v4'])();this[_0x270e1b(0x5f9)]({'type':_0x41aa84[_0x270e1b(0x2b7)],'answer':_0x365028,'version':_0x4b87f3,'connectionType':this[_0x270e1b(0x564)]},_0x1852e9),this['connectionType']===_0x4d69c0[_0x270e1b(0x2a3)]&&(this[_0x270e1b(0xd1)]=_0x8ac28d[_0x270e1b(0x546)](()=>{const _0x4d4f47=_0x270e1b;this[_0x4d4f47(0x5f9)]({'type':_0x41aa84[_0x4d4f47(0x2b7)],'answer':_0x365028,'version':_0x4b87f3,'connectionType':this[_0x4d4f47(0x564)]},_0x1852e9);},0x1388));}[_0x2db2ce(0x21b)](){const _0x1e0bd5=_0x2db2ce;this[_0x1e0bd5(0x6b7)]();}[_0x2db2ce(0x245)](_0x38c39a){const _0x1d3145=_0x2db2ce;this[_0x1d3145(0x5a4)](_0x38c39a),this[_0x1d3145(0x5f9)]({'type':_0x41aa84[_0x1d3145(0x505)]});}async[_0x2db2ce(0x594)](){const _0x6c8db6=_0x2db2ce;this[_0x6c8db6(0x55f)]&&(await this[_0x6c8db6(0x74f)][_0x6c8db6(0x457)](this[_0x6c8db6(0x5ee)],(_0x39428b,_0x20fba1)=>{const _0x532707=_0x6c8db6;_0x4d0163({'type':_0x41aa84['Stats'],'streamId':_0x20fba1,'nodeId':this[_0x532707(0x460)],'stats':_0x39428b},this[_0x532707(0x55f)]);}),this[_0x6c8db6(0x55f)][_0x6c8db6(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x6c8db6(0x6ac)],'content':{'type':_0x41aa84['Stats'],'nodeId':this['remoteId'],'stats':{'origin':_0x1f6b2a[_0x6c8db6(0x22a)],'timestamp':Date['now'](),'messagesReceived':this[_0x6c8db6(0x27a)],'bytesReceived':this[_0x6c8db6(0x22e)],'timeReceiving':this[_0x6c8db6(0x6c0)],'systemMessages':this[_0x6c8db6(0x206)]}}}));}[_0x2db2ce(0x40c)](_0x638218){const _0x4a96e4=_0x2db2ce;return this[_0x4a96e4(0x4fd)]['subscribe'](_0x638218);}['onTrack'](_0x5dc7ab){const _0x4eda43=_0x2db2ce;return this[_0x4eda43(0x6ee)][_0x4eda43(0x175)](({track:_0x438198,stream:_0x96c669})=>_0x5dc7ab(_0x438198,_0x96c669));}['onRemoveTrack'](_0x22b2a4){const _0x4d7329=_0x2db2ce;return this['removeTrackCallback'][_0x4d7329(0x175)](({track:_0x492d36,stream:_0x4ea550})=>_0x22b2a4(_0x492d36,_0x4ea550));}[_0x2db2ce(0x5a4)](_0x56af67){const _0x43f608=_0x2db2ce;this[_0x43f608(0x6b7)](),this[_0x43f608(0x5ee)][_0x43f608(0x405)](_0x1d849f=>{const _0x525009=_0x43f608;_0x1d849f[_0x525009(0x3c1)]();}),super[_0x43f608(0x5a4)](_0x56af67);}[_0x2db2ce(0x1ba)](){const _0x22b25a=_0x2db2ce;this[_0x22b25a(0x5f9)]({'type':_0x41aa84['Handshake'],'candidates':this[_0x22b25a(0x335)],'origin':_0x1f6b2a[_0x22b25a(0x22a)],'version':this[_0x22b25a(0xdf)],'connectionType':this[_0x22b25a(0x564)]});}['setupConnectionEvents'](){const _0x319020=_0x2db2ce;super['setupConnectionEvents'](),this[_0x319020(0x74f)][_0x319020(0x616)]=_0x5f5c3a=>{const _0xa76c72=_0x319020;_0x4aa571[_0xa76c72(0x24e)](_0x50f1bc[_0xa76c72(0x3b4)],_0xa76c72(0x684),this[_0xa76c72(0x490)]['getId'](),_0x5f5c3a),_0x5f5c3a[_0xa76c72(0x31f)][0x0][_0xa76c72(0x19d)]=_0x4ce53c=>{const _0x152d9b=_0xa76c72;this['receivers'][_0x152d9b(0x118)](_0x5f5c3a[_0x152d9b(0x31f)][0x0]['id'])?.[_0x152d9b(0x176)](_0x4ce53c[_0x152d9b(0x11a)]),0x0===this[_0x152d9b(0x5ee)][_0x152d9b(0x118)](_0x5f5c3a['streams'][0x0]['id'])?.['size']&&this[_0x152d9b(0x5ee)][_0x152d9b(0x176)](_0x5f5c3a[_0x152d9b(0x31f)][0x0]['id']),this[_0x152d9b(0x711)][_0x152d9b(0x536)]({'track':_0x4ce53c[_0x152d9b(0x11a)],'stream':_0x5f5c3a[_0x152d9b(0x31f)][0x0]});},this[_0xa76c72(0x5ee)]['has'](_0x5f5c3a[_0xa76c72(0x31f)][0x0]['id'])||this['receivers'][_0xa76c72(0x3bc)](_0x5f5c3a['streams'][0x0]['id'],new Set()),this[_0xa76c72(0x5ee)][_0xa76c72(0x118)](_0x5f5c3a[_0xa76c72(0x31f)][0x0]['id'])[_0xa76c72(0x3c3)](_0x5f5c3a[_0xa76c72(0x11a)]),this[_0xa76c72(0x6ee)][_0xa76c72(0x536)]({'track':_0x5f5c3a[_0xa76c72(0x11a)],'stream':_0x5f5c3a[_0xa76c72(0x31f)][0x0]});},this[_0x319020(0x74f)][_0x319020(0x18a)]=_0x3a4b13=>{const _0x5a407e=_0x319020;this[_0x5a407e(0x450)]=_0x3a4b13['channel'],this[_0x5a407e(0x450)][_0x5a407e(0x40c)]=_0x1b3e6c=>{const _0x58e706=_0x5a407e;if(_0x1b3e6c[_0x58e706(0x1f6)]!==_0x344ef9)this['handleOnMessage'](_0x1b3e6c['data']);else{if(!this[_0x58e706(0x450)])return void _0x4aa571[_0x58e706(0x554)](_0x58e706(0x56e),{'clusterId':this[_0x58e706(0x255)],'nodeId':this[_0x58e706(0x490)]['getId'](),'nodeType':this[_0x58e706(0x490)][_0x58e706(0x26f)],'remoteId':this[_0x58e706(0x460)],'data':{'connection':'receiver'}});if('open'!==this[_0x58e706(0x450)][_0x58e706(0x3a8)])return;this[_0x58e706(0x450)][_0x58e706(0x3a6)]('1');}};};}[_0x2db2ce(0x5c9)](_0x9134ea){const _0x19b294=_0x2db2ce;if(_0x19b294(0x6dc)==typeof _0x9134ea&&_0x9134ea['startsWith'](_0x371c20))return this['messagesReceived']+=0x1,this['bytesReceived']+=_0x9134ea[_0x19b294(0x48d)],this[_0x19b294(0x4be)](_0x9134ea);setTimeout(()=>{const _0x579967=_0x19b294,_0x296538=Date[_0x579967(0x279)]();let _0x298687;if((_0x9134ea instanceof ArrayBuffer||_0x9134ea[_0x579967(0x48d)]<=_0xb5fc15)&&(this[_0x579967(0x27a)]+=0x1,this[_0x579967(0x22e)]+=_0x9134ea instanceof ArrayBuffer?_0x9134ea[_0x579967(0x6da)]:_0x9134ea[_0x579967(0x48d)]),_0x9134ea instanceof ArrayBuffer){const [_0x10cf31,_0x580d00]=this[_0x579967(0x740)](_0x9134ea);_0x298687=_0x10cf31,_0x298687[_0x579967(0x581)][_0x579967(0x1f6)]=_0x580d00;}else _0x298687=JSON['parse'](_0x9134ea);if(0x0===_0x298687[_0x579967(0x34a)]){this[_0x579967(0x206)]['messages'][_0x579967(0x6d6)]+=0x1;const {systemMessageType:_0x2021df,systemContentMessageType:_0x5a0f61}=_0x471152(_0x298687);this[_0x579967(0x206)][_0x2021df]||(this['systemMessagesReceived'][_0x2021df]={[_0x5a0f61]:0x0}),this['systemMessagesReceived'][_0x2021df][_0x5a0f61]||(this[_0x579967(0x206)][_0x2021df][_0x5a0f61]=0x0),this[_0x579967(0x206)][_0x2021df][_0x579967(0x6d6)]||(this['systemMessagesReceived'][_0x2021df][_0x579967(0x6d6)]=0x0),this[_0x579967(0x206)][_0x2021df][_0x5a0f61]+=0x1,this[_0x579967(0x206)][_0x2021df][_0x579967(0x6d6)]+=0x1;}this[_0x579967(0x4fd)][_0x579967(0x536)](_0x298687),this[_0x579967(0x6c0)]+=Date[_0x579967(0x279)]()-_0x296538;},0x0);}[_0x2db2ce(0x4be)](_0x63f467){const _0x3f3663=_0x2db2ce,_0x6cf80e=_0x63f467[_0x3f3663(0x259)](';'),_0x395c81=_0x6cf80e[0x1],_0x13d909=parseInt(_0x6cf80e[0x2],0xa),_0x2f4f62=parseInt(_0x6cf80e[0x3],0xa),_0xedbd22=_0x63f467['replace'](_0x371c20+';'+_0x395c81+';'+_0x13d909+';'+_0x2f4f62+';','');this[_0x3f3663(0x364)][_0x3f3663(0x40d)](_0x395c81)||this['chunks']['set'](_0x395c81,[]);const _0x5128e8=this['chunks'][_0x3f3663(0x118)](_0x395c81);_0x5128e8[_0x13d909]=_0xedbd22,_0x5128e8[_0x3f3663(0x48d)]===_0x2f4f62&&(this[_0x3f3663(0x5c9)](_0x5128e8[_0x3f3663(0x47f)]('')),this[_0x3f3663(0x364)][_0x3f3663(0x176)](_0x395c81));}['clearWaitSuccess'](){const _0x5f5e67=_0x2db2ce;this[_0x5f5e67(0xd1)]?.(),delete this[_0x5f5e67(0xd1)];}[_0x2db2ce(0x463)](_0x4c9b2d){const _0x4386b5=_0x2db2ce,_0x15a91c=new TextDecoder()[_0x4386b5(0x164)](_0x4c9b2d);return JSON['parse'](_0x15a91c);}[_0x2db2ce(0x740)](_0x1cc78a){const _0x43b602=_0x2db2ce,_0x171a3f=new Uint8Array(_0x1cc78a['slice'](0x0,0x4)),_0x39a3ca=new Uint32Array(_0x171a3f[_0x43b602(0x489)])[0x0],_0x1f2b7e=new Uint8Array(_0x1cc78a['slice'](0x4,0x4+_0x39a3ca)),_0x165965=new Uint8Array(_0x1cc78a[_0x43b602(0x29c)](0x4+_0x39a3ca));return[this[_0x43b602(0x463)](_0x1f2b7e[_0x43b602(0x489)]),_0x165965[_0x43b602(0x489)]];}}const _0x375caa=0xc350;var _0x4f49af,_0x3366c6;!function(_0x5ca1cb){const _0xfb9059=_0x2db2ce;_0x5ca1cb[_0x5ca1cb[_0xfb9059(0x517)]=0x0]=_0xfb9059(0x517),_0x5ca1cb[_0x5ca1cb['Medium']=0x1]=_0xfb9059(0x130),_0x5ca1cb[_0x5ca1cb[_0xfb9059(0x1fe)]=0x2]=_0xfb9059(0x1fe);}(_0x4f49af||(_0x4f49af={}));class _0x532f65 extends _0x1fbc2c{['maxFps'];[_0x2db2ce(0x199)];['senders']=new Map();[_0x2db2ce(0x56d)];[_0x2db2ce(0x6cf)];[_0x2db2ce(0x5cc)];[_0x2db2ce(0x599)]=!0x1;[_0x2db2ce(0x524)];[_0x2db2ce(0x49d)];[_0x2db2ce(0x33e)];[_0x2db2ce(0x4b5)]=function(e,t=_0x4f49af,s=!0x1){const _0x23f915=_0x2db2ce;let i=!0x1;const n=[];async function o(){const _0x4bc4c4=a0_0x3de5;if(!i){for(i=!0x0;n['some'](e=>e[_0x4bc4c4(0x224)]);){let t,i=0x0;for(const [e,s]of n['entries']())if(t=s['shift'](),i=e,t)break;if(t)try{if(e instanceof _0x26827b&&e[_0x4bc4c4(0x179)](t),e instanceof _0x1f8373&&await e[_0x4bc4c4(0x179)](t),n[_0x4bc4c4(0x29c)](-0x1)[_0x4bc4c4(0x6e4)](e=>e['head']))continue;const s=n[_0x4bc4c4(0x48d)]-0x1;i===s&&n[s][_0x4bc4c4(0x224)]&&await _0x8ac28d[_0x4bc4c4(0x33d)](0x0);}catch(o){s?n[i]['push'](t,!0x1):n[i][_0x4bc4c4(0x6b6)](t,!0x1),await e[_0x4bc4c4(0x33d)]();}}i=!0x1;}}return Object[_0x23f915(0x3ac)](t)[_0x23f915(0x405)](e=>{'string'!=typeof e&&(n[e]=_0x41c93b(o));}),{'queues':n};}(new _0x26827b(this[_0x2db2ce(0x2ed)]['bind'](this),this[_0x2db2ce(0x33b)][_0x2db2ce(0x1e9)](this)));[_0x2db2ce(0x231)]=0x0;[_0x2db2ce(0x1c4)]=0x0;[_0x2db2ce(0x33a)]=0x0;[_0x2db2ce(0x47d)]=0x0;[_0x2db2ce(0x729)];constructor(_0x39b124,_0x2ed136,_0x5654a9,_0x6a7937,_0x5e2972,_0x6d813,_0x318a45,_0x1fd9fe){const _0x4c4a5f=_0x2db2ce;super(_0x39b124,_0x2ed136,_0x5654a9,_0x6a7937,_0x5e2972,_0x1fd9fe),this[_0x4c4a5f(0x317)]=_0x6d813,this[_0x4c4a5f(0x199)]=_0x318a45;}[_0x2db2ce(0x37c)](){const _0x3b37bc=_0x2db2ce;this['clearUpgradeTimeout'](),this[_0x3b37bc(0x73a)](),delete this[_0x3b37bc(0x5cc)],this[_0x3b37bc(0x5aa)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x3b37bc(0x744)][_0x3b37bc(0x3c1)](),this[_0x3b37bc(0x599)]=!0x1,this[_0x3b37bc(0x4b5)][_0x3b37bc(0x747)][_0x3b37bc(0x405)](_0x357f10=>_0x357f10[_0x3b37bc(0x3c1)]()),this['clearOncloseTimeout'](),super[_0x3b37bc(0x37c)]();}[_0x2db2ce(0x340)](){const _0x48f7b6=_0x2db2ce;return!!this[_0x48f7b6(0x5cc)]&&super[_0x48f7b6(0x340)]()&&Date[_0x48f7b6(0x279)]()-this[_0x48f7b6(0x5cc)]<0x3a98;}async[_0x2db2ce(0x594)](){const _0x5333cc=_0x2db2ce;this[_0x5333cc(0x55f)]&&(await this['connection'][_0x5333cc(0x158)](this[_0x5333cc(0x744)],(_0x187b43,_0x5c18d2)=>{const _0x44db3d=_0x5333cc;_0x4d0163({'type':_0x41aa84['Stats'],'streamId':_0x5c18d2,'nodeId':this[_0x44db3d(0x460)],'stats':_0x187b43},this[_0x44db3d(0x55f)]);}),this[_0x5333cc(0x55f)][_0x5333cc(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x5333cc(0x6ac)],'content':{'type':_0x41aa84[_0x5333cc(0x5d0)],'nodeId':this[_0x5333cc(0x460)],'stats':{'origin':_0x1f6b2a[_0x5333cc(0x559)],'timestamp':Date['now'](),'messagesSent':this[_0x5333cc(0x231)],'bytesSent':this['bytesSent'],'timeSending':this[_0x5333cc(0x33a)],'roundTripTime':this[_0x5333cc(0x47d)]}}}));}async[_0x2db2ce(0x66f)](_0xcfd5c0){const _0x384847=_0x2db2ce;_0x4aa571['log'](_0x50f1bc[_0x384847(0x3b4)],_0x384847(0x2e4),this[_0x384847(0x490)][_0x384847(0x28c)](),this[_0x384847(0x460)]),this[_0x384847(0x5aa)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this['connectionTimeout']=setTimeout(()=>{const _0x3a114d=_0x384847;this[_0x3a114d(0x110)]();},0x7530),this['dataChannel']||(this[_0x384847(0x450)]=this[_0x384847(0x74f)]['createDataChannel']('data'),this[_0x384847(0x450)][_0x384847(0x1d5)]=0x10000,this[_0x384847(0x450)][_0x384847(0x4ff)]=()=>{const _0x2f47f3=_0x384847;this[_0x2f47f3(0x729)]=setTimeout(()=>{const _0x58f43e=_0x2f47f3;delete this[_0x58f43e(0x729)],[_0x58f43e(0x34f),_0x58f43e(0x677)]['includes'](this[_0x58f43e(0x450)]?.[_0x58f43e(0x3a8)]??'')||this[_0x58f43e(0x110)]();},0xfa);});const _0x1c8034=await this[_0x384847(0x74f)][_0x384847(0x66f)](_0xcfd5c0);this[_0x384847(0x5cc)]||(this['lastHeartbeat']=Date[_0x384847(0x279)]());const _0x3080d9=(0x0,_0x25a06c['v4'])();this[_0x384847(0x5f9)]({'type':_0x41aa84[_0x384847(0x60e)],'offer':_0x1c8034,'version':this[_0x384847(0xdf)],'connectionType':this[_0x384847(0x564)]},_0x3080d9),this[_0x384847(0x564)]===_0x4d69c0['Core']&&(this[_0x384847(0x6cf)]=_0x8ac28d['setInterval'](()=>{const _0x2f6ed4=_0x384847;this[_0x2f6ed4(0x5f9)]({'type':_0x41aa84[_0x2f6ed4(0x60e)],'offer':_0x1c8034,'version':this['currentVersion'],'connectionType':this[_0x2f6ed4(0x564)]},_0x3080d9);},0x1388));}async['handleAnswer'](_0x301d6a,_0x1ff487){const _0x25e909=_0x2db2ce;if(_0x1ff487===this[_0x25e909(0xdf)]){this[_0x25e909(0x513)]();try{await this['connection']['handleAnswer'](_0x301d6a,this[_0x25e909(0x66f)][_0x25e909(0x1e9)](this)),this[_0x25e909(0x402)](),this[_0x25e909(0x6f0)](),this['startHeartbeat']();}catch(_0x2c6dc4){this['handleDisconnect']();}}}[_0x2db2ce(0x3a6)](_0x54900a){const _0x2f839f=_0x2db2ce;if(!this[_0x2f839f(0x450)])throw new _0xb694a1(_0xb694a1[_0x2f839f(0x549)]['InvalidDataChannel'],{'message':_0x2f839f(0x2be),'localId':this[_0x2f839f(0x490)][_0x2f839f(0x28c)](),'remoteId':this[_0x2f839f(0x460)],'eventMessage':_0x54900a});if('open'!==this['dataChannel'][_0x2f839f(0x3a8)])throw new _0xb694a1(_0xb694a1[_0x2f839f(0x549)][_0x2f839f(0x33c)],{'message':_0x2f839f(0x6d4),'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'eventMessage':_0x54900a});let _0x2278c6;if(_0x54900a[_0x2f839f(0x581)][_0x2f839f(0x1f6)]instanceof ArrayBuffer){const _0x2859d1=_0x54900a[_0x2f839f(0x581)]['data'];delete _0x54900a[_0x2f839f(0x581)][_0x2f839f(0x1f6)],_0x2278c6=this[_0x2f839f(0x6eb)](_0x54900a,_0x2859d1);}else _0x2278c6=JSON[_0x2f839f(0x5df)](_0x54900a);if('string'==typeof _0x2278c6&&_0x2278c6[_0x2f839f(0x48d)]>_0xb5fc15)return this[_0x2f839f(0x723)](_0x54900a,_0x2278c6);const _0x474837=0x0===_0x54900a['topicLabel']&&[_0x190ed6[_0x2f839f(0x595)],_0x190ed6['PeerConnection']][_0x2f839f(0x28e)](_0x54900a[_0x2f839f(0x66b)])?_0x4f49af[_0x2f839f(0x517)]:_0x54900a instanceof ArrayBuffer?_0x4f49af[_0x2f839f(0x1fe)]:_0x4f49af['Medium'];this[_0x2f839f(0x4dc)](_0x2278c6,_0x474837);}[_0x2db2ce(0x2d3)](_0x494a23,_0x586bbc,_0x624f41,_0x56fa28){const _0x96c86=_0x2db2ce,_0x5953ae=(_0x23aff2=this['maxFps'],_0x142743=this[_0x96c86(0x199)],Math[_0x96c86(0x150)](0xe1000*_0x23aff2*_0x142743));var _0x23aff2,_0x142743;const _0x359efd=this[_0x96c86(0x744)][_0x96c86(0x118)](_0x586bbc['id'])||{'stream':_0x586bbc,'priority':_0x624f41,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x5953ae,'maxBitrate':_0x5953ae,'framerate':this['maxFps'],'maxFramerate':this[_0x96c86(0x317)],'tracks':{},'params':_0x56fa28},_0x3fdece=_0x359efd['tracks'][_0x494a23['kind']]||{'track':_0x494a23};if(_0x3fdece[_0x96c86(0x6e0)]?(_0x3fdece[_0x96c86(0x11a)]=_0x494a23,this['connection'][_0x96c86(0x299)](_0x494a23,_0x3fdece[_0x96c86(0x6e0)])):_0x3fdece[_0x96c86(0x6e0)]=this[_0x96c86(0x74f)][_0x96c86(0x2d3)](_0x494a23,_0x586bbc),_0x359efd[_0x96c86(0x4d8)][_0x494a23[_0x96c86(0x114)]]=_0x3fdece,_0x56fa28&&(_0x359efd[_0x96c86(0x70a)]=_0x56fa28),_0x56fa28&&'video'===_0x56fa28['kind']&&_0x56fa28[_0x96c86(0x5af)]&&_0x56fa28[_0x96c86(0x1a2)]&&(_0x359efd['resolutionScale']=this[_0x96c86(0x6f2)](_0x56fa28[_0x96c86(0x5af)],_0x56fa28[_0x96c86(0x1a2)]),_0x359efd[_0x96c86(0x6ef)]=_0x359efd[_0x96c86(0x701)],_0x359efd[_0x96c86(0x4d8)][_0x96c86(0x196)]&&_0x359efd[_0x96c86(0x4d8)]['video'][_0x96c86(0x6e0)])){const _0x1b0d89=_0x359efd[_0x96c86(0x4d8)][_0x96c86(0x196)][_0x96c86(0x6e0)];this['connection']['setEncodingParameters'](_0x1b0d89,Math[_0x96c86(0x150)](0xa*_0x359efd['resolutionScale'])/0xa,_0x359efd[_0x96c86(0x384)],_0x359efd[_0x96c86(0x5f7)],_0x359efd[_0x96c86(0x4b6)]);}this['senders'][_0x96c86(0x3bc)](_0x586bbc['id'],_0x359efd);}['setPriority'](_0x38c162,_0x28f0a1){const _0xf5ed08=_0x2db2ce,_0x2202fe=this[_0xf5ed08(0x744)][_0xf5ed08(0x118)](_0x38c162['id']);if(_0x2202fe&&_0x2202fe['priority']!==_0x28f0a1&&(_0x2202fe[_0xf5ed08(0x4b6)]=_0x28f0a1,_0x2202fe[_0xf5ed08(0x4d8)][_0xf5ed08(0x196)]&&_0x2202fe[_0xf5ed08(0x4d8)][_0xf5ed08(0x196)][_0xf5ed08(0x6e0)])){const _0x28c582=_0x2202fe[_0xf5ed08(0x4d8)][_0xf5ed08(0x196)][_0xf5ed08(0x6e0)];this[_0xf5ed08(0x74f)]['setEncodingParameters'](_0x28c582,Math[_0xf5ed08(0x150)](0xa*_0x2202fe['resolutionScale'])/0xa,_0x2202fe[_0xf5ed08(0x384)],_0x2202fe[_0xf5ed08(0x5f7)],_0x2202fe[_0xf5ed08(0x4b6)]);}}[_0x2db2ce(0x467)](_0x453db,_0x2fb4d5){const _0xf34e53=_0x2db2ce,_0x1040f3=this[_0xf34e53(0x744)][_0xf34e53(0x118)](_0x453db['id']);if(_0x1040f3){if(_0x1040f3[_0xf34e53(0x70a)]=_0x2fb4d5,_0x2fb4d5&&_0xf34e53(0x196)===_0x2fb4d5[_0xf34e53(0x114)]&&_0x2fb4d5['resolution']&&_0x2fb4d5['maxResolution']){if(_0x1040f3[_0xf34e53(0x6ef)]=this['getResolutionScale'](_0x2fb4d5[_0xf34e53(0x5af)],_0x2fb4d5['maxResolution']),_0x1040f3['resolutionScale']<_0x1040f3[_0xf34e53(0x6ef)]&&(_0x1040f3['resolutionScale']=_0x1040f3[_0xf34e53(0x6ef)]),_0x1040f3[_0xf34e53(0x4d8)][_0xf34e53(0x196)]&&_0x1040f3[_0xf34e53(0x4d8)][_0xf34e53(0x196)][_0xf34e53(0x6e0)]){const _0x147520=_0x1040f3[_0xf34e53(0x4d8)][_0xf34e53(0x196)][_0xf34e53(0x6e0)];this['connection']['setEncodingParameters'](_0x147520,Math['floor'](0xa*_0x1040f3['resolutionScale'])/0xa,_0x1040f3[_0xf34e53(0x384)],_0x1040f3[_0xf34e53(0x5f7)],_0x1040f3[_0xf34e53(0x4b6)]);}this['clearUpgradeTimeout'](),this[_0xf34e53(0x5bc)]();}this['senders'][_0xf34e53(0x3bc)](_0x453db['id'],_0x1040f3);}}[_0x2db2ce(0xf5)](_0x2e7280,_0x4006a4){const _0x3d232a=_0x2db2ce,_0x21681b=this['senders'][_0x3d232a(0x118)](_0x4006a4['id']);if(_0x21681b){const _0x12d5bf=_0x21681b[_0x3d232a(0x4d8)][_0x2e7280[_0x3d232a(0x114)]];_0x12d5bf&&(_0x12d5bf[_0x3d232a(0x6e0)]&&this[_0x3d232a(0x74f)]['removeTrack'](_0x12d5bf[_0x3d232a(0x6e0)]),_0x12d5bf['track']=void 0x0);}}['applyRemediation'](_0x4607ac){const _0x3b252a=_0x2db2ce;this[_0x3b252a(0x526)]();const _0x1c30a5=function(_0x4fe5f1,_0x5ce0c7){const _0x13e3e=_0x3b252a;return _0x4fe5f1[_0x13e3e(0x72c)]((_0x1e106b,_0x42cf35)=>_0x5ce0c7[_0x13e3e(0x2d1)]===_0x18b64a[_0x13e3e(0x5b6)]?_0x42cf35[_0x13e3e(0x4b6)]-_0x1e106b['priority']:_0x1e106b['priority']-_0x42cf35[_0x13e3e(0x4b6)])['find'](_0x9211b2=>function(_0x29e2cc,_0x32b821){const _0x27633b=_0x13e3e;if(_0x32b821[_0x27633b(0x2d1)]===_0x18b64a[_0x27633b(0x5b6)]){if(_0x32b821[_0x27633b(0x693)]===_0x4e7bef[_0x27633b(0x45f)])return _0x29e2cc[_0x27633b(0x701)]<0x4||_0x29e2cc[_0x27633b(0x6e6)]>0xf;if(_0x32b821['component']===_0x4e7bef[_0x27633b(0x61a)])return _0x29e2cc[_0x27633b(0x617)]>_0x375caa;}return _0x29e2cc[_0x27633b(0x701)]>_0x29e2cc[_0x27633b(0x6ef)]||_0x29e2cc['framerate']<_0x29e2cc[_0x27633b(0x6e6)]||_0x29e2cc[_0x27633b(0x5f7)]<_0x29e2cc['maxBitrate'];}(_0x9211b2,_0x5ce0c7));}(Array['from'](this[_0x3b252a(0x744)]['values']()),_0x4607ac);if(_0x1c30a5&&(function(_0x1040ab,_0x1bfadb){const _0x38321d=_0x3b252a;_0x1040ab['tracks']['video']&&_0x1040ab['tracks'][_0x38321d(0x196)][_0x38321d(0x6e0)]&&(_0x1040ab[_0x38321d(0x701)]=function(_0x9f3370,_0x550994,_0x54df08){const _0xfbcdd4=_0x38321d;switch(_0x54df08[_0xfbcdd4(0x2d1)]){case _0x18b64a[_0xfbcdd4(0x5b6)]:_0x54df08['component']===_0x4e7bef[_0xfbcdd4(0x45f)]&&(_0x9f3370+=0.5)>0x4&&(_0x9f3370=0x4);break;case _0x18b64a[_0xfbcdd4(0x631)]:(_0x9f3370-=0.5)<_0x550994&&(_0x9f3370=_0x550994);}return _0x9f3370;}(_0x1040ab[_0x38321d(0x701)],_0x1040ab[_0x38321d(0x6ef)],_0x1bfadb),_0x1040ab['framerate']=function(_0x48b88c,_0x29ea8c,_0x40d057){const _0x20a405=_0x38321d;switch(_0x40d057[_0x20a405(0x2d1)]){case _0x18b64a[_0x20a405(0x5b6)]:_0x40d057[_0x20a405(0x693)]===_0x4e7bef[_0x20a405(0x45f)]&&(_0x48b88c-=0x3)<0xf&&(_0x48b88c=0xf);break;case _0x18b64a[_0x20a405(0x631)]:(_0x48b88c+=0x3)>_0x29ea8c&&(_0x48b88c=_0x29ea8c);}return _0x48b88c;}(_0x1040ab[_0x38321d(0x384)],_0x1040ab[_0x38321d(0x6e6)],_0x1bfadb),_0x1040ab['bitrate']=function(_0x541d96,_0x267bca,_0x2ee86d){const _0x188bb2=_0x38321d;switch(_0x2ee86d[_0x188bb2(0x2d1)]){case _0x18b64a[_0x188bb2(0x5b6)]:_0x2ee86d['component']===_0x4e7bef[_0x188bb2(0x61a)]&&(_0x541d96*=0.75)<_0x375caa&&(_0x541d96=_0x375caa);break;case _0x18b64a['Upgrade']:(_0x541d96*=1.25)>_0x267bca&&(_0x541d96=_0x267bca);}return _0x541d96;}(_0x1040ab['bitrate'],_0x1040ab[_0x38321d(0x617)],_0x1bfadb));}(_0x1c30a5,_0x4607ac),_0x1c30a5[_0x3b252a(0x4d8)]['video']&&_0x1c30a5[_0x3b252a(0x4d8)]['video'][_0x3b252a(0x6e0)])){const _0x42826b=_0x1c30a5[_0x3b252a(0x4d8)]['video']['sender'];this[_0x3b252a(0x74f)][_0x3b252a(0x201)](_0x42826b,Math[_0x3b252a(0x150)](0xa*_0x1c30a5[_0x3b252a(0x701)])/0xa,_0x1c30a5[_0x3b252a(0x384)],_0x1c30a5[_0x3b252a(0x5f7)],_0x1c30a5[_0x3b252a(0x4b6)]);}(_0x1c30a5||_0x4607ac[_0x3b252a(0x2d1)]===_0x18b64a[_0x3b252a(0x5b6)])&&this[_0x3b252a(0x5bc)]();}[_0x2db2ce(0x5a4)](){const _0x25c774=_0x2db2ce;super[_0x25c774(0x5a4)](),this['clearOncloseTimeout'](),this[_0x25c774(0x513)](),this[_0x25c774(0x744)][_0x25c774(0x405)](_0x482ba7=>{const _0xde22b0=_0x25c774;_0x482ba7[_0xde22b0(0x4d8)]['video']&&(_0x482ba7[_0xde22b0(0x4d8)][_0xde22b0(0x196)][_0xde22b0(0x6e0)]=void 0x0),_0x482ba7[_0xde22b0(0x4d8)][_0xde22b0(0x417)]&&(_0x482ba7[_0xde22b0(0x4d8)][_0xde22b0(0x417)][_0xde22b0(0x6e0)]=void 0x0);}),this[_0x25c774(0x599)]=!0x0;}async[_0x2db2ce(0x33b)](){return new Promise(async _0x3a5123=>{const _0x13df3d=a0_0x3de5;if(!this[_0x13df3d(0x450)]||_0x13df3d(0x677)!==this[_0x13df3d(0x450)][_0x13df3d(0x3a8)])return await _0x8ac28d[_0x13df3d(0x33d)](0x64),void _0x3a5123();this[_0x13df3d(0x450)][_0x13df3d(0x58e)]<0x10000?_0x3a5123():this[_0x13df3d(0x450)][_0x13df3d(0x106)]=()=>{const _0x51272f=_0x13df3d;this[_0x51272f(0x450)]&&(this['dataChannel'][_0x51272f(0x106)]=null),_0x3a5123();};});}[_0x2db2ce(0x723)](_0x304ef0,_0x746109){const _0x497edb=_0x2db2ce,_0x9ffe00=[];for(let _0x46c782=0x0;_0x46c782<_0x746109['length'];_0x46c782+=_0xb5fc15)_0x9ffe00[_0x497edb(0x23d)](_0x746109[_0x497edb(0x29c)](_0x46c782,_0x46c782+_0xb5fc15));for(const _0x448c5f of _0x9ffe00)this[_0x497edb(0x4dc)](_0x371c20+';'+_0x304ef0[_0x497edb(0x3c2)]+';'+_0x9ffe00[_0x497edb(0x184)](_0x448c5f)+';'+_0x9ffe00[_0x497edb(0x48d)]+';'+_0x448c5f,_0x4f49af[_0x497edb(0x1fe)]);}async[_0x2db2ce(0x4dc)](_0x3e1f3b,_0x25d1e2){const _0x4408db=_0x2db2ce;_0x3e1f3b===_0x344ef9?this[_0x4408db(0x4b5)][_0x4408db(0x747)][_0x25d1e2][_0x4408db(0x224)]?.[_0x4408db(0x558)]!==_0x344ef9&&this['retryQueue'][_0x4408db(0x747)][_0x25d1e2][_0x4408db(0x6b6)](_0x3e1f3b):this['retryQueue'][_0x4408db(0x747)][_0x25d1e2][_0x4408db(0x23d)](_0x3e1f3b);}[_0x2db2ce(0x2ed)](_0x2943e8){const _0x2c8e3e=_0x2db2ce;if(!this['dataChannel']||_0x2c8e3e(0x677)!==this['dataChannel'][_0x2c8e3e(0x3a8)])throw new Error('DataChannel\x20is\x20not\x20open.');const _0x2a98c5=Date[_0x2c8e3e(0x279)]();_0x2943e8!==_0x344ef9&&(this[_0x2c8e3e(0x231)]+=0x1,this[_0x2c8e3e(0x1c4)]+=_0x2943e8 instanceof ArrayBuffer?_0x2943e8[_0x2c8e3e(0x6da)]:_0x2943e8[_0x2c8e3e(0x48d)]),ArrayBuffer,this[_0x2c8e3e(0x450)][_0x2c8e3e(0x3a6)](_0x2943e8),this['timeSending']+=Date['now']()-_0x2a98c5;}[_0x2db2ce(0x612)](){const _0x533bc0=_0x2db2ce;this[_0x533bc0(0x56d)]&&this[_0x533bc0(0x73a)]();let _0x4caa52=!0x0,_0xc9eacb=Date[_0x533bc0(0x279)]();this['lastHeartbeat']=Date['now'](),this[_0x533bc0(0x450)][_0x533bc0(0x40c)]=_0x1fa465=>{const _0x5562d0=_0x533bc0;'1'===_0x1fa465[_0x5562d0(0x1f6)]&&(this[_0x5562d0(0x47d)]=Date['now']()-_0xc9eacb,_0x4caa52&&this[_0x5562d0(0x5f9)]({'type':_0x41aa84[_0x5562d0(0x5e1)]}),_0x4caa52=!0x1,this[_0x5562d0(0x5cc)]=Date[_0x5562d0(0x279)](),this[_0x5562d0(0x599)]&&(this[_0x5562d0(0x599)]=!0x1,this[_0x5562d0(0x409)]()));},this[_0x533bc0(0x56d)]=_0x8ac28d[_0x533bc0(0x546)](()=>{const _0x33f72f=_0x533bc0;_0xc9eacb=Date['now'](),this[_0x33f72f(0x4dc)](_0x344ef9,_0x4f49af[_0x33f72f(0x517)]),Date['now']()-this[_0x33f72f(0x5cc)]>(_0x4caa52?0x15f90:0x3a98)&&this[_0x33f72f(0x110)]();},0xbb8);}[_0x2db2ce(0x409)](){const _0x11ab5e=_0x2db2ce;this[_0x11ab5e(0x744)][_0x11ab5e(0x405)](_0x3097f1=>{const _0x11a0eb=_0x11ab5e;_0x3097f1[_0x11a0eb(0x4d8)][_0x11a0eb(0x196)]&&_0x3097f1[_0x11a0eb(0x4d8)][_0x11a0eb(0x196)][_0x11a0eb(0x11a)]&&!_0x3097f1[_0x11a0eb(0x4d8)]['video'][_0x11a0eb(0x6e0)]&&(_0x3097f1[_0x11a0eb(0x4d8)]['video']['sender']=this[_0x11a0eb(0x74f)][_0x11a0eb(0x2d3)](_0x3097f1[_0x11a0eb(0x4d8)][_0x11a0eb(0x196)][_0x11a0eb(0x11a)],_0x3097f1['stream'])),_0x3097f1[_0x11a0eb(0x4d8)][_0x11a0eb(0x417)]&&_0x3097f1[_0x11a0eb(0x4d8)][_0x11a0eb(0x417)][_0x11a0eb(0x11a)]&&!_0x3097f1[_0x11a0eb(0x4d8)][_0x11a0eb(0x417)][_0x11a0eb(0x6e0)]&&(_0x3097f1[_0x11a0eb(0x4d8)][_0x11a0eb(0x417)][_0x11a0eb(0x6e0)]=this[_0x11a0eb(0x74f)]['addTrack'](_0x3097f1['tracks'][_0x11a0eb(0x417)]['track'],_0x3097f1['stream']));});}[_0x2db2ce(0x1ba)](){const _0x67220=_0x2db2ce;this['publishSystemMessage']({'type':_0x41aa84[_0x67220(0x641)],'candidates':this['handshakeCandidates'],'origin':_0x1f6b2a[_0x67220(0x559)],'version':this[_0x67220(0xdf)],'connectionType':this[_0x67220(0x564)]});}[_0x2db2ce(0x2af)](){const _0x599438=_0x2db2ce;super[_0x599438(0x2af)](),this[_0x599438(0x74f)][_0x599438(0x3e9)]=()=>{const _0x127853=_0x599438;if(_0x127853(0x236)===this['connection'][_0x127853(0x240)]){_0x4aa571[_0x127853(0x24e)](_0x50f1bc[_0x127853(0x222)],'iceConnectionState\x20failed',this['localNode']['getId'](),this[_0x127853(0x460)]);try{if(this[_0x127853(0x74f)][_0x127853(0xe1)])return void this[_0x127853(0x74f)][_0x127853(0x4b7)]();}catch(_0x26b8b2){}this[_0x127853(0x66f)]({'handshakeRestart':!0x0});}},this[_0x599438(0x74f)]['onConnectionStateChange']=()=>{const _0x506a96=_0x599438;'disconnected'!==this[_0x506a96(0x74f)][_0x506a96(0x21f)]&&_0x506a96(0x236)!==this[_0x506a96(0x74f)][_0x506a96(0x21f)]||this[_0x506a96(0x110)]();};}[_0x2db2ce(0x110)](){const _0x21bb05=_0x2db2ce;this[_0x21bb05(0x73a)](),this[_0x21bb05(0x5aa)](),this[_0x21bb05(0x6f0)](),_0x4aa571[_0x21bb05(0x712)](_0x21bb05(0x1ed),{'clusterId':this[_0x21bb05(0x255)],'nodeId':this['localNode'][_0x21bb05(0x28c)](),'nodeType':this[_0x21bb05(0x490)]['type'],'remoteId':this[_0x21bb05(0x460)],'data':{'connectionType':this['connectionType'],'connectionState':this['connection']['connectionState'],'iceConnectionState':this[_0x21bb05(0x74f)]['handshakeState'],'signalingState':this[_0x21bb05(0x74f)][_0x21bb05(0x5f1)],'readyState':this['dataChannel']?.[_0x21bb05(0x3a8)]||'','lastHeartbeat':this[_0x21bb05(0x5cc)]?Date['now']()-this[_0x21bb05(0x5cc)]:'','retryQueue':this[_0x21bb05(0x4b5)]}}),(this['lastHeartbeat']&&Date[_0x21bb05(0x279)]()-this[_0x21bb05(0x5cc)]>0xea60)??0x1?this[_0x21bb05(0x55f)]['publish']({'sourceId':this[_0x21bb05(0x460)],'destinationIds':[this[_0x21bb05(0x490)]['getId']()],'messageType':_0x190ed6['PeerConnection'],'content':{'type':_0x41aa84[_0x21bb05(0x15a)]}}):(this['resetConnection'](),this[_0x21bb05(0x5f9)]({'type':_0x41aa84[_0x21bb05(0x4cb)],'version':this[_0x21bb05(0xdf)],'connectionType':this[_0x21bb05(0x564)]}),this[_0x21bb05(0x49d)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}['clearHeartbeat'](){const _0x3ae148=_0x2db2ce;this[_0x3ae148(0x56d)]?.(),delete this[_0x3ae148(0x56d)];}[_0x2db2ce(0x6f0)](){const _0x2aa74d=_0x2db2ce;this[_0x2aa74d(0x524)]&&(clearTimeout(this[_0x2aa74d(0x524)]),delete this['connectionTimeout']);}[_0x2db2ce(0x5aa)](){const _0x1d1573=_0x2db2ce;this[_0x1d1573(0x49d)]&&(clearTimeout(this[_0x1d1573(0x49d)]),delete this['restartTimeout']);}[_0x2db2ce(0x526)](){const _0x33d653=_0x2db2ce;this[_0x33d653(0x33e)]&&(clearTimeout(this[_0x33d653(0x33e)]),delete this['upgradeTimeout']);}[_0x2db2ce(0x5bc)](){const _0x1ee8ff=_0x2db2ce;this[_0x1ee8ff(0x33e)]=setTimeout(()=>{const _0x21f709=_0x1ee8ff;this[_0x21f709(0x446)]({'type':_0x59d153['Remediation'],'action':_0x18b64a[_0x21f709(0x631)]});},0x3a98);}[_0x2db2ce(0x6f2)](_0x3fd85f,_0x386143){const _0x23a0ac=_0x2db2ce,_0x5515a9=Math['max'](_0x3fd85f[_0x23a0ac(0x5b4)]/_0x386143[_0x23a0ac(0x5b4)],_0x3fd85f['height']/_0x386143[_0x23a0ac(0x5b0)]);return Math[_0x23a0ac(0x759)](Math[_0x23a0ac(0x67b)](_0x5515a9,0x1),0x4);}['clearWaitAnswer'](){const _0x372e1a=_0x2db2ce;this[_0x372e1a(0x6cf)]?.(),delete this['waitAnswer'];}['clearOncloseTimeout'](){const _0x41099b=_0x2db2ce;this[_0x41099b(0x729)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0x41099b(0x729)]);}[_0x2db2ce(0x555)](_0x56657d){const _0x3cd60=_0x2db2ce,_0x516ace=JSON['stringify'](_0x56657d);return new TextEncoder()[_0x3cd60(0x3ad)](_0x516ace)['buffer'];}[_0x2db2ce(0x6eb)](_0x56e2d2,_0x31a423){const _0x341e62=_0x2db2ce,_0x5f2b5a=this[_0x341e62(0x555)](_0x56e2d2),_0x662371=new Uint8Array(0x4),_0x3b169c=new Uint8Array(_0x5f2b5a),_0x3549da=new Uint8Array(_0x31a423);_0x662371[_0x341e62(0x3bc)](new Uint8Array(new Uint32Array([_0x3b169c['length']])[_0x341e62(0x489)]));const _0x370c03=new Uint8Array(0x4+_0x3b169c[_0x341e62(0x48d)]+_0x3549da[_0x341e62(0x48d)]);return _0x370c03[_0x341e62(0x3bc)](_0x662371),_0x370c03[_0x341e62(0x3bc)](_0x3b169c,0x4),_0x370c03[_0x341e62(0x3bc)](_0x3549da,0x4+_0x3b169c[_0x341e62(0x48d)]),_0x370c03[_0x341e62(0x489)];}}class _0x13b930 extends _0x3f0748{['iceServers'];[_0x2db2ce(0x564)];[_0x2db2ce(0x317)];[_0x2db2ce(0x199)];[_0x2db2ce(0x1b8)];[_0x2db2ce(0x664)];['receiverConnection'];['receiverUnsubscribers']=[];[_0x2db2ce(0x246)]=_0x8f7aff();[_0x2db2ce(0x2aa)]=_0x8f7aff();[_0x2db2ce(0x37b)]=_0x8f7aff();[_0x2db2ce(0x3e8)]=[];[_0x2db2ce(0x55f)];['dataTopics']=new Map();[_0x2db2ce(0x665)]=new Map();['mediaTopics']=new Map();[_0x2db2ce(0x4fc)]=new Map();['successNotified']=!0x1;constructor(_0x2bfae6,_0x1d1e7c,_0x185c67,_0x26cf24,_0x3f3c73,_0x23502a,_0x3faf87,_0x13f274){const _0x26365e=_0x2db2ce;super(_0x2bfae6,_0x1d1e7c,_0x185c67),this[_0x26365e(0x492)]=_0x26cf24,this[_0x26365e(0x564)]=_0x3f3c73,this['maxFps']=_0x23502a,this[_0x26365e(0x199)]=_0x3faf87,this[_0x26365e(0x1b8)]=_0x13f274;}[_0x2db2ce(0xd5)](_0x4a1402){const _0x55a984=_0x2db2ce;switch(_0x4a1402[_0x55a984(0x537)]()){case _0x26993c[_0x55a984(0x432)]['Data']:case _0x26993c[_0x55a984(0x432)][_0x55a984(0x732)]:case _0x26993c[_0x55a984(0x432)]['ObjectStore']:case _0x26993c[_0x55a984(0x432)][_0x55a984(0x220)]:case _0x26993c['ContentType']['Job']:this[_0x55a984(0x725)][_0x55a984(0x3bc)](_0x4a1402['getLabel'](),_0x4a1402);break;case _0x26993c[_0x55a984(0x432)][_0x55a984(0x3a4)]:this['mediaTopics'][_0x55a984(0x3bc)](_0x4a1402[_0x55a984(0x5fc)](),_0x4a1402);}}[_0x2db2ce(0x6cd)](_0x4acda6){const _0x30f08a=_0x2db2ce;switch(_0x4acda6[_0x30f08a(0x537)]()){case _0x26993c[_0x30f08a(0x432)]['Data']:case _0x26993c['ContentType'][_0x30f08a(0x732)]:case _0x26993c[_0x30f08a(0x432)]['ObjectStore']:case _0x26993c['ContentType'][_0x30f08a(0x220)]:case _0x26993c[_0x30f08a(0x432)][_0x30f08a(0x336)]:this[_0x30f08a(0x725)][_0x30f08a(0x176)](_0x4acda6[_0x30f08a(0x5fc)]());break;case _0x26993c['ContentType']['Media']:this['mediaTopics'][_0x30f08a(0x176)](_0x4acda6[_0x30f08a(0x5fc)]());}}[_0x2db2ce(0x1c2)](_0x2b9ae2){const _0x4020b1=_0x2db2ce;switch(_0x2b9ae2[_0x4020b1(0x537)]()){case _0x26993c[_0x4020b1(0x432)][_0x4020b1(0x6a8)]:case _0x26993c['ContentType'][_0x4020b1(0x732)]:case _0x26993c[_0x4020b1(0x432)]['ObjectStore']:case _0x26993c[_0x4020b1(0x432)][_0x4020b1(0x220)]:case _0x26993c['ContentType']['Job']:{const _0x7b77ba=_0x2b9ae2[_0x4020b1(0x175)](_0x5a9a07=>{const _0x1d0009=_0x4020b1;_0x38b7fc(_0x5a9a07,this[_0x1d0009(0x47a)]())&&_0x1e2015(_0x5a9a07,this[_0x1d0009(0x460)])&&this['send'](_0x5a9a07);});this[_0x4020b1(0x665)][_0x4020b1(0x3bc)](_0x2b9ae2[_0x4020b1(0x5fc)](),_0x7b77ba);break;}case _0x26993c[_0x4020b1(0x432)][_0x4020b1(0x3a4)]:{const _0x4d01c3=_0x2b9ae2[_0x4020b1(0x175)](({content:_0x1250ff})=>{const _0x31ac6e=_0x4020b1;switch(_0x1250ff[_0x31ac6e(0x2d1)]){case _0x2add13['Add']:this[_0x31ac6e(0x2d3)](_0x1250ff[_0x31ac6e(0x11a)],_0x1250ff['stream'],_0x1250ff[_0x31ac6e(0x4b6)],_0x1250ff['params']);break;case _0x2add13[_0x31ac6e(0x613)]:this['removeTrack'](_0x1250ff[_0x31ac6e(0x11a)],_0x1250ff['stream']);break;case _0x2add13['Update']:_0x1250ff[_0x31ac6e(0x4b6)]&&this[_0x31ac6e(0xcf)](_0x1250ff[_0x31ac6e(0x62d)],_0x1250ff[_0x31ac6e(0x4b6)]),_0x1250ff[_0x31ac6e(0x70a)]&&this[_0x31ac6e(0x467)](_0x1250ff[_0x31ac6e(0x62d)],_0x1250ff[_0x31ac6e(0x70a)]);}});this[_0x4020b1(0x4fc)]['set'](_0x2b9ae2['getLabel'](),_0x4d01c3);break;}}}['unregisterSubscriber'](_0x379515){const _0x27046d=_0x2db2ce;switch(_0x379515[_0x27046d(0x537)]()){case _0x26993c['ContentType']['Data']:case _0x26993c[_0x27046d(0x432)][_0x27046d(0x732)]:case _0x26993c[_0x27046d(0x432)][_0x27046d(0x6c5)]:case _0x26993c[_0x27046d(0x432)]['KeyValueDatabase']:case _0x26993c[_0x27046d(0x432)][_0x27046d(0x336)]:this[_0x27046d(0x665)][_0x27046d(0x118)](_0x379515['getLabel']())?.(),this[_0x27046d(0x665)]['delete'](_0x379515[_0x27046d(0x5fc)]());break;case _0x26993c['ContentType'][_0x27046d(0x3a4)]:this[_0x27046d(0x4fc)]['get'](_0x379515[_0x27046d(0x5fc)]())?.(),this[_0x27046d(0x4fc)][_0x27046d(0x176)](_0x379515[_0x27046d(0x5fc)]());}}[_0x2db2ce(0x472)](){const _0x2ac832=_0x2db2ce;return[_0x26993c[_0x2ac832(0x432)][_0x2ac832(0x6a8)],_0x26993c['ContentType']['PubSub'],_0x26993c[_0x2ac832(0x432)][_0x2ac832(0x6c5)],_0x26993c[_0x2ac832(0x432)][_0x2ac832(0x220)],_0x26993c[_0x2ac832(0x432)][_0x2ac832(0x336)]];}['registerSystemPublisher'](_0x42c812){this['systemTopic']=_0x42c812;}[_0x2db2ce(0x1f7)](){const _0x3b8bc8=_0x2db2ce;delete this[_0x3b8bc8(0x55f)];}async['connect'](){const _0x628c8b=_0x2db2ce;this['setupListeners'](),await this[_0x628c8b(0x66f)]();}[_0x2db2ce(0x37c)](){const _0x590574=_0x2db2ce;this[_0x590574(0x3e8)][_0x590574(0x405)](_0x166587=>_0x166587()),this['listenerUnsubscribers']=[],this[_0x590574(0x664)]?.[_0x590574(0x1f7)](),this[_0x590574(0x664)]?.['close'](),delete this[_0x590574(0x664)],this[_0x590574(0x73b)][_0x590574(0x405)](_0x29d3e1=>_0x29d3e1()),this[_0x590574(0x73b)]=[],this['receiverConnection']?.[_0x590574(0x1f7)](),this['receiverConnection']?.[_0x590574(0x37c)](),delete this[_0x590574(0x109)];}['isConnected'](){const _0x18447f=_0x2db2ce;return this[_0x18447f(0x664)]?.[_0x18447f(0x340)]()&&this['receiverConnection']?.[_0x18447f(0x340)]()||!0x1;}[_0x2db2ce(0x3a6)](_0x278118){const _0x193cae=_0x2db2ce;if(!this['senderConnection']||!this[_0x193cae(0x340)]())throw new _0xb694a1(_0xb694a1[_0x193cae(0x549)][_0x193cae(0x6d2)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x193cae(0x664)]?.[_0x193cae(0x340)](),'receiverConnected':this[_0x193cae(0x109)]?.[_0x193cae(0x340)](),'localId':this[_0x193cae(0x47a)](),'remoteId':this[_0x193cae(0x460)],'data':_0x278118});this['senderConnection']['send'](_0x278118);}['onMessage'](_0x170837){const _0x2bcef1=_0x2db2ce;return this[_0x2bcef1(0x246)][_0x2bcef1(0x175)](_0x170837);}[_0x2db2ce(0x616)](_0x3e8fea){const _0x1ad84e=_0x2db2ce;return this['trackListeners'][_0x1ad84e(0x175)](({track:_0x104dd8,stream:_0x5bb364})=>_0x3e8fea(_0x104dd8,_0x5bb364));}[_0x2db2ce(0x75a)](_0x17a91d){const _0x44cb0b=_0x2db2ce;return this[_0x44cb0b(0x37b)][_0x44cb0b(0x175)](({track:_0x40bcd9,stream:_0x4d3eea})=>_0x17a91d(_0x40bcd9,_0x4d3eea));}['addTrack'](_0x19aa86,_0x3b9815,_0x1fda1d,_0x1708ab){const _0x48fd07=_0x2db2ce;this[_0x48fd07(0x664)]?.[_0x48fd07(0x2d3)](_0x19aa86,_0x3b9815,_0x1fda1d,_0x1708ab);}[_0x2db2ce(0xcf)](_0x14a69b,_0xca031c){const _0x297e1c=_0x2db2ce;this[_0x297e1c(0x664)]?.[_0x297e1c(0xcf)](_0x14a69b,_0xca031c);}['setParams'](_0x5ab381,_0x14dd37){const _0x120b19=_0x2db2ce;this[_0x120b19(0x664)]?.['setParams'](_0x5ab381,_0x14dd37);}[_0x2db2ce(0xf5)](_0xa54406,_0x7c5cd3){const _0x55b6be=_0x2db2ce;this[_0x55b6be(0x664)]?.[_0x55b6be(0xf5)](_0xa54406,_0x7c5cd3);}async[_0x2db2ce(0x697)](_0x65f964){const _0x75d774=_0x2db2ce;_0x4aa571[_0x75d774(0x24e)](_0x50f1bc[_0x75d774(0x3b4)],_0x75d774(0x644),this[_0x75d774(0x47a)](),_0x65f964);const {content:_0x15e346}=_0x65f964;switch(_0x15e346[_0x75d774(0x26f)]){case _0x41aa84[_0x75d774(0x60e)]:await this['handleOffer'](_0x15e346);break;case _0x41aa84[_0x75d774(0x2b7)]:await this[_0x75d774(0x34c)](_0x15e346);break;case _0x41aa84[_0x75d774(0x5e1)]:this[_0x75d774(0x21b)]();break;case _0x41aa84[_0x75d774(0x641)]:await this['handleIceCandidates'](_0x15e346);break;case _0x41aa84[_0x75d774(0x4cb)]:this[_0x75d774(0x245)](_0x15e346);break;case _0x41aa84[_0x75d774(0x505)]:await this[_0x75d774(0x66f)]();}}[_0x2db2ce(0x702)](_0x19b9e2){const _0x1fe992=_0x2db2ce;this[_0x1fe992(0x664)]?.[_0x1fe992(0x446)](_0x19b9e2[_0x1fe992(0x581)]['data']);}[_0x2db2ce(0x4ce)](){const _0xa0f9d7=_0x2db2ce;return this[_0xa0f9d7(0x564)];}['setConnectionType'](_0x1d7243){const _0x117c13=_0x2db2ce;this['connectionType']=_0x1d7243,this[_0x117c13(0x664)]?.[_0x117c13(0x6e9)](_0x1d7243),this[_0x117c13(0x109)]?.[_0x117c13(0x6e9)](_0x1d7243);}async['collectStats'](){const _0x2304f0=_0x2db2ce;await this[_0x2304f0(0x664)]?.[_0x2304f0(0x594)](),await this['receiverConnection']?.[_0x2304f0(0x594)]();}['setupListeners'](){const _0x5d09e7=_0x2db2ce;this[_0x5d09e7(0x3e8)][_0x5d09e7(0x23d)](this[_0x5d09e7(0x40c)](_0x44a9c7=>{const _0x586ade=_0x5d09e7;_0x1e2015(_0x44a9c7,this['getLocalId']())&&0x0!==_0x44a9c7[_0x586ade(0x34a)]&&this[_0x586ade(0x725)][_0x586ade(0x118)](_0x44a9c7[_0x586ade(0x34a)])?.['publish'](_0x44a9c7);})),this[_0x5d09e7(0x3e8)][_0x5d09e7(0x23d)](this['onTrack']((_0x5876e1,_0x1b318e)=>{const _0x4378b0=_0x5d09e7,_0xa9eb08=_0x24c977(_0x26993c[_0x4378b0(0x432)][_0x4378b0(0x3a4)],_0x1b318e['id'],this[_0x4378b0(0x460)]);this[_0x4378b0(0x212)]['get'](_0xa9eb08)?.[_0x4378b0(0x536)]({'topicLabel':_0xa9eb08,'sourceId':this[_0x4378b0(0x460)],'contentType':_0x26993c[_0x4378b0(0x432)][_0x4378b0(0x3a4)],'content':{'action':_0x2add13[_0x4378b0(0x63b)],'track':_0x5876e1,'stream':_0x1b318e,'providerId':this['remoteId']}});})),this[_0x5d09e7(0x3e8)][_0x5d09e7(0x23d)](this[_0x5d09e7(0x75a)]((_0x13b1cf,_0x3bf47d)=>{const _0x444aa9=_0x5d09e7,_0x451ac8=_0x24c977(_0x26993c[_0x444aa9(0x432)]['Media'],_0x3bf47d['id'],this[_0x444aa9(0x460)]);this[_0x444aa9(0x212)][_0x444aa9(0x118)](_0x451ac8)?.[_0x444aa9(0x536)]({'topicLabel':_0x451ac8,'sourceId':this[_0x444aa9(0x460)],'contentType':_0x26993c['ContentType'][_0x444aa9(0x3a4)],'content':{'action':_0x2add13[_0x444aa9(0x51f)],'track':_0x13b1cf,'stream':_0x3bf47d,'providerId':this[_0x444aa9(0x460)]}});}));}[_0x2db2ce(0x305)]({candidates:_0x4f0b38,origin:_0x386504,version:_0x207bd3}){const _0x4a3e16=_0x2db2ce;return _0x386504===_0x1f6b2a[_0x4a3e16(0x559)]?(this[_0x4a3e16(0x109)]||this[_0x4a3e16(0x15c)](),this['receiverConnection'][_0x4a3e16(0x742)](_0x4f0b38,_0x207bd3)):this[_0x4a3e16(0x664)][_0x4a3e16(0x742)](_0x4f0b38,_0x207bd3);}async[_0x2db2ce(0x66f)](){const _0x19f6fe=_0x2db2ce;this[_0x19f6fe(0x664)]||this[_0x19f6fe(0x419)](),await this['senderConnection']['createOffer']();}async['handleOffer']({offer:_0x5941be,version:_0x2bef8e}){const _0x46ea99=_0x2db2ce;this['receiverConnection']||this[_0x46ea99(0x15c)](),await this['receiverConnection'][_0x46ea99(0x2d8)](_0x5941be,_0x2bef8e);}async['handleAnswer']({answer:_0x2fc43b,version:_0x31b3c9}){const _0x26f77d=_0x2db2ce;if(!this['senderConnection'])throw new _0xb694a1(_0xb694a1[_0x26f77d(0x549)]['ConnectionNotinitialized'],{'message':_0x26f77d(0x293),'localId':this[_0x26f77d(0x47a)](),'remoteId':this[_0x26f77d(0x460)],'answer':_0x2fc43b});await this[_0x26f77d(0x664)][_0x26f77d(0x34c)](_0x2fc43b,_0x31b3c9);}['handleSuccess'](){const _0x1c817a=_0x2db2ce;if(!this[_0x1c817a(0x109)])throw new _0xb694a1(_0xb694a1[_0x1c817a(0x549)][_0x1c817a(0x6d2)],{'message':_0x1c817a(0x208),'localId':this[_0x1c817a(0x47a)](),'remoteId':this['remoteId']});this['receiverConnection']['handleSuccess'](),this[_0x1c817a(0x6f3)]||this[_0x1c817a(0x564)]!==_0x4d69c0[_0x1c817a(0xe2)]||(this[_0x1c817a(0x6f3)]=!0x0,this[_0x1c817a(0x55f)]?.[_0x1c817a(0x536)]({'sourceId':this[_0x1c817a(0x460)],'destinationIds':[this[_0x1c817a(0x47a)]()],'messageType':_0x190ed6['PeerConnection'],'content':{'type':_0x41aa84[_0x1c817a(0x20e)]}}));}[_0x2db2ce(0x245)](_0x579970){const _0x37178b=_0x2db2ce;this[_0x37178b(0x109)]||this[_0x37178b(0x15c)](),this[_0x37178b(0x109)][_0x37178b(0x245)](_0x579970[_0x37178b(0x2e6)]);}[_0x2db2ce(0x419)](){const _0x611741=_0x2db2ce;this['senderConnection']=new _0x532f65(this[_0x611741(0x255)],this['localNode'],this[_0x611741(0x460)],this[_0x611741(0x492)],this[_0x611741(0x564)],this['maxFps'],this[_0x611741(0x199)],this[_0x611741(0x1b8)]),this[_0x611741(0x664)][_0x611741(0x155)](this[_0x611741(0x55f)]);}[_0x2db2ce(0x15c)](){const _0x4daa4e=_0x2db2ce;this['receiverConnection']=new _0x16e897(this[_0x4daa4e(0x255)],this[_0x4daa4e(0x490)],this['remoteId'],this[_0x4daa4e(0x492)],this['connectionType'],this[_0x4daa4e(0x1b8)]),this[_0x4daa4e(0x109)][_0x4daa4e(0x155)](this[_0x4daa4e(0x55f)]),this[_0x4daa4e(0x73b)][_0x4daa4e(0x23d)](this[_0x4daa4e(0x109)][_0x4daa4e(0x40c)](_0x1bb72=>this[_0x4daa4e(0x246)][_0x4daa4e(0x536)](_0x1bb72))),this[_0x4daa4e(0x73b)][_0x4daa4e(0x23d)](this[_0x4daa4e(0x109)]['onTrack']((_0x94e636,_0x1c6708)=>this['trackListeners'][_0x4daa4e(0x536)]({'track':_0x94e636,'stream':_0x1c6708}))),this['receiverUnsubscribers'][_0x4daa4e(0x23d)](this[_0x4daa4e(0x109)][_0x4daa4e(0x75a)]((_0x3f3fc7,_0x4cf5f3)=>this[_0x4daa4e(0x37b)][_0x4daa4e(0x536)]({'track':_0x3f3fc7,'stream':_0x4cf5f3})));}}class _0x4e2b3b{[_0x2db2ce(0x377)];[_0x2db2ce(0x151)];[_0x2db2ce(0x257)];['connections']=new Map();[_0x2db2ce(0x246)]=_0x8f7aff();[_0x2db2ce(0x159)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0x2db2ce(0x3da)]=new Map();constructor(_0x1f6fd4,_0x6ed030,_0x2e3b4e){const _0x4e64e3=_0x2db2ce;this[_0x4e64e3(0x377)]=_0x1f6fd4,this[_0x4e64e3(0x151)]=_0x6ed030,this[_0x4e64e3(0x257)]=_0x2e3b4e,this[_0x4e64e3(0x159)]=this[_0x4e64e3(0x40c)](_0x5b20f8=>{const _0x239304=_0x4e64e3;this[_0x239304(0x151)]['hasMessage'](_0x5b20f8[_0x239304(0x3c2)])||(_0x1e2015(_0x5b20f8,this['localId'])&&0x0!==_0x5b20f8['topicLabel']&&(this['messageBuffer'][_0x239304(0x682)](_0x5b20f8[_0x239304(0x3c2)]),this['dataTopics'][_0x239304(0x118)](_0x5b20f8[_0x239304(0x34a)])?.[_0x239304(0x536)](_0x5b20f8)),_0x5b20f8[_0x239304(0x354)]&&this['send'](_0x5b20f8));});}['close'](){const _0x425dda=_0x2db2ce;this[_0x425dda(0x159)]?.();}[_0x2db2ce(0x36f)](_0x105be1){const _0x45ca49=_0x2db2ce,_0x190451=_0x105be1[_0x45ca49(0x40c)](_0x3478dd=>{const _0x30af26=_0x45ca49;this[_0x30af26(0x246)]['publish'](_0x3478dd);});this[_0x45ca49(0xdc)][_0x45ca49(0x3bc)](_0x105be1,_0x190451),this[_0x45ca49(0x3da)]['set'](_0x105be1[_0x45ca49(0x2ae)](),function(_0x415ade,_0x337a87=!0x1){let _0x25b66d=new Map();const _0x39475a=_0x4b3294(_0x415ade,_0x337a87,function(_0x225690){const _0x407d6e=a0_0x3de5;_0x287a2e(_0x225690)&&_0x25b66d[_0x407d6e(0x176)](_0x225690[_0x407d6e(0x133)]+'-'+(_0x225690['destinationIds']??[])+'-'+_0x225690[_0x407d6e(0x66b)]+'-'+_0x225690[_0x407d6e(0x581)][_0x407d6e(0x26f)]);},function(_0x5415fb){return!!function(_0xb91bb7){const _0x266030=a0_0x3de5,_0x45ded2=_0xb91bb7[_0x266030(0x558)];if(!_0x287a2e(_0x45ded2))return!0x1;const _0x154783=_0x45ded2[_0x266030(0x133)]+'-'+(_0x45ded2[_0x266030(0x745)]??[])+'-'+_0x45ded2[_0x266030(0x66b)]+'-'+_0x45ded2[_0x266030(0x581)][_0x266030(0x26f)],_0x1eca35={'version':_0x45ded2[_0x266030(0x581)][_0x266030(0x2e6)],'element':_0xb91bb7},_0x2b6221=_0x25b66d['get'](_0x154783);return _0x2b6221?(_0x2b6221[_0x266030(0x2e6)]>=_0x45ded2['content'][_0x266030(0x2e6)]||(_0x2b6221[_0x266030(0x5e5)]['previous']&&(_0x2b6221['element'][_0x266030(0x52c)][_0x266030(0x716)]=_0xb91bb7,_0xb91bb7[_0x266030(0x52c)]=_0x2b6221['element'][_0x266030(0x52c)]),_0x2b6221['element'][_0x266030(0x716)]&&(_0x2b6221[_0x266030(0x5e5)][_0x266030(0x716)][_0x266030(0x52c)]=_0xb91bb7,_0xb91bb7['next']=_0x2b6221[_0x266030(0x5e5)][_0x266030(0x716)]),_0x2b6221['element']===_0x39475a[_0x266030(0x224)]&&(_0x39475a[_0x266030(0x224)]=_0xb91bb7),_0x2b6221[_0x266030(0x5e5)]===_0x39475a[_0x266030(0x185)]&&(_0x39475a[_0x266030(0x185)]=_0xb91bb7),_0x25b66d[_0x266030(0x3bc)](_0x154783,_0x1eca35)),!0x0):(_0x25b66d[_0x266030(0x3bc)](_0x154783,_0x1eca35),!0x1);}(_0x5415fb);},function(){_0x25b66d['clear']();});function _0x287a2e(_0x2206b4){const _0x431049=a0_0x3de5;if(_0x2206b4&&_0x431049(0x687)==typeof _0x2206b4&&_0x2206b4['hasOwnProperty']('content')&&_0x2206b4[_0x431049(0x4bb)](_0x431049(0x66b))&&_0x2206b4[_0x431049(0x4bb)](_0x431049(0x133))){const _0x123a5f=_0x2206b4;if(_0x123a5f['content']&&_0x431049(0x687)==typeof _0x123a5f[_0x431049(0x581)]&&_0x123a5f[_0x431049(0x581)][_0x431049(0x4bb)](_0x431049(0x2e6))&&_0x123a5f[_0x431049(0x581)][_0x431049(0x4bb)](_0x431049(0x26f)))return!0x0;}return!0x1;}return _0x39475a;}(new _0x26827b(_0x170b61=>_0x105be1[_0x45ca49(0x3a6)](_0x170b61),()=>_0x8ac28d[_0x45ca49(0x33d)](0x64))));}[_0x2db2ce(0x3ed)](_0x390fc6){const _0x4ef20d=_0x2db2ce;this[_0x4ef20d(0xdc)]['get'](_0x390fc6)?.(),this[_0x4ef20d(0xdc)]['delete'](_0x390fc6),this[_0x4ef20d(0x3da)][_0x4ef20d(0x118)](_0x390fc6[_0x4ef20d(0x2ae)]())?.['clear'](),this[_0x4ef20d(0x3da)][_0x4ef20d(0x176)](_0x390fc6['getRemoteId']());}[_0x2db2ce(0x340)](_0x441443){const _0x26d610=_0x2db2ce;return _0x4aa571[_0x26d610(0x24e)](_0x50f1bc['ConnectionState'],_0x26d610(0x3e5),this[_0x26d610(0x377)],this[_0x26d610(0xdc)]['keys']()),0x0!==this[_0x26d610(0xdc)][_0x26d610(0x703)]&&(Array[_0x26d610(0x6a9)](this[_0x26d610(0xdc)][_0x26d610(0x48f)]())[_0x26d610(0x3c6)](_0x7ba451=>_0x7ba451[_0x26d610(0x2ae)]()===_0x441443)?.[_0x26d610(0x340)]()??!0x1);}[_0x2db2ce(0xd5)](_0x1ff540){const _0x21c76f=_0x2db2ce;this[_0x21c76f(0x725)][_0x21c76f(0x3bc)](_0x1ff540['getLabel'](),_0x1ff540);}['unregisterPublisher'](_0x24ae22){const _0xd1f856=_0x2db2ce;this[_0xd1f856(0x725)][_0xd1f856(0x176)](_0x24ae22['getLabel']());}[_0x2db2ce(0x1c2)](_0x50863f){const _0x30f503=_0x2db2ce,_0x591562=_0x50863f[_0x30f503(0x175)](this[_0x30f503(0x3a6)][_0x30f503(0x1e9)](this));this[_0x30f503(0x665)][_0x30f503(0x3bc)](_0x50863f[_0x30f503(0x5fc)](),_0x591562);}['unregisterSubscriber'](_0x34dfc1){const _0x3db467=_0x2db2ce;this[_0x3db467(0x665)][_0x3db467(0x118)](_0x34dfc1[_0x3db467(0x5fc)]())?.(),this[_0x3db467(0x665)][_0x3db467(0x176)](_0x34dfc1[_0x3db467(0x5fc)]());}[_0x2db2ce(0x472)](){const _0xf7a131=_0x2db2ce;return[_0x26993c[_0xf7a131(0x432)][_0xf7a131(0x6a8)],_0x26993c[_0xf7a131(0x432)][_0xf7a131(0x732)],_0x26993c[_0xf7a131(0x432)][_0xf7a131(0x6c5)],_0x26993c['ContentType']['KeyValueDatabase'],_0x26993c[_0xf7a131(0x432)][_0xf7a131(0x336)]];}['send'](_0x56a083){const _0x3aa773=_0x2db2ce;if(!0x1===_0x56a083[_0x3aa773(0x3e2)]){if(_0x56a083['propagate']||!_0x56a083[_0x3aa773(0x745)]||0x1!==_0x56a083[_0x3aa773(0x745)][_0x3aa773(0x48d)])throw new _0xb694a1(_0xb694a1[_0x3aa773(0x549)][_0x3aa773(0x3be)],{'message':_0x3aa773(0x63d),'localId':this[_0x3aa773(0x377)]});if(!this[_0x3aa773(0x340)](_0x56a083['destinationIds'][0x0]))throw new _0x30f7c3(_0x3aa773(0x66c));}const _0x24a053=_0x56a083['recipients']??[];try{const {filteredDestinationIds:_0x3bce83,extendedRecipients:_0x1a61e9}=this['updatePropagationProperties'](_0x56a083,_0x24a053);_0x56a083[_0x3aa773(0x745)]=_0x3bce83,_0x56a083[_0x3aa773(0x25c)]=_0x1a61e9;}catch(_0x9f2263){if(_0x9f2263 instanceof _0x30f7c3)return void _0x4aa571['log'](_0x50f1bc['Connection'],_0x3aa773(0x286),_0x3aa773(0x40b),_0x56a083,_0x9f2263[_0x3aa773(0x475)]);}const _0xa11d26=this[_0x3aa773(0x42c)](_0x56a083);this[_0x3aa773(0x623)](_0x56a083,_0xa11d26),_0x56a083[_0x3aa773(0x354)]=_0xa11d26;const _0x3b2957=this[_0x3aa773(0x500)](_0x56a083,_0x24a053);for(const _0x33906d of _0x3b2957){const _0x3dcf6e=this[_0x3aa773(0x3da)]['get'](_0x33906d['getRemoteId']());if(!_0x3dcf6e)throw new _0xb694a1(_0xb694a1[_0x3aa773(0x549)][_0x3aa773(0x5ba)],{'message':_0x3aa773(0x268),'localId':this['localId'],'remoteId':_0x33906d[_0x3aa773(0x2ae)](),'data':_0x56a083});_0x3dcf6e['push'](_0x56a083);}}['getRemoteId'](){return'';}[_0x2db2ce(0x47a)](){const _0x34d8a3=_0x2db2ce;return this[_0x34d8a3(0x377)];}['onMessage'](_0x5c0287){const _0x132ac0=_0x2db2ce;return this[_0x132ac0(0x246)][_0x132ac0(0x175)](_0x5c0287);}['updatePropagationProperties'](_0x160ce9,_0x1b5e02){const _0xf01948=_0x2db2ce,_0x322826={'filteredDestinationIds':_0x160ce9['destinationIds'],'extendedRecipients':_0x160ce9[_0xf01948(0x25c)]};if(!_0x160ce9[_0xf01948(0x354)])return _0x322826;const _0x19821a=Array[_0xf01948(0x6a9)](this[_0xf01948(0xdc)][_0xf01948(0x48f)]())[_0xf01948(0x6f6)](_0x5616ae=>_0x5616ae[_0xf01948(0x4ce)]()===_0x4d69c0[_0xf01948(0x2a3)]||_0x5616ae['isConnected']())[_0xf01948(0x627)](_0x3188ac=>_0x3188ac[_0xf01948(0x2ae)]());if(_0x19821a['reduce']((_0x1d88e0,_0x1534c3)=>_0x1d88e0&&_0x160ce9[_0xf01948(0x25c)]['includes'](_0x1534c3),!0x0))throw new _0x30f7c3(_0xf01948(0x5fb));if(_0x160ce9[_0xf01948(0x745)]){const _0x2e42bd=_0x160ce9[_0xf01948(0x745)]['filter'](_0x517723=>_0x517723!==this[_0xf01948(0x377)]&&!_0x160ce9[_0xf01948(0x25c)][_0xf01948(0x28e)](_0x517723));if(0x0===_0x2e42bd['length'])throw new _0x30f7c3(_0xf01948(0x600));_0x322826[_0xf01948(0x642)]=_0x2e42bd;}return _0x322826['extendedRecipients']=[...new Set([..._0x1b5e02,..._0x19821a,this[_0xf01948(0x377)]])],_0x322826;}[_0x2db2ce(0x623)](_0x47efd4,_0x23a13b=!0x1){const _0x5eb7ed=_0x2db2ce;if(0x0===_0x47efd4['topicLabel']&&!_0x38b7fc(_0x47efd4,this[_0x5eb7ed(0x377)])&&_0x47efd4[_0x5eb7ed(0x354)]){const _0x50d08f=_0x3d304c(_0x47efd4,this[_0x5eb7ed(0x377)]);_0x4aa571[_0x5eb7ed(0x496)](_0x50f1bc[_0x5eb7ed(0x125)],_0x47efd4['uuid']+_0x5eb7ed(0x141)+_0x23a13b+')\x20'+_0x50d08f,_0x47efd4,_0x23a13b);}}[_0x2db2ce(0x42c)](_0x4b81fe){const _0x1fe524=_0x2db2ce;if(_0x4b81fe[_0x1fe524(0x745)]&&_0x4b81fe[_0x1fe524(0x354)]){const _0x2a4347=Array[_0x1fe524(0x6a9)](this[_0x1fe524(0xdc)][_0x1fe524(0x48f)]())[_0x1fe524(0x6f6)](_0x3638a7=>_0x3638a7[_0x1fe524(0x4ce)]()===_0x4d69c0[_0x1fe524(0x2a3)]||_0x3638a7['isConnected']())[_0x1fe524(0x627)](_0x148fef=>_0x148fef[_0x1fe524(0x2ae)]());return!_0x4b81fe[_0x1fe524(0x745)]['reduce']((_0x22c048,_0x479d5f)=>_0x22c048&&_0x2a4347['includes'](_0x479d5f),!0x0);}return _0x4b81fe[_0x1fe524(0x354)]??!0x1;}['getConnectionDestinations'](_0x58cb7f,_0x36ebfa){const _0x11939=_0x2db2ce;if(_0x58cb7f[_0x11939(0x354)]&&_0x58cb7f[_0x11939(0x745)]){const _0x1093d6=Array[_0x11939(0x6a9)](this[_0x11939(0xdc)][_0x11939(0x48f)]())[_0x11939(0x6f6)](_0x5729d9=>_0x5729d9[_0x11939(0x4ce)]()===_0x4d69c0['Core']||_0x5729d9[_0x11939(0x340)]())[_0x11939(0x627)](_0x1de70b=>_0x1de70b['getRemoteId']()),_0x5a566b=new Set(),_0x536efb=_0x58cb7f[_0x11939(0x133)]===this[_0x11939(0x377)]?0x3:0x1;return _0x58cb7f['destinationIds'][_0x11939(0x405)](_0x1a97fa=>{const _0x2acfe8=_0x11939,_0x45e5cb=this['graphService']['getClosestNodes'](_0x1093d6,_0x1a97fa);let _0x4be436=0x0,_0x5273a8=0x0;_0x45e5cb[_0x2acfe8(0x405)](_0x550689=>{const _0x526905=_0x2acfe8;if(_0x4be436>=_0x536efb)return;const _0x3d83f4=Array[_0x526905(0x6a9)](this[_0x526905(0xdc)][_0x526905(0x48f)]())[_0x526905(0x3c6)](_0x2426ab=>_0x2426ab[_0x526905(0x2ae)]()===_0x550689);if(_0x3d83f4){if(_0x3d83f4['getConnectionType']()===_0x4d69c0[_0x526905(0x2a3)]&&_0x5273a8>0x0)return void(_0x5273a8-=0x1);_0x5a566b[_0x526905(0x3c3)](_0x3d83f4),_0x3d83f4['getConnectionType']()===_0x4d69c0[_0x526905(0xe2)]&&(_0x5273a8+=0x1),_0x4be436+=0x1;}});}),Array[_0x11939(0x6a9)](_0x5a566b);}return Array[_0x11939(0x6a9)](this[_0x11939(0xdc)][_0x11939(0x48f)]())[_0x11939(0x6f6)](_0x140184=>{const _0xdca94c=_0x11939;return _0x308ba9=_0x140184[_0xdca94c(0x2ae)](),!_0x36ebfa[_0xdca94c(0x28e)](_0x308ba9)&&(_0x1e2015(_0x58cb7f,_0x308ba9)||_0x58cb7f['propagate'])&&(!_0x58cb7f[_0xdca94c(0x354)]||_0x140184[_0xdca94c(0x340)]()||_0x140184[_0xdca94c(0x4ce)]()===_0x4d69c0[_0xdca94c(0x2a3)]);var _0x308ba9;});}}class _0x42a27d{['localId'];['messageBuffer'];[_0x2db2ce(0xdc)]=new Map();[_0x2db2ce(0x55f)];constructor(_0x11bcbf,_0x398a02){const _0x2ac952=_0x2db2ce;this[_0x2ac952(0x377)]=_0x11bcbf,this[_0x2ac952(0x151)]=_0x398a02;}[_0x2db2ce(0x37c)](){}['send'](_0x676903){const _0x575a39=_0x2db2ce;for(const _0x55e5b4 of this[_0x575a39(0xdc)][_0x575a39(0x48f)]())try{return void _0x55e5b4['send']({'retry':!0x1,..._0x676903});}catch(_0x535ccb){_0x535ccb instanceof _0x30f7c3||_0x4aa571['log'](_0x50f1bc[_0x575a39(0x573)],_0x575a39(0x507)+_0x55e5b4,_0x535ccb,_0x676903);}_0x4aa571[_0x575a39(0x24e)](_0x50f1bc[_0x575a39(0x573)],_0x575a39(0x5e3));}[_0x2db2ce(0x36f)](_0x49aa10){const _0x1155ed=_0x2db2ce,_0x12a302=_0x49aa10['onMessage'](_0x5e439b=>{const _0x43605f=a0_0x3de5;this[_0x43605f(0x151)]['hasMessage'](_0x5e439b[_0x43605f(0x3c2)])||0x0===_0x5e439b[_0x43605f(0x34a)]&&(this[_0x43605f(0x151)][_0x43605f(0x682)](_0x5e439b[_0x43605f(0x3c2)]),_0x1e2015(_0x5e439b,this[_0x43605f(0x377)])&&this[_0x43605f(0x55f)]?.[_0x43605f(0x536)](_0x5e439b));});this['connections'][_0x1155ed(0x3bc)](_0x49aa10,_0x12a302);}['removeConnection'](_0x57c843){const _0x4d9027=_0x2db2ce;this[_0x4d9027(0xdc)]['get'](_0x57c843)?.(),this[_0x4d9027(0xdc)][_0x4d9027(0x176)](_0x57c843);}[_0x2db2ce(0x47a)](){const _0x4e3462=_0x2db2ce;return this[_0x4e3462(0x377)];}[_0x2db2ce(0x2ae)](){return'';}['getSupportedContentTypes'](){const _0x5d761a=_0x2db2ce;return[_0x26993c[_0x5d761a(0x432)][_0x5d761a(0x6a8)]];}[_0x2db2ce(0x340)](){const _0x25b129=_0x2db2ce;throw new Error(_0x25b129(0x3af));}[_0x2db2ce(0x155)](_0x34fa76){const _0x387189=_0x2db2ce;this[_0x387189(0x55f)]=_0x34fa76;}['unregisterSystemPublisher'](){const _0x2daca5=_0x2db2ce;delete this[_0x2daca5(0x55f)];}}class _0x3135f9{['buffer']=new Map();[_0x2db2ce(0x2b8)];constructor(){const _0x5a05b1=_0x2db2ce;this['unsubscribeHandler']=_0x8ac28d[_0x5a05b1(0x546)](()=>{const _0x55391f=_0x5a05b1;for(const [_0x19feb3,_0x3cd018]of this['buffer'][_0x55391f(0x755)]())Date[_0x55391f(0x279)]()-_0x3cd018>0x124f80&&this['buffer'][_0x55391f(0x176)](_0x19feb3);},0x1d4c0);}[_0x2db2ce(0x37c)](){this['unsubscribeHandler']();}[_0x2db2ce(0x682)](_0x46c55b){const _0x5e00f2=_0x2db2ce;this[_0x5e00f2(0x489)][_0x5e00f2(0x3bc)](_0x46c55b,Date[_0x5e00f2(0x279)]());}[_0x2db2ce(0x2f0)](_0x562b43){const _0x4efbb4=_0x2db2ce;return this['buffer'][_0x4efbb4(0x40d)](_0x562b43);}}class _0x348884{[_0x2db2ce(0x626)];[_0x2db2ce(0x71c)];[_0x2db2ce(0x492)];['maxFps'];['maxBpp'];[_0x2db2ce(0x1b8)];[_0x2db2ce(0xdc)]=new Map();[_0x2db2ce(0x663)];['connectionGroup'];[_0x2db2ce(0x589)];[_0x2db2ce(0x151)];constructor(_0xd2e262,_0x506d6c,_0x2ec945,_0x2f012c,_0x53550e,_0x400df0,_0x212bed){const _0x366280=_0x2db2ce;this[_0x366280(0x626)]=_0xd2e262,this[_0x366280(0x71c)]=_0x506d6c,this[_0x366280(0x492)]=_0x2ec945,this['maxFps']=_0x2f012c,this[_0x366280(0x199)]=_0x53550e,this[_0x366280(0x1b8)]=_0x212bed,this[_0x366280(0x151)]=new _0x3135f9(),this[_0x366280(0x561)]=new _0x4e2b3b(this[_0x366280(0x626)]['localNode'][_0x366280(0x28c)](),this[_0x366280(0x151)],_0x400df0),this[_0x366280(0x589)]=new _0x25eb66(this[_0x366280(0x626)][_0x366280(0x6e1)],this[_0x366280(0x626)][_0x366280(0x255)],this[_0x366280(0x626)]['localNode'],_0x366280(0x2fa),this[_0x366280(0x71c)]),this[_0x366280(0x663)]=new _0x42a27d(this['configs'][_0x366280(0x490)][_0x366280(0x28c)](),this[_0x366280(0x151)]),this[_0x366280(0x663)][_0x366280(0x36f)](this['connectionGroup']),this[_0x366280(0x663)]['addConnection'](this[_0x366280(0x589)]),this['configs']['mediator'][_0x366280(0x57f)](this[_0x366280(0x663)]);}['close'](){const _0x42abbf=_0x2db2ce;this['messageBuffer'][_0x42abbf(0x37c)](),this[_0x42abbf(0xdc)][_0x42abbf(0x405)]((_0x36df45,_0x3aa028)=>this[_0x42abbf(0x4f1)](_0x3aa028)),this['configs'][_0x42abbf(0x754)][_0x42abbf(0x19f)](this[_0x42abbf(0x663)]),this[_0x42abbf(0x663)][_0x42abbf(0x3ed)](this['signalingServer']),this[_0x42abbf(0x663)][_0x42abbf(0x3ed)](this['connectionGroup']),this['connectionPool'][_0x42abbf(0x37c)](),this[_0x42abbf(0x589)][_0x42abbf(0x37c)](),this[_0x42abbf(0x561)][_0x42abbf(0x37c)]();}async[_0x2db2ce(0x54f)](){const _0x1f0649=_0x2db2ce;await this[_0x1f0649(0x589)][_0x1f0649(0x4e0)]();}async['createConnection'](_0x5053c4,_0x245cbe=_0x4d69c0[_0x2db2ce(0x2a3)]){const _0x527796=_0x2db2ce;if(this[_0x527796(0xdc)][_0x527796(0x40d)](_0x5053c4)){if(this[_0x527796(0xdc)][_0x527796(0x118)](_0x5053c4)?.[_0x527796(0x4ce)]()===_0x4d69c0[_0x527796(0xe2)]&&_0x245cbe===_0x4d69c0['Core'])return void this[_0x527796(0xdc)]['get'](_0x5053c4)?.['setConnectionType'](_0x4d69c0[_0x527796(0x2a3)]);throw new _0xb694a1(_0xb694a1[_0x527796(0x549)]['RemoteConnectionExists'],{'localId':this['configs'][_0x527796(0x490)][_0x527796(0x28c)](),'remoteId':_0x5053c4});}const _0x4848c4=new _0x13b930(this[_0x527796(0x626)]['clusterId'],this['configs'][_0x527796(0x490)],_0x5053c4,this['iceServers'],_0x245cbe,this['maxFps'],this[_0x527796(0x199)],this[_0x527796(0x1b8)]);this[_0x527796(0xdc)][_0x527796(0x3bc)](_0x5053c4,_0x4848c4),this[_0x527796(0x561)][_0x527796(0x36f)](_0x4848c4),this['configs'][_0x527796(0x754)][_0x527796(0x57f)](_0x4848c4),this[_0x527796(0x626)]['mediator'][_0x527796(0x5d3)](_0x5053c4),await _0x4848c4[_0x527796(0x4e0)]();}['getConnectionGroup'](){return this['connectionGroup'];}[_0x2db2ce(0x237)](_0x3138c8){const _0x489335=_0x2db2ce;if(!this[_0x489335(0xdc)][_0x489335(0x40d)](_0x3138c8))throw new _0xb694a1(_0xb694a1[_0x489335(0x549)][_0x489335(0x5db)],{'localId':this['configs']['localNode']['getId'](),'remoteId':_0x3138c8});return this['connections'][_0x489335(0x118)](_0x3138c8);}[_0x2db2ce(0x195)](_0x11496b){const _0x237425=_0x2db2ce,_0x59f596=Array['from'](this[_0x237425(0xdc)]['values']());return _0x11496b?_0x59f596[_0x237425(0x6f6)](_0x11496b):_0x59f596;}async[_0x2db2ce(0x594)](_0xab80c8){const _0x7ebc3c=_0x2db2ce,_0x1cfa84=this['connections'][_0x7ebc3c(0x118)](_0xab80c8);_0x1cfa84&&_0x1cfa84[_0x7ebc3c(0x340)]()&&await _0x1cfa84[_0x7ebc3c(0x594)]();}['handleOutgoingSystemEvents'](_0x309a0d){const _0x298f01=_0x2db2ce;if(_0x309a0d[_0x298f01(0x66b)]!==_0x190ed6[_0x298f01(0x6ac)]||_0x309a0d[_0x298f01(0x354)])try{this[_0x298f01(0x561)][_0x298f01(0x3a6)](_0x309a0d);}catch(_0x274e6d){if(_0x274e6d instanceof _0x30f7c3)return;throw _0x274e6d;}else this['connectionPool'][_0x298f01(0x3a6)](_0x309a0d);}async[_0x2db2ce(0x697)](_0x5a04e3){const _0x1e756b=_0x2db2ce;switch(_0x5a04e3['content']['type']){case _0x41aa84[_0x1e756b(0x15a)]:case _0x41aa84['Stats']:case _0x41aa84[_0x1e756b(0x20e)]:return;}if(!_0x5a04e3[_0x1e756b(0x745)]||0x1!==_0x5a04e3[_0x1e756b(0x745)][_0x1e756b(0x48d)])throw new _0xb694a1(_0xb694a1[_0x1e756b(0x549)][_0x1e756b(0x298)],{'message':_0x1e756b(0x64e),'event':_0x5a04e3});if(_0x5a04e3['destinationIds'][0x0]!==this[_0x1e756b(0x626)]['localNode'][_0x1e756b(0x28c)]())throw new _0xb694a1(_0xb694a1[_0x1e756b(0x549)][_0x1e756b(0x298)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x5a04e3});if(!this[_0x1e756b(0xdc)]['has'](_0x5a04e3[_0x1e756b(0x133)])){let _0x423ff1=_0x4d69c0[_0x1e756b(0x2a3)];if(!(this[_0x1e756b(0x23b)](_0x5a04e3['content'])||this[_0x1e756b(0x13c)](_0x5a04e3[_0x1e756b(0x581)])||this[_0x1e756b(0x598)](_0x5a04e3[_0x1e756b(0x581)])))return;_0x423ff1=_0x5a04e3[_0x1e756b(0x581)][_0x1e756b(0x564)],await this[_0x1e756b(0x134)](_0x5a04e3[_0x1e756b(0x133)],_0x423ff1);}const _0x4193bd=this[_0x1e756b(0xdc)][_0x1e756b(0x118)](_0x5a04e3[_0x1e756b(0x133)]);await _0x4193bd[_0x1e756b(0x697)](_0x5a04e3);}[_0x2db2ce(0x702)](_0x467105){const _0x5bd15d=_0x2db2ce;if(_0x467105['content'][_0x5bd15d(0x26f)]===_0x59d153['Remediation']){if(_0x467105[_0x5bd15d(0x581)][_0x5bd15d(0x5ae)]===this['configs'][_0x5bd15d(0x490)]['getId']())return void this['connections']['forEach'](_0x3239ca=>_0x3239ca[_0x5bd15d(0x702)](_0x467105));this[_0x5bd15d(0xdc)][_0x5bd15d(0x118)](_0x467105[_0x5bd15d(0x581)]['targetId'])?.[_0x5bd15d(0x702)](_0x467105);}}['handleNodeSystemEvents']({content:_0x411a87}){const _0x51d0f3=_0x2db2ce;_0x411a87[_0x51d0f3(0x26f)]===_0x1a33b0[_0x51d0f3(0x736)]&&this[_0x51d0f3(0x4f1)](_0x411a87['id']);}[_0x2db2ce(0x4f1)](_0x29f68c){const _0x89287c=_0x2db2ce,_0x38bc13=this[_0x89287c(0xdc)][_0x89287c(0x118)](_0x29f68c);_0x38bc13&&(this[_0x89287c(0x626)]['mediator'][_0x89287c(0x5b7)](_0x29f68c),this[_0x89287c(0x626)]['mediator'][_0x89287c(0x19f)](_0x38bc13),_0x38bc13 instanceof _0x13b930&&this['connectionGroup'][_0x89287c(0x3ed)](_0x38bc13),_0x38bc13[_0x89287c(0x37c)](),this[_0x89287c(0xdc)]['delete'](_0x29f68c));}[_0x2db2ce(0x23b)](_0x82c377){const _0x2e76f5=_0x2db2ce;return _0x82c377[_0x2e76f5(0x26f)]===_0x41aa84[_0x2e76f5(0x60e)];}['isNeedRestart'](_0x68dde9){const _0x5c321a=_0x2db2ce;return _0x68dde9[_0x5c321a(0x26f)]===_0x41aa84['NeedRestart'];}[_0x2db2ce(0x13c)](_0x2c95b2){const _0x26f017=_0x2db2ce;return _0x2c95b2[_0x26f017(0x26f)]===_0x41aa84[_0x26f017(0x641)];}}!function(_0x2263ec){const _0x418ebd=_0x2db2ce;_0x2263ec[_0x2263ec['SubscribeMediaStream']=0x0]='SubscribeMediaStream',_0x2263ec[_0x2263ec['UpdateMediaStream']=0x1]=_0x418ebd(0xf7),_0x2263ec[_0x2263ec[_0x418ebd(0x17e)]=0x2]=_0x418ebd(0x17e),_0x2263ec[_0x2263ec[_0x418ebd(0x394)]=0x3]=_0x418ebd(0x394),_0x2263ec[_0x2263ec[_0x418ebd(0xd8)]=0x4]='RestartNeedMediaStream',_0x2263ec[_0x2263ec[_0x418ebd(0x357)]=0x5]=_0x418ebd(0x357),_0x2263ec[_0x2263ec[_0x418ebd(0x23f)]=0x6]='CannotProvideMediaStream',_0x2263ec[_0x2263ec[_0x418ebd(0x119)]=0x7]=_0x418ebd(0x119);}(_0x3366c6||(_0x3366c6={}));const _0x108132=require('rxjs');class _0x5d8a9b extends _0x552aba{[_0x2db2ce(0x257)];['jobs']=new Map();['jobObservers']=new Map();[_0x2db2ce(0x542)]=new Map();[_0x2db2ce(0x2b8)];constructor(_0x58d571,_0x371f2b,_0x28fe9d){super(_0x58d571,_0x371f2b),this['graphService']=_0x28fe9d;}[_0x2db2ce(0x537)](){const _0x4b3b11=_0x2db2ce;return _0x26993c['ContentType'][_0x4b3b11(0x336)];}[_0x2db2ce(0x677)](){const _0x5eb968=_0x2db2ce;this[_0x5eb968(0x2b8)]=this['onMessage']((_0x718ccd,_0x271990)=>{const _0x3f7b2e=_0x5eb968;if(_0x4aa571[_0x3f7b2e(0x24e)](_0x50f1bc[_0x3f7b2e(0x21e)],_0x3f7b2e(0x69a),_0x718ccd,_0x271990,this[_0x3f7b2e(0x257)]['getRemoteNodes']()),!(_0x271990 instanceof File)){if(!_0x271990[_0x3f7b2e(0x345)])throw new _0xb694a1(_0xb694a1[_0x3f7b2e(0x549)][_0x3f7b2e(0xd9)]);return this['isAIBidResponse'](_0x271990[_0x3f7b2e(0x345)])?this[_0x3f7b2e(0x1c1)](_0x718ccd,_0x271990['id'],_0x271990[_0x3f7b2e(0x345)]):this['isAIResultResponse'](_0x271990['payload'])?(_0x4aa571['log'](_0x50f1bc[_0x3f7b2e(0x21e)],_0x3f7b2e(0x1b3)+_0x271990['id']+_0x3f7b2e(0x6db),_0x271990[_0x3f7b2e(0x345)][_0x3f7b2e(0x1d7)]),void this[_0x3f7b2e(0x2c0)](_0x271990['id'],_0x271990['payload'])):void(this[_0x3f7b2e(0x49c)](_0x271990[_0x3f7b2e(0x345)])&&this[_0x3f7b2e(0x72f)](_0x271990['id'],_0x271990[_0x3f7b2e(0x345)][_0x3f7b2e(0x475)]));}});}['reset'](){const _0x4f5a72=_0x2db2ce;this[_0x4f5a72(0x3c1)](),this[_0x4f5a72(0x677)]();}[_0x2db2ce(0x1e7)](){const _0x56613a=_0x2db2ce;this[_0x56613a(0x3c1)](),super[_0x56613a(0x1e7)]();}[_0x2db2ce(0x3c1)](){const _0x586fad=_0x2db2ce;this['jobs'][_0x586fad(0x3c1)](),this[_0x586fad(0x2b8)]&&this[_0x586fad(0x2b8)]();}[_0x2db2ce(0x37c)](){const _0xe5e0b1=_0x2db2ce;this[_0xe5e0b1(0x55f)]?.[_0xe5e0b1(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0xe5e0b1(0x47e)],'content':{'type':_0x1ce536['CloseJobDispatcher'],'label':this[_0xe5e0b1(0x3a1)]}});}async[_0x2db2ce(0x3c4)](_0x5ed26a){const _0x26bfa0=_0x2db2ce,{id:_0x98eeb8,parameters:{jobType:_0x4fb81f,prompt:_0x504d9c}}=_0x5ed26a;if(_0x4fb81f!==_0x26993c[_0x26bfa0(0x74a)]['AI'])throw new _0x5c22ea(_0x3a91a5['JobDispatcherInvalidJobType'],_0x26bfa0(0x65f));const _0x4c7d5b={'id':_0x98eeb8,'data':{'jobType':_0x4fb81f,'prompt':_0x504d9c},'status':_0x26993c[_0x26bfa0(0x3f6)][_0x26bfa0(0x448)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x26bfa0(0x40d)](_0x4c7d5b['id']))throw new _0x5c22ea(_0x3a91a5[_0x26bfa0(0x5f4)],_0x26bfa0(0x74c)+_0x4c7d5b['id']+_0x26bfa0(0x3fd));_0x4c7d5b[_0x26bfa0(0x205)]=new Date(),_0x4c7d5b[_0x26bfa0(0x3d9)]=new Date();const _0x1fe806=new _0x108132[(_0x26bfa0(0x5bd))]();this[_0x26bfa0(0x372)][_0x26bfa0(0x3bc)](_0x4c7d5b['id'],_0x4c7d5b),this[_0x26bfa0(0x56a)][_0x26bfa0(0x3bc)](_0x4c7d5b['id'],_0x1fe806);try{const _0xf21424={'id':_0x4c7d5b['id'],'jobType':_0x4c7d5b[_0x26bfa0(0x1f6)][_0x26bfa0(0x3e3)],'payload':{'jobPhase':_0x2cb45e['Request']}},_0x565df3=0x3;let _0x5d51e2=0x0;const _0x1cb59b=async()=>{const _0x414a41=_0x26bfa0;_0x5d51e2+=0x1;try{_0x4aa571[_0x414a41(0x24e)](_0x50f1bc[_0x414a41(0x21e)],_0x414a41(0x1b3)+_0x4c7d5b['id']+_0x414a41(0x2f2)+_0x5d51e2+'.',this[_0x414a41(0x257)][_0x414a41(0x449)]()),await this[_0x414a41(0x3a6)](_0xf21424),_0x4c7d5b['updated']=new Date(),this['jobs'][_0x414a41(0x3bc)](_0x4c7d5b['id'],_0x4c7d5b),this['startBidResponseHandling'](_0x4c7d5b['id']);}catch(_0x31a8d7){_0x5d51e2<_0x565df3?(_0x4aa571[_0x414a41(0x712)]('Attempt\x20'+_0x5d51e2+'\x20to\x20send\x20dispatcherJob\x20'+_0x4c7d5b['id']+_0x414a41(0x49e),{'nodeId':this[_0x414a41(0x24c)][_0x414a41(0x28c)](),'nodeType':this[_0x414a41(0x24c)][_0x414a41(0x26f)],'data':{'job':_0x4c7d5b,'attempts':_0x5d51e2,'maxRetries':_0x565df3}}),setTimeout(_0x1cb59b,0x3e8)):(_0x4c7d5b['status']=_0x26993c[_0x414a41(0x3f6)][_0x414a41(0x14d)],_0x4c7d5b[_0x414a41(0x3d9)]=new Date(),this[_0x414a41(0x372)]['set'](_0x4c7d5b['id'],_0x4c7d5b),_0x4aa571[_0x414a41(0x554)]('Failed\x20to\x20send\x20job\x20'+_0x4c7d5b['id']+'\x20after\x20'+_0x565df3+'\x20attempts:',{'nodeId':this[_0x414a41(0x24c)][_0x414a41(0x28c)](),'nodeType':this[_0x414a41(0x24c)][_0x414a41(0x26f)],'data':{'job':_0x4c7d5b,'attempts':_0x5d51e2,'maxRetries':_0x565df3,'error':_0x31a8d7}}));}};_0x1cb59b();const {id:_0x9019c6,data:{jobType:_0x305f43}}=_0x4c7d5b;this[_0x26bfa0(0x229)]('Job\x20'+_0x4c7d5b['id']+_0x26bfa0(0x12a),{'jobId':_0x9019c6,'jobType':_0x305f43}),_0x4c7d5b[_0x26bfa0(0x3d9)]=new Date();}catch(_0x3d3c7a){_0x4c7d5b[_0x26bfa0(0x439)]=_0x26993c[_0x26bfa0(0x3f6)][_0x26bfa0(0x14d)],_0x4aa571[_0x26bfa0(0x554)]('Failed\x20to\x20send\x20job\x20'+_0x4c7d5b['id']+':',{'nodeId':this[_0x26bfa0(0x24c)][_0x26bfa0(0x28c)](),'nodeType':this[_0x26bfa0(0x24c)][_0x26bfa0(0x26f)],'data':{'job':_0x4c7d5b,'error':_0x3d3c7a}});}return _0x1fe806[_0x26bfa0(0x469)]();}['getJob'](_0x206ad1){const _0x211be2=_0x2db2ce,_0x1b6e13=this['jobs'][_0x211be2(0x118)](_0x206ad1);if(!_0x1b6e13)throw new _0x5c22ea(_0x3a91a5[_0x211be2(0x32e)],'Job\x20with\x20id\x20'+_0x206ad1+_0x211be2(0x39d));if(_0x1b6e13[_0x211be2(0x1f6)]['jobType']!==_0x26993c[_0x211be2(0x74a)]['AI'])throw new _0x5c22ea(_0x3a91a5[_0x211be2(0x4c9)],_0x211be2(0x325)+_0x1b6e13[_0x211be2(0x1f6)][_0x211be2(0x3e3)]+'\x20not\x20supported.');return{'id':_0x1b6e13['id'],'status':_0x1b6e13[_0x211be2(0x439)],'parameters':{'jobType':_0x1b6e13[_0x211be2(0x1f6)][_0x211be2(0x3e3)],'prompt':_0x1b6e13[_0x211be2(0x1f6)][_0x211be2(0x424)]}};}['getJobs'](){const _0x4db166=_0x2db2ce;return Array['from'](this['jobs'][_0x4db166(0x3ac)]())[_0x4db166(0x627)](_0x4335dd=>this[_0x4db166(0x5e2)](_0x4335dd['id']));}async[_0x2db2ce(0x2c4)](_0x3e6a0d,_0x1e53b2){const _0x4f2789=_0x2db2ce,_0x1e8c50=this['jobs'][_0x4f2789(0x118)](_0x3e6a0d);if(!_0x1e8c50)throw new _0x5c22ea(_0x3a91a5['JobDispatcherJobNotFound'],_0x4f2789(0x74c)+_0x3e6a0d+_0x4f2789(0x39d));if(_0x1e53b2[_0x4f2789(0x3e3)]!==_0x26993c[_0x4f2789(0x74a)]['AI'])throw new _0x5c22ea(_0x3a91a5[_0x4f2789(0x4c9)],'Job\x20type\x20'+_0x1e53b2[_0x4f2789(0x3e3)]+_0x4f2789(0x250));_0x1e8c50[_0x4f2789(0x1f6)]={'jobType':_0x1e53b2['jobType'],'prompt':_0x1e53b2['prompt']},_0x1e8c50[_0x4f2789(0x3d9)]=new Date(),this[_0x4f2789(0x372)]['set'](_0x3e6a0d,_0x1e8c50);}async[_0x2db2ce(0x1c8)](_0x11781f){const _0x5df3cf=_0x2db2ce;if(!this['jobs'][_0x5df3cf(0x176)](_0x11781f))throw new _0x5c22ea(_0x3a91a5[_0x5df3cf(0x32e)],_0x5df3cf(0x74c)+_0x11781f+_0x5df3cf(0x39d));const _0x55edfa=this['jobObservers']['get'](_0x11781f);if(!_0x55edfa)throw new _0xb694a1(_0xb694a1[_0x5df3cf(0x549)][_0x5df3cf(0x5f6)]);_0x55edfa[_0x5df3cf(0x688)](),this['jobObservers'][_0x5df3cf(0x176)](_0x11781f),_0x4aa571[_0x5df3cf(0x24e)](_0x50f1bc[_0x5df3cf(0x21e)],_0x5df3cf(0x1b3)+_0x11781f+_0x5df3cf(0x3d6));}['addBidResponse'](_0x48bef3,_0x13c3ce,_0x405293){const _0x401652=_0x2db2ce,_0x3586cf=this[_0x401652(0x542)][_0x401652(0x118)](_0x13c3ce)??new Map();_0x3586cf[_0x401652(0x3bc)](_0x48bef3,[_0x405293,Date[_0x401652(0x279)]()]),this[_0x401652(0x542)][_0x401652(0x3bc)](_0x13c3ce,_0x3586cf),this[_0x401652(0x5c6)](_0x13c3ce);}[_0x2db2ce(0x393)](_0x31d33e){const _0x4c3911=_0x2db2ce,_0x4dbac3=this[_0x4c3911(0x372)][_0x4c3911(0x118)](_0x31d33e);if(!_0x4dbac3)throw new _0xb694a1(_0xb694a1[_0x4c3911(0x549)][_0x4c3911(0x32e)]);const _0xf15292=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x31d33e,!0x0),0xbb8);_0x4dbac3['responseTimeout']=_0xf15292,this[_0x4c3911(0x372)][_0x4c3911(0x3bc)](_0x4dbac3['id'],_0x4dbac3);}[_0x2db2ce(0x5c6)](_0x355fef,_0x4d1800=!0x1){const _0x4a91f1=_0x2db2ce,_0x5590c4=this[_0x4a91f1(0x257)][_0x4a91f1(0x449)](),_0x38b93f=Array[_0x4a91f1(0x6a9)](_0x5590c4[_0x4a91f1(0x3ac)]())['filter'](_0x448004=>_0x448004['type']===_0x26993c[_0x4a91f1(0x23e)][_0x4a91f1(0x60a)]),_0x37e055=this[_0x4a91f1(0x542)][_0x4a91f1(0x118)](_0x355fef);if(!_0x4d1800&&(!_0x37e055||_0x37e055['size']<_0x38b93f['length']))return;const _0x5f33a8=this[_0x4a91f1(0x372)][_0x4a91f1(0x118)](_0x355fef);if(!_0x5f33a8)throw new _0xb694a1(_0xb694a1[_0x4a91f1(0x549)][_0x4a91f1(0x32e)]);clearTimeout(_0x5f33a8[_0x4a91f1(0x4c6)]),_0x4aa571[_0x4a91f1(0x24e)](_0x50f1bc[_0x4a91f1(0x21e)],_0x4a91f1(0x1b3)+_0x5f33a8['id']+'\x20received\x20responses:',_0x37e055,this[_0x4a91f1(0x542)]);const _0x4fe62f=Array[_0x4a91f1(0x6a9)](_0x37e055[_0x4a91f1(0x755)]())[_0x4a91f1(0x6f6)](([_0x2aa441,[_0x57c126]])=>_0x57c126['available']);if(!_0x37e055||0x0===_0x37e055[_0x4a91f1(0x703)]||0x0===_0x4fe62f[_0x4a91f1(0x48d)]){_0x5f33a8[_0x4a91f1(0x439)]=_0x26993c[_0x4a91f1(0x3f6)][_0x4a91f1(0x14d)],_0x5f33a8['updated']=new Date(),_0x4aa571[_0x4a91f1(0x554)](_0x4a91f1(0x1b3)+_0x5f33a8['id']+_0x4a91f1(0x36a),{'nodeId':this[_0x4a91f1(0x24c)][_0x4a91f1(0x28c)](),'nodeType':this[_0x4a91f1(0x24c)]['type'],'data':{'job':_0x5f33a8,'responses':_0x37e055}});const _0x4e7a7c=this[_0x4a91f1(0x56a)]['get'](_0x355fef);if(!_0x4e7a7c)throw new _0xb694a1(_0xb694a1[_0x4a91f1(0x549)]['JobDispatcherObserverNotFound']);const _0x3364ea=_0x4a91f1(0x6a6),_0x3c6b3f={'id':_0x5f33a8['id'],'status':_0x5f33a8[_0x4a91f1(0x439)],'result':{'jobType':_0x5f33a8[_0x4a91f1(0x1f6)][_0x4a91f1(0x3e3)],'output':_0x3364ea}};return _0x4e7a7c['next'](_0x3c6b3f),_0x4e7a7c[_0x4a91f1(0x688)](),this[_0x4a91f1(0x372)][_0x4a91f1(0x3bc)](_0x5f33a8['id'],_0x5f33a8),void this['jobBids'][_0x4a91f1(0x176)](_0x355fef);}const {nodeId:_0x25ab81,response:_0x2bdcb3}=this[_0x4a91f1(0x68b)](_0x5f33a8['id'],_0x37e055);_0x5f33a8['status']=_0x26993c[_0x4a91f1(0x3f6)][_0x4a91f1(0x3fe)],_0x5f33a8['updated']=new Date(),_0x4aa571[_0x4a91f1(0x24e)](_0x50f1bc[_0x4a91f1(0x21e)],_0x4a91f1(0x1b3)+_0x5f33a8['id']+'\x20attributed\x20to\x20'+_0x25ab81+'\x20with\x20response:',_0x2bdcb3);const _0x4b5a50={'id':_0x5f33a8['id'],'jobType':_0x26993c[_0x4a91f1(0x74a)]['AI'],'payload':{'jobPhase':_0x2cb45e[_0x4a91f1(0x190)],'prompt':_0x5f33a8[_0x4a91f1(0x1f6)][_0x4a91f1(0x424)]}};this['send'](_0x4b5a50,[_0x25ab81]),this[_0x4a91f1(0x372)][_0x4a91f1(0x3bc)](_0x5f33a8['id'],_0x5f33a8),this['jobBids']['delete'](_0x355fef);}['evaluateBids'](_0x2a35a9,_0x49606c){const _0x39aef4=_0x2db2ce,_0x2ebdd0=Array[_0x39aef4(0x6a9)](_0x49606c[_0x39aef4(0x755)]())['sort']((_0x3fa600,_0x33286b)=>_0x33286b[0x1][0x0][_0x39aef4(0x525)]-_0x3fa600[0x1][0x0][_0x39aef4(0x525)]);if(0x1===_0x2ebdd0['length'])return{'nodeId':_0x2ebdd0[0x0][0x0],'response':_0x2ebdd0[0x0][0x1][0x0]};const _0x338ca1=(_0x356b00=>{const _0x3ed19f=_0x39aef4,_0x1ed465=_0x356b00[0x0][0x1][0x0][_0x3ed19f(0x525)];return _0x356b00['filter'](([,[_0x68f523]])=>_0x68f523[_0x3ed19f(0x525)]===_0x1ed465);})(_0x2ebdd0);if(0x1===_0x338ca1[_0x39aef4(0x48d)])return{'nodeId':_0x338ca1[0x0][0x0],'response':_0x338ca1[0x0][0x1][0x0]};const _0x2cd6c8=this['jobs'][_0x39aef4(0x118)](_0x2a35a9);if(!_0x2cd6c8)throw new _0xb694a1(_0xb694a1[_0x39aef4(0x549)][_0x39aef4(0x32e)]);const _0x2c08b4=_0x2cd6c8[_0x39aef4(0x205)][_0x39aef4(0x2fe)](),_0x192f95=_0x338ca1[_0x39aef4(0x627)](([_0x43df23,[,_0x1e94ed]])=>({'nodeId':_0x43df23,'rtt':_0x1e94ed-_0x2c08b4})),_0x4315c4=Math[_0x39aef4(0x759)](..._0x192f95[_0x39aef4(0x627)](({rtt:_0x31dd29})=>_0x31dd29)),_0x508d15=_0x192f95[_0x39aef4(0x3c6)](({rtt:_0x170b8f})=>_0x170b8f===_0x4315c4),[,[_0x39d73f]]=_0x338ca1['find'](([_0x56f9a9])=>_0x56f9a9===_0x508d15[_0x39aef4(0x2c7)]);return{'nodeId':_0x508d15[_0x39aef4(0x2c7)],'response':_0x39d73f};}[_0x2db2ce(0x2c0)](_0x5a0e31,_0x3a3dac){const _0x5849e2=_0x2db2ce,_0x37c370=this[_0x5849e2(0x372)][_0x5849e2(0x118)](_0x5a0e31);if(!_0x37c370)throw new _0xb694a1(_0xb694a1[_0x5849e2(0x549)][_0x5849e2(0x32e)]);if(_0x37c370['data'][_0x5849e2(0x3e3)]!==_0x26993c['JobType']['AI'])throw new _0xb694a1(_0xb694a1[_0x5849e2(0x549)][_0x5849e2(0x4c9)]);const _0x48da7d=this[_0x5849e2(0x56a)][_0x5849e2(0x118)](_0x5a0e31);if(!_0x48da7d)throw new _0xb694a1(_0xb694a1['codes'][_0x5849e2(0x5f6)]);_0x37c370[_0x5849e2(0x439)]=_0x26993c[_0x5849e2(0x3f6)][_0x5849e2(0x5bb)];const _0x56288a={'id':_0x37c370['id'],'status':_0x37c370['status'],'result':{'jobType':_0x37c370['data'][_0x5849e2(0x3e3)],'output':_0x3a3dac['answer']}};_0x48da7d[_0x5849e2(0x716)](_0x56288a),_0x48da7d['complete'](),this[_0x5849e2(0x56a)][_0x5849e2(0x176)](_0x5a0e31);const {data:{jobType:_0x8234cb}}=_0x37c370;this[_0x5849e2(0x229)](_0x5849e2(0x1b3)+_0x5a0e31+'\x20finalized.',{'jobId':_0x5a0e31,'jobType':_0x8234cb});}['failJob'](_0x28ac30,_0x4dcaa2){const _0x4140a3=_0x2db2ce,_0x2e85ee=this[_0x4140a3(0x372)][_0x4140a3(0x118)](_0x28ac30);if(!_0x2e85ee)throw new _0xb694a1(_0xb694a1[_0x4140a3(0x549)][_0x4140a3(0x32e)]);if(_0x2e85ee[_0x4140a3(0x1f6)][_0x4140a3(0x3e3)]!==_0x26993c[_0x4140a3(0x74a)]['AI'])throw new _0xb694a1(_0xb694a1['codes']['JobDispatcherInvalidJobType']);const _0xe1b224=this[_0x4140a3(0x56a)][_0x4140a3(0x118)](_0x28ac30);if(!_0xe1b224)throw new _0xb694a1(_0xb694a1[_0x4140a3(0x549)][_0x4140a3(0x5f6)]);_0x2e85ee[_0x4140a3(0x439)]=_0x26993c['JobStatus'][_0x4140a3(0x14d)];const _0x583ca7={'id':_0x2e85ee['id'],'status':_0x2e85ee[_0x4140a3(0x439)],'result':{'jobType':_0x2e85ee[_0x4140a3(0x1f6)]['jobType'],'output':_0x4dcaa2}};_0xe1b224['next'](_0x583ca7),_0xe1b224['complete'](),this['jobObservers'][_0x4140a3(0x176)](_0x28ac30);const {data:{jobType:_0xc0743f}}=_0x2e85ee;this['logEvent'](_0x4140a3(0x1b3)+_0x28ac30+'\x20failed.',{'jobId':_0x28ac30,'jobType':_0xc0743f});}['logEvent'](_0x454da3,{jobId:_0x16b537,jobType:_0x4004ae}){const _0x5b6357=_0x2db2ce,_0x3f2a02={'jobId':_0x16b537,'jobType':_0x4004ae,'mistletIds':Array[_0x5b6357(0x6a9)](this[_0x5b6357(0x257)][_0x5b6357(0x449)]()[_0x5b6357(0x3ac)]())[_0x5b6357(0x6f6)](_0x59c5d6=>_0x59c5d6[_0x5b6357(0x26f)]===_0x26993c[_0x5b6357(0x23e)]['Agent'])[_0x5b6357(0x627)](_0x25f639=>_0x25f639['getId']())};_0x4aa571[_0x5b6357(0x229)](_0x454da3,{'nodeId':this[_0x5b6357(0x533)](),'nodeType':this['owner']['type'],'data':_0x3f2a02}),_0x4aa571['log'](_0x50f1bc[_0x5b6357(0x21e)],_0x454da3,_0x3f2a02);}[_0x2db2ce(0x4ea)](_0x62cbce){const _0x131f97=_0x2db2ce,{jobPhase:_0x27e09e,available:_0x42c220,bid:_0x2de659}=_0x62cbce;return _0x27e09e===_0x2cb45e[_0x131f97(0x50f)]&&void 0x0!==_0x42c220&&void 0x0!==_0x2de659;}[_0x2db2ce(0x6fe)](_0x31d6d6){const _0x28fadd=_0x2db2ce,{jobPhase:_0x4c3f70,answer:_0x11d75f}=_0x31d6d6;return _0x4c3f70===_0x2cb45e[_0x28fadd(0x4f2)]&&void 0x0!==_0x11d75f&&'string'==typeof _0x11d75f;}[_0x2db2ce(0x49c)](_0x56c1d2){const _0x372c1d=_0x2db2ce,{jobPhase:_0x23ab60,message:_0x1f21cc}=_0x56c1d2;return _0x23ab60===_0x2cb45e[_0x372c1d(0x14d)]&&void 0x0!==_0x1f21cc&&'string'==typeof _0x1f21cc;}}class _0x209b01 extends _0x5d8a9b{constructor(_0x560c57,_0x3aa41f,_0x446658){super(_0x560c57,_0x3aa41f,_0x446658);}async[_0x2db2ce(0x424)](_0x4bd373){const _0x3e8b24=_0x2db2ce,_0x22cd50={'id':_0x3e8b24(0x719)+(0x0,_0x25a06c['v4'])(),'parameters':{'jobType':_0x26993c[_0x3e8b24(0x74a)]['AI'],'prompt':_0x4bd373},'status':_0x26993c[_0x3e8b24(0x3f6)][_0x3e8b24(0x448)]},_0x5e5c13=await this['createJob'](_0x22cd50);return new Promise((_0x436981,_0x55f619)=>{const _0x506613=_0x3e8b24,_0x45e69a=_0x5e5c13[_0x506613(0x175)]({'next':_0x6f9c0f=>{const _0x18d438=_0x506613;_0x6f9c0f[_0x18d438(0x439)]===_0x26993c[_0x18d438(0x3f6)][_0x18d438(0x5bb)]?(_0x436981(_0x6f9c0f[_0x18d438(0x367)][_0x18d438(0x5f5)]),_0x45e69a['unsubscribe']()):_0x6f9c0f[_0x18d438(0x439)]===_0x26993c['JobStatus'][_0x18d438(0x14d)]&&(_0x55f619(new Error('Job\x20failed')),_0x45e69a['unsubscribe']());},'error':_0x56ba2d=>{_0x55f619(_0x56ba2d);}});});}}class _0x3ae7aa extends _0x552aba{[_0x2db2ce(0x724)];[_0x2db2ce(0xcc)];[_0x2db2ce(0x3e3)];[_0x2db2ce(0x679)];[_0x2db2ce(0x6e2)]=!0x1;constructor(_0x1e1db4,_0x460484,_0x9e5c1a,_0x50229e,_0x4f0adf=_0x26993c['JobType'][_0x2db2ce(0x57e)]){const _0x4c9ef3=_0x2db2ce;super(_0x1e1db4,_0x460484),this[_0x4c9ef3(0x724)]=_0x9e5c1a,this['jobWorkerConnector']=_0x50229e,this[_0x4c9ef3(0x3e3)]=_0x4f0adf;}[_0x2db2ce(0x537)](){const _0x57008d=_0x2db2ce;return _0x26993c[_0x57008d(0x432)]['Job'];}[_0x2db2ce(0x677)](){const _0x4716a0=_0x2db2ce;this[_0x4716a0(0x651)]();}[_0x2db2ce(0x37c)](){const _0x1639c9=_0x2db2ce;this[_0x1639c9(0x55f)]?.[_0x1639c9(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x1639c9(0x47e)],'content':{'type':_0x1ce536['CloseJobWorker'],'label':this['label']}});}['reset'](){const _0x84848e=_0x2db2ce;this[_0x84848e(0x679)]?.(),this[_0x84848e(0x677)]();}[_0x2db2ce(0x1e7)](){const _0x4dc1e5=_0x2db2ce;this[_0x4dc1e5(0x679)]?.(),super[_0x4dc1e5(0x1e7)]();}[_0x2db2ce(0x411)](_0x51625a){const _0x5d838b=_0x2db2ce;return _0x51625a===this[_0x5d838b(0x3e3)];}[_0x2db2ce(0x1bf)](){const _0x324846=_0x2db2ce;return!this[_0x324846(0x6e2)];}['getBid'](){return 0x1;}[_0x2db2ce(0x651)](){const _0x245084=_0x2db2ce;this['unsubscribeListener']=this[_0x245084(0x40c)]((_0x5f4f77,_0x2370a6)=>{const _0x2a410a=_0x245084;if(_0x4aa571[_0x2a410a(0x24e)](_0x50f1bc['Jobs'],'JobWorker:\x20Received\x20job',_0x2370a6),!(_0x2370a6 instanceof File)){if(this[_0x2a410a(0x411)](_0x2370a6[_0x2a410a(0x3e3)]))throw new _0x5c22ea(_0x3a91a5[_0x2a410a(0x3c0)],_0x2a410a(0x656)+this[_0x2a410a(0x3e3)]+'\x20jobs\x20are\x20supported\x20by\x20this\x20worker');this[_0x2a410a(0x5c0)](_0x2370a6[_0x2a410a(0x345)])?(_0x4aa571[_0x2a410a(0x24e)](_0x50f1bc['Jobs'],'JobWorker:\x20Received\x20AI\x20job\x20request',_0x2370a6),this['isAvailable']()?this['sendBid'](_0x2370a6['id'],_0x5f4f77):this[_0x2a410a(0x621)](_0x2370a6['id'],_0x5f4f77)):this[_0x2a410a(0x569)](_0x2370a6[_0x2a410a(0x345)])&&(_0x4aa571['log'](_0x50f1bc['Jobs'],'JobWorker:\x20Received\x20AI\x20job\x20attribution',_0x2370a6),this[_0x2a410a(0x4e1)](_0x2370a6['id'],_0x2370a6[_0x2a410a(0x345)],_0x5f4f77));}});}[_0x2db2ce(0x5d9)](_0xb48454,_0xba014){const _0x42c60c=_0x2db2ce,_0x30567c={'jobPhase':_0x2cb45e['Bid'],'available':!0x0,'bid':this[_0x42c60c(0x4ec)]()},_0x1e9004={'id':_0xb48454,'jobType':this['jobType'],'payload':_0x30567c};_0x4aa571[_0x42c60c(0x24e)](_0x50f1bc['Jobs'],_0x42c60c(0x1dd),_0x1e9004),this['send'](_0x1e9004,[_0xba014]);}[_0x2db2ce(0x621)](_0x162a4f,_0x243ee4){const _0x47f366=_0x2db2ce,_0x11f004={'id':_0x162a4f,'jobType':_0x26993c[_0x47f366(0x74a)]['AI'],'payload':{'jobPhase':_0x2cb45e[_0x47f366(0x50f)],'available':!0x1,'bid':0x0}};this[_0x47f366(0x3a6)](_0x11f004,[_0x243ee4]);}async[_0x2db2ce(0x4e1)](_0x4ab759,_0x510f9b,_0x44700d){const _0x1f76f4=_0x2db2ce;_0x4aa571[_0x1f76f4(0x24e)](_0x50f1bc[_0x1f76f4(0x21e)],_0x1f76f4(0x44e),_0x510f9b);const _0x820774={'id':_0x4ab759,'parameters':{'jobType':_0x26993c[_0x1f76f4(0x74a)]['AI'],'prompt':_0x510f9b[_0x1f76f4(0x424)]}};try{this['isRunning']=!0x0;let _0x3d43ad={'id':_0x4ab759,'status':_0x26993c[_0x1f76f4(0x3f6)][_0x1f76f4(0x3fe)],'result':{'jobType':_0x26993c['JobType']['AI'],'output':''}};for await(const _0xc3d300 of this[_0x1f76f4(0xcc)][_0x1f76f4(0x126)](_0x820774)){const {status:_0x569200,result:_0x309d4c}=_0xc3d300;_0x3d43ad['result']['output']+=_0x309d4c[_0x1f76f4(0x5f5)];}_0x3d43ad[_0x1f76f4(0x439)]=_0x26993c[_0x1f76f4(0x3f6)][_0x1f76f4(0x5bb)];const {result:_0x348e8b}=_0x3d43ad;if(this['shouldProcessJob'](_0x348e8b[_0x1f76f4(0x3e3)]))throw new _0xb694a1(_0xb694a1[_0x1f76f4(0x549)][_0x1f76f4(0x3c0)]);const _0x245ea5={'jobPhase':_0x2cb45e[_0x1f76f4(0x4f2)],'answer':_0x348e8b['output']},_0x8f2b81={'id':_0x4ab759,'jobType':_0x26993c[_0x1f76f4(0x74a)]['AI'],'payload':_0x245ea5};_0x4aa571[_0x1f76f4(0x24e)](_0x50f1bc['Jobs'],_0x1f76f4(0x530),_0x8f2b81),await this[_0x1f76f4(0x3a6)](_0x8f2b81,[_0x44700d]);}catch(_0xfa4efd){_0x4aa571[_0x1f76f4(0x554)](_0x1f76f4(0x6ae),{'nodeId':this[_0x1f76f4(0x24c)][_0x1f76f4(0x28c)](),'nodeType':this[_0x1f76f4(0x24c)][_0x1f76f4(0x26f)],'data':{'job':_0x820774}},_0xfa4efd);const _0x1319af=_0xfa4efd instanceof Error?_0xfa4efd[_0x1f76f4(0x475)]:_0x1f76f4(0x68a),_0x1e43aa={'id':_0x4ab759,'jobType':this[_0x1f76f4(0x3e3)],'payload':{'jobPhase':_0x2cb45e[_0x1f76f4(0x14d)],'message':_0x1319af}};await this['send'](_0x1e43aa,[_0x44700d]);}finally{this['isRunning']=!0x1;}}[_0x2db2ce(0x5c0)](_0xad2b44){const _0x3f6f80=_0x2db2ce;return _0xad2b44['jobPhase']===_0x2cb45e[_0x3f6f80(0x5dc)];}['isAIJobAttribution'](_0x53804d){const _0x3718c8=_0x2db2ce,_0x512345=_0x53804d;return _0x512345[_0x3718c8(0x557)]===_0x2cb45e['Attribution']&&void 0x0!==_0x512345[_0x3718c8(0x424)];}}class _0x11f64b extends _0x3ae7aa{[_0x2db2ce(0x15f)];['objectStore'];constructor(_0x5bb968,_0x4a1e6a,_0x5ec5d4,_0x37960a,_0x14eb35){const _0x470470=_0x2db2ce;super(_0x5bb968,_0x4a1e6a,_0x5ec5d4,_0x37960a,_0x26993c[_0x470470(0x74a)]['AI']),this[_0x470470(0x15f)]=_0x37960a,this[_0x470470(0x3f9)]=_0x14eb35;}[_0x2db2ce(0x1e7)](){const _0x2004cf=_0x2db2ce;this[_0x2004cf(0x3f9)][_0x2004cf(0x531)](),this[_0x2004cf(0x3f9)][_0x2004cf(0x37c)](),super[_0x2004cf(0x1e7)]();}async[_0x2db2ce(0x677)](){const _0x552935=_0x2db2ce;await this['waitForSyncComplete'](),await this[_0x552935(0x15f)][_0x552935(0x54f)](),await this['loadExistingContent'](),this[_0x552935(0x480)](),super['open']();}[_0x2db2ce(0x4ec)](){const _0x152dc5=_0x2db2ce;return this[_0x152dc5(0x1b2)]();}async[_0x2db2ce(0x346)](){await new Promise(_0x32c3d6=>{const _0xa87bc8=a0_0x3de5;this[_0xa87bc8(0x3f9)][_0xa87bc8(0x175)](async _0x8606e8=>{const _0x233897=_0xa87bc8;_0x8606e8[_0x233897(0x415)]===_0x26993c[_0x233897(0x676)][_0x233897(0x71b)]&&(this[_0x233897(0x3f9)][_0x233897(0x531)](),_0x32c3d6());});});}async[_0x2db2ce(0x31c)](_0x177a8f){const _0x2f1051=_0x2db2ce;try{const _0x498d87=await this[_0x2f1051(0x3f9)][_0x2f1051(0x3cf)](_0x2f1051(0x334));for(const _0xb68d70 of _0x498d87)if(_0xb68d70[_0x2f1051(0x114)]===_0x26993c[_0x2f1051(0x6d3)]['File']&&_0xb68d70[_0x2f1051(0x227)]===_0x177a8f)return _0xb68d70[_0x2f1051(0x45c)]??_0xb68d70[_0x2f1051(0x227)];throw new Error(_0x2f1051(0x38e));}catch(_0x4e46d1){return new Promise(_0x4cc7cc=>{const _0x3aa14e=_0x2f1051;this[_0x3aa14e(0x3f9)][_0x3aa14e(0x175)](async _0x1f5f7d=>{const _0x472fc1=_0x3aa14e;_0x1f5f7d[_0x472fc1(0x415)]===_0x26993c[_0x472fc1(0x676)][_0x472fc1(0x4e9)]&&_0x1f5f7d[_0x472fc1(0x345)][_0x472fc1(0x568)][_0x472fc1(0x662)]===_0x177a8f&&(this[_0x472fc1(0x3f9)][_0x472fc1(0x531)](),_0x4cc7cc(_0x1f5f7d[_0x472fc1(0x345)]['file'][_0x472fc1(0x45c)]??_0x1f5f7d[_0x472fc1(0x345)][_0x472fc1(0x568)]['pathName']));});});}}async[_0x2db2ce(0x3a3)](){const _0x4e11a0=_0x2db2ce;try{const _0x33532d=await this[_0x4e11a0(0x3f9)][_0x4e11a0(0x3cf)]('/documents');for(const _0x59e678 of _0x33532d)_0x4e11a0(0x568)===_0x59e678[_0x4e11a0(0x114)]&&await this[_0x4e11a0(0x361)](_0x59e678['name'],_0x59e678['pathName']);}catch(_0x3f9fc2){}}[_0x2db2ce(0x480)](){const _0x1b52a6=_0x2db2ce;this[_0x1b52a6(0x3f9)][_0x1b52a6(0x175)](async _0x422c39=>{const _0x5122de=_0x1b52a6;switch(_0x422c39['event']){case _0x26993c[_0x5122de(0x676)]['FileWrite']:_0x422c39[_0x5122de(0x345)]['file'][_0x5122de(0x227)]['startsWith'](_0x5122de(0x521))&&await this[_0x5122de(0x361)](_0x422c39[_0x5122de(0x345)][_0x5122de(0x568)][_0x5122de(0x662)],_0x422c39[_0x5122de(0x345)][_0x5122de(0x568)][_0x5122de(0x227)]);break;case _0x26993c[_0x5122de(0x676)][_0x5122de(0x527)]:_0x422c39[_0x5122de(0x345)][_0x5122de(0x227)]['startsWith']('/documents')&&this[_0x5122de(0x2fc)](_0x422c39['payload'][_0x5122de(0x662)]);}});}async['addContent'](_0x539c10,_0x268882){const _0x2ac484=_0x2db2ce,_0xd2d9e1=await this['objectStore'][_0x2ac484(0x118)](_0x268882);await this[_0x2ac484(0x15f)][_0x2ac484(0x361)](_0x539c10,await _0xd2d9e1['text']());}[_0x2db2ce(0x2fc)](_0xcb9979){const _0x9b2d21=_0x2db2ce;this[_0x9b2d21(0x15f)][_0x9b2d21(0x2fc)](_0xcb9979);}[_0x2db2ce(0x1b2)](){const _0x54a1eb=_0x2db2ce;try{return this[_0x54a1eb(0x724)][_0x54a1eb(0x27d)]()[_0x54a1eb(0x4de)]['cores']*(0x1-this['capacityReporter']['getCapacityReport']()[_0x54a1eb(0x4de)][_0x54a1eb(0x251)]);}catch(_0x55acac){return _0x4aa571[_0x54a1eb(0x24e)](_0x50f1bc['Jobs'],_0x54a1eb(0xfd),_0x55acac),0x0;}}}class _0x20b61e extends _0x16e1a9{[_0x2db2ce(0x21d)];constructor(_0x4e6f85,_0xb3f39c,_0x21f3ba){const _0x3a73=_0x2db2ce;super(_0x4e6f85,_0xb3f39c),this[_0x3a73(0x21d)]=_0x21f3ba;}[_0x2db2ce(0x537)](){const _0x183468=_0x2db2ce;return _0x26993c[_0x183468(0x432)][_0x183468(0x3a4)];}['getMediaStream'](){const _0x15c7b4=_0x2db2ce;return this[_0x15c7b4(0x21d)];}[_0x2db2ce(0x170)](){return this['mediaStream']['id'];}}class _0x326edb extends _0x20b61e{[_0x2db2ce(0x460)];[_0x2db2ce(0x70a)];[_0x2db2ce(0x538)];['unregisterPublisherListener']=_0x38d6db();constructor(_0x47775a,_0x1b6161,_0x359e9d,_0xb8d2ad,_0x479584){const _0x2cbb6e=_0x2db2ce;super(_0x47775a,_0x1b6161,_0x359e9d),this[_0x2cbb6e(0x460)]=_0xb8d2ad,this[_0x2cbb6e(0x70a)]=_0x479584;}['destroy'](){const _0x3e8ad8=_0x2db2ce;this[_0x3e8ad8(0xf5)]('audio'),this['removeTrack'](_0x3e8ad8(0x196)),super[_0x3e8ad8(0x1e7)]();}['addTrack'](_0x37f8be){const _0x563f9c=_0x2db2ce;if(!this['topic'])throw new _0xb694a1(_0xb694a1['codes'][_0x563f9c(0x669)],{'label':this[_0x563f9c(0x3a1)],'ownerId':this[_0x563f9c(0x24c)][_0x563f9c(0x28c)](),'remoteId':this[_0x563f9c(0x460)]});this[_0x563f9c(0x538)][_0x563f9c(0x536)]({'sourceId':this[_0x563f9c(0x24c)][_0x563f9c(0x28c)](),'content':{'action':_0x2add13[_0x563f9c(0x3b2)],'track':_0x37f8be,'stream':this['mediaStream'],'priority':_0x26993c[_0x563f9c(0x3ba)][_0x563f9c(0x5a7)],'params':this['getInternalTrackParams'](_0x37f8be[_0x563f9c(0x114)],this['params'])}});}[_0x2db2ce(0xf5)](_0x59603d){const _0x3dcd20=_0x2db2ce,_0x3fb0ad=this[_0x3dcd20(0x210)](_0x59603d);if(_0x3fb0ad){if(!this[_0x3dcd20(0x538)])return null;this['topic'][_0x3dcd20(0x536)]({'sourceId':this[_0x3dcd20(0x24c)]['getId'](),'content':{'action':_0x2add13[_0x3dcd20(0x613)],'track':_0x3fb0ad,'stream':this[_0x3dcd20(0x21d)]}});}return _0x3fb0ad;}[_0x2db2ce(0xcf)](_0x352bf2){const _0x3fe671=_0x2db2ce;if(!this[_0x3fe671(0x538)])throw new _0xb694a1(_0xb694a1[_0x3fe671(0x549)][_0x3fe671(0x669)],{'label':this[_0x3fe671(0x3a1)],'ownerId':this[_0x3fe671(0x24c)][_0x3fe671(0x28c)](),'remoteId':this[_0x3fe671(0x460)]});this[_0x3fe671(0x538)][_0x3fe671(0x536)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x2add13[_0x3fe671(0x303)],'priority':_0x352bf2,'stream':this['mediaStream']}});}['subscribe']({trackKinds:_0x3704c4,params:_0x41d0d2},_0x150c56){const _0x5de80c=_0x2db2ce;if(!this['topic'])throw new _0xb694a1(_0xb694a1[_0x5de80c(0x549)][_0x5de80c(0x669)],{'label':this[_0x5de80c(0x3a1)],'ownerId':this[_0x5de80c(0x24c)][_0x5de80c(0x28c)](),'remoteId':this[_0x5de80c(0x460)]});for(const _0xd8c645 of this[_0x5de80c(0x21d)][_0x5de80c(0x359)]())_0x3704c4[_0x5de80c(0x28e)](_0xd8c645['kind'])&&this['topic']['publish']({'sourceId':this[_0x5de80c(0x24c)][_0x5de80c(0x28c)](),'content':{'action':_0x2add13[_0x5de80c(0x3b2)],'track':_0xd8c645,'stream':this[_0x5de80c(0x21d)],'priority':_0x150c56,'params':this[_0x5de80c(0x1f3)](_0xd8c645[_0x5de80c(0x114)],_0x41d0d2)}});}[_0x2db2ce(0x74b)]({params:_0x13bc0f}){const _0x305928=_0x2db2ce;if(!this[_0x305928(0x538)])throw new _0xb694a1(_0xb694a1['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x305928(0x3a1)],'ownerId':this[_0x305928(0x24c)][_0x305928(0x28c)](),'remoteId':this[_0x305928(0x460)]});for(const _0x453175 of this[_0x305928(0x21d)]['getTracks']())this[_0x305928(0x538)][_0x305928(0x536)]({'sourceId':this[_0x305928(0x24c)][_0x305928(0x28c)](),'content':{'action':_0x2add13[_0x305928(0x303)],'stream':this['mediaStream'],'params':this[_0x305928(0x1f3)](_0x453175[_0x305928(0x114)],_0x13bc0f)}});}[_0x2db2ce(0x531)]({trackKinds:_0x10ecd9}){const _0x262aaa=_0x2db2ce;if(this[_0x262aaa(0x538)]){for(const _0x406351 of this[_0x262aaa(0x21d)]['getTracks']())_0x10ecd9[_0x262aaa(0x28e)](_0x406351['kind'])&&this[_0x262aaa(0x538)][_0x262aaa(0x536)]({'sourceId':this['owner'][_0x262aaa(0x28c)](),'content':{'action':_0x2add13['Remove'],'stream':this[_0x262aaa(0x21d)],'track':_0x406351}});}}[_0x2db2ce(0xd5)](_0x1eb63e){this['topic']=_0x1eb63e;}[_0x2db2ce(0x6cd)](_0x299c17){const _0x43ab58=_0x2db2ce;_0x299c17===this['topic']&&(delete this[_0x43ab58(0x538)],this[_0x43ab58(0x1fa)][_0x43ab58(0x536)]());}['onUnregisterPublisher'](_0xad47e){const _0x28d736=_0x2db2ce;return this[_0x28d736(0x1fa)][_0x28d736(0x175)](_0xad47e);}[_0x2db2ce(0x210)](_0x5eb27a){const _0x2a3452=_0x2db2ce;return this[_0x2a3452(0x21d)][_0x2a3452(0x359)]()[_0x2a3452(0x3c6)](_0x72cc5c=>_0x72cc5c['kind']===_0x5eb27a)||null;}[_0x2db2ce(0x1f3)](_0x36b123,_0x1a82f5){const _0x5a135f=_0x2db2ce;let _0x3a1b24;return'video'===_0x36b123&&_0x1a82f5?.[_0x5a135f(0x196)]&&'boolean'!=typeof _0x1a82f5['video']&&(_0x3a1b24={'kind':_0x5a135f(0x196),..._0x1a82f5[_0x5a135f(0x196)]},_0x3a1b24[_0x5a135f(0x5af)]=this[_0x5a135f(0x399)]()),_0x5a135f(0x417)===_0x36b123&&_0x1a82f5?.[_0x5a135f(0x417)]&&_0x5a135f(0x586)!=typeof _0x1a82f5['audio']&&(_0x3a1b24={'kind':_0x5a135f(0x417),..._0x1a82f5[_0x5a135f(0x417)]}),_0x3a1b24;}[_0x2db2ce(0x399)](){const _0x3fab2b=_0x2db2ce;let _0x5b47f3={'width':0x0,'height':0x0};const _0xe110ec=this['mediaStream'][_0x3fab2b(0x6ed)]();if(_0xe110ec[_0x3fab2b(0x48d)]>0x0){const _0x13fc7c=_0xe110ec[0x0][_0x3fab2b(0x10d)]();_0x13fc7c[_0x3fab2b(0x5b4)]&&_0x13fc7c[_0x3fab2b(0x5b0)]&&(_0x5b47f3={'width':_0x13fc7c[_0x3fab2b(0x5b4)],'height':_0x13fc7c['height']});}return _0x5b47f3;}}class _0x3e2b06 extends _0x20b61e{[_0x2db2ce(0x255)];[_0x2db2ce(0x4b6)]=_0x26993c[_0x2db2ce(0x3ba)][_0x2db2ce(0x5a7)];[_0x2db2ce(0x6fb)]=new Map();[_0x2db2ce(0x351)]=new Map();constructor(_0x54b906,_0x71f3ef,_0x85223,_0x2450bd){const _0x89a8af=_0x2db2ce;super(_0x54b906,_0x71f3ef,_0x85223 instanceof MediaStream?_0x85223:_0x85223['srcObject']?_0x85223[_0x89a8af(0x226)]:_0x85223[_0x89a8af(0x3e4)]()),this[_0x89a8af(0x255)]=_0x2450bd,this[_0x89a8af(0x21d)][_0x89a8af(0x359)]()[_0x89a8af(0x405)](_0x24c312=>this['setupTrackEndedListeners'](_0x24c312)),_0x4aa571[_0x89a8af(0x6a7)](_0x2fe3df[_0x89a8af(0x50c)],{'type':_0x89a8af(0x536),'label':this[_0x89a8af(0x3a1)],'nodeId':this[_0x89a8af(0x24c)][_0x89a8af(0x28c)](),'nodeType':this[_0x89a8af(0x24c)][_0x89a8af(0x26f)],'clusterId':this[_0x89a8af(0x255)],'streamId':this['getInternalStreamId'](),'trackKinds':this['mediaStream'][_0x89a8af(0x359)]()[_0x89a8af(0x627)](_0x5bd566=>_0x5bd566[_0x89a8af(0x114)])});}[_0x2db2ce(0x1e7)](){const _0x22c5ea=_0x2db2ce;this[_0x22c5ea(0x351)][_0x22c5ea(0x703)]>0x0&&(this['outgoingStreams'][_0x22c5ea(0x405)](_0x1ac859=>{const _0x3bc54c=_0x22c5ea;_0x1ac859[_0x3bc54c(0x1f7)](),_0x1ac859[_0x3bc54c(0x1e7)]();}),this[_0x22c5ea(0x351)][_0x22c5ea(0x3c1)]()),this[_0x22c5ea(0x6fb)][_0x22c5ea(0x405)](_0x6bbe2c=>_0x6bbe2c()),super['destroy']();}[_0x2db2ce(0x536)](_0x4a7c1b){const _0x4b6a3c=_0x2db2ce;this[_0x4b6a3c(0x55f)][_0x4b6a3c(0x536)]({'sourceId':this[_0x4b6a3c(0x24c)][_0x4b6a3c(0x28c)](),'destinationIds':_0x4a7c1b?[_0x4a7c1b]:void 0x0,'propagate':!0x0,'messageType':_0x190ed6[_0x4b6a3c(0x47e)],'content':{'type':_0x1ce536[_0x4b6a3c(0x1ce)],'ownerId':this[_0x4b6a3c(0x24c)][_0x4b6a3c(0x28c)](),'label':this[_0x4b6a3c(0x3a1)],'stream':{'streamId':this[_0x4b6a3c(0x170)](),'availableTrackKinds':this[_0x4b6a3c(0x21d)][_0x4b6a3c(0x359)]()[_0x4b6a3c(0x627)](_0x436aa4=>_0x436aa4[_0x4b6a3c(0x114)])}}});}['unpublish'](){const _0x3a3ed9=_0x2db2ce;this[_0x3a3ed9(0x55f)][_0x3a3ed9(0x536)]({'sourceId':this[_0x3a3ed9(0x24c)][_0x3a3ed9(0x28c)](),'propagate':!0x0,'messageType':_0x190ed6[_0x3a3ed9(0x47e)],'content':{'type':_0x1ce536[_0x3a3ed9(0x1a9)],'ownerId':this['owner'][_0x3a3ed9(0x28c)](),'label':this['label']}}),this[_0x3a3ed9(0x55f)][_0x3a3ed9(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6['Content'],'content':{'type':_0x1ce536[_0x3a3ed9(0x652)],'label':this[_0x3a3ed9(0x3a1)]}}),_0x4aa571[_0x3a3ed9(0x6a7)](_0x2fe3df[_0x3a3ed9(0x50c)],{'type':_0x3a3ed9(0x68f),'label':this['label'],'nodeId':this[_0x3a3ed9(0x24c)][_0x3a3ed9(0x28c)](),'nodeType':this[_0x3a3ed9(0x24c)][_0x3a3ed9(0x26f)],'clusterId':this[_0x3a3ed9(0x255)],'streamId':this[_0x3a3ed9(0x170)]()});}[_0x2db2ce(0x2c2)](){const _0x5b2b71=_0x2db2ce;return this[_0x5b2b71(0x4b6)];}[_0x2db2ce(0xcf)](_0x4a84ed){const _0x10852b=_0x2db2ce;this[_0x10852b(0x4b6)]=_0x4a84ed,this[_0x10852b(0x351)][_0x10852b(0x405)](_0x580e65=>_0x580e65[_0x10852b(0xcf)](_0x4a84ed));}['getShareableStream'](_0x89fc1a,_0x3f671e){const _0xf3f166=_0x2db2ce;if(!this[_0xf3f166(0x351)][_0xf3f166(0x40d)](_0x89fc1a)){const _0x52dfa4=new _0x326edb(this[_0xf3f166(0x24c)],this[_0xf3f166(0x3a1)],this[_0xf3f166(0x21d)],_0x89fc1a,_0x3f671e),_0x107456=_0x52dfa4['onUnregisterPublisher'](()=>{const _0x17d4c7=_0xf3f166;_0x107456(),this[_0x17d4c7(0x351)][_0x17d4c7(0x118)](_0x89fc1a)?.[_0x17d4c7(0x1e7)](),this[_0x17d4c7(0x351)][_0x17d4c7(0x176)](_0x89fc1a);});this[_0xf3f166(0x351)][_0xf3f166(0x3bc)](_0x89fc1a,_0x52dfa4),_0x52dfa4[_0xf3f166(0x155)](this[_0xf3f166(0x55f)]);}return this[_0xf3f166(0x351)][_0xf3f166(0x118)](_0x89fc1a);}[_0x2db2ce(0x483)](){const _0x31c0f9=_0x2db2ce;return this[_0x31c0f9(0x21d)]['id'];}['handleLocalTrackFailure'](_0x38afb4){const _0x97ea03=_0x2db2ce;this[_0x97ea03(0x55f)][_0x97ea03(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x97ea03(0x47e)],'content':{'type':_0x1ce536[_0x97ea03(0x216)],'label':this[_0x97ea03(0x3a1)],'trackKinds':[_0x38afb4['kind']]}});}[_0x2db2ce(0x479)](_0x5bae6b){const _0x8468c9=_0x2db2ce,_0x22dd39=()=>this[_0x8468c9(0x4df)](_0x5bae6b);_0x5bae6b[_0x8468c9(0x1af)](_0x8468c9(0x53c),_0x22dd39),_0x5bae6b[_0x8468c9(0x1af)](_0x8468c9(0x45e),_0x22dd39),this['trackEndedListeners'][_0x8468c9(0x3bc)](_0x5bae6b[_0x8468c9(0x114)],()=>{const _0x5d6dfb=_0x8468c9;_0x5bae6b[_0x5d6dfb(0x670)](_0x5d6dfb(0x53c),_0x22dd39),_0x5bae6b[_0x5d6dfb(0x670)](_0x5d6dfb(0x45e),_0x22dd39),this[_0x5d6dfb(0x6fb)][_0x5d6dfb(0x176)](_0x5bae6b[_0x5d6dfb(0x114)]);});}}class _0x3ca08e extends _0x3e2b06{[_0x2db2ce(0x1fc)];[_0x2db2ce(0x5e9)]=[];['clientStream'];['audioSource'];[_0x2db2ce(0x5a0)];['sourceVideo'];[_0x2db2ce(0x347)];['context'];[_0x2db2ce(0x342)];constructor(_0x489012,_0x1f24ca,_0x2be5bf,_0x3582ec,_0x4e681a,_0x52555b){const _0x38ad9e=_0x2db2ce;if(super(_0x489012,_0x1f24ca,_0x2be5bf,_0x52555b),this[_0x38ad9e(0x1fc)]=_0x4e681a,this[_0x38ad9e(0x207)]=this[_0x38ad9e(0x21d)],this['sourceVideo']=document[_0x38ad9e(0x3b7)](_0x38ad9e(0x196)),this[_0x38ad9e(0x3cd)][_0x38ad9e(0x25d)]=!0x0,this[_0x38ad9e(0x3cd)][_0x38ad9e(0x1bc)]=!0x0,this[_0x38ad9e(0x3cd)][_0x38ad9e(0x226)]=this[_0x38ad9e(0x207)],this['sourceVideo'][_0x38ad9e(0x251)](),this[_0x38ad9e(0x3cd)][_0x38ad9e(0x706)]=()=>{const _0x100c32=_0x38ad9e;this[_0x100c32(0x3cd)][_0x100c32(0x71d)]();},this['canvas']=document[_0x38ad9e(0x3b7)](_0x38ad9e(0x347)),this['context']=this[_0x38ad9e(0x347)][_0x38ad9e(0x32f)]('2d'),this[_0x38ad9e(0x21d)]=this[_0x38ad9e(0x347)][_0x38ad9e(0x3e4)](_0x3582ec),this[_0x38ad9e(0x5a0)]=this['audioContext'][_0x38ad9e(0x3e1)](),this['clientStream']['getAudioTracks']()[_0x38ad9e(0x48d)]>0x0){const _0x1b34f8=this[_0x38ad9e(0x207)][_0x38ad9e(0xfe)]()[0x0];this[_0x38ad9e(0x666)]=this['audioContext'][_0x38ad9e(0x709)](new MediaStream([_0x1b34f8])),this[_0x38ad9e(0x666)][_0x38ad9e(0x4e0)](this[_0x38ad9e(0x5a0)]);}const _0x595a1d=this['audioDestination'][_0x38ad9e(0x62d)]['getTracks']()[0x0];this[_0x38ad9e(0x21d)][_0x38ad9e(0x2d3)](_0x595a1d),this[_0x38ad9e(0x342)]=setInterval(()=>{const _0x5e4771=_0x38ad9e;this[_0x5e4771(0x347)][_0x5e4771(0x5b4)]=this[_0x5e4771(0x3cd)][_0x5e4771(0x630)],this[_0x5e4771(0x347)][_0x5e4771(0x5b0)]=this[_0x5e4771(0x3cd)][_0x5e4771(0x139)],this[_0x5e4771(0x3cd)][_0x5e4771(0x630)]?(0x0!==this[_0x5e4771(0x207)][_0x5e4771(0x6ed)]()[_0x5e4771(0x48d)]&&this[_0x5e4771(0x207)][_0x5e4771(0x6ed)]()[0x0][_0x5e4771(0x72a)]?this[_0x5e4771(0x21d)][_0x5e4771(0x6ed)]()[0x0][_0x5e4771(0x72a)]=!0x0:this[_0x5e4771(0x21d)][_0x5e4771(0x6ed)]()[0x0][_0x5e4771(0x72a)]=!0x1,0x0!==this[_0x5e4771(0x207)][_0x5e4771(0xfe)]()['length']&&this['clientStream'][_0x5e4771(0xfe)]()[0x0][_0x5e4771(0x72a)]?this['mediaStream']['getAudioTracks']()[0x0]['enabled']=!0x0:this[_0x5e4771(0x21d)][_0x5e4771(0xfe)]()[0x0][_0x5e4771(0x72a)]=!0x1,this[_0x5e4771(0x48b)][_0x5e4771(0x2f6)](this[_0x5e4771(0x3cd)],0x0,0x0)):this[_0x5e4771(0x48b)][_0x5e4771(0x230)](0x0,0x0,this[_0x5e4771(0x347)][_0x5e4771(0x5b4)],this[_0x5e4771(0x347)]['height']);},0x3e8/_0x3582ec);}[_0x2db2ce(0x1e7)](){const _0x3bfefb=_0x2db2ce;clearInterval(this['interval']),this[_0x3bfefb(0x3cd)][_0x3bfefb(0x6d7)](),this[_0x3bfefb(0x347)]['remove'](),this[_0x3bfefb(0x666)]?.[_0x3bfefb(0x1ed)](),this[_0x3bfefb(0x5a0)][_0x3bfefb(0x1ed)](),this[_0x3bfefb(0x21d)][_0x3bfefb(0x359)]()['forEach'](_0x2086bb=>{const _0x2f370a=_0x3bfefb;_0x2086bb[_0x2f370a(0x11e)](),this['mediaStream']['removeTrack'](_0x2086bb);}),super[_0x3bfefb(0x1e7)]();}[_0x2db2ce(0x2d3)](_0x3c3b22){const _0x549af9=_0x2db2ce,_0x3c7b88=this[_0x549af9(0x210)](_0x3c3b22[_0x549af9(0x114)]);_0x3c7b88&&this[_0x549af9(0xf5)](_0x3c7b88),_0x549af9(0x417)!==_0x3c3b22[_0x549af9(0x114)]?(_0x549af9(0x196)===_0x3c3b22[_0x549af9(0x114)]&&this[_0x549af9(0x349)](_0x3c3b22),this[_0x549af9(0x479)](_0x3c3b22)):this[_0x549af9(0x1ea)](_0x3c3b22);}['removeTrack'](_0x3e698f){const _0x2e3441=_0x2db2ce,_0x13eeb7=this[_0x2e3441(0x509)](_0x3e698f);return _0x13eeb7&&(_0x2e3441(0x417)===_0x13eeb7[_0x2e3441(0x114)]&&(this[_0x2e3441(0x666)]?.[_0x2e3441(0x1ed)](),this[_0x2e3441(0x666)]=void 0x0),this['trackEndedListeners']['get'](_0x13eeb7[_0x2e3441(0x114)])?.(),this[_0x2e3441(0x207)][_0x2e3441(0xf5)](_0x13eeb7)),_0x13eeb7;}['replaceTrack'](_0x2a5dfb){const _0x300198=_0x2db2ce;this[_0x300198(0xf5)](_0x2a5dfb['kind']),this[_0x300198(0x2d3)](_0x2a5dfb);}[_0x2db2ce(0x4a9)](_0x2f3f59){const _0x16d4c6=_0x2db2ce;this[_0x16d4c6(0x5e9)]=_0x2f3f59;}['getTrack'](_0x357d39){const _0x4b3b42=_0x2db2ce;return this[_0x4b3b42(0x207)]['getTracks']()['find'](_0x32c6b3=>_0x32c6b3[_0x4b3b42(0x114)]===_0x357d39)||null;}[_0x2db2ce(0x509)](_0x40b56e){const _0x1f158c=_0x2db2ce;return _0x1f158c(0x6dc)==typeof _0x40b56e?this['getTrack'](_0x40b56e):_0x40b56e;}[_0x2db2ce(0x1ea)](_0x2a5199){const _0x44cb58=_0x2db2ce;'suspended'===this[_0x44cb58(0x1fc)]['state']&&this['audioContext'][_0x44cb58(0x59e)](),this[_0x44cb58(0x207)][_0x44cb58(0x2d3)](_0x2a5199),this['audioSource']=this['audioContext'][_0x44cb58(0x709)](this[_0x44cb58(0x207)]),this[_0x44cb58(0x666)][_0x44cb58(0x4e0)](this['audioDestination']);}[_0x2db2ce(0x349)](_0x94e07f){const _0x194e7c=_0x2db2ce;this[_0x194e7c(0x207)][_0x194e7c(0x2d3)](_0x94e07f),this[_0x194e7c(0x3cd)][_0x194e7c(0x251)]();}}class _0x1530dc extends _0x3e2b06{}class _0x48e5b0 extends _0x552aba{['localNode'];[_0x2db2ce(0x255)];[_0x2db2ce(0x6e1)];[_0x2db2ce(0x67e)];[_0x2db2ce(0x2b8)];[_0x2db2ce(0x2f5)];['pendingSyncTransactions']=new Map();[_0x2db2ce(0x51b)]=new Map();['pendingFilesSyncing']=new Map();[_0x2db2ce(0x35c)]=new Map();[_0x2db2ce(0x5a2)]=new Map();[_0x2db2ce(0x3d7)];[_0x2db2ce(0x6af)]=_0x38d6db();[_0x2db2ce(0x46a)];[_0x2db2ce(0x177)];[_0x2db2ce(0x249)]=0x0;[_0x2db2ce(0x400)]=0x0;['syncContent']=!0x1;[_0x2db2ce(0x287)]=!0x0;constructor(_0x15db84,_0x51a0d1,_0x23de2e,_0x35989e,_0x5b7273,_0x36bab3){const _0x51496d=_0x2db2ce;if('string'!=typeof _0x51a0d1)throw new _0x5c22ea(_0x3a91a5[_0x51496d(0x5e4)],_0x51496d(0x414));super(_0x15db84,_0x51a0d1),this[_0x51496d(0x490)]=_0x15db84,this[_0x51496d(0x255)]=_0x23de2e,this[_0x51496d(0x6e1)]=_0x35989e,this[_0x51496d(0x67e)]=_0x5b7273;const _0x58eb09=_0x51496d(0x4a8)+this['vendorId']+_0x51496d(0x4a8)+this[_0x51496d(0x255)]+'ccc'+_0x51a0d1;this[_0x51496d(0x3d7)]=new _0x36bab3(_0x58eb09),this[_0x51496d(0x54c)]();}[_0x2db2ce(0x39c)](){const _0x3c8507=_0x2db2ce;this[_0x3c8507(0x54c)]();}[_0x2db2ce(0x537)](){const _0x33236a=_0x2db2ce;return _0x26993c['ContentType'][_0x33236a(0x6c5)];}async[_0x2db2ce(0x17f)](_0x16358e){const _0x41e5e9=_0x2db2ce;_0x16358e&&(this[_0x41e5e9(0x2d0)]=_0x16358e),this['isSyncing']=!0x0;try{const _0x1d937b=await this['objectStoreConnector'][_0x41e5e9(0x118)](_0x2c7066),_0x572d77=await _0x1d937b[_0x41e5e9(0x1dc)]();this['lastTransactionId']=_0x572d77;}catch(_0x1448d1){}this[_0x41e5e9(0x2b8)]=this[_0x41e5e9(0x40c)](async(_0x2136ff,_0x17b334)=>{const _0x2c01f6=_0x41e5e9;if(!(_0x17b334 instanceof File))try{if(_0x17b334['payloadType']===_0x36a469[_0x2c01f6(0x5dc)])return void this[_0x2c01f6(0x741)](_0x17b334);this[_0x2c01f6(0x20c)](_0x17b334);}catch(_0x5ec407){if(_0x5ec407 instanceof _0xb694a1)throw _0x5ec407;throw new _0xb694a1(_0xb694a1[_0x2c01f6(0x549)][_0x2c01f6(0x277)],{'payload':_0x17b334});}}),await this['syncTransactions'](),_0x16358e?await this[_0x41e5e9(0x2f7)]():this[_0x41e5e9(0x668)](),this[_0x41e5e9(0x54c)]();}[_0x2db2ce(0x1e7)](){const _0x2a6747=_0x2db2ce;this[_0x2a6747(0x2b8)]?.(),clearTimeout(this[_0x2a6747(0x177)]),delete this[_0x2a6747(0x177)],super[_0x2a6747(0x1e7)]();}['close'](){const _0x3ecb85=_0x2db2ce;this['systemTopic']?.[_0x3ecb85(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x3ecb85(0x47e)],'content':{'type':_0x1ce536[_0x3ecb85(0x282)],'label':this[_0x3ecb85(0x3a1)]}});}[_0x2db2ce(0x175)](_0x398eaf){const _0x2b2e49=_0x2db2ce;if(this[_0x2b2e49(0x46a)])throw new _0x5c22ea(_0x3a91a5[_0x2b2e49(0xf4)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x2b2e49(0x46a)]=this[_0x2b2e49(0x6af)]['subscribe'](_0x398eaf),this[_0x2b2e49(0x287)]||this[_0x2b2e49(0x6af)]['publish']({'event':_0x26993c[_0x2b2e49(0x676)][_0x2b2e49(0x71b)],'payload':null});}[_0x2db2ce(0x531)](){const _0x293739=_0x2db2ce;this[_0x293739(0x46a)]?.(),this[_0x293739(0x46a)]=void 0x0;}['publish'](_0x5e9950){const _0x2f3ca5=_0x2db2ce;switch(_0x5e9950[_0x2f3ca5(0x2d1)]){case _0x26993c[_0x2f3ca5(0x735)][_0x2f3ca5(0x22c)]:return this[_0x2f3ca5(0x143)](_0x5e9950['file'],_0x5e9950['path'],_0x5e9950[_0x2f3ca5(0x430)]);case _0x26993c['PayloadAction']['Folder']:return this[_0x2f3ca5(0x65e)](_0x5e9950[_0x2f3ca5(0x103)]);case _0x26993c[_0x2f3ca5(0x735)][_0x2f3ca5(0x2c1)]:return this[_0x2f3ca5(0x140)](_0x5e9950[_0x2f3ca5(0x103)],_0x5e9950[_0x2f3ca5(0x39f)]);default:throw new _0x5c22ea(_0x3a91a5['ObjectStoreInvalidPayload'],_0x2f3ca5(0x3d4)+_0x5e9950);}}async[_0x2db2ce(0x68f)](_0x1c96d8){const _0xd563b2=_0x2db2ce;try{const _0x117a82=(0x0,_0x25a06c['v4'])(),_0x291c03=this[_0xd563b2(0x2f5)],_0x5a8400={'payloadType':_0x36a469[_0xd563b2(0x658)],'action':_0x137c39[_0xd563b2(0x5a3)],'id':_0x117a82,'parentId':_0x291c03,'path':_0x1c96d8};await this[_0xd563b2(0x690)](_0x5a8400);const _0x1514c2=await this[_0xd563b2(0x51c)](_0x1c96d8);await this['send'](_0x5a8400),_0x4aa571[_0xd563b2(0x6a7)](_0x2fe3df[_0xd563b2(0x163)],{'type':_0xd563b2(0x68f),'label':this[_0xd563b2(0x3a1)],'nodeId':this[_0xd563b2(0x490)]['getId'](),'nodeType':this[_0xd563b2(0x490)][_0xd563b2(0x26f)],'clusterId':this[_0xd563b2(0x255)],'kind':_0x1514c2,'path':_0x1c96d8}),this[_0xd563b2(0x249)]+=0x1,this[_0xd563b2(0x54c)]();}catch(_0x2834ea){if(_0x2834ea instanceof _0xb694a1)throw new _0x5c22ea(_0x3a91a5['ObjectStoreNotInSync'],_0xd563b2(0x238));throw new _0x5c22ea(_0x3a91a5['ObjectStoreInvalidPath'],_0xd563b2(0x3f4)+_0x1c96d8);}}async[_0x2db2ce(0x118)](_0x3d9484){const _0x5f3488=_0x2db2ce;_0x4aa571[_0x5f3488(0x6a7)](_0x2fe3df[_0x5f3488(0x163)],{'type':_0x5f3488(0x118),'label':this['label'],'nodeId':this['localNode'][_0x5f3488(0x28c)](),'nodeType':this[_0x5f3488(0x490)]['type'],'clusterId':this['clusterId'],'path':_0x3d9484}),this[_0x5f3488(0x400)]+=0x1,this['sendStats']();try{return await this[_0x5f3488(0x3d7)][_0x5f3488(0x118)](_0x3d9484);}catch(_0x320459){try{await this[_0x5f3488(0x3d7)]['get'](_0x3d9484+_0x121218);}catch(_0x28ba91){throw new _0x5c22ea(_0x3a91a5[_0x5f3488(0x40e)],_0x5f3488(0x24f)+_0x3d9484);}throw new _0x5c22ea(_0x3a91a5[_0x5f3488(0x5a6)],_0x5f3488(0x5a9));}}async[_0x2db2ce(0x3cf)](_0x21b483,_0x545e3d){const _0x462e89=_0x2db2ce,{recursive:_0x1b05e1=!0x1,includeSyncingFiles:_0x5d86a2=!0x1}=_0x545e3d??{};_0x4aa571[_0x462e89(0x6a7)](_0x2fe3df[_0x462e89(0x163)],{'type':_0x462e89(0x3cf),'label':this['label'],'nodeId':this[_0x462e89(0x490)][_0x462e89(0x28c)](),'nodeType':this[_0x462e89(0x490)][_0x462e89(0x26f)],'clusterId':this['clusterId'],'path':_0x21b483}),this[_0x462e89(0x400)]+=0x1,this[_0x462e89(0x54c)]();try{const _0x18ba86=await this[_0x462e89(0x3d7)]['list'](_0x21b483,_0x1b05e1);return this['processList'](_0x18ba86,{'recursive':_0x1b05e1,'includeSyncingFiles':_0x5d86a2});}catch(_0x365fe6){throw new _0x5c22ea(_0x3a91a5[_0x462e89(0x40e)],_0x462e89(0x6ea)+_0x21b483);}}[_0x2db2ce(0x459)](_0xf467ad){const _0x49100b=_0x2db2ce;for(const _0x543436 of this[_0x49100b(0x51b)][_0x49100b(0x3ac)]())this[_0x49100b(0x3a6)](_0x543436,[_0xf467ad]);}[_0x2db2ce(0x570)](_0xc07bc9){const _0x5f5969=_0x2db2ce,_0x938c4=this['pendingFilesSyncing'][_0x5f5969(0x118)](_0xc07bc9);if(_0x938c4){for(const [_0x26624c,_0x5c5cb9]of _0x938c4[_0x5f5969(0x3ac)]())this['sendFileRequestPayload'](_0x26624c,_0x5c5cb9);this[_0x5f5969(0x2cb)][_0x5f5969(0x176)](_0xc07bc9);}}[_0x2db2ce(0x668)](){const _0x427800=_0x2db2ce;this['isSyncing']&&(this[_0x427800(0x287)]=!0x1,this[_0x427800(0x6af)]['publish']({'event':_0x26993c[_0x427800(0x676)][_0x427800(0x71b)],'payload':null}));}async['processList'](_0x30240b,{includeSyncingFiles:_0x1c3dc0=!0x1}){const _0x328193=_0x2db2ce;for(const _0x1668e5 of _0x30240b)if(_0x1668e5[_0x328193(0x114)]===_0x26993c[_0x328193(0x6d3)][_0x328193(0x52a)]&&(_0x1668e5['entries']=await this[_0x328193(0x288)](_0x1668e5['entries']??[],{'includeSyncingFiles':_0x1c3dc0})),_0x1668e5['name']!==_0x2c7066){if(_0x1668e5[_0x328193(0x662)][_0x328193(0x1de)](_0x121218)){if(!_0x1c3dc0){_0x30240b['splice'](_0x30240b[_0x328193(0x184)](_0x1668e5),0x1);continue;}const _0x57d2ae=_0x1668e5;if(_0x57d2ae[_0x328193(0x662)]=_0x57d2ae[_0x328193(0x662)]['replace'](_0x121218,''),_0x57d2ae[_0x328193(0x227)]=_0x57d2ae['name']['replace'](_0x121218,''),await this[_0x328193(0x4bf)](_0x57d2ae[_0x328193(0x227)])){_0x30240b['splice'](_0x30240b[_0x328193(0x184)](_0x1668e5),0x1),_0x30240b[_0x328193(0x3c6)](_0x40f3d4=>_0x40f3d4['pathName']===_0x57d2ae[_0x328193(0x227)])[_0x328193(0x439)]=_0x26993c[_0x328193(0x2a5)][_0x328193(0x1f8)];continue;}_0x57d2ae[_0x328193(0x439)]=_0x26993c[_0x328193(0x2a5)][_0x328193(0x448)];}}else _0x30240b[_0x328193(0x20d)](_0x30240b[_0x328193(0x184)](_0x1668e5),0x1);return _0x30240b;}async['publishFile'](_0x2816bc,_0x482c19,_0x44cb8a=!0x1){const _0x115987=_0x2db2ce;try{const _0x592fcd=(0x0,_0x25a06c['v4'])(),_0x153606=await _0x518ef6(_0x2816bc),_0x3e472d={'payloadType':_0x36a469[_0x115987(0x658)],'action':_0x137c39[_0x115987(0x4e9)],'id':_0x592fcd,'parentId':this[_0x115987(0x2f5)],'answererId':this[_0x115987(0x490)][_0x115987(0x28c)](),'name':_0x2816bc['name'],'type':_0x2816bc[_0x115987(0x26f)],'path':_0x482c19??'/','skipEncryption':_0x44cb8a,'checksum':_0x153606};await this[_0x115987(0x690)](_0x3e472d),this[_0x115987(0x2d0)]?await this['writeFile'](_0x2816bc,_0x482c19,_0x44cb8a):await this['createPendingFileWrite'](_0x2816bc[_0x115987(0x662)],_0x482c19??'/',{'checksum':_0x153606,'skipEncryption':_0x44cb8a}),await this[_0x115987(0x71f)](_0x2816bc,_0x3e472d),_0x4aa571[_0x115987(0x6a7)](_0x2fe3df['ObjectStorage'],{'type':_0x115987(0x536),'label':this[_0x115987(0x3a1)],'nodeId':this[_0x115987(0x490)][_0x115987(0x28c)](),'nodeType':this['localNode'][_0x115987(0x26f)],'clusterId':this[_0x115987(0x255)],'kind':_0x26993c[_0x115987(0x6d3)][_0x115987(0x22c)],'path':_0x482c19,'fileName':_0x2816bc[_0x115987(0x662)],'fileType':_0x2816bc['type'],'size':_0x2816bc[_0x115987(0x703)]}),this[_0x115987(0x249)]+=0x1,this['sendStats']();}catch(_0x22b37a){if(_0x22b37a instanceof _0xb694a1)throw new _0x5c22ea(_0x3a91a5[_0x115987(0x5a6)],_0x115987(0x5a9));throw new _0x5c22ea(_0x3a91a5['ObjectStoreInvalidPath'],'Cannot\x20publish\x20file:\x20'+_0x482c19);}}async[_0x2db2ce(0x65e)](_0xf82eb4){const _0x252118=_0x2db2ce;try{const _0x4e7150=(0x0,_0x25a06c['v4'])(),_0x306145=this['lastTransactionId'],_0x902cb8={'payloadType':_0x36a469[_0x252118(0x658)],'action':_0x137c39[_0x252118(0x337)],'id':_0x4e7150,'parentId':_0x306145,'path':_0xf82eb4};await this['publishTransaction'](_0x902cb8),await this[_0x252118(0x3d7)][_0x252118(0x73e)](_0xf82eb4),await this['send'](_0x902cb8),_0x4aa571[_0x252118(0x6a7)](_0x2fe3df[_0x252118(0x163)],{'type':'publish','label':this[_0x252118(0x3a1)],'nodeId':this[_0x252118(0x490)][_0x252118(0x28c)](),'nodeType':this[_0x252118(0x490)][_0x252118(0x26f)],'clusterId':this['clusterId'],'kind':_0x26993c[_0x252118(0x6d3)][_0x252118(0x52a)],'path':_0xf82eb4}),this['writes']+=0x1,this[_0x252118(0x54c)]();}catch(_0x2cdcff){if(_0x2cdcff instanceof _0xb694a1)throw new _0x5c22ea(_0x3a91a5[_0x252118(0x5a6)],_0x252118(0x5a9));throw new _0x5c22ea(_0x3a91a5[_0x252118(0x40e)],_0x252118(0x3ff)+_0xf82eb4);}}async[_0x2db2ce(0x140)](_0xb89b4a,_0x5a1b27){const _0x5932f3=_0x2db2ce;try{const _0x47b648=(0x0,_0x25a06c['v4'])(),_0x25e852=this[_0x5932f3(0x2f5)],_0xc6f1ad={'payloadType':_0x36a469[_0x5932f3(0x658)],'action':_0x137c39['Move'],'id':_0x47b648,'parentId':_0x25e852,'path':_0xb89b4a,'newPath':_0x5a1b27};await this[_0x5932f3(0x690)](_0xc6f1ad);const _0x149380=await this[_0x5932f3(0x41f)](_0xb89b4a,_0x5a1b27);await this[_0x5932f3(0x3a6)](_0xc6f1ad),_0x4aa571[_0x5932f3(0x6a7)](_0x2fe3df[_0x5932f3(0x163)],{'type':_0x5932f3(0x3ce),'label':this[_0x5932f3(0x3a1)],'nodeId':this[_0x5932f3(0x490)][_0x5932f3(0x28c)](),'nodeType':this[_0x5932f3(0x490)][_0x5932f3(0x26f)],'clusterId':this[_0x5932f3(0x255)],'kind':_0x149380,'path':_0xb89b4a,'newPath':_0x5a1b27}),this[_0x5932f3(0x249)]+=0x1,this[_0x5932f3(0x54c)]();}catch(_0x2abd88){if(_0x2abd88 instanceof _0xb694a1)throw new _0x5c22ea(_0x3a91a5[_0x5932f3(0x5a6)],_0x5932f3(0x5a9));throw new _0x5c22ea(_0x3a91a5[_0x5932f3(0x40e)],_0x5932f3(0x1e8)+_0xb89b4a);}}async[_0x2db2ce(0x20c)](_0x257d83){const _0x56d1e9=_0x2db2ce;if(this[_0x56d1e9(0x2f5)]&&_0x257d83[_0x56d1e9(0x29b)]!==this[_0x56d1e9(0x2f5)]&&_0x257d83['id']!==this[_0x56d1e9(0x2f5)]){if(!_0x257d83[_0x56d1e9(0x29b)])throw new _0xb694a1(_0xb694a1[_0x56d1e9(0x549)][_0x56d1e9(0x277)]);this[_0x56d1e9(0x1ff)][_0x56d1e9(0x3bc)](_0x257d83['parentId'],_0x257d83);}else{try{await this[_0x56d1e9(0x751)](_0x257d83);}catch(_0x79fc98){}await this[_0x56d1e9(0x51a)](_0x257d83['id']),await this[_0x56d1e9(0x2b6)](_0x257d83['id']);}}async[_0x2db2ce(0x751)](_0x438cf1){const _0x122247=_0x2db2ce;switch(_0x438cf1[_0x122247(0x2d1)]){case _0x137c39[_0x122247(0x4e9)]:await this[_0x122247(0x2e8)](_0x438cf1);break;case _0x137c39[_0x122247(0x337)]:await this[_0x122247(0x281)](_0x438cf1);break;case _0x137c39[_0x122247(0x2c1)]:await this[_0x122247(0x34e)](_0x438cf1);break;case _0x137c39[_0x122247(0x5a3)]:await this[_0x122247(0x4ab)](_0x438cf1);break;default:throw new _0xb694a1(_0xb694a1[_0x122247(0x549)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x438cf1});}}async[_0x2db2ce(0x2b6)](_0x35016d){const _0x247a7f=_0x2db2ce;if(this[_0x247a7f(0x1ff)]['has'](_0x35016d)){const _0x226b17=this[_0x247a7f(0x1ff)][_0x247a7f(0x118)](_0x35016d);this[_0x247a7f(0x1ff)][_0x247a7f(0x176)](_0x35016d),await this[_0x247a7f(0x20c)](_0x226b17);}}async[_0x2db2ce(0x741)](_0x2adbd8){const _0x460306=_0x2db2ce;switch(_0x2adbd8[_0x460306(0x2d1)]){case _0x137c39[_0x460306(0x28b)]:return this[_0x460306(0x42d)](_0x2adbd8);case _0x137c39[_0x460306(0x225)]:return this[_0x460306(0x3c8)](_0x2adbd8);case _0x137c39[_0x460306(0x418)]:return this['handleFileSync'](_0x2adbd8);case _0x137c39[_0x460306(0x58d)]:return this[_0x460306(0x2e8)](_0x2adbd8);default:throw new _0xb694a1(_0xb694a1[_0x460306(0x549)][_0x460306(0x277)],{'payload':_0x2adbd8});}}async['handleFileWrite'](_0x3d74cf){const _0x5c4546=_0x2db2ce;if(!_0x3d74cf['data']||void 0x0===_0x3d74cf[_0x5c4546(0x66a)]||!_0x3d74cf[_0x5c4546(0x6d6)])return void await this[_0x5c4546(0x1cc)](_0x3d74cf[_0x5c4546(0x662)],_0x3d74cf['path'],{'checksum':_0x3d74cf[_0x5c4546(0x19e)],'skipEncryption':_0x3d74cf[_0x5c4546(0x430)]});const _0x51d826=_0x5462b9(_0x3d74cf[_0x5c4546(0x103)],_0x3d74cf[_0x5c4546(0x662)]);this[_0x5c4546(0x4e7)][_0x5c4546(0x40d)](_0x51d826)||(this[_0x5c4546(0x4e7)][_0x5c4546(0x3bc)](_0x51d826,[]),await this['createPendingFileWrite'](_0x3d74cf[_0x5c4546(0x662)],_0x3d74cf[_0x5c4546(0x103)],{'checksum':_0x3d74cf[_0x5c4546(0x19e)],'skipEncryption':_0x3d74cf['skipEncryption']})),this['setPendingFileSyncingPayload'](_0x3d74cf,_0x51d826);const _0x418cce=this[_0x5c4546(0x4e7)][_0x5c4546(0x118)](_0x51d826);if(_0x418cce[_0x3d74cf[_0x5c4546(0x66a)]]=_0x3d74cf['data'],_0x418cce[_0x5c4546(0x6f6)](_0x511efb=>_0x511efb)['length']<_0x3d74cf[_0x5c4546(0x6d6)])return;const _0x23c22a=_0x5072c3(_0x418cce,_0x3d74cf[_0x5c4546(0x662)],_0x3d74cf[_0x5c4546(0x26f)]);this['syncContent']&&(await this[_0x5c4546(0x560)](_0x23c22a,_0x3d74cf['path'],_0x3d74cf[_0x5c4546(0x430)]),await this[_0x5c4546(0x44c)](_0x3d74cf),_0x4aa571['logServiceEvent'](_0x2fe3df[_0x5c4546(0x163)],{'type':_0x5c4546(0x17f),'label':this['label'],'nodeId':this[_0x5c4546(0x490)][_0x5c4546(0x28c)](),'nodeType':this[_0x5c4546(0x490)][_0x5c4546(0x26f)],'clusterId':this['clusterId'],'kind':_0x26993c[_0x5c4546(0x6d3)][_0x5c4546(0x22c)],'path':_0x3d74cf[_0x5c4546(0x103)],'fileName':_0x3d74cf[_0x5c4546(0x662)],'fileType':_0x3d74cf['type'],'size':_0x23c22a[_0x5c4546(0x703)]})),this[_0x5c4546(0x4e7)][_0x5c4546(0x176)](_0x51d826);const _0x4c870b=this[_0x5c4546(0x35c)][_0x5c4546(0x118)](_0x3d74cf[_0x5c4546(0x103)])??[];for(const _0x523484 of _0x4c870b)await this[_0x5c4546(0x751)](_0x523484);this['pendingFilesTransactions'][_0x5c4546(0x176)](_0x3d74cf[_0x5c4546(0x103)]),this[_0x5c4546(0x6af)]['publish']({'event':_0x26993c['StorageEventType']['FileWrite'],'payload':{'file':{'kind':_0x26993c[_0x5c4546(0x6d3)][_0x5c4546(0x22c)],'path':_0x3d74cf[_0x5c4546(0x103)],'type':_0x23c22a[_0x5c4546(0x26f)],'size':_0x23c22a[_0x5c4546(0x703)],'name':_0x3d74cf['name'],'pathName':_0x51d826,'status':_0x26993c[_0x5c4546(0x2a5)][_0x5c4546(0x44f)]}}});}async[_0x2db2ce(0x281)](_0x4b105e){const _0x1524e8=_0x2db2ce;await this[_0x1524e8(0x3d7)]['createFolder'](_0x4b105e[_0x1524e8(0x103)]);const [_0x39b7b1,_0x5d90aa]=_0x1dbf9e(_0x4b105e['path']);this['eventListener']['publish']({'event':_0x26993c[_0x1524e8(0x676)][_0x1524e8(0x337)],'payload':{'folder':{'kind':_0x26993c['ObjectKind']['Folder'],'name':_0x5d90aa,'path':_0x39b7b1,'pathName':_0x4b105e[_0x1524e8(0x103)]}}});}async[_0x2db2ce(0x4ab)](_0x1961c5){const _0x99e29c=_0x2db2ce;if(!this[_0x99e29c(0x291)](_0x1961c5))return;const _0x45f44f=await this[_0x99e29c(0x51c)](_0x1961c5[_0x99e29c(0x103)]),[_0x2775fa,_0x5e6a92]=_0x1dbf9e(_0x1961c5[_0x99e29c(0x103)]);this['eventListener']['publish']({'event':_0x45f44f===_0x26993c['ObjectKind']['Folder']?_0x26993c[_0x99e29c(0x676)][_0x99e29c(0x269)]:_0x26993c[_0x99e29c(0x676)][_0x99e29c(0x527)],'payload':{'name':_0x5e6a92,'path':_0x2775fa,'pathName':_0x1961c5[_0x99e29c(0x103)]}});}async['handleObjectMove'](_0x1e8c12){const _0x593527=_0x2db2ce;if(!this[_0x593527(0x291)](_0x1e8c12))return this[_0x593527(0x5a2)]['set'](_0x1e8c12['newPath'],this[_0x593527(0x5a2)]['get'](_0x1e8c12[_0x593527(0x103)])??_0x1e8c12[_0x593527(0x103)]),void this[_0x593527(0x5a2)][_0x593527(0x176)](_0x1e8c12[_0x593527(0x103)]);this[_0x593527(0x5a2)][_0x593527(0x176)](_0x1e8c12['path']);const _0x98c3c3=await this[_0x593527(0x3d7)][_0x593527(0x41f)](_0x1e8c12[_0x593527(0x103)],_0x1e8c12[_0x593527(0x39f)]),[_0x359acc,_0x31e881]=_0x1dbf9e(_0x1e8c12['path']),[_0xa6f0d1,_0x22003b]=_0x1dbf9e(_0x1e8c12[_0x593527(0x39f)]);this['eventListener'][_0x593527(0x536)]({'event':_0x98c3c3===_0x26993c[_0x593527(0x6d3)][_0x593527(0x52a)]?_0x26993c[_0x593527(0x676)]['FolderMove']:_0x26993c[_0x593527(0x676)][_0x593527(0x43f)],'payload':{'name':_0x22003b,'path':_0xa6f0d1,'pathName':_0x1e8c12[_0x593527(0x39f)],'oldName':_0x31e881,'oldPath':_0x359acc,'oldPathName':_0x1e8c12['path']}});}['shouldProcessTransaction'](_0x56f77e){const _0x3fb315=_0x2db2ce,_0x1b237f=this[_0x3fb315(0x5a2)][_0x3fb315(0x118)](_0x56f77e[_0x3fb315(0x103)])??_0x56f77e[_0x3fb315(0x103)];let _0x1e870b=!0x1;for(const _0x4f0a99 of this[_0x3fb315(0x4e7)][_0x3fb315(0x48f)]())if(_0x4f0a99['startsWith'](_0x1b237f)){const _0x35eb86=this[_0x3fb315(0x35c)][_0x3fb315(0x118)](_0x4f0a99)??[];_0x35eb86[_0x3fb315(0x23d)](_0x56f77e),this[_0x3fb315(0x35c)][_0x3fb315(0x3bc)](_0x4f0a99,_0x35eb86),_0x1e870b=!0x0;}return!_0x1e870b;}async['publishTransaction'](_0x4f2de3){const _0x133f20=_0x2db2ce;if(!_0x4f2de3['id'])throw new _0xb694a1(_0xb694a1[_0x133f20(0x549)][_0x133f20(0x277)],{'message':_0x133f20(0xde)});await this[_0x133f20(0x67e)][_0x133f20(0x6b2)](_0x4f2de3,this[_0x133f20(0x3a1)],this[_0x133f20(0x2f5)]),await this[_0x133f20(0x51a)](_0x4f2de3['id']);}async[_0x2db2ce(0x51a)](_0x58212f){const _0x3a1f97=_0x2db2ce;this[_0x3a1f97(0x2f5)]=_0x58212f;const _0x1cc311=new File([new Blob([this[_0x3a1f97(0x2f5)]])],_0x2c7066,{'type':_0x3a1f97(0x539)});await this[_0x3a1f97(0x560)](_0x1cc311,'/');}async[_0x2db2ce(0x42d)](_0x589b35){const _0x2de78a=_0x2db2ce;try{const _0x969cf5=await this[_0x2de78a(0x118)](_0x589b35[_0x2de78a(0x103)]+'/'+_0x589b35[_0x2de78a(0x662)]);if(await _0x518ef6(_0x969cf5)!==_0x589b35[_0x2de78a(0x19e)])return;_0x589b35[_0x2de78a(0x6e3)]=this[_0x2de78a(0x490)][_0x2de78a(0x28c)](),_0x589b35['action']=_0x137c39['RequestAccepted'],await this[_0x2de78a(0x3a6)](_0x589b35,[_0x589b35['sourceId']]);}catch(_0x4cb85d){}}async['handleFileRequestAnswer'](_0xc61421){const _0x1f1a6a=_0x2db2ce,_0x44856d=_0x5462b9(_0xc61421[_0x1f1a6a(0x103)],_0xc61421[_0x1f1a6a(0x662)]);if(!this[_0x1f1a6a(0x51b)][_0x1f1a6a(0x40d)](_0x44856d))return;const _0x2ad222=this[_0x1f1a6a(0x51b)][_0x1f1a6a(0x118)](_0x44856d);_0x2ad222[_0x1f1a6a(0x2d1)]=_0x137c39[_0x1f1a6a(0x418)];const _0x55c846=_0xc61421[_0x1f1a6a(0x6e3)];if(!_0x55c846)throw new _0xb694a1(_0xb694a1['codes'][_0x1f1a6a(0x277)],{'message':_0x1f1a6a(0x362)});this[_0x1f1a6a(0x51b)][_0x1f1a6a(0x176)](_0x44856d),this['pendingFilesSyncing'][_0x1f1a6a(0x40d)](_0x55c846)||this[_0x1f1a6a(0x2cb)][_0x1f1a6a(0x3bc)](_0x55c846,new Map()),this[_0x1f1a6a(0x2cb)]['get'](_0x55c846)[_0x1f1a6a(0x3bc)](_0x44856d,[_0x2ad222,this[_0x1f1a6a(0x388)](_0x55c846,_0x44856d)]),_0x2ad222[_0x1f1a6a(0x6e3)]=_0x55c846,this['send'](_0x2ad222,[_0x55c846]);}async[_0x2db2ce(0x67a)](_0x5abafa){const _0xc33b82=_0x2db2ce,_0x595bfb=_0x5462b9(_0x5abafa[_0xc33b82(0x103)],_0x5abafa[_0xc33b82(0x662)]),_0x466f2c=await this['get'](_0x595bfb),_0x1c0499={..._0x5abafa,'answererId':this[_0xc33b82(0x490)]['getId'](),'action':_0x137c39[_0xc33b82(0x58d)]};await this[_0xc33b82(0x71f)](_0x466f2c,_0x1c0499,[_0x5abafa[_0xc33b82(0x133)]]);}async[_0x2db2ce(0x71f)](_0x3e02c2,_0x273208,_0x1dbd7d){const _0x5b612f=_0x2db2ce,_0x473602=await _0x5c7b0d(_0x3e02c2);for(const [_0x4b65c3,_0x11ec10]of _0x473602[_0x5b612f(0x755)]()){const _0x770f8d={..._0x273208,'type':_0x3e02c2[_0x5b612f(0x26f)],'data':_0x11ec10,'index':_0x4b65c3,'total':_0x473602[_0x5b612f(0x48d)]};this['send'](_0x770f8d,_0x1dbd7d);}}async['deletePendingFile'](_0x3bb659){const _0xc1cb97=_0x2db2ce;try{const _0x3e9775=_0x5462b9(_0x3bb659[_0xc1cb97(0x103)],_0x3bb659[_0xc1cb97(0x662)]),_0x4f83a0=_0x3e9775+_0x121218;await this[_0xc1cb97(0x51c)](_0x4f83a0);const [,_0x2f81a3]=this[_0xc1cb97(0x2cb)][_0xc1cb97(0x118)](_0x3bb659[_0xc1cb97(0x6e3)])?.[_0xc1cb97(0x118)](_0x3e9775)??[];_0x2f81a3&&(clearTimeout(_0x2f81a3),this['pendingFilesSyncing'][_0xc1cb97(0x118)](_0x3bb659[_0xc1cb97(0x6e3)])['delete'](_0x3e9775));}catch(_0x577a5c){}0x0===this['pendingFilesSyncing']['get'](_0x3bb659[_0xc1cb97(0x6e3)])?.[_0xc1cb97(0x703)]&&this[_0xc1cb97(0x2cb)][_0xc1cb97(0x176)](_0x3bb659[_0xc1cb97(0x6e3)]),0x0===this[_0xc1cb97(0x2cb)][_0xc1cb97(0x703)]&&0x0===this[_0xc1cb97(0x51b)]['size']&&this[_0xc1cb97(0x668)]();}async[_0x2db2ce(0x3de)](){const _0x2775cd=_0x2db2ce,_0x337cc8=await this[_0x2775cd(0x67e)]['getTransactions'](this[_0x2775cd(0x3a1)],this[_0x2775cd(0x2f5)]);for(const _0x4a2510 of _0x337cc8)await this[_0x2775cd(0x20c)](_0x4a2510);}async[_0x2db2ce(0x2f7)](){const _0xa522cf=_0x2db2ce,_0x29d909=await this[_0xa522cf(0x3cf)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x2908e8=async _0x51ceee=>{const _0x39f635=_0xa522cf;for(const _0x271283 of _0x51ceee){if(_0x271283['kind']===_0x26993c[_0x39f635(0x6d3)]['Folder']){_0x271283[_0x39f635(0x755)]&&_0x271283[_0x39f635(0x755)][_0x39f635(0x48d)]>0x0&&await _0x2908e8(_0x271283[_0x39f635(0x755)]);continue;}if(!_0x271283[_0x39f635(0x662)]['endsWith'](_0x121218))continue;const _0x45b89f=await this[_0x39f635(0x118)](_0x271283[_0x39f635(0x227)]),_0x5ad716=JSON[_0x39f635(0x100)](await _0x45b89f[_0x39f635(0x1dc)]()),_0x239111=_0x271283[_0x39f635(0x662)][_0x39f635(0x4c1)](_0x121218,''),_0x53cf1e={'payloadType':_0x36a469[_0x39f635(0x5dc)],'action':_0x137c39['RequestFile'],'sourceId':this[_0x39f635(0x490)][_0x39f635(0x28c)](),'type':'','path':_0x271283[_0x39f635(0x103)],'name':_0x239111,'checksum':_0x5ad716[_0x39f635(0x19e)],'skipEncryption':_0x5ad716[_0x39f635(0x430)]},_0x43c191=_0x5462b9(_0x271283[_0x39f635(0x103)],_0x239111);this[_0x39f635(0x51b)]['set'](_0x43c191,_0x53cf1e);}};await _0x2908e8(_0x29d909),0x0===this[_0xa522cf(0x51b)][_0xa522cf(0x703)]&&0x0===this[_0xa522cf(0x2cb)]['size']&&this['completeSync']();}async['createPendingFileWrite'](_0x25e497,_0x1dbe82,_0x33dad2){const _0x4dec89=_0x2db2ce,_0x30648=new File([new Blob([JSON[_0x4dec89(0x5df)](_0x33dad2)])],''+_0x25e497+_0x121218,{'type':'text/plain'});await this[_0x4dec89(0x560)](_0x30648,_0x1dbe82);}['getOrResetPendingFileTimeout'](_0xd72e9,_0x487986){const _0x3bd24d=_0x2db2ce,[_0x3f685a,_0x3848d6]=this[_0x3bd24d(0x2cb)][_0x3bd24d(0x118)](_0xd72e9)?.[_0x3bd24d(0x118)](_0x487986)??[];return _0x3848d6&&clearTimeout(_0x3848d6),setTimeout(()=>{const _0x446f3c=_0x3bd24d,[_0x3e2a94,_0x54fa40]=this[_0x446f3c(0x2cb)][_0x446f3c(0x118)](_0xd72e9)[_0x446f3c(0x118)](_0x487986);this[_0x446f3c(0x4db)](_0x3e2a94,_0x54fa40);},0xea60);}async['sendFileRequestPayload'](_0x961c60,_0x37d336){const _0xfd5b06=_0x2db2ce;clearTimeout(_0x37d336),_0x961c60['action']=_0x137c39[_0xfd5b06(0x28b)],this[_0xfd5b06(0x51b)][_0xfd5b06(0x3bc)](_0x5462b9(_0x961c60[_0xfd5b06(0x103)],_0x961c60[_0xfd5b06(0x662)]),_0x961c60),this['send'](_0x961c60);}[_0x2db2ce(0x4c2)](_0x38e01b,_0x3632f3){const _0x37d98c=_0x2db2ce;if(!this['syncContent'])return;this[_0x37d98c(0x2cb)][_0x37d98c(0x40d)](_0x38e01b[_0x37d98c(0x6e3)])||this[_0x37d98c(0x2cb)][_0x37d98c(0x3bc)](_0x38e01b[_0x37d98c(0x6e3)],new Map());const [_0x2819a8]=this['pendingFilesSyncing'][_0x37d98c(0x118)](_0x38e01b[_0x37d98c(0x6e3)])[_0x37d98c(0x118)](_0x3632f3)??[{'payloadType':_0x36a469[_0x37d98c(0x5dc)],'action':_0x137c39['RequestFile'],'sourceId':this['localNode'][_0x37d98c(0x28c)](),'type':_0x38e01b['type'],'name':_0x38e01b[_0x37d98c(0x662)],'path':_0x38e01b[_0x37d98c(0x103)],'skipEncryption':_0x38e01b[_0x37d98c(0x430)],'checksum':_0x38e01b[_0x37d98c(0x19e)],'answererId':_0x38e01b[_0x37d98c(0x6e3)]}];this[_0x37d98c(0x2cb)][_0x37d98c(0x118)](_0x38e01b[_0x37d98c(0x6e3)])[_0x37d98c(0x3bc)](_0x3632f3,[_0x2819a8,this[_0x37d98c(0x388)](_0x38e01b[_0x37d98c(0x6e3)],_0x3632f3)]);}async[_0x2db2ce(0x560)](_0x110cca,_0x195ba8,_0x2c7bdb){const _0x8bc103=_0x2db2ce;await this[_0x8bc103(0x3d7)]['writeFile'](_0x110cca,_0x195ba8,_0x2c7bdb);}async[_0x2db2ce(0x51c)](_0x4d5967){const _0x348ce6=_0x2db2ce;try{return await this[_0x348ce6(0x3d7)][_0x348ce6(0x51c)](_0x4d5967);}catch(_0x9aecfe){return await this[_0x348ce6(0x3d7)]['deleteObject'](_0x4d5967+_0x121218);}}async[_0x2db2ce(0x41f)](_0x50b5c3,_0x1edb22){const _0x4d9b1f=_0x2db2ce;try{return await this[_0x4d9b1f(0x3d7)]['moveObject'](_0x50b5c3,_0x1edb22);}catch(_0x5ca877){return await this[_0x4d9b1f(0x3d7)][_0x4d9b1f(0x41f)](_0x50b5c3+_0x121218,_0x1edb22+_0x121218);}}[_0x2db2ce(0x54c)](){const _0x37982f=_0x2db2ce;this[_0x37982f(0x177)]&&clearTimeout(this[_0x37982f(0x177)]),this['debounceStats']=setTimeout(async()=>{const _0x7116f=_0x37982f;delete this[_0x7116f(0x177)];const _0x3ec753=await this[_0x7116f(0x3d7)][_0x7116f(0x580)]('/');this[_0x7116f(0x55f)]?.[_0x7116f(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x7116f(0x47e)],'content':{'type':_0x1ce536[_0x7116f(0x53e)],'label':this[_0x7116f(0x3a1)],'stats':{'timestamp':Date[_0x7116f(0x279)](),'storage':_0x3ec753,'messagesSent':this[_0x7116f(0x231)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x7116f(0x22e)],'writes':this[_0x7116f(0x249)],'reads':this[_0x7116f(0x400)]}}}),_0x4aa571[_0x7116f(0x1f9)](_0x2fe3df[_0x7116f(0x163)],_0x7116f(0x4a8)+this[_0x7116f(0x255)]+_0x7116f(0x4a8)+this[_0x7116f(0x3a1)],_0x3ec753);},0x1388);}async['syncedFileExists'](_0xbd913f){try{return await this['get'](_0xbd913f),!0x0;}catch(_0x118788){return!0x1;}}}class _0x72561f extends _0x552aba{[_0x2db2ce(0x490)];[_0x2db2ce(0x255)];[_0x2db2ce(0x2b8)]=new Map();[_0x2db2ce(0x177)];constructor(_0x30ad6a,_0x1fdfe9,_0x498009){const _0x32c9cf=_0x2db2ce;if(_0x32c9cf(0x6dc)!=typeof _0x1fdfe9)throw new _0x5c22ea(_0x3a91a5[_0x32c9cf(0x404)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x30ad6a,_0x1fdfe9),this[_0x32c9cf(0x490)]=_0x30ad6a,this['clusterId']=_0x498009,this[_0x32c9cf(0x54c)]();}[_0x2db2ce(0x39c)](){const _0x40bbc5=_0x2db2ce;this[_0x40bbc5(0x54c)]();}[_0x2db2ce(0x537)](){const _0x467d1b=_0x2db2ce;return _0x26993c[_0x467d1b(0x432)][_0x467d1b(0x732)];}[_0x2db2ce(0x536)](_0x60d4c2,_0x462464){const _0x21cfdb=_0x2db2ce;_0x4aa571[_0x21cfdb(0x24e)](_0x50f1bc[_0x21cfdb(0x732)],_0x21cfdb(0x58b),this[_0x21cfdb(0x490)][_0x21cfdb(0x28c)](),_0x60d4c2,_0x462464),_0x4aa571[_0x21cfdb(0x6a7)](_0x2fe3df[_0x21cfdb(0x732)],{'type':_0x21cfdb(0x536),'label':this[_0x21cfdb(0x3a1)],'nodeId':this[_0x21cfdb(0x490)][_0x21cfdb(0x28c)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x21cfdb(0x255)],'remoteIds':_0x462464??[],'contentType':_0x60d4c2 instanceof File?_0x26993c[_0x21cfdb(0x432)][_0x21cfdb(0x22c)]:_0x26993c['ContentType']['Data'],'size':_0x60d4c2 instanceof File?_0x60d4c2[_0x21cfdb(0x703)]:JSON[_0x21cfdb(0x5df)](_0x60d4c2)[_0x21cfdb(0x48d)]}),this[_0x21cfdb(0x54c)](),this['send'](_0x60d4c2,_0x462464);}[_0x2db2ce(0x175)](_0x360e03,_0x2737c6){const _0xd070a0=_0x2db2ce;if(this[_0xd070a0(0x2b8)][_0xd070a0(0x40d)](_0x360e03))throw new _0x5c22ea(_0x3a91a5[_0xd070a0(0x481)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this['unsubscribeHandler'][_0xd070a0(0x3bc)](_0x360e03,this[_0xd070a0(0x40c)]((_0x3e608e,_0x513269)=>{const _0x259e8a=_0xd070a0;_0x259e8a(0x1f6)===_0x360e03&&_0x513269 instanceof File||!('file'!==_0x360e03||_0x513269 instanceof File)||(_0x4aa571[_0x259e8a(0x24e)](_0x50f1bc[_0x259e8a(0x732)],_0x259e8a(0x5ad),this[_0x259e8a(0x490)][_0x259e8a(0x28c)](),_0x3e608e,_0x513269),_0x4aa571[_0x259e8a(0x6a7)](_0x2fe3df[_0x259e8a(0x732)],{'type':_0x259e8a(0x175),'label':this[_0x259e8a(0x3a1)],'nodeId':this['localNode'][_0x259e8a(0x28c)](),'nodeType':this[_0x259e8a(0x490)]['type'],'clusterId':this[_0x259e8a(0x255)],'remoteId':_0x3e608e,'contentType':_0x360e03,'size':_0x513269 instanceof File?_0x513269[_0x259e8a(0x703)]:JSON[_0x259e8a(0x5df)](_0x513269)[_0x259e8a(0x48d)]}),this[_0x259e8a(0x54c)](),_0x2737c6(_0x3e608e,_0x513269));}));}[_0x2db2ce(0x531)](_0x124df7){const _0x574ca4=_0x2db2ce;this[_0x574ca4(0x2b8)][_0x574ca4(0x118)](_0x124df7)?.(),this['unsubscribeHandler']['delete'](_0x124df7);}[_0x2db2ce(0x1e7)](){const _0x171c64=_0x2db2ce;this['unsubscribeHandler'][_0x171c64(0x405)](_0x306728=>_0x306728()),clearTimeout(this[_0x171c64(0x177)]),delete this[_0x171c64(0x177)],super[_0x171c64(0x1e7)]();}[_0x2db2ce(0x37c)](){const _0x1628f8=_0x2db2ce;this[_0x1628f8(0x55f)]?.[_0x1628f8(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6['Content'],'content':{'type':_0x1ce536[_0x1628f8(0x53d)],'label':this[_0x1628f8(0x3a1)]}});}[_0x2db2ce(0x54c)](){const _0x31fd25=_0x2db2ce;this[_0x31fd25(0x177)]&&clearTimeout(this[_0x31fd25(0x177)]),this[_0x31fd25(0x177)]=setTimeout(()=>{const _0x42affe=_0x31fd25;this['systemTopic']?.['publish']({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x42affe(0x47e)],'content':{'type':_0x1ce536['PubSubTopicStats'],'label':this['label'],'stats':{'timestamp':Date[_0x42affe(0x279)](),'storage':0x0,'messagesSent':this[_0x42affe(0x231)],'messagesReceived':this[_0x42affe(0x27a)],'bytesSent':this[_0x42affe(0x1c4)],'bytesReceived':this[_0x42affe(0x22e)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x27d337 extends _0x20b61e{[_0x2db2ce(0x490)];[_0x2db2ce(0x673)];[_0x2db2ce(0x3fa)];[_0x2db2ce(0x255)];[_0x2db2ce(0x2b8)];[_0x2db2ce(0xf0)];['updateDebounce'];['outgoingStreams']=new Map();['renderElement'];[_0x2db2ce(0x5c1)]=new Set();[_0x2db2ce(0xf3)];[_0x2db2ce(0x6c7)]=_0x8f7aff();[_0x2db2ce(0x6fb)]=new Map();constructor(_0x47a36b,_0xd7d792,_0x268961,_0x1afcb2,_0x373c60,_0x33dbdf){const _0xe0a586=_0x2db2ce;super(_0xd7d792,_0x268961,new MediaStream()),this[_0xe0a586(0x490)]=_0x47a36b,this['internalId']=_0x1afcb2,this[_0xe0a586(0x3fa)]=_0x373c60,this[_0xe0a586(0x255)]=_0x33dbdf,this[_0xe0a586(0x21d)]['getTracks']()['forEach'](_0x1aeee6=>this['setupTrackEndedListeners'](_0x1aeee6));}[_0x2db2ce(0x1e7)](){const _0x5dae5a=_0x2db2ce;this['outgoingStreams']['size']>0x0&&(this['outgoingStreams'][_0x5dae5a(0x405)](_0xe50ff4=>{const _0x57fbeb=_0x5dae5a;_0xe50ff4['unregisterSystemPublisher'](),_0xe50ff4[_0x57fbeb(0x1e7)]();}),this[_0x5dae5a(0x351)][_0x5dae5a(0x3c1)]()),this['trackEndedListeners'][_0x5dae5a(0x405)](_0x9cbdf2=>_0x9cbdf2()),this[_0x5dae5a(0x21d)][_0x5dae5a(0x359)]()[_0x5dae5a(0x405)](_0x2aa635=>this[_0x5dae5a(0x21d)][_0x5dae5a(0xf5)](_0x2aa635)),this['updateDebounce']&&(clearTimeout(this['updateDebounce']),delete this[_0x5dae5a(0x18d)]),this['resizeHandler']?.(),super[_0x5dae5a(0x1e7)]();}[_0x2db2ce(0x1c2)](_0x5d938c){const _0x31603f=_0x2db2ce;this[_0x31603f(0x2b8)]=_0x5d938c[_0x31603f(0x175)](({content:_0x5b24f0})=>{const _0x1cfada=_0x31603f;switch(_0x5b24f0[_0x1cfada(0x2d1)]){case _0x2add13[_0x1cfada(0x63b)]:if(_0x4aa571[_0x1cfada(0x24e)](_0x50f1bc['Subscription'],'Received\x20track',this[_0x1cfada(0x490)][_0x1cfada(0x28c)](),this['providerId']),_0x5b24f0['stream']['id']!==this['internalId']||_0x5b24f0['providerId']!==this[_0x1cfada(0xf3)])return;this['removeTrack'](_0x5b24f0[_0x1cfada(0x11a)][_0x1cfada(0x114)]),this['mediaStream'][_0x1cfada(0x2d3)](_0x5b24f0[_0x1cfada(0x11a)]);for(const [_0x497fc8,_0x339b6f]of this[_0x1cfada(0x351)]['entries']())try{_0x339b6f[_0x1cfada(0x2d3)](_0x5b24f0[_0x1cfada(0x11a)]);}catch(_0x283130){_0x339b6f[_0x1cfada(0x1e7)](),this[_0x1cfada(0x351)]['delete'](_0x497fc8);}this[_0x1cfada(0x479)](_0x5b24f0[_0x1cfada(0x11a)]),this[_0x1cfada(0x70e)](),'video'===_0x5b24f0[_0x1cfada(0x11a)]['kind']&&this[_0x1cfada(0x1ee)]&&(this[_0x1cfada(0x21d)]['active']?setTimeout(()=>this[_0x1cfada(0x1ee)]?.[_0x1cfada(0x71d)](),0x0):setTimeout(()=>this['renderElement']?.[_0x1cfada(0x251)](),0x0),this[_0x1cfada(0x2eb)]());break;case _0x2add13[_0x1cfada(0x51f)]:if(_0x5b24f0[_0x1cfada(0x62d)]['id']!==this[_0x1cfada(0x673)]||_0x5b24f0[_0x1cfada(0xf3)]!==this[_0x1cfada(0xf3)])return;this[_0x1cfada(0xf5)](_0x5b24f0[_0x1cfada(0x11a)][_0x1cfada(0x114)]),this['renderElement']&&'video'===_0x5b24f0[_0x1cfada(0x11a)][_0x1cfada(0x114)]&&(this[_0x1cfada(0xf0)]?.(),this[_0x1cfada(0x21d)][_0x1cfada(0x359)]()[_0x1cfada(0x48d)]>0x0?this[_0x1cfada(0x1ee)][_0x1cfada(0x251)]():this[_0x1cfada(0x1ee)][_0x1cfada(0x226)]=null);}});}[_0x2db2ce(0x497)](){const _0x4701dc=_0x2db2ce;this['unsubscribeHandler']?.(),this[_0x4701dc(0x6fb)][_0x4701dc(0x405)](_0x4b2585=>_0x4b2585()),delete this[_0x4701dc(0x2b8)];}[_0x2db2ce(0x170)](){return this['internalId'];}[_0x2db2ce(0x273)](_0x27b2a6){const _0x5ad652=_0x2db2ce;this[_0x5ad652(0x673)]=_0x27b2a6;}[_0x2db2ce(0x13b)](){const _0x31e3a7=_0x2db2ce;return this[_0x31e3a7(0x3fa)];}[_0x2db2ce(0x57c)](_0x57b8df){const _0x53a955=_0x2db2ce;for(const _0x1dbbcb of _0x57b8df||this[_0x53a955(0x3fa)])if(!this['mediaStream']['getTracks']()[_0x53a955(0x3c6)](_0x1f35fd=>_0x1f35fd[_0x53a955(0x114)]===_0x1dbbcb))return!0x1;return!0x0;}[_0x2db2ce(0x399)](){const _0x3a25bb=_0x2db2ce;let _0x586f46={'width':0x0,'height':0x0};const _0x534a95=this[_0x3a25bb(0x21d)][_0x3a25bb(0x6ed)]();if(_0x534a95[_0x3a25bb(0x48d)]>0x0){const _0x1de058=_0x534a95[0x0][_0x3a25bb(0x10d)]();_0x1de058[_0x3a25bb(0x5b4)]&&_0x1de058[_0x3a25bb(0x5b0)]&&(_0x586f46={'width':_0x1de058[_0x3a25bb(0x5b4)],'height':_0x1de058[_0x3a25bb(0x5b0)]});}return _0x586f46;}[_0x2db2ce(0x465)](_0x226d0b){const _0x2c6262=_0x2db2ce;for(const _0x172a57 of _0x226d0b)if(!this[_0x2c6262(0x5c1)][_0x2c6262(0x40d)](_0x172a57))return!0x1;return!0x0;}['getShareableStream'](_0x2f361b,_0x251444){const _0x1322db=_0x2db2ce;if(!this[_0x1322db(0x351)]['has'](_0x2f361b)){const _0xc8949a=new _0x326edb(this[_0x1322db(0x24c)],this['label'],this['mediaStream'],_0x2f361b,_0x251444),_0x2f356f=_0xc8949a[_0x1322db(0x574)](()=>{const _0x3ba474=_0x1322db;_0x2f356f(),this[_0x3ba474(0x351)]['get'](_0x2f361b)?.['destroy'](),this['outgoingStreams'][_0x3ba474(0x176)](_0x2f361b);});this[_0x1322db(0x351)][_0x1322db(0x3bc)](_0x2f361b,_0xc8949a),_0xc8949a[_0x1322db(0x155)](this[_0x1322db(0x55f)]);}return this[_0x1322db(0x351)][_0x1322db(0x118)](_0x2f361b);}[_0x2db2ce(0x483)](){const _0x15e368=_0x2db2ce;return this[_0x15e368(0x21d)]['id'];}[_0x2db2ce(0x2c2)](){const _0x4012c7=_0x2db2ce;return _0x26993c[_0x4012c7(0x3ba)]['Default'];}[_0x2db2ce(0x674)](){const _0x46565b=_0x2db2ce;return Array[_0x46565b(0x6a9)](this['subscribedTracks']);}[_0x2db2ce(0x175)](_0x25e0ef){const _0x40a5ae=_0x2db2ce;let _0x12be1c=[];if(_0x25e0ef){_0x40a5ae(0x687)!=typeof _0x25e0ef['video']||_0x25e0ef['video'][_0x40a5ae(0x1ee)]instanceof HTMLVideoElement||!this[_0x40a5ae(0x1ee)]||(_0x25e0ef[_0x40a5ae(0x196)]={'renderElement':this['renderElement']});try{(0x0,_0x26993c[_0x40a5ae(0x165)])(_0x25e0ef);}catch(_0x3051de){throw new _0x5c22ea(_0x3a91a5['RemoteMediaStreamInvalidSubscriptionParams'],_0x40a5ae(0x444));}_0x25e0ef[_0x40a5ae(0x196)]&&(_0x12be1c['push'](_0x40a5ae(0x196)),_0x40a5ae(0x586)!=typeof _0x25e0ef[_0x40a5ae(0x196)]&&_0x25e0ef['video'][_0x40a5ae(0x1ee)]&&(this[_0x40a5ae(0x1ee)]=_0x25e0ef[_0x40a5ae(0x196)][_0x40a5ae(0x1ee)],_0x25e0ef[_0x40a5ae(0x196)][_0x40a5ae(0x1a2)]||(_0x25e0ef[_0x40a5ae(0x196)]['maxResolution']={'width':this['renderElement'][_0x40a5ae(0x650)],'height':this['renderElement'][_0x40a5ae(0x4e2)]}),delete _0x25e0ef[_0x40a5ae(0x196)][_0x40a5ae(0x1ee)])),_0x25e0ef[_0x40a5ae(0x417)]&&_0x12be1c[_0x40a5ae(0x23d)](_0x40a5ae(0x417));}else _0x12be1c=this['getAvailableTrackKinds']();this['isSubscribed'](_0x12be1c)||(_0x12be1c[_0x40a5ae(0x405)](_0x4477da=>this[_0x40a5ae(0x5c1)]['add'](_0x4477da)),this['systemTopic'][_0x40a5ae(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x40a5ae(0x47e)],'content':{'type':_0x1ce536[_0x40a5ae(0x2a9)],'label':this['label'],'ownerId':this[_0x40a5ae(0x24c)]['getId'](),'trackKinds':_0x12be1c,'params':_0x25e0ef}}),_0x4aa571[_0x40a5ae(0x6a7)](_0x2fe3df[_0x40a5ae(0x50c)],{'type':_0x40a5ae(0x175),'label':this[_0x40a5ae(0x3a1)],'nodeId':this[_0x40a5ae(0x490)][_0x40a5ae(0x28c)](),'nodeType':this['localNode'][_0x40a5ae(0x26f)],'clusterId':this[_0x40a5ae(0x255)],'sourceId':this[_0x40a5ae(0x24c)][_0x40a5ae(0x28c)](),'streamId':this[_0x40a5ae(0x673)],'trackKinds':_0x12be1c}));}[_0x2db2ce(0x74b)](_0x357895){const _0x5c7d74=_0x2db2ce;try{(0x0,_0x26993c[_0x5c7d74(0x165)])(_0x357895);}catch(_0x4717a9){throw new _0x5c22ea(_0x3a91a5[_0x5c7d74(0x470)],_0x5c7d74(0x444));}this['updateDebounce']&&clearTimeout(this[_0x5c7d74(0x18d)]),this[_0x5c7d74(0x18d)]=setTimeout(()=>{const _0x366675=_0x5c7d74;delete this[_0x366675(0x18d)],this['systemTopic'][_0x366675(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x366675(0x47e)],'content':{'type':_0x1ce536[_0x366675(0xf7)],'label':this[_0x366675(0x3a1)],'ownerId':this[_0x366675(0x24c)][_0x366675(0x28c)](),'params':_0x357895}});},0x1f4);}[_0x2db2ce(0x531)](_0x355eb7){const _0x3f7150=_0x2db2ce;_0x355eb7||(_0x355eb7=this[_0x3f7150(0x13b)]()),(_0x355eb7=Array[_0x3f7150(0x2d4)](_0x355eb7)?_0x355eb7:[_0x355eb7])[_0x3f7150(0x405)](_0x5a7d35=>this[_0x3f7150(0x5c1)][_0x3f7150(0x176)](_0x5a7d35)),this[_0x3f7150(0x55f)][_0x3f7150(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x3f7150(0x47e)],'content':{'type':_0x1ce536['UnsubscribeMediaStream'],'label':this[_0x3f7150(0x3a1)],'ownerId':this['owner'][_0x3f7150(0x28c)](),'trackKinds':_0x355eb7,'remainingTracks':this[_0x3f7150(0x5c1)][_0x3f7150(0x703)]}});}[_0x2db2ce(0x11b)](_0x28ed64){const _0x292423=_0x2db2ce;return this[_0x292423(0x6c7)][_0x292423(0x175)](_0x28ed64);}[_0x2db2ce(0x609)](){return this['providerId'];}[_0x2db2ce(0x5dd)](_0x4a2835){const _0x43a2e0=_0x2db2ce;this[_0x43a2e0(0xf3)]!==_0x4a2835&&(this[_0x43a2e0(0xf3)]=_0x4a2835,this[_0x43a2e0(0x6c7)][_0x43a2e0(0x536)](_0x4a2835));}[_0x2db2ce(0x614)](_0x3f30c6){const _0x342b08=_0x2db2ce;this['trackEndedListeners'][_0x342b08(0x118)](_0x3f30c6)?.(),this['trackEndedListeners'][_0x342b08(0x176)](_0x3f30c6);}[_0x2db2ce(0xf5)](_0x3eccc2){const _0x7a7134=_0x2db2ce,_0x322677=this[_0x7a7134(0x21d)][_0x7a7134(0x359)]()['find'](_0x2a1bf6=>_0x2a1bf6['kind']===_0x3eccc2);_0x322677&&(this['mediaStream'][_0x7a7134(0xf5)](_0x322677),this[_0x7a7134(0x351)][_0x7a7134(0x405)](_0x3b1c33=>_0x3b1c33[_0x7a7134(0xf5)](_0x3eccc2)),this[_0x7a7134(0x6fb)][_0x7a7134(0x118)](_0x3eccc2)?.());}['setupRenderElement'](){const _0x5c6259=_0x2db2ce;this[_0x5c6259(0x1ee)]&&(this[_0x5c6259(0x1ee)][_0x5c6259(0x226)]&&this['renderElement'][_0x5c6259(0x226)]===this['mediaStream']||(this[_0x5c6259(0x1ee)]['srcObject']=this['mediaStream']));}[_0x2db2ce(0x2eb)](){const _0x402a0f=_0x2db2ce;if(this[_0x402a0f(0x1ee)]&&!this[_0x402a0f(0xf0)]&&'undefined'!=typeof ResizeObserver){let _0x3b0b1b=this['renderElement'][_0x402a0f(0x650)],_0x463831=this['renderElement']['clientHeight'];const _0x19ed55=new ResizeObserver(_0x4b3a4f=>{const _0x2f4cc8=_0x402a0f,{width:_0x409c58,height:_0x553ef4}=_0x4b3a4f[0x0][_0x2f4cc8(0x6c8)];_0x3b0b1b===_0x409c58&&_0x463831===_0x553ef4||(_0x3b0b1b=Math[_0x2f4cc8(0x150)](_0x409c58),_0x463831=Math[_0x2f4cc8(0x150)](_0x553ef4),this[_0x2f4cc8(0x74b)]({'video':{'maxResolution':{'width':_0x409c58,'height':_0x553ef4}}}));});_0x19ed55[_0x402a0f(0x217)](this['renderElement']),this[_0x402a0f(0xf0)]=()=>_0x19ed55[_0x402a0f(0x1ed)]();}}[_0x2db2ce(0x13e)](_0x5f4d62){const _0x3d4a11=_0x2db2ce,_0xb50ea2=[];for(const _0x67ff63 of this['subscribedTracks'])this[_0x3d4a11(0xf5)](_0x67ff63),_0xb50ea2['push'](_0x67ff63);this[_0x3d4a11(0xf3)]&&this[_0x3d4a11(0x55f)][_0x3d4a11(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x3d4a11(0x47e)],'content':{'type':_0x1ce536[_0x3d4a11(0x657)],'label':this[_0x3d4a11(0x3a1)],'streamId':this[_0x3d4a11(0x673)],'ownerId':this[_0x3d4a11(0x24c)][_0x3d4a11(0x28c)](),'providerId':this[_0x3d4a11(0xf3)],'trackKinds':_0xb50ea2}});}[_0x2db2ce(0x479)](_0x4aa931){const _0x50ca15=_0x2db2ce,_0x11c212=()=>this[_0x50ca15(0x13e)](_0x4aa931);_0x4aa931[_0x50ca15(0x1af)](_0x50ca15(0x53c),_0x11c212),_0x4aa931[_0x50ca15(0x1af)](_0x50ca15(0x45e),_0x11c212),this[_0x50ca15(0x6fb)][_0x50ca15(0x3bc)](_0x4aa931[_0x50ca15(0x114)],()=>{const _0x5ad47e=_0x50ca15;_0x4aa931['removeEventListener'](_0x5ad47e(0x53c),_0x11c212),_0x4aa931['removeEventListener'](_0x5ad47e(0x45e),_0x11c212),this[_0x5ad47e(0x6fb)][_0x5ad47e(0x176)](_0x4aa931['kind']);});}}class _0x2560fd{['id'];[_0x2db2ce(0x344)];[_0x2db2ce(0x5a8)];constructor(_0x1439fc,_0x3c9c09=new Set(),_0x1a4b14){const _0x30e76c=_0x2db2ce;this['id']=_0x1439fc,this[_0x30e76c(0x344)]=_0x3c9c09,this[_0x30e76c(0x5a8)]=_0x1a4b14;}['close'](){const _0x37bab0=_0x2db2ce;this['rank']=void 0x0,this[_0x37bab0(0x344)]['clear']();}[_0x2db2ce(0x28c)](){return this['id'];}[_0x2db2ce(0x124)](){return this['rank'];}[_0x2db2ce(0x563)](){const _0x2b62f2=_0x2db2ce;return this[_0x2b62f2(0x344)];}}class _0xacbec4 extends _0x2560fd{['id'];[_0x2db2ce(0x3d3)];[_0x2db2ce(0x494)];[_0x2db2ce(0x344)];[_0x2db2ce(0x5a8)];[_0x2db2ce(0x26f)]=_0x26993c[_0x2db2ce(0x23e)][_0x2db2ce(0x482)];constructor(_0x525920,_0x11624b,_0xfa0648,_0x3011c5=new Set(),_0xaf5d06){const _0x69c1d1=_0x2db2ce;super(_0x525920,_0x3011c5,_0xaf5d06),this['id']=_0x525920,this['displayName']=_0x11624b,this[_0x69c1d1(0x494)]=_0xfa0648,this['remoteConnections']=_0x3011c5,this[_0x69c1d1(0x5a8)]=_0xaf5d06;}[_0x2db2ce(0x23a)](){const _0x4ec905=_0x2db2ce;return this[_0x4ec905(0x3d3)];}[_0x2db2ce(0x2a2)](){const _0x309bdc=_0x2db2ce;return this[_0x309bdc(0x494)];}}class _0x3fe082{[_0x2db2ce(0x6e1)];['clusterId'];[_0x2db2ce(0x2b9)];constructor(_0x1eb4f8,_0x5543a0){const _0x4524ae=_0x2db2ce;this['vendorId']=_0x1eb4f8,this[_0x4524ae(0x255)]=_0x5543a0,this[_0x4524ae(0x2b9)]=_0x4524ae(0x4a8)+this[_0x4524ae(0x6e1)]+_0x4524ae(0x4a8)+this[_0x4524ae(0x255)];}async[_0x2db2ce(0x6b2)](_0x2bcfed,_0x4ea98d,_0x300c14){const _0x193153=_0x2db2ce;if(!0x1===(await(0x0,_0x1147fd[_0x193153(0x437)])((0x0,_0x1147fd[_0x193153(0x5b5)])(_0x58bac0[_0x193153(0x3b8)](),_0x193153(0x6ff)+this['clusterKey']+'/objectstores/'+_0x4ea98d+_0x193153(0x3e7)),_0x155e14=>{const _0x38708e=_0x193153;if(!_0x155e14)return _0x2bcfed['id'];if(_0x155e14!==_0x300c14)throw new _0xb694a1(_0xb694a1[_0x38708e(0x549)]['ObjectStoreNotSynced']);return _0x2bcfed['id'];}))[_0x193153(0x3df)])throw new _0xb694a1(_0xb694a1['codes']['ObjectStoreCannotWriteTransaction']);_0x2bcfed[_0x193153(0x29b)]||delete _0x2bcfed[_0x193153(0x29b)],await(0x0,_0x1147fd[_0x193153(0x3bc)])((0x0,_0x1147fd[_0x193153(0x5b5)])(_0x58bac0[_0x193153(0x3b8)](),_0x193153(0x6ff)+this[_0x193153(0x2b9)]+_0x193153(0x510)+_0x4ea98d+_0x193153(0x379)+_0x2bcfed['id']),_0x2bcfed);}async[_0x2db2ce(0x6c9)](_0x107d68,_0x138efa){const _0x1f9802=_0x2db2ce;let _0x4fff5c=[];const _0x3262e4=await(0x0,_0x1147fd[_0x1f9802(0x118)])((0x0,_0x1147fd['ref'])(_0x58bac0['getDatabase'](),_0x1f9802(0x6ff)+this[_0x1f9802(0x2b9)]+_0x1f9802(0x510)+_0x107d68+_0x1f9802(0x2ea)));if(!_0x3262e4[_0x1f9802(0x4c4)]())return _0x4fff5c;const _0x1b454d=_0x3262e4['val']();_0x4fff5c=Object[_0x1f9802(0x3ac)](_0x1b454d)[_0x1f9802(0x6f6)](_0xdf8f45=>_0x1f9802(0x6dc)!=typeof _0xdf8f45);const _0x559258=[];let _0x4260cd=_0x4fff5c[_0x1f9802(0x3c6)](_0x29c4ed=>_0x29c4ed[_0x1f9802(0x29b)]===_0x138efa);for(;_0x4260cd;)_0x559258[_0x1f9802(0x23d)](_0x4260cd),_0x4260cd=_0x4fff5c[_0x1f9802(0x3c6)](_0xc89587=>_0xc89587[_0x1f9802(0x29b)]===_0x4260cd['id']);return _0x559258;}}class _0xab7d84{['configs'];[_0x2db2ce(0x317)];[_0x2db2ce(0x1fc)];['localMediaStreams']=new Map();[_0x2db2ce(0x5fd)]=new Map();[_0x2db2ce(0x1d6)]=new Map();[_0x2db2ce(0x32c)]=new Map();[_0x2db2ce(0x3f0)]=new Map();[_0x2db2ce(0x37a)]=new Map();[_0x2db2ce(0x3c5)]=new Map();[_0x2db2ce(0x67e)];constructor(_0x2d8734,_0x1b5b77,_0x8f0bc5){const _0xf09f48=_0x2db2ce;this['configs']=_0x2d8734,this['maxFps']=_0x1b5b77,this[_0xf09f48(0x1fc)]=_0x8f0bc5,this[_0xf09f48(0x67e)]=new _0x3fe082(this[_0xf09f48(0x626)][_0xf09f48(0x6e1)],this[_0xf09f48(0x626)][_0xf09f48(0x255)]);}[_0x2db2ce(0x37c)](_0x2de138=!0x1){const _0x4c2555=_0x2db2ce;this[_0x4c2555(0x5fd)][_0x4c2555(0x405)]((_0x247ffe,_0x4f2077)=>{const _0x3f3054=_0x4c2555;_0x247ffe[_0x3f3054(0x405)]((_0x2569ce,_0x5eec53)=>{this['removeRemoteMediaStream'](_0x4f2077,_0x5eec53);});}),_0x2de138||(this[_0x4c2555(0x41e)][_0x4c2555(0x405)]((_0x533040,_0x3d93ec)=>{this['removeLocalMediaStream'](_0x3d93ec);}),this[_0x4c2555(0x1d6)]['forEach']((_0x5eb245,_0x338563)=>{this['removePubSubTopic'](_0x338563);}),this[_0x4c2555(0x32c)]['forEach']((_0x377431,_0x36ccf0)=>{const _0x2134ac=_0x4c2555;this[_0x2134ac(0x5fa)](_0x36ccf0);}),this['keyValueDatabases']['forEach']((_0x4ce8e3,_0x8e9e14)=>{const _0x1d6c76=_0x4c2555;this[_0x1d6c76(0x5d4)](_0x8e9e14);}),this['jobDispatchers'][_0x4c2555(0x405)]((_0x139de5,_0x5e2234)=>{const _0x10ac8a=_0x4c2555;this[_0x10ac8a(0x2b3)](_0x5e2234);}),this[_0x4c2555(0x3c5)][_0x4c2555(0x405)]((_0x4b8772,_0x107210)=>{const _0x59cfa1=_0x4c2555;this[_0x59cfa1(0x653)](_0x107210);}));}[_0x2db2ce(0x61f)](_0x4ca356,_0x3aba38){const _0x277de0=_0x2db2ce;if(this['objectStores'][_0x277de0(0x40d)](_0x4ca356))throw new _0x5c22ea(_0x3a91a5[_0x277de0(0x41c)],_0x277de0(0x618));const _0x367df4=new _0x48e5b0(this[_0x277de0(0x626)][_0x277de0(0x490)],_0x4ca356,this[_0x277de0(0x626)][_0x277de0(0x255)],this[_0x277de0(0x626)]['vendorId'],this[_0x277de0(0x67e)],_0x3aba38);return this[_0x277de0(0x32c)]['set'](_0x4ca356,_0x367df4),this['configs']['mediator'][_0x277de0(0x57f)](_0x367df4),_0x367df4;}async[_0x2db2ce(0x2fd)](_0x4e2968,_0x2f4772,_0x23856e){const _0x3b5c42=_0x2db2ce;if(this[_0x3b5c42(0x3f0)][_0x3b5c42(0x40d)](_0x4e2968))throw new _0x5c22ea(_0x3a91a5[_0x3b5c42(0x5fe)],_0x3b5c42(0x412));try{const _0x2fcf5b=new _0x3411f1(this['configs']['localNode'],_0x4e2968,this[_0x3b5c42(0x626)][_0x3b5c42(0x255)],this['configs'][_0x3b5c42(0x6e1)],_0x2f4772,_0x23856e);return this[_0x3b5c42(0x3f0)][_0x3b5c42(0x3bc)](_0x4e2968,_0x2fcf5b),this[_0x3b5c42(0x626)][_0x3b5c42(0x754)][_0x3b5c42(0x57f)](_0x2fcf5b),_0x2fcf5b;}catch(_0x13c342){if(_0x13c342 instanceof _0x5c22ea)throw _0x13c342;throw console[_0x3b5c42(0x69f)](_0x3b5c42(0xe8),_0x13c342),new _0xb694a1(_0xb694a1[_0x3b5c42(0x549)][_0x3b5c42(0x17c)],{'label':_0x4e2968,'clusterId':this[_0x3b5c42(0x626)][_0x3b5c42(0x255)],'vendorId':this[_0x3b5c42(0x626)]['vendorId']});}}async[_0x2db2ce(0x332)](_0x1cfbd4,_0x1fe0f2){const _0x1d8d89=_0x2db2ce;if(this[_0x1d8d89(0x37a)][_0x1d8d89(0x40d)](_0x1cfbd4))throw new _0x5c22ea(_0x3a91a5[_0x1d8d89(0x2d9)],'Job\x20Dispatcher\x20already\x20exists');try{const _0xd7e7d2=new _0x5d8a9b(this[_0x1d8d89(0x626)][_0x1d8d89(0x490)],_0x1cfbd4,_0x1fe0f2);return this[_0x1d8d89(0x37a)][_0x1d8d89(0x3bc)](_0x1cfbd4,_0xd7e7d2),this[_0x1d8d89(0x626)]['mediator']['registerSystemSource'](_0xd7e7d2),_0xd7e7d2;}catch(_0x2bfad9){if(_0x2bfad9 instanceof _0x5c22ea)throw _0x2bfad9;throw console[_0x1d8d89(0x69f)](_0x1d8d89(0x55e),_0x2bfad9),new _0xb694a1(_0xb694a1[_0x1d8d89(0x549)][_0x1d8d89(0x49a)],{'label':_0x1cfbd4,'clusterId':this[_0x1d8d89(0x626)]['clusterId'],'vendorId':this[_0x1d8d89(0x626)][_0x1d8d89(0x6e1)]});}}async[_0x2db2ce(0x331)](_0x27103d,_0x56e311,_0x487c00,_0x3a3247=_0x26993c['JobType']['AI']){const _0x20c491=_0x2db2ce;if(this[_0x20c491(0x3c5)][_0x20c491(0x40d)](_0x27103d))throw new _0x5c22ea(_0x3a91a5['JobWorkerAlreadyExists'],_0x20c491(0x12e));try{const _0x269a81=new _0x3ae7aa(this[_0x20c491(0x626)][_0x20c491(0x490)],_0x27103d,_0x56e311,_0x487c00);return this['jobWorkers'][_0x20c491(0x3bc)](_0x27103d,_0x269a81),this['configs'][_0x20c491(0x754)]['registerSystemSource'](_0x269a81),_0x269a81;}catch(_0x3d675d){if(_0x3d675d instanceof _0x5c22ea)throw _0x3d675d;throw console[_0x20c491(0x69f)]('Failed\x20to\x20create\x20job\x20service',_0x3d675d),new _0xb694a1(_0xb694a1[_0x20c491(0x549)]['JobWorkerCreationFailed'],{'label':_0x27103d,'clusterId':this[_0x20c491(0x626)][_0x20c491(0x255)],'vendorId':this[_0x20c491(0x626)][_0x20c491(0x6e1)]});}}async[_0x2db2ce(0x484)](_0x282682,_0x47f19f){const _0x588f1d=_0x2db2ce;if(this[_0x588f1d(0x37a)][_0x588f1d(0x40d)](_0x282682))throw new _0x5c22ea(_0x3a91a5['GenerativeAIContextAlreadyExists'],_0x588f1d(0x55d));if(this['jobWorkers']['has'](_0x282682))throw new _0x5c22ea(_0x3a91a5[_0x588f1d(0x5c3)],_0x588f1d(0x30f));try{const _0x448037=new _0x209b01(this[_0x588f1d(0x626)]['localNode'],_0x282682,_0x47f19f);return this[_0x588f1d(0x37a)][_0x588f1d(0x3bc)](_0x282682,_0x448037),this[_0x588f1d(0x626)][_0x588f1d(0x754)][_0x588f1d(0x57f)](_0x448037),_0x448037;}catch(_0x151745){if(_0x151745 instanceof _0x5c22ea)throw _0x151745;throw console['warn'](_0x588f1d(0xd4),_0x151745),new _0xb694a1(_0xb694a1['codes']['GenerativeAIContextCreationFailed'],{'label':_0x282682,'clusterId':this[_0x588f1d(0x626)][_0x588f1d(0x255)],'vendorId':this[_0x588f1d(0x626)][_0x588f1d(0x6e1)]});}}async['createGenerativeAIWorker'](_0x3a67f1,_0xa9912e,_0x21dfac,_0x3bf915){const _0x1522cb=_0x2db2ce;if(this[_0x1522cb(0x3c5)][_0x1522cb(0x40d)](_0x3a67f1))throw new _0x5c22ea(_0x3a91a5['GenerativeAIWorkerAlreadyExists'],'AI\x20Worker\x20already\x20exists');if(this[_0x1522cb(0x37a)][_0x1522cb(0x40d)](_0x3a67f1))throw new _0x5c22ea(_0x3a91a5[_0x1522cb(0x5c3)],_0x1522cb(0x30f));try{const _0x20774b=new _0x11f64b(this[_0x1522cb(0x626)][_0x1522cb(0x490)],_0x3a67f1,_0xa9912e,_0x21dfac,_0x3bf915);return this[_0x1522cb(0x3c5)]['set'](_0x3a67f1,_0x20774b),this[_0x1522cb(0x626)][_0x1522cb(0x754)][_0x1522cb(0x57f)](_0x20774b),_0x20774b;}catch(_0x1892dc){if(_0x1892dc instanceof _0x5c22ea)throw _0x1892dc;throw console[_0x1522cb(0x69f)](_0x1522cb(0x15e),_0x1892dc),new _0xb694a1(_0xb694a1[_0x1522cb(0x549)]['GenerativeAIWorkerCreationFailed'],{'label':_0x3a67f1,'clusterId':this[_0x1522cb(0x626)][_0x1522cb(0x255)],'vendorId':this[_0x1522cb(0x626)]['vendorId']});}}[_0x2db2ce(0xf1)](_0x424437,_0x46e623){const _0x22b761=_0x2db2ce;if(this[_0x22b761(0x41e)]['has'](_0x424437))throw new _0x5c22ea(_0x3a91a5[_0x22b761(0x588)],_0x22b761(0x515));if(!this[_0x22b761(0x1fc)])throw new _0x5c22ea(_0x3a91a5[_0x22b761(0x67f)],_0x22b761(0x6ad));const _0x25eded=new _0x3ca08e(this[_0x22b761(0x626)][_0x22b761(0x490)],_0x424437,_0x46e623,this[_0x22b761(0x317)],this[_0x22b761(0x1fc)],this[_0x22b761(0x626)]['clusterId']);return this[_0x22b761(0x41e)]['set'](_0x424437,_0x25eded),this[_0x22b761(0x626)][_0x22b761(0x754)][_0x22b761(0x57f)](_0x25eded),_0x25eded[_0x22b761(0x536)](),_0x25eded;}[_0x2db2ce(0x56c)](_0x27bf9d,_0x3d7918){const _0xcf7347=_0x2db2ce;if(this['localMediaStreams'][_0xcf7347(0x40d)](_0x27bf9d))throw new _0x5c22ea(_0x3a91a5[_0xcf7347(0x588)],_0xcf7347(0x391));const _0x1fd5c1=new _0x1530dc(this[_0xcf7347(0x626)][_0xcf7347(0x490)],_0x27bf9d,_0x3d7918,this[_0xcf7347(0x626)][_0xcf7347(0x255)]);return this[_0xcf7347(0x41e)][_0xcf7347(0x3bc)](_0x27bf9d,_0x1fd5c1),this['configs'][_0xcf7347(0x754)][_0xcf7347(0x57f)](_0x1fd5c1),_0x1fd5c1[_0xcf7347(0x536)](),_0x1fd5c1;}[_0x2db2ce(0x499)](_0x7821af){const _0x252e07=_0x2db2ce;if(this[_0x252e07(0x1d6)][_0x252e07(0x40d)](_0x7821af))throw new _0x5c22ea(_0x3a91a5[_0x252e07(0x1f2)],_0x252e07(0x44b));const _0x2b6579=new _0x72561f(this[_0x252e07(0x626)][_0x252e07(0x490)],_0x7821af,this[_0x252e07(0x626)]['clusterId']);return this[_0x252e07(0x1d6)]['set'](_0x7821af,_0x2b6579),this[_0x252e07(0x626)][_0x252e07(0x754)][_0x252e07(0x57f)](_0x2b6579),_0x2b6579;}[_0x2db2ce(0x181)](_0x4e43c6,_0x1cb662,_0x5c52a8,_0x3d7486){const _0x3c3c33=_0x2db2ce;this['remoteMediaStreams']['has'](_0x4e43c6)||this[_0x3c3c33(0x5fd)][_0x3c3c33(0x3bc)](_0x4e43c6,new Map());const _0x1aec42=this[_0x3c3c33(0x5fd)][_0x3c3c33(0x118)](_0x4e43c6);if(_0x1aec42[_0x3c3c33(0x40d)](_0x1cb662))throw new _0x5c22ea(_0x3a91a5['RemoteMediaStreamAlreadyExists'],_0x3c3c33(0x685));const _0x3d330b=new _0xacbec4(_0x4e43c6,'',''),_0x3bdcbe=new _0x27d337(this[_0x3c3c33(0x626)][_0x3c3c33(0x490)],_0x3d330b,_0x1cb662,_0x5c52a8,_0x3d7486,this[_0x3c3c33(0x626)]['clusterId']);return _0x1aec42[_0x3c3c33(0x3bc)](_0x1cb662,_0x3bdcbe),this[_0x3c3c33(0x626)][_0x3c3c33(0x754)][_0x3c3c33(0x57f)](_0x3bdcbe),_0x3bdcbe;}[_0x2db2ce(0x610)](_0x50b19e){const _0x3cf21e=_0x2db2ce,_0x51a93b=Array[_0x3cf21e(0x6a9)](this[_0x3cf21e(0x32c)][_0x3cf21e(0x3ac)]());return _0x50b19e?_0x51a93b[_0x3cf21e(0x6f6)](_0x50b19e):_0x51a93b;}[_0x2db2ce(0x35e)](_0x5917e0){const _0x2d3ee5=_0x2db2ce,_0x81478e=Array[_0x2d3ee5(0x6a9)](this[_0x2d3ee5(0x3f0)][_0x2d3ee5(0x3ac)]());return _0x5917e0?_0x81478e[_0x2d3ee5(0x6f6)](_0x5917e0):_0x81478e;}[_0x2db2ce(0x4b1)](_0x3d1976){const _0x58f774=_0x2db2ce,_0x1cb420=Array[_0x58f774(0x6a9)](this[_0x58f774(0x37a)][_0x58f774(0x3ac)]());return _0x3d1976?_0x1cb420[_0x58f774(0x6f6)](_0x3d1976):_0x1cb420;}['getJobWorkers'](_0x4e6136){const _0x36f8a7=_0x2db2ce,_0x20327a=Array[_0x36f8a7(0x6a9)](this['jobWorkers'][_0x36f8a7(0x3ac)]());return _0x4e6136?_0x20327a[_0x36f8a7(0x6f6)](_0x4e6136):_0x20327a;}[_0x2db2ce(0x672)](_0x2033ba){const _0x2ce57b=_0x2db2ce,_0x5698e5=Array[_0x2ce57b(0x6a9)](this[_0x2ce57b(0x37a)][_0x2ce57b(0x3ac)]())[_0x2ce57b(0x6f6)](_0x58fea5=>_0x58fea5 instanceof _0x209b01);return _0x2033ba?_0x5698e5[_0x2ce57b(0x6f6)](_0x2033ba):_0x5698e5;}['getGenerativeAIWorkers'](_0x5623ba){const _0x1117e8=_0x2db2ce,_0x578703=Array[_0x1117e8(0x6a9)](this[_0x1117e8(0x3c5)][_0x1117e8(0x3ac)]())[_0x1117e8(0x6f6)](_0x5c9f87=>_0x5c9f87 instanceof _0x11f64b);return _0x5623ba?_0x578703[_0x1117e8(0x6f6)](_0x5623ba):_0x578703;}[_0x2db2ce(0x244)](_0x3cf53a){const _0x3f8f99=_0x2db2ce,_0x432ac7=Array[_0x3f8f99(0x6a9)](this[_0x3f8f99(0x41e)]['values']());return _0x3cf53a?_0x432ac7[_0x3f8f99(0x6f6)](_0x3cf53a):_0x432ac7;}[_0x2db2ce(0x243)](_0x163873){const _0x123c22=_0x2db2ce,_0x4c183b=Array[_0x123c22(0x6a9)](this[_0x123c22(0x1d6)]['values']());return _0x163873?_0x4c183b[_0x123c22(0x6f6)](_0x163873):_0x4c183b;}['getRemoteMediaStreams'](_0x8d1d5f){const _0x2cd634=_0x2db2ce,_0x58d031=Array['from'](this[_0x2cd634(0x5fd)][_0x2cd634(0x3ac)]())[_0x2cd634(0x239)]((_0x283737,_0x42e568)=>[..._0x283737,...Array[_0x2cd634(0x6a9)](_0x42e568[_0x2cd634(0x3ac)]())],[]);return _0x8d1d5f?_0x58d031[_0x2cd634(0x6f6)](_0x8d1d5f):_0x58d031;}['handleContentSystemEvents'](_0x53e256){const _0x4cbd15=_0x2db2ce;switch(_0x53e256[_0x4cbd15(0x581)][_0x4cbd15(0x26f)]){case _0x1ce536['PublishMediaStream']:this[_0x4cbd15(0x3ee)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536['UnpublishMediaStream']:this[_0x4cbd15(0x252)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536[_0x4cbd15(0x493)]:this[_0x4cbd15(0x1a5)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536[_0x4cbd15(0x53b)]:this[_0x4cbd15(0x6b5)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536[_0x4cbd15(0x652)]:this[_0x4cbd15(0x43e)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536[_0x4cbd15(0x53d)]:this[_0x4cbd15(0x2de)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536['CloseObjectStoreBucket']:this[_0x4cbd15(0x297)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536[_0x4cbd15(0x253)]:this[_0x4cbd15(0x6ec)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536[_0x4cbd15(0x17e)]:this[_0x4cbd15(0x72e)](_0x53e256[_0x4cbd15(0x581)]);break;case _0x1ce536['RequestSyncKeyValueDatabase']:this['keyValueDatabases'][_0x4cbd15(0x118)](_0x53e256[_0x4cbd15(0x581)][_0x4cbd15(0x3a1)])?.[_0x4cbd15(0x376)](_0x53e256[_0x4cbd15(0x133)]);break;case _0x1ce536[_0x4cbd15(0x2ab)]:this['keyValueDatabases'][_0x4cbd15(0x118)](_0x53e256[_0x4cbd15(0x581)][_0x4cbd15(0x3a1)])?.[_0x4cbd15(0x71e)](_0x53e256[_0x4cbd15(0x133)],_0x53e256[_0x4cbd15(0x581)][_0x4cbd15(0x28f)]);break;case _0x1ce536[_0x4cbd15(0x25a)]:this[_0x4cbd15(0x3f0)][_0x4cbd15(0x118)](_0x53e256[_0x4cbd15(0x581)][_0x4cbd15(0x3a1)])?.[_0x4cbd15(0x5bf)](_0x53e256['sourceId'],_0x53e256['content'][_0x4cbd15(0x358)]);break;case _0x1ce536['LocalMediaStreamTrackFail']:this[_0x4cbd15(0x626)][_0x4cbd15(0x754)][_0x4cbd15(0x12b)](_0x4cbd15(0x519),{'label':_0x53e256['content'][_0x4cbd15(0x3a1)],'trackKinds':_0x53e256[_0x4cbd15(0x581)][_0x4cbd15(0x3a9)]});}}['handleNodeSystemEvents']({content:_0x185a97}){const _0xd33ef0=_0x2db2ce;switch(_0x185a97[_0xd33ef0(0x26f)]){case _0x1a33b0['NodeJoin']:this[_0xd33ef0(0x722)](_0x185a97),this[_0xd33ef0(0x5be)](_0x185a97);break;case _0x1a33b0[_0xd33ef0(0x736)]:this['handleNodeLeave'](_0x185a97),this[_0xd33ef0(0x214)](_0x185a97);}}[_0x2db2ce(0x380)](_0xa6bebb){const _0x3a072f=_0x2db2ce;switch(_0xa6bebb[_0x3a072f(0x581)][_0x3a072f(0x26f)]){case _0x3366c6[_0x3a072f(0x2a9)]:this['handleSubscribeMediaStream'](_0xa6bebb[_0x3a072f(0x133)],_0xa6bebb[_0x3a072f(0x581)]);break;case _0x3366c6[_0x3a072f(0xf7)]:this['handleUpdateMediaStream'](_0xa6bebb[_0x3a072f(0x133)],_0xa6bebb['content']);break;case _0x3366c6[_0x3a072f(0x17e)]:this[_0x3a072f(0x1e2)](_0xa6bebb[_0x3a072f(0x133)],_0xa6bebb[_0x3a072f(0x581)]);}}[_0x2db2ce(0x72e)](_0x2ba3bb){const _0x54bdbf=_0x2db2ce;if(0x0===_0x2ba3bb[_0x54bdbf(0x146)])this[_0x54bdbf(0x5fd)][_0x54bdbf(0x118)](_0x2ba3bb['ownerId'])?.[_0x54bdbf(0x118)](_0x2ba3bb[_0x54bdbf(0x3a1)])?.[_0x54bdbf(0x1e7)]();else{const _0x178f3f=this[_0x54bdbf(0x5fd)][_0x54bdbf(0x118)](_0x2ba3bb[_0x54bdbf(0x3f2)])?.[_0x54bdbf(0x118)](_0x2ba3bb[_0x54bdbf(0x3a1)]);if(!_0x178f3f)return;_0x2ba3bb[_0x54bdbf(0x3a9)]['forEach'](_0x1a175d=>_0x178f3f[_0x54bdbf(0x614)](_0x1a175d));}}[_0x2db2ce(0x3ee)](_0x231c69){const _0x1ef7f1=_0x2db2ce,{label:_0x4aedef,ownerId:_0xffa9cf,stream:{streamId:_0x1ccfc7,availableTrackKinds:_0xecc8df}}=_0x231c69;if(this[_0x1ef7f1(0x5fd)]['get'](_0xffa9cf)?.['has'](_0x4aedef))return void _0x4aa571['log'](_0x50f1bc['Content'],_0x1ef7f1(0x391),_0x1ccfc7);const _0x2c3281=this[_0x1ef7f1(0x181)](_0xffa9cf,_0x4aedef,_0x1ccfc7,_0xecc8df);this[_0x1ef7f1(0x626)][_0x1ef7f1(0x754)][_0x1ef7f1(0x12b)](_0x1ef7f1(0x443),{'ownerId':_0xffa9cf,'stream':_0x2c3281});}['handleUnpublishMediaStream']({ownerId:_0x3ff6ad,label:_0x57b19b}){const _0xbad18=_0x2db2ce;this['removeRemoteMediaStream'](_0x3ff6ad,_0x57b19b),this[_0xbad18(0x626)][_0xbad18(0x754)]['notifyCluster'](_0xbad18(0x3f3),{'ownerId':_0x3ff6ad,'label':_0x57b19b});}[_0x2db2ce(0x43e)](_0x59ae7b){const _0x7e9fe4=_0x2db2ce;this[_0x7e9fe4(0x1ca)](_0x59ae7b['label']);}['handleCloseJobDispatcher'](_0x512f4a){const _0xb6ce86=_0x2db2ce;this[_0xb6ce86(0x2b3)](_0x512f4a[_0xb6ce86(0x3a1)]);}[_0x2db2ce(0x6b5)](_0x31022b){const _0x39d2b7=_0x2db2ce;this[_0x39d2b7(0x653)](_0x31022b[_0x39d2b7(0x3a1)]);}[_0x2db2ce(0x297)](_0x3f5248){const _0x17d662=_0x2db2ce;this['removeObjectStore'](_0x3f5248[_0x17d662(0x3a1)]);}[_0x2db2ce(0x2de)](_0x19c17c){this['removePubSubTopic'](_0x19c17c['label']);}['handleCloseKeyValueDatabase'](_0x1d13e8){const _0x9d8823=_0x2db2ce;this[_0x9d8823(0x5d4)](_0x1d13e8[_0x9d8823(0x3a1)]);}[_0x2db2ce(0x209)](_0x1f27fc,_0x5eab22){const _0x46d6c6=_0x2db2ce,{ownerId:_0x218cdf,label:_0xcfa1fe}=_0x5eab22;let _0xf0a7ff;_0xf0a7ff=_0x218cdf!==this[_0x46d6c6(0x626)]['localNode'][_0x46d6c6(0x28c)]()?this[_0x46d6c6(0x5fd)][_0x46d6c6(0x118)](_0x218cdf)[_0x46d6c6(0x118)](_0xcfa1fe):this['localMediaStreams'][_0x46d6c6(0x118)](_0xcfa1fe),_0xf0a7ff[_0x46d6c6(0x1f5)](_0x1f27fc,_0x5eab22[_0x46d6c6(0x70a)])[_0x46d6c6(0x175)](_0x5eab22,_0xf0a7ff[_0x46d6c6(0x2c2)]());}[_0x2db2ce(0x4c5)](_0x364e95,_0x1be2c8){const _0x4e98ec=_0x2db2ce,{ownerId:_0x57fe2d,label:_0x36faff}=_0x1be2c8;let _0x1c0b5f;_0x1c0b5f=_0x57fe2d!==this[_0x4e98ec(0x626)][_0x4e98ec(0x490)][_0x4e98ec(0x28c)]()?this[_0x4e98ec(0x5fd)][_0x4e98ec(0x118)](_0x57fe2d)['get'](_0x36faff):this[_0x4e98ec(0x41e)][_0x4e98ec(0x118)](_0x36faff),_0x1c0b5f[_0x4e98ec(0x1f5)](_0x364e95,_0x1be2c8[_0x4e98ec(0x70a)])[_0x4e98ec(0x74b)](_0x1be2c8);}[_0x2db2ce(0x1e2)](_0x3c2503,_0x15c8b7){const _0x49def1=_0x2db2ce,{ownerId:_0x5dadd1,label:_0x270d7a}=_0x15c8b7;let _0x54249f;_0x54249f=_0x5dadd1!==this[_0x49def1(0x626)][_0x49def1(0x490)][_0x49def1(0x28c)]()?this[_0x49def1(0x5fd)][_0x49def1(0x118)](_0x5dadd1)['get'](_0x270d7a):this['localMediaStreams'][_0x49def1(0x118)](_0x270d7a),_0x54249f[_0x49def1(0x1f5)](_0x3c2503)[_0x49def1(0x531)](_0x15c8b7);}[_0x2db2ce(0x722)]({id:_0x462056}){const _0x4fe47f=_0x2db2ce;this[_0x4fe47f(0x244)]()[_0x4fe47f(0x405)](_0x576208=>{const _0x2b6090=_0x4fe47f;_0x576208[_0x2b6090(0x536)](_0x462056);});}['handleNodeLeave']({id:_0x126be8}){const _0x51e9ab=_0x2db2ce;this['getRemoteMediaStreams'](_0x727978=>_0x727978['getOwnerId']()===_0x126be8)[_0x51e9ab(0x405)](_0x3cc8e3=>{const _0x4583b5=_0x51e9ab;this[_0x4583b5(0x6e5)](_0x3cc8e3[_0x4583b5(0x533)](),_0x3cc8e3[_0x4583b5(0x5fc)]());});}['notifyObjectStoreOfNodeJoin']({id:_0xbfeaaa}){const _0x1b7ae4=_0x2db2ce;this['objectStores'][_0x1b7ae4(0x405)](_0x3c4c0b=>_0x3c4c0b[_0x1b7ae4(0x459)](_0xbfeaaa));}[_0x2db2ce(0x214)]({id:_0x181f09}){const _0x27f546=_0x2db2ce;this[_0x27f546(0x32c)][_0x27f546(0x405)](_0x2dfde0=>_0x2dfde0[_0x27f546(0x570)](_0x181f09));}['removeJobDispatcher'](_0xe81d83){const _0x497938=_0x2db2ce;if(!this[_0x497938(0x37a)]['has'](_0xe81d83))throw new _0x5c22ea(_0x3a91a5[_0x497938(0x32d)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x14f9f1=this[_0x497938(0x37a)][_0x497938(0x118)](_0xe81d83);this[_0x497938(0x37a)][_0x497938(0x176)](_0xe81d83),_0x14f9f1[_0x497938(0x1e7)](),this['configs'][_0x497938(0x754)][_0x497938(0x19f)](_0x14f9f1);}[_0x2db2ce(0x653)](_0x7b7fb1){const _0x2ceb45=_0x2db2ce;if(!this[_0x2ceb45(0x3c5)][_0x2ceb45(0x40d)](_0x7b7fb1))throw new _0x5c22ea(_0x3a91a5[_0x2ceb45(0x655)],_0x2ceb45(0x365));const _0x4aa80b=this['jobWorkers'][_0x2ceb45(0x118)](_0x7b7fb1);this[_0x2ceb45(0x3c5)][_0x2ceb45(0x176)](_0x7b7fb1),_0x4aa80b[_0x2ceb45(0x1e7)](),this[_0x2ceb45(0x626)][_0x2ceb45(0x754)]['unregisterSystemSource'](_0x4aa80b);}[_0x2db2ce(0x5fa)](_0xc08e6b){const _0x19ab0f=_0x2db2ce;if(!this[_0x19ab0f(0x32c)][_0x19ab0f(0x40d)](_0xc08e6b))throw new _0x5c22ea(_0x3a91a5['ObjectStoreDoesNotExist'],'Stream\x20does\x20not\x20exist');const _0x4b8fc4=this[_0x19ab0f(0x32c)][_0x19ab0f(0x118)](_0xc08e6b);this[_0x19ab0f(0x32c)]['delete'](_0xc08e6b),_0x4b8fc4[_0x19ab0f(0x1e7)](),this['configs']['mediator'][_0x19ab0f(0x19f)](_0x4b8fc4);}[_0x2db2ce(0x1be)](_0x1f89d7){const _0xd9f700=_0x2db2ce;if(!this[_0xd9f700(0x1d6)][_0xd9f700(0x40d)](_0x1f89d7))throw new _0x5c22ea(_0x3a91a5[_0xd9f700(0x634)],_0xd9f700(0x488));const _0x46e2d1=this[_0xd9f700(0x1d6)]['get'](_0x1f89d7);this[_0xd9f700(0x1d6)]['delete'](_0x1f89d7),_0x46e2d1[_0xd9f700(0x1e7)](),this['configs']['mediator'][_0xd9f700(0x19f)](_0x46e2d1);}[_0x2db2ce(0x5d4)](_0x301bb0){const _0x23b255=_0x2db2ce;if(!this[_0x23b255(0x3f0)][_0x23b255(0x40d)](_0x301bb0))throw new _0x5c22ea(_0x3a91a5['KeyValueDatabaseDoesNotExist'],_0x23b255(0x31a));const _0x3f1a24=this[_0x23b255(0x3f0)][_0x23b255(0x118)](_0x301bb0);this[_0x23b255(0x3f0)][_0x23b255(0x176)](_0x301bb0),_0x3f1a24['destroy'](),this[_0x23b255(0x626)]['mediator'][_0x23b255(0x19f)](_0x3f1a24);}[_0x2db2ce(0x1ca)](_0x777b3c){const _0x5f492e=_0x2db2ce;if(!this['localMediaStreams'][_0x5f492e(0x40d)](_0x777b3c))throw new _0xb694a1(_0xb694a1['codes']['LocalMediaStreamDoesNotExist'],{'label':_0x777b3c,'localId':this[_0x5f492e(0x626)][_0x5f492e(0x490)]['getId']()});const _0x19608d=this['localMediaStreams'][_0x5f492e(0x118)](_0x777b3c);this[_0x5f492e(0x626)][_0x5f492e(0x754)][_0x5f492e(0x19f)](_0x19608d),_0x19608d[_0x5f492e(0x1e7)](),this[_0x5f492e(0x41e)]['delete'](_0x777b3c);}['removeRemoteMediaStream'](_0x3e1df6,_0x19aa19){const _0x717101=_0x2db2ce;if(!this[_0x717101(0x5fd)][_0x717101(0x40d)](_0x3e1df6))throw new _0xb694a1(_0xb694a1[_0x717101(0x549)][_0x717101(0x235)],{'nodeId':_0x3e1df6,'localId':this[_0x717101(0x626)][_0x717101(0x490)][_0x717101(0x28c)]()});const _0x10f710=this[_0x717101(0x5fd)][_0x717101(0x118)](_0x3e1df6);if(!_0x10f710[_0x717101(0x40d)](_0x19aa19))throw new _0xb694a1(_0xb694a1[_0x717101(0x549)][_0x717101(0x1e5)],{'nodeId':_0x3e1df6,'label':_0x19aa19,'localId':this[_0x717101(0x626)][_0x717101(0x490)]['getId']()});const _0x445e92=_0x10f710[_0x717101(0x118)](_0x19aa19);this['configs']['mediator'][_0x717101(0x19f)](_0x445e92),_0x445e92['destroy'](),_0x10f710['delete'](_0x19aa19);}}var _0x304bee,_0x1ce6dc,_0x166fbe;!function(_0x40f7b8){const _0xb8cb2c=_0x2db2ce;_0x40f7b8['STVolatility']=_0xb8cb2c(0x39a),_0x40f7b8['DTVolatility']=_0xb8cb2c(0x622),_0x40f7b8[_0xb8cb2c(0xf8)]=_0xb8cb2c(0x70d),_0x40f7b8[_0xb8cb2c(0x61a)]=_0xb8cb2c(0x5f7),_0x40f7b8[_0xb8cb2c(0x629)]=_0xb8cb2c(0x5f3),_0x40f7b8['FramePerSecond']=_0xb8cb2c(0x36c),_0x40f7b8[_0xb8cb2c(0x113)]=_0xb8cb2c(0x4a1),_0x40f7b8[_0xb8cb2c(0x2e2)]='av_delay';}(_0x304bee||(_0x304bee={})),function(_0x15948e){const _0x310633=_0x2db2ce;_0x15948e[_0x310633(0x71a)]=_0x310633(0x2b2),_0x15948e[_0x310633(0xf8)]=_0x310633(0x434),_0x15948e[_0x310633(0x2e2)]=_0x310633(0x5c5),_0x15948e[_0x310633(0x371)]='cpu.fps',_0x15948e['Bitrate']=_0x310633(0x6ca),_0x15948e[_0x310633(0x629)]='bandwidth.jitter',_0x15948e['RoundTripTime']=_0x310633(0x1b0);}(_0x1ce6dc||(_0x1ce6dc={})),function(_0x59879e){const _0x3e890a=_0x2db2ce;_0x59879e[_0x59879e['Problem']=0x0]=_0x3e890a(0x4b9);}(_0x166fbe||(_0x166fbe={}));const _0x22831d=[{'type':_0x304bee[_0x2db2ce(0x373)],'reportMetric':_0x293ae9=>_0x293ae9['STVolatility'],'maxThreshold':2.5},{'type':_0x304bee[_0x2db2ce(0x2a0)],'reportMetric':_0x1422ea=>_0x1422ea['DTVolatility'],'maxThreshold':0.5}],_0x5e75a0=[{'type':_0x304bee[_0x2db2ce(0xf8)],'reportMetric':_0xca5360=>{const _0x12ab5c=_0x2db2ce,_0x4fe608=0x3e8/_0xca5360[_0x12ab5c(0x6e8)];return _0xca5360[_0x12ab5c(0x105)]/_0x4fe608;},'maxThreshold':0.75},{'type':_0x304bee[_0x2db2ce(0x61a)],'reportMetric':_0x535641=>{const _0x1d59e8=_0x2db2ce,_0x5d6014=_0x535641[_0x1d59e8(0x6e8)]*_0x535641[_0x1d59e8(0x6cc)]*_0x535641[_0x1d59e8(0xd7)]*0.12;return _0x535641[_0x1d59e8(0x5f7)]/_0x5d6014;},'minThreshold':0.25},{'type':_0x304bee[_0x2db2ce(0x629)],'reportMetric':_0x1af36d=>_0x1af36d[_0x2db2ce(0x5f3)],'maxThreshold':0.6},{'type':_0x304bee[_0x2db2ce(0x371)],'reportMetric':_0x2a16ed=>_0x2a16ed[_0x2db2ce(0x6e8)],'minThreshold':0xa}],_0x5f2d68=[{'type':_0x304bee[_0x2db2ce(0x629)],'reportMetric':_0x5abac2=>_0x5abac2['jitter'],'maxThreshold':0.6}],_0x16f499=[{'type':_0x304bee['RoundTripTime'],'reportMetric':_0x2ac506=>_0x2ac506[_0x2db2ce(0x47d)],'maxThreshold':0x1/0x0}],_0x383b57=[{'type':_0x304bee[_0x2db2ce(0x2e2)],'reportMetric':_0x5133d8=>_0x5133d8[_0x2db2ce(0x2e2)],'maxThreshold':0x12c}],_0xac0f76=[{'type':_0x1ce6dc['CPUCycle'],'issues':[{'type':_0x304bee[_0x2db2ce(0x373)],'threshold':0x5},{'type':_0x304bee[_0x2db2ce(0x2a0)],'threshold':0x5}]},{'type':_0x1ce6dc['TimePerFrame'],'issues':[{'type':_0x304bee['TimePerFrame'],'threshold':0x3}]},{'type':_0x1ce6dc[_0x2db2ce(0x2e2)],'issues':[{'type':_0x304bee['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x1ce6dc['FramePerSecond'],'issues':[{'type':_0x304bee[_0x2db2ce(0x371)],'threshold':0x3}]},{'type':_0x1ce6dc[_0x2db2ce(0x61a)],'issues':[{'type':_0x304bee[_0x2db2ce(0x61a)],'threshold':0x3}]},{'type':_0x1ce6dc['Jitter'],'issues':[{'type':_0x304bee[_0x2db2ce(0x629)],'threshold':0x3}]},{'type':_0x1ce6dc[_0x2db2ce(0x113)],'issues':[{'type':_0x304bee[_0x2db2ce(0x113)],'threshold':0x3}]}];var _0x259a17,_0x54e5da;!function(_0xc00d1b){const _0x470bde=_0x2db2ce;_0xc00d1b[_0xc00d1b[_0x470bde(0x562)]=0x0]=_0x470bde(0x562),_0xc00d1b[_0xc00d1b[_0x470bde(0x149)]=0x1]='LocalReport';}(_0x259a17||(_0x259a17={}));class _0x57106d{['configs'];['issues']=[];['systemTopic'];constructor(_0x43d613){const _0x46e715=_0x2db2ce;this['configs']=_0x43d613,this[_0x46e715(0x626)][_0x46e715(0x754)][_0x46e715(0x57f)](this);}[_0x2db2ce(0x155)](_0x35b47b){const _0x58776f=_0x2db2ce;this[_0x58776f(0x55f)]=_0x35b47b;}[_0x2db2ce(0x1f7)](){const _0x35604b=_0x2db2ce;this[_0x35604b(0x55f)]=void 0x0;}[_0x2db2ce(0x37c)](){const _0x30b41e=_0x2db2ce;this[_0x30b41e(0x626)][_0x30b41e(0x754)]['unregisterSystemSource'](this),this[_0x30b41e(0x11f)]=[];}[_0x2db2ce(0x323)](_0x347969){const _0x5698eb=_0x2db2ce;switch(_0x347969[_0x5698eb(0x581)][_0x5698eb(0x26f)]){case _0x259a17[_0x5698eb(0x149)]:this['detectLocalIssues'](_0x347969[_0x5698eb(0x581)][_0x5698eb(0x1f6)]);break;case _0x259a17[_0x5698eb(0x562)]:this[_0x5698eb(0xe6)](_0x347969['content'][_0x5698eb(0x1f6)]);}}[_0x2db2ce(0x67d)](_0x2c1edc,_0x2a1a65,_0x441c55,_0x167e66){const _0x449d92=_0x2db2ce,_0x48b80c=_0xac0f76[_0x449d92(0x3c6)](_0x47ce70=>_0x47ce70[_0x449d92(0x11f)][_0x449d92(0x6e4)](_0x1bb795=>_0x1bb795[_0x449d92(0x26f)]===_0x2c1edc));_0x167e66>=_0x48b80c['issues'][_0x449d92(0x3c6)](_0x1097f7=>_0x1097f7[_0x449d92(0x26f)]===_0x2c1edc)[_0x449d92(0x69c)]&&(this[_0x449d92(0x296)](_0x48b80c[_0x449d92(0x26f)],_0x2a1a65,_0x441c55),this['issues']=this[_0x449d92(0x11f)][_0x449d92(0x6f6)](_0x1fbe01=>!(_0x1fbe01['type']===_0x2c1edc&&_0x1fbe01[_0x449d92(0x2c7)]===_0x2a1a65&&_0x1fbe01[_0x449d92(0x596)]===_0x441c55)));}['detectLocalIssues'](_0x4230ca){const _0x321957=_0x2db2ce;_0x22831d[_0x321957(0x405)](_0x734520=>{const _0x13d9ed=_0x321957,_0x2d7560=_0x734520[_0x13d9ed(0x328)](_0x4230ca);_0x734520[_0x13d9ed(0x39b)]&&_0x2d7560>_0x734520[_0x13d9ed(0x39b)]&&this[_0x13d9ed(0x6fc)](_0x734520['type'],this[_0x13d9ed(0x626)][_0x13d9ed(0x490)]['getId'](),_0x1f6b2a['Sender'],_0x2d7560),_0x734520['minThreshold']&&_0x2d7560<_0x734520[_0x13d9ed(0x535)]&&this[_0x13d9ed(0x6fc)](_0x734520['type'],this['configs'][_0x13d9ed(0x490)][_0x13d9ed(0x28c)](),_0x1f6b2a[_0x13d9ed(0x559)],_0x2d7560);});}['detectStreamIssues'](_0x4111e4){const _0xf319b7=_0x2db2ce;let _0x481ea5=[];switch(_0x4111e4[_0xf319b7(0x596)]){case _0x1f6b2a['Sender']:_0x481ea5=_0x16f499;break;case _0x1f6b2a[_0xf319b7(0x22a)]:_0x481ea5=_0x383b57;}_0x4111e4[_0xf319b7(0x196)]&&this[_0xf319b7(0x2cc)](_0x4111e4['nodeId'],_0x1f6b2a['Sender'],_0x4111e4[_0xf319b7(0x196)]),_0x4111e4[_0xf319b7(0x417)]&&this['detectAudioIssues'](_0x4111e4[_0xf319b7(0x2c7)],_0x1f6b2a[_0xf319b7(0x559)],_0x4111e4[_0xf319b7(0x417)]),_0x481ea5[_0xf319b7(0x405)](_0x5212a3=>{const _0x1c17a4=_0xf319b7,_0x3d68ee=_0x5212a3[_0x1c17a4(0x328)](_0x4111e4);_0x5212a3[_0x1c17a4(0x39b)]&&_0x3d68ee>_0x5212a3['maxThreshold']&&this[_0x1c17a4(0x6fc)](_0x5212a3['type'],_0x4111e4[_0x1c17a4(0x2c7)],_0x1f6b2a['Sender'],_0x3d68ee),_0x5212a3[_0x1c17a4(0x535)]&&_0x3d68ee<_0x5212a3[_0x1c17a4(0x535)]&&this[_0x1c17a4(0x6fc)](_0x5212a3[_0x1c17a4(0x26f)],_0x4111e4[_0x1c17a4(0x2c7)],_0x1f6b2a[_0x1c17a4(0x559)],_0x3d68ee);});}[_0x2db2ce(0x2cc)](_0x259bbf,_0x594e92,_0x4720e8){const _0x165635=_0x2db2ce;0x0!==_0x4720e8[_0x165635(0x5f7)]&&_0x5e75a0[_0x165635(0x405)](_0x71a896=>{const _0x4602cf=_0x165635,_0x42e228=_0x71a896[_0x4602cf(0x328)](_0x4720e8);_0x71a896['maxThreshold']&&_0x42e228>_0x71a896[_0x4602cf(0x39b)]&&this[_0x4602cf(0x6fc)](_0x71a896['type'],_0x259bbf,_0x594e92,_0x42e228,_0x4602cf(0x196)),_0x71a896[_0x4602cf(0x535)]&&_0x42e228<_0x71a896[_0x4602cf(0x535)]&&this['addIssue'](_0x71a896[_0x4602cf(0x26f)],_0x259bbf,_0x594e92,_0x42e228,_0x4602cf(0x196));});}[_0x2db2ce(0x285)](_0x2bbd88,_0x7d5836,_0x2481a7){const _0x555472=_0x2db2ce;0x0!==_0x2481a7['bitrate']&&_0x5f2d68[_0x555472(0x405)](_0x432a29=>{const _0x41812f=_0x555472,_0x112f51=_0x432a29[_0x41812f(0x328)](_0x2481a7);_0x432a29[_0x41812f(0x39b)]&&_0x112f51>_0x432a29[_0x41812f(0x39b)]&&this[_0x41812f(0x6fc)](_0x432a29['type'],_0x2bbd88,_0x7d5836,_0x112f51,_0x41812f(0x417)),_0x432a29['minThreshold']&&_0x112f51<_0x432a29[_0x41812f(0x535)]&&this['addIssue'](_0x432a29[_0x41812f(0x26f)],_0x2bbd88,_0x7d5836,_0x112f51,_0x41812f(0x417));});}[_0x2db2ce(0x6fc)](_0x4c9de0,_0x17e525,_0x164b56,_0xf0bfb7,_0x4406bb){const _0x3b2c57=_0x2db2ce;_0x4aa571[_0x3b2c57(0x24e)](_0x50f1bc['Detection'],_0x3b2c57(0x160)+_0x4c9de0,_0x4c9de0,_0xf0bfb7),_0x4aa571[_0x3b2c57(0x229)]('issue',{'clusterId':this[_0x3b2c57(0x626)][_0x3b2c57(0x255)],'nodeId':this[_0x3b2c57(0x626)]['localNode'][_0x3b2c57(0x28c)](),'nodeType':this['configs']['localNode']['type'],'remoteId':_0x17e525,'data':{'type':_0x4c9de0,'value':_0xf0bfb7,'kind':_0x4406bb}}),this[_0x3b2c57(0x11f)]=this['issues'][_0x3b2c57(0x6f6)](_0x3a47a7=>Date['now']()-_0x3a47a7['timestamp']<0x7530),this[_0x3b2c57(0x11f)][_0x3b2c57(0x23d)]({'timestamp':Date[_0x3b2c57(0x279)](),'type':_0x4c9de0,'nodeId':_0x17e525,'origin':_0x164b56,'value':_0xf0bfb7,'kind':_0x4406bb});const _0x2e0796=this[_0x3b2c57(0x11f)]['filter'](_0x346383=>_0x346383[_0x3b2c57(0x26f)]===_0x4c9de0&&_0x346383[_0x3b2c57(0x2c7)]===_0x17e525&&_0x346383[_0x3b2c57(0x596)]===_0x164b56)[_0x3b2c57(0x48d)];this[_0x3b2c57(0x67d)](_0x4c9de0,_0x17e525,_0x164b56,_0x2e0796);}[_0x2db2ce(0x296)](_0x3a4c91,_0x108ece,_0x566176){const _0x161de8=_0x2db2ce;_0x4aa571['log'](_0x50f1bc[_0x161de8(0x5cd)],_0x161de8(0x19a)+_0x3a4c91),_0x4aa571[_0x161de8(0x229)](_0x161de8(0x2bd),{'clusterId':this[_0x161de8(0x626)][_0x161de8(0x255)],'nodeId':this[_0x161de8(0x626)][_0x161de8(0x490)]['getId'](),'nodeType':this[_0x161de8(0x626)]['localNode']['type'],'remoteId':_0x108ece,'data':{'type':_0x3a4c91}}),this[_0x161de8(0x55f)]?.[_0x161de8(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x161de8(0x5cd)],'content':{'type':_0x166fbe['Problem'],'data':{'timestamp':Date[_0x161de8(0x279)](),'nodeId':_0x108ece,'origin':_0x1f6b2a[_0x161de8(0x559)],'type':_0x3a4c91}}});}}class _0xe8e59b extends _0x2560fd{['type']=_0x26993c['NodeType'][_0x2db2ce(0x60a)];}class _0xb3abf5 extends _0xe8e59b{[_0x2db2ce(0x55f)];[_0x2db2ce(0xdf)]=Date[_0x2db2ce(0x279)]();[_0x2db2ce(0x545)];[_0x2db2ce(0x10e)];[_0x2db2ce(0x37c)](){const _0x43e5d3=_0x2db2ce;this[_0x43e5d3(0x545)]&&(clearTimeout(this[_0x43e5d3(0x545)]),delete this[_0x43e5d3(0x545)]),delete this['lastUpdated'],this[_0x43e5d3(0xdf)]=Date[_0x43e5d3(0x279)](),super[_0x43e5d3(0x37c)]();}[_0x2db2ce(0x155)](_0x2dffff){const _0x1ae8f8=_0x2db2ce;this[_0x1ae8f8(0x55f)]=_0x2dffff;}['unregisterSystemPublisher'](){const _0x5d2f12=_0x2db2ce;delete this[_0x5d2f12(0x55f)];}['answerJoin'](_0x255982){const _0x35950b=_0x2db2ce;!this[_0x35950b(0x545)]&&this[_0x35950b(0x5a8)]&&this[_0x35950b(0x55f)]['publish']({'sourceId':this['id'],'destinationIds':[_0x255982],'propagate':!0x0,'messageType':_0x190ed6['Node'],'content':{'type':_0x1a33b0['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x35950b(0x26f)]},'rank':this[_0x35950b(0x124)](),'remoteConnections':Array[_0x35950b(0x6a9)](this['remoteConnections']),'version':this[_0x35950b(0xdf)]}});}[_0x2db2ce(0x65c)](_0x24f20b){const _0x206e9=_0x2db2ce;this['remoteConnections'][_0x206e9(0x40d)](_0x24f20b)||(this[_0x206e9(0x344)][_0x206e9(0x3c3)](_0x24f20b),this[_0x206e9(0x43b)](),this[_0x206e9(0x3cb)](!0x0));}[_0x2db2ce(0x707)](_0x2b6248){const _0x50c40f=_0x2db2ce;this[_0x50c40f(0x344)][_0x50c40f(0x40d)](_0x2b6248)&&(this[_0x50c40f(0x344)][_0x50c40f(0x176)](_0x2b6248),this[_0x50c40f(0x43b)](),this[_0x50c40f(0x3cb)](!0x0));}['getCurrentVersion'](){const _0x1c6fec=_0x2db2ce;return this[_0x1c6fec(0xdf)];}[_0x2db2ce(0x25f)](_0x30cdb2,_0xdda787=!0x0){const _0x2d5c26=_0x2db2ce;this[_0x2d5c26(0x5a8)]!==_0x30cdb2&&(this['rank']=_0x30cdb2,_0xdda787&&(this[_0x2d5c26(0x43b)](),this['publishUserUpdate']()));}[_0x2db2ce(0x43b)](){const _0x76003d=_0x2db2ce;this[_0x76003d(0xdf)]=Date[_0x76003d(0x279)]();}[_0x2db2ce(0x3cb)](_0x2ff9c2=!0x1){const _0x4c33f1=_0x2db2ce;if(this[_0x4c33f1(0x5a8)]){if(this[_0x4c33f1(0x10e)]||(this[_0x4c33f1(0x10e)]=Date[_0x4c33f1(0x279)]()),this['updateDebounceTimeout']){if(Date[_0x4c33f1(0x279)]()-this[_0x4c33f1(0x10e)]>0x2328)return;clearTimeout(this[_0x4c33f1(0x545)]);}this[_0x4c33f1(0x545)]=setTimeout(()=>{const _0x102b74=_0x4c33f1;delete this[_0x102b74(0x10e)],delete this[_0x102b74(0x545)],this[_0x102b74(0x55f)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x190ed6['Node'],'content':{'type':_0x2ff9c2?_0x1a33b0[_0x102b74(0x5ab)]:_0x1a33b0['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x102b74(0x124)](),'remoteConnections':Array[_0x102b74(0x6a9)](this[_0x102b74(0x344)]),'version':this[_0x102b74(0xdf)]}});},0x3e8);}}}class _0xbee7a1 extends _0xacbec4{[_0x2db2ce(0x55f)];[_0x2db2ce(0xdf)]=Date[_0x2db2ce(0x279)]();[_0x2db2ce(0x545)];[_0x2db2ce(0x10e)];[_0x2db2ce(0x37c)](){const _0x58e83f=_0x2db2ce;this[_0x58e83f(0x545)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x58e83f(0x545)]),delete this[_0x58e83f(0x10e)],this[_0x58e83f(0xdf)]=Date['now'](),super[_0x58e83f(0x37c)]();}[_0x2db2ce(0x155)](_0x8c13d3){const _0x46dae5=_0x2db2ce;this[_0x46dae5(0x55f)]=_0x8c13d3;}[_0x2db2ce(0x1f7)](){const _0x58e66a=_0x2db2ce;delete this[_0x58e66a(0x55f)];}[_0x2db2ce(0x53f)](_0xf0f781){const _0x10fc17=_0x2db2ce;!this[_0x10fc17(0x545)]&&this[_0x10fc17(0x5a8)]&&this[_0x10fc17(0x55f)][_0x10fc17(0x536)]({'sourceId':this['id'],'destinationIds':[_0xf0f781],'propagate':!0x0,'messageType':_0x190ed6[_0x10fc17(0x254)],'content':{'type':_0x1a33b0['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x10fc17(0x23a)](),'email':this['getEmail']()},'rank':this[_0x10fc17(0x124)](),'remoteConnections':Array[_0x10fc17(0x6a9)](this[_0x10fc17(0x344)]),'version':this['currentVersion']}});}[_0x2db2ce(0x65c)](_0xc1612e){const _0xd4ece0=_0x2db2ce;this[_0xd4ece0(0x344)][_0xd4ece0(0x40d)](_0xc1612e)||(this[_0xd4ece0(0x344)]['add'](_0xc1612e),this['incrementVersion'](),this[_0xd4ece0(0x3cb)](!0x0));}[_0x2db2ce(0x707)](_0x4fc2c1){const _0x22f153=_0x2db2ce;this[_0x22f153(0x344)]['has'](_0x4fc2c1)&&(this['remoteConnections']['delete'](_0x4fc2c1),this['incrementVersion'](),this[_0x22f153(0x3cb)](!0x0));}[_0x2db2ce(0x338)](){const _0x33adbe=_0x2db2ce;return this[_0x33adbe(0xdf)];}[_0x2db2ce(0x74d)](_0x2e540c){const _0x2d3052=_0x2db2ce;this['displayName']!==_0x2e540c&&(this[_0x2d3052(0x3d3)]=_0x2e540c,this[_0x2d3052(0x43b)](),this[_0x2d3052(0x3cb)]());}['setEmail'](_0x336829){const _0x481aaa=_0x2db2ce;this[_0x481aaa(0x494)]!==_0x336829&&(this[_0x481aaa(0x494)]=_0x336829,this['incrementVersion'](),this[_0x481aaa(0x3cb)]());}[_0x2db2ce(0x25f)](_0x2338df,_0x567fef=!0x0){const _0x1e8596=_0x2db2ce;this['rank']!==_0x2338df&&(this[_0x1e8596(0x5a8)]=_0x2338df,_0x567fef&&(this['incrementVersion'](),this[_0x1e8596(0x3cb)]()));}['incrementVersion'](){const _0x2b5c83=_0x2db2ce;this[_0x2b5c83(0xdf)]=Date[_0x2b5c83(0x279)]();}[_0x2db2ce(0x3cb)](_0x47ba87=!0x1){const _0x4baea5=_0x2db2ce;if(this['rank']){if(this['lastUpdated']||(this[_0x4baea5(0x10e)]=Date[_0x4baea5(0x279)]()),this[_0x4baea5(0x545)]){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x4baea5(0x545)]);}this[_0x4baea5(0x545)]=setTimeout(()=>{const _0x1656ff=_0x4baea5;delete this[_0x1656ff(0x10e)],delete this[_0x1656ff(0x545)],this['systemTopic'][_0x1656ff(0x536)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x190ed6[_0x1656ff(0x254)],'content':{'type':_0x47ba87?_0x1a33b0[_0x1656ff(0x5ab)]:_0x1a33b0['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x1656ff(0x23a)](),'email':this['getEmail']()},'rank':this[_0x1656ff(0x124)](),'remoteConnections':Array[_0x1656ff(0x6a9)](this[_0x1656ff(0x344)]),'version':this['currentVersion']}});},0x3e8);}}}class _0xcbee9e{['id'];[_0x2db2ce(0x710)];[_0x2db2ce(0x6e1)];[_0x2db2ce(0x3f5)];['type']=_0x26993c[_0x2db2ce(0x23e)][_0x2db2ce(0x60a)];['lastCapacityReport'];constructor(_0x2ce98b,_0x1d2555,_0x2896d6,_0x310f20){const _0x546ef2=_0x2db2ce;this['id']=_0x2ce98b,this[_0x546ef2(0x710)]=_0x1d2555,this[_0x546ef2(0x6e1)]=_0x2896d6,this[_0x546ef2(0x3f5)]=_0x310f20;}[_0x2db2ce(0x28c)](){return this['id'];}['onConfigurationChange'](_0xdc8000){const _0xd9812=_0x2db2ce,_0x26212d=(0x0,_0x18623e[_0xd9812(0x6bf)])((0x0,_0x18623e[_0xd9812(0xd0)])(_0x58bac0['getFirestore'](),_0xd9812(0x1f0)+this[_0xd9812(0x6e1)]+'/resources/agent/items/'+this[_0xd9812(0x710)]),_0x5c546d=>{const _0x121d11=_0xd9812;if(_0x5c546d[_0x121d11(0x4c4)]()){const _0xb6a7f3=_0x5c546d[_0x121d11(0x1f6)]();if(this[_0x121d11(0x3f5)][_0x121d11(0x461)]['isEqual'](_0xb6a7f3[_0x121d11(0x461)]))return;_0x4aa571[_0x121d11(0x24e)](_0x50f1bc[_0x121d11(0x254)],_0x121d11(0x532),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x121d11(0x3f5)],'newConfig':_0xb6a7f3}),this[_0x121d11(0x3f5)]=_0xb6a7f3,_0xdc8000();}});return()=>_0x26212d();}[_0x2db2ce(0x420)](_0x4a44c3){const _0xf6bf03=_0x2db2ce;return this[_0xf6bf03(0x5da)](this[_0xf6bf03(0x710)],_0x4a44c3),_0x8ac28d['setInterval'](()=>this['reportCapacity'](this['groupId'],_0x4a44c3),0x493e0);}['getCapacityReport'](){const _0x525560=_0x2db2ce;if(!this[_0x525560(0x1e1)])throw new _0xb694a1(_0xb694a1[_0x525560(0x549)][_0x525560(0x51d)]);return this['lastCapacityReport'];}async['reportCapacity'](_0x27ec94,_0x5f447d){const _0x5c7839=_0x2db2ce,_0x1b9cb2=await _0x5f447d();this[_0x5c7839(0x1e1)]=_0x1b9cb2,await(0x0,_0x18623e['addDoc'])((0x0,_0x18623e[_0x5c7839(0x3d2)])(_0x58bac0[_0x5c7839(0x363)](),'developers/'+this['vendorId']+_0x5c7839(0x646)),{'agentId':this['id'],'groupId':_0x27ec94,'timestamp':(0x0,_0x18623e['serverTimestamp'])(),'capacity':_0x1b9cb2});}}!function(_0x1c74d7){const _0x10709b=_0x2db2ce;_0x1c74d7[_0x1c74d7[_0x10709b(0x680)]=0x0]=_0x10709b(0x680),_0x1c74d7[_0x1c74d7['Offline']=0x1]='Offline';}(_0x54e5da||(_0x54e5da={}));class _0x32cf4e extends _0xe8e59b{['currentVersion'];[_0x2db2ce(0x439)]=_0x54e5da[_0x2db2ce(0x680)];[_0x2db2ce(0x10e)]=Date[_0x2db2ce(0x279)]();constructor(_0x6fea95,_0x3ebe77=new Set(),_0x4076e1,_0x4a60ca){const _0x1c1e9e=_0x2db2ce;super(_0x6fea95,_0x3ebe77,_0x4a60ca),this[_0x1c1e9e(0xdf)]=_0x4076e1;}[_0x2db2ce(0x338)](){const _0x366faf=_0x2db2ce;return this[_0x366faf(0xdf)];}['getStatus'](){const _0x5575c7=_0x2db2ce;return this[_0x5575c7(0x439)];}[_0x2db2ce(0x585)](){const _0x3b7b2b=_0x2db2ce;return this[_0x3b7b2b(0x10e)];}['setRank'](_0x587c48){const _0x17c522=_0x2db2ce;this[_0x17c522(0x5a8)]!==_0x587c48&&(this['rank']=_0x587c48,this[_0x17c522(0x74e)]());}[_0x2db2ce(0x12c)](_0x139298){const _0x2e76ca=_0x2db2ce;let _0x98e676=!0x1;for(const _0x3d324e of this['remoteConnections'])_0x139298[_0x2e76ca(0x28e)](_0x3d324e)||(_0x98e676=!0x0,this[_0x2e76ca(0x344)][_0x2e76ca(0x176)](_0x3d324e));for(const _0x66be47 of _0x139298)this['remoteConnections'][_0x2e76ca(0x40d)](_0x66be47)||(_0x98e676=!0x0,this[_0x2e76ca(0x344)][_0x2e76ca(0x3c3)](_0x66be47));_0x98e676&&this[_0x2e76ca(0x74e)]();}['setCurrentVersion'](_0x44af5c){const _0x551caf=_0x2db2ce;this[_0x551caf(0xdf)]!==_0x44af5c&&(this[_0x551caf(0xdf)]=_0x44af5c,this['updateLastUpdated']());}['setStatus'](_0xe3993c){const _0x5bd099=_0x2db2ce;this[_0x5bd099(0x439)]!==_0xe3993c&&(this['status']=_0xe3993c,this[_0x5bd099(0x74e)](),_0xe3993c===_0x54e5da['Offline']&&this[_0x5bd099(0x37c)]());}[_0x2db2ce(0x74e)](){const _0x9649d8=_0x2db2ce;this[_0x9649d8(0x10e)]=Date[_0x9649d8(0x279)]();}}class _0x373fe0 extends _0xacbec4{[_0x2db2ce(0xdf)];['status']=_0x54e5da[_0x2db2ce(0x680)];[_0x2db2ce(0x10e)]=Date[_0x2db2ce(0x279)]();constructor(_0x172d68,_0x5216b4,_0x19a1ab,_0x4fd364=new Set(),_0x2b6d79,_0x224a82){const _0x2ec91f=_0x2db2ce;super(_0x172d68,_0x5216b4,_0x19a1ab,_0x4fd364,_0x224a82),this[_0x2ec91f(0xdf)]=_0x2b6d79;}[_0x2db2ce(0x338)](){const _0x3cda68=_0x2db2ce;return this[_0x3cda68(0xdf)];}[_0x2db2ce(0x518)](){const _0x435eac=_0x2db2ce;return this[_0x435eac(0x439)];}['getLastUpdated'](){const _0x4a6bf0=_0x2db2ce;return this[_0x4a6bf0(0x10e)];}[_0x2db2ce(0x74d)](_0x29ff97){const _0x1e475a=_0x2db2ce;this[_0x1e475a(0x3d3)]!==_0x29ff97&&(this['displayName']=_0x29ff97,this[_0x1e475a(0x74e)]());}['setEmail'](_0xd942d8){const _0x545970=_0x2db2ce;this['email']!==_0xd942d8&&(this[_0x545970(0x494)]=_0xd942d8,this['updateLastUpdated']());}['setRank'](_0x149a2f){const _0x43a2f5=_0x2db2ce;this['rank']!==_0x149a2f&&(this[_0x43a2f5(0x5a8)]=_0x149a2f,this[_0x43a2f5(0x74e)]());}[_0x2db2ce(0x12c)](_0x32895d){const _0x1dc3bd=_0x2db2ce;let _0xedb286=!0x1;for(const _0x3e7855 of this['remoteConnections'])_0x32895d[_0x1dc3bd(0x28e)](_0x3e7855)||(_0xedb286=!0x0,this[_0x1dc3bd(0x344)][_0x1dc3bd(0x176)](_0x3e7855));for(const _0x3f3dec of _0x32895d)this[_0x1dc3bd(0x344)][_0x1dc3bd(0x40d)](_0x3f3dec)||(_0xedb286=!0x0,this[_0x1dc3bd(0x344)][_0x1dc3bd(0x3c3)](_0x3f3dec));_0xedb286&&this[_0x1dc3bd(0x74e)]();}['setCurrentVersion'](_0x53c30b){const _0x38a40b=_0x2db2ce;this[_0x38a40b(0xdf)]!==_0x53c30b&&(this[_0x38a40b(0xdf)]=_0x53c30b,this['updateLastUpdated']());}[_0x2db2ce(0x552)](_0x400d08){const _0x32ac08=_0x2db2ce;this[_0x32ac08(0x439)]!==_0x400d08&&(this['status']=_0x400d08,this['updateLastUpdated'](),_0x400d08===_0x54e5da[_0x32ac08(0x2e3)]&&this[_0x32ac08(0x37c)]());}[_0x2db2ce(0x74e)](){this['lastUpdated']=Date['now']();}}class _0x2896b5{[_0x2db2ce(0x6e1)];[_0x2db2ce(0x255)];[_0x2db2ce(0x490)];[_0x2db2ce(0x606)];['disconnectCallback']=_0x38d6db();[_0x2db2ce(0x17a)];[_0x2db2ce(0x403)];['onDisconnectHandler'];[_0x2db2ce(0x4af)]=!0x1;[_0x2db2ce(0x2b9)];[_0x2db2ce(0x2f4)];constructor(_0x4349ee,_0x4d3820,_0x289393,_0x30e81b){const _0x1065dc=_0x2db2ce;this[_0x1065dc(0x6e1)]=_0x4349ee,this['clusterId']=_0x4d3820,this[_0x1065dc(0x490)]=_0x289393,this[_0x1065dc(0x606)]=_0x30e81b,this[_0x1065dc(0x2b9)]=_0x1065dc(0x4a8)+this['vendorId']+_0x1065dc(0x4a8)+this[_0x1065dc(0x255)],this['nodeKey']=_0x1065dc(0x4a8)+this[_0x1065dc(0x6e1)]+_0x1065dc(0x4a8)+this[_0x1065dc(0x490)][_0x1065dc(0x28c)](),this[_0x1065dc(0x17a)]=(0x0,_0x1147fd[_0x1065dc(0x6b8)])((0x0,_0x1147fd[_0x1065dc(0x5b5)])(_0x58bac0[_0x1065dc(0x3b8)](),_0x1065dc(0x45b)),_0xadb1c0=>{const _0x20765a=_0x1065dc;!0x0!==_0xadb1c0['val']()?this[_0x20765a(0x4af)]&&_0x4aa571[_0x20765a(0x554)](_0x20765a(0x60d),{'clusterId':this[_0x20765a(0x255)],'nodeId':this[_0x20765a(0x490)]['getId'](),'nodeType':this[_0x20765a(0x490)]['type']}):(this[_0x20765a(0x4af)]=!0x0,this[_0x20765a(0x5c7)](),_0x4aa571[_0x20765a(0x712)](_0x20765a(0x319),{'clusterId':this[_0x20765a(0x255)],'nodeId':this['localNode'][_0x20765a(0x28c)](),'nodeType':this[_0x20765a(0x490)][_0x20765a(0x26f)]}));});}async[_0x2db2ce(0x47f)](){const _0x60a305=_0x2db2ce;await this[_0x60a305(0x46c)]();const _0x3ec11a=await this['getAncestors']();return this[_0x60a305(0x403)]=(0x0,_0x1147fd['onChildRemoved'])((0x0,_0x1147fd['ref'])(_0x58bac0[_0x60a305(0x3b8)](),_0x60a305(0x6ff)+this[_0x60a305(0x2b9)]+'/nodes'),_0x24d3c1=>{const _0x57fdec=_0x60a305,_0x2eb81a=_0x24d3c1[_0x57fdec(0x46e)];if(!_0x2eb81a)return;const _0x183724=_0x2eb81a[_0x57fdec(0x4c1)](_0x57fdec(0x4a8)+this[_0x57fdec(0x6e1)]+'ccc','');this[_0x57fdec(0x534)]['publish'](_0x183724);}),_0x3ec11a;}async[_0x2db2ce(0x37c)](){const _0xadcd20=_0x2db2ce;this[_0xadcd20(0x403)]?.(),delete this['childRemovedUnsubscriber'],this[_0xadcd20(0x6be)]?.[_0xadcd20(0x2f9)](),delete this[_0xadcd20(0x6be)],this[_0xadcd20(0x17a)]?.(),delete this[_0xadcd20(0x17a)],await(0x0,_0x1147fd['remove'])((0x0,_0x1147fd[_0xadcd20(0x5b5)])(_0x58bac0[_0xadcd20(0x3b8)](),_0xadcd20(0x6ff)+this[_0xadcd20(0x2b9)]+_0xadcd20(0x378)+this[_0xadcd20(0x2f4)]));}[_0x2db2ce(0x605)](_0x57d1ff){const _0x2d8a56=_0x2db2ce;return this[_0x2d8a56(0x534)][_0x2d8a56(0x175)](_0x57d1ff);}async[_0x2db2ce(0x50d)](){const _0x1fb92e=_0x2db2ce,_0x3118b5=[],_0x559ff5=await(0x0,_0x1147fd[_0x1fb92e(0x118)])((0x0,_0x1147fd[_0x1fb92e(0x5b5)])(_0x58bac0['getDatabase'](),_0x1fb92e(0x6ff)+this[_0x1fb92e(0x2b9)]+_0x1fb92e(0x392))),_0xcf4d9=[];return _0x559ff5[_0x1fb92e(0x405)](_0x5804ca=>{const _0x2da7b6=_0x1fb92e,_0x4d2fdb=_0x5804ca['key']?.[_0x2da7b6(0x4c1)]('ccc'+this[_0x2da7b6(0x6e1)]+_0x2da7b6(0x4a8),'');_0xcf4d9[_0x2da7b6(0x23d)]({'id':_0x4d2fdb,'joinedAt':_0x5804ca[_0x2da7b6(0x746)]()['joinedAt'],'priority':_0x5804ca[_0x2da7b6(0x746)]()[_0x2da7b6(0x4b6)]});}),_0xcf4d9[_0x1fb92e(0x72c)]((_0x2746ca,_0x4b1a62)=>_0x2746ca['joinedAt']===_0x4b1a62[_0x1fb92e(0x436)]?_0x2746ca['priority']-_0x4b1a62['priority']:_0x2746ca['joinedAt']-_0x4b1a62['joinedAt'])[_0x1fb92e(0x20d)](_0xcf4d9[_0x1fb92e(0x29f)](_0x35fa64=>_0x35fa64['id']===this['localNode'][_0x1fb92e(0x28c)]())),_0xcf4d9['sort']((_0x2e0e20,_0x2bec3f)=>_0x2bec3f['joinedAt']===_0x2e0e20[_0x1fb92e(0x436)]?_0x2bec3f['priority']-_0x2e0e20['priority']:_0x2bec3f[_0x1fb92e(0x436)]-_0x2e0e20[_0x1fb92e(0x436)])[_0x1fb92e(0x405)](_0x3b896a=>{const _0x5ad1d2=_0x1fb92e;_0x3118b5[_0x5ad1d2(0x48d)]>=this[_0x5ad1d2(0x606)]||_0x3118b5[_0x5ad1d2(0x23d)](_0x3b896a['id']);}),_0x4aa571[_0x1fb92e(0x229)](_0x1fb92e(0x464),{'clusterId':this['clusterId'],'nodeId':this[_0x1fb92e(0x490)][_0x1fb92e(0x28c)](),'nodeType':this[_0x1fb92e(0x490)][_0x1fb92e(0x26f)],'data':{'ancestorIds':_0x3118b5,'allNodes':_0xcf4d9}}),_0x3118b5;}async[_0x2db2ce(0x46c)](){const _0x1e9249=_0x2db2ce;await(0x0,_0x1147fd['set'])((0x0,_0x1147fd[_0x1e9249(0x5b5)])(_0x58bac0[_0x1e9249(0x3b8)](),'clusters/'+this[_0x1e9249(0x2b9)]+_0x1e9249(0x378)+this[_0x1e9249(0x2f4)]),{'joinedAt':(0x0,_0x1147fd['serverTimestamp'])(),'priority':Math[_0x1e9249(0x55c)]()});}[_0x2db2ce(0x5c7)](){const _0x4101da=_0x2db2ce;this[_0x4101da(0x6be)]&&this[_0x4101da(0x6be)][_0x4101da(0x2f9)](),this[_0x4101da(0x6be)]=(0x0,_0x1147fd[_0x4101da(0x16d)])((0x0,_0x1147fd['ref'])(_0x58bac0[_0x4101da(0x3b8)](),_0x4101da(0x6ff)+this[_0x4101da(0x2b9)]+_0x4101da(0x378)+this[_0x4101da(0x2f4)])),this[_0x4101da(0x6be)][_0x4101da(0x6d7)]();}}class _0x1f6d8e{[_0x2db2ce(0x626)];['graphService'];[_0x2db2ce(0x490)];[_0x2db2ce(0x1a1)];[_0x2db2ce(0x221)];['discoveryUnsubscriber'];['ancestors']=[];[_0x2db2ce(0x55f)];[_0x2db2ce(0x24a)]=new Map();[_0x2db2ce(0x4d0)];['lastProcessRank'];constructor(_0x24f582,_0x2d81ea,_0x36308b){const _0x5cceb4=_0x2db2ce;this[_0x5cceb4(0x626)]=_0x24f582,this[_0x5cceb4(0x257)]=_0x2d81ea,this[_0x5cceb4(0x490)]=_0x36308b,this[_0x5cceb4(0x221)]=new _0x2896b5(this[_0x5cceb4(0x626)][_0x5cceb4(0x6e1)],this[_0x5cceb4(0x626)]['clusterId'],this['localNode'],this['graphService'][_0x5cceb4(0x193)]()),this[_0x5cceb4(0x161)]=this[_0x5cceb4(0x221)][_0x5cceb4(0x605)](this[_0x5cceb4(0x3a7)][_0x5cceb4(0x1e9)](this)),this[_0x5cceb4(0x626)][_0x5cceb4(0x754)]['registerSystemSource'](this[_0x5cceb4(0x490)]),this[_0x5cceb4(0x626)][_0x5cceb4(0x754)][_0x5cceb4(0x57f)](this),this[_0x5cceb4(0x1a1)]=_0x8ac28d[_0x5cceb4(0x546)](()=>{const _0x36950b=_0x5cceb4,_0x27f280=Date[_0x36950b(0x279)]();this[_0x36950b(0x257)][_0x36950b(0x449)]()[_0x36950b(0x405)](_0x1276a3=>{const _0x836f0d=_0x36950b;_0x1276a3['getStatus']()===_0x54e5da['Offline']&&_0x1276a3[_0x836f0d(0x585)]()<_0x27f280-0x493e0&&this[_0x836f0d(0x257)][_0x836f0d(0x5b1)](_0x1276a3[_0x836f0d(0x28c)]());});},0xea60);}[_0x2db2ce(0x155)](_0x15b653){this['systemTopic']=_0x15b653;}['unregisterSystemPublisher'](){const _0x1136ff=_0x2db2ce;delete this[_0x1136ff(0x55f)];}[_0x2db2ce(0x37c)](){const _0x29f938=_0x2db2ce;this[_0x29f938(0x4d0)]&&(clearTimeout(this[_0x29f938(0x4d0)]),delete this[_0x29f938(0x4d0)]),delete this['lastProcessRank'],this[_0x29f938(0x490)][_0x29f938(0x37c)](),this[_0x29f938(0x1a1)](),this['discoveryUnsubscriber'](),this[_0x29f938(0x626)][_0x29f938(0x754)]['unregisterSystemSource'](this[_0x29f938(0x490)]),this[_0x29f938(0x626)][_0x29f938(0x754)][_0x29f938(0x19f)](this),this[_0x29f938(0x221)][_0x29f938(0x37c)]();}[_0x2db2ce(0x68c)](){const _0x1fc59b=_0x2db2ce;return this[_0x1fc59b(0x603)];}[_0x2db2ce(0x47a)](){const _0x4bfe12=_0x2db2ce;return this[_0x4bfe12(0x490)][_0x4bfe12(0x28c)]();}['getLocalNode'](){return this['localNode'];}[_0x2db2ce(0x449)](_0xd517eb){const _0x446e0e=_0x2db2ce,_0x233a4d=Array[_0x446e0e(0x6a9)](this['graphService'][_0x446e0e(0x449)]()[_0x446e0e(0x3ac)]())[_0x446e0e(0x6f6)](_0x35e846=>_0x35e846[_0x446e0e(0x518)]()===_0x54e5da[_0x446e0e(0x680)]);return _0xd517eb?_0x233a4d['filter'](_0xd517eb):_0x233a4d;}async[_0x2db2ce(0x464)](){const _0x461751=_0x2db2ce;return this['ancestors']=await this['discoveryService'][_0x461751(0x47f)](),this[_0x461751(0x603)][_0x461751(0x48d)]<this[_0x461751(0x257)][_0x461751(0x193)]()&&(this[_0x461751(0x490)][_0x461751(0x25f)](this[_0x461751(0x603)][_0x461751(0x48d)]+0x1),this['processRank']()),this[_0x461751(0x603)];}[_0x2db2ce(0x46d)](_0x1bac19,_0x20f6c3){const _0x1598e4=_0x2db2ce,_0x339844=this['localNode'][_0x1598e4(0x563)](),_0x5b39bb=new Set(_0x339844),_0x3ca68f=Array[_0x1598e4(0x6a9)](_0x339844)['filter'](_0x11c4ec=>_0x11c4ec!==_0x1bac19)[_0x1598e4(0x627)](_0xe0c8a2=>({'id':_0xe0c8a2,'distance':0x1}));for(;_0x3ca68f['length']>0x0;){const _0x22640f=_0x3ca68f[_0x1598e4(0x315)]();if(!_0x22640f)continue;if(_0x22640f['id']===_0x20f6c3)return _0x22640f[_0x1598e4(0x468)];const _0x590ea4=this['graphService'][_0x1598e4(0x26e)](_0x22640f['id']);_0x590ea4&&_0x590ea4[_0x1598e4(0x518)]()!==_0x54e5da[_0x1598e4(0x2e3)]&&_0x590ea4[_0x1598e4(0x563)]()[_0x1598e4(0x405)](_0x17bac1=>{const _0x395c33=_0x1598e4;_0x5b39bb[_0x395c33(0x40d)](_0x17bac1)||(_0x5b39bb[_0x395c33(0x3c3)](_0x17bac1),_0x3ca68f['push']({'id':_0x17bac1,'distance':_0x22640f['distance']+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x4913be){const _0x3cfeb7=_0x2db2ce;try{switch(_0x4913be[_0x3cfeb7(0x581)]['type']){case _0x1a33b0[_0x3cfeb7(0x727)]:case _0x1a33b0[_0x3cfeb7(0x5ab)]:this[_0x3cfeb7(0x295)](_0x4913be[_0x3cfeb7(0x581)]),_0x4aa571[_0x3cfeb7(0x24e)](_0x50f1bc['Node'],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x3cfeb7(0x490)][_0x3cfeb7(0x28c)]()+',\x20'+_0x4913be[_0x3cfeb7(0x133)]+'\x27',_0x4913be,_0x4913be[_0x3cfeb7(0x581)]);break;case _0x1a33b0[_0x3cfeb7(0x736)]:this[_0x3cfeb7(0x4fa)](_0x4913be[_0x3cfeb7(0x581)]['id']),_0x4aa571[_0x3cfeb7(0x24e)](_0x50f1bc[_0x3cfeb7(0x254)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x3cfeb7(0x490)][_0x3cfeb7(0x28c)]()+',\x20'+_0x4913be[_0x3cfeb7(0x133)]+'\x27',_0x4913be,_0x4913be[_0x3cfeb7(0x581)]);}}catch(_0x1d01ba){if(_0x1d01ba instanceof _0x30f7c3)return void _0x4aa571['log'](_0x50f1bc['Node'],_0x1d01ba[_0x3cfeb7(0x475)]);throw _0x1d01ba;}}[_0x2db2ce(0x697)](_0x2270b5){const _0x401c7a=_0x2db2ce;switch(_0x2270b5[_0x401c7a(0x581)]['type']){case _0x41aa84[_0x401c7a(0x5e1)]:this[_0x401c7a(0x131)](_0x2270b5[_0x401c7a(0x133)]),_0x4aa571['log'](_0x50f1bc['Node'],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x401c7a(0x490)][_0x401c7a(0x28c)]()+',\x20'+_0x2270b5[_0x401c7a(0x133)]+'\x27',_0x2270b5,_0x2270b5['content']);break;case _0x41aa84[_0x401c7a(0x15a)]:this[_0x401c7a(0x61d)](_0x2270b5[_0x401c7a(0x133)]),_0x4aa571[_0x401c7a(0x24e)](_0x50f1bc[_0x401c7a(0x254)],_0x401c7a(0x56b),this[_0x401c7a(0x490)][_0x401c7a(0x28c)](),_0x2270b5,_0x2270b5[_0x401c7a(0x581)]);}}[_0x2db2ce(0x459)](_0x32fb2d){const _0x3ed669=_0x2db2ce;this[_0x3ed669(0x386)](_0x32fb2d),this[_0x3ed669(0x543)](_0x32fb2d);}[_0x2db2ce(0x543)](_0x21847f){const _0x23a6af=_0x2db2ce;this[_0x23a6af(0x490)]['answerJoin'](_0x21847f['id']),this[_0x23a6af(0x1b7)](_0x21847f['id']),this[_0x23a6af(0x4d6)](_0x21847f);}[_0x2db2ce(0x295)](_0x1c332f){const _0x264ad2=_0x2db2ce,{id:_0x4efc31,metaData:_0x3cd1cf,rank:_0x57942f,remoteConnections:_0x32b21f,version:_0x444b0d}=_0x1c332f,_0x21691f=this[_0x264ad2(0x257)][_0x264ad2(0x26e)](_0x4efc31);if(_0x21691f){if(!(_0x444b0d<=_0x21691f[_0x264ad2(0x338)]())){if(_0x21691f[_0x264ad2(0x12c)](_0x32b21f),_0x21691f['setCurrentVersion'](_0x444b0d),_0x21691f[_0x264ad2(0x26f)]===_0x26993c[_0x264ad2(0x23e)]['User']&&_0x3cd1cf['type']===_0x26993c[_0x264ad2(0x23e)][_0x264ad2(0x482)]&&(_0x21691f['setDisplayName'](_0x3cd1cf[_0x264ad2(0x3d3)]),_0x21691f[_0x264ad2(0x69d)](_0x3cd1cf[_0x264ad2(0x494)])),_0x57942f&&_0x21691f[_0x264ad2(0x25f)](_0x57942f),this[_0x264ad2(0x4d1)](_0x4efc31,_0x57942f),_0x21691f[_0x264ad2(0x518)]()===_0x54e5da['Offline'])return _0x21691f['setStatus'](_0x54e5da[_0x264ad2(0x680)]),this['processRank'](),void this[_0x264ad2(0x543)](_0x1c332f);this[_0x264ad2(0x445)](),this[_0x264ad2(0x4f9)]({'id':_0x4efc31,'metaData':_0x3cd1cf,'remoteConnections':_0x32b21f,'version':_0x444b0d});}}else this[_0x264ad2(0x459)](_0x1c332f);}[_0x2db2ce(0x4d1)](_0xb5ed94,_0x1aae18){const _0x572a9f=_0x2db2ce;_0x1aae18&&this[_0x572a9f(0x603)][_0x572a9f(0x28e)](_0xb5ed94)&&this[_0x572a9f(0x490)][_0x572a9f(0x25f)](_0x1aae18+this[_0x572a9f(0x603)]['indexOf'](_0xb5ed94)+0x1);}[_0x2db2ce(0x131)](_0x5dab42){const _0x2f896a=_0x2db2ce;this[_0x2f896a(0x490)][_0x2f896a(0x65c)](_0x5dab42);}[_0x2db2ce(0x386)]({id:_0x2b5055,metaData:_0x5624a1,rank:_0x52a8c9,remoteConnections:_0x4ab736,version:_0x2fedab}){const _0x276d41=_0x2db2ce;if(this[_0x276d41(0x257)][_0x276d41(0x57b)](_0x2b5055))throw new _0x30f7c3(_0x276d41(0x5c8)+_0x2b5055);switch(_0x5624a1[_0x276d41(0x26f)]){case _0x26993c[_0x276d41(0x23e)][_0x276d41(0x482)]:const {displayName:_0x44d748,email:_0x134926}=_0x5624a1;this['graphService'][_0x276d41(0x16a)](_0x2b5055,new _0x373fe0(_0x2b5055,_0x44d748,_0x134926,new Set(_0x4ab736),_0x2fedab,_0x52a8c9));break;case _0x26993c[_0x276d41(0x23e)][_0x276d41(0x60a)]:this[_0x276d41(0x257)][_0x276d41(0x16a)](_0x2b5055,new _0x32cf4e(_0x2b5055,new Set(_0x4ab736),_0x2fedab,_0x52a8c9));}this[_0x276d41(0x4d1)](_0x2b5055,_0x52a8c9),this[_0x276d41(0x445)]();}[_0x2db2ce(0x1b7)](_0xfa09a2){const _0x4fd590=_0x2db2ce;this[_0x4fd590(0x55f)][_0x4fd590(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x4fd590(0x254)],'content':{'type':_0x1a33b0[_0x4fd590(0x2ca)],'id':_0xfa09a2}});}[_0x2db2ce(0x61d)](_0x39619d){const _0x40c551=_0x2db2ce;this[_0x40c551(0x55f)]?.[_0x40c551(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6['Node'],'content':{'type':_0x1a33b0[_0x40c551(0x736)],'id':_0x39619d}});}['handleNodeDisconnect'](_0x20b2d9){const _0x357148=_0x2db2ce;if(_0x20b2d9===this[_0x357148(0x490)][_0x357148(0x28c)]())return this[_0x357148(0x626)][_0x357148(0x754)][_0x357148(0x12b)](_0x357148(0x198),{'id':_0x20b2d9}),this[_0x357148(0x626)][_0x357148(0x754)][_0x357148(0x37c)](!0x0),this['configs'][_0x357148(0x754)][_0x357148(0x677)](),void this[_0x357148(0x626)][_0x357148(0x754)][_0x357148(0x54f)]();this[_0x357148(0x61d)](_0x20b2d9);}[_0x2db2ce(0x4fa)](_0xed8883){const _0x4c0727=_0x2db2ce;this[_0x4c0727(0x603)]['includes'](_0xed8883)?this[_0x4c0727(0x508)](_0xed8883):this[_0x4c0727(0x490)][_0x4c0727(0x563)]()['has'](_0xed8883)&&this[_0x4c0727(0x128)](_0xed8883),this[_0x4c0727(0x490)][_0x4c0727(0x707)](_0xed8883);const _0x48a8a5=Array[_0x4c0727(0x6a9)](this[_0x4c0727(0x24a)][_0x4c0727(0x755)]())[_0x4c0727(0x3c6)](([,_0xd7b3ed])=>_0xd7b3ed==_0xd7b3ed);_0x48a8a5&&this[_0x4c0727(0x24a)][_0x4c0727(0x176)](_0x48a8a5[0x0]);const _0x32eef9=this[_0x4c0727(0x257)][_0x4c0727(0x26e)](_0xed8883);if(!_0x32eef9)return;const _0x11842b=_0x32eef9[_0x4c0727(0x124)](),_0x4b9bb0=this[_0x4c0727(0x490)][_0x4c0727(0x124)]();_0x4b9bb0&&_0x11842b&&_0x11842b<_0x4b9bb0&&this[_0x4c0727(0x490)][_0x4c0727(0x25f)](_0x4b9bb0-0x1,!0x1),Array[_0x4c0727(0x6a9)](this[_0x4c0727(0x257)]['getRemoteNodes']()[_0x4c0727(0x3ac)]())['forEach'](_0x79bf67=>{const _0x141334=_0x4c0727,_0x2848af=_0x79bf67[_0x141334(0x124)]();_0x2848af&&_0x11842b&&_0x11842b<_0x2848af&&_0x79bf67['setRank'](_0x2848af-0x1);}),_0x32eef9['setStatus'](_0x54e5da[_0x4c0727(0x2e3)]),this[_0x4c0727(0x626)]['mediator'][_0x4c0727(0x12b)](_0x32eef9[_0x4c0727(0x26f)]+_0x4c0727(0x4e6),{'id':_0xed8883});}[_0x2db2ce(0x4d6)]({id:_0x4010cd,metaData:_0x38ccf6,remoteConnections:_0x3e5c39}){const _0xdffb54=_0x2db2ce;switch(_0x38ccf6[_0xdffb54(0x26f)]){case _0x26993c['NodeType'][_0xdffb54(0x482)]:this[_0xdffb54(0x626)][_0xdffb54(0x754)][_0xdffb54(0x12b)](_0xdffb54(0x59f),{'id':_0x4010cd,'metaData':_0x38ccf6,'remoteConnections':_0x3e5c39});break;case _0x26993c['NodeType']['Agent']:this[_0xdffb54(0x626)][_0xdffb54(0x754)][_0xdffb54(0x12b)](_0xdffb54(0x5b9),{'id':_0x4010cd,'metaData':_0x38ccf6,'remoteConnections':_0x3e5c39});}}[_0x2db2ce(0x4f9)]({id:_0x1e0c4d,metaData:_0x47e72d,remoteConnections:_0x3b1f34}){const _0x3d3177=_0x2db2ce;switch(_0x47e72d[_0x3d3177(0x26f)]){case _0x26993c[_0x3d3177(0x23e)]['User']:this[_0x3d3177(0x626)]['mediator'][_0x3d3177(0x12b)](_0x3d3177(0x375),{'id':_0x1e0c4d,'metaData':_0x47e72d,'remoteConnections':_0x3b1f34});break;case _0x26993c[_0x3d3177(0x23e)][_0x3d3177(0x60a)]:this[_0x3d3177(0x626)][_0x3d3177(0x754)]['notifyCluster'](_0x3d3177(0x2b1),{'id':_0x1e0c4d,'metaData':_0x47e72d,'remoteConnections':_0x3b1f34});}}[_0x2db2ce(0x445)](){const _0x51e93a=_0x2db2ce;if(this[_0x51e93a(0x579)]||(this[_0x51e93a(0x579)]=Date['now']()),this[_0x51e93a(0x4d0)]){if(Date[_0x51e93a(0x279)]()-this[_0x51e93a(0x579)]>0x2328)return;clearTimeout(this[_0x51e93a(0x4d0)]);}this[_0x51e93a(0x4d0)]=setTimeout(async()=>{const _0x18db86=_0x51e93a;delete this[_0x18db86(0x579)],delete this['debounceProcessRank'];const _0x3a7150=this[_0x18db86(0x490)][_0x18db86(0x124)]();if(!_0x3a7150)return;const _0x5ad321=this[_0x18db86(0x257)][_0x18db86(0x200)](this[_0x18db86(0x257)][_0x18db86(0x449)]()[_0x18db86(0x703)]);if(this[_0x18db86(0x24a)][_0x18db86(0x703)]>=_0x5ad321)return;let _0x42d469=0x1;for(;this[_0x18db86(0x626)][_0x18db86(0x754)][_0x18db86(0x195)]()[_0x18db86(0x48d)]<this['graphService'][_0x18db86(0x35a)]()&&_0x42d469<=_0x5ad321;){if(this[_0x18db86(0x24a)][_0x18db86(0x40d)](_0x42d469)){_0x42d469+=0x1;continue;}const _0x4908fd=this['graphService'][_0x18db86(0x2ad)](_0x3a7150,_0x42d469),_0x42c267=Array['from'](this[_0x18db86(0x257)][_0x18db86(0x449)]()[_0x18db86(0x3ac)]())[_0x18db86(0x3c6)](_0x5e8cb4=>_0x5e8cb4[_0x18db86(0x124)]()===_0x4908fd&&_0x5e8cb4[_0x18db86(0x518)]()===_0x54e5da[_0x18db86(0x680)]);if(_0x42c267){try{await this[_0x18db86(0x626)]['mediator'][_0x18db86(0x134)](_0x42c267[_0x18db86(0x28c)](),_0x4d69c0['Optimization']),this['optimizationLayers'][_0x18db86(0x3bc)](_0x42d469,_0x42c267[_0x18db86(0x28c)]());}catch(_0x3151b8){if(!(_0x3151b8 instanceof _0xb694a1&&_0x3151b8['code']===_0xb694a1[_0x18db86(0x549)][_0x18db86(0x22d)]))throw _0x3151b8;_0x4aa571[_0x18db86(0x24e)](_0x50f1bc[_0x18db86(0x254)],this[_0x18db86(0x490)][_0x18db86(0x28c)](),_0x42c267[_0x18db86(0x28c)](),_0x3151b8[_0x18db86(0x475)]);}_0x42d469+=0x1;}else _0x42d469+=0x1;}},0x3e8);}async[_0x2db2ce(0x508)](_0x2b6537){const _0x5c6cba=_0x2db2ce;this['ancestors'][_0x5c6cba(0x20d)](this[_0x5c6cba(0x603)][_0x5c6cba(0x184)](_0x2b6537),0x1);const _0x3095d6=await this['discoveryService']['getAncestors']();for(const _0x47f694 of _0x3095d6)if(!this[_0x5c6cba(0x603)][_0x5c6cba(0x28e)](_0x47f694)){const _0x1d0008=Array['from'](this[_0x5c6cba(0x24a)][_0x5c6cba(0x755)]())['find'](([,_0x3bfab1])=>_0x3bfab1===_0x47f694);_0x1d0008&&this[_0x5c6cba(0x24a)][_0x5c6cba(0x176)](_0x1d0008[0x0]),this[_0x5c6cba(0x626)]['mediator'][_0x5c6cba(0x134)](_0x47f694,_0x4d69c0['Core']);}0x0===_0x3095d6[_0x5c6cba(0x48d)]&&this[_0x5c6cba(0x490)]['setRank'](0x1),this['ancestors']=_0x3095d6;}async[_0x2db2ce(0x128)](_0x54b282){const _0x4ddc8d=_0x2db2ce,_0xad6924=this[_0x4ddc8d(0x490)][_0x4ddc8d(0x124)]();if(!_0xad6924)return;const _0x2ab307=this['graphService'][_0x4ddc8d(0x26e)](_0x54b282);if(!_0x2ab307||_0x2ab307[_0x4ddc8d(0x518)]()===_0x54e5da[_0x4ddc8d(0x2e3)])return;const _0x5d9c10=_0x2ab307['getRank']();if(!_0x5d9c10||_0x5d9c10<_0xad6924)return;const _0x98525=this[_0x4ddc8d(0x180)](this['localNode'][_0x4ddc8d(0x563)](),_0xad6924),_0x14dfad=this['getOutgoingOptimizationConnections'](_0x2ab307[_0x4ddc8d(0x563)](),_0x5d9c10)[_0x98525[_0x4ddc8d(0x29f)](([_0x30af04])=>_0x30af04===_0x54b282)];if(!_0x14dfad||this[_0x4ddc8d(0x490)][_0x4ddc8d(0x563)]()[_0x4ddc8d(0x40d)](_0x14dfad[0x0]))return;const _0x30a9b1=this[_0x4ddc8d(0x257)][_0x4ddc8d(0x26e)](_0x14dfad[0x0]);if(_0x30a9b1&&_0x30a9b1[_0x4ddc8d(0x518)]()!==_0x54e5da[_0x4ddc8d(0x2e3)])try{await this['configs'][_0x4ddc8d(0x754)][_0x4ddc8d(0x134)](_0x14dfad[0x0],_0x4d69c0['Optimization']);const _0x2ddc0b=Array[_0x4ddc8d(0x6a9)](this[_0x4ddc8d(0x24a)][_0x4ddc8d(0x755)]())[_0x4ddc8d(0x3c6)](([,_0x5b6330])=>_0x5b6330===_0x54b282);_0x2ddc0b&&this[_0x4ddc8d(0x24a)][_0x4ddc8d(0x3bc)](_0x2ddc0b[0x0],_0x14dfad[0x0]);}catch(_0x252f43){if(!(_0x252f43 instanceof _0xb694a1&&_0x252f43[_0x4ddc8d(0x308)]===_0xb694a1[_0x4ddc8d(0x549)][_0x4ddc8d(0x22d)]))throw _0x252f43;_0x4aa571[_0x4ddc8d(0x24e)](_0x50f1bc['Node'],this['localNode'][_0x4ddc8d(0x28c)](),_0x14dfad[0x0],_0x252f43['message']);}}['getOutgoingOptimizationConnections'](_0x2616dd,_0x5e2beb){const _0x29493b=_0x2db2ce;return Array['from'](_0x2616dd)[_0x29493b(0x239)]((_0x1d0feb,_0x209917)=>{const _0x161966=_0x29493b,_0x5ad92f=this['graphService'][_0x161966(0x26e)](_0x209917);if(!_0x5ad92f||_0x5ad92f[_0x161966(0x518)]()===_0x54e5da['Offline'])return _0x1d0feb;const _0x549d0d=_0x5ad92f[_0x161966(0x124)]();if(!_0x549d0d)return _0x1d0feb;const _0x39dca0=_0x549d0d-_0x5e2beb;return _0x39dca0<=this['graphService'][_0x161966(0x193)]()||_0x1d0feb[_0x161966(0x23d)]([_0x209917,_0x39dca0]),_0x1d0feb;},[])[_0x29493b(0x72c)](([,_0x17ecd8],[,_0x419c0c])=>_0x17ecd8-_0x419c0c);}}const _0x468ab6=[{'problemType':_0x1ce6dc[_0x2db2ce(0x71a)],'remediations':[{'type':_0x59d153['Remediation'],'component':_0x4e7bef[_0x2db2ce(0x45f)],'action':_0x18b64a[_0x2db2ce(0x5b6)]},{'type':_0x59d153[_0x2db2ce(0x67c)],'component':_0x4e7bef['Resolution'],'action':_0x18b64a['Downgrade']}]},{'problemType':_0x1ce6dc[_0x2db2ce(0xf8)],'remediations':[{'type':_0x59d153[_0x2db2ce(0x6b1)],'component':_0x4e7bef[_0x2db2ce(0x45f)],'action':_0x18b64a['Downgrade']}]},{'problemType':_0x1ce6dc[_0x2db2ce(0x2e2)],'remediations':[{'type':_0x59d153[_0x2db2ce(0x6b1)],'component':_0x4e7bef[_0x2db2ce(0x45f)],'action':_0x18b64a['Downgrade']}]},{'problemType':_0x1ce6dc['FramePerSecond'],'remediations':[{'type':_0x59d153[_0x2db2ce(0x6b1)],'component':_0x4e7bef[_0x2db2ce(0x45f)],'action':_0x18b64a['Downgrade']}]},{'problemType':_0x1ce6dc[_0x2db2ce(0x61a)],'remediations':[{'type':_0x59d153[_0x2db2ce(0x6b1)],'component':_0x4e7bef[_0x2db2ce(0x61a)],'action':_0x18b64a[_0x2db2ce(0x5b6)]}]},{'problemType':_0x1ce6dc[_0x2db2ce(0x629)],'remediations':[{'type':_0x59d153[_0x2db2ce(0x6b1)],'component':_0x4e7bef['Bitrate'],'action':_0x18b64a['Downgrade']}]},{'problemType':_0x1ce6dc['RoundTripTime'],'remediations':[{'type':_0x59d153[_0x2db2ce(0x6b1)],'component':_0x4e7bef[_0x2db2ce(0x61a)],'action':_0x18b64a[_0x2db2ce(0x5b6)]}]}];class _0x179e32{[_0x2db2ce(0x626)];[_0x2db2ce(0x55f)];[_0x2db2ce(0x316)]=new Map();constructor(_0x1af503){const _0x55fc47=_0x2db2ce;this[_0x55fc47(0x626)]=_0x1af503,this[_0x55fc47(0x626)][_0x55fc47(0x754)][_0x55fc47(0x57f)](this);}['close'](){const _0x1ac8d8=_0x2db2ce;this[_0x1ac8d8(0x626)][_0x1ac8d8(0x754)][_0x1ac8d8(0x19f)](this);}[_0x2db2ce(0x155)](_0x104945){const _0x1cb3f1=_0x2db2ce;this[_0x1cb3f1(0x55f)]=_0x104945;}[_0x2db2ce(0x1f7)](){const _0x48aac2=_0x2db2ce;delete this[_0x48aac2(0x55f)];}['handleDetectionSystemEvents'](_0x361d73){const _0x6ec554=_0x2db2ce;_0x361d73[_0x6ec554(0x581)][_0x6ec554(0x26f)]===_0x166fbe['Problem']&&this[_0x6ec554(0x187)](_0x361d73[_0x6ec554(0x581)][_0x6ec554(0x1f6)]);}[_0x2db2ce(0x702)](_0x4f9137){const _0x1250a1=_0x2db2ce;_0x4f9137[_0x1250a1(0x581)]['type']===_0x59d153['RemoteRemediation']&&this[_0x1250a1(0x446)](_0x4f9137[_0x1250a1(0x133)],{'type':_0x59d153[_0x1250a1(0x6b1)],'component':_0x4f9137[_0x1250a1(0x581)][_0x1250a1(0x1f6)][_0x1250a1(0x693)],'action':_0x4f9137[_0x1250a1(0x581)][_0x1250a1(0x1f6)][_0x1250a1(0x2d1)]});}[_0x2db2ce(0x187)](_0x1312c3){const _0x2e85c9=_0x2db2ce,_0x3bf47f=_0x468ab6[_0x2e85c9(0x3c6)](_0x37dd48=>_0x37dd48[_0x2e85c9(0x726)]===_0x1312c3[_0x2e85c9(0x26f)]);_0x3bf47f[_0x2e85c9(0x6c4)]?.[_0x2e85c9(0x405)](_0x489d00=>{const _0x16a446=_0x2e85c9;this[_0x16a446(0x446)](_0x1312c3[_0x16a446(0x2c7)],{'type':_0x1312c3[_0x16a446(0x596)]===_0x1f6b2a['Sender']?_0x59d153[_0x16a446(0x6b1)]:_0x59d153['RemoteRemediation'],'component':_0x489d00[_0x16a446(0x693)],'action':_0x489d00['action']});});}['applyRemediation'](_0x4462e7,_0x3ec5d3){const _0x4261ac=_0x2db2ce;if(_0x3ec5d3[_0x4261ac(0x26f)]===_0x59d153['Remediation']){const _0xa1be21=Date[_0x4261ac(0x279)](),_0x1e95b8=this['lastRemediations'][_0x4261ac(0x118)](_0x4462e7);if(_0x1e95b8&&_0xa1be21-_0x1e95b8<0x1388)return;this['lastRemediations'][_0x4261ac(0x3bc)](_0x4462e7,_0xa1be21);}_0x4aa571['log'](_0x50f1bc['Remediation'],_0x4261ac(0x31e),_0x3ec5d3),_0x4aa571[_0x4261ac(0x229)](_0x4261ac(0x55a),{'clusterId':this['configs'][_0x4261ac(0x255)],'nodeId':this[_0x4261ac(0x626)][_0x4261ac(0x490)][_0x4261ac(0x28c)](),'nodeType':this[_0x4261ac(0x626)][_0x4261ac(0x490)]['type'],'remoteId':_0x4462e7,'data':{'type':_0x3ec5d3['type'],'component':_0x3ec5d3[_0x4261ac(0x693)],'action':_0x3ec5d3[_0x4261ac(0x2d1)]}});let _0x543d00,_0x5cd0f3=_0x150f3e;_0x3ec5d3['type']===_0x59d153[_0x4261ac(0x67c)]&&(_0x5cd0f3=this[_0x4261ac(0x626)]['localNode'][_0x4261ac(0x28c)](),_0x543d00=[_0x4462e7]),this[_0x4261ac(0x55f)][_0x4261ac(0x536)]({'sourceId':_0x5cd0f3,'destinationIds':_0x543d00,'messageType':_0x190ed6[_0x4261ac(0x6b1)],'content':{'type':_0x3ec5d3[_0x4261ac(0x26f)],'targetId':_0x4462e7,'data':_0x3ec5d3}});}}const _0x3f7a86=0x3e8,_0x518573=0x7530,_0x5f107d=_0x2db2ce(0x1eb),_0xcb3899=_0x2db2ce(0x304),_0x321336=_0x2db2ce(0x306),_0x2735ad=[_0x5f107d,_0xcb3899],_0xc48baa=[_0x321336];class _0x1b7f5a{[_0x2db2ce(0x47d)]=0x0;[_0x2db2ce(0x4f3)]=0x0;[_0x2db2ce(0x5f3)]=0x0;['packetsLost']=0x0;['packets']=0x0;[_0x2db2ce(0x65b)]=0x0;[_0x2db2ce(0x406)]=0x0;[_0x2db2ce(0x38a)]=0x0;[_0x2db2ce(0x41d)]=0x0;get[_0x2db2ce(0x5f7)](){const _0x3e2a8b=_0x2db2ce;return this[_0x3e2a8b(0x65b)]>0x0&&this[_0x3e2a8b(0x406)]>0x0&&Date[_0x3e2a8b(0x279)]()-this['currentTimestamp']<_0x518573?(this[_0x3e2a8b(0x38a)]-this[_0x3e2a8b(0x41d)])/(this[_0x3e2a8b(0x65b)]-this[_0x3e2a8b(0x406)])*0x8*0x3e8:0x0;}['processReport'](_0x434282){const _0x2d1118=_0x2db2ce;switch(_0x434282[_0x2d1118(0x26f)]){case _0x321336:this[_0x2d1118(0x3b3)](_0x434282);break;case _0x5f107d:this['processOutboundReport'](_0x434282);break;case _0xcb3899:this[_0x2d1118(0x5b8)](_0x434282);}}[_0x2db2ce(0x62c)](){const _0x403fdd=_0x2db2ce;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x403fdd(0x5f0)](),'roundTripTime':this[_0x403fdd(0x47d)],'jitter':this['jitter']};}[_0x2db2ce(0x3b3)](_0x38de9e){const _0x7fceb0=_0x2db2ce;this['setBytes'](_0x38de9e[_0x7fceb0(0x22e)]),this[_0x7fceb0(0x64f)](_0x38de9e[_0x7fceb0(0x461)]),this[_0x7fceb0(0x138)]=_0x38de9e[_0x7fceb0(0x12f)],this['packetsLost']=_0x38de9e[_0x7fceb0(0x50e)],void 0x0!==_0x38de9e['jitter']?this[_0x7fceb0(0x5f3)]=_0x38de9e[_0x7fceb0(0x5f3)]:this[_0x7fceb0(0x5f3)]=0x0,void 0x0!==_0x38de9e[_0x7fceb0(0x4f3)]?this[_0x7fceb0(0x4f3)]=_0x38de9e[_0x7fceb0(0x4f3)]:this[_0x7fceb0(0x4f3)]=0x0;}[_0x2db2ce(0x2ec)](_0x16dac7){const _0x9a3a3b=_0x2db2ce;this[_0x9a3a3b(0x366)](_0x16dac7[_0x9a3a3b(0x1c4)]),this[_0x9a3a3b(0x64f)](_0x16dac7[_0x9a3a3b(0x461)]),this[_0x9a3a3b(0x138)]=_0x16dac7['packetsSent'];}[_0x2db2ce(0x5b8)](_0x19eec8){const _0xb67c3a=_0x2db2ce;this[_0xb67c3a(0x47d)]=0x3e8*_0x19eec8[_0xb67c3a(0x47d)],void 0x0!==_0x19eec8[_0xb67c3a(0x5f3)]?this[_0xb67c3a(0x5f3)]=_0x19eec8['jitter']:this[_0xb67c3a(0x5f3)]=0x0;}['getPacketsLostPerc'](){const _0x2b184f=_0x2db2ce;return this[_0x2b184f(0x138)]>0x0?this[_0x2b184f(0x50e)]/this[_0x2b184f(0x138)]:0x0;}[_0x2db2ce(0x64f)](_0x470aeb){const _0x5a0684=_0x2db2ce;_0x470aeb>this[_0x5a0684(0x65b)]&&(this[_0x5a0684(0x406)]=this[_0x5a0684(0x65b)],this[_0x5a0684(0x65b)]=_0x470aeb);}[_0x2db2ce(0x366)](_0x298136){const _0x3aca7b=_0x2db2ce;this[_0x3aca7b(0x41d)]=this[_0x3aca7b(0x38a)],this['currentBytes']=_0x298136;}}class _0x3502bc extends _0x1b7f5a{}class _0x19cb37 extends _0x1b7f5a{[_0x2db2ce(0x5ed)]=0x0;[_0x2db2ce(0x6cc)]=0x0;[_0x2db2ce(0xd7)]=0x0;[_0x2db2ce(0x578)]=0x0;[_0x2db2ce(0x1d0)]=0x0;get[_0x2db2ce(0x36c)](){const _0x2cdcee=_0x2db2ce;return this['currentTimestamp']>0x0&&this[_0x2cdcee(0x406)]>0x0&&Date['now']()-this[_0x2cdcee(0x65b)]<_0x518573?(this[_0x2cdcee(0x578)]-this[_0x2cdcee(0x1d0)])/(this[_0x2cdcee(0x65b)]-this[_0x2cdcee(0x406)])*0x3e8:0x0;}get[_0x2db2ce(0x105)](){const _0x4e8b0c=_0x2db2ce;return this[_0x4e8b0c(0x5ed)]&&this[_0x4e8b0c(0x578)]&&this[_0x4e8b0c(0x578)]>0x0?this[_0x4e8b0c(0x5ed)]/this[_0x4e8b0c(0x578)]:0x0;}set[_0x2db2ce(0x4bd)](_0x566bd6){const _0x383272=_0x2db2ce;this[_0x383272(0x1d0)]=this[_0x383272(0x578)],this['currentFrames']=_0x566bd6;}[_0x2db2ce(0x62c)](){const _0xd2c278=_0x2db2ce;return{...super['getReport'](),'FPS':this[_0xd2c278(0x36c)],'timePerFrame':this[_0xd2c278(0x105)],'frameWidth':this['frameWidth'],'frameHeight':this['frameHeight']};}[_0x2db2ce(0x3b3)](_0xc065db){const _0x185699=_0x2db2ce;super[_0x185699(0x3b3)](_0xc065db),this[_0x185699(0x5ed)]=_0xc065db['totalDecodeTime'],this['frames']=_0xc065db[_0x185699(0x5f8)],this['frameWidth']=_0xc065db[_0x185699(0x6cc)],this['frameHeight']=_0xc065db[_0x185699(0xd7)];}['processOutboundReport'](_0x55cfef){const _0x2dbe78=_0x2db2ce;super[_0x2dbe78(0x2ec)](_0x55cfef),this[_0x2dbe78(0x5ed)]=_0x55cfef[_0x2dbe78(0x32a)],this[_0x2dbe78(0x4bd)]=_0x55cfef[_0x2dbe78(0x290)],this[_0x2dbe78(0x6cc)]=_0x55cfef[_0x2dbe78(0x6cc)],this[_0x2dbe78(0xd7)]=_0x55cfef[_0x2dbe78(0xd7)];}}class _0x2bf471{[_0x2db2ce(0x417)]=new _0x3502bc();[_0x2db2ce(0x196)]=new _0x19cb37();get[_0x2db2ce(0x5f7)](){const _0x461f16=_0x2db2ce;return this[_0x461f16(0x417)][_0x461f16(0x5f7)]+this[_0x461f16(0x196)][_0x461f16(0x5f7)];}['processReports'](_0x233894){const _0x44ac4a=_0x2db2ce;return _0x233894['forEach'](_0x360a22=>{const _0x3db67f=a0_0x3de5;switch(_0x360a22['kind']){case _0x3db67f(0x417):this[_0x3db67f(0x417)]['processReport'](_0x360a22);break;case _0x3db67f(0x196):this[_0x3db67f(0x196)][_0x3db67f(0x59b)](_0x360a22);}}),this[_0x44ac4a(0x62c)]();}[_0x2db2ce(0x62c)](){const _0x20378d=_0x2db2ce;return{'audio':this['audio'][_0x20378d(0x62c)](),'video':this[_0x20378d(0x196)][_0x20378d(0x62c)](),'roundTripTime':this[_0x20378d(0x4e8)](),'AudioVideoDelay':this[_0x20378d(0xef)](),'bitrate':this['bitrate']};}[_0x2db2ce(0x4e8)](){const _0x2767a1=_0x2db2ce;return Math['floor']((this[_0x2767a1(0x417)]['roundTripTime']+this[_0x2767a1(0x196)][_0x2767a1(0x47d)])/0x2);}[_0x2db2ce(0xef)](){const _0x439e92=_0x2db2ce;return this[_0x439e92(0x417)][_0x439e92(0x4f3)]-this['video']['estimatedPlayoutTimestamp'];}}class _0x55943b{[_0x2db2ce(0x441)]=0x0;[_0x2db2ce(0x442)]=0x0;[_0x2db2ce(0x440)]=0x0;[_0x2db2ce(0x428)]=0x0;['senderCurrentBytes']=0x0;[_0x2db2ce(0x58a)]=0x0;[_0x2db2ce(0x64b)]=0x0;[_0x2db2ce(0x310)]=0x0;[_0x2db2ce(0x292)]=0x0;[_0x2db2ce(0x104)]=0x0;[_0x2db2ce(0x144)]=0x0;[_0x2db2ce(0x62e)]=0x0;['roundTripTime']=0x0;get['bitrate'](){const _0x578a3d=_0x2db2ce;return this[_0x578a3d(0x22b)]+this[_0x578a3d(0x64a)];}get['senderBitrate'](){const _0x3754db=_0x2db2ce;return this['senderCurrentTimestamp']>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x3754db(0x279)]()-this['senderCurrentTimestamp']<_0x518573?(this[_0x3754db(0x4bc)]-this[_0x3754db(0x58a)])/(this['senderCurrentTimestamp']-this[_0x3754db(0x442)])*0x8*0x3e8:0x0;}get[_0x2db2ce(0x64a)](){const _0x18f107=_0x2db2ce;return this['receiverCurrentTimestamp']>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x18f107(0x279)]()-this[_0x18f107(0x440)]<_0x518573?(this[_0x18f107(0x64b)]-this['receiverPreviousBytes'])/(this[_0x18f107(0x440)]-this[_0x18f107(0x428)])*0x8*0x3e8:0x0;}['processReport'](_0x126f92){const _0x3d1936=_0x2db2ce;switch(_0x126f92[_0x3d1936(0x596)]){case _0x1f6b2a[_0x3d1936(0x559)]:this[_0x3d1936(0x324)](_0x126f92);break;case _0x1f6b2a[_0x3d1936(0x22a)]:this[_0x3d1936(0x59c)](_0x126f92);}}[_0x2db2ce(0x62c)](){const _0x210519=_0x2db2ce;return{'bitrate':this[_0x210519(0x5f7)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x210519(0x64a)],'totalBytes':this[_0x210519(0x343)](),'senderTotalBytes':this[_0x210519(0x2ac)](),'receiverTotalBytes':this[_0x210519(0x23c)](),'totalMessages':this[_0x210519(0x292)]+this[_0x210519(0x104)],'senderTotalMessages':this[_0x210519(0x292)],'receiverTotalMessages':this[_0x210519(0x104)],'timeProcessing':this['senderTimeProcessing']+this['receiverTimeProcessing'],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this[_0x210519(0x62e)],'roundTripTime':this['roundTripTime']};}[_0x2db2ce(0x343)](){const _0x2dc8b6=_0x2db2ce;return this[_0x2dc8b6(0x4bc)]+this['receiverCurrentBytes'];}[_0x2db2ce(0x2ac)](){const _0x3f171d=_0x2db2ce;return this[_0x3f171d(0x4bc)];}[_0x2db2ce(0x23c)](){return this['receiverCurrentBytes'];}['processSenderReport'](_0x217835){const _0x1b169a=_0x2db2ce;this['setSenderTimestamp'](_0x217835['timestamp']),this[_0x1b169a(0x366)](_0x217835[_0x1b169a(0x1c4)]),this['senderTotalMessages']=_0x217835[_0x1b169a(0x231)],this[_0x1b169a(0x144)]=_0x217835['timeSending'],this[_0x1b169a(0x47d)]=_0x217835[_0x1b169a(0x47d)];}[_0x2db2ce(0x59c)](_0x3d0f4a){const _0x2e1100=_0x2db2ce;this[_0x2e1100(0x1df)](_0x3d0f4a[_0x2e1100(0x461)]),this[_0x2e1100(0x4ed)](_0x3d0f4a['bytesReceived']),this['receiverTotalMessages']=_0x3d0f4a[_0x2e1100(0x27a)],this[_0x2e1100(0x62e)]=_0x3d0f4a['timeReceiving'];}[_0x2db2ce(0x311)](_0x34f4ad){const _0x56e671=_0x2db2ce;_0x34f4ad>this[_0x56e671(0x441)]&&(this[_0x56e671(0x442)]=this[_0x56e671(0x441)],this[_0x56e671(0x441)]=_0x34f4ad);}['setReceiverTimestamp'](_0x4bdb32){const _0x66ed10=_0x2db2ce;_0x4bdb32>this[_0x66ed10(0x440)]&&(this[_0x66ed10(0x428)]=this[_0x66ed10(0x440)],this['receiverCurrentTimestamp']=_0x4bdb32);}[_0x2db2ce(0x366)](_0x1fc0fd){const _0x2e1c6a=_0x2db2ce;this['senderPreviousBytes']=this['senderCurrentBytes'],this[_0x2e1c6a(0x4bc)]=_0x1fc0fd;}[_0x2db2ce(0x4ed)](_0x1bdaec){const _0x5b0ee7=_0x2db2ce;this['receiverPreviousBytes']=this[_0x5b0ee7(0x64b)],this[_0x5b0ee7(0x64b)]=_0x1bdaec;}}class _0x5e10bd{[_0x2db2ce(0x681)]=new Map();[_0x2db2ce(0x5e6)]=new Map();['dataChannel']=new _0x55943b();get[_0x2db2ce(0x22b)](){const _0x4c0847=_0x2db2ce;let _0x374874=0x0;return this[_0x4c0847(0x681)]['forEach'](_0x51a35c=>{_0x374874+=_0x51a35c['bitrate'];}),_0x374874+=this['dataChannel'][_0x4c0847(0x22b)],_0x374874;}get[_0x2db2ce(0x64a)](){const _0x4ca68f=_0x2db2ce;let _0x4a63d5=0x0;return this[_0x4ca68f(0x5e6)][_0x4ca68f(0x405)](_0x4641e7=>{const _0x3522d8=_0x4ca68f;_0x4a63d5+=_0x4641e7[_0x3522d8(0x5f7)];}),_0x4a63d5+=this[_0x4ca68f(0x450)][_0x4ca68f(0x64a)],_0x4a63d5;}get[_0x2db2ce(0x5f7)](){const _0x1c041e=_0x2db2ce;return this[_0x1c041e(0x22b)]+this[_0x1c041e(0x64a)];}[_0x2db2ce(0x572)](_0x23e15f,_0x176e8b){const _0x289b62=_0x2db2ce,_0x47bdca=[],_0x2d6756=[];return _0x23e15f instanceof Array?_0x23e15f[_0x289b62(0x405)](_0x449f1c=>{const _0x3e86f2=_0x289b62;_0x449f1c[_0x3e86f2(0x405)](_0x2c4dc0=>{const _0x354e55=_0x3e86f2;_0xc48baa['includes'](_0x2c4dc0[_0x354e55(0x26f)])&&_0x47bdca[_0x354e55(0x23d)](_0x2c4dc0),_0x2735ad[_0x354e55(0x28e)](_0x2c4dc0['type'])&&_0x2d6756[_0x354e55(0x23d)](_0x2c4dc0);});}):this[_0x289b62(0x450)][_0x289b62(0x59b)](_0x23e15f),_0x47bdca[_0x289b62(0x48d)]>0x0&&_0x176e8b?{...this[_0x289b62(0x36e)](_0x176e8b,_0x47bdca),'origin':_0x1f6b2a['Receiver'],'streamId':_0x176e8b}:_0x2d6756['length']>0x0&&_0x176e8b?{...this['processOutboundReports'](_0x176e8b,_0x2d6756),'origin':_0x1f6b2a['Sender'],'streamId':_0x176e8b}:void 0x0;}[_0x2db2ce(0x62c)](){const _0x12cb6b=_0x2db2ce,_0x5d9b89={};this[_0x12cb6b(0x681)]['forEach']((_0x1ce1af,_0x5a9972)=>{_0x5d9b89[_0x5a9972]=_0x1ce1af['getReport']();});const _0x572e4d={};return this[_0x12cb6b(0x5e6)][_0x12cb6b(0x405)]((_0x10db4d,_0x45ebb5)=>{_0x572e4d[_0x45ebb5]=_0x10db4d['getReport']();}),{'bitrate':this['bitrate'],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x12cb6b(0x64a)],'senderStreams':_0x5d9b89,'receiverStreams':_0x572e4d,'dataChannel':this[_0x12cb6b(0x450)][_0x12cb6b(0x62c)]()};}[_0x2db2ce(0x36e)](_0x11304c,_0x3b4dca){const _0x2319eb=_0x2db2ce;return this[_0x2319eb(0x5e6)][_0x2319eb(0x40d)](_0x11304c)||this['receiverStreams'][_0x2319eb(0x3bc)](_0x11304c,new _0x2bf471()),this['receiverStreams'][_0x2319eb(0x118)](_0x11304c)[_0x2319eb(0x572)](_0x3b4dca);}[_0x2db2ce(0x21c)](_0x4f961f,_0x5b4e8c){const _0x32f2dc=_0x2db2ce;return this[_0x32f2dc(0x681)]['has'](_0x4f961f)||this['senderStreams'][_0x32f2dc(0x3bc)](_0x4f961f,new _0x2bf471()),this['senderStreams'][_0x32f2dc(0x118)](_0x4f961f)[_0x32f2dc(0x572)](_0x5b4e8c);}}class _0x4e4ed8{[_0x2db2ce(0x2bc)]=new Map();[_0x2db2ce(0xd6)]=0x0;['durationTime']=0x0;[_0x2db2ce(0x2e7)]=new Map();[_0x2db2ce(0x32c)]=new Map();['keyValueDatabases']=new Map();[_0x2db2ce(0x292)]=new Map();[_0x2db2ce(0x104)]=new Map();['senderTimeProcessing']=new Map();[_0x2db2ce(0x62e)]=new Map();['systemMessages']=new Map();[_0x2db2ce(0x55f)];[_0x2db2ce(0x62c)](){const _0x1df012=_0x2db2ce,_0x1cc559={};this[_0x1df012(0x2bc)][_0x1df012(0x405)]((_0x8f05c9,_0x1a3a2a)=>{const _0x538f6d=_0x1df012;_0x1cc559[_0x1a3a2a]=_0x8f05c9[_0x538f6d(0x62c)]();});let _0x39b72a=0x0;this[_0x1df012(0x144)][_0x1df012(0x405)](_0x417741=>{_0x39b72a+=_0x417741;});let _0x38d28d=0x0;this[_0x1df012(0x62e)][_0x1df012(0x405)](_0x293466=>{_0x38d28d+=_0x293466;});const _0x4ac5aa=_0x39b72a+_0x38d28d;let _0x56b9db={'messages':{'total':0x0}};this[_0x1df012(0x597)][_0x1df012(0x405)](_0x2c8098=>{const _0x4125d8=_0x1df012;Object[_0x4125d8(0x48f)](_0x2c8098)[_0x4125d8(0x405)](_0x19035e=>{const _0x578017=_0x4125d8;_0x56b9db[_0x19035e]||(_0x56b9db[_0x19035e]={}),Object[_0x578017(0x48f)](_0x2c8098[_0x19035e])['forEach'](_0x5a3ec1=>{_0x56b9db[_0x19035e][_0x5a3ec1]||(_0x56b9db[_0x19035e][_0x5a3ec1]=0x0),_0x56b9db[_0x19035e][_0x5a3ec1]+=_0x2c8098[_0x19035e][_0x5a3ec1];});});});let _0x1e8813=0x0,_0x1b9308=0x0,_0x449853=0x0,_0x3a404a=0x0,_0x1bce9a=0x0;return this[_0x1df012(0x2e7)][_0x1df012(0x405)](_0x461362=>{const _0x5e5841=_0x1df012;_0x1b9308+=_0x461362[_0x5e5841(0x231)],_0x449853+=_0x461362[_0x5e5841(0x27a)],_0x3a404a+=_0x461362[_0x5e5841(0x1c4)],_0x1bce9a+=_0x461362[_0x5e5841(0x22e)];}),this[_0x1df012(0x32c)]['forEach'](_0x1b9e14=>{const _0x21b514=_0x1df012;_0x1e8813+=_0x1b9e14[_0x21b514(0x717)],_0x1b9308+=_0x1b9e14[_0x21b514(0x231)],_0x449853+=_0x1b9e14[_0x21b514(0x27a)],_0x3a404a+=_0x1b9e14[_0x21b514(0x1c4)],_0x1bce9a+=_0x1b9e14[_0x21b514(0x22e)];}),this['keyValueDatabases'][_0x1df012(0x405)](_0x47d9c4=>{const _0xdc0400=_0x1df012;_0x1e8813+=_0x47d9c4[_0xdc0400(0x717)],_0x1b9308+=_0x47d9c4[_0xdc0400(0x231)],_0x449853+=_0x47d9c4[_0xdc0400(0x27a)],_0x3a404a+=_0x47d9c4['bytesSent'],_0x1bce9a+=_0x47d9c4[_0xdc0400(0x22e)];}),{'STVolatility':this[_0x1df012(0x1c7)](),'DTVolatility':this[_0x1df012(0x660)](),'bitrate':this[_0x1df012(0x1e3)](),'senderBitrate':this[_0x1df012(0x576)](),'receiverBitrate':this[_0x1df012(0x678)](),'totalStorageSize':_0x1e8813,'totalMessages':_0x1b9308+_0x449853,'totalMessagesSent':_0x1b9308,'totalMessagesReceived':_0x449853,'totalBytes':_0x3a404a+_0x1bce9a,'totalBytesSent':_0x3a404a,'totalBytesReceived':_0x1bce9a,'systemMessages':_0x56b9db,'timeProcessing':_0x4ac5aa,'nodes':_0x1cc559,'pubsubTopics':Object[_0x1df012(0x582)](this[_0x1df012(0x2e7)]),'objectStores':Object[_0x1df012(0x582)](this[_0x1df012(0x32c)]),'keyValueDatabases':Object[_0x1df012(0x582)](this['keyValueDatabases'])};}['addRemoteNode'](_0x295292){const _0x359f1c=_0x2db2ce;this[_0x359f1c(0x2bc)][_0x359f1c(0x3bc)](_0x295292,new _0x5e10bd());}[_0x2db2ce(0x638)](_0xb01b20){const _0xb204bb=_0x2db2ce;this[_0xb204bb(0x2bc)][_0xb204bb(0x176)](_0xb01b20);}[_0x2db2ce(0x572)](_0x3d22bc,_0x122ac4,_0x4a247f){const _0x60edb2=_0x2db2ce;_0x122ac4 instanceof Array||this[_0x60edb2(0x1d1)](_0x3d22bc,_0x122ac4);const _0x507ab4=this[_0x60edb2(0x2bc)][_0x60edb2(0x118)](_0x3d22bc)?.[_0x60edb2(0x572)](_0x122ac4,_0x4a247f);_0x507ab4&&this[_0x60edb2(0x55f)]['publish']({'sourceId':_0x150f3e,'messageType':_0x190ed6[_0x60edb2(0x5d0)],'content':{'type':_0x259a17['StreamReport'],'data':{..._0x507ab4,'nodeId':_0x3d22bc}}});}[_0x2db2ce(0x27c)](_0x2fcb6a){const _0x446572=_0x2db2ce;this[_0x446572(0x58c)](_0x2fcb6a[_0x446572(0x15b)]),this[_0x446572(0x27b)](_0x2fcb6a[_0x446572(0x758)]),this[_0x446572(0x55f)][_0x446572(0x536)]({'sourceId':_0x150f3e,'messageType':_0x190ed6['Stats'],'content':{'type':_0x259a17['LocalReport'],'data':{'STVolatility':this[_0x446572(0x1c7)](),'DTVolatility':this[_0x446572(0x660)]()}}});}[_0x2db2ce(0x3eb)](_0x2ceb8b,_0x5c2671,_0x568a5b){const _0x1202a0=_0x2db2ce;switch(_0x5c2671){case _0x1ce536[_0x1202a0(0x447)]:this['pubsubTopics'][_0x1202a0(0x3bc)](_0x2ceb8b,_0x568a5b);break;case _0x1ce536[_0x1202a0(0x53e)]:this[_0x1202a0(0x32c)]['set'](_0x2ceb8b,_0x568a5b);break;case _0x1ce536[_0x1202a0(0x270)]:this[_0x1202a0(0x3f0)][_0x1202a0(0x3bc)](_0x2ceb8b,_0x568a5b);}}['registerSystemPublisher'](_0x87b0c1){const _0x26f344=_0x2db2ce;this[_0x26f344(0x55f)]=_0x87b0c1;}[_0x2db2ce(0x1f7)](){const _0x223069=_0x2db2ce;delete this[_0x223069(0x55f)];}[_0x2db2ce(0x1c7)](){const _0x1cd905=_0x2db2ce;return this[_0x1cd905(0xd6)]>0x0&&this[_0x1cd905(0xd6)]-_0x3f7a86>0x0?(this[_0x1cd905(0xd6)]-_0x3f7a86)/_0x3f7a86:0x0;}['getDTVolatility'](){const _0x57c7b3=_0x2db2ce;return this[_0x57c7b3(0x758)]>0x0&&this[_0x57c7b3(0x758)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x2db2ce(0x576)](){const _0x40f2af=_0x2db2ce;let _0x3a8f87=0x0;return this[_0x40f2af(0x2bc)][_0x40f2af(0x405)](_0x2f6a57=>{const _0x2ebe6d=_0x40f2af;_0x3a8f87+=_0x2f6a57[_0x2ebe6d(0x22b)];}),_0x3a8f87;}[_0x2db2ce(0x678)](){const _0x4649ed=_0x2db2ce;let _0x59c380=0x0;return this[_0x4649ed(0x2bc)][_0x4649ed(0x405)](_0x4a2e69=>{const _0x2a20c7=_0x4649ed;_0x59c380+=_0x4a2e69[_0x2a20c7(0x64a)];}),_0x59c380;}[_0x2db2ce(0x1e3)](){const _0x18b526=_0x2db2ce;let _0x20d801=0x0;return this[_0x18b526(0x2bc)][_0x18b526(0x405)](_0x142204=>{_0x20d801+=_0x142204['bitrate'];}),_0x20d801;}[_0x2db2ce(0x58c)](_0x2a3c67){const _0x489452=_0x2db2ce;this[_0x489452(0xd6)]=_0x2a3c67;}['setDurationTime'](_0x272441){const _0x6d69ba=_0x2db2ce;this[_0x6d69ba(0x758)]=_0x272441;}[_0x2db2ce(0x1d1)](_0x1068f5,_0x10e00c){const _0x1322b7=_0x2db2ce;switch(_0x10e00c[_0x1322b7(0x596)]){case _0x1f6b2a[_0x1322b7(0x559)]:this[_0x1322b7(0x324)](_0x1068f5,_0x10e00c);break;case _0x1f6b2a[_0x1322b7(0x22a)]:this[_0x1322b7(0x59c)](_0x1068f5,_0x10e00c);}}[_0x2db2ce(0x324)](_0x46d03e,_0x4a1bc8){const _0x54d450=_0x2db2ce;this[_0x54d450(0x292)][_0x54d450(0x3bc)](_0x46d03e,_0x4a1bc8[_0x54d450(0x231)]),this[_0x54d450(0x144)]['set'](_0x46d03e,_0x4a1bc8[_0x54d450(0x33a)]);}[_0x2db2ce(0x59c)](_0x24ed92,_0x45ee34){const _0x5da71e=_0x2db2ce;this[_0x5da71e(0x104)]['set'](_0x24ed92,_0x45ee34[_0x5da71e(0x27a)]),this[_0x5da71e(0x62e)]['set'](_0x24ed92,_0x45ee34[_0x5da71e(0x6c0)]),this['systemMessages'][_0x5da71e(0x3bc)](_0x24ed92,_0x45ee34['systemMessages']);}}class _0x2d9229{['configs'];[_0x2db2ce(0x120)]=new Set();['nextNodeId'];[_0x2db2ce(0x6bc)];[_0x2db2ce(0x121)];[_0x2db2ce(0x188)]=new _0x4e4ed8();constructor(_0x4efe2c){const _0x5f2fa3=_0x2db2ce;this[_0x5f2fa3(0x626)]=_0x4efe2c,this[_0x5f2fa3(0x626)]['mediator']['registerSystemSource'](this[_0x5f2fa3(0x188)]),this[_0x5f2fa3(0x6bc)]=this[_0x5f2fa3(0x2cd)](),this['statsReporting']=this[_0x5f2fa3(0x4f4)]();}[_0x2db2ce(0x37c)](){const _0x39785e=_0x2db2ce;this[_0x39785e(0x626)][_0x39785e(0x754)][_0x39785e(0x19f)](this['statsReport']),this[_0x39785e(0x121)](),this[_0x39785e(0x6bc)]();}['addRemoteNode'](_0x14bd5f){const _0x1fbe39=_0x2db2ce;this[_0x1fbe39(0x120)]['add'](_0x14bd5f),this[_0x1fbe39(0x188)][_0x1fbe39(0xdd)](_0x14bd5f);}[_0x2db2ce(0x638)](_0x1926f5){const _0x4f9468=_0x2db2ce;this[_0x4f9468(0x120)][_0x4f9468(0x176)](_0x1926f5),this[_0x4f9468(0x188)][_0x4f9468(0x638)](_0x1926f5);}[_0x2db2ce(0x697)](_0x5579bd){const _0x1543dc=_0x2db2ce;if(_0x5579bd[_0x1543dc(0x581)]['type']===_0x41aa84[_0x1543dc(0x5d0)]){const {nodeId:_0x3be85d,streamId:_0x778fec,stats:_0x2652ca}=_0x5579bd[_0x1543dc(0x581)];this[_0x1543dc(0x188)]['processReports'](_0x3be85d,_0x2652ca,_0x778fec);}}[_0x2db2ce(0x694)](_0xf15feb){const _0x4486cf=_0x2db2ce;switch(_0xf15feb[_0x4486cf(0x581)][_0x4486cf(0x26f)]){case _0x1ce536[_0x4486cf(0x53e)]:case _0x1ce536[_0x4486cf(0x270)]:case _0x1ce536[_0x4486cf(0x447)]:this[_0x4486cf(0x188)][_0x4486cf(0x3eb)](_0xf15feb[_0x4486cf(0x581)][_0x4486cf(0x3a1)],_0xf15feb['content'][_0x4486cf(0x26f)],_0xf15feb[_0x4486cf(0x581)]['stats']);}}[_0x2db2ce(0x4f4)](){const _0x4d1497=_0x2db2ce;return _0x8ac28d[_0x4d1497(0x546)](()=>{const _0x4820dd=_0x4d1497,_0x4f8d2b=this[_0x4820dd(0x188)]['getReport']();_0x4aa571['log'](_0x50f1bc[_0x4820dd(0x5d0)],_0x4820dd(0x3ea),_0x4f8d2b),(0x0,_0x18623e[_0x4820dd(0x625)])((0x0,_0x18623e[_0x4820dd(0x3d2)])(_0x58bac0['getFirestore'](),'developers/'+this['configs'][_0x4820dd(0x6e1)]+_0x4820dd(0x30d)),{'clusterId':this[_0x4820dd(0x626)][_0x4820dd(0x255)],'nodeId':this[_0x4820dd(0x626)][_0x4820dd(0x490)][_0x4820dd(0x28c)](),'nodeType':this['configs'][_0x4820dd(0x490)][_0x4820dd(0x26f)],'timestamp':(0x0,_0x18623e[_0x4820dd(0x326)])(),'report':_0x4f8d2b}),_0x4aa571[_0x4820dd(0x229)](_0x4820dd(0xeb),{'clusterId':this[_0x4820dd(0x626)]['clusterId'],'nodeId':this['configs']['localNode']['getId'](),'nodeType':this[_0x4820dd(0x626)]['localNode']['type'],'data':{'report':_0x4f8d2b}});},_0x518573);}[_0x2db2ce(0x2cd)](){const _0x1d8dc7=_0x2db2ce;let _0x28eb7a=!0x1,_0x57736a=Date['now']();return _0x8ac28d[_0x1d8dc7(0x546)](async()=>{const _0x511038=_0x1d8dc7;if(_0x28eb7a)return;if(_0x28eb7a=!0x0,0x0===this[_0x511038(0x120)]['size'])return delete this[_0x511038(0x66d)],void(_0x28eb7a=!0x1);const _0x4e318d=Date[_0x511038(0x279)]();this['findNextNodeId']();try{await this[_0x511038(0x626)]['mediator'][_0x511038(0x594)](this[_0x511038(0x66d)]);}catch(_0x5a63c3){}this[_0x511038(0x188)][_0x511038(0x27c)]({'secheduleTime':_0x4e318d-_0x57736a,'durationTime':Date[_0x511038(0x279)]()-_0x4e318d}),_0x57736a=_0x4e318d,_0x28eb7a=!0x1;},_0x3f7a86);}[_0x2db2ce(0x314)](){const _0x339506=_0x2db2ce;let _0x216785,_0x3fd06c=!0x1;this[_0x339506(0x66d)]&&(this[_0x339506(0x120)][_0x339506(0x40d)](this[_0x339506(0x66d)])||delete this['nextNodeId']);for(const _0x25d759 of this['remoteNodes'])if(_0x216785||(_0x216785=_0x25d759),this[_0x339506(0x66d)]!==_0x25d759){if(_0x3fd06c)return void(this['nextNodeId']=_0x25d759);}else _0x3fd06c=!0x0,delete this[_0x339506(0x66d)];this['nextNodeId']||(this['nextNodeId']=_0x216785);}}class _0x568047{[_0x2db2ce(0x41a)];[_0x2db2ce(0x715)];[_0x2db2ce(0x55f)];constructor(_0xa059ac,_0x4602e6){const _0x5321c7=_0x2db2ce;this[_0x5321c7(0x41a)]=_0xa059ac,this['destination']=_0x4602e6;}[_0x2db2ce(0x155)](_0x4b6ec4){this['systemTopic']=_0x4b6ec4;}[_0x2db2ce(0x1f7)](){const _0x44e60c=_0x2db2ce;delete this[_0x44e60c(0x55f)];}}class _0x3886aa extends _0x568047{[_0x2db2ce(0x41a)];['destination'];[_0x2db2ce(0x70a)];constructor(_0x44f183,_0x5150f7,_0x56af14){const _0x4eae0d=_0x2db2ce;super(_0x44f183,_0x5150f7),this[_0x4eae0d(0x41a)]=_0x44f183,this[_0x4eae0d(0x715)]=_0x5150f7,this[_0x4eae0d(0x70a)]=_0x56af14;}[_0x2db2ce(0x175)](_0x446fa5,_0x426071,_0x312699){const _0x4f9628=_0x2db2ce;if(this[_0x4f9628(0x715)][_0x4f9628(0x537)]()===_0x26993c[_0x4f9628(0x432)]['Media']){const _0x1d3edc={'type':_0x3366c6['SubscribeMediaStream'],'label':this[_0x4f9628(0x715)][_0x4f9628(0x5fc)](),'ownerId':_0x446fa5,'trackKinds':_0x426071??this[_0x4f9628(0x715)]['getAvailableTrackKinds'](),'params':_0x312699};this[_0x4f9628(0x55f)][_0x4f9628(0x536)]({'sourceId':this[_0x4f9628(0x41a)][_0x4f9628(0x47a)](),'destinationIds':[this[_0x4f9628(0x41a)][_0x4f9628(0x2ae)]()],'messageType':_0x190ed6['Subscription'],'content':_0x1d3edc}),this[_0x4f9628(0x70a)]=_0x312699;}}['update'](_0x301d22,_0x16a33f){const _0x4d4b79=_0x2db2ce;if(this[_0x4d4b79(0x715)]['getContentType']()===_0x26993c[_0x4d4b79(0x432)][_0x4d4b79(0x3a4)]){const _0x58d340={'type':_0x3366c6['UpdateMediaStream'],'label':this[_0x4d4b79(0x715)][_0x4d4b79(0x5fc)](),'ownerId':_0x301d22,'params':_0x16a33f};this[_0x4d4b79(0x55f)][_0x4d4b79(0x536)]({'sourceId':this[_0x4d4b79(0x41a)]['getLocalId'](),'destinationIds':[this['source'][_0x4d4b79(0x2ae)]()],'messageType':_0x190ed6['Subscription'],'content':_0x58d340}),this[_0x4d4b79(0x70a)]=_0x16a33f;}}[_0x2db2ce(0x531)](_0x338669,_0x50d273,_0x306b5a){const _0x1758ca=_0x2db2ce;if(this[_0x1758ca(0x715)][_0x1758ca(0x537)]()===_0x26993c[_0x1758ca(0x432)]['Media']){const _0x3c3077={'type':_0x3366c6[_0x1758ca(0x17e)],'label':this[_0x1758ca(0x715)][_0x1758ca(0x5fc)](),'ownerId':_0x338669,'trackKinds':_0x306b5a??this[_0x1758ca(0x715)]['getAvailableTrackKinds'](),'remainingTracks':_0x50d273};this['systemTopic']['publish']({'sourceId':this[_0x1758ca(0x41a)][_0x1758ca(0x47a)](),'destinationIds':[this[_0x1758ca(0x41a)][_0x1758ca(0x2ae)]()],'messageType':_0x190ed6['Subscription'],'content':_0x3c3077});}}}class _0x38ab7b{['currentDistance'];[_0x2db2ce(0x274)];[_0x2db2ce(0x4d8)];[_0x2db2ce(0x55f)];[_0x2db2ce(0x2f1)]=new Set();['startTime']=Date[_0x2db2ce(0x279)]();['params'];['retryCount']=0x0;constructor(_0x29b97b,_0x4d6dda,_0x5c5613,_0x2ed3f7){const _0x3f3a51=_0x2db2ce;this['currentDistance']=_0x4d6dda,this[_0x3f3a51(0x274)]=_0x5c5613,this[_0x3f3a51(0x4d8)]=_0x2ed3f7,_0x29b97b[_0x3f3a51(0x405)](_0x1a53de=>{const _0x58639f=_0x3f3a51;this[_0x58639f(0x2f1)]['add']({'nodeId':_0x1a53de,'type':_0x1d6f78[_0x58639f(0x3f7)]});});}[_0x2db2ce(0x359)](){const _0xdae83e=_0x2db2ce;return this[_0xdae83e(0x4d8)];}[_0x2db2ce(0x155)](_0x1bcecc){const _0x465849=_0x2db2ce;this[_0x465849(0x55f)]=_0x1bcecc;}[_0x2db2ce(0x1f7)](){const _0x582c23=_0x2db2ce;delete this[_0x582c23(0x55f)];}['reset'](_0x6e5370,_0x138f1b){const _0x1769ba=_0x2db2ce;this[_0x1769ba(0x115)]=Date[_0x1769ba(0x279)](),this[_0x1769ba(0x2f1)][_0x1769ba(0x3c1)](),_0x6e5370[_0x1769ba(0x405)](_0x52ae8b=>{const _0x213095=_0x1769ba;this['answers'][_0x213095(0x3c3)]({'nodeId':_0x52ae8b,'type':_0x1d6f78[_0x213095(0x3f7)]});}),this['retryCount']+=0x1,this[_0x1769ba(0x3a5)]=_0x138f1b;}[_0x2db2ce(0x1b5)](_0x314a16,_0x1d2a73,_0x297f8c,_0x344bd1,_0x2a8330){const _0x42abd2=_0x2db2ce;if(this[_0x42abd2(0x30b)]>0xa)throw new _0xb694a1(_0xb694a1[_0x42abd2(0x549)][_0x42abd2(0x38c)],{'answers':Array[_0x42abd2(0x6a9)](this[_0x42abd2(0x2f1)])['map'](_0x4d88f7=>({'nodeId':_0x4d88f7[_0x42abd2(0x2c7)],'type':_0x4d88f7[_0x42abd2(0x26f)]}))});const _0x3faccb=Array[_0x42abd2(0x6a9)](this[_0x42abd2(0x2f1)])['map'](_0x2d6710=>_0x2d6710[_0x42abd2(0x2c7)]);this[_0x42abd2(0x70a)]=_0x2a8330,this[_0x42abd2(0x55f)][_0x42abd2(0x536)]({'sourceId':_0x314a16,'destinationIds':_0x3faccb,'messageType':_0x190ed6[_0x42abd2(0x595)],'content':{'type':_0x3366c6[_0x42abd2(0x394)],'label':_0x297f8c,'ownerId':_0x1d2a73,'trackKinds':_0x344bd1,'params':_0x2a8330}}),_0x4aa571[_0x42abd2(0x24e)](_0x50f1bc[_0x42abd2(0x595)],_0x42abd2(0x11d),_0x314a16,_0x3faccb);}[_0x2db2ce(0x380)](_0x3fc4ec,_0x1a6abb){const _0x511715=_0x2db2ce;switch(_0x1a6abb['type']){case _0x3366c6[_0x511715(0x357)]:{const _0x366fe8=this[_0x511715(0x3a5)]>=_0x1a6abb[_0x511715(0x468)]&&_0x1a6abb[_0x511715(0x468)]<=this[_0x511715(0x274)],_0x92ce80=Array[_0x511715(0x6a9)](this[_0x511715(0x2f1)])[_0x511715(0x3c6)](_0x37f66a=>_0x37f66a['nodeId']===_0x3fc4ec);_0x92ce80['type']=_0x366fe8?_0x1d6f78[_0x511715(0x695)]:_0x1d6f78[_0x511715(0x13f)],_0x92ce80[_0x511715(0x52d)]=_0x1a6abb[_0x511715(0x52d)],_0x92ce80[_0x511715(0x468)]=_0x1a6abb[_0x511715(0x468)],_0x92ce80[_0x511715(0x369)]=_0x1a6abb[_0x511715(0x369)],_0x92ce80[_0x511715(0x47d)]=Date[_0x511715(0x279)]()-this[_0x511715(0x115)],_0x92ce80[_0x511715(0x70a)]=this[_0x511715(0x70a)],_0x92ce80['ownerId']=_0x1a6abb[_0x511715(0x3f2)],_0x92ce80[_0x511715(0x3a9)]=_0x1a6abb[_0x511715(0x3a9)],_0x92ce80[_0x511715(0x5f2)]=_0x1a6abb[_0x511715(0x3a1)],_0x4aa571[_0x511715(0x24e)](_0x50f1bc[_0x511715(0x595)],(_0x366fe8?_0x511715(0x695):_0x511715(0x13f))+_0x511715(0x3a0),_0x92ce80);break;}case _0x3366c6[_0x511715(0x23f)]:{const _0x25feb8=Array['from'](this[_0x511715(0x2f1)])['find'](_0x5dc33d=>_0x5dc33d[_0x511715(0x2c7)]===_0x3fc4ec);_0x25feb8['type']=_0x1d6f78['Rejected'],_0x4aa571[_0x511715(0x24e)](_0x50f1bc['Subscription'],_0x511715(0x733),_0x25feb8);break;}}if(this[_0x511715(0x2fb)]())return this[_0x511715(0x407)]();}[_0x2db2ce(0x407)](){const _0x5f3e1a=_0x2db2ce,_0x3db32e=Array[_0x5f3e1a(0x6a9)](this[_0x5f3e1a(0x2f1)])[_0x5f3e1a(0x6f6)](_0x332c8c=>_0x332c8c[_0x5f3e1a(0x26f)]===_0x1d6f78[_0x5f3e1a(0x695)])[_0x5f3e1a(0x72c)]((_0x5e624b,_0x64eb5b)=>_0x5e624b[_0x5f3e1a(0x52d)]===_0x64eb5b[_0x5f3e1a(0x52d)]?_0x5e624b[_0x5f3e1a(0x47d)]-_0x64eb5b[_0x5f3e1a(0x47d)]:_0x5e624b[_0x5f3e1a(0x52d)]-_0x64eb5b[_0x5f3e1a(0x52d)]);if(0x0===_0x3db32e[_0x5f3e1a(0x48d)])throw new _0xb694a1(_0xb694a1[_0x5f3e1a(0x549)][_0x5f3e1a(0x38c)],{'answers':Array[_0x5f3e1a(0x6a9)](this[_0x5f3e1a(0x2f1)])[_0x5f3e1a(0x627)](_0x28acb4=>({'nodeId':_0x28acb4[_0x5f3e1a(0x2c7)],'type':_0x28acb4[_0x5f3e1a(0x26f)]}))});return _0x4aa571[_0x5f3e1a(0x24e)](_0x50f1bc['Subscription'],'Chosen\x20answer',_0x3db32e[0x0],this['answers']),_0x3db32e[0x0];}[_0x2db2ce(0x2fb)](){const _0x18f69b=_0x2db2ce;for(const _0x5b931c of this[_0x18f69b(0x2f1)])if(_0x5b931c[_0x18f69b(0x26f)]===_0x1d6f78['Waiting'])return!0x1;return!0x0;}}class _0x55b03c{[_0x2db2ce(0x3a1)];[_0x2db2ce(0x350)];[_0x2db2ce(0x3ab)]=_0x8f7aff();constructor(_0x4f2ef7,_0x1bd4c5){const _0x536c03=_0x2db2ce;this[_0x536c03(0x3a1)]=_0x4f2ef7,this[_0x536c03(0x350)]=_0x1bd4c5;}['getLabel'](){const _0x1e3ebb=_0x2db2ce;return this[_0x1e3ebb(0x3a1)];}['getContentType'](){const _0x56753d=_0x2db2ce;return this[_0x56753d(0x350)];}[_0x2db2ce(0x4ca)](_0x4649fe){const _0x3a36ae=_0x2db2ce;_0x4649fe[_0x3a36ae(0xd5)](this);}[_0x2db2ce(0x2c9)](_0x42bb18){const _0x12b15a=_0x2db2ce;_0x42bb18[_0x12b15a(0x1c2)](this);}['publish'](_0x17eccf){const _0x1e4815=_0x2db2ce;this['listener'][_0x1e4815(0x536)]({'topicLabel':this[_0x1e4815(0x3a1)],'contentType':this[_0x1e4815(0x350)],'uuid':(0x0,_0x25a06c['v4'])(),'recipients':[],..._0x17eccf});}[_0x2db2ce(0x175)](_0x360302){const _0x599e8f=_0x2db2ce;return this[_0x599e8f(0x3ab)]['subscribe'](_0x360302);}[_0x2db2ce(0x383)](_0x2b1cf0){const _0x41570e=_0x2db2ce;_0x2b1cf0[_0x41570e(0x6cd)](this);}[_0x2db2ce(0x21a)](_0x2d34bb){const _0x1822db=_0x2db2ce;_0x2d34bb[_0x1822db(0x497)](this);}}class _0x4cc932{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x2db2ce(0x5eb)];constructor(_0x18a5f1){this['getPartsFromSubscription']=_0x18a5f1;}get['subscriptions'](){const _0xb33d61=_0x2db2ce;return this[_0xb33d61(0x387)][_0xb33d61(0x6a1)];}get[_0x2db2ce(0x486)](){const _0x552ffb=_0x2db2ce;return this[_0x552ffb(0x387)][_0x552ffb(0x486)];}[_0x2db2ce(0x1b6)](_0x57473c,_0x141e63){const _0x101580=_0x2db2ce,_0x4c57ae=this[_0x101580(0x5eb)](_0x141e63),_0x1c1106=_0x4a7389(_0x57473c);if(!_0x4c57ae[_0x101580(0x73f)])throw new _0xb694a1(_0xb694a1[_0x101580(0x549)][_0x101580(0x1ac)],{'message':_0x1c1106+':\x20'+_0x4c57ae[_0x101580(0x460)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x4c57ae[_0x101580(0x350)],'subscriptionType':_0x57473c,'subscription':_0x141e63,'subscriptonParts':_0x4c57ae});const _0x3fe25c=_0x15540f(_0x57473c,_0x4c57ae);if(this[_0x101580(0x387)][_0x101580(0x6a1)][_0x101580(0x40d)](_0x3fe25c))throw new _0xb694a1(_0xb694a1['codes']['InvalidSubscription'],{'message':_0x1c1106+':\x20'+_0x3fe25c+'\x20already\x20exists','subscriptionType':_0x57473c,'subscription':_0x141e63,'subscriptonParts':_0x4c57ae});this[_0x101580(0x387)][_0x101580(0x6a1)]['set'](_0x3fe25c,_0x141e63),this[_0x101580(0x147)](_0x4c57ae,_0x141e63);}[_0x2db2ce(0x4fb)](_0x1fe2b4,_0x3622cb){const _0x4f05f9=_0x2db2ce,_0x4a81b5=_0x15540f(_0x3622cb,_0x1fe2b4),_0x4cedec=this[_0x4f05f9(0x387)][_0x4f05f9(0x6a1)][_0x4f05f9(0x118)](_0x4a81b5);if(!_0x4cedec)throw new _0xb694a1(_0xb694a1[_0x4f05f9(0x549)]['InvalidSubscription'],{'message':_0x4a7389(_0x3622cb)+':\x20'+_0x4a81b5+_0x4f05f9(0x18f),'subscriptionType':_0x3622cb,'subscription':_0x4cedec,'subscriptonParts':_0x1fe2b4});this[_0x4f05f9(0x511)](_0x4cedec,_0x4a81b5,_0x1fe2b4);}[_0x2db2ce(0x511)](_0x3e8427,_0x216d37,_0x5c940a){const _0x7ccc38=_0x2db2ce;_0x5c940a=_0x5c940a||this[_0x7ccc38(0x5eb)](_0x3e8427),this[_0x7ccc38(0x387)][_0x7ccc38(0x6a1)][_0x7ccc38(0x176)](_0x216d37),this[_0x7ccc38(0x1db)](_0x5c940a,_0x3e8427);}['createTopic'](_0x19186f,{source:_0x47865a,destination:_0x1edb54}){const _0x22ef3a=_0x2db2ce,{contentType:_0x4fe688,label:_0x515a86,remoteId:_0x25ec42}=_0x19186f,_0x4f210b=_0x24c977(_0x4fe688,_0x515a86,_0x25ec42),_0x374908=new _0x55b03c(_0x4f210b,_0x4fe688);_0x374908[_0x22ef3a(0x4ca)](_0x47865a),_0x374908[_0x22ef3a(0x2c9)](_0x1edb54),this[_0x22ef3a(0x387)][_0x22ef3a(0x486)][_0x22ef3a(0x3bc)](_0x374908[_0x22ef3a(0x5fc)](),_0x374908);}['removeTopic'](_0x3c0544,_0x493fc3){const _0x5738bb=_0x2db2ce,{contentType:_0x22e9cb,label:_0x5b3d38,remoteId:_0x5e0742}=_0x3c0544,_0x38ac71=_0x24c977(_0x22e9cb,_0x5b3d38,_0x5e0742),_0x2fff97=this[_0x5738bb(0x387)][_0x5738bb(0x486)][_0x5738bb(0x118)](_0x38ac71);_0x2fff97&&(this[_0x5738bb(0x398)](_0x2fff97,_0x493fc3),this[_0x5738bb(0x387)][_0x5738bb(0x486)][_0x5738bb(0x176)](_0x38ac71));}[_0x2db2ce(0x398)](_0x1bb875,{source:_0x5574dc,destination:_0x2c44d8}){const _0xd6ebb5=_0x2db2ce;_0x1bb875[_0xd6ebb5(0x383)](_0x5574dc),_0x1bb875[_0xd6ebb5(0x21a)](_0x2c44d8);}[_0x2db2ce(0x330)](_0x5b1040){const _0x35da38=_0x2db2ce;this[_0x35da38(0x387)][_0x35da38(0x6a1)][_0x35da38(0x405)]((_0x4cc230,_0x4f989a)=>{const _0x5f51ee=_0x35da38;_0x4f989a[_0x5f51ee(0x1de)](_0x5b1040)&&this['closeSubscription'](_0x4cc230,_0x4f989a);});}}class _0x1e7ea1{[_0x2db2ce(0x626)];['maxDistance'];['subscriptionRequests']=new Map();['subscriptionRequestsQueue']=_0x4b3294(new _0x26827b(this[_0x2db2ce(0x3f1)][_0x2db2ce(0x1e9)](this),()=>_0x8ac28d[_0x2db2ce(0x33d)](0x64)),!0x0);[_0x2db2ce(0x211)]=new Map();[_0x2db2ce(0x387)];[_0x2db2ce(0x3d0)]=new Map();constructor(_0x2196f2,_0x484710){const _0x5aaefb=_0x2db2ce;this[_0x5aaefb(0x626)]=_0x2196f2,this['maxDistance']=_0x484710,this[_0x5aaefb(0x387)]=new _0x4cc932(({source:_0x310e69,destination:_0x1155d2})=>_0x2dc33e(_0x1155d2,_0x310e69));}[_0x2db2ce(0x1b6)](_0x3b5f0e,_0x3e4c50){const _0x194821=_0x2db2ce,_0x48a14b=this[_0x194821(0x218)](_0x3b5f0e)&&this[_0x194821(0x2a1)](_0x3e4c50)?new _0x3886aa(_0x3b5f0e,_0x3e4c50):new _0x568047(_0x3b5f0e,_0x3e4c50);this[_0x194821(0x387)][_0x194821(0x1b6)](_0x221219[_0x194821(0x54a)],_0x48a14b),this[_0x194821(0x626)]['mediator'][_0x194821(0x57f)](_0x48a14b);}['removeSubscription'](_0x1f53c6,_0x5e86e4,_0x2c5072=''){const _0x5b915b=_0x2db2ce,_0x1dee61={'contentType':_0x5e86e4,'label':_0x1f53c6,'remoteId':_0x2c5072},_0x84cdd4=_0x15540f(_0x221219[_0x5b915b(0x54a)],_0x1dee61),_0x343bfe=this['maps'][_0x5b915b(0x6a1)][_0x5b915b(0x118)](_0x84cdd4);_0x343bfe&&this[_0x5b915b(0x511)](_0x343bfe,_0x84cdd4);}['handleContentUnpublishMediaStream'](_0x55ace0){const _0xa4ff64=_0x2db2ce;this[_0xa4ff64(0x491)](_0x55ace0);}[_0x2db2ce(0x750)]({label:_0x500ca5,ownerId:_0x94df36,trackKinds:_0x3f8a29,params:_0x20d476}){const _0x19b114=_0x2db2ce;this[_0x19b114(0xfa)](_0x500ca5,_0x94df36,_0x3f8a29,_0x20d476);}[_0x2db2ce(0x503)]({ownerId:_0x32b00d,label:_0x9f1485,params:_0x2f7089}){const _0x2cf034=_0x2db2ce,{subscriptionLabel:_0x3dabe0}=this[_0x2cf034(0x18b)](_0x9f1485,_0x32b00d),_0x16af47=this[_0x2cf034(0xe0)](_0x3dabe0);_0x16af47&&_0x16af47[_0x2cf034(0x74b)](_0x32b00d,_0x2f7089);}[_0x2db2ce(0x72e)]({ownerId:_0x590908,label:_0x5a01d9,trackKinds:_0x133972,remainingTracks:_0x2b7608}){const _0x4eb4ca=_0x2db2ce,_0x487ed1=_0x15540f(_0x221219[_0x4eb4ca(0x54a)],{'contentType':_0x26993c['ContentType']['Media'],'label':_0x5a01d9,'remoteId':_0x590908});this[_0x4eb4ca(0x19c)](_0x487ed1);const _0x33cca7=this['subscriptionRequests']['get'](_0x487ed1);_0x33cca7&&(this[_0x4eb4ca(0x626)][_0x4eb4ca(0x754)]['unregisterSystemSource'](_0x33cca7),this[_0x4eb4ca(0x462)][_0x4eb4ca(0x176)](_0x487ed1));const {parts:_0x508c09,subscriptionLabel:_0x4f2c67}=this['getSubscriptionLabel'](_0x5a01d9,_0x590908),_0x28cc4a=this[_0x4eb4ca(0xe0)](_0x4f2c67);_0x28cc4a&&(_0x28cc4a[_0x4eb4ca(0x531)](_0x590908,_0x2b7608,_0x133972),0x0===_0x2b7608&&this[_0x4eb4ca(0x4fb)](_0x508c09[_0x4eb4ca(0x3a1)],_0x508c09['contentType'],_0x508c09[_0x4eb4ca(0x460)]));}['handleSubscriptionRestartNeedMediaStream'](_0x4ce277,{label:_0x537211,ownerId:_0x32de7b,trackKinds:_0x19651d,streamId:_0x245093,params:_0x10c314}){const _0x41a120=_0x2db2ce,_0x5c199d=_0x15540f(_0x221219[_0x41a120(0x54a)],{'contentType':_0x26993c['ContentType'][_0x41a120(0x3a4)],'label':_0x245093,'remoteId':_0x4ce277}),_0x4825db=this[_0x41a120(0x387)][_0x41a120(0x6a1)][_0x41a120(0x118)](_0x5c199d);if(!(_0x4825db&&_0x4825db instanceof _0x3886aa))throw new _0xb694a1(_0xb694a1[_0x41a120(0x549)]['SubscriptionRequestDoesNotExist'],{'label':_0x5c199d,'ownerId':_0x32de7b});this[_0x41a120(0x511)](_0x4825db,_0x5c199d),this['requestSubscription'](_0x537211,_0x32de7b,_0x19651d,_0x10c314);}[_0x2db2ce(0x602)](_0x1b678d,_0x2b44ac){const _0x3e425e=_0x2db2ce,{label:_0x366205,ownerId:_0x2ad812,trackKinds:_0x327889,params:_0x15588d}=_0x2b44ac,_0x1ef42b=_0x15540f(_0x221219['Incoming'],{'contentType':_0x26993c[_0x3e425e(0x432)][_0x3e425e(0x3a4)],'label':_0x366205,'remoteId':_0x2ad812});if(!this[_0x3e425e(0x462)]['has'](_0x1ef42b))throw new _0xb694a1(_0xb694a1[_0x3e425e(0x549)][_0x3e425e(0x4b4)],{'label':_0x1ef42b,'ownerId':_0x2ad812,'streamId':_0x2b44ac['streamId'],'requests':this[_0x3e425e(0x462)]});const _0x43b9ba=this[_0x3e425e(0x462)]['get'](_0x1ef42b);if(_0x327889[_0x3e425e(0x48d)]===_0x43b9ba[_0x3e425e(0x359)]()['length']&&_0x327889[_0x3e425e(0x2dc)](_0x240359=>_0x43b9ba[_0x3e425e(0x359)]()['includes'](_0x240359)))try{const _0x469b45=_0x43b9ba[_0x3e425e(0x380)](_0x1b678d,_0x2b44ac);if(!_0x469b45)return;this['subscribe'](_0x469b45,_0x2ad812,_0x366205,_0x1ef42b,_0x327889);}catch(_0x39cbb1){return void this[_0x3e425e(0x173)](_0x366205,_0x2ad812,_0x327889,_0x15588d);}}[_0x2db2ce(0x4a6)](_0xc4e83a,{label:_0x375879,ownerId:_0x52b186,trackKinds:_0x45f352}){const _0x1aef61=_0x2db2ce,_0x4707c9=this[_0x1aef61(0x626)][_0x1aef61(0x754)][_0x1aef61(0x395)](_0x52b186,_0x375879);if(!_0x4707c9)return;const _0x490e2d=_0x4707c9['getInternalStreamId'](),_0x1d2429=_0x4707c9[_0x1aef61(0x674)]();_0x1d2429[_0x1aef61(0x6e4)](_0x1f15a=>_0x45f352[_0x1aef61(0x28e)](_0x1f15a))&&this['findNewMediaSubscription'](_0xc4e83a,_0x375879,_0x490e2d,_0x52b186,_0x1d2429);}[_0x2db2ce(0x101)]({label:_0x1c4969,providerId:_0x3edb1d,ownerId:_0x2caefd,streamId:_0x41befc,trackKinds:_0x237405}){const _0x1c1858=_0x2db2ce;this[_0x1c1858(0x14f)](_0x3edb1d,_0x1c4969,_0x41befc,_0x2caefd,_0x237405);}['handleOptimizationConnectionSuccess'](_0x3a255c){const _0x14786c=_0x2db2ce;for(const _0x518566 of this[_0x14786c(0x3d0)][_0x14786c(0x3ac)]()){const {streamLabel:_0x3d8dfe,ownerId:_0x5a6974,trackKinds:_0x48629a,params:_0x1f4f4f}=_0x518566;if(!_0x5a6974||!_0x48629a||!_0x3d8dfe)return;this[_0x14786c(0x2e1)][_0x14786c(0x23d)]({'label':_0x3d8dfe,'ownerId':_0x5a6974,'trackKinds':_0x48629a,'params':_0x1f4f4f,'remoteId':_0x3a255c});}}[_0x2db2ce(0x330)](_0x4f60b6){const _0x5aa1d5=_0x2db2ce;this['maps']['subscriptions'][_0x5aa1d5(0x405)]((_0x3a47b4,_0x260a87)=>{const _0x18b83b=_0x5aa1d5;if(_0x260a87[_0x18b83b(0x1de)](_0x4f60b6)){if(_0x3a47b4[_0x18b83b(0x715)][_0x18b83b(0x537)]()===_0x26993c[_0x18b83b(0x432)]['Media']){const _0x57ae30=_0x3a47b4[_0x18b83b(0x715)];if(_0x57ae30[_0x18b83b(0x674)]()[_0x18b83b(0x48d)]>0x0){const _0x56a9ea={'type':_0x3366c6[_0x18b83b(0x119)],'label':_0x57ae30[_0x18b83b(0x5fc)](),'ownerId':_0x57ae30[_0x18b83b(0x533)](),'trackKinds':_0x57ae30['getSubscribedTracks']()};return void this[_0x18b83b(0x4a6)](_0x4f60b6,_0x56a9ea);}}this[_0x18b83b(0x511)](_0x3a47b4,_0x260a87);}});}[_0x2db2ce(0x37c)](){const _0xa4810d=_0x2db2ce;this[_0xa4810d(0x387)][_0xa4810d(0x6a1)][_0xa4810d(0x405)](this[_0xa4810d(0x511)][_0xa4810d(0x1e9)](this));}['subscribe'](_0x143f76,_0x690dbe,_0xf2f976,_0x1cf9f4,_0x147a8a){const _0x34553f=_0x2db2ce,_0x2ad76c=this[_0x34553f(0x626)][_0x34553f(0x754)]['getConnection'](_0x143f76[_0x34553f(0x2c7)]),_0x30c20f=this[_0x34553f(0x626)][_0x34553f(0x754)]['getRemoteMediaStream'](_0x690dbe,_0xf2f976);this[_0x34553f(0x19c)](_0x1cf9f4),this[_0x34553f(0x462)][_0x34553f(0x40d)](_0x1cf9f4)&&(this[_0x34553f(0x626)]['mediator'][_0x34553f(0x19f)](this[_0x34553f(0x462)][_0x34553f(0x118)](_0x1cf9f4)),this[_0x34553f(0x462)]['delete'](_0x1cf9f4)),this[_0x34553f(0x327)](_0x143f76,_0x690dbe,_0xf2f976,_0x30c20f),_0x30c20f[_0x34553f(0x273)](_0x143f76[_0x34553f(0x369)]),_0x30c20f[_0x34553f(0x5dd)](_0x143f76[_0x34553f(0x2c7)]);const _0x21ddad=_0x2dc33e(_0x30c20f,_0x2ad76c),_0x1b05d8=_0x15540f(_0x221219[_0x34553f(0x54a)],_0x21ddad);this['maps'][_0x34553f(0x6a1)][_0x34553f(0x40d)](_0x1b05d8)||this[_0x34553f(0x1b6)](_0x2ad76c,_0x30c20f);const _0x43af01=this[_0x34553f(0x387)][_0x34553f(0x6a1)][_0x34553f(0x118)](_0x1b05d8);if(!(_0x43af01&&_0x43af01 instanceof _0x3886aa))throw new _0xb694a1(_0xb694a1[_0x34553f(0x549)][_0x34553f(0x4b4)],{'label':_0x1cf9f4,'ownerId':_0x690dbe});_0x4aa571[_0x34553f(0x229)](_0x34553f(0x1c5),{'clusterId':this[_0x34553f(0x626)][_0x34553f(0x255)],'nodeId':this['configs']['localNode']['getId'](),'nodeType':this[_0x34553f(0x626)]['localNode'][_0x34553f(0x26f)],'data':{'subscriptionLabel':_0x1b05d8,'chosenAnswer':_0x143f76}}),this[_0x34553f(0x3d0)]['set'](_0x1b05d8,_0x143f76),_0x43af01[_0x34553f(0x175)](_0x690dbe,_0x147a8a,_0x143f76[_0x34553f(0x70a)]);}['removeRemoteStreamSubscription']({ownerId:_0x33e250,label:_0x1120e1}){const _0xdd492f=_0x2db2ce,_0x30ffd9=this[_0xdd492f(0x626)][_0xdd492f(0x754)][_0xdd492f(0x395)](_0x33e250,_0x1120e1),[_0x419625,_0xc7268a]=Array[_0xdd492f(0x6a9)](this['maps'][_0xdd492f(0x6a1)][_0xdd492f(0x755)]())[_0xdd492f(0x3c6)](([_0x2d0055,_0x141af3])=>-0x1!==_0x2d0055['indexOf'](_0x30ffd9['getInternalStreamId']()));return this[_0xdd492f(0x511)](_0xc7268a,_0x419625);}[_0x2db2ce(0x511)](_0x1ee37e,_0x21192a){const _0x5d5b73=_0x2db2ce;this['configs'][_0x5d5b73(0x754)][_0x5d5b73(0x19f)](_0x1ee37e),this[_0x5d5b73(0x387)][_0x5d5b73(0x511)](_0x1ee37e,_0x21192a);}[_0x2db2ce(0x218)](_0x1b979b){const _0x4837ad=_0x2db2ce;return _0x1b979b['getSupportedContentTypes']()[_0x4837ad(0x28e)](_0x26993c[_0x4837ad(0x432)][_0x4837ad(0x3a4)]);}[_0x2db2ce(0x2a1)](_0x48682d){const _0x486aba=_0x2db2ce;return _0x48682d[_0x486aba(0x537)]()===_0x26993c[_0x486aba(0x432)][_0x486aba(0x3a4)];}async['handleNoAnswer'](_0x1d3d86,_0x554617,_0x145093,_0x29547d){const _0x3e7930=_0x2db2ce;await _0x8ac28d[_0x3e7930(0x33d)](0x3e8);const _0x43a60e=_0x15540f(_0x221219[_0x3e7930(0x54a)],{'contentType':_0x26993c[_0x3e7930(0x432)][_0x3e7930(0x3a4)],'label':_0x1d3d86,'remoteId':_0x554617});this['clearSubscriptionRequestTimeout'](_0x43a60e);const _0x2fcea9=this['subscriptionRequests'][_0x3e7930(0x118)](_0x43a60e);if(!_0x2fcea9)throw new _0xb694a1(_0xb694a1[_0x3e7930(0x549)]['SubscriptionRequestDoesNotExist'],{'label':_0x43a60e,'ownerId':_0x554617});const _0x63f050=this['configs'][_0x3e7930(0x754)][_0x3e7930(0x195)](_0x26310c=>_0x26310c['isConnected']()),_0x17108c=this['configs'][_0x3e7930(0x754)][_0x3e7930(0x46d)](this['configs'][_0x3e7930(0x490)][_0x3e7930(0x28c)](),_0x554617);_0x2fcea9[_0x3e7930(0x39c)](_0x63f050[_0x3e7930(0x627)](_0x21e306=>_0x21e306[_0x3e7930(0x2ae)]()),_0x17108c);try{_0x2fcea9[_0x3e7930(0x1b5)](this[_0x3e7930(0x626)][_0x3e7930(0x490)][_0x3e7930(0x28c)](),_0x554617,_0x1d3d86,_0x145093,_0x29547d),this[_0x3e7930(0x169)](_0x1d3d86,_0x554617,_0x145093,_0x29547d,_0x43a60e,_0x2fcea9);}catch(_0x1765a1){this[_0x3e7930(0x2e1)]['push']({'label':_0x1d3d86,'ownerId':_0x554617,'trackKinds':_0x145093,'params':_0x29547d});}}[_0x2db2ce(0xfa)](_0xb70e,_0xf29463,_0x1adc55,_0x547951){const _0x1747c9=_0x2db2ce;this['subscriptionRequestsQueue'][_0x1747c9(0x23d)]({'label':_0xb70e,'ownerId':_0xf29463,'trackKinds':_0x1adc55,'params':_0x547951});}[_0x2db2ce(0x3f1)]({label:_0x5278b9,ownerId:_0x589cbb,trackKinds:_0x228d84,params:_0x391941,remoteId:_0xaf3003}){const _0x150e00=_0x2db2ce;if(!this[_0x150e00(0x626)][_0x150e00(0x754)]['getRemoteMediaStream'](_0x589cbb,_0x5278b9))return;if(!this[_0x150e00(0x626)]['mediator'][_0x150e00(0x108)]()['getRank']())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0xaf3003){const _0x5cb038=this['configs'][_0x150e00(0x754)]['getRemoteNodes']()[_0x150e00(0x3c6)](_0x87eb1b=>_0x87eb1b[_0x150e00(0x28c)]()===_0xaf3003),_0x58e7f3=_0x5cb038?.[_0x150e00(0x124)]();if(!_0x5cb038||!_0x58e7f3)throw new Error(_0x150e00(0x111));const _0x258594=this[_0x150e00(0x626)][_0x150e00(0x754)][_0x150e00(0x449)]()[_0x150e00(0x3c6)](_0x1d849e=>_0x1d849e[_0x150e00(0x28c)]()===_0x589cbb),_0x8546f9=_0x258594?.[_0x150e00(0x124)]();if(!_0x258594||!_0x8546f9)throw new Error(_0x150e00(0x1cf));const _0x5c4a04=this[_0x150e00(0x3d0)][_0x150e00(0x118)](_0x5278b9);if(_0x5c4a04){const _0x31a376=this['configs']['mediator'][_0x150e00(0x449)]()[_0x150e00(0x3c6)](_0x4bbeca=>_0x4bbeca[_0x150e00(0x28c)]()===_0x5c4a04[_0x150e00(0x2c7)]),_0x13229c=_0x31a376?.[_0x150e00(0x124)]();if(!_0x31a376||!_0x13229c)throw new Error(_0x150e00(0x3f8));if(Math[_0x150e00(0x41b)](_0x13229c-_0x8546f9)<Math['abs'](_0x58e7f3-_0x8546f9))return;}}const _0x2fd338=this[_0x150e00(0x626)][_0x150e00(0x754)][_0x150e00(0x195)](_0x1e7737=>_0x1e7737[_0x150e00(0x340)]()&&(!_0xaf3003||_0x1e7737[_0x150e00(0x2ae)]()===_0xaf3003));if(!_0x2fd338[_0x150e00(0x48d)]||0x0===_0x2fd338['length'])throw new Error(_0x150e00(0x3fb));const _0x5beaff=this['configs']['mediator'][_0x150e00(0x46d)](this['configs'][_0x150e00(0x490)][_0x150e00(0x28c)](),_0x589cbb),_0x4a4fa5=_0x15540f(_0x221219[_0x150e00(0x54a)],{'contentType':_0x26993c[_0x150e00(0x432)][_0x150e00(0x3a4)],'label':_0x5278b9,'remoteId':_0x589cbb});if(this['subscriptionRequests']['has'](_0x4a4fa5)){if(_0xaf3003)throw new Error(_0x150e00(0x39e));const _0x39111f=this[_0x150e00(0x462)]['get'](_0x4a4fa5)['getTracks']();if(_0x39111f['length']===_0x228d84['length']&&_0x39111f['every'](_0x5bb8b2=>_0x228d84[_0x150e00(0x28e)](_0x5bb8b2)))return;this['configs'][_0x150e00(0x754)][_0x150e00(0x19f)](this[_0x150e00(0x462)][_0x150e00(0x118)](_0x4a4fa5)),this[_0x150e00(0x462)][_0x150e00(0x176)](_0x4a4fa5),_0x228d84=Array[_0x150e00(0x6a9)](new Set(_0x228d84['concat'](_0x39111f))),this[_0x150e00(0x19c)](_0x4a4fa5);}const _0x47b7c7=new _0x38ab7b(_0x2fd338[_0x150e00(0x627)](_0x5d7e7b=>_0x5d7e7b[_0x150e00(0x2ae)]()),_0x5beaff,this[_0x150e00(0x274)],_0x228d84);this[_0x150e00(0x626)][_0x150e00(0x754)][_0x150e00(0x57f)](_0x47b7c7),this[_0x150e00(0x462)][_0x150e00(0x3bc)](_0x4a4fa5,_0x47b7c7),_0x47b7c7[_0x150e00(0x1b5)](this[_0x150e00(0x626)]['localNode'][_0x150e00(0x28c)](),_0x589cbb,_0x5278b9,_0x228d84,_0x391941),this[_0x150e00(0x169)](_0x5278b9,_0x589cbb,_0x228d84,_0x391941,_0x4a4fa5,_0x47b7c7);}[_0x2db2ce(0x19c)](_0x4b50b1){const _0x3deb8e=_0x2db2ce;this[_0x3deb8e(0x211)][_0x3deb8e(0x40d)](_0x4b50b1)&&(clearTimeout(this[_0x3deb8e(0x211)][_0x3deb8e(0x118)](_0x4b50b1)),this[_0x3deb8e(0x211)][_0x3deb8e(0x176)](_0x4b50b1));}[_0x2db2ce(0x169)](_0x95aaa1,_0x5b91f8,_0x169329,_0xa2c049,_0x53278d,_0x28b770){const _0x3da22a=_0x2db2ce;this[_0x3da22a(0x19c)](_0x53278d),this[_0x3da22a(0x211)][_0x3da22a(0x3bc)](_0x53278d,setTimeout(()=>{const _0xa3da00=_0x3da22a;this[_0xa3da00(0x211)]['delete'](_0x53278d);try{const _0x175ff5=_0x28b770['chooseAnswer']();this[_0xa3da00(0x175)](_0x175ff5,_0x5b91f8,_0x95aaa1,_0x53278d,_0x169329);}catch(_0x3d617a){this['handleNoAnswer'](_0x95aaa1,_0x5b91f8,_0x169329,_0xa2c049);}},0x7d0));}['findNewMediaSubscription'](_0x5291aa,_0x6fdce3,_0x5a4cd3,_0x2da9bc,_0x2d11bf){const _0x526e17=_0x2db2ce,{subscriptionLabel:_0x2e2b9e}=this[_0x526e17(0x18b)](_0x6fdce3,_0x2da9bc),_0xa35823=this[_0x526e17(0xe0)](_0x2e2b9e),_0x2edd58=_0xa35823?.[_0x526e17(0x70a)];_0xa35823&&(_0xa35823[_0x526e17(0x531)](_0x2da9bc,0x0),this[_0x526e17(0x4fb)](_0x5a4cd3,_0x26993c['ContentType'][_0x526e17(0x3a4)],_0x5291aa)),this[_0x526e17(0xfa)](_0x6fdce3,_0x2da9bc,_0x2d11bf,_0x2edd58);}['getMediaSubscription'](_0x56d25a){const _0x2f0525=_0x2db2ce,_0x4fa411=this[_0x2f0525(0x387)][_0x2f0525(0x6a1)][_0x2f0525(0x118)](_0x56d25a);if(_0x4fa411){if(!(_0x4fa411 instanceof _0x3886aa))throw new _0xb694a1(_0xb694a1[_0x2f0525(0x549)]['InvalidSubscription'],{'label':_0x56d25a,'subscription':_0x4fa411});return _0x4fa411;}}[_0x2db2ce(0x18b)](_0xe18a59,_0x458b87){const _0x52893f=_0x2db2ce,_0x5da50c=this[_0x52893f(0x734)](_0xe18a59,_0x458b87);return{'parts':_0x5da50c,'subscriptionLabel':_0x15540f(_0x221219[_0x52893f(0x54a)],_0x5da50c)};}[_0x2db2ce(0x734)](_0x56fff8,_0x4c2bb5){const _0x2171ed=_0x2db2ce,_0x199b84=this[_0x2171ed(0x626)][_0x2171ed(0x754)][_0x2171ed(0x395)](_0x4c2bb5,_0x56fff8),_0x3ec2f0=_0x199b84[_0x2171ed(0x609)]();if(!_0x3ec2f0)throw new _0xb694a1(_0xb694a1[_0x2171ed(0x549)]['RemoteMediaStreamMissingProviderId'],{'label':_0x56fff8,'streamId':_0x199b84['getInternalStreamId'](),'ownerId':_0x4c2bb5,'localId':this['configs'][_0x2171ed(0x490)][_0x2171ed(0x28c)]()});return{'contentType':_0x26993c[_0x2171ed(0x432)]['Media'],'label':_0x199b84[_0x2171ed(0x170)](),'remoteId':_0x3ec2f0};}[_0x2db2ce(0x327)](_0x2d36c1,_0x3e43e9,_0x3d7aab,_0x1efd33){const _0x5d67ba=_0x2db2ce,_0x173444=_0x1efd33['getProviderId']();if(_0x173444&&_0x173444!==_0x2d36c1[_0x5d67ba(0x2c7)]){const {parts:_0x284584,subscriptionLabel:_0x5d816e}=this['getSubscriptionLabel'](_0x3d7aab,_0x3e43e9),_0x446e48=this[_0x5d67ba(0xe0)](_0x5d816e);_0x446e48&&(_0x446e48[_0x5d67ba(0x531)](_0x3e43e9,0x0),this[_0x5d67ba(0x4fb)](_0x284584['label'],_0x284584['contentType'],_0x284584[_0x5d67ba(0x460)]));}}}class _0x2d21fa{[_0x2db2ce(0x626)];[_0x2db2ce(0x4ac)];[_0x2db2ce(0x387)];constructor(_0x32ca08,_0x3d0c9b){const _0x2a5fa7=_0x2db2ce;this[_0x2a5fa7(0x626)]=_0x32ca08,this[_0x2a5fa7(0x4ac)]=_0x3d0c9b,this['maps']=new _0x4cc932(({source:_0x5d843c,destination:_0x508364})=>_0x2dc33e(_0x5d843c,_0x508364));}[_0x2db2ce(0x1b6)](_0x2a8053,_0x3ad1ce){const _0xe84897=_0x2db2ce,_0x27476e={'source':_0x2a8053,'destination':_0x3ad1ce};this[_0xe84897(0x387)][_0xe84897(0x1b6)](_0x221219[_0xe84897(0x157)],_0x27476e);}[_0x2db2ce(0x4fb)](_0x28bd8c,_0x2c0cab,_0x3c1b64=''){const _0x24adf8=_0x2db2ce,_0x39e769={'contentType':_0x2c0cab,'label':_0x28bd8c,'remoteId':_0x3c1b64};this['maps'][_0x24adf8(0x4fb)](_0x39e769,_0x221219[_0x24adf8(0x157)]);}['handleSubscriptionSubscribeMediaStream'](_0x170aca,_0x425b83){const _0x52112b=_0x2db2ce;let _0x1c378d;_0x1c378d=_0x425b83[_0x52112b(0x3f2)]!==this[_0x52112b(0x626)][_0x52112b(0x490)][_0x52112b(0x28c)]()?this[_0x52112b(0x626)][_0x52112b(0x754)][_0x52112b(0x395)](_0x425b83[_0x52112b(0x3f2)],_0x425b83[_0x52112b(0x3a1)]):this[_0x52112b(0x626)][_0x52112b(0x754)]['getLocalMediaStream'](_0x425b83[_0x52112b(0x3a1)]);const _0x59223d=_0x15540f(_0x221219[_0x52112b(0x157)],{'contentType':_0x26993c[_0x52112b(0x432)][_0x52112b(0x3a4)],'label':_0x1c378d['getShareableStreamId'](),'remoteId':_0x170aca}),_0x1f5736=this[_0x52112b(0x45a)]();if(!this[_0x52112b(0x387)][_0x52112b(0x6a1)]['has'](_0x59223d)&&_0x1f5736>=this[_0x52112b(0x4ac)])return{'type':_0x3366c6[_0x52112b(0xd8)],'ownerId':_0x425b83[_0x52112b(0x3f2)],'label':_0x425b83[_0x52112b(0x3a1)],'streamId':_0x1c378d[_0x52112b(0x483)](),'trackKinds':_0x425b83[_0x52112b(0x3a9)],'params':_0x425b83[_0x52112b(0x70a)]};_0x1c378d instanceof _0x27d337&&!_0x1c378d['isSubscribed'](_0x425b83[_0x52112b(0x3a9)])&&_0x1c378d[_0x52112b(0x175)](_0x425b83[_0x52112b(0x70a)]),this[_0x52112b(0x387)][_0x52112b(0x6a1)][_0x52112b(0x40d)](_0x59223d)||this[_0x52112b(0x1b6)](_0x1c378d[_0x52112b(0x1f5)](_0x170aca),this[_0x52112b(0x626)][_0x52112b(0x754)][_0x52112b(0x237)](_0x170aca));}[_0x2db2ce(0x523)](_0x2a1de9,{label:_0x4c5a9c,ownerId:_0x3adf2f,remainingTracks:_0x158582}){const _0x52943a=_0x2db2ce;if(_0x158582>0x0)return;let _0x1f0f78;_0x1f0f78=_0x3adf2f!==this[_0x52943a(0x626)][_0x52943a(0x490)][_0x52943a(0x28c)]()?this[_0x52943a(0x626)][_0x52943a(0x754)][_0x52943a(0x395)](_0x3adf2f,_0x4c5a9c):this[_0x52943a(0x626)][_0x52943a(0x754)]['getLocalMediaStream'](_0x4c5a9c);const _0x55f061=_0x1f0f78['getShareableStreamId'](),_0x13efcd=_0x26993c[_0x52943a(0x432)][_0x52943a(0x3a4)];this['removeSubscription'](_0x55f061,_0x13efcd,_0x2a1de9);}['handleContentUnsubscribeMediaStream'](_0x140100,{label:_0x55d436,ownerId:_0x4d4530,trackKinds:_0x25526e}){const _0x391d7b=_0x2db2ce;if(_0x140100!==_0x150f3e)return[];let _0x59b19c=[];for(const _0x2628dc of this[_0x391d7b(0x387)]['subscriptions']){const {source:_0x32fef3,destination:_0x58015b}=_0x2628dc[0x1];_0x32fef3[_0x391d7b(0x5fc)]()===_0x55d436&&_0x32fef3[_0x391d7b(0x533)]()===_0x4d4530&&_0x59b19c['push']({'sourceId':this['configs'][_0x391d7b(0x490)][_0x391d7b(0x28c)](),'destinationIds':[_0x58015b[_0x391d7b(0x2ae)]()],'messageType':_0x190ed6['Subscription'],'content':{'type':_0x3366c6[_0x391d7b(0x119)],'label':_0x55d436,'ownerId':_0x4d4530,'trackKinds':_0x25526e}});}return _0x59b19c;}[_0x2db2ce(0x438)](_0x41ed69,_0xfa85c4){const _0x473454=_0x2db2ce,{label:_0x17d0ba,ownerId:_0x1a4a78,trackKinds:_0x48ddde,params:_0x1d252c}=_0xfa85c4,{hasTracks:_0x3d154f,streamId:_0x287b05,hasResolution:_0x33387b,distance:_0xde30d4,subscriptionLabel:_0x11e5fd}=this[_0x473454(0x473)](_0x41ed69,_0xfa85c4);let _0x390bf1=this[_0x473454(0x45a)]()<this['maxOutgoingSubscriptions']&&(_0x3d154f||_0xde30d4>-0x1)?_0x3366c6['CanProvideMediaStream']:_0x3366c6[_0x473454(0x23f)];const _0x419d3c=_0xde30d4<0x0?0xa:_0xde30d4;let _0x5adfe9=_0x3d154f?_0x33387b?_0x419d3c:_0x419d3c+0x0:_0x419d3c+0xa;return _0x11e5fd&&this['maps']['subscriptions']['has'](_0x11e5fd)&&(_0x3d154f&&(_0x5adfe9=0x0),_0x390bf1=_0x3366c6['CanProvideMediaStream']),{'type':_0x390bf1,'cost':_0x5adfe9,'distance':_0xde30d4,'label':_0x17d0ba,'ownerId':_0x1a4a78,'streamId':_0x287b05,'trackKinds':_0x48ddde,'params':_0x1d252c};}['handleContentUnpublishMediaStream'](_0x1bb750){const _0xc5753d=_0x2db2ce,{label:_0x37e22c,ownerId:_0x4606e5}=_0x1bb750,_0x51c4e1=this[_0xc5753d(0x626)][_0xc5753d(0x754)][_0xc5753d(0x395)](_0x4606e5,_0x37e22c);this[_0xc5753d(0x387)][_0xc5753d(0x6a1)]['forEach'](_0x2933d0=>{const _0x2e58b2=_0xc5753d;if(_0x2933d0[_0x2e58b2(0x41a)][_0x2e58b2(0x170)]()===_0x51c4e1['getShareableStreamId']()){const _0x5e0740=_0x2933d0[_0x2e58b2(0x715)];this[_0x2e58b2(0x4fb)](_0x51c4e1[_0x2e58b2(0x483)](),_0x26993c[_0x2e58b2(0x432)]['Media'],_0x5e0740[_0x2e58b2(0x2ae)]());}});}[_0x2db2ce(0x137)]({label:_0x55b0b1}){const _0x1a2388=_0x2db2ce,_0x21fe77=this[_0x1a2388(0x626)]['mediator']['getLocalMediaStream'](_0x55b0b1);this['maps'][_0x1a2388(0x6a1)][_0x1a2388(0x405)](_0x454170=>{const _0x3bb42d=_0x1a2388;if(_0x454170['source']['getInternalStreamId']()===_0x21fe77[_0x3bb42d(0x483)]()){const _0x3e582f=_0x454170[_0x3bb42d(0x715)];this['removeSubscription'](_0x21fe77[_0x3bb42d(0x483)](),_0x26993c['ContentType']['Media'],_0x3e582f[_0x3bb42d(0x2ae)]());}});}['removeSubscriptionsForNode'](_0x1e7889){const _0x5bf4a0=_0x2db2ce;this[_0x5bf4a0(0x387)][_0x5bf4a0(0x330)](_0x1e7889);}[_0x2db2ce(0x37c)](){const _0x364cf6=_0x2db2ce;this[_0x364cf6(0x387)][_0x364cf6(0x6a1)][_0x364cf6(0x405)](this['closeSubscription'][_0x364cf6(0x1e9)](this));}[_0x2db2ce(0x511)](_0x55351c,_0x4502eb){const _0x456142=_0x2db2ce;this['maps'][_0x456142(0x511)](_0x55351c,_0x4502eb);}[_0x2db2ce(0x473)](_0x5588c5,{label:_0x655b16,ownerId:_0x26ced2,trackKinds:_0x30f9e5,params:_0x4bb6ec}){const _0x398096=_0x2db2ce;if(_0x26ced2!==this[_0x398096(0x626)][_0x398096(0x490)][_0x398096(0x28c)]()){const _0x1d519d=this['configs']['mediator'][_0x398096(0x395)](_0x26ced2,_0x655b16);return _0x1d519d&&_0x1d519d[_0x398096(0x609)]()!==_0x5588c5?{'hasTracks':_0x1d519d[_0x398096(0x57c)](_0x30f9e5),'hasResolution':this[_0x398096(0x385)](_0x1d519d[_0x398096(0x399)](),_0x4bb6ec),'streamId':_0x1d519d[_0x398096(0x483)](),'distance':this[_0x398096(0x626)][_0x398096(0x754)][_0x398096(0x46d)](_0x5588c5,_0x26ced2),'subscriptionLabel':_0x15540f(_0x221219[_0x398096(0x157)],{'contentType':_0x26993c['ContentType']['Media'],'label':_0x1d519d[_0x398096(0x483)](),'remoteId':_0x5588c5})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0xc34490=this['configs'][_0x398096(0x754)][_0x398096(0x3b6)](_0x655b16);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0xc34490[_0x398096(0x483)](),'distance':0x0,'subscriptionLabel':_0x15540f(_0x221219['Outgoing'],{'contentType':_0x26993c[_0x398096(0x432)][_0x398096(0x3a4)],'label':_0xc34490['getShareableStreamId'](),'remoteId':_0x5588c5})};}['getNumberOutgoingSubscriptions'](){const _0x407a5c=_0x2db2ce;return Array[_0x407a5c(0x6a9)](this['maps'][_0x407a5c(0x6a1)]['entries']())[_0x407a5c(0x6f6)](([_0x35bb00,{source:_0x564904}])=>_0x35bb00[_0x407a5c(0x44a)](_0x221219[_0x407a5c(0x157)])&&_0x564904[_0x407a5c(0x537)]()===_0x26993c[_0x407a5c(0x432)][_0x407a5c(0x3a4)])['length'];}['canProvideResolution'](_0x22579b,_0x186bf6){const _0x17722c=_0x2db2ce;if(!_0x186bf6||!_0x186bf6[_0x17722c(0x196)]||_0x17722c(0x586)==typeof _0x186bf6[_0x17722c(0x196)]||!_0x186bf6['video'][_0x17722c(0x1a2)])return!0x0;const {width:_0x17044f,height:_0x66d2c8}=_0x186bf6[_0x17722c(0x196)]['maxResolution'];return _0x22579b[_0x17722c(0x5b4)]>=_0x17044f&&_0x22579b[_0x17722c(0x5b0)]>=_0x66d2c8;}}class _0x285294{[_0x2db2ce(0x626)];[_0x2db2ce(0x4ac)];['maxDistance'];[_0x2db2ce(0x55f)];['incomingManager'];[_0x2db2ce(0x10f)];constructor(_0x4ffb36,_0x966259,_0x291d1c){const _0x26fa0f=_0x2db2ce;this[_0x26fa0f(0x626)]=_0x4ffb36,this[_0x26fa0f(0x4ac)]=_0x966259,this[_0x26fa0f(0x274)]=_0x291d1c,this[_0x26fa0f(0x626)][_0x26fa0f(0x754)][_0x26fa0f(0x57f)](this),this[_0x26fa0f(0x647)]=new _0x1e7ea1(this[_0x26fa0f(0x626)],this['maxDistance']),this['outgoingManager']=new _0x2d21fa(this['configs'],this['maxOutgoingSubscriptions']);}[_0x2db2ce(0x155)](_0x5f421e){this['systemTopic']=_0x5f421e;}[_0x2db2ce(0x1f7)](){delete this['systemTopic'];}[_0x2db2ce(0x37c)](){const _0x276f93=_0x2db2ce;this['incomingManager'][_0x276f93(0x37c)](),this[_0x276f93(0x10f)][_0x276f93(0x37c)](),this['configs'][_0x276f93(0x754)][_0x276f93(0x19f)](this);}[_0x2db2ce(0x1d2)](_0x28717b,_0x33a051){const _0x2c8738=_0x2db2ce;this[_0x2c8738(0x647)][_0x2c8738(0x1b6)](_0x28717b,_0x33a051);}[_0x2db2ce(0x145)](_0x35427e,_0x2c337f){const _0x5785ff=_0x2db2ce;this[_0x5785ff(0x10f)][_0x5785ff(0x1b6)](_0x35427e,_0x2c337f);}[_0x2db2ce(0x5a5)](_0x3cfd6a,_0x26fa49,_0x2d20a4=''){const _0x12aaef=_0x2db2ce;this[_0x12aaef(0x647)][_0x12aaef(0x4fb)](_0x3cfd6a,_0x26fa49,_0x2d20a4);}['removeOutgoingSubscription'](_0x5d8863,_0x54d819,_0x268078=''){const _0x5ec717=_0x2db2ce;try{this[_0x5ec717(0x10f)][_0x5ec717(0x4fb)](_0x5d8863,_0x54d819,_0x268078);}catch(_0x504d10){if(_0x504d10 instanceof _0xb694a1&&_0x504d10[_0x5ec717(0x308)]===_0xb694a1[_0x5ec717(0x549)][_0x5ec717(0x1ac)])return;}}[_0x2db2ce(0x380)](_0x5d92f9){const _0x4995e4=_0x2db2ce;switch(_0x5d92f9[_0x4995e4(0x581)][_0x4995e4(0x26f)]){case _0x3366c6[_0x4995e4(0x2a9)]:this[_0x4995e4(0x6df)](_0x5d92f9[_0x4995e4(0x133)],_0x5d92f9[_0x4995e4(0x581)]);break;case _0x3366c6[_0x4995e4(0x17e)]:this['outgoingManager'][_0x4995e4(0x523)](_0x5d92f9[_0x4995e4(0x133)],_0x5d92f9[_0x4995e4(0x581)]);break;case _0x3366c6[_0x4995e4(0x394)]:this[_0x4995e4(0x438)](_0x5d92f9[_0x4995e4(0x133)],_0x5d92f9[_0x4995e4(0x581)]);break;case _0x3366c6[_0x4995e4(0xd8)]:this[_0x4995e4(0x647)][_0x4995e4(0x5d6)](_0x5d92f9[_0x4995e4(0x133)],_0x5d92f9[_0x4995e4(0x581)]);break;case _0x3366c6['CanProvideMediaStream']:case _0x3366c6[_0x4995e4(0x23f)]:this[_0x4995e4(0x647)][_0x4995e4(0x602)](_0x5d92f9[_0x4995e4(0x133)],_0x5d92f9['content']);break;case _0x3366c6[_0x4995e4(0x119)]:this[_0x4995e4(0x647)][_0x4995e4(0x4a6)](_0x5d92f9[_0x4995e4(0x133)],_0x5d92f9['content']);}}['handleContentSystemEvents'](_0x279deb){const _0x4d7fb9=_0x2db2ce;switch(_0x279deb[_0x4d7fb9(0x581)][_0x4d7fb9(0x26f)]){case _0x1ce536[_0x4d7fb9(0x1a9)]:this[_0x4d7fb9(0x647)][_0x4d7fb9(0x1bb)](_0x279deb['content']),this[_0x4d7fb9(0x10f)][_0x4d7fb9(0x1bb)](_0x279deb['content']);break;case _0x1ce536[_0x4d7fb9(0x2a9)]:this[_0x4d7fb9(0x647)][_0x4d7fb9(0x750)](_0x279deb['content']);break;case _0x1ce536[_0x4d7fb9(0xf7)]:this[_0x4d7fb9(0x647)]['handleContentUpdateMediaStream'](_0x279deb[_0x4d7fb9(0x581)]);break;case _0x1ce536['UnsubscribeMediaStream']:this['handleContentUnsubscribeMediaStream'](_0x279deb[_0x4d7fb9(0x133)],_0x279deb[_0x4d7fb9(0x581)]);break;case _0x1ce536['CloseMediaStream']:this['outgoingManager'][_0x4d7fb9(0x137)](_0x279deb[_0x4d7fb9(0x581)]);break;case _0x1ce536[_0x4d7fb9(0x53d)]:this['handleContentClosePubSubTopic'](_0x279deb[_0x4d7fb9(0x581)]);break;case _0x1ce536[_0x4d7fb9(0x282)]:this[_0x4d7fb9(0x587)](_0x279deb[_0x4d7fb9(0x581)]);break;case _0x1ce536[_0x4d7fb9(0x253)]:this[_0x4d7fb9(0xe5)](_0x279deb[_0x4d7fb9(0x581)]);break;case _0x1ce536['CloseJobDispatcher']:case _0x1ce536[_0x4d7fb9(0x53b)]:this['handleContentCloseJob'](_0x279deb[_0x4d7fb9(0x581)]);break;case _0x1ce536[_0x4d7fb9(0x657)]:this[_0x4d7fb9(0x647)]['handleContentRemoteMediaStreamTrackFail'](_0x279deb[_0x4d7fb9(0x581)]);}}['handleNodeSystemEvents']({content:_0x1b0e68}){const _0x26b2af=_0x2db2ce;_0x1b0e68[_0x26b2af(0x26f)]===_0x1a33b0[_0x26b2af(0x736)]&&this[_0x26b2af(0x330)](_0x1b0e68);}[_0x2db2ce(0x697)](_0x1ed2af){const _0x3b029b=_0x2db2ce;_0x1ed2af[_0x3b029b(0x581)][_0x3b029b(0x26f)]===_0x41aa84[_0x3b029b(0x20e)]&&this[_0x3b029b(0x647)][_0x3b029b(0x64d)](_0x1ed2af[_0x3b029b(0x133)]);}[_0x2db2ce(0x72e)](_0x3b425c,_0x476d25){const _0x4714a2=_0x2db2ce;this[_0x4714a2(0x647)]['handleContentUnsubscribeMediaStream'](_0x476d25),this['outgoingManager']['handleContentUnsubscribeMediaStream'](_0x3b425c,_0x476d25)[_0x4714a2(0x405)](_0x49aeaa=>this[_0x4714a2(0x55f)][_0x4714a2(0x536)](_0x49aeaa));}[_0x2db2ce(0x6df)](_0x4e6122,_0x4a9a66){const _0x4cbd45=_0x2db2ce,_0x114976=this[_0x4cbd45(0x10f)][_0x4cbd45(0x6df)](_0x4e6122,_0x4a9a66);if(_0x114976&&(this[_0x4cbd45(0x55f)][_0x4cbd45(0x536)]({'sourceId':this[_0x4cbd45(0x626)][_0x4cbd45(0x490)][_0x4cbd45(0x28c)](),'destinationIds':[_0x4e6122],'messageType':_0x190ed6[_0x4cbd45(0x595)],'content':_0x114976}),_0x114976[_0x4cbd45(0x26f)]===_0x3366c6['RestartNeedMediaStream']))throw new _0x30f7c3('Restart\x20NeedMediaStream');}[_0x2db2ce(0x438)](_0x324120,_0x331f86){const _0x2e8d9c=_0x2db2ce,_0xd79da9=this[_0x2e8d9c(0x10f)][_0x2e8d9c(0x438)](_0x324120,_0x331f86);this['systemTopic'][_0x2e8d9c(0x536)]({'sourceId':this[_0x2e8d9c(0x626)][_0x2e8d9c(0x490)][_0x2e8d9c(0x28c)](),'destinationIds':[_0x324120],'messageType':_0x190ed6[_0x2e8d9c(0x595)],'content':_0xd79da9});}[_0x2db2ce(0x587)]({label:_0xa44ad9}){const _0x42acaf=_0x2db2ce;this[_0x42acaf(0x5a5)](_0xa44ad9,_0x26993c['ContentType']['ObjectStore']),this[_0x42acaf(0x42a)](_0xa44ad9,_0x26993c[_0x42acaf(0x432)][_0x42acaf(0x6c5)]);}['handleContentCloseKeyValueDatabase']({label:_0x56f28c}){const _0x432723=_0x2db2ce;this[_0x432723(0x5a5)](_0x56f28c,_0x26993c['ContentType']['KeyValueDatabase']),this[_0x432723(0x42a)](_0x56f28c,_0x26993c['ContentType'][_0x432723(0x220)]);}[_0x2db2ce(0x408)]({label:_0x4b2fc4}){const _0x46dd92=_0x2db2ce;this['removeIncomingSubscription'](_0x4b2fc4,_0x26993c[_0x46dd92(0x432)][_0x46dd92(0x732)]),this['removeOutgoingSubscription'](_0x4b2fc4,_0x26993c[_0x46dd92(0x432)][_0x46dd92(0x732)]);}['handleContentCloseJob']({label:_0x2636a0}){const _0x244026=_0x2db2ce;this['removeIncomingSubscription'](_0x2636a0,_0x26993c[_0x244026(0x432)][_0x244026(0x336)]),this[_0x244026(0x42a)](_0x2636a0,_0x26993c['ContentType']['Job']);}[_0x2db2ce(0x330)]({id:_0x457344}){const _0xdae8c1=_0x2db2ce;this[_0xdae8c1(0x647)]['removeSubscriptionsForNode'](_0x457344),this[_0xdae8c1(0x10f)][_0xdae8c1(0x330)](_0x457344);}}class _0x377f9d{[_0x2db2ce(0x3a1)];[_0x2db2ce(0x3ab)]=_0x8f7aff();constructor(){this['label']=0x0;}[_0x2db2ce(0x5fc)](){return this['label'];}[_0x2db2ce(0x537)](){const _0xd8e709=_0x2db2ce;return _0x26993c[_0xd8e709(0x432)]['Data'];}[_0x2db2ce(0x4ca)](_0x3bff50){const _0x18b28c=_0x2db2ce;_0x3bff50[_0x18b28c(0x155)](this);}[_0x2db2ce(0x383)](_0x48c127){const _0x308280=_0x2db2ce;_0x48c127[_0x308280(0x1f7)]();}[_0x2db2ce(0x536)](_0x1f4366){const _0x1dff64=_0x2db2ce;_0x4aa571[_0x1dff64(0x24e)](_0x50f1bc[_0x1dff64(0x6c1)],_0x1dff64(0x551),_0x1f4366['sourceId'],_0x1f4366),this[_0x1dff64(0x3ab)][_0x1dff64(0x536)]({'topicLabel':this[_0x1dff64(0x3a1)],'contentType':_0x26993c[_0x1dff64(0x432)]['Data'],'uuid':_0x1f4366['uuid']??(0x0,_0x25a06c['v4'])(),'recipients':_0x1f4366[_0x1dff64(0x25c)]??[],..._0x1f4366});}[_0x2db2ce(0x175)](_0x38001a){const _0x293ca0=_0x2db2ce;return this[_0x293ca0(0x3ab)]['subscribe'](_0x38001a);}}class _0x38d68a{[_0x2db2ce(0x606)];[_0x2db2ce(0x453)];[_0x2db2ce(0x274)];['ranges']=[];[_0x2db2ce(0x46b)];[_0x2db2ce(0x120)]=new Map();constructor(_0x5e4571,_0x47d5e8,_0xec311e){const _0x586ff7=_0x2db2ce;this['minConnections']=_0x5e4571,this['maxConnections']=_0x47d5e8,this[_0x586ff7(0x274)]=_0xec311e,this['maxLayer']=(this[_0x586ff7(0x453)]-0x2*this[_0x586ff7(0x606)])/0x2,this[_0x586ff7(0x3b9)][_0x586ff7(0x23d)]({'start':0x1,'end':this[_0x586ff7(0x2ad)](0x1,0x1)-0x1});for(let _0x5e59c6=0x0;_0x5e59c6<this[_0x586ff7(0x46b)];++_0x5e59c6)this[_0x586ff7(0x3b9)][_0x586ff7(0x23d)]({'start':this[_0x586ff7(0x2ad)](0x1,_0x5e59c6+0x1),'end':this[_0x586ff7(0x2ad)](0x1,_0x5e59c6+0x2)-0x1});}['getNextTargetRank'](_0x67df11,_0x3ab30f=0x1){const _0x3dc050=_0x2db2ce;let _0x572aa2=this[_0x3dc050(0x274)]-this['minConnections'],_0x4ee447=0x1;for(let _0x2e7d38=0x1;_0x2e7d38<_0x3ab30f;++_0x2e7d38)_0x572aa2*=this['maxDistance']-this['minConnections']-_0x2e7d38,_0x4ee447*=this[_0x3dc050(0x274)]-this[_0x3dc050(0x606)]-_0x2e7d38+0x1;return _0x572aa2*this[_0x3dc050(0x606)]+_0x67df11-_0x4ee447;}[_0x2db2ce(0x200)](_0x48e100){let _0x4be9d2=0x0;for(;this['ranges'][_0x4be9d2]['end']<_0x48e100;)_0x4be9d2+=0x1;return _0x4be9d2;}['getMinConnections'](){const _0x5e6ecc=_0x2db2ce;return this[_0x5e6ecc(0x606)];}[_0x2db2ce(0x35a)](){const _0x1c48e0=_0x2db2ce;return this[_0x1c48e0(0x453)];}[_0x2db2ce(0x16c)](){const _0x4dd897=_0x2db2ce;return this[_0x4dd897(0x274)];}['getRemoteNodes'](){return this['remoteNodes'];}[_0x2db2ce(0x16a)](_0x29ea46,_0x10b56c){const _0x267de4=_0x2db2ce;this['remoteNodes'][_0x267de4(0x3bc)](_0x29ea46,_0x10b56c);}['hasRemoteNode'](_0x4e93e7){return this['remoteNodes']['has'](_0x4e93e7);}[_0x2db2ce(0x26e)](_0x3c2429){const _0x7c6241=_0x2db2ce;return this[_0x7c6241(0x120)]['get'](_0x3c2429);}[_0x2db2ce(0x5b1)](_0x149345){const _0x146ab7=_0x2db2ce;this[_0x146ab7(0x120)][_0x146ab7(0x176)](_0x149345);}[_0x2db2ce(0x700)](_0x466488,_0x2b8505){const _0x35d929=_0x2db2ce,_0x33f3bf=this[_0x35d929(0x26e)](_0x2b8505)?.[_0x35d929(0x124)]()??0x0;return _0x466488[_0x35d929(0x627)](_0x146b62=>this[_0x35d929(0x26e)](_0x146b62))[_0x35d929(0x6f6)](_0x2b03d8=>void 0x0!==_0x2b03d8)[_0x35d929(0x72c)]((_0x305e6d,_0x3e59f2)=>Math[_0x35d929(0x41b)](_0x33f3bf-(_0x305e6d&&_0x305e6d['getRank']()||0x1/0x0))-Math[_0x35d929(0x41b)](_0x33f3bf-(_0x3e59f2&&_0x3e59f2[_0x35d929(0x124)]()||0x1/0x0)))[_0x35d929(0x627)](_0x1e368d=>_0x1e368d['getId']());}}class _0x144b94{[_0x2db2ce(0x6e1)];['clusterId'];[_0x2db2ce(0x4cc)];[_0x2db2ce(0x71c)];['options'];[_0x2db2ce(0x626)];[_0x2db2ce(0x1bd)];[_0x2db2ce(0x27f)];[_0x2db2ce(0x40a)];[_0x2db2ce(0x3d8)];[_0x2db2ce(0x721)];[_0x2db2ce(0x1a8)];[_0x2db2ce(0x451)];[_0x2db2ce(0xd2)];[_0x2db2ce(0x257)];[_0x2db2ce(0x55f)]=new _0x377f9d();[_0x2db2ce(0x604)];[_0x2db2ce(0x490)];constructor(_0x388826,_0x5e88e1,_0x27cef4,_0x4b0ded,_0x25e56e,_0x54b623,_0x7be81b){const _0x221b1a=_0x2db2ce;switch(this[_0x221b1a(0x6e1)]=_0x388826,this[_0x221b1a(0x255)]=_0x5e88e1,this[_0x221b1a(0x4cc)]=_0x27cef4,this[_0x221b1a(0x71c)]=_0x4b0ded,this[_0x221b1a(0x1d8)]=_0x25e56e,this[_0x221b1a(0x626)]=_0x54b623,this[_0x221b1a(0x1bd)]=_0x7be81b,_0x27cef4['type']){case _0x26993c[_0x221b1a(0x23e)][_0x221b1a(0x482)]:this[_0x221b1a(0x490)]=new _0xbee7a1(_0x27cef4[_0x221b1a(0x28c)](),_0x27cef4['getDisplayName'](),_0x27cef4[_0x221b1a(0x2a2)]());break;case _0x26993c[_0x221b1a(0x23e)][_0x221b1a(0x60a)]:default:this[_0x221b1a(0x490)]=new _0xb3abf5(_0x27cef4[_0x221b1a(0x28c)]());}const _0x5850be=this[_0x221b1a(0x624)]();this[_0x221b1a(0x257)]=new _0x38d68a(this[_0x221b1a(0x1d8)][_0x221b1a(0x606)],this['options'][_0x221b1a(0x453)],this[_0x221b1a(0x1d8)]['maxDistance']),this['contentManager']=new _0xab7d84(_0x5850be,this[_0x221b1a(0x1d8)][_0x221b1a(0x317)],this[_0x221b1a(0x1d8)][_0x221b1a(0x1fc)]),this[_0x221b1a(0x40a)]=new _0x348884(_0x5850be,this['authService'],this[_0x221b1a(0x626)][_0x221b1a(0x492)],this[_0x221b1a(0x1d8)][_0x221b1a(0x317)],this[_0x221b1a(0x1d8)]['maxBpp'],this[_0x221b1a(0x257)],this[_0x221b1a(0x1d8)][_0x221b1a(0x262)]),this['subscriptionManager']=new _0x285294(_0x5850be,this[_0x221b1a(0x1d8)][_0x221b1a(0x4ac)],this[_0x221b1a(0x257)][_0x221b1a(0x16c)]()),this['statsManager']=new _0x2d9229(_0x5850be),this['detectionManager']=new _0x57106d(_0x5850be),this['remediationManager']=new _0x179e32(_0x5850be),this['nodeManager']=new _0x1f6d8e(_0x5850be,this[_0x221b1a(0x257)],this['localNode']),this[_0x221b1a(0x604)]=this[_0x221b1a(0x339)]();}[_0x2db2ce(0x677)](){const _0x120bf8=_0x2db2ce,_0x432b2b=this[_0x120bf8(0x624)]();this[_0x120bf8(0x40a)]=new _0x348884(_0x432b2b,this['authService'],this[_0x120bf8(0x626)][_0x120bf8(0x492)],this[_0x120bf8(0x1d8)]['maxFps'],this[_0x120bf8(0x1d8)]['maxBpp'],this[_0x120bf8(0x257)],this['options'][_0x120bf8(0x262)]),this[_0x120bf8(0x3d8)]=new _0x285294(_0x432b2b,this[_0x120bf8(0x1d8)]['maxOutgoingSubscriptions'],this[_0x120bf8(0x257)]['getMaxDistance']()),this[_0x120bf8(0x721)]=new _0x2d9229(_0x432b2b),this[_0x120bf8(0x1a8)]=new _0x57106d(_0x432b2b),this[_0x120bf8(0x451)]=new _0x179e32(_0x432b2b),this[_0x120bf8(0xd2)]=new _0x1f6d8e(_0x432b2b,this[_0x120bf8(0x257)],this['localNode']);const _0x4fac21=this[_0x120bf8(0x40a)][_0x120bf8(0x643)]();this['contentManager'][_0x120bf8(0x243)]()[_0x120bf8(0x405)](_0x3acf71=>{const _0xd83cca=_0x120bf8;this['subscriptionManager'][_0xd83cca(0x145)](_0x3acf71,_0x4fac21),this[_0xd83cca(0x3d8)][_0xd83cca(0x1d2)](_0x4fac21,_0x3acf71),_0x3acf71[_0xd83cca(0x39c)]();}),this[_0x120bf8(0x27f)][_0x120bf8(0x610)]()['forEach'](_0x1f184d=>{const _0x16d8fb=_0x120bf8;this[_0x16d8fb(0x3d8)][_0x16d8fb(0x145)](_0x1f184d,_0x4fac21),this[_0x16d8fb(0x3d8)][_0x16d8fb(0x1d2)](_0x4fac21,_0x1f184d),_0x1f184d[_0x16d8fb(0x39c)](),_0x1f184d[_0x16d8fb(0x17f)]();}),this['contentManager'][_0x120bf8(0x35e)]()['forEach'](_0x37407a=>{const _0x26bc26=_0x120bf8;this[_0x26bc26(0x3d8)][_0x26bc26(0x145)](_0x37407a,_0x4fac21),this[_0x26bc26(0x3d8)][_0x26bc26(0x1d2)](_0x4fac21,_0x37407a),_0x37407a[_0x26bc26(0x39c)](),this[_0x26bc26(0x123)](_0x37407a);}),this[_0x120bf8(0x27f)][_0x120bf8(0x4b1)]()[_0x120bf8(0x405)](_0x25b3bc=>{const _0x2798d2=_0x120bf8;this[_0x2798d2(0x3d8)][_0x2798d2(0x145)](_0x25b3bc,_0x4fac21),this[_0x2798d2(0x3d8)][_0x2798d2(0x1d2)](_0x4fac21,_0x25b3bc),_0x25b3bc[_0x2798d2(0x39c)]();}),this[_0x120bf8(0x27f)][_0x120bf8(0x280)]()[_0x120bf8(0x405)](_0x2372a0=>{const _0x380f6b=_0x120bf8;this[_0x380f6b(0x3d8)][_0x380f6b(0x145)](_0x2372a0,_0x4fac21),this[_0x380f6b(0x3d8)][_0x380f6b(0x1d2)](_0x4fac21,_0x2372a0),_0x2372a0[_0x380f6b(0x39c)]();}),this['systemTopicUnsubscribe']=this[_0x120bf8(0x339)]();}['registerSystemSource'](_0x5d3f4d){const _0x4a997e=_0x2db2ce;try{this['systemTopic'][_0x4a997e(0x4ca)](_0x5d3f4d);}catch(_0x554868){this[_0x4a997e(0xe3)](_0x554868,{});}}[_0x2db2ce(0x19f)](_0x445dbe){const _0x1772b3=_0x2db2ce;try{this['systemTopic'][_0x1772b3(0x383)](_0x445dbe);}catch(_0x1f1731){this[_0x1772b3(0xe3)](_0x1f1731,{});}}[_0x2db2ce(0x134)](_0x3e66f1,_0x3db303){const _0x21ed09=_0x2db2ce;return this[_0x21ed09(0x40a)]['createConnection'](_0x3e66f1,_0x3db303);}[_0x2db2ce(0x237)](_0x441197){try{return this['connectionManager']['getConnection'](_0x441197);}catch(_0x1b2880){throw this['handleError'](_0x1b2880,{});}}['getConnections'](_0x2d5aea){const _0x19d6f3=_0x2db2ce;try{return this[_0x19d6f3(0x40a)][_0x19d6f3(0x195)](_0x2d5aea);}catch(_0x41b228){throw this[_0x19d6f3(0xe3)](_0x41b228,{});}}[_0x2db2ce(0x395)](_0x46cb52,_0x4ebad3){const _0x4c5315=_0x2db2ce;try{return this[_0x4c5315(0x27f)]['getRemoteMediaStreams'](_0x583ec0=>_0x583ec0[_0x4c5315(0x533)]()===_0x46cb52&&_0x583ec0[_0x4c5315(0x5fc)]()===_0x4ebad3)[0x0];}catch(_0x280510){throw this[_0x4c5315(0xe3)](_0x280510,{});}}['getLocalMediaStream'](_0x15b7ba){const _0x36c43c=_0x2db2ce;try{return this['contentManager'][_0x36c43c(0x244)](_0x19e8ca=>_0x19e8ca[_0x36c43c(0x5fc)]()===_0x15b7ba)[0x0];}catch(_0x1573a3){throw this[_0x36c43c(0xe3)](_0x1573a3,{});}}[_0x2db2ce(0x12b)]=(..._0x110aeb)=>{const _0x8de83f=_0x2db2ce;try{return this['clusterEventEmitter']['emit'](..._0x110aeb);}catch(_0x2a7e9b){throw this[_0x8de83f(0xe3)](_0x2a7e9b,{});}};[_0x2db2ce(0x5d3)](_0xa7ee03){const _0x9ce202=_0x2db2ce;try{this[_0x9ce202(0x721)][_0x9ce202(0xdd)](_0xa7ee03);}catch(_0x38eb57){throw this[_0x9ce202(0xe3)](_0x38eb57,{});}}[_0x2db2ce(0x5b7)](_0x6fe6c){const _0x501099=_0x2db2ce;try{this[_0x501099(0x721)][_0x501099(0x638)](_0x6fe6c);}catch(_0x1d43e5){throw this[_0x501099(0xe3)](_0x1d43e5,{});}}[_0x2db2ce(0x594)](_0xde2286){const _0x58bea1=_0x2db2ce;return this['connectionManager'][_0x58bea1(0x594)](_0xde2286);}async[_0x2db2ce(0x54f)](){const _0x566a3b=_0x2db2ce;try{await this[_0x566a3b(0x40a)][_0x566a3b(0x54f)]();const _0x2a3228=await this['nodeManager'][_0x566a3b(0x464)]();for(const _0x5b9e36 of _0x2a3228)this['connectionManager'][_0x566a3b(0x134)](_0x5b9e36);}catch(_0x38c09b){throw this['handleError'](_0x38c09b,{});}}[_0x2db2ce(0x686)](_0x295dec){const _0x4db61d=_0x2db2ce;this[_0x4db61d(0x490)][_0x4db61d(0x26f)]===_0x26993c[_0x4db61d(0x23e)][_0x4db61d(0x482)]&&(this[_0x4db61d(0x490)][_0x4db61d(0x69d)](_0x295dec[_0x4db61d(0x2a2)]()),this[_0x4db61d(0x490)][_0x4db61d(0x74d)](_0x295dec[_0x4db61d(0x23a)]()));}[_0x2db2ce(0x37c)](_0x29eea4=!0x1){const _0x5ee8d7=_0x2db2ce;_0x4aa571[_0x5ee8d7(0x712)](_0x5ee8d7(0x2ff),{'clusterId':this[_0x5ee8d7(0x255)],'nodeId':this[_0x5ee8d7(0x490)][_0x5ee8d7(0x28c)](),'nodeType':this[_0x5ee8d7(0x490)]['type']}),this[_0x5ee8d7(0x604)](),this[_0x5ee8d7(0x451)]['close'](),this[_0x5ee8d7(0x1a8)][_0x5ee8d7(0x37c)](),this['statsManager'][_0x5ee8d7(0x37c)](),this[_0x5ee8d7(0x3d8)][_0x5ee8d7(0x37c)](),this['connectionManager']['close'](),this[_0x5ee8d7(0x27f)][_0x5ee8d7(0x37c)](_0x29eea4),this[_0x5ee8d7(0xd2)][_0x5ee8d7(0x37c)]();}[_0x2db2ce(0x6bd)](_0x491b31){const _0x29dea7=_0x2db2ce;try{const _0x193c58=this[_0x29dea7(0x27f)][_0x29dea7(0x499)](_0x491b31),_0x19e5f9=this['connectionManager']['getConnectionGroup']();return this[_0x29dea7(0x3d8)][_0x29dea7(0x145)](_0x193c58,_0x19e5f9),this[_0x29dea7(0x3d8)][_0x29dea7(0x1d2)](_0x19e5f9,_0x193c58),_0x193c58;}catch(_0x4aecdd){throw this[_0x29dea7(0xe3)](_0x4aecdd,{});}}async[_0x2db2ce(0x54e)](_0x69d7e5,_0x8072ec){const _0x5543d8=_0x2db2ce;try{const _0x98ddce=this[_0x5543d8(0x27f)][_0x5543d8(0x61f)](_0x69d7e5,this[_0x5543d8(0x1d8)][_0x5543d8(0x3d7)]),_0x4ebb0b=this['connectionManager'][_0x5543d8(0x643)]();return this[_0x5543d8(0x3d8)]['createOutgoingSubscription'](_0x98ddce,_0x4ebb0b),this['subscriptionManager']['createIncomingSubscription'](_0x4ebb0b,_0x98ddce),await _0x98ddce[_0x5543d8(0x17f)](_0x8072ec?.[_0x5543d8(0x2d0)]??!0x0),_0x98ddce;}catch(_0x930302){throw this[_0x5543d8(0xe3)](_0x930302,{});}}async[_0x2db2ce(0x3cc)](_0x1d0cc3,_0x20f90e){const _0x138a37=_0x2db2ce;try{const _0x5d29cd=await this['contentManager'][_0x138a37(0x2fd)](_0x1d0cc3,_0x20f90e,this[_0x138a37(0x1d8)][_0x138a37(0x182)]),_0x469dc3=this[_0x138a37(0x40a)][_0x138a37(0x643)]();return this[_0x138a37(0x3d8)][_0x138a37(0x145)](_0x5d29cd,_0x469dc3),this['subscriptionManager'][_0x138a37(0x1d2)](_0x469dc3,_0x5d29cd),await _0x5d29cd['open'](),this[_0x138a37(0x123)](_0x5d29cd),_0x5d29cd;}catch(_0x575e77){throw this['handleError'](_0x575e77,{});}}async['openJobDispatcher'](_0x5aa5fe){const _0x52468a=_0x2db2ce;try{const _0x481ca3=await this[_0x52468a(0x27f)][_0x52468a(0x332)](_0x5aa5fe,this[_0x52468a(0x257)]),_0x538941=this[_0x52468a(0x40a)]['getConnectionGroup']();return this[_0x52468a(0x3d8)][_0x52468a(0x145)](_0x481ca3,_0x538941),this[_0x52468a(0x3d8)][_0x52468a(0x1d2)](_0x538941,_0x481ca3),_0x481ca3[_0x52468a(0x677)](),_0x481ca3;}catch(_0xccf05b){throw this['handleError'](_0xccf05b,{});}}async['openJobWorker'](_0x58ec8e){const _0x16221b=_0x2db2ce;throw new Error(_0x16221b(0x167));}async[_0x2db2ce(0x60f)](_0x4a6971){const _0x5338f=_0x2db2ce;try{const _0x501545=await this[_0x5338f(0x27f)][_0x5338f(0x484)](_0x4a6971,this[_0x5338f(0x257)]),_0x327ae2=this[_0x5338f(0x40a)][_0x5338f(0x643)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x501545,_0x327ae2),this[_0x5338f(0x3d8)]['createIncomingSubscription'](_0x327ae2,_0x501545),await _0x501545[_0x5338f(0x677)](),_0x501545;}catch(_0x20a8c6){throw console['error'](_0x20a8c6),this[_0x5338f(0xe3)](_0x20a8c6,{});}}async[_0x2db2ce(0x4a0)](_0x4b3b7b){const _0x48121b=_0x2db2ce;try{if(!this['options'][_0x48121b(0x15f)]||!this[_0x48121b(0x1d8)][_0x48121b(0x615)])throw new _0x5c22ea(_0x3a91a5[_0x48121b(0x2a8)],_0x48121b(0x116));if(!(this[_0x48121b(0x4cc)]instanceof _0xcbee9e))throw new _0x5c22ea(_0x3a91a5['NodeInvalidType'],_0x48121b(0x541));const _0x35d50e=await this['openObjectStoreBucket'](_0x48121b(0x59d)+_0x4b3b7b),_0x11960d=new this[(_0x48121b(0x1d8))][(_0x48121b(0x15f))](this['options'][_0x48121b(0x615)]),_0x5dea0d=await this['contentManager']['createGenerativeAIWorker'](_0x4b3b7b,this['authNode'],_0x11960d,_0x35d50e),_0x14ef58=this[_0x48121b(0x40a)][_0x48121b(0x643)]();return this[_0x48121b(0x3d8)][_0x48121b(0x145)](_0x5dea0d,_0x14ef58),this[_0x48121b(0x3d8)][_0x48121b(0x1d2)](_0x14ef58,_0x5dea0d),_0x5dea0d[_0x48121b(0x677)](),_0x5dea0d;}catch(_0x173754){throw this[_0x48121b(0xe3)](_0x173754,{});}}[_0x2db2ce(0x243)](_0x4bc84a){const _0x1c3d52=_0x2db2ce;try{return this[_0x1c3d52(0x27f)][_0x1c3d52(0x243)](_0x4bc84a);}catch(_0x461423){throw this[_0x1c3d52(0xe3)](_0x461423,{});}}[_0x2db2ce(0x610)](_0x14f274){const _0x53f95c=_0x2db2ce;try{return this['contentManager'][_0x53f95c(0x610)](_0x14f274);}catch(_0x37a556){throw this[_0x53f95c(0xe3)](_0x37a556,{});}}[_0x2db2ce(0x35e)](_0x3e601d){const _0x38e5e7=_0x2db2ce;try{return this[_0x38e5e7(0x27f)]['getKeyValueDatabases'](_0x3e601d);}catch(_0x5492be){throw this[_0x38e5e7(0xe3)](_0x5492be,{});}}[_0x2db2ce(0x672)](_0x14362f){const _0x55b5f4=_0x2db2ce;try{return this['contentManager'][_0x55b5f4(0x672)](_0x14362f);}catch(_0x19389a){throw this[_0x55b5f4(0xe3)](_0x19389a,{});}}[_0x2db2ce(0x47b)](_0x22ef34){const _0x4f632d=_0x2db2ce;try{return this[_0x4f632d(0x27f)][_0x4f632d(0x47b)](_0x22ef34);}catch(_0x20d8d8){throw this['handleError'](_0x20d8d8,{});}}['createLocalMediaStream'](_0x41821c,_0x1f40ef){const _0x43f3f5=_0x2db2ce;if(!this[_0x43f3f5(0x626)][_0x43f3f5(0x219)][_0x43f3f5(0x28e)](_0xb64620[_0x43f3f5(0x50c)]))throw new _0x5c22ea(_0x3a91a5[_0x43f3f5(0x258)],_0x43f3f5(0x1b9));try{return this[_0x43f3f5(0x27f)][_0x43f3f5(0x56c)](_0x41821c,_0x1f40ef);}catch(_0x589127){throw this[_0x43f3f5(0xe3)](_0x589127,{});}}[_0x2db2ce(0xf1)](_0x3e36c7,_0x4ad9bf){const _0x218d08=_0x2db2ce;if(!this[_0x218d08(0x626)][_0x218d08(0x219)][_0x218d08(0x28e)](_0xb64620[_0x218d08(0x50c)]))throw new _0x5c22ea(_0x3a91a5[_0x218d08(0x258)],_0x218d08(0x1b9));try{return this[_0x218d08(0x27f)][_0x218d08(0xf1)](_0x3e36c7,_0x4ad9bf);}catch(_0x3531cb){throw this[_0x218d08(0xe3)](_0x3531cb,{});}}[_0x2db2ce(0x244)](_0x5c017d){const _0x1e7f2e=_0x2db2ce;if(!this[_0x1e7f2e(0x626)][_0x1e7f2e(0x219)][_0x1e7f2e(0x28e)](_0xb64620['MediaStream']))throw new _0x5c22ea(_0x3a91a5['FeatureNotEnabled'],_0x1e7f2e(0x1b9));try{return this[_0x1e7f2e(0x27f)][_0x1e7f2e(0x244)](_0x5c017d);}catch(_0x27dbdc){throw this[_0x1e7f2e(0xe3)](_0x27dbdc,{});}}[_0x2db2ce(0xdb)](_0x30f16e){const _0x50ea3e=_0x2db2ce;if(!this[_0x50ea3e(0x626)]['features'][_0x50ea3e(0x28e)](_0xb64620['MediaStream']))throw new _0x5c22ea(_0x3a91a5['FeatureNotEnabled'],_0x50ea3e(0x1b9));try{return this[_0x50ea3e(0x27f)]['getRemoteMediaStreams'](_0x30f16e);}catch(_0x2caec0){throw this['handleError'](_0x2caec0,{});}}['getDistance'](_0x1c2bff,_0x2c3a32){const _0x386cb0=_0x2db2ce;return this['nodeManager'][_0x386cb0(0x46d)](_0x1c2bff,_0x2c3a32);}['getLocalNode'](){const _0x23f0d2=_0x2db2ce;return this['nodeManager'][_0x23f0d2(0x108)]();}['getRemoteNodes'](_0x3904c5){const _0x2e35b0=_0x2db2ce;try{return this[_0x2e35b0(0xd2)][_0x2e35b0(0x449)](_0x3904c5);}catch(_0x11713f){throw this[_0x2e35b0(0xe3)](_0x11713f,{});}}async['handleSystemEvents'](_0x4c1900){const _0x527d37=_0x2db2ce;try{if(_0x4aa571[_0x527d37(0x24e)](_0x50f1bc[_0x527d37(0x6c1)],_0x527d37(0x63e),this['nodeManager'][_0x527d37(0x47a)](),_0x4c1900),_0x38b7fc(_0x4c1900,this[_0x527d37(0xd2)]['getLocalId']()))return void this[_0x527d37(0x40a)]['handleOutgoingSystemEvents'](_0x4c1900);switch(_0x4c1900[_0x527d37(0x66b)]){case _0x190ed6[_0x527d37(0x47e)]:this[_0x527d37(0x721)]['handleContentSystemEvents'](_0x4c1900),this[_0x527d37(0x3d8)][_0x527d37(0x694)](_0x4c1900),this[_0x527d37(0x27f)][_0x527d37(0x694)](_0x4c1900);break;case _0x190ed6[_0x527d37(0x254)]:this['subscriptionManager'][_0x527d37(0x567)](_0x4c1900),this[_0x527d37(0x40a)]['handleNodeSystemEvents'](_0x4c1900),this['contentManager'][_0x527d37(0x567)](_0x4c1900),this[_0x527d37(0xd2)][_0x527d37(0x567)](_0x4c1900);break;case _0x190ed6['Detection']:this[_0x527d37(0x451)][_0x527d37(0x6de)](_0x4c1900);break;case _0x190ed6[_0x527d37(0x6b1)]:this[_0x527d37(0x451)][_0x527d37(0x702)](_0x4c1900);break;case _0x190ed6[_0x527d37(0x5d0)]:this[_0x527d37(0x1a8)][_0x527d37(0x323)](_0x4c1900);break;case _0x190ed6[_0x527d37(0x595)]:_0x4c1900[_0x527d37(0x581)][_0x527d37(0x26f)]!==_0x3366c6[_0x527d37(0x17e)]?(this[_0x527d37(0x3d8)]['handleSubscriptionSystemEvents'](_0x4c1900),this[_0x527d37(0x27f)][_0x527d37(0x380)](_0x4c1900)):(this[_0x527d37(0x27f)][_0x527d37(0x380)](_0x4c1900),this[_0x527d37(0x3d8)]['handleSubscriptionSystemEvents'](_0x4c1900));break;case _0x190ed6[_0x527d37(0x6ac)]:await this[_0x527d37(0x40a)][_0x527d37(0x697)](_0x4c1900),this[_0x527d37(0x721)][_0x527d37(0x697)](_0x4c1900),this[_0x527d37(0xd2)][_0x527d37(0x697)](_0x4c1900),this[_0x527d37(0x3d8)][_0x527d37(0x697)](_0x4c1900);}}catch(_0x4a364f){throw this[_0x527d37(0xe3)](_0x4a364f,{});}}[_0x2db2ce(0xe3)](_0x5939a8,_0x1fa399){const _0x4a2ebc=_0x2db2ce;if(!(_0x5939a8 instanceof _0x30f7c3)){if(_0x5939a8 instanceof _0x5c22ea)throw _0x5939a8;if(!(_0x5939a8 instanceof Error))throw new _0x5c22ea(_0x3a91a5['InternalSDKError'],_0x4a2ebc(0x4a5)+_0x5939a8);if(!(_0x5939a8 instanceof _0xb694a1))throw new _0x5c22ea(_0x3a91a5['InternalSDKError'],_0x4a2ebc(0x4b8)+_0x5939a8[_0x4a2ebc(0x475)]);switch(_0x5939a8['code']){case _0xb694a1['codes']['MissingSystemTopic']:case _0xb694a1[_0x4a2ebc(0x549)][_0x4a2ebc(0x5db)]:case _0xb694a1[_0x4a2ebc(0x549)][_0x4a2ebc(0x298)]:case _0xb694a1['codes'][_0x4a2ebc(0x6d2)]:case _0xb694a1[_0x4a2ebc(0x549)][_0x4a2ebc(0x5d1)]:case _0xb694a1[_0x4a2ebc(0x549)]['InvalidDataChannel']:case _0xb694a1[_0x4a2ebc(0x549)][_0x4a2ebc(0x590)]:case _0xb694a1[_0x4a2ebc(0x549)]['InvalidSubscriber']:case _0xb694a1[_0x4a2ebc(0x549)][_0x4a2ebc(0x4b4)]:case _0xb694a1['codes'][_0x4a2ebc(0x54b)]:case _0xb694a1[_0x4a2ebc(0x549)]['SubscriptionRequestNoAnswer']:case _0xb694a1[_0x4a2ebc(0x549)][_0x4a2ebc(0x1ac)]:}throw _0x4aa571['error'](_0x4a2ebc(0x283)+_0x5939a8[_0x4a2ebc(0x475)],{'clusterId':this[_0x4a2ebc(0x255)],'nodeId':this['localNode'][_0x4a2ebc(0x28c)](),'nodeType':this[_0x4a2ebc(0x490)]['type']},_0x5939a8),new _0x5c22ea(_0x3a91a5[_0x4a2ebc(0x29d)],_0x4a2ebc(0x2a4)+_0x5939a8['message']);}}[_0x2db2ce(0x624)](){const _0x27f2b5=_0x2db2ce;return{'mediator':this,'vendorId':this[_0x27f2b5(0x6e1)],'clusterId':this[_0x27f2b5(0x255)],'localNode':this[_0x27f2b5(0x490)]};}[_0x2db2ce(0x339)](){const _0x1642f8=_0x2db2ce;return this[_0x1642f8(0x55f)][_0x1642f8(0x175)](_0x3e330d=>{const _0x295827=_0x1642f8,_0x1a6bf2=_0x3d304c(_0x3e330d,this[_0x295827(0x490)]['getId']()),_0x24fb97=_0x3e330d[_0x295827(0x66b)]===_0x190ed6[_0x295827(0x5d0)]||_0x3e330d[_0x295827(0x66b)]===_0x190ed6['PeerConnection']&&_0x3e330d[_0x295827(0x581)]['type']===_0x41aa84[_0x295827(0x5d0)]?_0x50f1bc[_0x295827(0x266)]:_0x50f1bc[_0x295827(0x125)];_0x4aa571['logRaw'](_0x24fb97,_0x3e330d[_0x295827(0x3c2)]+_0x295827(0x197)+_0x1a6bf2,_0x3e330d),this[_0x295827(0x6aa)](_0x3e330d)[_0x295827(0x70b)](_0x3e62e9=>{const _0x411e5a=_0x295827;console[_0x411e5a(0x554)](_0x3e62e9);});});}async[_0x2db2ce(0x123)](_0x538180,_0x522661){const _0x55b792=_0x2db2ce;_0x522661=this[_0x55b792(0x275)](_0x522661),await _0x538180[_0x55b792(0x17f)](_0x522661,()=>this['syncKeyValueDatabase'](_0x538180,_0x522661));}[_0x2db2ce(0x275)](_0x49e59c){const _0x4e8069=_0x2db2ce,_0x3b37b3=this[_0x4e8069(0xd2)][_0x4e8069(0x68c)]();if(!_0x49e59c)return _0x3b37b3[0x0];const _0x55edec=_0x3b37b3[_0x4e8069(0x29f)](_0xa0a893=>_0x49e59c===_0xa0a893),_0x36573d=_0x3b37b3[_0x55edec+0x1];return _0x3b37b3['length']>0x0&&!_0x36573d?_0x49e59c[0x0]:_0x36573d;}}class _0x226dd5{[_0x2db2ce(0x6e1)];[_0x2db2ce(0x255)];[_0x2db2ce(0x4cc)];[_0x2db2ce(0x69b)];['orchestrator'];constructor(_0xf8c05c,_0x343ba0,_0x3cc023,_0x5aade3,_0x3ec89e,_0xd16349,_0x113137=new _0x3e68a1()){const _0x564098=_0x2db2ce;this['vendorId']=_0xf8c05c,this['clusterId']=_0x343ba0,this[_0x564098(0x4cc)]=_0x3cc023,this['eventEmitter']=_0x113137,this[_0x564098(0x4a7)]=new _0x144b94(this['vendorId'],this[_0x564098(0x255)],_0x3cc023,_0x5aade3,_0x3ec89e,_0xd16349,this);}async[_0x2db2ce(0x47f)](){const _0x36a374=_0x2db2ce;await this['orchestrator'][_0x36a374(0x54f)](),this[_0x36a374(0x4cc)][_0x36a374(0x26f)]===_0x26993c[_0x36a374(0x23e)][_0x36a374(0x482)]&&this['authNode'][_0x36a374(0x671)](this[_0x36a374(0x255)],_0x367710=>{const _0x4d7d0c=_0x36a374;this[_0x4d7d0c(0x4a7)][_0x4d7d0c(0x686)](_0x367710);});}['leave'](){const _0x37339c=_0x2db2ce;this[_0x37339c(0x4a7)][_0x37339c(0x37c)](),this[_0x37339c(0x4cc)]['type']===_0x26993c[_0x37339c(0x23e)][_0x37339c(0x482)]&&this['authNode']['unregisterCluster'](this[_0x37339c(0x255)]),this[_0x37339c(0x566)]('cluster-leave',void 0x0);}['openPubSubTopic'](_0x33e0af){const _0x4fc0a0=_0x2db2ce,_0x8b7281=this[_0x4fc0a0(0x4a7)][_0x4fc0a0(0x6bd)](_0x33e0af);return{'getName':_0x8b7281[_0x4fc0a0(0x5d5)][_0x4fc0a0(0x1e9)](_0x8b7281),'getOwnerId':_0x8b7281[_0x4fc0a0(0x533)][_0x4fc0a0(0x1e9)](_0x8b7281),'getContentType':_0x8b7281[_0x4fc0a0(0x537)][_0x4fc0a0(0x1e9)](_0x8b7281),'publish':_0x8b7281[_0x4fc0a0(0x536)][_0x4fc0a0(0x1e9)](_0x8b7281),'subscribe':_0x8b7281['subscribe'][_0x4fc0a0(0x1e9)](_0x8b7281),'unsubscribe':_0x8b7281['unsubscribe'][_0x4fc0a0(0x1e9)](_0x8b7281),'close':_0x8b7281['close'][_0x4fc0a0(0x1e9)](_0x8b7281)};}async[_0x2db2ce(0x54e)](_0x11f227,_0x2c12ec){const _0x2eac4a=_0x2db2ce,_0x83d8eb=await this[_0x2eac4a(0x4a7)][_0x2eac4a(0x54e)](_0x11f227,_0x2c12ec);return{'getName':_0x83d8eb['getName'][_0x2eac4a(0x1e9)](_0x83d8eb),'getOwnerId':_0x83d8eb[_0x2eac4a(0x533)]['bind'](_0x83d8eb),'getContentType':_0x83d8eb['getContentType'][_0x2eac4a(0x1e9)](_0x83d8eb),'publish':_0x83d8eb['publish'][_0x2eac4a(0x1e9)](_0x83d8eb),'unpublish':_0x83d8eb[_0x2eac4a(0x68f)][_0x2eac4a(0x1e9)](_0x83d8eb),'get':_0x83d8eb[_0x2eac4a(0x118)]['bind'](_0x83d8eb),'list':_0x83d8eb[_0x2eac4a(0x3cf)][_0x2eac4a(0x1e9)](_0x83d8eb),'subscribe':_0x83d8eb[_0x2eac4a(0x175)][_0x2eac4a(0x1e9)](_0x83d8eb),'unsubscribe':_0x83d8eb[_0x2eac4a(0x531)]['bind'](_0x83d8eb),'close':_0x83d8eb[_0x2eac4a(0x37c)][_0x2eac4a(0x1e9)](_0x83d8eb)};}async[_0x2db2ce(0x3cc)](_0x1cd59f,_0x5c3c4){const _0x1085a9=_0x2db2ce,_0x581171=await this[_0x1085a9(0x4a7)]['openKeyValueDatabase'](_0x1cd59f,_0x5c3c4);return{'getName':_0x581171[_0x1085a9(0x5d5)][_0x1085a9(0x1e9)](_0x581171),'getOwnerId':_0x581171[_0x1085a9(0x533)][_0x1085a9(0x1e9)](_0x581171),'getContentType':_0x581171[_0x1085a9(0x537)]['bind'](_0x581171),'getTable':_0x581171[_0x1085a9(0x749)]['bind'](_0x581171),'subscribe':_0x581171['subscribe']['bind'](_0x581171),'unsubscribe':_0x581171[_0x1085a9(0x531)][_0x1085a9(0x1e9)](_0x581171),'close':_0x581171['close'][_0x1085a9(0x1e9)](_0x581171)};}async[_0x2db2ce(0x49f)](_0x5c6848){const _0x24937f=_0x2db2ce,_0x3f404a=await this['orchestrator']['openJobDispatcher'](_0x5c6848);return{'getName':_0x3f404a[_0x24937f(0x5d5)][_0x24937f(0x1e9)](_0x3f404a),'getOwnerId':_0x3f404a['getOwnerId'][_0x24937f(0x1e9)](_0x3f404a),'getContentType':_0x3f404a[_0x24937f(0x537)][_0x24937f(0x1e9)](_0x3f404a),'createJob':_0x3f404a[_0x24937f(0x3c4)]['bind'](_0x3f404a),'getJob':_0x3f404a[_0x24937f(0x5e2)][_0x24937f(0x1e9)](_0x3f404a),'getJobs':_0x3f404a['getJobs']['bind'](_0x3f404a),'close':_0x3f404a[_0x24937f(0x37c)]['bind'](_0x3f404a)};}async[_0x2db2ce(0x34d)](_0x237e35){const _0x51fc12=_0x2db2ce,_0x34e89a=await this[_0x51fc12(0x4a7)][_0x51fc12(0x34d)](_0x237e35);return{'close':_0x34e89a[_0x51fc12(0x37c)]['bind'](_0x34e89a)};}async['openGenerativeAIContext'](_0x28fcd4){const _0xeccc5e=_0x2db2ce,_0x258bd9=await this[_0xeccc5e(0x4a7)][_0xeccc5e(0x60f)](_0x28fcd4);return{'prompt':_0x258bd9[_0xeccc5e(0x424)][_0xeccc5e(0x1e9)](_0x258bd9),'close':_0x258bd9['close']['bind'](_0x258bd9)};}async['openGenerativeAIWorker'](_0x57cf39){const _0x325ed2=_0x2db2ce,_0xf73f2b=await this[_0x325ed2(0x4a7)]['openGenerativeAIWorker'](_0x57cf39);return{'close':_0xf73f2b[_0x325ed2(0x37c)][_0x325ed2(0x1e9)](_0xf73f2b)};}['getPubSubTopics'](_0x3610d7){const _0x47b29a=_0x2db2ce;return this[_0x47b29a(0x4a7)][_0x47b29a(0x243)](_0x3610d7)[_0x47b29a(0x627)](_0x2041f5=>({'getName':_0x2041f5[_0x47b29a(0x5d5)][_0x47b29a(0x1e9)](_0x2041f5),'getOwnerId':_0x2041f5[_0x47b29a(0x533)][_0x47b29a(0x1e9)](_0x2041f5),'getContentType':_0x2041f5[_0x47b29a(0x537)][_0x47b29a(0x1e9)](_0x2041f5),'publish':_0x2041f5[_0x47b29a(0x536)][_0x47b29a(0x1e9)](_0x2041f5),'subscribe':_0x2041f5[_0x47b29a(0x175)]['bind'](_0x2041f5),'unsubscribe':_0x2041f5[_0x47b29a(0x531)][_0x47b29a(0x1e9)](_0x2041f5),'close':_0x2041f5['close'][_0x47b29a(0x1e9)](_0x2041f5)}));}[_0x2db2ce(0x610)](_0x5b9707){const _0x332433=_0x2db2ce;return this['orchestrator'][_0x332433(0x610)](_0x5b9707)[_0x332433(0x627)](_0x41c81a=>({'getName':_0x41c81a['getName'][_0x332433(0x1e9)](_0x41c81a),'getOwnerId':_0x41c81a[_0x332433(0x533)][_0x332433(0x1e9)](_0x41c81a),'getContentType':_0x41c81a[_0x332433(0x537)][_0x332433(0x1e9)](_0x41c81a),'publish':_0x41c81a[_0x332433(0x536)][_0x332433(0x1e9)](_0x41c81a),'unpublish':_0x41c81a['unpublish'][_0x332433(0x1e9)](_0x41c81a),'get':_0x41c81a[_0x332433(0x118)]['bind'](_0x41c81a),'list':_0x41c81a[_0x332433(0x3cf)][_0x332433(0x1e9)](_0x41c81a),'subscribe':_0x41c81a['subscribe'][_0x332433(0x1e9)](_0x41c81a),'unsubscribe':_0x41c81a[_0x332433(0x531)]['bind'](_0x41c81a),'close':_0x41c81a[_0x332433(0x37c)]['bind'](_0x41c81a)}));}[_0x2db2ce(0x35e)](_0x307a13){const _0x58b9db=_0x2db2ce;return this[_0x58b9db(0x4a7)]['getKeyValueDatabases'](_0x307a13)[_0x58b9db(0x627)](_0x24c666=>({'getName':_0x24c666[_0x58b9db(0x5d5)]['bind'](_0x24c666),'getOwnerId':_0x24c666[_0x58b9db(0x533)]['bind'](_0x24c666),'getContentType':_0x24c666[_0x58b9db(0x537)][_0x58b9db(0x1e9)](_0x24c666),'getTable':_0x24c666[_0x58b9db(0x749)]['bind'](_0x24c666),'subscribe':_0x24c666[_0x58b9db(0x175)][_0x58b9db(0x1e9)](_0x24c666),'unsubscribe':_0x24c666['unsubscribe']['bind'](_0x24c666),'close':_0x24c666['close']['bind'](_0x24c666)}));}['getGenerativeAIContexts'](_0x3b5d39){const _0x3fa4cf=_0x2db2ce;return this[_0x3fa4cf(0x4a7)][_0x3fa4cf(0x672)](_0x3b5d39)[_0x3fa4cf(0x627)](_0x323c91=>({'prompt':_0x323c91[_0x3fa4cf(0x424)][_0x3fa4cf(0x1e9)](_0x323c91),'close':_0x323c91[_0x3fa4cf(0x37c)][_0x3fa4cf(0x1e9)](_0x323c91)}));}[_0x2db2ce(0x47b)](_0x473179){const _0x6348b0=_0x2db2ce;return this[_0x6348b0(0x4a7)][_0x6348b0(0x47b)](_0x473179)[_0x6348b0(0x627)](_0x46c712=>({'close':_0x46c712['close']['bind'](_0x46c712)}));}['publishLocalMediaStream'](_0x1bd368,_0x22cbf7){const _0x27d095=_0x2db2ce,_0x338907=this['orchestrator'][_0x27d095(0x56c)](_0x1bd368,_0x22cbf7);return{'getLabel':_0x338907[_0x27d095(0x5fc)][_0x27d095(0x1e9)](_0x338907),'getOwnerId':_0x338907[_0x27d095(0x533)][_0x27d095(0x1e9)](_0x338907),'getContentType':_0x338907[_0x27d095(0x537)][_0x27d095(0x1e9)](_0x338907),'getMediaStream':_0x338907[_0x27d095(0x5de)][_0x27d095(0x1e9)](_0x338907),'setPriority':_0x338907[_0x27d095(0xcf)][_0x27d095(0x1e9)](_0x338907),'unpublish':_0x338907[_0x27d095(0x68f)][_0x27d095(0x1e9)](_0x338907)};}[_0x2db2ce(0x63a)](_0x2c3fb6,_0x16c628){const _0x1ecd31=_0x2db2ce,_0x273f94=this[_0x1ecd31(0x4a7)][_0x1ecd31(0xf1)](_0x2c3fb6,_0x16c628);return{'getLabel':_0x273f94[_0x1ecd31(0x5fc)][_0x1ecd31(0x1e9)](_0x273f94),'getOwnerId':_0x273f94[_0x1ecd31(0x533)]['bind'](_0x273f94),'getContentType':_0x273f94[_0x1ecd31(0x537)][_0x1ecd31(0x1e9)](_0x273f94),'setPriority':_0x273f94[_0x1ecd31(0xcf)][_0x1ecd31(0x1e9)](_0x273f94),'unpublish':_0x273f94[_0x1ecd31(0x68f)][_0x1ecd31(0x1e9)](_0x273f94),'getMediaStream':_0x273f94[_0x1ecd31(0x5de)][_0x1ecd31(0x1e9)](_0x273f94),'addTrack':_0x273f94[_0x1ecd31(0x2d3)][_0x1ecd31(0x1e9)](_0x273f94),'removeTrack':_0x273f94[_0x1ecd31(0xf5)]['bind'](_0x273f94),'replaceTrack':_0x273f94['replaceTrack'][_0x1ecd31(0x1e9)](_0x273f94),'setTransformations':_0x273f94[_0x1ecd31(0x4a9)][_0x1ecd31(0x1e9)](_0x273f94)};}[_0x2db2ce(0x244)](_0x1a4906){const _0x17a661=_0x2db2ce;return this['orchestrator'][_0x17a661(0x244)](_0x1a4906)['map'](_0x280576=>({'getLabel':_0x280576[_0x17a661(0x5fc)][_0x17a661(0x1e9)](_0x280576),'getOwnerId':_0x280576['getOwnerId']['bind'](_0x280576),'getContentType':_0x280576[_0x17a661(0x537)][_0x17a661(0x1e9)](_0x280576),'getMediaStream':_0x280576[_0x17a661(0x5de)][_0x17a661(0x1e9)](_0x280576),'setPriority':_0x280576[_0x17a661(0xcf)][_0x17a661(0x1e9)](_0x280576),'unpublish':_0x280576[_0x17a661(0x68f)]['bind'](_0x280576)}));}[_0x2db2ce(0xdb)](_0x3bd00b){const _0x59357b=_0x2db2ce;return this[_0x59357b(0x4a7)]['getRemoteMediaStreams'](_0x3bd00b)['map'](_0x56f66f=>({'getLabel':_0x56f66f['getLabel'][_0x59357b(0x1e9)](_0x56f66f),'getOwnerId':_0x56f66f['getOwnerId'][_0x59357b(0x1e9)](_0x56f66f),'getContentType':_0x56f66f['getContentType']['bind'](_0x56f66f),'getMediaStream':_0x56f66f[_0x59357b(0x5de)][_0x59357b(0x1e9)](_0x56f66f),'subscribe':_0x56f66f[_0x59357b(0x175)]['bind'](_0x56f66f),'unsubscribe':_0x56f66f['unsubscribe'][_0x59357b(0x1e9)](_0x56f66f),'getAvailableTrackKinds':_0x56f66f[_0x59357b(0x13b)][_0x59357b(0x1e9)](_0x56f66f),'update':_0x56f66f[_0x59357b(0x74b)][_0x59357b(0x1e9)](_0x56f66f),'onProviderChange':_0x56f66f['onProviderChange'][_0x59357b(0x1e9)](_0x56f66f)}));}[_0x2db2ce(0x108)](){const _0x209d79=_0x2db2ce,_0x5876b0=this[_0x209d79(0x4a7)][_0x209d79(0x108)]();switch(_0x5876b0['type']){case _0x26993c[_0x209d79(0x23e)]['User']:return{'type':_0x26993c['NodeType']['User'],'getId':_0x5876b0[_0x209d79(0x28c)][_0x209d79(0x1e9)](_0x5876b0),'getDisplayName':_0x5876b0[_0x209d79(0x23a)][_0x209d79(0x1e9)](_0x5876b0),'getEmail':_0x5876b0[_0x209d79(0x2a2)][_0x209d79(0x1e9)](_0x5876b0),'getRemoteConnections':_0x5876b0[_0x209d79(0x563)][_0x209d79(0x1e9)](_0x5876b0),'setDisplayName':_0x5876b0[_0x209d79(0x74d)][_0x209d79(0x1e9)](_0x5876b0),'setEmail':_0x5876b0[_0x209d79(0x69d)][_0x209d79(0x1e9)](_0x5876b0)};case _0x26993c[_0x209d79(0x23e)][_0x209d79(0x60a)]:default:return{'type':_0x26993c[_0x209d79(0x23e)][_0x209d79(0x60a)],'getId':_0x5876b0[_0x209d79(0x28c)][_0x209d79(0x1e9)](_0x5876b0),'getRemoteConnections':_0x5876b0[_0x209d79(0x563)]['bind'](_0x5876b0)};}}[_0x2db2ce(0x449)](_0x4c146c){const _0x3dbadc=_0x2db2ce;return this[_0x3dbadc(0x4a7)][_0x3dbadc(0x449)](_0x4c146c)[_0x3dbadc(0x627)](_0x1bd063=>{const _0x5d1f0a=_0x3dbadc;switch(_0x1bd063['type']){case _0x26993c[_0x5d1f0a(0x23e)][_0x5d1f0a(0x482)]:return{'type':_0x26993c[_0x5d1f0a(0x23e)][_0x5d1f0a(0x482)],'getId':_0x1bd063[_0x5d1f0a(0x28c)][_0x5d1f0a(0x1e9)](_0x1bd063),'getDisplayName':_0x1bd063['getDisplayName']['bind'](_0x1bd063),'getEmail':_0x1bd063[_0x5d1f0a(0x2a2)][_0x5d1f0a(0x1e9)](_0x1bd063),'getRemoteConnections':_0x1bd063['getRemoteConnections'][_0x5d1f0a(0x1e9)](_0x1bd063)};case _0x26993c[_0x5d1f0a(0x23e)][_0x5d1f0a(0x60a)]:return{'type':_0x26993c[_0x5d1f0a(0x23e)][_0x5d1f0a(0x60a)],'getId':_0x1bd063['getId']['bind'](_0x1bd063),'getRemoteConnections':_0x1bd063[_0x5d1f0a(0x563)][_0x5d1f0a(0x1e9)](_0x1bd063)};default:throw new _0x5c22ea(_0x3a91a5[_0x5d1f0a(0x355)],'Invalid\x20node\x20type');}});}['on']=(..._0x3b8c9e)=>{const _0x3752e0=_0x2db2ce;this[_0x3752e0(0x69b)]['on'](..._0x3b8c9e);};[_0x2db2ce(0x566)]=(..._0xad46bd)=>this[_0x2db2ce(0x69b)][_0x2db2ce(0x566)](..._0xad46bd);[_0x2db2ce(0x35f)](..._0x11e38f){const _0x539952=_0x2db2ce;this[_0x539952(0x69b)]['off'](..._0x11e38f);}}class _0x58d9a8{['id'];['displayName'];[_0x2db2ce(0x494)];[_0x2db2ce(0x26f)]=_0x26993c['NodeType'][_0x2db2ce(0x482)];[_0x2db2ce(0x456)]=new Map();[_0x2db2ce(0x5c2)]=_0x8f7aff();constructor(_0x18e089,_0x94b7fe,_0x1384e1){const _0x36ed7b=_0x2db2ce;this['id']=_0x18e089,this[_0x36ed7b(0x3d3)]=_0x94b7fe,this[_0x36ed7b(0x494)]=_0x1384e1;}[_0x2db2ce(0x28c)](){return this['id'];}[_0x2db2ce(0x23a)](){return this['displayName'];}['getEmail'](){const _0x240ee6=_0x2db2ce;return this[_0x240ee6(0x494)];}[_0x2db2ce(0x74d)](_0x136877){const _0x4ee230=_0x2db2ce;this[_0x4ee230(0x3d3)]!==_0x136877&&(this['displayName']=_0x136877,this['observer'][_0x4ee230(0x536)](this));}[_0x2db2ce(0x69d)](_0x51e0d9){const _0x32d4ed=_0x2db2ce;this['email']!==_0x51e0d9&&(this[_0x32d4ed(0x494)]=_0x51e0d9,this[_0x32d4ed(0x5c2)][_0x32d4ed(0x536)](this));}[_0x2db2ce(0x671)](_0x2232c5,_0x1f62ad){const _0x3f2f7e=_0x2db2ce;if(this[_0x3f2f7e(0x456)][_0x3f2f7e(0x40d)](_0x2232c5))return;const _0x37a6d9=this['observer'][_0x3f2f7e(0x175)](_0x1f62ad);this[_0x3f2f7e(0x456)]['set'](_0x2232c5,_0x37a6d9);}[_0x2db2ce(0x3aa)](_0x36d1a8){const _0x2b1b54=_0x2db2ce;if(!this[_0x2b1b54(0x456)]['has'](_0x36d1a8))return;const _0x6257eb=this[_0x2b1b54(0x456)][_0x2b1b54(0x118)](_0x36d1a8);_0x6257eb&&_0x6257eb(),this[_0x2b1b54(0x456)][_0x2b1b54(0x176)](_0x36d1a8);}}class _0x215b44{[_0x2db2ce(0x6e1)];[_0x2db2ce(0x382)];constructor(_0x397770){const _0x37474f=_0x2db2ce;this[_0x37474f(0x6e1)]=_0x397770;}async[_0x2db2ce(0x14b)](_0x26cb8f){const _0x358681=_0x2db2ce,_0x24986b=await(0x0,_0x1bff9c[_0x358681(0x2c8)])(_0x58bac0[_0x358681(0x6cb)](),'sdkCreateToken')({'uid':_0x358681(0x4a8)+this[_0x358681(0x6e1)]+_0x358681(0x4a8)+_0x26cb8f['id']}),_0x511fff=await(0x0,_0x5dde59['signInWithCustomToken'])(_0x58bac0[_0x358681(0x17b)](),_0x24986b[_0x358681(0x1f6)]['token']);this['user']=_0x511fff[_0x358681(0x382)];}async[_0x2db2ce(0x18e)](){await(0x0,_0x5dde59['signOut'])(_0x58bac0['getAuth']());}['getIdToken'](){const _0x2ac68a=_0x2db2ce;return this[_0x2ac68a(0x382)]?.[_0x2ac68a(0xed)]()??Promise[_0x2ac68a(0x4ba)](_0x2ac68a(0x18c));}}class _0x10f33e{static [_0x2db2ce(0x10b)];[_0x2db2ce(0x261)]=[];constructor(){}static[_0x2db2ce(0x122)](){const _0x56e82e=_0x2db2ce;return _0x10f33e[_0x56e82e(0x10b)]||(_0x10f33e['instance']=new _0x10f33e()),_0x10f33e[_0x56e82e(0x10b)];}[_0x2db2ce(0x54f)](){const _0x49bf4e=_0x2db2ce;this[_0x49bf4e(0x13a)](),this[_0x49bf4e(0x3c7)](),this[_0x49bf4e(0x1a0)](),this['checkAudioVolume'](),this[_0x49bf4e(0x3e0)](),this[_0x49bf4e(0x5a1)](),this[_0x49bf4e(0x276)](),this[_0x49bf4e(0x27e)](),this[_0x49bf4e(0x390)](),this[_0x49bf4e(0x35b)](),_0x4aa571[_0x49bf4e(0x24e)](_0x50f1bc['Support'],_0x49bf4e(0x3fc),{'featureSupport':this[_0x49bf4e(0x261)]});}[_0x2db2ce(0x6d8)](_0x58eff0){const _0x35b25c=_0x2db2ce,_0x9c918b=this['featureSupport']['find'](_0x2964d5=>_0x2964d5[_0x35b25c(0x662)]===_0x58eff0);return!!_0x9c918b&&_0x9c918b[_0x35b25c(0x6bb)];}['logSupport'](_0x17bced){const _0x5af63b=_0x2db2ce;_0x4aa571['logEvent']('support',{'nodeId':_0x17bced['getId'](),'nodeType':_0x17bced[_0x5af63b(0x26f)],'data':{'featureSupport':this[_0x5af63b(0x261)]}});}['checkWebRTC'](){const _0x51b024=_0x2db2ce,_0x160973=_0x29b865[_0x51b024(0x309)];let _0x3b25bc=!0x1;_0x51b024(0x675)==typeof RTCPeerConnection&&_0x51b024(0x675)==typeof RTCIceCandidate&&_0x51b024(0x675)==typeof RTCSessionDescription?_0x3b25bc=!0x0:_0x4aa571[_0x51b024(0x24e)](_0x50f1bc['Support'],_0x51b024(0x4e5)+_0x160973+'\x20not\x20supported'),this[_0x51b024(0x261)][_0x51b024(0x23d)]({'name':_0x160973,'supported':_0x3b25bc});}['checkMediaStream'](){const _0x19c873=_0x2db2ce,_0x541057=_0x29b865[_0x19c873(0x50c)];let _0x422173=!0x1;_0x19c873(0x675)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x19c873(0x687)==typeof navigator&&'object'==typeof navigator[_0x19c873(0x6d0)]&&_0x19c873(0x675)==typeof navigator[_0x19c873(0x6d0)][_0x19c873(0x12d)]?_0x422173=!0x0:_0x4aa571[_0x19c873(0x24e)](_0x50f1bc[_0x19c873(0x353)],'Support:\x20'+_0x541057+_0x19c873(0x36b)),this[_0x19c873(0x261)]['push']({'name':_0x541057,'supported':_0x422173});}['checkScreenSharing'](){const _0x496221=_0x2db2ce,_0x135ad3=_0x29b865['ScreenSharing'];let _0x5731d0=!0x1;'object'==typeof navigator&&'object'==typeof navigator[_0x496221(0x6d0)]&&_0x496221(0x675)==typeof navigator[_0x496221(0x6d0)]['getDisplayMedia']?_0x5731d0=!0x0:_0x4aa571['log'](_0x50f1bc[_0x496221(0x353)],_0x496221(0x4e5)+_0x135ad3+_0x496221(0x36b)),this['featureSupport'][_0x496221(0x23d)]({'name':_0x135ad3,'supported':_0x5731d0});}[_0x2db2ce(0x58f)](){const _0x20c093=_0x2db2ce,_0x5c4396=_0x29b865[_0x20c093(0x5ec)];let _0x180218=!0x1;'function'!=typeof AudioContext||_0x20c093(0x675)!=typeof ScriptProcessorNode&&_0x20c093(0x675)!=typeof AudioWorkletNode||_0x20c093(0x675)!=typeof MediaStreamAudioSourceNode?_0x4aa571['log'](_0x50f1bc[_0x20c093(0x353)],'Support:\x20'+_0x5c4396+_0x20c093(0x36b)):_0x180218=!0x0,this['featureSupport'][_0x20c093(0x23d)]({'name':_0x5c4396,'supported':_0x180218});}[_0x2db2ce(0x3e0)](){const _0x36b033=_0x2db2ce,_0x16c68d=_0x29b865[_0x36b033(0x635)];let _0x21dde8=!0x1;_0x36b033(0x687)==typeof navigator&&_0x36b033(0x687)==typeof navigator['mediaDevices']&&'function'==typeof navigator[_0x36b033(0x6d0)][_0x36b033(0x5e0)]&&_0x36b033(0x675)==typeof MediaDeviceInfo?_0x21dde8=!0x0:_0x4aa571[_0x36b033(0x24e)](_0x50f1bc[_0x36b033(0x353)],_0x36b033(0x4e5)+_0x16c68d+'\x20not\x20supported'),this['featureSupport'][_0x36b033(0x23d)]({'name':_0x16c68d,'supported':_0x21dde8});}[_0x2db2ce(0x5a1)](){const _0x366c29=_0x2db2ce,_0x15d47e=_0x29b865[_0x366c29(0x4ae)];let _0x260809=!0x1;_0x366c29(0x687)==typeof document&&_0x366c29(0x675)==typeof document[_0x366c29(0x3b7)]('video')[_0x366c29(0x42f)]?_0x260809=!0x0:_0x4aa571['log'](_0x50f1bc[_0x366c29(0x353)],_0x366c29(0x4e5)+_0x15d47e+_0x366c29(0x36b)),this[_0x366c29(0x261)]['push']({'name':_0x15d47e,'supported':_0x260809});}async['checkMediaRecording'](){const _0x718de5=_0x2db2ce,_0x13fd04=_0x29b865[_0x718de5(0x248)];let _0x1f3fd4=!0x1;try{const _0x1d2570=document[_0x718de5(0x3b7)](_0x718de5(0x347));if(MediaRecorder&&MediaSource&&_0x1d2570[_0x718de5(0x3e4)]){const _0x125bb9=_0x1d2570[_0x718de5(0x3e4)](),_0x579ebb=new MediaRecorder(_0x125bb9);_0x579ebb[_0x718de5(0x4cf)](),await new Promise(_0x54393d=>setTimeout(_0x54393d,0x7d0)),_0x579ebb[_0x718de5(0x11e)](),_0x1f3fd4=_0x718de5(0x5cb)===_0x579ebb[_0x718de5(0x3a8)];}}catch(_0x41fa20){_0x4aa571[_0x718de5(0x24e)](_0x50f1bc['Support'],_0x718de5(0x4e5)+_0x13fd04+_0x718de5(0x54d),_0x41fa20);}this['featureSupport'][_0x718de5(0x23d)]({'name':_0x13fd04,'supported':_0x1f3fd4}),_0x1f3fd4||_0x4aa571[_0x718de5(0x24e)](_0x50f1bc['Support'],'Support:\x20'+_0x13fd04+_0x718de5(0x36b));}[_0x2db2ce(0x27e)](){const _0x2acfd2=_0x2db2ce,_0x1d5443=_0x29b865[_0x2acfd2(0x2c5)];let _0x4da114=!0x1;try{document['createElement'](_0x2acfd2(0x347))['captureStream']&&(_0x4da114=!0x0);}catch(_0x5d4599){_0x4aa571[_0x2acfd2(0x24e)](_0x50f1bc[_0x2acfd2(0x353)],_0x2acfd2(0x4e5)+_0x1d5443+_0x2acfd2(0x54d),_0x5d4599);}this['featureSupport']['push']({'name':_0x1d5443,'supported':_0x4da114}),_0x4da114||_0x4aa571[_0x2acfd2(0x24e)](_0x50f1bc['Support'],'Support:\x20'+_0x1d5443+_0x2acfd2(0x36b));}[_0x2db2ce(0x390)](){const _0x5e31c3=_0x2db2ce,_0xaaf843=_0x29b865[_0x5e31c3(0x65d)];let _0xf548d1=!0x1;try{const _0x2b2708=document[_0x5e31c3(0x3b7)](_0x5e31c3(0x347));WebGLRenderingContext&&_0x2b2708['getContext'](_0x5e31c3(0x1e0))&&(_0xf548d1=!0x0);}catch(_0x3c3716){_0x4aa571[_0x5e31c3(0x24e)](_0x50f1bc[_0x5e31c3(0x353)],_0x5e31c3(0x4e5)+_0xaaf843+_0x5e31c3(0x54d),_0x3c3716);}this['featureSupport'][_0x5e31c3(0x23d)]({'name':_0xaaf843,'supported':_0xf548d1}),_0xf548d1||_0x4aa571['log'](_0x50f1bc[_0x5e31c3(0x353)],_0x5e31c3(0x4e5)+_0xaaf843+'\x20not\x20supported');}[_0x2db2ce(0x35b)](){const _0x1b7f19=_0x2db2ce,_0x169ab6=_0x29b865[_0x1b7f19(0x30c)];let _0x2d92ef=!0x1;'function'==typeof AudioContext?_0x2d92ef=!0x0:_0x4aa571[_0x1b7f19(0x24e)](_0x50f1bc[_0x1b7f19(0x353)],'Support:\x20'+_0x169ab6+'\x20not\x20supported'),this[_0x1b7f19(0x261)][_0x1b7f19(0x23d)]({'name':_0x169ab6,'supported':_0x2d92ef});}}const _0x5c6e30=_0x10f33e[_0x2db2ce(0x122)]();class _0x488a34{static [_0x2db2ce(0x10b)];['authService'];[_0x2db2ce(0x6e1)];['options'];[_0x2db2ce(0x626)];[_0x2db2ce(0x31d)]=new Map();[_0x2db2ce(0x5d8)];[_0x2db2ce(0x531)];constructor(_0x3fcf2c,_0x350a1f,_0x1f9014){const _0x312b7a=_0x2db2ce;this[_0x312b7a(0x6e1)]=_0x3fcf2c,this[_0x312b7a(0x626)]=_0x350a1f,this[_0x312b7a(0x71c)]=new _0x215b44(this[_0x312b7a(0x6e1)]),_0x5c6e30['initialize'](),this['options']={'audioContext':_0x1f9014?.[_0x312b7a(0x1fc)]??(_0x5c6e30[_0x312b7a(0x6d8)](_0x29b865['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x1f9014?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x1f9014?.['minConnections']??0x3,'maxConnections':_0x1f9014?.[_0x312b7a(0x453)]??(_0x1f9014?.[_0x312b7a(0x606)]&&0x4*_0x1f9014[_0x312b7a(0x606)])??0xc,'maxDistance':_0x1f9014?.[_0x312b7a(0x274)]??0xa,'maxFps':_0x1f9014?.[_0x312b7a(0x317)]??0x18,'maxBpp':_0x1f9014?.[_0x312b7a(0x199)]??0.12,'objectStoreConnector':_0x1f9014?.[_0x312b7a(0x3d7)]??_0x4c023f[_0x312b7a(0x571)],'keyValueDatabaseConnector':_0x1f9014?.[_0x312b7a(0x182)]??_0x1145e0[_0x312b7a(0x302)],'peerConnectionConnector':_0x1f9014?.[_0x312b7a(0x262)]??_0xd4f130[_0x312b7a(0x1da)],'generativeAIWorkerConnector':_0x1f9014?.[_0x312b7a(0x15f)],'vectorDatabaseConnector':_0x1f9014?.[_0x312b7a(0x615)]},_0x1f9014?.['disableIntervalHack']&&this[_0x312b7a(0x1d8)][_0x312b7a(0x1fc)]&&_0x8ac28d[_0x312b7a(0x429)](this['options'][_0x312b7a(0x1fc)]),_0x4aa571[_0x312b7a(0x2d2)](this[_0x312b7a(0x6e1)]),_0x1f9014?.[_0x312b7a(0x29a)]&&_0x4aa571['setLoggingConnectors'](_0x1f9014[_0x312b7a(0x29a)]);}static async[_0x2db2ce(0x122)](_0x28c114,_0x3a5db8,_0x2a3dd6,_0x1356c4){const _0xcf6012=_0x2db2ce,_0x2fc92c=await this[_0xcf6012(0x4ee)](_0x28c114,_0x3a5db8,_0x1356c4);return _0x488a34[_0xcf6012(0x10b)]||(_0x488a34[_0xcf6012(0x10b)]=new _0x488a34(_0x28c114,_0x2fc92c,_0x2a3dd6)),{'close':_0x488a34['instance'][_0xcf6012(0x37c)]['bind'](_0x488a34[_0xcf6012(0x10b)]),'authenticateUser':_0x488a34[_0xcf6012(0x10b)]['authenticateUser'][_0xcf6012(0x1e9)](_0x488a34[_0xcf6012(0x10b)]),'authenticateAgent':_0x488a34[_0xcf6012(0x10b)][_0xcf6012(0xc9)]['bind'](_0x488a34[_0xcf6012(0x10b)]),'joinCluster':_0x488a34[_0xcf6012(0x10b)][_0xcf6012(0x46c)]['bind'](_0x488a34[_0xcf6012(0x10b)])};}static async[_0x2db2ce(0x461)](){const _0x1e0a8b=_0x2db2ce;return _0x58bac0[_0x1e0a8b(0x645)]();}static['isProduction'](){const _0x4d4f8a=_0x2db2ce;return _0x5d41ff[_0x4d4f8a(0x289)];}async['close'](){const _0x1a773b=_0x2db2ce;this['clusters'][_0x1a773b(0x405)](_0x30a762=>{const _0x215e68=_0x1a773b;_0x30a762[_0x215e68(0x35f)](),_0x30a762[_0x215e68(0x556)]();}),this[_0x1a773b(0x31d)]['clear'](),this['options'][_0x1a773b(0x1fc)]&&_0x8ac28d[_0x1a773b(0x401)](),this[_0x1a773b(0x531)]?.(),this['authContext']=void 0x0,await this[_0x1a773b(0x71c)][_0x1a773b(0x18e)](),_0x488a34[_0x1a773b(0x10b)]=void 0x0;}static async[_0x2db2ce(0x4ee)](_0x691164,_0x364007,_0x85ddec){const _0x1a69a1=_0x2db2ce,_0x29a98e=(await(0x0,_0x1bff9c[_0x1a69a1(0x2c8)])(_0x58bac0[_0x1a69a1(0x6cb)](),_0x1a69a1(0x640))({'vendorId':_0x691164,'accessToken':_0x364007,'secretKey':_0x85ddec}))['data'];return _0x29a98e['features']||(_0x29a98e[_0x1a69a1(0x219)]=[]),_0x29a98e;}async[_0x2db2ce(0xfb)](_0x3171d9){const _0x53010c=_0x2db2ce;await this[_0x53010c(0x71c)][_0x53010c(0x14b)](_0x3171d9);const _0xd02e58=new _0x58d9a8(_0x3171d9['id'],_0x3171d9[_0x53010c(0x3d3)],_0x3171d9[_0x53010c(0x494)]);return this[_0x53010c(0x5d8)]={'node':_0xd02e58},_0x5c6e30[_0x53010c(0x6e7)](_0xd02e58),{'type':_0x26993c['NodeType']['User'],'getId':_0xd02e58[_0x53010c(0x28c)]['bind'](_0xd02e58),'getDisplayName':_0xd02e58['getDisplayName'][_0x53010c(0x1e9)](_0xd02e58),'getEmail':_0xd02e58[_0x53010c(0x2a2)][_0x53010c(0x1e9)](_0xd02e58),'setDisplayName':_0xd02e58['setDisplayName']['bind'](_0xd02e58),'setEmail':_0xd02e58['setEmail'][_0x53010c(0x1e9)](_0xd02e58)};}async[_0x2db2ce(0xc9)](_0x55cc60){const _0x24e85e=_0x2db2ce,{id:_0x174b03,groupId:_0x21e86a}=_0x55cc60,_0x2ac1a3=await(0x0,_0x18623e[_0x24e85e(0x2ee)])((0x0,_0x18623e['doc'])(_0x58bac0[_0x24e85e(0x363)](),'developers/'+this[_0x24e85e(0x6e1)]+_0x24e85e(0x2a7)+_0x21e86a));if(!_0x2ac1a3[_0x24e85e(0x4c4)]())throw new _0x5c22ea(_0x3a91a5['NodeNotAuthenticated'],_0x24e85e(0x162));const _0x16c1cd=_0x2ac1a3[_0x24e85e(0x1f6)]();await this[_0x24e85e(0x71c)]['signInWithCredential']({'id':_0x174b03});const _0x556874=new _0xcbee9e(_0x174b03,_0x21e86a,this['vendorId'],_0x16c1cd);return this['authContext']={'node':_0x556874},_0x5c6e30['logSupport'](_0x556874),await this[_0x24e85e(0x60c)](_0x556874),{'type':_0x26993c['NodeType'][_0x24e85e(0x60a)],'getId':_0x556874[_0x24e85e(0x28c)]['bind'](_0x556874),'onConfigurationChange':_0x556874[_0x24e85e(0x6c2)]['bind'](_0x556874),'setReportCapacity':_0x556874[_0x24e85e(0x420)]['bind'](_0x556874)};}async[_0x2db2ce(0x46c)](_0x13d4c1){const _0x3f2cf7=_0x2db2ce;if(!this[_0x3f2cf7(0x5d8)])throw new _0x5c22ea(_0x3a91a5['NodeNotAuthenticated'],_0x3f2cf7(0x6f9));if(this['authContext'][_0x3f2cf7(0x25e)][_0x3f2cf7(0x26f)]!==_0x26993c[_0x3f2cf7(0x23e)][_0x3f2cf7(0x482)])throw new _0x5c22ea(_0x3a91a5[_0x3f2cf7(0x485)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this[_0x3f2cf7(0x31d)][_0x3f2cf7(0x40d)](_0x13d4c1))throw new _0x5c22ea(_0x3a91a5['ClusterAlreadyJoined'],'Cluster\x20already\x20joined');const _0x427164=new _0x226dd5(this['vendorId'],_0x13d4c1,this['authContext']['node'],this['authService'],this[_0x3f2cf7(0x1d8)],this[_0x3f2cf7(0x626)]);return await _0x427164[_0x3f2cf7(0x47f)](),this[_0x3f2cf7(0x14c)](_0x13d4c1,_0x427164),_0x4aa571['logEvent']('join-cluster',{'clusterId':_0x13d4c1,'nodeId':this[_0x3f2cf7(0x5d8)]['node'][_0x3f2cf7(0x28c)](),'nodeType':this[_0x3f2cf7(0x5d8)][_0x3f2cf7(0x25e)][_0x3f2cf7(0x26f)]}),{'leave':_0x427164[_0x3f2cf7(0x556)][_0x3f2cf7(0x1e9)](_0x427164),'getLocalNode':_0x427164['getLocalNode'][_0x3f2cf7(0x1e9)](_0x427164),'openPubSubTopic':_0x427164[_0x3f2cf7(0x6bd)][_0x3f2cf7(0x1e9)](_0x427164),'openObjectStoreBucket':_0x427164[_0x3f2cf7(0x54e)][_0x3f2cf7(0x1e9)](_0x427164),'openKeyValueDatabase':_0x427164[_0x3f2cf7(0x3cc)]['bind'](_0x427164),'openGenerativeAIContext':_0x427164['openGenerativeAIContext']['bind'](_0x427164),'openGenerativeAIWorker':_0x427164[_0x3f2cf7(0x4a0)]['bind'](_0x427164),'publishLocalMediaStream':_0x427164[_0x3f2cf7(0x14a)][_0x3f2cf7(0x1e9)](_0x427164),'publishLocalDynamicMediaStream':_0x427164[_0x3f2cf7(0x63a)]['bind'](_0x427164),'getPubSubTopics':_0x427164['getPubSubTopics']['bind'](_0x427164),'getObjectStoreBuckets':_0x427164['getObjectStoreBuckets'][_0x3f2cf7(0x1e9)](_0x427164),'getKeyValueDatabases':_0x427164[_0x3f2cf7(0x35e)]['bind'](_0x427164),'getGenerativeAIContexts':_0x427164[_0x3f2cf7(0x672)]['bind'](_0x427164),'getGenerativeAIWorkers':_0x427164[_0x3f2cf7(0x47b)]['bind'](_0x427164),'getLocalMediaStreams':_0x427164[_0x3f2cf7(0x244)][_0x3f2cf7(0x1e9)](_0x427164),'getRemoteMediaStreams':_0x427164[_0x3f2cf7(0xdb)]['bind'](_0x427164),'getRemoteNodes':_0x427164['getRemoteNodes'][_0x3f2cf7(0x1e9)](_0x427164),'on':_0x427164['on'][_0x3f2cf7(0x1e9)](_0x427164),'off':_0x427164[_0x3f2cf7(0x35f)][_0x3f2cf7(0x1e9)](_0x427164)};}async['connectAgent'](_0x2a0912){const _0xfb7ff8=_0x2db2ce;for(const _0x8ae618 of _0x2a0912[_0xfb7ff8(0x3f5)][_0xfb7ff8(0x31d)]){const _0x59c10a=new _0x226dd5(this['vendorId'],_0x8ae618['id'],_0x2a0912,this[_0xfb7ff8(0x71c)],this['options'],this[_0xfb7ff8(0x626)]);await _0x59c10a['join'](),this[_0xfb7ff8(0x14c)](_0x8ae618['id'],_0x59c10a);for(const _0x16269e of _0x8ae618['pubsub'])_0x59c10a[_0xfb7ff8(0x6bd)](_0x16269e);for(const _0x3e75cc of _0x8ae618[_0xfb7ff8(0x6f7)])await _0x59c10a[_0xfb7ff8(0x54e)](_0x3e75cc);for(const _0x1637de of _0x8ae618[_0xfb7ff8(0x476)])await _0x59c10a[_0xfb7ff8(0x3cc)](_0x1637de,{'version':0x1,'tables':{}});for(const _0x163594 of _0x8ae618['generativeAIContexts'])await _0x59c10a['openGenerativeAIWorker'](_0x163594);}}[_0x2db2ce(0x14c)](_0x2fad09,_0x1f7242){const _0x5851a3=_0x2db2ce;this['clusters'][_0x5851a3(0x3bc)](_0x2fad09,_0x1f7242),_0x1f7242['on'](_0x5851a3(0x1aa),()=>{const _0xa3627e=_0x5851a3;_0x1f7242['off'](),this[_0xa3627e(0x31d)][_0xa3627e(0x176)](_0x2fad09);});}}})()),_0x45ec01;})())));