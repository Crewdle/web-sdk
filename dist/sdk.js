(function(_0x2d7d66,_0x531069){const _0x25b15f=a0_0x3365,_0x3325ec=_0x2d7d66();while(!![]){try{const _0x13fb45=-parseInt(_0x25b15f(0x588))/0x1+-parseInt(_0x25b15f(0x51a))/0x2*(parseInt(_0x25b15f(0x37a))/0x3)+-parseInt(_0x25b15f(0x787))/0x4*(-parseInt(_0x25b15f(0x5aa))/0x5)+-parseInt(_0x25b15f(0x68f))/0x6*(parseInt(_0x25b15f(0x406))/0x7)+-parseInt(_0x25b15f(0x38a))/0x8+parseInt(_0x25b15f(0x3f1))/0x9*(parseInt(_0x25b15f(0x2eb))/0xa)+-parseInt(_0x25b15f(0x69b))/0xb*(-parseInt(_0x25b15f(0x462))/0xc);if(_0x13fb45===_0x531069)break;else _0x3325ec['push'](_0x3325ec['shift']());}catch(_0x24f46f){_0x3325ec['push'](_0x3325ec['shift']());}}}(a0_0x1125,0xc2287),!function(_0x52bfb0,_0xb3c283){const _0x3af2e4=a0_0x3365;if(_0x3af2e4(0x3be)==typeof exports&&_0x3af2e4(0x3be)==typeof module)module[_0x3af2e4(0x2f8)]=_0xb3c283();else{if(_0x3af2e4(0x4c0)==typeof define&&define[_0x3af2e4(0x3b5)])define([],_0xb3c283);else{var _0x9544de=_0xb3c283();for(var _0x53fc0f in _0x9544de)(_0x3af2e4(0x3be)==typeof exports?exports:_0x52bfb0)[_0x53fc0f]=_0x9544de[_0x53fc0f];}}}(this,()=>((()=>{'use strict';const _0x2caf66=a0_0x3365;var _0x2528a6={0x14d:(_0x283b31,_0x57e8a3,_0x104dfb)=>{const _0x12be24=a0_0x3365;_0x104dfb['d'](_0x57e8a3,{'O':()=>_0x2018d5});const _0x2018d5={'version':'0.1.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x12be24(0x2ee),'authDomain':_0x12be24(0x2bf),'databaseURL':_0x12be24(0x4c3),'projectId':_0x12be24(0x44b),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':_0x12be24(0x643),'functionsRegion':_0x12be24(0x628)},'aws':{'endpoint':_0x12be24(0x6f2),'region':_0x12be24(0x600)}};},0x33b:(_0x49631c,_0x1fe616,_0x47bc7f)=>{_0x47bc7f['d'](_0x1fe616,{'O':()=>_0x5096d2});const _0x5096d2={};},0x3e6:(_0x53b4a6,_0x3d7965,_0x50a932)=>{const _0x166207=a0_0x3365;_0x50a932['d'](_0x3d7965,{'O':()=>_0x2e9afe});const _0x2e9afe={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x166207(0x31c),'authDomain':_0x166207(0x765),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x166207(0x743),'storageBucket':_0x166207(0x502),'messagingSenderId':_0x166207(0x411),'appId':_0x166207(0x2db),'measurementId':_0x166207(0x25f)},'aws':{'endpoint':_0x166207(0x3fc),'region':_0x166207(0x600)}};},0x20:(_0x2d45b5,_0x3365e0,_0x1acd38)=>{_0x1acd38['d'](_0x3365e0,{'O':()=>_0x128d19});const _0x128d19={};}},_0x232bfd={};function _0x31d11c(_0x59684b){const _0x5ce44c=a0_0x3365;var _0x30c5c4=_0x232bfd[_0x59684b];if(void 0x0!==_0x30c5c4)return _0x30c5c4[_0x5ce44c(0x2f8)];var _0x49f88e=_0x232bfd[_0x59684b]={'exports':{}};return _0x2528a6[_0x59684b](_0x49f88e,_0x49f88e[_0x5ce44c(0x2f8)],_0x31d11c),_0x49f88e[_0x5ce44c(0x2f8)];}_0x31d11c['d']=(_0x212fc5,_0x1a0620)=>{const _0x44756a=a0_0x3365;for(var _0xb7c094 in _0x1a0620)_0x31d11c['o'](_0x1a0620,_0xb7c094)&&!_0x31d11c['o'](_0x212fc5,_0xb7c094)&&Object[_0x44756a(0x6dc)](_0x212fc5,_0xb7c094,{'enumerable':!0x0,'get':_0x1a0620[_0xb7c094]});},_0x31d11c['g']=(function(){const _0x1e57ba=a0_0x3365;if(_0x1e57ba(0x3be)==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x502e34){if(_0x1e57ba(0x3be)==typeof window)return window;}}()),_0x31d11c['o']=(_0x9f8189,_0x4ba30c)=>Object[_0x2caf66(0x435)][_0x2caf66(0x72b)]['call'](_0x9f8189,_0x4ba30c),_0x31d11c['r']=_0x324a0b=>{const _0x5aa0dd=_0x2caf66;_0x5aa0dd(0x630)!=typeof Symbol&&Symbol[_0x5aa0dd(0x5db)]&&Object['defineProperty'](_0x324a0b,Symbol[_0x5aa0dd(0x5db)],{'value':_0x5aa0dd(0x391)}),Object[_0x5aa0dd(0x6dc)](_0x324a0b,_0x5aa0dd(0x4b5),{'value':!0x0});};var _0x17bf62={};return((()=>{const _0x5d07ed=_0x2caf66;var _0x294755,_0x5bfa6a,_0x4f0e27;_0x31d11c['r'](_0x17bf62),_0x31d11c['d'](_0x17bf62,{'KeyValueDatabase':()=>_0x37dbd8,'LayoutBuilder':()=>_0x3b9811,'LoggingChannels':()=>_0x4f0e27,'QueryBuilder':()=>_0x4227bb,'SDK':()=>_0x1d0b46,'SDKClientErrorCodes':()=>_0x294755,'TableBuilder':()=>_0x476a7c,'logger':()=>_0x218f12}),function(_0x5cb5be){const _0x2d8565=a0_0x3365;_0x5cb5be[_0x2d8565(0x36c)]=_0x2d8565(0x549),_0x5cb5be[_0x2d8565(0x28d)]=_0x2d8565(0x531),_0x5cb5be[_0x2d8565(0x246)]=_0x2d8565(0x3b7),_0x5cb5be[_0x2d8565(0x261)]=_0x2d8565(0x74f),_0x5cb5be[_0x2d8565(0x4cb)]='object-store-name-not-string',_0x5cb5be[_0x2d8565(0x64d)]='object-store-invalid-payload',_0x5cb5be['ObjectStoreInvalidPath']=_0x2d8565(0x6d9),_0x5cb5be[_0x2d8565(0x449)]=_0x2d8565(0x6a7),_0x5cb5be[_0x2d8565(0x28e)]=_0x2d8565(0x4cc),_0x5cb5be['KeyValueDatabaseAlreadyExists']=_0x2d8565(0x4f7),_0x5cb5be[_0x2d8565(0x564)]=_0x2d8565(0x614),_0x5cb5be['KeyValueDatabaseIndexNotFound']=_0x2d8565(0x29b),_0x5cb5be[_0x2d8565(0x4e3)]=_0x2d8565(0x5f1),_0x5cb5be[_0x2d8565(0x358)]=_0x2d8565(0x3db),_0x5cb5be[_0x2d8565(0x4eb)]=_0x2d8565(0x39a),_0x5cb5be['KeyValueDatabaseNotOpen']='key-value-database-not-open',_0x5cb5be[_0x2d8565(0x35c)]='key-value-database-table-name-reserved',_0x5cb5be[_0x2d8565(0x680)]=_0x2d8565(0x509),_0x5cb5be[_0x2d8565(0x5a5)]=_0x2d8565(0x5ac),_0x5cb5be[_0x2d8565(0x5c7)]=_0x2d8565(0x40e),_0x5cb5be[_0x2d8565(0x69a)]='local-media-stream-no-audio-context',_0x5cb5be[_0x2d8565(0x526)]=_0x2d8565(0x778),_0x5cb5be[_0x2d8565(0x640)]=_0x2d8565(0x364),_0x5cb5be[_0x2d8565(0x5d7)]=_0x2d8565(0x4b3),_0x5cb5be[_0x2d8565(0x654)]=_0x2d8565(0x77a),_0x5cb5be[_0x2d8565(0x489)]=_0x2d8565(0x4e7),_0x5cb5be['RemoteMediaStreamAlreadyExists']='remote-media-stream-already-exists',_0x5cb5be[_0x2d8565(0x3ba)]='remote-media-stream-invalid-subscription-params',_0x5cb5be[_0x2d8565(0x4e4)]=_0x2d8565(0x2c1),_0x5cb5be[_0x2d8565(0x39f)]=_0x2d8565(0x6f1),_0x5cb5be[_0x2d8565(0x718)]=_0x2d8565(0x505),_0x5cb5be[_0x2d8565(0x51c)]=_0x2d8565(0x3d9);}(_0x294755||(_0x294755={}));class _0xc4bd71 extends Error{[_0x5d07ed(0x41f)];constructor(_0xade008,_0x279e83){const _0x3a2a52=_0x5d07ed;super(_0x279e83),this[_0x3a2a52(0x41f)]=_0xade008;}}!function(_0x14eb9d){const _0x4a7c8a=_0x5d07ed;_0x14eb9d['PubSub']=_0x4a7c8a(0x74a),_0x14eb9d[_0x4a7c8a(0x620)]='object-storage',_0x14eb9d[_0x4a7c8a(0x298)]=_0x4a7c8a(0x4f3),_0x14eb9d[_0x4a7c8a(0x26a)]='media-stream';}(_0x5bfa6a||(_0x5bfa6a={})),function(_0x519515){const _0x43d2b2=_0x5d07ed;_0x519515['All']='all',_0x519515[_0x43d2b2(0x4a0)]=_0x43d2b2(0x3ad),_0x519515['Connection']=_0x43d2b2(0x4d0),_0x519515[_0x43d2b2(0x61f)]=_0x43d2b2(0x575),_0x519515['Cluster']='cluster',_0x519515[_0x43d2b2(0x68e)]=_0x43d2b2(0x226),_0x519515[_0x43d2b2(0x2a5)]=_0x43d2b2(0x4f4),_0x519515[_0x43d2b2(0x1f1)]=_0x43d2b2(0x498),_0x519515[_0x43d2b2(0x4a1)]=_0x43d2b2(0x2a2),_0x519515[_0x43d2b2(0x747)]='node',_0x519515['Pool']=_0x43d2b2(0x26c),_0x519515['PubSub']=_0x43d2b2(0x74a),_0x519515[_0x43d2b2(0x398)]='remediation',_0x519515['Signaling']=_0x43d2b2(0x37d),_0x519515[_0x43d2b2(0x5e0)]='stats',_0x519515[_0x43d2b2(0x674)]=_0x43d2b2(0x622),_0x519515['Support']=_0x43d2b2(0x3a0),_0x519515['System']=_0x43d2b2(0x6da),_0x519515['SystemStats']=_0x43d2b2(0x70e),_0x519515[_0x43d2b2(0x78a)]='test-page',_0x519515[_0x43d2b2(0x63e)]=_0x43d2b2(0x5d2);}(_0x4f0e27||(_0x4f0e27={}));const _0x4b08d8=require('@crewdle/web-sdk-types');class _0x4227bb{[_0x5d07ed(0x336)];constructor(_0x549eb7){const _0x7050fd=_0x5d07ed;this[_0x7050fd(0x336)]={'orderBy':{'key':_0x549eb7,'direction':_0x7050fd(0x72f)}};}static[_0x5d07ed(0x56a)](_0x4cf754){const _0x3c8b35=_0x5d07ed;if(_0x3c8b35(0x6bf)!=typeof _0x4cf754||0x0===_0x4cf754[_0x3c8b35(0x57d)])throw new _0xc4bd71(_0x294755[_0x3c8b35(0x489)],_0x3c8b35(0x5de));return new _0x4227bb(_0x4cf754);}static[_0x5d07ed(0x6d3)](_0x302051){try{return _0x4227bb['buildQuery'](_0x302051),!0x0;}catch(_0x1adbab){return!0x1;}}static[_0x5d07ed(0x687)](_0x44f264){const _0x512a4e=_0x5d07ed,_0x20336f=_0x4227bb[_0x512a4e(0x56a)](_0x44f264[_0x512a4e(0x410)]?.[_0x512a4e(0x788)]??_0x44f264['where']?.[_0x512a4e(0x788)]??'');if(_0x44f264['where']){const _0x572aeb=_0x44f264['where'];if((_0x4227bb['isWhereValue'](_0x572aeb)||_0x4227bb['isWhereValues'](_0x572aeb)||_0x4227bb[_0x512a4e(0x58f)](_0x572aeb))&&_0x20336f['where'](_0x572aeb['operator'],_0x572aeb[_0x512a4e(0x4ca)]),_0x44f264[_0x512a4e(0x410)]?.[_0x512a4e(0x788)]&&_0x44f264[_0x512a4e(0x410)]?.[_0x512a4e(0x788)]!==_0x44f264[_0x512a4e(0x6b9)]['key'])throw new _0xc4bd71(_0x294755['QueryBuilderInvalidArgument'],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x44f264[_0x512a4e(0x410)]&&_0x20336f[_0x512a4e(0x410)](_0x44f264[_0x512a4e(0x410)][_0x512a4e(0x3f6)]),_0x44f264['limit']&&_0x20336f[_0x512a4e(0x273)](_0x44f264['limit']),_0x44f264['offset']&&_0x20336f[_0x512a4e(0x68b)](_0x44f264[_0x512a4e(0x68b)]),_0x20336f;}[_0x5d07ed(0x34c)](){return{...this['query']};}[_0x5d07ed(0x6b9)](_0x3afa7a,_0x5940ca){const _0x58dde8=_0x5d07ed,_0x3048c0={'key':this[_0x58dde8(0x336)][_0x58dde8(0x410)][_0x58dde8(0x788)],'operator':_0x3afa7a,'value':_0x5940ca};if(!_0x4227bb[_0x58dde8(0x723)](_0x3048c0)&&!_0x4227bb[_0x58dde8(0x213)](_0x3048c0)&&!_0x4227bb[_0x58dde8(0x58f)](_0x3048c0))throw new _0xc4bd71(_0x294755[_0x58dde8(0x489)],_0x58dde8(0x50d));return this[_0x58dde8(0x336)][_0x58dde8(0x6b9)]=_0x3048c0,this;}[_0x5d07ed(0x410)](_0x51ee94){const _0x35aaa4=_0x5d07ed;if(_0x35aaa4(0x72f)!==_0x51ee94&&_0x35aaa4(0x5f0)!==_0x51ee94)throw new _0xc4bd71(_0x294755['QueryBuilderInvalidArgument'],_0x35aaa4(0x309));return this[_0x35aaa4(0x336)][_0x35aaa4(0x410)][_0x35aaa4(0x3f6)]=_0x51ee94,this;}['limit'](_0x4e1770){const _0x18f136=_0x5d07ed;if(_0x18f136(0x4d8)!=typeof _0x4e1770||_0x4e1770<0x0)throw new _0xc4bd71(_0x294755[_0x18f136(0x489)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x18f136(0x273)]=_0x4e1770,this;}[_0x5d07ed(0x68b)](_0x19eb3b){const _0x29717f=_0x5d07ed;if(_0x29717f(0x4d8)!=typeof _0x19eb3b||_0x19eb3b<0x0)throw new _0xc4bd71(_0x294755[_0x29717f(0x489)],_0x29717f(0x5f8));return this['query']['offset']=_0x19eb3b,this;}static[_0x5d07ed(0x723)](_0x901462){const _0x1d3d20=_0x5d07ed;if(!(_0x901462&&_0x1d3d20(0x3be)==typeof _0x901462&&'operator'in _0x901462&&_0x1d3d20(0x4ca)in _0x901462))return!0x1;const {operator:_0x414d33,value:_0x4239a7}=_0x901462;return!(!['==','!=','>','<','<=','>='][_0x1d3d20(0x610)](_0x414d33)||Array[_0x1d3d20(0x4ea)](_0x4239a7));}static[_0x5d07ed(0x213)](_0x4590df){const _0x19bba8=_0x5d07ed;if(!(_0x4590df&&'object'==typeof _0x4590df&&'operator'in _0x4590df&&_0x19bba8(0x4ca)in _0x4590df))return!0x1;const {operator:_0x23f351,value:_0x542146}=_0x4590df;return!(!['in',_0x19bba8(0x27f)][_0x19bba8(0x610)](_0x23f351)||!Array[_0x19bba8(0x4ea)](_0x542146));}static[_0x5d07ed(0x58f)](_0x75d41e){const _0x38e181=_0x5d07ed;if(!(_0x75d41e&&_0x38e181(0x3be)==typeof _0x75d41e&&'operator'in _0x75d41e&&_0x38e181(0x4ca)in _0x75d41e))return!0x1;const {operator:_0x98ce7d,value:_0x535b14}=_0x75d41e;return!('between'!==_0x98ce7d||!Array['isArray'](_0x535b14)||0x2!==_0x535b14[_0x38e181(0x57d)]);}}class _0x3b9811{[_0x5d07ed(0x70d)];constructor(_0x220383){const _0x6371b5=_0x5d07ed;this[_0x6371b5(0x70d)]={'tables':{},'version':_0x220383};}static[_0x5d07ed(0x6fe)](_0x263164){const _0xbe1d02=_0x5d07ed;for(const _0x5e56d5 in _0x263164){if('version'!==_0x5e56d5&&_0xbe1d02(0x5ed)!==_0x5e56d5)return[!0x1,_0xbe1d02(0x356)+_0x5e56d5+_0xbe1d02(0x594)];if(_0xbe1d02(0x5ed)===_0x5e56d5)for(const _0x1a277e in _0x263164['tables']){if(_0xbe1d02(0x6bf)!=typeof _0x1a277e)return[!0x1,_0xbe1d02(0x609)+_0x1a277e+'\x27'];for(const _0x5c3895 in _0x263164[_0xbe1d02(0x5ed)][_0x1a277e]){if(_0xbe1d02(0x4ee)!==_0x5c3895)return[!0x1,_0xbe1d02(0x356)+_0x5c3895+_0xbe1d02(0x268)+_0x1a277e+'\x27'];const _0x567cc5=_0x263164['tables'][_0x1a277e][_0x5c3895]??[];for(const _0x5b207b of _0x567cc5)if(void 0x0===_0x5b207b[_0xbe1d02(0x6b6)]||'string'!=typeof _0x5b207b[_0xbe1d02(0x6b6)])return[!0x1,_0xbe1d02(0x4b2)+_0x1a277e+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0xbe1d02(0x55a)===_0x5e56d5&&_0xbe1d02(0x4d8)!=typeof _0x263164[_0x5e56d5])return[!0x1,_0xbe1d02(0x289)+_0x263164[_0x5e56d5]+_0xbe1d02(0x726)];}}return[!0x0,_0xbe1d02(0x47d)];}static['layout'](_0x42aa7d){const _0x5720e5=new _0x3b9811(_0x42aa7d);return _0x5720e5['layout']['version']=_0x42aa7d,_0x5720e5;}[_0x5d07ed(0x42e)](_0x32a74f){const _0x29b452=_0x5d07ed;return this[_0x29b452(0x70d)][_0x29b452(0x5ed)][_0x32a74f]={},new _0x476a7c(this[_0x29b452(0x70d)][_0x29b452(0x5ed)][_0x32a74f]);}[_0x5d07ed(0x5be)](){const _0x17e7b9=_0x5d07ed;return this[_0x17e7b9(0x70d)];}}class _0x476a7c{[_0x5d07ed(0x321)];constructor(_0x63c8d5){const _0xdd7841=_0x5d07ed;this[_0xdd7841(0x321)]=_0x63c8d5;}[_0x5d07ed(0x56a)](_0x295ae0){const _0x5f1e31=_0x5d07ed;return this['tableLayout'][_0x5f1e31(0x4ee)]=this[_0x5f1e31(0x321)][_0x5f1e31(0x4ee)]??[],this[_0x5f1e31(0x321)][_0x5f1e31(0x4ee)][_0x5f1e31(0x4d7)]({'keyPath':_0x295ae0}),this;}}const _0x291e28=_0x5d07ed(0x2ed),_0x43ed57=_0x5d07ed(0x5b5),_0x12a607=_0x5d07ed(0x6e5),_0x88124e=_0x5d07ed(0x3c1),_0x476f1d=0x7530,_0x35e782=_0x5d07ed(0x683);var _0xc9fce7;!function(_0x4e33f5){const _0xe6d14e=_0x5d07ed;_0x4e33f5[_0xe6d14e(0x5c0)]=_0xe6d14e(0x73f),_0x4e33f5[_0xe6d14e(0x3ac)]=_0xe6d14e(0x621),_0x4e33f5[_0xe6d14e(0x23a)]=_0xe6d14e(0x57e),_0x4e33f5['ConnectionInvalidDataEvent']=_0xe6d14e(0x3f3),_0x4e33f5[_0xe6d14e(0x5e2)]=_0xe6d14e(0x51e),_0x4e33f5[_0xe6d14e(0x777)]=_0xe6d14e(0x500),_0x4e33f5['ObjectStoreNotSynced']=_0xe6d14e(0x512),_0x4e33f5['InvalidDataChannel']=_0xe6d14e(0x390),_0x4e33f5[_0xe6d14e(0x5a8)]=_0xe6d14e(0x66f),_0x4e33f5[_0xe6d14e(0x3ae)]=_0xe6d14e(0x413),_0x4e33f5[_0xe6d14e(0x4d5)]=_0xe6d14e(0x5d5),_0x4e33f5[_0xe6d14e(0x458)]=_0xe6d14e(0x704),_0x4e33f5[_0xe6d14e(0x786)]=_0xe6d14e(0x544),_0x4e33f5[_0xe6d14e(0x2f5)]=_0xe6d14e(0x658),_0x4e33f5[_0xe6d14e(0x338)]=_0xe6d14e(0x242),_0x4e33f5[_0xe6d14e(0x494)]=_0xe6d14e(0x388),_0x4e33f5[_0xe6d14e(0x782)]=_0xe6d14e(0x5f9),_0x4e33f5['MissingSystemTopic']=_0xe6d14e(0x4ac),_0x4e33f5[_0xe6d14e(0x6fa)]=_0xe6d14e(0x2cb),_0x4e33f5[_0xe6d14e(0x50f)]=_0xe6d14e(0x57f),_0x4e33f5[_0xe6d14e(0x76b)]=_0xe6d14e(0x71d),_0x4e33f5[_0xe6d14e(0x3bc)]='remote-connection-exists',_0x4e33f5[_0xe6d14e(0x34e)]=_0xe6d14e(0x740),_0x4e33f5[_0xe6d14e(0x591)]=_0xe6d14e(0x59f),_0x4e33f5[_0xe6d14e(0x2ac)]='subscription-request-no-answer',_0x4e33f5[_0xe6d14e(0x409)]=_0xe6d14e(0x62c),_0x4e33f5[_0xe6d14e(0x282)]=_0xe6d14e(0x3b6),_0x4e33f5[_0xe6d14e(0x365)]=_0xe6d14e(0x5a9);}(_0xc9fce7||(_0xc9fce7={}));const _0x31a838=new Map([[_0xc9fce7[_0x5d07ed(0x5c0)],_0x5d07ed(0x5a2)],[_0xc9fce7[_0x5d07ed(0x3ac)],_0x5d07ed(0x54c)],[_0xc9fce7[_0x5d07ed(0x23a)],_0x5d07ed(0x656)],[_0xc9fce7[_0x5d07ed(0x514)],'Invalid\x20data\x20event.'],[_0xc9fce7['ObjectStoreCannotWriteTransaction'],'Cannot\x20write\x20transaction.'],[_0xc9fce7[_0x5d07ed(0x777)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0xc9fce7[_0x5d07ed(0x741)],'Object\x20store\x20not\x20synced.'],[_0xc9fce7[_0x5d07ed(0x221)],_0x5d07ed(0x2ff)],[_0xc9fce7['InvalidPublisher'],_0x5d07ed(0x634)],[_0xc9fce7[_0x5d07ed(0x3ae)],_0x5d07ed(0x55c)],[_0xc9fce7[_0x5d07ed(0x4d5)],_0x5d07ed(0x688)],[_0xc9fce7[_0x5d07ed(0x458)],_0x5d07ed(0x456)],[_0xc9fce7[_0x5d07ed(0x786)],_0x5d07ed(0x433)],[_0xc9fce7[_0x5d07ed(0x2f5)],_0x5d07ed(0x2cd)],[_0xc9fce7['KeyValueDatabaseTransactionValueNotSet'],'Key-value\x20database\x20transaction\x20value\x20not\x20set.'],[_0xc9fce7[_0x5d07ed(0x494)],'Local\x20stream\x20does\x20not\x20exist.'],[_0xc9fce7['MissingRemoteConnection'],_0x5d07ed(0x2d7)],[_0xc9fce7[_0x5d07ed(0x548)],_0x5d07ed(0x5b4)],[_0xc9fce7[_0x5d07ed(0x6fa)],_0x5d07ed(0x21d)],[_0xc9fce7[_0x5d07ed(0x50f)],_0x5d07ed(0x6e9)],[_0xc9fce7[_0x5d07ed(0x76b)],_0x5d07ed(0x36a)],[_0xc9fce7[_0x5d07ed(0x3bc)],_0x5d07ed(0x55b)],[_0xc9fce7[_0x5d07ed(0x34e)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0xc9fce7[_0x5d07ed(0x591)],_0x5d07ed(0x589)],[_0xc9fce7[_0x5d07ed(0x2ac)],_0x5d07ed(0x70a)],[_0xc9fce7['NodeDoesNotExist'],_0x5d07ed(0x403)],[_0xc9fce7[_0x5d07ed(0x282)],'Node\x20already\x20exists.'],[_0xc9fce7[_0x5d07ed(0x365)],_0x5d07ed(0x42c)]]);class _0x187b09 extends Error{[_0x5d07ed(0x41f)];static [_0x5d07ed(0x545)]=_0xc9fce7;[_0x5d07ed(0x269)];constructor(_0x314cea,_0x1e0a96){const _0x1aa44c=_0x5d07ed;super(_0x1aa44c(0x714)+_0x314cea+':\x20'+_0x31a838[_0x1aa44c(0x58c)](_0x314cea)+_0x1aa44c(0x603)+JSON[_0x1aa44c(0x537)](_0x1e0a96)),this[_0x1aa44c(0x41f)]=_0x314cea,this[_0x1aa44c(0x269)]=_0x1e0a96||{};}}var _0x459e26,_0x3c562e,_0x553e08,_0x3d6eee,_0x150245,_0x772a3e;!function(_0x4c1ec5){const _0x9ee090=_0x5d07ed;_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x49a)]=0x0]=_0x9ee090(0x49a),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x666)]=0x1]=_0x9ee090(0x666),_0x4c1ec5[_0x4c1ec5['SubscribeMediaStream']=0x2]=_0x9ee090(0x33c),_0x4c1ec5[_0x4c1ec5['UpdateMediaStream']=0x3]=_0x9ee090(0x77c),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x6b8)]=0x4]=_0x9ee090(0x6b8),_0x4c1ec5[_0x4c1ec5['CloseObjectStoreBucket']=0x5]=_0x9ee090(0x5bf),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x791)]=0x6]=_0x9ee090(0x791),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x682)]=0x7]='ClosePubSubTopic',_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x2c3)]=0x8]=_0x9ee090(0x2c3),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x46c)]=0x9]=_0x9ee090(0x46c),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x305)]=0xa]=_0x9ee090(0x305),_0x4c1ec5[_0x4c1ec5['RequestSyncKeyValueDatabase']=0xb]=_0x9ee090(0x367),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x63d)]=0xc]='SendTransactionsDump',_0x4c1ec5[_0x4c1ec5['RequestTransactionsValue']=0xd]=_0x9ee090(0x454),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x57a)]=0xe]=_0x9ee090(0x57a),_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x490)]=0xf]='ObjectStoreStats',_0x4c1ec5[_0x4c1ec5[_0x9ee090(0x3a7)]=0x10]=_0x9ee090(0x3a7);}(_0x459e26||(_0x459e26={})),function(_0x56ecbf){const _0x477b06=_0x5d07ed;_0x56ecbf[_0x477b06(0x57c)]='file-write',_0x56ecbf['FolderCreate']='folder-create',_0x56ecbf[_0x477b06(0x6b0)]=_0x477b06(0x702),_0x56ecbf[_0x477b06(0x484)]='move',_0x56ecbf[_0x477b06(0x4b6)]=_0x477b06(0x579),_0x56ecbf[_0x477b06(0x200)]='request-accepted',_0x56ecbf['RequestFileSync']=_0x477b06(0x60b),_0x56ecbf[_0x477b06(0x4aa)]=_0x477b06(0x24c);}(_0x3c562e||(_0x3c562e={})),function(_0x426919){const _0x3dc5bd=_0x5d07ed;_0x426919[_0x3dc5bd(0x51b)]='request',_0x426919[_0x3dc5bd(0x517)]=_0x3dc5bd(0x3e9);}(_0x553e08||(_0x553e08={})),function(_0x2aca4d){const _0x47959a=_0x5d07ed;_0x2aca4d[_0x47959a(0x3d7)]='add',_0x2aca4d[_0x47959a(0x2d4)]='update',_0x2aca4d[_0x47959a(0x6b0)]=_0x47959a(0x702);}(_0x3d6eee||(_0x3d6eee={})),function(_0x1e3598){const _0x2c540b=_0x5d07ed;_0x1e3598[_0x2c540b(0x2c6)]=_0x2c540b(0x58c),_0x1e3598[_0x2c540b(0x22f)]=_0x2c540b(0x720),_0x1e3598[_0x2c540b(0x3c8)]='count';}(_0x150245||(_0x150245={})),function(_0x2daac0){const _0x1043d5=_0x5d07ed;_0x2daac0[_0x2daac0['PeerConnection']=0x0]=_0x1043d5(0x63e),_0x2daac0[_0x2daac0['Node']=0x1]=_0x1043d5(0x747),_0x2daac0[_0x2daac0[_0x1043d5(0x68e)]=0x2]=_0x1043d5(0x68e),_0x2daac0[_0x2daac0['Subscription']=0x3]='Subscription',_0x2daac0[_0x2daac0['Stats']=0x4]='Stats',_0x2daac0[_0x2daac0[_0x1043d5(0x2a5)]=0x5]=_0x1043d5(0x2a5),_0x2daac0[_0x2daac0['Remediation']=0x6]='Remediation';}(_0x772a3e||(_0x772a3e={}));class _0x343947{[_0x5d07ed(0x3c9)];[_0x5d07ed(0x710)];[_0x5d07ed(0x63a)];constructor(_0x17c16b,_0x32a044){const _0x473405=_0x5d07ed;this[_0x473405(0x3c9)]=_0x17c16b,this[_0x473405(0x710)]=_0x32a044;}[_0x5d07ed(0x33a)](){const _0x5afb37=_0x5d07ed;return this[_0x5afb37(0x710)];}[_0x5d07ed(0x695)](){const _0x142e08=_0x5d07ed;return this['owner'][_0x142e08(0x580)]();}['destroy'](){}['registerSystemPublisher'](_0x3feb43){this['systemTopic']=_0x3feb43;}[_0x5d07ed(0x6d2)](){const _0x398695=_0x5d07ed;delete this[_0x398695(0x63a)];}}function _0x2c4fa1(_0x773267,_0x429dc3){return'/'===_0x773267?_0x773267+_0x429dc3:_0x773267+'/'+_0x429dc3;}function _0x6d9c14(_0x2b4053){const _0x412c78=_0x5d07ed,_0x313b8b=function(_0x336ec){const _0x593c84=a0_0x3365;return _0x336ec['split']('/')['filter'](_0x3cf436=>_0x3cf436[_0x593c84(0x57d)]>0x0);}(_0x2b4053),_0x35531c=_0x313b8b[_0x412c78(0x223)]()||'',_0x25f018=_0x313b8b['join']('/');return[0x0===_0x25f018['length']?'/':_0x25f018,_0x35531c];}async function _0x433d7b(_0xaf327f){const _0x27b2a0=_0x5d07ed,_0x10df7e=await _0xaf327f['arrayBuffer'](),_0x216c7f=new Uint8Array(_0x10df7e);let _0x4b1261=0x0;for(const _0x53bb16 of _0x216c7f)_0x4b1261+=_0x53bb16;return _0x4b1261[_0x27b2a0(0x346)]();}function _0x47812c(_0x34b6bd){return new Promise((_0x55e366,_0x354dba)=>{!function(_0x49c21b,_0x4618aa,_0x4c08b7){let _0x3b9a4d=0x0;const _0x19a25d=[],_0x41eac8=()=>{const _0x966436=a0_0x3365;let _0x545fa7=_0x3b9a4d+0x3f800;_0x545fa7>_0x49c21b[_0x966436(0x6b1)]&&(_0x545fa7=_0x49c21b[_0x966436(0x6b1)]);let _0x427cb7=_0x49c21b[_0x966436(0x4da)](_0x3b9a4d,_0x545fa7),_0x29f598=new FileReader();_0x29f598[_0x966436(0x1fa)]=_0x550b27=>{const _0x26adca=_0x966436;_0x19a25d[_0x26adca(0x4d7)](_0x29f598[_0x26adca(0x396)]),_0x3b9a4d=_0x545fa7,_0x3b9a4d<_0x49c21b[_0x26adca(0x6b1)]?_0x41eac8():_0x4618aa(_0x19a25d);},_0x29f598['onerror']=_0x1e9a8e=>{_0x4c08b7(_0x1e9a8e);},_0x29f598['readAsArrayBuffer'](_0x427cb7);};_0x41eac8();}(_0x34b6bd,_0x55e366,_0x354dba);});}function _0x102ca6(_0x57ac24,_0x768e32,_0x4729ee){return new File(_0x57ac24,_0x768e32,{'type':_0x4729ee});}class _0x102607 extends _0x343947{['outgoingTopic'];[_0x5d07ed(0x3c3)];[_0x5d07ed(0x41a)]=new Map();[_0x5d07ed(0x54f)]=0x0;[_0x5d07ed(0x224)]=0x0;[_0x5d07ed(0x728)]=0x0;['bytesReceived']=0x0;constructor(_0x3fa296,_0x2d9dec){super(_0x3fa296,_0x2d9dec);}[_0x5d07ed(0x33a)](){const _0x3bbe78=_0x5d07ed;return this[_0x3bbe78(0x710)];}[_0x5d07ed(0x35a)](){const _0x33d381=_0x5d07ed;return this[_0x33d381(0x710)];}[_0x5d07ed(0x3cc)](){const _0x3ab345=_0x5d07ed;return _0x4b08d8['ContentType'][_0x3ab345(0x6d7)];}['getInternalStreamId'](){return this['label'];}[_0x5d07ed(0x2c5)](_0x389b3b){const _0x41436f=_0x5d07ed;if(this['outgoingTopic'])throw new _0x187b09(_0x187b09['codes'][_0x41436f(0x5a8)],{'message':_0x41436f(0x6fd)+this[_0x41436f(0x3c9)][_0x41436f(0x580)]()+_0x41436f(0x525)+this[_0x41436f(0x710)],'topic':this[_0x41436f(0x6ec)]});this[_0x41436f(0x6ec)]=_0x389b3b;}[_0x5d07ed(0x4e0)](_0x304729){const _0x39382e=_0x5d07ed;if(this['incomingTopic'])throw new _0x187b09(_0x187b09['codes'][_0x39382e(0x3ae)],{'message':_0x39382e(0x649)+this[_0x39382e(0x3c9)]['getId']()+'\x20-\x20'+this[_0x39382e(0x710)],'topic':this['incomingTopic']});this[_0x39382e(0x3c3)]=_0x304729;}[_0x5d07ed(0x65e)](){const _0x2cd0d4=_0x5d07ed;delete this[_0x2cd0d4(0x6ec)];}['unregisterSubscriber'](){delete this['incomingTopic'];}async['send'](_0x3aef9c,_0x466fb1){const _0x3b4c21=_0x5d07ed;if(this[_0x3b4c21(0x54f)]+=0x1,_0x3aef9c instanceof File){const _0x124bf4=await _0x47812c(_0x3aef9c);return this[_0x3b4c21(0x728)]+=_0x124bf4['reduce']((_0x44b9a7,_0x2074d1)=>_0x44b9a7+_0x2074d1[_0x3b4c21(0x732)],0x0),void _0x124bf4[_0x3b4c21(0x487)]((_0x34a1e9,_0x2be721)=>{const _0xcb77a0=_0x3b4c21;this['outgoingTopic']['publish']({'sourceId':this[_0xcb77a0(0x3c9)][_0xcb77a0(0x580)](),'destinationIds':_0x466fb1,'propagate':!0x0,'contentType':_0x4b08d8[_0xcb77a0(0x758)]['File'],'content':{'name':_0x3aef9c[_0xcb77a0(0x768)],'type':_0x3aef9c[_0xcb77a0(0x4ba)],'data':_0x34a1e9,'index':_0x2be721,'total':_0x124bf4['length']}});});}this['bytesSent']+=JSON['stringify'](_0x3aef9c)[_0x3b4c21(0x57d)],this[_0x3b4c21(0x6ec)]['publish']({'sourceId':this[_0x3b4c21(0x3c9)][_0x3b4c21(0x580)](),'destinationIds':_0x466fb1,'propagate':!0x0,'contentType':_0x4b08d8[_0x3b4c21(0x758)][_0x3b4c21(0x6d7)],'content':_0x3aef9c});}[_0x5d07ed(0x6e1)](_0x4b1e62){const _0x1817f9=_0x5d07ed;return this[_0x1817f9(0x3c3)][_0x1817f9(0x354)](_0x4d9573=>{const _0x101915=_0x1817f9;switch(_0x4d9573[_0x101915(0x53b)]){case _0x4b08d8[_0x101915(0x758)][_0x101915(0x6d7)]:this[_0x101915(0x224)]+=0x1,this[_0x101915(0x3d5)]+=JSON['stringify'](_0x4d9573[_0x101915(0x226)])[_0x101915(0x57d)],_0x4b1e62(_0x4d9573[_0x101915(0x510)],_0x4d9573['content']);break;case _0x4b08d8[_0x101915(0x758)][_0x101915(0x481)]:this['fileChunks'][_0x101915(0x461)](_0x4d9573[_0x101915(0x226)]['name'])||this['fileChunks']['set'](_0x4d9573[_0x101915(0x226)][_0x101915(0x768)],[]);const _0x34342d=this['fileChunks'][_0x101915(0x58c)](_0x4d9573[_0x101915(0x226)][_0x101915(0x768)]);_0x34342d[_0x4d9573[_0x101915(0x226)][_0x101915(0x56a)]]=_0x4d9573[_0x101915(0x226)]['data'],_0x34342d['length']===_0x4d9573[_0x101915(0x226)][_0x101915(0x562)]&&(this[_0x101915(0x224)]+=0x1,this[_0x101915(0x3d5)]+=_0x34342d[_0x101915(0x436)]((_0x254aca,_0x11fb15)=>_0x254aca+_0x11fb15[_0x101915(0x732)],0x0),_0x4b1e62(_0x4d9573[_0x101915(0x510)],_0x102ca6(_0x34342d,_0x4d9573[_0x101915(0x226)][_0x101915(0x768)],_0x4d9573['content']['type'])),this[_0x101915(0x41a)][_0x101915(0x702)](_0x4d9573['content'][_0x101915(0x768)]));}});}}function _0xf03f60(){const _0x1a2e50=_0x5d07ed;let _0x51df9d=[];return{'subscribe':_0x4dd964=>(_0x51df9d[_0x1a2e50(0x4d7)](_0x4dd964),()=>{const _0x2cf0f2=_0x1a2e50;_0x51df9d=_0x51df9d[_0x2cf0f2(0x759)](_0x4ee9d4=>_0x4ee9d4!==_0x4dd964);}),'publish':_0x1dcdf9=>{const _0x5223cd=_0x1a2e50;_0x51df9d[_0x5223cd(0x487)](_0xafb4fa=>_0xafb4fa(_0x1dcdf9));}};}function _0x274b6d(){let _0x510748;return{'subscribe':_0x33e331=>(_0x510748=_0x33e331,()=>{_0x510748=void 0x0;}),'publish':_0x45d740=>{_0x510748&&_0x510748(_0x45d740);}};}class _0x24e30b{[_0x5d07ed(0x513)];[_0x5d07ed(0x6aa)];['tableObserver'];[_0x5d07ed(0x405)]=_0x274b6d();[_0x5d07ed(0x49b)];constructor(_0x588c1f,_0x20bbfa,_0x4d2f30){const _0x50c811=_0x5d07ed;this[_0x50c811(0x513)]=_0x588c1f,this[_0x50c811(0x6aa)]=_0x20bbfa,this[_0x50c811(0x225)]=_0x4d2f30;}[_0x5d07ed(0x535)](){const _0x4e17be=_0x5d07ed;this[_0x4e17be(0x49b)]?.();}async[_0x5d07ed(0x58c)](_0x13a347){const _0x2ec03c=_0x5d07ed,_0x2b3387={'key':_0x13a347,'tableName':this[_0x2ec03c(0x6aa)],'action':_0x150245[_0x2ec03c(0x2c6)]};return this[_0x2ec03c(0x225)][_0x2ec03c(0x3f9)](_0x2b3387),this[_0x2ec03c(0x513)][_0x2ec03c(0x58c)](_0x13a347);}async[_0x5d07ed(0x518)](_0x44d582,_0x2551e1,_0x3252e5=!0x0){const _0xdb1aac=_0x5d07ed;this[_0xdb1aac(0x75b)](_0x2551e1);const _0x8d81b7=await this['connector'][_0xdb1aac(0x58c)](_0x44d582),_0x2cdd16=await this[_0xdb1aac(0x513)][_0xdb1aac(0x518)](_0x44d582,_0x2551e1),_0x5b72cc=_0x8d81b7?_0x3d6eee[_0xdb1aac(0x2d4)]:_0x3d6eee[_0xdb1aac(0x3d7)];if(this[_0xdb1aac(0x3f9)](_0x5b72cc,_0x2cdd16),!_0x3252e5)return _0x2cdd16;const _0x3706d4={'key':_0x44d582,'tableName':this[_0xdb1aac(0x6aa)],'action':_0x5b72cc,'value':_0x2cdd16};return this[_0xdb1aac(0x225)][_0xdb1aac(0x3f9)](_0x3706d4),_0x2cdd16;}async[_0x5d07ed(0x3cf)](_0x71eb4c){const _0x5eafad=_0x5d07ed;this[_0x5eafad(0x75b)](_0x71eb4c);const _0x51f890=await this['connector'][_0x5eafad(0x3cf)](_0x71eb4c),_0x149a62={'key':_0x51f890['id'],'tableName':this[_0x5eafad(0x6aa)],'action':_0x3d6eee[_0x5eafad(0x3d7)],'value':_0x51f890};return this[_0x5eafad(0x225)][_0x5eafad(0x3f9)](_0x149a62),this[_0x5eafad(0x3f9)](_0x149a62['action'],_0x51f890),_0x51f890;}async[_0x5d07ed(0x702)](_0x450f3c,_0x53434a=!0x0){const _0x4c8ee5=_0x5d07ed,_0x52433a=await this[_0x4c8ee5(0x513)][_0x4c8ee5(0x58c)](_0x450f3c);if(!_0x52433a)return;await this[_0x4c8ee5(0x513)][_0x4c8ee5(0x702)](_0x450f3c);const _0x96868b=_0x3d6eee[_0x4c8ee5(0x6b0)];if(this['publish'](_0x96868b,_0x52433a),!_0x53434a)return;const _0x5af1fd={'key':_0x450f3c,'tableName':this[_0x4c8ee5(0x6aa)],'action':_0x96868b,'value':_0x52433a};this[_0x4c8ee5(0x225)][_0x4c8ee5(0x3f9)](_0x5af1fd);}async[_0x5d07ed(0x4ec)](){const _0x4a57b2=_0x5d07ed,_0x1cc180=await this[_0x4a57b2(0x720)]();for(const _0x489f30 of _0x1cc180){const _0xd05c86=_0x3d6eee['Delete'];this[_0x4a57b2(0x3f9)](_0xd05c86,_0x489f30);const _0xa16811={'key':_0x489f30['id'],'tableName':this[_0x4a57b2(0x6aa)],'action':_0xd05c86,'value':_0x489f30};this[_0x4a57b2(0x225)][_0x4a57b2(0x3f9)](_0xa16811);}return this['connector'][_0x4a57b2(0x4ec)]();}async[_0x5d07ed(0x720)](_0x459431){const _0x2b2f1a=_0x5d07ed,_0x285a2f={'key':'','tableName':this[_0x2b2f1a(0x6aa)],'action':_0x150245[_0x2b2f1a(0x22f)]};this[_0x2b2f1a(0x225)]['publish'](_0x285a2f);try{_0x459431&&(_0x459431=_0x459431 instanceof _0x4227bb?_0x459431[_0x2b2f1a(0x34c)]():_0x4227bb[_0x2b2f1a(0x687)](_0x459431)[_0x2b2f1a(0x34c)]());}catch(_0x1e2f53){throw new _0xc4bd71(_0x294755['KeyValueDatabaseInvalidQuery'],_0x2b2f1a(0x334));}try{return await this[_0x2b2f1a(0x513)][_0x2b2f1a(0x720)](_0x459431);}catch(_0xfb908f){let _0x5ad22b=_0x2b2f1a(0x334);throw _0xfb908f instanceof Error&&(_0x5ad22b=_0xfb908f[_0x2b2f1a(0x5c9)]),new _0xc4bd71(_0x294755[_0x2b2f1a(0x4e3)],_0x5ad22b);}}async[_0x5d07ed(0x6c4)](_0x4b0027){const _0x88c1a6=_0x5d07ed,_0x4e2094={'key':'','tableName':this[_0x88c1a6(0x6aa)],'action':_0x150245[_0x88c1a6(0x3c8)]};this[_0x88c1a6(0x225)][_0x88c1a6(0x3f9)](_0x4e2094);try{_0x4b0027&&(_0x4b0027=_0x4b0027 instanceof _0x4227bb?_0x4b0027[_0x88c1a6(0x34c)]():_0x4227bb['buildQuery'](_0x4b0027)[_0x88c1a6(0x34c)]());}catch(_0x1005cd){throw new _0xc4bd71(_0x294755['KeyValueDatabaseInvalidQuery'],_0x88c1a6(0x334));}try{return await this['connector'][_0x88c1a6(0x6c4)](_0x4b0027);}catch(_0x3a5b2c){let _0x511302=_0x88c1a6(0x334);throw _0x3a5b2c instanceof Error&&(_0x511302=_0x3a5b2c[_0x88c1a6(0x5c9)]),new _0xc4bd71(_0x294755[_0x88c1a6(0x4e3)],_0x511302);}}[_0x5d07ed(0x48f)](){const _0x10e4a9=_0x5d07ed;return this[_0x10e4a9(0x513)][_0x10e4a9(0x48f)]();}['subscribe'](_0x1ca6e7){const _0x2ed9f1=_0x5d07ed;this['listenerUnsubscriber']=this[_0x2ed9f1(0x405)][_0x2ed9f1(0x354)](_0x1ca6e7);}[_0x5d07ed(0x751)](){this['listenerUnsubscriber']?.();}[_0x5d07ed(0x3f9)](_0x49d03c,_0x39a6e4){const _0x4b5dc1=_0x5d07ed,_0x52f4c2=this[_0x4b5dc1(0x27a)](_0x49d03c,_0x39a6e4);this[_0x4b5dc1(0x405)][_0x4b5dc1(0x3f9)](_0x52f4c2);}[_0x5d07ed(0x27a)](_0xbe86eb,_0x211576){const _0x36c635=_0x5d07ed;let _0x4889b3;switch(_0xbe86eb){case _0x3d6eee[_0x36c635(0x3d7)]:_0x4889b3=_0x36c635(0x3cf);break;case _0x3d6eee[_0x36c635(0x2d4)]:_0x4889b3=_0x36c635(0x363);break;case _0x3d6eee[_0x36c635(0x6b0)]:_0x4889b3=_0x36c635(0x702);}return{'action':_0x4889b3,'value':_0x211576};}[_0x5d07ed(0x75b)](_0x2e8a90){const _0x189c56=_0x5d07ed;if(_0x189c56(0x3be)!=typeof _0x2e8a90||null===_0x2e8a90)throw new _0xc4bd71(_0x294755[_0x189c56(0x358)],_0x189c56(0x6b7));for(const _0x40c0c0 in _0x2e8a90){const _0x5d4b1a=_0x2e8a90[_0x40c0c0];if(_0x189c56(0x3be)!=typeof _0x5d4b1a||_0x5d4b1a instanceof Date){if(![_0x189c56(0x6bf),_0x189c56(0x4d8),'boolean'][_0x189c56(0x610)](typeof _0x5d4b1a))throw new _0xc4bd71(_0x294755[_0x189c56(0x358)],_0x189c56(0x3a1)+_0x40c0c0+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this['validateValue'](_0x5d4b1a);}}}const _0x3ca65a=require('firebase/app'),_0x55bfb9=require('firebase/auth'),_0x49a3fa=require('firebase/database'),_0x4200eb=require('firebase/firestore'),_0xa76dc0=require('firebase/functions');let _0x2876b3=_0x31d11c(0x14d)['O'];function _0x1a2593(_0x59856a){const _0x1efae5=_0x5d07ed;return!(!_0x59856a||_0x1efae5(0x3be)!=typeof _0x59856a||Array[_0x1efae5(0x4ea)](_0x59856a));}_0x2876b3=function _0x2dcb17(_0x5c4a9d,..._0x4a56ce){const _0x10123f=_0x5d07ed;if(!Array[_0x10123f(0x4ea)](_0x4a56ce)||0x0===_0x4a56ce[_0x10123f(0x57d)])return _0x5c4a9d;const _0x2a7196=_0x4a56ce['shift']();if(_0x1a2593(_0x5c4a9d)&&_0x1a2593(_0x2a7196)){for(const _0x281c66 in _0x2a7196)_0x1a2593(_0x2a7196[_0x281c66])?(_0x5c4a9d[_0x281c66]||Object[_0x10123f(0x581)](_0x5c4a9d,{[_0x281c66]:{}}),_0x2dcb17(_0x5c4a9d[_0x281c66],_0x2a7196[_0x281c66])):Object[_0x10123f(0x581)](_0x5c4a9d,{[_0x281c66]:_0x2a7196[_0x281c66]});}return _0x2dcb17(_0x5c4a9d,..._0x4a56ce);}(_0x2876b3,_0x31d11c(0x3e6)['O']);const _0x1cb6aa=_0x2876b3;class _0x4777c2{static ['instance'];[_0x5d07ed(0x312)];['auth'];['functions'];[_0x5d07ed(0x4c7)];[_0x5d07ed(0x429)];['clockSkew'];constructor(){}static[_0x5d07ed(0x744)](){const _0x56a95f=_0x5d07ed;return _0x4777c2['instance']||(_0x4777c2[_0x56a95f(0x43d)]=new _0x4777c2()),_0x4777c2['instance'];}[_0x5d07ed(0x6a4)](){const _0x1efef6=_0x5d07ed;return this[_0x1efef6(0x312)]||(this[_0x1efef6(0x312)]=(0x0,_0x3ca65a[_0x1efef6(0x722)])(_0x1cb6aa['firebaseConfig'])),this[_0x1efef6(0x312)];}['getAuth'](){const _0x461c08=_0x5d07ed;return this[_0x461c08(0x3f4)]||(this[_0x461c08(0x3f4)]=(0x0,_0x55bfb9[_0x461c08(0x755)])(this[_0x461c08(0x6a4)]())),this[_0x461c08(0x3f4)];}[_0x5d07ed(0x6ba)](){const _0x5dbdc3=_0x5d07ed;return this[_0x5dbdc3(0x631)]||(this[_0x5dbdc3(0x631)]=(0x0,_0xa76dc0[_0x5dbdc3(0x6ba)])(this[_0x5dbdc3(0x6a4)](),_0x1cb6aa['firebaseConfig'][_0x5dbdc3(0x2bc)])),this[_0x5dbdc3(0x631)];}[_0x5d07ed(0x2ab)](){const _0x33e72c=_0x5d07ed;return this[_0x33e72c(0x4c7)]||(this[_0x33e72c(0x4c7)]=(0x0,_0x49a3fa[_0x33e72c(0x2ab)])(this[_0x33e72c(0x6a4)]())),this[_0x33e72c(0x4c7)];}[_0x5d07ed(0x6ab)](){const _0x14f594=_0x5d07ed;return this[_0x14f594(0x429)]||(this[_0x14f594(0x429)]=(0x0,_0x4200eb[_0x14f594(0x6ab)])(this[_0x14f594(0x6a4)]())),this[_0x14f594(0x429)];}async['getEstimatedTimestamp'](){const _0x388cc1=_0x5d07ed;if(this[_0x388cc1(0x5ec)])return Date[_0x388cc1(0x58e)]()+this['clockSkew'];const _0x28c703=this[_0x388cc1(0x2ab)](),_0xfed886=(0x0,_0x49a3fa['ref'])(_0x28c703,'.info/connected'),_0x3c3430=(0x0,_0x49a3fa['onValue'])(_0xfed886,_0x4c08e8=>{const _0x480633=_0x388cc1;!0x1===_0x4c08e8[_0x480633(0x6be)]()&&(_0x3c3430(),delete this[_0x480633(0x5ec)]);}),_0x5a394f=(0x0,_0x49a3fa[_0x388cc1(0x274)])(_0x28c703,'.info/serverTimeOffset');return new Promise(_0x137700=>{const _0x9133b8=_0x388cc1;(0x0,_0x49a3fa[_0x9133b8(0x69e)])(_0x5a394f,_0x4ae4b3=>{const _0x3d4120=_0x9133b8;(0x0,_0x49a3fa[_0x3d4120(0x3e0)])(_0x5a394f),this[_0x3d4120(0x5ec)]=_0x4ae4b3['val'](),_0x137700(Date[_0x3d4120(0x58e)]()+(this[_0x3d4120(0x5ec)]??0x0));});});}}const _0x8536d0=_0x4777c2[_0x5d07ed(0x744)]();class _0x4d1bd9{static [_0x5d07ed(0x43d)];[_0x5d07ed(0x504)]=[_0x4f0e27[_0x5d07ed(0x4a0)]];['debugEnabled']=!0x0;['loggingConnectors'];[_0x5d07ed(0x441)]='';[_0x5d07ed(0x642)];constructor(){const _0x182242=_0x5d07ed;if(_0x182242(0x630)!=typeof window)this[_0x182242(0x642)]=window;else{if(void 0x0===_0x31d11c['g'])throw new Error(_0x182242(0x231));this[_0x182242(0x642)]=_0x31d11c['g'];}this[_0x182242(0x613)](),this[_0x182242(0x642)][_0x182242(0x6e2)]=_0x249986=>{const _0x50e9c9=_0x182242;if(_0x249986===_0x4f0e27[_0x50e9c9(0x554)])return this[_0x50e9c9(0x504)]=Object['keys'](_0x4f0e27)['map'](_0x138928=>_0x4f0e27[_0x138928]),void Object['keys'](_0x4f0e27)['forEach'](_0x136e1c=>{const _0x2d4533=_0x50e9c9,_0x21417b=_0x136e1c;localStorage[_0x2d4533(0x1f3)](_0x2d4533(0x4f2)+_0x4f0e27[_0x21417b],'true');});this[_0x50e9c9(0x504)][_0x50e9c9(0x610)](_0x249986)||(this['enabledChannels'][_0x50e9c9(0x4d7)](_0x249986),localStorage[_0x50e9c9(0x1f3)](_0x50e9c9(0x4f2)+_0x249986,_0x50e9c9(0x49c)));},this[_0x182242(0x642)]['crewdleSDKDisableLogging']=_0x3ccf24=>{const _0x446379=_0x182242;if(!_0x3ccf24||_0x3ccf24===_0x4f0e27[_0x446379(0x554)])return this[_0x446379(0x504)]=[],void Object[_0x446379(0x370)](_0x4f0e27)['forEach'](_0x1bb6f9=>{const _0x1da239=_0x446379,_0x14d64e=_0x1bb6f9;localStorage[_0x1da239(0x5a0)](_0x1da239(0x4f2)+_0x4f0e27[_0x14d64e]);});this[_0x446379(0x504)][_0x446379(0x610)](_0x3ccf24)&&(this[_0x446379(0x504)]=this[_0x446379(0x504)][_0x446379(0x759)](_0xff0c30=>_0xff0c30!==_0x3ccf24),localStorage['removeItem']('crewdle-sdk-logging-'+_0x3ccf24));},this[_0x182242(0x642)]['crewdleSDKLoggingChannels']=_0x4f0e27;}static[_0x5d07ed(0x744)](){const _0x3b88e8=_0x5d07ed;try{return _0x4d1bd9['instance']||(_0x4d1bd9[_0x3b88e8(0x43d)]=new _0x4d1bd9()),_0x4d1bd9[_0x3b88e8(0x43d)];}catch(_0x2e0136){return console['error'](_0x3b88e8(0x5a3),_0x2e0136),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}[_0x5d07ed(0x3e6)](_0x22a4e8){const _0x56312b=_0x5d07ed;this[_0x56312b(0x441)]=_0x22a4e8;}[_0x5d07ed(0x232)](_0x1c2129){this['loggingConnectors']=_0x1c2129;}[_0x5d07ed(0x3c0)](_0x5e6018,..._0x9a6476){const _0x545e1d=_0x5d07ed;this[_0x545e1d(0x6c9)]&&this[_0x545e1d(0x59a)](_0x4f0e27[_0x545e1d(0x4a0)],_0x545e1d(0x56f)+_0x5e6018,..._0x9a6476);}['log'](_0x67df73,_0x1f34e0,..._0x2d2afe){const _0x722604=_0x5d07ed;_0x1cb6aa[_0x722604(0x2d8)]||(this['enabledChannels'][_0x722604(0x610)](_0x67df73)&&console[_0x722604(0x59a)](_0x722604(0x264)+_0x67df73+'\x27\x0a',new Date()+'\x0a',_0x1f34e0,..._0x2d2afe),this['loggingConnectors']&&this['loggingConnectors']['forEach'](_0x3f7ae9=>{const _0x4ffb22=_0x722604;this[_0x4ffb22(0x36d)](_0x3f7ae9)&&_0x3f7ae9[_0x4ffb22(0x47b)]()[_0x4ffb22(0x610)](_0x67df73)&&_0x3f7ae9[_0x4ffb22(0x59a)](_0x1f34e0,{'vendorId':this[_0x4ffb22(0x441)],'nodeId':'','nodeType':'','data':{'channel':_0x67df73,..._0x2d2afe}});}));}[_0x5d07ed(0x625)](_0x24ade9,_0x1d2879,..._0x1e36bf){const _0x2a26c9=_0x5d07ed;_0x1cb6aa['isProduction']||(this[_0x2a26c9(0x504)]['includes'](_0x24ade9)&&console[_0x2a26c9(0x59a)](_0x1d2879,..._0x1e36bf),this[_0x2a26c9(0x767)]&&this[_0x2a26c9(0x767)]['forEach'](_0x2dc17c=>{const _0x36f3c5=_0x2a26c9;this[_0x36f3c5(0x36d)](_0x2dc17c)&&_0x2dc17c[_0x36f3c5(0x47b)]()[_0x36f3c5(0x610)](_0x24ade9)&&_0x2dc17c[_0x36f3c5(0x59a)](_0x1d2879,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x24ade9,..._0x1e36bf}});}));}[_0x5d07ed(0x468)](_0x1bc418,_0x4f70c8){const _0x2027f7=_0x5d07ed;if(this[_0x2027f7(0x767)]){const _0x57577f={'vendorId':this['vendorId'],..._0x4f70c8};this[_0x2027f7(0x767)][_0x2027f7(0x487)](_0x2ba9a0=>{const _0x2e522c=_0x2027f7;_0x2ba9a0[_0x2e522c(0x59a)](_0x1bc418,_0x57577f);});}}[_0x5d07ed(0x4c5)](_0x539875,_0x4aae40){const _0x466640=_0x5d07ed;(0x0,_0x4200eb[_0x466640(0x775)])((0x0,_0x4200eb[_0x466640(0x2dc)])(_0x8536d0[_0x466640(0x6ab)](),'developers/'+this[_0x466640(0x441)]+_0x466640(0x5bd)),{..._0x4aae40,'service':_0x539875,'timestamp':(0x0,_0x4200eb[_0x466640(0x645)])()});}['logStorage'](_0x9b8ad8,_0x5cfafd,_0x294db2){const _0x932c3e=_0x5d07ed;(0x0,_0x4200eb['setDoc'])((0x0,_0x4200eb[_0x932c3e(0x601)])(_0x8536d0[_0x932c3e(0x6ab)](),_0x932c3e(0x558)+this[_0x932c3e(0x441)]+'/'+_0x9b8ad8+'/'+_0x5cfafd),{'storage':_0x294db2,'timestamp':(0x0,_0x4200eb[_0x932c3e(0x645)])()});}[_0x5d07ed(0x2a2)](_0x12c308,_0x78c97c,..._0x436ca4){const _0x635e0b=_0x5d07ed;if(console[_0x635e0b(0x2a2)](new Date(),_0x12c308,_0x78c97c,..._0x436ca4),this[_0x635e0b(0x767)]){const _0x307f23={'vendorId':this['vendorId'],..._0x78c97c};this['loggingConnectors']['forEach'](_0x1ef6e1=>{_0x1ef6e1['error'](_0x12c308,_0x307f23);});}}[_0x5d07ed(0x5d3)](_0x38a1cb,_0x35f7a6,..._0x3ccfd5){const _0xe8beb7=_0x5d07ed;if(console[_0xe8beb7(0x32a)](new Date(),_0x38a1cb,_0x35f7a6,_0x3ccfd5),this[_0xe8beb7(0x767)]){const _0x3d6ef5={'vendorId':this['vendorId'],..._0x35f7a6};this[_0xe8beb7(0x767)][_0xe8beb7(0x487)](_0x2d0729=>{const _0x39fa4b=_0xe8beb7;_0x2d0729[_0x39fa4b(0x32a)](_0x38a1cb,_0x3d6ef5);});}}['isChannelEnabled'](_0x29a529){const _0xa7b8a6=_0x5d07ed;return this[_0xa7b8a6(0x504)][_0xa7b8a6(0x610)](_0x29a529);}[_0x5d07ed(0x613)](){const _0x4b58ba=_0x5d07ed;try{Object[_0x4b58ba(0x370)](_0x4f0e27)['forEach'](_0x594105=>{const _0x1a80ca=_0x4b58ba,_0x441c7f=_0x594105;localStorage[_0x1a80ca(0x5ef)]('crewdle-sdk-logging-'+_0x4f0e27[_0x441c7f])&&(console[_0x1a80ca(0x59a)]('LoggingService:\x20logging\x20enabled\x20for',_0x4f0e27[_0x441c7f]),this[_0x1a80ca(0x504)][_0x1a80ca(0x4d7)](_0x4f0e27[_0x441c7f]));});}catch(_0x47e161){}}[_0x5d07ed(0x36d)](_0x53855c){const _0xb16f2a=_0x5d07ed;return void 0x0!==_0x53855c[_0xb16f2a(0x47b)];}}const _0x218f12=_0x4d1bd9['getInstance']();class _0x37dbd8 extends _0x102607{[_0x5d07ed(0x67d)];[_0x5d07ed(0x316)];[_0x5d07ed(0x441)];['db'];[_0x5d07ed(0x4e2)];[_0x5d07ed(0x5ed)]=new Map();[_0x5d07ed(0x225)];['transactionTable'];[_0x5d07ed(0x33e)];[_0x5d07ed(0x324)];[_0x5d07ed(0x670)];[_0x5d07ed(0x333)]=[];[_0x5d07ed(0x495)]=()=>{};[_0x5d07ed(0x37b)];[_0x5d07ed(0x405)]=_0x274b6d();[_0x5d07ed(0x49b)];[_0x5d07ed(0x1fe)]=[];[_0x5d07ed(0x70d)];['debounceStats'];['writes']=0x0;[_0x5d07ed(0x220)]=0x0;constructor(_0xc29875,_0x311a52,_0x2c8a00,_0x201816,_0x8784a0,_0x594c86){const _0x6ae242=_0x5d07ed;if('string'!=typeof _0x311a52)throw new _0xc4bd71(_0x294755[_0x6ae242(0x4eb)],_0x6ae242(0x2be));if(super(_0xc29875,_0x311a52),this[_0x6ae242(0x67d)]=_0xc29875,this[_0x6ae242(0x316)]=_0x2c8a00,this[_0x6ae242(0x441)]=_0x201816,this[_0x6ae242(0x4e2)]=_0x6ae242(0x327)+this[_0x6ae242(0x441)]+_0x6ae242(0x327)+this[_0x6ae242(0x316)]+_0x6ae242(0x327)+this['label'],this[_0x6ae242(0x225)]=_0x274b6d(),this[_0x6ae242(0x324)]=new Promise(_0x38a7c6=>{const _0x40bc69=_0x6ae242;this[_0x40bc69(0x670)]=_0x38a7c6;}),_0x8784a0 instanceof _0x3b9811)this['layout']=_0x8784a0[_0x6ae242(0x5be)]();else{const [_0x10714d,_0x5c18ca]=_0x3b9811[_0x6ae242(0x6fe)](_0x8784a0);if(!_0x10714d)throw new _0xc4bd71(_0x294755[_0x6ae242(0x5a5)],_0x6ae242(0x653)+_0x5c18ca);this[_0x6ae242(0x70d)]=_0x8784a0;}this['addReservedTables'](this[_0x6ae242(0x70d)]),this['db']=new _0x594c86(this[_0x6ae242(0x4e2)],this[_0x6ae242(0x70d)]);}['getContentType'](){const _0x214164=_0x5d07ed;return _0x4b08d8[_0x214164(0x758)]['KeyValueDatabase'];}[_0x5d07ed(0x535)](){const _0x17462e=_0x5d07ed;this['db']['close'](),this[_0x17462e(0x33e)]?.(),clearTimeout(this[_0x17462e(0x641)]),delete this['debounceStats'],super[_0x17462e(0x535)]();}[_0x5d07ed(0x6d1)](){const _0x52c188=_0x5d07ed;this[_0x52c188(0x63a)][_0x52c188(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x52c188(0x68e)],'content':{'type':_0x459e26[_0x52c188(0x791)],'label':this[_0x52c188(0x710)]}});}[_0x5d07ed(0x27b)](_0x4afba6){const _0x24c04b=_0x5d07ed,_0x4dc085=this['tables']['get'](_0x4afba6);if(_0x4dc085)return _0x4dc085;try{if(!this['db'][_0x24c04b(0x472)](_0x4afba6))throw new _0xc4bd71(_0x294755['KeyValueDatabaseTableNotFound'],_0x24c04b(0x23f));const _0xec88ca=new _0x24e30b(this['db'][_0x24c04b(0x34b)](_0x4afba6),_0x4afba6,this['tableObserver']);return this['tables'][_0x24c04b(0x518)](_0x4afba6,_0xec88ca),{'get':_0xec88ca[_0x24c04b(0x58c)][_0x24c04b(0x60d)](_0xec88ca),'set':_0xec88ca[_0x24c04b(0x518)][_0x24c04b(0x60d)](_0xec88ca),'add':_0xec88ca['add'][_0x24c04b(0x60d)](_0xec88ca),'delete':_0xec88ca[_0x24c04b(0x702)]['bind'](_0xec88ca),'clear':_0xec88ca[_0x24c04b(0x4ec)][_0x24c04b(0x60d)](_0xec88ca),'list':_0xec88ca[_0x24c04b(0x720)]['bind'](_0xec88ca),'count':_0xec88ca[_0x24c04b(0x6c4)]['bind'](_0xec88ca),'subscribe':_0xec88ca[_0x24c04b(0x354)]['bind'](_0xec88ca),'unsubscribe':_0xec88ca['unsubscribe'][_0x24c04b(0x60d)](_0xec88ca)};}catch(_0x348207){throw new _0xc4bd71(_0x294755[_0x24c04b(0x639)],_0x24c04b(0x39d));}}[_0x5d07ed(0x354)](_0x14b6df){const _0x159e82=_0x5d07ed;this[_0x159e82(0x49b)]=this[_0x159e82(0x405)][_0x159e82(0x354)](_0x14b6df);}[_0x5d07ed(0x751)](){const _0x2a6e82=_0x5d07ed;this[_0x2a6e82(0x49b)]?.();}async[_0x5d07ed(0x584)](){const _0xf1fa5c=_0x5d07ed,_0x4cc97=[_0x12a607,_0x88124e],_0x19d6a6=[];try{await this['db'][_0xf1fa5c(0x584)]();const _0x408001=this['db'][_0xf1fa5c(0x34b)](_0x88124e),_0x3f584e=await _0x408001[_0xf1fa5c(0x720)](),{id:_0x165f85,layout:_0xbc358a}=_0x3f584e[0x0]??{};if(_0xbc358a){for(const _0x39d7d4 in _0xbc358a)_0x4cc97[_0xf1fa5c(0x610)](_0x39d7d4)||this['db'][_0xf1fa5c(0x472)](_0x39d7d4)||_0x19d6a6[_0xf1fa5c(0x4d7)](_0x39d7d4);_0x408001[_0xf1fa5c(0x518)](_0x165f85,{'layout':this['layout']});}else _0x408001['add']({'layout':this[_0xf1fa5c(0x70d)]});}catch(_0x4b3e10){throw new _0xc4bd71(_0x294755[_0xf1fa5c(0x639)],_0x4b3e10[_0xf1fa5c(0x5c9)]||_0xf1fa5c(0x590));}this[_0xf1fa5c(0x6bc)](),this[_0xf1fa5c(0x359)](),this[_0xf1fa5c(0x66c)](),_0x19d6a6['forEach'](_0x424c5f=>this['deleteTransactionsForTable'](_0x424c5f));}async[_0x5d07ed(0x4ce)](_0x37ae65,_0x3ce888){const _0x2cab41=_0x5d07ed;_0x37ae65?(this[_0x2cab41(0x495)]=_0x3ce888,this[_0x2cab41(0x37b)]=setTimeout(_0x3ce888,_0x476f1d),this[_0x2cab41(0x63a)][_0x2cab41(0x3f9)]({'sourceId':this[_0x2cab41(0x67d)][_0x2cab41(0x580)](),'destinationIds':[_0x37ae65],'messageType':_0x772a3e[_0x2cab41(0x68e)],'content':{'type':_0x459e26[_0x2cab41(0x367)],'label':this['label']}}),await this['isSync']):setTimeout(()=>{const _0x1a3a90=_0x2cab41;this[_0x1a3a90(0x552)](),this[_0x1a3a90(0x570)]();},0x0);}async['sendTransactionsDump'](_0x1fd5da){const _0x38170d=_0x5d07ed;if(!this[_0x38170d(0x3d4)])throw new _0x187b09(_0x187b09[_0x38170d(0x545)][_0x38170d(0x2f5)]);await this[_0x38170d(0x324)];const _0x386aa5=await this['transactionTable']['list']();this[_0x38170d(0x63a)][_0x38170d(0x3f9)]({'sourceId':this[_0x38170d(0x67d)][_0x38170d(0x580)](),'destinationIds':[_0x1fd5da],'messageType':_0x772a3e[_0x38170d(0x68e)],'content':{'type':_0x459e26[_0x38170d(0x63d)],'label':this['label'],'transactions':_0x386aa5}});}async[_0x5d07ed(0x36e)](_0x3099ad,_0x4024d9){const _0x50a474=_0x5d07ed;if(!this['transactionTable'])throw new _0x187b09(_0x187b09[_0x50a474(0x545)][_0x50a474(0x2f5)]);this[_0x50a474(0x552)]();const _0x43e81a=await this[_0x50a474(0x3d4)][_0x50a474(0x720)]();for(const _0x3d8ef9 of _0x43e81a){const _0x4ec753=_0x4024d9['find'](_0x2bb033=>_0x2bb033['id']===_0x3d8ef9['id']);if(_0x4ec753&&this[_0x50a474(0x799)](_0x3d8ef9,_0x4ec753)<=0x0)continue;const [_0x184d5e,_0x455ce7]=_0x3d8ef9['id'][_0x50a474(0x6d4)]('::'),_0x4dbfe6=this[_0x50a474(0x5ed)]['get'](_0x184d5e),_0x477130=await _0x4dbfe6?.['get'](_0x455ce7);_0x3d8ef9[_0x50a474(0x4ca)]=_0x477130,this['send'](_0x3d8ef9);}for(const _0x17103d of _0x4024d9){const _0x56fed6=await this[_0x50a474(0x3d4)][_0x50a474(0x58c)](_0x17103d['id']);if(!(_0x56fed6&&this[_0x50a474(0x799)](_0x17103d,_0x56fed6)<=0x0)){if(_0x17103d['action']===_0x3d6eee[_0x50a474(0x6b0)]){const [_0x56cbd9,_0x5dffd4]=_0x17103d['id'][_0x50a474(0x6d4)]('::'),_0x12f667=this['tables'][_0x50a474(0x58c)](_0x56cbd9);await _0x12f667?.[_0x50a474(0x702)](_0x5dffd4,!0x1);}else this[_0x50a474(0x333)][_0x50a474(0x4d7)](_0x17103d['id']);}}if(0x0===this[_0x50a474(0x333)][_0x50a474(0x57d)])return this[_0x50a474(0x552)](),void this[_0x50a474(0x570)]();this['syncTimeout']=setTimeout(this[_0x50a474(0x495)],_0x476f1d),this['systemTopic']['publish']({'sourceId':this[_0x50a474(0x67d)][_0x50a474(0x580)](),'destinationIds':[_0x3099ad],'messageType':_0x772a3e[_0x50a474(0x68e)],'content':{'type':_0x459e26[_0x50a474(0x454)],'label':this[_0x50a474(0x710)],'transactionIds':this[_0x50a474(0x333)]}});}async[_0x5d07ed(0x271)](_0x95ee46,_0x3cfa8d){const _0x2ed832=_0x5d07ed;if(!this[_0x2ed832(0x3d4)])throw new _0x187b09(_0x187b09[_0x2ed832(0x545)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x34ce54 of _0x3cfa8d){const _0x459d9d=await this[_0x2ed832(0x3d4)]['get'](_0x34ce54);if(!_0x459d9d)continue;const [_0x5d1557,_0x53dfa1]=_0x34ce54[_0x2ed832(0x6d4)]('::'),_0x4c8da7=this[_0x2ed832(0x5ed)]['get'](_0x5d1557),_0x5e3f03=await _0x4c8da7?.[_0x2ed832(0x58c)](_0x53dfa1);_0x459d9d[_0x2ed832(0x4ca)]=_0x5e3f03,this[_0x2ed832(0x6a8)](_0x459d9d,[_0x95ee46]);}}async[_0x5d07ed(0x64c)](_0x240273){const _0x29c33f=_0x5d07ed;if(!this[_0x29c33f(0x3d4)])throw new _0x187b09(_0x187b09[_0x29c33f(0x545)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x120be0=await this[_0x29c33f(0x3d4)][_0x29c33f(0x58c)](_0x240273['id']);if(_0x120be0&&this['compareTransactions'](_0x240273,_0x120be0)<=0x0)return;const _0x107d68={..._0x240273};return delete _0x107d68['value'],await this[_0x29c33f(0x3d4)][_0x29c33f(0x518)](_0x240273['id'],_0x107d68),_0x240273;}[_0x5d07ed(0x799)](_0x23d638,_0x169a1d){const _0x1ef4a3=_0x5d07ed;return _0x23d638[_0x1ef4a3(0x6eb)]<_0x169a1d[_0x1ef4a3(0x6eb)]?-0x1:_0x23d638['timestamp']>_0x169a1d['timestamp']?0x1:_0x23d638[_0x1ef4a3(0x38b)]-_0x169a1d[_0x1ef4a3(0x38b)];}async[_0x5d07ed(0x4fb)](_0x5d626c){const _0xa31a40=_0x5d07ed;if(!this['transactionTable'])throw new _0x187b09(_0x187b09[_0xa31a40(0x545)][_0xa31a40(0x2f5)]);const _0x42eabf=_0x5d626c[_0xa31a40(0x6aa)]+'::'+_0x5d626c[_0xa31a40(0x788)],_0x356bed=await _0x8536d0[_0xa31a40(0x555)](),_0x48241f={'id':_0x42eabf,'priority':Math[_0xa31a40(0x5fb)](),'timestamp':_0x356bed,'action':_0x5d626c[_0xa31a40(0x3d0)]};if(await this[_0xa31a40(0x64c)](_0x48241f))return _0x48241f;}async[_0x5d07ed(0x77f)](_0x219407){const _0x5548e9=_0x5d07ed;if(!this[_0x5548e9(0x3d4)])throw new _0x187b09(_0x187b09['codes'][_0x5548e9(0x2f5)]);const _0x4d6954=_0x4227bb[_0x5548e9(0x56a)]('id')['where'](_0x5548e9(0x466),[_0x219407+'::',_0x219407+_0x5548e9(0x771)]),_0x22f786=await this[_0x5548e9(0x3d4)]['list'](_0x4d6954[_0x5548e9(0x34c)]());for(const _0x1d965f of _0x22f786)await this[_0x5548e9(0x3d4)][_0x5548e9(0x702)](_0x1d965f['id']);}['setOnMessageHandler'](){const _0x14512b=_0x5d07ed;this[_0x14512b(0x6e1)](async(_0x146796,_0x51b14e)=>{const _0x58261b=_0x14512b;if(_0x51b14e instanceof File)return;if(!await this[_0x58261b(0x64c)](_0x51b14e))return void this[_0x58261b(0x1fc)](_0x51b14e);if(!_0x51b14e['value'])throw new _0x187b09(_0x187b09[_0x58261b(0x545)][_0x58261b(0x338)]);const [_0x32af54,_0x34c6d2]=_0x51b14e['id'][_0x58261b(0x6d4)]('::'),_0x5bf4d1=this['tables']['get'](_0x32af54);if(!_0x5bf4d1)throw new _0x187b09(_0x187b09[_0x58261b(0x545)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x5bf4d1});let _0x1bda4d=0x0;switch(_0x51b14e[_0x58261b(0x3d0)]){case _0x3d6eee[_0x58261b(0x3d7)]:case _0x3d6eee[_0x58261b(0x2d4)]:{const _0x355a89=_0x5bf4d1['set'](_0x34c6d2,_0x51b14e['value'],!0x1);_0x1bda4d=JSON['stringify'](_0x51b14e[_0x58261b(0x4ca)])[_0x58261b(0x57d)],this[_0x58261b(0x333)][_0x58261b(0x610)](_0x51b14e['id'])&&this[_0x58261b(0x1fe)][_0x58261b(0x4d7)](_0x355a89);break;}case _0x3d6eee[_0x58261b(0x6b0)]:{const _0x127e3c=_0x5bf4d1[_0x58261b(0x702)](_0x34c6d2,!0x1);this[_0x58261b(0x333)]['includes'](_0x51b14e['id'])&&this[_0x58261b(0x1fe)][_0x58261b(0x4d7)](_0x127e3c);break;}}_0x218f12[_0x58261b(0x4c5)](_0x5bfa6a['KeyValueDatabase'],{'type':_0x58261b(0x4ce),'label':this[_0x58261b(0x710)],'nodeId':this[_0x58261b(0x67d)][_0x58261b(0x580)](),'nodeType':this[_0x58261b(0x67d)][_0x58261b(0x4ba)],'tableName':_0x32af54,'key':_0x34c6d2,'size':_0x1bda4d}),this[_0x58261b(0x1fc)](_0x51b14e);});}[_0x5d07ed(0x66c)](){const _0x2f098b=_0x5d07ed;this[_0x2f098b(0x33e)]=this[_0x2f098b(0x225)]['subscribe'](async _0x42674d=>{const _0xddde27=_0x2f098b;let _0x32117d=0x0;switch(_0x42674d[_0xddde27(0x3d0)]){case _0x3d6eee[_0xddde27(0x3d7)]:case _0x3d6eee['Update']:case _0x3d6eee[_0xddde27(0x6b0)]:{const _0x19a01d=await this['getTransactionFromTableWriteEvent'](_0x42674d);if(!_0x19a01d)return;_0x19a01d[_0xddde27(0x4ca)]=_0x42674d[_0xddde27(0x4ca)],this['send'](_0x19a01d),_0x32117d=JSON[_0xddde27(0x537)](_0x42674d['value'])[_0xddde27(0x57d)],this[_0xddde27(0x5fa)]+=0x1;break;}case _0x150245[_0xddde27(0x2c6)]:case _0x150245[_0xddde27(0x22f)]:case _0x150245[_0xddde27(0x3c8)]:this['reads']+=0x1;}_0x218f12[_0xddde27(0x4c5)](_0x5bfa6a['KeyValueDatabase'],{'type':_0x42674d[_0xddde27(0x3d0)],'label':this['label'],'nodeId':this[_0xddde27(0x67d)]['getId'](),'nodeType':this['localNode'][_0xddde27(0x4ba)],'tableName':_0x42674d['tableName'],'key':_0x42674d['key'],'size':_0x32117d}),this[_0xddde27(0x341)]();});}['instantiateTransactionTable'](){const _0x20be21=_0x5d07ed;this['db']&&(this[_0x20be21(0x3d4)]||(this[_0x20be21(0x3d4)]=this['db'][_0x20be21(0x34b)](_0x12a607)));}['clearSyncTimeout'](){const _0x3b4a8c=_0x5d07ed;this[_0x3b4a8c(0x37b)]&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}[_0x5d07ed(0x570)](){const _0x330bdd=_0x5d07ed;this[_0x330bdd(0x405)]['publish']({'event':_0x4b08d8['DatabaseEvent'][_0x330bdd(0x626)]}),this[_0x330bdd(0x670)]?.(!0x0),delete this[_0x330bdd(0x670)],this[_0x330bdd(0x341)]();}async[_0x5d07ed(0x524)](){const _0x5a8eaf=_0x5d07ed;await Promise[_0x5a8eaf(0x32b)](this[_0x5a8eaf(0x1fe)]),this[_0x5a8eaf(0x570)]();}[_0x5d07ed(0x1fc)](_0x4f193d){const _0x4655d5=_0x5d07ed;this[_0x4655d5(0x333)][_0x4655d5(0x610)](_0x4f193d['id'])&&(this['clearSyncTimeout'](),this['transactionsToSync']=this['transactionsToSync'][_0x4655d5(0x759)](_0x1a636f=>_0x1a636f!==_0x4f193d['id']),0x0!==this[_0x4655d5(0x333)][_0x4655d5(0x57d)]?this[_0x4655d5(0x37b)]=setTimeout(this[_0x4655d5(0x495)],_0x476f1d):this[_0x4655d5(0x524)]());}[_0x5d07ed(0x341)](){const _0x38ab9f=_0x5d07ed;this[_0x38ab9f(0x641)]&&clearTimeout(this['debounceStats']),this[_0x38ab9f(0x641)]=setTimeout(async()=>{const _0x5cc101=_0x38ab9f;delete this['debounceStats'];let _0x17fb9d=0x0;for(const _0x4554eb of this[_0x5cc101(0x5ed)][_0x5cc101(0x3ec)]())_0x17fb9d+=await _0x4554eb[_0x5cc101(0x48f)]();this['systemTopic'][_0x5cc101(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x5cc101(0x68e)],'content':{'type':_0x459e26['KeyValueDatabaseStats'],'label':this[_0x5cc101(0x710)],'stats':{'timestamp':Date[_0x5cc101(0x58e)](),'storage':_0x17fb9d,'messagesSent':this[_0x5cc101(0x54f)],'messagesReceived':this[_0x5cc101(0x224)],'bytesSent':this[_0x5cc101(0x728)],'bytesReceived':this[_0x5cc101(0x3d5)],'writes':this[_0x5cc101(0x5fa)],'reads':this[_0x5cc101(0x220)]}}}),_0x218f12[_0x5cc101(0x48a)](_0x5bfa6a[_0x5cc101(0x298)],_0x5cc101(0x327)+this['clusterId']+_0x5cc101(0x327)+this[_0x5cc101(0x710)],_0x17fb9d);},0x1388);}['addReservedTables'](_0x2e331c){const _0x26fea4=_0x5d07ed;if(_0x2e331c['tables'][_0x12a607])throw new _0xc4bd71(_0x294755[_0x26fea4(0x35c)],_0x26fea4(0x6c2)+_0x12a607+'\x27\x20reserved');if(_0x2e331c[_0x26fea4(0x5ed)][_0x88124e])throw new _0xc4bd71(_0x294755['KeyValueDatabaseTableNameReserved'],_0x26fea4(0x6c2)+_0x88124e+'\x27\x20reserved');_0x2e331c[_0x26fea4(0x5ed)][_0x12a607]={'indexes':[]},_0x2e331c[_0x26fea4(0x5ed)][_0x88124e]={'indexes':[]};}}const _0x4aaed0=require('@crewdle/mist-connector-opfs'),_0x2147aa=require('@crewdle/mist-connector-indexed-db'),_0xba9e2b=require('@crewdle/mist-connector-webrtc-browser');var _0x4ae6ff,_0x457a86,_0x2c6c4e,_0x4df541,_0x81f702,_0x2511d0,_0xdca67f,_0x3b252f,_0x131ad8;!function(_0x4fedd3){const _0x135d75=_0x5d07ed;_0x4fedd3['AudioContext']=_0x135d75(0x425),_0x4fedd3[_0x135d75(0x52d)]='AudioOutput',_0x4fedd3['AudioVolume']=_0x135d75(0x67f),_0x4fedd3[_0x135d75(0x5b8)]=_0x135d75(0x5b8),_0x4fedd3[_0x135d75(0x41b)]=_0x135d75(0x41b),_0x4fedd3[_0x135d75(0x26a)]=_0x135d75(0x26a),_0x4fedd3['Recording']=_0x135d75(0x47e),_0x4fedd3[_0x135d75(0x5d6)]=_0x135d75(0x5d6),_0x4fedd3['WebGL']=_0x135d75(0x22e),_0x4fedd3[_0x135d75(0x404)]=_0x135d75(0x404);}(_0x4ae6ff||(_0x4ae6ff={}));class _0x5b0fc3{[_0x5d07ed(0x528)];[_0x5d07ed(0x4a2)];['eventTarget'];constructor(_0x1aa3b3=new Map(),_0x51da77=new Map(),_0x385d39=new EventTarget()){const _0x2acc4e=_0x5d07ed;this[_0x2acc4e(0x528)]=_0x1aa3b3,this[_0x2acc4e(0x4a2)]=_0x51da77,this[_0x2acc4e(0x75e)]=_0x385d39;}[_0x5d07ed(0x28c)]=(_0xd91b0e,_0x67fc43)=>this['registeredListeners'][_0x5d07ed(0x461)](_0xd91b0e)?(_0x218f12['log'](_0x4f0e27[_0x5d07ed(0x1f1)],_0x5d07ed(0x5ba),{'event':_0xd91b0e,'data':_0x67fc43}),this[_0x5d07ed(0x75e)][_0x5d07ed(0x40d)](new CustomEvent(_0xd91b0e,{'detail':_0x67fc43})),!0x0):(this[_0x5d07ed(0x381)](_0xd91b0e,_0x67fc43),!0x1);['on']=(_0x2bd860,_0x4f319a)=>{const _0x2a7123=_0x5d07ed,_0x1654ae=_0x55ade0=>{const _0x201068=a0_0x3365;_0x218f12[_0x201068(0x59a)](_0x4f0e27[_0x201068(0x1f1)],_0x201068(0x30d),_0x55ade0[_0x201068(0x4ba)],_0x55ade0[_0x201068(0x519)]),_0x4f319a(_0x55ade0['detail']);};return this[_0x2a7123(0x528)]['set'](_0x2bd860,_0x1654ae),this[_0x2a7123(0x75e)][_0x2a7123(0x648)](_0x2bd860,_0x1654ae),_0x218f12[_0x2a7123(0x59a)](_0x4f0e27[_0x2a7123(0x2d0)],'Subscribing\x20to\x20an\x20event:\x20on',_0x2bd860,_0x4f319a),this['consumeBufferedEvents'](_0x2bd860),this;};['off'](_0x30e4a8){const _0x564b72=_0x5d07ed;if(!_0x30e4a8)return this[_0x564b72(0x528)][_0x564b72(0x487)]((_0x449d65,_0x34ddfe)=>{const _0xb4fc8e=_0x564b72;this[_0xb4fc8e(0x75e)][_0xb4fc8e(0x5e8)](_0x34ddfe,_0x449d65);}),void this['registeredListeners'][_0x564b72(0x4ec)]();'string'==typeof _0x30e4a8&&this['removeListener'](_0x30e4a8),Array['isArray'](_0x30e4a8)&&_0x30e4a8[_0x564b72(0x487)](_0x12dc6c=>{const _0x214524=_0x564b72;this[_0x214524(0x387)](_0x12dc6c);});}[_0x5d07ed(0x387)](_0x278dd5){const _0x26fd29=_0x5d07ed,_0x4e3635=this[_0x26fd29(0x528)][_0x26fd29(0x58c)](_0x278dd5);_0x4e3635&&(this['eventTarget'][_0x26fd29(0x5e8)](_0x278dd5,_0x4e3635),this['registeredListeners'][_0x26fd29(0x702)](_0x278dd5));}[_0x5d07ed(0x381)](_0xe9b142,_0x3b9e78){const _0x45137e=_0x5d07ed;_0x218f12[_0x45137e(0x59a)](_0x4f0e27[_0x45137e(0x1f1)],_0x45137e(0x3e3),{'event':_0xe9b142,'data':_0x3b9e78});const _0x22d17f=this[_0x45137e(0x4a2)][_0x45137e(0x58c)](_0xe9b142)||[];this[_0x45137e(0x4a2)][_0x45137e(0x518)](_0xe9b142,[..._0x22d17f,_0x3b9e78]);}[_0x5d07ed(0x4e6)](_0x2e2e41){const _0x1734ec=_0x5d07ed,_0x5b707d=this['bufferedEvents'][_0x1734ec(0x58c)](_0x2e2e41);_0x5b707d&&(_0x5b707d[_0x1734ec(0x487)](_0x2efcbb=>{const _0x343485=_0x1734ec;_0x218f12[_0x343485(0x59a)](_0x4f0e27[_0x343485(0x1f1)],_0x343485(0x608),{'event':_0x2e2e41,'data':_0x2efcbb}),this[_0x343485(0x75e)][_0x343485(0x40d)](new CustomEvent(_0x2e2e41,{'detail':_0x2efcbb}));}),this[_0x1734ec(0x4a2)][_0x1734ec(0x702)](_0x2e2e41));}}class _0x43b1de extends Error{constructor(_0x58c5ca){const _0x165226=_0x5d07ed;super(_0x165226(0x56c)+_0x58c5ca);}}!function(_0x49b110){const _0x1f2ede=_0x5d07ed;_0x49b110[_0x49b110[_0x1f2ede(0x3ea)]=0x0]=_0x1f2ede(0x3ea),_0x49b110[_0x49b110['Optimization']=0x1]=_0x1f2ede(0x4d4);}(_0x457a86||(_0x457a86={})),function(_0x42f33c){const _0x5025ed=_0x5d07ed;_0x42f33c[_0x42f33c[_0x5025ed(0x685)]=0x0]=_0x5025ed(0x685),_0x42f33c[_0x42f33c['Answer']=0x1]=_0x5025ed(0x2af),_0x42f33c[_0x42f33c['Handshake']=0x2]=_0x5025ed(0x3e7),_0x42f33c[_0x42f33c[_0x5025ed(0x296)]=0x3]=_0x5025ed(0x296),_0x42f33c[_0x42f33c[_0x5025ed(0x473)]=0x4]='NeedRestart',_0x42f33c[_0x42f33c[_0x5025ed(0x4ef)]=0x5]=_0x5025ed(0x4ef),_0x42f33c[_0x42f33c[_0x5025ed(0x21e)]=0x6]=_0x5025ed(0x21e),_0x42f33c[_0x42f33c[_0x5025ed(0x5e0)]=0x7]=_0x5025ed(0x5e0),_0x42f33c[_0x42f33c[_0x5025ed(0x471)]=0x8]=_0x5025ed(0x471);}(_0x2c6c4e||(_0x2c6c4e={})),function(_0x5b3bcc){const _0x4ca59d=_0x5d07ed;_0x5b3bcc[_0x5b3bcc[_0x4ca59d(0x491)]=0x0]=_0x4ca59d(0x491),_0x5b3bcc[_0x5b3bcc[_0x4ca59d(0x66d)]=0x1]=_0x4ca59d(0x66d);}(_0x4df541||(_0x4df541={})),function(_0x1cba9b){_0x1cba9b['MediaStream']='media-stream';}(_0x81f702||(_0x81f702={})),function(_0x4d2cb2){const _0xdab0f2=_0x5d07ed;_0x4d2cb2[_0x4d2cb2[_0xdab0f2(0x317)]=0x0]=_0xdab0f2(0x317),_0x4d2cb2[_0x4d2cb2[_0xdab0f2(0x492)]=0x1]='NodeUpdate',_0x4d2cb2[_0x4d2cb2[_0xdab0f2(0x6ad)]=0x2]=_0xdab0f2(0x6ad),_0x4d2cb2[_0x4d2cb2[_0xdab0f2(0x2c7)]=0x3]=_0xdab0f2(0x2c7);}(_0x2511d0||(_0x2511d0={})),function(_0x52a0c2){const _0x560b8a=_0x5d07ed;_0x52a0c2[_0x52a0c2[_0x560b8a(0x398)]=0x0]=_0x560b8a(0x398),_0x52a0c2[_0x52a0c2[_0x560b8a(0x617)]=0x1]=_0x560b8a(0x617);}(_0xdca67f||(_0xdca67f={})),function(_0x441b5c){const _0x252862=_0x5d07ed;_0x441b5c[_0x252862(0x26e)]=_0x252862(0x4b4),_0x441b5c[_0x252862(0x202)]=_0x252862(0x497);}(_0x3b252f||(_0x3b252f={})),function(_0xc3c1e4){const _0x261f5e=_0x5d07ed;_0xc3c1e4[_0x261f5e(0x3d1)]=_0x261f5e(0x676),_0xc3c1e4['Bitrate']='bitrate';}(_0x131ad8||(_0x131ad8={}));const _0x285507=require('aws-amplify'),_0x5c162d=require('aws-amplify/utils'),_0x4734ca=require('@aws-amplify/api'),_0x5c624e=require('@aws-amplify/core');class _0x38bc0d{['clusterId'];[_0x5d07ed(0x67d)];[_0x5d07ed(0x40c)];constructor(_0x54dfa9,_0x5ef471,_0x3bf529){const _0x592272=_0x5d07ed;this['clusterId']=_0x54dfa9,this[_0x592272(0x67d)]=_0x5ef471,this[_0x592272(0x40c)]=_0x3bf529;}[_0x5d07ed(0x5da)](){const _0x22e5fd=_0x5d07ed;return this[_0x22e5fd(0x67d)][_0x22e5fd(0x580)]();}[_0x5d07ed(0x267)](){return this['remoteId'];}}var _0x3e0495,_0x36e0f1,_0x4453a9;function _0x5c1acf(_0x4a1b3c,_0x45c767){const _0x198cf6=_0x5d07ed;return _0x4a1b3c[_0x198cf6(0x510)]===_0x45c767;}function _0x29da2c(_0x877047,_0x19c0ff){const _0x4c00ab=_0x5d07ed;return _0x877047[_0x4c00ab(0x344)]?.[_0x4c00ab(0x610)](_0x19c0ff)??function(_0x3c526a){const _0x5563b2=_0x4c00ab;return void 0x0===_0x3c526a[_0x5563b2(0x344)];}(_0x877047);}function _0x423228(_0x1b40be,{contentType:_0x1d2807,label:_0x1a4ebd,remoteId:_0x4d0386}){return _0x1b40be+'-'+_0x1d2807+'-'+_0x1a4ebd+'-'+_0x4d0386;}function _0x4a534b(_0x23a1d7,_0x3811b8,_0x5a39e8){return''+_0x23a1d7+_0x3811b8+_0x5a39e8;}function _0x17b956(_0x22299e){const _0x13df73=_0x5d07ed;return _0x22299e===_0x36e0f1[_0x13df73(0x5d8)]?_0x13df73(0x703):_0x13df73(0x678);}function _0x1d0f4e(_0x25cad6,_0x2c1be9){const _0x319965=_0x5d07ed;return{'label':_0x25cad6[_0x319965(0x47f)](),'contentType':_0x25cad6['getContentType'](),'remoteId':_0x2c1be9[_0x319965(0x267)](),'supportsContentType':_0x2c1be9['getSupportedContentTypes']()['includes'](_0x25cad6['getContentType']())};}!function(_0x4df0b3){const _0x3ac233=_0x5d07ed;_0x4df0b3[_0x4df0b3['Waiting']=0x0]=_0x3ac233(0x311),_0x4df0b3[_0x4df0b3[_0x3ac233(0x54a)]=0x1]=_0x3ac233(0x54a),_0x4df0b3[_0x4df0b3[_0x3ac233(0x4db)]=0x2]=_0x3ac233(0x4db);}(_0x3e0495||(_0x3e0495={})),function(_0x6b3569){const _0x45d1d=_0x5d07ed;_0x6b3569['Incoming']='in',_0x6b3569[_0x45d1d(0x6e6)]='out';}(_0x36e0f1||(_0x36e0f1={}));class _0x51f0ce{[_0x5d07ed(0x4cf)];[_0x5d07ed(0x4d9)];constructor(_0x4933e9,_0x59b5a0){const _0x147218=_0x5d07ed;this[_0x147218(0x4cf)]=_0x4933e9,this[_0x147218(0x4d9)]=_0x59b5a0;}[_0x5d07ed(0x3f7)](_0x2ce998){const _0x141730=_0x5d07ed;this[_0x141730(0x4cf)](_0x2ce998);}async['wait'](){await this['retryCallback']();}}class _0x5f2ad0{['callback'];[_0x5d07ed(0x4d9)];constructor(_0x4a10b7,_0x24d03b){const _0x150f82=_0x5d07ed;this[_0x150f82(0x4cf)]=_0x4a10b7,this[_0x150f82(0x4d9)]=_0x24d03b;}async[_0x5d07ed(0x3f7)](_0x2922d7){const _0x37585a=_0x5d07ed;await this[_0x37585a(0x4cf)](_0x2922d7);}async['wait'](){await this['retryCallback']();}}function _0x1e7221(_0x2e9f30=()=>{},_0x1864be=()=>!0x1,_0x132a17=()=>{}){let _0x40d877,_0x3e7774,_0x534a7b=0x0;return{get 'size'(){return _0x534a7b;},get 'head'(){return _0x40d877;},get 'tail'(){return _0x3e7774;},set 'head'(_0x2b689a){_0x40d877=_0x2b689a;},set 'tail'(_0x16d07b){_0x3e7774=_0x16d07b;},'push'(_0x8d0ce5,_0x257476=!0x0){const _0x45eb7f=a0_0x3365,_0x33abfe={'value':_0x8d0ce5};_0x257476&&_0x1864be(_0x33abfe)?_0x2e9f30():(_0x3e7774&&(_0x33abfe[_0x45eb7f(0x474)]=_0x3e7774,_0x3e7774['next']=_0x33abfe),_0x3e7774=_0x33abfe,_0x40d877||(_0x40d877=_0x33abfe),_0x534a7b+=0x1,_0x257476&&_0x2e9f30());},'pop'(){const _0x3c8ba1=a0_0x3365;if(!_0x3e7774)return;const _0x499d44=_0x3e7774[_0x3c8ba1(0x4ca)];return _0x3e7774=_0x3e7774['previous'],_0x3e7774&&delete _0x3e7774['next'],_0x3e7774||(_0x40d877=void 0x0),_0x534a7b-=0x1,_0x499d44;},'unshift'(_0xa2d136,_0x59de6e=!0x0){const _0x23851b={'value':_0xa2d136};_0x59de6e&&_0x1864be(_0x23851b)?_0x2e9f30():(_0x40d877&&(_0x40d877['previous']=_0x23851b,_0x23851b['next']=_0x40d877),_0x40d877=_0x23851b,_0x3e7774||(_0x3e7774=_0x23851b),_0x534a7b+=0x1,_0x59de6e&&_0x2e9f30());},'shift'(){const _0x4ada1e=a0_0x3365;if(!_0x40d877)return;const _0x3909d7=_0x40d877[_0x4ada1e(0x4ca)];return _0x40d877=_0x40d877[_0x4ada1e(0x6cd)],_0x40d877&&delete _0x40d877[_0x4ada1e(0x474)],_0x40d877||(_0x3e7774=void 0x0),_0x534a7b-=0x1,_0x3909d7;},'clear'(){_0x132a17(),_0x40d877=void 0x0,_0x3e7774=void 0x0,_0x534a7b=0x0;}};}function _0x12a2c8(_0xe1d2d9,_0x256d15=!0x1,_0x3f986a=()=>{},_0x368eb8=()=>!0x1,_0x28912c=()=>{}){let _0x8c5827=!0x1;const _0xa2eb78=_0x1e7221(async function(){const _0x11d4cc=a0_0x3365;if(!_0x8c5827){for(_0x8c5827=!0x0;_0xa2eb78['head'];){const _0x46668d=_0xa2eb78[_0x11d4cc(0x5c2)]();if(_0x46668d)try{_0xe1d2d9 instanceof _0x51f0ce&&_0xe1d2d9[_0x11d4cc(0x3f7)](_0x46668d),_0xe1d2d9 instanceof _0x5f2ad0&&await _0xe1d2d9[_0x11d4cc(0x3f7)](_0x46668d),_0x3f986a(_0x46668d);}catch(_0x5e11b1){_0x256d15?_0xa2eb78[_0x11d4cc(0x4d7)](_0x46668d,!0x1):_0xa2eb78[_0x11d4cc(0x4b1)](_0x46668d,!0x1),await _0xe1d2d9[_0x11d4cc(0x39c)]();}}_0x8c5827=!0x1;}},_0x368eb8,_0x28912c);return _0xa2eb78;}class _0x168cf2 extends _0x38bc0d{[_0x5d07ed(0x441)];[_0x5d07ed(0x2d1)];[_0x5d07ed(0x28f)]=_0x4734ca[_0x5d07ed(0x61f)][_0x5d07ed(0x2c8)];[_0x5d07ed(0x556)]=_0x274b6d();[_0x5d07ed(0x209)]=_0xf03f60();[_0x5d07ed(0x622)];[_0x5d07ed(0x25b)];['retryQueue']=_0x12a2c8(new _0x5f2ad0(this[_0x5d07ed(0x30c)][_0x5d07ed(0x60d)](this),this[_0x5d07ed(0x366)][_0x5d07ed(0x60d)](this)));[_0x5d07ed(0x240)];constructor(_0x52b54c,_0x1886c6,_0x1874c5,_0x43e7b6,_0x1e2868){const _0x1618d5=_0x5d07ed;super(_0x1886c6,_0x1874c5,_0x43e7b6),this[_0x1618d5(0x441)]=_0x52b54c,this[_0x1618d5(0x2d1)]=_0x1e2868;}async[_0x5d07ed(0x572)](){const _0x322a5b=_0x5d07ed;try{const _0x9f42d8=await this[_0x322a5b(0x2d1)][_0x322a5b(0x798)](),_0x2131fb={'getTokens':async()=>({'accessToken':(0x0,_0x5c624e[_0x322a5b(0x284)])(_0x9f42d8),'idToken':(0x0,_0x5c624e[_0x322a5b(0x284)])(_0x9f42d8)})};_0x285507['Amplify'][_0x322a5b(0x33b)]({'API':{'GraphQL':{'endpoint':_0x1cb6aa[_0x322a5b(0x2fc)][_0x322a5b(0x64f)],'region':_0x1cb6aa[_0x322a5b(0x2fc)]['region'],'defaultAuthMode':_0x322a5b(0x295)}}},{'Auth':{'tokenProvider':_0x2131fb}}),this['client']=(0x0,_0x4734ca[_0x322a5b(0x2a7)])(),await this['subscribe'](),this[_0x322a5b(0x25b)]=_0x5c162d[_0x322a5b(0x69c)][_0x322a5b(0x635)](_0x322a5b(0x4f1),({payload:_0xdba310})=>{const _0x2a5ff7=_0x322a5b;if(_0xdba310[_0x2a5ff7(0x277)]===_0x4734ca[_0x2a5ff7(0x5c8)]){const _0x519ba3=_0xdba310[_0x2a5ff7(0x269)];this['connectionState']=_0x519ba3[_0x2a5ff7(0x28f)],this['connectionStateListener'][_0x2a5ff7(0x3f9)](_0x519ba3[_0x2a5ff7(0x28f)]),this['connectionState']===_0x4734ca[_0x2a5ff7(0x61f)]['ConnectedPendingKeepAlive']&&(this[_0x2a5ff7(0x622)]?.[_0x2a5ff7(0x751)](),delete this[_0x2a5ff7(0x622)]),this['connectionState']===_0x4734ca[_0x2a5ff7(0x61f)][_0x2a5ff7(0x2c8)]&&(_0x218f12['error']('appsync-disconnect',{'clusterId':this['clusterId'],'nodeId':this[_0x2a5ff7(0x5da)](),'nodeType':this['localNode'][_0x2a5ff7(0x4ba)]}),this['subscribe']());}});}catch(_0x121487){_0x218f12['error'](_0x322a5b(0x668),{'clusterId':this[_0x322a5b(0x316)],'nodeId':this[_0x322a5b(0x5da)](),'nodeType':this['localNode'][_0x322a5b(0x4ba)]});}}[_0x5d07ed(0x6d1)](){const _0x3dbd36=_0x5d07ed;this[_0x3dbd36(0x40b)][_0x3dbd36(0x4ec)](),this['listenUnsubscriber']?.(),this[_0x3dbd36(0x622)]?.[_0x3dbd36(0x751)](),delete this[_0x3dbd36(0x622)];}[_0x5d07ed(0x1f6)](){const _0x431dce=_0x5d07ed;return this[_0x431dce(0x28f)]===_0x4734ca[_0x431dce(0x61f)][_0x431dce(0x407)];}['send'](_0x1f32e0){const _0x446b66=_0x5d07ed;this[_0x446b66(0x40b)][_0x446b66(0x4d7)](_0x1f32e0);}[_0x5d07ed(0x6e1)](_0x21b2ec){const _0x28a61c=_0x5d07ed;return this[_0x28a61c(0x209)][_0x28a61c(0x354)](_0x21b2ec);}['getSupportedContentTypes'](){const _0x9e31e9=_0x5d07ed;return[_0x4b08d8[_0x9e31e9(0x758)][_0x9e31e9(0x6d7)]];}async[_0x5d07ed(0x366)](){const _0x3df67b=_0x5d07ed;if(!this[_0x3df67b(0x1f6)]())return new Promise(_0x49693c=>{const _0x1884ca=_0x3df67b,_0x2660f1=this[_0x1884ca(0x556)][_0x1884ca(0x354)](_0x2e3fbf=>{const _0x4a09a1=_0x1884ca;_0x2e3fbf===_0x4734ca[_0x4a09a1(0x61f)][_0x4a09a1(0x407)]&&(_0x2660f1(),_0x49693c());});});}async['sendAction'](_0xf2bc3e){const _0x65bddd=_0x5d07ed;if(this[_0x65bddd(0x28f)]!==_0x4734ca[_0x65bddd(0x61f)]['Connected'])throw new Error(_0x65bddd(0x6de));_0xf2bc3e['destinationIds']&&0x1===_0xf2bc3e[_0x65bddd(0x344)][_0x65bddd(0x57d)]?await this['publish'](_0xf2bc3e['destinationIds'][0x0],JSON['stringify'](_0xf2bc3e)):_0x218f12[_0x65bddd(0x2a2)](_0x65bddd(0x71a),{'clusterId':this[_0x65bddd(0x316)],'nodeId':this[_0x65bddd(0x5da)](),'nodeType':this[_0x65bddd(0x67d)]['type']});}async[_0x5d07ed(0x3f9)](_0x4593b0,_0x17167c){const _0x3a4386=_0x5d07ed;if(!this[_0x3a4386(0x240)])throw new Error('AppSync\x20client\x20not\x20ready');_0x218f12['log'](_0x4f0e27[_0x3a4386(0x254)],_0x3a4386(0x4c2),this[_0x3a4386(0x5da)](),_0x17167c),await this[_0x3a4386(0x240)]['graphql']({'query':_0x3a4386(0x6a5),'variables':{'name':await this['getHash'](_0x4593b0),'data':_0x17167c}});}async[_0x5d07ed(0x354)](){const _0x1f5511=_0x5d07ed;if(this[_0x1f5511(0x622)])return;if(!this['client'])throw new Error(_0x1f5511(0x571));_0x218f12['log'](_0x4f0e27[_0x1f5511(0x254)],_0x1f5511(0x73c),this['getLocalId']());const _0x173877=await this[_0x1f5511(0x240)]['graphql']({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x1f5511(0x74e)]()},'authToken':await this['authService'][_0x1f5511(0x798)]()},{'Authorization':await this[_0x1f5511(0x2d1)][_0x1f5511(0x798)]()});this[_0x1f5511(0x622)]=_0x173877[_0x1f5511(0x354)]({'next':({data:_0x3bb9a2})=>{const _0x7666e=_0x1f5511,_0x44da59=JSON[_0x7666e(0x3ee)](_0x3bb9a2[_0x7666e(0x354)][_0x7666e(0x269)]);!_0x5c1acf(_0x44da59,this[_0x7666e(0x5da)]())&&_0x29da2c(_0x44da59,this[_0x7666e(0x5da)]())&&this[_0x7666e(0x209)]['publish'](_0x44da59);},'error':console[_0x1f5511(0x59a)]});}async[_0x5d07ed(0x74e)](_0x11d02d){const _0x581c7d=_0x5d07ed,_0x3d8c2b=await crypto[_0x581c7d(0x444)][_0x581c7d(0x5fd)]('SHA-1',new TextEncoder()[_0x581c7d(0x686)](this[_0x581c7d(0x441)]+'-'+this[_0x581c7d(0x316)]+'-'+(_0x11d02d??this[_0x581c7d(0x5da)]())));return Array[_0x581c7d(0x45d)](new Uint8Array(_0x3d8c2b))['map'](_0x247efe=>_0x247efe[_0x581c7d(0x346)](0x10)[_0x581c7d(0x58a)](0x2,'0'))[_0x581c7d(0x52f)]('');}}!function(_0x3863a5){const _0x34ac6c=_0x5d07ed;_0x3863a5[_0x3863a5[_0x34ac6c(0x3d7)]=0x0]=_0x34ac6c(0x3d7),_0x3863a5[_0x3863a5[_0x34ac6c(0x2ad)]=0x1]=_0x34ac6c(0x2ad),_0x3863a5[_0x3863a5[_0x34ac6c(0x2d4)]=0x2]=_0x34ac6c(0x2d4),_0x3863a5[_0x3863a5['RemoteAdd']=0x3]='RemoteAdd',_0x3863a5[_0x3863a5[_0x34ac6c(0x27d)]=0x4]=_0x34ac6c(0x27d);}(_0x4453a9||(_0x4453a9={}));const _0x200f3e=require('uuid'),_0x59f1df='0',_0x486a2a=_0x5d07ed(0x208),_0x62e5b1=0x3fc00;class _0x41a1d4{['clusterId'];[_0x5d07ed(0x67d)];['remoteId'];['iceServers'];[_0x5d07ed(0x3d3)];['connectionConstructor'];['connection'];[_0x5d07ed(0x797)];[_0x5d07ed(0x2aa)]=0x1;[_0x5d07ed(0x63a)];[_0x5d07ed(0x210)]=[];['pendingHandshakeCandidates']=[];[_0x5d07ed(0x2f4)];constructor(_0x5281eb,_0x1ca3ce,_0x8f6a23,_0xb3ec5e,_0xd3ebb,_0x2d6dcb){const _0x2bea94=_0x5d07ed;this[_0x2bea94(0x316)]=_0x5281eb,this[_0x2bea94(0x67d)]=_0x1ca3ce,this[_0x2bea94(0x40c)]=_0x8f6a23,this[_0x2bea94(0x77e)]=_0xb3ec5e,this['connectionType']=_0xd3ebb,this[_0x2bea94(0x5bc)]=_0x2d6dcb,this[_0x2bea94(0x4d0)]=new this['connectionConstructor']({'handshakeServers':this[_0x2bea94(0x77e)]}),this[_0x2bea94(0x774)]();}[_0x5d07ed(0x6d1)](){const _0x3f812d=_0x5d07ed;this[_0x3f812d(0x2b0)]();}[_0x5d07ed(0x4a6)](_0xb0195d){const _0x33f24d=_0x5d07ed;this[_0x33f24d(0x3d3)]=_0xb0195d;}async[_0x5d07ed(0x74b)](_0x2cd47b,_0x360451){const _0x2fb730=_0x5d07ed;if(_0x360451===this[_0x2fb730(0x2aa)])for(const _0x255224 of _0x2cd47b){if(!this[_0x2fb730(0x4d0)][_0x2fb730(0x68c)])return this[_0x2fb730(0x3c7)](_0x255224);await this[_0x2fb730(0x4d0)][_0x2fb730(0x315)](_0x255224);}}[_0x5d07ed(0x1f6)](){const _0xc3fc53=_0x5d07ed;return this[_0xc3fc53(0x5df)](),_0xc3fc53(0x5b9)===this[_0xc3fc53(0x4d0)]['connectionState']&&['connected','completed'][_0xc3fc53(0x610)](this[_0xc3fc53(0x4d0)][_0xc3fc53(0x3ce)])&&'closed'!==this['connection'][_0xc3fc53(0x30b)]&&'open'===this[_0xc3fc53(0x797)]?.['state'];}[_0x5d07ed(0x3a5)](_0x1331a7){const _0x16c35b=_0x5d07ed;this[_0x16c35b(0x63a)]=_0x1331a7;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x5d07ed(0x77d)](_0x59bd48){const _0x530cd2=_0x5d07ed;this[_0x530cd2(0x2b0)](),this[_0x530cd2(0x4d0)]=new this[(_0x530cd2(0x5bc))]({'handshakeServers':this[_0x530cd2(0x77e)]}),_0x59bd48?this[_0x530cd2(0x2aa)]=_0x59bd48:this['currentVersion']+=0x1,this[_0x530cd2(0x774)]();}['processPendingHandshakeCandidates'](){const _0x3307ee=_0x5d07ed;this[_0x3307ee(0x44e)][_0x3307ee(0x487)](_0x542001=>this[_0x3307ee(0x4d0)]['addCandidate'](_0x542001)),this[_0x3307ee(0x44e)]=[];}[_0x5d07ed(0x4a7)](_0x1771dd,_0x197b57){const _0x35afa3=_0x5d07ed;if(!this[_0x35afa3(0x63a)])throw new _0x187b09(_0x187b09[_0x35afa3(0x545)][_0x35afa3(0x548)],{'content':_0x1771dd});const _0x4d0a30={'sourceId':this[_0x35afa3(0x67d)][_0x35afa3(0x580)](),'destinationIds':[this[_0x35afa3(0x40c)]],'propagate':this['connectionType']!==_0x457a86[_0x35afa3(0x3ea)],'retry':this['connectionType']!==_0x457a86[_0x35afa3(0x3ea)],'messageType':_0x772a3e[_0x35afa3(0x63e)],'content':_0x1771dd};_0x197b57&&(_0x4d0a30[_0x35afa3(0x65f)]=_0x197b57),this[_0x35afa3(0x63a)][_0x35afa3(0x3f9)](_0x4d0a30);}[_0x5d07ed(0x774)](){const _0x403a29=_0x5d07ed;this[_0x403a29(0x4d0)]['onGatheringStateChange']=()=>{const _0xba9d11=_0x403a29;_0xba9d11(0x4f0)===this[_0xba9d11(0x4d0)][_0xba9d11(0x417)]&&this[_0xba9d11(0x210)][_0xba9d11(0x57d)]>0x0&&(this[_0xba9d11(0x2f4)]&&clearTimeout(this['handshakeDebounce']),this[_0xba9d11(0x2f4)]=setTimeout(()=>{const _0xdbfc07=_0xba9d11;delete this[_0xdbfc07(0x2f4)],this[_0xdbfc07(0x659)](),this[_0xdbfc07(0x210)]=[];},0x1f4));},this['connection'][_0x403a29(0x2ca)]=_0x48ec20=>{const _0x335b9a=_0x403a29;_0x48ec20[_0x335b9a(0x275)]&&this[_0x335b9a(0x210)][_0x335b9a(0x4d7)](_0x48ec20['candidate']);};}[_0x5d07ed(0x2b0)](){const _0x1e7cb2=_0x5d07ed;clearTimeout(this[_0x1e7cb2(0x2f4)]),delete this[_0x1e7cb2(0x2f4)],this[_0x1e7cb2(0x210)]=[],this[_0x1e7cb2(0x797)]&&(this[_0x1e7cb2(0x797)][_0x1e7cb2(0x6e1)]=null,this[_0x1e7cb2(0x797)][_0x1e7cb2(0x5b7)]=null,this[_0x1e7cb2(0x797)][_0x1e7cb2(0x6d1)](),delete this[_0x1e7cb2(0x797)]),this[_0x1e7cb2(0x4d0)][_0x1e7cb2(0x2f2)]=null,this[_0x1e7cb2(0x4d0)][_0x1e7cb2(0x2ca)]=null,this['connection']['onHandshakeStateChange']=null,this[_0x1e7cb2(0x4d0)]['onConnectionStateChange']=null,this['connection'][_0x1e7cb2(0x65a)]=null,this['connection'][_0x1e7cb2(0x65d)]=null,this[_0x1e7cb2(0x4d0)][_0x1e7cb2(0x6d1)]();}[_0x5d07ed(0x3c7)](_0x180541){const _0x44d975=_0x5d07ed;this[_0x44d975(0x44e)][_0x44d975(0x4d7)](_0x180541);}['logConnectionState'](){const _0x532c3a=_0x5d07ed;_0x218f12[_0x532c3a(0x59a)](_0x4f0e27['ConnectionState'],'Base\x20Peer\x20Connection',{'localId':this[_0x532c3a(0x67d)][_0x532c3a(0x580)](),'remoteId':this[_0x532c3a(0x40c)],'connectionState':this['connection']['connectionState'],'handshakeState':this[_0x532c3a(0x4d0)]['handshakeState'],'signalingState':this['connection'][_0x532c3a(0x30b)],'dataChannelState':this[_0x532c3a(0x797)]?.[_0x532c3a(0x453)]});}}function _0x531267(_0x52e86f,_0x2e7503){const _0x176f2a=_0x5d07ed;_0x2e7503[_0x176f2a(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x176f2a(0x63e)],'content':_0x52e86f});}class _0x2ae5fd{static [_0x5d07ed(0x43d)];[_0x5d07ed(0x6a1)]=[];constructor(){setInterval(()=>{const _0x565435=a0_0x3365;this[_0x565435(0x6a1)][_0x565435(0x487)](_0x50c9d4=>{const _0x161b19=_0x565435;if(Date[_0x161b19(0x58e)]()-_0x50c9d4['lastExecuted']>_0x50c9d4[_0x161b19(0x2bb)]){try{_0x50c9d4['callback']();}catch(_0x4b1520){}_0x50c9d4[_0x161b19(0x78e)]=Date[_0x161b19(0x58e)]();}});},0x64);}static[_0x5d07ed(0x744)](){const _0x1cc15f=_0x5d07ed;return _0x2ae5fd[_0x1cc15f(0x43d)]||(_0x2ae5fd[_0x1cc15f(0x43d)]=new _0x2ae5fd()),_0x2ae5fd[_0x1cc15f(0x43d)];}[_0x5d07ed(0x463)](_0x4eb5e4){const _0x545e05=_0x5d07ed,_0x4758d0=this[_0x545e05(0x5f6)](_0x4eb5e4),_0x1fe495=_0x4eb5e4[_0x545e05(0x706)]();_0x1fe495&&_0x4758d0&&(_0x1fe495[_0x545e05(0x739)][_0x545e05(0x4ca)]=0.001,_0x4758d0['connect'](_0x1fe495),_0x1fe495[_0x545e05(0x572)](_0x4eb5e4[_0x545e05(0x376)]),_0x4758d0[_0x545e05(0x717)]());}[_0x5d07ed(0x39c)](_0x165ec6){return new Promise(_0x563d0c=>{setTimeout(_0x563d0c,_0x165ec6);});}[_0x5d07ed(0x611)](_0x3abfa5,_0x432af9){const _0x2ad025=_0x5d07ed;return this['parameters']['push']({'callback':_0x3abfa5,'interval':_0x432af9,'lastExecuted':Date[_0x2ad025(0x58e)]()}),()=>{const _0x36e5c9=_0x2ad025;this[_0x36e5c9(0x6a1)]=this[_0x36e5c9(0x6a1)][_0x36e5c9(0x759)](_0x68b652=>_0x68b652['callback']!==_0x3abfa5);};}[_0x5d07ed(0x5f6)](_0x825aa1){const _0x17eade=_0x5d07ed;if(_0x825aa1[_0x17eade(0x5f6)])return _0x825aa1[_0x17eade(0x5f6)]();const _0x51ff3a=_0x825aa1[_0x17eade(0x424)](),_0x3386f5=_0x825aa1['createBuffer'](0x1,0x1,_0x825aa1[_0x17eade(0x349)]);return _0x3386f5['getChannelData'](0x0)[0x0]=0xa,_0x51ff3a['buffer']=_0x3386f5,_0x51ff3a[_0x17eade(0x785)]=!0x0,_0x51ff3a;}}const _0x4b6c88=_0x2ae5fd['getInstance'](),_0x25ed63=['PeerConnection','Node',_0x5d07ed(0x68e),'Subscription',_0x5d07ed(0x5e0),_0x5d07ed(0x2a5),_0x5d07ed(0x398)],_0x498296=[['Offer',_0x5d07ed(0x2af),_0x5d07ed(0x3e7),_0x5d07ed(0x296),'NeedRestart',_0x5d07ed(0x4ef),_0x5d07ed(0x21e),_0x5d07ed(0x5e0),_0x5d07ed(0x471)],[_0x5d07ed(0x317),_0x5d07ed(0x492),'NodeConnectionsUpdate',_0x5d07ed(0x2c7)],[_0x5d07ed(0x49a),'UnpublishMediaStream','SubscribeMediaStream',_0x5d07ed(0x77c),'UnsubscribeMediaStream',_0x5d07ed(0x5bf),_0x5d07ed(0x791),_0x5d07ed(0x682),_0x5d07ed(0x2c3),_0x5d07ed(0x46c),_0x5d07ed(0x305),_0x5d07ed(0x367),_0x5d07ed(0x63d),_0x5d07ed(0x454),_0x5d07ed(0x490),'KeyValueDatabaseStats'],[_0x5d07ed(0x33c),'UpdateMediaStream',_0x5d07ed(0x6b8),_0x5d07ed(0x24b),_0x5d07ed(0x313),_0x5d07ed(0x478),_0x5d07ed(0x54b),_0x5d07ed(0x578)],[_0x5d07ed(0x401),_0x5d07ed(0x5cb)],[_0x5d07ed(0x4ff)],[_0x5d07ed(0x398),'RemoteRemediation']];function _0x107c20(_0xa889e8){const _0x136b46=_0x5d07ed;return{..._0xa889e8,'systemMessageType':_0x25ed63[_0xa889e8[_0x136b46(0x5e7)]],'systemContentMessageType':_0x498296[_0xa889e8[_0x136b46(0x5e7)]][_0xa889e8[_0x136b46(0x226)]['type']]};}const _0x371732={'hour':'2-digit','minute':_0x5d07ed(0x576),'second':_0x5d07ed(0x576)};function _0x3be3b0(_0x5931d0,_0x11f884){const _0x134926=_0x5d07ed,_0x24fd06=(function(){const _0x2853f5=a0_0x3365,_0x56aef5=new Date(),_0x3b11ad=_0x56aef5[_0x2853f5(0x44c)](),_0x4dbb97=_0x56aef5[_0x2853f5(0x42b)]('en-US',_0x371732)[_0x2853f5(0x451)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x4dbb97+'.'+(_0x3b11ad>0x64?''+_0x3b11ad:_0x3b11ad>0xa?'0'+_0x3b11ad:'00'+_0x3b11ad);}()),{sourceId:_0x44cb56,destinationIds:_0x9f5edc,systemMessageType:_0x3fc73b,systemContentMessageType:_0x48e649}=_0x107c20(_0x5931d0);return _0x24fd06+_0x134926(0x525)+_0x11f884+_0x134926(0x525)+(_0x44cb56===_0x11f884?_0x134926(0x222)+_0x3fc73b+'\x27\x20to\x20'+(_0x9f5edc?''+_0x9f5edc:_0x134926(0x5dc)):_0x5931d0[_0x134926(0x510)]===_0x35e782?_0x134926(0x4d6)+_0x3fc73b+'\x27':(_0x9f5edc?'':_0x134926(0x616))+'Receiving\x20\x27'+_0x3fc73b+_0x134926(0x2f1)+_0x44cb56)+_0x134926(0x2a6)+_0x48e649+_0x134926(0x2f0);}class _0x22f05a extends _0x41a1d4{[_0x5d07ed(0x5e3)]=_0x274b6d();[_0x5d07ed(0x5cf)]=_0x274b6d();[_0x5d07ed(0x395)]=_0x274b6d();['receivers']=new Map();[_0x5d07ed(0x753)]=new Map();[_0x5d07ed(0x76c)];[_0x5d07ed(0x224)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};['bytesReceived']=0x0;['timeReceiving']=0x0;[_0x5d07ed(0x6d1)](){const _0x1fb947=_0x5d07ed;this[_0x1fb947(0x41e)](),this['receivers'][_0x1fb947(0x4ec)](),super['close']();}async[_0x5d07ed(0x320)](_0x55ef72,_0xa75a60){const _0x214f9a=_0x5d07ed;this[_0x214f9a(0x2aa)]=_0xa75a60,this[_0x214f9a(0x41e)]();const _0x1066e9=await this[_0x214f9a(0x4d0)]['createAnswer'](_0x55ef72);this[_0x214f9a(0x328)]();const _0x2696f8=(0x0,_0x200f3e['v4'])();this[_0x214f9a(0x4a7)]({'type':_0x2c6c4e[_0x214f9a(0x2af)],'answer':_0x1066e9,'version':_0xa75a60,'connectionType':this[_0x214f9a(0x3d3)]},_0x2696f8),this[_0x214f9a(0x3d3)]===_0x457a86[_0x214f9a(0x3ea)]&&(this[_0x214f9a(0x76c)]=_0x4b6c88[_0x214f9a(0x611)](()=>{const _0x282652=_0x214f9a;this[_0x282652(0x4a7)]({'type':_0x2c6c4e[_0x282652(0x2af)],'answer':_0x1066e9,'version':_0xa75a60,'connectionType':this[_0x282652(0x3d3)]},_0x2696f8);},0x1388));}[_0x5d07ed(0x5f3)](){const _0x562252=_0x5d07ed;this[_0x562252(0x41e)]();}[_0x5d07ed(0x752)](_0xd12b4d){const _0x372a08=_0x5d07ed;this[_0x372a08(0x77d)](_0xd12b4d),this[_0x372a08(0x4a7)]({'type':_0x2c6c4e['Restart']});}async[_0x5d07ed(0x389)](){const _0x4f3c71=_0x5d07ed;this[_0x4f3c71(0x63a)]&&(await this[_0x4f3c71(0x4d0)][_0x4f3c71(0x307)](this['receivers'],(_0x54cd4c,_0x2cd4e)=>{_0x531267({'type':_0x2c6c4e['Stats'],'streamId':_0x2cd4e,'nodeId':this['remoteId'],'stats':_0x54cd4c},this['systemTopic']);}),this['systemTopic'][_0x4f3c71(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e['PeerConnection'],'content':{'type':_0x2c6c4e[_0x4f3c71(0x5e0)],'nodeId':this['remoteId'],'stats':{'origin':_0x4df541[_0x4f3c71(0x66d)],'timestamp':Date[_0x4f3c71(0x58e)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x4f3c71(0x3d5)],'timeReceiving':this[_0x4f3c71(0x67b)],'systemMessages':this[_0x4f3c71(0x286)]}}}));}[_0x5d07ed(0x6e1)](_0x5e2f10){const _0x276cba=_0x5d07ed;return this[_0x276cba(0x5e3)][_0x276cba(0x354)](_0x5e2f10);}[_0x5d07ed(0x65a)](_0x1a8235){const _0x3899cc=_0x5d07ed;return this[_0x3899cc(0x5cf)][_0x3899cc(0x354)](({track:_0x14726d,stream:_0xa65142})=>_0x1a8235(_0x14726d,_0xa65142));}[_0x5d07ed(0x5c3)](_0x8b3dc5){const _0x46e75=_0x5d07ed;return this[_0x46e75(0x395)][_0x46e75(0x354)](({track:_0x130870,stream:_0x55e3ff})=>_0x8b3dc5(_0x130870,_0x55e3ff));}[_0x5d07ed(0x77d)](_0x12ad39){const _0x1ef485=_0x5d07ed;this[_0x1ef485(0x41e)](),this[_0x1ef485(0x76f)]['forEach'](_0x3c1096=>{const _0x4ae797=_0x1ef485;_0x3c1096[_0x4ae797(0x4ec)]();}),super[_0x1ef485(0x77d)](_0x12ad39);}[_0x5d07ed(0x659)](){const _0x20661c=_0x5d07ed;this[_0x20661c(0x4a7)]({'type':_0x2c6c4e[_0x20661c(0x3e7)],'candidates':this[_0x20661c(0x210)],'origin':_0x4df541['Receiver'],'version':this[_0x20661c(0x2aa)],'connectionType':this['connectionType']});}[_0x5d07ed(0x774)](){const _0x12c715=_0x5d07ed;super[_0x12c715(0x774)](),this[_0x12c715(0x4d0)][_0x12c715(0x65a)]=_0x2c664a=>{const _0x50698e=_0x12c715;_0x218f12['log'](_0x4f0e27[_0x50698e(0x262)],_0x50698e(0x55e),this[_0x50698e(0x67d)][_0x50698e(0x580)](),_0x2c664a),_0x2c664a[_0x50698e(0x4fe)][0x0][_0x50698e(0x712)]=_0x416b7c=>{const _0x596830=_0x50698e;this[_0x596830(0x76f)][_0x596830(0x58c)](_0x2c664a[_0x596830(0x4fe)][0x0]['id'])?.[_0x596830(0x702)](_0x416b7c[_0x596830(0x31d)]),0x0===this['receivers'][_0x596830(0x58c)](_0x2c664a['streams'][0x0]['id'])?.[_0x596830(0x6b1)]&&this[_0x596830(0x76f)][_0x596830(0x702)](_0x2c664a[_0x596830(0x4fe)][0x0]['id']),this['removeTrackCallback'][_0x596830(0x3f9)]({'track':_0x416b7c[_0x596830(0x31d)],'stream':_0x2c664a[_0x596830(0x4fe)][0x0]});},this['receivers']['has'](_0x2c664a[_0x50698e(0x4fe)][0x0]['id'])||this[_0x50698e(0x76f)][_0x50698e(0x518)](_0x2c664a['streams'][0x0]['id'],new Set()),this['receivers'][_0x50698e(0x58c)](_0x2c664a[_0x50698e(0x4fe)][0x0]['id'])[_0x50698e(0x3cf)](_0x2c664a[_0x50698e(0x31d)]),this[_0x50698e(0x5cf)][_0x50698e(0x3f9)]({'track':_0x2c664a[_0x50698e(0x31d)],'stream':_0x2c664a[_0x50698e(0x4fe)][0x0]});},this[_0x12c715(0x4d0)]['onDataChannel']=_0x4f5f3e=>{const _0x2d3633=_0x12c715;this[_0x2d3633(0x797)]=_0x4f5f3e[_0x2d3633(0x374)],this[_0x2d3633(0x797)][_0x2d3633(0x6e1)]=_0x428590=>{const _0x575292=_0x2d3633;if(_0x428590[_0x575292(0x269)]!==_0x59f1df)this['handleOnMessage'](_0x428590[_0x575292(0x269)]);else{if(!this[_0x575292(0x797)])return void _0x218f12[_0x575292(0x2a2)]('missing-datachannel',{'clusterId':this[_0x575292(0x316)],'nodeId':this[_0x575292(0x67d)][_0x575292(0x580)](),'nodeType':this[_0x575292(0x67d)][_0x575292(0x4ba)],'remoteId':this[_0x575292(0x40c)],'data':{'connection':_0x575292(0x792)}});if('open'!==this['dataChannel'][_0x575292(0x453)])return;this[_0x575292(0x797)][_0x575292(0x6a8)]('1');}};};}[_0x5d07ed(0x6ff)](_0x4354e9){const _0x26e618=_0x5d07ed;if(_0x26e618(0x6bf)==typeof _0x4354e9&&_0x4354e9[_0x26e618(0x671)](_0x486a2a))return this['messagesReceived']+=0x1,this[_0x26e618(0x3d5)]+=_0x4354e9['length'],this['handleChunkMessage'](_0x4354e9);setTimeout(()=>{const _0x3cea79=_0x26e618,_0x51bcd8=Date[_0x3cea79(0x58e)]();let _0xa16ea0;if((_0x4354e9 instanceof ArrayBuffer||_0x4354e9[_0x3cea79(0x57d)]<=_0x62e5b1)&&(this[_0x3cea79(0x224)]+=0x1,this[_0x3cea79(0x3d5)]+=_0x4354e9 instanceof ArrayBuffer?_0x4354e9[_0x3cea79(0x732)]:_0x4354e9[_0x3cea79(0x57d)]),_0x4354e9 instanceof ArrayBuffer){const [_0x26e32c,_0x2e58ab]=this[_0x3cea79(0x2e2)](_0x4354e9);_0xa16ea0=_0x26e32c,_0xa16ea0['content']['data']=_0x2e58ab;}else _0xa16ea0=JSON[_0x3cea79(0x3ee)](_0x4354e9);if(0x0===_0xa16ea0[_0x3cea79(0x335)]){this['systemMessagesReceived'][_0x3cea79(0x673)][_0x3cea79(0x562)]+=0x1;const {systemMessageType:_0x11a7b8,systemContentMessageType:_0x2de03e}=_0x107c20(_0xa16ea0);this['systemMessagesReceived'][_0x11a7b8]||(this['systemMessagesReceived'][_0x11a7b8]={[_0x2de03e]:0x0}),this[_0x3cea79(0x286)][_0x11a7b8][_0x2de03e]||(this[_0x3cea79(0x286)][_0x11a7b8][_0x2de03e]=0x0),this[_0x3cea79(0x286)][_0x11a7b8][_0x3cea79(0x562)]||(this[_0x3cea79(0x286)][_0x11a7b8][_0x3cea79(0x562)]=0x0),this[_0x3cea79(0x286)][_0x11a7b8][_0x2de03e]+=0x1,this[_0x3cea79(0x286)][_0x11a7b8][_0x3cea79(0x562)]+=0x1;}this[_0x3cea79(0x5e3)][_0x3cea79(0x3f9)](_0xa16ea0),this[_0x3cea79(0x67b)]+=Date[_0x3cea79(0x58e)]()-_0x51bcd8;},0x0);}[_0x5d07ed(0x5d4)](_0x6ba11a){const _0x2bda80=_0x5d07ed,_0x524bec=_0x6ba11a['split'](';'),_0x310596=_0x524bec[0x1],_0x25996f=parseInt(_0x524bec[0x2],0xa),_0x433d09=parseInt(_0x524bec[0x3],0xa),_0x376330=_0x6ba11a[_0x2bda80(0x669)](_0x486a2a+';'+_0x310596+';'+_0x25996f+';'+_0x433d09+';','');this['chunks'][_0x2bda80(0x461)](_0x310596)||this['chunks'][_0x2bda80(0x518)](_0x310596,[]);const _0xe23e77=this[_0x2bda80(0x753)][_0x2bda80(0x58c)](_0x310596);_0xe23e77[_0x25996f]=_0x376330,_0xe23e77[_0x2bda80(0x57d)]===_0x433d09&&(this[_0x2bda80(0x6ff)](_0xe23e77[_0x2bda80(0x52f)]('')),this[_0x2bda80(0x753)][_0x2bda80(0x702)](_0x310596));}[_0x5d07ed(0x41e)](){const _0x442016=_0x5d07ed;this[_0x442016(0x76c)]?.(),delete this[_0x442016(0x76c)];}[_0x5d07ed(0x59c)](_0x4b10e1){const _0x5a2795=_0x5d07ed,_0x4508f9=new TextDecoder()[_0x5a2795(0x2e6)](_0x4b10e1);return JSON['parse'](_0x4508f9);}['splitParts'](_0x29147a){const _0x1c7120=_0x5d07ed,_0x58fa52=new Uint8Array(_0x29147a[_0x1c7120(0x4da)](0x0,0x4)),_0x5334b8=new Uint32Array(_0x58fa52['buffer'])[0x0],_0x4b56fc=new Uint8Array(_0x29147a[_0x1c7120(0x4da)](0x4,0x4+_0x5334b8)),_0x1ff250=new Uint8Array(_0x29147a[_0x1c7120(0x4da)](0x4+_0x5334b8));return[this[_0x1c7120(0x59c)](_0x4b56fc[_0x1c7120(0x293)]),_0x1ff250[_0x1c7120(0x293)]];}}const _0x5d7c59=0xc350;var _0xb35492,_0x653563,_0x2b2abd,_0x12b907,_0xb2e1f2;!function(_0x209beb){const _0x15f882=_0x5d07ed;_0x209beb[_0x209beb[_0x15f882(0x2a1)]=0x0]=_0x15f882(0x2a1),_0x209beb[_0x209beb[_0x15f882(0x3f5)]=0x1]=_0x15f882(0x3f5),_0x209beb[_0x209beb['Low']=0x2]='Low';}(_0xb35492||(_0xb35492={}));class _0x2814ac extends _0x41a1d4{[_0x5d07ed(0x3a8)];[_0x5d07ed(0x577)];['senders']=new Map();[_0x5d07ed(0x20b)];['waitAnswer'];['lastHeartbeat'];[_0x5d07ed(0x75d)]=!0x1;[_0x5d07ed(0x690)];[_0x5d07ed(0x737)];[_0x5d07ed(0x292)];[_0x5d07ed(0x40b)]=function(e,t=_0xb35492,s=!0x1){const _0x40fea2=_0x5d07ed;let i=!0x1;const n=[];async function a(){const _0x45e781=a0_0x3365;if(!i){for(i=!0x0;n[_0x45e781(0x54d)](e=>e['head']);){let t,i=0x0;for(const [e,s]of n[_0x45e781(0x636)]())if(t=s[_0x45e781(0x5c2)](),i=e,t)break;if(t)try{if(e instanceof _0x51f0ce&&e[_0x45e781(0x3f7)](t),e instanceof _0x5f2ad0&&await e[_0x45e781(0x3f7)](t),n['slice'](-0x1)[_0x45e781(0x54d)](e=>e[_0x45e781(0x33d)]))continue;const s=n[_0x45e781(0x57d)]-0x1;i===s&&n[s][_0x45e781(0x33d)]&&await _0x4b6c88[_0x45e781(0x39c)](0x0);}catch(a){s?n[i][_0x45e781(0x4d7)](t,!0x1):n[i][_0x45e781(0x4b1)](t,!0x1),await e[_0x45e781(0x39c)]();}}i=!0x1;}}return Object[_0x40fea2(0x3ec)](t)[_0x40fea2(0x487)](e=>{const _0x2806f8=_0x40fea2;_0x2806f8(0x6bf)!=typeof e&&(n[e]=_0x1e7221(a));}),{'queues':n};}(new _0x51f0ce(this[_0x5d07ed(0x30c)][_0x5d07ed(0x60d)](this),this[_0x5d07ed(0x322)][_0x5d07ed(0x60d)](this)));[_0x5d07ed(0x54f)]=0x0;[_0x5d07ed(0x728)]=0x0;[_0x5d07ed(0x3e8)]=0x0;[_0x5d07ed(0x263)]=0x0;[_0x5d07ed(0x2fe)];constructor(_0x3fd4ab,_0x13caff,_0x20b98b,_0x5ec579,_0x5e70cc,_0x1ac49f,_0x5aec4d,_0x609f90){const _0x1f2720=_0x5d07ed;super(_0x3fd4ab,_0x13caff,_0x20b98b,_0x5ec579,_0x5e70cc,_0x609f90),this[_0x1f2720(0x3a8)]=_0x1ac49f,this['maxBpp']=_0x5aec4d;}[_0x5d07ed(0x6d1)](){const _0x2a61d9=_0x5d07ed;this[_0x2a61d9(0x45c)](),this[_0x2a61d9(0x76d)](),delete this['lastHeartbeat'],this[_0x2a61d9(0x66e)](),this['clearConnectionTimeout'](),this[_0x2a61d9(0x522)](),this[_0x2a61d9(0x325)][_0x2a61d9(0x4ec)](),this[_0x2a61d9(0x75d)]=!0x1,this[_0x2a61d9(0x40b)][_0x2a61d9(0x4af)][_0x2a61d9(0x487)](_0x19d1d9=>_0x19d1d9[_0x2a61d9(0x4ec)]()),this['clearOncloseTimeout'](),super[_0x2a61d9(0x6d1)]();}[_0x5d07ed(0x1f6)](){const _0x5390e7=_0x5d07ed;return!!this[_0x5390e7(0x2ae)]&&super[_0x5390e7(0x1f6)]()&&Date['now']()-this[_0x5390e7(0x2ae)]<0x3a98;}async['collectStats'](){const _0x55d29a=_0x5d07ed;this[_0x55d29a(0x63a)]&&(await this['connection'][_0x55d29a(0x2ba)](this[_0x55d29a(0x325)],(_0x5199a5,_0x2adea6)=>{const _0x2df990=_0x55d29a;_0x531267({'type':_0x2c6c4e[_0x2df990(0x5e0)],'streamId':_0x2adea6,'nodeId':this[_0x2df990(0x40c)],'stats':_0x5199a5},this[_0x2df990(0x63a)]);}),this[_0x55d29a(0x63a)][_0x55d29a(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x55d29a(0x63e)],'content':{'type':_0x2c6c4e[_0x55d29a(0x5e0)],'nodeId':this[_0x55d29a(0x40c)],'stats':{'origin':_0x4df541[_0x55d29a(0x491)],'timestamp':Date[_0x55d29a(0x58e)](),'messagesSent':this[_0x55d29a(0x54f)],'bytesSent':this['bytesSent'],'timeSending':this[_0x55d29a(0x3e8)],'roundTripTime':this[_0x55d29a(0x263)]}}}));}async['createOffer'](_0x53ff30){const _0x1fa4ba=_0x5d07ed;_0x218f12[_0x1fa4ba(0x59a)](_0x4f0e27[_0x1fa4ba(0x262)],'CrewdleSenderConnection\x20createOffer',this['localNode'][_0x1fa4ba(0x580)](),this['remoteId']),this[_0x1fa4ba(0x66e)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x1fa4ba(0x690)]=setTimeout(()=>{const _0x25e2bb=_0x1fa4ba;this[_0x25e2bb(0x41c)]();},0x7530),this['dataChannel']||(this['dataChannel']=this['connection']['createDataChannel'](_0x1fa4ba(0x269)),this['dataChannel'][_0x1fa4ba(0x2d3)]=0x10000,this[_0x1fa4ba(0x797)][_0x1fa4ba(0x5b7)]=()=>{const _0x37bfe3=_0x1fa4ba;this[_0x37bfe3(0x2fe)]=setTimeout(()=>{const _0x5bd3e0=_0x37bfe3;delete this[_0x5bd3e0(0x2fe)],['connecting',_0x5bd3e0(0x584)][_0x5bd3e0(0x610)](this[_0x5bd3e0(0x797)]?.['state']??'')||this[_0x5bd3e0(0x41c)]();},0xfa);});const _0x27516b=await this[_0x1fa4ba(0x4d0)][_0x1fa4ba(0x3e2)](_0x53ff30);this[_0x1fa4ba(0x2ae)]||(this[_0x1fa4ba(0x2ae)]=Date[_0x1fa4ba(0x58e)]());const _0x203511=(0x0,_0x200f3e['v4'])();this[_0x1fa4ba(0x4a7)]({'type':_0x2c6c4e[_0x1fa4ba(0x685)],'offer':_0x27516b,'version':this[_0x1fa4ba(0x2aa)],'connectionType':this[_0x1fa4ba(0x3d3)]},_0x203511),this['connectionType']===_0x457a86[_0x1fa4ba(0x3ea)]&&(this['waitAnswer']=_0x4b6c88[_0x1fa4ba(0x611)](()=>{const _0x1b9205=_0x1fa4ba;this['publishSystemMessage']({'type':_0x2c6c4e[_0x1b9205(0x685)],'offer':_0x27516b,'version':this[_0x1b9205(0x2aa)],'connectionType':this[_0x1b9205(0x3d3)]},_0x203511);},0x1388));}async[_0x5d07ed(0x3e1)](_0x2fb407,_0x56abe0){const _0x3b18cb=_0x5d07ed;if(_0x56abe0===this['currentVersion']){this['clearWaitAnswer']();try{await this[_0x3b18cb(0x4d0)][_0x3b18cb(0x3e1)](_0x2fb407,this[_0x3b18cb(0x3e2)]['bind'](this)),this[_0x3b18cb(0x328)](),this[_0x3b18cb(0x340)](),this[_0x3b18cb(0x73b)]();}catch(_0x2c12ea){this[_0x3b18cb(0x41c)]();}}}[_0x5d07ed(0x6a8)](_0x262fd9){const _0x3be618=_0x5d07ed;if(!this['dataChannel'])throw new _0x187b09(_0x187b09[_0x3be618(0x545)]['InvalidDataChannel'],{'message':_0x3be618(0x6ae),'localId':this[_0x3be618(0x67d)][_0x3be618(0x580)](),'remoteId':this[_0x3be618(0x40c)],'eventMessage':_0x262fd9});if(_0x3be618(0x584)!==this[_0x3be618(0x797)][_0x3be618(0x453)])throw new _0x187b09(_0x187b09[_0x3be618(0x545)][_0x3be618(0x221)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x3be618(0x67d)][_0x3be618(0x580)](),'remoteId':this['remoteId'],'eventMessage':_0x262fd9});let _0x358c3d;if(_0x262fd9['content']['data']instanceof ArrayBuffer){const _0x6ca746=_0x262fd9[_0x3be618(0x226)][_0x3be618(0x269)];delete _0x262fd9[_0x3be618(0x226)][_0x3be618(0x269)],_0x358c3d=this[_0x3be618(0x3ef)](_0x262fd9,_0x6ca746);}else _0x358c3d=JSON[_0x3be618(0x537)](_0x262fd9);if(_0x3be618(0x6bf)==typeof _0x358c3d&&_0x358c3d['length']>_0x62e5b1)return this[_0x3be618(0x44a)](_0x262fd9,_0x358c3d);const _0x168810=0x0===_0x262fd9[_0x3be618(0x335)]&&[_0x772a3e[_0x3be618(0x674)],_0x772a3e['PeerConnection']][_0x3be618(0x610)](_0x262fd9['messageType'])?_0xb35492[_0x3be618(0x2a1)]:_0x262fd9 instanceof ArrayBuffer?_0xb35492[_0x3be618(0x719)]:_0xb35492[_0x3be618(0x3f5)];this[_0x3be618(0x618)](_0x358c3d,_0x168810);}[_0x5d07ed(0x3df)](_0x56c386,_0x58c9ce,_0x3be1a6,_0x24dffb){const _0x18a168=_0x5d07ed,_0x5e31d5=(_0x4a3733=this[_0x18a168(0x3a8)],_0x140a20=this['maxBpp'],Math['floor'](0xe1000*_0x4a3733*_0x140a20));var _0x4a3733,_0x140a20;const _0x52f761=this[_0x18a168(0x325)][_0x18a168(0x58c)](_0x58c9ce['id'])||{'stream':_0x58c9ce,'priority':_0x3be1a6,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x5e31d5,'maxBitrate':_0x5e31d5,'framerate':this[_0x18a168(0x3a8)],'maxFramerate':this[_0x18a168(0x3a8)],'tracks':{},'params':_0x24dffb},_0x2cc010=_0x52f761['tracks'][_0x56c386[_0x18a168(0x763)]]||{'track':_0x56c386};if(_0x2cc010[_0x18a168(0x5a1)]?(_0x2cc010[_0x18a168(0x31d)]=_0x56c386,this['connection'][_0x18a168(0x5d1)](_0x56c386,_0x2cc010[_0x18a168(0x5a1)])):_0x2cc010[_0x18a168(0x5a1)]=this[_0x18a168(0x4d0)][_0x18a168(0x3df)](_0x56c386,_0x58c9ce),_0x52f761[_0x18a168(0x467)][_0x56c386[_0x18a168(0x763)]]=_0x2cc010,_0x24dffb&&(_0x52f761[_0x18a168(0x2e5)]=_0x24dffb),_0x24dffb&&_0x18a168(0x2b9)===_0x24dffb[_0x18a168(0x763)]&&_0x24dffb[_0x18a168(0x676)]&&_0x24dffb[_0x18a168(0x266)]&&(_0x52f761['resolutionScale']=this['getResolutionScale'](_0x24dffb['resolution'],_0x24dffb['maxResolution']),_0x52f761[_0x18a168(0x6a2)]=_0x52f761[_0x18a168(0x2cc)],_0x52f761[_0x18a168(0x467)][_0x18a168(0x2b9)]&&_0x52f761[_0x18a168(0x467)]['video'][_0x18a168(0x5a1)])){const _0x4e64ed=_0x52f761['tracks']['video'][_0x18a168(0x5a1)];this[_0x18a168(0x4d0)]['setEncodingParameters'](_0x4e64ed,Math['floor'](0xa*_0x52f761[_0x18a168(0x2cc)])/0xa,_0x52f761[_0x18a168(0x310)],_0x52f761[_0x18a168(0x35b)],_0x52f761[_0x18a168(0x38b)]);}this[_0x18a168(0x325)][_0x18a168(0x518)](_0x58c9ce['id'],_0x52f761);}[_0x5d07ed(0x5eb)](_0x3d2cb1,_0x5bffb7){const _0x1e5f47=_0x5d07ed,_0x592783=this[_0x1e5f47(0x325)][_0x1e5f47(0x58c)](_0x3d2cb1['id']);if(_0x592783&&_0x592783[_0x1e5f47(0x38b)]!==_0x5bffb7&&(_0x592783['priority']=_0x5bffb7,_0x592783[_0x1e5f47(0x467)][_0x1e5f47(0x2b9)]&&_0x592783[_0x1e5f47(0x467)]['video'][_0x1e5f47(0x5a1)])){const _0x2a06d8=_0x592783[_0x1e5f47(0x467)][_0x1e5f47(0x2b9)]['sender'];this['connection']['setEncodingParameters'](_0x2a06d8,Math[_0x1e5f47(0x62b)](0xa*_0x592783[_0x1e5f47(0x2cc)])/0xa,_0x592783[_0x1e5f47(0x310)],_0x592783['bitrate'],_0x592783['priority']);}}[_0x5d07ed(0x2a3)](_0x1a6e31,_0x3d06a9){const _0x11e10d=_0x5d07ed,_0x4234ed=this['senders']['get'](_0x1a6e31['id']);if(_0x4234ed){if(_0x4234ed[_0x11e10d(0x2e5)]=_0x3d06a9,_0x3d06a9&&_0x11e10d(0x2b9)===_0x3d06a9[_0x11e10d(0x763)]&&_0x3d06a9[_0x11e10d(0x676)]&&_0x3d06a9[_0x11e10d(0x266)]){if(_0x4234ed['minResolutionScale']=this['getResolutionScale'](_0x3d06a9[_0x11e10d(0x676)],_0x3d06a9[_0x11e10d(0x266)]),_0x4234ed[_0x11e10d(0x2cc)]<_0x4234ed['minResolutionScale']&&(_0x4234ed['resolutionScale']=_0x4234ed[_0x11e10d(0x6a2)]),_0x4234ed[_0x11e10d(0x467)][_0x11e10d(0x2b9)]&&_0x4234ed['tracks'][_0x11e10d(0x2b9)][_0x11e10d(0x5a1)]){const _0x68938f=_0x4234ed[_0x11e10d(0x467)]['video'][_0x11e10d(0x5a1)];this[_0x11e10d(0x4d0)][_0x11e10d(0x5bb)](_0x68938f,Math[_0x11e10d(0x62b)](0xa*_0x4234ed[_0x11e10d(0x2cc)])/0xa,_0x4234ed['framerate'],_0x4234ed[_0x11e10d(0x35b)],_0x4234ed[_0x11e10d(0x38b)]);}this[_0x11e10d(0x45c)](),this[_0x11e10d(0x667)]();}this['senders'][_0x11e10d(0x518)](_0x1a6e31['id'],_0x4234ed);}}['removeTrack'](_0x494d6e,_0x3afac7){const _0x47ea2b=_0x5d07ed,_0x26f9dc=this[_0x47ea2b(0x325)][_0x47ea2b(0x58c)](_0x3afac7['id']);if(_0x26f9dc){const _0x2fb7b5=_0x26f9dc['tracks'][_0x494d6e[_0x47ea2b(0x763)]];_0x2fb7b5&&(_0x2fb7b5['sender']&&this[_0x47ea2b(0x4d0)][_0x47ea2b(0x4a3)](_0x2fb7b5[_0x47ea2b(0x5a1)]),_0x2fb7b5[_0x47ea2b(0x31d)]=void 0x0);}}['applyRemediation'](_0x1d5567){const _0x42669b=_0x5d07ed;this[_0x42669b(0x45c)]();const _0xe8ede3=function(_0x3c543a,_0x3b7f55){const _0x5dff9a=_0x42669b;return _0x3c543a[_0x5dff9a(0x20c)]((_0x31bcfe,_0x15e6f3)=>_0x3b7f55[_0x5dff9a(0x3d0)]===_0x3b252f[_0x5dff9a(0x202)]?_0x15e6f3[_0x5dff9a(0x38b)]-_0x31bcfe[_0x5dff9a(0x38b)]:_0x31bcfe[_0x5dff9a(0x38b)]-_0x15e6f3[_0x5dff9a(0x38b)])['find'](_0x254723=>function(_0x5bc648,_0x4f7fed){const _0xc3310e=_0x5dff9a;if(_0x4f7fed[_0xc3310e(0x3d0)]===_0x3b252f[_0xc3310e(0x202)]){if(_0x4f7fed[_0xc3310e(0x6ed)]===_0x131ad8[_0xc3310e(0x3d1)])return _0x5bc648['resolutionScale']<0x4||_0x5bc648[_0xc3310e(0x47c)]>0xf;if(_0x4f7fed[_0xc3310e(0x6ed)]===_0x131ad8[_0xc3310e(0x2ef)])return _0x5bc648[_0xc3310e(0x371)]>_0x5d7c59;}return _0x5bc648[_0xc3310e(0x2cc)]>_0x5bc648[_0xc3310e(0x6a2)]||_0x5bc648['framerate']<_0x5bc648[_0xc3310e(0x47c)]||_0x5bc648[_0xc3310e(0x35b)]<_0x5bc648[_0xc3310e(0x371)];}(_0x254723,_0x3b7f55));}(Array['from'](this['senders'][_0x42669b(0x3ec)]()),_0x1d5567);if(_0xe8ede3&&(function(_0x3fbcbb,_0x222ffe){const _0x47e973=_0x42669b;_0x3fbcbb[_0x47e973(0x467)]['video']&&_0x3fbcbb['tracks']['video'][_0x47e973(0x5a1)]&&(_0x3fbcbb['resolutionScale']=function(_0x4b502b,_0x2e2455,_0x267b68){const _0x58f822=_0x47e973;switch(_0x267b68['action']){case _0x3b252f[_0x58f822(0x202)]:_0x267b68[_0x58f822(0x6ed)]===_0x131ad8[_0x58f822(0x3d1)]&&(_0x4b502b+=0.5)>0x4&&(_0x4b502b=0x4);break;case _0x3b252f[_0x58f822(0x26e)]:(_0x4b502b-=0.5)<_0x2e2455&&(_0x4b502b=_0x2e2455);}return _0x4b502b;}(_0x3fbcbb[_0x47e973(0x2cc)],_0x3fbcbb[_0x47e973(0x6a2)],_0x222ffe),_0x3fbcbb[_0x47e973(0x310)]=function(_0x4a7b47,_0x29e967,_0x4191d2){const _0x317b21=_0x47e973;switch(_0x4191d2[_0x317b21(0x3d0)]){case _0x3b252f[_0x317b21(0x202)]:_0x4191d2[_0x317b21(0x6ed)]===_0x131ad8['Resolution']&&(_0x4a7b47-=0x3)<0xf&&(_0x4a7b47=0xf);break;case _0x3b252f[_0x317b21(0x26e)]:(_0x4a7b47+=0x3)>_0x29e967&&(_0x4a7b47=_0x29e967);}return _0x4a7b47;}(_0x3fbcbb[_0x47e973(0x310)],_0x3fbcbb[_0x47e973(0x47c)],_0x222ffe),_0x3fbcbb[_0x47e973(0x35b)]=function(_0x7330b2,_0x146f74,_0x5ef818){const _0x238886=_0x47e973;switch(_0x5ef818[_0x238886(0x3d0)]){case _0x3b252f['Downgrade']:_0x5ef818['component']===_0x131ad8['Bitrate']&&(_0x7330b2*=0.75)<_0x5d7c59&&(_0x7330b2=_0x5d7c59);break;case _0x3b252f['Upgrade']:(_0x7330b2*=1.25)>_0x146f74&&(_0x7330b2=_0x146f74);}return _0x7330b2;}(_0x3fbcbb[_0x47e973(0x35b)],_0x3fbcbb[_0x47e973(0x371)],_0x222ffe));}(_0xe8ede3,_0x1d5567),_0xe8ede3['tracks'][_0x42669b(0x2b9)]&&_0xe8ede3[_0x42669b(0x467)]['video'][_0x42669b(0x5a1)])){const _0x1bf94a=_0xe8ede3[_0x42669b(0x467)][_0x42669b(0x2b9)][_0x42669b(0x5a1)];this[_0x42669b(0x4d0)][_0x42669b(0x5bb)](_0x1bf94a,Math[_0x42669b(0x62b)](0xa*_0xe8ede3[_0x42669b(0x2cc)])/0xa,_0xe8ede3[_0x42669b(0x310)],_0xe8ede3[_0x42669b(0x35b)],_0xe8ede3[_0x42669b(0x38b)]);}(_0xe8ede3||_0x1d5567[_0x42669b(0x3d0)]===_0x3b252f[_0x42669b(0x202)])&&this[_0x42669b(0x667)]();}[_0x5d07ed(0x77d)](){const _0x1295b6=_0x5d07ed;super[_0x1295b6(0x77d)](),this[_0x1295b6(0x483)](),this['clearWaitAnswer'](),this['senders'][_0x1295b6(0x487)](_0x139a87=>{const _0x54a550=_0x1295b6;_0x139a87[_0x54a550(0x467)][_0x54a550(0x2b9)]&&(_0x139a87[_0x54a550(0x467)][_0x54a550(0x2b9)]['sender']=void 0x0),_0x139a87[_0x54a550(0x467)]['audio']&&(_0x139a87[_0x54a550(0x467)][_0x54a550(0x2ce)]['sender']=void 0x0);}),this[_0x1295b6(0x75d)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x379d83=>{const _0x23061f=a0_0x3365;if(!this[_0x23061f(0x797)]||_0x23061f(0x584)!==this[_0x23061f(0x797)][_0x23061f(0x453)])return await _0x4b6c88[_0x23061f(0x39c)](0x64),void _0x379d83();this[_0x23061f(0x797)][_0x23061f(0x49f)]<0x10000?_0x379d83():this[_0x23061f(0x797)][_0x23061f(0x2d6)]=()=>{const _0x4cb63a=_0x23061f;this[_0x4cb63a(0x797)]&&(this[_0x4cb63a(0x797)][_0x4cb63a(0x2d6)]=null),_0x379d83();};});}['sendChunked'](_0x3a9d5d,_0x409b4b){const _0x147b21=_0x5d07ed,_0x183d6a=[];for(let _0x17d05f=0x0;_0x17d05f<_0x409b4b[_0x147b21(0x57d)];_0x17d05f+=_0x62e5b1)_0x183d6a['push'](_0x409b4b[_0x147b21(0x4da)](_0x17d05f,_0x17d05f+_0x62e5b1));for(const _0xc0781e of _0x183d6a)this[_0x147b21(0x618)](_0x486a2a+';'+_0x3a9d5d['uuid']+';'+_0x183d6a['indexOf'](_0xc0781e)+';'+_0x183d6a['length']+';'+_0xc0781e,_0xb35492[_0x147b21(0x719)]);}async[_0x5d07ed(0x618)](_0x4f2ab8,_0x5aeb2e){const _0x4644a2=_0x5d07ed;_0x4f2ab8===_0x59f1df?this[_0x4644a2(0x40b)][_0x4644a2(0x4af)][_0x5aeb2e]['head']?.[_0x4644a2(0x4ca)]!==_0x59f1df&&this[_0x4644a2(0x40b)][_0x4644a2(0x4af)][_0x5aeb2e][_0x4644a2(0x4b1)](_0x4f2ab8):this[_0x4644a2(0x40b)][_0x4644a2(0x4af)][_0x5aeb2e][_0x4644a2(0x4d7)](_0x4f2ab8);}[_0x5d07ed(0x30c)](_0x29cb04){const _0x28acbb=_0x5d07ed;if(!this[_0x28acbb(0x797)]||_0x28acbb(0x584)!==this[_0x28acbb(0x797)]['state'])throw new Error(_0x28acbb(0x598));const _0x1446dd=Date['now']();_0x29cb04!==_0x59f1df&&(this[_0x28acbb(0x54f)]+=0x1,this[_0x28acbb(0x728)]+=_0x29cb04 instanceof ArrayBuffer?_0x29cb04[_0x28acbb(0x732)]:_0x29cb04[_0x28acbb(0x57d)]),ArrayBuffer,this['dataChannel'][_0x28acbb(0x6a8)](_0x29cb04),this[_0x28acbb(0x3e8)]+=Date['now']()-_0x1446dd;}[_0x5d07ed(0x73b)](){const _0x5ba7a6=_0x5d07ed;this[_0x5ba7a6(0x20b)]&&this[_0x5ba7a6(0x76d)]();let _0x1aa982=!0x0,_0x5ed11f=Date[_0x5ba7a6(0x58e)]();this[_0x5ba7a6(0x2ae)]=Date[_0x5ba7a6(0x58e)](),this['dataChannel'][_0x5ba7a6(0x6e1)]=_0x3e112a=>{const _0x570eff=_0x5ba7a6;'1'===_0x3e112a['data']&&(this[_0x570eff(0x263)]=Date[_0x570eff(0x58e)]()-_0x5ed11f,_0x1aa982&&this['publishSystemMessage']({'type':_0x2c6c4e[_0x570eff(0x296)]}),_0x1aa982=!0x1,this[_0x570eff(0x2ae)]=Date['now'](),this['isReconnecting']&&(this[_0x570eff(0x75d)]=!0x1,this[_0x570eff(0x33f)]()));},this[_0x5ba7a6(0x20b)]=_0x4b6c88[_0x5ba7a6(0x611)](()=>{const _0x1a4f08=_0x5ba7a6;_0x5ed11f=Date[_0x1a4f08(0x58e)](),this[_0x1a4f08(0x618)](_0x59f1df,_0xb35492[_0x1a4f08(0x2a1)]),Date['now']()-this['lastHeartbeat']>(_0x1aa982?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x5d07ed(0x33f)](){const _0x2f1f9e=_0x5d07ed;this['senders'][_0x2f1f9e(0x487)](_0x319d56=>{const _0x1861d2=_0x2f1f9e;_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2b9)]&&_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2b9)][_0x1861d2(0x31d)]&&!_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2b9)][_0x1861d2(0x5a1)]&&(_0x319d56['tracks'][_0x1861d2(0x2b9)][_0x1861d2(0x5a1)]=this[_0x1861d2(0x4d0)]['addTrack'](_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2b9)][_0x1861d2(0x31d)],_0x319d56[_0x1861d2(0x26d)])),_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2ce)]&&_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2ce)][_0x1861d2(0x31d)]&&!_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2ce)][_0x1861d2(0x5a1)]&&(_0x319d56[_0x1861d2(0x467)][_0x1861d2(0x2ce)][_0x1861d2(0x5a1)]=this[_0x1861d2(0x4d0)][_0x1861d2(0x3df)](_0x319d56['tracks'][_0x1861d2(0x2ce)]['track'],_0x319d56[_0x1861d2(0x26d)]));});}[_0x5d07ed(0x659)](){const _0x513520=_0x5d07ed;this[_0x513520(0x4a7)]({'type':_0x2c6c4e['Handshake'],'candidates':this[_0x513520(0x210)],'origin':_0x4df541[_0x513520(0x491)],'version':this[_0x513520(0x2aa)],'connectionType':this[_0x513520(0x3d3)]});}[_0x5d07ed(0x774)](){const _0x31c0c7=_0x5d07ed;super[_0x31c0c7(0x774)](),this[_0x31c0c7(0x4d0)][_0x31c0c7(0x392)]=()=>{const _0x1790a5=_0x31c0c7;if(_0x1790a5(0x536)===this[_0x1790a5(0x4d0)][_0x1790a5(0x3ce)]){if(_0x218f12[_0x1790a5(0x59a)](_0x4f0e27[_0x1790a5(0x61f)],_0x1790a5(0x63c),this[_0x1790a5(0x67d)]['getId'](),this[_0x1790a5(0x40c)]),this[_0x1790a5(0x4d0)][_0x1790a5(0x4de)])return void this['connection']['restartHandshake']();this['createOffer']({'handshakeRestart':!0x0});}},this['connection'][_0x31c0c7(0x2ea)]=()=>{const _0x57c7c8=_0x31c0c7;'disconnected'!==this[_0x57c7c8(0x4d0)][_0x57c7c8(0x28f)]&&'failed'!==this[_0x57c7c8(0x4d0)][_0x57c7c8(0x28f)]||this[_0x57c7c8(0x41c)]();};}[_0x5d07ed(0x41c)](){const _0x541e6f=_0x5d07ed;this['clearHeartbeat'](),this[_0x541e6f(0x66e)](),this['clearConnectionTimeout'](),_0x218f12[_0x541e6f(0x5d3)]('disconnect',{'clusterId':this['clusterId'],'nodeId':this[_0x541e6f(0x67d)][_0x541e6f(0x580)](),'nodeType':this[_0x541e6f(0x67d)][_0x541e6f(0x4ba)],'remoteId':this[_0x541e6f(0x40c)],'data':{'connectionType':this[_0x541e6f(0x3d3)],'connectionState':this[_0x541e6f(0x4d0)]['connectionState'],'iceConnectionState':this[_0x541e6f(0x4d0)][_0x541e6f(0x3ce)],'signalingState':this[_0x541e6f(0x4d0)][_0x541e6f(0x30b)],'readyState':this[_0x541e6f(0x797)]?.[_0x541e6f(0x453)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x541e6f(0x58e)]()-this[_0x541e6f(0x2ae)]:'','retryQueue':this[_0x541e6f(0x40b)]}}),(this['lastHeartbeat']&&Date[_0x541e6f(0x58e)]()-this[_0x541e6f(0x2ae)]>0xea60)??0x1?this[_0x541e6f(0x63a)][_0x541e6f(0x3f9)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x541e6f(0x67d)][_0x541e6f(0x580)]()],'messageType':_0x772a3e[_0x541e6f(0x63e)],'content':{'type':_0x2c6c4e[_0x541e6f(0x21e)]}}):(this[_0x541e6f(0x77d)](),this['publishSystemMessage']({'type':_0x2c6c4e[_0x541e6f(0x473)],'version':this[_0x541e6f(0x2aa)],'connectionType':this['connectionType']}),this[_0x541e6f(0x737)]=setTimeout(()=>{const _0x5ca3d1=_0x541e6f;this[_0x5ca3d1(0x41c)]();},0x7530));}[_0x5d07ed(0x76d)](){const _0x540aee=_0x5d07ed;this[_0x540aee(0x20b)]?.(),delete this[_0x540aee(0x20b)];}[_0x5d07ed(0x340)](){const _0x3975a3=_0x5d07ed;this['connectionTimeout']&&(clearTimeout(this[_0x3975a3(0x690)]),delete this[_0x3975a3(0x690)]);}[_0x5d07ed(0x66e)](){const _0x1d08d9=_0x5d07ed;this[_0x1d08d9(0x737)]&&(clearTimeout(this[_0x1d08d9(0x737)]),delete this[_0x1d08d9(0x737)]);}[_0x5d07ed(0x45c)](){const _0x199626=_0x5d07ed;this['upgradeTimeout']&&(clearTimeout(this[_0x199626(0x292)]),delete this[_0x199626(0x292)]);}['setUpgradeTimeout'](){const _0x302ad5=_0x5d07ed;this[_0x302ad5(0x292)]=setTimeout(()=>{const _0x1c70fa=_0x302ad5;this[_0x1c70fa(0x735)]({'type':_0xdca67f[_0x1c70fa(0x398)],'action':_0x3b252f[_0x1c70fa(0x26e)]});},0x3a98);}[_0x5d07ed(0x3eb)](_0x21b9ad,_0x192db2){const _0x2d3366=_0x5d07ed,_0x23cdba=Math[_0x2d3366(0x4bf)](_0x21b9ad[_0x2d3366(0x249)]/_0x192db2[_0x2d3366(0x249)],_0x21b9ad[_0x2d3366(0x323)]/_0x192db2['height']);return Math['min'](Math[_0x2d3366(0x4bf)](_0x23cdba,0x1),0x4);}['clearWaitAnswer'](){const _0x208d02=_0x5d07ed;this[_0x208d02(0x3a6)]?.(),delete this[_0x208d02(0x3a6)];}[_0x5d07ed(0x483)](){const _0x3035e3=_0x5d07ed;this['oncloseTimeout']&&(clearTimeout(this[_0x3035e3(0x2fe)]),delete this[_0x3035e3(0x2fe)]);}[_0x5d07ed(0x4e8)](_0x16e42d){const _0x3d18be=_0x5d07ed,_0x29b715=JSON[_0x3d18be(0x537)](_0x16e42d);return new TextEncoder()[_0x3d18be(0x686)](_0x29b715)[_0x3d18be(0x293)];}[_0x5d07ed(0x3ef)](_0x25e768,_0x517b39){const _0xabbbac=_0x5d07ed,_0x461714=this[_0xabbbac(0x4e8)](_0x25e768),_0x28efac=new Uint8Array(0x4),_0x14084d=new Uint8Array(_0x461714),_0xbcc99=new Uint8Array(_0x517b39);_0x28efac['set'](new Uint8Array(new Uint32Array([_0x14084d[_0xabbbac(0x57d)]])[_0xabbbac(0x293)]));const _0x27e1d6=new Uint8Array(0x4+_0x14084d[_0xabbbac(0x57d)]+_0xbcc99['length']);return _0x27e1d6[_0xabbbac(0x518)](_0x28efac),_0x27e1d6[_0xabbbac(0x518)](_0x14084d,0x4),_0x27e1d6['set'](_0xbcc99,0x4+_0x14084d[_0xabbbac(0x57d)]),_0x27e1d6[_0xabbbac(0x293)];}}class _0x3967f5 extends _0x38bc0d{['iceServers'];['connectionType'];[_0x5d07ed(0x3a8)];[_0x5d07ed(0x577)];[_0x5d07ed(0x5bc)];[_0x5d07ed(0x44f)];[_0x5d07ed(0x4d1)];[_0x5d07ed(0x5a7)]=[];[_0x5d07ed(0x209)]=_0xf03f60();[_0x5d07ed(0x59b)]=_0xf03f60();[_0x5d07ed(0x45b)]=_0xf03f60();[_0x5d07ed(0x43c)]=[];[_0x5d07ed(0x63a)];[_0x5d07ed(0x762)]=new Map();[_0x5d07ed(0x6bb)]=new Map();['mediaTopics']=new Map();[_0x5d07ed(0x78c)]=new Map();[_0x5d07ed(0x479)]=!0x1;constructor(_0x40d4ba,_0x3f5f06,_0x1ae7ed,_0x4d7cf6,_0x4c5b4c,_0x4bb006,_0x5350cd,_0x1f8c98){const _0x2ef7b1=_0x5d07ed;super(_0x40d4ba,_0x3f5f06,_0x1ae7ed),this[_0x2ef7b1(0x77e)]=_0x4d7cf6,this[_0x2ef7b1(0x3d3)]=_0x4c5b4c,this['maxFps']=_0x4bb006,this['maxBpp']=_0x5350cd,this[_0x2ef7b1(0x5bc)]=_0x1f8c98;}[_0x5d07ed(0x2c5)](_0x22ebc0){const _0xdbbae6=_0x5d07ed;switch(_0x22ebc0[_0xdbbae6(0x3cc)]()){case _0x4b08d8[_0xdbbae6(0x758)][_0xdbbae6(0x6d7)]:case _0x4b08d8['ContentType'][_0xdbbae6(0x540)]:case _0x4b08d8[_0xdbbae6(0x758)][_0xdbbae6(0x56d)]:case _0x4b08d8[_0xdbbae6(0x758)]['KeyValueDatabase']:this[_0xdbbae6(0x762)][_0xdbbae6(0x518)](_0x22ebc0[_0xdbbae6(0x33a)](),_0x22ebc0);break;case _0x4b08d8[_0xdbbae6(0x758)]['Media']:this[_0xdbbae6(0x697)][_0xdbbae6(0x518)](_0x22ebc0[_0xdbbae6(0x33a)](),_0x22ebc0);}}[_0x5d07ed(0x65e)](_0x185609){const _0x413432=_0x5d07ed;switch(_0x185609[_0x413432(0x3cc)]()){case _0x4b08d8[_0x413432(0x758)]['Data']:case _0x4b08d8['ContentType'][_0x413432(0x540)]:case _0x4b08d8['ContentType'][_0x413432(0x56d)]:case _0x4b08d8['ContentType']['KeyValueDatabase']:this[_0x413432(0x762)][_0x413432(0x702)](_0x185609[_0x413432(0x33a)]());break;case _0x4b08d8[_0x413432(0x758)]['Media']:this[_0x413432(0x697)]['delete'](_0x185609[_0x413432(0x33a)]());}}[_0x5d07ed(0x4e0)](_0x45cd00){const _0x416552=_0x5d07ed;switch(_0x45cd00['getContentType']()){case _0x4b08d8[_0x416552(0x758)][_0x416552(0x6d7)]:case _0x4b08d8['ContentType']['PubSub']:case _0x4b08d8[_0x416552(0x758)][_0x416552(0x56d)]:case _0x4b08d8['ContentType']['KeyValueDatabase']:{const _0x7a17ee=_0x45cd00['subscribe'](_0x151f61=>{const _0x2eb0f8=_0x416552;_0x5c1acf(_0x151f61,this[_0x2eb0f8(0x5da)]())&&_0x29da2c(_0x151f61,this[_0x2eb0f8(0x40c)])&&this[_0x2eb0f8(0x6a8)](_0x151f61);});this[_0x416552(0x6bb)][_0x416552(0x518)](_0x45cd00['getLabel'](),_0x7a17ee);break;}case _0x4b08d8[_0x416552(0x758)][_0x416552(0x769)]:{const _0x3eb4e0=_0x45cd00[_0x416552(0x354)](({content:_0x3f8e1a})=>{const _0x349072=_0x416552;switch(_0x3f8e1a[_0x349072(0x3d0)]){case _0x4453a9['Add']:this['addTrack'](_0x3f8e1a['track'],_0x3f8e1a['stream'],_0x3f8e1a['priority'],_0x3f8e1a[_0x349072(0x2e5)]);break;case _0x4453a9['Remove']:this[_0x349072(0x4a3)](_0x3f8e1a[_0x349072(0x31d)],_0x3f8e1a[_0x349072(0x26d)]);break;case _0x4453a9['Update']:_0x3f8e1a[_0x349072(0x38b)]&&this['setPriority'](_0x3f8e1a[_0x349072(0x26d)],_0x3f8e1a['priority']),_0x3f8e1a[_0x349072(0x2e5)]&&this['setParams'](_0x3f8e1a[_0x349072(0x26d)],_0x3f8e1a[_0x349072(0x2e5)]);}});this[_0x416552(0x78c)][_0x416552(0x518)](_0x45cd00[_0x416552(0x33a)](),_0x3eb4e0);break;}}}[_0x5d07ed(0x79c)](_0x3ef4a7){const _0x41e11b=_0x5d07ed;switch(_0x3ef4a7[_0x41e11b(0x3cc)]()){case _0x4b08d8[_0x41e11b(0x758)]['Data']:case _0x4b08d8[_0x41e11b(0x758)][_0x41e11b(0x540)]:case _0x4b08d8[_0x41e11b(0x758)]['ObjectStore']:case _0x4b08d8[_0x41e11b(0x758)][_0x41e11b(0x298)]:this[_0x41e11b(0x6bb)][_0x41e11b(0x58c)](_0x3ef4a7['getLabel']())?.(),this[_0x41e11b(0x6bb)][_0x41e11b(0x702)](_0x3ef4a7[_0x41e11b(0x33a)]());break;case _0x4b08d8[_0x41e11b(0x758)][_0x41e11b(0x769)]:this[_0x41e11b(0x78c)][_0x41e11b(0x58c)](_0x3ef4a7[_0x41e11b(0x33a)]())?.(),this[_0x41e11b(0x78c)]['delete'](_0x3ef4a7[_0x41e11b(0x33a)]());}}[_0x5d07ed(0x421)](){const _0x207aec=_0x5d07ed;return[_0x4b08d8['ContentType']['Data'],_0x4b08d8[_0x207aec(0x758)][_0x207aec(0x769)],_0x4b08d8['ContentType'][_0x207aec(0x540)],_0x4b08d8[_0x207aec(0x758)]['ObjectStore'],_0x4b08d8[_0x207aec(0x758)][_0x207aec(0x298)]];}[_0x5d07ed(0x3a5)](_0xa3383){const _0x5e6393=_0x5d07ed;this[_0x5e6393(0x63a)]=_0xa3383;}[_0x5d07ed(0x6d2)](){delete this['systemTopic'];}async[_0x5d07ed(0x572)](){const _0x3d51c4=_0x5d07ed;this[_0x3d51c4(0x527)](),await this[_0x3d51c4(0x3e2)]();}['close'](){const _0x15b7f4=_0x5d07ed;this[_0x15b7f4(0x43c)]['forEach'](_0x3cd591=>_0x3cd591()),this['listenerUnsubscribers']=[],this[_0x15b7f4(0x44f)]?.[_0x15b7f4(0x6d2)](),this[_0x15b7f4(0x44f)]?.['close'](),delete this['senderConnection'],this['receiverUnsubscribers'][_0x15b7f4(0x487)](_0x21ac27=>_0x21ac27()),this[_0x15b7f4(0x5a7)]=[],this[_0x15b7f4(0x4d1)]?.[_0x15b7f4(0x6d2)](),this[_0x15b7f4(0x4d1)]?.[_0x15b7f4(0x6d1)](),delete this[_0x15b7f4(0x4d1)];}[_0x5d07ed(0x1f6)](){const _0x2d2043=_0x5d07ed;return this[_0x2d2043(0x44f)]?.[_0x2d2043(0x1f6)]()&&this[_0x2d2043(0x4d1)]?.['isConnected']()||!0x1;}[_0x5d07ed(0x6a8)](_0x2da74b){const _0x2e8e7d=_0x5d07ed;if(!this['senderConnection']||!this[_0x2e8e7d(0x1f6)]())throw new _0x187b09(_0x187b09[_0x2e8e7d(0x545)][_0x2e8e7d(0x5c0)],{'message':_0x2e8e7d(0x3c5),'senderConnected':this[_0x2e8e7d(0x44f)]?.['isConnected'](),'receiverConnected':this[_0x2e8e7d(0x4d1)]?.[_0x2e8e7d(0x1f6)](),'localId':this[_0x2e8e7d(0x5da)](),'remoteId':this[_0x2e8e7d(0x40c)],'data':_0x2da74b});this['senderConnection'][_0x2e8e7d(0x6a8)](_0x2da74b);}[_0x5d07ed(0x6e1)](_0x1b7ba9){const _0x38b060=_0x5d07ed;return this[_0x38b060(0x209)][_0x38b060(0x354)](_0x1b7ba9);}['onTrack'](_0x572cd4){const _0x52ef93=_0x5d07ed;return this[_0x52ef93(0x59b)]['subscribe'](({track:_0x4dd993,stream:_0x4149bd})=>_0x572cd4(_0x4dd993,_0x4149bd));}[_0x5d07ed(0x5c3)](_0x52a309){const _0x23339f=_0x5d07ed;return this[_0x23339f(0x45b)][_0x23339f(0x354)](({track:_0x15b1f6,stream:_0x1342e1})=>_0x52a309(_0x15b1f6,_0x1342e1));}[_0x5d07ed(0x3df)](_0x1a9bfe,_0x426ad0,_0x1f2769,_0x42159a){const _0x2f9293=_0x5d07ed;this['senderConnection']?.[_0x2f9293(0x3df)](_0x1a9bfe,_0x426ad0,_0x1f2769,_0x42159a);}[_0x5d07ed(0x5eb)](_0x22c48a,_0x223cb6){const _0x447b62=_0x5d07ed;this[_0x447b62(0x44f)]?.[_0x447b62(0x5eb)](_0x22c48a,_0x223cb6);}[_0x5d07ed(0x2a3)](_0x1321eb,_0x49d333){const _0x3188de=_0x5d07ed;this[_0x3188de(0x44f)]?.[_0x3188de(0x2a3)](_0x1321eb,_0x49d333);}['removeTrack'](_0x1916c7,_0x4cdfea){const _0x59496e=_0x5d07ed;this[_0x59496e(0x44f)]?.[_0x59496e(0x4a3)](_0x1916c7,_0x4cdfea);}async[_0x5d07ed(0x78f)](_0x286f40){const _0x9b2a=_0x5d07ed;_0x218f12[_0x9b2a(0x59a)](_0x4f0e27[_0x9b2a(0x262)],_0x9b2a(0x241),this[_0x9b2a(0x5da)](),_0x286f40);const {content:_0x76bbe5}=_0x286f40;switch(_0x76bbe5[_0x9b2a(0x4ba)]){case _0x2c6c4e[_0x9b2a(0x685)]:await this[_0x9b2a(0x320)](_0x76bbe5);break;case _0x2c6c4e[_0x9b2a(0x2af)]:await this['handleAnswer'](_0x76bbe5);break;case _0x2c6c4e[_0x9b2a(0x296)]:this[_0x9b2a(0x5f3)]();break;case _0x2c6c4e[_0x9b2a(0x3e7)]:await this[_0x9b2a(0x6ca)](_0x76bbe5);break;case _0x2c6c4e[_0x9b2a(0x473)]:this[_0x9b2a(0x752)](_0x76bbe5);break;case _0x2c6c4e[_0x9b2a(0x4ef)]:await this[_0x9b2a(0x3e2)]();}}[_0x5d07ed(0x38e)](_0xcff1d){const _0x23e97b=_0x5d07ed;this[_0x23e97b(0x44f)]?.[_0x23e97b(0x735)](_0xcff1d['content']['data']);}[_0x5d07ed(0x520)](){return this['connectionType'];}[_0x5d07ed(0x4a6)](_0x134952){const _0x36ce83=_0x5d07ed;this[_0x36ce83(0x3d3)]=_0x134952,this[_0x36ce83(0x44f)]?.[_0x36ce83(0x4a6)](_0x134952),this['receiverConnection']?.[_0x36ce83(0x4a6)](_0x134952);}async[_0x5d07ed(0x389)](){const _0xf5acfd=_0x5d07ed;await this[_0xf5acfd(0x44f)]?.[_0xf5acfd(0x389)](),await this[_0xf5acfd(0x4d1)]?.[_0xf5acfd(0x389)]();}[_0x5d07ed(0x527)](){const _0x2adffa=_0x5d07ed;this[_0x2adffa(0x43c)]['push'](this[_0x2adffa(0x6e1)](_0x5637cb=>{const _0x28e40d=_0x2adffa;_0x29da2c(_0x5637cb,this[_0x28e40d(0x5da)]())&&0x0!==_0x5637cb['topicLabel']&&this[_0x28e40d(0x762)]['get'](_0x5637cb[_0x28e40d(0x335)])?.[_0x28e40d(0x3f9)](_0x5637cb);})),this[_0x2adffa(0x43c)]['push'](this[_0x2adffa(0x65a)]((_0x22095a,_0x343fac)=>{const _0xb984ea=_0x2adffa,_0x59de17=_0x4a534b(_0x4b08d8['ContentType'][_0xb984ea(0x769)],_0x343fac['id'],this[_0xb984ea(0x40c)]);this[_0xb984ea(0x697)][_0xb984ea(0x58c)](_0x59de17)?.[_0xb984ea(0x3f9)]({'topicLabel':_0x59de17,'sourceId':this[_0xb984ea(0x40c)],'contentType':_0x4b08d8[_0xb984ea(0x758)][_0xb984ea(0x769)],'content':{'action':_0x4453a9[_0xb984ea(0x252)],'track':_0x22095a,'stream':_0x343fac,'providerId':this['remoteId']}});})),this[_0x2adffa(0x43c)][_0x2adffa(0x4d7)](this[_0x2adffa(0x5c3)]((_0x15a04d,_0x15025d)=>{const _0x3078e7=_0x2adffa,_0x1a750a=_0x4a534b(_0x4b08d8['ContentType'][_0x3078e7(0x769)],_0x15025d['id'],this[_0x3078e7(0x40c)]);this['mediaTopics'][_0x3078e7(0x58c)](_0x1a750a)?.[_0x3078e7(0x3f9)]({'topicLabel':_0x1a750a,'sourceId':this[_0x3078e7(0x40c)],'contentType':_0x4b08d8['ContentType'][_0x3078e7(0x769)],'content':{'action':_0x4453a9[_0x3078e7(0x27d)],'track':_0x15a04d,'stream':_0x15025d,'providerId':this[_0x3078e7(0x40c)]}});}));}[_0x5d07ed(0x6ca)]({candidates:_0x36d3e3,origin:_0x77009b,version:_0x34094}){const _0x34cc78=_0x5d07ed;return _0x77009b===_0x4df541['Sender']?(this[_0x34cc78(0x4d1)]||this['createReceiverConnection'](),this[_0x34cc78(0x4d1)]['handleHandshake'](_0x36d3e3,_0x34094)):this['senderConnection'][_0x34cc78(0x74b)](_0x36d3e3,_0x34094);}async[_0x5d07ed(0x3e2)](){const _0x502de4=_0x5d07ed;this[_0x502de4(0x44f)]||this['createSenderConnection'](),await this['senderConnection'][_0x502de4(0x3e2)]();}async[_0x5d07ed(0x320)]({offer:_0x54a091,version:_0x91c4e9}){const _0x41a8ed=_0x5d07ed;this['receiverConnection']||this[_0x41a8ed(0x6c5)](),await this[_0x41a8ed(0x4d1)]['handleOffer'](_0x54a091,_0x91c4e9);}async[_0x5d07ed(0x3e1)]({answer:_0x451680,version:_0x142026}){const _0x2795f5=_0x5d07ed;if(!this[_0x2795f5(0x44f)])throw new _0x187b09(_0x187b09['codes'][_0x2795f5(0x5c0)],{'message':_0x2795f5(0x599),'localId':this[_0x2795f5(0x5da)](),'remoteId':this['remoteId'],'answer':_0x451680});await this[_0x2795f5(0x44f)][_0x2795f5(0x3e1)](_0x451680,_0x142026);}[_0x5d07ed(0x5f3)](){const _0x2e2df0=_0x5d07ed;if(!this['receiverConnection'])throw new _0x187b09(_0x187b09['codes'][_0x2e2df0(0x5c0)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x2e2df0(0x5da)](),'remoteId':this[_0x2e2df0(0x40c)]});this[_0x2e2df0(0x4d1)]['handleSuccess'](),this['successNotified']||this[_0x2e2df0(0x3d3)]!==_0x457a86[_0x2e2df0(0x4d4)]||(this[_0x2e2df0(0x479)]=!0x0,this[_0x2e2df0(0x63a)]?.['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x2e2df0(0x5da)]()],'messageType':_0x772a3e[_0x2e2df0(0x63e)],'content':{'type':_0x2c6c4e[_0x2e2df0(0x471)]}}));}[_0x5d07ed(0x752)](_0x4fcd2f){const _0x8636be=_0x5d07ed;this[_0x8636be(0x4d1)]||this[_0x8636be(0x6c5)](),this[_0x8636be(0x4d1)]['handleNeedRestart'](_0x4fcd2f[_0x8636be(0x55a)]);}['createSenderConnection'](){const _0x3f514c=_0x5d07ed;this[_0x3f514c(0x44f)]=new _0x2814ac(this[_0x3f514c(0x316)],this['localNode'],this[_0x3f514c(0x40c)],this[_0x3f514c(0x77e)],this['connectionType'],this[_0x3f514c(0x3a8)],this['maxBpp'],this[_0x3f514c(0x5bc)]),this[_0x3f514c(0x44f)][_0x3f514c(0x3a5)](this['systemTopic']);}['createReceiverConnection'](){const _0x3cf96a=_0x5d07ed;this[_0x3cf96a(0x4d1)]=new _0x22f05a(this[_0x3cf96a(0x316)],this['localNode'],this[_0x3cf96a(0x40c)],this[_0x3cf96a(0x77e)],this[_0x3cf96a(0x3d3)],this[_0x3cf96a(0x5bc)]),this[_0x3cf96a(0x4d1)][_0x3cf96a(0x3a5)](this[_0x3cf96a(0x63a)]),this[_0x3cf96a(0x5a7)]['push'](this['receiverConnection'][_0x3cf96a(0x6e1)](_0x3c93b8=>this['messageListeners'][_0x3cf96a(0x3f9)](_0x3c93b8))),this[_0x3cf96a(0x5a7)][_0x3cf96a(0x4d7)](this[_0x3cf96a(0x4d1)][_0x3cf96a(0x65a)]((_0x3a2d3f,_0x57ec37)=>this[_0x3cf96a(0x59b)][_0x3cf96a(0x3f9)]({'track':_0x3a2d3f,'stream':_0x57ec37}))),this[_0x3cf96a(0x5a7)][_0x3cf96a(0x4d7)](this[_0x3cf96a(0x4d1)][_0x3cf96a(0x5c3)]((_0x9a0226,_0x502091)=>this[_0x3cf96a(0x45b)][_0x3cf96a(0x3f9)]({'track':_0x9a0226,'stream':_0x502091})));}}class _0x12fac5{[_0x5d07ed(0x560)];[_0x5d07ed(0x783)];[_0x5d07ed(0x573)];[_0x5d07ed(0x28a)]=new Map();[_0x5d07ed(0x209)]=_0xf03f60();['messageUnsubscriber'];[_0x5d07ed(0x762)]=new Map();[_0x5d07ed(0x6bb)]=new Map();[_0x5d07ed(0x3ed)]=new Map();constructor(_0x5a0482,_0x37d386,_0x324a73){const _0x1dcd0b=_0x5d07ed;this[_0x1dcd0b(0x560)]=_0x5a0482,this[_0x1dcd0b(0x783)]=_0x37d386,this['graphService']=_0x324a73,this['messageUnsubscriber']=this[_0x1dcd0b(0x6e1)](_0x33a8f1=>{const _0x1dbf6d=_0x1dcd0b;this[_0x1dbf6d(0x783)]['hasMessage'](_0x33a8f1['uuid'])||(_0x29da2c(_0x33a8f1,this[_0x1dbf6d(0x560)])&&0x0!==_0x33a8f1[_0x1dbf6d(0x335)]&&(this[_0x1dbf6d(0x783)][_0x1dbf6d(0x5cd)](_0x33a8f1[_0x1dbf6d(0x65f)]),this[_0x1dbf6d(0x762)][_0x1dbf6d(0x58c)](_0x33a8f1[_0x1dbf6d(0x335)])?.[_0x1dbf6d(0x3f9)](_0x33a8f1)),_0x33a8f1[_0x1dbf6d(0x77b)]&&this[_0x1dbf6d(0x6a8)](_0x33a8f1));});}[_0x5d07ed(0x6d1)](){const _0x50c5bd=_0x5d07ed;this[_0x50c5bd(0x713)]?.();}[_0x5d07ed(0x214)](_0x43f617){const _0x1487d1=_0x5d07ed,_0xaff7b4=_0x43f617[_0x1487d1(0x6e1)](_0x22f7af=>{const _0x5a6c88=_0x1487d1;this[_0x5a6c88(0x209)]['publish'](_0x22f7af);});this['connections'][_0x1487d1(0x518)](_0x43f617,_0xaff7b4),this[_0x1487d1(0x3ed)][_0x1487d1(0x518)](_0x43f617[_0x1487d1(0x267)](),function(_0x501e46,_0x2c9ad7=!0x1){let _0x4e928a=new Map();const _0x4deda9=_0x12a2c8(_0x501e46,_0x2c9ad7,function(_0x37ad13){const _0xf2c104=a0_0x3365;_0x99929f(_0x37ad13)&&_0x4e928a[_0xf2c104(0x702)](_0x37ad13[_0xf2c104(0x510)]+'-'+(_0x37ad13[_0xf2c104(0x344)]??[])+'-'+_0x37ad13[_0xf2c104(0x5e7)]+'-'+_0x37ad13[_0xf2c104(0x226)][_0xf2c104(0x4ba)]);},function(_0x44dbcc){return!!function(_0x5caf3a){const _0x4ad36c=a0_0x3365,_0x5aecb4=_0x5caf3a['value'];if(!_0x99929f(_0x5aecb4))return!0x1;const _0x512106=_0x5aecb4[_0x4ad36c(0x510)]+'-'+(_0x5aecb4[_0x4ad36c(0x344)]??[])+'-'+_0x5aecb4['messageType']+'-'+_0x5aecb4[_0x4ad36c(0x226)][_0x4ad36c(0x4ba)],_0x2334a6={'version':_0x5aecb4[_0x4ad36c(0x226)]['version'],'element':_0x5caf3a},_0x2b7855=_0x4e928a[_0x4ad36c(0x58c)](_0x512106);return _0x2b7855?(_0x2b7855[_0x4ad36c(0x55a)]>=_0x5aecb4['content'][_0x4ad36c(0x55a)]||(_0x2b7855[_0x4ad36c(0x74c)][_0x4ad36c(0x474)]&&(_0x2b7855[_0x4ad36c(0x74c)][_0x4ad36c(0x474)][_0x4ad36c(0x6cd)]=_0x5caf3a,_0x5caf3a[_0x4ad36c(0x474)]=_0x2b7855[_0x4ad36c(0x74c)][_0x4ad36c(0x474)]),_0x2b7855[_0x4ad36c(0x74c)]['next']&&(_0x2b7855[_0x4ad36c(0x74c)][_0x4ad36c(0x6cd)][_0x4ad36c(0x474)]=_0x5caf3a,_0x5caf3a['next']=_0x2b7855[_0x4ad36c(0x74c)]['next']),_0x2b7855['element']===_0x4deda9[_0x4ad36c(0x33d)]&&(_0x4deda9[_0x4ad36c(0x33d)]=_0x5caf3a),_0x2b7855[_0x4ad36c(0x74c)]===_0x4deda9[_0x4ad36c(0x434)]&&(_0x4deda9[_0x4ad36c(0x434)]=_0x5caf3a),_0x4e928a[_0x4ad36c(0x518)](_0x512106,_0x2334a6)),!0x0):(_0x4e928a['set'](_0x512106,_0x2334a6),!0x1);}(_0x44dbcc);},function(){_0x4e928a['clear']();});function _0x99929f(_0x58dcf0){const _0x126fd9=a0_0x3365;if(_0x58dcf0&&_0x126fd9(0x3be)==typeof _0x58dcf0&&_0x58dcf0['hasOwnProperty']('content')&&_0x58dcf0['hasOwnProperty'](_0x126fd9(0x5e7))&&_0x58dcf0[_0x126fd9(0x72b)](_0x126fd9(0x510))){const _0x5408b3=_0x58dcf0;if(_0x5408b3[_0x126fd9(0x226)]&&_0x126fd9(0x3be)==typeof _0x5408b3[_0x126fd9(0x226)]&&_0x5408b3[_0x126fd9(0x226)][_0x126fd9(0x72b)]('version')&&_0x5408b3[_0x126fd9(0x226)][_0x126fd9(0x72b)]('type'))return!0x0;}return!0x1;}return _0x4deda9;}(new _0x51f0ce(_0x4724af=>_0x43f617[_0x1487d1(0x6a8)](_0x4724af),()=>_0x4b6c88[_0x1487d1(0x39c)](0x64))));}[_0x5d07ed(0x5fe)](_0x3fb96e){const _0x3066f1=_0x5d07ed;this['connections'][_0x3066f1(0x58c)](_0x3fb96e)?.(),this[_0x3066f1(0x28a)][_0x3066f1(0x702)](_0x3fb96e),this[_0x3066f1(0x3ed)][_0x3066f1(0x58c)](_0x3fb96e[_0x3066f1(0x267)]())?.['clear'](),this[_0x3066f1(0x3ed)]['delete'](_0x3fb96e['getRemoteId']());}[_0x5d07ed(0x1f6)](_0x50e534){const _0x4d3d1b=_0x5d07ed;return _0x218f12[_0x4d3d1b(0x59a)](_0x4f0e27[_0x4d3d1b(0x61f)],_0x4d3d1b(0x234),this[_0x4d3d1b(0x560)],this['connections'][_0x4d3d1b(0x370)]()),0x0!==this[_0x4d3d1b(0x28a)][_0x4d3d1b(0x6b1)]&&(Array['from'](this[_0x4d3d1b(0x28a)][_0x4d3d1b(0x370)]())[_0x4d3d1b(0x3d6)](_0x4c7680=>_0x4c7680[_0x4d3d1b(0x267)]()===_0x50e534)?.[_0x4d3d1b(0x1f6)]()??!0x1);}[_0x5d07ed(0x2c5)](_0x15e872){const _0x163e22=_0x5d07ed;this[_0x163e22(0x762)][_0x163e22(0x518)](_0x15e872[_0x163e22(0x33a)](),_0x15e872);}[_0x5d07ed(0x65e)](_0x154cc4){const _0x40ab27=_0x5d07ed;this['dataTopics']['delete'](_0x154cc4[_0x40ab27(0x33a)]());}[_0x5d07ed(0x4e0)](_0x46b714){const _0x206603=_0x5d07ed,_0x1378bd=_0x46b714[_0x206603(0x354)](this['send'][_0x206603(0x60d)](this));this[_0x206603(0x6bb)][_0x206603(0x518)](_0x46b714['getLabel'](),_0x1378bd);}[_0x5d07ed(0x79c)](_0x4b4b50){const _0x1338f3=_0x5d07ed;this[_0x1338f3(0x6bb)][_0x1338f3(0x58c)](_0x4b4b50[_0x1338f3(0x33a)]())?.(),this['dataUnsubscribers']['delete'](_0x4b4b50[_0x1338f3(0x33a)]());}[_0x5d07ed(0x421)](){const _0x18a3d8=_0x5d07ed;return[_0x4b08d8[_0x18a3d8(0x758)][_0x18a3d8(0x6d7)],_0x4b08d8[_0x18a3d8(0x758)]['PubSub'],_0x4b08d8[_0x18a3d8(0x758)][_0x18a3d8(0x56d)],_0x4b08d8['ContentType']['KeyValueDatabase']];}[_0x5d07ed(0x6a8)](_0xfb13a8){const _0x4b2a5f=_0x5d07ed;if(!0x1===_0xfb13a8[_0x4b2a5f(0x652)]){if(_0xfb13a8[_0x4b2a5f(0x77b)]||!_0xfb13a8[_0x4b2a5f(0x344)]||0x1!==_0xfb13a8[_0x4b2a5f(0x344)][_0x4b2a5f(0x57d)])throw new _0x187b09(_0x187b09['codes']['ConnectionInvalidDataEvent'],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this['localId']});if(!this[_0x4b2a5f(0x1f6)](_0xfb13a8['destinationIds'][0x0]))throw new _0x43b1de(_0x4b2a5f(0x69f));}const _0x37e590=_0xfb13a8[_0x4b2a5f(0x583)]??[];try{const {filteredDestinationIds:_0x5bc4da,extendedRecipients:_0x13c351}=this[_0x4b2a5f(0x5a4)](_0xfb13a8,_0x37e590);_0xfb13a8[_0x4b2a5f(0x344)]=_0x5bc4da,_0xfb13a8[_0x4b2a5f(0x583)]=_0x13c351;}catch(_0x8b57fe){if(_0x8b57fe instanceof _0x43b1de)return void _0x218f12[_0x4b2a5f(0x59a)](_0x4f0e27['Connection'],_0x4b2a5f(0x60f),_0x4b2a5f(0x629),_0xfb13a8,_0x8b57fe[_0x4b2a5f(0x5c9)]);}const _0x46f63e=this[_0x4b2a5f(0x5dd)](_0xfb13a8);this[_0x4b2a5f(0x353)](_0xfb13a8,_0x46f63e),_0xfb13a8[_0x4b2a5f(0x77b)]=_0x46f63e;const _0x103458=this[_0x4b2a5f(0x23c)](_0xfb13a8,_0x37e590);for(const _0xa59217 of _0x103458){const _0x3a91fc=this[_0x4b2a5f(0x3ed)]['get'](_0xa59217[_0x4b2a5f(0x267)]());if(!_0x3a91fc)throw new _0x187b09(_0x187b09[_0x4b2a5f(0x545)][_0x4b2a5f(0x23a)],{'message':_0x4b2a5f(0x4bb),'localId':this['localId'],'remoteId':_0xa59217[_0x4b2a5f(0x267)](),'data':_0xfb13a8});_0x3a91fc['push'](_0xfb13a8);}}['getRemoteId'](){return'';}[_0x5d07ed(0x5da)](){const _0x42dd9b=_0x5d07ed;return this[_0x42dd9b(0x560)];}[_0x5d07ed(0x6e1)](_0x39247d){const _0x2d7d76=_0x5d07ed;return this[_0x2d7d76(0x209)][_0x2d7d76(0x354)](_0x39247d);}[_0x5d07ed(0x5a4)](_0x8f5200,_0x17bbba){const _0x22463d=_0x5d07ed,_0x1b3594={'filteredDestinationIds':_0x8f5200['destinationIds'],'extendedRecipients':_0x8f5200['recipients']};if(!_0x8f5200[_0x22463d(0x77b)])return _0x1b3594;const _0x23814f=Array[_0x22463d(0x45d)](this[_0x22463d(0x28a)][_0x22463d(0x370)]())[_0x22463d(0x759)](_0x51581d=>_0x51581d[_0x22463d(0x520)]()===_0x457a86['Core']||_0x51581d[_0x22463d(0x1f6)]())['map'](_0x116587=>_0x116587[_0x22463d(0x267)]());if(_0x23814f[_0x22463d(0x436)]((_0x462d68,_0x31dee5)=>_0x462d68&&_0x8f5200[_0x22463d(0x583)][_0x22463d(0x610)](_0x31dee5),!0x0))throw new _0x43b1de('All\x20recipients\x20already\x20received');if(_0x8f5200[_0x22463d(0x344)]){const _0x5dc945=_0x8f5200[_0x22463d(0x344)]['filter'](_0x1408db=>_0x1408db!==this[_0x22463d(0x560)]&&!_0x8f5200['recipients'][_0x22463d(0x610)](_0x1408db));if(0x0===_0x5dc945[_0x22463d(0x57d)])throw new _0x43b1de('No\x20destinationIds\x20left');_0x1b3594[_0x22463d(0x5ce)]=_0x5dc945;}return _0x1b3594[_0x22463d(0x566)]=[...new Set([..._0x17bbba,..._0x23814f,this[_0x22463d(0x560)]])],_0x1b3594;}[_0x5d07ed(0x353)](_0xe18183,_0x2aa70a=!0x1){const _0xc3e194=_0x5d07ed;if(0x0===_0xe18183[_0xc3e194(0x335)]&&!_0x5c1acf(_0xe18183,this['localId'])&&_0xe18183[_0xc3e194(0x77b)]){const _0xa69911=_0x3be3b0(_0xe18183,this['localId']);_0x218f12['logRaw'](_0x4f0e27['System'],_0xe18183['uuid']+'\x20-\x20Sending\x20propagation\x20('+_0x2aa70a+')\x20'+_0xa69911,_0xe18183,_0x2aa70a);}}[_0x5d07ed(0x5dd)](_0x3c62d0){const _0x54eb98=_0x5d07ed;if(_0x3c62d0['destinationIds']&&_0x3c62d0['propagate']){const _0x1e10fe=Array[_0x54eb98(0x45d)](this['connections'][_0x54eb98(0x370)]())[_0x54eb98(0x759)](_0x139285=>_0x139285['getConnectionType']()===_0x457a86[_0x54eb98(0x3ea)]||_0x139285[_0x54eb98(0x1f6)]())[_0x54eb98(0x326)](_0x4239b0=>_0x4239b0[_0x54eb98(0x267)]());return!_0x3c62d0[_0x54eb98(0x344)][_0x54eb98(0x436)]((_0x4a52a3,_0x385761)=>_0x4a52a3&&_0x1e10fe[_0x54eb98(0x610)](_0x385761),!0x0);}return _0x3c62d0[_0x54eb98(0x77b)]??!0x1;}[_0x5d07ed(0x23c)](_0x5c0c39,_0x47ed19){const _0x4ecf4f=_0x5d07ed;if(_0x5c0c39[_0x4ecf4f(0x77b)]&&_0x5c0c39[_0x4ecf4f(0x344)]){const _0x3fe426=Array[_0x4ecf4f(0x45d)](this[_0x4ecf4f(0x28a)][_0x4ecf4f(0x370)]())[_0x4ecf4f(0x759)](_0x99e814=>_0x99e814[_0x4ecf4f(0x520)]()===_0x457a86[_0x4ecf4f(0x3ea)]||_0x99e814[_0x4ecf4f(0x1f6)]())[_0x4ecf4f(0x326)](_0x46000d=>_0x46000d['getRemoteId']()),_0x38b15c=new Set(),_0x42960c=_0x5c0c39[_0x4ecf4f(0x510)]===this[_0x4ecf4f(0x560)]?0x3:0x1;return _0x5c0c39[_0x4ecf4f(0x344)]['forEach'](_0x129fb8=>{const _0x424900=_0x4ecf4f,_0xce9449=this[_0x424900(0x573)][_0x424900(0x445)](_0x3fe426,_0x129fb8);let _0x4f66b1=0x0,_0x2d9233=0x0;_0xce9449['forEach'](_0x11bce8=>{const _0x387cef=_0x424900;if(_0x4f66b1>=_0x42960c)return;const _0x75addd=Array[_0x387cef(0x45d)](this[_0x387cef(0x28a)][_0x387cef(0x370)]())[_0x387cef(0x3d6)](_0x96561e=>_0x96561e['getRemoteId']()===_0x11bce8);if(_0x75addd){if(_0x75addd[_0x387cef(0x520)]()===_0x457a86[_0x387cef(0x3ea)]&&_0x2d9233>0x0)return void(_0x2d9233-=0x1);_0x38b15c[_0x387cef(0x3cf)](_0x75addd),_0x75addd[_0x387cef(0x520)]()===_0x457a86['Optimization']&&(_0x2d9233+=0x1),_0x4f66b1+=0x1;}});}),Array['from'](_0x38b15c);}return Array['from'](this[_0x4ecf4f(0x28a)][_0x4ecf4f(0x370)]())[_0x4ecf4f(0x759)](_0x2dbeaf=>{const _0x2d018e=_0x4ecf4f;return _0x5da5b7=_0x2dbeaf['getRemoteId'](),!_0x47ed19[_0x2d018e(0x610)](_0x5da5b7)&&(_0x29da2c(_0x5c0c39,_0x5da5b7)||_0x5c0c39['propagate'])&&(!_0x5c0c39[_0x2d018e(0x77b)]||_0x2dbeaf[_0x2d018e(0x1f6)]()||_0x2dbeaf[_0x2d018e(0x520)]()===_0x457a86[_0x2d018e(0x3ea)]);var _0x5da5b7;});}}class _0x15e76b{[_0x5d07ed(0x560)];[_0x5d07ed(0x783)];['connections']=new Map();[_0x5d07ed(0x63a)];constructor(_0x36a7ac,_0xbbb43a){const _0x53b08b=_0x5d07ed;this['localId']=_0x36a7ac,this[_0x53b08b(0x783)]=_0xbbb43a;}['close'](){}[_0x5d07ed(0x6a8)](_0x1dfed0){const _0x1c56ad=_0x5d07ed;for(const _0x5aa151 of this[_0x1c56ad(0x28a)][_0x1c56ad(0x370)]())try{return void _0x5aa151[_0x1c56ad(0x6a8)]({'retry':!0x1,..._0x1dfed0});}catch(_0xc8de93){_0xc8de93 instanceof _0x43b1de||_0x218f12[_0x1c56ad(0x59a)](_0x4f0e27[_0x1c56ad(0x42f)],_0x1c56ad(0x1f9)+_0x5aa151,_0xc8de93,_0x1dfed0);}_0x218f12[_0x1c56ad(0x59a)](_0x4f0e27[_0x1c56ad(0x42f)],_0x1c56ad(0x46e));}[_0x5d07ed(0x214)](_0x5bd0d9){const _0x16410f=_0x5d07ed,_0x3f5f1a=_0x5bd0d9[_0x16410f(0x6e1)](_0x2205b0=>{const _0x1d6d9f=_0x16410f;this[_0x1d6d9f(0x783)][_0x1d6d9f(0x5b0)](_0x2205b0[_0x1d6d9f(0x65f)])||0x0===_0x2205b0[_0x1d6d9f(0x335)]&&(this[_0x1d6d9f(0x783)][_0x1d6d9f(0x5cd)](_0x2205b0[_0x1d6d9f(0x65f)]),_0x29da2c(_0x2205b0,this[_0x1d6d9f(0x560)])&&this[_0x1d6d9f(0x63a)]?.['publish'](_0x2205b0));});this[_0x16410f(0x28a)][_0x16410f(0x518)](_0x5bd0d9,_0x3f5f1a);}[_0x5d07ed(0x5fe)](_0x323302){const _0x4d2a65=_0x5d07ed;this[_0x4d2a65(0x28a)]['get'](_0x323302)?.(),this[_0x4d2a65(0x28a)][_0x4d2a65(0x702)](_0x323302);}[_0x5d07ed(0x5da)](){const _0x4fd7cd=_0x5d07ed;return this[_0x4fd7cd(0x560)];}[_0x5d07ed(0x267)](){return'';}[_0x5d07ed(0x421)](){const _0x1c9b88=_0x5d07ed;return[_0x4b08d8[_0x1c9b88(0x758)][_0x1c9b88(0x6d7)]];}['isConnected'](){const _0x19050e=_0x5d07ed;throw new Error(_0x19050e(0x6a6));}['registerSystemPublisher'](_0x58194a){const _0x32ef1a=_0x5d07ed;this[_0x32ef1a(0x63a)]=_0x58194a;}[_0x5d07ed(0x6d2)](){delete this['systemTopic'];}}class _0x3fe540{['buffer']=new Map();[_0x5d07ed(0x62a)];constructor(){const _0x5b93f4=_0x5d07ed;this[_0x5b93f4(0x62a)]=_0x4b6c88['setInterval'](()=>{const _0x3e5c50=_0x5b93f4;for(const [_0x431984,_0x3e6b9d]of this[_0x3e5c50(0x293)][_0x3e5c50(0x636)]())Date[_0x3e5c50(0x58e)]()-_0x3e6b9d>0x124f80&&this[_0x3e5c50(0x293)][_0x3e5c50(0x702)](_0x431984);},0x1d4c0);}['close'](){const _0x369717=_0x5d07ed;this[_0x369717(0x62a)]();}[_0x5d07ed(0x5cd)](_0x161c64){const _0xdbb030=_0x5d07ed;this[_0xdbb030(0x293)]['set'](_0x161c64,Date[_0xdbb030(0x58e)]());}['hasMessage'](_0x371724){const _0x38aba5=_0x5d07ed;return this[_0x38aba5(0x293)][_0x38aba5(0x461)](_0x371724);}}class _0x27aeb3{[_0x5d07ed(0x6b3)];[_0x5d07ed(0x2d1)];[_0x5d07ed(0x77e)];['maxFps'];[_0x5d07ed(0x577)];['connectionConstructor'];[_0x5d07ed(0x28a)]=new Map();[_0x5d07ed(0x203)];[_0x5d07ed(0x749)];[_0x5d07ed(0x4ed)];[_0x5d07ed(0x783)];constructor(_0x2aab08,_0x500e32,_0x3d3482,_0x3a431d,_0x3e2392,_0x2c7064,_0x13582b){const _0x799873=_0x5d07ed;this[_0x799873(0x6b3)]=_0x2aab08,this[_0x799873(0x2d1)]=_0x500e32,this[_0x799873(0x77e)]=_0x3d3482,this['maxFps']=_0x3a431d,this[_0x799873(0x577)]=_0x3e2392,this[_0x799873(0x5bc)]=_0x13582b,this['messageBuffer']=new _0x3fe540(),this[_0x799873(0x749)]=new _0x12fac5(this['configs'][_0x799873(0x67d)]['getId'](),this[_0x799873(0x783)],_0x2c7064),this[_0x799873(0x4ed)]=new _0x168cf2(this[_0x799873(0x6b3)]['vendorId'],this['configs'][_0x799873(0x316)],this[_0x799873(0x6b3)][_0x799873(0x67d)],_0x799873(0x779),this[_0x799873(0x2d1)]),this[_0x799873(0x203)]=new _0x15e76b(this[_0x799873(0x6b3)]['localNode'][_0x799873(0x580)](),this[_0x799873(0x783)]),this[_0x799873(0x203)][_0x799873(0x214)](this['connectionGroup']),this[_0x799873(0x203)][_0x799873(0x214)](this[_0x799873(0x4ed)]),this[_0x799873(0x6b3)][_0x799873(0x5ee)][_0x799873(0x796)](this[_0x799873(0x203)]);}['close'](){const _0x1936d7=_0x5d07ed;this[_0x1936d7(0x783)]['close'](),this[_0x1936d7(0x28a)][_0x1936d7(0x487)]((_0x5dc318,_0x1bee9e)=>this[_0x1936d7(0x217)](_0x1bee9e)),this['configs'][_0x1936d7(0x5ee)][_0x1936d7(0x61b)](this['connectionPool']),this[_0x1936d7(0x203)][_0x1936d7(0x5fe)](this['signalingServer']),this[_0x1936d7(0x203)][_0x1936d7(0x5fe)](this[_0x1936d7(0x749)]),this[_0x1936d7(0x203)][_0x1936d7(0x6d1)](),this[_0x1936d7(0x4ed)][_0x1936d7(0x6d1)](),this[_0x1936d7(0x749)][_0x1936d7(0x6d1)]();}async[_0x5d07ed(0x30e)](){const _0x5b94d9=_0x5d07ed;await this[_0x5b94d9(0x4ed)][_0x5b94d9(0x572)]();}async['createConnection'](_0x1dd27b,_0x29b878=_0x457a86['Core']){const _0xab3c43=_0x5d07ed;if(this[_0xab3c43(0x28a)][_0xab3c43(0x461)](_0x1dd27b)){if(this[_0xab3c43(0x28a)]['get'](_0x1dd27b)?.[_0xab3c43(0x520)]()===_0x457a86[_0xab3c43(0x4d4)]&&_0x29b878===_0x457a86[_0xab3c43(0x3ea)])return void this['connections'][_0xab3c43(0x58c)](_0x1dd27b)?.[_0xab3c43(0x4a6)](_0x457a86[_0xab3c43(0x3ea)]);throw new _0x187b09(_0x187b09[_0xab3c43(0x545)][_0xab3c43(0x3bc)],{'localId':this[_0xab3c43(0x6b3)]['localNode'][_0xab3c43(0x580)](),'remoteId':_0x1dd27b});}const _0x173b3f=new _0x3967f5(this[_0xab3c43(0x6b3)]['clusterId'],this[_0xab3c43(0x6b3)][_0xab3c43(0x67d)],_0x1dd27b,this[_0xab3c43(0x77e)],_0x29b878,this['maxFps'],this['maxBpp'],this['connectionConstructor']);this['connections'][_0xab3c43(0x518)](_0x1dd27b,_0x173b3f),this[_0xab3c43(0x749)][_0xab3c43(0x214)](_0x173b3f),this[_0xab3c43(0x6b3)][_0xab3c43(0x5ee)][_0xab3c43(0x796)](_0x173b3f),this[_0xab3c43(0x6b3)][_0xab3c43(0x5ee)][_0xab3c43(0x6d6)](_0x1dd27b),await _0x173b3f[_0xab3c43(0x572)]();}[_0x5d07ed(0x6af)](){const _0x87ebfa=_0x5d07ed;return this[_0x87ebfa(0x749)];}[_0x5d07ed(0x730)](_0x12259d){const _0x3bef44=_0x5d07ed;if(!this['connections'][_0x3bef44(0x461)](_0x12259d))throw new _0x187b09(_0x187b09['codes'][_0x3bef44(0x782)],{'localId':this[_0x3bef44(0x6b3)][_0x3bef44(0x67d)][_0x3bef44(0x580)](),'remoteId':_0x12259d});return this['connections'][_0x3bef44(0x58c)](_0x12259d);}[_0x5d07ed(0x31f)](_0x36408f){const _0x2bb661=_0x5d07ed,_0x573dd2=Array[_0x2bb661(0x45d)](this[_0x2bb661(0x28a)][_0x2bb661(0x3ec)]());return _0x36408f?_0x573dd2['filter'](_0x36408f):_0x573dd2;}async[_0x5d07ed(0x389)](_0x266d60){const _0x30aa29=_0x5d07ed,_0x5514a4=this[_0x30aa29(0x28a)]['get'](_0x266d60);_0x5514a4&&_0x5514a4[_0x30aa29(0x1f6)]()&&await _0x5514a4[_0x30aa29(0x389)]();}[_0x5d07ed(0x6a9)](_0x747070){const _0x8e2c97=_0x5d07ed;if(_0x747070[_0x8e2c97(0x5e7)]!==_0x772a3e[_0x8e2c97(0x63e)]||_0x747070[_0x8e2c97(0x77b)])try{this['connectionGroup'][_0x8e2c97(0x6a8)](_0x747070);}catch(_0x1af2fe){if(_0x1af2fe instanceof _0x43b1de)return;throw _0x1af2fe;}else this[_0x8e2c97(0x203)][_0x8e2c97(0x6a8)](_0x747070);}async[_0x5d07ed(0x78f)](_0x56dece){const _0x561d85=_0x5d07ed;switch(_0x56dece[_0x561d85(0x226)]['type']){case _0x2c6c4e['Disconnect']:case _0x2c6c4e[_0x561d85(0x5e0)]:case _0x2c6c4e[_0x561d85(0x471)]:return;}if(!_0x56dece[_0x561d85(0x344)]||0x1!==_0x56dece[_0x561d85(0x344)]['length'])throw new _0x187b09(_0x187b09[_0x561d85(0x545)][_0x561d85(0x365)],{'message':_0x561d85(0x5e1),'event':_0x56dece});if(_0x56dece[_0x561d85(0x344)][0x0]!==this[_0x561d85(0x6b3)][_0x561d85(0x67d)]['getId']())throw new _0x187b09(_0x187b09['codes'][_0x561d85(0x365)],{'message':_0x561d85(0x3f2),'event':_0x56dece});if(!this[_0x561d85(0x28a)][_0x561d85(0x461)](_0x56dece[_0x561d85(0x510)])){let _0x13a98a=_0x457a86['Core'];if(!(this[_0x561d85(0x4ad)](_0x56dece[_0x561d85(0x226)])||this[_0x561d85(0x597)](_0x56dece[_0x561d85(0x226)])||this[_0x561d85(0x71b)](_0x56dece['content'])))return;_0x13a98a=_0x56dece[_0x561d85(0x226)][_0x561d85(0x3d3)],await this['createConnection'](_0x56dece[_0x561d85(0x510)],_0x13a98a);}const _0x30a552=this[_0x561d85(0x28a)][_0x561d85(0x58c)](_0x56dece['sourceId']);await _0x30a552[_0x561d85(0x78f)](_0x56dece);}['handleRemediationSystemEvents'](_0x3f4a82){const _0x5801fa=_0x5d07ed;if(_0x3f4a82['content'][_0x5801fa(0x4ba)]===_0xdca67f[_0x5801fa(0x398)]){if(_0x3f4a82['content'][_0x5801fa(0x733)]===this[_0x5801fa(0x6b3)][_0x5801fa(0x67d)]['getId']())return void this[_0x5801fa(0x28a)]['forEach'](_0x2f70d2=>_0x2f70d2[_0x5801fa(0x38e)](_0x3f4a82));this[_0x5801fa(0x28a)][_0x5801fa(0x58c)](_0x3f4a82[_0x5801fa(0x226)][_0x5801fa(0x733)])?.[_0x5801fa(0x38e)](_0x3f4a82);}}[_0x5d07ed(0x23e)]({content:_0xd5d71b}){const _0x303ea6=_0x5d07ed;_0xd5d71b[_0x303ea6(0x4ba)]===_0x2511d0[_0x303ea6(0x2c7)]&&this['closeConnection'](_0xd5d71b['id']);}[_0x5d07ed(0x217)](_0x4e8fb4){const _0x3a172a=_0x5d07ed,_0x102f1d=this['connections']['get'](_0x4e8fb4);_0x102f1d&&(this[_0x3a172a(0x6b3)]['mediator'][_0x3a172a(0x48d)](_0x4e8fb4),this['configs'][_0x3a172a(0x5ee)][_0x3a172a(0x61b)](_0x102f1d),_0x102f1d instanceof _0x3967f5&&this[_0x3a172a(0x749)][_0x3a172a(0x5fe)](_0x102f1d),_0x102f1d[_0x3a172a(0x6d1)](),this[_0x3a172a(0x28a)][_0x3a172a(0x702)](_0x4e8fb4));}['isOffer'](_0x32b27f){const _0x367283=_0x5d07ed;return _0x32b27f[_0x367283(0x4ba)]===_0x2c6c4e[_0x367283(0x685)];}['isNeedRestart'](_0x1af00e){const _0xa00397=_0x5d07ed;return _0x1af00e[_0xa00397(0x4ba)]===_0x2c6c4e[_0xa00397(0x473)];}['isIceCandidate'](_0x569ac6){const _0x3ba186=_0x5d07ed;return _0x569ac6['type']===_0x2c6c4e[_0x3ba186(0x3e7)];}}!function(_0x454e95){const _0x13fd0b=_0x5d07ed;_0x454e95[_0x454e95[_0x13fd0b(0x33c)]=0x0]=_0x13fd0b(0x33c),_0x454e95[_0x454e95[_0x13fd0b(0x77c)]=0x1]=_0x13fd0b(0x77c),_0x454e95[_0x454e95['UnsubscribeMediaStream']=0x2]=_0x13fd0b(0x6b8),_0x454e95[_0x454e95['NeedMediaStream']=0x3]='NeedMediaStream',_0x454e95[_0x454e95['RestartNeedMediaStream']=0x4]=_0x13fd0b(0x313),_0x454e95[_0x454e95[_0x13fd0b(0x478)]=0x5]=_0x13fd0b(0x478),_0x454e95[_0x454e95['CannotProvideMediaStream']=0x6]='CannotProvideMediaStream',_0x454e95[_0x454e95[_0x13fd0b(0x578)]=0x7]=_0x13fd0b(0x578);}(_0x653563||(_0x653563={}));class _0x554801 extends _0x102607{[_0x5d07ed(0x67d)];['clusterId'];[_0x5d07ed(0x441)];[_0x5d07ed(0x45a)];[_0x5d07ed(0x62a)];['lastTransactionId'];['pendingSyncTransactions']=new Map();['objectRequests']=new Map();[_0x5d07ed(0x256)]=new Map();[_0x5d07ed(0x40a)]=new Map();[_0x5d07ed(0x4dc)]=new Map();[_0x5d07ed(0x5ff)];[_0x5d07ed(0x405)]=_0x274b6d();[_0x5d07ed(0x49b)];[_0x5d07ed(0x641)];[_0x5d07ed(0x5fa)]=0x0;[_0x5d07ed(0x220)]=0x0;constructor(_0x42c92a,_0x3eab1f,_0x4d3373,_0xec41a1,_0x53735b,_0x4e1a4f){const _0xd048d7=_0x5d07ed;if('string'!=typeof _0x3eab1f)throw new _0xc4bd71(_0x294755[_0xd048d7(0x4cb)],_0xd048d7(0x5af));super(_0x42c92a,_0x3eab1f),this[_0xd048d7(0x67d)]=_0x42c92a,this[_0xd048d7(0x316)]=_0x4d3373,this[_0xd048d7(0x441)]=_0xec41a1,this[_0xd048d7(0x45a)]=_0x53735b;const _0x5e2d8c='ccc'+this[_0xd048d7(0x441)]+'ccc'+this[_0xd048d7(0x316)]+_0xd048d7(0x327)+_0x3eab1f;this[_0xd048d7(0x5ff)]=new _0x4e1a4f(_0x5e2d8c);}[_0x5d07ed(0x3cc)](){const _0x292bed=_0x5d07ed;return _0x4b08d8[_0x292bed(0x758)][_0x292bed(0x56d)];}async['sync'](){const _0x298e47=_0x5d07ed;try{const _0x591f14=await this[_0x298e47(0x5ff)][_0x298e47(0x58c)](_0x291e28),_0x3dad97=await _0x591f14[_0x298e47(0x6b5)]();this[_0x298e47(0x337)]=_0x3dad97;}catch(_0x193292){}this[_0x298e47(0x62a)]=this['onMessage'](async(_0x1b8511,_0x248f59)=>{const _0x57dcf9=_0x298e47;if(!(_0x248f59 instanceof File))try{if(_0x248f59['payloadType']===_0x553e08[_0x57dcf9(0x51b)])return void this[_0x57dcf9(0x43b)](_0x248f59);this[_0x57dcf9(0x5ca)](_0x248f59);}catch(_0x39e958){if(_0x39e958 instanceof _0x187b09)throw _0x39e958;throw new _0x187b09(_0x187b09[_0x57dcf9(0x545)][_0x57dcf9(0x777)],{'payload':_0x248f59});}}),await this[_0x298e47(0x5ae)](),await this[_0x298e47(0x794)](),this[_0x298e47(0x341)]();}[_0x5d07ed(0x535)](){const _0x51dbc0=_0x5d07ed;this[_0x51dbc0(0x62a)]?.(),clearTimeout(this[_0x51dbc0(0x641)]),delete this[_0x51dbc0(0x641)],super[_0x51dbc0(0x535)]();}[_0x5d07ed(0x6d1)](){const _0x12ad50=_0x5d07ed;this[_0x12ad50(0x63a)]?.[_0x12ad50(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x12ad50(0x68e)],'content':{'type':_0x459e26['CloseObjectStoreBucket'],'label':this[_0x12ad50(0x710)]}});}[_0x5d07ed(0x354)](_0x59e8bd){const _0x196fa7=_0x5d07ed;if(this['listenerUnsubscriber'])throw new _0xc4bd71(_0x294755[_0x196fa7(0x246)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x196fa7(0x49b)]=this[_0x196fa7(0x405)][_0x196fa7(0x354)](_0x59e8bd);}['unsubscribe'](){const _0x5d1828=_0x5d07ed;this[_0x5d1828(0x49b)]&&this[_0x5d1828(0x49b)]();}[_0x5d07ed(0x3f9)](_0x3d00ab){const _0x46f930=_0x5d07ed;switch(_0x3d00ab[_0x46f930(0x3d0)]){case _0x4b08d8[_0x46f930(0x342)]['File']:return this[_0x46f930(0x6e3)](_0x3d00ab[_0x46f930(0x2df)],_0x3d00ab[_0x46f930(0x319)]);case _0x4b08d8[_0x46f930(0x342)][_0x46f930(0x55d)]:return this[_0x46f930(0x5ab)](_0x3d00ab[_0x46f930(0x319)]);case _0x4b08d8['PayloadAction'][_0x46f930(0x484)]:return this[_0x46f930(0x681)](_0x3d00ab[_0x46f930(0x319)],_0x3d00ab[_0x46f930(0x38c)]);default:throw new _0xc4bd71(_0x294755['ObjectStoreInvalidPayload'],_0x46f930(0x450)+_0x3d00ab);}}async[_0x5d07ed(0x25a)](_0x11bb9b){const _0x1553f8=_0x5d07ed;try{const _0x383cba=(0x0,_0x200f3e['v4'])(),_0x3cc13c=this[_0x1553f8(0x337)],_0x458f37={'payloadType':_0x553e08[_0x1553f8(0x517)],'action':_0x3c562e[_0x1553f8(0x6b0)],'id':_0x383cba,'parentId':_0x3cc13c,'path':_0x11bb9b};await this[_0x1553f8(0x430)](_0x458f37);const _0x379c3d=await this['deleteObject'](_0x11bb9b);await this[_0x1553f8(0x6a8)](_0x458f37),_0x218f12[_0x1553f8(0x4c5)](_0x5bfa6a['ObjectStorage'],{'type':_0x1553f8(0x25a),'label':this[_0x1553f8(0x710)],'nodeId':this[_0x1553f8(0x67d)][_0x1553f8(0x580)](),'nodeType':this[_0x1553f8(0x67d)][_0x1553f8(0x4ba)],'kind':_0x379c3d,'path':_0x11bb9b}),this['writes']+=0x1,this[_0x1553f8(0x341)]();}catch(_0x17ccef){if(_0x17ccef instanceof _0x187b09)throw new _0xc4bd71(_0x294755[_0x1553f8(0x449)],_0x1553f8(0x644));throw new _0xc4bd71(_0x294755[_0x1553f8(0x5f4)],_0x1553f8(0x5d9)+_0x11bb9b);}}async[_0x5d07ed(0x58c)](_0x41233c){const _0x3b846e=_0x5d07ed;_0x218f12[_0x3b846e(0x4c5)](_0x5bfa6a['ObjectStorage'],{'type':_0x3b846e(0x58c),'label':this[_0x3b846e(0x710)],'nodeId':this['localNode'][_0x3b846e(0x580)](),'nodeType':this['localNode'][_0x3b846e(0x4ba)],'path':_0x41233c}),this['reads']+=0x1,this[_0x3b846e(0x341)]();try{return await this[_0x3b846e(0x5ff)][_0x3b846e(0x58c)](_0x41233c);}catch(_0x3c4ace){try{await this['objectStoreConnector']['get'](_0x41233c+_0x43ed57);}catch(_0xde13d){throw new _0xc4bd71(_0x294755[_0x3b846e(0x5f4)],'Cannot\x20get\x20file:\x20'+_0x41233c);}throw new _0xc4bd71(_0x294755['ObjectStoreNotInSync'],_0x3b846e(0x5ad));}}async[_0x5d07ed(0x720)](_0x776ee2,_0x48600a=!0x1,_0x59bb26=!0x1){const _0x478027=_0x5d07ed;_0x218f12[_0x478027(0x4c5)](_0x5bfa6a[_0x478027(0x620)],{'type':'list','label':this[_0x478027(0x710)],'nodeId':this['localNode'][_0x478027(0x580)](),'nodeType':this[_0x478027(0x67d)][_0x478027(0x4ba)],'path':_0x776ee2}),this[_0x478027(0x220)]+=0x1,this[_0x478027(0x341)]();try{const _0x89205=await this[_0x478027(0x5ff)][_0x478027(0x720)](_0x776ee2,_0x48600a);return _0x59bb26?_0x89205:this['cleanList'](_0x89205);}catch(_0x45a2e0){throw new _0xc4bd71(_0x294755['ObjectStoreInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x776ee2);}}['handleNodeJoin'](_0x4a36f7){const _0x38897c=_0x5d07ed;for(const _0xa59fa0 of this['objectRequests'][_0x38897c(0x3ec)]())this[_0x38897c(0x6a8)](_0xa59fa0,[_0x4a36f7]);}[_0x5d07ed(0x3c2)](_0xfd539f){const _0x4fbbe3=_0x5d07ed,_0x1d3ed5=this[_0x4fbbe3(0x256)][_0x4fbbe3(0x58c)](_0xfd539f);if(_0x1d3ed5){for(const [_0x2e7df1,_0x592554]of _0x1d3ed5[_0x4fbbe3(0x3ec)]())this['sendFileRequestPayload'](_0x2e7df1,_0x592554);this[_0x4fbbe3(0x256)]['delete'](_0xfd539f);}}['cleanList'](_0x285f65){const _0x4b025f=_0x5d07ed;for(const _0x5a590f of _0x285f65)_0x5a590f[_0x4b025f(0x763)]===_0x4b08d8[_0x4b025f(0x53a)][_0x4b025f(0x55d)]&&(_0x5a590f[_0x4b025f(0x636)]=this[_0x4b025f(0x4f5)](_0x5a590f['entries']??[])),(_0x5a590f['name'][_0x4b025f(0x212)](_0x43ed57)||_0x5a590f[_0x4b025f(0x768)]===_0x291e28)&&_0x285f65['splice'](_0x285f65[_0x4b025f(0x568)](_0x5a590f),0x1);return _0x285f65;}async['publishFile'](_0x721140,_0x15bee8){const _0x3b3071=_0x5d07ed;try{const _0x2622d6=(0x0,_0x200f3e['v4'])(),_0x3c56ab=this[_0x3b3071(0x337)],_0x536fbe=await _0x433d7b(_0x721140);await this[_0x3b3071(0x430)]({'payloadType':_0x553e08[_0x3b3071(0x517)],'action':_0x3c562e[_0x3b3071(0x57c)],'id':_0x2622d6,'parentId':_0x3c56ab,'answererId':this[_0x3b3071(0x67d)][_0x3b3071(0x580)](),'name':_0x721140['name'],'type':_0x721140[_0x3b3071(0x4ba)],'path':_0x15bee8??'/','checksum':_0x536fbe}),await this[_0x3b3071(0x567)](_0x721140,_0x15bee8),await this[_0x3b3071(0x448)](_0x721140,{'payloadType':_0x553e08[_0x3b3071(0x517)],'action':_0x3c562e[_0x3b3071(0x57c)],'id':_0x2622d6,'parentId':_0x3c56ab,'answererId':this[_0x3b3071(0x67d)][_0x3b3071(0x580)](),'name':_0x721140[_0x3b3071(0x768)],'type':_0x721140[_0x3b3071(0x4ba)],'path':_0x15bee8??'/','checksum':_0x536fbe}),_0x218f12[_0x3b3071(0x4c5)](_0x5bfa6a['ObjectStorage'],{'type':_0x3b3071(0x3f9),'label':this[_0x3b3071(0x710)],'nodeId':this[_0x3b3071(0x67d)][_0x3b3071(0x580)](),'nodeType':this['localNode'][_0x3b3071(0x4ba)],'kind':_0x4b08d8[_0x3b3071(0x53a)][_0x3b3071(0x481)],'path':_0x15bee8,'fileName':_0x721140['name'],'fileType':_0x721140[_0x3b3071(0x4ba)],'size':_0x721140[_0x3b3071(0x6b1)]}),this[_0x3b3071(0x5fa)]+=0x1,this['sendStats']();}catch(_0x1fd9ed){if(_0x1fd9ed instanceof _0x187b09)throw new _0xc4bd71(_0x294755['ObjectStoreNotInSync'],_0x3b3071(0x5ad));throw new _0xc4bd71(_0x294755[_0x3b3071(0x5f4)],_0x3b3071(0x4c1)+_0x15bee8);}}async[_0x5d07ed(0x5ab)](_0x3dca8f){const _0x17aacd=_0x5d07ed;try{const _0x591e0a=(0x0,_0x200f3e['v4'])(),_0x5f02fa=this[_0x17aacd(0x337)],_0x50db40={'payloadType':_0x553e08[_0x17aacd(0x517)],'action':_0x3c562e[_0x17aacd(0x3b8)],'id':_0x591e0a,'parentId':_0x5f02fa,'path':_0x3dca8f};await this['publishTransaction'](_0x50db40),await this[_0x17aacd(0x5ff)][_0x17aacd(0x74d)](_0x3dca8f),await this['send'](_0x50db40),_0x218f12[_0x17aacd(0x4c5)](_0x5bfa6a[_0x17aacd(0x620)],{'type':_0x17aacd(0x3f9),'label':this[_0x17aacd(0x710)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x17aacd(0x67d)][_0x17aacd(0x4ba)],'kind':_0x4b08d8[_0x17aacd(0x53a)]['Folder'],'path':_0x3dca8f}),this['writes']+=0x1,this[_0x17aacd(0x341)]();}catch(_0x17a3f6){if(_0x17a3f6 instanceof _0x187b09)throw new _0xc4bd71(_0x294755[_0x17aacd(0x449)],_0x17aacd(0x5ad));throw new _0xc4bd71(_0x294755[_0x17aacd(0x5f4)],_0x17aacd(0x593)+_0x3dca8f);}}async[_0x5d07ed(0x681)](_0x1c794a,_0x49287b){const _0x42c1b3=_0x5d07ed;try{const _0x3c43d1=(0x0,_0x200f3e['v4'])(),_0x1d8aa1=this[_0x42c1b3(0x337)],_0x41fedf={'payloadType':_0x553e08[_0x42c1b3(0x517)],'action':_0x3c562e[_0x42c1b3(0x484)],'id':_0x3c43d1,'parentId':_0x1d8aa1,'path':_0x1c794a,'newPath':_0x49287b};await this['publishTransaction'](_0x41fedf);const _0x213e6f=await this[_0x42c1b3(0x64a)](_0x1c794a,_0x49287b);await this[_0x42c1b3(0x6a8)](_0x41fedf),_0x218f12[_0x42c1b3(0x4c5)](_0x5bfa6a[_0x42c1b3(0x620)],{'type':_0x42c1b3(0x6dd),'label':this[_0x42c1b3(0x710)],'nodeId':this[_0x42c1b3(0x67d)]['getId'](),'nodeType':this[_0x42c1b3(0x67d)][_0x42c1b3(0x4ba)],'kind':_0x213e6f,'path':_0x1c794a,'newPath':_0x49287b}),this['writes']+=0x1,this['sendStats']();}catch(_0x122e34){if(_0x122e34 instanceof _0x187b09)throw new _0xc4bd71(_0x294755[_0x42c1b3(0x449)],_0x42c1b3(0x5ad));throw new _0xc4bd71(_0x294755['ObjectStoreInvalidPath'],'Cannot\x20publish\x20move\x20operation:\x20'+_0x1c794a);}}async[_0x5d07ed(0x5ca)](_0x316ea8){const _0x3291b7=_0x5d07ed;if(this[_0x3291b7(0x337)]&&_0x316ea8[_0x3291b7(0x1f7)]!==this[_0x3291b7(0x337)]&&_0x316ea8['id']!==this[_0x3291b7(0x337)]){if(!_0x316ea8[_0x3291b7(0x1f7)])throw new _0x187b09(_0x187b09[_0x3291b7(0x545)]['ObjectStoreInvalidSyncMessage']);this['pendingSyncTransactions'][_0x3291b7(0x518)](_0x316ea8[_0x3291b7(0x1f7)],_0x316ea8);}else{try{await this[_0x3291b7(0x228)](_0x316ea8);}catch(_0x2d5b8e){}await this[_0x3291b7(0x716)](_0x316ea8['id']),await this[_0x3291b7(0x280)](_0x316ea8['id']);}}async['processTransactionPayload'](_0x3a4b28){const _0x4824b5=_0x5d07ed;switch(_0x3a4b28[_0x4824b5(0x3d0)]){case _0x3c562e[_0x4824b5(0x57c)]:await this[_0x4824b5(0x67a)](_0x3a4b28);break;case _0x3c562e[_0x4824b5(0x3b8)]:await this[_0x4824b5(0x5d0)](_0x3a4b28);break;case _0x3c562e['Move']:await this[_0x4824b5(0x460)](_0x3a4b28);break;case _0x3c562e[_0x4824b5(0x6b0)]:await this[_0x4824b5(0x3b4)](_0x3a4b28);break;default:throw new _0x187b09(_0x187b09['codes'][_0x4824b5(0x777)],{'payload':_0x3a4b28});}}async[_0x5d07ed(0x280)](_0x252b49){const _0x2dabcc=_0x5d07ed;if(this[_0x2dabcc(0x345)]['has'](_0x252b49)){const _0x20989e=this['pendingSyncTransactions']['get'](_0x252b49);this['pendingSyncTransactions']['delete'](_0x252b49),await this[_0x2dabcc(0x5ca)](_0x20989e);}}async['handleRequestPayload'](_0x4d4ffc){const _0x202531=_0x5d07ed;switch(_0x4d4ffc[_0x202531(0x3d0)]){case _0x3c562e[_0x202531(0x4b6)]:return this[_0x202531(0x5f7)](_0x4d4ffc);case _0x3c562e[_0x202531(0x200)]:return this[_0x202531(0x44d)](_0x4d4ffc);case _0x3c562e[_0x202531(0x247)]:return this[_0x202531(0x766)](_0x4d4ffc);case _0x3c562e[_0x202531(0x4aa)]:return this[_0x202531(0x67a)](_0x4d4ffc);default:throw new _0x187b09(_0x187b09['codes'][_0x202531(0x777)],{'payload':_0x4d4ffc});}}async[_0x5d07ed(0x67a)](_0x5eeb78){const _0x58536c=_0x5d07ed;if(!_0x5eeb78[_0x58536c(0x269)]||void 0x0===_0x5eeb78['index']||!_0x5eeb78['total'])return void await this[_0x58536c(0x43e)](_0x5eeb78);const _0x33c5e6=_0x2c4fa1(_0x5eeb78[_0x58536c(0x319)],_0x5eeb78['name']);this['fileChunks'][_0x58536c(0x461)](_0x33c5e6)||(this[_0x58536c(0x41a)]['set'](_0x33c5e6,[]),await this[_0x58536c(0x43e)](_0x5eeb78)),this['setPendingFileSyncingPayload'](_0x5eeb78,_0x33c5e6);const _0x3c66b4=this[_0x58536c(0x41a)]['get'](_0x33c5e6);if(_0x3c66b4[_0x5eeb78[_0x58536c(0x56a)]]=_0x5eeb78[_0x58536c(0x269)],_0x3c66b4[_0x58536c(0x759)](_0x3bc399=>_0x3bc399)[_0x58536c(0x57d)]<_0x5eeb78[_0x58536c(0x562)])return;const _0x246cbf=_0x102ca6(_0x3c66b4,_0x5eeb78[_0x58536c(0x768)],_0x5eeb78[_0x58536c(0x4ba)]);await this[_0x58536c(0x567)](_0x246cbf,_0x5eeb78['path']),await this[_0x58536c(0x2b8)](_0x5eeb78),this[_0x58536c(0x41a)]['delete'](_0x33c5e6),_0x218f12[_0x58536c(0x4c5)](_0x5bfa6a[_0x58536c(0x620)],{'type':_0x58536c(0x4ce),'label':this[_0x58536c(0x710)],'nodeId':this[_0x58536c(0x67d)][_0x58536c(0x580)](),'nodeType':this['localNode'][_0x58536c(0x4ba)],'kind':_0x4b08d8['ObjectKind'][_0x58536c(0x481)],'path':_0x5eeb78[_0x58536c(0x319)],'fileName':_0x5eeb78[_0x58536c(0x768)],'fileType':_0x5eeb78['type'],'size':_0x246cbf[_0x58536c(0x6b1)]});const _0x4b299f=this[_0x58536c(0x40a)][_0x58536c(0x58c)](_0x5eeb78[_0x58536c(0x319)])??[];for(const _0x361784 of _0x4b299f)await this[_0x58536c(0x228)](_0x361784);this[_0x58536c(0x40a)][_0x58536c(0x702)](_0x5eeb78[_0x58536c(0x319)]),this[_0x58536c(0x405)][_0x58536c(0x3f9)]({'event':_0x4b08d8[_0x58536c(0x3bd)][_0x58536c(0x57c)],'payload':{'file':{'kind':_0x4b08d8[_0x58536c(0x53a)]['File'],'path':_0x5eeb78[_0x58536c(0x319)],'type':_0x246cbf[_0x58536c(0x4ba)],'size':_0x246cbf[_0x58536c(0x6b1)],'name':_0x5eeb78[_0x58536c(0x768)],'pathName':_0x33c5e6}}});}async[_0x5d07ed(0x5d0)](_0x359448){const _0x5bb364=_0x5d07ed;await this[_0x5bb364(0x5ff)]['createFolder'](_0x359448[_0x5bb364(0x319)]);const [_0x2c59ec,_0x6a540c]=_0x6d9c14(_0x359448[_0x5bb364(0x319)]);this[_0x5bb364(0x405)][_0x5bb364(0x3f9)]({'event':_0x4b08d8[_0x5bb364(0x3bd)][_0x5bb364(0x3b8)],'payload':{'folder':{'kind':_0x4b08d8[_0x5bb364(0x53a)]['Folder'],'name':_0x6a540c,'path':_0x2c59ec,'pathName':_0x359448[_0x5bb364(0x319)]}}});}async[_0x5d07ed(0x3b4)](_0x1d4a70){const _0x26bbe6=_0x5d07ed;if(!this['shouldProcessTransaction'](_0x1d4a70))return;const _0x335f69=await this['deleteObject'](_0x1d4a70[_0x26bbe6(0x319)]),[_0x987d9c,_0x1220bc]=_0x6d9c14(_0x1d4a70[_0x26bbe6(0x319)]);this[_0x26bbe6(0x405)][_0x26bbe6(0x3f9)]({'event':_0x335f69===_0x4b08d8[_0x26bbe6(0x53a)][_0x26bbe6(0x55d)]?_0x4b08d8[_0x26bbe6(0x3bd)][_0x26bbe6(0x50a)]:_0x4b08d8['StorageEventType'][_0x26bbe6(0x6bd)],'payload':{'name':_0x1220bc,'path':_0x987d9c,'pathName':_0x1d4a70[_0x26bbe6(0x319)]}});}async['handleObjectMove'](_0x4ca245){const _0xdfd3b7=_0x5d07ed;if(!this[_0xdfd3b7(0x259)](_0x4ca245))return this[_0xdfd3b7(0x4dc)][_0xdfd3b7(0x518)](_0x4ca245['newPath'],this[_0xdfd3b7(0x4dc)][_0xdfd3b7(0x58c)](_0x4ca245['path'])??_0x4ca245[_0xdfd3b7(0x319)]),void this[_0xdfd3b7(0x4dc)][_0xdfd3b7(0x702)](_0x4ca245['path']);this['pendingFilesRename']['delete'](_0x4ca245['path']);const _0x6df648=await this['objectStoreConnector'][_0xdfd3b7(0x64a)](_0x4ca245[_0xdfd3b7(0x319)],_0x4ca245[_0xdfd3b7(0x38c)]),[_0x549c1e,_0x6e7d62]=_0x6d9c14(_0x4ca245[_0xdfd3b7(0x319)]),[_0x45749d,_0xf2b06b]=_0x6d9c14(_0x4ca245[_0xdfd3b7(0x38c)]);this[_0xdfd3b7(0x405)][_0xdfd3b7(0x3f9)]({'event':_0x6df648===_0x4b08d8[_0xdfd3b7(0x53a)][_0xdfd3b7(0x55d)]?_0x4b08d8[_0xdfd3b7(0x3bd)][_0xdfd3b7(0x705)]:_0x4b08d8[_0xdfd3b7(0x3bd)][_0xdfd3b7(0x4be)],'payload':{'name':_0xf2b06b,'path':_0x45749d,'pathName':_0x4ca245['newPath'],'oldName':_0x6e7d62,'oldPath':_0x549c1e,'oldPathName':_0x4ca245[_0xdfd3b7(0x319)]}});}['shouldProcessTransaction'](_0xd8019){const _0x217342=_0x5d07ed,_0x134fd6=this[_0x217342(0x4dc)][_0x217342(0x58c)](_0xd8019[_0x217342(0x319)])??_0xd8019[_0x217342(0x319)];let _0x14025d=!0x1;for(const _0x416e81 of this[_0x217342(0x41a)]['keys']())if(_0x416e81[_0x217342(0x671)](_0x134fd6)){const _0x464e89=this[_0x217342(0x40a)][_0x217342(0x58c)](_0x416e81)??[];_0x464e89['push'](_0xd8019),this['pendingFilesTransactions'][_0x217342(0x518)](_0x416e81,_0x464e89),_0x14025d=!0x0;}return!_0x14025d;}async[_0x5d07ed(0x430)](_0x327ec3){const _0x2e6239=_0x5d07ed;if(!_0x327ec3['id'])throw new _0x187b09(_0x187b09[_0x2e6239(0x545)][_0x2e6239(0x777)],{'message':_0x2e6239(0x3b1)});await this['transactionService'][_0x2e6239(0x64c)](_0x327ec3,this[_0x2e6239(0x710)],this[_0x2e6239(0x337)]),await this['updateLastTransactionId'](_0x327ec3['id']);}async['updateLastTransactionId'](_0x2efae6){const _0x353f28=_0x5d07ed;this[_0x353f28(0x337)]=_0x2efae6;const _0x2e61ad=new File([new Blob([this[_0x353f28(0x337)]])],_0x291e28,{'type':_0x353f28(0x5a6)});await this['writeFile'](_0x2e61ad,'/');}async[_0x5d07ed(0x5f7)](_0x439249){const _0x4e9873=_0x5d07ed;try{const _0x2eac70=await this['get'](_0x439249[_0x4e9873(0x319)]+'/'+_0x439249[_0x4e9873(0x768)]);if(await _0x433d7b(_0x2eac70)!==_0x439249['checksum'])return;_0x439249[_0x4e9873(0x35f)]=this[_0x4e9873(0x67d)][_0x4e9873(0x580)](),_0x439249['action']=_0x3c562e['RequestAccepted'],await this[_0x4e9873(0x6a8)](_0x439249,[_0x439249[_0x4e9873(0x510)]]);}catch(_0x1d22fd){}}async[_0x5d07ed(0x44d)](_0x586929){const _0x1709c1=_0x5d07ed,_0x1c719c=_0x2c4fa1(_0x586929[_0x1709c1(0x319)],_0x586929['name']);if(!this['objectRequests']['has'](_0x1c719c))return;const _0x230ec0=this[_0x1709c1(0x651)][_0x1709c1(0x58c)](_0x1c719c);_0x230ec0[_0x1709c1(0x3d0)]=_0x3c562e[_0x1709c1(0x247)];const _0x16af6a=_0x586929[_0x1709c1(0x35f)];if(!_0x16af6a)throw new _0x187b09(_0x187b09[_0x1709c1(0x545)][_0x1709c1(0x777)],{'message':_0x1709c1(0x708)});this[_0x1709c1(0x651)][_0x1709c1(0x702)](_0x1c719c),this[_0x1709c1(0x256)][_0x1709c1(0x461)](_0x16af6a)||this[_0x1709c1(0x256)][_0x1709c1(0x518)](_0x16af6a,new Map()),this[_0x1709c1(0x256)]['get'](_0x16af6a)[_0x1709c1(0x518)](_0x1c719c,[_0x230ec0,this['getOrResetPendingFileTimeout'](_0x16af6a,_0x1c719c)]),_0x230ec0[_0x1709c1(0x35f)]=_0x16af6a,this[_0x1709c1(0x6a8)](_0x230ec0,[_0x16af6a]);}async[_0x5d07ed(0x766)](_0x5651d){const _0xf7bd95=_0x5d07ed,_0x9a67a5=_0x2c4fa1(_0x5651d[_0xf7bd95(0x319)],_0x5651d[_0xf7bd95(0x768)]),_0xfe0a47=await this[_0xf7bd95(0x58c)](_0x9a67a5),_0x2843f5={..._0x5651d,'answererId':this['localNode'][_0xf7bd95(0x580)](),'action':_0x3c562e[_0xf7bd95(0x4aa)]};await this[_0xf7bd95(0x448)](_0xfe0a47,_0x2843f5,[_0x5651d[_0xf7bd95(0x510)]]);}async[_0x5d07ed(0x448)](_0x25dd53,_0x344148,_0x205532){const _0x42ad89=_0x5d07ed,_0xf61b5=await _0x47812c(_0x25dd53);for(const [_0x4adbb9,_0xe02c85]of _0xf61b5[_0x42ad89(0x636)]()){const _0x3e2071={..._0x344148,'type':_0x25dd53['type'],'data':_0xe02c85,'index':_0x4adbb9,'total':_0xf61b5['length']};this[_0x42ad89(0x6a8)](_0x3e2071,_0x205532);}}async[_0x5d07ed(0x2b8)](_0x57e9d3){const _0x364af3=_0x5d07ed;try{const _0x3738c3=_0x2c4fa1(_0x57e9d3[_0x364af3(0x319)],_0x57e9d3[_0x364af3(0x768)]),_0x45306f=_0x3738c3+_0x43ed57;await this['deleteObject'](_0x45306f);const [,_0x471647]=this[_0x364af3(0x256)][_0x364af3(0x58c)](_0x57e9d3[_0x364af3(0x35f)])?.[_0x364af3(0x58c)](_0x3738c3)??[];_0x471647&&(clearTimeout(_0x471647),this[_0x364af3(0x256)][_0x364af3(0x58c)](_0x57e9d3['answererId'])[_0x364af3(0x702)](_0x3738c3));}catch(_0x20ecb9){}}async['syncTransactions'](){const _0x5a72ef=_0x5d07ed,_0x4be7c7=await this[_0x5a72ef(0x45a)][_0x5a72ef(0x348)](this['label'],this['lastTransactionId']);for(const _0x2b0911 of _0x4be7c7)await this[_0x5a72ef(0x5ca)](_0x2b0911);}async['syncPendingFiles'](){const _0x5f2a78=_0x5d07ed,_0xac9aac=await this[_0x5f2a78(0x720)]('/',!0x0,!0x0),_0xf9cdfa=async _0x244a9a=>{const _0x5ee7f5=_0x5f2a78;for(const _0x3620c1 of _0x244a9a){if(_0x3620c1['kind']===_0x4b08d8[_0x5ee7f5(0x53a)][_0x5ee7f5(0x55d)]){_0x3620c1[_0x5ee7f5(0x636)]&&_0x3620c1[_0x5ee7f5(0x636)][_0x5ee7f5(0x57d)]>0x0&&await _0xf9cdfa(_0x3620c1[_0x5ee7f5(0x636)]);continue;}if(!_0x3620c1[_0x5ee7f5(0x768)][_0x5ee7f5(0x212)](_0x43ed57))continue;const _0x1713c3=await this['get'](_0x3620c1[_0x5ee7f5(0x34d)]),_0x560fe9=await _0x1713c3[_0x5ee7f5(0x6b5)](),_0xebd054=_0x3620c1[_0x5ee7f5(0x768)][_0x5ee7f5(0x669)](_0x43ed57,''),_0xe6dee4={'payloadType':_0x553e08[_0x5ee7f5(0x51b)],'action':_0x3c562e[_0x5ee7f5(0x4b6)],'sourceId':this[_0x5ee7f5(0x67d)][_0x5ee7f5(0x580)](),'type':'','path':_0x3620c1[_0x5ee7f5(0x319)],'name':_0xebd054,'checksum':_0x560fe9},_0x4df8bf=_0x2c4fa1(_0x3620c1[_0x5ee7f5(0x319)],_0xebd054);this[_0x5ee7f5(0x651)][_0x5ee7f5(0x518)](_0x4df8bf,_0xe6dee4);}};await _0xf9cdfa(_0xac9aac);}async[_0x5d07ed(0x43e)](_0x28098a){const _0x4c6f84=new File([new Blob([_0x28098a['checksum']])],''+_0x28098a['name']+_0x43ed57,{'type':'text/plain'});await this['writeFile'](_0x4c6f84,_0x28098a['path']);}[_0x5d07ed(0x559)](_0x16aed9,_0x10acb5){const _0x4fd3ef=_0x5d07ed,[_0x5ed017,_0xa905ab]=this[_0x4fd3ef(0x256)][_0x4fd3ef(0x58c)](_0x16aed9)?.[_0x4fd3ef(0x58c)](_0x10acb5)??[];return _0xa905ab&&clearTimeout(_0xa905ab),setTimeout(()=>{const _0x360e74=_0x4fd3ef,[_0x12c98c,_0x35c88a]=this[_0x360e74(0x256)][_0x360e74(0x58c)](_0x16aed9)['get'](_0x10acb5);this[_0x360e74(0x22c)](_0x12c98c,_0x35c88a);},0xea60);}async[_0x5d07ed(0x22c)](_0x209e97,_0x5ecb64){const _0x59ed37=_0x5d07ed;clearTimeout(_0x5ecb64),_0x209e97[_0x59ed37(0x3d0)]=_0x3c562e[_0x59ed37(0x4b6)],this[_0x59ed37(0x651)][_0x59ed37(0x518)](_0x2c4fa1(_0x209e97[_0x59ed37(0x319)],_0x209e97[_0x59ed37(0x768)]),_0x209e97),this[_0x59ed37(0x6a8)](_0x209e97);}[_0x5d07ed(0x6ac)](_0x1a750e,_0x4cabdf){const _0x4b23db=_0x5d07ed;this['pendingFilesSyncing'][_0x4b23db(0x461)](_0x1a750e['answererId'])||this[_0x4b23db(0x256)][_0x4b23db(0x518)](_0x1a750e[_0x4b23db(0x35f)],new Map());const [_0x47d60f]=this[_0x4b23db(0x256)]['get'](_0x1a750e[_0x4b23db(0x35f)])[_0x4b23db(0x58c)](_0x4cabdf)??[{'payloadType':_0x553e08[_0x4b23db(0x51b)],'action':_0x3c562e[_0x4b23db(0x4b6)],'sourceId':this[_0x4b23db(0x67d)][_0x4b23db(0x580)](),'type':_0x1a750e['type'],'name':_0x1a750e[_0x4b23db(0x768)],'path':_0x1a750e[_0x4b23db(0x319)],'checksum':_0x1a750e[_0x4b23db(0x4b8)],'answererId':_0x1a750e[_0x4b23db(0x35f)]}];this[_0x4b23db(0x256)]['get'](_0x1a750e['answererId'])[_0x4b23db(0x518)](_0x4cabdf,[_0x47d60f,this[_0x4b23db(0x559)](_0x1a750e[_0x4b23db(0x35f)],_0x4cabdf)]);}async[_0x5d07ed(0x567)](_0x356bce,_0x13af33){const _0x27d38f=_0x5d07ed;await this['objectStoreConnector'][_0x27d38f(0x567)](_0x356bce,_0x13af33);}async[_0x5d07ed(0x290)](_0x503a2f){const _0x2ff422=_0x5d07ed;try{return await this[_0x2ff422(0x5ff)]['deleteObject'](_0x503a2f);}catch(_0x2630f2){return await this['objectStoreConnector'][_0x2ff422(0x290)](_0x503a2f+_0x43ed57);}}async[_0x5d07ed(0x64a)](_0x1e00b5,_0x154928){const _0x30394b=_0x5d07ed;try{return await this['objectStoreConnector'][_0x30394b(0x64a)](_0x1e00b5,_0x154928);}catch(_0x572d92){return await this['objectStoreConnector'][_0x30394b(0x64a)](_0x1e00b5+_0x43ed57,_0x154928+_0x43ed57);}}[_0x5d07ed(0x341)](){const _0x2a3cb2=_0x5d07ed;this[_0x2a3cb2(0x641)]&&clearTimeout(this[_0x2a3cb2(0x641)]),this[_0x2a3cb2(0x641)]=setTimeout(async()=>{const _0x215932=_0x2a3cb2;delete this[_0x215932(0x641)];const _0x32ff05=await this['objectStoreConnector'][_0x215932(0x48f)]('/');this['systemTopic']?.[_0x215932(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x215932(0x68e)],'content':{'type':_0x459e26[_0x215932(0x490)],'label':this[_0x215932(0x710)],'stats':{'timestamp':Date[_0x215932(0x58e)](),'storage':_0x32ff05,'messagesSent':this[_0x215932(0x54f)],'messagesReceived':this[_0x215932(0x224)],'bytesSent':this[_0x215932(0x728)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x215932(0x220)]}}}),_0x218f12[_0x215932(0x48a)](_0x5bfa6a['ObjectStorage'],_0x215932(0x327)+this['clusterId']+_0x215932(0x327)+this[_0x215932(0x710)],_0x32ff05);},0x1388);}}class _0x264cdc extends _0x343947{[_0x5d07ed(0x20e)];constructor(_0x182cf2,_0x5c7d4d,_0x4f658f){const _0x5244c2=_0x5d07ed;super(_0x182cf2,_0x5c7d4d),this[_0x5244c2(0x20e)]=_0x4f658f;}[_0x5d07ed(0x3cc)](){const _0xd2e33e=_0x5d07ed;return _0x4b08d8['ContentType'][_0xd2e33e(0x769)];}[_0x5d07ed(0x543)](){const _0x224490=_0x5d07ed;return this[_0x224490(0x20e)];}[_0x5d07ed(0x47f)](){const _0x375b00=_0x5d07ed;return this[_0x375b00(0x20e)]['id'];}}class _0xa93b2b extends _0x264cdc{[_0x5d07ed(0x40c)];['params'];['topic'];[_0x5d07ed(0x62e)]=_0x274b6d();constructor(_0x4c272c,_0x43cddc,_0x188bea,_0x10dcbb,_0x5a8660){const _0x56d47d=_0x5d07ed;super(_0x4c272c,_0x43cddc,_0x188bea),this[_0x56d47d(0x40c)]=_0x10dcbb,this[_0x56d47d(0x2e5)]=_0x5a8660;}[_0x5d07ed(0x535)](){const _0x1286e2=_0x5d07ed;this['removeTrack'](_0x1286e2(0x2ce)),this[_0x1286e2(0x4a3)](_0x1286e2(0x2b9)),super[_0x1286e2(0x535)]();}[_0x5d07ed(0x3df)](_0x457b91){const _0x16cb9e=_0x5d07ed;if(!this[_0x16cb9e(0x2d5)])throw new _0x187b09(_0x187b09[_0x16cb9e(0x545)][_0x16cb9e(0x6fa)],{'label':this[_0x16cb9e(0x710)],'ownerId':this[_0x16cb9e(0x3c9)]['getId'](),'remoteId':this[_0x16cb9e(0x40c)]});this[_0x16cb9e(0x2d5)]['publish']({'sourceId':this[_0x16cb9e(0x3c9)][_0x16cb9e(0x580)](),'content':{'action':_0x4453a9[_0x16cb9e(0x3d7)],'track':_0x457b91,'stream':this[_0x16cb9e(0x20e)],'priority':_0x4b08d8[_0x16cb9e(0x6c6)]['Default'],'params':this[_0x16cb9e(0x665)](_0x457b91[_0x16cb9e(0x763)],this[_0x16cb9e(0x2e5)])}});}['removeTrack'](_0x38c9c3){const _0x4fbf19=_0x5d07ed,_0x26f6d2=this[_0x4fbf19(0x1f8)](_0x38c9c3);if(_0x26f6d2){if(!this[_0x4fbf19(0x2d5)])return null;this[_0x4fbf19(0x2d5)]['publish']({'sourceId':this[_0x4fbf19(0x3c9)][_0x4fbf19(0x580)](),'content':{'action':_0x4453a9[_0x4fbf19(0x2ad)],'track':_0x26f6d2,'stream':this[_0x4fbf19(0x20e)]}});}return _0x26f6d2;}[_0x5d07ed(0x5eb)](_0x4ca264){const _0x5b8c8c=_0x5d07ed;if(!this[_0x5b8c8c(0x2d5)])throw new _0x187b09(_0x187b09[_0x5b8c8c(0x545)][_0x5b8c8c(0x6fa)],{'label':this['label'],'ownerId':this[_0x5b8c8c(0x3c9)][_0x5b8c8c(0x580)](),'remoteId':this[_0x5b8c8c(0x40c)]});this['topic'][_0x5b8c8c(0x3f9)]({'sourceId':this[_0x5b8c8c(0x3c9)][_0x5b8c8c(0x580)](),'content':{'action':_0x4453a9['Update'],'priority':_0x4ca264,'stream':this[_0x5b8c8c(0x20e)]}});}['subscribe']({trackKinds:_0x4c83c9,params:_0x4e7016},_0x15f2d4){const _0x577732=_0x5d07ed;if(!this[_0x577732(0x2d5)])throw new _0x187b09(_0x187b09[_0x577732(0x545)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x577732(0x710)],'ownerId':this['owner'][_0x577732(0x580)](),'remoteId':this['remoteId']});for(const _0xb0a6f4 of this['mediaStream'][_0x577732(0x638)]())_0x4c83c9[_0x577732(0x610)](_0xb0a6f4[_0x577732(0x763)])&&this[_0x577732(0x2d5)]['publish']({'sourceId':this[_0x577732(0x3c9)][_0x577732(0x580)](),'content':{'action':_0x4453a9[_0x577732(0x3d7)],'track':_0xb0a6f4,'stream':this[_0x577732(0x20e)],'priority':_0x15f2d4,'params':this[_0x577732(0x665)](_0xb0a6f4[_0x577732(0x763)],_0x4e7016)}});}['update']({params:_0x35b5b2}){const _0x242837=_0x5d07ed;if(!this[_0x242837(0x2d5)])throw new _0x187b09(_0x187b09[_0x242837(0x545)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x242837(0x3c9)][_0x242837(0x580)](),'remoteId':this[_0x242837(0x40c)]});for(const _0x299c34 of this[_0x242837(0x20e)]['getTracks']())this[_0x242837(0x2d5)]['publish']({'sourceId':this[_0x242837(0x3c9)][_0x242837(0x580)](),'content':{'action':_0x4453a9['Update'],'stream':this[_0x242837(0x20e)],'params':this[_0x242837(0x665)](_0x299c34[_0x242837(0x763)],_0x35b5b2)}});}[_0x5d07ed(0x751)]({trackKinds:_0x707dee}){const _0x36575c=_0x5d07ed;if(this[_0x36575c(0x2d5)]){for(const _0x551dbf of this['mediaStream'][_0x36575c(0x638)]())_0x707dee[_0x36575c(0x610)](_0x551dbf[_0x36575c(0x763)])&&this[_0x36575c(0x2d5)][_0x36575c(0x3f9)]({'sourceId':this[_0x36575c(0x3c9)][_0x36575c(0x580)](),'content':{'action':_0x4453a9[_0x36575c(0x2ad)],'stream':this[_0x36575c(0x20e)],'track':_0x551dbf}});}}[_0x5d07ed(0x2c5)](_0x28eae8){const _0x55a1c6=_0x5d07ed;this[_0x55a1c6(0x2d5)]=_0x28eae8;}[_0x5d07ed(0x65e)](_0x43c7c9){const _0x4b0363=_0x5d07ed;_0x43c7c9===this[_0x4b0363(0x2d5)]&&(delete this[_0x4b0363(0x2d5)],this[_0x4b0363(0x62e)]['publish']());}[_0x5d07ed(0x239)](_0xc45621){const _0x3fe502=_0x5d07ed;return this[_0x3fe502(0x62e)][_0x3fe502(0x354)](_0xc45621);}[_0x5d07ed(0x1f8)](_0x521fda){const _0x45c555=_0x5d07ed;return this[_0x45c555(0x20e)][_0x45c555(0x638)]()[_0x45c555(0x3d6)](_0x2347eb=>_0x2347eb[_0x45c555(0x763)]===_0x521fda)||null;}['getInternalTrackParams'](_0x36ef24,_0x40b0ab){const _0x3e5061=_0x5d07ed;let _0x5eafb9;return'video'===_0x36ef24&&_0x40b0ab?.[_0x3e5061(0x2b9)]&&_0x3e5061(0x760)!=typeof _0x40b0ab[_0x3e5061(0x2b9)]&&(_0x5eafb9={'kind':_0x3e5061(0x2b9),..._0x40b0ab[_0x3e5061(0x2b9)]},_0x5eafb9[_0x3e5061(0x676)]=this[_0x3e5061(0x563)]()),'audio'===_0x36ef24&&_0x40b0ab?.[_0x3e5061(0x2ce)]&&_0x3e5061(0x760)!=typeof _0x40b0ab[_0x3e5061(0x2ce)]&&(_0x5eafb9={'kind':_0x3e5061(0x2ce),..._0x40b0ab[_0x3e5061(0x2ce)]}),_0x5eafb9;}[_0x5d07ed(0x563)](){const _0x312082=_0x5d07ed;let _0x2c4b87={'width':0x0,'height':0x0};const _0x1ed4d4=this[_0x312082(0x20e)][_0x312082(0x3ab)]();if(_0x1ed4d4[_0x312082(0x57d)]>0x0){const _0xaa9d57=_0x1ed4d4[0x0][_0x312082(0x50c)]();_0xaa9d57['width']&&_0xaa9d57[_0x312082(0x323)]&&(_0x2c4b87={'width':_0xaa9d57['width'],'height':_0xaa9d57[_0x312082(0x323)]});}return _0x2c4b87;}}class _0xac85d1 extends _0x264cdc{[_0x5d07ed(0x38b)]=_0x4b08d8[_0x5d07ed(0x6c6)][_0x5d07ed(0x4a0)];[_0x5d07ed(0x2c0)]=new Map();[_0x5d07ed(0x394)]=new Map();constructor(_0x25f3fb,_0x290c85,_0x15a8c3){const _0x1f61e3=_0x5d07ed;super(_0x25f3fb,_0x290c85,_0x15a8c3 instanceof MediaStream?_0x15a8c3:_0x15a8c3[_0x1f61e3(0x63f)]?_0x15a8c3[_0x1f61e3(0x63f)]:_0x15a8c3[_0x1f61e3(0x2bd)]()),this[_0x1f61e3(0x20e)][_0x1f61e3(0x638)]()[_0x1f61e3(0x487)](_0x19960c=>this[_0x1f61e3(0x447)](_0x19960c)),_0x218f12[_0x1f61e3(0x4c5)](_0x5bfa6a['MediaStream'],{'type':'publish','label':this[_0x1f61e3(0x710)],'nodeId':this[_0x1f61e3(0x3c9)][_0x1f61e3(0x580)](),'nodeType':this[_0x1f61e3(0x3c9)][_0x1f61e3(0x4ba)],'streamId':this[_0x1f61e3(0x47f)](),'trackKinds':this[_0x1f61e3(0x20e)][_0x1f61e3(0x638)]()['map'](_0x27db7c=>_0x27db7c[_0x1f61e3(0x763)])});}[_0x5d07ed(0x535)](){const _0x3d82bd=_0x5d07ed;this[_0x3d82bd(0x394)]['size']>0x0&&(this[_0x3d82bd(0x394)][_0x3d82bd(0x487)](_0xaaf81b=>{const _0xc25424=_0x3d82bd;_0xaaf81b[_0xc25424(0x6d2)](),_0xaaf81b['destroy']();}),this[_0x3d82bd(0x394)][_0x3d82bd(0x4ec)]()),this[_0x3d82bd(0x2c0)][_0x3d82bd(0x487)](_0x17f861=>_0x17f861()),super[_0x3d82bd(0x535)]();}[_0x5d07ed(0x3f9)](_0x485407){const _0x59076a=_0x5d07ed;this[_0x59076a(0x63a)][_0x59076a(0x3f9)]({'sourceId':this['owner'][_0x59076a(0x580)](),'destinationIds':_0x485407?[_0x485407]:void 0x0,'propagate':!0x0,'messageType':_0x772a3e['Content'],'content':{'type':_0x459e26['PublishMediaStream'],'ownerId':this[_0x59076a(0x3c9)][_0x59076a(0x580)](),'label':this[_0x59076a(0x710)],'stream':{'streamId':this[_0x59076a(0x47f)](),'availableTrackKinds':this[_0x59076a(0x20e)][_0x59076a(0x638)]()[_0x59076a(0x326)](_0x1f5a83=>_0x1f5a83[_0x59076a(0x763)])}}});}[_0x5d07ed(0x25a)](){const _0x635c8f=_0x5d07ed;this['systemTopic'][_0x635c8f(0x3f9)]({'sourceId':this['owner'][_0x635c8f(0x580)](),'propagate':!0x0,'messageType':_0x772a3e[_0x635c8f(0x68e)],'content':{'type':_0x459e26[_0x635c8f(0x666)],'ownerId':this['owner'][_0x635c8f(0x580)](),'label':this['label']}}),this[_0x635c8f(0x63a)][_0x635c8f(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e['Content'],'content':{'type':_0x459e26['CloseMediaStream'],'label':this[_0x635c8f(0x710)]}}),_0x218f12['logServiceEvent'](_0x5bfa6a['MediaStream'],{'type':_0x635c8f(0x25a),'label':this[_0x635c8f(0x710)],'nodeId':this[_0x635c8f(0x3c9)]['getId'](),'nodeType':this[_0x635c8f(0x3c9)][_0x635c8f(0x4ba)],'streamId':this[_0x635c8f(0x47f)]()});}[_0x5d07ed(0x32e)](){const _0x1d1105=_0x5d07ed;return this[_0x1d1105(0x38b)];}[_0x5d07ed(0x5eb)](_0x519a24){const _0x8f2719=_0x5d07ed;this['priority']=_0x519a24,this[_0x8f2719(0x394)]['forEach'](_0x520db9=>_0x520db9[_0x8f2719(0x5eb)](_0x519a24));}[_0x5d07ed(0x72e)](_0x41a799,_0x2eaf31){const _0x553907=_0x5d07ed;if(!this['outgoingStreams'][_0x553907(0x461)](_0x41a799)){const _0x308f41=new _0xa93b2b(this['owner'],this[_0x553907(0x710)],this[_0x553907(0x20e)],_0x41a799,_0x2eaf31),_0x449d5d=_0x308f41[_0x553907(0x239)](()=>{const _0x1bef65=_0x553907;_0x449d5d(),this[_0x1bef65(0x394)][_0x1bef65(0x58c)](_0x41a799)?.[_0x1bef65(0x535)](),this[_0x1bef65(0x394)][_0x1bef65(0x702)](_0x41a799);});this['outgoingStreams'][_0x553907(0x518)](_0x41a799,_0x308f41),_0x308f41[_0x553907(0x3a5)](this['systemTopic']);}return this[_0x553907(0x394)][_0x553907(0x58c)](_0x41a799);}[_0x5d07ed(0x4c4)](){const _0x2912bf=_0x5d07ed;return this[_0x2912bf(0x20e)]['id'];}[_0x5d07ed(0x3dc)](_0x3a55be){const _0x9b519a=_0x5d07ed;this['systemTopic'][_0x9b519a(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e['Content'],'content':{'type':_0x459e26[_0x9b519a(0x46c)],'label':this[_0x9b519a(0x710)],'trackKinds':[_0x3a55be['kind']]}});}[_0x5d07ed(0x447)](_0x271bba){const _0x1d2e84=_0x5d07ed,_0x5a4ac8=()=>this[_0x1d2e84(0x3dc)](_0x271bba);_0x271bba[_0x1d2e84(0x648)](_0x1d2e84(0x24f),_0x5a4ac8),_0x271bba[_0x1d2e84(0x648)]('mute',_0x5a4ac8),this[_0x1d2e84(0x2c0)][_0x1d2e84(0x518)](_0x271bba[_0x1d2e84(0x763)],()=>{const _0x126e39=_0x1d2e84;_0x271bba['removeEventListener'](_0x126e39(0x24f),_0x5a4ac8),_0x271bba['removeEventListener'](_0x126e39(0x5b6),_0x5a4ac8),this['trackEndedListeners'][_0x126e39(0x702)](_0x271bba[_0x126e39(0x763)]);});}}class _0x192f28 extends _0xac85d1{[_0x5d07ed(0x731)];[_0x5d07ed(0x383)]=[];['clientStream'];['audioSource'];[_0x5d07ed(0x793)];[_0x5d07ed(0x660)];[_0x5d07ed(0x72d)];[_0x5d07ed(0x58d)];['interval'];constructor(_0x3db3b4,_0x48f8db,_0x2bd476,_0x1f3bfe,_0x594917){const _0x3de92e=_0x5d07ed;if(super(_0x3db3b4,_0x48f8db,_0x2bd476),this['audioContext']=_0x594917,this['clientStream']=this[_0x3de92e(0x20e)],this[_0x3de92e(0x660)]=document[_0x3de92e(0x4dd)](_0x3de92e(0x2b9)),this[_0x3de92e(0x660)]['autoplay']=!0x0,this[_0x3de92e(0x660)]['muted']=!0x0,this['sourceVideo'][_0x3de92e(0x63f)]=this[_0x3de92e(0x66a)],this[_0x3de92e(0x660)][_0x3de92e(0x501)](),this[_0x3de92e(0x660)]['onloadeddata']=()=>{const _0x2473ba=_0x3de92e;this[_0x2473ba(0x660)]['play']();},this[_0x3de92e(0x72d)]=document[_0x3de92e(0x4dd)](_0x3de92e(0x72d)),this[_0x3de92e(0x58d)]=this['canvas'][_0x3de92e(0x34a)]('2d'),this[_0x3de92e(0x20e)]=this[_0x3de92e(0x72d)][_0x3de92e(0x2bd)](_0x1f3bfe),this[_0x3de92e(0x793)]=this[_0x3de92e(0x731)]['createMediaStreamDestination'](),this[_0x3de92e(0x66a)][_0x3de92e(0x2a4)]()['length']>0x0){const _0x38142a=this[_0x3de92e(0x66a)][_0x3de92e(0x2a4)]()[0x0];this[_0x3de92e(0x533)]=this['audioContext'][_0x3de92e(0x68d)](new MediaStream([_0x38142a])),this[_0x3de92e(0x533)][_0x3de92e(0x572)](this[_0x3de92e(0x793)]);}const _0x350fe0=this[_0x3de92e(0x793)][_0x3de92e(0x26d)][_0x3de92e(0x638)]()[0x0];this[_0x3de92e(0x20e)][_0x3de92e(0x3df)](_0x350fe0),this['interval']=setInterval(()=>{const _0x1d0cd5=_0x3de92e;this[_0x1d0cd5(0x72d)][_0x1d0cd5(0x249)]=this[_0x1d0cd5(0x660)]['videoWidth'],this['canvas'][_0x1d0cd5(0x323)]=this[_0x1d0cd5(0x660)][_0x1d0cd5(0x418)],this['sourceVideo'][_0x1d0cd5(0x236)]?(0x0!==this[_0x1d0cd5(0x66a)][_0x1d0cd5(0x3ab)]()[_0x1d0cd5(0x57d)]&&this['clientStream'][_0x1d0cd5(0x3ab)]()[0x0]['enabled']?this['mediaStream']['getVideoTracks']()[0x0][_0x1d0cd5(0x66b)]=!0x0:this[_0x1d0cd5(0x20e)][_0x1d0cd5(0x3ab)]()[0x0][_0x1d0cd5(0x66b)]=!0x1,0x0!==this[_0x1d0cd5(0x66a)][_0x1d0cd5(0x2a4)]()['length']&&this[_0x1d0cd5(0x66a)][_0x1d0cd5(0x2a4)]()[0x0][_0x1d0cd5(0x66b)]?this['mediaStream'][_0x1d0cd5(0x2a4)]()[0x0][_0x1d0cd5(0x66b)]=!0x0:this[_0x1d0cd5(0x20e)][_0x1d0cd5(0x2a4)]()[0x0]['enabled']=!0x1,this['context']['drawImage'](this[_0x1d0cd5(0x660)],0x0,0x0)):this[_0x1d0cd5(0x58d)][_0x1d0cd5(0x2e3)](0x0,0x0,this[_0x1d0cd5(0x72d)][_0x1d0cd5(0x249)],this[_0x1d0cd5(0x72d)][_0x1d0cd5(0x323)]);},0x3e8/_0x1f3bfe);}[_0x5d07ed(0x535)](){const _0x4a3f13=_0x5d07ed;clearInterval(this[_0x4a3f13(0x2bb)]),this[_0x4a3f13(0x660)]['remove'](),this['canvas']['remove'](),this['audioSource']?.[_0x4a3f13(0x64e)](),this[_0x4a3f13(0x793)][_0x4a3f13(0x64e)](),this['mediaStream'][_0x4a3f13(0x638)]()['forEach'](_0x5cf1df=>{const _0x5a040a=_0x4a3f13;_0x5cf1df[_0x5a040a(0x215)](),this[_0x5a040a(0x20e)][_0x5a040a(0x4a3)](_0x5cf1df);}),super['destroy']();}[_0x5d07ed(0x3df)](_0x1e3751){const _0x488312=_0x5d07ed,_0x55f075=this[_0x488312(0x1f8)](_0x1e3751[_0x488312(0x763)]);_0x55f075&&this[_0x488312(0x4a3)](_0x55f075),_0x488312(0x2ce)!==_0x1e3751[_0x488312(0x763)]?('video'===_0x1e3751[_0x488312(0x763)]&&this['addVideoTrack'](_0x1e3751),this[_0x488312(0x447)](_0x1e3751)):this[_0x488312(0x303)](_0x1e3751);}['removeTrack'](_0x24204f){const _0x13fa93=_0x5d07ed,_0x19ea91=this['getTrackFromParam'](_0x24204f);return _0x19ea91&&('audio'===_0x19ea91['kind']&&(this[_0x13fa93(0x533)]?.[_0x13fa93(0x64e)](),this[_0x13fa93(0x533)]=void 0x0),this[_0x13fa93(0x2c0)][_0x13fa93(0x58c)](_0x19ea91['kind'])?.(),this[_0x13fa93(0x66a)][_0x13fa93(0x4a3)](_0x19ea91)),_0x19ea91;}['replaceTrack'](_0x52cfe7){const _0x1edf85=_0x5d07ed;this[_0x1edf85(0x4a3)](_0x52cfe7[_0x1edf85(0x763)]),this[_0x1edf85(0x3df)](_0x52cfe7);}[_0x5d07ed(0x29a)](_0x484bac){const _0x20bfe0=_0x5d07ed;this[_0x20bfe0(0x383)]=_0x484bac;}[_0x5d07ed(0x1f8)](_0x325a46){const _0x2a4e59=_0x5d07ed;return this[_0x2a4e59(0x66a)][_0x2a4e59(0x638)]()[_0x2a4e59(0x3d6)](_0x4b874f=>_0x4b874f[_0x2a4e59(0x763)]===_0x325a46)||null;}['getTrackFromParam'](_0x49e7dd){const _0x29b2cc=_0x5d07ed;return _0x29b2cc(0x6bf)==typeof _0x49e7dd?this[_0x29b2cc(0x1f8)](_0x49e7dd):_0x49e7dd;}['addAudioTrack'](_0x2282f6){const _0x2ccb57=_0x5d07ed;_0x2ccb57(0x360)===this[_0x2ccb57(0x731)][_0x2ccb57(0x453)]&&this[_0x2ccb57(0x731)]['resume'](),this[_0x2ccb57(0x66a)]['addTrack'](_0x2282f6),this[_0x2ccb57(0x533)]=this[_0x2ccb57(0x731)][_0x2ccb57(0x68d)](this[_0x2ccb57(0x66a)]),this[_0x2ccb57(0x533)][_0x2ccb57(0x572)](this[_0x2ccb57(0x793)]);}[_0x5d07ed(0x230)](_0x3eefe2){const _0x1977f2=_0x5d07ed;this['clientStream'][_0x1977f2(0x3df)](_0x3eefe2),this[_0x1977f2(0x660)][_0x1977f2(0x501)]();}}class _0x41c3b3 extends _0xac85d1{}class _0x5677b6 extends _0x102607{[_0x5d07ed(0x67d)];['unsubscribeHandler']=new Map();[_0x5d07ed(0x641)];constructor(_0x46ede5,_0x1aab5a){const _0x142643=_0x5d07ed;if('string'!=typeof _0x1aab5a)throw new _0xc4bd71(_0x294755[_0x142643(0x5d7)],_0x142643(0x216));super(_0x46ede5,_0x1aab5a),this[_0x142643(0x67d)]=_0x46ede5;}[_0x5d07ed(0x3cc)](){const _0x1d47f6=_0x5d07ed;return _0x4b08d8[_0x1d47f6(0x758)][_0x1d47f6(0x540)];}[_0x5d07ed(0x3f9)](_0x1d1593,_0x528b23){const _0x5d97de=_0x5d07ed;_0x218f12['log'](_0x4f0e27[_0x5d97de(0x540)],_0x5d97de(0x529),this[_0x5d97de(0x67d)][_0x5d97de(0x580)](),_0x1d1593,_0x528b23),_0x218f12[_0x5d97de(0x4c5)](_0x5bfa6a[_0x5d97de(0x540)],{'type':_0x5d97de(0x3f9),'label':this[_0x5d97de(0x710)],'nodeId':this[_0x5d97de(0x67d)][_0x5d97de(0x580)](),'remoteIds':_0x528b23??[],'contentType':_0x1d1593 instanceof File?_0x4b08d8[_0x5d97de(0x758)][_0x5d97de(0x481)]:_0x4b08d8['ContentType'][_0x5d97de(0x6d7)],'size':_0x1d1593 instanceof File?_0x1d1593[_0x5d97de(0x6b1)]:JSON[_0x5d97de(0x537)](_0x1d1593)[_0x5d97de(0x57d)]}),this['sendStats'](),this[_0x5d97de(0x6a8)](_0x1d1593,_0x528b23);}[_0x5d07ed(0x354)](_0x3f27d0,_0x2c4a22){const _0x242798=_0x5d07ed;if(this[_0x242798(0x62a)][_0x242798(0x461)](_0x3f27d0))throw new _0xc4bd71(_0x294755[_0x242798(0x654)],_0x242798(0x62f));this[_0x242798(0x62a)][_0x242798(0x518)](_0x3f27d0,this[_0x242798(0x6e1)]((_0xe322bb,_0x43ad10)=>{const _0x22b3a3=_0x242798;_0x22b3a3(0x269)===_0x3f27d0&&_0x43ad10 instanceof File||!(_0x22b3a3(0x2df)!==_0x3f27d0||_0x43ad10 instanceof File)||(_0x218f12[_0x22b3a3(0x59a)](_0x4f0e27['PubSub'],_0x22b3a3(0x78b),this[_0x22b3a3(0x67d)]['getId'](),_0xe322bb,_0x43ad10),_0x218f12['logServiceEvent'](_0x5bfa6a[_0x22b3a3(0x540)],{'type':_0x22b3a3(0x354),'label':this[_0x22b3a3(0x710)],'nodeId':this[_0x22b3a3(0x67d)]['getId'](),'remoteId':_0xe322bb,'contentType':_0x3f27d0,'size':_0x43ad10 instanceof File?_0x43ad10[_0x22b3a3(0x6b1)]:JSON[_0x22b3a3(0x537)](_0x43ad10)['length']}),this[_0x22b3a3(0x341)](),_0x2c4a22(_0xe322bb,_0x43ad10));}));}[_0x5d07ed(0x751)](_0x13dd5f){const _0x2d7441=_0x5d07ed;this[_0x2d7441(0x62a)][_0x2d7441(0x58c)](_0x13dd5f)?.(),this['unsubscribeHandler']['delete'](_0x13dd5f);}['destroy'](){const _0x5034b2=_0x5d07ed;this[_0x5034b2(0x62a)][_0x5034b2(0x487)](_0x17da16=>_0x17da16()),clearTimeout(this['debounceStats']),delete this[_0x5034b2(0x641)],super[_0x5034b2(0x535)]();}[_0x5d07ed(0x6d1)](){const _0x580602=_0x5d07ed;this['systemTopic']?.[_0x580602(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x580602(0x68e)],'content':{'type':_0x459e26[_0x580602(0x682)],'label':this[_0x580602(0x710)]}});}[_0x5d07ed(0x341)](){const _0x164170=_0x5d07ed;this[_0x164170(0x641)]&&clearTimeout(this[_0x164170(0x641)]),this[_0x164170(0x641)]=setTimeout(()=>{const _0x278485=_0x164170;this['systemTopic']?.[_0x278485(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x278485(0x68e)],'content':{'type':_0x459e26[_0x278485(0x57a)],'label':this['label'],'stats':{'timestamp':Date[_0x278485(0x58e)](),'storage':0x0,'messagesSent':this[_0x278485(0x54f)],'messagesReceived':this[_0x278485(0x224)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x278485(0x3d5)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x5865ac extends _0x264cdc{[_0x5d07ed(0x67d)];['internalId'];['availableTrackKinds'];[_0x5d07ed(0x62a)];[_0x5d07ed(0x4a8)];[_0x5d07ed(0x1fb)];[_0x5d07ed(0x394)]=new Map();[_0x5d07ed(0x32c)];['subscribedTracks']=new Set();[_0x5d07ed(0x30f)];[_0x5d07ed(0x647)]=_0xf03f60();[_0x5d07ed(0x2c0)]=new Map();constructor(_0x579dc1,_0x504587,_0x231bc9,_0x22d5b2,_0x5f3d46){const _0x26bd73=_0x5d07ed;super(_0x504587,_0x231bc9,new MediaStream()),this[_0x26bd73(0x67d)]=_0x579dc1,this['internalId']=_0x22d5b2,this[_0x26bd73(0x612)]=_0x5f3d46,this['mediaStream'][_0x26bd73(0x638)]()[_0x26bd73(0x487)](_0x2e2deb=>this[_0x26bd73(0x447)](_0x2e2deb));}[_0x5d07ed(0x535)](){const _0x54238b=_0x5d07ed;this[_0x54238b(0x394)]['size']>0x0&&(this['outgoingStreams'][_0x54238b(0x487)](_0x4fd326=>{const _0x12f461=_0x54238b;_0x4fd326[_0x12f461(0x6d2)](),_0x4fd326[_0x12f461(0x535)]();}),this[_0x54238b(0x394)]['clear']()),this[_0x54238b(0x2c0)][_0x54238b(0x487)](_0x22d6cb=>_0x22d6cb()),this[_0x54238b(0x20e)][_0x54238b(0x638)]()['forEach'](_0x474c0d=>this[_0x54238b(0x20e)][_0x54238b(0x4a3)](_0x474c0d)),this[_0x54238b(0x1fb)]&&(clearTimeout(this['updateDebounce']),delete this[_0x54238b(0x1fb)]),this[_0x54238b(0x4a8)]?.(),super[_0x54238b(0x535)]();}[_0x5d07ed(0x4e0)](_0x2d6f1f){const _0x2021c3=_0x5d07ed;this[_0x2021c3(0x62a)]=_0x2d6f1f[_0x2021c3(0x354)](({content:_0x520fc2})=>{const _0x3b7937=_0x2021c3;switch(_0x520fc2['action']){case _0x4453a9[_0x3b7937(0x252)]:if(_0x218f12[_0x3b7937(0x59a)](_0x4f0e27['Subscription'],_0x3b7937(0x6db),this[_0x3b7937(0x67d)][_0x3b7937(0x580)](),this['providerId']),_0x520fc2[_0x3b7937(0x26d)]['id']!==this['internalId']||_0x520fc2[_0x3b7937(0x30f)]!==this[_0x3b7937(0x30f)])return;this[_0x3b7937(0x4a3)](_0x520fc2[_0x3b7937(0x31d)][_0x3b7937(0x763)]),this[_0x3b7937(0x20e)][_0x3b7937(0x3df)](_0x520fc2[_0x3b7937(0x31d)]);for(const [_0xb09188,_0x8732fa]of this['outgoingStreams'][_0x3b7937(0x636)]())try{_0x8732fa['addTrack'](_0x520fc2[_0x3b7937(0x31d)]);}catch(_0x4b5a12){_0x8732fa['destroy'](),this['outgoingStreams']['delete'](_0xb09188);}this['setupTrackEndedListeners'](_0x520fc2[_0x3b7937(0x31d)]),this['setupRenderElement'](),_0x3b7937(0x2b9)===_0x520fc2[_0x3b7937(0x31d)][_0x3b7937(0x763)]&&this[_0x3b7937(0x32c)]&&(this[_0x3b7937(0x20e)]['active']?setTimeout(()=>this[_0x3b7937(0x32c)]?.[_0x3b7937(0x49d)](),0x0):setTimeout(()=>this['renderElement']?.[_0x3b7937(0x501)](),0x0),this[_0x3b7937(0x3fb)]());break;case _0x4453a9[_0x3b7937(0x27d)]:if(_0x520fc2['stream']['id']!==this[_0x3b7937(0x414)]||_0x520fc2[_0x3b7937(0x30f)]!==this[_0x3b7937(0x30f)])return;this[_0x3b7937(0x4a3)](_0x520fc2['track']['kind']),this[_0x3b7937(0x32c)]&&_0x3b7937(0x2b9)===_0x520fc2[_0x3b7937(0x31d)][_0x3b7937(0x763)]&&(this[_0x3b7937(0x4a8)]?.(),this[_0x3b7937(0x20e)][_0x3b7937(0x638)]()[_0x3b7937(0x57d)]>0x0?this[_0x3b7937(0x32c)][_0x3b7937(0x501)]():this[_0x3b7937(0x32c)][_0x3b7937(0x63f)]=null);}});}[_0x5d07ed(0x79c)](){const _0x290daf=_0x5d07ed;this[_0x290daf(0x62a)]?.(),this[_0x290daf(0x2c0)][_0x290daf(0x487)](_0x44a3ee=>_0x44a3ee()),delete this[_0x290daf(0x62a)];}[_0x5d07ed(0x47f)](){const _0x43e0a5=_0x5d07ed;return this[_0x43e0a5(0x414)];}[_0x5d07ed(0x70b)](_0x16ef19){const _0x1235c1=_0x5d07ed;this[_0x1235c1(0x414)]=_0x16ef19;}[_0x5d07ed(0x6c1)](){return this['availableTrackKinds'];}['hasTracks'](_0x206c77){const _0x1154b3=_0x5d07ed;for(const _0x31df21 of _0x206c77||this[_0x1154b3(0x612)])if(!this[_0x1154b3(0x20e)][_0x1154b3(0x638)]()['find'](_0x1b50f1=>_0x1b50f1[_0x1154b3(0x763)]===_0x31df21))return!0x1;return!0x0;}[_0x5d07ed(0x563)](){const _0x39de51=_0x5d07ed;let _0x576eac={'width':0x0,'height':0x0};const _0x3570bc=this[_0x39de51(0x20e)][_0x39de51(0x3ab)]();if(_0x3570bc['length']>0x0){const _0x1afb02=_0x3570bc[0x0][_0x39de51(0x50c)]();_0x1afb02[_0x39de51(0x249)]&&_0x1afb02['height']&&(_0x576eac={'width':_0x1afb02[_0x39de51(0x249)],'height':_0x1afb02[_0x39de51(0x323)]});}return _0x576eac;}[_0x5d07ed(0x661)](_0x3768b3){const _0x3f95b1=_0x5d07ed;for(const _0x15847b of _0x3768b3)if(!this[_0x3f95b1(0x6f4)]['has'](_0x15847b))return!0x1;return!0x0;}[_0x5d07ed(0x72e)](_0x187d41,_0x3ba8e9){const _0x4b3fd0=_0x5d07ed;if(!this[_0x4b3fd0(0x394)]['has'](_0x187d41)){const _0x1c32b3=new _0xa93b2b(this[_0x4b3fd0(0x3c9)],this[_0x4b3fd0(0x710)],this[_0x4b3fd0(0x20e)],_0x187d41,_0x3ba8e9),_0x594910=_0x1c32b3[_0x4b3fd0(0x239)](()=>{const _0xae459=_0x4b3fd0;_0x594910(),this[_0xae459(0x394)][_0xae459(0x58c)](_0x187d41)?.[_0xae459(0x535)](),this[_0xae459(0x394)][_0xae459(0x702)](_0x187d41);});this[_0x4b3fd0(0x394)][_0x4b3fd0(0x518)](_0x187d41,_0x1c32b3),_0x1c32b3['registerSystemPublisher'](this[_0x4b3fd0(0x63a)]);}return this[_0x4b3fd0(0x394)]['get'](_0x187d41);}[_0x5d07ed(0x4c4)](){return this['mediaStream']['id'];}['getPriority'](){const _0x4b9c6f=_0x5d07ed;return _0x4b08d8[_0x4b9c6f(0x6c6)][_0x4b9c6f(0x4a0)];}[_0x5d07ed(0x781)](){const _0x13ca05=_0x5d07ed;return Array[_0x13ca05(0x45d)](this['subscribedTracks']);}[_0x5d07ed(0x354)](_0x5571ad){const _0x42e2d5=_0x5d07ed;let _0x2ba64e=[];if(_0x5571ad){_0x42e2d5(0x3be)!=typeof _0x5571ad[_0x42e2d5(0x2b9)]||_0x5571ad[_0x42e2d5(0x2b9)]['renderElement']instanceof HTMLVideoElement||!this[_0x42e2d5(0x32c)]||(_0x5571ad['video']={'renderElement':this[_0x42e2d5(0x32c)]});try{(0x0,_0x4b08d8[_0x42e2d5(0x50b)])(_0x5571ad);}catch(_0xe8cedd){throw new _0xc4bd71(_0x294755[_0x42e2d5(0x3ba)],_0x42e2d5(0x5e5));}_0x5571ad[_0x42e2d5(0x2b9)]&&(_0x2ba64e['push'](_0x42e2d5(0x2b9)),'boolean'!=typeof _0x5571ad[_0x42e2d5(0x2b9)]&&_0x5571ad[_0x42e2d5(0x2b9)]['renderElement']&&(this[_0x42e2d5(0x32c)]=_0x5571ad[_0x42e2d5(0x2b9)][_0x42e2d5(0x32c)],_0x5571ad[_0x42e2d5(0x2b9)][_0x42e2d5(0x266)]||(_0x5571ad[_0x42e2d5(0x2b9)]['maxResolution']={'width':this[_0x42e2d5(0x32c)][_0x42e2d5(0x260)],'height':this[_0x42e2d5(0x32c)][_0x42e2d5(0x6fc)]}),delete _0x5571ad['video'][_0x42e2d5(0x32c)])),_0x5571ad[_0x42e2d5(0x2ce)]&&_0x2ba64e[_0x42e2d5(0x4d7)]('audio');}else _0x2ba64e=this[_0x42e2d5(0x6c1)]();this['isSubscribed'](_0x2ba64e)||(_0x2ba64e[_0x42e2d5(0x487)](_0x587aca=>this[_0x42e2d5(0x6f4)][_0x42e2d5(0x3cf)](_0x587aca)),this[_0x42e2d5(0x63a)][_0x42e2d5(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e['Content'],'content':{'type':_0x459e26['SubscribeMediaStream'],'label':this['label'],'ownerId':this[_0x42e2d5(0x3c9)]['getId'](),'trackKinds':_0x2ba64e,'params':_0x5571ad}}),_0x218f12[_0x42e2d5(0x4c5)](_0x5bfa6a[_0x42e2d5(0x26a)],{'type':_0x42e2d5(0x354),'label':this[_0x42e2d5(0x710)],'nodeId':this[_0x42e2d5(0x67d)][_0x42e2d5(0x580)](),'nodeType':this[_0x42e2d5(0x67d)][_0x42e2d5(0x4ba)],'sourceId':this[_0x42e2d5(0x3c9)][_0x42e2d5(0x580)](),'streamId':this[_0x42e2d5(0x414)],'trackKinds':_0x2ba64e}));}['update'](_0x1ef977){const _0xc9c3b5=_0x5d07ed;try{(0x0,_0x4b08d8[_0xc9c3b5(0x50b)])(_0x1ef977);}catch(_0x5c0b5a){throw new _0xc4bd71(_0x294755[_0xc9c3b5(0x3ba)],_0xc9c3b5(0x5e5));}this['updateDebounce']&&clearTimeout(this['updateDebounce']),this[_0xc9c3b5(0x1fb)]=setTimeout(()=>{const _0x4f7934=_0xc9c3b5;delete this[_0x4f7934(0x1fb)],this[_0x4f7934(0x63a)][_0x4f7934(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x4f7934(0x68e)],'content':{'type':_0x459e26[_0x4f7934(0x77c)],'label':this['label'],'ownerId':this['owner'][_0x4f7934(0x580)](),'params':_0x1ef977}});},0x1f4);}[_0x5d07ed(0x751)](_0x2dc9e3){const _0x4e9296=_0x5d07ed;_0x2dc9e3||(_0x2dc9e3=this['getAvailableTrackKinds']()),(_0x2dc9e3=Array[_0x4e9296(0x4ea)](_0x2dc9e3)?_0x2dc9e3:[_0x2dc9e3])[_0x4e9296(0x487)](_0x4ac292=>this[_0x4e9296(0x6f4)][_0x4e9296(0x702)](_0x4ac292)),this[_0x4e9296(0x63a)][_0x4e9296(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e['Content'],'content':{'type':_0x459e26[_0x4e9296(0x6b8)],'label':this['label'],'ownerId':this[_0x4e9296(0x3c9)][_0x4e9296(0x580)](),'trackKinds':_0x2dc9e3,'remainingTracks':this['subscribedTracks'][_0x4e9296(0x6b1)]}});}[_0x5d07ed(0x4cd)](_0x1e532e){const _0x583fee=_0x5d07ed;return this[_0x583fee(0x647)][_0x583fee(0x354)](_0x1e532e);}['getProviderId'](){const _0x381b1a=_0x5d07ed;return this[_0x381b1a(0x30f)];}[_0x5d07ed(0x4a9)](_0x259384){const _0x85b543=_0x5d07ed;this[_0x85b543(0x30f)]!==_0x259384&&(this[_0x85b543(0x30f)]=_0x259384,this['providerListener'][_0x85b543(0x3f9)](_0x259384));}['unsubscribeTrackEndedListener'](_0x473f90){const _0x5cba8e=_0x5d07ed;this['trackEndedListeners']['get'](_0x473f90)?.(),this[_0x5cba8e(0x2c0)][_0x5cba8e(0x702)](_0x473f90);}[_0x5d07ed(0x4a3)](_0x39fb4f){const _0x3596e7=_0x5d07ed,_0x36d2cf=this['mediaStream']['getTracks']()[_0x3596e7(0x3d6)](_0x3ccdb0=>_0x3ccdb0[_0x3596e7(0x763)]===_0x39fb4f);_0x36d2cf&&(this[_0x3596e7(0x20e)][_0x3596e7(0x4a3)](_0x36d2cf),this[_0x3596e7(0x394)]['forEach'](_0x453992=>_0x453992[_0x3596e7(0x4a3)](_0x39fb4f)),this[_0x3596e7(0x2c0)][_0x3596e7(0x58c)](_0x39fb4f)?.());}[_0x5d07ed(0x377)](){const _0x28fd6e=_0x5d07ed;this[_0x28fd6e(0x32c)]&&(this['renderElement']['srcObject']&&this[_0x28fd6e(0x32c)][_0x28fd6e(0x63f)]===this['mediaStream']||(this[_0x28fd6e(0x32c)][_0x28fd6e(0x63f)]=this[_0x28fd6e(0x20e)]));}[_0x5d07ed(0x3fb)](){const _0x5058e0=_0x5d07ed;if(this[_0x5058e0(0x32c)]&&!this[_0x5058e0(0x4a8)]&&_0x5058e0(0x630)!=typeof ResizeObserver){let _0x4ba502=this[_0x5058e0(0x32c)][_0x5058e0(0x260)],_0x4a0d17=this[_0x5058e0(0x32c)][_0x5058e0(0x6fc)];const _0x3be5e0=new ResizeObserver(_0x2f0afc=>{const _0x1f1ef9=_0x5058e0,{width:_0xe205a6,height:_0x3dd2e2}=_0x2f0afc[0x0][_0x1f1ef9(0x551)];_0x4ba502===_0xe205a6&&_0x4a0d17===_0x3dd2e2||(_0x4ba502=Math[_0x1f1ef9(0x62b)](_0xe205a6),_0x4a0d17=Math[_0x1f1ef9(0x62b)](_0x3dd2e2),this[_0x1f1ef9(0x363)]({'video':{'maxResolution':{'width':_0xe205a6,'height':_0x3dd2e2}}}));});_0x3be5e0[_0x5058e0(0x22d)](this[_0x5058e0(0x32c)]),this['resizeHandler']=()=>_0x3be5e0[_0x5058e0(0x64e)]();}}[_0x5d07ed(0x65b)](_0x47f53e){const _0x50e3b5=_0x5d07ed,_0x4d5a34=[];for(const _0x3b0a4f of this[_0x50e3b5(0x6f4)])this['removeTrack'](_0x3b0a4f),_0x4d5a34[_0x50e3b5(0x4d7)](_0x3b0a4f);this[_0x50e3b5(0x30f)]&&this[_0x50e3b5(0x63a)]['publish']({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x50e3b5(0x68e)],'content':{'type':_0x459e26[_0x50e3b5(0x305)],'label':this[_0x50e3b5(0x710)],'streamId':this['internalId'],'ownerId':this[_0x50e3b5(0x3c9)][_0x50e3b5(0x580)](),'providerId':this[_0x50e3b5(0x30f)],'trackKinds':_0x4d5a34}});}['setupTrackEndedListeners'](_0x3f8d6a){const _0xeece1d=_0x5d07ed,_0xbceaf9=()=>this[_0xeece1d(0x65b)](_0x3f8d6a);_0x3f8d6a[_0xeece1d(0x648)]('ended',_0xbceaf9),_0x3f8d6a[_0xeece1d(0x648)](_0xeece1d(0x5b6),_0xbceaf9),this['trackEndedListeners'][_0xeece1d(0x518)](_0x3f8d6a[_0xeece1d(0x763)],()=>{const _0x6bcb42=_0xeece1d;_0x3f8d6a['removeEventListener'](_0x6bcb42(0x24f),_0xbceaf9),_0x3f8d6a['removeEventListener']('mute',_0xbceaf9),this[_0x6bcb42(0x2c0)][_0x6bcb42(0x702)](_0x3f8d6a[_0x6bcb42(0x763)]);});}}class _0x336ef2{['id'];[_0x5d07ed(0x677)];[_0x5d07ed(0x3ca)];constructor(_0x385193,_0x241914=new Set(),_0x1da222){const _0x26468e=_0x5d07ed;this['id']=_0x385193,this[_0x26468e(0x677)]=_0x241914,this[_0x26468e(0x3ca)]=_0x1da222;}['close'](){const _0x2f3f4f=_0x5d07ed;this['rank']=void 0x0,this[_0x2f3f4f(0x677)]['clear']();}[_0x5d07ed(0x580)](){return this['id'];}[_0x5d07ed(0x693)](){return this['rank'];}[_0x5d07ed(0x2e0)](){const _0x1c6f26=_0x5d07ed;return this[_0x1c6f26(0x677)];}}class _0x2924ed extends _0x336ef2{['id'];['displayName'];['email'];[_0x5d07ed(0x677)];[_0x5d07ed(0x3ca)];[_0x5d07ed(0x4ba)]=_0x4b08d8[_0x5d07ed(0x532)][_0x5d07ed(0x211)];constructor(_0x35c5cf,_0x469dc8,_0x6d25a3,_0x5ab0e7=new Set(),_0x33fcd0){const _0x5225d0=_0x5d07ed;super(_0x35c5cf,_0x5ab0e7,_0x33fcd0),this['id']=_0x35c5cf,this['displayName']=_0x469dc8,this[_0x5225d0(0x330)]=_0x6d25a3,this[_0x5225d0(0x677)]=_0x5ab0e7,this[_0x5225d0(0x3ca)]=_0x33fcd0;}['getDisplayName'](){const _0x5a1460=_0x5d07ed;return this[_0x5a1460(0x329)];}[_0x5d07ed(0x5b2)](){const _0x1d6bf5=_0x5d07ed;return this[_0x1d6bf5(0x330)];}}class _0x4594ca{[_0x5d07ed(0x441)];[_0x5d07ed(0x316)];[_0x5d07ed(0x2d9)];constructor(_0xcb666a,_0x4cdf3f){const _0x1e1aba=_0x5d07ed;this[_0x1e1aba(0x441)]=_0xcb666a,this['clusterId']=_0x4cdf3f,this[_0x1e1aba(0x2d9)]='ccc'+this['vendorId']+_0x1e1aba(0x327)+this['clusterId'];}async['writeTransaction'](_0xfeb725,_0x275610,_0x36b51f){const _0x1a97dd=_0x5d07ed;if(!0x1===(await(0x0,_0x49a3fa[_0x1a97dd(0x772)])((0x0,_0x49a3fa[_0x1a97dd(0x274)])(_0x8536d0['getDatabase'](),'clusters/'+this[_0x1a97dd(0x2d9)]+'/objectstores/'+_0x275610+_0x1a97dd(0x477)),_0x1f7dff=>{const _0x4259ec=_0x1a97dd;if(!_0x1f7dff)return _0xfeb725['id'];if(_0x1f7dff!==_0x36b51f)throw new _0x187b09(_0x187b09[_0x4259ec(0x545)][_0x4259ec(0x741)]);return _0xfeb725['id'];}))[_0x1a97dd(0x352)])throw new _0x187b09(_0x187b09['codes']['ObjectStoreCannotWriteTransaction']);_0xfeb725[_0x1a97dd(0x1f7)]||delete _0xfeb725[_0x1a97dd(0x1f7)],await(0x0,_0x49a3fa['set'])((0x0,_0x49a3fa[_0x1a97dd(0x274)])(_0x8536d0[_0x1a97dd(0x2ab)](),_0x1a97dd(0x689)+this[_0x1a97dd(0x2d9)]+_0x1a97dd(0x52a)+_0x275610+'/transactions/'+_0xfeb725['id']),_0xfeb725);}async['getTransactions'](_0x3beac8,_0x2097c3){const _0x2d9140=_0x5d07ed;let _0x4c3b65=[];const _0x45371c=await(0x0,_0x49a3fa['get'])((0x0,_0x49a3fa['ref'])(_0x8536d0['getDatabase'](),'clusters/'+this[_0x2d9140(0x2d9)]+_0x2d9140(0x52a)+_0x3beac8+_0x2d9140(0x235)));if(!_0x45371c[_0x2d9140(0x727)]())return _0x4c3b65;const _0x22db97=_0x45371c['val']();_0x4c3b65=Object['values'](_0x22db97)[_0x2d9140(0x759)](_0x500ad3=>_0x2d9140(0x6bf)!=typeof _0x500ad3);const _0x1e9950=[];let _0x29af27=_0x4c3b65[_0x2d9140(0x3d6)](_0x26a81e=>_0x26a81e['parentId']===_0x2097c3);for(;_0x29af27;)_0x1e9950['push'](_0x29af27),_0x29af27=_0x4c3b65[_0x2d9140(0x3d6)](_0x1b0c21=>_0x1b0c21[_0x2d9140(0x1f7)]===_0x29af27['id']);return _0x1e9950;}}class _0x4da544{[_0x5d07ed(0x6b3)];[_0x5d07ed(0x3a8)];[_0x5d07ed(0x731)];['localMediaStreams']=new Map();[_0x5d07ed(0x380)]=new Map();[_0x5d07ed(0x287)]=new Map();[_0x5d07ed(0x23d)]=new Map();['keyValueDatabases']=new Map();[_0x5d07ed(0x45a)];constructor(_0x56618a,_0xb01024,_0x41ffd7){const _0x32bcde=_0x5d07ed;this['configs']=_0x56618a,this[_0x32bcde(0x3a8)]=_0xb01024,this[_0x32bcde(0x731)]=_0x41ffd7,this[_0x32bcde(0x45a)]=new _0x4594ca(this[_0x32bcde(0x6b3)][_0x32bcde(0x441)],this[_0x32bcde(0x6b3)][_0x32bcde(0x316)]);}[_0x5d07ed(0x6d1)](_0x103690=!0x1){const _0x5db80c=_0x5d07ed;this[_0x5db80c(0x380)][_0x5db80c(0x487)]((_0x2f2b0d,_0x2a22a9)=>{_0x2f2b0d['forEach']((_0x3f6e25,_0x193fb7)=>{const _0x33fcd5=a0_0x3365;this[_0x33fcd5(0x53d)](_0x2a22a9,_0x193fb7);});}),_0x103690||(this[_0x5db80c(0x355)][_0x5db80c(0x487)]((_0x2ede7f,_0x295b7f)=>{const _0x28e4b7=_0x5db80c;this[_0x28e4b7(0x663)](_0x295b7f);}),this['pubSubTopics'][_0x5db80c(0x487)]((_0x2d1ef5,_0x45a8ff)=>{this['removePubSubTopic'](_0x45a8ff);}),this[_0x5db80c(0x23d)][_0x5db80c(0x487)]((_0x506a51,_0x4e687b)=>{this['removeObjectStore'](_0x4e687b);}),this[_0x5db80c(0x476)][_0x5db80c(0x487)]((_0x5c40d0,_0x56c8fb)=>{const _0x1c2dc4=_0x5db80c;this[_0x1c2dc4(0x45f)](_0x56c8fb);}));}[_0x5d07ed(0x61a)](_0x4d29e2,_0x11b030){const _0xbb0d33=_0x5d07ed;if(this['objectStores'][_0xbb0d33(0x461)](_0x4d29e2))throw new _0xc4bd71(_0x294755[_0xbb0d33(0x28d)],_0xbb0d33(0x46a));const _0x584169=new _0x554801(this[_0xbb0d33(0x6b3)][_0xbb0d33(0x67d)],_0x4d29e2,this[_0xbb0d33(0x6b3)][_0xbb0d33(0x316)],this[_0xbb0d33(0x6b3)][_0xbb0d33(0x441)],this[_0xbb0d33(0x45a)],_0x11b030);return this[_0xbb0d33(0x23d)][_0xbb0d33(0x518)](_0x4d29e2,_0x584169),this[_0xbb0d33(0x6b3)][_0xbb0d33(0x5ee)][_0xbb0d33(0x796)](_0x584169),_0x584169;}async['createKeyValueDatabase'](_0x5e2c04,_0x2516ad,_0x1cbc4e){const _0x539bb8=_0x5d07ed;if(this[_0x539bb8(0x476)][_0x539bb8(0x461)](_0x5e2c04))throw new _0xc4bd71(_0x294755[_0x539bb8(0x35e)],_0x539bb8(0x206));try{const _0x12a913=new _0x37dbd8(this[_0x539bb8(0x6b3)][_0x539bb8(0x67d)],_0x5e2c04,this[_0x539bb8(0x6b3)][_0x539bb8(0x316)],this[_0x539bb8(0x6b3)][_0x539bb8(0x441)],_0x2516ad,_0x1cbc4e);return this[_0x539bb8(0x476)]['set'](_0x5e2c04,_0x12a913),this[_0x539bb8(0x6b3)][_0x539bb8(0x5ee)]['registerSystemSource'](_0x12a913),_0x12a913;}catch(_0x1ee89c){if(_0x1ee89c instanceof _0xc4bd71)throw _0x1ee89c;throw console[_0x539bb8(0x32a)]('Failed\x20to\x20create\x20key\x20value\x20database',_0x1ee89c),new _0x187b09(_0x187b09['codes'][_0x539bb8(0x458)],{'label':_0x5e2c04,'clusterId':this[_0x539bb8(0x6b3)][_0x539bb8(0x316)],'vendorId':this[_0x539bb8(0x6b3)][_0x539bb8(0x441)]});}}['createLocalDynamicMediaStream'](_0x49f588,_0x4f62fe){const _0x1d35e4=_0x5d07ed;if(this[_0x1d35e4(0x355)][_0x1d35e4(0x461)](_0x49f588))throw new _0xc4bd71(_0x294755[_0x1d35e4(0x5c7)],_0x1d35e4(0x64b));if(!this[_0x1d35e4(0x731)])throw new _0xc4bd71(_0x294755[_0x1d35e4(0x69a)],'AudioContext\x20is\x20not\x20available');const _0xac29d=new _0x192f28(this[_0x1d35e4(0x6b3)][_0x1d35e4(0x67d)],_0x49f588,_0x4f62fe,this[_0x1d35e4(0x3a8)],this[_0x1d35e4(0x731)]);return this[_0x1d35e4(0x355)][_0x1d35e4(0x518)](_0x49f588,_0xac29d),this['configs']['mediator'][_0x1d35e4(0x796)](_0xac29d),_0xac29d['publish'](),_0xac29d;}[_0x5d07ed(0x4df)](_0x3a4eba,_0x27f3bc){const _0x4d4f07=_0x5d07ed;if(this[_0x4d4f07(0x355)][_0x4d4f07(0x461)](_0x3a4eba))throw new _0xc4bd71(_0x294755[_0x4d4f07(0x5c7)],_0x4d4f07(0x4a4));const _0x3da7eb=new _0x41c3b3(this[_0x4d4f07(0x6b3)][_0x4d4f07(0x67d)],_0x3a4eba,_0x27f3bc);return this[_0x4d4f07(0x355)][_0x4d4f07(0x518)](_0x3a4eba,_0x3da7eb),this[_0x4d4f07(0x6b3)][_0x4d4f07(0x5ee)][_0x4d4f07(0x796)](_0x3da7eb),_0x3da7eb[_0x4d4f07(0x3f9)](),_0x3da7eb;}[_0x5d07ed(0x70c)](_0x312c74){const _0x2d889c=_0x5d07ed;if(this[_0x2d889c(0x287)][_0x2d889c(0x461)](_0x312c74))throw new _0xc4bd71(_0x294755[_0x2d889c(0x526)],'PubSub\x20already\x20exists');const _0x351b7c=new _0x5677b6(this[_0x2d889c(0x6b3)][_0x2d889c(0x67d)],_0x312c74);return this[_0x2d889c(0x287)][_0x2d889c(0x518)](_0x312c74,_0x351b7c),this[_0x2d889c(0x6b3)][_0x2d889c(0x5ee)][_0x2d889c(0x796)](_0x351b7c),_0x351b7c;}[_0x5d07ed(0x38d)](_0xa39030,_0xdc82c2,_0x171651,_0x782518){const _0x594cc3=_0x5d07ed;this[_0x594cc3(0x380)][_0x594cc3(0x461)](_0xa39030)||this['remoteMediaStreams'][_0x594cc3(0x518)](_0xa39030,new Map());const _0x1387e6=this['remoteMediaStreams']['get'](_0xa39030);if(_0x1387e6[_0x594cc3(0x461)](_0xdc82c2))throw new _0xc4bd71(_0x294755[_0x594cc3(0x734)],'Remote\x20MediaStream\x20already\x20exists');const _0x18b5c3=new _0x2924ed(_0xa39030,'',''),_0x57122f=new _0x5865ac(this[_0x594cc3(0x6b3)][_0x594cc3(0x67d)],_0x18b5c3,_0xdc82c2,_0x171651,_0x782518);return _0x1387e6[_0x594cc3(0x518)](_0xdc82c2,_0x57122f),this[_0x594cc3(0x6b3)][_0x594cc3(0x5ee)]['registerSystemSource'](_0x57122f),_0x57122f;}[_0x5d07ed(0x679)](_0x1d7bba){const _0x516349=_0x5d07ed,_0x4be15b=Array[_0x516349(0x45d)](this[_0x516349(0x23d)][_0x516349(0x3ec)]());return _0x1d7bba?_0x4be15b[_0x516349(0x759)](_0x1d7bba):_0x4be15b;}['getKeyValueDatabases'](_0x50fe95){const _0x3389e5=_0x5d07ed,_0x18da5e=Array[_0x3389e5(0x45d)](this[_0x3389e5(0x476)][_0x3389e5(0x3ec)]());return _0x50fe95?_0x18da5e[_0x3389e5(0x759)](_0x50fe95):_0x18da5e;}['getLocalMediaStreams'](_0x1c114){const _0x8ffa6f=_0x5d07ed,_0x5be614=Array[_0x8ffa6f(0x45d)](this[_0x8ffa6f(0x355)][_0x8ffa6f(0x3ec)]());return _0x1c114?_0x5be614[_0x8ffa6f(0x759)](_0x1c114):_0x5be614;}[_0x5d07ed(0x61c)](_0x8ef037){const _0x55998e=_0x5d07ed,_0x23c944=Array[_0x55998e(0x45d)](this[_0x55998e(0x287)][_0x55998e(0x3ec)]());return _0x8ef037?_0x23c944[_0x55998e(0x759)](_0x8ef037):_0x23c944;}['getRemoteMediaStreams'](_0x4ecbd9){const _0x39e871=_0x5d07ed,_0x580d77=Array[_0x39e871(0x45d)](this[_0x39e871(0x380)]['values']())['reduce']((_0x25055f,_0x1da061)=>[..._0x25055f,...Array[_0x39e871(0x45d)](_0x1da061[_0x39e871(0x3ec)]())],[]);return _0x4ecbd9?_0x580d77[_0x39e871(0x759)](_0x4ecbd9):_0x580d77;}[_0x5d07ed(0x6f0)](_0x21dec6){const _0x29d22a=_0x5d07ed;switch(_0x21dec6[_0x29d22a(0x226)]['type']){case _0x459e26['PublishMediaStream']:this[_0x29d22a(0x538)](_0x21dec6[_0x29d22a(0x226)]);break;case _0x459e26[_0x29d22a(0x666)]:this[_0x29d22a(0x35d)](_0x21dec6[_0x29d22a(0x226)]);break;case _0x459e26[_0x29d22a(0x2c3)]:this[_0x29d22a(0x754)](_0x21dec6[_0x29d22a(0x226)]);break;case _0x459e26['ClosePubSubTopic']:this['handleClosePubSubTopic'](_0x21dec6['content']);break;case _0x459e26[_0x29d22a(0x5bf)]:this[_0x29d22a(0x218)](_0x21dec6['content']);break;case _0x459e26['CloseKeyValueDatabase']:this[_0x29d22a(0x51d)](_0x21dec6['content']);break;case _0x459e26[_0x29d22a(0x6b8)]:this[_0x29d22a(0x201)](_0x21dec6[_0x29d22a(0x226)]);break;case _0x459e26[_0x29d22a(0x367)]:this[_0x29d22a(0x476)][_0x29d22a(0x58c)](_0x21dec6[_0x29d22a(0x226)][_0x29d22a(0x710)])?.[_0x29d22a(0x276)](_0x21dec6[_0x29d22a(0x510)]);break;case _0x459e26[_0x29d22a(0x63d)]:this[_0x29d22a(0x476)]['get'](_0x21dec6[_0x29d22a(0x226)]['label'])?.[_0x29d22a(0x36e)](_0x21dec6['sourceId'],_0x21dec6[_0x29d22a(0x226)][_0x29d22a(0x5c1)]);break;case _0x459e26[_0x29d22a(0x454)]:this[_0x29d22a(0x476)]['get'](_0x21dec6[_0x29d22a(0x226)]['label'])?.[_0x29d22a(0x271)](_0x21dec6[_0x29d22a(0x510)],_0x21dec6['content'][_0x29d22a(0x2b6)]);break;case _0x459e26[_0x29d22a(0x46c)]:this[_0x29d22a(0x6b3)][_0x29d22a(0x5ee)][_0x29d22a(0x605)]('local-media-stream-track-fail',{'label':_0x21dec6[_0x29d22a(0x226)][_0x29d22a(0x710)],'trackKinds':_0x21dec6['content'][_0x29d22a(0x6c7)]});}}[_0x5d07ed(0x23e)]({content:_0x3dadc7}){const _0x369f53=_0x5d07ed;switch(_0x3dadc7['type']){case _0x2511d0[_0x369f53(0x317)]:this[_0x369f53(0x756)](_0x3dadc7),this[_0x369f53(0x265)](_0x3dadc7);break;case _0x2511d0[_0x369f53(0x2c7)]:this[_0x369f53(0x3c2)](_0x3dadc7),this[_0x369f53(0x6c3)](_0x3dadc7);}}[_0x5d07ed(0x61d)](_0x370fe2){const _0x25713a=_0x5d07ed;switch(_0x370fe2[_0x25713a(0x226)]['type']){case _0x653563[_0x25713a(0x33c)]:this[_0x25713a(0x32f)](_0x370fe2[_0x25713a(0x510)],_0x370fe2[_0x25713a(0x226)]);break;case _0x653563[_0x25713a(0x77c)]:this[_0x25713a(0x244)](_0x370fe2['sourceId'],_0x370fe2[_0x25713a(0x226)]);break;case _0x653563[_0x25713a(0x6b8)]:this[_0x25713a(0x750)](_0x370fe2['sourceId'],_0x370fe2['content']);}}[_0x5d07ed(0x201)](_0x4ecb31){const _0x1c5445=_0x5d07ed;if(0x0===_0x4ecb31[_0x1c5445(0x2fa)])this['remoteMediaStreams'][_0x1c5445(0x58c)](_0x4ecb31[_0x1c5445(0x516)])?.['get'](_0x4ecb31[_0x1c5445(0x710)])?.[_0x1c5445(0x535)]();else{const _0x13fb8a=this['remoteMediaStreams'][_0x1c5445(0x58c)](_0x4ecb31['ownerId'])?.['get'](_0x4ecb31[_0x1c5445(0x710)]);if(!_0x13fb8a)return;_0x4ecb31['trackKinds'][_0x1c5445(0x487)](_0x2d4c72=>_0x13fb8a[_0x1c5445(0x41d)](_0x2d4c72));}}['handlePublishMediaStream'](_0x45ca08){const _0x3013cf=_0x5d07ed,{label:_0x6603e2,ownerId:_0x47337d,stream:{streamId:_0xb96b5e,availableTrackKinds:_0x410754}}=_0x45ca08;if(this[_0x3013cf(0x380)][_0x3013cf(0x58c)](_0x47337d)?.[_0x3013cf(0x461)](_0x6603e2))return void _0x218f12[_0x3013cf(0x59a)](_0x4f0e27[_0x3013cf(0x68e)],_0x3013cf(0x4a4),_0xb96b5e);const _0x2d3d98=this[_0x3013cf(0x38d)](_0x47337d,_0x6603e2,_0xb96b5e,_0x410754);this['configs']['mediator']['notifyCluster'](_0x3013cf(0x43f),{'ownerId':_0x47337d,'stream':_0x2d3d98});}['handleUnpublishMediaStream']({ownerId:_0x41fb60,label:_0x472444}){const _0x6bafe5=_0x5d07ed;this['removeRemoteMediaStream'](_0x41fb60,_0x472444),this[_0x6bafe5(0x6b3)][_0x6bafe5(0x5ee)][_0x6bafe5(0x605)](_0x6bafe5(0x285),{'ownerId':_0x41fb60,'label':_0x472444});}[_0x5d07ed(0x754)](_0x26666e){const _0x4204e0=_0x5d07ed;this['removeLocalMediaStream'](_0x26666e[_0x4204e0(0x710)]);}[_0x5d07ed(0x218)](_0x20b7e9){const _0x223847=_0x5d07ed;this[_0x223847(0x5ea)](_0x20b7e9['label']);}['handleClosePubSubTopic'](_0x570fef){const _0xbeca1a=_0x5d07ed;this['removePubSubTopic'](_0x570fef[_0xbeca1a(0x710)]);}[_0x5d07ed(0x51d)](_0x48a6ec){const _0x11cb6a=_0x5d07ed;this[_0x11cb6a(0x45f)](_0x48a6ec['label']);}[_0x5d07ed(0x32f)](_0x2e69bd,_0x2f79c4){const _0x2d7289=_0x5d07ed,{ownerId:_0x3458a6,label:_0x20d347}=_0x2f79c4;let _0x55366a;_0x55366a=_0x3458a6!==this[_0x2d7289(0x6b3)]['localNode'][_0x2d7289(0x580)]()?this['remoteMediaStreams']['get'](_0x3458a6)[_0x2d7289(0x58c)](_0x20d347):this[_0x2d7289(0x355)][_0x2d7289(0x58c)](_0x20d347),_0x55366a[_0x2d7289(0x72e)](_0x2e69bd,_0x2f79c4[_0x2d7289(0x2e5)])[_0x2d7289(0x354)](_0x2f79c4,_0x55366a['getPriority']());}[_0x5d07ed(0x244)](_0x20a06d,_0x1af7a5){const _0x53e281=_0x5d07ed,{ownerId:_0x2beaa5,label:_0x4d7d19}=_0x1af7a5;let _0x23a5cf;_0x23a5cf=_0x2beaa5!==this[_0x53e281(0x6b3)][_0x53e281(0x67d)][_0x53e281(0x580)]()?this[_0x53e281(0x380)][_0x53e281(0x58c)](_0x2beaa5)['get'](_0x4d7d19):this[_0x53e281(0x355)][_0x53e281(0x58c)](_0x4d7d19),_0x23a5cf[_0x53e281(0x72e)](_0x20a06d,_0x1af7a5[_0x53e281(0x2e5)])[_0x53e281(0x363)](_0x1af7a5);}[_0x5d07ed(0x750)](_0x2cc164,_0x259a84){const _0x179321=_0x5d07ed,{ownerId:_0x209111,label:_0x4c13dd}=_0x259a84;let _0x170e8a;_0x170e8a=_0x209111!==this[_0x179321(0x6b3)]['localNode'][_0x179321(0x580)]()?this['remoteMediaStreams']['get'](_0x209111)['get'](_0x4c13dd):this[_0x179321(0x355)][_0x179321(0x58c)](_0x4c13dd),_0x170e8a[_0x179321(0x72e)](_0x2cc164)[_0x179321(0x751)](_0x259a84);}[_0x5d07ed(0x756)]({id:_0x5285a4}){const _0x4c7cb1=_0x5d07ed;this[_0x4c7cb1(0x459)]()[_0x4c7cb1(0x487)](_0x5df716=>{const _0x19f310=_0x4c7cb1;_0x5df716[_0x19f310(0x3f9)](_0x5285a4);});}[_0x5d07ed(0x3c2)]({id:_0xe4e485}){const _0x25b738=_0x5d07ed;this[_0x25b738(0x515)](_0x1d18ff=>_0x1d18ff['getOwnerId']()===_0xe4e485)[_0x25b738(0x487)](_0x4a0e67=>{const _0x1c7671=_0x25b738;this['removeRemoteMediaStream'](_0x4a0e67[_0x1c7671(0x695)](),_0x4a0e67['getLabel']());});}[_0x5d07ed(0x265)]({id:_0x66cbde}){const _0x284e95=_0x5d07ed;this[_0x284e95(0x23d)][_0x284e95(0x487)](_0x23ef89=>_0x23ef89[_0x284e95(0x2b3)](_0x66cbde));}[_0x5d07ed(0x6c3)]({id:_0x5a6f3b}){const _0x5da8e7=_0x5d07ed;this[_0x5da8e7(0x23d)][_0x5da8e7(0x487)](_0x4c69ea=>_0x4c69ea[_0x5da8e7(0x3c2)](_0x5a6f3b));}[_0x5d07ed(0x5ea)](_0xb588f7){const _0x22cc3f=_0x5d07ed;if(!this[_0x22cc3f(0x23d)][_0x22cc3f(0x461)](_0xb588f7))throw new _0xc4bd71(_0x294755[_0x22cc3f(0x261)],_0x22cc3f(0x3c6));const _0x3189aa=this[_0x22cc3f(0x23d)]['get'](_0xb588f7);this[_0x22cc3f(0x23d)][_0x22cc3f(0x702)](_0xb588f7),_0x3189aa[_0x22cc3f(0x535)](),this[_0x22cc3f(0x6b3)][_0x22cc3f(0x5ee)]['unregisterSystemSource'](_0x3189aa);}['removePubSubTopic'](_0x35c74e){const _0x591bcd=_0x5d07ed;if(!this[_0x591bcd(0x287)][_0x591bcd(0x461)](_0x35c74e))throw new _0xc4bd71(_0x294755['PubSubTopicDoesNotExist'],_0x591bcd(0x3c6));const _0x598dc1=this[_0x591bcd(0x287)][_0x591bcd(0x58c)](_0x35c74e);this[_0x591bcd(0x287)]['delete'](_0x35c74e),_0x598dc1[_0x591bcd(0x535)](),this[_0x591bcd(0x6b3)][_0x591bcd(0x5ee)]['unregisterSystemSource'](_0x598dc1);}[_0x5d07ed(0x45f)](_0xd4c2b2){const _0x58b7a4=_0x5d07ed;if(!this['keyValueDatabases'][_0x58b7a4(0x461)](_0xd4c2b2))throw new _0xc4bd71(_0x294755[_0x58b7a4(0x564)],'Database\x20does\x20not\x20exist');const _0x25a057=this[_0x58b7a4(0x476)]['get'](_0xd4c2b2);this[_0x58b7a4(0x476)][_0x58b7a4(0x702)](_0xd4c2b2),_0x25a057[_0x58b7a4(0x535)](),this['configs'][_0x58b7a4(0x5ee)][_0x58b7a4(0x61b)](_0x25a057);}['removeLocalMediaStream'](_0x5435a6){const _0x602fa9=_0x5d07ed;if(!this['localMediaStreams']['has'](_0x5435a6))throw new _0x187b09(_0x187b09[_0x602fa9(0x545)]['LocalMediaStreamDoesNotExist'],{'label':_0x5435a6,'localId':this[_0x602fa9(0x6b3)][_0x602fa9(0x67d)]['getId']()});const _0x323289=this[_0x602fa9(0x355)][_0x602fa9(0x58c)](_0x5435a6);this[_0x602fa9(0x6b3)][_0x602fa9(0x5ee)]['unregisterSystemSource'](_0x323289),_0x323289[_0x602fa9(0x535)](),this[_0x602fa9(0x355)]['delete'](_0x5435a6);}[_0x5d07ed(0x53d)](_0x37c314,_0x42f26d){const _0x564271=_0x5d07ed;if(!this[_0x564271(0x380)]['has'](_0x37c314))throw new _0x187b09(_0x187b09['codes'][_0x564271(0x409)],{'nodeId':_0x37c314,'localId':this[_0x564271(0x6b3)]['localNode'][_0x564271(0x580)]()});const _0x562aa1=this[_0x564271(0x380)]['get'](_0x37c314);if(!_0x562aa1[_0x564271(0x461)](_0x42f26d))throw new _0x187b09(_0x187b09['codes'][_0x564271(0x50f)],{'nodeId':_0x37c314,'label':_0x42f26d,'localId':this[_0x564271(0x6b3)]['localNode'][_0x564271(0x580)]()});const _0x3daf38=_0x562aa1[_0x564271(0x58c)](_0x42f26d);this[_0x564271(0x6b3)][_0x564271(0x5ee)][_0x564271(0x61b)](_0x3daf38),_0x3daf38[_0x564271(0x535)](),_0x562aa1[_0x564271(0x702)](_0x42f26d);}}!function(_0x5ebe95){const _0x4390bc=_0x5d07ed;_0x5ebe95['STVolatility']='st_volatility',_0x5ebe95['DTVolatility']=_0x4390bc(0x2f9),_0x5ebe95['TimePerFrame']=_0x4390bc(0x1ff),_0x5ebe95[_0x4390bc(0x2ef)]=_0x4390bc(0x35b),_0x5ebe95[_0x4390bc(0x6a0)]=_0x4390bc(0x6c8),_0x5ebe95['FramePerSecond']=_0x4390bc(0x736),_0x5ebe95[_0x4390bc(0x73d)]='rtt',_0x5ebe95[_0x4390bc(0x56e)]='av_delay';}(_0x2b2abd||(_0x2b2abd={})),function(_0x3bb811){const _0x34379f=_0x5d07ed;_0x3bb811[_0x34379f(0x301)]='cpu.cycle',_0x3bb811[_0x34379f(0x574)]='cpu.time_per_frame',_0x3bb811[_0x34379f(0x56e)]=_0x34379f(0x757),_0x3bb811[_0x34379f(0x3e5)]=_0x34379f(0x496),_0x3bb811[_0x34379f(0x2ef)]=_0x34379f(0x21a),_0x3bb811['Jitter']=_0x34379f(0x3a3),_0x3bb811[_0x34379f(0x73d)]='bandwidth.rtt';}(_0x12b907||(_0x12b907={})),function(_0x5d4259){const _0xe0c7f5=_0x5d07ed;_0x5d4259[_0x5d4259[_0xe0c7f5(0x4ff)]=0x0]=_0xe0c7f5(0x4ff);}(_0xb2e1f2||(_0xb2e1f2={}));const _0x506d16=[{'type':_0x2b2abd['STVolatility'],'reportMetric':_0x8ee2e9=>_0x8ee2e9['STVolatility'],'maxThreshold':2.5},{'type':_0x2b2abd[_0x5d07ed(0x6ee)],'reportMetric':_0x41a574=>_0x41a574[_0x5d07ed(0x6ee)],'maxThreshold':0.5}],_0x49d995=[{'type':_0x2b2abd[_0x5d07ed(0x574)],'reportMetric':_0x51f9bd=>{const _0x2002f8=_0x5d07ed,_0xd1be4c=0x3e8/_0x51f9bd[_0x2002f8(0x255)];return _0x51f9bd['timePerFrame']/_0xd1be4c;},'maxThreshold':0.75},{'type':_0x2b2abd[_0x5d07ed(0x2ef)],'reportMetric':_0xffb9fd=>{const _0x44bcf8=_0x5d07ed,_0x178494=_0xffb9fd['FPS']*_0xffb9fd[_0x44bcf8(0x725)]*_0xffb9fd['frameHeight']*0.12;return _0xffb9fd[_0x44bcf8(0x35b)]/_0x178494;},'minThreshold':0.25},{'type':_0x2b2abd[_0x5d07ed(0x6a0)],'reportMetric':_0x1ba542=>_0x1ba542[_0x5d07ed(0x6c8)],'maxThreshold':0.6},{'type':_0x2b2abd['FramePerSecond'],'reportMetric':_0x8e87fe=>_0x8e87fe[_0x5d07ed(0x255)],'minThreshold':0xa}],_0x25f1ec=[{'type':_0x2b2abd[_0x5d07ed(0x6a0)],'reportMetric':_0x37a935=>_0x37a935['jitter'],'maxThreshold':0.6}],_0x58514f=[{'type':_0x2b2abd[_0x5d07ed(0x73d)],'reportMetric':_0xad23aa=>_0xad23aa[_0x5d07ed(0x263)],'maxThreshold':0x1/0x0}],_0x8b5c57=[{'type':_0x2b2abd['AudioVideoDelay'],'reportMetric':_0x538603=>_0x538603['AudioVideoDelay'],'maxThreshold':0x12c}],_0x465cea=[{'type':_0x12b907[_0x5d07ed(0x301)],'issues':[{'type':_0x2b2abd['STVolatility'],'threshold':0x5},{'type':_0x2b2abd['DTVolatility'],'threshold':0x5}]},{'type':_0x12b907[_0x5d07ed(0x574)],'issues':[{'type':_0x2b2abd['TimePerFrame'],'threshold':0x3}]},{'type':_0x12b907[_0x5d07ed(0x56e)],'issues':[{'type':_0x2b2abd['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x12b907[_0x5d07ed(0x3e5)],'issues':[{'type':_0x2b2abd['FramePerSecond'],'threshold':0x3}]},{'type':_0x12b907['Bitrate'],'issues':[{'type':_0x2b2abd[_0x5d07ed(0x2ef)],'threshold':0x3}]},{'type':_0x12b907[_0x5d07ed(0x6a0)],'issues':[{'type':_0x2b2abd['Jitter'],'threshold':0x3}]},{'type':_0x12b907['RoundTripTime'],'issues':[{'type':_0x2b2abd['RoundTripTime'],'threshold':0x3}]}];var _0xb54423,_0x577608;!function(_0x2b32a8){const _0x2aacc6=_0x5d07ed;_0x2b32a8[_0x2b32a8[_0x2aacc6(0x401)]=0x0]='StreamReport',_0x2b32a8[_0x2b32a8[_0x2aacc6(0x5cb)]=0x1]=_0x2aacc6(0x5cb);}(_0xb54423||(_0xb54423={}));class _0x283a5b{[_0x5d07ed(0x6b3)];['issues']=[];['systemTopic'];constructor(_0x2a5056){const _0x33d12d=_0x5d07ed;this[_0x33d12d(0x6b3)]=_0x2a5056,this[_0x33d12d(0x6b3)][_0x33d12d(0x5ee)][_0x33d12d(0x796)](this);}[_0x5d07ed(0x3a5)](_0x349c1e){this['systemTopic']=_0x349c1e;}[_0x5d07ed(0x6d2)](){const _0x36412b=_0x5d07ed;this[_0x36412b(0x63a)]=void 0x0;}[_0x5d07ed(0x6d1)](){const _0x375179=_0x5d07ed;this[_0x375179(0x6b3)][_0x375179(0x5ee)][_0x375179(0x61b)](this),this[_0x375179(0x26f)]=[];}['handleStatsSystemEvents'](_0x442a33){const _0x392696=_0x5d07ed;switch(_0x442a33[_0x392696(0x226)][_0x392696(0x4ba)]){case _0xb54423[_0x392696(0x5cb)]:this['detectLocalIssues'](_0x442a33[_0x392696(0x226)]['data']);break;case _0xb54423[_0x392696(0x401)]:this[_0x392696(0x237)](_0x442a33['content'][_0x392696(0x269)]);}}[_0x5d07ed(0x24d)](_0x1a66ba,_0x434911,_0x4fae36,_0x19eb39){const _0x2ff2c5=_0x5d07ed,_0x5028bd=_0x465cea[_0x2ff2c5(0x3d6)](_0x4b86a2=>_0x4b86a2['issues'][_0x2ff2c5(0x54d)](_0x227f3a=>_0x227f3a[_0x2ff2c5(0x4ba)]===_0x1a66ba));_0x19eb39>=_0x5028bd[_0x2ff2c5(0x26f)][_0x2ff2c5(0x3d6)](_0x55227b=>_0x55227b[_0x2ff2c5(0x4ba)]===_0x1a66ba)[_0x2ff2c5(0x6b2)]&&(this[_0x2ff2c5(0x539)](_0x5028bd[_0x2ff2c5(0x4ba)],_0x434911,_0x4fae36),this[_0x2ff2c5(0x26f)]=this[_0x2ff2c5(0x26f)][_0x2ff2c5(0x759)](_0xb32417=>!(_0xb32417[_0x2ff2c5(0x4ba)]===_0x1a66ba&&_0xb32417[_0x2ff2c5(0x3f8)]===_0x434911&&_0xb32417[_0x2ff2c5(0x75a)]===_0x4fae36)));}[_0x5d07ed(0x368)](_0x2f09ee){const _0x2e7dba=_0x5d07ed;_0x506d16[_0x2e7dba(0x487)](_0x2f3eac=>{const _0x4c9a0b=_0x2e7dba,_0x5bcc89=_0x2f3eac[_0x4c9a0b(0x624)](_0x2f09ee);_0x2f3eac['maxThreshold']&&_0x5bcc89>_0x2f3eac['maxThreshold']&&this[_0x4c9a0b(0x59d)](_0x2f3eac[_0x4c9a0b(0x4ba)],this[_0x4c9a0b(0x6b3)]['localNode']['getId'](),_0x4df541[_0x4c9a0b(0x491)],_0x5bcc89),_0x2f3eac[_0x4c9a0b(0x2d2)]&&_0x5bcc89<_0x2f3eac[_0x4c9a0b(0x2d2)]&&this[_0x4c9a0b(0x59d)](_0x2f3eac[_0x4c9a0b(0x4ba)],this['configs'][_0x4c9a0b(0x67d)][_0x4c9a0b(0x580)](),_0x4df541[_0x4c9a0b(0x491)],_0x5bcc89);});}[_0x5d07ed(0x237)](_0x223379){const _0x3b91ae=_0x5d07ed;let _0x15a9ab=[];switch(_0x223379['origin']){case _0x4df541[_0x3b91ae(0x491)]:_0x15a9ab=_0x58514f;break;case _0x4df541[_0x3b91ae(0x66d)]:_0x15a9ab=_0x8b5c57;}_0x223379['video']&&this[_0x3b91ae(0x47a)](_0x223379[_0x3b91ae(0x3f8)],_0x4df541[_0x3b91ae(0x491)],_0x223379[_0x3b91ae(0x2b9)]),_0x223379[_0x3b91ae(0x2ce)]&&this[_0x3b91ae(0x427)](_0x223379[_0x3b91ae(0x3f8)],_0x4df541[_0x3b91ae(0x491)],_0x223379[_0x3b91ae(0x2ce)]),_0x15a9ab[_0x3b91ae(0x487)](_0xd50dad=>{const _0x4c3172=_0x3b91ae,_0x3b0232=_0xd50dad[_0x4c3172(0x624)](_0x223379);_0xd50dad[_0x4c3172(0x48c)]&&_0x3b0232>_0xd50dad[_0x4c3172(0x48c)]&&this[_0x4c3172(0x59d)](_0xd50dad[_0x4c3172(0x4ba)],_0x223379[_0x4c3172(0x3f8)],_0x4df541['Sender'],_0x3b0232),_0xd50dad[_0x4c3172(0x2d2)]&&_0x3b0232<_0xd50dad['minThreshold']&&this[_0x4c3172(0x59d)](_0xd50dad['type'],_0x223379[_0x4c3172(0x3f8)],_0x4df541[_0x4c3172(0x491)],_0x3b0232);});}[_0x5d07ed(0x47a)](_0x4d390c,_0x4d965e,_0x109cfd){const _0x46dc4e=_0x5d07ed;0x0!==_0x109cfd[_0x46dc4e(0x35b)]&&_0x49d995[_0x46dc4e(0x487)](_0x4cdbd2=>{const _0xee7ee7=_0x46dc4e,_0x3d50c7=_0x4cdbd2[_0xee7ee7(0x624)](_0x109cfd);_0x4cdbd2['maxThreshold']&&_0x3d50c7>_0x4cdbd2[_0xee7ee7(0x48c)]&&this[_0xee7ee7(0x59d)](_0x4cdbd2[_0xee7ee7(0x4ba)],_0x4d390c,_0x4d965e,_0x3d50c7,_0xee7ee7(0x2b9)),_0x4cdbd2[_0xee7ee7(0x2d2)]&&_0x3d50c7<_0x4cdbd2[_0xee7ee7(0x2d2)]&&this['addIssue'](_0x4cdbd2[_0xee7ee7(0x4ba)],_0x4d390c,_0x4d965e,_0x3d50c7,_0xee7ee7(0x2b9));});}[_0x5d07ed(0x427)](_0x1daa4c,_0x4778f2,_0x5a60da){const _0x5907f4=_0x5d07ed;0x0!==_0x5a60da['bitrate']&&_0x25f1ec[_0x5907f4(0x487)](_0x5b861c=>{const _0x1b9936=_0x5907f4,_0x5a201d=_0x5b861c[_0x1b9936(0x624)](_0x5a60da);_0x5b861c[_0x1b9936(0x48c)]&&_0x5a201d>_0x5b861c[_0x1b9936(0x48c)]&&this['addIssue'](_0x5b861c[_0x1b9936(0x4ba)],_0x1daa4c,_0x4778f2,_0x5a201d,'audio'),_0x5b861c[_0x1b9936(0x2d2)]&&_0x5a201d<_0x5b861c[_0x1b9936(0x2d2)]&&this[_0x1b9936(0x59d)](_0x5b861c[_0x1b9936(0x4ba)],_0x1daa4c,_0x4778f2,_0x5a201d,_0x1b9936(0x2ce));});}[_0x5d07ed(0x59d)](_0x5217c0,_0x6afbfa,_0x1fcde4,_0x435e41,_0x3ff976){const _0x387e12=_0x5d07ed;_0x218f12[_0x387e12(0x59a)](_0x4f0e27[_0x387e12(0x2a5)],'Issue\x20detected:\x20'+_0x5217c0,_0x5217c0,_0x435e41),_0x218f12['logEvent'](_0x387e12(0x2a8),{'clusterId':this[_0x387e12(0x6b3)][_0x387e12(0x316)],'nodeId':this['configs'][_0x387e12(0x67d)][_0x387e12(0x580)](),'nodeType':this[_0x387e12(0x6b3)][_0x387e12(0x67d)][_0x387e12(0x4ba)],'remoteId':_0x6afbfa,'data':{'type':_0x5217c0,'value':_0x435e41,'kind':_0x3ff976}}),this['issues']=this[_0x387e12(0x26f)][_0x387e12(0x759)](_0x55defd=>Date[_0x387e12(0x58e)]()-_0x55defd['timestamp']<0x7530),this[_0x387e12(0x26f)][_0x387e12(0x4d7)]({'timestamp':Date[_0x387e12(0x58e)](),'type':_0x5217c0,'nodeId':_0x6afbfa,'origin':_0x1fcde4,'value':_0x435e41,'kind':_0x3ff976});const _0x9b3d60=this[_0x387e12(0x26f)][_0x387e12(0x759)](_0x4fedba=>_0x4fedba[_0x387e12(0x4ba)]===_0x5217c0&&_0x4fedba[_0x387e12(0x3f8)]===_0x6afbfa&&_0x4fedba[_0x387e12(0x75a)]===_0x1fcde4)[_0x387e12(0x57d)];this['detectProblems'](_0x5217c0,_0x6afbfa,_0x1fcde4,_0x9b3d60);}[_0x5d07ed(0x539)](_0x5cf0c0,_0x220e45,_0x5dc7a0){const _0xacb612=_0x5d07ed;_0x218f12['log'](_0x4f0e27[_0xacb612(0x2a5)],_0xacb612(0x699)+_0x5cf0c0),_0x218f12[_0xacb612(0x468)](_0xacb612(0x288),{'clusterId':this[_0xacb612(0x6b3)][_0xacb612(0x316)],'nodeId':this[_0xacb612(0x6b3)][_0xacb612(0x67d)][_0xacb612(0x580)](),'nodeType':this[_0xacb612(0x6b3)][_0xacb612(0x67d)][_0xacb612(0x4ba)],'remoteId':_0x220e45,'data':{'type':_0x5cf0c0}}),this[_0xacb612(0x63a)]?.['publish']({'sourceId':_0x35e782,'messageType':_0x772a3e[_0xacb612(0x2a5)],'content':{'type':_0xb2e1f2[_0xacb612(0x4ff)],'data':{'timestamp':Date[_0xacb612(0x58e)](),'nodeId':_0x220e45,'origin':_0x4df541[_0xacb612(0x491)],'type':_0x5cf0c0}}});}}class _0xc3644a extends _0x336ef2{[_0x5d07ed(0x4ba)]=_0x4b08d8[_0x5d07ed(0x532)][_0x5d07ed(0x46b)];}class _0x56b6f7 extends _0xc3644a{[_0x5d07ed(0x63a)];[_0x5d07ed(0x2aa)]=Date[_0x5d07ed(0x58e)]();[_0x5d07ed(0x789)];[_0x5d07ed(0x1f4)];[_0x5d07ed(0x6d1)](){const _0x1d71fc=_0x5d07ed;this[_0x1d71fc(0x789)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x1d71fc(0x789)]),delete this[_0x1d71fc(0x1f4)],this[_0x1d71fc(0x2aa)]=Date[_0x1d71fc(0x58e)](),super[_0x1d71fc(0x6d1)]();}['registerSystemPublisher'](_0x596258){const _0x4b87d5=_0x5d07ed;this[_0x4b87d5(0x63a)]=_0x596258;}[_0x5d07ed(0x6d2)](){const _0x436f0d=_0x5d07ed;delete this[_0x436f0d(0x63a)];}[_0x5d07ed(0x36f)](_0x1428a6){const _0x14ae00=_0x5d07ed;!this['updateDebounceTimeout']&&this[_0x14ae00(0x3ca)]&&this[_0x14ae00(0x63a)]['publish']({'sourceId':this['id'],'destinationIds':[_0x1428a6],'propagate':!0x0,'messageType':_0x772a3e[_0x14ae00(0x747)],'content':{'type':_0x2511d0[_0x14ae00(0x492)],'id':this['id'],'metaData':{'type':this['type']},'rank':this['getRank'](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x14ae00(0x2aa)]}});}[_0x5d07ed(0x2f3)](_0x549555){const _0x67d238=_0x5d07ed;this['remoteConnections'][_0x67d238(0x461)](_0x549555)||(this[_0x67d238(0x677)]['add'](_0x549555),this['incrementVersion'](),this[_0x67d238(0x3ff)](!0x0));}['removeRemoteConnection'](_0xd87f7d){const _0x327c65=_0x5d07ed;this[_0x327c65(0x677)][_0x327c65(0x461)](_0xd87f7d)&&(this['remoteConnections'][_0x327c65(0x702)](_0xd87f7d),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x5d07ed(0x5f5)](){return this['currentVersion'];}[_0x5d07ed(0x521)](_0x5b18de,_0x3828a3=!0x0){const _0x598d5a=_0x5d07ed;this[_0x598d5a(0x3ca)]!==_0x5b18de&&(this[_0x598d5a(0x3ca)]=_0x5b18de,_0x3828a3&&(this[_0x598d5a(0x384)](),this[_0x598d5a(0x3ff)]()));}[_0x5d07ed(0x384)](){const _0x1e5e45=_0x5d07ed;this['currentVersion']=Date[_0x1e5e45(0x58e)]();}[_0x5d07ed(0x3ff)](_0x197547=!0x1){const _0x228ac3=_0x5d07ed;if(this[_0x228ac3(0x3ca)]){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x228ac3(0x58e)]()),this[_0x228ac3(0x789)]){if(Date[_0x228ac3(0x58e)]()-this[_0x228ac3(0x1f4)]>0x2328)return;clearTimeout(this[_0x228ac3(0x789)]);}this[_0x228ac3(0x789)]=setTimeout(()=>{const _0x3d2990=_0x228ac3;delete this['lastUpdated'],delete this[_0x3d2990(0x789)],this[_0x3d2990(0x63a)][_0x3d2990(0x3f9)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x772a3e[_0x3d2990(0x747)],'content':{'type':_0x197547?_0x2511d0['NodeConnectionsUpdate']:_0x2511d0[_0x3d2990(0x492)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x3d2990(0x693)](),'remoteConnections':Array[_0x3d2990(0x45d)](this[_0x3d2990(0x677)]),'version':this[_0x3d2990(0x2aa)]}});},0x3e8);}}}class _0x1fa733 extends _0x2924ed{[_0x5d07ed(0x63a)];[_0x5d07ed(0x2aa)]=Date[_0x5d07ed(0x58e)]();['updateDebounceTimeout'];[_0x5d07ed(0x1f4)];[_0x5d07ed(0x6d1)](){const _0x84ae2b=_0x5d07ed;this[_0x84ae2b(0x789)]&&(clearTimeout(this[_0x84ae2b(0x789)]),delete this[_0x84ae2b(0x789)]),delete this[_0x84ae2b(0x1f4)],this[_0x84ae2b(0x2aa)]=Date[_0x84ae2b(0x58e)](),super[_0x84ae2b(0x6d1)]();}['registerSystemPublisher'](_0x3d51e9){const _0x54a408=_0x5d07ed;this[_0x54a408(0x63a)]=_0x3d51e9;}[_0x5d07ed(0x6d2)](){delete this['systemTopic'];}[_0x5d07ed(0x36f)](_0x42b9ce){const _0x22147a=_0x5d07ed;!this['updateDebounceTimeout']&&this[_0x22147a(0x3ca)]&&this[_0x22147a(0x63a)][_0x22147a(0x3f9)]({'sourceId':this['id'],'destinationIds':[_0x42b9ce],'propagate':!0x0,'messageType':_0x772a3e['Node'],'content':{'type':_0x2511d0[_0x22147a(0x492)],'id':this['id'],'metaData':{'type':this[_0x22147a(0x4ba)],'displayName':this[_0x22147a(0x20d)](),'email':this['getEmail']()},'rank':this[_0x22147a(0x693)](),'remoteConnections':Array[_0x22147a(0x45d)](this[_0x22147a(0x677)]),'version':this['currentVersion']}});}[_0x5d07ed(0x2f3)](_0x3eb9fb){const _0x319db5=_0x5d07ed;this[_0x319db5(0x677)]['has'](_0x3eb9fb)||(this['remoteConnections'][_0x319db5(0x3cf)](_0x3eb9fb),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x5d07ed(0x2e4)](_0xee9e18){const _0x2aa8d0=_0x5d07ed;this[_0x2aa8d0(0x677)][_0x2aa8d0(0x461)](_0xee9e18)&&(this[_0x2aa8d0(0x677)][_0x2aa8d0(0x702)](_0xee9e18),this[_0x2aa8d0(0x384)](),this[_0x2aa8d0(0x3ff)](!0x0));}[_0x5d07ed(0x5f5)](){const _0x5f2343=_0x5d07ed;return this[_0x5f2343(0x2aa)];}[_0x5d07ed(0x657)](_0x1c694a){const _0x3274ec=_0x5d07ed;this[_0x3274ec(0x329)]!==_0x1c694a&&(this[_0x3274ec(0x329)]=_0x1c694a,this[_0x3274ec(0x384)](),this['publishUserUpdate']());}[_0x5d07ed(0x464)](_0xf0896d){const _0xd6718e=_0x5d07ed;this[_0xd6718e(0x330)]!==_0xf0896d&&(this['email']=_0xf0896d,this[_0xd6718e(0x384)](),this[_0xd6718e(0x3ff)]());}[_0x5d07ed(0x521)](_0xe40074,_0xc4c31f=!0x0){const _0xdca2b5=_0x5d07ed;this[_0xdca2b5(0x3ca)]!==_0xe40074&&(this[_0xdca2b5(0x3ca)]=_0xe40074,_0xc4c31f&&(this[_0xdca2b5(0x384)](),this[_0xdca2b5(0x3ff)]()));}[_0x5d07ed(0x384)](){const _0xdc8639=_0x5d07ed;this[_0xdc8639(0x2aa)]=Date[_0xdc8639(0x58e)]();}[_0x5d07ed(0x3ff)](_0x42d48f=!0x1){const _0x551188=_0x5d07ed;if(this[_0x551188(0x3ca)]){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x551188(0x58e)]()),this[_0x551188(0x789)]){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x551188(0x789)]=setTimeout(()=>{const _0x387490=_0x551188;delete this['lastUpdated'],delete this[_0x387490(0x789)],this[_0x387490(0x63a)][_0x387490(0x3f9)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x772a3e['Node'],'content':{'type':_0x42d48f?_0x2511d0[_0x387490(0x6ad)]:_0x2511d0[_0x387490(0x492)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x387490(0x20d)](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x387490(0x45d)](this[_0x387490(0x677)]),'version':this[_0x387490(0x2aa)]}});},0x3e8);}}}!function(_0x6ff1bb){const _0x1b1081=_0x5d07ed;_0x6ff1bb[_0x6ff1bb[_0x1b1081(0x4b7)]=0x0]=_0x1b1081(0x4b7),_0x6ff1bb[_0x6ff1bb[_0x1b1081(0x586)]=0x1]=_0x1b1081(0x586);}(_0x577608||(_0x577608={}));class _0x3ac449 extends _0xc3644a{[_0x5d07ed(0x2aa)];[_0x5d07ed(0x54e)]=_0x577608[_0x5d07ed(0x4b7)];[_0x5d07ed(0x1f4)]=Date[_0x5d07ed(0x58e)]();constructor(_0x255587,_0x194da6=new Set(),_0x172626,_0x228c69){const _0x23ec19=_0x5d07ed;super(_0x255587,_0x194da6,_0x228c69),this[_0x23ec19(0x2aa)]=_0x172626;}[_0x5d07ed(0x5f5)](){const _0x522a17=_0x5d07ed;return this[_0x522a17(0x2aa)];}[_0x5d07ed(0x318)](){const _0x2a779b=_0x5d07ed;return this[_0x2a779b(0x54e)];}['getLastUpdated'](){const _0x4625a5=_0x5d07ed;return this[_0x4625a5(0x1f4)];}[_0x5d07ed(0x521)](_0x2044e4){const _0x48f5c1=_0x5d07ed;this[_0x48f5c1(0x3ca)]!==_0x2044e4&&(this[_0x48f5c1(0x3ca)]=_0x2044e4,this['updateLastUpdated']());}['setRemoteConnections'](_0x1fc232){const _0x2f2403=_0x5d07ed;let _0x4bbcd6=!0x1;for(const _0x3cb676 of this[_0x2f2403(0x677)])_0x1fc232[_0x2f2403(0x610)](_0x3cb676)||(_0x4bbcd6=!0x0,this['remoteConnections'][_0x2f2403(0x702)](_0x3cb676));for(const _0x17d712 of _0x1fc232)this[_0x2f2403(0x677)][_0x2f2403(0x461)](_0x17d712)||(_0x4bbcd6=!0x0,this['remoteConnections'][_0x2f2403(0x3cf)](_0x17d712));_0x4bbcd6&&this[_0x2f2403(0x3aa)]();}['setCurrentVersion'](_0x507e87){const _0x27115f=_0x5d07ed;this[_0x27115f(0x2aa)]!==_0x507e87&&(this[_0x27115f(0x2aa)]=_0x507e87,this[_0x27115f(0x3aa)]());}[_0x5d07ed(0x419)](_0xe488a2){const _0x387bcd=_0x5d07ed;this[_0x387bcd(0x54e)]!==_0xe488a2&&(this['status']=_0xe488a2,this['updateLastUpdated'](),_0xe488a2===_0x577608[_0x387bcd(0x586)]&&this[_0x387bcd(0x6d1)]());}['updateLastUpdated'](){const _0x41df5b=_0x5d07ed;this[_0x41df5b(0x1f4)]=Date[_0x41df5b(0x58e)]();}}class _0x5a4a0a extends _0x2924ed{['currentVersion'];['status']=_0x577608[_0x5d07ed(0x4b7)];[_0x5d07ed(0x1f4)]=Date[_0x5d07ed(0x58e)]();constructor(_0x5aefd5,_0x15d14d,_0x23c6b2,_0x481566=new Set(),_0x9641a1,_0x3c8d38){const _0x51291a=_0x5d07ed;super(_0x5aefd5,_0x15d14d,_0x23c6b2,_0x481566,_0x3c8d38),this[_0x51291a(0x2aa)]=_0x9641a1;}[_0x5d07ed(0x5f5)](){const _0x4085c8=_0x5d07ed;return this[_0x4085c8(0x2aa)];}['getStatus'](){const _0x5659e0=_0x5d07ed;return this[_0x5659e0(0x54e)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x5d07ed(0x657)](_0x3aa411){const _0x1a0eda=_0x5d07ed;this['displayName']!==_0x3aa411&&(this[_0x1a0eda(0x329)]=_0x3aa411,this[_0x1a0eda(0x3aa)]());}[_0x5d07ed(0x464)](_0x1d67e4){const _0x3e8820=_0x5d07ed;this['email']!==_0x1d67e4&&(this['email']=_0x1d67e4,this[_0x3e8820(0x3aa)]());}['setRank'](_0x403fe6){const _0x47dfbd=_0x5d07ed;this[_0x47dfbd(0x3ca)]!==_0x403fe6&&(this[_0x47dfbd(0x3ca)]=_0x403fe6,this[_0x47dfbd(0x3aa)]());}[_0x5d07ed(0x4ae)](_0x525e71){const _0xb0ce63=_0x5d07ed;let _0x3ae964=!0x1;for(const _0x4ecaa2 of this[_0xb0ce63(0x677)])_0x525e71[_0xb0ce63(0x610)](_0x4ecaa2)||(_0x3ae964=!0x0,this[_0xb0ce63(0x677)]['delete'](_0x4ecaa2));for(const _0x59be1e of _0x525e71)this[_0xb0ce63(0x677)]['has'](_0x59be1e)||(_0x3ae964=!0x0,this[_0xb0ce63(0x677)][_0xb0ce63(0x3cf)](_0x59be1e));_0x3ae964&&this['updateLastUpdated']();}[_0x5d07ed(0x250)](_0x2c3166){const _0xac0d27=_0x5d07ed;this[_0xac0d27(0x2aa)]!==_0x2c3166&&(this[_0xac0d27(0x2aa)]=_0x2c3166,this[_0xac0d27(0x3aa)]());}['setStatus'](_0x5511e6){const _0x266143=_0x5d07ed;this[_0x266143(0x54e)]!==_0x5511e6&&(this[_0x266143(0x54e)]=_0x5511e6,this[_0x266143(0x3aa)](),_0x5511e6===_0x577608['Offline']&&this['close']());}[_0x5d07ed(0x3aa)](){const _0x4f01f5=_0x5d07ed;this['lastUpdated']=Date[_0x4f01f5(0x58e)]();}}class _0x448184{['vendorId'];['clusterId'];[_0x5d07ed(0x67d)];['minConnections'];[_0x5d07ed(0x729)]=_0x274b6d();[_0x5d07ed(0x5b1)];['childRemovedUnsubscriber'];[_0x5d07ed(0x229)];[_0x5d07ed(0x5b9)]=!0x1;['clusterKey'];[_0x5d07ed(0x25d)];[_0x5d07ed(0x550)];constructor(_0x222009,_0x2c94be,_0x206583,_0x2c7f33){const _0x2f8472=_0x5d07ed;this[_0x2f8472(0x441)]=_0x222009,this[_0x2f8472(0x316)]=_0x2c94be,this[_0x2f8472(0x67d)]=_0x206583,this[_0x2f8472(0x40f)]=_0x2c7f33,this['clusterKey']='ccc'+this[_0x2f8472(0x441)]+_0x2f8472(0x327)+this[_0x2f8472(0x316)],this[_0x2f8472(0x25d)]='ccc'+this[_0x2f8472(0x441)]+_0x2f8472(0x327)+this[_0x2f8472(0x67d)][_0x2f8472(0x580)](),this[_0x2f8472(0x5b1)]=(0x0,_0x49a3fa['onValue'])((0x0,_0x49a3fa[_0x2f8472(0x274)])(_0x8536d0['getDatabase'](),_0x2f8472(0x770)),_0x30dd36=>{const _0xb843e=_0x2f8472;!0x0!==_0x30dd36['val']()?this['connected']&&(this['disconnectTimeout']=setTimeout(()=>{const _0xeb320c=a0_0x3365;delete this[_0xeb320c(0x550)],_0x218f12[_0xeb320c(0x2a2)](_0xeb320c(0x2e9),{'clusterId':this[_0xeb320c(0x316)],'nodeId':this[_0xeb320c(0x67d)][_0xeb320c(0x580)](),'nodeType':this[_0xeb320c(0x67d)][_0xeb320c(0x4ba)]}),(0x0,_0x49a3fa[_0xeb320c(0x437)])(_0x8536d0[_0xeb320c(0x2ab)]());const _0x5ba222=_0x4b6c88[_0xeb320c(0x611)](()=>{const _0x48f22c=_0xeb320c;navigator[_0x48f22c(0x423)]&&(_0x5ba222(),(0x0,_0x49a3fa[_0x48f22c(0x724)])(_0x8536d0['getDatabase']()));},0x3e8);},0xbb8)):(this[_0xb843e(0x5b9)]=!0x0,this[_0xb843e(0x39b)](),this[_0xb843e(0x550)]&&(clearTimeout(this[_0xb843e(0x550)]),delete this[_0xb843e(0x550)]));});}async[_0x5d07ed(0x52f)](){const _0x8195b5=_0x5d07ed;await this[_0x8195b5(0x701)]();const _0x17d8ff=await this['getAncestors']();return this['childRemovedUnsubscriber']=(0x0,_0x49a3fa[_0x8195b5(0x439)])((0x0,_0x49a3fa[_0x8195b5(0x274)])(_0x8536d0[_0x8195b5(0x2ab)](),_0x8195b5(0x689)+this['clusterKey']+_0x8195b5(0x3fd)),_0x1a5574=>{const _0x10d208=_0x8195b5,_0x44832a=_0x1a5574[_0x10d208(0x788)];if(!_0x44832a)return;const _0xcf52d9=_0x44832a['replace'](_0x10d208(0x327)+this['vendorId']+_0x10d208(0x327),'');this[_0x10d208(0x729)][_0x10d208(0x3f9)](_0xcf52d9);}),_0x17d8ff;}async[_0x5d07ed(0x6d1)](){const _0x334fcd=_0x5d07ed;this[_0x334fcd(0x4bd)]?.(),delete this[_0x334fcd(0x4bd)],this[_0x334fcd(0x229)]?.[_0x334fcd(0x22a)](),delete this['onDisconnectHandler'],this[_0x334fcd(0x5b1)]?.(),delete this['firebaseUnsubscriber'],this['disconnectTimeout']&&(clearTimeout(this[_0x334fcd(0x550)]),delete this[_0x334fcd(0x550)]),await(0x0,_0x49a3fa[_0x334fcd(0x3bb)])((0x0,_0x49a3fa[_0x334fcd(0x274)])(_0x8536d0[_0x334fcd(0x2ab)](),_0x334fcd(0x689)+this[_0x334fcd(0x2d9)]+_0x334fcd(0x738)+this[_0x334fcd(0x25d)]));}[_0x5d07ed(0x29f)](_0x3cb57e){const _0x27a0a2=_0x5d07ed;return this['disconnectCallback'][_0x27a0a2(0x354)](_0x3cb57e);}async[_0x5d07ed(0x71c)](){const _0x3462bf=_0x5d07ed,_0x29d4c0=[],_0x34207b=await(0x0,_0x49a3fa[_0x3462bf(0x58c)])((0x0,_0x49a3fa[_0x3462bf(0x274)])(_0x8536d0[_0x3462bf(0x2ab)](),_0x3462bf(0x689)+this[_0x3462bf(0x2d9)]+_0x3462bf(0x3fd))),_0x17272e=[];return _0x34207b[_0x3462bf(0x487)](_0x3f4d24=>{const _0x4a5326=_0x3462bf,_0x171dd5=_0x3f4d24['key']?.[_0x4a5326(0x669)]('ccc'+this['vendorId']+_0x4a5326(0x327),'');_0x17272e['push']({'id':_0x171dd5,'joinedAt':_0x3f4d24[_0x4a5326(0x6be)]()['joinedAt'],'priority':_0x3f4d24[_0x4a5326(0x6be)]()[_0x4a5326(0x38b)]});}),_0x17272e['sort']((_0x1d950d,_0x484a2b)=>_0x1d950d['joinedAt']===_0x484a2b[_0x3462bf(0x4bc)]?_0x1d950d[_0x3462bf(0x38b)]-_0x484a2b[_0x3462bf(0x38b)]:_0x1d950d[_0x3462bf(0x4bc)]-_0x484a2b[_0x3462bf(0x4bc)])[_0x3462bf(0x2c4)](_0x17272e[_0x3462bf(0x6f3)](_0x443714=>_0x443714['id']===this['localNode'][_0x3462bf(0x580)]())),_0x17272e[_0x3462bf(0x20c)]((_0x4151c4,_0x2fc673)=>_0x2fc673[_0x3462bf(0x4bc)]===_0x4151c4['joinedAt']?_0x2fc673[_0x3462bf(0x38b)]-_0x4151c4['priority']:_0x2fc673[_0x3462bf(0x4bc)]-_0x4151c4[_0x3462bf(0x4bc)])[_0x3462bf(0x487)](_0x3b6b31=>{const _0x1c69a3=_0x3462bf;_0x29d4c0['length']>=this[_0x1c69a3(0x40f)]||_0x29d4c0[_0x1c69a3(0x4d7)](_0x3b6b31['id']);}),_0x218f12[_0x3462bf(0x468)](_0x3462bf(0x662),{'clusterId':this[_0x3462bf(0x316)],'nodeId':this[_0x3462bf(0x67d)]['getId'](),'nodeType':this['localNode'][_0x3462bf(0x4ba)],'data':{'ancestorIds':_0x29d4c0,'allNodes':_0x17272e}}),_0x29d4c0;}async[_0x5d07ed(0x701)](){const _0x10810b=_0x5d07ed;await(0x0,_0x49a3fa[_0x10810b(0x518)])((0x0,_0x49a3fa[_0x10810b(0x274)])(_0x8536d0[_0x10810b(0x2ab)](),_0x10810b(0x689)+this[_0x10810b(0x2d9)]+_0x10810b(0x738)+this[_0x10810b(0x25d)]),{'joinedAt':(0x0,_0x49a3fa[_0x10810b(0x645)])(),'priority':Math['random']()});}[_0x5d07ed(0x39b)](){const _0xbe554d=_0x5d07ed;this[_0xbe554d(0x229)]&&this[_0xbe554d(0x229)][_0xbe554d(0x22a)](),this[_0xbe554d(0x229)]=(0x0,_0x49a3fa['onDisconnect'])((0x0,_0x49a3fa[_0xbe554d(0x274)])(_0x8536d0[_0xbe554d(0x2ab)](),'clusters/'+this[_0xbe554d(0x2d9)]+'/nodes/'+this['nodeKey'])),this[_0xbe554d(0x229)]['remove']();}}class _0x1dcdf1{[_0x5d07ed(0x6b3)];['graphService'];[_0x5d07ed(0x67d)];[_0x5d07ed(0x21b)];[_0x5d07ed(0x53e)];['discoveryUnsubscriber'];[_0x5d07ed(0x2e1)]=[];[_0x5d07ed(0x63a)];[_0x5d07ed(0x553)]=new Map();[_0x5d07ed(0x32d)];['lastProcessRank'];constructor(_0x224ece,_0x2c64e2,_0x5e6ee0){const _0x42099c=_0x5d07ed;this[_0x42099c(0x6b3)]=_0x224ece,this[_0x42099c(0x573)]=_0x2c64e2,this[_0x42099c(0x67d)]=_0x5e6ee0,this[_0x42099c(0x53e)]=new _0x448184(this['configs'][_0x42099c(0x441)],this[_0x42099c(0x6b3)][_0x42099c(0x316)],this[_0x42099c(0x67d)],this['graphService'][_0x42099c(0x672)]()),this[_0x42099c(0x422)]=this[_0x42099c(0x53e)][_0x42099c(0x29f)](this[_0x42099c(0x378)][_0x42099c(0x60d)](this)),this[_0x42099c(0x6b3)][_0x42099c(0x5ee)][_0x42099c(0x796)](this[_0x42099c(0x67d)]),this[_0x42099c(0x6b3)][_0x42099c(0x5ee)]['registerSystemSource'](this),this[_0x42099c(0x21b)]=_0x4b6c88[_0x42099c(0x611)](()=>{const _0x5d1650=_0x42099c,_0x528649=Date[_0x5d1650(0x58e)]();this[_0x5d1650(0x573)][_0x5d1650(0x790)]()['forEach'](_0x4bba0e=>{const _0x2610bb=_0x5d1650;_0x4bba0e[_0x2610bb(0x318)]()===_0x577608[_0x2610bb(0x586)]&&_0x4bba0e['getLastUpdated']()<_0x528649-0x493e0&&this['graphService'][_0x2610bb(0x49e)](_0x4bba0e[_0x2610bb(0x580)]());});},0xea60);}['registerSystemPublisher'](_0x565191){const _0x46f05b=_0x5d07ed;this[_0x46f05b(0x63a)]=_0x565191;}[_0x5d07ed(0x6d2)](){const _0x812c5b=_0x5d07ed;delete this[_0x812c5b(0x63a)];}['close'](){const _0x133ce4=_0x5d07ed;this[_0x133ce4(0x32d)]&&(clearTimeout(this['debounceProcessRank']),delete this['debounceProcessRank']),delete this[_0x133ce4(0x291)],this[_0x133ce4(0x67d)][_0x133ce4(0x6d1)](),this[_0x133ce4(0x21b)](),this[_0x133ce4(0x422)](),this[_0x133ce4(0x6b3)]['mediator'][_0x133ce4(0x61b)](this['localNode']),this[_0x133ce4(0x6b3)][_0x133ce4(0x5ee)]['unregisterSystemSource'](this),this[_0x133ce4(0x53e)]['close']();}[_0x5d07ed(0x20f)](){const _0x409355=_0x5d07ed;return this[_0x409355(0x2e1)];}[_0x5d07ed(0x5da)](){const _0x51d860=_0x5d07ed;return this[_0x51d860(0x67d)][_0x51d860(0x580)]();}[_0x5d07ed(0x63b)](){return this['localNode'];}[_0x5d07ed(0x790)](_0x26b0d1){const _0x4d64c7=_0x5d07ed,_0x4daee3=Array[_0x4d64c7(0x45d)](this[_0x4d64c7(0x573)][_0x4d64c7(0x790)]()[_0x4d64c7(0x3ec)]())[_0x4d64c7(0x759)](_0x1d7685=>_0x1d7685[_0x4d64c7(0x318)]()===_0x577608['Online']);return _0x26b0d1?_0x4daee3['filter'](_0x26b0d1):_0x4daee3;}async['discover'](){const _0x51e9c9=_0x5d07ed;return this[_0x51e9c9(0x2e1)]=await this[_0x51e9c9(0x53e)][_0x51e9c9(0x52f)](),this[_0x51e9c9(0x2e1)][_0x51e9c9(0x57d)]<this['graphService'][_0x51e9c9(0x672)]()&&(this[_0x51e9c9(0x67d)][_0x51e9c9(0x521)](this['ancestors'][_0x51e9c9(0x57d)]+0x1),this['processRank']()),this[_0x51e9c9(0x2e1)];}[_0x5d07ed(0x1fd)](_0x4cceeb,_0x1b6fb7){const _0x114554=_0x5d07ed,_0x1353dc=this[_0x114554(0x67d)][_0x114554(0x2e0)](),_0xb835f4=new Set(_0x1353dc),_0x10453f=Array[_0x114554(0x45d)](_0x1353dc)[_0x114554(0x759)](_0x2277ac=>_0x2277ac!==_0x4cceeb)['map'](_0x3b2a61=>({'id':_0x3b2a61,'distance':0x1}));for(;_0x10453f[_0x114554(0x57d)]>0x0;){const _0x156873=_0x10453f['shift']();if(!_0x156873)continue;if(_0x156873['id']===_0x1b6fb7)return _0x156873['distance'];const _0x5bcf57=this[_0x114554(0x573)][_0x114554(0x542)](_0x156873['id']);_0x5bcf57&&_0x5bcf57[_0x114554(0x318)]()!==_0x577608['Offline']&&_0x5bcf57['getRemoteConnections']()[_0x114554(0x487)](_0x7c3f2e=>{const _0x4986b6=_0x114554;_0xb835f4[_0x4986b6(0x461)](_0x7c3f2e)||(_0xb835f4['add'](_0x7c3f2e),_0x10453f[_0x4986b6(0x4d7)]({'id':_0x7c3f2e,'distance':_0x156873[_0x4986b6(0x2b2)]+0x1}));});}return-0x1;}[_0x5d07ed(0x23e)](_0x1e1cc7){const _0x479b80=_0x5d07ed;try{switch(_0x1e1cc7[_0x479b80(0x226)][_0x479b80(0x4ba)]){case _0x2511d0[_0x479b80(0x492)]:case _0x2511d0['NodeConnectionsUpdate']:this['handleNodeUpdate'](_0x1e1cc7[_0x479b80(0x226)]),_0x218f12[_0x479b80(0x59a)](_0x4f0e27[_0x479b80(0x747)],'NodeManager\x20-\x20NodeUpdate','\x27'+this['localNode'][_0x479b80(0x580)]()+',\x20'+_0x1e1cc7[_0x479b80(0x510)]+'\x27',_0x1e1cc7,_0x1e1cc7[_0x479b80(0x226)]);break;case _0x2511d0[_0x479b80(0x2c7)]:this['removeNode'](_0x1e1cc7['content']['id']),_0x218f12[_0x479b80(0x59a)](_0x4f0e27['Node'],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x479b80(0x67d)]['getId']()+',\x20'+_0x1e1cc7['sourceId']+'\x27',_0x1e1cc7,_0x1e1cc7['content']);}}catch(_0x1f7bb0){if(_0x1f7bb0 instanceof _0x43b1de)return void _0x218f12[_0x479b80(0x59a)](_0x4f0e27[_0x479b80(0x747)],_0x1f7bb0['message']);throw _0x1f7bb0;}}[_0x5d07ed(0x78f)](_0x2ac37a){const _0x14d64a=_0x5d07ed;switch(_0x2ac37a[_0x14d64a(0x226)][_0x14d64a(0x4ba)]){case _0x2c6c4e['Success']:this['handleConnectionSuccess'](_0x2ac37a[_0x14d64a(0x510)]),_0x218f12['log'](_0x4f0e27[_0x14d64a(0x747)],_0x14d64a(0x6d5),'\x27'+this[_0x14d64a(0x67d)]['getId']()+',\x20'+_0x2ac37a[_0x14d64a(0x510)]+'\x27',_0x2ac37a,_0x2ac37a[_0x14d64a(0x226)]);break;case _0x2c6c4e[_0x14d64a(0x21e)]:this[_0x14d64a(0x546)](_0x2ac37a[_0x14d64a(0x510)]),_0x218f12['log'](_0x4f0e27['Node'],_0x14d64a(0x243),this[_0x14d64a(0x67d)][_0x14d64a(0x580)](),_0x2ac37a,_0x2ac37a[_0x14d64a(0x226)]);}}[_0x5d07ed(0x2b3)](_0xf6e361){const _0x162588=_0x5d07ed;this[_0x162588(0x6f6)](_0xf6e361),this['notifyJoin'](_0xf6e361);}[_0x5d07ed(0x52c)](_0x548d63){const _0x41570c=_0x5d07ed;this[_0x41570c(0x67d)][_0x41570c(0x36f)](_0x548d63['id']),this[_0x41570c(0x615)](_0x548d63['id']),this[_0x41570c(0x361)](_0x548d63);}[_0x5d07ed(0x748)](_0x42b94a){const _0x2c83b2=_0x5d07ed,{id:_0x782940,metaData:_0x30aad4,rank:_0x4121ac,remoteConnections:_0x199995,version:_0x38b02b}=_0x42b94a,_0x58813d=this[_0x2c83b2(0x573)]['getRemoteNode'](_0x782940);if(_0x58813d){if(!(_0x38b02b<=_0x58813d['getCurrentVersion']())){if(_0x58813d['setRemoteConnections'](_0x199995),_0x58813d['setCurrentVersion'](_0x38b02b),_0x58813d[_0x2c83b2(0x4ba)]===_0x4b08d8[_0x2c83b2(0x532)]['User']&&_0x30aad4['type']===_0x4b08d8[_0x2c83b2(0x532)][_0x2c83b2(0x211)]&&(_0x58813d[_0x2c83b2(0x657)](_0x30aad4[_0x2c83b2(0x329)]),_0x58813d[_0x2c83b2(0x464)](_0x30aad4[_0x2c83b2(0x330)])),_0x4121ac&&_0x58813d['setRank'](_0x4121ac),this[_0x2c83b2(0x470)](_0x782940,_0x4121ac),_0x58813d['getStatus']()===_0x577608[_0x2c83b2(0x586)])return _0x58813d[_0x2c83b2(0x419)](_0x577608[_0x2c83b2(0x4b7)]),this['processRank'](),void this[_0x2c83b2(0x52c)](_0x42b94a);this[_0x2c83b2(0x26b)](),this['notifyClusterNodeUpdate']({'id':_0x782940,'metaData':_0x30aad4,'remoteConnections':_0x199995,'version':_0x38b02b});}}else this[_0x2c83b2(0x2b3)](_0x42b94a);}[_0x5d07ed(0x470)](_0x3491ec,_0x489f29){const _0x3cbc46=_0x5d07ed;_0x489f29&&this[_0x3cbc46(0x2e1)][_0x3cbc46(0x610)](_0x3491ec)&&this[_0x3cbc46(0x67d)][_0x3cbc46(0x521)](_0x489f29+this[_0x3cbc46(0x2e1)]['indexOf'](_0x3491ec)+0x1);}[_0x5d07ed(0x506)](_0x3de28c){const _0x4d64be=_0x5d07ed;this[_0x4d64be(0x67d)][_0x4d64be(0x2f3)](_0x3de28c);}[_0x5d07ed(0x6f6)]({id:_0x1684c9,metaData:_0x492f21,rank:_0x2aba24,remoteConnections:_0x3019c2,version:_0x1f1747}){const _0x3d7b89=_0x5d07ed;if(this[_0x3d7b89(0x573)][_0x3d7b89(0x386)](_0x1684c9))throw new _0x43b1de(_0x3d7b89(0x627)+_0x1684c9);switch(_0x492f21[_0x3d7b89(0x4ba)]){case _0x4b08d8[_0x3d7b89(0x532)][_0x3d7b89(0x211)]:const {displayName:_0x689c57,email:_0x2ff0d1}=_0x492f21;this[_0x3d7b89(0x573)][_0x3d7b89(0x36b)](_0x1684c9,new _0x5a4a0a(_0x1684c9,_0x689c57,_0x2ff0d1,new Set(_0x3019c2),_0x1f1747,_0x2aba24));break;case _0x4b08d8[_0x3d7b89(0x532)][_0x3d7b89(0x46b)]:this[_0x3d7b89(0x573)]['setRemoteNode'](_0x1684c9,new _0x3ac449(_0x1684c9,new Set(_0x3019c2),_0x1f1747,_0x2aba24));}this[_0x3d7b89(0x470)](_0x1684c9,_0x2aba24),this[_0x3d7b89(0x26b)]();}['publishNodeJoin'](_0x387945){const _0x39714d=_0x5d07ed;this[_0x39714d(0x63a)]['publish']({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x39714d(0x747)],'content':{'type':_0x2511d0[_0x39714d(0x317)],'id':_0x387945}});}[_0x5d07ed(0x546)](_0x4d7249){const _0x4168e5=_0x5d07ed;this['systemTopic']?.['publish']({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x4168e5(0x747)],'content':{'type':_0x2511d0[_0x4168e5(0x2c7)],'id':_0x4d7249}});}[_0x5d07ed(0x378)](_0x38e346){const _0x2b88a4=_0x5d07ed;if(_0x38e346===this[_0x2b88a4(0x67d)][_0x2b88a4(0x580)]())return this['configs'][_0x2b88a4(0x5ee)][_0x2b88a4(0x605)](_0x2b88a4(0x4e1),{'id':_0x38e346}),this[_0x2b88a4(0x6b3)][_0x2b88a4(0x5ee)][_0x2b88a4(0x6d1)](!0x0),this['configs'][_0x2b88a4(0x5ee)][_0x2b88a4(0x584)](),void this['configs'][_0x2b88a4(0x5ee)][_0x2b88a4(0x30e)]();this[_0x2b88a4(0x546)](_0x38e346);}['removeNode'](_0x41c447){const _0x3755b2=_0x5d07ed;this[_0x3755b2(0x2e1)][_0x3755b2(0x610)](_0x41c447)?this[_0x3755b2(0x408)](_0x41c447):this[_0x3755b2(0x67d)][_0x3755b2(0x2e0)]()['has'](_0x41c447)&&this[_0x3755b2(0x393)](_0x41c447),this[_0x3755b2(0x67d)][_0x3755b2(0x2e4)](_0x41c447);const _0x10cb40=Array[_0x3755b2(0x45d)](this['optimizationLayers'][_0x3755b2(0x636)]())['find'](([,_0x327fd2])=>_0x327fd2==_0x327fd2);_0x10cb40&&this[_0x3755b2(0x553)]['delete'](_0x10cb40[0x0]);const _0x18ea1a=this[_0x3755b2(0x573)]['getRemoteNode'](_0x41c447);if(!_0x18ea1a)return;const _0x37f6db=_0x18ea1a[_0x3755b2(0x693)](),_0x1f3ad5=this[_0x3755b2(0x67d)][_0x3755b2(0x693)]();_0x1f3ad5&&_0x37f6db&&_0x37f6db<_0x1f3ad5&&this[_0x3755b2(0x67d)]['setRank'](_0x1f3ad5-0x1,!0x1),Array[_0x3755b2(0x45d)](this['graphService'][_0x3755b2(0x790)]()[_0x3755b2(0x3ec)]())[_0x3755b2(0x487)](_0x1e52cb=>{const _0x285863=_0x3755b2,_0x5dbfa9=_0x1e52cb[_0x285863(0x693)]();_0x5dbfa9&&_0x37f6db&&_0x37f6db<_0x5dbfa9&&_0x1e52cb[_0x285863(0x521)](_0x5dbfa9-0x1);}),_0x18ea1a[_0x3755b2(0x419)](_0x577608[_0x3755b2(0x586)]),this[_0x3755b2(0x6b3)][_0x3755b2(0x5ee)][_0x3755b2(0x605)](_0x18ea1a[_0x3755b2(0x4ba)]+'-leave',{'id':_0x41c447});}[_0x5d07ed(0x361)]({id:_0x1ba0c0,metaData:_0x1f3ff6,remoteConnections:_0x328c80}){const _0x358499=_0x5d07ed;switch(_0x1f3ff6[_0x358499(0x4ba)]){case _0x4b08d8[_0x358499(0x532)]['User']:this[_0x358499(0x6b3)][_0x358499(0x5ee)][_0x358499(0x605)](_0x358499(0x372),{'id':_0x1ba0c0,'metaData':_0x1f3ff6,'remoteConnections':_0x328c80});break;case _0x4b08d8[_0x358499(0x532)]['Agent']:this[_0x358499(0x6b3)][_0x358499(0x5ee)][_0x358499(0x605)](_0x358499(0x3dd),{'id':_0x1ba0c0,'metaData':_0x1f3ff6,'remoteConnections':_0x328c80});}}[_0x5d07ed(0x27e)]({id:_0x4bc337,metaData:_0x2accf5,remoteConnections:_0x603bf2}){const _0xf0e52e=_0x5d07ed;switch(_0x2accf5[_0xf0e52e(0x4ba)]){case _0x4b08d8[_0xf0e52e(0x532)]['User']:this[_0xf0e52e(0x6b3)][_0xf0e52e(0x5ee)][_0xf0e52e(0x605)](_0xf0e52e(0x2cf),{'id':_0x4bc337,'metaData':_0x2accf5,'remoteConnections':_0x603bf2});break;case _0x4b08d8[_0xf0e52e(0x532)][_0xf0e52e(0x46b)]:this[_0xf0e52e(0x6b3)][_0xf0e52e(0x5ee)][_0xf0e52e(0x605)]('agent-update',{'id':_0x4bc337,'metaData':_0x2accf5,'remoteConnections':_0x603bf2});}}[_0x5d07ed(0x26b)](){const _0x5caf5b=_0x5d07ed;if(this[_0x5caf5b(0x291)]||(this[_0x5caf5b(0x291)]=Date[_0x5caf5b(0x58e)]()),this[_0x5caf5b(0x32d)]){if(Date[_0x5caf5b(0x58e)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x5caf5b(0x32d)]=setTimeout(async()=>{const _0x2f2358=_0x5caf5b;delete this['lastProcessRank'],delete this[_0x2f2358(0x32d)];const _0x59dee1=this[_0x2f2358(0x67d)][_0x2f2358(0x693)]();if(!_0x59dee1)return;const _0x1aeea2=this[_0x2f2358(0x573)]['getCurrentMaxLayer'](this[_0x2f2358(0x573)]['getRemoteNodes']()[_0x2f2358(0x6b1)]);if(this[_0x2f2358(0x553)][_0x2f2358(0x6b1)]>=_0x1aeea2)return;let _0x595edf=0x1;for(;this[_0x2f2358(0x6b3)]['mediator'][_0x2f2358(0x31f)]()[_0x2f2358(0x57d)]<this[_0x2f2358(0x573)][_0x2f2358(0x469)]()&&_0x595edf<=_0x1aeea2;){if(this[_0x2f2358(0x553)][_0x2f2358(0x461)](_0x595edf)){_0x595edf+=0x1;continue;}const _0x3cb73e=this[_0x2f2358(0x573)]['getNextTargetRank'](_0x59dee1,_0x595edf),_0x5779b0=Array[_0x2f2358(0x45d)](this[_0x2f2358(0x573)][_0x2f2358(0x790)]()[_0x2f2358(0x3ec)]())['find'](_0x411f7e=>_0x411f7e['getRank']()===_0x3cb73e&&_0x411f7e['getStatus']()===_0x577608[_0x2f2358(0x4b7)]);if(_0x5779b0){try{await this[_0x2f2358(0x6b3)][_0x2f2358(0x5ee)]['createConnection'](_0x5779b0[_0x2f2358(0x580)](),_0x457a86[_0x2f2358(0x4d4)]),this[_0x2f2358(0x553)][_0x2f2358(0x518)](_0x595edf,_0x5779b0[_0x2f2358(0x580)]());}catch(_0x298dcb){if(!(_0x298dcb instanceof _0x187b09&&_0x298dcb[_0x2f2358(0x41f)]===_0x187b09[_0x2f2358(0x545)][_0x2f2358(0x3bc)]))throw _0x298dcb;_0x218f12[_0x2f2358(0x59a)](_0x4f0e27[_0x2f2358(0x747)],this[_0x2f2358(0x67d)][_0x2f2358(0x580)](),_0x5779b0['getId'](),_0x298dcb[_0x2f2358(0x5c9)]);}_0x595edf+=0x1;}else _0x595edf+=0x1;}},0x3e8);}async[_0x5d07ed(0x408)](_0x152d5c){const _0x563488=_0x5d07ed;this[_0x563488(0x2e1)][_0x563488(0x2c4)](this[_0x563488(0x2e1)]['indexOf'](_0x152d5c),0x1);const _0x5fc9be=await this[_0x563488(0x53e)][_0x563488(0x71c)]();for(const _0xdc951c of _0x5fc9be)if(!this[_0x563488(0x2e1)][_0x563488(0x610)](_0xdc951c)){const _0x480c92=Array[_0x563488(0x45d)](this[_0x563488(0x553)]['entries']())['find'](([,_0x52de74])=>_0x52de74===_0xdc951c);_0x480c92&&this['optimizationLayers'][_0x563488(0x702)](_0x480c92[0x0]),this[_0x563488(0x6b3)]['mediator']['createConnection'](_0xdc951c,_0x457a86[_0x563488(0x3ea)]);}0x0===_0x5fc9be['length']&&this[_0x563488(0x67d)][_0x563488(0x521)](0x1),this[_0x563488(0x2e1)]=_0x5fc9be;}async[_0x5d07ed(0x393)](_0x43cf73){const _0x12cb01=_0x5d07ed,_0x1f21d6=this[_0x12cb01(0x67d)][_0x12cb01(0x693)]();if(!_0x1f21d6)return;const _0x1e8bba=this[_0x12cb01(0x573)][_0x12cb01(0x542)](_0x43cf73);if(!_0x1e8bba||_0x1e8bba[_0x12cb01(0x318)]()===_0x577608[_0x12cb01(0x586)])return;const _0x422f52=_0x1e8bba[_0x12cb01(0x693)]();if(!_0x422f52||_0x422f52<_0x1f21d6)return;const _0x2dc6f5=this[_0x12cb01(0x2ec)](this[_0x12cb01(0x67d)][_0x12cb01(0x2e0)](),_0x1f21d6),_0x2ad077=this[_0x12cb01(0x2ec)](_0x1e8bba[_0x12cb01(0x2e0)](),_0x422f52)[_0x2dc6f5[_0x12cb01(0x6f3)](([_0x6055a7])=>_0x6055a7===_0x43cf73)];if(!_0x2ad077||this[_0x12cb01(0x67d)]['getRemoteConnections']()[_0x12cb01(0x461)](_0x2ad077[0x0]))return;const _0x372efe=this[_0x12cb01(0x573)][_0x12cb01(0x542)](_0x2ad077[0x0]);if(_0x372efe&&_0x372efe[_0x12cb01(0x318)]()!==_0x577608['Offline'])try{await this[_0x12cb01(0x6b3)][_0x12cb01(0x5ee)][_0x12cb01(0x5e9)](_0x2ad077[0x0],_0x457a86[_0x12cb01(0x4d4)]);const _0x28ed96=Array[_0x12cb01(0x45d)](this[_0x12cb01(0x553)][_0x12cb01(0x636)]())['find'](([,_0x262360])=>_0x262360===_0x43cf73);_0x28ed96&&this[_0x12cb01(0x553)][_0x12cb01(0x518)](_0x28ed96[0x0],_0x2ad077[0x0]);}catch(_0x2fc050){if(!(_0x2fc050 instanceof _0x187b09&&_0x2fc050[_0x12cb01(0x41f)]===_0x187b09[_0x12cb01(0x545)]['RemoteConnectionExists']))throw _0x2fc050;_0x218f12[_0x12cb01(0x59a)](_0x4f0e27[_0x12cb01(0x747)],this[_0x12cb01(0x67d)]['getId'](),_0x2ad077[0x0],_0x2fc050[_0x12cb01(0x5c9)]);}}['getOutgoingOptimizationConnections'](_0x27dcf9,_0x4aca82){const _0x3248af=_0x5d07ed;return Array[_0x3248af(0x45d)](_0x27dcf9)[_0x3248af(0x436)]((_0x1ee4a7,_0x3cad4a)=>{const _0x2af492=_0x3248af,_0xbed6eb=this[_0x2af492(0x573)][_0x2af492(0x542)](_0x3cad4a);if(!_0xbed6eb||_0xbed6eb['getStatus']()===_0x577608[_0x2af492(0x586)])return _0x1ee4a7;const _0x5824d2=_0xbed6eb['getRank']();if(!_0x5824d2)return _0x1ee4a7;const _0x1e7e44=_0x5824d2-_0x4aca82;return _0x1e7e44<=this[_0x2af492(0x573)][_0x2af492(0x672)]()||_0x1ee4a7[_0x2af492(0x4d7)]([_0x3cad4a,_0x1e7e44]),_0x1ee4a7;},[])['sort'](([,_0x20dfda],[,_0x97980b])=>_0x20dfda-_0x97980b);}}const _0x4f4f3a=[{'problemType':_0x12b907[_0x5d07ed(0x301)],'remediations':[{'type':_0xdca67f[_0x5d07ed(0x398)],'component':_0x131ad8[_0x5d07ed(0x3d1)],'action':_0x3b252f[_0x5d07ed(0x202)]},{'type':_0xdca67f[_0x5d07ed(0x617)],'component':_0x131ad8[_0x5d07ed(0x3d1)],'action':_0x3b252f[_0x5d07ed(0x202)]}]},{'problemType':_0x12b907['TimePerFrame'],'remediations':[{'type':_0xdca67f[_0x5d07ed(0x398)],'component':_0x131ad8[_0x5d07ed(0x3d1)],'action':_0x3b252f[_0x5d07ed(0x202)]}]},{'problemType':_0x12b907[_0x5d07ed(0x56e)],'remediations':[{'type':_0xdca67f[_0x5d07ed(0x398)],'component':_0x131ad8[_0x5d07ed(0x3d1)],'action':_0x3b252f[_0x5d07ed(0x202)]}]},{'problemType':_0x12b907[_0x5d07ed(0x3e5)],'remediations':[{'type':_0xdca67f[_0x5d07ed(0x398)],'component':_0x131ad8[_0x5d07ed(0x3d1)],'action':_0x3b252f[_0x5d07ed(0x202)]}]},{'problemType':_0x12b907[_0x5d07ed(0x2ef)],'remediations':[{'type':_0xdca67f[_0x5d07ed(0x398)],'component':_0x131ad8[_0x5d07ed(0x2ef)],'action':_0x3b252f['Downgrade']}]},{'problemType':_0x12b907['Jitter'],'remediations':[{'type':_0xdca67f['Remediation'],'component':_0x131ad8['Bitrate'],'action':_0x3b252f['Downgrade']}]},{'problemType':_0x12b907['RoundTripTime'],'remediations':[{'type':_0xdca67f[_0x5d07ed(0x398)],'component':_0x131ad8['Bitrate'],'action':_0x3b252f[_0x5d07ed(0x202)]}]}];class _0x159af0{[_0x5d07ed(0x6b3)];['systemTopic'];[_0x5d07ed(0x57b)]=new Map();constructor(_0x18987c){const _0x1d2c9c=_0x5d07ed;this['configs']=_0x18987c,this['configs'][_0x1d2c9c(0x5ee)][_0x1d2c9c(0x796)](this);}[_0x5d07ed(0x6d1)](){const _0x159e3f=_0x5d07ed;this[_0x159e3f(0x6b3)][_0x159e3f(0x5ee)][_0x159e3f(0x61b)](this);}[_0x5d07ed(0x3a5)](_0x1502e8){const _0x565881=_0x5d07ed;this[_0x565881(0x63a)]=_0x1502e8;}[_0x5d07ed(0x6d2)](){const _0x7b187a=_0x5d07ed;delete this[_0x7b187a(0x63a)];}['handleDetectionSystemEvents'](_0x2d62dd){const _0x2ad369=_0x5d07ed;_0x2d62dd[_0x2ad369(0x226)][_0x2ad369(0x4ba)]===_0xb2e1f2[_0x2ad369(0x4ff)]&&this[_0x2ad369(0x428)](_0x2d62dd[_0x2ad369(0x226)][_0x2ad369(0x269)]);}[_0x5d07ed(0x38e)](_0x291cf0){const _0x3b12ed=_0x5d07ed;_0x291cf0[_0x3b12ed(0x226)][_0x3b12ed(0x4ba)]===_0xdca67f[_0x3b12ed(0x617)]&&this[_0x3b12ed(0x735)](_0x291cf0[_0x3b12ed(0x510)],{'type':_0xdca67f[_0x3b12ed(0x398)],'component':_0x291cf0[_0x3b12ed(0x226)][_0x3b12ed(0x269)][_0x3b12ed(0x6ed)],'action':_0x291cf0[_0x3b12ed(0x226)]['data']['action']});}[_0x5d07ed(0x428)](_0x49742b){const _0x6bad2a=_0x5d07ed,_0x2c59bf=_0x4f4f3a[_0x6bad2a(0x3d6)](_0x2b863c=>_0x2b863c['problemType']===_0x49742b['type']);_0x2c59bf[_0x6bad2a(0x300)]?.['forEach'](_0x5812ac=>{const _0x33d890=_0x6bad2a;this['applyRemediation'](_0x49742b['nodeId'],{'type':_0x49742b[_0x33d890(0x75a)]===_0x4df541[_0x33d890(0x491)]?_0xdca67f[_0x33d890(0x398)]:_0xdca67f[_0x33d890(0x617)],'component':_0x5812ac['component'],'action':_0x5812ac['action']});});}[_0x5d07ed(0x735)](_0x5a54bc,_0x3edcb1){const _0x4e33f0=_0x5d07ed;if(_0x3edcb1[_0x4e33f0(0x4ba)]===_0xdca67f['Remediation']){const _0x1ed5ef=Date[_0x4e33f0(0x58e)](),_0x12f25c=this[_0x4e33f0(0x57b)][_0x4e33f0(0x58c)](_0x5a54bc);if(_0x12f25c&&_0x1ed5ef-_0x12f25c<0x1388)return;this['lastRemediations'][_0x4e33f0(0x518)](_0x5a54bc,_0x1ed5ef);}_0x218f12['log'](_0x4f0e27[_0x4e33f0(0x398)],'Apply\x20remediation',_0x3edcb1),_0x218f12['logEvent'](_0x4e33f0(0x28b),{'clusterId':this['configs'][_0x4e33f0(0x316)],'nodeId':this[_0x4e33f0(0x6b3)][_0x4e33f0(0x67d)]['getId'](),'nodeType':this[_0x4e33f0(0x6b3)][_0x4e33f0(0x67d)][_0x4e33f0(0x4ba)],'remoteId':_0x5a54bc,'data':{'type':_0x3edcb1[_0x4e33f0(0x4ba)],'component':_0x3edcb1[_0x4e33f0(0x6ed)],'action':_0x3edcb1['action']}});let _0x1a1596,_0x5ba595=_0x35e782;_0x3edcb1[_0x4e33f0(0x4ba)]===_0xdca67f[_0x4e33f0(0x617)]&&(_0x5ba595=this[_0x4e33f0(0x6b3)][_0x4e33f0(0x67d)][_0x4e33f0(0x580)](),_0x1a1596=[_0x5a54bc]),this[_0x4e33f0(0x63a)]['publish']({'sourceId':_0x5ba595,'destinationIds':_0x1a1596,'messageType':_0x772a3e[_0x4e33f0(0x398)],'content':{'type':_0x3edcb1['type'],'targetId':_0x5a54bc,'data':_0x3edcb1}});}}const _0xb662ad=0x3e8,_0x2eeb78=0x7530,_0x330743=_0x5d07ed(0x4fc),_0x52b5b4=_0x5d07ed(0x204),_0xdf0eb6=_0x5d07ed(0x281),_0x4f6cf4=[_0x330743,_0x52b5b4],_0x1fd1ae=[_0xdf0eb6];class _0x37849b{[_0x5d07ed(0x263)]=0x0;[_0x5d07ed(0x6cb)]=0x0;[_0x5d07ed(0x6c8)]=0x0;[_0x5d07ed(0x357)]=0x0;[_0x5d07ed(0x60e)]=0x0;['currentTimestamp']=0x0;[_0x5d07ed(0x25e)]=0x0;['currentBytes']=0x0;['previousBytes']=0x0;get[_0x5d07ed(0x35b)](){const _0x63799e=_0x5d07ed;return this[_0x63799e(0x78d)]>0x0&&this[_0x63799e(0x25e)]>0x0&&Date[_0x63799e(0x58e)]()-this[_0x63799e(0x78d)]<_0x2eeb78?(this[_0x63799e(0x73e)]-this[_0x63799e(0x331)])/(this[_0x63799e(0x78d)]-this[_0x63799e(0x25e)])*0x8*0x3e8:0x0;}[_0x5d07ed(0x604)](_0x204edc){const _0x2beb67=_0x5d07ed;switch(_0x204edc[_0x2beb67(0x4ba)]){case _0xdf0eb6:this['processInboundReport'](_0x204edc);break;case _0x330743:this[_0x2beb67(0x25c)](_0x204edc);break;case _0x52b5b4:this[_0x2beb67(0x607)](_0x204edc);}}[_0x5d07ed(0x3a2)](){const _0x1c08b8=_0x5d07ed;return{'bitrate':this[_0x1c08b8(0x35b)],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this[_0x1c08b8(0x263)],'jitter':this[_0x1c08b8(0x6c8)]};}[_0x5d07ed(0x270)](_0x37d4f9){const _0x45dc24=_0x5d07ed;this['setBytes'](_0x37d4f9[_0x45dc24(0x3d5)]),this[_0x45dc24(0x3cd)](_0x37d4f9[_0x45dc24(0x6eb)]),this[_0x45dc24(0x60e)]=_0x37d4f9[_0x45dc24(0x59e)],this['packetsLost']=_0x37d4f9['packetsLost'],void 0x0!==_0x37d4f9[_0x45dc24(0x6c8)]?this[_0x45dc24(0x6c8)]=_0x37d4f9[_0x45dc24(0x6c8)]:this['jitter']=0x0,void 0x0!==_0x37d4f9[_0x45dc24(0x6cb)]?this[_0x45dc24(0x6cb)]=_0x37d4f9[_0x45dc24(0x6cb)]:this[_0x45dc24(0x6cb)]=0x0;}[_0x5d07ed(0x25c)](_0x20666e){const _0x2d7f09=_0x5d07ed;this[_0x2d7f09(0x23b)](_0x20666e['bytesSent']),this[_0x2d7f09(0x3cd)](_0x20666e[_0x2d7f09(0x6eb)]),this[_0x2d7f09(0x60e)]=_0x20666e[_0x2d7f09(0x503)];}[_0x5d07ed(0x607)](_0x39bb48){const _0x397217=_0x5d07ed;this[_0x397217(0x263)]=0x3e8*_0x39bb48[_0x397217(0x263)],void 0x0!==_0x39bb48['jitter']?this['jitter']=_0x39bb48[_0x397217(0x6c8)]:this[_0x397217(0x6c8)]=0x0;}[_0x5d07ed(0x67c)](){const _0x14facd=_0x5d07ed;return this[_0x14facd(0x60e)]>0x0?this['packetsLost']/this[_0x14facd(0x60e)]:0x0;}[_0x5d07ed(0x3cd)](_0x5eed6f){const _0x4218dc=_0x5d07ed;_0x5eed6f>this['currentTimestamp']&&(this[_0x4218dc(0x25e)]=this[_0x4218dc(0x78d)],this[_0x4218dc(0x78d)]=_0x5eed6f);}[_0x5d07ed(0x23b)](_0x147ea5){const _0x391be5=_0x5d07ed;this[_0x391be5(0x331)]=this[_0x391be5(0x73e)],this[_0x391be5(0x73e)]=_0x147ea5;}}class _0x7c2793 extends _0x37849b{}class _0x3c7967 extends _0x37849b{['frameTime']=0x0;[_0x5d07ed(0x725)]=0x0;[_0x5d07ed(0x5c6)]=0x0;[_0x5d07ed(0x746)]=0x0;[_0x5d07ed(0x5e4)]=0x0;get[_0x5d07ed(0x736)](){const _0x2a4fd3=_0x5d07ed;return this[_0x2a4fd3(0x78d)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x2a4fd3(0x58e)]()-this[_0x2a4fd3(0x78d)]<_0x2eeb78?(this[_0x2a4fd3(0x746)]-this['previousFrames'])/(this[_0x2a4fd3(0x78d)]-this[_0x2a4fd3(0x25e)])*0x3e8:0x0;}get[_0x5d07ed(0x623)](){const _0x24160c=_0x5d07ed;return this[_0x24160c(0x39e)]&&this[_0x24160c(0x746)]&&this[_0x24160c(0x746)]>0x0?this[_0x24160c(0x39e)]/this['currentFrames']:0x0;}set['frames'](_0x324a18){const _0xf11b51=_0x5d07ed;this[_0xf11b51(0x5e4)]=this['currentFrames'],this['currentFrames']=_0x324a18;}[_0x5d07ed(0x3a2)](){const _0xad1d45=_0x5d07ed;return{...super[_0xad1d45(0x3a2)](),'FPS':this['fps'],'timePerFrame':this[_0xad1d45(0x623)],'frameWidth':this[_0xad1d45(0x725)],'frameHeight':this[_0xad1d45(0x5c6)]};}[_0x5d07ed(0x270)](_0x4d32d7){const _0x36511a=_0x5d07ed;super['processInboundReport'](_0x4d32d7),this[_0x36511a(0x39e)]=_0x4d32d7[_0x36511a(0x31b)],this[_0x36511a(0x6e4)]=_0x4d32d7[_0x36511a(0x65c)],this['frameWidth']=_0x4d32d7['frameWidth'],this[_0x36511a(0x5c6)]=_0x4d32d7[_0x36511a(0x5c6)];}['processOutboundReport'](_0x59333e){const _0xe568ee=_0x5d07ed;super[_0xe568ee(0x25c)](_0x59333e),this[_0xe568ee(0x39e)]=_0x59333e[_0xe568ee(0x457)],this[_0xe568ee(0x6e4)]=_0x59333e[_0xe568ee(0x4c9)],this['frameWidth']=_0x59333e['frameWidth'],this['frameHeight']=_0x59333e[_0xe568ee(0x5c6)];}}class _0x220046{[_0x5d07ed(0x2ce)]=new _0x7c2793();['video']=new _0x3c7967();get['bitrate'](){const _0x3787f5=_0x5d07ed;return this[_0x3787f5(0x2ce)]['bitrate']+this['video'][_0x3787f5(0x35b)];}['processReports'](_0x47ca28){const _0x130a4c=_0x5d07ed;return _0x47ca28[_0x130a4c(0x487)](_0x315a05=>{const _0x2c89ea=_0x130a4c;switch(_0x315a05[_0x2c89ea(0x763)]){case _0x2c89ea(0x2ce):this['audio'][_0x2c89ea(0x604)](_0x315a05);break;case _0x2c89ea(0x2b9):this[_0x2c89ea(0x2b9)][_0x2c89ea(0x604)](_0x315a05);}}),this[_0x130a4c(0x3a2)]();}['getReport'](){const _0x312c03=_0x5d07ed;return{'audio':this[_0x312c03(0x2ce)]['getReport'](),'video':this[_0x312c03(0x2b9)][_0x312c03(0x3a2)](),'roundTripTime':this[_0x312c03(0x382)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x312c03(0x35b)]};}[_0x5d07ed(0x382)](){const _0x12317d=_0x5d07ed;return Math[_0x12317d(0x62b)]((this[_0x12317d(0x2ce)][_0x12317d(0x263)]+this[_0x12317d(0x2b9)][_0x12317d(0x263)])/0x2);}['getAudioVideoDelay'](){const _0x42e098=_0x5d07ed;return this[_0x42e098(0x2ce)][_0x42e098(0x6cb)]-this[_0x42e098(0x2b9)][_0x42e098(0x6cb)];}}class _0x5a654f{[_0x5d07ed(0x6cf)]=0x0;[_0x5d07ed(0x664)]=0x0;['receiverCurrentTimestamp']=0x0;['receiverPreviousTimestamp']=0x0;[_0x5d07ed(0x27c)]=0x0;[_0x5d07ed(0x784)]=0x0;[_0x5d07ed(0x29e)]=0x0;[_0x5d07ed(0x4f8)]=0x0;[_0x5d07ed(0x776)]=0x0;[_0x5d07ed(0x3f0)]=0x0;[_0x5d07ed(0x38f)]=0x0;['receiverTimeProcessing']=0x0;['roundTripTime']=0x0;get[_0x5d07ed(0x35b)](){const _0x44c4ac=_0x5d07ed;return this[_0x44c4ac(0x3b0)]+this['receiverBitrate'];}get['senderBitrate'](){const _0x2c8dd5=_0x5d07ed;return this['senderCurrentTimestamp']>0x0&&this[_0x2c8dd5(0x664)]>0x0&&Date[_0x2c8dd5(0x58e)]()-this['senderCurrentTimestamp']<_0x2eeb78?(this[_0x2c8dd5(0x27c)]-this[_0x2c8dd5(0x784)])/(this[_0x2c8dd5(0x6cf)]-this[_0x2c8dd5(0x664)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x548426=_0x5d07ed;return this[_0x548426(0x3fe)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x548426(0x58e)]()-this[_0x548426(0x3fe)]<_0x2eeb78?(this[_0x548426(0x29e)]-this['receiverPreviousBytes'])/(this[_0x548426(0x3fe)]-this[_0x548426(0x5b3)])*0x8*0x3e8:0x0;}[_0x5d07ed(0x604)](_0x4b5275){const _0x16a6b5=_0x5d07ed;switch(_0x4b5275[_0x16a6b5(0x75a)]){case _0x4df541[_0x16a6b5(0x491)]:this[_0x16a6b5(0x2a9)](_0x4b5275);break;case _0x4df541[_0x16a6b5(0x66d)]:this[_0x16a6b5(0x79b)](_0x4b5275);}}[_0x5d07ed(0x3a2)](){const _0x1230da=_0x5d07ed;return{'bitrate':this[_0x1230da(0x35b)],'senderBitrate':this[_0x1230da(0x3b0)],'receiverBitrate':this[_0x1230da(0x655)],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this['senderTotalMessages']+this[_0x1230da(0x3f0)],'senderTotalMessages':this[_0x1230da(0x776)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0x1230da(0x38f)],'receiverTimeProcessing':this[_0x1230da(0x43a)],'roundTripTime':this[_0x1230da(0x263)]};}['getTotalBytes'](){const _0x430102=_0x5d07ed;return this[_0x430102(0x27c)]+this[_0x430102(0x29e)];}['getSenderTotalBytes'](){const _0x4bc307=_0x5d07ed;return this[_0x4bc307(0x27c)];}[_0x5d07ed(0x3b3)](){const _0x3a491e=_0x5d07ed;return this[_0x3a491e(0x29e)];}[_0x5d07ed(0x2a9)](_0x5c63b7){const _0xe09ab0=_0x5d07ed;this['setSenderTimestamp'](_0x5c63b7[_0xe09ab0(0x6eb)]),this['setBytes'](_0x5c63b7[_0xe09ab0(0x728)]),this['senderTotalMessages']=_0x5c63b7['messagesSent'],this['senderTimeProcessing']=_0x5c63b7[_0xe09ab0(0x3e8)],this['roundTripTime']=_0x5c63b7['roundTripTime'];}[_0x5d07ed(0x79b)](_0xdd6ef9){const _0x585f8d=_0x5d07ed;this[_0x585f8d(0x227)](_0xdd6ef9[_0x585f8d(0x6eb)]),this[_0x585f8d(0x362)](_0xdd6ef9[_0x585f8d(0x3d5)]),this[_0x585f8d(0x3f0)]=_0xdd6ef9['messagesReceived'],this[_0x585f8d(0x43a)]=_0xdd6ef9['timeReceiving'];}['setSenderTimestamp'](_0x188fb4){const _0x36dfa5=_0x5d07ed;_0x188fb4>this[_0x36dfa5(0x6cf)]&&(this['senderPreviousTimestamp']=this[_0x36dfa5(0x6cf)],this[_0x36dfa5(0x6cf)]=_0x188fb4);}[_0x5d07ed(0x227)](_0x1975cf){const _0x366d63=_0x5d07ed;_0x1975cf>this['receiverCurrentTimestamp']&&(this[_0x366d63(0x5b3)]=this[_0x366d63(0x3fe)],this[_0x366d63(0x3fe)]=_0x1975cf);}[_0x5d07ed(0x23b)](_0x381c33){const _0x5f5a5a=_0x5d07ed;this[_0x5f5a5a(0x784)]=this['senderCurrentBytes'],this['senderCurrentBytes']=_0x381c33;}[_0x5d07ed(0x362)](_0x183227){const _0x1ee6e0=_0x5d07ed;this[_0x1ee6e0(0x4f8)]=this[_0x1ee6e0(0x29e)],this[_0x1ee6e0(0x29e)]=_0x183227;}}class _0x177488{[_0x5d07ed(0x432)]=new Map();['receiverStreams']=new Map();[_0x5d07ed(0x797)]=new _0x5a654f();get[_0x5d07ed(0x3b0)](){const _0x84bd11=_0x5d07ed;let _0x17f881=0x0;return this[_0x84bd11(0x432)]['forEach'](_0x4dbed3=>{const _0x214f6c=_0x84bd11;_0x17f881+=_0x4dbed3[_0x214f6c(0x35b)];}),_0x17f881+=this[_0x84bd11(0x797)][_0x84bd11(0x3b0)],_0x17f881;}get['receiverBitrate'](){const _0x4bd33a=_0x5d07ed;let _0x420170=0x0;return this[_0x4bd33a(0x5e6)]['forEach'](_0x971acc=>{_0x420170+=_0x971acc['bitrate'];}),_0x420170+=this[_0x4bd33a(0x797)][_0x4bd33a(0x655)],_0x420170;}get['bitrate'](){const _0x2640b8=_0x5d07ed;return this['senderBitrate']+this[_0x2640b8(0x655)];}[_0x5d07ed(0x602)](_0x2d6429,_0x3432bc){const _0x8b9892=_0x5d07ed,_0x15086b=[],_0x42c6e=[];return _0x2d6429 instanceof Array?_0x2d6429[_0x8b9892(0x487)](_0x2f1d47=>{const _0x21de73=_0x8b9892;_0x2f1d47[_0x21de73(0x487)](_0x39e3be=>{const _0x323cd4=_0x21de73;_0x1fd1ae[_0x323cd4(0x610)](_0x39e3be[_0x323cd4(0x4ba)])&&_0x15086b[_0x323cd4(0x4d7)](_0x39e3be),_0x4f6cf4['includes'](_0x39e3be['type'])&&_0x42c6e[_0x323cd4(0x4d7)](_0x39e3be);});}):this['dataChannel'][_0x8b9892(0x604)](_0x2d6429),_0x15086b[_0x8b9892(0x57d)]>0x0&&_0x3432bc?{...this[_0x8b9892(0x48b)](_0x3432bc,_0x15086b),'origin':_0x4df541[_0x8b9892(0x66d)],'streamId':_0x3432bc}:_0x42c6e[_0x8b9892(0x57d)]>0x0&&_0x3432bc?{...this[_0x8b9892(0x253)](_0x3432bc,_0x42c6e),'origin':_0x4df541['Sender'],'streamId':_0x3432bc}:void 0x0;}[_0x5d07ed(0x3a2)](){const _0x53ec75=_0x5d07ed,_0x399a12={};this[_0x53ec75(0x432)][_0x53ec75(0x487)]((_0x130eee,_0x1debb0)=>{const _0x772988=_0x53ec75;_0x399a12[_0x1debb0]=_0x130eee[_0x772988(0x3a2)]();});const _0x517ef3={};return this[_0x53ec75(0x5e6)][_0x53ec75(0x487)]((_0xa2aee3,_0x5bec78)=>{const _0x31985b=_0x53ec75;_0x517ef3[_0x5bec78]=_0xa2aee3[_0x31985b(0x3a2)]();}),{'bitrate':this[_0x53ec75(0x35b)],'senderBitrate':this[_0x53ec75(0x3b0)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x399a12,'receiverStreams':_0x517ef3,'dataChannel':this[_0x53ec75(0x797)]['getReport']()};}[_0x5d07ed(0x48b)](_0x363111,_0x17fb88){const _0x522d62=_0x5d07ed;return this[_0x522d62(0x5e6)][_0x522d62(0x461)](_0x363111)||this[_0x522d62(0x5e6)][_0x522d62(0x518)](_0x363111,new _0x220046()),this[_0x522d62(0x5e6)][_0x522d62(0x58c)](_0x363111)['processReports'](_0x17fb88);}[_0x5d07ed(0x253)](_0x40e925,_0x245b8c){const _0x5d0e3f=_0x5d07ed;return this['senderStreams'][_0x5d0e3f(0x461)](_0x40e925)||this['senderStreams'][_0x5d0e3f(0x518)](_0x40e925,new _0x220046()),this[_0x5d0e3f(0x432)][_0x5d0e3f(0x58c)](_0x40e925)[_0x5d0e3f(0x602)](_0x245b8c);}}class _0x4ec9a3{[_0x5d07ed(0x3cb)]=new Map();[_0x5d07ed(0x385)]=0x0;['durationTime']=0x0;[_0x5d07ed(0x397)]=new Map();[_0x5d07ed(0x23d)]=new Map();[_0x5d07ed(0x476)]=new Map();[_0x5d07ed(0x776)]=new Map();[_0x5d07ed(0x3f0)]=new Map();['senderTimeProcessing']=new Map();[_0x5d07ed(0x43a)]=new Map();['systemMessages']=new Map();[_0x5d07ed(0x63a)];[_0x5d07ed(0x3a2)](){const _0x1a0bcf=_0x5d07ed,_0x1fd6ab={};this[_0x1a0bcf(0x3cb)]['forEach']((_0x1fc378,_0x35e457)=>{const _0x1416fc=_0x1a0bcf;_0x1fd6ab[_0x35e457]=_0x1fc378[_0x1416fc(0x3a2)]();});let _0x48cc05=0x0;this[_0x1a0bcf(0x38f)][_0x1a0bcf(0x487)](_0xd3fdd0=>{_0x48cc05+=_0xd3fdd0;});let _0x621a8f=0x0;this[_0x1a0bcf(0x43a)][_0x1a0bcf(0x487)](_0x3222be=>{_0x621a8f+=_0x3222be;});const _0x39e3f0=_0x48cc05+_0x621a8f;let _0x813680={'messages':{'total':0x0}};this[_0x1a0bcf(0x416)]['forEach'](_0x8d8ae2=>{const _0x1091bd=_0x1a0bcf;Object[_0x1091bd(0x370)](_0x8d8ae2)[_0x1091bd(0x487)](_0x1833af=>{const _0x48be6c=_0x1091bd;_0x813680[_0x1833af]||(_0x813680[_0x1833af]={}),Object[_0x48be6c(0x370)](_0x8d8ae2[_0x1833af])[_0x48be6c(0x487)](_0x5d3f15=>{_0x813680[_0x1833af][_0x5d3f15]||(_0x813680[_0x1833af][_0x5d3f15]=0x0),_0x813680[_0x1833af][_0x5d3f15]+=_0x8d8ae2[_0x1833af][_0x5d3f15];});});});let _0x4e5f32=0x0,_0x9230d3=0x0,_0x5e2301=0x0,_0x2f5769=0x0,_0x9454ab=0x0;return this[_0x1a0bcf(0x397)]['forEach'](_0xbfe11=>{const _0x2d9df7=_0x1a0bcf;_0x9230d3+=_0xbfe11[_0x2d9df7(0x54f)],_0x5e2301+=_0xbfe11['messagesReceived'],_0x2f5769+=_0xbfe11['bytesSent'],_0x9454ab+=_0xbfe11['bytesReceived'];}),this[_0x1a0bcf(0x23d)][_0x1a0bcf(0x487)](_0x1930d8=>{const _0x483407=_0x1a0bcf;_0x4e5f32+=_0x1930d8[_0x483407(0x6b4)],_0x9230d3+=_0x1930d8[_0x483407(0x54f)],_0x5e2301+=_0x1930d8[_0x483407(0x224)],_0x2f5769+=_0x1930d8[_0x483407(0x728)],_0x9454ab+=_0x1930d8[_0x483407(0x3d5)];}),this[_0x1a0bcf(0x476)][_0x1a0bcf(0x487)](_0xaa662c=>{const _0x3d2f15=_0x1a0bcf;_0x4e5f32+=_0xaa662c[_0x3d2f15(0x6b4)],_0x9230d3+=_0xaa662c[_0x3d2f15(0x54f)],_0x5e2301+=_0xaa662c[_0x3d2f15(0x224)],_0x2f5769+=_0xaa662c[_0x3d2f15(0x728)],_0x9454ab+=_0xaa662c[_0x3d2f15(0x3d5)];}),{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x1a0bcf(0x694)](),'bitrate':this[_0x1a0bcf(0x347)](),'senderBitrate':this[_0x1a0bcf(0x24a)](),'receiverBitrate':this[_0x1a0bcf(0x42a)](),'totalStorageSize':_0x4e5f32,'totalMessages':_0x9230d3+_0x5e2301,'totalMessagesSent':_0x9230d3,'totalMessagesReceived':_0x5e2301,'totalBytes':_0x2f5769+_0x9454ab,'totalBytesSent':_0x2f5769,'totalBytesReceived':_0x9454ab,'systemMessages':_0x813680,'timeProcessing':_0x39e3f0,'nodes':_0x1fd6ab,'pubsubTopics':Object[_0x1a0bcf(0x1f2)](this['pubsubTopics']),'objectStores':Object[_0x1a0bcf(0x1f2)](this[_0x1a0bcf(0x23d)]),'keyValueDatabases':Object[_0x1a0bcf(0x1f2)](this['keyValueDatabases'])};}[_0x5d07ed(0x541)](_0x182715){const _0xa1f676=_0x5d07ed;this[_0xa1f676(0x3cb)][_0xa1f676(0x518)](_0x182715,new _0x177488());}[_0x5d07ed(0x5cc)](_0x166e83){const _0x4bea73=_0x5d07ed;this[_0x4bea73(0x3cb)][_0x4bea73(0x702)](_0x166e83);}[_0x5d07ed(0x602)](_0x29e3fe,_0x5a1b62,_0x1eb972){const _0x5eab60=_0x5d07ed;_0x5a1b62 instanceof Array||this['processDataChannelReport'](_0x29e3fe,_0x5a1b62);const _0x1be315=this[_0x5eab60(0x3cb)]['get'](_0x29e3fe)?.[_0x5eab60(0x602)](_0x5a1b62,_0x1eb972);_0x1be315&&this[_0x5eab60(0x63a)][_0x5eab60(0x3f9)]({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x5eab60(0x5e0)],'content':{'type':_0xb54423['StreamReport'],'data':{..._0x1be315,'nodeId':_0x29e3fe}}});}[_0x5d07ed(0x2f6)](_0x48659b){const _0x4e1961=_0x5d07ed;this[_0x4e1961(0x30a)](_0x48659b[_0x4e1961(0x5f2)]),this['setDurationTime'](_0x48659b['durationTime']),this[_0x4e1961(0x63a)]['publish']({'sourceId':_0x35e782,'messageType':_0x772a3e[_0x4e1961(0x5e0)],'content':{'type':_0xb54423['LocalReport'],'data':{'STVolatility':this[_0x4e1961(0x29d)](),'DTVolatility':this['getDTVolatility']()}}});}[_0x5d07ed(0x431)](_0x413c1f,_0x8a8469,_0x4a75c7){const _0x28c5c6=_0x5d07ed;switch(_0x8a8469){case _0x459e26[_0x28c5c6(0x57a)]:this[_0x28c5c6(0x397)][_0x28c5c6(0x518)](_0x413c1f,_0x4a75c7);break;case _0x459e26[_0x28c5c6(0x490)]:this[_0x28c5c6(0x23d)][_0x28c5c6(0x518)](_0x413c1f,_0x4a75c7);break;case _0x459e26['KeyValueDatabaseStats']:this[_0x28c5c6(0x476)][_0x28c5c6(0x518)](_0x413c1f,_0x4a75c7);}}['registerSystemPublisher'](_0x14d738){const _0x1a316a=_0x5d07ed;this[_0x1a316a(0x63a)]=_0x14d738;}[_0x5d07ed(0x6d2)](){const _0x401d36=_0x5d07ed;delete this[_0x401d36(0x63a)];}[_0x5d07ed(0x29d)](){const _0x2c8669=_0x5d07ed;return this[_0x2c8669(0x385)]>0x0&&this['scheduleTime']-_0xb662ad>0x0?(this['scheduleTime']-_0xb662ad)/_0xb662ad:0x0;}['getDTVolatility'](){const _0x5f0177=_0x5d07ed;return this[_0x5f0177(0x76e)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x5f0177(0x76e)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x5e4ddc=_0x5d07ed;let _0x532527=0x0;return this[_0x5e4ddc(0x3cb)]['forEach'](_0x39f1ea=>{_0x532527+=_0x39f1ea['senderBitrate'];}),_0x532527;}[_0x5d07ed(0x42a)](){const _0x541aad=_0x5d07ed;let _0x26f286=0x0;return this[_0x541aad(0x3cb)][_0x541aad(0x487)](_0x289865=>{const _0x18c72e=_0x541aad;_0x26f286+=_0x289865[_0x18c72e(0x655)];}),_0x26f286;}[_0x5d07ed(0x347)](){let _0x5f215b=0x0;return this['nodes']['forEach'](_0xfb956b=>{const _0x13f979=a0_0x3365;_0x5f215b+=_0xfb956b[_0x13f979(0x35b)];}),_0x5f215b;}[_0x5d07ed(0x30a)](_0x441c28){const _0x4de3a2=_0x5d07ed;this[_0x4de3a2(0x385)]=_0x441c28;}[_0x5d07ed(0x675)](_0x1a694e){const _0xfebf26=_0x5d07ed;this[_0xfebf26(0x76e)]=_0x1a694e;}[_0x5d07ed(0x343)](_0x4c8af6,_0x51c201){const _0xb060f5=_0x5d07ed;switch(_0x51c201[_0xb060f5(0x75a)]){case _0x4df541[_0xb060f5(0x491)]:this['processSenderReport'](_0x4c8af6,_0x51c201);break;case _0x4df541[_0xb060f5(0x66d)]:this[_0xb060f5(0x79b)](_0x4c8af6,_0x51c201);}}[_0x5d07ed(0x2a9)](_0x1ed51,_0x3946d1){const _0x1cd4f7=_0x5d07ed;this[_0x1cd4f7(0x776)][_0x1cd4f7(0x518)](_0x1ed51,_0x3946d1[_0x1cd4f7(0x54f)]),this[_0x1cd4f7(0x38f)]['set'](_0x1ed51,_0x3946d1[_0x1cd4f7(0x3e8)]);}[_0x5d07ed(0x79b)](_0x4c9977,_0x33eddb){const _0x4b6ac6=_0x5d07ed;this['receiverTotalMessages']['set'](_0x4c9977,_0x33eddb['messagesReceived']),this[_0x4b6ac6(0x43a)][_0x4b6ac6(0x518)](_0x4c9977,_0x33eddb[_0x4b6ac6(0x67b)]),this[_0x4b6ac6(0x416)]['set'](_0x4c9977,_0x33eddb['systemMessages']);}}class _0x424f7d{[_0x5d07ed(0x6b3)];[_0x5d07ed(0x5c5)]=new Set();[_0x5d07ed(0x452)];[_0x5d07ed(0x233)];[_0x5d07ed(0x219)];[_0x5d07ed(0x6df)]=new _0x4ec9a3();constructor(_0x1bc107){const _0x3acaea=_0x5d07ed;this['configs']=_0x1bc107,this[_0x3acaea(0x6b3)]['mediator'][_0x3acaea(0x796)](this[_0x3acaea(0x6df)]),this[_0x3acaea(0x233)]=this[_0x3acaea(0x399)](),this['statsReporting']=this[_0x3acaea(0x482)]();}[_0x5d07ed(0x6d1)](){const _0x362293=_0x5d07ed;this[_0x362293(0x6b3)][_0x362293(0x5ee)]['unregisterSystemSource'](this['statsReport']),this[_0x362293(0x219)](),this[_0x362293(0x233)]();}[_0x5d07ed(0x541)](_0x5de6a4){const _0x3ed68b=_0x5d07ed;this[_0x3ed68b(0x5c5)][_0x3ed68b(0x3cf)](_0x5de6a4),this[_0x3ed68b(0x6df)]['addRemoteNode'](_0x5de6a4);}['removeRemoteNode'](_0x1ecd19){const _0x5af725=_0x5d07ed;this[_0x5af725(0x5c5)][_0x5af725(0x702)](_0x1ecd19),this[_0x5af725(0x6df)][_0x5af725(0x5cc)](_0x1ecd19);}['handlePeerConnectionSystemEvents'](_0x4e0cf2){const _0x48fa10=_0x5d07ed;if(_0x4e0cf2[_0x48fa10(0x226)][_0x48fa10(0x4ba)]===_0x2c6c4e[_0x48fa10(0x5e0)]){const {nodeId:_0x1df83d,streamId:_0x4eb03f,stats:_0x7c6fd0}=_0x4e0cf2[_0x48fa10(0x226)];this[_0x48fa10(0x6df)][_0x48fa10(0x602)](_0x1df83d,_0x7c6fd0,_0x4eb03f);}}['handleContentSystemEvents'](_0x364226){const _0x4d2985=_0x5d07ed;switch(_0x364226[_0x4d2985(0x226)][_0x4d2985(0x4ba)]){case _0x459e26[_0x4d2985(0x490)]:case _0x459e26[_0x4d2985(0x3a7)]:case _0x459e26[_0x4d2985(0x57a)]:this[_0x4d2985(0x6df)][_0x4d2985(0x431)](_0x364226[_0x4d2985(0x226)][_0x4d2985(0x710)],_0x364226[_0x4d2985(0x226)][_0x4d2985(0x4ba)],_0x364226['content'][_0x4d2985(0x6f7)]);}}[_0x5d07ed(0x482)](){const _0x273846=_0x5d07ed;return _0x4b6c88[_0x273846(0x611)](()=>{const _0x3618d8=_0x273846,_0x77cfaf=this[_0x3618d8(0x6df)]['getReport']();_0x218f12[_0x3618d8(0x59a)](_0x4f0e27[_0x3618d8(0x5e0)],_0x3618d8(0x6ef),_0x77cfaf),(0x0,_0x4200eb[_0x3618d8(0x775)])((0x0,_0x4200eb[_0x3618d8(0x2dc)])(_0x8536d0['getFirestore'](),_0x3618d8(0x558)+this[_0x3618d8(0x6b3)][_0x3618d8(0x441)]+_0x3618d8(0x596)),{'clusterId':this[_0x3618d8(0x6b3)][_0x3618d8(0x316)],'nodeId':this[_0x3618d8(0x6b3)][_0x3618d8(0x67d)][_0x3618d8(0x580)](),'nodeType':this[_0x3618d8(0x6b3)][_0x3618d8(0x67d)][_0x3618d8(0x4ba)],'timestamp':(0x0,_0x4200eb[_0x3618d8(0x645)])(),'report':_0x77cfaf}),_0x218f12['logEvent']('stats',{'clusterId':this[_0x3618d8(0x6b3)][_0x3618d8(0x316)],'nodeId':this['configs']['localNode'][_0x3618d8(0x580)](),'nodeType':this['configs'][_0x3618d8(0x67d)][_0x3618d8(0x4ba)],'data':{'report':_0x77cfaf}});},_0x2eeb78);}[_0x5d07ed(0x399)](){const _0x420dcd=_0x5d07ed;let _0x28facc=!0x1,_0x5bc36e=Date[_0x420dcd(0x58e)]();return _0x4b6c88['setInterval'](async()=>{const _0x278711=_0x420dcd;if(_0x28facc)return;if(_0x28facc=!0x0,0x0===this['remoteNodes'][_0x278711(0x6b1)])return delete this['nextNodeId'],void(_0x28facc=!0x1);const _0x4fecfa=Date[_0x278711(0x58e)]();this[_0x278711(0x6c0)]();try{await this[_0x278711(0x6b3)][_0x278711(0x5ee)]['collectStats'](this[_0x278711(0x452)]);}catch(_0x313a60){}this[_0x278711(0x6df)][_0x278711(0x2f6)]({'secheduleTime':_0x4fecfa-_0x5bc36e,'durationTime':Date[_0x278711(0x58e)]()-_0x4fecfa}),_0x5bc36e=_0x4fecfa,_0x28facc=!0x1;},_0xb662ad);}[_0x5d07ed(0x6c0)](){const _0x2a16c2=_0x5d07ed;let _0x269d79,_0x2d92b7=!0x1;this['nextNodeId']&&(this['remoteNodes'][_0x2a16c2(0x461)](this[_0x2a16c2(0x452)])||delete this['nextNodeId']);for(const _0x159cfd of this['remoteNodes'])if(_0x269d79||(_0x269d79=_0x159cfd),this[_0x2a16c2(0x452)]!==_0x159cfd){if(_0x2d92b7)return void(this[_0x2a16c2(0x452)]=_0x159cfd);}else _0x2d92b7=!0x0,delete this['nextNodeId'];this[_0x2a16c2(0x452)]||(this['nextNodeId']=_0x269d79);}}class _0x2a7eaf{[_0x5d07ed(0x488)];[_0x5d07ed(0x376)];[_0x5d07ed(0x63a)];constructor(_0xd34d67,_0x33846d){const _0x57faef=_0x5d07ed;this[_0x57faef(0x488)]=_0xd34d67,this[_0x57faef(0x376)]=_0x33846d;}['registerSystemPublisher'](_0x5aca31){const _0x1592f6=_0x5d07ed;this[_0x1592f6(0x63a)]=_0x5aca31;}[_0x5d07ed(0x6d2)](){const _0x5e627e=_0x5d07ed;delete this[_0x5e627e(0x63a)];}}class _0x300feb extends _0x2a7eaf{[_0x5d07ed(0x488)];[_0x5d07ed(0x376)];['params'];constructor(_0x3d7eb6,_0x2bcc28,_0x2a16a6){const _0x1b9da0=_0x5d07ed;super(_0x3d7eb6,_0x2bcc28),this[_0x1b9da0(0x488)]=_0x3d7eb6,this[_0x1b9da0(0x376)]=_0x2bcc28,this[_0x1b9da0(0x2e5)]=_0x2a16a6;}[_0x5d07ed(0x354)](_0xadd455,_0x192fbf,_0xe6c7a0){const _0x2c9402=_0x5d07ed;if(this[_0x2c9402(0x376)]['getContentType']()===_0x4b08d8['ContentType']['Media']){const _0x10a97a={'type':_0x653563[_0x2c9402(0x33c)],'label':this[_0x2c9402(0x376)][_0x2c9402(0x33a)](),'ownerId':_0xadd455,'trackKinds':_0x192fbf??this[_0x2c9402(0x376)]['getAvailableTrackKinds'](),'params':_0xe6c7a0};this[_0x2c9402(0x63a)]['publish']({'sourceId':this['source'][_0x2c9402(0x5da)](),'destinationIds':[this['source'][_0x2c9402(0x267)]()],'messageType':_0x772a3e[_0x2c9402(0x674)],'content':_0x10a97a}),this[_0x2c9402(0x2e5)]=_0xe6c7a0;}}[_0x5d07ed(0x363)](_0x20abba,_0x17e182){const _0x4c9972=_0x5d07ed;if(this[_0x4c9972(0x376)][_0x4c9972(0x3cc)]()===_0x4b08d8[_0x4c9972(0x758)][_0x4c9972(0x769)]){const _0xecce3d={'type':_0x653563['UpdateMediaStream'],'label':this[_0x4c9972(0x376)]['getLabel'](),'ownerId':_0x20abba,'params':_0x17e182};this[_0x4c9972(0x63a)][_0x4c9972(0x3f9)]({'sourceId':this[_0x4c9972(0x488)][_0x4c9972(0x5da)](),'destinationIds':[this['source'][_0x4c9972(0x267)]()],'messageType':_0x772a3e['Subscription'],'content':_0xecce3d}),this['params']=_0x17e182;}}['unsubscribe'](_0x2dc04d,_0x4b8491,_0x189409){const _0x4f315f=_0x5d07ed;if(this[_0x4f315f(0x376)][_0x4f315f(0x3cc)]()===_0x4b08d8['ContentType']['Media']){const _0x3dede6={'type':_0x653563[_0x4f315f(0x6b8)],'label':this[_0x4f315f(0x376)][_0x4f315f(0x33a)](),'ownerId':_0x2dc04d,'trackKinds':_0x189409??this[_0x4f315f(0x376)]['getAvailableTrackKinds'](),'remainingTracks':_0x4b8491};this[_0x4f315f(0x63a)][_0x4f315f(0x3f9)]({'sourceId':this[_0x4f315f(0x488)][_0x4f315f(0x5da)](),'destinationIds':[this[_0x4f315f(0x488)][_0x4f315f(0x267)]()],'messageType':_0x772a3e[_0x4f315f(0x674)],'content':_0x3dede6});}}}class _0x49c0c0{[_0x5d07ed(0x761)];[_0x5d07ed(0x29c)];[_0x5d07ed(0x467)];[_0x5d07ed(0x63a)];[_0x5d07ed(0x71f)]=new Set();[_0x5d07ed(0x412)]=Date['now']();[_0x5d07ed(0x2e5)];['retryCount']=0x0;constructor(_0x4c9a58,_0x15ce4a,_0x20d464,_0x4aa4dc){const _0x28a240=_0x5d07ed;this[_0x28a240(0x761)]=_0x15ce4a,this[_0x28a240(0x29c)]=_0x20d464,this[_0x28a240(0x467)]=_0x4aa4dc,_0x4c9a58[_0x28a240(0x487)](_0xe205dc=>{const _0x27c330=_0x28a240;this[_0x27c330(0x71f)][_0x27c330(0x3cf)]({'nodeId':_0xe205dc,'type':_0x3e0495[_0x27c330(0x311)]});});}['getTracks'](){const _0x1732e4=_0x5d07ed;return this[_0x1732e4(0x467)];}[_0x5d07ed(0x3a5)](_0x5113b0){this['systemTopic']=_0x5113b0;}[_0x5d07ed(0x6d2)](){delete this['systemTopic'];}[_0x5d07ed(0x4e5)](_0x230113,_0x7b9baa){const _0x4ef3d0=_0x5d07ed;this[_0x4ef3d0(0x412)]=Date[_0x4ef3d0(0x58e)](),this[_0x4ef3d0(0x71f)][_0x4ef3d0(0x4ec)](),_0x230113['forEach'](_0x1f3db5=>{const _0x325399=_0x4ef3d0;this['answers'][_0x325399(0x3cf)]({'nodeId':_0x1f3db5,'type':_0x3e0495[_0x325399(0x311)]});}),this['retryCount']+=0x1,this[_0x4ef3d0(0x761)]=_0x7b9baa;}[_0x5d07ed(0x248)](_0x910d84,_0x31cbc1,_0x25865f,_0x23b3d1,_0x369391){const _0x5a8bc3=_0x5d07ed;if(this[_0x5a8bc3(0x79a)]>0xa)throw new _0x187b09(_0x187b09[_0x5a8bc3(0x545)][_0x5a8bc3(0x2ac)],{'answers':Array[_0x5a8bc3(0x45d)](this[_0x5a8bc3(0x71f)])[_0x5a8bc3(0x326)](_0x539dca=>({'nodeId':_0x539dca[_0x5a8bc3(0x3f8)],'type':_0x539dca[_0x5a8bc3(0x4ba)]}))});const _0x127b6d=Array[_0x5a8bc3(0x45d)](this['answers'])['map'](_0x352ba6=>_0x352ba6[_0x5a8bc3(0x3f8)]);this[_0x5a8bc3(0x2e5)]=_0x369391,this['systemTopic'][_0x5a8bc3(0x3f9)]({'sourceId':_0x910d84,'destinationIds':_0x127b6d,'messageType':_0x772a3e[_0x5a8bc3(0x674)],'content':{'type':_0x653563['NeedMediaStream'],'label':_0x25865f,'ownerId':_0x31cbc1,'trackKinds':_0x23b3d1,'params':_0x369391}}),_0x218f12[_0x5a8bc3(0x59a)](_0x4f0e27[_0x5a8bc3(0x674)],_0x5a8bc3(0x440),_0x910d84,_0x127b6d);}['handleSubscriptionSystemEvents'](_0x2a5d4e,_0x5d32c2){const _0x290a0b=_0x5d07ed;switch(_0x5d32c2[_0x290a0b(0x4ba)]){case _0x653563[_0x290a0b(0x478)]:{const _0x18e0b9=this['currentDistance']>=_0x5d32c2[_0x290a0b(0x2b2)]&&_0x5d32c2['distance']<=this[_0x290a0b(0x29c)],_0x182cb5=Array[_0x290a0b(0x45d)](this[_0x290a0b(0x71f)])[_0x290a0b(0x3d6)](_0x1d2472=>_0x1d2472[_0x290a0b(0x3f8)]===_0x2a5d4e);_0x182cb5[_0x290a0b(0x4ba)]=_0x18e0b9?_0x3e0495[_0x290a0b(0x54a)]:_0x3e0495[_0x290a0b(0x4db)],_0x182cb5[_0x290a0b(0x4ab)]=_0x5d32c2['cost'],_0x182cb5['distance']=_0x5d32c2[_0x290a0b(0x2b2)],_0x182cb5[_0x290a0b(0x3c4)]=_0x5d32c2[_0x290a0b(0x3c4)],_0x182cb5['roundTripTime']=Date[_0x290a0b(0x58e)]()-this[_0x290a0b(0x412)],_0x182cb5['params']=this[_0x290a0b(0x2e5)],_0x182cb5[_0x290a0b(0x516)]=_0x5d32c2[_0x290a0b(0x516)],_0x182cb5['trackKinds']=_0x5d32c2['trackKinds'],_0x182cb5[_0x290a0b(0x400)]=_0x5d32c2[_0x290a0b(0x710)],_0x218f12[_0x290a0b(0x59a)](_0x4f0e27['Subscription'],(_0x18e0b9?_0x290a0b(0x54a):'Rejected')+_0x290a0b(0x42d),_0x182cb5);break;}case _0x653563[_0x290a0b(0x54b)]:{const _0x4ea454=Array['from'](this[_0x290a0b(0x71f)])[_0x290a0b(0x3d6)](_0x1dca00=>_0x1dca00[_0x290a0b(0x3f8)]===_0x2a5d4e);_0x4ea454[_0x290a0b(0x4ba)]=_0x3e0495[_0x290a0b(0x4db)],_0x218f12[_0x290a0b(0x59a)](_0x4f0e27[_0x290a0b(0x674)],_0x290a0b(0x6e8),_0x4ea454);break;}}if(this[_0x290a0b(0x56b)]())return this[_0x290a0b(0x3d8)]();}[_0x5d07ed(0x3d8)](){const _0x9efcb3=_0x5d07ed,_0x2ceb6c=Array[_0x9efcb3(0x45d)](this[_0x9efcb3(0x71f)])[_0x9efcb3(0x759)](_0x48099f=>_0x48099f['type']===_0x3e0495[_0x9efcb3(0x54a)])[_0x9efcb3(0x20c)]((_0x1661ef,_0x3ac4be)=>_0x1661ef[_0x9efcb3(0x4ab)]===_0x3ac4be[_0x9efcb3(0x4ab)]?_0x1661ef[_0x9efcb3(0x263)]-_0x3ac4be[_0x9efcb3(0x263)]:_0x1661ef[_0x9efcb3(0x4ab)]-_0x3ac4be['cost']);if(0x0===_0x2ceb6c[_0x9efcb3(0x57d)])throw new _0x187b09(_0x187b09[_0x9efcb3(0x545)][_0x9efcb3(0x2ac)],{'answers':Array[_0x9efcb3(0x45d)](this[_0x9efcb3(0x71f)])[_0x9efcb3(0x326)](_0xb8b8f4=>({'nodeId':_0xb8b8f4[_0x9efcb3(0x3f8)],'type':_0xb8b8f4['type']}))});return _0x218f12[_0x9efcb3(0x59a)](_0x4f0e27[_0x9efcb3(0x674)],'Chosen\x20answer',_0x2ceb6c[0x0],this['answers']),_0x2ceb6c[0x0];}[_0x5d07ed(0x56b)](){const _0x48b30b=_0x5d07ed;for(const _0x468b1c of this['answers'])if(_0x468b1c['type']===_0x3e0495[_0x48b30b(0x311)])return!0x1;return!0x0;}}class _0x40aa6b{[_0x5d07ed(0x710)];[_0x5d07ed(0x53b)];[_0x5d07ed(0x742)]=_0xf03f60();constructor(_0x2c720f,_0x1a8940){this['label']=_0x2c720f,this['contentType']=_0x1a8940;}[_0x5d07ed(0x33a)](){const _0x432886=_0x5d07ed;return this[_0x432886(0x710)];}[_0x5d07ed(0x3cc)](){const _0x28ef74=_0x5d07ed;return this[_0x28ef74(0x53b)];}[_0x5d07ed(0x4b0)](_0x513093){const _0x1e0502=_0x5d07ed;_0x513093[_0x1e0502(0x2c5)](this);}['registerDestination'](_0x5c76ec){const _0x39fa93=_0x5d07ed;_0x5c76ec[_0x39fa93(0x4e0)](this);}[_0x5d07ed(0x3f9)](_0xe7e99e){const _0x16141b=_0x5d07ed;this['listener']['publish']({'topicLabel':this['label'],'contentType':this[_0x16141b(0x53b)],'uuid':(0x0,_0x200f3e['v4'])(),'recipients':[],..._0xe7e99e});}['subscribe'](_0x5967ad){const _0x1f221e=_0x5d07ed;return this['listener'][_0x1f221e(0x354)](_0x5967ad);}['unregisterSource'](_0x5dd8db){_0x5dd8db['unregisterPublisher'](this);}[_0x5d07ed(0x6d0)](_0x10f4ec){_0x10f4ec['unregisterSubscriber'](this);}}class _0x291374{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x5d07ed(0x721)];constructor(_0x50dc0d){const _0x3611c6=_0x5d07ed;this[_0x3611c6(0x721)]=_0x50dc0d;}get[_0x5d07ed(0x709)](){return this['maps']['subscriptions'];}get[_0x5d07ed(0x2e7)](){const _0x1a83d4=_0x5d07ed;return this[_0x1a83d4(0x50e)][_0x1a83d4(0x2e7)];}[_0x5d07ed(0x76a)](_0x4e717f,_0x3153c7){const _0x557178=_0x5d07ed,_0x36c396=this[_0x557178(0x721)](_0x3153c7),_0x5762de=_0x17b956(_0x4e717f);if(!_0x36c396[_0x557178(0x5fc)])throw new _0x187b09(_0x187b09[_0x557178(0x545)][_0x557178(0x4d5)],{'message':_0x5762de+':\x20'+_0x36c396['remoteId']+_0x557178(0x45e)+_0x36c396[_0x557178(0x53b)],'subscriptionType':_0x4e717f,'subscription':_0x3153c7,'subscriptonParts':_0x36c396});const _0x2b8075=_0x423228(_0x4e717f,_0x36c396);if(this[_0x557178(0x50e)]['subscriptions']['has'](_0x2b8075))throw new _0x187b09(_0x187b09[_0x557178(0x545)][_0x557178(0x4d5)],{'message':_0x5762de+':\x20'+_0x2b8075+_0x557178(0x373),'subscriptionType':_0x4e717f,'subscription':_0x3153c7,'subscriptonParts':_0x36c396});this[_0x557178(0x50e)]['subscriptions'][_0x557178(0x518)](_0x2b8075,_0x3153c7),this[_0x557178(0x499)](_0x36c396,_0x3153c7);}[_0x5d07ed(0x2b4)](_0x3bbc62,_0x569f4f){const _0x515363=_0x5d07ed,_0x1a5f29=_0x423228(_0x569f4f,_0x3bbc62),_0x2cbbd0=this[_0x515363(0x50e)][_0x515363(0x709)][_0x515363(0x58c)](_0x1a5f29);if(!_0x2cbbd0)throw new _0x187b09(_0x187b09['codes'][_0x515363(0x4d5)],{'message':_0x17b956(_0x569f4f)+':\x20'+_0x1a5f29+_0x515363(0x205),'subscriptionType':_0x569f4f,'subscription':_0x2cbbd0,'subscriptonParts':_0x3bbc62});this[_0x515363(0x238)](_0x2cbbd0,_0x1a5f29,_0x3bbc62);}[_0x5d07ed(0x238)](_0x51b372,_0x423bf8,_0x446a7d){const _0x4fb5a1=_0x5d07ed;_0x446a7d=_0x446a7d||this[_0x4fb5a1(0x721)](_0x51b372),this[_0x4fb5a1(0x50e)]['subscriptions'][_0x4fb5a1(0x702)](_0x423bf8),this[_0x4fb5a1(0x585)](_0x446a7d,_0x51b372);}[_0x5d07ed(0x499)](_0x445afb,{source:_0x41034b,destination:_0x5d1eb3}){const _0x656881=_0x5d07ed,{contentType:_0x31081c,label:_0x125739,remoteId:_0x3823ca}=_0x445afb,_0xfd8843=_0x4a534b(_0x31081c,_0x125739,_0x3823ca),_0x1ab650=new _0x40aa6b(_0xfd8843,_0x31081c);_0x1ab650['registerSource'](_0x41034b),_0x1ab650[_0x656881(0x73a)](_0x5d1eb3),this['maps'][_0x656881(0x2e7)][_0x656881(0x518)](_0x1ab650[_0x656881(0x33a)](),_0x1ab650);}[_0x5d07ed(0x585)](_0x329f24,_0x268789){const _0x3ff14c=_0x5d07ed,{contentType:_0x2bfc25,label:_0x1e486b,remoteId:_0x2c9639}=_0x329f24,_0x22929=_0x4a534b(_0x2bfc25,_0x1e486b,_0x2c9639),_0x12c0f8=this[_0x3ff14c(0x50e)][_0x3ff14c(0x2e7)]['get'](_0x22929);_0x12c0f8&&(this[_0x3ff14c(0x5c4)](_0x12c0f8,_0x268789),this[_0x3ff14c(0x50e)]['topics'][_0x3ff14c(0x702)](_0x22929));}[_0x5d07ed(0x5c4)](_0x4596ed,{source:_0x51f5f0,destination:_0x4e8e03}){_0x4596ed['unregisterSource'](_0x51f5f0),_0x4596ed['unregisterDestination'](_0x4e8e03);}['removeSubscriptionsForNode'](_0x5ba19e){const _0x50a547=_0x5d07ed;this['maps']['subscriptions'][_0x50a547(0x487)]((_0x173731,_0x588e)=>{const _0x5b4208=_0x50a547;_0x588e[_0x5b4208(0x212)](_0x5ba19e)&&this[_0x5b4208(0x238)](_0x173731,_0x588e);});}}class _0x21e77e{['configs'];[_0x5d07ed(0x29c)];[_0x5d07ed(0x2b7)]=new Map();[_0x5d07ed(0x308)]=_0x12a2c8(new _0x51f0ce(this[_0x5d07ed(0x2c9)][_0x5d07ed(0x60d)](this),()=>_0x4b6c88[_0x5d07ed(0x39c)](0x64)),!0x0);[_0x5d07ed(0x46f)]=new Map();[_0x5d07ed(0x50e)];[_0x5d07ed(0x455)]=new Map();constructor(_0x1a1401,_0x5872cd){const _0x3fa4f0=_0x5d07ed;this[_0x3fa4f0(0x6b3)]=_0x1a1401,this[_0x3fa4f0(0x29c)]=_0x5872cd,this[_0x3fa4f0(0x50e)]=new _0x291374(({source:_0x4b2fd7,destination:_0x17bbee})=>_0x1d0f4e(_0x17bbee,_0x4b2fd7));}['createSubscription'](_0x5c2045,_0x1cf396){const _0xbbb168=_0x5d07ed,_0x4969ac=this[_0xbbb168(0x696)](_0x5c2045)&&this[_0xbbb168(0x34f)](_0x1cf396)?new _0x300feb(_0x5c2045,_0x1cf396):new _0x2a7eaf(_0x5c2045,_0x1cf396);this[_0xbbb168(0x50e)][_0xbbb168(0x76a)](_0x36e0f1[_0xbbb168(0x5d8)],_0x4969ac),this['configs'][_0xbbb168(0x5ee)]['registerSystemSource'](_0x4969ac);}[_0x5d07ed(0x2b4)](_0x54819b,_0x3ded79,_0x1cf43f=''){const _0xa5924c=_0x5d07ed,_0x203981={'contentType':_0x3ded79,'label':_0x54819b,'remoteId':_0x1cf43f},_0x2bc7f3=_0x423228(_0x36e0f1['Incoming'],_0x203981),_0x2efe33=this[_0xa5924c(0x50e)]['subscriptions'][_0xa5924c(0x58c)](_0x2bc7f3);_0x2efe33&&this[_0xa5924c(0x238)](_0x2efe33,_0x2bc7f3);}[_0x5d07ed(0x745)](_0x4ca88d){this['removeRemoteStreamSubscription'](_0x4ca88d);}['handleContentSubscribeMediaStream']({label:_0x34da55,ownerId:_0x577619,trackKinds:_0x3ab781,params:_0x3f7bb4}){this['requestSubscription'](_0x34da55,_0x577619,_0x3ab781,_0x3f7bb4);}[_0x5d07ed(0x2dd)]({ownerId:_0x4a4715,label:_0x4ed3b9,params:_0x565088}){const _0x4c1010=_0x5d07ed,{subscriptionLabel:_0x38f3fb}=this['getSubscriptionLabel'](_0x4ed3b9,_0x4a4715),_0x22767e=this[_0x4c1010(0x304)](_0x38f3fb);_0x22767e&&_0x22767e[_0x4c1010(0x363)](_0x4a4715,_0x565088);}[_0x5d07ed(0x201)]({ownerId:_0x1b4425,label:_0x359255,trackKinds:_0xb77def,remainingTracks:_0x31cf16}){const _0x15f18b=_0x5d07ed,_0x4c89a2=_0x423228(_0x36e0f1[_0x15f18b(0x5d8)],{'contentType':_0x4b08d8[_0x15f18b(0x758)][_0x15f18b(0x769)],'label':_0x359255,'remoteId':_0x1b4425});this[_0x15f18b(0x715)](_0x4c89a2);const _0x4def33=this[_0x15f18b(0x2b7)][_0x15f18b(0x58c)](_0x4c89a2);_0x4def33&&(this[_0x15f18b(0x6b3)]['mediator']['unregisterSystemSource'](_0x4def33),this[_0x15f18b(0x2b7)][_0x15f18b(0x702)](_0x4c89a2));const {parts:_0x3d426b,subscriptionLabel:_0x2508ef}=this['getSubscriptionLabel'](_0x359255,_0x1b4425),_0x469b1e=this[_0x15f18b(0x304)](_0x2508ef);_0x469b1e&&(_0x469b1e[_0x15f18b(0x751)](_0x1b4425,_0x31cf16,_0xb77def),0x0===_0x31cf16&&this[_0x15f18b(0x2b4)](_0x3d426b['label'],_0x3d426b['contentType'],_0x3d426b[_0x15f18b(0x40c)]));}[_0x5d07ed(0x52e)](_0x4685e2,{label:_0x5f9928,ownerId:_0x3d549d,trackKinds:_0x4309ee,streamId:_0x5bccb0,params:_0x120d26}){const _0x5b3856=_0x5d07ed,_0x3eea46=_0x423228(_0x36e0f1['Incoming'],{'contentType':_0x4b08d8[_0x5b3856(0x758)][_0x5b3856(0x769)],'label':_0x5bccb0,'remoteId':_0x4685e2}),_0x435c3d=this['maps'][_0x5b3856(0x709)]['get'](_0x3eea46);if(!(_0x435c3d&&_0x435c3d instanceof _0x300feb))throw new _0x187b09(_0x187b09[_0x5b3856(0x545)][_0x5b3856(0x34e)],{'label':_0x3eea46,'ownerId':_0x3d549d});this[_0x5b3856(0x238)](_0x435c3d,_0x3eea46),this['requestSubscription'](_0x5f9928,_0x3d549d,_0x4309ee,_0x120d26);}['handleSubscriptionProvideMediaStream'](_0x54cecb,_0x2286ef){const _0x3103bf=_0x5d07ed,{label:_0x318424,ownerId:_0x1f08a0,trackKinds:_0x203801,params:_0x2d4b3a}=_0x2286ef,_0x3ed045=_0x423228(_0x36e0f1[_0x3103bf(0x5d8)],{'contentType':_0x4b08d8[_0x3103bf(0x758)][_0x3103bf(0x769)],'label':_0x318424,'remoteId':_0x1f08a0});if(!this[_0x3103bf(0x2b7)][_0x3103bf(0x461)](_0x3ed045))throw new _0x187b09(_0x187b09['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x3ed045,'ownerId':_0x1f08a0,'streamId':_0x2286ef['streamId'],'requests':this[_0x3103bf(0x2b7)]});const _0x3d14b3=this['subscriptionRequests']['get'](_0x3ed045);if(_0x203801['length']===_0x3d14b3['getTracks']()[_0x3103bf(0x57d)]&&_0x203801[_0x3103bf(0x4f9)](_0x34fd0c=>_0x3d14b3[_0x3103bf(0x638)]()[_0x3103bf(0x610)](_0x34fd0c)))try{const _0x1a826c=_0x3d14b3['handleSubscriptionSystemEvents'](_0x54cecb,_0x2286ef);if(!_0x1a826c)return;this[_0x3103bf(0x354)](_0x1a826c,_0x1f08a0,_0x318424,_0x3ed045,_0x203801);}catch(_0x46f5b0){return void this[_0x3103bf(0x530)](_0x318424,_0x1f08a0,_0x203801,_0x2d4b3a);}}[_0x5d07ed(0x51f)](_0x35d953,{label:_0x41a235,ownerId:_0x3108ff,trackKinds:_0x3b90b6}){const _0xb76c9b=_0x5d07ed,_0x552e62=this[_0xb76c9b(0x6b3)][_0xb76c9b(0x5ee)][_0xb76c9b(0x4fa)](_0x3108ff,_0x41a235);if(!_0x552e62)return;const _0x33bd82=_0x552e62[_0xb76c9b(0x47f)](),_0x33636f=_0x552e62['getSubscribedTracks']();_0x33636f[_0xb76c9b(0x54d)](_0x3c9863=>_0x3b90b6[_0xb76c9b(0x610)](_0x3c9863))&&this[_0xb76c9b(0x4c6)](_0x35d953,_0x41a235,_0x33bd82,_0x3108ff,_0x33636f);}[_0x5d07ed(0x780)]({label:_0x6c8c2a,providerId:_0x170de8,ownerId:_0x5f1921,streamId:_0x52aa66,trackKinds:_0x596ff7}){this['findNewMediaSubscription'](_0x170de8,_0x6c8c2a,_0x52aa66,_0x5f1921,_0x596ff7);}[_0x5d07ed(0x442)](_0x1fdd85){const _0x472e59=_0x5d07ed;for(const _0x53164d of this[_0x472e59(0x455)][_0x472e59(0x3ec)]()){const {streamLabel:_0x24645e,ownerId:_0xdd9d4d,trackKinds:_0x472424,params:_0x3cb8d}=_0x53164d;if(!_0xdd9d4d||!_0x472424||!_0x24645e)return;this[_0x472e59(0x308)][_0x472e59(0x4d7)]({'label':_0x24645e,'ownerId':_0xdd9d4d,'trackKinds':_0x472424,'params':_0x3cb8d,'remoteId':_0x1fdd85});}}['removeSubscriptionsForNode'](_0x821e49){const _0x28f240=_0x5d07ed;this[_0x28f240(0x50e)][_0x28f240(0x709)][_0x28f240(0x487)]((_0x383db5,_0x4c61f3)=>{const _0x8b2af4=_0x28f240;if(_0x4c61f3[_0x8b2af4(0x212)](_0x821e49)){if(_0x383db5['destination']['getContentType']()===_0x4b08d8['ContentType'][_0x8b2af4(0x769)]){const _0x57696d=_0x383db5['destination'];if(_0x57696d[_0x8b2af4(0x781)]()[_0x8b2af4(0x57d)]>0x0){const _0x276911={'type':_0x653563[_0x8b2af4(0x578)],'label':_0x57696d['getLabel'](),'ownerId':_0x57696d[_0x8b2af4(0x695)](),'trackKinds':_0x57696d[_0x8b2af4(0x781)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x821e49,_0x276911);}}this[_0x8b2af4(0x238)](_0x383db5,_0x4c61f3);}});}['close'](){const _0x5483e7=_0x5d07ed;this[_0x5483e7(0x50e)][_0x5483e7(0x709)][_0x5483e7(0x487)](this['closeSubscription'][_0x5483e7(0x60d)](this));}[_0x5d07ed(0x354)](_0x5d0652,_0x3b370a,_0x1537ca,_0x2bb574,_0x453289){const _0x583c0e=_0x5d07ed,_0x7a2905=this[_0x583c0e(0x6b3)][_0x583c0e(0x5ee)][_0x583c0e(0x730)](_0x5d0652['nodeId']),_0x34996a=this[_0x583c0e(0x6b3)][_0x583c0e(0x5ee)][_0x583c0e(0x4fa)](_0x3b370a,_0x1537ca);this[_0x583c0e(0x715)](_0x2bb574),this['subscriptionRequests']['has'](_0x2bb574)&&(this['configs'][_0x583c0e(0x5ee)][_0x583c0e(0x61b)](this[_0x583c0e(0x2b7)][_0x583c0e(0x58c)](_0x2bb574)),this[_0x583c0e(0x2b7)]['delete'](_0x2bb574)),this[_0x583c0e(0x207)](_0x5d0652,_0x3b370a,_0x1537ca,_0x34996a),_0x34996a['setInternalId'](_0x5d0652[_0x583c0e(0x3c4)]),_0x34996a['setProviderId'](_0x5d0652[_0x583c0e(0x3f8)]);const _0x4e7a30=_0x1d0f4e(_0x34996a,_0x7a2905),_0x15b780=_0x423228(_0x36e0f1[_0x583c0e(0x5d8)],_0x4e7a30);this['maps']['subscriptions'][_0x583c0e(0x461)](_0x15b780)||this[_0x583c0e(0x76a)](_0x7a2905,_0x34996a);const _0x2e5f2d=this[_0x583c0e(0x50e)][_0x583c0e(0x709)]['get'](_0x15b780);if(!(_0x2e5f2d&&_0x2e5f2d instanceof _0x300feb))throw new _0x187b09(_0x187b09[_0x583c0e(0x545)]['SubscriptionRequestDoesNotExist'],{'label':_0x2bb574,'ownerId':_0x3b370a});_0x218f12['logEvent']('subscription',{'clusterId':this[_0x583c0e(0x6b3)][_0x583c0e(0x316)],'nodeId':this[_0x583c0e(0x6b3)][_0x583c0e(0x67d)][_0x583c0e(0x580)](),'nodeType':this['configs'][_0x583c0e(0x67d)][_0x583c0e(0x4ba)],'data':{'subscriptionLabel':_0x15b780,'chosenAnswer':_0x5d0652}}),this[_0x583c0e(0x455)][_0x583c0e(0x518)](_0x15b780,_0x5d0652),_0x2e5f2d[_0x583c0e(0x354)](_0x3b370a,_0x453289,_0x5d0652['params']);}[_0x5d07ed(0x299)]({ownerId:_0x4a30eb,label:_0x521818}){const _0x2e5aab=_0x5d07ed,_0x4dac06=this[_0x2e5aab(0x6b3)]['mediator'][_0x2e5aab(0x4fa)](_0x4a30eb,_0x521818),[_0x31af4b,_0x1c8ff3]=Array['from'](this['maps'][_0x2e5aab(0x709)][_0x2e5aab(0x636)]())[_0x2e5aab(0x3d6)](([_0x427fec,_0x26d6bc])=>-0x1!==_0x427fec['indexOf'](_0x4dac06[_0x2e5aab(0x47f)]()));return this[_0x2e5aab(0x238)](_0x1c8ff3,_0x31af4b);}[_0x5d07ed(0x238)](_0x4298ee,_0x4d0721){const _0x44cd1f=_0x5d07ed;this[_0x44cd1f(0x6b3)]['mediator'][_0x44cd1f(0x61b)](_0x4298ee),this[_0x44cd1f(0x50e)][_0x44cd1f(0x238)](_0x4298ee,_0x4d0721);}[_0x5d07ed(0x696)](_0x37dd4c){const _0x2c1214=_0x5d07ed;return _0x37dd4c['getSupportedContentTypes']()['includes'](_0x4b08d8['ContentType'][_0x2c1214(0x769)]);}[_0x5d07ed(0x34f)](_0xd66b42){const _0x14dc03=_0x5d07ed;return _0xd66b42[_0x14dc03(0x3cc)]()===_0x4b08d8[_0x14dc03(0x758)][_0x14dc03(0x769)];}async[_0x5d07ed(0x530)](_0xf74768,_0x3b6df4,_0xaf3aed,_0x36b1b8){const _0x14ba59=_0x5d07ed;await _0x4b6c88[_0x14ba59(0x39c)](0x3e8);const _0x19da81=_0x423228(_0x36e0f1[_0x14ba59(0x5d8)],{'contentType':_0x4b08d8[_0x14ba59(0x758)][_0x14ba59(0x769)],'label':_0xf74768,'remoteId':_0x3b6df4});this['clearSubscriptionRequestTimeout'](_0x19da81);const _0x16a66b=this['subscriptionRequests'][_0x14ba59(0x58c)](_0x19da81);if(!_0x16a66b)throw new _0x187b09(_0x187b09[_0x14ba59(0x545)][_0x14ba59(0x34e)],{'label':_0x19da81,'ownerId':_0x3b6df4});const _0x29c35e=this['configs'][_0x14ba59(0x5ee)][_0x14ba59(0x31f)](_0x4a6cd4=>_0x4a6cd4[_0x14ba59(0x1f6)]()),_0x13ed44=this[_0x14ba59(0x6b3)][_0x14ba59(0x5ee)]['getDistance'](this['configs'][_0x14ba59(0x67d)][_0x14ba59(0x580)](),_0x3b6df4);_0x16a66b[_0x14ba59(0x4e5)](_0x29c35e[_0x14ba59(0x326)](_0x111d09=>_0x111d09['getRemoteId']()),_0x13ed44);try{_0x16a66b[_0x14ba59(0x248)](this[_0x14ba59(0x6b3)][_0x14ba59(0x67d)]['getId'](),_0x3b6df4,_0xf74768,_0xaf3aed,_0x36b1b8),this[_0x14ba59(0x306)](_0xf74768,_0x3b6df4,_0xaf3aed,_0x36b1b8,_0x19da81,_0x16a66b);}catch(_0x3a6d03){this[_0x14ba59(0x308)]['push']({'label':_0xf74768,'ownerId':_0x3b6df4,'trackKinds':_0xaf3aed,'params':_0x36b1b8});}}[_0x5d07ed(0x62d)](_0x144021,_0x475275,_0x273d2c,_0x2fe304){const _0x58f52a=_0x5d07ed;this[_0x58f52a(0x308)][_0x58f52a(0x4d7)]({'label':_0x144021,'ownerId':_0x475275,'trackKinds':_0x273d2c,'params':_0x2fe304});}['requestSubscriptionAction']({label:_0xf4ab60,ownerId:_0x1524f7,trackKinds:_0x46b59e,params:_0x35d6af,remoteId:_0x24b60f}){const _0x2478c7=_0x5d07ed;if(!this[_0x2478c7(0x6b3)][_0x2478c7(0x5ee)][_0x2478c7(0x4fa)](_0x1524f7,_0xf4ab60))return;if(!this[_0x2478c7(0x6b3)]['mediator'][_0x2478c7(0x63b)]()[_0x2478c7(0x693)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x24b60f){const _0x583337=this['configs']['mediator'][_0x2478c7(0x790)]()[_0x2478c7(0x3d6)](_0x55dd52=>_0x55dd52['getId']()===_0x24b60f),_0x195f93=_0x583337?.[_0x2478c7(0x693)]();if(!_0x583337||!_0x195f93)throw new Error(_0x2478c7(0x3fa));const _0x42b11a=this[_0x2478c7(0x6b3)][_0x2478c7(0x5ee)]['getRemoteNodes']()[_0x2478c7(0x3d6)](_0x780272=>_0x780272[_0x2478c7(0x580)]()===_0x1524f7),_0x31833b=_0x42b11a?.[_0x2478c7(0x693)]();if(!_0x42b11a||!_0x31833b)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x30c08c=this[_0x2478c7(0x455)][_0x2478c7(0x58c)](_0xf4ab60);if(_0x30c08c){const _0x1b903d=this[_0x2478c7(0x6b3)][_0x2478c7(0x5ee)]['getRemoteNodes']()[_0x2478c7(0x3d6)](_0x4fcfdc=>_0x4fcfdc[_0x2478c7(0x580)]()===_0x30c08c['nodeId']),_0x51fe95=_0x1b903d?.['getRank']();if(!_0x1b903d||!_0x51fe95)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0x2478c7(0x279)](_0x51fe95-_0x31833b)<Math['abs'](_0x195f93-_0x31833b))return;}}const _0x3bf6b3=this[_0x2478c7(0x6b3)][_0x2478c7(0x5ee)][_0x2478c7(0x31f)](_0x570340=>_0x570340[_0x2478c7(0x1f6)]()&&(!_0x24b60f||_0x570340[_0x2478c7(0x267)]()===_0x24b60f));if(!_0x3bf6b3[_0x2478c7(0x57d)]||0x0===_0x3bf6b3['length'])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x4eaa73=this[_0x2478c7(0x6b3)][_0x2478c7(0x5ee)][_0x2478c7(0x1fd)](this[_0x2478c7(0x6b3)][_0x2478c7(0x67d)][_0x2478c7(0x580)](),_0x1524f7),_0x392d62=_0x423228(_0x36e0f1['Incoming'],{'contentType':_0x4b08d8['ContentType'][_0x2478c7(0x769)],'label':_0xf4ab60,'remoteId':_0x1524f7});if(this[_0x2478c7(0x2b7)][_0x2478c7(0x461)](_0x392d62)){if(_0x24b60f)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x1f1122=this[_0x2478c7(0x2b7)]['get'](_0x392d62)[_0x2478c7(0x638)]();if(_0x1f1122['length']===_0x46b59e[_0x2478c7(0x57d)]&&_0x1f1122['every'](_0x5d3f6c=>_0x46b59e['includes'](_0x5d3f6c)))return;this['configs'][_0x2478c7(0x5ee)][_0x2478c7(0x61b)](this['subscriptionRequests'][_0x2478c7(0x58c)](_0x392d62)),this['subscriptionRequests'][_0x2478c7(0x702)](_0x392d62),_0x46b59e=Array[_0x2478c7(0x45d)](new Set(_0x46b59e[_0x2478c7(0x52b)](_0x1f1122))),this['clearSubscriptionRequestTimeout'](_0x392d62);}const _0x570843=new _0x49c0c0(_0x3bf6b3[_0x2478c7(0x326)](_0x3690f5=>_0x3690f5['getRemoteId']()),_0x4eaa73,this[_0x2478c7(0x29c)],_0x46b59e);this['configs']['mediator'][_0x2478c7(0x796)](_0x570843),this['subscriptionRequests'][_0x2478c7(0x518)](_0x392d62,_0x570843),_0x570843['sendRequest'](this[_0x2478c7(0x6b3)][_0x2478c7(0x67d)][_0x2478c7(0x580)](),_0x1524f7,_0xf4ab60,_0x46b59e,_0x35d6af),this[_0x2478c7(0x306)](_0xf4ab60,_0x1524f7,_0x46b59e,_0x35d6af,_0x392d62,_0x570843);}[_0x5d07ed(0x715)](_0x2c1b41){const _0x2bd00c=_0x5d07ed;this[_0x2bd00c(0x46f)]['has'](_0x2c1b41)&&(clearTimeout(this[_0x2bd00c(0x46f)][_0x2bd00c(0x58c)](_0x2c1b41)),this[_0x2bd00c(0x46f)][_0x2bd00c(0x702)](_0x2c1b41));}[_0x5d07ed(0x306)](_0x4318d4,_0x5deaae,_0x333b33,_0x3b3ef0,_0x3a52cc,_0x385ea2){const _0x46edb8=_0x5d07ed;this[_0x46edb8(0x715)](_0x3a52cc),this[_0x46edb8(0x46f)][_0x46edb8(0x518)](_0x3a52cc,setTimeout(()=>{const _0x3114f4=_0x46edb8;this['subscriptionRequestTimeouts'][_0x3114f4(0x702)](_0x3a52cc);try{const _0xe25e29=_0x385ea2[_0x3114f4(0x3d8)]();this[_0x3114f4(0x354)](_0xe25e29,_0x5deaae,_0x4318d4,_0x3a52cc,_0x333b33);}catch(_0xfd41fd){this[_0x3114f4(0x530)](_0x4318d4,_0x5deaae,_0x333b33,_0x3b3ef0);}},0x7d0));}['findNewMediaSubscription'](_0x13d889,_0x45d42a,_0x3aea1f,_0x1fd0ee,_0x56316c){const _0x18db06=_0x5d07ed,{subscriptionLabel:_0x1acdef}=this['getSubscriptionLabel'](_0x45d42a,_0x1fd0ee),_0x169fc7=this[_0x18db06(0x304)](_0x1acdef),_0x5b3c6b=_0x169fc7?.[_0x18db06(0x2e5)];_0x169fc7&&(_0x169fc7['unsubscribe'](_0x1fd0ee,0x0),this[_0x18db06(0x2b4)](_0x3aea1f,_0x4b08d8['ContentType'][_0x18db06(0x769)],_0x13d889)),this['requestSubscription'](_0x45d42a,_0x1fd0ee,_0x56316c,_0x5b3c6b);}[_0x5d07ed(0x304)](_0x27771c){const _0x47520e=_0x5d07ed,_0x2cbb10=this[_0x47520e(0x50e)][_0x47520e(0x709)][_0x47520e(0x58c)](_0x27771c);if(_0x2cbb10){if(!(_0x2cbb10 instanceof _0x300feb))throw new _0x187b09(_0x187b09[_0x47520e(0x545)][_0x47520e(0x4d5)],{'label':_0x27771c,'subscription':_0x2cbb10});return _0x2cbb10;}}[_0x5d07ed(0x2b5)](_0x1a7177,_0x344294){const _0x17697e=_0x5d07ed,_0x468402=this['getPartsForSubscriptionLabel'](_0x1a7177,_0x344294);return{'parts':_0x468402,'subscriptionLabel':_0x423228(_0x36e0f1[_0x17697e(0x5d8)],_0x468402)};}['getPartsForSubscriptionLabel'](_0x6cdb63,_0x1cebad){const _0x3687a5=_0x5d07ed,_0x2d1e30=this[_0x3687a5(0x6b3)][_0x3687a5(0x5ee)]['getRemoteMediaStream'](_0x1cebad,_0x6cdb63),_0x2afd90=_0x2d1e30[_0x3687a5(0x415)]();if(!_0x2afd90)throw new _0x187b09(_0x187b09['codes'][_0x3687a5(0x76b)],{'label':_0x6cdb63,'streamId':_0x2d1e30[_0x3687a5(0x47f)](),'ownerId':_0x1cebad,'localId':this[_0x3687a5(0x6b3)][_0x3687a5(0x67d)][_0x3687a5(0x580)]()});return{'contentType':_0x4b08d8[_0x3687a5(0x758)][_0x3687a5(0x769)],'label':_0x2d1e30[_0x3687a5(0x47f)](),'remoteId':_0x2afd90};}[_0x5d07ed(0x207)](_0x551de0,_0x1af58b,_0x2a0d4a,_0x53eb3c){const _0x3759d7=_0x5d07ed,_0x2998df=_0x53eb3c['getProviderId']();if(_0x2998df&&_0x2998df!==_0x551de0[_0x3759d7(0x3f8)]){const {parts:_0x3820c9,subscriptionLabel:_0x34ca87}=this[_0x3759d7(0x2b5)](_0x2a0d4a,_0x1af58b),_0x59e731=this['getMediaSubscription'](_0x34ca87);_0x59e731&&(_0x59e731[_0x3759d7(0x751)](_0x1af58b,0x0),this['removeSubscription'](_0x3820c9[_0x3759d7(0x710)],_0x3820c9[_0x3759d7(0x53b)],_0x3820c9[_0x3759d7(0x40c)]));}}}class _0x99ddc8{[_0x5d07ed(0x6b3)];[_0x5d07ed(0x369)];['maps'];constructor(_0x3908bf,_0xca67b7){const _0x4292a1=_0x5d07ed;this[_0x4292a1(0x6b3)]=_0x3908bf,this[_0x4292a1(0x369)]=_0xca67b7,this[_0x4292a1(0x50e)]=new _0x291374(({source:_0x10f2e3,destination:_0x1bee7c})=>_0x1d0f4e(_0x10f2e3,_0x1bee7c));}[_0x5d07ed(0x76a)](_0x19d3c3,_0x5dffa4){const _0x168e19=_0x5d07ed,_0x4302da={'source':_0x19d3c3,'destination':_0x5dffa4};this[_0x168e19(0x50e)][_0x168e19(0x76a)](_0x36e0f1[_0x168e19(0x6e6)],_0x4302da);}[_0x5d07ed(0x2b4)](_0x566a9f,_0x83adbb,_0x55f62f=''){const _0x19fc6b=_0x5d07ed,_0x170222={'contentType':_0x83adbb,'label':_0x566a9f,'remoteId':_0x55f62f};this[_0x19fc6b(0x50e)][_0x19fc6b(0x2b4)](_0x170222,_0x36e0f1[_0x19fc6b(0x6e6)]);}['handleSubscriptionSubscribeMediaStream'](_0xd29331,_0xa41bbd){const _0xbf9d6d=_0x5d07ed;let _0x1779a4;_0x1779a4=_0xa41bbd[_0xbf9d6d(0x516)]!==this['configs']['localNode']['getId']()?this[_0xbf9d6d(0x6b3)][_0xbf9d6d(0x5ee)][_0xbf9d6d(0x4fa)](_0xa41bbd[_0xbf9d6d(0x516)],_0xa41bbd[_0xbf9d6d(0x710)]):this[_0xbf9d6d(0x6b3)][_0xbf9d6d(0x5ee)][_0xbf9d6d(0x4a5)](_0xa41bbd[_0xbf9d6d(0x710)]);const _0x4ac878=_0x423228(_0x36e0f1['Outgoing'],{'contentType':_0x4b08d8[_0xbf9d6d(0x758)][_0xbf9d6d(0x769)],'label':_0x1779a4[_0xbf9d6d(0x4c4)](),'remoteId':_0xd29331}),_0x87e88a=this[_0xbf9d6d(0x350)]();if(!this['maps'][_0xbf9d6d(0x709)][_0xbf9d6d(0x461)](_0x4ac878)&&_0x87e88a>=this[_0xbf9d6d(0x369)])return{'type':_0x653563[_0xbf9d6d(0x313)],'ownerId':_0xa41bbd[_0xbf9d6d(0x516)],'label':_0xa41bbd['label'],'streamId':_0x1779a4[_0xbf9d6d(0x4c4)](),'trackKinds':_0xa41bbd[_0xbf9d6d(0x6c7)],'params':_0xa41bbd[_0xbf9d6d(0x2e5)]};_0x1779a4 instanceof _0x5865ac&&!_0x1779a4[_0xbf9d6d(0x661)](_0xa41bbd[_0xbf9d6d(0x6c7)])&&_0x1779a4['subscribe'](_0xa41bbd['params']),this[_0xbf9d6d(0x50e)][_0xbf9d6d(0x709)][_0xbf9d6d(0x461)](_0x4ac878)||this[_0xbf9d6d(0x76a)](_0x1779a4[_0xbf9d6d(0x72e)](_0xd29331),this[_0xbf9d6d(0x6b3)][_0xbf9d6d(0x5ee)][_0xbf9d6d(0x730)](_0xd29331));}[_0x5d07ed(0x6f8)](_0x1ffb04,{label:_0x55b183,ownerId:_0x7fa5a4,remainingTracks:_0x5873bf}){const _0x3b8b11=_0x5d07ed;if(_0x5873bf>0x0)return;let _0x19b0cd;_0x19b0cd=_0x7fa5a4!==this[_0x3b8b11(0x6b3)]['localNode'][_0x3b8b11(0x580)]()?this['configs'][_0x3b8b11(0x5ee)]['getRemoteMediaStream'](_0x7fa5a4,_0x55b183):this[_0x3b8b11(0x6b3)][_0x3b8b11(0x5ee)][_0x3b8b11(0x4a5)](_0x55b183);const _0x47c6cd=_0x19b0cd[_0x3b8b11(0x4c4)](),_0x42b266=_0x4b08d8[_0x3b8b11(0x758)][_0x3b8b11(0x769)];this[_0x3b8b11(0x2b4)](_0x47c6cd,_0x42b266,_0x1ffb04);}[_0x5d07ed(0x201)](_0x550046,{label:_0x22b77d,ownerId:_0x250ed2,trackKinds:_0x2f2571}){const _0x44dc0e=_0x5d07ed;if(_0x550046!==_0x35e782)return[];let _0xc6efa8=[];for(const _0x4cc3fa of this[_0x44dc0e(0x50e)][_0x44dc0e(0x709)]){const {source:_0x48963d,destination:_0x524b62}=_0x4cc3fa[0x1];_0x48963d['getLabel']()===_0x22b77d&&_0x48963d[_0x44dc0e(0x695)]()===_0x250ed2&&_0xc6efa8['push']({'sourceId':this[_0x44dc0e(0x6b3)][_0x44dc0e(0x67d)][_0x44dc0e(0x580)](),'destinationIds':[_0x524b62['getRemoteId']()],'messageType':_0x772a3e['Subscription'],'content':{'type':_0x653563[_0x44dc0e(0x578)],'label':_0x22b77d,'ownerId':_0x250ed2,'trackKinds':_0x2f2571}});}return _0xc6efa8;}[_0x5d07ed(0x420)](_0x62f67a,_0x3cc1da){const _0xa699c6=_0x5d07ed,{label:_0x2c0187,ownerId:_0x3b2940,trackKinds:_0x2bce75,params:_0x2e40d0}=_0x3cc1da,{hasTracks:_0x20cb09,streamId:_0x2e78b9,hasResolution:_0x46ca61,distance:_0x314a61,subscriptionLabel:_0x4720f7}=this['getSubscriptionInfo'](_0x62f67a,_0x3cc1da);let _0x40ab15=this[_0xa699c6(0x350)]()<this[_0xa699c6(0x369)]&&(_0x20cb09||_0x314a61>-0x1)?_0x653563['CanProvideMediaStream']:_0x653563[_0xa699c6(0x54b)];const _0x4171f8=_0x314a61<0x0?0xa:_0x314a61;let _0x2a9dce=_0x20cb09?_0x46ca61?_0x4171f8:_0x4171f8+0x0:_0x4171f8+0xa;return _0x4720f7&&this[_0xa699c6(0x50e)][_0xa699c6(0x709)][_0xa699c6(0x461)](_0x4720f7)&&(_0x20cb09&&(_0x2a9dce=0x0),_0x40ab15=_0x653563['CanProvideMediaStream']),{'type':_0x40ab15,'cost':_0x2a9dce,'distance':_0x314a61,'label':_0x2c0187,'ownerId':_0x3b2940,'streamId':_0x2e78b9,'trackKinds':_0x2bce75,'params':_0x2e40d0};}[_0x5d07ed(0x745)](_0x2b434b){const _0x5a4dd1=_0x5d07ed,{label:_0x4b8505,ownerId:_0x565f0a}=_0x2b434b,_0x50ca19=this['configs'][_0x5a4dd1(0x5ee)]['getRemoteMediaStream'](_0x565f0a,_0x4b8505);this[_0x5a4dd1(0x50e)]['subscriptions']['forEach'](_0x191afb=>{const _0x52caa2=_0x5a4dd1;if(_0x191afb[_0x52caa2(0x488)][_0x52caa2(0x47f)]()===_0x50ca19[_0x52caa2(0x4c4)]()){const _0x444a43=_0x191afb['destination'];this[_0x52caa2(0x2b4)](_0x50ca19[_0x52caa2(0x4c4)](),_0x4b08d8[_0x52caa2(0x758)][_0x52caa2(0x769)],_0x444a43['getRemoteId']());}});}[_0x5d07ed(0x650)]({label:_0x3ebb37}){const _0x52f56b=_0x5d07ed,_0x51dc52=this['configs'][_0x52f56b(0x5ee)][_0x52f56b(0x4a5)](_0x3ebb37);this[_0x52f56b(0x50e)]['subscriptions'][_0x52f56b(0x487)](_0x58d936=>{const _0x32e647=_0x52f56b;if(_0x58d936[_0x32e647(0x488)][_0x32e647(0x47f)]()===_0x51dc52[_0x32e647(0x4c4)]()){const _0x5cc7c1=_0x58d936[_0x32e647(0x376)];this[_0x32e647(0x2b4)](_0x51dc52[_0x32e647(0x4c4)](),_0x4b08d8['ContentType'][_0x32e647(0x769)],_0x5cc7c1[_0x32e647(0x267)]());}});}['removeSubscriptionsForNode'](_0x35d418){const _0x533b38=_0x5d07ed;this['maps'][_0x533b38(0x4c8)](_0x35d418);}[_0x5d07ed(0x6d1)](){const _0x410c85=_0x5d07ed;this[_0x410c85(0x50e)][_0x410c85(0x709)]['forEach'](this[_0x410c85(0x238)]['bind'](this));}[_0x5d07ed(0x238)](_0x2342ea,_0x589b12){const _0x938ce=_0x5d07ed;this[_0x938ce(0x50e)][_0x938ce(0x238)](_0x2342ea,_0x589b12);}[_0x5d07ed(0x2a0)](_0x4a72c0,{label:_0xe37d53,ownerId:_0x54f3fa,trackKinds:_0x2fffbe,params:_0x657609}){const _0x3bd58b=_0x5d07ed;if(_0x54f3fa!==this[_0x3bd58b(0x6b3)][_0x3bd58b(0x67d)][_0x3bd58b(0x580)]()){const _0x130ef5=this[_0x3bd58b(0x6b3)][_0x3bd58b(0x5ee)][_0x3bd58b(0x4fa)](_0x54f3fa,_0xe37d53);return _0x130ef5&&_0x130ef5['getProviderId']()!==_0x4a72c0?{'hasTracks':_0x130ef5['hasTracks'](_0x2fffbe),'hasResolution':this[_0x3bd58b(0x493)](_0x130ef5['getResolution'](),_0x657609),'streamId':_0x130ef5[_0x3bd58b(0x4c4)](),'distance':this[_0x3bd58b(0x6b3)][_0x3bd58b(0x5ee)][_0x3bd58b(0x1fd)](_0x4a72c0,_0x54f3fa),'subscriptionLabel':_0x423228(_0x36e0f1[_0x3bd58b(0x6e6)],{'contentType':_0x4b08d8[_0x3bd58b(0x758)][_0x3bd58b(0x769)],'label':_0x130ef5[_0x3bd58b(0x4c4)](),'remoteId':_0x4a72c0})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x415c94=this['configs'][_0x3bd58b(0x5ee)][_0x3bd58b(0x4a5)](_0xe37d53);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x415c94[_0x3bd58b(0x4c4)](),'distance':0x0,'subscriptionLabel':_0x423228(_0x36e0f1[_0x3bd58b(0x6e6)],{'contentType':_0x4b08d8[_0x3bd58b(0x758)]['Media'],'label':_0x415c94[_0x3bd58b(0x4c4)](),'remoteId':_0x4a72c0})};}[_0x5d07ed(0x350)](){const _0x173116=_0x5d07ed;return Array[_0x173116(0x45d)](this[_0x173116(0x50e)][_0x173116(0x709)][_0x173116(0x636)]())[_0x173116(0x759)](([_0x362e95,{source:_0x12206b}])=>_0x362e95[_0x173116(0x671)](_0x36e0f1[_0x173116(0x6e6)])&&_0x12206b['getContentType']()===_0x4b08d8[_0x173116(0x758)][_0x173116(0x769)])[_0x173116(0x57d)];}['canProvideResolution'](_0x4e51b2,_0x3cef47){const _0x3ac22e=_0x5d07ed;if(!_0x3cef47||!_0x3cef47[_0x3ac22e(0x2b9)]||'boolean'==typeof _0x3cef47[_0x3ac22e(0x2b9)]||!_0x3cef47['video'][_0x3ac22e(0x266)])return!0x0;const {width:_0x30ae61,height:_0x347e74}=_0x3cef47[_0x3ac22e(0x2b9)][_0x3ac22e(0x266)];return _0x4e51b2[_0x3ac22e(0x249)]>=_0x30ae61&&_0x4e51b2[_0x3ac22e(0x323)]>=_0x347e74;}}class _0x3791d5{[_0x5d07ed(0x6b3)];[_0x5d07ed(0x369)];[_0x5d07ed(0x29c)];[_0x5d07ed(0x63a)];[_0x5d07ed(0x20a)];['outgoingManager'];constructor(_0x490070,_0x126993,_0x326599){const _0xcae900=_0x5d07ed;this[_0xcae900(0x6b3)]=_0x490070,this[_0xcae900(0x369)]=_0x126993,this[_0xcae900(0x29c)]=_0x326599,this[_0xcae900(0x6b3)][_0xcae900(0x5ee)][_0xcae900(0x796)](this),this[_0xcae900(0x20a)]=new _0x21e77e(this[_0xcae900(0x6b3)],this[_0xcae900(0x29c)]),this[_0xcae900(0x2c2)]=new _0x99ddc8(this['configs'],this[_0xcae900(0x369)]);}['registerSystemPublisher'](_0x63bb36){const _0x23917b=_0x5d07ed;this[_0x23917b(0x63a)]=_0x63bb36;}[_0x5d07ed(0x6d2)](){const _0x5186c9=_0x5d07ed;delete this[_0x5186c9(0x63a)];}[_0x5d07ed(0x6d1)](){const _0x47bba8=_0x5d07ed;this[_0x47bba8(0x20a)][_0x47bba8(0x6d1)](),this[_0x47bba8(0x2c2)][_0x47bba8(0x6d1)](),this['configs'][_0x47bba8(0x5ee)][_0x47bba8(0x61b)](this);}['createIncomingSubscription'](_0x1d78b7,_0x46513f){const _0x33fea4=_0x5d07ed;this[_0x33fea4(0x20a)]['createSubscription'](_0x1d78b7,_0x46513f);}[_0x5d07ed(0x72a)](_0x33d918,_0x2be95d){const _0x5f41d7=_0x5d07ed;this['outgoingManager'][_0x5f41d7(0x76a)](_0x33d918,_0x2be95d);}[_0x5d07ed(0x2e8)](_0x2aa402,_0x40378d,_0x5d218c=''){const _0x9c8ab=_0x5d07ed;this[_0x9c8ab(0x20a)][_0x9c8ab(0x2b4)](_0x2aa402,_0x40378d,_0x5d218c);}[_0x5d07ed(0x2de)](_0x4bf91c,_0x3181a7,_0x5f4b33=''){const _0x4e1aae=_0x5d07ed;try{this[_0x4e1aae(0x2c2)]['removeSubscription'](_0x4bf91c,_0x3181a7,_0x5f4b33);}catch(_0x371425){if(_0x371425 instanceof _0x187b09&&_0x371425[_0x4e1aae(0x41f)]===_0x187b09[_0x4e1aae(0x545)][_0x4e1aae(0x4d5)])return;}}[_0x5d07ed(0x61d)](_0x48fac2){const _0x502b37=_0x5d07ed;switch(_0x48fac2[_0x502b37(0x226)][_0x502b37(0x4ba)]){case _0x653563[_0x502b37(0x33c)]:this['handleSubscriptionSubscribeMediaStream'](_0x48fac2['sourceId'],_0x48fac2[_0x502b37(0x226)]);break;case _0x653563[_0x502b37(0x6b8)]:this[_0x502b37(0x2c2)][_0x502b37(0x6f8)](_0x48fac2[_0x502b37(0x510)],_0x48fac2[_0x502b37(0x226)]);break;case _0x653563['NeedMediaStream']:this[_0x502b37(0x420)](_0x48fac2[_0x502b37(0x510)],_0x48fac2[_0x502b37(0x226)]);break;case _0x653563[_0x502b37(0x313)]:this[_0x502b37(0x20a)][_0x502b37(0x52e)](_0x48fac2[_0x502b37(0x510)],_0x48fac2[_0x502b37(0x226)]);break;case _0x653563[_0x502b37(0x478)]:case _0x653563['CannotProvideMediaStream']:this[_0x502b37(0x20a)][_0x502b37(0x606)](_0x48fac2[_0x502b37(0x510)],_0x48fac2[_0x502b37(0x226)]);break;case _0x653563[_0x502b37(0x578)]:this[_0x502b37(0x20a)][_0x502b37(0x51f)](_0x48fac2[_0x502b37(0x510)],_0x48fac2[_0x502b37(0x226)]);}}[_0x5d07ed(0x6f0)](_0x36d4e9){const _0x321f8b=_0x5d07ed;switch(_0x36d4e9[_0x321f8b(0x226)][_0x321f8b(0x4ba)]){case _0x459e26[_0x321f8b(0x666)]:this[_0x321f8b(0x20a)]['handleContentUnpublishMediaStream'](_0x36d4e9[_0x321f8b(0x226)]),this['outgoingManager'][_0x321f8b(0x745)](_0x36d4e9['content']);break;case _0x459e26[_0x321f8b(0x33c)]:this['incomingManager'][_0x321f8b(0x2f7)](_0x36d4e9[_0x321f8b(0x226)]);break;case _0x459e26[_0x321f8b(0x77c)]:this[_0x321f8b(0x20a)][_0x321f8b(0x2dd)](_0x36d4e9[_0x321f8b(0x226)]);break;case _0x459e26['UnsubscribeMediaStream']:this[_0x321f8b(0x201)](_0x36d4e9['sourceId'],_0x36d4e9[_0x321f8b(0x226)]);break;case _0x459e26[_0x321f8b(0x2c3)]:this[_0x321f8b(0x2c2)][_0x321f8b(0x650)](_0x36d4e9['content']);break;case _0x459e26[_0x321f8b(0x682)]:this[_0x321f8b(0x698)](_0x36d4e9[_0x321f8b(0x226)]);break;case _0x459e26[_0x321f8b(0x5bf)]:this[_0x321f8b(0x595)](_0x36d4e9[_0x321f8b(0x226)]);break;case _0x459e26[_0x321f8b(0x791)]:this[_0x321f8b(0x446)](_0x36d4e9[_0x321f8b(0x226)]);break;case _0x459e26[_0x321f8b(0x305)]:this[_0x321f8b(0x20a)][_0x321f8b(0x780)](_0x36d4e9[_0x321f8b(0x226)]);}}['handleNodeSystemEvents']({content:_0x5df632}){const _0x193f34=_0x5d07ed;_0x5df632['type']===_0x2511d0['NodeLeave']&&this[_0x193f34(0x4c8)](_0x5df632);}[_0x5d07ed(0x78f)](_0x1a9a7c){const _0x2d4d18=_0x5d07ed;_0x1a9a7c[_0x2d4d18(0x226)][_0x2d4d18(0x4ba)]===_0x2c6c4e[_0x2d4d18(0x471)]&&this['incomingManager'][_0x2d4d18(0x442)](_0x1a9a7c['sourceId']);}['handleContentUnsubscribeMediaStream'](_0x545b4d,_0x4d0179){const _0x3db21c=_0x5d07ed;this[_0x3db21c(0x20a)]['handleContentUnsubscribeMediaStream'](_0x4d0179),this['outgoingManager'][_0x3db21c(0x201)](_0x545b4d,_0x4d0179)[_0x3db21c(0x487)](_0x1653e4=>this[_0x3db21c(0x63a)][_0x3db21c(0x3f9)](_0x1653e4));}[_0x5d07ed(0x37f)](_0x32334d,_0x427cdd){const _0x42bb2d=_0x5d07ed,_0x2fc10f=this[_0x42bb2d(0x2c2)][_0x42bb2d(0x37f)](_0x32334d,_0x427cdd);if(_0x2fc10f&&(this[_0x42bb2d(0x63a)][_0x42bb2d(0x3f9)]({'sourceId':this['configs'][_0x42bb2d(0x67d)][_0x42bb2d(0x580)](),'destinationIds':[_0x32334d],'messageType':_0x772a3e[_0x42bb2d(0x674)],'content':_0x2fc10f}),_0x2fc10f[_0x42bb2d(0x4ba)]===_0x653563[_0x42bb2d(0x313)]))throw new _0x43b1de(_0x42bb2d(0x565));}[_0x5d07ed(0x420)](_0x2bc088,_0x53acc4){const _0x142aa0=_0x5d07ed,_0x2ecabe=this[_0x142aa0(0x2c2)][_0x142aa0(0x420)](_0x2bc088,_0x53acc4);this['systemTopic'][_0x142aa0(0x3f9)]({'sourceId':this[_0x142aa0(0x6b3)]['localNode'][_0x142aa0(0x580)](),'destinationIds':[_0x2bc088],'messageType':_0x772a3e[_0x142aa0(0x674)],'content':_0x2ecabe});}[_0x5d07ed(0x595)]({label:_0x2646af}){const _0x3e1749=_0x5d07ed;this[_0x3e1749(0x2e8)](_0x2646af,_0x4b08d8['ContentType'][_0x3e1749(0x56d)]),this['removeOutgoingSubscription'](_0x2646af,_0x4b08d8['ContentType'][_0x3e1749(0x56d)]);}[_0x5d07ed(0x446)]({label:_0x3d30d1}){const _0x488e88=_0x5d07ed;this[_0x488e88(0x2e8)](_0x3d30d1,_0x4b08d8[_0x488e88(0x758)][_0x488e88(0x298)]),this[_0x488e88(0x2de)](_0x3d30d1,_0x4b08d8[_0x488e88(0x758)][_0x488e88(0x298)]);}['handleContentClosePubSubTopic']({label:_0x3fd829}){const _0x381c1a=_0x5d07ed;this[_0x381c1a(0x2e8)](_0x3fd829,_0x4b08d8['ContentType'][_0x381c1a(0x540)]),this['removeOutgoingSubscription'](_0x3fd829,_0x4b08d8['ContentType'][_0x381c1a(0x540)]);}[_0x5d07ed(0x4c8)]({id:_0x493515}){const _0x307db0=_0x5d07ed;this[_0x307db0(0x20a)][_0x307db0(0x4c8)](_0x493515),this[_0x307db0(0x2c2)][_0x307db0(0x4c8)](_0x493515);}}class _0x31dfc6{['label'];[_0x5d07ed(0x742)]=_0xf03f60();constructor(){const _0x15951e=_0x5d07ed;this[_0x15951e(0x710)]=0x0;}[_0x5d07ed(0x33a)](){return this['label'];}[_0x5d07ed(0x3cc)](){const _0x413d76=_0x5d07ed;return _0x4b08d8['ContentType'][_0x413d76(0x6d7)];}[_0x5d07ed(0x4b0)](_0x1833b4){const _0x46564a=_0x5d07ed;_0x1833b4[_0x46564a(0x3a5)](this);}[_0x5d07ed(0x71e)](_0x4f4148){const _0xacb45a=_0x5d07ed;_0x4f4148[_0xacb45a(0x6d2)]();}[_0x5d07ed(0x3f9)](_0x441e53){const _0x3e2d48=_0x5d07ed;_0x218f12[_0x3e2d48(0x59a)](_0x4f0e27['Events'],_0x3e2d48(0x485),_0x441e53[_0x3e2d48(0x510)],_0x441e53),this[_0x3e2d48(0x742)]['publish']({'topicLabel':this['label'],'contentType':_0x4b08d8[_0x3e2d48(0x758)][_0x3e2d48(0x6d7)],'uuid':_0x441e53[_0x3e2d48(0x65f)]??(0x0,_0x200f3e['v4'])(),'recipients':_0x441e53[_0x3e2d48(0x583)]??[],..._0x441e53});}[_0x5d07ed(0x354)](_0x2af85a){const _0x1c83d3=_0x5d07ed;return this[_0x1c83d3(0x742)][_0x1c83d3(0x354)](_0x2af85a);}}class _0x192aa1{['minConnections'];[_0x5d07ed(0x6e7)];['maxDistance'];['ranges']=[];[_0x5d07ed(0x534)];[_0x5d07ed(0x5c5)]=new Map();constructor(_0x93a7e0,_0x5deecb,_0x40f5ec){const _0x21b718=_0x5d07ed;this[_0x21b718(0x40f)]=_0x93a7e0,this[_0x21b718(0x6e7)]=_0x5deecb,this['maxDistance']=_0x40f5ec,this[_0x21b718(0x534)]=(this[_0x21b718(0x6e7)]-0x2*this[_0x21b718(0x40f)])/0x2,this[_0x21b718(0x508)]['push']({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x431fa2=0x0;_0x431fa2<this[_0x21b718(0x534)];++_0x431fa2)this[_0x21b718(0x508)][_0x21b718(0x4d7)]({'start':this['getNextTargetRank'](0x1,_0x431fa2+0x1),'end':this['getNextTargetRank'](0x1,_0x431fa2+0x2)-0x1});}['getNextTargetRank'](_0x16926f,_0x3f241f=0x1){const _0x4c557c=_0x5d07ed;let _0x22f42e=this['maxDistance']-this[_0x4c557c(0x40f)],_0xde42e5=0x1;for(let _0x570062=0x1;_0x570062<_0x3f241f;++_0x570062)_0x22f42e*=this[_0x4c557c(0x29c)]-this[_0x4c557c(0x40f)]-_0x570062,_0xde42e5*=this[_0x4c557c(0x29c)]-this[_0x4c557c(0x40f)]-_0x570062+0x1;return _0x22f42e*this[_0x4c557c(0x40f)]+_0x16926f-_0xde42e5;}[_0x5d07ed(0x3bf)](_0x2cdf1c){const _0x29216e=_0x5d07ed;let _0x5b8c42=0x0;for(;this[_0x29216e(0x508)][_0x5b8c42][_0x29216e(0x278)]<_0x2cdf1c;)_0x5b8c42+=0x1;return _0x5b8c42;}[_0x5d07ed(0x672)](){return this['minConnections'];}['getMaxConnections'](){const _0x44e2c7=_0x5d07ed;return this[_0x44e2c7(0x6e7)];}['getMaxDistance'](){const _0x4ce6cb=_0x5d07ed;return this[_0x4ce6cb(0x29c)];}[_0x5d07ed(0x790)](){const _0x1f61a0=_0x5d07ed;return this[_0x1f61a0(0x5c5)];}[_0x5d07ed(0x36b)](_0xf5b3f1,_0x4e8a93){this['remoteNodes']['set'](_0xf5b3f1,_0x4e8a93);}['hasRemoteNode'](_0x58e967){const _0x23439d=_0x5d07ed;return this['remoteNodes'][_0x23439d(0x461)](_0x58e967);}['getRemoteNode'](_0x186ddc){const _0x87ad02=_0x5d07ed;return this[_0x87ad02(0x5c5)][_0x87ad02(0x58c)](_0x186ddc);}[_0x5d07ed(0x49e)](_0x4d1011){const _0x5340ba=_0x5d07ed;this[_0x5340ba(0x5c5)][_0x5340ba(0x702)](_0x4d1011);}[_0x5d07ed(0x445)](_0x3b7bde,_0x16e775){const _0x3933d7=_0x5d07ed,_0x28a4d8=this[_0x3933d7(0x542)](_0x16e775)?.[_0x3933d7(0x693)]()??0x0;return _0x3b7bde[_0x3933d7(0x326)](_0xb325d9=>this[_0x3933d7(0x542)](_0xb325d9))[_0x3933d7(0x759)](_0x5222a3=>void 0x0!==_0x5222a3)[_0x3933d7(0x20c)]((_0x2f6360,_0x2142f0)=>Math[_0x3933d7(0x279)](_0x28a4d8-(_0x2f6360&&_0x2f6360[_0x3933d7(0x693)]()||0x1/0x0))-Math[_0x3933d7(0x279)](_0x28a4d8-(_0x2142f0&&_0x2142f0[_0x3933d7(0x693)]()||0x1/0x0)))[_0x3933d7(0x326)](_0x5baef7=>_0x5baef7[_0x3933d7(0x580)]());}}class _0x519da8{[_0x5d07ed(0x441)];[_0x5d07ed(0x316)];['authService'];[_0x5d07ed(0x46d)];[_0x5d07ed(0x6b3)];[_0x5d07ed(0x632)];[_0x5d07ed(0x633)];[_0x5d07ed(0x646)];[_0x5d07ed(0x75c)];['statsManager'];['detectionManager'];[_0x5d07ed(0x61e)];[_0x5d07ed(0x773)];['graphService'];[_0x5d07ed(0x63a)]=new _0x31dfc6();[_0x5d07ed(0x3af)];[_0x5d07ed(0x67d)];constructor(_0x4a9e44,_0xaa2a1,_0x5edb1b,_0x21be2d,_0x2afe12,_0x131b50,_0xeed418){const _0x3f464e=_0x5d07ed;switch(this[_0x3f464e(0x441)]=_0x4a9e44,this[_0x3f464e(0x316)]=_0xaa2a1,this[_0x3f464e(0x2d1)]=_0x21be2d,this[_0x3f464e(0x46d)]=_0x2afe12,this[_0x3f464e(0x6b3)]=_0x131b50,this[_0x3f464e(0x632)]=_0xeed418,_0x5edb1b[_0x3f464e(0x4ba)]){case _0x4b08d8[_0x3f464e(0x532)][_0x3f464e(0x211)]:this['localNode']=new _0x1fa733(_0x5edb1b[_0x3f464e(0x580)](),_0x5edb1b[_0x3f464e(0x20d)](),_0x5edb1b[_0x3f464e(0x5b2)]());break;case _0x4b08d8[_0x3f464e(0x532)][_0x3f464e(0x46b)]:default:this[_0x3f464e(0x67d)]=new _0x56b6f7(_0x5edb1b['getId']());}const _0x7a15d1=this['getConfigs']();this[_0x3f464e(0x573)]=new _0x192aa1(this['options'][_0x3f464e(0x40f)],this[_0x3f464e(0x46d)][_0x3f464e(0x6e7)],this[_0x3f464e(0x46d)][_0x3f464e(0x29c)]),this[_0x3f464e(0x633)]=new _0x4da544(_0x7a15d1,this[_0x3f464e(0x46d)]['maxFps'],this[_0x3f464e(0x46d)][_0x3f464e(0x731)]),this[_0x3f464e(0x646)]=new _0x27aeb3(_0x7a15d1,this[_0x3f464e(0x2d1)],this[_0x3f464e(0x6b3)][_0x3f464e(0x77e)],this[_0x3f464e(0x46d)][_0x3f464e(0x3a8)],this[_0x3f464e(0x46d)]['maxBpp'],this[_0x3f464e(0x573)],this['options']['peerConnectionConnector']),this[_0x3f464e(0x75c)]=new _0x3791d5(_0x7a15d1,this[_0x3f464e(0x46d)][_0x3f464e(0x369)],this[_0x3f464e(0x573)][_0x3f464e(0x557)]()),this[_0x3f464e(0x511)]=new _0x424f7d(_0x7a15d1),this[_0x3f464e(0x53c)]=new _0x283a5b(_0x7a15d1),this[_0x3f464e(0x61e)]=new _0x159af0(_0x7a15d1),this['nodeManager']=new _0x1dcdf1(_0x7a15d1,this['graphService'],this[_0x3f464e(0x67d)]),this[_0x3f464e(0x3af)]=this[_0x3f464e(0x3d2)]();}[_0x5d07ed(0x584)](){const _0x14762e=_0x5d07ed,_0x134aa6=this['getConfigs']();this[_0x14762e(0x646)]=new _0x27aeb3(_0x134aa6,this[_0x14762e(0x2d1)],this[_0x14762e(0x6b3)][_0x14762e(0x77e)],this[_0x14762e(0x46d)][_0x14762e(0x3a8)],this[_0x14762e(0x46d)][_0x14762e(0x577)],this[_0x14762e(0x573)],this[_0x14762e(0x46d)][_0x14762e(0x272)]),this['subscriptionManager']=new _0x3791d5(_0x134aa6,this[_0x14762e(0x46d)][_0x14762e(0x369)],this[_0x14762e(0x573)][_0x14762e(0x557)]()),this['statsManager']=new _0x424f7d(_0x134aa6),this[_0x14762e(0x53c)]=new _0x283a5b(_0x134aa6),this[_0x14762e(0x61e)]=new _0x159af0(_0x134aa6),this['nodeManager']=new _0x1dcdf1(_0x134aa6,this[_0x14762e(0x573)],this[_0x14762e(0x67d)]);const _0x132643=this[_0x14762e(0x646)][_0x14762e(0x6af)]();this[_0x14762e(0x633)]['getPubSubTopics']()[_0x14762e(0x487)](_0x4a753a=>{const _0x43d82e=_0x14762e;this[_0x43d82e(0x75c)]['createOutgoingSubscription'](_0x4a753a,_0x132643),this[_0x43d82e(0x75c)][_0x43d82e(0x438)](_0x132643,_0x4a753a);}),this[_0x14762e(0x633)][_0x14762e(0x679)]()[_0x14762e(0x487)](_0xb26dd3=>{const _0x435b0d=_0x14762e;this[_0x435b0d(0x75c)][_0x435b0d(0x72a)](_0xb26dd3,_0x132643),this[_0x435b0d(0x75c)][_0x435b0d(0x438)](_0x132643,_0xb26dd3);}),this[_0x14762e(0x633)][_0x14762e(0x3de)]()[_0x14762e(0x487)](_0x4336c5=>{const _0x5d5019=_0x14762e;this['subscriptionManager'][_0x5d5019(0x72a)](_0x4336c5,_0x132643),this[_0x5d5019(0x75c)][_0x5d5019(0x438)](_0x132643,_0x4336c5);}),this['systemTopicUnsubscribe']=this[_0x14762e(0x3d2)]();}[_0x5d07ed(0x796)](_0x235c34){const _0x2b4946=_0x5d07ed;try{this[_0x2b4946(0x63a)][_0x2b4946(0x4b0)](_0x235c34);}catch(_0x5f2739){this[_0x2b4946(0x4d2)](_0x5f2739,{});}}[_0x5d07ed(0x61b)](_0x42908c){const _0x46d384=_0x5d07ed;try{this[_0x46d384(0x63a)][_0x46d384(0x71e)](_0x42908c);}catch(_0x14fcfd){this[_0x46d384(0x4d2)](_0x14fcfd,{});}}[_0x5d07ed(0x5e9)](_0x331327,_0x308147){const _0x1938e7=_0x5d07ed;return this[_0x1938e7(0x646)][_0x1938e7(0x5e9)](_0x331327,_0x308147);}[_0x5d07ed(0x730)](_0x3a8013){const _0x20ea28=_0x5d07ed;try{return this[_0x20ea28(0x646)][_0x20ea28(0x730)](_0x3a8013);}catch(_0x3b3179){throw this[_0x20ea28(0x4d2)](_0x3b3179,{});}}[_0x5d07ed(0x31f)](_0x3e5879){const _0x147cdc=_0x5d07ed;try{return this[_0x147cdc(0x646)]['getConnections'](_0x3e5879);}catch(_0x31ff86){throw this[_0x147cdc(0x4d2)](_0x31ff86,{});}}[_0x5d07ed(0x4fa)](_0x575f7c,_0x472eab){const _0x5b4c90=_0x5d07ed;try{return this['contentManager'][_0x5b4c90(0x515)](_0x23c34e=>_0x23c34e[_0x5b4c90(0x695)]()===_0x575f7c&&_0x23c34e[_0x5b4c90(0x33a)]()===_0x472eab)[0x0];}catch(_0x112fba){throw this[_0x5b4c90(0x4d2)](_0x112fba,{});}}['getLocalMediaStream'](_0x4d0692){const _0xeeae8d=_0x5d07ed;try{return this['contentManager']['getLocalMediaStreams'](_0x23d51a=>_0x23d51a[_0xeeae8d(0x33a)]()===_0x4d0692)[0x0];}catch(_0x56a99d){throw this['handleError'](_0x56a99d,{});}}['notifyCluster']=(..._0x370bfb)=>{const _0x1ecf40=_0x5d07ed;try{return this[_0x1ecf40(0x632)][_0x1ecf40(0x28c)](..._0x370bfb);}catch(_0x2abdbe){throw this[_0x1ecf40(0x4d2)](_0x2abdbe,{});}};['registerRemoteNode'](_0x42105b){const _0x49e82c=_0x5d07ed;try{this[_0x49e82c(0x511)][_0x49e82c(0x541)](_0x42105b);}catch(_0xb00236){throw this[_0x49e82c(0x4d2)](_0xb00236,{});}}[_0x5d07ed(0x48d)](_0xaa1c0a){const _0xc5174b=_0x5d07ed;try{this[_0xc5174b(0x511)][_0xc5174b(0x5cc)](_0xaa1c0a);}catch(_0x22a818){throw this['handleError'](_0x22a818,{});}}[_0x5d07ed(0x389)](_0x16336c){const _0x2bcba9=_0x5d07ed;return this[_0x2bcba9(0x646)][_0x2bcba9(0x389)](_0x16336c);}async['initialize'](){const _0x65acbc=_0x5d07ed;try{await this[_0x65acbc(0x646)][_0x65acbc(0x30e)]();const _0xfecfdd=await this[_0x65acbc(0x773)]['discover']();for(const _0x273430 of _0xfecfdd)this['connectionManager']['createConnection'](_0x273430);}catch(_0x88ddd9){throw this[_0x65acbc(0x4d2)](_0x88ddd9,{});}}[_0x5d07ed(0x3e4)](_0x37b9e9){const _0x34c4a1=_0x5d07ed;this[_0x34c4a1(0x67d)][_0x34c4a1(0x4ba)]===_0x4b08d8[_0x34c4a1(0x532)][_0x34c4a1(0x211)]&&(this[_0x34c4a1(0x67d)]['setEmail'](_0x37b9e9[_0x34c4a1(0x5b2)]()),this[_0x34c4a1(0x67d)]['setDisplayName'](_0x37b9e9['getDisplayName']()));}[_0x5d07ed(0x6d1)](_0x282256=!0x1){const _0x4be588=_0x5d07ed;this['systemTopicUnsubscribe'](),this['remediationManager'][_0x4be588(0x6d1)](),this['detectionManager'][_0x4be588(0x6d1)](),this[_0x4be588(0x511)][_0x4be588(0x6d1)](),this[_0x4be588(0x75c)][_0x4be588(0x6d1)](),this[_0x4be588(0x646)]['close'](),this['contentManager'][_0x4be588(0x6d1)](_0x282256),this['nodeManager'][_0x4be588(0x6d1)]();}[_0x5d07ed(0x60a)](_0x202950){const _0x3aaabd=_0x5d07ed;try{const _0x2e3f4f=this[_0x3aaabd(0x633)][_0x3aaabd(0x70c)](_0x202950),_0x113ea2=this[_0x3aaabd(0x646)][_0x3aaabd(0x6af)]();return this[_0x3aaabd(0x75c)][_0x3aaabd(0x72a)](_0x2e3f4f,_0x113ea2),this[_0x3aaabd(0x75c)][_0x3aaabd(0x438)](_0x113ea2,_0x2e3f4f),_0x2e3f4f;}catch(_0x23fa5a){throw this[_0x3aaabd(0x4d2)](_0x23fa5a,{});}}async['openObjectStoreBucket'](_0x334534){const _0x5e6f1c=_0x5d07ed;try{const _0x2ef8b1=this[_0x5e6f1c(0x633)][_0x5e6f1c(0x61a)](_0x334534,this['options']['objectStoreConnector']),_0x1b03ea=this['connectionManager'][_0x5e6f1c(0x6af)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x2ef8b1,_0x1b03ea),this[_0x5e6f1c(0x75c)][_0x5e6f1c(0x438)](_0x1b03ea,_0x2ef8b1),await _0x2ef8b1[_0x5e6f1c(0x4ce)](),_0x2ef8b1;}catch(_0x4841c8){throw this[_0x5e6f1c(0x4d2)](_0x4841c8,{});}}async[_0x5d07ed(0x251)](_0x50a7af,_0x164f66){const _0x13c0f4=_0x5d07ed;try{const _0x411574=await this[_0x13c0f4(0x633)][_0x13c0f4(0x48e)](_0x50a7af,_0x164f66,this[_0x13c0f4(0x46d)][_0x13c0f4(0x426)]),_0x14e7ce=this[_0x13c0f4(0x646)][_0x13c0f4(0x6af)]();return this[_0x13c0f4(0x75c)]['createOutgoingSubscription'](_0x411574,_0x14e7ce),this[_0x13c0f4(0x75c)][_0x13c0f4(0x438)](_0x14e7ce,_0x411574),await _0x411574['open'](),this['syncKeyValueDatabase'](_0x411574),_0x411574;}catch(_0x226f9e){throw this[_0x13c0f4(0x4d2)](_0x226f9e,{});}}[_0x5d07ed(0x61c)](_0x595c27){const _0x17d010=_0x5d07ed;try{return this['contentManager'][_0x17d010(0x61c)](_0x595c27);}catch(_0x21638f){throw this[_0x17d010(0x4d2)](_0x21638f,{});}}['getObjectStoreBuckets'](_0x4481dc){const _0x2ee613=_0x5d07ed;try{return this[_0x2ee613(0x633)]['getObjectStoreBuckets'](_0x4481dc);}catch(_0x41d508){throw this['handleError'](_0x41d508,{});}}['getKeyValueDatabases'](_0x19ba8d){const _0x36a06f=_0x5d07ed;try{return this[_0x36a06f(0x633)][_0x36a06f(0x3de)](_0x19ba8d);}catch(_0x5ae035){throw this[_0x36a06f(0x4d2)](_0x5ae035,{});}}[_0x5d07ed(0x4df)](_0x189035,_0x1a35ef){const _0x120899=_0x5d07ed;if(!this[_0x120899(0x6b3)][_0x120899(0x692)][_0x120899(0x610)](_0x81f702[_0x120899(0x26a)]))throw new _0xc4bd71(_0x294755['FeatureNotEnabled'],_0x120899(0x764));try{return this[_0x120899(0x633)]['createLocalMediaStream'](_0x189035,_0x1a35ef);}catch(_0x33a10c){throw this[_0x120899(0x4d2)](_0x33a10c,{});}}[_0x5d07ed(0x6ea)](_0x466033,_0x4045b2){const _0x39f3e8=_0x5d07ed;if(!this[_0x39f3e8(0x6b3)][_0x39f3e8(0x692)][_0x39f3e8(0x610)](_0x81f702[_0x39f3e8(0x26a)]))throw new _0xc4bd71(_0x294755[_0x39f3e8(0x36c)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x39f3e8(0x6ea)](_0x466033,_0x4045b2);}catch(_0xf6ea09){throw this[_0x39f3e8(0x4d2)](_0xf6ea09,{});}}[_0x5d07ed(0x459)](_0x387087){const _0x5789a9=_0x5d07ed;if(!this[_0x5789a9(0x6b3)][_0x5789a9(0x692)]['includes'](_0x81f702[_0x5789a9(0x26a)]))throw new _0xc4bd71(_0x294755[_0x5789a9(0x36c)],_0x5789a9(0x764));try{return this[_0x5789a9(0x633)][_0x5789a9(0x459)](_0x387087);}catch(_0x2f3564){throw this[_0x5789a9(0x4d2)](_0x2f3564,{});}}['getRemoteMediaStreams'](_0x4e1ca2){const _0x322a89=_0x5d07ed;if(!this[_0x322a89(0x6b3)][_0x322a89(0x692)][_0x322a89(0x610)](_0x81f702['MediaStream']))throw new _0xc4bd71(_0x294755[_0x322a89(0x36c)],_0x322a89(0x764));try{return this[_0x322a89(0x633)][_0x322a89(0x515)](_0x4e1ca2);}catch(_0x59e136){throw this['handleError'](_0x59e136,{});}}['getDistance'](_0x4b8685,_0x1f09d7){const _0x2b87cb=_0x5d07ed;return this[_0x2b87cb(0x773)][_0x2b87cb(0x1fd)](_0x4b8685,_0x1f09d7);}[_0x5d07ed(0x63b)](){const _0x2b75e4=_0x5d07ed;return this[_0x2b75e4(0x773)]['getLocalNode']();}[_0x5d07ed(0x790)](_0x3bebde){const _0x15b5cf=_0x5d07ed;try{return this[_0x15b5cf(0x773)]['getRemoteNodes'](_0x3bebde);}catch(_0x4e67f5){throw this[_0x15b5cf(0x4d2)](_0x4e67f5,{});}}async[_0x5d07ed(0x379)](_0x38c84e){const _0x156cb6=_0x5d07ed;try{if(_0x218f12[_0x156cb6(0x59a)](_0x4f0e27['Events'],'Orchestrator\x20handleSystemEvents',this[_0x156cb6(0x773)][_0x156cb6(0x5da)](),_0x38c84e),_0x5c1acf(_0x38c84e,this[_0x156cb6(0x773)][_0x156cb6(0x5da)]()))return void this['connectionManager'][_0x156cb6(0x6a9)](_0x38c84e);switch(_0x38c84e[_0x156cb6(0x5e7)]){case _0x772a3e[_0x156cb6(0x68e)]:this['statsManager'][_0x156cb6(0x6f0)](_0x38c84e),this['subscriptionManager']['handleContentSystemEvents'](_0x38c84e),this[_0x156cb6(0x633)][_0x156cb6(0x6f0)](_0x38c84e);break;case _0x772a3e[_0x156cb6(0x747)]:this[_0x156cb6(0x75c)][_0x156cb6(0x23e)](_0x38c84e),this[_0x156cb6(0x646)][_0x156cb6(0x23e)](_0x38c84e),this[_0x156cb6(0x633)][_0x156cb6(0x23e)](_0x38c84e),this['nodeManager'][_0x156cb6(0x23e)](_0x38c84e);break;case _0x772a3e['Detection']:this[_0x156cb6(0x61e)][_0x156cb6(0x258)](_0x38c84e);break;case _0x772a3e[_0x156cb6(0x398)]:this[_0x156cb6(0x61e)][_0x156cb6(0x38e)](_0x38c84e);break;case _0x772a3e[_0x156cb6(0x5e0)]:this[_0x156cb6(0x53c)][_0x156cb6(0x294)](_0x38c84e);break;case _0x772a3e[_0x156cb6(0x674)]:_0x38c84e[_0x156cb6(0x226)]['type']!==_0x653563[_0x156cb6(0x6b8)]?(this[_0x156cb6(0x75c)][_0x156cb6(0x61d)](_0x38c84e),this[_0x156cb6(0x633)]['handleSubscriptionSystemEvents'](_0x38c84e)):(this[_0x156cb6(0x633)][_0x156cb6(0x61d)](_0x38c84e),this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x38c84e));break;case _0x772a3e[_0x156cb6(0x63e)]:await this[_0x156cb6(0x646)][_0x156cb6(0x78f)](_0x38c84e),this[_0x156cb6(0x511)]['handlePeerConnectionSystemEvents'](_0x38c84e),this[_0x156cb6(0x773)][_0x156cb6(0x78f)](_0x38c84e),this['subscriptionManager']['handlePeerConnectionSystemEvents'](_0x38c84e);}}catch(_0x491df9){throw this[_0x156cb6(0x4d2)](_0x491df9,{});}}[_0x5d07ed(0x4d2)](_0x977ed4,_0x5310d8){const _0x3817f0=_0x5d07ed;if(!(_0x977ed4 instanceof _0x43b1de)){if(_0x977ed4 instanceof _0xc4bd71)throw _0x977ed4;if(!(_0x977ed4 instanceof Error))throw new _0xc4bd71(_0x294755[_0x3817f0(0x28e)],_0x3817f0(0x283)+_0x977ed4);if(!(_0x977ed4 instanceof _0x187b09))throw new _0xc4bd71(_0x294755[_0x3817f0(0x28e)],_0x3817f0(0x711)+_0x977ed4[_0x3817f0(0x5c9)]);switch(_0x977ed4[_0x3817f0(0x41f)]){case _0x187b09[_0x3817f0(0x545)]['MissingSystemTopic']:case _0x187b09[_0x3817f0(0x545)][_0x3817f0(0x782)]:case _0x187b09[_0x3817f0(0x545)][_0x3817f0(0x365)]:case _0x187b09['codes']['ConnectionNotinitialized']:case _0x187b09[_0x3817f0(0x545)]['ConnectionNotConnected']:case _0x187b09[_0x3817f0(0x545)][_0x3817f0(0x221)]:case _0x187b09[_0x3817f0(0x545)]['InvalidPublisher']:case _0x187b09[_0x3817f0(0x545)][_0x3817f0(0x3ae)]:case _0x187b09['codes'][_0x3817f0(0x34e)]:case _0x187b09[_0x3817f0(0x545)][_0x3817f0(0x591)]:case _0x187b09[_0x3817f0(0x545)][_0x3817f0(0x2ac)]:case _0x187b09['codes'][_0x3817f0(0x4d5)]:}throw _0x218f12[_0x3817f0(0x2a2)](_0x3817f0(0x707)+_0x977ed4['message'],{'clusterId':this[_0x3817f0(0x316)],'nodeId':this[_0x3817f0(0x67d)]['getId'](),'nodeType':this['localNode'][_0x3817f0(0x4ba)]},_0x977ed4),new _0xc4bd71(_0x294755[_0x3817f0(0x28e)],_0x3817f0(0x351)+_0x977ed4[_0x3817f0(0x5c9)]);}}[_0x5d07ed(0x619)](){const _0x9eec47=_0x5d07ed;return{'mediator':this,'vendorId':this[_0x9eec47(0x441)],'clusterId':this[_0x9eec47(0x316)],'localNode':this['localNode']};}[_0x5d07ed(0x3d2)](){const _0x3f729d=_0x5d07ed;return this[_0x3f729d(0x63a)][_0x3f729d(0x354)](_0x264814=>{const _0x1fb3ff=_0x3f729d,_0x18d299=_0x3be3b0(_0x264814,this['localNode'][_0x1fb3ff(0x580)]()),_0x3f5acb=_0x264814[_0x1fb3ff(0x5e7)]===_0x772a3e[_0x1fb3ff(0x5e0)]||_0x264814[_0x1fb3ff(0x5e7)]===_0x772a3e['PeerConnection']&&_0x264814[_0x1fb3ff(0x226)][_0x1fb3ff(0x4ba)]===_0x2c6c4e[_0x1fb3ff(0x5e0)]?_0x4f0e27[_0x1fb3ff(0x3b2)]:_0x4f0e27[_0x1fb3ff(0x6e0)];_0x218f12['logRaw'](_0x3f5acb,_0x264814[_0x1fb3ff(0x65f)]+_0x1fb3ff(0x525)+_0x18d299,_0x264814),this['handleSystemEvents'](_0x264814)[_0x1fb3ff(0x37c)](_0x555785=>{const _0x5ab6df=_0x1fb3ff;console[_0x5ab6df(0x2a2)](_0x555785);});});}async['syncKeyValueDatabase'](_0x211b35,_0xff5ab7){const _0xd9868a=_0x5d07ed;_0xff5ab7=this[_0xd9868a(0x4f6)](_0xff5ab7),await _0x211b35[_0xd9868a(0x4ce)](_0xff5ab7,()=>this[_0xd9868a(0x4e9)](_0x211b35,_0xff5ab7));}[_0x5d07ed(0x4f6)](_0x2f08b2){const _0x512006=_0x5d07ed,_0x2ff1cd=this[_0x512006(0x773)][_0x512006(0x20f)]();if(!_0x2f08b2)return _0x2ff1cd[0x0];const _0x4797b0=_0x2ff1cd['findIndex'](_0x5c2c91=>_0x2f08b2===_0x5c2c91),_0x1ede9e=_0x2ff1cd[_0x4797b0+0x1];return _0x2ff1cd[_0x512006(0x57d)]>0x0&&!_0x1ede9e?_0x2f08b2[0x0]:_0x1ede9e;}}class _0x2381e8{['vendorId'];['clusterId'];[_0x5d07ed(0x375)];['eventEmitter'];[_0x5d07ed(0x6a3)];constructor(_0x3b2303,_0x3aff1d,_0x313f8a,_0x401103,_0x56d00f,_0x490a58,_0x5ca604=new _0x5b0fc3()){const _0x1d8428=_0x5d07ed;this[_0x1d8428(0x441)]=_0x3b2303,this[_0x1d8428(0x316)]=_0x3aff1d,this[_0x1d8428(0x375)]=_0x313f8a,this[_0x1d8428(0x6d8)]=_0x5ca604,this[_0x1d8428(0x6a3)]=new _0x519da8(this[_0x1d8428(0x441)],this[_0x1d8428(0x316)],_0x313f8a,_0x401103,_0x56d00f,_0x490a58,this);}async['join'](){const _0x2a30fc=_0x5d07ed;await this['orchestrator'][_0x2a30fc(0x30e)](),this[_0x2a30fc(0x375)][_0x2a30fc(0x4ba)]===_0x4b08d8[_0x2a30fc(0x532)]['User']&&this['authNode'][_0x2a30fc(0x37e)](this[_0x2a30fc(0x316)],_0x15b586=>{const _0x54735c=_0x2a30fc;this[_0x54735c(0x6a3)][_0x54735c(0x3e4)](_0x15b586);});}[_0x5d07ed(0x465)](){const _0x1665d9=_0x5d07ed;this[_0x1665d9(0x6a3)][_0x1665d9(0x6d1)](),this[_0x1665d9(0x375)]['type']===_0x4b08d8['NodeType'][_0x1665d9(0x211)]&&this[_0x1665d9(0x375)][_0x1665d9(0x6f9)](this[_0x1665d9(0x316)]);}[_0x5d07ed(0x60a)](_0x1ef7e4){const _0x509126=_0x5d07ed,_0xb53c12=this[_0x509126(0x6a3)][_0x509126(0x60a)](_0x1ef7e4);return{'getName':_0xb53c12[_0x509126(0x35a)][_0x509126(0x60d)](_0xb53c12),'getOwnerId':_0xb53c12['getOwnerId'][_0x509126(0x60d)](_0xb53c12),'getContentType':_0xb53c12[_0x509126(0x3cc)][_0x509126(0x60d)](_0xb53c12),'publish':_0xb53c12[_0x509126(0x3f9)][_0x509126(0x60d)](_0xb53c12),'subscribe':_0xb53c12[_0x509126(0x354)][_0x509126(0x60d)](_0xb53c12),'unsubscribe':_0xb53c12[_0x509126(0x751)]['bind'](_0xb53c12),'close':_0xb53c12[_0x509126(0x6d1)]['bind'](_0xb53c12)};}async[_0x5d07ed(0x75f)](_0x570f5f){const _0x537150=_0x5d07ed,_0x50eb13=await this[_0x537150(0x6a3)][_0x537150(0x75f)](_0x570f5f);return{'getName':_0x50eb13['getName'][_0x537150(0x60d)](_0x50eb13),'getOwnerId':_0x50eb13[_0x537150(0x695)]['bind'](_0x50eb13),'getContentType':_0x50eb13[_0x537150(0x3cc)][_0x537150(0x60d)](_0x50eb13),'publish':_0x50eb13[_0x537150(0x3f9)][_0x537150(0x60d)](_0x50eb13),'unpublish':_0x50eb13['unpublish']['bind'](_0x50eb13),'get':_0x50eb13[_0x537150(0x58c)][_0x537150(0x60d)](_0x50eb13),'list':_0x50eb13[_0x537150(0x720)]['bind'](_0x50eb13),'subscribe':_0x50eb13[_0x537150(0x354)]['bind'](_0x50eb13),'unsubscribe':_0x50eb13['unsubscribe']['bind'](_0x50eb13),'close':_0x50eb13[_0x537150(0x6d1)][_0x537150(0x60d)](_0x50eb13)};}async[_0x5d07ed(0x251)](_0x537efc,_0x11761e){const _0x5a099b=_0x5d07ed,_0x2ba5ef=await this['orchestrator'][_0x5a099b(0x251)](_0x537efc,_0x11761e);return{'getName':_0x2ba5ef[_0x5a099b(0x35a)][_0x5a099b(0x60d)](_0x2ba5ef),'getOwnerId':_0x2ba5ef[_0x5a099b(0x695)][_0x5a099b(0x60d)](_0x2ba5ef),'getContentType':_0x2ba5ef[_0x5a099b(0x3cc)][_0x5a099b(0x60d)](_0x2ba5ef),'getTable':_0x2ba5ef[_0x5a099b(0x27b)][_0x5a099b(0x60d)](_0x2ba5ef),'subscribe':_0x2ba5ef[_0x5a099b(0x354)][_0x5a099b(0x60d)](_0x2ba5ef),'unsubscribe':_0x2ba5ef[_0x5a099b(0x751)][_0x5a099b(0x60d)](_0x2ba5ef),'close':_0x2ba5ef[_0x5a099b(0x6d1)][_0x5a099b(0x60d)](_0x2ba5ef)};}[_0x5d07ed(0x61c)](_0x30001c){const _0x22f907=_0x5d07ed;return this[_0x22f907(0x6a3)][_0x22f907(0x61c)](_0x30001c)[_0x22f907(0x326)](_0x526028=>({'getName':_0x526028[_0x22f907(0x35a)][_0x22f907(0x60d)](_0x526028),'getOwnerId':_0x526028['getOwnerId'][_0x22f907(0x60d)](_0x526028),'getContentType':_0x526028['getContentType']['bind'](_0x526028),'publish':_0x526028[_0x22f907(0x3f9)][_0x22f907(0x60d)](_0x526028),'subscribe':_0x526028[_0x22f907(0x354)][_0x22f907(0x60d)](_0x526028),'unsubscribe':_0x526028[_0x22f907(0x751)]['bind'](_0x526028),'close':_0x526028[_0x22f907(0x6d1)][_0x22f907(0x60d)](_0x526028)}));}[_0x5d07ed(0x679)](_0x42b70e){const _0x81dc84=_0x5d07ed;return this[_0x81dc84(0x6a3)][_0x81dc84(0x679)](_0x42b70e)[_0x81dc84(0x326)](_0x3327f0=>({'getName':_0x3327f0['getName'][_0x81dc84(0x60d)](_0x3327f0),'getOwnerId':_0x3327f0[_0x81dc84(0x695)][_0x81dc84(0x60d)](_0x3327f0),'getContentType':_0x3327f0[_0x81dc84(0x3cc)][_0x81dc84(0x60d)](_0x3327f0),'publish':_0x3327f0['publish'][_0x81dc84(0x60d)](_0x3327f0),'unpublish':_0x3327f0[_0x81dc84(0x25a)][_0x81dc84(0x60d)](_0x3327f0),'get':_0x3327f0['get'][_0x81dc84(0x60d)](_0x3327f0),'list':_0x3327f0[_0x81dc84(0x720)]['bind'](_0x3327f0),'subscribe':_0x3327f0[_0x81dc84(0x354)][_0x81dc84(0x60d)](_0x3327f0),'unsubscribe':_0x3327f0[_0x81dc84(0x751)][_0x81dc84(0x60d)](_0x3327f0),'close':_0x3327f0[_0x81dc84(0x6d1)][_0x81dc84(0x60d)](_0x3327f0)}));}[_0x5d07ed(0x3de)](_0x39037d){const _0x272cd1=_0x5d07ed;return this[_0x272cd1(0x6a3)][_0x272cd1(0x3de)](_0x39037d)[_0x272cd1(0x326)](_0x2a6c9a=>({'getName':_0x2a6c9a[_0x272cd1(0x35a)][_0x272cd1(0x60d)](_0x2a6c9a),'getOwnerId':_0x2a6c9a[_0x272cd1(0x695)][_0x272cd1(0x60d)](_0x2a6c9a),'getContentType':_0x2a6c9a[_0x272cd1(0x3cc)][_0x272cd1(0x60d)](_0x2a6c9a),'getTable':_0x2a6c9a[_0x272cd1(0x27b)][_0x272cd1(0x60d)](_0x2a6c9a),'subscribe':_0x2a6c9a[_0x272cd1(0x354)][_0x272cd1(0x60d)](_0x2a6c9a),'unsubscribe':_0x2a6c9a[_0x272cd1(0x751)][_0x272cd1(0x60d)](_0x2a6c9a),'close':_0x2a6c9a['close'][_0x272cd1(0x60d)](_0x2a6c9a)}));}[_0x5d07ed(0x60c)](_0x54b99c,_0x574108){const _0x42cfa7=_0x5d07ed,_0x5ab69d=this['orchestrator'][_0x42cfa7(0x4df)](_0x54b99c,_0x574108);return{'getLabel':_0x5ab69d['getLabel']['bind'](_0x5ab69d),'getOwnerId':_0x5ab69d['getOwnerId'][_0x42cfa7(0x60d)](_0x5ab69d),'getContentType':_0x5ab69d[_0x42cfa7(0x3cc)]['bind'](_0x5ab69d),'getMediaStream':_0x5ab69d[_0x42cfa7(0x543)]['bind'](_0x5ab69d),'setPriority':_0x5ab69d['setPriority']['bind'](_0x5ab69d),'unpublish':_0x5ab69d['unpublish'][_0x42cfa7(0x60d)](_0x5ab69d)};}['publishLocalDynamicMediaStream'](_0x3fd149,_0x293f8a){const _0x2526d5=_0x5d07ed,_0x20191e=this[_0x2526d5(0x6a3)][_0x2526d5(0x6ea)](_0x3fd149,_0x293f8a);return{'getLabel':_0x20191e['getLabel']['bind'](_0x20191e),'getOwnerId':_0x20191e['getOwnerId']['bind'](_0x20191e),'getContentType':_0x20191e[_0x2526d5(0x3cc)][_0x2526d5(0x60d)](_0x20191e),'setPriority':_0x20191e['setPriority'][_0x2526d5(0x60d)](_0x20191e),'unpublish':_0x20191e[_0x2526d5(0x25a)][_0x2526d5(0x60d)](_0x20191e),'getMediaStream':_0x20191e[_0x2526d5(0x543)]['bind'](_0x20191e),'addTrack':_0x20191e['addTrack'][_0x2526d5(0x60d)](_0x20191e),'removeTrack':_0x20191e[_0x2526d5(0x4a3)][_0x2526d5(0x60d)](_0x20191e),'replaceTrack':_0x20191e['replaceTrack'][_0x2526d5(0x60d)](_0x20191e),'setTransformations':_0x20191e['setTransformations'][_0x2526d5(0x60d)](_0x20191e)};}[_0x5d07ed(0x459)](_0x2b50d4){const _0x53c930=_0x5d07ed;return this['orchestrator']['getLocalMediaStreams'](_0x2b50d4)[_0x53c930(0x326)](_0x22b302=>({'getLabel':_0x22b302['getLabel'][_0x53c930(0x60d)](_0x22b302),'getOwnerId':_0x22b302[_0x53c930(0x695)][_0x53c930(0x60d)](_0x22b302),'getContentType':_0x22b302[_0x53c930(0x3cc)][_0x53c930(0x60d)](_0x22b302),'getMediaStream':_0x22b302[_0x53c930(0x543)]['bind'](_0x22b302),'setPriority':_0x22b302['setPriority'][_0x53c930(0x60d)](_0x22b302),'unpublish':_0x22b302[_0x53c930(0x25a)][_0x53c930(0x60d)](_0x22b302)}));}[_0x5d07ed(0x515)](_0x2700b4){const _0xeb489c=_0x5d07ed;return this['orchestrator']['getRemoteMediaStreams'](_0x2700b4)[_0xeb489c(0x326)](_0x2e10e9=>({'getLabel':_0x2e10e9[_0xeb489c(0x33a)][_0xeb489c(0x60d)](_0x2e10e9),'getOwnerId':_0x2e10e9['getOwnerId'][_0xeb489c(0x60d)](_0x2e10e9),'getContentType':_0x2e10e9[_0xeb489c(0x3cc)][_0xeb489c(0x60d)](_0x2e10e9),'getMediaStream':_0x2e10e9[_0xeb489c(0x543)][_0xeb489c(0x60d)](_0x2e10e9),'subscribe':_0x2e10e9[_0xeb489c(0x354)][_0xeb489c(0x60d)](_0x2e10e9),'unsubscribe':_0x2e10e9[_0xeb489c(0x751)][_0xeb489c(0x60d)](_0x2e10e9),'getAvailableTrackKinds':_0x2e10e9[_0xeb489c(0x6c1)][_0xeb489c(0x60d)](_0x2e10e9),'update':_0x2e10e9[_0xeb489c(0x363)][_0xeb489c(0x60d)](_0x2e10e9),'onProviderChanged':_0x2e10e9['onProviderChanged']['bind'](_0x2e10e9)}));}[_0x5d07ed(0x63b)](){const _0x3d2218=_0x5d07ed,_0x16daa3=this['orchestrator'][_0x3d2218(0x63b)]();switch(_0x16daa3[_0x3d2218(0x4ba)]){case _0x4b08d8[_0x3d2218(0x532)][_0x3d2218(0x211)]:return{'type':_0x4b08d8[_0x3d2218(0x532)]['User'],'getId':_0x16daa3[_0x3d2218(0x580)][_0x3d2218(0x60d)](_0x16daa3),'getDisplayName':_0x16daa3[_0x3d2218(0x20d)][_0x3d2218(0x60d)](_0x16daa3),'getEmail':_0x16daa3['getEmail'][_0x3d2218(0x60d)](_0x16daa3),'getRemoteConnections':_0x16daa3[_0x3d2218(0x2e0)][_0x3d2218(0x60d)](_0x16daa3),'setDisplayName':_0x16daa3[_0x3d2218(0x657)]['bind'](_0x16daa3),'setEmail':_0x16daa3[_0x3d2218(0x464)][_0x3d2218(0x60d)](_0x16daa3)};case _0x4b08d8[_0x3d2218(0x532)][_0x3d2218(0x46b)]:default:return{'type':_0x4b08d8[_0x3d2218(0x532)][_0x3d2218(0x46b)],'getId':_0x16daa3[_0x3d2218(0x580)][_0x3d2218(0x60d)](_0x16daa3),'getRemoteConnections':_0x16daa3[_0x3d2218(0x2e0)][_0x3d2218(0x60d)](_0x16daa3)};}}['getRemoteNodes'](_0x2b3473){const _0x45b6b3=_0x5d07ed;return this[_0x45b6b3(0x6a3)][_0x45b6b3(0x790)](_0x2b3473)[_0x45b6b3(0x326)](_0x28f23d=>{const _0x58c213=_0x45b6b3;switch(_0x28f23d[_0x58c213(0x4ba)]){case _0x4b08d8[_0x58c213(0x532)][_0x58c213(0x211)]:return{'type':_0x4b08d8[_0x58c213(0x532)]['User'],'getId':_0x28f23d['getId'][_0x58c213(0x60d)](_0x28f23d),'getDisplayName':_0x28f23d['getDisplayName']['bind'](_0x28f23d),'getEmail':_0x28f23d[_0x58c213(0x5b2)]['bind'](_0x28f23d),'getRemoteConnections':_0x28f23d[_0x58c213(0x2e0)][_0x58c213(0x60d)](_0x28f23d)};case _0x4b08d8['NodeType'][_0x58c213(0x46b)]:return{'type':_0x4b08d8['NodeType'][_0x58c213(0x46b)],'getId':_0x28f23d['getId'][_0x58c213(0x60d)](_0x28f23d),'getRemoteConnections':_0x28f23d[_0x58c213(0x2e0)][_0x58c213(0x60d)](_0x28f23d)};default:throw new _0xc4bd71(_0x294755[_0x58c213(0x718)],_0x58c213(0x691));}});}['on']=(..._0x187102)=>{this['eventEmitter']['on'](..._0x187102);};['emit']=(..._0x35a1a9)=>this[_0x5d07ed(0x6d8)][_0x5d07ed(0x28c)](..._0x35a1a9);[_0x5d07ed(0x3e0)](..._0x4fdcb6){const _0x3eeead=_0x5d07ed;this[_0x3eeead(0x6d8)][_0x3eeead(0x3e0)](..._0x4fdcb6);}}class _0x5569cf{['id'];[_0x5d07ed(0x4ba)]=_0x4b08d8[_0x5d07ed(0x532)][_0x5d07ed(0x46b)];constructor(_0x2f05c6){this['id']=_0x2f05c6;}[_0x5d07ed(0x580)](){return this['id'];}}class _0x19d137{['id'];[_0x5d07ed(0x329)];[_0x5d07ed(0x330)];[_0x5d07ed(0x4ba)]=_0x4b08d8[_0x5d07ed(0x532)][_0x5d07ed(0x211)];[_0x5d07ed(0x67e)]=new Map();[_0x5d07ed(0x6cc)]=_0xf03f60();constructor(_0x2b111a,_0x529ec1,_0x51060b){const _0xb2ea6d=_0x5d07ed;this['id']=_0x2b111a,this[_0xb2ea6d(0x329)]=_0x529ec1,this[_0xb2ea6d(0x330)]=_0x51060b;}['getId'](){return this['id'];}[_0x5d07ed(0x20d)](){const _0xf37ecb=_0x5d07ed;return this[_0xf37ecb(0x329)];}[_0x5d07ed(0x5b2)](){return this['email'];}[_0x5d07ed(0x657)](_0x53a5e0){const _0x4b94ba=_0x5d07ed;this[_0x4b94ba(0x329)]!==_0x53a5e0&&(this[_0x4b94ba(0x329)]=_0x53a5e0,this['observer']['publish'](this));}[_0x5d07ed(0x464)](_0x5f0f1a){const _0x39b952=_0x5d07ed;this['email']!==_0x5f0f1a&&(this[_0x39b952(0x330)]=_0x5f0f1a,this[_0x39b952(0x6cc)][_0x39b952(0x3f9)](this));}[_0x5d07ed(0x37e)](_0x50ae0c,_0x5ef4c6){const _0x271b82=_0x5d07ed;if(this[_0x271b82(0x67e)][_0x271b82(0x461)](_0x50ae0c))return;const _0x3a9095=this[_0x271b82(0x6cc)][_0x271b82(0x354)](_0x5ef4c6);this['joinedClusters'][_0x271b82(0x518)](_0x50ae0c,_0x3a9095);}[_0x5d07ed(0x6f9)](_0x11decb){const _0x4651bc=_0x5d07ed;if(!this[_0x4651bc(0x67e)][_0x4651bc(0x461)](_0x11decb))return;const _0x383a55=this['joinedClusters'][_0x4651bc(0x58c)](_0x11decb);_0x383a55&&_0x383a55(),this['joinedClusters'][_0x4651bc(0x702)](_0x11decb);}}class _0x1e3277{[_0x5d07ed(0x441)];['user'];constructor(_0x10450c){const _0x17eb8a=_0x5d07ed;this[_0x17eb8a(0x441)]=_0x10450c;}async[_0x5d07ed(0x443)](_0x47da9b){const _0x3a19b5=_0x5d07ed,_0x268e2a=await(0x0,_0xa76dc0[_0x3a19b5(0x31a)])(_0x8536d0[_0x3a19b5(0x6ba)](),_0x3a19b5(0x4fd))({'uid':_0x3a19b5(0x327)+this[_0x3a19b5(0x441)]+_0x3a19b5(0x327)+_0x47da9b['id']}),_0x4bc4be=await(0x0,_0x55bfb9[_0x3a19b5(0x480)])(_0x8536d0['getAuth'](),_0x268e2a['data'][_0x3a19b5(0x523)]);this[_0x3a19b5(0x6fb)]=_0x4bc4be[_0x3a19b5(0x6fb)];}['getIdToken'](){const _0x5680b0=_0x5d07ed;return this[_0x5680b0(0x6fb)]?.[_0x5680b0(0x798)]()??Promise[_0x5680b0(0x257)](_0x5680b0(0x4b9));}}class _0x4455c1{static ['instance'];[_0x5d07ed(0x245)]=[];constructor(){}static[_0x5d07ed(0x744)](){const _0x12f6d1=_0x5d07ed;return _0x4455c1[_0x12f6d1(0x43d)]||(_0x4455c1[_0x12f6d1(0x43d)]=new _0x4455c1()),_0x4455c1['instance'];}[_0x5d07ed(0x30e)](){const _0x1446fb=_0x5d07ed;this[_0x1446fb(0x69d)](),this[_0x1446fb(0x507)](),this[_0x1446fb(0x55f)](),this[_0x1446fb(0x3a4)](),this[_0x1446fb(0x684)](),this['checkAudioOutput'](),this[_0x1446fb(0x24e)](),this[_0x1446fb(0x297)](),this['checkWebGL'](),this['checkAudioContext'](),_0x218f12['log'](_0x4f0e27[_0x1446fb(0x70f)],_0x1446fb(0x2da),{'featureSupport':this[_0x1446fb(0x245)]});}[_0x5d07ed(0x6f5)](_0x1404c2){const _0x262fab=_0x5d07ed,_0x2b7222=this['featureSupport'][_0x262fab(0x3d6)](_0x52ccb2=>_0x52ccb2[_0x262fab(0x768)]===_0x1404c2);return!!_0x2b7222&&_0x2b7222[_0x262fab(0x68a)];}[_0x5d07ed(0x3a9)](_0x1e306b){const _0x4bc7f1=_0x5d07ed;_0x218f12[_0x4bc7f1(0x468)](_0x4bc7f1(0x3a0),{'nodeId':_0x1e306b[_0x4bc7f1(0x580)](),'nodeType':_0x1e306b['type'],'data':{'featureSupport':this[_0x4bc7f1(0x245)]}});}['checkWebRTC'](){const _0x12e2b0=_0x5d07ed,_0x44e5c0=_0x4ae6ff[_0x12e2b0(0x404)];let _0x55d28e=!0x1;_0x12e2b0(0x4c0)==typeof RTCPeerConnection&&_0x12e2b0(0x4c0)==typeof RTCIceCandidate&&_0x12e2b0(0x4c0)==typeof RTCSessionDescription?_0x55d28e=!0x0:_0x218f12[_0x12e2b0(0x59a)](_0x4f0e27['Support'],_0x12e2b0(0x314)+_0x44e5c0+'\x20not\x20supported'),this[_0x12e2b0(0x245)][_0x12e2b0(0x4d7)]({'name':_0x44e5c0,'supported':_0x55d28e});}[_0x5d07ed(0x507)](){const _0x1c2cef=_0x5d07ed,_0x102be2=_0x4ae6ff['MediaStream'];let _0x517ab1=!0x1;'function'==typeof MediaStream&&'function'==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x1c2cef(0x3be)==typeof navigator[_0x1c2cef(0x31e)]&&_0x1c2cef(0x4c0)==typeof navigator[_0x1c2cef(0x31e)][_0x1c2cef(0x582)]?_0x517ab1=!0x0:_0x218f12[_0x1c2cef(0x59a)](_0x4f0e27[_0x1c2cef(0x70f)],_0x1c2cef(0x314)+_0x102be2+'\x20not\x20supported'),this[_0x1c2cef(0x245)][_0x1c2cef(0x4d7)]({'name':_0x102be2,'supported':_0x517ab1});}[_0x5d07ed(0x55f)](){const _0x179af2=_0x5d07ed,_0x127e9a=_0x4ae6ff[_0x179af2(0x5d6)];let _0x22a552=!0x1;_0x179af2(0x3be)==typeof navigator&&_0x179af2(0x3be)==typeof navigator['mediaDevices']&&_0x179af2(0x4c0)==typeof navigator[_0x179af2(0x31e)]['getDisplayMedia']?_0x22a552=!0x0:_0x218f12['log'](_0x4f0e27[_0x179af2(0x70f)],_0x179af2(0x314)+_0x127e9a+_0x179af2(0x2fb)),this[_0x179af2(0x245)][_0x179af2(0x4d7)]({'name':_0x127e9a,'supported':_0x22a552});}['checkAudioVolume'](){const _0x2a4677=_0x5d07ed,_0x1b05f5=_0x4ae6ff[_0x2a4677(0x67f)];let _0x732a31=!0x1;'function'!=typeof AudioContext||_0x2a4677(0x4c0)!=typeof ScriptProcessorNode&&_0x2a4677(0x4c0)!=typeof AudioWorkletNode||_0x2a4677(0x4c0)!=typeof MediaStreamAudioSourceNode?_0x218f12[_0x2a4677(0x59a)](_0x4f0e27['Support'],_0x2a4677(0x314)+_0x1b05f5+'\x20not\x20supported'):_0x732a31=!0x0,this['featureSupport']['push']({'name':_0x1b05f5,'supported':_0x732a31});}[_0x5d07ed(0x684)](){const _0x22c3ea=_0x5d07ed,_0x3bd60d=_0x4ae6ff[_0x22c3ea(0x41b)];let _0x4a09e1=!0x1;'object'==typeof navigator&&_0x22c3ea(0x3be)==typeof navigator[_0x22c3ea(0x31e)]&&_0x22c3ea(0x4c0)==typeof navigator[_0x22c3ea(0x31e)][_0x22c3ea(0x339)]&&_0x22c3ea(0x4c0)==typeof MediaDeviceInfo?_0x4a09e1=!0x0:_0x218f12[_0x22c3ea(0x59a)](_0x4f0e27[_0x22c3ea(0x70f)],_0x22c3ea(0x314)+_0x3bd60d+_0x22c3ea(0x2fb)),this['featureSupport'][_0x22c3ea(0x4d7)]({'name':_0x3bd60d,'supported':_0x4a09e1});}[_0x5d07ed(0x302)](){const _0xa75fc2=_0x5d07ed,_0x590711=_0x4ae6ff[_0xa75fc2(0x52d)];let _0x147d6f=!0x1;'object'==typeof document&&'function'==typeof document[_0xa75fc2(0x4dd)](_0xa75fc2(0x2b9))[_0xa75fc2(0x561)]?_0x147d6f=!0x0:_0x218f12[_0xa75fc2(0x59a)](_0x4f0e27[_0xa75fc2(0x70f)],_0xa75fc2(0x314)+_0x590711+'\x20not\x20supported'),this[_0xa75fc2(0x245)][_0xa75fc2(0x4d7)]({'name':_0x590711,'supported':_0x147d6f});}async[_0x5d07ed(0x24e)](){const _0x49c304=_0x5d07ed,_0x339815=_0x4ae6ff['Recording'];let _0x5b022f=!0x1;try{const _0x4dfda4=document['createElement'](_0x49c304(0x72d));if(MediaRecorder&&MediaSource&&_0x4dfda4[_0x49c304(0x2bd)]){const _0xd8d9dd=_0x4dfda4['captureStream'](),_0x5657ad=new MediaRecorder(_0xd8d9dd);_0x5657ad[_0x49c304(0x717)](),await new Promise(_0x49cd69=>setTimeout(_0x49cd69,0x7d0)),_0x5657ad['stop'](),_0x5b022f='inactive'===_0x5657ad[_0x49c304(0x453)];}}catch(_0x11fea9){_0x218f12[_0x49c304(0x59a)](_0x4f0e27[_0x49c304(0x70f)],_0x49c304(0x314)+_0x339815+'\x20check\x20failed',_0x11fea9);}this[_0x49c304(0x245)][_0x49c304(0x4d7)]({'name':_0x339815,'supported':_0x5b022f}),_0x5b022f||_0x218f12[_0x49c304(0x59a)](_0x4f0e27[_0x49c304(0x70f)],'Support:\x20'+_0x339815+_0x49c304(0x2fb));}[_0x5d07ed(0x297)](){const _0x2e8774=_0x5d07ed,_0x6930c8=_0x4ae6ff['Backgrounds'];let _0x58898b=!0x1;try{document[_0x2e8774(0x4dd)](_0x2e8774(0x72d))[_0x2e8774(0x2bd)]&&(_0x58898b=!0x0);}catch(_0x1d0ab8){_0x218f12['log'](_0x4f0e27[_0x2e8774(0x70f)],'Support:\x20'+_0x6930c8+'\x20check\x20failed',_0x1d0ab8);}this[_0x2e8774(0x245)]['push']({'name':_0x6930c8,'supported':_0x58898b}),_0x58898b||_0x218f12['log'](_0x4f0e27[_0x2e8774(0x70f)],'Support:\x20'+_0x6930c8+'\x20not\x20supported');}['checkWebGL'](){const _0x1f2d93=_0x5d07ed,_0x242a98=_0x4ae6ff[_0x1f2d93(0x22e)];let _0x273e62=!0x1;try{const _0x2dfd5f=document[_0x1f2d93(0x4dd)](_0x1f2d93(0x72d));WebGLRenderingContext&&_0x2dfd5f[_0x1f2d93(0x34a)](_0x1f2d93(0x53f))&&(_0x273e62=!0x0);}catch(_0x47437f){_0x218f12[_0x1f2d93(0x59a)](_0x4f0e27[_0x1f2d93(0x70f)],_0x1f2d93(0x314)+_0x242a98+_0x1f2d93(0x547),_0x47437f);}this[_0x1f2d93(0x245)][_0x1f2d93(0x4d7)]({'name':_0x242a98,'supported':_0x273e62}),_0x273e62||_0x218f12[_0x1f2d93(0x59a)](_0x4f0e27[_0x1f2d93(0x70f)],'Support:\x20'+_0x242a98+_0x1f2d93(0x2fb));}[_0x5d07ed(0x6ce)](){const _0x48992f=_0x5d07ed,_0x2065b3=_0x4ae6ff[_0x48992f(0x425)];let _0x3bbfc7=!0x1;_0x48992f(0x4c0)==typeof AudioContext?_0x3bbfc7=!0x0:_0x218f12[_0x48992f(0x59a)](_0x4f0e27[_0x48992f(0x70f)],'Support:\x20'+_0x2065b3+'\x20not\x20supported'),this[_0x48992f(0x245)][_0x48992f(0x4d7)]({'name':_0x2065b3,'supported':_0x3bbfc7});}}const _0x4134eb=_0x4455c1[_0x5d07ed(0x744)]();class _0x1d0b46{static [_0x5d07ed(0x43d)];[_0x5d07ed(0x2d1)];[_0x5d07ed(0x441)];[_0x5d07ed(0x46d)];[_0x5d07ed(0x6b3)];[_0x5d07ed(0x21f)];constructor(_0x39c7f7,_0x5ab81a,_0x3ec23d){const _0x5bfb95=_0x5d07ed;this['vendorId']=_0x39c7f7,this[_0x5bfb95(0x6b3)]=_0x5ab81a,this[_0x5bfb95(0x2d1)]=new _0x1e3277(this[_0x5bfb95(0x441)]),_0x4134eb[_0x5bfb95(0x30e)](),this[_0x5bfb95(0x46d)]={'audioContext':_0x3ec23d?.[_0x5bfb95(0x731)]??(_0x4134eb[_0x5bfb95(0x6f5)](_0x4ae6ff[_0x5bfb95(0x425)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x3ec23d?.[_0x5bfb95(0x369)]??0x1,'minConnections':_0x3ec23d?.[_0x5bfb95(0x40f)]??0x3,'maxConnections':_0x3ec23d?.[_0x5bfb95(0x6e7)]??(_0x3ec23d?.['minConnections']&&0x4*_0x3ec23d[_0x5bfb95(0x40f)])??0xc,'maxDistance':_0x3ec23d?.[_0x5bfb95(0x29c)]??0xa,'maxFps':_0x3ec23d?.[_0x5bfb95(0x3a8)]??0x18,'maxBpp':_0x3ec23d?.['maxBpp']??0.12,'objectStoreConnector':_0x3ec23d?.['objectStoreConnector']??_0x4aaed0['OPFSObjectStoreConnector'],'keyValueDatabaseConnector':_0x3ec23d?.['keyValueDatabaseConnector']??_0x2147aa[_0x5bfb95(0x72c)],'peerConnectionConnector':_0x3ec23d?.[_0x5bfb95(0x272)]??_0xba9e2b[_0x5bfb95(0x486)]},_0x3ec23d?.[_0x5bfb95(0x2fd)]&&this[_0x5bfb95(0x46d)]['audioContext']&&_0x4b6c88[_0x5bfb95(0x463)](this[_0x5bfb95(0x46d)]['audioContext']),_0x218f12[_0x5bfb95(0x3e6)](this[_0x5bfb95(0x441)]),_0x3ec23d?.['loggingConnectors']&&_0x218f12['setLoggingConnectors'](_0x3ec23d[_0x5bfb95(0x767)]);}static async[_0x5d07ed(0x744)](_0x35ee85,_0x2c23d5,_0x1448b9,_0x2a75c3){const _0x178bb1=_0x5d07ed,_0x58dc08=await this[_0x178bb1(0x3b9)](_0x35ee85,_0x2c23d5,_0x2a75c3);return _0x1d0b46[_0x178bb1(0x43d)]||(_0x1d0b46[_0x178bb1(0x43d)]=new _0x1d0b46(_0x35ee85,_0x58dc08,_0x1448b9)),{'authenticateUser':_0x1d0b46[_0x178bb1(0x43d)][_0x178bb1(0x58b)]['bind'](_0x1d0b46[_0x178bb1(0x43d)]),'authenticateAgent':_0x1d0b46[_0x178bb1(0x43d)]['authenticateAgent']['bind'](_0x1d0b46[_0x178bb1(0x43d)]),'joinCluster':_0x1d0b46['instance'][_0x178bb1(0x701)]['bind'](_0x1d0b46['instance'])};}static async[_0x5d07ed(0x6eb)](){const _0x51d5a3=_0x5d07ed;return _0x8536d0[_0x51d5a3(0x555)]();}static async[_0x5d07ed(0x3b9)](_0x2951be,_0x130c7a,_0x538cfa){const _0x59b7bf=_0x5d07ed,_0x3c460e=(await(0x0,_0xa76dc0[_0x59b7bf(0x31a)])(_0x8536d0[_0x59b7bf(0x6ba)](),_0x59b7bf(0x592))({'vendorId':_0x2951be,'accessToken':_0x130c7a,'secretKey':_0x538cfa}))['data'];return _0x3c460e[_0x59b7bf(0x692)]||(_0x3c460e[_0x59b7bf(0x692)]=[]),_0x3c460e;}async[_0x5d07ed(0x58b)](_0x5e7e2a){const _0x15366b=_0x5d07ed;await this[_0x15366b(0x2d1)][_0x15366b(0x443)](_0x5e7e2a);const _0x37d2b6=new _0x19d137(_0x5e7e2a['id'],_0x5e7e2a['displayName'],_0x5e7e2a[_0x15366b(0x330)]);return this['authContext']={'node':_0x37d2b6},_0x4134eb[_0x15366b(0x3a9)](_0x37d2b6),{'type':_0x4b08d8[_0x15366b(0x532)][_0x15366b(0x211)],'getId':_0x37d2b6['getId'][_0x15366b(0x60d)](_0x37d2b6),'getDisplayName':_0x37d2b6[_0x15366b(0x20d)][_0x15366b(0x60d)](_0x37d2b6),'getEmail':_0x37d2b6[_0x15366b(0x5b2)][_0x15366b(0x60d)](_0x37d2b6),'setDisplayName':_0x37d2b6[_0x15366b(0x657)][_0x15366b(0x60d)](_0x37d2b6),'setEmail':_0x37d2b6[_0x15366b(0x464)][_0x15366b(0x60d)](_0x37d2b6)};}async[_0x5d07ed(0x1f5)](_0x2cf4af){const _0x40eff1=_0x5d07ed,_0x1804a1=await(0x0,_0x4200eb[_0x40eff1(0x569)])((0x0,_0x4200eb[_0x40eff1(0x601)])(_0x8536d0[_0x40eff1(0x6ab)](),_0x40eff1(0x558)+this[_0x40eff1(0x441)]+_0x40eff1(0x3da)+_0x2cf4af[_0x40eff1(0x637)]));if(!_0x1804a1[_0x40eff1(0x727)]())throw new _0xc4bd71(_0x294755['NodeNotAuthenticated'],_0x40eff1(0x332));const _0x500753=(''+Math[_0x40eff1(0x5fb)]())[_0x40eff1(0x21c)](0x2);await this[_0x40eff1(0x2d1)][_0x40eff1(0x443)]({'id':_0x40eff1(0x475)+_0x500753});const _0x587936=new _0x5569cf('agentGroupIdccc'+_0x500753);this[_0x40eff1(0x21f)]={'node':_0x587936},_0x4134eb[_0x40eff1(0x3a9)](_0x587936);const _0x489f4c=_0x1804a1['data']();return await this['connectAgent'](_0x587936,_0x489f4c),{'type':_0x4b08d8['NodeType'][_0x40eff1(0x46b)],'getId':_0x587936['getId'][_0x40eff1(0x60d)](_0x587936)};}async[_0x5d07ed(0x701)](_0x40c849){const _0x27dfa4=_0x5d07ed;if(!this[_0x27dfa4(0x21f)])throw new _0xc4bd71(_0x294755[_0x27dfa4(0x39f)],_0x27dfa4(0x795));if(this[_0x27dfa4(0x21f)][_0x27dfa4(0x4d3)][_0x27dfa4(0x4ba)]!==_0x4b08d8[_0x27dfa4(0x532)][_0x27dfa4(0x211)])throw new _0xc4bd71(_0x294755[_0x27dfa4(0x51c)],_0x27dfa4(0x587));const _0x35359e=new _0x2381e8(this[_0x27dfa4(0x441)],_0x40c849,this[_0x27dfa4(0x21f)][_0x27dfa4(0x4d3)],this[_0x27dfa4(0x2d1)],this[_0x27dfa4(0x46d)],this[_0x27dfa4(0x6b3)]);return await _0x35359e[_0x27dfa4(0x52f)](),_0x218f12[_0x27dfa4(0x468)]('join-cluster',{'clusterId':_0x40c849,'nodeId':this[_0x27dfa4(0x21f)]['node']['getId'](),'nodeType':this[_0x27dfa4(0x21f)][_0x27dfa4(0x4d3)]['type']}),{'leave':_0x35359e[_0x27dfa4(0x465)]['bind'](_0x35359e),'getLocalNode':_0x35359e[_0x27dfa4(0x63b)][_0x27dfa4(0x60d)](_0x35359e),'openPubSubTopic':_0x35359e[_0x27dfa4(0x60a)][_0x27dfa4(0x60d)](_0x35359e),'openObjectStoreBucket':_0x35359e[_0x27dfa4(0x75f)][_0x27dfa4(0x60d)](_0x35359e),'openKeyValueDatabase':_0x35359e[_0x27dfa4(0x251)][_0x27dfa4(0x60d)](_0x35359e),'publishLocalMediaStream':_0x35359e['publishLocalMediaStream'][_0x27dfa4(0x60d)](_0x35359e),'publishLocalDynamicMediaStream':_0x35359e[_0x27dfa4(0x22b)]['bind'](_0x35359e),'getPubSubTopics':_0x35359e['getPubSubTopics'][_0x27dfa4(0x60d)](_0x35359e),'getObjectStoreBuckets':_0x35359e[_0x27dfa4(0x679)][_0x27dfa4(0x60d)](_0x35359e),'getKeyValueDatabases':_0x35359e[_0x27dfa4(0x3de)]['bind'](_0x35359e),'getLocalMediaStreams':_0x35359e[_0x27dfa4(0x459)][_0x27dfa4(0x60d)](_0x35359e),'getRemoteMediaStreams':_0x35359e['getRemoteMediaStreams'][_0x27dfa4(0x60d)](_0x35359e),'getRemoteNodes':_0x35359e[_0x27dfa4(0x790)][_0x27dfa4(0x60d)](_0x35359e),'on':_0x35359e['on'][_0x27dfa4(0x60d)](_0x35359e),'off':_0x35359e[_0x27dfa4(0x3e0)][_0x27dfa4(0x60d)](_0x35359e)};}async[_0x5d07ed(0x700)](_0x28ed13,_0x51fb04){const _0x2cbc38=_0x5d07ed;for(const _0x98dc4b of _0x51fb04[_0x2cbc38(0x402)]){const _0xef36ef=new _0x2381e8(this[_0x2cbc38(0x441)],_0x98dc4b['id'],_0x28ed13,this['authService'],this[_0x2cbc38(0x46d)],this[_0x2cbc38(0x6b3)]);await _0xef36ef[_0x2cbc38(0x52f)]();for(const _0x18ec0e of _0x98dc4b[_0x2cbc38(0x74a)])_0xef36ef['openPubSubTopic'](_0x18ec0e);for(const _0xa7f825 of _0x98dc4b[_0x2cbc38(0x2b1)])await _0xef36ef[_0x2cbc38(0x75f)](_0xa7f825);for(const _0x464a47 of _0x98dc4b['keyValueDatabase'])await _0xef36ef[_0x2cbc38(0x251)](_0x464a47,{'version':0x1,'tables':{}});}}}})()),_0x17bf62;})())));function a0_0x3365(_0x5bc5e9,_0x51822c){const _0x1125b6=a0_0x1125();return a0_0x3365=function(_0x3365a3,_0x2fe80e){_0x3365a3=_0x3365a3-0x1f1;let _0x3c3815=_0x1125b6[_0x3365a3];return _0x3c3815;},a0_0x3365(_0x5bc5e9,_0x51822c);}function a0_0x1125(){const _0x57ddbe=['remote-stream-missing-provider-id','unregisterSource','answers','list','getPartsFromSubscription','initializeApp','isWhereValue','goOnline','frameWidth','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','exists','bytesSent','disconnectCallback','createOutgoingSubscription','hasOwnProperty','IDBDatabaseConnector','canvas','getShareableStream','asc','getConnection','audioContext','byteLength','targetId','RemoteMediaStreamAlreadyExists','applyRemediation','fps','restartTimeout','/nodes/','gain','registerDestination','startHeartbeat','AppSync\x20subscribe','RoundTripTime','currentBytes','connection-not-initialized','subscription-request-does-not-exist','ObjectStoreNotSynced','listener','crewdle-sdk','getInstance','handleContentUnpublishMediaStream','currentFrames','Node','handleNodeUpdate','connectionGroup','pubsub','handleHandshake','element','createFolder','getHash','object-store-stream-does-not-exist','handleUnsubscribeMediaStream','unsubscribe','handleNeedRestart','chunks','handleCloseMediaStream','getAuth','handleNodeJoinNeedPublishedStream','cpu.av_delay','ContentType','filter','origin','validateValue','subscriptionManager','isReconnecting','eventTarget','openObjectStoreBucket','boolean','currentDistance','dataTopics','kind','MediaStream\x20feature\x20not\x20enabled','crewdle-sdk.firebaseapp.com','handleFileSync','loggingConnectors','name','Media','createSubscription','RemoteMediaStreamMissingProviderId','waitSuccess','clearHeartbeat','durationTime','receivers','.info/connected','::','runTransaction','nodeManager','setupConnectionEvents','addDoc','senderTotalMessages','ObjectStoreInvalidSyncMessage','pub-sub-topic-already-exists','server','pub-sub-topic-already-subscribed','propagate','UpdateMediaStream','resetConnection','iceServers','deleteTransactionsForTable','handleContentRemoteMediaStreamTrackFail','getSubscribedTracks','MissingRemoteConnection','messageBuffer','senderPreviousBytes','loop','KeyValueDatabaseTableDoesNotExist','64PNfEtm','key','updateDebounceTimeout','TestPage','PubSubTopic\x20onMessage','mediaUnsubscribers','currentTimestamp','lastExecuted','handlePeerConnectionSystemEvents','getRemoteNodes','CloseKeyValueDatabase','receiver','audioDestination','syncPendingFiles','Node\x20not\x20authenticated','registerSystemSource','dataChannel','getIdToken','compareTransactions','retryCount','processReceiverReport','unregisterSubscriber','Events','fromEntries','setItem','lastUpdated','authenticateAgent','isConnected','parentId','getTrack','send\x20error\x20on\x20','onload','updateDebounce','checkSyncComplete','getDistance','syncTransactionsWritten','time_per_frame','RequestAccepted','handleContentUnsubscribeMediaStream','Downgrade','connectionPool','remote-inbound-rtp','\x20does\x20not\x20exists','Database\x20already\x20exists','cleanOldSubscription','chunk','messageListeners','incomingManager','heartbeatUnsubscriber','sort','getDisplayName','mediaStream','getAncestorIds','handshakeCandidates','User','endsWith','isWhereValues','addConnection','stop','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','closeConnection','handleCloseObjectStore','statsReporting','bandwidth.bitrate','remoteUnsubscriber','substring','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Disconnect','authContext','reads','InvalidDataChannel','Sending\x20\x27','pop','messagesReceived','tableObserver','content','setReceiverTimestamp','processTransactionPayload','onDisconnectHandler','cancel','publishLocalDynamicMediaStream','sendFileRequestPayload','observe','WebGL','List','addVideoTrack','No\x20global\x20object\x20found','setLoggingConnectors','statsCollection','ConnectionGroup','/transactions','videoWidth','detectStreamIssues','closeSubscription','onUnregisterPublisher','ConnectionNoRetryQueue','setBytes','getConnectionDestinations','objectStores','handleNodeSystemEvents','Table\x20not\x20found','client','CrewdleConnection\x20handlePeerConnectionSystemEvents','key-value-database-transaction-value-not-set','NodeManager\x20-\x20PublishNodeLeave','handleUpdateMediaStream','featureSupport','ObjectStoreAlreadySubscribed','RequestFileSync','sendRequest','width','getSenderBitrate','NeedMediaStream','request-file-write','detectProblems','checkMediaRecording','ended','setCurrentVersion','openKeyValueDatabase','RemoteAdd','processOutboundReports','Signaling','FPS','pendingFilesSyncing','reject','handleDetectionSystemEvents','shouldProcessTransaction','unpublish','listenUnsubscriber','processOutboundReport','nodeKey','previousTimestamp','G-F7W8KXRKQB','clientWidth','ObjectStoreDoesNotExist','Connection','roundTripTime','Channel\x20\x27','notifyObjectStoreOfNodeJoin','maxResolution','getRemoteId','\x27\x20in\x20table\x20\x27','data','MediaStream','processRank','pool','stream','Upgrade','issues','processInboundReport','sendTransactionsValue','peerConnectionConnector','limit','ref','candidate','sendTransactionsDump','event','end','abs','buildTableEvent','getTable','senderCurrentBytes','RemoteRemove','notifyClusterNodeUpdate','not-in','processPendingSyncTransactions','inbound-rtp','NodeAlreadyExist','Internal\x20unknown\x20error:\x20','decodeJWT','content-unpublish-media','systemMessagesReceived','pubSubTopics','problem','Invalid\x20version\x20\x27','connections','remediation','emit','ObjectStoreAlreadyExists','InternalSDKError','connectionState','deleteObject','lastProcessRank','upgradeTimeout','buffer','handleStatsSystemEvents','oidc','Success','checkBackgrounds','KeyValueDatabase','removeRemoteStreamSubscription','setTransformations','key-value-database-index-not-found','maxDistance','getSTVolatility','receiverCurrentBytes','onNodeDisconnect','getSubscriptionInfo','High','error','setParams','getAudioTracks','Detection','\x20with\x20\x27','generateClient','issue','processSenderReport','currentVersion','getDatabase','SubscriptionRequestNoAnswer','Remove','lastHeartbeat','Answer','stopConnection','objectStorage','distance','handleNodeJoin','removeSubscription','getSubscriptionLabel','transactionIds','subscriptionRequests','deletePendingFile','video','collectSendersStats','interval','functionsRegion','captureStream','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','crewdle-sdk-stg.firebaseapp.com','trackEndedListeners','subscription-request-in-progress','outgoingManager','CloseMediaStream','splice','registerPublisher','Get','NodeLeave','Disconnected','requestSubscriptionAction','onCandidate','outgoing-stream-no-topic','resolutionScale','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','audio','user-update','Cluster','authService','minThreshold','bufferedAmountLowThreshold','Update','topic','onBufferedAmountLow','Connection\x20does\x20not\x20exist.','isProduction','clusterKey','Support:\x20current\x20config','1:420235181083:web:4eff6062bd845cb0748cbe','collection','handleContentUpdateMediaStream','removeOutgoingSubscription','file','getRemoteConnections','ancestors','splitParts','clearRect','removeRemoteConnection','params','decode','topics','removeIncomingSubscription','firebase-disconnect','onConnectionStateChange','209800VoSopL','getOutgoingOptimizationConnections','.crewdle-last-transaction','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','Bitrate','\x27\x20payload:','\x27\x20from\x20','onGatheringStateChange','addRemoteConnection','handshakeDebounce','KeyValueDatabaseTransactionTableNotInitialized','processLocalReport','handleContentSubscribeMediaStream','exports','dt_volatility','remainingTracks','\x20not\x20supported','aws','disableIntervalHack','oncloseTimeout','Invalid\x20data\x20chan_NO_RENAMEENAl.','remediations','CPUCycle','checkAudioOutput','addAudioTrack','getMediaSubscription','RemoteMediaStreamTrackFail','setSubscriptionRequestTimeout','collectReceiversStats','subscriptionRequestsQueue','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','setScheduleTime','signalingState','sendAction','Received\x20event\x20on\x20cluster','initialize','providerId','framerate','Waiting','app','RestartNeedMediaStream','Support:\x20','addCandidate','clusterId','NodeJoin','getStatus','path','httpsCallable','totalDecodeTime','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','track','mediaDevices','getConnections','handleOffer','tableLayout','waitSendBuffer','height','isSync','senders','map','ccc','processPendingHandshakeCandidates','displayName','warn','all','renderElement','debounceProcessRank','getPriority','handleSubscribeMediaStream','email','previousBytes','Agent\x20group\x20not\x20found','transactionsToSync','Invalid\x20query','topicLabel','query','lastTransactionId','KeyValueDatabaseTransactionValueNotSet','enumerateDevices','getLabel','configure','SubscribeMediaStream','head','tableUnsubscriber','handleMissingSenders','clearConnectionTimeout','sendStats','PayloadAction','processDataChannelReport','destinationIds','pendingSyncTransactions','toString','getBitrate','getTransactions','sampleRate','getContext','getTableConnector','getQuery','pathName','SubscriptionRequestDoesNotExist','isMediaDestination','getNumberOutgoingSubscriptions','Internal\x20SDK\x20error:\x20','committed','logPropagateSystemEvent','subscribe','localMediaStreams','Invalid\x20key\x20\x27','packetsLost','KeyValueDatabaseInvalidValue','setOnMessageHandler','getName','bitrate','KeyValueDatabaseTableNameReserved','handleUnpublishMediaStream','KeyValueDatabaseAlreadyExists','answererId','suspended','notifyClusterNodeJoin','setReceiverBytes','update','pub-sub-topic-does-not-exist','PeerConnectionInvalidDestination','waitConnected','RequestSyncKeyValueDatabase','detectLocalIssues','maxOutgoingSubscriptions','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','setRemoteNode','FeatureNotEnabled','isInternalLoggingConnector','processTransactionsDump','answerJoin','keys','maxBitrate','user-join','\x20already\x20exists','channel','authNode','destination','setupRenderElement','handleNodeDisconnect','handleSystemEvents','111aRXgEQ','syncTimeout','catch','signaling','registerCluster','handleSubscriptionSubscribeMediaStream','remoteMediaStreams','bufferEvent','getRoundTripTime','transformations','incrementVersion','scheduleTime','hasRemoteNode','removeListener','local-stream-does-not-exist','collectStats','2428632kNorpJ','priority','newPath','createRemoteMediaStream','handleRemediationSystemEvents','senderTimeProcessing','invalid-data-chanel','Module','onHandshakeStateChange','manageOptimization','outgoingStreams','removeTrackCallback','result','pubsubTopics','Remediation','setupStatsCollection','key-value-database-name-not-string','setOnDisconnectHandler','wait','Database\x20not\x20open','frameTime','NodeNotAuthenticated','support','Invalid\x20value.\x20Property\x20\x27','getReport','bandwidth.jitter','checkAudioVolume','registerSystemPublisher','waitAnswer','KeyValueDatabaseStats','maxFps','logSupport','updateLastUpdated','getVideoTracks','ConnectionNotConnected','default','InvalidSubscriber','systemTopicUnsubscribe','senderBitrate','Missing\x20transaction\x20id','SystemStats','getReceiverTotalBytes','handleObjectDelete','amd','node-already-exist','object-store-already-subscribed','FolderCreate','validateAccess','RemoteMediaStreamInvalidSubscriptionParams','remove','RemoteConnectionExists','StorageEventType','object','getCurrentMaxLayer','debug','.crewdle-layout','handleNodeLeave','incomingTopic','streamId','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Stream\x20does\x20not\x20exist','addPendingHandshakeCandidate','Count','owner','rank','nodes','getContentType','setTimestamp','handshakeState','add','action','Resolution','initializeSystemTopic','connectionType','transactionTable','bytesReceived','find','Add','chooseAnswer','node-type-not-supported','/resources/agent/items/','key-value-database-invalid-value','handleLocalTrackFailure','agent-join','getKeyValueDatabases','addTrack','off','handleAnswer','createOffer','Buffering\x20event','updateUser','FramePerSecond','setVendorId','Handshake','timeSending','transaction','Core','getResolutionScale','values','retryQueues','parse','mergeParts','receiverTotalMessages','63JofgNv','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','connection-invalid-data-event','auth','Medium','direction','call','nodeId','publish','Missing\x20remote\x20node\x20or\x20rank','setupResizeHandler','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','/nodes','receiverCurrentTimestamp','publishUserUpdate','streamLabel','StreamReport','clusters','Node\x20does\x20not\x20exist.','WebRTC','eventListener','24710NsjlLW','Connected','manageAncestor','NodeDoesNotExist','pendingFilesTransactions','retryQueue','remoteId','dispatchEvent','local-media-stream-already-exists','minConnections','orderBy','420235181083','startTime','invalid-subscriber','internalId','getProviderId','systemMessages','gatheringState','videoHeight','setStatus','fileChunks','DeviceConfig','handleDisconnect','unsubscribeTrackEndedListener','clearWaitSuccess','code','handleSubscriptionNeedMediaStream','getSupportedContentTypes','discoveryUnsubscriber','onLine','createBufferSource','AudioContext','keyValueDatabaseConnector','detectAudioIssues','handleProblem','firestore','getReceiverBitrate','toLocaleDateString','Invalid\x20peer\x20connection\x20event\x20destination.','\x20answer','table','Pool','publishTransaction','processServiceReport','senderStreams','Key-value\x20database\x20table\x20does\x20not\x20exist.','tail','prototype','reduce','goOffline','createIncomingSubscription','onChildRemoved','receiverTimeProcessing','handleRequestPayload','listenerUnsubscribers','instance','createPendingFileWrite','content-publish-media','Send\x20request','vendorId','handleOptimizationConnectionSuccess','signInWithCredential','subtle','getClosestNodes','handleContentCloseKeyValueDatabase','setupTrackEndedListeners','sendFile','ObjectStoreNotInSync','sendChunked','crewdle-sdk-stg','getMilliseconds','handleFileRequestAnswer','pendingHandshakeCandidates','senderConnection','Cannot\x20publish\x20payload:\x20','match','nextNodeId','state','RequestTransactionsValue','chosenAnswers','Key-value\x20database\x20creation\x20failed.','totalEncodeTime','KeyValueDatabaseCreationFailed','getLocalMediaStreams','transactionService','removeTrackListeners','clearUpgradeTimeout','from','\x20does\x20not\x20support\x20content\x20type\x20','removeKeyValueDatabase','handleObjectMove','has','642252HEsfiv','startNoThrottlingHack','setEmail','leave','between','tracks','logEvent','getMaxConnections','Store\x20already\x20exists','Agent','LocalMediaStreamTrackFail','options','No\x20connections\x20available\x20to\x20send\x20message','subscriptionRequestTimeouts','setLocalRank','OptimizationConnectionSuccess','hasTable','NeedRestart','previous','agentGroupIdccc','keyValueDatabases','/transactions/lastTransaction','CanProvideMediaStream','successNotified','detectVideoIssues','getEnabledChannels','maxFramerate','Valid\x20layout','Recording','getInternalStreamId','signInWithCustomToken','File','setupStatsReporting','clearOncloseTimeout','Move','SystemTopic\x20publish','WebRTCBrowserPeerConnectionConnector','forEach','source','QueryBuilderInvalidArgument','logStorage','processInboundReports','maxThreshold','unregisterRemoteNode','createKeyValueDatabase','calculateSize','ObjectStoreStats','Sender','NodeUpdate','canProvideResolution','LocalMediaStreamDoesNotExist','timeoutCallback','cpu.fps','downgrade','events','createTopic','PublishMediaStream','listenerUnsubscriber','true','play','deleteRemoteNode','bufferedAmount','Default','Error','bufferedEvents','removeTrack','Stream\x20already\x20exists','getLocalMediaStream','setConnectionType','publishSystemMessage','resizeHandler','setProviderId','RequestFileWrite','cost','missing-system-topic','isOffer','setRemoteConnections','queues','registerSource','unshift','Invalid\x20index\x20in\x20table\x20\x27','pub-sub-topic-name-not-string','upgrade','__esModule','RequestFile','Online','checksum','User\x20not\x20signed\x20in','type','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','joinedAt','childRemovedUnsubscriber','FileMove','max','function','Cannot\x20publish\x20file:\x20','AppSync\x20publish','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','getShareableStreamId','logServiceEvent','findNewMediaSubscription','database','removeSubscriptionsForNode','framesEncoded','value','ObjectStoreNameNotString','internal-sdk-error','onProviderChanged','sync','callback','connection','receiverConnection','handleError','node','Optimization','InvalidSubscription','Internal\x20event\x20\x27','push','number','retryCallback','slice','Rejected','pendingFilesRename','createElement','canRestartHandshake','createLocalMediaStream','registerSubscriber','cluster-disconnect','dbKey','KeyValueDatabaseInvalidQuery','SubscriptionRequestInProgress','reset','consumeBufferedEvents','query-helper-invalid-argument','objectToArrayBuffer','syncKeyValueDatabase','isArray','KeyValueDatabaseNameNotString','clear','signalingServer','indexes','Restart','complete','api','crewdle-sdk-logging-','key-value-database','detection','cleanList','findNextAncestor','key-value-database-already-exists','receiverPreviousBytes','every','getRemoteMediaStream','getTransactionFromTableWriteEvent','outbound-rtp','sdkCreateToken','streams','Problem','object-store-invalid-sync-message','load','crewdle-sdk.appspot.com','packetsSent','enabledChannels','node-invalid-type','handleConnectionSuccess','checkMediaStream','ranges','key-value-database-table-not-found','FolderDelete','isValidMediaSubscriptionParams','getSettings','Invalid\x20where\x20clause','maps','RemoteMediaStreamDoesNotExist','sourceId','statsManager','object-store-not-synced','connector','ConnectionInvalidDataEvent','getRemoteMediaStreams','ownerId','Transaction','set','detail','65590CouYHN','Request','NodeTypeNotSupported','handleCloseKeyValueDatabase','object-store-cannot-write-transaction','handleSubscriptionMediaStreamUnavailable','getConnectionType','setRank','clearWaitAnswer','token','publishSyncCompletedAfterWrites','\x20-\x20','PubSubTopicAlreadyExists','setupListeners','registeredListeners','PubSubTopic\x20publish','/objectstores/','concat','notifyJoin','AudioOutput','handleSubscriptionRestartNeedMediaStream','join','handleNoAnswer','object-store-already-exists','NodeType','audioSource','maxLayer','destroy','failed','stringify','handlePublishMediaStream','addProblem','ObjectKind','contentType','detectionManager','removeRemoteMediaStream','discoveryService','webgl','PubSub','addRemoteNode','getRemoteNode','getMediaStream','key-value-database-table-does-not-exist','codes','publishNodeLeave','\x20check\x20failed','MissingSystemTopic','feature-not-enabled','Accepted','CannotProvideMediaStream','Connection\x20not\x20connected.','some','status','messagesSent','disconnectTimeout','contentRect','clearSyncTimeout','optimizationLayers','All','getEstimatedTimestamp','connectionStateListener','getMaxDistance','developers/','getOrResetPendingFileTimeout','version','Remote\x20connection\x20already\x20exists.','Invalid\x20subscriber.','Folder','CrewdleReceiverConnection\x20ontrack','checkScreenSharing','localId','setSinkId','total','getResolution','KeyValueDatabaseDoesNotExist','Restart\x20NeedMediaStream','extendedRecipients','writeFile','indexOf','getDoc','index','canChooseAnswer','Early\x20return:\x20','ObjectStore','AudioVideoDelay','DEBUG\x20-\x20','publishSyncCompleted','AppSync\x20client\x20not\x20ready','connect','graphService','TimePerFrame','connection-state','2-digit','maxBpp','MediaStreamUnavailable','request-file','PubSubTopicStats','lastRemediations','FileWrite','length','connection-no-retry-queue','remote-stream-does-not-exist','getId','assign','getUserMedia','recipients','open','removeTopic','Offline','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','1282939wDIHCV','Subscription\x20request\x20failed.','padStart','authenticateUser','get','context','now','isWhereBetween','Error\x20encountered\x20while\x20opening\x20database','SubscriptionRequestFailed','sdkValidateAccess','Cannot\x20publish\x20folder:\x20','\x27\x20in\x20layout','handleContentCloseObjectStore','/stats','isIceCandidate','DataChannel\x20is\x20not\x20open.','Sender\x20connection\x20is\x20not\x20initialized.','log','trackListeners','arrayBufferToObject','addIssue','packetsReceived','subscription-request-failed','removeItem','sender','Connection\x20not\x20initialized.','Logger.getInstance','updatePropagationProperties','KeyValueDatabaseInvalidLayout','text/plain','receiverUnsubscribers','InvalidPublisher','peer-connection-invalid-destination','157245EMWpJN','publishFolder','key-value-database-invalid-layout','Object\x20store\x20is\x20not\x20in\x20sync','syncTransactions','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','hasMessage','firebaseUnsubscriber','getEmail','receiverPreviousTimestamp','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','.crewdle-pending','mute','onClose','Backgrounds','connected','Emitting\x20event\x20on\x20local\x20cluster','setEncodingParameters','connectionConstructor','/logs','getLayout','CloseObjectStoreBucket','ConnectionNotinitialized','transactions','shift','onRemoveTrack','closeTopic','remoteNodes','frameHeight','LocalMediaStreamAlreadyExists','CONNECTION_STATE_CHANGE','message','handleTransactionPayload','LocalReport','removeRemoteNode','addMessage','filteredDestinationIds','trackCallback','handleFolderCreate','replaceTrack','peer-connection','warning','handleChunkMessage','invalid-subscription','ScreenSharing','PubSubTopicNameNotString','Incoming','Cannot\x20unpublish\x20object:\x20','getLocalId','toStringTag','everyone','shouldContinuePropagation','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','logConnectionState','Stats','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','ObjectStoreCannotWriteTransaction','messageCallback','previousFrames','Invalid\x20params','receiverStreams','messageType','removeEventListener','createConnection','removeObjectStore','setPriority','clockSkew','tables','mediator','getItem','desc','key-value-database-invalid-query','secheduleTime','handleSuccess','ObjectStoreInvalidPath','getCurrentVersion','createConstantSource','handleFileRequest','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','missing-incoming-connection','writes','random','supportsContentType','digest','removeConnection','objectStoreConnector','us-east-1','doc','processReports','\x0aAdditional\x20data:\x20','processReport','notifyCluster','handleSubscriptionProvideMediaStream','processRemoteInboundReport','Consuming\x20buffered\x20event','Invalid\x20table\x20name\x20\x27','openPubSubTopic','request-file-sync','publishLocalMediaStream','bind','packets','CrewdleConnectionGroup','includes','setInterval','availableTrackKinds','loadEnabledChannels','key-value-database-does-not-exist','publishNodeJoin','Everyone\x20','RemoteRemediation','sendWithRetry','getConfigs','createObjectStoreBucket','unregisterSystemSource','getPubSubTopics','handleSubscriptionSystemEvents','remediationManager','ConnectionState','ObjectStorage','connection-not-connected','subscription','timePerFrame','reportMetric','logRaw','SyncComplete','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','northamerica-northeast1','Early\x20return','unsubscribeHandler','floor','node-does-not-exist','requestSubscription','unregisterPublisherListener','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','undefined','functions','clusterEventEmitter','contentManager','Invalid\x20publisher.','listen','entries','groupId','getTracks','KeyValueDatabaseNotOpen','systemTopic','getLocalNode','iceConnectionState\x20failed','SendTransactionsDump','PeerConnection','srcObject','PubSubTopicDoesNotExist','debounceStats','globalObject','1:519415702791:web:5dd39042f881cfde3251a2','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','serverTimestamp','connectionManager','providerListener','addEventListener','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','moveObject','Local\x20MediaStream\x20already\x20exists','writeTransaction','ObjectStoreInvalidPayload','disconnect','endpoint','handleContentCloseMediaStream','objectRequests','retry','Invalid\x20layout:\x20','PubSubTopicAlreadySubscribed','receiverBitrate','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','setDisplayName','key-value-database-transaction-table-not-initialized','sendIceCandidates','onTrack','handleRemoteTrackFailure','framesDecoded','onDataChannel','unregisterPublisher','uuid','sourceVideo','isSubscribed','discover','removeLocalMediaStream','senderPreviousTimestamp','getInternalTrackParams','UnpublishMediaStream','setUpgradeTimeout','appsync-connect-fail','replace','clientStream','enabled','setOnTableWriteHandler','Receiver','clearRestartTimeout','invalid-publisher','syncResolve','startsWith','getMinConnections','messages','Subscription','setDurationTime','resolution','remoteConnections','OutgoingSubscription','getObjectStoreBuckets','handleFileWrite','timeReceiving','getPacketsLostPerc','localNode','joinedClusters','AudioVolume','KeyValueDatabaseTableNotFound','publishMove','ClosePubSubTopic','internal','checkDeviceConfig','Offer','encode','buildQuery','Invalid\x20subscription.','clusters/','supported','offset','canAddCandidates','createMediaStreamSource','Content','1362nrXbtl','connectionTimeout','Invalid\x20node\x20type','features','getRank','getDTVolatility','getOwnerId','isMediaSource','mediaTopics','handleContentClosePubSubTopic','Problem\x20detected:\x20','LocalMediaStreamNoAudioContext','770mVxbHW','Hub','checkWebRTC','onValue','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','Jitter','parameters','minResolutionScale','orchestrator','getApp','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Method\x20not\x20implemented.','object-store-not-in-sync','send','handleOutgoingSystemEvents','tableName','getFirestore','setPendingFileSyncingPayload','NodeConnectionsUpdate','DataChannel\x20is\x20not\x20initialized.','getConnectionGroup','Delete','size','threshold','configs','storage','text','keyPath','Invalid\x20value.\x20Must\x20be\x20an\x20object.','UnsubscribeMediaStream','where','getFunctions','dataUnsubscribers','instantiateTransactionTable','FileDelete','val','string','findNextNodeId','getAvailableTrackKinds','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','notifyObjectStoreOfNodeLeave','count','createReceiverConnection','MediaStreamPriority','trackKinds','jitter','debugEnabled','handleIceCandidates','estimatedPlayoutTimestamp','observer','next','checkAudioContext','senderCurrentTimestamp','unregisterDestination','close','unregisterSystemPublisher','validateQuery','split','NodeManager\x20-\x20ConnectionSuccess','registerRemoteNode','Data','eventEmitter','object-store-invalid-path','system','Received\x20track','defineProperty','move','AppSync\x20connection\x20not\x20ready','statsReport','System','onMessage','crewdleSDKEnableLogging','publishFile','frames','.crewdle-transactions','Outgoing','maxConnections','Rejected\x20answer','Remote\x20stream\x20does\x20not\x20exist.','createLocalDynamicMediaStream','timestamp','outgoingTopic','component','DTVolatility','Stats:\x20report','handleContentSystemEvents','node-not-authenticated','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','findIndex','subscribedTracks','isFeatureSupported','createRemoteNode','stats','handleSubscriptionUnsubscribeMediaStream','unregisterCluster','OutgoingMediaStreamNoTopic','user','clientHeight','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','validateLayout','handleOnMessage','connectAgent','joinCluster','delete','IncomingSubscription','key-value-database-creation-failed','FolderMove','createGain','sdk-internal-error:\x20','Missing\x20answerer\x20id\x20on\x20request\x20answer','subscriptions','Subscription\x20request\x20has\x20not\x20been\x20answered.','setInternalId','createPubSubTopic','layout','system-stats','Support','label','Internal\x20error:\x20','onremovetrack','messageUnsubscriber','Internal\x20SDK\x20Error:\x20','clearSubscriptionRequestTimeout','updateLastTransactionId','start','NodeInvalidType','Low','appsync-no-destination','isNeedRestart','getAncestors'];a0_0x1125=function(){return _0x57ddbe;};return a0_0x1125();}