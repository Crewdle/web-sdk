(function(_0x5eb283,_0x22758f){const _0x5d16ba=a0_0x5c56,_0x46d68c=_0x5eb283();while(!![]){try{const _0x3a0377=-parseInt(_0x5d16ba(0x65e))/0x1+-parseInt(_0x5d16ba(0x6d0))/0x2*(parseInt(_0x5d16ba(0x6e2))/0x3)+parseInt(_0x5d16ba(0x6da))/0x4+-parseInt(_0x5d16ba(0x42c))/0x5+-parseInt(_0x5d16ba(0x18e))/0x6+-parseInt(_0x5d16ba(0x170))/0x7+parseInt(_0x5d16ba(0x48e))/0x8*(parseInt(_0x5d16ba(0x5d5))/0x9);if(_0x3a0377===_0x22758f)break;else _0x46d68c['push'](_0x46d68c['shift']());}catch(_0x2fdc75){_0x46d68c['push'](_0x46d68c['shift']());}}}(a0_0x3a6c,0xcb5b4),!function(_0x3a7a5b,_0x4c1531){const _0x16e25b=a0_0x5c56;if(_0x16e25b(0x330)==typeof exports&&_0x16e25b(0x330)==typeof module)module[_0x16e25b(0x588)]=_0x4c1531();else{if(_0x16e25b(0x296)==typeof define&&define[_0x16e25b(0x578)])define([],_0x4c1531);else{var _0x42695f=_0x4c1531();for(var _0xc932e7 in _0x42695f)(_0x16e25b(0x330)==typeof exports?exports:_0x3a7a5b)[_0xc932e7]=_0x42695f[_0xc932e7];}}}(this,()=>((()=>{'use strict';const _0x57df12=a0_0x5c56;var _0x25cb6f={0x14d:(_0x53c229,_0x1aa1c5,_0x364a1f)=>{const _0x4c211a=a0_0x5c56;_0x364a1f['d'](_0x1aa1c5,{'O':()=>_0x57d5c6});const _0x57d5c6={'version':'0.2.7','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x4c211a(0x726),'authDomain':_0x4c211a(0x4d4),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x4c211a(0x251),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':_0x4c211a(0x334),'functionsRegion':_0x4c211a(0x2cf)},'aws':{'endpoint':_0x4c211a(0x2a2),'region':_0x4c211a(0x1c0)}};},0x33b:(_0x3b37de,_0xce6575,_0x1ba530)=>{_0x1ba530['d'](_0xce6575,{'O':()=>_0x57afcc});const _0x57afcc={};},0x3e6:(_0x91dcb4,_0x3bc3bc,_0x30a9d4)=>{const _0x17d5fa=a0_0x5c56;_0x30a9d4['d'](_0x3bc3bc,{'O':()=>_0x4b7381});const _0x4b7381={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x17d5fa(0x19e),'authDomain':_0x17d5fa(0x57b),'databaseURL':_0x17d5fa(0x124),'projectId':_0x17d5fa(0x285),'storageBucket':_0x17d5fa(0x509),'messagingSenderId':_0x17d5fa(0x7ab),'appId':_0x17d5fa(0x38a),'measurementId':_0x17d5fa(0x392)},'aws':{'endpoint':_0x17d5fa(0x1d1),'region':_0x17d5fa(0x1c0)}};},0x20:(_0x5df7c6,_0x4b5111,_0x13ef1d)=>{_0x13ef1d['d'](_0x4b5111,{'O':()=>_0x45a894});const _0x45a894={};}},_0x584e54={};function _0xc5ffc5(_0x5e0b49){const _0x2a7073=a0_0x5c56;var _0x45906f=_0x584e54[_0x5e0b49];if(void 0x0!==_0x45906f)return _0x45906f[_0x2a7073(0x588)];var _0x236553=_0x584e54[_0x5e0b49]={'exports':{}};return _0x25cb6f[_0x5e0b49](_0x236553,_0x236553[_0x2a7073(0x588)],_0xc5ffc5),_0x236553[_0x2a7073(0x588)];}_0xc5ffc5['d']=(_0xec041b,_0x2ad151)=>{const _0x104f8c=a0_0x5c56;for(var _0x684471 in _0x2ad151)_0xc5ffc5['o'](_0x2ad151,_0x684471)&&!_0xc5ffc5['o'](_0xec041b,_0x684471)&&Object[_0x104f8c(0x55d)](_0xec041b,_0x684471,{'enumerable':!0x0,'get':_0x2ad151[_0x684471]});},_0xc5ffc5['g']=(function(){const _0x120030=a0_0x5c56;if(_0x120030(0x330)==typeof globalThis)return globalThis;try{return this||new Function(_0x120030(0x206))();}catch(_0x549ddf){if(_0x120030(0x330)==typeof window)return window;}}()),_0xc5ffc5['o']=(_0x5915b4,_0x1f295c)=>Object[_0x57df12(0x190)][_0x57df12(0x74a)]['call'](_0x5915b4,_0x1f295c),_0xc5ffc5['r']=_0x3ba625=>{const _0xe43658=_0x57df12;_0xe43658(0x4f9)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0xe43658(0x55d)](_0x3ba625,Symbol[_0xe43658(0x7ad)],{'value':_0xe43658(0x3e6)}),Object['defineProperty'](_0x3ba625,_0xe43658(0x186),{'value':!0x0});};var _0x5623ec,_0x3313a9,_0x54918a,_0x53de79={};_0xc5ffc5['r'](_0x53de79),_0xc5ffc5['d'](_0x53de79,{'KeyValueDatabase':()=>_0x16a91e,'LayoutBuilder':()=>_0x4786b0,'LoggingChannels':()=>_0x54918a,'QueryBuilder':()=>_0x35ce8d,'SDK':()=>_0x330ee2,'SDKClientErrorCodes':()=>_0x5623ec,'TableBuilder':()=>_0x25979f,'logger':()=>_0x287307}),function(_0x5475cd){const _0x1845da=_0x57df12;_0x5475cd[_0x1845da(0x2c8)]='cluster-already-joined',_0x5475cd[_0x1845da(0x75a)]=_0x1845da(0x5ba),_0x5475cd[_0x1845da(0x1ae)]='generative-ai-context-already-exists',_0x5475cd[_0x1845da(0x5a4)]=_0x1845da(0x324),_0x5475cd[_0x1845da(0x491)]=_0x1845da(0x1ac),_0x5475cd['GenerativeAIWorkerAlreadyExists']=_0x1845da(0x717),_0x5475cd[_0x1845da(0x5fb)]=_0x1845da(0x79c),_0x5475cd[_0x1845da(0x620)]=_0x1845da(0x1f9),_0x5475cd['JobDispatcherAlreadyExists']='job-dispatcher-already-exists',_0x5475cd[_0x1845da(0x2a6)]=_0x1845da(0x261),_0x5475cd[_0x1845da(0x4ca)]=_0x1845da(0x3d7),_0x5475cd[_0x1845da(0x33b)]=_0x1845da(0x762),_0x5475cd['JobDispatcherInvalidJobType']='job-dispatcher-invalid-job-type',_0x5475cd[_0x1845da(0x16d)]=_0x1845da(0x6a6),_0x5475cd[_0x1845da(0x239)]=_0x1845da(0x6d3),_0x5475cd['ObjectStoreAlreadyExists']=_0x1845da(0x428),_0x5475cd[_0x1845da(0x414)]=_0x1845da(0x280),_0x5475cd['ObjectStoreDoesNotExist']=_0x1845da(0x321),_0x5475cd[_0x1845da(0x651)]=_0x1845da(0x2ed),_0x5475cd[_0x1845da(0x149)]=_0x1845da(0x76d),_0x5475cd['ObjectStoreInvalidPath']='object-store-invalid-path',_0x5475cd[_0x1845da(0x356)]=_0x1845da(0x5a0),_0x5475cd[_0x1845da(0x2f5)]=_0x1845da(0x65f),_0x5475cd[_0x1845da(0x1d4)]=_0x1845da(0x258),_0x5475cd['KeyValueDatabaseAlreadyExists']=_0x1845da(0x71c),_0x5475cd['KeyValueDatabaseDoesNotExist']=_0x1845da(0x701),_0x5475cd['KeyValueDatabaseIndexNotFound']=_0x1845da(0x1a2),_0x5475cd['KeyValueDatabaseInvalidQuery']=_0x1845da(0x204),_0x5475cd[_0x1845da(0x227)]=_0x1845da(0x506),_0x5475cd[_0x1845da(0x13a)]=_0x1845da(0x603),_0x5475cd[_0x1845da(0x525)]=_0x1845da(0x163),_0x5475cd['KeyValueDatabaseTableNameReserved']=_0x1845da(0x364),_0x5475cd[_0x1845da(0x4e2)]=_0x1845da(0x4fb),_0x5475cd[_0x1845da(0x1cd)]='key-value-database-invalid-layout',_0x5475cd[_0x1845da(0x5c1)]=_0x1845da(0x59b),_0x5475cd['LocalMediaStreamNoAudioContext']=_0x1845da(0x61e),_0x5475cd[_0x1845da(0x2e3)]=_0x1845da(0x5bf),_0x5475cd[_0x1845da(0x2a0)]='pub-sub-topic-does-not-exist',_0x5475cd[_0x1845da(0x5da)]=_0x1845da(0x3ef),_0x5475cd['PubSubTopicAlreadySubscribed']=_0x1845da(0x4b0),_0x5475cd[_0x1845da(0x168)]='query-helper-invalid-argument',_0x5475cd[_0x1845da(0x77d)]=_0x1845da(0x6fa),_0x5475cd[_0x1845da(0x41b)]='remote-media-stream-invalid-subscription-params',_0x5475cd[_0x1845da(0x1af)]=_0x1845da(0x127),_0x5475cd[_0x1845da(0x497)]=_0x1845da(0x5bd),_0x5475cd[_0x1845da(0x608)]='node-invalid-type',_0x5475cd[_0x1845da(0x155)]=_0x1845da(0x648);}(_0x5623ec||(_0x5623ec={}));class _0x19eda8 extends Error{[_0x57df12(0x518)];constructor(_0x43de22,_0x46bd77){const _0x376b3c=_0x57df12;super(_0x46bd77),this[_0x376b3c(0x518)]=_0x43de22;}}!function(_0xf47941){const _0x143151=_0x57df12;_0xf47941[_0x143151(0x3d4)]=_0x143151(0x192),_0xf47941[_0x143151(0x3d5)]=_0x143151(0x66b),_0xf47941[_0x143151(0x405)]=_0x143151(0x6c8),_0xf47941['MediaStream']='media-stream',_0xf47941[_0x143151(0x119)]=_0x143151(0x482);}(_0x3313a9||(_0x3313a9={})),function(_0x3fcca8){const _0x22de76=_0x57df12;_0x3fcca8[_0x22de76(0x580)]='all',_0x3fcca8['Default']='default',_0x3fcca8[_0x22de76(0x684)]=_0x22de76(0x4ee),_0x3fcca8[_0x22de76(0x52d)]=_0x22de76(0x253),_0x3fcca8['Cluster']=_0x22de76(0x50c),_0x3fcca8[_0x22de76(0x3ed)]=_0x22de76(0x68e),_0x3fcca8[_0x22de76(0x3f1)]=_0x22de76(0x5df),_0x3fcca8['Detection']='detection',_0x3fcca8[_0x22de76(0x421)]=_0x22de76(0x496),_0x3fcca8[_0x22de76(0x128)]=_0x22de76(0x387),_0x3fcca8[_0x22de76(0x764)]=_0x22de76(0x1c2),_0x3fcca8[_0x22de76(0x434)]=_0x22de76(0x11a),_0x3fcca8[_0x22de76(0x1fd)]=_0x22de76(0x70a),_0x3fcca8[_0x22de76(0x3d4)]=_0x22de76(0x192),_0x3fcca8[_0x22de76(0x220)]=_0x22de76(0x37a),_0x3fcca8[_0x22de76(0x4dc)]=_0x22de76(0x37c),_0x3fcca8[_0x22de76(0x3ee)]=_0x22de76(0x46b),_0x3fcca8['Subscription']='subscription',_0x3fcca8[_0x22de76(0x1df)]=_0x22de76(0x1eb),_0x3fcca8[_0x22de76(0x4d2)]='system',_0x3fcca8['SystemStats']=_0x22de76(0x691),_0x3fcca8[_0x22de76(0x4cf)]='test-page',_0x3fcca8[_0x22de76(0x498)]=_0x22de76(0x4e8);}(_0x54918a||(_0x54918a={}));const _0x36cc4b=require('@crewdle/web-sdk-types');class _0x35ce8d{[_0x57df12(0x2e9)];constructor(_0x18046d){const _0x5b6f56=_0x57df12;this[_0x5b6f56(0x2e9)]={'orderBy':{'key':_0x18046d,'direction':_0x5b6f56(0x464)}};}static[_0x57df12(0x121)](_0x45a7c8){const _0x16825e=_0x57df12;if(_0x16825e(0x795)!=typeof _0x45a7c8||0x0===_0x45a7c8[_0x16825e(0x5fc)])throw new _0x19eda8(_0x5623ec[_0x16825e(0x168)],_0x16825e(0x141));return new _0x35ce8d(_0x45a7c8);}static[_0x57df12(0x158)](_0x3a4797){try{return _0x35ce8d['buildQuery'](_0x3a4797),!0x0;}catch(_0x20549b){return!0x1;}}static[_0x57df12(0x181)](_0x9cc4c4){const _0x1fcb22=_0x57df12,_0x4702ee=_0x35ce8d[_0x1fcb22(0x121)](_0x9cc4c4['orderBy']?.[_0x1fcb22(0x634)]??_0x9cc4c4[_0x1fcb22(0x781)]?.[_0x1fcb22(0x634)]??'');if(_0x9cc4c4[_0x1fcb22(0x781)]){const _0x29eafe=_0x9cc4c4[_0x1fcb22(0x781)];if((_0x35ce8d[_0x1fcb22(0x714)](_0x29eafe)||_0x35ce8d[_0x1fcb22(0x6a8)](_0x29eafe)||_0x35ce8d[_0x1fcb22(0x36c)](_0x29eafe))&&_0x4702ee[_0x1fcb22(0x781)](_0x29eafe[_0x1fcb22(0x700)],_0x29eafe[_0x1fcb22(0x638)]),_0x9cc4c4[_0x1fcb22(0x13f)]?.['key']&&_0x9cc4c4[_0x1fcb22(0x13f)]?.[_0x1fcb22(0x634)]!==_0x9cc4c4[_0x1fcb22(0x781)]['key'])throw new _0x19eda8(_0x5623ec[_0x1fcb22(0x168)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x9cc4c4[_0x1fcb22(0x13f)]&&_0x4702ee[_0x1fcb22(0x13f)](_0x9cc4c4[_0x1fcb22(0x13f)][_0x1fcb22(0x487)]),_0x9cc4c4[_0x1fcb22(0x70d)]&&_0x4702ee[_0x1fcb22(0x70d)](_0x9cc4c4[_0x1fcb22(0x70d)]),_0x9cc4c4[_0x1fcb22(0x568)]&&_0x4702ee['offset'](_0x9cc4c4[_0x1fcb22(0x568)]),_0x4702ee;}[_0x57df12(0x397)](){const _0x5b8c54=_0x57df12;return{...this[_0x5b8c54(0x2e9)]};}[_0x57df12(0x781)](_0x29cc8b,_0x13f607){const _0x383098=_0x57df12,_0x19de50={'key':this[_0x383098(0x2e9)][_0x383098(0x13f)]['key'],'operator':_0x29cc8b,'value':_0x13f607};if(!_0x35ce8d[_0x383098(0x714)](_0x19de50)&&!_0x35ce8d[_0x383098(0x6a8)](_0x19de50)&&!_0x35ce8d[_0x383098(0x36c)](_0x19de50))throw new _0x19eda8(_0x5623ec[_0x383098(0x168)],'Invalid\x20where\x20clause');return this[_0x383098(0x2e9)][_0x383098(0x781)]=_0x19de50,this;}[_0x57df12(0x13f)](_0x5355ce){const _0x7bb94c=_0x57df12;if(_0x7bb94c(0x464)!==_0x5355ce&&'desc'!==_0x5355ce)throw new _0x19eda8(_0x5623ec['QueryBuilderInvalidArgument'],_0x7bb94c(0x445));return this['query']['orderBy'][_0x7bb94c(0x487)]=_0x5355ce,this;}[_0x57df12(0x70d)](_0xa45a79){const _0x1e0e7e=_0x57df12;if(_0x1e0e7e(0x161)!=typeof _0xa45a79||_0xa45a79<0x0)throw new _0x19eda8(_0x5623ec[_0x1e0e7e(0x168)],_0x1e0e7e(0x62d));return this[_0x1e0e7e(0x2e9)]['limit']=_0xa45a79,this;}['offset'](_0x206f20){const _0x2075d0=_0x57df12;if(_0x2075d0(0x161)!=typeof _0x206f20||_0x206f20<0x0)throw new _0x19eda8(_0x5623ec[_0x2075d0(0x168)],_0x2075d0(0x223));return this[_0x2075d0(0x2e9)]['offset']=_0x206f20,this;}static['isWhereValue'](_0x1a4567){const _0x2098ea=_0x57df12;if(!(_0x1a4567&&_0x2098ea(0x330)==typeof _0x1a4567&&_0x2098ea(0x700)in _0x1a4567&&'value'in _0x1a4567))return!0x1;const {operator:_0x3d3954,value:_0x4b2c65}=_0x1a4567;return!(!['==','!=','>','<','<=','>=']['includes'](_0x3d3954)||Array[_0x2098ea(0x3d1)](_0x4b2c65));}static['isWhereValues'](_0xf6b69d){const _0x35be9f=_0x57df12;if(!(_0xf6b69d&&'object'==typeof _0xf6b69d&&'operator'in _0xf6b69d&&_0x35be9f(0x638)in _0xf6b69d))return!0x1;const {operator:_0x590afd,value:_0x4e362f}=_0xf6b69d;return!(!['in',_0x35be9f(0x216)][_0x35be9f(0x595)](_0x590afd)||!Array['isArray'](_0x4e362f));}static['isWhereBetween'](_0x14f697){const _0x14807c=_0x57df12;if(!(_0x14f697&&_0x14807c(0x330)==typeof _0x14f697&&'operator'in _0x14f697&&_0x14807c(0x638)in _0x14f697))return!0x1;const {operator:_0x15c5e9,value:_0x2754ab}=_0x14f697;return!(_0x14807c(0x68c)!==_0x15c5e9||!Array['isArray'](_0x2754ab)||0x2!==_0x2754ab[_0x14807c(0x5fc)]);}}class _0x4786b0{[_0x57df12(0x40d)];constructor(_0x336afe){const _0x14e7d2=_0x57df12;this[_0x14e7d2(0x40d)]={'tables':{},'version':_0x336afe};}static['validateLayout'](_0x3bbf09){const _0x572cc1=_0x57df12;for(const _0x268849 in _0x3bbf09){if('version'!==_0x268849&&_0x572cc1(0x52c)!==_0x268849)return[!0x1,_0x572cc1(0x3e0)+_0x268849+_0x572cc1(0x484)];if(_0x572cc1(0x52c)===_0x268849)for(const _0x206e33 in _0x3bbf09[_0x572cc1(0x52c)]){if(_0x572cc1(0x795)!=typeof _0x206e33)return[!0x1,_0x572cc1(0x635)+_0x206e33+'\x27'];for(const _0x3f4d7f in _0x3bbf09[_0x572cc1(0x52c)][_0x206e33]){if(_0x572cc1(0x120)!==_0x3f4d7f)return[!0x1,'Invalid\x20key\x20\x27'+_0x3f4d7f+_0x572cc1(0x35c)+_0x206e33+'\x27'];const _0x4f61c7=_0x3bbf09[_0x572cc1(0x52c)][_0x206e33][_0x3f4d7f]??[];for(const _0x3157b9 of _0x4f61c7)if(void 0x0===_0x3157b9[_0x572cc1(0x646)]||_0x572cc1(0x795)!=typeof _0x3157b9[_0x572cc1(0x646)])return[!0x1,_0x572cc1(0x133)+_0x206e33+_0x572cc1(0x1ff)];}}else{if(_0x572cc1(0x2a4)===_0x268849&&_0x572cc1(0x161)!=typeof _0x3bbf09[_0x268849])return[!0x1,_0x572cc1(0x2d8)+_0x3bbf09[_0x268849]+_0x572cc1(0x699)];}}return[!0x0,_0x572cc1(0x7ae)];}static[_0x57df12(0x40d)](_0x8d41f8){const _0x3e5e35=_0x57df12,_0x17b7f2=new _0x4786b0(_0x8d41f8);return _0x17b7f2[_0x3e5e35(0x40d)][_0x3e5e35(0x2a4)]=_0x8d41f8,_0x17b7f2;}[_0x57df12(0x62f)](_0x2e588e){const _0x66b342=_0x57df12;return this['layout'][_0x66b342(0x52c)][_0x2e588e]={},new _0x25979f(this['layout'][_0x66b342(0x52c)][_0x2e588e]);}[_0x57df12(0x441)](){const _0x5bba95=_0x57df12;return this[_0x5bba95(0x40d)];}}class _0x25979f{[_0x57df12(0x18f)];constructor(_0x537f09){const _0x53cd37=_0x57df12;this[_0x53cd37(0x18f)]=_0x537f09;}['index'](_0x1db3f8){const _0x465dd6=_0x57df12;return this[_0x465dd6(0x18f)]['indexes']=this['tableLayout']['indexes']??[],this[_0x465dd6(0x18f)][_0x465dd6(0x120)][_0x465dd6(0x374)]({'keyPath':_0x1db3f8}),this;}}const _0x557315=0x3f800,_0x31166f=_0x57df12(0x370),_0x229e68='.crewdle-pending',_0x4be813=_0x57df12(0x3cc),_0x3dd082='.crewdle-layout',_0x46b77d=0x7530,_0x37e5af=0x7530,_0x34d464=_0x57df12(0x297),_0x1c5473=_0x57df12(0x30d);var _0x49f4fd;!function(_0x33aa1a){const _0x1c0aa0=_0x57df12;_0x33aa1a['ConnectionNotinitialized']=_0x1c0aa0(0x331),_0x33aa1a[_0x1c0aa0(0x724)]=_0x1c0aa0(0x137),_0x33aa1a[_0x1c0aa0(0x1ce)]='connection-no-retry-queue',_0x33aa1a['ConnectionInvalidDataEvent']=_0x1c0aa0(0x420),_0x33aa1a['GenerativeAIContextCreationFailed']=_0x1c0aa0(0x737),_0x33aa1a['GenerativeAIContextJobFailed']=_0x1c0aa0(0x3af),_0x33aa1a[_0x1c0aa0(0x666)]='generative-ai-context-job-timeout',_0x33aa1a['GenerativeAIContextInvalidPartialResult']=_0x1c0aa0(0x212),_0x33aa1a['GenerativeAIWorkerCreationFailed']=_0x1c0aa0(0x3f4),_0x33aa1a[_0x1c0aa0(0x643)]='invalid-data-chanel',_0x33aa1a['InvalidPublisher']=_0x1c0aa0(0x665),_0x33aa1a[_0x1c0aa0(0x5f6)]='invalid-subscriber',_0x33aa1a['InvalidSubscription']=_0x1c0aa0(0x6a5),_0x33aa1a[_0x1c0aa0(0x747)]='job-dispatcher-creation-failed',_0x33aa1a[_0x1c0aa0(0x3c5)]=_0x1c0aa0(0x79f),_0x33aa1a['JobDispatcherJobNotFound']=_0x1c0aa0(0x762),_0x33aa1a['JobDispatcherObserverNotFound']=_0x1c0aa0(0x3c6),_0x33aa1a[_0x1c0aa0(0x4bb)]=_0x1c0aa0(0x45c),_0x33aa1a[_0x1c0aa0(0x425)]='job-worker-invalid-type',_0x33aa1a[_0x1c0aa0(0x60c)]=_0x1c0aa0(0x74e),_0x33aa1a[_0x1c0aa0(0x585)]='key-value-database-table-does-not-exist',_0x33aa1a[_0x1c0aa0(0x738)]=_0x1c0aa0(0x2f3),_0x33aa1a[_0x1c0aa0(0x5b6)]=_0x1c0aa0(0x277),_0x33aa1a['LocalMediaStreamDoesNotExist']=_0x1c0aa0(0x61a),_0x33aa1a[_0x1c0aa0(0x12a)]=_0x1c0aa0(0x433),_0x33aa1a[_0x1c0aa0(0x745)]='missing-system-topic',_0x33aa1a['MistletCapacityReportNotSet']=_0x1c0aa0(0x6eb),_0x33aa1a['ObjectStoreCannotWriteTransaction']=_0x1c0aa0(0x3ba),_0x33aa1a[_0x1c0aa0(0x657)]=_0x1c0aa0(0x693),_0x33aa1a['ObjectStoreNotSynced']=_0x1c0aa0(0x5ef),_0x33aa1a['OutgoingMediaStreamNoTopic']=_0x1c0aa0(0x6b7),_0x33aa1a[_0x1c0aa0(0x65a)]=_0x1c0aa0(0x460),_0x33aa1a[_0x1c0aa0(0x6a0)]=_0x1c0aa0(0x45b),_0x33aa1a['RemoteConnectionExists']='remote-connection-exists',_0x33aa1a['SubscriptionRequestDoesNotExist']='subscription-request-does-not-exist',_0x33aa1a[_0x1c0aa0(0x30f)]=_0x1c0aa0(0x5e2),_0x33aa1a['SubscriptionRequestNoAnswer']=_0x1c0aa0(0x661),_0x33aa1a['NodeDoesNotExist']=_0x1c0aa0(0x2aa),_0x33aa1a[_0x1c0aa0(0x45d)]='node-already-exist',_0x33aa1a['PeerConnectionInvalidDestination']=_0x1c0aa0(0x783);}(_0x49f4fd||(_0x49f4fd={}));const _0xdba56d=new Map([[_0x49f4fd['ConnectionNotinitialized'],'Connection\x20not\x20initialized.'],[_0x49f4fd[_0x57df12(0x724)],_0x57df12(0x389)],[_0x49f4fd['ConnectionNoRetryQueue'],_0x57df12(0x711)],[_0x49f4fd[_0x57df12(0x5a3)],_0x57df12(0x71b)],[_0x49f4fd[_0x57df12(0x752)],_0x57df12(0x5d8)],[_0x49f4fd[_0x57df12(0x570)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x49f4fd['GenerativeAIContextJobTimeout'],_0x57df12(0x772)],[_0x49f4fd[_0x57df12(0x291)],_0x57df12(0x33e)],[_0x49f4fd[_0x57df12(0x457)],_0x57df12(0x3c8)],[_0x49f4fd['InvalidDataChannel'],'Invalid\x20data\x20channel.'],[_0x49f4fd[_0x57df12(0x58d)],_0x57df12(0x3bf)],[_0x49f4fd['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x49f4fd[_0x57df12(0x780)],_0x57df12(0x31f)],[_0x49f4fd[_0x57df12(0x747)],_0x57df12(0x607)],[_0x49f4fd[_0x57df12(0x3c5)],'Invalid\x20job\x20service\x20payload.'],[_0x49f4fd[_0x57df12(0x33b)],_0x57df12(0x594)],[_0x49f4fd[_0x57df12(0x2ef)],_0x57df12(0x35e)],[_0x49f4fd[_0x57df12(0x4bb)],'Job\x20worker\x20creation\x20failed.'],[_0x49f4fd[_0x57df12(0x425)],_0x57df12(0x1ec)],[_0x49f4fd[_0x57df12(0x60c)],_0x57df12(0x3b8)],[_0x49f4fd[_0x57df12(0x585)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x49f4fd[_0x57df12(0x738)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x49f4fd[_0x57df12(0x5b6)],_0x57df12(0x676)],[_0x49f4fd[_0x57df12(0x5f0)],_0x57df12(0x140)],[_0x49f4fd['MissingRemoteConnection'],_0x57df12(0x309)],[_0x49f4fd[_0x57df12(0x745)],_0x57df12(0x450)],[_0x49f4fd['MistletCapacityReportNotSet'],_0x57df12(0x575)],[_0x49f4fd[_0x57df12(0x395)],_0x57df12(0x5f9)],[_0x49f4fd[_0x57df12(0x657)],_0x57df12(0x75d)],[_0x49f4fd[_0x57df12(0x35a)],'Object\x20store\x20not\x20synced.'],[_0x49f4fd['OutgoingMediaStreamNoTopic'],_0x57df12(0x1de)],[_0x49f4fd[_0x57df12(0x65a)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x49f4fd[_0x57df12(0x6a0)],_0x57df12(0x42f)],[_0x49f4fd['RemoteConnectionExists'],_0x57df12(0x798)],[_0x49f4fd[_0x57df12(0x4a9)],_0x57df12(0x4e9)],[_0x49f4fd[_0x57df12(0x30f)],_0x57df12(0x791)],[_0x49f4fd[_0x57df12(0x22f)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x49f4fd[_0x57df12(0x182)],_0x57df12(0x63a)],[_0x49f4fd['NodeAlreadyExist'],_0x57df12(0x581)],[_0x49f4fd[_0x57df12(0x3c2)],_0x57df12(0x225)]]);class _0x4158de extends Error{[_0x57df12(0x518)];static ['codes']=_0x49f4fd;['data'];constructor(_0x2428a9,_0x383670){const _0x41c372=_0x57df12;super('Internal\x20SDK\x20Error:\x20'+_0x2428a9+':\x20'+_0xdba56d[_0x41c372(0x351)](_0x2428a9)+'\x0aAdditional\x20data:\x20'+JSON['stringify'](_0x383670)),this[_0x41c372(0x518)]=_0x2428a9,this[_0x41c372(0x6de)]=_0x383670||{};}}var _0x3274d4,_0x30f979,_0x547a91,_0x335f11,_0x4cab42,_0x4f957e,_0x769e55;!function(_0x434d66){const _0x52f1e0=_0x57df12;_0x434d66[_0x434d66['PublishMediaStream']=0x0]='PublishMediaStream',_0x434d66[_0x434d66[_0x52f1e0(0x3ac)]=0x1]=_0x52f1e0(0x3ac),_0x434d66[_0x434d66[_0x52f1e0(0x7a0)]=0x2]=_0x52f1e0(0x7a0),_0x434d66[_0x434d66['UpdateMediaStream']=0x3]=_0x52f1e0(0x325),_0x434d66[_0x434d66[_0x52f1e0(0x1aa)]=0x4]='UnsubscribeMediaStream',_0x434d66[_0x434d66[_0x52f1e0(0x2f4)]=0x5]=_0x52f1e0(0x2f4),_0x434d66[_0x434d66[_0x52f1e0(0x5d0)]=0x6]=_0x52f1e0(0x5d0),_0x434d66[_0x434d66[_0x52f1e0(0x4cb)]=0x7]=_0x52f1e0(0x4cb),_0x434d66[_0x434d66[_0x52f1e0(0x396)]=0x8]=_0x52f1e0(0x396),_0x434d66[_0x434d66['ClosePubSubTopic']=0x9]='ClosePubSubTopic',_0x434d66[_0x434d66['CloseMediaStream']=0xa]='CloseMediaStream',_0x434d66[_0x434d66['LocalMediaStreamTrackFail']=0xb]='LocalMediaStreamTrackFail',_0x434d66[_0x434d66[_0x52f1e0(0x1be)]=0xc]=_0x52f1e0(0x1be),_0x434d66[_0x434d66['RequestSyncKeyValueDatabase']=0xd]=_0x52f1e0(0x704),_0x434d66[_0x434d66[_0x52f1e0(0x6bb)]=0xe]=_0x52f1e0(0x6bb),_0x434d66[_0x434d66['RequestTransactionsValue']=0xf]=_0x52f1e0(0x312),_0x434d66[_0x434d66[_0x52f1e0(0x6f7)]=0x10]=_0x52f1e0(0x6f7),_0x434d66[_0x434d66[_0x52f1e0(0x5a5)]=0x11]=_0x52f1e0(0x5a5),_0x434d66[_0x434d66[_0x52f1e0(0x21e)]=0x12]=_0x52f1e0(0x21e),_0x434d66[_0x434d66[_0x52f1e0(0x172)]=0x13]='GenerativeAIContextStats';}(_0x3274d4||(_0x3274d4={})),function(_0x1cda82){const _0x3ea55d=_0x57df12;_0x1cda82[_0x3ea55d(0x476)]='file-write',_0x1cda82[_0x3ea55d(0x75b)]=_0x3ea55d(0x2a9),_0x1cda82[_0x3ea55d(0x546)]=_0x3ea55d(0x403),_0x1cda82[_0x3ea55d(0x5e5)]=_0x3ea55d(0x5dc),_0x1cda82['RequestFile']=_0x3ea55d(0x694),_0x1cda82[_0x3ea55d(0x29d)]=_0x3ea55d(0x6a2),_0x1cda82[_0x3ea55d(0x722)]='request-file-sync',_0x1cda82[_0x3ea55d(0x68d)]=_0x3ea55d(0x197);}(_0x30f979||(_0x30f979={})),function(_0x542acf){const _0x93f686=_0x57df12;_0x542acf['Request']='request',_0x542acf[_0x93f686(0x1cc)]='transaction';}(_0x547a91||(_0x547a91={})),function(_0x18893e){const _0x2e8d7d=_0x57df12;_0x18893e[_0x2e8d7d(0x272)]=_0x2e8d7d(0x785),_0x18893e[_0x2e8d7d(0x614)]=_0x2e8d7d(0x4be),_0x18893e[_0x2e8d7d(0x546)]=_0x2e8d7d(0x403);}(_0x335f11||(_0x335f11={})),function(_0x2c69bd){const _0x19a3ab=_0x57df12;_0x2c69bd['Get']=_0x19a3ab(0x351),_0x2c69bd['List']=_0x19a3ab(0x793),_0x2c69bd[_0x19a3ab(0x51f)]=_0x19a3ab(0x4c0);}(_0x4cab42||(_0x4cab42={})),function(_0x293c95){const _0x8de2dc=_0x57df12;_0x293c95[_0x293c95['Request']=0x0]=_0x8de2dc(0x449),_0x293c95[_0x293c95['Bid']=0x1]=_0x8de2dc(0x524),_0x293c95[_0x293c95[_0x8de2dc(0x6c0)]=0x2]=_0x8de2dc(0x6c0),_0x293c95[_0x293c95['PartialResult']=0x3]=_0x8de2dc(0x3b5),_0x293c95[_0x293c95[_0x8de2dc(0x2c6)]=0x4]='Result',_0x293c95[_0x293c95['Failed']=0x5]=_0x8de2dc(0x16e);}(_0x4f957e||(_0x4f957e={})),function(_0x5d0ebf){const _0x144045=_0x57df12;_0x5d0ebf[_0x5d0ebf[_0x144045(0x498)]=0x0]='PeerConnection',_0x5d0ebf[_0x5d0ebf[_0x144045(0x434)]=0x1]=_0x144045(0x434),_0x5d0ebf[_0x5d0ebf[_0x144045(0x3ed)]=0x2]=_0x144045(0x3ed),_0x5d0ebf[_0x5d0ebf['Subscription']=0x3]='Subscription',_0x5d0ebf[_0x5d0ebf[_0x144045(0x3ee)]=0x4]=_0x144045(0x3ee),_0x5d0ebf[_0x5d0ebf[_0x144045(0x68f)]=0x5]=_0x144045(0x68f),_0x5d0ebf[_0x5d0ebf['Remediation']=0x6]=_0x144045(0x220);}(_0x769e55||(_0x769e55={}));class _0x167746{[_0x57df12(0x5e4)];[_0x57df12(0x52a)];['systemTopic'];constructor(_0x124ca5,_0x40c22b){const _0x57cfe6=_0x57df12;this['owner']=_0x124ca5,this[_0x57cfe6(0x52a)]=_0x40c22b;}[_0x57df12(0x171)](){return this['label'];}['getOwnerId'](){const _0x416c26=_0x57df12;return this['owner'][_0x416c26(0x5a9)]();}[_0x57df12(0x6f2)](){}[_0x57df12(0x432)](_0x129011){const _0x11b28a=_0x57df12;this[_0x11b28a(0x235)]=_0x129011;}[_0x57df12(0x446)](){delete this['systemTopic'];}}const _0x481bcf=require('firebase/firestore');let _0x4d8bdd=_0xc5ffc5(0x14d)['O'];function _0x5ba769(_0x375933){const _0x5cfeae=_0x57df12;return!(!_0x375933||_0x5cfeae(0x330)!=typeof _0x375933||Array[_0x5cfeae(0x3d1)](_0x375933));}_0x4d8bdd=function _0x465911(_0x465452,..._0x80836b){const _0x421090=_0x57df12;if(!Array[_0x421090(0x3d1)](_0x80836b)||0x0===_0x80836b['length'])return _0x465452;const _0x291f96=_0x80836b[_0x421090(0x721)]();if(_0x5ba769(_0x465452)&&_0x5ba769(_0x291f96)){for(const _0x5efb32 in _0x291f96)_0x5ba769(_0x291f96[_0x5efb32])?(_0x465452[_0x5efb32]||Object[_0x421090(0x655)](_0x465452,{[_0x5efb32]:{}}),_0x465911(_0x465452[_0x5efb32],_0x291f96[_0x5efb32])):Object['assign'](_0x465452,{[_0x5efb32]:_0x291f96[_0x5efb32]});}return _0x465911(_0x465452,..._0x80836b);}(_0x4d8bdd,_0xc5ffc5(0x3e6)['O']);const _0x142ef9=_0x4d8bdd,_0x246fff=require('firebase/app'),_0xb5b474=require('firebase/auth'),_0x2279ec=require('firebase/database'),_0x210c80=require('firebase/functions');class _0x32c802{static [_0x57df12(0x453)];['app'];[_0x57df12(0x2a3)];[_0x57df12(0x6b4)];[_0x57df12(0x1e2)];[_0x57df12(0x4d5)];[_0x57df12(0x685)];constructor(){}static[_0x57df12(0x653)](){const _0xd1e0e1=_0x57df12;return _0x32c802[_0xd1e0e1(0x453)]||(_0x32c802[_0xd1e0e1(0x453)]=new _0x32c802()),_0x32c802[_0xd1e0e1(0x453)];}[_0x57df12(0x736)](){const _0x21c2c9=_0x57df12;return this[_0x21c2c9(0x3d9)]||(this[_0x21c2c9(0x3d9)]=(0x0,_0x246fff[_0x21c2c9(0x529)])(_0x142ef9[_0x21c2c9(0x2ca)])),this[_0x21c2c9(0x3d9)];}[_0x57df12(0x6fb)](){const _0x114b2e=_0x57df12;return this['auth']||(this[_0x114b2e(0x2a3)]=(0x0,_0xb5b474[_0x114b2e(0x6fb)])(this['getApp']())),this[_0x114b2e(0x2a3)];}['getFunctions'](){const _0x22e849=_0x57df12;return this[_0x22e849(0x6b4)]||(this['functions']=(0x0,_0x210c80[_0x22e849(0x68b)])(this[_0x22e849(0x736)](),_0x142ef9[_0x22e849(0x2ca)]['functionsRegion'])),this[_0x22e849(0x6b4)];}[_0x57df12(0x51e)](){const _0x249b5d=_0x57df12;return this['database']||(this['database']=(0x0,_0x2279ec[_0x249b5d(0x51e)])(this['getApp']())),this['database'];}[_0x57df12(0x5d7)](){const _0x34d56f=_0x57df12;return this[_0x34d56f(0x4d5)]||(this[_0x34d56f(0x4d5)]=(0x0,_0x481bcf[_0x34d56f(0x5d7)])(this[_0x34d56f(0x736)]())),this['firestore'];}async['getEstimatedTimestamp'](){const _0x22cee6=_0x57df12;if(this[_0x22cee6(0x685)])return Date[_0x22cee6(0x68a)]()+this[_0x22cee6(0x685)];const _0x8e988=this[_0x22cee6(0x51e)](),_0x5a9929=(0x0,_0x2279ec[_0x22cee6(0x1b0)])(_0x8e988,_0x22cee6(0x34c)),_0x1bd802=(0x0,_0x2279ec['onValue'])(_0x5a9929,_0x89310d=>{const _0x2feaff=_0x22cee6;!0x1===_0x89310d[_0x2feaff(0x6c5)]()&&(_0x1bd802(),delete this[_0x2feaff(0x685)]);}),_0x9de1b2=(0x0,_0x2279ec[_0x22cee6(0x1b0)])(_0x8e988,_0x22cee6(0x53c));return new Promise(_0x24fb1b=>{const _0x555ed3=_0x22cee6;(0x0,_0x2279ec[_0x555ed3(0x521)])(_0x9de1b2,_0xc39df5=>{const _0x24b722=_0x555ed3;(0x0,_0x2279ec['off'])(_0x9de1b2),this[_0x24b722(0x685)]=_0xc39df5[_0x24b722(0x6c5)](),_0x24fb1b(Date[_0x24b722(0x68a)]()+(this['clockSkew']??0x0));});});}}const _0x4e0444=_0x32c802[_0x57df12(0x653)]();class _0x5da31d{static [_0x57df12(0x453)];[_0x57df12(0x1d0)]=[_0x54918a[_0x57df12(0x683)]];[_0x57df12(0x271)]=!0x0;['loggingConnectors'];[_0x57df12(0x54f)]='';[_0x57df12(0x19d)];['batchQueue']=[];[_0x57df12(0x458)]=this[_0x57df12(0x167)]();[_0x57df12(0x3c3)];['retryLimit']=0xa;[_0x57df12(0x232)]=0x1f4;[_0x57df12(0x390)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x10d739=_0x57df12;if(_0x10d739(0x4f9)!=typeof window)this['globalObject']=window;else{if(void 0x0===_0xc5ffc5['g'])throw new Error(_0x10d739(0x697));this[_0x10d739(0x19d)]=_0xc5ffc5['g'];}this[_0x10d739(0x234)](),this[_0x10d739(0x19d)][_0x10d739(0x345)]=_0x295391=>{const _0x3f6269=_0x10d739;if(_0x295391===_0x54918a['All'])return this[_0x3f6269(0x1d0)]=Object[_0x3f6269(0x6bc)](_0x54918a)[_0x3f6269(0x136)](_0x39d42f=>_0x54918a[_0x39d42f]),void Object['keys'](_0x54918a)[_0x3f6269(0x3bd)](_0x52da9d=>{const _0xa3ab4b=_0x3f6269,_0x5d263f=_0x52da9d;localStorage[_0xa3ab4b(0x31d)]('crewdle-sdk-logging-'+_0x54918a[_0x5d263f],_0xa3ab4b(0x40f));});this[_0x3f6269(0x1d0)]['includes'](_0x295391)||(this[_0x3f6269(0x1d0)][_0x3f6269(0x374)](_0x295391),localStorage[_0x3f6269(0x31d)]('crewdle-sdk-logging-'+_0x295391,_0x3f6269(0x40f)));},this[_0x10d739(0x19d)][_0x10d739(0x593)]=_0xce9dff=>{const _0x2d3e79=_0x10d739;if(!_0xce9dff||_0xce9dff===_0x54918a[_0x2d3e79(0x580)])return this[_0x2d3e79(0x1d0)]=[],void Object[_0x2d3e79(0x6bc)](_0x54918a)[_0x2d3e79(0x3bd)](_0x5795f4=>{const _0x4e4d42=_0x2d3e79,_0x4a4caf=_0x5795f4;localStorage[_0x4e4d42(0x366)](_0x4e4d42(0x39c)+_0x54918a[_0x4a4caf]);});this['enabledChannels']['includes'](_0xce9dff)&&(this[_0x2d3e79(0x1d0)]=this['enabledChannels']['filter'](_0x1f042c=>_0x1f042c!==_0xce9dff),localStorage['removeItem'](_0x2d3e79(0x39c)+_0xce9dff));},this[_0x10d739(0x19d)][_0x10d739(0x66f)]=_0x54918a;}static[_0x57df12(0x653)](){const _0x130270=_0x57df12;try{return _0x5da31d[_0x130270(0x453)]||(_0x5da31d[_0x130270(0x453)]=new _0x5da31d()),_0x5da31d[_0x130270(0x453)];}catch(_0x5119e1){return console[_0x130270(0x387)](_0x130270(0x29f),_0x5119e1),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}[_0x57df12(0x354)](_0x76e157){const _0x4718c4=_0x57df12;this[_0x4718c4(0x54f)]=_0x76e157;}[_0x57df12(0x333)](_0x1a29f8){const _0x5ae12d=_0x57df12;this[_0x5ae12d(0x1b8)]=_0x1a29f8;}[_0x57df12(0x1c5)](_0x39e5ef,..._0xc7b621){const _0x32442e=_0x57df12;this[_0x32442e(0x271)]&&this[_0x32442e(0x60a)](_0x54918a['Default'],'DEBUG\x20-\x20'+_0x39e5ef,..._0xc7b621);}[_0x57df12(0x60a)](_0x10e6bc,_0x2ac78f,..._0x2dcc85){const _0x21ad78=_0x57df12;_0x142ef9['isProduction']||(this['enabledChannels']['includes'](_0x10e6bc)&&console[_0x21ad78(0x60a)](_0x21ad78(0x553)+_0x10e6bc+'\x27\x0a',new Date()+'\x0a',_0x2ac78f,..._0x2dcc85),this[_0x21ad78(0x1b8)]&&this['loggingConnectors'][_0x21ad78(0x3bd)](_0x2b1123=>{const _0x13626c=_0x21ad78;this['isInternalLoggingConnector'](_0x2b1123)&&_0x2b1123[_0x13626c(0x207)]()[_0x13626c(0x595)](_0x10e6bc)&&_0x2b1123[_0x13626c(0x60a)](_0x2ac78f,{'vendorId':this[_0x13626c(0x54f)],'nodeId':'','nodeType':'','data':{'channel':_0x10e6bc,..._0x2dcc85}});}));}['logRaw'](_0x108c17,_0x277af2,..._0x15dee8){const _0x477133=_0x57df12;_0x142ef9[_0x477133(0x4a5)]||(this['enabledChannels'][_0x477133(0x595)](_0x108c17)&&console[_0x477133(0x60a)](_0x277af2,..._0x15dee8),this['loggingConnectors']&&this['loggingConnectors'][_0x477133(0x3bd)](_0x2520aa=>{const _0x5f3a38=_0x477133;this[_0x5f3a38(0x4d8)](_0x2520aa)&&_0x2520aa[_0x5f3a38(0x207)]()[_0x5f3a38(0x595)](_0x108c17)&&_0x2520aa[_0x5f3a38(0x60a)](_0x277af2,{'vendorId':this[_0x5f3a38(0x54f)],'nodeId':'','nodeType':'','data':{'channel':_0x108c17,..._0x15dee8}});}));}[_0x57df12(0x2e6)](_0x5841b9,_0x3ab32b){const _0x15e701=_0x57df12;if(!this['loggingConnectors'])return;const _0x4fe95b={'vendorId':this['vendorId'],..._0x3ab32b};this[_0x15e701(0x1b8)][_0x15e701(0x3bd)](_0x2ae6b5=>{const _0x37b3f6=_0x15e701;_0x2ae6b5[_0x37b3f6(0x60a)](_0x5841b9,_0x4fe95b);});}['logServiceEvent'](_0x17ca98,_0x39a1d0){const _0x63d100=_0x57df12,_0x2a4fd8=(0x0,_0x481bcf['doc'])((0x0,_0x481bcf[_0x63d100(0x569)])(_0x4e0444[_0x63d100(0x5d7)](),_0x63d100(0x34f)+this[_0x63d100(0x54f)]+_0x63d100(0x24a)));this[_0x63d100(0x458)]['batch'][_0x63d100(0x6dc)](_0x2a4fd8,{..._0x39a1d0,'service':_0x17ca98,'timestamp':(0x0,_0x481bcf[_0x63d100(0x11f)])()}),this[_0x63d100(0x458)][_0x63d100(0x57f)][_0x63d100(0x374)]({'type':_0x63d100(0x6dc),'ref':_0x2a4fd8[_0x63d100(0x629)],'data':_0x39a1d0}),this[_0x63d100(0x39a)]();}[_0x57df12(0x2df)](_0x3a5aef,_0x4f30b3,_0x31be91){const _0x3dd4de=_0x57df12;(0x0,_0x481bcf['setDoc'])((0x0,_0x481bcf[_0x3dd4de(0x743)])(_0x4e0444[_0x3dd4de(0x5d7)](),_0x3dd4de(0x34f)+this[_0x3dd4de(0x54f)]+'/'+_0x3a5aef+'/'+_0x4f30b3),{'storage':_0x31be91,'timestamp':(0x0,_0x481bcf['serverTimestamp'])()});}[_0x57df12(0x39a)](){const _0x1bfa0e=_0x57df12;this[_0x1bfa0e(0x458)]['counter']++,this[_0x1bfa0e(0x458)]['counter']===this['batchSize']?this[_0x1bfa0e(0x12d)]():this[_0x1bfa0e(0x3c3)]||(this[_0x1bfa0e(0x3c3)]=this['globalObject'][_0x1bfa0e(0x361)](()=>this['processBatch'](),this[_0x1bfa0e(0x591)]));}async[_0x57df12(0x12d)](){const _0x19d473=_0x57df12;for(this['batchQueue'][_0x19d473(0x374)](this[_0x19d473(0x458)]),this[_0x19d473(0x458)]=this[_0x19d473(0x167)]();this[_0x19d473(0x130)][_0x19d473(0x5fc)]>0x0;){const _0x1cf682=this['batchQueue']['shift']();if(!await this['commitBatch'](_0x1cf682,0x0))break;}clearTimeout(this[_0x19d473(0x3c3)]),this[_0x19d473(0x3c3)]=void 0x0;}async[_0x57df12(0x468)](_0xdae348,_0x5be5bc){const _0x5775be=_0x57df12;if(_0xdae348['counter']>0x0)try{return await _0xdae348['batch'][_0x5775be(0x746)](),!0x0;}catch(_0x2b7275){if(console[_0x5775be(0x387)]('Error\x20committing\x20batch:',_0x2b7275,_0x5775be(0x647),_0xdae348[_0x5775be(0x57f)]),!(_0x5be5bc<this[_0x5775be(0x410)])){const {nodeId:_0x354597='',nodeType:_0x945e41='',clusterId:_0x1788d8=''}=_0xdae348['operations'][0x0][_0x5775be(0x6de)],_0x4d6195={'nodeId':_0x354597,'nodeType':_0x945e41,'clusterId':_0x1788d8,'data':{'operations':_0xdae348[_0x5775be(0x57f)],'error':_0x2b7275}};return this[_0x5775be(0x387)](_0x5775be(0x4dd),_0x4d6195),!0x1;}setTimeout(()=>this['commitBatch'](_0xdae348,_0x5be5bc+0x1),this[_0x5775be(0x232)]*Math[_0x5775be(0x2ce)](0x2,_0x5be5bc));}}['error'](_0x353cf6,_0x56bddc,..._0x4b76f5){const _0x2151ce=_0x57df12;if(console['error'](new Date(),_0x353cf6,_0x56bddc,..._0x4b76f5),this[_0x2151ce(0x1b8)]){const _0x10a01a={'vendorId':this[_0x2151ce(0x54f)],..._0x56bddc};this[_0x2151ce(0x1b8)]['forEach'](_0xecb12a=>{_0xecb12a['error'](_0x353cf6,_0x10a01a);});}}['warning'](_0x37330c,_0x4d5079,..._0x4db8ed){const _0x1e1108=_0x57df12;if(console[_0x1e1108(0x5a6)](new Date(),_0x37330c,_0x4d5079,_0x4db8ed),this[_0x1e1108(0x1b8)]){const _0x310187={'vendorId':this[_0x1e1108(0x54f)],..._0x4d5079};this[_0x1e1108(0x1b8)][_0x1e1108(0x3bd)](_0x563fff=>{const _0xb92903=_0x1e1108;_0x563fff[_0xb92903(0x5a6)](_0x37330c,_0x310187);});}}[_0x57df12(0x565)](_0x205caa){const _0x2058a4=_0x57df12;return this[_0x2058a4(0x1d0)][_0x2058a4(0x595)](_0x205caa);}[_0x57df12(0x234)](){try{Object['keys'](_0x54918a)['forEach'](_0x132eb6=>{const _0x1e5127=a0_0x5c56,_0x407c56=_0x132eb6;localStorage[_0x1e5127(0x671)]('crewdle-sdk-logging-'+_0x54918a[_0x407c56])&&(console[_0x1e5127(0x60a)](_0x1e5127(0x30b),_0x54918a[_0x407c56]),this[_0x1e5127(0x1d0)][_0x1e5127(0x374)](_0x54918a[_0x407c56]));});}catch(_0x241ae5){}}[_0x57df12(0x4d8)](_0xf6579f){return void 0x0!==_0xf6579f['getEnabledChannels'];}[_0x57df12(0x167)](){const _0x2c9975=_0x57df12;return{'batch':(0x0,_0x481bcf['writeBatch'])(_0x4e0444[_0x2c9975(0x5d7)]()),'operations':[],'counter':0x0};}}const _0x287307=_0x5da31d[_0x57df12(0x653)]();function _0x19f447(_0x7ddb1a,_0x55e706){return'/'===_0x7ddb1a?_0x7ddb1a+_0x55e706:_0x7ddb1a+'/'+_0x55e706;}function _0xfd904d(_0x11c48e){const _0x4c0901=_0x57df12,_0x3bca01=function(_0x25a801){const _0xa85089=a0_0x5c56;return _0x25a801[_0xa85089(0x1e7)]('/')[_0xa85089(0x49b)](_0x2d6c29=>_0x2d6c29['length']>0x0);}(_0x11c48e),_0x1157b0=_0x3bca01['pop']()||'',_0xd5d859=_0x3bca01[_0x4c0901(0x219)]('/');return[0x0===_0xd5d859[_0x4c0901(0x5fc)]?'/':_0xd5d859,_0x1157b0];}async function _0x23478a(_0x23242c){const _0x544ce2=_0x57df12;let _0x2780b3=0x0;for(let _0x331425=0x0;_0x331425<_0x23242c[_0x544ce2(0x62c)];_0x331425+=_0x557315){const _0xd2cf1a=_0x23242c[_0x544ce2(0x50e)](_0x331425,_0x331425+_0x557315),_0x3ed6c7=await _0xd2cf1a[_0x544ce2(0x241)](),_0x4e1830=new Uint8Array(_0x3ed6c7);for(const _0x57e547 of _0x4e1830)_0x2780b3+=_0x57e547;}return _0x2780b3['toString']();}function _0x40f013(_0x30682f){return new Promise((_0x4beb8d,_0x5b0707)=>{!function(_0x3080fb,_0x1febe4,_0x55f010){let _0x4e873d=0x0;const _0x355782=[],_0x390fac=async()=>{const _0x1ca1f9=a0_0x5c56;let _0x5b816a=_0x4e873d+_0x557315;_0x5b816a>_0x3080fb[_0x1ca1f9(0x62c)]&&(_0x5b816a=_0x3080fb[_0x1ca1f9(0x62c)]);let _0x2849c2=_0x3080fb[_0x1ca1f9(0x50e)](_0x4e873d,_0x5b816a);const _0x364ff3=await _0x2849c2[_0x1ca1f9(0x241)]();_0x355782['push'](_0x364ff3),_0x4e873d=_0x5b816a,_0x4e873d<_0x3080fb[_0x1ca1f9(0x62c)]?_0x390fac():_0x1febe4(_0x355782);};_0x390fac();}(_0x30682f,_0x4beb8d);});}function _0x56ce92(_0x27d42c,_0x57bc9d,_0x1abc8b){return new File(_0x27d42c,_0x57bc9d,{'type':_0x1abc8b});}class _0x1a7edb extends _0x167746{['outgoingTopic'];[_0x57df12(0x610)];[_0x57df12(0x257)]=new Map();[_0x57df12(0x526)]=0x0;[_0x57df12(0x571)]=0x0;['bytesSent']=0x0;[_0x57df12(0x30e)]=0x0;constructor(_0x210084,_0x1b0d31){super(_0x210084,_0x1b0d31);}[_0x57df12(0x171)](){return this['label'];}[_0x57df12(0x31e)](){return this['label'];}[_0x57df12(0x632)](){const _0x3810ff=_0x57df12;return _0x36cc4b['ContentType'][_0x3810ff(0x6b3)];}[_0x57df12(0x14c)](){const _0x2d8673=_0x57df12;return this[_0x2d8673(0x52a)];}[_0x57df12(0x293)](_0x44b937){const _0x3d184b=_0x57df12;if(this[_0x3d184b(0x173)])throw new _0x4158de(_0x4158de[_0x3d184b(0x67f)]['InvalidPublisher'],{'message':_0x3d184b(0x118)+this[_0x3d184b(0x5e4)][_0x3d184b(0x5a9)]()+_0x3d184b(0x470)+this[_0x3d184b(0x52a)],'topic':this[_0x3d184b(0x173)]});this[_0x3d184b(0x173)]=_0x44b937;}[_0x57df12(0x3f0)](_0x13eb5b){const _0x5c8b3e=_0x57df12;if(this['incomingTopic'])throw new _0x4158de(_0x4158de['codes'][_0x5c8b3e(0x5f6)],{'message':_0x5c8b3e(0x47e)+this[_0x5c8b3e(0x5e4)]['getId']()+_0x5c8b3e(0x470)+this[_0x5c8b3e(0x52a)],'topic':this[_0x5c8b3e(0x610)]});this[_0x5c8b3e(0x610)]=_0x13eb5b;}[_0x57df12(0x77a)](){const _0x5df99e=_0x57df12;delete this[_0x5df99e(0x173)];}[_0x57df12(0x28d)](){const _0x34aef5=_0x57df12;delete this[_0x34aef5(0x610)];}async[_0x57df12(0x435)](_0x288f32,_0x29d1d9){const _0x54e89a=_0x57df12;if(_0x287307[_0x54e89a(0x60a)](_0x54918a[_0x54e89a(0x3f1)],'DataStream\x20send',this[_0x54e89a(0x5e4)][_0x54e89a(0x5a9)](),_0x288f32,_0x29d1d9),this['messagesSent']+=0x1,_0x288f32 instanceof File){const _0xd6d695=await _0x40f013(_0x288f32);return this['bytesSent']+=_0xd6d695['reduce']((_0x42859b,_0x5bbf2d)=>_0x42859b+_0x5bbf2d[_0x54e89a(0x233)],0x0),void _0xd6d695[_0x54e89a(0x3bd)]((_0x147b90,_0x2fc35)=>{const _0x58b1de=_0x54e89a;this[_0x58b1de(0x173)][_0x58b1de(0x707)]({'sourceId':this['owner']['getId'](),'destinationIds':_0x29d1d9,'propagate':!0x0,'contentType':_0x36cc4b['ContentType'][_0x58b1de(0x64a)],'content':{'name':_0x288f32[_0x58b1de(0x134)],'type':_0x288f32[_0x58b1de(0x3cb)],'data':_0x147b90,'index':_0x2fc35,'total':_0xd6d695[_0x58b1de(0x5fc)]}});});}this[_0x54e89a(0x3d0)]+=JSON['stringify'](_0x288f32)[_0x54e89a(0x5fc)],this[_0x54e89a(0x173)][_0x54e89a(0x707)]({'sourceId':this['owner'][_0x54e89a(0x5a9)](),'destinationIds':_0x29d1d9,'propagate':!0x0,'contentType':_0x36cc4b['ContentType']['Data'],'content':_0x288f32});}['onMessage'](_0x3ece06){const _0x35db7d=_0x57df12;return this[_0x35db7d(0x610)][_0x35db7d(0x76e)](_0x18e748=>{const _0x47a849=_0x35db7d;switch(_0x287307['log'](_0x54918a[_0x47a849(0x3f1)],'DataStream\x20onMessage',this['owner'][_0x47a849(0x5a9)](),_0x18e748),_0x18e748['contentType']){case _0x36cc4b['ContentType']['Data']:this[_0x47a849(0x571)]+=0x1,this[_0x47a849(0x30e)]+=JSON['stringify'](_0x18e748[_0x47a849(0x68e)])[_0x47a849(0x5fc)],_0x3ece06(_0x18e748['sourceId'],_0x18e748['content']);break;case _0x36cc4b[_0x47a849(0x444)][_0x47a849(0x64a)]:this['fileChunks'][_0x47a849(0x245)](_0x18e748[_0x47a849(0x68e)][_0x47a849(0x134)])||this[_0x47a849(0x257)]['set'](_0x18e748[_0x47a849(0x68e)][_0x47a849(0x134)],[]);const _0x39bb6e=this[_0x47a849(0x257)][_0x47a849(0x351)](_0x18e748['content'][_0x47a849(0x134)]);_0x39bb6e[_0x18e748[_0x47a849(0x68e)]['index']]=_0x18e748[_0x47a849(0x68e)][_0x47a849(0x6de)],_0x39bb6e['length']===_0x18e748[_0x47a849(0x68e)][_0x47a849(0x2d9)]&&(this['messagesReceived']+=0x1,this[_0x47a849(0x30e)]+=_0x39bb6e['reduce']((_0x211e48,_0x9e0a5e)=>_0x211e48+_0x9e0a5e[_0x47a849(0x233)],0x0),_0x3ece06(_0x18e748[_0x47a849(0x579)],_0x56ce92(_0x39bb6e,_0x18e748[_0x47a849(0x68e)][_0x47a849(0x134)],_0x18e748[_0x47a849(0x68e)][_0x47a849(0x3cb)])),this['fileChunks'][_0x47a849(0x403)](_0x18e748[_0x47a849(0x68e)]['name']));}});}}function _0x3f0774(){const _0x215574=_0x57df12;let _0x13995e=[];return{'subscribe':_0x250efd=>(_0x13995e[_0x215574(0x374)](_0x250efd),()=>{const _0x3ae2bb=_0x215574;_0x13995e=_0x13995e[_0x3ae2bb(0x49b)](_0x530791=>_0x530791!==_0x250efd);}),'publish':_0x27591a=>{const _0x5af854=_0x215574;_0x13995e[_0x5af854(0x3bd)](_0x2408bb=>_0x2408bb(_0x27591a));}};}function _0x413fb6(){let _0x2e88b0;return{'subscribe':_0x9b6015=>(_0x2e88b0=_0x9b6015,()=>{_0x2e88b0=void 0x0;}),'publish':_0x44cb6a=>{_0x2e88b0&&_0x2e88b0(_0x44cb6a);}};}class _0x133b26{[_0x57df12(0x6c7)];[_0x57df12(0x23c)];['tableObserver'];[_0x57df12(0x3a2)]=_0x413fb6();['listenerUnsubscriber'];constructor(_0x7f96e,_0x58b63f,_0x375b83){const _0x54c11a=_0x57df12;this[_0x54c11a(0x6c7)]=_0x7f96e,this[_0x54c11a(0x23c)]=_0x58b63f,this[_0x54c11a(0x1d6)]=_0x375b83;}[_0x57df12(0x6f2)](){const _0x246b6b=_0x57df12;this[_0x246b6b(0x189)]?.();}async['get'](_0x33e89b){const _0x53d62e=_0x57df12,_0x62284={'key':_0x33e89b,'tableName':this[_0x53d62e(0x23c)],'action':_0x4cab42[_0x53d62e(0x3aa)]};return this[_0x53d62e(0x1d6)]['publish'](_0x62284),this[_0x53d62e(0x6c7)][_0x53d62e(0x351)](_0x33e89b);}async[_0x57df12(0x6dc)](_0x1e5710,_0x3e8308,_0x1343ea=!0x0){const _0x1014b8=_0x57df12;this['validateValue'](_0x3e8308);const _0x386354=await this['connector']['get'](_0x1e5710),_0x163649=await this[_0x1014b8(0x6c7)][_0x1014b8(0x6dc)](_0x1e5710,_0x3e8308),_0x33e31a=_0x386354?_0x335f11[_0x1014b8(0x614)]:_0x335f11[_0x1014b8(0x272)];if(this[_0x1014b8(0x707)](_0x33e31a,_0x163649),!_0x1343ea)return _0x163649;const _0x11667f={'key':_0x1e5710,'tableName':this[_0x1014b8(0x23c)],'action':_0x33e31a,'value':_0x163649};return this['tableObserver'][_0x1014b8(0x707)](_0x11667f),_0x163649;}async['add'](_0x822f88){const _0x39fbc9=_0x57df12;this[_0x39fbc9(0x4f6)](_0x822f88);const _0x517c7c=await this['connector']['add'](_0x822f88),_0x52c8f7={'key':_0x517c7c['id'],'tableName':this[_0x39fbc9(0x23c)],'action':_0x335f11[_0x39fbc9(0x272)],'value':_0x517c7c};return this[_0x39fbc9(0x1d6)][_0x39fbc9(0x707)](_0x52c8f7),this[_0x39fbc9(0x707)](_0x52c8f7[_0x39fbc9(0x226)],_0x517c7c),_0x517c7c;}async[_0x57df12(0x403)](_0x385418,_0xda8d32=!0x0){const _0x5278b1=_0x57df12,_0x350725=await this[_0x5278b1(0x6c7)][_0x5278b1(0x351)](_0x385418);if(!_0x350725)return;await this[_0x5278b1(0x6c7)]['delete'](_0x385418);const _0x20d4d5=_0x335f11['Delete'];if(this[_0x5278b1(0x707)](_0x20d4d5,_0x350725),!_0xda8d32)return;const _0x256b3a={'key':_0x385418,'tableName':this['tableName'],'action':_0x20d4d5,'value':_0x350725};this[_0x5278b1(0x1d6)][_0x5278b1(0x707)](_0x256b3a);}async[_0x57df12(0x15f)](){const _0x22a11a=_0x57df12,_0x41963b=await this[_0x22a11a(0x793)]();for(const _0x438a8f of _0x41963b){const _0x83d35d=_0x335f11[_0x22a11a(0x546)];this[_0x22a11a(0x707)](_0x83d35d,_0x438a8f);const _0x17cd72={'key':_0x438a8f['id'],'tableName':this[_0x22a11a(0x23c)],'action':_0x83d35d,'value':_0x438a8f};this[_0x22a11a(0x1d6)]['publish'](_0x17cd72);}return this['connector'][_0x22a11a(0x15f)]();}async[_0x57df12(0x793)](_0x568b5b){const _0x51c64d=_0x57df12,_0x9358fb={'key':'','tableName':this[_0x51c64d(0x23c)],'action':_0x4cab42[_0x51c64d(0x25a)]};this['tableObserver']['publish'](_0x9358fb);try{_0x568b5b&&(_0x568b5b=_0x568b5b instanceof _0x35ce8d?_0x568b5b[_0x51c64d(0x397)]():_0x35ce8d[_0x51c64d(0x181)](_0x568b5b)[_0x51c64d(0x397)]());}catch(_0x1d3ed8){throw new _0x19eda8(_0x5623ec[_0x51c64d(0x25e)],_0x51c64d(0x596));}try{return await this[_0x51c64d(0x6c7)][_0x51c64d(0x793)](_0x568b5b);}catch(_0x83272d){let _0x4d4169=_0x51c64d(0x596);throw _0x83272d instanceof Error&&(_0x4d4169=_0x83272d[_0x51c64d(0x45a)]),new _0x19eda8(_0x5623ec[_0x51c64d(0x25e)],_0x4d4169);}}async[_0x57df12(0x4c0)](_0x5c2700){const _0x28883a=_0x57df12,_0x283f95={'key':'','tableName':this['tableName'],'action':_0x4cab42[_0x28883a(0x51f)]};this[_0x28883a(0x1d6)][_0x28883a(0x707)](_0x283f95);try{_0x5c2700&&(_0x5c2700=_0x5c2700 instanceof _0x35ce8d?_0x5c2700[_0x28883a(0x397)]():_0x35ce8d[_0x28883a(0x181)](_0x5c2700)[_0x28883a(0x397)]());}catch(_0x4233f4){throw new _0x19eda8(_0x5623ec['KeyValueDatabaseInvalidQuery'],_0x28883a(0x596));}try{return await this[_0x28883a(0x6c7)]['count'](_0x5c2700);}catch(_0x1c1dba){let _0xd35166=_0x28883a(0x596);throw _0x1c1dba instanceof Error&&(_0xd35166=_0x1c1dba['message']),new _0x19eda8(_0x5623ec[_0x28883a(0x25e)],_0xd35166);}}[_0x57df12(0x19b)](){const _0x13bbd1=_0x57df12;return this['connector'][_0x13bbd1(0x19b)]();}['subscribe'](_0x236a26){const _0x290164=_0x57df12;this[_0x290164(0x189)]=this[_0x290164(0x3a2)]['subscribe'](_0x236a26);}[_0x57df12(0x246)](){this['listenerUnsubscriber']?.();}['publish'](_0x47a775,_0x2162fc){const _0x16e826=_0x57df12,_0x363675=this[_0x16e826(0x2b7)](_0x47a775,_0x2162fc);this['eventListener'][_0x16e826(0x707)](_0x363675);}[_0x57df12(0x2b7)](_0x5f22af,_0x204ddd){const _0x566b30=_0x57df12;let _0x16b9ac;switch(_0x5f22af){case _0x335f11[_0x566b30(0x272)]:_0x16b9ac=_0x566b30(0x785);break;case _0x335f11[_0x566b30(0x614)]:_0x16b9ac=_0x566b30(0x4be);break;case _0x335f11[_0x566b30(0x546)]:_0x16b9ac=_0x566b30(0x403);}return{'action':_0x16b9ac,'value':_0x204ddd};}['validateValue'](_0xc9f529){const _0x345ff2=_0x57df12;if(_0x345ff2(0x330)!=typeof _0xc9f529||null===_0xc9f529)throw new _0x19eda8(_0x5623ec['KeyValueDatabaseInvalidValue'],_0x345ff2(0x505));for(const _0xdffd7c in _0xc9f529){const _0x1c020d=_0xc9f529[_0xdffd7c];if(_0x345ff2(0x330)!=typeof _0x1c020d||_0x1c020d instanceof Date){if(![_0x345ff2(0x795),'number',_0x345ff2(0x51d)][_0x345ff2(0x595)](typeof _0x1c020d))throw new _0x19eda8(_0x5623ec[_0x345ff2(0x227)],'Invalid\x20value.\x20Property\x20\x27'+_0xdffd7c+_0x345ff2(0x776));}else this[_0x345ff2(0x4f6)](_0x1c020d);}}}class _0x16a91e extends _0x1a7edb{['localNode'];[_0x57df12(0x545)];[_0x57df12(0x54f)];['db'];[_0x57df12(0x188)];[_0x57df12(0x52c)]=new Map();['tableObserver'];[_0x57df12(0x147)];[_0x57df12(0x69a)];[_0x57df12(0x287)];[_0x57df12(0x755)];['transactionsToSync']=[];['timeoutCallback']=()=>{};[_0x57df12(0x53b)];[_0x57df12(0x3a2)]=_0x413fb6();[_0x57df12(0x189)];['syncTransactionsWritten']=[];[_0x57df12(0x40d)];[_0x57df12(0x31b)];[_0x57df12(0x527)]=0x0;[_0x57df12(0x5c4)]=0x0;constructor(_0x3a1585,_0x35b34c,_0xc5e342,_0x25ae07,_0x1f7a69,_0x24193e){const _0x15eb39=_0x57df12;if(_0x15eb39(0x795)!=typeof _0x35b34c)throw new _0x19eda8(_0x5623ec[_0x15eb39(0x13a)],_0x15eb39(0x624));if(super(_0x3a1585,_0x35b34c),this[_0x15eb39(0x749)]=_0x3a1585,this[_0x15eb39(0x545)]=_0xc5e342,this[_0x15eb39(0x54f)]=_0x25ae07,this['dbKey']=_0x15eb39(0x7a2)+this[_0x15eb39(0x54f)]+_0x15eb39(0x7a2)+this[_0x15eb39(0x545)]+_0x15eb39(0x7a2)+this[_0x15eb39(0x52a)],this[_0x15eb39(0x1d6)]=_0x413fb6(),this[_0x15eb39(0x287)]=new Promise(_0x2bb730=>{const _0x4c6197=_0x15eb39;this[_0x4c6197(0x755)]=_0x2bb730;}),_0x1f7a69 instanceof _0x4786b0)this[_0x15eb39(0x40d)]=_0x1f7a69[_0x15eb39(0x441)]();else{const [_0x37e38f,_0x510021]=_0x4786b0[_0x15eb39(0x328)](_0x1f7a69);if(!_0x37e38f)throw new _0x19eda8(_0x5623ec['KeyValueDatabaseInvalidLayout'],_0x15eb39(0x346)+_0x510021);this['layout']=_0x1f7a69;}this[_0x15eb39(0x2e2)](this[_0x15eb39(0x40d)]),this['db']=new _0x24193e(this[_0x15eb39(0x188)],this[_0x15eb39(0x40d)]),this[_0x15eb39(0x6ca)]();}[_0x57df12(0x1f2)](){const _0x3a4875=_0x57df12;this[_0x3a4875(0x6ca)]();}['getContentType'](){const _0x211c69=_0x57df12;return _0x36cc4b[_0x211c69(0x444)][_0x211c69(0x405)];}[_0x57df12(0x6f2)](){const _0x1e687b=_0x57df12;this['db'][_0x1e687b(0x42b)](),this[_0x1e687b(0x69a)]?.(),clearTimeout(this[_0x1e687b(0x31b)]),delete this['debounceStats'],super[_0x1e687b(0x6f2)]();}['close'](){const _0xac6a81=_0x57df12;this[_0xac6a81(0x235)][_0xac6a81(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0xac6a81(0x3ed)],'content':{'type':_0x3274d4[_0xac6a81(0x396)],'label':this[_0xac6a81(0x52a)]}});}[_0x57df12(0x4fe)](_0x516d88){const _0x1db6fa=_0x57df12,_0x10e88b=this[_0x1db6fa(0x52c)]['get'](_0x516d88);if(_0x10e88b)return _0x10e88b;try{if(!this['db'][_0x1db6fa(0x495)](_0x516d88))throw new _0x19eda8(_0x5623ec[_0x1db6fa(0x4e2)],'Table\x20not\x20found');const _0x1856ba=new _0x133b26(this['db'][_0x1db6fa(0x142)](_0x516d88),_0x516d88,this['tableObserver']);return this[_0x1db6fa(0x52c)][_0x1db6fa(0x6dc)](_0x516d88,_0x1856ba),{'get':_0x1856ba[_0x1db6fa(0x351)]['bind'](_0x1856ba),'set':_0x1856ba[_0x1db6fa(0x6dc)]['bind'](_0x1856ba),'add':_0x1856ba[_0x1db6fa(0x785)]['bind'](_0x1856ba),'delete':_0x1856ba[_0x1db6fa(0x403)][_0x1db6fa(0x61c)](_0x1856ba),'clear':_0x1856ba[_0x1db6fa(0x15f)][_0x1db6fa(0x61c)](_0x1856ba),'list':_0x1856ba[_0x1db6fa(0x793)][_0x1db6fa(0x61c)](_0x1856ba),'count':_0x1856ba[_0x1db6fa(0x4c0)][_0x1db6fa(0x61c)](_0x1856ba),'subscribe':_0x1856ba[_0x1db6fa(0x76e)][_0x1db6fa(0x61c)](_0x1856ba),'unsubscribe':_0x1856ba[_0x1db6fa(0x246)]['bind'](_0x1856ba)};}catch(_0x1cfb98){throw new _0x19eda8(_0x5623ec[_0x1db6fa(0x525)],'Database\x20not\x20open');}}['subscribe'](_0x4490cf){const _0x56301d=_0x57df12;this[_0x56301d(0x189)]=this[_0x56301d(0x3a2)][_0x56301d(0x76e)](_0x4490cf);}[_0x57df12(0x246)](){const _0x5c2168=_0x57df12;this['listenerUnsubscriber']?.(),this[_0x5c2168(0x189)]=void 0x0;}async['open'](){const _0x208159=_0x57df12,_0x3aacec=[_0x4be813,_0x3dd082],_0x4188fc=[];try{await this['db']['open']();const _0x929b17=this['db'][_0x208159(0x142)](_0x3dd082),_0x22e7cf=await _0x929b17[_0x208159(0x793)](),{id:_0x5808aa,layout:_0x3a4f1a}=_0x22e7cf[0x0]??{};if(_0x3a4f1a){for(const _0x154c70 in _0x3a4f1a)_0x3aacec['includes'](_0x154c70)||this['db'][_0x208159(0x495)](_0x154c70)||_0x4188fc['push'](_0x154c70);_0x929b17[_0x208159(0x6dc)](_0x5808aa,{'layout':this[_0x208159(0x40d)]});}else _0x929b17[_0x208159(0x785)]({'layout':this[_0x208159(0x40d)]});}catch(_0x35ef95){throw new _0x19eda8(_0x5623ec['KeyValueDatabaseNotOpen'],_0x35ef95[_0x208159(0x45a)]||_0x208159(0x78c));}this[_0x208159(0x499)](),this[_0x208159(0x2fb)](),this['setOnTableWriteHandler'](),_0x4188fc[_0x208159(0x3bd)](_0xb83018=>this[_0x208159(0x574)](_0xb83018));}async[_0x57df12(0x25d)](_0x558607,_0x5f5689){const _0x5c8e49=_0x57df12;_0x558607?(this['timeoutCallback']=_0x5f5689,this[_0x5c8e49(0x53b)]=setTimeout(_0x5f5689,_0x46b77d),this[_0x5c8e49(0x235)][_0x5c8e49(0x707)]({'sourceId':this[_0x5c8e49(0x749)][_0x5c8e49(0x5a9)](),'destinationIds':[_0x558607],'messageType':_0x769e55['Content'],'content':{'type':_0x3274d4[_0x5c8e49(0x704)],'label':this[_0x5c8e49(0x52a)]}}),await this[_0x5c8e49(0x287)]):setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0);}async[_0x57df12(0x63b)](_0x15c6d3){const _0x563ff4=_0x57df12;if(!this[_0x563ff4(0x147)])throw new _0x4158de(_0x4158de['codes'][_0x563ff4(0x738)]);await this['isSync'];const _0x149c08=await this[_0x563ff4(0x147)][_0x563ff4(0x793)]();this[_0x563ff4(0x235)][_0x563ff4(0x707)]({'sourceId':this[_0x563ff4(0x749)][_0x563ff4(0x5a9)](),'destinationIds':[_0x15c6d3],'messageType':_0x769e55[_0x563ff4(0x3ed)],'content':{'type':_0x3274d4[_0x563ff4(0x6bb)],'label':this['label'],'transactions':_0x149c08}});}async[_0x57df12(0x262)](_0x4d1a56,_0x4ea2a1){const _0x322a7d=_0x57df12;if(!this['transactionTable'])throw new _0x4158de(_0x4158de[_0x322a7d(0x67f)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x322a7d(0x385)]();const _0x576d7b=await this['transactionTable'][_0x322a7d(0x793)]();for(const _0x366626 of _0x576d7b){const _0x3b4b31=_0x4ea2a1[_0x322a7d(0x775)](_0x15a5bd=>_0x15a5bd['id']===_0x366626['id']);if(_0x3b4b31&&this['compareTransactions'](_0x366626,_0x3b4b31)<=0x0)continue;const [_0x38a257,_0x1973f3]=_0x366626['id'][_0x322a7d(0x1e7)]('::'),_0xed73ca=this['tables']['get'](_0x38a257),_0x61df63=await _0xed73ca?.['get'](_0x1973f3);_0x366626['value']=_0x61df63,this[_0x322a7d(0x435)](_0x366626);}for(const _0x1787f7 of _0x4ea2a1){const _0x443fe1=await this[_0x322a7d(0x147)]['get'](_0x1787f7['id']);if(!(_0x443fe1&&this['compareTransactions'](_0x1787f7,_0x443fe1)<=0x0)){if(_0x1787f7[_0x322a7d(0x226)]===_0x335f11[_0x322a7d(0x546)]){const [_0x5c14cd,_0x30e824]=_0x1787f7['id'][_0x322a7d(0x1e7)]('::'),_0x4b0e63=this[_0x322a7d(0x52c)]['get'](_0x5c14cd);await _0x4b0e63?.[_0x322a7d(0x403)](_0x30e824,!0x1);}else this[_0x322a7d(0x2bc)]['push'](_0x1787f7['id']);}}if(0x0===this[_0x322a7d(0x2bc)][_0x322a7d(0x5fc)])return this[_0x322a7d(0x385)](),void this[_0x322a7d(0x64c)]();this['syncTimeout']=setTimeout(this['timeoutCallback'],_0x46b77d),this['systemTopic'][_0x322a7d(0x707)]({'sourceId':this['localNode'][_0x322a7d(0x5a9)](),'destinationIds':[_0x4d1a56],'messageType':_0x769e55[_0x322a7d(0x3ed)],'content':{'type':_0x3274d4[_0x322a7d(0x312)],'label':this['label'],'transactionIds':this[_0x322a7d(0x2bc)]}});}async[_0x57df12(0x731)](_0x140e2b,_0x1f02a1){const _0x4092af=_0x57df12;if(!this[_0x4092af(0x147)])throw new _0x4158de(_0x4158de['codes']['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x5c7872 of _0x1f02a1){const _0x4a03a6=await this[_0x4092af(0x147)][_0x4092af(0x351)](_0x5c7872);if(!_0x4a03a6)continue;const [_0x559e90,_0xaf4cb1]=_0x5c7872[_0x4092af(0x1e7)]('::'),_0x2870b0=this[_0x4092af(0x52c)][_0x4092af(0x351)](_0x559e90),_0x5c6816=await _0x2870b0?.[_0x4092af(0x351)](_0xaf4cb1);_0x4a03a6[_0x4092af(0x638)]=_0x5c6816,this[_0x4092af(0x435)](_0x4a03a6,[_0x140e2b]);}}async['writeTransaction'](_0x5931ca){const _0x275317=_0x57df12;if(!this[_0x275317(0x147)])throw new _0x4158de(_0x4158de[_0x275317(0x67f)][_0x275317(0x738)]);const _0x5407d0=await this[_0x275317(0x147)][_0x275317(0x351)](_0x5931ca['id']);if(_0x5407d0&&this[_0x275317(0x2f9)](_0x5931ca,_0x5407d0)<=0x0)return;const _0x8896b={..._0x5931ca};return delete _0x8896b[_0x275317(0x638)],await this[_0x275317(0x147)]['set'](_0x5931ca['id'],_0x8896b),_0x5931ca;}[_0x57df12(0x2f9)](_0x5d4ea8,_0x2ba5d5){const _0x24a027=_0x57df12;return _0x5d4ea8[_0x24a027(0x47a)]<_0x2ba5d5[_0x24a027(0x47a)]?-0x1:_0x5d4ea8[_0x24a027(0x47a)]>_0x2ba5d5[_0x24a027(0x47a)]?0x1:_0x5d4ea8[_0x24a027(0x2c3)]-_0x2ba5d5[_0x24a027(0x2c3)];}async[_0x57df12(0x35b)](_0x1ac425){const _0x3d45e0=_0x57df12;if(!this['transactionTable'])throw new _0x4158de(_0x4158de[_0x3d45e0(0x67f)][_0x3d45e0(0x738)]);const _0x104e4e=_0x1ac425[_0x3d45e0(0x23c)]+'::'+_0x1ac425[_0x3d45e0(0x634)],_0x29f9d2=await _0x4e0444['getEstimatedTimestamp'](),_0xd55bc8={'id':_0x104e4e,'priority':Math[_0x3d45e0(0x77b)](),'timestamp':_0x29f9d2,'action':_0x1ac425[_0x3d45e0(0x226)]};if(await this[_0x3d45e0(0x2b4)](_0xd55bc8))return _0xd55bc8;}async['deleteTransactionsForTable'](_0x1edf0a){const _0x1db042=_0x57df12;if(!this[_0x1db042(0x147)])throw new _0x4158de(_0x4158de[_0x1db042(0x67f)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x3a38d5=_0x35ce8d[_0x1db042(0x121)]('id')[_0x1db042(0x781)]('between',[_0x1edf0a+'::',_0x1edf0a+_0x1db042(0x73b)]),_0x5ac998=await this[_0x1db042(0x147)][_0x1db042(0x793)](_0x3a38d5[_0x1db042(0x397)]());for(const _0x31c932 of _0x5ac998)await this[_0x1db042(0x147)][_0x1db042(0x403)](_0x31c932['id']);}[_0x57df12(0x2fb)](){const _0x4646a5=_0x57df12;this[_0x4646a5(0x6d5)](async(_0x2ff833,_0x34b3c3)=>{const _0x38d669=_0x4646a5;if(_0x34b3c3 instanceof File)return;if(!await this[_0x38d669(0x2b4)](_0x34b3c3))return void this[_0x38d669(0x349)](_0x34b3c3);if(!_0x34b3c3[_0x38d669(0x638)])throw new _0x4158de(_0x4158de[_0x38d669(0x67f)][_0x38d669(0x5b6)]);const [_0x604cab,_0x5d0fda]=_0x34b3c3['id'][_0x38d669(0x1e7)]('::'),_0x100771=this[_0x38d669(0x52c)][_0x38d669(0x351)](_0x604cab);if(!_0x100771)throw new _0x4158de(_0x4158de['codes'][_0x38d669(0x585)],{'table':_0x100771});let _0x4cdc81=0x0;switch(_0x34b3c3[_0x38d669(0x226)]){case _0x335f11[_0x38d669(0x272)]:case _0x335f11[_0x38d669(0x614)]:{const _0x551185=_0x100771[_0x38d669(0x6dc)](_0x5d0fda,_0x34b3c3['value'],!0x1);_0x4cdc81=JSON['stringify'](_0x34b3c3[_0x38d669(0x638)])[_0x38d669(0x5fc)],this[_0x38d669(0x2bc)]['includes'](_0x34b3c3['id'])&&this[_0x38d669(0x151)][_0x38d669(0x374)](_0x551185);break;}case _0x335f11['Delete']:{const _0x4d1715=_0x100771['delete'](_0x5d0fda,!0x1);this['transactionsToSync'][_0x38d669(0x595)](_0x34b3c3['id'])&&this[_0x38d669(0x151)][_0x38d669(0x374)](_0x4d1715);break;}}_0x287307[_0x38d669(0x7a9)](_0x3313a9[_0x38d669(0x405)],{'type':'sync','label':this[_0x38d669(0x52a)],'nodeId':this[_0x38d669(0x749)]['getId'](),'nodeType':this[_0x38d669(0x749)][_0x38d669(0x3cb)],'clusterId':this[_0x38d669(0x545)],'tableName':_0x604cab,'key':_0x5d0fda,'size':_0x4cdc81}),this[_0x38d669(0x349)](_0x34b3c3);});}[_0x57df12(0x339)](){const _0x1c6c07=_0x57df12;this[_0x1c6c07(0x69a)]=this[_0x1c6c07(0x1d6)][_0x1c6c07(0x76e)](async _0x220b5d=>{const _0x2448c8=_0x1c6c07;let _0x9f1b6d=0x0;switch(_0x220b5d[_0x2448c8(0x226)]){case _0x335f11[_0x2448c8(0x272)]:case _0x335f11[_0x2448c8(0x614)]:case _0x335f11[_0x2448c8(0x546)]:{const _0x34b729=await this[_0x2448c8(0x35b)](_0x220b5d);if(!_0x34b729)return;_0x34b729[_0x2448c8(0x638)]=_0x220b5d[_0x2448c8(0x638)],this[_0x2448c8(0x435)](_0x34b729),_0x9f1b6d=JSON[_0x2448c8(0x2c2)](_0x220b5d['value'])[_0x2448c8(0x5fc)],this[_0x2448c8(0x527)]+=0x1;break;}case _0x4cab42['Get']:case _0x4cab42[_0x2448c8(0x25a)]:case _0x4cab42[_0x2448c8(0x51f)]:this[_0x2448c8(0x5c4)]+=0x1;}_0x287307['logServiceEvent'](_0x3313a9['KeyValueDatabase'],{'type':_0x220b5d[_0x2448c8(0x226)],'label':this['label'],'nodeId':this[_0x2448c8(0x749)][_0x2448c8(0x5a9)](),'nodeType':this[_0x2448c8(0x749)][_0x2448c8(0x3cb)],'clusterId':this[_0x2448c8(0x545)],'tableName':_0x220b5d['tableName'],'key':_0x220b5d[_0x2448c8(0x634)],'size':_0x9f1b6d}),this[_0x2448c8(0x6ca)]();});}[_0x57df12(0x499)](){const _0x4aa787=_0x57df12;this['db']&&(this[_0x4aa787(0x147)]||(this['transactionTable']=this['db'][_0x4aa787(0x142)](_0x4be813)));}[_0x57df12(0x385)](){const _0x55d34e=_0x57df12;this['syncTimeout']&&(clearTimeout(this[_0x55d34e(0x53b)]),delete this[_0x55d34e(0x53b)]);}[_0x57df12(0x64c)](){const _0x4732c4=_0x57df12;this[_0x4732c4(0x3a2)][_0x4732c4(0x707)]({'event':_0x36cc4b[_0x4732c4(0x362)][_0x4732c4(0x5f5)]}),this[_0x4732c4(0x755)]?.(!0x0),delete this[_0x4732c4(0x755)],this['sendStats']();}async['publishSyncCompletedAfterWrites'](){const _0x2518c0=_0x57df12;await Promise[_0x2518c0(0x438)](this[_0x2518c0(0x151)]),this[_0x2518c0(0x64c)]();}[_0x57df12(0x349)](_0x5d6524){const _0x451e09=_0x57df12;this[_0x451e09(0x2bc)][_0x451e09(0x595)](_0x5d6524['id'])&&(this[_0x451e09(0x385)](),this[_0x451e09(0x2bc)]=this[_0x451e09(0x2bc)]['filter'](_0x16d947=>_0x16d947!==_0x5d6524['id']),0x0!==this[_0x451e09(0x2bc)]['length']?this[_0x451e09(0x53b)]=setTimeout(this[_0x451e09(0x730)],_0x46b77d):this[_0x451e09(0x29c)]());}[_0x57df12(0x6ca)](){const _0x5cb462=_0x57df12;this[_0x5cb462(0x31b)]&&clearTimeout(this[_0x5cb462(0x31b)]),this[_0x5cb462(0x31b)]=setTimeout(async()=>{const _0x2c6b9a=_0x5cb462;delete this['debounceStats'];let _0x25bc08=0x0;for(const _0x1bce85 of this['tables'][_0x2c6b9a(0x49e)]())_0x25bc08+=await _0x1bce85[_0x2c6b9a(0x19b)]();this[_0x2c6b9a(0x235)][_0x2c6b9a(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x2c6b9a(0x3ed)],'content':{'type':_0x3274d4[_0x2c6b9a(0x21e)],'label':this[_0x2c6b9a(0x52a)],'stats':{'timestamp':Date['now'](),'storage':_0x25bc08,'messagesSent':this[_0x2c6b9a(0x526)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x2c6b9a(0x3d0)],'bytesReceived':this['bytesReceived'],'writes':this[_0x2c6b9a(0x527)],'reads':this[_0x2c6b9a(0x5c4)],'prompts':0x0,'tokens':0x0}}}),_0x287307[_0x2c6b9a(0x2df)](_0x3313a9['KeyValueDatabase'],'ccc'+this[_0x2c6b9a(0x545)]+_0x2c6b9a(0x7a2)+this[_0x2c6b9a(0x52a)],_0x25bc08);},0x1388);}['addReservedTables'](_0x911d5b){const _0x86b673=_0x57df12;if(_0x911d5b[_0x86b673(0x52c)][_0x4be813])throw new _0x19eda8(_0x5623ec[_0x86b673(0x58a)],_0x86b673(0x1a3)+_0x4be813+_0x86b673(0x55a));if(_0x911d5b[_0x86b673(0x52c)][_0x3dd082])throw new _0x19eda8(_0x5623ec[_0x86b673(0x58a)],_0x86b673(0x1a3)+_0x3dd082+_0x86b673(0x55a));_0x911d5b[_0x86b673(0x52c)][_0x4be813]={'indexes':[]},_0x911d5b['tables'][_0x3dd082]={'indexes':[]};}}const _0x2a5479=require('@crewdle/mist-connector-opfs'),_0x242815=require('@crewdle/mist-connector-indexed-db'),_0x8a9717=require('@crewdle/mist-connector-webrtc-browser');var _0x193462,_0x58c6e4,_0x493715,_0x215fe2,_0x58bb2d,_0x309288,_0x5d4ed9,_0x1238c9,_0x486168;!function(_0x288157){const _0xd81ada=_0x57df12;_0x288157['AudioContext']='AudioContext',_0x288157[_0xd81ada(0x74c)]=_0xd81ada(0x74c),_0x288157[_0xd81ada(0x50b)]=_0xd81ada(0x50b),_0x288157[_0xd81ada(0x59a)]='Backgrounds',_0x288157[_0xd81ada(0x373)]=_0xd81ada(0x373),_0x288157['MediaStream']='MediaStream',_0x288157[_0xd81ada(0x265)]=_0xd81ada(0x265),_0x288157[_0xd81ada(0x440)]=_0xd81ada(0x440),_0x288157['WebGL']=_0xd81ada(0x2c4),_0x288157[_0xd81ada(0x5e6)]=_0xd81ada(0x5e6);}(_0x193462||(_0x193462={}));class _0x330ecf{[_0x57df12(0x708)];[_0x57df12(0x709)];[_0x57df12(0x60e)];constructor(_0xe67876=new Map(),_0x3f6a41=new Map(),_0x5f4a7a=new EventTarget()){const _0x298f76=_0x57df12;this[_0x298f76(0x708)]=_0xe67876,this[_0x298f76(0x709)]=_0x3f6a41,this[_0x298f76(0x60e)]=_0x5f4a7a;}[_0x57df12(0x2de)]=(_0x3d8c46,_0x3d3e08)=>this[_0x57df12(0x708)]['has'](_0x3d8c46)?(_0x287307['log'](_0x54918a[_0x57df12(0x421)],_0x57df12(0x3d8),{'event':_0x3d8c46,'data':_0x3d3e08}),this[_0x57df12(0x60e)][_0x57df12(0x631)](new CustomEvent(_0x3d8c46,{'detail':_0x3d3e08})),!0x0):(this[_0x57df12(0x705)](_0x3d8c46,_0x3d3e08),!0x1);['on']=(_0x2a6542,_0x21a1e7)=>{const _0x41c71c=_0x57df12,_0x3ad5bf=_0x2dd976=>{const _0x534833=a0_0x5c56;_0x287307[_0x534833(0x60a)](_0x54918a['Events'],_0x534833(0x702),_0x2dd976[_0x534833(0x3cb)],_0x2dd976['detail']),_0x21a1e7(_0x2dd976[_0x534833(0x49d)]);};return this[_0x41c71c(0x708)][_0x41c71c(0x6dc)](_0x2a6542,_0x3ad5bf),this[_0x41c71c(0x60e)]['addEventListener'](_0x2a6542,_0x3ad5bf),_0x287307[_0x41c71c(0x60a)](_0x54918a[_0x41c71c(0x652)],_0x41c71c(0x5e8),_0x2a6542,_0x21a1e7),this['consumeBufferedEvents'](_0x2a6542),this;};[_0x57df12(0x56c)](_0x34dbbb){const _0x49a06f=_0x57df12;if(!_0x34dbbb)return this['registeredListeners'][_0x49a06f(0x3bd)]((_0x2f9b11,_0x14484e)=>{const _0xae25dd=_0x49a06f;this[_0xae25dd(0x60e)][_0xae25dd(0x6e5)](_0x14484e,_0x2f9b11);}),void this[_0x49a06f(0x708)]['clear']();'string'==typeof _0x34dbbb&&this[_0x49a06f(0x716)](_0x34dbbb),Array[_0x49a06f(0x3d1)](_0x34dbbb)&&_0x34dbbb[_0x49a06f(0x3bd)](_0x26f57c=>{this['removeListener'](_0x26f57c);});}[_0x57df12(0x716)](_0xc69e02){const _0x117765=_0x57df12,_0x5ee2b3=this[_0x117765(0x708)]['get'](_0xc69e02);_0x5ee2b3&&(this['eventTarget'][_0x117765(0x6e5)](_0xc69e02,_0x5ee2b3),this[_0x117765(0x708)][_0x117765(0x403)](_0xc69e02));}['bufferEvent'](_0x25cb25,_0x2cf5f7){const _0x36fb57=_0x57df12;_0x287307['log'](_0x54918a['Events'],_0x36fb57(0x753),{'event':_0x25cb25,'data':_0x2cf5f7});const _0x404e97=this['bufferedEvents'][_0x36fb57(0x351)](_0x25cb25)||[];this['bufferedEvents'][_0x36fb57(0x6dc)](_0x25cb25,[..._0x404e97,_0x2cf5f7]);}['consumeBufferedEvents'](_0x172e52){const _0x5e6bb7=_0x57df12,_0xbb9311=this[_0x5e6bb7(0x709)]['get'](_0x172e52);_0xbb9311&&(_0xbb9311['forEach'](_0x5d40ab=>{const _0x497476=_0x5e6bb7;_0x287307[_0x497476(0x60a)](_0x54918a[_0x497476(0x421)],_0x497476(0x18b),{'event':_0x172e52,'data':_0x5d40ab}),this[_0x497476(0x60e)][_0x497476(0x631)](new CustomEvent(_0x172e52,{'detail':_0x5d40ab}));}),this[_0x5e6bb7(0x709)][_0x5e6bb7(0x403)](_0x172e52));}}class _0x3b8338 extends Error{constructor(_0x4fd5de){const _0x3fa482=_0x57df12;super(_0x3fa482(0x735)+_0x4fd5de);}}!function(_0x43f5bc){const _0x1d64c4=_0x57df12;_0x43f5bc[_0x43f5bc[_0x1d64c4(0x2eb)]=0x0]=_0x1d64c4(0x2eb),_0x43f5bc[_0x43f5bc[_0x1d64c4(0x3ce)]=0x1]='Optimization';}(_0x58c6e4||(_0x58c6e4={})),function(_0x14d677){const _0x20a72d=_0x57df12;_0x14d677[_0x14d677[_0x20a72d(0x3e4)]=0x0]='Offer',_0x14d677[_0x14d677[_0x20a72d(0x1e3)]=0x1]='Answer',_0x14d677[_0x14d677['Handshake']=0x2]=_0x20a72d(0x3d2),_0x14d677[_0x14d677[_0x20a72d(0x4d6)]=0x3]=_0x20a72d(0x4d6),_0x14d677[_0x14d677[_0x20a72d(0x2bb)]=0x4]='NeedRestart',_0x14d677[_0x14d677['Restart']=0x5]='Restart',_0x14d677[_0x14d677['Disconnect']=0x6]=_0x20a72d(0x194),_0x14d677[_0x14d677[_0x20a72d(0x3ee)]=0x7]=_0x20a72d(0x3ee),_0x14d677[_0x14d677[_0x20a72d(0x23a)]=0x8]=_0x20a72d(0x23a);}(_0x493715||(_0x493715={})),function(_0xc45a82){const _0x3cc1cf=_0x57df12;_0xc45a82[_0xc45a82[_0x3cc1cf(0x4fa)]=0x0]='Sender',_0xc45a82[_0xc45a82[_0x3cc1cf(0x7a5)]=0x1]=_0x3cc1cf(0x7a5);}(_0x215fe2||(_0x215fe2={})),function(_0x1a6c45){const _0x471ecf=_0x57df12;_0x1a6c45[_0x471ecf(0x32a)]='media-stream';}(_0x58bb2d||(_0x58bb2d={})),function(_0x5f54f4){const _0x1dd825=_0x57df12;_0x5f54f4[_0x5f54f4[_0x1dd825(0x5a7)]=0x0]=_0x1dd825(0x5a7),_0x5f54f4[_0x5f54f4[_0x1dd825(0x36f)]=0x1]=_0x1dd825(0x36f),_0x5f54f4[_0x5f54f4[_0x1dd825(0x633)]=0x2]=_0x1dd825(0x633),_0x5f54f4[_0x5f54f4[_0x1dd825(0x16f)]=0x3]='NodeLeave';}(_0x309288||(_0x309288={})),function(_0x3afdc1){const _0x5956f6=_0x57df12;_0x3afdc1[_0x3afdc1[_0x5956f6(0x220)]=0x0]=_0x5956f6(0x220),_0x3afdc1[_0x3afdc1[_0x5956f6(0x299)]=0x1]='RemoteRemediation';}(_0x5d4ed9||(_0x5d4ed9={})),function(_0x251151){const _0x59a5a2=_0x57df12;_0x251151[_0x59a5a2(0x5f3)]=_0x59a5a2(0x649),_0x251151[_0x59a5a2(0x528)]=_0x59a5a2(0x21f);}(_0x1238c9||(_0x1238c9={})),function(_0x674290){const _0x23c751=_0x57df12;_0x674290['Resolution']=_0x23c751(0x5db),_0x674290[_0x23c751(0x494)]=_0x23c751(0x12c);}(_0x486168||(_0x486168={}));const _0x246cd8=require('aws-amplify'),_0x40b612=require('aws-amplify/utils'),_0x254e3b=require('@aws-amplify/api'),_0x53fda5=require('@aws-amplify/core');class _0x4dadb4{['clusterId'];[_0x57df12(0x749)];[_0x57df12(0x69e)];constructor(_0x432a52,_0x4a4994,_0x50d8ad){const _0x325d9d=_0x57df12;this[_0x325d9d(0x545)]=_0x432a52,this[_0x325d9d(0x749)]=_0x4a4994,this[_0x325d9d(0x69e)]=_0x50d8ad;}['getLocalId'](){return this['localNode']['getId']();}[_0x57df12(0x797)](){return this['remoteId'];}}var _0x34a0b4,_0x26866c,_0x43552a;function _0x1d6486(_0x29c541,_0x2e90ca){return _0x29c541['sourceId']===_0x2e90ca;}function _0x562ce4(_0xddade0,_0x30e1f4){const _0x1b24be=_0x57df12;return _0xddade0[_0x1b24be(0x5ad)]?.[_0x1b24be(0x595)](_0x30e1f4)??function(_0x3e9eed){const _0x4672c6=_0x1b24be;return void 0x0===_0x3e9eed[_0x4672c6(0x5ad)];}(_0xddade0);}function _0x71c56e(_0x1f7c4e,{contentType:_0x3d9528,label:_0x244787,remoteId:_0x3c2e09}){return _0x1f7c4e+'-'+_0x3d9528+'-'+_0x244787+'-'+_0x3c2e09;}function _0x5319ff(_0x19914a,_0x424ec6,_0x265db0){return''+_0x19914a+_0x424ec6+_0x265db0;}function _0xed33d0(_0x5d3c98){const _0x1ee420=_0x57df12;return _0x5d3c98===_0x26866c[_0x1ee420(0x18c)]?_0x1ee420(0x78d):_0x1ee420(0x1dc);}function _0xf1991(_0x3316bd,_0x18c4be){const _0x4c089d=_0x57df12;return{'label':_0x3316bd[_0x4c089d(0x14c)](),'contentType':_0x3316bd[_0x4c089d(0x632)](),'remoteId':_0x18c4be['getRemoteId'](),'supportsContentType':_0x18c4be[_0x4c089d(0x402)]()['includes'](_0x3316bd['getContentType']())};}!function(_0x3ae8b2){const _0x4be0be=_0x57df12;_0x3ae8b2[_0x3ae8b2[_0x4be0be(0x34b)]=0x0]=_0x4be0be(0x34b),_0x3ae8b2[_0x3ae8b2[_0x4be0be(0x46e)]=0x1]=_0x4be0be(0x46e),_0x3ae8b2[_0x3ae8b2[_0x4be0be(0x3b0)]=0x2]=_0x4be0be(0x3b0);}(_0x34a0b4||(_0x34a0b4={})),function(_0x352cbf){const _0x3207ae=_0x57df12;_0x352cbf[_0x3207ae(0x18c)]='in',_0x352cbf[_0x3207ae(0x782)]=_0x3207ae(0x15e);}(_0x26866c||(_0x26866c={}));class _0x177d87{[_0x57df12(0x6d2)];[_0x57df12(0x4df)];constructor(_0x4808f0,_0x57a7fd){this['callback']=_0x4808f0,this['retryCallback']=_0x57a7fd;}['call'](_0x371fb6){this['callback'](_0x371fb6);}async['wait'](){const _0x1980af=_0x57df12;await this[_0x1980af(0x4df)]();}}class _0x28287b{[_0x57df12(0x6d2)];[_0x57df12(0x4df)];constructor(_0x43edf7,_0x2fa3e9){const _0x490602=_0x57df12;this[_0x490602(0x6d2)]=_0x43edf7,this[_0x490602(0x4df)]=_0x2fa3e9;}async[_0x57df12(0x51a)](_0x465fea){const _0x2b7f4d=_0x57df12;await this[_0x2b7f4d(0x6d2)](_0x465fea);}async[_0x57df12(0x1c3)](){const _0x371824=_0x57df12;await this[_0x371824(0x4df)]();}}function _0x1c2450(_0x3e76ea=()=>{},_0x226db1=()=>!0x1,_0x715e8b=()=>{}){let _0x615937,_0x12837e,_0x4294ec=0x0;return{get 'size'(){return _0x4294ec;},get 'head'(){return _0x615937;},get 'tail'(){return _0x12837e;},set 'head'(_0x352c3c){_0x615937=_0x352c3c;},set 'tail'(_0x5bf0e0){_0x12837e=_0x5bf0e0;},'push'(_0x1d7ca4,_0xa55db8=!0x0){const _0x3c4ed4=a0_0x5c56,_0x1e82b6={'value':_0x1d7ca4};_0xa55db8&&_0x226db1(_0x1e82b6)?_0x3e76ea():(_0x12837e&&(_0x1e82b6[_0x3c4ed4(0x32f)]=_0x12837e,_0x12837e['next']=_0x1e82b6),_0x12837e=_0x1e82b6,_0x615937||(_0x615937=_0x1e82b6),_0x4294ec+=0x1,_0xa55db8&&_0x3e76ea());},'pop'(){const _0x46f9c2=a0_0x5c56;if(!_0x12837e)return;const _0x396007=_0x12837e[_0x46f9c2(0x638)];return _0x12837e=_0x12837e['previous'],_0x12837e&&delete _0x12837e[_0x46f9c2(0x214)],_0x12837e||(_0x615937=void 0x0),_0x4294ec-=0x1,_0x396007;},'unshift'(_0x44e4fd,_0x2a128f=!0x0){const _0x265a45=a0_0x5c56,_0x524974={'value':_0x44e4fd};_0x2a128f&&_0x226db1(_0x524974)?_0x3e76ea():(_0x615937&&(_0x615937[_0x265a45(0x32f)]=_0x524974,_0x524974[_0x265a45(0x214)]=_0x615937),_0x615937=_0x524974,_0x12837e||(_0x12837e=_0x524974),_0x4294ec+=0x1,_0x2a128f&&_0x3e76ea());},'shift'(){const _0x4ce80c=a0_0x5c56;if(!_0x615937)return;const _0x350bed=_0x615937[_0x4ce80c(0x638)];return _0x615937=_0x615937['next'],_0x615937&&delete _0x615937[_0x4ce80c(0x32f)],_0x615937||(_0x12837e=void 0x0),_0x4294ec-=0x1,_0x350bed;},'clear'(){_0x715e8b(),_0x615937=void 0x0,_0x12837e=void 0x0,_0x4294ec=0x0;}};}function _0x3b6694(_0x2f22b4,_0x50f134=!0x1,_0x468299=()=>{},_0x4fed7c=()=>!0x1,_0x1ad00a=()=>{}){let _0x2393a2=!0x1;const _0x2a49d9=_0x1c2450(async function(){const _0x16133d=a0_0x5c56;if(!_0x2393a2){for(_0x2393a2=!0x0;_0x2a49d9[_0x16133d(0x645)];){const _0xf4199f=_0x2a49d9[_0x16133d(0x721)]();if(_0xf4199f)try{_0x2f22b4 instanceof _0x177d87&&_0x2f22b4[_0x16133d(0x51a)](_0xf4199f),_0x2f22b4 instanceof _0x28287b&&await _0x2f22b4[_0x16133d(0x51a)](_0xf4199f),_0x468299(_0xf4199f);}catch(_0x2e768e){_0x50f134?_0x2a49d9[_0x16133d(0x374)](_0xf4199f,!0x1):_0x2a49d9[_0x16133d(0x70c)](_0xf4199f,!0x1),await _0x2f22b4[_0x16133d(0x1c3)]();}}_0x2393a2=!0x1;}},_0x4fed7c,_0x1ad00a);return _0x2a49d9;}class _0x3b7574 extends _0x4dadb4{[_0x57df12(0x54f)];[_0x57df12(0x688)];[_0x57df12(0x2a5)]=_0x254e3b[_0x57df12(0x52d)][_0x57df12(0x64f)];['connectionStateListener']=_0x413fb6();['messageListeners']=_0x3f0774();[_0x57df12(0x6ac)];['listenUnsubscriber'];[_0x57df12(0x268)]=_0x3b6694(new _0x28287b(this[_0x57df12(0x5cc)][_0x57df12(0x61c)](this),this[_0x57df12(0x44b)][_0x57df12(0x61c)](this)));['client'];constructor(_0x5dcfd3,_0x2d7bfd,_0xba3ced,_0x3b5912,_0xbf9a4e){const _0x222fd7=_0x57df12;super(_0x2d7bfd,_0xba3ced,_0x3b5912),this[_0x222fd7(0x54f)]=_0x5dcfd3,this['authService']=_0xbf9a4e;}async[_0x57df12(0x69c)](){const _0x3bfa71=_0x57df12;try{const _0xd98e94={'getTokens':async()=>{const _0x3e7b84=a0_0x5c56,_0x200796=await this['authService']['getIdToken']();return{'accessToken':(0x0,_0x53fda5[_0x3e7b84(0x771)])(_0x200796),'idToken':(0x0,_0x53fda5[_0x3e7b84(0x771)])(_0x200796)};}};_0x246cd8['Amplify']['configure']({'API':{'GraphQL':{'endpoint':_0x142ef9[_0x3bfa71(0x175)][_0x3bfa71(0x5e3)],'region':_0x142ef9[_0x3bfa71(0x175)][_0x3bfa71(0x43b)],'defaultAuthMode':_0x3bfa71(0x32b)}}},{'Auth':{'tokenProvider':_0xd98e94}}),this['client']=(0x0,_0x254e3b[_0x3bfa71(0x544)])(),await this[_0x3bfa71(0x76e)](),this[_0x3bfa71(0x18d)]=_0x40b612[_0x3bfa71(0x5ca)][_0x3bfa71(0x79b)](_0x3bfa71(0x466),async({payload:_0x109a2f})=>{const _0x47ad78=_0x3bfa71;if(_0x109a2f['event']===_0x254e3b[_0x47ad78(0x1c7)]){const _0x2c1d5b=_0x109a2f[_0x47ad78(0x6de)];this['connectionState']=_0x2c1d5b[_0x47ad78(0x2a5)],this['connectionStateListener'][_0x47ad78(0x707)](_0x2c1d5b[_0x47ad78(0x2a5)]),this['connectionState']===_0x254e3b[_0x47ad78(0x52d)][_0x47ad78(0x64f)]&&_0x287307['error'](_0x47ad78(0x6f4),{'clusterId':this[_0x47ad78(0x545)],'nodeId':this['getLocalId'](),'nodeType':this[_0x47ad78(0x749)][_0x47ad78(0x3cb)]}),this[_0x47ad78(0x2a5)]===_0x254e3b[_0x47ad78(0x52d)][_0x47ad78(0x302)]&&_0x287307[_0x47ad78(0x144)]('appsync-connect',{'clusterId':this['clusterId'],'nodeId':this[_0x47ad78(0x2a1)](),'nodeType':this[_0x47ad78(0x749)][_0x47ad78(0x3cb)]});}});}catch(_0x51bbdc){_0x287307[_0x3bfa71(0x387)]('appsync-connect-fail',{'clusterId':this[_0x3bfa71(0x545)],'nodeId':this['getLocalId'](),'nodeType':this[_0x3bfa71(0x749)]['type']});}}[_0x57df12(0x42b)](){const _0x5f7d0=_0x57df12;_0x287307['warning'](_0x5f7d0(0x556),{'clusterId':this[_0x5f7d0(0x545)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x5f7d0(0x3cb)]}),this['retryQueue'][_0x5f7d0(0x15f)](),this[_0x5f7d0(0x18d)]?.(),this[_0x5f7d0(0x6ac)]?.['unsubscribe'](),delete this[_0x5f7d0(0x6ac)];}[_0x57df12(0x74b)](){const _0x3ae95b=_0x57df12;return this['connectionState']===_0x254e3b[_0x3ae95b(0x52d)][_0x3ae95b(0x302)];}[_0x57df12(0x435)](_0x3b3312){const _0x552329=_0x57df12;this[_0x552329(0x268)]['push'](_0x3b3312);}[_0x57df12(0x6d5)](_0x1014c3){const _0x590cab=_0x57df12;return this['messageListeners'][_0x590cab(0x76e)](_0x1014c3);}[_0x57df12(0x402)](){const _0x43ea1c=_0x57df12;return[_0x36cc4b['ContentType'][_0x43ea1c(0x6b3)]];}async[_0x57df12(0x44b)](){const _0x5773e9=_0x57df12;if(!this[_0x5773e9(0x74b)]())return new Promise(_0x4f2042=>{const _0x327a7e=_0x5773e9,_0x1ceee3=this[_0x327a7e(0x55f)][_0x327a7e(0x76e)](_0x50f478=>{const _0x42a862=_0x327a7e;_0x50f478===_0x254e3b[_0x42a862(0x52d)][_0x42a862(0x302)]&&(_0x1ceee3(),_0x4f2042());});});}async['sendAction'](_0x52c645){const _0x43483f=_0x57df12;if(this[_0x43483f(0x2a5)]!==_0x254e3b[_0x43483f(0x52d)]['Connected'])throw new Error(_0x43483f(0x465));_0x52c645['destinationIds']&&0x1===_0x52c645[_0x43483f(0x5ad)][_0x43483f(0x5fc)]?await this[_0x43483f(0x707)](_0x52c645[_0x43483f(0x5ad)][0x0],JSON[_0x43483f(0x2c2)](_0x52c645)):_0x287307[_0x43483f(0x387)](_0x43483f(0x429),{'clusterId':this[_0x43483f(0x545)],'nodeId':this[_0x43483f(0x2a1)](),'nodeType':this[_0x43483f(0x749)][_0x43483f(0x3cb)]});}async[_0x57df12(0x707)](_0x155b5a,_0x1a4d94){const _0x33eebd=_0x57df12;if(!this[_0x33eebd(0x34e)])throw new Error(_0x33eebd(0x6a4));_0x287307[_0x33eebd(0x60a)](_0x54918a['Signaling'],_0x33eebd(0x3a9),this[_0x33eebd(0x2a1)](),_0x1a4d94),await this['client'][_0x33eebd(0x117)]({'query':_0x33eebd(0x3b7),'variables':{'name':await this['getHash'](_0x155b5a),'data':_0x1a4d94}});}async[_0x57df12(0x76e)](){const _0x312556=_0x57df12;if(this[_0x312556(0x6ac)])return;if(!this[_0x312556(0x34e)])throw new Error(_0x312556(0x6a4));_0x287307[_0x312556(0x60a)](_0x54918a[_0x312556(0x4dc)],'AppSync\x20subscribe',this['getLocalId']());const _0x21560e=await this[_0x312556(0x34e)]['graphql']({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this['getHash']()},'authToken':await this['authService'][_0x312556(0x17b)]()},{'Authorization':await this[_0x312556(0x688)]['getIdToken']()});this[_0x312556(0x6ac)]=_0x21560e[_0x312556(0x76e)]({'next':({data:_0x4c3fc3})=>{const _0x45d1e5=_0x312556,_0x48ad7e=JSON['parse'](_0x4c3fc3[_0x45d1e5(0x76e)]['data']);!_0x1d6486(_0x48ad7e,this[_0x45d1e5(0x2a1)]())&&_0x562ce4(_0x48ad7e,this[_0x45d1e5(0x2a1)]())&&this[_0x45d1e5(0x76b)]['publish'](_0x48ad7e);},'error':console[_0x312556(0x60a)]});}async['getHash'](_0xba7cce){const _0x564322=_0x57df12,_0x2af32b=await crypto[_0x564322(0x5e0)][_0x564322(0x165)](_0x564322(0x3b9),new TextEncoder()['encode'](this[_0x564322(0x54f)]+'-'+this['clusterId']+'-'+(_0xba7cce??this[_0x564322(0x2a1)]())));return Array[_0x564322(0x779)](new Uint8Array(_0x2af32b))[_0x564322(0x136)](_0x62904b=>_0x62904b['toString'](0x10)[_0x564322(0x3b2)](0x2,'0'))['join']('');}}!function(_0x1cbe7e){const _0x398c8c=_0x57df12;_0x1cbe7e[_0x1cbe7e[_0x398c8c(0x272)]=0x0]='Add',_0x1cbe7e[_0x1cbe7e[_0x398c8c(0x1b7)]=0x1]='Remove',_0x1cbe7e[_0x1cbe7e['Update']=0x2]=_0x398c8c(0x614),_0x1cbe7e[_0x1cbe7e[_0x398c8c(0x286)]=0x3]=_0x398c8c(0x286),_0x1cbe7e[_0x1cbe7e[_0x398c8c(0x322)]=0x4]=_0x398c8c(0x322);}(_0x43552a||(_0x43552a={}));const _0x1f2ad5=require('uuid'),_0x32133d='0',_0x5e8f9a='chunk',_0x1e7130=0x3fc00;class _0x5080bc{['clusterId'];[_0x57df12(0x749)];[_0x57df12(0x69e)];[_0x57df12(0x654)];[_0x57df12(0x3e1)];[_0x57df12(0x597)];['connection'];[_0x57df12(0x6e4)];[_0x57df12(0x792)]=0x1;[_0x57df12(0x235)];[_0x57df12(0x5aa)]=[];[_0x57df12(0x42d)]=[];[_0x57df12(0x419)];constructor(_0x5f33c6,_0x44fc2d,_0x2f4c1b,_0x4f6e66,_0x59f639,_0x1a9457){const _0x9ef48c=_0x57df12;this['clusterId']=_0x5f33c6,this[_0x9ef48c(0x749)]=_0x44fc2d,this[_0x9ef48c(0x69e)]=_0x2f4c1b,this[_0x9ef48c(0x654)]=_0x4f6e66,this[_0x9ef48c(0x3e1)]=_0x59f639,this[_0x9ef48c(0x597)]=_0x1a9457,this[_0x9ef48c(0x4ee)]=new this[(_0x9ef48c(0x597))]({'handshakeServers':this[_0x9ef48c(0x654)]}),this['setupConnectionEvents']();}['close'](){const _0x8bfb51=_0x57df12;this[_0x8bfb51(0x625)]();}[_0x57df12(0x4f7)](_0x3cbe59){const _0x4127d7=_0x57df12;this[_0x4127d7(0x3e1)]=_0x3cbe59;}async[_0x57df12(0x555)](_0x22b2d4,_0x128cbe){const _0xe942b0=_0x57df12;if(_0x128cbe===this['currentVersion'])for(const _0xe77f75 of _0x22b2d4){if(!this[_0xe942b0(0x4ee)]['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0xe77f75);await this[_0xe942b0(0x4ee)][_0xe942b0(0x152)](_0xe77f75);}}[_0x57df12(0x74b)](){const _0x29269b=_0x57df12;return this['logConnectionState'](),_0x29269b(0x2a7)===this[_0x29269b(0x4ee)]['connectionState']&&['connected',_0x29269b(0x5c7)][_0x29269b(0x595)](this['connection'][_0x29269b(0x455)])&&_0x29269b(0x3da)!==this[_0x29269b(0x4ee)][_0x29269b(0x375)]&&_0x29269b(0x57d)===this[_0x29269b(0x6e4)]?.[_0x29269b(0x78a)];}[_0x57df12(0x432)](_0x3d9f95){const _0x3ed145=_0x57df12;this[_0x3ed145(0x235)]=_0x3d9f95;}['unregisterSystemPublisher'](){const _0x4f3641=_0x57df12;delete this[_0x4f3641(0x235)];}[_0x57df12(0x61f)](_0x4409ca){const _0x4ef5cf=_0x57df12;this[_0x4ef5cf(0x625)](),this[_0x4ef5cf(0x4ee)]=new this[(_0x4ef5cf(0x597))]({'handshakeServers':this['iceServers']}),_0x4409ca?this[_0x4ef5cf(0x792)]=_0x4409ca:this[_0x4ef5cf(0x792)]+=0x1,this[_0x4ef5cf(0x1b4)]();}[_0x57df12(0x1bd)](){const _0x4a8790=_0x57df12;this[_0x4a8790(0x42d)][_0x4a8790(0x3bd)](_0x151418=>this['connection'][_0x4a8790(0x152)](_0x151418)),this[_0x4a8790(0x42d)]=[];}[_0x57df12(0x43e)](_0x3dc536,_0x30ff23){const _0x360e05=_0x57df12;if(!this[_0x360e05(0x235)])throw new _0x4158de(_0x4158de[_0x360e05(0x67f)][_0x360e05(0x745)],{'content':_0x3dc536});const _0x5beb84={'sourceId':this[_0x360e05(0x749)][_0x360e05(0x5a9)](),'destinationIds':[this[_0x360e05(0x69e)]],'propagate':this['connectionType']!==_0x58c6e4[_0x360e05(0x2eb)],'retry':this[_0x360e05(0x3e1)]!==_0x58c6e4[_0x360e05(0x2eb)],'messageType':_0x769e55[_0x360e05(0x498)],'content':_0x3dc536};_0x30ff23&&(_0x5beb84[_0x360e05(0x1a5)]=_0x30ff23),this[_0x360e05(0x235)]['publish'](_0x5beb84);}[_0x57df12(0x1b4)](){const _0x30fbae=_0x57df12;this['connection'][_0x30fbae(0x1fb)]=()=>{const _0x49e558=_0x30fbae;'complete'===this[_0x49e558(0x4ee)][_0x49e558(0x51b)]&&this['handshakeCandidates'][_0x49e558(0x5fc)]>0x0&&(this[_0x49e558(0x419)]&&clearTimeout(this['handshakeDebounce']),this[_0x49e558(0x419)]=setTimeout(()=>{const _0x2b8e8d=_0x49e558;delete this['handshakeDebounce'],this['sendIceCandidates'](),this[_0x2b8e8d(0x5aa)]=[];},0x1f4));},this[_0x30fbae(0x4ee)][_0x30fbae(0x306)]=_0x372117=>{const _0x5e2d66=_0x30fbae;_0x372117[_0x5e2d66(0x7a8)]&&this[_0x5e2d66(0x5aa)]['push'](_0x372117[_0x5e2d66(0x7a8)]);};}[_0x57df12(0x625)](){const _0x2a1a5e=_0x57df12;clearTimeout(this[_0x2a1a5e(0x419)]),delete this[_0x2a1a5e(0x419)],this[_0x2a1a5e(0x5aa)]=[],this[_0x2a1a5e(0x42d)]=[],this['dataChannel']&&(this[_0x2a1a5e(0x6e4)]['onMessage']=null,this[_0x2a1a5e(0x6e4)][_0x2a1a5e(0x3b3)]=null,this[_0x2a1a5e(0x6e4)][_0x2a1a5e(0x42b)](),delete this['dataChannel']),this[_0x2a1a5e(0x4ee)]['onGatheringStateChange']=null,this[_0x2a1a5e(0x4ee)][_0x2a1a5e(0x306)]=null,this['connection'][_0x2a1a5e(0x6c9)]=null,this[_0x2a1a5e(0x4ee)][_0x2a1a5e(0x26c)]=null,this['connection'][_0x2a1a5e(0x1fc)]=null,this[_0x2a1a5e(0x4ee)][_0x2a1a5e(0x630)]=null,this[_0x2a1a5e(0x4ee)][_0x2a1a5e(0x42b)]();}[_0x57df12(0x770)](_0x4f6448){const _0x200979=_0x57df12;this[_0x200979(0x42d)][_0x200979(0x374)](_0x4f6448);}[_0x57df12(0x3f6)](){const _0xa23335=_0x57df12;_0x287307[_0xa23335(0x60a)](_0x54918a[_0xa23335(0x52d)],_0xa23335(0x2ae),{'localId':this[_0xa23335(0x749)]['getId'](),'remoteId':this['remoteId'],'connectionState':this['connection']['connectionState'],'handshakeState':this[_0xa23335(0x4ee)][_0xa23335(0x455)],'signalingState':this[_0xa23335(0x4ee)][_0xa23335(0x375)],'dataChannelState':this['dataChannel']?.[_0xa23335(0x78a)]});}}function _0x2cf9ba(_0x1e3645,_0x140fc1){const _0x35be6c=_0x57df12;_0x140fc1['publish']({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x35be6c(0x498)],'content':_0x1e3645});}class _0x2603c2{static ['instance'];['parameters']=[];['source'];constructor(){setInterval(()=>{const _0x214d69=a0_0x5c56;this[_0x214d69(0x789)]['forEach'](_0x1ea04a=>{const _0x19f17b=_0x214d69;if(Date[_0x19f17b(0x68a)]()-_0x1ea04a[_0x19f17b(0x4eb)]>_0x1ea04a['interval']){try{_0x1ea04a[_0x19f17b(0x6d2)]();}catch(_0x14f480){}_0x1ea04a[_0x19f17b(0x4eb)]=Date['now']();}});},0x64);}static[_0x57df12(0x653)](){const _0x41748d=_0x57df12;return _0x2603c2[_0x41748d(0x453)]||(_0x2603c2[_0x41748d(0x453)]=new _0x2603c2()),_0x2603c2['instance'];}[_0x57df12(0x17f)](_0x2eee14){const _0x409b67=_0x57df12,_0x3800e4=this[_0x409b67(0x767)](_0x2eee14),_0x28017d=_0x2eee14[_0x409b67(0x250)]();_0x28017d&&_0x3800e4&&(_0x28017d[_0x409b67(0x66c)][_0x409b67(0x638)]=0.001,_0x3800e4['connect'](_0x28017d),_0x28017d[_0x409b67(0x69c)](_0x2eee14[_0x409b67(0x52e)]),_0x3800e4[_0x409b67(0x1c1)]());}[_0x57df12(0x2cb)](){const _0x21ffb0=_0x57df12;this['source']&&(this[_0x21ffb0(0x6f1)]['stop'](),this[_0x21ffb0(0x6f1)]['disconnect'](),this[_0x21ffb0(0x6f1)]=void 0x0);}['wait'](_0x5b3231){return new Promise(_0x5d1b70=>{setTimeout(_0x5d1b70,_0x5b3231);});}[_0x57df12(0x5cb)](_0x1b83f9,_0x21f176){const _0x1931b1=_0x57df12;return this[_0x1931b1(0x789)]['push']({'callback':_0x1b83f9,'interval':_0x21f176,'lastExecuted':Date[_0x1931b1(0x68a)]()}),()=>{const _0x1f409=_0x1931b1;this[_0x1f409(0x789)]=this[_0x1f409(0x789)]['filter'](_0x148ca1=>_0x148ca1[_0x1f409(0x6d2)]!==_0x1b83f9);};}[_0x57df12(0x767)](_0x405f36){const _0x52ed0c=_0x57df12;if(_0x405f36['createConstantSource'])return _0x405f36[_0x52ed0c(0x767)]();const _0x1628e4=_0x405f36['createBufferSource'](),_0x3f3b05=_0x405f36[_0x52ed0c(0x53f)](0x1,0x1,_0x405f36[_0x52ed0c(0x416)]);return _0x3f3b05['getChannelData'](0x0)[0x0]=0xa,_0x1628e4[_0x52ed0c(0x274)]=_0x3f3b05,_0x1628e4[_0x52ed0c(0x46d)]=!0x0,_0x1628e4;}}const _0xdd3be7=_0x2603c2[_0x57df12(0x653)](),_0x3b469e=[_0x57df12(0x498),_0x57df12(0x434),_0x57df12(0x3ed),_0x57df12(0x566),_0x57df12(0x3ee),_0x57df12(0x68f),_0x57df12(0x220)],_0x5ee806=[[_0x57df12(0x3e4),_0x57df12(0x1e3),_0x57df12(0x3d2),_0x57df12(0x4d6),'NeedRestart',_0x57df12(0x459),_0x57df12(0x194),_0x57df12(0x3ee),'OptimizationConnectionSuccess'],[_0x57df12(0x5a7),_0x57df12(0x36f),_0x57df12(0x633),_0x57df12(0x16f)],[_0x57df12(0x636),'UnpublishMediaStream','SubscribeMediaStream',_0x57df12(0x325),'UnsubscribeMediaStream',_0x57df12(0x2f4),'CloseJobWorker',_0x57df12(0x4cb),_0x57df12(0x396),_0x57df12(0x159),_0x57df12(0x2d0),_0x57df12(0x43c),_0x57df12(0x1be),_0x57df12(0x704),'SendTransactionsDump',_0x57df12(0x312),_0x57df12(0x5a5),_0x57df12(0x21e)],['SubscribeMediaStream','UpdateMediaStream',_0x57df12(0x1aa),_0x57df12(0x288),_0x57df12(0x11e),_0x57df12(0x2ba),_0x57df12(0x17d),_0x57df12(0x380)],[_0x57df12(0x276),_0x57df12(0x27e)],[_0x57df12(0x4ab)],['Remediation',_0x57df12(0x299)]];function _0x194819(_0x122dcc){const _0x48cd6c=_0x57df12;return{..._0x122dcc,'systemMessageType':_0x3b469e[_0x122dcc[_0x48cd6c(0x22e)]],'systemContentMessageType':_0x5ee806[_0x122dcc[_0x48cd6c(0x22e)]][_0x122dcc[_0x48cd6c(0x68e)][_0x48cd6c(0x3cb)]]};}const _0x3ab89a={'hour':_0x57df12(0x290),'minute':_0x57df12(0x290),'second':_0x57df12(0x290)};function _0x195268(_0x4976d8,_0x1a6321){const _0x56eb25=_0x57df12,_0x23e8cc=(function(){const _0x32a7c3=a0_0x5c56,_0x35ccfa=new Date(),_0x1a1d9a=_0x35ccfa['getMilliseconds'](),_0x5a7fa2=_0x35ccfa[_0x32a7c3(0x54b)](_0x32a7c3(0x6a3),_0x3ab89a)[_0x32a7c3(0x317)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x5a7fa2+'.'+(_0x1a1d9a>0x64?''+_0x1a1d9a:_0x1a1d9a>0xa?'0'+_0x1a1d9a:'00'+_0x1a1d9a);}()),{sourceId:_0x28a20b,destinationIds:_0x3a7716,systemMessageType:_0x3f6142,systemContentMessageType:_0xde142c}=_0x194819(_0x4976d8);return _0x23e8cc+_0x56eb25(0x470)+_0x1a6321+_0x56eb25(0x470)+(_0x28a20b===_0x1a6321?_0x56eb25(0x454)+_0x3f6142+_0x56eb25(0x145)+(_0x3a7716?''+_0x3a7716:_0x56eb25(0x5c0)):_0x4976d8['sourceId']===_0x1c5473?_0x56eb25(0x21b)+_0x3f6142+'\x27':(_0x3a7716?'':_0x56eb25(0x6c2))+'Receiving\x20\x27'+_0x3f6142+_0x56eb25(0x33d)+_0x28a20b)+_0x56eb25(0x409)+_0xde142c+_0x56eb25(0x680);}class _0x57c0ca extends _0x5080bc{[_0x57df12(0x76f)]=_0x413fb6();[_0x57df12(0x773)]=_0x413fb6();[_0x57df12(0x25c)]=_0x413fb6();['receivers']=new Map();[_0x57df12(0x298)]=new Map();['waitSuccess'];[_0x57df12(0x571)]=0x0;[_0x57df12(0x218)]={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x57df12(0x517)]=0x0;[_0x57df12(0x42b)](){const _0x2132bf=_0x57df12;this[_0x2132bf(0x2e7)](),this[_0x2132bf(0x179)]['clear'](),super[_0x2132bf(0x42b)]();}async[_0x57df12(0x572)](_0x3db017,_0x37a384){const _0x22491c=_0x57df12;this['currentVersion']=_0x37a384,this['clearWaitSuccess']();const _0x384faf=await this[_0x22491c(0x4ee)][_0x22491c(0x4e4)](_0x3db017);this[_0x22491c(0x1bd)]();const _0x5091cc=(0x0,_0x1f2ad5['v4'])();this[_0x22491c(0x43e)]({'type':_0x493715[_0x22491c(0x1e3)],'answer':_0x384faf,'version':_0x37a384,'connectionType':this['connectionType']},_0x5091cc),this[_0x22491c(0x3e1)]===_0x58c6e4[_0x22491c(0x2eb)]&&(this['waitSuccess']=_0xdd3be7[_0x22491c(0x5cb)](()=>{const _0x453726=_0x22491c;this[_0x453726(0x43e)]({'type':_0x493715[_0x453726(0x1e3)],'answer':_0x384faf,'version':_0x37a384,'connectionType':this['connectionType']},_0x5091cc);},0x1388));}[_0x57df12(0x384)](){const _0x14dd9e=_0x57df12;this[_0x14dd9e(0x2e7)]();}[_0x57df12(0x281)](_0xfe9e92){const _0x270345=_0x57df12;this[_0x270345(0x61f)](_0xfe9e92),this['publishSystemMessage']({'type':_0x493715['Restart']});}async['collectStats'](){const _0x2e74f1=_0x57df12;this[_0x2e74f1(0x235)]&&(await this[_0x2e74f1(0x4ee)][_0x2e74f1(0x5d4)](this[_0x2e74f1(0x179)],(_0x1ea28b,_0x394d1a)=>{const _0x375331=_0x2e74f1;_0x2cf9ba({'type':_0x493715['Stats'],'streamId':_0x394d1a,'nodeId':this[_0x375331(0x69e)],'stats':_0x1ea28b},this['systemTopic']);}),this[_0x2e74f1(0x235)][_0x2e74f1(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x2e74f1(0x498)],'content':{'type':_0x493715[_0x2e74f1(0x3ee)],'nodeId':this[_0x2e74f1(0x69e)],'stats':{'origin':_0x215fe2['Receiver'],'timestamp':Date[_0x2e74f1(0x68a)](),'messagesReceived':this[_0x2e74f1(0x571)],'bytesReceived':this[_0x2e74f1(0x30e)],'timeReceiving':this[_0x2e74f1(0x517)],'systemMessages':this[_0x2e74f1(0x218)]}}}));}['onMessage'](_0x2b01e8){const _0x505cad=_0x57df12;return this[_0x505cad(0x76f)][_0x505cad(0x76e)](_0x2b01e8);}[_0x57df12(0x1fc)](_0x1f21dd){const _0x2a5de6=_0x57df12;return this[_0x2a5de6(0x773)][_0x2a5de6(0x76e)](({track:_0x19b5a9,stream:_0x514a0e})=>_0x1f21dd(_0x19b5a9,_0x514a0e));}['onRemoveTrack'](_0x2a9b57){const _0xe51b55=_0x57df12;return this[_0xe51b55(0x25c)][_0xe51b55(0x76e)](({track:_0x362414,stream:_0x5a1703})=>_0x2a9b57(_0x362414,_0x5a1703));}[_0x57df12(0x61f)](_0x5c9e38){const _0x297a20=_0x57df12;this[_0x297a20(0x2e7)](),this['receivers'][_0x297a20(0x3bd)](_0x13cca4=>{_0x13cca4['clear']();}),super[_0x297a20(0x61f)](_0x5c9e38);}[_0x57df12(0x335)](){const _0x4d7db1=_0x57df12;this[_0x4d7db1(0x43e)]({'type':_0x493715[_0x4d7db1(0x3d2)],'candidates':this[_0x4d7db1(0x5aa)],'origin':_0x215fe2['Receiver'],'version':this['currentVersion'],'connectionType':this[_0x4d7db1(0x3e1)]});}[_0x57df12(0x1b4)](){const _0x3b3e68=_0x57df12;super['setupConnectionEvents'](),this[_0x3b3e68(0x4ee)][_0x3b3e68(0x1fc)]=_0x35f835=>{const _0x551a77=_0x3b3e68;_0x287307[_0x551a77(0x60a)](_0x54918a['Connection'],_0x551a77(0x3a5),this[_0x551a77(0x749)]['getId'](),_0x35f835),_0x35f835['streams'][0x0][_0x551a77(0x411)]=_0x199e75=>{const _0x12201c=_0x551a77;this[_0x12201c(0x179)]['get'](_0x35f835['streams'][0x0]['id'])?.[_0x12201c(0x403)](_0x199e75[_0x12201c(0x1f0)]),0x0===this[_0x12201c(0x179)][_0x12201c(0x351)](_0x35f835[_0x12201c(0x63f)][0x0]['id'])?.['size']&&this[_0x12201c(0x179)][_0x12201c(0x403)](_0x35f835[_0x12201c(0x63f)][0x0]['id']),this[_0x12201c(0x25c)][_0x12201c(0x707)]({'track':_0x199e75['track'],'stream':_0x35f835[_0x12201c(0x63f)][0x0]});},this['receivers'][_0x551a77(0x245)](_0x35f835[_0x551a77(0x63f)][0x0]['id'])||this[_0x551a77(0x179)][_0x551a77(0x6dc)](_0x35f835[_0x551a77(0x63f)][0x0]['id'],new Set()),this[_0x551a77(0x179)][_0x551a77(0x351)](_0x35f835['streams'][0x0]['id'])[_0x551a77(0x785)](_0x35f835['track']),this['trackCallback'][_0x551a77(0x707)]({'track':_0x35f835[_0x551a77(0x1f0)],'stream':_0x35f835[_0x551a77(0x63f)][0x0]});},this['connection']['onDataChannel']=_0x449f4c=>{const _0x43c56b=_0x3b3e68;this['dataChannel']=_0x449f4c[_0x43c56b(0x547)],this['dataChannel'][_0x43c56b(0x6d5)]=_0x34c82c=>{const _0x1c3e9e=_0x43c56b;if(_0x34c82c[_0x1c3e9e(0x6de)]!==_0x32133d)this[_0x1c3e9e(0x1b2)](_0x34c82c[_0x1c3e9e(0x6de)]);else{if(!this[_0x1c3e9e(0x6e4)])return void _0x287307[_0x1c3e9e(0x387)](_0x1c3e9e(0x417),{'clusterId':this[_0x1c3e9e(0x545)],'nodeId':this[_0x1c3e9e(0x749)][_0x1c3e9e(0x5a9)](),'nodeType':this['localNode'][_0x1c3e9e(0x3cb)],'remoteId':this[_0x1c3e9e(0x69e)],'data':{'connection':_0x1c3e9e(0x337)}});if(_0x1c3e9e(0x57d)!==this[_0x1c3e9e(0x6e4)][_0x1c3e9e(0x78a)])return;this['dataChannel'][_0x1c3e9e(0x435)]('1');}};};}[_0x57df12(0x1b2)](_0x3dd9b3){const _0x218d00=_0x57df12;if('string'==typeof _0x3dd9b3&&_0x3dd9b3[_0x218d00(0x67e)](_0x5e8f9a))return this[_0x218d00(0x571)]+=0x1,this[_0x218d00(0x30e)]+=_0x3dd9b3[_0x218d00(0x5fc)],this[_0x218d00(0x3a3)](_0x3dd9b3);setTimeout(()=>{const _0xf9a475=_0x218d00,_0x52fc5e=Date['now']();let _0x7cfcb9;if((_0x3dd9b3 instanceof ArrayBuffer||_0x3dd9b3['length']<=_0x1e7130)&&(this[_0xf9a475(0x571)]+=0x1,this['bytesReceived']+=_0x3dd9b3 instanceof ArrayBuffer?_0x3dd9b3[_0xf9a475(0x233)]:_0x3dd9b3[_0xf9a475(0x5fc)]),_0x3dd9b3 instanceof ArrayBuffer){const [_0x4458dc,_0x3b0a5c]=this['splitParts'](_0x3dd9b3);_0x7cfcb9=_0x4458dc,_0x7cfcb9[_0xf9a475(0x68e)][_0xf9a475(0x6de)]=_0x3b0a5c;}else _0x7cfcb9=JSON[_0xf9a475(0x3dd)](_0x3dd9b3);if(0x0===_0x7cfcb9['topicLabel']){this['systemMessagesReceived'][_0xf9a475(0x5a1)]['total']+=0x1;const {systemMessageType:_0x2e2239,systemContentMessageType:_0x186a79}=_0x194819(_0x7cfcb9);this['systemMessagesReceived'][_0x2e2239]||(this[_0xf9a475(0x218)][_0x2e2239]={[_0x186a79]:0x0}),this['systemMessagesReceived'][_0x2e2239][_0x186a79]||(this['systemMessagesReceived'][_0x2e2239][_0x186a79]=0x0),this[_0xf9a475(0x218)][_0x2e2239][_0xf9a475(0x2d9)]||(this[_0xf9a475(0x218)][_0x2e2239][_0xf9a475(0x2d9)]=0x0),this['systemMessagesReceived'][_0x2e2239][_0x186a79]+=0x1,this[_0xf9a475(0x218)][_0x2e2239]['total']+=0x1;}this['messageCallback']['publish'](_0x7cfcb9),this[_0xf9a475(0x517)]+=Date['now']()-_0x52fc5e;},0x0);}[_0x57df12(0x3a3)](_0x494329){const _0xc5cfae=_0x57df12,_0x17301e=_0x494329[_0xc5cfae(0x1e7)](';'),_0x50c6e8=_0x17301e[0x1],_0x377e33=parseInt(_0x17301e[0x2],0xa),_0x3a3923=parseInt(_0x17301e[0x3],0xa),_0x1d1c0f=_0x494329[_0xc5cfae(0x3ec)](_0x5e8f9a+';'+_0x50c6e8+';'+_0x377e33+';'+_0x3a3923+';','');this['chunks'][_0xc5cfae(0x245)](_0x50c6e8)||this['chunks'][_0xc5cfae(0x6dc)](_0x50c6e8,[]);const _0x15f406=this[_0xc5cfae(0x298)][_0xc5cfae(0x351)](_0x50c6e8);_0x15f406[_0x377e33]=_0x1d1c0f,_0x15f406[_0xc5cfae(0x5fc)]===_0x3a3923&&(this[_0xc5cfae(0x1b2)](_0x15f406[_0xc5cfae(0x219)]('')),this[_0xc5cfae(0x298)]['delete'](_0x50c6e8));}[_0x57df12(0x2e7)](){const _0x2596fe=_0x57df12;this['waitSuccess']?.(),delete this[_0x2596fe(0x65c)];}[_0x57df12(0x6f9)](_0x45d6b4){const _0x4b671a=_0x57df12,_0xd8cee=new TextDecoder()[_0x4b671a(0x3e5)](_0x45d6b4);return JSON[_0x4b671a(0x3dd)](_0xd8cee);}[_0x57df12(0x115)](_0x8158b4){const _0x18b240=_0x57df12,_0x48b3fc=new Uint8Array(_0x8158b4[_0x18b240(0x50e)](0x0,0x4)),_0x1106ee=new Uint32Array(_0x48b3fc['buffer'])[0x0],_0x5a1ec1=new Uint8Array(_0x8158b4[_0x18b240(0x50e)](0x4,0x4+_0x1106ee)),_0x467179=new Uint8Array(_0x8158b4[_0x18b240(0x50e)](0x4+_0x1106ee));return[this[_0x18b240(0x6f9)](_0x5a1ec1['buffer']),_0x467179['buffer']];}}const _0x781174=0xc350;var _0x2bc31f,_0x111869;!function(_0x3b7e1a){const _0x27bb4c=_0x57df12;_0x3b7e1a[_0x3b7e1a[_0x27bb4c(0x682)]=0x0]=_0x27bb4c(0x682),_0x3b7e1a[_0x3b7e1a[_0x27bb4c(0x5e7)]=0x1]=_0x27bb4c(0x5e7),_0x3b7e1a[_0x3b7e1a[_0x27bb4c(0x4f1)]=0x2]=_0x27bb4c(0x4f1);}(_0x2bc31f||(_0x2bc31f={}));class _0x2e3eca extends _0x5080bc{[_0x57df12(0x587)];[_0x57df12(0x584)];[_0x57df12(0x70f)]=new Map();[_0x57df12(0x613)];[_0x57df12(0x71a)];[_0x57df12(0x4c7)];['isReconnecting']=!0x1;[_0x57df12(0x59f)];['restartTimeout'];[_0x57df12(0x22a)];['retryQueue']=function(e,t=_0x2bc31f,s=!0x1){const _0x409fcd=_0x57df12;let i=!0x1;const n=[];async function o(){const _0x36a77b=a0_0x5c56;if(!i){for(i=!0x0;n['some'](e=>e[_0x36a77b(0x645)]);){let t,i=0x0;for(const [e,s]of n[_0x36a77b(0x1f4)]())if(t=s[_0x36a77b(0x721)](),i=e,t)break;if(t)try{if(e instanceof _0x177d87&&e['call'](t),e instanceof _0x28287b&&await e[_0x36a77b(0x51a)](t),n[_0x36a77b(0x50e)](-0x1)[_0x36a77b(0x489)](e=>e[_0x36a77b(0x645)]))continue;const s=n[_0x36a77b(0x5fc)]-0x1;i===s&&n[s][_0x36a77b(0x645)]&&await _0xdd3be7['wait'](0x0);}catch(o){s?n[i]['push'](t,!0x1):n[i][_0x36a77b(0x70c)](t,!0x1),await e[_0x36a77b(0x1c3)]();}}i=!0x1;}}return Object[_0x409fcd(0x49e)](t)['forEach'](e=>{const _0x3aed21=_0x409fcd;_0x3aed21(0x795)!=typeof e&&(n[e]=_0x1c2450(o));}),{'queues':n};}(new _0x177d87(this[_0x57df12(0x5cc)][_0x57df12(0x61c)](this),this[_0x57df12(0x442)][_0x57df12(0x61c)](this)));[_0x57df12(0x526)]=0x0;['bytesSent']=0x0;[_0x57df12(0x50d)]=0x0;[_0x57df12(0x289)]=0x0;['oncloseTimeout'];constructor(_0x1e7531,_0x5d8b14,_0x401d1b,_0x34a55f,_0x1c65a5,_0x1f1b34,_0x38ec1c,_0x4150cb){const _0x67eff9=_0x57df12;super(_0x1e7531,_0x5d8b14,_0x401d1b,_0x34a55f,_0x1c65a5,_0x4150cb),this['maxFps']=_0x1f1b34,this[_0x67eff9(0x584)]=_0x38ec1c;}['close'](){const _0x371b5b=_0x57df12;this[_0x371b5b(0x427)](),this[_0x371b5b(0x4b2)](),delete this[_0x371b5b(0x4c7)],this[_0x371b5b(0x750)](),this['clearConnectionTimeout'](),this[_0x371b5b(0x5a2)](),this[_0x371b5b(0x70f)][_0x371b5b(0x15f)](),this['isReconnecting']=!0x1,this['retryQueue']['queues'][_0x371b5b(0x3bd)](_0x3c20e8=>_0x3c20e8[_0x371b5b(0x15f)]()),this[_0x371b5b(0x139)](),super['close']();}[_0x57df12(0x74b)](){const _0x4db4ce=_0x57df12;return!!this[_0x4db4ce(0x4c7)]&&super['isConnected']()&&Date[_0x4db4ce(0x68a)]()-this[_0x4db4ce(0x4c7)]<0x3a98;}async[_0x57df12(0x59d)](){const _0x28b401=_0x57df12;this[_0x28b401(0x235)]&&(await this['connection'][_0x28b401(0x73e)](this[_0x28b401(0x70f)],(_0x24baa9,_0x4a7a47)=>{const _0x3283a4=_0x28b401;_0x2cf9ba({'type':_0x493715[_0x3283a4(0x3ee)],'streamId':_0x4a7a47,'nodeId':this[_0x3283a4(0x69e)],'stats':_0x24baa9},this[_0x3283a4(0x235)]);}),this['systemTopic']['publish']({'sourceId':_0x1c5473,'messageType':_0x769e55['PeerConnection'],'content':{'type':_0x493715[_0x28b401(0x3ee)],'nodeId':this[_0x28b401(0x69e)],'stats':{'origin':_0x215fe2[_0x28b401(0x4fa)],'timestamp':Date[_0x28b401(0x68a)](),'messagesSent':this[_0x28b401(0x526)],'bytesSent':this[_0x28b401(0x3d0)],'timeSending':this['timeSending'],'roundTripTime':this[_0x28b401(0x289)]}}}));}async[_0x57df12(0x327)](_0x29a75e){const _0x26dab9=_0x57df12;_0x287307[_0x26dab9(0x60a)](_0x54918a['Connection'],_0x26dab9(0x3f3),this[_0x26dab9(0x749)][_0x26dab9(0x5a9)](),this[_0x26dab9(0x69e)]),this[_0x26dab9(0x750)](),this['clearConnectionTimeout'](),this[_0x26dab9(0x5a2)](),this['connectionTimeout']=setTimeout(()=>{const _0x2b962a=_0x26dab9;this[_0x2b962a(0x1fa)]();},0x7530),this[_0x26dab9(0x6e4)]||(this[_0x26dab9(0x6e4)]=this[_0x26dab9(0x4ee)]['createDataChannel'](_0x26dab9(0x6de)),this[_0x26dab9(0x6e4)][_0x26dab9(0x408)]=0x10000,this['dataChannel']['onClose']=()=>{const _0x3b0867=_0x26dab9;this[_0x3b0867(0x426)]=setTimeout(()=>{const _0x8ef138=_0x3b0867;delete this['oncloseTimeout'],['connecting','open'][_0x8ef138(0x595)](this[_0x8ef138(0x6e4)]?.[_0x8ef138(0x78a)]??'')||this['handleDisconnect']();},0xfa);});const _0x1b02d3=await this[_0x26dab9(0x4ee)][_0x26dab9(0x327)](_0x29a75e);this[_0x26dab9(0x4c7)]||(this[_0x26dab9(0x4c7)]=Date[_0x26dab9(0x68a)]());const _0x371f7c=(0x0,_0x1f2ad5['v4'])();this[_0x26dab9(0x43e)]({'type':_0x493715[_0x26dab9(0x3e4)],'offer':_0x1b02d3,'version':this[_0x26dab9(0x792)],'connectionType':this[_0x26dab9(0x3e1)]},_0x371f7c),this[_0x26dab9(0x3e1)]===_0x58c6e4[_0x26dab9(0x2eb)]&&(this[_0x26dab9(0x71a)]=_0xdd3be7['setInterval'](()=>{const _0xb5e478=_0x26dab9;this[_0xb5e478(0x43e)]({'type':_0x493715[_0xb5e478(0x3e4)],'offer':_0x1b02d3,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x371f7c);},0x1388));}async['handleAnswer'](_0x39d527,_0x4be6dd){const _0x247906=_0x57df12;if(_0x4be6dd===this[_0x247906(0x792)]){this[_0x247906(0x5a2)]();try{await this[_0x247906(0x4ee)][_0x247906(0x2c9)](_0x39d527,this[_0x247906(0x327)]['bind'](this)),this[_0x247906(0x1bd)](),this[_0x247906(0x604)](),this[_0x247906(0x77e)]();}catch(_0x362d76){this[_0x247906(0x1fa)]();}}}[_0x57df12(0x435)](_0x4f2f6c){const _0x3abaab=_0x57df12;if(!this[_0x3abaab(0x6e4)])throw new _0x4158de(_0x4158de[_0x3abaab(0x67f)][_0x3abaab(0x643)],{'message':_0x3abaab(0x198),'localId':this[_0x3abaab(0x749)][_0x3abaab(0x5a9)](),'remoteId':this[_0x3abaab(0x69e)],'eventMessage':_0x4f2f6c});if(_0x3abaab(0x57d)!==this[_0x3abaab(0x6e4)][_0x3abaab(0x78a)])throw new _0x4158de(_0x4158de[_0x3abaab(0x67f)]['InvalidDataChannel'],{'message':_0x3abaab(0x4a4),'localId':this['localNode'][_0x3abaab(0x5a9)](),'remoteId':this[_0x3abaab(0x69e)],'eventMessage':_0x4f2f6c});let _0x4c4b9a;if(_0x4f2f6c[_0x3abaab(0x68e)][_0x3abaab(0x6de)]instanceof ArrayBuffer){const _0x3fc54b=_0x4f2f6c[_0x3abaab(0x68e)]['data'];delete _0x4f2f6c['content']['data'],_0x4c4b9a=this[_0x3abaab(0x519)](_0x4f2f6c,_0x3fc54b);}else _0x4c4b9a=JSON['stringify'](_0x4f2f6c);if(_0x3abaab(0x795)==typeof _0x4c4b9a&&_0x4c4b9a[_0x3abaab(0x5fc)]>_0x1e7130)return this[_0x3abaab(0x150)](_0x4f2f6c,_0x4c4b9a);const _0x5d9181=0x0===_0x4f2f6c[_0x3abaab(0x514)]&&[_0x769e55[_0x3abaab(0x566)],_0x769e55['PeerConnection']]['includes'](_0x4f2f6c['messageType'])?_0x2bc31f[_0x3abaab(0x682)]:_0x4f2f6c instanceof ArrayBuffer?_0x2bc31f['Low']:_0x2bc31f[_0x3abaab(0x5e7)];this[_0x3abaab(0x469)](_0x4c4b9a,_0x5d9181);}['addTrack'](_0x55f11a,_0x45aae1,_0x3563c0,_0xf07393){const _0x317b67=_0x57df12,_0x35b194=(_0x41aea3=this[_0x317b67(0x587)],_0x25ae5f=this[_0x317b67(0x584)],Math[_0x317b67(0x240)](0xe1000*_0x41aea3*_0x25ae5f));var _0x41aea3,_0x25ae5f;const _0x16e518=this[_0x317b67(0x70f)][_0x317b67(0x351)](_0x45aae1['id'])||{'stream':_0x45aae1,'priority':_0x3563c0,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x35b194,'maxBitrate':_0x35b194,'framerate':this['maxFps'],'maxFramerate':this['maxFps'],'tracks':{},'params':_0xf07393},_0x5dad82=_0x16e518[_0x317b67(0x560)][_0x55f11a[_0x317b67(0x49a)]]||{'track':_0x55f11a};if(_0x5dad82['sender']?(_0x5dad82[_0x317b67(0x1f0)]=_0x55f11a,this[_0x317b67(0x4ee)][_0x317b67(0x3f8)](_0x55f11a,_0x5dad82[_0x317b67(0x5fd)])):_0x5dad82[_0x317b67(0x5fd)]=this[_0x317b67(0x4ee)][_0x317b67(0x36d)](_0x55f11a,_0x45aae1),_0x16e518[_0x317b67(0x560)][_0x55f11a[_0x317b67(0x49a)]]=_0x5dad82,_0xf07393&&(_0x16e518[_0x317b67(0x6c6)]=_0xf07393),_0xf07393&&_0x317b67(0x176)===_0xf07393['kind']&&_0xf07393[_0x317b67(0x5db)]&&_0xf07393[_0x317b67(0x381)]&&(_0x16e518[_0x317b67(0x2f1)]=this['getResolutionScale'](_0xf07393[_0x317b67(0x5db)],_0xf07393[_0x317b67(0x381)]),_0x16e518[_0x317b67(0x72a)]=_0x16e518[_0x317b67(0x2f1)],_0x16e518[_0x317b67(0x560)]['video']&&_0x16e518[_0x317b67(0x560)][_0x317b67(0x176)][_0x317b67(0x5fd)])){const _0x4fae03=_0x16e518['tracks'][_0x317b67(0x176)][_0x317b67(0x5fd)];this['connection'][_0x317b67(0x1d8)](_0x4fae03,Math[_0x317b67(0x240)](0xa*_0x16e518['resolutionScale'])/0xa,_0x16e518[_0x317b67(0x672)],_0x16e518[_0x317b67(0x12c)],_0x16e518[_0x317b67(0x2c3)]);}this[_0x317b67(0x70f)][_0x317b67(0x6dc)](_0x45aae1['id'],_0x16e518);}['setPriority'](_0x34d045,_0x32944a){const _0x19c812=_0x57df12,_0x195e6f=this[_0x19c812(0x70f)][_0x19c812(0x351)](_0x34d045['id']);if(_0x195e6f&&_0x195e6f[_0x19c812(0x2c3)]!==_0x32944a&&(_0x195e6f[_0x19c812(0x2c3)]=_0x32944a,_0x195e6f[_0x19c812(0x560)][_0x19c812(0x176)]&&_0x195e6f[_0x19c812(0x560)][_0x19c812(0x176)][_0x19c812(0x5fd)])){const _0x2e5084=_0x195e6f[_0x19c812(0x560)][_0x19c812(0x176)][_0x19c812(0x5fd)];this[_0x19c812(0x4ee)][_0x19c812(0x1d8)](_0x2e5084,Math[_0x19c812(0x240)](0xa*_0x195e6f[_0x19c812(0x2f1)])/0xa,_0x195e6f[_0x19c812(0x672)],_0x195e6f[_0x19c812(0x12c)],_0x195e6f[_0x19c812(0x2c3)]);}}[_0x57df12(0x563)](_0x499af9,_0x5ca836){const _0x15bf77=_0x57df12,_0x5a3aff=this[_0x15bf77(0x70f)][_0x15bf77(0x351)](_0x499af9['id']);if(_0x5a3aff){if(_0x5a3aff[_0x15bf77(0x6c6)]=_0x5ca836,_0x5ca836&&_0x15bf77(0x176)===_0x5ca836[_0x15bf77(0x49a)]&&_0x5ca836['resolution']&&_0x5ca836['maxResolution']){if(_0x5a3aff['minResolutionScale']=this[_0x15bf77(0x3cf)](_0x5ca836['resolution'],_0x5ca836['maxResolution']),_0x5a3aff[_0x15bf77(0x2f1)]<_0x5a3aff[_0x15bf77(0x72a)]&&(_0x5a3aff[_0x15bf77(0x2f1)]=_0x5a3aff[_0x15bf77(0x72a)]),_0x5a3aff['tracks'][_0x15bf77(0x176)]&&_0x5a3aff[_0x15bf77(0x560)][_0x15bf77(0x176)]['sender']){const _0x47ea53=_0x5a3aff[_0x15bf77(0x560)]['video'][_0x15bf77(0x5fd)];this[_0x15bf77(0x4ee)][_0x15bf77(0x1d8)](_0x47ea53,Math[_0x15bf77(0x240)](0xa*_0x5a3aff[_0x15bf77(0x2f1)])/0xa,_0x5a3aff[_0x15bf77(0x672)],_0x5a3aff['bitrate'],_0x5a3aff[_0x15bf77(0x2c3)]);}this['clearUpgradeTimeout'](),this[_0x15bf77(0x1d9)]();}this[_0x15bf77(0x70f)][_0x15bf77(0x6dc)](_0x499af9['id'],_0x5a3aff);}}[_0x57df12(0x2b6)](_0x5c9ca7,_0x4bd121){const _0x3eae69=_0x57df12,_0x18e562=this['senders'][_0x3eae69(0x351)](_0x4bd121['id']);if(_0x18e562){const _0x596b45=_0x18e562['tracks'][_0x5c9ca7[_0x3eae69(0x49a)]];_0x596b45&&(_0x596b45['sender']&&this[_0x3eae69(0x4ee)]['removeTrack'](_0x596b45[_0x3eae69(0x5fd)]),_0x596b45[_0x3eae69(0x1f0)]=void 0x0);}}[_0x57df12(0x612)](_0x12e938){const _0x372e10=_0x57df12;this['clearUpgradeTimeout']();const _0x53d6ad=function(_0x25515a,_0x1012cb){const _0x4fd167=a0_0x5c56;return _0x25515a[_0x4fd167(0x185)]((_0x350b9b,_0x486847)=>_0x1012cb['action']===_0x1238c9[_0x4fd167(0x528)]?_0x486847[_0x4fd167(0x2c3)]-_0x350b9b[_0x4fd167(0x2c3)]:_0x350b9b['priority']-_0x486847[_0x4fd167(0x2c3)])[_0x4fd167(0x775)](_0x4f45b0=>function(_0x3699c1,_0x23db9a){const _0x4410d8=_0x4fd167;if(_0x23db9a[_0x4410d8(0x226)]===_0x1238c9['Downgrade']){if(_0x23db9a['component']===_0x486168[_0x4410d8(0x537)])return _0x3699c1['resolutionScale']<0x4||_0x3699c1[_0x4410d8(0x19a)]>0xf;if(_0x23db9a[_0x4410d8(0x259)]===_0x486168[_0x4410d8(0x494)])return _0x3699c1[_0x4410d8(0x2d2)]>_0x781174;}return _0x3699c1[_0x4410d8(0x2f1)]>_0x3699c1[_0x4410d8(0x72a)]||_0x3699c1[_0x4410d8(0x672)]<_0x3699c1[_0x4410d8(0x19a)]||_0x3699c1[_0x4410d8(0x12c)]<_0x3699c1[_0x4410d8(0x2d2)];}(_0x4f45b0,_0x1012cb));}(Array[_0x372e10(0x779)](this[_0x372e10(0x70f)][_0x372e10(0x49e)]()),_0x12e938);if(_0x53d6ad&&(function(_0x150a61,_0x447a36){const _0x137dd3=_0x372e10;_0x150a61[_0x137dd3(0x560)]['video']&&_0x150a61[_0x137dd3(0x560)][_0x137dd3(0x176)]['sender']&&(_0x150a61[_0x137dd3(0x2f1)]=function(_0x4043f2,_0x418996,_0x80740b){const _0x4b3169=_0x137dd3;switch(_0x80740b[_0x4b3169(0x226)]){case _0x1238c9[_0x4b3169(0x528)]:_0x80740b[_0x4b3169(0x259)]===_0x486168[_0x4b3169(0x537)]&&(_0x4043f2+=0.5)>0x4&&(_0x4043f2=0x4);break;case _0x1238c9[_0x4b3169(0x5f3)]:(_0x4043f2-=0.5)<_0x418996&&(_0x4043f2=_0x418996);}return _0x4043f2;}(_0x150a61[_0x137dd3(0x2f1)],_0x150a61[_0x137dd3(0x72a)],_0x447a36),_0x150a61['framerate']=function(_0x2bbd78,_0x4b388d,_0x2b3f8c){const _0x1a3b96=_0x137dd3;switch(_0x2b3f8c[_0x1a3b96(0x226)]){case _0x1238c9[_0x1a3b96(0x528)]:_0x2b3f8c[_0x1a3b96(0x259)]===_0x486168[_0x1a3b96(0x537)]&&(_0x2bbd78-=0x3)<0xf&&(_0x2bbd78=0xf);break;case _0x1238c9['Upgrade']:(_0x2bbd78+=0x3)>_0x4b388d&&(_0x2bbd78=_0x4b388d);}return _0x2bbd78;}(_0x150a61[_0x137dd3(0x672)],_0x150a61[_0x137dd3(0x19a)],_0x447a36),_0x150a61[_0x137dd3(0x12c)]=function(_0x563d8a,_0x5a1335,_0x2155bd){const _0x3bf84a=_0x137dd3;switch(_0x2155bd[_0x3bf84a(0x226)]){case _0x1238c9[_0x3bf84a(0x528)]:_0x2155bd[_0x3bf84a(0x259)]===_0x486168['Bitrate']&&(_0x563d8a*=0.75)<_0x781174&&(_0x563d8a=_0x781174);break;case _0x1238c9[_0x3bf84a(0x5f3)]:(_0x563d8a*=1.25)>_0x5a1335&&(_0x563d8a=_0x5a1335);}return _0x563d8a;}(_0x150a61[_0x137dd3(0x12c)],_0x150a61[_0x137dd3(0x2d2)],_0x447a36));}(_0x53d6ad,_0x12e938),_0x53d6ad[_0x372e10(0x560)][_0x372e10(0x176)]&&_0x53d6ad[_0x372e10(0x560)][_0x372e10(0x176)][_0x372e10(0x5fd)])){const _0x2fe771=_0x53d6ad[_0x372e10(0x560)]['video'][_0x372e10(0x5fd)];this['connection'][_0x372e10(0x1d8)](_0x2fe771,Math[_0x372e10(0x240)](0xa*_0x53d6ad[_0x372e10(0x2f1)])/0xa,_0x53d6ad[_0x372e10(0x672)],_0x53d6ad[_0x372e10(0x12c)],_0x53d6ad[_0x372e10(0x2c3)]);}(_0x53d6ad||_0x12e938[_0x372e10(0x226)]===_0x1238c9[_0x372e10(0x528)])&&this[_0x372e10(0x1d9)]();}[_0x57df12(0x61f)](){const _0x8c77af=_0x57df12;super[_0x8c77af(0x61f)](),this[_0x8c77af(0x139)](),this[_0x8c77af(0x5a2)](),this[_0x8c77af(0x70f)]['forEach'](_0x429c65=>{const _0x2b65d1=_0x8c77af;_0x429c65['tracks'][_0x2b65d1(0x176)]&&(_0x429c65[_0x2b65d1(0x560)][_0x2b65d1(0x176)][_0x2b65d1(0x5fd)]=void 0x0),_0x429c65['tracks'][_0x2b65d1(0x131)]&&(_0x429c65[_0x2b65d1(0x560)][_0x2b65d1(0x131)][_0x2b65d1(0x5fd)]=void 0x0);}),this[_0x8c77af(0x129)]=!0x0;}async[_0x57df12(0x442)](){return new Promise(async _0x3e8941=>{const _0x2feb90=a0_0x5c56;if(!this[_0x2feb90(0x6e4)]||_0x2feb90(0x57d)!==this[_0x2feb90(0x6e4)][_0x2feb90(0x78a)])return await _0xdd3be7[_0x2feb90(0x1c3)](0x64),void _0x3e8941();this[_0x2feb90(0x6e4)]['bufferedAmount']<0x10000?_0x3e8941():this[_0x2feb90(0x6e4)][_0x2feb90(0x26d)]=()=>{const _0x12e595=_0x2feb90;this[_0x12e595(0x6e4)]&&(this[_0x12e595(0x6e4)][_0x12e595(0x26d)]=null),_0x3e8941();};});}[_0x57df12(0x150)](_0x262b93,_0x308e21){const _0x1d950e=_0x57df12,_0x5005ce=[];for(let _0x3699b7=0x0;_0x3699b7<_0x308e21['length'];_0x3699b7+=_0x1e7130)_0x5005ce[_0x1d950e(0x374)](_0x308e21[_0x1d950e(0x50e)](_0x3699b7,_0x3699b7+_0x1e7130));for(const _0x423a8b of _0x5005ce)this[_0x1d950e(0x469)](_0x5e8f9a+';'+_0x262b93['uuid']+';'+_0x5005ce[_0x1d950e(0x15a)](_0x423a8b)+';'+_0x5005ce[_0x1d950e(0x5fc)]+';'+_0x423a8b,_0x2bc31f[_0x1d950e(0x4f1)]);}async[_0x57df12(0x469)](_0x20f7d4,_0x2c4509){const _0x860aa6=_0x57df12;_0x20f7d4===_0x32133d?this[_0x860aa6(0x268)][_0x860aa6(0x413)][_0x2c4509][_0x860aa6(0x645)]?.['value']!==_0x32133d&&this[_0x860aa6(0x268)][_0x860aa6(0x413)][_0x2c4509][_0x860aa6(0x70c)](_0x20f7d4):this[_0x860aa6(0x268)]['queues'][_0x2c4509][_0x860aa6(0x374)](_0x20f7d4);}['sendAction'](_0x75fc3){const _0x48c6d9=_0x57df12;if(!this[_0x48c6d9(0x6e4)]||_0x48c6d9(0x57d)!==this[_0x48c6d9(0x6e4)][_0x48c6d9(0x78a)])throw new Error(_0x48c6d9(0x6f5));const _0x105742=Date['now']();_0x75fc3!==_0x32133d&&(this['messagesSent']+=0x1,this[_0x48c6d9(0x3d0)]+=_0x75fc3 instanceof ArrayBuffer?_0x75fc3['byteLength']:_0x75fc3[_0x48c6d9(0x5fc)]),ArrayBuffer,this[_0x48c6d9(0x6e4)][_0x48c6d9(0x435)](_0x75fc3),this[_0x48c6d9(0x50d)]+=Date[_0x48c6d9(0x68a)]()-_0x105742;}[_0x57df12(0x77e)](){const _0x52e1f1=_0x57df12;this[_0x52e1f1(0x613)]&&this[_0x52e1f1(0x4b2)]();let _0x1a3ee1=!0x0,_0x5578b4=Date[_0x52e1f1(0x68a)]();this[_0x52e1f1(0x4c7)]=Date['now'](),this[_0x52e1f1(0x6e4)][_0x52e1f1(0x6d5)]=_0x4c4e11=>{const _0x4255b9=_0x52e1f1;'1'===_0x4c4e11[_0x4255b9(0x6de)]&&(this[_0x4255b9(0x289)]=Date[_0x4255b9(0x68a)]()-_0x5578b4,_0x1a3ee1&&this['publishSystemMessage']({'type':_0x493715[_0x4255b9(0x4d6)]}),_0x1a3ee1=!0x1,this['lastHeartbeat']=Date['now'](),this['isReconnecting']&&(this[_0x4255b9(0x129)]=!0x1,this['handleMissingSenders']()));},this[_0x52e1f1(0x613)]=_0xdd3be7[_0x52e1f1(0x5cb)](()=>{const _0x4062f3=_0x52e1f1;_0x5578b4=Date[_0x4062f3(0x68a)](),this[_0x4062f3(0x469)](_0x32133d,_0x2bc31f[_0x4062f3(0x682)]),Date['now']()-this['lastHeartbeat']>(_0x1a3ee1?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x57df12(0x3fe)](){const _0x3d9c48=_0x57df12;this[_0x3d9c48(0x70f)]['forEach'](_0x8bbeed=>{const _0x32a98f=_0x3d9c48;_0x8bbeed['tracks']['video']&&_0x8bbeed[_0x32a98f(0x560)]['video']['track']&&!_0x8bbeed[_0x32a98f(0x560)][_0x32a98f(0x176)][_0x32a98f(0x5fd)]&&(_0x8bbeed[_0x32a98f(0x560)][_0x32a98f(0x176)]['sender']=this[_0x32a98f(0x4ee)][_0x32a98f(0x36d)](_0x8bbeed[_0x32a98f(0x560)][_0x32a98f(0x176)][_0x32a98f(0x1f0)],_0x8bbeed[_0x32a98f(0x1f6)])),_0x8bbeed['tracks']['audio']&&_0x8bbeed['tracks'][_0x32a98f(0x131)][_0x32a98f(0x1f0)]&&!_0x8bbeed[_0x32a98f(0x560)][_0x32a98f(0x131)]['sender']&&(_0x8bbeed[_0x32a98f(0x560)][_0x32a98f(0x131)][_0x32a98f(0x5fd)]=this['connection'][_0x32a98f(0x36d)](_0x8bbeed[_0x32a98f(0x560)][_0x32a98f(0x131)][_0x32a98f(0x1f0)],_0x8bbeed[_0x32a98f(0x1f6)]));});}[_0x57df12(0x335)](){const _0x283a67=_0x57df12;this['publishSystemMessage']({'type':_0x493715[_0x283a67(0x3d2)],'candidates':this[_0x283a67(0x5aa)],'origin':_0x215fe2['Sender'],'version':this['currentVersion'],'connectionType':this[_0x283a67(0x3e1)]});}[_0x57df12(0x1b4)](){const _0xef4ea3=_0x57df12;super[_0xef4ea3(0x1b4)](),this[_0xef4ea3(0x4ee)][_0xef4ea3(0x6c9)]=()=>{const _0x27296f=_0xef4ea3;if(_0x27296f(0x67b)===this[_0x27296f(0x4ee)][_0x27296f(0x455)]){_0x287307[_0x27296f(0x60a)](_0x54918a[_0x27296f(0x52d)],_0x27296f(0x1a1),this['localNode'][_0x27296f(0x5a9)](),this[_0x27296f(0x69e)]);try{if(this[_0x27296f(0x4ee)][_0x27296f(0x727)])return void this[_0x27296f(0x4ee)][_0x27296f(0x343)]();}catch(_0x5b7d77){}this[_0x27296f(0x327)]({'handshakeRestart':!0x0});}},this['connection'][_0xef4ea3(0x26c)]=()=>{const _0x4fdb7a=_0xef4ea3;_0x4fdb7a(0x39f)!==this[_0x4fdb7a(0x4ee)][_0x4fdb7a(0x2a5)]&&_0x4fdb7a(0x67b)!==this['connection'][_0x4fdb7a(0x2a5)]||this[_0x4fdb7a(0x1fa)]();};}['handleDisconnect'](){const _0x142b86=_0x57df12;this[_0x142b86(0x4b2)](),this[_0x142b86(0x750)](),this['clearConnectionTimeout'](),_0x287307[_0x142b86(0x144)]('disconnect',{'clusterId':this[_0x142b86(0x545)],'nodeId':this[_0x142b86(0x749)][_0x142b86(0x5a9)](),'nodeType':this['localNode'][_0x142b86(0x3cb)],'remoteId':this[_0x142b86(0x69e)],'data':{'connectionType':this['connectionType'],'connectionState':this[_0x142b86(0x4ee)]['connectionState'],'iceConnectionState':this[_0x142b86(0x4ee)][_0x142b86(0x455)],'signalingState':this[_0x142b86(0x4ee)][_0x142b86(0x375)],'readyState':this[_0x142b86(0x6e4)]?.[_0x142b86(0x78a)]||'','lastHeartbeat':this[_0x142b86(0x4c7)]?Date[_0x142b86(0x68a)]()-this['lastHeartbeat']:'','retryQueue':this[_0x142b86(0x268)]}}),(this[_0x142b86(0x4c7)]&&Date[_0x142b86(0x68a)]()-this[_0x142b86(0x4c7)]>0xea60)??0x1?this[_0x142b86(0x235)][_0x142b86(0x707)]({'sourceId':this[_0x142b86(0x69e)],'destinationIds':[this['localNode'][_0x142b86(0x5a9)]()],'messageType':_0x769e55[_0x142b86(0x498)],'content':{'type':_0x493715['Disconnect']}}):(this[_0x142b86(0x61f)](),this[_0x142b86(0x43e)]({'type':_0x493715[_0x142b86(0x2bb)],'version':this['currentVersion'],'connectionType':this['connectionType']}),this[_0x142b86(0x311)]=setTimeout(()=>{const _0x3ae155=_0x142b86;this[_0x3ae155(0x1fa)]();},0x7530));}[_0x57df12(0x4b2)](){const _0x2d7e82=_0x57df12;this[_0x2d7e82(0x613)]?.(),delete this[_0x2d7e82(0x613)];}['clearConnectionTimeout'](){const _0x2166bf=_0x57df12;this['connectionTimeout']&&(clearTimeout(this[_0x2166bf(0x59f)]),delete this[_0x2166bf(0x59f)]);}[_0x57df12(0x750)](){const _0x534d68=_0x57df12;this['restartTimeout']&&(clearTimeout(this[_0x534d68(0x311)]),delete this[_0x534d68(0x311)]);}[_0x57df12(0x427)](){this['upgradeTimeout']&&(clearTimeout(this['upgradeTimeout']),delete this['upgradeTimeout']);}['setUpgradeTimeout'](){const _0x2bc412=_0x57df12;this[_0x2bc412(0x22a)]=setTimeout(()=>{const _0x1aee28=_0x2bc412;this[_0x1aee28(0x612)]({'type':_0x5d4ed9[_0x1aee28(0x220)],'action':_0x1238c9[_0x1aee28(0x5f3)]});},0x3a98);}[_0x57df12(0x3cf)](_0x5a707f,_0x599134){const _0x26a303=_0x57df12,_0x24fe51=Math[_0x26a303(0x516)](_0x5a707f[_0x26a303(0x55b)]/_0x599134[_0x26a303(0x55b)],_0x5a707f[_0x26a303(0x38e)]/_0x599134[_0x26a303(0x38e)]);return Math[_0x26a303(0x56e)](Math[_0x26a303(0x516)](_0x24fe51,0x1),0x4);}['clearWaitAnswer'](){const _0x28a0e3=_0x57df12;this[_0x28a0e3(0x71a)]?.(),delete this[_0x28a0e3(0x71a)];}[_0x57df12(0x139)](){const _0x4ce35b=_0x57df12;this['oncloseTimeout']&&(clearTimeout(this['oncloseTimeout']),delete this[_0x4ce35b(0x426)]);}[_0x57df12(0x616)](_0x35a95d){const _0x2ae8a5=JSON['stringify'](_0x35a95d);return new TextEncoder()['encode'](_0x2ae8a5)['buffer'];}[_0x57df12(0x519)](_0x36cdf7,_0x1e2688){const _0x2108e2=_0x57df12,_0x13b273=this[_0x2108e2(0x616)](_0x36cdf7),_0x312ce6=new Uint8Array(0x4),_0x183390=new Uint8Array(_0x13b273),_0x3bcf75=new Uint8Array(_0x1e2688);_0x312ce6[_0x2108e2(0x6dc)](new Uint8Array(new Uint32Array([_0x183390['length']])[_0x2108e2(0x274)]));const _0x90188f=new Uint8Array(0x4+_0x183390[_0x2108e2(0x5fc)]+_0x3bcf75[_0x2108e2(0x5fc)]);return _0x90188f['set'](_0x312ce6),_0x90188f[_0x2108e2(0x6dc)](_0x183390,0x4),_0x90188f[_0x2108e2(0x6dc)](_0x3bcf75,0x4+_0x183390['length']),_0x90188f[_0x2108e2(0x274)];}}class _0x26e9fd extends _0x4dadb4{['iceServers'];[_0x57df12(0x3e1)];[_0x57df12(0x587)];[_0x57df12(0x584)];['connectionConstructor'];[_0x57df12(0x24e)];[_0x57df12(0x5d9)];[_0x57df12(0x17c)]=[];[_0x57df12(0x76b)]=_0x3f0774();[_0x57df12(0x463)]=_0x3f0774();[_0x57df12(0x3e8)]=_0x3f0774();[_0x57df12(0x5ff)]=[];[_0x57df12(0x235)];[_0x57df12(0x4c3)]=new Map();[_0x57df12(0x79d)]=new Map();[_0x57df12(0x502)]=new Map();[_0x57df12(0x5bc)]=new Map();[_0x57df12(0x71d)]=!0x1;constructor(_0x4381cd,_0x2193d0,_0x425d59,_0x570975,_0x1497ed,_0x28b4c2,_0x443f09,_0x44d096){const _0x45681f=_0x57df12;super(_0x4381cd,_0x2193d0,_0x425d59),this[_0x45681f(0x654)]=_0x570975,this[_0x45681f(0x3e1)]=_0x1497ed,this[_0x45681f(0x587)]=_0x28b4c2,this['maxBpp']=_0x443f09,this[_0x45681f(0x597)]=_0x44d096;}[_0x57df12(0x293)](_0x19baec){const _0x43273f=_0x57df12;switch(_0x19baec['getContentType']()){case _0x36cc4b['ContentType'][_0x43273f(0x6b3)]:case _0x36cc4b['ContentType'][_0x43273f(0x3d4)]:case _0x36cc4b['ContentType'][_0x43273f(0x4da)]:case _0x36cc4b[_0x43273f(0x444)][_0x43273f(0x405)]:case _0x36cc4b[_0x43273f(0x444)][_0x43273f(0x46a)]:this[_0x43273f(0x4c3)][_0x43273f(0x6dc)](_0x19baec[_0x43273f(0x171)](),_0x19baec);break;case _0x36cc4b['ContentType'][_0x43273f(0x50a)]:this[_0x43273f(0x502)][_0x43273f(0x6dc)](_0x19baec['getLabel'](),_0x19baec);}}[_0x57df12(0x77a)](_0x2dcca9){const _0x1f12a5=_0x57df12;switch(_0x2dcca9[_0x1f12a5(0x632)]()){case _0x36cc4b[_0x1f12a5(0x444)][_0x1f12a5(0x6b3)]:case _0x36cc4b['ContentType']['PubSub']:case _0x36cc4b[_0x1f12a5(0x444)][_0x1f12a5(0x4da)]:case _0x36cc4b[_0x1f12a5(0x444)][_0x1f12a5(0x405)]:case _0x36cc4b[_0x1f12a5(0x444)][_0x1f12a5(0x46a)]:this[_0x1f12a5(0x4c3)][_0x1f12a5(0x403)](_0x2dcca9[_0x1f12a5(0x171)]());break;case _0x36cc4b['ContentType'][_0x1f12a5(0x50a)]:this[_0x1f12a5(0x502)][_0x1f12a5(0x403)](_0x2dcca9[_0x1f12a5(0x171)]());}}['registerSubscriber'](_0x5ba358){const _0x5d1d23=_0x57df12;switch(_0x5ba358['getContentType']()){case _0x36cc4b[_0x5d1d23(0x444)]['Data']:case _0x36cc4b['ContentType']['PubSub']:case _0x36cc4b[_0x5d1d23(0x444)][_0x5d1d23(0x4da)]:case _0x36cc4b[_0x5d1d23(0x444)][_0x5d1d23(0x405)]:case _0x36cc4b[_0x5d1d23(0x444)]['Job']:{const _0x5724e6=_0x5ba358[_0x5d1d23(0x76e)](_0x1441ac=>{const _0x5059c2=_0x5d1d23;_0x1d6486(_0x1441ac,this[_0x5059c2(0x2a1)]())&&_0x562ce4(_0x1441ac,this[_0x5059c2(0x69e)])&&this[_0x5059c2(0x435)](_0x1441ac);});this['dataUnsubscribers'][_0x5d1d23(0x6dc)](_0x5ba358[_0x5d1d23(0x171)](),_0x5724e6);break;}case _0x36cc4b[_0x5d1d23(0x444)][_0x5d1d23(0x50a)]:{const _0xaa0964=_0x5ba358['subscribe'](({content:_0x4f5b06})=>{const _0x441b39=_0x5d1d23;switch(_0x4f5b06[_0x441b39(0x226)]){case _0x43552a[_0x441b39(0x272)]:this[_0x441b39(0x36d)](_0x4f5b06['track'],_0x4f5b06[_0x441b39(0x1f6)],_0x4f5b06[_0x441b39(0x2c3)],_0x4f5b06[_0x441b39(0x6c6)]);break;case _0x43552a['Remove']:this[_0x441b39(0x2b6)](_0x4f5b06[_0x441b39(0x1f0)],_0x4f5b06[_0x441b39(0x1f6)]);break;case _0x43552a[_0x441b39(0x614)]:_0x4f5b06[_0x441b39(0x2c3)]&&this[_0x441b39(0x5f4)](_0x4f5b06[_0x441b39(0x1f6)],_0x4f5b06[_0x441b39(0x2c3)]),_0x4f5b06[_0x441b39(0x6c6)]&&this[_0x441b39(0x563)](_0x4f5b06['stream'],_0x4f5b06['params']);}});this['mediaUnsubscribers'][_0x5d1d23(0x6dc)](_0x5ba358[_0x5d1d23(0x171)](),_0xaa0964);break;}}}['unregisterSubscriber'](_0x33ad1b){const _0xc4f31d=_0x57df12;switch(_0x33ad1b['getContentType']()){case _0x36cc4b[_0xc4f31d(0x444)][_0xc4f31d(0x6b3)]:case _0x36cc4b['ContentType']['PubSub']:case _0x36cc4b[_0xc4f31d(0x444)][_0xc4f31d(0x4da)]:case _0x36cc4b[_0xc4f31d(0x444)][_0xc4f31d(0x405)]:case _0x36cc4b['ContentType'][_0xc4f31d(0x46a)]:this[_0xc4f31d(0x79d)]['get'](_0x33ad1b['getLabel']())?.(),this[_0xc4f31d(0x79d)][_0xc4f31d(0x403)](_0x33ad1b[_0xc4f31d(0x171)]());break;case _0x36cc4b[_0xc4f31d(0x444)][_0xc4f31d(0x50a)]:this['mediaUnsubscribers'][_0xc4f31d(0x351)](_0x33ad1b[_0xc4f31d(0x171)]())?.(),this[_0xc4f31d(0x5bc)]['delete'](_0x33ad1b[_0xc4f31d(0x171)]());}}[_0x57df12(0x402)](){const _0x40e4bf=_0x57df12;return[_0x36cc4b[_0x40e4bf(0x444)]['Data'],_0x36cc4b[_0x40e4bf(0x444)][_0x40e4bf(0x3d4)],_0x36cc4b['ContentType']['ObjectStore'],_0x36cc4b[_0x40e4bf(0x444)][_0x40e4bf(0x405)],_0x36cc4b[_0x40e4bf(0x444)][_0x40e4bf(0x46a)]];}['registerSystemPublisher'](_0x34d0f6){this['systemTopic']=_0x34d0f6;}[_0x57df12(0x446)](){const _0x15da6c=_0x57df12;delete this[_0x15da6c(0x235)];}async[_0x57df12(0x69c)](){const _0x4ca2e6=_0x57df12;this[_0x4ca2e6(0x4c9)](),await this[_0x4ca2e6(0x327)]();}[_0x57df12(0x42b)](){const _0x128b27=_0x57df12;this[_0x128b27(0x5ff)][_0x128b27(0x3bd)](_0x7ee175=>_0x7ee175()),this['listenerUnsubscribers']=[],this['senderConnection']?.[_0x128b27(0x446)](),this[_0x128b27(0x24e)]?.[_0x128b27(0x42b)](),delete this[_0x128b27(0x24e)],this[_0x128b27(0x17c)][_0x128b27(0x3bd)](_0x477444=>_0x477444()),this[_0x128b27(0x17c)]=[],this[_0x128b27(0x5d9)]?.[_0x128b27(0x446)](),this[_0x128b27(0x5d9)]?.[_0x128b27(0x42b)](),delete this[_0x128b27(0x5d9)];}[_0x57df12(0x74b)](){const _0x92d107=_0x57df12;return this[_0x92d107(0x24e)]?.[_0x92d107(0x74b)]()&&this[_0x92d107(0x5d9)]?.[_0x92d107(0x74b)]()||!0x1;}[_0x57df12(0x435)](_0x38c8f2){const _0x56c75f=_0x57df12;if(!this['senderConnection']||!this[_0x56c75f(0x74b)]())throw new _0x4158de(_0x4158de[_0x56c75f(0x67f)][_0x56c75f(0x56b)],{'message':_0x56c75f(0x539),'senderConnected':this[_0x56c75f(0x24e)]?.[_0x56c75f(0x74b)](),'receiverConnected':this[_0x56c75f(0x5d9)]?.[_0x56c75f(0x74b)](),'localId':this['getLocalId'](),'remoteId':this[_0x56c75f(0x69e)],'data':_0x38c8f2});this[_0x56c75f(0x24e)]['send'](_0x38c8f2);}['onMessage'](_0x1f13f7){const _0x4944c6=_0x57df12;return this['messageListeners'][_0x4944c6(0x76e)](_0x1f13f7);}[_0x57df12(0x1fc)](_0x45176f){const _0x22781f=_0x57df12;return this[_0x22781f(0x463)][_0x22781f(0x76e)](({track:_0x5ee2ac,stream:_0x4b62c1})=>_0x45176f(_0x5ee2ac,_0x4b62c1));}['onRemoveTrack'](_0x5e9bb1){return this['removeTrackListeners']['subscribe'](({track:_0xbde8de,stream:_0x4aabec})=>_0x5e9bb1(_0xbde8de,_0x4aabec));}['addTrack'](_0x1104b7,_0x5c5529,_0x2a4a4a,_0x172180){const _0x1527dd=_0x57df12;this['senderConnection']?.[_0x1527dd(0x36d)](_0x1104b7,_0x5c5529,_0x2a4a4a,_0x172180);}[_0x57df12(0x5f4)](_0x1aab91,_0x25cc92){const _0x5bdd22=_0x57df12;this['senderConnection']?.[_0x5bdd22(0x5f4)](_0x1aab91,_0x25cc92);}[_0x57df12(0x563)](_0x6b5d25,_0x14396b){const _0x44a9a6=_0x57df12;this['senderConnection']?.[_0x44a9a6(0x563)](_0x6b5d25,_0x14396b);}[_0x57df12(0x2b6)](_0x165edb,_0x122c10){const _0x96335f=_0x57df12;this[_0x96335f(0x24e)]?.[_0x96335f(0x2b6)](_0x165edb,_0x122c10);}async[_0x57df12(0x533)](_0xa135b7){const _0x1cd1e1=_0x57df12;_0x287307[_0x1cd1e1(0x60a)](_0x54918a[_0x1cd1e1(0x684)],_0x1cd1e1(0x24d),this[_0x1cd1e1(0x2a1)](),_0xa135b7);const {content:_0x3fffcf}=_0xa135b7;switch(_0x3fffcf[_0x1cd1e1(0x3cb)]){case _0x493715[_0x1cd1e1(0x3e4)]:await this['handleOffer'](_0x3fffcf);break;case _0x493715['Answer']:await this[_0x1cd1e1(0x2c9)](_0x3fffcf);break;case _0x493715[_0x1cd1e1(0x4d6)]:this[_0x1cd1e1(0x384)]();break;case _0x493715[_0x1cd1e1(0x3d2)]:await this[_0x1cd1e1(0x4b7)](_0x3fffcf);break;case _0x493715[_0x1cd1e1(0x2bb)]:this[_0x1cd1e1(0x281)](_0x3fffcf);break;case _0x493715[_0x1cd1e1(0x459)]:await this[_0x1cd1e1(0x327)]();}}['handleRemediationSystemEvents'](_0x419309){const _0x2412a4=_0x57df12;this[_0x2412a4(0x24e)]?.[_0x2412a4(0x612)](_0x419309[_0x2412a4(0x68e)][_0x2412a4(0x6de)]);}['getConnectionType'](){return this['connectionType'];}[_0x57df12(0x4f7)](_0x1d1700){const _0x2b25a5=_0x57df12;this[_0x2b25a5(0x3e1)]=_0x1d1700,this[_0x2b25a5(0x24e)]?.[_0x2b25a5(0x4f7)](_0x1d1700),this['receiverConnection']?.[_0x2b25a5(0x4f7)](_0x1d1700);}async[_0x57df12(0x59d)](){const _0x12f556=_0x57df12;await this[_0x12f556(0x24e)]?.['collectStats'](),await this[_0x12f556(0x5d9)]?.[_0x12f556(0x59d)]();}[_0x57df12(0x4c9)](){const _0x23bd19=_0x57df12;this[_0x23bd19(0x5ff)][_0x23bd19(0x374)](this[_0x23bd19(0x6d5)](_0x4324f3=>{const _0x49edfa=_0x23bd19;_0x562ce4(_0x4324f3,this[_0x49edfa(0x2a1)]())&&0x0!==_0x4324f3[_0x49edfa(0x514)]&&this[_0x49edfa(0x4c3)]['get'](_0x4324f3[_0x49edfa(0x514)])?.[_0x49edfa(0x707)](_0x4324f3);})),this['listenerUnsubscribers'][_0x23bd19(0x374)](this['onTrack']((_0x3f0f0d,_0x2fb6fb)=>{const _0x539f03=_0x23bd19,_0x1f856e=_0x5319ff(_0x36cc4b['ContentType']['Media'],_0x2fb6fb['id'],this['remoteId']);this['mediaTopics']['get'](_0x1f856e)?.['publish']({'topicLabel':_0x1f856e,'sourceId':this[_0x539f03(0x69e)],'contentType':_0x36cc4b[_0x539f03(0x444)]['Media'],'content':{'action':_0x43552a[_0x539f03(0x286)],'track':_0x3f0f0d,'stream':_0x2fb6fb,'providerId':this['remoteId']}});})),this[_0x23bd19(0x5ff)][_0x23bd19(0x374)](this[_0x23bd19(0x1ee)]((_0x4af7,_0x1ebfbe)=>{const _0x411613=_0x23bd19,_0x2a4751=_0x5319ff(_0x36cc4b[_0x411613(0x444)][_0x411613(0x50a)],_0x1ebfbe['id'],this[_0x411613(0x69e)]);this[_0x411613(0x502)][_0x411613(0x351)](_0x2a4751)?.[_0x411613(0x707)]({'topicLabel':_0x2a4751,'sourceId':this[_0x411613(0x69e)],'contentType':_0x36cc4b['ContentType'][_0x411613(0x50a)],'content':{'action':_0x43552a[_0x411613(0x322)],'track':_0x4af7,'stream':_0x1ebfbe,'providerId':this[_0x411613(0x69e)]}});}));}['handleIceCandidates']({candidates:_0xc91e7c,origin:_0xe5d464,version:_0x3e32c7}){const _0x2a2914=_0x57df12;return _0xe5d464===_0x215fe2['Sender']?(this[_0x2a2914(0x5d9)]||this[_0x2a2914(0x20e)](),this[_0x2a2914(0x5d9)][_0x2a2914(0x555)](_0xc91e7c,_0x3e32c7)):this[_0x2a2914(0x24e)][_0x2a2914(0x555)](_0xc91e7c,_0x3e32c7);}async[_0x57df12(0x327)](){const _0x248feb=_0x57df12;this['senderConnection']||this['createSenderConnection'](),await this[_0x248feb(0x24e)][_0x248feb(0x327)]();}async[_0x57df12(0x572)]({offer:_0x3beed9,version:_0x4744fe}){const _0x31cecb=_0x57df12;this['receiverConnection']||this[_0x31cecb(0x20e)](),await this['receiverConnection'][_0x31cecb(0x572)](_0x3beed9,_0x4744fe);}async[_0x57df12(0x2c9)]({answer:_0x4407ec,version:_0x13d581}){const _0x5cba5c=_0x57df12;if(!this[_0x5cba5c(0x24e)])throw new _0x4158de(_0x4158de['codes']['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this['getLocalId'](),'remoteId':this['remoteId'],'answer':_0x4407ec});await this['senderConnection'][_0x5cba5c(0x2c9)](_0x4407ec,_0x13d581);}[_0x57df12(0x384)](){const _0x44af76=_0x57df12;if(!this[_0x44af76(0x5d9)])throw new _0x4158de(_0x4158de['codes']['ConnectionNotinitialized'],{'message':_0x44af76(0x4b6),'localId':this[_0x44af76(0x2a1)](),'remoteId':this['remoteId']});this['receiverConnection']['handleSuccess'](),this[_0x44af76(0x71d)]||this[_0x44af76(0x3e1)]!==_0x58c6e4['Optimization']||(this[_0x44af76(0x71d)]=!0x0,this[_0x44af76(0x235)]?.[_0x44af76(0x707)]({'sourceId':this[_0x44af76(0x69e)],'destinationIds':[this[_0x44af76(0x2a1)]()],'messageType':_0x769e55[_0x44af76(0x498)],'content':{'type':_0x493715[_0x44af76(0x23a)]}}));}[_0x57df12(0x281)](_0x307e8f){const _0x27c950=_0x57df12;this[_0x27c950(0x5d9)]||this['createReceiverConnection'](),this['receiverConnection'][_0x27c950(0x281)](_0x307e8f[_0x27c950(0x2a4)]);}[_0x57df12(0x4ba)](){const _0x1230a4=_0x57df12;this[_0x1230a4(0x24e)]=new _0x2e3eca(this[_0x1230a4(0x545)],this[_0x1230a4(0x749)],this[_0x1230a4(0x69e)],this[_0x1230a4(0x654)],this['connectionType'],this[_0x1230a4(0x587)],this[_0x1230a4(0x584)],this[_0x1230a4(0x597)]),this['senderConnection'][_0x1230a4(0x432)](this[_0x1230a4(0x235)]);}[_0x57df12(0x20e)](){const _0x4f8744=_0x57df12;this[_0x4f8744(0x5d9)]=new _0x57c0ca(this[_0x4f8744(0x545)],this['localNode'],this[_0x4f8744(0x69e)],this[_0x4f8744(0x654)],this[_0x4f8744(0x3e1)],this[_0x4f8744(0x597)]),this[_0x4f8744(0x5d9)][_0x4f8744(0x432)](this['systemTopic']),this[_0x4f8744(0x17c)][_0x4f8744(0x374)](this[_0x4f8744(0x5d9)]['onMessage'](_0x35cad7=>this[_0x4f8744(0x76b)][_0x4f8744(0x707)](_0x35cad7))),this[_0x4f8744(0x17c)][_0x4f8744(0x374)](this[_0x4f8744(0x5d9)][_0x4f8744(0x1fc)]((_0x1de84f,_0x5bdd2c)=>this['trackListeners'][_0x4f8744(0x707)]({'track':_0x1de84f,'stream':_0x5bdd2c}))),this[_0x4f8744(0x17c)][_0x4f8744(0x374)](this['receiverConnection'][_0x4f8744(0x1ee)]((_0x3b5a26,_0x213bd5)=>this['removeTrackListeners'][_0x4f8744(0x707)]({'track':_0x3b5a26,'stream':_0x213bd5})));}}class _0x42f1cf{[_0x57df12(0x78e)];[_0x57df12(0x4bd)];[_0x57df12(0x177)];[_0x57df12(0x2c0)]=new Map();[_0x57df12(0x76b)]=_0x3f0774();[_0x57df12(0x739)];[_0x57df12(0x4c3)]=new Map();[_0x57df12(0x79d)]=new Map();[_0x57df12(0x3a7)]=new Map();constructor(_0x2d776f,_0x434cea,_0x424ae3){const _0x46823c=_0x57df12;this[_0x46823c(0x78e)]=_0x2d776f,this[_0x46823c(0x4bd)]=_0x434cea,this[_0x46823c(0x177)]=_0x424ae3,this[_0x46823c(0x739)]=this[_0x46823c(0x6d5)](_0x3009d7=>{const _0x2ede97=_0x46823c;this['messageBuffer'][_0x2ede97(0x1ad)](_0x3009d7[_0x2ede97(0x1a5)])||(_0x562ce4(_0x3009d7,this[_0x2ede97(0x78e)])&&0x0!==_0x3009d7[_0x2ede97(0x514)]&&(this[_0x2ede97(0x4bd)][_0x2ede97(0x19f)](_0x3009d7[_0x2ede97(0x1a5)]),this[_0x2ede97(0x4c3)]['get'](_0x3009d7['topicLabel'])?.[_0x2ede97(0x707)](_0x3009d7)),_0x3009d7[_0x2ede97(0x11d)]&&this[_0x2ede97(0x435)](_0x3009d7));});}[_0x57df12(0x42b)](){const _0xe43452=_0x57df12;this[_0xe43452(0x739)]?.();}[_0x57df12(0x4d7)](_0x1a3c48){const _0x57979c=_0x57df12,_0x3d2eea=_0x1a3c48[_0x57979c(0x6d5)](_0x373e1a=>{const _0x126556=_0x57979c;this[_0x126556(0x76b)]['publish'](_0x373e1a);});this[_0x57979c(0x2c0)]['set'](_0x1a3c48,_0x3d2eea),this[_0x57979c(0x3a7)]['set'](_0x1a3c48[_0x57979c(0x797)](),function(_0x34a0e2,_0x5e2023=!0x1){let _0xbbc9f4=new Map();const _0x5dc7da=_0x3b6694(_0x34a0e2,_0x5e2023,function(_0x414135){const _0x5b624a=a0_0x5c56;_0x39785a(_0x414135)&&_0xbbc9f4['delete'](_0x414135[_0x5b624a(0x579)]+'-'+(_0x414135[_0x5b624a(0x5ad)]??[])+'-'+_0x414135[_0x5b624a(0x22e)]+'-'+_0x414135[_0x5b624a(0x68e)]['type']);},function(_0x529997){return!!function(_0x18e144){const _0x1c6c1e=a0_0x5c56,_0x233c35=_0x18e144[_0x1c6c1e(0x638)];if(!_0x39785a(_0x233c35))return!0x1;const _0x409bf7=_0x233c35['sourceId']+'-'+(_0x233c35['destinationIds']??[])+'-'+_0x233c35[_0x1c6c1e(0x22e)]+'-'+_0x233c35[_0x1c6c1e(0x68e)]['type'],_0x542eba={'version':_0x233c35['content'][_0x1c6c1e(0x2a4)],'element':_0x18e144},_0x2fa647=_0xbbc9f4[_0x1c6c1e(0x351)](_0x409bf7);return _0x2fa647?(_0x2fa647[_0x1c6c1e(0x2a4)]>=_0x233c35[_0x1c6c1e(0x68e)][_0x1c6c1e(0x2a4)]||(_0x2fa647['element'][_0x1c6c1e(0x32f)]&&(_0x2fa647[_0x1c6c1e(0x260)][_0x1c6c1e(0x32f)][_0x1c6c1e(0x214)]=_0x18e144,_0x18e144[_0x1c6c1e(0x32f)]=_0x2fa647[_0x1c6c1e(0x260)][_0x1c6c1e(0x32f)]),_0x2fa647[_0x1c6c1e(0x260)][_0x1c6c1e(0x214)]&&(_0x2fa647['element'][_0x1c6c1e(0x214)][_0x1c6c1e(0x32f)]=_0x18e144,_0x18e144[_0x1c6c1e(0x214)]=_0x2fa647[_0x1c6c1e(0x260)][_0x1c6c1e(0x214)]),_0x2fa647[_0x1c6c1e(0x260)]===_0x5dc7da[_0x1c6c1e(0x645)]&&(_0x5dc7da[_0x1c6c1e(0x645)]=_0x18e144),_0x2fa647[_0x1c6c1e(0x260)]===_0x5dc7da['tail']&&(_0x5dc7da[_0x1c6c1e(0x6d8)]=_0x18e144),_0xbbc9f4[_0x1c6c1e(0x6dc)](_0x409bf7,_0x542eba)),!0x0):(_0xbbc9f4[_0x1c6c1e(0x6dc)](_0x409bf7,_0x542eba),!0x1);}(_0x529997);},function(){const _0x122a32=a0_0x5c56;_0xbbc9f4[_0x122a32(0x15f)]();});function _0x39785a(_0x2f6440){const _0x317dd5=a0_0x5c56;if(_0x2f6440&&_0x317dd5(0x330)==typeof _0x2f6440&&_0x2f6440['hasOwnProperty'](_0x317dd5(0x68e))&&_0x2f6440['hasOwnProperty'](_0x317dd5(0x22e))&&_0x2f6440[_0x317dd5(0x74a)](_0x317dd5(0x579))){const _0x587854=_0x2f6440;if(_0x587854['content']&&_0x317dd5(0x330)==typeof _0x587854[_0x317dd5(0x68e)]&&_0x587854[_0x317dd5(0x68e)][_0x317dd5(0x74a)]('version')&&_0x587854[_0x317dd5(0x68e)][_0x317dd5(0x74a)](_0x317dd5(0x3cb)))return!0x0;}return!0x1;}return _0x5dc7da;}(new _0x177d87(_0x3c1ab2=>_0x1a3c48[_0x57979c(0x435)](_0x3c1ab2),()=>_0xdd3be7[_0x57979c(0x1c3)](0x64))));}[_0x57df12(0x5b3)](_0x360412){const _0x436271=_0x57df12;this['connections']['get'](_0x360412)?.(),this[_0x436271(0x2c0)]['delete'](_0x360412),this[_0x436271(0x3a7)][_0x436271(0x351)](_0x360412[_0x436271(0x797)]())?.[_0x436271(0x15f)](),this[_0x436271(0x3a7)][_0x436271(0x403)](_0x360412[_0x436271(0x797)]());}[_0x57df12(0x74b)](_0x24ac1a){const _0x3a166b=_0x57df12;return _0x287307[_0x3a166b(0x60a)](_0x54918a['ConnectionState'],_0x3a166b(0x48f),this[_0x3a166b(0x78e)],this[_0x3a166b(0x2c0)][_0x3a166b(0x6bc)]()),0x0!==this[_0x3a166b(0x2c0)][_0x3a166b(0x62c)]&&(Array[_0x3a166b(0x779)](this[_0x3a166b(0x2c0)][_0x3a166b(0x6bc)]())[_0x3a166b(0x775)](_0x354b23=>_0x354b23[_0x3a166b(0x797)]()===_0x24ac1a)?.['isConnected']()??!0x1);}[_0x57df12(0x293)](_0x464292){const _0x186047=_0x57df12;this[_0x186047(0x4c3)][_0x186047(0x6dc)](_0x464292[_0x186047(0x171)](),_0x464292);}[_0x57df12(0x77a)](_0x16f39f){const _0x4e1022=_0x57df12;this[_0x4e1022(0x4c3)][_0x4e1022(0x403)](_0x16f39f[_0x4e1022(0x171)]());}[_0x57df12(0x3f0)](_0x109710){const _0x282539=_0x57df12,_0x15d137=_0x109710[_0x282539(0x76e)](this[_0x282539(0x435)][_0x282539(0x61c)](this));this[_0x282539(0x79d)]['set'](_0x109710[_0x282539(0x171)](),_0x15d137);}[_0x57df12(0x28d)](_0x5a8146){const _0xb98c0f=_0x57df12;this[_0xb98c0f(0x79d)]['get'](_0x5a8146[_0xb98c0f(0x171)]())?.(),this[_0xb98c0f(0x79d)][_0xb98c0f(0x403)](_0x5a8146[_0xb98c0f(0x171)]());}[_0x57df12(0x402)](){const _0x5cbbf2=_0x57df12;return[_0x36cc4b[_0x5cbbf2(0x444)]['Data'],_0x36cc4b[_0x5cbbf2(0x444)][_0x5cbbf2(0x3d4)],_0x36cc4b[_0x5cbbf2(0x444)][_0x5cbbf2(0x4da)],_0x36cc4b[_0x5cbbf2(0x444)][_0x5cbbf2(0x405)],_0x36cc4b['ContentType'][_0x5cbbf2(0x46a)]];}[_0x57df12(0x435)](_0x14652b){const _0x43b84d=_0x57df12;if(!0x1===_0x14652b[_0x43b84d(0x178)]){if(_0x14652b[_0x43b84d(0x11d)]||!_0x14652b[_0x43b84d(0x5ad)]||0x1!==_0x14652b['destinationIds']['length'])throw new _0x4158de(_0x4158de[_0x43b84d(0x67f)][_0x43b84d(0x5a3)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x43b84d(0x78e)]});if(!this['isConnected'](_0x14652b[_0x43b84d(0x5ad)][0x0]))throw new _0x3b8338(_0x43b84d(0x46f));}const _0x44ed64=_0x14652b[_0x43b84d(0x38b)]??[];try{const {filteredDestinationIds:_0x4c4a5f,extendedRecipients:_0x1406cf}=this[_0x43b84d(0x4db)](_0x14652b,_0x44ed64);_0x14652b[_0x43b84d(0x5ad)]=_0x4c4a5f,_0x14652b[_0x43b84d(0x38b)]=_0x1406cf;}catch(_0x52daf3){if(_0x52daf3 instanceof _0x3b8338)return void _0x287307[_0x43b84d(0x60a)](_0x54918a[_0x43b84d(0x684)],_0x43b84d(0x40c),'Early\x20return',_0x14652b,_0x52daf3[_0x43b84d(0x45a)]);}const _0x310b94=this['shouldContinuePropagation'](_0x14652b);this['logPropagateSystemEvent'](_0x14652b,_0x310b94),_0x14652b[_0x43b84d(0x11d)]=_0x310b94;const _0x243b8e=this['getConnectionDestinations'](_0x14652b,_0x44ed64);for(const _0x3fcc03 of _0x243b8e){const _0x173da8=this[_0x43b84d(0x3a7)][_0x43b84d(0x351)](_0x3fcc03['getRemoteId']());if(!_0x173da8)throw new _0x4158de(_0x4158de[_0x43b84d(0x67f)]['ConnectionNoRetryQueue'],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x43b84d(0x78e)],'remoteId':_0x3fcc03['getRemoteId'](),'data':_0x14652b});_0x173da8[_0x43b84d(0x374)](_0x14652b);}}['getRemoteId'](){return'';}['getLocalId'](){const _0x49d7a9=_0x57df12;return this[_0x49d7a9(0x78e)];}['onMessage'](_0xa86d0f){const _0x1863e3=_0x57df12;return this['messageListeners'][_0x1863e3(0x76e)](_0xa86d0f);}[_0x57df12(0x4db)](_0xca9159,_0x36a900){const _0x58281b=_0x57df12,_0x167b91={'filteredDestinationIds':_0xca9159[_0x58281b(0x5ad)],'extendedRecipients':_0xca9159[_0x58281b(0x38b)]};if(!_0xca9159[_0x58281b(0x11d)])return _0x167b91;const _0xcc178d=Array['from'](this[_0x58281b(0x2c0)][_0x58281b(0x6bc)]())[_0x58281b(0x49b)](_0x1e4ec5=>_0x1e4ec5[_0x58281b(0x14a)]()===_0x58c6e4[_0x58281b(0x2eb)]||_0x1e4ec5[_0x58281b(0x74b)]())[_0x58281b(0x136)](_0x1c5813=>_0x1c5813[_0x58281b(0x797)]());if(_0xcc178d[_0x58281b(0x698)]((_0x144125,_0x5bdbc1)=>_0x144125&&_0xca9159[_0x58281b(0x38b)][_0x58281b(0x595)](_0x5bdbc1),!0x0))throw new _0x3b8338(_0x58281b(0x36e));if(_0xca9159[_0x58281b(0x5ad)]){const _0x5dd9d3=_0xca9159[_0x58281b(0x5ad)][_0x58281b(0x49b)](_0x3893ec=>_0x3893ec!==this['localId']&&!_0xca9159['recipients'][_0x58281b(0x595)](_0x3893ec));if(0x0===_0x5dd9d3['length'])throw new _0x3b8338(_0x58281b(0x462));_0x167b91[_0x58281b(0x5ee)]=_0x5dd9d3;}return _0x167b91['extendedRecipients']=[...new Set([..._0x36a900,..._0xcc178d,this[_0x58281b(0x78e)]])],_0x167b91;}[_0x57df12(0x1a4)](_0x32c912,_0x480ae3=!0x1){const _0x35a8fa=_0x57df12;if(0x0===_0x32c912[_0x35a8fa(0x514)]&&!_0x1d6486(_0x32c912,this[_0x35a8fa(0x78e)])&&_0x32c912[_0x35a8fa(0x11d)]){const _0x205170=_0x195268(_0x32c912,this['localId']);_0x287307['logRaw'](_0x54918a[_0x35a8fa(0x4d2)],_0x32c912[_0x35a8fa(0x1a5)]+_0x35a8fa(0x369)+_0x480ae3+')\x20'+_0x205170,_0x32c912,_0x480ae3);}}['shouldContinuePropagation'](_0x18c2df){const _0x29c65b=_0x57df12;if(_0x18c2df[_0x29c65b(0x5ad)]&&_0x18c2df['propagate']){const _0x3b8c63=Array[_0x29c65b(0x779)](this[_0x29c65b(0x2c0)]['keys']())[_0x29c65b(0x49b)](_0x49bd45=>_0x49bd45[_0x29c65b(0x14a)]()===_0x58c6e4[_0x29c65b(0x2eb)]||_0x49bd45[_0x29c65b(0x74b)]())[_0x29c65b(0x136)](_0x2f5389=>_0x2f5389['getRemoteId']());return!_0x18c2df[_0x29c65b(0x5ad)][_0x29c65b(0x698)]((_0x1423eb,_0x3f5db4)=>_0x1423eb&&_0x3b8c63[_0x29c65b(0x595)](_0x3f5db4),!0x0);}return _0x18c2df[_0x29c65b(0x11d)]??!0x1;}[_0x57df12(0x48a)](_0x106e78,_0x3904af){const _0x1f5541=_0x57df12;if(_0x106e78[_0x1f5541(0x11d)]&&_0x106e78[_0x1f5541(0x5ad)]){const _0x1277f6=Array['from'](this[_0x1f5541(0x2c0)]['keys']())[_0x1f5541(0x49b)](_0x3f7916=>_0x3f7916['getConnectionType']()===_0x58c6e4[_0x1f5541(0x2eb)]||_0x3f7916['isConnected']())[_0x1f5541(0x136)](_0x7d7e27=>_0x7d7e27[_0x1f5541(0x797)]()),_0xd23cce=new Set(),_0x56cd0b=_0x106e78['sourceId']===this[_0x1f5541(0x78e)]?0x3:0x1;return _0x106e78[_0x1f5541(0x5ad)]['forEach'](_0x5c50c3=>{const _0x2fcdb7=_0x1f5541,_0x2d9a16=this[_0x2fcdb7(0x177)][_0x2fcdb7(0x292)](_0x1277f6,_0x5c50c3);let _0x2dc53e=0x0,_0x51cde7=0x0;_0x2d9a16['forEach'](_0x20de85=>{const _0x34957b=_0x2fcdb7;if(_0x2dc53e>=_0x56cd0b)return;const _0x47a779=Array[_0x34957b(0x779)](this[_0x34957b(0x2c0)][_0x34957b(0x6bc)]())['find'](_0x54de79=>_0x54de79[_0x34957b(0x797)]()===_0x20de85);if(_0x47a779){if(_0x47a779[_0x34957b(0x14a)]()===_0x58c6e4[_0x34957b(0x2eb)]&&_0x51cde7>0x0)return void(_0x51cde7-=0x1);_0xd23cce[_0x34957b(0x785)](_0x47a779),_0x47a779[_0x34957b(0x14a)]()===_0x58c6e4[_0x34957b(0x3ce)]&&(_0x51cde7+=0x1),_0x2dc53e+=0x1;}});}),Array[_0x1f5541(0x779)](_0xd23cce);}return Array[_0x1f5541(0x779)](this[_0x1f5541(0x2c0)][_0x1f5541(0x6bc)]())[_0x1f5541(0x49b)](_0x337606=>{const _0x293d2c=_0x1f5541;return _0x3aa430=_0x337606[_0x293d2c(0x797)](),!_0x3904af[_0x293d2c(0x595)](_0x3aa430)&&(_0x562ce4(_0x106e78,_0x3aa430)||_0x106e78['propagate'])&&(!_0x106e78[_0x293d2c(0x11d)]||_0x337606[_0x293d2c(0x74b)]()||_0x337606[_0x293d2c(0x14a)]()===_0x58c6e4[_0x293d2c(0x2eb)]);var _0x3aa430;});}}class _0x415663{[_0x57df12(0x78e)];['messageBuffer'];[_0x57df12(0x2c0)]=new Map();[_0x57df12(0x235)];constructor(_0x5bb9fd,_0x155761){const _0x38876c=_0x57df12;this[_0x38876c(0x78e)]=_0x5bb9fd,this[_0x38876c(0x4bd)]=_0x155761;}[_0x57df12(0x42b)](){}[_0x57df12(0x435)](_0x33d82a){const _0x1f0408=_0x57df12;for(const _0x489c66 of this[_0x1f0408(0x2c0)][_0x1f0408(0x6bc)]())try{return void _0x489c66['send']({'retry':!0x1,..._0x33d82a});}catch(_0x51e0cc){_0x51e0cc instanceof _0x3b8338||_0x287307['log'](_0x54918a['Pool'],_0x1f0408(0x365)+_0x489c66,_0x51e0cc,_0x33d82a);}_0x287307[_0x1f0408(0x60a)](_0x54918a[_0x1f0408(0x1fd)],_0x1f0408(0x6ad));}[_0x57df12(0x4d7)](_0x5afe67){const _0xe9bf3a=_0x57df12,_0x4c52e4=_0x5afe67[_0xe9bf3a(0x6d5)](_0x1906cf=>{const _0x3c4c24=_0xe9bf3a;this[_0x3c4c24(0x4bd)]['hasMessage'](_0x1906cf[_0x3c4c24(0x1a5)])||0x0===_0x1906cf[_0x3c4c24(0x514)]&&(this['messageBuffer']['addMessage'](_0x1906cf[_0x3c4c24(0x1a5)]),_0x562ce4(_0x1906cf,this['localId'])&&this[_0x3c4c24(0x235)]?.[_0x3c4c24(0x707)](_0x1906cf));});this['connections']['set'](_0x5afe67,_0x4c52e4);}[_0x57df12(0x5b3)](_0x5a6f4f){const _0x22531d=_0x57df12;this[_0x22531d(0x2c0)][_0x22531d(0x351)](_0x5a6f4f)?.(),this[_0x22531d(0x2c0)][_0x22531d(0x403)](_0x5a6f4f);}[_0x57df12(0x2a1)](){const _0xa18a5b=_0x57df12;return this[_0xa18a5b(0x78e)];}[_0x57df12(0x797)](){return'';}[_0x57df12(0x402)](){const _0x5170f9=_0x57df12;return[_0x36cc4b[_0x5170f9(0x444)][_0x5170f9(0x6b3)]];}[_0x57df12(0x74b)](){const _0x518729=_0x57df12;throw new Error(_0x518729(0x639));}[_0x57df12(0x432)](_0x1031a8){const _0x5a9ac2=_0x57df12;this[_0x5a9ac2(0x235)]=_0x1031a8;}['unregisterSystemPublisher'](){const _0x45abb7=_0x57df12;delete this[_0x45abb7(0x235)];}}class _0x6d14d4{[_0x57df12(0x274)]=new Map();[_0x57df12(0x58c)];constructor(){const _0x193c2d=_0x57df12;this['unsubscribeHandler']=_0xdd3be7[_0x193c2d(0x5cb)](()=>{const _0x1addbc=_0x193c2d;for(const [_0x122e87,_0x5192ab]of this[_0x1addbc(0x274)][_0x1addbc(0x1f4)]())Date[_0x1addbc(0x68a)]()-_0x5192ab>0x124f80&&this['buffer'][_0x1addbc(0x403)](_0x122e87);},0x1d4c0);}['close'](){const _0x65cf41=_0x57df12;this[_0x65cf41(0x58c)]();}['addMessage'](_0x627a33){this['buffer']['set'](_0x627a33,Date['now']());}[_0x57df12(0x1ad)](_0x59cce5){const _0x4ac9f1=_0x57df12;return this[_0x4ac9f1(0x274)][_0x4ac9f1(0x245)](_0x59cce5);}}class _0x4db086{['configs'];[_0x57df12(0x688)];[_0x57df12(0x654)];[_0x57df12(0x587)];[_0x57df12(0x584)];[_0x57df12(0x597)];[_0x57df12(0x2c0)]=new Map();[_0x57df12(0x2cc)];[_0x57df12(0x39d)];[_0x57df12(0x2af)];[_0x57df12(0x4bd)];constructor(_0x7db470,_0x3c691a,_0x449657,_0x1b0331,_0x4fe36c,_0x49d5ec,_0x40662e){const _0x523dda=_0x57df12;this[_0x523dda(0x549)]=_0x7db470,this[_0x523dda(0x688)]=_0x3c691a,this[_0x523dda(0x654)]=_0x449657,this[_0x523dda(0x587)]=_0x1b0331,this[_0x523dda(0x584)]=_0x4fe36c,this[_0x523dda(0x597)]=_0x40662e,this[_0x523dda(0x4bd)]=new _0x6d14d4(),this[_0x523dda(0x39d)]=new _0x42f1cf(this['configs']['localNode'][_0x523dda(0x5a9)](),this[_0x523dda(0x4bd)],_0x49d5ec),this[_0x523dda(0x2af)]=new _0x3b7574(this['configs'][_0x523dda(0x54f)],this[_0x523dda(0x549)]['clusterId'],this['configs']['localNode'],_0x523dda(0x1e9),this[_0x523dda(0x688)]),this[_0x523dda(0x2cc)]=new _0x415663(this[_0x523dda(0x549)][_0x523dda(0x749)][_0x523dda(0x5a9)](),this[_0x523dda(0x4bd)]),this[_0x523dda(0x2cc)][_0x523dda(0x4d7)](this[_0x523dda(0x39d)]),this[_0x523dda(0x2cc)][_0x523dda(0x4d7)](this[_0x523dda(0x2af)]),this[_0x523dda(0x549)][_0x523dda(0x431)][_0x523dda(0x534)](this['connectionPool']);}[_0x57df12(0x42b)](){const _0x3b9785=_0x57df12;this[_0x3b9785(0x4bd)]['close'](),this[_0x3b9785(0x2c0)][_0x3b9785(0x3bd)]((_0x56a4a7,_0x3aca70)=>this[_0x3b9785(0x763)](_0x3aca70)),this[_0x3b9785(0x549)][_0x3b9785(0x431)][_0x3b9785(0x679)](this[_0x3b9785(0x2cc)]),this[_0x3b9785(0x2cc)][_0x3b9785(0x5b3)](this[_0x3b9785(0x2af)]),this['connectionPool'][_0x3b9785(0x5b3)](this['connectionGroup']),this[_0x3b9785(0x2cc)][_0x3b9785(0x42b)](),this[_0x3b9785(0x2af)]['close'](),this[_0x3b9785(0x39d)][_0x3b9785(0x42b)]();}async[_0x57df12(0x5de)](){const _0x3677a6=_0x57df12;await this[_0x3677a6(0x2af)][_0x3677a6(0x69c)]();}async['createConnection'](_0x330e7d,_0x59482f=_0x58c6e4[_0x57df12(0x2eb)]){const _0x2fd698=_0x57df12;if(this[_0x2fd698(0x2c0)][_0x2fd698(0x245)](_0x330e7d)){if(this[_0x2fd698(0x2c0)][_0x2fd698(0x351)](_0x330e7d)?.[_0x2fd698(0x14a)]()===_0x58c6e4[_0x2fd698(0x3ce)]&&_0x59482f===_0x58c6e4[_0x2fd698(0x2eb)])return void this['connections'][_0x2fd698(0x351)](_0x330e7d)?.[_0x2fd698(0x4f7)](_0x58c6e4[_0x2fd698(0x2eb)]);throw new _0x4158de(_0x4158de[_0x2fd698(0x67f)][_0x2fd698(0x332)],{'localId':this[_0x2fd698(0x549)]['localNode'][_0x2fd698(0x5a9)](),'remoteId':_0x330e7d});}const _0x191753=new _0x26e9fd(this[_0x2fd698(0x549)][_0x2fd698(0x545)],this['configs'][_0x2fd698(0x749)],_0x330e7d,this['iceServers'],_0x59482f,this[_0x2fd698(0x587)],this[_0x2fd698(0x584)],this[_0x2fd698(0x597)]);this[_0x2fd698(0x2c0)][_0x2fd698(0x6dc)](_0x330e7d,_0x191753),this[_0x2fd698(0x39d)][_0x2fd698(0x4d7)](_0x191753),this[_0x2fd698(0x549)][_0x2fd698(0x431)][_0x2fd698(0x534)](_0x191753),this['configs'][_0x2fd698(0x431)]['registerRemoteNode'](_0x330e7d),await _0x191753['connect']();}[_0x57df12(0x122)](){return this['connectionGroup'];}[_0x57df12(0x6e0)](_0x5e0940){const _0x1e9fe0=_0x57df12;if(!this['connections'][_0x1e9fe0(0x245)](_0x5e0940))throw new _0x4158de(_0x4158de[_0x1e9fe0(0x67f)][_0x1e9fe0(0x12a)],{'localId':this[_0x1e9fe0(0x549)][_0x1e9fe0(0x749)]['getId'](),'remoteId':_0x5e0940});return this[_0x1e9fe0(0x2c0)][_0x1e9fe0(0x351)](_0x5e0940);}['getConnections'](_0x4b8aa8){const _0x5bc96b=_0x57df12,_0x33e499=Array[_0x5bc96b(0x779)](this[_0x5bc96b(0x2c0)]['values']());return _0x4b8aa8?_0x33e499[_0x5bc96b(0x49b)](_0x4b8aa8):_0x33e499;}async[_0x57df12(0x59d)](_0x43d009){const _0x3e738e=_0x57df12,_0x51c558=this['connections'][_0x3e738e(0x351)](_0x43d009);_0x51c558&&_0x51c558[_0x3e738e(0x74b)]()&&await _0x51c558[_0x3e738e(0x59d)]();}[_0x57df12(0x174)](_0x252c7f){const _0x4b62f1=_0x57df12;if(_0x252c7f['messageType']!==_0x769e55[_0x4b62f1(0x498)]||_0x252c7f['propagate'])try{this['connectionGroup'][_0x4b62f1(0x435)](_0x252c7f);}catch(_0xc6e610){if(_0xc6e610 instanceof _0x3b8338)return;throw _0xc6e610;}else this[_0x4b62f1(0x2cc)][_0x4b62f1(0x435)](_0x252c7f);}async['handlePeerConnectionSystemEvents'](_0xe9d574){const _0x238ec1=_0x57df12;switch(_0xe9d574['content'][_0x238ec1(0x3cb)]){case _0x493715['Disconnect']:case _0x493715[_0x238ec1(0x3ee)]:case _0x493715[_0x238ec1(0x23a)]:return;}if(!_0xe9d574[_0x238ec1(0x5ad)]||0x1!==_0xe9d574[_0x238ec1(0x5ad)][_0x238ec1(0x5fc)])throw new _0x4158de(_0x4158de[_0x238ec1(0x67f)][_0x238ec1(0x3c2)],{'message':_0x238ec1(0x5d3),'event':_0xe9d574});if(_0xe9d574[_0x238ec1(0x5ad)][0x0]!==this[_0x238ec1(0x549)][_0x238ec1(0x749)][_0x238ec1(0x5a9)]())throw new _0x4158de(_0x4158de['codes'][_0x238ec1(0x3c2)],{'message':_0x238ec1(0x2f2),'event':_0xe9d574});if(!this[_0x238ec1(0x2c0)]['has'](_0xe9d574[_0x238ec1(0x579)])){let _0x17534b=_0x58c6e4[_0x238ec1(0x2eb)];if(!(this[_0x238ec1(0x5c2)](_0xe9d574[_0x238ec1(0x68e)])||this[_0x238ec1(0x300)](_0xe9d574[_0x238ec1(0x68e)])||this[_0x238ec1(0x22c)](_0xe9d574[_0x238ec1(0x68e)])))return;_0x17534b=_0xe9d574[_0x238ec1(0x68e)]['connectionType'],await this[_0x238ec1(0x37f)](_0xe9d574[_0x238ec1(0x579)],_0x17534b);}const _0x396ab9=this['connections']['get'](_0xe9d574['sourceId']);await _0x396ab9[_0x238ec1(0x533)](_0xe9d574);}[_0x57df12(0x6dd)](_0x456ad4){const _0x41d3ad=_0x57df12;if(_0x456ad4[_0x41d3ad(0x68e)]['type']===_0x5d4ed9[_0x41d3ad(0x220)]){if(_0x456ad4[_0x41d3ad(0x68e)][_0x41d3ad(0x642)]===this['configs']['localNode'][_0x41d3ad(0x5a9)]())return void this[_0x41d3ad(0x2c0)][_0x41d3ad(0x3bd)](_0x13d67c=>_0x13d67c[_0x41d3ad(0x6dd)](_0x456ad4));this[_0x41d3ad(0x2c0)]['get'](_0x456ad4[_0x41d3ad(0x68e)][_0x41d3ad(0x642)])?.[_0x41d3ad(0x6dd)](_0x456ad4);}}[_0x57df12(0x30c)]({content:_0x4fae29}){const _0x2bb9ec=_0x57df12;_0x4fae29[_0x2bb9ec(0x3cb)]===_0x309288['NodeLeave']&&this['closeConnection'](_0x4fae29['id']);}[_0x57df12(0x763)](_0x5576d1){const _0x39c167=_0x57df12,_0x5e2867=this[_0x39c167(0x2c0)]['get'](_0x5576d1);_0x5e2867&&(this[_0x39c167(0x549)][_0x39c167(0x431)][_0x39c167(0x6a9)](_0x5576d1),this['configs'][_0x39c167(0x431)]['unregisterSystemSource'](_0x5e2867),_0x5e2867 instanceof _0x26e9fd&&this[_0x39c167(0x39d)][_0x39c167(0x5b3)](_0x5e2867),_0x5e2867['close'](),this[_0x39c167(0x2c0)][_0x39c167(0x403)](_0x5576d1));}[_0x57df12(0x5c2)](_0x2b4fc1){const _0xc00222=_0x57df12;return _0x2b4fc1[_0xc00222(0x3cb)]===_0x493715['Offer'];}['isNeedRestart'](_0x54df28){const _0x5841ae=_0x57df12;return _0x54df28[_0x5841ae(0x3cb)]===_0x493715[_0x5841ae(0x2bb)];}[_0x57df12(0x300)](_0x33f873){const _0xe3a7ba=_0x57df12;return _0x33f873[_0xe3a7ba(0x3cb)]===_0x493715[_0xe3a7ba(0x3d2)];}}!function(_0x21a524){const _0x312b96=_0x57df12;_0x21a524[_0x21a524[_0x312b96(0x7a0)]=0x0]=_0x312b96(0x7a0),_0x21a524[_0x21a524[_0x312b96(0x325)]=0x1]='UpdateMediaStream',_0x21a524[_0x21a524[_0x312b96(0x1aa)]=0x2]=_0x312b96(0x1aa),_0x21a524[_0x21a524[_0x312b96(0x288)]=0x3]='NeedMediaStream',_0x21a524[_0x21a524[_0x312b96(0x11e)]=0x4]=_0x312b96(0x11e),_0x21a524[_0x21a524['CanProvideMediaStream']=0x5]=_0x312b96(0x2ba),_0x21a524[_0x21a524[_0x312b96(0x17d)]=0x6]='CannotProvideMediaStream',_0x21a524[_0x21a524[_0x312b96(0x380)]=0x7]=_0x312b96(0x380);}(_0x111869||(_0x111869={}));const _0x16d6cc=require('rxjs');class _0x429d53 extends _0x1a7edb{['graphService'];['jobs']=new Map();[_0x57df12(0x41a)]=new Map();[_0x57df12(0x5eb)]=new Map();[_0x57df12(0x58c)];constructor(_0x3373ee,_0x4903a0,_0x12f11e){const _0x47296a=_0x57df12;super(_0x3373ee,_0x4903a0),this[_0x47296a(0x177)]=_0x12f11e;}[_0x57df12(0x632)](){const _0x2fd035=_0x57df12;return _0x36cc4b[_0x2fd035(0x444)]['Job'];}[_0x57df12(0x57d)](){const _0x1d871c=_0x57df12;this[_0x1d871c(0x58c)]=this['onMessage']((_0x289172,_0x3b8468)=>{const _0x4177bf=_0x1d871c;if(_0x287307[_0x4177bf(0x60a)](_0x54918a[_0x4177bf(0x764)],_0x4177bf(0x3f2),_0x289172,_0x3b8468,this['graphService'][_0x4177bf(0x552)]()),!(_0x3b8468 instanceof File)){if(!_0x3b8468)throw new _0x4158de(_0x4158de[_0x4177bf(0x67f)]['JobDispatcherInvalidPayload']);return this['isBidResponse'](_0x3b8468)?this[_0x4177bf(0x6e3)](_0x289172,_0x3b8468['id'],_0x3b8468):this[_0x4177bf(0x592)](_0x3b8468)?(_0x287307['log'](_0x54918a[_0x4177bf(0x764)],_0x4177bf(0x567)+_0x3b8468['id']+_0x4177bf(0x63c),_0x3b8468[_0x4177bf(0x626)]),void this[_0x4177bf(0x486)](_0x3b8468['id'],_0x3b8468)):this[_0x4177bf(0x2b5)](_0x3b8468)?(_0x287307[_0x4177bf(0x60a)](_0x54918a['Jobs'],_0x4177bf(0x567)+_0x3b8468['id']+'\x20received\x20result:',_0x3b8468[_0x4177bf(0x626)]),void this[_0x4177bf(0x4e5)](_0x3b8468['id'],_0x3b8468)):void(this[_0x4177bf(0x308)](_0x3b8468)&&this[_0x4177bf(0x12f)](_0x3b8468['id'],_0x3b8468[_0x4177bf(0x45a)]));}});}[_0x57df12(0x1f2)](){const _0x1f9160=_0x57df12;this[_0x1f9160(0x15f)](),this[_0x1f9160(0x57d)]();}[_0x57df12(0x6f2)](){const _0x55df4e=_0x57df12;this['clear'](),super[_0x55df4e(0x6f2)]();}[_0x57df12(0x15f)](){const _0x5b1e33=_0x57df12;this[_0x5b1e33(0x1c2)][_0x5b1e33(0x15f)](),this['unsubscribeHandler']&&this[_0x5b1e33(0x58c)]();}[_0x57df12(0x42b)](){const _0x291dd2=_0x57df12;this[_0x291dd2(0x235)]?.[_0x291dd2(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x291dd2(0x3ed)],'content':{'type':_0x3274d4['CloseJobDispatcher'],'label':this[_0x291dd2(0x52a)]}});}async[_0x57df12(0x284)](_0x1e72a2){const _0x30cce6=_0x57df12,{id:_0x3808f1,parameters:_0x2f0bae,jobType:_0x4568a8}=_0x1e72a2,_0x573446={'id':_0x3808f1,'jobType':_0x4568a8,'parameters':_0x2f0bae,'status':_0x36cc4b['JobStatus'][_0x30cce6(0x221)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x30cce6(0x245)](_0x573446['id']))throw new _0x19eda8(_0x5623ec['JobDispatcherJobExists'],'Job\x20with\x20id\x20'+_0x573446['id']+'\x20already\x20exists.');_0x573446[_0x30cce6(0x5bb)]=new Date(),_0x573446[_0x30cce6(0x4c5)]=new Date();const _0x4185ce=new _0x16d6cc[(_0x30cce6(0x37b))]();this[_0x30cce6(0x1c2)][_0x30cce6(0x6dc)](_0x573446['id'],_0x573446),this[_0x30cce6(0x41a)][_0x30cce6(0x6dc)](_0x573446['id'],_0x4185ce);try{const _0x3b6c9a={'id':_0x573446['id'],'jobPhase':_0x4f957e[_0x30cce6(0x449)],'jobType':_0x573446[_0x30cce6(0x60b)]},_0x11518f=0x3;let _0x204917=0x0;const _0x6d4d86=async()=>{const _0x4be06d=_0x30cce6;_0x204917+=0x1;try{_0x287307[_0x4be06d(0x60a)](_0x54918a['Jobs'],_0x4be06d(0x567)+_0x573446['id']+_0x4be06d(0x5b4)+_0x204917+'.',this[_0x4be06d(0x177)][_0x4be06d(0x552)]()),await this[_0x4be06d(0x435)](_0x3b6c9a),_0x573446[_0x4be06d(0x4c5)]=new Date(),this[_0x4be06d(0x1c2)][_0x4be06d(0x6dc)](_0x573446['id'],_0x573446),this[_0x4be06d(0x36b)](_0x573446['id']);}catch(_0x479054){_0x204917<_0x11518f?(_0x287307['warning'](_0x4be06d(0x2db)+_0x204917+_0x4be06d(0x6d9)+_0x573446['id']+_0x4be06d(0x600),{'nodeId':this['owner'][_0x4be06d(0x5a9)](),'nodeType':this[_0x4be06d(0x5e4)]['type'],'data':{'job':_0x573446,'attempts':_0x204917,'maxRetries':_0x11518f}}),setTimeout(_0x6d4d86,0x3e8)):(_0x573446[_0x4be06d(0x1b1)]=_0x36cc4b[_0x4be06d(0x5d1)]['Failed'],_0x573446['updated']=new Date(),this['jobs'][_0x4be06d(0x6dc)](_0x573446['id'],_0x573446),_0x287307[_0x4be06d(0x387)](_0x4be06d(0x347)+_0x573446['id']+'\x20after\x20'+_0x11518f+_0x4be06d(0x279),{'nodeId':this[_0x4be06d(0x5e4)][_0x4be06d(0x5a9)](),'nodeType':this[_0x4be06d(0x5e4)]['type'],'data':{'job':_0x573446,'attempts':_0x204917,'maxRetries':_0x11518f,'error':_0x479054}}));}};_0x6d4d86();const {id:_0x165b9a}=_0x573446;this[_0x30cce6(0x2e6)](_0x30cce6(0x567)+_0x573446['id']+_0x30cce6(0x2ea),{'jobId':_0x165b9a}),_0x573446[_0x30cce6(0x4c5)]=new Date();}catch(_0x2f7965){_0x573446['status']=_0x36cc4b['JobStatus'][_0x30cce6(0x16e)],_0x287307['error']('Failed\x20to\x20send\x20job\x20'+_0x573446['id']+':',{'nodeId':this['owner'][_0x30cce6(0x5a9)](),'nodeType':this[_0x30cce6(0x5e4)][_0x30cce6(0x3cb)],'data':{'job':_0x573446,'error':_0x2f7965}});}return _0x4185ce[_0x30cce6(0x640)]();}[_0x57df12(0x796)](_0x27f545){const _0x44f000=_0x57df12,_0x32b59c=this['jobs'][_0x44f000(0x351)](_0x27f545);if(!_0x32b59c)throw new _0x19eda8(_0x5623ec['JobDispatcherJobNotFound'],_0x44f000(0x41c)+_0x27f545+_0x44f000(0x3e3));return{'id':_0x32b59c['id'],'jobType':_0x32b59c[_0x44f000(0x60b)],'status':_0x32b59c[_0x44f000(0x1b1)],'parameters':_0x32b59c['parameters']};}[_0x57df12(0x507)](){const _0x1c8d3f=_0x57df12;return Array[_0x1c8d3f(0x779)](this['jobs'][_0x1c8d3f(0x49e)]())[_0x1c8d3f(0x136)](_0x2da902=>this['getJob'](_0x2da902['id']));}async['updateJob'](_0x3b963f,_0x20a8de){const _0x5213fb=_0x57df12,_0x1baac5=this[_0x5213fb(0x1c2)][_0x5213fb(0x351)](_0x3b963f);if(!_0x1baac5)throw new _0x19eda8(_0x5623ec[_0x5213fb(0x33b)],_0x5213fb(0x41c)+_0x3b963f+_0x5213fb(0x3e3));_0x1baac5[_0x5213fb(0x789)]=_0x20a8de,_0x1baac5[_0x5213fb(0x4c5)]=new Date(),this[_0x5213fb(0x1c2)][_0x5213fb(0x6dc)](_0x3b963f,_0x1baac5);}async[_0x57df12(0x1e4)](_0x56d585){const _0x2a3012=_0x57df12;if(!this['jobs'][_0x2a3012(0x403)](_0x56d585))throw new _0x19eda8(_0x5623ec[_0x2a3012(0x33b)],_0x2a3012(0x41c)+_0x56d585+_0x2a3012(0x3e3));const _0x18f204=this[_0x2a3012(0x41a)][_0x2a3012(0x351)](_0x56d585);if(!_0x18f204)throw new _0x4158de(_0x4158de[_0x2a3012(0x67f)]['JobDispatcherObserverNotFound']);_0x18f204['complete'](),this[_0x2a3012(0x41a)][_0x2a3012(0x403)](_0x56d585),_0x287307[_0x2a3012(0x60a)](_0x54918a['Jobs'],_0x2a3012(0x567)+_0x56d585+_0x2a3012(0x5b2));}[_0x57df12(0x6e3)](_0x22b6f2,_0x1b0f0d,_0x35cfb7){const _0x308a02=_0x57df12,_0x30cd45=this[_0x308a02(0x5eb)][_0x308a02(0x351)](_0x1b0f0d)??new Map();_0x30cd45['set'](_0x22b6f2,[_0x35cfb7,Date['now']()]),this[_0x308a02(0x5eb)][_0x308a02(0x6dc)](_0x1b0f0d,_0x30cd45),this['evaluateBidsAndAttributeJob'](_0x1b0f0d);}[_0x57df12(0x36b)](_0x4c77ee){const _0x5af989=_0x57df12,_0x1a6a9e=this[_0x5af989(0x1c2)]['get'](_0x4c77ee);if(!_0x1a6a9e)throw new _0x4158de(_0x4158de[_0x5af989(0x67f)][_0x5af989(0x33b)]);const _0x5f258a=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x4c77ee,!0x0),0xbb8);_0x1a6a9e[_0x5af989(0x27a)]=_0x5f258a,this[_0x5af989(0x1c2)][_0x5af989(0x6dc)](_0x1a6a9e['id'],_0x1a6a9e);}[_0x57df12(0x28b)](_0x1babae,_0x5e532b=!0x1){const _0x40ab4b=_0x57df12,_0x442c07=this['graphService'][_0x40ab4b(0x552)](),_0xac0071=Array[_0x40ab4b(0x779)](_0x442c07[_0x40ab4b(0x49e)]())[_0x40ab4b(0x49b)](_0x2c5940=>_0x2c5940[_0x40ab4b(0x3cb)]===_0x36cc4b[_0x40ab4b(0x4d9)][_0x40ab4b(0x53d)]),_0x4bb470=this['jobBids'][_0x40ab4b(0x351)](_0x1babae)??new Map();if(!_0x5e532b&&(!_0x4bb470||_0x4bb470[_0x40ab4b(0x62c)]<_0xac0071[_0x40ab4b(0x5fc)]))return;const _0x3e2b08=this[_0x40ab4b(0x1c2)]['get'](_0x1babae);if(!_0x3e2b08)throw new _0x4158de(_0x4158de[_0x40ab4b(0x67f)][_0x40ab4b(0x33b)]);clearTimeout(_0x3e2b08[_0x40ab4b(0x27a)]),_0x287307[_0x40ab4b(0x60a)](_0x54918a[_0x40ab4b(0x764)],'Job\x20'+_0x3e2b08['id']+'\x20received\x20responses:',_0x4bb470,this[_0x40ab4b(0x5eb)]);const _0x112f39=Array[_0x40ab4b(0x779)](_0x4bb470[_0x40ab4b(0x1f4)]())[_0x40ab4b(0x49b)](([,[_0x531e2f]])=>_0x531e2f[_0x40ab4b(0x2f8)]);if(!_0x4bb470||0x0===_0x4bb470['size']||0x0===_0x112f39['length']){_0x3e2b08['status']=_0x36cc4b[_0x40ab4b(0x5d1)][_0x40ab4b(0x16e)],_0x3e2b08[_0x40ab4b(0x4c5)]=new Date(),_0x287307['error'](_0x40ab4b(0x567)+_0x3e2b08['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x40ab4b(0x5e4)][_0x40ab4b(0x5a9)](),'nodeType':this[_0x40ab4b(0x5e4)][_0x40ab4b(0x3cb)],'data':{'job':_0x3e2b08,'responses':_0x4bb470}});const _0x492d8d=this[_0x40ab4b(0x41a)][_0x40ab4b(0x351)](_0x1babae);if(!_0x492d8d)throw new _0x4158de(_0x4158de['codes']['JobDispatcherObserverNotFound']);const _0x214dc4=_0x40ab4b(0x523),_0x2be420={'id':_0x3e2b08['id'],'status':_0x3e2b08[_0x40ab4b(0x1b1)],'message':_0x214dc4};return _0x492d8d[_0x40ab4b(0x214)](_0x2be420),_0x492d8d['complete'](),this[_0x40ab4b(0x1c2)][_0x40ab4b(0x6dc)](_0x3e2b08['id'],_0x3e2b08),void this[_0x40ab4b(0x5eb)][_0x40ab4b(0x403)](_0x1babae);}const {nodeId:_0x383e2a,response:_0x328df2}=this[_0x40ab4b(0x69f)](_0x3e2b08['id'],_0x4bb470);_0x3e2b08[_0x40ab4b(0x1b1)]=_0x36cc4b[_0x40ab4b(0x5d1)][_0x40ab4b(0x79a)],_0x3e2b08[_0x40ab4b(0x4c5)]=new Date(),_0x287307['log'](_0x54918a[_0x40ab4b(0x764)],'Job\x20'+_0x3e2b08['id']+_0x40ab4b(0x622)+_0x383e2a+'\x20with\x20response:',_0x328df2);const _0x4c6061={'id':_0x3e2b08['id'],'jobType':_0x3e2b08['jobType'],'jobPhase':_0x4f957e['Attribution'],'parameters':_0x3e2b08[_0x40ab4b(0x789)]};this[_0x40ab4b(0x435)](_0x4c6061,[_0x383e2a]),this[_0x40ab4b(0x1c2)][_0x40ab4b(0x6dc)](_0x3e2b08['id'],_0x3e2b08),this[_0x40ab4b(0x5eb)]['delete'](_0x1babae);}[_0x57df12(0x69f)](_0x20c8b7,_0xd56b90){const _0x2705b9=_0x57df12,_0x2ec8d3=Array[_0x2705b9(0x779)](_0xd56b90['entries']())[_0x2705b9(0x185)]((_0x49c711,_0x6c5876)=>_0x6c5876[0x1][0x0][_0x2705b9(0x57c)]-_0x49c711[0x1][0x0]['bid']);if(0x1===_0x2ec8d3['length'])return{'nodeId':_0x2ec8d3[0x0][0x0],'response':_0x2ec8d3[0x0][0x1][0x0]};const _0x5def7d=(_0xcbe195=>{const _0x2cf21a=_0x2705b9,_0x199cb8=_0xcbe195[0x0][0x1][0x0][_0x2cf21a(0x57c)];return _0xcbe195[_0x2cf21a(0x49b)](([,[_0x2887d1]])=>_0x2887d1[_0x2cf21a(0x57c)]===_0x199cb8);})(_0x2ec8d3);if(0x1===_0x5def7d[_0x2705b9(0x5fc)])return{'nodeId':_0x5def7d[0x0][0x0],'response':_0x5def7d[0x0][0x1][0x0]};const _0x50b894=this[_0x2705b9(0x1c2)][_0x2705b9(0x351)](_0x20c8b7);if(!_0x50b894)throw new _0x4158de(_0x4158de[_0x2705b9(0x67f)][_0x2705b9(0x33b)]);const _0x7b5f48=_0x50b894[_0x2705b9(0x5bb)]['getTime'](),_0x28a8b2=_0x5def7d['map'](([_0xf135bf,[,_0xb84ae2]])=>({'nodeId':_0xf135bf,'rtt':_0xb84ae2-_0x7b5f48})),_0x5716a5=Math[_0x2705b9(0x56e)](..._0x28a8b2[_0x2705b9(0x136)](({rtt:_0x492eed})=>_0x492eed)),_0x2cda57=_0x28a8b2[_0x2705b9(0x775)](({rtt:_0x257d85})=>_0x257d85===_0x5716a5),[,[_0x25f1d8]]=_0x5def7d[_0x2705b9(0x775)](([_0x48441f])=>_0x48441f===_0x2cda57[_0x2705b9(0x4d3)]);return{'nodeId':_0x2cda57['nodeId'],'response':_0x25f1d8};}[_0x57df12(0x486)](_0x5c9394,_0x3dcc02){const _0x56a4a3=_0x57df12,_0x2add4c=this[_0x56a4a3(0x1c2)][_0x56a4a3(0x351)](_0x5c9394);if(!_0x2add4c)throw new _0x4158de(_0x4158de['codes'][_0x56a4a3(0x33b)]);const _0x160c1e=this['jobObservers'][_0x56a4a3(0x351)](_0x5c9394);if(!_0x160c1e)throw new _0x4158de(_0x4158de[_0x56a4a3(0x67f)][_0x56a4a3(0x2ef)]);const _0x54399f={'id':_0x2add4c['id'],'status':_0x36cc4b[_0x56a4a3(0x5d1)][_0x56a4a3(0x72f)],'result':_0x3dcc02[_0x56a4a3(0x626)]};_0x160c1e[_0x56a4a3(0x214)](_0x54399f);}[_0x57df12(0x4e5)](_0x5a2295,_0x56f12e){const _0x1246f1=_0x57df12,_0x585e59=this[_0x1246f1(0x1c2)][_0x1246f1(0x351)](_0x5a2295);if(!_0x585e59)throw new _0x4158de(_0x4158de['codes'][_0x1246f1(0x33b)]);const _0x52b649=this['jobObservers'][_0x1246f1(0x351)](_0x5a2295);if(!_0x52b649)throw new _0x4158de(_0x4158de[_0x1246f1(0x67f)][_0x1246f1(0x2ef)]);_0x585e59['status']=_0x36cc4b['JobStatus'][_0x1246f1(0x6c4)];const _0x846461={'id':_0x585e59['id'],'status':_0x585e59[_0x1246f1(0x1b1)],'result':_0x56f12e[_0x1246f1(0x626)]};_0x52b649[_0x1246f1(0x214)](_0x846461),_0x52b649[_0x1246f1(0x2fd)](),this[_0x1246f1(0x41a)][_0x1246f1(0x403)](_0x5a2295),this['logEvent']('Job\x20'+_0x5a2295+'\x20finalized.',{'jobId':_0x5a2295});}['failJob'](_0x1c2922,_0x55e8ab){const _0x3dbc70=_0x57df12,_0x560412=this[_0x3dbc70(0x1c2)][_0x3dbc70(0x351)](_0x1c2922);if(!_0x560412)throw new _0x4158de(_0x4158de['codes'][_0x3dbc70(0x33b)]);const _0x4bfe78=this[_0x3dbc70(0x41a)][_0x3dbc70(0x351)](_0x1c2922);if(!_0x4bfe78)throw new _0x4158de(_0x4158de[_0x3dbc70(0x67f)]['JobDispatcherObserverNotFound']);_0x560412[_0x3dbc70(0x1b1)]=_0x36cc4b[_0x3dbc70(0x5d1)][_0x3dbc70(0x16e)];const _0x593641={'id':_0x560412['id'],'status':_0x560412['status'],'message':_0x55e8ab};_0x4bfe78['next'](_0x593641),_0x4bfe78[_0x3dbc70(0x2fd)](),this[_0x3dbc70(0x41a)]['delete'](_0x1c2922),this[_0x3dbc70(0x2e6)](_0x3dbc70(0x567)+_0x1c2922+_0x3dbc70(0x794),{'jobId':_0x1c2922});}[_0x57df12(0x2e6)](_0x361ca4,{jobId:_0x489a53}){const _0x2dab44=_0x57df12,_0x484a85={'jobId':_0x489a53,'mistletIds':Array[_0x2dab44(0x779)](this[_0x2dab44(0x177)]['getRemoteNodes']()[_0x2dab44(0x49e)]())[_0x2dab44(0x49b)](_0x4e7f4b=>_0x4e7f4b[_0x2dab44(0x3cb)]===_0x36cc4b[_0x2dab44(0x4d9)][_0x2dab44(0x53d)])[_0x2dab44(0x136)](_0x4f3c70=>_0x4f3c70[_0x2dab44(0x5a9)]())};_0x287307[_0x2dab44(0x2e6)](_0x361ca4,{'nodeId':this['getOwnerId'](),'nodeType':this[_0x2dab44(0x5e4)][_0x2dab44(0x3cb)],'data':_0x484a85}),_0x287307[_0x2dab44(0x60a)](_0x54918a[_0x2dab44(0x764)],_0x361ca4,_0x484a85);}[_0x57df12(0x25f)](_0x35a410){const _0x120bbf=_0x57df12,{jobPhase:_0x123321,available:_0x46342b,bid:_0x2c4e2d}=_0x35a410;return _0x123321===_0x4f957e[_0x120bbf(0x524)]&&void 0x0!==_0x46342b&&void 0x0!==_0x2c4e2d;}[_0x57df12(0x592)](_0x1d0c06){const _0x226cd9=_0x57df12,{jobPhase:_0x438f48,result:_0x4801c1}=_0x1d0c06;return _0x438f48===_0x4f957e[_0x226cd9(0x3b5)]&&void 0x0!==_0x4801c1;}[_0x57df12(0x2b5)](_0x30c494){const _0x3351c0=_0x57df12,{jobPhase:_0x31825f,result:_0x3c3ffa}=_0x30c494;return _0x31825f===_0x4f957e[_0x3351c0(0x2c6)]&&void 0x0!==_0x3c3ffa;}[_0x57df12(0x308)](_0x483a54){const _0xbb986a=_0x57df12,{jobPhase:_0x2a3a43,message:_0xfc3169}=_0x483a54;return _0x2a3a43===_0x4f957e[_0xbb986a(0x16e)]&&void 0x0!==_0xfc3169&&_0xbb986a(0x795)==typeof _0xfc3169;}}class _0x3706e3 extends _0x429d53{constructor(_0xaea8f,_0x2e3c81,_0x238250){super(_0xaea8f,_0x2e3c81,_0x238250);}async['prompt'](_0x38f458,_0x3dbe10){const _0x52e6db=_0x57df12,_0x2d9901=await this['getJobObservable'](_0x38f458,_0x36cc4b[_0x52e6db(0x184)][_0x52e6db(0x46a)],_0x3dbe10);return new Promise((_0x45cfd1,_0x5c5381)=>{const _0x4b686c=_0x52e6db;let _0x32c7cd;const _0x1af3e9=_0x2d9901[_0x4b686c(0x76e)]({'next':_0x55146d=>{const _0x2d6abd=_0x4b686c;switch(_0x55146d[_0x2d6abd(0x1b1)]){case _0x36cc4b[_0x2d6abd(0x5d1)][_0x2d6abd(0x6c4)]:this['logServiceEvent'](_0x55146d[_0x2d6abd(0x626)][_0x2d6abd(0x65d)]??0x0),clearTimeout(_0x32c7cd),_0x45cfd1(_0x55146d['result']['output']),_0x1af3e9['unsubscribe']();break;case _0x36cc4b[_0x2d6abd(0x5d1)][_0x2d6abd(0x16e)]:clearTimeout(_0x32c7cd),_0x5c5381(new _0x4158de(_0x4158de[_0x2d6abd(0x67f)][_0x2d6abd(0x570)],{'updatedJob':_0x55146d})),_0x1af3e9[_0x2d6abd(0x246)]();}},'error':_0x23ecda=>{const _0x595757=_0x4b686c;clearTimeout(_0x32c7cd),_0x5c5381(new _0x4158de(_0x4158de[_0x595757(0x67f)][_0x595757(0x570)],{'err':_0x23ecda})),_0x1af3e9[_0x595757(0x246)]();}});_0x32c7cd=setTimeout(()=>{const _0x21088f=_0x4b686c;_0x5c5381(new _0x4158de(_0x4158de[_0x21088f(0x67f)][_0x21088f(0x666)])),_0x1af3e9[_0x21088f(0x246)]();},_0x37e5af);});}async*[_0x57df12(0x1f6)](_0x225ac7,_0x373659){const _0x3dc276=_0x57df12,_0x4f81d8=await this[_0x3dc276(0x355)](_0x225ac7,_0x36cc4b[_0x3dc276(0x184)][_0x3dc276(0x193)],_0x373659);let _0x4294b9,_0x2f2f05=!0x1,_0x3d6901=0x0;const _0x42435f=[],_0x1a3ee8=new Map();let _0x5e454d=null;const _0x3d462f=()=>{_0x5e454d&&(_0x5e454d(),_0x5e454d=null);},_0x4b4441=()=>{const _0x3f422d=_0x3dc276;_0x2f2f05=!0x0,_0x3d462f(),_0x4e92ad[_0x3f422d(0x246)]();},_0x4e92ad=_0x4f81d8['subscribe']({'next':_0x4fe1e8=>{const _0x3a4c57=_0x3dc276;switch(_0x4fe1e8[_0x3a4c57(0x1b1)]){case _0x36cc4b['JobStatus']['Partial']:if(_0x4fe1e8[_0x3a4c57(0x626)]&&_0x4fe1e8[_0x3a4c57(0x626)][_0x3a4c57(0x41d)]){if(void 0x0===_0x4fe1e8[_0x3a4c57(0x626)]['index'])throw _0x4b4441(),new _0x4158de(_0x4158de[_0x3a4c57(0x67f)][_0x3a4c57(0x291)],{'updatedJob':_0x4fe1e8});_0x3d6901===_0x4fe1e8['result']['index']?(_0x42435f['push'](_0x4fe1e8[_0x3a4c57(0x626)]['output']),_0x3d6901++,((()=>{const _0x315501=_0x3a4c57;for(;_0x1a3ee8[_0x315501(0x245)](_0x3d6901);)_0x42435f[_0x315501(0x374)](_0x1a3ee8['get'](_0x42435f['length'])),_0x1a3ee8[_0x315501(0x403)](_0x42435f[_0x315501(0x5fc)]),_0x3d6901++;})()),_0x3d462f(),_0x2db066()):_0x1a3ee8['set'](_0x4fe1e8[_0x3a4c57(0x626)][_0x3a4c57(0x121)],_0x4fe1e8[_0x3a4c57(0x626)][_0x3a4c57(0x41d)]);}break;case _0x36cc4b['JobStatus'][_0x3a4c57(0x6c4)]:this[_0x3a4c57(0x7a9)](_0x4fe1e8['result'][_0x3a4c57(0x65d)]??0x0),clearTimeout(_0x4294b9),_0x4b4441();break;case _0x36cc4b[_0x3a4c57(0x5d1)][_0x3a4c57(0x16e)]:throw clearTimeout(_0x4294b9),_0x4b4441(),new _0x4158de(_0x4158de[_0x3a4c57(0x67f)][_0x3a4c57(0x570)],{'updatedJob':_0x4fe1e8});}},'error':_0x5a0b8f=>{const _0x23e356=_0x3dc276;throw clearTimeout(_0x4294b9),_0x4b4441(),new _0x4158de(_0x4158de[_0x23e356(0x67f)][_0x23e356(0x570)],{'err':_0x5a0b8f});}}),_0x528f4c=()=>{const _0x11f90d=_0x3dc276;throw _0x4b4441(),new _0x4158de(_0x4158de[_0x11f90d(0x67f)][_0x11f90d(0x666)]);},_0x2db066=()=>{clearTimeout(_0x4294b9),_0x4294b9=setTimeout(_0x528f4c,_0x37e5af);};for(_0x4294b9=setTimeout(_0x528f4c,_0x37e5af);!_0x2f2f05||_0x42435f[_0x3dc276(0x5fc)]>0x0;)_0x42435f[_0x3dc276(0x5fc)]>0x0?yield _0x42435f[_0x3dc276(0x721)]():await new Promise(_0x302830=>_0x5e454d=_0x302830);}['logServiceEvent'](_0x21f4b9){const _0x112fa3=_0x57df12,_0x466007=this[_0x112fa3(0x52a)],_0x410e2e=this[_0x112fa3(0x778)]();_0x287307['logServiceEvent'](_0x3313a9[_0x112fa3(0x119)],{'topic':_0x466007,'type':_0x112fa3(0x4cc),'nodeId':_0x410e2e,'tokenCount':_0x21f4b9});}async[_0x57df12(0x355)](_0x3a3b90,_0x5963cb,_0x1e1064={}){const _0x508b6f=_0x57df12,_0x17f23c={'id':_0x508b6f(0x2ec)+(0x0,_0x1f2ad5['v4'])(),'jobType':_0x5963cb,'parameters':{'prompt':_0x3a3b90,..._0x1e1064},'status':_0x36cc4b[_0x508b6f(0x5d1)]['Pending']};return await this['createJob'](_0x17f23c);}}class _0x326acc extends _0x1a7edb{[_0x57df12(0x54d)];[_0x57df12(0x530)];[_0x57df12(0x400)];['isRunning']=!0x1;constructor(_0x1bf4aa,_0x2fc630,_0x7ef18b,_0x5153b7){const _0x554ea7=_0x57df12;super(_0x1bf4aa,_0x2fc630),this[_0x554ea7(0x54d)]=_0x7ef18b,this[_0x554ea7(0x530)]=_0x5153b7;}[_0x57df12(0x632)](){const _0x47aa32=_0x57df12;return _0x36cc4b['ContentType'][_0x47aa32(0x46a)];}[_0x57df12(0x57d)](){const _0x37c8d5=_0x57df12;this[_0x37c8d5(0x788)]();}['close'](){const _0x23ae0c=_0x57df12;this[_0x23ae0c(0x235)]?.[_0x23ae0c(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x23ae0c(0x3ed)],'content':{'type':_0x3274d4[_0x23ae0c(0x5d0)],'label':this['label']}});}['reset'](){const _0x475abb=_0x57df12;this[_0x475abb(0x400)]?.(),this[_0x475abb(0x57d)]();}[_0x57df12(0x6f2)](){const _0x540063=_0x57df12;this[_0x540063(0x400)]?.(),super['destroy']();}['isAvailable'](){const _0x261df0=_0x57df12;return!this[_0x261df0(0x256)];}[_0x57df12(0x706)](){return 0x1;}[_0x57df12(0x71e)](_0x1a3c52,_0x814579,_0x1c6cd8){}[_0x57df12(0x123)](_0x30a54c,_0x469234){return _0x30a54c;}['subscribeToJobs'](){this['unsubscribeListener']=this['onMessage']((_0x3f80bf,_0x4102cc)=>{const _0x3646a7=a0_0x5c56;_0x287307[_0x3646a7(0x60a)](_0x54918a['Jobs'],_0x3646a7(0x1f7),_0x4102cc),_0x4102cc instanceof File||(this[_0x3646a7(0x6b1)](_0x4102cc)?(_0x287307[_0x3646a7(0x60a)](_0x54918a[_0x3646a7(0x764)],_0x3646a7(0x323),_0x4102cc),this['isAvailable']()?this['sendBid'](_0x4102cc['id'],_0x4102cc[_0x3646a7(0x60b)],_0x3f80bf):this['sendReject'](_0x4102cc['id'],_0x4102cc[_0x3646a7(0x60b)],_0x3f80bf)):this['isJobAttribution'](_0x4102cc)&&(_0x287307[_0x3646a7(0x60a)](_0x54918a[_0x3646a7(0x764)],'JobWorker:\x20Received\x20job\x20attribution',_0x4102cc),this[_0x3646a7(0x3a8)](_0x4102cc['id'],_0x4102cc,_0x3f80bf)));});}[_0x57df12(0x16b)](_0x5d0873,_0x34bd2d,_0x320333){const _0x5801f7=_0x57df12,_0x343ce3={'id':_0x5d0873,'jobType':_0x34bd2d,'jobPhase':_0x4f957e[_0x5801f7(0x524)],'available':!0x0,'bid':this[_0x5801f7(0x706)]()};_0x287307[_0x5801f7(0x60a)](_0x54918a[_0x5801f7(0x764)],_0x5801f7(0x3c9),_0x343ce3),this[_0x5801f7(0x435)](_0x343ce3,[_0x320333]);}[_0x57df12(0x2d1)](_0x473c07,_0x4ae3ae,_0x1d6198){const _0xe63d9c=_0x57df12,_0x8bc05e={'id':_0x473c07,'jobType':_0x4ae3ae,'jobPhase':_0x4f957e[_0xe63d9c(0x524)],'available':!0x1,'bid':0x0};this[_0xe63d9c(0x435)](_0x8bc05e,[_0x1d6198]);}async[_0x57df12(0x3a8)](_0x4dd79b,_0x5b8d8b,_0xdccba9){const _0x2ffc53=_0x57df12;_0x287307[_0x2ffc53(0x60a)](_0x54918a[_0x2ffc53(0x764)],_0x2ffc53(0x2dd),_0x5b8d8b);const _0x10f199={'id':_0x4dd79b,'jobType':_0x5b8d8b[_0x2ffc53(0x60b)],'parameters':_0x5b8d8b[_0x2ffc53(0x789)]};try{switch(_0x5b8d8b[_0x2ffc53(0x60b)]){case _0x36cc4b[_0x2ffc53(0x184)][_0x2ffc53(0x46a)]:await this['processJob'](_0x4dd79b,_0x5b8d8b,_0x10f199,_0xdccba9);break;case _0x36cc4b[_0x2ffc53(0x184)]['JobStream']:await this['processJobStream'](_0x4dd79b,_0x5b8d8b,_0x10f199,_0xdccba9);break;default:throw new Error(_0x2ffc53(0x3a6));}}catch(_0x1aa8ca){_0x287307['error'](_0x2ffc53(0x61d),{'nodeId':this[_0x2ffc53(0x5e4)][_0x2ffc53(0x5a9)](),'nodeType':this[_0x2ffc53(0x5e4)][_0x2ffc53(0x3cb)],'data':{'job':_0x10f199}},_0x1aa8ca);const _0x482bf0=_0x1aa8ca instanceof Error?_0x1aa8ca['message']:_0x2ffc53(0x255),_0x1fddbb={'id':_0x4dd79b,'jobType':_0x5b8d8b[_0x2ffc53(0x60b)],'jobPhase':_0x4f957e['Failed'],'message':_0x482bf0};await this[_0x2ffc53(0x435)](_0x1fddbb,[_0xdccba9]);}finally{this['isRunning']=!0x1;}}async[_0x57df12(0x6cd)](_0x3be85d,_0x15eb3c,_0x2aefd6,_0x14104e){const _0x2ef574=_0x57df12;this[_0x2ef574(0x256)]=!0x0;const _0x1916ba=Date[_0x2ef574(0x68a)](),_0x18c053=await this[_0x2ef574(0x530)][_0x2ef574(0x6cd)](_0x2aefd6);if(_0x18c053[_0x2ef574(0x1b1)]!==_0x36cc4b[_0x2ef574(0x5d1)][_0x2ef574(0x72f)]&&_0x18c053[_0x2ef574(0x1b1)]!==_0x36cc4b[_0x2ef574(0x5d1)][_0x2ef574(0x6c4)])return;this['compileStats'](_0x18c053['result'],_0x1916ba,Date['now']());const _0x2c48b3={'id':_0x3be85d,'jobType':_0x15eb3c[_0x2ef574(0x60b)],'jobPhase':_0x4f957e[_0x2ef574(0x2c6)],'result':_0x18c053[_0x2ef574(0x626)]};_0x287307['log'](_0x54918a[_0x2ef574(0x764)],'JobWorker:\x20Sending\x20job\x20result',_0x2c48b3),await this[_0x2ef574(0x435)](_0x2c48b3,[_0x14104e]);}async['processJobStream'](_0x3c0fad,_0x4c36ff,_0x201e85,_0x14a96f){const _0x5de0ec=_0x57df12;this[_0x5de0ec(0x256)]=!0x0;const _0x3f12ac=Date[_0x5de0ec(0x68a)]();let _0x1f1179=0x0,_0x2f70f9={};for await(const _0x227caf of this[_0x5de0ec(0x530)][_0x5de0ec(0x503)](_0x201e85)){if(_0x227caf['status']!==_0x36cc4b[_0x5de0ec(0x5d1)][_0x5de0ec(0x72f)]&&_0x227caf['status']!==_0x36cc4b[_0x5de0ec(0x5d1)][_0x5de0ec(0x6c4)])break;const _0x10e03d={'id':_0x3c0fad,'jobType':_0x4c36ff[_0x5de0ec(0x60b)],'jobPhase':_0x4f957e[_0x5de0ec(0x3b5)],'result':{..._0x227caf[_0x5de0ec(0x626)],'index':_0x1f1179}};_0x287307[_0x5de0ec(0x60a)](_0x54918a[_0x5de0ec(0x764)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x10e03d),this['send'](_0x10e03d,[_0x14a96f]),this[_0x5de0ec(0x123)](_0x2f70f9,_0x227caf[_0x5de0ec(0x626)]),_0x1f1179++;}this[_0x5de0ec(0x71e)](_0x2f70f9,_0x3f12ac,Date['now']());const _0x1d2370={'id':_0x3c0fad,'jobType':_0x4c36ff['jobType'],'jobPhase':_0x4f957e[_0x5de0ec(0x2c6)],'result':_0x2f70f9};_0x287307['log'](_0x54918a[_0x5de0ec(0x764)],_0x5de0ec(0x24c),_0x1d2370),await this[_0x5de0ec(0x435)](_0x1d2370,[_0x14a96f]);}[_0x57df12(0x6b1)](_0x2cd431){const _0x89d625=_0x57df12;return _0x2cd431[_0x89d625(0x126)]===_0x4f957e[_0x89d625(0x449)];}[_0x57df12(0x7aa)](_0x368fbc){const _0x238de6=_0x57df12;return _0x368fbc[_0x238de6(0x126)]===_0x4f957e[_0x238de6(0x6c0)];}}class _0x48b256 extends _0x326acc{[_0x57df12(0x5c3)];[_0x57df12(0x357)];[_0x57df12(0x31b)];['prompts']=0x0;[_0x57df12(0x443)]=0x0;constructor(_0x33e08d,_0x772085,_0x35224,_0x176fad,_0x1bc9fb){const _0x4b5ef8=_0x57df12;super(_0x33e08d,_0x772085,_0x35224,_0x176fad),this[_0x4b5ef8(0x5c3)]=_0x176fad,this[_0x4b5ef8(0x357)]=_0x1bc9fb;}['destroy'](){const _0x132cdb=_0x57df12;this['objectStore']['unsubscribe'](),this[_0x132cdb(0x357)]['close'](),this[_0x132cdb(0x31b)]&&(clearTimeout(this[_0x132cdb(0x31b)]),delete this[_0x132cdb(0x31b)]),super[_0x132cdb(0x6f2)]();}async[_0x57df12(0x57d)](){const _0x430245=_0x57df12;await this['waitForSyncComplete'](),await this[_0x430245(0x5c3)]['initialize'](),await this[_0x430245(0x659)](),this['subscribeToContent'](),this[_0x430245(0x6ca)](),super['open']();}[_0x57df12(0x1f2)](){const _0x5c308f=_0x57df12;this['prompts']=0x0,this[_0x5c308f(0x443)]=0x0,this['sendStats']();}['getBid'](){const _0x6876d8=_0x57df12;return this[_0x6876d8(0x2bf)]();}[_0x57df12(0x71e)](_0x172ead,_0x5b59a2,_0x778c5f){const _0x22f64a=_0x57df12;this[_0x22f64a(0x4b8)]+=0x1,this[_0x22f64a(0x443)]+=_0x172ead[_0x22f64a(0x732)]??0x0;const _0x5ce093=this[_0x22f64a(0x443)]/((_0x778c5f-_0x5b59a2)/0x3e8);this['logServiceEvent'](_0x5ce093,_0x172ead[_0x22f64a(0x732)]??0x0),this[_0x22f64a(0x6ca)]();}['accumulateResult'](_0x56036d,_0x39e6a8){const _0x5dbc54=_0x57df12;return{'output':_0x56036d[_0x5dbc54(0x41d)]??''+_0x39e6a8['output'],'outputTokens':_0x39e6a8[_0x5dbc54(0x732)]??_0x56036d[_0x5dbc54(0x732)],'inputTokens':_0x39e6a8[_0x5dbc54(0x65d)]??_0x56036d[_0x5dbc54(0x65d)]};}async['waitForSyncComplete'](){await new Promise(_0x1dd008=>{const _0x3b61d3=a0_0x5c56;this[_0x3b61d3(0x357)][_0x3b61d3(0x76e)](async _0x1bd193=>{const _0x719209=_0x3b61d3;_0x1bd193[_0x719209(0x6f8)]===_0x36cc4b['StorageEventType']['SyncComplete']&&(this[_0x719209(0x357)]['unsubscribe'](),_0x1dd008());});});}async[_0x57df12(0x69d)](_0xe2aedf){const _0x5f36f6=_0x57df12;try{const _0x4f42fe=await this['objectStore'][_0x5f36f6(0x793)](_0x5f36f6(0x1c6));for(const _0x4a9adc of _0x4f42fe)if(_0x4a9adc[_0x5f36f6(0x49a)]===_0x36cc4b[_0x5f36f6(0x248)][_0x5f36f6(0x64a)]&&_0x4a9adc[_0x5f36f6(0x500)]===_0xe2aedf)return _0x4a9adc[_0x5f36f6(0x1bb)]??_0x4a9adc['pathName'];throw new Error(_0x5f36f6(0x3be));}catch(_0x17f3b1){return new Promise(_0x4c49ba=>{const _0x187df4=_0x5f36f6;this[_0x187df4(0x357)][_0x187df4(0x76e)](async _0x57d1ed=>{const _0xb4d1fc=_0x187df4;_0x57d1ed[_0xb4d1fc(0x6f8)]===_0x36cc4b[_0xb4d1fc(0x20f)][_0xb4d1fc(0x476)]&&_0x57d1ed['payload'][_0xb4d1fc(0x5fe)]['name']===_0xe2aedf&&(this[_0xb4d1fc(0x357)][_0xb4d1fc(0x246)](),_0x4c49ba(_0x57d1ed['payload'][_0xb4d1fc(0x5fe)][_0xb4d1fc(0x1bb)]??_0x57d1ed['payload'][_0xb4d1fc(0x5fe)][_0xb4d1fc(0x500)]));});});}}async['loadExistingContent'](){const _0x3e6cc9=_0x57df12;try{const _0x2869bf=await this[_0x3e6cc9(0x357)][_0x3e6cc9(0x793)](_0x34d464);for(const _0x434228 of _0x2869bf)'file'===_0x434228[_0x3e6cc9(0x49a)]&&await this[_0x3e6cc9(0x451)](_0x434228['name'],_0x434228[_0x3e6cc9(0x500)]);}catch(_0xd71e29){}}[_0x57df12(0x23f)](){const _0x1c31cc=_0x57df12;this['objectStore'][_0x1c31cc(0x76e)](async _0x565fea=>{const _0x5d3361=_0x1c31cc;switch(_0x565fea['event']){case _0x36cc4b[_0x5d3361(0x20f)][_0x5d3361(0x476)]:_0x565fea[_0x5d3361(0x404)][_0x5d3361(0x5fe)][_0x5d3361(0x500)][_0x5d3361(0x67e)](_0x34d464)&&await this['addContent'](_0x565fea['payload'][_0x5d3361(0x5fe)]['name'],_0x565fea['payload']['file']['pathName']);break;case _0x36cc4b[_0x5d3361(0x20f)]['FileDelete']:_0x565fea[_0x5d3361(0x404)]['pathName'][_0x5d3361(0x67e)](_0x34d464)&&this[_0x5d3361(0x16a)](_0x565fea[_0x5d3361(0x404)][_0x5d3361(0x134)]);}});}async[_0x57df12(0x451)](_0x45b4a9,_0x5550d2){const _0x4368f7=_0x57df12,_0x222032=await this[_0x4368f7(0x357)][_0x4368f7(0x351)](_0x5550d2);await this[_0x4368f7(0x5c3)][_0x4368f7(0x451)](_0x45b4a9,await _0x222032[_0x4368f7(0x430)]());}[_0x57df12(0x16a)](_0x53b635){const _0x1299f1=_0x57df12;this['generativeAIWorkerConnector'][_0x1299f1(0x16a)](_0x53b635);}['getCoresFromCapacityReport'](){const _0x55a865=_0x57df12;try{return this['capacityReporter']['getCapacityReport']()['gpu']['cores']*(0x1-this[_0x55a865(0x54d)]['getCapacityReport']()[_0x55a865(0x28c)][_0x55a865(0x5af)]);}catch(_0x17f60c){return _0x287307[_0x55a865(0x60a)](_0x54918a[_0x55a865(0x764)],_0x55a865(0x5b8),_0x17f60c),0x0;}}['sendStats'](){const _0x46fc82=_0x57df12;this[_0x46fc82(0x31b)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x28932f=_0x46fc82;delete this[_0x28932f(0x31b)],this[_0x28932f(0x235)][_0x28932f(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x28932f(0x3ed)],'content':{'type':_0x3274d4[_0x28932f(0x172)],'label':this[_0x28932f(0x52a)],'stats':{'timestamp':Date[_0x28932f(0x68a)](),'storage':await this[_0x28932f(0x357)]['getSize'](_0x34d464),'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x28932f(0x443)]}}});},0x1388);}[_0x57df12(0x7a9)](_0x5cf6d7,_0x5b040f){const _0x1ffc6a=_0x57df12,_0x4f548c=this[_0x1ffc6a(0x52a)],_0x15ea94=this[_0x1ffc6a(0x778)]();_0x287307[_0x1ffc6a(0x7a9)](_0x3313a9[_0x1ffc6a(0x119)],{'topic':_0x4f548c,'type':_0x1ffc6a(0x34a),'nodeId':_0x15ea94,'tokenCount':_0x5b040f,'tokensPerSecond':_0x5cf6d7});}}class _0x137970 extends _0x167746{[_0x57df12(0x6b8)];constructor(_0x45443a,_0x187854,_0xe7f007){super(_0x45443a,_0x187854),this['mediaStream']=_0xe7f007;}[_0x57df12(0x632)](){const _0xe5adb5=_0x57df12;return _0x36cc4b[_0xe5adb5(0x444)]['Media'];}[_0x57df12(0x42a)](){const _0x1b0441=_0x57df12;return this[_0x1b0441(0x6b8)];}[_0x57df12(0x14c)](){const _0x220ca4=_0x57df12;return this[_0x220ca4(0x6b8)]['id'];}}class _0x20680b extends _0x137970{['remoteId'];[_0x57df12(0x6c6)];[_0x57df12(0x195)];[_0x57df12(0x1d3)]=_0x413fb6();constructor(_0x4064be,_0x51da8f,_0x3e408e,_0x524c1f,_0xd6539c){const _0xf7feda=_0x57df12;super(_0x4064be,_0x51da8f,_0x3e408e),this['remoteId']=_0x524c1f,this[_0xf7feda(0x6c6)]=_0xd6539c;}[_0x57df12(0x6f2)](){const _0x1403c2=_0x57df12;this['removeTrack'](_0x1403c2(0x131)),this[_0x1403c2(0x2b6)]('video'),super[_0x1403c2(0x6f2)]();}[_0x57df12(0x36d)](_0xb3967f){const _0xb19c89=_0x57df12;if(!this[_0xb19c89(0x195)])throw new _0x4158de(_0x4158de[_0xb19c89(0x67f)][_0xb19c89(0x33a)],{'label':this[_0xb19c89(0x52a)],'ownerId':this[_0xb19c89(0x5e4)]['getId'](),'remoteId':this[_0xb19c89(0x69e)]});this[_0xb19c89(0x195)]['publish']({'sourceId':this['owner'][_0xb19c89(0x5a9)](),'content':{'action':_0x43552a['Add'],'track':_0xb3967f,'stream':this[_0xb19c89(0x6b8)],'priority':_0x36cc4b[_0xb19c89(0x73d)][_0xb19c89(0x683)],'params':this[_0xb19c89(0x1d7)](_0xb3967f[_0xb19c89(0x49a)],this[_0xb19c89(0x6c6)])}});}['removeTrack'](_0x42786f){const _0x4555f1=_0x57df12,_0x881a09=this[_0x4555f1(0x2b0)](_0x42786f);if(_0x881a09){if(!this[_0x4555f1(0x195)])return null;this[_0x4555f1(0x195)][_0x4555f1(0x707)]({'sourceId':this[_0x4555f1(0x5e4)]['getId'](),'content':{'action':_0x43552a[_0x4555f1(0x1b7)],'track':_0x881a09,'stream':this[_0x4555f1(0x6b8)]}});}return _0x881a09;}[_0x57df12(0x5f4)](_0x8c3a5c){const _0x3f8941=_0x57df12;if(!this[_0x3f8941(0x195)])throw new _0x4158de(_0x4158de[_0x3f8941(0x67f)][_0x3f8941(0x33a)],{'label':this['label'],'ownerId':this[_0x3f8941(0x5e4)][_0x3f8941(0x5a9)](),'remoteId':this[_0x3f8941(0x69e)]});this[_0x3f8941(0x195)][_0x3f8941(0x707)]({'sourceId':this['owner'][_0x3f8941(0x5a9)](),'content':{'action':_0x43552a[_0x3f8941(0x614)],'priority':_0x8c3a5c,'stream':this[_0x3f8941(0x6b8)]}});}[_0x57df12(0x76e)]({trackKinds:_0x57d739,params:_0x328f7c},_0x9f891){const _0x4cbba4=_0x57df12;if(!this['topic'])throw new _0x4158de(_0x4158de[_0x4cbba4(0x67f)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x4cbba4(0x5e4)][_0x4cbba4(0x5a9)](),'remoteId':this[_0x4cbba4(0x69e)]});for(const _0x270257 of this[_0x4cbba4(0x6b8)][_0x4cbba4(0x548)]())_0x57d739[_0x4cbba4(0x595)](_0x270257[_0x4cbba4(0x49a)])&&this[_0x4cbba4(0x195)]['publish']({'sourceId':this[_0x4cbba4(0x5e4)][_0x4cbba4(0x5a9)](),'content':{'action':_0x43552a[_0x4cbba4(0x272)],'track':_0x270257,'stream':this[_0x4cbba4(0x6b8)],'priority':_0x9f891,'params':this['getInternalTrackParams'](_0x270257['kind'],_0x328f7c)}});}[_0x57df12(0x4be)]({params:_0x44f531}){const _0x54418e=_0x57df12;if(!this[_0x54418e(0x195)])throw new _0x4158de(_0x4158de[_0x54418e(0x67f)][_0x54418e(0x33a)],{'label':this[_0x54418e(0x52a)],'ownerId':this[_0x54418e(0x5e4)][_0x54418e(0x5a9)](),'remoteId':this['remoteId']});for(const _0x457513 of this[_0x54418e(0x6b8)][_0x54418e(0x548)]())this[_0x54418e(0x195)][_0x54418e(0x707)]({'sourceId':this['owner'][_0x54418e(0x5a9)](),'content':{'action':_0x43552a['Update'],'stream':this[_0x54418e(0x6b8)],'params':this[_0x54418e(0x1d7)](_0x457513['kind'],_0x44f531)}});}[_0x57df12(0x246)]({trackKinds:_0x20226d}){const _0x561eaa=_0x57df12;if(this[_0x561eaa(0x195)]){for(const _0x3cdce6 of this['mediaStream'][_0x561eaa(0x548)]())_0x20226d[_0x561eaa(0x595)](_0x3cdce6['kind'])&&this[_0x561eaa(0x195)]['publish']({'sourceId':this[_0x561eaa(0x5e4)][_0x561eaa(0x5a9)](),'content':{'action':_0x43552a['Remove'],'stream':this[_0x561eaa(0x6b8)],'track':_0x3cdce6}});}}['registerPublisher'](_0x1d7310){const _0x36d32a=_0x57df12;this[_0x36d32a(0x195)]=_0x1d7310;}[_0x57df12(0x77a)](_0x4f2a9c){const _0x5d8bee=_0x57df12;_0x4f2a9c===this[_0x5d8bee(0x195)]&&(delete this[_0x5d8bee(0x195)],this[_0x5d8bee(0x1d3)][_0x5d8bee(0x707)]());}[_0x57df12(0x1c8)](_0x5a3c52){const _0x4f5c06=_0x57df12;return this[_0x4f5c06(0x1d3)][_0x4f5c06(0x76e)](_0x5a3c52);}['getTrack'](_0x2f343f){const _0xcd5db7=_0x57df12;return this[_0xcd5db7(0x6b8)][_0xcd5db7(0x548)]()['find'](_0x4a0d25=>_0x4a0d25['kind']===_0x2f343f)||null;}['getInternalTrackParams'](_0xabda44,_0x1d659b){const _0x3993b1=_0x57df12;let _0x347007;return'video'===_0xabda44&&_0x1d659b?.[_0x3993b1(0x176)]&&'boolean'!=typeof _0x1d659b[_0x3993b1(0x176)]&&(_0x347007={'kind':_0x3993b1(0x176),..._0x1d659b[_0x3993b1(0x176)]},_0x347007[_0x3993b1(0x5db)]=this[_0x3993b1(0x2fe)]()),_0x3993b1(0x131)===_0xabda44&&_0x1d659b?.[_0x3993b1(0x131)]&&_0x3993b1(0x51d)!=typeof _0x1d659b[_0x3993b1(0x131)]&&(_0x347007={'kind':_0x3993b1(0x131),..._0x1d659b[_0x3993b1(0x131)]}),_0x347007;}['getResolution'](){const _0x5e74cc=_0x57df12;let _0x541876={'width':0x0,'height':0x0};const _0x49d876=this['mediaStream'][_0x5e74cc(0x338)]();if(_0x49d876['length']>0x0){const _0x40a8de=_0x49d876[0x0][_0x5e74cc(0x75f)]();_0x40a8de['width']&&_0x40a8de[_0x5e74cc(0x38e)]&&(_0x541876={'width':_0x40a8de[_0x5e74cc(0x55b)],'height':_0x40a8de[_0x5e74cc(0x38e)]});}return _0x541876;}}class _0x3d881c extends _0x137970{['clusterId'];['priority']=_0x36cc4b[_0x57df12(0x73d)][_0x57df12(0x683)];[_0x57df12(0x398)]=new Map();[_0x57df12(0x12e)]=new Map();constructor(_0x4a7fb8,_0x4baf87,_0x36b36a,_0x290aa9){const _0x591774=_0x57df12;super(_0x4a7fb8,_0x4baf87,_0x36b36a instanceof MediaStream?_0x36b36a:_0x36b36a[_0x591774(0x77c)]?_0x36b36a[_0x591774(0x77c)]:_0x36b36a['captureStream']()),this[_0x591774(0x545)]=_0x290aa9,this[_0x591774(0x6b8)][_0x591774(0x548)]()[_0x591774(0x3bd)](_0x4e6aba=>this[_0x591774(0x5c9)](_0x4e6aba)),_0x287307[_0x591774(0x7a9)](_0x3313a9[_0x591774(0x32a)],{'type':_0x591774(0x707),'label':this['label'],'nodeId':this[_0x591774(0x5e4)][_0x591774(0x5a9)](),'nodeType':this['owner'][_0x591774(0x3cb)],'clusterId':this[_0x591774(0x545)],'streamId':this[_0x591774(0x14c)](),'trackKinds':this[_0x591774(0x6b8)][_0x591774(0x548)]()[_0x591774(0x136)](_0x362444=>_0x362444[_0x591774(0x49a)])});}[_0x57df12(0x6f2)](){const _0x32c7ab=_0x57df12;this[_0x32c7ab(0x12e)][_0x32c7ab(0x62c)]>0x0&&(this[_0x32c7ab(0x12e)]['forEach'](_0x4680eb=>{const _0x8c5e40=_0x32c7ab;_0x4680eb[_0x8c5e40(0x446)](),_0x4680eb['destroy']();}),this[_0x32c7ab(0x12e)][_0x32c7ab(0x15f)]()),this[_0x32c7ab(0x398)]['forEach'](_0x5d0e45=>_0x5d0e45()),super[_0x32c7ab(0x6f2)]();}[_0x57df12(0x707)](_0x3cfab6){const _0x16dfa7=_0x57df12;this['systemTopic'][_0x16dfa7(0x707)]({'sourceId':this['owner']['getId'](),'destinationIds':_0x3cfab6?[_0x3cfab6]:void 0x0,'propagate':!0x0,'messageType':_0x769e55[_0x16dfa7(0x3ed)],'content':{'type':_0x3274d4[_0x16dfa7(0x636)],'ownerId':this[_0x16dfa7(0x5e4)][_0x16dfa7(0x5a9)](),'label':this[_0x16dfa7(0x52a)],'stream':{'streamId':this[_0x16dfa7(0x14c)](),'availableTrackKinds':this[_0x16dfa7(0x6b8)][_0x16dfa7(0x548)]()[_0x16dfa7(0x136)](_0x271da2=>_0x271da2[_0x16dfa7(0x49a)])}}});}['unpublish'](){const _0x1646a6=_0x57df12;this[_0x1646a6(0x235)][_0x1646a6(0x707)]({'sourceId':this[_0x1646a6(0x5e4)][_0x1646a6(0x5a9)](),'propagate':!0x0,'messageType':_0x769e55[_0x1646a6(0x3ed)],'content':{'type':_0x3274d4[_0x1646a6(0x3ac)],'ownerId':this[_0x1646a6(0x5e4)][_0x1646a6(0x5a9)](),'label':this['label']}}),this[_0x1646a6(0x235)][_0x1646a6(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x1646a6(0x3ed)],'content':{'type':_0x3274d4[_0x1646a6(0x2d0)],'label':this[_0x1646a6(0x52a)]}}),_0x287307['logServiceEvent'](_0x3313a9[_0x1646a6(0x32a)],{'type':_0x1646a6(0x2f7),'label':this[_0x1646a6(0x52a)],'nodeId':this[_0x1646a6(0x5e4)][_0x1646a6(0x5a9)](),'nodeType':this[_0x1646a6(0x5e4)][_0x1646a6(0x3cb)],'clusterId':this[_0x1646a6(0x545)],'streamId':this[_0x1646a6(0x14c)]()});}[_0x57df12(0x673)](){return this['priority'];}[_0x57df12(0x5f4)](_0x4dd0b5){const _0x481d3d=_0x57df12;this[_0x481d3d(0x2c3)]=_0x4dd0b5,this[_0x481d3d(0x12e)]['forEach'](_0x319848=>_0x319848[_0x481d3d(0x5f4)](_0x4dd0b5));}[_0x57df12(0x4cd)](_0x1a2cdb,_0x26a409){const _0x2b60f1=_0x57df12;if(!this[_0x2b60f1(0x12e)][_0x2b60f1(0x245)](_0x1a2cdb)){const _0x3529e1=new _0x20680b(this[_0x2b60f1(0x5e4)],this['label'],this[_0x2b60f1(0x6b8)],_0x1a2cdb,_0x26a409),_0x566397=_0x3529e1[_0x2b60f1(0x1c8)](()=>{const _0x272392=_0x2b60f1;_0x566397(),this['outgoingStreams'][_0x272392(0x351)](_0x1a2cdb)?.['destroy'](),this[_0x272392(0x12e)][_0x272392(0x403)](_0x1a2cdb);});this[_0x2b60f1(0x12e)][_0x2b60f1(0x6dc)](_0x1a2cdb,_0x3529e1),_0x3529e1[_0x2b60f1(0x432)](this['systemTopic']);}return this['outgoingStreams'][_0x2b60f1(0x351)](_0x1a2cdb);}[_0x57df12(0x5f1)](){const _0x32c1da=_0x57df12;return this[_0x32c1da(0x6b8)]['id'];}[_0x57df12(0x2fa)](_0x3f11b7){const _0x5cabd1=_0x57df12;this[_0x5cabd1(0x235)][_0x5cabd1(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55['Content'],'content':{'type':_0x3274d4[_0x5cabd1(0x43c)],'label':this[_0x5cabd1(0x52a)],'trackKinds':[_0x3f11b7[_0x5cabd1(0x49a)]]}});}['setupTrackEndedListeners'](_0xb4430d){const _0x41b7b3=_0x57df12,_0x4ffb7f=()=>this[_0x41b7b3(0x2fa)](_0xb4430d);_0xb4430d[_0x41b7b3(0x228)]('ended',_0x4ffb7f),_0xb4430d[_0x41b7b3(0x228)](_0x41b7b3(0x4b1),_0x4ffb7f),this['trackEndedListeners']['set'](_0xb4430d['kind'],()=>{const _0x39e2ed=_0x41b7b3;_0xb4430d['removeEventListener'](_0x39e2ed(0x4f0),_0x4ffb7f),_0xb4430d[_0x39e2ed(0x6e5)](_0x39e2ed(0x4b1),_0x4ffb7f),this[_0x39e2ed(0x398)]['delete'](_0xb4430d['kind']);});}}class _0x49f175 extends _0x3d881c{[_0x57df12(0x480)];['transformations']=[];['clientStream'];[_0x57df12(0x21c)];[_0x57df12(0x6f0)];[_0x57df12(0x540)];[_0x57df12(0x478)];[_0x57df12(0x557)];[_0x57df12(0x33f)];constructor(_0x1db9fb,_0xb096ac,_0x414cda,_0x34c715,_0x158768,_0x4899bf){const _0x289239=_0x57df12;if(super(_0x1db9fb,_0xb096ac,_0x414cda,_0x4899bf),this['audioContext']=_0x158768,this[_0x289239(0x31c)]=this['mediaStream'],this['sourceVideo']=document[_0x289239(0x6b5)](_0x289239(0x176)),this[_0x289239(0x540)][_0x289239(0x3e7)]=!0x0,this['sourceVideo'][_0x289239(0x26b)]=!0x0,this[_0x289239(0x540)][_0x289239(0x77c)]=this[_0x289239(0x31c)],this[_0x289239(0x540)][_0x289239(0x5af)](),this[_0x289239(0x540)][_0x289239(0x340)]=()=>{const _0x290eb0=_0x289239;this[_0x290eb0(0x540)][_0x290eb0(0x511)]();},this[_0x289239(0x478)]=document['createElement'](_0x289239(0x478)),this[_0x289239(0x557)]=this[_0x289239(0x478)]['getContext']('2d'),this[_0x289239(0x6b8)]=this[_0x289239(0x478)]['captureStream'](_0x34c715),this[_0x289239(0x6f0)]=this[_0x289239(0x480)][_0x289239(0x668)](),this[_0x289239(0x31c)][_0x289239(0x5cf)]()[_0x289239(0x5fc)]>0x0){const _0x483229=this['clientStream'][_0x289239(0x5cf)]()[0x0];this[_0x289239(0x21c)]=this[_0x289239(0x480)][_0x289239(0x6ba)](new MediaStream([_0x483229])),this['audioSource'][_0x289239(0x69c)](this[_0x289239(0x6f0)]);}const _0x4d8d0b=this[_0x289239(0x6f0)]['stream'][_0x289239(0x548)]()[0x0];this[_0x289239(0x6b8)][_0x289239(0x36d)](_0x4d8d0b),this['interval']=setInterval(()=>{const _0x17f655=_0x289239;this[_0x17f655(0x478)][_0x17f655(0x55b)]=this['sourceVideo'][_0x17f655(0x618)],this[_0x17f655(0x478)][_0x17f655(0x38e)]=this[_0x17f655(0x540)]['videoHeight'],this[_0x17f655(0x540)][_0x17f655(0x618)]?(0x0!==this[_0x17f655(0x31c)][_0x17f655(0x338)]()['length']&&this[_0x17f655(0x31c)]['getVideoTracks']()[0x0][_0x17f655(0x3de)]?this[_0x17f655(0x6b8)]['getVideoTracks']()[0x0][_0x17f655(0x3de)]=!0x0:this[_0x17f655(0x6b8)][_0x17f655(0x338)]()[0x0][_0x17f655(0x3de)]=!0x1,0x0!==this[_0x17f655(0x31c)]['getAudioTracks']()['length']&&this[_0x17f655(0x31c)][_0x17f655(0x5cf)]()[0x0]['enabled']?this[_0x17f655(0x6b8)][_0x17f655(0x5cf)]()[0x0][_0x17f655(0x3de)]=!0x0:this[_0x17f655(0x6b8)][_0x17f655(0x5cf)]()[0x0]['enabled']=!0x1,this[_0x17f655(0x557)][_0x17f655(0x1f1)](this['sourceVideo'],0x0,0x0)):this[_0x17f655(0x557)][_0x17f655(0x6c1)](0x0,0x0,this['canvas'][_0x17f655(0x55b)],this[_0x17f655(0x478)]['height']);},0x3e8/_0x34c715);}[_0x57df12(0x6f2)](){const _0x467aac=_0x57df12;clearInterval(this[_0x467aac(0x33f)]),this['sourceVideo'][_0x467aac(0x1ef)](),this[_0x467aac(0x478)][_0x467aac(0x1ef)](),this['audioSource']?.[_0x467aac(0x4f4)](),this[_0x467aac(0x6f0)][_0x467aac(0x4f4)](),this['mediaStream'][_0x467aac(0x548)]()[_0x467aac(0x3bd)](_0x2e6a5a=>{const _0x55aeee=_0x467aac;_0x2e6a5a['stop'](),this[_0x55aeee(0x6b8)][_0x55aeee(0x2b6)](_0x2e6a5a);}),super[_0x467aac(0x6f2)]();}['addTrack'](_0x454da8){const _0x163c12=_0x57df12,_0x435ac2=this[_0x163c12(0x2b0)](_0x454da8[_0x163c12(0x49a)]);_0x435ac2&&this['removeTrack'](_0x435ac2),_0x163c12(0x131)!==_0x454da8['kind']?(_0x163c12(0x176)===_0x454da8[_0x163c12(0x49a)]&&this[_0x163c12(0x790)](_0x454da8),this[_0x163c12(0x5c9)](_0x454da8)):this[_0x163c12(0x344)](_0x454da8);}[_0x57df12(0x2b6)](_0x3edffe){const _0x190514=_0x57df12,_0x5e608b=this[_0x190514(0x2dc)](_0x3edffe);return _0x5e608b&&('audio'===_0x5e608b[_0x190514(0x49a)]&&(this[_0x190514(0x21c)]?.[_0x190514(0x4f4)](),this[_0x190514(0x21c)]=void 0x0),this[_0x190514(0x398)][_0x190514(0x351)](_0x5e608b['kind'])?.(),this['clientStream'][_0x190514(0x2b6)](_0x5e608b)),_0x5e608b;}[_0x57df12(0x3f8)](_0x172944){const _0x31f0b5=_0x57df12;this[_0x31f0b5(0x2b6)](_0x172944['kind']),this[_0x31f0b5(0x36d)](_0x172944);}['setTransformations'](_0x246726){const _0x13c349=_0x57df12;this[_0x13c349(0x43f)]=_0x246726;}[_0x57df12(0x2b0)](_0x3637a8){const _0x3f61bb=_0x57df12;return this[_0x3f61bb(0x31c)][_0x3f61bb(0x548)]()[_0x3f61bb(0x775)](_0x2ba9ab=>_0x2ba9ab[_0x3f61bb(0x49a)]===_0x3637a8)||null;}[_0x57df12(0x2dc)](_0x49e84e){const _0x3fbaaf=_0x57df12;return _0x3fbaaf(0x795)==typeof _0x49e84e?this[_0x3fbaaf(0x2b0)](_0x49e84e):_0x49e84e;}[_0x57df12(0x344)](_0x168716){const _0xd156b5=_0x57df12;_0xd156b5(0x6b2)===this[_0xd156b5(0x480)][_0xd156b5(0x78a)]&&this['audioContext'][_0xd156b5(0x3a4)](),this[_0xd156b5(0x31c)][_0xd156b5(0x36d)](_0x168716),this['audioSource']=this[_0xd156b5(0x480)][_0xd156b5(0x6ba)](this[_0xd156b5(0x31c)]),this[_0xd156b5(0x21c)][_0xd156b5(0x69c)](this[_0xd156b5(0x6f0)]);}[_0x57df12(0x790)](_0x1e5f94){const _0x55def4=_0x57df12;this[_0x55def4(0x31c)][_0x55def4(0x36d)](_0x1e5f94),this[_0x55def4(0x540)][_0x55def4(0x5af)]();}}class _0x44c126 extends _0x3d881c{}class _0x1becc5 extends _0x1a7edb{[_0x57df12(0x749)];[_0x57df12(0x545)];['vendorId'];[_0x57df12(0x200)];[_0x57df12(0x58c)];[_0x57df12(0x209)];[_0x57df12(0x692)]=new Map();['objectRequests']=new Map();[_0x57df12(0x1fe)]=new Map();[_0x57df12(0x270)]=new Map();[_0x57df12(0x6b9)]=new Map();[_0x57df12(0x754)];[_0x57df12(0x3a2)]=_0x413fb6();[_0x57df12(0x189)];['debounceStats'];[_0x57df12(0x527)]=0x0;[_0x57df12(0x5c4)]=0x0;[_0x57df12(0x41e)]=!0x1;['isSyncing']=!0x0;constructor(_0x1cbb23,_0xe4b51d,_0x4cfe30,_0x2d0c0f,_0x2fdf82,_0x56cc91){const _0x2a4521=_0x57df12;if('string'!=typeof _0xe4b51d)throw new _0x19eda8(_0x5623ec[_0x2a4521(0x651)],_0x2a4521(0x394));super(_0x1cbb23,_0xe4b51d),this[_0x2a4521(0x749)]=_0x1cbb23,this[_0x2a4521(0x545)]=_0x4cfe30,this['vendorId']=_0x2d0c0f,this[_0x2a4521(0x200)]=_0x2fdf82;const _0x3404a8='ccc'+this[_0x2a4521(0x54f)]+_0x2a4521(0x7a2)+this['clusterId']+_0x2a4521(0x7a2)+_0xe4b51d;this[_0x2a4521(0x754)]=new _0x56cc91(_0x3404a8),this[_0x2a4521(0x6ca)]();}['reset'](){const _0x3a4d03=_0x57df12;this[_0x3a4d03(0x6ca)]();}[_0x57df12(0x632)](){const _0x52a192=_0x57df12;return _0x36cc4b[_0x52a192(0x444)][_0x52a192(0x4da)];}async[_0x57df12(0x25d)](_0x4f627b){const _0x48ca04=_0x57df12;_0x4f627b&&(this[_0x48ca04(0x41e)]=_0x4f627b),this['isSyncing']=!0x0;try{const _0x5f0012=await this['objectStoreConnector'][_0x48ca04(0x351)](_0x31166f),_0x31221a=await _0x5f0012[_0x48ca04(0x430)]();this[_0x48ca04(0x209)]=_0x31221a;}catch(_0x1ac64d){}this[_0x48ca04(0x58c)]=this[_0x48ca04(0x6d5)](async(_0x1ff0cb,_0x20655d)=>{const _0x249101=_0x48ca04;if(!(_0x20655d instanceof File))try{if(_0x20655d['payloadType']===_0x547a91[_0x249101(0x449)])return void this[_0x249101(0x242)](_0x20655d);this['handleTransactionPayload'](_0x20655d);}catch(_0x26b48e){if(_0x26b48e instanceof _0x4158de)throw _0x26b48e;throw new _0x4158de(_0x4158de[_0x249101(0x67f)][_0x249101(0x657)],{'payload':_0x20655d});}}),await this[_0x48ca04(0x7a4)](),_0x4f627b?await this[_0x48ca04(0x436)]():this[_0x48ca04(0x231)](),this['sendStats']();}[_0x57df12(0x6f2)](){const _0x4e3608=_0x57df12;this[_0x4e3608(0x58c)]?.(),clearTimeout(this[_0x4e3608(0x31b)]),delete this[_0x4e3608(0x31b)],super[_0x4e3608(0x6f2)]();}['close'](){const _0x3a1732=_0x57df12;this[_0x3a1732(0x235)]?.['publish']({'sourceId':_0x1c5473,'messageType':_0x769e55['Content'],'content':{'type':_0x3274d4[_0x3a1732(0x4cb)],'label':this[_0x3a1732(0x52a)]}});}[_0x57df12(0x76e)](_0x2c33dd){const _0x476237=_0x57df12;if(this[_0x476237(0x189)])throw new _0x19eda8(_0x5623ec['ObjectStoreAlreadySubscribed'],_0x476237(0x205));this[_0x476237(0x189)]=this[_0x476237(0x3a2)][_0x476237(0x76e)](_0x2c33dd),this[_0x476237(0x29a)]||this[_0x476237(0x3a2)][_0x476237(0x707)]({'event':_0x36cc4b[_0x476237(0x20f)][_0x476237(0x5f5)],'payload':null});}['unsubscribe'](){const _0x4ee74f=_0x57df12;this[_0x4ee74f(0x189)]?.(),this['listenerUnsubscriber']=void 0x0;}[_0x57df12(0x707)](_0x477f26){const _0x4eaa73=_0x57df12;switch(_0x477f26['action']){case _0x36cc4b[_0x4eaa73(0x4c6)][_0x4eaa73(0x64a)]:return this[_0x4eaa73(0x36a)](_0x477f26[_0x4eaa73(0x5fe)],_0x477f26[_0x4eaa73(0x629)],_0x477f26[_0x4eaa73(0x606)]);case _0x36cc4b['PayloadAction'][_0x4eaa73(0x38c)]:return this['publishFolder'](_0x477f26[_0x4eaa73(0x629)]);case _0x36cc4b[_0x4eaa73(0x4c6)]['Move']:return this[_0x4eaa73(0x283)](_0x477f26[_0x4eaa73(0x629)],_0x477f26[_0x4eaa73(0x46c)]);default:throw new _0x19eda8(_0x5623ec[_0x4eaa73(0x149)],_0x4eaa73(0x196)+_0x477f26);}}async[_0x57df12(0x2f7)](_0x2af39b){const _0x28b4a7=_0x57df12;try{const _0x9ff87c=(0x0,_0x1f2ad5['v4'])(),_0x510959=this[_0x28b4a7(0x209)],_0x2dc8bb={'payloadType':_0x547a91[_0x28b4a7(0x1cc)],'action':_0x30f979[_0x28b4a7(0x546)],'id':_0x9ff87c,'parentId':_0x510959,'path':_0x2af39b};await this[_0x28b4a7(0x447)](_0x2dc8bb);const _0x5315f7=await this[_0x28b4a7(0x34d)](_0x2af39b);await this['send'](_0x2dc8bb),_0x287307[_0x28b4a7(0x7a9)](_0x3313a9['ObjectStorage'],{'type':_0x28b4a7(0x2f7),'label':this['label'],'nodeId':this[_0x28b4a7(0x749)][_0x28b4a7(0x5a9)](),'nodeType':this[_0x28b4a7(0x749)]['type'],'clusterId':this[_0x28b4a7(0x545)],'kind':_0x5315f7,'path':_0x2af39b}),this[_0x28b4a7(0x527)]+=0x1,this[_0x28b4a7(0x6ca)]();}catch(_0x359a25){if(_0x359a25 instanceof _0x4158de)throw new _0x19eda8(_0x5623ec[_0x28b4a7(0x356)],_0x28b4a7(0x4c4));throw new _0x19eda8(_0x5623ec['ObjectStoreInvalidPath'],'Cannot\x20unpublish\x20object:\x20'+_0x2af39b);}}async[_0x57df12(0x351)](_0x39a6a2){const _0x5ba04e=_0x57df12;_0x287307['logServiceEvent'](_0x3313a9[_0x5ba04e(0x3d5)],{'type':'get','label':this['label'],'nodeId':this[_0x5ba04e(0x749)][_0x5ba04e(0x5a9)](),'nodeType':this[_0x5ba04e(0x749)][_0x5ba04e(0x3cb)],'clusterId':this[_0x5ba04e(0x545)],'path':_0x39a6a2}),this[_0x5ba04e(0x5c4)]+=0x1,this[_0x5ba04e(0x6ca)]();try{return await this[_0x5ba04e(0x754)][_0x5ba04e(0x351)](_0x39a6a2);}catch(_0x5ab09d){try{await this[_0x5ba04e(0x754)][_0x5ba04e(0x351)](_0x39a6a2+_0x229e68);}catch(_0x1f68d4){throw new _0x19eda8(_0x5623ec['ObjectStoreInvalidPath'],_0x5ba04e(0x303)+_0x39a6a2);}throw new _0x19eda8(_0x5623ec['ObjectStoreNotInSync'],_0x5ba04e(0x6fd));}}async[_0x57df12(0x793)](_0x31945b,_0x3befb1){const _0x198edb=_0x57df12,{recursive:_0x3ebcd5=!0x1,includeSyncingFiles:_0x23c14b=!0x1}=_0x3befb1??{};_0x287307[_0x198edb(0x7a9)](_0x3313a9[_0x198edb(0x3d5)],{'type':_0x198edb(0x793),'label':this['label'],'nodeId':this[_0x198edb(0x749)][_0x198edb(0x5a9)](),'nodeType':this[_0x198edb(0x749)][_0x198edb(0x3cb)],'clusterId':this['clusterId'],'path':_0x31945b}),this[_0x198edb(0x5c4)]+=0x1,this['sendStats']();try{const _0x259cbc=await this[_0x198edb(0x754)]['list'](_0x31945b,_0x3ebcd5);return this[_0x198edb(0x72e)](_0x259cbc,{'recursive':_0x3ebcd5,'includeSyncingFiles':_0x23c14b});}catch(_0x479dfc){throw new _0x19eda8(_0x5623ec['ObjectStoreInvalidPath'],_0x198edb(0x598)+_0x31945b);}}[_0x57df12(0x32d)](_0x34a180){const _0x396fc=_0x57df12;for(const _0x166d38 of this[_0x396fc(0x5e1)][_0x396fc(0x49e)]())this[_0x396fc(0x435)](_0x166d38,[_0x34a180]);}[_0x57df12(0x765)](_0x54e895){const _0x1e4b2b=_0x57df12,_0x454cbb=this[_0x1e4b2b(0x1fe)][_0x1e4b2b(0x351)](_0x54e895);if(_0x454cbb){for(const [_0x15171d,_0x30f0e0]of _0x454cbb[_0x1e4b2b(0x49e)]())this[_0x1e4b2b(0x222)](_0x15171d,_0x30f0e0);this['pendingFilesSyncing']['delete'](_0x54e895);}}async[_0x57df12(0x66d)](_0x21c978='/'){const _0x453a42=_0x57df12;try{return await this[_0x453a42(0x754)][_0x453a42(0x19b)](_0x21c978);}catch(_0x4f93ac){if(_0x4f93ac instanceof Error&&_0x4f93ac['message'][_0x453a42(0x595)](_0x453a42(0x678)))return 0x0;throw new _0x19eda8(_0x5623ec['ObjectStoreInvalidPath'],_0x453a42(0x60d)+_0x21c978);}}[_0x57df12(0x231)](){const _0x5e8bfb=_0x57df12;this[_0x5e8bfb(0x29a)]&&(this[_0x5e8bfb(0x29a)]=!0x1,this['eventListener'][_0x5e8bfb(0x707)]({'event':_0x36cc4b['StorageEventType']['SyncComplete'],'payload':null}));}async[_0x57df12(0x72e)](_0x528af5,{includeSyncingFiles:_0x41ac26=!0x1}){const _0x320780=_0x57df12;for(const _0x89c1d6 of _0x528af5)if(_0x89c1d6[_0x320780(0x49a)]===_0x36cc4b[_0x320780(0x248)][_0x320780(0x38c)]&&(_0x89c1d6[_0x320780(0x1f4)]=await this[_0x320780(0x72e)](_0x89c1d6['entries']??[],{'includeSyncingFiles':_0x41ac26})),_0x89c1d6[_0x320780(0x134)]!==_0x31166f){if(_0x89c1d6[_0x320780(0x134)][_0x320780(0x66e)](_0x229e68)){if(!_0x41ac26){_0x528af5['splice'](_0x528af5[_0x320780(0x15a)](_0x89c1d6),0x1);continue;}const _0xdcc8af=_0x89c1d6;if(_0xdcc8af[_0x320780(0x134)]=_0xdcc8af['name']['replace'](_0x229e68,''),_0xdcc8af['pathName']=_0xdcc8af[_0x320780(0x134)][_0x320780(0x3ec)](_0x229e68,''),await this['syncedFileExists'](_0xdcc8af[_0x320780(0x500)])){_0x528af5[_0x320780(0x26a)](_0x528af5[_0x320780(0x15a)](_0x89c1d6),0x1),_0x528af5[_0x320780(0x775)](_0x1be8a0=>_0x1be8a0['pathName']===_0xdcc8af[_0x320780(0x500)])[_0x320780(0x1b1)]=_0x36cc4b[_0x320780(0x62e)][_0x320780(0x6ff)];continue;}_0xdcc8af['status']=_0x36cc4b['FileStatus'][_0x320780(0x221)];}}else _0x528af5[_0x320780(0x26a)](_0x528af5[_0x320780(0x15a)](_0x89c1d6),0x1);return _0x528af5;}async['publishFile'](_0x34adde,_0xb9b935,_0x11b36c=!0x1){const _0x4d5d1a=_0x57df12;try{const _0x585191=(0x0,_0x1f2ad5['v4'])(),_0x233e55=await _0x23478a(_0x34adde),_0x4f4b49={'payloadType':_0x547a91[_0x4d5d1a(0x1cc)],'action':_0x30f979[_0x4d5d1a(0x476)],'id':_0x585191,'parentId':this['lastTransactionId'],'answererId':this['localNode']['getId'](),'name':_0x34adde['name'],'type':_0x34adde[_0x4d5d1a(0x3cb)],'path':_0xb9b935??'/','skipEncryption':_0x11b36c,'checksum':_0x233e55};await this[_0x4d5d1a(0x447)](_0x4f4b49),this[_0x4d5d1a(0x41e)]?await this[_0x4d5d1a(0x551)](_0x34adde,_0xb9b935,_0x11b36c):await this[_0x4d5d1a(0x1d5)](_0x34adde[_0x4d5d1a(0x134)],_0xb9b935??'/',{'checksum':_0x233e55,'skipEncryption':_0x11b36c}),await this[_0x4d5d1a(0x1f3)](_0x34adde,_0x4f4b49),_0x287307[_0x4d5d1a(0x7a9)](_0x3313a9[_0x4d5d1a(0x3d5)],{'type':'publish','label':this['label'],'nodeId':this[_0x4d5d1a(0x749)][_0x4d5d1a(0x5a9)](),'nodeType':this['localNode'][_0x4d5d1a(0x3cb)],'clusterId':this['clusterId'],'kind':_0x36cc4b[_0x4d5d1a(0x248)]['File'],'path':_0xb9b935,'fileName':_0x34adde['name'],'fileType':_0x34adde[_0x4d5d1a(0x3cb)],'size':_0x34adde[_0x4d5d1a(0x62c)]}),this[_0x4d5d1a(0x527)]+=0x1,this[_0x4d5d1a(0x6ca)]();}catch(_0x44c63c){if(_0x44c63c instanceof _0x4158de)throw new _0x19eda8(_0x5623ec['ObjectStoreNotInSync'],_0x4d5d1a(0x6fd));throw new _0x19eda8(_0x5623ec['ObjectStoreInvalidPath'],_0x4d5d1a(0x399)+_0xb9b935);}}async[_0x57df12(0x23d)](_0x2a1f8a){const _0x282c42=_0x57df12;try{const _0x5ca3f9=(0x0,_0x1f2ad5['v4'])(),_0x3e7bc6=this[_0x282c42(0x209)],_0x2b1baf={'payloadType':_0x547a91['Transaction'],'action':_0x30f979[_0x282c42(0x75b)],'id':_0x5ca3f9,'parentId':_0x3e7bc6,'path':_0x2a1f8a};await this[_0x282c42(0x447)](_0x2b1baf),await this['objectStoreConnector'][_0x282c42(0x415)](_0x2a1f8a),await this[_0x282c42(0x435)](_0x2b1baf),_0x287307['logServiceEvent'](_0x3313a9['ObjectStorage'],{'type':_0x282c42(0x707),'label':this[_0x282c42(0x52a)],'nodeId':this[_0x282c42(0x749)][_0x282c42(0x5a9)](),'nodeType':this[_0x282c42(0x749)]['type'],'clusterId':this[_0x282c42(0x545)],'kind':_0x36cc4b[_0x282c42(0x248)][_0x282c42(0x38c)],'path':_0x2a1f8a}),this['writes']+=0x1,this[_0x282c42(0x6ca)]();}catch(_0x209a09){if(_0x209a09 instanceof _0x4158de)throw new _0x19eda8(_0x5623ec[_0x282c42(0x356)],_0x282c42(0x6fd));throw new _0x19eda8(_0x5623ec['ObjectStoreInvalidPath'],_0x282c42(0x326)+_0x2a1f8a);}}async[_0x57df12(0x283)](_0x1f8c24,_0x76752){const _0x3efc01=_0x57df12;try{const _0x4fb0fd=(0x0,_0x1f2ad5['v4'])(),_0x13e53d=this[_0x3efc01(0x209)],_0x27c57b={'payloadType':_0x547a91[_0x3efc01(0x1cc)],'action':_0x30f979[_0x3efc01(0x5e5)],'id':_0x4fb0fd,'parentId':_0x13e53d,'path':_0x1f8c24,'newPath':_0x76752};await this['publishTransaction'](_0x27c57b);const _0x4ecd4e=await this['moveObject'](_0x1f8c24,_0x76752);await this[_0x3efc01(0x435)](_0x27c57b),_0x287307['logServiceEvent'](_0x3313a9[_0x3efc01(0x3d5)],{'type':_0x3efc01(0x5dc),'label':this[_0x3efc01(0x52a)],'nodeId':this[_0x3efc01(0x749)][_0x3efc01(0x5a9)](),'nodeType':this['localNode'][_0x3efc01(0x3cb)],'clusterId':this['clusterId'],'kind':_0x4ecd4e,'path':_0x1f8c24,'newPath':_0x76752}),this['writes']+=0x1,this[_0x3efc01(0x6ca)]();}catch(_0x52410a){if(_0x52410a instanceof _0x4158de)throw new _0x19eda8(_0x5623ec[_0x3efc01(0x356)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x19eda8(_0x5623ec['ObjectStoreInvalidPath'],_0x3efc01(0x187)+_0x1f8c24);}}async[_0x57df12(0x3fc)](_0xdfa066,_0x5f45ae=!0x1){const _0x33941c=_0x57df12;if(this['lastTransactionId']&&_0xdfa066['parentId']!==this[_0x33941c(0x209)]&&_0xdfa066['id']!==this[_0x33941c(0x209)]){if(!_0xdfa066['parentId'])throw new _0x4158de(_0x4158de['codes'][_0x33941c(0x657)]);this['pendingSyncTransactions']['set'](_0xdfa066[_0x33941c(0x59c)],_0xdfa066);}else{try{await this['processTransactionPayload'](_0xdfa066,_0x5f45ae);}catch(_0x5a83b5){}await this[_0x33941c(0x689)](_0xdfa066['id']),await this[_0x33941c(0x7af)](_0xdfa066['id'],_0x5f45ae);}}async[_0x57df12(0x7ac)](_0x3e6968,_0x45be32=!0x1){const _0x42f325=_0x57df12;switch(_0x3e6968[_0x42f325(0x226)]){case _0x30f979[_0x42f325(0x476)]:await this[_0x42f325(0x76c)](_0x3e6968);break;case _0x30f979[_0x42f325(0x75b)]:await this[_0x42f325(0x1bf)](_0x3e6968);break;case _0x30f979['Move']:await this[_0x42f325(0x3fa)](_0x3e6968,_0x45be32);break;case _0x30f979['Delete']:await this[_0x42f325(0x422)](_0x3e6968,_0x45be32);break;default:throw new _0x4158de(_0x4158de[_0x42f325(0x67f)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3e6968});}}async[_0x57df12(0x7af)](_0x3d05f3,_0x5422bf=!0x1){const _0x9908ea=_0x57df12;if(this[_0x9908ea(0x692)][_0x9908ea(0x245)](_0x3d05f3)){const _0x1a943c=this[_0x9908ea(0x692)][_0x9908ea(0x351)](_0x3d05f3);this['pendingSyncTransactions'][_0x9908ea(0x403)](_0x3d05f3),await this[_0x9908ea(0x3fc)](_0x1a943c,_0x5422bf);}}async[_0x57df12(0x242)](_0x304887){const _0x65d90f=_0x57df12;switch(_0x304887['action']){case _0x30f979[_0x65d90f(0x601)]:return this['handleFileRequest'](_0x304887);case _0x30f979[_0x65d90f(0x29d)]:return this[_0x65d90f(0x5b9)](_0x304887);case _0x30f979[_0x65d90f(0x722)]:return this[_0x65d90f(0x599)](_0x304887);case _0x30f979[_0x65d90f(0x68d)]:return this[_0x65d90f(0x76c)](_0x304887);default:throw new _0x4158de(_0x4158de[_0x65d90f(0x67f)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x304887});}}async['handleFileWrite'](_0x526134){const _0x221293=_0x57df12;if(!_0x526134[_0x221293(0x6de)]||void 0x0===_0x526134['index']||!_0x526134[_0x221293(0x2d9)])return void await this['createPendingFileWrite'](_0x526134[_0x221293(0x134)],_0x526134[_0x221293(0x629)],{'checksum':_0x526134[_0x221293(0x58b)],'skipEncryption':_0x526134[_0x221293(0x606)]});const _0x4d15f3=_0x19f447(_0x526134[_0x221293(0x629)],_0x526134[_0x221293(0x134)]);this[_0x221293(0x257)][_0x221293(0x245)](_0x4d15f3)||(this[_0x221293(0x257)][_0x221293(0x6dc)](_0x4d15f3,[]),await this[_0x221293(0x1d5)](_0x526134['name'],_0x526134[_0x221293(0x629)],{'checksum':_0x526134[_0x221293(0x58b)],'skipEncryption':_0x526134[_0x221293(0x606)]})),this['setPendingFileSyncingPayload'](_0x526134,_0x4d15f3);const _0x1a6f15=this['fileChunks'][_0x221293(0x351)](_0x4d15f3);if(_0x1a6f15[_0x526134[_0x221293(0x121)]]=_0x526134[_0x221293(0x6de)],_0x1a6f15[_0x221293(0x49b)](_0x5813d7=>_0x5813d7)[_0x221293(0x5fc)]<_0x526134[_0x221293(0x2d9)])return;const _0x25f00e=_0x56ce92(_0x1a6f15,_0x526134[_0x221293(0x134)],_0x526134[_0x221293(0x3cb)]);this['syncContent']&&(await this['writeFile'](_0x25f00e,_0x526134[_0x221293(0x629)],_0x526134[_0x221293(0x606)]),await this[_0x221293(0x20c)](_0x526134),_0x287307[_0x221293(0x7a9)](_0x3313a9[_0x221293(0x3d5)],{'type':_0x221293(0x25d),'label':this[_0x221293(0x52a)],'nodeId':this[_0x221293(0x749)][_0x221293(0x5a9)](),'nodeType':this[_0x221293(0x749)]['type'],'clusterId':this['clusterId'],'kind':_0x36cc4b[_0x221293(0x248)]['File'],'path':_0x526134[_0x221293(0x629)],'fileName':_0x526134['name'],'fileType':_0x526134[_0x221293(0x3cb)],'size':_0x25f00e[_0x221293(0x62c)]})),this['fileChunks'][_0x221293(0x403)](_0x4d15f3);const _0x5bab7e=this['pendingFilesTransactions'][_0x221293(0x351)](_0x526134[_0x221293(0x629)])??[];for(const _0xfbf823 of _0x5bab7e)await this[_0x221293(0x7ac)](_0xfbf823);this['pendingFilesTransactions'][_0x221293(0x403)](_0x526134[_0x221293(0x629)]),this['eventListener'][_0x221293(0x707)]({'event':_0x36cc4b[_0x221293(0x20f)][_0x221293(0x476)],'payload':{'file':{'kind':_0x36cc4b[_0x221293(0x248)][_0x221293(0x64a)],'path':_0x526134[_0x221293(0x629)],'type':_0x25f00e[_0x221293(0x3cb)],'size':_0x25f00e['size'],'name':_0x526134['name'],'pathName':_0x4d15f3,'status':_0x36cc4b[_0x221293(0x62e)][_0x221293(0x3df)]}}});}async[_0x57df12(0x1bf)](_0x37ec08){const _0x137a80=_0x57df12;await this[_0x137a80(0x754)][_0x137a80(0x415)](_0x37ec08[_0x137a80(0x629)]);const [_0x5db63b,_0x36dab7]=_0xfd904d(_0x37ec08[_0x137a80(0x629)]);this[_0x137a80(0x3a2)][_0x137a80(0x707)]({'event':_0x36cc4b[_0x137a80(0x20f)][_0x137a80(0x75b)],'payload':{'folder':{'kind':_0x36cc4b[_0x137a80(0x248)][_0x137a80(0x38c)],'name':_0x36dab7,'path':_0x5db63b,'pathName':_0x37ec08['path']}}});}async['handleObjectDelete'](_0x396238,_0x3ed749=!0x1){const _0x4cb07f=_0x57df12;if(!_0x3ed749&&!this[_0x4cb07f(0x47c)](_0x396238))return;const _0x4e794f=await this[_0x4cb07f(0x34d)](_0x396238[_0x4cb07f(0x629)]),[_0x430fdb,_0x2518cf]=_0xfd904d(_0x396238['path']);this['eventListener'][_0x4cb07f(0x707)]({'event':_0x4e794f===_0x36cc4b['ObjectKind'][_0x4cb07f(0x38c)]?_0x36cc4b['StorageEventType']['FolderDelete']:_0x36cc4b['StorageEventType'][_0x4cb07f(0x379)],'payload':{'name':_0x2518cf,'path':_0x430fdb,'pathName':_0x396238[_0x4cb07f(0x629)]}});}async[_0x57df12(0x3fa)](_0x436f14,_0x3ee29d=!0x1){const _0x324eec=_0x57df12;if(!_0x3ee29d&&!this[_0x324eec(0x47c)](_0x436f14))return this[_0x324eec(0x6b9)][_0x324eec(0x6dc)](_0x436f14['newPath'],this[_0x324eec(0x6b9)][_0x324eec(0x351)](_0x436f14['path'])??_0x436f14[_0x324eec(0x629)]),void this[_0x324eec(0x6b9)][_0x324eec(0x403)](_0x436f14[_0x324eec(0x629)]);this[_0x324eec(0x6b9)][_0x324eec(0x403)](_0x436f14['path']);const _0x4935ae=await this[_0x324eec(0x754)]['moveObject'](_0x436f14[_0x324eec(0x629)],_0x436f14[_0x324eec(0x46c)]),[_0x47921b,_0x372f57]=_0xfd904d(_0x436f14[_0x324eec(0x629)]),[_0x2490b7,_0x4f27c6]=_0xfd904d(_0x436f14[_0x324eec(0x46c)]);this[_0x324eec(0x3a2)]['publish']({'event':_0x4935ae===_0x36cc4b[_0x324eec(0x248)][_0x324eec(0x38c)]?_0x36cc4b[_0x324eec(0x20f)][_0x324eec(0x590)]:_0x36cc4b[_0x324eec(0x20f)][_0x324eec(0x1db)],'payload':{'name':_0x4f27c6,'path':_0x2490b7,'pathName':_0x436f14['newPath'],'oldName':_0x372f57,'oldPath':_0x47921b,'oldPathName':_0x436f14[_0x324eec(0x629)]}});}[_0x57df12(0x47c)](_0x24725f){const _0x43ee55=_0x57df12,_0x3c8e19=this[_0x43ee55(0x6b9)]['get'](_0x24725f['path'])??_0x24725f['path'];let _0x929cee=!0x1;for(const _0x34b7c9 of this[_0x43ee55(0x257)][_0x43ee55(0x6bc)]())if(_0x34b7c9[_0x43ee55(0x67e)](_0x3c8e19)){const _0x10783d=this[_0x43ee55(0x270)][_0x43ee55(0x351)](_0x34b7c9)??[];_0x10783d['push'](_0x24725f),this[_0x43ee55(0x270)]['set'](_0x34b7c9,_0x10783d),_0x929cee=!0x0;}return!_0x929cee;}async[_0x57df12(0x447)](_0x101877){const _0x52e9b8=_0x57df12;if(!_0x101877['id'])throw new _0x4158de(_0x4158de[_0x52e9b8(0x67f)][_0x52e9b8(0x657)],{'message':'Missing\x20transaction\x20id'});await this['transactionService'][_0x52e9b8(0x2b4)](_0x101877,this[_0x52e9b8(0x52a)],this[_0x52e9b8(0x209)]),await this['updateLastTransactionId'](_0x101877['id']);}async[_0x57df12(0x689)](_0x117466){const _0x143423=_0x57df12;this['lastTransactionId']=_0x117466;const _0x23bb43=new File([new Blob([this[_0x143423(0x209)]])],_0x31166f,{'type':_0x143423(0x483)});await this[_0x143423(0x551)](_0x23bb43,'/');}async[_0x57df12(0x52b)](_0x4834ad){const _0xd267a9=_0x57df12;try{const _0x4075ed=await this[_0xd267a9(0x351)](_0x4834ad['path']+'/'+_0x4834ad[_0xd267a9(0x134)]);if(await _0x23478a(_0x4075ed)!==_0x4834ad[_0xd267a9(0x58b)])return;_0x4834ad[_0xd267a9(0x393)]=this[_0xd267a9(0x749)][_0xd267a9(0x5a9)](),_0x4834ad[_0xd267a9(0x226)]=_0x30f979[_0xd267a9(0x29d)],await this['send'](_0x4834ad,[_0x4834ad[_0xd267a9(0x579)]]);}catch(_0x362dc1){}}async[_0x57df12(0x5b9)](_0x28429c){const _0x19c264=_0x57df12,_0xea3ef1=_0x19f447(_0x28429c[_0x19c264(0x629)],_0x28429c[_0x19c264(0x134)]);if(!this[_0x19c264(0x5e1)][_0x19c264(0x245)](_0xea3ef1))return;const _0x1e81c2=this[_0x19c264(0x5e1)][_0x19c264(0x351)](_0xea3ef1);_0x1e81c2[_0x19c264(0x226)]=_0x30f979['RequestFileSync'];const _0x16ff6e=_0x28429c[_0x19c264(0x393)];if(!_0x16ff6e)throw new _0x4158de(_0x4158de['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x19c264(0x266)});this[_0x19c264(0x5e1)][_0x19c264(0x403)](_0xea3ef1),this[_0x19c264(0x1fe)][_0x19c264(0x245)](_0x16ff6e)||this['pendingFilesSyncing'][_0x19c264(0x6dc)](_0x16ff6e,new Map()),this[_0x19c264(0x1fe)][_0x19c264(0x351)](_0x16ff6e)[_0x19c264(0x6dc)](_0xea3ef1,[_0x1e81c2,this[_0x19c264(0x550)](_0x16ff6e,_0xea3ef1)]),_0x1e81c2[_0x19c264(0x393)]=_0x16ff6e,this[_0x19c264(0x435)](_0x1e81c2,[_0x16ff6e]);}async['handleFileSync'](_0x4312ef){const _0x6a83e3=_0x57df12,_0x3a3e02=_0x19f447(_0x4312ef[_0x6a83e3(0x629)],_0x4312ef['name']),_0xe0bb29=await this[_0x6a83e3(0x351)](_0x3a3e02),_0x3dd4e6={..._0x4312ef,'answererId':this['localNode']['getId'](),'action':_0x30f979[_0x6a83e3(0x68d)]};await this[_0x6a83e3(0x1f3)](_0xe0bb29,_0x3dd4e6,[_0x4312ef[_0x6a83e3(0x579)]]);}async[_0x57df12(0x1f3)](_0x162149,_0x3c738c,_0x203f5c){const _0x449e12=_0x57df12,_0x9900a=await _0x40f013(_0x162149);for(const [_0x57a016,_0x575d66]of _0x9900a[_0x449e12(0x1f4)]()){const _0x58020a={..._0x3c738c,'type':_0x162149[_0x449e12(0x3cb)],'data':_0x575d66,'index':_0x57a016,'total':_0x9900a['length']};this[_0x449e12(0x435)](_0x58020a,_0x203f5c);}}async[_0x57df12(0x20c)](_0x4841a8){const _0x39cb15=_0x57df12;try{const _0x459683=_0x19f447(_0x4841a8[_0x39cb15(0x629)],_0x4841a8['name']),_0x1cfc3e=_0x459683+_0x229e68;await this['deleteObject'](_0x1cfc3e);const [,_0x479e18]=this[_0x39cb15(0x1fe)][_0x39cb15(0x351)](_0x4841a8[_0x39cb15(0x393)])?.[_0x39cb15(0x351)](_0x459683)??[];_0x479e18&&(clearTimeout(_0x479e18),this['pendingFilesSyncing'][_0x39cb15(0x351)](_0x4841a8[_0x39cb15(0x393)])[_0x39cb15(0x403)](_0x459683));}catch(_0x1e7022){}0x0===this[_0x39cb15(0x1fe)][_0x39cb15(0x351)](_0x4841a8[_0x39cb15(0x393)])?.['size']&&this[_0x39cb15(0x1fe)][_0x39cb15(0x403)](_0x4841a8[_0x39cb15(0x393)]),0x0===this['pendingFilesSyncing'][_0x39cb15(0x62c)]&&0x0===this['objectRequests'][_0x39cb15(0x62c)]&&this[_0x39cb15(0x231)]();}async['syncTransactions'](){const _0x48cdea=_0x57df12,_0x26d687=await this[_0x48cdea(0x200)][_0x48cdea(0x1d2)](this[_0x48cdea(0x52a)],this[_0x48cdea(0x209)]);for(const _0x12880c of _0x26d687)await this['handleTransactionPayload'](_0x12880c,!0x0);}async['syncPendingFiles'](){const _0x203106=_0x57df12,_0x36d78c=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x82b586=async _0x252a13=>{const _0x5f38e9=a0_0x5c56;for(const _0x339edd of _0x252a13){if(_0x339edd['kind']===_0x36cc4b['ObjectKind'][_0x5f38e9(0x38c)]){_0x339edd['entries']&&_0x339edd[_0x5f38e9(0x1f4)][_0x5f38e9(0x5fc)]>0x0&&await _0x82b586(_0x339edd[_0x5f38e9(0x1f4)]);continue;}if(!_0x339edd[_0x5f38e9(0x134)][_0x5f38e9(0x66e)](_0x229e68))continue;const _0x341daf=await this[_0x5f38e9(0x351)](_0x339edd['pathName']),_0x5075e2=JSON[_0x5f38e9(0x3dd)](await _0x341daf[_0x5f38e9(0x430)]()),_0x22e776=_0x339edd[_0x5f38e9(0x134)][_0x5f38e9(0x3ec)](_0x229e68,''),_0x14a4eb={'payloadType':_0x547a91[_0x5f38e9(0x449)],'action':_0x30f979[_0x5f38e9(0x601)],'sourceId':this['localNode'][_0x5f38e9(0x5a9)](),'type':'','path':_0x339edd[_0x5f38e9(0x629)],'name':_0x22e776,'checksum':_0x5075e2[_0x5f38e9(0x58b)],'skipEncryption':_0x5075e2[_0x5f38e9(0x606)]},_0x421724=_0x19f447(_0x339edd[_0x5f38e9(0x629)],_0x22e776);this[_0x5f38e9(0x5e1)][_0x5f38e9(0x6dc)](_0x421724,_0x14a4eb);}};await _0x82b586(_0x36d78c),0x0===this['objectRequests'][_0x203106(0x62c)]&&0x0===this[_0x203106(0x1fe)][_0x203106(0x62c)]&&this[_0x203106(0x231)]();}async[_0x57df12(0x1d5)](_0x2d09fd,_0x10790e,_0x4403b4){const _0x47f10b=_0x57df12,_0x14d3ee=new File([new Blob([JSON[_0x47f10b(0x2c2)](_0x4403b4)])],''+_0x2d09fd+_0x229e68,{'type':_0x47f10b(0x483)});await this['writeFile'](_0x14d3ee,_0x10790e);}[_0x57df12(0x550)](_0x3c2684,_0x5e0918){const _0xc88e02=_0x57df12,[_0x5a0b4e,_0x3f9909]=this[_0xc88e02(0x1fe)]['get'](_0x3c2684)?.[_0xc88e02(0x351)](_0x5e0918)??[];return _0x3f9909&&clearTimeout(_0x3f9909),setTimeout(()=>{const _0x36fcf3=_0xc88e02,[_0x5455c3,_0x40fbd1]=this['pendingFilesSyncing'][_0x36fcf3(0x351)](_0x3c2684)[_0x36fcf3(0x351)](_0x5e0918);this['sendFileRequestPayload'](_0x5455c3,_0x40fbd1);},0xea60);}async[_0x57df12(0x222)](_0x5eaabc,_0x59b0fe){const _0x3d3052=_0x57df12;clearTimeout(_0x59b0fe),_0x5eaabc[_0x3d3052(0x226)]=_0x30f979[_0x3d3052(0x601)],this[_0x3d3052(0x5e1)]['set'](_0x19f447(_0x5eaabc[_0x3d3052(0x629)],_0x5eaabc[_0x3d3052(0x134)]),_0x5eaabc),this[_0x3d3052(0x435)](_0x5eaabc);}[_0x57df12(0x1e5)](_0x4e7528,_0x5aa9c7){const _0x1eabca=_0x57df12;if(!this[_0x1eabca(0x41e)])return;this['pendingFilesSyncing'][_0x1eabca(0x245)](_0x4e7528['answererId'])||this[_0x1eabca(0x1fe)]['set'](_0x4e7528[_0x1eabca(0x393)],new Map());const [_0x399efa]=this['pendingFilesSyncing']['get'](_0x4e7528[_0x1eabca(0x393)])['get'](_0x5aa9c7)??[{'payloadType':_0x547a91[_0x1eabca(0x449)],'action':_0x30f979[_0x1eabca(0x601)],'sourceId':this[_0x1eabca(0x749)]['getId'](),'type':_0x4e7528[_0x1eabca(0x3cb)],'name':_0x4e7528[_0x1eabca(0x134)],'path':_0x4e7528['path'],'skipEncryption':_0x4e7528[_0x1eabca(0x606)],'checksum':_0x4e7528[_0x1eabca(0x58b)],'answererId':_0x4e7528[_0x1eabca(0x393)]}];this[_0x1eabca(0x1fe)][_0x1eabca(0x351)](_0x4e7528[_0x1eabca(0x393)])[_0x1eabca(0x6dc)](_0x5aa9c7,[_0x399efa,this['getOrResetPendingFileTimeout'](_0x4e7528[_0x1eabca(0x393)],_0x5aa9c7)]);}async[_0x57df12(0x551)](_0x2c368b,_0x889e7a,_0x3a50dd){const _0x41029f=_0x57df12;await this['objectStoreConnector'][_0x41029f(0x551)](_0x2c368b,_0x889e7a,_0x3a50dd);}async['deleteObject'](_0xe33c9d){const _0xc07b5d=_0x57df12;try{return await this[_0xc07b5d(0x754)][_0xc07b5d(0x34d)](_0xe33c9d);}catch(_0x189045){return await this[_0xc07b5d(0x754)][_0xc07b5d(0x34d)](_0xe33c9d+_0x229e68);}}async['moveObject'](_0x55aa4d,_0x18bd35){const _0x5134db=_0x57df12;try{return await this[_0x5134db(0x754)]['moveObject'](_0x55aa4d,_0x18bd35);}catch(_0x49cc6a){return await this[_0x5134db(0x754)]['moveObject'](_0x55aa4d+_0x229e68,_0x18bd35+_0x229e68);}}['sendStats'](){const _0x25aa18=_0x57df12;this[_0x25aa18(0x31b)]&&clearTimeout(this[_0x25aa18(0x31b)]),this[_0x25aa18(0x31b)]=setTimeout(async()=>{const _0x54d926=_0x25aa18;delete this[_0x54d926(0x31b)];const _0x508769=await this[_0x54d926(0x754)][_0x54d926(0x19b)]('/');this[_0x54d926(0x235)]?.['publish']({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x54d926(0x3ed)],'content':{'type':_0x3274d4[_0x54d926(0x5a5)],'label':this[_0x54d926(0x52a)],'stats':{'timestamp':Date[_0x54d926(0x68a)](),'storage':_0x508769,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x54d926(0x571)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x54d926(0x30e)],'writes':this[_0x54d926(0x527)],'reads':this[_0x54d926(0x5c4)],'prompts':0x0,'tokens':0x0}}}),_0x287307[_0x54d926(0x2df)](_0x3313a9[_0x54d926(0x3d5)],_0x54d926(0x7a2)+this[_0x54d926(0x545)]+_0x54d926(0x7a2)+this[_0x54d926(0x52a)],_0x508769);},0x1388);}async[_0x57df12(0x418)](_0x16e104){const _0x413dff=_0x57df12;try{return await this[_0x413dff(0x351)](_0x16e104),!0x0;}catch(_0x920ebe){return!0x1;}}}class _0x3b1b0a extends _0x1a7edb{[_0x57df12(0x749)];[_0x57df12(0x545)];[_0x57df12(0x58c)]=new Map();[_0x57df12(0x31b)];constructor(_0x32229d,_0x379b2e,_0x21c512){const _0x225901=_0x57df12;if(_0x225901(0x795)!=typeof _0x379b2e)throw new _0x19eda8(_0x5623ec[_0x225901(0x5da)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x32229d,_0x379b2e),this[_0x225901(0x749)]=_0x32229d,this[_0x225901(0x545)]=_0x21c512,this[_0x225901(0x6ca)]();}[_0x57df12(0x1f2)](){this['sendStats']();}[_0x57df12(0x632)](){const _0x498e18=_0x57df12;return _0x36cc4b[_0x498e18(0x444)][_0x498e18(0x3d4)];}[_0x57df12(0x707)](_0x3b8ff4,_0x14b370){const _0x233829=_0x57df12;_0x287307['log'](_0x54918a[_0x233829(0x3d4)],_0x233829(0x3f5),this['localNode'][_0x233829(0x5a9)](),_0x3b8ff4,_0x14b370),_0x287307[_0x233829(0x7a9)](_0x3313a9[_0x233829(0x3d4)],{'type':_0x233829(0x707),'label':this[_0x233829(0x52a)],'nodeId':this[_0x233829(0x749)][_0x233829(0x5a9)](),'nodeType':this[_0x233829(0x749)]['type'],'clusterId':this[_0x233829(0x545)],'remoteIds':_0x14b370??[],'contentType':_0x3b8ff4 instanceof File?_0x36cc4b['ContentType'][_0x233829(0x64a)]:_0x36cc4b[_0x233829(0x444)][_0x233829(0x6b3)],'size':_0x3b8ff4 instanceof File?_0x3b8ff4[_0x233829(0x62c)]:JSON['stringify'](_0x3b8ff4)[_0x233829(0x5fc)]}),this[_0x233829(0x6ca)](),this[_0x233829(0x435)](_0x3b8ff4,_0x14b370);}[_0x57df12(0x76e)](_0x44b4bb,_0x607acf){const _0x233079=_0x57df12;if(this[_0x233079(0x58c)][_0x233079(0x245)](_0x44b4bb))throw new _0x19eda8(_0x5623ec[_0x233079(0x407)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this['unsubscribeHandler'][_0x233079(0x6dc)](_0x44b4bb,this['onMessage']((_0x3f5410,_0x548544)=>{const _0x67189f=_0x233079;'data'===_0x44b4bb&&_0x548544 instanceof File||!(_0x67189f(0x5fe)!==_0x44b4bb||_0x548544 instanceof File)||(_0x287307['log'](_0x54918a[_0x67189f(0x3d4)],'PubSubTopic\x20onMessage',this[_0x67189f(0x749)][_0x67189f(0x5a9)](),_0x3f5410,_0x548544),_0x287307[_0x67189f(0x7a9)](_0x3313a9[_0x67189f(0x3d4)],{'type':_0x67189f(0x76e),'label':this['label'],'nodeId':this[_0x67189f(0x749)][_0x67189f(0x5a9)](),'nodeType':this[_0x67189f(0x749)]['type'],'clusterId':this[_0x67189f(0x545)],'remoteId':_0x3f5410,'contentType':_0x44b4bb,'size':_0x548544 instanceof File?_0x548544[_0x67189f(0x62c)]:JSON[_0x67189f(0x2c2)](_0x548544)['length']}),this[_0x67189f(0x6ca)](),_0x607acf(_0x3f5410,_0x548544));}));}[_0x57df12(0x246)](_0x18147f){const _0x2dd391=_0x57df12;this[_0x2dd391(0x58c)]['get'](_0x18147f)?.(),this['unsubscribeHandler'][_0x2dd391(0x403)](_0x18147f);}['destroy'](){const _0x373a81=_0x57df12;this[_0x373a81(0x58c)][_0x373a81(0x3bd)](_0x7e7662=>_0x7e7662()),clearTimeout(this[_0x373a81(0x31b)]),delete this[_0x373a81(0x31b)],super[_0x373a81(0x6f2)]();}[_0x57df12(0x42b)](){const _0x2a8cfe=_0x57df12;this[_0x2a8cfe(0x235)]?.[_0x2a8cfe(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x2a8cfe(0x3ed)],'content':{'type':_0x3274d4[_0x2a8cfe(0x159)],'label':this[_0x2a8cfe(0x52a)]}});}[_0x57df12(0x6ca)](){const _0x30962f=_0x57df12;this[_0x30962f(0x31b)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(()=>{const _0xdfd43f=_0x30962f;this[_0xdfd43f(0x235)]?.['publish']({'sourceId':_0x1c5473,'messageType':_0x769e55[_0xdfd43f(0x3ed)],'content':{'type':_0x3274d4[_0xdfd43f(0x6f7)],'label':this[_0xdfd43f(0x52a)],'stats':{'timestamp':Date[_0xdfd43f(0x68a)](),'storage':0x0,'messagesSent':this[_0xdfd43f(0x526)],'messagesReceived':this[_0xdfd43f(0x571)],'bytesSent':this[_0xdfd43f(0x3d0)],'bytesReceived':this[_0xdfd43f(0x30e)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},0x1388);}}class _0x4ed7d4 extends _0x137970{[_0x57df12(0x749)];[_0x57df12(0x44a)];[_0x57df12(0x73f)];[_0x57df12(0x545)];[_0x57df12(0x58c)];[_0x57df12(0x114)];[_0x57df12(0x3ea)];[_0x57df12(0x12e)]=new Map();[_0x57df12(0x2d3)];[_0x57df12(0x51c)]=new Set();[_0x57df12(0x40b)];[_0x57df12(0x180)]=_0x3f0774();['trackEndedListeners']=new Map();constructor(_0x20c0dc,_0x1d1e79,_0x46c5bf,_0x4011e3,_0x24a5b1,_0x180796){const _0x16b4be=_0x57df12;super(_0x1d1e79,_0x46c5bf,new MediaStream()),this[_0x16b4be(0x749)]=_0x20c0dc,this['internalId']=_0x4011e3,this['availableTrackKinds']=_0x24a5b1,this['clusterId']=_0x180796,this[_0x16b4be(0x6b8)][_0x16b4be(0x548)]()[_0x16b4be(0x3bd)](_0x6b77e=>this['setupTrackEndedListeners'](_0x6b77e));}[_0x57df12(0x6f2)](){const _0x5bee5a=_0x57df12;this[_0x5bee5a(0x12e)][_0x5bee5a(0x62c)]>0x0&&(this['outgoingStreams'][_0x5bee5a(0x3bd)](_0x2c4d8c=>{const _0x4bae68=_0x5bee5a;_0x2c4d8c[_0x4bae68(0x446)](),_0x2c4d8c['destroy']();}),this[_0x5bee5a(0x12e)]['clear']()),this[_0x5bee5a(0x398)][_0x5bee5a(0x3bd)](_0x103538=>_0x103538()),this[_0x5bee5a(0x6b8)]['getTracks']()[_0x5bee5a(0x3bd)](_0x4bf4e5=>this[_0x5bee5a(0x6b8)][_0x5bee5a(0x2b6)](_0x4bf4e5)),this[_0x5bee5a(0x3ea)]&&(clearTimeout(this[_0x5bee5a(0x3ea)]),delete this['updateDebounce']),this[_0x5bee5a(0x114)]?.(),super[_0x5bee5a(0x6f2)]();}['registerSubscriber'](_0x5b87fe){const _0x4bb2fc=_0x57df12;this[_0x4bb2fc(0x58c)]=_0x5b87fe[_0x4bb2fc(0x76e)](({content:_0x3b5c98})=>{const _0x53d274=_0x4bb2fc;switch(_0x3b5c98[_0x53d274(0x226)]){case _0x43552a[_0x53d274(0x286)]:if(_0x287307[_0x53d274(0x60a)](_0x54918a[_0x53d274(0x566)],'Received\x20track',this['localNode'][_0x53d274(0x5a9)](),this[_0x53d274(0x40b)]),_0x3b5c98[_0x53d274(0x1f6)]['id']!==this['internalId']||_0x3b5c98[_0x53d274(0x40b)]!==this[_0x53d274(0x40b)])return;this[_0x53d274(0x2b6)](_0x3b5c98['track'][_0x53d274(0x49a)]),this['mediaStream'][_0x53d274(0x36d)](_0x3b5c98[_0x53d274(0x1f0)]);for(const [_0x56ff97,_0xef4b39]of this[_0x53d274(0x12e)][_0x53d274(0x1f4)]())try{_0xef4b39[_0x53d274(0x36d)](_0x3b5c98[_0x53d274(0x1f0)]);}catch(_0x3c0e49){_0xef4b39[_0x53d274(0x6f2)](),this[_0x53d274(0x12e)]['delete'](_0x56ff97);}this[_0x53d274(0x5c9)](_0x3b5c98[_0x53d274(0x1f0)]),this['setupRenderElement'](),_0x53d274(0x176)===_0x3b5c98[_0x53d274(0x1f0)]['kind']&&this['renderElement']&&(this[_0x53d274(0x6b8)][_0x53d274(0x4af)]?setTimeout(()=>this[_0x53d274(0x2d3)]?.['play'](),0x0):setTimeout(()=>this[_0x53d274(0x2d3)]?.[_0x53d274(0x5af)](),0x0),this[_0x53d274(0x488)]());break;case _0x43552a[_0x53d274(0x322)]:if(_0x3b5c98[_0x53d274(0x1f6)]['id']!==this[_0x53d274(0x44a)]||_0x3b5c98[_0x53d274(0x40b)]!==this[_0x53d274(0x40b)])return;this[_0x53d274(0x2b6)](_0x3b5c98['track'][_0x53d274(0x49a)]),this[_0x53d274(0x2d3)]&&'video'===_0x3b5c98[_0x53d274(0x1f0)]['kind']&&(this[_0x53d274(0x114)]?.(),this[_0x53d274(0x6b8)]['getTracks']()[_0x53d274(0x5fc)]>0x0?this['renderElement']['load']():this[_0x53d274(0x2d3)]['srcObject']=null);}});}[_0x57df12(0x28d)](){const _0x52530b=_0x57df12;this['unsubscribeHandler']?.(),this[_0x52530b(0x398)][_0x52530b(0x3bd)](_0x366330=>_0x366330()),delete this[_0x52530b(0x58c)];}[_0x57df12(0x14c)](){const _0x3d0d44=_0x57df12;return this[_0x3d0d44(0x44a)];}[_0x57df12(0x6cb)](_0x46dfa6){const _0x448120=_0x57df12;this[_0x448120(0x44a)]=_0x46dfa6;}[_0x57df12(0x3dc)](){const _0x712d32=_0x57df12;return this[_0x712d32(0x73f)];}[_0x57df12(0x237)](_0x2ce714){const _0x4e0f9e=_0x57df12;for(const _0x51363c of _0x2ce714||this[_0x4e0f9e(0x73f)])if(!this[_0x4e0f9e(0x6b8)][_0x4e0f9e(0x548)]()[_0x4e0f9e(0x775)](_0x2d1abf=>_0x2d1abf[_0x4e0f9e(0x49a)]===_0x51363c))return!0x1;return!0x0;}[_0x57df12(0x2fe)](){const _0x424a62=_0x57df12;let _0x563c65={'width':0x0,'height':0x0};const _0x4ead08=this[_0x424a62(0x6b8)][_0x424a62(0x338)]();if(_0x4ead08['length']>0x0){const _0x1392a1=_0x4ead08[0x0][_0x424a62(0x75f)]();_0x1392a1[_0x424a62(0x55b)]&&_0x1392a1[_0x424a62(0x38e)]&&(_0x563c65={'width':_0x1392a1['width'],'height':_0x1392a1[_0x424a62(0x38e)]});}return _0x563c65;}['isSubscribed'](_0xcc3e){const _0x58905e=_0x57df12;for(const _0x445c55 of _0xcc3e)if(!this[_0x58905e(0x51c)][_0x58905e(0x245)](_0x445c55))return!0x1;return!0x0;}[_0x57df12(0x4cd)](_0x15a81a,_0x2692f4){const _0x51d58d=_0x57df12;if(!this[_0x51d58d(0x12e)][_0x51d58d(0x245)](_0x15a81a)){const _0x386db6=new _0x20680b(this[_0x51d58d(0x5e4)],this[_0x51d58d(0x52a)],this[_0x51d58d(0x6b8)],_0x15a81a,_0x2692f4),_0x2c8b7e=_0x386db6['onUnregisterPublisher'](()=>{const _0x216898=_0x51d58d;_0x2c8b7e(),this[_0x216898(0x12e)][_0x216898(0x351)](_0x15a81a)?.['destroy'](),this[_0x216898(0x12e)][_0x216898(0x403)](_0x15a81a);});this[_0x51d58d(0x12e)][_0x51d58d(0x6dc)](_0x15a81a,_0x386db6),_0x386db6[_0x51d58d(0x432)](this['systemTopic']);}return this[_0x51d58d(0x12e)]['get'](_0x15a81a);}['getShareableStreamId'](){return this['mediaStream']['id'];}['getPriority'](){const _0x2c2780=_0x57df12;return _0x36cc4b['MediaStreamPriority'][_0x2c2780(0x683)];}[_0x57df12(0x208)](){return Array['from'](this['subscribedTracks']);}[_0x57df12(0x76e)](_0xbfc84c){const _0x30ec72=_0x57df12;let _0x54cc41=[];if(_0xbfc84c){'object'!=typeof _0xbfc84c[_0x30ec72(0x176)]||_0xbfc84c['video'][_0x30ec72(0x2d3)]instanceof HTMLVideoElement||!this[_0x30ec72(0x2d3)]||(_0xbfc84c['video']={'renderElement':this[_0x30ec72(0x2d3)]});try{(0x0,_0x36cc4b['isValidMediaSubscriptionParams'])(_0xbfc84c);}catch(_0x1d296c){throw new _0x19eda8(_0x5623ec['RemoteMediaStreamInvalidSubscriptionParams'],_0x30ec72(0x664));}_0xbfc84c[_0x30ec72(0x176)]&&(_0x54cc41[_0x30ec72(0x374)](_0x30ec72(0x176)),_0x30ec72(0x51d)!=typeof _0xbfc84c['video']&&_0xbfc84c[_0x30ec72(0x176)][_0x30ec72(0x2d3)]&&(this['renderElement']=_0xbfc84c['video'][_0x30ec72(0x2d3)],_0xbfc84c[_0x30ec72(0x176)]['maxResolution']||(_0xbfc84c[_0x30ec72(0x176)][_0x30ec72(0x381)]={'width':this[_0x30ec72(0x2d3)]['clientWidth'],'height':this[_0x30ec72(0x2d3)][_0x30ec72(0x5fa)]}),delete _0xbfc84c[_0x30ec72(0x176)][_0x30ec72(0x2d3)])),_0xbfc84c[_0x30ec72(0x131)]&&_0x54cc41[_0x30ec72(0x374)](_0x30ec72(0x131));}else _0x54cc41=this[_0x30ec72(0x3dc)]();this[_0x30ec72(0x29e)](_0x54cc41)||(_0x54cc41[_0x30ec72(0x3bd)](_0x318ac6=>this['subscribedTracks'][_0x30ec72(0x785)](_0x318ac6)),this['systemTopic'][_0x30ec72(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x30ec72(0x3ed)],'content':{'type':_0x3274d4[_0x30ec72(0x7a0)],'label':this[_0x30ec72(0x52a)],'ownerId':this[_0x30ec72(0x5e4)][_0x30ec72(0x5a9)](),'trackKinds':_0x54cc41,'params':_0xbfc84c}}),_0x287307[_0x30ec72(0x7a9)](_0x3313a9['MediaStream'],{'type':_0x30ec72(0x76e),'label':this[_0x30ec72(0x52a)],'nodeId':this[_0x30ec72(0x749)][_0x30ec72(0x5a9)](),'nodeType':this[_0x30ec72(0x749)][_0x30ec72(0x3cb)],'clusterId':this[_0x30ec72(0x545)],'sourceId':this[_0x30ec72(0x5e4)][_0x30ec72(0x5a9)](),'streamId':this[_0x30ec72(0x44a)],'trackKinds':_0x54cc41}));}[_0x57df12(0x4be)](_0x17fea1){const _0x42236b=_0x57df12;try{(0x0,_0x36cc4b[_0x42236b(0x475)])(_0x17fea1);}catch(_0x4a4ea2){throw new _0x19eda8(_0x5623ec[_0x42236b(0x41b)],_0x42236b(0x664));}this[_0x42236b(0x3ea)]&&clearTimeout(this[_0x42236b(0x3ea)]),this['updateDebounce']=setTimeout(()=>{const _0x43b6c8=_0x42236b;delete this[_0x43b6c8(0x3ea)],this[_0x43b6c8(0x235)]['publish']({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x43b6c8(0x3ed)],'content':{'type':_0x3274d4['UpdateMediaStream'],'label':this[_0x43b6c8(0x52a)],'ownerId':this[_0x43b6c8(0x5e4)][_0x43b6c8(0x5a9)](),'params':_0x17fea1}});},0x1f4);}[_0x57df12(0x246)](_0x2ba570){const _0x2c07cf=_0x57df12;_0x2ba570||(_0x2ba570=this['getAvailableTrackKinds']()),(_0x2ba570=Array[_0x2c07cf(0x3d1)](_0x2ba570)?_0x2ba570:[_0x2ba570])['forEach'](_0x369854=>this[_0x2c07cf(0x51c)]['delete'](_0x369854)),this['systemTopic'][_0x2c07cf(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55['Content'],'content':{'type':_0x3274d4[_0x2c07cf(0x1aa)],'label':this[_0x2c07cf(0x52a)],'ownerId':this[_0x2c07cf(0x5e4)][_0x2c07cf(0x5a9)](),'trackKinds':_0x2ba570,'remainingTracks':this[_0x2c07cf(0x51c)][_0x2c07cf(0x62c)]}});}['onProviderChange'](_0x1cf30d){const _0x38435b=_0x57df12;return this[_0x38435b(0x180)][_0x38435b(0x76e)](_0x1cf30d);}['getProviderId'](){return this['providerId'];}[_0x57df12(0x146)](_0xda00c6){const _0x123125=_0x57df12;this[_0x123125(0x40b)]!==_0xda00c6&&(this['providerId']=_0xda00c6,this[_0x123125(0x180)][_0x123125(0x707)](_0xda00c6));}[_0x57df12(0x363)](_0x597d8a){const _0xe7889c=_0x57df12;this[_0xe7889c(0x398)][_0xe7889c(0x351)](_0x597d8a)?.(),this[_0xe7889c(0x398)]['delete'](_0x597d8a);}[_0x57df12(0x2b6)](_0x453b3c){const _0x24094e=_0x57df12,_0x34bb33=this[_0x24094e(0x6b8)]['getTracks']()[_0x24094e(0x775)](_0xdca4f6=>_0xdca4f6[_0x24094e(0x49a)]===_0x453b3c);_0x34bb33&&(this[_0x24094e(0x6b8)][_0x24094e(0x2b6)](_0x34bb33),this[_0x24094e(0x12e)]['forEach'](_0x3b9d94=>_0x3b9d94[_0x24094e(0x2b6)](_0x453b3c)),this[_0x24094e(0x398)][_0x24094e(0x351)](_0x453b3c)?.());}[_0x57df12(0x1bc)](){const _0x32e691=_0x57df12;this[_0x32e691(0x2d3)]&&(this[_0x32e691(0x2d3)]['srcObject']&&this[_0x32e691(0x2d3)][_0x32e691(0x77c)]===this['mediaStream']||(this[_0x32e691(0x2d3)][_0x32e691(0x77c)]=this[_0x32e691(0x6b8)]));}[_0x57df12(0x488)](){const _0x8e76d3=_0x57df12;if(this[_0x8e76d3(0x2d3)]&&!this[_0x8e76d3(0x114)]&&_0x8e76d3(0x4f9)!=typeof ResizeObserver){let _0x52dcdc=this[_0x8e76d3(0x2d3)][_0x8e76d3(0x5ea)],_0x4466fa=this[_0x8e76d3(0x2d3)][_0x8e76d3(0x5fa)];const _0x381e90=new ResizeObserver(_0x2d5a18=>{const _0x1a7b21=_0x8e76d3,{width:_0x54b7a0,height:_0x21039b}=_0x2d5a18[0x0][_0x1a7b21(0x573)];_0x52dcdc===_0x54b7a0&&_0x4466fa===_0x21039b||(_0x52dcdc=Math[_0x1a7b21(0x240)](_0x54b7a0),_0x4466fa=Math['floor'](_0x21039b),this['update']({'video':{'maxResolution':{'width':_0x54b7a0,'height':_0x21039b}}}));});_0x381e90['observe'](this[_0x8e76d3(0x2d3)]),this[_0x8e76d3(0x114)]=()=>_0x381e90[_0x8e76d3(0x4f4)]();}}[_0x57df12(0x740)](_0x49c3fe){const _0x5b3d03=_0x57df12,_0x38ce43=[];for(const _0x354e62 of this[_0x5b3d03(0x51c)])this[_0x5b3d03(0x2b6)](_0x354e62),_0x38ce43[_0x5b3d03(0x374)](_0x354e62);this[_0x5b3d03(0x40b)]&&this['systemTopic'][_0x5b3d03(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x5b3d03(0x3ed)],'content':{'type':_0x3274d4[_0x5b3d03(0x1be)],'label':this['label'],'streamId':this[_0x5b3d03(0x44a)],'ownerId':this[_0x5b3d03(0x5e4)][_0x5b3d03(0x5a9)](),'providerId':this[_0x5b3d03(0x40b)],'trackKinds':_0x38ce43}});}[_0x57df12(0x5c9)](_0x42b5ab){const _0x13efd5=_0x57df12,_0x1195fc=()=>this['handleRemoteTrackFailure'](_0x42b5ab);_0x42b5ab['addEventListener'](_0x13efd5(0x4f0),_0x1195fc),_0x42b5ab[_0x13efd5(0x228)]('mute',_0x1195fc),this[_0x13efd5(0x398)][_0x13efd5(0x6dc)](_0x42b5ab[_0x13efd5(0x49a)],()=>{const _0x372c56=_0x13efd5;_0x42b5ab[_0x372c56(0x6e5)](_0x372c56(0x4f0),_0x1195fc),_0x42b5ab['removeEventListener'](_0x372c56(0x4b1),_0x1195fc),this[_0x372c56(0x398)]['delete'](_0x42b5ab['kind']);});}}class _0x3963b9{['id'];['remoteConnections'];[_0x57df12(0x412)];constructor(_0x175745,_0xfd473a=new Set(),_0x23e4fe){const _0x459655=_0x57df12;this['id']=_0x175745,this[_0x459655(0x17a)]=_0xfd473a,this[_0x459655(0x412)]=_0x23e4fe;}[_0x57df12(0x42b)](){const _0x15ffd8=_0x57df12;this[_0x15ffd8(0x412)]=void 0x0,this['remoteConnections'][_0x15ffd8(0x15f)]();}[_0x57df12(0x5a9)](){return this['id'];}[_0x57df12(0x576)](){const _0x36f99b=_0x57df12;return this[_0x36f99b(0x412)];}[_0x57df12(0x6be)](){const _0x12d003=_0x57df12;return this[_0x12d003(0x17a)];}}class _0x205a3e extends _0x3963b9{['id'];[_0x57df12(0x31a)];[_0x57df12(0x40e)];[_0x57df12(0x17a)];[_0x57df12(0x412)];[_0x57df12(0x3cb)]=_0x36cc4b['NodeType'][_0x57df12(0x1dd)];constructor(_0x47854,_0x81e3d1,_0x2b3799,_0x2cf98f=new Set(),_0x255c19){const _0x29cbf7=_0x57df12;super(_0x47854,_0x2cf98f,_0x255c19),this['id']=_0x47854,this[_0x29cbf7(0x31a)]=_0x81e3d1,this[_0x29cbf7(0x40e)]=_0x2b3799,this[_0x29cbf7(0x17a)]=_0x2cf98f,this[_0x29cbf7(0x412)]=_0x255c19;}[_0x57df12(0x1cb)](){const _0x2a615b=_0x57df12;return this[_0x2a615b(0x31a)];}[_0x57df12(0x5b5)](){const _0x4dd151=_0x57df12;return this[_0x4dd151(0x40e)];}}class _0x394d0d{[_0x57df12(0x54f)];[_0x57df12(0x545)];[_0x57df12(0x658)];constructor(_0x5311ad,_0x28948f){const _0x3c7d29=_0x57df12;this[_0x3c7d29(0x54f)]=_0x5311ad,this[_0x3c7d29(0x545)]=_0x28948f,this[_0x3c7d29(0x658)]=_0x3c7d29(0x7a2)+this[_0x3c7d29(0x54f)]+_0x3c7d29(0x7a2)+this[_0x3c7d29(0x545)];}async['writeTransaction'](_0x19a438,_0xb780ac,_0x363f97){const _0x58d7d5=_0x57df12;if(!0x1===(await(0x0,_0x2279ec[_0x58d7d5(0x719)])((0x0,_0x2279ec[_0x58d7d5(0x1b0)])(_0x4e0444[_0x58d7d5(0x51e)](),_0x58d7d5(0x72c)+this[_0x58d7d5(0x658)]+_0x58d7d5(0x319)+_0xb780ac+'/transactions/lastTransaction'),_0xc2f4a4=>{const _0x274844=_0x58d7d5;if(!_0xc2f4a4)return _0x19a438['id'];if(_0xc2f4a4!==_0x363f97)throw new _0x4158de(_0x4158de[_0x274844(0x67f)][_0x274844(0x35a)]);return _0x19a438['id'];}))[_0x58d7d5(0x2d7)])throw new _0x4158de(_0x4158de['codes'][_0x58d7d5(0x395)]);_0x19a438[_0x58d7d5(0x59c)]||delete _0x19a438[_0x58d7d5(0x59c)],await(0x0,_0x2279ec['set'])((0x0,_0x2279ec[_0x58d7d5(0x1b0)])(_0x4e0444[_0x58d7d5(0x51e)](),_0x58d7d5(0x72c)+this['clusterKey']+_0x58d7d5(0x319)+_0xb780ac+_0x58d7d5(0x74f)+_0x19a438['id']),_0x19a438);}async[_0x57df12(0x1d2)](_0x28ff3f,_0x16e861){const _0x532956=_0x57df12;let _0x2f8b0a=[];const _0xba2134=await(0x0,_0x2279ec[_0x532956(0x351)])((0x0,_0x2279ec[_0x532956(0x1b0)])(_0x4e0444['getDatabase'](),_0x532956(0x72c)+this[_0x532956(0x658)]+_0x532956(0x319)+_0x28ff3f+_0x532956(0x15b)));if(!_0xba2134['exists']())return _0x2f8b0a;const _0x56ee54=_0xba2134[_0x532956(0x6c5)]();_0x2f8b0a=Object[_0x532956(0x49e)](_0x56ee54)[_0x532956(0x49b)](_0xbef27=>'string'!=typeof _0xbef27);const _0x436b5c=[];let _0x5b5075=_0x2f8b0a[_0x532956(0x775)](_0x2c52e1=>_0x2c52e1['parentId']===_0x16e861);for(;_0x5b5075;)_0x436b5c[_0x532956(0x374)](_0x5b5075),_0x5b5075=_0x2f8b0a['find'](_0x3f18b6=>_0x3f18b6[_0x532956(0x59c)]===_0x5b5075['id']);return _0x436b5c;}}class _0x446a75{['configs'];[_0x57df12(0x587)];[_0x57df12(0x480)];['localMediaStreams']=new Map();['remoteMediaStreams']=new Map();[_0x57df12(0x558)]=new Map();[_0x57df12(0x75c)]=new Map();['keyValueDatabases']=new Map();[_0x57df12(0x406)]=new Map();[_0x57df12(0x1a7)]=new Map();[_0x57df12(0x200)];constructor(_0x1e5791,_0x1bebf9,_0x256817){const _0x1dd80c=_0x57df12;this[_0x1dd80c(0x549)]=_0x1e5791,this[_0x1dd80c(0x587)]=_0x1bebf9,this[_0x1dd80c(0x480)]=_0x256817,this[_0x1dd80c(0x200)]=new _0x394d0d(this[_0x1dd80c(0x549)]['vendorId'],this['configs'][_0x1dd80c(0x545)]);}[_0x57df12(0x42b)](_0x20c2c8=!0x1){const _0x14166d=_0x57df12;this[_0x14166d(0x787)][_0x14166d(0x3bd)]((_0x49678d,_0x2a7a72)=>{const _0x239945=_0x14166d;_0x49678d[_0x239945(0x3bd)]((_0x3df220,_0x4461d4)=>{const _0x3fe07e=_0x239945;this[_0x3fe07e(0x522)](_0x2a7a72,_0x4461d4);});}),_0x20c2c8||(this[_0x14166d(0x723)][_0x14166d(0x3bd)]((_0x1a66c5,_0x1a7764)=>{const _0x5aa3d4=_0x14166d;this[_0x5aa3d4(0x4c8)](_0x1a7764);}),this[_0x14166d(0x558)]['forEach']((_0x4a89c1,_0x24a769)=>{this['removePubSubTopic'](_0x24a769);}),this['objectStores'][_0x14166d(0x3bd)]((_0x21f2f3,_0x231820)=>{const _0xb0abac=_0x14166d;this[_0xb0abac(0x663)](_0x231820);}),this[_0x14166d(0x48d)]['forEach']((_0x5bc2a7,_0x3abe42)=>{const _0x19ecba=_0x14166d;this[_0x19ecba(0x456)](_0x3abe42);}),this[_0x14166d(0x406)]['forEach']((_0x4e0d13,_0x13ad8b)=>{const _0x2a0f5d=_0x14166d;this[_0x2a0f5d(0x615)](_0x13ad8b);}),this[_0x14166d(0x1a7)]['forEach']((_0xa7a6bf,_0x1facc4)=>{const _0x5a9c40=_0x14166d;this[_0x5a9c40(0x3d6)](_0x1facc4);}));}[_0x57df12(0x2d4)](_0x900f36,_0x437968){const _0x4c6acc=_0x57df12;if(this[_0x4c6acc(0x75c)]['has'](_0x900f36))throw new _0x19eda8(_0x5623ec[_0x4c6acc(0x13c)],'Store\x20already\x20exists');const _0x331a34=new _0x1becc5(this['configs'][_0x4c6acc(0x749)],_0x900f36,this[_0x4c6acc(0x549)]['clusterId'],this['configs'][_0x4c6acc(0x54f)],this[_0x4c6acc(0x200)],_0x437968);return this[_0x4c6acc(0x75c)]['set'](_0x900f36,_0x331a34),this['configs'][_0x4c6acc(0x431)][_0x4c6acc(0x534)](_0x331a34),_0x331a34;}async[_0x57df12(0x20a)](_0x21f431,_0x4ab10a,_0x253028){const _0x4b7e6b=_0x57df12;if(this[_0x4b7e6b(0x48d)][_0x4b7e6b(0x245)](_0x21f431))throw new _0x19eda8(_0x5623ec['KeyValueDatabaseAlreadyExists'],_0x4b7e6b(0x6fe));try{const _0x5358da=new _0x16a91e(this[_0x4b7e6b(0x549)][_0x4b7e6b(0x749)],_0x21f431,this[_0x4b7e6b(0x549)][_0x4b7e6b(0x545)],this[_0x4b7e6b(0x549)]['vendorId'],_0x4ab10a,_0x253028);return this['keyValueDatabases'][_0x4b7e6b(0x6dc)](_0x21f431,_0x5358da),this['configs'][_0x4b7e6b(0x431)][_0x4b7e6b(0x534)](_0x5358da),_0x5358da;}catch(_0x22f0b3){if(_0x22f0b3 instanceof _0x19eda8)throw _0x22f0b3;throw console['warn'](_0x4b7e6b(0x3c4),_0x22f0b3),new _0x4158de(_0x4158de[_0x4b7e6b(0x67f)][_0x4b7e6b(0x60c)],{'label':_0x21f431,'clusterId':this[_0x4b7e6b(0x549)][_0x4b7e6b(0x545)],'vendorId':this[_0x4b7e6b(0x549)][_0x4b7e6b(0x54f)]});}}async['createJobDispatcher'](_0x3d8ae1,_0x468f7b){const _0x8f9e09=_0x57df12;if(this['jobDispatchers'][_0x8f9e09(0x245)](_0x3d8ae1))throw new _0x19eda8(_0x5623ec[_0x8f9e09(0x742)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x31c5fa=new _0x429d53(this['configs'][_0x8f9e09(0x749)],_0x3d8ae1,_0x468f7b);return this[_0x8f9e09(0x406)][_0x8f9e09(0x6dc)](_0x3d8ae1,_0x31c5fa),this[_0x8f9e09(0x549)][_0x8f9e09(0x431)][_0x8f9e09(0x534)](_0x31c5fa),_0x31c5fa;}catch(_0xddbcec){if(_0xddbcec instanceof _0x19eda8)throw _0xddbcec;throw console[_0x8f9e09(0x5a6)](_0x8f9e09(0x18a),_0xddbcec),new _0x4158de(_0x4158de[_0x8f9e09(0x67f)]['JobDispatcherCreationFailed'],{'label':_0x3d8ae1,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x8f9e09(0x549)][_0x8f9e09(0x54f)]});}}async[_0x57df12(0x44e)](_0x1731fc,_0x3a3107,_0x1d46f1){const _0x3a677d=_0x57df12;if(this['jobWorkers'][_0x3a677d(0x245)](_0x1731fc))throw new _0x19eda8(_0x5623ec['JobWorkerAlreadyExists'],_0x3a677d(0x316));try{const _0x1e703d=new _0x326acc(this[_0x3a677d(0x549)][_0x3a677d(0x749)],_0x1731fc,_0x3a3107,_0x1d46f1);return this[_0x3a677d(0x1a7)][_0x3a677d(0x6dc)](_0x1731fc,_0x1e703d),this['configs'][_0x3a677d(0x431)][_0x3a677d(0x534)](_0x1e703d),_0x1e703d;}catch(_0x1fbcf9){if(_0x1fbcf9 instanceof _0x19eda8)throw _0x1fbcf9;throw console[_0x3a677d(0x5a6)](_0x3a677d(0x18a),_0x1fbcf9),new _0x4158de(_0x4158de[_0x3a677d(0x67f)]['JobWorkerCreationFailed'],{'label':_0x1731fc,'clusterId':this[_0x3a677d(0x549)][_0x3a677d(0x545)],'vendorId':this[_0x3a677d(0x549)][_0x3a677d(0x54f)]});}}async['createGenerativeAIContext'](_0x2d6d8f,_0xb30954){const _0x37fcca=_0x57df12;if(this[_0x37fcca(0x406)][_0x37fcca(0x245)](_0x2d6d8f))throw new _0x19eda8(_0x5623ec[_0x37fcca(0x1ae)],_0x37fcca(0x777));if(this[_0x37fcca(0x1a7)][_0x37fcca(0x245)](_0x2d6d8f))throw new _0x19eda8(_0x5623ec[_0x37fcca(0x491)],_0x37fcca(0x6e8));try{const _0x38b4fe=new _0x3706e3(this[_0x37fcca(0x549)][_0x37fcca(0x749)],_0x2d6d8f,_0xb30954);return this[_0x37fcca(0x406)]['set'](_0x2d6d8f,_0x38b4fe),this[_0x37fcca(0x549)][_0x37fcca(0x431)][_0x37fcca(0x534)](_0x38b4fe),_0x38b4fe;}catch(_0x187cf0){if(_0x187cf0 instanceof _0x19eda8)throw _0x187cf0;throw console[_0x37fcca(0x5a6)]('Failed\x20to\x20create\x20AI\x20service',_0x187cf0),new _0x4158de(_0x4158de['codes'][_0x37fcca(0x752)],{'label':_0x2d6d8f,'clusterId':this[_0x37fcca(0x549)][_0x37fcca(0x545)],'vendorId':this[_0x37fcca(0x549)][_0x37fcca(0x54f)]});}}async[_0x57df12(0x243)](_0x3945db,_0x536cbb,_0x3c3db0,_0x43229d){const _0x154d86=_0x57df12;if(this[_0x154d86(0x1a7)][_0x154d86(0x245)](_0x3945db))throw new _0x19eda8(_0x5623ec[_0x154d86(0x6e1)],_0x154d86(0x252));if(this[_0x154d86(0x406)][_0x154d86(0x245)](_0x3945db))throw new _0x19eda8(_0x5623ec[_0x154d86(0x491)],_0x154d86(0x6e8));try{const _0x555468=new _0x48b256(this[_0x154d86(0x549)][_0x154d86(0x749)],_0x3945db,_0x536cbb,_0x3c3db0,_0x43229d);return this['jobWorkers']['set'](_0x3945db,_0x555468),this['configs'][_0x154d86(0x431)]['registerSystemSource'](_0x555468),_0x555468;}catch(_0x24721d){if(_0x24721d instanceof _0x19eda8)throw _0x24721d;throw console['warn'](_0x154d86(0x4a7),_0x24721d),new _0x4158de(_0x4158de[_0x154d86(0x67f)]['GenerativeAIWorkerCreationFailed'],{'label':_0x3945db,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x154d86(0x549)][_0x154d86(0x54f)]});}}[_0x57df12(0x490)](_0x5cf26d,_0x56c59d){const _0x559d3f=_0x57df12;if(this['localMediaStreams']['has'](_0x5cf26d))throw new _0x19eda8(_0x5623ec[_0x559d3f(0x5c1)],_0x559d3f(0x1ab));if(!this['audioContext'])throw new _0x19eda8(_0x5623ec[_0x559d3f(0x35f)],_0x559d3f(0x1a0));const _0x55c50d=new _0x49f175(this[_0x559d3f(0x549)][_0x559d3f(0x749)],_0x5cf26d,_0x56c59d,this['maxFps'],this[_0x559d3f(0x480)],this['configs'][_0x559d3f(0x545)]);return this['localMediaStreams']['set'](_0x5cf26d,_0x55c50d),this[_0x559d3f(0x549)][_0x559d3f(0x431)][_0x559d3f(0x534)](_0x55c50d),_0x55c50d[_0x559d3f(0x707)](),_0x55c50d;}[_0x57df12(0x57a)](_0x42e15d,_0x4197e4){const _0x465c10=_0x57df12;if(this[_0x465c10(0x723)][_0x465c10(0x245)](_0x42e15d))throw new _0x19eda8(_0x5623ec[_0x465c10(0x5c1)],_0x465c10(0x554));const _0x2271ca=new _0x44c126(this['configs'][_0x465c10(0x749)],_0x42e15d,_0x4197e4,this['configs'][_0x465c10(0x545)]);return this[_0x465c10(0x723)]['set'](_0x42e15d,_0x2271ca),this[_0x465c10(0x549)][_0x465c10(0x431)][_0x465c10(0x534)](_0x2271ca),_0x2271ca[_0x465c10(0x707)](),_0x2271ca;}['createPubSubTopic'](_0x15e487){const _0x1aa14b=_0x57df12;if(this[_0x1aa14b(0x558)][_0x1aa14b(0x245)](_0x15e487))throw new _0x19eda8(_0x5623ec['PubSubTopicAlreadyExists'],'PubSub\x20already\x20exists');const _0x4abc62=new _0x3b1b0a(this[_0x1aa14b(0x549)]['localNode'],_0x15e487,this[_0x1aa14b(0x549)][_0x1aa14b(0x545)]);return this[_0x1aa14b(0x558)]['set'](_0x15e487,_0x4abc62),this[_0x1aa14b(0x549)][_0x1aa14b(0x431)][_0x1aa14b(0x534)](_0x4abc62),_0x4abc62;}[_0x57df12(0x2e4)](_0x53845c,_0x25b70c,_0x78fe9f,_0x240d9c){const _0x624683=_0x57df12;this[_0x624683(0x787)][_0x624683(0x245)](_0x53845c)||this['remoteMediaStreams'][_0x624683(0x6dc)](_0x53845c,new Map());const _0x270e1e=this[_0x624683(0x787)]['get'](_0x53845c);if(_0x270e1e[_0x624683(0x245)](_0x25b70c))throw new _0x19eda8(_0x5623ec['RemoteMediaStreamAlreadyExists'],'Remote\x20MediaStream\x20already\x20exists');const _0x1f9153=new _0x205a3e(_0x53845c,'',''),_0x28375f=new _0x4ed7d4(this[_0x624683(0x549)][_0x624683(0x749)],_0x1f9153,_0x25b70c,_0x78fe9f,_0x240d9c,this[_0x624683(0x549)]['clusterId']);return _0x270e1e[_0x624683(0x6dc)](_0x25b70c,_0x28375f),this[_0x624683(0x549)][_0x624683(0x431)][_0x624683(0x534)](_0x28375f),_0x28375f;}[_0x57df12(0x510)](_0x3de9f8){const _0x447af1=_0x57df12,_0x40370a=Array['from'](this['objectStores'][_0x447af1(0x49e)]());return _0x3de9f8?_0x40370a['filter'](_0x3de9f8):_0x40370a;}[_0x57df12(0x267)](_0x21420a){const _0x526c08=_0x57df12,_0x195d33=Array[_0x526c08(0x779)](this[_0x526c08(0x48d)][_0x526c08(0x49e)]());return _0x21420a?_0x195d33[_0x526c08(0x49b)](_0x21420a):_0x195d33;}['getJobDispatchers'](_0x1e55da){const _0x5a399f=_0x57df12,_0x2b04bf=Array[_0x5a399f(0x779)](this[_0x5a399f(0x406)][_0x5a399f(0x49e)]());return _0x1e55da?_0x2b04bf[_0x5a399f(0x49b)](_0x1e55da):_0x2b04bf;}['getJobWorkers'](_0x5719c1){const _0x4ea87d=_0x57df12,_0x3d197b=Array['from'](this[_0x4ea87d(0x1a7)][_0x4ea87d(0x49e)]());return _0x5719c1?_0x3d197b['filter'](_0x5719c1):_0x3d197b;}[_0x57df12(0x47b)](_0x2b91b4){const _0x260f2d=_0x57df12,_0x1705b1=Array[_0x260f2d(0x779)](this['jobDispatchers'][_0x260f2d(0x49e)]())['filter'](_0x51f3cc=>_0x51f3cc instanceof _0x3706e3);return _0x2b91b4?_0x1705b1[_0x260f2d(0x49b)](_0x2b91b4):_0x1705b1;}[_0x57df12(0x224)](_0x9ddddf){const _0x197583=_0x57df12,_0x5b2908=Array[_0x197583(0x779)](this[_0x197583(0x1a7)][_0x197583(0x49e)]())[_0x197583(0x49b)](_0x429873=>_0x429873 instanceof _0x48b256);return _0x9ddddf?_0x5b2908['filter'](_0x9ddddf):_0x5b2908;}[_0x57df12(0x57e)](_0x5bc406){const _0x53e398=_0x57df12,_0x9219e7=Array[_0x53e398(0x779)](this[_0x53e398(0x723)][_0x53e398(0x49e)]());return _0x5bc406?_0x9219e7[_0x53e398(0x49b)](_0x5bc406):_0x9219e7;}[_0x57df12(0x6ee)](_0x5f5f3c){const _0x1a3366=_0x57df12,_0x2e42c3=Array['from'](this[_0x1a3366(0x558)][_0x1a3366(0x49e)]());return _0x5f5f3c?_0x2e42c3[_0x1a3366(0x49b)](_0x5f5f3c):_0x2e42c3;}[_0x57df12(0x3bc)](_0x35a6bd){const _0x1d1690=_0x57df12,_0x58fee9=Array[_0x1d1690(0x779)](this[_0x1d1690(0x787)][_0x1d1690(0x49e)]())['reduce']((_0x43e760,_0x14d84d)=>[..._0x43e760,...Array[_0x1d1690(0x779)](_0x14d84d[_0x1d1690(0x49e)]())],[]);return _0x35a6bd?_0x58fee9[_0x1d1690(0x49b)](_0x35a6bd):_0x58fee9;}['handleContentSystemEvents'](_0x5a93d4){const _0x359c9e=_0x57df12;switch(_0x5a93d4[_0x359c9e(0x68e)][_0x359c9e(0x3cb)]){case _0x3274d4[_0x359c9e(0x636)]:this[_0x359c9e(0x515)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4[_0x359c9e(0x3ac)]:this[_0x359c9e(0x2ff)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4[_0x359c9e(0x2f4)]:this[_0x359c9e(0x238)](_0x5a93d4['content']);break;case _0x3274d4[_0x359c9e(0x5d0)]:this[_0x359c9e(0x49f)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4[_0x359c9e(0x2d0)]:this[_0x359c9e(0x14d)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4[_0x359c9e(0x159)]:this[_0x359c9e(0x32e)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4['CloseObjectStoreBucket']:this[_0x359c9e(0x132)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4['CloseKeyValueDatabase']:this[_0x359c9e(0x25b)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4['UnsubscribeMediaStream']:this[_0x359c9e(0x1c4)](_0x5a93d4[_0x359c9e(0x68e)]);break;case _0x3274d4[_0x359c9e(0x704)]:this[_0x359c9e(0x48d)][_0x359c9e(0x351)](_0x5a93d4[_0x359c9e(0x68e)][_0x359c9e(0x52a)])?.[_0x359c9e(0x63b)](_0x5a93d4[_0x359c9e(0x579)]);break;case _0x3274d4['SendTransactionsDump']:this['keyValueDatabases'][_0x359c9e(0x351)](_0x5a93d4[_0x359c9e(0x68e)][_0x359c9e(0x52a)])?.[_0x359c9e(0x262)](_0x5a93d4[_0x359c9e(0x579)],_0x5a93d4[_0x359c9e(0x68e)]['transactions']);break;case _0x3274d4[_0x359c9e(0x312)]:this[_0x359c9e(0x48d)][_0x359c9e(0x351)](_0x5a93d4[_0x359c9e(0x68e)][_0x359c9e(0x52a)])?.['sendTransactionsValue'](_0x5a93d4[_0x359c9e(0x579)],_0x5a93d4['content'][_0x359c9e(0x371)]);break;case _0x3274d4[_0x359c9e(0x43c)]:this[_0x359c9e(0x549)][_0x359c9e(0x431)]['notifyCluster'](_0x359c9e(0x162),{'label':_0x5a93d4[_0x359c9e(0x68e)]['label'],'trackKinds':_0x5a93d4[_0x359c9e(0x68e)][_0x359c9e(0x1a8)]});}}[_0x57df12(0x30c)]({content:_0x224d7b}){const _0x4fb505=_0x57df12;switch(_0x224d7b['type']){case _0x309288['NodeJoin']:this[_0x4fb505(0x4ff)](_0x224d7b),this['notifyObjectStoreOfNodeJoin'](_0x224d7b);break;case _0x309288[_0x4fb505(0x16f)]:this[_0x4fb505(0x765)](_0x224d7b),this[_0x4fb505(0x690)](_0x224d7b);}}[_0x57df12(0x20d)](_0x5b8075){const _0x15a697=_0x57df12;switch(_0x5b8075['content'][_0x15a697(0x3cb)]){case _0x111869['SubscribeMediaStream']:this[_0x15a697(0x201)](_0x5b8075['sourceId'],_0x5b8075[_0x15a697(0x68e)]);break;case _0x111869[_0x15a697(0x325)]:this[_0x15a697(0x662)](_0x5b8075['sourceId'],_0x5b8075[_0x15a697(0x68e)]);break;case _0x111869[_0x15a697(0x1aa)]:this[_0x15a697(0x4ce)](_0x5b8075[_0x15a697(0x579)],_0x5b8075[_0x15a697(0x68e)]);}}[_0x57df12(0x1c4)](_0x558292){const _0x33d063=_0x57df12;if(0x0===_0x558292[_0x33d063(0x69b)])this[_0x33d063(0x787)][_0x33d063(0x351)](_0x558292[_0x33d063(0x493)])?.[_0x33d063(0x351)](_0x558292[_0x33d063(0x52a)])?.[_0x33d063(0x6f2)]();else{const _0x16536a=this[_0x33d063(0x787)][_0x33d063(0x351)](_0x558292[_0x33d063(0x493)])?.[_0x33d063(0x351)](_0x558292['label']);if(!_0x16536a)return;_0x558292['trackKinds'][_0x33d063(0x3bd)](_0x3cd440=>_0x16536a[_0x33d063(0x363)](_0x3cd440));}}[_0x57df12(0x515)](_0x34ff07){const _0x8b639b=_0x57df12,{label:_0x2eec2b,ownerId:_0xb907d2,stream:{streamId:_0xb01947,availableTrackKinds:_0x4ec2b5}}=_0x34ff07;if(this[_0x8b639b(0x787)][_0x8b639b(0x351)](_0xb907d2)?.['has'](_0x2eec2b))return void _0x287307[_0x8b639b(0x60a)](_0x54918a[_0x8b639b(0x3ed)],_0x8b639b(0x554),_0xb01947);const _0x84902d=this['createRemoteMediaStream'](_0xb907d2,_0x2eec2b,_0xb01947,_0x4ec2b5);this['configs'][_0x8b639b(0x431)]['notifyCluster'](_0x8b639b(0x4c2),{'ownerId':_0xb907d2,'stream':_0x84902d});}[_0x57df12(0x2ff)]({ownerId:_0x54f046,label:_0x4b7984}){const _0x1a367e=_0x57df12;this[_0x1a367e(0x522)](_0x54f046,_0x4b7984),this[_0x1a367e(0x549)][_0x1a367e(0x431)][_0x1a367e(0x4e0)](_0x1a367e(0x367),{'ownerId':_0x54f046,'label':_0x4b7984});}[_0x57df12(0x14d)](_0x86104a){const _0x35e9ef=_0x57df12;this[_0x35e9ef(0x4c8)](_0x86104a[_0x35e9ef(0x52a)]);}[_0x57df12(0x238)](_0x4284fb){const _0xe272d4=_0x57df12;this['removeJobDispatcher'](_0x4284fb[_0xe272d4(0x52a)]);}['handleCloseJobWorker'](_0x41bcc4){const _0xcd0239=_0x57df12;this[_0xcd0239(0x3d6)](_0x41bcc4['label']);}[_0x57df12(0x132)](_0x5de999){const _0x1e43a5=_0x57df12;this[_0x1e43a5(0x663)](_0x5de999['label']);}[_0x57df12(0x32e)](_0x110370){const _0x1652c6=_0x57df12;this[_0x1652c6(0x1f5)](_0x110370[_0x1652c6(0x52a)]);}[_0x57df12(0x25b)](_0x3ad145){const _0x5ac8f1=_0x57df12;this['removeKeyValueDatabase'](_0x3ad145[_0x5ac8f1(0x52a)]);}[_0x57df12(0x201)](_0x52f9ae,_0x12af00){const _0x1a96d1=_0x57df12,{ownerId:_0xdf7ad9,label:_0x1966fe}=_0x12af00;let _0x383107;_0x383107=_0xdf7ad9!==this[_0x1a96d1(0x549)]['localNode'][_0x1a96d1(0x5a9)]()?this[_0x1a96d1(0x787)][_0x1a96d1(0x351)](_0xdf7ad9)[_0x1a96d1(0x351)](_0x1966fe):this[_0x1a96d1(0x723)][_0x1a96d1(0x351)](_0x1966fe),_0x383107[_0x1a96d1(0x4cd)](_0x52f9ae,_0x12af00[_0x1a96d1(0x6c6)])[_0x1a96d1(0x76e)](_0x12af00,_0x383107[_0x1a96d1(0x673)]());}['handleUpdateMediaStream'](_0xdcd99,_0xb01934){const _0x1e1ba6=_0x57df12,{ownerId:_0x3c58c3,label:_0x226e8a}=_0xb01934;let _0x3766c3;_0x3766c3=_0x3c58c3!==this['configs'][_0x1e1ba6(0x749)][_0x1e1ba6(0x5a9)]()?this['remoteMediaStreams'][_0x1e1ba6(0x351)](_0x3c58c3)['get'](_0x226e8a):this[_0x1e1ba6(0x723)][_0x1e1ba6(0x351)](_0x226e8a),_0x3766c3[_0x1e1ba6(0x4cd)](_0xdcd99,_0xb01934[_0x1e1ba6(0x6c6)])[_0x1e1ba6(0x4be)](_0xb01934);}[_0x57df12(0x4ce)](_0x59196b,_0x1eb89d){const _0x33f007=_0x57df12,{ownerId:_0x4e0ae5,label:_0x3f8350}=_0x1eb89d;let _0x3510c7;_0x3510c7=_0x4e0ae5!==this[_0x33f007(0x549)][_0x33f007(0x749)][_0x33f007(0x5a9)]()?this[_0x33f007(0x787)][_0x33f007(0x351)](_0x4e0ae5)['get'](_0x3f8350):this[_0x33f007(0x723)][_0x33f007(0x351)](_0x3f8350),_0x3510c7[_0x33f007(0x4cd)](_0x59196b)[_0x33f007(0x246)](_0x1eb89d);}[_0x57df12(0x4ff)]({id:_0x45a171}){const _0x316dbc=_0x57df12;this[_0x316dbc(0x57e)]()[_0x316dbc(0x3bd)](_0x2f126a=>{const _0x420eb3=_0x316dbc;_0x2f126a[_0x420eb3(0x707)](_0x45a171);});}[_0x57df12(0x765)]({id:_0x499612}){const _0x2c94f0=_0x57df12;this[_0x2c94f0(0x3bc)](_0x38a6d1=>_0x38a6d1['getOwnerId']()===_0x499612)['forEach'](_0x3dfaad=>{const _0x12c8a1=_0x2c94f0;this[_0x12c8a1(0x522)](_0x3dfaad[_0x12c8a1(0x778)](),_0x3dfaad['getLabel']());});}[_0x57df12(0x1e8)]({id:_0x1ea41a}){const _0x4b61ca=_0x57df12;this[_0x4b61ca(0x75c)]['forEach'](_0x3b84fd=>_0x3b84fd[_0x4b61ca(0x32d)](_0x1ea41a));}[_0x57df12(0x690)]({id:_0x273100}){const _0x449a6f=_0x57df12;this[_0x449a6f(0x75c)][_0x449a6f(0x3bd)](_0x34755e=>_0x34755e['handleNodeLeave'](_0x273100));}['removeJobDispatcher'](_0x4a329a){const _0x2834c1=_0x57df12;if(!this[_0x2834c1(0x406)][_0x2834c1(0x245)](_0x4a329a))throw new _0x19eda8(_0x5623ec[_0x2834c1(0x2a6)],_0x2834c1(0x4ae));const _0x59234f=this[_0x2834c1(0x406)][_0x2834c1(0x351)](_0x4a329a);this[_0x2834c1(0x406)][_0x2834c1(0x403)](_0x4a329a),_0x59234f[_0x2834c1(0x6f2)](),this['configs'][_0x2834c1(0x431)][_0x2834c1(0x679)](_0x59234f);}[_0x57df12(0x3d6)](_0x1eba43){const _0x5504c2=_0x57df12;if(!this[_0x5504c2(0x1a7)]['has'](_0x1eba43))throw new _0x19eda8(_0x5623ec[_0x5504c2(0x239)],_0x5504c2(0x2cd));const _0x42e2b4=this[_0x5504c2(0x1a7)][_0x5504c2(0x351)](_0x1eba43);this['jobWorkers'][_0x5504c2(0x403)](_0x1eba43),_0x42e2b4[_0x5504c2(0x6f2)](),this[_0x5504c2(0x549)][_0x5504c2(0x431)]['unregisterSystemSource'](_0x42e2b4);}['removeObjectStore'](_0x3b7ed9){const _0x3b2d96=_0x57df12;if(!this[_0x3b2d96(0x75c)]['has'](_0x3b7ed9))throw new _0x19eda8(_0x5623ec[_0x3b2d96(0x35d)],_0x3b2d96(0x621));const _0x33cf65=this['objectStores'][_0x3b2d96(0x351)](_0x3b7ed9);this['objectStores'][_0x3b2d96(0x403)](_0x3b7ed9),_0x33cf65['destroy'](),this['configs']['mediator'][_0x3b2d96(0x679)](_0x33cf65);}[_0x57df12(0x1f5)](_0x55fbf3){const _0x48f85e=_0x57df12;if(!this[_0x48f85e(0x558)][_0x48f85e(0x245)](_0x55fbf3))throw new _0x19eda8(_0x5623ec[_0x48f85e(0x2a0)],_0x48f85e(0x621));const _0x7a9a65=this['pubSubTopics']['get'](_0x55fbf3);this[_0x48f85e(0x558)][_0x48f85e(0x403)](_0x55fbf3),_0x7a9a65[_0x48f85e(0x6f2)](),this['configs']['mediator'][_0x48f85e(0x679)](_0x7a9a65);}[_0x57df12(0x456)](_0x34ac0d){const _0x18573e=_0x57df12;if(!this['keyValueDatabases'][_0x18573e(0x245)](_0x34ac0d))throw new _0x19eda8(_0x5623ec[_0x18573e(0x59e)],_0x18573e(0x5b1));const _0x1c400e=this[_0x18573e(0x48d)][_0x18573e(0x351)](_0x34ac0d);this[_0x18573e(0x48d)][_0x18573e(0x403)](_0x34ac0d),_0x1c400e[_0x18573e(0x6f2)](),this[_0x18573e(0x549)]['mediator'][_0x18573e(0x679)](_0x1c400e);}['removeLocalMediaStream'](_0x285aaa){const _0x3427a9=_0x57df12;if(!this[_0x3427a9(0x723)][_0x3427a9(0x245)](_0x285aaa))throw new _0x4158de(_0x4158de[_0x3427a9(0x67f)][_0x3427a9(0x5f0)],{'label':_0x285aaa,'localId':this[_0x3427a9(0x549)]['localNode'][_0x3427a9(0x5a9)]()});const _0x2d8d7e=this[_0x3427a9(0x723)][_0x3427a9(0x351)](_0x285aaa);this[_0x3427a9(0x549)]['mediator'][_0x3427a9(0x679)](_0x2d8d7e),_0x2d8d7e[_0x3427a9(0x6f2)](),this['localMediaStreams']['delete'](_0x285aaa);}[_0x57df12(0x522)](_0x4a1687,_0x33691e){const _0x1611b5=_0x57df12;if(!this[_0x1611b5(0x787)]['has'](_0x4a1687))throw new _0x4158de(_0x4158de[_0x1611b5(0x67f)]['NodeDoesNotExist'],{'nodeId':_0x4a1687,'localId':this[_0x1611b5(0x549)][_0x1611b5(0x749)][_0x1611b5(0x5a9)]()});const _0x4bbfea=this[_0x1611b5(0x787)][_0x1611b5(0x351)](_0x4a1687);if(!_0x4bbfea[_0x1611b5(0x245)](_0x33691e))throw new _0x4158de(_0x4158de[_0x1611b5(0x67f)][_0x1611b5(0x65a)],{'nodeId':_0x4a1687,'label':_0x33691e,'localId':this[_0x1611b5(0x549)]['localNode'][_0x1611b5(0x5a9)]()});const _0x25c971=_0x4bbfea[_0x1611b5(0x351)](_0x33691e);this[_0x1611b5(0x549)][_0x1611b5(0x431)][_0x1611b5(0x679)](_0x25c971),_0x25c971[_0x1611b5(0x6f2)](),_0x4bbfea[_0x1611b5(0x403)](_0x33691e);}}var _0x3a7d37,_0x8649c5,_0x6d4397;!function(_0x31320d){const _0x5ae4df=_0x57df12;_0x31320d['STVolatility']=_0x5ae4df(0x213),_0x31320d[_0x5ae4df(0x33c)]=_0x5ae4df(0x5cd),_0x31320d[_0x5ae4df(0x305)]=_0x5ae4df(0x602),_0x31320d['Bitrate']='bitrate',_0x31320d[_0x5ae4df(0x359)]=_0x5ae4df(0x542),_0x31320d[_0x5ae4df(0x56a)]=_0x5ae4df(0x3ad),_0x31320d[_0x5ae4df(0x64e)]=_0x5ae4df(0x4ef),_0x31320d['AudioVideoDelay']=_0x5ae4df(0x26e);}(_0x3a7d37||(_0x3a7d37={})),function(_0x506ed3){const _0x4a57e4=_0x57df12;_0x506ed3[_0x4a57e4(0x501)]='cpu.cycle',_0x506ed3[_0x4a57e4(0x305)]=_0x4a57e4(0x703),_0x506ed3[_0x4a57e4(0x7a7)]=_0x4a57e4(0x4a1),_0x506ed3[_0x4a57e4(0x56a)]='cpu.fps',_0x506ed3[_0x4a57e4(0x494)]=_0x4a57e4(0x6fc),_0x506ed3[_0x4a57e4(0x359)]='bandwidth.jitter',_0x506ed3[_0x4a57e4(0x64e)]=_0x4a57e4(0x6a1);}(_0x8649c5||(_0x8649c5={})),function(_0x10791e){const _0x33b1da=_0x57df12;_0x10791e[_0x10791e[_0x33b1da(0x4ab)]=0x0]=_0x33b1da(0x4ab);}(_0x6d4397||(_0x6d4397={}));const _0x36004e=[{'type':_0x3a7d37[_0x57df12(0x4ec)],'reportMetric':_0x16a35c=>_0x16a35c[_0x57df12(0x4ec)],'maxThreshold':2.5},{'type':_0x3a7d37[_0x57df12(0x33c)],'reportMetric':_0x455e15=>_0x455e15[_0x57df12(0x33c)],'maxThreshold':0.5}],_0x511033=[{'type':_0x3a7d37[_0x57df12(0x305)],'reportMetric':_0x24a12a=>{const _0x3ae58a=_0x57df12,_0x45fe20=0x3e8/_0x24a12a[_0x3ae58a(0x6af)];return _0x24a12a['timePerFrame']/_0x45fe20;},'maxThreshold':0.75},{'type':_0x3a7d37[_0x57df12(0x494)],'reportMetric':_0x3fbb8d=>{const _0x428d80=_0x57df12,_0x2f3f79=_0x3fbb8d[_0x428d80(0x6af)]*_0x3fbb8d[_0x428d80(0x582)]*_0x3fbb8d[_0x428d80(0x247)]*0.12;return _0x3fbb8d[_0x428d80(0x12c)]/_0x2f3f79;},'minThreshold':0.25},{'type':_0x3a7d37[_0x57df12(0x359)],'reportMetric':_0xf75a42=>_0xf75a42['jitter'],'maxThreshold':0.6},{'type':_0x3a7d37[_0x57df12(0x56a)],'reportMetric':_0x172465=>_0x172465[_0x57df12(0x6af)],'minThreshold':0xa}],_0x34116a=[{'type':_0x3a7d37[_0x57df12(0x359)],'reportMetric':_0x1f28ae=>_0x1f28ae[_0x57df12(0x542)],'maxThreshold':0.6}],_0xf2d265=[{'type':_0x3a7d37[_0x57df12(0x64e)],'reportMetric':_0x424238=>_0x424238[_0x57df12(0x289)],'maxThreshold':0x1/0x0}],_0x48a8e6=[{'type':_0x3a7d37['AudioVideoDelay'],'reportMetric':_0x5a5529=>_0x5a5529[_0x57df12(0x7a7)],'maxThreshold':0x12c}],_0x14c948=[{'type':_0x8649c5['CPUCycle'],'issues':[{'type':_0x3a7d37['STVolatility'],'threshold':0x5},{'type':_0x3a7d37[_0x57df12(0x33c)],'threshold':0x5}]},{'type':_0x8649c5['TimePerFrame'],'issues':[{'type':_0x3a7d37['TimePerFrame'],'threshold':0x3}]},{'type':_0x8649c5['AudioVideoDelay'],'issues':[{'type':_0x3a7d37['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x8649c5[_0x57df12(0x56a)],'issues':[{'type':_0x3a7d37[_0x57df12(0x56a)],'threshold':0x3}]},{'type':_0x8649c5[_0x57df12(0x494)],'issues':[{'type':_0x3a7d37[_0x57df12(0x494)],'threshold':0x3}]},{'type':_0x8649c5[_0x57df12(0x359)],'issues':[{'type':_0x3a7d37['Jitter'],'threshold':0x3}]},{'type':_0x8649c5[_0x57df12(0x64e)],'issues':[{'type':_0x3a7d37[_0x57df12(0x64e)],'threshold':0x3}]}];var _0x285491,_0x592e22;!function(_0x5f57f5){const _0x4179ee=_0x57df12;_0x5f57f5[_0x5f57f5['StreamReport']=0x0]=_0x4179ee(0x276),_0x5f57f5[_0x5f57f5['LocalReport']=0x1]=_0x4179ee(0x27e);}(_0x285491||(_0x285491={}));class _0x3a3d72{['configs'];['issues']=[];['systemTopic'];constructor(_0x1bef4e){const _0x55fc31=_0x57df12;this[_0x55fc31(0x549)]=_0x1bef4e,this[_0x55fc31(0x549)][_0x55fc31(0x431)][_0x55fc31(0x534)](this);}[_0x57df12(0x432)](_0x480d6b){const _0x3f5156=_0x57df12;this[_0x3f5156(0x235)]=_0x480d6b;}[_0x57df12(0x446)](){const _0xf908df=_0x57df12;this[_0xf908df(0x235)]=void 0x0;}[_0x57df12(0x42b)](){const _0x46b18a=_0x57df12;this['configs'][_0x46b18a(0x431)][_0x46b18a(0x679)](this),this[_0x46b18a(0x383)]=[];}[_0x57df12(0x1a9)](_0x343d7d){const _0x54ea4e=_0x57df12;switch(_0x343d7d[_0x54ea4e(0x68e)]['type']){case _0x285491[_0x54ea4e(0x27e)]:this['detectLocalIssues'](_0x343d7d['content'][_0x54ea4e(0x6de)]);break;case _0x285491[_0x54ea4e(0x276)]:this[_0x54ea4e(0x372)](_0x343d7d[_0x54ea4e(0x68e)]['data']);}}[_0x57df12(0x48c)](_0x116f40,_0x39c05e,_0x1a2aa8,_0x3fd4d9){const _0x1a3637=_0x57df12,_0x517d13=_0x14c948['find'](_0x3b8210=>_0x3b8210['issues'][_0x1a3637(0x489)](_0x19fdcb=>_0x19fdcb['type']===_0x116f40));_0x3fd4d9>=_0x517d13[_0x1a3637(0x383)][_0x1a3637(0x775)](_0x55b5e6=>_0x55b5e6[_0x1a3637(0x3cb)]===_0x116f40)[_0x1a3637(0x64d)]&&(this[_0x1a3637(0x656)](_0x517d13[_0x1a3637(0x3cb)],_0x39c05e,_0x1a2aa8),this[_0x1a3637(0x383)]=this[_0x1a3637(0x383)]['filter'](_0x4bcb40=>!(_0x4bcb40[_0x1a3637(0x3cb)]===_0x116f40&&_0x4bcb40[_0x1a3637(0x4d3)]===_0x39c05e&&_0x4bcb40['origin']===_0x1a2aa8)));}['detectLocalIssues'](_0x21a7e9){const _0x791697=_0x57df12;_0x36004e[_0x791697(0x3bd)](_0x469cfd=>{const _0x2e1c3c=_0x791697,_0x2b771f=_0x469cfd['reportMetric'](_0x21a7e9);_0x469cfd['maxThreshold']&&_0x2b771f>_0x469cfd[_0x2e1c3c(0x4e7)]&&this[_0x2e1c3c(0x264)](_0x469cfd[_0x2e1c3c(0x3cb)],this[_0x2e1c3c(0x549)][_0x2e1c3c(0x749)][_0x2e1c3c(0x5a9)](),_0x215fe2[_0x2e1c3c(0x4fa)],_0x2b771f),_0x469cfd[_0x2e1c3c(0x138)]&&_0x2b771f<_0x469cfd[_0x2e1c3c(0x138)]&&this[_0x2e1c3c(0x264)](_0x469cfd['type'],this[_0x2e1c3c(0x549)]['localNode']['getId'](),_0x215fe2[_0x2e1c3c(0x4fa)],_0x2b771f);});}['detectStreamIssues'](_0x1d0503){const _0x9b77ab=_0x57df12;let _0x198809=[];switch(_0x1d0503[_0x9b77ab(0x64b)]){case _0x215fe2[_0x9b77ab(0x4fa)]:_0x198809=_0xf2d265;break;case _0x215fe2[_0x9b77ab(0x7a5)]:_0x198809=_0x48a8e6;}_0x1d0503['video']&&this[_0x9b77ab(0x71f)](_0x1d0503[_0x9b77ab(0x4d3)],_0x215fe2[_0x9b77ab(0x4fa)],_0x1d0503['video']),_0x1d0503[_0x9b77ab(0x131)]&&this[_0x9b77ab(0x1b5)](_0x1d0503[_0x9b77ab(0x4d3)],_0x215fe2['Sender'],_0x1d0503[_0x9b77ab(0x131)]),_0x198809['forEach'](_0x49b3b6=>{const _0x2092af=_0x9b77ab,_0x32848b=_0x49b3b6[_0x2092af(0x4f5)](_0x1d0503);_0x49b3b6[_0x2092af(0x4e7)]&&_0x32848b>_0x49b3b6[_0x2092af(0x4e7)]&&this['addIssue'](_0x49b3b6[_0x2092af(0x3cb)],_0x1d0503[_0x2092af(0x4d3)],_0x215fe2['Sender'],_0x32848b),_0x49b3b6['minThreshold']&&_0x32848b<_0x49b3b6[_0x2092af(0x138)]&&this['addIssue'](_0x49b3b6[_0x2092af(0x3cb)],_0x1d0503['nodeId'],_0x215fe2[_0x2092af(0x4fa)],_0x32848b);});}[_0x57df12(0x71f)](_0x322fdd,_0xd51aba,_0xcc3e60){const _0x572fde=_0x57df12;0x0!==_0xcc3e60['bitrate']&&_0x511033[_0x572fde(0x3bd)](_0x1241cb=>{const _0x435a43=_0x572fde,_0x4774ad=_0x1241cb[_0x435a43(0x4f5)](_0xcc3e60);_0x1241cb['maxThreshold']&&_0x4774ad>_0x1241cb[_0x435a43(0x4e7)]&&this[_0x435a43(0x264)](_0x1241cb['type'],_0x322fdd,_0xd51aba,_0x4774ad,_0x435a43(0x176)),_0x1241cb[_0x435a43(0x138)]&&_0x4774ad<_0x1241cb['minThreshold']&&this[_0x435a43(0x264)](_0x1241cb[_0x435a43(0x3cb)],_0x322fdd,_0xd51aba,_0x4774ad,'video');});}[_0x57df12(0x1b5)](_0x2b78a2,_0x1a07d6,_0x268683){const _0x619b81=_0x57df12;0x0!==_0x268683[_0x619b81(0x12c)]&&_0x34116a[_0x619b81(0x3bd)](_0x2b7e22=>{const _0x63a28c=_0x619b81,_0x475c1e=_0x2b7e22[_0x63a28c(0x4f5)](_0x268683);_0x2b7e22[_0x63a28c(0x4e7)]&&_0x475c1e>_0x2b7e22[_0x63a28c(0x4e7)]&&this[_0x63a28c(0x264)](_0x2b7e22[_0x63a28c(0x3cb)],_0x2b78a2,_0x1a07d6,_0x475c1e,'audio'),_0x2b7e22[_0x63a28c(0x138)]&&_0x475c1e<_0x2b7e22[_0x63a28c(0x138)]&&this[_0x63a28c(0x264)](_0x2b7e22[_0x63a28c(0x3cb)],_0x2b78a2,_0x1a07d6,_0x475c1e,_0x63a28c(0x131));});}[_0x57df12(0x264)](_0x5d6148,_0x544eeb,_0x46eb97,_0x2c302b,_0x481275){const _0x32df0b=_0x57df12;_0x287307[_0x32df0b(0x60a)](_0x54918a['Detection'],_0x32df0b(0x5d2)+_0x5d6148,_0x5d6148,_0x2c302b),_0x287307[_0x32df0b(0x2e6)](_0x32df0b(0x39e),{'clusterId':this[_0x32df0b(0x549)][_0x32df0b(0x545)],'nodeId':this[_0x32df0b(0x549)][_0x32df0b(0x749)][_0x32df0b(0x5a9)](),'nodeType':this['configs'][_0x32df0b(0x749)]['type'],'remoteId':_0x544eeb,'data':{'type':_0x5d6148,'value':_0x2c302b,'kind':_0x481275}}),this[_0x32df0b(0x383)]=this[_0x32df0b(0x383)][_0x32df0b(0x49b)](_0x5effd3=>Date[_0x32df0b(0x68a)]()-_0x5effd3[_0x32df0b(0x47a)]<0x7530),this[_0x32df0b(0x383)][_0x32df0b(0x374)]({'timestamp':Date[_0x32df0b(0x68a)](),'type':_0x5d6148,'nodeId':_0x544eeb,'origin':_0x46eb97,'value':_0x2c302b,'kind':_0x481275});const _0x1735af=this[_0x32df0b(0x383)][_0x32df0b(0x49b)](_0x137aed=>_0x137aed[_0x32df0b(0x3cb)]===_0x5d6148&&_0x137aed[_0x32df0b(0x4d3)]===_0x544eeb&&_0x137aed[_0x32df0b(0x64b)]===_0x46eb97)[_0x32df0b(0x5fc)];this[_0x32df0b(0x48c)](_0x5d6148,_0x544eeb,_0x46eb97,_0x1735af);}[_0x57df12(0x656)](_0x59f623,_0x2bb8b2,_0x58afe5){const _0x39bb40=_0x57df12;_0x287307['log'](_0x54918a[_0x39bb40(0x68f)],_0x39bb40(0x504)+_0x59f623),_0x287307[_0x39bb40(0x2e6)]('problem',{'clusterId':this[_0x39bb40(0x549)][_0x39bb40(0x545)],'nodeId':this[_0x39bb40(0x549)][_0x39bb40(0x749)][_0x39bb40(0x5a9)](),'nodeType':this['configs'][_0x39bb40(0x749)]['type'],'remoteId':_0x2bb8b2,'data':{'type':_0x59f623}}),this[_0x39bb40(0x235)]?.[_0x39bb40(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55['Detection'],'content':{'type':_0x6d4397[_0x39bb40(0x4ab)],'data':{'timestamp':Date[_0x39bb40(0x68a)](),'nodeId':_0x2bb8b2,'origin':_0x215fe2[_0x39bb40(0x4fa)],'type':_0x59f623}}});}}class _0xf6c973 extends _0x3963b9{[_0x57df12(0x3cb)]=_0x36cc4b[_0x57df12(0x4d9)][_0x57df12(0x53d)];}class _0x59dfc2 extends _0xf6c973{[_0x57df12(0x235)];[_0x57df12(0x792)]=Date[_0x57df12(0x68a)]();[_0x57df12(0x1a6)];[_0x57df12(0x734)];['close'](){const _0x4fa55c=_0x57df12;this['updateDebounceTimeout']&&(clearTimeout(this[_0x4fa55c(0x1a6)]),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x4fa55c(0x792)]=Date['now'](),super[_0x4fa55c(0x42b)]();}[_0x57df12(0x432)](_0x1ac462){const _0x2c3cfa=_0x57df12;this[_0x2c3cfa(0x235)]=_0x1ac462;}[_0x57df12(0x446)](){const _0x5defc4=_0x57df12;delete this[_0x5defc4(0x235)];}[_0x57df12(0x11c)](_0x601fac){const _0x59cc09=_0x57df12;!this[_0x59cc09(0x1a6)]&&this['rank']&&this[_0x59cc09(0x235)][_0x59cc09(0x707)]({'sourceId':this['id'],'destinationIds':[_0x601fac],'propagate':!0x0,'messageType':_0x769e55[_0x59cc09(0x434)],'content':{'type':_0x309288[_0x59cc09(0x36f)],'id':this['id'],'metaData':{'type':this[_0x59cc09(0x3cb)]},'rank':this[_0x59cc09(0x576)](),'remoteConnections':Array[_0x59cc09(0x779)](this[_0x59cc09(0x17a)]),'version':this['currentVersion']}});}[_0x57df12(0x78f)](_0x106224){const _0x5d94e7=_0x57df12;this['remoteConnections'][_0x5d94e7(0x245)](_0x106224)||(this[_0x5d94e7(0x17a)][_0x5d94e7(0x785)](_0x106224),this[_0x5d94e7(0x13d)](),this[_0x5d94e7(0x2e5)](!0x0));}[_0x57df12(0x2b2)](_0x21c334){const _0xc4b73=_0x57df12;this['remoteConnections'][_0xc4b73(0x245)](_0x21c334)&&(this[_0xc4b73(0x17a)][_0xc4b73(0x403)](_0x21c334),this[_0xc4b73(0x13d)](),this[_0xc4b73(0x2e5)](!0x0));}[_0x57df12(0x799)](){const _0x2e94d8=_0x57df12;return this[_0x2e94d8(0x792)];}[_0x57df12(0x6f6)](_0x5c174e,_0x1f6bea=!0x0){const _0x393adf=_0x57df12;this['rank']!==_0x5c174e&&(this[_0x393adf(0x412)]=_0x5c174e,_0x1f6bea&&(this[_0x393adf(0x13d)](),this[_0x393adf(0x2e5)]()));}[_0x57df12(0x13d)](){const _0x59edfc=_0x57df12;this[_0x59edfc(0x792)]=Date[_0x59edfc(0x68a)]();}[_0x57df12(0x2e5)](_0x58dd34=!0x1){const _0x3b928d=_0x57df12;if(this[_0x3b928d(0x412)]){if(this[_0x3b928d(0x734)]||(this[_0x3b928d(0x734)]=Date[_0x3b928d(0x68a)]()),this[_0x3b928d(0x1a6)]){if(Date[_0x3b928d(0x68a)]()-this[_0x3b928d(0x734)]>0x2328)return;clearTimeout(this[_0x3b928d(0x1a6)]);}this[_0x3b928d(0x1a6)]=setTimeout(()=>{const _0x46ec23=_0x3b928d;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this[_0x46ec23(0x235)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x769e55[_0x46ec23(0x434)],'content':{'type':_0x58dd34?_0x309288[_0x46ec23(0x633)]:_0x309288[_0x46ec23(0x36f)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x46ec23(0x576)](),'remoteConnections':Array[_0x46ec23(0x779)](this[_0x46ec23(0x17a)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x2b2837 extends _0x205a3e{[_0x57df12(0x235)];[_0x57df12(0x792)]=Date[_0x57df12(0x68a)]();[_0x57df12(0x1a6)];[_0x57df12(0x734)];[_0x57df12(0x42b)](){const _0x458251=_0x57df12;this[_0x458251(0x1a6)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x458251(0x1a6)]),delete this[_0x458251(0x734)],this[_0x458251(0x792)]=Date[_0x458251(0x68a)](),super['close']();}['registerSystemPublisher'](_0x56970){this['systemTopic']=_0x56970;}[_0x57df12(0x446)](){const _0x1a07a6=_0x57df12;delete this[_0x1a07a6(0x235)];}[_0x57df12(0x11c)](_0x225f0c){const _0x33ca8a=_0x57df12;!this[_0x33ca8a(0x1a6)]&&this[_0x33ca8a(0x412)]&&this[_0x33ca8a(0x235)][_0x33ca8a(0x707)]({'sourceId':this['id'],'destinationIds':[_0x225f0c],'propagate':!0x0,'messageType':_0x769e55['Node'],'content':{'type':_0x309288[_0x33ca8a(0x36f)],'id':this['id'],'metaData':{'type':this[_0x33ca8a(0x3cb)],'displayName':this[_0x33ca8a(0x1cb)](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x33ca8a(0x779)](this[_0x33ca8a(0x17a)]),'version':this[_0x33ca8a(0x792)]}});}[_0x57df12(0x78f)](_0x33a841){const _0x400157=_0x57df12;this['remoteConnections'][_0x400157(0x245)](_0x33a841)||(this['remoteConnections'][_0x400157(0x785)](_0x33a841),this['incrementVersion'](),this[_0x400157(0x2e5)](!0x0));}['removeRemoteConnection'](_0x18798b){const _0x1427da=_0x57df12;this[_0x1427da(0x17a)][_0x1427da(0x245)](_0x18798b)&&(this[_0x1427da(0x17a)]['delete'](_0x18798b),this[_0x1427da(0x13d)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x1636c8=_0x57df12;return this[_0x1636c8(0x792)];}[_0x57df12(0x377)](_0x463ed0){const _0x103287=_0x57df12;this[_0x103287(0x31a)]!==_0x463ed0&&(this[_0x103287(0x31a)]=_0x463ed0,this[_0x103287(0x13d)](),this[_0x103287(0x2e5)]());}['setEmail'](_0x5c4342){const _0x304f02=_0x57df12;this[_0x304f02(0x40e)]!==_0x5c4342&&(this[_0x304f02(0x40e)]=_0x5c4342,this[_0x304f02(0x13d)](),this[_0x304f02(0x2e5)]());}[_0x57df12(0x6f6)](_0x3050f9,_0x2a9410=!0x0){const _0xb215a3=_0x57df12;this[_0xb215a3(0x412)]!==_0x3050f9&&(this[_0xb215a3(0x412)]=_0x3050f9,_0x2a9410&&(this[_0xb215a3(0x13d)](),this['publishUserUpdate']()));}[_0x57df12(0x13d)](){const _0x2e371d=_0x57df12;this[_0x2e371d(0x792)]=Date[_0x2e371d(0x68a)]();}['publishUserUpdate'](_0x55d68e=!0x1){const _0x457107=_0x57df12;if(this[_0x457107(0x412)]){if(this[_0x457107(0x734)]||(this[_0x457107(0x734)]=Date[_0x457107(0x68a)]()),this[_0x457107(0x1a6)]){if(Date[_0x457107(0x68a)]()-this[_0x457107(0x734)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x457107(0x1a6)]=setTimeout(()=>{const _0x2b12cd=_0x457107;delete this['lastUpdated'],delete this[_0x2b12cd(0x1a6)],this[_0x2b12cd(0x235)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x769e55['Node'],'content':{'type':_0x55d68e?_0x309288[_0x2b12cd(0x633)]:_0x309288[_0x2b12cd(0x36f)],'id':this['id'],'metaData':{'type':this[_0x2b12cd(0x3cb)],'displayName':this['getDisplayName'](),'email':this[_0x2b12cd(0x5b5)]()},'rank':this[_0x2b12cd(0x576)](),'remoteConnections':Array[_0x2b12cd(0x779)](this[_0x2b12cd(0x17a)]),'version':this[_0x2b12cd(0x792)]}});},0x3e8);}}}class _0x878cdc{['id'];[_0x57df12(0x67d)];[_0x57df12(0x54f)];['agentConfig'];[_0x57df12(0x3cb)]=_0x36cc4b[_0x57df12(0x4d9)][_0x57df12(0x53d)];['lastCapacityReport'];constructor(_0x25a993,_0x5baeb5,_0x3ba886,_0x42e3fc){const _0x211408=_0x57df12;this['id']=_0x25a993,this[_0x211408(0x67d)]=_0x5baeb5,this['vendorId']=_0x3ba886,this[_0x211408(0x512)]=_0x42e3fc;}['getId'](){return this['id'];}[_0x57df12(0x49c)](_0x1f67af){const _0x4e12c8=_0x57df12,_0x489e4b=(0x0,_0x481bcf['onSnapshot'])((0x0,_0x481bcf['doc'])(_0x4e0444[_0x4e12c8(0x5d7)](),_0x4e12c8(0x34f)+this[_0x4e12c8(0x54f)]+_0x4e12c8(0x66a)+this['groupId']),_0x1d8df6=>{const _0x52db62=_0x4e12c8;if(_0x1d8df6[_0x52db62(0x32c)]()){const _0x17c5cd=_0x1d8df6[_0x52db62(0x6de)]();if(this['agentConfig'][_0x52db62(0x47a)][_0x52db62(0x5ce)](_0x17c5cd[_0x52db62(0x47a)]))return;_0x287307['log'](_0x54918a[_0x52db62(0x434)],_0x52db62(0x307),{'agentId':this['id'],'groupId':this[_0x52db62(0x67d)],'oldConfig':this[_0x52db62(0x512)],'newConfig':_0x17c5cd}),this[_0x52db62(0x512)]=_0x17c5cd,_0x1f67af();}});return()=>_0x489e4b();}['setReportCapacity'](_0x29135c){const _0x41a34e=_0x57df12;return this[_0x41a34e(0x644)](this['groupId'],_0x29135c),_0xdd3be7[_0x41a34e(0x5cb)](()=>this[_0x41a34e(0x644)](this[_0x41a34e(0x67d)],_0x29135c),0x493e0);}['getCapacityReport'](){const _0x16044b=_0x57df12;if(!this[_0x16044b(0x388)])throw new _0x4158de(_0x4158de[_0x16044b(0x67f)][_0x16044b(0x748)]);return this[_0x16044b(0x388)];}async[_0x57df12(0x644)](_0x3e60f1,_0x1cf28f){const _0x15e081=_0x57df12,_0x506a3e=await _0x1cf28f();this[_0x15e081(0x388)]=_0x506a3e,await(0x0,_0x481bcf[_0x15e081(0x55c)])((0x0,_0x481bcf['collection'])(_0x4e0444[_0x15e081(0x5d7)](),'developers/'+this[_0x15e081(0x54f)]+_0x15e081(0x23b)),{'agentId':this['id'],'groupId':_0x3e60f1,'timestamp':(0x0,_0x481bcf[_0x15e081(0x11f)])(),'capacity':_0x506a3e});}}!function(_0x54853b){const _0x17947f=_0x57df12;_0x54853b[_0x54853b[_0x17947f(0x3bb)]=0x0]=_0x17947f(0x3bb),_0x54853b[_0x54853b[_0x17947f(0x720)]=0x1]='Offline';}(_0x592e22||(_0x592e22={}));class _0x8d39d5 extends _0xf6c973{[_0x57df12(0x792)];[_0x57df12(0x1b1)]=_0x592e22[_0x57df12(0x3bb)];[_0x57df12(0x734)]=Date[_0x57df12(0x68a)]();constructor(_0x5469db,_0x1c182e=new Set(),_0x1e0280,_0x1c24d2){const _0x28a99c=_0x57df12;super(_0x5469db,_0x1c182e,_0x1c24d2),this[_0x28a99c(0x792)]=_0x1e0280;}[_0x57df12(0x799)](){const _0x13cc8f=_0x57df12;return this[_0x13cc8f(0x792)];}[_0x57df12(0x6a7)](){return this['status'];}['getLastUpdated'](){const _0x9630bc=_0x57df12;return this[_0x9630bc(0x734)];}[_0x57df12(0x6f6)](_0x3ecd2a){const _0x8c68a=_0x57df12;this['rank']!==_0x3ecd2a&&(this['rank']=_0x3ecd2a,this[_0x8c68a(0x21d)]());}['setRemoteConnections'](_0x56cd2d){const _0x1c68fa=_0x57df12;let _0x3bc18c=!0x1;for(const _0x138c46 of this[_0x1c68fa(0x17a)])_0x56cd2d['includes'](_0x138c46)||(_0x3bc18c=!0x0,this[_0x1c68fa(0x17a)]['delete'](_0x138c46));for(const _0x4aa3ed of _0x56cd2d)this[_0x1c68fa(0x17a)][_0x1c68fa(0x245)](_0x4aa3ed)||(_0x3bc18c=!0x0,this[_0x1c68fa(0x17a)][_0x1c68fa(0x785)](_0x4aa3ed));_0x3bc18c&&this[_0x1c68fa(0x21d)]();}[_0x57df12(0x1c9)](_0x49d176){const _0x58f04d=_0x57df12;this[_0x58f04d(0x792)]!==_0x49d176&&(this[_0x58f04d(0x792)]=_0x49d176,this[_0x58f04d(0x21d)]());}['setStatus'](_0x4d8041){const _0xfbf2ce=_0x57df12;this[_0xfbf2ce(0x1b1)]!==_0x4d8041&&(this[_0xfbf2ce(0x1b1)]=_0x4d8041,this[_0xfbf2ce(0x21d)](),_0x4d8041===_0x592e22['Offline']&&this[_0xfbf2ce(0x42b)]());}[_0x57df12(0x21d)](){const _0x242731=_0x57df12;this[_0x242731(0x734)]=Date[_0x242731(0x68a)]();}}class _0x437bbb extends _0x205a3e{[_0x57df12(0x792)];[_0x57df12(0x1b1)]=_0x592e22[_0x57df12(0x3bb)];[_0x57df12(0x734)]=Date[_0x57df12(0x68a)]();constructor(_0x57d9e5,_0xc36da4,_0x2c9fda,_0x45c047=new Set(),_0x53e541,_0x155fae){super(_0x57d9e5,_0xc36da4,_0x2c9fda,_0x45c047,_0x155fae),this['currentVersion']=_0x53e541;}[_0x57df12(0x799)](){const _0x7dc449=_0x57df12;return this[_0x7dc449(0x792)];}[_0x57df12(0x6a7)](){return this['status'];}[_0x57df12(0x38f)](){const _0x184eea=_0x57df12;return this[_0x184eea(0x734)];}[_0x57df12(0x377)](_0x4224bf){const _0x14c285=_0x57df12;this[_0x14c285(0x31a)]!==_0x4224bf&&(this[_0x14c285(0x31a)]=_0x4224bf,this[_0x14c285(0x21d)]());}[_0x57df12(0x6ae)](_0x103aea){const _0x2caa97=_0x57df12;this[_0x2caa97(0x40e)]!==_0x103aea&&(this['email']=_0x103aea,this[_0x2caa97(0x21d)]());}[_0x57df12(0x6f6)](_0x4594a2){const _0x8840f9=_0x57df12;this[_0x8840f9(0x412)]!==_0x4594a2&&(this[_0x8840f9(0x412)]=_0x4594a2,this[_0x8840f9(0x21d)]());}[_0x57df12(0x148)](_0x2dc0e4){const _0x26b64e=_0x57df12;let _0x1853b1=!0x1;for(const _0x44c81d of this['remoteConnections'])_0x2dc0e4['includes'](_0x44c81d)||(_0x1853b1=!0x0,this['remoteConnections'][_0x26b64e(0x403)](_0x44c81d));for(const _0x191f76 of _0x2dc0e4)this[_0x26b64e(0x17a)][_0x26b64e(0x245)](_0x191f76)||(_0x1853b1=!0x0,this[_0x26b64e(0x17a)][_0x26b64e(0x785)](_0x191f76));_0x1853b1&&this['updateLastUpdated']();}[_0x57df12(0x1c9)](_0x2f3f24){const _0x35c842=_0x57df12;this[_0x35c842(0x792)]!==_0x2f3f24&&(this['currentVersion']=_0x2f3f24,this['updateLastUpdated']());}[_0x57df12(0x627)](_0x59ee1d){const _0x55b008=_0x57df12;this[_0x55b008(0x1b1)]!==_0x59ee1d&&(this[_0x55b008(0x1b1)]=_0x59ee1d,this[_0x55b008(0x21d)](),_0x59ee1d===_0x592e22[_0x55b008(0x720)]&&this['close']());}[_0x57df12(0x21d)](){const _0x3153c5=_0x57df12;this[_0x3153c5(0x734)]=Date[_0x3153c5(0x68a)]();}}class _0x21199a{[_0x57df12(0x54f)];['clusterId'];['localNode'];[_0x57df12(0x295)];['disconnectCallback']=_0x413fb6();['firebaseUnsubscriber'];[_0x57df12(0x153)];[_0x57df12(0x4a3)];[_0x57df12(0x2a7)]=!0x1;[_0x57df12(0x658)];[_0x57df12(0x543)];constructor(_0x11e1fd,_0x54b3ed,_0x2df1f1,_0x5def12){const _0x24ab6a=_0x57df12;this[_0x24ab6a(0x54f)]=_0x11e1fd,this['clusterId']=_0x54b3ed,this[_0x24ab6a(0x749)]=_0x2df1f1,this[_0x24ab6a(0x295)]=_0x5def12,this[_0x24ab6a(0x658)]=_0x24ab6a(0x7a2)+this[_0x24ab6a(0x54f)]+_0x24ab6a(0x7a2)+this[_0x24ab6a(0x545)],this[_0x24ab6a(0x543)]=_0x24ab6a(0x7a2)+this['vendorId']+'ccc'+this[_0x24ab6a(0x749)][_0x24ab6a(0x5a9)](),this['firebaseUnsubscriber']=(0x0,_0x2279ec['onValue'])((0x0,_0x2279ec['ref'])(_0x4e0444[_0x24ab6a(0x51e)](),_0x24ab6a(0x34c)),_0x37f3b9=>{const _0x272bdc=_0x24ab6a;!0x0!==_0x37f3b9[_0x272bdc(0x6c5)]()?this[_0x272bdc(0x2a7)]&&_0x287307[_0x272bdc(0x387)](_0x272bdc(0x564),{'clusterId':this[_0x272bdc(0x545)],'nodeId':this['localNode'][_0x272bdc(0x5a9)](),'nodeType':this['localNode'][_0x272bdc(0x3cb)]}):(this[_0x272bdc(0x2a7)]=!0x0,this[_0x272bdc(0x786)](),_0x287307[_0x272bdc(0x144)](_0x272bdc(0x37e),{'clusterId':this['clusterId'],'nodeId':this[_0x272bdc(0x749)][_0x272bdc(0x5a9)](),'nodeType':this[_0x272bdc(0x749)][_0x272bdc(0x3cb)]}));});}async['join'](){const _0x46b9e5=_0x57df12;await this[_0x46b9e5(0x4fd)]();const _0x3d1a42=await this['getAncestors']();return this[_0x46b9e5(0x153)]=(0x0,_0x2279ec['onChildRemoved'])((0x0,_0x2279ec['ref'])(_0x4e0444['getDatabase'](),_0x46b9e5(0x72c)+this['clusterKey']+_0x46b9e5(0x5e9)),_0x55a032=>{const _0x13d325=_0x46b9e5,_0x55598a=_0x55a032[_0x13d325(0x634)];if(!_0x55598a)return;const _0x4f739a=_0x55598a['replace'](_0x13d325(0x7a2)+this[_0x13d325(0x54f)]+'ccc','');this[_0x13d325(0x538)][_0x13d325(0x707)](_0x4f739a);}),_0x3d1a42;}async['close'](){const _0x1ca758=_0x57df12;this[_0x1ca758(0x153)]?.(),delete this[_0x1ca758(0x153)],this[_0x1ca758(0x4a3)]?.[_0x1ca758(0x47d)](),delete this[_0x1ca758(0x4a3)],this['firebaseUnsubscriber']?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x2279ec[_0x1ca758(0x1ef)])((0x0,_0x2279ec[_0x1ca758(0x1b0)])(_0x4e0444[_0x1ca758(0x51e)](),_0x1ca758(0x72c)+this['clusterKey']+'/nodes/'+this[_0x1ca758(0x543)]));}[_0x57df12(0x674)](_0x1cdf24){const _0x492e8d=_0x57df12;return this[_0x492e8d(0x538)][_0x492e8d(0x76e)](_0x1cdf24);}async[_0x57df12(0x4a0)](){const _0x5e7574=_0x57df12,_0x1e166b=[],_0x30e5ad=await(0x0,_0x2279ec['get'])((0x0,_0x2279ec['ref'])(_0x4e0444['getDatabase'](),'clusters/'+this[_0x5e7574(0x658)]+_0x5e7574(0x5e9))),_0x59fd0a=[];return _0x30e5ad[_0x5e7574(0x3bd)](_0x4a816a=>{const _0x5e9a82=_0x5e7574,_0x51cd53=_0x4a816a['key']?.[_0x5e9a82(0x3ec)]('ccc'+this[_0x5e9a82(0x54f)]+_0x5e9a82(0x7a2),'');_0x59fd0a['push']({'id':_0x51cd53,'joinedAt':_0x4a816a[_0x5e9a82(0x6c5)]()[_0x5e9a82(0x157)],'priority':_0x4a816a[_0x5e9a82(0x6c5)]()[_0x5e9a82(0x2c3)]});}),_0x59fd0a['sort']((_0x10831e,_0x4a427b)=>_0x10831e[_0x5e7574(0x157)]===_0x4a427b[_0x5e7574(0x157)]?_0x10831e['priority']-_0x4a427b[_0x5e7574(0x2c3)]:_0x10831e['joinedAt']-_0x4a427b['joinedAt'])[_0x5e7574(0x26a)](_0x59fd0a[_0x5e7574(0x2ab)](_0x3139fa=>_0x3139fa['id']===this['localNode'][_0x5e7574(0x5a9)]())),_0x59fd0a[_0x5e7574(0x185)]((_0x534342,_0x581972)=>_0x581972[_0x5e7574(0x157)]===_0x534342['joinedAt']?_0x581972[_0x5e7574(0x2c3)]-_0x534342[_0x5e7574(0x2c3)]:_0x581972[_0x5e7574(0x157)]-_0x534342[_0x5e7574(0x157)])[_0x5e7574(0x3bd)](_0x10b2d9=>{const _0x442d9e=_0x5e7574;_0x1e166b[_0x442d9e(0x5fc)]>=this['minConnections']||_0x1e166b[_0x442d9e(0x374)](_0x10b2d9['id']);}),_0x287307[_0x5e7574(0x2e6)]('discover',{'clusterId':this[_0x5e7574(0x545)],'nodeId':this[_0x5e7574(0x749)][_0x5e7574(0x5a9)](),'nodeType':this[_0x5e7574(0x749)][_0x5e7574(0x3cb)],'data':{'ancestorIds':_0x1e166b,'allNodes':_0x59fd0a}}),_0x1e166b;}async[_0x57df12(0x4fd)](){const _0x5bdbe5=_0x57df12;await(0x0,_0x2279ec[_0x5bdbe5(0x6dc)])((0x0,_0x2279ec['ref'])(_0x4e0444[_0x5bdbe5(0x51e)](),_0x5bdbe5(0x72c)+this[_0x5bdbe5(0x658)]+'/nodes/'+this[_0x5bdbe5(0x543)]),{'joinedAt':(0x0,_0x2279ec[_0x5bdbe5(0x11f)])(),'priority':Math[_0x5bdbe5(0x77b)]()});}['setOnDisconnectHandler'](){const _0x1d17f0=_0x57df12;this[_0x1d17f0(0x4a3)]&&this[_0x1d17f0(0x4a3)][_0x1d17f0(0x47d)](),this[_0x1d17f0(0x4a3)]=(0x0,_0x2279ec[_0x1d17f0(0x485)])((0x0,_0x2279ec['ref'])(_0x4e0444['getDatabase'](),_0x1d17f0(0x72c)+this['clusterKey']+_0x1d17f0(0x14e)+this[_0x1d17f0(0x543)])),this[_0x1d17f0(0x4a3)][_0x1d17f0(0x1ef)]();}}class _0x4f2187{[_0x57df12(0x549)];[_0x57df12(0x177)];[_0x57df12(0x749)];[_0x57df12(0x6ce)];[_0x57df12(0x358)];[_0x57df12(0x19c)];[_0x57df12(0x4c1)]=[];[_0x57df12(0x235)];['optimizationLayers']=new Map();[_0x57df12(0x586)];[_0x57df12(0x4f8)];constructor(_0x492806,_0x2e74f7,_0x1a3ba6){const _0x1461f6=_0x57df12;this[_0x1461f6(0x549)]=_0x492806,this[_0x1461f6(0x177)]=_0x2e74f7,this[_0x1461f6(0x749)]=_0x1a3ba6,this[_0x1461f6(0x358)]=new _0x21199a(this[_0x1461f6(0x549)][_0x1461f6(0x54f)],this[_0x1461f6(0x549)]['clusterId'],this[_0x1461f6(0x749)],this['graphService'][_0x1461f6(0x1da)]()),this[_0x1461f6(0x19c)]=this[_0x1461f6(0x358)][_0x1461f6(0x674)](this[_0x1461f6(0x6d1)][_0x1461f6(0x61c)](this)),this[_0x1461f6(0x549)][_0x1461f6(0x431)][_0x1461f6(0x534)](this[_0x1461f6(0x749)]),this[_0x1461f6(0x549)][_0x1461f6(0x431)][_0x1461f6(0x534)](this),this['remoteUnsubscriber']=_0xdd3be7[_0x1461f6(0x5cb)](()=>{const _0x245e13=_0x1461f6,_0x4781b0=Date['now']();this[_0x245e13(0x177)][_0x245e13(0x552)]()[_0x245e13(0x3bd)](_0x27f5e8=>{const _0x2f4313=_0x245e13;_0x27f5e8['getStatus']()===_0x592e22[_0x2f4313(0x720)]&&_0x27f5e8[_0x2f4313(0x38f)]()<_0x4781b0-0x493e0&&this['graphService']['deleteRemoteNode'](_0x27f5e8[_0x2f4313(0x5a9)]());});},0xea60);}[_0x57df12(0x432)](_0x1d908b){const _0x4b1ac0=_0x57df12;this[_0x4b1ac0(0x235)]=_0x1d908b;}[_0x57df12(0x446)](){const _0x1f0b15=_0x57df12;delete this[_0x1f0b15(0x235)];}[_0x57df12(0x42b)](){const _0x30bcf7=_0x57df12;this[_0x30bcf7(0x586)]&&(clearTimeout(this[_0x30bcf7(0x586)]),delete this[_0x30bcf7(0x586)]),delete this['lastProcessRank'],this[_0x30bcf7(0x749)][_0x30bcf7(0x42b)](),this['remoteUnsubscriber'](),this['discoveryUnsubscriber'](),this[_0x30bcf7(0x549)]['mediator'][_0x30bcf7(0x679)](this[_0x30bcf7(0x749)]),this[_0x30bcf7(0x549)]['mediator'][_0x30bcf7(0x679)](this),this[_0x30bcf7(0x358)][_0x30bcf7(0x42b)]();}[_0x57df12(0x710)](){return this['ancestors'];}['getLocalId'](){const _0x11109e=_0x57df12;return this[_0x11109e(0x749)][_0x11109e(0x5a9)]();}[_0x57df12(0x5ab)](){const _0x5ea12e=_0x57df12;return this[_0x5ea12e(0x749)];}[_0x57df12(0x552)](_0x1a064f){const _0x35565c=_0x57df12,_0x2c4aab=Array[_0x35565c(0x779)](this[_0x35565c(0x177)][_0x35565c(0x552)]()[_0x35565c(0x49e)]())[_0x35565c(0x49b)](_0x2cd8d4=>_0x2cd8d4[_0x35565c(0x6a7)]()===_0x592e22['Online']);return _0x1a064f?_0x2c4aab[_0x35565c(0x49b)](_0x1a064f):_0x2c4aab;}async[_0x57df12(0x341)](){const _0x1cf9b8=_0x57df12;return this['ancestors']=await this[_0x1cf9b8(0x358)][_0x1cf9b8(0x219)](),this['ancestors']['length']<this[_0x1cf9b8(0x177)][_0x1cf9b8(0x1da)]()&&(this[_0x1cf9b8(0x749)][_0x1cf9b8(0x6f6)](this[_0x1cf9b8(0x4c1)][_0x1cf9b8(0x5fc)]+0x1),this[_0x1cf9b8(0x4a8)]()),this[_0x1cf9b8(0x4c1)];}[_0x57df12(0x382)](_0x25d62f,_0x2fac13){const _0x67c585=_0x57df12,_0x1ca26e=this['localNode']['getRemoteConnections'](),_0x53bb5e=new Set(_0x1ca26e),_0x24a2c0=Array[_0x67c585(0x779)](_0x1ca26e)['filter'](_0x4fe08a=>_0x4fe08a!==_0x25d62f)[_0x67c585(0x136)](_0x1b1100=>({'id':_0x1b1100,'distance':0x1}));for(;_0x24a2c0['length']>0x0;){const _0x57a577=_0x24a2c0[_0x67c585(0x721)]();if(!_0x57a577)continue;if(_0x57a577['id']===_0x2fac13)return _0x57a577[_0x67c585(0x54e)];const _0xac0bd3=this[_0x67c585(0x177)]['getRemoteNode'](_0x57a577['id']);_0xac0bd3&&_0xac0bd3['getStatus']()!==_0x592e22[_0x67c585(0x720)]&&_0xac0bd3[_0x67c585(0x6be)]()[_0x67c585(0x3bd)](_0x243d4b=>{const _0x108250=_0x67c585;_0x53bb5e[_0x108250(0x245)](_0x243d4b)||(_0x53bb5e[_0x108250(0x785)](_0x243d4b),_0x24a2c0[_0x108250(0x374)]({'id':_0x243d4b,'distance':_0x57a577['distance']+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0xa622bf){const _0x4f9de0=_0x57df12;try{switch(_0xa622bf[_0x4f9de0(0x68e)][_0x4f9de0(0x3cb)]){case _0x309288[_0x4f9de0(0x36f)]:case _0x309288[_0x4f9de0(0x633)]:this[_0x4f9de0(0x154)](_0xa622bf['content']),_0x287307[_0x4f9de0(0x60a)](_0x54918a[_0x4f9de0(0x434)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x4f9de0(0x749)]['getId']()+',\x20'+_0xa622bf[_0x4f9de0(0x579)]+'\x27',_0xa622bf,_0xa622bf[_0x4f9de0(0x68e)]);break;case _0x309288[_0x4f9de0(0x16f)]:this[_0x4f9de0(0x5c5)](_0xa622bf[_0x4f9de0(0x68e)]['id']),_0x287307[_0x4f9de0(0x60a)](_0x54918a[_0x4f9de0(0x434)],_0x4f9de0(0x1b6),'\x27'+this[_0x4f9de0(0x749)]['getId']()+',\x20'+_0xa622bf[_0x4f9de0(0x579)]+'\x27',_0xa622bf,_0xa622bf[_0x4f9de0(0x68e)]);}}catch(_0x70a058){if(_0x70a058 instanceof _0x3b8338)return void _0x287307[_0x4f9de0(0x60a)](_0x54918a[_0x4f9de0(0x434)],_0x70a058[_0x4f9de0(0x45a)]);throw _0x70a058;}}[_0x57df12(0x533)](_0x2129b){const _0x2424df=_0x57df12;switch(_0x2129b[_0x2424df(0x68e)][_0x2424df(0x3cb)]){case _0x493715['Success']:this[_0x2424df(0x61b)](_0x2129b[_0x2424df(0x579)]),_0x287307['log'](_0x54918a[_0x2424df(0x434)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x2424df(0x749)][_0x2424df(0x5a9)]()+',\x20'+_0x2129b['sourceId']+'\x27',_0x2129b,_0x2129b[_0x2424df(0x68e)]);break;case _0x493715[_0x2424df(0x194)]:this[_0x2424df(0x2b9)](_0x2129b[_0x2424df(0x579)]),_0x287307['log'](_0x54918a[_0x2424df(0x434)],_0x2424df(0x254),this[_0x2424df(0x749)]['getId'](),_0x2129b,_0x2129b[_0x2424df(0x68e)]);}}[_0x57df12(0x32d)](_0x360b80){const _0x3b3b2a=_0x57df12;this[_0x3b3b2a(0x60f)](_0x360b80),this['notifyJoin'](_0x360b80);}[_0x57df12(0x4a2)](_0x38a8ca){const _0x1664c3=_0x57df12;this[_0x1664c3(0x749)][_0x1664c3(0x11c)](_0x38a8ca['id']),this[_0x1664c3(0x15c)](_0x38a8ca['id']),this[_0x1664c3(0x725)](_0x38a8ca);}['handleNodeUpdate'](_0x5b03af){const _0x3e6d1e=_0x57df12,{id:_0x5da983,metaData:_0x4826e4,rank:_0x501457,remoteConnections:_0xa6bfbf,version:_0x225e87}=_0x5b03af,_0xbd0d26=this['graphService'][_0x3e6d1e(0x3db)](_0x5da983);if(_0xbd0d26){if(!(_0x225e87<=_0xbd0d26[_0x3e6d1e(0x799)]())){if(_0xbd0d26[_0x3e6d1e(0x148)](_0xa6bfbf),_0xbd0d26[_0x3e6d1e(0x1c9)](_0x225e87),_0xbd0d26[_0x3e6d1e(0x3cb)]===_0x36cc4b[_0x3e6d1e(0x4d9)][_0x3e6d1e(0x1dd)]&&_0x4826e4[_0x3e6d1e(0x3cb)]===_0x36cc4b[_0x3e6d1e(0x4d9)][_0x3e6d1e(0x1dd)]&&(_0xbd0d26[_0x3e6d1e(0x377)](_0x4826e4['displayName']),_0xbd0d26[_0x3e6d1e(0x6ae)](_0x4826e4['email'])),_0x501457&&_0xbd0d26[_0x3e6d1e(0x6f6)](_0x501457),this[_0x3e6d1e(0x28f)](_0x5da983,_0x501457),_0xbd0d26['getStatus']()===_0x592e22[_0x3e6d1e(0x720)])return _0xbd0d26[_0x3e6d1e(0x627)](_0x592e22[_0x3e6d1e(0x3bb)]),this['processRank'](),void this[_0x3e6d1e(0x4a2)](_0x5b03af);this[_0x3e6d1e(0x4a8)](),this[_0x3e6d1e(0x3ff)]({'id':_0x5da983,'metaData':_0x4826e4,'remoteConnections':_0xa6bfbf,'version':_0x225e87});}}else this[_0x3e6d1e(0x32d)](_0x5b03af);}[_0x57df12(0x28f)](_0x25e124,_0x18b17c){const _0x2fbf5c=_0x57df12;_0x18b17c&&this['ancestors'][_0x2fbf5c(0x595)](_0x25e124)&&this[_0x2fbf5c(0x749)][_0x2fbf5c(0x6f6)](_0x18b17c+this['ancestors'][_0x2fbf5c(0x15a)](_0x25e124)+0x1);}['handleConnectionSuccess'](_0x1afcd4){const _0x35b769=_0x57df12;this[_0x35b769(0x749)][_0x35b769(0x78f)](_0x1afcd4);}[_0x57df12(0x60f)]({id:_0x5462b3,metaData:_0x5de52b,rank:_0x12aa18,remoteConnections:_0x3053a7,version:_0x60cf72}){const _0x78ccfd=_0x57df12;if(this[_0x78ccfd(0x177)][_0x78ccfd(0x2e1)](_0x5462b3))throw new _0x3b8338('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x5462b3);switch(_0x5de52b[_0x78ccfd(0x3cb)]){case _0x36cc4b[_0x78ccfd(0x4d9)]['User']:const {displayName:_0x530c5b,email:_0x2f84c7}=_0x5de52b;this[_0x78ccfd(0x177)][_0x78ccfd(0x479)](_0x5462b3,new _0x437bbb(_0x5462b3,_0x530c5b,_0x2f84c7,new Set(_0x3053a7),_0x60cf72,_0x12aa18));break;case _0x36cc4b[_0x78ccfd(0x4d9)][_0x78ccfd(0x53d)]:this[_0x78ccfd(0x177)][_0x78ccfd(0x479)](_0x5462b3,new _0x8d39d5(_0x5462b3,new Set(_0x3053a7),_0x60cf72,_0x12aa18));}this[_0x78ccfd(0x28f)](_0x5462b3,_0x12aa18),this[_0x78ccfd(0x4a8)]();}['publishNodeJoin'](_0x20d113){const _0x36b3b4=_0x57df12;this[_0x36b3b4(0x235)][_0x36b3b4(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55['Node'],'content':{'type':_0x309288[_0x36b3b4(0x5a7)],'id':_0x20d113}});}[_0x57df12(0x2b9)](_0x37e5c0){const _0x4adab6=_0x57df12;this[_0x4adab6(0x235)]?.[_0x4adab6(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x4adab6(0x434)],'content':{'type':_0x309288[_0x4adab6(0x16f)],'id':_0x37e5c0}});}[_0x57df12(0x6d1)](_0x5d29c5){const _0x14dd70=_0x57df12;if(_0x5d29c5===this[_0x14dd70(0x749)]['getId']())return this['configs']['mediator'][_0x14dd70(0x4e0)](_0x14dd70(0x492),{'id':_0x5d29c5}),this[_0x14dd70(0x549)][_0x14dd70(0x431)][_0x14dd70(0x42b)](!0x0),this[_0x14dd70(0x549)][_0x14dd70(0x431)][_0x14dd70(0x57d)](),void this[_0x14dd70(0x549)][_0x14dd70(0x431)][_0x14dd70(0x5de)]();this['publishNodeLeave'](_0x5d29c5);}[_0x57df12(0x5c5)](_0x46ef88){const _0x3bea59=_0x57df12;this['ancestors'][_0x3bea59(0x595)](_0x46ef88)?this[_0x3bea59(0x6cc)](_0x46ef88):this[_0x3bea59(0x749)]['getRemoteConnections']()[_0x3bea59(0x245)](_0x46ef88)&&this[_0x3bea59(0x125)](_0x46ef88),this[_0x3bea59(0x749)][_0x3bea59(0x2b2)](_0x46ef88);const _0x3adb22=Array[_0x3bea59(0x779)](this[_0x3bea59(0x589)][_0x3bea59(0x1f4)]())[_0x3bea59(0x775)](([,_0x703010])=>_0x703010==_0x703010);_0x3adb22&&this[_0x3bea59(0x589)][_0x3bea59(0x403)](_0x3adb22[0x0]);const _0x2289a9=this[_0x3bea59(0x177)][_0x3bea59(0x3db)](_0x46ef88);if(!_0x2289a9)return;const _0x2ae99c=_0x2289a9[_0x3bea59(0x576)](),_0x28e1ba=this[_0x3bea59(0x749)][_0x3bea59(0x576)]();_0x28e1ba&&_0x2ae99c&&_0x2ae99c<_0x28e1ba&&this['localNode'][_0x3bea59(0x6f6)](_0x28e1ba-0x1,!0x1),Array[_0x3bea59(0x779)](this[_0x3bea59(0x177)][_0x3bea59(0x552)]()[_0x3bea59(0x49e)]())[_0x3bea59(0x3bd)](_0x3a9464=>{const _0x31bd0b=_0x3a9464['getRank']();_0x31bd0b&&_0x2ae99c&&_0x2ae99c<_0x31bd0b&&_0x3a9464['setRank'](_0x31bd0b-0x1);}),_0x2289a9['setStatus'](_0x592e22[_0x3bea59(0x720)]),this[_0x3bea59(0x549)]['mediator']['notifyCluster'](_0x2289a9['type']+_0x3bea59(0x22b),{'id':_0x46ef88});}[_0x57df12(0x725)]({id:_0x2eddb3,metaData:_0x3c8ed7,remoteConnections:_0x1b6f6c}){const _0xd69ebd=_0x57df12;switch(_0x3c8ed7[_0xd69ebd(0x3cb)]){case _0x36cc4b[_0xd69ebd(0x4d9)][_0xd69ebd(0x1dd)]:this[_0xd69ebd(0x549)][_0xd69ebd(0x431)][_0xd69ebd(0x4e0)](_0xd69ebd(0x52f),{'id':_0x2eddb3,'metaData':_0x3c8ed7,'remoteConnections':_0x1b6f6c});break;case _0x36cc4b[_0xd69ebd(0x4d9)][_0xd69ebd(0x53d)]:this[_0xd69ebd(0x549)][_0xd69ebd(0x431)]['notifyCluster']('agent-join',{'id':_0x2eddb3,'metaData':_0x3c8ed7,'remoteConnections':_0x1b6f6c});}}[_0x57df12(0x3ff)]({id:_0x4f2764,metaData:_0x5e9b45,remoteConnections:_0x5550de}){const _0x1b6096=_0x57df12;switch(_0x5e9b45['type']){case _0x36cc4b['NodeType'][_0x1b6096(0x1dd)]:this['configs'][_0x1b6096(0x431)][_0x1b6096(0x4e0)](_0x1b6096(0x3ae),{'id':_0x4f2764,'metaData':_0x5e9b45,'remoteConnections':_0x5550de});break;case _0x36cc4b[_0x1b6096(0x4d9)]['Agent']:this[_0x1b6096(0x549)][_0x1b6096(0x431)][_0x1b6096(0x4e0)](_0x1b6096(0x2fc),{'id':_0x4f2764,'metaData':_0x5e9b45,'remoteConnections':_0x5550de});}}[_0x57df12(0x4a8)](){const _0x464020=_0x57df12;if(this[_0x464020(0x4f8)]||(this[_0x464020(0x4f8)]=Date[_0x464020(0x68a)]()),this['debounceProcessRank']){if(Date[_0x464020(0x68a)]()-this[_0x464020(0x4f8)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x464020(0x586)]=setTimeout(async()=>{const _0x102b4a=_0x464020;delete this['lastProcessRank'],delete this[_0x102b4a(0x586)];const _0x63efd8=this['localNode'][_0x102b4a(0x576)]();if(!_0x63efd8)return;const _0x4b68a6=this[_0x102b4a(0x177)]['getCurrentMaxLayer'](this[_0x102b4a(0x177)][_0x102b4a(0x552)]()[_0x102b4a(0x62c)]);if(this[_0x102b4a(0x589)][_0x102b4a(0x62c)]>=_0x4b68a6)return;let _0x8e625a=0x1;for(;this[_0x102b4a(0x549)]['mediator']['getConnections']()[_0x102b4a(0x5fc)]<this['graphService'][_0x102b4a(0x70e)]()&&_0x8e625a<=_0x4b68a6;){if(this[_0x102b4a(0x589)][_0x102b4a(0x245)](_0x8e625a)){_0x8e625a+=0x1;continue;}const _0x197c49=this[_0x102b4a(0x177)][_0x102b4a(0x318)](_0x63efd8,_0x8e625a),_0x2c8f76=Array[_0x102b4a(0x779)](this['graphService'][_0x102b4a(0x552)]()['values']())[_0x102b4a(0x775)](_0x2c02fd=>_0x2c02fd[_0x102b4a(0x576)]()===_0x197c49&&_0x2c02fd[_0x102b4a(0x6a7)]()===_0x592e22['Online']);if(_0x2c8f76){try{await this['configs'][_0x102b4a(0x431)]['createConnection'](_0x2c8f76[_0x102b4a(0x5a9)](),_0x58c6e4['Optimization']),this[_0x102b4a(0x589)][_0x102b4a(0x6dc)](_0x8e625a,_0x2c8f76[_0x102b4a(0x5a9)]());}catch(_0x47169f){if(!(_0x47169f instanceof _0x4158de&&_0x47169f[_0x102b4a(0x518)]===_0x4158de[_0x102b4a(0x67f)][_0x102b4a(0x332)]))throw _0x47169f;_0x287307[_0x102b4a(0x60a)](_0x54918a[_0x102b4a(0x434)],this[_0x102b4a(0x749)][_0x102b4a(0x5a9)](),_0x2c8f76[_0x102b4a(0x5a9)](),_0x47169f[_0x102b4a(0x45a)]);}_0x8e625a+=0x1;}else _0x8e625a+=0x1;}},0x3e8);}async[_0x57df12(0x6cc)](_0x1c9b72){const _0x268efa=_0x57df12;this[_0x268efa(0x4c1)][_0x268efa(0x26a)](this[_0x268efa(0x4c1)][_0x268efa(0x15a)](_0x1c9b72),0x1);const _0xe4073f=await this['discoveryService'][_0x268efa(0x4a0)]();for(const _0x3d68fd of _0xe4073f)if(!this[_0x268efa(0x4c1)]['includes'](_0x3d68fd)){const _0x4d735d=Array[_0x268efa(0x779)](this[_0x268efa(0x589)][_0x268efa(0x1f4)]())[_0x268efa(0x775)](([,_0x12ca4c])=>_0x12ca4c===_0x3d68fd);_0x4d735d&&this['optimizationLayers']['delete'](_0x4d735d[0x0]),this['configs'][_0x268efa(0x431)][_0x268efa(0x37f)](_0x3d68fd,_0x58c6e4[_0x268efa(0x2eb)]);}0x0===_0xe4073f[_0x268efa(0x5fc)]&&this[_0x268efa(0x749)][_0x268efa(0x6f6)](0x1),this[_0x268efa(0x4c1)]=_0xe4073f;}async['manageOptimization'](_0x5966a5){const _0x5913cd=_0x57df12,_0x35124a=this['localNode'][_0x5913cd(0x576)]();if(!_0x35124a)return;const _0x483efd=this[_0x5913cd(0x177)][_0x5913cd(0x3db)](_0x5966a5);if(!_0x483efd||_0x483efd[_0x5913cd(0x6a7)]()===_0x592e22[_0x5913cd(0x720)])return;const _0x1e2602=_0x483efd[_0x5913cd(0x576)]();if(!_0x1e2602||_0x1e2602<_0x35124a)return;const _0x34eea3=this[_0x5913cd(0x156)](this[_0x5913cd(0x749)][_0x5913cd(0x6be)](),_0x35124a),_0x23033c=this['getOutgoingOptimizationConnections'](_0x483efd[_0x5913cd(0x6be)](),_0x1e2602)[_0x34eea3[_0x5913cd(0x2ab)](([_0x2aa08c])=>_0x2aa08c===_0x5966a5)];if(!_0x23033c||this['localNode'][_0x5913cd(0x6be)]()[_0x5913cd(0x245)](_0x23033c[0x0]))return;const _0x200eb9=this[_0x5913cd(0x177)][_0x5913cd(0x3db)](_0x23033c[0x0]);if(_0x200eb9&&_0x200eb9[_0x5913cd(0x6a7)]()!==_0x592e22[_0x5913cd(0x720)])try{await this[_0x5913cd(0x549)]['mediator'][_0x5913cd(0x37f)](_0x23033c[0x0],_0x58c6e4[_0x5913cd(0x3ce)]);const _0x4fcfc6=Array[_0x5913cd(0x779)](this[_0x5913cd(0x589)]['entries']())[_0x5913cd(0x775)](([,_0x5b2a93])=>_0x5b2a93===_0x5966a5);_0x4fcfc6&&this[_0x5913cd(0x589)]['set'](_0x4fcfc6[0x0],_0x23033c[0x0]);}catch(_0x190871){if(!(_0x190871 instanceof _0x4158de&&_0x190871[_0x5913cd(0x518)]===_0x4158de[_0x5913cd(0x67f)][_0x5913cd(0x332)]))throw _0x190871;_0x287307['log'](_0x54918a[_0x5913cd(0x434)],this[_0x5913cd(0x749)][_0x5913cd(0x5a9)](),_0x23033c[0x0],_0x190871[_0x5913cd(0x45a)]);}}[_0x57df12(0x156)](_0x2d4dac,_0x1e6a7e){const _0x1c7ec5=_0x57df12;return Array[_0x1c7ec5(0x779)](_0x2d4dac)['reduce']((_0x2f3daf,_0x2d0330)=>{const _0x169aef=_0x1c7ec5,_0x21c8ef=this[_0x169aef(0x177)][_0x169aef(0x3db)](_0x2d0330);if(!_0x21c8ef||_0x21c8ef[_0x169aef(0x6a7)]()===_0x592e22[_0x169aef(0x720)])return _0x2f3daf;const _0x535624=_0x21c8ef[_0x169aef(0x576)]();if(!_0x535624)return _0x2f3daf;const _0x11ad00=_0x535624-_0x1e6a7e;return _0x11ad00<=this[_0x169aef(0x177)][_0x169aef(0x1da)]()||_0x2f3daf[_0x169aef(0x374)]([_0x2d0330,_0x11ad00]),_0x2f3daf;},[])[_0x1c7ec5(0x185)](([,_0x5e88c0],[,_0x3e6f8c])=>_0x5e88c0-_0x3e6f8c);}}const _0x4861c9=[{'problemType':_0x8649c5[_0x57df12(0x501)],'remediations':[{'type':_0x5d4ed9['Remediation'],'component':_0x486168[_0x57df12(0x537)],'action':_0x1238c9['Downgrade']},{'type':_0x5d4ed9[_0x57df12(0x299)],'component':_0x486168[_0x57df12(0x537)],'action':_0x1238c9[_0x57df12(0x528)]}]},{'problemType':_0x8649c5[_0x57df12(0x305)],'remediations':[{'type':_0x5d4ed9['Remediation'],'component':_0x486168[_0x57df12(0x537)],'action':_0x1238c9[_0x57df12(0x528)]}]},{'problemType':_0x8649c5['AudioVideoDelay'],'remediations':[{'type':_0x5d4ed9[_0x57df12(0x220)],'component':_0x486168[_0x57df12(0x537)],'action':_0x1238c9[_0x57df12(0x528)]}]},{'problemType':_0x8649c5[_0x57df12(0x56a)],'remediations':[{'type':_0x5d4ed9[_0x57df12(0x220)],'component':_0x486168[_0x57df12(0x537)],'action':_0x1238c9[_0x57df12(0x528)]}]},{'problemType':_0x8649c5['Bitrate'],'remediations':[{'type':_0x5d4ed9['Remediation'],'component':_0x486168[_0x57df12(0x494)],'action':_0x1238c9[_0x57df12(0x528)]}]},{'problemType':_0x8649c5[_0x57df12(0x359)],'remediations':[{'type':_0x5d4ed9[_0x57df12(0x220)],'component':_0x486168[_0x57df12(0x494)],'action':_0x1238c9['Downgrade']}]},{'problemType':_0x8649c5[_0x57df12(0x64e)],'remediations':[{'type':_0x5d4ed9[_0x57df12(0x220)],'component':_0x486168[_0x57df12(0x494)],'action':_0x1238c9['Downgrade']}]}];class _0xe3ccf6{[_0x57df12(0x549)];[_0x57df12(0x235)];[_0x57df12(0x758)]=new Map();constructor(_0x1603a5){const _0x2ceca5=_0x57df12;this[_0x2ceca5(0x549)]=_0x1603a5,this[_0x2ceca5(0x549)][_0x2ceca5(0x431)][_0x2ceca5(0x534)](this);}[_0x57df12(0x42b)](){const _0x5bf611=_0x57df12;this['configs'][_0x5bf611(0x431)][_0x5bf611(0x679)](this);}[_0x57df12(0x432)](_0x327827){const _0x3b2f27=_0x57df12;this[_0x3b2f27(0x235)]=_0x327827;}[_0x57df12(0x446)](){const _0x1bd81f=_0x57df12;delete this[_0x1bd81f(0x235)];}[_0x57df12(0x531)](_0x4611dc){const _0x23db6b=_0x57df12;_0x4611dc[_0x23db6b(0x68e)][_0x23db6b(0x3cb)]===_0x6d4397[_0x23db6b(0x4ab)]&&this['handleProblem'](_0x4611dc[_0x23db6b(0x68e)][_0x23db6b(0x6de)]);}[_0x57df12(0x6dd)](_0x183d3b){const _0x21510e=_0x57df12;_0x183d3b['content']['type']===_0x5d4ed9[_0x21510e(0x299)]&&this['applyRemediation'](_0x183d3b[_0x21510e(0x579)],{'type':_0x5d4ed9[_0x21510e(0x220)],'component':_0x183d3b['content'][_0x21510e(0x6de)][_0x21510e(0x259)],'action':_0x183d3b['content']['data']['action']});}[_0x57df12(0x3a1)](_0x100ef8){const _0x4bfbd0=_0x57df12,_0x3bb115=_0x4861c9['find'](_0x26cc47=>_0x26cc47[_0x4bfbd0(0x45e)]===_0x100ef8[_0x4bfbd0(0x3cb)]);_0x3bb115['remediations']?.[_0x4bfbd0(0x3bd)](_0xb320d5=>{const _0xbe4dbd=_0x4bfbd0;this[_0xbe4dbd(0x612)](_0x100ef8[_0xbe4dbd(0x4d3)],{'type':_0x100ef8['origin']===_0x215fe2[_0xbe4dbd(0x4fa)]?_0x5d4ed9['Remediation']:_0x5d4ed9[_0xbe4dbd(0x299)],'component':_0xb320d5[_0xbe4dbd(0x259)],'action':_0xb320d5[_0xbe4dbd(0x226)]});});}[_0x57df12(0x612)](_0x417499,_0x38d603){const _0x51343c=_0x57df12;if(_0x38d603[_0x51343c(0x3cb)]===_0x5d4ed9[_0x51343c(0x220)]){const _0x1a459a=Date[_0x51343c(0x68a)](),_0x3a7cbf=this['lastRemediations'][_0x51343c(0x351)](_0x417499);if(_0x3a7cbf&&_0x1a459a-_0x3a7cbf<0x1388)return;this[_0x51343c(0x758)][_0x51343c(0x6dc)](_0x417499,_0x1a459a);}_0x287307['log'](_0x54918a[_0x51343c(0x220)],_0x51343c(0x715),_0x38d603),_0x287307['logEvent'](_0x51343c(0x37a),{'clusterId':this[_0x51343c(0x549)]['clusterId'],'nodeId':this[_0x51343c(0x549)][_0x51343c(0x749)][_0x51343c(0x5a9)](),'nodeType':this[_0x51343c(0x549)][_0x51343c(0x749)][_0x51343c(0x3cb)],'remoteId':_0x417499,'data':{'type':_0x38d603[_0x51343c(0x3cb)],'component':_0x38d603['component'],'action':_0x38d603['action']}});let _0x219347,_0x147f88=_0x1c5473;_0x38d603[_0x51343c(0x3cb)]===_0x5d4ed9[_0x51343c(0x299)]&&(_0x147f88=this[_0x51343c(0x549)][_0x51343c(0x749)][_0x51343c(0x5a9)](),_0x219347=[_0x417499]),this[_0x51343c(0x235)]['publish']({'sourceId':_0x147f88,'destinationIds':_0x219347,'messageType':_0x769e55[_0x51343c(0x220)],'content':{'type':_0x38d603[_0x51343c(0x3cb)],'targetId':_0x417499,'data':_0x38d603}});}}const _0x27d5e6=0x3e8,_0x3105f5=0x7530,_0x3da238=_0x57df12(0x368),_0x94b75=_0x57df12(0x718),_0x5b9626=_0x57df12(0x461),_0x2a810c=[_0x3da238,_0x94b75],_0x477f02=[_0x5b9626];class _0x3a259f{[_0x57df12(0x289)]=0x0;[_0x57df12(0x43d)]=0x0;[_0x57df12(0x542)]=0x0;['packetsLost']=0x0;[_0x57df12(0x2a8)]=0x0;['currentTimestamp']=0x0;['previousTimestamp']=0x0;[_0x57df12(0x42e)]=0x0;[_0x57df12(0x3f9)]=0x0;get[_0x57df12(0x12c)](){const _0x5ecefe=_0x57df12;return this[_0x5ecefe(0x315)]>0x0&&this[_0x5ecefe(0x677)]>0x0&&Date['now']()-this[_0x5ecefe(0x315)]<_0x3105f5?(this[_0x5ecefe(0x42e)]-this['previousBytes'])/(this[_0x5ecefe(0x315)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x290f67){const _0xaa65ba=_0x57df12;switch(_0x290f67[_0xaa65ba(0x3cb)]){case _0x5b9626:this[_0xaa65ba(0x135)](_0x290f67);break;case _0x3da238:this[_0xaa65ba(0x3c1)](_0x290f67);break;case _0x94b75:this[_0xaa65ba(0x269)](_0x290f67);}}[_0x57df12(0x4d0)](){const _0x32917d=_0x57df12;return{'bitrate':this[_0x32917d(0x12c)],'packetsLostPerc':this[_0x32917d(0x3c7)](),'roundTripTime':this[_0x32917d(0x289)],'jitter':this['jitter']};}['processInboundReport'](_0x27fc74){const _0x41cc46=_0x57df12;this[_0x41cc46(0x111)](_0x27fc74[_0x41cc46(0x30e)]),this['setTimestamp'](_0x27fc74[_0x41cc46(0x47a)]),this['packets']=_0x27fc74[_0x41cc46(0x78b)],this[_0x41cc46(0x729)]=_0x27fc74[_0x41cc46(0x729)],void 0x0!==_0x27fc74[_0x41cc46(0x542)]?this[_0x41cc46(0x542)]=_0x27fc74[_0x41cc46(0x542)]:this['jitter']=0x0,void 0x0!==_0x27fc74[_0x41cc46(0x43d)]?this[_0x41cc46(0x43d)]=_0x27fc74[_0x41cc46(0x43d)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x57df12(0x3c1)](_0x6a3bf){const _0x46a0ee=_0x57df12;this['setBytes'](_0x6a3bf[_0x46a0ee(0x3d0)]),this[_0x46a0ee(0x562)](_0x6a3bf[_0x46a0ee(0x47a)]),this[_0x46a0ee(0x2a8)]=_0x6a3bf[_0x46a0ee(0x44c)];}[_0x57df12(0x269)](_0x6f7294){const _0xbe2229=_0x57df12;this[_0xbe2229(0x289)]=0x3e8*_0x6f7294['roundTripTime'],void 0x0!==_0x6f7294[_0xbe2229(0x542)]?this['jitter']=_0x6f7294[_0xbe2229(0x542)]:this[_0xbe2229(0x542)]=0x0;}[_0x57df12(0x3c7)](){const _0x1614ce=_0x57df12;return this[_0x1614ce(0x2a8)]>0x0?this[_0x1614ce(0x729)]/this[_0x1614ce(0x2a8)]:0x0;}[_0x57df12(0x562)](_0xa59a0d){const _0x349c1f=_0x57df12;_0xa59a0d>this[_0x349c1f(0x315)]&&(this[_0x349c1f(0x677)]=this[_0x349c1f(0x315)],this[_0x349c1f(0x315)]=_0xa59a0d);}[_0x57df12(0x111)](_0xb9dccf){const _0x1883e9=_0x57df12;this[_0x1883e9(0x3f9)]=this[_0x1883e9(0x42e)],this[_0x1883e9(0x42e)]=_0xb9dccf;}}class _0x9a85ed extends _0x3a259f{}class _0x190efd extends _0x3a259f{[_0x57df12(0x751)]=0x0;[_0x57df12(0x582)]=0x0;[_0x57df12(0x247)]=0x0;['currentFrames']=0x0;[_0x57df12(0x532)]=0x0;get[_0x57df12(0x3ad)](){const _0x1342ff=_0x57df12;return this[_0x1342ff(0x315)]>0x0&&this[_0x1342ff(0x677)]>0x0&&Date['now']()-this[_0x1342ff(0x315)]<_0x3105f5?(this['currentFrames']-this[_0x1342ff(0x532)])/(this[_0x1342ff(0x315)]-this[_0x1342ff(0x677)])*0x3e8:0x0;}get[_0x57df12(0x6d7)](){const _0x51985e=_0x57df12;return this[_0x51985e(0x751)]&&this['currentFrames']&&this[_0x51985e(0x2b3)]>0x0?this[_0x51985e(0x751)]/this[_0x51985e(0x2b3)]:0x0;}set[_0x57df12(0x3fd)](_0xf3cfc8){const _0x5beabc=_0x57df12;this['previousFrames']=this[_0x5beabc(0x2b3)],this[_0x5beabc(0x2b3)]=_0xf3cfc8;}[_0x57df12(0x4d0)](){const _0x11b4b6=_0x57df12;return{...super[_0x11b4b6(0x4d0)](),'FPS':this[_0x11b4b6(0x3ad)],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x11b4b6(0x582)],'frameHeight':this[_0x11b4b6(0x247)]};}['processInboundReport'](_0x35b263){const _0x3f7ab4=_0x57df12;super[_0x3f7ab4(0x135)](_0x35b263),this[_0x3f7ab4(0x751)]=_0x35b263[_0x3f7ab4(0x40a)],this[_0x3f7ab4(0x3fd)]=_0x35b263[_0x3f7ab4(0x609)],this[_0x3f7ab4(0x582)]=_0x35b263['frameWidth'],this['frameHeight']=_0x35b263['frameHeight'];}[_0x57df12(0x3c1)](_0xb6f202){const _0x3402c8=_0x57df12;super[_0x3402c8(0x3c1)](_0xb6f202),this[_0x3402c8(0x751)]=_0xb6f202['totalEncodeTime'],this[_0x3402c8(0x3fd)]=_0xb6f202[_0x3402c8(0x1e6)],this[_0x3402c8(0x582)]=_0xb6f202['frameWidth'],this[_0x3402c8(0x247)]=_0xb6f202[_0x3402c8(0x247)];}}class _0x11210f{['audio']=new _0x9a85ed();[_0x57df12(0x176)]=new _0x190efd();get[_0x57df12(0x12c)](){const _0x29b743=_0x57df12;return this[_0x29b743(0x131)][_0x29b743(0x12c)]+this['video'][_0x29b743(0x12c)];}['processReports'](_0x555f83){const _0x3fe597=_0x57df12;return _0x555f83[_0x3fe597(0x3bd)](_0x571fd6=>{const _0x4e74d9=_0x3fe597;switch(_0x571fd6[_0x4e74d9(0x49a)]){case _0x4e74d9(0x131):this[_0x4e74d9(0x131)][_0x4e74d9(0x320)](_0x571fd6);break;case _0x4e74d9(0x176):this[_0x4e74d9(0x176)][_0x4e74d9(0x320)](_0x571fd6);}}),this['getReport']();}[_0x57df12(0x4d0)](){const _0x47b4d2=_0x57df12;return{'audio':this['audio'][_0x47b4d2(0x4d0)](),'video':this[_0x47b4d2(0x176)][_0x47b4d2(0x4d0)](),'roundTripTime':this[_0x47b4d2(0x310)](),'AudioVideoDelay':this[_0x47b4d2(0x74d)](),'bitrate':this[_0x47b4d2(0x12c)]};}[_0x57df12(0x310)](){const _0x5021e8=_0x57df12;return Math[_0x5021e8(0x240)]((this[_0x5021e8(0x131)][_0x5021e8(0x289)]+this[_0x5021e8(0x176)][_0x5021e8(0x289)])/0x2);}[_0x57df12(0x74d)](){const _0x4eced4=_0x57df12;return this[_0x4eced4(0x131)]['estimatedPlayoutTimestamp']-this[_0x4eced4(0x176)]['estimatedPlayoutTimestamp'];}}class _0x440ce5{['senderCurrentTimestamp']=0x0;[_0x57df12(0x376)]=0x0;[_0x57df12(0x166)]=0x0;[_0x57df12(0x56d)]=0x0;[_0x57df12(0x73c)]=0x0;[_0x57df12(0x43a)]=0x0;[_0x57df12(0x313)]=0x0;['receiverPreviousBytes']=0x0;[_0x57df12(0x4ea)]=0x0;['receiverTotalMessages']=0x0;[_0x57df12(0x3b4)]=0x0;[_0x57df12(0x13b)]=0x0;[_0x57df12(0x289)]=0x0;get[_0x57df12(0x12c)](){const _0x417ef9=_0x57df12;return this['senderBitrate']+this[_0x417ef9(0x263)];}get['senderBitrate'](){const _0x45daa1=_0x57df12;return this['senderCurrentTimestamp']>0x0&&this[_0x45daa1(0x376)]>0x0&&Date['now']()-this[_0x45daa1(0x72b)]<_0x3105f5?(this[_0x45daa1(0x73c)]-this['senderPreviousBytes'])/(this['senderCurrentTimestamp']-this[_0x45daa1(0x376)])*0x8*0x3e8:0x0;}get[_0x57df12(0x263)](){const _0x4e8e75=_0x57df12;return this['receiverCurrentTimestamp']>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x4e8e75(0x68a)]()-this['receiverCurrentTimestamp']<_0x3105f5?(this[_0x4e8e75(0x313)]-this[_0x4e8e75(0x7a3)])/(this[_0x4e8e75(0x166)]-this[_0x4e8e75(0x56d)])*0x8*0x3e8:0x0;}['processReport'](_0x4a7b2c){const _0xa6ccb6=_0x57df12;switch(_0x4a7b2c['origin']){case _0x215fe2[_0xa6ccb6(0x4fa)]:this[_0xa6ccb6(0x70b)](_0x4a7b2c);break;case _0x215fe2[_0xa6ccb6(0x7a5)]:this[_0xa6ccb6(0x3fb)](_0x4a7b2c);}}['getReport'](){const _0x5513e5=_0x57df12;return{'bitrate':this[_0x5513e5(0x12c)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x5513e5(0x263)],'totalBytes':this[_0x5513e5(0x5dd)](),'senderTotalBytes':this[_0x5513e5(0x183)](),'receiverTotalBytes':this[_0x5513e5(0x2ad)](),'totalMessages':this[_0x5513e5(0x4ea)]+this[_0x5513e5(0x761)],'senderTotalMessages':this[_0x5513e5(0x4ea)],'receiverTotalMessages':this[_0x5513e5(0x761)],'timeProcessing':this[_0x5513e5(0x3b4)]+this[_0x5513e5(0x13b)],'senderTimeProcessing':this[_0x5513e5(0x3b4)],'receiverTimeProcessing':this[_0x5513e5(0x13b)],'roundTripTime':this['roundTripTime']};}[_0x57df12(0x5dd)](){const _0x169c15=_0x57df12;return this[_0x169c15(0x73c)]+this['receiverCurrentBytes'];}[_0x57df12(0x183)](){const _0xaeaa46=_0x57df12;return this[_0xaeaa46(0x73c)];}[_0x57df12(0x2ad)](){return this['receiverCurrentBytes'];}['processSenderReport'](_0x1aedb0){const _0x537670=_0x57df12;this[_0x537670(0x559)](_0x1aedb0[_0x537670(0x47a)]),this[_0x537670(0x111)](_0x1aedb0[_0x537670(0x3d0)]),this[_0x537670(0x4ea)]=_0x1aedb0[_0x537670(0x526)],this[_0x537670(0x3b4)]=_0x1aedb0[_0x537670(0x50d)],this[_0x537670(0x289)]=_0x1aedb0[_0x537670(0x289)];}[_0x57df12(0x3fb)](_0x6fbfa3){const _0x582caa=_0x57df12;this['setReceiverTimestamp'](_0x6fbfa3[_0x582caa(0x47a)]),this[_0x582caa(0x2ee)](_0x6fbfa3[_0x582caa(0x30e)]),this['receiverTotalMessages']=_0x6fbfa3[_0x582caa(0x571)],this[_0x582caa(0x13b)]=_0x6fbfa3[_0x582caa(0x517)];}[_0x57df12(0x559)](_0x5cf2ae){const _0x426991=_0x57df12;_0x5cf2ae>this[_0x426991(0x72b)]&&(this['senderPreviousTimestamp']=this[_0x426991(0x72b)],this[_0x426991(0x72b)]=_0x5cf2ae);}[_0x57df12(0x605)](_0x3c580b){const _0x485f73=_0x57df12;_0x3c580b>this[_0x485f73(0x166)]&&(this[_0x485f73(0x56d)]=this[_0x485f73(0x166)],this[_0x485f73(0x166)]=_0x3c580b);}[_0x57df12(0x111)](_0x160cbd){const _0x4ef162=_0x57df12;this[_0x4ef162(0x43a)]=this['senderCurrentBytes'],this[_0x4ef162(0x73c)]=_0x160cbd;}[_0x57df12(0x2ee)](_0xdc0566){const _0x3bcd0f=_0x57df12;this[_0x3bcd0f(0x7a3)]=this[_0x3bcd0f(0x313)],this[_0x3bcd0f(0x313)]=_0xdc0566;}}class _0x2c7274{[_0x57df12(0x5be)]=new Map();['receiverStreams']=new Map();[_0x57df12(0x6e4)]=new _0x440ce5();get['senderBitrate'](){const _0x58b6f2=_0x57df12;let _0x1d1726=0x0;return this[_0x58b6f2(0x5be)][_0x58b6f2(0x3bd)](_0x39119f=>{const _0x2653ba=_0x58b6f2;_0x1d1726+=_0x39119f[_0x2653ba(0x12c)];}),_0x1d1726+=this[_0x58b6f2(0x6e4)][_0x58b6f2(0x28a)],_0x1d1726;}get['receiverBitrate'](){const _0x4afa8d=_0x57df12;let _0x39367b=0x0;return this['receiverStreams']['forEach'](_0x32905a=>{const _0x4ca08a=a0_0x5c56;_0x39367b+=_0x32905a[_0x4ca08a(0x12c)];}),_0x39367b+=this[_0x4afa8d(0x6e4)][_0x4afa8d(0x263)],_0x39367b;}get['bitrate'](){const _0x346e4=_0x57df12;return this[_0x346e4(0x28a)]+this[_0x346e4(0x263)];}[_0x57df12(0x244)](_0x4129e9,_0xf06b32){const _0x1759be=_0x57df12,_0x249b83=[],_0x5801ec=[];return _0x4129e9 instanceof Array?_0x4129e9[_0x1759be(0x3bd)](_0x9b3818=>{const _0x16f0f5=_0x1759be;_0x9b3818[_0x16f0f5(0x3bd)](_0x30f43a=>{const _0x124576=_0x16f0f5;_0x477f02['includes'](_0x30f43a[_0x124576(0x3cb)])&&_0x249b83[_0x124576(0x374)](_0x30f43a),_0x2a810c[_0x124576(0x595)](_0x30f43a[_0x124576(0x3cb)])&&_0x5801ec['push'](_0x30f43a);});}):this[_0x1759be(0x6e4)][_0x1759be(0x320)](_0x4129e9),_0x249b83['length']>0x0&&_0xf06b32?{...this[_0x1759be(0x611)](_0xf06b32,_0x249b83),'origin':_0x215fe2[_0x1759be(0x7a5)],'streamId':_0xf06b32}:_0x5801ec[_0x1759be(0x5fc)]>0x0&&_0xf06b32?{...this[_0x1759be(0x275)](_0xf06b32,_0x5801ec),'origin':_0x215fe2['Sender'],'streamId':_0xf06b32}:void 0x0;}[_0x57df12(0x4d0)](){const _0xbb47e8=_0x57df12,_0x4b209b={};this[_0xbb47e8(0x5be)]['forEach']((_0xa9fb7a,_0x1169cc)=>{const _0x467cb1=_0xbb47e8;_0x4b209b[_0x1169cc]=_0xa9fb7a[_0x467cb1(0x4d0)]();});const _0x57b0b4={};return this[_0xbb47e8(0x67a)]['forEach']((_0x2f5d82,_0x2faf7b)=>{const _0x49d12d=_0xbb47e8;_0x57b0b4[_0x2faf7b]=_0x2f5d82[_0x49d12d(0x4d0)]();}),{'bitrate':this[_0xbb47e8(0x12c)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0xbb47e8(0x263)],'senderStreams':_0x4b209b,'receiverStreams':_0x57b0b4,'dataChannel':this[_0xbb47e8(0x6e4)][_0xbb47e8(0x4d0)]()};}[_0x57df12(0x611)](_0x40b51e,_0x1ed5ca){const _0x49b72b=_0x57df12;return this[_0x49b72b(0x67a)][_0x49b72b(0x245)](_0x40b51e)||this[_0x49b72b(0x67a)]['set'](_0x40b51e,new _0x11210f()),this[_0x49b72b(0x67a)][_0x49b72b(0x351)](_0x40b51e)[_0x49b72b(0x244)](_0x1ed5ca);}[_0x57df12(0x275)](_0x44e6aa,_0x2641fc){const _0xe685d3=_0x57df12;return this[_0xe685d3(0x5be)][_0xe685d3(0x245)](_0x44e6aa)||this[_0xe685d3(0x5be)][_0xe685d3(0x6dc)](_0x44e6aa,new _0x11210f()),this['senderStreams']['get'](_0x44e6aa)[_0xe685d3(0x244)](_0x2641fc);}}class _0x44ed2f{[_0x57df12(0x28e)]=new Map();[_0x57df12(0x12b)]=0x0;[_0x57df12(0x336)]=0x0;[_0x57df12(0x3b1)]=new Map();['objectStores']=new Map();[_0x57df12(0x48d)]=new Map();[_0x57df12(0x4b4)]=new Map();['senderTotalMessages']=new Map();['receiverTotalMessages']=new Map();['senderTimeProcessing']=new Map();['receiverTimeProcessing']=new Map();['systemMessages']=new Map();[_0x57df12(0x235)];['getReport'](){const _0x241c37=_0x57df12,_0xb8b953={};this[_0x241c37(0x28e)][_0x241c37(0x3bd)]((_0x2f1be4,_0x5be754)=>{const _0x106722=_0x241c37;_0xb8b953[_0x5be754]=_0x2f1be4[_0x106722(0x4d0)]();});let _0x33dbc9=0x0;this[_0x241c37(0x3b4)][_0x241c37(0x3bd)](_0x5d9b95=>{_0x33dbc9+=_0x5d9b95;});let _0x3c620b=0x0;this[_0x241c37(0x13b)][_0x241c37(0x3bd)](_0x24020b=>{_0x3c620b+=_0x24020b;});const _0x53b3bf=_0x33dbc9+_0x3c620b;let _0x2888a0={'messages':{'total':0x0}};this[_0x241c37(0x24f)][_0x241c37(0x3bd)](_0x1ecd1d=>{const _0x1e6fea=_0x241c37;Object[_0x1e6fea(0x6bc)](_0x1ecd1d)['forEach'](_0x2a92e3=>{const _0x3fb385=_0x1e6fea;_0x2888a0[_0x2a92e3]||(_0x2888a0[_0x2a92e3]={}),Object[_0x3fb385(0x6bc)](_0x1ecd1d[_0x2a92e3])[_0x3fb385(0x3bd)](_0x58333c=>{_0x2888a0[_0x2a92e3][_0x58333c]||(_0x2888a0[_0x2a92e3][_0x58333c]=0x0),_0x2888a0[_0x2a92e3][_0x58333c]+=_0x1ecd1d[_0x2a92e3][_0x58333c];});});});let _0x3ad065=0x0,_0x53272a=0x0,_0x66fd03=0x0,_0x32bd28=0x0,_0x54f7d0=0x0;return this[_0x241c37(0x3b1)][_0x241c37(0x3bd)](_0x5db22a=>{const _0xddd5d9=_0x241c37;_0x53272a+=_0x5db22a[_0xddd5d9(0x526)],_0x66fd03+=_0x5db22a[_0xddd5d9(0x571)],_0x32bd28+=_0x5db22a[_0xddd5d9(0x3d0)],_0x54f7d0+=_0x5db22a[_0xddd5d9(0x30e)];}),this[_0x241c37(0x75c)][_0x241c37(0x3bd)](_0x5b5422=>{const _0x14522a=_0x241c37;_0x3ad065+=_0x5b5422['storage'],_0x53272a+=_0x5b5422[_0x14522a(0x526)],_0x66fd03+=_0x5b5422['messagesReceived'],_0x32bd28+=_0x5b5422[_0x14522a(0x3d0)],_0x54f7d0+=_0x5b5422[_0x14522a(0x30e)];}),this['keyValueDatabases']['forEach'](_0x432ec1=>{const _0x59c789=_0x241c37;_0x3ad065+=_0x432ec1['storage'],_0x53272a+=_0x432ec1['messagesSent'],_0x66fd03+=_0x432ec1[_0x59c789(0x571)],_0x32bd28+=_0x432ec1[_0x59c789(0x3d0)],_0x54f7d0+=_0x432ec1[_0x59c789(0x30e)];}),this[_0x241c37(0x4b4)][_0x241c37(0x3bd)](_0x253d0=>{const _0x1667dc=_0x241c37;_0x3ad065+=_0x253d0[_0x1667dc(0x22d)],_0x53272a+=_0x253d0['messagesSent'],_0x66fd03+=_0x253d0['messagesReceived'],_0x32bd28+=_0x253d0[_0x1667dc(0x3d0)],_0x54f7d0+=_0x253d0[_0x1667dc(0x30e)];}),{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x241c37(0x53a)](),'bitrate':this['getBitrate'](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x3ad065,'totalMessages':_0x53272a+_0x66fd03,'totalMessagesSent':_0x53272a,'totalMessagesReceived':_0x66fd03,'totalBytes':_0x32bd28+_0x54f7d0,'totalBytesSent':_0x32bd28,'totalBytesReceived':_0x54f7d0,'systemMessages':_0x2888a0,'timeProcessing':_0x53b3bf,'nodes':_0xb8b953,'pubsubTopics':Object[_0x241c37(0x44d)](this[_0x241c37(0x3b1)]),'objectStores':Object['fromEntries'](this['objectStores']),'keyValueDatabases':Object[_0x241c37(0x44d)](this[_0x241c37(0x48d)]),'genAIContexts':Object[_0x241c37(0x44d)](this['genAIContexts'])};}['addRemoteNode'](_0x4535bb){const _0x4b66b2=_0x57df12;this[_0x4b66b2(0x28e)][_0x4b66b2(0x6dc)](_0x4535bb,new _0x2c7274());}['removeRemoteNode'](_0x58ece8){const _0x478afc=_0x57df12;this['nodes'][_0x478afc(0x403)](_0x58ece8);}[_0x57df12(0x244)](_0x1b4023,_0x5c8821,_0xf9f79b){const _0x3b414d=_0x57df12;_0x5c8821 instanceof Array||this['processDataChannelReport'](_0x1b4023,_0x5c8821);const _0x228cd9=this[_0x3b414d(0x28e)]['get'](_0x1b4023)?.[_0x3b414d(0x244)](_0x5c8821,_0xf9f79b);_0x228cd9&&this[_0x3b414d(0x235)][_0x3b414d(0x707)]({'sourceId':_0x1c5473,'messageType':_0x769e55[_0x3b414d(0x3ee)],'content':{'type':_0x285491['StreamReport'],'data':{..._0x228cd9,'nodeId':_0x1b4023}}});}[_0x57df12(0x1ea)](_0x15ceac){const _0x5cd8d7=_0x57df12;this[_0x5cd8d7(0x143)](_0x15ceac[_0x5cd8d7(0x675)]),this[_0x5cd8d7(0x211)](_0x15ceac[_0x5cd8d7(0x336)]),this[_0x5cd8d7(0x235)]['publish']({'sourceId':_0x1c5473,'messageType':_0x769e55['Stats'],'content':{'type':_0x285491[_0x5cd8d7(0x27e)],'data':{'STVolatility':this[_0x5cd8d7(0x439)](),'DTVolatility':this[_0x5cd8d7(0x53a)]()}}});}['processServiceReport'](_0x291ad4,_0x4d2e75,_0x210102){const _0x3c0c1b=_0x57df12;switch(_0x4d2e75){case _0x3274d4[_0x3c0c1b(0x6f7)]:this[_0x3c0c1b(0x3b1)][_0x3c0c1b(0x6dc)](_0x291ad4,_0x210102);break;case _0x3274d4[_0x3c0c1b(0x5a5)]:this[_0x3c0c1b(0x75c)]['set'](_0x291ad4,_0x210102);break;case _0x3274d4['KeyValueDatabaseStats']:this[_0x3c0c1b(0x48d)][_0x3c0c1b(0x6dc)](_0x291ad4,_0x210102);break;case _0x3274d4[_0x3c0c1b(0x172)]:this[_0x3c0c1b(0x4b4)]['set'](_0x291ad4,_0x210102);}}[_0x57df12(0x432)](_0x3075ca){const _0x342639=_0x57df12;this[_0x342639(0x235)]=_0x3075ca;}[_0x57df12(0x446)](){const _0x3d3e96=_0x57df12;delete this[_0x3d3e96(0x235)];}['getSTVolatility'](){const _0x3ec25e=_0x57df12;return this[_0x3ec25e(0x12b)]>0x0&&this[_0x3ec25e(0x12b)]-_0x27d5e6>0x0?(this['scheduleTime']-_0x27d5e6)/_0x27d5e6:0x0;}[_0x57df12(0x53a)](){const _0x119802=_0x57df12;return this['durationTime']>0x0&&this[_0x119802(0x336)]-0x64>0x0?(this[_0x119802(0x336)]-0x64)/0x64:0x0;}[_0x57df12(0x401)](){const _0x3182da=_0x57df12;let _0x2b0787=0x0;return this['nodes'][_0x3182da(0x3bd)](_0x125504=>{_0x2b0787+=_0x125504['senderBitrate'];}),_0x2b0787;}['getReceiverBitrate'](){const _0x5d8654=_0x57df12;let _0x549a4b=0x0;return this[_0x5d8654(0x28e)][_0x5d8654(0x3bd)](_0x5d1dcc=>{const _0x40f31a=_0x5d8654;_0x549a4b+=_0x5d1dcc[_0x40f31a(0x263)];}),_0x549a4b;}[_0x57df12(0x73a)](){const _0x5e6bcb=_0x57df12;let _0x260254=0x0;return this['nodes'][_0x5e6bcb(0x3bd)](_0x3097f1=>{_0x260254+=_0x3097f1['bitrate'];}),_0x260254;}[_0x57df12(0x143)](_0x8e617a){const _0x574aa8=_0x57df12;this[_0x574aa8(0x12b)]=_0x8e617a;}[_0x57df12(0x211)](_0x5debef){const _0x5b5238=_0x57df12;this[_0x5b5238(0x336)]=_0x5debef;}[_0x57df12(0x513)](_0x5a5476,_0x108841){const _0x2d9618=_0x57df12;switch(_0x108841[_0x2d9618(0x64b)]){case _0x215fe2[_0x2d9618(0x4fa)]:this[_0x2d9618(0x70b)](_0x5a5476,_0x108841);break;case _0x215fe2['Receiver']:this[_0x2d9618(0x3fb)](_0x5a5476,_0x108841);}}[_0x57df12(0x70b)](_0x284280,_0x1ce6eb){const _0x2a09ee=_0x57df12;this[_0x2a09ee(0x4ea)][_0x2a09ee(0x6dc)](_0x284280,_0x1ce6eb['messagesSent']),this['senderTimeProcessing']['set'](_0x284280,_0x1ce6eb[_0x2a09ee(0x50d)]);}['processReceiverReport'](_0xb6b549,_0x311743){const _0x4a0919=_0x57df12;this['receiverTotalMessages']['set'](_0xb6b549,_0x311743[_0x4a0919(0x571)]),this[_0x4a0919(0x13b)][_0x4a0919(0x6dc)](_0xb6b549,_0x311743['timeReceiving']),this['systemMessages'][_0x4a0919(0x6dc)](_0xb6b549,_0x311743[_0x4a0919(0x24f)]);}}class _0x4c916a{[_0x57df12(0x549)];['remoteNodes']=new Set();['nextNodeId'];[_0x57df12(0x2b8)];[_0x57df12(0x6df)];[_0x57df12(0x4ed)]=new _0x44ed2f();constructor(_0x33b5ec){const _0x41d81a=_0x57df12;this[_0x41d81a(0x549)]=_0x33b5ec,this['configs'][_0x41d81a(0x431)][_0x41d81a(0x534)](this[_0x41d81a(0x4ed)]),this[_0x41d81a(0x2b8)]=this[_0x41d81a(0x169)](),this[_0x41d81a(0x6df)]=this[_0x41d81a(0x20b)]();}[_0x57df12(0x42b)](){const _0x578fae=_0x57df12;this[_0x578fae(0x549)][_0x578fae(0x431)][_0x578fae(0x679)](this[_0x578fae(0x4ed)]),this['statsReporting'](),this[_0x578fae(0x2b8)]();}[_0x57df12(0x6aa)](_0x4d677d){const _0x300b8a=_0x57df12;this[_0x300b8a(0x2f6)][_0x300b8a(0x785)](_0x4d677d),this[_0x300b8a(0x4ed)]['addRemoteNode'](_0x4d677d);}[_0x57df12(0x4f3)](_0x2bc07e){const _0x2a52a4=_0x57df12;this[_0x2a52a4(0x2f6)][_0x2a52a4(0x403)](_0x2bc07e),this[_0x2a52a4(0x4ed)]['removeRemoteNode'](_0x2bc07e);}['handlePeerConnectionSystemEvents'](_0x74a165){const _0x517d66=_0x57df12;if(_0x74a165[_0x517d66(0x68e)][_0x517d66(0x3cb)]===_0x493715[_0x517d66(0x3ee)]){const {nodeId:_0x26148e,streamId:_0x259d90,stats:_0x40086f}=_0x74a165[_0x517d66(0x68e)];this[_0x517d66(0x4ed)][_0x517d66(0x244)](_0x26148e,_0x40086f,_0x259d90);}}[_0x57df12(0x72d)](_0x27f1a6){const _0x2c1a8b=_0x57df12;switch(_0x27f1a6['content'][_0x2c1a8b(0x3cb)]){case _0x3274d4[_0x2c1a8b(0x5a5)]:case _0x3274d4['KeyValueDatabaseStats']:case _0x3274d4['PubSubTopicStats']:case _0x3274d4[_0x2c1a8b(0x172)]:this[_0x2c1a8b(0x4ed)][_0x2c1a8b(0x3c0)](_0x27f1a6['content'][_0x2c1a8b(0x52a)],_0x27f1a6['content']['type'],_0x27f1a6['content'][_0x2c1a8b(0x46b)]);}}[_0x57df12(0x20b)](){return _0xdd3be7['setInterval'](()=>{const _0x1910cc=a0_0x5c56,_0x3b715a=this[_0x1910cc(0x4ed)][_0x1910cc(0x4d0)]();_0x287307[_0x1910cc(0x60a)](_0x54918a[_0x1910cc(0x3ee)],'Stats:\x20report',_0x3b715a),(0x0,_0x481bcf['addDoc'])((0x0,_0x481bcf[_0x1910cc(0x569)])(_0x4e0444[_0x1910cc(0x5d7)](),_0x1910cc(0x34f)+this[_0x1910cc(0x549)]['vendorId']+_0x1910cc(0x62a)),{'clusterId':this['configs'][_0x1910cc(0x545)],'nodeId':this[_0x1910cc(0x549)][_0x1910cc(0x749)][_0x1910cc(0x5a9)](),'nodeType':this[_0x1910cc(0x549)][_0x1910cc(0x749)][_0x1910cc(0x3cb)],'timestamp':(0x0,_0x481bcf['serverTimestamp'])(),'report':_0x3b715a}),_0x287307['logEvent']('stats',{'clusterId':this[_0x1910cc(0x549)][_0x1910cc(0x545)],'nodeId':this['configs'][_0x1910cc(0x749)][_0x1910cc(0x5a9)](),'nodeType':this['configs']['localNode']['type'],'data':{'report':_0x3b715a}});},_0x3105f5);}[_0x57df12(0x169)](){const _0xdd39d=_0x57df12;let _0x5e411a=!0x1,_0x58fe6d=Date[_0xdd39d(0x68a)]();return _0xdd3be7[_0xdd39d(0x5cb)](async()=>{const _0x16e95c=_0xdd39d;if(_0x5e411a)return;if(_0x5e411a=!0x0,0x0===this['remoteNodes'][_0x16e95c(0x62c)])return delete this[_0x16e95c(0x38d)],void(_0x5e411a=!0x1);const _0xd8441d=Date[_0x16e95c(0x68a)]();this[_0x16e95c(0x6ea)]();try{await this[_0x16e95c(0x549)]['mediator'][_0x16e95c(0x59d)](this[_0x16e95c(0x38d)]);}catch(_0x5ac17c){}this[_0x16e95c(0x4ed)]['processLocalReport']({'secheduleTime':_0xd8441d-_0x58fe6d,'durationTime':Date[_0x16e95c(0x68a)]()-_0xd8441d}),_0x58fe6d=_0xd8441d,_0x5e411a=!0x1;},_0x27d5e6);}[_0x57df12(0x6ea)](){const _0x3b2a37=_0x57df12;let _0x1489c2,_0x31386f=!0x1;this[_0x3b2a37(0x38d)]&&(this[_0x3b2a37(0x2f6)][_0x3b2a37(0x245)](this['nextNodeId'])||delete this[_0x3b2a37(0x38d)]);for(const _0x9d5df7 of this[_0x3b2a37(0x2f6)])if(_0x1489c2||(_0x1489c2=_0x9d5df7),this[_0x3b2a37(0x38d)]!==_0x9d5df7){if(_0x31386f)return void(this[_0x3b2a37(0x38d)]=_0x9d5df7);}else _0x31386f=!0x0,delete this[_0x3b2a37(0x38d)];this[_0x3b2a37(0x38d)]||(this[_0x3b2a37(0x38d)]=_0x1489c2);}}class _0x1ebfa8{['source'];[_0x57df12(0x52e)];[_0x57df12(0x235)];constructor(_0x1fd84f,_0x3b5069){const _0x17dacb=_0x57df12;this['source']=_0x1fd84f,this[_0x17dacb(0x52e)]=_0x3b5069;}['registerSystemPublisher'](_0x3868fc){const _0x4b6c72=_0x57df12;this[_0x4b6c72(0x235)]=_0x3868fc;}[_0x57df12(0x446)](){const _0x48f117=_0x57df12;delete this[_0x48f117(0x235)];}}class _0x2c6476 extends _0x1ebfa8{[_0x57df12(0x6f1)];['destination'];[_0x57df12(0x6c6)];constructor(_0x56cda0,_0x4dfbd8,_0x50de01){const _0xc25fef=_0x57df12;super(_0x56cda0,_0x4dfbd8),this[_0xc25fef(0x6f1)]=_0x56cda0,this[_0xc25fef(0x52e)]=_0x4dfbd8,this[_0xc25fef(0x6c6)]=_0x50de01;}[_0x57df12(0x76e)](_0x5775e9,_0x524c50,_0x1e6618){const _0x22f141=_0x57df12;if(this[_0x22f141(0x52e)][_0x22f141(0x632)]()===_0x36cc4b[_0x22f141(0x444)]['Media']){const _0x5e9acd={'type':_0x111869[_0x22f141(0x7a0)],'label':this['destination'][_0x22f141(0x171)](),'ownerId':_0x5775e9,'trackKinds':_0x524c50??this[_0x22f141(0x52e)]['getAvailableTrackKinds'](),'params':_0x1e6618};this['systemTopic'][_0x22f141(0x707)]({'sourceId':this[_0x22f141(0x6f1)][_0x22f141(0x2a1)](),'destinationIds':[this[_0x22f141(0x6f1)][_0x22f141(0x797)]()],'messageType':_0x769e55['Subscription'],'content':_0x5e9acd}),this[_0x22f141(0x6c6)]=_0x1e6618;}}['update'](_0x1921a2,_0x3e866e){const _0x409e11=_0x57df12;if(this[_0x409e11(0x52e)][_0x409e11(0x632)]()===_0x36cc4b[_0x409e11(0x444)][_0x409e11(0x50a)]){const _0x31357a={'type':_0x111869[_0x409e11(0x325)],'label':this[_0x409e11(0x52e)][_0x409e11(0x171)](),'ownerId':_0x1921a2,'params':_0x3e866e};this[_0x409e11(0x235)][_0x409e11(0x707)]({'sourceId':this[_0x409e11(0x6f1)][_0x409e11(0x2a1)](),'destinationIds':[this[_0x409e11(0x6f1)][_0x409e11(0x797)]()],'messageType':_0x769e55[_0x409e11(0x566)],'content':_0x31357a}),this[_0x409e11(0x6c6)]=_0x3e866e;}}[_0x57df12(0x246)](_0x102d71,_0x11edbe,_0x3cc50f){const _0x2a7667=_0x57df12;if(this['destination']['getContentType']()===_0x36cc4b[_0x2a7667(0x444)][_0x2a7667(0x50a)]){const _0x101f70={'type':_0x111869[_0x2a7667(0x1aa)],'label':this[_0x2a7667(0x52e)]['getLabel'](),'ownerId':_0x102d71,'trackKinds':_0x3cc50f??this['destination'][_0x2a7667(0x3dc)](),'remainingTracks':_0x11edbe};this[_0x2a7667(0x235)][_0x2a7667(0x707)]({'sourceId':this[_0x2a7667(0x6f1)][_0x2a7667(0x2a1)](),'destinationIds':[this[_0x2a7667(0x6f1)][_0x2a7667(0x797)]()],'messageType':_0x769e55[_0x2a7667(0x566)],'content':_0x101f70});}}}class _0x265184{['currentDistance'];[_0x57df12(0x1b3)];[_0x57df12(0x560)];[_0x57df12(0x235)];[_0x57df12(0x766)]=new Set();[_0x57df12(0x203)]=Date[_0x57df12(0x68a)]();[_0x57df12(0x6c6)];[_0x57df12(0x4aa)]=0x0;constructor(_0x38aaf8,_0x2917a0,_0x19635e,_0x5b3953){const _0x4fd355=_0x57df12;this[_0x4fd355(0x6d4)]=_0x2917a0,this[_0x4fd355(0x1b3)]=_0x19635e,this['tracks']=_0x5b3953,_0x38aaf8['forEach'](_0x3dac95=>{const _0x13469a=_0x4fd355;this[_0x13469a(0x766)][_0x13469a(0x785)]({'nodeId':_0x3dac95,'type':_0x34a0b4[_0x13469a(0x34b)]});});}[_0x57df12(0x548)](){const _0x4801b2=_0x57df12;return this[_0x4801b2(0x560)];}['registerSystemPublisher'](_0x5956ba){const _0x18e8f0=_0x57df12;this[_0x18e8f0(0x235)]=_0x5956ba;}[_0x57df12(0x446)](){const _0x2f24e5=_0x57df12;delete this[_0x2f24e5(0x235)];}['reset'](_0xdc7b84,_0x39a824){const _0x55de19=_0x57df12;this[_0x55de19(0x203)]=Date[_0x55de19(0x68a)](),this[_0x55de19(0x766)][_0x55de19(0x15f)](),_0xdc7b84['forEach'](_0xea4ac5=>{const _0x42a9ec=_0x55de19;this[_0x42a9ec(0x766)][_0x42a9ec(0x785)]({'nodeId':_0xea4ac5,'type':_0x34a0b4[_0x42a9ec(0x34b)]});}),this['retryCount']+=0x1,this[_0x55de19(0x6d4)]=_0x39a824;}['sendRequest'](_0x33eb61,_0x3ab719,_0x3ccd59,_0x5546e2,_0x4046c8){const _0x41fd2f=_0x57df12;if(this[_0x41fd2f(0x4aa)]>0xa)throw new _0x4158de(_0x4158de['codes'][_0x41fd2f(0x22f)],{'answers':Array[_0x41fd2f(0x779)](this[_0x41fd2f(0x766)])[_0x41fd2f(0x136)](_0x2c16e6=>({'nodeId':_0x2c16e6['nodeId'],'type':_0x2c16e6[_0x41fd2f(0x3cb)]}))});const _0x2c8f24=Array[_0x41fd2f(0x779)](this['answers'])['map'](_0x1790de=>_0x1790de['nodeId']);this[_0x41fd2f(0x6c6)]=_0x4046c8,this[_0x41fd2f(0x235)][_0x41fd2f(0x707)]({'sourceId':_0x33eb61,'destinationIds':_0x2c8f24,'messageType':_0x769e55['Subscription'],'content':{'type':_0x111869[_0x41fd2f(0x288)],'label':_0x3ccd59,'ownerId':_0x3ab719,'trackKinds':_0x5546e2,'params':_0x4046c8}}),_0x287307['log'](_0x54918a[_0x41fd2f(0x566)],_0x41fd2f(0x784),_0x33eb61,_0x2c8f24);}[_0x57df12(0x20d)](_0x2c2685,_0x2b2543){const _0xe7db29=_0x57df12;switch(_0x2b2543[_0xe7db29(0x3cb)]){case _0x111869[_0xe7db29(0x2ba)]:{const _0x5d261d=this['currentDistance']>=_0x2b2543[_0xe7db29(0x54e)]&&_0x2b2543[_0xe7db29(0x54e)]<=this[_0xe7db29(0x1b3)],_0x1689fa=Array[_0xe7db29(0x779)](this[_0xe7db29(0x766)])[_0xe7db29(0x775)](_0xd14bdd=>_0xd14bdd[_0xe7db29(0x4d3)]===_0x2c2685);_0x1689fa[_0xe7db29(0x3cb)]=_0x5d261d?_0x34a0b4['Accepted']:_0x34a0b4[_0xe7db29(0x3b0)],_0x1689fa[_0xe7db29(0x437)]=_0x2b2543[_0xe7db29(0x437)],_0x1689fa[_0xe7db29(0x54e)]=_0x2b2543[_0xe7db29(0x54e)],_0x1689fa['streamId']=_0x2b2543[_0xe7db29(0x56f)],_0x1689fa[_0xe7db29(0x289)]=Date[_0xe7db29(0x68a)]()-this['startTime'],_0x1689fa[_0xe7db29(0x6c6)]=this[_0xe7db29(0x6c6)],_0x1689fa[_0xe7db29(0x493)]=_0x2b2543[_0xe7db29(0x493)],_0x1689fa[_0xe7db29(0x1a8)]=_0x2b2543[_0xe7db29(0x1a8)],_0x1689fa['streamLabel']=_0x2b2543[_0xe7db29(0x52a)],_0x287307[_0xe7db29(0x60a)](_0x54918a[_0xe7db29(0x566)],(_0x5d261d?'Accepted':'Rejected')+_0xe7db29(0x301),_0x1689fa);break;}case _0x111869[_0xe7db29(0x17d)]:{const _0x44bdb1=Array[_0xe7db29(0x779)](this[_0xe7db29(0x766)])['find'](_0x4eef5c=>_0x4eef5c[_0xe7db29(0x4d3)]===_0x2c2685);_0x44bdb1['type']=_0x34a0b4[_0xe7db29(0x3b0)],_0x287307[_0xe7db29(0x60a)](_0x54918a[_0xe7db29(0x566)],_0xe7db29(0x3d3),_0x44bdb1);break;}}if(this[_0xe7db29(0x5ec)]())return this[_0xe7db29(0x628)]();}[_0x57df12(0x628)](){const _0x507aae=_0x57df12,_0xc674e0=Array['from'](this['answers'])[_0x507aae(0x49b)](_0x45091c=>_0x45091c[_0x507aae(0x3cb)]===_0x34a0b4[_0x507aae(0x46e)])[_0x507aae(0x185)]((_0x2a1c3f,_0x3d3dc0)=>_0x2a1c3f[_0x507aae(0x437)]===_0x3d3dc0[_0x507aae(0x437)]?_0x2a1c3f[_0x507aae(0x289)]-_0x3d3dc0['roundTripTime']:_0x2a1c3f[_0x507aae(0x437)]-_0x3d3dc0[_0x507aae(0x437)]);if(0x0===_0xc674e0['length'])throw new _0x4158de(_0x4158de['codes'][_0x507aae(0x22f)],{'answers':Array[_0x507aae(0x779)](this['answers'])[_0x507aae(0x136)](_0x5d6d62=>({'nodeId':_0x5d6d62['nodeId'],'type':_0x5d6d62[_0x507aae(0x3cb)]}))});return _0x287307[_0x507aae(0x60a)](_0x54918a[_0x507aae(0x566)],_0x507aae(0x4e3),_0xc674e0[0x0],this[_0x507aae(0x766)]),_0xc674e0[0x0];}[_0x57df12(0x5ec)](){const _0x36837b=_0x57df12;for(const _0x4befd3 of this[_0x36837b(0x766)])if(_0x4befd3[_0x36837b(0x3cb)]===_0x34a0b4[_0x36837b(0x34b)])return!0x1;return!0x0;}}class _0x418e63{[_0x57df12(0x52a)];[_0x57df12(0x55e)];[_0x57df12(0x448)]=_0x3f0774();constructor(_0x10b947,_0x1f16ff){const _0x31f1c6=_0x57df12;this[_0x31f1c6(0x52a)]=_0x10b947,this[_0x31f1c6(0x55e)]=_0x1f16ff;}[_0x57df12(0x171)](){return this['label'];}[_0x57df12(0x632)](){return this['contentType'];}[_0x57df12(0x14b)](_0x493bfd){const _0x561066=_0x57df12;_0x493bfd[_0x561066(0x293)](this);}[_0x57df12(0x756)](_0x5451c6){const _0xc76f9e=_0x57df12;_0x5451c6[_0xc76f9e(0x3f0)](this);}[_0x57df12(0x707)](_0x29b7d0){const _0x39fb90=_0x57df12;this[_0x39fb90(0x448)][_0x39fb90(0x707)]({'topicLabel':this[_0x39fb90(0x52a)],'contentType':this[_0x39fb90(0x55e)],'uuid':(0x0,_0x1f2ad5['v4'])(),'recipients':[],..._0x29b7d0});}['subscribe'](_0x1e34d2){const _0x484834=_0x57df12;return this[_0x484834(0x448)]['subscribe'](_0x1e34d2);}[_0x57df12(0x744)](_0x5b6c30){_0x5b6c30['unregisterPublisher'](this);}[_0x57df12(0x472)](_0x205597){const _0x20398a=_0x57df12;_0x205597[_0x20398a(0x28d)](this);}}class _0x5c4f7b{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x57df12(0x30a)];constructor(_0x1a6f50){const _0x4067d6=_0x57df12;this[_0x4067d6(0x30a)]=_0x1a6f50;}get[_0x57df12(0x1ba)](){const _0x141fea=_0x57df12;return this[_0x141fea(0x686)][_0x141fea(0x1ba)];}get['topics'](){const _0x32b27d=_0x57df12;return this[_0x32b27d(0x686)][_0x32b27d(0x477)];}[_0x57df12(0x27c)](_0x562168,_0x45dddc){const _0x56acad=_0x57df12,_0x3a5491=this[_0x56acad(0x30a)](_0x45dddc),_0x2c63d7=_0xed33d0(_0x562168);if(!_0x3a5491['supportsContentType'])throw new _0x4158de(_0x4158de[_0x56acad(0x67f)][_0x56acad(0x780)],{'message':_0x2c63d7+':\x20'+_0x3a5491[_0x56acad(0x69e)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x3a5491['contentType'],'subscriptionType':_0x562168,'subscription':_0x45dddc,'subscriptonParts':_0x3a5491});const _0x5bc6fa=_0x71c56e(_0x562168,_0x3a5491);if(this[_0x56acad(0x686)][_0x56acad(0x1ba)][_0x56acad(0x245)](_0x5bc6fa))throw new _0x4158de(_0x4158de[_0x56acad(0x67f)][_0x56acad(0x780)],{'message':_0x2c63d7+':\x20'+_0x5bc6fa+_0x56acad(0x535),'subscriptionType':_0x562168,'subscription':_0x45dddc,'subscriptonParts':_0x3a5491});this[_0x56acad(0x686)][_0x56acad(0x1ba)]['set'](_0x5bc6fa,_0x45dddc),this[_0x56acad(0x3cd)](_0x3a5491,_0x45dddc);}['removeSubscription'](_0x58868c,_0xc8d35d){const _0x432cfd=_0x57df12,_0x4e08ea=_0x71c56e(_0xc8d35d,_0x58868c),_0xbdd318=this['maps'][_0x432cfd(0x1ba)][_0x432cfd(0x351)](_0x4e08ea);if(!_0xbdd318)throw new _0x4158de(_0x4158de[_0x432cfd(0x67f)][_0x432cfd(0x780)],{'message':_0xed33d0(_0xc8d35d)+':\x20'+_0x4e08ea+_0x432cfd(0x728),'subscriptionType':_0xc8d35d,'subscription':_0xbdd318,'subscriptonParts':_0x58868c});this[_0x432cfd(0x5c8)](_0xbdd318,_0x4e08ea,_0x58868c);}[_0x57df12(0x5c8)](_0x14d757,_0x41d441,_0x927992){const _0x5e29b6=_0x57df12;_0x927992=_0x927992||this[_0x5e29b6(0x30a)](_0x14d757),this[_0x5e29b6(0x686)]['subscriptions'][_0x5e29b6(0x403)](_0x41d441),this[_0x5e29b6(0x5ac)](_0x927992,_0x14d757);}[_0x57df12(0x3cd)](_0x114dcd,{source:_0xeb51b,destination:_0x16f84a}){const _0xbe1d91=_0x57df12,{contentType:_0x3a4198,label:_0x51d4a8,remoteId:_0x46e2d6}=_0x114dcd,_0x186b20=_0x5319ff(_0x3a4198,_0x51d4a8,_0x46e2d6),_0x27d09d=new _0x418e63(_0x186b20,_0x3a4198);_0x27d09d[_0xbe1d91(0x14b)](_0xeb51b),_0x27d09d[_0xbe1d91(0x756)](_0x16f84a),this[_0xbe1d91(0x686)][_0xbe1d91(0x477)][_0xbe1d91(0x6dc)](_0x27d09d[_0xbe1d91(0x171)](),_0x27d09d);}[_0x57df12(0x5ac)](_0x4d1500,_0x2fe5ca){const _0x49adc6=_0x57df12,{contentType:_0x198701,label:_0x18622e,remoteId:_0x292db6}=_0x4d1500,_0x3d2e72=_0x5319ff(_0x198701,_0x18622e,_0x292db6),_0xc0955=this[_0x49adc6(0x686)][_0x49adc6(0x477)][_0x49adc6(0x351)](_0x3d2e72);_0xc0955&&(this[_0x49adc6(0x641)](_0xc0955,_0x2fe5ca),this[_0x49adc6(0x686)]['topics'][_0x49adc6(0x403)](_0x3d2e72));}[_0x57df12(0x641)](_0x2f8af4,{source:_0x575bf2,destination:_0x4b204c}){const _0x2c985c=_0x57df12;_0x2f8af4[_0x2c985c(0x744)](_0x575bf2),_0x2f8af4[_0x2c985c(0x472)](_0x4b204c);}['removeSubscriptionsForNode'](_0x492b49){const _0x2532aa=_0x57df12;this[_0x2532aa(0x686)][_0x2532aa(0x1ba)][_0x2532aa(0x3bd)]((_0xe8c276,_0x1daee4)=>{const _0x5e8982=_0x2532aa;_0x1daee4[_0x5e8982(0x66e)](_0x492b49)&&this[_0x5e8982(0x5c8)](_0xe8c276,_0x1daee4);});}}class _0x2a1fa8{[_0x57df12(0x549)];['maxDistance'];['subscriptionRequests']=new Map();[_0x57df12(0x391)]=_0x3b6694(new _0x177d87(this[_0x57df12(0x348)]['bind'](this),()=>_0xdd3be7[_0x57df12(0x1c3)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();[_0x57df12(0x686)];[_0x57df12(0x2e0)]=new Map();constructor(_0x2242a7,_0x2ea36d){const _0x3f6496=_0x57df12;this['configs']=_0x2242a7,this['maxDistance']=_0x2ea36d,this[_0x3f6496(0x686)]=new _0x5c4f7b(({source:_0x48b7b1,destination:_0x157512})=>_0xf1991(_0x157512,_0x48b7b1));}[_0x57df12(0x27c)](_0x40f9a3,_0x4d5d70){const _0x497692=_0x57df12,_0x141003=this['isMediaSource'](_0x40f9a3)&&this[_0x497692(0x1ca)](_0x4d5d70)?new _0x2c6476(_0x40f9a3,_0x4d5d70):new _0x1ebfa8(_0x40f9a3,_0x4d5d70);this[_0x497692(0x686)][_0x497692(0x27c)](_0x26866c[_0x497692(0x18c)],_0x141003),this[_0x497692(0x549)][_0x497692(0x431)][_0x497692(0x534)](_0x141003);}['removeSubscription'](_0x278c52,_0x1a13ef,_0x1afc54=''){const _0x286019=_0x57df12,_0x24b5a8={'contentType':_0x1a13ef,'label':_0x278c52,'remoteId':_0x1afc54},_0x39537d=_0x71c56e(_0x26866c['Incoming'],_0x24b5a8),_0x2c09b7=this['maps'][_0x286019(0x1ba)]['get'](_0x39537d);_0x2c09b7&&this[_0x286019(0x5c8)](_0x2c09b7,_0x39537d);}['handleContentUnpublishMediaStream'](_0x56defe){const _0x3cb515=_0x57df12;this[_0x3cb515(0x520)](_0x56defe);}[_0x57df12(0x48b)]({label:_0x41b88a,ownerId:_0x4e9966,trackKinds:_0x2812eb,params:_0x6a7263}){const _0x4c088e=_0x57df12;this[_0x4c088e(0x329)](_0x41b88a,_0x4e9966,_0x2812eb,_0x6a7263);}[_0x57df12(0x378)]({ownerId:_0x53ecaf,label:_0x37d699,params:_0x554cd5}){const _0x2cf0d2=_0x57df12,{subscriptionLabel:_0x52cfb9}=this[_0x2cf0d2(0x2be)](_0x37d699,_0x53ecaf),_0x47b19d=this[_0x2cf0d2(0x282)](_0x52cfb9);_0x47b19d&&_0x47b19d[_0x2cf0d2(0x4be)](_0x53ecaf,_0x554cd5);}[_0x57df12(0x1c4)]({ownerId:_0x4a8ab8,label:_0x3994f4,trackKinds:_0x4cae7c,remainingTracks:_0x474124}){const _0x2ec052=_0x57df12,_0x5596f0=_0x71c56e(_0x26866c[_0x2ec052(0x18c)],{'contentType':_0x36cc4b['ContentType'][_0x2ec052(0x50a)],'label':_0x3994f4,'remoteId':_0x4a8ab8});this[_0x2ec052(0x17e)](_0x5596f0);const _0x2a5ba4=this[_0x2ec052(0x774)][_0x2ec052(0x351)](_0x5596f0);_0x2a5ba4&&(this[_0x2ec052(0x549)]['mediator'][_0x2ec052(0x679)](_0x2a5ba4),this[_0x2ec052(0x774)]['delete'](_0x5596f0));const {parts:_0x1d4a35,subscriptionLabel:_0x212c00}=this[_0x2ec052(0x2be)](_0x3994f4,_0x4a8ab8),_0x209023=this['getMediaSubscription'](_0x212c00);_0x209023&&(_0x209023[_0x2ec052(0x246)](_0x4a8ab8,_0x474124,_0x4cae7c),0x0===_0x474124&&this[_0x2ec052(0x4f2)](_0x1d4a35[_0x2ec052(0x52a)],_0x1d4a35[_0x2ec052(0x55e)],_0x1d4a35[_0x2ec052(0x69e)]));}[_0x57df12(0x6ab)](_0x855555,{label:_0x135ac0,ownerId:_0x26ed8c,trackKinds:_0x560f2d,streamId:_0x3e0848,params:_0x587ecf}){const _0x798320=_0x57df12,_0x469248=_0x71c56e(_0x26866c[_0x798320(0x18c)],{'contentType':_0x36cc4b[_0x798320(0x444)][_0x798320(0x50a)],'label':_0x3e0848,'remoteId':_0x855555}),_0x4030a3=this[_0x798320(0x686)][_0x798320(0x1ba)][_0x798320(0x351)](_0x469248);if(!(_0x4030a3&&_0x4030a3 instanceof _0x2c6476))throw new _0x4158de(_0x4158de['codes'][_0x798320(0x4a9)],{'label':_0x469248,'ownerId':_0x26ed8c});this[_0x798320(0x5c8)](_0x4030a3,_0x469248),this[_0x798320(0x329)](_0x135ac0,_0x26ed8c,_0x560f2d,_0x587ecf);}[_0x57df12(0x353)](_0x333b58,_0x36fff9){const _0x55f903=_0x57df12,{label:_0x55d1bb,ownerId:_0x321c83,trackKinds:_0x409a37,params:_0x1ab782}=_0x36fff9,_0x38f11b=_0x71c56e(_0x26866c[_0x55f903(0x18c)],{'contentType':_0x36cc4b[_0x55f903(0x444)][_0x55f903(0x50a)],'label':_0x55d1bb,'remoteId':_0x321c83});if(!this[_0x55f903(0x774)][_0x55f903(0x245)](_0x38f11b))throw new _0x4158de(_0x4158de[_0x55f903(0x67f)][_0x55f903(0x4a9)],{'label':_0x38f11b,'ownerId':_0x321c83,'streamId':_0x36fff9[_0x55f903(0x56f)],'requests':this[_0x55f903(0x774)]});const _0x39ff0e=this['subscriptionRequests'][_0x55f903(0x351)](_0x38f11b);if(_0x409a37[_0x55f903(0x5fc)]===_0x39ff0e[_0x55f903(0x548)]()[_0x55f903(0x5fc)]&&_0x409a37[_0x55f903(0x304)](_0x2df231=>_0x39ff0e[_0x55f903(0x548)]()['includes'](_0x2df231)))try{const _0x3cb1ef=_0x39ff0e[_0x55f903(0x20d)](_0x333b58,_0x36fff9);if(!_0x3cb1ef)return;this['subscribe'](_0x3cb1ef,_0x321c83,_0x55d1bb,_0x38f11b,_0x409a37);}catch(_0xba12ad){return void this['handleNoAnswer'](_0x55d1bb,_0x321c83,_0x409a37,_0x1ab782);}}[_0x57df12(0x76a)](_0x1e9534,{label:_0x3c0aea,ownerId:_0x57546c,trackKinds:_0xb71c80}){const _0x11bdbb=_0x57df12,_0x218674=this['configs']['mediator'][_0x11bdbb(0x44f)](_0x57546c,_0x3c0aea);if(!_0x218674)return;const _0x1fdd08=_0x218674[_0x11bdbb(0x14c)](),_0x281156=_0x218674[_0x11bdbb(0x208)]();_0x281156[_0x11bdbb(0x489)](_0x445605=>_0xb71c80[_0x11bdbb(0x595)](_0x445605))&&this[_0x11bdbb(0x314)](_0x1e9534,_0x3c0aea,_0x1fdd08,_0x57546c,_0x281156);}['handleContentRemoteMediaStreamTrackFail']({label:_0x56d36d,providerId:_0x2f9801,ownerId:_0x1973a2,streamId:_0x5b69be,trackKinds:_0x250486}){const _0x1da295=_0x57df12;this[_0x1da295(0x314)](_0x2f9801,_0x56d36d,_0x5b69be,_0x1973a2,_0x250486);}[_0x57df12(0x23e)](_0x268b74){const _0x77d102=_0x57df12;for(const _0x2f50f1 of this[_0x77d102(0x2e0)][_0x77d102(0x49e)]()){const {streamLabel:_0x429b97,ownerId:_0x28af4d,trackKinds:_0x58238e,params:_0xc0a627}=_0x2f50f1;if(!_0x28af4d||!_0x58238e||!_0x429b97)return;this['subscriptionRequestsQueue']['push']({'label':_0x429b97,'ownerId':_0x28af4d,'trackKinds':_0x58238e,'params':_0xc0a627,'remoteId':_0x268b74});}}[_0x57df12(0x712)](_0x7ae834){const _0x1bbace=_0x57df12;this[_0x1bbace(0x686)][_0x1bbace(0x1ba)]['forEach']((_0x51f1dc,_0xade90c)=>{const _0x55563c=_0x1bbace;if(_0xade90c[_0x55563c(0x66e)](_0x7ae834)){if(_0x51f1dc['destination'][_0x55563c(0x632)]()===_0x36cc4b[_0x55563c(0x444)]['Media']){const _0x1d07d4=_0x51f1dc[_0x55563c(0x52e)];if(_0x1d07d4['getSubscribedTracks']()[_0x55563c(0x5fc)]>0x0){const _0x318c86={'type':_0x111869[_0x55563c(0x380)],'label':_0x1d07d4[_0x55563c(0x171)](),'ownerId':_0x1d07d4[_0x55563c(0x778)](),'trackKinds':_0x1d07d4['getSubscribedTracks']()};return void this[_0x55563c(0x76a)](_0x7ae834,_0x318c86);}}this[_0x55563c(0x5c8)](_0x51f1dc,_0xade90c);}});}[_0x57df12(0x42b)](){const _0x1f4568=_0x57df12;this[_0x1f4568(0x686)][_0x1f4568(0x1ba)][_0x1f4568(0x3bd)](this['closeSubscription'][_0x1f4568(0x61c)](this));}['subscribe'](_0x260e0d,_0x14dc67,_0x448396,_0x2490cd,_0x12ca75){const _0x19e5ae=_0x57df12,_0x35c7e7=this[_0x19e5ae(0x549)][_0x19e5ae(0x431)][_0x19e5ae(0x6e0)](_0x260e0d[_0x19e5ae(0x4d3)]),_0x2bb6f0=this[_0x19e5ae(0x549)][_0x19e5ae(0x431)][_0x19e5ae(0x44f)](_0x14dc67,_0x448396);this[_0x19e5ae(0x17e)](_0x2490cd),this['subscriptionRequests'][_0x19e5ae(0x245)](_0x2490cd)&&(this['configs']['mediator'][_0x19e5ae(0x679)](this['subscriptionRequests'][_0x19e5ae(0x351)](_0x2490cd)),this[_0x19e5ae(0x774)]['delete'](_0x2490cd)),this[_0x19e5ae(0x757)](_0x260e0d,_0x14dc67,_0x448396,_0x2bb6f0),_0x2bb6f0[_0x19e5ae(0x6cb)](_0x260e0d[_0x19e5ae(0x56f)]),_0x2bb6f0[_0x19e5ae(0x146)](_0x260e0d['nodeId']);const _0x270f46=_0xf1991(_0x2bb6f0,_0x35c7e7),_0x4515ad=_0x71c56e(_0x26866c[_0x19e5ae(0x18c)],_0x270f46);this['maps']['subscriptions'][_0x19e5ae(0x245)](_0x4515ad)||this[_0x19e5ae(0x27c)](_0x35c7e7,_0x2bb6f0);const _0x1a9643=this['maps']['subscriptions']['get'](_0x4515ad);if(!(_0x1a9643&&_0x1a9643 instanceof _0x2c6476))throw new _0x4158de(_0x4158de['codes'][_0x19e5ae(0x4a9)],{'label':_0x2490cd,'ownerId':_0x14dc67});_0x287307[_0x19e5ae(0x2e6)](_0x19e5ae(0x6ac),{'clusterId':this[_0x19e5ae(0x549)]['clusterId'],'nodeId':this[_0x19e5ae(0x549)][_0x19e5ae(0x749)][_0x19e5ae(0x5a9)](),'nodeType':this['configs']['localNode']['type'],'data':{'subscriptionLabel':_0x4515ad,'chosenAnswer':_0x260e0d}}),this[_0x19e5ae(0x2e0)][_0x19e5ae(0x6dc)](_0x4515ad,_0x260e0d),_0x1a9643['subscribe'](_0x14dc67,_0x12ca75,_0x260e0d[_0x19e5ae(0x6c6)]);}[_0x57df12(0x520)]({ownerId:_0x3c1d85,label:_0x583943}){const _0x29ccea=_0x57df12,_0x586e31=this[_0x29ccea(0x549)][_0x29ccea(0x431)][_0x29ccea(0x44f)](_0x3c1d85,_0x583943),[_0x130866,_0x3f7107]=Array[_0x29ccea(0x779)](this['maps'][_0x29ccea(0x1ba)][_0x29ccea(0x1f4)]())[_0x29ccea(0x775)](([_0x5cae9a,_0x4a7514])=>-0x1!==_0x5cae9a['indexOf'](_0x586e31['getInternalStreamId']()));return this[_0x29ccea(0x5c8)](_0x3f7107,_0x130866);}[_0x57df12(0x5c8)](_0x37bbd7,_0x30a1da){const _0x36aaf7=_0x57df12;this[_0x36aaf7(0x549)][_0x36aaf7(0x431)][_0x36aaf7(0x679)](_0x37bbd7),this[_0x36aaf7(0x686)][_0x36aaf7(0x5c8)](_0x37bbd7,_0x30a1da);}[_0x57df12(0x536)](_0x51431f){const _0x10147d=_0x57df12;return _0x51431f[_0x10147d(0x402)]()[_0x10147d(0x595)](_0x36cc4b['ContentType'][_0x10147d(0x50a)]);}[_0x57df12(0x1ca)](_0x37da46){const _0x34ff32=_0x57df12;return _0x37da46[_0x34ff32(0x632)]()===_0x36cc4b[_0x34ff32(0x444)][_0x34ff32(0x50a)];}async[_0x57df12(0x2bd)](_0xdda422,_0x4305c5,_0x52d448,_0x5569b5){const _0x298dca=_0x57df12;await _0xdd3be7[_0x298dca(0x1c3)](0x3e8);const _0x4d2b53=_0x71c56e(_0x26866c[_0x298dca(0x18c)],{'contentType':_0x36cc4b[_0x298dca(0x444)]['Media'],'label':_0xdda422,'remoteId':_0x4305c5});this['clearSubscriptionRequestTimeout'](_0x4d2b53);const _0x17ebf6=this['subscriptionRequests'][_0x298dca(0x351)](_0x4d2b53);if(!_0x17ebf6)throw new _0x4158de(_0x4158de['codes'][_0x298dca(0x4a9)],{'label':_0x4d2b53,'ownerId':_0x4305c5});const _0x1ed2e9=this['configs']['mediator']['getConnections'](_0x45eb97=>_0x45eb97[_0x298dca(0x74b)]()),_0x232d41=this[_0x298dca(0x549)][_0x298dca(0x431)]['getDistance'](this[_0x298dca(0x549)]['localNode'][_0x298dca(0x5a9)](),_0x4305c5);_0x17ebf6[_0x298dca(0x1f2)](_0x1ed2e9[_0x298dca(0x136)](_0x55ea4e=>_0x55ea4e[_0x298dca(0x797)]()),_0x232d41);try{_0x17ebf6[_0x298dca(0x1cf)](this[_0x298dca(0x549)]['localNode'][_0x298dca(0x5a9)](),_0x4305c5,_0xdda422,_0x52d448,_0x5569b5),this[_0x298dca(0x62b)](_0xdda422,_0x4305c5,_0x52d448,_0x5569b5,_0x4d2b53,_0x17ebf6);}catch(_0x234d1a){this[_0x298dca(0x391)][_0x298dca(0x374)]({'label':_0xdda422,'ownerId':_0x4305c5,'trackKinds':_0x52d448,'params':_0x5569b5});}}[_0x57df12(0x329)](_0x3d1d0f,_0x1b5d8c,_0x105918,_0x366e97){const _0x3a2dee=_0x57df12;this[_0x3a2dee(0x391)][_0x3a2dee(0x374)]({'label':_0x3d1d0f,'ownerId':_0x1b5d8c,'trackKinds':_0x105918,'params':_0x366e97});}[_0x57df12(0x348)]({label:_0x118674,ownerId:_0x41cbe8,trackKinds:_0x47a226,params:_0x384cce,remoteId:_0x4b10bf}){const _0x4a9059=_0x57df12;if(!this['configs'][_0x4a9059(0x431)][_0x4a9059(0x44f)](_0x41cbe8,_0x118674))return;if(!this['configs']['mediator'][_0x4a9059(0x5ab)]()['getRank']())throw new Error(_0x4a9059(0x202));if(_0x4b10bf){const _0x2e91bb=this[_0x4a9059(0x549)][_0x4a9059(0x431)]['getRemoteNodes']()[_0x4a9059(0x775)](_0x2b8ffa=>_0x2b8ffa[_0x4a9059(0x5a9)]()===_0x4b10bf),_0x13a99e=_0x2e91bb?.[_0x4a9059(0x576)]();if(!_0x2e91bb||!_0x13a99e)throw new Error(_0x4a9059(0x4b3));const _0x2e3160=this[_0x4a9059(0x549)][_0x4a9059(0x431)]['getRemoteNodes']()[_0x4a9059(0x775)](_0x25c0ae=>_0x25c0ae[_0x4a9059(0x5a9)]()===_0x41cbe8),_0x12a751=_0x2e3160?.[_0x4a9059(0x576)]();if(!_0x2e3160||!_0x12a751)throw new Error(_0x4a9059(0x11b));const _0x31c2c2=this[_0x4a9059(0x2e0)][_0x4a9059(0x351)](_0x118674);if(_0x31c2c2){const _0x13d5c5=this['configs'][_0x4a9059(0x431)][_0x4a9059(0x552)]()[_0x4a9059(0x775)](_0x59894a=>_0x59894a[_0x4a9059(0x5a9)]()===_0x31c2c2[_0x4a9059(0x4d3)]),_0x43e20f=_0x13d5c5?.[_0x4a9059(0x576)]();if(!_0x13d5c5||!_0x43e20f)throw new Error(_0x4a9059(0x236));if(Math[_0x4a9059(0x342)](_0x43e20f-_0x12a751)<Math['abs'](_0x13a99e-_0x12a751))return;}}const _0x115a15=this[_0x4a9059(0x549)]['mediator'][_0x4a9059(0x4de)](_0x545350=>_0x545350[_0x4a9059(0x74b)]()&&(!_0x4b10bf||_0x545350[_0x4a9059(0x797)]()===_0x4b10bf));if(!_0x115a15[_0x4a9059(0x5fc)]||0x0===_0x115a15[_0x4a9059(0x5fc)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x5fe54=this['configs'][_0x4a9059(0x431)][_0x4a9059(0x382)](this['configs'][_0x4a9059(0x749)][_0x4a9059(0x5a9)](),_0x41cbe8),_0x489d62=_0x71c56e(_0x26866c['Incoming'],{'contentType':_0x36cc4b[_0x4a9059(0x444)][_0x4a9059(0x50a)],'label':_0x118674,'remoteId':_0x41cbe8});if(this['subscriptionRequests'][_0x4a9059(0x245)](_0x489d62)){if(_0x4b10bf)throw new Error(_0x4a9059(0x21a));const _0x30c219=this[_0x4a9059(0x774)][_0x4a9059(0x351)](_0x489d62)[_0x4a9059(0x548)]();if(_0x30c219[_0x4a9059(0x5fc)]===_0x47a226[_0x4a9059(0x5fc)]&&_0x30c219[_0x4a9059(0x304)](_0x1a7abc=>_0x47a226[_0x4a9059(0x595)](_0x1a7abc)))return;this[_0x4a9059(0x549)][_0x4a9059(0x431)][_0x4a9059(0x679)](this[_0x4a9059(0x774)][_0x4a9059(0x351)](_0x489d62)),this[_0x4a9059(0x774)]['delete'](_0x489d62),_0x47a226=Array[_0x4a9059(0x779)](new Set(_0x47a226[_0x4a9059(0x2d6)](_0x30c219))),this[_0x4a9059(0x17e)](_0x489d62);}const _0x9c7cad=new _0x265184(_0x115a15[_0x4a9059(0x136)](_0xcb5e4f=>_0xcb5e4f[_0x4a9059(0x797)]()),_0x5fe54,this[_0x4a9059(0x1b3)],_0x47a226);this[_0x4a9059(0x549)]['mediator']['registerSystemSource'](_0x9c7cad),this[_0x4a9059(0x774)][_0x4a9059(0x6dc)](_0x489d62,_0x9c7cad),_0x9c7cad['sendRequest'](this[_0x4a9059(0x549)]['localNode']['getId'](),_0x41cbe8,_0x118674,_0x47a226,_0x384cce),this[_0x4a9059(0x62b)](_0x118674,_0x41cbe8,_0x47a226,_0x384cce,_0x489d62,_0x9c7cad);}[_0x57df12(0x17e)](_0x585436){const _0x54c6e3=_0x57df12;this['subscriptionRequestTimeouts']['has'](_0x585436)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x54c6e3(0x351)](_0x585436)),this['subscriptionRequestTimeouts']['delete'](_0x585436));}['setSubscriptionRequestTimeout'](_0x41d52f,_0xe71990,_0x3d15fe,_0x497078,_0x3fe248,_0x371d72){const _0x1f2f2b=_0x57df12;this[_0x1f2f2b(0x17e)](_0x3fe248),this['subscriptionRequestTimeouts'][_0x1f2f2b(0x6dc)](_0x3fe248,setTimeout(()=>{const _0x3dfa50=_0x1f2f2b;this[_0x3dfa50(0x667)]['delete'](_0x3fe248);try{const _0x5c2e37=_0x371d72[_0x3dfa50(0x628)]();this[_0x3dfa50(0x76e)](_0x5c2e37,_0xe71990,_0x41d52f,_0x3fe248,_0x3d15fe);}catch(_0x4e15a5){this['handleNoAnswer'](_0x41d52f,_0xe71990,_0x3d15fe,_0x497078);}},0x7d0));}[_0x57df12(0x314)](_0x4bb707,_0x123013,_0x5a682c,_0x1ded30,_0x31465c){const _0x1a815d=_0x57df12,{subscriptionLabel:_0x53a955}=this['getSubscriptionLabel'](_0x123013,_0x1ded30),_0x6e475b=this[_0x1a815d(0x282)](_0x53a955),_0x1bd78b=_0x6e475b?.[_0x1a815d(0x6c6)];_0x6e475b&&(_0x6e475b['unsubscribe'](_0x1ded30,0x0),this[_0x1a815d(0x4f2)](_0x5a682c,_0x36cc4b[_0x1a815d(0x444)]['Media'],_0x4bb707)),this['requestSubscription'](_0x123013,_0x1ded30,_0x31465c,_0x1bd78b);}[_0x57df12(0x282)](_0xb6e603){const _0x4c8939=_0x57df12,_0x2b045c=this['maps'][_0x4c8939(0x1ba)][_0x4c8939(0x351)](_0xb6e603);if(_0x2b045c){if(!(_0x2b045c instanceof _0x2c6476))throw new _0x4158de(_0x4158de['codes']['InvalidSubscription'],{'label':_0xb6e603,'subscription':_0x2b045c});return _0x2b045c;}}[_0x57df12(0x2be)](_0x4e661e,_0x1781c9){const _0x35b540=_0x57df12,_0x40ea4b=this[_0x35b540(0x4d1)](_0x4e661e,_0x1781c9);return{'parts':_0x40ea4b,'subscriptionLabel':_0x71c56e(_0x26866c[_0x35b540(0x18c)],_0x40ea4b)};}[_0x57df12(0x4d1)](_0x3c4ddf,_0x2022f9){const _0x83ae5e=_0x57df12,_0x995baa=this[_0x83ae5e(0x549)][_0x83ae5e(0x431)][_0x83ae5e(0x44f)](_0x2022f9,_0x3c4ddf),_0x517df2=_0x995baa[_0x83ae5e(0x6b0)]();if(!_0x517df2)throw new _0x4158de(_0x4158de['codes'][_0x83ae5e(0x6a0)],{'label':_0x3c4ddf,'streamId':_0x995baa[_0x83ae5e(0x14c)](),'ownerId':_0x2022f9,'localId':this[_0x83ae5e(0x549)][_0x83ae5e(0x749)][_0x83ae5e(0x5a9)]()});return{'contentType':_0x36cc4b['ContentType'][_0x83ae5e(0x50a)],'label':_0x995baa['getInternalStreamId'](),'remoteId':_0x517df2};}[_0x57df12(0x757)](_0x16d2af,_0x5da70a,_0xcc94d6,_0x5c5a92){const _0xb21bb8=_0x57df12,_0x58aee1=_0x5c5a92[_0xb21bb8(0x6b0)]();if(_0x58aee1&&_0x58aee1!==_0x16d2af['nodeId']){const {parts:_0x2564de,subscriptionLabel:_0x53317e}=this[_0xb21bb8(0x2be)](_0xcc94d6,_0x5da70a),_0x5571ca=this[_0xb21bb8(0x282)](_0x53317e);_0x5571ca&&(_0x5571ca[_0xb21bb8(0x246)](_0x5da70a,0x0),this[_0xb21bb8(0x4f2)](_0x2564de[_0xb21bb8(0x52a)],_0x2564de[_0xb21bb8(0x55e)],_0x2564de[_0xb21bb8(0x69e)]));}}}class _0x2bac4b{[_0x57df12(0x549)];[_0x57df12(0x27d)];[_0x57df12(0x686)];constructor(_0x18693a,_0x1c11b9){const _0x5936e7=_0x57df12;this[_0x5936e7(0x549)]=_0x18693a,this['maxOutgoingSubscriptions']=_0x1c11b9,this[_0x5936e7(0x686)]=new _0x5c4f7b(({source:_0x4b27ea,destination:_0x2056d5})=>_0xf1991(_0x4b27ea,_0x2056d5));}[_0x57df12(0x27c)](_0x136d48,_0x453aee){const _0x3ab06b=_0x57df12,_0x490741={'source':_0x136d48,'destination':_0x453aee};this[_0x3ab06b(0x686)][_0x3ab06b(0x27c)](_0x26866c['Outgoing'],_0x490741);}[_0x57df12(0x4f2)](_0x79b0bb,_0x432e65,_0x565580=''){const _0x4f4e9f=_0x57df12,_0x2538d9={'contentType':_0x432e65,'label':_0x79b0bb,'remoteId':_0x565580};this[_0x4f4e9f(0x686)][_0x4f4e9f(0x4f2)](_0x2538d9,_0x26866c[_0x4f4e9f(0x782)]);}['handleSubscriptionSubscribeMediaStream'](_0x3e1df3,_0x236005){const _0x2e882a=_0x57df12;let _0x4e980c;_0x4e980c=_0x236005['ownerId']!==this[_0x2e882a(0x549)][_0x2e882a(0x749)][_0x2e882a(0x5a9)]()?this[_0x2e882a(0x549)][_0x2e882a(0x431)][_0x2e882a(0x44f)](_0x236005[_0x2e882a(0x493)],_0x236005[_0x2e882a(0x52a)]):this[_0x2e882a(0x549)][_0x2e882a(0x431)][_0x2e882a(0x741)](_0x236005[_0x2e882a(0x52a)]);const _0x52fd8f=_0x71c56e(_0x26866c[_0x2e882a(0x782)],{'contentType':_0x36cc4b[_0x2e882a(0x444)][_0x2e882a(0x50a)],'label':_0x4e980c['getShareableStreamId'](),'remoteId':_0x3e1df3}),_0x1026e1=this[_0x2e882a(0x759)]();if(!this[_0x2e882a(0x686)][_0x2e882a(0x1ba)][_0x2e882a(0x245)](_0x52fd8f)&&_0x1026e1>=this[_0x2e882a(0x27d)])return{'type':_0x111869[_0x2e882a(0x11e)],'ownerId':_0x236005[_0x2e882a(0x493)],'label':_0x236005[_0x2e882a(0x52a)],'streamId':_0x4e980c[_0x2e882a(0x5f1)](),'trackKinds':_0x236005[_0x2e882a(0x1a8)],'params':_0x236005['params']};_0x4e980c instanceof _0x4ed7d4&&!_0x4e980c[_0x2e882a(0x29e)](_0x236005[_0x2e882a(0x1a8)])&&_0x4e980c[_0x2e882a(0x76e)](_0x236005[_0x2e882a(0x6c6)]),this[_0x2e882a(0x686)][_0x2e882a(0x1ba)][_0x2e882a(0x245)](_0x52fd8f)||this['createSubscription'](_0x4e980c[_0x2e882a(0x4cd)](_0x3e1df3),this[_0x2e882a(0x549)][_0x2e882a(0x431)][_0x2e882a(0x6e0)](_0x3e1df3));}['handleSubscriptionUnsubscribeMediaStream'](_0x51db7d,{label:_0x489d45,ownerId:_0x251c6e,remainingTracks:_0x48456a}){const _0x471b21=_0x57df12;if(_0x48456a>0x0)return;let _0x2f0068;_0x2f0068=_0x251c6e!==this[_0x471b21(0x549)][_0x471b21(0x749)]['getId']()?this['configs'][_0x471b21(0x431)][_0x471b21(0x44f)](_0x251c6e,_0x489d45):this[_0x471b21(0x549)][_0x471b21(0x431)]['getLocalMediaStream'](_0x489d45);const _0x47e78f=_0x2f0068[_0x471b21(0x5f1)](),_0x460347=_0x36cc4b[_0x471b21(0x444)][_0x471b21(0x50a)];this[_0x471b21(0x4f2)](_0x47e78f,_0x460347,_0x51db7d);}[_0x57df12(0x1c4)](_0x491837,{label:_0xfe278a,ownerId:_0x26ab98,trackKinds:_0xe6ae87}){const _0x1a6b4d=_0x57df12;if(_0x491837!==_0x1c5473)return[];let _0x5bb8ea=[];for(const _0x80c04d of this[_0x1a6b4d(0x686)]['subscriptions']){const {source:_0x5d4c89,destination:_0x21b92c}=_0x80c04d[0x1];_0x5d4c89[_0x1a6b4d(0x171)]()===_0xfe278a&&_0x5d4c89[_0x1a6b4d(0x778)]()===_0x26ab98&&_0x5bb8ea[_0x1a6b4d(0x374)]({'sourceId':this[_0x1a6b4d(0x549)][_0x1a6b4d(0x749)][_0x1a6b4d(0x5a9)](),'destinationIds':[_0x21b92c['getRemoteId']()],'messageType':_0x769e55[_0x1a6b4d(0x566)],'content':{'type':_0x111869[_0x1a6b4d(0x380)],'label':_0xfe278a,'ownerId':_0x26ab98,'trackKinds':_0xe6ae87}});}return _0x5bb8ea;}['handleSubscriptionNeedMediaStream'](_0x5a3e95,_0x403fe3){const _0x423c9d=_0x57df12,{label:_0x5b5edc,ownerId:_0x1de4a0,trackKinds:_0x3b7834,params:_0x87e76a}=_0x403fe3,{hasTracks:_0x1897a8,streamId:_0x40a6c7,hasResolution:_0x49ffc7,distance:_0x14ab67,subscriptionLabel:_0x460ada}=this[_0x423c9d(0x45f)](_0x5a3e95,_0x403fe3);let _0x3060d3=this[_0x423c9d(0x759)]()<this['maxOutgoingSubscriptions']&&(_0x1897a8||_0x14ab67>-0x1)?_0x111869[_0x423c9d(0x2ba)]:_0x111869['CannotProvideMediaStream'];const _0x18acd6=_0x14ab67<0x0?0xa:_0x14ab67;let _0x69c99a=_0x1897a8?_0x49ffc7?_0x18acd6:_0x18acd6+0x0:_0x18acd6+0xa;return _0x460ada&&this[_0x423c9d(0x686)][_0x423c9d(0x1ba)][_0x423c9d(0x245)](_0x460ada)&&(_0x1897a8&&(_0x69c99a=0x0),_0x3060d3=_0x111869[_0x423c9d(0x2ba)]),{'type':_0x3060d3,'cost':_0x69c99a,'distance':_0x14ab67,'label':_0x5b5edc,'ownerId':_0x1de4a0,'streamId':_0x40a6c7,'trackKinds':_0x3b7834,'params':_0x87e76a};}[_0x57df12(0x5f8)](_0x3b9680){const _0x250abc=_0x57df12,{label:_0x3a4310,ownerId:_0xa90c9d}=_0x3b9680,_0x398c96=this[_0x250abc(0x549)][_0x250abc(0x431)][_0x250abc(0x44f)](_0xa90c9d,_0x3a4310);this['maps'][_0x250abc(0x1ba)][_0x250abc(0x3bd)](_0x2a42a9=>{const _0x159706=_0x250abc;if(_0x2a42a9[_0x159706(0x6f1)]['getInternalStreamId']()===_0x398c96[_0x159706(0x5f1)]()){const _0x4e3bf7=_0x2a42a9['destination'];this[_0x159706(0x4f2)](_0x398c96[_0x159706(0x5f1)](),_0x36cc4b['ContentType']['Media'],_0x4e3bf7[_0x159706(0x797)]());}});}['handleContentCloseMediaStream']({label:_0x40a012}){const _0x274002=_0x57df12,_0x178d31=this[_0x274002(0x549)]['mediator']['getLocalMediaStream'](_0x40a012);this[_0x274002(0x686)][_0x274002(0x1ba)][_0x274002(0x3bd)](_0x179649=>{const _0x392165=_0x274002;if(_0x179649[_0x392165(0x6f1)]['getInternalStreamId']()===_0x178d31[_0x392165(0x5f1)]()){const _0x3bbe7e=_0x179649[_0x392165(0x52e)];this['removeSubscription'](_0x178d31[_0x392165(0x5f1)](),_0x36cc4b[_0x392165(0x444)][_0x392165(0x50a)],_0x3bbe7e['getRemoteId']());}});}[_0x57df12(0x712)](_0x4f483c){this['maps']['removeSubscriptionsForNode'](_0x4f483c);}['close'](){const _0x3b90b2=_0x57df12;this['maps'][_0x3b90b2(0x1ba)][_0x3b90b2(0x3bd)](this[_0x3b90b2(0x5c8)]['bind'](this));}[_0x57df12(0x5c8)](_0x4971ed,_0x2e7b99){const _0xf79b5b=_0x57df12;this['maps'][_0xf79b5b(0x5c8)](_0x4971ed,_0x2e7b99);}[_0x57df12(0x45f)](_0x31de1c,{label:_0xa72127,ownerId:_0xa1f20a,trackKinds:_0x313a37,params:_0x28dcfb}){const _0xfb83b8=_0x57df12;if(_0xa1f20a!==this['configs'][_0xfb83b8(0x749)][_0xfb83b8(0x5a9)]()){const _0x2356a2=this[_0xfb83b8(0x549)][_0xfb83b8(0x431)][_0xfb83b8(0x44f)](_0xa1f20a,_0xa72127);return _0x2356a2&&_0x2356a2[_0xfb83b8(0x6b0)]()!==_0x31de1c?{'hasTracks':_0x2356a2[_0xfb83b8(0x237)](_0x313a37),'hasResolution':this[_0xfb83b8(0x65b)](_0x2356a2[_0xfb83b8(0x2fe)](),_0x28dcfb),'streamId':_0x2356a2[_0xfb83b8(0x5f1)](),'distance':this['configs']['mediator'][_0xfb83b8(0x382)](_0x31de1c,_0xa1f20a),'subscriptionLabel':_0x71c56e(_0x26866c['Outgoing'],{'contentType':_0x36cc4b[_0xfb83b8(0x444)][_0xfb83b8(0x50a)],'label':_0x2356a2[_0xfb83b8(0x5f1)](),'remoteId':_0x31de1c})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x4fc03d=this['configs'][_0xfb83b8(0x431)]['getLocalMediaStream'](_0xa72127);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x4fc03d[_0xfb83b8(0x5f1)](),'distance':0x0,'subscriptionLabel':_0x71c56e(_0x26866c[_0xfb83b8(0x782)],{'contentType':_0x36cc4b[_0xfb83b8(0x444)][_0xfb83b8(0x50a)],'label':_0x4fc03d[_0xfb83b8(0x5f1)](),'remoteId':_0x31de1c})};}[_0x57df12(0x759)](){const _0x38a703=_0x57df12;return Array[_0x38a703(0x779)](this[_0x38a703(0x686)][_0x38a703(0x1ba)]['entries']())[_0x38a703(0x49b)](([_0x53b438,{source:_0x5003e7}])=>_0x53b438[_0x38a703(0x67e)](_0x26866c[_0x38a703(0x782)])&&_0x5003e7[_0x38a703(0x632)]()===_0x36cc4b[_0x38a703(0x444)][_0x38a703(0x50a)])[_0x38a703(0x5fc)];}['canProvideResolution'](_0x31067e,_0xe44509){const _0x5e573c=_0x57df12;if(!_0xe44509||!_0xe44509[_0x5e573c(0x176)]||_0x5e573c(0x51d)==typeof _0xe44509[_0x5e573c(0x176)]||!_0xe44509['video'][_0x5e573c(0x381)])return!0x0;const {width:_0x3c3208,height:_0x35a251}=_0xe44509['video'][_0x5e573c(0x381)];return _0x31067e[_0x5e573c(0x55b)]>=_0x3c3208&&_0x31067e['height']>=_0x35a251;}}class _0xbbf063{[_0x57df12(0x549)];[_0x57df12(0x27d)];[_0x57df12(0x1b3)];[_0x57df12(0x235)];[_0x57df12(0x47f)];[_0x57df12(0x713)];constructor(_0x3ee611,_0x76d6a9,_0x170cec){const _0x443f7a=_0x57df12;this[_0x443f7a(0x549)]=_0x3ee611,this[_0x443f7a(0x27d)]=_0x76d6a9,this[_0x443f7a(0x1b3)]=_0x170cec,this['configs'][_0x443f7a(0x431)][_0x443f7a(0x534)](this),this[_0x443f7a(0x47f)]=new _0x2a1fa8(this[_0x443f7a(0x549)],this[_0x443f7a(0x1b3)]),this['outgoingManager']=new _0x2bac4b(this[_0x443f7a(0x549)],this['maxOutgoingSubscriptions']);}[_0x57df12(0x432)](_0x189293){const _0x1ecb05=_0x57df12;this[_0x1ecb05(0x235)]=_0x189293;}[_0x57df12(0x446)](){delete this['systemTopic'];}[_0x57df12(0x42b)](){const _0x4409a8=_0x57df12;this[_0x4409a8(0x47f)]['close'](),this[_0x4409a8(0x713)][_0x4409a8(0x42b)](),this[_0x4409a8(0x549)]['mediator']['unregisterSystemSource'](this);}[_0x57df12(0x249)](_0x5e6348,_0xfb8087){const _0x3ee59=_0x57df12;this['incomingManager'][_0x3ee59(0x27c)](_0x5e6348,_0xfb8087);}[_0x57df12(0x164)](_0x2e1126,_0x409199){const _0xfcd426=_0x57df12;this[_0xfcd426(0x713)][_0xfcd426(0x27c)](_0x2e1126,_0x409199);}[_0x57df12(0x5f2)](_0x1f6f17,_0x376455,_0x5def46=''){const _0x348434=_0x57df12;this[_0x348434(0x47f)][_0x348434(0x4f2)](_0x1f6f17,_0x376455,_0x5def46);}[_0x57df12(0x2b1)](_0x1f9fb2,_0x2ed1c3,_0x1ed5bc=''){const _0x3a33cc=_0x57df12;try{this[_0x3a33cc(0x713)]['removeSubscription'](_0x1f9fb2,_0x2ed1c3,_0x1ed5bc);}catch(_0x223815){if(_0x223815 instanceof _0x4158de&&_0x223815[_0x3a33cc(0x518)]===_0x4158de[_0x3a33cc(0x67f)]['InvalidSubscription'])return;}}[_0x57df12(0x20d)](_0x9d2142){const _0x514f56=_0x57df12;switch(_0x9d2142[_0x514f56(0x68e)][_0x514f56(0x3cb)]){case _0x111869['SubscribeMediaStream']:this['handleSubscriptionSubscribeMediaStream'](_0x9d2142['sourceId'],_0x9d2142['content']);break;case _0x111869[_0x514f56(0x1aa)]:this[_0x514f56(0x713)][_0x514f56(0x6bf)](_0x9d2142[_0x514f56(0x579)],_0x9d2142[_0x514f56(0x68e)]);break;case _0x111869[_0x514f56(0x288)]:this[_0x514f56(0x424)](_0x9d2142['sourceId'],_0x9d2142['content']);break;case _0x111869['RestartNeedMediaStream']:this[_0x514f56(0x47f)][_0x514f56(0x6ab)](_0x9d2142[_0x514f56(0x579)],_0x9d2142[_0x514f56(0x68e)]);break;case _0x111869['CanProvideMediaStream']:case _0x111869[_0x514f56(0x17d)]:this[_0x514f56(0x47f)][_0x514f56(0x353)](_0x9d2142[_0x514f56(0x579)],_0x9d2142[_0x514f56(0x68e)]);break;case _0x111869['MediaStreamUnavailable']:this[_0x514f56(0x47f)]['handleSubscriptionMediaStreamUnavailable'](_0x9d2142[_0x514f56(0x579)],_0x9d2142[_0x514f56(0x68e)]);}}[_0x57df12(0x72d)](_0x147989){const _0x12c6c4=_0x57df12;switch(_0x147989['content'][_0x12c6c4(0x3cb)]){case _0x3274d4[_0x12c6c4(0x3ac)]:this[_0x12c6c4(0x47f)]['handleContentUnpublishMediaStream'](_0x147989['content']),this['outgoingManager'][_0x12c6c4(0x5f8)](_0x147989['content']);break;case _0x3274d4[_0x12c6c4(0x7a0)]:this['incomingManager']['handleContentSubscribeMediaStream'](_0x147989[_0x12c6c4(0x68e)]);break;case _0x3274d4[_0x12c6c4(0x325)]:this['incomingManager']['handleContentUpdateMediaStream'](_0x147989['content']);break;case _0x3274d4[_0x12c6c4(0x1aa)]:this[_0x12c6c4(0x1c4)](_0x147989[_0x12c6c4(0x579)],_0x147989[_0x12c6c4(0x68e)]);break;case _0x3274d4[_0x12c6c4(0x2d0)]:this[_0x12c6c4(0x713)][_0x12c6c4(0x3eb)](_0x147989[_0x12c6c4(0x68e)]);break;case _0x3274d4[_0x12c6c4(0x159)]:this[_0x12c6c4(0x39b)](_0x147989['content']);break;case _0x3274d4[_0x12c6c4(0x4cb)]:this[_0x12c6c4(0x6b6)](_0x147989[_0x12c6c4(0x68e)]);break;case _0x3274d4[_0x12c6c4(0x396)]:this[_0x12c6c4(0x6ef)](_0x147989['content']);break;case _0x3274d4[_0x12c6c4(0x2f4)]:case _0x3274d4[_0x12c6c4(0x5d0)]:this[_0x12c6c4(0x29b)](_0x147989['content']);break;case _0x3274d4[_0x12c6c4(0x1be)]:this[_0x12c6c4(0x47f)][_0x12c6c4(0x4ad)](_0x147989[_0x12c6c4(0x68e)]);}}[_0x57df12(0x30c)]({content:_0x4f5c46}){const _0x5852f1=_0x57df12;_0x4f5c46[_0x5852f1(0x3cb)]===_0x309288['NodeLeave']&&this['removeSubscriptionsForNode'](_0x4f5c46);}['handlePeerConnectionSystemEvents'](_0x40defa){const _0x2daacb=_0x57df12;_0x40defa['content'][_0x2daacb(0x3cb)]===_0x493715[_0x2daacb(0x23a)]&&this[_0x2daacb(0x47f)]['handleOptimizationConnectionSuccess'](_0x40defa[_0x2daacb(0x579)]);}['handleContentUnsubscribeMediaStream'](_0x113c25,_0x42a0af){const _0x3b764c=_0x57df12;this[_0x3b764c(0x47f)][_0x3b764c(0x1c4)](_0x42a0af),this[_0x3b764c(0x713)]['handleContentUnsubscribeMediaStream'](_0x113c25,_0x42a0af)[_0x3b764c(0x3bd)](_0x625b0d=>this['systemTopic'][_0x3b764c(0x707)](_0x625b0d));}[_0x57df12(0x769)](_0x3ccd80,_0x3dbf03){const _0x25f3d1=_0x57df12,_0x1d8532=this['outgoingManager']['handleSubscriptionSubscribeMediaStream'](_0x3ccd80,_0x3dbf03);if(_0x1d8532&&(this['systemTopic']['publish']({'sourceId':this[_0x25f3d1(0x549)][_0x25f3d1(0x749)]['getId'](),'destinationIds':[_0x3ccd80],'messageType':_0x769e55[_0x25f3d1(0x566)],'content':_0x1d8532}),_0x1d8532[_0x25f3d1(0x3cb)]===_0x111869['RestartNeedMediaStream']))throw new _0x3b8338(_0x25f3d1(0x2da));}[_0x57df12(0x424)](_0x16115f,_0x11982a){const _0x2397d1=_0x57df12,_0x2095b8=this[_0x2397d1(0x713)][_0x2397d1(0x424)](_0x16115f,_0x11982a);this['systemTopic']['publish']({'sourceId':this['configs'][_0x2397d1(0x749)][_0x2397d1(0x5a9)](),'destinationIds':[_0x16115f],'messageType':_0x769e55['Subscription'],'content':_0x2095b8});}['handleContentCloseObjectStore']({label:_0x42d1a4}){const _0x1cbb94=_0x57df12;this['removeIncomingSubscription'](_0x42d1a4,_0x36cc4b[_0x1cbb94(0x444)][_0x1cbb94(0x4da)]),this[_0x1cbb94(0x2b1)](_0x42d1a4,_0x36cc4b[_0x1cbb94(0x444)]['ObjectStore']);}[_0x57df12(0x6ef)]({label:_0xeec3dd}){const _0x55fb6f=_0x57df12;this[_0x55fb6f(0x5f2)](_0xeec3dd,_0x36cc4b[_0x55fb6f(0x444)][_0x55fb6f(0x405)]),this[_0x55fb6f(0x2b1)](_0xeec3dd,_0x36cc4b['ContentType'][_0x55fb6f(0x405)]);}[_0x57df12(0x39b)]({label:_0x233ad3}){const _0x4eea97=_0x57df12;this[_0x4eea97(0x5f2)](_0x233ad3,_0x36cc4b[_0x4eea97(0x444)][_0x4eea97(0x3d4)]),this[_0x4eea97(0x2b1)](_0x233ad3,_0x36cc4b['ContentType'][_0x4eea97(0x3d4)]);}[_0x57df12(0x29b)]({label:_0x2e1d44}){const _0x114e4d=_0x57df12;this[_0x114e4d(0x5f2)](_0x2e1d44,_0x36cc4b['ContentType']['Job']),this[_0x114e4d(0x2b1)](_0x2e1d44,_0x36cc4b[_0x114e4d(0x444)]['Job']);}[_0x57df12(0x712)]({id:_0x31e309}){const _0x4b09e0=_0x57df12;this['incomingManager'][_0x4b09e0(0x712)](_0x31e309),this[_0x4b09e0(0x713)][_0x4b09e0(0x712)](_0x31e309);}}class _0x2f0364{[_0x57df12(0x52a)];['listener']=_0x3f0774();constructor(){const _0x43d1c9=_0x57df12;this[_0x43d1c9(0x52a)]=0x0;}[_0x57df12(0x171)](){const _0x1e880d=_0x57df12;return this[_0x1e880d(0x52a)];}[_0x57df12(0x632)](){const _0x1ef104=_0x57df12;return _0x36cc4b[_0x1ef104(0x444)][_0x1ef104(0x6b3)];}['registerSource'](_0x1ad9d2){const _0x521cd5=_0x57df12;_0x1ad9d2[_0x521cd5(0x432)](this);}[_0x57df12(0x744)](_0x3f627b){const _0x37592e=_0x57df12;_0x3f627b[_0x37592e(0x446)]();}[_0x57df12(0x707)](_0x1f0e1e){const _0x3f7203=_0x57df12;_0x287307[_0x3f7203(0x60a)](_0x54918a[_0x3f7203(0x421)],_0x3f7203(0x733),_0x1f0e1e['sourceId'],_0x1f0e1e),this[_0x3f7203(0x448)][_0x3f7203(0x707)]({'topicLabel':this[_0x3f7203(0x52a)],'contentType':_0x36cc4b[_0x3f7203(0x444)][_0x3f7203(0x6b3)],'uuid':_0x1f0e1e[_0x3f7203(0x1a5)]??(0x0,_0x1f2ad5['v4'])(),'recipients':_0x1f0e1e[_0x3f7203(0x38b)]??[],..._0x1f0e1e});}[_0x57df12(0x76e)](_0x19d02a){const _0x34e954=_0x57df12;return this[_0x34e954(0x448)][_0x34e954(0x76e)](_0x19d02a);}}class _0x349e91{['minConnections'];[_0x57df12(0x695)];['maxDistance'];['ranges']=[];[_0x57df12(0x3ca)];[_0x57df12(0x2f6)]=new Map();constructor(_0x2d59e0,_0x179ec0,_0x1677c4){const _0x514a14=_0x57df12;this[_0x514a14(0x295)]=_0x2d59e0,this[_0x514a14(0x695)]=_0x179ec0,this[_0x514a14(0x1b3)]=_0x1677c4,this[_0x514a14(0x3ca)]=(this[_0x514a14(0x695)]-0x2*this[_0x514a14(0x295)])/0x2,this[_0x514a14(0x669)][_0x514a14(0x374)]({'start':0x1,'end':this[_0x514a14(0x318)](0x1,0x1)-0x1});for(let _0x333ba3=0x0;_0x333ba3<this[_0x514a14(0x3ca)];++_0x333ba3)this[_0x514a14(0x669)][_0x514a14(0x374)]({'start':this['getNextTargetRank'](0x1,_0x333ba3+0x1),'end':this['getNextTargetRank'](0x1,_0x333ba3+0x2)-0x1});}[_0x57df12(0x318)](_0x3e7a5f,_0x1a3645=0x1){const _0x1274d2=_0x57df12;let _0xbd24bd=this[_0x1274d2(0x1b3)]-this[_0x1274d2(0x295)],_0x4f2c9b=0x1;for(let _0x14c92d=0x1;_0x14c92d<_0x1a3645;++_0x14c92d)_0xbd24bd*=this[_0x1274d2(0x1b3)]-this['minConnections']-_0x14c92d,_0x4f2c9b*=this['maxDistance']-this[_0x1274d2(0x295)]-_0x14c92d+0x1;return _0xbd24bd*this[_0x1274d2(0x295)]+_0x3e7a5f-_0x4f2c9b;}[_0x57df12(0x687)](_0x22a708){const _0x53e229=_0x57df12;let _0x4e408c=0x0;for(;this[_0x53e229(0x669)][_0x4e408c][_0x53e229(0x6e9)]<_0x22a708;)_0x4e408c+=0x1;return _0x4e408c;}[_0x57df12(0x1da)](){const _0x343215=_0x57df12;return this[_0x343215(0x295)];}[_0x57df12(0x70e)](){return this['maxConnections'];}[_0x57df12(0x229)](){return this['maxDistance'];}['getRemoteNodes'](){return this['remoteNodes'];}[_0x57df12(0x479)](_0x25967c,_0x265bdf){const _0x2d22f4=_0x57df12;this[_0x2d22f4(0x2f6)][_0x2d22f4(0x6dc)](_0x25967c,_0x265bdf);}[_0x57df12(0x2e1)](_0x3bdc8d){const _0x574057=_0x57df12;return this[_0x574057(0x2f6)][_0x574057(0x245)](_0x3bdc8d);}[_0x57df12(0x3db)](_0x5bb112){const _0x2fd230=_0x57df12;return this['remoteNodes'][_0x2fd230(0x351)](_0x5bb112);}[_0x57df12(0x2f0)](_0x318726){const _0x58327b=_0x57df12;this[_0x58327b(0x2f6)][_0x58327b(0x403)](_0x318726);}[_0x57df12(0x292)](_0x2b86b8,_0x7c6785){const _0xf130eb=_0x57df12,_0x270885=this[_0xf130eb(0x3db)](_0x7c6785)?.[_0xf130eb(0x576)]()??0x0;return _0x2b86b8[_0xf130eb(0x136)](_0x5cbde1=>this[_0xf130eb(0x3db)](_0x5cbde1))[_0xf130eb(0x49b)](_0x54ff5b=>void 0x0!==_0x54ff5b)['sort']((_0x4ae597,_0x53d865)=>Math[_0xf130eb(0x342)](_0x270885-(_0x4ae597&&_0x4ae597['getRank']()||0x1/0x0))-Math[_0xf130eb(0x342)](_0x270885-(_0x53d865&&_0x53d865[_0xf130eb(0x576)]()||0x1/0x0)))[_0xf130eb(0x136)](_0x27c8f6=>_0x27c8f6[_0xf130eb(0x5a9)]());}}class _0x578aa6{[_0x57df12(0x54f)];[_0x57df12(0x545)];[_0x57df12(0x6ec)];[_0x57df12(0x688)];[_0x57df12(0x112)];[_0x57df12(0x549)];[_0x57df12(0x5ae)];[_0x57df12(0x58e)];[_0x57df12(0x2e8)];[_0x57df12(0x4fc)];['statsManager'];[_0x57df12(0x210)];[_0x57df12(0x6bd)];[_0x57df12(0x473)];['graphService'];['systemTopic']=new _0x2f0364();[_0x57df12(0x3f7)];['localNode'];constructor(_0x41756e,_0x1a456d,_0x1c2a97,_0x368655,_0x18afe5,_0x34dcda,_0x1afa55){const _0x4589be=_0x57df12;switch(this['vendorId']=_0x41756e,this[_0x4589be(0x545)]=_0x1a456d,this[_0x4589be(0x6ec)]=_0x1c2a97,this[_0x4589be(0x688)]=_0x368655,this['options']=_0x18afe5,this[_0x4589be(0x549)]=_0x34dcda,this['clusterEventEmitter']=_0x1afa55,_0x1c2a97[_0x4589be(0x3cb)]){case _0x36cc4b[_0x4589be(0x4d9)][_0x4589be(0x1dd)]:this[_0x4589be(0x749)]=new _0x2b2837(_0x1c2a97['getId'](),_0x1c2a97[_0x4589be(0x1cb)](),_0x1c2a97[_0x4589be(0x5b5)]());break;case _0x36cc4b[_0x4589be(0x4d9)][_0x4589be(0x53d)]:default:this['localNode']=new _0x59dfc2(_0x1c2a97[_0x4589be(0x5a9)]());}const _0x5de22e=this[_0x4589be(0x6db)]();this[_0x4589be(0x177)]=new _0x349e91(this[_0x4589be(0x112)][_0x4589be(0x295)],this[_0x4589be(0x112)]['maxConnections'],this[_0x4589be(0x112)][_0x4589be(0x1b3)]),this['contentManager']=new _0x446a75(_0x5de22e,this[_0x4589be(0x112)][_0x4589be(0x587)],this['options']['audioContext']),this[_0x4589be(0x2e8)]=new _0x4db086(_0x5de22e,this[_0x4589be(0x688)],this[_0x4589be(0x549)][_0x4589be(0x654)],this[_0x4589be(0x112)][_0x4589be(0x587)],this[_0x4589be(0x112)][_0x4589be(0x584)],this[_0x4589be(0x177)],this[_0x4589be(0x112)][_0x4589be(0x637)]),this['subscriptionManager']=new _0xbbf063(_0x5de22e,this['options'][_0x4589be(0x27d)],this[_0x4589be(0x177)][_0x4589be(0x229)]()),this[_0x4589be(0x7a6)]=new _0x4c916a(_0x5de22e),this[_0x4589be(0x210)]=new _0x3a3d72(_0x5de22e),this[_0x4589be(0x6bd)]=new _0xe3ccf6(_0x5de22e),this[_0x4589be(0x473)]=new _0x4f2187(_0x5de22e,this[_0x4589be(0x177)],this[_0x4589be(0x749)]),this['systemTopicUnsubscribe']=this['initializeSystemTopic']();}['open'](){const _0x36ac92=_0x57df12,_0x62d5b5=this[_0x36ac92(0x6db)]();this[_0x36ac92(0x2e8)]=new _0x4db086(_0x62d5b5,this[_0x36ac92(0x688)],this[_0x36ac92(0x549)]['iceServers'],this['options'][_0x36ac92(0x587)],this[_0x36ac92(0x112)][_0x36ac92(0x584)],this[_0x36ac92(0x177)],this[_0x36ac92(0x112)][_0x36ac92(0x637)]),this[_0x36ac92(0x4fc)]=new _0xbbf063(_0x62d5b5,this[_0x36ac92(0x112)]['maxOutgoingSubscriptions'],this[_0x36ac92(0x177)]['getMaxDistance']()),this[_0x36ac92(0x7a6)]=new _0x4c916a(_0x62d5b5),this[_0x36ac92(0x210)]=new _0x3a3d72(_0x62d5b5),this['remediationManager']=new _0xe3ccf6(_0x62d5b5),this[_0x36ac92(0x473)]=new _0x4f2187(_0x62d5b5,this[_0x36ac92(0x177)],this[_0x36ac92(0x749)]);const _0x128807=this[_0x36ac92(0x2e8)][_0x36ac92(0x122)]();this[_0x36ac92(0x58e)][_0x36ac92(0x6ee)]()['forEach'](_0x589dcb=>{const _0x19ffcd=_0x36ac92;this['subscriptionManager'][_0x19ffcd(0x164)](_0x589dcb,_0x128807),this[_0x19ffcd(0x4fc)][_0x19ffcd(0x249)](_0x128807,_0x589dcb),_0x589dcb['reset']();}),this[_0x36ac92(0x58e)][_0x36ac92(0x510)]()[_0x36ac92(0x3bd)](_0x2f3a8c=>{const _0x4d2b4b=_0x36ac92;this[_0x4d2b4b(0x4fc)][_0x4d2b4b(0x164)](_0x2f3a8c,_0x128807),this[_0x4d2b4b(0x4fc)][_0x4d2b4b(0x249)](_0x128807,_0x2f3a8c),_0x2f3a8c[_0x4d2b4b(0x1f2)](),_0x2f3a8c[_0x4d2b4b(0x25d)]();}),this['contentManager']['getKeyValueDatabases']()[_0x36ac92(0x3bd)](_0x1d8a4c=>{const _0x44e4d2=_0x36ac92;this['subscriptionManager']['createOutgoingSubscription'](_0x1d8a4c,_0x128807),this[_0x44e4d2(0x4fc)][_0x44e4d2(0x249)](_0x128807,_0x1d8a4c),_0x1d8a4c[_0x44e4d2(0x1f2)](),this['syncKeyValueDatabase'](_0x1d8a4c);}),this[_0x36ac92(0x58e)][_0x36ac92(0x5b0)]()[_0x36ac92(0x3bd)](_0x3d7fe8=>{const _0x1db624=_0x36ac92;this[_0x1db624(0x4fc)][_0x1db624(0x164)](_0x3d7fe8,_0x128807),this['subscriptionManager'][_0x1db624(0x249)](_0x128807,_0x3d7fe8),_0x3d7fe8[_0x1db624(0x1f2)]();}),this['contentManager'][_0x36ac92(0x4a6)]()[_0x36ac92(0x3bd)](_0x1c060e=>{const _0x517f66=_0x36ac92;this['subscriptionManager'][_0x517f66(0x164)](_0x1c060e,_0x128807),this[_0x517f66(0x4fc)][_0x517f66(0x249)](_0x128807,_0x1c060e),_0x1c060e[_0x517f66(0x1f2)]();}),this[_0x36ac92(0x3f7)]=this[_0x36ac92(0x53e)]();}['registerSystemSource'](_0x3ccc3a){const _0x3368f1=_0x57df12;try{this[_0x3368f1(0x235)][_0x3368f1(0x14b)](_0x3ccc3a);}catch(_0x163d15){this[_0x3368f1(0x294)](_0x163d15,{});}}[_0x57df12(0x679)](_0x2ba91f){const _0x10f197=_0x57df12;try{this[_0x10f197(0x235)][_0x10f197(0x744)](_0x2ba91f);}catch(_0x4d4db){this[_0x10f197(0x294)](_0x4d4db,{});}}[_0x57df12(0x37f)](_0x508e49,_0x473d14){const _0x3910f6=_0x57df12;return this[_0x3910f6(0x2e8)][_0x3910f6(0x37f)](_0x508e49,_0x473d14);}['getConnection'](_0x5e85fe){const _0x574cfb=_0x57df12;try{return this['connectionManager'][_0x574cfb(0x6e0)](_0x5e85fe);}catch(_0x5008a2){throw this[_0x574cfb(0x294)](_0x5008a2,{});}}[_0x57df12(0x4de)](_0x51b9dd){const _0x2186a6=_0x57df12;try{return this[_0x2186a6(0x2e8)][_0x2186a6(0x4de)](_0x51b9dd);}catch(_0x26aea1){throw this['handleError'](_0x26aea1,{});}}[_0x57df12(0x44f)](_0x56dc15,_0x8476e0){const _0x42af47=_0x57df12;try{return this['contentManager'][_0x42af47(0x3bc)](_0x213dae=>_0x213dae[_0x42af47(0x778)]()===_0x56dc15&&_0x213dae[_0x42af47(0x171)]()===_0x8476e0)[0x0];}catch(_0x45bc82){throw this[_0x42af47(0x294)](_0x45bc82,{});}}[_0x57df12(0x741)](_0x27e86b){const _0x22e816=_0x57df12;try{return this[_0x22e816(0x58e)][_0x22e816(0x57e)](_0x527272=>_0x527272[_0x22e816(0x171)]()===_0x27e86b)[0x0];}catch(_0x5714fd){throw this[_0x22e816(0x294)](_0x5714fd,{});}}['notifyCluster']=(..._0x5de3ce)=>{try{return this['clusterEventEmitter']['emit'](..._0x5de3ce);}catch(_0x340f0d){throw this['handleError'](_0x340f0d,{});}};[_0x57df12(0x350)](_0x74436a){const _0x5b1478=_0x57df12;try{this[_0x5b1478(0x7a6)]['addRemoteNode'](_0x74436a);}catch(_0xe8f0e8){throw this['handleError'](_0xe8f0e8,{});}}[_0x57df12(0x6a9)](_0xb48f76){const _0x19bfa5=_0x57df12;try{this['statsManager'][_0x19bfa5(0x4f3)](_0xb48f76);}catch(_0x2109d4){throw this[_0x19bfa5(0x294)](_0x2109d4,{});}}[_0x57df12(0x59d)](_0x5af5ab){const _0x3ea327=_0x57df12;return this['connectionManager'][_0x3ea327(0x59d)](_0x5af5ab);}async[_0x57df12(0x5de)](){const _0x2fb1ba=_0x57df12;try{await this[_0x2fb1ba(0x2e8)][_0x2fb1ba(0x5de)]();const _0x4802ee=await this[_0x2fb1ba(0x473)][_0x2fb1ba(0x341)]();for(const _0x318801 of _0x4802ee)this['connectionManager'][_0x2fb1ba(0x37f)](_0x318801);}catch(_0x44eac2){throw this[_0x2fb1ba(0x294)](_0x44eac2,{});}}[_0x57df12(0x583)](_0x9d83b4){const _0x170d5e=_0x57df12;this[_0x170d5e(0x749)]['type']===_0x36cc4b[_0x170d5e(0x4d9)][_0x170d5e(0x1dd)]&&(this[_0x170d5e(0x749)]['setEmail'](_0x9d83b4[_0x170d5e(0x5b5)]()),this[_0x170d5e(0x749)][_0x170d5e(0x377)](_0x9d83b4['getDisplayName']()));}[_0x57df12(0x42b)](_0x2694c9=!0x1){const _0x5bec66=_0x57df12;_0x287307['warning']('orchestrator-close',{'clusterId':this[_0x5bec66(0x545)],'nodeId':this[_0x5bec66(0x749)][_0x5bec66(0x5a9)](),'nodeType':this[_0x5bec66(0x749)][_0x5bec66(0x3cb)]}),this[_0x5bec66(0x3f7)](),this[_0x5bec66(0x6bd)][_0x5bec66(0x42b)](),this[_0x5bec66(0x210)]['close'](),this[_0x5bec66(0x7a6)][_0x5bec66(0x42b)](),this['subscriptionManager'][_0x5bec66(0x42b)](),this[_0x5bec66(0x2e8)][_0x5bec66(0x42b)](),this[_0x5bec66(0x58e)]['close'](_0x2694c9),this[_0x5bec66(0x473)][_0x5bec66(0x42b)]();}[_0x57df12(0x6ed)](_0x3ba366){const _0x6bb281=_0x57df12;try{const _0x293524=this['contentManager'][_0x6bb281(0x467)](_0x3ba366),_0x1347b3=this['connectionManager'][_0x6bb281(0x122)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x293524,_0x1347b3),this[_0x6bb281(0x4fc)][_0x6bb281(0x249)](_0x1347b3,_0x293524),_0x293524;}catch(_0x52a912){throw this[_0x6bb281(0x294)](_0x52a912,{});}}async[_0x57df12(0x5ed)](_0x293833,_0xab1557){const _0x42c31f=_0x57df12;try{const _0x598b3c=this[_0x42c31f(0x58e)][_0x42c31f(0x2d4)](_0x293833,this[_0x42c31f(0x112)]['objectStoreConnector']),_0x33b198=this[_0x42c31f(0x2e8)][_0x42c31f(0x122)]();return this[_0x42c31f(0x4fc)][_0x42c31f(0x164)](_0x598b3c,_0x33b198),this['subscriptionManager'][_0x42c31f(0x249)](_0x33b198,_0x598b3c),await _0x598b3c[_0x42c31f(0x25d)](_0xab1557?.[_0x42c31f(0x41e)]??!0x0),_0x598b3c;}catch(_0xab22e5){throw this[_0x42c31f(0x294)](_0xab22e5,{});}}async['openKeyValueDatabase'](_0x5b4578,_0x5755ab){const _0x550b56=_0x57df12;try{const _0x6f038c=await this[_0x550b56(0x58e)][_0x550b56(0x20a)](_0x5b4578,_0x5755ab,this[_0x550b56(0x112)]['keyValueDatabaseConnector']),_0x488b91=this[_0x550b56(0x2e8)][_0x550b56(0x122)]();return this[_0x550b56(0x4fc)][_0x550b56(0x164)](_0x6f038c,_0x488b91),this[_0x550b56(0x4fc)][_0x550b56(0x249)](_0x488b91,_0x6f038c),await _0x6f038c[_0x550b56(0x57d)](),this[_0x550b56(0x4ac)](_0x6f038c),_0x6f038c;}catch(_0x3a6fe6){throw this['handleError'](_0x3a6fe6,{});}}async[_0x57df12(0x27f)](_0x4ee1a8){const _0x5a5a8f=_0x57df12;try{const _0x11fbf2=await this[_0x5a5a8f(0x58e)]['createJobDispatcher'](_0x4ee1a8,this[_0x5a5a8f(0x177)]),_0x4a9553=this[_0x5a5a8f(0x2e8)][_0x5a5a8f(0x122)]();return this[_0x5a5a8f(0x4fc)][_0x5a5a8f(0x164)](_0x11fbf2,_0x4a9553),this[_0x5a5a8f(0x4fc)]['createIncomingSubscription'](_0x4a9553,_0x11fbf2),_0x11fbf2[_0x5a5a8f(0x57d)](),_0x11fbf2;}catch(_0x544a85){throw this['handleError'](_0x544a85,{});}}async[_0x57df12(0x577)](_0x496095){throw new Error('Method\x20not\x20supported');}async[_0x57df12(0x6e7)](_0x4b0d5d){const _0xe60c90=_0x57df12;try{const _0x4267b1=await this[_0xe60c90(0x58e)]['createGenerativeAIContext'](_0x4b0d5d,this['graphService']),_0x2ce521=this[_0xe60c90(0x2e8)]['getConnectionGroup']();return this[_0xe60c90(0x4fc)]['createOutgoingSubscription'](_0x4267b1,_0x2ce521),this[_0xe60c90(0x4fc)]['createIncomingSubscription'](_0x2ce521,_0x4267b1),await _0x4267b1[_0xe60c90(0x57d)](),_0x4267b1;}catch(_0x4e5bc5){throw console[_0xe60c90(0x387)](_0x4e5bc5),this[_0xe60c90(0x294)](_0x4e5bc5,{});}}async[_0x57df12(0x561)](_0x664f6c){const _0xa20060=_0x57df12;try{if(!this['options'][_0xa20060(0x5c3)]||!this[_0xa20060(0x112)][_0xa20060(0x3a0)])throw new _0x19eda8(_0x5623ec[_0xa20060(0x5fb)],_0xa20060(0x5f7));if(!(this['authNode']instanceof _0x878cdc))throw new _0x19eda8(_0x5623ec[_0xa20060(0x608)],_0xa20060(0x63d));const _0xd3a66c=await this['openObjectStoreBucket'](_0xa20060(0x474)+_0x664f6c),_0x46eb19=new this[(_0xa20060(0x112))]['generativeAIWorkerConnector'](this[_0xa20060(0x112)]['vectorDatabaseConnector']),_0x27a521=await this[_0xa20060(0x58e)][_0xa20060(0x243)](_0x664f6c,this[_0xa20060(0x6ec)],_0x46eb19,_0xd3a66c),_0x3fe12a=this[_0xa20060(0x2e8)]['getConnectionGroup']();return this[_0xa20060(0x4fc)]['createOutgoingSubscription'](_0x27a521,_0x3fe12a),this[_0xa20060(0x4fc)][_0xa20060(0x249)](_0x3fe12a,_0x27a521),_0x27a521[_0xa20060(0x57d)](),_0x27a521;}catch(_0x2b6426){throw this[_0xa20060(0x294)](_0x2b6426,{});}}[_0x57df12(0x6ee)](_0x394e40){const _0x5a6d49=_0x57df12;try{return this[_0x5a6d49(0x58e)]['getPubSubTopics'](_0x394e40);}catch(_0x123b5a){throw this['handleError'](_0x123b5a,{});}}[_0x57df12(0x510)](_0x17225d){const _0x39c444=_0x57df12;try{return this[_0x39c444(0x58e)]['getObjectStoreBuckets'](_0x17225d);}catch(_0x307246){throw this[_0x39c444(0x294)](_0x307246,{});}}['getKeyValueDatabases'](_0x30fe0d){const _0x36948b=_0x57df12;try{return this['contentManager'][_0x36948b(0x267)](_0x30fe0d);}catch(_0x294946){throw this['handleError'](_0x294946,{});}}[_0x57df12(0x47b)](_0x1ce509){const _0x2f98f7=_0x57df12;try{return this['contentManager'][_0x2f98f7(0x47b)](_0x1ce509);}catch(_0x4ebdab){throw this[_0x2f98f7(0x294)](_0x4ebdab,{});}}['getGenerativeAIWorkers'](_0x5476cf){const _0x43be41=_0x57df12;try{return this['contentManager'][_0x43be41(0x224)](_0x5476cf);}catch(_0x1d37d9){throw this[_0x43be41(0x294)](_0x1d37d9,{});}}[_0x57df12(0x57a)](_0x186373,_0x4c7b3f){const _0x5478a0=_0x57df12;if(!this[_0x5478a0(0x549)][_0x5478a0(0x2c7)][_0x5478a0(0x595)](_0x58bb2d['MediaStream']))throw new _0x19eda8(_0x5623ec[_0x5478a0(0x75a)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x5478a0(0x58e)][_0x5478a0(0x57a)](_0x186373,_0x4c7b3f);}catch(_0x9d37b3){throw this[_0x5478a0(0x294)](_0x9d37b3,{});}}[_0x57df12(0x490)](_0x4716e1,_0x2387b8){const _0x1c778e=_0x57df12;if(!this['configs']['features'][_0x1c778e(0x595)](_0x58bb2d['MediaStream']))throw new _0x19eda8(_0x5623ec[_0x1c778e(0x75a)],_0x1c778e(0x352));try{return this['contentManager'][_0x1c778e(0x490)](_0x4716e1,_0x2387b8);}catch(_0x167ee5){throw this['handleError'](_0x167ee5,{});}}[_0x57df12(0x57e)](_0x29849c){const _0x190789=_0x57df12;if(!this[_0x190789(0x549)][_0x190789(0x2c7)][_0x190789(0x595)](_0x58bb2d[_0x190789(0x32a)]))throw new _0x19eda8(_0x5623ec[_0x190789(0x75a)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x190789(0x57e)](_0x29849c);}catch(_0xb7397c){throw this['handleError'](_0xb7397c,{});}}['getRemoteMediaStreams'](_0x4a8e1e){const _0x42f5f4=_0x57df12;if(!this[_0x42f5f4(0x549)][_0x42f5f4(0x2c7)][_0x42f5f4(0x595)](_0x58bb2d[_0x42f5f4(0x32a)]))throw new _0x19eda8(_0x5623ec['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x42f5f4(0x3bc)](_0x4a8e1e);}catch(_0x5c0cf8){throw this[_0x42f5f4(0x294)](_0x5c0cf8,{});}}[_0x57df12(0x382)](_0x350972,_0x84ac38){const _0x4e6982=_0x57df12;return this[_0x4e6982(0x473)][_0x4e6982(0x382)](_0x350972,_0x84ac38);}[_0x57df12(0x5ab)](){const _0x54e6ae=_0x57df12;return this[_0x54e6ae(0x473)]['getLocalNode']();}[_0x57df12(0x552)](_0x29d108){const _0x5356cf=_0x57df12;try{return this[_0x5356cf(0x473)]['getRemoteNodes'](_0x29d108);}catch(_0x466905){throw this[_0x5356cf(0x294)](_0x466905,{});}}async[_0x57df12(0x41f)](_0x593cfc){const _0x3dee6c=_0x57df12;try{if(_0x287307['log'](_0x54918a['Events'],'Orchestrator\x20handleSystemEvents',this[_0x3dee6c(0x473)][_0x3dee6c(0x2a1)](),_0x593cfc),_0x1d6486(_0x593cfc,this[_0x3dee6c(0x473)][_0x3dee6c(0x2a1)]()))return void this[_0x3dee6c(0x2e8)]['handleOutgoingSystemEvents'](_0x593cfc);switch(_0x593cfc['messageType']){case _0x769e55[_0x3dee6c(0x3ed)]:this[_0x3dee6c(0x7a6)][_0x3dee6c(0x72d)](_0x593cfc),this['subscriptionManager'][_0x3dee6c(0x72d)](_0x593cfc),this[_0x3dee6c(0x58e)][_0x3dee6c(0x72d)](_0x593cfc);break;case _0x769e55[_0x3dee6c(0x434)]:this[_0x3dee6c(0x4fc)][_0x3dee6c(0x30c)](_0x593cfc),this[_0x3dee6c(0x2e8)][_0x3dee6c(0x30c)](_0x593cfc),this[_0x3dee6c(0x58e)][_0x3dee6c(0x30c)](_0x593cfc),this['nodeManager'][_0x3dee6c(0x30c)](_0x593cfc);break;case _0x769e55[_0x3dee6c(0x68f)]:this[_0x3dee6c(0x6bd)]['handleDetectionSystemEvents'](_0x593cfc);break;case _0x769e55['Remediation']:this[_0x3dee6c(0x6bd)]['handleRemediationSystemEvents'](_0x593cfc);break;case _0x769e55['Stats']:this[_0x3dee6c(0x210)][_0x3dee6c(0x1a9)](_0x593cfc);break;case _0x769e55[_0x3dee6c(0x566)]:_0x593cfc[_0x3dee6c(0x68e)][_0x3dee6c(0x3cb)]!==_0x111869[_0x3dee6c(0x1aa)]?(this[_0x3dee6c(0x4fc)][_0x3dee6c(0x20d)](_0x593cfc),this[_0x3dee6c(0x58e)][_0x3dee6c(0x20d)](_0x593cfc)):(this[_0x3dee6c(0x58e)][_0x3dee6c(0x20d)](_0x593cfc),this[_0x3dee6c(0x4fc)]['handleSubscriptionSystemEvents'](_0x593cfc));break;case _0x769e55[_0x3dee6c(0x498)]:await this[_0x3dee6c(0x2e8)]['handlePeerConnectionSystemEvents'](_0x593cfc),this['statsManager']['handlePeerConnectionSystemEvents'](_0x593cfc),this['nodeManager'][_0x3dee6c(0x533)](_0x593cfc),this[_0x3dee6c(0x4fc)][_0x3dee6c(0x533)](_0x593cfc);}}catch(_0x1b23cb){throw this[_0x3dee6c(0x294)](_0x1b23cb,{});}}[_0x57df12(0x294)](_0x1e3c83,_0x4e2156){const _0x15e7f7=_0x57df12;if(!(_0x1e3c83 instanceof _0x3b8338)){if(_0x1e3c83 instanceof _0x19eda8)throw _0x1e3c83;if(!(_0x1e3c83 instanceof Error))throw new _0x19eda8(_0x5623ec[_0x15e7f7(0x2f5)],_0x15e7f7(0x116)+_0x1e3c83);if(!(_0x1e3c83 instanceof _0x4158de))throw new _0x19eda8(_0x5623ec[_0x15e7f7(0x2f5)],_0x15e7f7(0x3b6)+_0x1e3c83['message']);switch(_0x1e3c83[_0x15e7f7(0x518)]){case _0x4158de[_0x15e7f7(0x67f)][_0x15e7f7(0x745)]:case _0x4158de['codes'][_0x15e7f7(0x12a)]:case _0x4158de['codes']['PeerConnectionInvalidDestination']:case _0x4158de[_0x15e7f7(0x67f)]['ConnectionNotinitialized']:case _0x4158de['codes']['ConnectionNotConnected']:case _0x4158de[_0x15e7f7(0x67f)][_0x15e7f7(0x643)]:case _0x4158de['codes'][_0x15e7f7(0x58d)]:case _0x4158de[_0x15e7f7(0x67f)]['InvalidSubscriber']:case _0x4158de['codes']['SubscriptionRequestDoesNotExist']:case _0x4158de['codes'][_0x15e7f7(0x30f)]:case _0x4158de[_0x15e7f7(0x67f)][_0x15e7f7(0x22f)]:case _0x4158de[_0x15e7f7(0x67f)][_0x15e7f7(0x780)]:}throw _0x287307[_0x15e7f7(0x387)](_0x15e7f7(0x760)+_0x1e3c83[_0x15e7f7(0x45a)],{'clusterId':this[_0x15e7f7(0x545)],'nodeId':this[_0x15e7f7(0x749)][_0x15e7f7(0x5a9)](),'nodeType':this[_0x15e7f7(0x749)][_0x15e7f7(0x3cb)]},_0x1e3c83),new _0x19eda8(_0x5623ec['InternalSDKError'],_0x15e7f7(0x27b)+_0x1e3c83['message']);}}[_0x57df12(0x6db)](){const _0x217b07=_0x57df12;return{'mediator':this,'vendorId':this[_0x217b07(0x54f)],'clusterId':this[_0x217b07(0x545)],'localNode':this[_0x217b07(0x749)]};}['initializeSystemTopic'](){return this['systemTopic']['subscribe'](_0x2ae95e=>{const _0x50a508=a0_0x5c56,_0x4225c9=_0x195268(_0x2ae95e,this[_0x50a508(0x749)][_0x50a508(0x5a9)]()),_0xf600df=_0x2ae95e[_0x50a508(0x22e)]===_0x769e55['Stats']||_0x2ae95e[_0x50a508(0x22e)]===_0x769e55[_0x50a508(0x498)]&&_0x2ae95e['content'][_0x50a508(0x3cb)]===_0x493715['Stats']?_0x54918a[_0x50a508(0x26f)]:_0x54918a['System'];_0x287307[_0x50a508(0x623)](_0xf600df,_0x2ae95e[_0x50a508(0x1a5)]+'\x20-\x20'+_0x4225c9,_0x2ae95e),this[_0x50a508(0x41f)](_0x2ae95e)[_0x50a508(0x4bf)](_0x2bde6c=>{const _0x43655e=_0x50a508;console[_0x43655e(0x387)](_0x2bde6c);});});}async['syncKeyValueDatabase'](_0x5dff2a,_0xf59608){const _0x1751e4=_0x57df12;_0xf59608=this[_0x1751e4(0x617)](_0xf59608),await _0x5dff2a[_0x1751e4(0x25d)](_0xf59608,()=>this[_0x1751e4(0x4ac)](_0x5dff2a,_0xf59608));}[_0x57df12(0x617)](_0x11903a){const _0x33c02e=_0x57df12,_0x308699=this[_0x33c02e(0x473)]['getAncestorIds']();if(!_0x11903a)return _0x308699[0x0];const _0x1b8e29=_0x308699['findIndex'](_0x3fc9f9=>_0x11903a===_0x3fc9f9),_0x112612=_0x308699[_0x1b8e29+0x1];return _0x308699[_0x33c02e(0x5fc)]>0x0&&!_0x112612?_0x11903a[0x0]:_0x112612;}}class _0x13dd65{[_0x57df12(0x54f)];[_0x57df12(0x545)];['authNode'];[_0x57df12(0x508)];[_0x57df12(0x4e1)];constructor(_0x15c2ab,_0x28765e,_0x45272a,_0x5f214b,_0x245b77,_0x3939de,_0x23a1bb=new _0x330ecf()){const _0xe244a6=_0x57df12;this[_0xe244a6(0x54f)]=_0x15c2ab,this[_0xe244a6(0x545)]=_0x28765e,this[_0xe244a6(0x6ec)]=_0x45272a,this[_0xe244a6(0x508)]=_0x23a1bb,this[_0xe244a6(0x4e1)]=new _0x578aa6(this[_0xe244a6(0x54f)],this[_0xe244a6(0x545)],_0x45272a,_0x5f214b,_0x245b77,_0x3939de,this);}async[_0x57df12(0x219)](){const _0x1e0193=_0x57df12;await this['orchestrator'][_0x1e0193(0x5de)](),this[_0x1e0193(0x6ec)]['type']===_0x36cc4b['NodeType'][_0x1e0193(0x1dd)]&&this[_0x1e0193(0x6ec)]['registerCluster'](this[_0x1e0193(0x545)],_0x112244=>{const _0x7243d1=_0x1e0193;this[_0x7243d1(0x4e1)][_0x7243d1(0x583)](_0x112244);});}['leave'](){const _0x207622=_0x57df12;this['orchestrator'][_0x207622(0x42b)](),this[_0x207622(0x6ec)]['type']===_0x36cc4b['NodeType'][_0x207622(0x1dd)]&&this['authNode'][_0x207622(0x6e6)](this[_0x207622(0x545)]),this[_0x207622(0x2de)](_0x207622(0x670),void 0x0);}[_0x57df12(0x6ed)](_0x27e417){const _0x3e15f6=_0x57df12,_0x41e03a=this['orchestrator'][_0x3e15f6(0x6ed)](_0x27e417);return{'getName':_0x41e03a[_0x3e15f6(0x31e)][_0x3e15f6(0x61c)](_0x41e03a),'getOwnerId':_0x41e03a[_0x3e15f6(0x778)]['bind'](_0x41e03a),'getContentType':_0x41e03a['getContentType'][_0x3e15f6(0x61c)](_0x41e03a),'publish':_0x41e03a[_0x3e15f6(0x707)][_0x3e15f6(0x61c)](_0x41e03a),'subscribe':_0x41e03a[_0x3e15f6(0x76e)][_0x3e15f6(0x61c)](_0x41e03a),'unsubscribe':_0x41e03a['unsubscribe'][_0x3e15f6(0x61c)](_0x41e03a),'close':_0x41e03a['close'][_0x3e15f6(0x61c)](_0x41e03a)};}async[_0x57df12(0x5ed)](_0x5eaa8d,_0x109033){const _0x8498c9=_0x57df12,_0x3e5335=await this['orchestrator']['openObjectStoreBucket'](_0x5eaa8d,_0x109033);return{'getName':_0x3e5335[_0x8498c9(0x31e)][_0x8498c9(0x61c)](_0x3e5335),'getOwnerId':_0x3e5335[_0x8498c9(0x778)][_0x8498c9(0x61c)](_0x3e5335),'getContentType':_0x3e5335[_0x8498c9(0x632)][_0x8498c9(0x61c)](_0x3e5335),'publish':_0x3e5335['publish'][_0x8498c9(0x61c)](_0x3e5335),'unpublish':_0x3e5335[_0x8498c9(0x2f7)]['bind'](_0x3e5335),'get':_0x3e5335[_0x8498c9(0x351)]['bind'](_0x3e5335),'list':_0x3e5335[_0x8498c9(0x793)][_0x8498c9(0x61c)](_0x3e5335),'getSize':_0x3e5335['getSize'][_0x8498c9(0x61c)](_0x3e5335),'subscribe':_0x3e5335['subscribe'][_0x8498c9(0x61c)](_0x3e5335),'unsubscribe':_0x3e5335[_0x8498c9(0x246)][_0x8498c9(0x61c)](_0x3e5335),'close':_0x3e5335[_0x8498c9(0x42b)]['bind'](_0x3e5335)};}async[_0x57df12(0x230)](_0x3a357e,_0x423569){const _0x46f90e=_0x57df12,_0x48138f=await this[_0x46f90e(0x4e1)]['openKeyValueDatabase'](_0x3a357e,_0x423569);return{'getName':_0x48138f['getName'][_0x46f90e(0x61c)](_0x48138f),'getOwnerId':_0x48138f[_0x46f90e(0x778)][_0x46f90e(0x61c)](_0x48138f),'getContentType':_0x48138f[_0x46f90e(0x632)][_0x46f90e(0x61c)](_0x48138f),'getTable':_0x48138f[_0x46f90e(0x4fe)][_0x46f90e(0x61c)](_0x48138f),'subscribe':_0x48138f[_0x46f90e(0x76e)][_0x46f90e(0x61c)](_0x48138f),'unsubscribe':_0x48138f[_0x46f90e(0x246)][_0x46f90e(0x61c)](_0x48138f),'close':_0x48138f[_0x46f90e(0x42b)][_0x46f90e(0x61c)](_0x48138f)};}async[_0x57df12(0x27f)](_0x2b62dc){const _0xde4eb6=_0x57df12,_0x1bc816=await this[_0xde4eb6(0x4e1)][_0xde4eb6(0x27f)](_0x2b62dc);return{'getName':_0x1bc816[_0xde4eb6(0x31e)][_0xde4eb6(0x61c)](_0x1bc816),'getOwnerId':_0x1bc816['getOwnerId'][_0xde4eb6(0x61c)](_0x1bc816),'getContentType':_0x1bc816[_0xde4eb6(0x632)][_0xde4eb6(0x61c)](_0x1bc816),'createJob':_0x1bc816[_0xde4eb6(0x284)][_0xde4eb6(0x61c)](_0x1bc816),'getJob':_0x1bc816['getJob'][_0xde4eb6(0x61c)](_0x1bc816),'getJobs':_0x1bc816[_0xde4eb6(0x507)][_0xde4eb6(0x61c)](_0x1bc816),'close':_0x1bc816[_0xde4eb6(0x42b)][_0xde4eb6(0x61c)](_0x1bc816)};}async[_0x57df12(0x577)](_0x30e812){const _0x173a9e=_0x57df12,_0x353ab8=await this[_0x173a9e(0x4e1)][_0x173a9e(0x577)](_0x30e812);return{'close':_0x353ab8[_0x173a9e(0x42b)]['bind'](_0x353ab8)};}async[_0x57df12(0x6e7)](_0x2c67dd){const _0xb0448a=_0x57df12,_0x533821=await this[_0xb0448a(0x4e1)]['openGenerativeAIContext'](_0x2c67dd);return{'prompt':_0x533821[_0xb0448a(0x4cc)]['bind'](_0x533821),'stream':_0x533821[_0xb0448a(0x1f6)][_0xb0448a(0x61c)](_0x533821),'close':_0x533821[_0xb0448a(0x42b)][_0xb0448a(0x61c)](_0x533821)};}async['openGenerativeAIWorker'](_0x4f865a){const _0x42d588=_0x57df12,_0x385478=await this[_0x42d588(0x4e1)][_0x42d588(0x561)](_0x4f865a);return{'close':_0x385478['close'][_0x42d588(0x61c)](_0x385478)};}['getPubSubTopics'](_0x558f11){const _0x4fdfd4=_0x57df12;return this[_0x4fdfd4(0x4e1)][_0x4fdfd4(0x6ee)](_0x558f11)[_0x4fdfd4(0x136)](_0x27c52f=>({'getName':_0x27c52f[_0x4fdfd4(0x31e)]['bind'](_0x27c52f),'getOwnerId':_0x27c52f[_0x4fdfd4(0x778)]['bind'](_0x27c52f),'getContentType':_0x27c52f[_0x4fdfd4(0x632)]['bind'](_0x27c52f),'publish':_0x27c52f[_0x4fdfd4(0x707)][_0x4fdfd4(0x61c)](_0x27c52f),'subscribe':_0x27c52f[_0x4fdfd4(0x76e)][_0x4fdfd4(0x61c)](_0x27c52f),'unsubscribe':_0x27c52f[_0x4fdfd4(0x246)][_0x4fdfd4(0x61c)](_0x27c52f),'close':_0x27c52f['close']['bind'](_0x27c52f)}));}[_0x57df12(0x510)](_0x73fd31){const _0x3f7731=_0x57df12;return this['orchestrator'][_0x3f7731(0x510)](_0x73fd31)[_0x3f7731(0x136)](_0x584f95=>({'getName':_0x584f95[_0x3f7731(0x31e)][_0x3f7731(0x61c)](_0x584f95),'getOwnerId':_0x584f95[_0x3f7731(0x778)][_0x3f7731(0x61c)](_0x584f95),'getContentType':_0x584f95[_0x3f7731(0x632)][_0x3f7731(0x61c)](_0x584f95),'publish':_0x584f95[_0x3f7731(0x707)]['bind'](_0x584f95),'unpublish':_0x584f95[_0x3f7731(0x2f7)][_0x3f7731(0x61c)](_0x584f95),'get':_0x584f95[_0x3f7731(0x351)][_0x3f7731(0x61c)](_0x584f95),'list':_0x584f95[_0x3f7731(0x793)][_0x3f7731(0x61c)](_0x584f95),'getSize':_0x584f95[_0x3f7731(0x66d)][_0x3f7731(0x61c)](_0x584f95),'subscribe':_0x584f95[_0x3f7731(0x76e)]['bind'](_0x584f95),'unsubscribe':_0x584f95['unsubscribe'][_0x3f7731(0x61c)](_0x584f95),'close':_0x584f95['close']['bind'](_0x584f95)}));}[_0x57df12(0x267)](_0x1e2baf){const _0x296633=_0x57df12;return this['orchestrator'][_0x296633(0x267)](_0x1e2baf)['map'](_0xb90e33=>({'getName':_0xb90e33[_0x296633(0x31e)][_0x296633(0x61c)](_0xb90e33),'getOwnerId':_0xb90e33[_0x296633(0x778)]['bind'](_0xb90e33),'getContentType':_0xb90e33[_0x296633(0x632)][_0x296633(0x61c)](_0xb90e33),'getTable':_0xb90e33[_0x296633(0x4fe)][_0x296633(0x61c)](_0xb90e33),'subscribe':_0xb90e33['subscribe'][_0x296633(0x61c)](_0xb90e33),'unsubscribe':_0xb90e33[_0x296633(0x246)][_0x296633(0x61c)](_0xb90e33),'close':_0xb90e33[_0x296633(0x42b)][_0x296633(0x61c)](_0xb90e33)}));}['getGenerativeAIContexts'](_0x5e3e9a){const _0x3a670d=_0x57df12;return this[_0x3a670d(0x4e1)][_0x3a670d(0x47b)](_0x5e3e9a)[_0x3a670d(0x136)](_0x46f6c8=>({'prompt':_0x46f6c8['prompt']['bind'](_0x46f6c8),'stream':_0x46f6c8['stream'][_0x3a670d(0x61c)](_0x46f6c8),'close':_0x46f6c8[_0x3a670d(0x42b)][_0x3a670d(0x61c)](_0x46f6c8)}));}[_0x57df12(0x224)](_0x3fe629){const _0x46719d=_0x57df12;return this['orchestrator'][_0x46719d(0x224)](_0x3fe629)[_0x46719d(0x136)](_0x61be23=>({'close':_0x61be23[_0x46719d(0x42b)][_0x46719d(0x61c)](_0x61be23)}));}['publishLocalMediaStream'](_0x1bafa2,_0x4bb104){const _0xbf9909=_0x57df12,_0x280879=this[_0xbf9909(0x4e1)][_0xbf9909(0x57a)](_0x1bafa2,_0x4bb104);return{'getLabel':_0x280879[_0xbf9909(0x171)][_0xbf9909(0x61c)](_0x280879),'getOwnerId':_0x280879[_0xbf9909(0x778)][_0xbf9909(0x61c)](_0x280879),'getContentType':_0x280879['getContentType'][_0xbf9909(0x61c)](_0x280879),'getMediaStream':_0x280879[_0xbf9909(0x42a)][_0xbf9909(0x61c)](_0x280879),'setPriority':_0x280879['setPriority'][_0xbf9909(0x61c)](_0x280879),'unpublish':_0x280879[_0xbf9909(0x2f7)]['bind'](_0x280879)};}[_0x57df12(0x3ab)](_0x5f3ea4,_0x455be2){const _0x3c6a7d=_0x57df12,_0x3b4b21=this[_0x3c6a7d(0x4e1)]['createLocalDynamicMediaStream'](_0x5f3ea4,_0x455be2);return{'getLabel':_0x3b4b21[_0x3c6a7d(0x171)][_0x3c6a7d(0x61c)](_0x3b4b21),'getOwnerId':_0x3b4b21[_0x3c6a7d(0x778)][_0x3c6a7d(0x61c)](_0x3b4b21),'getContentType':_0x3b4b21[_0x3c6a7d(0x632)][_0x3c6a7d(0x61c)](_0x3b4b21),'setPriority':_0x3b4b21[_0x3c6a7d(0x5f4)][_0x3c6a7d(0x61c)](_0x3b4b21),'unpublish':_0x3b4b21[_0x3c6a7d(0x2f7)][_0x3c6a7d(0x61c)](_0x3b4b21),'getMediaStream':_0x3b4b21[_0x3c6a7d(0x42a)]['bind'](_0x3b4b21),'addTrack':_0x3b4b21[_0x3c6a7d(0x36d)][_0x3c6a7d(0x61c)](_0x3b4b21),'removeTrack':_0x3b4b21[_0x3c6a7d(0x2b6)][_0x3c6a7d(0x61c)](_0x3b4b21),'replaceTrack':_0x3b4b21[_0x3c6a7d(0x3f8)][_0x3c6a7d(0x61c)](_0x3b4b21),'setTransformations':_0x3b4b21[_0x3c6a7d(0x54c)][_0x3c6a7d(0x61c)](_0x3b4b21)};}['getLocalMediaStreams'](_0x5037d7){const _0x19726e=_0x57df12;return this[_0x19726e(0x4e1)]['getLocalMediaStreams'](_0x5037d7)[_0x19726e(0x136)](_0x128a02=>({'getLabel':_0x128a02[_0x19726e(0x171)][_0x19726e(0x61c)](_0x128a02),'getOwnerId':_0x128a02[_0x19726e(0x778)][_0x19726e(0x61c)](_0x128a02),'getContentType':_0x128a02[_0x19726e(0x632)][_0x19726e(0x61c)](_0x128a02),'getMediaStream':_0x128a02['getMediaStream'][_0x19726e(0x61c)](_0x128a02),'setPriority':_0x128a02[_0x19726e(0x5f4)][_0x19726e(0x61c)](_0x128a02),'unpublish':_0x128a02['unpublish'][_0x19726e(0x61c)](_0x128a02)}));}[_0x57df12(0x3bc)](_0xd00078){const _0x1e78a0=_0x57df12;return this[_0x1e78a0(0x4e1)][_0x1e78a0(0x3bc)](_0xd00078)[_0x1e78a0(0x136)](_0x41b320=>({'getLabel':_0x41b320[_0x1e78a0(0x171)][_0x1e78a0(0x61c)](_0x41b320),'getOwnerId':_0x41b320[_0x1e78a0(0x778)]['bind'](_0x41b320),'getContentType':_0x41b320['getContentType'][_0x1e78a0(0x61c)](_0x41b320),'getMediaStream':_0x41b320[_0x1e78a0(0x42a)][_0x1e78a0(0x61c)](_0x41b320),'subscribe':_0x41b320['subscribe'][_0x1e78a0(0x61c)](_0x41b320),'unsubscribe':_0x41b320['unsubscribe'][_0x1e78a0(0x61c)](_0x41b320),'getAvailableTrackKinds':_0x41b320[_0x1e78a0(0x3dc)]['bind'](_0x41b320),'update':_0x41b320[_0x1e78a0(0x4be)][_0x1e78a0(0x61c)](_0x41b320),'onProviderChange':_0x41b320[_0x1e78a0(0x4bc)][_0x1e78a0(0x61c)](_0x41b320)}));}[_0x57df12(0x5ab)](){const _0x132f0d=_0x57df12,_0x1a4d97=this['orchestrator'][_0x132f0d(0x5ab)]();switch(_0x1a4d97[_0x132f0d(0x3cb)]){case _0x36cc4b['NodeType']['User']:return{'type':_0x36cc4b[_0x132f0d(0x4d9)][_0x132f0d(0x1dd)],'getId':_0x1a4d97[_0x132f0d(0x5a9)][_0x132f0d(0x61c)](_0x1a4d97),'getDisplayName':_0x1a4d97[_0x132f0d(0x1cb)][_0x132f0d(0x61c)](_0x1a4d97),'getEmail':_0x1a4d97[_0x132f0d(0x5b5)]['bind'](_0x1a4d97),'getRemoteConnections':_0x1a4d97[_0x132f0d(0x6be)][_0x132f0d(0x61c)](_0x1a4d97),'setDisplayName':_0x1a4d97[_0x132f0d(0x377)][_0x132f0d(0x61c)](_0x1a4d97),'setEmail':_0x1a4d97[_0x132f0d(0x6ae)][_0x132f0d(0x61c)](_0x1a4d97)};case _0x36cc4b[_0x132f0d(0x4d9)]['Agent']:default:return{'type':_0x36cc4b[_0x132f0d(0x4d9)][_0x132f0d(0x53d)],'getId':_0x1a4d97[_0x132f0d(0x5a9)][_0x132f0d(0x61c)](_0x1a4d97),'getRemoteConnections':_0x1a4d97['getRemoteConnections'][_0x132f0d(0x61c)](_0x1a4d97)};}}[_0x57df12(0x552)](_0x55f121){const _0x2ecf7c=_0x57df12;return this['orchestrator'][_0x2ecf7c(0x552)](_0x55f121)[_0x2ecf7c(0x136)](_0x34fa4e=>{const _0x278862=_0x2ecf7c;switch(_0x34fa4e[_0x278862(0x3cb)]){case _0x36cc4b[_0x278862(0x4d9)]['User']:return{'type':_0x36cc4b[_0x278862(0x4d9)][_0x278862(0x1dd)],'getId':_0x34fa4e[_0x278862(0x5a9)]['bind'](_0x34fa4e),'getDisplayName':_0x34fa4e[_0x278862(0x1cb)][_0x278862(0x61c)](_0x34fa4e),'getEmail':_0x34fa4e[_0x278862(0x5b5)][_0x278862(0x61c)](_0x34fa4e),'getRemoteConnections':_0x34fa4e[_0x278862(0x6be)][_0x278862(0x61c)](_0x34fa4e)};case _0x36cc4b['NodeType'][_0x278862(0x53d)]:return{'type':_0x36cc4b[_0x278862(0x4d9)][_0x278862(0x53d)],'getId':_0x34fa4e['getId'][_0x278862(0x61c)](_0x34fa4e),'getRemoteConnections':_0x34fa4e[_0x278862(0x6be)]['bind'](_0x34fa4e)};default:throw new _0x19eda8(_0x5623ec[_0x278862(0x608)],'Invalid\x20node\x20type');}});}['on']=(..._0x4121a8)=>{const _0x50cf5f=_0x57df12;this[_0x50cf5f(0x508)]['on'](..._0x4121a8);};[_0x57df12(0x2de)]=(..._0x37637c)=>this['eventEmitter'][_0x57df12(0x2de)](..._0x37637c);[_0x57df12(0x56c)](..._0x184470){const _0xa4387=_0x57df12;this[_0xa4387(0x508)]['off'](..._0x184470);}}class _0x2b2324{['id'];[_0x57df12(0x31a)];['email'];['type']=_0x36cc4b[_0x57df12(0x4d9)]['User'];[_0x57df12(0x660)]=new Map();['observer']=_0x3f0774();constructor(_0x5445df,_0x5c1a17,_0x221426){this['id']=_0x5445df,this['displayName']=_0x5c1a17,this['email']=_0x221426;}[_0x57df12(0x5a9)](){return this['id'];}[_0x57df12(0x1cb)](){return this['displayName'];}[_0x57df12(0x5b5)](){const _0x30f213=_0x57df12;return this[_0x30f213(0x40e)];}[_0x57df12(0x377)](_0x92ebaf){const _0x2e82a2=_0x57df12;this['displayName']!==_0x92ebaf&&(this['displayName']=_0x92ebaf,this[_0x2e82a2(0x273)][_0x2e82a2(0x707)](this));}[_0x57df12(0x6ae)](_0xb4e34){const _0x18863e=_0x57df12;this[_0x18863e(0x40e)]!==_0xb4e34&&(this[_0x18863e(0x40e)]=_0xb4e34,this['observer'][_0x18863e(0x707)](this));}[_0x57df12(0x423)](_0xe3f967,_0x4303a5){const _0x433c48=_0x57df12;if(this[_0x433c48(0x660)]['has'](_0xe3f967))return;const _0x4424e8=this[_0x433c48(0x273)]['subscribe'](_0x4303a5);this['joinedClusters'][_0x433c48(0x6dc)](_0xe3f967,_0x4424e8);}[_0x57df12(0x6e6)](_0x427b80){const _0x3eeed9=_0x57df12;if(!this[_0x3eeed9(0x660)][_0x3eeed9(0x245)](_0x427b80))return;const _0x5d15ba=this[_0x3eeed9(0x660)][_0x3eeed9(0x351)](_0x427b80);_0x5d15ba&&_0x5d15ba(),this['joinedClusters'][_0x3eeed9(0x403)](_0x427b80);}}class _0x11b918{[_0x57df12(0x54f)];[_0x57df12(0x696)];constructor(_0x394094){const _0x14c75a=_0x57df12;this[_0x14c75a(0x54f)]=_0x394094;}async[_0x57df12(0x77f)](_0x18a706){const _0x39cf26=_0x57df12,_0x4f4016=await(0x0,_0x210c80[_0x39cf26(0x5d6)])(_0x4e0444['getFunctions'](),_0x39cf26(0x63e))({'uid':_0x39cf26(0x7a2)+this[_0x39cf26(0x54f)]+'ccc'+_0x18a706['id']}),_0x130bce=await(0x0,_0xb5b474[_0x39cf26(0x75e)])(_0x4e0444[_0x39cf26(0x6fb)](),_0x4f4016[_0x39cf26(0x6de)]['token']);this[_0x39cf26(0x696)]=_0x130bce[_0x39cf26(0x696)];}async[_0x57df12(0x3e2)](){const _0xf3dba3=_0x57df12;await(0x0,_0xb5b474[_0xf3dba3(0x3e2)])(_0x4e0444['getAuth']());}[_0x57df12(0x17b)](){const _0x5602c9=_0x57df12;return this[_0x5602c9(0x696)]?.[_0x5602c9(0x17b)]()??Promise[_0x5602c9(0x6f3)](_0x5602c9(0x7a1));}}class _0x3eaaeb{static [_0x57df12(0x453)];[_0x57df12(0x160)]=[];constructor(){}static[_0x57df12(0x653)](){const _0x2ba52f=_0x57df12;return _0x3eaaeb[_0x2ba52f(0x453)]||(_0x3eaaeb['instance']=new _0x3eaaeb()),_0x3eaaeb[_0x2ba52f(0x453)];}[_0x57df12(0x5de)](){const _0x2ac8f5=_0x57df12;this[_0x2ac8f5(0x278)](),this['checkMediaStream'](),this[_0x2ac8f5(0x481)](),this['checkAudioVolume'](),this['checkDeviceConfig'](),this[_0x2ac8f5(0x1ed)](),this[_0x2ac8f5(0x67c)](),this[_0x2ac8f5(0x5a8)](),this[_0x2ac8f5(0x2ac)](),this['checkAudioContext'](),_0x287307['log'](_0x54918a[_0x2ac8f5(0x1df)],_0x2ac8f5(0x6c3),{'featureSupport':this['featureSupport']});}[_0x57df12(0x2c5)](_0x6e4f6c){const _0x955999=_0x57df12,_0x4bbae6=this[_0x955999(0x160)]['find'](_0xc237cb=>_0xc237cb['name']===_0x6e4f6c);return!!_0x4bbae6&&_0x4bbae6['supported'];}['logSupport'](_0x2c3988){const _0x1e1bcc=_0x57df12;_0x287307[_0x1e1bcc(0x2e6)](_0x1e1bcc(0x1eb),{'nodeId':_0x2c3988['getId'](),'nodeType':_0x2c3988[_0x1e1bcc(0x3cb)],'data':{'featureSupport':this[_0x1e1bcc(0x160)]}});}[_0x57df12(0x278)](){const _0x17ee02=_0x57df12,_0x53e439=_0x193462[_0x17ee02(0x5e6)];let _0x564efd=!0x1;_0x17ee02(0x296)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x564efd=!0x0:_0x287307[_0x17ee02(0x60a)](_0x54918a[_0x17ee02(0x1df)],_0x17ee02(0x24b)+_0x53e439+_0x17ee02(0x3e9)),this['featureSupport']['push']({'name':_0x53e439,'supported':_0x564efd});}[_0x57df12(0x4e6)](){const _0x245e9a=_0x57df12,_0x2a5efc=_0x193462[_0x245e9a(0x32a)];let _0x2e228e=!0x1;_0x245e9a(0x296)==typeof MediaStream&&_0x245e9a(0x296)==typeof MediaStreamTrack&&_0x245e9a(0x330)==typeof navigator&&_0x245e9a(0x330)==typeof navigator[_0x245e9a(0x191)]&&_0x245e9a(0x296)==typeof navigator[_0x245e9a(0x191)][_0x245e9a(0x79e)]?_0x2e228e=!0x0:_0x287307[_0x245e9a(0x60a)](_0x54918a[_0x245e9a(0x1df)],_0x245e9a(0x24b)+_0x2a5efc+_0x245e9a(0x3e9)),this['featureSupport'][_0x245e9a(0x374)]({'name':_0x2a5efc,'supported':_0x2e228e});}[_0x57df12(0x481)](){const _0x2debe1=_0x57df12,_0x4e7c75=_0x193462[_0x2debe1(0x440)];let _0x44296c=!0x1;_0x2debe1(0x330)==typeof navigator&&'object'==typeof navigator[_0x2debe1(0x191)]&&_0x2debe1(0x296)==typeof navigator[_0x2debe1(0x191)][_0x2debe1(0x113)]?_0x44296c=!0x0:_0x287307['log'](_0x54918a[_0x2debe1(0x1df)],'Support:\x20'+_0x4e7c75+'\x20not\x20supported'),this['featureSupport'][_0x2debe1(0x374)]({'name':_0x4e7c75,'supported':_0x44296c});}[_0x57df12(0x768)](){const _0x43711c=_0x57df12,_0x39fe76=_0x193462[_0x43711c(0x50b)];let _0x50976c=!0x1;_0x43711c(0x296)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x43711c(0x296)!=typeof MediaStreamAudioSourceNode?_0x287307['log'](_0x54918a['Support'],_0x43711c(0x24b)+_0x39fe76+'\x20not\x20supported'):_0x50976c=!0x0,this[_0x43711c(0x160)]['push']({'name':_0x39fe76,'supported':_0x50976c});}[_0x57df12(0x58f)](){const _0x139bd9=_0x57df12,_0x39b3aa=_0x193462[_0x139bd9(0x373)];let _0x624f8a=!0x1;'object'==typeof navigator&&_0x139bd9(0x330)==typeof navigator[_0x139bd9(0x191)]&&_0x139bd9(0x296)==typeof navigator[_0x139bd9(0x191)][_0x139bd9(0x6d6)]&&'function'==typeof MediaDeviceInfo?_0x624f8a=!0x0:_0x287307[_0x139bd9(0x60a)](_0x54918a[_0x139bd9(0x1df)],_0x139bd9(0x24b)+_0x39b3aa+_0x139bd9(0x3e9)),this[_0x139bd9(0x160)][_0x139bd9(0x374)]({'name':_0x39b3aa,'supported':_0x624f8a});}[_0x57df12(0x1ed)](){const _0x1c3e58=_0x57df12,_0x31894d=_0x193462['AudioOutput'];let _0xc31ef=!0x1;_0x1c3e58(0x330)==typeof document&&_0x1c3e58(0x296)==typeof document[_0x1c3e58(0x6b5)](_0x1c3e58(0x176))[_0x1c3e58(0x4b9)]?_0xc31ef=!0x0:_0x287307['log'](_0x54918a['Support'],_0x1c3e58(0x24b)+_0x31894d+_0x1c3e58(0x3e9)),this['featureSupport'][_0x1c3e58(0x374)]({'name':_0x31894d,'supported':_0xc31ef});}async[_0x57df12(0x67c)](){const _0x239321=_0x57df12,_0x188d4f=_0x193462[_0x239321(0x265)];let _0x5a6629=!0x1;try{const _0x1093e5=document['createElement'](_0x239321(0x478));if(MediaRecorder&&MediaSource&&_0x1093e5[_0x239321(0x619)]){const _0x27ca89=_0x1093e5[_0x239321(0x619)](),_0xd65f8a=new MediaRecorder(_0x27ca89);_0xd65f8a['start'](),await new Promise(_0x449f46=>setTimeout(_0x449f46,0x7d0)),_0xd65f8a[_0x239321(0x541)](),_0x5a6629=_0x239321(0x37d)===_0xd65f8a[_0x239321(0x78a)];}}catch(_0x4e69d9){_0x287307[_0x239321(0x60a)](_0x54918a[_0x239321(0x1df)],_0x239321(0x24b)+_0x188d4f+'\x20check\x20failed',_0x4e69d9);}this['featureSupport'][_0x239321(0x374)]({'name':_0x188d4f,'supported':_0x5a6629}),_0x5a6629||_0x287307[_0x239321(0x60a)](_0x54918a['Support'],_0x239321(0x24b)+_0x188d4f+_0x239321(0x3e9));}[_0x57df12(0x5a8)](){const _0x519ec0=_0x57df12,_0x2bad35=_0x193462[_0x519ec0(0x59a)];let _0x45e50c=!0x1;try{document['createElement']('canvas')[_0x519ec0(0x619)]&&(_0x45e50c=!0x0);}catch(_0x282d88){_0x287307[_0x519ec0(0x60a)](_0x54918a[_0x519ec0(0x1df)],_0x519ec0(0x24b)+_0x2bad35+_0x519ec0(0x452),_0x282d88);}this[_0x519ec0(0x160)]['push']({'name':_0x2bad35,'supported':_0x45e50c}),_0x45e50c||_0x287307[_0x519ec0(0x60a)](_0x54918a['Support'],_0x519ec0(0x24b)+_0x2bad35+_0x519ec0(0x3e9));}[_0x57df12(0x2ac)](){const _0x5a3ea8=_0x57df12,_0x451aa3=_0x193462[_0x5a3ea8(0x2c4)];let _0x34f853=!0x1;try{const _0x4be51b=document[_0x5a3ea8(0x6b5)](_0x5a3ea8(0x478));WebGLRenderingContext&&_0x4be51b[_0x5a3ea8(0x2d5)](_0x5a3ea8(0x6cf))&&(_0x34f853=!0x0);}catch(_0x2aab81){_0x287307[_0x5a3ea8(0x60a)](_0x54918a[_0x5a3ea8(0x1df)],'Support:\x20'+_0x451aa3+_0x5a3ea8(0x452),_0x2aab81);}this[_0x5a3ea8(0x160)][_0x5a3ea8(0x374)]({'name':_0x451aa3,'supported':_0x34f853}),_0x34f853||_0x287307['log'](_0x54918a[_0x5a3ea8(0x1df)],_0x5a3ea8(0x24b)+_0x451aa3+'\x20not\x20supported');}[_0x57df12(0x650)](){const _0x110fa3=_0x57df12,_0x464d6b=_0x193462[_0x110fa3(0x5b7)];let _0x4102e5=!0x1;_0x110fa3(0x296)==typeof AudioContext?_0x4102e5=!0x0:_0x287307[_0x110fa3(0x60a)](_0x54918a[_0x110fa3(0x1df)],_0x110fa3(0x24b)+_0x464d6b+_0x110fa3(0x3e9)),this['featureSupport']['push']({'name':_0x464d6b,'supported':_0x4102e5});}}const _0x18986f=_0x3eaaeb[_0x57df12(0x653)]();class _0x330ee2{static [_0x57df12(0x453)];static [_0x57df12(0x246)];[_0x57df12(0x688)];[_0x57df12(0x54f)];[_0x57df12(0x112)];[_0x57df12(0x549)];[_0x57df12(0x1b9)]=new Map();[_0x57df12(0x215)];constructor(_0x50d822,_0x4117a5,_0x5145f0){const _0x17f3a0=_0x57df12;this[_0x17f3a0(0x54f)]=_0x50d822,this[_0x17f3a0(0x549)]=_0x4117a5,this[_0x17f3a0(0x688)]=new _0x11b918(this[_0x17f3a0(0x54f)]),_0x18986f[_0x17f3a0(0x5de)](),this[_0x17f3a0(0x112)]={'audioContext':_0x5145f0?.[_0x17f3a0(0x480)]??(_0x18986f[_0x17f3a0(0x2c5)](_0x193462['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x5145f0?.[_0x17f3a0(0x27d)]??0x1,'minConnections':_0x5145f0?.[_0x17f3a0(0x295)]??0x3,'maxConnections':_0x5145f0?.['maxConnections']??(_0x5145f0?.[_0x17f3a0(0x295)]&&0x4*_0x5145f0['minConnections'])??0xc,'maxDistance':_0x5145f0?.[_0x17f3a0(0x1b3)]??0xa,'maxFps':_0x5145f0?.[_0x17f3a0(0x587)]??0x18,'maxBpp':_0x5145f0?.[_0x17f3a0(0x584)]??0.12,'objectStoreConnector':_0x5145f0?.[_0x17f3a0(0x754)]??_0x2a5479[_0x17f3a0(0x217)],'keyValueDatabaseConnector':_0x5145f0?.[_0x17f3a0(0x14f)]??_0x242815['IDBDatabaseConnector'],'peerConnectionConnector':_0x5145f0?.[_0x17f3a0(0x637)]??_0x8a9717['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnector':_0x5145f0?.[_0x17f3a0(0x5c3)],'vectorDatabaseConnector':_0x5145f0?.['vectorDatabaseConnector']},_0x5145f0?.[_0x17f3a0(0x360)]&&this[_0x17f3a0(0x112)]['audioContext']&&_0xdd3be7[_0x17f3a0(0x17f)](this[_0x17f3a0(0x112)]['audioContext']),_0x287307[_0x17f3a0(0x354)](this['vendorId']),_0x5145f0?.['loggingConnectors']&&_0x287307[_0x17f3a0(0x333)](_0x5145f0[_0x17f3a0(0x1b8)]);}static async[_0x57df12(0x653)](_0x19f3a5,_0x42a06f,_0x14ba93,_0x452ee9){const _0x4c60e4=_0x57df12,_0x1a9bc3=await this['validateAccess'](_0x19f3a5,_0x42a06f,_0x452ee9);return _0x330ee2['instance']||(_0x330ee2[_0x4c60e4(0x453)]=new _0x330ee2(_0x19f3a5,_0x1a9bc3,_0x14ba93)),{'close':_0x330ee2[_0x4c60e4(0x453)]['close'][_0x4c60e4(0x61c)](_0x330ee2['instance']),'authenticateUser':_0x330ee2['instance'][_0x4c60e4(0x1f8)][_0x4c60e4(0x61c)](_0x330ee2['instance']),'authenticateAgent':_0x330ee2[_0x4c60e4(0x453)][_0x4c60e4(0x471)][_0x4c60e4(0x61c)](_0x330ee2[_0x4c60e4(0x453)]),'joinCluster':_0x330ee2[_0x4c60e4(0x453)][_0x4c60e4(0x4fd)][_0x4c60e4(0x61c)](_0x330ee2['instance'])};}static async[_0x57df12(0x47a)](){return _0x4e0444['getEstimatedTimestamp']();}static['isProduction'](){const _0x4f828d=_0x57df12;return _0x142ef9[_0x4f828d(0x4a5)];}async[_0x57df12(0x42b)](){const _0x2add14=_0x57df12;this[_0x2add14(0x1b9)][_0x2add14(0x3bd)](_0x1dbd87=>{const _0x5dae1c=_0x2add14;_0x1dbd87['off'](),_0x1dbd87[_0x5dae1c(0x1e1)]();}),this[_0x2add14(0x1b9)][_0x2add14(0x15f)](),this[_0x2add14(0x112)][_0x2add14(0x480)]&&_0xdd3be7[_0x2add14(0x2cb)](),_0x330ee2[_0x2add14(0x246)]?.(),_0x330ee2[_0x2add14(0x246)]=void 0x0,this[_0x2add14(0x215)]=void 0x0,await this[_0x2add14(0x688)][_0x2add14(0x3e2)](),_0x330ee2['instance']=void 0x0;}static async['validateAccess'](_0x419c0a,_0x23fb97,_0x4e3020){const _0x54eae8=_0x57df12;let _0x31385e;try{_0x31385e=await(0x0,_0x210c80[_0x54eae8(0x5d6)])(_0x4e0444[_0x54eae8(0x68b)](),_0x54eae8(0x16c))({'vendorId':_0x419c0a,'accessToken':_0x23fb97,'secretKey':_0x4e3020});}catch(_0x1d23f1){throw new _0x19eda8(_0x5623ec[_0x54eae8(0x1d4)],_0x54eae8(0x681));}if(!this[_0x54eae8(0x199)](_0x31385e[_0x54eae8(0x6de)]))throw new _0x19eda8(_0x5623ec[_0x54eae8(0x1d4)],_0x54eae8(0x681));const _0x22ca21=_0x31385e[_0x54eae8(0x6de)];return _0x22ca21['features']||(_0x22ca21[_0x54eae8(0x2c7)]=[]),this[_0x54eae8(0x246)]||(this[_0x54eae8(0x246)]=_0xdd3be7[_0x54eae8(0x5cb)](async()=>{const _0x576f4e=_0x54eae8;try{const _0x555609=await this['validateAccess'](_0x419c0a,_0x23fb97,_0x4e3020);_0x22ca21[_0x576f4e(0x654)]=_0x555609[_0x576f4e(0x654)];}catch(_0x4e326e){}},0x1b7740)),_0x22ca21;}async[_0x57df12(0x1f8)](_0x5e9880){const _0x13122b=_0x57df12;await this[_0x13122b(0x688)][_0x13122b(0x77f)](_0x5e9880);const _0x11a1ec=new _0x2b2324(_0x5e9880['id'],_0x5e9880[_0x13122b(0x31a)],_0x5e9880[_0x13122b(0x40e)]);return this[_0x13122b(0x215)]={'node':_0x11a1ec},_0x18986f[_0x13122b(0x4b5)](_0x11a1ec),{'type':_0x36cc4b['NodeType'][_0x13122b(0x1dd)],'getId':_0x11a1ec['getId'][_0x13122b(0x61c)](_0x11a1ec),'getDisplayName':_0x11a1ec[_0x13122b(0x1cb)][_0x13122b(0x61c)](_0x11a1ec),'getEmail':_0x11a1ec['getEmail']['bind'](_0x11a1ec),'setDisplayName':_0x11a1ec[_0x13122b(0x377)]['bind'](_0x11a1ec),'setEmail':_0x11a1ec['setEmail']['bind'](_0x11a1ec)};}async[_0x57df12(0x471)](_0x3918ca){const _0x2a7e0d=_0x57df12,{id:_0x749e6c,groupId:_0x3b2243}=_0x3918ca,_0x2830fe=await(0x0,_0x481bcf[_0x2a7e0d(0x5c6)])((0x0,_0x481bcf[_0x2a7e0d(0x743)])(_0x4e0444[_0x2a7e0d(0x5d7)](),_0x2a7e0d(0x34f)+this['vendorId']+'/resources/agent/items/'+_0x3b2243));if(!_0x2830fe[_0x2a7e0d(0x32c)]())throw new _0x19eda8(_0x5623ec['NodeNotAuthenticated'],_0x2a7e0d(0x50f));const _0x41a49a=_0x2830fe[_0x2a7e0d(0x6de)]();await this['authService'][_0x2a7e0d(0x77f)]({'id':_0x749e6c});const _0x1775ed=new _0x878cdc(_0x749e6c,_0x3b2243,this[_0x2a7e0d(0x54f)],_0x41a49a);return this['authContext']={'node':_0x1775ed},_0x18986f[_0x2a7e0d(0x4b5)](_0x1775ed),await this[_0x2a7e0d(0x1e0)](_0x1775ed),{'type':_0x36cc4b['NodeType'][_0x2a7e0d(0x53d)],'getId':_0x1775ed[_0x2a7e0d(0x5a9)][_0x2a7e0d(0x61c)](_0x1775ed),'onConfigurationChange':_0x1775ed[_0x2a7e0d(0x49c)][_0x2a7e0d(0x61c)](_0x1775ed),'setReportCapacity':_0x1775ed['setReportCapacity']['bind'](_0x1775ed)};}async['joinCluster'](_0x276aed){const _0x224213=_0x57df12;if(!this[_0x224213(0x215)])throw new _0x19eda8(_0x5623ec[_0x224213(0x497)],_0x224213(0x13e));if(this[_0x224213(0x215)][_0x224213(0x11a)][_0x224213(0x3cb)]!==_0x36cc4b[_0x224213(0x4d9)][_0x224213(0x1dd)])throw new _0x19eda8(_0x5623ec[_0x224213(0x155)],_0x224213(0x2c1));if(this[_0x224213(0x1b9)]['has'](_0x276aed))throw new _0x19eda8(_0x5623ec[_0x224213(0x2c8)],_0x224213(0x54a));const _0x22bc8c=new _0x13dd65(this[_0x224213(0x54f)],_0x276aed,this[_0x224213(0x215)][_0x224213(0x11a)],this['authService'],this[_0x224213(0x112)],this['configs']);return await _0x22bc8c[_0x224213(0x219)](),this[_0x224213(0x15d)](_0x276aed,_0x22bc8c),_0x287307[_0x224213(0x2e6)]('join-cluster',{'clusterId':_0x276aed,'nodeId':this[_0x224213(0x215)][_0x224213(0x11a)]['getId'](),'nodeType':this[_0x224213(0x215)][_0x224213(0x11a)][_0x224213(0x3cb)]}),{'leave':_0x22bc8c[_0x224213(0x1e1)]['bind'](_0x22bc8c),'getLocalNode':_0x22bc8c[_0x224213(0x5ab)][_0x224213(0x61c)](_0x22bc8c),'openPubSubTopic':_0x22bc8c[_0x224213(0x6ed)]['bind'](_0x22bc8c),'openObjectStoreBucket':_0x22bc8c[_0x224213(0x5ed)]['bind'](_0x22bc8c),'openKeyValueDatabase':_0x22bc8c[_0x224213(0x230)][_0x224213(0x61c)](_0x22bc8c),'openGenerativeAIContext':_0x22bc8c[_0x224213(0x6e7)][_0x224213(0x61c)](_0x22bc8c),'openGenerativeAIWorker':_0x22bc8c[_0x224213(0x561)]['bind'](_0x22bc8c),'publishLocalMediaStream':_0x22bc8c[_0x224213(0x386)][_0x224213(0x61c)](_0x22bc8c),'publishLocalDynamicMediaStream':_0x22bc8c[_0x224213(0x3ab)][_0x224213(0x61c)](_0x22bc8c),'getPubSubTopics':_0x22bc8c[_0x224213(0x6ee)][_0x224213(0x61c)](_0x22bc8c),'getObjectStoreBuckets':_0x22bc8c[_0x224213(0x510)]['bind'](_0x22bc8c),'getKeyValueDatabases':_0x22bc8c[_0x224213(0x267)][_0x224213(0x61c)](_0x22bc8c),'getGenerativeAIContexts':_0x22bc8c[_0x224213(0x47b)][_0x224213(0x61c)](_0x22bc8c),'getGenerativeAIWorkers':_0x22bc8c[_0x224213(0x224)]['bind'](_0x22bc8c),'getLocalMediaStreams':_0x22bc8c[_0x224213(0x57e)][_0x224213(0x61c)](_0x22bc8c),'getRemoteMediaStreams':_0x22bc8c['getRemoteMediaStreams']['bind'](_0x22bc8c),'getRemoteNodes':_0x22bc8c[_0x224213(0x552)][_0x224213(0x61c)](_0x22bc8c),'on':_0x22bc8c['on'][_0x224213(0x61c)](_0x22bc8c),'off':_0x22bc8c[_0x224213(0x56c)][_0x224213(0x61c)](_0x22bc8c)};}async[_0x57df12(0x1e0)](_0x53c060){const _0x2b4161=_0x57df12;for(const _0xf341e4 of _0x53c060[_0x2b4161(0x512)][_0x2b4161(0x1b9)]){const _0x1e95fb=new _0x13dd65(this[_0x2b4161(0x54f)],_0xf341e4['id'],_0x53c060,this[_0x2b4161(0x688)],this[_0x2b4161(0x112)],this[_0x2b4161(0x549)]);await _0x1e95fb[_0x2b4161(0x219)](),this['addCluster'](_0xf341e4['id'],_0x1e95fb);for(const _0x15fa46 of _0xf341e4['pubsub'])_0x1e95fb[_0x2b4161(0x6ed)](_0x15fa46);for(const _0xc3a827 of _0xf341e4['objectStorage'])await _0x1e95fb[_0x2b4161(0x5ed)](_0xc3a827);for(const _0x91437b of _0xf341e4['keyValueDatabase'])await _0x1e95fb[_0x2b4161(0x230)](_0x91437b,{'version':0x1,'tables':{}});for(const _0x102b41 of _0xf341e4['generativeAIContexts'])await _0x1e95fb[_0x2b4161(0x561)](_0x102b41);}}[_0x57df12(0x15d)](_0x4b5879,_0x344bb5){const _0x31144f=_0x57df12;this[_0x31144f(0x1b9)][_0x31144f(0x6dc)](_0x4b5879,_0x344bb5),_0x344bb5['on'](_0x31144f(0x670),()=>{const _0x24f622=_0x31144f;_0x344bb5['off'](),this['clusters'][_0x24f622(0x403)](_0x4b5879);});}static[_0x57df12(0x199)](_0x3f54f8){return void 0x0!==_0x3f54f8['iceServers'];}}return _0x53de79;})())));function a0_0x5c56(_0x56ea2c,_0x5e3fff){const _0x3a6c68=a0_0x3a6c();return a0_0x5c56=function(_0x5c56a4,_0x1269b6){_0x5c56a4=_0x5c56a4-0x111;let _0x4ecc71=_0x3a6c68[_0x5c56a4];return _0x4ecc71;},a0_0x5c56(_0x56ea2c,_0x5e3fff);}function a0_0x3a6c(){const _0x50bf0c=['Disconnected','checkAudioContext','ObjectStoreNameNotString','Cluster','getInstance','iceServers','assign','addProblem','ObjectStoreInvalidSyncMessage','clusterKey','loadExistingContent','RemoteMediaStreamDoesNotExist','canProvideResolution','waitSuccess','inputTokens','71955PRatuy','internal-sdk-error','joinedClusters','subscription-request-no-answer','handleUpdateMediaStream','removeObjectStore','Invalid\x20params','invalid-publisher','GenerativeAIContextJobTimeout','subscriptionRequestTimeouts','createMediaStreamDestination','ranges','/resources/agent/items/','object-storage','gain','getSize','endsWith','crewdleSDKLoggingChannels','cluster-leave','getItem','framerate','getPriority','onNodeDisconnect','secheduleTime','Key-value\x20database\x20transaction\x20value\x20not\x20set.','previousTimestamp','ENOENT','unregisterSystemSource','receiverStreams','failed','checkMediaRecording','groupId','startsWith','codes','\x27\x20payload:','Invalid\x20credentials','High','Default','Connection','clockSkew','maps','getCurrentMaxLayer','authService','updateLastTransactionId','now','getFunctions','between','RequestFileWrite','content','Detection','notifyObjectStoreOfNodeLeave','system-stats','pendingSyncTransactions','object-store-invalid-sync-message','request-file','maxConnections','user','No\x20global\x20object\x20found','reduce','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','tableUnsubscriber','remainingTracks','connect','getModel','remoteId','evaluateBids','RemoteMediaStreamMissingProviderId','bandwidth.rtt','request-accepted','en-US','AppSync\x20client\x20not\x20ready','invalid-subscription','job-worker-already-exists','getStatus','isWhereValues','unregisterRemoteNode','addRemoteNode','handleSubscriptionRestartNeedMediaStream','subscription','No\x20connections\x20available\x20to\x20send\x20message','setEmail','FPS','getProviderId','isJobRequest','suspended','Data','functions','createElement','handleContentCloseObjectStore','outgoing-stream-no-topic','mediaStream','pendingFilesRename','createMediaStreamSource','SendTransactionsDump','keys','remediationManager','getRemoteConnections','handleSubscriptionUnsubscribeMediaStream','Attribution','clearRect','Everyone\x20','Support:\x20current\x20config','Completed','val','params','connector','key-value-database','onHandshakeStateChange','sendStats','setInternalId','manageAncestor','processJob','remoteUnsubscriber','webgl','16uSAJpi','handleNodeDisconnect','callback','job-worker-does-not-exist','currentDistance','onMessage','enumerateDevices','timePerFrame','tail','\x20to\x20send\x20dispatcherJob\x20','6077464cSwxgS','getConfigs','set','handleRemediationSystemEvents','data','statsReporting','getConnection','GenerativeAIWorkerAlreadyExists','152853JSVoDu','addBidResponse','dataChannel','removeEventListener','unregisterCluster','openGenerativeAIContext','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','end','findNextNodeId','mistlet-capacity-report-not-set','authNode','openPubSubTopic','getPubSubTopics','handleContentCloseKeyValueDatabase','audioDestination','source','destroy','reject','appsync-disconnect','DataChannel\x20is\x20not\x20open.','setRank','PubSubTopicStats','event','arrayBufferToObject','remote-media-stream-already-exists','getAuth','bandwidth.bitrate','Object\x20store\x20is\x20not\x20in\x20sync','Database\x20already\x20exists','Syncing','operator','key-value-database-does-not-exist','Received\x20event\x20on\x20cluster','cpu.time_per_frame','RequestSyncKeyValueDatabase','bufferEvent','getBid','publish','registeredListeners','bufferedEvents','pool','processSenderReport','unshift','limit','getMaxConnections','senders','getAncestorIds','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','removeSubscriptionsForNode','outgoingManager','isWhereValue','Apply\x20remediation','removeListener','generative-ai-worker-already-exists','remote-inbound-rtp','runTransaction','waitAnswer','Invalid\x20data\x20event.','key-value-database-already-exists','successNotified','compileStats','detectVideoIssues','Offline','shift','RequestFileSync','localMediaStreams','ConnectionNotConnected','notifyClusterNodeJoin','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','canRestartHandshake','\x20does\x20not\x20exists','packetsLost','minResolutionScale','senderCurrentTimestamp','clusters/','handleContentSystemEvents','processList','Partial','timeoutCallback','sendTransactionsValue','outputTokens','SystemTopic\x20publish','lastUpdated','Early\x20return:\x20','getApp','generative-ai-context-creation-failed','KeyValueDatabaseTransactionTableNotInitialized','messageUnsubscriber','getBitrate','::￿','senderCurrentBytes','MediaStreamPriority','collectSendersStats','availableTrackKinds','handleRemoteTrackFailure','getLocalMediaStream','JobDispatcherAlreadyExists','doc','unregisterSource','MissingSystemTopic','commit','JobDispatcherCreationFailed','MistletCapacityReportNotSet','localNode','hasOwnProperty','isConnected','AudioOutput','getAudioVideoDelay','key-value-database-creation-failed','/transactions/','clearRestartTimeout','frameTime','GenerativeAIContextCreationFailed','Buffering\x20event','objectStoreConnector','syncResolve','registerDestination','cleanOldSubscription','lastRemediations','getNumberOutgoingSubscriptions','FeatureNotEnabled','FolderCreate','objectStores','Invalid\x20object\x20store\x20sync\x20message.','signInWithCustomToken','getSettings','sdk-internal-error:\x20','receiverTotalMessages','job-dispatcher-job-not-found','closeConnection','Jobs','handleNodeLeave','answers','createConstantSource','checkAudioVolume','handleSubscriptionSubscribeMediaStream','handleSubscriptionMediaStreamUnavailable','messageListeners','handleFileWrite','object-store-invalid-payload','subscribe','messageCallback','addPendingHandshakeCandidate','decodeJWT','Generative\x20AI\x20context\x20job\x20timeout.','trackCallback','subscriptionRequests','find','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','AI\x20Service\x20already\x20exists','getOwnerId','from','unregisterPublisher','random','srcObject','RemoteMediaStreamAlreadyExists','startHeartbeat','signInWithCredential','InvalidSubscription','where','Outgoing','peer-connection-invalid-destination','Send\x20request','add','setOnDisconnectHandler','remoteMediaStreams','subscribeToJobs','parameters','state','packetsReceived','Error\x20encountered\x20while\x20opening\x20database','IncomingSubscription','localId','addRemoteConnection','addVideoTrack','Subscription\x20request\x20failed.','currentVersion','list','\x20failed.','string','getJob','getRemoteId','Remote\x20connection\x20already\x20exists.','getCurrentVersion','Processing','listen','generative-ai-worker-missing-connectors','dataUnsubscribers','getUserMedia','job-dispatcher-invalid-payload','SubscribeMediaStream','User\x20not\x20signed\x20in','ccc','receiverPreviousBytes','syncTransactions','Receiver','statsManager','AudioVideoDelay','candidate','logServiceEvent','isJobAttribution','420235181083','processTransactionPayload','toStringTag','Valid\x20layout','processPendingSyncTransactions','setBytes','options','getDisplayMedia','resizeHandler','splitParts','Internal\x20unknown\x20error:\x20','graphql','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','GenerativeAIContext','node','Missing\x20owner\x20node\x20or\x20rank','answerJoin','propagate','RestartNeedMediaStream','serverTimestamp','indexes','index','getConnectionGroup','accumulateResult','https://crewdle-sdk-default-rtdb.firebaseio.com','manageOptimization','jobPhase','subscription-request-in-progress','Error','isReconnecting','MissingRemoteConnection','scheduleTime','bitrate','processBatch','outgoingStreams','failJob','batchQueue','audio','handleCloseObjectStore','Invalid\x20index\x20in\x20table\x20\x27','name','processInboundReport','map','connection-not-connected','minThreshold','clearOncloseTimeout','KeyValueDatabaseNameNotString','receiverTimeProcessing','ObjectStoreAlreadyExists','incrementVersion','Node\x20not\x20authenticated','orderBy','Local\x20stream\x20does\x20not\x20exist.','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','getTableConnector','setScheduleTime','warning','\x27\x20to\x20','setProviderId','transactionTable','setRemoteConnections','ObjectStoreInvalidPayload','getConnectionType','registerSource','getInternalStreamId','handleCloseMediaStream','/nodes/','keyValueDatabaseConnector','sendChunked','syncTransactionsWritten','addCandidate','childRemovedUnsubscriber','handleNodeUpdate','NodeTypeNotSupported','getOutgoingOptimizationConnections','joinedAt','validateQuery','ClosePubSubTopic','indexOf','/transactions','publishNodeJoin','addCluster','out','clear','featureSupport','number','local-media-stream-track-fail','key-value-database-not-open','createOutgoingSubscription','digest','receiverCurrentTimestamp','createNewBatch','QueryBuilderInvalidArgument','setupStatsCollection','removeContent','sendBid','sdkValidateAccess','JobWorkerAlreadyExists','Failed','NodeLeave','11118506rbmUWH','getLabel','GenerativeAIContextStats','outgoingTopic','handleOutgoingSystemEvents','aws','video','graphService','retry','receivers','remoteConnections','getIdToken','receiverUnsubscribers','CannotProvideMediaStream','clearSubscriptionRequestTimeout','startNoThrottlingHack','providerListener','buildQuery','NodeDoesNotExist','getSenderTotalBytes','JobType','sort','__esModule','Cannot\x20publish\x20move\x20operation:\x20','dbKey','listenerUnsubscriber','Failed\x20to\x20create\x20job\x20service','Consuming\x20buffered\x20event','Incoming','listenUnsubscriber','1737474PBzXet','tableLayout','prototype','mediaDevices','pubsub','JobStream','Disconnect','topic','Cannot\x20publish\x20payload:\x20','request-file-write','DataChannel\x20is\x20not\x20initialized.','isInternalSDKConfigs','maxFramerate','calculateSize','discoveryUnsubscriber','globalObject','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','addMessage','AudioContext\x20is\x20not\x20available','iceConnectionState\x20failed','key-value-database-index-not-found','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','logPropagateSystemEvent','uuid','updateDebounceTimeout','jobWorkers','trackKinds','handleStatsSystemEvents','UnsubscribeMediaStream','Local\x20MediaStream\x20already\x20exists','generative-ai-label-conflict','hasMessage','GenerativeAIContextAlreadyExists','SubscriptionRequestInProgress','ref','status','handleOnMessage','maxDistance','setupConnectionEvents','detectAudioIssues','NodeManager\x20-\x20NodeLeave','Remove','loggingConnectors','clusters','subscriptions','absolutePathName','setupRenderElement','processPendingHandshakeCandidates','RemoteMediaStreamTrackFail','handleFolderCreate','us-east-1','start','jobs','wait','handleContentUnsubscribeMediaStream','debug','/models','CONNECTION_STATE_CHANGE','onUnregisterPublisher','setCurrentVersion','isMediaDestination','getDisplayName','Transaction','KeyValueDatabaseInvalidLayout','ConnectionNoRetryQueue','sendRequest','enabledChannels','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','getTransactions','unregisterPublisherListener','InvalidAccess','createPendingFileWrite','tableObserver','getInternalTrackParams','setEncodingParameters','setUpgradeTimeout','getMinConnections','FileMove','OutgoingSubscription','User','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Support','connectAgent','leave','database','Answer','deleteJob','setPendingFileSyncingPayload','framesEncoded','split','notifyObjectStoreOfNodeJoin','server','processLocalReport','support','Invalid\x20job\x20worker\x20type.','checkAudioOutput','onRemoveTrack','remove','track','drawImage','reset','sendFile','entries','removePubSubTopic','stream','JobWorker:\x20Received\x20job','authenticateUser','generative-ai-worker-model-sync-error','handleDisconnect','onGatheringStateChange','onTrack','Pool','pendingFilesSyncing','\x27:\x20missing\x20or\x20invalid\x20keyPath','transactionService','handleSubscribeMediaStream','Local\x20node\x20rank\x20is\x20not\x20set','startTime','key-value-database-invalid-query','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','return\x20this','getEnabledChannels','getSubscribedTracks','lastTransactionId','createKeyValueDatabase','setupStatsReporting','deletePendingFile','handleSubscriptionSystemEvents','createReceiverConnection','StorageEventType','detectionManager','setDurationTime','generative-ai-context-invalid-partial-result','st_volatility','next','authContext','not-in','OPFSObjectStoreConnector','systemMessagesReceived','join','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Internal\x20event\x20\x27','audioSource','updateLastUpdated','KeyValueDatabaseStats','downgrade','Remediation','Pending','sendFileRequestPayload','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','getGenerativeAIWorkers','Invalid\x20peer\x20connection\x20event\x20destination.','action','KeyValueDatabaseInvalidValue','addEventListener','getMaxDistance','upgradeTimeout','-leave','isNeedRestart','storage','messageType','SubscriptionRequestNoAnswer','openKeyValueDatabase','completeSync','retryDelay','byteLength','loadEnabledChannels','systemTopic','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','hasTracks','handleCloseJobDispatcher','JobWorkerDoesNotExist','OptimizationConnectionSuccess','/capacities','tableName','publishFolder','handleOptimizationConnectionSuccess','subscribeToContent','floor','arrayBuffer','handleRequestPayload','createGenerativeAIWorker','processReports','has','unsubscribe','frameHeight','ObjectKind','createIncomingSubscription','/logs','Support:\x20','JobWorker:\x20Sending\x20job\x20result','CrewdleConnection\x20handlePeerConnectionSystemEvents','senderConnection','systemMessages','createGain','crewdle-sdk-stg','AI\x20Worker\x20already\x20exists','connection-state','NodeManager\x20-\x20PublishNodeLeave','An\x20error\x20occurred','isRunning','fileChunks','invalid-access','component','List','handleCloseKeyValueDatabase','removeTrackCallback','sync','KeyValueDatabaseInvalidQuery','isBidResponse','element','job-dispatcher-does-not-exist','processTransactionsDump','receiverBitrate','addIssue','Recording','Missing\x20answerer\x20id\x20on\x20request\x20answer','getKeyValueDatabases','retryQueue','processRemoteInboundReport','splice','muted','onConnectionStateChange','onBufferedAmountLow','av_delay','SystemStats','pendingFilesTransactions','debugEnabled','Add','observer','buffer','processOutboundReports','StreamReport','key-value-database-transaction-value-not-set','checkWebRTC','\x20attempts:','responseTimeout','Internal\x20SDK\x20error:\x20','createSubscription','maxOutgoingSubscriptions','LocalReport','openJobDispatcher','object-store-already-subscribed','handleNeedRestart','getMediaSubscription','publishMove','createJob','crewdle-sdk','RemoteAdd','isSync','NeedMediaStream','roundTripTime','senderBitrate','evaluateBidsAndAttributeJob','gpu','unregisterSubscriber','nodes','setLocalRank','2-digit','GenerativeAIContextInvalidPartialResult','getClosestNodes','registerPublisher','handleError','minConnections','function','/documents','chunks','RemoteRemediation','isSyncing','handleContentCloseJob','publishSyncCompletedAfterWrites','RequestAccepted','isSubscribed','Logger.getInstance','PubSubTopicDoesNotExist','getLocalId','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','auth','version','connectionState','JobDispatcherDoesNotExist','connected','packets','folder-create','node-does-not-exist','findIndex','checkWebGL','getReceiverTotalBytes','Base\x20Peer\x20Connection','signalingServer','getTrack','removeOutgoingSubscription','removeRemoteConnection','currentFrames','writeTransaction','isResultResponse','removeTrack','buildTableEvent','statsCollection','publishNodeLeave','CanProvideMediaStream','NeedRestart','transactionsToSync','handleNoAnswer','getSubscriptionLabel','getCoresFromCapacityReport','connections','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','stringify','priority','WebGL','isFeatureSupported','Result','features','ClusterAlreadyJoined','handleAnswer','firebaseConfig','stopNoThrottlingHack','connectionPool','Job\x20Worker\x20does\x20not\x20exist','pow','northamerica-northeast1','CloseMediaStream','sendReject','maxBitrate','renderElement','createObjectStoreBucket','getContext','concat','committed','Invalid\x20version\x20\x27','total','Restart\x20NeedMediaStream','Attempt\x20','getTrackFromParam','JobWorker:\x20Handling\x20job\x20attribution','emit','logStorage','chosenAnswers','hasRemoteNode','addReservedTables','PubSubTopicAlreadyExists','createRemoteMediaStream','publishUserUpdate','logEvent','clearWaitSuccess','connectionManager','query','\x20created\x20and\x20dispatched.','Core','job-','object-store-name-not-string','setReceiverBytes','JobDispatcherObserverNotFound','deleteRemoteNode','resolutionScale','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','key-value-database-transaction-table-not-initialized','CloseJobDispatcher','InternalSDKError','remoteNodes','unpublish','available','compareTransactions','handleLocalTrackFailure','setOnMessageHandler','agent-update','complete','getResolution','handleUnpublishMediaStream','isIceCandidate','\x20answer','Connected','Cannot\x20get\x20file:\x20','every','TimePerFrame','onCandidate','agent-config-changed','isFailedResponse','Connection\x20does\x20not\x20exist.','getPartsFromSubscription','LoggingService:\x20logging\x20enabled\x20for','handleNodeSystemEvents','internal','bytesReceived','SubscriptionRequestFailed','getRoundTripTime','restartTimeout','RequestTransactionsValue','receiverCurrentBytes','findNewMediaSubscription','currentTimestamp','Job\x20Worker\x20already\x20exists','match','getNextTargetRank','/objectstores/','displayName','debounceStats','clientStream','setItem','getName','Invalid\x20subscription.','processReport','object-store-stream-does-not-exist','RemoteRemove','JobWorker:\x20Received\x20job\x20request','generative-ai-context-does-not-exist','UpdateMediaStream','Cannot\x20publish\x20folder:\x20','createOffer','validateLayout','requestSubscription','MediaStream','oidc','exists','handleNodeJoin','handleClosePubSubTopic','previous','object','connection-not-initialized','RemoteConnectionExists','setLoggingConnectors','1:519415702791:web:5dd39042f881cfde3251a2','sendIceCandidates','durationTime','receiver','getVideoTracks','setOnTableWriteHandler','OutgoingMediaStreamNoTopic','JobDispatcherJobNotFound','DTVolatility','\x27\x20from\x20','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','interval','onloadeddata','discover','abs','restartHandshake','addAudioTrack','crewdleSDKEnableLogging','Invalid\x20layout:\x20','Failed\x20to\x20send\x20job\x20','requestSubscriptionAction','checkSyncComplete','answer','Waiting','.info/connected','deleteObject','client','developers/','registerRemoteNode','get','MediaStream\x20feature\x20not\x20enabled','handleSubscriptionProvideMediaStream','setVendorId','getJobObservable','ObjectStoreNotInSync','objectStore','discoveryService','Jitter','ObjectStoreNotSynced','getTransactionFromTableWriteEvent','\x27\x20in\x20table\x20\x27','ObjectStoreDoesNotExist','Job\x20service\x20observer\x20not\x20found.','LocalMediaStreamNoAudioContext','disableIntervalHack','setTimeout','DatabaseEvent','unsubscribeTrackEndedListener','key-value-database-table-name-reserved','send\x20error\x20on\x20','removeItem','content-unpublish-media','outbound-rtp','\x20-\x20Sending\x20propagation\x20(','publishFile','startBidResponseHandling','isWhereBetween','addTrack','All\x20recipients\x20already\x20received','NodeUpdate','.crewdle-last-transaction','transactionIds','detectStreamIssues','DeviceConfig','push','signalingState','senderPreviousTimestamp','setDisplayName','handleContentUpdateMediaStream','FileDelete','remediation','Subject','signaling','inactive','firebase-connect','createConnection','MediaStreamUnavailable','maxResolution','getDistance','issues','handleSuccess','clearSyncTimeout','publishLocalMediaStream','error','lastCapacityReport','Connection\x20not\x20connected.','1:420235181083:web:4eff6062bd845cb0748cbe','recipients','Folder','nextNodeId','height','getLastUpdated','batchSize','subscriptionRequestsQueue','G-F7W8KXRKQB','answererId','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','ObjectStoreCannotWriteTransaction','CloseKeyValueDatabase','getQuery','trackEndedListeners','Cannot\x20publish\x20file:\x20','logBatch','handleContentClosePubSubTopic','crewdle-sdk-logging-','connectionGroup','issue','disconnected','vectorDatabaseConnector','handleProblem','eventListener','handleChunkMessage','resume','CrewdleReceiverConnection\x20ontrack','Unsupported\x20job\x20type','retryQueues','handleJobAttribution','AppSync\x20publish','Get','publishLocalDynamicMediaStream','UnpublishMediaStream','fps','user-update','generative-ai-context-job-failed','Rejected','pubsubTopics','padStart','onClose','senderTimeProcessing','PartialResult','Internal\x20error:\x20','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Key-value\x20database\x20creation\x20failed.','SHA-1','object-store-cannot-write-transaction','Online','getRemoteMediaStreams','forEach','Model\x20not\x20found','Invalid\x20publisher.','processServiceReport','processOutboundReport','PeerConnectionInvalidDestination','batchTimeout','Failed\x20to\x20create\x20key\x20value\x20database','JobDispatcherInvalidPayload','job-dispatcher-observer-not-found','getPacketsLostPerc','AI\x20worker\x20creation\x20failed.','JobWorker:\x20Sending\x20job\x20bid','maxLayer','type','.crewdle-transactions','createTopic','Optimization','getResolutionScale','bytesSent','isArray','Handshake','Rejected\x20answer','PubSub','ObjectStorage','removeJobWorker','job-dispatcher-job-exists','Emitting\x20event\x20on\x20local\x20cluster','app','closed','getRemoteNode','getAvailableTrackKinds','parse','enabled','Synced','Invalid\x20key\x20\x27','connectionType','signOut','\x20not\x20found.','Offer','decode','Module','autoplay','removeTrackListeners','\x20not\x20supported','updateDebounce','handleContentCloseMediaStream','replace','Content','Stats','pub-sub-topic-name-not-string','registerSubscriber','DataStream','JobDispatcher:\x20Received\x20job','CrewdleSenderConnection\x20createOffer','generative-ai-worker-creation-failed','PubSubTopic\x20publish','logConnectionState','systemTopicUnsubscribe','replaceTrack','previousBytes','handleObjectMove','processReceiverReport','handleTransactionPayload','frames','handleMissingSenders','notifyClusterNodeUpdate','unsubscribeListener','getSenderBitrate','getSupportedContentTypes','delete','payload','KeyValueDatabase','jobDispatchers','PubSubTopicAlreadySubscribed','bufferedAmountLowThreshold','\x20with\x20\x27','totalDecodeTime','providerId','CrewdleConnectionGroup','layout','email','true','retryLimit','onremovetrack','rank','queues','ObjectStoreAlreadySubscribed','createFolder','sampleRate','missing-datachannel','syncedFileExists','handshakeDebounce','jobObservers','RemoteMediaStreamInvalidSubscriptionParams','Job\x20with\x20id\x20','output','syncContent','handleSystemEvents','connection-invalid-data-event','Events','handleObjectDelete','registerCluster','handleSubscriptionNeedMediaStream','JobWorkerInvalidType','oncloseTimeout','clearUpgradeTimeout','object-store-already-exists','appsync-no-destination','getMediaStream','close','8001825PHiBai','pendingHandshakeCandidates','currentBytes','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','text','mediator','registerSystemPublisher','missing-incoming-connection','Node','send','syncPendingFiles','cost','all','getSTVolatility','senderPreviousBytes','region','LocalMediaStreamTrackFail','estimatedPlayoutTimestamp','publishSystemMessage','transformations','ScreenSharing','getLayout','waitSendBuffer','tokens','ContentType','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','unregisterSystemPublisher','publishTransaction','listener','Request','internalId','waitConnected','packetsSent','fromEntries','createJobWorker','getRemoteMediaStream','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','addContent','\x20check\x20failed','instance','Sending\x20\x27','handshakeState','removeKeyValueDatabase','GenerativeAIWorkerCreationFailed','currentBatch','Restart','message','remote-stream-missing-provider-id','job-worker-creation-failed','NodeAlreadyExist','problemType','getSubscriptionInfo','remote-stream-does-not-exist','inbound-rtp','No\x20destinationIds\x20left','trackListeners','asc','AppSync\x20connection\x20not\x20ready','api','createPubSubTopic','commitBatch','sendWithRetry','Job','stats','newPath','loop','Accepted','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','\x20-\x20','authenticateAgent','unregisterDestination','nodeManager','ai-worker-','isValidMediaSubscriptionParams','FileWrite','topics','canvas','setRemoteNode','timestamp','getGenerativeAIContexts','shouldProcessTransaction','cancel','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','incomingManager','audioContext','checkScreenSharing','generative-ai','text/plain','\x27\x20in\x20layout','onDisconnect','evaluatePartialJob','direction','setupResizeHandler','some','getConnectionDestinations','handleContentSubscribeMediaStream','detectProblems','keyValueDatabases','26171576zOdMNH','ConnectionGroup','createLocalDynamicMediaStream','GenerativeAILabelConflict','cluster-disconnect','ownerId','Bitrate','hasTable','events','NodeNotAuthenticated','PeerConnection','instantiateTransactionTable','kind','filter','onConfigurationChange','detail','values','handleCloseJobWorker','getAncestors','cpu.av_delay','notifyJoin','onDisconnectHandler','Data\x20cluster\x20is\x20not\x20open.','isProduction','getJobWorkers','Failed\x20to\x20create\x20AI\x20worker','processRank','SubscriptionRequestDoesNotExist','retryCount','Problem','syncKeyValueDatabase','handleContentRemoteMediaStreamTrackFail','Job\x20Dispatcher\x20does\x20not\x20exist','active','pub-sub-topic-already-subscribed','mute','clearHeartbeat','Missing\x20remote\x20node\x20or\x20rank','genAIContexts','logSupport','Receiver\x20connection\x20is\x20not\x20initialized.','handleIceCandidates','prompts','setSinkId','createSenderConnection','JobWorkerCreationFailed','onProviderChange','messageBuffer','update','catch','count','ancestors','content-publish-media','dataTopics','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','updated','PayloadAction','lastHeartbeat','removeLocalMediaStream','setupListeners','JobDispatcherJobExists','CloseObjectStoreBucket','prompt','getShareableStream','handleUnsubscribeMediaStream','TestPage','getReport','getPartsForSubscriptionLabel','System','nodeId','crewdle-sdk-stg.firebaseapp.com','firestore','Success','addConnection','isInternalLoggingConnector','NodeType','ObjectStore','updatePropagationProperties','Signaling','Failed\x20to\x20commit\x20batch\x20after\x20retries:','getConnections','retryCallback','notifyCluster','orchestrator','KeyValueDatabaseTableNotFound','Chosen\x20answer','createAnswer','evaluateProccessedJob','checkMediaStream','maxThreshold','peer-connection','Subscription\x20request\x20does\x20not\x20exist.','senderTotalMessages','lastExecuted','STVolatility','statsReport','connection','rtt','ended','Low','removeSubscription','removeRemoteNode','disconnect','reportMetric','validateValue','setConnectionType','lastProcessRank','undefined','Sender','key-value-database-table-not-found','subscriptionManager','joinCluster','getTable','handleNodeJoinNeedPublishedStream','pathName','CPUCycle','mediaTopics','processJobStream','Problem\x20detected:\x20','Invalid\x20value.\x20Must\x20be\x20an\x20object.','key-value-database-invalid-value','getJobs','eventEmitter','crewdle-sdk.appspot.com','Media','AudioVolume','cluster','timeSending','slice','Agent\x20group\x20not\x20found','getObjectStoreBuckets','play','agentConfig','processDataChannelReport','topicLabel','handlePublishMediaStream','max','timeReceiving','code','mergeParts','call','gatheringState','subscribedTracks','boolean','getDatabase','Count','removeRemoteStreamSubscription','onValue','removeRemoteMediaStream','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','Bid','KeyValueDatabaseNotOpen','messagesSent','writes','Downgrade','initializeApp','label','handleFileRequest','tables','ConnectionState','destination','user-join','jobWorkerConnector','handleDetectionSystemEvents','previousFrames','handlePeerConnectionSystemEvents','registerSystemSource','\x20already\x20exists','isMediaSource','Resolution','disconnectCallback','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','getDTVolatility','syncTimeout','.info/serverTimeOffset','Agent','initializeSystemTopic','createBuffer','sourceVideo','stop','jitter','nodeKey','generateClient','clusterId','Delete','channel','getTracks','configs','Cluster\x20already\x20joined','toLocaleDateString','setTransformations','capacityReporter','distance','vendorId','getOrResetPendingFileTimeout','writeFile','getRemoteNodes','Channel\x20\x27','Stream\x20already\x20exists','handleHandshake','appsync-close','context','pubSubTopics','setSenderTimestamp','\x27\x20reserved','width','addDoc','defineProperty','contentType','connectionStateListener','tracks','openGenerativeAIWorker','setTimestamp','setParams','firebase-disconnect','isChannelEnabled','Subscription','Job\x20','offset','collection','FramePerSecond','ConnectionNotinitialized','off','receiverPreviousTimestamp','min','streamId','GenerativeAIContextJobFailed','messagesReceived','handleOffer','contentRect','deleteTransactionsForTable','Mistlet\x20capacity\x20report\x20not\x20set.','getRank','openJobWorker','amd','sourceId','createLocalMediaStream','crewdle-sdk.firebaseapp.com','bid','open','getLocalMediaStreams','operations','All','Node\x20already\x20exists.','frameWidth','updateUser','maxBpp','KeyValueDatabaseTableDoesNotExist','debounceProcessRank','maxFps','exports','optimizationLayers','KeyValueDatabaseTableNameReserved','checksum','unsubscribeHandler','InvalidPublisher','contentManager','checkDeviceConfig','FolderMove','timeoutValue','isPartialResultResponse','crewdleSDKDisableLogging','Job\x20service\x20job\x20not\x20found.','includes','Invalid\x20query','connectionConstructor','Cannot\x20list\x20directory:\x20','handleFileSync','Backgrounds','local-media-stream-already-exists','parentId','collectStats','KeyValueDatabaseDoesNotExist','connectionTimeout','object-store-not-in-sync','messages','clearWaitAnswer','ConnectionInvalidDataEvent','GenerativeAIContextDoesNotExist','ObjectStoreStats','warn','NodeJoin','checkBackgrounds','getId','handshakeCandidates','getLocalNode','removeTopic','destinationIds','clusterEventEmitter','load','getJobDispatchers','Database\x20does\x20not\x20exist','\x20deleted.','removeConnection','\x20sending\x20attempt\x20','getEmail','KeyValueDatabaseTransactionValueNotSet','AudioContext','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','handleFileRequestAnswer','feature-not-enabled','created','mediaUnsubscribers','node-not-authenticated','senderStreams','pub-sub-topic-already-exists','everyone','LocalMediaStreamAlreadyExists','isOffer','generativeAIWorkerConnector','reads','removeNode','getDoc','completed','closeSubscription','setupTrackEndedListeners','Hub','setInterval','sendAction','dt_volatility','isEqual','getAudioTracks','CloseJobWorker','JobStatus','Issue\x20detected:\x20','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','collectReceiversStats','9vRdbPc','httpsCallable','getFirestore','Generative\x20AI\x20context\x20creation\x20failed.','receiverConnection','PubSubTopicNameNotString','resolution','move','getTotalBytes','initialize','data-stream','subtle','objectRequests','subscription-request-failed','endpoint','owner','Move','WebRTC','Medium','Subscribing\x20to\x20an\x20event:\x20on','/nodes','clientWidth','jobBids','canChooseAnswer','openObjectStoreBucket','filteredDestinationIds','object-store-not-synced','LocalMediaStreamDoesNotExist','getShareableStreamId','removeIncomingSubscription','Upgrade','setPriority','SyncComplete','InvalidSubscriber','Missing\x20AI\x20worker\x20connectors','handleContentUnpublishMediaStream','Cannot\x20write\x20transaction.','clientHeight','GenerativeAIWorkerMissingConnectors','length','sender','file','listenerUnsubscribers','\x20failed.\x20Retrying...','RequestFile','time_per_frame','key-value-database-name-not-string','clearConnectionTimeout','setReceiverTimestamp','skipEncryption','Job\x20service\x20creation\x20failed.','NodeInvalidType','framesDecoded','log','jobType','KeyValueDatabaseCreationFailed','Cannot\x20get\x20size\x20of\x20path:\x20','eventTarget','createRemoteNode','incomingTopic','processInboundReports','applyRemediation','heartbeatUnsubscriber','Update','removeJobDispatcher','objectToArrayBuffer','findNextAncestor','videoWidth','captureStream','local-stream-does-not-exist','handleConnectionSuccess','bind','JobWorker:\x20Error\x20processing\x20job','local-media-stream-no-audio-context','resetConnection','GenerativeAIWorkerModelSyncError','Stream\x20does\x20not\x20exist','\x20attributed\x20to\x20','logRaw','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','stopConnection','result','setStatus','chooseAnswer','path','/stats','setSubscriptionRequestTimeout','size','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','FileStatus','table','onDataChannel','dispatchEvent','getContentType','NodeConnectionsUpdate','key','Invalid\x20table\x20name\x20\x27','PublishMediaStream','peerConnectionConnector','value','Method\x20not\x20implemented.','Node\x20does\x20not\x20exist.','sendTransactionsDump','\x20received\x20partial\x20result:','Node\x20is\x20not\x20an\x20agent','sdkCreateToken','streams','asObservable','closeTopic','targetId','InvalidDataChannel','reportCapacity','head','keyPath','Operations:','node-type-not-supported','upgrade','File','origin','publishSyncCompleted','threshold','RoundTripTime'];a0_0x3a6c=function(){return _0x50bf0c;};return a0_0x3a6c();}