function a0_0x424d(_0x4077d6,_0x4b51f2){const _0x357dc3=a0_0x357d();return a0_0x424d=function(_0x424d67,_0x20c9b4){_0x424d67=_0x424d67-0x10a;let _0x36255e=_0x357dc3[_0x424d67];return _0x36255e;},a0_0x424d(_0x4077d6,_0x4b51f2);}function a0_0x357d(){const _0x59fe96=['Prompt\x20is\x20required','processInboundReports','getMonth','Document\x20Agent','score','manageAncestor','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','PayloadAction','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','web-scraper-raw','handleContentUnsubscribeMediaStream','peerConnectionConnector','handleNodeJoin','getSubscriptionInfo','21a9d78dee97f487b','Connection','handleSubscriptionSystemEvents','instructions','Anthropic','Error\x20executing\x20agent','syncedFileExists','cpu.av_delay','handleContentSubscribeMediaStream','processBatch','getGenerativeAIContexts','checkMediaRecording','ObjectStoreInvalidSyncMessage','transactionService','cancel','destination','__esModule','GraphDatabaseStats','Stream\x20does\x20not\x20exist','NodeInvalidType','startHeartbeat','Cannot\x20publish\x20folder:\x20','Pool','.md','setBytes','onNodeUpdate','createAIJob','handleOffer','getNumberOutgoingSubscriptions','@root','\x0a\x20===\x20Synchronization\x20Time:\x20','unregisterRemoteNode','getInternalStreamId','getSimilarity','strategizing-agent','registerCluster','\x27\x20in\x20table\x20\x27','No\x20file\x20content\x20found','inference','processDataChannelReport','Failed\x20to\x20get\x20file','GenerativeAIContextInvalidPartialResult','dbKey','handleContentSystemEvents','openGenerativeAIWorker','undefined','publishNodeJoin','claude-3-5-haiku-latest','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','unregisterSource','push','Problem','replace','delta','JobDispatcherCreationFailed','setRemoteNode','blocks','destinationIds','evaluateBidsAndAttributeJob','jobType','connectorConstructor','crewdleSDKDisableLogging','loggingConnectors','getQuestion','registeredListeners','getReader','Search','required','graphDatabases','mergeParts','node-type-not-supported','connectionManager','setIsLoaded','isValidMediaSubscriptionParams','KeyValueDatabaseInvalidQuery','.pdf','setSinkId','Generative\x20AI\x20context\x20job\x20already\x20consumed.','\x20to\x20send\x20dispatcherJob\x20','document-agent','SHA-1','object-store-cannot-write-transaction','maxFramerate','Job\x20','handleSubscriptionUnsubscribeMediaStream','write','/resources/generative-ai-agent/items','createKeyValueDatabase','ObjectStore\x20not\x20found','processJob','GenerativeAIWorkerMissingConnector','utf8','getAuth','ObjectStorageBucket','listen','syncPendingFiles','Database\x20not\x20open','setStatus','cluster-leave','1.0.40.0','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Invalid\x20job\x20type','get-content','setRemoteConnections','Outgoing','waitSendBuffer','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','logRaw','updateUser','VectorDatabase','hasTable','rejectReady','getAudioTracks','gatheringState','propagate','claude-3-haiku-20240307','createRemoteMediaStream','setCurrentVersion','removeSubscriptionsForNode','createJobDispatcher','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','connected','urls','getTotalNodes','mute','VectorDatabaseAlreadyExists','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','initializeApp','processLocalReport','bufferedAmount','ModelText','connectionStateListener','commitBatch','thread-','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','\x20check\x20failed','Invalid\x20layout:\x20','debug','getAncestorIds','min','en-US','AI\x20Worker\x20already\x20exists','pow','summary-generator','Medium','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','Cannot\x20publish\x20file:\x20','jobs','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','getDate','FROM\x20file','RemoteMediaStreamInvalidSubscriptionParams','KeyValueDatabaseInvalidValue','agent-skill','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','IntermediateOutput','updateDebounce','key-value-database-table-not-found','connection-no-retry-queue','deleteFileChunks','GenerativeAILabelConflict','Buffering\x20event','previous','Cannot\x20unpublish\x20object\x20at\x20','isOffer','Partial','onGatheringStateChange','updateLastUpdated','Connection\x20already\x20exists','onCandidate','time_per_frame','firebaseUnsubscriber','Invalid\x20key\x20\x27','getQuery','processRank','.hs','key-value-database-creation-failed','.yaml','createFolder','0\x20B','totalDecodeTime','.txt','Data','Data\x20Sent','publishNodeLeave','CREWDLE_WEB_SDK','developers/','UnpublishMediaStream','VectorDatabaseStats','between','NodeManager\x20-\x20NodeUpdate','Error\x20resolving\x20readyPromises:','notifyObjectStoreOfNodeJoin','Job\x20worker\x20creation\x20failed.','evaluatePartialJob','localNode','startsWith','Remediation','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','take','KeyValueDatabaseTableDoesNotExist','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','setupStatsCollection','retryLimit','.json','appsync-statechange','handleDetectionSystemEvents','setupConnectionEvents','getTime','getLocalMediaStreams','crewdle-sdk.firebaseapp.com','page','validateAccess','No\x20connector\x20found\x20for\x20model','cachedRoot','head','createGenerativeAIContext','Cannot\x20list\x20directory:\x20','ReceiverPeerConnection.onMessage','title','GraphDatabaseNameNotString','addCandidate','createOutgoingSubscription','getSize','root\x20hash:\x20','text-embedding-3-large','text/','Attribution','data:\x20[DONE]\x0a\x0a','aws','getReport','getJobWorkers','account','openObjectStoreBucket','messageCallback','cluster-disconnect','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','getSenderBitrate','InvalidPublisher','No\x20global\x20object\x20found','owner','llama-3.1-8b','agent','fallbackModel','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','signOut','WorkflowTool','Feedback\x20Agent','8PFaFXu','workflow-tool','off','queryOrPrompt','limit','logWaitTime','contentRect','FolderCreate','writes','Base\x20Peer\x20Connection','processInboundReport','createBuffer','form-skill-set-answer','startLoggingCycle','source','numeric','type','sampleRate','LocalMediaStreamTrackFail','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','Error\x20querying\x20file','getNextTargetRank','sourceId','warn','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','Missing\x20remote\x20node\x20or\x20rank','registerDestination','toFixed','Tool','ragConnector','Sync\x20completed','\x20answer','signInWithCredential','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','assign','JobWorker:\x20Received\x20job','sdk-internal-error:\x20','send','handleCloseContent','collectSendersStats','FileDelete','InvalidAccess','.ex','chunks','increment','AudioContext','Invalid\x20params','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','subscription-request-in-progress','external-storage-connection-already-subscribed','getExternalStorageConnections','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','createJob','createGraphDatabase','flatMap','isNeedRestart','handleFileSync','\x0aAdditional\x20data:\x20','file.content','getEngineType','captureStream','JobWorker:\x20Handling\x20job\x20attribution','hasBufferedData','ancestors','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','getFirestore','openaiApiKey','setVendorId','messageBuffer','data:\x20','additionnalInstructions','sort','web-scraper','LocalMediaStreamDoesNotExist','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','OutputAudioStream','\x20Stream\x20final\x20response','getWorkflows','trend-spotter','ref','active','wait-true','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','/nodes','WorkflowDoesNotExist','sendStats','tableObserver','getPubSubTopics','Handshake','size','outgoingManager','sonar-reasoning-pro','close','track','Error\x20searching','sync','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Signaling','Low','connection-not-initialized','media-stream','PubSubTopic\x20publish','.hbs','object-store-name-not-string','asc','getLastUpdated','logServiceEvent','fetchContentFromUrl','Writable\x20stream\x20is\x20missing','generative-ai-context-does-not-exist','true','Store\x20already\x20exists','Router','vendorId','decodeJWT','GenerativeAIModelInputType','GraphDatabaseAlreadyExists','inputTokenPrice','connections','\x27:\x20missing\x20or\x20invalid\x20keyPath','max','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','orderBy','transactionQueue','SubscriptionRequestFailed','validateLayout','getRoot','\x20does\x20not\x20support\x20content\x20type\x20','.vbs','handleNodeSystemEvents','text/csv','graph-database-creation-failed','label','fps','user-join','FinalOutput','Problem\x20detected:\x20','keyValueDatabases','graphql','getBid','deleteFile','MediaStream','play','Wait','syncResolve','Coordinator\x20Agent','handleFileRequestAnswer','Search\x20in\x20data\x20collection\x20','JobWorker:\x20Sending\x20job\x20partial\x20result','destroy','replaceTrack','getDisplayName','byteLength','ranges','buffer','receiverConnection','applyRemediation','resume','/resources/generative-ai-workflow/items','ObjectStoreNotSynced','joinedClusters','ExternalStorageNameNotString','answerJoin','openedTraces','handleFolderCreate','WaitFalse','sender','gpt-4.1','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','Waiting','searchApiKey','ObjectStoreAlreadyExists','JobDispatcherJobNotFound','processPendingHandshakeCandidates','\x20attempts:','transaction','storage','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','Archival\x20Search\x20Agent','getMediaStream','clearRestartTimeout','NodeManager\x20-\x20ConnectionSuccess','maxLayer','file','.html','compileStats','openTrace','object','getInternalTrackParams','readyResolve','ExternalStorageConnectorsMissing','SyncKeyValueDatabase\x20-\x20Ancestors\x20','handleObjectMove','entity-extractor','key-value-database-table-name-reserved','ExternalStorageConnectionAlreadyExists','openGenerativeAIContextStandalone','Error\x20writing\x20file','input-audio-stream','sdkCreateToken','setTimestamp','detectStreamIssues','map','calculateSize','text/event-stream','orchestrator-close','connectionState','available','CrewdleReceiverConnection\x20ontrack','Restart','Vector','left','operator','Issue\x20detected:\x20','sendRequest','>\x0a\x0a','dataTopics','isRunning','RemoteRemove','overlap','openKeyValueDatabase','.crewdle-layout','GraphDatabaseDoesNotExist','processTransactionsToComputeMMR','Warning','removePubSubTopic','getGenerativeAIWorkers','Cannot\x20write\x20transaction.','once','Node\x20already\x20exists.','CloseJobDispatcher','internalProcessJob','getToolName','FormSkill','agentConfig','Node\x20type\x20is\x20required','handleStatsSystemEvents','Invalid\x20workflow\x20block\x20type.','drawImage','log','DocumentParser','DataChannel\x20is\x20not\x20open.','329418RLfYBS','agent-update','hashNodes','Before\x20Synchronization','Model\x20ID\x20is\x20required','outputTokens','vector-database-already-exists','remote-connection-exists','getConnectionDestinations','external-storage-connection-does-not-exist','GenerativeAIContextStats','videoWidth','append','getVideoTracks','usage','parseWorkflowBlocks','setOnTableWriteHandler','setScheduleTime','successNotified','functionsRegion','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','user-update','getDataCollections','AI\x20Search\x20connector\x20not\x20set','removeIncomingSubscription','unregisterSystemSource','JobWorkerDoesNotExist','getRank','Jitter','dt_volatility','question-','receiverBitrate','JobDispatcherJobExists','getFullYear','logLevel','organizationId','\x20does\x20not\x20exists','ExecuteAgent','\x27\x20from\x20','streamLabel','LocalMediaStreamAlreadyExists','Invalid\x20where\x20clause','graphDatabaseConnector','2-digit','filesSynced','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','createSubscription','minRelevance','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Everyone\x20','threadId','Audio','clearConnectionTimeout','subscriptionManager','comparePeaks','statsManager','key-value-database-does-not-exist','syncTransactionsWritten','String','packets','Rating','processOutboundReports','getRemoteId','Mistlet\x20capacity\x20report\x20not\x20set.','PartialResult','skipEncryption','functions','QueryFile','May\x202024','mediaStream','publishSyncCompleted','table','\x20received\x20responses:','bid','queryFile','reportCapacity','closeConnection','topics','getBufferedAmount','KeyValueDatabase\x20-\x20Sync\x20completed','shouldContinuePropagation','getLocalId','handleChunkMessage','WebRTC','Execute\x20the\x20agent\x20','tail','publishUserUpdate','Node\x20type\x20is\x20invalid','keyPath','getStatus','generative-ai','JobWorkerAlreadyExists','connection-buffer-not-empty','Module','JobWorker:\x20Received\x20job\x20attribution','.groovy','Error\x20executing\x20code','File','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','handleOutgoingSystemEvents','JobStream','onUnregisterPublisher','getWorkflowObjectStorageBuckets','JobDispatcherInvalidPayload','senderStreams','external-storage','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','resolutionScale','contextInputVariable','questions','clusterKey','logConnectionState','tableLayout','handleFileRequest','Job\x20service\x20observer\x20not\x20found.','answer-','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Receiver\x20connection\x20is\x20not\x20initialized.','reportMetric','events','remediation','frameTime','exports','resolution','relations','documentPath','firestore','Workflow\x20output\x20is\x20not\x20a\x20string','OpenAI','currentDistance','FormSkillSubmitForm','Upgrade','createObjectStoreBucket','some','appsync-connect-fail','handleOnMessage','sendChunked','remoteConnections','frames','requestSubscription','getEstimatedTimestamp','stopConnection','Missing\x20transaction\x20id','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','every','removeRemoteConnection','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','Processing','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','sendFile','remote-media-stream-already-exists','long','openGenerativeAIContext','getGenerativeAIContextsStandalone','UpdateMediaStream','noun','chooseAnswer','JobStatus','claude-3-opus-latest','job-dispatcher-observer-not-found','RequestFileSync','setDurationTime','objectRequests','handlePeerConnectionSystemEvents','discoveryService','onRemoveTrack','addConnection','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','August\x202023','file.type','processReceiverReport','tableUnsubscriber','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','receivers','remoteNodes','graphService','function','retryDelay','onDataChannel','dataBucketIds','.kt','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','offset','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','No\x20start\x20block\x20found','all','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','hosting','maxConnections','match','An\x20error\x20occurred','Upload','GenerativeAIContextDoesNotExist','contentType','run','false','getPartsForSubscriptionLabel','limitToFirst','sdkValidateAccess','handleUnsubscribeMediaStream','object-store-invalid-payload','timeoutCallback','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','isWhereBetween','addCluster','getRoundTripTime','orchestrator','syncContent','Stats','Early\x20return:\x20','batchSize','No\x20parameters\x20provided','messageListeners','executeQuery','listenerUnsubscriber','optimizationLayers','PubSubTopicAlreadySubscribed','nodesConnected','muted','joinedAt','Remote\x20MediaStream\x20already\x20exists','crewdle-sdk.appspot.com','isBidResponse','observer','sentence-splitter','createConnection','openVectorDatabase','recipients','Invalid\x20job\x20service\x20payload.','.info/connected','hasOwnProperty','\x0a\x20===\x20Total\x20Time:\x20','SyncComplete','features','job-worker-does-not-exist','processReports','CloseExternalStorageConnection','handleSubscriptionSubscribeMediaStream','external-storage-connectors-missing','RequestFileWrite','publish','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','parameters','Code','generative-ai-context-already-exists','vectorDatabaseConnector','updated','msalGetAccessToken','framesEncoded','bandwidth.rtt','Interviewer\x20Agent','Boolean','remoteId','Invalid\x20query','downgrade','word-splitter','removeRemoteStreamSubscription','Object\x20store\x20is\x20not\x20in\x20sync','Cannot\x20publish\x20move\x20operation:\x20','path','.erl','logPropagateSystemEvent','handleHandshake','ExternalStorageUpload','SubscriptionRequestDoesNotExist','get','iceConnectionState\x20failed','debounceRebuildMMR','POST','tools','value','removeLocalMediaStream','success','extendedRecipients','WebRTCBrowserPeerConnectionConnector','Internal\x20SDK\x20error:\x20','validateValue','jobQueue','getMilliseconds','output','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','Error\x20encountered\x20while\x20opening\x20database','getRemoteMediaStream','isNodeReady','handleDisconnect','firstValueFrom','FileStatus','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','vectors','getTableConnector','SenderPeerConnection.send','listenerUnsubscribers','All','abs','getTransactionByHash','onloadeddata','trackListeners','getLocalNode','isJobAttribution','sender-send-message','rootComputationPromise','DeviceConfig','Support:\x20','April\x202024','handleSubscriptionMediaStreamUnavailable','addReservedTables','setOnMessageHandler','removeKeyValueDatabase','runJobQueue','1:420235181083:web:4eff6062bd845cb0748cbe','setReportCapacity','AgentSkill','Invalid\x20publisher.','CrewdleConnection\x20handlePeerConnectionSystemEvents','nodeKey','.tcl','app','notifyJoin','WordSplitter','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','document-parser','.clj','DataStream\x20onMessage','unregisterDestination','connection','handleContentUpdateMediaStream','vector-database-does-not-exist','file-delete','DataStream\x20send','isWhereValues','relation-extractor','minConnections','query-file','key-value-database-name-not-string','AiSearch','ended','searchInDataCollection','.rb','object-storage','IncomingSubscription','move','localMediaStreams','getMaxConnections','send\x20error\x20on\x20','getChannelData','createReceiverConnection','assistant','featureSupport','copywriter-agent','Failed\x20to\x20get\x20filename',',\x20Transactions:\x20','mediator','Bid','renderElement','canRestartHandshake','handleRemediationSystemEvents','getJobObservable','setRank','PubSubTopicStats','getRemoteNodes','removeRemoteMediaStream','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','createBatchOperation','jitter','RoundTripTime','getHash','database','getTable','senderBitrate','MistletCapacityReportNotSet','messageType','setReceiverBytes','job-worker-creation-failed','hashPeakHashes','Connection\x20does\x20not\x20exist','removeJobDispatcher','auth','memoryUsage','Error\x20opening\x20trace','shouldEmit','file-download','\x20writes\x20from\x20','Invalid\x20value.\x20Must\x20be\x20an\x20object.','KeyValueDatabaseRequestTransactionsValue','cluster','splice','commitLevel','workflow-does-not-exist','disconnected','Get','statsReporting','Key-value\x20database\x20peak\x20not\x20found.','detail','Execute\x20skill\x20','appsync-close','High','bytesReceived','remoteMediaStreams','.cfg','readyDebounce','GenerativeAIWorker:\x20CollectionDelete\x20failed','entries','Pending','canAddCandidates','pendingSyncTransactions','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','onremovetrack','KeyValueDatabaseContentSynchronized','audioSource','unregisterCluster','getPacketsLostPerc','Support:\x20current\x20config','maxBpp','\x20ms\x0a','timesCalled','subscribeToJobs','Method\x20not\x20supported','LocalMediaStreamNoAudioContext','openJobWorker','object-storage-upload','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','AITrace','update','job-dispatcher-invalid-payload','connectionGroup','indexes','stats','Cluster','changesUnsubscriber','values','currentVersion','endsWith','.erb','systemMessagesReceived','uid','LocalReport','ExternalStorageStats','shouldProcessTransaction','InvalidDataChannel','audioContext','getMediaSubscription','queries','archival-search','set','message','pub-sub-topic-already-subscribed','WriteFile','1980vsSCnP','form-skill-get-question','requestSubscriptionAction','/embeddings','Internal\x20error:\x20','VectorDatabaseCreationFailed','createMediaStreamDestination','senderTotalMessages','handleMissingSenders','DTVolatility','createOffer','checkMediaStream','processReport','debounceStats','\x20must\x20be\x20a\x20number','VectorSearch','\x20with\x20','ExternalStorage','Result','tokens','lastHeartbeat','setLoggingConnectors','realtime-session-create','question','clientHeight','durationTime','rating','getAudioVideoDelay','rtt','handleAnswer','removeEventListener','index','registerSubscriber','retryQueue','insert','arrayBuffer','MediaStreamPriority','addTrack','Memory\x20Usage\x20at\x20','firebase-disconnect','handleUnpublishMediaStream','embedding','logInitialMMR','TimePerFrame','Transaction','Missing\x20owner\x20node\x20or\x20rank','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','split','relevance','Connected','receiverCurrentBytes','processPendingSyncTransactions','toLowerCase','Stream\x20already\x20exists','token','workflow','invalid-data-chanel','getSenderTotalBytes','GraphSearch','NodeType','search-agent','setSubscriptionRequestTimeout','streamId','GenerativeAIModelOutputType','Disconnect','candidate','getCurrentMaxLayer','answers','.js','handshakeState','then','gpt-4.1-mini',':\x20Object\x20store\x20is\x20not\x20in\x20sync','Emitting\x20event\x20on\x20local\x20cluster','updatePropagationProperties','GraphDatabase\x20not\x20found','incomingTopic','openExternalStorageConnection','includes','availableTrackKinds','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','systemTopic','OptimizationConnectionSuccess','appsync-no-destination','executeJavascriptCodeSnippet','Sending\x20\x27','validation','tracks','FormSkillGetQuestion','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','framesDecoded','substring','\x20not\x20found.','Table\x20not\x20found','outputTokenPrice','results','createGenerativeAIContextStandalone','retry','Jobs','.crewdle-last-transaction','trackKinds','feedback','contentMediator','Invalid\x20subscription.','/objectstores/','local-stream-does-not-exist','audio','Knowledge','PubSubTopicNameNotString','subscription-request-does-not-exist','unregisterSystemPublisher','handleContentRemoteMediaStreamTrackFail','error','PubSubTopicAlreadyExists','outputType','\x20new\x20transactions','fromEntries','write-file','listChanges','minThreshold','currentBytes','pendingFilesSyncing','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','AISearch','clientStream','Submit\x20the\x20form.','From\x20','/chat/completions','deleteTransactionsForTable','generativeAIContexts','knowledgeCutoffDate','name','STVolatility','complete','remediationManager','FPS','FileMove','VectorDatabaseMissingConnector','addAudioTrack','shift','publishSyncCompletedAfterWrites\x20-\x20','transactionsToSync','FetchUrl','getDisplayMedia','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','createTopic','ObjectStoreDoesNotExist','external-storage-name-not-string','remove','pubsub','KeyValueDatabase\x20not\x20found','getAncestors','\x20must\x20be\x20a\x20valid\x20JSON\x20string','clearSubscriptionRequestTimeout','Channel\x20\x27','NodeTypeNotSupported','lastTransactionId','addBatchOperation','sonar-pro','description','frameWidth','FolderDelete','internalContext','Recording','messagesReceived','handleNodeDisconnect','application/json','connectAgent','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','createLocalMediaStream','Local\x20node\x20rank\x20is\x20not\x20set','transactions','searchEngineId','objectStoreConnector','dataUnsubscribers','.py','publishTransaction','removeJobWorker','chosenAnswers','handleContentCloseMediaStream','previousBytes','getShareableStreamId','findNewMediaSubscription','cpu.time_per_frame','Resolution','url','\x20must\x20be\x20a\x20boolean','createGenerativeAIWorker','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','setupResizeHandler','PubSubTopicDoesNotExist','answerContentAvailable','random','Competitive\x20Analysis\x20Agent','handleContentUnpublishMediaStream','video','2614vimocQ','Job\x20Dispatcher\x20does\x20not\x20exist','searchOnPerplexity','request-file-write','getPartsFromSubscription','.java','addMessage','logBatch','feature-not-enabled','checkScreenSharing','retryQueues','remote-media-stream-invalid-subscription-params','maxTokens','.rs','getOutgoingOptimizationConnections','isSync','GenerativeAIWorker:\x20Opening','Parameter\x20','internalProcessJobStream','connection-not-connected','GenerativeAIWorker:\x20Opened','isArray','onConnectionStateChange','processReceivedTransactions','object-store-already-subscribed','getCapacityReport','ExternalStorageConnection\x20not\x20found','getShareableStream','ObjectStorageUpload','removeExternalStorageConnection','Node\x20does\x20not\x20exist.','ContentType','displayName','Embeddings','CanProvideMediaStream','request-accepted','Workflow','registerSource','eventEmitter','FormSetAnswer','publishLocalMediaStream','\x20deleted.','eventListener','setupStatsReporting','subscriptions','arrayBufferToObject','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','batchQueue','Could\x20not\x20open\x20trace','getAgents','tableName','Invalid\x20data\x20channel.','blockId','issues','not-resolved','Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question','batch','/developers/','pubsubTopics','.jinja2','nodeId','messageUnsubscriber','Today\x20Date:\x20','text/plain','GenerativeAIContextJobInvalidType','moveObject','operations','findNextNodeId','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','doc','fetch-url','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','Remote\x20stream\x20does\x20not\x20exist.','receiverPreviousBytes','maxFps','handleNodeLeave','PromptSource','handleNodeUpdate','Summary\x20Generator','GraphDatabaseCreationFailed','transactionTable','handleSuccess','key','generative-ai-worker-missing-connector','Offer','generative-ai-context-job-invalid-type','ConnectionNoRetryQueue','Code\x20is\x20required','notifyObjectStoreOfNodeLeave','createBatch','temperature','isOpened','PubSub','getKeyValueDatabases','\x20with\x20\x27','Error\x20closing\x20trace','action','setPriority','897638RLFrhS','rebuildMMR','audioDestination','configure','ModelVector','setEncodingParameters','hasRemoteNode','GenerativeAIContextJobTimeout','key-value-database-invalid-query','unpublish','Agent','.mustache','Job\x20Worker\x20does\x20not\x20exist','roundTripTime','round','local-media-stream-already-exists','ExecuteCode','\x20attributed\x20to\x20','checkAudioContext','Failed','createPendingFileWrite','validateKey','Answer','createIncomingSubscription','deleteCollection','upgrade','writeTransaction','openPubSubTopic','engineType','systemMessages','SubscribeMediaStream','cost','eventTarget','Disconnected','Model\x20not\x20found\x20','KeyValueDatabaseDoesNotExist','apiUrl','transactionsToAppend','Subscription','subscription','sendFileRequestPayload','call','FormSkillSetAnswer','.tsx','setItem','getClosestNodes','Opened\x20generative\x20AI\x20worker','User','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','ConnectionNotConnected','height','Cannot\x20unpublish\x20object:\x20','Joined\x20cluster','restartHandshake','debounceReadyTimeout','894yErHOn','ReadableStream\x20is\x20not\x20supported','GenerativeAITaskType','appendTransactionAndUpdateHashMap','connect','validateQuery','collectTransactionsFromNode','senderConnection','resolve','SenderPeerConnection\x20send','chunksReceived','kind','Database\x20already\x20exists','pub-sub-topic-does-not-exist','length','job-','peer-connection','handleError','anthropicApiKey','VectorDatabaseNameNotString','RAG\x20connector\x20is\x20not\x20available','Operations:','providerId','Query\x20must\x20refer\x20to\x20the\x20file\x20table','InvalidSubscription','clusters','competitive-agent','addPendingHandshakeCandidate','getCurrentVersion','firebaseConfig','endpoint','clockSkew','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','createWritableStream','processRemoteInboundReport','wait-false','state','nlpLibraryConnector','loadFromDisk','RemoteMediaStreamMissingProviderId','GenerativeAIWorker:\x20FileDelete\x20failed','clearRect','sendAction','JobWorker:\x20Error\x20processing\x20job','answererId','support','upgradeTimeout','getWorkflowExternalStorageConnections','mediaTopics','modelId','openAIKey','clearHeartbeat','handleJobAttribution','outgoing-stream-no-topic','Generative\x20AI\x20context\x20creation\x20failed.','codes','WaitTrue','batchTimeout','secheduleTime','ExecuteWorkflow','getInstance','outgoingStreams','initialPrompt','RemoteMediaStreamDoesNotExist','NeedRestart','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','Node\x20\x27','estimatedPlayoutTimestamp','queryParameters','supportsContentType','invalid-subscription','NeedMediaStream','handleRequestPayload','RemoteAdd','SearchPerplexity','getJob','filteredDestinationIds','endpointUrl','NodeUpdate','setConnectionType','start','gpu','catch','topK','timestamp','getCoresFromCapacityReport','FramePerSecond','_ready','syncTimeout','maxDistance','indexOf','timePerFrame','November\x202024','expectedTransactions','unsubscribe','number','KeyValueDatabaseNameNotString','client','October\x202023','serverTimestamp','jobObservers','getSTVolatility','setReceiverTimestamp','getBuffer','Cannot\x20find\x20External\x20Storage\x20connection:\x20','isChannelEnabled','transactionHashMap','completion_tokens','getVectorDatabase','.go','Received\x20ContentSynchronized\x20from\x20','handleIceCandidates','Key-value\x20database\x20table\x20does\x20not\x20exist.','filename','Failed\x20to\x20commit\x20batch\x20after\x20retries:','waitConnected','choices','WorkflowInvalidBlockType','\x20MB','Connection\x20not\x20initialized.','.cpp','tool','connectionPool','text-embedding-3-small','GenerativeAIContextJobMissingThreadId','object-store-invalid-state','processOutboundReport','list','async','origin','Missing\x20search\x20API\x20key','Job','.lua','executeWorkflow','count','content-publish-media','removeVectorDatabase','getPubSubTopic','No\x20connections\x20available\x20to\x20send\x20message','email','waitForArrayBufferSize','InputAudioStream','createLocalDynamicMediaStream','GenerativeAIRagType','docs','Default','\x20received\x20result:','.xml','node-not-authenticated','RemoteConnectionExists','isProduction','hasTracks','NodeAlreadyExist','result','notifyCluster','propn','crewdle','onClose','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','output-audio-stream','MediaStreamUnavailable','receiverTotalMessages','developers','upload','Invalid\x20job\x20worker\x20type.','warning','Delete','maxOutgoingSubscriptions','object-store-not-in-sync','isWhereValue','Online','collection','sendBid','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','/resources/generative-ai-collection/items','queryCollection','getConnectionGroup','getName','if-else-router','verb','arguments','MediaStream\x20feature\x20not\x20enabled','graph-database-missing-connector','Local\x20stream\x20does\x20not\x20exist.','queues','toString','debounceProcessRank','priority','inbound-rtp','sendPeakTransactions','learn-agent','senderCurrentBytes','models','getSubscriptionLabel','12221IFkBEG','onBufferedAmountLow','FileWrite','commit','DataCollectionDoesNotExist','Add','configs','CONNECTION_STATE_CHANGE','\x0a\x20===\x20Total\x20Nodes:','where','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','.php','handleSubscriptionRestartNeedMediaStream','System','application/octet-stream','Dedicated','createSenderConnection','region','timeSending','nodes','videoHeight','handleNoAnswer','internalId','getGraphDatabases','CloseGenerativeAIContext','Core','getExternalStorageConnection','CPUCycle','Database\x20does\x20not\x20exist','bufferedEvents','payloadType','setParams','lastClockUpdate','request-file-sync','getDataCollection','mediaDevices','Text\x20is\x20required','canvas','Received\x20event\x20on\x20cluster','detectionManager','FS\x20connector\x20is\x20not\x20available','ExecuteCustomSkill','isFeatureSupported','getPeakNode','find','Buffered\x20chunks\x20are\x20too\x20large','https://api.crewdle.ai','getOwnerId','cpu.cycle','unshift','/stats','enabled','getJobDispatchers','retryCallback','handleFileWrite','OutgoingMediaStreamNoTopic','Detection','GenerativeAIEngineType','createConstantSource','ExternalStorageInvalidPath','KeyValueDatabaseTableNotFound','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','Job\x20with\x20id\x20','Chosen\x20answer','av_delay','Method\x20not\x20implemented.','server','hasMessage','prompt_tokens','KeyValueDatabaseTransactionTableNotInitialized','agentId','commitType','DEBUG\x20-\x20','handleSubscribeMediaStream','GraphDatabaseMissingConnector','toStringTag','getPriority','Found\x20','\x20received\x20partial\x20result:','listFiles','logMMRRebuild','user','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','Data\x20collection\x20does\x20not\x20exist.','removeOutgoingSubscription','mmr','Cannot\x20get\x20size\x20of\x20path:\x20','saveToDisk','syncKeyValueDatabase','clusterEventEmitter','ai-search','stop','PeerConnection','Invalid\x20content\x20type','Stats:\x20report','isAvailable','keys','addVideoTrack','JobContext','searchConnector','remote-stream-does-not-exist','answer','ObjectStoreInvalidPath','checkBackgrounds','JobWorker:\x20Sending\x20job\x20reject','KeyValueDatabaseIndexNotFound','Additional\x20context:\x0a','buildInitialMMR','PublishMediaStream','FormSubmitForm','messagesSent','getOrResetPendingFileTimeout','\x20is\x20required','srcObject','add','Embed','sequence','delete','uuid','isJobRequest','ApiKeyMissing','handleConnectionSuccess','Skill','getContentType','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','GenerativeAIContextCreationFailed','Sender\x20connection\x20is\x20not\x20initialized.','OutgoingSubscription','Reranker','receiverStreams','PromptRating','bodyParameters','InitialPrompt','receiverCurrentTimestamp','setDisplayName','debugEnabled','.crewdle-transactions','\x20created\x20and\x20dispatched.','distance','outbound-rtp','getDataBucketIds','I\x20have\x20finished\x20executing\x20my\x20task.','Logging\x20not\x20enabled\x20for\x20channel\x20','next','transformations','cleanOldSubscription','rank','TextGeneration','removeListener','direction','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','getWorkflow','checkAudioVolume','addNode','model','GraphDatabase','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','canChooseAnswer','Received\x20track','maxThreshold','ConnectionNotinitialized','right','publishSyncCompletedAfterWrites','\x0a\x0adata:\x20','nodeManager','data-collection','GenerativeAIContextAlreadyExists','processContentAvailable','addRemoteConnection','isMediaDestination','CannotProvideMediaStream','removeTrackCallback','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','handshakeCandidates','Blank\x20Agent','reject','4LYSMhL','vector-database-name-not-string','parentId','SystemTopic\x20publish','maxBitrate','collection-query','2045124WcdxBY','jobWorkers','https://crewdle-sdk-default-rtdb.firebaseio.com','trackEndedListeners','timeReceiving','amd','setTransformations','text','UnsubscribeMediaStream','desc','handleTransactionPayload','processList','globalObject','grammar','Model\x20not\x20found','ObjectStoreStats','getFunctions','ClusterAlreadyJoined','processTransactionPayload','\x20-\x20Sending\x20propagation\x20(','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','getTotalBytes','jobDispatchers','connection-state','Generative\x20AI\x20context\x20job\x20timeout.','unregisterPublisher','KeyValueDatabaseSendTransactions','.ppt','tool-call','logStorage','getToolParams','sendReject','authenticateAgent','ExternalStorageConnectionAlreadySubscribed','checksum','now','Rejected\x20answer','getReceiverTotalBytes','bytesSent','closeSubscription','publishMove','st_volatility','Job\x20Dispatcher\x20already\x20exists','\x20Fallback\x20model','VectorDatabase\x20not\x20found','initializeSystemTopic','addEdge','isConnected','crewdle-sdk-logging-','sonar-reasoning','msalRefreshToken','Subject','getGraphDatabase','generative-ai-context-job-timeout','errorDetails','internal','RestartNeedMediaStream','getEnabledChannels','job-dispatcher-creation-failed','checkSyncComplete','KeyValueDatabaseInvalidLayout','reasoning','maps','evaluateBids','race','connectionTimeout','July\x202024','.sh','handleOptimizationConnectionSuccess','420235181083','iceServers','CloseGraphDatabase','removeTrackListeners','Consuming\x20buffered\x20event','NodeDoesNotExist','minResolutionScale','Incoming','authService','JobQueueService:\x20Error\x20running\x20job','.docx','.info/serverTimeOffset','onSnapshot','ExternalStorageConnectionDoesNotExist','timeoutValue','logEvent','gpt-4o-mini','form-skill','ceil','Number','Apply\x20remediation','Offline','createElement','counter','New\x20MMR\x20Root:\x20','ObjectStoreNotInSync','Conditional\x20Router','receiver-on-message','JobWorker:\x20Tracing\x20not\x20implemented','GenerativeAIRatingStatus','removeConnection','GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage','generative-ai-context-job-failed','prompts','JobWorkerInvalidType','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','bind','scheduleTime','setSenderTimestamp','packetsReceived','CloseVectorDatabase','ragConnectors','incomingManager','ragApiKey','logger','getKeyValueDatabase','key-value-database-transaction-table-not-initialized','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','image','getMinConnections','createVectorDatabase','fileConnector','evaluateProccessedJob','subscriptionRequestsQueue','trace','Downgrade','digest','gpt-4.1-nano','.bat','CloseObjectStoreBucket','KeyValueDatabaseAlreadyExists','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','getResolution','onMessage','createNewBatch','not-in','encode','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','authNode','contentRequestSent','Send\x20request','registerRemoteNode','stun:','retrieveBlocks','Syncing','AppSync\x20publish','interval','instance','.xls','Query\x20is\x20required','\x0a\x20===\x20Total\x20Data\x20Received:\x20','manageBufferedChunks','onHandshakeStateChange','logDataSent','waitSuccess','shared','mediaUnsubscribers','Receiver','queueLength','files','Error\x20reading\x20file\x20chunk\x20after\x20','performCalculation','Media','Missing\x20AI\x20search\x20API\x20key','Count','maxResolution','Workflow\x20does\x20not\x20exist.','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','handleProblem','syncTransactions','handshakeDebounce','.jl','RemoteMediaStreamTrackFail','notifyClusterNodeJoin','localId','/jobs','NodeTypeRequired','cpu.fps','processSenderReport','getRemoteConnections','bufferedChunks','getDatabase','deleteRemoteNode','apikeys/','calculateArrayBufferSize','hash','accessToken','cores','Invalid\x20value.\x20Property\x20\x27','dataChannel','getVectorDatabases','newPath','links','Hash\x20computation\x20failed,\x20retrying...','logUsage','notifyClusterNodeUpdate','SubscriptionRequestNoAnswer','totalNodes','unsubscribeHandler','.vb','PromptFunctionParamsType','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','threshold','JobDispatcherDoesNotExist','removeRemoteNode','completed','openGraphDatabase','More\x20content\x20available\x20on\x20page\x20','.ejs','isReady','detectAudioIssues','generative-ai-worker-already-exists','router','pubSubTopics','keyValueDatabaseConnector','loop','RequestAccepted','enabledChannels','nextNodeId','load','KeyValueDatabaseContentAvailable','10450nVclqS','failJob','AudioVideoDelay','format','Prompt','KeyValueDatabaseStats','mmrRoot','boolean','default','has','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','processJobStream','JobType','getTransactions','Publish\x20the\x20transaction','getItem','Update','authenticateUser','generative-ai-worker-model-sync-error','lastUpdated','Internal\x20unknown\x20error:\x20','NodeJoin','isPromiseResolved','clearOncloseTimeout','graph-database','ConnectionInvalidDataEvent','entities','invalid-subscriber','-leave','ObjectStore','setDoc','ObjectStorage','isReconnecting','VectorDatabaseDoesNotExist','currentTimestamp','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','completeSync','.Total\x20pages\x20available:\x20','CustomSkill','executeAgent','listenUnsubscriber','json','buildQuery','onTrack','\x20after\x20','IngestTrace','vector-database','updateJob','receiverUnsubscribers','data-collection-does-not-exist','wait','oncloseTimeout','incrementVersion','closeTrace','AudioVolume','rate','crewdle-sdk-stg','Node','waitAnswer','Index','GetContextResult','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','getConnectionType','Account','dataStores','floor','Initial\x20MMR\x20built\x20with','LoadSkillFunction','getPeaks','CrewdleSenderConnection\x20createOffer','ObjectStoreInvalidState','NodeConnectionsUpdate','Move','disconnect','getToolDescription','version','concat','RetrieveTrace','internalJob','.handlebars','collection-create','subscribe','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','addIssue','getRemoteNode','Events','parse','query-generator','sonar-deep-research','SentenceSplitter','sourceVideo','isInternalSDKConfigs','SenderSendMessage','isLoaded','fileSendingMap','Error\x20retrieving\x20context','parseDataCollectionBlocks','/resources/agent/items/','ner','\x0a\x20===\x20Current\x20MMR\x20Root','history','bandwidth.bitrate','unregisterSubscriber','\x20not\x20supported','getReceiverBitrate','.pptx','updateLastTransactionId','inputTokens','read','clearWaitAnswer','bufferEvent','Human','Error','if_else','getUserMedia','bitrate','context','getDataLogged','graph-database-already-exists','getConnections','KeyValueDatabaseCreationFailed','createCollection','stream','supports','o3-mini','loggingCycle','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','senderCurrentTimestamp','ObjectStoreInvalidPayload','ObjectStoreCannotWriteTransaction','senderPreviousBytes','system-stats','Error\x20fetching\x20URL','.pl','Error\x20writing\x20chunk\x20to\x20stream','Job\x20service\x20creation\x20failed.','suspended','RemoteMediaStreamAlreadyExists','knowledge','vector-database-missing-connector','RelationExtractor','getDoc','Folder','\x27\x20payload:','startTracing','RequestFile','removeObjectStore','Generative\x20AI\x20Context\x20does\x20not\x20exist','pub-sub-topic-already-exists','chunk','trackChanges','documentParserConnector','\x20seconds','groupId','Key-Value\x20Database\x20-\x20Sync\x20Completed','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','handleSubscriptionNeedMediaStream','Received\x20','generative-ai-context-invalid-partial-result','file-write','all-minilm-l12-v2','failed','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','isSubscribed','discover','FormGetQuestion','startIndex','systemTopicUnsubscribe','invalid-publisher','params','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','accumulated','CloseJobWorker','setTimeout','handleSystemEvents','pendingHandshakeCandidates','startNoThrottlingHack','statsCollection','Valid\x20layout','ConnectionState','prompt','onDisconnectHandler','time','ingestFile','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','LoadKnowledgeFunction','removeGraphDatabase','Entity','onValue','checkWebGL','setInternalId','AI\x20Service\x20already\x20exists','ObjectStoreNameNotString','Cluster\x20already\x20joined','file-ingest','endpointMethod','addDoc','Bitrate','senderPreviousTimestamp','GenerativeAIContext','contextOutputVariable','created','data','Retrieve','callback','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','system','Request','Key-value\x20database\x20transaction\x20value\x20not\x20set.','JobQueueService:\x20Job\x20completed','entity','Error\x20stringifying\x20object','job-worker-already-exists','objectToArrayBuffer','MissingSystemTopic','Invalid\x20object\x20store\x20state.','JobWorker:\x20Sending\x20job\x20result','Failed\x20to\x20send\x20job\x20','Processing\x20agent\x20block:\x20','1775349jWeQsE','debounceLogTimeout','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','FeatureNotEnabled','isMediaSource','/transactions/lastTransaction','\x20failed.','clearUpgradeTimeout','GenerativeAIInferenceToolType','startBidResponseHandling','Graph\x20database\x20creation\x20failed.','ChunkSplitter','JobDispatcherInvalidJobType','MissingRemoteConnection','writeBatch','job-dispatcher-job-exists','.yml','forEach','unsubscribeTrackEndedListener','retryCount','Sender','@context.','collection-delete','ObjectStoreAlreadySubscribed','mode','topicLabel','createExternalStorageConnection','setupRenderElement','claude-3-5-sonnet-latest','/workflows/','No\x20RAG\x20connector\x20available','providerListener','disconnectCallback','GenerativeAIContextJobFailed','missing-datachannel','jobBids','base64','EntityExtractor','queryFileConnector','generativeAIWorkerConnectors','createRemoteNode','GenerativeAIWorkerStats','setProviderId','node','agent-config-changed','toLocaleDateString','Error\x20processing\x20ingest','Agent\x20group\x20not\x20found','removeItem','commitTrace','traceLevel','isSyncing','filter','Support','onProviderChange','InvalidSubscriber','senders','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','\x20Process\x20inference\x20final\x20response','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','sendTransactionsValue','GetContextQuery','NodeManager\x20-\x20NodeLeave','Logger.getInstance','standalone','statusText','\x27\x20is\x20not\x20ready','logSyncMetrics','CloseMediaStream','sonar','width','job-dispatcher-does-not-exist','headers','searchOnGoogle','JobDispatcherAlreadyExists','Cannot\x20get\x20file:\x20','compareTransactions','Object\x20store\x20connector\x20is\x20not\x20available','Accepted','currentFrames','Node\x20is\x20not\x20an\x20agent','clearWaitSuccess','slice','submitForm','Query\x20Generator','reranker','embed','val','code','Text','tables','getObjectStoreBuckets','KeyValueDatabase','deleteObject','detectVideoIssues','problem','remoteUnsubscriber','WebScraper','.vue','Cannot\x20publish\x20payload:\x20','pop','getProviderId','NodeLeave','handleNodeJoinNeedPublishedStream','pathName','Error\x20closing\x20writable\x20stream','generativeAIWorkers','Error\x20during\x20MMR\x20rebuild\x20logging:','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','stopTracing','Info','crewdle-sdk-stg.appspot.com','getLabel','ingestBlocks','storageType','framerate','Vector\x20database\x20creation\x20failed.','registerPublisher','resizeHandler','.rkt','recomputeRoot','Queued','StreamReport','getTrack','signalingState','content-unpublish-media','inputType','Success','pendingFilesRename','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','/vector_stores/','Context','node-does-not-exist','ObjectKind','statsReport','file-list','collectStats','checkExistingPendingFileContent','InternalSDKError','data-stream','KeyValueDatabaseTransactionValueNotSet','setInterval','Backgrounds','previousFrames','reads','PubSub\x20already\x20exists','computeHash','contentSize','.ts','key-value-database','subscriptionRequestTimeouts','Invalid\x20index\x20in\x20table\x20\x27','Amplify','Relation','decode','status','resetConnection','packetsLost','getContent','CloseKeyValueDatabase','deleteJob','\x20already\x20exists','content','httpsCallable','fileChunks','getSentences','removeSubscription','getObjectStoreBucket','KeyValueDatabaseRequestPeakTransactions','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','connectionType','ClosePubSubTopic','accumulateResult','fetchUrl','/resources/external-storage/items/','RemoteRemediation','parseWorkflowDocument','getSupportedContentTypes','defineProperty','Completed','string','Executing\x20custom\x20skill:\x20','Internal\x20event\x20\x27','job-dispatcher-job-not-found','leave','Missing\x20OpenAI\x20API\x20key','Early\x20return','peer-connection-invalid-destination','exists','claude-3-7-sonnet-latest','generative-ai-context-creation-failed','getResolutionScale','receiverTimeProcessing','SHA-256','removeNode','Query\x20file\x20connector\x20not\x20set','.dart','Generative\x20AI\x20context\x20job\x20failed.','getApp','Invalid\x20credentials','52ypqIJe','northamerica-northeast1','Crewdle','ownerId','SearchGoogle','manageOptimization','JobWorkerCreationFailed','\x20to\x20generate\x20a\x20response.','messages','Rejected','241uvzBlN','Missing\x20external\x20storage\x20connector','authContext','appendTransaction','QueryBuilderInvalidArgument','checkAudioOutput','1:519415702791:web:5dd39042f881cfde3251a2','previousTimestamp','vector','.swift','Connection\x20does\x20not\x20exist.','Execute\x20the\x20workflow\x20','Llamacpp','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','subscriptionRequests','childRemovedUnsubscriber','reduce','setLocalRank','aiSearchConnector','externalStorageConnectors','KeyValueDatabaseSyncRequired','joinCluster','hashTransaction','Data\x20cluster\x20is\x20not\x20open.','listener','appsync-disconnect','handleUpdateMediaStream','DataStream','Missing\x20RAG\x20API\x20key','Subscribing\x20to\x20an\x20event:\x20on','addEventListener','StorageEventType','Missing\x20graph\x20database\x20connector','createBufferSource','discoveryUnsubscriber','WorkflowTrace','outgoingTopic','getBitrate','onConfigurationChange','input_tokens','setUpgradeTimeout','handleRemoteTrackFailure','Model','Key-value\x20database\x20creation\x20failed.','getConnection','\x20must\x20be\x20a\x20string','KeyValueDatabasePeakNotFound','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','combinePeaks','receiver','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','setForDeletion','Strategizing\x20Agent','subject','Invalid\x20data\x20event.','Optimization','Missing\x20answerer\x20id\x20on\x20request\x20answer','debounceReady','PeerConnectionInvalidDestination','Ingest','from','logSupport','workflowId','consumeBufferedEvents','jobPhase','writeFile','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','updateDebounceTimeout','contentManager','registerSystemSource','createMediaStreamSource','\x20-\x20','removeTrack','removeTopic','NodeNotAuthenticated','canProvideResolution','search','trackCallback','Trend\x20Spotter','remediations','setupListeners','_isReady','ready','bandwidth.jitter','Connection\x20not\x20connected.','crewdleSDKEnableLogging','registerSystemPublisher','clientWidth','User\x20not\x20signed\x20in','missing-incoming-connection','Remove','getConfigs','buildTableEvent','initialize','snippet','subscribedTracks','debounceAppendLog','local-media-stream-no-audio-context','createPubSubTopic','heartbeatUnsubscriber','deletePendingFile','Restart\x20NeedMediaStream','form-skill-submit-form','ccc','capacityReporter','currentBatch','padStart','Invalid\x20key:\x20','phi-4-14b','getMaxDistance','getEmail','vectorDatabases','getLocalMediaStream','layout','GenerativeAIWorkerAlreadyExists','setAnswer','Invalid\x20JSON:','getIsLoaded','Shared','addRemoteNode','disableIntervalHack','isComputingMMR','/resources/generative-ai-collection/items/','options','KeyValueDatabaseNotOpen','findIndex','AppSync\x20connection\x20not\x20ready','/capacities','clusterId','getEntities','Database\x20Opened','Local\x20MediaStream\x20already\x20exists','AudioOutput','isPartialResultResponse','/logs','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','.\x20Confirmation?\x20','closeTopic','end','attributes','peaks','aiSearchApiKey','pub-sub-topic-name-not-string','handleLocalTrackFailure','DataCollection','reset','onNodeDisconnect','connectionConstructor','connector','\x20finalized.','unsubscribeListener','detectLocalIssues','Pinecone','NodeManager\x20-\x20PublishNodeLeave','Hub','getAvailableTrackKinds','publishSystemMessage','lastProcessRank','Internal\x20SDK\x20Error:\x20','isIceCandidate','getDTVolatility','unregisterPublisherListener','subscription-request-no-answer','getDocs','component','Node\x20not\x20authenticated','frameHeight','responseTimeout','GenerativeAIWorkerCreationFailed','lastExecuted','publishFolder','query','\x0a\x20===\x20Wait\x20Time:\x20','Done','externalStorageConnections','getDistance','handleSubscriptionProvideMediaStream','Debug','/search','handleNeedRestart','readyPromises','instantiateTransactionTable','getIdToken','.xlsx','resolveReady','getRemoteMediaStreams','List','element','setEmail','confirmSynchronization','splitParts','startTime','webgl','sendIceCandidates','trim','lastCapacityReport','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','WebGL','setPendingFileSyncingPayload','targetId','node-invalid-type','Subscription\x20request\x20has\x20not\x20been\x20answered.','clear','emit','sendWithRetry','objectStores','loadEnabledChannels','getTracks','open','pendingFilesTransactions','join','clearSyncTimeout','restartTimeout','appsync-connect','SystemStats','addProblem','body','getId','isFailedResponse','pool','gpt-4o','Unsupported\x20job\x20type','JobWorker:\x20Sending\x20job\x20bid','orderByKey','streams','addBidResponse','clusters/','getSettings','external-storage-invalid-path','stringify','GenerativeAIContextJobAlreadyConsumed','enumerateDevices','signalingServer','api','setupTrackEndedListeners','topic','subtle','jobId','output_tokens','Content','senderTimeProcessing','WebScraperRaw','total','receiverPreviousTimestamp','handlePublishMediaStream','Attempt\x20','getSubscribedTracks','lastRemediations','nodeUpdate','forceLog','JobDispatcherObserverNotFound','setOnDisconnectHandler','us-east-1','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found'];a0_0x357d=function(){return _0x59fe96;};return a0_0x357d();}(function(_0x366da8,_0x2619cd){const _0x465f93=a0_0x424d,_0x356431=_0x366da8();while(!![]){try{const _0x2c04ed=parseInt(_0x465f93(0x8ba))/0x1*(parseInt(_0x465f93(0x41e))/0x2)+-parseInt(_0x465f93(0x198))/0x3*(-parseInt(_0x465f93(0x62a))/0x4)+-parseInt(_0x465f93(0x70d))/0x5*(-parseInt(_0x465f93(0x4b7))/0x6)+-parseInt(_0x465f93(0x480))/0x7+-parseInt(_0x465f93(0xabf))/0x8*(-parseInt(_0x465f93(0x7e8))/0x9)+-parseInt(_0x465f93(0x359))/0xa*(-parseInt(_0x465f93(0x579))/0xb)+parseInt(_0x465f93(0x630))/0xc*(-parseInt(_0x465f93(0x8b0))/0xd);if(_0x2c04ed===_0x2619cd)break;else _0x356431['push'](_0x356431['shift']());}catch(_0x109837){_0x356431['push'](_0x356431['shift']());}}}(a0_0x357d,0x53dcc),!function(_0x45498a,_0x3b0a0e){const _0x4c8b6f=a0_0x424d;if(_0x4c8b6f(0x161)==typeof exports&&_0x4c8b6f(0x161)==typeof module)module[_0x4c8b6f(0x212)]=_0x3b0a0e();else{if('function'==typeof define&&define[_0x4c8b6f(0x635)])define([],_0x3b0a0e);else{var _0x20fe0d=_0x3b0a0e();for(var _0x314e34 in _0x20fe0d)('object'==typeof exports?exports:_0x45498a)[_0x314e34]=_0x20fe0d[_0x314e34];}}}(this,()=>((()=>{'use strict';const _0x29fc43=a0_0x424d;var _0x55dc87={0x14d:(_0x5356ce,_0x1a57f,_0x2e0f49)=>{const _0x456956=a0_0x424d;_0x2e0f49['d'](_0x1a57f,{'O':()=>_0x35b12d});const _0x35b12d={'version':_0x456956(0xa2a),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x456956(0xa45),'projectId':_0x456956(0x745),'storageBucket':_0x456956(0x857),'appId':_0x456956(0x8c0),'functionsRegion':_0x456956(0x8b1)},'apiUrl':'https://api.stg.crewdle.ai','google':{'searchEngineId':_0x456956(0x9c7)},'aws':{'endpoint':_0x456956(0x8ec),'region':_0x456956(0x9b7)}};},0x33b:(_0x34ec87,_0x50e385,_0x2cc329)=>{_0x2cc329['d'](_0x50e385,{'O':()=>_0x32e9b9});const _0x32e9b9={};},0x3e6:(_0x313ced,_0x1e8197,_0x43478d)=>{const _0x5e66e3=a0_0x424d;_0x43478d['d'](_0x1e8197,{'O':()=>_0x25c830});const _0x25c830={'version':'1.0.40','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5e66e3(0x821),'authDomain':_0x5e66e3(0xa99),'databaseURL':_0x5e66e3(0x632),'projectId':'crewdle-sdk','storageBucket':_0x5e66e3(0x276),'messagingSenderId':_0x5e66e3(0x675),'appId':_0x5e66e3(0x2ce),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x5e66e3(0x5a7),'aws':{'endpoint':_0x5e66e3(0x942),'region':_0x5e66e3(0x9b7)}};},0x20:(_0x147e81,_0x42cb0e,_0x2c5380)=>{_0x2c5380['d'](_0x42cb0e,{'O':()=>_0x39900});const _0x39900={};}},_0x5a35ff={};function _0x5e4e32(_0x3ed95d){const _0x16d338=a0_0x424d;var _0x8c4cef=_0x5a35ff[_0x3ed95d];if(void 0x0!==_0x8c4cef)return _0x8c4cef[_0x16d338(0x212)];var _0x1090c9=_0x5a35ff[_0x3ed95d]={'exports':{}};return _0x55dc87[_0x3ed95d](_0x1090c9,_0x1090c9['exports'],_0x5e4e32),_0x1090c9[_0x16d338(0x212)];}_0x5e4e32['d']=(_0x560b0b,_0x59933d)=>{const _0x4786f2=a0_0x424d;for(var _0x45eb32 in _0x59933d)_0x5e4e32['o'](_0x59933d,_0x45eb32)&&!_0x5e4e32['o'](_0x560b0b,_0x45eb32)&&Object[_0x4786f2(0x89a)](_0x560b0b,_0x45eb32,{'enumerable':!0x0,'get':_0x59933d[_0x45eb32]});},_0x5e4e32['g']=(function(){const _0x306f1f=a0_0x424d;if('object'==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x3b3a47){if(_0x306f1f(0x161)==typeof window)return window;}}()),_0x5e4e32['o']=(_0x62e6a2,_0x2b4726)=>Object['prototype']['hasOwnProperty'][_0x29fc43(0x4a9)](_0x62e6a2,_0x2b4726),_0x5e4e32['r']=_0x560d87=>{const _0x59ca51=_0x29fc43;_0x59ca51(0x9f4)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x59ca51(0x89a)](_0x560d87,Symbol[_0x59ca51(0x5c4)],{'value':_0x59ca51(0x1f5)}),Object[_0x59ca51(0x89a)](_0x560d87,_0x59ca51(0x9d7),{'value':!0x0});};var _0x3d6c7a,_0x127a0b,_0x30994c,_0x3d62f4={};_0x5e4e32['r'](_0x3d62f4),_0x5e4e32['d'](_0x3d62f4,{'KeyValueDatabase':()=>_0x484610,'LayoutBuilder':()=>_0x1f7b69,'LoggingChannels':()=>_0x30994c,'QueryBuilder':()=>_0x476b4a,'SDK':()=>_0x4fa125,'SDKClientErrorCodes':()=>_0x3d6c7a,'TableBuilder':()=>_0x26d463,'logger':()=>_0xb63eee}),function(_0x443e91){const _0x467b01=_0x29fc43;_0x443e91[_0x467b01(0x5f2)]='api-key-missing',_0x443e91['ConnectionBufferNotEmpty']=_0x467b01(0x1f4),_0x443e91[_0x467b01(0x641)]='cluster-already-joined',_0x443e91['ExternalStorageConnectionAlreadyExists']='external-storage-connection-already-exists',_0x443e91['ExternalStorageConnectionAlreadySubscribed']=_0x467b01(0xaf0),_0x443e91[_0x467b01(0x682)]=_0x467b01(0x1a1),_0x443e91['ExternalStorageConnectorsMissing']=_0x467b01(0x287),_0x443e91['ExternalStorageInvalidPath']=_0x467b01(0x99f),_0x443e91[_0x467b01(0x147)]=_0x467b01(0x3ed),_0x443e91[_0x467b01(0x7eb)]=_0x467b01(0x426),_0x443e91[_0x467b01(0x620)]=_0x467b01(0x28d),_0x443e91['GenerativeAIContextDoesNotExist']=_0x467b01(0x113),_0x443e91[_0x467b01(0x533)]='generative-ai-context-job-missing-thread-id',_0x443e91[_0x467b01(0x45e)]=_0x467b01(0x473),_0x443e91[_0x467b01(0xa67)]='generative-ai-label-conflict',_0x443e91[_0x467b01(0x92d)]=_0x467b01(0x703),_0x443e91[_0x467b01(0xa21)]=_0x467b01(0x471),_0x443e91['GenerativeAIWorkerModelSyncError']=_0x467b01(0x71f),_0x443e91[_0x467b01(0x11a)]=_0x467b01(0x783),_0x443e91['GraphDatabaseDoesNotExist']='graph-database-does-not-exist',_0x443e91[_0x467b01(0x5c3)]=_0x467b01(0x56d),_0x443e91[_0x467b01(0xaa3)]='graph-database-name-not-string',_0x443e91[_0x467b01(0x832)]='job-dispatcher-already-exists',_0x443e91[_0x467b01(0x6fb)]=_0x467b01(0x82f),_0x443e91[_0x467b01(0x1b8)]=_0x467b01(0x7f7),_0x443e91['JobDispatcherJobNotFound']=_0x467b01(0x89f),_0x443e91[_0x467b01(0x7f4)]='job-dispatcher-invalid-job-type',_0x443e91[_0x467b01(0x1f3)]=_0x467b01(0x7e1),_0x443e91['JobWorkerDoesNotExist']=_0x467b01(0x283),_0x443e91[_0x467b01(0x151)]='object-store-already-exists',_0x443e91['ObjectStoreAlreadySubscribed']=_0x467b01(0x436),_0x443e91[_0x467b01(0x3ec)]='object-store-stream-does-not-exist',_0x443e91[_0x467b01(0x7cd)]=_0x467b01(0x10d),_0x443e91['ObjectStoreInvalidPayload']=_0x467b01(0x261),_0x443e91[_0x467b01(0x5e0)]='object-store-invalid-path',_0x443e91['ObjectStoreNotInSync']=_0x467b01(0x55f),_0x443e91['InternalSDKError']='internal-sdk-error',_0x443e91[_0x467b01(0xae8)]='invalid-access',_0x443e91['KeyValueDatabaseAlreadyExists']='key-value-database-already-exists',_0x443e91[_0x467b01(0x4a3)]=_0x467b01(0x1d0),_0x443e91[_0x467b01(0x5e3)]='key-value-database-index-not-found',_0x443e91['KeyValueDatabaseInvalidQuery']=_0x467b01(0x488),_0x443e91[_0x467b01(0xa5f)]='key-value-database-invalid-value',_0x443e91[_0x467b01(0x517)]=_0x467b01(0x2e7),_0x443e91['KeyValueDatabaseNotOpen']='key-value-database-not-open',_0x443e91['KeyValueDatabaseTableNameReserved']=_0x467b01(0x168),_0x443e91[_0x467b01(0x5b5)]=_0x467b01(0xa64),_0x443e91[_0x467b01(0x66c)]='key-value-database-invalid-layout',_0x443e91[_0x467b01(0x1c0)]=_0x467b01(0x48f),_0x443e91[_0x467b01(0x33b)]=_0x467b01(0x91c),_0x443e91[_0x467b01(0x3ca)]=_0x467b01(0x7a1),_0x443e91[_0x467b01(0x418)]=_0x467b01(0x4c4),_0x443e91['PubSubTopicNameNotString']=_0x467b01(0x949),_0x443e91['PubSubTopicAlreadySubscribed']=_0x467b01(0x357),_0x443e91[_0x467b01(0x8be)]='query-helper-invalid-argument',_0x443e91[_0x467b01(0x796)]=_0x467b01(0x22f),_0x443e91[_0x467b01(0xa5e)]=_0x467b01(0x429),_0x443e91['SubscriptionRequestInProgress']=_0x467b01(0xaef),_0x443e91[_0x467b01(0x905)]=_0x467b01(0x54b),_0x443e91['NodeInvalidType']=_0x467b01(0x983),_0x443e91[_0x467b01(0x3f5)]=_0x467b01(0xa0d),_0x443e91[_0x467b01(0x6e0)]='node-type-required',_0x443e91[_0x467b01(0xa44)]=_0x467b01(0x19e),_0x443e91[_0x467b01(0x72e)]=_0x467b01(0x2e0),_0x443e91[_0x467b01(0x3e3)]=_0x467b01(0x798),_0x443e91[_0x467b01(0x4ca)]=_0x467b01(0x62b);}(_0x3d6c7a||(_0x3d6c7a={}));class _0x27674c extends Error{[_0x29fc43(0x840)];constructor(_0x2f82ab,_0x5790d5){const _0x56b34f=_0x29fc43;super(_0x5790d5),this[_0x56b34f(0x840)]=_0x2f82ab;}}!function(_0x16074d){const _0x1795b4=_0x29fc43;_0x16074d[_0x1795b4(0x47a)]=_0x1795b4(0x3ef),_0x16074d['ObjectStorage']=_0x1795b4(0x2ec),_0x16074d[_0x1795b4(0x844)]='key-value-database',_0x16074d[_0x1795b4(0xa34)]=_0x1795b4(0x73b),_0x16074d[_0x1795b4(0x615)]=_0x1795b4(0x725),_0x16074d[_0x1795b4(0x36a)]=_0x1795b4(0x201),_0x16074d[_0x1795b4(0x133)]=_0x1795b4(0x10a),_0x16074d[_0x1795b4(0x7d4)]=_0x1795b4(0x1f2);}(_0x127a0b||(_0x127a0b={})),function(_0x5cc941){const _0x24cf1e=_0x29fc43;_0x5cc941[_0x24cf1e(0x2bd)]=_0x24cf1e(0x252),_0x5cc941[_0x24cf1e(0x548)]=_0x24cf1e(0x715),_0x5cc941[_0x24cf1e(0x9c8)]=_0x24cf1e(0x2de),_0x5cc941[_0x24cf1e(0x7c0)]=_0x24cf1e(0x647),_0x5cc941[_0x24cf1e(0x345)]=_0x24cf1e(0x31a),_0x5cc941[_0x24cf1e(0x9aa)]=_0x24cf1e(0x88a),_0x5cc941['DataStream']=_0x24cf1e(0x873),_0x5cc941['Detection']='detection',_0x5cc941[_0x24cf1e(0x762)]=_0x24cf1e(0x20f),_0x5cc941[_0x24cf1e(0x77d)]=_0x24cf1e(0x3c9),_0x5cc941[_0x24cf1e(0x3bb)]=_0x24cf1e(0xa5a),_0x5cc941[_0x24cf1e(0x844)]=_0x24cf1e(0x87d),_0x5cc941['Node']=_0x24cf1e(0x813),_0x5cc941[_0x24cf1e(0x9dd)]=_0x24cf1e(0x996),_0x5cc941[_0x24cf1e(0x47a)]=_0x24cf1e(0x3ef),_0x5cc941['ReceiverOnMessage']=_0x24cf1e(0x690),_0x5cc941[_0x24cf1e(0xa8c)]=_0x24cf1e(0x210),_0x5cc941['SenderSendMessage']=_0x24cf1e(0x2c4),_0x5cc941[_0x24cf1e(0xb20)]='signaling',_0x5cc941[_0x24cf1e(0x269)]=_0x24cf1e(0x344),_0x5cc941[_0x24cf1e(0x4a6)]=_0x24cf1e(0x4a7),_0x5cc941[_0x24cf1e(0x81d)]='support',_0x5cc941[_0x24cf1e(0x586)]='system',_0x5cc941[_0x24cf1e(0x991)]=_0x24cf1e(0x790),_0x5cc941['TestPage']='test-page',_0x5cc941[_0x24cf1e(0x5d6)]=_0x24cf1e(0x4c7);}(_0x30994c||(_0x30994c={}));const _0x47b47a=require('@crewdle/web-sdk-types');class _0x476b4a{[_0x29fc43(0x966)];constructor(_0x17af34){const _0x18bb3a=_0x29fc43;this[_0x18bb3a(0x966)]={'orderBy':{'key':_0x17af34,'direction':'asc'}};}static['index'](_0x4b9f13){const _0x134bc3=_0x29fc43;if(_0x134bc3(0x89c)!=typeof _0x4b9f13||0x0===_0x4b9f13[_0x134bc3(0x4c5)])throw new _0x27674c(_0x3d6c7a[_0x134bc3(0x8be)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x476b4a(_0x4b9f13);}static[_0x29fc43(0x4bc)](_0x347404){const _0x417aad=_0x29fc43;try{return _0x476b4a[_0x417aad(0x737)](_0x347404),!0x0;}catch(_0x340c44){return!0x1;}}static[_0x29fc43(0x737)](_0x42663a){const _0x4022ec=_0x29fc43,_0x4750b0=_0x476b4a[_0x4022ec(0x378)](_0x42663a[_0x4022ec(0x120)]?.[_0x4022ec(0x470)]??_0x42663a[_0x4022ec(0x582)]?.[_0x4022ec(0x470)]??'');if(_0x42663a[_0x4022ec(0x582)]){const _0x616cc2=_0x42663a['where'];if((_0x476b4a['isWhereValue'](_0x616cc2)||_0x476b4a[_0x4022ec(0x2e3)](_0x616cc2)||_0x476b4a[_0x4022ec(0x264)](_0x616cc2))&&_0x4750b0[_0x4022ec(0x582)](_0x616cc2[_0x4022ec(0x17a)],_0x616cc2[_0x4022ec(0x2a7)]),_0x42663a[_0x4022ec(0x120)]?.['key']&&_0x42663a[_0x4022ec(0x120)]?.[_0x4022ec(0x470)]!==_0x42663a['where'][_0x4022ec(0x470)])throw new _0x27674c(_0x3d6c7a[_0x4022ec(0x8be)],_0x4022ec(0xab3));}return _0x42663a['orderBy']&&_0x4750b0['orderBy'](_0x42663a[_0x4022ec(0x120)]['direction']),_0x42663a[_0x4022ec(0xac3)]&&_0x4750b0[_0x4022ec(0xac3)](_0x42663a[_0x4022ec(0xac3)]),_0x42663a[_0x4022ec(0x24f)]&&_0x4750b0[_0x4022ec(0x24f)](_0x42663a[_0x4022ec(0x24f)]),_0x4750b0;}[_0x29fc43(0xa74)](){const _0x43524e=_0x29fc43;return{...this[_0x43524e(0x966)]};}[_0x29fc43(0x582)](_0x1903a3,_0x9a1e8d){const _0x527cb4=_0x29fc43,_0x58a480={'key':this['query'][_0x527cb4(0x120)][_0x527cb4(0x470)],'operator':_0x1903a3,'value':_0x9a1e8d};if(!_0x476b4a[_0x527cb4(0x560)](_0x58a480)&&!_0x476b4a[_0x527cb4(0x2e3)](_0x58a480)&&!_0x476b4a['isWhereBetween'](_0x58a480))throw new _0x27674c(_0x3d6c7a[_0x527cb4(0x8be)],_0x527cb4(0x1c1));return this[_0x527cb4(0x966)][_0x527cb4(0x582)]=_0x58a480,this;}[_0x29fc43(0x120)](_0x4d7012){const _0x1394bc=_0x29fc43;if(_0x1394bc(0x10e)!==_0x4d7012&&_0x1394bc(0x639)!==_0x4d7012)throw new _0x27674c(_0x3d6c7a[_0x1394bc(0x8be)],_0x1394bc(0x7c5));return this['query'][_0x1394bc(0x120)][_0x1394bc(0x60f)]=_0x4d7012,this;}[_0x29fc43(0xac3)](_0x138f44){const _0x46ee33=_0x29fc43;if(_0x46ee33(0x516)!=typeof _0x138f44||_0x138f44<0x0)throw new _0x27674c(_0x3d6c7a['QueryBuilderInvalidArgument'],_0x46ee33(0xb09));return this[_0x46ee33(0x966)]['limit']=_0x138f44,this;}[_0x29fc43(0x24f)](_0x6f6198){const _0x318b5d=_0x29fc43;if(_0x318b5d(0x516)!=typeof _0x6f6198||_0x6f6198<0x0)throw new _0x27674c(_0x3d6c7a[_0x318b5d(0x8be)],_0x318b5d(0x465));return this[_0x318b5d(0x966)][_0x318b5d(0x24f)]=_0x6f6198,this;}static[_0x29fc43(0x560)](_0x498808){const _0x2dce9f=_0x29fc43;if(!(_0x498808&&_0x2dce9f(0x161)==typeof _0x498808&&_0x2dce9f(0x17a)in _0x498808&&_0x2dce9f(0x2a7)in _0x498808))return!0x1;const {operator:_0x1926be,value:_0x43ca18}=_0x498808;return!(!['==','!=','>','<','<=','>=']['includes'](_0x1926be)||Array[_0x2dce9f(0x433)](_0x43ca18));}static[_0x29fc43(0x2e3)](_0x4bdc58){const _0x42f51b=_0x29fc43;if(!(_0x4bdc58&&_0x42f51b(0x161)==typeof _0x4bdc58&&_0x42f51b(0x17a)in _0x4bdc58&&_0x42f51b(0x2a7)in _0x4bdc58))return!0x1;const {operator:_0x3af888,value:_0x1cb721}=_0x4bdc58;return!(!['in',_0x42f51b(0x6b7)][_0x42f51b(0x3a7)](_0x3af888)||!Array[_0x42f51b(0x433)](_0x1cb721));}static[_0x29fc43(0x264)](_0x530cb7){const _0x18d3d0=_0x29fc43;if(!(_0x530cb7&&_0x18d3d0(0x161)==typeof _0x530cb7&&_0x18d3d0(0x17a)in _0x530cb7&&_0x18d3d0(0x2a7)in _0x530cb7))return!0x1;const {operator:_0xfc67eb,value:_0x1a745f}=_0x530cb7;return!(_0x18d3d0(0xa84)!==_0xfc67eb||!Array['isArray'](_0x1a745f)||0x2!==_0x1a745f['length']);}}class _0x1f7b69{[_0x29fc43(0x92c)];constructor(_0x153e95){const _0x205e11=_0x29fc43;this[_0x205e11(0x92c)]={'tables':{},'version':_0x153e95};}static[_0x29fc43(0x123)](_0x2733b1){const _0x3f4823=_0x29fc43;for(const _0x24c0ee in _0x2733b1){if('version'!==_0x24c0ee&&_0x3f4823(0x842)!==_0x24c0ee)return[!0x1,_0x3f4823(0xa73)+_0x24c0ee+'\x27\x20in\x20layout'];if(_0x3f4823(0x842)===_0x24c0ee)for(const _0x273c06 in _0x2733b1['tables']){if(_0x3f4823(0x89c)!=typeof _0x273c06)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x273c06+'\x27'];for(const _0x1484e in _0x2733b1[_0x3f4823(0x842)][_0x273c06]){if(_0x3f4823(0x343)!==_0x1484e)return[!0x1,'Invalid\x20key\x20\x27'+_0x1484e+_0x3f4823(0x9eb)+_0x273c06+'\x27'];const _0x5a8e85=_0x2733b1['tables'][_0x273c06][_0x1484e]??[];for(const _0x20601e of _0x5a8e85)if(void 0x0===_0x20601e[_0x3f4823(0x1f0)]||'string'!=typeof _0x20601e[_0x3f4823(0x1f0)])return[!0x1,_0x3f4823(0x87f)+_0x273c06+_0x3f4823(0x11d)];}}else{if(_0x3f4823(0x758)===_0x24c0ee&&_0x3f4823(0x516)!=typeof _0x2733b1[_0x24c0ee])return[!0x1,'Invalid\x20version\x20\x27'+_0x2733b1[_0x24c0ee]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x3f4823(0x7bf)];}static['layout'](_0x21b107){const _0x1a29fa=_0x29fc43,_0x4f1f41=new _0x1f7b69(_0x21b107);return _0x4f1f41[_0x1a29fa(0x92c)][_0x1a29fa(0x758)]=_0x21b107,_0x4f1f41;}[_0x29fc43(0x1df)](_0x193638){const _0x5da5e1=_0x29fc43;return this[_0x5da5e1(0x92c)][_0x5da5e1(0x842)][_0x193638]={},new _0x26d463(this[_0x5da5e1(0x92c)][_0x5da5e1(0x842)][_0x193638]);}['getLayout'](){return this['layout'];}}class _0x26d463{[_0x29fc43(0x208)];constructor(_0x2da94b){this['tableLayout']=_0x2da94b;}[_0x29fc43(0x378)](_0x581cc9){const _0x46f51d=_0x29fc43;return this[_0x46f51d(0x208)]['indexes']=this[_0x46f51d(0x208)][_0x46f51d(0x343)]??[],this[_0x46f51d(0x208)][_0x46f51d(0x343)][_0x46f51d(0x9f9)]({'keyPath':_0x581cc9}),this;}}const _0x22e278=0x40000,_0x27bcc0=0x20000,_0x5e5c9a=0x1388,_0x2cb964=_0x29fc43(0x3bc),_0x2dc946='.crewdle-pending',_0x1ed065=_0x29fc43(0x602),_0x532020=_0x29fc43(0x183),_0x2f0c82=0xdbba0,_0x6ac2d6=0x61a8,_0x491349=_0x29fc43(0x667);var _0x3a2874;!function(_0x7fccf6){const _0x54e408=_0x29fc43;_0x7fccf6[_0x54e408(0x61a)]=_0x54e408(0xb22),_0x7fccf6[_0x54e408(0x4b1)]=_0x54e408(0x431),_0x7fccf6[_0x54e408(0x474)]=_0x54e408(0xa65),_0x7fccf6['ConnectionInvalidDataEvent']='connection-invalid-data-event',_0x7fccf6[_0x54e408(0x57d)]=_0x54e408(0x73e),_0x7fccf6['GenerativeAIContextCreationFailed']=_0x54e408(0x8a6),_0x7fccf6[_0x54e408(0x9f0)]=_0x54e408(0x7ab),_0x7fccf6[_0x54e408(0x9a1)]='generative-ai-context-job-already-consumed',_0x7fccf6['GenerativeAIContextJobFailed']=_0x54e408(0x695),_0x7fccf6[_0x54e408(0x487)]=_0x54e408(0x665),_0x7fccf6['GenerativeAIWorkerCreationFailed']='generative-ai-worker-creation-failed',_0x7fccf6['GraphDatabaseCreationFailed']=_0x54e408(0x129),_0x7fccf6['InvalidDataChannel']=_0x54e408(0x391),_0x7fccf6[_0x54e408(0xab5)]=_0x54e408(0x7b5),_0x7fccf6[_0x54e408(0x81f)]=_0x54e408(0x728),_0x7fccf6[_0x54e408(0x4cf)]=_0x54e408(0x4fd),_0x7fccf6[_0x54e408(0x9fd)]=_0x54e408(0x66a),_0x7fccf6[_0x54e408(0x1ff)]=_0x54e408(0x341),_0x7fccf6['JobDispatcherJobNotFound']=_0x54e408(0x89f),_0x7fccf6['JobDispatcherObserverNotFound']=_0x54e408(0x238),_0x7fccf6['JobWorkerCreationFailed']=_0x54e408(0x30e),_0x7fccf6[_0x54e408(0x697)]='job-worker-invalid-type',_0x7fccf6[_0x54e408(0x785)]=_0x54e408(0xa77),_0x7fccf6[_0x54e408(0x8e8)]='key-value-database-peak-not-found',_0x7fccf6[_0x54e408(0xa8f)]='key-value-database-table-does-not-exist',_0x7fccf6[_0x54e408(0x5be)]=_0x54e408(0x6a3),_0x7fccf6[_0x54e408(0x874)]='key-value-database-transaction-value-not-set',_0x7fccf6[_0x54e408(0xb08)]=_0x54e408(0x3c2),_0x7fccf6[_0x54e408(0x7f5)]=_0x54e408(0x914),_0x7fccf6['MissingSystemTopic']='missing-system-topic',_0x7fccf6[_0x54e408(0x30b)]='mistlet-capacity-report-not-set',_0x7fccf6[_0x54e408(0x78e)]=_0x54e408(0xa18),_0x7fccf6[_0x54e408(0x753)]=_0x54e408(0x534),_0x7fccf6[_0x54e408(0x9d3)]='object-store-invalid-sync-message',_0x7fccf6['ObjectStoreNotSynced']='object-store-not-synced',_0x7fccf6['OutgoingMediaStreamNoTopic']=_0x54e408(0x4ec),_0x7fccf6[_0x54e408(0x4f6)]=_0x54e408(0x5de),_0x7fccf6[_0x54e408(0x4de)]='remote-stream-missing-provider-id',_0x7fccf6[_0x54e408(0x54c)]=_0x54e408(0x19f),_0x7fccf6[_0x54e408(0x2a1)]=_0x54e408(0x3c6),_0x7fccf6[_0x54e408(0x122)]='subscription-request-failed',_0x7fccf6[_0x54e408(0x6f4)]=_0x54e408(0x95d),_0x7fccf6[_0x54e408(0x67a)]=_0x54e408(0x86c),_0x7fccf6[_0x54e408(0x54f)]='node-already-exist',_0x7fccf6['PeerConnectionInvalidDestination']=_0x54e408(0x8a3),_0x7fccf6['VectorDatabaseCreationFailed']='vector-database-creation-failed',_0x7fccf6[_0x54e408(0xb13)]=_0x54e408(0x31d),_0x7fccf6[_0x54e408(0x52c)]='workflow-invalid-block-type';}(_0x3a2874||(_0x3a2874={}));const _0x120c11=new Map([[_0x3a2874[_0x29fc43(0x61a)],_0x29fc43(0x52e)],[_0x3a2874[_0x29fc43(0x4b1)],_0x29fc43(0x90f)],[_0x3a2874[_0x29fc43(0x474)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x3a2874[_0x29fc43(0x726)],_0x29fc43(0x8f1)],[_0x3a2874[_0x29fc43(0x57d)],_0x29fc43(0x5cd)],[_0x3a2874[_0x29fc43(0x5f7)],_0x29fc43(0x4ed)],[_0x3a2874[_0x29fc43(0x9f0)],_0x29fc43(0x823)],[_0x3a2874['GenerativeAIContextJobAlreadyConsumed'],_0x29fc43(0xa14)],[_0x3a2874[_0x29fc43(0x809)],_0x29fc43(0x8ad)],[_0x3a2874[_0x29fc43(0x487)],_0x29fc43(0x648)],[_0x3a2874[_0x29fc43(0x963)],'AI\x20worker\x20creation\x20failed.'],[_0x3a2874[_0x29fc43(0x46d)],_0x29fc43(0x7f2)],[_0x3a2874[_0x29fc43(0x350)],_0x29fc43(0x451)],[_0x3a2874[_0x29fc43(0xab5)],_0x29fc43(0x2d1)],[_0x3a2874['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x3a2874['InvalidSubscription'],_0x29fc43(0x3c0)],[_0x3a2874[_0x29fc43(0x9fd)],_0x29fc43(0x794)],[_0x3a2874[_0x29fc43(0x1ff)],_0x29fc43(0x27d)],[_0x3a2874['JobDispatcherJobNotFound'],'Job\x20service\x20job\x20not\x20found.'],[_0x3a2874[_0x29fc43(0x9b5)],_0x29fc43(0x20a)],[_0x3a2874[_0x29fc43(0x8b6)],_0x29fc43(0xa88)],[_0x3a2874[_0x29fc43(0x697)],_0x29fc43(0x55b)],[_0x3a2874[_0x29fc43(0x785)],_0x29fc43(0x8e5)],[_0x3a2874['KeyValueDatabasePeakNotFound'],_0x29fc43(0x321)],[_0x3a2874[_0x29fc43(0xa8f)],_0x29fc43(0x527)],[_0x3a2874['KeyValueDatabaseTransactionTableNotInitialized'],_0x29fc43(0xa2b)],[_0x3a2874[_0x29fc43(0x874)],_0x29fc43(0x7dd)],[_0x3a2874['LocalMediaStreamDoesNotExist'],_0x29fc43(0x56e)],[_0x3a2874['MissingRemoteConnection'],_0x29fc43(0x8c4)],[_0x3a2874['MissingSystemTopic'],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x3a2874['MistletCapacityReportNotSet'],_0x29fc43(0x1d7)],[_0x3a2874['ObjectStoreCannotWriteTransaction'],_0x29fc43(0x189)],[_0x3a2874['ObjectStoreInvalidSyncMessage'],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x3a2874['ObjectStoreInvalidState'],_0x29fc43(0x7e4)],[_0x3a2874[_0x29fc43(0x145)],'Object\x20store\x20not\x20synced.'],[_0x3a2874[_0x29fc43(0x5b0)],_0x29fc43(0x698)],[_0x3a2874[_0x29fc43(0x4f6)],_0x29fc43(0x466)],[_0x3a2874[_0x29fc43(0x4de)],_0x29fc43(0xa90)],[_0x3a2874[_0x29fc43(0x54c)],'Remote\x20connection\x20already\x20exists.'],[_0x3a2874[_0x29fc43(0x2a1)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x3a2874[_0x29fc43(0x122)],'Subscription\x20request\x20failed.'],[_0x3a2874['SubscriptionRequestNoAnswer'],_0x29fc43(0x984)],[_0x3a2874['NodeDoesNotExist'],_0x29fc43(0x43c)],[_0x3a2874[_0x29fc43(0x54f)],_0x29fc43(0x18b)],[_0x3a2874[_0x29fc43(0x8f5)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x3a2874['VectorDatabaseCreationFailed'],_0x29fc43(0x85c)],[_0x3a2874[_0x29fc43(0xb13)],_0x29fc43(0x6d6)],[_0x3a2874[_0x29fc43(0x52c)],_0x29fc43(0x193)]]);class _0x3335bf extends Error{['code'];static [_0x29fc43(0x4ee)]=_0x3a2874;[_0x29fc43(0x7d7)];constructor(_0x4a79f0,_0x1167f1){const _0x1bbc20=_0x29fc43;super(_0x1bbc20(0x959)+_0x4a79f0+':\x20'+_0x120c11[_0x1bbc20(0x2a2)](_0x4a79f0)+_0x1bbc20(0xaf8)+JSON[_0x1bbc20(0x9a0)](_0x1167f1)),this[_0x1bbc20(0x840)]=_0x4a79f0,this['data']=_0x1167f1||{};}}var _0x49b388,_0x25cff3,_0x531057,_0x22c0e8,_0x20d5ea,_0x3eab7d,_0x158cb7;!function(_0x3a0493){const _0x51bfa6=_0x29fc43;_0x3a0493[_0x3a0493[_0x51bfa6(0x677)]=0x0]=_0x51bfa6(0x677),_0x3a0493[_0x3a0493[_0x51bfa6(0x18c)]=0x1]='CloseJobDispatcher',_0x3a0493[_0x3a0493['CloseJobWorker']=0x2]=_0x51bfa6(0x7b9),_0x3a0493[_0x3a0493['CloseExternalStorageConnection']=0x3]=_0x51bfa6(0x285),_0x3a0493[_0x3a0493[_0x51bfa6(0x887)]=0x4]=_0x51bfa6(0x887),_0x3a0493[_0x3a0493['CloseMediaStream']=0x5]=_0x51bfa6(0x82c),_0x3a0493[_0x3a0493[_0x51bfa6(0x6b0)]=0x6]=_0x51bfa6(0x6b0),_0x3a0493[_0x3a0493['ClosePubSubTopic']=0x7]=_0x51bfa6(0x893),_0x3a0493[_0x3a0493[_0x51bfa6(0x69d)]=0x8]='CloseVectorDatabase',_0x3a0493[_0x3a0493[_0x51bfa6(0x591)]=0x9]=_0x51bfa6(0x591),_0x3a0493[_0x3a0493[_0x51bfa6(0x34e)]=0xa]=_0x51bfa6(0x34e),_0x3a0493[_0x3a0493[_0x51bfa6(0x1a2)]=0xb]='GenerativeAIContextStats',_0x3a0493[_0x3a0493[_0x51bfa6(0x811)]=0xc]=_0x51bfa6(0x811),_0x3a0493[_0x3a0493['GraphDatabaseStats']=0xd]=_0x51bfa6(0x9d8),_0x3a0493[_0x3a0493[_0x51bfa6(0x70c)]=0xe]=_0x51bfa6(0x70c),_0x3a0493[_0x3a0493[_0x51bfa6(0x331)]=0xf]=_0x51bfa6(0x331),_0x3a0493[_0x3a0493[_0x51bfa6(0x890)]=0x10]=_0x51bfa6(0x890),_0x3a0493[_0x3a0493['KeyValueDatabaseRequestTransactionsValue']=0x11]=_0x51bfa6(0x319),_0x3a0493[_0x3a0493[_0x51bfa6(0x64a)]=0x12]=_0x51bfa6(0x64a),_0x3a0493[_0x3a0493[_0x51bfa6(0x712)]=0x13]=_0x51bfa6(0x712),_0x3a0493[_0x3a0493['KeyValueDatabaseSyncRequired']=0x14]=_0x51bfa6(0x8ce),_0x3a0493[_0x3a0493['LocalMediaStreamTrackFail']=0x15]='LocalMediaStreamTrackFail',_0x3a0493[_0x3a0493[_0x51bfa6(0x63f)]=0x16]='ObjectStoreStats',_0x3a0493[_0x3a0493[_0x51bfa6(0x300)]=0x17]='PubSubTopicStats',_0x3a0493[_0x3a0493[_0x51bfa6(0x5e6)]=0x18]=_0x51bfa6(0x5e6),_0x3a0493[_0x3a0493[_0x51bfa6(0x6dc)]=0x19]=_0x51bfa6(0x6dc),_0x3a0493[_0x3a0493[_0x51bfa6(0x49e)]=0x1a]=_0x51bfa6(0x49e),_0x3a0493[_0x3a0493['UnpublishMediaStream']=0x1b]='UnpublishMediaStream',_0x3a0493[_0x3a0493['UnsubscribeMediaStream']=0x1c]=_0x51bfa6(0x638),_0x3a0493[_0x3a0493[_0x51bfa6(0x233)]=0x1d]=_0x51bfa6(0x233),_0x3a0493[_0x3a0493[_0x51bfa6(0xa83)]=0x1e]=_0x51bfa6(0xa83);}(_0x49b388||(_0x49b388={})),function(_0x16f26d){const _0xd10539=_0x29fc43;_0x16f26d[_0xd10539(0x57b)]=_0xd10539(0x7ac),_0x16f26d[_0xd10539(0xac6)]='folder-create',_0x16f26d['Delete']=_0xd10539(0x5ef),_0x16f26d[_0xd10539(0x755)]=_0xd10539(0x2ee),_0x16f26d['RequestFile']='request-file',_0x16f26d[_0xd10539(0x708)]=_0xd10539(0x441),_0x16f26d['RequestFileSync']=_0xd10539(0x59a),_0x16f26d[_0xd10539(0x288)]=_0xd10539(0x421);}(_0x25cff3||(_0x25cff3={})),function(_0x4739b1){const _0x45935c=_0x29fc43;_0x4739b1['Request']='request',_0x4739b1[_0x45935c(0x385)]=_0x45935c(0x155);}(_0x531057||(_0x531057={})),function(_0x227a36){const _0x4c2df4=_0x29fc43;_0x227a36[_0x4c2df4(0x57e)]=_0x4c2df4(0x5ec),_0x227a36[_0x4c2df4(0x71d)]=_0x4c2df4(0x340),_0x227a36['Delete']='delete';}(_0x22c0e8||(_0x22c0e8={})),function(_0x7f753b){const _0x1a021f=_0x29fc43;_0x7f753b[_0x1a021f(0x31f)]=_0x1a021f(0x2a2),_0x7f753b[_0x1a021f(0x975)]=_0x1a021f(0x536),_0x7f753b[_0x1a021f(0x6d4)]='count';}(_0x20d5ea||(_0x20d5ea={})),function(_0x2cc5e2){const _0x1e7efb=_0x29fc43;_0x2cc5e2[_0x2cc5e2[_0x1e7efb(0x7dc)]=0x0]='Request',_0x2cc5e2[_0x2cc5e2[_0x1e7efb(0x2fa)]=0x1]=_0x1e7efb(0x2fa),_0x2cc5e2[_0x2cc5e2[_0x1e7efb(0xaaa)]=0x2]='Attribution',_0x2cc5e2[_0x2cc5e2[_0x1e7efb(0x1d8)]=0x3]=_0x1e7efb(0x1d8),_0x2cc5e2[_0x2cc5e2[_0x1e7efb(0x36b)]=0x4]=_0x1e7efb(0x36b),_0x2cc5e2[_0x2cc5e2[_0x1e7efb(0x493)]=0x5]=_0x1e7efb(0x493);}(_0x3eab7d||(_0x3eab7d={})),function(_0x477add){const _0xd537b8=_0x29fc43;_0x477add[_0x477add['PeerConnection']=0x0]=_0xd537b8(0x5d6),_0x477add[_0x477add[_0xd537b8(0x746)]=0x1]=_0xd537b8(0x746),_0x477add[_0x477add['Content']=0x2]=_0xd537b8(0x9aa),_0x477add[_0x477add[_0xd537b8(0x4a6)]=0x3]=_0xd537b8(0x4a6),_0x477add[_0x477add[_0xd537b8(0x269)]=0x4]=_0xd537b8(0x269),_0x477add[_0x477add['Detection']=0x5]=_0xd537b8(0x5b1),_0x477add[_0x477add[_0xd537b8(0xa8c)]=0x6]=_0xd537b8(0xa8c);}(_0x158cb7||(_0x158cb7={}));class _0x1e2761{['owner'];[_0x29fc43(0x12a)];['systemTopic'];constructor(_0x17a090,_0xca729b){const _0x249e7f=_0x29fc43;this['owner']=_0x17a090,this[_0x249e7f(0x12a)]=_0xca729b;}[_0x29fc43(0x858)](){const _0x1eb6c1=_0x29fc43;return this[_0x1eb6c1(0x12a)];}[_0x29fc43(0x5a8)](){const _0x287e08=_0x29fc43;return this['owner'][_0x287e08(0x994)]();}[_0x29fc43(0x13b)](){}[_0x29fc43(0x911)](_0x30f310){this['systemTopic']=_0x30f310;}[_0x29fc43(0x3c7)](){delete this['systemTopic'];}}const _0x4a79c7=require('firebase/firestore');let _0x2bd88c=_0x5e4e32(0x14d)['O'];function _0xdf4ae0(_0x118cc7){const _0x322da3=_0x29fc43;return!(!_0x118cc7||_0x322da3(0x161)!=typeof _0x118cc7||Array['isArray'](_0x118cc7));}_0x2bd88c=function _0x172a12(_0x5ee2c6,..._0x4a983f){const _0x8aeac2=_0x29fc43;if(!Array[_0x8aeac2(0x433)](_0x4a983f)||0x0===_0x4a983f['length'])return _0x5ee2c6;const _0x57ead0=_0x4a983f[_0x8aeac2(0x3e5)]();if(_0xdf4ae0(_0x5ee2c6)&&_0xdf4ae0(_0x57ead0)){for(const _0x3215a8 in _0x57ead0)_0xdf4ae0(_0x57ead0[_0x3215a8])?(_0x5ee2c6[_0x3215a8]||Object[_0x8aeac2(0xae1)](_0x5ee2c6,{[_0x3215a8]:{}}),_0x172a12(_0x5ee2c6[_0x3215a8],_0x57ead0[_0x3215a8])):Object['assign'](_0x5ee2c6,{[_0x3215a8]:_0x57ead0[_0x3215a8]});}return _0x172a12(_0x5ee2c6,..._0x4a983f);}(_0x2bd88c,_0x5e4e32(0x3e6)['O']);const _0x3dbf37=_0x2bd88c,_0x282398=require('firebase/app'),_0x523e2c=require('firebase/auth'),_0x4e283c=require('firebase/database'),_0x1b22e6=require('firebase/functions'),_0x3adee5=require('uuid'),_0x13f16a=_0x29fc43(0xa80);class _0x1a42bc{static [_0x29fc43(0x6c3)];[_0x29fc43(0x2d5)];['auth'];[_0x29fc43(0x1da)];[_0x29fc43(0x308)];[_0x29fc43(0x216)];[_0x29fc43(0x4d6)];[_0x29fc43(0x599)];constructor(){this['getApp']();}static[_0x29fc43(0x4f3)](){const _0x4b92da=_0x29fc43;return _0x1a42bc[_0x4b92da(0x6c3)]||(_0x1a42bc[_0x4b92da(0x6c3)]=new _0x1a42bc()),_0x1a42bc[_0x4b92da(0x6c3)];}['getApp'](){const _0x25dd01=_0x29fc43;if(!this[_0x25dd01(0x2d5)]){let _0x1444f7=_0x13f16a;_0x25dd01(0x9f4)!=typeof window&&(_0x1444f7=_0x13f16a+'-'+(0x0,_0x3adee5['v4'])()),this[_0x25dd01(0x2d5)]=(0x0,_0x282398[_0x25dd01(0xa46)])(_0x3dbf37[_0x25dd01(0x4d4)],''+_0x1444f7);}return this[_0x25dd01(0x2d5)];}[_0x29fc43(0xa23)](){const _0x571589=_0x29fc43;return this[_0x571589(0x312)]||(this['auth']=(0x0,_0x523e2c[_0x571589(0xa23)])(this[_0x571589(0x8ae)]())),this['auth'];}[_0x29fc43(0x640)](){const _0x285fe8=_0x29fc43;return this[_0x285fe8(0x1da)]||(this[_0x285fe8(0x1da)]=(0x0,_0x1b22e6[_0x285fe8(0x640)])(this[_0x285fe8(0x8ae)](),_0x3dbf37[_0x285fe8(0x4d4)][_0x285fe8(0x1ab)])),this[_0x285fe8(0x1da)];}[_0x29fc43(0x6e5)](){const _0x311c8e=_0x29fc43;return this[_0x311c8e(0x308)]||(this[_0x311c8e(0x308)]=(0x0,_0x4e283c[_0x311c8e(0x6e5)])(this[_0x311c8e(0x8ae)]())),this[_0x311c8e(0x308)];}[_0x29fc43(0xb00)](){const _0x43f9b0=_0x29fc43;return this[_0x43f9b0(0x216)]||(this[_0x43f9b0(0x216)]=(0x0,_0x4a79c7['getFirestore'])(this[_0x43f9b0(0x8ae)]())),this[_0x43f9b0(0x216)];}async[_0x29fc43(0x224)](){const _0x3c80fc=_0x29fc43;if(this[_0x3c80fc(0x4d6)]&&this[_0x3c80fc(0x599)]&&Date[_0x3c80fc(0x653)]()-this[_0x3c80fc(0x599)]<0x493e0)return Date[_0x3c80fc(0x653)]()+this[_0x3c80fc(0x4d6)];const _0x3f4365=this['getDatabase'](),_0x59f6cf=(0x0,_0x4e283c[_0x3c80fc(0xb0e)])(_0x3f4365,_0x3c80fc(0x680));return new Promise(_0x2c115b=>{const _0x3fdca9=_0x3c80fc;(0x0,_0x4e283c[_0x3fdca9(0x7c9)])(_0x59f6cf,_0x11a40d=>{const _0x29fede=_0x3fdca9;(0x0,_0x4e283c[_0x29fede(0xac1)])(_0x59f6cf),this[_0x29fede(0x4d6)]=_0x11a40d[_0x29fede(0x83f)](),this[_0x29fede(0x599)]=Date['now'](),_0x2c115b(Date['now']()+(this[_0x29fede(0x4d6)]??0x0));});});}}const _0x9824f6=_0x1a42bc[_0x29fc43(0x4f3)]();class _0xf29a3f{static [_0x29fc43(0x6c3)];[_0x29fc43(0x709)]=[_0x30994c[_0x29fc43(0x548)]];['debugEnabled']=!0x1;['loggingConnectors'];[_0x29fc43(0x117)]='';[_0x29fc43(0x63c)];[_0x29fc43(0x44d)]=[];[_0x29fc43(0x924)];[_0x29fc43(0x4f0)];[_0x29fc43(0xa92)]=0xa;[_0x29fc43(0x24a)]=0x1f4;[_0x29fc43(0x26b)]=0x1c2;[_0x29fc43(0x683)]=0x3e8;constructor(){const _0x2783dd=_0x29fc43;if('undefined'!=typeof window)this[_0x2783dd(0x63c)]=window;else{if(void 0x0===_0x5e4e32['g'])throw new Error(_0x2783dd(0xab6));this['globalObject']=_0x5e4e32['g'];}this['loadEnabledChannels'](),this[_0x2783dd(0x63c)][_0x2783dd(0x910)]=_0x305868=>{const _0x228d75=_0x2783dd;if(_0x305868===_0x30994c[_0x228d75(0x2bd)])return this['enabledChannels']=Object[_0x228d75(0x5da)](_0x30994c)[_0x228d75(0x170)](_0x452692=>_0x30994c[_0x452692]),void Object[_0x228d75(0x5da)](_0x30994c)[_0x228d75(0x7f9)](_0x5b2e4d=>{const _0x5c9ddf=_0x228d75,_0x397f59=_0x5b2e4d;localStorage[_0x5c9ddf(0x4ac)](_0x5c9ddf(0x660)+_0x30994c[_0x397f59],_0x5c9ddf(0x114));});this[_0x228d75(0x709)][_0x228d75(0x3a7)](_0x305868)||(this[_0x228d75(0x709)][_0x228d75(0x9f9)](_0x305868),localStorage[_0x228d75(0x4ac)](_0x228d75(0x660)+_0x305868,'true'));},this[_0x2783dd(0x63c)][_0x2783dd(0xa04)]=_0x5cb21d=>{const _0x1eb9bd=_0x2783dd;if(!_0x5cb21d||_0x5cb21d===_0x30994c['All'])return this['enabledChannels']=[],void Object['keys'](_0x30994c)[_0x1eb9bd(0x7f9)](_0x3064c0=>{const _0x3eeb96=_0x1eb9bd,_0x71628d=_0x3064c0;localStorage[_0x3eeb96(0x818)](_0x3eeb96(0x660)+_0x30994c[_0x71628d]);});this[_0x1eb9bd(0x709)][_0x1eb9bd(0x3a7)](_0x5cb21d)&&(this['enabledChannels']=this[_0x1eb9bd(0x709)][_0x1eb9bd(0x81c)](_0x3d0ffc=>_0x3d0ffc!==_0x5cb21d),localStorage['removeItem'](_0x1eb9bd(0x660)+_0x5cb21d));},this[_0x2783dd(0x63c)]['crewdleSDKLoggingChannels']=_0x30994c;}static[_0x29fc43(0x4f3)](){const _0x2dbb90=_0x29fc43;try{return _0xf29a3f[_0x2dbb90(0x6c3)]||(_0xf29a3f['instance']=new _0xf29a3f()),_0xf29a3f[_0x2dbb90(0x6c3)];}catch(_0x577529){return console[_0x2dbb90(0x3c9)](_0x2dbb90(0x827),_0x577529),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x29fc43(0xb02)](_0x5d454f){const _0x44f0ef=_0x29fc43;this[_0x44f0ef(0x117)]=_0x5d454f,this[_0x44f0ef(0x44d)]=[],this[_0x44f0ef(0x924)]=this[_0x44f0ef(0x6b6)](),this[_0x44f0ef(0x4f0)]&&(clearTimeout(this[_0x44f0ef(0x4f0)]),this['batchTimeout']=void 0x0);}[_0x29fc43(0x36e)](_0x1a965c){const _0xf2c877=_0x29fc43;this[_0xf2c877(0xa05)]=_0x1a965c;}['debug'](_0x180a32,..._0x41e71a){const _0x317338=_0x29fc43;this[_0x317338(0x601)]&&this[_0x317338(0x195)](_0x30994c['Default'],_0x317338(0x5c1)+_0x180a32,..._0x41e71a);}[_0x29fc43(0x9b4)](_0x2dbfe8,..._0x15a57b){const _0x4862ed=_0x29fc43;console[_0x4862ed(0x195)](_0x2dbfe8,..._0x15a57b),this['loggingConnectors']&&this[_0x4862ed(0xa05)][_0x4862ed(0x7f9)](_0x2661cc=>{const _0x41f6df=_0x4862ed;_0x2661cc[_0x41f6df(0x195)](_0x2dbfe8,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x15a57b}});});}[_0x29fc43(0x195)](_0x122cc0,_0x582003,..._0x2c0b99){const _0x52d01f=_0x29fc43;_0x3dbf37[_0x52d01f(0x54d)]||(this[_0x52d01f(0x709)][_0x52d01f(0x3a7)](_0x122cc0)&&console[_0x52d01f(0x195)](_0x52d01f(0x3f4)+_0x122cc0+'\x27\x0a',new Date()+'\x0a',_0x582003,..._0x2c0b99),this[_0x52d01f(0xa05)]&&this[_0x52d01f(0xa05)][_0x52d01f(0x7f9)](_0x20c4a8=>{const _0x5a74e3=_0x52d01f;this['isInternalLoggingConnector'](_0x20c4a8)&&_0x20c4a8[_0x5a74e3(0x669)]()[_0x5a74e3(0x3a7)](_0x122cc0)&&_0x20c4a8[_0x5a74e3(0x195)](_0x582003,{'vendorId':this[_0x5a74e3(0x117)],'nodeId':'','nodeType':'','data':{'channel':_0x122cc0,..._0x2c0b99}});}));}['logRaw'](_0x11a7c1,_0x3f4128,..._0x1e9748){const _0x15fde5=_0x29fc43;_0x3dbf37[_0x15fde5(0x54d)]||(this[_0x15fde5(0x709)][_0x15fde5(0x3a7)](_0x11a7c1)&&console[_0x15fde5(0x195)](_0x3f4128,..._0x1e9748),this[_0x15fde5(0xa05)]&&this['loggingConnectors'][_0x15fde5(0x7f9)](_0x53a844=>{const _0x55f893=_0x15fde5;this['isInternalLoggingConnector'](_0x53a844)&&_0x53a844[_0x55f893(0x669)]()[_0x55f893(0x3a7)](_0x11a7c1)&&_0x53a844[_0x55f893(0x195)](_0x3f4128,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x11a7c1,..._0x1e9748}});}));}[_0x29fc43(0x684)](_0x16b075,_0x31c175){const _0x1520ec=_0x29fc43;if(!this[_0x1520ec(0xa05)])return;const _0x21f90b={'vendorId':this[_0x1520ec(0x117)],..._0x31c175};this[_0x1520ec(0xa05)]['forEach'](_0x39eff4=>{_0x39eff4['log'](_0x16b075,_0x21f90b);});}[_0x29fc43(0x110)](_0x59d8eb,_0x312680){const _0x43e7da=_0x29fc43;this['createBatchOperation'](_0x59d8eb,_0x312680),this[_0x43e7da(0x425)]();}[_0x29fc43(0x64d)](_0xa3a72c,_0x3bf92c,_0x263963){const _0x4d8144=_0x29fc43;(0x0,_0x4a79c7['setDoc'])((0x0,_0x4a79c7[_0x4d8144(0x463)])(_0x9824f6[_0x4d8144(0xb00)](),_0x4d8144(0xa81)+this['vendorId']+'/'+_0xa3a72c+'/'+_0x3bf92c),{'storage':_0x263963,'timestamp':(0x0,_0x4a79c7['serverTimestamp'])()});}[_0x29fc43(0x425)](){const _0x598648=_0x29fc43;this[_0x598648(0x924)]&&(this[_0x598648(0x924)][_0x598648(0x68c)]+=0x1,this[_0x598648(0x924)][_0x598648(0x68c)]===this[_0x598648(0x26b)]?this['processBatch']():this[_0x598648(0x4f0)]||(this[_0x598648(0x4f0)]=this[_0x598648(0x63c)][_0x598648(0x7ba)](()=>this[_0x598648(0x9d0)](),this['timeoutValue'])));}async['processBatch'](){const _0xea6940=_0x29fc43;if(this[_0xea6940(0x924)]){for(this[_0xea6940(0x44d)][_0xea6940(0x9f9)](this['currentBatch']),this['currentBatch']=this['createNewBatch']();this['batchQueue'][_0xea6940(0x4c5)]>0x0;){const _0x3ac9ff=this[_0xea6940(0x44d)]['shift']();if(!await this['commitBatch'](_0x3ac9ff))break;}clearTimeout(this[_0xea6940(0x4f0)]),this[_0xea6940(0x4f0)]=void 0x0;}}[_0x29fc43(0x3c9)](_0x3a34cd,_0x5a139f,..._0x4e139c){const _0x54b3c5=_0x29fc43;if(console[_0x54b3c5(0x3c9)](new Date(),_0x3a34cd,_0x5a139f,..._0x4e139c),this[_0x54b3c5(0xa05)]){const _0x4dd04e={'vendorId':this[_0x54b3c5(0x117)],..._0x5a139f};this['loggingConnectors']['forEach'](_0x57d51d=>{const _0x3cbd31=_0x54b3c5;_0x57d51d[_0x3cbd31(0x3c9)](_0x3a34cd,_0x4dd04e);});}}['warning'](_0x40babf,_0x1fe040,..._0xee039d){const _0x14888c=_0x29fc43;if(console['warn'](new Date(),_0x40babf,_0x1fe040,_0xee039d),this[_0x14888c(0xa05)]){const _0x4bc029={'vendorId':this[_0x14888c(0x117)],..._0x1fe040};this[_0x14888c(0xa05)][_0x14888c(0x7f9)](_0x4494ab=>{const _0x395ce=_0x14888c;_0x4494ab[_0x395ce(0xad6)](_0x40babf,_0x4bc029);});}}[_0x29fc43(0x520)](_0x60b779){const _0x428c21=_0x29fc43;return this[_0x428c21(0x709)][_0x428c21(0x3a7)](_0x60b779);}async[_0x29fc43(0xa4b)](_0x55084c,_0x1cb5a4=0x0){const _0x18948f=_0x29fc43;if(_0x55084c['counter']>0x0)try{return await _0x55084c[_0x18948f(0x456)][_0x18948f(0x57c)](),!0x0;}catch(_0x1ca207){if(console['error']('Error\x20committing\x20batch:',_0x1ca207,_0x18948f(0x4cc),_0x55084c['operations']),!(_0x1cb5a4<this[_0x18948f(0xa92)])){const {nodeId:_0x57b694='',nodeType:_0x11198f='',clusterId:_0x31d4ec=''}=_0x55084c[_0x18948f(0x460)][0x0][_0x18948f(0x7d7)],_0xadd6a9={'nodeId':_0x57b694,'nodeType':_0x11198f,'clusterId':_0x31d4ec,'data':{'operations':_0x55084c[_0x18948f(0x460)],'error':_0x1ca207}};return this[_0x18948f(0x3c9)](_0x18948f(0x529),_0xadd6a9),!0x1;}{const _0x402cc4=this[_0x18948f(0x477)](_0x55084c[_0x18948f(0x460)]);setTimeout(()=>this[_0x18948f(0xa4b)](_0x402cc4,_0x1cb5a4+0x1),this[_0x18948f(0x24a)]*Math[_0x18948f(0xa55)](0x2,_0x1cb5a4));}}}[_0x29fc43(0x989)](){const _0x34bd30=_0x29fc43;try{Object[_0x34bd30(0x5da)](_0x30994c)['forEach'](_0x22c532=>{const _0x3b0dbe=_0x34bd30,_0x3c2d2c=_0x22c532;localStorage[_0x3b0dbe(0x71c)](_0x3b0dbe(0x660)+_0x30994c[_0x3c2d2c])&&(console['log']('LoggingService:\x20logging\x20enabled\x20for',_0x30994c[_0x3c2d2c]),this[_0x3b0dbe(0x709)][_0x3b0dbe(0x9f9)](_0x30994c[_0x3c2d2c]));});}catch(_0x3f0150){}}['isInternalLoggingConnector'](_0x49a9a0){const _0x352879=_0x29fc43;return void 0x0!==_0x49a9a0[_0x352879(0x669)];}['createNewBatch'](){const _0x178bc1=_0x29fc43;return{'batch':(0x0,_0x4a79c7[_0x178bc1(0x7f6)])(_0x9824f6['getFirestore']()),'operations':[],'counter':0x0};}['createBatch'](_0x45c85){const _0x5ca8b4=_0x29fc43,_0x250952=(0x0,_0x4a79c7[_0x5ca8b4(0x7f6)])(_0x9824f6[_0x5ca8b4(0xb00)]());return _0x45c85[_0x5ca8b4(0x7f9)](_0x39c3e3=>this[_0x5ca8b4(0x3f7)](_0x250952,_0x39c3e3)),{'batch':_0x250952,'operations':_0x45c85,'counter':_0x45c85['length']};}['addBatchOperation'](_0x2e327f,_0x441901){const _0x2ea51f=_0x29fc43;switch(_0x441901[_0x2ea51f(0xacf)]){case _0x2ea51f(0x355):_0x2e327f[_0x2ea51f(0x355)](_0x441901[_0x2ea51f(0xb0e)],_0x441901[_0x2ea51f(0x7d7)]);break;case _0x2ea51f(0x340):_0x2e327f[_0x2ea51f(0x340)](_0x441901['ref'],_0x441901[_0x2ea51f(0x7d7)]);break;case _0x2ea51f(0x5ef):_0x2e327f[_0x2ea51f(0x5ef)](_0x441901[_0x2ea51f(0xb0e)]);}}[_0x29fc43(0x304)](_0x12e8d4,_0x21b48c){const _0xb4b54a=_0x29fc43;this[_0xb4b54a(0x924)]||(this['currentBatch']=this[_0xb4b54a(0x6b6)]());const _0x47d3d2=(0x0,_0x4a79c7[_0xb4b54a(0x463)])((0x0,_0x4a79c7[_0xb4b54a(0x562)])(_0x9824f6[_0xb4b54a(0xb00)](),_0xb4b54a(0xa81)+this[_0xb4b54a(0x117)]+_0xb4b54a(0x941))),_0x5e46e5={..._0x21b48c,'service':_0x12e8d4,'timestamp':(0x0,_0x4a79c7[_0xb4b54a(0x51a)])()},_0x544080={'type':_0xb4b54a(0x355),'path':_0x47d3d2['path'],'ref':_0x47d3d2,'data':_0x5e46e5};return this[_0xb4b54a(0x924)][_0xb4b54a(0x460)][_0xb4b54a(0x9f9)](_0x544080),this['addBatchOperation'](this[_0xb4b54a(0x924)][_0xb4b54a(0x456)],_0x544080),_0x47d3d2;}}const _0xb63eee=_0xf29a3f['getInstance']();function _0x93568e(_0x233aad,_0x1fa4e5){return'/'===_0x233aad?_0x233aad+_0x1fa4e5:_0x233aad+'/'+_0x1fa4e5;}function _0x4152af(_0x45dee0){const _0x39aac6=_0x29fc43,_0x3967a2=function(_0x22163b){const _0x4d21f4=a0_0x424d;return _0x22163b[_0x4d21f4(0x388)]('/')[_0x4d21f4(0x81c)](_0x3838f4=>_0x3838f4[_0x4d21f4(0x4c5)]>0x0);}(_0x45dee0),_0x374069=_0x3967a2['pop']()||'',_0x168954=_0x3967a2[_0x39aac6(0x98d)]('/');return[0x0===_0x168954[_0x39aac6(0x4c5)]?'/':_0x168954,_0x374069];}async function _0xb23a82(_0x2eae69){const _0x47b4cd=_0x29fc43;let _0x5861c8;const _0x143d86=_0x2eae69['size']/0x100000;_0x5861c8=_0x143d86<=0xa?0x1:_0x143d86<=0x64?0.5:_0x143d86<=0x1f4?0.1:0.05;const _0x5d2314=Math[_0x47b4cd(0x687)](_0x2eae69[_0x47b4cd(0xb18)]/_0x22e278),_0x2c1006=Math['ceil'](_0x5d2314*_0x5861c8);let _0x48bbd0=new Uint8Array();for(let _0x26bf0a=0x0;_0x26bf0a<_0x2c1006;_0x26bf0a++){const _0x25d1f0=Math[_0x47b4cd(0x74e)](_0x26bf0a/_0x2c1006*_0x2eae69[_0x47b4cd(0xb18)]);let _0x423669=_0x25d1f0+_0x22e278;_0x423669>_0x2eae69[_0x47b4cd(0xb18)]&&(_0x423669=_0x2eae69[_0x47b4cd(0xb18)]);const _0x3184a6=_0x2eae69[_0x47b4cd(0x83a)](_0x25d1f0,_0x423669),_0x5f1ceb=await _0x3184a6[_0x47b4cd(0x37c)](),_0x38ee0f=new Uint8Array([..._0x48bbd0,...new Uint8Array(_0x5f1ceb)]);_0x48bbd0=new Uint8Array(await crypto[_0x47b4cd(0x9a7)][_0x47b4cd(0x6ad)](_0x47b4cd(0x8a9),_0x38ee0f));}return Array[_0x47b4cd(0x8f7)](new Uint8Array(_0x48bbd0))['map'](_0x14045c=>_0x14045c[_0x47b4cd(0x570)](0x10)['padStart'](0x2,'0'))[_0x47b4cd(0x98d)]('');}async function*_0x4cab42(_0x56ea8b,_0x4df3fc=0x0,_0x3d866c){const _0x1966e3=_0x29fc43;let _0x57d215=_0x4df3fc*_0x27bcc0,_0x36c814=_0x56ea8b;for(;_0x57d215<_0x36c814['size'];){let _0x41efdd=_0x57d215+_0x27bcc0;_0x41efdd>_0x36c814[_0x1966e3(0xb18)]&&(_0x41efdd=_0x36c814[_0x1966e3(0xb18)]);let _0x3d8859=0x0;for(;_0x3d8859<0x14;)try{await _0x3d866c?.();const _0xab0f83=_0x36c814['slice'](_0x57d215,_0x41efdd,_0x1966e3(0x587)),_0x285b1e=await _0xab0f83[_0x1966e3(0x37c)]();yield _0x285b1e,_0x57d215=_0x41efdd,await new Promise(_0x2ae62d=>setTimeout(_0x2ae62d,0x0));break;}catch(_0x3f5243){if(console[_0x1966e3(0x3c9)](_0x1966e3(0x6d0)+(_0x3d8859+0x1)+_0x1966e3(0x154),_0x3f5243),_0x3d8859++,_0x3d8859>0x14)throw _0x3f5243;let _0x5df132=0x3e8*Math[_0x1966e3(0xa55)](0x2,_0x3d8859);_0x5df132>0x7530&&(_0x5df132=0x7530),await new Promise(_0x2c63d3=>setTimeout(_0x2c63d3,_0x5df132));}}}class _0x2b6b11 extends _0x1e2761{[_0x29fc43(0x8de)];[_0x29fc43(0x3a5)];['fileChunks']=new Map();[_0x29fc43(0x5e8)]=0x0;[_0x29fc43(0x3fe)]=0x0;['bytesSent']=0x0;[_0x29fc43(0x326)]=0x0;constructor(_0x2d3f8d,_0x45b247){super(_0x2d3f8d,_0x45b247);}[_0x29fc43(0x858)](){const _0x1692c7=_0x29fc43;return this[_0x1692c7(0x12a)];}['getName'](){const _0x3e30ff=_0x29fc43;return this[_0x3e30ff(0x12a)];}[_0x29fc43(0x5f5)](){const _0xaa6a31=_0x29fc43;return _0x47b47a[_0xaa6a31(0x43d)][_0xaa6a31(0xa7d)];}[_0x29fc43(0x9e7)](){return this['label'];}[_0x29fc43(0x85d)](_0x359891){const _0x36ccef=_0x29fc43;if(this[_0x36ccef(0x8de)])throw new _0x3335bf(_0x3335bf['codes'][_0x36ccef(0xab5)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x36ccef(0xab7)][_0x36ccef(0x994)]()+'\x20-\x20'+this[_0x36ccef(0x12a)],'topic':this[_0x36ccef(0x8de)]});this['outgoingTopic']=_0x359891;}[_0x29fc43(0x379)](_0x2058fe){const _0xc2c8f2=_0x29fc43;if(this['incomingTopic'])throw new _0x3335bf(_0x3335bf[_0xc2c8f2(0x4ee)][_0xc2c8f2(0x81f)],{'message':_0xc2c8f2(0x616)+this[_0xc2c8f2(0xab7)][_0xc2c8f2(0x994)]()+'\x20-\x20'+this[_0xc2c8f2(0x12a)],'topic':this[_0xc2c8f2(0x3a5)]});this['incomingTopic']=_0x2058fe;}[_0x29fc43(0x649)](){const _0x3ebdae=_0x29fc43;delete this[_0x3ebdae(0x8de)];}['unregisterSubscriber'](){const _0x4a3b5c=_0x29fc43;delete this[_0x4a3b5c(0x3a5)];}async[_0x29fc43(0xae4)](_0x3e96ec,_0xcf6e76){const _0x290f0f=_0x29fc43;if(_0xb63eee['log'](_0x30994c[_0x290f0f(0x8d5)],_0x290f0f(0x2e2),this[_0x290f0f(0xab7)]['getId'](),_0x3e96ec,_0xcf6e76),this[_0x290f0f(0x5e8)]+=0x1,_0x3e96ec instanceof File){const _0x2f8748=await async function(_0x15411a){const _0x20033d=_0x290f0f,_0x3cea5d=[];for await(const _0x13d16a of _0x4cab42(_0x15411a))_0x3cea5d[_0x20033d(0x9f9)](_0x13d16a);return _0x3cea5d;}(_0x3e96ec);return this[_0x290f0f(0x656)]+=_0x2f8748[_0x290f0f(0x8ca)]((_0x1d0e88,_0x5dc441)=>_0x1d0e88+_0x5dc441[_0x290f0f(0x13e)],0x0),void _0x2f8748['forEach']((_0x3164e4,_0x5b5d1d)=>{const _0x467c29=_0x290f0f;this[_0x467c29(0x8de)]['publish']({'sourceId':this[_0x467c29(0xab7)][_0x467c29(0x994)](),'destinationIds':_0xcf6e76,'propagate':!0x0,'contentType':_0x47b47a[_0x467c29(0x43d)][_0x467c29(0x1f9)],'content':{'name':_0x3e96ec['name'],'type':_0x3e96ec['type'],'data':_0x3164e4,'index':_0x5b5d1d,'total':_0x2f8748[_0x467c29(0x4c5)]}});});}this[_0x290f0f(0x656)]+=JSON[_0x290f0f(0x9a0)](_0x3e96ec)[_0x290f0f(0x4c5)],this['outgoingTopic'][_0x290f0f(0x289)]({'sourceId':this['owner'][_0x290f0f(0x994)](),'destinationIds':_0xcf6e76,'propagate':!0x0,'contentType':_0x47b47a['ContentType'][_0x290f0f(0xa7d)],'content':_0x3e96ec});}[_0x29fc43(0x6b5)](_0x23a080){const _0x40f414=_0x29fc43;return this[_0x40f414(0x3a5)][_0x40f414(0x75e)](_0x1dcfb8=>{const _0x3f1194=_0x40f414;switch(_0xb63eee['log'](_0x30994c[_0x3f1194(0x8d5)],_0x3f1194(0x2dc),this[_0x3f1194(0xab7)]['getId'](),_0x1dcfb8),_0x1dcfb8[_0x3f1194(0x25a)]){case _0x47b47a[_0x3f1194(0x43d)][_0x3f1194(0xa7d)]:this[_0x3f1194(0x3fe)]+=0x1,this[_0x3f1194(0x326)]+=JSON[_0x3f1194(0x9a0)](_0x1dcfb8['content'])[_0x3f1194(0x4c5)],_0x23a080(_0x1dcfb8[_0x3f1194(0xad5)],_0x1dcfb8[_0x3f1194(0x88a)]);break;case _0x47b47a[_0x3f1194(0x43d)][_0x3f1194(0x1f9)]:this[_0x3f1194(0x88c)]['has'](_0x1dcfb8[_0x3f1194(0x88a)][_0x3f1194(0x3dd)])||this[_0x3f1194(0x88c)][_0x3f1194(0x355)](_0x1dcfb8[_0x3f1194(0x88a)][_0x3f1194(0x3dd)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5f2f19=this[_0x3f1194(0x88c)][_0x3f1194(0x2a2)](_0x1dcfb8[_0x3f1194(0x88a)][_0x3f1194(0x3dd)]);if(_0x5f2f19[_0x3f1194(0x4c1)]+=0x1,_0x5f2f19[_0x3f1194(0x326)]+=_0x1dcfb8[_0x3f1194(0x88a)][_0x3f1194(0x7d7)][_0x3f1194(0x13e)],_0x5f2f19[_0x3f1194(0x88a)]&&(_0x5f2f19[_0x3f1194(0x88a)][_0x1dcfb8['content'][_0x3f1194(0x378)]]=_0x1dcfb8['content'][_0x3f1194(0x7d7)]),this[_0x3f1194(0x88c)]['set'](_0x1dcfb8[_0x3f1194(0x88a)][_0x3f1194(0x3dd)],_0x5f2f19),_0x5f2f19['chunksReceived']+0x1<_0x1dcfb8[_0x3f1194(0x88a)][_0x3f1194(0x9ad)])return;this[_0x3f1194(0x3fe)]+=0x1,this[_0x3f1194(0x326)]+=_0x5f2f19[_0x3f1194(0x326)],_0x5f2f19[_0x3f1194(0x88a)]&&_0x23a080(_0x1dcfb8[_0x3f1194(0xad5)],(_0x39a6d7=_0x5f2f19[_0x3f1194(0x88a)],_0x57d3dc=_0x1dcfb8[_0x3f1194(0x88a)][_0x3f1194(0x3dd)],_0x159f86=_0x1dcfb8['content'][_0x3f1194(0xacf)],new File(_0x39a6d7,_0x57d3dc,{'type':_0x159f86}))),this['fileChunks'][_0x3f1194(0x5ef)](_0x1dcfb8['content'][_0x3f1194(0x3dd)]);}var _0x39a6d7,_0x57d3dc,_0x159f86;});}}function _0x2d590d(){const _0x19f223=_0x29fc43;let _0x1900f6=[];return{'subscribe':_0x1c71f4=>(_0x1900f6[_0x19f223(0x9f9)](_0x1c71f4),()=>{_0x1900f6=_0x1900f6['filter'](_0x310ac9=>_0x310ac9!==_0x1c71f4);}),'publish':_0x55ce06=>{const _0xb37936=_0x19f223;_0x1900f6[_0xb37936(0x7f9)](_0x24ece2=>_0x24ece2(_0x55ce06));}};}function _0x287e1a(){let _0x3ddce4;return{'subscribe':_0xfb7627=>(_0x3ddce4=_0xfb7627,()=>{_0x3ddce4=void 0x0;}),'publish':_0x2fbc6d=>{_0x3ddce4&&_0x3ddce4(_0x2fbc6d);}};}class _0x562f48{['connector'];[_0x29fc43(0x450)];['tableObserver'];['eventListener']=_0x287e1a();[_0x29fc43(0x26f)];constructor(_0x431789,_0x344033,_0x36186a){const _0x32684e=_0x29fc43;this[_0x32684e(0x94f)]=_0x431789,this[_0x32684e(0x450)]=_0x344033,this['tableObserver']=_0x36186a;}[_0x29fc43(0x13b)](){this['listenerUnsubscriber']?.();}async['get'](_0x24d1e7){const _0x4a8c3b=_0x29fc43,_0x5f58bf={'key':_0x24d1e7,'tableName':this[_0x4a8c3b(0x450)],'action':_0x20d5ea[_0x4a8c3b(0x31f)]};return this['tableObserver']['publish'](_0x5f58bf),this[_0x4a8c3b(0x94f)]['get'](_0x24d1e7);}async[_0x29fc43(0x355)](_0x3e7bcc,_0x3c8d89,_0x3d936d=!0x0){const _0x2b4712=_0x29fc43;this[_0x2b4712(0x2ad)](_0x3c8d89);const _0x464692=await this[_0x2b4712(0x94f)][_0x2b4712(0x2a2)](_0x3e7bcc),_0x2bf5fc=await this[_0x2b4712(0x94f)][_0x2b4712(0x355)](_0x3e7bcc,_0x3c8d89),_0x25519d=_0x464692?_0x22c0e8[_0x2b4712(0x71d)]:_0x22c0e8[_0x2b4712(0x57e)];if(this[_0x2b4712(0x289)](_0x25519d,_0x2bf5fc),!_0x3d936d)return _0x2bf5fc;const _0x206079={'key':_0x3e7bcc,'tableName':this[_0x2b4712(0x450)],'action':_0x25519d,'value':_0x2bf5fc};return this[_0x2b4712(0xb15)][_0x2b4712(0x289)](_0x206079),_0x2bf5fc;}async['add'](_0x10b9a8){const _0x5f25de=_0x29fc43;this[_0x5f25de(0x2ad)](_0x10b9a8);const _0x5f4462=await this[_0x5f25de(0x94f)][_0x5f25de(0x5ec)](_0x10b9a8),_0x5d1616={'key':_0x5f4462['id'],'tableName':this[_0x5f25de(0x450)],'action':_0x22c0e8[_0x5f25de(0x57e)],'value':_0x5f4462};return this['tableObserver'][_0x5f25de(0x289)](_0x5d1616),this[_0x5f25de(0x289)](_0x5d1616['action'],_0x5f4462),_0x5f4462;}async[_0x29fc43(0x5ef)](_0x2c07f4,_0x188bbc=!0x0){const _0x409d17=_0x29fc43,_0x5d5476=await this[_0x409d17(0x94f)]['get'](_0x2c07f4);if(!_0x5d5476)return;await this[_0x409d17(0x94f)]['delete'](_0x2c07f4);const _0x37b900=_0x22c0e8[_0x409d17(0x55d)];if(this[_0x409d17(0x289)](_0x37b900,_0x5d5476),!_0x188bbc)return;const _0x3ee372={'key':_0x2c07f4,'tableName':this[_0x409d17(0x450)],'action':_0x37b900,'value':_0x5d5476};this[_0x409d17(0xb15)][_0x409d17(0x289)](_0x3ee372);}async[_0x29fc43(0x985)](){const _0x13dcc7=_0x29fc43,_0x43809d=await this[_0x13dcc7(0x536)]();for(const _0x4dff4f of _0x43809d){const _0x33966e=_0x22c0e8[_0x13dcc7(0x55d)];this[_0x13dcc7(0x289)](_0x33966e,_0x4dff4f);const _0x397e2f={'key':_0x4dff4f['id'],'tableName':this[_0x13dcc7(0x450)],'action':_0x33966e,'value':_0x4dff4f};this[_0x13dcc7(0xb15)][_0x13dcc7(0x289)](_0x397e2f);}return this[_0x13dcc7(0x94f)]['clear']();}async[_0x29fc43(0x536)](_0x2c7f03){const _0x1a1b6f=_0x29fc43,_0x3c3b9b={'key':'','tableName':this[_0x1a1b6f(0x450)],'action':_0x20d5ea[_0x1a1b6f(0x975)]};this[_0x1a1b6f(0xb15)]['publish'](_0x3c3b9b);try{_0x2c7f03&&(_0x2c7f03=_0x2c7f03 instanceof _0x476b4a?_0x2c7f03[_0x1a1b6f(0xa74)]():_0x476b4a[_0x1a1b6f(0x737)](_0x2c7f03)[_0x1a1b6f(0xa74)]());}catch(_0x14b12d){throw new _0x27674c(_0x3d6c7a[_0x1a1b6f(0xa11)],_0x1a1b6f(0x296));}try{return await this[_0x1a1b6f(0x94f)][_0x1a1b6f(0x536)](_0x2c7f03);}catch(_0x3676ea){let _0x24085a=_0x1a1b6f(0x296);throw _0x3676ea instanceof Error&&(_0x24085a=_0x3676ea[_0x1a1b6f(0x356)]),new _0x27674c(_0x3d6c7a[_0x1a1b6f(0xa11)],_0x24085a);}}async[_0x29fc43(0x53d)](_0x336a31){const _0x12a334=_0x29fc43,_0x104ed9={'key':'','tableName':this['tableName'],'action':_0x20d5ea[_0x12a334(0x6d4)]};this[_0x12a334(0xb15)][_0x12a334(0x289)](_0x104ed9);try{_0x336a31&&(_0x336a31=_0x336a31 instanceof _0x476b4a?_0x336a31[_0x12a334(0xa74)]():_0x476b4a[_0x12a334(0x737)](_0x336a31)[_0x12a334(0xa74)]());}catch(_0x59dff1){throw new _0x27674c(_0x3d6c7a[_0x12a334(0xa11)],_0x12a334(0x296));}try{return await this[_0x12a334(0x94f)][_0x12a334(0x53d)](_0x336a31);}catch(_0x5d467c){let _0x17ed04=_0x12a334(0x296);throw _0x5d467c instanceof Error&&(_0x17ed04=_0x5d467c[_0x12a334(0x356)]),new _0x27674c(_0x3d6c7a[_0x12a334(0xa11)],_0x17ed04);}}[_0x29fc43(0x171)](){const _0x31ee03=_0x29fc43;return this['connector'][_0x31ee03(0x171)]();}[_0x29fc43(0x75e)](_0x10cc23){const _0x42e3cb=_0x29fc43;this['listenerUnsubscriber']=this[_0x42e3cb(0x448)][_0x42e3cb(0x75e)](_0x10cc23);}[_0x29fc43(0x515)](){const _0x57c1bc=_0x29fc43;this[_0x57c1bc(0x26f)]?.();}[_0x29fc43(0x289)](_0x49dd76,_0x2a9c5e){const _0x1ea650=_0x29fc43,_0x525018=this['buildTableEvent'](_0x49dd76,_0x2a9c5e);this[_0x1ea650(0x448)][_0x1ea650(0x289)](_0x525018);}[_0x29fc43(0x917)](_0x17499b,_0xbd2e5f){const _0x2158f2=_0x29fc43;let _0x154d8e;switch(_0x17499b){case _0x22c0e8[_0x2158f2(0x57e)]:_0x154d8e=_0x2158f2(0x5ec);break;case _0x22c0e8[_0x2158f2(0x71d)]:_0x154d8e='update';break;case _0x22c0e8['Delete']:_0x154d8e=_0x2158f2(0x5ef);}return{'action':_0x154d8e,'value':_0xbd2e5f};}[_0x29fc43(0x2ad)](_0x563a4b){const _0x1480ee=_0x29fc43;if(_0x1480ee(0x161)!=typeof _0x563a4b||null===_0x563a4b)throw new _0x27674c(_0x3d6c7a[_0x1480ee(0xa5f)],_0x1480ee(0x318));for(const _0x13c06f in _0x563a4b){const _0x389f75=_0x563a4b[_0x13c06f];if(_0x1480ee(0x161)!=typeof _0x389f75||_0x389f75 instanceof Date){if(!['string','number',_0x1480ee(0x714)][_0x1480ee(0x3a7)](typeof _0x389f75))throw new _0x27674c(_0x3d6c7a[_0x1480ee(0xa5f)],_0x1480ee(0x6ec)+_0x13c06f+_0x1480ee(0x3d3));}else this[_0x1480ee(0x2ad)](_0x389f75);}}}class _0x31816d{[_0x29fc43(0x947)]=[];[_0x29fc43(0x6f5)]=0x0;['transactionQueue']=[];[_0x29fc43(0x934)]=!0x1;[_0x29fc43(0xa9d)]=null;[_0x29fc43(0x2c5)]=null;[_0x29fc43(0x7e9)];[_0x29fc43(0x163)]=null;[_0x29fc43(0x96f)]=[];[_0x29fc43(0x4b6)];[_0x29fc43(0x50e)]=Promise['resolve']();[_0x29fc43(0x514)]=0x0;constructor(){}get['ready'](){const _0x18c21e=_0x29fc43;return this[_0x18c21e(0x50e)];}async[_0x29fc43(0x8bd)](_0x2a0cf3,_0x3280fe=0x0){const _0x29d96b=_0x29fc43;this[_0x29d96b(0x163)]||(this[_0x29d96b(0x50e)]=new Promise(_0x47273a=>{this['readyResolve']=_0x47273a;}),this[_0x29d96b(0x514)]=_0x3280fe);const _0x2e4203=Date[_0x29d96b(0x653)]();if(this[_0x29d96b(0x934)])return void this[_0x29d96b(0x121)][_0x29d96b(0x9f9)](_0x2a0cf3);this[_0x29d96b(0x934)]=!0x0;let _0x1f5d1b={'hash':await this['hashTransaction'](_0x2a0cf3),'height':0x0};const _0x59c69f=this[_0x29d96b(0x8ea)](_0x1f5d1b);this[_0x29d96b(0x96f)][_0x29d96b(0x9f9)](_0x59c69f),await _0x59c69f,this[_0x29d96b(0x6f5)]+=0x1;const _0x43c2fe=this['transactionQueue'][_0x29d96b(0x4c5)];for(;this[_0x29d96b(0x121)][_0x29d96b(0x4c5)]>0x0;){const _0x239b6f=this[_0x29d96b(0x121)][_0x29d96b(0x3e5)]();await this[_0x29d96b(0x8bd)](_0x239b6f);}this[_0x29d96b(0x8f4)](),await this[_0x29d96b(0x90d)],this[_0x29d96b(0x91b)](_0x2e4203,_0x43c2fe);}async[_0x29fc43(0x124)](){const _0x35f38d=_0x29fc43;return await this[_0x35f38d(0x50e)],this['isComputingMMR']?(this[_0x35f38d(0x2c5)]||(this[_0x35f38d(0x2c5)]=this[_0x35f38d(0x860)]()),await this['rootComputationPromise']):this[_0x35f38d(0xa9d)];}[_0x29fc43(0x751)](){const _0x5db6b4=_0x29fc43;return this[_0x5db6b4(0x947)][_0x5db6b4(0x170)](({hash:_0x7a575e,height:_0x413225})=>({'hash':_0x7a575e,'height':_0x413225}));}['getTotalNodes'](){const _0xd1dffa=_0x29fc43;return this[_0xd1dffa(0x6f5)];}[_0x29fc43(0x5a4)](_0x5102e9){const _0x345b2e=_0x29fc43;return this[_0x345b2e(0x947)][_0x345b2e(0x5a5)](_0x252b2e=>_0x252b2e['height']===_0x5102e9);}async[_0x29fc43(0x19a)](_0x3338be,_0xda81f3){return await this['computeHash'](_0x3338be+_0xda81f3);}async[_0x29fc43(0x8d0)](_0x549812){const _0x117fd3=_0x29fc43;return await this[_0x117fd3(0x87a)](JSON[_0x117fd3(0x9a0)](_0x549812));}[_0x29fc43(0x1ce)](_0x131433){const _0x4373cf=_0x29fc43,_0x37c04c=this[_0x4373cf(0x751)](),_0x355c12=[],_0x55f283=[],_0x1ae962=[];for(const _0x5962be of _0x37c04c){const _0x33ce57=_0x131433[_0x4373cf(0x5a5)](_0x3d002a=>_0x3d002a[_0x4373cf(0x4b2)]===_0x5962be[_0x4373cf(0x4b2)]);_0x33ce57?_0x5962be[_0x4373cf(0x6e9)]!==_0x33ce57[_0x4373cf(0x6e9)]&&_0x355c12[_0x4373cf(0x9f9)]({'height':_0x5962be[_0x4373cf(0x4b2)],'localPeak':_0x5962be,'remotePeak':_0x33ce57}):_0x55f283[_0x4373cf(0x9f9)](_0x5962be);}for(const _0x3c70d5 of _0x131433)_0x37c04c[_0x4373cf(0x5a5)](_0x3d13c6=>_0x3d13c6['height']===_0x3c70d5[_0x4373cf(0x4b2)])||_0x1ae962[_0x4373cf(0x9f9)](_0x3c70d5);return{'differingPeaks':_0x355c12,'peaksMissingInRemote':_0x55f283,'peaksMissingInLocal':_0x1ae962};}async[_0x29fc43(0x860)](){const _0x3fcd44=_0x29fc43;this[_0x3fcd44(0x934)]=!0x0;const _0x536ddc=this[_0x3fcd44(0x947)][_0x3fcd44(0x170)](_0x5e744e=>_0x5e744e[_0x3fcd44(0x6e9)]);return this[_0x3fcd44(0xa9d)]=await this['hashPeakHashes'](_0x536ddc),this[_0x3fcd44(0x934)]=!0x1,this[_0x3fcd44(0x2c5)]=null,this[_0x3fcd44(0x8f4)](),this[_0x3fcd44(0xa9d)];}async['computeHash'](_0x37bfac){const _0x360859=_0x29fc43;try{const _0x481c96=new TextEncoder()['encode'](_0x37bfac),_0x1b1748=await crypto['subtle'][_0x360859(0x6ad)](_0x360859(0x8a9),_0x481c96);return Array[_0x360859(0x8f7)](new Uint8Array(_0x1b1748))['map'](_0x4b24dd=>_0x4b24dd[_0x360859(0x570)](0x10)[_0x360859(0x925)](0x2,'0'))[_0x360859(0x98d)]('');}catch(_0x456819){return console[_0x360859(0x3c9)](_0x360859(0x6f1),_0x456819),this[_0x360859(0x87a)](_0x37bfac);}}async[_0x29fc43(0x30f)](_0xbdfc86){const _0x3d70b2=_0x29fc43;return await this[_0x3d70b2(0x87a)](_0xbdfc86[_0x3d70b2(0x98d)](''));}async[_0x29fc43(0x8ea)](_0x49f34a){const _0x4f8044=_0x29fc43;for(;this[_0x4f8044(0x947)][_0x4f8044(0x4c5)]>0x0&&this['peaks'][this[_0x4f8044(0x947)][_0x4f8044(0x4c5)]-0x1][_0x4f8044(0x4b2)]===_0x49f34a[_0x4f8044(0x4b2)];){const _0x5b0680=this[_0x4f8044(0x947)][_0x4f8044(0x84c)]();_0x49f34a={'hash':await this['hashNodes'](_0x5b0680[_0x4f8044(0x6e9)],_0x49f34a[_0x4f8044(0x6e9)]),'left':_0x5b0680,'right':_0x49f34a,'height':_0x49f34a[_0x4f8044(0x4b2)]+0x1};}this[_0x4f8044(0x947)]['push'](_0x49f34a),await this[_0x4f8044(0x860)]();}['debounceAppendLog'](_0x53c3cc,_0x5a1872){const _0x3f11be=_0x29fc43;if(!_0xb63eee[_0x3f11be(0x520)](_0x30994c[_0x3f11be(0x844)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x3f11be(0x7e9)]);const _0x2af273=Date[_0x3f11be(0x653)]();this[_0x3f11be(0x7e9)]=setTimeout(()=>_0xb63eee['log'](_0x30994c[_0x3f11be(0x844)],_0x3f11be(0xa58),this['cachedRoot'],_0x3f11be(0x58c),this[_0x3f11be(0xa42)](),'queueLength',_0x5a1872,_0x3f11be(0x7c3),_0x2af273-_0x53c3cc),0x7d0);}[_0x29fc43(0x8f4)](){const _0x248d35=_0x29fc43;this[_0x248d35(0x4b6)]&&clearTimeout(this[_0x248d35(0x4b6)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x3410d9=_0x248d35;try{const _0x3fe3ef=this[_0x3410d9(0x96f)];if(this['readyPromises']=[],await Promise[_0x3410d9(0x252)](_0x3fe3ef),this['expectedTransactions']-=_0x3fe3ef[_0x3410d9(0x4c5)],this[_0x3410d9(0x96f)][_0x3410d9(0x4c5)]>0x0||this[_0x3410d9(0x514)]>0x0)return this[_0x3410d9(0x8f4)]();this[_0x3410d9(0x163)]&&(this[_0x3410d9(0x163)](),this[_0x3410d9(0x163)]=null),this[_0x3410d9(0x50e)]=Promise[_0x3410d9(0x4bf)](),this[_0x3410d9(0x934)]=!0x1;}catch(_0x310130){console[_0x3410d9(0x3c9)](_0x3410d9(0xa86),_0x310130);}},0xa);}}const _0x489598=['PeerConnection','Node','Content','Subscription','Stats',_0x29fc43(0x5b1),'Remediation'],_0x1811ff=[[_0x29fc43(0x472),_0x29fc43(0x496),_0x29fc43(0xb17),'Success',_0x29fc43(0x4f7),_0x29fc43(0x177),_0x29fc43(0x399),_0x29fc43(0x269),_0x29fc43(0x3ab)],[_0x29fc43(0x722),_0x29fc43(0x505),_0x29fc43(0x754),_0x29fc43(0x84e)],[_0x29fc43(0x677),'CloseJobDispatcher',_0x29fc43(0x7b9),_0x29fc43(0x285),_0x29fc43(0x887),'CloseMediaStream',_0x29fc43(0x6b0),_0x29fc43(0x893),'CloseVectorDatabase',_0x29fc43(0x34e),_0x29fc43(0x1a2),'GenerativeAIWorkerStats',_0x29fc43(0x9d8),_0x29fc43(0x70c),_0x29fc43(0x331),'KeyValueDatabaseRequestPeakTransactions',_0x29fc43(0x319),_0x29fc43(0x64a),_0x29fc43(0x712),'KeyValueDatabaseSyncRequired',_0x29fc43(0xad1),'ObjectStoreStats',_0x29fc43(0x300),_0x29fc43(0x5e6),_0x29fc43(0x6dc),_0x29fc43(0x49e),_0x29fc43(0xa82),'UnsubscribeMediaStream',_0x29fc43(0x233),_0x29fc43(0xa83)],[_0x29fc43(0x49e),_0x29fc43(0x233),'UnsubscribeMediaStreamdiaStream','CanProvideMediaStream',_0x29fc43(0x624),'MediaStreamUnavailable'],['StreamReport',_0x29fc43(0x34d)],[_0x29fc43(0x9fa)],[_0x29fc43(0xa8c),_0x29fc43(0x897)]];function _0x249ad9(_0x214f5b){const _0x44547c=_0x29fc43;return{..._0x214f5b,'systemMessageType':_0x489598[_0x214f5b[_0x44547c(0x30c)]],'systemContentMessageType':_0x1811ff[_0x214f5b[_0x44547c(0x30c)]][_0x214f5b['content'][_0x44547c(0xacf)]]};}const _0x12f847={'hour':'2-digit','minute':_0x29fc43(0x1c3),'second':_0x29fc43(0x1c3)};function _0x5dc160(_0x3c42b5,_0x2b95e8){const _0x5c619d=_0x29fc43,_0x46b4a2=(function(){const _0x2169cd=a0_0x424d,_0x364ef8=new Date(),_0x56d66c=_0x364ef8[_0x2169cd(0x2af)](),_0x79518a=_0x364ef8[_0x2169cd(0x815)](_0x2169cd(0xa53),_0x12f847)[_0x2169cd(0x256)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x79518a+'.'+(_0x56d66c>0x64?''+_0x56d66c:_0x56d66c>0xa?'0'+_0x56d66c:'00'+_0x56d66c);}()),{sourceId:_0x31dcd4,destinationIds:_0x5507fb,systemMessageType:_0x4ed3a4,systemContentMessageType:_0x3cae1d}=_0x249ad9(_0x3c42b5);return _0x46b4a2+'\x20-\x20'+_0x2b95e8+_0x5c619d(0x902)+(_0x31dcd4===_0x2b95e8?_0x5c619d(0x3ae)+_0x4ed3a4+'\x27\x20to\x20'+(_0x5507fb?''+_0x5507fb:'everyone'):_0x3c42b5['sourceId']===_0x491349?_0x5c619d(0x89e)+_0x4ed3a4+'\x27':(_0x5507fb?'':_0x5c619d(0x1c9))+'Receiving\x20\x27'+_0x4ed3a4+_0x5c619d(0x1be)+_0x31dcd4)+_0x5c619d(0x47c)+_0x3cae1d+_0x5c619d(0x79c);}function _0x487612(_0xf937e2,_0x5a6590){const _0x37357c=_0x29fc43;if(!_0xb63eee[_0x37357c(0x520)](_0xf937e2))return;if(_0x3dbf37[_0x37357c(0x54d)])return;if('undefined'==typeof process)return;const _0x530b58=process[_0x37357c(0x313)]();console[_0x37357c(0x195)](_0x37357c(0x37f)+_0x5a6590+':');for(const _0x3ae54f in _0x530b58)console[_0x37357c(0x195)]('\x20\x20'+_0x3ae54f+':\x20'+(_0x530b58[_0x3ae54f]/0x400/0x400)[_0x37357c(0xada)](0x2)+_0x37357c(0x52d));}function _0x3abf77(_0x5633e2,_0x25599a){const _0x2895a0=_0x29fc43;if(!_0xb63eee[_0x2895a0(0x520)](_0x25599a))return _0xb63eee[_0x2895a0(0xa50)](_0x2895a0(0x608)+_0x25599a),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x54c3c2,_0x286732)=>_0x286732}};let _0x1d6797=0x0;return{'timingLogger':((()=>{const _0x334920=_0x2895a0;let _0x31c8bb=Date[_0x334920(0x653)]();return{'start':()=>{_0x31c8bb=Date['now']();},'now':()=>Date[_0x334920(0x653)](),'logWaitTime':_0x3daac9=>{const _0x3918a5=_0x334920;_0x1d6797+=Date[_0x3918a5(0x653)]()-_0x31c8bb,_0xb63eee[_0x3918a5(0x195)](_0x25599a,_0x3daac9,_0x1d6797+'ms',_0x5633e2);}};})()),'logger':{'log':(_0x35c8a5,_0x3bd84e=()=>{})=>{const _0x5dd232=_0x2895a0,_0x906ea8=_0x3bd84e();_0x906ea8?_0xb63eee[_0x5dd232(0x195)](_0x25599a,_0x35c8a5,_0x906ea8,_0x5633e2):_0xb63eee[_0x5dd232(0x195)](_0x25599a,_0x35c8a5,_0x5633e2);},'performCalculation':(_0x22604b,_0x5ec3b1)=>_0x22604b()}};}function _0x3e5f4c(_0x2a2e49){const _0x654bd2=_0x29fc43;return _0x654bd2(0x9f4)==typeof Buffer?0x0:Buffer[_0x654bd2(0x13e)](JSON['stringify'](_0x2a2e49),_0x654bd2(0xa22));}function _0x58f5d1(_0x2cde54){const _0x13899c=_0x29fc43;if(0x0===_0x2cde54)return _0x13899c(0xa7a);const _0xa2b459=Math[_0x13899c(0x74e)](Math[_0x13899c(0x195)](_0x2cde54)/Math[_0x13899c(0x195)](0x400));return parseFloat((_0x2cde54/Math[_0x13899c(0xa55)](0x400,_0xa2b459))[_0x13899c(0xada)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0xa2b459];}class _0x484610 extends _0x2b6b11{['localNode'];[_0x29fc43(0x93b)];[_0x29fc43(0x117)];[_0x29fc43(0x2b4)];['db'];['dbKey'];['tables']=new Map();[_0x29fc43(0xb15)];['transactionTable'];[_0x29fc43(0x244)];['isSync'];[_0x29fc43(0x136)];['transactionsToSync']=[];[_0x29fc43(0x262)]=()=>{};[_0x29fc43(0x50f)];[_0x29fc43(0x448)]=_0x287e1a();[_0x29fc43(0x26f)];[_0x29fc43(0x1d1)]=[];[_0x29fc43(0x92c)];[_0x29fc43(0x366)];[_0x29fc43(0xac7)]=0x0;[_0x29fc43(0x878)]=0x0;[_0x29fc43(0x6bb)]=!0x1;[_0x29fc43(0x5cf)]=new _0x31816d();[_0x29fc43(0x521)]=new Map();[_0x29fc43(0x405)]=[];[_0x29fc43(0x2a4)];[_0x29fc43(0x4a5)]=[];[_0x29fc43(0x78a)];constructor(_0x5b841b,_0x8a595f,_0x3ae742,_0x96a111,_0x79d4e9,_0x43ae5b,_0x21f693){const _0x65e8fd=_0x29fc43;if(_0x65e8fd(0x89c)!=typeof _0x8a595f)throw new _0x27674c(_0x3d6c7a[_0x65e8fd(0x517)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x5b841b,_0x8a595f),this[_0x65e8fd(0xa8a)]=_0x5b841b,this[_0x65e8fd(0x93b)]=_0x3ae742,this[_0x65e8fd(0x117)]=_0x96a111,this[_0x65e8fd(0x2b4)]=_0x21f693,this[_0x65e8fd(0x9f1)]=_0x65e8fd(0x922)+this[_0x65e8fd(0x117)]+_0x65e8fd(0x922)+this[_0x65e8fd(0x93b)]+'ccc'+this['label'],this[_0x65e8fd(0xb15)]=_0x287e1a(),this[_0x65e8fd(0x78a)]=function(_0x1ac698,_0x27098b){const _0x1b41e3=_0x65e8fd;if(!_0xb63eee[_0x1b41e3(0x520)](_0x27098b))return _0xb63eee['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x27098b),{..._0x3abf77(_0x1ac698,_0x27098b),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x1b41e3(0xa7a),'dataReceived':_0x1b41e3(0xa7a)})};const {timingLogger:_0x87ccef,logger:_0x20eef6}=_0x3abf77(_0x1ac698,_0x27098b);let _0x4d106f=0x0,_0x1cd09a=0x0;return{'timingLogger':_0x87ccef,'logger':_0x20eef6,'logDataSent':(_0xbbe4e5,_0x3cc230=!0x1)=>{const _0x4a5bb9=_0x1b41e3,_0x18e5ef=_0x3e5f4c(_0xbbe4e5);return _0x3cc230&&_0xb63eee[_0x4a5bb9(0x195)](_0x27098b,_0x4a5bb9(0xa7e),_0x1ac698,_0x18e5ef),_0x4d106f+=_0x18e5ef,_0x18e5ef;},'logDataReceived':(_0x5051b1,_0x477139=!0x1)=>{const _0x22bede=_0x3e5f4c(_0x5051b1);return _0x477139&&_0xb63eee['log'](_0x27098b,'Data\x20Received',_0x1ac698,_0x22bede),_0x1cd09a+=_0x22bede,_0x22bede;},'getDataLogged':()=>({'dataSent':_0x58f5d1(_0x4d106f),'dataReceived':_0x58f5d1(_0x1cd09a)})};}(this['label'],_0x30994c['KeyValueDatabase']),this[_0x65e8fd(0x42d)]=new Promise(_0x21f5e3=>{const _0x509b23=_0x65e8fd;this[_0x509b23(0x136)]=_0x21f5e3;}),_0x79d4e9 instanceof _0x1f7b69)this[_0x65e8fd(0x92c)]=_0x79d4e9['getLayout']();else{const [_0x3d7a15,_0x1f223f]=_0x1f7b69[_0x65e8fd(0x123)](_0x79d4e9);if(!_0x3d7a15)throw new _0x27674c(_0x3d6c7a[_0x65e8fd(0x66c)],_0x65e8fd(0xa4f)+_0x1f223f);this[_0x65e8fd(0x92c)]=structuredClone(_0x79d4e9);}this[_0x65e8fd(0x2ca)](this[_0x65e8fd(0x92c)]),this['db']=new _0x43ae5b(this['dbKey'],this[_0x65e8fd(0x92c)]),this[_0x65e8fd(0xb14)]();}async[_0x29fc43(0x419)](_0x59d9ba,_0x2aaa39){const _0x10741e=_0x29fc43;if(_0xb63eee['log'](_0x30994c[_0x10741e(0x844)],_0x10741e(0x717),this[_0x10741e(0x12a)]),!this[_0x10741e(0x46e)])throw new _0x3335bf(_0x3335bf[_0x10741e(0x4ee)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this['isSync'],await this[_0x10741e(0x2b4)](_0x59d9ba),await this[_0x10741e(0x5cf)]['getRoot']()===_0x2aaa39){const _0x14c177={'sourceId':this[_0x10741e(0xa8a)][_0x10741e(0x994)](),'destinationIds':[_0x59d9ba],'propagate':!0x0,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388[_0x10741e(0x331)],'label':this['label'],'mmrRoot':_0x2aaa39}};return this[_0x10741e(0x78a)][_0x10741e(0x6c9)](_0x14c177),void this[_0x10741e(0x3aa)][_0x10741e(0x289)](_0x14c177);}const _0x1b7ddf=this[_0x10741e(0x5cf)]['getPeaks'](),_0x104477={'sourceId':this[_0x10741e(0xa8a)][_0x10741e(0x994)](),'destinationIds':[_0x59d9ba],'propagate':!0x0,'messageType':_0x158cb7[_0x10741e(0x9aa)],'content':{'type':_0x49b388['KeyValueDatabaseContentAvailable'],'label':this[_0x10741e(0x12a)],'peaks':_0x1b7ddf}};this['loggingCycle'][_0x10741e(0x6c9)](_0x104477),this['systemTopic'][_0x10741e(0x289)](_0x104477);}async['processContentSynchronized'](_0x25cff5,_0x581af7){const _0xa0efd1=_0x29fc43,_0x56f913=await this[_0xa0efd1(0x5cf)][_0xa0efd1(0x124)](),_0x2bc90a=_0x56f913===_0x581af7;if(_0xb63eee['log'](_0x30994c['KeyValueDatabase'],_0xa0efd1(0x525)+_0x25cff5+_0xa0efd1(0x943)+_0x2bc90a,this['label']),_0x2bc90a)return this[_0xa0efd1(0x98e)](),void this[_0xa0efd1(0x1de)]();_0xb63eee[_0xa0efd1(0x195)](_0x30994c[_0xa0efd1(0x844)],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x56f913,_0x581af7),_0xb63eee[_0xa0efd1(0x55c)](_0xa0efd1(0xb11),{'nodeId':this[_0xa0efd1(0xa8a)][_0xa0efd1(0x994)](),'nodeType':this['localNode'][_0xa0efd1(0xacf)],'remoteId':_0x25cff5,'data':{'localMMRRoot':_0x56f913,'remoteMMRRoot':_0x581af7}});const _0x46fbb2={'sourceId':this[_0xa0efd1(0xa8a)][_0xa0efd1(0x994)](),'messageType':_0x158cb7[_0xa0efd1(0x9aa)],'propagate':!0x0,'content':{'type':_0x49b388['KeyValueDatabaseSyncRequired'],'label':this['label'],'mmrRoot':_0x56f913}};this[_0xa0efd1(0x3aa)]['publish'](_0x46fbb2);}async[_0x29fc43(0x621)](_0x33e466,_0x464815){const _0x5e17c8=_0x29fc43;if(_0xb63eee[_0x5e17c8(0x195)](_0x30994c[_0x5e17c8(0x844)],'Received\x20content\x20available\x20from\x20node',_0x33e466,_0x5e17c8(0x12a),this[_0x5e17c8(0x12a)],_0x5e17c8(0x947),_0x464815),this[_0x5e17c8(0x6bb)])return;this[_0x5e17c8(0x6bb)]=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x3f048c,peaksMissingInLocal:_0x374d95,peaksMissingInRemote:_0x20c24d}=this[_0x5e17c8(0x5cf)][_0x5e17c8(0x1ce)](_0x464815);_0xb63eee[_0x5e17c8(0x195)](_0x30994c[_0x5e17c8(0x844)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0x3f048c,'peaksMissingInLocal':_0x374d95,'peaksMissingInRemote':_0x20c24d});const _0x2affd1={'sourceId':this['localNode'][_0x5e17c8(0x994)](),'destinationIds':[_0x33e466],'propagate':!0x0,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388[_0x5e17c8(0x890)],'label':this[_0x5e17c8(0x12a)],'peakHeights':_0x374d95[_0x5e17c8(0x170)](_0x3af59a=>_0x3af59a[_0x5e17c8(0x4b2)])[_0x5e17c8(0x759)](_0x3f048c[_0x5e17c8(0x170)](_0x40af84=>_0x40af84['height']))}};if(this['systemTopic'][_0x5e17c8(0x289)](_0x2affd1),_0x3f048c[_0x5e17c8(0x4c5)]>0x0||_0x20c24d[_0x5e17c8(0x4c5)]>0x0){const _0x383287=_0x20c24d[_0x5e17c8(0x170)](_0x28c5c5=>_0x28c5c5[_0x5e17c8(0x4b2)])[_0x5e17c8(0x759)](_0x3f048c[_0x5e17c8(0x170)](_0x2db27d=>_0x2db27d['height']));await this[_0x5e17c8(0x574)](_0x33e466,_0x383287,!0x0);}}async[_0x29fc43(0x574)](_0x5ee325,_0x50c56f,_0x42f335=!0x1){const _0x65cb9f=_0x29fc43;_0xb63eee[_0x65cb9f(0x195)](_0x30994c[_0x65cb9f(0x844)],'Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.',this[_0x65cb9f(0x12a)]);const _0x3f01ed=_0x50c56f[_0x65cb9f(0x170)](_0x143d5e=>this[_0x65cb9f(0x5cf)][_0x65cb9f(0x5a4)](_0x143d5e))[_0x65cb9f(0x81c)](Boolean);if(!_0x3f01ed['length']||_0x50c56f[_0x65cb9f(0x4c5)]!==_0x3f01ed['length'])throw new _0x3335bf(_0x3335bf[_0x65cb9f(0x4ee)][_0x65cb9f(0x8e8)],{'message':_0x65cb9f(0x7a8),'peakHeights':_0x50c56f,'peaks':_0x3f01ed[_0x65cb9f(0x170)](_0x27c9a9=>_0x27c9a9['height']),'nodeId':_0x5ee325});const _0x2067c8=[];for(const _0x3a2944 of _0x3f01ed)this[_0x65cb9f(0x4bd)](_0x3a2944,_0x2067c8);const _0x3cbbbf=_0x42f335?void 0x0:[_0x5ee325],_0x23588c={'sourceId':this['localNode'][_0x65cb9f(0x994)](),'destinationIds':_0x3cbbbf,'messageType':_0x158cb7[_0x65cb9f(0x9aa)],'propagate':!0x0,'content':{'type':_0x49b388[_0x65cb9f(0x64a)],'label':this[_0x65cb9f(0x12a)],'transactions':_0x2067c8}};this[_0x65cb9f(0x78a)][_0x65cb9f(0x6c9)](_0x23588c),this[_0x65cb9f(0x3aa)]['publish'](_0x23588c);}async[_0x29fc43(0x435)](_0x41df27,_0x3ab32e){const _0x7d1814=_0x29fc43;_0xb63eee[_0x7d1814(0x195)](_0x30994c['KeyValueDatabase'],_0x7d1814(0x7aa)+_0x3ab32e[_0x7d1814(0x4c5)]+'\x20transactions\x20from\x20node\x20'+_0x41df27+_0x7d1814(0x902)+this[_0x7d1814(0x12a)]);for(const _0x76f4c6 of _0x3ab32e){const _0x5af3fd=await this['transactionTable'][_0x7d1814(0x2a2)](_0x76f4c6['id']);if(!(_0x5af3fd&&this[_0x7d1814(0x834)](_0x5af3fd,_0x76f4c6)>=0x0)){if(_0x76f4c6[_0x7d1814(0x47e)]===_0x22c0e8[_0x7d1814(0x55d)]){const [_0x1a6560,_0x39e26b]=_0x76f4c6['id']['split']('::'),_0x811383=this[_0x7d1814(0x309)](_0x1a6560);await _0x811383[_0x7d1814(0x5ef)](_0x39e26b);}else this['transactionsToSync'][_0x7d1814(0x9f9)](_0x76f4c6['id']);}}if(_0xb63eee[_0x7d1814(0x195)](_0x30994c[_0x7d1814(0x844)],_0x7d1814(0x5c6)+this[_0x7d1814(0x3e7)][_0x7d1814(0x4c5)]+_0x7d1814(0x3cc),this['label']),this[_0x7d1814(0x3e7)]['length']>0x0){const _0x4c8b67={'sourceId':this[_0x7d1814(0xa8a)]['getId'](),'destinationIds':[_0x41df27],'messageType':_0x158cb7[_0x7d1814(0x9aa)],'propagate':!0x0,'content':{'type':_0x49b388['KeyValueDatabaseRequestTransactionsValue'],'label':this['label'],'transactionIds':this['transactionsToSync']}};this['loggingCycle'][_0x7d1814(0x6c9)](_0x4c8b67),this[_0x7d1814(0x3aa)][_0x7d1814(0x289)](_0x4c8b67);}}[_0x29fc43(0x94c)](){const _0x412953=_0x29fc43;this[_0x412953(0xb14)]();}['getContentType'](){const _0x1b2e50=_0x29fc43;return _0x47b47a[_0x1b2e50(0x43d)]['KeyValueDatabase'];}['destroy'](){const _0x23cc29=_0x29fc43;this['db'][_0x23cc29(0xb1b)](),this[_0x23cc29(0x244)]?.(),clearTimeout(this[_0x23cc29(0x366)]),delete this[_0x23cc29(0x366)],super[_0x23cc29(0x13b)]();}[_0x29fc43(0xb1b)](){const _0x2fae55=_0x29fc43;this['clearSyncTimeout'](),this['systemTopic']['publish']({'sourceId':_0x491349,'messageType':_0x158cb7[_0x2fae55(0x9aa)],'content':{'type':_0x49b388[_0x2fae55(0x887)],'label':this[_0x2fae55(0x12a)]}});}[_0x29fc43(0x309)](_0x52340b){const _0x3bc6ec=_0x29fc43,_0x56fc9c=this[_0x3bc6ec(0x842)][_0x3bc6ec(0x2a2)](_0x52340b);if(_0x56fc9c)return _0x56fc9c;try{if(!this['db'][_0x3bc6ec(0xa35)](_0x52340b))throw new _0x27674c(_0x3d6c7a[_0x3bc6ec(0x5b5)],_0x3bc6ec(0x3b6));const _0x27737b=new _0x562f48(this['db']['getTableConnector'](_0x52340b),_0x52340b,this['tableObserver']);return this[_0x3bc6ec(0x842)][_0x3bc6ec(0x355)](_0x52340b,_0x27737b),{'get':_0x27737b[_0x3bc6ec(0x2a2)][_0x3bc6ec(0x699)](_0x27737b),'set':_0x27737b['set'][_0x3bc6ec(0x699)](_0x27737b),'add':_0x27737b[_0x3bc6ec(0x5ec)][_0x3bc6ec(0x699)](_0x27737b),'delete':_0x27737b[_0x3bc6ec(0x5ef)][_0x3bc6ec(0x699)](_0x27737b),'clear':_0x27737b[_0x3bc6ec(0x985)]['bind'](_0x27737b),'list':_0x27737b[_0x3bc6ec(0x536)][_0x3bc6ec(0x699)](_0x27737b),'count':_0x27737b[_0x3bc6ec(0x53d)][_0x3bc6ec(0x699)](_0x27737b),'subscribe':_0x27737b[_0x3bc6ec(0x75e)]['bind'](_0x27737b),'unsubscribe':_0x27737b[_0x3bc6ec(0x515)][_0x3bc6ec(0x699)](_0x27737b)};}catch(_0x5688fe){if(_0x5688fe instanceof _0x27674c)throw _0x5688fe;throw new _0x27674c(_0x3d6c7a[_0x3bc6ec(0x937)],_0x3bc6ec(0xa27));}}[_0x29fc43(0x75e)](_0xca26b){const _0x4158b4=_0x29fc43;this['listenerUnsubscriber']=this[_0x4158b4(0x448)][_0x4158b4(0x75e)](_0xca26b),this[_0x4158b4(0x723)](this['isSync'])[_0x4158b4(0x39f)](_0x3b98a3=>{const _0x1757eb=_0x4158b4;_0x3b98a3&&this['eventListener'][_0x1757eb(0x289)]({'event':_0x47b47a['DatabaseEvent'][_0x1757eb(0x281)]});});}[_0x29fc43(0x515)](){const _0x22f2a4=_0x29fc43;this[_0x22f2a4(0x26f)]?.(),this[_0x22f2a4(0x26f)]=void 0x0;}async[_0x29fc43(0x98b)](){const _0x3d8992=_0x29fc43;_0x487612(_0x30994c[_0x3d8992(0x844)],_0x3d8992(0x93d));const _0x3401e6=[_0x1ed065,_0x532020],_0x39161c=[];try{await this['db'][_0x3d8992(0x98b)]();const _0x322499=this['db'][_0x3d8992(0x2ba)](_0x532020),_0x47933d=await _0x322499[_0x3d8992(0x536)](),{id:_0x216a89,layout:_0x3bb763}=_0x47933d[0x0]??{};if(_0x3bb763){for(const _0x51c7ac in _0x3bb763)_0x3401e6['includes'](_0x51c7ac)||this['db']['hasTable'](_0x51c7ac)||_0x39161c['push'](_0x51c7ac);await _0x322499[_0x3d8992(0x355)](_0x216a89,{'layout':this[_0x3d8992(0x92c)]});}else await _0x322499['add']({'layout':this['layout']});}catch(_0x229add){throw new _0x27674c(_0x3d6c7a[_0x3d8992(0x937)],_0x229add[_0x3d8992(0x356)]||_0x3d8992(0x2b2));}this[_0x3d8992(0x970)](),await this[_0x3d8992(0x5e5)](),this[_0x3d8992(0x2cb)](),this[_0x3d8992(0x1a8)](),_0x39161c[_0x3d8992(0x7f9)](_0x5ac0fa=>this[_0x3d8992(0x3da)](_0x5ac0fa));}async[_0x29fc43(0xb1e)](_0x2a745f,_0x4c6ef1=()=>{},_0x1633ba=!0x1){const _0x497bd7=_0x29fc43;if(!_0x2a745f)return setTimeout(()=>{const _0x5b9582=a0_0x424d;this[_0x5b9582(0x98e)](),this[_0x5b9582(0x1de)]();},0x0),!0x0;if(this[_0x497bd7(0x6bb)]=!0x1,this[_0x497bd7(0x262)]=_0x4c6ef1,this[_0x497bd7(0x50f)]=setTimeout(_0x4c6ef1,0x7d0),!this['systemTopic'])throw new _0x3335bf(_0x3335bf[_0x497bd7(0x4ee)][_0x497bd7(0x7e3)]);const _0x2c8142=await this[_0x497bd7(0x5cf)][_0x497bd7(0x124)](),_0x2cc00c={'sourceId':this[_0x497bd7(0xa8a)][_0x497bd7(0x994)](),'messageType':_0x158cb7[_0x497bd7(0x9aa)],'propagate':_0x1633ba,'content':{'type':_0x49b388[_0x497bd7(0x8ce)],'label':this['label'],'mmrRoot':_0x2c8142}};return this[_0x497bd7(0x78a)]['logDataSent'](_0x2cc00c),this['systemTopic']['publish'](_0x2cc00c),this['isSync'];}async[_0x29fc43(0x824)](_0x56de86,_0x3f3043){const _0x1f4489=_0x29fc43;if(_0xb63eee[_0x1f4489(0x195)](_0x30994c['KeyValueDatabase'],_0x1f4489(0x7b7)+_0x3f3043[_0x1f4489(0x4c5)],this['label']),!this[_0x1f4489(0x46e)])throw new _0x3335bf(_0x3335bf[_0x1f4489(0x4ee)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x4f8a6 of _0x3f3043){const _0x5e24d8=await this['transactionTable'][_0x1f4489(0x2a2)](_0x4f8a6);if(!_0x5e24d8)continue;const [_0x4cbc22,_0x439ccb]=_0x4f8a6['split']('::'),_0x4313a0=this[_0x1f4489(0x309)](_0x4cbc22),_0x8f781f=await _0x4313a0[_0x1f4489(0x2a2)](_0x439ccb);_0x8f781f?(_0x5e24d8[_0x1f4489(0x2a7)]=_0x8f781f,this[_0x1f4489(0xae4)](_0x5e24d8,[_0x56de86])):_0xb63eee[_0x1f4489(0x55c)]('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this[_0x1f4489(0xa8a)][_0x1f4489(0x994)](),'nodeType':this[_0x1f4489(0xa8a)]['type'],'remoteId':_0x56de86,'data':{'tableKeys':Object['keys'](this['tables']),'transactionId':_0x4f8a6,'transactions':this[_0x1f4489(0x3e7)],'tableName':_0x4cbc22,'key':_0x439ccb}});}}async[_0x29fc43(0x49a)](_0x33bebb){const _0x39baaa=_0x29fc43;if(!this[_0x39baaa(0x46e)])throw new _0x3335bf(_0x3335bf[_0x39baaa(0x4ee)][_0x39baaa(0x5be)]);const _0x1d28db=await this['mmr']['hashTransaction'](_0x33bebb),_0x5ee416=this[_0x39baaa(0x521)][_0x39baaa(0x2a2)](_0x1d28db);if(_0x5ee416&&this[_0x39baaa(0x834)](_0x33bebb,_0x5ee416)<=0x0)return void _0xb63eee[_0x39baaa(0x195)](_0x30994c[_0x39baaa(0x844)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x33bebb);const _0x59ee39={..._0x33bebb};return delete _0x59ee39[_0x39baaa(0x2a7)],this['debounceRebuildMMRWithTransaction'](_0x59ee39),await this[_0x39baaa(0x46e)][_0x39baaa(0x355)](_0x33bebb['id'],_0x59ee39),_0x33bebb;}[_0x29fc43(0x834)](_0x101c4f,_0x502cc6){const _0x213ea0=_0x29fc43;return _0x101c4f['timestamp']!==_0x502cc6[_0x213ea0(0x50b)]?_0x101c4f[_0x213ea0(0x50b)]-_0x502cc6[_0x213ea0(0x50b)]:_0x101c4f[_0x213ea0(0x572)]-_0x502cc6[_0x213ea0(0x572)];}async['getTransactionFromTableWriteEvent'](_0x13a8a7){const _0x13d4d9=_0x29fc43;if(!this[_0x13d4d9(0x46e)])throw new _0x3335bf(_0x3335bf['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x508792=_0x13a8a7[_0x13d4d9(0x450)]+'::'+_0x13a8a7[_0x13d4d9(0x470)],_0x50dd22=await _0x9824f6[_0x13d4d9(0x224)](),_0xa5b401={'id':_0x508792,'priority':Math[_0x13d4d9(0x41a)](),'timestamp':_0x50dd22,'action':_0x13a8a7['action']};if(await this[_0x13d4d9(0x49a)](_0xa5b401))return _0xa5b401;}async['deleteTransactionsForTable'](_0xb379af){const _0x579d40=_0x29fc43;if(!this[_0x579d40(0x46e)])throw new _0x3335bf(_0x3335bf[_0x579d40(0x4ee)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x111a50=_0x476b4a[_0x579d40(0x378)]('id')['where'](_0x579d40(0xa84),[_0xb379af+'::',_0xb379af+'::￿']),_0x3bc0eb=await this[_0x579d40(0x46e)]['list'](_0x111a50[_0x579d40(0xa74)]());for(const _0x46a993 of _0x3bc0eb)await this['transactionTable']['delete'](_0x46a993['id']);}[_0x29fc43(0x2cb)](){const _0x502ba9=_0x29fc43;this[_0x502ba9(0x6b5)](async(_0x99bf7,_0x1b8fab)=>{const _0x1a873c=_0x502ba9;if(_0x1b8fab instanceof File)return;if(this[_0x1a873c(0x78a)]['logDataReceived'](_0x1b8fab),!await this[_0x1a873c(0x49a)](_0x1b8fab))return void this[_0x1a873c(0x66b)](_0x99bf7,_0x1b8fab);if(!_0x1b8fab['value'])throw new _0x3335bf(_0x3335bf['codes']['KeyValueDatabaseTransactionValueNotSet']);const [_0xdd4dd7,_0x3c5081]=_0x1b8fab['id'][_0x1a873c(0x388)]('::'),_0x39c92d=this[_0x1a873c(0x309)](_0xdd4dd7);if(!_0x39c92d)throw new _0x3335bf(_0x3335bf[_0x1a873c(0x4ee)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x39c92d});let _0x434317=0x0;switch(_0x1b8fab[_0x1a873c(0x47e)]){case _0x22c0e8['Add']:case _0x22c0e8[_0x1a873c(0x71d)]:{const _0xfbf8=_0x39c92d[_0x1a873c(0x355)](_0x3c5081,_0x1b8fab[_0x1a873c(0x2a7)],!0x1);_0x434317=JSON[_0x1a873c(0x9a0)](_0x1b8fab[_0x1a873c(0x2a7)])[_0x1a873c(0x4c5)],this['transactionsToSync'][_0x1a873c(0x3a7)](_0x1b8fab['id'])&&this['syncTransactionsWritten']['push'](_0xfbf8);break;}case _0x22c0e8['Delete']:{const _0x39b59b=_0x39c92d[_0x1a873c(0x5ef)](_0x3c5081,!0x1);this[_0x1a873c(0x3e7)][_0x1a873c(0x3a7)](_0x1b8fab['id'])&&this[_0x1a873c(0x1d1)][_0x1a873c(0x9f9)](_0x39b59b);break;}}_0xb63eee[_0x1a873c(0x110)](_0x127a0b[_0x1a873c(0x844)],{'type':_0x1a873c(0xb1e),'label':this[_0x1a873c(0x12a)],'nodeId':this[_0x1a873c(0xa8a)][_0x1a873c(0x994)](),'nodeType':this[_0x1a873c(0xa8a)][_0x1a873c(0xacf)],'clusterId':this[_0x1a873c(0x93b)],'tableName':_0xdd4dd7,'key':_0x3c5081,'size':_0x434317}),this['checkSyncComplete'](_0x99bf7,_0x1b8fab);});}[_0x29fc43(0x1a8)](){const _0x4ed537=_0x29fc43;this[_0x4ed537(0x244)]=this[_0x4ed537(0xb15)][_0x4ed537(0x75e)](async _0x546143=>{const _0x7443ae=_0x4ed537;let _0x339887=0x0;switch(_0x546143[_0x7443ae(0x47e)]){case _0x22c0e8[_0x7443ae(0x57e)]:case _0x22c0e8[_0x7443ae(0x71d)]:case _0x22c0e8[_0x7443ae(0x55d)]:{const _0x573289=await this['getTransactionFromTableWriteEvent'](_0x546143);if(!_0x573289)return;_0x573289[_0x7443ae(0x2a7)]=_0x546143[_0x7443ae(0x2a7)],this[_0x7443ae(0xae4)](_0x573289),_0x339887=JSON[_0x7443ae(0x9a0)](_0x546143['value'])[_0x7443ae(0x4c5)],this[_0x7443ae(0xac7)]+=0x1;break;}case _0x20d5ea['Get']:case _0x20d5ea['List']:case _0x20d5ea[_0x7443ae(0x6d4)]:this['reads']+=0x1;}_0xb63eee[_0x7443ae(0x110)](_0x127a0b[_0x7443ae(0x844)],{'type':_0x546143[_0x7443ae(0x47e)],'label':this[_0x7443ae(0x12a)],'nodeId':this[_0x7443ae(0xa8a)]['getId'](),'nodeType':this[_0x7443ae(0xa8a)][_0x7443ae(0xacf)],'clusterId':this['clusterId'],'tableName':_0x546143[_0x7443ae(0x450)],'key':_0x546143[_0x7443ae(0x470)],'size':_0x339887}),this[_0x7443ae(0xb14)]();});}[_0x29fc43(0x970)](){const _0x474746=_0x29fc43;this['db']&&(this[_0x474746(0x46e)]||(this[_0x474746(0x46e)]=this['db'][_0x474746(0x2ba)](_0x1ed065)));}[_0x29fc43(0x98e)](){const _0x88baa2=_0x29fc43;this[_0x88baa2(0x50f)]&&(clearTimeout(this[_0x88baa2(0x50f)]),delete this[_0x88baa2(0x50f)]);}async[_0x29fc43(0x1de)](){const _0x3ebc94=_0x29fc43;await this['mmr'][_0x3ebc94(0x90d)],this[_0x3ebc94(0x82b)](),this[_0x3ebc94(0x448)]['publish']({'event':_0x47b47a['DatabaseEvent']['SyncComplete']}),this[_0x3ebc94(0x136)]?.(!0x0),delete this[_0x3ebc94(0x136)],this['sendStats'](),_0xb63eee[_0x3ebc94(0x195)](_0x30994c[_0x3ebc94(0x844)],_0x3ebc94(0xadd),this['label']);}async[_0x29fc43(0x61c)](_0x32260a){const _0xc18a61=_0x29fc43;await Promise[_0xc18a61(0x252)](this[_0xc18a61(0x1d1)]),_0xb63eee[_0xc18a61(0x195)](_0x30994c[_0xc18a61(0x844)],_0xc18a61(0x3e6)+this[_0xc18a61(0x1d1)][_0xc18a61(0x4c5)]+_0xc18a61(0x317)+_0x32260a+'\x20completed.',this['label']),await this['mmr'][_0xc18a61(0x90d)],await this[_0xc18a61(0x978)](_0x32260a),await this['publishSyncCompleted']();}[_0x29fc43(0x66b)](_0x3211f9,_0x4a8307){const _0x1bcfaa=_0x29fc43;this[_0x1bcfaa(0x3e7)][_0x1bcfaa(0x3a7)](_0x4a8307['id'])&&(this[_0x1bcfaa(0x98e)](),this['transactionsToSync']=this[_0x1bcfaa(0x3e7)][_0x1bcfaa(0x81c)](_0x2336d0=>_0x2336d0!==_0x4a8307['id']),0x0!==this[_0x1bcfaa(0x3e7)][_0x1bcfaa(0x4c5)]?this['syncTimeout']=setTimeout(this[_0x1bcfaa(0x262)],0x7d0):this['publishSyncCompletedAfterWrites'](_0x3211f9));}['sendStats'](){const _0x2147d6=_0x29fc43;this[_0x2147d6(0x366)]&&clearTimeout(this[_0x2147d6(0x366)]),this['debounceStats']=setTimeout(async()=>{const _0x1cac19=_0x2147d6;delete this[_0x1cac19(0x366)];let _0x3f533f=0x0;for(const _0x493c86 of this[_0x1cac19(0x842)][_0x1cac19(0x347)]())_0x3f533f+=await _0x493c86[_0x1cac19(0x171)]();this[_0x1cac19(0x3aa)][_0x1cac19(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x1cac19(0x9aa)],'content':{'type':_0x49b388['KeyValueDatabaseStats'],'label':this[_0x1cac19(0x12a)],'stats':{'timestamp':Date[_0x1cac19(0x653)](),'storage':_0x3f533f,'messagesSent':this[_0x1cac19(0x5e8)],'messagesReceived':this[_0x1cac19(0x3fe)],'bytesSent':this[_0x1cac19(0x656)],'bytesReceived':this[_0x1cac19(0x326)],'writes':this[_0x1cac19(0xac7)],'reads':this[_0x1cac19(0x878)],'prompts':0x0,'tokens':0x0}}}),_0xb63eee[_0x1cac19(0x64d)](_0x127a0b[_0x1cac19(0x844)],_0x1cac19(0x922)+this[_0x1cac19(0x93b)]+_0x1cac19(0x922)+this[_0x1cac19(0x12a)],_0x3f533f);},_0x5e5c9a);}[_0x29fc43(0x2ca)](_0x55adeb){const _0x4ae7f6=_0x29fc43;if(_0x55adeb[_0x4ae7f6(0x842)][_0x1ed065])throw new _0x27674c(_0x3d6c7a['KeyValueDatabaseTableNameReserved'],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x1ed065+'\x27\x20reserved');if(_0x55adeb[_0x4ae7f6(0x842)][_0x532020])throw new _0x27674c(_0x3d6c7a['KeyValueDatabaseTableNameReserved'],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x532020+'\x27\x20reserved');_0x55adeb[_0x4ae7f6(0x842)][_0x1ed065]={'indexes':[]},_0x55adeb[_0x4ae7f6(0x842)][_0x532020]={'indexes':[]};}async[_0x29fc43(0x723)](_0xd458e5){const _0x314a29=_0x29fc43;return Promise[_0x314a29(0x670)]([_0xd458e5,Promise[_0x314a29(0x4bf)](_0x314a29(0x454))])[_0x314a29(0x39f)](_0x287df6=>_0x314a29(0x454)!==_0x287df6);}async[_0x29fc43(0x978)](_0x5433d2){const _0x115b15=_0x29fc43;await this[_0x115b15(0x185)]();const _0x37fde6=await this['mmr'][_0x115b15(0x124)](),_0x1133f1={'sourceId':this[_0x115b15(0xa8a)]['getId'](),'destinationIds':[_0x5433d2],'propagate':!0x0,'messageType':_0x158cb7[_0x115b15(0x9aa)],'content':{'type':_0x49b388[_0x115b15(0x331)],'label':this['label'],'mmrRoot':_0x37fde6}};this['systemTopic'][_0x115b15(0x289)](_0x1133f1);}async[_0x29fc43(0x5e5)](){const _0x48a40a=_0x29fc43;if(!this[_0x48a40a(0x46e)])throw new _0x3335bf(_0x3335bf[_0x48a40a(0x4ee)][_0x48a40a(0x5be)]);this[_0x48a40a(0x405)]=await this[_0x48a40a(0x46e)][_0x48a40a(0x536)](),this['transactions']['sort'](this[_0x48a40a(0x834)]),this[_0x48a40a(0x5cf)]=new _0x31816d(),this['transactionHashMap']=new Map();for(const _0x44cd04 of this[_0x48a40a(0x405)])this[_0x48a40a(0x4ba)](_0x44cd04,this[_0x48a40a(0x405)]['length']);this[_0x48a40a(0x383)]();}async[_0x29fc43(0x4ba)](_0x25241d,_0x502cbc){const _0x13d02e=_0x29fc43,_0x338a6b={..._0x25241d};delete _0x338a6b[_0x13d02e(0x2a7)],await this['mmr']['appendTransaction'](_0x338a6b,_0x502cbc);const _0x12f44d=await this[_0x13d02e(0x5cf)][_0x13d02e(0x8d0)](_0x338a6b);this[_0x13d02e(0x521)][_0x13d02e(0x355)](_0x12f44d,_0x25241d);}[_0x29fc43(0x2bf)](_0x1e0b06){const _0xe7dcf4=_0x29fc43;return this[_0xe7dcf4(0x521)][_0xe7dcf4(0x2a2)](_0x1e0b06);}['collectTransactionsFromNode'](_0x488693,_0x3679ce){const _0x43f45e=_0x29fc43;if(0x0!==_0x488693[_0x43f45e(0x4b2)])_0x488693[_0x43f45e(0x179)]&&this[_0x43f45e(0x4bd)](_0x488693[_0x43f45e(0x179)],_0x3679ce),_0x488693[_0x43f45e(0x61b)]&&this['collectTransactionsFromNode'](_0x488693[_0x43f45e(0x61b)],_0x3679ce);else{const _0x3dbcd6=this[_0x43f45e(0x2bf)](_0x488693['hash']);_0x3dbcd6&&_0x3679ce[_0x43f45e(0x9f9)](_0x3dbcd6);}}async[_0x29fc43(0x481)](){const _0xccfddc=_0x29fc43;this['debounceRebuildMMR']&&(clearTimeout(this[_0xccfddc(0x2a4)]),delete this[_0xccfddc(0x2a4)],this[_0xccfddc(0x4a5)][_0xccfddc(0x4c5)]>0x0&&(this['transactions'][_0xccfddc(0x9f9)](...this['transactionsToAppend'][_0xccfddc(0xb06)](this[_0xccfddc(0x834)])),this[_0xccfddc(0x4a5)]=[]));const _0x5d5333=this[_0xccfddc(0xacc)]();this['mmr']=new _0x31816d(),this[_0xccfddc(0x521)][_0xccfddc(0x985)](),this[_0xccfddc(0x405)]['sort'](this[_0xccfddc(0x834)]);for(const _0x132e10 of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x132e10,this['transactions']['length']);await this[_0xccfddc(0x5cf)][_0xccfddc(0x90d)],this['logMMRRebuild'](_0x5d5333);}[_0x29fc43(0xacc)](){const _0x33014c=_0x29fc43;return this[_0x33014c(0x78a)][_0x33014c(0x6a1)]['performCalculation'](async()=>{const _0x582aef=_0x33014c,_0x3b3be2=await this['mmr'][_0x582aef(0x124)]();return{'startTime':Date[_0x582aef(0x653)](),'initialRoot':_0x3b3be2};},Promise[_0x33014c(0x4bf)]({'startTime':0x0,'initialRoot':''}));}async[_0x29fc43(0x5c9)](_0x4cacc2){const _0x3dff4f=_0x29fc43;try{const {startTime:_0x440c82,initialRoot:_0x2522cc}=await _0x4cacc2,_0x560543=await this[_0x3dff4f(0x5cf)][_0x3dff4f(0x124)](),_0x3ee40c=[_0x3dff4f(0x891)+(_0x2522cc!==_0x560543),_0x3dff4f(0x32f)+_0x2522cc,_0x3dff4f(0x4b0)+_0x560543,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0x3dff4f(0x5cf)][_0x3dff4f(0xa42)](),_0x3dff4f(0x2b1)+(Date[_0x3dff4f(0x653)]()-_0x440c82)+_0x3dff4f(0x337)][_0x3dff4f(0x98d)]('\x20');this[_0x3dff4f(0x78a)][_0x3dff4f(0x6a1)][_0x3dff4f(0x195)]('',()=>_0x3ee40c);}catch(_0x29eda3){console['error'](_0x3dff4f(0x853),_0x29eda3);}}['debounceRebuildMMRWithTransaction'](_0x3eef72){const _0x4792d7=_0x29fc43;this['transactionsToAppend']['push'](_0x3eef72),this[_0x4792d7(0x2a4)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x4792d7(0x2a4)]),this[_0x4792d7(0x2a4)]=setTimeout(()=>{this['processTransactionsToComputeMMR']();},0x3e8);}async[_0x29fc43(0x185)](){const _0x2b7b67=_0x29fc43;if(this[_0x2b7b67(0x2a4)]&&(clearTimeout(this['debounceRebuildMMR']),delete this['debounceRebuildMMR']),0x0!==this[_0x2b7b67(0x4a5)][_0x2b7b67(0x4c5)]){if(0x0===this[_0x2b7b67(0x405)][_0x2b7b67(0x4c5)])return this[_0x2b7b67(0x405)]=this[_0x2b7b67(0x4a5)],this[_0x2b7b67(0x4a5)]=[],await this[_0x2b7b67(0x481)]();if(this['transactionsToAppend'][_0x2b7b67(0xb06)](this[_0x2b7b67(0x834)]),this[_0x2b7b67(0x834)](this[_0x2b7b67(0x4a5)][0x0],this[_0x2b7b67(0x405)][this[_0x2b7b67(0x405)][_0x2b7b67(0x4c5)]-0x1])>0x0){this[_0x2b7b67(0x78a)][_0x2b7b67(0x6a1)][_0x2b7b67(0x195)](_0x2b7b67(0x240)+this[_0x2b7b67(0x4a5)][_0x2b7b67(0x4c5)]+',\x20Transactions:\x20'+this[_0x2b7b67(0x405)]['length']);for(const _0x5dcd25 of this[_0x2b7b67(0x4a5)])this[_0x2b7b67(0x405)][_0x2b7b67(0x9f9)](_0x5dcd25),this['appendTransactionAndUpdateHashMap'](_0x5dcd25,this['transactionsToAppend'][_0x2b7b67(0x4c5)]);return this[_0x2b7b67(0x4a5)]=[],void this[_0x2b7b67(0x78a)][_0x2b7b67(0x6a1)][_0x2b7b67(0x195)](_0x2b7b67(0xa61),async()=>_0x2b7b67(0x68d)+await this[_0x2b7b67(0x5cf)][_0x2b7b67(0x124)]()+',\x20Total\x20Nodes:'+this[_0x2b7b67(0x5cf)][_0x2b7b67(0xa42)]());}this[_0x2b7b67(0x78a)][_0x2b7b67(0x6a1)][_0x2b7b67(0x195)]('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this[_0x2b7b67(0x4a5)][_0x2b7b67(0x4c5)]+_0x2b7b67(0x2f8)+this[_0x2b7b67(0x405)][_0x2b7b67(0x4c5)]),this[_0x2b7b67(0x405)]['push'](...this['transactionsToAppend']),this['transactionsToAppend']=[],this['rebuildMMR']();}}async[_0x29fc43(0x82b)](){const _0x5866f1=_0x29fc43;if(!_0xb63eee[_0x5866f1(0x520)](_0x30994c['KeyValueDatabase']))return;await this[_0x5866f1(0x5cf)]['ready'];const {dataSent:_0x34933e,dataReceived:_0x3fc604}=this[_0x5866f1(0x78a)][_0x5866f1(0x782)]();_0xb63eee[_0x5866f1(0x195)](_0x30994c[_0x5866f1(0x844)],_0x5866f1(0x7a7),this[_0x5866f1(0x12a)],_0x5866f1(0x1ac)+_0x34933e,_0x5866f1(0x6c6)+_0x3fc604,_0x5866f1(0x770),await this[_0x5866f1(0x5cf)]['getRoot'](),_0x5866f1(0x581),this[_0x5866f1(0x5cf)][_0x5866f1(0xa42)]());}async[_0x29fc43(0x383)](){const _0x54876f=_0x29fc43;if(!_0xb63eee[_0x54876f(0x520)](_0x30994c[_0x54876f(0x844)]))return;const _0x3a8184=this[_0x54876f(0x5cf)][_0x54876f(0x751)](),_0x1b9f2f=_0x3a8184[_0x54876f(0x170)](_0x539c93=>_0x539c93[_0x54876f(0x4b2)]),_0x5e8145=await this[_0x54876f(0x5cf)][_0x54876f(0x124)]();_0xb63eee[_0x54876f(0x195)](_0x30994c[_0x54876f(0x844)],_0x54876f(0x74f),this[_0x54876f(0x405)][_0x54876f(0x4c5)],'transactions',this[_0x54876f(0x5cf)][_0x54876f(0xa42)](),_0x54876f(0x6f5),_0x3a8184['length'],'peaks',_0x1b9f2f,_0x54876f(0xaa7),_0x5e8145);}}const _0x4aa8ac=require('@crewdle/mist-connector-opfs'),_0x2fcff2=require('@crewdle/mist-connector-indexed-db'),_0x304bd8=require('@crewdle/mist-connector-webrtc-browser'),_0xf9258e=0x10000000;var _0x200c96,_0x5c07cb,_0x21f8c1,_0x337eb8,_0xb7b959,_0x4ce2f2,_0x56cfa9,_0x9e7457,_0x1cd470;!function(_0x3b085d){const _0x117e02=_0x29fc43;_0x3b085d['AudioContext']=_0x117e02(0xaec),_0x3b085d['AudioOutput']=_0x117e02(0x93f),_0x3b085d['AudioVolume']=_0x117e02(0x743),_0x3b085d['Backgrounds']=_0x117e02(0x876),_0x3b085d[_0x117e02(0x2c6)]=_0x117e02(0x2c6),_0x3b085d[_0x117e02(0x133)]=_0x117e02(0x133),_0x3b085d[_0x117e02(0x3fd)]=_0x117e02(0x3fd),_0x3b085d['ScreenSharing']='ScreenSharing',_0x3b085d[_0x117e02(0x980)]='WebGL',_0x3b085d[_0x117e02(0x1eb)]=_0x117e02(0x1eb);}(_0x200c96||(_0x200c96={}));class _0x55360d{['registeredListeners'];[_0x29fc43(0x596)];['eventTarget'];constructor(_0x45b1eb=new Map(),_0x5f22d1=new Map(),_0x1b16b8=new EventTarget()){const _0x28b8fa=_0x29fc43;this['registeredListeners']=_0x45b1eb,this[_0x28b8fa(0x596)]=_0x5f22d1,this[_0x28b8fa(0x4a0)]=_0x1b16b8;}[_0x29fc43(0x986)]=(_0x2e8ea4,_0xf3e211)=>this['registeredListeners']['has'](_0x2e8ea4)?(_0xb63eee['log'](_0x30994c[_0x29fc43(0x762)],_0x29fc43(0x3a2),{'event':_0x2e8ea4,'data':_0xf3e211}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x2e8ea4,{'detail':_0xf3e211})),!0x0):(this[_0x29fc43(0x77b)](_0x2e8ea4,_0xf3e211),!0x1);['on']=(_0x17c7af,_0x528d9e)=>{const _0x3aae55=_0x29fc43,_0x2886ac=_0x204675=>{const _0x28ffa8=a0_0x424d;_0xb63eee[_0x28ffa8(0x195)](_0x30994c['Events'],_0x28ffa8(0x59f),_0x204675['type'],_0x204675[_0x28ffa8(0x322)]),_0x528d9e(_0x204675['detail']);};return this['registeredListeners'][_0x3aae55(0x355)](_0x17c7af,_0x2886ac),this[_0x3aae55(0x4a0)][_0x3aae55(0x8d8)](_0x17c7af,_0x2886ac),_0xb63eee['log'](_0x30994c[_0x3aae55(0x345)],_0x3aae55(0x8d7),_0x17c7af,_0x528d9e),this['consumeBufferedEvents'](_0x17c7af),this;};[_0x29fc43(0xac1)](_0x264e41){const _0x5b62bf=_0x29fc43;if(!_0x264e41)return this[_0x5b62bf(0xa07)][_0x5b62bf(0x7f9)]((_0x5de2bd,_0x18c59c)=>{const _0x14c769=_0x5b62bf;this[_0x14c769(0x4a0)][_0x14c769(0x377)](_0x18c59c,_0x5de2bd);}),void this[_0x5b62bf(0xa07)][_0x5b62bf(0x985)]();'string'==typeof _0x264e41&&this[_0x5b62bf(0x60e)](_0x264e41),Array[_0x5b62bf(0x433)](_0x264e41)&&_0x264e41[_0x5b62bf(0x7f9)](_0x905118=>{const _0x3d0020=_0x5b62bf;this[_0x3d0020(0x60e)](_0x905118);});}[_0x29fc43(0x60e)](_0x23aee3){const _0x41de74=_0x29fc43,_0x9a6ba1=this[_0x41de74(0xa07)][_0x41de74(0x2a2)](_0x23aee3);_0x9a6ba1&&(this[_0x41de74(0x4a0)][_0x41de74(0x377)](_0x23aee3,_0x9a6ba1),this['registeredListeners']['delete'](_0x23aee3));}[_0x29fc43(0x77b)](_0x54588a,_0x2f8153){const _0x5f4d46=_0x29fc43;_0xb63eee['log'](_0x30994c[_0x5f4d46(0x762)],_0x5f4d46(0xa68),{'event':_0x54588a,'data':_0x2f8153});const _0x444624=this[_0x5f4d46(0x596)]['get'](_0x54588a)||[];this[_0x5f4d46(0x596)][_0x5f4d46(0x355)](_0x54588a,[..._0x444624,_0x2f8153]);}[_0x29fc43(0x8fa)](_0x15707f){const _0x46d734=_0x29fc43,_0x5540b3=this[_0x46d734(0x596)][_0x46d734(0x2a2)](_0x15707f);_0x5540b3&&(_0x5540b3[_0x46d734(0x7f9)](_0x5f06f4=>{const _0x46c213=_0x46d734;_0xb63eee[_0x46c213(0x195)](_0x30994c['Events'],_0x46c213(0x679),{'event':_0x15707f,'data':_0x5f06f4}),this[_0x46c213(0x4a0)]['dispatchEvent'](new CustomEvent(_0x15707f,{'detail':_0x5f06f4}));}),this[_0x46d734(0x596)][_0x46d734(0x5ef)](_0x15707f));}}class _0xa97582 extends Error{constructor(_0x503b69){const _0x500c5c=_0x29fc43;super(_0x500c5c(0x26a)+_0x503b69);}}!function(_0x1273a2){const _0x51d75e=_0x29fc43;_0x1273a2[_0x1273a2[_0x51d75e(0x592)]=0x0]='Core',_0x1273a2[_0x1273a2[_0x51d75e(0x8f2)]=0x1]=_0x51d75e(0x8f2);}(_0x5c07cb||(_0x5c07cb={})),function(_0x1fce6f){const _0x4b6560=_0x29fc43;_0x1fce6f[_0x1fce6f[_0x4b6560(0x472)]=0x0]=_0x4b6560(0x472),_0x1fce6f[_0x1fce6f[_0x4b6560(0x496)]=0x1]=_0x4b6560(0x496),_0x1fce6f[_0x1fce6f[_0x4b6560(0xb17)]=0x2]=_0x4b6560(0xb17),_0x1fce6f[_0x1fce6f[_0x4b6560(0x867)]=0x3]=_0x4b6560(0x867),_0x1fce6f[_0x1fce6f['NeedRestart']=0x4]=_0x4b6560(0x4f7),_0x1fce6f[_0x1fce6f[_0x4b6560(0x177)]=0x5]=_0x4b6560(0x177),_0x1fce6f[_0x1fce6f['Disconnect']=0x6]=_0x4b6560(0x399),_0x1fce6f[_0x1fce6f[_0x4b6560(0x269)]=0x7]=_0x4b6560(0x269),_0x1fce6f[_0x1fce6f[_0x4b6560(0x3ab)]=0x8]=_0x4b6560(0x3ab);}(_0x21f8c1||(_0x21f8c1={})),function(_0x31c5e7){const _0x1e5d82=_0x29fc43;_0x31c5e7[_0x31c5e7[_0x1e5d82(0x7fc)]=0x0]=_0x1e5d82(0x7fc),_0x31c5e7[_0x31c5e7['Receiver']=0x1]=_0x1e5d82(0x6cd);}(_0x337eb8||(_0x337eb8={})),function(_0x1af598){const _0x1f6816=_0x29fc43;_0x1af598[_0x1f6816(0x133)]=_0x1f6816(0x10a);}(_0xb7b959||(_0xb7b959={})),function(_0x246ac9){const _0x43a6be=_0x29fc43;_0x246ac9[_0x246ac9['NodeJoin']=0x0]=_0x43a6be(0x722),_0x246ac9[_0x246ac9[_0x43a6be(0x505)]=0x1]=_0x43a6be(0x505),_0x246ac9[_0x246ac9[_0x43a6be(0x754)]=0x2]=_0x43a6be(0x754),_0x246ac9[_0x246ac9[_0x43a6be(0x84e)]=0x3]=_0x43a6be(0x84e);}(_0x4ce2f2||(_0x4ce2f2={})),function(_0x1ba22f){const _0x50b469=_0x29fc43;_0x1ba22f[_0x1ba22f[_0x50b469(0xa8c)]=0x0]=_0x50b469(0xa8c),_0x1ba22f[_0x1ba22f[_0x50b469(0x897)]=0x1]=_0x50b469(0x897);}(_0x56cfa9||(_0x56cfa9={})),function(_0x4d9784){const _0x1f3830=_0x29fc43;_0x4d9784[_0x1f3830(0x21b)]=_0x1f3830(0x499),_0x4d9784[_0x1f3830(0x6ac)]=_0x1f3830(0x297);}(_0x9e7457||(_0x9e7457={})),function(_0x566453){const _0x42cf95=_0x29fc43;_0x566453[_0x42cf95(0x412)]=_0x42cf95(0x213),_0x566453['Bitrate']=_0x42cf95(0x780);}(_0x1cd470||(_0x1cd470={}));const _0x54d4dd=require('aws-amplify'),_0xea97cc=require('aws-amplify/utils'),_0x1a0c95=require('@aws-amplify/api'),_0x441ae0=require('@aws-amplify/core');class _0x1a50d0{[_0x29fc43(0x93b)];['localNode'];[_0x29fc43(0x295)];constructor(_0x21cef6,_0x328146,_0x21bd33){const _0x220ec5=_0x29fc43;this['clusterId']=_0x21cef6,this[_0x220ec5(0xa8a)]=_0x328146,this[_0x220ec5(0x295)]=_0x21bd33;}[_0x29fc43(0x1e9)](){const _0x3ba059=_0x29fc43;return this[_0x3ba059(0xa8a)]['getId']();}[_0x29fc43(0x1d6)](){const _0x2bd3d4=_0x29fc43;return this[_0x2bd3d4(0x295)];}}var _0xa1e857,_0x47d14f,_0x59cdc5;function _0x4f5692(_0x3b21df,_0x33bca5){return _0x3b21df['sourceId']===_0x33bca5;}function _0x1b8b78(_0x1134fb,_0x431c41){const _0x4399e4=_0x29fc43;return _0x1134fb['destinationIds']?.[_0x4399e4(0x3a7)](_0x431c41)??function(_0x4f1ec5){return void 0x0===_0x4f1ec5['destinationIds'];}(_0x1134fb);}function _0x52a0aa(_0x3472f9,{contentType:_0x1c0ce8,label:_0x55cd19,remoteId:_0x38ecbd}){return _0x3472f9+'-'+_0x1c0ce8+'-'+_0x55cd19+'-'+_0x38ecbd;}function _0x4eb03f(_0x3f65bc,_0x51a030,_0x255b27){return''+_0x3f65bc+_0x51a030+_0x255b27;}function _0x259c5c(_0x152b1e){const _0x17ed50=_0x29fc43;return _0x152b1e===_0x47d14f[_0x17ed50(0x67c)]?_0x17ed50(0x2ed):_0x17ed50(0x5f9);}function _0x2b6e4d(_0x43eb83,_0x28fed4){const _0xc2e557=_0x29fc43;return{'label':_0x43eb83[_0xc2e557(0x9e7)](),'contentType':_0x43eb83[_0xc2e557(0x5f5)](),'remoteId':_0x28fed4[_0xc2e557(0x1d6)](),'supportsContentType':_0x28fed4[_0xc2e557(0x899)]()['includes'](_0x43eb83[_0xc2e557(0x5f5)]())};}!function(_0x5ebf7a){const _0x1dd40e=_0x29fc43;_0x5ebf7a[_0x5ebf7a[_0x1dd40e(0x14f)]=0x0]='Waiting',_0x5ebf7a[_0x5ebf7a[_0x1dd40e(0x836)]=0x1]=_0x1dd40e(0x836),_0x5ebf7a[_0x5ebf7a[_0x1dd40e(0x8b9)]=0x2]=_0x1dd40e(0x8b9);}(_0xa1e857||(_0xa1e857={})),function(_0x20a847){const _0x372866=_0x29fc43;_0x20a847[_0x372866(0x67c)]='in',_0x20a847[_0x372866(0xa2f)]='out';}(_0x47d14f||(_0x47d14f={}));class _0x368850{[_0x29fc43(0x7d9)];[_0x29fc43(0x5ae)];constructor(_0x35a098,_0x3fdcf1){const _0x1e6b4d=_0x29fc43;this[_0x1e6b4d(0x7d9)]=_0x35a098,this['retryCallback']=_0x3fdcf1;}[_0x29fc43(0x4a9)](_0x464203){const _0x18ae81=_0x29fc43;this[_0x18ae81(0x7d9)](_0x464203);}async['wait'](){const _0x541f6f=_0x29fc43;await this[_0x541f6f(0x5ae)]();}}class _0x2d0320{[_0x29fc43(0x7d9)];[_0x29fc43(0x5ae)];constructor(_0x5f565c,_0x298fc1){const _0x5fbfb4=_0x29fc43;this['callback']=_0x5f565c,this[_0x5fbfb4(0x5ae)]=_0x298fc1;}async[_0x29fc43(0x4a9)](_0x26f9b8){const _0x507b85=_0x29fc43;await this[_0x507b85(0x7d9)](_0x26f9b8);}async[_0x29fc43(0x73f)](){await this['retryCallback']();}}function _0x49e5a0(_0x5c2efd=()=>{},_0xad7d37=()=>!0x1,_0x47dc3d=()=>{}){let _0x1ddfc6,_0x102d06,_0x39fcd4=0x0;return{get 'size'(){return _0x39fcd4;},get 'head'(){return _0x1ddfc6;},get 'tail'(){return _0x102d06;},set 'head'(_0xf99eeb){_0x1ddfc6=_0xf99eeb;},set 'tail'(_0x142847){_0x102d06=_0x142847;},'push'(_0x230c42,_0x3f8acb=!0x0){const _0xf9853a=a0_0x424d,_0x1d03c8={'value':_0x230c42};_0x3f8acb&&_0xad7d37(_0x1d03c8)?_0x5c2efd():(_0x102d06&&(_0x1d03c8[_0xf9853a(0xa69)]=_0x102d06,_0x102d06[_0xf9853a(0x609)]=_0x1d03c8),_0x102d06=_0x1d03c8,_0x1ddfc6||(_0x1ddfc6=_0x1d03c8),_0x39fcd4+=0x1,_0x3f8acb&&_0x5c2efd());},'pop'(){const _0x292e5d=a0_0x424d;if(!_0x102d06)return;const _0x142cba=_0x102d06['value'];return _0x102d06=_0x102d06['previous'],_0x102d06&&delete _0x102d06[_0x292e5d(0x609)],_0x102d06||(_0x1ddfc6=void 0x0),_0x39fcd4-=0x1,_0x142cba;},'unshift'(_0x2163d2,_0x54cfd1=!0x0){const _0x17c809=a0_0x424d,_0x3d11d6={'value':_0x2163d2};_0x54cfd1&&_0xad7d37(_0x3d11d6)?_0x5c2efd():(_0x1ddfc6&&(_0x1ddfc6[_0x17c809(0xa69)]=_0x3d11d6,_0x3d11d6[_0x17c809(0x609)]=_0x1ddfc6),_0x1ddfc6=_0x3d11d6,_0x102d06||(_0x102d06=_0x3d11d6),_0x39fcd4+=0x1,_0x54cfd1&&_0x5c2efd());},'shift'(){const _0x270063=a0_0x424d;if(!_0x1ddfc6)return;const _0x407aae=_0x1ddfc6[_0x270063(0x2a7)];return _0x1ddfc6=_0x1ddfc6['next'],_0x1ddfc6&&delete _0x1ddfc6[_0x270063(0xa69)],_0x1ddfc6||(_0x102d06=void 0x0),_0x39fcd4-=0x1,_0x407aae;},'clear'(){_0x47dc3d(),_0x1ddfc6=void 0x0,_0x102d06=void 0x0,_0x39fcd4=0x0;}};}function _0x1a2a76(_0x22160f,_0x83ebd0=!0x1,_0x39e040=()=>{},_0x2b424a=()=>!0x1,_0x534295=()=>{}){let _0x1d78fb=!0x1;const _0x1c6dd2=_0x49e5a0(async function(){const _0x525925=a0_0x424d;if(!_0x1d78fb){for(_0x1d78fb=!0x0;_0x1c6dd2['head'];){const _0xa174e2=_0x1c6dd2[_0x525925(0x3e5)]();if(_0xa174e2)try{_0x22160f instanceof _0x368850&&_0x22160f['call'](_0xa174e2),_0x22160f instanceof _0x2d0320&&await _0x22160f[_0x525925(0x4a9)](_0xa174e2),_0x39e040(_0xa174e2);}catch(_0xdf3a96){_0x83ebd0?_0x1c6dd2['push'](_0xa174e2,!0x1):_0x1c6dd2[_0x525925(0x5aa)](_0xa174e2,!0x1),await _0x22160f[_0x525925(0x73f)]();}}_0x1d78fb=!0x1;}},_0x2b424a,_0x534295);return _0x1c6dd2;}class _0x4f4e7e extends _0x1a50d0{[_0x29fc43(0x117)];[_0x29fc43(0x67d)];['connectionState']=_0x1a0c95[_0x29fc43(0x7c0)]['Disconnected'];[_0x29fc43(0xa4a)]=_0x287e1a();[_0x29fc43(0x26d)]=_0x2d590d();['subscription'];['listenUnsubscriber'];[_0x29fc43(0x37a)]=_0x1a2a76(new _0x2d0320(this['sendAction'][_0x29fc43(0x699)](this),this[_0x29fc43(0x52a)][_0x29fc43(0x699)](this)));[_0x29fc43(0x518)];constructor(_0x5cd6a4,_0x344ede,_0x4ae4e3,_0x4b7d0e,_0x558a7b){const _0x283f25=_0x29fc43;super(_0x344ede,_0x4ae4e3,_0x4b7d0e),this[_0x283f25(0x117)]=_0x5cd6a4,this['authService']=_0x558a7b;}async[_0x29fc43(0x4bb)](){const _0x140e17=_0x29fc43;try{const _0x4ab1ed={'getTokens':async()=>{const _0x149306=a0_0x424d,_0x1feb0f=await this['authService'][_0x149306(0x971)]();return{'accessToken':(0x0,_0x441ae0['decodeJWT'])(_0x1feb0f),'idToken':(0x0,_0x441ae0[_0x149306(0x118)])(_0x1feb0f)};}};_0x54d4dd[_0x140e17(0x880)][_0x140e17(0x483)]({'API':{'GraphQL':{'endpoint':_0x3dbf37[_0x140e17(0xaac)][_0x140e17(0x4d5)],'region':_0x3dbf37['aws'][_0x140e17(0x58a)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x4ab1ed}});const _0x4921aa=(0x0,_0x1a0c95['generateClient'])();this['client']=_0x4921aa,await this[_0x140e17(0x75e)](),this[_0x140e17(0x735)]=_0xea97cc[_0x140e17(0x955)][_0x140e17(0xa25)](_0x140e17(0x9a4),async({payload:_0x56cfa6})=>{const _0x36a3d1=_0x140e17;if(_0x56cfa6['event']===_0x1a0c95[_0x36a3d1(0x580)]){const _0x428df2=_0x56cfa6[_0x36a3d1(0x7d7)];this[_0x36a3d1(0x174)]=_0x428df2[_0x36a3d1(0x174)],this[_0x36a3d1(0xa4a)][_0x36a3d1(0x289)](_0x428df2['connectionState']),this[_0x36a3d1(0x174)]===_0x1a0c95[_0x36a3d1(0x7c0)][_0x36a3d1(0x4a1)]?(_0xb63eee[_0x36a3d1(0x3c9)](_0x36a3d1(0x8d3),{'clusterId':this[_0x36a3d1(0x93b)],'nodeId':this[_0x36a3d1(0x1e9)](),'nodeType':this[_0x36a3d1(0xa8a)]['type']}),this[_0x36a3d1(0xb1b)](),this[_0x36a3d1(0x4bb)]()):this[_0x36a3d1(0x174)]===_0x1a0c95[_0x36a3d1(0x7c0)][_0x36a3d1(0x38a)]?_0xb63eee['warning'](_0x36a3d1(0x990),{'clusterId':this[_0x36a3d1(0x93b)],'nodeId':this[_0x36a3d1(0x1e9)](),'nodeType':this[_0x36a3d1(0xa8a)]['type']}):_0xb63eee[_0x36a3d1(0x55c)](_0x36a3d1(0xa94),{'clusterId':this[_0x36a3d1(0x93b)],'nodeId':this[_0x36a3d1(0x1e9)](),'nodeType':this['localNode'][_0x36a3d1(0xacf)],'data':{'state':_0x428df2[_0x36a3d1(0x174)]}});}});}catch(_0x231e92){_0xb63eee[_0x140e17(0x3c9)](_0x140e17(0x21e),{'clusterId':this[_0x140e17(0x93b)],'nodeId':this[_0x140e17(0x1e9)](),'nodeType':this[_0x140e17(0xa8a)]['type']});}}[_0x29fc43(0xb1b)](){const _0x1c4d4d=_0x29fc43;_0xb63eee['warning'](_0x1c4d4d(0x324),{'clusterId':this[_0x1c4d4d(0x93b)],'nodeId':this['getLocalId'](),'nodeType':this[_0x1c4d4d(0xa8a)][_0x1c4d4d(0xacf)]}),this['retryQueue'][_0x1c4d4d(0x985)](),this[_0x1c4d4d(0x735)]?.(),this['subscription']?.['unsubscribe'](),delete this[_0x1c4d4d(0x4a7)];}[_0x29fc43(0x65f)](){const _0xf13d05=_0x29fc43;return this[_0xf13d05(0x174)]===_0x1a0c95['ConnectionState'][_0xf13d05(0x38a)];}[_0x29fc43(0xae4)](_0x3c3267){this['retryQueue']['push'](_0x3c3267);}[_0x29fc43(0x6b5)](_0x1b9ce6){const _0x56ead9=_0x29fc43;return this[_0x56ead9(0x26d)]['subscribe'](_0x1b9ce6);}['getSupportedContentTypes'](){return[_0x47b47a['ContentType']['Data']];}async[_0x29fc43(0x52a)](){const _0x4facc8=_0x29fc43;if(!this[_0x4facc8(0x65f)]())return new Promise(_0x311a58=>{const _0x3314c9=_0x4facc8,_0x325cd1=this[_0x3314c9(0xa4a)][_0x3314c9(0x75e)](_0x4665ed=>{const _0x1a67da=_0x3314c9;_0x4665ed===_0x1a0c95[_0x1a67da(0x7c0)][_0x1a67da(0x38a)]&&(_0x325cd1(),_0x311a58());});});}async[_0x29fc43(0x4e1)](_0x28464b){const _0x5ee7fb=_0x29fc43;if(this['connectionState']!==_0x1a0c95[_0x5ee7fb(0x7c0)][_0x5ee7fb(0x38a)])throw new Error(_0x5ee7fb(0x939));_0x28464b[_0x5ee7fb(0xa00)]&&0x1===_0x28464b['destinationIds'][_0x5ee7fb(0x4c5)]?await this['publish'](_0x28464b['destinationIds'][0x0],JSON[_0x5ee7fb(0x9a0)](_0x28464b)):_0xb63eee[_0x5ee7fb(0x3c9)](_0x5ee7fb(0x3ac),{'clusterId':this[_0x5ee7fb(0x93b)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x5ee7fb(0xacf)]});}async[_0x29fc43(0x289)](_0x3f91ce,_0x4f0c73){const _0x5baa4a=_0x29fc43;if(!this[_0x5baa4a(0x518)])throw new Error('AppSync\x20client\x20not\x20ready');_0xb63eee[_0x5baa4a(0x195)](_0x30994c['Signaling'],_0x5baa4a(0x6c1),this[_0x5baa4a(0x1e9)](),_0x4f0c73),await this[_0x5baa4a(0x518)][_0x5baa4a(0x130)]({'query':_0x5baa4a(0x7af),'variables':{'name':await this[_0x5baa4a(0x307)](_0x3f91ce),'data':_0x4f0c73}});}async[_0x29fc43(0x75e)](){const _0x5e8781=_0x29fc43;if(this[_0x5e8781(0x4a7)])return;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0xb63eee['log'](_0x30994c[_0x5e8781(0xb20)],'AppSync\x20subscribe',this[_0x5e8781(0x1e9)]());const _0x4a1353=await this[_0x5e8781(0x518)][_0x5e8781(0x130)]({'query':_0x5e8781(0x1c8),'variables':{'name':await this[_0x5e8781(0x307)]()},'authToken':await this[_0x5e8781(0x67d)][_0x5e8781(0x971)]()},{'Authorization':await this['authService']['getIdToken']()});this[_0x5e8781(0x4a7)]=_0x4a1353['subscribe']({'next':({data:_0x4d464f})=>{const _0x51a5be=_0x5e8781,_0x1ea4cb=JSON[_0x51a5be(0x763)](_0x4d464f[_0x51a5be(0x75e)][_0x51a5be(0x7d7)]);!_0x4f5692(_0x1ea4cb,this[_0x51a5be(0x1e9)]())&&_0x1b8b78(_0x1ea4cb,this['getLocalId']())&&this[_0x51a5be(0x26d)][_0x51a5be(0x289)](_0x1ea4cb);},'error':console[_0x5e8781(0x195)]});}async['getHash'](_0xd20221){const _0x2694ce=_0x29fc43,_0x14da4e=await crypto[_0x2694ce(0x9a7)][_0x2694ce(0x6ad)](_0x2694ce(0xa17),new TextEncoder()[_0x2694ce(0x6b8)](this['vendorId']+'-'+this[_0x2694ce(0x93b)]+'-'+(_0xd20221??this[_0x2694ce(0x1e9)]())));return Array[_0x2694ce(0x8f7)](new Uint8Array(_0x14da4e))['map'](_0x13f1fe=>_0x13f1fe[_0x2694ce(0x570)](0x10)['padStart'](0x2,'0'))[_0x2694ce(0x98d)]('');}}!function(_0x4f9d3b){const _0x18a405=_0x29fc43;_0x4f9d3b[_0x4f9d3b[_0x18a405(0x57e)]=0x0]='Add',_0x4f9d3b[_0x4f9d3b[_0x18a405(0x915)]=0x1]=_0x18a405(0x915),_0x4f9d3b[_0x4f9d3b['Update']=0x2]='Update',_0x4f9d3b[_0x4f9d3b[_0x18a405(0x500)]=0x3]=_0x18a405(0x500),_0x4f9d3b[_0x4f9d3b['RemoteRemove']=0x4]=_0x18a405(0x180);}(_0x59cdc5||(_0x59cdc5={}));const _0x3bc2e0='0',_0x3f9a40=_0x29fc43(0x7a2),_0xd89cb=_0x27bcc0,_0x404e13=0x60000;class _0x20ca3a{['clusterId'];[_0x29fc43(0xa8a)];[_0x29fc43(0x295)];[_0x29fc43(0x676)];[_0x29fc43(0x892)];[_0x29fc43(0x94e)];[_0x29fc43(0x2de)];['dataChannel'];['currentVersion']=0x1;['systemTopic'];['handshakeCandidates']=[];['pendingHandshakeCandidates']=[];[_0x29fc43(0x6da)];constructor(_0x2c6261,_0x5d3abd,_0x38ba18,_0x580d7a,_0x997dae,_0x351f4c){const _0x21ee43=_0x29fc43;this[_0x21ee43(0x93b)]=_0x2c6261,this['localNode']=_0x5d3abd,this[_0x21ee43(0x295)]=_0x38ba18,this[_0x21ee43(0x676)]=_0x580d7a,this[_0x21ee43(0x892)]=_0x997dae,this[_0x21ee43(0x94e)]=_0x351f4c,this[_0x21ee43(0x2de)]=new this['connectionConstructor']({'handshakeServers':this[_0x21ee43(0x676)]}),this['setupConnectionEvents']();}[_0x29fc43(0xb1b)](){this['stopConnection']();}[_0x29fc43(0x506)](_0x310ee6){const _0x4b7292=_0x29fc43;this[_0x4b7292(0x892)]=_0x310ee6;}async[_0x29fc43(0x29f)](_0x1989b1,_0x845ba8){const _0x2e30ae=_0x29fc43;if(_0x845ba8===this['currentVersion'])for(const _0x3d08a5 of _0x1989b1){if(!this['connection'][_0x2e30ae(0x32d)])return this['addPendingHandshakeCandidate'](_0x3d08a5);try{await this[_0x2e30ae(0x2de)][_0x2e30ae(0xaa4)](_0x3d08a5);}catch(_0x10fd01){this[_0x2e30ae(0x4d2)](_0x3d08a5);}}}[_0x29fc43(0x65f)](){const _0x493bef=_0x29fc43;return this[_0x493bef(0x207)](),_0x493bef(0xa40)===this[_0x493bef(0x2de)][_0x493bef(0x174)]&&['connected',_0x493bef(0x6fd)][_0x493bef(0x3a7)](this[_0x493bef(0x2de)][_0x493bef(0x39e)])&&'closed'!==this[_0x493bef(0x2de)]['signalingState']&&_0x493bef(0x98b)===this[_0x493bef(0x6ed)]?.['state'];}[_0x29fc43(0x911)](_0x45cd33){const _0x5c1dd1=_0x29fc43;this[_0x5c1dd1(0x3aa)]=_0x45cd33;}[_0x29fc43(0x3c7)](){const _0x2d2ce6=_0x29fc43;delete this[_0x2d2ce6(0x3aa)];}['resetConnection'](_0x251150){const _0x57510d=_0x29fc43;this[_0x57510d(0x225)](),this['connection']=new this[(_0x57510d(0x94e))]({'handshakeServers':this[_0x57510d(0x676)]}),_0x251150?this[_0x57510d(0x348)]=_0x251150:this[_0x57510d(0x348)]+=0x1,this[_0x57510d(0xa96)]();}[_0x29fc43(0x153)](){const _0x289614=_0x29fc43;this[_0x289614(0x7bc)][_0x289614(0x7f9)](_0x41e248=>{const _0x37d88b=_0x289614;try{this[_0x37d88b(0x2de)][_0x37d88b(0xaa4)](_0x41e248);}catch(_0x226341){}}),this[_0x289614(0x7bc)]=[];}['publishSystemMessage'](_0x203a4e,_0x5961df){const _0x4f930d=_0x29fc43;if(!this['systemTopic'])throw new _0x3335bf(_0x3335bf[_0x4f930d(0x4ee)][_0x4f930d(0x7e3)],{'content':_0x203a4e});const _0x1c06f4={'sourceId':this[_0x4f930d(0xa8a)]['getId'](),'destinationIds':[this[_0x4f930d(0x295)]],'propagate':this[_0x4f930d(0x892)]!==_0x5c07cb['Core'],'retry':this[_0x4f930d(0x892)]!==_0x5c07cb[_0x4f930d(0x592)],'messageType':_0x158cb7[_0x4f930d(0x5d6)],'content':_0x203a4e};_0x5961df&&(_0x1c06f4[_0x4f930d(0x5f0)]=_0x5961df),this[_0x4f930d(0x3aa)][_0x4f930d(0x289)](_0x1c06f4);}[_0x29fc43(0xa96)](){const _0x3faf05=_0x29fc43;this['connection'][_0x3faf05(0xa6d)]=()=>{const _0x5949f8=_0x3faf05;_0x5949f8(0x3df)===this[_0x5949f8(0x2de)][_0x5949f8(0xa38)]&&this['handshakeCandidates']['length']>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x5949f8(0x6da)]),this[_0x5949f8(0x6da)]=setTimeout(()=>{const _0x569156=_0x5949f8;delete this['handshakeDebounce'],this[_0x569156(0x97c)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x3faf05(0x2de)][_0x3faf05(0xa70)]=_0x355767=>{const _0x377124=_0x3faf05;_0x355767[_0x377124(0x39a)]&&this['handshakeCandidates'][_0x377124(0x9f9)](_0x355767[_0x377124(0x39a)]);};}[_0x29fc43(0x225)](){const _0x25344b=_0x29fc43;clearTimeout(this['handshakeDebounce']),delete this[_0x25344b(0x6da)],this[_0x25344b(0x627)]=[],this[_0x25344b(0x7bc)]=[],this[_0x25344b(0x6ed)]&&(this[_0x25344b(0x6ed)][_0x25344b(0x6b5)]=null,this['dataChannel'][_0x25344b(0x554)]=null,this[_0x25344b(0x6ed)]['close'](),delete this[_0x25344b(0x6ed)]),this[_0x25344b(0x2de)]['onGatheringStateChange']=null,this[_0x25344b(0x2de)][_0x25344b(0xa70)]=null,this[_0x25344b(0x2de)][_0x25344b(0x6c8)]=null,this[_0x25344b(0x2de)][_0x25344b(0x434)]=null,this[_0x25344b(0x2de)]['onTrack']=null,this['connection'][_0x25344b(0x24b)]=null,this[_0x25344b(0x2de)][_0x25344b(0xb1b)]();}[_0x29fc43(0x4d2)](_0x196e71){const _0x2aab01=_0x29fc43;this['pendingHandshakeCandidates'][_0x2aab01(0x9f9)](_0x196e71);}[_0x29fc43(0x207)](){const _0x5a0f3d=_0x29fc43;_0xb63eee[_0x5a0f3d(0x195)](_0x30994c[_0x5a0f3d(0x7c0)],_0x5a0f3d(0xac8),{'localId':this[_0x5a0f3d(0xa8a)]['getId'](),'remoteId':this[_0x5a0f3d(0x295)],'connectionState':this[_0x5a0f3d(0x2de)][_0x5a0f3d(0x174)],'handshakeState':this['connection'][_0x5a0f3d(0x39e)],'signalingState':this['connection'][_0x5a0f3d(0x864)],'dataChannelState':this['dataChannel']?.[_0x5a0f3d(0x4db)]});}}function _0x2c479f(_0x3280df,_0x1eb126){const _0x103c39=_0x29fc43;_0x1eb126[_0x103c39(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7['PeerConnection'],'content':_0x3280df});}class _0x4b812e{static [_0x29fc43(0x6c3)];[_0x29fc43(0x28b)]=[];[_0x29fc43(0xacd)];constructor(){setInterval(()=>{this['parameters']['forEach'](_0x3a38a6=>{const _0x1c6c1d=a0_0x424d;if(Date[_0x1c6c1d(0x653)]()-_0x3a38a6[_0x1c6c1d(0x964)]>_0x3a38a6['interval']){try{_0x3a38a6[_0x1c6c1d(0x7d9)]();}catch(_0x5717e2){}_0x3a38a6[_0x1c6c1d(0x964)]=Date[_0x1c6c1d(0x653)]();}});},0x64);}static[_0x29fc43(0x4f3)](){const _0x1bf5a7=_0x29fc43;return _0x4b812e['instance']||(_0x4b812e[_0x1bf5a7(0x6c3)]=new _0x4b812e()),_0x4b812e['instance'];}[_0x29fc43(0x7bd)](_0x542158){const _0x4d109b=_0x29fc43,_0x80517b=this['createConstantSource'](_0x542158),_0x106afe=_0x542158['createGain']();_0x106afe&&_0x80517b&&(_0x106afe['gain'][_0x4d109b(0x2a7)]=0.001,_0x80517b[_0x4d109b(0x4bb)](_0x106afe),_0x106afe[_0x4d109b(0x4bb)](_0x542158[_0x4d109b(0x9d6)]),_0x80517b[_0x4d109b(0x507)]());}['stopNoThrottlingHack'](){const _0x5437e7=_0x29fc43;this[_0x5437e7(0xacd)]&&(this[_0x5437e7(0xacd)][_0x5437e7(0x5d5)](),this[_0x5437e7(0xacd)]['disconnect'](),this[_0x5437e7(0xacd)]=void 0x0);}[_0x29fc43(0x73f)](_0x164893){return new Promise(_0x569a85=>{setTimeout(_0x569a85,_0x164893);});}[_0x29fc43(0x875)](_0x55c381,_0x20b417){const _0x1bad1d=_0x29fc43;return this[_0x1bad1d(0x28b)][_0x1bad1d(0x9f9)]({'callback':_0x55c381,'interval':_0x20b417,'lastExecuted':Date[_0x1bad1d(0x653)]()}),()=>{const _0x445ece=_0x1bad1d;this[_0x445ece(0x28b)]=this[_0x445ece(0x28b)][_0x445ece(0x81c)](_0x4d4137=>_0x4d4137['callback']!==_0x55c381);};}['createConstantSource'](_0x15539e){const _0x5ccbe4=_0x29fc43;if(_0x15539e[_0x5ccbe4(0x5b3)])return _0x15539e[_0x5ccbe4(0x5b3)]();const _0xb7359=_0x15539e[_0x5ccbe4(0x8db)](),_0x3fb250=_0x15539e[_0x5ccbe4(0xaca)](0x1,0x1,_0x15539e[_0x5ccbe4(0xad0)]);return _0x3fb250[_0x5ccbe4(0x2f2)](0x0)[0x0]=0xa,_0xb7359[_0x5ccbe4(0x140)]=_0x3fb250,_0xb7359[_0x5ccbe4(0x707)]=!0x0,_0xb7359;}}const _0x16c57a=_0x4b812e[_0x29fc43(0x4f3)]();class _0x1a2d69 extends _0x20ca3a{[_0x29fc43(0xab1)]=_0x287e1a();[_0x29fc43(0x908)]=_0x287e1a();['removeTrackCallback']=_0x287e1a();['receivers']=new Map();[_0x29fc43(0xaea)]=new Map();[_0x29fc43(0x6ca)];[_0x29fc43(0x3fe)]=0x0;[_0x29fc43(0x34b)]={'messages':{'total':0x0}};[_0x29fc43(0x326)]=0x0;[_0x29fc43(0x634)]=0x0;[_0x29fc43(0x78a)]=_0x3abf77(_0x29fc43(0xaa1),_0x30994c['ReceiverOnMessage']);[_0x29fc43(0xb1b)](){const _0x243adc=_0x29fc43;this[_0x243adc(0x839)](),this[_0x243adc(0x246)]['clear'](),super[_0x243adc(0xb1b)]();}async['handleOffer'](_0x583892,_0x531cf9){const _0xd9f847=_0x29fc43;this[_0xd9f847(0x348)]=_0x531cf9,this[_0xd9f847(0x839)]();const _0x354012=await this[_0xd9f847(0x2de)]['createAnswer'](_0x583892);this[_0xd9f847(0x153)]();const _0x41fbed=(0x0,_0x3adee5['v4'])();this[_0xd9f847(0x957)]({'type':_0x21f8c1[_0xd9f847(0x496)],'answer':_0x354012,'version':_0x531cf9,'connectionType':this['connectionType']},_0x41fbed),this[_0xd9f847(0x892)]===_0x5c07cb[_0xd9f847(0x592)]&&(this['waitSuccess']=_0x16c57a[_0xd9f847(0x875)](()=>{const _0x3294d6=_0xd9f847;this[_0x3294d6(0x957)]({'type':_0x21f8c1[_0x3294d6(0x496)],'answer':_0x354012,'version':_0x531cf9,'connectionType':this['connectionType']},_0x41fbed);},0x1388));}[_0x29fc43(0x46f)](){this['clearWaitSuccess']();}[_0x29fc43(0x96e)](_0x4242a4){const _0x413f4b=_0x29fc43;this['resetConnection'](_0x4242a4),this[_0x413f4b(0x957)]({'type':_0x21f8c1[_0x413f4b(0x177)]});}async[_0x29fc43(0x870)](){const _0x4a0239=_0x29fc43;this['systemTopic']&&(await this['connection']['collectReceiversStats'](this['receivers'],(_0x44a5fa,_0x433d5e)=>{const _0x3d992c=a0_0x424d;_0x2c479f({'type':_0x21f8c1[_0x3d992c(0x269)],'streamId':_0x433d5e,'nodeId':this[_0x3d992c(0x295)],'stats':_0x44a5fa},this[_0x3d992c(0x3aa)]);}),this['systemTopic'][_0x4a0239(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x4a0239(0x5d6)],'content':{'type':_0x21f8c1[_0x4a0239(0x269)],'nodeId':this[_0x4a0239(0x295)],'stats':{'origin':_0x337eb8[_0x4a0239(0x6cd)],'timestamp':Date[_0x4a0239(0x653)](),'messagesReceived':this[_0x4a0239(0x3fe)],'bytesReceived':this[_0x4a0239(0x326)],'timeReceiving':this[_0x4a0239(0x634)],'systemMessages':this[_0x4a0239(0x34b)]}}}));}[_0x29fc43(0x6b5)](_0x1ef9fb){const _0x314f61=_0x29fc43;return _0x3dbf37['isProduction']?this[_0x314f61(0xab1)][_0x314f61(0x75e)](_0x1ef9fb):this[_0x314f61(0xab1)][_0x314f61(0x75e)](_0x5cf055=>{const _0xe4a342=_0x314f61;0x0===_0x5cf055['topicLabel']&&_0x5cf055[_0xe4a342(0x30c)]===_0x158cb7['Content']&&this['loggingCycle']['logger']['log'](_0xe4a342(0x387)+this[_0xe4a342(0x295)],()=>_0x249ad9(_0x5cf055)),_0x1ef9fb(_0x5cf055);});}[_0x29fc43(0x738)](_0x17d708){const _0x2d4aeb=_0x29fc43;return this['trackCallback'][_0x2d4aeb(0x75e)](({track:_0x5d1899,stream:_0x135da5})=>_0x17d708(_0x5d1899,_0x135da5));}['onRemoveTrack'](_0x3d0fe7){const _0x199c22=_0x29fc43;return this['removeTrackCallback'][_0x199c22(0x75e)](({track:_0xb8689b,stream:_0x57cccc})=>_0x3d0fe7(_0xb8689b,_0x57cccc));}[_0x29fc43(0x884)](_0x2f901f){const _0x14fe01=_0x29fc43;this['clearWaitSuccess'](),this[_0x14fe01(0x246)][_0x14fe01(0x7f9)](_0x54bd4e=>{_0x54bd4e['clear']();}),super['resetConnection'](_0x2f901f);}[_0x29fc43(0x97c)](){const _0x13fa8d=_0x29fc43;this[_0x13fa8d(0x957)]({'type':_0x21f8c1['Handshake'],'candidates':this[_0x13fa8d(0x627)],'origin':_0x337eb8[_0x13fa8d(0x6cd)],'version':this[_0x13fa8d(0x348)],'connectionType':this[_0x13fa8d(0x892)]});}[_0x29fc43(0xa96)](){const _0x1684ab=_0x29fc43;super[_0x1684ab(0xa96)](),this[_0x1684ab(0x2de)][_0x1684ab(0x738)]=_0x27c99e=>{const _0x578f75=_0x1684ab;_0xb63eee[_0x578f75(0x195)](_0x30994c[_0x578f75(0x9c8)],_0x578f75(0x176),this[_0x578f75(0xa8a)]['getId'](),_0x27c99e),_0x27c99e[_0x578f75(0x99b)][0x0][_0x578f75(0x330)]=_0x1b8a9b=>{const _0x4a7272=_0x578f75;this[_0x4a7272(0x246)][_0x4a7272(0x2a2)](_0x27c99e[_0x4a7272(0x99b)][0x0]['id'])?.[_0x4a7272(0x5ef)](_0x1b8a9b[_0x4a7272(0xb1c)]),0x0===this[_0x4a7272(0x246)][_0x4a7272(0x2a2)](_0x27c99e[_0x4a7272(0x99b)][0x0]['id'])?.[_0x4a7272(0xb18)]&&this[_0x4a7272(0x246)][_0x4a7272(0x5ef)](_0x27c99e[_0x4a7272(0x99b)][0x0]['id']),this[_0x4a7272(0x625)]['publish']({'track':_0x1b8a9b[_0x4a7272(0xb1c)],'stream':_0x27c99e[_0x4a7272(0x99b)][0x0]});},this[_0x578f75(0x246)][_0x578f75(0x716)](_0x27c99e[_0x578f75(0x99b)][0x0]['id'])||this[_0x578f75(0x246)][_0x578f75(0x355)](_0x27c99e[_0x578f75(0x99b)][0x0]['id'],new Set()),this[_0x578f75(0x246)][_0x578f75(0x2a2)](_0x27c99e[_0x578f75(0x99b)][0x0]['id'])[_0x578f75(0x5ec)](_0x27c99e[_0x578f75(0xb1c)]),this[_0x578f75(0x908)][_0x578f75(0x289)]({'track':_0x27c99e[_0x578f75(0xb1c)],'stream':_0x27c99e[_0x578f75(0x99b)][0x0]});},this[_0x1684ab(0x2de)][_0x1684ab(0x24b)]=_0x4ad6f0=>{const _0x1c2ff1=_0x1684ab;this[_0x1c2ff1(0x6ed)]=_0x4ad6f0['channel'],this['dataChannel']['onMessage']=_0x439512=>{const _0x2ee89a=_0x1c2ff1;if(_0x439512[_0x2ee89a(0x7d7)]!==_0x3bc2e0)this['handleOnMessage'](_0x439512[_0x2ee89a(0x7d7)]);else{if(!this[_0x2ee89a(0x6ed)])return void _0xb63eee[_0x2ee89a(0x3c9)](_0x2ee89a(0x80a),{'clusterId':this[_0x2ee89a(0x93b)],'nodeId':this['localNode'][_0x2ee89a(0x994)](),'nodeType':this[_0x2ee89a(0xa8a)][_0x2ee89a(0xacf)],'remoteId':this[_0x2ee89a(0x295)],'data':{'connection':_0x2ee89a(0x8eb)}});if(_0x2ee89a(0x98b)!==this[_0x2ee89a(0x6ed)]['state'])return;this['dataChannel'][_0x2ee89a(0xae4)]('1');}};};}[_0x29fc43(0x21f)](_0x216d29){const _0x140ece=_0x29fc43;if(_0x140ece(0x89c)==typeof _0x216d29&&_0x216d29[_0x140ece(0xa8b)](_0x3f9a40))return this[_0x140ece(0x3fe)]+=0x1,this['bytesReceived']+=_0x216d29['length'],this[_0x140ece(0x1ea)](_0x216d29);setTimeout(()=>{const _0xa7d4a=_0x140ece,_0x3acf7d=Date[_0xa7d4a(0x653)]();let _0x53eb5a;if((_0x216d29 instanceof ArrayBuffer||_0x216d29[_0xa7d4a(0x4c5)]<=_0xd89cb)&&(this[_0xa7d4a(0x3fe)]+=0x1,this[_0xa7d4a(0x326)]+=_0x216d29 instanceof ArrayBuffer?_0x216d29['byteLength']:_0x216d29[_0xa7d4a(0x4c5)]),_0x216d29 instanceof ArrayBuffer){const [_0x18112b,_0x4dcaf0]=this[_0xa7d4a(0x979)](_0x216d29);_0x53eb5a=_0x18112b,_0x53eb5a['content']['data']=_0x4dcaf0;}else _0x53eb5a=JSON['parse'](_0x216d29);if(0x0===_0x53eb5a[_0xa7d4a(0x801)]){this[_0xa7d4a(0x34b)][_0xa7d4a(0x8b8)][_0xa7d4a(0x9ad)]+=0x1;const {systemMessageType:_0x2f3d54,systemContentMessageType:_0xe55f4c}=_0x249ad9(_0x53eb5a);this[_0xa7d4a(0x34b)][_0x2f3d54]||(this[_0xa7d4a(0x34b)][_0x2f3d54]={[_0xe55f4c]:0x0}),this[_0xa7d4a(0x34b)][_0x2f3d54][_0xe55f4c]||(this[_0xa7d4a(0x34b)][_0x2f3d54][_0xe55f4c]=0x0),this[_0xa7d4a(0x34b)][_0x2f3d54]['total']||(this[_0xa7d4a(0x34b)][_0x2f3d54][_0xa7d4a(0x9ad)]=0x0),this[_0xa7d4a(0x34b)][_0x2f3d54][_0xe55f4c]+=0x1,this['systemMessagesReceived'][_0x2f3d54][_0xa7d4a(0x9ad)]+=0x1;}this['messageCallback'][_0xa7d4a(0x289)](_0x53eb5a),this[_0xa7d4a(0x634)]+=Date[_0xa7d4a(0x653)]()-_0x3acf7d;},0x0);}[_0x29fc43(0x1ea)](_0x714733){const _0x3a4a77=_0x29fc43,_0x5cfb2b=_0x714733[_0x3a4a77(0x388)](';'),_0x3e9715=_0x5cfb2b[0x1],_0x1d38e1=parseInt(_0x5cfb2b[0x2],0xa),_0x4215cc=parseInt(_0x5cfb2b[0x3],0xa),_0x3e8c80=_0x714733[_0x3a4a77(0x9fb)](_0x3f9a40+';'+_0x3e9715+';'+_0x1d38e1+';'+_0x4215cc+';','');this['chunks'][_0x3a4a77(0x716)](_0x3e9715)||this['chunks']['set'](_0x3e9715,[]);const _0x3077b4=this[_0x3a4a77(0xaea)][_0x3a4a77(0x2a2)](_0x3e9715);_0x3077b4[_0x1d38e1]=_0x3e8c80,_0x3077b4['length']===_0x4215cc&&(this[_0x3a4a77(0x21f)](_0x3077b4['join']('')),this[_0x3a4a77(0xaea)][_0x3a4a77(0x5ef)](_0x3e9715));}['clearWaitSuccess'](){const _0x2cd67b=_0x29fc43;this[_0x2cd67b(0x6ca)]?.(),delete this[_0x2cd67b(0x6ca)];}['arrayBufferToObject'](_0x13031c){const _0x4b3aed=_0x29fc43,_0x4806d3=new TextDecoder()[_0x4b3aed(0x882)](_0x13031c);return JSON[_0x4b3aed(0x763)](_0x4806d3);}[_0x29fc43(0x979)](_0x988f6a){const _0x348354=_0x29fc43,_0x3dafcd=new Uint8Array(_0x988f6a[_0x348354(0x83a)](0x0,0x4)),_0x5f3199=new Uint32Array(_0x3dafcd[_0x348354(0x140)])[0x0],_0x3ce5f3=new Uint8Array(_0x988f6a[_0x348354(0x83a)](0x4,0x4+_0x5f3199)),_0x4a71fa=new Uint8Array(_0x988f6a[_0x348354(0x83a)](0x4+_0x5f3199));return[this[_0x348354(0x44b)](_0x3ce5f3['buffer']),_0x4a71fa['buffer']];}}const _0x10fdc3=0xc350;var _0x50ffdf,_0x4d7c63;!function(_0x1d8361){const _0x14d3c3=_0x29fc43;_0x1d8361[_0x1d8361[_0x14d3c3(0x325)]=0x0]=_0x14d3c3(0x325),_0x1d8361[_0x1d8361[_0x14d3c3(0xa57)]=0x1]='Medium',_0x1d8361[_0x1d8361[_0x14d3c3(0xb21)]=0x2]='Low';}(_0x50ffdf||(_0x50ffdf={}));class _0x2308b7 extends _0x20ca3a{[_0x29fc43(0x468)];['maxBpp'];[_0x29fc43(0x820)]=new Map();[_0x29fc43(0x91e)];[_0x29fc43(0x747)];['lastHeartbeat'];[_0x29fc43(0x72d)]=!0x1;[_0x29fc43(0x671)];[_0x29fc43(0x98f)];[_0x29fc43(0x4e5)];[_0x29fc43(0x37a)]=function(e,t=_0x50ffdf,n=!0x1){const _0x4f27af=_0x29fc43;let s=!0x1;const o=[];async function i(){const _0x5c44b7=a0_0x424d;if(!s){for(s=!0x0;o['some'](e=>e[_0x5c44b7(0xa9e)]);){let t,s=0x0;for(const [e,n]of o['entries']())if(t=n[_0x5c44b7(0x3e5)](),s=e,t)break;if(t)try{if(e instanceof _0x368850&&e[_0x5c44b7(0x4a9)](t),e instanceof _0x2d0320&&await e['call'](t),o['slice'](-0x1)[_0x5c44b7(0x21d)](e=>e[_0x5c44b7(0xa9e)]))continue;const n=o[_0x5c44b7(0x4c5)]-0x1;s===n&&o[n][_0x5c44b7(0xa9e)]&&await _0x16c57a[_0x5c44b7(0x73f)](0x0);}catch(i){n?o[s][_0x5c44b7(0x9f9)](t,!0x1):o[s][_0x5c44b7(0x5aa)](t,!0x1),await e[_0x5c44b7(0x73f)]();}}s=!0x1;}}return Object[_0x4f27af(0x347)](t)[_0x4f27af(0x7f9)](e=>{const _0x1e2908=_0x4f27af;_0x1e2908(0x89c)!=typeof e&&(o[e]=_0x49e5a0(i));}),{'queues':o};}(new _0x368850(this[_0x29fc43(0x4e1)][_0x29fc43(0x699)](this),this[_0x29fc43(0xa30)][_0x29fc43(0x699)](this)));['messagesSent']=0x0;['bytesSent']=0x0;['timeSending']=0x0;[_0x29fc43(0x48d)]=0x0;[_0x29fc43(0x740)];[_0x29fc43(0x78a)]=_0x3abf77(_0x29fc43(0x2bb),_0x30994c[_0x29fc43(0x769)]);constructor(_0x508990,_0x1f5b51,_0x5c8c74,_0x565b41,_0x1c4a5f,_0x295178,_0x13784c,_0x3df75d){const _0x315470=_0x29fc43;super(_0x508990,_0x1f5b51,_0x5c8c74,_0x565b41,_0x1c4a5f,_0x3df75d),this['maxFps']=_0x295178,this[_0x315470(0x336)]=_0x13784c;}[_0x29fc43(0xb1b)](){const _0x4da9e0=_0x29fc43;this[_0x4da9e0(0x7ef)](),this[_0x4da9e0(0x4ea)](),delete this[_0x4da9e0(0x36d)],this['clearRestartTimeout'](),this[_0x4da9e0(0x1cc)](),this['clearWaitAnswer'](),this['senders'][_0x4da9e0(0x985)](),this[_0x4da9e0(0x72d)]=!0x1,this[_0x4da9e0(0x37a)][_0x4da9e0(0x56f)][_0x4da9e0(0x7f9)](_0xe8b406=>_0xe8b406['clear']()),this[_0x4da9e0(0x724)](),super['close']();}[_0x29fc43(0x65f)](){const _0x419075=_0x29fc43;return!!this[_0x419075(0x36d)]&&super['isConnected']()&&Date[_0x419075(0x653)]()-this['lastHeartbeat']<0x3a98;}async[_0x29fc43(0x870)](){const _0x2b4878=_0x29fc43;this[_0x2b4878(0x3aa)]&&(await this[_0x2b4878(0x2de)][_0x2b4878(0xae6)](this[_0x2b4878(0x820)],(_0x19001d,_0x51c23c)=>{const _0xa2efd4=_0x2b4878;_0x2c479f({'type':_0x21f8c1[_0xa2efd4(0x269)],'streamId':_0x51c23c,'nodeId':this[_0xa2efd4(0x295)],'stats':_0x19001d},this[_0xa2efd4(0x3aa)]);}),this['systemTopic']['publish']({'sourceId':_0x491349,'messageType':_0x158cb7['PeerConnection'],'content':{'type':_0x21f8c1[_0x2b4878(0x269)],'nodeId':this[_0x2b4878(0x295)],'stats':{'origin':_0x337eb8[_0x2b4878(0x7fc)],'timestamp':Date['now'](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x2b4878(0x656)],'timeSending':this['timeSending'],'roundTripTime':this[_0x2b4878(0x48d)]}}}));}async['createOffer'](_0x2aadc8){const _0x4f35b2=_0x29fc43;_0xb63eee[_0x4f35b2(0x195)](_0x30994c[_0x4f35b2(0x9c8)],_0x4f35b2(0x752),this[_0x4f35b2(0xa8a)][_0x4f35b2(0x994)](),this['remoteId']),this[_0x4f35b2(0x15a)](),this['clearConnectionTimeout'](),this[_0x4f35b2(0x77a)](),this[_0x4f35b2(0x671)]=setTimeout(()=>{const _0x314a64=_0x4f35b2;this[_0x314a64(0x2b5)]();},0x7530),this[_0x4f35b2(0x6ed)]||(this[_0x4f35b2(0x6ed)]=this[_0x4f35b2(0x2de)]['createDataChannel'](_0x4f35b2(0x7d7)),this[_0x4f35b2(0x6ed)]['bufferedAmountLowThreshold']=_0x404e13,this[_0x4f35b2(0x6ed)][_0x4f35b2(0x554)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x393ece=a0_0x424d;delete this[_0x393ece(0x740)],['connecting',_0x393ece(0x98b)][_0x393ece(0x3a7)](this[_0x393ece(0x6ed)]?.[_0x393ece(0x4db)]??'')||this[_0x393ece(0x2b5)]();},0xfa);});const _0x974752=await this['connection'][_0x4f35b2(0x363)](_0x2aadc8);this['lastHeartbeat']||(this[_0x4f35b2(0x36d)]=Date['now']());const _0x248cb9=(0x0,_0x3adee5['v4'])();this['publishSystemMessage']({'type':_0x21f8c1['Offer'],'offer':_0x974752,'version':this[_0x4f35b2(0x348)],'connectionType':this[_0x4f35b2(0x892)]},_0x248cb9),this['connectionType']===_0x5c07cb['Core']&&(this[_0x4f35b2(0x747)]=_0x16c57a[_0x4f35b2(0x875)](()=>{const _0xb58499=_0x4f35b2;this[_0xb58499(0x957)]({'type':_0x21f8c1['Offer'],'offer':_0x974752,'version':this[_0xb58499(0x348)],'connectionType':this[_0xb58499(0x892)]},_0x248cb9);},0x1388));}async['handleAnswer'](_0x3b6b01,_0x46eb62){const _0x24f560=_0x29fc43;if(_0x46eb62===this[_0x24f560(0x348)]){this[_0x24f560(0x77a)]();try{await this[_0x24f560(0x2de)]['handleAnswer'](_0x3b6b01,this[_0x24f560(0x363)]['bind'](this)),this['processPendingHandshakeCandidates'](),this[_0x24f560(0x1cc)](),this[_0x24f560(0x9db)]();}catch(_0x54ae92){this[_0x24f560(0x2b5)]();}}}[_0x29fc43(0xae4)](_0x3a5f53){const _0x3a65e2=_0x29fc43;if(!this['dataChannel'])throw new _0x3335bf(_0x3335bf[_0x3a65e2(0x4ee)][_0x3a65e2(0x350)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x3a65e2(0xa8a)][_0x3a65e2(0x994)](),'remoteId':this[_0x3a65e2(0x295)],'eventMessage':_0x3a5f53});if('open'!==this[_0x3a65e2(0x6ed)]['state'])throw new _0x3335bf(_0x3335bf['codes'][_0x3a65e2(0x350)],{'message':_0x3a65e2(0x8d1),'localId':this[_0x3a65e2(0xa8a)][_0x3a65e2(0x994)](),'remoteId':this[_0x3a65e2(0x295)],'eventMessage':_0x3a5f53});let _0x33702d;if(_0x3a5f53[_0x3a65e2(0x88a)][_0x3a65e2(0x7d7)]instanceof ArrayBuffer){const _0x3fe6db=_0x3a5f53['content'][_0x3a65e2(0x7d7)];_0x3a5f53={..._0x3a5f53,'content':{..._0x3a5f53['content'],'data':void 0x0}},_0x33702d=this[_0x3a65e2(0xa0c)](_0x3a5f53,_0x3fe6db);}else _0x33702d=JSON[_0x3a65e2(0x9a0)](_0x3a5f53);if(_0x3a65e2(0x89c)==typeof _0x33702d&&_0x33702d[_0x3a65e2(0x4c5)]>_0xd89cb)return void this[_0x3a65e2(0x220)](_0x3a5f53,_0x33702d);0x0===_0x3a5f53[_0x3a65e2(0x801)]&&_0x3a5f53[_0x3a65e2(0x30c)]===_0x158cb7[_0x3a65e2(0x9aa)]&&this[_0x3a65e2(0x78a)][_0x3a65e2(0x6a1)]['performCalculation'](()=>_0xb63eee[_0x3a65e2(0x195)](_0x30994c[_0x3a65e2(0x769)],_0x3a65e2(0x4c0),this[_0x3a65e2(0x295)],_0x249ad9(_0x3a5f53)),void 0x0);const _0xd95554=0x0===_0x3a5f53['topicLabel']&&[_0x158cb7[_0x3a65e2(0x4a6)],_0x158cb7['PeerConnection']]['includes'](_0x3a5f53[_0x3a65e2(0x30c)])?_0x50ffdf['High']:_0x3a5f53 instanceof ArrayBuffer?_0x50ffdf[_0x3a65e2(0xb21)]:_0x50ffdf[_0x3a65e2(0xa57)];this[_0x3a65e2(0x987)](_0x33702d,_0xd95554);}['addTrack'](_0x8a98cc,_0x2f98c6,_0x4ec2e5,_0x102d24){const _0x458250=_0x29fc43,_0x1af672=(_0x23cc0f=this['maxFps'],_0x136b42=this[_0x458250(0x336)],Math[_0x458250(0x74e)](0xe1000*_0x23cc0f*_0x136b42));var _0x23cc0f,_0x136b42;const _0x38fee0=this['senders'][_0x458250(0x2a2)](_0x2f98c6['id'])||{'stream':_0x2f98c6,'priority':_0x4ec2e5,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x1af672,'maxBitrate':_0x1af672,'framerate':this[_0x458250(0x468)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x102d24},_0xa529b0=_0x38fee0[_0x458250(0x3b0)][_0x8a98cc[_0x458250(0x4c2)]]||{'track':_0x8a98cc};if(_0xa529b0['sender']?(_0xa529b0['track']=_0x8a98cc,this[_0x458250(0x2de)][_0x458250(0x13c)](_0x8a98cc,_0xa529b0[_0x458250(0x14c)])):_0xa529b0[_0x458250(0x14c)]=this[_0x458250(0x2de)][_0x458250(0x37e)](_0x8a98cc,_0x2f98c6),_0x38fee0['tracks'][_0x8a98cc[_0x458250(0x4c2)]]=_0xa529b0,_0x102d24&&(_0x38fee0[_0x458250(0x7b6)]=_0x102d24),_0x102d24&&_0x458250(0x41d)===_0x102d24[_0x458250(0x4c2)]&&_0x102d24[_0x458250(0x213)]&&_0x102d24[_0x458250(0x6d5)]&&(_0x38fee0[_0x458250(0x203)]=this[_0x458250(0x8a7)](_0x102d24[_0x458250(0x213)],_0x102d24[_0x458250(0x6d5)]),_0x38fee0['minResolutionScale']=_0x38fee0[_0x458250(0x203)],_0x38fee0['tracks']['video']&&_0x38fee0[_0x458250(0x3b0)][_0x458250(0x41d)][_0x458250(0x14c)])){const _0x44cb5d=_0x38fee0['tracks']['video'][_0x458250(0x14c)];this[_0x458250(0x2de)][_0x458250(0x485)](_0x44cb5d,Math[_0x458250(0x74e)](0xa*_0x38fee0[_0x458250(0x203)])/0xa,_0x38fee0[_0x458250(0x85b)],_0x38fee0[_0x458250(0x780)],_0x38fee0[_0x458250(0x572)]);}this['senders'][_0x458250(0x355)](_0x2f98c6['id'],_0x38fee0);}['setPriority'](_0x469198,_0x49bfc2){const _0x323787=_0x29fc43,_0x2c670a=this[_0x323787(0x820)]['get'](_0x469198['id']);if(_0x2c670a&&_0x2c670a['priority']!==_0x49bfc2&&(_0x2c670a['priority']=_0x49bfc2,_0x2c670a[_0x323787(0x3b0)]['video']&&_0x2c670a['tracks'][_0x323787(0x41d)][_0x323787(0x14c)])){const _0x2dbe76=_0x2c670a[_0x323787(0x3b0)]['video'][_0x323787(0x14c)];this[_0x323787(0x2de)][_0x323787(0x485)](_0x2dbe76,Math[_0x323787(0x74e)](0xa*_0x2c670a[_0x323787(0x203)])/0xa,_0x2c670a[_0x323787(0x85b)],_0x2c670a['bitrate'],_0x2c670a[_0x323787(0x572)]);}}[_0x29fc43(0x598)](_0x42f2fb,_0x36928c){const _0xccbfe6=_0x29fc43,_0x4ad557=this[_0xccbfe6(0x820)][_0xccbfe6(0x2a2)](_0x42f2fb['id']);if(_0x4ad557){if(_0x4ad557['params']=_0x36928c,_0x36928c&&'video'===_0x36928c['kind']&&_0x36928c[_0xccbfe6(0x213)]&&_0x36928c[_0xccbfe6(0x6d5)]){if(_0x4ad557[_0xccbfe6(0x67b)]=this[_0xccbfe6(0x8a7)](_0x36928c['resolution'],_0x36928c[_0xccbfe6(0x6d5)]),_0x4ad557[_0xccbfe6(0x203)]<_0x4ad557[_0xccbfe6(0x67b)]&&(_0x4ad557[_0xccbfe6(0x203)]=_0x4ad557[_0xccbfe6(0x67b)]),_0x4ad557[_0xccbfe6(0x3b0)][_0xccbfe6(0x41d)]&&_0x4ad557[_0xccbfe6(0x3b0)][_0xccbfe6(0x41d)]['sender']){const _0x28924d=_0x4ad557['tracks'][_0xccbfe6(0x41d)][_0xccbfe6(0x14c)];this[_0xccbfe6(0x2de)]['setEncodingParameters'](_0x28924d,Math[_0xccbfe6(0x74e)](0xa*_0x4ad557[_0xccbfe6(0x203)])/0xa,_0x4ad557[_0xccbfe6(0x85b)],_0x4ad557[_0xccbfe6(0x780)],_0x4ad557[_0xccbfe6(0x572)]);}this['clearUpgradeTimeout'](),this[_0xccbfe6(0x8e2)]();}this[_0xccbfe6(0x820)][_0xccbfe6(0x355)](_0x42f2fb['id'],_0x4ad557);}}[_0x29fc43(0x903)](_0x39e2a2,_0x1b17ba){const _0x2833e7=_0x29fc43,_0x172522=this[_0x2833e7(0x820)][_0x2833e7(0x2a2)](_0x1b17ba['id']);if(_0x172522){const _0x48042e=_0x172522[_0x2833e7(0x3b0)][_0x39e2a2[_0x2833e7(0x4c2)]];_0x48042e&&(_0x48042e[_0x2833e7(0x14c)]&&this[_0x2833e7(0x2de)]['removeTrack'](_0x48042e['sender']),_0x48042e[_0x2833e7(0xb1c)]=void 0x0);}}[_0x29fc43(0x142)](_0x4252b8){const _0x13cdd2=_0x29fc43;this[_0x13cdd2(0x7ef)]();const _0x41665f=function(_0xb8056a,_0x182198){const _0x5b3b3c=_0x13cdd2;return _0xb8056a[_0x5b3b3c(0xb06)]((_0x54f88c,_0x1dbc1a)=>_0x182198[_0x5b3b3c(0x47e)]===_0x9e7457['Downgrade']?_0x1dbc1a[_0x5b3b3c(0x572)]-_0x54f88c[_0x5b3b3c(0x572)]:_0x54f88c['priority']-_0x1dbc1a['priority'])[_0x5b3b3c(0x5a5)](_0x173a8f=>function(_0x2c9c5b,_0x175815){const _0xaa3004=_0x5b3b3c;if(_0x175815[_0xaa3004(0x47e)]===_0x9e7457[_0xaa3004(0x6ac)]){if(_0x175815[_0xaa3004(0x95f)]===_0x1cd470[_0xaa3004(0x412)])return _0x2c9c5b[_0xaa3004(0x203)]<0x4||_0x2c9c5b['maxFramerate']>0xf;if(_0x175815[_0xaa3004(0x95f)]===_0x1cd470[_0xaa3004(0x7d2)])return _0x2c9c5b[_0xaa3004(0x62e)]>_0x10fdc3;}return _0x2c9c5b[_0xaa3004(0x203)]>_0x2c9c5b[_0xaa3004(0x67b)]||_0x2c9c5b['framerate']<_0x2c9c5b[_0xaa3004(0xa19)]||_0x2c9c5b[_0xaa3004(0x780)]<_0x2c9c5b[_0xaa3004(0x62e)];}(_0x173a8f,_0x182198));}(Array[_0x13cdd2(0x8f7)](this['senders'][_0x13cdd2(0x347)]()),_0x4252b8);if(_0x41665f&&(function(_0x322a00,_0x2b0751){const _0x287631=_0x13cdd2;_0x322a00[_0x287631(0x3b0)][_0x287631(0x41d)]&&_0x322a00['tracks'][_0x287631(0x41d)]['sender']&&(_0x322a00[_0x287631(0x203)]=function(_0x1254b0,_0x9baa65,_0x5231dd){const _0x146d18=_0x287631;switch(_0x5231dd[_0x146d18(0x47e)]){case _0x9e7457[_0x146d18(0x6ac)]:_0x5231dd[_0x146d18(0x95f)]===_0x1cd470['Resolution']&&(_0x1254b0+=0.5)>0x4&&(_0x1254b0=0x4);break;case _0x9e7457[_0x146d18(0x21b)]:(_0x1254b0-=0.5)<_0x9baa65&&(_0x1254b0=_0x9baa65);}return _0x1254b0;}(_0x322a00[_0x287631(0x203)],_0x322a00[_0x287631(0x67b)],_0x2b0751),_0x322a00[_0x287631(0x85b)]=function(_0x37a616,_0x2f297f,_0x2e5e08){const _0xc50565=_0x287631;switch(_0x2e5e08[_0xc50565(0x47e)]){case _0x9e7457[_0xc50565(0x6ac)]:_0x2e5e08[_0xc50565(0x95f)]===_0x1cd470[_0xc50565(0x412)]&&(_0x37a616-=0x3)<0xf&&(_0x37a616=0xf);break;case _0x9e7457['Upgrade']:(_0x37a616+=0x3)>_0x2f297f&&(_0x37a616=_0x2f297f);}return _0x37a616;}(_0x322a00[_0x287631(0x85b)],_0x322a00[_0x287631(0xa19)],_0x2b0751),_0x322a00['bitrate']=function(_0x3e615f,_0x75eca7,_0x3945fa){const _0x26e737=_0x287631;switch(_0x3945fa['action']){case _0x9e7457[_0x26e737(0x6ac)]:_0x3945fa[_0x26e737(0x95f)]===_0x1cd470[_0x26e737(0x7d2)]&&(_0x3e615f*=0.75)<_0x10fdc3&&(_0x3e615f=_0x10fdc3);break;case _0x9e7457[_0x26e737(0x21b)]:(_0x3e615f*=1.25)>_0x75eca7&&(_0x3e615f=_0x75eca7);}return _0x3e615f;}(_0x322a00[_0x287631(0x780)],_0x322a00[_0x287631(0x62e)],_0x2b0751));}(_0x41665f,_0x4252b8),_0x41665f[_0x13cdd2(0x3b0)][_0x13cdd2(0x41d)]&&_0x41665f[_0x13cdd2(0x3b0)][_0x13cdd2(0x41d)]['sender'])){const _0x357379=_0x41665f[_0x13cdd2(0x3b0)][_0x13cdd2(0x41d)][_0x13cdd2(0x14c)];this['connection'][_0x13cdd2(0x485)](_0x357379,Math[_0x13cdd2(0x74e)](0xa*_0x41665f[_0x13cdd2(0x203)])/0xa,_0x41665f[_0x13cdd2(0x85b)],_0x41665f['bitrate'],_0x41665f['priority']);}(_0x41665f||_0x4252b8[_0x13cdd2(0x47e)]===_0x9e7457[_0x13cdd2(0x6ac)])&&this[_0x13cdd2(0x8e2)]();}[_0x29fc43(0x6e8)](){const _0x556d7c=_0x29fc43;return this[_0x556d7c(0x37a)][_0x556d7c(0x56f)]['reduce']((_0xb830a7,_0x43836a)=>_0xb830a7+_0x43836a[_0x556d7c(0xb18)],0x0)*_0x27bcc0;}[_0x29fc43(0x1e6)](){const _0x4c8714=_0x29fc43;return this[_0x4c8714(0x6ed)]?.['bufferedAmount']??0x0;}[_0x29fc43(0x884)](){const _0x4cb1b6=_0x29fc43;super['resetConnection'](),this[_0x4cb1b6(0x724)](),this[_0x4cb1b6(0x77a)](),this[_0x4cb1b6(0x820)]['forEach'](_0x2089d5=>{const _0x2a2a3d=_0x4cb1b6;_0x2089d5['tracks']['video']&&(_0x2089d5[_0x2a2a3d(0x3b0)][_0x2a2a3d(0x41d)][_0x2a2a3d(0x14c)]=void 0x0),_0x2089d5[_0x2a2a3d(0x3b0)][_0x2a2a3d(0x3c3)]&&(_0x2089d5[_0x2a2a3d(0x3b0)]['audio'][_0x2a2a3d(0x14c)]=void 0x0);}),this[_0x4cb1b6(0x72d)]=!0x0;}async[_0x29fc43(0xa30)](){return new Promise(async _0x3d714c=>{const _0x940af1=a0_0x424d;if(!this[_0x940af1(0x6ed)]||_0x940af1(0x98b)!==this['dataChannel'][_0x940af1(0x4db)])return await _0x16c57a[_0x940af1(0x73f)](0x64),void _0x3d714c();this[_0x940af1(0x6ed)][_0x940af1(0xa48)]<_0x404e13?_0x3d714c():this[_0x940af1(0x6ed)][_0x940af1(0x57a)]=()=>{const _0x37e390=_0x940af1;this[_0x37e390(0x6ed)]&&(this[_0x37e390(0x6ed)][_0x37e390(0x57a)]=null),_0x3d714c();};});}async[_0x29fc43(0x220)](_0x2ea77d,_0x542baa){const _0xa6be46=_0x29fc43,_0x369354=[];for(let _0x45360c=0x0;_0x45360c<_0x542baa[_0xa6be46(0x4c5)];_0x45360c+=_0xd89cb)_0x369354[_0xa6be46(0x9f9)](_0x542baa[_0xa6be46(0x83a)](_0x45360c,_0x45360c+_0xd89cb));for(const _0x16678e of _0x369354){for(;this[_0xa6be46(0x37a)][_0xa6be46(0x56f)][_0x50ffdf['Low']]['size']>0x1;)await _0x16c57a['wait'](0x64);this[_0xa6be46(0x987)](_0x3f9a40+';'+_0x2ea77d[_0xa6be46(0x5f0)]+';'+_0x369354[_0xa6be46(0x511)](_0x16678e)+';'+_0x369354[_0xa6be46(0x4c5)]+';'+_0x16678e,_0x50ffdf['Low']);}}async['sendWithRetry'](_0x440f27,_0x4cdcde){const _0x6732e1=_0x29fc43;_0x440f27===_0x3bc2e0?this[_0x6732e1(0x37a)][_0x6732e1(0x56f)][_0x4cdcde][_0x6732e1(0xa9e)]?.['value']!==_0x3bc2e0&&this[_0x6732e1(0x37a)][_0x6732e1(0x56f)][_0x4cdcde][_0x6732e1(0x5aa)](_0x440f27):this[_0x6732e1(0x37a)][_0x6732e1(0x56f)][_0x4cdcde][_0x6732e1(0x9f9)](_0x440f27);}['sendAction'](_0x435b7a){const _0x4e3932=_0x29fc43;if(!this[_0x4e3932(0x6ed)]||_0x4e3932(0x98b)!==this['dataChannel'][_0x4e3932(0x4db)])throw new Error(_0x4e3932(0x197));if(this['dataChannel'][_0x4e3932(0xa48)]>=0x600000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x2b214d=Date[_0x4e3932(0x653)]();_0x435b7a!==_0x3bc2e0&&(this[_0x4e3932(0x5e8)]+=0x1,this['bytesSent']+=_0x435b7a instanceof ArrayBuffer?_0x435b7a[_0x4e3932(0x13e)]:_0x435b7a[_0x4e3932(0x4c5)]);try{ArrayBuffer,this[_0x4e3932(0x6ed)][_0x4e3932(0xae4)](_0x435b7a);}catch(_0x4d7abf){throw console['error']('DataChannel\x20send\x20error',_0x4d7abf),_0x4d7abf;}this[_0x4e3932(0x58b)]+=Date[_0x4e3932(0x653)]()-_0x2b214d;}[_0x29fc43(0x9db)](){const _0x10ed4d=_0x29fc43;this['heartbeatUnsubscriber']&&this['clearHeartbeat']();let _0xffb3a9=!0x0,_0xc135d7=Date[_0x10ed4d(0x653)]();this[_0x10ed4d(0x36d)]=Date[_0x10ed4d(0x653)](),this[_0x10ed4d(0x6ed)][_0x10ed4d(0x6b5)]=_0x1e56e0=>{const _0x484b3c=_0x10ed4d;'1'===_0x1e56e0[_0x484b3c(0x7d7)]&&(this[_0x484b3c(0x48d)]=Date[_0x484b3c(0x653)]()-_0xc135d7,_0xffb3a9&&this[_0x484b3c(0x957)]({'type':_0x21f8c1[_0x484b3c(0x867)]}),_0xffb3a9=!0x1,this[_0x484b3c(0x36d)]=Date[_0x484b3c(0x653)](),this[_0x484b3c(0x72d)]&&(this[_0x484b3c(0x72d)]=!0x1,this[_0x484b3c(0x361)]()));},this[_0x10ed4d(0x91e)]=_0x16c57a[_0x10ed4d(0x875)](()=>{const _0x147352=_0x10ed4d;_0xc135d7=Date[_0x147352(0x653)](),this[_0x147352(0x987)](_0x3bc2e0,_0x50ffdf['High']),Date[_0x147352(0x653)]()-this['lastHeartbeat']>(_0xffb3a9?0x15f90:0x3a98)&&this[_0x147352(0x2b5)]();},0xbb8);}[_0x29fc43(0x361)](){const _0x483be8=_0x29fc43;this[_0x483be8(0x820)][_0x483be8(0x7f9)](_0x64b44b=>{const _0x288f60=_0x483be8;_0x64b44b['tracks'][_0x288f60(0x41d)]&&_0x64b44b[_0x288f60(0x3b0)][_0x288f60(0x41d)]['track']&&!_0x64b44b[_0x288f60(0x3b0)][_0x288f60(0x41d)][_0x288f60(0x14c)]&&(_0x64b44b['tracks'][_0x288f60(0x41d)][_0x288f60(0x14c)]=this[_0x288f60(0x2de)][_0x288f60(0x37e)](_0x64b44b[_0x288f60(0x3b0)][_0x288f60(0x41d)][_0x288f60(0xb1c)],_0x64b44b[_0x288f60(0x787)])),_0x64b44b[_0x288f60(0x3b0)][_0x288f60(0x3c3)]&&_0x64b44b[_0x288f60(0x3b0)][_0x288f60(0x3c3)][_0x288f60(0xb1c)]&&!_0x64b44b[_0x288f60(0x3b0)]['audio'][_0x288f60(0x14c)]&&(_0x64b44b[_0x288f60(0x3b0)]['audio'][_0x288f60(0x14c)]=this['connection'][_0x288f60(0x37e)](_0x64b44b[_0x288f60(0x3b0)][_0x288f60(0x3c3)][_0x288f60(0xb1c)],_0x64b44b['stream']));});}[_0x29fc43(0x97c)](){const _0x136770=_0x29fc43;this['publishSystemMessage']({'type':_0x21f8c1[_0x136770(0xb17)],'candidates':this[_0x136770(0x627)],'origin':_0x337eb8[_0x136770(0x7fc)],'version':this[_0x136770(0x348)],'connectionType':this[_0x136770(0x892)]});}['setupConnectionEvents'](){const _0x51c537=_0x29fc43;super[_0x51c537(0xa96)](),this[_0x51c537(0x2de)]['onHandshakeStateChange']=()=>{const _0x12ca39=_0x51c537;if(_0x12ca39(0x7ae)===this['connection'][_0x12ca39(0x39e)]){_0xb63eee[_0x12ca39(0x195)](_0x30994c[_0x12ca39(0x7c0)],_0x12ca39(0x2a3),this[_0x12ca39(0xa8a)]['getId'](),this[_0x12ca39(0x295)]);try{if(this['connection'][_0x12ca39(0x2fc)])return void this[_0x12ca39(0x2de)][_0x12ca39(0x4b5)]();}catch(_0x46b7d1){}this[_0x12ca39(0x363)]({'handshakeRestart':!0x0});}},this[_0x51c537(0x2de)][_0x51c537(0x434)]=()=>{const _0x4e4cb1=_0x51c537;_0x4e4cb1(0x31e)!==this['connection'][_0x4e4cb1(0x174)]&&'failed'!==this[_0x4e4cb1(0x2de)]['connectionState']||this[_0x4e4cb1(0x2b5)]();};}['handleDisconnect'](){const _0x296df1=_0x29fc43;this[_0x296df1(0x4ea)](),this[_0x296df1(0x15a)](),this[_0x296df1(0x1cc)](),_0xb63eee['warning'](_0x296df1(0x756),{'clusterId':this[_0x296df1(0x93b)],'nodeId':this[_0x296df1(0xa8a)]['getId'](),'nodeType':this[_0x296df1(0xa8a)]['type'],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x296df1(0x892)],'connectionState':this[_0x296df1(0x2de)][_0x296df1(0x174)],'iceConnectionState':this['connection'][_0x296df1(0x39e)],'signalingState':this['connection'][_0x296df1(0x864)],'readyState':this[_0x296df1(0x6ed)]?.['state']||'','lastHeartbeat':this[_0x296df1(0x36d)]?Date[_0x296df1(0x653)]()-this[_0x296df1(0x36d)]:'','retryQueue':this[_0x296df1(0x37a)]}}),(this[_0x296df1(0x36d)]&&Date[_0x296df1(0x653)]()-this[_0x296df1(0x36d)]>0xea60)??0x1?this[_0x296df1(0x3aa)]['publish']({'sourceId':this[_0x296df1(0x295)],'destinationIds':[this[_0x296df1(0xa8a)][_0x296df1(0x994)]()],'messageType':_0x158cb7[_0x296df1(0x5d6)],'content':{'type':_0x21f8c1['Disconnect']}}):(this['resetConnection'](),this[_0x296df1(0x957)]({'type':_0x21f8c1[_0x296df1(0x4f7)],'version':this['currentVersion'],'connectionType':this[_0x296df1(0x892)]}),this[_0x296df1(0x98f)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}['clearHeartbeat'](){const _0x3c32bc=_0x29fc43;this[_0x3c32bc(0x91e)]?.(),delete this[_0x3c32bc(0x91e)];}['clearConnectionTimeout'](){const _0x8b1a27=_0x29fc43;this[_0x8b1a27(0x671)]&&(clearTimeout(this[_0x8b1a27(0x671)]),delete this['connectionTimeout']);}[_0x29fc43(0x15a)](){const _0x357e89=_0x29fc43;this[_0x357e89(0x98f)]&&(clearTimeout(this[_0x357e89(0x98f)]),delete this[_0x357e89(0x98f)]);}[_0x29fc43(0x7ef)](){const _0x471607=_0x29fc43;this[_0x471607(0x4e5)]&&(clearTimeout(this[_0x471607(0x4e5)]),delete this[_0x471607(0x4e5)]);}[_0x29fc43(0x8e2)](){const _0x51f73e=_0x29fc43;this[_0x51f73e(0x4e5)]=setTimeout(()=>{const _0x4d4062=_0x51f73e;this[_0x4d4062(0x142)]({'type':_0x56cfa9[_0x4d4062(0xa8c)],'action':_0x9e7457[_0x4d4062(0x21b)]});},0x3a98);}['getResolutionScale'](_0x5da5dd,_0x5bcde3){const _0x481561=_0x29fc43,_0x275e30=Math['max'](_0x5da5dd[_0x481561(0x82e)]/_0x5bcde3[_0x481561(0x82e)],_0x5da5dd[_0x481561(0x4b2)]/_0x5bcde3['height']);return Math['min'](Math[_0x481561(0x11e)](_0x275e30,0x1),0x4);}[_0x29fc43(0x77a)](){const _0x360661=_0x29fc43;this['waitAnswer']?.(),delete this[_0x360661(0x747)];}['clearOncloseTimeout'](){const _0x47c4f2=_0x29fc43;this[_0x47c4f2(0x740)]&&(clearTimeout(this[_0x47c4f2(0x740)]),delete this['oncloseTimeout']);}[_0x29fc43(0x7e2)](_0x20d6c9){const _0x22e008=_0x29fc43,_0x19c721=JSON[_0x22e008(0x9a0)](_0x20d6c9);return new TextEncoder()[_0x22e008(0x6b8)](_0x19c721)['buffer'];}['mergeParts'](_0x276a4e,_0x2dbac7){const _0x164767=_0x29fc43,_0x3393f2=this['objectToArrayBuffer'](_0x276a4e),_0x87d4d3=new Uint8Array(0x4),_0x1341d7=new Uint8Array(_0x3393f2),_0x3417d9=new Uint8Array(_0x2dbac7);_0x87d4d3['set'](new Uint8Array(new Uint32Array([_0x1341d7[_0x164767(0x4c5)]])[_0x164767(0x140)]));const _0xf9632a=new Uint8Array(0x4+_0x1341d7['length']+_0x3417d9[_0x164767(0x4c5)]);return _0xf9632a[_0x164767(0x355)](_0x87d4d3),_0xf9632a['set'](_0x1341d7,0x4),_0xf9632a[_0x164767(0x355)](_0x3417d9,0x4+_0x1341d7[_0x164767(0x4c5)]),_0xf9632a[_0x164767(0x140)];}}class _0xbb01aa extends _0x1a50d0{[_0x29fc43(0x676)];['connectionType'];[_0x29fc43(0x468)];[_0x29fc43(0x336)];[_0x29fc43(0x94e)];[_0x29fc43(0x4be)];['receiverConnection'];[_0x29fc43(0x73d)]=[];[_0x29fc43(0x26d)]=_0x2d590d();[_0x29fc43(0x2c1)]=_0x2d590d();[_0x29fc43(0x678)]=_0x2d590d();[_0x29fc43(0x2bc)]=[];[_0x29fc43(0x3aa)];[_0x29fc43(0x17e)]=new Map();[_0x29fc43(0x408)]=new Map();[_0x29fc43(0x4e7)]=new Map();[_0x29fc43(0x6cc)]=new Map();['successNotified']=!0x1;constructor(_0x557268,_0x2a7018,_0x4939c7,_0x2d0195,_0x8ece2a,_0x2a5b08,_0x4a7999,_0x3b7411){const _0x120577=_0x29fc43;super(_0x557268,_0x2a7018,_0x4939c7),this['iceServers']=_0x2d0195,this[_0x120577(0x892)]=_0x8ece2a,this[_0x120577(0x468)]=_0x2a5b08,this[_0x120577(0x336)]=_0x4a7999,this[_0x120577(0x94e)]=_0x3b7411;}[_0x29fc43(0x85d)](_0x54e940){const _0xe00b7b=_0x29fc43;switch(_0x54e940[_0xe00b7b(0x5f5)]()){case _0x47b47a['ContentType'][_0xe00b7b(0xa7d)]:case _0x47b47a[_0xe00b7b(0x43d)][_0xe00b7b(0x47a)]:case _0x47b47a[_0xe00b7b(0x43d)][_0xe00b7b(0x72a)]:case _0x47b47a[_0xe00b7b(0x43d)][_0xe00b7b(0x844)]:case _0x47b47a[_0xe00b7b(0x43d)][_0xe00b7b(0x53a)]:case _0x47b47a['ContentType'][_0xe00b7b(0xa34)]:case _0x47b47a[_0xe00b7b(0x43d)][_0xe00b7b(0x615)]:case _0x47b47a[_0xe00b7b(0x43d)][_0xe00b7b(0x36a)]:this['dataTopics'][_0xe00b7b(0x355)](_0x54e940[_0xe00b7b(0x858)](),_0x54e940);break;case _0x47b47a[_0xe00b7b(0x43d)]['Media']:this[_0xe00b7b(0x4e7)]['set'](_0x54e940[_0xe00b7b(0x858)](),_0x54e940);}}[_0x29fc43(0x649)](_0x17e8f1){const _0x5db2fa=_0x29fc43;switch(_0x17e8f1[_0x5db2fa(0x5f5)]()){case _0x47b47a[_0x5db2fa(0x43d)][_0x5db2fa(0xa7d)]:case _0x47b47a['ContentType']['PubSub']:case _0x47b47a[_0x5db2fa(0x43d)][_0x5db2fa(0x72a)]:case _0x47b47a[_0x5db2fa(0x43d)]['KeyValueDatabase']:case _0x47b47a[_0x5db2fa(0x43d)][_0x5db2fa(0x53a)]:case _0x47b47a['ContentType'][_0x5db2fa(0xa34)]:case _0x47b47a[_0x5db2fa(0x43d)][_0x5db2fa(0x615)]:case _0x47b47a['ContentType']['ExternalStorage']:this[_0x5db2fa(0x17e)][_0x5db2fa(0x5ef)](_0x17e8f1[_0x5db2fa(0x858)]());break;case _0x47b47a[_0x5db2fa(0x43d)][_0x5db2fa(0x6d2)]:this[_0x5db2fa(0x4e7)][_0x5db2fa(0x5ef)](_0x17e8f1[_0x5db2fa(0x858)]());}}[_0x29fc43(0x379)](_0x1d8562){const _0x501f14=_0x29fc43;switch(_0x1d8562['getContentType']()){case _0x47b47a['ContentType'][_0x501f14(0xa7d)]:case _0x47b47a[_0x501f14(0x43d)][_0x501f14(0x47a)]:case _0x47b47a['ContentType']['ObjectStore']:case _0x47b47a[_0x501f14(0x43d)][_0x501f14(0x844)]:case _0x47b47a[_0x501f14(0x43d)]['Job']:case _0x47b47a[_0x501f14(0x43d)]['VectorDatabase']:case _0x47b47a[_0x501f14(0x43d)][_0x501f14(0x615)]:case _0x47b47a[_0x501f14(0x43d)][_0x501f14(0x36a)]:{const _0x3683af=_0x1d8562['subscribe'](_0x4c4b05=>{const _0x216d27=_0x501f14;_0x4f5692(_0x4c4b05,this['getLocalId']())&&_0x1b8b78(_0x4c4b05,this[_0x216d27(0x295)])&&this['send'](_0x4c4b05);});this[_0x501f14(0x408)][_0x501f14(0x355)](_0x1d8562[_0x501f14(0x858)](),_0x3683af);break;}case _0x47b47a[_0x501f14(0x43d)][_0x501f14(0x6d2)]:{const _0x151c77=_0x1d8562[_0x501f14(0x75e)](({content:_0xbc3c2e})=>{const _0x170de8=_0x501f14;switch(_0xbc3c2e[_0x170de8(0x47e)]){case _0x59cdc5[_0x170de8(0x57e)]:this[_0x170de8(0x37e)](_0xbc3c2e[_0x170de8(0xb1c)],_0xbc3c2e['stream'],_0xbc3c2e[_0x170de8(0x572)],_0xbc3c2e[_0x170de8(0x7b6)]);break;case _0x59cdc5[_0x170de8(0x915)]:this['removeTrack'](_0xbc3c2e['track'],_0xbc3c2e['stream']);break;case _0x59cdc5[_0x170de8(0x71d)]:_0xbc3c2e[_0x170de8(0x572)]&&this[_0x170de8(0x47f)](_0xbc3c2e[_0x170de8(0x787)],_0xbc3c2e[_0x170de8(0x572)]),_0xbc3c2e[_0x170de8(0x7b6)]&&this['setParams'](_0xbc3c2e['stream'],_0xbc3c2e[_0x170de8(0x7b6)]);}});this[_0x501f14(0x6cc)][_0x501f14(0x355)](_0x1d8562[_0x501f14(0x858)](),_0x151c77);break;}}}[_0x29fc43(0x773)](_0x4e7222){const _0x1ea229=_0x29fc43;switch(_0x4e7222[_0x1ea229(0x5f5)]()){case _0x47b47a[_0x1ea229(0x43d)][_0x1ea229(0xa7d)]:case _0x47b47a['ContentType'][_0x1ea229(0x47a)]:case _0x47b47a[_0x1ea229(0x43d)][_0x1ea229(0x72a)]:case _0x47b47a[_0x1ea229(0x43d)][_0x1ea229(0x844)]:case _0x47b47a['ContentType'][_0x1ea229(0x53a)]:case _0x47b47a[_0x1ea229(0x43d)][_0x1ea229(0xa34)]:case _0x47b47a[_0x1ea229(0x43d)]['GraphDatabase']:case _0x47b47a[_0x1ea229(0x43d)]['ExternalStorage']:this[_0x1ea229(0x408)][_0x1ea229(0x2a2)](_0x4e7222[_0x1ea229(0x858)]())?.(),this[_0x1ea229(0x408)][_0x1ea229(0x5ef)](_0x4e7222[_0x1ea229(0x858)]());break;case _0x47b47a[_0x1ea229(0x43d)][_0x1ea229(0x6d2)]:this['mediaUnsubscribers'][_0x1ea229(0x2a2)](_0x4e7222[_0x1ea229(0x858)]())?.(),this['mediaUnsubscribers'][_0x1ea229(0x5ef)](_0x4e7222[_0x1ea229(0x858)]());}}['getSupportedContentTypes'](){const _0x425363=_0x29fc43;return[_0x47b47a[_0x425363(0x43d)][_0x425363(0xa7d)],_0x47b47a[_0x425363(0x43d)][_0x425363(0x6d2)],_0x47b47a[_0x425363(0x43d)][_0x425363(0x47a)],_0x47b47a[_0x425363(0x43d)][_0x425363(0x72a)],_0x47b47a[_0x425363(0x43d)][_0x425363(0x844)],_0x47b47a[_0x425363(0x43d)]['Job'],_0x47b47a[_0x425363(0x43d)]['VectorDatabase'],_0x47b47a[_0x425363(0x43d)][_0x425363(0x615)],_0x47b47a[_0x425363(0x43d)][_0x425363(0x36a)]];}[_0x29fc43(0x911)](_0x485f5a){this['systemTopic']=_0x485f5a;}[_0x29fc43(0x3c7)](){const _0x201b09=_0x29fc43;delete this[_0x201b09(0x3aa)];}async['connect'](){const _0x83723=_0x29fc43;this[_0x83723(0x90b)](),await this['createOffer']();}[_0x29fc43(0xb1b)](){const _0x535b38=_0x29fc43;this[_0x535b38(0x2bc)][_0x535b38(0x7f9)](_0xcfed1c=>_0xcfed1c()),this[_0x535b38(0x2bc)]=[],this[_0x535b38(0x4be)]?.[_0x535b38(0x3c7)](),this[_0x535b38(0x4be)]?.[_0x535b38(0xb1b)](),delete this[_0x535b38(0x4be)],this[_0x535b38(0x73d)][_0x535b38(0x7f9)](_0x5789e3=>_0x5789e3()),this[_0x535b38(0x73d)]=[],this['receiverConnection']?.[_0x535b38(0x3c7)](),this['receiverConnection']?.[_0x535b38(0xb1b)](),delete this[_0x535b38(0x141)];}['isConnected'](){const _0x1ef668=_0x29fc43;return this[_0x1ef668(0x4be)]?.[_0x1ef668(0x65f)]()&&this[_0x1ef668(0x141)]?.[_0x1ef668(0x65f)]()||!0x1;}['send'](_0x23a340){const _0x2ee554=_0x29fc43;if(!this[_0x2ee554(0x4be)]||!this[_0x2ee554(0x65f)]())throw new _0x3335bf(_0x3335bf[_0x2ee554(0x4ee)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x2ee554(0x4be)]?.[_0x2ee554(0x65f)](),'receiverConnected':this[_0x2ee554(0x141)]?.['isConnected'](),'localId':this['getLocalId'](),'remoteId':this['remoteId'],'data':_0x23a340});this['senderConnection']['send'](_0x23a340);}['onMessage'](_0x4ed13e){const _0x50d71a=_0x29fc43;return this['messageListeners'][_0x50d71a(0x75e)](_0x4ed13e);}[_0x29fc43(0x738)](_0x2fa8df){const _0x2837a8=_0x29fc43;return this['trackListeners'][_0x2837a8(0x75e)](({track:_0x3752d7,stream:_0x16c3aa})=>_0x2fa8df(_0x3752d7,_0x16c3aa));}[_0x29fc43(0x23e)](_0x3d7137){const _0x3cbe42=_0x29fc43;return this['removeTrackListeners'][_0x3cbe42(0x75e)](({track:_0x45624c,stream:_0xaba04d})=>_0x3d7137(_0x45624c,_0xaba04d));}[_0x29fc43(0x37e)](_0x396346,_0x51ce34,_0x1df20d,_0x1542d6){const _0x1f8538=_0x29fc43;this['senderConnection']?.[_0x1f8538(0x37e)](_0x396346,_0x51ce34,_0x1df20d,_0x1542d6);}[_0x29fc43(0x47f)](_0x56f5b2,_0x2ef562){const _0x51cdc6=_0x29fc43;this[_0x51cdc6(0x4be)]?.[_0x51cdc6(0x47f)](_0x56f5b2,_0x2ef562);}[_0x29fc43(0x598)](_0x1aeaee,_0x5ee9cb){const _0x41aef3=_0x29fc43;this[_0x41aef3(0x4be)]?.[_0x41aef3(0x598)](_0x1aeaee,_0x5ee9cb);}[_0x29fc43(0x903)](_0x22bc99,_0x111ed6){const _0x251ba8=_0x29fc43;this[_0x251ba8(0x4be)]?.[_0x251ba8(0x903)](_0x22bc99,_0x111ed6);}async['handlePeerConnectionSystemEvents'](_0x42e929){const _0x19871c=_0x29fc43;_0xb63eee[_0x19871c(0x195)](_0x30994c[_0x19871c(0x9c8)],_0x19871c(0x2d2),this['getLocalId'](),_0x42e929);const {content:_0x277c21}=_0x42e929;switch(_0x277c21['type']){case _0x21f8c1[_0x19871c(0x472)]:await this['handleOffer'](_0x277c21);break;case _0x21f8c1['Answer']:await this[_0x19871c(0x376)](_0x277c21);break;case _0x21f8c1['Success']:this[_0x19871c(0x46f)]();break;case _0x21f8c1['Handshake']:await this[_0x19871c(0x526)](_0x277c21);break;case _0x21f8c1['NeedRestart']:this[_0x19871c(0x96e)](_0x277c21);break;case _0x21f8c1[_0x19871c(0x177)]:await this[_0x19871c(0x363)]();}}[_0x29fc43(0x2fd)](_0x210915){const _0x5cff22=_0x29fc43;this[_0x5cff22(0x4be)]?.[_0x5cff22(0x142)](_0x210915[_0x5cff22(0x88a)][_0x5cff22(0x7d7)]);}[_0x29fc43(0x74b)](){const _0x51c834=_0x29fc43;return this[_0x51c834(0x892)];}[_0x29fc43(0x506)](_0xe80d3b){const _0x5e513d=_0x29fc43;this['connectionType']=_0xe80d3b,this[_0x5e513d(0x4be)]?.[_0x5e513d(0x506)](_0xe80d3b),this[_0x5e513d(0x141)]?.[_0x5e513d(0x506)](_0xe80d3b);}async[_0x29fc43(0x870)](){const _0x1deb5d=_0x29fc43;await this[_0x1deb5d(0x4be)]?.[_0x1deb5d(0x870)](),await this[_0x1deb5d(0x141)]?.['collectStats']();}[_0x29fc43(0x6e8)](){const _0x9a3e7d=_0x29fc43;return this[_0x9a3e7d(0x4be)]?.[_0x9a3e7d(0x6e8)]()??0x0;}[_0x29fc43(0x1e6)](){const _0x3b7550=_0x29fc43;return this[_0x3b7550(0x4be)]?.[_0x3b7550(0x1e6)]()??0x0;}['setupListeners'](){const _0x47fd3e=_0x29fc43;this[_0x47fd3e(0x2bc)][_0x47fd3e(0x9f9)](this[_0x47fd3e(0x6b5)](_0x52940b=>{const _0x2bbece=_0x47fd3e;_0x1b8b78(_0x52940b,this['getLocalId']())&&0x0!==_0x52940b[_0x2bbece(0x801)]&&this[_0x2bbece(0x17e)]['get'](_0x52940b[_0x2bbece(0x801)])?.[_0x2bbece(0x289)](_0x52940b);})),this[_0x47fd3e(0x2bc)]['push'](this[_0x47fd3e(0x738)]((_0x4aef58,_0xb6d4ff)=>{const _0x4e2700=_0x47fd3e,_0x34114b=_0x4eb03f(_0x47b47a['ContentType']['Media'],_0xb6d4ff['id'],this[_0x4e2700(0x295)]);this[_0x4e2700(0x4e7)][_0x4e2700(0x2a2)](_0x34114b)?.['publish']({'topicLabel':_0x34114b,'sourceId':this[_0x4e2700(0x295)],'contentType':_0x47b47a[_0x4e2700(0x43d)][_0x4e2700(0x6d2)],'content':{'action':_0x59cdc5[_0x4e2700(0x500)],'track':_0x4aef58,'stream':_0xb6d4ff,'providerId':this[_0x4e2700(0x295)]}});})),this[_0x47fd3e(0x2bc)][_0x47fd3e(0x9f9)](this['onRemoveTrack']((_0x25b085,_0x4d9eaa)=>{const _0x5abf14=_0x47fd3e,_0x2c6fe0=_0x4eb03f(_0x47b47a['ContentType'][_0x5abf14(0x6d2)],_0x4d9eaa['id'],this['remoteId']);this['mediaTopics'][_0x5abf14(0x2a2)](_0x2c6fe0)?.['publish']({'topicLabel':_0x2c6fe0,'sourceId':this['remoteId'],'contentType':_0x47b47a[_0x5abf14(0x43d)][_0x5abf14(0x6d2)],'content':{'action':_0x59cdc5[_0x5abf14(0x180)],'track':_0x25b085,'stream':_0x4d9eaa,'providerId':this[_0x5abf14(0x295)]}});}));}[_0x29fc43(0x526)]({candidates:_0x45d5a5,origin:_0x133b11,version:_0x506017}){const _0x2cb974=_0x29fc43;return _0x133b11===_0x337eb8['Sender']?(this[_0x2cb974(0x141)]||this[_0x2cb974(0x2f3)](),this['receiverConnection'][_0x2cb974(0x29f)](_0x45d5a5,_0x506017)):this[_0x2cb974(0x4be)][_0x2cb974(0x29f)](_0x45d5a5,_0x506017);}async['createOffer'](){const _0x46c032=_0x29fc43;this['senderConnection']||this[_0x46c032(0x589)](),await this[_0x46c032(0x4be)][_0x46c032(0x363)]();}async[_0x29fc43(0x9e2)]({offer:_0x350e6d,version:_0x1b1ce1}){const _0x113012=_0x29fc43;this[_0x113012(0x141)]||this[_0x113012(0x2f3)](),await this['receiverConnection'][_0x113012(0x9e2)](_0x350e6d,_0x1b1ce1);}async[_0x29fc43(0x376)]({answer:_0x584d7c,version:_0x4c51f5}){const _0x1c4dd2=_0x29fc43;if(!this[_0x1c4dd2(0x4be)])throw new _0x3335bf(_0x3335bf['codes'][_0x1c4dd2(0x61a)],{'message':_0x1c4dd2(0x5f8),'localId':this[_0x1c4dd2(0x1e9)](),'remoteId':this[_0x1c4dd2(0x295)],'answer':_0x584d7c});await this[_0x1c4dd2(0x4be)][_0x1c4dd2(0x376)](_0x584d7c,_0x4c51f5);}[_0x29fc43(0x46f)](){const _0x23e1ce=_0x29fc43;if(!this[_0x23e1ce(0x141)])throw new _0x3335bf(_0x3335bf['codes']['ConnectionNotinitialized'],{'message':_0x23e1ce(0x20d),'localId':this[_0x23e1ce(0x1e9)](),'remoteId':this[_0x23e1ce(0x295)]});this[_0x23e1ce(0x141)]['handleSuccess'](),this[_0x23e1ce(0x1aa)]||this[_0x23e1ce(0x892)]!==_0x5c07cb[_0x23e1ce(0x8f2)]||(this['successNotified']=!0x0,this['systemTopic']?.['publish']({'sourceId':this[_0x23e1ce(0x295)],'destinationIds':[this[_0x23e1ce(0x1e9)]()],'messageType':_0x158cb7[_0x23e1ce(0x5d6)],'content':{'type':_0x21f8c1[_0x23e1ce(0x3ab)]}}));}['handleNeedRestart'](_0x4b07c9){const _0x2523a4=_0x29fc43;this[_0x2523a4(0x141)]||this['createReceiverConnection'](),this[_0x2523a4(0x141)]['handleNeedRestart'](_0x4b07c9[_0x2523a4(0x758)]);}[_0x29fc43(0x589)](){const _0xeaa7f1=_0x29fc43;this[_0xeaa7f1(0x4be)]=new _0x2308b7(this[_0xeaa7f1(0x93b)],this['localNode'],this[_0xeaa7f1(0x295)],this[_0xeaa7f1(0x676)],this[_0xeaa7f1(0x892)],this['maxFps'],this['maxBpp'],this['connectionConstructor']),this[_0xeaa7f1(0x4be)]['registerSystemPublisher'](this[_0xeaa7f1(0x3aa)]);}[_0x29fc43(0x2f3)](){const _0x33c674=_0x29fc43;this[_0x33c674(0x141)]=new _0x1a2d69(this[_0x33c674(0x93b)],this[_0x33c674(0xa8a)],this['remoteId'],this['iceServers'],this[_0x33c674(0x892)],this[_0x33c674(0x94e)]),this[_0x33c674(0x141)]['registerSystemPublisher'](this['systemTopic']),this[_0x33c674(0x73d)]['push'](this[_0x33c674(0x141)][_0x33c674(0x6b5)](_0x3ac421=>this[_0x33c674(0x26d)][_0x33c674(0x289)](_0x3ac421))),this['receiverUnsubscribers'][_0x33c674(0x9f9)](this[_0x33c674(0x141)][_0x33c674(0x738)]((_0x416ac8,_0x1d95b7)=>this[_0x33c674(0x2c1)]['publish']({'track':_0x416ac8,'stream':_0x1d95b7}))),this[_0x33c674(0x73d)][_0x33c674(0x9f9)](this[_0x33c674(0x141)]['onRemoveTrack']((_0x4c7c5f,_0x4058fa)=>this[_0x33c674(0x678)]['publish']({'track':_0x4c7c5f,'stream':_0x4058fa})));}}class _0x5aa72d{[_0x29fc43(0x6de)];['messageBuffer'];[_0x29fc43(0x248)];[_0x29fc43(0x11c)]=new Map();['messageListeners']=_0x2d590d();[_0x29fc43(0x45b)];[_0x29fc43(0x17e)]=new Map();[_0x29fc43(0x408)]=new Map();[_0x29fc43(0x428)]=new Map();constructor(_0x60f92c,_0x34e368,_0x308c5d){const _0x2f2f08=_0x29fc43;this[_0x2f2f08(0x6de)]=_0x60f92c,this['messageBuffer']=_0x34e368,this['graphService']=_0x308c5d,this[_0x2f2f08(0x45b)]=this[_0x2f2f08(0x6b5)](_0x3532c6=>{const _0x145250=_0x2f2f08;this[_0x145250(0xb03)]['hasMessage'](_0x3532c6[_0x145250(0x5f0)])||(_0x1b8b78(_0x3532c6,this[_0x145250(0x6de)])&&0x0!==_0x3532c6['topicLabel']&&(this[_0x145250(0xb03)][_0x145250(0x424)](_0x3532c6[_0x145250(0x5f0)]),this[_0x145250(0x17e)][_0x145250(0x2a2)](_0x3532c6[_0x145250(0x801)])?.[_0x145250(0x289)](_0x3532c6)),_0x3532c6['propagate']&&this[_0x145250(0xae4)](_0x3532c6));});}[_0x29fc43(0xb1b)](){const _0x401237=_0x29fc43;this[_0x401237(0x45b)]?.();}[_0x29fc43(0x23f)](_0x60b4c){const _0x39e7b5=_0x29fc43,_0x12e6c0=_0x60b4c['onMessage'](_0x50c19d=>{const _0x3bd3d8=a0_0x424d;this[_0x3bd3d8(0x26d)][_0x3bd3d8(0x289)](_0x50c19d);});this['connections']['set'](_0x60b4c,_0x12e6c0),this[_0x39e7b5(0x428)][_0x39e7b5(0x355)](_0x60b4c[_0x39e7b5(0x1d6)](),function(_0x1a1595,_0x437a06=!0x1){let _0x3779bd=new Map();const _0x154022=_0x1a2a76(_0x1a1595,_0x437a06,function(_0xb336ff){const _0x4267c6=a0_0x424d;_0x88c1e9(_0xb336ff)&&_0x3779bd[_0x4267c6(0x5ef)](_0xb336ff[_0x4267c6(0xad5)]+'-'+(_0xb336ff[_0x4267c6(0xa00)]??[])+'-'+_0xb336ff[_0x4267c6(0x30c)]+'-'+_0xb336ff[_0x4267c6(0x88a)][_0x4267c6(0xacf)]);},function(_0x316ba6){return!!function(_0x2a36f6){const _0x3b1006=a0_0x424d,_0x3c57e5=_0x2a36f6[_0x3b1006(0x2a7)];if(!_0x88c1e9(_0x3c57e5))return!0x1;const _0x464998=_0x3c57e5[_0x3b1006(0xad5)]+'-'+(_0x3c57e5['destinationIds']??[])+'-'+_0x3c57e5[_0x3b1006(0x30c)]+'-'+_0x3c57e5[_0x3b1006(0x88a)][_0x3b1006(0xacf)],_0x5eab83={'version':_0x3c57e5[_0x3b1006(0x88a)][_0x3b1006(0x758)],'element':_0x2a36f6},_0x340276=_0x3779bd[_0x3b1006(0x2a2)](_0x464998);return _0x340276?(_0x340276[_0x3b1006(0x758)]>=_0x3c57e5['content'][_0x3b1006(0x758)]||(_0x340276['element'][_0x3b1006(0xa69)]&&(_0x340276['element'][_0x3b1006(0xa69)][_0x3b1006(0x609)]=_0x2a36f6,_0x2a36f6['previous']=_0x340276['element'][_0x3b1006(0xa69)]),_0x340276[_0x3b1006(0x976)][_0x3b1006(0x609)]&&(_0x340276[_0x3b1006(0x976)][_0x3b1006(0x609)][_0x3b1006(0xa69)]=_0x2a36f6,_0x2a36f6[_0x3b1006(0x609)]=_0x340276[_0x3b1006(0x976)][_0x3b1006(0x609)]),_0x340276[_0x3b1006(0x976)]===_0x154022[_0x3b1006(0xa9e)]&&(_0x154022[_0x3b1006(0xa9e)]=_0x2a36f6),_0x340276[_0x3b1006(0x976)]===_0x154022[_0x3b1006(0x1ed)]&&(_0x154022[_0x3b1006(0x1ed)]=_0x2a36f6),_0x3779bd[_0x3b1006(0x355)](_0x464998,_0x5eab83)),!0x0):(_0x3779bd['set'](_0x464998,_0x5eab83),!0x1);}(_0x316ba6);},function(){const _0x121c57=a0_0x424d;_0x3779bd[_0x121c57(0x985)]();});function _0x88c1e9(_0x10d28f){const _0x4e1e7d=a0_0x424d;if(_0x10d28f&&_0x4e1e7d(0x161)==typeof _0x10d28f&&_0x10d28f[_0x4e1e7d(0x27f)](_0x4e1e7d(0x88a))&&_0x10d28f['hasOwnProperty'](_0x4e1e7d(0x30c))&&_0x10d28f[_0x4e1e7d(0x27f)](_0x4e1e7d(0xad5))){const _0xfc0820=_0x10d28f;if(_0xfc0820['content']&&_0x4e1e7d(0x161)==typeof _0xfc0820[_0x4e1e7d(0x88a)]&&_0xfc0820['content'][_0x4e1e7d(0x27f)](_0x4e1e7d(0x758))&&_0xfc0820[_0x4e1e7d(0x88a)][_0x4e1e7d(0x27f)]('type'))return!0x0;}return!0x1;}return _0x154022;}(new _0x368850(_0x8aa118=>_0x60b4c[_0x39e7b5(0xae4)](_0x8aa118),()=>_0x16c57a[_0x39e7b5(0x73f)](0x64))));}[_0x29fc43(0x693)](_0x3aaa72){const _0x56a421=_0x29fc43;this[_0x56a421(0x11c)]['get'](_0x3aaa72)?.(),this['connections']['delete'](_0x3aaa72),this['retryQueues'][_0x56a421(0x2a2)](_0x3aaa72[_0x56a421(0x1d6)]())?.[_0x56a421(0x985)](),this['retryQueues'][_0x56a421(0x5ef)](_0x3aaa72['getRemoteId']());}[_0x29fc43(0x65f)](_0x1076d2){const _0x1fda18=_0x29fc43;return _0xb63eee[_0x1fda18(0x195)](_0x30994c[_0x1fda18(0x7c0)],'ConnectionGroup',this[_0x1fda18(0x6de)],this[_0x1fda18(0x11c)][_0x1fda18(0x5da)]()),0x0!==this[_0x1fda18(0x11c)][_0x1fda18(0xb18)]&&(Array[_0x1fda18(0x8f7)](this[_0x1fda18(0x11c)]['keys']())[_0x1fda18(0x5a5)](_0x891dcf=>_0x891dcf[_0x1fda18(0x1d6)]()===_0x1076d2)?.[_0x1fda18(0x65f)]()??!0x1);}['registerPublisher'](_0x2f6596){const _0x4abe76=_0x29fc43;this['dataTopics'][_0x4abe76(0x355)](_0x2f6596[_0x4abe76(0x858)](),_0x2f6596);}[_0x29fc43(0x649)](_0x4d1cf5){const _0x18a670=_0x29fc43;this[_0x18a670(0x17e)]['delete'](_0x4d1cf5[_0x18a670(0x858)]());}[_0x29fc43(0x379)](_0x107590){const _0x583ac5=_0x29fc43,_0x10cb0a=_0x107590['subscribe'](this[_0x583ac5(0xae4)][_0x583ac5(0x699)](this));this[_0x583ac5(0x408)][_0x583ac5(0x355)](_0x107590['getLabel'](),_0x10cb0a);}[_0x29fc43(0x773)](_0x679010){const _0x53c91e=_0x29fc43;this['dataUnsubscribers'][_0x53c91e(0x2a2)](_0x679010['getLabel']())?.(),this[_0x53c91e(0x408)][_0x53c91e(0x5ef)](_0x679010[_0x53c91e(0x858)]());}[_0x29fc43(0x899)](){const _0x61d452=_0x29fc43;return[_0x47b47a['ContentType'][_0x61d452(0xa7d)],_0x47b47a[_0x61d452(0x43d)][_0x61d452(0x47a)],_0x47b47a[_0x61d452(0x43d)][_0x61d452(0x72a)],_0x47b47a['ContentType'][_0x61d452(0x844)],_0x47b47a[_0x61d452(0x43d)][_0x61d452(0x53a)],_0x47b47a[_0x61d452(0x43d)][_0x61d452(0xa34)],_0x47b47a[_0x61d452(0x43d)][_0x61d452(0x615)],_0x47b47a['ContentType'][_0x61d452(0x36a)]];}[_0x29fc43(0xae4)](_0x54df0a){const _0x57884d=_0x29fc43;if(!0x1===_0x54df0a[_0x57884d(0x3ba)]){if(_0x54df0a[_0x57884d(0xa39)]||!_0x54df0a[_0x57884d(0xa00)]||0x1!==_0x54df0a[_0x57884d(0xa00)][_0x57884d(0x4c5)])throw new _0x3335bf(_0x3335bf[_0x57884d(0x4ee)][_0x57884d(0x726)],{'message':_0x57884d(0x462),'localId':this['localId']});if(!this[_0x57884d(0x65f)](_0x54df0a['destinationIds'][0x0]))throw new _0xa97582(_0x57884d(0x28a));}const _0x319988=_0x54df0a['recipients']??[];try{const {filteredDestinationIds:_0x1e488d,extendedRecipients:_0x224224}=this[_0x57884d(0x3a3)](_0x54df0a,_0x319988);_0x54df0a['destinationIds']=_0x1e488d,_0x54df0a[_0x57884d(0x27c)]=_0x224224;}catch(_0x12a79c){if(_0x12a79c instanceof _0xa97582)return void _0xb63eee['log'](_0x30994c[_0x57884d(0x9c8)],'CrewdleConnectionGroup',_0x57884d(0x8a2),_0x54df0a,_0x12a79c[_0x57884d(0x356)]);}const _0x2b2c9f=this['shouldContinuePropagation'](_0x54df0a);this[_0x57884d(0x29e)](_0x54df0a,_0x2b2c9f),_0x54df0a[_0x57884d(0xa39)]=_0x2b2c9f;const _0x138092=this[_0x57884d(0x1a0)](_0x54df0a,_0x319988);for(const _0x1362f3 of _0x138092){const _0x13ce7b=this['retryQueues']['get'](_0x1362f3[_0x57884d(0x1d6)]());if(!_0x13ce7b)throw new _0x3335bf(_0x3335bf[_0x57884d(0x4ee)][_0x57884d(0x474)],{'message':_0x57884d(0x253),'localId':this['localId'],'remoteId':_0x1362f3['getRemoteId'](),'data':_0x54df0a});_0x13ce7b['push'](_0x54df0a);}}['getRemoteId'](){return'';}[_0x29fc43(0x1e9)](){return this['localId'];}[_0x29fc43(0x6b5)](_0x4ae2f7){const _0x5463ad=_0x29fc43;return this[_0x5463ad(0x26d)][_0x5463ad(0x75e)](_0x4ae2f7);}[_0x29fc43(0x3a3)](_0x24fa88,_0x2ddd9f){const _0x2b04f9=_0x29fc43,_0x512506={'filteredDestinationIds':_0x24fa88[_0x2b04f9(0xa00)],'extendedRecipients':_0x24fa88['recipients']};if(!_0x24fa88[_0x2b04f9(0xa39)])return _0x512506;const _0x59c97a=Array[_0x2b04f9(0x8f7)](this['connections'][_0x2b04f9(0x5da)]())[_0x2b04f9(0x81c)](_0x4f7abb=>_0x4f7abb[_0x2b04f9(0x74b)]()===_0x5c07cb['Core']||_0x4f7abb['isConnected']())[_0x2b04f9(0x170)](_0x52e2e9=>_0x52e2e9[_0x2b04f9(0x1d6)]());if(_0x59c97a[_0x2b04f9(0x8ca)]((_0x312927,_0x4ecab6)=>_0x312927&&_0x24fa88['recipients'][_0x2b04f9(0x3a7)](_0x4ecab6),!0x0))throw new _0xa97582('All\x20recipients\x20already\x20received');if(_0x24fa88[_0x2b04f9(0xa00)]){const _0x1cdff4=_0x24fa88[_0x2b04f9(0xa00)][_0x2b04f9(0x81c)](_0x5f2318=>_0x5f2318!==this[_0x2b04f9(0x6de)]&&!_0x24fa88['recipients'][_0x2b04f9(0x3a7)](_0x5f2318));if(0x0===_0x1cdff4['length'])throw new _0xa97582('No\x20destinationIds\x20left');_0x512506[_0x2b04f9(0x503)]=_0x1cdff4;}return _0x512506[_0x2b04f9(0x2aa)]=[...new Set([..._0x2ddd9f,..._0x59c97a,this['localId']])],_0x512506;}[_0x29fc43(0x29e)](_0x5334ff,_0x21415e=!0x1){const _0x1b78e4=_0x29fc43;if(0x0===_0x5334ff['topicLabel']&&!_0x4f5692(_0x5334ff,this['localId'])&&_0x5334ff[_0x1b78e4(0xa39)]){const _0x3a2624=_0x5dc160(_0x5334ff,this[_0x1b78e4(0x6de)]);_0xb63eee[_0x1b78e4(0xa32)](_0x30994c[_0x1b78e4(0x586)],_0x5334ff[_0x1b78e4(0x5f0)]+_0x1b78e4(0x643)+_0x21415e+')\x20'+_0x3a2624,_0x5334ff,_0x21415e);}}[_0x29fc43(0x1e8)](_0x31145a){const _0x4f647b=_0x29fc43;if(_0x31145a[_0x4f647b(0xa00)]&&_0x31145a[_0x4f647b(0xa39)]){const _0x27a8da=Array[_0x4f647b(0x8f7)](this[_0x4f647b(0x11c)][_0x4f647b(0x5da)]())['filter'](_0x3dae6a=>_0x3dae6a[_0x4f647b(0x74b)]()===_0x5c07cb['Core']||_0x3dae6a[_0x4f647b(0x65f)]())['map'](_0x490953=>_0x490953[_0x4f647b(0x1d6)]());return!_0x31145a['destinationIds'][_0x4f647b(0x8ca)]((_0x9ee5eb,_0x7fca2e)=>_0x9ee5eb&&_0x27a8da[_0x4f647b(0x3a7)](_0x7fca2e),!0x0);}return _0x31145a[_0x4f647b(0xa39)]??!0x1;}[_0x29fc43(0x1a0)](_0x3fc9fc,_0x18f84f){const _0x2864b3=_0x29fc43;if(_0x3fc9fc[_0x2864b3(0xa39)]&&_0x3fc9fc[_0x2864b3(0xa00)]){const _0x16c09e=Array[_0x2864b3(0x8f7)](this[_0x2864b3(0x11c)]['keys']())[_0x2864b3(0x81c)](_0x41db6a=>_0x41db6a[_0x2864b3(0x74b)]()===_0x5c07cb[_0x2864b3(0x592)]||_0x41db6a['isConnected']())['map'](_0x15023e=>_0x15023e['getRemoteId']()),_0x46ca02=new Set(),_0x46416d=_0x3fc9fc[_0x2864b3(0xad5)]===this['localId']?0x3:0x1;return _0x3fc9fc[_0x2864b3(0xa00)][_0x2864b3(0x7f9)](_0x7a110=>{const _0x195671=_0x2864b3,_0x58944a=this[_0x195671(0x248)][_0x195671(0x4ad)](_0x16c09e,_0x7a110);let _0xa50966=0x0,_0x2fe2d1=0x0;_0x58944a[_0x195671(0x7f9)](_0x3fb555=>{const _0x47e3f6=_0x195671;if(_0xa50966>=_0x46416d)return;const _0x49912d=Array['from'](this[_0x47e3f6(0x11c)]['keys']())['find'](_0x3480f0=>_0x3480f0['getRemoteId']()===_0x3fb555);if(_0x49912d){if(_0x49912d[_0x47e3f6(0x74b)]()===_0x5c07cb[_0x47e3f6(0x592)]&&_0x2fe2d1>0x0)return void(_0x2fe2d1-=0x1);_0x46ca02['add'](_0x49912d),_0x49912d[_0x47e3f6(0x74b)]()===_0x5c07cb[_0x47e3f6(0x8f2)]&&(_0x2fe2d1+=0x1),_0xa50966+=0x1;}});}),Array[_0x2864b3(0x8f7)](_0x46ca02);}return Array[_0x2864b3(0x8f7)](this[_0x2864b3(0x11c)]['keys']())[_0x2864b3(0x81c)](_0x288a7b=>{const _0x4b5bc6=_0x2864b3;return _0x3c1e66=_0x288a7b['getRemoteId'](),!_0x18f84f[_0x4b5bc6(0x3a7)](_0x3c1e66)&&(_0x1b8b78(_0x3fc9fc,_0x3c1e66)||_0x3fc9fc[_0x4b5bc6(0xa39)])&&(!_0x3fc9fc[_0x4b5bc6(0xa39)]||_0x288a7b['isConnected']()||_0x288a7b[_0x4b5bc6(0x74b)]()===_0x5c07cb[_0x4b5bc6(0x592)]);var _0x3c1e66;});}}class _0x1bda1d{[_0x29fc43(0x6de)];[_0x29fc43(0xb03)];[_0x29fc43(0x11c)]=new Map();[_0x29fc43(0x3aa)];constructor(_0x2c97fe,_0x617ad1){const _0x2c964a=_0x29fc43;this[_0x2c964a(0x6de)]=_0x2c97fe,this['messageBuffer']=_0x617ad1;}[_0x29fc43(0xb1b)](){}['send'](_0xe5cccb){const _0x4820a9=_0x29fc43;for(const _0x555a71 of this[_0x4820a9(0x11c)]['keys']())try{return void _0x555a71[_0x4820a9(0xae4)]({'retry':!0x1,..._0xe5cccb});}catch(_0x5360f1){_0x5360f1 instanceof _0xa97582||_0xb63eee[_0x4820a9(0x195)](_0x30994c[_0x4820a9(0x9dd)],_0x4820a9(0x2f1)+_0x555a71,_0x5360f1,_0xe5cccb);}_0xb63eee[_0x4820a9(0x195)](_0x30994c['Pool'],_0x4820a9(0x541));}[_0x29fc43(0x23f)](_0x45fe20){const _0x402a87=_0x29fc43,_0x23dfdc=_0x45fe20[_0x402a87(0x6b5)](_0x13a53e=>{const _0x82f97=_0x402a87;this[_0x82f97(0xb03)][_0x82f97(0x5bc)](_0x13a53e[_0x82f97(0x5f0)])||0x0===_0x13a53e[_0x82f97(0x801)]&&(this['messageBuffer'][_0x82f97(0x424)](_0x13a53e[_0x82f97(0x5f0)]),_0x1b8b78(_0x13a53e,this[_0x82f97(0x6de)])&&this[_0x82f97(0x3aa)]?.[_0x82f97(0x289)](_0x13a53e));});this[_0x402a87(0x11c)][_0x402a87(0x355)](_0x45fe20,_0x23dfdc);}[_0x29fc43(0x693)](_0x17dd61){const _0x5b6637=_0x29fc43;this['connections'][_0x5b6637(0x2a2)](_0x17dd61)?.(),this[_0x5b6637(0x11c)][_0x5b6637(0x5ef)](_0x17dd61);}[_0x29fc43(0x1e9)](){return this['localId'];}[_0x29fc43(0x1d6)](){return'';}[_0x29fc43(0x899)](){const _0x206f6e=_0x29fc43;return[_0x47b47a[_0x206f6e(0x43d)][_0x206f6e(0xa7d)]];}[_0x29fc43(0x65f)](){const _0x1fc81f=_0x29fc43;throw new Error(_0x1fc81f(0x5ba));}[_0x29fc43(0x911)](_0x1bb6c4){this['systemTopic']=_0x1bb6c4;}[_0x29fc43(0x3c7)](){const _0x403f47=_0x29fc43;delete this[_0x403f47(0x3aa)];}}class _0x584628{[_0x29fc43(0x140)]=new Map();[_0x29fc43(0x6f6)];constructor(){const _0x4f0823=_0x29fc43;this[_0x4f0823(0x6f6)]=_0x16c57a[_0x4f0823(0x875)](()=>{const _0x413d58=_0x4f0823;for(const [_0x10b72e,_0x271f72]of this[_0x413d58(0x140)][_0x413d58(0x32b)]())Date['now']()-_0x271f72>0x124f80&&this[_0x413d58(0x140)]['delete'](_0x10b72e);},0x1d4c0);}[_0x29fc43(0xb1b)](){const _0xd54d48=_0x29fc43;this[_0xd54d48(0x6f6)]();}[_0x29fc43(0x424)](_0x3a70dd){const _0x2aa649=_0x29fc43;this[_0x2aa649(0x140)][_0x2aa649(0x355)](_0x3a70dd,Date[_0x2aa649(0x653)]());}[_0x29fc43(0x5bc)](_0x49796b){return this['buffer']['has'](_0x49796b);}}class _0x3e6e97{['configs'];[_0x29fc43(0x67d)];[_0x29fc43(0x676)];[_0x29fc43(0x936)];[_0x29fc43(0x11c)]=new Map();[_0x29fc43(0x531)];[_0x29fc43(0x342)];[_0x29fc43(0x9a3)];[_0x29fc43(0xb03)];constructor(_0x25f7c9,_0x5b9cf2,_0x42c839,_0x29e131,_0xe0f2e6){const _0x2ca21a=_0x29fc43;this[_0x2ca21a(0x57f)]=_0x25f7c9,this[_0x2ca21a(0x67d)]=_0x5b9cf2,this['iceServers']=_0x29e131,this[_0x2ca21a(0x936)]=_0xe0f2e6,this[_0x2ca21a(0xb03)]=new _0x584628(),this[_0x2ca21a(0x342)]=new _0x5aa72d(this[_0x2ca21a(0x57f)][_0x2ca21a(0xa8a)][_0x2ca21a(0x994)](),this[_0x2ca21a(0xb03)],_0x42c839),this[_0x2ca21a(0x9a3)]=new _0x4f4e7e(this['configs'][_0x2ca21a(0x117)],this[_0x2ca21a(0x57f)]['clusterId'],this['configs'][_0x2ca21a(0xa8a)],_0x2ca21a(0x5bb),this[_0x2ca21a(0x67d)]),this[_0x2ca21a(0x531)]=new _0x1bda1d(this[_0x2ca21a(0x57f)]['localNode'][_0x2ca21a(0x994)](),this['messageBuffer']),this[_0x2ca21a(0x531)]['addConnection'](this['connectionGroup']),this[_0x2ca21a(0x531)]['addConnection'](this[_0x2ca21a(0x9a3)]),this['configs'][_0x2ca21a(0x2f9)][_0x2ca21a(0x900)](this[_0x2ca21a(0x531)]);}[_0x29fc43(0xb1b)](){const _0x535c05=_0x29fc43;this[_0x535c05(0xb03)][_0x535c05(0xb1b)](),this[_0x535c05(0x11c)]['forEach']((_0x51f301,_0x55fa54)=>this[_0x535c05(0x1e4)](_0x55fa54)),this[_0x535c05(0x57f)][_0x535c05(0x2f9)][_0x535c05(0x1b1)](this[_0x535c05(0x531)]),this[_0x535c05(0x531)][_0x535c05(0x693)](this[_0x535c05(0x9a3)]),this[_0x535c05(0x531)][_0x535c05(0x693)](this['connectionGroup']),this[_0x535c05(0x531)][_0x535c05(0xb1b)](),this[_0x535c05(0x9a3)]['close'](),this['connectionGroup'][_0x535c05(0xb1b)]();}async[_0x29fc43(0x918)](){const _0x284ba6=_0x29fc43;await this[_0x284ba6(0x9a3)][_0x284ba6(0x4bb)]();}async[_0x29fc43(0x27a)](_0xc9cc69,_0x5f1ecd=_0x5c07cb[_0x29fc43(0x592)]){const _0x2f4353=_0x29fc43;if(this[_0x2f4353(0x11c)]['has'](_0xc9cc69)){if(this[_0x2f4353(0x11c)][_0x2f4353(0x2a2)](_0xc9cc69)?.['getConnectionType']()===_0x5c07cb[_0x2f4353(0x8f2)]&&_0x5f1ecd===_0x5c07cb['Core'])return void this[_0x2f4353(0x11c)][_0x2f4353(0x2a2)](_0xc9cc69)?.[_0x2f4353(0x506)](_0x5c07cb[_0x2f4353(0x592)]);throw new _0x3335bf(_0x3335bf[_0x2f4353(0x4ee)]['RemoteConnectionExists'],{'localId':this[_0x2f4353(0x57f)][_0x2f4353(0xa8a)][_0x2f4353(0x994)](),'remoteId':_0xc9cc69});}const _0xe964d8=new _0xbb01aa(this[_0x2f4353(0x57f)][_0x2f4353(0x93b)],this[_0x2f4353(0x57f)][_0x2f4353(0xa8a)],_0xc9cc69,this['iceServers'],_0x5f1ecd,this['options'][_0x2f4353(0x468)],this[_0x2f4353(0x936)][_0x2f4353(0x336)],this[_0x2f4353(0x936)][_0x2f4353(0x9c4)]);this[_0x2f4353(0x11c)][_0x2f4353(0x355)](_0xc9cc69,_0xe964d8),this['connectionGroup']['addConnection'](_0xe964d8),this[_0x2f4353(0x57f)][_0x2f4353(0x2f9)][_0x2f4353(0x900)](_0xe964d8),this['configs']['mediator'][_0x2f4353(0x6bd)](_0xc9cc69),await _0xe964d8[_0x2f4353(0x4bb)]();}[_0x29fc43(0x567)](){const _0x29d923=_0x29fc43;return this[_0x29d923(0x342)];}[_0x29fc43(0x8e6)](_0x2a78a6){const _0x22df61=_0x29fc43;if(!this['connections'][_0x22df61(0x716)](_0x2a78a6))throw new _0x3335bf(_0x3335bf[_0x22df61(0x4ee)][_0x22df61(0x7f5)],{'localId':this[_0x22df61(0x57f)]['localNode'][_0x22df61(0x994)](),'remoteId':_0x2a78a6});return this[_0x22df61(0x11c)][_0x22df61(0x2a2)](_0x2a78a6);}[_0x29fc43(0x784)](_0x1a743c){const _0x3409d2=_0x29fc43,_0xaf8c28=Array['from'](this['connections'][_0x3409d2(0x347)]());return _0x1a743c?_0xaf8c28[_0x3409d2(0x81c)](_0x1a743c):_0xaf8c28;}async[_0x29fc43(0x870)](_0x508044){const _0xc5458f=_0x29fc43,_0x56896f=this[_0xc5458f(0x11c)]['get'](_0x508044);_0x56896f&&_0x56896f[_0xc5458f(0x65f)]()&&await _0x56896f[_0xc5458f(0x870)]();}[_0x29fc43(0x1fb)](_0xd96619){const _0x5e5e50=_0x29fc43;if(_0xd96619[_0x5e5e50(0x30c)]!==_0x158cb7[_0x5e5e50(0x5d6)]||_0xd96619[_0x5e5e50(0xa39)])try{this['connectionGroup'][_0x5e5e50(0xae4)](_0xd96619);}catch(_0xf22422){if(_0xf22422 instanceof _0xa97582)return;throw _0xf22422;}else this[_0x5e5e50(0x531)][_0x5e5e50(0xae4)](_0xd96619);}async[_0x29fc43(0x23c)](_0x377ead){const _0x208eec=_0x29fc43;switch(_0x377ead[_0x208eec(0x88a)][_0x208eec(0xacf)]){case _0x21f8c1[_0x208eec(0x399)]:case _0x21f8c1[_0x208eec(0x269)]:case _0x21f8c1['OptimizationConnectionSuccess']:return;}if(!_0x377ead[_0x208eec(0xa00)]||0x1!==_0x377ead['destinationIds'][_0x208eec(0x4c5)])throw new _0x3335bf(_0x3335bf[_0x208eec(0x4ee)][_0x208eec(0x8f5)],{'message':_0x208eec(0xa31),'event':_0x377ead});if(_0x377ead[_0x208eec(0xa00)][0x0]!==this[_0x208eec(0x57f)][_0x208eec(0xa8a)][_0x208eec(0x994)]())throw new _0x3335bf(_0x3335bf[_0x208eec(0x4ee)][_0x208eec(0x8f5)],{'message':_0x208eec(0x4d7),'event':_0x377ead});if(!this[_0x208eec(0x11c)][_0x208eec(0x716)](_0x377ead[_0x208eec(0xad5)])){let _0x5da117=_0x5c07cb[_0x208eec(0x592)];if(!(this['isOffer'](_0x377ead[_0x208eec(0x88a)])||this[_0x208eec(0x95a)](_0x377ead['content'])||this[_0x208eec(0xaf6)](_0x377ead[_0x208eec(0x88a)])))return;_0x5da117=_0x377ead['content'][_0x208eec(0x892)],await this[_0x208eec(0x27a)](_0x377ead[_0x208eec(0xad5)],_0x5da117);}const _0x193b92=this[_0x208eec(0x11c)]['get'](_0x377ead[_0x208eec(0xad5)]);await _0x193b92['handlePeerConnectionSystemEvents'](_0x377ead);}['handleRemediationSystemEvents'](_0x16c08c){const _0x125f9d=_0x29fc43;if(_0x16c08c[_0x125f9d(0x88a)][_0x125f9d(0xacf)]===_0x56cfa9[_0x125f9d(0xa8c)]){if(_0x16c08c['content']['targetId']===this[_0x125f9d(0x57f)][_0x125f9d(0xa8a)][_0x125f9d(0x994)]())return void this[_0x125f9d(0x11c)]['forEach'](_0x5b2a53=>_0x5b2a53[_0x125f9d(0x2fd)](_0x16c08c));this['connections'][_0x125f9d(0x2a2)](_0x16c08c[_0x125f9d(0x88a)][_0x125f9d(0x982)])?.['handleRemediationSystemEvents'](_0x16c08c);}}[_0x29fc43(0x127)]({content:_0x19b61e}){const _0x3fccaf=_0x29fc43;_0x19b61e[_0x3fccaf(0xacf)]===_0x4ce2f2[_0x3fccaf(0x84e)]&&this[_0x3fccaf(0x1e4)](_0x19b61e['id']);}[_0x29fc43(0x543)](){const _0x1c2fdf=_0x29fc43,_0x3f2bbe=Array[_0x1c2fdf(0x8f7)](this['connections']['values']())[_0x1c2fdf(0x8ca)]((_0x631667,_0x5730e4)=>_0x631667+_0x5730e4[_0x1c2fdf(0x6e8)](),0x0);return _0x3f2bbe<_0xf9258e?Promise[_0x1c2fdf(0x4bf)](_0x3f2bbe):new Promise(_0x3da91b=>{const _0x14daef=setInterval(()=>{const _0x521d9d=a0_0x424d,_0x9e651f=Array[_0x521d9d(0x8f7)](this[_0x521d9d(0x11c)][_0x521d9d(0x347)]())['reduce']((_0x4d9539,_0x38156a)=>_0x4d9539+_0x38156a['calculateArrayBufferSize'](),0x0);_0x9e651f<_0xf9258e&&(clearInterval(_0x14daef),_0x3da91b(_0x9e651f));},0x3e8);});}[_0x29fc43(0xafd)](){const _0x214d6a=_0x29fc43;for(const _0x387708 of this['connections'][_0x214d6a(0x347)]())if(_0x387708['getBufferedAmount']()>0x0||_0x387708['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x29fc43(0x1e4)](_0x2cb60f){const _0x3c38a4=_0x29fc43,_0x5ec476=this[_0x3c38a4(0x11c)][_0x3c38a4(0x2a2)](_0x2cb60f);_0x5ec476&&(this['configs']['mediator'][_0x3c38a4(0x9e6)](_0x2cb60f),this[_0x3c38a4(0x57f)][_0x3c38a4(0x2f9)][_0x3c38a4(0x1b1)](_0x5ec476),_0x5ec476 instanceof _0xbb01aa&&this[_0x3c38a4(0x342)][_0x3c38a4(0x693)](_0x5ec476),_0x5ec476[_0x3c38a4(0xb1b)](),this['connections'][_0x3c38a4(0x5ef)](_0x2cb60f));}[_0x29fc43(0xa6b)](_0x55d411){const _0x360489=_0x29fc43;return _0x55d411[_0x360489(0xacf)]===_0x21f8c1[_0x360489(0x472)];}[_0x29fc43(0xaf6)](_0x1ba211){const _0xde94f9=_0x29fc43;return _0x1ba211['type']===_0x21f8c1[_0xde94f9(0x4f7)];}[_0x29fc43(0x95a)](_0x568eb5){return _0x568eb5['type']===_0x21f8c1['Handshake'];}}!function(_0x27e099){const _0x2f2936=_0x29fc43;_0x27e099[_0x27e099[_0x2f2936(0x49e)]=0x0]=_0x2f2936(0x49e),_0x27e099[_0x27e099[_0x2f2936(0x233)]=0x1]=_0x2f2936(0x233),_0x27e099[_0x27e099['UnsubscribeMediaStream']=0x2]=_0x2f2936(0x638),_0x27e099[_0x27e099[_0x2f2936(0x4fe)]=0x3]=_0x2f2936(0x4fe),_0x27e099[_0x27e099['RestartNeedMediaStream']=0x4]=_0x2f2936(0x668),_0x27e099[_0x27e099[_0x2f2936(0x440)]=0x5]=_0x2f2936(0x440),_0x27e099[_0x27e099['CannotProvideMediaStream']=0x6]=_0x2f2936(0x624),_0x27e099[_0x27e099[_0x2f2936(0x557)]=0x7]=_0x2f2936(0x557);}(_0x4d7c63||(_0x4d7c63={}));class _0x2abb17 extends _0x2b6b11{['localNode'];[_0x29fc43(0x93b)];[_0x29fc43(0x117)];[_0x29fc43(0xa03)];['debounceStats'];[_0x29fc43(0x878)]=0x0;[_0x29fc43(0x94f)];['eventListener']=_0x2d590d();[_0x29fc43(0x2bc)]=new Map();['changesUnsubscriber'];constructor(_0x7ae5b2,_0x3c2618,_0x45013c,_0x403a33,_0x158136){const _0x496f12=_0x29fc43;if('string'!=typeof _0x3c2618)throw new _0x27674c(_0x3d6c7a[_0x496f12(0x147)],_0x496f12(0x5b6));super(_0x7ae5b2,_0x3c2618),this['localNode']=_0x7ae5b2,this[_0x496f12(0x93b)]=_0x45013c,this[_0x496f12(0x117)]=_0x403a33,this[_0x496f12(0xa03)]=_0x158136,this[_0x496f12(0xb14)]();}[_0x29fc43(0x13b)](){const _0x7ef11f=_0x29fc43;this[_0x7ef11f(0x346)]?.(),this[_0x7ef11f(0x2bc)][_0x7ef11f(0x7f9)](_0x129cde=>_0x129cde()),clearTimeout(this['debounceStats']),delete this[_0x7ef11f(0x366)],super[_0x7ef11f(0x13b)]();}[_0x29fc43(0x94c)](){const _0xf80128=_0x29fc43;this[_0xf80128(0xb14)]();}[_0x29fc43(0xb1b)](){const _0x5d2d53=_0x29fc43;this['systemTopic'][_0x5d2d53(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x5d2d53(0x9aa)],'content':{'type':_0x49b388[_0x5d2d53(0x285)],'label':this[_0x5d2d53(0x12a)]}});}['getContentType'](){const _0x1454fa=_0x29fc43;return _0x47b47a[_0x1454fa(0x43d)]['ExternalStorage'];}async['get'](_0x57d728){const _0x1c2edb=_0x29fc43;if(!this[_0x1c2edb(0x94f)])throw new _0x27674c(_0x3d6c7a[_0x1c2edb(0x164)],_0x1c2edb(0x9bf));_0xb63eee[_0x1c2edb(0x110)](_0x127a0b[_0x1c2edb(0x36a)],{'type':'get','label':this[_0x1c2edb(0x12a)],'nodeId':this[_0x1c2edb(0xa8a)]['getId'](),'nodeType':this['localNode'][_0x1c2edb(0xacf)],'clusterId':this['clusterId'],'path':_0x57d728}),this[_0x1c2edb(0x878)]+=0x1,this['sendStats']();try{return await this['connector'][_0x1c2edb(0x2a2)](_0x57d728);}catch(_0x3fe6a1){throw new _0x27674c(_0x3d6c7a['ExternalStorageInvalidPath'],_0x1c2edb(0x833)+_0x57d728);}}async[_0x29fc43(0x536)](_0x34d9b8,_0x4c2e2a){const _0xb6789d=_0x29fc43;if(!this[_0xb6789d(0x94f)])throw new _0x27674c(_0x3d6c7a[_0xb6789d(0x164)],_0xb6789d(0xa4d));const {recursive:_0x401775=!0x1}=_0x4c2e2a??{};_0xb63eee[_0xb6789d(0x110)](_0x127a0b['ExternalStorage'],{'type':'list','label':this[_0xb6789d(0x12a)],'nodeId':this[_0xb6789d(0xa8a)][_0xb6789d(0x994)](),'nodeType':this['localNode']['type'],'clusterId':this[_0xb6789d(0x93b)],'path':_0x34d9b8}),this[_0xb6789d(0x878)]+=0x1,this[_0xb6789d(0xb14)]();try{return await this[_0xb6789d(0x94f)][_0xb6789d(0x536)](_0x34d9b8,_0x401775);}catch(_0x4c7807){throw new _0x27674c(_0x3d6c7a[_0xb6789d(0x5b4)],_0xb6789d(0xaa0)+_0x34d9b8);}}['subscribe'](_0x5cebaf,_0x1e55fa){const _0x5794e9=_0x29fc43;if(this[_0x5794e9(0x2bc)]['has'](_0x5cebaf))throw new _0x27674c(_0x3d6c7a[_0x5794e9(0x651)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x5794e9(0x2bc)][_0x5794e9(0x355)](_0x5cebaf,this['eventListener'][_0x5794e9(0x75e)](_0x1e55fa));}[_0x29fc43(0x515)](_0x56da96){const _0x27d0a7=_0x29fc43;this[_0x27d0a7(0x2bc)][_0x27d0a7(0x2a2)](_0x56da96)?.(),this[_0x27d0a7(0x2bc)][_0x27d0a7(0x5ef)](_0x56da96);}async[_0x29fc43(0x98b)](){const _0x4d95dc=_0x29fc43,_0x1f1020=(await(0x0,_0x4a79c7[_0x4d95dc(0x79a)])((0x0,_0x4a79c7[_0x4d95dc(0x463)])(_0x9824f6[_0x4d95dc(0xb00)](),_0x4d95dc(0x457)+this[_0x4d95dc(0x117)]+_0x4d95dc(0x896)+this['label'])))['data']();if(!_0x1f1020)throw new _0x27674c(_0x3d6c7a[_0x4d95dc(0x682)],_0x4d95dc(0x51f)+this[_0x4d95dc(0x12a)]);const {site:_0x5d25aa,drive:_0x3b96b5}=_0x1f1020,_0x13b443=(await(0x0,_0x1b22e6['httpsCallable'])(_0x9824f6[_0x4d95dc(0x640)](),_0x4d95dc(0x290))({'storageId':this['label']}))[_0x4d95dc(0x7d7)][_0x4d95dc(0x6ea)];this[_0x4d95dc(0x94f)]=new this['connectorConstructor'](_0x5d25aa['id'],_0x3b96b5['id'],_0x13b443,async()=>(await(0x0,_0x1b22e6[_0x4d95dc(0x88b)])(_0x9824f6[_0x4d95dc(0x640)](),_0x4d95dc(0x662))({'storageId':this[_0x4d95dc(0x12a)]}))[_0x4d95dc(0x7d7)][_0x4d95dc(0x6ea)]),this[_0x4d95dc(0x7a3)]();}[_0x29fc43(0xb14)](){const _0x4830b5=_0x29fc43;this[_0x4830b5(0x366)]&&clearTimeout(this[_0x4830b5(0x366)]),this[_0x4830b5(0x366)]=setTimeout(async()=>{const _0x4805e1=_0x4830b5;delete this['debounceStats'],this[_0x4805e1(0x3aa)][_0x4805e1(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388[_0x4805e1(0x34e)],'label':this[_0x4805e1(0x12a)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x5e5c9a);}async['trackChanges'](){const _0x288c4f=_0x29fc43;await this[_0x288c4f(0x94f)]?.['listChanges'](),this[_0x288c4f(0x346)]=_0x16c57a[_0x288c4f(0x875)](async()=>{const _0x32cd20=_0x288c4f;try{if(!this[_0x32cd20(0x94f)])return;const _0x1c5187=await this[_0x32cd20(0x94f)][_0x32cd20(0x3cf)]();for(const _0x442f8e of _0x1c5187)this[_0x32cd20(0x448)][_0x32cd20(0x289)](_0x442f8e);}catch(_0x86b268){}},0x493e0);}}const _0x194bdb=require('rxjs');class _0x596de3 extends _0x2b6b11{[_0x29fc43(0x248)];[_0x29fc43(0xa5a)]=new Map();[_0x29fc43(0x51b)]=new Map();['jobBids']=new Map();[_0x29fc43(0x6f6)];constructor(_0xd77eaf,_0x30550d,_0xbaa934){const _0x22cea4=_0x29fc43;super(_0xd77eaf,_0x30550d),this[_0x22cea4(0x248)]=_0xbaa934;}[_0x29fc43(0x5f5)](){const _0x5e7f31=_0x29fc43;return _0x47b47a[_0x5e7f31(0x43d)]['Job'];}[_0x29fc43(0x98b)](){const _0x152bf7=_0x29fc43;this[_0x152bf7(0x6f6)]=this[_0x152bf7(0x6b5)]((_0x216603,_0x3094c6)=>{const _0x444bc7=_0x152bf7;if(_0xb63eee[_0x444bc7(0x195)](_0x30994c[_0x444bc7(0x3bb)],'JobDispatcher:\x20Received\x20job',_0x216603,_0x3094c6,this[_0x444bc7(0x248)][_0x444bc7(0x301)]()),!(_0x3094c6 instanceof File)){if(!_0x3094c6)throw new _0x3335bf(_0x3335bf[_0x444bc7(0x4ee)]['JobDispatcherInvalidPayload']);return this[_0x444bc7(0x277)](_0x3094c6)?this[_0x444bc7(0x99c)](_0x216603,_0x3094c6['id'],_0x3094c6):this[_0x444bc7(0x940)](_0x3094c6)?(_0xb63eee[_0x444bc7(0x195)](_0x30994c[_0x444bc7(0x3bb)],_0x444bc7(0xa1a)+_0x3094c6['id']+_0x444bc7(0x5c7),_0x3094c6['result']),void this['evaluatePartialJob'](_0x3094c6['id'],_0x3094c6)):this['isResultResponse'](_0x3094c6)?(_0xb63eee['log'](_0x30994c[_0x444bc7(0x3bb)],_0x444bc7(0xa1a)+_0x3094c6['id']+_0x444bc7(0x549),_0x3094c6['result']),void this[_0x444bc7(0x6a9)](_0x3094c6['id'],_0x3094c6)):void(this[_0x444bc7(0x995)](_0x3094c6)&&this[_0x444bc7(0x70e)](_0x3094c6['id'],_0x3094c6[_0x444bc7(0x356)]));}});}['reset'](){const _0x31aff4=_0x29fc43;this[_0x31aff4(0x985)](),this['open']();}['destroy'](){const _0xfebd0=_0x29fc43;this[_0xfebd0(0x985)](),super['destroy']();}['clear'](){const _0x934372=_0x29fc43;this[_0x934372(0xa5a)][_0x934372(0x985)](),this[_0x934372(0x6f6)]&&this['unsubscribeHandler']();}[_0x29fc43(0xb1b)](){const _0x1ac242=_0x29fc43;this[_0x1ac242(0x3aa)]?.[_0x1ac242(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x1ac242(0x9aa)],'content':{'type':_0x49b388[_0x1ac242(0x18c)],'label':this['label']}});}async['createJob'](_0x276b48){const _0x58ceef=_0x29fc43,{id:_0xcc3b78,parameters:_0xf383f9,jobType:_0x5cc8e0}=_0x276b48,_0x297bdf={'id':_0xcc3b78,'jobType':_0x5cc8e0,'parameters':_0xf383f9,'status':_0x47b47a[_0x58ceef(0x236)][_0x58ceef(0x32c)],'created':new Date(),'updated':new Date()};if(this[_0x58ceef(0xa5a)][_0x58ceef(0x716)](_0x297bdf['id']))throw new _0x27674c(_0x3d6c7a[_0x58ceef(0x1b8)],_0x58ceef(0x5b7)+_0x297bdf['id']+'\x20already\x20exists.');_0x297bdf[_0x58ceef(0x7d6)]=new Date(),_0x297bdf['updated']=new Date();const _0x48b042=new _0x194bdb['Subject']();this['jobs'][_0x58ceef(0x355)](_0x297bdf['id'],_0x297bdf),this['jobObservers']['set'](_0x297bdf['id'],_0x48b042);try{const _0x31204b={'id':_0x297bdf['id'],'jobPhase':_0x3eab7d[_0x58ceef(0x7dc)],'jobType':_0x297bdf['jobType']},_0x691249=0x3;let _0x5c1282=0x0;const _0x3743fb=async()=>{const _0x50fb0f=_0x58ceef;_0x5c1282+=0x1;try{_0xb63eee[_0x50fb0f(0x195)](_0x30994c[_0x50fb0f(0x3bb)],_0x50fb0f(0xa1a)+_0x297bdf['id']+'\x20sending\x20attempt\x20'+_0x5c1282+'.',this[_0x50fb0f(0x248)]['getRemoteNodes']()),await this[_0x50fb0f(0xae4)](_0x31204b),_0x297bdf[_0x50fb0f(0x28f)]=new Date(),this['jobs'][_0x50fb0f(0x355)](_0x297bdf['id'],_0x297bdf),this[_0x50fb0f(0x7f1)](_0x297bdf['id']);}catch(_0x4bbefd){_0x5c1282<_0x691249?(_0xb63eee[_0x50fb0f(0x55c)](_0x50fb0f(0x9b0)+_0x5c1282+_0x50fb0f(0xa15)+_0x297bdf['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x50fb0f(0xab7)]['getId'](),'nodeType':this[_0x50fb0f(0xab7)][_0x50fb0f(0xacf)],'data':{'job':_0x297bdf,'attempts':_0x5c1282,'maxRetries':_0x691249}}),setTimeout(_0x3743fb,0x3e8)):(_0x297bdf['status']=_0x47b47a[_0x50fb0f(0x236)][_0x50fb0f(0x493)],_0x297bdf[_0x50fb0f(0x28f)]=new Date(),this['jobs'][_0x50fb0f(0x355)](_0x297bdf['id'],_0x297bdf),_0xb63eee[_0x50fb0f(0x3c9)](_0x50fb0f(0x7e6)+_0x297bdf['id']+_0x50fb0f(0x739)+_0x691249+'\x20attempts:',{'nodeId':this['owner']['getId'](),'nodeType':this[_0x50fb0f(0xab7)][_0x50fb0f(0xacf)],'data':{'job':_0x297bdf,'attempts':_0x5c1282,'maxRetries':_0x691249,'error':_0x4bbefd}}));}};_0x3743fb();const {id:_0x13d983}=_0x297bdf;this['logEvent'](_0x58ceef(0xa1a)+_0x297bdf['id']+_0x58ceef(0x603),{'jobId':_0x13d983}),_0x297bdf[_0x58ceef(0x28f)]=new Date();}catch(_0x38a53b){_0x297bdf[_0x58ceef(0x883)]=_0x47b47a[_0x58ceef(0x236)][_0x58ceef(0x493)],_0xb63eee[_0x58ceef(0x3c9)](_0x58ceef(0x7e6)+_0x297bdf['id']+':',{'nodeId':this['owner']['getId'](),'nodeType':this[_0x58ceef(0xab7)]['type'],'data':{'job':_0x297bdf,'error':_0x38a53b}});}return _0x48b042['asObservable']();}[_0x29fc43(0x502)](_0x1f843d){const _0x125487=_0x29fc43,_0x6de071=this[_0x125487(0xa5a)][_0x125487(0x2a2)](_0x1f843d);if(!_0x6de071)throw new _0x27674c(_0x3d6c7a[_0x125487(0x152)],_0x125487(0x5b7)+_0x1f843d+_0x125487(0x3b5));return{'id':_0x6de071['id'],'jobType':_0x6de071['jobType'],'status':_0x6de071[_0x125487(0x883)],'parameters':_0x6de071['parameters']};}['getJobs'](){const _0xa3cb95=_0x29fc43;return Array[_0xa3cb95(0x8f7)](this[_0xa3cb95(0xa5a)][_0xa3cb95(0x347)]())[_0xa3cb95(0x170)](_0xbd4064=>this[_0xa3cb95(0x502)](_0xbd4064['id']));}async[_0x29fc43(0x73c)](_0x1613d2,_0x599bf7){const _0x2afdca=_0x29fc43,_0x4b374e=this[_0x2afdca(0xa5a)][_0x2afdca(0x2a2)](_0x1613d2);if(!_0x4b374e)throw new _0x27674c(_0x3d6c7a[_0x2afdca(0x152)],_0x2afdca(0x5b7)+_0x1613d2+_0x2afdca(0x3b5));_0x4b374e[_0x2afdca(0x28b)]=_0x599bf7,_0x4b374e['updated']=new Date(),this['jobs']['set'](_0x1613d2,_0x4b374e);}async[_0x29fc43(0x888)](_0x5c658e){const _0x14a706=_0x29fc43;if(!this[_0x14a706(0xa5a)][_0x14a706(0x5ef)](_0x5c658e))throw new _0x27674c(_0x3d6c7a['JobDispatcherJobNotFound'],_0x14a706(0x5b7)+_0x5c658e+_0x14a706(0x3b5));const _0x1edf4c=this[_0x14a706(0x51b)][_0x14a706(0x2a2)](_0x5c658e);if(!_0x1edf4c)throw new _0x3335bf(_0x3335bf[_0x14a706(0x4ee)][_0x14a706(0x9b5)]);_0x1edf4c[_0x14a706(0x3df)](),this[_0x14a706(0x51b)][_0x14a706(0x5ef)](_0x5c658e),_0xb63eee[_0x14a706(0x195)](_0x30994c[_0x14a706(0x3bb)],_0x14a706(0xa1a)+_0x5c658e+_0x14a706(0x447));}[_0x29fc43(0x99c)](_0x20c629,_0x3d20ab,_0x3087a1){const _0x5312c2=_0x29fc43,_0xde6e72=this['jobBids'][_0x5312c2(0x2a2)](_0x3d20ab)??new Map();_0xde6e72[_0x5312c2(0x355)](_0x20c629,[_0x3087a1,Date[_0x5312c2(0x653)]()]),this[_0x5312c2(0x80b)]['set'](_0x3d20ab,_0xde6e72),this[_0x5312c2(0xa01)](_0x3d20ab);}[_0x29fc43(0x7f1)](_0x11f75b){const _0x67728=_0x29fc43,_0xf68658=this['jobs'][_0x67728(0x2a2)](_0x11f75b);if(!_0xf68658)throw new _0x3335bf(_0x3335bf[_0x67728(0x4ee)][_0x67728(0x152)]);const _0x5e6080=setTimeout(()=>this[_0x67728(0xa01)](_0x11f75b,!0x0),0xbb8);_0xf68658[_0x67728(0x962)]=_0x5e6080,this[_0x67728(0xa5a)][_0x67728(0x355)](_0xf68658['id'],_0xf68658);}['evaluateBidsAndAttributeJob'](_0x1d7739,_0x82c213=!0x1){const _0x3baef2=_0x29fc43,_0x31ee87=this[_0x3baef2(0x248)][_0x3baef2(0x301)](),_0x15a49b=Array[_0x3baef2(0x8f7)](_0x31ee87[_0x3baef2(0x347)]())[_0x3baef2(0x81c)](_0x4a38b1=>_0x4a38b1[_0x3baef2(0xacf)]===_0x47b47a[_0x3baef2(0x394)]['Agent']),_0x172ddb=this['jobBids']['get'](_0x1d7739)??new Map();if(!_0x82c213&&(!_0x172ddb||_0x172ddb[_0x3baef2(0xb18)]<_0x15a49b[_0x3baef2(0x4c5)]))return;const _0x3ef7df=this[_0x3baef2(0xa5a)][_0x3baef2(0x2a2)](_0x1d7739);if(!_0x3ef7df)throw new _0x3335bf(_0x3335bf[_0x3baef2(0x4ee)][_0x3baef2(0x152)]);if(clearTimeout(_0x3ef7df['responseTimeout']),_0xb63eee[_0x3baef2(0x195)](_0x30994c[_0x3baef2(0x3bb)],_0x3baef2(0xa1a)+_0x3ef7df['id']+_0x3baef2(0x1e0),_0x172ddb,this['jobBids']),!_0x172ddb||0x0===_0x172ddb[_0x3baef2(0xb18)]){_0x3ef7df['status']=_0x47b47a[_0x3baef2(0x236)]['Failed'],_0x3ef7df[_0x3baef2(0x28f)]=new Date(),_0xb63eee[_0x3baef2(0x3c9)]('Job\x20'+_0x3ef7df['id']+_0x3baef2(0x3ea),{'nodeId':this[_0x3baef2(0xab7)][_0x3baef2(0x994)](),'nodeType':this[_0x3baef2(0xab7)][_0x3baef2(0xacf)],'data':{'job':_0x3ef7df,'responses':_0x172ddb}});const _0x24006f=this[_0x3baef2(0x51b)][_0x3baef2(0x2a2)](_0x1d7739);if(!_0x24006f)throw new _0x3335bf(_0x3335bf[_0x3baef2(0x4ee)][_0x3baef2(0x9b5)]);const _0x567906=_0x3baef2(0x22d),_0x288266={'id':_0x3ef7df['id'],'status':_0x3ef7df['status'],'message':_0x567906};return _0x24006f[_0x3baef2(0x609)](_0x288266),_0x24006f[_0x3baef2(0x3df)](),this[_0x3baef2(0xa5a)][_0x3baef2(0x355)](_0x3ef7df['id'],_0x3ef7df),void this['jobBids'][_0x3baef2(0x5ef)](_0x1d7739);}const {nodeId:_0xad0f80,response:_0x270706}=this[_0x3baef2(0x66f)](_0x3ef7df['id'],_0x172ddb);_0x3ef7df['status']=_0x47b47a['JobStatus'][_0x3baef2(0x22b)],_0x3ef7df['updated']=new Date(),_0xb63eee[_0x3baef2(0x195)](_0x30994c[_0x3baef2(0x3bb)],'Job\x20'+_0x3ef7df['id']+_0x3baef2(0x491)+_0xad0f80+'\x20with\x20response:',_0x270706);const _0xeeea8e={'id':_0x3ef7df['id'],'jobType':_0x3ef7df[_0x3baef2(0xa02)],'jobPhase':_0x3eab7d['Attribution'],'parameters':_0x3ef7df['parameters']};this[_0x3baef2(0xae4)](_0xeeea8e,[_0xad0f80]),this[_0x3baef2(0xa5a)]['set'](_0x3ef7df['id'],_0x3ef7df),this['jobBids'][_0x3baef2(0x5ef)](_0x1d7739);}[_0x29fc43(0x66f)](_0x4c6d58,_0x5f4d55){const _0x2b9ea7=_0x29fc43;let _0x586fcb;const _0x4b4ac5=Array[_0x2b9ea7(0x8f7)](_0x5f4d55[_0x2b9ea7(0x32b)]())[_0x2b9ea7(0x81c)](([,[_0x48e02e]])=>_0x48e02e[_0x2b9ea7(0x175)]);if(_0x586fcb=_0x4b4ac5[_0x2b9ea7(0x4c5)]>0x0?Array[_0x2b9ea7(0x8f7)](_0x5f4d55[_0x2b9ea7(0x32b)]())['sort']((_0x26497a,_0x3abcff)=>_0x3abcff[0x1][0x0][_0x2b9ea7(0x1e1)]-_0x26497a[0x1][0x0][_0x2b9ea7(0x1e1)]):Array[_0x2b9ea7(0x8f7)](_0x5f4d55['entries']())[_0x2b9ea7(0xb06)]((_0x3ea81e,_0x1e8ecb)=>_0x3ea81e[0x1][0x0][_0x2b9ea7(0x6ce)]-_0x1e8ecb[0x1][0x0][_0x2b9ea7(0x6ce)]),0x1===_0x586fcb[_0x2b9ea7(0x4c5)])return{'nodeId':_0x586fcb[0x0][0x0],'response':_0x586fcb[0x0][0x1][0x0]};let _0x2ff460;if(_0x2ff460=_0x4b4ac5[_0x2b9ea7(0x4c5)]>0x0?(_0x43f49d=>{const _0xa2ef2d=_0x2b9ea7,_0x8452d5=_0x43f49d[0x0][0x1][0x0][_0xa2ef2d(0x1e1)];return _0x43f49d[_0xa2ef2d(0x81c)](([,[_0x3ae2b4]])=>_0x3ae2b4[_0xa2ef2d(0x1e1)]===_0x8452d5);})(_0x586fcb):(_0x2264e6=>{const _0x164205=_0x2b9ea7,_0x510409=_0x2264e6[0x0][0x1][0x0][_0x164205(0x6ce)];return _0x2264e6[_0x164205(0x81c)](([,[_0xe3db76]])=>_0xe3db76[_0x164205(0x6ce)]===_0x510409);})(_0x586fcb),0x1===_0x2ff460[_0x2b9ea7(0x4c5)])return{'nodeId':_0x2ff460[0x0][0x0],'response':_0x2ff460[0x0][0x1][0x0]};const _0x299cc6=this[_0x2b9ea7(0xa5a)][_0x2b9ea7(0x2a2)](_0x4c6d58);if(!_0x299cc6)throw new _0x3335bf(_0x3335bf[_0x2b9ea7(0x4ee)][_0x2b9ea7(0x152)]);const _0x30985a=_0x299cc6['created'][_0x2b9ea7(0xa97)](),_0x3d2fef=_0x2ff460[_0x2b9ea7(0x170)](([_0x405c31,[,_0x482778]])=>({'nodeId':_0x405c31,'rtt':_0x482778-_0x30985a})),_0x25a7fd=Math[_0x2b9ea7(0xa52)](..._0x3d2fef[_0x2b9ea7(0x170)](({rtt:_0xb1bcea})=>_0xb1bcea)),_0x4e89ce=_0x3d2fef['find'](({rtt:_0x20cdb1})=>_0x20cdb1===_0x25a7fd),[,[_0x445a80]]=_0x2ff460[_0x2b9ea7(0x5a5)](([_0x35e1ac])=>_0x35e1ac===_0x4e89ce['nodeId']);return{'nodeId':_0x4e89ce[_0x2b9ea7(0x45a)],'response':_0x445a80};}[_0x29fc43(0xa89)](_0x4d5b72,_0x1d9309){const _0x5d8026=_0x29fc43,_0xafdb45=this[_0x5d8026(0xa5a)][_0x5d8026(0x2a2)](_0x4d5b72);if(!_0xafdb45)throw new _0x3335bf(_0x3335bf[_0x5d8026(0x4ee)][_0x5d8026(0x152)]);const _0x4c2317=this[_0x5d8026(0x51b)][_0x5d8026(0x2a2)](_0x4d5b72);if(!_0x4c2317)throw new _0x3335bf(_0x3335bf[_0x5d8026(0x4ee)]['JobDispatcherObserverNotFound']);const _0x21213e={'id':_0xafdb45['id'],'status':_0x47b47a[_0x5d8026(0x236)][_0x5d8026(0xa6c)],'result':_0x1d9309[_0x5d8026(0x550)]};_0x4c2317[_0x5d8026(0x609)](_0x21213e);}[_0x29fc43(0x6a9)](_0x38345d,_0x5dc132){const _0x14d913=_0x29fc43,_0x1835a1=this[_0x14d913(0xa5a)][_0x14d913(0x2a2)](_0x38345d);if(!_0x1835a1)throw new _0x3335bf(_0x3335bf[_0x14d913(0x4ee)]['JobDispatcherJobNotFound']);const _0x18ab30=this[_0x14d913(0x51b)][_0x14d913(0x2a2)](_0x38345d);if(!_0x18ab30)throw new _0x3335bf(_0x3335bf[_0x14d913(0x4ee)][_0x14d913(0x9b5)]);_0x1835a1[_0x14d913(0x883)]=_0x47b47a[_0x14d913(0x236)][_0x14d913(0x89b)];const _0x1c98cd={'id':_0x1835a1['id'],'status':_0x1835a1['status'],'result':_0x5dc132[_0x14d913(0x550)]};_0x18ab30['next'](_0x1c98cd),_0x18ab30[_0x14d913(0x3df)](),this[_0x14d913(0x51b)]['delete'](_0x38345d),this['logEvent'](_0x14d913(0xa1a)+_0x38345d+_0x14d913(0x950),{'jobId':_0x38345d});}['failJob'](_0x23054e,_0x1d0f97){const _0xd56552=_0x29fc43,_0x2539cc=this[_0xd56552(0xa5a)]['get'](_0x23054e);if(!_0x2539cc)throw new _0x3335bf(_0x3335bf[_0xd56552(0x4ee)]['JobDispatcherJobNotFound']);const _0x19fd10=this[_0xd56552(0x51b)][_0xd56552(0x2a2)](_0x23054e);if(!_0x19fd10)throw new _0x3335bf(_0x3335bf['codes'][_0xd56552(0x9b5)]);_0x2539cc[_0xd56552(0x883)]=_0x47b47a[_0xd56552(0x236)][_0xd56552(0x493)];const _0x3eb564={'id':_0x2539cc['id'],'status':_0x2539cc['status'],'message':_0x1d0f97};_0x19fd10[_0xd56552(0x609)](_0x3eb564),_0x19fd10[_0xd56552(0x3df)](),this[_0xd56552(0x51b)]['delete'](_0x23054e),this[_0xd56552(0x684)](_0xd56552(0xa1a)+_0x23054e+_0xd56552(0x7ee),{'jobId':_0x23054e});}[_0x29fc43(0x684)](_0x570ef5,{jobId:_0x5c7c9a}){const _0x1a68de=_0x29fc43,_0x51ca4b={'jobId':_0x5c7c9a,'mistletIds':Array[_0x1a68de(0x8f7)](this[_0x1a68de(0x248)]['getRemoteNodes']()[_0x1a68de(0x347)]())[_0x1a68de(0x81c)](_0x1efc79=>_0x1efc79[_0x1a68de(0xacf)]===_0x47b47a['NodeType'][_0x1a68de(0x48a)])[_0x1a68de(0x170)](_0x577d4b=>_0x577d4b[_0x1a68de(0x994)]())};_0xb63eee[_0x1a68de(0x684)](_0x570ef5,{'nodeId':this[_0x1a68de(0x5a8)](),'nodeType':this[_0x1a68de(0xab7)]['type'],'data':_0x51ca4b}),_0xb63eee['log'](_0x30994c[_0x1a68de(0x3bb)],_0x570ef5,_0x51ca4b);}[_0x29fc43(0x277)](_0xe550af){const {jobPhase:_0x51b88e,available:_0x5b7c4,bid:_0x2c98ba}=_0xe550af;return _0x51b88e===_0x3eab7d['Bid']&&void 0x0!==_0x5b7c4&&void 0x0!==_0x2c98ba;}[_0x29fc43(0x940)](_0x24caf6){const {jobPhase:_0x47ddc9,result:_0x3c244d}=_0x24caf6;return _0x47ddc9===_0x3eab7d['PartialResult']&&void 0x0!==_0x3c244d;}['isResultResponse'](_0x56c0ca){const {jobPhase:_0x3895bf,result:_0x2a3b73}=_0x56c0ca;return _0x3895bf===_0x3eab7d['Result']&&void 0x0!==_0x2a3b73;}[_0x29fc43(0x995)](_0x5f5494){const _0x507ded=_0x29fc43,{jobPhase:_0x353af8,message:_0x379aa4}=_0x5f5494;return _0x353af8===_0x3eab7d[_0x507ded(0x493)]&&void 0x0!==_0x379aa4&&_0x507ded(0x89c)==typeof _0x379aa4;}}var _0x1d973d,_0x284f13,_0x4f87f6,_0x5ee5b4,_0x5c0042;!function(_0x856516){const _0x4c7d82=_0x29fc43;_0x856516[_0x4c7d82(0x72c)]='object-storage',_0x856516[_0x4c7d82(0x36a)]=_0x4c7d82(0x201);}(_0x1d973d||(_0x1d973d={})),function(_0x3113d1){const _0x2ccce3=_0x29fc43;_0x3113d1[_0x2ccce3(0x48a)]=_0x2ccce3(0xab9),_0x3113d1[_0x2ccce3(0x2d0)]=_0x2ccce3(0xa60),_0x3113d1[_0x2ccce3(0x116)]=_0x2ccce3(0x704),_0x3113d1['CustomSkill']='custom-skill',_0x3113d1[_0x2ccce3(0x94b)]='data-collection',_0x3113d1[_0x2ccce3(0x3c4)]=_0x2ccce3(0x797),_0x3113d1['Prompt']=_0x2ccce3(0x7c1),_0x3113d1[_0x2ccce3(0x496)]=_0x2ccce3(0x5df),_0x3113d1['Code']=_0x2ccce3(0x840),_0x3113d1[_0x2ccce3(0x18f)]=_0x2ccce3(0x686),_0x3113d1[_0x2ccce3(0xa09)]='search',_0x3113d1[_0x2ccce3(0x2e8)]=_0x2ccce3(0x5d4),_0x3113d1[_0x2ccce3(0x849)]=_0x2ccce3(0xb07),_0x3113d1[_0x2ccce3(0x9ac)]=_0x2ccce3(0x9c2),_0x3113d1[_0x2ccce3(0x1db)]=_0x2ccce3(0x2e6),_0x3113d1[_0x2ccce3(0x358)]=_0x2ccce3(0x3ce),_0x3113d1[_0x2ccce3(0x7f3)]='chunk-splitter',_0x3113d1[_0x2ccce3(0x766)]=_0x2ccce3(0x279),_0x3113d1['WordSplitter']=_0x2ccce3(0x298),_0x3113d1[_0x2ccce3(0x196)]='document-parser',_0x3113d1[_0x2ccce3(0x544)]=_0x2ccce3(0x16c),_0x3113d1[_0x2ccce3(0xb0a)]=_0x2ccce3(0x556),_0x3113d1[_0x2ccce3(0xabd)]=_0x2ccce3(0xac0);}(_0x284f13||(_0x284f13={})),function(_0x10bd22){const _0x44fc11=_0x29fc43;_0x10bd22['ObjectStorageUpload']=_0x44fc11(0x33d),_0x10bd22[_0x44fc11(0x2a0)]='external-storage-upload',_0x10bd22['DocumentParser']=_0x44fc11(0x2da),_0x10bd22['ChunkSplitter']='chunk-splitter',_0x10bd22[_0x44fc11(0x2d7)]=_0x44fc11(0x298),_0x10bd22[_0x44fc11(0x766)]='sentence-splitter',_0x10bd22['RelationExtractor']=_0x44fc11(0x2e4),_0x10bd22['EntityExtractor']=_0x44fc11(0x167),_0x10bd22[_0x44fc11(0x5fa)]=_0x44fc11(0x83d),_0x10bd22['Model']=_0x44fc11(0x614),_0x10bd22['Agent']=_0x44fc11(0xab9),_0x10bd22['ObjectStorageBucket']=_0x44fc11(0x2ec),_0x10bd22[_0x44fc11(0x844)]=_0x44fc11(0x87d),_0x10bd22[_0x44fc11(0xa34)]=_0x44fc11(0x73b),_0x10bd22[_0x44fc11(0x615)]=_0x44fc11(0x725),_0x10bd22[_0x44fc11(0x711)]='prompt',_0x10bd22[_0x44fc11(0x86b)]='context',_0x10bd22[_0x44fc11(0x258)]=_0x44fc11(0x55a),_0x10bd22[_0x44fc11(0x5ed)]=_0x44fc11(0x83e);}(_0x4f87f6||(_0x4f87f6={})),function(_0x5b4c82){const _0x1d51d5=_0x29fc43;_0x5b4c82[_0x1d51d5(0x1f9)]=_0x1d51d5(0x15d),_0x5b4c82[_0x1d51d5(0x841)]='text',_0x5b4c82['Image']=_0x1d51d5(0x6a5),_0x5b4c82[_0x1d51d5(0x1cb)]=_0x1d51d5(0x3c3),_0x5b4c82[_0x1d51d5(0xa7d)]=_0x1d51d5(0x7d7),_0x5b4c82[_0x1d51d5(0x178)]='vector',_0x5b4c82[_0x1d51d5(0x7c8)]=_0x1d51d5(0x7df),_0x5b4c82[_0x1d51d5(0x881)]='relation',_0x5b4c82['Search']='search',_0x5b4c82[_0x1d51d5(0x748)]=_0x1d51d5(0x378),_0x5b4c82[_0x1d51d5(0xadb)]=_0x1d51d5(0x530),_0x5b4c82[_0x1d51d5(0x86b)]=_0x1d51d5(0x781),_0x5b4c82[_0x1d51d5(0x135)]=_0x1d51d5(0x73f),_0x5b4c82[_0x1d51d5(0x4ef)]=_0x1d51d5(0xb10),_0x5b4c82[_0x1d51d5(0x14b)]=_0x1d51d5(0x4da);}(_0x5ee5b4||(_0x5ee5b4={})),function(_0x548f02){const _0x5c863b=_0x29fc43;_0x548f02[_0x5c863b(0x931)]=_0x5c863b(0x6cb),_0x548f02[_0x5c863b(0x74c)]=_0x5c863b(0xaaf),_0x548f02[_0x5c863b(0x588)]='dedicated';}(_0x5c0042||(_0x5c0042={}));const _0x291132=[{'type':_0x284f13[_0x29fc43(0x116)],'id':_0x29fc43(0x569),'name':_0x29fc43(0x68f),'description':'Routes\x20messages\x20based\x20on\x20conditional\x20logic.','modelId':_0x29fc43(0x6ae),'instructions':_0x29fc43(0x227),'grammar':_0x29fc43(0x77e),'temperature':0x0,'maxTokens':0x64}],_0x47a43a=[{'type':_0x284f13[_0x29fc43(0x48a)],'id':'blank-agent','name':_0x29fc43(0x628),'description':'','modelId':_0x29fc43(0x6ae),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13['Agent'],'id':'generic-agent','name':'Generic\x20AI\x20Agent','description':_0x29fc43(0x869),'modelId':_0x29fc43(0x6ae),'instructions':_0x29fc43(0x854),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0x395),'name':'Search\x20Agent','description':'Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','modelId':_0x29fc43(0x6ae),'instructions':_0x29fc43(0x5f6),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':'feedback-agent','name':_0x29fc43(0xabe),'description':'Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','modelId':_0x29fc43(0x6ae),'instructions':_0x29fc43(0x416),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0x575),'name':'Learning\x20Agent','description':_0x29fc43(0x74a),'modelId':_0x29fc43(0x6ae),'instructions':'Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13['Agent'],'id':_0x29fc43(0x764),'name':_0x29fc43(0x83c),'description':_0x29fc43(0x245),'modelId':_0x29fc43(0x6ae),'instructions':_0x29fc43(0x3b2),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0x4d1),'name':_0x29fc43(0x41b),'description':_0x29fc43(0x564),'modelId':_0x29fc43(0x6ae),'instructions':'Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0x9e9),'name':_0x29fc43(0x8ef),'description':_0x29fc43(0x2b8),'modelId':_0x29fc43(0x6ae),'instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0xa56),'name':_0x29fc43(0x46c),'description':_0x29fc43(0x9c1),'modelId':'gpt-4.1-nano','instructions':_0x29fc43(0x263),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0x354),'name':_0x29fc43(0x158),'description':_0x29fc43(0x7da),'modelId':_0x29fc43(0x6ae),'instructions':'Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0xb0d),'name':_0x29fc43(0x909),'description':_0x29fc43(0x8ed),'modelId':'gpt-4.1-nano','instructions':_0x29fc43(0x2d9),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x284f13[_0x29fc43(0x48a)],'id':_0x29fc43(0x2f6),'name':'Copywriter\x20Agent','description':_0x29fc43(0x6b3),'modelId':_0x29fc43(0x6ae),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'coordinator-agent','name':_0x29fc43(0x137),'description':_0x29fc43(0x22a),'modelId':_0x29fc43(0x6ae),'instructions':_0x29fc43(0x22c),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'interview-agent','name':_0x29fc43(0x293),'description':_0x29fc43(0x33e),'modelId':_0x29fc43(0x6ae),'instructions':_0x29fc43(0x75f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x29fc43(0xa16),'name':_0x29fc43(0x9bc),'description':'Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','modelId':'gpt-4.1-nano','instructions':_0x29fc43(0x3d4),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x145d6e{static ['instance'];constructor(){}static[_0x29fc43(0x4f3)](){const _0x3b7c68=_0x29fc43;return _0x145d6e[_0x3b7c68(0x6c3)]||(_0x145d6e[_0x3b7c68(0x6c3)]=new _0x145d6e()),_0x145d6e['instance'];}async[_0x29fc43(0x611)](_0x3157b3,_0x36587b){const _0x1970e4=_0x29fc43,_0x2a0d88=await(0x0,_0x4a79c7[_0x1970e4(0x79a)])((0x0,_0x4a79c7[_0x1970e4(0x463)])(_0x9824f6['getFirestore'](),_0x1970e4(0x457)+_0x3157b3+'/resources/generative-ai-workflow/items/'+_0x36587b)),_0x163d71=await this['getAgents'](_0x3157b3),_0x555e77=await this[_0x1970e4(0xb0c)](_0x3157b3),_0x3e214e=await this[_0x1970e4(0x1ae)](_0x3157b3);if(!_0x2a0d88[_0x1970e4(0x8a4)]())throw new _0x3335bf(_0x3335bf['codes'][_0x1970e4(0xb13)]);return this[_0x1970e4(0x898)](_0x2a0d88,_0x163d71,_0x555e77,_0x3e214e);}async['getDataCollections'](_0x3d6a40){const _0x2a3054=_0x29fc43;return(await(0x0,_0x4a79c7[_0x2a3054(0x95e)])((0x0,_0x4a79c7[_0x2a3054(0x562)])(_0x9824f6['getFirestore'](),_0x2a3054(0x457)+_0x3d6a40+_0x2a3054(0x565))))[_0x2a3054(0x547)][_0x2a3054(0x170)](_0x3d2fcb=>{const _0x4a553b=_0x2a3054,_0x1207c9=_0x3d2fcb[_0x4a553b(0x7d7)]();return{'type':_0x284f13[_0x4a553b(0x94b)],'id':_0x3d2fcb['id'],'name':_0x1207c9[_0x4a553b(0x3dd)],'description':_0x1207c9['description'],'storageType':_0x1207c9[_0x4a553b(0x85a)]??_0x47b47a['GenerativeAIRagType'][_0x4a553b(0x953)],'hosting':_0x1207c9[_0x4a553b(0x254)]??_0x5c0042[_0x4a553b(0x588)],'modelId':_0x1207c9[_0x4a553b(0x4e8)]??'text-embedding-3-small','ingestBlocks':_0x1207c9[_0x4a553b(0x859)],'retrieveBlocks':_0x1207c9[_0x4a553b(0x6bf)]};});}async[_0x29fc43(0x59b)](_0x11d7fc,_0x5b6c1c){const _0x2ed58b=_0x29fc43,_0x56af1d=await(0x0,_0x4a79c7[_0x2ed58b(0x79a)])((0x0,_0x4a79c7[_0x2ed58b(0x463)])(_0x9824f6[_0x2ed58b(0xb00)](),_0x2ed58b(0x457)+_0x11d7fc+_0x2ed58b(0x935)+_0x5b6c1c)),_0x350cd5=await this[_0x2ed58b(0x44f)](_0x11d7fc),_0x20c645=_0x56af1d[_0x2ed58b(0x7d7)]();if(!_0x20c645)throw new _0x3335bf(_0x3335bf[_0x2ed58b(0x4ee)][_0x2ed58b(0x57d)]);return{'type':_0x284f13[_0x2ed58b(0x94b)],'id':_0x5b6c1c,'uid':_0x5b6c1c,'name':_0x20c645[_0x2ed58b(0x3dd)],'description':_0x20c645[_0x2ed58b(0x3f9)],'storageType':_0x20c645['storageType']??_0x47b47a['GenerativeAIRagType'][_0x2ed58b(0x953)],'hosting':_0x20c645[_0x2ed58b(0x254)]??_0x5c0042[_0x2ed58b(0x588)],'modelId':_0x20c645['modelId']??_0x2ed58b(0x532),'ingestBlocks':this[_0x2ed58b(0x76d)](_0x20c645['ingestBlocks'],_0x350cd5),'retrieveBlocks':this[_0x2ed58b(0x76d)](_0x20c645[_0x2ed58b(0x6bf)],_0x350cd5),'links':[]};}[_0x29fc43(0x898)](_0x50655f,_0x597641,_0x3587da,_0x2bcfae){const _0xb513a5=_0x29fc43,_0x28b440=_0x50655f[_0xb513a5(0x7d7)]();if(!_0x28b440)throw new _0x3335bf(_0x3335bf[_0xb513a5(0x4ee)][_0xb513a5(0xb13)]);const _0x2c1393=this[_0xb513a5(0x1a7)](_0x28b440['blocks'],_0x597641,_0x3587da,_0x2bcfae);return{'id':_0x50655f['id'],'name':_0x28b440[_0xb513a5(0x3dd)],'description':_0x28b440[_0xb513a5(0x3f9)],'blocks':_0x2c1393,'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x2c1393),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x2c1393),'initialPrompt':_0x28b440[_0xb513a5(0x4f5)]};}[_0x29fc43(0x1fe)](_0x50a6e3){const _0x1d49a8=_0x29fc43,_0x29af9f=new Set();for(const _0x38cb21 of _0x50a6e3)switch(_0x38cb21[_0x1d49a8(0xacf)]){case _0x284f13[_0x1d49a8(0x3c4)]:case _0x284f13['DataCollection']:for(const _0x37de44 of[..._0x38cb21[_0x1d49a8(0x859)],..._0x38cb21[_0x1d49a8(0x6bf)]])_0x37de44['type']===_0x4f87f6[_0x1d49a8(0x43a)]&&_0x29af9f[_0x1d49a8(0x5ec)](_0x37de44['id']);}return Array[_0x1d49a8(0x8f7)](_0x29af9f);}[_0x29fc43(0x4e6)](_0x4f13ec){const _0x4563d7=_0x29fc43,_0x443d9d=new Set();for(const _0x47e892 of _0x4f13ec)switch(_0x47e892[_0x4563d7(0xacf)]){case _0x284f13['Knowledge']:case _0x284f13[_0x4563d7(0x94b)]:for(const _0x551fdb of[..._0x47e892[_0x4563d7(0x859)],..._0x47e892[_0x4563d7(0x6bf)]])_0x551fdb[_0x4563d7(0xacf)]===_0x4f87f6[_0x4563d7(0x2a0)]&&_0x443d9d['add'](_0x551fdb['id']);}return Array[_0x4563d7(0x8f7)](_0x443d9d);}[_0x29fc43(0x1a7)](_0x207281,_0x1b03db,_0x541aeb,_0x40df02){return _0x207281['map'](_0x49fec4=>{const _0x2bfd68=a0_0x424d;switch(_0x49fec4[_0x2bfd68(0xacf)]){case _0x284f13[_0x2bfd68(0x48a)]:case _0x284f13[_0x2bfd68(0x2d0)]:case _0x284f13[_0x2bfd68(0x116)]:const _0x3ddb65=_0x1b03db[_0x2bfd68(0x5a5)](_0x19f6dd=>_0x19f6dd['id']===_0x49fec4['id']);if(!_0x3ddb65)throw new _0x3335bf(_0x3335bf[_0x2bfd68(0x4ee)][_0x2bfd68(0x52c)],{'block':_0x49fec4});return{'type':_0x284f13['Agent'],'id':_0x3ddb65['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'name':_0x3ddb65['name'],'description':_0x3ddb65[_0x2bfd68(0x3f9)],'instructions':(_0x3ddb65['instructions']+'\x0a\x0a'+(_0x49fec4[_0x2bfd68(0xab9)]?.['additionnalInstructions']??''))['trim'](),'contextOutputVariable':_0x49fec4['agent']?.['contextOutputVariable'],'contextInputVariable':_0x49fec4[_0x2bfd68(0xab9)]?.['contextInputVariable'],'reasoning':_0x49fec4[_0x2bfd68(0xab9)]?.[_0x2bfd68(0x66d)]??!0x1,'grammar':_0x49fec4[_0x2bfd68(0xab9)]?.['grammar']??_0x2bfd68(0x715),'temperature':_0x49fec4[_0x2bfd68(0xab9)]?.[_0x2bfd68(0x478)]??0.5,'maxTokens':_0x49fec4[_0x2bfd68(0xab9)]?.['maxTokens']??0x1f4,'modelId':_0x49fec4['agent']?.[_0x2bfd68(0x4e8)]??_0x2bfd68(0x685),'links':_0x49fec4[_0x2bfd68(0x6f0)]};case _0x284f13[_0x2bfd68(0x3c4)]:case _0x284f13['DataCollection']:const _0x4f873f=_0x40df02[_0x2bfd68(0x5a5)](_0x43206f=>_0x43206f['id']===_0x49fec4['id']);if(!_0x4f873f)throw new _0x3335bf(_0x3335bf[_0x2bfd68(0x4ee)]['WorkflowInvalidBlockType'],{'block':_0x49fec4});return{'type':_0x49fec4[_0x2bfd68(0xacf)],'id':_0x4f873f['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'name':_0x4f873f[_0x2bfd68(0x3dd)],'description':_0x4f873f[_0x2bfd68(0x3f9)],'ingestBlocks':this[_0x2bfd68(0x76d)](_0x4f873f[_0x2bfd68(0x859)],_0x1b03db),'retrieveBlocks':this[_0x2bfd68(0x76d)](_0x4f873f[_0x2bfd68(0x6bf)],_0x1b03db),'links':_0x49fec4[_0x2bfd68(0x6f0)]};case _0x284f13[_0x2bfd68(0x733)]:return{'type':_0x49fec4[_0x2bfd68(0xacf)],'id':_0x49fec4['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'name':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x3dd)],'description':_0x49fec4[_0x2bfd68(0x530)]['description'],'parameters':_0x49fec4['tool'][_0x2bfd68(0x28b)],'endpointUrl':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x504)],'endpointMethod':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x7d0)],'headers':_0x49fec4[_0x2bfd68(0x530)]['headers'],'queryParameters':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x4fb)],'bodyParameters':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x5fd)],'contextOutputVariable':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x7d5)],'links':_0x49fec4['links']};case _0x284f13[_0x2bfd68(0x18f)]:return{'type':_0x49fec4[_0x2bfd68(0xacf)],'id':_0x49fec4['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'name':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x3dd)],'description':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x3f9)],'questions':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x205)][_0x2bfd68(0x170)](_0x578176=>({'id':_0x578176['id'],'question':_0x578176[_0x2bfd68(0x3dd)],'validation':_0x578176['value'],'required':'true'===_0x578176[_0x2bfd68(0xa0a)],'format':_0x578176[_0x2bfd68(0x710)]})),'contextOutputVariable':_0x49fec4[_0x2bfd68(0x530)]['contextOutputVariable'],'links':_0x49fec4[_0x2bfd68(0x6f0)]};case _0x284f13[_0x2bfd68(0x2e8)]:return{'type':_0x49fec4[_0x2bfd68(0xacf)],'id':_0x49fec4['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'modelId':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x4e8)]??'sonar','links':_0x49fec4[_0x2bfd68(0x6f0)]};case _0x284f13['WorkflowTool']:const _0x296da6=_0x541aeb['find'](_0x34ef80=>_0x34ef80['id']===_0x49fec4['id']);if(!_0x296da6)throw new _0x3335bf(_0x3335bf['codes'][_0x2bfd68(0x52c)],{'block':_0x49fec4});return{'type':_0x49fec4['type'],'id':_0x49fec4['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'name':_0x296da6[_0x2bfd68(0x3dd)],'description':_0x296da6[_0x2bfd68(0x3f9)],'workflowId':_0x296da6['id'],'async':_0x49fec4[_0x2bfd68(0x530)]['async'],'contextOutputVariable':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x7d5)],'contextInputVariable':_0x49fec4[_0x2bfd68(0x530)][_0x2bfd68(0x204)],'links':_0x49fec4[_0x2bfd68(0x6f0)]};case _0x284f13[_0x2bfd68(0x711)]:case _0x284f13[_0x2bfd68(0x544)]:case _0x284f13[_0x2bfd68(0x496)]:case _0x284f13['OutputAudioStream']:case _0x284f13[_0x2bfd68(0x28c)]:case _0x284f13[_0x2bfd68(0xa09)]:case _0x284f13[_0x2bfd68(0x849)]:case _0x284f13[_0x2bfd68(0x9ac)]:case _0x284f13[_0x2bfd68(0x1db)]:case _0x284f13[_0x2bfd68(0x358)]:case _0x284f13[_0x2bfd68(0x766)]:case _0x284f13['DocumentParser']:return{'type':_0x49fec4[_0x2bfd68(0xacf)],'id':_0x49fec4['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'links':_0x49fec4[_0x2bfd68(0x6f0)]};case _0x284f13[_0x2bfd68(0x7f3)]:case _0x284f13[_0x2bfd68(0x2d7)]:return{'type':_0x49fec4['type'],'id':_0x49fec4['id'],'uid':_0x49fec4[_0x2bfd68(0x34c)],'links':_0x49fec4['links'],'attributes':_0x49fec4[_0x2bfd68(0x946)]};default:throw new _0x3335bf(_0x3335bf[_0x2bfd68(0x4ee)][_0x2bfd68(0x52c)],{'block':_0x49fec4});}});}[_0x29fc43(0x76d)](_0x4bfb1a,_0x1c6c4f){const _0x4ff81b=_0x29fc43;return _0x4bfb1a?_0x4bfb1a[_0x4ff81b(0x170)](_0x106739=>{const _0x4489cd=_0x4ff81b;switch(_0x106739[_0x4489cd(0xacf)]){case _0x4f87f6[_0x4489cd(0x48a)]:const _0x33b302=_0x1c6c4f[_0x4489cd(0x5a5)](_0x83c71a=>_0x83c71a['id']===_0x106739['id']);if(!_0x33b302)throw new _0x3335bf(_0x3335bf[_0x4489cd(0x4ee)][_0x4489cd(0x52c)],{'block':_0x106739});return{'type':_0x106739[_0x4489cd(0xacf)],'id':_0x106739['id'],'uid':_0x106739[_0x4489cd(0x34c)],'description':_0x33b302['description'],'instructions':(_0x33b302[_0x4489cd(0x9ca)]+'\x0a\x0a'+(_0x106739[_0x4489cd(0xab9)]?.[_0x4489cd(0xb05)]??''))['trim'](),'contextOutputVariable':_0x106739[_0x4489cd(0xab9)]?.[_0x4489cd(0x7d5)],'contextInputVariable':_0x106739['agent']?.[_0x4489cd(0x204)],'reasoning':_0x106739['agent']?.[_0x4489cd(0x66d)]??!0x1,'grammar':_0x106739[_0x4489cd(0xab9)]?.[_0x4489cd(0x63d)]??_0x4489cd(0x715),'temperature':_0x106739[_0x4489cd(0xab9)]?.[_0x4489cd(0x478)]??0.5,'maxTokens':_0x106739[_0x4489cd(0xab9)]?.['maxTokens']??0x1f4,'modelId':_0x106739[_0x4489cd(0xab9)]?.[_0x4489cd(0x4e8)]??_0x4489cd(0x685),'links':_0x106739['links']};case _0x4f87f6[_0x4489cd(0x615)]:case _0x4f87f6[_0x4489cd(0xa34)]:case _0x4f87f6[_0x4489cd(0x2d7)]:case _0x4f87f6[_0x4489cd(0x7f3)]:case _0x4f87f6['EntityExtractor']:case _0x4f87f6[_0x4489cd(0x5fa)]:return{'type':_0x106739[_0x4489cd(0xacf)],'id':_0x106739['id'],'uid':_0x106739[_0x4489cd(0x34c)],'links':_0x106739[_0x4489cd(0x6f0)],'attributes':_0x106739[_0x4489cd(0x946)]};case _0x4f87f6[_0x4489cd(0x8e4)]:case _0x4f87f6[_0x4489cd(0xa24)]:case _0x4f87f6[_0x4489cd(0x844)]:case _0x4f87f6[_0x4489cd(0x799)]:case _0x4f87f6['DocumentParser']:case _0x4f87f6[_0x4489cd(0x766)]:case _0x4f87f6['ObjectStorageUpload']:case _0x4f87f6['ExternalStorageUpload']:case _0x4f87f6[_0x4489cd(0x86b)]:case _0x4f87f6[_0x4489cd(0x711)]:case _0x4f87f6['Upload']:case _0x4f87f6[_0x4489cd(0x5ed)]:return{'type':_0x106739[_0x4489cd(0xacf)],'id':_0x106739['id'],'uid':_0x106739[_0x4489cd(0x34c)],'links':_0x106739[_0x4489cd(0x6f0)]};default:throw new _0x3335bf(_0x3335bf[_0x4489cd(0x4ee)][_0x4489cd(0x52c)],{'block':_0x106739});}}):[];}async['getAgents'](_0xb22b4){const _0x4779bc=_0x29fc43,_0x595f6d=(await(0x0,_0x4a79c7[_0x4779bc(0x95e)])((0x0,_0x4a79c7[_0x4779bc(0x562)])(_0x9824f6[_0x4779bc(0xb00)](),_0x4779bc(0x457)+_0xb22b4+_0x4779bc(0xa1d))))[_0x4779bc(0x547)][_0x4779bc(0x170)](_0x4d8fbb=>{const _0x57c8c3=_0x4779bc,_0x228d34=_0x4d8fbb[_0x57c8c3(0x7d7)]();return{'type':_0x284f13[_0x57c8c3(0x48a)],'id':_0x4d8fbb['id'],'name':_0x228d34[_0x57c8c3(0x3dd)],'description':_0x228d34[_0x57c8c3(0x3f9)],'instructions':_0x228d34[_0x57c8c3(0x9ca)]};});return _0x595f6d[_0x4779bc(0x9f9)](..._0x291132),_0x595f6d[_0x4779bc(0x9f9)](..._0x47a43a),_0x595f6d;}async['getWorkflows'](_0x17fa30){const _0x508d3b=_0x29fc43;return(await(0x0,_0x4a79c7[_0x508d3b(0x95e)])((0x0,_0x4a79c7[_0x508d3b(0x562)])(_0x9824f6[_0x508d3b(0xb00)](),_0x508d3b(0x457)+_0x17fa30+_0x508d3b(0x144))))['docs'][_0x508d3b(0x170)](_0x275c52=>{const _0x3272ac=_0x508d3b,_0x1e0eed=_0x275c52[_0x3272ac(0x7d7)]();return{'id':_0x275c52['id'],'name':_0x1e0eed[_0x3272ac(0x3dd)],'description':_0x1e0eed[_0x3272ac(0x3f9)]};});}}const _0x11a297=_0x145d6e[_0x29fc43(0x4f3)]();class _0x196e1d extends _0x596de3{['localNode'];['vendorId'];[_0x29fc43(0x696)]=0x0;[_0x29fc43(0x36c)]=0x0;[_0x29fc43(0x366)];constructor(_0x22428d,_0x562354,_0x1f4414,_0x4935e1){const _0x6b65ff=_0x29fc43;super(_0x22428d,_0x562354,_0x4935e1),this['localNode']=_0x22428d,this[_0x6b65ff(0x117)]=_0x1f4414,this[_0x6b65ff(0xb14)]();}[_0x29fc43(0x13b)](){const _0xa1d954=_0x29fc43;this[_0xa1d954(0x366)]&&(clearTimeout(this[_0xa1d954(0x366)]),delete this[_0xa1d954(0x366)]),super[_0xa1d954(0x13b)]();}[_0x29fc43(0x94c)](){const _0x51c721=_0x29fc43;this['prompts']=0x0,this[_0x51c721(0x36c)]=0x0,this[_0x51c721(0xb14)](),super[_0x51c721(0x94c)]();}[_0x29fc43(0x9e1)](_0x241b25){const _0xaaf692=_0x29fc43,_0xf82e16=_0xaaf692(0x4c6)+(0x0,_0x3adee5['v4'])();let _0x36ce36=!0x1;const _0x4204c1=()=>{const _0xe1a8e4=_0xaaf692;if(_0x36ce36)throw new _0x3335bf(_0x3335bf[_0xe1a8e4(0x4ee)][_0xe1a8e4(0x9a1)]);_0x36ce36=!0x0;};switch(_0x241b25[_0xaaf692(0xacf)]){case'collection-create':case _0xaaf692(0x7fe):case _0xaaf692(0x62f):case'file-delete':case _0xaaf692(0x316):case _0xaaf692(0x7cf):case'file-ingest':case _0xaaf692(0x86f):case _0xaaf692(0x744):case _0xaaf692(0x36f):case'tool-call':case _0xaaf692(0x83e):return{'id':_0xf82e16,..._0x241b25,'run':()=>(_0x4204c1(),this[_0xaaf692(0x75b)](_0xf82e16,_0x241b25))};case _0xaaf692(0x9ed):case _0xaaf692(0x7c1):const _0x3a9198=()=>(_0x4204c1(),this[_0xaaf692(0x25b)](_0xf82e16,_0x241b25)),_0x4cc02d=()=>(_0x4204c1(),this[_0xaaf692(0x787)](_0xf82e16,_0x241b25));return{'id':_0xf82e16,'options':{'threadId':_0xaaf692(0xa4c)+(0x0,_0x3adee5['v4'])()},..._0x241b25,'run':_0x3a9198,'stream':_0x4cc02d};default:throw new Error(_0xaaf692(0xa2c));}}async[_0x29fc43(0x75b)](_0x39b96b,_0x43a801){const _0x8435c5=_0x29fc43;if(_0x8435c5(0x9ed)===_0x43a801[_0x8435c5(0xacf)]||_0x8435c5(0x7c1)===_0x43a801['type'])throw new _0x27674c(_0x3d6c7a[_0x8435c5(0x45e)],'Invalid\x20job\x20type');const _0x40b4c2={'threadId':_0x8435c5(0xa4c)+(0x0,_0x3adee5['v4'])(),..._0x43a801},_0xf75f2c=await this['getJobObservable'](_0x39b96b,_0x47b47a[_0x8435c5(0x719)][_0x8435c5(0x53a)],_0x40b4c2);return new Promise((_0x334f33,_0x40183d)=>{const _0x3f0b26=_0x8435c5;let _0x576bf1;const _0x4187c7=_0xf75f2c[_0x3f0b26(0x75e)]({'next':_0x381556=>{const _0xba5fcb=_0x3f0b26;switch(_0x381556[_0xba5fcb(0x883)]){case _0x47b47a[_0xba5fcb(0x236)][_0xba5fcb(0x89b)]:clearTimeout(_0x576bf1),_0x334f33(_0x381556[_0xba5fcb(0x550)]),_0x4187c7[_0xba5fcb(0x515)]();break;case _0x47b47a[_0xba5fcb(0x236)][_0xba5fcb(0x493)]:clearTimeout(_0x576bf1),_0x40183d(new _0x3335bf(_0x3335bf['codes'][_0xba5fcb(0x809)],{'updatedJob':_0x381556})),_0x4187c7[_0xba5fcb(0x515)]();}},'error':_0x1afa8a=>{const _0x44fb3c=_0x3f0b26;clearTimeout(_0x576bf1),_0x40183d(new _0x3335bf(_0x3335bf[_0x44fb3c(0x4ee)][_0x44fb3c(0x809)],{'err':_0x1afa8a})),_0x4187c7[_0x44fb3c(0x515)]();}});_0x576bf1=setTimeout(()=>{const _0x5b1293=_0x3f0b26;_0x40183d(new _0x3335bf(_0x3335bf['codes']['GenerativeAIContextJobTimeout'])),_0x4187c7[_0x5b1293(0x515)]();},_0x2f0c82);});}async[_0x29fc43(0x25b)](_0x2d184b,_0xa7267b){const _0x44fbb6=_0x29fc43,_0x45d47a=await this[_0x44fbb6(0x2fe)](_0x2d184b,_0x47b47a['JobType'][_0x44fbb6(0x53a)],_0xa7267b);return new Promise((_0x2cf6fa,_0x1e9187)=>{let _0x4818e9;const _0x25caa2=_0x45d47a['subscribe']({'next':_0x105710=>{const _0x144549=a0_0x424d;switch(_0x105710[_0x144549(0x883)]){case _0x47b47a['JobStatus'][_0x144549(0x89b)]:if(_0x144549(0x7c1)!==_0x105710[_0x144549(0x550)][_0x144549(0xacf)])return;const _0x1fcaf1=_0x105710[_0x144549(0x550)]['inputTokens']??0x0;this['logServiceEvent'](_0xa7267b[_0x144549(0x7c1)],_0x1fcaf1),clearTimeout(_0x4818e9),_0x2cf6fa(_0x105710[_0x144549(0x550)]),_0x25caa2[_0x144549(0x515)](),this[_0x144549(0x696)]+=0x1,this['tokens']+=_0x1fcaf1,this[_0x144549(0xb14)]();break;case _0x47b47a['JobStatus']['Failed']:clearTimeout(_0x4818e9),_0x1e9187(new _0x3335bf(_0x3335bf[_0x144549(0x4ee)][_0x144549(0x809)],{'updatedJob':_0x105710})),_0x25caa2[_0x144549(0x515)](),this['sendStats']();}},'error':_0x511ece=>{const _0x294d18=a0_0x424d;clearTimeout(_0x4818e9),_0x1e9187(new _0x3335bf(_0x3335bf['codes'][_0x294d18(0x809)],{'err':_0x511ece})),_0x25caa2[_0x294d18(0x515)]();}});_0x4818e9=setTimeout(()=>{const _0x254e7b=a0_0x424d;_0x1e9187(new _0x3335bf(_0x3335bf['codes'][_0x254e7b(0x487)])),_0x25caa2[_0x254e7b(0x515)]();},_0x2f0c82);});}async*[_0x29fc43(0x787)](_0x41bb2e,_0x36b826){const _0x2662a1=_0x29fc43,_0x3d90ca=await this[_0x2662a1(0x2fe)](_0x41bb2e,_0x47b47a['JobType'][_0x2662a1(0x1fc)],_0x36b826);let _0x3596c0,_0x3471d3,_0x261532=!0x1,_0x2d52a4=0x0;const _0x1838ba=[],_0xc31150=new Map();let _0x3c1730=null;const _0x388688=()=>{_0x3c1730&&(_0x3c1730(),_0x3c1730=null);},_0x50876a=_0x4597c9=>{const _0x415444=_0x2662a1;_0x261532=!0x0,_0x388688(),_0x2a1d50[_0x415444(0x515)](),_0x3471d3=_0x4597c9;},_0x2a1d50=_0x3d90ca[_0x2662a1(0x75e)]({'next':async _0xc1c4d1=>{const _0xe9a2d4=_0x2662a1;switch(_0xc1c4d1['status']){case _0x47b47a[_0xe9a2d4(0x236)]['Partial']:if('prompt'!==_0xc1c4d1[_0xe9a2d4(0x550)]['type'])return;if(void 0x0!==_0xc1c4d1['result'][_0xe9a2d4(0x2b0)]){if(void 0x0===_0xc1c4d1['result'][_0xe9a2d4(0x378)])return void _0x50876a(_0x3335bf[_0xe9a2d4(0x4ee)][_0xe9a2d4(0x9f0)]);_0x2d52a4===_0xc1c4d1[_0xe9a2d4(0x550)][_0xe9a2d4(0x378)]?(_0x1838ba['push'](_0xc1c4d1[_0xe9a2d4(0x550)]),_0x2d52a4++,((()=>{const _0x28063e=_0xe9a2d4;for(;_0xc31150[_0x28063e(0x716)](_0x2d52a4);)_0x1838ba[_0x28063e(0x9f9)](_0xc31150[_0x28063e(0x2a2)](_0x1838ba[_0x28063e(0x4c5)])),_0xc31150['delete'](_0x1838ba[_0x28063e(0x4c5)]),_0x2d52a4++;})()),_0x388688(),_0x4717b9()):_0xc31150['set'](_0xc1c4d1[_0xe9a2d4(0x550)][_0xe9a2d4(0x378)],_0xc1c4d1[_0xe9a2d4(0x550)]);}break;case _0x47b47a[_0xe9a2d4(0x236)][_0xe9a2d4(0x89b)]:if(_0xe9a2d4(0x7c1)!==_0xc1c4d1[_0xe9a2d4(0x550)][_0xe9a2d4(0xacf)])return;for(;_0x2d52a4!==_0xc1c4d1[_0xe9a2d4(0x550)]['index'];)await _0x16c57a[_0xe9a2d4(0x73f)](0x3e8);const _0x27f9f0=_0xc1c4d1[_0xe9a2d4(0x550)][_0xe9a2d4(0x778)]??0x0;this[_0xe9a2d4(0x110)](_0x36b826[_0xe9a2d4(0x7c1)],_0x27f9f0),clearTimeout(_0x3596c0),_0x50876a(),this[_0xe9a2d4(0x696)]+=0x1,this[_0xe9a2d4(0x36c)]+=_0x27f9f0,this[_0xe9a2d4(0xb14)]();break;case _0x47b47a['JobStatus']['Failed']:clearTimeout(_0x3596c0),_0x50876a(_0x3335bf[_0xe9a2d4(0x4ee)][_0xe9a2d4(0x809)]),this[_0xe9a2d4(0xb14)]();}},'error':_0x4c93ef=>{const _0x2b462a=_0x2662a1;clearTimeout(_0x3596c0),_0x50876a(_0x3335bf[_0x2b462a(0x4ee)][_0x2b462a(0x809)]);}}),_0x2ca823=()=>{const _0x240cac=_0x2662a1;_0x50876a(_0x3335bf[_0x240cac(0x4ee)][_0x240cac(0x487)]);},_0x4717b9=()=>{clearTimeout(_0x3596c0),_0x3596c0=setTimeout(_0x2ca823,_0x2f0c82);};for(_0x3596c0=setTimeout(_0x2ca823,_0x2f0c82);!_0x261532||_0x1838ba[_0x2662a1(0x4c5)]>0x0;)_0x1838ba['length']>0x0?yield _0x1838ba['shift']():await new Promise(_0x49e9bb=>_0x3c1730=_0x49e9bb);if(_0x3471d3)throw _0xb63eee[_0x2662a1(0x3c9)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x2662a1(0xa8a)]['getId'](),'nodeType':this[_0x2662a1(0xa8a)][_0x2662a1(0xacf)]}),new _0x3335bf(_0x3471d3);}async['getDataBucketIds'](){const _0x2d760d=_0x29fc43;return(await _0x11a297['getWorkflow'](this[_0x2d760d(0x117)],this[_0x2d760d(0x12a)]))[_0x2d760d(0x24c)];}[_0x29fc43(0x110)](_0x2fccf6,_0xd22ba4){const _0x380124=_0x29fc43,_0x2b932e=this[_0x380124(0x12a)],_0x34a3c1=this[_0x380124(0x5a8)]();_0xb63eee[_0x380124(0x110)](_0x127a0b['GenerativeAIContext'],{'topic':_0x2b932e,'prompt':_0x2fccf6,'type':_0x380124(0x7c1),'nodeId':_0x34a3c1,'tokenCount':_0xd22ba4});}async[_0x29fc43(0x2fe)](_0x5602be,_0x373257,_0x29b5d1,_0x5ec33d={}){const _0x29e5db=_0x29fc43;let _0x487648;switch(_0x29b5d1[_0x29e5db(0xacf)]){case _0x29e5db(0x75d):case _0x29e5db(0x7fe):case _0x29e5db(0x62f):case _0x29e5db(0x83e):case'file-delete':case _0x29e5db(0x316):case _0x29e5db(0x7cf):case'file-list':case _0x29e5db(0x9ed):case _0x29e5db(0x7c1):case _0x29e5db(0x744):case _0x29e5db(0x36f):case _0x29e5db(0x64c):_0x487648={'id':_0x5602be,'jobType':_0x373257,'parameters':{..._0x5ec33d,..._0x29b5d1},'status':_0x47b47a['JobStatus'][_0x29e5db(0x32c)]};break;default:throw new Error(_0x29e5db(0xa2c));}return await this[_0x29e5db(0xaf3)](_0x487648);}[_0x29fc43(0xb14)](){const _0x236c0d=_0x29fc43;this[_0x236c0d(0x366)]&&clearTimeout(this['debounceStats']),this[_0x236c0d(0x366)]=setTimeout(async()=>{const _0x1f3e8d=_0x236c0d;delete this[_0x1f3e8d(0x366)],this['systemTopic'][_0x1f3e8d(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x1f3e8d(0x9aa)],'content':{'type':_0x49b388[_0x1f3e8d(0x1a2)],'label':this[_0x1f3e8d(0x12a)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1f3e8d(0x3fe)],'bytesSent':this[_0x1f3e8d(0x656)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x1f3e8d(0x36c)]}}});},_0x5e5c9a);}}var _0x50537a,_0x23c1c6,_0xbaa178,_0x4e3472,_0x58c389,_0x5c373e,_0x36851c,_0x36faa6,_0x1dce9f,_0xd25f17,_0xcf78d4;!function(_0x37c0a7){const _0x102231=_0x29fc43;_0x37c0a7[_0x102231(0x33f)]='AITrace',_0x37c0a7[_0x102231(0x73a)]=_0x102231(0x73a),_0x37c0a7[_0x102231(0x75a)]='RetrieveTrace',_0x37c0a7[_0x102231(0x8dd)]='WorkflowTrace';}(_0x50537a||(_0x50537a={})),function(_0xcc12ea){const _0x259e6a=_0x29fc43;_0xcc12ea[_0x259e6a(0xa49)]=_0x259e6a(0xa49),_0xcc12ea[_0x259e6a(0x484)]=_0x259e6a(0x484),_0xcc12ea[_0x259e6a(0x368)]=_0x259e6a(0x368),_0xcc12ea[_0x259e6a(0x80d)]=_0x259e6a(0x80d),_0xcc12ea[_0x259e6a(0x393)]=_0x259e6a(0x393),_0xcc12ea['Reranker']='Reranker';}(_0x23c1c6||(_0x23c1c6={})),function(_0x4893e9){const _0x1ef1d7=_0x29fc43;_0x4893e9[_0x4893e9[_0x1ef1d7(0x96c)]=0x0]=_0x1ef1d7(0x96c),_0x4893e9[_0x4893e9[_0x1ef1d7(0x856)]=0x5]=_0x1ef1d7(0x856),_0x4893e9[_0x4893e9[_0x1ef1d7(0x186)]=0xa]=_0x1ef1d7(0x186),_0x4893e9[_0x4893e9[_0x1ef1d7(0x77d)]=0xf]=_0x1ef1d7(0x77d);}(_0xbaa178||(_0xbaa178={})),function(_0x3e1f26){const _0x4004fb=_0x29fc43;_0x3e1f26[_0x4004fb(0x7d8)]='Retrieve',_0x3e1f26[_0x4004fb(0x8f6)]=_0x4004fb(0x8f6),_0x3e1f26[_0x4004fb(0x3c4)]=_0x4004fb(0x3c4),_0x3e1f26[_0x4004fb(0x5f4)]=_0x4004fb(0x5f4),_0x3e1f26[_0x4004fb(0x442)]=_0x4004fb(0x442),_0x3e1f26['Job']='Job',_0x3e1f26[_0x4004fb(0x5dc)]='JobContext',_0x3e1f26[_0x4004fb(0x1d4)]='Rating';}(_0x4e3472||(_0x4e3472={})),function(_0x465ef4){const _0x43c23c=_0x29fc43;_0x465ef4[_0x43c23c(0x861)]=_0x43c23c(0x861),_0x465ef4['Completed']=_0x43c23c(0x89b);}(_0x58c389||(_0x58c389={})),function(_0x328fbe){const _0xf5cd29=_0x29fc43;_0x328fbe['InitialPrompt']=_0xf5cd29(0x5fe),_0x328fbe[_0xf5cd29(0xa62)]='IntermediateOutput',_0x328fbe[_0xf5cd29(0x94b)]=_0xf5cd29(0x94b),_0x328fbe[_0xf5cd29(0x12d)]=_0xf5cd29(0x12d);}(_0x5c373e||(_0x5c373e={})),function(_0x1b7b82){const _0x33bb59=_0x29fc43;_0x1b7b82['ChunkSplitter']='ChunkSplitter',_0x1b7b82[_0x33bb59(0x196)]=_0x33bb59(0x196),_0x1b7b82[_0x33bb59(0x80d)]='EntityExtractor',_0x1b7b82[_0x33bb59(0x615)]=_0x33bb59(0x615),_0x1b7b82[_0x33bb59(0x48a)]='Agent',_0x1b7b82[_0x33bb59(0xa49)]=_0x33bb59(0xa49),_0x1b7b82[_0x33bb59(0x484)]=_0x33bb59(0x484),_0x1b7b82['RelationExtractor']='RelationExtractor',_0x1b7b82[_0x33bb59(0x766)]=_0x33bb59(0x766),_0x1b7b82[_0x33bb59(0xa34)]=_0x33bb59(0xa34),_0x1b7b82[_0x33bb59(0x2d7)]=_0x33bb59(0x2d7);}(_0x36851c||(_0x36851c={})),function(_0x549843){const _0x15aece=_0x29fc43;_0x549843[_0x15aece(0x825)]=_0x15aece(0x825),_0x549843[_0x15aece(0x749)]=_0x15aece(0x749);}(_0x36faa6||(_0x36faa6={})),function(_0x467084){const _0x29b6b2=_0x29fc43;_0x467084[_0x29b6b2(0x490)]='ExecuteCode',_0x467084[_0x29b6b2(0x3e8)]=_0x29b6b2(0x3e8),_0x467084[_0x29b6b2(0x8b4)]=_0x29b6b2(0x8b4),_0x467084['SearchPerplexity']=_0x29b6b2(0x501),_0x467084['ExecuteAgent']=_0x29b6b2(0x1bd),_0x467084['ExecuteCustomSkill']=_0x29b6b2(0x5a2),_0x467084['QueryFile']='QueryFile',_0x467084['WriteFile']=_0x29b6b2(0x358),_0x467084[_0x29b6b2(0x4f2)]=_0x29b6b2(0x4f2),_0x467084[_0x29b6b2(0x7b2)]='FormGetQuestion',_0x467084[_0x29b6b2(0x445)]=_0x29b6b2(0x445),_0x467084['FormSubmitForm']=_0x29b6b2(0x5e7);}(_0x1dce9f||(_0x1dce9f={})),function(_0xe218c0){const _0x549df5=_0x29fc43;_0xe218c0[_0x549df5(0x7c6)]=_0x549df5(0x7c6),_0xe218c0[_0x549df5(0x750)]=_0x549df5(0x750);}(_0xd25f17||(_0xd25f17={})),function(_0x524136){const _0x48dae5=_0x29fc43;_0x524136[_0x48dae5(0x5fc)]='PromptRating';}(_0xcf78d4||(_0xcf78d4={}));class _0x4c031e{static [_0x29fc43(0x6c3)]=new _0x4c031e();[_0x29fc43(0x2ae)]=[];[_0x29fc43(0x17f)]=!0x1;constructor(){}static['getInstance'](){const _0x40daf8=_0x29fc43;return _0x4c031e[_0x40daf8(0x6c3)];}get[_0x29fc43(0x4c5)](){const _0x58d9f7=_0x29fc43;return this[_0x58d9f7(0x2ae)][_0x58d9f7(0x4c5)];}[_0x29fc43(0x5d9)](){const _0x468edd=_0x29fc43;return!this[_0x468edd(0x17f)];}['clear'](_0x528c2f){const _0x9823cb=_0x29fc43;_0x528c2f?this['jobQueue']=this[_0x9823cb(0x2ae)][_0x9823cb(0x81c)](_0x2d361d=>_0x2d361d[_0x9823cb(0x8b3)]!==_0x528c2f):(this[_0x9823cb(0x2ae)]=[],this['isRunning']=!0x1);}[_0x29fc43(0x5ec)](_0x14637b,_0x33babf){const _0x29a51a=_0x29fc43;this[_0x29a51a(0x2ae)]['push']({'callback':_0x33babf,'ownerId':_0x14637b}),this[_0x29a51a(0x2cd)]();}async[_0x29fc43(0x2cd)](){const _0x1383c7=_0x29fc43;if(!this[_0x1383c7(0x17f)]){for(this['isRunning']=!0x0;this[_0x1383c7(0x2ae)]['length']>0x0;){const _0x102525=this['jobQueue'][_0x1383c7(0x3e5)]();if(_0x102525)try{console[_0x1383c7(0xad6)]('JobQueueService:\x20Running\x20job'),await _0x102525[_0x1383c7(0x7d9)](),console['warn'](_0x1383c7(0x7de));}catch(_0x35216d){console[_0x1383c7(0x3c9)](_0x1383c7(0x67e),_0x35216d);}}this[_0x1383c7(0x17f)]=!0x1;}}}const _0x3fa725=_0x4c031e['getInstance']();class _0x5f2afa extends _0x2b6b11{[_0x29fc43(0x923)];[_0x29fc43(0x951)];constructor(_0x9247fd,_0x2bf729,_0x2fb8b9){super(_0x9247fd,_0x2bf729),this['capacityReporter']=_0x2fb8b9;}[_0x29fc43(0x5f5)](){const _0x44b3af=_0x29fc43;return _0x47b47a[_0x44b3af(0x43d)]['Job'];}[_0x29fc43(0x98b)](){const _0x417701=_0x29fc43;this[_0x417701(0x339)]();}[_0x29fc43(0xb1b)](){const _0x11e7dd=_0x29fc43;this[_0x11e7dd(0x3aa)]?.[_0x11e7dd(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x11e7dd(0x9aa)],'content':{'type':_0x49b388[_0x11e7dd(0x7b9)],'label':this[_0x11e7dd(0x12a)]}});}['reset'](){const _0x283219=_0x29fc43;this['unsubscribeListener']?.(),delete this['unsubscribeListener'],this[_0x283219(0x98b)]();}[_0x29fc43(0x13b)](){const _0x14e1ef=_0x29fc43;_0x3fa725[_0x14e1ef(0x985)](this[_0x14e1ef(0x12a)]),this['unsubscribeListener']?.(),delete this[_0x14e1ef(0x951)],super['destroy']();}[_0x29fc43(0x5d9)](){const _0x5b2564=_0x29fc43;return _0x3fa725[_0x5b2564(0x5d9)]();}['getBid'](){return 0x1;}[_0x29fc43(0x15f)](_0x266713,_0x18c1be,_0x59f381){}[_0x29fc43(0x894)](_0x5c2d86,_0x4e13c0){return _0x5c2d86;}async[_0x29fc43(0x79d)](_0x18b8e6,_0x31386e){const _0x1470f9=_0x29fc43;console[_0x1470f9(0xad6)](_0x1470f9(0x691));}async[_0x29fc43(0x855)](_0x56d7e9,_0x3bb666){const _0x28fcd1=_0x29fc43;console[_0x28fcd1(0xad6)]('JobWorker:\x20Tracing\x20not\x20implemented');}['subscribeToJobs'](){const _0x15e5e8=_0x29fc43;this[_0x15e5e8(0x951)]||(this['unsubscribeListener']=this[_0x15e5e8(0x6b5)](async(_0x449b47,_0x297046)=>{const _0x2de1c2=_0x15e5e8;if(_0xb63eee[_0x2de1c2(0x195)](_0x30994c[_0x2de1c2(0x3bb)],_0x2de1c2(0xae2),_0x297046),!(_0x297046 instanceof File)){if(this[_0x2de1c2(0x5f1)](_0x297046))_0xb63eee[_0x2de1c2(0x195)](_0x30994c['Jobs'],'JobWorker:\x20Received\x20job\x20request',_0x297046),this[_0x2de1c2(0x5d9)]()?this[_0x2de1c2(0x563)](_0x297046['id'],_0x297046[_0x2de1c2(0xa02)],_0x449b47):this[_0x2de1c2(0x64f)](_0x297046['id'],_0x297046[_0x2de1c2(0xa02)],_0x449b47);else{if(this[_0x2de1c2(0x2c3)](_0x297046)){_0xb63eee['log'](_0x30994c['Jobs'],_0x2de1c2(0x1f6),_0x297046);const {id:_0x54354c,parameters:_0x1e4ca7}=_0x297046;await this['startTracing'](_0x54354c,_0x1e4ca7),this['handleJobAttribution'](_0x297046['id'],_0x297046,_0x449b47);}}}}));}['sendBid'](_0x4a3f52,_0x3c5907,_0x2f5503){const _0xcdbc62=_0x29fc43,_0x1afa76={'id':_0x4a3f52,'jobType':_0x3c5907,'jobPhase':_0x3eab7d[_0xcdbc62(0x2fa)],'available':!0x0,'queueLength':_0x3fa725[_0xcdbc62(0x4c5)],'bid':this[_0xcdbc62(0x131)]()};_0xb63eee[_0xcdbc62(0x195)](_0x30994c[_0xcdbc62(0x3bb)],_0xcdbc62(0x999),_0x1afa76),this[_0xcdbc62(0xae4)](_0x1afa76,[_0x2f5503]);}[_0x29fc43(0x64f)](_0x212a6a,_0x2ad2db,_0x21775c){const _0x3bc9be=_0x29fc43,_0x38596e={'id':_0x212a6a,'jobType':_0x2ad2db,'jobPhase':_0x3eab7d[_0x3bc9be(0x2fa)],'available':!0x1,'queueLength':_0x3fa725[_0x3bc9be(0x4c5)],'bid':0x0};_0xb63eee['log'](_0x30994c['Jobs'],_0x3bc9be(0x5e2),_0x38596e),this['send'](_0x38596e,[_0x21775c]);}async[_0x29fc43(0x4eb)](_0x3412d1,_0x3809da,_0x17eead){const _0x16c99f=_0x29fc43;_0xb63eee[_0x16c99f(0x195)](_0x30994c[_0x16c99f(0x3bb)],_0x16c99f(0xafc),_0x3809da);const _0x2cc68a={'id':_0x3412d1,'jobType':_0x3809da[_0x16c99f(0xa02)],'parameters':_0x3809da['parameters']};try{switch(_0x3809da[_0x16c99f(0xa02)]){case _0x47b47a[_0x16c99f(0x719)][_0x16c99f(0x53a)]:await this['processJob'](_0x3412d1,_0x3809da,_0x2cc68a,_0x17eead);break;case _0x47b47a[_0x16c99f(0x719)][_0x16c99f(0x1fc)]:await this[_0x16c99f(0x718)](_0x3412d1,_0x3809da,_0x2cc68a,_0x17eead);break;default:throw new Error(_0x16c99f(0x998));}}catch(_0x39138e){_0xb63eee['error'](_0x16c99f(0x4e2),{'nodeId':this[_0x16c99f(0xab7)][_0x16c99f(0x994)](),'nodeType':this[_0x16c99f(0xab7)][_0x16c99f(0xacf)],'data':{'job':_0x2cc68a}},_0x39138e);const _0x20516b=_0x39138e instanceof Error?_0x39138e['message']:_0x16c99f(0x257),_0xb0aee0={'id':_0x3412d1,'jobType':_0x3809da[_0x16c99f(0xa02)],'jobPhase':_0x3eab7d[_0x16c99f(0x493)],'message':_0x20516b};await this['send'](_0xb0aee0,[_0x17eead]);}}async[_0x29fc43(0xa20)](_0x1411bc,_0x2b8695,_0xd4a93a,_0x55dfeb){const _0x597546=_0x29fc43,_0x442794=Date[_0x597546(0x653)](),_0x57147e=await this[_0x597546(0x18d)](_0x1411bc,_0xd4a93a[_0x597546(0x28b)]);this[_0x597546(0x15f)](_0x57147e,_0x442794,Date[_0x597546(0x653)]());const _0x2edaee={'id':_0x1411bc,'jobType':_0x2b8695['jobType'],'jobPhase':_0x3eab7d['Result'],'result':_0x57147e};_0xb63eee[_0x597546(0x195)](_0x30994c[_0x597546(0x3bb)],_0x597546(0x7e5),_0x2edaee),await this[_0x597546(0xae4)](_0x2edaee,[_0x55dfeb]),await this['stopTracing'](_0x1411bc,_0xd4a93a[_0x597546(0x28b)]);}async[_0x29fc43(0x718)](_0x4b40bc,_0x223178,_0x3574c9,_0xb54e02){const _0x55eebd=_0x29fc43,_0x142224=Date[_0x55eebd(0x653)]();let _0x59e95d=0x0,_0x2250b0={};for await(const _0x4d24c5 of this['internalProcessJobStream'](_0x3574c9['id'],_0x3574c9[_0x55eebd(0x28b)])){const _0x26a24c={'id':_0x4b40bc,'jobType':_0x223178[_0x55eebd(0xa02)],'jobPhase':_0x3eab7d[_0x55eebd(0x1d8)],'result':{..._0x4d24c5,'index':_0x59e95d}};_0xb63eee[_0x55eebd(0x195)](_0x30994c[_0x55eebd(0x3bb)],_0x55eebd(0x13a),_0x26a24c),this[_0x55eebd(0xae4)](_0x26a24c,[_0xb54e02]),_0x2250b0=this['accumulateResult'](_0x2250b0,_0x4d24c5),_0x59e95d++;}this[_0x55eebd(0x15f)](_0x2250b0,_0x142224,Date[_0x55eebd(0x653)]());const _0x5294a8={'id':_0x4b40bc,'jobType':_0x223178[_0x55eebd(0xa02)],'jobPhase':_0x3eab7d[_0x55eebd(0x36b)],'result':{..._0x2250b0,'index':_0x59e95d}};_0xb63eee['log'](_0x30994c[_0x55eebd(0x3bb)],_0x55eebd(0x7e5),_0x5294a8),await this[_0x55eebd(0xae4)](_0x5294a8,[_0xb54e02]),await this['stopTracing'](_0x4b40bc,_0x3574c9['parameters']);}[_0x29fc43(0x5f1)](_0x578901){const _0x2e61c6=_0x29fc43;return _0x578901[_0x2e61c6(0x8fb)]===_0x3eab7d[_0x2e61c6(0x7dc)];}['isJobAttribution'](_0xb24a8f){const _0x4eb1d2=_0x29fc43;return _0xb24a8f['jobPhase']===_0x3eab7d[_0x4eb1d2(0xaaa)];}}const _0x49f8a6=new Map([[_0x29fc43(0x997),{'id':_0x29fc43(0x997),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0x29fc43(0x685)}],[_0x29fc43(0x685),{'id':_0x29fc43(0x685),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x29fc43(0x685)}],[_0x29fc43(0x14d),{'id':_0x29fc43(0x14d),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':_0x29fc43(0x6ae)}],[_0x29fc43(0x3a0),{'id':_0x29fc43(0x3a0),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x29fc43(0x6ae)}],[_0x29fc43(0x6ae),{'id':_0x29fc43(0x6ae),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x29fc43(0x6ae)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':'gpt-4.1-nano'}],['o3-mini',{'id':_0x29fc43(0x789),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x29fc43(0x6ae)}],[_0x29fc43(0x8a5),{'id':_0x29fc43(0x8a5),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x29fc43(0xa3a)}],['claude-3-5-haiku-latest',{'id':'claude-3-5-haiku-latest','inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x29fc43(0xa3a)}],[_0x29fc43(0x804),{'id':_0x29fc43(0x804),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':'claude-3-haiku-20240307'}],[_0x29fc43(0xa3a),{'id':_0x29fc43(0xa3a),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0x29fc43(0xa3a)}],[_0x29fc43(0x237),{'id':'claude-3-opus-latest','inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x29fc43(0xa3a)}],[_0x29fc43(0x82d),{'id':'sonar','inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':'sonar'}],['sonar-pro',{'id':_0x29fc43(0x3f8),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':'sonar'}],[_0x29fc43(0x661),{'id':_0x29fc43(0x661),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x29fc43(0x82d)}],[_0x29fc43(0xb1a),{'id':_0x29fc43(0xb1a),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x29fc43(0x82d)}],[_0x29fc43(0x765),{'id':_0x29fc43(0x765),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x29fc43(0x82d)}]]),_0x50ba58=new Map([['all-minilm-l12-v2',{'id':_0x29fc43(0x7ad),'engineType':_0x47b47a['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x43f)],'inputType':_0x47b47a['GenerativeAIModelInputType'][_0x29fc43(0x841)],'outputType':_0x47b47a['GenerativeAIModelOutputType']['Vector'],'sourceUrl':'https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf'}],['text-embedding-3-small',{'id':_0x29fc43(0x532),'engineType':_0x47b47a['GenerativeAIEngineType']['OpenAI'],'taskType':_0x47b47a['GenerativeAITaskType']['Embeddings'],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a['GenerativeAIModelOutputType'][_0x29fc43(0x178)],'sourceUrl':''}],[_0x29fc43(0xaa8),{'id':_0x29fc43(0xaa8),'engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x218)],'taskType':_0x47b47a['GenerativeAITaskType'][_0x29fc43(0x43f)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x178)],'sourceUrl':''}],[_0x29fc43(0xab8),{'id':'llama-3.1-8b','engineType':_0x47b47a[_0x29fc43(0x5b2)]['Llamacpp'],'taskType':_0x47b47a['GenerativeAITaskType'][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'sourceUrl':'https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf'}],['llama-3.2-3b',{'id':'llama-3.2-3b','engineType':_0x47b47a['GenerativeAIEngineType'][_0x29fc43(0x8c6)],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)]['Text'],'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}],[_0x29fc43(0x927),{'id':_0x29fc43(0x927),'engineType':_0x47b47a['GenerativeAIEngineType'][_0x29fc43(0x8c6)],'taskType':_0x47b47a['GenerativeAITaskType'][_0x29fc43(0x60d)],'inputType':_0x47b47a['GenerativeAIModelInputType'][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'sourceUrl':_0x29fc43(0x583)}],[_0x29fc43(0x997),{'id':'gpt-4o','engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x218)],'taskType':_0x47b47a[_0x29fc43(0x4b9)]['TextGeneration'],'inputType':_0x47b47a[_0x29fc43(0x119)]['Text'],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'knowledgeCutoffDate':_0x29fc43(0x519),'sourceUrl':''}],[_0x29fc43(0x685),{'id':'gpt-4o-mini','engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x218)],'taskType':_0x47b47a['GenerativeAITaskType'][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)]['Text'],'outputType':_0x47b47a[_0x29fc43(0x398)]['Text'],'knowledgeCutoffDate':_0x29fc43(0x519),'sourceUrl':''}],[_0x29fc43(0x14d),{'id':_0x29fc43(0x14d),'engineType':_0x47b47a[_0x29fc43(0x5b2)]['OpenAI'],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'knowledgeCutoffDate':_0x29fc43(0x1dc),'sourceUrl':''}],['gpt-4.1-mini',{'id':_0x29fc43(0x3a0),'engineType':_0x47b47a['GenerativeAIEngineType'][_0x29fc43(0x218)],'taskType':_0x47b47a[_0x29fc43(0x4b9)]['TextGeneration'],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a['GenerativeAIModelOutputType'][_0x29fc43(0x841)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],[_0x29fc43(0x6ae),{'id':'gpt-4.1-nano','engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x218)],'taskType':_0x47b47a['GenerativeAITaskType'][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':_0x29fc43(0x1dc),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x218)],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x60d)],'inputType':_0x47b47a['GenerativeAIModelInputType'][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'knowledgeCutoffDate':_0x29fc43(0x519),'sourceUrl':''}],['o3-mini',{'id':_0x29fc43(0x789),'engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x218)],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'knowledgeCutoffDate':_0x29fc43(0x519),'sourceUrl':''}],[_0x29fc43(0x8a5),{'id':'claude-3-7-sonnet-latest','engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x9cb)],'taskType':_0x47b47a['GenerativeAITaskType']['TextGeneration'],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':_0x29fc43(0x513),'sourceUrl':''}],[_0x29fc43(0x9f6),{'id':'claude-3-5-haiku-latest','engineType':_0x47b47a['GenerativeAIEngineType'][_0x29fc43(0x9cb)],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'knowledgeCutoffDate':_0x29fc43(0x2c8),'sourceUrl':''}],[_0x29fc43(0x804),{'id':_0x29fc43(0x804),'engineType':_0x47b47a['GenerativeAIEngineType']['Anthropic'],'taskType':_0x47b47a[_0x29fc43(0x4b9)]['TextGeneration'],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)]['Text'],'knowledgeCutoffDate':_0x29fc43(0x672),'sourceUrl':''}],[_0x29fc43(0xa3a),{'id':'claude-3-haiku-20240307','engineType':_0x47b47a[_0x29fc43(0x5b2)][_0x29fc43(0x9cb)],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x60d)],'inputType':_0x47b47a['GenerativeAIModelInputType'][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)][_0x29fc43(0x841)],'knowledgeCutoffDate':_0x29fc43(0x241),'sourceUrl':''}],['claude-3-opus-latest',{'id':'claude-3-opus-latest','engineType':_0x47b47a[_0x29fc43(0x5b2)]['Anthropic'],'taskType':_0x47b47a[_0x29fc43(0x4b9)][_0x29fc43(0x60d)],'inputType':_0x47b47a[_0x29fc43(0x119)][_0x29fc43(0x841)],'outputType':_0x47b47a[_0x29fc43(0x398)]['Text'],'knowledgeCutoffDate':_0x29fc43(0x241),'sourceUrl':''}]]),_0x17158e=require('rxjs/operators');class _0x486888{[_0x29fc43(0x8f0)];constructor(){const _0xddaf34=_0x29fc43;this[_0xddaf34(0x8f0)]=new _0x194bdb[(_0xddaf34(0x663))]();}['emit'](_0x2a18ff){const _0x2103db=_0x29fc43;this['subject'][_0x2103db(0x609)](_0x2a18ff);}async[_0x29fc43(0x18a)](){const _0x40a8ad=_0x29fc43;return(0x0,_0x194bdb[_0x40a8ad(0x2b6)])(this[_0x40a8ad(0x8f0)]['pipe']((0x0,_0x17158e[_0x40a8ad(0xa8e)])(0x1)));}}function _0x2a6570(_0x5140a5){const _0x24b695=_0x29fc43;try{return JSON['stringify'](_0x5140a5);}catch(_0x54af13){return _0x5140a5 instanceof Error?_0x5140a5[_0x24b695(0x570)]():JSON[_0x24b695(0x9a0)](_0x24b695(0x7e0));}}class _0x430e04{static ['instance'];[_0x29fc43(0x1ba)]=_0xbaa178[_0x29fc43(0x77d)];['commitLevel']=_0xbaa178[_0x29fc43(0x856)];[_0x29fc43(0x5c0)]=_0x4e3472['Retrieve'];[_0x29fc43(0x149)]={};static [_0x29fc43(0x4f3)]=()=>(_0x430e04[_0x29fc43(0x6c3)]||(_0x430e04[_0x29fc43(0x6c3)]=new _0x430e04()),_0x430e04[_0x29fc43(0x6c3)]);async['openTrace'](_0x5c8aee,_0x416ef6,_0x1bd6cf,_0x451904){const _0x2932a1=_0x29fc43;try{if(this[_0x2932a1(0x149)][_0x416ef6])return!0x0;const _0x528f12={'vendorId':_0x5c8aee,'workflowId':_0x1bd6cf,'sequence':0x0};if(this[_0x2932a1(0x149)][_0x416ef6]=_0x528f12,!_0x451904||!_0x1bd6cf)return!0x0;const _0x362cb5=(0x0,_0x4a79c7[_0x2932a1(0x463)])(_0x9824f6[_0x2932a1(0xb00)](),_0x2932a1(0xa81)+_0x5c8aee+'/workflows/'+_0x1bd6cf+_0x2932a1(0x6df),_0x416ef6);return(await(0x0,_0x4a79c7[_0x2932a1(0x79a)])(_0x362cb5))[_0x2932a1(0x8a4)]()||await(0x0,_0x4a79c7['setDoc'])(_0x362cb5,{'threadId':_0x451904,'startTime':(0x0,_0x4a79c7[_0x2932a1(0x51a)])()}),!0x0;}catch(_0x523331){return console[_0x2932a1(0x3c9)](_0x2932a1(0x4f8),_0x523331),!0x1;}}async['logUsage'](_0x375fab,_0xcf7c87,_0x3dea66,_0x2949bc){const _0x244d4d=_0x29fc43;try{if(!this[_0x244d4d(0x149)][_0x375fab])throw new Error(_0x244d4d(0x6a4));const _0x6fc3fb=new Date(),_0x258896=_0x6fc3fb[_0x244d4d(0x1b9)]()+'-'+_0x6fc3fb[_0x244d4d(0x9bb)]()+'-'+_0x6fc3fb[_0x244d4d(0xa5c)](),_0x3c0143=new Date(_0x6fc3fb[_0x244d4d(0x1b9)](),_0x6fc3fb[_0x244d4d(0x9bb)](),_0x6fc3fb['getDate']()),_0x3700c4=this[_0x244d4d(0x149)][_0x375fab][_0x244d4d(0x117)],_0x33aaa7=_0xcf7c87+'-'+_0x258896,_0x587ef1=_0x49f8a6[_0x244d4d(0x2a2)](_0xcf7c87);if(!_0x587ef1)return void console[_0x244d4d(0x3c9)]('GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found',_0xcf7c87);let _0x5ead0d=Math[_0x244d4d(0x687)](_0x587ef1[_0x244d4d(0x11b)]*_0x3dea66/0xf4240*0x64);_0x5ead0d<=0x0&&(_0x5ead0d=0x1);let _0x10c81d=Math['ceil'](_0x587ef1[_0x244d4d(0x3b7)]*_0x2949bc/0xf4240*0x64);_0x10c81d<=0x0&&(_0x10c81d=0x1);const _0x46bbb4=(0x0,_0x4a79c7[_0x244d4d(0x463)])(_0x9824f6['getFirestore'](),_0x244d4d(0xa81)+_0x3700c4+'/usages',_0x33aaa7);await(0x0,_0x4a79c7[_0x244d4d(0x72b)])(_0x46bbb4,{'modelId':_0xcf7c87,'date':_0x3c0143,'inputTokens':(0x0,_0x4a79c7[_0x244d4d(0xaeb)])(_0x3dea66),'outputTokens':(0x0,_0x4a79c7[_0x244d4d(0xaeb)])(_0x2949bc),'inputCredits':(0x0,_0x4a79c7[_0x244d4d(0xaeb)])(_0x5ead0d),'outputCredits':(0x0,_0x4a79c7[_0x244d4d(0xaeb)])(_0x10c81d),'totalCredits':(0x0,_0x4a79c7[_0x244d4d(0xaeb)])(_0x5ead0d+_0x10c81d)},{'merge':!0x0});}catch(_0x36b61){console[_0x244d4d(0x3c9)](_0x244d4d(0x694),_0x36b61);}}async['trace'](_0x4eb4d1){const _0x1f3b32=_0x29fc43;try{const _0x3102b6=this[_0x1f3b32(0x149)][_0x4eb4d1[_0x1f3b32(0x9a8)]];if(!_0x3102b6)throw new Error(_0x1f3b32(0x9b8));_0x4eb4d1[_0x1f3b32(0x5ee)]=_0x3102b6[_0x1f3b32(0x5ee)]++,_0x4eb4d1['traceLevel']>=this['logLevel']&&console[_0x1f3b32(0x195)](JSON['stringify'](_0x4eb4d1,null,0x2)),await this['commitTrace'](_0x4eb4d1);}catch(_0x54c842){console[_0x1f3b32(0x3c9)](_0x1f3b32(0xae0),_0x54c842);}}async[_0x29fc43(0x742)](_0x5845d4,_0x349efa){const _0x2ebc4d=_0x29fc43;if(!_0x430e04[_0x2ebc4d(0x6c3)])throw new Error(_0x2ebc4d(0xaff));if(!this[_0x2ebc4d(0x149)][_0x5845d4])throw new Error(_0x2ebc4d(0x6a4));if(_0x349efa&&this[_0x2ebc4d(0x149)][_0x5845d4]['workflowId'])try{await(0x0,_0x4a79c7[_0x2ebc4d(0x72b)])((0x0,_0x4a79c7['doc'])(_0x9824f6['getFirestore'](),_0x2ebc4d(0xa81)+this[_0x2ebc4d(0x149)][_0x5845d4][_0x2ebc4d(0x117)]+_0x2ebc4d(0x805)+this[_0x2ebc4d(0x149)][_0x5845d4]['workflowId']+_0x2ebc4d(0x6df),_0x5845d4),{'endTime':(0x0,_0x4a79c7[_0x2ebc4d(0x51a)])()},{'merge':!0x0}),this[_0x2ebc4d(0x8ee)](_0x5845d4);}catch(_0xc962db){console['error'](_0x2ebc4d(0x6b9),_0xc962db);}else this[_0x2ebc4d(0x8ee)](_0x5845d4);}[_0x29fc43(0x8ee)](_0x287edb){setTimeout(()=>{const _0x321fe4=a0_0x424d;delete this[_0x321fe4(0x149)][_0x287edb];},0x1b7740);}async[_0x29fc43(0x819)](_0x4a72d4){const _0x2aa43f=_0x29fc43;if(_0x4a72d4[_0x2aa43f(0x81a)]<this[_0x2aa43f(0x31c)]&&_0x4a72d4[_0x2aa43f(0xa02)]!==this[_0x2aa43f(0x5c0)])return;if(!this[_0x2aa43f(0x149)][_0x4a72d4[_0x2aa43f(0x9a8)]])throw new Error(_0x2aa43f(0x24e));const _0x4e2f60=this['openedTraces'][_0x4a72d4[_0x2aa43f(0x9a8)]];try{const _0x36992c=function(_0x5cbf5d){const _0x144e90=_0x2aa43f,_0x22e1db=[_0x144e90(0x97a),_0x144e90(0x50b),'jobType',_0x144e90(0xacf),_0x144e90(0x9a8),'traceLevel',_0x144e90(0x452),_0x144e90(0x883),_0x144e90(0x5ee),_0x144e90(0x666)],_0x395880={..._0x5cbf5d};for(const _0x4e720d of _0x22e1db)delete _0x395880[_0x4e720d];return{'timestamp':_0x5cbf5d['timestamp'],'jobType':_0x5cbf5d[_0x144e90(0xa02)],'type':_0x5cbf5d[_0x144e90(0xacf)],'jobId':_0x5cbf5d[_0x144e90(0x9a8)],'agentId':_0x5cbf5d[_0x144e90(0x5bf)]??'','traceLevel':_0x5cbf5d['traceLevel'],'blockId':_0x5cbf5d[_0x144e90(0x452)]??'','startTime':_0x5cbf5d[_0x144e90(0x97a)],'status':_0x5cbf5d[_0x144e90(0x883)],'sequence':_0x5cbf5d[_0x144e90(0x5ee)]??0x0,'errorDetails':_0x5cbf5d['errorDetails']??'','metadata':_0x2a6570(_0x395880)};}(_0x4a72d4),_0x5e0beb=(0x0,_0x3adee5['v4'])();console[_0x2aa43f(0x195)]('Logging\x20trace',_0x36992c[_0x2aa43f(0xacf)]),await(0x0,_0x4a79c7['setDoc'])((0x0,_0x4a79c7[_0x2aa43f(0x463)])(_0x9824f6[_0x2aa43f(0xb00)](),_0x2aa43f(0xa81)+_0x4e2f60[_0x2aa43f(0x117)]+'/workflows/'+_0x4e2f60['workflowId']+'/jobs/'+_0x4a72d4[_0x2aa43f(0x9a8)]+'/traces',_0x5e0beb),_0x36992c),_0x4a72d4[_0x2aa43f(0xacf)]===_0xcf78d4[_0x2aa43f(0x5fc)]&&await(0x0,_0x4a79c7[_0x2aa43f(0x72b)])((0x0,_0x4a79c7[_0x2aa43f(0x463)])(_0x9824f6[_0x2aa43f(0xb00)](),'developers/'+_0x4e2f60['vendorId']+_0x2aa43f(0x805)+_0x4e2f60[_0x2aa43f(0x8f9)]+_0x2aa43f(0x6df),_0x4a72d4[_0x2aa43f(0x9a8)]),{'rating':_0x4a72d4[_0x2aa43f(0x373)]},{'merge':!0x0});}catch(_0xb04dc){console[_0x2aa43f(0x3c9)](_0x2aa43f(0x8c7),_0xb04dc);}}}const _0x987f7f=_0x430e04[_0x29fc43(0x4f3)]();async function _0x139fcb(_0x91d4f6,_0x312f88,_0x1accf9,_0x37fff9,_0x1472a0,_0xc518db,_0x3542e2,_0x321035){const _0x234cb7=function(_0x5220f2,_0x46a835){const _0x21daec=a0_0x424d,_0x494984=[];for(let _0x2b91b0=0x0;_0x2b91b0<_0x5220f2['length'];_0x2b91b0+=_0x46a835[_0x21daec(0x946)]['size']){let _0x227d59=_0x2b91b0-_0x46a835[_0x21daec(0x946)][_0x21daec(0x181)];_0x227d59<0x0&&(_0x227d59=0x0);let _0x53067c=_0x2b91b0+_0x46a835[_0x21daec(0x946)]['size']+_0x46a835[_0x21daec(0x946)][_0x21daec(0x181)];_0x53067c>_0x5220f2[_0x21daec(0x4c5)]&&(_0x53067c=_0x5220f2[_0x21daec(0x4c5)]),length||(length=_0x2b91b0+_0x46a835[_0x21daec(0x946)]['size'],length>_0x5220f2[_0x21daec(0x4c5)]&&(length=_0x5220f2[_0x21daec(0x4c5)])),_0x494984[_0x21daec(0x9f9)](_0x5220f2[_0x21daec(0x3b4)](_0x227d59,_0x53067c));}return _0x494984;}(_0x312f88,_0x1472a0);await _0x367e48(_0x91d4f6,_0x234cb7,_0x1accf9,_0x37fff9,_0x1472a0,_0xc518db,_0x3542e2,_0x321035);}async function _0x1523ec(_0x1f7daa,_0x11a032,_0x4a754c,_0x264705,_0x4c6608,_0x528e86,_0x1d6830,_0x2f4d71){const _0xe5d195=_0x29fc43;if(_0x4c6608[_0xe5d195(0x7b8)]||(_0x4c6608['accumulated']={}),_0x4c6608[_0xe5d195(0x7b8)]['queries']||(_0x4c6608[_0xe5d195(0x7b8)][_0xe5d195(0x353)]=[]),_0x11a032 instanceof Array?_0x4c6608[_0xe5d195(0x7b8)][_0xe5d195(0x353)][_0xe5d195(0x9f9)](..._0x11a032):_0x4c6608[_0xe5d195(0x7b8)]['queries']['push'](_0x11a032),_0x4c6608[_0xe5d195(0x338)]=_0x4c6608[_0xe5d195(0x338)]?_0x4c6608[_0xe5d195(0x338)]+0x1:0x1,_0x363a7b(_0x4c6608,_0x528e86)>_0x4c6608[_0xe5d195(0x338)])return;if(0x0===_0x4c6608['accumulated'][_0xe5d195(0x353)][_0xe5d195(0x4c5)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0xb96114=[];const _0x15c6b0=Date[_0xe5d195(0x653)]();try{let _0x1a4bf7=0x0,_0x361b8e=0x0;for(const _0x2de83c of _0x4c6608[_0xe5d195(0x7b8)]['queries']){const _0x237e10=await fetch(_0x3dbf37['apiUrl']+_0xe5d195(0x86a)+_0x4c6608['id']+_0xe5d195(0x96d),{'method':_0xe5d195(0x2a5),'headers':{'Content-Type':'application/json','x-vendor-id':_0x4a754c[_0xe5d195(0x117)]},'body':JSON[_0xe5d195(0x9a0)]({'query':_0x2de83c})}),_0x5ce1e7=((await _0x237e10['json']())['data']??[])[_0xe5d195(0x170)](_0x43b124=>({'pathName':_0x43b124[_0xe5d195(0x528)],'relevance':_0x43b124[_0xe5d195(0x9bd)],'content':_0x43b124['content'][_0xe5d195(0x637)]}));_0xb96114=Array[_0xe5d195(0x8f7)](new Set([..._0xb96114,..._0x5ce1e7])),_0x1a4bf7+=_0x5ce1e7[_0xe5d195(0x778)]??0x0,_0x361b8e+=_0x5ce1e7[_0xe5d195(0x19d)]??0x0;}_0x264705['inputTokens']+=_0x1a4bf7,_0x264705[_0xe5d195(0x19d)]+=_0x361b8e,_0x264705['context']=Array[_0xe5d195(0x8f7)](new Set([..._0x264705['context'],..._0xb96114])),await _0x987f7f['trace']({'jobType':_0x4e3472['Workflow'],'type':_0x5c373e[_0xe5d195(0x94b)],'jobId':_0x1f7daa,'threadId':_0x4a754c['threadId'],'traceLevel':_0xbaa178[_0xe5d195(0x856)],'startTime':_0x15c6b0,'timestamp':Date[_0xe5d195(0x653)](),'blockId':_0x4c6608['id'],'status':'success','queries':_0x4c6608[_0xe5d195(0x7b8)][_0xe5d195(0x353)],'context':_0xb96114,'inputTokens':_0x1a4bf7,'outputTokens':_0x361b8e});}catch(_0x23a627){console[_0xe5d195(0x3c9)](_0x23a627),await _0x987f7f[_0xe5d195(0x6ab)]({'jobType':_0x4e3472[_0xe5d195(0x442)],'type':_0x5c373e['DataCollection'],'jobId':_0x1f7daa,'threadId':_0x4a754c[_0xe5d195(0x1ca)],'traceLevel':_0xbaa178[_0xe5d195(0x856)],'startTime':_0x15c6b0,'timestamp':Date[_0xe5d195(0x653)](),'blockId':_0x4c6608['id'],'status':'error','queries':_0x4c6608[_0xe5d195(0x7b8)][_0xe5d195(0x353)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x367e48(_0x1f7daa,'',_0x4a754c,_0x264705,_0x4c6608,_0x528e86,_0x1d6830,_0x2f4d71);}async function _0x2163ce(_0x38be8d,_0x4a89f9,_0x5a11ae,_0x1cf220,_0x64f88f,_0x22d7cc,_0x4063af,_0x31181d){const _0x3addee=_0x29fc43,_0x31983a=await _0x4063af[_0x3addee(0x4dc)]['getSentences'](_0x4a89f9);await _0x367e48(_0x38be8d,_0x31983a,_0x5a11ae,_0x1cf220,_0x64f88f,_0x22d7cc,_0x4063af,_0x31181d);}async function _0x577432(_0x514ada,_0xfdf814,_0x599a67,_0x5a6fd0,_0x49faec,_0x2a4f7b,_0x544c03,_0x5ac598){const _0x1a0ca8=function(_0x4b452d,_0x5a665f){const _0x58b1a4=a0_0x424d,_0x11e767=[],_0x45478e=_0x4b452d[_0x58b1a4(0x388)]('\x20');let _0x18a903='',_0x18df88=0x0,_0x374dd5=0x0,_0x2d7c38=0x0;for(const _0x22ee9c of _0x45478e){if(_0x18a903[_0x58b1a4(0x4c5)]+_0x22ee9c[_0x58b1a4(0x4c5)]>_0x5a665f[_0x58b1a4(0x946)]['size']){let _0x23ee1f=_0x18df88,_0x3db350='';for(;_0x23ee1f>=0x0&&_0x3db350['length']+_0x45478e[_0x23ee1f][_0x58b1a4(0x4c5)]<_0x5a665f[_0x58b1a4(0x946)][_0x58b1a4(0x181)];)_0x3db350=_0x45478e[_0x23ee1f]+'\x20'+_0x3db350,_0x23ee1f--;let _0x39ecff=_0x374dd5,_0x2678d1='';for(;_0x39ecff<_0x45478e[_0x58b1a4(0x4c5)]&&_0x2678d1[_0x58b1a4(0x4c5)]+_0x45478e[_0x39ecff][_0x58b1a4(0x4c5)]<_0x5a665f[_0x58b1a4(0x946)][_0x58b1a4(0x181)];)_0x2678d1+=_0x45478e[_0x39ecff]+'\x20',_0x39ecff++;_0x18a903=_0x3db350+_0x18a903+_0x2678d1,_0x11e767[_0x58b1a4(0x9f9)](_0x18a903[_0x58b1a4(0x97d)]()),_0x18a903='',_0x18df88=_0x374dd5;}_0x18a903+=_0x22ee9c+'\x20',_0x374dd5++,_0x2d7c38+=_0x22ee9c[_0x58b1a4(0x4c5)]+0x1;}if(_0x18a903[_0x58b1a4(0x4c5)]>0x0){let _0x233438=_0x18df88,_0x1b6d7f='';for(;_0x233438>=0x0&&_0x1b6d7f[_0x58b1a4(0x4c5)]+_0x45478e[_0x233438]['length']<_0x5a665f[_0x58b1a4(0x946)][_0x58b1a4(0x181)];)_0x1b6d7f=_0x45478e[_0x233438]+'\x20'+_0x1b6d7f,_0x233438--;_0x18a903=_0x1b6d7f+_0x18a903,_0x11e767[_0x58b1a4(0x9f9)](_0x18a903[_0x58b1a4(0x97d)]());}return _0x11e767;}(_0xfdf814,_0x49faec);await _0x367e48(_0x514ada,_0x1a0ca8,_0x599a67,_0x5a6fd0,_0x49faec,_0x2a4f7b,_0x544c03,_0x5ac598);}async function _0x367e48(_0x3f8c13,_0x1beb28,_0x237288,_0x240286,_0x4095b9,_0x5799bf,_0x4efa70,_0x3b9978){const _0x1ea7e6=_0x29fc43;if(await _0x16c57a[_0x1ea7e6(0x73f)](0x1),_0x4095b9[_0x1ea7e6(0x6f0)]){for(const _0x15789d of _0x4095b9['links']){if(_0x15789d[_0x1ea7e6(0xacf)]===_0x5ee5b4[_0x1ea7e6(0x86b)])continue;const _0x1bee2b=_0x5799bf['find'](_0x9fcbf8=>_0x9fcbf8[_0x1ea7e6(0x34c)]===_0x15789d['uid']);if(_0x1bee2b)switch(_0x1bee2b['type']){case _0x284f13[_0x1ea7e6(0x48a)]:_0x15789d['type']!==_0x5ee5b4[_0x1ea7e6(0x841)]&&_0x15789d[_0x1ea7e6(0xacf)]!==_0x5ee5b4['Wait']||'string'!=typeof _0x1beb28||await _0x154d6c(_0x3f8c13,_0x15789d[_0x1ea7e6(0xacf)],_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978),_0x15789d[_0x1ea7e6(0xacf)]===_0x5ee5b4['WaitTrue']&&'true'===_0x1beb28&&await _0x154d6c(_0x3f8c13,_0x15789d['type'],_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978),_0x15789d[_0x1ea7e6(0xacf)]===_0x5ee5b4['WaitFalse']&&_0x1ea7e6(0x25c)===_0x1beb28&&await _0x154d6c(_0x3f8c13,_0x15789d[_0x1ea7e6(0xacf)],_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978);break;case _0x284f13[_0x1ea7e6(0x7f3)]:_0x15789d[_0x1ea7e6(0xacf)]===_0x5ee5b4[_0x1ea7e6(0x841)]&&_0x1ea7e6(0x89c)==typeof _0x1beb28&&await _0x139fcb(_0x3f8c13,_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978);break;case _0x284f13[_0x1ea7e6(0x94b)]:_0x15789d[_0x1ea7e6(0xacf)]===_0x5ee5b4['Text']&&_0x1ea7e6(0x89c)==typeof _0x1beb28&&await _0x1523ec(_0x3f8c13,_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978),_0x15789d[_0x1ea7e6(0xacf)]===_0x5ee5b4[_0x1ea7e6(0x841)]&&_0x1beb28 instanceof Array&&await _0x1523ec(_0x3f8c13,_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978);break;case _0x284f13[_0x1ea7e6(0x766)]:_0x15789d[_0x1ea7e6(0xacf)]===_0x5ee5b4[_0x1ea7e6(0x841)]&&_0x1ea7e6(0x89c)==typeof _0x1beb28&&await _0x2163ce(_0x3f8c13,_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978);break;case _0x284f13[_0x1ea7e6(0x2d7)]:_0x15789d['type']===_0x5ee5b4[_0x1ea7e6(0x841)]&&_0x1ea7e6(0x89c)==typeof _0x1beb28&&await _0x577432(_0x3f8c13,_0x1beb28,_0x237288,_0x240286,_0x1bee2b,_0x5799bf,_0x4efa70,_0x3b9978);}}_0x4095b9[_0x1ea7e6(0xacf)]===_0x284f13[_0x1ea7e6(0x711)]&&_0x3b9978&&_0x3b9978['emit'](void 0x0);}else _0x4095b9[_0x1ea7e6(0xacf)]===_0x284f13[_0x1ea7e6(0x711)]&&_0x3b9978&&_0x3b9978[_0x1ea7e6(0x986)](void 0x0);}function _0x363a7b(_0x3cd34a,_0x9a182){const _0x27534e=_0x29fc43;let _0x265757=0x0;for(const _0x5551b0 of _0x9a182)for(const _0xda955b of _0x5551b0[_0x27534e(0x6f0)]??[])_0xda955b[_0x27534e(0xacf)]!==_0x5ee5b4[_0x27534e(0x86b)]&&_0xda955b[_0x27534e(0xacf)]!==_0x5ee5b4[_0x27534e(0xadb)]&&_0xda955b[_0x27534e(0x34c)]===_0x3cd34a[_0x27534e(0x34c)]&&_0x265757++;return _0x265757;}function _0x54af80(_0x315e0c,_0x56b6a3){const _0x47bdd1=_0x29fc43,_0xe9819b={'type':_0x315e0c[_0x47bdd1(0xacf)],'name':_0x315e0c[_0x47bdd1(0x3dd)]??'','description':_0x315e0c[_0x47bdd1(0x3f9)]??'','parameters':_0x315e0c['parameters']??[],'headers':_0x315e0c[_0x47bdd1(0x830)]??[],'queryParameters':_0x315e0c[_0x47bdd1(0x4fb)]??[],'bodyParameters':_0x315e0c[_0x47bdd1(0x5fd)]??[],'endpointUrl':_0x315e0c[_0x47bdd1(0x504)]??'','endpointMethod':_0x315e0c[_0x47bdd1(0x7d0)]??'','contextInputVariable':_0x315e0c[_0x47bdd1(0x204)]??'','contextOutputVariable':_0x315e0c['contextOutputVariable']??'','modelId':_0x315e0c['modelId']??'','workflowId':_0x315e0c[_0x47bdd1(0x8f9)]??'','async':_0x315e0c[_0x47bdd1(0x537)]??!0x1,'instructions':_0x315e0c[_0x47bdd1(0x9ca)]??'','maxTokens':_0x315e0c[_0x47bdd1(0x42a)]??0x0,'temperature':_0x315e0c['temperature']??0x0,'grammar':_0x315e0c[_0x47bdd1(0x63d)]??_0x47bdd1(0x715),'collectionId':_0x315e0c[_0x47bdd1(0xacf)]===_0x284f13[_0x47bdd1(0x94b)]||_0x315e0c[_0x47bdd1(0xacf)]===_0x284f13[_0x47bdd1(0x3c4)]?_0x315e0c['id']:'','shouldEmit':_0x315e0c[_0x47bdd1(0x6f0)]?.[_0x47bdd1(0x21d)](_0x10415f=>_0x10415f[_0x47bdd1(0xacf)]===_0x5ee5b4[_0x47bdd1(0x841)]&&_0x56b6a3[_0x47bdd1(0x5a5)](_0x365d66=>_0x365d66[_0x47bdd1(0x34c)]===_0x10415f[_0x47bdd1(0x34c)])?.[_0x47bdd1(0xacf)]===_0x284f13['Answer'])??!0x1};if(_0x315e0c['type']===_0x284f13[_0x47bdd1(0x18f)])return[{..._0xe9819b,'type':_0x47b47a[_0x47bdd1(0x7f0)][_0x47bdd1(0x3b1)],'questions':_0x315e0c[_0x47bdd1(0x205)]??[]},{..._0xe9819b,'type':_0x47b47a[_0x47bdd1(0x7f0)][_0x47bdd1(0x4aa)],'questions':_0x315e0c[_0x47bdd1(0x205)]??[]},{..._0xe9819b,'type':_0x47b47a['GenerativeAIInferenceToolType'][_0x47bdd1(0x21a)],'questions':_0x315e0c['questions']??[]}];if(_0x315e0c[_0x47bdd1(0xacf)]===_0x284f13[_0x47bdd1(0x48a)]||_0x315e0c['type']===_0x284f13[_0x47bdd1(0x2d0)]||_0x315e0c[_0x47bdd1(0xacf)]===_0x284f13[_0x47bdd1(0x116)]){const _0x62b251=_0x56b6a3[_0x47bdd1(0x81c)](_0x4bca5c=>_0x4bca5c['links']?.[_0x47bdd1(0x21d)](_0x2f63f1=>_0x2f63f1[_0x47bdd1(0x34c)]===_0x315e0c[_0x47bdd1(0x34c)]&&_0x2f63f1[_0x47bdd1(0xacf)]===_0x5ee5b4['Tool']));if(_0x62b251[_0x47bdd1(0x4c5)]>0x0)return{..._0xe9819b,'tools':_0x62b251['flatMap'](_0x43f516=>_0x54af80(_0x43f516,_0x56b6a3))};}return _0xe9819b;}async function _0x154d6c(_0x2c0db1,_0x3d99cc,_0x2a5b3c,_0x5712e4,_0x298756,_0x22152a,_0x5c3f3d,_0x5a2a4b,_0x25fcb1){const _0x37fe06=_0x29fc43;if(_0x22152a[_0x37fe06(0x7b8)]||(_0x22152a['accumulated']={}),_0x3d99cc===_0x5ee5b4[_0x37fe06(0x841)]&&_0x37fe06(0x89c)==typeof _0x2a5b3c&&(_0x22152a[_0x37fe06(0x7b8)][_0x37fe06(0x7c1)]||(_0x22152a[_0x37fe06(0x7b8)]['prompt']=[]),_0x22152a[_0x37fe06(0x7b8)][_0x37fe06(0x7c1)][_0x37fe06(0x9f9)](_0x2a5b3c)),_0x22152a[_0x37fe06(0x338)]=_0x22152a[_0x37fe06(0x338)]?_0x22152a['timesCalled']+0x1:0x1,_0x363a7b(_0x22152a,_0x5c3f3d)>_0x22152a['timesCalled'])return;if(_0xb63eee[_0x37fe06(0x9b4)](_0x37fe06(0x7e7)+_0x22152a['name'],_0x22152a[_0x37fe06(0x338)]),!_0x22152a['accumulated']['prompt'])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x22152a['name']);const _0x3059e6=_0x5a2a4b[_0x37fe06(0x577)][_0x37fe06(0x5a5)](_0x4cbb3c=>_0x4cbb3c['id']===_0x22152a[_0x37fe06(0x4e8)]);if(!_0x3059e6)throw new Error(_0x37fe06(0x4a2)+_0x22152a[_0x37fe06(0x4e8)]);const _0x1ba918=Date[_0x37fe06(0x653)](),_0x2e8fc0=(0x0,_0x3adee5['v4'])();let _0xe00571='',_0x5ddb19=0x0,_0x46f83f=0x0;const _0x3b2ad5=[],_0x98db66=function(_0x53ef9d,_0x15d1db,_0x4ff632){const _0x33c398=_0x37fe06;if(_0x4ff632[_0x33c398(0x204)]){const _0x51a1a5=_0x4ff632['contextInputVariable'][_0x33c398(0x388)](',');for(const _0x8542d9 of _0x51a1a5)_0x33c398(0x6cf)!==_0x8542d9&&_0x15d1db['internalContext']?.[_0x8542d9]&&(_0x53ef9d='<'+_0x8542d9+'>'+_0x15d1db[_0x33c398(0x3fc)][_0x8542d9]+'</'+_0x8542d9+_0x33c398(0x17d)+_0x53ef9d);}return _0x53ef9d;}(_0x22152a[_0x37fe06(0x7b8)][_0x37fe06(0x7c1)][_0x37fe06(0x98d)]('\x0a\x0a'),_0x298756,_0x22152a);let _0x14897c=_0x98db66;const _0x4a17ad=_0x22152a[_0x37fe06(0x204)]?.[_0x37fe06(0x388)](',');if(_0x298756[_0x37fe06(0x3fc)]?.['files']&&_0x4a17ad?.[_0x37fe06(0x3a7)](_0x37fe06(0x6cf))){const _0xb0dd29=_0x298756[_0x37fe06(0x3fc)][_0x37fe06(0x6cf)][_0x37fe06(0x388)](',');_0x14897c=[];for(const _0xfc37aa of _0xb0dd29)_0x14897c[_0x37fe06(0x9f9)]({'type':_0x37fe06(0x15d),'file':{'file_id':_0xfc37aa}});_0x14897c[_0x37fe06(0x9f9)]({'type':'text','text':_0x98db66});}_0x3b2ad5[_0x37fe06(0x9f9)]({'role':_0x37fe06(0x7db),'content':_0x325b94(_0x5712e4['instructions']??'',_0x22152a,_0x3059e6)}),_0x3b2ad5[_0x37fe06(0x9f9)](..._0x5712e4[_0x37fe06(0x771)]?.[_0x37fe06(0x170)](_0x50035e=>({'role':_0x50035e[_0x37fe06(0xacd)]===_0x47b47a[_0x37fe06(0x46a)][_0x37fe06(0x77c)]?_0x37fe06(0x5ca):_0x37fe06(0x2f4),'content':_0x50035e[_0x37fe06(0x356)]}))??[]),_0x3b2ad5['push']({'role':_0x37fe06(0x5ca),'content':_0x14897c});const _0x4e4bfc=_0x5c3f3d[_0x37fe06(0x81c)](_0x324bf0=>_0x324bf0['links']?.[_0x37fe06(0x21d)](_0x50bac0=>_0x50bac0[_0x37fe06(0x34c)]===_0x22152a['uid']&&_0x50bac0[_0x37fe06(0xacf)]===_0x5ee5b4[_0x37fe06(0xadb)]))['flatMap'](_0x59770=>_0x54af80(_0x59770,_0x5c3f3d));if(_0x25fcb1){const _0x3f82e1=_0x22152a[_0x37fe06(0x6f0)]?.[_0x37fe06(0x21d)](_0x75a212=>_0x75a212[_0x37fe06(0xacf)]===_0x5ee5b4[_0x37fe06(0x841)]&&_0x5c3f3d[_0x37fe06(0x5a5)](_0x36c2a=>_0x36c2a[_0x37fe06(0x34c)]===_0x75a212[_0x37fe06(0x34c)])?.[_0x37fe06(0xacf)]===_0x284f13[_0x37fe06(0x496)])??!0x1,_0x370405=await fetch(_0x3dbf37['apiUrl']+'/chat/completions',{'method':_0x37fe06(0x2a5),'headers':{'Accept':_0x37fe06(0x172),'Content-Type':_0x37fe06(0x400),'x-vendor-id':_0x5712e4[_0x37fe06(0x117)]},'body':JSON[_0x37fe06(0x9a0)]({'model':_0x22152a[_0x37fe06(0x4e8)],'messages':_0x3b2ad5,'max_completion_tokens':_0x22152a['maxTokens'],'temperature':_0x22152a[_0x37fe06(0x478)],'metadata':{'threadId':_0x5712e4[_0x37fe06(0x1ca)],'agentId':_0x2e8fc0,'jobId':_0x2c0db1,'workflowId':_0x5712e4[_0x37fe06(0x8f9)],'context':_0x298756[_0x37fe06(0x3fc)]??{}},'structured_output':_0x22152a[_0x37fe06(0x63d)],'tools':_0x4e4bfc,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x370405['ok']||!_0x370405['body'])throw new Error(_0x37fe06(0x4b8));const _0x467ec0=_0x370405[_0x37fe06(0x993)][_0x37fe06(0xa08)](),_0x2ee641=new TextDecoder();for(;;){const {value:_0xc5cb79,done:_0x1c907a}=await _0x467ec0[_0x37fe06(0x779)]();if(_0x1c907a)break;const _0x33c908=_0x2ee641[_0x37fe06(0x882)](_0xc5cb79,{'stream':!0x0});if(_0x37fe06(0xaab)===_0x33c908)break;const _0x3c2c08=_0x568c78(_0x33c908);for(const _0x1b20da of _0x3c2c08)_0x1b20da[_0x37fe06(0x52b)]&&_0x1b20da[_0x37fe06(0x52b)][0x0]&&(_0x3f82e1&&(_0x25fcb1['emit']({'output':_0x1b20da[_0x37fe06(0x52b)][0x0][_0x37fe06(0x9fc)][_0x37fe06(0x88a)],'type':_0x37fe06(0x7c1)}),await _0x16c57a[_0x37fe06(0x73f)](0x1)),_0xe00571+=_0x1b20da['choices'][0x0][_0x37fe06(0x9fc)][_0x37fe06(0x88a)]??'',_0x5ddb19=_0x1b20da[_0x37fe06(0x1a6)]?.[_0x37fe06(0x5bd)]??0x0,_0x46f83f=_0x1b20da[_0x37fe06(0x1a6)]?.['completion_tokens']??0x0,_0x298756[_0x37fe06(0x3fc)]={..._0x298756[_0x37fe06(0x3fc)],..._0x1b20da[_0x37fe06(0x781)]});}_0x298756[_0x37fe06(0x19d)]=(_0x298756[_0x37fe06(0x19d)]??0x0)+_0x46f83f,_0x298756['inputTokens']=(_0x298756[_0x37fe06(0x778)]??0x0)+_0x5ddb19,_0x25fcb1['emit']({'output':_0x3f82e1?'\x0a\x0a':'','type':'prompt'}),await _0x16c57a[_0x37fe06(0x73f)](0x1);}else{const _0x47abd7=await fetch(_0x3dbf37[_0x37fe06(0x4a4)]+_0x37fe06(0x3d9),{'method':_0x37fe06(0x2a5),'headers':{'Content-Type':'application/json','x-vendor-id':_0x5712e4[_0x37fe06(0x117)]},'body':JSON[_0x37fe06(0x9a0)]({'model':_0x22152a[_0x37fe06(0x4e8)],'messages':_0x3b2ad5,'max_completion_tokens':_0x22152a[_0x37fe06(0x42a)],'temperature':_0x22152a[_0x37fe06(0x478)],'metadata':{'threadId':_0x5712e4['threadId'],'agentId':_0x2e8fc0,'jobId':_0x2c0db1,'workflowId':_0x5712e4[_0x37fe06(0x8f9)],'context':_0x298756[_0x37fe06(0x3fc)]??{}},'structured_output':_0x22152a[_0x37fe06(0x63d)],'tools':_0x4e4bfc})}),_0x5462bc=await _0x47abd7[_0x37fe06(0x736)]();_0xe00571=_0x5462bc['choices'][0x0][_0x37fe06(0x356)][_0x37fe06(0x88a)],_0x5ddb19=_0x5462bc[_0x37fe06(0x1a6)]['prompt_tokens'],_0x46f83f=_0x5462bc['usage'][_0x37fe06(0x522)],_0x298756['output']=_0xe00571,_0x298756[_0x37fe06(0x3fc)]={..._0x298756[_0x37fe06(0x3fc)],..._0x5462bc[_0x37fe06(0x781)]},_0x298756[_0x37fe06(0x19d)]=(_0x298756[_0x37fe06(0x19d)]??0x0)+_0x46f83f,_0x298756[_0x37fe06(0x778)]=(_0x298756['inputTokens']??0x0)+_0x5ddb19;}if(_0x22152a[_0x37fe06(0x7d5)]&&(_0x298756[_0x37fe06(0x3fc)]||(_0x298756[_0x37fe06(0x3fc)]={}),_0x298756[_0x37fe06(0x3fc)][_0x22152a[_0x37fe06(0x7d5)]]=_0xe00571),await _0x987f7f[_0x37fe06(0x6ab)]({'jobType':_0x4e3472[_0x37fe06(0x442)],'type':_0x5c373e['IntermediateOutput'],'jobId':_0x2c0db1,'agentId':_0x2e8fc0,'threadId':_0x5712e4[_0x37fe06(0x1ca)],'traceLevel':_0xbaa178[_0x37fe06(0x856)],'startTime':_0x1ba918,'timestamp':Date[_0x37fe06(0x653)](),'blockId':_0x22152a['id'],'status':_0x37fe06(0x2a9),'output':_0xe00571,'prompt':_0x98db66,'agentName':_0x22152a[_0x37fe06(0x3dd)],'history':[],'instructions':''+_0x22152a['instructions']+(_0x5712e4['instructions']??''),'ragContext':[],'inputTokens':_0x5ddb19??0x0,'outputTokens':_0x46f83f??0x0}),_0x37fe06(0x77e)===_0x22152a['grammar'])try{_0xe00571=JSON[_0x37fe06(0x763)](_0xe00571)['condition_result']?'true':'false';}catch(_0x532d8f){console[_0x37fe06(0x3c9)]('Error\x20parsing\x20JSON:',_0xe00571),_0xe00571='false';}await _0x367e48(_0x2c0db1,_0xe00571,_0x5712e4,_0x298756,_0x22152a,_0x5c3f3d,_0x5a2a4b,_0x25fcb1);}function _0x325b94(_0x398a5c,_0x5b3ecf,_0xa4a1be){const _0x329702=_0x29fc43;let _0x1df6a5='';return _0xa4a1be['knowledgeCutoffDate']&&''!==_0xa4a1be[_0x329702(0x3dc)]&&(_0x1df6a5='Knowledge\x20Cutoff\x20Date:\x20'+_0xa4a1be[_0x329702(0x3dc)]+'\x0a\x0a'),_0x1df6a5=_0x1df6a5+_0x329702(0x45c)+new Date()[_0x329702(0x815)](void 0x0,{'weekday':_0x329702(0x230),'year':_0x329702(0xace),'month':_0x329702(0x230),'day':_0x329702(0xace)})+'\x0a\x0a',''+_0x1df6a5+_0x5b3ecf['instructions']+_0x398a5c;}function _0x568c78(_0x29d039){const _0x52dcd0=_0x29fc43;return _0x29d039['split'](_0x52dcd0(0x61d))[_0x52dcd0(0x170)](_0xb6dbb2=>_0xb6dbb2[_0x52dcd0(0x9fb)](_0x52dcd0(0xb04),'')[_0x52dcd0(0x97d)]())[_0x52dcd0(0x81c)](_0x566981=>''!==_0x566981)[_0x52dcd0(0x170)](_0x175cc4=>{const _0x2cba70=_0x52dcd0;if('[DONE]'===_0x175cc4)return null;try{return JSON[_0x2cba70(0x763)](_0x175cc4);}catch(_0x1f9ff2){return console['error'](_0x2cba70(0x92f),_0x175cc4),null;}})[_0x52dcd0(0x81c)](_0x55a10c=>null!==_0x55a10c);}async function _0xd06af9(_0x41a0ca,_0x76bd49,_0x1704f6,_0x59900c,_0x30711b,_0x421742,_0x10b2cd){const _0x2eea08=_0x29fc43,_0x4079ca=_0x2eea08(0x1ec)+_0x30711b['description']+'\x20to\x20generate\x20a\x20response.',_0x31d993={'prompt':{'type':_0x47b47a[_0x2eea08(0x6f8)]['String']}};return await _0x987f7f[_0x2eea08(0x6ab)]({'jobType':_0x4e3472['JobContext'],'type':_0xd25f17['LoadSkillFunction'],'jobId':_0x41a0ca,'agentId':_0x76bd49,'threadId':_0x1704f6[_0x2eea08(0x1ca)],'traceLevel':_0xbaa178[_0x2eea08(0x856)],'startTime':Date[_0x2eea08(0x653)](),'timestamp':Date[_0x2eea08(0x653)](),'status':_0x2eea08(0x2a9),'function':_0x1dce9f[_0x2eea08(0x1bd)],'params':_0x31d993,'functionDescription':_0x4079ca}),{'description':_0x4079ca,'params':_0x31d993,'callback':async _0x2d4f75=>_0x5c1c0f(_0x1704f6[_0x2eea08(0x117)],_0x30711b,_0x421742,_0x2d4f75,_0x59900c,_0x41a0ca,_0x76bd49,_0x1704f6[_0x2eea08(0x1ca)],_0x10b2cd)};}async function _0x5c1c0f(_0x19e563,_0x3b328b,_0x3ae1d3,_0x8ea733,_0x405b62,_0x1d9143,_0x2907ae,_0x3e39fe,_0x460530){const _0x129006=_0x29fc43,_0x5c3ce7=Date[_0x129006(0x653)]();try{if(_0x129006(0x89c)!=typeof _0x8ea733?.['prompt'])throw new Error(_0x129006(0x9b9));if(!_0x3ae1d3[_0x129006(0x577)][_0x129006(0x5a5)](_0x267eab=>_0x267eab['id']===_0x3b328b[_0x129006(0x4e8)]))throw new Error(_0x129006(0x63e));let _0x2fef78='',_0x5b1a18=[];if(_0x3b328b[_0x129006(0x9ca)]&&_0x5b1a18[_0x129006(0x9f9)]({'role':'system','content':_0x3b328b['instructions']}),_0x5b1a18[_0x129006(0x9f9)]({'role':_0x129006(0x5ca),'content':_0x8ea733[_0x129006(0x7c1)]}),_0x460530&&_0x3b328b[_0x129006(0x315)]){const _0x7f55bb=await fetch(_0x3dbf37[_0x129006(0x4a4)]+_0x129006(0x3d9),{'method':_0x129006(0x2a5),'headers':{'Accept':_0x129006(0x172),'Content-Type':_0x129006(0x400),'x-vendor-id':_0x19e563},'body':JSON[_0x129006(0x9a0)]({'model':_0x3b328b[_0x129006(0x4e8)],'messages':_0x5b1a18,'max_completion_tokens':_0x3b328b[_0x129006(0x42a)],'temperature':_0x3b328b['temperature'],'tools':_0x3b328b[_0x129006(0x2a6)],'structured_output':_0x3b328b[_0x129006(0x63d)],'metadata':{'threadId':_0x3e39fe,'jobId':_0x1d9143,'agentId':_0x2907ae,'context':_0x405b62?.[_0x129006(0x3fc)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x7f55bb['ok']||!_0x7f55bb['body'])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x48457a=_0x7f55bb[_0x129006(0x993)][_0x129006(0xa08)](),_0x5d7862=new TextDecoder();let _0x2d9103=0x0,_0xbf0bd9=0x0,_0x171e8a='';for(;;){const {value:_0x552e86,done:_0x24ff02}=await _0x48457a['read']();if(_0x24ff02)break;const _0x465627=_0x5d7862[_0x129006(0x882)](_0x552e86,{'stream':!0x0});if(_0x129006(0xaab)===_0x465627)break;const _0x2395f6=_0x568c78(_0x465627);for(const _0x58247a of _0x2395f6)_0x58247a[_0x129006(0x52b)]&&_0x58247a[_0x129006(0x52b)][0x0]&&(_0x171e8a+=_0x58247a[_0x129006(0x52b)][0x0][_0x129006(0x9fc)][_0x129006(0x88a)],_0x2d9103+=_0x58247a[_0x129006(0x1a6)]?.[_0x129006(0x8e1)]??0x0,_0xbf0bd9+=_0x58247a[_0x129006(0x1a6)]?.[_0x129006(0x9a9)]??0x0,_0x405b62&&(_0x405b62[_0x129006(0x3fc)]={..._0x405b62[_0x129006(0x3fc)],..._0x58247a[_0x129006(0x781)]}),_0x460530[_0x129006(0x986)]({'output':_0x58247a[_0x129006(0x52b)][0x0]['delta']['content'],'type':_0x129006(0x7c1)}),await _0x16c57a['wait'](0x1));}_0x405b62&&(_0x405b62[_0x129006(0x19d)]=(_0x405b62[_0x129006(0x19d)]??0x0)+_0xbf0bd9,_0x405b62[_0x129006(0x778)]=(_0x405b62[_0x129006(0x778)]??0x0)+_0x2d9103,_0x3b328b['contextOutputVariable']&&(_0x405b62[_0x129006(0x3fc)]||(_0x405b62[_0x129006(0x3fc)]={}),_0x405b62[_0x129006(0x3fc)][_0x3b328b['contextOutputVariable']]=_0x171e8a)),_0x460530['emit']({'output':'\x0a\x0a','type':_0x129006(0x7c1)}),await _0x16c57a[_0x129006(0x73f)](0x1),_0x2fef78=_0x129006(0x607);}else{const _0x2d412f=await fetch(_0x3dbf37['apiUrl']+_0x129006(0x3d9),{'method':_0x129006(0x2a5),'headers':{'Content-Type':'application/json','x-vendor-id':_0x19e563},'body':JSON[_0x129006(0x9a0)]({'model':_0x3b328b[_0x129006(0x4e8)],'messages':_0x5b1a18,'max_completion_tokens':_0x3b328b[_0x129006(0x42a)],'temperature':_0x3b328b[_0x129006(0x478)],'tools':_0x3b328b[_0x129006(0x2a6)],'structured_output':_0x3b328b[_0x129006(0x63d)],'metadata':{'threadId':_0x3e39fe,'jobId':_0x1d9143,'agentId':_0x2907ae,'context':_0x405b62?.[_0x129006(0x3fc)]??{}}})}),_0x3c363=await _0x2d412f[_0x129006(0x736)]();_0x2fef78=_0x3c363[_0x129006(0x52b)][0x0][_0x129006(0x356)]['content'],_0x405b62&&(_0x405b62['internalContext']={..._0x405b62['internalContext'],..._0x3c363[_0x129006(0x781)]},_0x405b62[_0x129006(0x19d)]=(_0x405b62['outputTokens']??0x0)+_0x3c363[_0x129006(0x1a6)]['completion_tokens'],_0x405b62[_0x129006(0x778)]=(_0x405b62[_0x129006(0x778)]??0x0)+_0x3c363[_0x129006(0x1a6)][_0x129006(0x5bd)],_0x3b328b['contextOutputVariable']&&(_0x405b62[_0x129006(0x3fc)]||(_0x405b62[_0x129006(0x3fc)]={}),_0x405b62[_0x129006(0x3fc)][_0x3b328b[_0x129006(0x7d5)]]=_0x2fef78));}if(_0x129006(0x89c)!=typeof _0x2fef78)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x1d9143&&_0x2907ae&&_0x3e39fe&&await _0x987f7f[_0x129006(0x6ab)]({'jobType':_0x4e3472[_0x129006(0x5f4)],'type':_0x1dce9f[_0x129006(0x1bd)],'jobId':_0x1d9143,'blockId':'agent','agentId':_0x2907ae,'threadId':_0x3e39fe,'traceLevel':_0xbaa178['Info'],'startTime':_0x5c3ce7,'timestamp':Date[_0x129006(0x653)](),'status':_0x129006(0x2a9),'agentName':_0x3b328b[_0x129006(0x3dd)],'prompt':_0x8ea733['prompt'],'instructions':_0x3b328b[_0x129006(0x9ca)]??'','result':_0x2fef78,'inputTokens':0x0,'outputTokens':0x0}),_0x2fef78;}catch(_0x40510e){return console[_0x129006(0x3c9)](_0x40510e),_0x1d9143&&_0x2907ae&&_0x3e39fe&&await _0x987f7f[_0x129006(0x6ab)]({'jobType':_0x4e3472[_0x129006(0x5f4)],'type':_0x1dce9f[_0x129006(0x1bd)],'jobId':_0x1d9143,'blockId':_0x129006(0xab9),'agentId':_0x2907ae,'threadId':_0x3e39fe,'traceLevel':_0xbaa178[_0x129006(0x856)],'startTime':_0x5c3ce7,'timestamp':Date[_0x129006(0x653)](),'status':'error','errorDetails':_0x27947a(_0x40510e),'agentName':_0x3b328b[_0x129006(0x3dd)],'prompt':_0x8ea733?.[_0x129006(0x7c1)]??'','instructions':_0x3b328b['instructions']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x40510e instanceof Error?_0x40510e[_0x129006(0x356)]:_0x129006(0x9cc);}}async function _0x260b55(_0x5e1691,_0x566237,_0x5f70ac,_0x2d1751,_0x4fa704,_0x10503e){const _0x38a206=_0x29fc43,_0x268b27=Date[_0x38a206(0x653)]();try{if(!_0x566237['aiSearchConnector'])throw new Error(_0x38a206(0x1af));if(!_0x5e1691['modelId'])throw new Error(_0x38a206(0x19c));if(_0x38a206(0x89c)!=typeof _0x5f70ac?.['query'])throw new Error(_0x38a206(0x6c5));const _0x4786be=await _0x566237[_0x38a206(0x8cc)][_0x38a206(0x907)](_0x5f70ac[_0x38a206(0x966)],_0x5e1691[_0x38a206(0x4e8)]);return _0x2d1751&&_0x4fa704&&_0x10503e&&(await _0x987f7f[_0x38a206(0x6f2)](_0x2d1751,_0x5e1691[_0x38a206(0x4e8)],_0x4786be[_0x38a206(0x778)],_0x4786be[_0x38a206(0x19d)]),console[_0x38a206(0x195)](new Date()+'\x20Ai\x20search\x20final\x20response',_0x5e1691[_0x38a206(0x4e8)],_0x4786be[_0x38a206(0x778)],_0x4786be[_0x38a206(0x19d)]),await _0x987f7f[_0x38a206(0x6ab)]({'jobType':_0x4e3472[_0x38a206(0x5f4)],'type':_0x1dce9f['SearchPerplexity'],'jobId':_0x2d1751,'agentId':_0x4fa704,'threadId':_0x10503e,'blockId':_0x38a206(0x5d4),'traceLevel':_0xbaa178[_0x38a206(0x856)],'startTime':_0x268b27,'timestamp':Date[_0x38a206(0x653)](),'status':_0x38a206(0x2a9),'query':_0x5f70ac[_0x38a206(0x966)],'results':_0x4786be['output']})),_0x4786be[_0x38a206(0x2b0)];}catch(_0x482c88){return console['error'](_0x482c88),_0x2d1751&&_0x4fa704&&_0x10503e&&await _0x987f7f[_0x38a206(0x6ab)]({'jobType':_0x4e3472[_0x38a206(0x5f4)],'type':_0x1dce9f[_0x38a206(0x501)],'jobId':_0x2d1751,'blockId':'ai-search','traceLevel':_0xbaa178[_0x38a206(0x856)],'startTime':_0x268b27,'timestamp':Date[_0x38a206(0x653)](),'status':'error','errorDetails':_0x27947a(_0x482c88),'agentId':_0x4fa704,'threadId':_0x10503e,'query':_0x5f70ac?.[_0x38a206(0x966)]??'','results':'Error\x20searching'}),_0x482c88 instanceof Error?_0x482c88[_0x38a206(0x356)]:_0x38a206(0xb1d);}}async function _0x281747(_0x4b8e8b,_0x23143c,_0x3b7857,_0xcc3aac){const _0x43b228=_0x29fc43,_0x3ed14f=Date[_0x43b228(0x653)]();try{if(_0x43b228(0x89c)!=typeof _0x4b8e8b?.[_0x43b228(0x840)])throw new Error(_0x43b228(0x475));const _0x2bd594=Function(''+_0x4b8e8b?.[_0x43b228(0x840)])();let _0x5eca86='';try{_0x5eca86=JSON['stringify'](_0x2bd594);}catch{_0x5eca86=_0x2bd594['toString']();}return _0x23143c&&_0x3b7857&&_0xcc3aac&&await _0x987f7f[_0x43b228(0x6ab)]({'jobType':_0x4e3472[_0x43b228(0x5f4)],'type':_0x1dce9f[_0x43b228(0x490)],'agentId':_0x3b7857,'threadId':_0xcc3aac,'jobId':_0x23143c,'blockId':_0x43b228(0x840),'traceLevel':_0xbaa178['Info'],'startTime':_0x3ed14f,'timestamp':Date[_0x43b228(0x653)](),'status':'success','code':_0x4b8e8b[_0x43b228(0x840)],'result':_0x5eca86}),_0x2bd594;}catch(_0x3be782){return console[_0x43b228(0x3c9)](_0x3be782),_0x23143c&&_0x3b7857&&_0xcc3aac&&await _0x987f7f[_0x43b228(0x6ab)]({'jobType':_0x4e3472[_0x43b228(0x5f4)],'type':_0x1dce9f[_0x43b228(0x490)],'jobId':_0x23143c,'blockId':_0x43b228(0x840),'traceLevel':_0xbaa178['Info'],'startTime':_0x3ed14f,'timestamp':Date[_0x43b228(0x653)](),'status':_0x43b228(0x3c9),'errorDetails':_0x27947a(_0x3be782),'agentId':_0x3b7857,'threadId':_0xcc3aac,'code':_0x4b8e8b?.[_0x43b228(0x840)]??'','result':_0x43b228(0x1f8)}),_0x3be782 instanceof Error?_0x3be782[_0x43b228(0x356)]:_0x43b228(0x1f8);}}async function _0x2573b4(_0x5d9ff3,_0x102d40,_0x1bc4c8,_0x4fda03,_0x4e00d7){const _0x294b36=_0x29fc43,_0x123f48=_0x294b36(0x139)+_0x4e00d7[_0x294b36(0x3f9)]+_0x294b36(0x644),_0x582467={'queryOrPrompt':{'type':_0x47b47a['PromptFunctionParamsType'][_0x294b36(0x1d2)]}};return await _0x987f7f[_0x294b36(0x6ab)]({'jobType':_0x4e3472['JobContext'],'type':_0xd25f17['LoadKnowledgeFunction'],'jobId':_0x5d9ff3,'agentId':_0x102d40,'threadId':_0x1bc4c8[_0x294b36(0x1ca)],'blockId':_0x294b36(0x61f),'traceLevel':_0xbaa178[_0x294b36(0x856)],'startTime':Date[_0x294b36(0x653)](),'timestamp':Date[_0x294b36(0x653)](),'status':_0x294b36(0x2a9),'function':_0x36faa6[_0x294b36(0x825)],'params':_0x582467,'functionDescription':_0x123f48}),{'description':_0x123f48,'params':_0x582467,'callback':async _0x15fbf3=>_0x48b164(_0x1bc4c8[_0x294b36(0x117)],_0x4e00d7,_0x15fbf3,_0x4fda03,_0x5d9ff3,_0x102d40,_0x1bc4c8[_0x294b36(0x1ca)])};}async function _0x48b164(_0x408cbb,_0x47f6e6,_0x573c8b,_0x48af10,_0x153a7a,_0x5decc2,_0x1d5ccd){const _0x49ef67=_0x29fc43,_0xbfc579=Date['now']();try{if(_0x49ef67(0x89c)!=typeof _0x573c8b?.[_0x49ef67(0xac2)])throw new Error(_0x49ef67(0x6c5));const _0x54b4d8=await fetch(_0x3dbf37[_0x49ef67(0x4a4)]+_0x49ef67(0x86a)+_0x47f6e6['collectionId']+_0x49ef67(0x96d),{'method':_0x49ef67(0x2a5),'headers':{'Content-Type':_0x49ef67(0x400),'x-vendor-id':_0x408cbb},'body':JSON[_0x49ef67(0x9a0)]({'query':_0x573c8b[_0x49ef67(0xac2)]})}),_0x739ece=((await _0x54b4d8[_0x49ef67(0x736)]())['data']??[])[_0x49ef67(0x170)](_0x1474cb=>({'pathName':_0x1474cb[_0x49ef67(0x528)],'relevance':_0x1474cb['score'],'content':_0x1474cb['content']['text']}));return _0x48af10&&(_0x48af10[_0x49ef67(0x781)]=Array[_0x49ef67(0x8f7)](new Set([..._0x48af10['context']??[],..._0x739ece]))),_0x153a7a&&_0x5decc2&&_0x1d5ccd&&await _0x987f7f[_0x49ef67(0x6ab)]({'jobType':_0x4e3472[_0x49ef67(0x3c4)],'type':_0x36faa6[_0x49ef67(0x749)],'jobId':_0x153a7a,'blockId':'data-collection','agentId':_0x5decc2,'threadId':_0x1d5ccd,'traceLevel':_0xbaa178[_0x49ef67(0x856)],'startTime':_0xbfc579,'timestamp':Date[_0x49ef67(0x653)](),'status':_0x49ef67(0x2a9),'query':_0x573c8b[_0x49ef67(0xac2)],'context':_0x739ece??[],'inputTokens':0x0,'outputTokens':0x0}),_0x739ece[_0x49ef67(0x8ca)]((_0x774989,_0x2b8144)=>_0x774989+'\x0a'+_0x2b8144[_0x49ef67(0x88a)],'');}catch(_0x4c4736){return console[_0x49ef67(0x3c9)](_0x4c4736),_0x153a7a&&_0x5decc2&&_0x1d5ccd&&await _0x987f7f['trace']({'jobType':_0x4e3472[_0x49ef67(0x3c4)],'type':_0x36faa6[_0x49ef67(0x749)],'jobId':_0x153a7a,'blockId':_0x49ef67(0x61f),'agentId':_0x5decc2,'threadId':_0x1d5ccd,'traceLevel':_0xbaa178[_0x49ef67(0x856)],'startTime':_0xbfc579,'timestamp':Date['now'](),'status':'error','errorDetails':_0x27947a(_0x4c4736),'query':_0x573c8b?.[_0x49ef67(0xac2)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x4c4736 instanceof Error?_0x4c4736[_0x49ef67(0x356)]:_0x49ef67(0x76c);}}async function _0x4b431c(_0x461595,_0x3cee2d,_0x298bbb,_0x59b365,_0x3ce8bc){const _0x4700f9=_0x29fc43,_0x26e2fa={};for(const _0x1d9d64 of _0x3ce8bc['parameters']??[])switch(_0x1d9d64[_0x4700f9(0xacf)]){case _0x4700f9(0x89c):case _0x4700f9(0x736):_0x26e2fa[_0x1d9d64[_0x4700f9(0x3dd)]]={'type':_0x47b47a['PromptFunctionParamsType']['String']};break;case'number':_0x26e2fa[_0x1d9d64[_0x4700f9(0x3dd)]]={'type':_0x47b47a[_0x4700f9(0x6f8)][_0x4700f9(0x688)]};break;case _0x4700f9(0x714):_0x26e2fa[_0x1d9d64[_0x4700f9(0x3dd)]]={'type':_0x47b47a[_0x4700f9(0x6f8)][_0x4700f9(0x294)]};}return await _0x987f7f[_0x4700f9(0x6ab)]({'jobType':_0x4e3472['JobContext'],'type':_0xd25f17['LoadSkillFunction'],'jobId':_0x461595,'agentId':_0x3cee2d,'threadId':_0x298bbb,'traceLevel':_0xbaa178['Info'],'startTime':Date[_0x4700f9(0x653)](),'timestamp':Date[_0x4700f9(0x653)](),'status':_0x4700f9(0x2a9),'function':_0x1dce9f[_0x4700f9(0x5a2)],'params':_0x26e2fa,'functionDescription':_0x3ce8bc[_0x4700f9(0x3f9)]??''}),{'description':_0x4700f9(0x323)+_0x3ce8bc[_0x4700f9(0x3f9)],'params':_0x26e2fa,'callback':async _0x2e561a=>_0x287fe9(_0x3ce8bc,_0x2e561a,_0x59b365,_0x461595,_0x3cee2d,_0x298bbb)};}async function _0x287fe9(_0x57f7de,_0x46f8e0,_0x23db50,_0x287e85,_0x4edfa2,_0x28df4a){const _0x47b230=_0x29fc43,_0x38af37=Date['now']();try{if(!_0x46f8e0)throw new Error(_0x47b230(0x26c));for(const _0x409b43 of _0x57f7de[_0x47b230(0x28b)]??[]){if(void 0x0===_0x46f8e0[_0x409b43['name']])throw new Error('Parameter\x20'+_0x409b43[_0x47b230(0x3dd)]+_0x47b230(0x5ea));if('string'===_0x409b43[_0x47b230(0xacf)]&&_0x47b230(0x89c)!=typeof _0x46f8e0[_0x409b43[_0x47b230(0x3dd)]])throw new Error('Parameter\x20'+_0x409b43[_0x47b230(0x3dd)]+_0x47b230(0x8e7));if(_0x47b230(0x516)===_0x409b43[_0x47b230(0xacf)]&&_0x47b230(0x516)!=typeof _0x46f8e0[_0x409b43[_0x47b230(0x3dd)]])throw new Error(_0x47b230(0x42f)+_0x409b43[_0x47b230(0x3dd)]+_0x47b230(0x367));if(_0x47b230(0x714)===_0x409b43[_0x47b230(0xacf)]&&'boolean'!=typeof _0x46f8e0[_0x409b43[_0x47b230(0x3dd)]])throw new Error('Parameter\x20'+_0x409b43[_0x47b230(0x3dd)]+_0x47b230(0x414));if(_0x47b230(0x736)===_0x409b43[_0x47b230(0xacf)]&&_0x47b230(0x89c)!=typeof _0x46f8e0[_0x409b43[_0x47b230(0x3dd)]])throw new Error(_0x47b230(0x42f)+_0x409b43[_0x47b230(0x3dd)]+_0x47b230(0x8e7));if(_0x47b230(0x736)===_0x409b43[_0x47b230(0xacf)])try{_0x46f8e0[_0x409b43[_0x47b230(0x3dd)]]=JSON[_0x47b230(0x763)](_0x46f8e0[_0x409b43[_0x47b230(0x3dd)]]);}catch{throw new Error(_0x47b230(0x42f)+_0x409b43[_0x47b230(0x3dd)]+_0x47b230(0x3f2));}}const _0x3f04a5={};for(const _0x59c1bb of _0x57f7de[_0x47b230(0x830)]??[]){let _0x49cf46=_0x59c1bb[_0x47b230(0x2a7)];_0x49cf46[_0x47b230(0x256)](/\$[a-zA-Z0-9]+/)&&(_0x49cf46=_0x49cf46[_0x47b230(0x9fb)](/\$[a-zA-Z0-9]+/g,_0x170a2d=>{const _0x1cc8ea=_0x47b230,_0x1f6f27=_0x170a2d[_0x1cc8ea(0x83a)](0x1);return _0x46f8e0[_0x1f6f27];})),_0x3f04a5[_0x59c1bb['name']]=_0x49cf46;}const _0x53a578=new URLSearchParams();for(const _0x569485 of _0x57f7de[_0x47b230(0x4fb)]??[]){let _0x34c5f6=_0x569485[_0x47b230(0x2a7)];if(_0x47b230(0x89c)==typeof _0x34c5f6&&_0x34c5f6['startsWith']('$')){const _0x4f6715=_0x34c5f6['slice'](0x1);_0x34c5f6=_0x46f8e0[_0x4f6715];}if(_0x47b230(0x89c)==typeof _0x34c5f6&&_0x34c5f6[_0x47b230(0xa8b)](_0x47b230(0x7fd))){const _0x365160=_0x34c5f6[_0x47b230(0x9fb)](_0x47b230(0x7fd),'');if(_0x34c5f6=_0x23db50?.[_0x47b230(0x3fc)]?.[_0x365160],_0x47b230(0x89c)==typeof _0x34c5f6&&_0x34c5f6[_0x47b230(0xa8b)]('{')&&_0x34c5f6[_0x47b230(0x349)]('}'))try{_0x34c5f6=JSON[_0x47b230(0x763)](_0x34c5f6);}catch{}}_0x47b230(0x89c)==typeof _0x34c5f6&&_0x34c5f6[_0x47b230(0xa8b)]('[')&&_0x34c5f6['endsWith'](']')&&(_0x34c5f6=JSON[_0x47b230(0x763)](_0x34c5f6)),_0x53a578[_0x47b230(0x1a4)](_0x569485[_0x47b230(0x3dd)],_0x34c5f6);}let _0x1ea5c0,_0x470d8d=_0x57f7de[_0x47b230(0x504)]??'';_0x53a578[_0x47b230(0xb18)]>0x0&&(_0x470d8d+='?'+_0x53a578[_0x47b230(0x570)]());for(const _0x5d2faa of _0x57f7de[_0x47b230(0x5fd)]??[]){void 0x0===_0x1ea5c0&&(_0x1ea5c0={});let _0x249af9=_0x5d2faa[_0x47b230(0x2a7)];if('string'==typeof _0x249af9&&_0x249af9[_0x47b230(0xa8b)]('$')){const _0x40ff3f=_0x249af9[_0x47b230(0x83a)](0x1);_0x249af9=_0x46f8e0[_0x40ff3f];}if(_0x47b230(0x89c)==typeof _0x249af9&&_0x249af9['startsWith']('@context.')){const _0x574348=_0x249af9[_0x47b230(0x9fb)](_0x47b230(0x7fd),'');if(_0x249af9=_0x23db50?.['internalContext']?.[_0x574348],'string'==typeof _0x249af9&&_0x249af9[_0x47b230(0xa8b)]('{')&&_0x249af9['endsWith']('}'))try{_0x249af9=JSON[_0x47b230(0x763)](_0x249af9);}catch{}}if(_0x47b230(0x89c)==typeof _0x249af9&&_0x249af9[_0x47b230(0xa8b)]('[')&&_0x249af9[_0x47b230(0x349)](']')&&(_0x249af9=JSON[_0x47b230(0x763)](_0x249af9)),_0x47b230(0x9e4)===_0x5d2faa['name']){const _0x539199=_0x249af9[_0x47b230(0x256)](/```html(.*)```/s);_0x539199&&(_0x249af9=_0x539199[0x1]),_0x249af9=_0x249af9[_0x47b230(0x9fb)](/\n/g,''),_0x249af9=_0x249af9[_0x47b230(0x9fb)](/'/g,'\x22'),_0x1ea5c0=_0x249af9;break;}if(-0x1===_0x5d2faa[_0x47b230(0x3dd)][_0x47b230(0x511)]('.'))_0x1ea5c0[_0x5d2faa[_0x47b230(0x3dd)]]=_0x249af9;else{const [_0x57d634,_0x3993df]=_0x5d2faa[_0x47b230(0x3dd)][_0x47b230(0x388)]('.');_0x1ea5c0[_0x57d634]||(_0x1ea5c0[_0x57d634]={}),_0x1ea5c0[_0x57d634][_0x3993df]=_0x249af9;}}console[_0x47b230(0x195)](_0x47b230(0x89d)+_0x57f7de[_0x47b230(0x3dd)]+_0x47b230(0x369)+JSON[_0x47b230(0x9a0)](_0x1ea5c0));const _0x1ce8c3=await fetch(_0x470d8d,{'method':_0x57f7de[_0x47b230(0x7d0)],'headers':_0x3f04a5,'body':void 0x0===_0x1ea5c0?void 0x0:_0x47b230(0x89c)==typeof _0x1ea5c0?_0x1ea5c0:JSON[_0x47b230(0x9a0)](_0x1ea5c0)});if(_0x1ce8c3['ok']){let _0x56023d=await _0x1ce8c3[_0x47b230(0x736)]();return'string'!=typeof _0x56023d&&(_0x56023d=JSON[_0x47b230(0x9a0)](_0x56023d)),_0x287e85&&_0x4edfa2&&_0x28df4a&&await _0x987f7f[_0x47b230(0x6ab)]({'jobType':_0x4e3472[_0x47b230(0x5f4)],'type':_0x1dce9f['ExecuteCustomSkill'],'jobId':_0x287e85,'agentId':_0x4edfa2,'threadId':_0x28df4a,'blockId':'custom-skill','traceLevel':_0xbaa178['Info'],'startTime':_0x38af37,'timestamp':Date['now'](),'status':_0x47b230(0x2a9),'skillName':_0x57f7de[_0x47b230(0x3dd)],'params':_0x46f8e0,'result':_0x56023d}),_0x23db50&&_0x57f7de['contextOutputVariable']&&''!==_0x57f7de[_0x47b230(0x7d5)]&&(_0x23db50[_0x47b230(0x3fc)]||(_0x23db50[_0x47b230(0x3fc)]={}),_0x23db50[_0x47b230(0x3fc)][_0x57f7de[_0x47b230(0x7d5)]]=_0x56023d),_0x56023d;}throw new Error(_0x1ce8c3[_0x47b230(0x829)]);}catch(_0x107c5b){console[_0x47b230(0x3c9)](_0x107c5b);const _0x5715ea=_0x107c5b instanceof Error?_0x107c5b[_0x47b230(0x356)]:'Error\x20fetching\x20URL';return _0x287e85&&_0x4edfa2&&_0x28df4a&&await _0x987f7f[_0x47b230(0x6ab)]({'jobType':_0x4e3472[_0x47b230(0x5f4)],'type':_0x1dce9f[_0x47b230(0x5a2)],'jobId':_0x287e85,'blockId':'custom-skill','threadId':_0x28df4a,'traceLevel':_0xbaa178['Info'],'startTime':_0x38af37,'timestamp':Date['now'](),'agentId':_0x4edfa2,'status':_0x47b230(0x3c9),'skillName':_0x57f7de[_0x47b230(0x3dd)],'params':_0x46f8e0??{},'result':_0x5715ea}),_0x5715ea;}}async function _0x4f9cd8(_0x1af347,_0x91c5ed,_0x24e055,_0x3f1e69=!0x0){const _0x35d693=_0x29fc43,_0x1da04c='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x2f6648={'url':{'type':_0x47b47a[_0x35d693(0x6f8)][_0x35d693(0x1d2)]},'page':{'type':_0x47b47a['PromptFunctionParamsType']['Number']}};return await _0x987f7f['trace']({'jobType':_0x4e3472['JobContext'],'type':_0xd25f17[_0x35d693(0x750)],'jobId':_0x1af347,'agentId':_0x91c5ed,'threadId':_0x24e055,'traceLevel':_0xbaa178[_0x35d693(0x856)],'startTime':Date[_0x35d693(0x653)](),'timestamp':Date[_0x35d693(0x653)](),'status':_0x35d693(0x2a9),'function':_0x1dce9f[_0x35d693(0x3e8)],'params':_0x2f6648,'functionDescription':_0x1da04c}),{'description':_0x1da04c,'params':_0x2f6648,'callback':async _0x5a8d9a=>_0x17eb00(_0x5a8d9a,_0x3f1e69,_0x1af347,_0x91c5ed,_0x24e055)};}async function _0x17eb00(_0x28e6c2,_0x1a2d8a=!0x0,_0x33f608,_0x1b8bb5,_0xc30460){const _0xfb3e48=_0x29fc43,_0x296512=Date[_0xfb3e48(0x653)]();try{if('string'!=typeof _0x28e6c2?.[_0xfb3e48(0x413)])throw new Error('URL\x20is\x20required');const _0x164efe=_0x28e6c2[_0xfb3e48(0x413)];if([_0xfb3e48(0xa12),'.doc',_0xfb3e48(0x67f),_0xfb3e48(0x64b),_0xfb3e48(0x776),_0xfb3e48(0x6c4),_0xfb3e48(0x972)][_0xfb3e48(0x21d)](_0x3b045e=>_0x164efe['endsWith'](_0x3b045e)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x267c97=await fetch(_0x164efe),_0x4fedd2=await _0x267c97[_0xfb3e48(0x637)]();let _0xf9488a=_0x4fedd2;if(_0x1a2d8a){const _0x5e2c21=_0x4fedd2['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x5b9068=_0x5e2c21?_0x5e2c21[0x1]:_0x4fedd2,_0x1773dd=_0x5b9068[_0xfb3e48(0x9fb)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0xfb3e48(0x9fb)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0xfb3e48(0x9fb)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0xf9488a=_0x1773dd[_0xfb3e48(0x9fb)](/<\/?[^>]+(>|$)/g,'')[_0xfb3e48(0x9fb)](/\s\s+/g,'\x20')[_0xfb3e48(0x97d)]();}const _0x20f356=_0xfb3e48(0x516)==typeof _0x28e6c2[_0xfb3e48(0xa9a)]?_0x28e6c2['page']:0x1,_0x579251=Math[_0xfb3e48(0x687)](_0xf9488a[_0xfb3e48(0x4c5)]/_0x6ac2d6);return _0xf9488a[_0xfb3e48(0x4c5)]>_0x6ac2d6&&(_0xf9488a=_0xf9488a[_0xfb3e48(0x3b4)]((_0x20f356-0x1)*_0x6ac2d6,(_0x20f356-0x1)*_0x6ac2d6+_0x6ac2d6)+_0xfb3e48(0x6ff)+(_0x20f356+0x1)+_0xfb3e48(0x732)+_0x579251+'.'),_0x33f608&&_0x1b8bb5&&_0xc30460&&await _0x987f7f[_0xfb3e48(0x6ab)]({'jobType':_0x4e3472[_0xfb3e48(0x5f4)],'type':_0x1dce9f[_0xfb3e48(0x3e8)],'jobId':_0x33f608,'agentId':_0x1b8bb5,'threadId':_0xc30460,'blockId':'fetch-url','traceLevel':_0xbaa178[_0xfb3e48(0x856)],'startTime':_0x296512,'timestamp':Date['now'](),'status':_0x267c97['ok']?_0xfb3e48(0x2a9):_0xfb3e48(0x3c9),'url':_0x28e6c2[_0xfb3e48(0x413)],'page':_0x20f356,'totalPages':_0x579251,'response':_0xf9488a}),_0xf9488a;}catch(_0x5a1d00){console['error'](_0x5a1d00);const _0x43bcba=_0x5a1d00 instanceof Error?_0x5a1d00[_0xfb3e48(0x356)]:_0xfb3e48(0x791);return _0x33f608&&_0x1b8bb5&&_0xc30460&&await _0x987f7f['trace']({'jobType':_0x4e3472[_0xfb3e48(0x5f4)],'type':_0x1dce9f[_0xfb3e48(0x3e8)],'jobId':_0x33f608,'blockId':_0xfb3e48(0x464),'threadId':_0xc30460,'traceLevel':_0xbaa178[_0xfb3e48(0x856)],'startTime':_0x296512,'timestamp':Date[_0xfb3e48(0x653)](),'agentId':_0x1b8bb5,'status':'error','errorDetails':_0x27947a(_0x5a1d00),'url':_0x28e6c2?.[_0xfb3e48(0x413)]??'','page':0x0,'totalPages':0x0,'response':_0x43bcba}),_0x43bcba;}}async function _0x4d94fe(_0xcc4ef,_0x538940,_0x10bb5a,_0x45ea22,_0x3e465c){const _0x5474a5=_0x29fc43,_0x12ff8a=Date[_0x5474a5(0x653)]();try{if(!_0xcc4ef[_0x5474a5(0x5dd)])throw new Error('Search\x20connector\x20not\x20set');if(_0x5474a5(0x89c)!=typeof _0x538940?.[_0x5474a5(0x966)])throw new Error(_0x5474a5(0x6c5));const _0x399a52=await _0xcc4ef[_0x5474a5(0x5dd)]['search'](_0x538940[_0x5474a5(0x966)],_0x3dbf37['google'][_0x5474a5(0x406)]);let _0x5c0569='';for(const _0x198821 of _0x399a52)_0x5c0569+=_0x198821[_0x5474a5(0xaa2)]+_0x5474a5(0x902)+_0x198821[_0x5474a5(0x413)]+'\x0a'+_0x198821[_0x5474a5(0x919)]+'\x0a\x0a';return _0x10bb5a&&_0x45ea22&&_0x3e465c&&await _0x987f7f[_0x5474a5(0x6ab)]({'jobType':_0x4e3472[_0x5474a5(0x5f4)],'type':_0x1dce9f[_0x5474a5(0x8b4)],'jobId':_0x10bb5a,'agentId':_0x45ea22,'threadId':_0x3e465c,'blockId':_0x5474a5(0x907),'traceLevel':_0xbaa178['Info'],'startTime':_0x12ff8a,'timestamp':Date[_0x5474a5(0x653)](),'status':_0x5474a5(0x2a9),'query':_0x538940[_0x5474a5(0x966)],'results':_0x5c0569}),_0x5c0569;}catch(_0xeb6199){return console[_0x5474a5(0x3c9)](_0xeb6199),_0x10bb5a&&_0x45ea22&&_0x3e465c&&await _0x987f7f[_0x5474a5(0x6ab)]({'jobType':_0x4e3472[_0x5474a5(0x5f4)],'type':_0x1dce9f[_0x5474a5(0x8b4)],'jobId':_0x10bb5a,'blockId':_0x5474a5(0x907),'traceLevel':_0xbaa178['Info'],'startTime':_0x12ff8a,'timestamp':Date[_0x5474a5(0x653)](),'status':'error','errorDetails':_0x27947a(_0xeb6199),'agentId':_0x45ea22,'threadId':_0x3e465c,'query':_0x538940?.[_0x5474a5(0x966)]??'','results':'Error\x20searching'}),_0xeb6199 instanceof Error?_0xeb6199[_0x5474a5(0x356)]:_0x5474a5(0xb1d);}}async function _0xdb64c9(_0x4d84ea,_0x56e495,_0x2463f1,_0x1a3050,_0x1ebf06,_0x174c31){const _0x23dda3=_0x29fc43,_0x13747f=_0x23dda3(0x8c5)+_0x1ebf06[_0x23dda3(0x3f9)]+'\x20to\x20generate\x20a\x20response.',_0xc37754={'prompt':{'type':_0x47b47a['PromptFunctionParamsType'][_0x23dda3(0x1d2)]}};return await _0x987f7f['trace']({'jobType':_0x4e3472[_0x23dda3(0x5dc)],'type':_0xd25f17[_0x23dda3(0x750)],'jobId':_0x4d84ea,'agentId':_0x56e495,'threadId':_0x2463f1[_0x23dda3(0x1ca)],'traceLevel':_0xbaa178[_0x23dda3(0x856)],'startTime':Date[_0x23dda3(0x653)](),'timestamp':Date[_0x23dda3(0x653)](),'status':_0x23dda3(0x2a9),'function':_0x1dce9f[_0x23dda3(0x4f2)],'params':_0xc37754,'functionDescription':_0x13747f}),{'description':_0x13747f,'params':_0xc37754,'callback':async _0x3c6c41=>_0x2c8bdf(_0x2463f1[_0x23dda3(0x117)],_0x1ebf06,_0x3c6c41,_0x1a3050,_0x4d84ea,_0x56e495,_0x2463f1[_0x23dda3(0x1ca)],_0x174c31)};}async function _0x2c8bdf(_0x11598a,_0x216f25,_0x173003,_0x540367,_0xc85da6,_0x430528,_0x35f3e1,_0x19358d){const _0x46f09c=_0x29fc43,_0x27df0d=Date[_0x46f09c(0x653)]();try{if('string'!=typeof _0x173003?.[_0x46f09c(0x7c1)])throw new Error(_0x46f09c(0x9b9));let _0x3950ef='';const _0x99bb2f=_0x216f25[_0x46f09c(0x204)]?.[_0x46f09c(0x388)](',')??[];let _0x70cb37=_0x173003[_0x46f09c(0x7c1)];for(const _0x546a5e of _0x99bb2f){const _0xb1968f=_0x540367?.[_0x46f09c(0x3fc)]?.[_0x546a5e];_0xb1968f&&(_0x70cb37='<'+_0x546a5e+'>\x0a'+_0xb1968f+'\x0a</'+_0x546a5e+_0x46f09c(0x17d)+_0x70cb37);}let _0x2b9916=[{'role':_0x46f09c(0x5ca),'content':_0x70cb37}];if(_0x19358d&&_0x216f25['shouldEmit']){const _0x4316f0=await fetch(_0x3dbf37[_0x46f09c(0x4a4)]+_0x46f09c(0x805)+_0x216f25['workflowId']+'/chat/completions',{'method':_0x46f09c(0x2a5),'headers':{'Accept':_0x46f09c(0x172),'Content-Type':_0x46f09c(0x400),'x-vendor-id':_0x11598a},'body':JSON[_0x46f09c(0x9a0)]({'model':_0x216f25[_0x46f09c(0x4e8)],'messages':_0x2b9916,'max_completion_tokens':_0x216f25[_0x46f09c(0x42a)],'temperature':_0x216f25[_0x46f09c(0x478)],'tools':_0x216f25['tools'],'structured_output':_0x216f25[_0x46f09c(0x63d)],'metadata':{'threadId':_0x35f3e1,'jobId':_0xc85da6,'agentId':_0x430528,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x4316f0['ok']||!_0x4316f0[_0x46f09c(0x993)])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x21b5ab=_0x4316f0['body']['getReader'](),_0x59bd69=new TextDecoder();let _0x1da136=0x0,_0x4f82ef=0x0,_0x3b9c3a='';for(;;){const {value:_0xee5955,done:_0x3aa36d}=await _0x21b5ab[_0x46f09c(0x779)]();if(_0x3aa36d)break;const _0x317fae=_0x59bd69[_0x46f09c(0x882)](_0xee5955,{'stream':!0x0});if(_0x46f09c(0xaab)===_0x317fae)break;const _0x410175=_0x568c78(_0x317fae);for(const _0xc5892e of _0x410175)_0xc5892e[_0x46f09c(0x52b)]&&_0xc5892e[_0x46f09c(0x52b)][0x0]&&(_0x3b9c3a+=_0xc5892e[_0x46f09c(0x52b)][0x0][_0x46f09c(0x9fc)][_0x46f09c(0x88a)],_0x1da136+=_0xc5892e[_0x46f09c(0x1a6)]?.['input_tokens']??0x0,_0x4f82ef+=_0xc5892e[_0x46f09c(0x1a6)]?.[_0x46f09c(0x9a9)]??0x0,_0x540367&&(_0x540367['internalContext']={..._0x540367['internalContext'],..._0xc5892e[_0x46f09c(0x781)]}),_0x19358d[_0x46f09c(0x986)]({'output':_0xc5892e[_0x46f09c(0x52b)][0x0]['delta']['content'],'type':_0x46f09c(0x7c1)}),await _0x16c57a[_0x46f09c(0x73f)](0x1));}_0x540367&&(_0x540367[_0x46f09c(0x19d)]=(_0x540367[_0x46f09c(0x19d)]??0x0)+_0x4f82ef,_0x540367[_0x46f09c(0x778)]=(_0x540367[_0x46f09c(0x778)]??0x0)+_0x1da136,_0x216f25[_0x46f09c(0x7d5)]&&(_0x540367['internalContext']||(_0x540367[_0x46f09c(0x3fc)]={}),_0x540367[_0x46f09c(0x3fc)][_0x216f25[_0x46f09c(0x7d5)]]=_0x3b9c3a)),_0x19358d[_0x46f09c(0x986)]({'output':'\x0a\x0a','type':_0x46f09c(0x7c1)}),await _0x16c57a[_0x46f09c(0x73f)](0x1),_0x3950ef=_0x46f09c(0x607);}else{const _0x3e06a1=fetch(_0x3dbf37[_0x46f09c(0x4a4)]+_0x46f09c(0x805)+_0x216f25['workflowId']+_0x46f09c(0x3d9),{'method':_0x46f09c(0x2a5),'headers':{'Content-Type':_0x46f09c(0x400),'x-vendor-id':_0x11598a},'body':JSON['stringify']({'model':_0x216f25[_0x46f09c(0x4e8)],'messages':_0x2b9916,'max_completion_tokens':_0x216f25[_0x46f09c(0x42a)],'temperature':_0x216f25['temperature'],'tools':_0x216f25['tools'],'structured_output':_0x216f25['grammar'],'metadata':{'threadId':_0x35f3e1,'jobId':_0xc85da6,'agentId':_0x430528,'context':{}}})});if(_0x216f25[_0x46f09c(0x537)])return _0x46f09c(0x607);const _0x1edc00=await _0x3e06a1,_0x7b11e7=await _0x1edc00[_0x46f09c(0x736)]();_0x3950ef=_0x7b11e7[_0x46f09c(0x52b)][0x0][_0x46f09c(0x356)]['content'],_0x540367&&(_0x540367[_0x46f09c(0x3fc)]={..._0x540367[_0x46f09c(0x3fc)],..._0x7b11e7[_0x46f09c(0x781)]},_0x540367['outputTokens']=(_0x540367[_0x46f09c(0x19d)]??0x0)+_0x7b11e7[_0x46f09c(0x1a6)][_0x46f09c(0x522)],_0x540367[_0x46f09c(0x778)]=(_0x540367[_0x46f09c(0x778)]??0x0)+_0x7b11e7[_0x46f09c(0x1a6)]['prompt_tokens'],_0x216f25[_0x46f09c(0x7d5)]&&(_0x540367[_0x46f09c(0x3fc)]||(_0x540367[_0x46f09c(0x3fc)]={}),_0x540367[_0x46f09c(0x3fc)][_0x216f25[_0x46f09c(0x7d5)]]=_0x3950ef));}if(_0x46f09c(0x89c)!=typeof _0x3950ef)throw new Error(_0x46f09c(0x217));return _0xc85da6&&_0x430528&&_0x35f3e1&&await _0x987f7f[_0x46f09c(0x6ab)]({'jobType':_0x4e3472[_0x46f09c(0x5f4)],'type':_0x1dce9f[_0x46f09c(0x4f2)],'jobId':_0xc85da6,'blockId':_0x46f09c(0x390),'agentId':_0x430528,'threadId':_0x35f3e1,'traceLevel':_0xbaa178[_0x46f09c(0x856)],'startTime':_0x27df0d,'timestamp':Date[_0x46f09c(0x653)](),'status':_0x46f09c(0x2a9),'workflowName':_0x216f25[_0x46f09c(0x3dd)],'prompt':_0x173003[_0x46f09c(0x7c1)],'result':_0x3950ef,'inputTokens':0x0,'outputTokens':0x0}),_0x3950ef;}catch(_0x23de5f){if(console[_0x46f09c(0x3c9)](_0x23de5f),_0xc85da6&&_0x430528&&_0x35f3e1&&await _0x987f7f[_0x46f09c(0x6ab)]({'jobType':_0x4e3472[_0x46f09c(0x5f4)],'type':_0x1dce9f[_0x46f09c(0x4f2)],'jobId':_0xc85da6,'blockId':_0x46f09c(0x390),'agentId':_0x430528,'threadId':_0x35f3e1,'traceLevel':_0xbaa178[_0x46f09c(0x856)],'startTime':_0x27df0d,'timestamp':Date[_0x46f09c(0x653)](),'status':'error','errorDetails':_0x27947a(_0x23de5f),'workflowName':_0x216f25['name'],'prompt':_0x173003?.[_0x46f09c(0x7c1)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x23de5f instanceof Error)throw _0x23de5f;throw new Error('Unknown\x20error\x20occurred\x20while\x20executing\x20workflow');}}async function _0x9045b3(_0x5906f9,_0x33f839,_0x2eab62,_0x3cb813,_0xd2e3ee){const _0x357b5c=_0x29fc43;return await _0x987f7f[_0x357b5c(0x6ab)]({'jobType':_0x4e3472[_0x357b5c(0x5dc)],'type':_0xd25f17[_0x357b5c(0x750)],'jobId':_0x5906f9,'agentId':_0x33f839,'threadId':_0x2eab62,'traceLevel':_0xbaa178[_0x357b5c(0x856)],'startTime':Date['now'](),'timestamp':Date[_0x357b5c(0x653)](),'status':_0x357b5c(0x2a9),'function':_0x1dce9f[_0x357b5c(0x7b2)],'params':{},'functionDescription':_0x357b5c(0xa8d)}),{'description':_0x357b5c(0xa8d),'params':{},'callback':async()=>_0x385da7(_0xd2e3ee,_0x3cb813,_0x5906f9,_0x33f839,_0x2eab62)};}async function _0x385da7(_0x2bde52,_0x2d77e4,_0x17d716,_0x473ef9,_0x20f530){const _0x3491d9=_0x29fc43,_0x471239=Date[_0x3491d9(0x653)]();let _0x18271c=_0x2bde52['name'][_0x3491d9(0x9fb)](/[^a-zA-Z]/g,'');_0x18271c[_0x3491d9(0xa8b)](_0x3491d9(0xa06))&&(_0x18271c=_0x18271c[_0x3491d9(0x9fb)]('getQuestion',''));const _0x5dd3f9='question-'+_0x18271c;let _0x3b6394=0x0;_0x2d77e4&&(_0x3b6394=parseInt(_0x2d77e4[_0x3491d9(0x3fc)]?.[_0x5dd3f9]??'0'));const _0x59438f=_0x2bde52[_0x3491d9(0x205)]||[];if(_0x3b6394>=_0x59438f['length'])return JSON[_0x3491d9(0x9a0)]({'error':'No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form'});const _0xc22c2f=_0x59438f[_0x3b6394];return _0x17d716&&_0x473ef9&&_0x20f530&&await _0x987f7f['trace']({'jobType':_0x4e3472[_0x3491d9(0x5f4)],'type':_0x1dce9f['FormGetQuestion'],'jobId':_0x17d716,'agentId':_0x473ef9,'threadId':_0x20f530,'blockId':_0x3491d9(0x35a),'traceLevel':_0xbaa178[_0x3491d9(0x856)],'startTime':_0x471239,'timestamp':Date[_0x3491d9(0x653)](),'status':_0x3491d9(0x2a9),'question':_0xc22c2f[_0x3491d9(0x370)],'currentQuestionIndex':_0x3b6394,'questions':_0x59438f[_0x3491d9(0x170)](_0x953f20=>_0x953f20['question'])}),JSON[_0x3491d9(0x9a0)]({'id':_0xc22c2f['id'],'question':_0xc22c2f[_0x3491d9(0x370)],'validation':_0xc22c2f[_0x3491d9(0x3af)],'required':_0xc22c2f['required'],'format':_0xc22c2f[_0x3491d9(0x710)],'action':_0x3491d9(0x202)});}async function _0x692aa2(_0x1d0cd1,_0x3ad8fd,_0x4acfae,_0x46cb0e,_0x2b3f0f){const _0x774f39=_0x29fc43;return await _0x987f7f['trace']({'jobType':_0x4e3472[_0x774f39(0x5dc)],'type':_0xd25f17[_0x774f39(0x750)],'jobId':_0x1d0cd1,'agentId':_0x3ad8fd,'threadId':_0x4acfae,'traceLevel':_0xbaa178[_0x774f39(0x856)],'startTime':Date[_0x774f39(0x653)](),'timestamp':Date['now'](),'status':_0x774f39(0x2a9),'function':_0x1dce9f[_0x774f39(0x445)],'params':{},'functionDescription':_0x774f39(0x610)}),{'description':_0x774f39(0x610),'params':{'id':{'type':_0x47b47a[_0x774f39(0x6f8)][_0x774f39(0x1d2)]},'answer':{'type':_0x47b47a[_0x774f39(0x6f8)][_0x774f39(0x1d2)]}},'callback':async _0x42935e=>_0x1f9d46(_0x2b3f0f,_0x42935e,_0x46cb0e,_0x1d0cd1,_0x3ad8fd,_0x4acfae)};}async function _0x1f9d46(_0x1b6a61,_0x274be6,_0x289288,_0x36f1e8,_0x5704a2,_0x1560d0){const _0x319d2d=_0x29fc43,_0x2ccefd=Date[_0x319d2d(0x653)]();let _0x1947dd=_0x1b6a61[_0x319d2d(0x3dd)][_0x319d2d(0x9fb)](/[^a-zA-Z]/g,'');_0x1947dd[_0x319d2d(0xa8b)]('setAnswer')&&(_0x1947dd=_0x1947dd[_0x319d2d(0x9fb)]('setAnswer',''));const _0x1aa6a4=_0x319d2d(0x1b6)+_0x1947dd,_0x38b568=_0x1b6a61[_0x319d2d(0x205)]||[];let _0x55be74=0x0;if(_0x289288&&(_0x55be74=parseInt(_0x289288[_0x319d2d(0x3fc)]?.[_0x1aa6a4]??'0')),!_0x274be6?.['id']||'string'!=typeof _0x274be6['id'])return JSON['stringify']({'error':_0x319d2d(0x5cc)});const _0x74b690=_0x38b568[_0x319d2d(0x5a5)](_0xb4d17e=>_0xb4d17e['id']===_0x274be6['id']);if(!_0x74b690)return JSON[_0x319d2d(0x9a0)]({'error':_0x319d2d(0x14e)});if(!_0x274be6?.[_0x319d2d(0x5df)]||_0x319d2d(0x89c)!=typeof _0x274be6[_0x319d2d(0x5df)])return JSON[_0x319d2d(0x9a0)]({'error':'Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string'});if(_0x289288){_0x289288[_0x319d2d(0x3fc)]||(_0x289288[_0x319d2d(0x3fc)]={});const _0x3dadfe='answer-'+_0x1947dd,_0x32f491=_0x3dadfe+'-'+_0x274be6['id'];_0x289288[_0x319d2d(0x3fc)][_0x32f491]=_0x274be6[_0x319d2d(0x5df)];let _0x1fbe6b=!0x1;for(let _0x2015c4=0x0;_0x2015c4<_0x38b568[_0x319d2d(0x4c5)];_0x2015c4++){const _0x24c6d7=_0x289288['internalContext']?.[_0x3dadfe+'-'+_0x38b568[_0x2015c4]['id']];if(_0x2015c4!==_0x55be74&&!_0x24c6d7){_0x55be74=_0x2015c4,_0x1fbe6b=!0x0;break;}}_0x1fbe6b||_0x55be74++,_0x289288['internalContext'][_0x1aa6a4]=_0x55be74[_0x319d2d(0x570)]();}return _0x36f1e8&&_0x5704a2&&_0x1560d0&&await _0x987f7f['trace']({'jobType':_0x4e3472['Skill'],'type':_0x1dce9f[_0x319d2d(0x445)],'jobId':_0x36f1e8,'agentId':_0x5704a2,'threadId':_0x1560d0,'blockId':_0x319d2d(0xacb),'traceLevel':_0xbaa178[_0x319d2d(0x856)],'startTime':_0x2ccefd,'timestamp':Date[_0x319d2d(0x653)](),'status':'success','question':_0x74b690[_0x319d2d(0x370)],'answer':_0x274be6[_0x319d2d(0x5df)],'currentQuestionIndex':_0x55be74,'questions':_0x38b568[_0x319d2d(0x170)](_0x1475e8=>_0x1475e8[_0x319d2d(0x370)])}),JSON[_0x319d2d(0x9a0)]({'success':_0x319d2d(0x455)});}async function _0x128682(_0x5ad9f8,_0x133f8a,_0x58682f,_0x46c0dd,_0x1e8b02){const _0x815573=_0x29fc43,_0x236149='Submit\x20the\x20form.';return await _0x987f7f[_0x815573(0x6ab)]({'jobType':_0x4e3472[_0x815573(0x5dc)],'type':_0xd25f17[_0x815573(0x750)],'jobId':_0x5ad9f8,'agentId':_0x133f8a,'threadId':_0x58682f,'traceLevel':_0xbaa178[_0x815573(0x856)],'startTime':Date[_0x815573(0x653)](),'timestamp':Date[_0x815573(0x653)](),'status':'success','function':_0x1dce9f[_0x815573(0x5e7)],'params':{},'functionDescription':_0x236149}),{'description':_0x236149,'params':{},'callback':async()=>_0x30c2bb(_0x1e8b02,_0x46c0dd,_0x5ad9f8,_0x133f8a,_0x58682f)};}async function _0x30c2bb(_0x8a6e68,_0x1f9d02,_0x18a37d,_0x48f2e5,_0x4d3b0f){const _0x19ad3c=_0x29fc43;let _0xe2dc9=_0x8a6e68['name'][_0x19ad3c(0x9fb)](/[^a-zA-Z]/g,'');_0xe2dc9[_0x19ad3c(0xa8b)](_0x19ad3c(0x83b))&&(_0xe2dc9=_0xe2dc9[_0x19ad3c(0x9fb)](_0x19ad3c(0x83b),''));const _0x372400=_0x8a6e68[_0x19ad3c(0x205)]||[],_0x4410a3={};if(!_0x1f9d02)return JSON[_0x19ad3c(0x9a0)]({'error':_0x19ad3c(0x6d7)});for(let _0x2ad53d=0x0;_0x2ad53d<_0x372400[_0x19ad3c(0x4c5)];_0x2ad53d++){const _0x1f9137=_0x1f9d02[_0x19ad3c(0x3fc)]?.[_0x19ad3c(0x20b)+_0xe2dc9+'-'+_0x372400[_0x2ad53d]['id']];if(_0x372400[_0x2ad53d]['required']&&!_0x1f9137)return JSON[_0x19ad3c(0x9a0)]({'error':_0x19ad3c(0x6d7)});_0x4410a3[_0x372400[_0x2ad53d]['id']]=_0x1f9137;}return _0x1f9d02&&_0x8a6e68[_0x19ad3c(0x7d5)]&&(_0x1f9d02[_0x19ad3c(0x3fc)]||(_0x1f9d02[_0x19ad3c(0x3fc)]={}),_0x1f9d02[_0x19ad3c(0x3fc)][_0x8a6e68[_0x19ad3c(0x7d5)]]=JSON[_0x19ad3c(0x9a0)](_0x4410a3)),_0x18a37d&&_0x48f2e5&&_0x4d3b0f&&await _0x987f7f[_0x19ad3c(0x6ab)]({'jobType':_0x4e3472[_0x19ad3c(0x5f4)],'type':_0x1dce9f[_0x19ad3c(0x5e7)],'jobId':_0x18a37d,'agentId':_0x48f2e5,'threadId':_0x4d3b0f,'blockId':_0x19ad3c(0x921),'traceLevel':_0xbaa178[_0x19ad3c(0x856)],'startTime':Date[_0x19ad3c(0x653)](),'timestamp':Date[_0x19ad3c(0x653)](),'status':_0x19ad3c(0x2a9),'answers':_0x4410a3}),JSON['stringify']({'success':!0x0});}async function _0x35e5e7(_0x49e474,_0x3c950b,_0x14b239,_0x2c0524,_0x2b29aa,_0x590f9a,_0x5ed531){const _0x1380a2=_0x29fc43,_0x1612c9=new Map();for(const _0x2659b4 of _0x2b29aa)_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a[_0x1380a2(0x7f0)][_0x1380a2(0x3c4)]||_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a[_0x1380a2(0x7f0)]['DataCollection']?_0x1612c9[_0x1380a2(0x355)](_0x1380a2(0x2ea)+_0x2659b4[_0x1380a2(0x3dd)][_0x1380a2(0x9fb)](/[^a-zA-Z]/g,''),await _0x2573b4(_0x49e474,_0x3c950b,_0x14b239,_0x2c0524,_0x2659b4)):_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a[_0x1380a2(0x7f0)]['AgentSkill']||_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a[_0x1380a2(0x7f0)][_0x1380a2(0x48a)]?_0x1612c9[_0x1380a2(0x355)](_0x1380a2(0x734)+_0x2659b4[_0x1380a2(0x3dd)]['replace'](/[^a-zA-Z]/g,''),await _0xd06af9(_0x49e474,_0x3c950b,_0x14b239,_0x2c0524,_0x2659b4,_0x590f9a,_0x5ed531)):_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a[_0x1380a2(0x7f0)][_0x1380a2(0xabd)]?_0x1612c9[_0x1380a2(0x355)]('executeWorkflow'+_0x2659b4[_0x1380a2(0x3dd)]['replace'](/[^a-zA-Z]/g,''),await _0xdb64c9(_0x49e474,_0x3c950b,_0x14b239,_0x2c0524,_0x2659b4,_0x5ed531)):_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a[_0x1380a2(0x7f0)][_0x1380a2(0x733)]?_0x1612c9['set'](_0x2659b4[_0x1380a2(0x3dd)][_0x1380a2(0x9fb)](/[^a-zA-Z]/g,''),await _0x4b431c(_0x49e474,_0x3c950b,_0x14b239[_0x1380a2(0x1ca)],_0x2c0524,_0x2659b4)):_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a['GenerativeAIInferenceToolType']['FormSkillGetQuestion']?_0x1612c9[_0x1380a2(0x355)](_0x1380a2(0xa06)+_0x2659b4[_0x1380a2(0x3dd)][_0x1380a2(0x9fb)](/[^a-zA-Z]/g,''),await _0x9045b3(_0x49e474,_0x3c950b,_0x14b239[_0x1380a2(0x1ca)],_0x2c0524,_0x2659b4)):_0x2659b4[_0x1380a2(0xacf)]===_0x47b47a[_0x1380a2(0x7f0)][_0x1380a2(0x4aa)]?_0x1612c9['set']('setAnswer'+_0x2659b4['name']['replace'](/[^a-zA-Z]/g,''),await _0x692aa2(_0x49e474,_0x3c950b,_0x14b239['threadId'],_0x2c0524,_0x2659b4)):_0x2659b4['type']===_0x47b47a[_0x1380a2(0x7f0)][_0x1380a2(0x21a)]?_0x1612c9[_0x1380a2(0x355)](_0x1380a2(0x83b)+_0x2659b4[_0x1380a2(0x3dd)]['replace'](/[^a-zA-Z]/g,''),await _0x128682(_0x49e474,_0x3c950b,_0x14b239[_0x1380a2(0x1ca)],_0x2c0524,_0x2659b4)):_0x1612c9['set'](_0xf74e72(_0x2659b4),await _0x2ed04c(_0x49e474,_0x3c950b,_0x14b239,_0x2c0524,_0x2659b4,_0x590f9a));return _0x1612c9;}function _0xf74e72(_0x329010){const _0x3821ad=_0x29fc43;switch(_0x329010[_0x3821ad(0xacf)]){case _0x47b47a['GenerativeAIInferenceToolType'][_0x3821ad(0x3d5)]:return _0x3821ad(0x420);case _0x47b47a['GenerativeAIInferenceToolType'][_0x3821ad(0x28c)]:return'executeJavascriptCodeSnippet';case _0x47b47a[_0x3821ad(0x7f0)][_0x3821ad(0x1db)]:return _0x3821ad(0x1e2);case _0x47b47a[_0x3821ad(0x7f0)][_0x3821ad(0xa09)]:return'searchOnGoogle';case _0x47b47a['GenerativeAIInferenceToolType'][_0x3821ad(0x849)]:case _0x47b47a['GenerativeAIInferenceToolType']['WebScraperRaw']:return'fetchContentFromUrl';case _0x47b47a[_0x3821ad(0x7f0)]['WriteFile']:return _0x3821ad(0x8fc);}throw new Error('Unknown\x20skill\x20type');}async function _0x2ed04c(_0x524358,_0x1f6d32,_0x1e8152,_0x6afe90,_0x110563,_0x3c1aae){const _0x53a895=_0x29fc43;switch(_0x110563[_0x53a895(0xacf)]){case _0x47b47a['GenerativeAIInferenceToolType'][_0x53a895(0x3d5)]:return async function(_0x5757aa,_0x4d5278,_0x1932bf,_0x4df7e1,_0x102648){const _0x1c5a00=_0x53a895,_0x209086=_0x1c5a00(0xa3f),_0x1bf3f0={'query':{'type':_0x47b47a['PromptFunctionParamsType'][_0x1c5a00(0x1d2)]}};await _0x987f7f[_0x1c5a00(0x6ab)]({'jobType':_0x4e3472['JobContext'],'type':_0xd25f17[_0x1c5a00(0x750)],'jobId':_0x5757aa,'agentId':_0x4d5278,'threadId':_0x1932bf[_0x1c5a00(0x1ca)],'traceLevel':_0xbaa178['Info'],'startTime':Date[_0x1c5a00(0x653)](),'timestamp':Date[_0x1c5a00(0x653)](),'status':_0x1c5a00(0x2a9),'function':_0x1dce9f[_0x1c5a00(0x501)],'params':_0x1bf3f0,'functionDescription':_0x209086});const _0x2c9fbd=_0x1932bf[_0x1c5a00(0x117)],_0x220652=(await(0x0,_0x4a79c7[_0x1c5a00(0x79a)])((0x0,_0x4a79c7['doc'])(_0x9824f6['getFirestore'](),_0x1c5a00(0x559),_0x2c9fbd)))[_0x1c5a00(0x7d7)]();return _0x220652&&_0x220652['organizationId']||(console[_0x1c5a00(0x195)](new Date()+'\x20Fallback\x20model',_0x4df7e1['modelId'],_0x49f8a6['get'](_0x4df7e1[_0x1c5a00(0x4e8)])[_0x1c5a00(0xaba)]),_0x4df7e1['modelId']=_0x49f8a6['get'](_0x4df7e1[_0x1c5a00(0x4e8)])[_0x1c5a00(0xaba)]),{'description':_0x209086,'params':_0x1bf3f0,'callback':async _0x3e5404=>_0x260b55(_0x4df7e1,_0x102648,_0x3e5404,_0x5757aa,_0x4d5278,_0x1932bf[_0x1c5a00(0x1ca)])};}(_0x524358,_0x1f6d32,_0x1e8152,_0x110563,_0x3c1aae);case _0x47b47a['GenerativeAIInferenceToolType']['Code']:return async function(_0x5bf52f,_0x14ca56,_0x424b3c){const _0x1cd4de=_0x53a895,_0x583b40=_0x1cd4de(0x250),_0x238aa5={'code':{'type':_0x47b47a[_0x1cd4de(0x6f8)][_0x1cd4de(0x1d2)]}};return await _0x987f7f[_0x1cd4de(0x6ab)]({'jobType':_0x4e3472[_0x1cd4de(0x5dc)],'type':_0xd25f17[_0x1cd4de(0x750)],'jobId':_0x5bf52f,'agentId':_0x14ca56,'threadId':_0x424b3c,'traceLevel':_0xbaa178[_0x1cd4de(0x856)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x1dce9f[_0x1cd4de(0x490)],'params':_0x238aa5,'functionDescription':_0x583b40}),{'description':_0x583b40,'params':_0x238aa5,'callback':async _0x47b639=>_0x281747(_0x47b639,_0x5bf52f,_0x14ca56,_0x424b3c)};}(_0x524358,_0x1f6d32,_0x1e8152[_0x53a895(0x1ca)]);case _0x47b47a[_0x53a895(0x7f0)][_0x53a895(0x1db)]:return async function(_0x232b6a,_0x331864,_0x5d493a,_0x2573b5,_0x3297b7){const _0x17f85a=_0x53a895,_0x58ce8e=[',',';','\x09','|',':'],_0x40d561=['\x22','\x27'];let _0x244d0e='';if(_0x17f85a(0x128)===_0x2573b5[_0x17f85a(0x3fc)]?.[_0x17f85a(0x242)]&&_0x2573b5['internalContext']?.[_0x17f85a(0xaf9)]&&(_0x244d0e=_0x2573b5[_0x17f85a(0x3fc)]['file.content']),''===_0x244d0e)throw new Error(_0x17f85a(0x9ec));const _0xad49a9=_0x244d0e[_0x17f85a(0x388)]('\x0a')[0x0];let _0x4755f5=null,_0xfb409a=null,_0x49cbc4=0x0;for(const _0x294270 of _0x58ce8e){const _0x4d856c=(_0xad49a9[_0x17f85a(0x256)](new RegExp('\x5c'+_0x294270,'g'))||[])['length'];_0x4d856c>_0x49cbc4&&(_0x49cbc4=_0x4d856c,_0x4755f5=_0x294270);}_0x4755f5||(_0x4755f5=','),_0x49cbc4=0x0;for(const _0x428052 of _0x40d561){const _0x20ac28=(_0xad49a9[_0x17f85a(0x256)](new RegExp('\x5c'+_0x428052,'g'))||[])[_0x17f85a(0x4c5)];_0x20ac28>_0x49cbc4&&(_0x49cbc4=_0x20ac28,_0xfb409a=_0x428052);}_0xfb409a||(_0xfb409a='\x22');const _0x349648=_0x17f85a(0x303)+_0xad49a9[_0x17f85a(0x388)](_0x4755f5)[_0x17f85a(0x98d)](',\x20'),_0x43574c={'query':{'type':_0x47b47a[_0x17f85a(0x6f8)][_0x17f85a(0x1d2)]}};return await _0x987f7f[_0x17f85a(0x6ab)]({'jobType':_0x4e3472[_0x17f85a(0x5dc)],'type':_0xd25f17[_0x17f85a(0x750)],'jobId':_0x232b6a,'agentId':_0x331864,'threadId':_0x5d493a,'traceLevel':_0xbaa178[_0x17f85a(0x856)],'startTime':Date[_0x17f85a(0x653)](),'timestamp':Date[_0x17f85a(0x653)](),'status':_0x17f85a(0x2a9),'function':_0x1dce9f[_0x17f85a(0x1db)],'params':_0x43574c,'functionDescription':_0x349648}),{'description':_0x349648,'params':_0x43574c,'callback':async _0x3c5516=>{const _0xf6563b=_0x17f85a,_0xa453f9=Date[_0xf6563b(0x653)]();try{if(!_0x3297b7[_0xf6563b(0x80e)])throw new Error(_0xf6563b(0x8ab));if(_0xf6563b(0x89c)!=typeof _0x3c5516?.[_0xf6563b(0x966)])throw new Error(_0xf6563b(0x6c5));if(!_0x3c5516[_0xf6563b(0x966)]['includes'](_0xf6563b(0xa5d)))throw new Error(_0xf6563b(0x4ce));const _0x5133c7=await _0x3297b7['queryFileConnector'][_0xf6563b(0x26e)](_0x244d0e,_0x3c5516[_0xf6563b(0x966)],{'headers':!0x0,'quote':_0xfb409a,'separator':_0x4755f5});await _0x987f7f[_0xf6563b(0x6ab)]({'jobType':_0x4e3472['Skill'],'type':_0x1dce9f[_0xf6563b(0x1db)],'jobId':_0x232b6a,'agentId':_0x331864,'threadId':_0x5d493a,'blockId':_0xf6563b(0x2e6),'traceLevel':_0xbaa178['Info'],'startTime':_0xa453f9,'timestamp':Date[_0xf6563b(0x653)](),'status':'success','query':_0x3c5516['query'],'results':_0x5133c7[_0xf6563b(0x3b4)](0x0,0x3e8)});const _0x2d5bf0=JSON[_0xf6563b(0x763)](_0x5133c7);let _0x44fd06='';if(_0x2d5bf0[_0xf6563b(0x4c5)]>0x0){const _0x2b6d89=Object[_0xf6563b(0x5da)](_0x2d5bf0[0x0]);_0x44fd06=_0x2b6d89[_0xf6563b(0x170)](_0x2eeb1b=>'\x22'+_0x2eeb1b+'\x22')[_0xf6563b(0x98d)](',')+'\x0a';for(const _0x44468e of _0x2d5bf0)_0x44fd06+=_0x2b6d89[_0xf6563b(0x170)](_0x341b1e=>'\x22'+_0x44468e[_0x341b1e]+'\x22')[_0xf6563b(0x98d)](',')+'\x0a';}return _0x2573b5[_0xf6563b(0x3fc)]||(_0x2573b5['internalContext']={}),_0x2573b5[_0xf6563b(0x3fc)][_0xf6563b(0xaf9)]=_0x44fd06,_0x2573b5[_0xf6563b(0x3fc)][_0xf6563b(0x242)]=_0xf6563b(0x128),_0x5133c7['substring'](0x0,0x3e8);}catch(_0x3407e2){return console[_0xf6563b(0x3c9)](_0x3407e2),await _0x987f7f[_0xf6563b(0x6ab)]({'jobType':_0x4e3472['Skill'],'type':_0x1dce9f[_0xf6563b(0x1db)],'jobId':_0x232b6a,'blockId':'query-file','traceLevel':_0xbaa178['Info'],'startTime':_0xa453f9,'timestamp':Date[_0xf6563b(0x653)](),'status':_0xf6563b(0x3c9),'errorDetails':_0x27947a(_0x3407e2),'agentId':_0x331864,'threadId':_0x5d493a,'query':_0x3c5516?.[_0xf6563b(0x966)]??'','results':_0xf6563b(0xb1d)}),_0x3407e2 instanceof Error?_0x3407e2[_0xf6563b(0x356)]:_0xf6563b(0xad3);}}};}(_0x524358,_0x1f6d32,_0x1e8152[_0x53a895(0x1ca)],_0x6afe90,_0x3c1aae);case _0x47b47a[_0x53a895(0x7f0)]['Search']:return async function(_0x240e87,_0x1775d2,_0x2378d6,_0x1badc8){const _0x522c90=_0x53a895,_0x1591e6=_0x522c90(0x20c),_0x2c486f={'query':{'type':_0x47b47a['PromptFunctionParamsType'][_0x522c90(0x1d2)]}};return await _0x987f7f[_0x522c90(0x6ab)]({'jobType':_0x4e3472[_0x522c90(0x5dc)],'type':_0xd25f17[_0x522c90(0x750)],'jobId':_0x240e87,'agentId':_0x1775d2,'threadId':_0x2378d6,'traceLevel':_0xbaa178[_0x522c90(0x856)],'startTime':Date[_0x522c90(0x653)](),'timestamp':Date['now'](),'status':_0x522c90(0x2a9),'function':_0x1dce9f[_0x522c90(0x8b4)],'params':_0x2c486f,'functionDescription':_0x1591e6}),{'description':_0x1591e6,'params':_0x2c486f,'callback':async _0x53e20b=>_0x4d94fe(_0x1badc8,_0x53e20b,_0x240e87,_0x1775d2,_0x2378d6)};}(_0x524358,_0x1f6d32,_0x1e8152[_0x53a895(0x1ca)],_0x3c1aae);case _0x47b47a[_0x53a895(0x7f0)][_0x53a895(0x849)]:return _0x4f9cd8(_0x524358,_0x1f6d32,_0x1e8152[_0x53a895(0x1ca)]);case _0x47b47a['GenerativeAIInferenceToolType'][_0x53a895(0x9ac)]:return _0x4f9cd8(_0x524358,_0x1f6d32,_0x1e8152[_0x53a895(0x1ca)],!0x1);case _0x47b47a[_0x53a895(0x7f0)][_0x53a895(0x358)]:return async function(_0x5d8b12,_0x4a6f31,_0x5abf19,_0x1f533a){const _0x4108a5=_0x53a895,_0x61e7b1='Write\x20text\x20data\x20to\x20a\x20file.',_0x932a03={'text':{'type':_0x47b47a[_0x4108a5(0x6f8)][_0x4108a5(0x1d2)]}};return await _0x987f7f[_0x4108a5(0x6ab)]({'jobType':_0x4e3472[_0x4108a5(0x5dc)],'type':_0xd25f17[_0x4108a5(0x750)],'jobId':_0x5d8b12,'agentId':_0x4a6f31,'threadId':_0x5abf19,'traceLevel':_0xbaa178[_0x4108a5(0x856)],'startTime':Date[_0x4108a5(0x653)](),'timestamp':Date['now'](),'status':'success','function':_0x1dce9f[_0x4108a5(0x358)],'params':_0x932a03,'functionDescription':_0x61e7b1}),{'description':_0x61e7b1,'params':_0x932a03,'callback':async _0x1fd816=>{const _0x51715f=_0x4108a5,_0x37e0f5=Date['now']();try{if(_0x51715f(0x89c)!=typeof _0x1fd816?.[_0x51715f(0x637)])throw new Error(_0x51715f(0x59d));return await _0x987f7f[_0x51715f(0x6ab)]({'jobType':_0x4e3472['Skill'],'type':_0x1dce9f['WriteFile'],'jobId':_0x5d8b12,'agentId':_0x4a6f31,'threadId':_0x5abf19,'blockId':'write-file','traceLevel':_0xbaa178[_0x51715f(0x856)],'startTime':_0x37e0f5,'timestamp':Date[_0x51715f(0x653)](),'status':_0x51715f(0x2a9),'content':_0x1fd816[_0x51715f(0x637)]}),_0x1f533a[_0x51715f(0x3fc)]||(_0x1f533a[_0x51715f(0x3fc)]={}),_0x1f533a[_0x51715f(0x3fc)][_0x51715f(0xaf9)]=_0x1fd816['text'],_0x1f533a[_0x51715f(0x3fc)][_0x51715f(0x242)]=_0x51715f(0x45d),_0x51715f(0x968);}catch(_0x19735c){return console['error'](_0x19735c),await _0x987f7f[_0x51715f(0x6ab)]({'jobType':_0x4e3472[_0x51715f(0x5f4)],'type':_0x1dce9f['WriteFile'],'jobId':_0x5d8b12,'blockId':_0x51715f(0x3ce),'traceLevel':_0xbaa178[_0x51715f(0x856)],'startTime':_0x37e0f5,'timestamp':Date['now'](),'status':_0x51715f(0x3c9),'errorDetails':_0x27947a(_0x19735c),'agentId':_0x4a6f31,'threadId':_0x5abf19,'content':_0x51715f(0x89c)==typeof _0x1fd816?.[_0x51715f(0x637)]?_0x1fd816[_0x51715f(0x637)]:''}),_0x19735c instanceof Error?_0x19735c[_0x51715f(0x356)]:_0x51715f(0x16b);}}};}(_0x524358,_0x1f6d32,_0x1e8152[_0x53a895(0x1ca)],_0x6afe90);}throw new Error('Unknown\x20skill\x20type');}function _0x27947a(_0x19456a){const _0x1c3367=_0x29fc43;try{return JSON[_0x1c3367(0x9a0)](_0x19456a);}catch(_0x1c9bb0){return _0x19456a instanceof Error?_0x19456a[_0x1c3367(0x570)]():'Error\x20fetching\x20context';}}async function _0x62a693(_0x19836f,_0x1b230a,_0x529554){const _0x353ca5=_0x29fc43,_0x4f3d6a=_0x1b230a[_0x353ca5(0x5bf)]??(0x0,_0x3adee5['v4'])(),_0x3adfd8={'type':_0x353ca5(0x7c1),'context':[],'internalContext':_0x1b230a['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x5a7aa4=_0x1b230a[_0x353ca5(0x117)],_0x26f74c=(await(0x0,_0x4a79c7['getDoc'])((0x0,_0x4a79c7[_0x353ca5(0x463)])(_0x9824f6['getFirestore'](),_0x353ca5(0x559),_0x5a7aa4)))[_0x353ca5(0x7d7)]();_0x26f74c&&_0x26f74c[_0x353ca5(0x1bb)]||(console['log'](new Date()+_0x353ca5(0x65b),_0x1b230a[_0x353ca5(0x614)],_0x49f8a6[_0x353ca5(0x2a2)](_0x1b230a[_0x353ca5(0x614)])[_0x353ca5(0xaba)]),_0x1b230a[_0x353ca5(0x614)]=_0x49f8a6[_0x353ca5(0x2a2)](_0x1b230a[_0x353ca5(0x614)])[_0x353ca5(0xaba)]);const _0x1ab290=await async function(_0x3512a8,_0x401ab4,_0x52db29,_0x34c269,_0x5044a7){const _0xa57b9a=_0x353ca5,_0x496ad1=_0x5044a7[_0xa57b9a(0x577)][_0xa57b9a(0x5a5)](_0x3246b1=>_0x3246b1['id']===_0x52db29[_0xa57b9a(0x614)]);if(!_0x496ad1)throw new Error('Model\x20not\x20found');const _0x39ff8c=_0x5044a7[_0xa57b9a(0x80f)]['find'](_0x20406a=>_0x20406a[_0xa57b9a(0xafa)]()===_0x496ad1[_0xa57b9a(0x49c)]);if(!_0x39ff8c)throw new Error(_0xa57b9a(0xa9c));const _0x3afa22=await _0x35e5e7(_0x3512a8,_0x401ab4,_0x52db29,_0x34c269,_0x52db29[_0xa57b9a(0x2a6)]??[],_0x5044a7);return _0x39ff8c[_0xa57b9a(0xa20)]({'type':'prompt','prompt':_0x52db29['prompt'],'instructions':_0x52db29[_0xa57b9a(0x9ca)],'reasoning':_0x52db29[_0xa57b9a(0x66d)],'grammar':_0x52db29['grammar'],'temperature':_0x52db29[_0xa57b9a(0x478)],'maxTokens':_0x52db29['maxTokens'],'history':_0x52db29[_0xa57b9a(0x771)],'functions':_0x3afa22,'threadId':_0x52db29[_0xa57b9a(0x1ca)]},{'model':_0x496ad1,'sequences':Array[_0xa57b9a(0x8f7)](_0x3afa22['keys']())[_0xa57b9a(0x21d)](_0x274009=>_0x274009[_0xa57b9a(0xa8b)](_0xa57b9a(0x734)))?0x2:0x1});}(_0x19836f,_0x4f3d6a,_0x1b230a,_0x3adfd8,_0x529554);return _0x987f7f[_0x353ca5(0x6f2)](_0x19836f,_0x1b230a[_0x353ca5(0x614)],_0x1ab290[_0x353ca5(0x778)]??0x0,_0x1ab290[_0x353ca5(0x19d)]??0x0),console['log'](new Date()+_0x353ca5(0x822),_0x1b230a['model'],_0x1ab290[_0x353ca5(0x778)]??0x0,_0x1ab290[_0x353ca5(0x19d)]??0x0),{'type':_0x353ca5(0x7c1),'output':_0x1ab290[_0x353ca5(0x2b0)],'context':_0x3adfd8[_0x353ca5(0x781)],'internalContext':_0x3adfd8[_0x353ca5(0x3fc)]??{},'inputTokens':_0x1ab290['inputTokens']??0x0,'outputTokens':_0x1ab290[_0x353ca5(0x19d)]??0x0};}async function _0x26880a(_0x462f5a,_0x2f76cb){const _0x44cb22=_0x29fc43,_0xf864fb=await async function(_0x41aa6a,_0x463943){const _0x59c3b2=a0_0x424d,_0x5f5b1c=_0x463943['models'][_0x59c3b2(0x5a5)](_0x4bea8b=>_0x4bea8b['id']===_0x41aa6a[_0x59c3b2(0x614)]);if(!_0x5f5b1c)throw new Error(_0x59c3b2(0x63e));const _0x47580a=_0x463943['generativeAIWorkerConnectors'][_0x59c3b2(0x5a5)](_0x9ca9d0=>_0x9ca9d0[_0x59c3b2(0xafa)]()===_0x5f5b1c[_0x59c3b2(0x49c)]);if(!_0x47580a)throw new Error('No\x20connector\x20found\x20for\x20model');return _0x47580a[_0x59c3b2(0xa20)]({'type':_0x59c3b2(0x7c1),'prompt':_0x41aa6a[_0x59c3b2(0x637)],'threadId':_0x41aa6a[_0x59c3b2(0x1ca)]},{'model':_0x5f5b1c,'sequences':0x1});}(_0x462f5a,_0x2f76cb);return{'type':_0x44cb22(0x7c1),'output':_0xf864fb[_0x44cb22(0x2b0)],'inputTokens':_0xf864fb[_0x44cb22(0x778)]??0x0,'outputTokens':_0xf864fb[_0x44cb22(0x19d)]??0x0};}async function _0x256650(_0x160d42,_0x94e817){const _0x188a00=_0x29fc43;let _0x2c2827='',_0x8a955d={'type':_0x188a00(0x7c1),'internalContext':_0x160d42[_0x188a00(0x3fc)]??{}};switch(_0x160d42[_0x188a00(0x530)][_0x188a00(0xacf)]){case _0x47b47a[_0x188a00(0x7f0)][_0x188a00(0x48a)]:case _0x47b47a[_0x188a00(0x7f0)][_0x188a00(0x2d0)]:_0x2c2827=await _0x5c1c0f(_0x160d42[_0x188a00(0x117)],_0x160d42[_0x188a00(0x530)],_0x94e817,_0x160d42[_0x188a00(0x56b)],_0x8a955d);break;case _0x47b47a[_0x188a00(0x7f0)]['AISearch']:_0x2c2827=await _0x260b55(_0x160d42[_0x188a00(0x530)],_0x94e817,_0x160d42[_0x188a00(0x56b)]);break;case _0x47b47a[_0x188a00(0x7f0)][_0x188a00(0x28c)]:_0x2c2827=await _0x281747(_0x160d42['arguments']);break;case _0x47b47a[_0x188a00(0x7f0)][_0x188a00(0x94b)]:case _0x47b47a['GenerativeAIInferenceToolType'][_0x188a00(0x3c4)]:_0x2c2827=await _0x48b164(_0x160d42[_0x188a00(0x117)],_0x160d42[_0x188a00(0x530)],_0x160d42[_0x188a00(0x56b)],_0x8a955d);break;case _0x47b47a['GenerativeAIInferenceToolType'][_0x188a00(0x733)]:_0x2c2827=await _0x287fe9(_0x160d42[_0x188a00(0x530)],_0x160d42[_0x188a00(0x56b)],_0x8a955d);break;case _0x47b47a[_0x188a00(0x7f0)]['WebScraper']:_0x2c2827=await _0x17eb00(_0x160d42[_0x188a00(0x56b)]);break;case _0x47b47a[_0x188a00(0x7f0)]['WebScraperRaw']:_0x2c2827=await _0x17eb00(_0x160d42[_0x188a00(0x56b)],!0x1);break;case _0x47b47a[_0x188a00(0x7f0)]['Search']:_0x2c2827=await _0x4d94fe(_0x94e817,_0x160d42[_0x188a00(0x56b)]);break;case _0x47b47a[_0x188a00(0x7f0)]['FormSkillGetQuestion']:_0x2c2827=await _0x385da7(_0x160d42['tool'],_0x8a955d);break;case _0x47b47a['GenerativeAIInferenceToolType']['FormSkillSetAnswer']:_0x2c2827=await _0x1f9d46(_0x160d42[_0x188a00(0x530)],_0x160d42[_0x188a00(0x56b)],_0x8a955d);break;case _0x47b47a[_0x188a00(0x7f0)][_0x188a00(0x21a)]:_0x2c2827=await _0x30c2bb(_0x160d42['tool'],_0x8a955d);break;case _0x47b47a[_0x188a00(0x7f0)][_0x188a00(0xabd)]:_0x160d42[_0x188a00(0x530)][_0x188a00(0x537)]?_0x2c2827=await _0x2c8bdf(_0x160d42[_0x188a00(0x117)],_0x160d42[_0x188a00(0x530)],_0x160d42['arguments'],_0x8a955d):(_0x2c8bdf(_0x160d42[_0x188a00(0x117)],_0x160d42[_0x188a00(0x530)],_0x160d42[_0x188a00(0x56b)],_0x8a955d),_0x2c2827=_0x188a00(0x607));}return{'type':'tool-call','output':_0x2c2827,'internalContext':_0x8a955d[_0x188a00(0x3fc)]??{}};}async function*_0x3c24aa(_0x3ff7f3,_0x4ea32c,_0xf7e1ee){const _0x2bdcdb=_0x29fc43,_0x7b2235=_0x4ea32c[_0x2bdcdb(0x5bf)]??(0x0,_0x3adee5['v4'])(),_0xc34367={'type':_0x2bdcdb(0x7c1),'context':[],'internalContext':_0x4ea32c['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x42a36d=new _0x486888(),_0x58941a=_0x4ea32c[_0x2bdcdb(0x117)],_0x52add1=(await(0x0,_0x4a79c7[_0x2bdcdb(0x79a)])((0x0,_0x4a79c7[_0x2bdcdb(0x463)])(_0x9824f6['getFirestore'](),_0x2bdcdb(0x559),_0x58941a)))[_0x2bdcdb(0x7d7)]();_0x52add1&&_0x52add1[_0x2bdcdb(0x1bb)]||(console[_0x2bdcdb(0x195)](new Date()+_0x2bdcdb(0x65b),_0x4ea32c['model'],_0x49f8a6[_0x2bdcdb(0x2a2)](_0x4ea32c[_0x2bdcdb(0x614)])[_0x2bdcdb(0xaba)]),_0x4ea32c[_0x2bdcdb(0x614)]=_0x49f8a6[_0x2bdcdb(0x2a2)](_0x4ea32c[_0x2bdcdb(0x614)])['fallbackModel']),async function(_0x59ebf6,_0x568978,_0x215717,_0x596f9a,_0x487045,_0xf05807){const _0x403356=_0x2bdcdb,_0x47b4c2=_0xf05807['models'][_0x403356(0x5a5)](_0x39cad5=>_0x39cad5['id']===_0x215717[_0x403356(0x614)]);if(!_0x47b4c2)throw new Error('Model\x20not\x20found');const _0x2588fa=_0xf05807['generativeAIWorkerConnectors']['find'](_0x4ca5ef=>_0x4ca5ef['getEngineType']()===_0x47b4c2['engineType']);if(!_0x2588fa)throw new Error('No\x20connector\x20found\x20for\x20model');const _0xa7254={'type':'prompt','output':''},_0xd71046=await _0x35e5e7(_0x59ebf6,_0x568978,_0x215717,_0x596f9a,_0x215717['tools']??[],_0xf05807,_0x487045);for await(const _0x19be4f of _0x2588fa[_0x403356(0x718)]({'type':_0x403356(0x7c1),'prompt':_0x215717[_0x403356(0x7c1)],'instructions':_0x215717[_0x403356(0x9ca)],'reasoning':_0x215717[_0x403356(0x66d)],'grammar':_0x215717[_0x403356(0x63d)],'temperature':_0x215717['temperature'],'maxTokens':_0x215717[_0x403356(0x42a)],'history':_0x215717['history'],'functions':_0xd71046,'threadId':_0x215717[_0x403356(0x1ca)]},{'model':_0x47b4c2,'sequences':Array[_0x403356(0x8f7)](_0xd71046['keys']())[_0x403356(0x21d)](_0xd0d7a1=>_0xd0d7a1[_0x403356(0xa8b)]('executeAgent'))?0x2:0x1}))_0x487045[_0x403356(0x986)](_0x19be4f),_0x403356(0x89c)==typeof _0xa7254[_0x403356(0x2b0)]&&'string'==typeof _0x19be4f[_0x403356(0x2b0)]&&(_0xa7254[_0x403356(0x2b0)]+=_0x19be4f[_0x403356(0x2b0)]),_0xa7254[_0x403356(0x778)]=_0x19be4f[_0x403356(0x778)],_0xa7254[_0x403356(0x19d)]=_0x19be4f['outputTokens'];await _0x16c57a[_0x403356(0x73f)](0x1),_0x487045['emit'](void 0x0);}(_0x3ff7f3,_0x7b2235,_0x4ea32c,_0xc34367,_0x42a36d,_0xf7e1ee);let _0xa6c9e5='',_0x47e98c={'type':_0x2bdcdb(0x7c1)};for(;;){const _0x33c3bc=await _0x42a36d[_0x2bdcdb(0x18a)]();if(!_0x33c3bc)break;_0xa6c9e5+=_0x33c3bc[_0x2bdcdb(0x2b0)],_0x47e98c={'type':_0x2bdcdb(0x7c1),'output':_0x33c3bc[_0x2bdcdb(0x2b0)],'context':_0xc34367[_0x2bdcdb(0x781)],'internalContext':{},'inputTokens':_0x33c3bc['inputTokens']??0x0,'outputTokens':_0x33c3bc['outputTokens']??0x0},yield _0x47e98c;}_0x987f7f['logUsage'](_0x3ff7f3,_0x4ea32c['model'],_0x47e98c[_0x2bdcdb(0x778)]??0x0,_0x47e98c[_0x2bdcdb(0x19d)]??0x0),console[_0x2bdcdb(0x195)](new Date()+_0x2bdcdb(0xb0b),_0x4ea32c['model'],_0x47e98c[_0x2bdcdb(0x778)]??0x0,_0x47e98c[_0x2bdcdb(0x19d)]??0x0),yield{..._0x47e98c,'output':'','internalContext':_0xc34367[_0x2bdcdb(0x3fc)]??{}};}async function _0x38ea29(_0x8d4432,_0x30a4fd,_0x1ae205,_0x5af401,_0x1c0055,_0x2eee67){const _0x247f29=_0x29fc43,_0x2f2207=Date['now']();if(!_0x2eee67[_0x247f29(0x577)][_0x247f29(0x5a5)](_0xb203a0=>_0xb203a0['id']===_0x5af401[_0x247f29(0x4e8)]))throw new Error(_0x247f29(0x63e));const _0x29cd6d=(0x0,_0x3adee5['v4'])(),_0x1a5b7b=[];_0x1a5b7b['push']({'role':'system','content':_0x5af401[_0x247f29(0x9ca)]}),_0x1a5b7b[_0x247f29(0x9f9)]({'role':'user','content':_0x1ae205});const _0x47aa97=await fetch(_0x3dbf37['apiUrl']+_0x247f29(0x3d9),{'method':_0x247f29(0x2a5),'headers':{'Content-Type':'application/json','x-vendor-id':_0x8d4432},'body':JSON['stringify']({'model':_0x5af401['modelId'],'messages':_0x1a5b7b,'max_completion_tokens':_0x5af401['maxTokens'],'temperature':_0x5af401[_0x247f29(0x478)],'threadId':_0x29cd6d})}),_0x5e60b4=(await _0x47aa97[_0x247f29(0x736)]())[_0x247f29(0x52b)][0x0][_0x247f29(0x356)][_0x247f29(0x88a)];await _0x987f7f['trace']({'jobType':_0x4e3472[_0x247f29(0x8f6)],'type':_0x36851c[_0x247f29(0x48a)],'jobId':_0x30a4fd,'blockId':_0x5af401['id'],'traceLevel':_0xbaa178[_0x247f29(0x96c)],'timestamp':Date['now'](),'startTime':_0x2f2207,'status':_0x247f29(0x2a9),'agentId':_0x29cd6d,'content':_0x1ae205,'instructions':_0x5af401[_0x247f29(0x9ca)],'result':_0x5e60b4});const _0x95108a=[];if(_0x5af401['links']?.[_0x247f29(0x21d)](_0x49baaf=>_0x49baaf[_0x247f29(0xacf)]===_0x5ee5b4['Text']))return _0x95108a[_0x247f29(0x9f9)]({'content':_0x5e60b4,'start':0x0,'length':_0x5e60b4[_0x247f29(0x4c5)]}),await _0x49a455(_0x8d4432,_0x30a4fd,_0x95108a,_0x5af401,_0x1c0055,_0x2eee67),void await _0x49a455(_0x8d4432,_0x30a4fd,_0x5e60b4,_0x5af401,_0x1c0055,_0x2eee67);_0x95108a[_0x247f29(0x9f9)]({'content':_0x5e60b4,'start':0x0,'length':_0x1ae205[_0x247f29(0x4c5)]}),await _0x49a455(_0x8d4432,_0x30a4fd,_0x95108a,_0x5af401,_0x1c0055,_0x2eee67);}async function _0x46d875(_0x4f89f8,_0x23ba76,_0x1db232,_0x5a97c5,_0x2570b7,_0x19d835){const _0x527b87=_0x29fc43,_0x1e2477=Date[_0x527b87(0x653)]();let _0x441743=[];if(_0x1db232 instanceof Array)for(const _0x44027e of _0x1db232){if(_0x527b87(0x89c)!=typeof _0x44027e[_0x527b87(0x88a)])throw new Error(_0x527b87(0x5d7));_0x441743=_0x441743[_0x527b87(0x759)](_0x8c717d(_0x44027e['content'],_0x5a97c5,_0x44027e['start'],_0x44027e[_0x527b87(0x4c5)]));}else _0x441743=_0x8c717d(_0x1db232,_0x5a97c5);await _0x987f7f['trace']({'jobType':_0x4e3472[_0x527b87(0x8f6)],'type':_0x36851c['ChunkSplitter'],'traceLevel':_0xbaa178[_0x527b87(0x96c)],'jobId':_0x23ba76,'blockId':_0x5a97c5['id'],'startTime':_0x1e2477,'timestamp':Date[_0x527b87(0x653)](),'status':_0x527b87(0x2a9),'totalChunks':_0x441743[_0x527b87(0x4c5)],'chunkSize':_0x5a97c5[_0x527b87(0x946)][_0x527b87(0xb18)]}),await _0x49a455(_0x4f89f8,_0x23ba76,_0x441743,_0x5a97c5,_0x2570b7,_0x19d835);}function _0x8c717d(_0x49ecae,_0x271400,_0x28e376,_0x34245b){const _0x27cd99=_0x29fc43,_0x31bf07=[];for(let _0x2be84c=0x0;_0x2be84c<_0x49ecae[_0x27cd99(0x4c5)];_0x2be84c+=_0x271400[_0x27cd99(0x946)][_0x27cd99(0xb18)]){let _0x594cf8=_0x2be84c-_0x271400[_0x27cd99(0x946)][_0x27cd99(0x181)];_0x594cf8<0x0&&(_0x594cf8=0x0);let _0x46cf44=_0x2be84c+_0x271400[_0x27cd99(0x946)][_0x27cd99(0xb18)]+_0x271400[_0x27cd99(0x946)][_0x27cd99(0x181)];_0x46cf44>_0x49ecae[_0x27cd99(0x4c5)]&&(_0x46cf44=_0x49ecae[_0x27cd99(0x4c5)]);const _0xab6e75=_0x49ecae['substring'](_0x594cf8,_0x46cf44);_0x31bf07[_0x27cd99(0x9f9)]({'content':_0xab6e75,'start':_0x28e376??_0x2be84c,'length':_0x34245b??(_0x2be84c+_0x271400[_0x27cd99(0x946)][_0x27cd99(0xb18)]>_0x49ecae[_0x27cd99(0x4c5)]?_0x49ecae[_0x27cd99(0x4c5)]-_0x2be84c:_0x271400['attributes'][_0x27cd99(0xb18)])});}return _0x31bf07;}async function _0x706d8(_0x584111,_0x453ef7,_0x36321b,_0x3ebc91,_0x172540,_0x3e9d25){const _0x520e39=_0x29fc43,_0x332bfc=Date[_0x520e39(0x653)]();let _0xac959;if(_0x36321b[_0x520e39(0x15d)][_0x520e39(0xacf)][_0x520e39(0xa8b)](_0x520e39(0xaa9))||_0x2d5716(_0x36321b[_0x520e39(0x15d)][_0x520e39(0x3dd)],_0x2b615c))_0xac959=await _0x36321b[_0x520e39(0x15d)][_0x520e39(0x637)]();else{if(!_0x3e9d25[_0x520e39(0x7a4)][_0x520e39(0x788)](_0x36321b[_0x520e39(0x15d)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x36321b[_0x520e39(0x15d)][_0x520e39(0xacf)]+_0x520e39(0x902)+_0x36321b['file'][_0x520e39(0x3dd)]);_0xac959=await _0x3e9d25['documentParserConnector'][_0x520e39(0x763)](_0x36321b[_0x520e39(0x15d)]);}await _0x987f7f['trace']({'jobType':_0x4e3472[_0x520e39(0x8f6)],'type':_0x36851c['DocumentParser'],'traceLevel':_0xbaa178[_0x520e39(0x96c)],'blockId':_0x3ebc91['id'],'jobId':_0x453ef7,'startTime':_0x332bfc,'timestamp':Date[_0x520e39(0x653)](),'status':_0x520e39(0x2a9),'documentType':_0x36321b[_0x520e39(0x15d)][_0x520e39(0xacf)],'documentName':_0x36321b[_0x520e39(0x15d)][_0x520e39(0x3dd)],'extractionMethod':'OfficeParser'}),await _0x49a455(_0x584111,_0x453ef7,_0xac959,_0x3ebc91,_0x172540,_0x3e9d25);const _0x296884=[{'content':_0xac959,'start':0x0,'length':_0xac959[_0x520e39(0x4c5)]}];await _0x49a455(_0x584111,_0x453ef7,_0x296884,_0x3ebc91,_0x172540,_0x3e9d25);}const _0x2b615c=[_0x29fc43(0x39d),_0x29fc43(0x87c),_0x29fc43(0x409),_0x29fc43(0xa93),_0x29fc43(0xa7c),_0x29fc43(0x15e),'.css',_0x29fc43(0x54a),_0x29fc43(0x9de),_0x29fc43(0x7f8),_0x29fc43(0xa78),_0x29fc43(0x673),_0x29fc43(0x6af),'.ini',_0x29fc43(0x328),'.conf','.sql',_0x29fc43(0x2eb),_0x29fc43(0x584),_0x29fc43(0x423),'.c',_0x29fc43(0x52f),'.cs','.r',_0x29fc43(0x524),_0x29fc43(0x8c3),'.scala',_0x29fc43(0x24d),_0x29fc43(0x42b),_0x29fc43(0x8ac),_0x29fc43(0x792),_0x29fc43(0x53b),_0x29fc43(0xa76),_0x29fc43(0x2db),_0x29fc43(0x1f7),_0x29fc43(0x29d),_0x29fc43(0xae9),'.exs',_0x29fc43(0x6f7),'.ps1',_0x29fc43(0x2d4),'.m',_0x29fc43(0x126),'.awk',_0x29fc43(0x85f),_0x29fc43(0x6db),'.ipynb','.jsx',_0x29fc43(0x4ab),_0x29fc43(0x84a),_0x29fc43(0x34a),'.jinja',_0x29fc43(0x459),_0x29fc43(0x10c),_0x29fc43(0x75c),_0x29fc43(0x700),'.pug','.liquid',_0x29fc43(0x48b),'.tpl','.twig','.j2','.djt'];function _0x2d5716(_0x1f9610,_0x56543f){const _0x515033=_0x29fc43;return _0x56543f['includes']('.'+(_0x1f9610[_0x515033(0x388)]('.')['pop']()?.[_0x515033(0x38d)]()||''));}async function _0x59d74e(_0x2e8943,_0x36879d,_0x45c7b4,_0xbf4b02,_0x3496c6,_0x7cb64d){const _0x3d9c11=_0x29fc43,_0x399e3e=Date[_0x3d9c11(0x653)](),_0x3c5535=new Set();let _0x3c452f=0x0;for(const _0x6e591 of _0x45c7b4){if(_0x3d9c11(0x89c)!=typeof _0x6e591[_0x3d9c11(0x88a)])throw new Error(_0x3d9c11(0x5d7));_0x3c452f+=_0x6e591[_0x3d9c11(0x88a)][_0x3d9c11(0x4c5)],await _0xf60854(_0x6e591[_0x3d9c11(0x88a)],_0x3c5535,_0xbf4b02,_0x7cb64d[_0x3d9c11(0x4dc)]);}await _0x987f7f[_0x3d9c11(0x6ab)]({'jobType':_0x4e3472[_0x3d9c11(0x8f6)],'type':_0x36851c[_0x3d9c11(0x80d)],'jobId':_0x36879d,'blockId':_0xbf4b02['id'],'traceLevel':_0xbaa178[_0x3d9c11(0x96c)],'startTime':_0x399e3e,'timestamp':Date[_0x3d9c11(0x653)](),'status':_0x3d9c11(0x2a9),'contentLength':_0x3c452f,'totalChunks':_0x45c7b4 instanceof Array?_0x45c7b4[_0x3d9c11(0x4c5)]:0x1,'entitiesExtracted':_0x3c5535,'totalEntities':_0x3c5535[_0x3d9c11(0xb18)]}),await _0x49a455(_0x2e8943,_0x36879d,_0x3c5535,_0xbf4b02,_0x3496c6,_0x7cb64d);}async function _0xf60854(_0x20ba2a,_0x5e634a,_0x20d0a3,_0x103a45){const _0x33485a=_0x29fc43,_0x24dfb1=await _0x103a45[_0x33485a(0x93c)](_0x20ba2a,{'ner':_0x20d0a3[_0x33485a(0x946)][_0x33485a(0x76f)],'noun':_0x20d0a3[_0x33485a(0x946)]['noun'],'propn':_0x20d0a3[_0x33485a(0x946)][_0x33485a(0x552)],'verb':_0x20d0a3[_0x33485a(0x946)]['verb']});for(const _0x1ae003 of _0x24dfb1)_0x5e634a[_0x33485a(0x5ec)](_0x1ae003);}async function _0x4f541b(_0x5ac191,_0x2cc014,_0x5ac304,_0x168ab5,_0x15e48d){const _0x3314af=_0x29fc43,_0x2f46f6=Date[_0x3314af(0x653)]();if(_0x5ac304[_0x3314af(0x7b8)]||(_0x5ac304['accumulated']={}),'string'==typeof _0x2cc014?_0x5ac304['accumulated'][_0x3314af(0x88a)]=_0x2cc014:_0x2cc014 instanceof Set?_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x727)]=_0x2cc014:_0x2cc014 instanceof Map?_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x214)]=_0x2cc014:_0x2cc014 instanceof Array?_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x378)]=_0x2cc014:_0x5ac304['accumulated'][_0x3314af(0x15d)]=_0x2cc014,_0x5ac304[_0x3314af(0x338)]=_0x5ac304[_0x3314af(0x338)]?_0x5ac304[_0x3314af(0x338)]+0x1:0x1,_0x518b7e(_0x5ac304,_0x168ab5['ingestBlocks'])>_0x5ac304[_0x3314af(0x338)])return;if(!(_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x727)]&&_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x15d)]&&_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x88a)]&&_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x378)]))throw new Error(_0x3314af(0x1fa));let _0x198b6f=0x0;const _0x3ce953=_0x15e48d[_0x3314af(0x3bf)]['getGraphDatabase'](_0x5ac304['id']);for(const _0x73ce0d of _0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x727)]){let _0x5457f2=[];_0x5457f2=_0x5ac304[_0x3314af(0x7b8)]['index'][_0x3314af(0x81c)](_0x5ec9ad=>_0x3314af(0x89c)==typeof _0x5ec9ad[_0x3314af(0x88a)]&&_0x5ec9ad['content'][_0x3314af(0x3a7)](_0x73ce0d));try{_0x3ce953[_0x3314af(0x613)](_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x15d)][_0x3314af(0x850)],_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x88a)],_0x5457f2,_0x73ce0d),_0x198b6f+=0x1;}catch(_0x79b73d){}}if(_0x5ac304[_0x3314af(0x7b8)]['relations']){for(const [_0xfc7263,_0x53c981]of _0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x214)])for(const _0x5dccef of _0x53c981)try{_0x3ce953[_0x3314af(0x65e)](_0xfc7263,_0x5dccef);}catch(_0x21283e){}await _0x987f7f[_0x3314af(0x6ab)]({'jobType':_0x4e3472[_0x3314af(0x8f6)],'type':_0x36851c[_0x3314af(0x615)],'jobId':_0x5ac191,'blockId':_0x5ac304['id'],'status':_0x3314af(0x2a9),'startTime':_0x2f46f6,'timestamp':Date['now'](),'traceLevel':_0xbaa178['Debug'],'nodesAdded':_0x198b6f,'entities':_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x727)],'relations':_0x5ac304[_0x3314af(0x7b8)][_0x3314af(0x214)]});}}async function _0x432d3c(_0x3c9afe,_0x5ecf69,_0x2fc145,_0x50f43a,_0x2fc463,_0x429519){const _0x484332=_0x29fc43,_0x4dbaf5=_0x429519[_0x484332(0x577)][_0x484332(0x5a5)](_0x2617e9=>_0x2617e9['id']===_0x50f43a['id']);if(!_0x4dbaf5)throw new Error('Model\x20not\x20found');switch(_0x4dbaf5['outputType']){case _0x47b47a[_0x484332(0x398)][_0x484332(0x841)]:if(_0x484332(0x89c)!=typeof _0x2fc145)throw new Error(_0x484332(0x7ea));await async function(_0x42145f,_0x3abbc1,_0x1ec9de,_0x39ae31,_0x16cc58,_0xa1c976,_0x283337){const _0x262eba=_0x484332,_0x39e328=Date['now']();let _0x5a869c;const _0x3445cd=await fetch(_0x3dbf37[_0x262eba(0x4a4)]+_0x262eba(0x3d9),{'method':_0x262eba(0x2a5),'headers':{'Content-Type':_0x262eba(0x400),'x-vendor-id':_0x42145f},'body':JSON['stringify']({'messages':[{'role':_0x262eba(0x5ca),'content':_0x1ec9de}],'model':_0x39ae31['id']})});_0x5a869c=(await _0x3445cd[_0x262eba(0x736)]())[_0x262eba(0x52b)][0x0][_0x262eba(0x356)][_0x262eba(0x88a)],await _0x987f7f[_0x262eba(0x6ab)]({'jobType':_0x4e3472[_0x262eba(0x8f6)],'type':_0x36851c[_0x262eba(0xa49)],'jobId':_0x3abbc1,'blockId':_0x16cc58['id'],'traceLevel':_0xbaa178['Debug'],'timestamp':Date[_0x262eba(0x653)](),'startTime':_0x39e328,'status':_0x262eba(0x2a9),'modelName':_0x39ae31['id'],'inputType':_0x39ae31[_0x262eba(0x866)],'outputType':_0x39ae31[_0x262eba(0x3cb)],'content':_0x1ec9de,'results':_0x5a869c}),await _0x49a455(_0x42145f,_0x3abbc1,_0x5a869c,_0x16cc58,_0xa1c976,_0x283337);}(_0x3c9afe,_0x5ecf69,_0x2fc145,_0x4dbaf5,_0x50f43a,_0x2fc463,_0x429519);break;case _0x47b47a[_0x484332(0x398)][_0x484332(0x178)]:if(!(_0x2fc145 instanceof Array))throw new Error(_0x484332(0x2d8));await async function(_0x213fc4,_0x579117,_0x596a93,_0x1435e2,_0x32c8f2,_0x57698d,_0x57d707){const _0x635321=_0x484332,_0x5bd526=Date[_0x635321(0x653)](),_0x4be712=await fetch(_0x3dbf37[_0x635321(0x4a4)]+_0x635321(0x35c),{'method':_0x635321(0x2a5),'headers':{'Content-Type':'application/json','x-vendor-id':_0x213fc4},'body':JSON[_0x635321(0x9a0)]({'input':_0x596a93[_0x635321(0x170)](_0x3b0971=>_0x3b0971['content']),'model':_0x1435e2['id']})}),_0x3da929=(await _0x4be712['json']())['data'][_0x635321(0x170)](_0x167ca3=>_0x167ca3[_0x635321(0x382)]);await _0x987f7f[_0x635321(0x6ab)]({'jobType':_0x4e3472['Ingest'],'type':_0x36851c[_0x635321(0x484)],'jobId':_0x579117,'blockId':_0x32c8f2['id'],'traceLevel':_0xbaa178[_0x635321(0x96c)],'timestamp':Date[_0x635321(0x653)](),'startTime':_0x5bd526,'status':_0x635321(0x2a9),'modelName':_0x1435e2['id'],'inputType':_0x1435e2['inputType'],'outputType':_0x1435e2[_0x635321(0x3cb)],'totalVectors':_0x3da929['length']}),await _0x49a455(_0x213fc4,_0x579117,_0x3da929,_0x32c8f2,_0x57698d,_0x57d707);}(_0x3c9afe,_0x5ecf69,_0x2fc145,_0x4dbaf5,_0x50f43a,_0x2fc463,_0x429519);}}async function _0x2210f7(_0x37e362,_0x1cc9c1,_0x182bad,_0x56bfcb,_0x763942,_0x38902c){const _0x47b1c7=_0x29fc43,_0x5caaea=Date['now']();if(_0x56bfcb[_0x47b1c7(0x7b8)]||(_0x56bfcb[_0x47b1c7(0x7b8)]={}),_0x182bad instanceof Array?_0x56bfcb[_0x47b1c7(0x7b8)]['index']=_0x182bad:_0x56bfcb[_0x47b1c7(0x7b8)][_0x47b1c7(0x727)]=_0x182bad,_0x56bfcb['timesCalled']=_0x56bfcb[_0x47b1c7(0x338)]?_0x56bfcb[_0x47b1c7(0x338)]+0x1:0x1,_0x518b7e(_0x56bfcb,_0x763942[_0x47b1c7(0x859)])>_0x56bfcb[_0x47b1c7(0x338)])return;if(!_0x56bfcb[_0x47b1c7(0x7b8)][_0x47b1c7(0x378)]||!_0x56bfcb[_0x47b1c7(0x7b8)]['entities'])throw new Error(_0x47b1c7(0x730));const _0x2f5232=new Map();for(const _0x178462 of _0x56bfcb['accumulated']['index']){if(_0x47b1c7(0x89c)!=typeof _0x178462[_0x47b1c7(0x88a)])throw new Error(_0x47b1c7(0x5d7));_0x214e99(_0x178462['content'],_0x56bfcb[_0x47b1c7(0x7b8)]['entities'],_0x2f5232);}await _0x987f7f[_0x47b1c7(0x6ab)]({'jobType':_0x4e3472['Ingest'],'type':_0x36851c[_0x47b1c7(0x799)],'jobId':_0x1cc9c1,'blockId':_0x56bfcb['id'],'traceLevel':_0xbaa178[_0x47b1c7(0x96c)],'timestamp':Date[_0x47b1c7(0x653)](),'startTime':_0x5caaea,'status':_0x47b1c7(0x2a9),'entities':_0x56bfcb[_0x47b1c7(0x7b8)][_0x47b1c7(0x727)],'relations':_0x2f5232,'totalRelationsExtracted':_0x2f5232['size']}),await _0x49a455(_0x37e362,_0x1cc9c1,_0x2f5232,_0x56bfcb,_0x763942,_0x38902c);}function _0x214e99(_0x1aeb24,_0x16dccb,_0xfadd18){const _0x3f96fb=_0x29fc43;for(const _0x391b3d of _0x16dccb)for(const _0x32642b of _0x16dccb){if(_0x391b3d===_0x32642b)continue;const _0x1e2857=_0x1aeb24[_0x3f96fb(0x511)](_0x391b3d),_0x23ae42=_0x1aeb24[_0x3f96fb(0x511)](_0x32642b);-0x1!==_0x1e2857&&-0x1!==_0x23ae42&&(_0xfadd18['has'](_0x391b3d)||_0xfadd18[_0x3f96fb(0x355)](_0x391b3d,new Set()),_0xfadd18[_0x3f96fb(0x2a2)](_0x391b3d)[_0x3f96fb(0x5ec)](_0x32642b));}return _0xfadd18;}async function _0x39b6b7(_0x33b2ec,_0x2b9e13,_0x996bea,_0x2c1e61,_0x83de47,_0x2b0848){const _0x1a53dd=_0x29fc43,_0x1f151c=Date['now']();let _0x2fed03=[];if(_0x996bea instanceof Array)for(const _0x226074 of _0x996bea){if(_0x1a53dd(0x89c)!=typeof _0x226074['content'])throw new Error(_0x1a53dd(0x5d7));const _0x112e9c=await _0x2b0848[_0x1a53dd(0x4dc)][_0x1a53dd(0x88d)](_0x226074['content']);_0x2fed03=_0x2fed03[_0x1a53dd(0x759)](_0x112e9c[_0x1a53dd(0x170)](_0x1c2101=>({'content':_0x1c2101,'start':_0x226074[_0x1a53dd(0x507)],'length':_0x226074[_0x1a53dd(0x4c5)]})));}else _0x2fed03=(await _0x2b0848[_0x1a53dd(0x4dc)]['getSentences'](_0x996bea))[_0x1a53dd(0x170)](_0x39eb56=>({'content':_0x39eb56,'start':_0x996bea[_0x1a53dd(0x511)](_0x39eb56),'length':_0x39eb56[_0x1a53dd(0x4c5)]}));await _0x987f7f['trace']({'jobType':_0x4e3472['Ingest'],'type':_0x36851c[_0x1a53dd(0x766)],'jobId':_0x2b9e13,'blockId':_0x2c1e61['id'],'traceLevel':_0xbaa178[_0x1a53dd(0x96c)],'startTime':_0x1f151c,'timestamp':Date[_0x1a53dd(0x653)](),'status':'success','totalSentences':_0x2fed03['length'],'averageSentenceLength':_0x2fed03['reduce']((_0x30fb33,_0x4dd19d)=>_0x30fb33+_0x4dd19d[_0x1a53dd(0x4c5)],0x0)/_0x2fed03[_0x1a53dd(0x4c5)]}),await _0x49a455(_0x33b2ec,_0x2b9e13,_0x2fed03,_0x2c1e61,_0x83de47,_0x2b0848);}async function _0x597866(_0x2ca768,_0x9ab3da,_0x1cec72){const _0x29829c=_0x29fc43;if(0x0===_0x2ca768[_0x29829c(0x4c5)])return;const _0x5d6103=_0x9ab3da['internalContext']?.['files']?_0x9ab3da[_0x29829c(0x3fc)][_0x29829c(0x6cf)][_0x29829c(0x388)](','):[];for(const _0x2c3209 of _0x2ca768){const _0x329a54=await _0x1cec72[_0x29829c(0x6a8)][_0x29829c(0x8fc)](_0x2c3209);_0x5d6103[_0x29829c(0x9f9)](_0x329a54);}_0x9ab3da['internalContext']||(_0x9ab3da[_0x29829c(0x3fc)]={}),_0x9ab3da['internalContext'][_0x29829c(0x6cf)]=_0x5d6103[_0x29829c(0x98d)](',');}async function _0x35f047(_0x150c7b,_0x205257,_0x206c89,_0x83d129,_0x1880a4){const _0x5bad65=_0x29fc43,_0x1943b6=_0x205257[_0x5bad65(0x5bf)]??(0x0,_0x3adee5['v4'])(),_0x565210=Date[_0x5bad65(0x653)]();await _0x987f7f[_0x5bad65(0x6ab)]({'jobType':_0x4e3472['Workflow'],'type':_0x5c373e[_0x5bad65(0x5fe)],'jobId':_0x150c7b,'blockId':_0x206c89['id'],'agentId':_0x1943b6,'threadId':_0x205257[_0x5bad65(0x1ca)],'traceLevel':_0xbaa178[_0x5bad65(0x856)],'startTime':Date[_0x5bad65(0x653)](),'timestamp':Date[_0x5bad65(0x653)](),'status':'success','initialPrompt':_0x205257[_0x5bad65(0x7c1)]});const _0x4a48b1={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x205257['internalContext']&&(_0x4a48b1[_0x5bad65(0x3fc)]=_0x205257[_0x5bad65(0x3fc)]),await _0x40280b(_0x205257,_0x4a48b1,_0x206c89,_0x83d129,_0x1880a4),await _0x367e48(_0x150c7b,''+_0x205257[_0x5bad65(0x7c1)],_0x205257,_0x4a48b1,_0x206c89,_0x83d129,_0x1880a4);const {inputTokens:_0x2c1029=0x0,outputTokens:_0x51a300=0x0,context:_0x60cb17=[]}=_0x4a48b1;await _0x987f7f['trace']({'jobType':_0x4e3472[_0x5bad65(0x442)],'type':_0x5c373e[_0x5bad65(0x12d)],'jobId':_0x150c7b,'agentId':_0x1943b6,'threadId':_0x205257['threadId'],'traceLevel':_0xbaa178[_0x5bad65(0x856)],'startTime':_0x565210,'timestamp':Date[_0x5bad65(0x653)](),'blockId':_0x206c89['id'],'status':_0x5bad65(0x2a9),'output':_0x4a48b1[_0x5bad65(0x2b0)]?.[_0x5bad65(0x570)]()??'','prompt':_0x205257['prompt'],'agentName':'','history':_0x205257[_0x5bad65(0x771)]??[],'instructions':''+(_0x205257[_0x5bad65(0x9ca)]??''),'ragContext':_0x60cb17,'inputTokens':_0x2c1029,'outputTokens':_0x51a300});const _0x1c5838=_0x83d129['find'](_0x2737f8=>_0x2737f8[_0x5bad65(0xacf)]===_0x284f13['Answer']);return{'type':_0x5bad65(0x7c1),'output':_0x4a48b1[_0x5bad65(0x2b0)],'context':_0x4a48b1[_0x5bad65(0x781)],'internalContext':_0x4a48b1['internalContext'],'resultFile':await _0x1c5838?.[_0x5bad65(0x7b8)]?.[_0x5bad65(0x15d)]?.[_0x5bad65(0x637)]()??void 0x0,'inputTokens':_0x4a48b1[_0x5bad65(0x778)]??0x0,'outputTokens':_0x4a48b1[_0x5bad65(0x19d)]??0x0};}async function*_0x3d7d6e(_0x5daecd,_0x2e82cf,_0x17530f,_0x28f976,_0x3527a7){const _0x5e3bac=_0x29fc43,_0x38b5c8=_0x2e82cf[_0x5e3bac(0x5bf)]??(0x0,_0x3adee5['v4'])(),_0x24d0b5=Date['now']();await _0x987f7f[_0x5e3bac(0x6ab)]({'jobType':_0x4e3472[_0x5e3bac(0x442)],'type':_0x5c373e[_0x5e3bac(0x5fe)],'jobId':_0x5daecd,'agentId':_0x38b5c8,'threadId':_0x2e82cf['threadId'],'traceLevel':_0xbaa178[_0x5e3bac(0x856)],'startTime':Date['now'](),'timestamp':Date['now'](),'blockId':_0x17530f['id'],'status':'success','initialPrompt':_0x2e82cf[_0x5e3bac(0x7c1)]});const _0x5f3752={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x2e82cf['internalContext']&&(_0x5f3752['internalContext']=_0x2e82cf[_0x5e3bac(0x3fc)]);const _0x12a81f=new _0x486888();await _0x40280b(_0x2e82cf,_0x5f3752,_0x17530f,_0x28f976,_0x3527a7),_0x367e48(_0x5daecd,''+_0x2e82cf[_0x5e3bac(0x7c1)],_0x2e82cf,_0x5f3752,_0x17530f,_0x28f976,_0x3527a7,_0x12a81f);let _0x68adc7='',_0x5a2b9f={'type':_0x5e3bac(0x7c1)};for(;;){const _0x390be1=await _0x12a81f[_0x5e3bac(0x18a)]();if(!_0x390be1)break;_0x68adc7+=_0x390be1[_0x5e3bac(0x2b0)],_0x5a2b9f={'type':_0x5e3bac(0x7c1),'output':_0x390be1['output'],'context':_0x5f3752['context'],'resultFile':void 0x0,'inputTokens':(_0x5f3752[_0x5e3bac(0x778)]??0x0)+(_0x390be1[_0x5e3bac(0x778)]??0x0),'outputTokens':(_0x5f3752[_0x5e3bac(0x19d)]??0x0)+(_0x390be1['outputTokens']??0x0)},yield _0x5a2b9f;}const _0x446caf=_0x28f976[_0x5e3bac(0x5a5)](_0x249ebf=>_0x249ebf['type']===_0x284f13[_0x5e3bac(0x496)]);yield{..._0x5a2b9f,'output':'','internalContext':_0x5f3752[_0x5e3bac(0x3fc)],'resultFile':await _0x446caf?.['accumulated']?.[_0x5e3bac(0x15d)]?.[_0x5e3bac(0x637)]()??void 0x0};const {inputTokens:_0x2b5ffb=0x0,outputTokens:_0x2f817e=0x0,context:_0xb4af5b=[]}=_0x5a2b9f;await _0x987f7f[_0x5e3bac(0x6ab)]({'jobType':_0x4e3472['Workflow'],'type':_0x5c373e[_0x5e3bac(0x12d)],'jobId':_0x5daecd,'agentId':_0x38b5c8,'threadId':_0x2e82cf[_0x5e3bac(0x1ca)],'traceLevel':_0xbaa178[_0x5e3bac(0x856)],'startTime':_0x24d0b5,'timestamp':Date[_0x5e3bac(0x653)](),'blockId':_0x17530f['id'],'status':_0x5e3bac(0x2a9),'output':_0x68adc7,'prompt':_0x2e82cf[_0x5e3bac(0x7c1)],'agentName':'','history':_0x2e82cf[_0x5e3bac(0x771)]??[],'instructions':''+(_0x2e82cf[_0x5e3bac(0x9ca)]??''),'ragContext':_0xb4af5b,'inputTokens':_0x2b5ffb,'outputTokens':_0x2f817e});}async function _0x40280b(_0x4cdda7,_0x12deb8,_0x55bd41,_0x43fb3d,_0x5bd778){const _0x1db271=_0x29fc43;if(_0x4cdda7['files']&&_0x55bd41[_0x1db271(0x6f0)]){const _0x1a4c8a=[];for(const _0xfa8f85 of _0x4cdda7[_0x1db271(0x6cf)])_0x1a4c8a[_0x1db271(0x9f9)](_0x1bdbeb(_0xfa8f85));for(const _0x14d579 of _0x55bd41[_0x1db271(0x6f0)])if(_0x1db271(0x15d)===_0x14d579[_0x1db271(0xacf)]){const _0xcac565=_0x43fb3d[_0x1db271(0x5a5)](_0x5b686e=>_0x5b686e[_0x1db271(0x34c)]===_0x14d579[_0x1db271(0x34c)]);if(!_0xcac565)continue;_0xcac565[_0x1db271(0xacf)]===_0x284f13['DocumentParser']&&await _0x597866(_0x1a4c8a,_0x12deb8,_0x5bd778);}}}function _0x1bdbeb(_0x3286be){const _0x4cc63f=_0x29fc43,_0x213c29=Uint8Array[_0x4cc63f(0x8f7)](Buffer[_0x4cc63f(0x8f7)](_0x3286be[_0x4cc63f(0x88a)],_0x4cc63f(0x80c))),_0x2a3862=new Blob([_0x213c29],{'type':_0x3286be[_0x4cc63f(0xacf)]});return new File([_0x2a3862],_0x3286be['name'],{'type':_0x3286be['type']});}function _0x254ee8(_0x22cba8,_0x49a237){const _0x59ee50=_0x29fc43;switch(_0x49a237[_0x59ee50(0x254)]){case _0x5c0042['Shared']:return _0x59ee50(0x553);case _0x5c0042[_0x59ee50(0x74c)]:return _0x22cba8;case _0x5c0042['Dedicated']:default:return _0x49a237['id'];}}async function _0x3b6fd8(_0x55fdbf,_0x146ff4,_0x488aab,_0x3751b7,_0x3c925f,_0x10df6f){const _0x464e34=_0x29fc43,_0xcee6d6=Date[_0x464e34(0x653)]();var _0x108d5b;if(_0x3751b7['accumulated']||(_0x3751b7[_0x464e34(0x7b8)]={}),_0x488aab instanceof Array?(_0x108d5b=_0x488aab)[0x0]instanceof Array&&_0x464e34(0x516)==typeof _0x108d5b[0x0]?.[0x0]?_0x3751b7[_0x464e34(0x7b8)]['vectors']=_0x488aab:_0x3751b7[_0x464e34(0x7b8)][_0x464e34(0x378)]=_0x488aab:'string'==typeof _0x488aab?_0x3751b7['accumulated'][_0x464e34(0x88a)]=_0x488aab:_0x3751b7[_0x464e34(0x7b8)]['file']=_0x488aab,_0x3751b7[_0x464e34(0x338)]=_0x3751b7[_0x464e34(0x338)]?_0x3751b7[_0x464e34(0x338)]+0x1:0x1,!(_0x518b7e(_0x3751b7,_0x3c925f[_0x464e34(0x859)])>_0x3751b7[_0x464e34(0x338)])){if('vector-database'===_0x3751b7['id']){if(!_0x3751b7[_0x464e34(0x7b8)][_0x464e34(0x378)]||!_0x3751b7[_0x464e34(0x7b8)]['vectors']||!_0x3751b7[_0x464e34(0x7b8)][_0x464e34(0x15d)])throw new Error(_0x464e34(0x6b2));if(!_0x10df6f['ragConnector'])throw new Error(_0x464e34(0x4cb));const _0x2864ff=[];for(let _0x54602d=0x0;_0x54602d<_0x3751b7[_0x464e34(0x7b8)]['index'][_0x464e34(0x4c5)];_0x54602d++){const _0x282697=_0x3751b7[_0x464e34(0x7b8)]['vectors'][_0x54602d],_0x44715b=_0x3751b7[_0x464e34(0x7b8)]['index'][_0x54602d];_0x2864ff[_0x464e34(0x9f9)]({'content':_0x282697,'start':_0x44715b[_0x464e34(0x507)],'length':_0x44715b[_0x464e34(0x4c5)]});}const _0x2f3ffa=_0x254ee8(_0x55fdbf,_0x3c925f);await _0x10df6f['ragConnector'][_0x464e34(0x7c4)](_0x2f3ffa,_0x3c925f['id'],_0x3751b7[_0x464e34(0x7b8)]['file'][_0x464e34(0x850)],_0x2864ff);}else{if(!(_0x3751b7[_0x464e34(0x7b8)][_0x464e34(0x88a)]&&_0x3751b7['accumulated'][_0x464e34(0x378)]&&_0x3751b7[_0x464e34(0x7b8)][_0x464e34(0x2b9)]&&_0x3751b7['accumulated'][_0x464e34(0x15d)]))throw new Error(_0x464e34(0x6b2));const _0x567b15=_0x10df6f[_0x464e34(0x3bf)]['getVectorDatabase'](_0x3751b7['id']);_0x567b15[_0x464e34(0x37b)](_0x3751b7[_0x464e34(0x7b8)][_0x464e34(0x15d)][_0x464e34(0x850)],_0x3751b7[_0x464e34(0x7b8)]['content'],_0x3751b7[_0x464e34(0x7b8)][_0x464e34(0x378)],_0x3751b7['accumulated'][_0x464e34(0x2b9)]),await _0x987f7f[_0x464e34(0x6ab)]({'jobType':_0x4e3472[_0x464e34(0x8f6)],'type':_0x36851c['VectorDatabase'],'jobId':_0x146ff4,'blockId':_0x3751b7['id'],'traceLevel':_0xbaa178['Debug'],'startTime':_0xcee6d6,'timestamp':Date[_0x464e34(0x653)](),'status':'success','databaseName':_0x567b15[_0x464e34(0x568)](),'vectorsAdded':_0x3751b7['accumulated'][_0x464e34(0x2b9)][_0x464e34(0x4c5)],'filePathName':_0x3751b7['accumulated']['file'][_0x464e34(0x850)]});}}}async function _0x248c15(_0x48672d,_0x245993,_0x292ba9,_0x1d3a59,_0x4020a,_0x506072){const _0x23ecbf=_0x29fc43,_0x46fa63=Date['now']();let _0x352602=[];if(_0x292ba9 instanceof Array)for(const _0x15f6b8 of _0x292ba9){if(_0x23ecbf(0x89c)!=typeof _0x15f6b8['content'])throw new Error(_0x23ecbf(0x5d7));_0x352602=_0x352602[_0x23ecbf(0x759)](_0x1eb83c(_0x15f6b8[_0x23ecbf(0x88a)],_0x1d3a59,_0x15f6b8[_0x23ecbf(0x507)],_0x15f6b8[_0x23ecbf(0x4c5)]));}else _0x352602=_0x1eb83c(_0x292ba9,_0x1d3a59);await _0x987f7f['trace']({'jobType':_0x4e3472[_0x23ecbf(0x8f6)],'type':_0x36851c['WordSplitter'],'jobId':_0x245993,'traceLevel':_0xbaa178[_0x23ecbf(0x96c)],'blockId':_0x1d3a59['id'],'startTime':_0x46fa63,'timestamp':Date['now'](),'status':'success','totalChunks':_0x352602[_0x23ecbf(0x4c5)],'averageChunkLength':_0x352602[_0x23ecbf(0x8ca)]((_0x3981b4,_0x47ef14)=>_0x3981b4+_0x47ef14['length'],0x0)/_0x352602[_0x23ecbf(0x4c5)]}),await _0x49a455(_0x48672d,_0x245993,_0x352602,_0x1d3a59,_0x4020a,_0x506072);}function _0x1eb83c(_0x492982,_0x25a879,_0x1315d5,_0x2563c1){const _0x255495=_0x29fc43,_0x38b781=[],_0xe29a37=_0x492982[_0x255495(0x388)]('\x20');let _0x1035f5='',_0x5d58d3=-0x1,_0x3a5d10=0x0,_0x266c8f=0x0;for(const _0x2e87b2 of _0xe29a37){if(_0x1035f5[_0x255495(0x4c5)]+_0x2e87b2[_0x255495(0x4c5)]>_0x25a879['attributes'][_0x255495(0xb18)]){const _0x2b9f8d=_0x1035f5['length'];let _0x5f5e0b=_0x5d58d3,_0x1cc21b='';for(;_0x5f5e0b>=0x0&&_0x1cc21b['length']+_0xe29a37[_0x5f5e0b][_0x255495(0x4c5)]<_0x25a879['attributes'][_0x255495(0x181)];)_0x1cc21b=_0xe29a37[_0x5f5e0b]+'\x20'+_0x1cc21b,_0x5f5e0b--;let _0x558de9=_0x3a5d10,_0xb56d6a='';for(;_0x558de9<_0xe29a37[_0x255495(0x4c5)]&&_0xb56d6a[_0x255495(0x4c5)]+_0xe29a37[_0x558de9]['length']<_0x25a879[_0x255495(0x946)][_0x255495(0x181)];)_0xb56d6a+=_0xe29a37[_0x558de9]+'\x20',_0x558de9++;_0x1035f5=_0x1cc21b+_0x1035f5+_0xb56d6a,_0x38b781[_0x255495(0x9f9)]({'content':_0x1035f5[_0x255495(0x97d)](),'start':_0x1315d5??_0x266c8f,'length':_0x2563c1??_0x2b9f8d}),_0x1035f5='',_0x5d58d3=_0x3a5d10-0x1,_0x266c8f+=_0x2b9f8d;}_0x1035f5+=_0x2e87b2+'\x20',_0x3a5d10++;}if(_0x1035f5[_0x255495(0x4c5)]>0x0){const _0x1a9a99=_0x1035f5['length'];let _0x464bc9=_0x5d58d3,_0x58d7ee='';for(;_0x464bc9>=0x0&&_0x58d7ee['length']+_0xe29a37[_0x464bc9][_0x255495(0x4c5)]<_0x25a879[_0x255495(0x946)][_0x255495(0x181)];)_0x58d7ee=_0xe29a37[_0x464bc9]+'\x20'+_0x58d7ee,_0x464bc9--;_0x1035f5=_0x58d7ee+_0x1035f5,_0x38b781[_0x255495(0x9f9)]({'content':_0x1035f5[_0x255495(0x97d)](),'start':_0x1315d5??_0x266c8f,'length':_0x2563c1??_0x1a9a99});}return _0x38b781;}async function _0x49a455(_0x15a629,_0x4bdfbf,_0xd2277e,_0x30f79d,_0x2b50ef,_0x378df5){const _0x130777=_0x29fc43;for(const _0x593c9e of _0x30f79d['links']||[]){const _0x5e4fe4=_0x2b50ef[_0x130777(0x859)][_0x130777(0x5a5)](_0x41e834=>_0x41e834['uid']===_0x593c9e[_0x130777(0x34c)]);if(_0x5e4fe4)switch(_0x5e4fe4['type']){case _0x4f87f6[_0x130777(0x48a)]:_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x841)]&&'string'==typeof _0xd2277e&&await _0x38ea29(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6['ChunkSplitter']:_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x841)]&&'string'==typeof _0xd2277e&&await _0x46d875(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e['type']===_0x5ee5b4[_0x130777(0x748)]&&_0xd2277e instanceof Array&&await _0x46d875(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6[_0x130777(0x196)]:_0x593c9e['type']===_0x5ee5b4[_0x130777(0x1f9)]&&await _0x706d8(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6[_0x130777(0x5ed)]:if(_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x748)]&&_0xd2277e instanceof Array){if(!_0x2b50ef['modelId'])throw new Error('Model\x20ID\x20is\x20required\x20for\x20Embed\x20block');const _0x5928ce={'type':_0x4f87f6[_0x130777(0x8e4)],'id':_0x2b50ef[_0x130777(0x4e8)],'uid':(0x0,_0x3adee5['v4'])(),'links':_0x5e4fe4[_0x130777(0x6f0)]};await _0x432d3c(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5928ce,_0x2b50ef,_0x378df5);}break;case _0x4f87f6[_0x130777(0x80d)]:_0x593c9e['type']===_0x5ee5b4['Index']&&_0xd2277e instanceof Array&&await _0x59d74e(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6[_0x130777(0x615)]:_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x841)]&&_0x130777(0x89c)==typeof _0xd2277e&&await _0x4f541b(_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e['type']===_0x5ee5b4['Index']&&_0xd2277e instanceof Array&&await _0x4f541b(_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e['type']===_0x5ee5b4[_0x130777(0x7c8)]&&_0xd2277e instanceof Set&&await _0x4f541b(_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4['Relation']&&_0xd2277e instanceof Map&&await _0x4f541b(_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e['type']===_0x5ee5b4['File']&&await _0x4f541b(_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6[_0x130777(0x8e4)]:_0x593c9e['type']===_0x5ee5b4[_0x130777(0x841)]&&_0x130777(0x89c)==typeof _0xd2277e&&await _0x432d3c(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x748)]&&_0xd2277e instanceof Array&&await _0x432d3c(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6['RelationExtractor']:_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x748)]&&_0xd2277e instanceof Array&&await _0x2210f7(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x7c8)]&&_0xd2277e instanceof Set&&await _0x2210f7(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6['SentenceSplitter']:_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x841)]&&_0x130777(0x89c)==typeof _0xd2277e&&await _0x39b6b7(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x748)]&&_0xd2277e instanceof Array&&await _0x39b6b7(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6[_0x130777(0xa34)]:_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x841)]&&_0x130777(0x89c)==typeof _0xd2277e&&await _0x3b6fd8(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e['type']===_0x5ee5b4[_0x130777(0x748)]&&_0xd2277e instanceof Array&&await _0x3b6fd8(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4[_0x130777(0x178)]&&_0xd2277e instanceof Array&&await _0x3b6fd8(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e['type']===_0x5ee5b4[_0x130777(0x1f9)]&&await _0x3b6fd8(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);break;case _0x4f87f6[_0x130777(0x2d7)]:_0x593c9e[_0x130777(0xacf)]===_0x5ee5b4['Text']&&_0x130777(0x89c)==typeof _0xd2277e&&await _0x248c15(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5),_0x593c9e['type']===_0x5ee5b4[_0x130777(0x748)]&&_0xd2277e instanceof Array&&await _0x248c15(_0x15a629,_0x4bdfbf,_0xd2277e,_0x5e4fe4,_0x2b50ef,_0x378df5);}}}function _0x518b7e(_0x6f6a3b,_0x1feeef){const _0xf438aa=_0x29fc43;return _0x1feeef[_0xf438aa(0x81c)](_0x4c7d9c=>_0x4c7d9c[_0xf438aa(0x6f0)]?.[_0xf438aa(0x21d)](_0x304b9a=>_0x304b9a[_0xf438aa(0x34c)]===_0x6f6a3b['uid']))[_0xf438aa(0x4c5)];}async function _0x2dbe0e(_0x4162bc,_0x201bc5,_0x45f60c,_0x39bbed,_0x10ef09,_0x412a56,_0x3f930a){const _0x4a21ff=_0x29fc43;try{let _0x3c5b15;switch(_0x10ef09[_0x4a21ff(0xacf)]){case _0x4f87f6[_0x4a21ff(0x43a)]:const _0x270b71=_0x3f930a[_0x4a21ff(0x3bf)][_0x4a21ff(0x88f)](_0x10ef09['id']);_0x3c5b15=await _0x270b71[_0x4a21ff(0x2a2)](_0x45f60c);break;case _0x4f87f6[_0x4a21ff(0x2a0)]:const _0x3634b2=_0x3f930a[_0x4a21ff(0x3bf)][_0x4a21ff(0x593)](_0x10ef09['id']);_0x3c5b15=await _0x3634b2[_0x4a21ff(0x2a2)](_0x45f60c);case _0x4f87f6[_0x4a21ff(0x258)]:const _0x4dcf86=_0x45f60c[_0x4a21ff(0x388)]('/')['pop']();if(!_0x4dcf86)throw new Error(_0x4a21ff(0x2f7));const _0x598c4b=_0x45f60c['replace'](_0x4dcf86,''),_0x530311=Buffer[_0x4a21ff(0x8f7)](_0x39bbed,_0x4a21ff(0x80c));if(_0x3c5b15=new File([_0x530311],_0x4dcf86),!_0x3f930a[_0x4a21ff(0x407)])throw new Error(_0x4a21ff(0x5a1));await _0x3f930a[_0x4a21ff(0x407)][_0x4a21ff(0x8fc)](_0x3c5b15,_0x598c4b);}if(!_0x3c5b15)throw new Error(_0x4a21ff(0x9ef));await _0x49a455(_0x4162bc,_0x201bc5,{'file':_0x3c5b15,'pathName':_0x45f60c},_0x10ef09,structuredClone(_0x412a56),_0x3f930a);}catch(_0x145d83){console[_0x4a21ff(0x3c9)](_0x4a21ff(0x816),_0x145d83);}}async function _0x5d54f6(_0x32b77d,_0x37e655,_0x5c2819,_0x446b2e,_0x32fce9,_0x2f88cf,_0x2e0875,_0x328953){const _0x1eef84=_0x29fc43,_0x490000=Date[_0x1eef84(0x653)](),_0x4f0e77=new Set();if(_0x446b2e instanceof Array){for(const _0x1a40e9 of _0x446b2e)await _0x4fb3b8(_0x1a40e9[_0x1eef84(0x88a)],_0x2f88cf,_0x4f0e77,_0x328953[_0x1eef84(0x4dc)]);}else await _0x4fb3b8(_0x446b2e,_0x2f88cf,_0x4f0e77,_0x328953[_0x1eef84(0x4dc)]);await _0x987f7f[_0x1eef84(0x6ab)]({'jobType':_0x4e3472['Retrieve'],'type':_0x23c1c6[_0x1eef84(0x80d)],'jobId':_0x37e655,'threadId':_0x5c2819,'blockId':_0x2f88cf['id'],'traceLevel':_0xbaa178[_0x1eef84(0x96c)],'startTime':_0x490000,'timestamp':Date[_0x1eef84(0x653)](),'status':'success','content':_0x446b2e,'entitiesExtracted':Array[_0x1eef84(0x8f7)](_0x4f0e77),'totalEntities':_0x4f0e77[_0x1eef84(0xb18)]}),await _0x2ba091(_0x32b77d,_0x37e655,_0x5c2819,_0x4f0e77,_0x32fce9,_0x2f88cf,_0x2e0875,_0x328953);}async function _0x4fb3b8(_0xc1faf0,_0x2a8c6d,_0x32fc8b,_0x5e79a6){const _0x4c24d6=_0x29fc43,_0xd5d1e2=await _0x5e79a6['getEntities'](_0xc1faf0,{'ner':_0x2a8c6d[_0x4c24d6(0x946)][_0x4c24d6(0x76f)],'noun':_0x2a8c6d['attributes'][_0x4c24d6(0x234)],'propn':_0x2a8c6d[_0x4c24d6(0x946)]['propn'],'verb':_0x2a8c6d[_0x4c24d6(0x946)][_0x4c24d6(0x56a)]});for(const _0x434697 of _0xd5d1e2)_0x32fc8b[_0x4c24d6(0x5ec)](_0x434697);}async function _0x3a3749(_0x5d68a5,_0x289e34,_0x3a0c70,_0x4fe5d1,_0x103ca0,_0x36021d,_0x219d65,_0x496ccd){const _0x548820=_0x29fc43,_0x5c5aab=Date[_0x548820(0x653)]();if(_0x36021d[_0x548820(0x7b8)]||(_0x36021d['accumulated']={}),_0x4fe5d1 instanceof Array?(_0x36021d[_0x548820(0x7b8)][_0x548820(0x3b8)]||(_0x36021d[_0x548820(0x7b8)]['results']=[]),_0x36021d['accumulated'][_0x548820(0x3b8)][_0x548820(0x9f9)](..._0x4fe5d1)):_0x4fe5d1 instanceof Set?_0x36021d[_0x548820(0x7b8)][_0x548820(0x727)]=_0x4fe5d1:_0x36021d['accumulated'][_0x548820(0x7c1)]=_0x4fe5d1,_0x36021d[_0x548820(0x338)]=_0x36021d[_0x548820(0x338)]?_0x36021d['timesCalled']+0x1:0x1,_0x1ac583(_0x36021d,_0x219d65['retrieveBlocks'])>_0x36021d['timesCalled'])return;if(!_0x36021d[_0x548820(0x7b8)][_0x548820(0x7c1)]&&!_0x36021d[_0x548820(0x7b8)][_0x548820(0x3b8)]||!_0x36021d[_0x548820(0x7b8)][_0x548820(0x727)])throw new Error(_0x548820(0x1fa));const _0x268765=_0x496ccd['contentMediator'][_0x548820(0x664)](_0x36021d['id'])[_0x548820(0x886)](Array[_0x548820(0x8f7)](_0x36021d['accumulated']['entities']),_0x36021d[_0x548820(0x946)]['maxDepth'],_0x36021d[_0x548820(0x946)][_0x548820(0x87b)]);let _0x34f66f=[];for(const _0x2ab2bd in _0x268765){const _0x5387ab=_0x268765[_0x2ab2bd];for(const _0x1679f3 of _0x5387ab){let _0x3849a8=0x0;if(_0x36021d[_0x548820(0x7b8)][_0x548820(0x7c1)]&&(_0x3849a8=await _0x496ccd[_0x548820(0x4dc)][_0x548820(0x9e8)](_0x36021d[_0x548820(0x7b8)][_0x548820(0x7c1)],_0x1679f3)),_0x36021d[_0x548820(0x7b8)][_0x548820(0x3b8)]){for(const _0x5768b4 of _0x36021d['accumulated'][_0x548820(0x3b8)])_0x3849a8=Math[_0x548820(0x11e)](_0x3849a8,await _0x496ccd[_0x548820(0x4dc)][_0x548820(0x9e8)](_0x5768b4[_0x548820(0x88a)],_0x1679f3));}_0x3849a8<_0x36021d[_0x548820(0x946)]['minRelevance']||_0x34f66f[_0x548820(0x9f9)]({'content':_0x1679f3,'relevance':_0x3849a8,'pathName':_0x2ab2bd});}}_0x34f66f=_0x34f66f[_0x548820(0xb06)]((_0x4210ea,_0x56d643)=>_0x56d643[_0x548820(0x389)]-_0x4210ea[_0x548820(0x389)])[_0x548820(0x83a)](0x0,_0x36021d[_0x548820(0x946)][_0x548820(0x50a)]),await _0x987f7f[_0x548820(0x6ab)]({'jobType':_0x4e3472[_0x548820(0x7d8)],'type':_0x23c1c6[_0x548820(0x393)],'jobId':_0x289e34,'threadId':_0x3a0c70,'blockId':_0x36021d['id'],'traceLevel':_0xbaa178[_0x548820(0x96c)],'timestamp':Date[_0x548820(0x653)](),'startTime':_0x5c5aab,'status':_0x548820(0x2a9),'content':_0x4fe5d1,'topResults':_0x34f66f,'numResults':_0x34f66f['length']}),await _0x2ba091(_0x5d68a5,_0x289e34,_0x3a0c70,_0x34f66f,_0x103ca0,_0x36021d,_0x219d65,_0x496ccd);}async function _0x1f0377(_0x3e8287,_0x448d47,_0x3f66c9,_0x4edc73,_0x5b5193,_0x3d4702,_0x509b19,_0x18ba10){const _0x390152=_0x29fc43,_0x40b611=_0x18ba10['models'][_0x390152(0x5a5)](_0x381134=>_0x381134['id']===_0x3d4702['id']);if(!_0x40b611)throw new Error(_0x390152(0x63e));let _0x3f1a3b='';switch(_0x3f1a3b=_0x4edc73 instanceof Array?_0x4edc73[_0x390152(0x170)](_0x2b7a38=>_0x2b7a38[_0x390152(0x88a)])[_0x390152(0x98d)](',\x20'):_0x4edc73,_0x40b611[_0x390152(0x3cb)]){case _0x47b47a[_0x390152(0x398)]['Text']:await async function(_0x5d81d2,_0x4a9dbb,_0x596934,_0x432c6e,_0x8b48b8,_0x14feaf,_0x1eb07e,_0x34d8f3,_0xbc4edb){const _0x3024bd=_0x390152,_0x324e9f=Date[_0x3024bd(0x653)](),_0x1ffd37=await fetch(_0x3dbf37[_0x3024bd(0x4a4)]+_0x3024bd(0x3d9),{'method':_0x3024bd(0x2a5),'headers':{'Content-Type':_0x3024bd(0x400),'x-vendor-id':_0x5d81d2},'body':JSON[_0x3024bd(0x9a0)]({'messages':[{'role':_0x3024bd(0x5ca),'content':_0x432c6e}],'model':_0x14feaf['id']})}),_0x499e7b=(await _0x1ffd37[_0x3024bd(0x736)]())[_0x3024bd(0x52b)][0x0]['message']['content'];await _0x987f7f[_0x3024bd(0x6ab)]({'jobType':_0x4e3472[_0x3024bd(0x7d8)],'type':_0x23c1c6[_0x3024bd(0xa49)],'jobId':_0x4a9dbb,'threadId':_0x596934,'blockId':_0x1eb07e['id'],'traceLevel':_0xbaa178['Debug'],'startTime':_0x324e9f,'timestamp':Date[_0x3024bd(0x653)](),'status':_0x3024bd(0x2a9),'modelName':_0x14feaf['id'],'content':_0x432c6e,'newPrompt':_0x499e7b,'inputType':_0x14feaf[_0x3024bd(0x866)],'outputType':_0x14feaf[_0x3024bd(0x3cb)]}),await _0x2ba091(_0x5d81d2,_0x4a9dbb,_0x596934,_0x499e7b,_0x8b48b8,_0x1eb07e,_0x34d8f3,_0xbc4edb);}(_0x3e8287,_0x448d47,_0x3f66c9,_0x3f1a3b,_0x5b5193,_0x40b611,_0x3d4702,_0x509b19,_0x18ba10);break;case _0x47b47a[_0x390152(0x398)][_0x390152(0x178)]:await async function(_0x8808d6,_0xcc66ff,_0x540ebb,_0x5170af,_0x593990,_0x15b5f9,_0x4baf14,_0x3366fb,_0x2d81c6){const _0x5ccbd1=_0x390152,_0x2dcafb=Date[_0x5ccbd1(0x653)](),_0x45d430=await fetch(_0x3dbf37[_0x5ccbd1(0x4a4)]+'/embeddings',{'method':_0x5ccbd1(0x2a5),'headers':{'Content-Type':'application/json','x-vendor-id':_0x8808d6},'body':JSON[_0x5ccbd1(0x9a0)]({'input':_0x5170af,'model':_0x15b5f9['id']})}),_0x54e1d1=(await _0x45d430['json']())[_0x5ccbd1(0x7d7)][0x0][_0x5ccbd1(0x382)];await _0x987f7f[_0x5ccbd1(0x6ab)]({'jobType':_0x4e3472[_0x5ccbd1(0x7d8)],'type':_0x23c1c6['ModelVector'],'jobId':_0xcc66ff,'threadId':_0x540ebb,'blockId':_0x4baf14['id'],'traceLevel':_0xbaa178[_0x5ccbd1(0x96c)],'startTime':_0x2dcafb,'timestamp':Date[_0x5ccbd1(0x653)](),'status':'success','modelName':_0x15b5f9['id'],'content':_0x5170af,'totalVectors':_0x54e1d1[_0x5ccbd1(0x4c5)]}),await _0x2ba091(_0x8808d6,_0xcc66ff,_0x540ebb,_0x54e1d1,_0x593990,_0x4baf14,_0x3366fb,_0x2d81c6);}(_0x3e8287,_0x448d47,_0x3f66c9,_0x3f1a3b,_0x5b5193,_0x40b611,_0x3d4702,_0x509b19,_0x18ba10);}}async function _0x44084a(_0x458f46,_0x239d02,_0x5832ae,_0x5e42e3,_0x5a58d7,_0x488af2,_0x331a6d,_0x1f719b){const _0x14e843=_0x29fc43,_0x1ba5bc=Date['now']();if(_0x488af2['accumulated']||(_0x488af2[_0x14e843(0x7b8)]={}),_0x5e42e3 instanceof Array?(_0x488af2[_0x14e843(0x7b8)][_0x14e843(0x3b8)]||(_0x488af2[_0x14e843(0x7b8)][_0x14e843(0x3b8)]=[]),_0x488af2[_0x14e843(0x7b8)]['results'][_0x14e843(0x9f9)](..._0x5e42e3)):_0x488af2['accumulated']['prompt']=_0x5e42e3,_0x488af2[_0x14e843(0x338)]=_0x488af2[_0x14e843(0x338)]?_0x488af2[_0x14e843(0x338)]+0x1:0x1,_0x1ac583(_0x488af2,_0x331a6d[_0x14e843(0x6bf)])>_0x488af2['timesCalled'])return;if(!_0x488af2[_0x14e843(0x7b8)][_0x14e843(0x7c1)]||!_0x488af2[_0x14e843(0x7b8)][_0x14e843(0x3b8)])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x44505b of _0x488af2[_0x14e843(0x7b8)]['results'])_0x44505b[_0x14e843(0x389)]=await _0x1f719b[_0x14e843(0x4dc)][_0x14e843(0x9e8)](_0x488af2['accumulated'][_0x14e843(0x7c1)],_0x44505b['content']);const _0x3c8f56=_0x488af2[_0x14e843(0x7b8)]['results']['filter'](_0x27ba5f=>_0x27ba5f[_0x14e843(0x389)]>_0x488af2[_0x14e843(0x946)][_0x14e843(0x1c7)])['sort']((_0x21de3b,_0xf53f9e)=>_0xf53f9e[_0x14e843(0x389)]-_0x21de3b[_0x14e843(0x389)])[_0x14e843(0x83a)](0x0,_0x488af2[_0x14e843(0x946)][_0x14e843(0x50a)]);await _0x987f7f['trace']({'jobType':_0x4e3472[_0x14e843(0x7d8)],'type':_0x23c1c6[_0x14e843(0x5fa)],'jobId':_0x239d02,'threadId':_0x5832ae,'blockId':_0x488af2['id'],'traceLevel':_0xbaa178[_0x14e843(0x96c)],'startTime':_0x1ba5bc,'timestamp':Date[_0x14e843(0x653)](),'status':_0x14e843(0x2a9),'inputResults':_0x488af2['accumulated'][_0x14e843(0x3b8)],'rerankedResults':_0x3c8f56}),await _0x2ba091(_0x458f46,_0x239d02,_0x5832ae,_0x3c8f56,_0x5a58d7,_0x488af2,_0x331a6d,_0x1f719b);}async function _0x30aeaa(_0x217b38,_0x23e595,_0x4d7c82,_0x254384,_0x567263,_0x51d5a9,_0x595026,_0xfde7c2){const _0x4af429=_0x29fc43,_0x3a6a2d=Date['now']();if(_0x51d5a9['accumulated']||(_0x51d5a9['accumulated']={}),_0x254384 instanceof Array?_0x51d5a9[_0x4af429(0x7b8)][_0x4af429(0x8c2)]=_0x254384:_0x51d5a9['accumulated'][_0x4af429(0x88a)]=_0x254384,_0x51d5a9[_0x4af429(0x338)]=_0x51d5a9[_0x4af429(0x338)]?_0x51d5a9['timesCalled']+0x1:0x1,!(_0x1ac583(_0x51d5a9,_0x595026[_0x4af429(0x6bf)])>_0x51d5a9[_0x4af429(0x338)])){if('vector-database'===_0x51d5a9['id']){if(!_0x51d5a9[_0x4af429(0x7b8)][_0x4af429(0x8c2)])throw new Error(_0x4af429(0x6b2));if(!_0xfde7c2['ragConnector'])throw new Error(_0x4af429(0x4cb));const _0x24c247=_0x254ee8(_0x217b38,_0x595026);let _0x454df4=await _0xfde7c2[_0x4af429(0xadc)]?.['queryCollection'](_0x24c247,_0x595026['id'],_0x51d5a9['accumulated'][_0x4af429(0x8c2)],_0x51d5a9[_0x4af429(0x946)][_0x4af429(0x50a)]);_0x454df4=_0x454df4['filter'](_0x502895=>_0x502895['relevance']>_0x51d5a9[_0x4af429(0x946)][_0x4af429(0x1c7)])||[];const _0x1d422a=[];for(const _0x1bc0c4 of _0x454df4){if(!_0xfde7c2[_0x4af429(0x407)])throw new Error(_0x4af429(0x835));if(void 0x0===_0x1bc0c4[_0x4af429(0x507)]||void 0x0===_0x1bc0c4['length'])throw new Error('Missing\x20index');const _0x1488bb=await _0xfde7c2[_0x4af429(0x407)][_0x4af429(0x2a2)](_0x1bc0c4[_0x4af429(0x850)]);let _0x33d0e8='';if(_0x1488bb[_0x4af429(0xacf)][_0x4af429(0xa8b)](_0x4af429(0xaa9))||_0x2d5716(_0x1488bb['name'],_0x2b615c))_0x33d0e8=await _0x1488bb[_0x4af429(0x637)]();else{if(!_0xfde7c2[_0x4af429(0x7a4)][_0x4af429(0x788)](_0x1488bb))throw new Error(_0x4af429(0x9f7)+_0x1488bb['type']+_0x4af429(0x902)+_0x1488bb[_0x4af429(0x3dd)]);_0x33d0e8=await _0xfde7c2[_0x4af429(0x7a4)][_0x4af429(0x763)](_0x1488bb);}_0x1d422a[_0x4af429(0x9f9)]({'pathName':_0x1bc0c4[_0x4af429(0x850)],'content':_0x33d0e8[_0x4af429(0x3b4)](_0x1bc0c4[_0x4af429(0x507)],_0x1bc0c4['start']+_0x1bc0c4[_0x4af429(0x4c5)]),'relevance':_0x1bc0c4[_0x4af429(0x389)]});}await _0x2ba091(_0x217b38,_0x23e595,_0x4d7c82,_0x1d422a,_0x567263,_0x51d5a9,_0x595026,_0xfde7c2);}else{if(!_0x51d5a9[_0x4af429(0x7b8)][_0x4af429(0x8c2)]||!_0x51d5a9[_0x4af429(0x7b8)][_0x4af429(0x88a)])throw new Error(_0x4af429(0x6b2));const _0x2122ac=await _0xfde7c2[_0x4af429(0x4dc)]['getEntities'](_0x51d5a9[_0x4af429(0x7b8)][_0x4af429(0x88a)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x5242e1=_0xfde7c2['contentMediator'][_0x4af429(0x523)](_0x51d5a9['id'])['search'](_0x2122ac,_0x51d5a9[_0x4af429(0x7b8)][_0x4af429(0x8c2)],_0x51d5a9[_0x4af429(0x946)][_0x4af429(0x50a)],_0x51d5a9[_0x4af429(0x946)][_0x4af429(0x1c7)],_0x51d5a9['attributes']['contentSize']);await _0x987f7f['trace']({'jobType':_0x4e3472[_0x4af429(0x7d8)],'type':_0x23c1c6[_0x4af429(0x368)],'jobId':_0x23e595,'threadId':_0x4d7c82,'blockId':_0x51d5a9['id'],'traceLevel':_0xbaa178[_0x4af429(0x96c)],'startTime':_0x3a6a2d,'timestamp':Date['now'](),'status':_0x4af429(0x2a9),'topResults':_0x5242e1,'numResults':_0x5242e1[_0x4af429(0x4c5)]}),await _0x2ba091(_0x217b38,_0x23e595,_0x4d7c82,_0x5242e1,_0x567263,_0x51d5a9,_0x595026,_0xfde7c2);}}}async function _0x2ba091(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0x51ac2b,_0x527306,_0x1217ba){const _0x71cad5=_0x29fc43;for(const _0x29ea75 of _0x51ac2b[_0x71cad5(0x6f0)]||[]){const _0xd6d6a0=_0x527306['retrieveBlocks'][_0x71cad5(0x5a5)](_0x2dbc52=>_0x2dbc52[_0x71cad5(0x34c)]===_0x29ea75[_0x71cad5(0x34c)]);if(_0xd6d6a0)switch(_0xd6d6a0['type']){case _0x4f87f6[_0x71cad5(0x86b)]:_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0xa09)]&&_0x4cdcbd instanceof Array&&_0x2b3f87[_0x71cad5(0x781)][_0x71cad5(0x9f9)](..._0x4cdcbd);break;case _0x4f87f6['Embed']:if(_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0x841)]&&_0x71cad5(0x89c)==typeof _0x4cdcbd){if(!_0x527306[_0x71cad5(0x4e8)])throw new Error(_0x71cad5(0xad7));const _0x12f2d9={'type':_0x4f87f6['Model'],'id':_0x527306[_0x71cad5(0x4e8)],'uid':(0x0,_0x3adee5['v4'])(),'links':_0xd6d6a0[_0x71cad5(0x6f0)]};await _0x1f0377(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0x12f2d9,_0x527306,_0x1217ba);}break;case _0x4f87f6['EntityExtractor']:_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0x841)]&&_0x71cad5(0x89c)==typeof _0x4cdcbd&&await _0x5d54f6(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba),_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0xa09)]&&_0x4cdcbd instanceof Array&&await _0x5d54f6(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba);break;case _0x4f87f6[_0x71cad5(0x615)]:_0x29ea75['type']===_0x5ee5b4['Text']&&'string'==typeof _0x4cdcbd&&await _0x3a3749(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba),_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4['Search']&&_0x4cdcbd instanceof Array&&await _0x3a3749(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba),_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0x7c8)]&&_0x4cdcbd instanceof Set&&await _0x3a3749(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba);break;case _0x4f87f6['Model']:_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0x841)]&&_0x71cad5(0x89c)==typeof _0x4cdcbd&&await _0x1f0377(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba),_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4['Search']&&_0x4cdcbd instanceof Array&&await _0x1f0377(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba);break;case _0x4f87f6['Reranker']:_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4['Text']&&_0x71cad5(0x89c)==typeof _0x4cdcbd&&await _0x44084a(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba),_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0xa09)]&&_0x4cdcbd instanceof Array&&await _0x44084a(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba);break;case _0x4f87f6[_0x71cad5(0xa34)]:_0x29ea75['type']===_0x5ee5b4[_0x71cad5(0x841)]&&_0x71cad5(0x89c)==typeof _0x4cdcbd&&await _0x30aeaa(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba),_0x29ea75[_0x71cad5(0xacf)]===_0x5ee5b4[_0x71cad5(0x178)]&&_0x4cdcbd instanceof Array&&await _0x30aeaa(_0x1ff4e2,_0x1c71bb,_0x26f758,_0x4cdcbd,_0x2b3f87,_0xd6d6a0,_0x527306,_0x1217ba);}}}function _0x1ac583(_0x556b70,_0x4f561b){const _0x4f4ba7=_0x29fc43;return _0x4f561b[_0x4f4ba7(0x81c)](_0x377648=>_0x377648[_0x4f4ba7(0x6f0)]?.['some'](_0x15e0c4=>_0x15e0c4[_0x4f4ba7(0x34c)]===_0x556b70[_0x4f4ba7(0x34c)]))[_0x4f4ba7(0x4c5)];}async function _0x12edf3(_0x26373e,_0x5955f4,_0x5885e5,_0x1c0471,_0x31c6d6,_0x2e3df8,_0xecaa36){const _0x1028f8=_0x29fc43,_0x26744d={'type':_0x1028f8(0x7c1),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0xc9b964;await _0x2ba091(_0x26373e,_0x5955f4,_0x5885e5,_0x1c0471,_0x26744d,_0x31c6d6,structuredClone(_0x2e3df8),_0xecaa36),_0x26744d[_0x1028f8(0x781)][_0x1028f8(0x8ca)]((_0x5877fb,_0x9c81c)=>_0x5877fb+_0x9c81c[_0x1028f8(0x88a)]['length'],0x0)>_0x6ac2d6&&(_0xc9b964=Math[_0x1028f8(0x74e)](_0x6ac2d6/_0x26744d[_0x1028f8(0x781)][_0x1028f8(0x4c5)])),_0x26744d['output']=_0x1028f8(0x5e4)+_0x26744d[_0x1028f8(0x781)][_0x1028f8(0x170)](_0x283b7c=>_0x1028f8(0x3d8)+_0x283b7c[_0x1028f8(0x850)]+':\x20'+_0x283b7c[_0x1028f8(0x88a)]['substring'](0x0,_0xc9b964))[_0x1028f8(0x98d)]('\x0a');}catch(_0x548841){console['error']('Error\x20processing\x20retrieve',_0x548841);}return _0x26744d;}class _0x2cd2ee extends _0x5f2afa{[_0x29fc43(0x3bf)];[_0x29fc43(0x80f)];[_0x29fc43(0x407)];[_0x29fc43(0x7a4)];[_0x29fc43(0x6a8)];[_0x29fc43(0x4dc)];[_0x29fc43(0x5dd)];[_0x29fc43(0x8cc)];[_0x29fc43(0x80e)];[_0x29fc43(0x69e)];[_0x29fc43(0x4e9)];[_0x29fc43(0x74d)]=new Map();[_0x29fc43(0x577)]=_0x50ba58;[_0x29fc43(0x366)];[_0x29fc43(0x696)]=0x0;[_0x29fc43(0x36c)]=0x0;['isOpened']=!0x1;constructor(_0x4aa2c8,_0x1f90ec,_0x3cda90,_0xd1ed6c,_0x59fe25,_0x3eac5d,_0x4c4663,_0x5c59c2,_0x506684,_0x47d4a6,_0x22f87c,_0x44918a,_0x4758de,_0x2a038b){const _0xe5b78b=_0x29fc43;super(_0x4aa2c8,_0x1f90ec,_0x3cda90),this[_0xe5b78b(0x3bf)]=_0xd1ed6c,this[_0xe5b78b(0x80f)]=_0x59fe25,this[_0xe5b78b(0x407)]=_0x3eac5d,this[_0xe5b78b(0x7a4)]=_0x4c4663,this[_0xe5b78b(0x6a8)]=_0x5c59c2,this[_0xe5b78b(0x4dc)]=_0x506684,this[_0xe5b78b(0x5dd)]=_0x47d4a6,this['aiSearchConnector']=_0x22f87c,this['queryFileConnector']=_0x44918a,this[_0xe5b78b(0x69e)]=_0x4758de,this['openAIKey']=_0x2a038b;}async[_0x29fc43(0x13b)](){const _0x524258=_0x29fc43;for(const _0x27b1f6 of this['generativeAIWorkerConnectors'])await _0x27b1f6[_0x524258(0xb1b)]();this[_0x524258(0x74d)][_0x524258(0x7f9)](_0x321de8=>_0x321de8[_0x524258(0x515)](this[_0x524258(0x12a)])),this[_0x524258(0x366)]&&(clearTimeout(this[_0x524258(0x366)]),delete this['debounceStats']),super[_0x524258(0x13b)]();}async['open'](_0x5a5c9d=!0x1){const _0x3e58c8=_0x29fc43;if(this[_0x3e58c8(0x479)])super[_0x3e58c8(0x98b)]();else{_0xb63eee['forceLog'](_0x3e58c8(0x42e),this['label']);try{for(const _0x1290ea of this[_0x3e58c8(0x80f)])await _0x1290ea['initialize'](this[_0x3e58c8(0x12a)],this['models']);}catch(_0x270e26){return this['open'](_0x5a5c9d);}this[_0x3e58c8(0x479)]=!0x0,this[_0x3e58c8(0xb14)](),super['open'](),_0xb63eee[_0x3e58c8(0x9b4)](_0x3e58c8(0x432),this['label']);}}['reset'](){const _0x41e45e=_0x29fc43;this[_0x41e45e(0x696)]=0x0,this[_0x41e45e(0x36c)]=0x0,this['sendStats'](),super['reset']();}[_0x29fc43(0x131)](){const _0x39c873=_0x29fc43;return this[_0x39c873(0xb14)](),this[_0x39c873(0x50c)]();}[_0x29fc43(0x15f)](_0x1a9380,_0x4823f6,_0x1243d7){const _0x394bb4=_0x29fc43,{outputTokens:_0x228f81=0x0,output:_0x4e841f=''}=_0x1a9380,_0x5df5c5=_0x228f81/((_0x1243d7-_0x4823f6)/0x3e8);this[_0x394bb4(0x696)]+=0x1,this[_0x394bb4(0x36c)]+=_0x228f81,this[_0x394bb4(0x110)](_0x5df5c5,_0x228f81),this[_0x394bb4(0xb14)]();}['accumulateResult'](_0x4b9e08,_0x2d037b){const _0x315270=_0x29fc43;return _0x4b9e08['output']=_0x4b9e08['output']??'',{'type':'prompt','output':_0x315270(0x89c)==typeof _0x4b9e08[_0x315270(0x2b0)]&&'string'==typeof _0x2d037b['output']?_0x4b9e08[_0x315270(0x2b0)]+_0x2d037b[_0x315270(0x2b0)]:_0x2d037b[_0x315270(0x2b0)],'outputTokens':_0x2d037b[_0x315270(0x19d)]??_0x4b9e08[_0x315270(0x19d)],'inputTokens':_0x2d037b[_0x315270(0x778)]??_0x4b9e08['inputTokens']};}async['internalProcessJob'](_0x596ea5,_0x1b470e){const _0x1f21da=_0x29fc43;if(_0x1f21da(0x7c1)===_0x1b470e['type']){const _0x4dca4c=await _0x11a297[_0x1f21da(0x611)](_0x1b470e[_0x1f21da(0x117)],_0x1b470e[_0x1f21da(0x8f9)]),_0x2a776d=_0x4dca4c['blocks'][_0x1f21da(0x5a5)](_0x3d67c3=>_0x3d67c3[_0x1f21da(0xacf)]===_0x284f13[_0x1f21da(0x711)]);return await _0x35f047(_0x1b470e[_0x1f21da(0x9a8)]??_0x596ea5,_0x1b470e,_0x2a776d,_0x4dca4c[_0x1f21da(0x9ff)],{'documentParserConnector':this[_0x1f21da(0x7a4)],'fileConnector':this[_0x1f21da(0x6a8)],'nlpLibraryConnector':this[_0x1f21da(0x4dc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0x1f21da(0x577)][_0x1f21da(0x347)]()),'contentMediator':this[_0x1f21da(0x3bf)],'searchConnector':this[_0x1f21da(0x5dd)],'aiSearchConnector':this[_0x1f21da(0x8cc)],'queryFileConnector':this[_0x1f21da(0x80e)]});}if(_0x1f21da(0x83e)===_0x1b470e[_0x1f21da(0xacf)])return await _0x26880a(_0x1b470e,{'documentParserConnector':this[_0x1f21da(0x7a4)],'fileConnector':this[_0x1f21da(0x6a8)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x1f21da(0x8f7)](this['models'][_0x1f21da(0x347)]()),'contentMediator':this[_0x1f21da(0x3bf)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1f21da(0x8cc)],'queryFileConnector':this[_0x1f21da(0x80e)]});if(_0x1f21da(0x9ed)===_0x1b470e[_0x1f21da(0xacf)])return await _0x62a693(_0x1b470e[_0x1f21da(0x9a8)]??_0x596ea5,_0x1b470e,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x1f21da(0x6a8)],'nlpLibraryConnector':this[_0x1f21da(0x4dc)],'generativeAIWorkerConnectors':this[_0x1f21da(0x80f)],'models':Array[_0x1f21da(0x8f7)](this[_0x1f21da(0x577)][_0x1f21da(0x347)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x1f21da(0x5dd)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x1f21da(0x80e)]});if(_0x1f21da(0x744)===_0x1b470e[_0x1f21da(0xacf)])return await _0x987f7f[_0x1f21da(0x6ab)]({'jobType':_0x4e3472[_0x1f21da(0x1d4)],'type':_0xcf78d4[_0x1f21da(0x5fc)],'jobId':_0x1b470e[_0x1f21da(0x9a8)],'threadId':_0x1b470e['threadId'],'traceLevel':_0xbaa178['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x1f21da(0x2a9),'rating':_0x1b470e['rating'],'feedback':_0x1b470e[_0x1f21da(0x3be)]}),{'type':_0x1f21da(0x744),'status':_0x47b47a[_0x1f21da(0x692)][_0x1f21da(0x867)]};if(_0x1f21da(0x64c)===_0x1b470e[_0x1f21da(0xacf)])return await _0x256650(_0x1b470e,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x1f21da(0x4dc)],'generativeAIWorkerConnectors':this[_0x1f21da(0x80f)],'models':Array['from'](this[_0x1f21da(0x577)][_0x1f21da(0x347)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1f21da(0x8cc)],'queryFileConnector':this[_0x1f21da(0x80e)]});if(_0x1f21da(0x36f)===_0x1b470e['type']){const _0x6857e8=await _0x11a297['getWorkflow'](_0x1b470e[_0x1f21da(0x117)],_0x1b470e[_0x1f21da(0x8f9)]),_0x1674ca=_0x6857e8[_0x1f21da(0x9ff)][_0x1f21da(0x5a5)](_0x57ffc9=>_0x57ffc9[_0x1f21da(0xacf)]===_0x284f13[_0x1f21da(0x48a)]),_0x2e0590=_0x6857e8[_0x1f21da(0x9ff)][_0x1f21da(0x81c)](_0x396330=>_0x396330[_0x1f21da(0x6f0)]?.[_0x1f21da(0x21d)](_0x40500f=>_0x40500f['type']===_0x5ee5b4[_0x1f21da(0xadb)]&&_0x40500f[_0x1f21da(0x34c)]===_0x1674ca[_0x1f21da(0x34c)]))[_0x1f21da(0xaf5)](_0xfc1d0c=>_0x54af80(_0xfc1d0c,_0x6857e8['blocks']));return{'type':'realtime-session-create','apiKey':this['openAIKey'],'modelId':_0x1674ca[_0x1f21da(0x4e8)],'instructions':_0x1674ca['instructions'],'temperature':_0x1674ca['temperature'],'maxTokens':_0x1674ca[_0x1f21da(0x42a)],'initialPrompt':_0x6857e8[_0x1f21da(0x4f5)],'tools':_0x2e0590[_0x1f21da(0x170)](_0x501747=>({..._0x501747,'name':this['getToolName'](_0x501747),'description':this[_0x1f21da(0x757)](_0x501747),'parameters':this['getToolParams'](_0x501747)}))};}if(_0x1f21da(0x2e1)===_0x1b470e['type']){const {vendorId:_0x175092,collectionId:_0x3c4537,fileId:_0x3bbc2f}=_0x1b470e,_0xb72410=await _0x11a297[_0x1f21da(0x59b)](_0x175092,_0x3c4537),_0x7a6bc2=this[_0x1f21da(0x69e)]?.[_0x1f21da(0x2a2)](_0xb72410[_0x1f21da(0x85a)]);if(!_0x7a6bc2)throw new Error(_0x1f21da(0x806));const _0x5177bc=_0x254ee8(_0x175092,_0xb72410);if(_0xb72410['storageType']===_0x47b47a[_0x1f21da(0x546)][_0x1f21da(0x8b2)])try{await _0x7a6bc2[_0x1f21da(0x132)](_0x5177bc,_0x3c4537,'/'+_0x175092+'/'+_0x3c4537+'/'+_0x3bbc2f),await this[_0x1f21da(0x407)][_0x1f21da(0x845)]('/'+_0x175092+'/'+_0x3c4537+'/'+_0x3bbc2f);}catch(_0x1945f6){_0xb63eee['error']('GenerativeAIWorker:\x20FileDelete\x20failed',_0x1945f6);}else try{await _0x7a6bc2['deleteFile'](_0x5177bc,_0x3c4537,_0x3bbc2f);}catch(_0x379a1e){_0xb63eee[_0x1f21da(0x3c9)](_0x1f21da(0x4df),_0x379a1e);}return{'type':_0x1f21da(0x2e1)};}if(_0x1f21da(0x316)===_0x1b470e[_0x1f21da(0xacf)]){let _0x44020c;const _0x82d6d9=this['dataStores'][_0x1f21da(0x5da)]();for(;!_0x44020c;){const _0x57e73d=_0x82d6d9[_0x1f21da(0x609)]()[_0x1f21da(0x2a7)];if(!_0x57e73d)throw new Error(_0x1f21da(0x6f9));_0x44020c=this[_0x1f21da(0x74d)][_0x1f21da(0x2a2)](_0x57e73d);try{const _0x44dcf2=await _0x44020c[_0x1f21da(0x2a2)](_0x1b470e[_0x1f21da(0x215)]);return{'type':_0x1f21da(0x316),'fileName':_0x44dcf2[_0x1f21da(0x3dd)],'mimeType':_0x44dcf2[_0x1f21da(0xacf)],'document':await _0x44dcf2[_0x1f21da(0x37c)]()};}catch(_0x5e6172){continue;}}throw new Error(_0x1f21da(0x6f9));}if('file-ingest'===_0x1b470e[_0x1f21da(0xacf)]){const {vendorId:_0x7235ec,collectionId:_0x3056d8,fileName:_0x4430ba,content:_0x7c8bf4}=_0x1b470e,_0x497f1b=await _0x11a297[_0x1f21da(0x59b)](_0x7235ec,_0x3056d8);if(_0x497f1b[_0x1f21da(0x85a)]!==_0x47b47a[_0x1f21da(0x546)]['Crewdle']){const _0x4fbb4a=this[_0x1f21da(0x69e)]?.[_0x1f21da(0x2a2)](_0x497f1b[_0x1f21da(0x85a)]);if(!_0x4fbb4a)throw new Error(_0x1f21da(0x806));const _0x5d1ebf=_0x254ee8(_0x7235ec,_0x497f1b);return await _0x4fbb4a[_0x1f21da(0x7c4)](_0x5d1ebf,_0x3056d8,_0x4430ba,_0x7c8bf4),{'type':'file-ingest'};}const _0x1c67ff=_0x497f1b['ingestBlocks']?.[_0x1f21da(0x5a5)](_0x58683d=>_0x58683d[_0x1f21da(0xacf)]===_0x4f87f6['Upload']);if(!_0x1c67ff)throw new Error(_0x1f21da(0x251));const _0x3873a5=(0x0,_0x3adee5['v4'])();return _0x987f7f['openTrace'](_0x7235ec,_0x3873a5),await _0x2dbe0e(_0x1b470e['vendorId'],_0x3873a5,'/'+_0x7235ec+'/'+_0x3056d8+'/'+_0x4430ba,_0x7c8bf4,_0x1c67ff,_0x497f1b,{'objectStoreConnector':this[_0x1f21da(0x407)],'ragConnector':this[_0x1f21da(0x69e)]?.[_0x1f21da(0x2a2)](_0x47b47a[_0x1f21da(0x546)][_0x1f21da(0x8b2)]),'documentParserConnector':this[_0x1f21da(0x7a4)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x1f21da(0x4dc)],'generativeAIWorkerConnectors':this[_0x1f21da(0x80f)],'models':Array['from'](this['models'][_0x1f21da(0x347)]()),'contentMediator':this['contentMediator']}),_0x987f7f[_0x1f21da(0x742)](_0x3873a5),{'type':_0x1f21da(0x7cf)};}if(_0x1f21da(0x86f)===_0x1b470e[_0x1f21da(0xacf)]){const {vendorId:_0x3ec10f,collectionId:_0x10851a}=_0x1b470e,_0x55e805=await _0x11a297[_0x1f21da(0x59b)](_0x3ec10f,_0x10851a);if(_0x55e805[_0x1f21da(0x85a)]!==_0x47b47a['GenerativeAIRagType'][_0x1f21da(0x8b2)]){const _0x3681f4=this[_0x1f21da(0x69e)]?.[_0x1f21da(0x2a2)](_0x55e805['storageType']);if(!_0x3681f4)throw new Error(_0x1f21da(0x806));const _0x42142d=_0x254ee8(_0x3ec10f,_0x55e805);return{'type':'file-list','files':await _0x3681f4[_0x1f21da(0x5c8)](_0x42142d,_0x10851a)};}try{return{'type':_0x1f21da(0x86f),'files':(await this[_0x1f21da(0x407)]['list']('/'+_0x3ec10f+'/'+_0x10851a,!0x1))[_0x1f21da(0x170)](_0x12bc7f=>({'name':_0x12bc7f[_0x1f21da(0x3dd)],'id':_0x12bc7f[_0x1f21da(0x3dd)],'status':'ready'}))};}catch(_0x276e51){return{'type':_0x1f21da(0x86f),'files':[]};}}if(_0x1f21da(0x75d)===_0x1b470e[_0x1f21da(0xacf)]){const {vendorId:_0x1ed427,collectionId:_0x4f6440}=_0x1b470e,_0x47c146=await _0x11a297['getDataCollection'](_0x1ed427,_0x4f6440),_0x391b9f=this[_0x1f21da(0x69e)]?.[_0x1f21da(0x2a2)](_0x47c146[_0x1f21da(0x85a)]);if(!_0x391b9f)return{'type':'collection-create'};const _0x1798e5=_0x254ee8(_0x1ed427,_0x47c146);return await _0x391b9f[_0x1f21da(0x786)](_0x1798e5,_0x4f6440),{'type':_0x1f21da(0x75d)};}if(_0x1f21da(0x7fe)===_0x1b470e['type']){const {vendorId:_0x2cf092,collectionId:_0x229563}=_0x1b470e,_0x219cc4=await _0x11a297[_0x1f21da(0x59b)](_0x2cf092,_0x229563),_0x2623ef=this[_0x1f21da(0x69e)]?.[_0x1f21da(0x2a2)](_0x219cc4['storageType']);if(!_0x2623ef)return{'type':_0x1f21da(0x7fe)};const _0x9561b0=_0x254ee8(_0x2cf092,_0x219cc4);let _0x283b05=!0x1;if(_0x219cc4[_0x1f21da(0x254)]===_0x5c0042['Dedicated']&&(_0x283b05=!0x0),_0x219cc4[_0x1f21da(0x254)]===_0x5c0042[_0x1f21da(0x74c)]){_0x283b05=!0x0;const _0x49defc=await _0x11a297[_0x1f21da(0x1ae)](_0x2cf092);for(const _0x57b115 of _0x49defc)if(_0x57b115[_0x1f21da(0x85a)]===_0x219cc4[_0x1f21da(0x85a)]&&_0x57b115['hosting']===_0x5c0042[_0x1f21da(0x74c)]&&_0x57b115['id']!==_0x219cc4['id']){_0x283b05=!0x1;break;}}try{await _0x2623ef[_0x1f21da(0x498)](_0x9561b0,_0x229563,_0x283b05);}catch(_0x558876){_0xb63eee[_0x1f21da(0x3c9)]('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x558876);}return{'type':_0x1f21da(0x7fe)};}if(_0x1f21da(0x62f)===_0x1b470e[_0x1f21da(0xacf)]){const {query:_0x1c6b97,vendorId:_0x55e34f,collectionId:_0x4805f4}=_0x1b470e,_0x5900bf=await _0x11a297['getDataCollection'](_0x55e34f,_0x4805f4);if(_0x5900bf[_0x1f21da(0x85a)]!==_0x47b47a[_0x1f21da(0x546)]['Crewdle']){const _0x25b1d3=this[_0x1f21da(0x69e)]?.[_0x1f21da(0x2a2)](_0x5900bf[_0x1f21da(0x85a)]);if(!_0x25b1d3)throw new Error(_0x1f21da(0x806));const _0x3bda04=_0x254ee8(_0x55e34f,_0x5900bf);return{'type':'collection-query','results':await _0x25b1d3[_0x1f21da(0x566)](_0x3bda04,_0x4805f4,_0x1c6b97,0x1)};}const _0x54c508=_0x5900bf['retrieveBlocks']?.[_0x1f21da(0x5a5)](_0x5a0cba=>_0x5a0cba[_0x1f21da(0xacf)]===_0x4f87f6[_0x1f21da(0x711)]);return{'type':'collection-query','results':(await _0x12edf3(_0x1b470e['vendorId'],_0x596ea5,'',_0x1c6b97,_0x54c508,_0x5900bf,{'objectStoreConnector':this[_0x1f21da(0x407)],'ragConnector':this[_0x1f21da(0x69e)]?.['get'](_0x47b47a[_0x1f21da(0x546)]['Crewdle']),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x1f21da(0x6a8)],'nlpLibraryConnector':this[_0x1f21da(0x4dc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x1f21da(0x8f7)](this['models'][_0x1f21da(0x347)]()),'contentMediator':this[_0x1f21da(0x3bf)],'searchConnector':this[_0x1f21da(0x5dd)],'aiSearchConnector':this[_0x1f21da(0x8cc)],'queryFileConnector':this[_0x1f21da(0x80e)]}))[_0x1f21da(0x781)]??[]};}throw new Error(_0x1f21da(0x998));}async*[_0x29fc43(0x430)](_0x180056,_0x576b9){const _0x1d8d5d=_0x29fc43;if(_0x1d8d5d(0x7c1)===_0x576b9[_0x1d8d5d(0xacf)]){const _0x373062=await _0x11a297['getWorkflow'](_0x576b9['vendorId'],_0x576b9[_0x1d8d5d(0x8f9)]),_0x475d0a=_0x373062[_0x1d8d5d(0x9ff)][_0x1d8d5d(0x5a5)](_0x2d7c85=>_0x2d7c85[_0x1d8d5d(0xacf)]===_0x284f13[_0x1d8d5d(0x711)]);for await(const _0x4ffa84 of _0x3d7d6e(_0x576b9[_0x1d8d5d(0x9a8)]??_0x180056,_0x576b9,_0x475d0a,_0x373062['blocks'],{'documentParserConnector':this[_0x1d8d5d(0x7a4)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x1d8d5d(0x4dc)],'generativeAIWorkerConnectors':this[_0x1d8d5d(0x80f)],'models':Array[_0x1d8d5d(0x8f7)](this[_0x1d8d5d(0x577)]['values']()),'contentMediator':this[_0x1d8d5d(0x3bf)],'searchConnector':this[_0x1d8d5d(0x5dd)],'aiSearchConnector':this[_0x1d8d5d(0x8cc)],'queryFileConnector':this[_0x1d8d5d(0x80e)]}))yield _0x4ffa84;}if(_0x1d8d5d(0x9ed)===_0x576b9[_0x1d8d5d(0xacf)]){for await(const _0x452d97 of _0x3c24aa(_0x576b9['jobId']??_0x180056,_0x576b9,{'documentParserConnector':this[_0x1d8d5d(0x7a4)],'fileConnector':this[_0x1d8d5d(0x6a8)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1d8d5d(0x80f)],'models':Array[_0x1d8d5d(0x8f7)](this['models'][_0x1d8d5d(0x347)]()),'contentMediator':this[_0x1d8d5d(0x3bf)],'searchConnector':this[_0x1d8d5d(0x5dd)],'aiSearchConnector':this[_0x1d8d5d(0x8cc)],'queryFileConnector':this[_0x1d8d5d(0x80e)]}))yield _0x452d97;}}async['startTracing'](_0xadad54,_0x5f2c66){const _0x4fd9c5=_0x29fc43;if(_0x4fd9c5(0x744)===_0x5f2c66[_0x4fd9c5(0xacf)])return _0xadad54=_0x5f2c66[_0x4fd9c5(0x9a8)],void await this[_0x4fd9c5(0x160)](_0xadad54,_0x5f2c66[_0x4fd9c5(0x117)],_0x5f2c66['workflowId']);'prompt'!==_0x5f2c66[_0x4fd9c5(0xacf)]&&_0x4fd9c5(0x9ed)!==_0x5f2c66['type']||!_0x5f2c66['jobId']||(_0xadad54=_0x5f2c66[_0x4fd9c5(0x9a8)]),await this[_0x4fd9c5(0x160)](_0xadad54,_0x5f2c66[_0x4fd9c5(0x117)],_0x5f2c66[_0x4fd9c5(0x8f9)],_0x5f2c66[_0x4fd9c5(0x1ca)]),await _0x987f7f['trace']({'jobType':_0x4e3472['Job'],'type':_0x58c389[_0x4fd9c5(0x861)],'traceLevel':_0xbaa178[_0x4fd9c5(0x856)],'jobId':_0xadad54,'threadId':_0x5f2c66[_0x4fd9c5(0x1ca)],'startTime':Date[_0x4fd9c5(0x653)](),'timestamp':Date['now'](),'status':_0x4fd9c5(0x2a9)});}async[_0x29fc43(0x855)](_0x2234f5,_0x4099ed){const _0xe31477=_0x29fc43;if(_0xe31477(0x744)===_0x4099ed[_0xe31477(0xacf)])return _0x2234f5=_0x4099ed['jobId'],void await this[_0xe31477(0x742)](_0x2234f5);_0xe31477(0x7c1)!==_0x4099ed['type']&&_0xe31477(0x9ed)!==_0x4099ed[_0xe31477(0xacf)]||!_0x4099ed['jobId']||(_0x2234f5=_0x4099ed[_0xe31477(0x9a8)]),await _0x987f7f[_0xe31477(0x6ab)]({'jobType':_0x4e3472[_0xe31477(0x53a)],'type':_0x58c389[_0xe31477(0x89b)],'traceLevel':_0xbaa178[_0xe31477(0x856)],'jobId':_0x2234f5,'threadId':_0x4099ed[_0xe31477(0x1ca)],'startTime':Date[_0xe31477(0x653)](),'timestamp':Date[_0xe31477(0x653)](),'status':_0xe31477(0x2a9)}),await this['closeTrace'](_0x2234f5,_0x4099ed[_0xe31477(0x1ca)]);}[_0x29fc43(0x18e)](_0x1e9c62){const _0x409f87=_0x29fc43;switch(_0x1e9c62['type']){case _0x284f13[_0x409f87(0x48a)]:case _0x284f13[_0x409f87(0x2d0)]:return _0x409f87(0x734)+_0x1e9c62[_0x409f87(0x3dd)][_0x409f87(0x9fb)](/[^a-zA-Z]/g,'');case _0x284f13[_0x409f87(0xabd)]:return _0x409f87(0x53c)+_0x1e9c62[_0x409f87(0x3dd)]['replace'](/[^a-zA-Z]/g,'');case _0x284f13[_0x409f87(0x94b)]:case _0x284f13[_0x409f87(0x3c4)]:return _0x409f87(0x2ea)+_0x1e9c62[_0x409f87(0x3dd)][_0x409f87(0x9fb)](/[^a-zA-Z]/g,'');case _0x284f13[_0x409f87(0x733)]:return _0x1e9c62[_0x409f87(0x3dd)][_0x409f87(0x9fb)](/[^a-zA-Z]/g,'');case _0x284f13[_0x409f87(0x2e8)]:return'searchOnPerplexity';case _0x284f13[_0x409f87(0x28c)]:return _0x409f87(0x3ad);case _0x284f13[_0x409f87(0xa09)]:return _0x409f87(0x831);case _0x284f13['WebScraper']:case _0x284f13[_0x409f87(0x9ac)]:return _0x409f87(0x111);case _0x47b47a[_0x409f87(0x7f0)][_0x409f87(0x3b1)]:return _0x409f87(0xa06)+_0x1e9c62[_0x409f87(0x3dd)][_0x409f87(0x9fb)](/[^a-zA-Z]/g,'');case _0x47b47a[_0x409f87(0x7f0)][_0x409f87(0x4aa)]:return _0x409f87(0x92e)+_0x1e9c62['name']['replace'](/[^a-zA-Z]/g,'');case _0x47b47a[_0x409f87(0x7f0)][_0x409f87(0x21a)]:return'submitForm'+_0x1e9c62[_0x409f87(0x3dd)][_0x409f87(0x9fb)](/[^a-zA-Z]/g,'');default:return'';}}[_0x29fc43(0x757)](_0x81bf1e){const _0xc5188e=_0x29fc43;switch(_0x81bf1e[_0xc5188e(0xacf)]){case _0x284f13[_0xc5188e(0x48a)]:case _0x284f13[_0xc5188e(0x2d0)]:return _0xc5188e(0x1ec)+_0x81bf1e[_0xc5188e(0x3f9)]+_0xc5188e(0x8b7);case _0x284f13[_0xc5188e(0xabd)]:return _0xc5188e(0x8c5)+_0x81bf1e[_0xc5188e(0x3f9)]+'\x20to\x20generate\x20a\x20response.';case _0x284f13[_0xc5188e(0x94b)]:case _0x284f13[_0xc5188e(0x3c4)]:return _0xc5188e(0x139)+_0x81bf1e[_0xc5188e(0x3f9)]+_0xc5188e(0x644);case _0x284f13[_0xc5188e(0x733)]:return _0xc5188e(0x323)+_0x81bf1e[_0xc5188e(0x3f9)];case _0x284f13['AiSearch']:return _0xc5188e(0xa3f);case _0x284f13[_0xc5188e(0x28c)]:return _0xc5188e(0x250);case _0x284f13[_0xc5188e(0xa09)]:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x284f13[_0xc5188e(0x849)]:case _0x284f13[_0xc5188e(0x9ac)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x47b47a['GenerativeAIInferenceToolType'][_0xc5188e(0x3b1)]:return _0xc5188e(0xa8d);case _0x47b47a['GenerativeAIInferenceToolType'][_0xc5188e(0x4aa)]:return _0xc5188e(0x610);case _0x47b47a['GenerativeAIInferenceToolType'][_0xc5188e(0x21a)]:return _0xc5188e(0x3d7);default:return'';}}[_0x29fc43(0x64e)](_0x829deb){const _0x8f639=_0x29fc43;switch(_0x829deb[_0x8f639(0xacf)]){case _0x284f13['Agent']:case _0x284f13[_0x8f639(0x2d0)]:case _0x284f13['WorkflowTool']:return[{'name':_0x8f639(0x7c1),'type':'string'}];case _0x284f13[_0x8f639(0x94b)]:case _0x284f13[_0x8f639(0x3c4)]:return[{'name':'queryOrPrompt','type':_0x8f639(0x89c)}];case _0x284f13['CustomSkill']:return _0x829deb[_0x8f639(0x28b)]['map'](_0x8256d0=>({'name':_0x8256d0[_0x8f639(0x3dd)],'type':_0x8256d0[_0x8f639(0xacf)]??_0x8f639(0x89c)}))??[];case _0x284f13['AiSearch']:return[{'name':_0x8f639(0x966),'type':_0x8f639(0x89c)}];case _0x284f13[_0x8f639(0x28c)]:return[{'name':_0x8f639(0x840),'type':_0x8f639(0x89c)}];case _0x284f13['Search']:return[{'name':'query','type':_0x8f639(0x89c)}];case _0x284f13[_0x8f639(0x849)]:case _0x284f13[_0x8f639(0x9ac)]:return[{'name':_0x8f639(0x413),'type':_0x8f639(0x89c)},{'name':_0x8f639(0xa9a),'type':_0x8f639(0x516)}];case _0x47b47a[_0x8f639(0x7f0)]['FormSkillGetQuestion']:return[];case _0x47b47a[_0x8f639(0x7f0)][_0x8f639(0x4aa)]:return[{'name':'id','type':_0x8f639(0x89c)},{'name':'answer','type':_0x8f639(0x89c)}];case _0x47b47a['GenerativeAIInferenceToolType']['FormSkillSubmitForm']:default:return[];}}[_0x29fc43(0x50c)](){const _0x1a23a2=_0x29fc43;try{return this[_0x1a23a2(0x923)][_0x1a23a2(0x437)]()[_0x1a23a2(0x508)][_0x1a23a2(0x6eb)]*(0x1-this[_0x1a23a2(0x923)]['getCapacityReport']()['gpu'][_0x1a23a2(0x70b)]);}catch(_0x271294){return _0xb63eee[_0x1a23a2(0x195)](_0x30994c[_0x1a23a2(0x3bb)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x271294),0x0;}}[_0x29fc43(0xb14)](){const _0x6f4203=_0x29fc43;this['isOpened']&&(this[_0x6f4203(0x366)]&&clearTimeout(this[_0x6f4203(0x366)]),this['debounceStats']=setTimeout(async()=>{const _0x525e8c=_0x6f4203;delete this[_0x525e8c(0x366)];let _0x17785c=0x0;for(const _0x1b277d of this[_0x525e8c(0x74d)][_0x525e8c(0x347)]())_0x17785c+=await _0x1b277d[_0x525e8c(0xaa6)]();this[_0x525e8c(0x3aa)][_0x525e8c(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x525e8c(0x9aa)],'content':{'type':_0x49b388[_0x525e8c(0x811)],'label':this[_0x525e8c(0x12a)],'stats':{'timestamp':Date['now'](),'storage':_0x17785c,'messagesSent':this[_0x525e8c(0x5e8)],'messagesReceived':this[_0x525e8c(0x3fe)],'bytesSent':this[_0x525e8c(0x656)],'bytesReceived':this[_0x525e8c(0x326)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x525e8c(0x36c)]}}});},_0x5e5c9a));}[_0x29fc43(0x110)](_0x2c48ec,_0x469966){const _0x503ac7=_0x29fc43,_0x1c7602=this[_0x503ac7(0x12a)],_0x172d65=this[_0x503ac7(0x5a8)]();_0xb63eee[_0x503ac7(0x110)](_0x127a0b[_0x503ac7(0x7d4)],{'topic':_0x1c7602,'type':'answer','nodeId':_0x172d65,'tokenCount':_0x469966,'tokensPerSecond':_0x2c48ec});}async[_0x29fc43(0x160)](_0x1ed5c3,_0x2ce458,_0x516c18,_0x28a39e){const _0x470917=_0x29fc43;try{if(!await _0x987f7f['openTrace'](_0x2ce458,_0x1ed5c3,_0x516c18,_0x28a39e))throw new Error(_0x470917(0x314));return _0x1ed5c3;}catch(_0x43cc64){return console[_0x470917(0x3c9)](_0x470917(0x314),_0x43cc64),_0x470917(0x44e);}}async[_0x29fc43(0x742)](_0x4ef92c,_0x593eea){const _0x46e95b=_0x29fc43;try{await _0x987f7f['closeTrace'](_0x4ef92c,_0x593eea);}catch(_0x250a6c){console[_0x46e95b(0x3c9)](_0x46e95b(0x47d),{'jobId':_0x4ef92c,'error':_0x250a6c});}}}class _0x56fd51 extends _0x2b6b11{[_0x29fc43(0xa8a)];['clusterId'];['vendorId'];['db'];[_0x29fc43(0x366)];[_0x29fc43(0xac7)]=0x0;[_0x29fc43(0x878)]=0x0;[_0x29fc43(0x76a)]=!0x1;constructor(_0x31556b,_0x10eedf,_0x236114,_0x1e97b4,_0x39b195){const _0x54cb82=_0x29fc43;if(_0x54cb82(0x89c)!=typeof _0x10eedf)throw new _0x27674c(_0x3d6c7a[_0x54cb82(0xaa3)],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x31556b,_0x10eedf),this[_0x54cb82(0xa8a)]=_0x31556b,this[_0x54cb82(0x93b)]=_0x236114,this[_0x54cb82(0x117)]=_0x1e97b4;const _0x4684fb='ccc'+this[_0x54cb82(0x117)]+'ccc'+this['clusterId']+_0x54cb82(0x922)+this[_0x54cb82(0x12a)];this['db']=new _0x39b195(_0x4684fb),this[_0x54cb82(0xb14)]();}[_0x29fc43(0x930)](){const _0x167191=_0x29fc43;return this[_0x167191(0x76a)];}[_0x29fc43(0xa0f)](_0x2ce287){this['isLoaded']=_0x2ce287;}[_0x29fc43(0x13b)](){const _0x5496ef=_0x29fc43;clearTimeout(this[_0x5496ef(0x366)]),delete this[_0x5496ef(0x366)],super[_0x5496ef(0x13b)]();}[_0x29fc43(0xb1b)](){const _0x4ae510=_0x29fc43;this[_0x4ae510(0x3aa)][_0x4ae510(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x4ae510(0x9aa)],'content':{'type':_0x49b388[_0x4ae510(0x677)],'label':this['label']}});}['getContentType'](){const _0x39900f=_0x29fc43;return _0x47b47a[_0x39900f(0x43d)][_0x39900f(0x615)];}[_0x29fc43(0x94c)](){this['sendStats']();}[_0x29fc43(0x613)](_0x2b6429,_0x184e35,_0x3e6f87,_0x5ba552){const _0x4d12e6=_0x29fc43;this['db'][_0x4d12e6(0x613)](_0x2b6429,_0x184e35,_0x3e6f87,_0x5ba552),this['writes']+=0x1,this['sendStats']();}[_0x29fc43(0x65e)](_0x26b999,_0x10867a){const _0x5c0e07=_0x29fc43;this['db'][_0x5c0e07(0x65e)](_0x26b999,_0x10867a),this['writes']+=0x1,this['sendStats']();}[_0x29fc43(0x886)](_0x2ad898,_0x11d1c7,_0x4e6bfd){const _0x5f559d=_0x29fc43,_0x506ea4=this['db'][_0x5f559d(0x886)](_0x2ad898,_0x11d1c7,_0x4e6bfd);return this['reads']+=0x1,_0xb63eee[_0x5f559d(0x110)](_0x127a0b['GraphDatabase'],{'type':_0x5f559d(0xa2d),'label':this['label'],'nodeId':this['localNode'][_0x5f559d(0x994)](),'nodeType':this[_0x5f559d(0xa8a)]['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x5f559d(0xb14)](),_0x506ea4;}[_0x29fc43(0x3ee)](_0x52df78){const _0xce0ed1=_0x29fc43;this['db'][_0xce0ed1(0x3ee)](_0x52df78),this['writes']+=0x1,this[_0xce0ed1(0xb14)]();}['saveToDisk'](_0x130ea4){const _0x3e49df=_0x29fc43;this['db'][_0x3e49df(0x5d1)](_0x130ea4);}['loadFromDisk'](_0x1fa3b9){this['db']['loadFromDisk'](_0x1fa3b9);}[_0x29fc43(0xb14)](){const _0x33b05d=_0x29fc43;this[_0x33b05d(0x366)]&&clearTimeout(this['debounceStats']),this[_0x33b05d(0x366)]=setTimeout(async()=>{const _0x3354f2=_0x33b05d;delete this[_0x3354f2(0x366)];const _0xeea4cb=this['db'][_0x3354f2(0xaa6)]();this[_0x3354f2(0x3aa)][_0x3354f2(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x3354f2(0x9aa)],'content':{'type':_0x49b388[_0x3354f2(0x9d8)],'label':this[_0x3354f2(0x12a)],'stats':{'timestamp':Date[_0x3354f2(0x653)](),'storage':_0xeea4cb,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3354f2(0x3fe)],'bytesSent':this[_0x3354f2(0x656)],'bytesReceived':this[_0x3354f2(0x326)],'writes':this['writes'],'reads':this[_0x3354f2(0x878)],'prompts':0x0,'tokens':0x0}}}),_0xb63eee[_0x3354f2(0x64d)](_0x127a0b[_0x3354f2(0x615)],'ccc'+this['clusterId']+_0x3354f2(0x922)+this[_0x3354f2(0x12a)],_0xeea4cb);},_0x5e5c9a);}}class _0x446f2b extends _0x1e2761{[_0x29fc43(0x1dd)];constructor(_0x59a815,_0x136c2f,_0x1af0ca){const _0xd9b15a=_0x29fc43;super(_0x59a815,_0x136c2f),this[_0xd9b15a(0x1dd)]=_0x1af0ca;}[_0x29fc43(0x5f5)](){const _0x591094=_0x29fc43;return _0x47b47a[_0x591094(0x43d)][_0x591094(0x6d2)];}[_0x29fc43(0x159)](){return this['mediaStream'];}[_0x29fc43(0x9e7)](){return this['mediaStream']['id'];}}class _0x24826e extends _0x446f2b{['remoteId'];['params'];[_0x29fc43(0x9a6)];[_0x29fc43(0x95c)]=_0x287e1a();constructor(_0x2008a3,_0x568f35,_0x11ca7c,_0x28528d,_0x119ac7){const _0x573dc3=_0x29fc43;super(_0x2008a3,_0x568f35,_0x11ca7c),this[_0x573dc3(0x295)]=_0x28528d,this[_0x573dc3(0x7b6)]=_0x119ac7;}[_0x29fc43(0x13b)](){const _0x21655=_0x29fc43;this[_0x21655(0x903)]('audio'),this[_0x21655(0x903)](_0x21655(0x41d)),super['destroy']();}['addTrack'](_0x165d1d){const _0x2f9991=_0x29fc43;if(!this[_0x2f9991(0x9a6)])throw new _0x3335bf(_0x3335bf[_0x2f9991(0x4ee)][_0x2f9991(0x5b0)],{'label':this['label'],'ownerId':this[_0x2f9991(0xab7)][_0x2f9991(0x994)](),'remoteId':this[_0x2f9991(0x295)]});this['topic'][_0x2f9991(0x289)]({'sourceId':this[_0x2f9991(0xab7)][_0x2f9991(0x994)](),'content':{'action':_0x59cdc5[_0x2f9991(0x57e)],'track':_0x165d1d,'stream':this[_0x2f9991(0x1dd)],'priority':_0x47b47a[_0x2f9991(0x37d)][_0x2f9991(0x548)],'params':this[_0x2f9991(0x162)](_0x165d1d[_0x2f9991(0x4c2)],this[_0x2f9991(0x7b6)])}});}[_0x29fc43(0x903)](_0x195edc){const _0x455664=_0x29fc43,_0x4ffd38=this[_0x455664(0x863)](_0x195edc);if(_0x4ffd38){if(!this['topic'])return null;this[_0x455664(0x9a6)][_0x455664(0x289)]({'sourceId':this[_0x455664(0xab7)][_0x455664(0x994)](),'content':{'action':_0x59cdc5[_0x455664(0x915)],'track':_0x4ffd38,'stream':this[_0x455664(0x1dd)]}});}return _0x4ffd38;}[_0x29fc43(0x47f)](_0x2e638f){const _0x143777=_0x29fc43;if(!this['topic'])throw new _0x3335bf(_0x3335bf['codes'][_0x143777(0x5b0)],{'label':this['label'],'ownerId':this[_0x143777(0xab7)]['getId'](),'remoteId':this['remoteId']});this['topic'][_0x143777(0x289)]({'sourceId':this[_0x143777(0xab7)][_0x143777(0x994)](),'content':{'action':_0x59cdc5['Update'],'priority':_0x2e638f,'stream':this[_0x143777(0x1dd)]}});}[_0x29fc43(0x75e)]({trackKinds:_0x4ee662,params:_0x380a65},_0x1dcd2b){const _0x5906bb=_0x29fc43;if(!this['topic'])throw new _0x3335bf(_0x3335bf['codes'][_0x5906bb(0x5b0)],{'label':this[_0x5906bb(0x12a)],'ownerId':this[_0x5906bb(0xab7)][_0x5906bb(0x994)](),'remoteId':this[_0x5906bb(0x295)]});for(const _0x3b4c81 of this[_0x5906bb(0x1dd)][_0x5906bb(0x98a)]())_0x4ee662[_0x5906bb(0x3a7)](_0x3b4c81[_0x5906bb(0x4c2)])&&this[_0x5906bb(0x9a6)][_0x5906bb(0x289)]({'sourceId':this['owner'][_0x5906bb(0x994)](),'content':{'action':_0x59cdc5[_0x5906bb(0x57e)],'track':_0x3b4c81,'stream':this[_0x5906bb(0x1dd)],'priority':_0x1dcd2b,'params':this[_0x5906bb(0x162)](_0x3b4c81['kind'],_0x380a65)}});}[_0x29fc43(0x340)]({params:_0x31aaa9}){const _0x305f64=_0x29fc43;if(!this[_0x305f64(0x9a6)])throw new _0x3335bf(_0x3335bf[_0x305f64(0x4ee)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x305f64(0x12a)],'ownerId':this[_0x305f64(0xab7)][_0x305f64(0x994)](),'remoteId':this['remoteId']});for(const _0xbbd758 of this[_0x305f64(0x1dd)][_0x305f64(0x98a)]())this['topic']['publish']({'sourceId':this[_0x305f64(0xab7)][_0x305f64(0x994)](),'content':{'action':_0x59cdc5['Update'],'stream':this['mediaStream'],'params':this[_0x305f64(0x162)](_0xbbd758[_0x305f64(0x4c2)],_0x31aaa9)}});}['unsubscribe']({trackKinds:_0x27c251}){const _0x24b238=_0x29fc43;if(this[_0x24b238(0x9a6)]){for(const _0x56e03d of this[_0x24b238(0x1dd)][_0x24b238(0x98a)]())_0x27c251['includes'](_0x56e03d[_0x24b238(0x4c2)])&&this[_0x24b238(0x9a6)]['publish']({'sourceId':this['owner']['getId'](),'content':{'action':_0x59cdc5[_0x24b238(0x915)],'stream':this[_0x24b238(0x1dd)],'track':_0x56e03d}});}}['registerPublisher'](_0x73fea9){this['topic']=_0x73fea9;}[_0x29fc43(0x649)](_0x2ab5f6){const _0x5b05c1=_0x29fc43;_0x2ab5f6===this[_0x5b05c1(0x9a6)]&&(delete this[_0x5b05c1(0x9a6)],this[_0x5b05c1(0x95c)][_0x5b05c1(0x289)]());}[_0x29fc43(0x1fd)](_0x48c9d9){const _0x14a0f9=_0x29fc43;return this['unregisterPublisherListener'][_0x14a0f9(0x75e)](_0x48c9d9);}['getTrack'](_0x262c67){const _0x18e453=_0x29fc43;return this[_0x18e453(0x1dd)][_0x18e453(0x98a)]()[_0x18e453(0x5a5)](_0x22ceb7=>_0x22ceb7[_0x18e453(0x4c2)]===_0x262c67)||null;}['getInternalTrackParams'](_0x10acb5,_0x4e0e7d){const _0x7ac76e=_0x29fc43;let _0x9231cc;return _0x7ac76e(0x41d)===_0x10acb5&&_0x4e0e7d?.[_0x7ac76e(0x41d)]&&_0x7ac76e(0x714)!=typeof _0x4e0e7d[_0x7ac76e(0x41d)]&&(_0x9231cc={'kind':_0x7ac76e(0x41d),..._0x4e0e7d[_0x7ac76e(0x41d)]},_0x9231cc[_0x7ac76e(0x213)]=this[_0x7ac76e(0x6b4)]()),_0x7ac76e(0x3c3)===_0x10acb5&&_0x4e0e7d?.[_0x7ac76e(0x3c3)]&&_0x7ac76e(0x714)!=typeof _0x4e0e7d[_0x7ac76e(0x3c3)]&&(_0x9231cc={'kind':_0x7ac76e(0x3c3),..._0x4e0e7d['audio']}),_0x9231cc;}[_0x29fc43(0x6b4)](){const _0x2a8a49=_0x29fc43;let _0x116e4c={'width':0x0,'height':0x0};const _0x1a15ec=this['mediaStream']['getVideoTracks']();if(_0x1a15ec[_0x2a8a49(0x4c5)]>0x0){const _0x2eaeff=_0x1a15ec[0x0]['getSettings']();_0x2eaeff[_0x2a8a49(0x82e)]&&_0x2eaeff[_0x2a8a49(0x4b2)]&&(_0x116e4c={'width':_0x2eaeff[_0x2a8a49(0x82e)],'height':_0x2eaeff[_0x2a8a49(0x4b2)]});}return _0x116e4c;}}class _0x5bdd5c extends _0x446f2b{[_0x29fc43(0x93b)];[_0x29fc43(0x572)]=_0x47b47a[_0x29fc43(0x37d)][_0x29fc43(0x548)];[_0x29fc43(0x633)]=new Map();[_0x29fc43(0x4f4)]=new Map();constructor(_0x57dbb0,_0x3af23f,_0x390edf,_0x2a51a4){const _0x44ff2f=_0x29fc43;super(_0x57dbb0,_0x3af23f,_0x390edf instanceof MediaStream?_0x390edf:_0x390edf['srcObject']?_0x390edf[_0x44ff2f(0x5eb)]:_0x390edf[_0x44ff2f(0xafb)]()),this[_0x44ff2f(0x93b)]=_0x2a51a4,this[_0x44ff2f(0x1dd)][_0x44ff2f(0x98a)]()[_0x44ff2f(0x7f9)](_0x3b6fb5=>this[_0x44ff2f(0x9a5)](_0x3b6fb5)),_0xb63eee[_0x44ff2f(0x110)](_0x127a0b[_0x44ff2f(0x133)],{'type':_0x44ff2f(0x289),'label':this[_0x44ff2f(0x12a)],'nodeId':this[_0x44ff2f(0xab7)][_0x44ff2f(0x994)](),'nodeType':this['owner'][_0x44ff2f(0xacf)],'clusterId':this[_0x44ff2f(0x93b)],'streamId':this[_0x44ff2f(0x9e7)](),'trackKinds':this[_0x44ff2f(0x1dd)]['getTracks']()['map'](_0x2c9e5c=>_0x2c9e5c[_0x44ff2f(0x4c2)])});}[_0x29fc43(0x13b)](){const _0x567995=_0x29fc43;this[_0x567995(0x4f4)][_0x567995(0xb18)]>0x0&&(this[_0x567995(0x4f4)][_0x567995(0x7f9)](_0x10d722=>{const _0x27fc5d=_0x567995;_0x10d722['unregisterSystemPublisher'](),_0x10d722[_0x27fc5d(0x13b)]();}),this[_0x567995(0x4f4)][_0x567995(0x985)]()),this[_0x567995(0x633)]['forEach'](_0x108120=>_0x108120()),super['destroy']();}[_0x29fc43(0x289)](_0x3c16f9){const _0x39b157=_0x29fc43;this['systemTopic'][_0x39b157(0x289)]({'sourceId':this[_0x39b157(0xab7)][_0x39b157(0x994)](),'destinationIds':_0x3c16f9?[_0x3c16f9]:void 0x0,'propagate':!0x0,'messageType':_0x158cb7[_0x39b157(0x9aa)],'content':{'type':_0x49b388[_0x39b157(0x5e6)],'ownerId':this[_0x39b157(0xab7)]['getId'](),'label':this[_0x39b157(0x12a)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this['mediaStream'][_0x39b157(0x98a)]()['map'](_0x2c63fd=>_0x2c63fd['kind'])}}});}[_0x29fc43(0x489)](){const _0x1ba494=_0x29fc43;this[_0x1ba494(0x3aa)]['publish']({'sourceId':this['owner'][_0x1ba494(0x994)](),'propagate':!0x0,'messageType':_0x158cb7[_0x1ba494(0x9aa)],'content':{'type':_0x49b388[_0x1ba494(0xa82)],'ownerId':this[_0x1ba494(0xab7)][_0x1ba494(0x994)](),'label':this[_0x1ba494(0x12a)]}}),this[_0x1ba494(0x3aa)]['publish']({'sourceId':_0x491349,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388[_0x1ba494(0x82c)],'label':this['label']}}),_0xb63eee[_0x1ba494(0x110)](_0x127a0b['MediaStream'],{'type':_0x1ba494(0x489),'label':this['label'],'nodeId':this[_0x1ba494(0xab7)][_0x1ba494(0x994)](),'nodeType':this['owner'][_0x1ba494(0xacf)],'clusterId':this[_0x1ba494(0x93b)],'streamId':this[_0x1ba494(0x9e7)]()});}[_0x29fc43(0x5c5)](){const _0x489d8f=_0x29fc43;return this[_0x489d8f(0x572)];}[_0x29fc43(0x47f)](_0x130479){const _0x5645a7=_0x29fc43;this[_0x5645a7(0x572)]=_0x130479,this[_0x5645a7(0x4f4)]['forEach'](_0x5cd612=>_0x5cd612[_0x5645a7(0x47f)](_0x130479));}[_0x29fc43(0x439)](_0x4de2f8,_0x271d62){const _0x50679e=_0x29fc43;if(!this[_0x50679e(0x4f4)][_0x50679e(0x716)](_0x4de2f8)){const _0x14c5d7=new _0x24826e(this[_0x50679e(0xab7)],this[_0x50679e(0x12a)],this[_0x50679e(0x1dd)],_0x4de2f8,_0x271d62),_0x2f712e=_0x14c5d7[_0x50679e(0x1fd)](()=>{const _0x329c99=_0x50679e;_0x2f712e(),this[_0x329c99(0x4f4)]['get'](_0x4de2f8)?.['destroy'](),this[_0x329c99(0x4f4)][_0x329c99(0x5ef)](_0x4de2f8);});this[_0x50679e(0x4f4)][_0x50679e(0x355)](_0x4de2f8,_0x14c5d7),_0x14c5d7[_0x50679e(0x911)](this[_0x50679e(0x3aa)]);}return this[_0x50679e(0x4f4)][_0x50679e(0x2a2)](_0x4de2f8);}['getShareableStreamId'](){const _0x3a025f=_0x29fc43;return this[_0x3a025f(0x1dd)]['id'];}[_0x29fc43(0x94a)](_0x45eeff){const _0x2b36b8=_0x29fc43;this['systemTopic'][_0x2b36b8(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x2b36b8(0x9aa)],'content':{'type':_0x49b388['LocalMediaStreamTrackFail'],'label':this[_0x2b36b8(0x12a)],'trackKinds':[_0x45eeff[_0x2b36b8(0x4c2)]]}});}[_0x29fc43(0x9a5)](_0x5a7457){const _0x41cbe2=_0x29fc43,_0x35e199=()=>this['handleLocalTrackFailure'](_0x5a7457);_0x5a7457[_0x41cbe2(0x8d8)](_0x41cbe2(0x2e9),_0x35e199),_0x5a7457['addEventListener'](_0x41cbe2(0xa43),_0x35e199),this[_0x41cbe2(0x633)][_0x41cbe2(0x355)](_0x5a7457[_0x41cbe2(0x4c2)],()=>{const _0x11bfe0=_0x41cbe2;_0x5a7457[_0x11bfe0(0x377)](_0x11bfe0(0x2e9),_0x35e199),_0x5a7457[_0x11bfe0(0x377)](_0x11bfe0(0xa43),_0x35e199),this[_0x11bfe0(0x633)]['delete'](_0x5a7457[_0x11bfe0(0x4c2)]);});}}class _0x22d809 extends _0x5bdd5c{['audioContext'];[_0x29fc43(0x60a)]=[];[_0x29fc43(0x3d6)];[_0x29fc43(0x332)];[_0x29fc43(0x482)];['sourceVideo'];[_0x29fc43(0x59e)];['context'];['interval'];constructor(_0x193cbe,_0x7c4652,_0x4e18c8,_0x37293d,_0x2faba1,_0x2cc2b8){const _0x5532a1=_0x29fc43;if(super(_0x193cbe,_0x7c4652,_0x4e18c8,_0x2cc2b8),this[_0x5532a1(0x351)]=_0x2faba1,this['clientStream']=this[_0x5532a1(0x1dd)],this[_0x5532a1(0x767)]=document[_0x5532a1(0x68b)](_0x5532a1(0x41d)),this['sourceVideo']['autoplay']=!0x0,this[_0x5532a1(0x767)][_0x5532a1(0x273)]=!0x0,this['sourceVideo'][_0x5532a1(0x5eb)]=this['clientStream'],this[_0x5532a1(0x767)]['load'](),this[_0x5532a1(0x767)][_0x5532a1(0x2c0)]=()=>{const _0xf10566=_0x5532a1;this[_0xf10566(0x767)][_0xf10566(0x134)]();},this[_0x5532a1(0x59e)]=document[_0x5532a1(0x68b)](_0x5532a1(0x59e)),this[_0x5532a1(0x781)]=this['canvas']['getContext']('2d'),this[_0x5532a1(0x1dd)]=this[_0x5532a1(0x59e)]['captureStream'](_0x37293d),this[_0x5532a1(0x482)]=this[_0x5532a1(0x351)][_0x5532a1(0x35f)](),this[_0x5532a1(0x3d6)][_0x5532a1(0xa37)]()[_0x5532a1(0x4c5)]>0x0){const _0x2363e1=this[_0x5532a1(0x3d6)]['getAudioTracks']()[0x0];this[_0x5532a1(0x332)]=this[_0x5532a1(0x351)][_0x5532a1(0x901)](new MediaStream([_0x2363e1])),this[_0x5532a1(0x332)][_0x5532a1(0x4bb)](this[_0x5532a1(0x482)]);}const _0xf1cc79=this[_0x5532a1(0x482)][_0x5532a1(0x787)][_0x5532a1(0x98a)]()[0x0];this['mediaStream'][_0x5532a1(0x37e)](_0xf1cc79),this[_0x5532a1(0x6c2)]=setInterval(()=>{const _0x1260d0=_0x5532a1;this['canvas']['width']=this[_0x1260d0(0x767)][_0x1260d0(0x1a3)],this[_0x1260d0(0x59e)]['height']=this[_0x1260d0(0x767)][_0x1260d0(0x58d)],this[_0x1260d0(0x767)][_0x1260d0(0x1a3)]?(0x0!==this[_0x1260d0(0x3d6)][_0x1260d0(0x1a5)]()['length']&&this[_0x1260d0(0x3d6)][_0x1260d0(0x1a5)]()[0x0]['enabled']?this[_0x1260d0(0x1dd)]['getVideoTracks']()[0x0][_0x1260d0(0x5ac)]=!0x0:this[_0x1260d0(0x1dd)][_0x1260d0(0x1a5)]()[0x0][_0x1260d0(0x5ac)]=!0x1,0x0!==this[_0x1260d0(0x3d6)][_0x1260d0(0xa37)]()[_0x1260d0(0x4c5)]&&this[_0x1260d0(0x3d6)][_0x1260d0(0xa37)]()[0x0][_0x1260d0(0x5ac)]?this[_0x1260d0(0x1dd)][_0x1260d0(0xa37)]()[0x0]['enabled']=!0x0:this[_0x1260d0(0x1dd)][_0x1260d0(0xa37)]()[0x0][_0x1260d0(0x5ac)]=!0x1,this['context'][_0x1260d0(0x194)](this[_0x1260d0(0x767)],0x0,0x0)):this['context'][_0x1260d0(0x4e0)](0x0,0x0,this[_0x1260d0(0x59e)][_0x1260d0(0x82e)],this[_0x1260d0(0x59e)][_0x1260d0(0x4b2)]);},0x3e8/_0x37293d);}[_0x29fc43(0x13b)](){const _0xccfa08=_0x29fc43;clearInterval(this[_0xccfa08(0x6c2)]),this[_0xccfa08(0x767)]['remove'](),this['canvas'][_0xccfa08(0x3ee)](),this['audioSource']?.['disconnect'](),this[_0xccfa08(0x482)][_0xccfa08(0x756)](),this[_0xccfa08(0x1dd)]['getTracks']()['forEach'](_0x8f8cc9=>{const _0x56d2b3=_0xccfa08;_0x8f8cc9[_0x56d2b3(0x5d5)](),this['mediaStream'][_0x56d2b3(0x903)](_0x8f8cc9);}),super['destroy']();}[_0x29fc43(0x37e)](_0x4979d0){const _0x535e01=_0x29fc43,_0xd4782=this['getTrack'](_0x4979d0[_0x535e01(0x4c2)]);_0xd4782&&this[_0x535e01(0x903)](_0xd4782),_0x535e01(0x3c3)!==_0x4979d0[_0x535e01(0x4c2)]?(_0x535e01(0x41d)===_0x4979d0['kind']&&this[_0x535e01(0x5db)](_0x4979d0),this[_0x535e01(0x9a5)](_0x4979d0)):this[_0x535e01(0x3e4)](_0x4979d0);}[_0x29fc43(0x903)](_0x4ddd12){const _0xd794db=_0x29fc43,_0x5d9ee8=this['getTrackFromParam'](_0x4ddd12);return _0x5d9ee8&&('audio'===_0x5d9ee8['kind']&&(this[_0xd794db(0x332)]?.['disconnect'](),this[_0xd794db(0x332)]=void 0x0),this[_0xd794db(0x633)][_0xd794db(0x2a2)](_0x5d9ee8[_0xd794db(0x4c2)])?.(),this['clientStream'][_0xd794db(0x903)](_0x5d9ee8)),_0x5d9ee8;}[_0x29fc43(0x13c)](_0x2f2f3c){const _0x2d6de0=_0x29fc43;this[_0x2d6de0(0x903)](_0x2f2f3c[_0x2d6de0(0x4c2)]),this[_0x2d6de0(0x37e)](_0x2f2f3c);}[_0x29fc43(0x636)](_0x3d378e){const _0x262242=_0x29fc43;this[_0x262242(0x60a)]=_0x3d378e;}['getTrack'](_0x2684b1){const _0x53e703=_0x29fc43;return this['clientStream']['getTracks']()[_0x53e703(0x5a5)](_0x524141=>_0x524141[_0x53e703(0x4c2)]===_0x2684b1)||null;}['getTrackFromParam'](_0x21b790){const _0x17b2a=_0x29fc43;return _0x17b2a(0x89c)==typeof _0x21b790?this[_0x17b2a(0x863)](_0x21b790):_0x21b790;}['addAudioTrack'](_0x454bef){const _0x1c102=_0x29fc43;_0x1c102(0x795)===this[_0x1c102(0x351)][_0x1c102(0x4db)]&&this['audioContext'][_0x1c102(0x143)](),this[_0x1c102(0x3d6)][_0x1c102(0x37e)](_0x454bef),this[_0x1c102(0x332)]=this[_0x1c102(0x351)]['createMediaStreamSource'](this[_0x1c102(0x3d6)]),this['audioSource']['connect'](this['audioDestination']);}[_0x29fc43(0x5db)](_0x30dad9){const _0x57fbee=_0x29fc43;this[_0x57fbee(0x3d6)][_0x57fbee(0x37e)](_0x30dad9),this['sourceVideo'][_0x57fbee(0x70b)]();}}class _0x1121a8 extends _0x5bdd5c{}class _0x179c73 extends _0x2b6b11{[_0x29fc43(0xa8a)];[_0x29fc43(0x93b)];[_0x29fc43(0x117)];[_0x29fc43(0x9d4)];[_0x29fc43(0x543)];[_0x29fc43(0x936)];['unsubscribeHandler'];[_0x29fc43(0x3f6)];[_0x29fc43(0x32e)]=new Map();[_0x29fc43(0x23b)]=new Map();[_0x29fc43(0x3d2)]=new Map();['pendingFilesTransactions']=new Map();[_0x29fc43(0x868)]=new Map();[_0x29fc43(0x76b)]=new Map();['objectStoreConnector'];[_0x29fc43(0x448)]=_0x2d590d();[_0x29fc43(0x2bc)]=new Map();[_0x29fc43(0x366)];[_0x29fc43(0xac7)]=0x0;[_0x29fc43(0x878)]=0x0;[_0x29fc43(0x268)]=!0x0;['isSyncing']=!0x0;['filesSynced']=0x0;[_0x29fc43(0x272)]=0x0;constructor(_0x392d37,_0x193598,_0x23e337,_0x25aae1,_0x445a7c,_0x476734,_0x2f3e2c,_0x34918f){const _0x386b36=_0x29fc43;if(_0x386b36(0x89c)!=typeof _0x193598)throw new _0x27674c(_0x3d6c7a[_0x386b36(0x7cd)],_0x386b36(0x157));super(_0x392d37,_0x193598),this[_0x386b36(0xa8a)]=_0x392d37,this['clusterId']=_0x23e337,this['vendorId']=_0x25aae1,this[_0x386b36(0x9d4)]=_0x445a7c,this[_0x386b36(0x543)]=_0x2f3e2c,this[_0x386b36(0x936)]=_0x34918f;const _0x3d1e35=_0x386b36(0x922)+this[_0x386b36(0x117)]+'ccc'+this[_0x386b36(0x93b)]+'ccc'+_0x193598;this['objectStoreConnector']=new _0x476734(_0x3d1e35),this[_0x386b36(0x268)]=this[_0x386b36(0x936)]?.[_0x386b36(0x268)]??!0x0,this[_0x386b36(0x936)]?.['standalone']&&(this[_0x386b36(0x268)]=!0x1),this[_0x386b36(0xb14)]();}['reset'](){const _0x19a7d6=_0x29fc43;this[_0x19a7d6(0xb14)]();}['getContentType'](){const _0x114a60=_0x29fc43;return _0x47b47a[_0x114a60(0x43d)][_0x114a60(0x72a)];}async[_0x29fc43(0xb1e)](){const _0x18fb0f=_0x29fc43;this[_0x18fb0f(0x81b)]=!0x0;try{const _0x1a888e=await this[_0x18fb0f(0x407)][_0x18fb0f(0x2a2)](_0x2cb964),_0x490631=await _0x1a888e[_0x18fb0f(0x637)]();this[_0x18fb0f(0x3f6)]=_0x490631;}catch(_0x1fb5df){}this['unsubscribeHandler']=this[_0x18fb0f(0x6b5)](async(_0x1ab4ff,_0x598fc1)=>{const _0x431b9a=_0x18fb0f;if(!(_0x598fc1 instanceof File))try{if(_0x598fc1[_0x431b9a(0x597)]===_0x531057['Request'])return void this[_0x431b9a(0x4ff)](_0x598fc1);this[_0x431b9a(0x63a)](_0x598fc1);}catch(_0x234d5a){if(_0x234d5a instanceof _0x3335bf)throw _0x234d5a;throw new _0x3335bf(_0x3335bf[_0x431b9a(0x4ee)][_0x431b9a(0x9d3)],{'payload':_0x598fc1});}}),await this['syncTransactions'](),this[_0x18fb0f(0x268)]?await this[_0x18fb0f(0xa26)]():this[_0x18fb0f(0x731)](),this[_0x18fb0f(0xb14)]();}[_0x29fc43(0x13b)](){const _0x1a3e52=_0x29fc43;this['unsubscribeHandler']?.(),this[_0x1a3e52(0x2bc)][_0x1a3e52(0x7f9)](_0x580fae=>_0x580fae()),this['listenerUnsubscribers']['clear'](),clearTimeout(this[_0x1a3e52(0x366)]),delete this['debounceStats'],super[_0x1a3e52(0x13b)]();}[_0x29fc43(0xb1b)](){const _0xa44c7b=_0x29fc43;this[_0xa44c7b(0x3aa)]?.[_0xa44c7b(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0xa44c7b(0x9aa)],'content':{'type':_0x49b388[_0xa44c7b(0x6b0)],'label':this[_0xa44c7b(0x12a)]}});}['subscribe'](_0x547618,_0x27e334){const _0x4125f4=_0x29fc43;if(this[_0x4125f4(0x2bc)][_0x4125f4(0x716)](_0x547618))throw new _0x27674c(_0x3d6c7a[_0x4125f4(0x7ff)],_0x4125f4(0xa5b));this[_0x4125f4(0x2bc)][_0x4125f4(0x355)](_0x547618,this['eventListener'][_0x4125f4(0x75e)](_0x27e334)),this[_0x4125f4(0x81b)]||this[_0x4125f4(0x448)][_0x4125f4(0x289)]({'event':_0x47b47a[_0x4125f4(0x8d9)]['SyncComplete'],'payload':{'filesSynced':this['filesSynced']}});}[_0x29fc43(0x515)](_0x3c9cef){const _0x10d090=_0x29fc43;this[_0x10d090(0x2bc)]['get'](_0x3c9cef)?.(),this[_0x10d090(0x2bc)][_0x10d090(0x5ef)](_0x3c9cef);}[_0x29fc43(0x289)](_0x2aa7cd){const _0x3ff57e=_0x29fc43;switch(_0x2aa7cd[_0x3ff57e(0x47e)]){case _0x47b47a[_0x3ff57e(0x9c0)][_0x3ff57e(0x1f9)]:return this['publishFile'](_0x2aa7cd[_0x3ff57e(0x15d)],_0x2aa7cd['path'],_0x2aa7cd['options']);case _0x47b47a['PayloadAction'][_0x3ff57e(0x79b)]:return this[_0x3ff57e(0x965)](_0x2aa7cd['path']);case _0x47b47a[_0x3ff57e(0x9c0)][_0x3ff57e(0x755)]:return this[_0x3ff57e(0x658)](_0x2aa7cd[_0x3ff57e(0x29c)],_0x2aa7cd[_0x3ff57e(0x6ef)]);default:throw new _0x27674c(_0x3d6c7a[_0x3ff57e(0x78d)],_0x3ff57e(0x84b)+_0x2aa7cd);}}async['unpublish'](_0x53cd35){const _0x17c2a0=_0x29fc43;try{const _0x1ae557=(0x0,_0x3adee5['v4'])(),_0x36eb16=this['lastTransactionId'],_0x5b5e20={'payloadType':_0x531057[_0x17c2a0(0x385)],'action':_0x25cff3[_0x17c2a0(0x55d)],'id':_0x1ae557,'parentId':_0x36eb16,'path':_0x53cd35};await this['publishTransaction'](_0x5b5e20);const _0x39a634=await this[_0x17c2a0(0x845)](_0x53cd35);!0x0!==this[_0x17c2a0(0x936)]?.[_0x17c2a0(0x828)]&&await this[_0x17c2a0(0xae4)](_0x5b5e20),_0xb63eee[_0x17c2a0(0x110)](_0x127a0b[_0x17c2a0(0x72c)],{'type':_0x17c2a0(0x489),'label':this[_0x17c2a0(0x12a)],'nodeId':this[_0x17c2a0(0xa8a)]['getId'](),'nodeType':this['localNode'][_0x17c2a0(0xacf)],'clusterId':this[_0x17c2a0(0x93b)],'kind':_0x39a634,'path':_0x53cd35}),this[_0x17c2a0(0xac7)]+=0x1,this['sendStats']();}catch(_0x135cfa){if(_0x135cfa instanceof _0x3335bf)throw new _0x27674c(_0x3d6c7a[_0x17c2a0(0x68e)],_0x17c2a0(0xa6a)+_0x53cd35+_0x17c2a0(0x3a1));throw new _0x27674c(_0x3d6c7a[_0x17c2a0(0x5e0)],_0x17c2a0(0x4b3)+_0x53cd35);}}async[_0x29fc43(0x2a2)](_0x30f181,_0x415056){const _0x1e64a2=_0x29fc43;_0xb63eee['logServiceEvent'](_0x127a0b[_0x1e64a2(0x72c)],{'type':'get','label':this[_0x1e64a2(0x12a)],'nodeId':this[_0x1e64a2(0xa8a)][_0x1e64a2(0x994)](),'nodeType':this['localNode'][_0x1e64a2(0xacf)],'clusterId':this[_0x1e64a2(0x93b)],'path':_0x30f181}),this[_0x1e64a2(0x878)]+=0x1,this[_0x1e64a2(0xb14)]();try{return await this['objectStoreConnector'][_0x1e64a2(0x2a2)](_0x30f181,_0x415056);}catch(_0x3df5a5){try{await this[_0x1e64a2(0x407)]['get'](_0x30f181+_0x2dc946);}catch(_0x580e08){throw new _0x27674c(_0x3d6c7a[_0x1e64a2(0x5e0)],_0x1e64a2(0x833)+_0x30f181);}throw new _0x27674c(_0x3d6c7a['ObjectStoreNotInSync'],_0x1e64a2(0x29a));}}async['list'](_0x51fd31,_0xa1a073){const _0x3a5fef=_0x29fc43,{recursive:_0x2eaed0=!0x1,includeSyncingFiles:_0x58238c=!0x1}=_0xa1a073??{};_0xb63eee[_0x3a5fef(0x110)](_0x127a0b[_0x3a5fef(0x72c)],{'type':_0x3a5fef(0x536),'label':this[_0x3a5fef(0x12a)],'nodeId':this['localNode'][_0x3a5fef(0x994)](),'nodeType':this[_0x3a5fef(0xa8a)][_0x3a5fef(0xacf)],'clusterId':this[_0x3a5fef(0x93b)],'path':_0x51fd31}),this[_0x3a5fef(0x878)]+=0x1,this[_0x3a5fef(0xb14)]();try{const _0x29f05d=await this['objectStoreConnector'][_0x3a5fef(0x536)](_0x51fd31,_0x2eaed0);return this[_0x3a5fef(0x63b)](_0x29f05d,{'recursive':_0x2eaed0,'includeSyncingFiles':_0x58238c});}catch(_0x5ea69d){throw new _0x27674c(_0x3d6c7a['ObjectStoreInvalidPath'],_0x3a5fef(0xaa0)+_0x51fd31);}}[_0x29fc43(0x9c5)](_0x2c3c38){const _0x223169=_0x29fc43;this['nodesConnected']+=0x1;for(const _0x29060b of this['objectRequests'][_0x223169(0x347)]())this[_0x223169(0xae4)](_0x29060b,[_0x2c3c38]);}['handleNodeLeave'](_0x18233e){const _0x487acc=_0x29fc43;this['nodesConnected']-=0x1;const _0x2aba03=this[_0x487acc(0x3d2)]['get'](_0x18233e);if(_0x2aba03){for(const [_0x28f06f,_0xa7ce6d]of _0x2aba03['values']())this['sendFileRequestPayload'](_0x28f06f,_0xa7ce6d);this[_0x487acc(0x3d2)][_0x487acc(0x5ef)](_0x18233e);}}async[_0x29fc43(0xaa6)](_0x3ece84='/'){const _0x5d68d5=_0x29fc43;try{return await this['objectStoreConnector'][_0x5d68d5(0x171)](_0x3ece84);}catch(_0x4ff8f5){if(_0x4ff8f5 instanceof Error&&_0x4ff8f5[_0x5d68d5(0x356)][_0x5d68d5(0x3a7)]('ENOENT'))return 0x0;throw new _0x27674c(_0x3d6c7a['ObjectStoreInvalidPath'],_0x5d68d5(0x5d0)+_0x3ece84);}}[_0x29fc43(0x731)](){const _0x4433e1=_0x29fc43;this[_0x4433e1(0x81b)]&&(this[_0x4433e1(0x81b)]=!0x1,this[_0x4433e1(0x448)][_0x4433e1(0x289)]({'event':_0x47b47a[_0x4433e1(0x8d9)][_0x4433e1(0x281)],'payload':{'filesSynced':this[_0x4433e1(0x1c4)]}}));}async[_0x29fc43(0x63b)](_0x2da479,{includeSyncingFiles:_0x2b9517=!0x1}){const _0x18285b=_0x29fc43,_0x33186f=[];for(const _0x396029 of _0x2da479)if(_0x396029['kind']!==_0x47b47a[_0x18285b(0x86d)][_0x18285b(0x79b)]){if(_0x396029[_0x18285b(0x3dd)]!==_0x2cb964){if(_0x396029[_0x18285b(0x3dd)][_0x18285b(0x349)](_0x2dc946)){if(!_0x2b9517)continue;const _0x2108ff=_0x396029;if(_0x2108ff[_0x18285b(0x3dd)]=_0x2108ff[_0x18285b(0x3dd)][_0x18285b(0x9fb)](_0x2dc946,''),_0x2108ff[_0x18285b(0x850)]=_0x2108ff['pathName'][_0x18285b(0x9fb)](_0x2dc946,''),await this[_0x18285b(0x9cd)](_0x2108ff['pathName'])){_0x2da479[_0x18285b(0x5a5)](_0x4159f9=>_0x4159f9['pathName']===_0x2108ff[_0x18285b(0x850)])['status']=_0x47b47a['FileStatus'][_0x18285b(0x6c0)];continue;}_0x2108ff[_0x18285b(0x883)]=_0x47b47a[_0x18285b(0x2b7)][_0x18285b(0x32c)];}_0x33186f[_0x18285b(0x9f9)](_0x396029);}}else _0x396029[_0x18285b(0x32b)]=await this[_0x18285b(0x63b)](_0x396029[_0x18285b(0x32b)]??[],{'includeSyncingFiles':_0x2b9517}),_0x33186f[_0x18285b(0x9f9)](_0x396029);return _0x33186f;}async['publishFile'](_0x3790b3,_0x496ca1,_0x38a171){const _0x7a51f4=_0x29fc43;try{const _0x35ad36=(0x0,_0x3adee5['v4'])(),_0x46b00a=await _0xb23a82(_0x3790b3),_0x1b47dc=_0x93568e(_0x496ca1??'/',_0x3790b3['name']);let _0x1ca9bd=!0x0;const _0x167c05={'payloadType':_0x531057[_0x7a51f4(0x385)],'action':_0x25cff3[_0x7a51f4(0x57b)],'id':_0x35ad36,'parentId':this[_0x7a51f4(0x3f6)],'answererId':this[_0x7a51f4(0xa8a)][_0x7a51f4(0x994)](),'name':_0x3790b3[_0x7a51f4(0x3dd)],'type':_0x3790b3['type'],'path':_0x496ca1??'/','skipEncryption':_0x38a171?.[_0x7a51f4(0x1d9)]??!0x1,'checksum':_0x46b00a};try{if(!_0x38a171?.[_0x7a51f4(0x895)])throw new Error(_0x7a51f4(0x71b));const _0x30f9a1=_0x1b47dc+_0x2dc946;await this['objectStoreConnector'][_0x7a51f4(0x2a2)](_0x30f9a1),_0x1ca9bd=!0x1,await this[_0x7a51f4(0x407)][_0x7a51f4(0x845)](_0x30f9a1),this[_0x7a51f4(0x23b)][_0x7a51f4(0x5ef)](_0x1b47dc);}catch(_0x355ec2){await this[_0x7a51f4(0x40a)](_0x167c05);}if(this['syncContent']||this[_0x7a51f4(0x936)]?.['standalone']?await this['writeFile'](_0x3790b3,_0x496ca1,_0x38a171):await this['createPendingFileWrite'](_0x3790b3['name'],_0x496ca1??'/',{'checksum':_0x46b00a,'skipEncryption':_0x38a171?.[_0x7a51f4(0x1d9)]??!0x1}),this[_0x7a51f4(0x76b)][_0x7a51f4(0x716)](_0x1b47dc)){const [_0x27e1b5,_0x2ace66]=this[_0x7a51f4(0x76b)]['get'](_0x1b47dc);this[_0x7a51f4(0x76b)][_0x7a51f4(0x355)](_0x1b47dc,[!0x0,_0x2ace66]);try{await _0x2ace66;}catch(_0x5cb9bd){}this['fileSendingMap']['delete'](_0x1b47dc);}_0x1ca9bd&&this[_0x7a51f4(0x272)]>0x0&&!0x0!==this[_0x7a51f4(0x936)]?.[_0x7a51f4(0x828)]&&await this[_0x7a51f4(0x22e)](_0x3790b3,_0x167c05),_0xb63eee[_0x7a51f4(0x110)](_0x127a0b[_0x7a51f4(0x72c)],{'type':_0x7a51f4(0x289),'label':this['label'],'nodeId':this[_0x7a51f4(0xa8a)]['getId'](),'nodeType':this[_0x7a51f4(0xa8a)][_0x7a51f4(0xacf)],'clusterId':this['clusterId'],'kind':_0x47b47a['ObjectKind'][_0x7a51f4(0x1f9)],'path':_0x496ca1,'fileName':_0x3790b3['name'],'fileType':_0x3790b3['type'],'size':_0x3790b3[_0x7a51f4(0xb18)]}),this['writes']+=0x1,this['sendStats']();}catch(_0x3c1dbc){if(_0x3c1dbc instanceof _0x3335bf)throw new _0x27674c(_0x3d6c7a[_0x7a51f4(0x68e)],_0x7a51f4(0x29a));throw new _0x27674c(_0x3d6c7a[_0x7a51f4(0x5e0)],_0x7a51f4(0xa59)+_0x496ca1+(_0x496ca1?.[_0x7a51f4(0x349)]('/')?'':'/')+_0x3790b3[_0x7a51f4(0x3dd)]);}}async[_0x29fc43(0x965)](_0x4e1f27){const _0x21fcfb=_0x29fc43;try{const _0x22a962=(0x0,_0x3adee5['v4'])(),_0x1d499c=this['lastTransactionId'],_0x51035e={'payloadType':_0x531057[_0x21fcfb(0x385)],'action':_0x25cff3['FolderCreate'],'id':_0x22a962,'parentId':_0x1d499c,'path':_0x4e1f27};await this[_0x21fcfb(0x40a)](_0x51035e),await this[_0x21fcfb(0x407)][_0x21fcfb(0xa79)](_0x4e1f27),!0x0!==this[_0x21fcfb(0x936)]?.[_0x21fcfb(0x828)]&&await this[_0x21fcfb(0xae4)](_0x51035e),_0xb63eee[_0x21fcfb(0x110)](_0x127a0b[_0x21fcfb(0x72c)],{'type':_0x21fcfb(0x289),'label':this[_0x21fcfb(0x12a)],'nodeId':this[_0x21fcfb(0xa8a)][_0x21fcfb(0x994)](),'nodeType':this[_0x21fcfb(0xa8a)][_0x21fcfb(0xacf)],'clusterId':this[_0x21fcfb(0x93b)],'kind':_0x47b47a[_0x21fcfb(0x86d)]['Folder'],'path':_0x4e1f27}),this['writes']+=0x1,this[_0x21fcfb(0xb14)]();}catch(_0x917351){if(_0x917351 instanceof _0x3335bf)throw new _0x27674c(_0x3d6c7a[_0x21fcfb(0x68e)],_0x21fcfb(0x29a));throw new _0x27674c(_0x3d6c7a[_0x21fcfb(0x5e0)],_0x21fcfb(0x9dc)+_0x4e1f27);}}async[_0x29fc43(0x658)](_0x5cedda,_0x28e487){const _0x102fb0=_0x29fc43;try{const _0x4a0bf=(0x0,_0x3adee5['v4'])(),_0x18cc88=this['lastTransactionId'],_0x1f1681={'payloadType':_0x531057[_0x102fb0(0x385)],'action':_0x25cff3[_0x102fb0(0x755)],'id':_0x4a0bf,'parentId':_0x18cc88,'path':_0x5cedda,'newPath':_0x28e487};await this[_0x102fb0(0x40a)](_0x1f1681);const _0x29576d=await this[_0x102fb0(0x45f)](_0x5cedda,_0x28e487);!0x0!==this['options']?.[_0x102fb0(0x828)]&&await this[_0x102fb0(0xae4)](_0x1f1681),_0xb63eee[_0x102fb0(0x110)](_0x127a0b['ObjectStorage'],{'type':_0x102fb0(0x2ee),'label':this[_0x102fb0(0x12a)],'nodeId':this[_0x102fb0(0xa8a)][_0x102fb0(0x994)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'kind':_0x29576d,'path':_0x5cedda,'newPath':_0x28e487}),this['writes']+=0x1,this[_0x102fb0(0xb14)]();}catch(_0x5d65aa){if(_0x5d65aa instanceof _0x3335bf)throw new _0x27674c(_0x3d6c7a[_0x102fb0(0x68e)],_0x102fb0(0x29a));throw new _0x27674c(_0x3d6c7a[_0x102fb0(0x5e0)],_0x102fb0(0x29b)+_0x5cedda);}}async['handleTransactionPayload'](_0x22eacb,_0x16351c=!0x1){const _0x11217b=_0x29fc43;if(this[_0x11217b(0x3f6)]&&_0x22eacb[_0x11217b(0x62c)]!==this[_0x11217b(0x3f6)]&&_0x22eacb['id']!==this[_0x11217b(0x3f6)]){if(!_0x22eacb[_0x11217b(0x62c)])throw new _0x3335bf(_0x3335bf['codes']['ObjectStoreInvalidSyncMessage']);this[_0x11217b(0x32e)][_0x11217b(0x355)](_0x22eacb['parentId'],_0x22eacb);}else{try{await this[_0x11217b(0x642)](_0x22eacb,_0x16351c);}catch(_0x22b4c3){}await this[_0x11217b(0x777)](_0x22eacb['id']),await this[_0x11217b(0x38c)](_0x22eacb['id'],_0x16351c);}}async[_0x29fc43(0x642)](_0x1fc01e,_0x28d243=!0x1){const _0x1cd77e=_0x29fc43;switch(_0x1fc01e['action']){case _0x25cff3['FileWrite']:await this[_0x1cd77e(0x5af)](_0x1fc01e);break;case _0x25cff3['FolderCreate']:await this[_0x1cd77e(0x14a)](_0x1fc01e);break;case _0x25cff3[_0x1cd77e(0x755)]:await this[_0x1cd77e(0x166)](_0x1fc01e,_0x28d243);break;case _0x25cff3[_0x1cd77e(0x55d)]:await this['handleObjectDelete'](_0x1fc01e,_0x28d243);break;default:throw new _0x3335bf(_0x3335bf[_0x1cd77e(0x4ee)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x1fc01e});}}async[_0x29fc43(0x38c)](_0x1465ae,_0xd29f69=!0x1){const _0x78425a=_0x29fc43;if(this[_0x78425a(0x32e)][_0x78425a(0x716)](_0x1465ae)){const _0xfe69d8=this[_0x78425a(0x32e)][_0x78425a(0x2a2)](_0x1465ae);this[_0x78425a(0x32e)]['delete'](_0x1465ae),await this[_0x78425a(0x63a)](_0xfe69d8,_0xd29f69);}}async['handleRequestPayload'](_0x275820){const _0x576af3=_0x29fc43;switch(_0x275820[_0x576af3(0x47e)]){case _0x25cff3[_0x576af3(0x79e)]:return this[_0x576af3(0x209)](_0x275820);case _0x25cff3[_0x576af3(0x708)]:return this[_0x576af3(0x138)](_0x275820);case _0x25cff3[_0x576af3(0x239)]:return this[_0x576af3(0xaf7)](_0x275820);case _0x25cff3[_0x576af3(0x288)]:return this[_0x576af3(0x5af)](_0x275820);default:throw new _0x3335bf(_0x3335bf[_0x576af3(0x4ee)][_0x576af3(0x9d3)],{'payload':_0x275820});}}async[_0x29fc43(0x5af)](_0x9a22ab,_0x49ec70=0x0){const _0x116d80=_0x29fc43,_0xf6776d=_0x93568e(_0x9a22ab[_0x116d80(0x29c)],_0x9a22ab[_0x116d80(0x3dd)]);if(!_0x9a22ab['data']||void 0x0===_0x9a22ab['index']||!_0x9a22ab[_0x116d80(0x9ad)])return this[_0x116d80(0x88c)][_0x116d80(0x5ef)](_0xf6776d),void await this[_0x116d80(0x494)](_0x9a22ab[_0x116d80(0x3dd)],_0x9a22ab[_0x116d80(0x29c)],{'checksum':_0x9a22ab['checksum'],'skipEncryption':_0x9a22ab['skipEncryption']});if(this['fileChunks']['has'](_0xf6776d)){const _0x18247f=this[_0x116d80(0x88c)][_0x116d80(0x2a2)](_0xf6776d);_0x18247f[_0x116d80(0x652)]!==_0x9a22ab[_0x116d80(0x652)]&&(_0x18247f[_0x116d80(0x787)]?.[_0x116d80(0xb1b)](),this['fileChunks']['delete'](_0xf6776d));}if(!this[_0x116d80(0x88c)][_0x116d80(0x716)](_0xf6776d)){try{await this[_0x116d80(0x407)]['deleteObject'](_0xf6776d);}catch(_0x4b7137){}try{const _0x215213=this['syncContent']?await this[_0x116d80(0x407)][_0x116d80(0x4d8)](_0xf6776d,{'skipEncryption':_0x9a22ab[_0x116d80(0x1d9)]}):void 0x0,_0x687cd7={'chunksReceived':_0x9a22ab[_0x116d80(0x7b3)]??0x0,'bytesReceived':0x0,'stream':_0x215213,'checksum':_0x9a22ab[_0x116d80(0x652)]};this[_0x116d80(0x88c)][_0x116d80(0x355)](_0xf6776d,_0x687cd7),await this['createPendingFileWrite'](_0x9a22ab[_0x116d80(0x3dd)],_0x9a22ab[_0x116d80(0x29c)],{'checksum':_0x9a22ab[_0x116d80(0x652)],'skipEncryption':_0x9a22ab[_0x116d80(0x1d9)]});}catch(_0x346503){}}const _0x3307f4=this['fileChunks'][_0x116d80(0x2a2)](_0xf6776d);if(_0x9a22ab['checksum']!==_0x3307f4['checksum'])return;if(this[_0x116d80(0x981)](_0x9a22ab,_0xf6776d),this[_0x116d80(0x268)]){if(!_0x3307f4[_0x116d80(0x787)])throw new _0x3335bf(_0x3335bf[_0x116d80(0x4ee)]['ObjectStoreInvalidSyncMessage'],{'message':_0x116d80(0x112)});let _0x3e1437=_0x3307f4['chunksReceived'];if(_0x9a22ab[_0x116d80(0x378)]!==_0x3e1437){if(_0x3e1437>_0x9a22ab[_0x116d80(0x378)])return;const _0xf88033=0x1000;if(_0x9a22ab[_0x116d80(0x378)]>_0x3e1437+_0xf88033)return;if(_0x3307f4[_0x116d80(0x6e4)]||(_0x3307f4[_0x116d80(0x6e4)]=[]),_0x3307f4['bufferedChunks'][_0x116d80(0x4c5)]>0x4000)throw this[_0x116d80(0x88c)][_0x116d80(0x5ef)](_0xf6776d),new _0x3335bf(_0x3335bf[_0x116d80(0x4ee)][_0x116d80(0x9d3)],{'message':_0x116d80(0x5a6)});return void _0x3307f4[_0x116d80(0x6e4)]['push'](_0x9a22ab);}try{_0x3307f4[_0x116d80(0x4c1)]+=0x1,_0x3307f4[_0x116d80(0x326)]+=_0x9a22ab[_0x116d80(0x7d7)][_0x116d80(0x13e)],await _0x3307f4['stream'][_0x116d80(0xa1c)](_0x9a22ab[_0x116d80(0x7d7)]);}catch(_0x43956d){if(console['error'](_0x116d80(0x793),_0x43956d),_0x49ec70>0x3)throw this[_0x116d80(0x88c)]['delete'](_0xf6776d),console[_0x116d80(0x3c9)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x43956d),new _0x3335bf(_0x3335bf[_0x116d80(0x4ee)][_0x116d80(0x9d3)],{'message':_0x116d80(0x78b)});return this['handleFileWrite'](_0x9a22ab,_0x49ec70+0x1);}}try{await this[_0x116d80(0x6c7)](_0x3307f4,_0x9a22ab[_0x116d80(0x378)]+0x1);}catch(_0x457616){throw this['fileChunks']['delete'](_0xf6776d),_0x457616;}if(this[_0x116d80(0x88c)][_0x116d80(0x355)](_0xf6776d,_0x3307f4),_0x3307f4[_0x116d80(0x4c1)]<_0x9a22ab[_0x116d80(0x9ad)])return;await this[_0x116d80(0xa66)](_0xf6776d),this[_0x116d80(0x268)]&&(await this[_0x116d80(0x91f)](_0x9a22ab),_0xb63eee['logServiceEvent'](_0x127a0b[_0x116d80(0x72c)],{'type':_0x116d80(0xb1e),'label':this[_0x116d80(0x12a)],'nodeId':this[_0x116d80(0xa8a)][_0x116d80(0x994)](),'nodeType':this[_0x116d80(0xa8a)][_0x116d80(0xacf)],'clusterId':this['clusterId'],'kind':_0x47b47a[_0x116d80(0x86d)][_0x116d80(0x1f9)],'path':_0x9a22ab['path'],'fileName':_0x9a22ab[_0x116d80(0x3dd)],'fileType':_0x9a22ab[_0x116d80(0xacf)],'size':_0x3307f4['bytesReceived']}));const _0x2a2a2f=this[_0x116d80(0x98c)]['get'](_0x9a22ab['path'])??[];for(const _0x2115e3 of _0x2a2a2f)await this[_0x116d80(0x642)](_0x2115e3);this[_0x116d80(0x98c)][_0x116d80(0x5ef)](_0x9a22ab[_0x116d80(0x29c)]),this[_0x116d80(0x448)][_0x116d80(0x289)]({'event':_0x47b47a[_0x116d80(0x8d9)][_0x116d80(0x57b)],'payload':{'file':{'kind':_0x47b47a['ObjectKind'][_0x116d80(0x1f9)],'path':_0x9a22ab[_0x116d80(0x29c)],'type':_0x9a22ab[_0x116d80(0xacf)],'size':_0x3307f4[_0x116d80(0x326)],'name':_0x9a22ab[_0x116d80(0x3dd)],'pathName':_0xf6776d,'status':this['syncContent']?_0x47b47a[_0x116d80(0x2b7)]['Synced']:_0x47b47a[_0x116d80(0x2b7)][_0x116d80(0x32c)]}}}),this['sendStats']();}async[_0x29fc43(0x6c7)](_0x3957dd,_0x15ef49){const _0x3b0b69=_0x29fc43,_0x573a8d=_0x3957dd['stream'];let _0x2f69f9=0x0;for(;_0x3957dd[_0x3b0b69(0x6e4)]&&_0x3957dd[_0x3b0b69(0x6e4)][_0x3b0b69(0x4c5)]>0x0;){const _0x207a90=_0x3957dd[_0x3b0b69(0x6e4)][_0x3b0b69(0x5a5)](_0x2546b6=>_0x2546b6[_0x3b0b69(0x378)]===_0x15ef49+0x1);if(!_0x207a90)break;_0x3957dd[_0x3b0b69(0x6e4)]=_0x3957dd[_0x3b0b69(0x6e4)][_0x3b0b69(0x81c)](_0x38146d=>_0x38146d[_0x3b0b69(0x378)]!==_0x15ef49+0x1);try{await _0x573a8d[_0x3b0b69(0xa1c)](_0x207a90[_0x3b0b69(0x7d7)]),_0x15ef49++;}catch(_0xfc87de){if(console[_0x3b0b69(0x3c9)](_0x3b0b69(0x44c),_0xfc87de),_0x2f69f9>0x3)throw console[_0x3b0b69(0x3c9)](_0x3b0b69(0x555),_0xfc87de),new _0x3335bf(_0x3335bf[_0x3b0b69(0x4ee)][_0x3b0b69(0x9d3)],{'message':_0x3b0b69(0x555)});_0x2f69f9++;continue;}_0x3957dd[_0x3b0b69(0x4c1)]+=0x1,_0x3957dd['bytesReceived']+=_0x207a90['data'][_0x3b0b69(0x13e)];}}async[_0x29fc43(0x14a)](_0x5d709b){const _0x325f87=_0x29fc43;await this['objectStoreConnector'][_0x325f87(0xa79)](_0x5d709b[_0x325f87(0x29c)]);const [_0x161db5,_0x22eba0]=_0x4152af(_0x5d709b['path']);this[_0x325f87(0x448)][_0x325f87(0x289)]({'event':_0x47b47a[_0x325f87(0x8d9)][_0x325f87(0xac6)],'payload':{'folder':{'kind':_0x47b47a[_0x325f87(0x86d)][_0x325f87(0x79b)],'name':_0x22eba0,'path':_0x161db5,'pathName':_0x5d709b[_0x325f87(0x29c)]}}});}async['handleObjectDelete'](_0x5ab68b,_0x5747fc=!0x1){const _0x807eca=_0x29fc43;if(!_0x5747fc&&!this[_0x807eca(0x34f)](_0x5ab68b))return;const _0x5237cb=await this[_0x807eca(0x845)](_0x5ab68b[_0x807eca(0x29c)]),[_0x5d64f8,_0x2baf0a]=_0x4152af(_0x5ab68b[_0x807eca(0x29c)]);this[_0x807eca(0x448)]['publish']({'event':_0x5237cb===_0x47b47a[_0x807eca(0x86d)][_0x807eca(0x79b)]?_0x47b47a[_0x807eca(0x8d9)][_0x807eca(0x3fb)]:_0x47b47a[_0x807eca(0x8d9)][_0x807eca(0xae7)],'payload':{'name':_0x2baf0a,'path':_0x5d64f8,'pathName':_0x5ab68b['path']}}),this[_0x807eca(0xb14)]();}async[_0x29fc43(0x166)](_0xe68447,_0x3654e4=!0x1){const _0x5a46f8=_0x29fc43;if(!_0x3654e4&&!this['shouldProcessTransaction'](_0xe68447))return this['pendingFilesRename'][_0x5a46f8(0x355)](_0xe68447[_0x5a46f8(0x6ef)],this[_0x5a46f8(0x868)][_0x5a46f8(0x2a2)](_0xe68447[_0x5a46f8(0x29c)])??_0xe68447[_0x5a46f8(0x29c)]),void this[_0x5a46f8(0x868)][_0x5a46f8(0x5ef)](_0xe68447['path']);this[_0x5a46f8(0x868)][_0x5a46f8(0x5ef)](_0xe68447[_0x5a46f8(0x29c)]);const _0x1a8312=await this[_0x5a46f8(0x407)][_0x5a46f8(0x45f)](_0xe68447[_0x5a46f8(0x29c)],_0xe68447[_0x5a46f8(0x6ef)]),[_0x43118a,_0x948869]=_0x4152af(_0xe68447[_0x5a46f8(0x29c)]),[_0x55ad16,_0x151ed9]=_0x4152af(_0xe68447[_0x5a46f8(0x6ef)]);this[_0x5a46f8(0x448)][_0x5a46f8(0x289)]({'event':_0x1a8312===_0x47b47a[_0x5a46f8(0x86d)][_0x5a46f8(0x79b)]?_0x47b47a[_0x5a46f8(0x8d9)]['FolderMove']:_0x47b47a['StorageEventType'][_0x5a46f8(0x3e2)],'payload':{'name':_0x151ed9,'path':_0x55ad16,'pathName':_0xe68447[_0x5a46f8(0x6ef)],'oldName':_0x948869,'oldPath':_0x43118a,'oldPathName':_0xe68447[_0x5a46f8(0x29c)]}}),this[_0x5a46f8(0xb14)]();}[_0x29fc43(0x34f)](_0xe96ea6){const _0x7d1be=_0x29fc43,_0x316f8c=this['pendingFilesRename']['get'](_0xe96ea6[_0x7d1be(0x29c)])??_0xe96ea6[_0x7d1be(0x29c)];let _0x7431fd=!0x1;for(const _0xdbf835 of this[_0x7d1be(0x88c)][_0x7d1be(0x5da)]())if(_0xdbf835[_0x7d1be(0xa8b)](_0x316f8c)){const _0x1386e2=this[_0x7d1be(0x98c)][_0x7d1be(0x2a2)](_0xdbf835)??[];_0x1386e2[_0x7d1be(0x9f9)](_0xe96ea6),this[_0x7d1be(0x98c)]['set'](_0xdbf835,_0x1386e2),_0x7431fd=!0x0;}return!_0x7431fd;}async[_0x29fc43(0x40a)](_0x4d8248){const _0x1d6536=_0x29fc43;if(!this[_0x1d6536(0x936)]?.[_0x1d6536(0x828)]){if(!_0x4d8248['id'])throw new _0x3335bf(_0x3335bf[_0x1d6536(0x4ee)][_0x1d6536(0x9d3)],{'message':_0x1d6536(0x226)});if(_0x4d8248[_0x1d6536(0x62c)]!==this[_0x1d6536(0x3f6)])throw new _0x3335bf(_0x3335bf[_0x1d6536(0x4ee)][_0x1d6536(0x145)]);await this['transactionService'][_0x1d6536(0x49a)](_0x4d8248,this[_0x1d6536(0x12a)]),await this[_0x1d6536(0x777)](_0x4d8248['id']);}}async[_0x29fc43(0x777)](_0x3bd177){const _0x5437a5=_0x29fc43;this[_0x5437a5(0x3f6)]=_0x3bd177;const _0x370267=new File([new Blob([this[_0x5437a5(0x3f6)]])],_0x2cb964,{'type':'text/plain'});await this[_0x5437a5(0x8fc)](_0x370267,'/');}async[_0x29fc43(0x209)](_0x487897){const _0x42d44f=_0x29fc43;try{const _0x481b34=await this[_0x42d44f(0x2a2)](_0x487897[_0x42d44f(0x29c)]+'/'+_0x487897[_0x42d44f(0x3dd)],{'skipEncryption':_0x487897['skipEncryption']}),_0x13e890=await _0xb23a82(_0x481b34);if(''!==_0x487897['checksum']&&_0x13e890!==_0x487897['checksum'])return;_0x487897[_0x42d44f(0x4e3)]=this[_0x42d44f(0xa8a)][_0x42d44f(0x994)](),_0x487897[_0x42d44f(0x47e)]=_0x25cff3[_0x42d44f(0x708)],await this[_0x42d44f(0xae4)](_0x487897,[_0x487897[_0x42d44f(0xad5)]]);}catch(_0x241e02){}}async[_0x29fc43(0x138)](_0x45ac68){const _0x2cc4fb=_0x29fc43,_0x55cc59=_0x93568e(_0x45ac68['path'],_0x45ac68[_0x2cc4fb(0x3dd)]);if(!this[_0x2cc4fb(0x23b)][_0x2cc4fb(0x716)](_0x55cc59))return;const _0x3ec3a7=this[_0x2cc4fb(0x23b)]['get'](_0x55cc59);_0x3ec3a7[_0x2cc4fb(0x47e)]=_0x25cff3[_0x2cc4fb(0x239)];const _0x51f590=_0x45ac68[_0x2cc4fb(0x4e3)];if(!_0x51f590)throw new _0x3335bf(_0x3335bf[_0x2cc4fb(0x4ee)][_0x2cc4fb(0x9d3)],{'message':_0x2cc4fb(0x8f3)});if(this[_0x2cc4fb(0x23b)][_0x2cc4fb(0x5ef)](_0x55cc59),this[_0x2cc4fb(0x3d2)][_0x2cc4fb(0x716)](_0x51f590)||this[_0x2cc4fb(0x3d2)][_0x2cc4fb(0x355)](_0x51f590,new Map()),this[_0x2cc4fb(0x3d2)][_0x2cc4fb(0x2a2)](_0x51f590)['set'](_0x55cc59,[_0x3ec3a7,this[_0x2cc4fb(0x5e9)](_0x51f590,_0x55cc59)]),_0x3ec3a7['answererId']=_0x51f590,_0x3ec3a7[_0x2cc4fb(0x7b3)]=this[_0x2cc4fb(0x88c)]['get'](_0x55cc59)?.[_0x2cc4fb(0x4c1)]??0x0,0x0===_0x3ec3a7[_0x2cc4fb(0x7b3)])try{const [_0x182b5b,_0x403caa]=await this[_0x2cc4fb(0x871)](_0x45ac68[_0x2cc4fb(0x3dd)],_0x45ac68[_0x2cc4fb(0x29c)],_0x45ac68[_0x2cc4fb(0x652)]);_0x182b5b&&(_0x3ec3a7['startIndex']=_0x403caa);}catch(_0x275bb9){}this[_0x2cc4fb(0xae4)](_0x3ec3a7,[_0x51f590]);}async[_0x29fc43(0xaf7)](_0x22d58c){const _0x46b55f=_0x29fc43,_0x23d5be=_0x93568e(_0x22d58c['path'],_0x22d58c[_0x46b55f(0x3dd)]),_0x35dbe2=await this[_0x46b55f(0x2a2)](_0x23d5be,{'skipEncryption':_0x22d58c[_0x46b55f(0x1d9)]}),_0x403369={..._0x22d58c,'answererId':this[_0x46b55f(0xa8a)][_0x46b55f(0x994)](),'action':_0x25cff3[_0x46b55f(0x288)],'startIndex':_0x22d58c['startIndex']??0x0};await this[_0x46b55f(0x22e)](_0x35dbe2,_0x403369,[_0x22d58c[_0x46b55f(0xad5)]]);}async['sendFile'](_0x142716,_0x365bd7,_0x3259e8){let _0x263614,_0x4caf30;const _0x2974ad=new Promise(async(_0x3f612e,_0x5c9bac)=>{_0x263614=_0x3f612e,_0x4caf30=_0x5c9bac;});return((async()=>{const _0x153c3d=a0_0x424d,_0x2e4310=Math[_0x153c3d(0x687)](_0x142716[_0x153c3d(0xb18)]/_0x27bcc0);let _0x14a2bf=_0x365bd7[_0x153c3d(0x7b3)]??0x0;const _0x3ccd42=_0x93568e(_0x365bd7[_0x153c3d(0x29c)],_0x365bd7[_0x153c3d(0x3dd)]);this[_0x153c3d(0x76b)][_0x153c3d(0x355)](_0x3ccd42,[!0x1,_0x2974ad]);for await(const _0x44efc3 of async function*(_0x1a4c5e,_0x29c5fa=0x0,_0x5cdaa1){for await(const _0x39424b of _0x4cab42(_0x1a4c5e,_0x29c5fa,_0x5cdaa1))yield _0x39424b;}(_0x142716,_0x14a2bf,this['waitForArrayBufferSize'])){const [_0x585afe]=this[_0x153c3d(0x76b)][_0x153c3d(0x2a2)](_0x3ccd42)??[];if(_0x585afe)return this['fileSendingMap'][_0x153c3d(0x5ef)](_0x3ccd42),void _0x4caf30(new Error('File\x20sending\x20interrupted'));if(this[_0x153c3d(0x98c)][_0x153c3d(0x716)](_0x3ccd42)){const _0x3d27f6=this[_0x153c3d(0x98c)]['get'](_0x3ccd42);for(const _0x2cd4c8 of _0x3d27f6)if(_0x2cd4c8[_0x153c3d(0x47e)]===_0x25cff3[_0x153c3d(0x57b)]||_0x2cd4c8['action']===_0x25cff3[_0x153c3d(0x55d)])return;}const _0x14e771={..._0x365bd7,'type':_0x142716[_0x153c3d(0xacf)],'data':_0x44efc3,'index':_0x14a2bf,'total':_0x2e4310};this[_0x153c3d(0xae4)](_0x14e771,_0x3259e8),_0x14a2bf++;}const _0x27e834=setInterval(async()=>{const _0x1d1e9a=_0x153c3d;await this[_0x1d1e9a(0x543)]()>0x0||(clearInterval(_0x27e834),_0x263614());});this[_0x153c3d(0x76b)][_0x153c3d(0x5ef)](_0x3ccd42);})()),_0x2974ad;}async[_0x29fc43(0x91f)](_0x3534e8){const _0x4fa961=_0x29fc43;try{const _0x2c309e=_0x93568e(_0x3534e8['path'],_0x3534e8['name']),_0x1dcac2=_0x2c309e+_0x2dc946;await this['deleteObject'](_0x1dcac2);const [,_0x18cd21]=this['pendingFilesSyncing']['get'](_0x3534e8[_0x4fa961(0x4e3)])?.[_0x4fa961(0x2a2)](_0x2c309e)??[];_0x18cd21&&(clearTimeout(_0x18cd21),this[_0x4fa961(0x3d2)][_0x4fa961(0x2a2)](_0x3534e8[_0x4fa961(0x4e3)])['delete'](_0x2c309e));}catch(_0x1bbde2){}0x0===this[_0x4fa961(0x3d2)][_0x4fa961(0x2a2)](_0x3534e8[_0x4fa961(0x4e3)])?.[_0x4fa961(0xb18)]&&this[_0x4fa961(0x3d2)][_0x4fa961(0x5ef)](_0x3534e8['answererId']),0x0===this[_0x4fa961(0x3d2)]['size']&&0x0===this[_0x4fa961(0x23b)][_0x4fa961(0xb18)]&&this[_0x4fa961(0x731)]();}async[_0x29fc43(0x6d9)](){const _0x960ea4=_0x29fc43;try{const _0xb748cd=await this[_0x960ea4(0x9d4)]['getTransactions'](this[_0x960ea4(0x12a)],this['lastTransactionId']);for(const _0x2e38bf of _0xb748cd)await this[_0x960ea4(0x63a)](_0x2e38bf,!0x0);}catch(_0x251e3d){if(_0x251e3d instanceof _0x3335bf&&_0x251e3d['code']===_0x3335bf[_0x960ea4(0x4ee)][_0x960ea4(0x753)]){await this[_0x960ea4(0x407)][_0x960ea4(0x845)](_0x2cb964),delete this['lastTransactionId'];try{const _0x9b4bed=await this[_0x960ea4(0x407)][_0x960ea4(0x536)]('/',!0x1);for(const _0x35f862 of _0x9b4bed)await this[_0x960ea4(0x407)][_0x960ea4(0x845)](_0x35f862[_0x960ea4(0x850)]);}catch(_0x408997){}return await this[_0x960ea4(0x6d9)]();}throw _0x251e3d;}}async[_0x29fc43(0xa26)](){const _0x4f608a=_0x29fc43,_0x1c8871=await this[_0x4f608a(0x536)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x5354cb=async _0x3a2351=>{const _0x5e96af=_0x4f608a;for(const _0x29032c of _0x3a2351){if(_0x29032c[_0x5e96af(0x4c2)]===_0x47b47a[_0x5e96af(0x86d)][_0x5e96af(0x79b)]){_0x29032c[_0x5e96af(0x32b)]&&_0x29032c[_0x5e96af(0x32b)][_0x5e96af(0x4c5)]>0x0&&await _0x5354cb(_0x29032c[_0x5e96af(0x32b)]);continue;}if(_0x29032c[_0x5e96af(0x883)]!==_0x47b47a[_0x5e96af(0x2b7)][_0x5e96af(0x32c)])continue;const _0x47b4ed=await this[_0x5e96af(0x2a2)](_0x29032c[_0x5e96af(0x850)]+_0x2dc946),_0x2362a7=JSON[_0x5e96af(0x763)](await _0x47b4ed[_0x5e96af(0x637)]()),_0x4272a6=_0x29032c['name']['replace'](_0x2dc946,''),_0x1ef930={'payloadType':_0x531057[_0x5e96af(0x7dc)],'action':_0x25cff3[_0x5e96af(0x79e)],'sourceId':this[_0x5e96af(0xa8a)][_0x5e96af(0x994)](),'type':'','path':_0x29032c[_0x5e96af(0x29c)],'name':_0x4272a6,'checksum':_0x2362a7[_0x5e96af(0x652)],'skipEncryption':_0x2362a7[_0x5e96af(0x1d9)]},_0x4fe06f=_0x93568e(_0x29032c[_0x5e96af(0x29c)],_0x4272a6);this['objectRequests'][_0x5e96af(0x355)](_0x4fe06f,_0x1ef930);}};await _0x5354cb(_0x1c8871),0x0===this[_0x4f608a(0x23b)][_0x4f608a(0xb18)]&&0x0===this[_0x4f608a(0x3d2)][_0x4f608a(0xb18)]&&this[_0x4f608a(0x731)]();}async['createPendingFileWrite'](_0x410adc,_0x27ef6c,_0x5c039d){const _0x33acaa=_0x29fc43,_0x3ce4f0=new File([new Blob([JSON['stringify'](_0x5c039d)])],''+_0x410adc+_0x2dc946,{'type':_0x33acaa(0x45d)});await this[_0x33acaa(0x8fc)](_0x3ce4f0,_0x27ef6c);}async[_0x29fc43(0x871)](_0x4d2b0c,_0x191765,_0x168c98){const _0x5a10a4=_0x29fc43;try{const _0x3fbbac=_0x93568e(_0x191765,_0x4d2b0c),_0x498a61=_0x3fbbac+_0x2dc946,_0x8ae02b=await this[_0x5a10a4(0x407)][_0x5a10a4(0x2a2)](_0x498a61),{checksum:_0x8908fc,skipEncryption:_0x47ec19}=JSON[_0x5a10a4(0x763)](await _0x8ae02b['text']()),_0x3423c9=(await this[_0x5a10a4(0x407)][_0x5a10a4(0x2a2)](_0x3fbbac,{'skipEncryption':_0x47ec19}))[_0x5a10a4(0xb18)];return _0x8908fc===_0x168c98&&_0x3423c9%_0x27bcc0==0x0?[!0x0,Math[_0x5a10a4(0x48e)](_0x3423c9/_0x27bcc0)]:(await this['objectStoreConnector'][_0x5a10a4(0x845)](_0x3fbbac),[!0x1,0x0]);}catch(_0x3a9d39){return[!0x1,0x0];}}[_0x29fc43(0x5e9)](_0x2305a5,_0x44c0cc){const _0x425a23=_0x29fc43,[_0x2f5542,_0x57ad7f]=this['pendingFilesSyncing'][_0x425a23(0x2a2)](_0x2305a5)?.[_0x425a23(0x2a2)](_0x44c0cc)??[];return _0x57ad7f&&clearTimeout(_0x57ad7f),setTimeout(()=>{const _0xcc495e=_0x425a23,[_0x491e16,_0x4ce4c5]=this[_0xcc495e(0x3d2)]['get'](_0x2305a5)[_0xcc495e(0x2a2)](_0x44c0cc);this[_0xcc495e(0x4a8)](_0x491e16,_0x4ce4c5);},0x927c0);}async[_0x29fc43(0x4a8)](_0x454235,_0x12f84a){const _0x4723e0=_0x29fc43;clearTimeout(_0x12f84a),_0x454235['action']=_0x25cff3[_0x4723e0(0x79e)],this[_0x4723e0(0x23b)][_0x4723e0(0x355)](_0x93568e(_0x454235[_0x4723e0(0x29c)],_0x454235[_0x4723e0(0x3dd)]),_0x454235),this[_0x4723e0(0xae4)](_0x454235);}[_0x29fc43(0x981)](_0x1399ff,_0x129ef3){const _0x54e7c0=_0x29fc43;if(!this[_0x54e7c0(0x268)])return;this['pendingFilesSyncing'][_0x54e7c0(0x716)](_0x1399ff[_0x54e7c0(0x4e3)])||this['pendingFilesSyncing']['set'](_0x1399ff[_0x54e7c0(0x4e3)],new Map());const [_0x259c58]=this[_0x54e7c0(0x3d2)][_0x54e7c0(0x2a2)](_0x1399ff['answererId'])[_0x54e7c0(0x2a2)](_0x129ef3)??[{'payloadType':_0x531057[_0x54e7c0(0x7dc)],'action':_0x25cff3[_0x54e7c0(0x79e)],'sourceId':this[_0x54e7c0(0xa8a)][_0x54e7c0(0x994)](),'type':_0x1399ff[_0x54e7c0(0xacf)],'name':_0x1399ff['name'],'path':_0x1399ff['path'],'skipEncryption':_0x1399ff[_0x54e7c0(0x1d9)],'checksum':_0x1399ff[_0x54e7c0(0x652)],'answererId':_0x1399ff[_0x54e7c0(0x4e3)]}];this[_0x54e7c0(0x3d2)]['get'](_0x1399ff[_0x54e7c0(0x4e3)])[_0x54e7c0(0x355)](_0x129ef3,[_0x259c58,this[_0x54e7c0(0x5e9)](_0x1399ff[_0x54e7c0(0x4e3)],_0x129ef3)]);}async[_0x29fc43(0x8fc)](_0x42fb2c,_0x25491f,_0x5e0421){const _0x1f623e=_0x29fc43;this[_0x1f623e(0x81b)]&&(this[_0x1f623e(0x1c4)]+=0x1),await this[_0x1f623e(0x407)]['writeFile'](_0x42fb2c,_0x25491f,_0x5e0421);}async[_0x29fc43(0x845)](_0x3251b7){const _0x594fe8=_0x29fc43;try{const _0x2f27d3=await this[_0x594fe8(0x407)][_0x594fe8(0x845)](_0x3251b7);if(!_0x3251b7['endsWith'](_0x2dc946))try{await this[_0x594fe8(0x407)][_0x594fe8(0x845)](_0x3251b7+_0x2dc946);}catch(_0x1f8f82){}return this['isSyncing']&&_0x2f27d3===_0x47b47a[_0x594fe8(0x86d)][_0x594fe8(0x1f9)]&&(this[_0x594fe8(0x1c4)]+=0x1),_0x2f27d3;}catch(_0x5937cf){return await this['objectStoreConnector']['deleteObject'](_0x3251b7+_0x2dc946);}}async[_0x29fc43(0x45f)](_0x223fb8,_0x211b27){const _0x5c792b=_0x29fc43;try{const _0x5470a3=await this[_0x5c792b(0x407)]['moveObject'](_0x223fb8,_0x211b27);if(!_0x223fb8[_0x5c792b(0x349)](_0x2dc946))try{await this[_0x5c792b(0x407)][_0x5c792b(0x45f)](_0x223fb8+_0x2dc946,_0x211b27+_0x2dc946);}catch(_0x7212f){}return _0x5470a3;}catch(_0x28eb77){return await this[_0x5c792b(0x407)][_0x5c792b(0x45f)](_0x223fb8+_0x2dc946,_0x211b27+_0x2dc946);}}['sendStats'](){const _0x24ce29=_0x29fc43;this['debounceStats']&&clearTimeout(this[_0x24ce29(0x366)]),this[_0x24ce29(0x366)]=setTimeout(async()=>{const _0x24f336=_0x24ce29;delete this[_0x24f336(0x366)];const _0x430a13=await this[_0x24f336(0x407)][_0x24f336(0x171)]('/');this['systemTopic']?.[_0x24f336(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x24f336(0x9aa)],'content':{'type':_0x49b388[_0x24f336(0x63f)],'label':this[_0x24f336(0x12a)],'stats':{'timestamp':Date[_0x24f336(0x653)](),'storage':_0x430a13,'messagesSent':this[_0x24f336(0x5e8)],'messagesReceived':this[_0x24f336(0x3fe)],'bytesSent':this[_0x24f336(0x656)],'bytesReceived':this[_0x24f336(0x326)],'writes':this[_0x24f336(0xac7)],'reads':this[_0x24f336(0x878)],'prompts':0x0,'tokens':0x0}}}),this[_0x24f336(0x268)]&&_0xb63eee[_0x24f336(0x64d)](_0x127a0b[_0x24f336(0x72c)],_0x24f336(0x922)+this[_0x24f336(0x93b)]+_0x24f336(0x922)+this[_0x24f336(0x12a)],_0x430a13);},_0x5e5c9a);}async['syncedFileExists'](_0x5cb7a6){const _0x185c43=_0x29fc43;try{return await this[_0x185c43(0x2a2)](_0x5cb7a6),!0x0;}catch(_0x3d0611){return!0x1;}}async['deleteFileChunks'](_0x10fe84){const _0x453d6e=_0x29fc43;if(!this[_0x453d6e(0x88c)][_0x453d6e(0x716)](_0x10fe84))return;const _0x21bd77=this[_0x453d6e(0x88c)]['get'](_0x10fe84);if(_0x21bd77[_0x453d6e(0x787)])try{await _0x21bd77['stream'][_0x453d6e(0xb1b)]();}catch(_0x127df8){console[_0x453d6e(0x3c9)](_0x453d6e(0x851),_0x127df8);}this[_0x453d6e(0x88c)][_0x453d6e(0x5ef)](_0x10fe84);}}class _0xb801b9 extends _0x2b6b11{[_0x29fc43(0xa8a)];['clusterId'];[_0x29fc43(0x6f6)]=new Map();['debounceStats'];constructor(_0x1236cd,_0x4efd1a,_0xc60e6a){const _0x5943e6=_0x29fc43;if('string'!=typeof _0x4efd1a)throw new _0x27674c(_0x3d6c7a[_0x5943e6(0x3c5)],_0x5943e6(0x5cb));super(_0x1236cd,_0x4efd1a),this[_0x5943e6(0xa8a)]=_0x1236cd,this['clusterId']=_0xc60e6a,this[_0x5943e6(0xb14)]();}[_0x29fc43(0x94c)](){this['sendStats']();}[_0x29fc43(0x5f5)](){const _0x5f1c4b=_0x29fc43;return _0x47b47a[_0x5f1c4b(0x43d)][_0x5f1c4b(0x47a)];}[_0x29fc43(0x289)](_0x28e607,_0x279dd8){const _0x12c226=_0x29fc43;_0xb63eee['log'](_0x30994c[_0x12c226(0x47a)],_0x12c226(0x10b),this[_0x12c226(0xa8a)][_0x12c226(0x994)](),_0x28e607,_0x279dd8),_0xb63eee[_0x12c226(0x110)](_0x127a0b['PubSub'],{'type':_0x12c226(0x289),'label':this[_0x12c226(0x12a)],'nodeId':this[_0x12c226(0xa8a)][_0x12c226(0x994)](),'nodeType':this[_0x12c226(0xa8a)][_0x12c226(0xacf)],'clusterId':this[_0x12c226(0x93b)],'remoteIds':_0x279dd8??[],'contentType':_0x28e607 instanceof File?_0x47b47a[_0x12c226(0x43d)][_0x12c226(0x1f9)]:_0x47b47a['ContentType'][_0x12c226(0xa7d)],'size':_0x28e607 instanceof File?_0x28e607['size']:JSON[_0x12c226(0x9a0)](_0x28e607)['length']}),this[_0x12c226(0xb14)](),this[_0x12c226(0xae4)](_0x28e607,_0x279dd8);}[_0x29fc43(0x75e)](_0x38c778,_0x207dbf){const _0x1f55fd=_0x29fc43;if(this[_0x1f55fd(0x6f6)][_0x1f55fd(0x716)](_0x38c778))throw new _0x27674c(_0x3d6c7a[_0x1f55fd(0x271)],_0x1f55fd(0xb1f));this['unsubscribeHandler']['set'](_0x38c778,this[_0x1f55fd(0x6b5)]((_0x3e1d7c,_0x2f0245)=>{const _0x2f0ecf=_0x1f55fd;_0x2f0ecf(0x7d7)===_0x38c778&&_0x2f0245 instanceof File||!(_0x2f0ecf(0x15d)!==_0x38c778||_0x2f0245 instanceof File)||(_0xb63eee[_0x2f0ecf(0x195)](_0x30994c['PubSub'],'PubSubTopic\x20onMessage',this[_0x2f0ecf(0xa8a)][_0x2f0ecf(0x994)](),_0x3e1d7c,_0x2f0245),_0xb63eee[_0x2f0ecf(0x110)](_0x127a0b[_0x2f0ecf(0x47a)],{'type':_0x2f0ecf(0x75e),'label':this[_0x2f0ecf(0x12a)],'nodeId':this[_0x2f0ecf(0xa8a)][_0x2f0ecf(0x994)](),'nodeType':this[_0x2f0ecf(0xa8a)][_0x2f0ecf(0xacf)],'clusterId':this[_0x2f0ecf(0x93b)],'remoteId':_0x3e1d7c,'contentType':_0x38c778,'size':_0x2f0245 instanceof File?_0x2f0245[_0x2f0ecf(0xb18)]:JSON[_0x2f0ecf(0x9a0)](_0x2f0245)['length']}),this[_0x2f0ecf(0xb14)](),_0x207dbf(_0x3e1d7c,_0x2f0245));}));}[_0x29fc43(0x515)](_0x53d6b5){const _0x30e875=_0x29fc43;this[_0x30e875(0x6f6)]['get'](_0x53d6b5)?.(),this[_0x30e875(0x6f6)]['delete'](_0x53d6b5);}[_0x29fc43(0x13b)](){const _0x59b40e=_0x29fc43;this[_0x59b40e(0x6f6)][_0x59b40e(0x7f9)](_0x4df010=>_0x4df010()),clearTimeout(this[_0x59b40e(0x366)]),delete this[_0x59b40e(0x366)],super['destroy']();}[_0x29fc43(0xb1b)](){const _0x4a6037=_0x29fc43;this['systemTopic']?.[_0x4a6037(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x4a6037(0x9aa)],'content':{'type':_0x49b388[_0x4a6037(0x893)],'label':this[_0x4a6037(0x12a)]}});}[_0x29fc43(0xb14)](){const _0x2ae51c=_0x29fc43;this['debounceStats']&&clearTimeout(this[_0x2ae51c(0x366)]),this[_0x2ae51c(0x366)]=setTimeout(()=>{const _0x120929=_0x2ae51c;this[_0x120929(0x3aa)]?.[_0x120929(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388['PubSubTopicStats'],'label':this[_0x120929(0x12a)],'stats':{'timestamp':Date[_0x120929(0x653)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x120929(0x656)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x5e5c9a);}}class _0x4b660e extends _0x446f2b{['localNode'];[_0x29fc43(0x58f)];[_0x29fc43(0x3a8)];['clusterId'];[_0x29fc43(0x6f6)];['resizeHandler'];[_0x29fc43(0xa63)];[_0x29fc43(0x4f4)]=new Map();['renderElement'];[_0x29fc43(0x91a)]=new Set();[_0x29fc43(0x4cd)];[_0x29fc43(0x807)]=_0x2d590d();['trackEndedListeners']=new Map();constructor(_0x1a86ad,_0x4c56a2,_0x271029,_0x53e41b,_0x4b8d9a,_0x240a8a){const _0x45fe95=_0x29fc43;super(_0x4c56a2,_0x271029,new MediaStream()),this[_0x45fe95(0xa8a)]=_0x1a86ad,this[_0x45fe95(0x58f)]=_0x53e41b,this[_0x45fe95(0x3a8)]=_0x4b8d9a,this[_0x45fe95(0x93b)]=_0x240a8a,this[_0x45fe95(0x1dd)][_0x45fe95(0x98a)]()[_0x45fe95(0x7f9)](_0x42e1e2=>this['setupTrackEndedListeners'](_0x42e1e2));}[_0x29fc43(0x13b)](){const _0x11d365=_0x29fc43;this['outgoingStreams'][_0x11d365(0xb18)]>0x0&&(this[_0x11d365(0x4f4)][_0x11d365(0x7f9)](_0x4fd464=>{const _0x2bca8f=_0x11d365;_0x4fd464[_0x2bca8f(0x3c7)](),_0x4fd464[_0x2bca8f(0x13b)]();}),this[_0x11d365(0x4f4)][_0x11d365(0x985)]()),this[_0x11d365(0x633)]['forEach'](_0x2dbd8d=>_0x2dbd8d()),this[_0x11d365(0x1dd)][_0x11d365(0x98a)]()[_0x11d365(0x7f9)](_0x31d482=>this['mediaStream'][_0x11d365(0x903)](_0x31d482)),this[_0x11d365(0xa63)]&&(clearTimeout(this[_0x11d365(0xa63)]),delete this[_0x11d365(0xa63)]),this[_0x11d365(0x85e)]?.(),super[_0x11d365(0x13b)]();}['registerSubscriber'](_0xe63671){const _0x1f35e5=_0x29fc43;this[_0x1f35e5(0x6f6)]=_0xe63671['subscribe'](({content:_0x53c87d})=>{const _0x3694dc=_0x1f35e5;switch(_0x53c87d['action']){case _0x59cdc5[_0x3694dc(0x500)]:if(_0xb63eee['log'](_0x30994c['Subscription'],_0x3694dc(0x618),this[_0x3694dc(0xa8a)][_0x3694dc(0x994)](),this[_0x3694dc(0x4cd)]),_0x53c87d[_0x3694dc(0x787)]['id']!==this['internalId']||_0x53c87d['providerId']!==this['providerId'])return;this['removeTrack'](_0x53c87d[_0x3694dc(0xb1c)][_0x3694dc(0x4c2)]),this[_0x3694dc(0x1dd)][_0x3694dc(0x37e)](_0x53c87d['track']);for(const [_0x2407b0,_0x1af5bc]of this[_0x3694dc(0x4f4)][_0x3694dc(0x32b)]())try{_0x1af5bc[_0x3694dc(0x37e)](_0x53c87d[_0x3694dc(0xb1c)]);}catch(_0x14bbbb){_0x1af5bc[_0x3694dc(0x13b)](),this[_0x3694dc(0x4f4)][_0x3694dc(0x5ef)](_0x2407b0);}this['setupTrackEndedListeners'](_0x53c87d[_0x3694dc(0xb1c)]),this[_0x3694dc(0x803)](),_0x3694dc(0x41d)===_0x53c87d['track'][_0x3694dc(0x4c2)]&&this[_0x3694dc(0x2fb)]&&(this[_0x3694dc(0x1dd)][_0x3694dc(0xb0f)]?setTimeout(()=>this['renderElement']?.[_0x3694dc(0x134)](),0x0):setTimeout(()=>this[_0x3694dc(0x2fb)]?.[_0x3694dc(0x70b)](),0x0),this[_0x3694dc(0x417)]());break;case _0x59cdc5[_0x3694dc(0x180)]:if(_0x53c87d[_0x3694dc(0x787)]['id']!==this[_0x3694dc(0x58f)]||_0x53c87d[_0x3694dc(0x4cd)]!==this[_0x3694dc(0x4cd)])return;this[_0x3694dc(0x903)](_0x53c87d['track'][_0x3694dc(0x4c2)]),this[_0x3694dc(0x2fb)]&&_0x3694dc(0x41d)===_0x53c87d[_0x3694dc(0xb1c)]['kind']&&(this['resizeHandler']?.(),this[_0x3694dc(0x1dd)][_0x3694dc(0x98a)]()[_0x3694dc(0x4c5)]>0x0?this[_0x3694dc(0x2fb)][_0x3694dc(0x70b)]():this[_0x3694dc(0x2fb)][_0x3694dc(0x5eb)]=null);}});}[_0x29fc43(0x773)](){const _0x17880e=_0x29fc43;this['unsubscribeHandler']?.(),this[_0x17880e(0x633)][_0x17880e(0x7f9)](_0x3cb3bf=>_0x3cb3bf()),delete this[_0x17880e(0x6f6)];}['getInternalStreamId'](){const _0x4a877c=_0x29fc43;return this[_0x4a877c(0x58f)];}[_0x29fc43(0x7cb)](_0x7b799c){this['internalId']=_0x7b799c;}[_0x29fc43(0x956)](){const _0x26553e=_0x29fc43;return this[_0x26553e(0x3a8)];}['hasTracks'](_0x4753ba){const _0x59c9d5=_0x29fc43;for(const _0x2ec1bc of _0x4753ba||this[_0x59c9d5(0x3a8)])if(!this[_0x59c9d5(0x1dd)][_0x59c9d5(0x98a)]()[_0x59c9d5(0x5a5)](_0x215769=>_0x215769['kind']===_0x2ec1bc))return!0x1;return!0x0;}[_0x29fc43(0x6b4)](){const _0x3dc673=_0x29fc43;let _0x220422={'width':0x0,'height':0x0};const _0x376e63=this['mediaStream'][_0x3dc673(0x1a5)]();if(_0x376e63['length']>0x0){const _0x3fd403=_0x376e63[0x0][_0x3dc673(0x99e)]();_0x3fd403[_0x3dc673(0x82e)]&&_0x3fd403['height']&&(_0x220422={'width':_0x3fd403['width'],'height':_0x3fd403[_0x3dc673(0x4b2)]});}return _0x220422;}['isSubscribed'](_0x353bbe){const _0xa7273b=_0x29fc43;for(const _0x213eb6 of _0x353bbe)if(!this['subscribedTracks'][_0xa7273b(0x716)](_0x213eb6))return!0x1;return!0x0;}['getShareableStream'](_0x488961,_0x9cd3f4){const _0x289842=_0x29fc43;if(!this['outgoingStreams'][_0x289842(0x716)](_0x488961)){const _0x1fd1c4=new _0x24826e(this[_0x289842(0xab7)],this[_0x289842(0x12a)],this[_0x289842(0x1dd)],_0x488961,_0x9cd3f4),_0x2f3497=_0x1fd1c4[_0x289842(0x1fd)](()=>{const _0x3ef1e0=_0x289842;_0x2f3497(),this[_0x3ef1e0(0x4f4)]['get'](_0x488961)?.[_0x3ef1e0(0x13b)](),this['outgoingStreams'][_0x3ef1e0(0x5ef)](_0x488961);});this[_0x289842(0x4f4)][_0x289842(0x355)](_0x488961,_0x1fd1c4),_0x1fd1c4[_0x289842(0x911)](this[_0x289842(0x3aa)]);}return this[_0x289842(0x4f4)][_0x289842(0x2a2)](_0x488961);}[_0x29fc43(0x40f)](){const _0x2d64bd=_0x29fc43;return this[_0x2d64bd(0x1dd)]['id'];}['getPriority'](){const _0x9cf61c=_0x29fc43;return _0x47b47a[_0x9cf61c(0x37d)][_0x9cf61c(0x548)];}[_0x29fc43(0x9b1)](){const _0x3fcc21=_0x29fc43;return Array[_0x3fcc21(0x8f7)](this['subscribedTracks']);}['subscribe'](_0x53448f){const _0x18c713=_0x29fc43;let _0x735172=[];if(_0x53448f){_0x18c713(0x161)!=typeof _0x53448f[_0x18c713(0x41d)]||_0x53448f['video']['renderElement']instanceof HTMLVideoElement||!this['renderElement']||(_0x53448f[_0x18c713(0x41d)]={'renderElement':this[_0x18c713(0x2fb)]});try{(0x0,_0x47b47a[_0x18c713(0xa10)])(_0x53448f);}catch(_0x2ce76d){throw new _0x27674c(_0x3d6c7a['RemoteMediaStreamInvalidSubscriptionParams'],_0x18c713(0xaed));}_0x53448f[_0x18c713(0x41d)]&&(_0x735172[_0x18c713(0x9f9)](_0x18c713(0x41d)),_0x18c713(0x714)!=typeof _0x53448f[_0x18c713(0x41d)]&&_0x53448f[_0x18c713(0x41d)][_0x18c713(0x2fb)]&&(this[_0x18c713(0x2fb)]=_0x53448f[_0x18c713(0x41d)][_0x18c713(0x2fb)],_0x53448f[_0x18c713(0x41d)]['maxResolution']||(_0x53448f[_0x18c713(0x41d)]['maxResolution']={'width':this[_0x18c713(0x2fb)][_0x18c713(0x912)],'height':this[_0x18c713(0x2fb)][_0x18c713(0x371)]}),delete _0x53448f[_0x18c713(0x41d)][_0x18c713(0x2fb)])),_0x53448f['audio']&&_0x735172['push'](_0x18c713(0x3c3));}else _0x735172=this['getAvailableTrackKinds']();this['isSubscribed'](_0x735172)||(_0x735172[_0x18c713(0x7f9)](_0x535336=>this[_0x18c713(0x91a)][_0x18c713(0x5ec)](_0x535336)),this[_0x18c713(0x3aa)][_0x18c713(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x18c713(0x9aa)],'content':{'type':_0x49b388[_0x18c713(0x49e)],'label':this[_0x18c713(0x12a)],'ownerId':this[_0x18c713(0xab7)][_0x18c713(0x994)](),'trackKinds':_0x735172,'params':_0x53448f}}),_0xb63eee[_0x18c713(0x110)](_0x127a0b[_0x18c713(0x133)],{'type':'subscribe','label':this['label'],'nodeId':this[_0x18c713(0xa8a)][_0x18c713(0x994)](),'nodeType':this[_0x18c713(0xa8a)][_0x18c713(0xacf)],'clusterId':this[_0x18c713(0x93b)],'sourceId':this[_0x18c713(0xab7)]['getId'](),'streamId':this[_0x18c713(0x58f)],'trackKinds':_0x735172}));}[_0x29fc43(0x340)](_0x2e123){const _0x3bd6ac=_0x29fc43;try{(0x0,_0x47b47a[_0x3bd6ac(0xa10)])(_0x2e123);}catch(_0x4e5354){throw new _0x27674c(_0x3d6c7a[_0x3bd6ac(0xa5e)],'Invalid\x20params');}this['updateDebounce']&&clearTimeout(this[_0x3bd6ac(0xa63)]),this[_0x3bd6ac(0xa63)]=setTimeout(()=>{const _0x193aa0=_0x3bd6ac;delete this[_0x193aa0(0xa63)],this[_0x193aa0(0x3aa)]['publish']({'sourceId':_0x491349,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388['UpdateMediaStream'],'label':this[_0x193aa0(0x12a)],'ownerId':this[_0x193aa0(0xab7)][_0x193aa0(0x994)](),'params':_0x2e123}});},0x1f4);}['unsubscribe'](_0x4f21e6){const _0x48a201=_0x29fc43;_0x4f21e6||(_0x4f21e6=this[_0x48a201(0x956)]()),(_0x4f21e6=Array[_0x48a201(0x433)](_0x4f21e6)?_0x4f21e6:[_0x4f21e6])[_0x48a201(0x7f9)](_0x468c11=>this[_0x48a201(0x91a)][_0x48a201(0x5ef)](_0x468c11)),this[_0x48a201(0x3aa)][_0x48a201(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x48a201(0x9aa)],'content':{'type':_0x49b388[_0x48a201(0x638)],'label':this['label'],'ownerId':this['owner']['getId'](),'trackKinds':_0x4f21e6,'remainingTracks':this[_0x48a201(0x91a)][_0x48a201(0xb18)]}});}[_0x29fc43(0x81e)](_0x13a9b8){const _0x1ee9cc=_0x29fc43;return this[_0x1ee9cc(0x807)]['subscribe'](_0x13a9b8);}[_0x29fc43(0x84d)](){const _0x2bc138=_0x29fc43;return this[_0x2bc138(0x4cd)];}['setProviderId'](_0x561bdf){const _0x55face=_0x29fc43;this['providerId']!==_0x561bdf&&(this[_0x55face(0x4cd)]=_0x561bdf,this[_0x55face(0x807)][_0x55face(0x289)](_0x561bdf));}['unsubscribeTrackEndedListener'](_0x52e9c2){const _0x3db014=_0x29fc43;this[_0x3db014(0x633)][_0x3db014(0x2a2)](_0x52e9c2)?.(),this[_0x3db014(0x633)][_0x3db014(0x5ef)](_0x52e9c2);}[_0x29fc43(0x903)](_0x2c1eab){const _0x5f3040=_0x29fc43,_0x122885=this[_0x5f3040(0x1dd)]['getTracks']()[_0x5f3040(0x5a5)](_0x206e15=>_0x206e15['kind']===_0x2c1eab);_0x122885&&(this['mediaStream']['removeTrack'](_0x122885),this[_0x5f3040(0x4f4)][_0x5f3040(0x7f9)](_0x3d0908=>_0x3d0908[_0x5f3040(0x903)](_0x2c1eab)),this[_0x5f3040(0x633)][_0x5f3040(0x2a2)](_0x2c1eab)?.());}[_0x29fc43(0x803)](){const _0x1814a8=_0x29fc43;this[_0x1814a8(0x2fb)]&&(this['renderElement'][_0x1814a8(0x5eb)]&&this[_0x1814a8(0x2fb)][_0x1814a8(0x5eb)]===this[_0x1814a8(0x1dd)]||(this[_0x1814a8(0x2fb)][_0x1814a8(0x5eb)]=this[_0x1814a8(0x1dd)]));}[_0x29fc43(0x417)](){const _0x393d2e=_0x29fc43;if(this[_0x393d2e(0x2fb)]&&!this['resizeHandler']&&'undefined'!=typeof ResizeObserver){let _0x24ccd8=this['renderElement'][_0x393d2e(0x912)],_0x4b0e71=this[_0x393d2e(0x2fb)][_0x393d2e(0x371)];const _0x25c779=new ResizeObserver(_0x14cc79=>{const _0x294fe8=_0x393d2e,{width:_0x5c7e90,height:_0x419ac2}=_0x14cc79[0x0][_0x294fe8(0xac5)];_0x24ccd8===_0x5c7e90&&_0x4b0e71===_0x419ac2||(_0x24ccd8=Math['floor'](_0x5c7e90),_0x4b0e71=Math[_0x294fe8(0x74e)](_0x419ac2),this['update']({'video':{'maxResolution':{'width':_0x5c7e90,'height':_0x419ac2}}}));});_0x25c779['observe'](this[_0x393d2e(0x2fb)]),this[_0x393d2e(0x85e)]=()=>_0x25c779[_0x393d2e(0x756)]();}}[_0x29fc43(0x8e3)](_0x13a57b){const _0xb591a5=_0x29fc43,_0x4eea7e=[];for(const _0x32fe83 of this[_0xb591a5(0x91a)])this[_0xb591a5(0x903)](_0x32fe83),_0x4eea7e['push'](_0x32fe83);this[_0xb591a5(0x4cd)]&&this[_0xb591a5(0x3aa)]['publish']({'sourceId':_0x491349,'messageType':_0x158cb7[_0xb591a5(0x9aa)],'content':{'type':_0x49b388[_0xb591a5(0x6dc)],'label':this['label'],'streamId':this[_0xb591a5(0x58f)],'ownerId':this['owner'][_0xb591a5(0x994)](),'providerId':this[_0xb591a5(0x4cd)],'trackKinds':_0x4eea7e}});}[_0x29fc43(0x9a5)](_0x2a50f5){const _0x5225b2=_0x29fc43,_0x22ad49=()=>this['handleRemoteTrackFailure'](_0x2a50f5);_0x2a50f5[_0x5225b2(0x8d8)](_0x5225b2(0x2e9),_0x22ad49),_0x2a50f5['addEventListener']('mute',_0x22ad49),this[_0x5225b2(0x633)]['set'](_0x2a50f5['kind'],()=>{const _0x3d8c2b=_0x5225b2;_0x2a50f5[_0x3d8c2b(0x377)](_0x3d8c2b(0x2e9),_0x22ad49),_0x2a50f5['removeEventListener'](_0x3d8c2b(0xa43),_0x22ad49),this[_0x3d8c2b(0x633)][_0x3d8c2b(0x5ef)](_0x2a50f5['kind']);});}}class _0x420912 extends _0x2b6b11{[_0x29fc43(0xa8a)];[_0x29fc43(0x93b)];['vendorId'];['db'];[_0x29fc43(0x366)];[_0x29fc43(0xac7)]=0x0;[_0x29fc43(0x878)]=0x0;[_0x29fc43(0x76a)]=!0x1;constructor(_0x24f435,_0x542623,_0x2cb0a0,_0x2bacd0,_0x3d1198){const _0x878062=_0x29fc43;if(_0x878062(0x89c)!=typeof _0x542623)throw new _0x27674c(_0x3d6c7a[_0x878062(0x4ca)],_0x878062(0x626));super(_0x24f435,_0x542623),this[_0x878062(0xa8a)]=_0x24f435,this['clusterId']=_0x2cb0a0,this[_0x878062(0x117)]=_0x2bacd0;const _0x20fd2c=_0x878062(0x922)+this['vendorId']+'ccc'+this[_0x878062(0x93b)]+_0x878062(0x922)+this[_0x878062(0x12a)];this['db']=new _0x3d1198(_0x20fd2c),this[_0x878062(0xb14)]();}[_0x29fc43(0x930)](){return this['isLoaded'];}[_0x29fc43(0xa0f)](_0x340146){this['isLoaded']=_0x340146;}[_0x29fc43(0x13b)](){const _0x34800c=_0x29fc43;clearTimeout(this[_0x34800c(0x366)]),delete this[_0x34800c(0x366)],super[_0x34800c(0x13b)]();}['close'](){const _0x3bc9d8=_0x29fc43;this[_0x3bc9d8(0x3aa)][_0x3bc9d8(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388['CloseVectorDatabase'],'label':this[_0x3bc9d8(0x12a)]}});}[_0x29fc43(0x94c)](){const _0x100b73=_0x29fc43;this[_0x100b73(0xb14)]();}[_0x29fc43(0x5f5)](){const _0x46d6a3=_0x29fc43;return _0x47b47a[_0x46d6a3(0x43d)][_0x46d6a3(0xa34)];}[_0x29fc43(0x907)](_0x59e6b0,_0x28dccf,_0x16b0f5,_0xf11594,_0x36e1bf){const _0x1ecbf0=_0x29fc43,_0x6d6ee2=this['db'][_0x1ecbf0(0x907)](_0x59e6b0,_0x28dccf,_0x16b0f5,_0xf11594,_0x36e1bf);return this[_0x1ecbf0(0x878)]+=0x1,_0xb63eee[_0x1ecbf0(0x110)](_0x127a0b[_0x1ecbf0(0xa34)],{'type':_0x1ecbf0(0x907),'label':this[_0x1ecbf0(0x12a)],'nodeId':this[_0x1ecbf0(0xa8a)][_0x1ecbf0(0x994)](),'nodeType':this['localNode'][_0x1ecbf0(0xacf)],'clusterId':this[_0x1ecbf0(0x93b)],'size':0x0}),this[_0x1ecbf0(0xb14)](),_0x6d6ee2;}['insert'](_0x524cc0,_0x3d8b7d,_0x2bbeb8,_0xf99568){const _0x319f55=_0x29fc43;this['db']['insert'](_0x524cc0,_0x3d8b7d,_0x2bbeb8,_0xf99568),this['writes']+=0x1,_0xb63eee[_0x319f55(0x110)](_0x127a0b[_0x319f55(0xa34)],{'type':_0x319f55(0x37b),'label':this[_0x319f55(0x12a)],'nodeId':this[_0x319f55(0xa8a)]['getId'](),'nodeType':this[_0x319f55(0xa8a)][_0x319f55(0xacf)],'clusterId':this['clusterId'],'size':_0xf99568[_0x319f55(0x8ca)]((_0x25b060,_0x5b84fe)=>_0x25b060+_0x5b84fe[_0x319f55(0x4c5)],0x0)}),this['sendStats']();}[_0x29fc43(0x3ee)](_0x42ded0){const _0x19d351=_0x29fc43;this['db']['remove'](_0x42ded0),this[_0x19d351(0xac7)]+=0x1,_0xb63eee[_0x19d351(0x110)](_0x127a0b[_0x19d351(0xa34)],{'type':_0x19d351(0x3ee),'label':this['label'],'nodeId':this[_0x19d351(0xa8a)][_0x19d351(0x994)](),'nodeType':this[_0x19d351(0xa8a)][_0x19d351(0xacf)],'clusterId':this[_0x19d351(0x93b)],'size':0x0}),this[_0x19d351(0xb14)]();}[_0x29fc43(0x5d1)](_0x37495c){const _0x4d969a=_0x29fc43;this['db'][_0x4d969a(0x5d1)](_0x37495c);}[_0x29fc43(0x4dd)](_0x13d512){this['db']['loadFromDisk'](_0x13d512);}[_0x29fc43(0xb14)](){const _0xcf9bb1=_0x29fc43;this[_0xcf9bb1(0x366)]&&clearTimeout(this[_0xcf9bb1(0x366)]),this[_0xcf9bb1(0x366)]=setTimeout(async()=>{const _0x265df3=_0xcf9bb1;delete this[_0x265df3(0x366)];const _0x4b1826=this['db'][_0x265df3(0x51e)]()[_0x265df3(0x13e)];this[_0x265df3(0x3aa)][_0x265df3(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x265df3(0x9aa)],'content':{'type':_0x49b388[_0x265df3(0xa83)],'label':this[_0x265df3(0x12a)],'stats':{'timestamp':Date[_0x265df3(0x653)](),'storage':_0x4b1826,'messagesSent':this[_0x265df3(0x5e8)],'messagesReceived':this[_0x265df3(0x3fe)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x265df3(0x326)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0xb63eee['logStorage'](_0x127a0b[_0x265df3(0xa34)],_0x265df3(0x922)+this['clusterId']+_0x265df3(0x922)+this['label'],_0x4b1826);},_0x5e5c9a);}}class _0x1ed80d{['id'];[_0x29fc43(0x221)];[_0x29fc43(0x60c)];constructor(_0x4dfb76,_0x407d6b=new Set(),_0x3c4df4){const _0x230306=_0x29fc43;this['id']=_0x4dfb76,this[_0x230306(0x221)]=_0x407d6b,this[_0x230306(0x60c)]=_0x3c4df4;}[_0x29fc43(0xb1b)](){const _0x3467fc=_0x29fc43;this[_0x3467fc(0x60c)]=void 0x0,this[_0x3467fc(0x221)][_0x3467fc(0x985)]();}[_0x29fc43(0x994)](){return this['id'];}['getRank'](){const _0x56030f=_0x29fc43;return this[_0x56030f(0x60c)];}['getRemoteConnections'](){const _0x14275d=_0x29fc43;return this[_0x14275d(0x221)];}}class _0x3f92c7 extends _0x1ed80d{['id'];[_0x29fc43(0x43e)];['email'];['remoteConnections'];[_0x29fc43(0x60c)];['type']=_0x47b47a[_0x29fc43(0x394)][_0x29fc43(0x4af)];constructor(_0x25704f,_0x170b14,_0x14d1bf,_0x18bfbd=new Set(),_0x5bcb27){const _0x14fa1a=_0x29fc43;super(_0x25704f,_0x18bfbd,_0x5bcb27),this['id']=_0x25704f,this[_0x14fa1a(0x43e)]=_0x170b14,this['email']=_0x14d1bf,this[_0x14fa1a(0x221)]=_0x18bfbd,this[_0x14fa1a(0x60c)]=_0x5bcb27;}[_0x29fc43(0x13d)](){return this['displayName'];}[_0x29fc43(0x929)](){const _0x393718=_0x29fc43;return this[_0x393718(0x542)];}}class _0x18191b{[_0x29fc43(0x117)];[_0x29fc43(0x93b)];[_0x29fc43(0x206)];constructor(_0x5c14b3,_0x37bf1e){const _0x2ed775=_0x29fc43;this[_0x2ed775(0x117)]=_0x5c14b3,this[_0x2ed775(0x93b)]=_0x37bf1e,this[_0x2ed775(0x206)]=_0x2ed775(0x922)+this[_0x2ed775(0x117)]+_0x2ed775(0x922)+this[_0x2ed775(0x93b)];}async['writeTransaction'](_0x4415a9,_0xe26d46){const _0x330278=_0x29fc43,_0x2312ce=(0x0,_0x4e283c[_0x330278(0xb0e)])(_0x9824f6['getDatabase'](),_0x330278(0x99d)+this['clusterKey']+_0x330278(0x3c1)+_0xe26d46+'/transactions/'+_0x4415a9['id']),_0x2622f1=(0x0,_0x4e283c['onDisconnect'])(_0x2312ce);_0x2622f1[_0x330278(0x3ee)](),_0x4415a9[_0x330278(0x62c)]||delete _0x4415a9[_0x330278(0x62c)];try{await(0x0,_0x4e283c['set'])(_0x2312ce,_0x4415a9);}catch(_0x3aaf8f){throw await _0x2622f1[_0x330278(0x9d5)](),new _0x3335bf(_0x3335bf[_0x330278(0x4ee)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x4e283c['runTransaction'])((0x0,_0x4e283c['ref'])(_0x9824f6['getDatabase'](),_0x330278(0x99d)+this['clusterKey']+_0x330278(0x3c1)+_0xe26d46+_0x330278(0x7ed)),_0x473312=>_0x473312?_0x473312===_0x4415a9[_0x330278(0x62c)]?_0x4415a9['id']:void 0x0:_0x4415a9['parentId']?_0x4415a9['parentId']:_0x4415a9['id']))['committed'])throw await(0x0,_0x4e283c['remove'])(_0x2312ce),await _0x2622f1[_0x330278(0x9d5)](),new _0x3335bf(_0x3335bf[_0x330278(0x4ee)][_0x330278(0x145)]);await _0x2622f1[_0x330278(0x9d5)]();}async[_0x29fc43(0x71a)](_0x458b22,_0x37f468){const _0x3992f2=_0x29fc43;let _0x17bdba=[];const _0x2485f2=(0x0,_0x4e283c['ref'])(_0x9824f6[_0x3992f2(0x6e5)](),'clusters/'+this[_0x3992f2(0x206)]+_0x3992f2(0x3c1)+_0x458b22+'/transactions');let _0x4f9445=await(0x0,_0x4e283c['get'])((0x0,_0x4e283c['query'])(_0x2485f2,(0x0,_0x4e283c['limitToFirst'])(0x65),(0x0,_0x4e283c[_0x3992f2(0x99a)])()));if(!_0x4f9445[_0x3992f2(0x8a4)]()){if(void 0x0!==_0x37f468)throw new _0x3335bf(_0x3335bf['codes'][_0x3992f2(0x753)]);return _0x17bdba;}const _0x47cb89=_0x4f9445[_0x3992f2(0x83f)]();for(;Object['keys'](_0x4f9445[_0x3992f2(0x83f)]())[_0x3992f2(0x4c5)]>0x64;){const _0x2fa6dc=Object[_0x3992f2(0x5da)](_0x4f9445[_0x3992f2(0x83f)]()),_0x46f699=_0x2fa6dc[_0x2fa6dc[_0x3992f2(0x4c5)]-0x1];_0x4f9445=await(0x0,_0x4e283c[_0x3992f2(0x2a2)])((0x0,_0x4e283c[_0x3992f2(0x966)])(_0x2485f2,(0x0,_0x4e283c[_0x3992f2(0x25e)])(0x65),(0x0,_0x4e283c['startAt'])(_0x46f699),(0x0,_0x4e283c[_0x3992f2(0x99a)])())),Object[_0x3992f2(0xae1)](_0x47cb89,_0x4f9445[_0x3992f2(0x83f)]());}if(_0x17bdba=Object['values'](_0x47cb89)[_0x3992f2(0x81c)](_0x263572=>_0x3992f2(0x89c)!=typeof _0x263572),0x0===_0x17bdba['length']&&void 0x0!==_0x37f468)throw new _0x3335bf(_0x3335bf[_0x3992f2(0x4ee)][_0x3992f2(0x753)]);if(_0x17bdba[_0x3992f2(0x4c5)]>0x0&&void 0x0!==_0x37f468&&!_0x17bdba[_0x3992f2(0x5a5)](_0x2feaff=>_0x2feaff['id']===_0x37f468))throw new _0x3335bf(_0x3335bf[_0x3992f2(0x4ee)][_0x3992f2(0x753)]);const _0x222873=[];let _0xbe88d6=_0x17bdba[_0x3992f2(0x5a5)](_0x1a6bf0=>_0x1a6bf0[_0x3992f2(0x62c)]===_0x37f468);for(;_0xbe88d6;)_0x222873[_0x3992f2(0x9f9)](_0xbe88d6),_0xbe88d6=_0x17bdba[_0x3992f2(0x5a5)](_0x3ab2d0=>_0x3ab2d0[_0x3992f2(0x62c)]===_0xbe88d6['id']);return _0x222873;}}class _0x1a65f8 extends _0x1e2761{[_0x29fc43(0x3bf)];[_0x29fc43(0x80f)];[_0x29fc43(0x407)];[_0x29fc43(0x7a4)];[_0x29fc43(0x6a8)];[_0x29fc43(0x4dc)];[_0x29fc43(0x5dd)];[_0x29fc43(0x8cc)];[_0x29fc43(0x80e)];[_0x29fc43(0x69e)];[_0x29fc43(0x4e9)];[_0x29fc43(0x577)]=_0x50ba58;[_0x29fc43(0x74d)]=new Map();[_0x29fc43(0x479)]=!0x1;constructor(_0x1d6f97,_0x5c1982,_0x14b922,_0x19a34e,_0x2c268e,_0x5c0749,_0x250c07,_0x13ae24,_0x1fa99a,_0x23d301,_0x43be86,_0x231019,_0x16f499){const _0x12450f=_0x29fc43;super(_0x1d6f97,_0x5c1982),this['contentMediator']=_0x14b922,this[_0x12450f(0x80f)]=_0x19a34e,this[_0x12450f(0x407)]=_0x2c268e,this[_0x12450f(0x7a4)]=_0x5c0749,this[_0x12450f(0x6a8)]=_0x250c07,this[_0x12450f(0x4dc)]=_0x13ae24,this[_0x12450f(0x5dd)]=_0x1fa99a,this['aiSearchConnector']=_0x23d301,this['queryFileConnector']=_0x43be86,this[_0x12450f(0x69e)]=_0x231019,this[_0x12450f(0x4e9)]=_0x16f499,this[_0x12450f(0x98b)]();}async[_0x29fc43(0x606)](){return[];}async[_0x29fc43(0x98b)](_0x1d8b32=!0x1){const _0x5d130d=_0x29fc43;if(!this[_0x5d130d(0x479)]){_0xb63eee[_0x5d130d(0x9b4)](_0x5d130d(0x42e),this[_0x5d130d(0x12a)]);try{for(const _0x3cf02e of this[_0x5d130d(0x80f)])await _0x3cf02e[_0x5d130d(0x918)](this[_0x5d130d(0x12a)],this['models']);}catch(_0x43e3ad){return this[_0x5d130d(0x98b)](_0x1d8b32);}this[_0x5d130d(0x479)]=!0x0,_0xb63eee['forceLog']('GenerativeAIWorker:\x20Opened',this[_0x5d130d(0x12a)]);}}['close'](){const _0x5736f5=_0x29fc43;this[_0x5736f5(0x3aa)]?.['publish']({'sourceId':_0x491349,'messageType':_0x158cb7['Content'],'content':{'type':_0x49b388[_0x5736f5(0x591)],'label':this['label']}});}[_0x29fc43(0x9e7)](){const _0x126e77=_0x29fc43;return this[_0x126e77(0x12a)];}[_0x29fc43(0x5f5)](){const _0x1d3f62=_0x29fc43;return _0x47b47a[_0x1d3f62(0x43d)][_0x1d3f62(0xa7d)];}[_0x29fc43(0x9e1)](_0x125f64){const _0x5a5aaa=_0x29fc43,_0x4c6751=_0x5a5aaa(0x4c6)+(0x0,_0x3adee5['v4'])();let _0x3dface=!0x1;const _0x3e44d0=()=>{const _0x2ead00=_0x5a5aaa;if(_0x3dface)throw new _0x3335bf(_0x3335bf[_0x2ead00(0x4ee)][_0x2ead00(0x9a1)]);_0x3dface=!0x0;},_0x1fc9c3={'threadId':_0x5a5aaa(0xa4c)+(0x0,_0x3adee5['v4'])(),..._0x125f64};switch(_0x125f64['type']){case'collection-create':case _0x5a5aaa(0x7fe):case'collection-query':case _0x5a5aaa(0x2e1):case _0x5a5aaa(0x316):case _0x5a5aaa(0x7cf):case _0x5a5aaa(0x7cf):case _0x5a5aaa(0x86f):case'rate':case'realtime-session-create':case _0x5a5aaa(0x64c):case _0x5a5aaa(0x83e):return{'id':_0x4c6751,..._0x125f64,'run':()=>(_0x3e44d0(),this[_0x5a5aaa(0x18d)](_0x4c6751,_0x1fc9c3))};case _0x5a5aaa(0x9ed):case _0x5a5aaa(0x7c1):return{'id':_0x4c6751,'options':{'threadId':_0x5a5aaa(0xa4c)+(0x0,_0x3adee5['v4'])()},..._0x125f64,'run':()=>(_0x3e44d0(),this['internalProcessJob'](_0x4c6751,_0x1fc9c3)),'stream':()=>(_0x3e44d0(),this[_0x5a5aaa(0x430)](_0x4c6751,_0x1fc9c3))};default:throw new Error('Invalid\x20job\x20type');}}async[_0x29fc43(0x18d)](_0x371055,_0x3e800e){const _0x1d054f=_0x29fc43;if(_0x1d054f(0x7c1)===_0x3e800e[_0x1d054f(0xacf)]){await this[_0x1d054f(0x79d)](_0x371055,_0x3e800e);const _0x3df733=await _0x11a297['getWorkflow'](_0x3e800e[_0x1d054f(0x117)],_0x3e800e[_0x1d054f(0x8f9)]),_0x523dc=_0x3df733[_0x1d054f(0x9ff)]['find'](_0x3819d1=>_0x3819d1['type']===_0x284f13[_0x1d054f(0x711)]),_0x551391=await _0x35f047(_0x3e800e['jobId']??_0x371055,_0x3e800e,_0x523dc,_0x3df733[_0x1d054f(0x9ff)],{'documentParserConnector':this[_0x1d054f(0x7a4)],'fileConnector':this[_0x1d054f(0x6a8)],'nlpLibraryConnector':this[_0x1d054f(0x4dc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x1d054f(0x8f7)](this[_0x1d054f(0x577)][_0x1d054f(0x347)]()),'contentMediator':this[_0x1d054f(0x3bf)],'searchConnector':this[_0x1d054f(0x5dd)],'aiSearchConnector':this[_0x1d054f(0x8cc)],'queryFileConnector':this['queryFileConnector']});return await this['stopTracing'](_0x371055,_0x3e800e),_0x551391;}if(_0x1d054f(0x83e)===_0x3e800e[_0x1d054f(0xacf)])return await _0x26880a(_0x3e800e,{'documentParserConnector':this[_0x1d054f(0x7a4)],'fileConnector':this[_0x1d054f(0x6a8)],'nlpLibraryConnector':this[_0x1d054f(0x4dc)],'generativeAIWorkerConnectors':this[_0x1d054f(0x80f)],'models':Array['from'](this['models']['values']()),'contentMediator':this[_0x1d054f(0x3bf)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1d054f(0x8cc)],'queryFileConnector':this[_0x1d054f(0x80e)]});if(_0x1d054f(0x9ed)===_0x3e800e[_0x1d054f(0xacf)]){await this[_0x1d054f(0x79d)](_0x371055,_0x3e800e);const _0x59005c=await _0x62a693(_0x3e800e[_0x1d054f(0x9a8)]??_0x371055,_0x3e800e,{'documentParserConnector':this[_0x1d054f(0x7a4)],'fileConnector':this[_0x1d054f(0x6a8)],'nlpLibraryConnector':this[_0x1d054f(0x4dc)],'generativeAIWorkerConnectors':this[_0x1d054f(0x80f)],'models':Array[_0x1d054f(0x8f7)](this[_0x1d054f(0x577)]['values']()),'contentMediator':this[_0x1d054f(0x3bf)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1d054f(0x8cc)],'queryFileConnector':this[_0x1d054f(0x80e)]});return await this['stopTracing'](_0x371055,_0x3e800e),_0x59005c;}if(_0x1d054f(0x744)===_0x3e800e[_0x1d054f(0xacf)])return await _0x987f7f['trace']({'jobType':_0x4e3472[_0x1d054f(0x1d4)],'type':_0xcf78d4[_0x1d054f(0x5fc)],'jobId':_0x3e800e[_0x1d054f(0x9a8)],'threadId':_0x3e800e[_0x1d054f(0x1ca)],'traceLevel':_0xbaa178['Info'],'startTime':Date[_0x1d054f(0x653)](),'timestamp':Date['now'](),'status':_0x1d054f(0x2a9),'rating':_0x3e800e[_0x1d054f(0x373)],'feedback':_0x3e800e['feedback']}),{'type':_0x1d054f(0x744),'status':_0x47b47a[_0x1d054f(0x692)][_0x1d054f(0x867)]};if(_0x1d054f(0x64c)===_0x3e800e[_0x1d054f(0xacf)])return await _0x256650(_0x3e800e,{'documentParserConnector':this[_0x1d054f(0x7a4)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x1d054f(0x4dc)],'generativeAIWorkerConnectors':this[_0x1d054f(0x80f)],'models':Array[_0x1d054f(0x8f7)](this[_0x1d054f(0x577)][_0x1d054f(0x347)]()),'contentMediator':this[_0x1d054f(0x3bf)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1d054f(0x8cc)],'queryFileConnector':this[_0x1d054f(0x80e)]});if(_0x1d054f(0x36f)===_0x3e800e[_0x1d054f(0xacf)]){const _0xc1f6f0=await _0x11a297[_0x1d054f(0x611)](_0x3e800e[_0x1d054f(0x117)],_0x3e800e[_0x1d054f(0x8f9)]),_0x542b6c=_0xc1f6f0[_0x1d054f(0x9ff)][_0x1d054f(0x5a5)](_0x4144c5=>_0x4144c5[_0x1d054f(0xacf)]===_0x284f13[_0x1d054f(0x48a)]),_0x21e1ff=_0xc1f6f0[_0x1d054f(0x9ff)][_0x1d054f(0x81c)](_0x2cf204=>_0x2cf204[_0x1d054f(0x6f0)]?.[_0x1d054f(0x21d)](_0x42bf9f=>_0x42bf9f[_0x1d054f(0xacf)]===_0x5ee5b4[_0x1d054f(0xadb)]&&_0x42bf9f['uid']===_0x542b6c['uid']))[_0x1d054f(0xaf5)](_0x324956=>_0x54af80(_0x324956,_0xc1f6f0[_0x1d054f(0x9ff)]));return{'type':'realtime-session-create','apiKey':this[_0x1d054f(0x4e9)],'modelId':_0x542b6c[_0x1d054f(0x4e8)],'instructions':_0x542b6c[_0x1d054f(0x9ca)],'temperature':_0x542b6c[_0x1d054f(0x478)],'maxTokens':_0x542b6c[_0x1d054f(0x42a)],'initialPrompt':_0xc1f6f0['initialPrompt'],'tools':_0x21e1ff['map'](_0xcf4afb=>({..._0xcf4afb,'name':this['getToolName'](_0xcf4afb),'description':this[_0x1d054f(0x757)](_0xcf4afb),'parameters':this[_0x1d054f(0x64e)](_0xcf4afb)}))};}if('file-delete'===_0x3e800e[_0x1d054f(0xacf)]){const {vendorId:_0x14e262,collectionId:_0xbb2abb,fileId:_0x4f8afe}=_0x3e800e,_0x175a6f=await _0x11a297[_0x1d054f(0x59b)](_0x14e262,_0xbb2abb),_0x3c4901=this['ragConnectors']?.['get'](_0x175a6f['storageType']);if(!_0x3c4901)throw new Error(_0x1d054f(0x806));const _0x4c47bc=_0x254ee8(_0x14e262,_0x175a6f);if(_0x175a6f[_0x1d054f(0x85a)]===_0x47b47a[_0x1d054f(0x546)][_0x1d054f(0x8b2)])try{await _0x3c4901[_0x1d054f(0x132)](_0x4c47bc,_0xbb2abb,'/'+_0x14e262+'/'+_0xbb2abb+'/'+_0x4f8afe),await this[_0x1d054f(0x407)]['deleteObject']('/'+_0x14e262+'/'+_0xbb2abb+'/'+_0x4f8afe);}catch(_0x2e4842){_0xb63eee['error']('GenerativeAIWorker:\x20FileDelete\x20failed',_0x2e4842);}else try{await _0x3c4901[_0x1d054f(0x132)](_0x4c47bc,_0xbb2abb,_0x4f8afe);}catch(_0x845588){_0xb63eee[_0x1d054f(0x3c9)](_0x1d054f(0x4df),_0x845588);}return{'type':_0x1d054f(0x2e1)};}if(_0x1d054f(0x316)===_0x3e800e[_0x1d054f(0xacf)]){let _0x383fbb;const _0x1d3c03=this[_0x1d054f(0x74d)][_0x1d054f(0x5da)]();for(;!_0x383fbb;){const _0x2d845c=_0x1d3c03[_0x1d054f(0x609)]()[_0x1d054f(0x2a7)];if(!_0x2d845c)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x383fbb=this['dataStores'][_0x1d054f(0x2a2)](_0x2d845c);try{const _0x275b40=await _0x383fbb[_0x1d054f(0x2a2)](_0x3e800e['documentPath']);return{'type':'file-download','fileName':_0x275b40[_0x1d054f(0x3dd)],'mimeType':_0x275b40[_0x1d054f(0xacf)],'document':await _0x275b40[_0x1d054f(0x37c)]()};}catch(_0x5c97e8){continue;}}throw new Error(_0x1d054f(0x6f9));}if(_0x1d054f(0x7cf)===_0x3e800e['type']){const {vendorId:_0x4f637f,collectionId:_0x27491e,fileName:_0x46fe10,content:_0x5caa6d}=_0x3e800e,_0x1e6193=await _0x11a297[_0x1d054f(0x59b)](_0x4f637f,_0x27491e);if(_0x1e6193[_0x1d054f(0x85a)]!==_0x47b47a[_0x1d054f(0x546)][_0x1d054f(0x8b2)]){const _0x54d305=this[_0x1d054f(0x69e)]?.['get'](_0x1e6193['storageType']);if(!_0x54d305)throw new Error('No\x20RAG\x20connector\x20available');const _0x59e7a7=_0x254ee8(_0x4f637f,_0x1e6193);return await _0x54d305[_0x1d054f(0x7c4)](_0x59e7a7,_0x27491e,_0x46fe10,_0x5caa6d),{'type':_0x1d054f(0x7cf)};}const _0x45ef94=_0x1e6193[_0x1d054f(0x859)]?.['find'](_0x5e7c8d=>_0x5e7c8d[_0x1d054f(0xacf)]===_0x4f87f6[_0x1d054f(0x258)]);if(!_0x45ef94)throw new Error(_0x1d054f(0x251));return await _0x2dbe0e(_0x3e800e['vendorId'],_0x371055,'/'+_0x4f637f+'/'+_0x27491e+'/'+_0x46fe10,_0x5caa6d,_0x45ef94,_0x1e6193,{'objectStoreConnector':this[_0x1d054f(0x407)],'ragConnector':this[_0x1d054f(0x69e)]?.[_0x1d054f(0x2a2)](_0x47b47a[_0x1d054f(0x546)][_0x1d054f(0x8b2)]),'documentParserConnector':this[_0x1d054f(0x7a4)],'fileConnector':this[_0x1d054f(0x6a8)],'nlpLibraryConnector':this[_0x1d054f(0x4dc)],'generativeAIWorkerConnectors':this[_0x1d054f(0x80f)],'models':Array[_0x1d054f(0x8f7)](this[_0x1d054f(0x577)][_0x1d054f(0x347)]()),'contentMediator':this[_0x1d054f(0x3bf)]}),{'type':_0x1d054f(0x7cf)};}if(_0x1d054f(0x86f)===_0x3e800e['type']){const {vendorId:_0x55a1c5,collectionId:_0x2628d6}=_0x3e800e,_0x4912ce=await _0x11a297[_0x1d054f(0x59b)](_0x55a1c5,_0x2628d6);if(_0x4912ce[_0x1d054f(0x85a)]!==_0x47b47a[_0x1d054f(0x546)][_0x1d054f(0x8b2)]){const _0x47a7a5=this[_0x1d054f(0x69e)]?.[_0x1d054f(0x2a2)](_0x4912ce[_0x1d054f(0x85a)]);if(!_0x47a7a5)throw new Error('No\x20RAG\x20connector\x20available');const _0x3dc603=_0x254ee8(_0x55a1c5,_0x4912ce);return{'type':_0x1d054f(0x86f),'files':await _0x47a7a5['listFiles'](_0x3dc603,_0x2628d6)};}try{return{'type':_0x1d054f(0x86f),'files':(await this[_0x1d054f(0x407)][_0x1d054f(0x536)]('/'+_0x55a1c5+'/'+_0x2628d6,!0x1))[_0x1d054f(0x170)](_0x3263e3=>({'name':_0x3263e3[_0x1d054f(0x3dd)],'id':_0x3263e3[_0x1d054f(0x3dd)],'status':_0x1d054f(0x90d)}))};}catch(_0xc61227){return{'type':_0x1d054f(0x86f),'files':[]};}}if('collection-create'===_0x3e800e['type']){const {vendorId:_0x17fb5d,collectionId:_0x194c72}=_0x3e800e,_0x3e644e=await _0x11a297[_0x1d054f(0x59b)](_0x17fb5d,_0x194c72),_0x415e05=this[_0x1d054f(0x69e)]?.[_0x1d054f(0x2a2)](_0x3e644e[_0x1d054f(0x85a)]);if(!_0x415e05)return{'type':_0x1d054f(0x75d)};const _0xe758c6=_0x254ee8(_0x17fb5d,_0x3e644e);return await _0x415e05['createCollection'](_0xe758c6,_0x194c72),{'type':'collection-create'};}if(_0x1d054f(0x7fe)===_0x3e800e[_0x1d054f(0xacf)]){const {vendorId:_0x464278,collectionId:_0x53e839}=_0x3e800e,_0x5470f4=await _0x11a297[_0x1d054f(0x59b)](_0x464278,_0x53e839),_0x547b0d=this['ragConnectors']?.[_0x1d054f(0x2a2)](_0x5470f4[_0x1d054f(0x85a)]);if(!_0x547b0d)return{'type':_0x1d054f(0x7fe)};const _0xb5881c=_0x254ee8(_0x464278,_0x5470f4);let _0x2d9da6=!0x1;if(_0x5470f4[_0x1d054f(0x254)]===_0x5c0042[_0x1d054f(0x588)]&&(_0x2d9da6=!0x0),_0x5470f4['hosting']===_0x5c0042['Account']){_0x2d9da6=!0x0;const _0x16098a=await _0x11a297[_0x1d054f(0x1ae)](_0x464278);for(const _0x3cf9a5 of _0x16098a)if(_0x3cf9a5[_0x1d054f(0x85a)]===_0x5470f4[_0x1d054f(0x85a)]&&_0x3cf9a5[_0x1d054f(0x254)]===_0x5c0042[_0x1d054f(0x74c)]&&_0x3cf9a5['id']!==_0x5470f4['id']){_0x2d9da6=!0x1;break;}}try{await _0x547b0d[_0x1d054f(0x498)](_0xb5881c,_0x53e839,_0x2d9da6);}catch(_0x2d0bd7){_0xb63eee[_0x1d054f(0x3c9)](_0x1d054f(0x32a),_0x2d0bd7);}return{'type':_0x1d054f(0x7fe)};}if(_0x1d054f(0x62f)===_0x3e800e[_0x1d054f(0xacf)]){const {query:_0x59ff96,vendorId:_0x114303,collectionId:_0x429cc7}=_0x3e800e,_0x160ed1=await _0x11a297['getDataCollection'](_0x114303,_0x429cc7);if(_0x160ed1['storageType']!==_0x47b47a['GenerativeAIRagType'][_0x1d054f(0x8b2)]){const _0x44f69a=this['ragConnectors']?.[_0x1d054f(0x2a2)](_0x160ed1[_0x1d054f(0x85a)]);if(!_0x44f69a)throw new Error(_0x1d054f(0x806));const _0x15baf8=_0x254ee8(_0x114303,_0x160ed1);return{'type':_0x1d054f(0x62f),'results':await _0x44f69a[_0x1d054f(0x566)](_0x15baf8,_0x429cc7,_0x59ff96,0x1)};}const _0x52f2f9=_0x160ed1[_0x1d054f(0x6bf)]?.[_0x1d054f(0x5a5)](_0x1a9dd2=>_0x1a9dd2['type']===_0x4f87f6['Prompt']);return{'type':_0x1d054f(0x62f),'results':(await _0x12edf3(_0x3e800e[_0x1d054f(0x117)],_0x371055,'',_0x59ff96,_0x52f2f9,_0x160ed1,{'objectStoreConnector':this[_0x1d054f(0x407)],'ragConnector':this[_0x1d054f(0x69e)]?.['get'](_0x47b47a[_0x1d054f(0x546)]['Crewdle']),'documentParserConnector':this[_0x1d054f(0x7a4)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1d054f(0x80f)],'models':Array[_0x1d054f(0x8f7)](this[_0x1d054f(0x577)][_0x1d054f(0x347)]()),'contentMediator':this[_0x1d054f(0x3bf)],'searchConnector':this[_0x1d054f(0x5dd)],'aiSearchConnector':this[_0x1d054f(0x8cc)],'queryFileConnector':this[_0x1d054f(0x80e)]}))[_0x1d054f(0x781)]??[]};}throw new Error(_0x1d054f(0x998));}async*[_0x29fc43(0x430)](_0x5db030,_0x12c1a2){const _0x4c8d42=_0x29fc43;if('prompt'===_0x12c1a2[_0x4c8d42(0xacf)]){await this[_0x4c8d42(0x79d)](_0x5db030,_0x12c1a2);const _0x2e83bd=await _0x11a297[_0x4c8d42(0x611)](_0x12c1a2['vendorId'],_0x12c1a2['workflowId']),_0x5292e1=_0x2e83bd[_0x4c8d42(0x9ff)]['find'](_0x6381e2=>_0x6381e2[_0x4c8d42(0xacf)]===_0x284f13[_0x4c8d42(0x711)]);for await(const _0x48baeb of _0x3d7d6e(_0x12c1a2[_0x4c8d42(0x9a8)]??_0x5db030,_0x12c1a2,_0x5292e1,_0x2e83bd[_0x4c8d42(0x9ff)],{'documentParserConnector':this[_0x4c8d42(0x7a4)],'fileConnector':this[_0x4c8d42(0x6a8)],'nlpLibraryConnector':this[_0x4c8d42(0x4dc)],'generativeAIWorkerConnectors':this[_0x4c8d42(0x80f)],'models':Array[_0x4c8d42(0x8f7)](this['models'][_0x4c8d42(0x347)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x4c8d42(0x5dd)],'aiSearchConnector':this[_0x4c8d42(0x8cc)],'queryFileConnector':this[_0x4c8d42(0x80e)]}))yield _0x48baeb;await this[_0x4c8d42(0x855)](_0x5db030,_0x12c1a2);}if(_0x4c8d42(0x9ed)===_0x12c1a2[_0x4c8d42(0xacf)]){await this[_0x4c8d42(0x79d)](_0x5db030,_0x12c1a2);for await(const _0x22aa3d of _0x3c24aa(_0x12c1a2['jobId']??_0x5db030,_0x12c1a2,{'documentParserConnector':this[_0x4c8d42(0x7a4)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4c8d42(0x4dc)],'generativeAIWorkerConnectors':this[_0x4c8d42(0x80f)],'models':Array['from'](this[_0x4c8d42(0x577)][_0x4c8d42(0x347)]()),'contentMediator':this[_0x4c8d42(0x3bf)],'searchConnector':this[_0x4c8d42(0x5dd)],'aiSearchConnector':this[_0x4c8d42(0x8cc)],'queryFileConnector':this[_0x4c8d42(0x80e)]}))yield _0x22aa3d;await this['stopTracing'](_0x5db030,_0x12c1a2);}}async[_0x29fc43(0x79d)](_0x47aa20,_0x28c418){const _0x39acdd=_0x29fc43;if(_0x39acdd(0x744)===_0x28c418['type'])return _0x47aa20=_0x28c418['jobId'],void await this['openTrace'](_0x47aa20,_0x28c418['vendorId'],_0x28c418[_0x39acdd(0x8f9)]);_0x39acdd(0x7c1)!==_0x28c418[_0x39acdd(0xacf)]&&_0x39acdd(0x9ed)!==_0x28c418[_0x39acdd(0xacf)]||!_0x28c418[_0x39acdd(0x9a8)]||(_0x47aa20=_0x28c418[_0x39acdd(0x9a8)]),await this['openTrace'](_0x47aa20,_0x28c418[_0x39acdd(0x117)],_0x28c418[_0x39acdd(0x8f9)],_0x28c418['threadId']),await _0x987f7f[_0x39acdd(0x6ab)]({'jobType':_0x4e3472[_0x39acdd(0x53a)],'type':_0x58c389[_0x39acdd(0x861)],'traceLevel':_0xbaa178[_0x39acdd(0x856)],'jobId':_0x47aa20,'threadId':_0x28c418['threadId'],'startTime':Date[_0x39acdd(0x653)](),'timestamp':Date['now'](),'status':_0x39acdd(0x2a9)});}async[_0x29fc43(0x855)](_0x4133e5,_0x176218){const _0x305576=_0x29fc43;if(_0x305576(0x744)===_0x176218[_0x305576(0xacf)])return _0x4133e5=_0x176218[_0x305576(0x9a8)],void await this[_0x305576(0x742)](_0x4133e5);_0x305576(0x7c1)!==_0x176218[_0x305576(0xacf)]&&_0x305576(0x9ed)!==_0x176218['type']||!_0x176218[_0x305576(0x9a8)]||(_0x4133e5=_0x176218[_0x305576(0x9a8)]),await _0x987f7f[_0x305576(0x6ab)]({'jobType':_0x4e3472[_0x305576(0x53a)],'type':_0x58c389[_0x305576(0x89b)],'traceLevel':_0xbaa178[_0x305576(0x856)],'jobId':_0x4133e5,'threadId':_0x176218[_0x305576(0x1ca)],'startTime':Date[_0x305576(0x653)](),'timestamp':Date[_0x305576(0x653)](),'status':'success'}),await this['closeTrace'](_0x4133e5,_0x176218[_0x305576(0x1ca)]);}async[_0x29fc43(0x160)](_0x2285c8,_0x29c4db,_0x9b0c63,_0x318550){const _0x2cf08d=_0x29fc43;try{if(!await _0x987f7f[_0x2cf08d(0x160)](_0x29c4db,_0x2285c8,_0x9b0c63,_0x318550))throw new Error('Error\x20opening\x20trace');return _0x2285c8;}catch(_0x1d2e61){return console[_0x2cf08d(0x3c9)](_0x2cf08d(0x314),_0x1d2e61),_0x2cf08d(0x44e);}}async['closeTrace'](_0x2c4c38,_0x28aa34){const _0x1a21db=_0x29fc43;try{await _0x987f7f[_0x1a21db(0x742)](_0x2c4c38,_0x28aa34);}catch(_0x4da8a8){console[_0x1a21db(0x3c9)](_0x1a21db(0x47d),{'jobId':_0x2c4c38,'error':_0x4da8a8});}}[_0x29fc43(0x18e)](_0x410555){const _0x37bbb3=_0x29fc43;switch(_0x410555[_0x37bbb3(0xacf)]){case _0x284f13[_0x37bbb3(0x48a)]:case _0x284f13[_0x37bbb3(0x2d0)]:return'executeAgent'+_0x410555[_0x37bbb3(0x3dd)][_0x37bbb3(0x9fb)](/[^a-zA-Z]/g,'');case _0x284f13['WorkflowTool']:return _0x37bbb3(0x53c)+_0x410555['name'][_0x37bbb3(0x9fb)](/[^a-zA-Z]/g,'');case _0x284f13[_0x37bbb3(0x94b)]:case _0x284f13[_0x37bbb3(0x3c4)]:return _0x37bbb3(0x2ea)+_0x410555[_0x37bbb3(0x3dd)][_0x37bbb3(0x9fb)](/[^a-zA-Z]/g,'');case _0x284f13[_0x37bbb3(0x733)]:return _0x410555[_0x37bbb3(0x3dd)][_0x37bbb3(0x9fb)](/[^a-zA-Z]/g,'');case _0x284f13[_0x37bbb3(0x2e8)]:return _0x37bbb3(0x420);case _0x284f13[_0x37bbb3(0x28c)]:return'executeJavascriptCodeSnippet';case _0x284f13[_0x37bbb3(0xa09)]:return'searchOnGoogle';case _0x284f13[_0x37bbb3(0x849)]:case _0x284f13[_0x37bbb3(0x9ac)]:return _0x37bbb3(0x111);case _0x47b47a['GenerativeAIInferenceToolType'][_0x37bbb3(0x3b1)]:return _0x37bbb3(0xa06)+_0x410555[_0x37bbb3(0x3dd)][_0x37bbb3(0x9fb)](/[^a-zA-Z]/g,'');case _0x47b47a[_0x37bbb3(0x7f0)][_0x37bbb3(0x4aa)]:return'setAnswer'+_0x410555[_0x37bbb3(0x3dd)]['replace'](/[^a-zA-Z]/g,'');case _0x47b47a[_0x37bbb3(0x7f0)]['FormSkillSubmitForm']:return'submitForm'+_0x410555[_0x37bbb3(0x3dd)][_0x37bbb3(0x9fb)](/[^a-zA-Z]/g,'');default:return'';}}[_0x29fc43(0x757)](_0x2ba5d3){const _0x320e22=_0x29fc43;switch(_0x2ba5d3[_0x320e22(0xacf)]){case _0x284f13[_0x320e22(0x48a)]:case _0x284f13[_0x320e22(0x2d0)]:return'Execute\x20the\x20agent\x20'+_0x2ba5d3[_0x320e22(0x3f9)]+'\x20to\x20generate\x20a\x20response.';case _0x284f13[_0x320e22(0xabd)]:return _0x320e22(0x8c5)+_0x2ba5d3['description']+'\x20to\x20generate\x20a\x20response.';case _0x284f13[_0x320e22(0x94b)]:case _0x284f13['Knowledge']:return _0x320e22(0x139)+_0x2ba5d3[_0x320e22(0x3f9)]+_0x320e22(0x644);case _0x284f13['CustomSkill']:return'Execute\x20skill\x20'+_0x2ba5d3[_0x320e22(0x3f9)];case _0x284f13['AiSearch']:return'Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x284f13['Code']:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x284f13[_0x320e22(0xa09)]:return _0x320e22(0x20c);case _0x284f13[_0x320e22(0x849)]:case _0x284f13['WebScraperRaw']:return _0x320e22(0x3a9);case _0x47b47a[_0x320e22(0x7f0)][_0x320e22(0x3b1)]:return _0x320e22(0xa8d);case _0x47b47a[_0x320e22(0x7f0)]['FormSkillSetAnswer']:return _0x320e22(0x610);case _0x47b47a[_0x320e22(0x7f0)][_0x320e22(0x21a)]:return _0x320e22(0x3d7);default:return'';}}[_0x29fc43(0x64e)](_0x311664){const _0x4b5746=_0x29fc43;switch(_0x311664[_0x4b5746(0xacf)]){case _0x284f13[_0x4b5746(0x48a)]:case _0x284f13['AgentSkill']:case _0x284f13[_0x4b5746(0xabd)]:return[{'name':'prompt','type':_0x4b5746(0x89c)}];case _0x284f13[_0x4b5746(0x94b)]:case _0x284f13[_0x4b5746(0x3c4)]:return[{'name':_0x4b5746(0xac2),'type':'string'}];case _0x284f13[_0x4b5746(0x733)]:return _0x311664[_0x4b5746(0x28b)]['map'](_0x26e0fc=>({'name':_0x26e0fc[_0x4b5746(0x3dd)],'type':_0x26e0fc[_0x4b5746(0xacf)]??_0x4b5746(0x89c)}))??[];case _0x284f13[_0x4b5746(0x2e8)]:return[{'name':_0x4b5746(0x966),'type':_0x4b5746(0x89c)}];case _0x284f13[_0x4b5746(0x28c)]:return[{'name':_0x4b5746(0x840),'type':_0x4b5746(0x89c)}];case _0x284f13[_0x4b5746(0xa09)]:return[{'name':_0x4b5746(0x966),'type':_0x4b5746(0x89c)}];case _0x284f13[_0x4b5746(0x849)]:case _0x284f13[_0x4b5746(0x9ac)]:return[{'name':_0x4b5746(0x413),'type':_0x4b5746(0x89c)},{'name':_0x4b5746(0xa9a),'type':'number'}];case _0x47b47a[_0x4b5746(0x7f0)][_0x4b5746(0x3b1)]:return[];case _0x47b47a[_0x4b5746(0x7f0)][_0x4b5746(0x4aa)]:return[{'name':'id','type':_0x4b5746(0x89c)},{'name':_0x4b5746(0x5df),'type':_0x4b5746(0x89c)}];case _0x47b47a[_0x4b5746(0x7f0)][_0x4b5746(0x21a)]:default:return[];}}}class _0x16bbf5{[_0x29fc43(0x57f)];[_0x29fc43(0x936)];[_0x29fc43(0x2ef)]=new Map();[_0x29fc43(0x327)]=new Map();['pubSubTopics']=new Map();['objectStores']=new Map();[_0x29fc43(0x969)]=new Map();[_0x29fc43(0x12f)]=new Map();['vectorDatabases']=new Map();[_0x29fc43(0xa0b)]=new Map();[_0x29fc43(0x646)]=new Map();[_0x29fc43(0x631)]=new Map();[_0x29fc43(0x3db)]=new Map();[_0x29fc43(0x9d4)];constructor(_0x42b5be,_0x1a0f10){const _0x1bcd06=_0x29fc43;this['configs']=_0x42b5be,this[_0x1bcd06(0x936)]=_0x1a0f10,this[_0x1bcd06(0x9d4)]=new _0x18191b(this['configs'][_0x1bcd06(0x117)],this['configs'][_0x1bcd06(0x93b)]);}[_0x29fc43(0xb1b)](_0x4aeb89=!0x1){const _0x28b936=_0x29fc43;this[_0x28b936(0x327)]['forEach']((_0x45f24,_0x3f51f2)=>{const _0x562816=_0x28b936;_0x45f24[_0x562816(0x7f9)]((_0x2c2eb3,_0x2ffd10)=>{const _0x4c4433=_0x562816;this[_0x4c4433(0x302)](_0x3f51f2,_0x2ffd10);});}),_0x4aeb89||(_0x3fa725[_0x28b936(0x985)](),this[_0x28b936(0x2ef)][_0x28b936(0x7f9)]((_0x3a15db,_0x2693e2)=>{const _0x499125=_0x28b936;this[_0x499125(0x2a8)](_0x2693e2);}),this[_0x28b936(0x705)]['forEach']((_0x46cf22,_0x30bd5d)=>{const _0x55b29c=_0x28b936;this[_0x55b29c(0x187)](_0x30bd5d);}),this['objectStores']['forEach']((_0x3424ad,_0x4f3a93)=>{const _0x55e170=_0x28b936;this[_0x55e170(0x79f)](_0x4f3a93);}),this[_0x28b936(0x969)]['forEach']((_0x556b13,_0x2e1dcb)=>{const _0x19a6fb=_0x28b936;this[_0x19a6fb(0x43b)](_0x2e1dcb);}),this[_0x28b936(0x12f)][_0x28b936(0x7f9)]((_0x182d76,_0x5582d8)=>{this['removeKeyValueDatabase'](_0x5582d8);}),this['jobDispatchers'][_0x28b936(0x7f9)]((_0x4fc5cc,_0xc182ff)=>{const _0x4dd57d=_0x28b936;this[_0x4dd57d(0x311)](_0xc182ff);}),this[_0x28b936(0x631)][_0x28b936(0x7f9)]((_0x38baec,_0x5a9dbf)=>{const _0xe1b726=_0x28b936;this[_0xe1b726(0x40b)](_0x5a9dbf);}),this['generativeAIContexts']['forEach']((_0x282ff6,_0x226c31)=>{this['removeGenerativeAIContext'](_0x226c31);}),this['vectorDatabases']['forEach']((_0x325cf7,_0x1b9496)=>{const _0x1d2527=_0x28b936;this[_0x1d2527(0x53f)](_0x1b9496);}),this[_0x28b936(0xa0b)][_0x28b936(0x7f9)]((_0x527f56,_0x1b3ab2)=>{const _0x14a95b=_0x28b936;this[_0x14a95b(0x7c7)](_0x1b3ab2);}));}[_0x29fc43(0x21c)](_0x5ca995,_0xc73cd9,_0x570c73){const _0x15f4fd=_0x29fc43;if(this[_0x15f4fd(0x988)][_0x15f4fd(0x716)](_0x5ca995))throw new _0x27674c(_0x3d6c7a[_0x15f4fd(0x151)],_0x15f4fd(0x115));const _0x1a3c1c=new _0x179c73(this[_0x15f4fd(0x57f)]['localNode'],_0x5ca995,this[_0x15f4fd(0x57f)][_0x15f4fd(0x93b)],this[_0x15f4fd(0x57f)][_0x15f4fd(0x117)],this[_0x15f4fd(0x9d4)],_0xc73cd9,()=>this[_0x15f4fd(0x57f)][_0x15f4fd(0x2f9)][_0x15f4fd(0x543)](),_0x570c73);return this[_0x15f4fd(0x988)][_0x15f4fd(0x355)](_0x5ca995,_0x1a3c1c),this[_0x15f4fd(0x57f)][_0x15f4fd(0x2f9)][_0x15f4fd(0x900)](_0x1a3c1c),_0x1a3c1c;}[_0x29fc43(0x802)](_0x1aa82,_0xade35e){const _0x4af53c=_0x29fc43;if(this[_0x4af53c(0x988)][_0x4af53c(0x716)](_0x1aa82))throw new _0x27674c(_0x3d6c7a[_0x4af53c(0x169)],_0x4af53c(0xa6f));const _0x3e1e2d=new _0x2abb17(this[_0x4af53c(0x57f)]['localNode'],_0x1aa82,this[_0x4af53c(0x57f)][_0x4af53c(0x93b)],this['configs']['vendorId'],_0xade35e);return this['externalStorageConnections']['set'](_0x1aa82,_0x3e1e2d),this['configs']['mediator'][_0x4af53c(0x900)](_0x3e1e2d),_0x3e1e2d;}async[_0x29fc43(0xa1e)](_0xfc34d2,_0x381454,_0x52540f){const _0x49fdb7=_0x29fc43;if(this[_0x49fdb7(0x12f)][_0x49fdb7(0x716)](_0xfc34d2))throw new _0x27674c(_0x3d6c7a[_0x49fdb7(0x6b1)],_0x49fdb7(0x4c3));try{const _0x9f5725=this['configs'][_0x49fdb7(0x2f9)][_0x49fdb7(0x2b4)][_0x49fdb7(0x699)](this[_0x49fdb7(0x57f)][_0x49fdb7(0x2f9)]),_0x21cbff=new _0x484610(this[_0x49fdb7(0x57f)][_0x49fdb7(0xa8a)],_0xfc34d2,this[_0x49fdb7(0x57f)]['clusterId'],this[_0x49fdb7(0x57f)]['vendorId'],_0x381454,_0x52540f,_0x9f5725);return this[_0x49fdb7(0x12f)][_0x49fdb7(0x355)](_0xfc34d2,_0x21cbff),this[_0x49fdb7(0x57f)]['mediator']['registerSystemSource'](_0x21cbff),_0x21cbff;}catch(_0x43247f){if(_0x43247f instanceof _0x27674c)throw _0x43247f;throw new _0x3335bf(_0x3335bf[_0x49fdb7(0x4ee)]['KeyValueDatabaseCreationFailed'],{'label':_0xfc34d2,'clusterId':this[_0x49fdb7(0x57f)]['clusterId'],'vendorId':this['configs'][_0x49fdb7(0x117)]});}}async[_0x29fc43(0xa3e)](_0x53cd73,_0x469a37){const _0x61ad9f=_0x29fc43;if(this[_0x61ad9f(0x646)][_0x61ad9f(0x716)](_0x53cd73))throw new _0x27674c(_0x3d6c7a['JobDispatcherAlreadyExists'],_0x61ad9f(0x65a));try{const _0x1164db=new _0x596de3(this[_0x61ad9f(0x57f)][_0x61ad9f(0xa8a)],_0x53cd73,_0x469a37);return this['jobDispatchers'][_0x61ad9f(0x355)](_0x53cd73,_0x1164db),this[_0x61ad9f(0x57f)]['mediator']['registerSystemSource'](_0x1164db),_0x1164db;}catch(_0x1bfec8){if(_0x1bfec8 instanceof _0x27674c)throw _0x1bfec8;throw new _0x3335bf(_0x3335bf[_0x61ad9f(0x4ee)]['JobDispatcherCreationFailed'],{'label':_0x53cd73,'clusterId':this['configs'][_0x61ad9f(0x93b)],'vendorId':this[_0x61ad9f(0x57f)][_0x61ad9f(0x117)]});}}async['createGenerativeAIContext'](_0x3fab29,_0x3bae44){const _0x3dadbb=_0x29fc43;if(this[_0x3dadbb(0x646)][_0x3dadbb(0x716)](_0x3fab29))throw new _0x27674c(_0x3d6c7a[_0x3dadbb(0x620)],_0x3dadbb(0x7cc));if(this[_0x3dadbb(0x631)][_0x3dadbb(0x716)](_0x3fab29))throw new _0x27674c(_0x3d6c7a[_0x3dadbb(0xa67)],_0x3dadbb(0x97f));try{const _0x9bba7d=new _0x196e1d(this[_0x3dadbb(0x57f)][_0x3dadbb(0xa8a)],_0x3fab29,this[_0x3dadbb(0x57f)]['vendorId'],_0x3bae44);return this[_0x3dadbb(0x646)][_0x3dadbb(0x355)](_0x3fab29,_0x9bba7d),this[_0x3dadbb(0x57f)][_0x3dadbb(0x2f9)][_0x3dadbb(0x900)](_0x9bba7d),_0x9bba7d;}catch(_0x5427ff){if(_0x5427ff instanceof _0x27674c)throw _0x5427ff;throw new _0x3335bf(_0x3335bf[_0x3dadbb(0x4ee)]['GenerativeAIContextCreationFailed'],{'label':_0x3fab29,'clusterId':this[_0x3dadbb(0x57f)]['clusterId'],'vendorId':this['configs'][_0x3dadbb(0x117)]});}}async[_0x29fc43(0x3b9)](_0x98ef62,_0x4281a7,_0x2b4116,_0x1a8265,_0x377838,_0x2fa820,_0x3a3486,_0xa0234c,_0x2c46eb,_0x289b1a,_0x35639c){const _0x48373d=_0x29fc43;if(this['generativeAIContexts'][_0x48373d(0x716)](_0x98ef62))throw new _0x27674c(_0x3d6c7a[_0x48373d(0x620)],'AI\x20Service\x20already\x20exists');if(this[_0x48373d(0x631)][_0x48373d(0x716)](_0x98ef62))throw new _0x27674c(_0x3d6c7a[_0x48373d(0xa67)],_0x48373d(0x97f));try{const _0x5e66d2=new _0x1a65f8(this[_0x48373d(0x57f)][_0x48373d(0xa8a)],_0x98ef62,this,_0x4281a7,_0x2b4116,_0x1a8265,_0x377838,_0x2fa820,_0x3a3486,_0xa0234c,_0x2c46eb,_0x289b1a,_0x35639c);return this[_0x48373d(0x3db)][_0x48373d(0x355)](_0x98ef62,_0x5e66d2),this[_0x48373d(0x57f)]['mediator'][_0x48373d(0x900)](_0x5e66d2),_0x5e66d2;}catch(_0x2eb84a){if(_0x2eb84a instanceof _0x27674c)throw _0x2eb84a;throw new _0x3335bf(_0x3335bf[_0x48373d(0x4ee)]['GenerativeAIContextCreationFailed'],{'label':_0x98ef62,'clusterId':this[_0x48373d(0x57f)]['clusterId'],'vendorId':this[_0x48373d(0x57f)]['vendorId']});}}async[_0x29fc43(0x415)](_0x254244,_0x131766,_0x16f3cc,_0x84b8fd,_0x2dbe6e,_0x52988f,_0x5eab26,_0xc82728,_0x1c69d4,_0x3f9bca,_0xd3c714,_0x3bbf17){const _0x2ef739=_0x29fc43;if(this['jobWorkers'][_0x2ef739(0x716)](_0x254244))throw new _0x27674c(_0x3d6c7a[_0x2ef739(0x92d)],_0x2ef739(0xa54));if(this[_0x2ef739(0x646)]['has'](_0x254244))throw new _0x27674c(_0x3d6c7a[_0x2ef739(0xa67)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x378016=new _0x2cd2ee(this[_0x2ef739(0x57f)][_0x2ef739(0xa8a)],_0x254244,_0x131766,this,_0x16f3cc,_0x84b8fd,_0x2dbe6e,_0x52988f,_0x5eab26,_0xc82728,_0x1c69d4,_0x3f9bca,_0xd3c714,_0x3bbf17);return this[_0x2ef739(0x631)][_0x2ef739(0x355)](_0x254244,_0x378016),this[_0x2ef739(0x57f)]['mediator'][_0x2ef739(0x900)](_0x378016),_0x378016;}catch(_0x2a045b){if(_0x2a045b instanceof _0x27674c)throw _0x2a045b;throw new _0x3335bf(_0x3335bf[_0x2ef739(0x4ee)]['GenerativeAIWorkerCreationFailed'],{'label':_0x254244,'clusterId':this[_0x2ef739(0x57f)]['clusterId'],'vendorId':this[_0x2ef739(0x57f)][_0x2ef739(0x117)]});}}[_0x29fc43(0xaf4)](_0x1bd01b,_0x1ea86f){const _0x23930c=_0x29fc43;if(this['graphDatabases']['has'](_0x1bd01b))throw new _0x27674c(_0x3d6c7a[_0x23930c(0x11a)],_0x23930c(0x4c3));try{const _0x1c1edd=new _0x56fd51(this[_0x23930c(0x57f)][_0x23930c(0xa8a)],_0x1bd01b,this[_0x23930c(0x57f)]['clusterId'],this[_0x23930c(0x57f)]['vendorId'],_0x1ea86f);return this[_0x23930c(0xa0b)][_0x23930c(0x355)](_0x1bd01b,_0x1c1edd),this[_0x23930c(0x57f)][_0x23930c(0x2f9)][_0x23930c(0x900)](_0x1c1edd),_0x1c1edd;}catch(_0x560fd1){if(_0x560fd1 instanceof _0x27674c)throw _0x560fd1;throw new _0x3335bf(_0x3335bf[_0x23930c(0x4ee)][_0x23930c(0x46d)],{'label':_0x1bd01b,'clusterId':this['configs'][_0x23930c(0x93b)],'vendorId':this['configs'][_0x23930c(0x117)]});}}[_0x29fc43(0x545)](_0x722cc6,_0x22b922){const _0x444c96=_0x29fc43;if(this[_0x444c96(0x2ef)][_0x444c96(0x716)](_0x722cc6))throw new _0x27674c(_0x3d6c7a[_0x444c96(0x1c0)],_0x444c96(0x93e));if(!this['options'][_0x444c96(0x351)])throw new _0x27674c(_0x3d6c7a[_0x444c96(0x33b)],'AudioContext\x20is\x20not\x20available');const _0x8a314d=new _0x22d809(this['configs'][_0x444c96(0xa8a)],_0x722cc6,_0x22b922,this[_0x444c96(0x936)]['maxFps'],this[_0x444c96(0x936)][_0x444c96(0x351)],this['configs']['clusterId']);return this[_0x444c96(0x2ef)][_0x444c96(0x355)](_0x722cc6,_0x8a314d),this[_0x444c96(0x57f)][_0x444c96(0x2f9)]['registerSystemSource'](_0x8a314d),_0x8a314d[_0x444c96(0x289)](),_0x8a314d;}[_0x29fc43(0x403)](_0x416cfe,_0x12fd67){const _0x5a64aa=_0x29fc43;if(this[_0x5a64aa(0x2ef)][_0x5a64aa(0x716)](_0x416cfe))throw new _0x27674c(_0x3d6c7a['LocalMediaStreamAlreadyExists'],_0x5a64aa(0x38e));const _0x537db8=new _0x1121a8(this['configs'][_0x5a64aa(0xa8a)],_0x416cfe,_0x12fd67,this['configs'][_0x5a64aa(0x93b)]);return this[_0x5a64aa(0x2ef)]['set'](_0x416cfe,_0x537db8),this[_0x5a64aa(0x57f)][_0x5a64aa(0x2f9)]['registerSystemSource'](_0x537db8),_0x537db8[_0x5a64aa(0x289)](),_0x537db8;}[_0x29fc43(0x91d)](_0x2387f1){const _0x554324=_0x29fc43;if(this[_0x554324(0x705)][_0x554324(0x716)](_0x2387f1))throw new _0x27674c(_0x3d6c7a['PubSubTopicAlreadyExists'],_0x554324(0x879));const _0x180d24=new _0xb801b9(this[_0x554324(0x57f)][_0x554324(0xa8a)],_0x2387f1,this['configs'][_0x554324(0x93b)]);return this[_0x554324(0x705)][_0x554324(0x355)](_0x2387f1,_0x180d24),this[_0x554324(0x57f)]['mediator']['registerSystemSource'](_0x180d24),_0x180d24;}['createRemoteMediaStream'](_0x250b8b,_0x2fd1b2,_0x1ccaa6,_0xe9dbeb){const _0x34eb20=_0x29fc43;this['remoteMediaStreams'][_0x34eb20(0x716)](_0x250b8b)||this[_0x34eb20(0x327)][_0x34eb20(0x355)](_0x250b8b,new Map());const _0x1e0abd=this['remoteMediaStreams'][_0x34eb20(0x2a2)](_0x250b8b);if(_0x1e0abd[_0x34eb20(0x716)](_0x2fd1b2))throw new _0x27674c(_0x3d6c7a['RemoteMediaStreamAlreadyExists'],_0x34eb20(0x275));const _0x2941ab=new _0x3f92c7(_0x250b8b,'',''),_0x2331e8=new _0x4b660e(this[_0x34eb20(0x57f)][_0x34eb20(0xa8a)],_0x2941ab,_0x2fd1b2,_0x1ccaa6,_0xe9dbeb,this[_0x34eb20(0x57f)]['clusterId']);return _0x1e0abd[_0x34eb20(0x355)](_0x2fd1b2,_0x2331e8),this[_0x34eb20(0x57f)][_0x34eb20(0x2f9)][_0x34eb20(0x900)](_0x2331e8),_0x2331e8;}[_0x29fc43(0x6a7)](_0x549618,_0x3e08b3){const _0x3cb114=_0x29fc43;if(this[_0x3cb114(0x92a)]['has'](_0x549618))throw new _0x27674c(_0x3d6c7a[_0x3cb114(0xa44)],_0x3cb114(0x4c3));try{const _0x195a57=new _0x420912(this[_0x3cb114(0x57f)]['localNode'],_0x549618,this[_0x3cb114(0x57f)][_0x3cb114(0x93b)],this[_0x3cb114(0x57f)][_0x3cb114(0x117)],_0x3e08b3);return this[_0x3cb114(0x92a)][_0x3cb114(0x355)](_0x549618,_0x195a57),this[_0x3cb114(0x57f)][_0x3cb114(0x2f9)][_0x3cb114(0x900)](_0x195a57),_0x195a57;}catch(_0x64ffaa){if(_0x64ffaa instanceof _0x27674c)throw _0x64ffaa;throw new _0x3335bf(_0x3335bf['codes'][_0x3cb114(0x35e)],{'label':_0x549618,'clusterId':this[_0x3cb114(0x57f)][_0x3cb114(0x93b)],'vendorId':this['configs'][_0x3cb114(0x117)]});}}[_0x29fc43(0x843)](_0x54c8eb){const _0x23c4d5=_0x29fc43,_0x5700a9=Array[_0x23c4d5(0x8f7)](this[_0x23c4d5(0x988)][_0x23c4d5(0x347)]());return _0x54c8eb?_0x5700a9[_0x23c4d5(0x81c)](_0x54c8eb):_0x5700a9;}[_0x29fc43(0xaf1)](_0x4a7975){const _0x2ede8e=_0x29fc43,_0x3a7965=Array[_0x2ede8e(0x8f7)](this[_0x2ede8e(0x969)][_0x2ede8e(0x347)]());return _0x4a7975?_0x3a7965[_0x2ede8e(0x81c)](_0x4a7975):_0x3a7965;}[_0x29fc43(0x47b)](_0x3c92f5){const _0x5e718b=_0x29fc43,_0x16a7bb=Array['from'](this[_0x5e718b(0x12f)][_0x5e718b(0x347)]());return _0x3c92f5?_0x16a7bb['filter'](_0x3c92f5):_0x16a7bb;}[_0x29fc43(0x5ad)](_0xb245c4){const _0x37f62b=_0x29fc43,_0x4e4975=Array['from'](this[_0x37f62b(0x646)][_0x37f62b(0x347)]());return _0xb245c4?_0x4e4975['filter'](_0xb245c4):_0x4e4975;}['getJobWorkers'](_0x4c6ac3){const _0x16cb15=_0x29fc43,_0x264176=Array[_0x16cb15(0x8f7)](this[_0x16cb15(0x631)][_0x16cb15(0x347)]());return _0x4c6ac3?_0x264176['filter'](_0x4c6ac3):_0x264176;}[_0x29fc43(0x9d1)](_0x1468bd){const _0x5521be=_0x29fc43,_0x22e5f5=Array[_0x5521be(0x8f7)](this['jobDispatchers'][_0x5521be(0x347)]())[_0x5521be(0x81c)](_0x3c4fb0=>_0x3c4fb0 instanceof _0x196e1d);return _0x1468bd?_0x22e5f5[_0x5521be(0x81c)](_0x1468bd):_0x22e5f5;}[_0x29fc43(0x232)](_0x5a5bcf){const _0x44b255=_0x29fc43,_0x96ed68=Array[_0x44b255(0x8f7)](this[_0x44b255(0x3db)]['values']());return _0x5a5bcf?_0x96ed68[_0x44b255(0x81c)](_0x5a5bcf):_0x96ed68;}[_0x29fc43(0x188)](_0x48dfc8){const _0x2de66a=_0x29fc43,_0xd125ff=Array['from'](this[_0x2de66a(0x631)][_0x2de66a(0x347)]())[_0x2de66a(0x81c)](_0x5428cf=>_0x5428cf instanceof _0x2cd2ee);return _0x48dfc8?_0xd125ff['filter'](_0x48dfc8):_0xd125ff;}[_0x29fc43(0x590)](_0x23e9d2){const _0x1211da=_0x29fc43,_0x4e72fe=Array[_0x1211da(0x8f7)](this[_0x1211da(0xa0b)]['values']());return _0x23e9d2?_0x4e72fe['filter'](_0x23e9d2):_0x4e72fe;}['getLocalMediaStreams'](_0x424b77){const _0x2c89fe=_0x29fc43,_0x2dbccf=Array[_0x2c89fe(0x8f7)](this[_0x2c89fe(0x2ef)][_0x2c89fe(0x347)]());return _0x424b77?_0x2dbccf[_0x2c89fe(0x81c)](_0x424b77):_0x2dbccf;}['getPubSubTopics'](_0x19effa){const _0x2425d4=_0x29fc43,_0x1df6ec=Array[_0x2425d4(0x8f7)](this[_0x2425d4(0x705)]['values']());return _0x19effa?_0x1df6ec[_0x2425d4(0x81c)](_0x19effa):_0x1df6ec;}['getRemoteMediaStreams'](_0x405727){const _0xe2b9f1=_0x29fc43,_0xcbb01e=Array[_0xe2b9f1(0x8f7)](this[_0xe2b9f1(0x327)][_0xe2b9f1(0x347)]())[_0xe2b9f1(0x8ca)]((_0xf95135,_0x2e4796)=>[..._0xf95135,...Array[_0xe2b9f1(0x8f7)](_0x2e4796[_0xe2b9f1(0x347)]())],[]);return _0x405727?_0xcbb01e[_0xe2b9f1(0x81c)](_0x405727):_0xcbb01e;}[_0x29fc43(0x6ee)](_0x3923e4){const _0x1f791f=_0x29fc43,_0x285353=Array[_0x1f791f(0x8f7)](this[_0x1f791f(0x92a)][_0x1f791f(0x347)]());return _0x3923e4?_0x285353[_0x1f791f(0x81c)](_0x3923e4):_0x285353;}['getObjectStoreBucket'](_0x1f7274){const _0x3f31be=_0x29fc43,_0x719b32=this['objectStores'][_0x3f31be(0x2a2)](_0x1f7274);if(!_0x719b32)throw new _0x27674c(_0x3d6c7a['ObjectStoreDoesNotExist'],_0x3f31be(0xa1f));return _0x719b32;}[_0x29fc43(0x593)](_0x565e59){const _0x3f6061=_0x29fc43,_0x42ed13=_0x565e59[_0x3f6061(0x388)]('-'),_0x412a8b=this[_0x3f6061(0x969)][_0x3f6061(0x2a2)](_0x42ed13[0x1]);if(!_0x412a8b)throw new _0x27674c(_0x3d6c7a['ExternalStorageConnectionDoesNotExist'],_0x3f6061(0x438));return _0x412a8b;}['getGraphDatabase'](_0x28a339){const _0x12e5c3=_0x29fc43,_0x63e95e=this[_0x12e5c3(0xa0b)][_0x12e5c3(0x2a2)](_0x28a339);if(!_0x63e95e)throw new _0x27674c(_0x3d6c7a[_0x12e5c3(0x184)],_0x12e5c3(0x3a4));return _0x63e95e;}[_0x29fc43(0x6a2)](_0x2bc48d){const _0x6cc26c=_0x29fc43,_0x392c94=this[_0x6cc26c(0x12f)][_0x6cc26c(0x2a2)](_0x2bc48d);if(!_0x392c94)throw new _0x27674c(_0x3d6c7a[_0x6cc26c(0x4a3)],_0x6cc26c(0x3f0));return _0x392c94;}[_0x29fc43(0x540)](_0x3ed1bb){const _0x2c4b80=this['pubSubTopics']['get'](_0x3ed1bb);if(!_0x2c4b80)throw new _0x27674c(_0x3d6c7a['PubSubTopicDoesNotExist'],'PubSubTopic\x20not\x20found');return _0x2c4b80;}[_0x29fc43(0x523)](_0x274fc6){const _0xeb9097=_0x29fc43,_0x84124f=this['vectorDatabases'][_0xeb9097(0x2a2)](_0x274fc6);if(!_0x84124f)throw new _0x27674c(_0x3d6c7a['VectorDatabaseDoesNotExist'],_0xeb9097(0x65c));return _0x84124f;}[_0x29fc43(0x9f2)](_0x4cef93){const _0x31aa7c=_0x29fc43;switch(_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0xacf)]){case _0x49b388[_0x31aa7c(0x5e6)]:this['handlePublishMediaStream'](_0x4cef93[_0x31aa7c(0x88a)]);break;case _0x49b388[_0x31aa7c(0xa82)]:this[_0x31aa7c(0x381)](_0x4cef93[_0x31aa7c(0x88a)]);break;case _0x49b388['CloseJobDispatcher']:this['removeJobDispatcher'](_0x4cef93['content'][_0x31aa7c(0x12a)]);break;case _0x49b388[_0x31aa7c(0x7b9)]:this['removeJobWorker'](_0x4cef93['content'][_0x31aa7c(0x12a)]);break;case _0x49b388['CloseGenerativeAIContext']:this['removeGenerativeAIContext'](_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x12a)]);break;case _0x49b388[_0x31aa7c(0x82c)]:this['removeLocalMediaStream'](_0x4cef93[_0x31aa7c(0x88a)]['label']);break;case _0x49b388['ClosePubSubTopic']:this[_0x31aa7c(0x187)](_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x12a)]);break;case _0x49b388[_0x31aa7c(0x6b0)]:this[_0x31aa7c(0x79f)](_0x4cef93[_0x31aa7c(0x88a)]['label']);break;case _0x49b388['CloseExternalStorageConnection']:this['removeExternalStorageConnection'](_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x12a)]);break;case _0x49b388[_0x31aa7c(0x887)]:this[_0x31aa7c(0x2cc)](_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x12a)]);break;case _0x49b388[_0x31aa7c(0x69d)]:this[_0x31aa7c(0x53f)](_0x4cef93['content']['label']);break;case _0x49b388[_0x31aa7c(0x677)]:this[_0x31aa7c(0x7c7)](_0x4cef93['content'][_0x31aa7c(0x12a)]);break;case _0x49b388[_0x31aa7c(0x638)]:this['handleContentUnsubscribeMediaStream'](_0x4cef93[_0x31aa7c(0x88a)]);break;case _0x49b388[_0x31aa7c(0x8ce)]:this[_0x31aa7c(0x12f)][_0x31aa7c(0x2a2)](_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x12a)])?.['answerContentAvailable'](_0x4cef93[_0x31aa7c(0xad5)],_0x4cef93['content'][_0x31aa7c(0x713)]);break;case _0x49b388[_0x31aa7c(0x331)]:this[_0x31aa7c(0x12f)][_0x31aa7c(0x2a2)](_0x4cef93[_0x31aa7c(0x88a)]['label'])?.['processContentSynchronized'](_0x4cef93['sourceId'],_0x4cef93[_0x31aa7c(0x88a)]['mmrRoot']);break;case _0x49b388['KeyValueDatabaseContentAvailable']:this[_0x31aa7c(0x12f)][_0x31aa7c(0x2a2)](_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x12a)])?.['processContentAvailable'](_0x4cef93[_0x31aa7c(0xad5)],_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x947)]);break;case _0x49b388[_0x31aa7c(0x890)]:this[_0x31aa7c(0x12f)][_0x31aa7c(0x2a2)](_0x4cef93['content'][_0x31aa7c(0x12a)])?.[_0x31aa7c(0x574)](_0x4cef93[_0x31aa7c(0xad5)],_0x4cef93['content']['peakHeights']);break;case _0x49b388[_0x31aa7c(0x319)]:this[_0x31aa7c(0x12f)][_0x31aa7c(0x2a2)](_0x4cef93['content'][_0x31aa7c(0x12a)])?.['sendTransactionsValue'](_0x4cef93['sourceId'],_0x4cef93[_0x31aa7c(0x88a)]['transactionIds']);break;case _0x49b388['KeyValueDatabaseSendTransactions']:this[_0x31aa7c(0x12f)][_0x31aa7c(0x2a2)](_0x4cef93['content'][_0x31aa7c(0x12a)])?.['processReceivedTransactions'](_0x4cef93[_0x31aa7c(0xad5)],_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x405)]);break;case _0x49b388[_0x31aa7c(0xad1)]:this['configs'][_0x31aa7c(0x2f9)][_0x31aa7c(0x551)]('local-media-stream-track-fail',{'label':_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x12a)],'trackKinds':_0x4cef93[_0x31aa7c(0x88a)][_0x31aa7c(0x3bd)]});}}[_0x29fc43(0x127)]({content:_0x1b84ae}){const _0x4e6829=_0x29fc43;switch(_0x1b84ae[_0x4e6829(0xacf)]){case _0x4ce2f2[_0x4e6829(0x722)]:this[_0x4e6829(0x84f)](_0x1b84ae),this[_0x4e6829(0xa87)](_0x1b84ae);break;case _0x4ce2f2[_0x4e6829(0x84e)]:this[_0x4e6829(0x469)](_0x1b84ae),this[_0x4e6829(0x476)](_0x1b84ae);}}[_0x29fc43(0x9c9)](_0x4a88af){const _0x4469b3=_0x29fc43;switch(_0x4a88af[_0x4469b3(0x88a)]['type']){case _0x4d7c63[_0x4469b3(0x49e)]:this['handleSubscribeMediaStream'](_0x4a88af['sourceId'],_0x4a88af[_0x4469b3(0x88a)]);break;case _0x4d7c63[_0x4469b3(0x233)]:this[_0x4469b3(0x8d4)](_0x4a88af[_0x4469b3(0xad5)],_0x4a88af[_0x4469b3(0x88a)]);break;case _0x4d7c63[_0x4469b3(0x638)]:this[_0x4469b3(0x260)](_0x4a88af[_0x4469b3(0xad5)],_0x4a88af[_0x4469b3(0x88a)]);}}[_0x29fc43(0x9c3)](_0x41da52){const _0x1c847b=_0x29fc43;if(0x0===_0x41da52['remainingTracks'])this[_0x1c847b(0x327)]['get'](_0x41da52[_0x1c847b(0x8b3)])?.[_0x1c847b(0x2a2)](_0x41da52[_0x1c847b(0x12a)])?.[_0x1c847b(0x13b)]();else{const _0x4ab209=this[_0x1c847b(0x327)][_0x1c847b(0x2a2)](_0x41da52[_0x1c847b(0x8b3)])?.['get'](_0x41da52['label']);if(!_0x4ab209)return;_0x41da52[_0x1c847b(0x3bd)][_0x1c847b(0x7f9)](_0x30f796=>_0x4ab209[_0x1c847b(0x7fa)](_0x30f796));}}[_0x29fc43(0x9af)](_0x298f45){const _0x172c11=_0x29fc43,{label:_0x3226b1,ownerId:_0x2b312b,stream:{streamId:_0x5a277e,availableTrackKinds:_0x2eef4c}}=_0x298f45;if(this['remoteMediaStreams'][_0x172c11(0x2a2)](_0x2b312b)?.[_0x172c11(0x716)](_0x3226b1))return void _0xb63eee[_0x172c11(0x195)](_0x30994c['Content'],_0x172c11(0x38e),_0x5a277e);const _0x5e41c7=this[_0x172c11(0xa3b)](_0x2b312b,_0x3226b1,_0x5a277e,_0x2eef4c);this['configs'][_0x172c11(0x2f9)][_0x172c11(0x551)](_0x172c11(0x53e),{'ownerId':_0x2b312b,'stream':_0x5e41c7});}[_0x29fc43(0x381)]({ownerId:_0x35f3b1,label:_0x5c2381}){const _0x4418f4=_0x29fc43;this[_0x4418f4(0x302)](_0x35f3b1,_0x5c2381),this['configs'][_0x4418f4(0x2f9)][_0x4418f4(0x551)](_0x4418f4(0x865),{'ownerId':_0x35f3b1,'label':_0x5c2381});}[_0x29fc43(0x5c2)](_0x407e82,_0x2f09e7){const _0x2b4b09=_0x29fc43,{ownerId:_0x36637c,label:_0x35ff6f}=_0x2f09e7;let _0x3600f6;_0x3600f6=_0x36637c!==this['configs']['localNode']['getId']()?this['remoteMediaStreams']['get'](_0x36637c)[_0x2b4b09(0x2a2)](_0x35ff6f):this[_0x2b4b09(0x2ef)][_0x2b4b09(0x2a2)](_0x35ff6f),_0x3600f6[_0x2b4b09(0x439)](_0x407e82,_0x2f09e7[_0x2b4b09(0x7b6)])[_0x2b4b09(0x75e)](_0x2f09e7,_0x3600f6[_0x2b4b09(0x5c5)]());}[_0x29fc43(0x8d4)](_0x38658a,_0x3fe664){const _0x1bc0d7=_0x29fc43,{ownerId:_0x1ba45,label:_0x4e6053}=_0x3fe664;let _0x2d1a41;_0x2d1a41=_0x1ba45!==this[_0x1bc0d7(0x57f)][_0x1bc0d7(0xa8a)][_0x1bc0d7(0x994)]()?this[_0x1bc0d7(0x327)][_0x1bc0d7(0x2a2)](_0x1ba45)[_0x1bc0d7(0x2a2)](_0x4e6053):this[_0x1bc0d7(0x2ef)]['get'](_0x4e6053),_0x2d1a41[_0x1bc0d7(0x439)](_0x38658a,_0x3fe664['params'])[_0x1bc0d7(0x340)](_0x3fe664);}['handleUnsubscribeMediaStream'](_0xc3487e,_0x7f2c0a){const _0x49d7d5=_0x29fc43,{ownerId:_0x21e7bd,label:_0x3cdb0e}=_0x7f2c0a;let _0x2c66b1;_0x2c66b1=_0x21e7bd!==this['configs']['localNode'][_0x49d7d5(0x994)]()?this['remoteMediaStreams'][_0x49d7d5(0x2a2)](_0x21e7bd)[_0x49d7d5(0x2a2)](_0x3cdb0e):this['localMediaStreams']['get'](_0x3cdb0e),_0x2c66b1[_0x49d7d5(0x439)](_0xc3487e)[_0x49d7d5(0x515)](_0x7f2c0a);}[_0x29fc43(0x84f)]({id:_0x908026}){this['getLocalMediaStreams']()['forEach'](_0x490fe0=>{_0x490fe0['publish'](_0x908026);});}[_0x29fc43(0x469)]({id:_0x48e8e1}){const _0xfdd0ec=_0x29fc43;this[_0xfdd0ec(0x974)](_0x3c20cd=>_0x3c20cd[_0xfdd0ec(0x5a8)]()===_0x48e8e1)[_0xfdd0ec(0x7f9)](_0x5a92d8=>{const _0x9d343d=_0xfdd0ec;this['removeRemoteMediaStream'](_0x5a92d8[_0x9d343d(0x5a8)](),_0x5a92d8['getLabel']());});}[_0x29fc43(0xa87)]({id:_0x2f46e3}){const _0x3c731c=_0x29fc43;this[_0x3c731c(0x988)][_0x3c731c(0x7f9)](_0x566b2d=>_0x566b2d[_0x3c731c(0x9c5)](_0x2f46e3));}[_0x29fc43(0x476)]({id:_0x2ec5b1}){const _0x48974a=_0x29fc43;this[_0x48974a(0x988)][_0x48974a(0x7f9)](_0x25612b=>_0x25612b['handleNodeLeave'](_0x2ec5b1));}[_0x29fc43(0x311)](_0x299176){const _0x256013=_0x29fc43;if(!this[_0x256013(0x646)][_0x256013(0x716)](_0x299176))throw new _0x27674c(_0x3d6c7a[_0x256013(0x6fb)],_0x256013(0x41f));const _0x2d3f14=this[_0x256013(0x646)][_0x256013(0x2a2)](_0x299176);this['jobDispatchers'][_0x256013(0x5ef)](_0x299176),_0x2d3f14['destroy'](),this[_0x256013(0x57f)][_0x256013(0x2f9)][_0x256013(0x1b1)](_0x2d3f14);}['removeJobWorker'](_0x4235ac){const _0x10e426=_0x29fc43;if(!this[_0x10e426(0x631)][_0x10e426(0x716)](_0x4235ac))throw new _0x27674c(_0x3d6c7a[_0x10e426(0x1b2)],_0x10e426(0x48c));const _0xdbe0ca=this['jobWorkers'][_0x10e426(0x2a2)](_0x4235ac);this['jobWorkers'][_0x10e426(0x5ef)](_0x4235ac),_0xdbe0ca[_0x10e426(0x13b)](),this[_0x10e426(0x57f)][_0x10e426(0x2f9)][_0x10e426(0x1b1)](_0xdbe0ca);}['removeGenerativeAIContext'](_0x3d4889){const _0x5871c4=_0x29fc43;if(!this[_0x5871c4(0x3db)]['has'](_0x3d4889))throw new _0x27674c(_0x3d6c7a[_0x5871c4(0x259)],_0x5871c4(0x7a0));const _0x3299e0=this[_0x5871c4(0x3db)]['get'](_0x3d4889);this[_0x5871c4(0x3db)][_0x5871c4(0x5ef)](_0x3d4889),this['configs'][_0x5871c4(0x2f9)][_0x5871c4(0x1b1)](_0x3299e0);}[_0x29fc43(0x79f)](_0x1da537){const _0x2af8a2=_0x29fc43;if(!this[_0x2af8a2(0x988)][_0x2af8a2(0x716)](_0x1da537))throw new _0x27674c(_0x3d6c7a['ObjectStoreDoesNotExist'],_0x2af8a2(0x9d9));const _0x359c52=this[_0x2af8a2(0x988)]['get'](_0x1da537);this['objectStores']['delete'](_0x1da537),_0x359c52[_0x2af8a2(0x13b)](),this[_0x2af8a2(0x57f)][_0x2af8a2(0x2f9)][_0x2af8a2(0x1b1)](_0x359c52);}[_0x29fc43(0x43b)](_0xd9d15c){const _0x40ac32=_0x29fc43;if(!this[_0x40ac32(0x969)][_0x40ac32(0x716)](_0xd9d15c))throw new _0x27674c(_0x3d6c7a['ExternalStorageConnectionDoesNotExist'],_0x40ac32(0x310));const _0x256549=this['externalStorageConnections'][_0x40ac32(0x2a2)](_0xd9d15c);this['externalStorageConnections'][_0x40ac32(0x5ef)](_0xd9d15c),_0x256549[_0x40ac32(0x13b)](),this[_0x40ac32(0x57f)]['mediator'][_0x40ac32(0x1b1)](_0x256549);}[_0x29fc43(0x187)](_0x426465){const _0x4b7eb2=_0x29fc43;if(!this[_0x4b7eb2(0x705)][_0x4b7eb2(0x716)](_0x426465))throw new _0x27674c(_0x3d6c7a['PubSubTopicDoesNotExist'],'Stream\x20does\x20not\x20exist');const _0x1d08c1=this[_0x4b7eb2(0x705)][_0x4b7eb2(0x2a2)](_0x426465);this[_0x4b7eb2(0x705)][_0x4b7eb2(0x5ef)](_0x426465),_0x1d08c1[_0x4b7eb2(0x13b)](),this[_0x4b7eb2(0x57f)][_0x4b7eb2(0x2f9)][_0x4b7eb2(0x1b1)](_0x1d08c1);}[_0x29fc43(0x2cc)](_0x250b49){const _0xcbaa4e=_0x29fc43;if(!this[_0xcbaa4e(0x12f)][_0xcbaa4e(0x716)](_0x250b49))throw new _0x27674c(_0x3d6c7a['KeyValueDatabaseDoesNotExist'],_0xcbaa4e(0x595));const _0x5cf55b=this[_0xcbaa4e(0x12f)][_0xcbaa4e(0x2a2)](_0x250b49);this[_0xcbaa4e(0x12f)]['delete'](_0x250b49),_0x5cf55b['destroy'](),this[_0xcbaa4e(0x57f)][_0xcbaa4e(0x2f9)]['unregisterSystemSource'](_0x5cf55b);}[_0x29fc43(0x53f)](_0x4e7a8c){const _0x9a782f=_0x29fc43;if(!this[_0x9a782f(0x92a)][_0x9a782f(0x716)](_0x4e7a8c))throw new _0x27674c(_0x3d6c7a['VectorDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x9b4131=this[_0x9a782f(0x92a)]['get'](_0x4e7a8c);this[_0x9a782f(0x92a)][_0x9a782f(0x5ef)](_0x4e7a8c),_0x9b4131['destroy'](),this[_0x9a782f(0x57f)]['mediator'][_0x9a782f(0x1b1)](_0x9b4131);}[_0x29fc43(0x7c7)](_0x28eb61){const _0x5e8104=_0x29fc43;if(!this[_0x5e8104(0xa0b)]['has'](_0x28eb61))throw new _0x27674c(_0x3d6c7a[_0x5e8104(0x184)],_0x5e8104(0x595));const _0x21ca88=this[_0x5e8104(0xa0b)][_0x5e8104(0x2a2)](_0x28eb61);this[_0x5e8104(0xa0b)]['delete'](_0x28eb61),_0x21ca88[_0x5e8104(0x13b)](),this[_0x5e8104(0x57f)][_0x5e8104(0x2f9)][_0x5e8104(0x1b1)](_0x21ca88);}[_0x29fc43(0x2a8)](_0xb583b5){const _0x1fe90f=_0x29fc43;if(!this[_0x1fe90f(0x2ef)][_0x1fe90f(0x716)](_0xb583b5))throw new _0x3335bf(_0x3335bf[_0x1fe90f(0x4ee)][_0x1fe90f(0xb08)],{'label':_0xb583b5,'localId':this['configs']['localNode'][_0x1fe90f(0x994)]()});const _0x2e2006=this[_0x1fe90f(0x2ef)][_0x1fe90f(0x2a2)](_0xb583b5);this[_0x1fe90f(0x57f)][_0x1fe90f(0x2f9)][_0x1fe90f(0x1b1)](_0x2e2006),_0x2e2006['destroy'](),this[_0x1fe90f(0x2ef)][_0x1fe90f(0x5ef)](_0xb583b5);}[_0x29fc43(0x302)](_0x143af9,_0x36ea35){const _0x3a8958=_0x29fc43;if(!this[_0x3a8958(0x327)][_0x3a8958(0x716)](_0x143af9))throw new _0x3335bf(_0x3335bf[_0x3a8958(0x4ee)][_0x3a8958(0x67a)],{'nodeId':_0x143af9,'localId':this[_0x3a8958(0x57f)][_0x3a8958(0xa8a)][_0x3a8958(0x994)]()});const _0x483eb6=this[_0x3a8958(0x327)]['get'](_0x143af9);if(!_0x483eb6[_0x3a8958(0x716)](_0x36ea35))throw new _0x3335bf(_0x3335bf['codes']['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x143af9,'label':_0x36ea35,'localId':this[_0x3a8958(0x57f)]['localNode'][_0x3a8958(0x994)]()});const _0xebcafe=_0x483eb6[_0x3a8958(0x2a2)](_0x36ea35);this[_0x3a8958(0x57f)][_0x3a8958(0x2f9)][_0x3a8958(0x1b1)](_0xebcafe),_0xebcafe[_0x3a8958(0x13b)](),_0x483eb6['delete'](_0x36ea35);}}var _0x22cc9b,_0x42dc96,_0x58fc74;!function(_0xa5ffc7){const _0x158ae4=_0x29fc43;_0xa5ffc7[_0x158ae4(0x3de)]=_0x158ae4(0x659),_0xa5ffc7[_0x158ae4(0x362)]=_0x158ae4(0x1b5),_0xa5ffc7[_0x158ae4(0x384)]=_0x158ae4(0xa71),_0xa5ffc7['Bitrate']=_0x158ae4(0x780),_0xa5ffc7[_0x158ae4(0x1b4)]=_0x158ae4(0x305),_0xa5ffc7[_0x158ae4(0x50d)]=_0x158ae4(0x12b),_0xa5ffc7['RoundTripTime']=_0x158ae4(0x375),_0xa5ffc7['AudioVideoDelay']=_0x158ae4(0x5b9);}(_0x22cc9b||(_0x22cc9b={})),function(_0x5a6add){const _0x2b7909=_0x29fc43;_0x5a6add[_0x2b7909(0x594)]=_0x2b7909(0x5a9),_0x5a6add[_0x2b7909(0x384)]=_0x2b7909(0x411),_0x5a6add[_0x2b7909(0x70f)]=_0x2b7909(0x9ce),_0x5a6add[_0x2b7909(0x50d)]=_0x2b7909(0x6e1),_0x5a6add[_0x2b7909(0x7d2)]=_0x2b7909(0x772),_0x5a6add[_0x2b7909(0x1b4)]=_0x2b7909(0x90e),_0x5a6add[_0x2b7909(0x306)]=_0x2b7909(0x292);}(_0x42dc96||(_0x42dc96={})),function(_0x26f742){const _0x41c805=_0x29fc43;_0x26f742[_0x26f742[_0x41c805(0x9fa)]=0x0]=_0x41c805(0x9fa);}(_0x58fc74||(_0x58fc74={}));const _0x1d1bbd=[{'type':_0x22cc9b[_0x29fc43(0x3de)],'reportMetric':_0x495aed=>_0x495aed['STVolatility'],'maxThreshold':2.5},{'type':_0x22cc9b[_0x29fc43(0x362)],'reportMetric':_0x59806e=>_0x59806e[_0x29fc43(0x362)],'maxThreshold':0.5}],_0x1b4407=[{'type':_0x22cc9b[_0x29fc43(0x384)],'reportMetric':_0x2cec45=>{const _0x52a756=_0x29fc43,_0x4f1bcf=0x3e8/_0x2cec45[_0x52a756(0x3e1)];return _0x2cec45['timePerFrame']/_0x4f1bcf;},'maxThreshold':0.75},{'type':_0x22cc9b['Bitrate'],'reportMetric':_0x18a545=>{const _0xfb5cf=_0x29fc43,_0x3b4441=_0x18a545[_0xfb5cf(0x3e1)]*_0x18a545[_0xfb5cf(0x3fa)]*_0x18a545[_0xfb5cf(0x961)]*0.12;return _0x18a545['bitrate']/_0x3b4441;},'minThreshold':0.25},{'type':_0x22cc9b[_0x29fc43(0x1b4)],'reportMetric':_0x2d26e5=>_0x2d26e5['jitter'],'maxThreshold':0.6},{'type':_0x22cc9b[_0x29fc43(0x50d)],'reportMetric':_0x1d378e=>_0x1d378e['FPS'],'minThreshold':0xa}],_0xfc2259=[{'type':_0x22cc9b[_0x29fc43(0x1b4)],'reportMetric':_0x37d9c8=>_0x37d9c8[_0x29fc43(0x305)],'maxThreshold':0.6}],_0xf88cdd=[{'type':_0x22cc9b[_0x29fc43(0x306)],'reportMetric':_0x2f4ef3=>_0x2f4ef3[_0x29fc43(0x48d)],'maxThreshold':0x1/0x0}],_0x2f0ede=[{'type':_0x22cc9b[_0x29fc43(0x70f)],'reportMetric':_0x50a00f=>_0x50a00f[_0x29fc43(0x70f)],'maxThreshold':0x12c}],_0x540204=[{'type':_0x42dc96[_0x29fc43(0x594)],'issues':[{'type':_0x22cc9b[_0x29fc43(0x3de)],'threshold':0x5},{'type':_0x22cc9b[_0x29fc43(0x362)],'threshold':0x5}]},{'type':_0x42dc96[_0x29fc43(0x384)],'issues':[{'type':_0x22cc9b[_0x29fc43(0x384)],'threshold':0x3}]},{'type':_0x42dc96[_0x29fc43(0x70f)],'issues':[{'type':_0x22cc9b[_0x29fc43(0x70f)],'threshold':0x2}]},{'type':_0x42dc96['FramePerSecond'],'issues':[{'type':_0x22cc9b[_0x29fc43(0x50d)],'threshold':0x3}]},{'type':_0x42dc96[_0x29fc43(0x7d2)],'issues':[{'type':_0x22cc9b[_0x29fc43(0x7d2)],'threshold':0x3}]},{'type':_0x42dc96[_0x29fc43(0x1b4)],'issues':[{'type':_0x22cc9b[_0x29fc43(0x1b4)],'threshold':0x3}]},{'type':_0x42dc96[_0x29fc43(0x306)],'issues':[{'type':_0x22cc9b[_0x29fc43(0x306)],'threshold':0x3}]}];var _0x11dd65,_0x4de10e;!function(_0x383c0a){const _0x357f12=_0x29fc43;_0x383c0a[_0x383c0a[_0x357f12(0x862)]=0x0]='StreamReport',_0x383c0a[_0x383c0a[_0x357f12(0x34d)]=0x1]=_0x357f12(0x34d);}(_0x11dd65||(_0x11dd65={}));class _0x125f48{[_0x29fc43(0x57f)];[_0x29fc43(0x453)]=[];['systemTopic'];constructor(_0x38d583){const _0x161e79=_0x29fc43;this[_0x161e79(0x57f)]=_0x38d583,this['configs']['mediator']['registerSystemSource'](this);}['registerSystemPublisher'](_0x450717){this['systemTopic']=_0x450717;}['unregisterSystemPublisher'](){this['systemTopic']=void 0x0;}[_0x29fc43(0xb1b)](){const _0x5b26ed=_0x29fc43;this['configs'][_0x5b26ed(0x2f9)][_0x5b26ed(0x1b1)](this),this[_0x5b26ed(0x453)]=[];}['handleStatsSystemEvents'](_0x3d192b){const _0x3269d4=_0x29fc43;switch(_0x3d192b[_0x3269d4(0x88a)][_0x3269d4(0xacf)]){case _0x11dd65[_0x3269d4(0x34d)]:this['detectLocalIssues'](_0x3d192b['content'][_0x3269d4(0x7d7)]);break;case _0x11dd65[_0x3269d4(0x862)]:this[_0x3269d4(0x16f)](_0x3d192b['content'][_0x3269d4(0x7d7)]);}}['detectProblems'](_0x3ea7d8,_0x2c6d98,_0x54be55,_0x4a1b4a){const _0x3693d3=_0x29fc43,_0x39d898=_0x540204[_0x3693d3(0x5a5)](_0x5ec42c=>_0x5ec42c[_0x3693d3(0x453)][_0x3693d3(0x21d)](_0x511537=>_0x511537['type']===_0x3ea7d8));_0x4a1b4a>=_0x39d898[_0x3693d3(0x453)][_0x3693d3(0x5a5)](_0x564793=>_0x564793[_0x3693d3(0xacf)]===_0x3ea7d8)[_0x3693d3(0x6fa)]&&(this[_0x3693d3(0x992)](_0x39d898[_0x3693d3(0xacf)],_0x2c6d98,_0x54be55),this[_0x3693d3(0x453)]=this[_0x3693d3(0x453)][_0x3693d3(0x81c)](_0x56090e=>!(_0x56090e['type']===_0x3ea7d8&&_0x56090e[_0x3693d3(0x45a)]===_0x2c6d98&&_0x56090e['origin']===_0x54be55)));}[_0x29fc43(0x952)](_0xa92611){const _0x33d12b=_0x29fc43;_0x1d1bbd[_0x33d12b(0x7f9)](_0x407937=>{const _0x2986ac=_0x33d12b,_0x1c53e3=_0x407937['reportMetric'](_0xa92611);_0x407937[_0x2986ac(0x619)]&&_0x1c53e3>_0x407937[_0x2986ac(0x619)]&&this[_0x2986ac(0x760)](_0x407937[_0x2986ac(0xacf)],this['configs']['localNode'][_0x2986ac(0x994)](),_0x337eb8[_0x2986ac(0x7fc)],_0x1c53e3),_0x407937[_0x2986ac(0x3d0)]&&_0x1c53e3<_0x407937[_0x2986ac(0x3d0)]&&this[_0x2986ac(0x760)](_0x407937['type'],this[_0x2986ac(0x57f)][_0x2986ac(0xa8a)]['getId'](),_0x337eb8[_0x2986ac(0x7fc)],_0x1c53e3);});}[_0x29fc43(0x16f)](_0x159ec3){const _0x36ef93=_0x29fc43;let _0x2915d1=[];switch(_0x159ec3[_0x36ef93(0x538)]){case _0x337eb8['Sender']:_0x2915d1=_0xf88cdd;break;case _0x337eb8[_0x36ef93(0x6cd)]:_0x2915d1=_0x2f0ede;}_0x159ec3[_0x36ef93(0x41d)]&&this[_0x36ef93(0x846)](_0x159ec3[_0x36ef93(0x45a)],_0x337eb8[_0x36ef93(0x7fc)],_0x159ec3[_0x36ef93(0x41d)]),_0x159ec3[_0x36ef93(0x3c3)]&&this[_0x36ef93(0x702)](_0x159ec3[_0x36ef93(0x45a)],_0x337eb8['Sender'],_0x159ec3[_0x36ef93(0x3c3)]),_0x2915d1[_0x36ef93(0x7f9)](_0x482feb=>{const _0x284768=_0x36ef93,_0x277060=_0x482feb[_0x284768(0x20e)](_0x159ec3);_0x482feb[_0x284768(0x619)]&&_0x277060>_0x482feb['maxThreshold']&&this['addIssue'](_0x482feb[_0x284768(0xacf)],_0x159ec3[_0x284768(0x45a)],_0x337eb8['Sender'],_0x277060),_0x482feb[_0x284768(0x3d0)]&&_0x277060<_0x482feb[_0x284768(0x3d0)]&&this[_0x284768(0x760)](_0x482feb[_0x284768(0xacf)],_0x159ec3[_0x284768(0x45a)],_0x337eb8[_0x284768(0x7fc)],_0x277060);});}[_0x29fc43(0x846)](_0x2a3b89,_0x35c812,_0x48e9cc){0x0!==_0x48e9cc['bitrate']&&_0x1b4407['forEach'](_0xe5d69c=>{const _0x464866=a0_0x424d,_0x4eb65b=_0xe5d69c[_0x464866(0x20e)](_0x48e9cc);_0xe5d69c[_0x464866(0x619)]&&_0x4eb65b>_0xe5d69c[_0x464866(0x619)]&&this[_0x464866(0x760)](_0xe5d69c[_0x464866(0xacf)],_0x2a3b89,_0x35c812,_0x4eb65b,_0x464866(0x41d)),_0xe5d69c['minThreshold']&&_0x4eb65b<_0xe5d69c[_0x464866(0x3d0)]&&this[_0x464866(0x760)](_0xe5d69c[_0x464866(0xacf)],_0x2a3b89,_0x35c812,_0x4eb65b,_0x464866(0x41d));});}[_0x29fc43(0x702)](_0x1acb31,_0x20f031,_0x3499a8){const _0x150324=_0x29fc43;0x0!==_0x3499a8[_0x150324(0x780)]&&_0xfc2259['forEach'](_0x5e0f2f=>{const _0x472aa8=_0x150324,_0x26649a=_0x5e0f2f[_0x472aa8(0x20e)](_0x3499a8);_0x5e0f2f[_0x472aa8(0x619)]&&_0x26649a>_0x5e0f2f[_0x472aa8(0x619)]&&this[_0x472aa8(0x760)](_0x5e0f2f['type'],_0x1acb31,_0x20f031,_0x26649a,_0x472aa8(0x3c3)),_0x5e0f2f['minThreshold']&&_0x26649a<_0x5e0f2f['minThreshold']&&this[_0x472aa8(0x760)](_0x5e0f2f[_0x472aa8(0xacf)],_0x1acb31,_0x20f031,_0x26649a,_0x472aa8(0x3c3));});}[_0x29fc43(0x760)](_0x24ca92,_0x2d8e33,_0x85d951,_0x5c7cce,_0x11e163){const _0x4228e1=_0x29fc43;_0xb63eee[_0x4228e1(0x195)](_0x30994c[_0x4228e1(0x5b1)],_0x4228e1(0x17b)+_0x24ca92,_0x24ca92,_0x5c7cce),_0xb63eee[_0x4228e1(0x684)]('issue',{'clusterId':this[_0x4228e1(0x57f)][_0x4228e1(0x93b)],'nodeId':this[_0x4228e1(0x57f)]['localNode']['getId'](),'nodeType':this[_0x4228e1(0x57f)][_0x4228e1(0xa8a)][_0x4228e1(0xacf)],'remoteId':_0x2d8e33,'data':{'type':_0x24ca92,'value':_0x5c7cce,'kind':_0x11e163}}),this[_0x4228e1(0x453)]=this['issues'][_0x4228e1(0x81c)](_0x3498de=>Date[_0x4228e1(0x653)]()-_0x3498de[_0x4228e1(0x50b)]<0x7530),this[_0x4228e1(0x453)][_0x4228e1(0x9f9)]({'timestamp':Date['now'](),'type':_0x24ca92,'nodeId':_0x2d8e33,'origin':_0x85d951,'value':_0x5c7cce,'kind':_0x11e163});const _0xdc136=this[_0x4228e1(0x453)]['filter'](_0x2dc6ef=>_0x2dc6ef[_0x4228e1(0xacf)]===_0x24ca92&&_0x2dc6ef[_0x4228e1(0x45a)]===_0x2d8e33&&_0x2dc6ef['origin']===_0x85d951)[_0x4228e1(0x4c5)];this['detectProblems'](_0x24ca92,_0x2d8e33,_0x85d951,_0xdc136);}[_0x29fc43(0x992)](_0x884e4d,_0x255faa,_0x25b8f5){const _0x73fb4=_0x29fc43;_0xb63eee[_0x73fb4(0x195)](_0x30994c[_0x73fb4(0x5b1)],_0x73fb4(0x12e)+_0x884e4d),_0xb63eee['logEvent'](_0x73fb4(0x847),{'clusterId':this[_0x73fb4(0x57f)][_0x73fb4(0x93b)],'nodeId':this[_0x73fb4(0x57f)][_0x73fb4(0xa8a)][_0x73fb4(0x994)](),'nodeType':this[_0x73fb4(0x57f)][_0x73fb4(0xa8a)][_0x73fb4(0xacf)],'remoteId':_0x255faa,'data':{'type':_0x884e4d}}),this[_0x73fb4(0x3aa)]?.[_0x73fb4(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x73fb4(0x5b1)],'content':{'type':_0x58fc74[_0x73fb4(0x9fa)],'data':{'timestamp':Date['now'](),'nodeId':_0x255faa,'origin':_0x337eb8[_0x73fb4(0x7fc)],'type':_0x884e4d}}});}}class _0x3bd620 extends _0x1ed80d{[_0x29fc43(0xacf)]=_0x47b47a[_0x29fc43(0x394)][_0x29fc43(0x48a)];}class _0x3d3347 extends _0x3bd620{[_0x29fc43(0x3aa)];[_0x29fc43(0x348)]=Date[_0x29fc43(0x653)]();[_0x29fc43(0x8fe)];['lastUpdated'];[_0x29fc43(0xb1b)](){const _0x1dbbd1=_0x29fc43;this['updateDebounceTimeout']&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x1dbbd1(0x8fe)]),delete this[_0x1dbbd1(0x720)],this[_0x1dbbd1(0x348)]=Date[_0x1dbbd1(0x653)](),super[_0x1dbbd1(0xb1b)]();}[_0x29fc43(0x911)](_0x193612){const _0x3daca6=_0x29fc43;this[_0x3daca6(0x3aa)]=_0x193612;}[_0x29fc43(0x3c7)](){const _0x1c95f5=_0x29fc43;delete this[_0x1c95f5(0x3aa)];}['answerJoin'](_0x2f9f7a){const _0x1ddb0d=_0x29fc43;!this[_0x1ddb0d(0x8fe)]&&this[_0x1ddb0d(0x60c)]&&this[_0x1ddb0d(0x3aa)]['publish']({'sourceId':this['id'],'destinationIds':[_0x2f9f7a],'propagate':!0x0,'messageType':_0x158cb7['Node'],'content':{'type':_0x4ce2f2[_0x1ddb0d(0x505)],'id':this['id'],'metaData':{'type':this[_0x1ddb0d(0xacf)]},'rank':this[_0x1ddb0d(0x1b3)](),'remoteConnections':Array[_0x1ddb0d(0x8f7)](this[_0x1ddb0d(0x221)]),'version':this[_0x1ddb0d(0x348)]}});}['addRemoteConnection'](_0x33236a){const _0x2af69b=_0x29fc43;this['remoteConnections'][_0x2af69b(0x716)](_0x33236a)||(this[_0x2af69b(0x221)][_0x2af69b(0x5ec)](_0x33236a),this[_0x2af69b(0x741)](),this[_0x2af69b(0x1ee)](!0x0));}[_0x29fc43(0x229)](_0x212c42){const _0x27504e=_0x29fc43;this[_0x27504e(0x221)]['has'](_0x212c42)&&(this[_0x27504e(0x221)][_0x27504e(0x5ef)](_0x212c42),this[_0x27504e(0x741)](),this[_0x27504e(0x1ee)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x29fc43(0x2ff)](_0x53a9b4,_0x1edabc=!0x0){const _0x49bce8=_0x29fc43;this[_0x49bce8(0x60c)]!==_0x53a9b4&&(this[_0x49bce8(0x60c)]=_0x53a9b4,_0x1edabc&&(this[_0x49bce8(0x741)](),this[_0x49bce8(0x1ee)]()));}[_0x29fc43(0x741)](){const _0x4a788d=_0x29fc43;this[_0x4a788d(0x348)]=Date[_0x4a788d(0x653)]();}[_0x29fc43(0x1ee)](_0x32487d=!0x1){const _0x4923d2=_0x29fc43;if(this[_0x4923d2(0x60c)]){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x4923d2(0x653)]()),this[_0x4923d2(0x8fe)]){if(Date[_0x4923d2(0x653)]()-this[_0x4923d2(0x720)]>0x2328)return;clearTimeout(this[_0x4923d2(0x8fe)]);}this[_0x4923d2(0x8fe)]=setTimeout(()=>{const _0x264d5d=_0x4923d2;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this[_0x264d5d(0x3aa)][_0x264d5d(0x289)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x158cb7[_0x264d5d(0x746)],'content':{'type':_0x32487d?_0x4ce2f2[_0x264d5d(0x754)]:_0x4ce2f2[_0x264d5d(0x505)],'id':this['id'],'metaData':{'type':this[_0x264d5d(0xacf)]},'rank':this['getRank'](),'remoteConnections':Array[_0x264d5d(0x8f7)](this[_0x264d5d(0x221)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x3a8c09 extends _0x3f92c7{[_0x29fc43(0x3aa)];[_0x29fc43(0x348)]=Date['now']();[_0x29fc43(0x8fe)];[_0x29fc43(0x720)];[_0x29fc43(0xb1b)](){const _0x1e7a7a=_0x29fc43;this[_0x1e7a7a(0x8fe)]&&(clearTimeout(this[_0x1e7a7a(0x8fe)]),delete this[_0x1e7a7a(0x8fe)]),delete this['lastUpdated'],this[_0x1e7a7a(0x348)]=Date['now'](),super[_0x1e7a7a(0xb1b)]();}[_0x29fc43(0x911)](_0x4d07de){this['systemTopic']=_0x4d07de;}[_0x29fc43(0x3c7)](){const _0x20e74e=_0x29fc43;delete this[_0x20e74e(0x3aa)];}['answerJoin'](_0x5ce273){const _0x559069=_0x29fc43;!this[_0x559069(0x8fe)]&&this[_0x559069(0x60c)]&&this[_0x559069(0x3aa)][_0x559069(0x289)]({'sourceId':this['id'],'destinationIds':[_0x5ce273],'propagate':!0x0,'messageType':_0x158cb7[_0x559069(0x746)],'content':{'type':_0x4ce2f2[_0x559069(0x505)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x559069(0x13d)](),'email':this['getEmail']()},'rank':this[_0x559069(0x1b3)](),'remoteConnections':Array[_0x559069(0x8f7)](this[_0x559069(0x221)]),'version':this['currentVersion']}});}[_0x29fc43(0x622)](_0x3e8f21){const _0x587c47=_0x29fc43;this[_0x587c47(0x221)]['has'](_0x3e8f21)||(this[_0x587c47(0x221)][_0x587c47(0x5ec)](_0x3e8f21),this[_0x587c47(0x741)](),this[_0x587c47(0x1ee)](!0x0));}['removeRemoteConnection'](_0x438154){const _0x3cd7f6=_0x29fc43;this[_0x3cd7f6(0x221)][_0x3cd7f6(0x716)](_0x438154)&&(this[_0x3cd7f6(0x221)][_0x3cd7f6(0x5ef)](_0x438154),this[_0x3cd7f6(0x741)](),this[_0x3cd7f6(0x1ee)](!0x0));}[_0x29fc43(0x4d3)](){const _0x3dc3f5=_0x29fc43;return this[_0x3dc3f5(0x348)];}['setDisplayName'](_0x333bd9){const _0x1054ea=_0x29fc43;this[_0x1054ea(0x43e)]!==_0x333bd9&&(this['displayName']=_0x333bd9,this[_0x1054ea(0x741)](),this[_0x1054ea(0x1ee)]());}[_0x29fc43(0x977)](_0x68297d){const _0x49787f=_0x29fc43;this[_0x49787f(0x542)]!==_0x68297d&&(this[_0x49787f(0x542)]=_0x68297d,this['incrementVersion'](),this[_0x49787f(0x1ee)]());}[_0x29fc43(0x2ff)](_0x51a40c,_0x14768b=!0x0){const _0x55a2d0=_0x29fc43;this[_0x55a2d0(0x60c)]!==_0x51a40c&&(this[_0x55a2d0(0x60c)]=_0x51a40c,_0x14768b&&(this[_0x55a2d0(0x741)](),this[_0x55a2d0(0x1ee)]()));}[_0x29fc43(0x741)](){const _0x1253ea=_0x29fc43;this[_0x1253ea(0x348)]=Date[_0x1253ea(0x653)]();}[_0x29fc43(0x1ee)](_0x4e360f=!0x1){const _0x1b8e30=_0x29fc43;if(this[_0x1b8e30(0x60c)]){if(this[_0x1b8e30(0x720)]||(this[_0x1b8e30(0x720)]=Date[_0x1b8e30(0x653)]()),this[_0x1b8e30(0x8fe)]){if(Date[_0x1b8e30(0x653)]()-this['lastUpdated']>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x1b8e30(0x8fe)]=setTimeout(()=>{const _0x7f7bd6=_0x1b8e30;delete this[_0x7f7bd6(0x720)],delete this[_0x7f7bd6(0x8fe)],this['systemTopic'][_0x7f7bd6(0x289)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x158cb7[_0x7f7bd6(0x746)],'content':{'type':_0x4e360f?_0x4ce2f2[_0x7f7bd6(0x754)]:_0x4ce2f2[_0x7f7bd6(0x505)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this[_0x7f7bd6(0x929)]()},'rank':this[_0x7f7bd6(0x1b3)](),'remoteConnections':Array[_0x7f7bd6(0x8f7)](this['remoteConnections']),'version':this[_0x7f7bd6(0x348)]}});},0x3e8);}}}class _0xbd252f{['id'];[_0x29fc43(0x7a6)];[_0x29fc43(0x117)];[_0x29fc43(0x190)];[_0x29fc43(0xacf)]=_0x47b47a[_0x29fc43(0x394)][_0x29fc43(0x48a)];[_0x29fc43(0x97e)];constructor(_0x28246b,_0x15566f,_0x25a2ed,_0x38d3f8){const _0x618bae=_0x29fc43;this['id']=_0x28246b,this[_0x618bae(0x7a6)]=_0x15566f,this[_0x618bae(0x117)]=_0x25a2ed,this[_0x618bae(0x190)]=_0x38d3f8;}[_0x29fc43(0x994)](){return this['id'];}[_0x29fc43(0x8e0)](_0x400c85){const _0x456df3=_0x29fc43,_0x174391=(0x0,_0x4a79c7[_0x456df3(0x681)])((0x0,_0x4a79c7[_0x456df3(0x463)])(_0x9824f6['getFirestore'](),_0x456df3(0xa81)+this[_0x456df3(0x117)]+_0x456df3(0x76e)+this[_0x456df3(0x7a6)]),_0x36c3d2=>{const _0x3277bb=_0x456df3;if(_0x36c3d2[_0x3277bb(0x8a4)]()){const _0x2bbeff=_0x36c3d2[_0x3277bb(0x7d7)]();if(this['agentConfig'][_0x3277bb(0x50b)]['isEqual'](_0x2bbeff[_0x3277bb(0x50b)]))return;_0xb63eee['log'](_0x30994c['Node'],_0x3277bb(0x814),{'agentId':this['id'],'groupId':this[_0x3277bb(0x7a6)],'oldConfig':this[_0x3277bb(0x190)],'newConfig':_0x2bbeff}),this['agentConfig']=_0x2bbeff,_0x400c85();}});return()=>_0x174391();}[_0x29fc43(0x2cf)](_0x42dc19){const _0x150a9e=_0x29fc43;return this[_0x150a9e(0x1e3)](this[_0x150a9e(0x7a6)],_0x42dc19),_0x16c57a[_0x150a9e(0x875)](()=>this[_0x150a9e(0x1e3)](this['groupId'],_0x42dc19),0x7530);}[_0x29fc43(0x437)](){const _0x15c9cc=_0x29fc43;if(!this['lastCapacityReport'])throw new _0x3335bf(_0x3335bf[_0x15c9cc(0x4ee)][_0x15c9cc(0x30b)]);return this['lastCapacityReport'];}async['reportCapacity'](_0x2137a3,_0x46d048){const _0x32c1f0=_0x29fc43,_0x63174e=await _0x46d048();this[_0x32c1f0(0x97e)]=_0x63174e,await(0x0,_0x4a79c7[_0x32c1f0(0x7d1)])((0x0,_0x4a79c7[_0x32c1f0(0x562)])(_0x9824f6[_0x32c1f0(0xb00)](),'developers/'+this[_0x32c1f0(0x117)]+_0x32c1f0(0x93a)),{'agentId':this['id'],'groupId':_0x2137a3,'timestamp':(0x0,_0x4a79c7[_0x32c1f0(0x51a)])(),'capacity':_0x63174e});}}!function(_0x4efb97){const _0x196d7c=_0x29fc43;_0x4efb97[_0x4efb97[_0x196d7c(0x561)]=0x0]=_0x196d7c(0x561),_0x4efb97[_0x4efb97['Offline']=0x1]=_0x196d7c(0x68a);}(_0x4de10e||(_0x4de10e={}));class _0x389efd extends _0x3bd620{[_0x29fc43(0x348)];[_0x29fc43(0x883)]=_0x4de10e[_0x29fc43(0x561)];[_0x29fc43(0x720)]=Date[_0x29fc43(0x653)]();constructor(_0xfdc245,_0x4b5d70=new Set(),_0x1b210b,_0x19575b){const _0x380edb=_0x29fc43;super(_0xfdc245,_0x4b5d70,_0x19575b),this[_0x380edb(0x348)]=_0x1b210b;}[_0x29fc43(0x4d3)](){const _0x4881ca=_0x29fc43;return this[_0x4881ca(0x348)];}[_0x29fc43(0x1f1)](){const _0x112c45=_0x29fc43;return this[_0x112c45(0x883)];}[_0x29fc43(0x10f)](){const _0x457ce0=_0x29fc43;return this[_0x457ce0(0x720)];}[_0x29fc43(0x2ff)](_0x4fa13d){const _0x31496c=_0x29fc43;this['rank']!==_0x4fa13d&&(this[_0x31496c(0x60c)]=_0x4fa13d,this[_0x31496c(0xa6e)]());}[_0x29fc43(0xa2e)](_0x10c66d){const _0xc08a9b=_0x29fc43;let _0x32634c=!0x1;for(const _0x4f25a4 of this[_0xc08a9b(0x221)])_0x10c66d['includes'](_0x4f25a4)||(_0x32634c=!0x0,this[_0xc08a9b(0x221)][_0xc08a9b(0x5ef)](_0x4f25a4));for(const _0x243bab of _0x10c66d)this[_0xc08a9b(0x221)][_0xc08a9b(0x716)](_0x243bab)||(_0x32634c=!0x0,this[_0xc08a9b(0x221)][_0xc08a9b(0x5ec)](_0x243bab));_0x32634c&&this[_0xc08a9b(0xa6e)]();}[_0x29fc43(0xa3c)](_0x3ffb92){const _0x212122=_0x29fc43;this['currentVersion']!==_0x3ffb92&&(this['currentVersion']=_0x3ffb92,this[_0x212122(0xa6e)]());}[_0x29fc43(0xa28)](_0x21897f){const _0x4767a2=_0x29fc43;this['status']!==_0x21897f&&(this[_0x4767a2(0x883)]=_0x21897f,this[_0x4767a2(0xa6e)](),_0x21897f===_0x4de10e[_0x4767a2(0x68a)]&&this[_0x4767a2(0xb1b)]());}[_0x29fc43(0xa6e)](){const _0x1deabb=_0x29fc43;this[_0x1deabb(0x720)]=Date[_0x1deabb(0x653)]();}}class _0x2ac853 extends _0x3f92c7{[_0x29fc43(0x348)];['status']=_0x4de10e[_0x29fc43(0x561)];[_0x29fc43(0x720)]=Date[_0x29fc43(0x653)]();constructor(_0x555726,_0x1296a4,_0x2c650d,_0x466189=new Set(),_0x1db723,_0x530775){const _0x8c0cc0=_0x29fc43;super(_0x555726,_0x1296a4,_0x2c650d,_0x466189,_0x530775),this[_0x8c0cc0(0x348)]=_0x1db723;}[_0x29fc43(0x4d3)](){const _0x52fb94=_0x29fc43;return this[_0x52fb94(0x348)];}['getStatus'](){const _0x3d1278=_0x29fc43;return this[_0x3d1278(0x883)];}[_0x29fc43(0x10f)](){return this['lastUpdated'];}[_0x29fc43(0x600)](_0x3e94fe){const _0x477b51=_0x29fc43;this[_0x477b51(0x43e)]!==_0x3e94fe&&(this[_0x477b51(0x43e)]=_0x3e94fe,this['updateLastUpdated']());}[_0x29fc43(0x977)](_0x31c4b0){const _0x603f7a=_0x29fc43;this[_0x603f7a(0x542)]!==_0x31c4b0&&(this['email']=_0x31c4b0,this[_0x603f7a(0xa6e)]());}['setRank'](_0x451f9b){const _0x11caac=_0x29fc43;this[_0x11caac(0x60c)]!==_0x451f9b&&(this[_0x11caac(0x60c)]=_0x451f9b,this[_0x11caac(0xa6e)]());}[_0x29fc43(0xa2e)](_0x536417){const _0x676fbc=_0x29fc43;let _0x51747c=!0x1;for(const _0x4801be of this[_0x676fbc(0x221)])_0x536417[_0x676fbc(0x3a7)](_0x4801be)||(_0x51747c=!0x0,this[_0x676fbc(0x221)][_0x676fbc(0x5ef)](_0x4801be));for(const _0x55a45e of _0x536417)this[_0x676fbc(0x221)]['has'](_0x55a45e)||(_0x51747c=!0x0,this[_0x676fbc(0x221)]['add'](_0x55a45e));_0x51747c&&this[_0x676fbc(0xa6e)]();}[_0x29fc43(0xa3c)](_0x395672){const _0x35a303=_0x29fc43;this[_0x35a303(0x348)]!==_0x395672&&(this['currentVersion']=_0x395672,this[_0x35a303(0xa6e)]());}[_0x29fc43(0xa28)](_0xe07ce8){const _0x14967c=_0x29fc43;this[_0x14967c(0x883)]!==_0xe07ce8&&(this[_0x14967c(0x883)]=_0xe07ce8,this[_0x14967c(0xa6e)](),_0xe07ce8===_0x4de10e[_0x14967c(0x68a)]&&this['close']());}[_0x29fc43(0xa6e)](){const _0x3a060c=_0x29fc43;this['lastUpdated']=Date[_0x3a060c(0x653)]();}}class _0x2297d1{[_0x29fc43(0x117)];[_0x29fc43(0x93b)];[_0x29fc43(0xa8a)];['minConnections'];['disconnectCallback']=_0x287e1a();['firebaseUnsubscriber'];[_0x29fc43(0x8c9)];[_0x29fc43(0x7c2)];['connected']=!0x1;[_0x29fc43(0x206)];[_0x29fc43(0x2d3)];constructor(_0x49cafc,_0x228eab,_0xb15be6,_0xf49924){const _0x4619d6=_0x29fc43;this[_0x4619d6(0x117)]=_0x49cafc,this[_0x4619d6(0x93b)]=_0x228eab,this['localNode']=_0xb15be6,this[_0x4619d6(0x2e5)]=_0xf49924,this['clusterKey']=_0x4619d6(0x922)+this[_0x4619d6(0x117)]+_0x4619d6(0x922)+this['clusterId'],this[_0x4619d6(0x2d3)]='ccc'+this[_0x4619d6(0x117)]+_0x4619d6(0x922)+this[_0x4619d6(0xa8a)][_0x4619d6(0x994)](),this[_0x4619d6(0xa72)]=(0x0,_0x4e283c[_0x4619d6(0x7c9)])((0x0,_0x4e283c['ref'])(_0x9824f6['getDatabase'](),_0x4619d6(0x27e)),_0x3d9c13=>{const _0x4df83d=_0x4619d6;!0x0!==_0x3d9c13[_0x4df83d(0x83f)]()?this[_0x4df83d(0xa40)]&&_0xb63eee[_0x4df83d(0x3c9)](_0x4df83d(0x380),{'clusterId':this[_0x4df83d(0x93b)],'nodeId':this[_0x4df83d(0xa8a)][_0x4df83d(0x994)](),'nodeType':this[_0x4df83d(0xa8a)]['type']}):(this[_0x4df83d(0xa40)]=!0x0,this['setOnDisconnectHandler'](),_0xb63eee['warning']('firebase-connect',{'clusterId':this[_0x4df83d(0x93b)],'nodeId':this['localNode'][_0x4df83d(0x994)](),'nodeType':this[_0x4df83d(0xa8a)][_0x4df83d(0xacf)]}));});}async[_0x29fc43(0x98d)](){const _0x51ece6=_0x29fc43;await this[_0x51ece6(0x8cf)]();const _0x213fe5=await this['getAncestors']();return this[_0x51ece6(0x8c9)]=(0x0,_0x4e283c['onChildRemoved'])((0x0,_0x4e283c['ref'])(_0x9824f6[_0x51ece6(0x6e5)](),_0x51ece6(0x99d)+this[_0x51ece6(0x206)]+_0x51ece6(0xb12)),_0x27a162=>{const _0x542338=_0x51ece6,_0x450994=_0x27a162['key'];if(!_0x450994)return;const _0x3264cb=_0x450994['replace'](_0x542338(0x922)+this[_0x542338(0x117)]+'ccc','');this[_0x542338(0x808)][_0x542338(0x289)](_0x3264cb);}),_0x213fe5;}async[_0x29fc43(0xb1b)](){const _0x1f0bb2=_0x29fc43;this[_0x1f0bb2(0x8c9)]?.(),delete this[_0x1f0bb2(0x8c9)],this[_0x1f0bb2(0x7c2)]?.['cancel'](),delete this['onDisconnectHandler'],this[_0x1f0bb2(0xa72)]?.(),delete this[_0x1f0bb2(0xa72)],await(0x0,_0x4e283c[_0x1f0bb2(0x3ee)])((0x0,_0x4e283c['ref'])(_0x9824f6[_0x1f0bb2(0x6e5)](),_0x1f0bb2(0x99d)+this[_0x1f0bb2(0x206)]+'/nodes/'+this[_0x1f0bb2(0x2d3)]));}[_0x29fc43(0x94d)](_0x4df177){const _0x4903e2=_0x29fc43;return this[_0x4903e2(0x808)][_0x4903e2(0x75e)](_0x4df177);}async[_0x29fc43(0x3f1)](){const _0x42c10f=_0x29fc43,_0x7c4b57=[],_0x5b2fb4=await(0x0,_0x4e283c[_0x42c10f(0x2a2)])((0x0,_0x4e283c[_0x42c10f(0xb0e)])(_0x9824f6[_0x42c10f(0x6e5)](),'clusters/'+this[_0x42c10f(0x206)]+'/nodes')),_0x5cb367=[];return _0x5b2fb4[_0x42c10f(0x7f9)](_0x11cda4=>{const _0x4364a5=_0x42c10f,_0x3eafae=_0x11cda4[_0x4364a5(0x470)]?.[_0x4364a5(0x9fb)](_0x4364a5(0x922)+this['vendorId']+_0x4364a5(0x922),'');_0x5cb367[_0x4364a5(0x9f9)]({'id':_0x3eafae,'joinedAt':_0x11cda4[_0x4364a5(0x83f)]()[_0x4364a5(0x274)],'priority':_0x11cda4[_0x4364a5(0x83f)]()['priority']});}),_0x5cb367['sort']((_0x3c416e,_0x585db1)=>_0x3c416e[_0x42c10f(0x274)]===_0x585db1[_0x42c10f(0x274)]?_0x3c416e[_0x42c10f(0x572)]-_0x585db1['priority']:_0x3c416e[_0x42c10f(0x274)]-_0x585db1['joinedAt'])[_0x42c10f(0x31b)](_0x5cb367[_0x42c10f(0x938)](_0x407797=>_0x407797['id']===this[_0x42c10f(0xa8a)][_0x42c10f(0x994)]())),_0x5cb367['sort']((_0x2fee5f,_0x910816)=>_0x910816[_0x42c10f(0x274)]===_0x2fee5f['joinedAt']?_0x910816[_0x42c10f(0x572)]-_0x2fee5f[_0x42c10f(0x572)]:_0x910816['joinedAt']-_0x2fee5f[_0x42c10f(0x274)])['forEach'](_0x3f4255=>{const _0x466053=_0x42c10f;_0x7c4b57['length']>=this[_0x466053(0x2e5)]||_0x7c4b57[_0x466053(0x9f9)](_0x3f4255['id']);}),_0xb63eee[_0x42c10f(0x684)](_0x42c10f(0x7b1),{'clusterId':this[_0x42c10f(0x93b)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x42c10f(0xa8a)][_0x42c10f(0xacf)],'data':{'ancestorIds':_0x7c4b57,'allNodes':_0x5cb367}}),_0x7c4b57;}async[_0x29fc43(0x8cf)](){const _0x1d9ac9=_0x29fc43;await(0x0,_0x4e283c[_0x1d9ac9(0x355)])((0x0,_0x4e283c[_0x1d9ac9(0xb0e)])(_0x9824f6[_0x1d9ac9(0x6e5)](),_0x1d9ac9(0x99d)+this['clusterKey']+'/nodes/'+this[_0x1d9ac9(0x2d3)]),{'joinedAt':(0x0,_0x4e283c['serverTimestamp'])(),'priority':Math['random']()});}[_0x29fc43(0x9b6)](){const _0x4e3c7f=_0x29fc43;this[_0x4e3c7f(0x7c2)]&&this[_0x4e3c7f(0x7c2)][_0x4e3c7f(0x9d5)](),this[_0x4e3c7f(0x7c2)]=(0x0,_0x4e283c['onDisconnect'])((0x0,_0x4e283c[_0x4e3c7f(0xb0e)])(_0x9824f6[_0x4e3c7f(0x6e5)](),_0x4e3c7f(0x99d)+this[_0x4e3c7f(0x206)]+'/nodes/'+this[_0x4e3c7f(0x2d3)])),this[_0x4e3c7f(0x7c2)]['remove']();}}class _0x48f266{[_0x29fc43(0x57f)];['graphService'];[_0x29fc43(0x848)];[_0x29fc43(0x23d)];[_0x29fc43(0x8dc)];[_0x29fc43(0xafe)]=[];['systemTopic'];[_0x29fc43(0x270)]=new Map();[_0x29fc43(0x571)];[_0x29fc43(0x958)];[_0x29fc43(0x90c)];[_0x29fc43(0x973)];[_0x29fc43(0xa36)];[_0x29fc43(0x329)];constructor(_0x57a3df,_0x545166){const _0x538df4=_0x29fc43;this[_0x538df4(0x57f)]=_0x57a3df,this[_0x538df4(0x248)]=_0x545166,this['_isReady']=new Promise((_0x44fbdb,_0x1ab923)=>{const _0x45ecc7=_0x538df4;this[_0x45ecc7(0x973)]=_0x44fbdb,this['rejectReady']=_0x1ab923;}),this['discoveryService']=new _0x2297d1(this[_0x538df4(0x57f)][_0x538df4(0x117)],this[_0x538df4(0x57f)]['clusterId'],this['configs'][_0x538df4(0xa8a)],this['graphService'][_0x538df4(0x6a6)]()),this[_0x538df4(0x8dc)]=this['discoveryService'][_0x538df4(0x94d)](this[_0x538df4(0x3ff)][_0x538df4(0x699)](this)),this[_0x538df4(0x57f)]['mediator']['registerSystemSource'](this['configs']['localNode']),this[_0x538df4(0x57f)]['mediator']['registerSystemSource'](this),this['remoteUnsubscriber']=_0x16c57a[_0x538df4(0x875)](()=>{const _0x41e428=_0x538df4,_0x1bedd0=Date['now']();this[_0x41e428(0x248)]['getRemoteNodes']()[_0x41e428(0x7f9)](_0x24d31f=>{const _0x26bd52=_0x41e428;_0x24d31f['getStatus']()===_0x4de10e['Offline']&&_0x24d31f[_0x26bd52(0x10f)]()<_0x1bedd0-0x493e0&&this['graphService'][_0x26bd52(0x6e6)](_0x24d31f['getId']());});},0xea60);}async[_0x29fc43(0x701)](){const _0x27f830=_0x29fc43;return this[_0x27f830(0x90c)];}async['isNodeReady'](_0x124eb2){return new Promise((_0x56ed3b,_0x5759ef)=>{const _0x3e407d=a0_0x424d;let _0x2eceac;const _0x163d0d=setTimeout(()=>{const _0x159827=a0_0x424d;_0x2eceac?.(),_0x5759ef(new Error(_0x159827(0x4f9)+_0x124eb2+_0x159827(0x82a)));},0x2710);if(this['graphService']['hasRemoteNode'](_0x124eb2))return clearTimeout(_0x163d0d),void _0x56ed3b(!0x0);_0x2eceac=this[_0x3e407d(0x248)][_0x3e407d(0x9e0)](()=>{const _0x5999db=_0x3e407d;this[_0x5999db(0x248)]['hasRemoteNode'](_0x124eb2)&&(clearTimeout(_0x163d0d),_0x56ed3b(!0x0),_0x2eceac?.());});});}[_0x29fc43(0x911)](_0x2eb1c4){const _0x437c88=_0x29fc43;this[_0x437c88(0x3aa)]=_0x2eb1c4;}[_0x29fc43(0x3c7)](){const _0x52b914=_0x29fc43;delete this[_0x52b914(0x3aa)];}['close'](){const _0x1b843d=_0x29fc43;this[_0x1b843d(0x571)]&&(clearTimeout(this[_0x1b843d(0x571)]),delete this['debounceProcessRank']),delete this[_0x1b843d(0x958)],this[_0x1b843d(0x57f)][_0x1b843d(0xa8a)][_0x1b843d(0xb1b)](),this[_0x1b843d(0x848)](),this[_0x1b843d(0x8dc)](),this[_0x1b843d(0x57f)][_0x1b843d(0x2f9)]['unregisterSystemSource'](this['configs'][_0x1b843d(0xa8a)]),this['configs']['mediator']['unregisterSystemSource'](this),this[_0x1b843d(0x23d)][_0x1b843d(0xb1b)]();}['getAncestorIds'](){const _0x2ea2b3=_0x29fc43;return this[_0x2ea2b3(0xafe)];}[_0x29fc43(0x1e9)](){const _0x189f49=_0x29fc43;return this['configs'][_0x189f49(0xa8a)][_0x189f49(0x994)]();}['getLocalNode'](){const _0x383ae6=_0x29fc43;return this[_0x383ae6(0x57f)][_0x383ae6(0xa8a)];}[_0x29fc43(0x301)](_0x276d18){const _0x3955ae=_0x29fc43,_0x112e10=Array[_0x3955ae(0x8f7)](this[_0x3955ae(0x248)][_0x3955ae(0x301)]()[_0x3955ae(0x347)]())[_0x3955ae(0x81c)](_0x379304=>_0x379304[_0x3955ae(0x1f1)]()===_0x4de10e[_0x3955ae(0x561)]);return _0x276d18?_0x112e10[_0x3955ae(0x81c)](_0x276d18):_0x112e10;}async[_0x29fc43(0x7b1)](){const _0x419793=_0x29fc43;return this[_0x419793(0xafe)]=await this['discoveryService'][_0x419793(0x98d)](),this[_0x419793(0xafe)][_0x419793(0x4c5)]<this[_0x419793(0x248)]['getMinConnections']()&&(this[_0x419793(0x57f)][_0x419793(0xa8a)][_0x419793(0x2ff)](this[_0x419793(0xafe)][_0x419793(0x4c5)]+0x1),this[_0x419793(0xa75)]()),this['ancestors'];}['getDistance'](_0x4a08e6,_0x5c4ad6){const _0x1ec202=_0x29fc43,_0x16455c=this[_0x1ec202(0x57f)][_0x1ec202(0xa8a)][_0x1ec202(0x6e3)](),_0x29a816=new Set(_0x16455c),_0x46f273=Array['from'](_0x16455c)[_0x1ec202(0x81c)](_0x8bb97c=>_0x8bb97c!==_0x4a08e6)[_0x1ec202(0x170)](_0x3fd7cf=>({'id':_0x3fd7cf,'distance':0x1}));for(;_0x46f273[_0x1ec202(0x4c5)]>0x0;){const _0x258885=_0x46f273[_0x1ec202(0x3e5)]();if(!_0x258885)continue;if(_0x258885['id']===_0x5c4ad6)return _0x258885[_0x1ec202(0x604)];const _0x1d6b94=this[_0x1ec202(0x248)][_0x1ec202(0x761)](_0x258885['id']);_0x1d6b94&&_0x1d6b94['getStatus']()!==_0x4de10e[_0x1ec202(0x68a)]&&_0x1d6b94[_0x1ec202(0x6e3)]()[_0x1ec202(0x7f9)](_0x584a83=>{const _0x13700e=_0x1ec202;_0x29a816[_0x13700e(0x716)](_0x584a83)||(_0x29a816[_0x13700e(0x5ec)](_0x584a83),_0x46f273[_0x13700e(0x9f9)]({'id':_0x584a83,'distance':_0x258885[_0x13700e(0x604)]+0x1}));});}return-0x1;}[_0x29fc43(0x127)](_0x27ff1b){const _0x7e897d=_0x29fc43;try{switch(_0x27ff1b[_0x7e897d(0x88a)]['type']){case _0x4ce2f2[_0x7e897d(0x505)]:case _0x4ce2f2[_0x7e897d(0x754)]:this[_0x7e897d(0x46b)](_0x27ff1b[_0x7e897d(0x88a)]),_0xb63eee[_0x7e897d(0x195)](_0x30994c['Node'],_0x7e897d(0xa85),'\x27'+this['configs'][_0x7e897d(0xa8a)][_0x7e897d(0x994)]()+',\x20'+_0x27ff1b[_0x7e897d(0xad5)]+'\x27',_0x27ff1b,_0x27ff1b['content']);break;case _0x4ce2f2[_0x7e897d(0x84e)]:this[_0x7e897d(0x8aa)](_0x27ff1b[_0x7e897d(0x88a)]['id']),_0xb63eee[_0x7e897d(0x195)](_0x30994c[_0x7e897d(0x746)],_0x7e897d(0x826),'\x27'+this[_0x7e897d(0x57f)]['localNode'][_0x7e897d(0x994)]()+',\x20'+_0x27ff1b['sourceId']+'\x27',_0x27ff1b,_0x27ff1b[_0x7e897d(0x88a)]);}}catch(_0x25ef09){if(_0x25ef09 instanceof _0xa97582)return void _0xb63eee[_0x7e897d(0x195)](_0x30994c[_0x7e897d(0x746)],_0x25ef09[_0x7e897d(0x356)]);throw _0x25ef09;}}[_0x29fc43(0x23c)](_0x30e61d){const _0x596e22=_0x29fc43;switch(_0x30e61d['content'][_0x596e22(0xacf)]){case _0x21f8c1[_0x596e22(0x867)]:this[_0x596e22(0x5f3)](_0x30e61d[_0x596e22(0xad5)]),_0xb63eee[_0x596e22(0x195)](_0x30994c[_0x596e22(0x746)],_0x596e22(0x15b),'\x27'+this[_0x596e22(0x57f)][_0x596e22(0xa8a)][_0x596e22(0x994)]()+',\x20'+_0x30e61d['sourceId']+'\x27',_0x30e61d,_0x30e61d[_0x596e22(0x88a)]);break;case _0x21f8c1['Disconnect']:this[_0x596e22(0xa7f)](_0x30e61d['sourceId']),_0xb63eee[_0x596e22(0x195)](_0x30994c['Node'],_0x596e22(0x954),this[_0x596e22(0x57f)][_0x596e22(0xa8a)][_0x596e22(0x994)](),_0x30e61d,_0x30e61d[_0x596e22(0x88a)]);}}[_0x29fc43(0x9c5)](_0x572aa9){const _0x460ecc=_0x29fc43;this[_0x460ecc(0x810)](_0x572aa9),this[_0x460ecc(0x2d6)](_0x572aa9);}[_0x29fc43(0x2d6)](_0x22dc10){const _0x38252c=_0x29fc43;this[_0x38252c(0x57f)][_0x38252c(0xa8a)][_0x38252c(0x148)](_0x22dc10['id']),this[_0x38252c(0x9f5)](_0x22dc10['id']),this[_0x38252c(0x6dd)](_0x22dc10);}[_0x29fc43(0x46b)](_0x2b4e8d){const _0x246241=_0x29fc43,{id:_0x33bc70,metaData:_0x5c2aa4,rank:_0x3a0ec1,remoteConnections:_0x3b6368,version:_0x14106b}=_0x2b4e8d,_0x399a8c=this[_0x246241(0x248)][_0x246241(0x761)](_0x33bc70);if(_0x399a8c){if(!(_0x14106b<=_0x399a8c[_0x246241(0x4d3)]())){if(_0x399a8c[_0x246241(0xa2e)](_0x3b6368),_0x399a8c[_0x246241(0xa3c)](_0x14106b),_0x399a8c[_0x246241(0xacf)]===_0x47b47a[_0x246241(0x394)][_0x246241(0x4af)]&&_0x5c2aa4[_0x246241(0xacf)]===_0x47b47a[_0x246241(0x394)]['User']&&(_0x399a8c[_0x246241(0x600)](_0x5c2aa4[_0x246241(0x43e)]),_0x399a8c['setEmail'](_0x5c2aa4['email'])),_0x3a0ec1&&_0x399a8c['setRank'](_0x3a0ec1),this[_0x246241(0x8cb)](_0x33bc70,_0x3a0ec1),_0x399a8c['getStatus']()===_0x4de10e[_0x246241(0x68a)])return _0x399a8c[_0x246241(0xa28)](_0x4de10e[_0x246241(0x561)]),this[_0x246241(0xa75)](),void this['notifyJoin'](_0x2b4e8d);this[_0x246241(0xa75)](),this[_0x246241(0x6f3)]({'id':_0x33bc70,'metaData':_0x5c2aa4,'remoteConnections':_0x3b6368,'version':_0x14106b});}}else this[_0x246241(0x9c5)](_0x2b4e8d);}['setLocalRank'](_0x59e2ba,_0x1475f2){const _0x31fce4=_0x29fc43;_0x1475f2&&this[_0x31fce4(0xafe)][_0x31fce4(0x3a7)](_0x59e2ba)&&this[_0x31fce4(0x57f)][_0x31fce4(0xa8a)]['setRank'](_0x1475f2+this[_0x31fce4(0xafe)][_0x31fce4(0x511)](_0x59e2ba)+0x1);}[_0x29fc43(0x5f3)](_0x5dce8b){const _0x5de1b4=_0x29fc43;this[_0x5de1b4(0x57f)]['localNode'][_0x5de1b4(0x622)](_0x5dce8b);}[_0x29fc43(0x810)]({id:_0x38b876,metaData:_0x344139,rank:_0x307108,remoteConnections:_0x506b95,version:_0x356845}){const _0x38fc30=_0x29fc43;if(this[_0x38fc30(0x248)]['hasRemoteNode'](_0x38b876))throw new _0xa97582(_0x38fc30(0x8e9)+_0x38b876);switch(_0x344139[_0x38fc30(0xacf)]){case _0x47b47a[_0x38fc30(0x394)][_0x38fc30(0x4af)]:const {displayName:_0x1b3f47,email:_0x3647a9}=_0x344139;this[_0x38fc30(0x248)]['setRemoteNode'](_0x38b876,new _0x2ac853(_0x38b876,_0x1b3f47,_0x3647a9,new Set(_0x506b95),_0x356845,_0x307108));break;case _0x47b47a['NodeType']['Agent']:this[_0x38fc30(0x248)][_0x38fc30(0x9fe)](_0x38b876,new _0x389efd(_0x38b876,new Set(_0x506b95),_0x356845,_0x307108));}const _0x1b7dfd=this['getRemoteNodes'](),_0x52b1c0=new Set(this[_0x38fc30(0xafe)]);_0x1b7dfd[_0x38fc30(0x7f9)](_0x4c6165=>{const _0x577f1b=_0x38fc30;_0x52b1c0[_0x577f1b(0x716)](_0x4c6165[_0x577f1b(0x994)]())&&_0x52b1c0[_0x577f1b(0x5ef)](_0x4c6165[_0x577f1b(0x994)]());}),0x0===_0x52b1c0[_0x38fc30(0xb18)]&&this[_0x38fc30(0x973)]&&(this[_0x38fc30(0x329)]&&clearTimeout(this[_0x38fc30(0x329)]),this['readyDebounce']=setTimeout(()=>{const _0x57b733=_0x38fc30;this['resolveReady']?.(!0x0),delete this['resolveReady'],delete this[_0x57b733(0xa36)];},0x7d0)),this[_0x38fc30(0x8cb)](_0x38b876,_0x307108),this['processRank']();}[_0x29fc43(0x9f5)](_0x541887){const _0x2e09ce=_0x29fc43;this[_0x2e09ce(0x3aa)][_0x2e09ce(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x2e09ce(0x746)],'content':{'type':_0x4ce2f2[_0x2e09ce(0x722)],'id':_0x541887}});}[_0x29fc43(0xa7f)](_0x2c63fc){const _0x17dd26=_0x29fc43;this[_0x17dd26(0x3aa)]?.[_0x17dd26(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7[_0x17dd26(0x746)],'content':{'type':_0x4ce2f2[_0x17dd26(0x84e)],'id':_0x2c63fc}});}[_0x29fc43(0x3ff)](_0x1b34b4){const _0x374814=_0x29fc43;if(_0x1b34b4===this[_0x374814(0x57f)][_0x374814(0xa8a)][_0x374814(0x994)]())return this[_0x374814(0x57f)][_0x374814(0x2f9)]['notifyCluster'](_0x374814(0xab2),{'id':_0x1b34b4}),this[_0x374814(0x57f)][_0x374814(0x2f9)]['close']({'force':!0x0},!0x0),this[_0x374814(0x57f)]['mediator'][_0x374814(0x98b)](),void this[_0x374814(0x57f)]['mediator'][_0x374814(0x918)]();this[_0x374814(0xa7f)](_0x1b34b4);}[_0x29fc43(0x8aa)](_0x7efb17){const _0x55c009=_0x29fc43;this[_0x55c009(0xafe)][_0x55c009(0x3a7)](_0x7efb17)?this['manageAncestor'](_0x7efb17):this[_0x55c009(0x57f)][_0x55c009(0xa8a)]['getRemoteConnections']()[_0x55c009(0x716)](_0x7efb17)&&this[_0x55c009(0x8b5)](_0x7efb17),this[_0x55c009(0x57f)][_0x55c009(0xa8a)][_0x55c009(0x229)](_0x7efb17);const _0xbb326b=Array[_0x55c009(0x8f7)](this[_0x55c009(0x270)]['entries']())[_0x55c009(0x5a5)](([,_0x271dfa])=>_0x271dfa==_0x271dfa);_0xbb326b&&this[_0x55c009(0x270)][_0x55c009(0x5ef)](_0xbb326b[0x0]);const _0x1eeeb0=this[_0x55c009(0x248)]['getRemoteNode'](_0x7efb17);if(!_0x1eeeb0)return;const _0x5abdc5=_0x1eeeb0['getRank'](),_0x3d0a5a=this[_0x55c009(0x57f)][_0x55c009(0xa8a)][_0x55c009(0x1b3)]();_0x3d0a5a&&_0x5abdc5&&_0x5abdc5<_0x3d0a5a&&this[_0x55c009(0x57f)]['localNode']['setRank'](_0x3d0a5a-0x1,!0x1),Array['from'](this[_0x55c009(0x248)][_0x55c009(0x301)]()[_0x55c009(0x347)]())[_0x55c009(0x7f9)](_0x38480b=>{const _0x22dee4=_0x55c009,_0x524387=_0x38480b[_0x22dee4(0x1b3)]();_0x524387&&_0x5abdc5&&_0x5abdc5<_0x524387&&_0x38480b[_0x22dee4(0x2ff)](_0x524387-0x1);}),_0x1eeeb0['setStatus'](_0x4de10e[_0x55c009(0x68a)]),this[_0x55c009(0x57f)]['mediator'][_0x55c009(0x551)](_0x1eeeb0['type']+_0x55c009(0x729),{'id':_0x7efb17});}[_0x29fc43(0x6dd)]({id:_0x144f13,metaData:_0xe132f,remoteConnections:_0x55a01d}){const _0xe09784=_0x29fc43;switch(_0xe132f['type']){case _0x47b47a['NodeType'][_0xe09784(0x4af)]:this[_0xe09784(0x57f)][_0xe09784(0x2f9)][_0xe09784(0x551)](_0xe09784(0x12c),{'id':_0x144f13,'metaData':_0xe132f,'remoteConnections':_0x55a01d});break;case _0x47b47a[_0xe09784(0x394)][_0xe09784(0x48a)]:this[_0xe09784(0x57f)][_0xe09784(0x2f9)][_0xe09784(0x551)]('agent-join',{'id':_0x144f13,'metaData':_0xe132f,'remoteConnections':_0x55a01d});}}[_0x29fc43(0x6f3)]({id:_0x4dab76,metaData:_0xe30c8a,remoteConnections:_0x4fc9ca}){const _0x8c735c=_0x29fc43;switch(_0xe30c8a[_0x8c735c(0xacf)]){case _0x47b47a[_0x8c735c(0x394)][_0x8c735c(0x4af)]:this[_0x8c735c(0x57f)]['mediator'][_0x8c735c(0x551)](_0x8c735c(0x1ad),{'id':_0x4dab76,'metaData':_0xe30c8a,'remoteConnections':_0x4fc9ca});break;case _0x47b47a[_0x8c735c(0x394)][_0x8c735c(0x48a)]:this[_0x8c735c(0x57f)][_0x8c735c(0x2f9)][_0x8c735c(0x551)](_0x8c735c(0x199),{'id':_0x4dab76,'metaData':_0xe30c8a,'remoteConnections':_0x4fc9ca});}}[_0x29fc43(0xa75)](){const _0x2d3770=_0x29fc43;if(this[_0x2d3770(0x958)]||(this[_0x2d3770(0x958)]=Date['now']()),this[_0x2d3770(0x571)]){if(Date[_0x2d3770(0x653)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x2d3770(0x571)]);}this[_0x2d3770(0x571)]=setTimeout(async()=>{const _0x21d6f4=_0x2d3770;delete this['lastProcessRank'],delete this[_0x21d6f4(0x571)];const _0xa62c64=this[_0x21d6f4(0x57f)][_0x21d6f4(0xa8a)][_0x21d6f4(0x1b3)]();if(!_0xa62c64)return;const _0x7bdfab=this[_0x21d6f4(0x248)]['getCurrentMaxLayer'](this[_0x21d6f4(0x248)][_0x21d6f4(0x301)]()['size']);if(this[_0x21d6f4(0x270)][_0x21d6f4(0xb18)]>=_0x7bdfab)return;let _0x58d7b8=0x1;for(;this[_0x21d6f4(0x57f)]['mediator'][_0x21d6f4(0x784)]()[_0x21d6f4(0x4c5)]<this[_0x21d6f4(0x248)][_0x21d6f4(0x2f0)]()&&_0x58d7b8<=_0x7bdfab;){if(this[_0x21d6f4(0x270)][_0x21d6f4(0x716)](_0x58d7b8)){_0x58d7b8+=0x1;continue;}const _0x350f0a=this[_0x21d6f4(0x248)][_0x21d6f4(0xad4)](_0xa62c64,_0x58d7b8),_0xd5f7f0=Array[_0x21d6f4(0x8f7)](this[_0x21d6f4(0x248)][_0x21d6f4(0x301)]()[_0x21d6f4(0x347)]())[_0x21d6f4(0x5a5)](_0x4efc02=>_0x4efc02['getRank']()===_0x350f0a&&_0x4efc02[_0x21d6f4(0x1f1)]()===_0x4de10e[_0x21d6f4(0x561)]);if(_0xd5f7f0){try{await this[_0x21d6f4(0x57f)]['mediator'][_0x21d6f4(0x27a)](_0xd5f7f0['getId'](),_0x5c07cb[_0x21d6f4(0x8f2)]),this['optimizationLayers'][_0x21d6f4(0x355)](_0x58d7b8,_0xd5f7f0[_0x21d6f4(0x994)]());}catch(_0x4d2a0e){if(!(_0x4d2a0e instanceof _0x3335bf&&_0x4d2a0e['code']===_0x3335bf[_0x21d6f4(0x4ee)][_0x21d6f4(0x54c)]))throw _0x4d2a0e;_0xb63eee[_0x21d6f4(0x195)](_0x30994c[_0x21d6f4(0x746)],this[_0x21d6f4(0x57f)][_0x21d6f4(0xa8a)][_0x21d6f4(0x994)](),_0xd5f7f0['getId'](),_0x4d2a0e['message']);}_0x58d7b8+=0x1;}else _0x58d7b8+=0x1;}},0x3e8);}async[_0x29fc43(0x9be)](_0x3248d8){const _0x8dafd8=_0x29fc43;this[_0x8dafd8(0xafe)][_0x8dafd8(0x31b)](this[_0x8dafd8(0xafe)]['indexOf'](_0x3248d8),0x1);const _0x319e37=await this['discoveryService'][_0x8dafd8(0x3f1)]();for(const _0x47aff1 of _0x319e37)if(!this[_0x8dafd8(0xafe)]['includes'](_0x47aff1)){const _0x53e54a=Array[_0x8dafd8(0x8f7)](this['optimizationLayers'][_0x8dafd8(0x32b)]())[_0x8dafd8(0x5a5)](([,_0x51bbcd])=>_0x51bbcd===_0x47aff1);_0x53e54a&&this[_0x8dafd8(0x270)][_0x8dafd8(0x5ef)](_0x53e54a[0x0]),this[_0x8dafd8(0x57f)][_0x8dafd8(0x2f9)][_0x8dafd8(0x27a)](_0x47aff1,_0x5c07cb[_0x8dafd8(0x592)]);}0x0===_0x319e37[_0x8dafd8(0x4c5)]&&this[_0x8dafd8(0x57f)][_0x8dafd8(0xa8a)][_0x8dafd8(0x2ff)](0x1),this['ancestors']=_0x319e37;}async[_0x29fc43(0x8b5)](_0x45cfec){const _0x29143f=_0x29fc43,_0x30822d=this[_0x29143f(0x57f)][_0x29143f(0xa8a)][_0x29143f(0x1b3)]();if(!_0x30822d)return;const _0x571956=this[_0x29143f(0x248)]['getRemoteNode'](_0x45cfec);if(!_0x571956||_0x571956[_0x29143f(0x1f1)]()===_0x4de10e['Offline'])return;const _0x24f5d5=_0x571956['getRank']();if(!_0x24f5d5||_0x24f5d5<_0x30822d)return;const _0x54ee=this[_0x29143f(0x42c)](this[_0x29143f(0x57f)]['localNode'][_0x29143f(0x6e3)](),_0x30822d),_0x15cc68=this[_0x29143f(0x42c)](_0x571956['getRemoteConnections'](),_0x24f5d5)[_0x54ee[_0x29143f(0x938)](([_0x2e18b4])=>_0x2e18b4===_0x45cfec)];if(!_0x15cc68||this[_0x29143f(0x57f)][_0x29143f(0xa8a)]['getRemoteConnections']()[_0x29143f(0x716)](_0x15cc68[0x0]))return;const _0x46555d=this['graphService'][_0x29143f(0x761)](_0x15cc68[0x0]);if(_0x46555d&&_0x46555d[_0x29143f(0x1f1)]()!==_0x4de10e[_0x29143f(0x68a)])try{await this[_0x29143f(0x57f)]['mediator']['createConnection'](_0x15cc68[0x0],_0x5c07cb['Optimization']);const _0x144386=Array['from'](this['optimizationLayers'][_0x29143f(0x32b)]())[_0x29143f(0x5a5)](([,_0x8a35d])=>_0x8a35d===_0x45cfec);_0x144386&&this['optimizationLayers']['set'](_0x144386[0x0],_0x15cc68[0x0]);}catch(_0x2ce1){if(!(_0x2ce1 instanceof _0x3335bf&&_0x2ce1['code']===_0x3335bf[_0x29143f(0x4ee)][_0x29143f(0x54c)]))throw _0x2ce1;_0xb63eee[_0x29143f(0x195)](_0x30994c[_0x29143f(0x746)],this['configs'][_0x29143f(0xa8a)][_0x29143f(0x994)](),_0x15cc68[0x0],_0x2ce1[_0x29143f(0x356)]);}}[_0x29fc43(0x42c)](_0x5d9acc,_0x10335b){const _0x3aeeb4=_0x29fc43;return Array[_0x3aeeb4(0x8f7)](_0x5d9acc)[_0x3aeeb4(0x8ca)]((_0x5e0bb1,_0x2fa794)=>{const _0x152315=_0x3aeeb4,_0x345b37=this[_0x152315(0x248)]['getRemoteNode'](_0x2fa794);if(!_0x345b37||_0x345b37['getStatus']()===_0x4de10e[_0x152315(0x68a)])return _0x5e0bb1;const _0xe9fcfa=_0x345b37[_0x152315(0x1b3)]();if(!_0xe9fcfa)return _0x5e0bb1;const _0x5a5f66=_0xe9fcfa-_0x10335b;return _0x5a5f66<=this['graphService']['getMinConnections']()||_0x5e0bb1[_0x152315(0x9f9)]([_0x2fa794,_0x5a5f66]),_0x5e0bb1;},[])[_0x3aeeb4(0xb06)](([,_0x5957db],[,_0x4e60b6])=>_0x5957db-_0x4e60b6);}}const _0x2591dc=[{'problemType':_0x42dc96[_0x29fc43(0x594)],'remediations':[{'type':_0x56cfa9[_0x29fc43(0xa8c)],'component':_0x1cd470[_0x29fc43(0x412)],'action':_0x9e7457[_0x29fc43(0x6ac)]},{'type':_0x56cfa9[_0x29fc43(0x897)],'component':_0x1cd470[_0x29fc43(0x412)],'action':_0x9e7457['Downgrade']}]},{'problemType':_0x42dc96['TimePerFrame'],'remediations':[{'type':_0x56cfa9[_0x29fc43(0xa8c)],'component':_0x1cd470[_0x29fc43(0x412)],'action':_0x9e7457[_0x29fc43(0x6ac)]}]},{'problemType':_0x42dc96[_0x29fc43(0x70f)],'remediations':[{'type':_0x56cfa9['Remediation'],'component':_0x1cd470[_0x29fc43(0x412)],'action':_0x9e7457[_0x29fc43(0x6ac)]}]},{'problemType':_0x42dc96[_0x29fc43(0x50d)],'remediations':[{'type':_0x56cfa9[_0x29fc43(0xa8c)],'component':_0x1cd470['Resolution'],'action':_0x9e7457[_0x29fc43(0x6ac)]}]},{'problemType':_0x42dc96[_0x29fc43(0x7d2)],'remediations':[{'type':_0x56cfa9[_0x29fc43(0xa8c)],'component':_0x1cd470[_0x29fc43(0x7d2)],'action':_0x9e7457[_0x29fc43(0x6ac)]}]},{'problemType':_0x42dc96['Jitter'],'remediations':[{'type':_0x56cfa9[_0x29fc43(0xa8c)],'component':_0x1cd470['Bitrate'],'action':_0x9e7457[_0x29fc43(0x6ac)]}]},{'problemType':_0x42dc96[_0x29fc43(0x306)],'remediations':[{'type':_0x56cfa9[_0x29fc43(0xa8c)],'component':_0x1cd470[_0x29fc43(0x7d2)],'action':_0x9e7457[_0x29fc43(0x6ac)]}]}];class _0x509388{[_0x29fc43(0x57f)];['systemTopic'];[_0x29fc43(0x9b2)]=new Map();constructor(_0x2f0b61){const _0x2810f2=_0x29fc43;this['configs']=_0x2f0b61,this[_0x2810f2(0x57f)]['mediator']['registerSystemSource'](this);}[_0x29fc43(0xb1b)](){const _0x563dc2=_0x29fc43;this[_0x563dc2(0x57f)][_0x563dc2(0x2f9)][_0x563dc2(0x1b1)](this);}[_0x29fc43(0x911)](_0x32d4e3){this['systemTopic']=_0x32d4e3;}[_0x29fc43(0x3c7)](){const _0x2a029a=_0x29fc43;delete this[_0x2a029a(0x3aa)];}[_0x29fc43(0xa95)](_0x4961e4){const _0x48d52c=_0x29fc43;_0x4961e4[_0x48d52c(0x88a)]['type']===_0x58fc74[_0x48d52c(0x9fa)]&&this[_0x48d52c(0x6d8)](_0x4961e4[_0x48d52c(0x88a)]['data']);}[_0x29fc43(0x2fd)](_0x239cc5){const _0xdf70e0=_0x29fc43;_0x239cc5[_0xdf70e0(0x88a)][_0xdf70e0(0xacf)]===_0x56cfa9[_0xdf70e0(0x897)]&&this[_0xdf70e0(0x142)](_0x239cc5[_0xdf70e0(0xad5)],{'type':_0x56cfa9[_0xdf70e0(0xa8c)],'component':_0x239cc5[_0xdf70e0(0x88a)][_0xdf70e0(0x7d7)][_0xdf70e0(0x95f)],'action':_0x239cc5['content']['data']['action']});}[_0x29fc43(0x6d8)](_0x208086){const _0x4860a3=_0x29fc43,_0x5460f0=_0x2591dc[_0x4860a3(0x5a5)](_0x46ec77=>_0x46ec77['problemType']===_0x208086['type']);_0x5460f0[_0x4860a3(0x90a)]?.[_0x4860a3(0x7f9)](_0x50128e=>{const _0x11e168=_0x4860a3;this[_0x11e168(0x142)](_0x208086[_0x11e168(0x45a)],{'type':_0x208086[_0x11e168(0x538)]===_0x337eb8['Sender']?_0x56cfa9[_0x11e168(0xa8c)]:_0x56cfa9[_0x11e168(0x897)],'component':_0x50128e[_0x11e168(0x95f)],'action':_0x50128e[_0x11e168(0x47e)]});});}[_0x29fc43(0x142)](_0x5e4120,_0x3bb11d){const _0x1c074f=_0x29fc43;if(_0x3bb11d[_0x1c074f(0xacf)]===_0x56cfa9['Remediation']){const _0x1c7662=Date[_0x1c074f(0x653)](),_0x1448b6=this[_0x1c074f(0x9b2)][_0x1c074f(0x2a2)](_0x5e4120);if(_0x1448b6&&_0x1c7662-_0x1448b6<0x1388)return;this['lastRemediations'][_0x1c074f(0x355)](_0x5e4120,_0x1c7662);}_0xb63eee['log'](_0x30994c['Remediation'],_0x1c074f(0x689),_0x3bb11d),_0xb63eee[_0x1c074f(0x684)](_0x1c074f(0x210),{'clusterId':this['configs'][_0x1c074f(0x93b)],'nodeId':this[_0x1c074f(0x57f)][_0x1c074f(0xa8a)][_0x1c074f(0x994)](),'nodeType':this[_0x1c074f(0x57f)][_0x1c074f(0xa8a)][_0x1c074f(0xacf)],'remoteId':_0x5e4120,'data':{'type':_0x3bb11d[_0x1c074f(0xacf)],'component':_0x3bb11d[_0x1c074f(0x95f)],'action':_0x3bb11d[_0x1c074f(0x47e)]}});let _0x529e51,_0x1beaa3=_0x491349;_0x3bb11d[_0x1c074f(0xacf)]===_0x56cfa9[_0x1c074f(0x897)]&&(_0x1beaa3=this[_0x1c074f(0x57f)][_0x1c074f(0xa8a)][_0x1c074f(0x994)](),_0x529e51=[_0x5e4120]),this[_0x1c074f(0x3aa)][_0x1c074f(0x289)]({'sourceId':_0x1beaa3,'destinationIds':_0x529e51,'messageType':_0x158cb7[_0x1c074f(0xa8c)],'content':{'type':_0x3bb11d[_0x1c074f(0xacf)],'targetId':_0x5e4120,'data':_0x3bb11d}});}}const _0x129b26=0x3e8,_0x35779b=0x7530,_0x59e591=_0x29fc43(0x605),_0x3f080d='remote-inbound-rtp',_0x1d01c0=_0x29fc43(0x573),_0x9a8aea=[_0x59e591,_0x3f080d],_0x320533=[_0x1d01c0];class _0x3fa06d{[_0x29fc43(0x48d)]=0x0;[_0x29fc43(0x4fa)]=0x0;['jitter']=0x0;['packetsLost']=0x0;['packets']=0x0;['currentTimestamp']=0x0;[_0x29fc43(0x8c1)]=0x0;[_0x29fc43(0x3d1)]=0x0;[_0x29fc43(0x40e)]=0x0;get['bitrate'](){const _0x8bf9a9=_0x29fc43;return this[_0x8bf9a9(0x72f)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x8bf9a9(0x653)]()-this[_0x8bf9a9(0x72f)]<_0x35779b?(this['currentBytes']-this[_0x8bf9a9(0x40e)])/(this[_0x8bf9a9(0x72f)]-this[_0x8bf9a9(0x8c1)])*0x8*0x3e8:0x0;}[_0x29fc43(0x365)](_0x289378){const _0x3bd22c=_0x29fc43;switch(_0x289378[_0x3bd22c(0xacf)]){case _0x1d01c0:this[_0x3bd22c(0xac9)](_0x289378);break;case _0x59e591:this['processOutboundReport'](_0x289378);break;case _0x3f080d:this[_0x3bd22c(0x4d9)](_0x289378);}}[_0x29fc43(0xaad)](){const _0x35e1f0=_0x29fc43;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x35e1f0(0x334)](),'roundTripTime':this['roundTripTime'],'jitter':this['jitter']};}[_0x29fc43(0xac9)](_0x290788){const _0x5fe323=_0x29fc43;this[_0x5fe323(0x9df)](_0x290788['bytesReceived']),this[_0x5fe323(0x16e)](_0x290788['timestamp']),this[_0x5fe323(0x1d3)]=_0x290788[_0x5fe323(0x69c)],this['packetsLost']=_0x290788[_0x5fe323(0x885)],void 0x0!==_0x290788[_0x5fe323(0x305)]?this[_0x5fe323(0x305)]=_0x290788[_0x5fe323(0x305)]:this[_0x5fe323(0x305)]=0x0,void 0x0!==_0x290788[_0x5fe323(0x4fa)]?this[_0x5fe323(0x4fa)]=_0x290788[_0x5fe323(0x4fa)]:this[_0x5fe323(0x4fa)]=0x0;}[_0x29fc43(0x535)](_0x18eb61){const _0x3521a6=_0x29fc43;this[_0x3521a6(0x9df)](_0x18eb61[_0x3521a6(0x656)]),this[_0x3521a6(0x16e)](_0x18eb61[_0x3521a6(0x50b)]),this[_0x3521a6(0x1d3)]=_0x18eb61['packetsSent'];}[_0x29fc43(0x4d9)](_0x2bae7a){const _0xafd720=_0x29fc43;this[_0xafd720(0x48d)]=0x3e8*_0x2bae7a[_0xafd720(0x48d)],void 0x0!==_0x2bae7a['jitter']?this[_0xafd720(0x305)]=_0x2bae7a[_0xafd720(0x305)]:this['jitter']=0x0;}[_0x29fc43(0x334)](){const _0x31fd15=_0x29fc43;return this[_0x31fd15(0x1d3)]>0x0?this[_0x31fd15(0x885)]/this[_0x31fd15(0x1d3)]:0x0;}['setTimestamp'](_0x5821c3){const _0xc906ba=_0x29fc43;_0x5821c3>this['currentTimestamp']&&(this[_0xc906ba(0x8c1)]=this['currentTimestamp'],this[_0xc906ba(0x72f)]=_0x5821c3);}[_0x29fc43(0x9df)](_0x37605a){const _0xbd6e3e=_0x29fc43;this[_0xbd6e3e(0x40e)]=this[_0xbd6e3e(0x3d1)],this[_0xbd6e3e(0x3d1)]=_0x37605a;}}class _0x379725 extends _0x3fa06d{}class _0x5d0e19 extends _0x3fa06d{[_0x29fc43(0x211)]=0x0;[_0x29fc43(0x3fa)]=0x0;[_0x29fc43(0x961)]=0x0;[_0x29fc43(0x837)]=0x0;[_0x29fc43(0x877)]=0x0;get[_0x29fc43(0x12b)](){const _0x3ee4eb=_0x29fc43;return this[_0x3ee4eb(0x72f)]>0x0&&this[_0x3ee4eb(0x8c1)]>0x0&&Date['now']()-this['currentTimestamp']<_0x35779b?(this[_0x3ee4eb(0x837)]-this['previousFrames'])/(this[_0x3ee4eb(0x72f)]-this[_0x3ee4eb(0x8c1)])*0x3e8:0x0;}get[_0x29fc43(0x512)](){const _0x4f1905=_0x29fc43;return this[_0x4f1905(0x211)]&&this['currentFrames']&&this[_0x4f1905(0x837)]>0x0?this[_0x4f1905(0x211)]/this['currentFrames']:0x0;}set[_0x29fc43(0x222)](_0x2a8e22){const _0x5bbe9e=_0x29fc43;this[_0x5bbe9e(0x877)]=this[_0x5bbe9e(0x837)],this['currentFrames']=_0x2a8e22;}['getReport'](){const _0x16e646=_0x29fc43;return{...super['getReport'](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x16e646(0x3fa)],'frameHeight':this['frameHeight']};}[_0x29fc43(0xac9)](_0x34ef96){const _0x5202bc=_0x29fc43;super[_0x5202bc(0xac9)](_0x34ef96),this[_0x5202bc(0x211)]=_0x34ef96[_0x5202bc(0xa7b)],this[_0x5202bc(0x222)]=_0x34ef96[_0x5202bc(0x3b3)],this[_0x5202bc(0x3fa)]=_0x34ef96[_0x5202bc(0x3fa)],this[_0x5202bc(0x961)]=_0x34ef96[_0x5202bc(0x961)];}[_0x29fc43(0x535)](_0x3f741a){const _0x5a5b88=_0x29fc43;super[_0x5a5b88(0x535)](_0x3f741a),this[_0x5a5b88(0x211)]=_0x3f741a['totalEncodeTime'],this[_0x5a5b88(0x222)]=_0x3f741a[_0x5a5b88(0x291)],this['frameWidth']=_0x3f741a['frameWidth'],this[_0x5a5b88(0x961)]=_0x3f741a[_0x5a5b88(0x961)];}}class _0x19885d{[_0x29fc43(0x3c3)]=new _0x379725();[_0x29fc43(0x41d)]=new _0x5d0e19();get['bitrate'](){const _0x44eedb=_0x29fc43;return this[_0x44eedb(0x3c3)][_0x44eedb(0x780)]+this[_0x44eedb(0x41d)][_0x44eedb(0x780)];}['processReports'](_0x17052a){const _0x4fcbda=_0x29fc43;return _0x17052a[_0x4fcbda(0x7f9)](_0xf46d40=>{const _0x5863c4=_0x4fcbda;switch(_0xf46d40[_0x5863c4(0x4c2)]){case _0x5863c4(0x3c3):this[_0x5863c4(0x3c3)]['processReport'](_0xf46d40);break;case'video':this[_0x5863c4(0x41d)][_0x5863c4(0x365)](_0xf46d40);}}),this[_0x4fcbda(0xaad)]();}[_0x29fc43(0xaad)](){const _0x51984e=_0x29fc43;return{'audio':this[_0x51984e(0x3c3)]['getReport'](),'video':this[_0x51984e(0x41d)][_0x51984e(0xaad)](),'roundTripTime':this[_0x51984e(0x266)](),'AudioVideoDelay':this[_0x51984e(0x374)](),'bitrate':this[_0x51984e(0x780)]};}[_0x29fc43(0x266)](){const _0x4ea7c6=_0x29fc43;return Math[_0x4ea7c6(0x74e)]((this['audio'][_0x4ea7c6(0x48d)]+this[_0x4ea7c6(0x41d)][_0x4ea7c6(0x48d)])/0x2);}[_0x29fc43(0x374)](){const _0x24a573=_0x29fc43;return this['audio'][_0x24a573(0x4fa)]-this[_0x24a573(0x41d)][_0x24a573(0x4fa)];}}class _0x203165{['senderCurrentTimestamp']=0x0;[_0x29fc43(0x7d3)]=0x0;[_0x29fc43(0x5ff)]=0x0;[_0x29fc43(0x9ae)]=0x0;[_0x29fc43(0x576)]=0x0;['senderPreviousBytes']=0x0;[_0x29fc43(0x38b)]=0x0;['receiverPreviousBytes']=0x0;[_0x29fc43(0x360)]=0x0;[_0x29fc43(0x558)]=0x0;[_0x29fc43(0x9ab)]=0x0;[_0x29fc43(0x8a8)]=0x0;[_0x29fc43(0x48d)]=0x0;get[_0x29fc43(0x780)](){const _0x55ccb9=_0x29fc43;return this[_0x55ccb9(0x30a)]+this[_0x55ccb9(0x1b7)];}get[_0x29fc43(0x30a)](){const _0x3ab42c=_0x29fc43;return this[_0x3ab42c(0x78c)]>0x0&&this[_0x3ab42c(0x7d3)]>0x0&&Date[_0x3ab42c(0x653)]()-this[_0x3ab42c(0x78c)]<_0x35779b?(this[_0x3ab42c(0x576)]-this[_0x3ab42c(0x78f)])/(this[_0x3ab42c(0x78c)]-this[_0x3ab42c(0x7d3)])*0x8*0x3e8:0x0;}get[_0x29fc43(0x1b7)](){const _0x126b12=_0x29fc43;return this[_0x126b12(0x5ff)]>0x0&&this[_0x126b12(0x9ae)]>0x0&&Date[_0x126b12(0x653)]()-this[_0x126b12(0x5ff)]<_0x35779b?(this[_0x126b12(0x38b)]-this['receiverPreviousBytes'])/(this[_0x126b12(0x5ff)]-this[_0x126b12(0x9ae)])*0x8*0x3e8:0x0;}[_0x29fc43(0x365)](_0x3284bc){const _0x5a35b6=_0x29fc43;switch(_0x3284bc[_0x5a35b6(0x538)]){case _0x337eb8[_0x5a35b6(0x7fc)]:this['processSenderReport'](_0x3284bc);break;case _0x337eb8['Receiver']:this[_0x5a35b6(0x243)](_0x3284bc);}}['getReport'](){const _0xca17cb=_0x29fc43;return{'bitrate':this[_0xca17cb(0x780)],'senderBitrate':this[_0xca17cb(0x30a)],'receiverBitrate':this[_0xca17cb(0x1b7)],'totalBytes':this[_0xca17cb(0x645)](),'senderTotalBytes':this[_0xca17cb(0x392)](),'receiverTotalBytes':this[_0xca17cb(0x655)](),'totalMessages':this['senderTotalMessages']+this[_0xca17cb(0x558)],'senderTotalMessages':this[_0xca17cb(0x360)],'receiverTotalMessages':this[_0xca17cb(0x558)],'timeProcessing':this[_0xca17cb(0x9ab)]+this[_0xca17cb(0x8a8)],'senderTimeProcessing':this[_0xca17cb(0x9ab)],'receiverTimeProcessing':this[_0xca17cb(0x8a8)],'roundTripTime':this['roundTripTime']};}[_0x29fc43(0x645)](){return this['senderCurrentBytes']+this['receiverCurrentBytes'];}[_0x29fc43(0x392)](){const _0x248383=_0x29fc43;return this[_0x248383(0x576)];}[_0x29fc43(0x655)](){return this['receiverCurrentBytes'];}[_0x29fc43(0x6e2)](_0x178cb9){const _0x24ec49=_0x29fc43;this['setSenderTimestamp'](_0x178cb9[_0x24ec49(0x50b)]),this[_0x24ec49(0x9df)](_0x178cb9[_0x24ec49(0x656)]),this[_0x24ec49(0x360)]=_0x178cb9[_0x24ec49(0x5e8)],this[_0x24ec49(0x9ab)]=_0x178cb9[_0x24ec49(0x58b)],this[_0x24ec49(0x48d)]=_0x178cb9[_0x24ec49(0x48d)];}[_0x29fc43(0x243)](_0xe9f70d){const _0x269093=_0x29fc43;this[_0x269093(0x51d)](_0xe9f70d[_0x269093(0x50b)]),this[_0x269093(0x30d)](_0xe9f70d[_0x269093(0x326)]),this[_0x269093(0x558)]=_0xe9f70d['messagesReceived'],this[_0x269093(0x8a8)]=_0xe9f70d[_0x269093(0x634)];}[_0x29fc43(0x69b)](_0x20a218){const _0x5319fb=_0x29fc43;_0x20a218>this[_0x5319fb(0x78c)]&&(this['senderPreviousTimestamp']=this[_0x5319fb(0x78c)],this['senderCurrentTimestamp']=_0x20a218);}[_0x29fc43(0x51d)](_0x5e916c){const _0x5a5f63=_0x29fc43;_0x5e916c>this[_0x5a5f63(0x5ff)]&&(this[_0x5a5f63(0x9ae)]=this['receiverCurrentTimestamp'],this[_0x5a5f63(0x5ff)]=_0x5e916c);}[_0x29fc43(0x9df)](_0xdd2754){const _0x2c6c7b=_0x29fc43;this[_0x2c6c7b(0x78f)]=this[_0x2c6c7b(0x576)],this[_0x2c6c7b(0x576)]=_0xdd2754;}[_0x29fc43(0x30d)](_0x306ce1){const _0x1e81c0=_0x29fc43;this[_0x1e81c0(0x467)]=this[_0x1e81c0(0x38b)],this[_0x1e81c0(0x38b)]=_0x306ce1;}}class _0xdd3dab{[_0x29fc43(0x200)]=new Map();[_0x29fc43(0x5fb)]=new Map();[_0x29fc43(0x6ed)]=new _0x203165();get[_0x29fc43(0x30a)](){const _0xefdbf5=_0x29fc43;let _0x255ea4=0x0;return this[_0xefdbf5(0x200)][_0xefdbf5(0x7f9)](_0x2dcfcb=>{const _0x55065f=_0xefdbf5;_0x255ea4+=_0x2dcfcb[_0x55065f(0x780)];}),_0x255ea4+=this[_0xefdbf5(0x6ed)][_0xefdbf5(0x30a)],_0x255ea4;}get[_0x29fc43(0x1b7)](){const _0x3bea00=_0x29fc43;let _0x47152f=0x0;return this['receiverStreams']['forEach'](_0x1ea52c=>{const _0x33029d=a0_0x424d;_0x47152f+=_0x1ea52c[_0x33029d(0x780)];}),_0x47152f+=this[_0x3bea00(0x6ed)][_0x3bea00(0x1b7)],_0x47152f;}get[_0x29fc43(0x780)](){const _0x398c94=_0x29fc43;return this[_0x398c94(0x30a)]+this[_0x398c94(0x1b7)];}[_0x29fc43(0x284)](_0x378f34,_0x23d6ea){const _0xe698f0=_0x29fc43,_0x15c33d=[],_0x3a297a=[];return _0x378f34 instanceof Array?_0x378f34[_0xe698f0(0x7f9)](_0x55a067=>{_0x55a067['forEach'](_0x3335d6=>{const _0x2af48d=a0_0x424d;_0x320533[_0x2af48d(0x3a7)](_0x3335d6[_0x2af48d(0xacf)])&&_0x15c33d['push'](_0x3335d6),_0x9a8aea[_0x2af48d(0x3a7)](_0x3335d6[_0x2af48d(0xacf)])&&_0x3a297a[_0x2af48d(0x9f9)](_0x3335d6);});}):this[_0xe698f0(0x6ed)]['processReport'](_0x378f34),_0x15c33d['length']>0x0&&_0x23d6ea?{...this[_0xe698f0(0x9ba)](_0x23d6ea,_0x15c33d),'origin':_0x337eb8[_0xe698f0(0x6cd)],'streamId':_0x23d6ea}:_0x3a297a['length']>0x0&&_0x23d6ea?{...this[_0xe698f0(0x1d5)](_0x23d6ea,_0x3a297a),'origin':_0x337eb8[_0xe698f0(0x7fc)],'streamId':_0x23d6ea}:void 0x0;}[_0x29fc43(0xaad)](){const _0x154e26=_0x29fc43,_0x292777={};this['senderStreams'][_0x154e26(0x7f9)]((_0x34a0d0,_0x1409b6)=>{_0x292777[_0x1409b6]=_0x34a0d0['getReport']();});const _0x4b7aff={};return this[_0x154e26(0x5fb)][_0x154e26(0x7f9)]((_0x3c4cac,_0x49c6b7)=>{_0x4b7aff[_0x49c6b7]=_0x3c4cac['getReport']();}),{'bitrate':this[_0x154e26(0x780)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x154e26(0x1b7)],'senderStreams':_0x292777,'receiverStreams':_0x4b7aff,'dataChannel':this['dataChannel'][_0x154e26(0xaad)]()};}['processInboundReports'](_0x2b63d1,_0x51cb4f){const _0x256aac=_0x29fc43;return this[_0x256aac(0x5fb)]['has'](_0x2b63d1)||this[_0x256aac(0x5fb)][_0x256aac(0x355)](_0x2b63d1,new _0x19885d()),this[_0x256aac(0x5fb)][_0x256aac(0x2a2)](_0x2b63d1)[_0x256aac(0x284)](_0x51cb4f);}[_0x29fc43(0x1d5)](_0x3ef8cc,_0x423db6){const _0x39aca9=_0x29fc43;return this[_0x39aca9(0x200)][_0x39aca9(0x716)](_0x3ef8cc)||this[_0x39aca9(0x200)][_0x39aca9(0x355)](_0x3ef8cc,new _0x19885d()),this[_0x39aca9(0x200)][_0x39aca9(0x2a2)](_0x3ef8cc)['processReports'](_0x423db6);}}class _0x4f354d{[_0x29fc43(0x58c)]=new Map();[_0x29fc43(0x69a)]=0x0;[_0x29fc43(0x372)]=0x0;['pubsubTopics']=new Map();[_0x29fc43(0x988)]=new Map();[_0x29fc43(0x12f)]=new Map();[_0x29fc43(0x3db)]=new Map();[_0x29fc43(0x852)]=new Map();[_0x29fc43(0x92a)]=new Map();[_0x29fc43(0xa0b)]=new Map();['externalStorages']=new Map();[_0x29fc43(0x360)]=new Map();[_0x29fc43(0x558)]=new Map();['senderTimeProcessing']=new Map();['receiverTimeProcessing']=new Map();[_0x29fc43(0x49d)]=new Map();[_0x29fc43(0x3aa)];['getReport'](){const _0x4bffc1=_0x29fc43,_0x1c5449={};this[_0x4bffc1(0x58c)][_0x4bffc1(0x7f9)]((_0x23fbf0,_0x2aee39)=>{const _0x484e60=_0x4bffc1;_0x1c5449[_0x2aee39]=_0x23fbf0[_0x484e60(0xaad)]();});let _0x5c06f0=0x0;this[_0x4bffc1(0x9ab)][_0x4bffc1(0x7f9)](_0x5d5516=>{_0x5c06f0+=_0x5d5516;});let _0x2c9e42=0x0;this[_0x4bffc1(0x8a8)][_0x4bffc1(0x7f9)](_0x57edab=>{_0x2c9e42+=_0x57edab;});const _0xcc7f06=_0x5c06f0+_0x2c9e42;let _0x20d609={'messages':{'total':0x0}};this[_0x4bffc1(0x49d)][_0x4bffc1(0x7f9)](_0x5a5027=>{const _0x69044d=_0x4bffc1;Object[_0x69044d(0x5da)](_0x5a5027)[_0x69044d(0x7f9)](_0x2ffc7a=>{const _0xda1dd=_0x69044d;_0x20d609[_0x2ffc7a]||(_0x20d609[_0x2ffc7a]={}),Object['keys'](_0x5a5027[_0x2ffc7a])[_0xda1dd(0x7f9)](_0x31da57=>{_0x20d609[_0x2ffc7a][_0x31da57]||(_0x20d609[_0x2ffc7a][_0x31da57]=0x0),_0x20d609[_0x2ffc7a][_0x31da57]+=_0x5a5027[_0x2ffc7a][_0x31da57];});});});let _0xd01d78=0x0,_0x22e277=0x0,_0x3022c1=0x0,_0x25b464=0x0,_0x188e50=0x0;return this[_0x4bffc1(0x458)][_0x4bffc1(0x7f9)](_0x357228=>{const _0x2b988e=_0x4bffc1;_0x22e277+=_0x357228['messagesSent'],_0x3022c1+=_0x357228[_0x2b988e(0x3fe)],_0x25b464+=_0x357228[_0x2b988e(0x656)],_0x188e50+=_0x357228[_0x2b988e(0x326)];}),this[_0x4bffc1(0x988)][_0x4bffc1(0x7f9)](_0x577a8b=>{const _0x1fb106=_0x4bffc1;_0xd01d78+=_0x577a8b[_0x1fb106(0x156)],_0x22e277+=_0x577a8b[_0x1fb106(0x5e8)],_0x3022c1+=_0x577a8b[_0x1fb106(0x3fe)],_0x25b464+=_0x577a8b[_0x1fb106(0x656)],_0x188e50+=_0x577a8b['bytesReceived'];}),this[_0x4bffc1(0x12f)][_0x4bffc1(0x7f9)](_0x2c83b5=>{const _0x3ff53d=_0x4bffc1;_0xd01d78+=_0x2c83b5['storage'],_0x22e277+=_0x2c83b5['messagesSent'],_0x3022c1+=_0x2c83b5[_0x3ff53d(0x3fe)],_0x25b464+=_0x2c83b5[_0x3ff53d(0x656)],_0x188e50+=_0x2c83b5[_0x3ff53d(0x326)];}),this['generativeAIContexts'][_0x4bffc1(0x7f9)](_0x5a2ef2=>{const _0x1f4ca4=_0x4bffc1;_0xd01d78+=_0x5a2ef2[_0x1f4ca4(0x156)],_0x22e277+=_0x5a2ef2[_0x1f4ca4(0x5e8)],_0x3022c1+=_0x5a2ef2[_0x1f4ca4(0x3fe)],_0x25b464+=_0x5a2ef2[_0x1f4ca4(0x656)],_0x188e50+=_0x5a2ef2['bytesReceived'];}),this[_0x4bffc1(0x852)]['forEach'](_0x5989c2=>{const _0x4f86cc=_0x4bffc1;_0xd01d78+=_0x5989c2[_0x4f86cc(0x156)],_0x22e277+=_0x5989c2[_0x4f86cc(0x5e8)],_0x3022c1+=_0x5989c2[_0x4f86cc(0x3fe)],_0x25b464+=_0x5989c2[_0x4f86cc(0x656)],_0x188e50+=_0x5989c2[_0x4f86cc(0x326)];}),this[_0x4bffc1(0x92a)]['forEach'](_0x402d25=>{const _0x139f01=_0x4bffc1;_0xd01d78+=_0x402d25['storage'],_0x22e277+=_0x402d25[_0x139f01(0x5e8)],_0x3022c1+=_0x402d25['messagesReceived'],_0x25b464+=_0x402d25[_0x139f01(0x656)],_0x188e50+=_0x402d25[_0x139f01(0x326)];}),this['graphDatabases'][_0x4bffc1(0x7f9)](_0x33c8e3=>{const _0x1d7859=_0x4bffc1;_0xd01d78+=_0x33c8e3[_0x1d7859(0x156)],_0x22e277+=_0x33c8e3[_0x1d7859(0x5e8)],_0x3022c1+=_0x33c8e3[_0x1d7859(0x3fe)],_0x25b464+=_0x33c8e3[_0x1d7859(0x656)],_0x188e50+=_0x33c8e3['bytesReceived'];}),{'STVolatility':this[_0x4bffc1(0x51c)](),'DTVolatility':this[_0x4bffc1(0x95b)](),'bitrate':this[_0x4bffc1(0x8df)](),'senderBitrate':this[_0x4bffc1(0xab4)](),'receiverBitrate':this[_0x4bffc1(0x775)](),'totalStorageSize':_0xd01d78,'totalMessages':_0x22e277+_0x3022c1,'totalMessagesSent':_0x22e277,'totalMessagesReceived':_0x3022c1,'totalBytes':_0x25b464+_0x188e50,'totalBytesSent':_0x25b464,'totalBytesReceived':_0x188e50,'systemMessages':_0x20d609,'timeProcessing':_0xcc7f06,'nodes':_0x1c5449,'pubsubTopics':Object[_0x4bffc1(0x3cd)](this[_0x4bffc1(0x458)]),'objectStores':Object[_0x4bffc1(0x3cd)](this[_0x4bffc1(0x988)]),'keyValueDatabases':Object[_0x4bffc1(0x3cd)](this[_0x4bffc1(0x12f)]),'generativeAIContexts':Object[_0x4bffc1(0x3cd)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x4bffc1(0x3cd)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x4bffc1(0x3cd)](this[_0x4bffc1(0x92a)]),'graphDatabases':Object['fromEntries'](this[_0x4bffc1(0xa0b)]),'externalStorages':Object['fromEntries'](this['externalStorages'])};}[_0x29fc43(0x932)](_0x51f41){const _0x1200cf=_0x29fc43;this[_0x1200cf(0x58c)]['set'](_0x51f41,new _0xdd3dab());}[_0x29fc43(0x6fc)](_0x261aea){const _0x235c0a=_0x29fc43;this['nodes'][_0x235c0a(0x5ef)](_0x261aea);}[_0x29fc43(0x284)](_0x37dd24,_0x1f778f,_0xb98023){const _0x520c09=_0x29fc43;_0x1f778f instanceof Array||this[_0x520c09(0x9ee)](_0x37dd24,_0x1f778f);const _0x4a2d17=this[_0x520c09(0x58c)][_0x520c09(0x2a2)](_0x37dd24)?.['processReports'](_0x1f778f,_0xb98023);_0x4a2d17&&this['systemTopic']['publish']({'sourceId':_0x491349,'messageType':_0x158cb7[_0x520c09(0x269)],'content':{'type':_0x11dd65[_0x520c09(0x862)],'data':{..._0x4a2d17,'nodeId':_0x37dd24}}});}['processLocalReport'](_0x5daa1a){const _0x33f59b=_0x29fc43;this[_0x33f59b(0x1a9)](_0x5daa1a[_0x33f59b(0x4f1)]),this['setDurationTime'](_0x5daa1a[_0x33f59b(0x372)]),this[_0x33f59b(0x3aa)][_0x33f59b(0x289)]({'sourceId':_0x491349,'messageType':_0x158cb7['Stats'],'content':{'type':_0x11dd65[_0x33f59b(0x34d)],'data':{'STVolatility':this[_0x33f59b(0x51c)](),'DTVolatility':this['getDTVolatility']()}}});}['processServiceReport'](_0x1b7435,_0x3ff476,_0x4043b5){const _0x5ef13a=_0x29fc43;switch(_0x3ff476){case _0x49b388[_0x5ef13a(0x300)]:this[_0x5ef13a(0x458)][_0x5ef13a(0x355)](_0x1b7435,_0x4043b5);break;case _0x49b388['ObjectStoreStats']:this['objectStores'][_0x5ef13a(0x355)](_0x1b7435,_0x4043b5);break;case _0x49b388['KeyValueDatabaseStats']:this['keyValueDatabases'][_0x5ef13a(0x355)](_0x1b7435,_0x4043b5);break;case _0x49b388[_0x5ef13a(0x1a2)]:this[_0x5ef13a(0x3db)]['set'](_0x1b7435,_0x4043b5);break;case _0x49b388[_0x5ef13a(0x811)]:this['generativeAIWorkers'][_0x5ef13a(0x355)](_0x1b7435,_0x4043b5);break;case _0x49b388[_0x5ef13a(0xa83)]:this['vectorDatabases'][_0x5ef13a(0x355)](_0x1b7435,_0x4043b5);break;case _0x49b388[_0x5ef13a(0x9d8)]:this['graphDatabases'][_0x5ef13a(0x355)](_0x1b7435,_0x4043b5);break;case _0x49b388['ExternalStorageStats']:this['externalStorages'][_0x5ef13a(0x355)](_0x1b7435,_0x4043b5);}}['registerSystemPublisher'](_0x2f42fb){const _0x26bfeb=_0x29fc43;this[_0x26bfeb(0x3aa)]=_0x2f42fb;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x29fc43(0x51c)](){const _0x95ee5=_0x29fc43;return this[_0x95ee5(0x69a)]>0x0&&this[_0x95ee5(0x69a)]-_0x129b26>0x0?(this[_0x95ee5(0x69a)]-_0x129b26)/_0x129b26:0x0;}[_0x29fc43(0x95b)](){const _0x453695=_0x29fc43;return this[_0x453695(0x372)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x453695(0x372)]-0x64)/0x64:0x0;}[_0x29fc43(0xab4)](){const _0x499e7d=_0x29fc43;let _0x1355f1=0x0;return this['nodes'][_0x499e7d(0x7f9)](_0x726fd1=>{const _0x3f8abc=_0x499e7d;_0x1355f1+=_0x726fd1[_0x3f8abc(0x30a)];}),_0x1355f1;}[_0x29fc43(0x775)](){const _0x5f26ab=_0x29fc43;let _0x464f20=0x0;return this[_0x5f26ab(0x58c)][_0x5f26ab(0x7f9)](_0x3e9c8e=>{_0x464f20+=_0x3e9c8e['receiverBitrate'];}),_0x464f20;}['getBitrate'](){const _0x50066c=_0x29fc43;let _0x297aae=0x0;return this[_0x50066c(0x58c)][_0x50066c(0x7f9)](_0xb43386=>{const _0x4547d9=_0x50066c;_0x297aae+=_0xb43386[_0x4547d9(0x780)];}),_0x297aae;}['setScheduleTime'](_0x52ee5f){const _0x20a2f1=_0x29fc43;this[_0x20a2f1(0x69a)]=_0x52ee5f;}[_0x29fc43(0x23a)](_0x4a14b0){this['durationTime']=_0x4a14b0;}[_0x29fc43(0x9ee)](_0xe2575b,_0x1ce593){const _0x23a3ab=_0x29fc43;switch(_0x1ce593[_0x23a3ab(0x538)]){case _0x337eb8['Sender']:this['processSenderReport'](_0xe2575b,_0x1ce593);break;case _0x337eb8['Receiver']:this[_0x23a3ab(0x243)](_0xe2575b,_0x1ce593);}}[_0x29fc43(0x6e2)](_0x305e5f,_0x5691cc){const _0x4ec820=_0x29fc43;this[_0x4ec820(0x360)][_0x4ec820(0x355)](_0x305e5f,_0x5691cc['messagesSent']),this[_0x4ec820(0x9ab)][_0x4ec820(0x355)](_0x305e5f,_0x5691cc[_0x4ec820(0x58b)]);}[_0x29fc43(0x243)](_0x47567f,_0x5e10e5){const _0x3b2820=_0x29fc43;this[_0x3b2820(0x558)][_0x3b2820(0x355)](_0x47567f,_0x5e10e5[_0x3b2820(0x3fe)]),this[_0x3b2820(0x8a8)][_0x3b2820(0x355)](_0x47567f,_0x5e10e5[_0x3b2820(0x634)]),this['systemMessages'][_0x3b2820(0x355)](_0x47567f,_0x5e10e5[_0x3b2820(0x49d)]);}}class _0x3115d9{[_0x29fc43(0x57f)];[_0x29fc43(0x247)]=new Set();[_0x29fc43(0x70a)];[_0x29fc43(0x7be)];['statsReporting'];[_0x29fc43(0x86e)]=new _0x4f354d();constructor(_0x237d68){const _0x439a07=_0x29fc43;this[_0x439a07(0x57f)]=_0x237d68,this[_0x439a07(0x57f)][_0x439a07(0x2f9)][_0x439a07(0x900)](this[_0x439a07(0x86e)]),this[_0x439a07(0x7be)]=this[_0x439a07(0xa91)](),this[_0x439a07(0x320)]=this[_0x439a07(0x449)]();}[_0x29fc43(0xb1b)](){const _0x247378=_0x29fc43;this[_0x247378(0x57f)]['mediator'][_0x247378(0x1b1)](this[_0x247378(0x86e)]),this[_0x247378(0x320)](),this[_0x247378(0x7be)]();}[_0x29fc43(0x932)](_0x42eff3){const _0x1298cd=_0x29fc43;this[_0x1298cd(0x247)]['add'](_0x42eff3),this[_0x1298cd(0x86e)]['addRemoteNode'](_0x42eff3);}[_0x29fc43(0x6fc)](_0x448b18){const _0x544d27=_0x29fc43;this[_0x544d27(0x247)][_0x544d27(0x5ef)](_0x448b18),this['statsReport'][_0x544d27(0x6fc)](_0x448b18);}[_0x29fc43(0x23c)](_0x2bd5bf){const _0x2aadca=_0x29fc43;if(_0x2bd5bf['content']['type']===_0x21f8c1[_0x2aadca(0x269)]){const {nodeId:_0x261bd5,streamId:_0x3e6b53,stats:_0x546452}=_0x2bd5bf['content'];this[_0x2aadca(0x86e)][_0x2aadca(0x284)](_0x261bd5,_0x546452,_0x3e6b53);}}[_0x29fc43(0x9f2)](_0x359bff){const _0x256d83=_0x29fc43;switch(_0x359bff[_0x256d83(0x88a)][_0x256d83(0xacf)]){case _0x49b388['ObjectStoreStats']:case _0x49b388[_0x256d83(0x712)]:case _0x49b388['PubSubTopicStats']:case _0x49b388[_0x256d83(0x1a2)]:case _0x49b388['GenerativeAIWorkerStats']:case _0x49b388[_0x256d83(0xa83)]:case _0x49b388[_0x256d83(0x9d8)]:case _0x49b388[_0x256d83(0x34e)]:this[_0x256d83(0x86e)]['processServiceReport'](_0x359bff[_0x256d83(0x88a)][_0x256d83(0x12a)],_0x359bff['content'][_0x256d83(0xacf)],_0x359bff[_0x256d83(0x88a)][_0x256d83(0x344)]);}}['setupStatsReporting'](){const _0x5d2eae=_0x29fc43;return _0x16c57a[_0x5d2eae(0x875)](()=>{const _0x306094=_0x5d2eae,_0x5b4d93=this['statsReport'][_0x306094(0xaad)]();_0xb63eee[_0x306094(0x195)](_0x30994c[_0x306094(0x269)],_0x306094(0x5d8),_0x5b4d93),(0x0,_0x4a79c7[_0x306094(0x7d1)])((0x0,_0x4a79c7[_0x306094(0x562)])(_0x9824f6['getFirestore'](),'developers/'+this[_0x306094(0x57f)]['vendorId']+_0x306094(0x5ab)),{'clusterId':this[_0x306094(0x57f)][_0x306094(0x93b)],'nodeId':this[_0x306094(0x57f)][_0x306094(0xa8a)][_0x306094(0x994)](),'nodeType':this[_0x306094(0x57f)][_0x306094(0xa8a)][_0x306094(0xacf)],'timestamp':(0x0,_0x4a79c7[_0x306094(0x51a)])(),'report':_0x5b4d93}),_0xb63eee[_0x306094(0x684)](_0x306094(0x344),{'clusterId':this[_0x306094(0x57f)][_0x306094(0x93b)],'nodeId':this[_0x306094(0x57f)][_0x306094(0xa8a)][_0x306094(0x994)](),'nodeType':this[_0x306094(0x57f)][_0x306094(0xa8a)][_0x306094(0xacf)],'data':{'report':_0x5b4d93}});},_0x35779b);}[_0x29fc43(0xa91)](){const _0x303fe2=_0x29fc43;let _0x44e402=!0x1,_0x5072a7=Date['now']();return _0x16c57a[_0x303fe2(0x875)](async()=>{const _0x4717ca=_0x303fe2;if(_0x44e402)return;if(_0x44e402=!0x0,0x0===this[_0x4717ca(0x247)][_0x4717ca(0xb18)])return delete this[_0x4717ca(0x70a)],void(_0x44e402=!0x1);const _0x482788=Date[_0x4717ca(0x653)]();this[_0x4717ca(0x461)]();try{await this[_0x4717ca(0x57f)][_0x4717ca(0x2f9)][_0x4717ca(0x870)](this[_0x4717ca(0x70a)]);}catch(_0x1ec227){}this[_0x4717ca(0x86e)][_0x4717ca(0xa47)]({'secheduleTime':_0x482788-_0x5072a7,'durationTime':Date['now']()-_0x482788}),_0x5072a7=_0x482788,_0x44e402=!0x1;},_0x129b26);}[_0x29fc43(0x461)](){const _0x5c604c=_0x29fc43;let _0x5eda93,_0x2f4713=!0x1;this['nextNodeId']&&(this[_0x5c604c(0x247)][_0x5c604c(0x716)](this[_0x5c604c(0x70a)])||delete this[_0x5c604c(0x70a)]);for(const _0x4b06f8 of this[_0x5c604c(0x247)])if(_0x5eda93||(_0x5eda93=_0x4b06f8),this[_0x5c604c(0x70a)]!==_0x4b06f8){if(_0x2f4713)return void(this['nextNodeId']=_0x4b06f8);}else _0x2f4713=!0x0,delete this[_0x5c604c(0x70a)];this[_0x5c604c(0x70a)]||(this['nextNodeId']=_0x5eda93);}}class _0x5725e5{['source'];['destination'];[_0x29fc43(0x3aa)];constructor(_0x4c8ac2,_0x4a2866){const _0x508d4e=_0x29fc43;this[_0x508d4e(0xacd)]=_0x4c8ac2,this['destination']=_0x4a2866;}[_0x29fc43(0x911)](_0x33b935){const _0x50d53b=_0x29fc43;this[_0x50d53b(0x3aa)]=_0x33b935;}['unregisterSystemPublisher'](){const _0x489d64=_0x29fc43;delete this[_0x489d64(0x3aa)];}}class _0x2ea4e7 extends _0x5725e5{['source'];[_0x29fc43(0x9d6)];[_0x29fc43(0x7b6)];constructor(_0x119960,_0x181dff,_0x567184){const _0x5b121d=_0x29fc43;super(_0x119960,_0x181dff),this[_0x5b121d(0xacd)]=_0x119960,this[_0x5b121d(0x9d6)]=_0x181dff,this[_0x5b121d(0x7b6)]=_0x567184;}['subscribe'](_0x33121f,_0x3e8e5e,_0x50e455){const _0x418b50=_0x29fc43;if(this[_0x418b50(0x9d6)][_0x418b50(0x5f5)]()===_0x47b47a[_0x418b50(0x43d)][_0x418b50(0x6d2)]){const _0x6e6c24={'type':_0x4d7c63[_0x418b50(0x49e)],'label':this['destination'][_0x418b50(0x858)](),'ownerId':_0x33121f,'trackKinds':_0x3e8e5e??this[_0x418b50(0x9d6)][_0x418b50(0x956)](),'params':_0x50e455};this['systemTopic'][_0x418b50(0x289)]({'sourceId':this[_0x418b50(0xacd)][_0x418b50(0x1e9)](),'destinationIds':[this[_0x418b50(0xacd)]['getRemoteId']()],'messageType':_0x158cb7[_0x418b50(0x4a6)],'content':_0x6e6c24}),this[_0x418b50(0x7b6)]=_0x50e455;}}[_0x29fc43(0x340)](_0x3149ed,_0x37afbc){const _0x3fff62=_0x29fc43;if(this[_0x3fff62(0x9d6)]['getContentType']()===_0x47b47a[_0x3fff62(0x43d)][_0x3fff62(0x6d2)]){const _0x5df9c0={'type':_0x4d7c63[_0x3fff62(0x233)],'label':this['destination'][_0x3fff62(0x858)](),'ownerId':_0x3149ed,'params':_0x37afbc};this['systemTopic']['publish']({'sourceId':this[_0x3fff62(0xacd)][_0x3fff62(0x1e9)](),'destinationIds':[this[_0x3fff62(0xacd)][_0x3fff62(0x1d6)]()],'messageType':_0x158cb7[_0x3fff62(0x4a6)],'content':_0x5df9c0}),this[_0x3fff62(0x7b6)]=_0x37afbc;}}[_0x29fc43(0x515)](_0x28447a,_0x45245d,_0x4c0ee7){const _0x2eb434=_0x29fc43;if(this[_0x2eb434(0x9d6)][_0x2eb434(0x5f5)]()===_0x47b47a[_0x2eb434(0x43d)][_0x2eb434(0x6d2)]){const _0x1718f8={'type':_0x4d7c63[_0x2eb434(0x638)],'label':this['destination']['getLabel'](),'ownerId':_0x28447a,'trackKinds':_0x4c0ee7??this['destination'][_0x2eb434(0x956)](),'remainingTracks':_0x45245d};this[_0x2eb434(0x3aa)][_0x2eb434(0x289)]({'sourceId':this[_0x2eb434(0xacd)][_0x2eb434(0x1e9)](),'destinationIds':[this[_0x2eb434(0xacd)][_0x2eb434(0x1d6)]()],'messageType':_0x158cb7[_0x2eb434(0x4a6)],'content':_0x1718f8});}}}class _0xa4bcba{['currentDistance'];['maxDistance'];[_0x29fc43(0x3b0)];[_0x29fc43(0x3aa)];[_0x29fc43(0x39c)]=new Set();['startTime']=Date['now']();[_0x29fc43(0x7b6)];[_0x29fc43(0x7fb)]=0x0;constructor(_0x22a645,_0x3f5dc3,_0x3d2f15,_0x165194){const _0x5e61db=_0x29fc43;this['currentDistance']=_0x3f5dc3,this[_0x5e61db(0x510)]=_0x3d2f15,this[_0x5e61db(0x3b0)]=_0x165194,_0x22a645[_0x5e61db(0x7f9)](_0x1b57f6=>{const _0x2d5be1=_0x5e61db;this[_0x2d5be1(0x39c)][_0x2d5be1(0x5ec)]({'nodeId':_0x1b57f6,'type':_0xa1e857[_0x2d5be1(0x14f)]});});}['getTracks'](){return this['tracks'];}['registerSystemPublisher'](_0x430d62){const _0x18e624=_0x29fc43;this[_0x18e624(0x3aa)]=_0x430d62;}['unregisterSystemPublisher'](){const _0x177641=_0x29fc43;delete this[_0x177641(0x3aa)];}['reset'](_0x150d64,_0x577788){const _0x245d0f=_0x29fc43;this['startTime']=Date[_0x245d0f(0x653)](),this[_0x245d0f(0x39c)][_0x245d0f(0x985)](),_0x150d64['forEach'](_0x21d8f3=>{const _0x49bce3=_0x245d0f;this[_0x49bce3(0x39c)][_0x49bce3(0x5ec)]({'nodeId':_0x21d8f3,'type':_0xa1e857[_0x49bce3(0x14f)]});}),this[_0x245d0f(0x7fb)]+=0x1,this[_0x245d0f(0x219)]=_0x577788;}[_0x29fc43(0x17c)](_0x19e13c,_0x5344c1,_0x129999,_0x99e130,_0x5001ac){const _0x407c3b=_0x29fc43;if(this[_0x407c3b(0x7fb)]>0xa)throw new _0x3335bf(_0x3335bf[_0x407c3b(0x4ee)][_0x407c3b(0x6f4)],{'answers':Array['from'](this[_0x407c3b(0x39c)])[_0x407c3b(0x170)](_0x464cd6=>({'nodeId':_0x464cd6[_0x407c3b(0x45a)],'type':_0x464cd6[_0x407c3b(0xacf)]}))});const _0x43f87a=Array['from'](this[_0x407c3b(0x39c)])[_0x407c3b(0x170)](_0x15cb64=>_0x15cb64[_0x407c3b(0x45a)]);this[_0x407c3b(0x7b6)]=_0x5001ac,this[_0x407c3b(0x3aa)][_0x407c3b(0x289)]({'sourceId':_0x19e13c,'destinationIds':_0x43f87a,'messageType':_0x158cb7[_0x407c3b(0x4a6)],'content':{'type':_0x4d7c63[_0x407c3b(0x4fe)],'label':_0x129999,'ownerId':_0x5344c1,'trackKinds':_0x99e130,'params':_0x5001ac}}),_0xb63eee['log'](_0x30994c['Subscription'],_0x407c3b(0x6bc),_0x19e13c,_0x43f87a);}[_0x29fc43(0x9c9)](_0x5865b0,_0x2b4e63){const _0xeafd9d=_0x29fc43;switch(_0x2b4e63[_0xeafd9d(0xacf)]){case _0x4d7c63[_0xeafd9d(0x440)]:{const _0x382400=this[_0xeafd9d(0x219)]>=_0x2b4e63['distance']&&_0x2b4e63['distance']<=this[_0xeafd9d(0x510)],_0x549b57=Array['from'](this[_0xeafd9d(0x39c)])[_0xeafd9d(0x5a5)](_0x17b2a5=>_0x17b2a5['nodeId']===_0x5865b0);_0x549b57['type']=_0x382400?_0xa1e857[_0xeafd9d(0x836)]:_0xa1e857[_0xeafd9d(0x8b9)],_0x549b57[_0xeafd9d(0x49f)]=_0x2b4e63['cost'],_0x549b57[_0xeafd9d(0x604)]=_0x2b4e63['distance'],_0x549b57['streamId']=_0x2b4e63['streamId'],_0x549b57[_0xeafd9d(0x48d)]=Date[_0xeafd9d(0x653)]()-this['startTime'],_0x549b57[_0xeafd9d(0x7b6)]=this['params'],_0x549b57['ownerId']=_0x2b4e63[_0xeafd9d(0x8b3)],_0x549b57[_0xeafd9d(0x3bd)]=_0x2b4e63[_0xeafd9d(0x3bd)],_0x549b57[_0xeafd9d(0x1bf)]=_0x2b4e63[_0xeafd9d(0x12a)],_0xb63eee[_0xeafd9d(0x195)](_0x30994c[_0xeafd9d(0x4a6)],(_0x382400?_0xeafd9d(0x836):'Rejected')+_0xeafd9d(0xade),_0x549b57);break;}case _0x4d7c63['CannotProvideMediaStream']:{const _0x25ce4c=Array[_0xeafd9d(0x8f7)](this[_0xeafd9d(0x39c)])['find'](_0x560872=>_0x560872['nodeId']===_0x5865b0);_0x25ce4c[_0xeafd9d(0xacf)]=_0xa1e857[_0xeafd9d(0x8b9)],_0xb63eee[_0xeafd9d(0x195)](_0x30994c[_0xeafd9d(0x4a6)],_0xeafd9d(0x654),_0x25ce4c);break;}}if(this['canChooseAnswer']())return this['chooseAnswer']();}[_0x29fc43(0x235)](){const _0x3dab9d=_0x29fc43,_0x592e26=Array[_0x3dab9d(0x8f7)](this[_0x3dab9d(0x39c)])['filter'](_0x314be6=>_0x314be6[_0x3dab9d(0xacf)]===_0xa1e857[_0x3dab9d(0x836)])['sort']((_0x241567,_0x5428ba)=>_0x241567[_0x3dab9d(0x49f)]===_0x5428ba[_0x3dab9d(0x49f)]?_0x241567['roundTripTime']-_0x5428ba[_0x3dab9d(0x48d)]:_0x241567[_0x3dab9d(0x49f)]-_0x5428ba['cost']);if(0x0===_0x592e26[_0x3dab9d(0x4c5)])throw new _0x3335bf(_0x3335bf[_0x3dab9d(0x4ee)][_0x3dab9d(0x6f4)],{'answers':Array[_0x3dab9d(0x8f7)](this['answers'])[_0x3dab9d(0x170)](_0x376c36=>({'nodeId':_0x376c36[_0x3dab9d(0x45a)],'type':_0x376c36[_0x3dab9d(0xacf)]}))});return _0xb63eee[_0x3dab9d(0x195)](_0x30994c[_0x3dab9d(0x4a6)],_0x3dab9d(0x5b8),_0x592e26[0x0],this[_0x3dab9d(0x39c)]),_0x592e26[0x0];}[_0x29fc43(0x617)](){const _0x56c356=_0x29fc43;for(const _0x555f9d of this[_0x56c356(0x39c)])if(_0x555f9d[_0x56c356(0xacf)]===_0xa1e857['Waiting'])return!0x1;return!0x0;}}class _0x30c245{[_0x29fc43(0x12a)];[_0x29fc43(0x25a)];[_0x29fc43(0x8d2)]=_0x2d590d();constructor(_0x5c1c06,_0x33626f){const _0x428d55=_0x29fc43;this[_0x428d55(0x12a)]=_0x5c1c06,this[_0x428d55(0x25a)]=_0x33626f;}['getLabel'](){const _0x3c7a1e=_0x29fc43;return this[_0x3c7a1e(0x12a)];}['getContentType'](){return this['contentType'];}[_0x29fc43(0x443)](_0x21bb51){const _0x8a7112=_0x29fc43;_0x21bb51[_0x8a7112(0x85d)](this);}[_0x29fc43(0xad9)](_0x4fa156){const _0x49357f=_0x29fc43;_0x4fa156[_0x49357f(0x379)](this);}[_0x29fc43(0x289)](_0x315cdb){const _0x40c0f1=_0x29fc43;this[_0x40c0f1(0x8d2)][_0x40c0f1(0x289)]({'topicLabel':this['label'],'contentType':this['contentType'],'uuid':(0x0,_0x3adee5['v4'])(),'recipients':[],..._0x315cdb});}[_0x29fc43(0x75e)](_0x4b0d18){const _0x33abc5=_0x29fc43;return this[_0x33abc5(0x8d2)][_0x33abc5(0x75e)](_0x4b0d18);}['unregisterSource'](_0x19bc4b){const _0x11a2d3=_0x29fc43;_0x19bc4b[_0x11a2d3(0x649)](this);}[_0x29fc43(0x2dd)](_0x68fa3b){const _0x495d9f=_0x29fc43;_0x68fa3b[_0x495d9f(0x773)](this);}}class _0x1a04bf{[_0x29fc43(0x66e)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x460054){this['getPartsFromSubscription']=_0x460054;}get[_0x29fc43(0x44a)](){return this['maps']['subscriptions'];}get['topics'](){const _0x5227df=_0x29fc43;return this[_0x5227df(0x66e)]['topics'];}[_0x29fc43(0x1c6)](_0x26ec2a,_0x4ec15e){const _0x5138dd=_0x29fc43,_0x4ef92e=this[_0x5138dd(0x422)](_0x4ec15e),_0x3382af=_0x259c5c(_0x26ec2a);if(!_0x4ef92e[_0x5138dd(0x4fc)])throw new _0x3335bf(_0x3335bf[_0x5138dd(0x4ee)]['InvalidSubscription'],{'message':_0x3382af+':\x20'+_0x4ef92e['remoteId']+_0x5138dd(0x125)+_0x4ef92e[_0x5138dd(0x25a)],'subscriptionType':_0x26ec2a,'subscription':_0x4ec15e,'subscriptonParts':_0x4ef92e});const _0x467ba7=_0x52a0aa(_0x26ec2a,_0x4ef92e);if(this[_0x5138dd(0x66e)][_0x5138dd(0x44a)][_0x5138dd(0x716)](_0x467ba7))throw new _0x3335bf(_0x3335bf[_0x5138dd(0x4ee)][_0x5138dd(0x4cf)],{'message':_0x3382af+':\x20'+_0x467ba7+_0x5138dd(0x889),'subscriptionType':_0x26ec2a,'subscription':_0x4ec15e,'subscriptonParts':_0x4ef92e});this['maps'][_0x5138dd(0x44a)][_0x5138dd(0x355)](_0x467ba7,_0x4ec15e),this['createTopic'](_0x4ef92e,_0x4ec15e);}[_0x29fc43(0x88e)](_0x2a0fcb,_0x5a0104){const _0x57509f=_0x29fc43,_0x559f31=_0x52a0aa(_0x5a0104,_0x2a0fcb),_0xc7e506=this['maps'][_0x57509f(0x44a)]['get'](_0x559f31);if(!_0xc7e506)throw new _0x3335bf(_0x3335bf[_0x57509f(0x4ee)][_0x57509f(0x4cf)],{'message':_0x259c5c(_0x5a0104)+':\x20'+_0x559f31+_0x57509f(0x1bc),'subscriptionType':_0x5a0104,'subscription':_0xc7e506,'subscriptonParts':_0x2a0fcb});this[_0x57509f(0x657)](_0xc7e506,_0x559f31,_0x2a0fcb);}['closeSubscription'](_0x2e10b2,_0x4cb8b2,_0x2a8d5b){const _0x3ecf7a=_0x29fc43;_0x2a8d5b=_0x2a8d5b||this[_0x3ecf7a(0x422)](_0x2e10b2),this[_0x3ecf7a(0x66e)][_0x3ecf7a(0x44a)]['delete'](_0x4cb8b2),this[_0x3ecf7a(0x904)](_0x2a8d5b,_0x2e10b2);}[_0x29fc43(0x3eb)](_0x8a630f,{source:_0x16f26a,destination:_0x127677}){const _0x32185c=_0x29fc43,{contentType:_0x702234,label:_0x466568,remoteId:_0x463d07}=_0x8a630f,_0x791183=_0x4eb03f(_0x702234,_0x466568,_0x463d07),_0x112073=new _0x30c245(_0x791183,_0x702234);_0x112073[_0x32185c(0x443)](_0x16f26a),_0x112073[_0x32185c(0xad9)](_0x127677),this[_0x32185c(0x66e)][_0x32185c(0x1e5)][_0x32185c(0x355)](_0x112073['getLabel'](),_0x112073);}[_0x29fc43(0x904)](_0x129e7,_0x5adaf1){const _0x59f92c=_0x29fc43,{contentType:_0x2190a3,label:_0x142853,remoteId:_0x546a6e}=_0x129e7,_0x5e5af7=_0x4eb03f(_0x2190a3,_0x142853,_0x546a6e),_0x3106d5=this[_0x59f92c(0x66e)][_0x59f92c(0x1e5)]['get'](_0x5e5af7);_0x3106d5&&(this['closeTopic'](_0x3106d5,_0x5adaf1),this[_0x59f92c(0x66e)][_0x59f92c(0x1e5)][_0x59f92c(0x5ef)](_0x5e5af7));}[_0x29fc43(0x944)](_0x1d848b,{source:_0x4426c4,destination:_0xe5b6cb}){const _0x2efb56=_0x29fc43;_0x1d848b[_0x2efb56(0x9f8)](_0x4426c4),_0x1d848b[_0x2efb56(0x2dd)](_0xe5b6cb);}[_0x29fc43(0xa3d)](_0x5933a8){const _0x166950=_0x29fc43;this[_0x166950(0x66e)][_0x166950(0x44a)][_0x166950(0x7f9)]((_0x8ad5d,_0x1497a4)=>{const _0x15844f=_0x166950;_0x1497a4[_0x15844f(0x349)](_0x5933a8)&&this[_0x15844f(0x657)](_0x8ad5d,_0x1497a4);});}}class _0x3dc7d{[_0x29fc43(0x57f)];[_0x29fc43(0x510)];['subscriptionRequests']=new Map();[_0x29fc43(0x6aa)]=_0x1a2a76(new _0x368850(this[_0x29fc43(0x35b)]['bind'](this),()=>_0x16c57a['wait'](0x64)),!0x0);[_0x29fc43(0x87e)]=new Map();[_0x29fc43(0x66e)];['chosenAnswers']=new Map();constructor(_0x34e087,_0x1dedbb){const _0x14cf8f=_0x29fc43;this[_0x14cf8f(0x57f)]=_0x34e087,this[_0x14cf8f(0x510)]=_0x1dedbb,this[_0x14cf8f(0x66e)]=new _0x1a04bf(({source:_0x1a7091,destination:_0x3457c0})=>_0x2b6e4d(_0x3457c0,_0x1a7091));}[_0x29fc43(0x1c6)](_0x3bf525,_0x1544f9){const _0x504eed=_0x29fc43,_0x4f6ca2=this[_0x504eed(0x7ec)](_0x3bf525)&&this[_0x504eed(0x623)](_0x1544f9)?new _0x2ea4e7(_0x3bf525,_0x1544f9):new _0x5725e5(_0x3bf525,_0x1544f9);this['maps'][_0x504eed(0x1c6)](_0x47d14f[_0x504eed(0x67c)],_0x4f6ca2),this['configs'][_0x504eed(0x2f9)][_0x504eed(0x900)](_0x4f6ca2);}[_0x29fc43(0x88e)](_0x4f65b6,_0x519de4,_0x2fa88d=''){const _0x491528=_0x29fc43,_0x5ec22d={'contentType':_0x519de4,'label':_0x4f65b6,'remoteId':_0x2fa88d},_0xc04fe=_0x52a0aa(_0x47d14f['Incoming'],_0x5ec22d),_0x3b50bd=this[_0x491528(0x66e)][_0x491528(0x44a)][_0x491528(0x2a2)](_0xc04fe);_0x3b50bd&&this[_0x491528(0x657)](_0x3b50bd,_0xc04fe);}[_0x29fc43(0x41c)](_0x181637){const _0x4a1d76=_0x29fc43;this[_0x4a1d76(0x299)](_0x181637);}[_0x29fc43(0x9cf)]({label:_0x23b038,ownerId:_0x39b2c2,trackKinds:_0x478fcc,params:_0xe787e5}){this['requestSubscription'](_0x23b038,_0x39b2c2,_0x478fcc,_0xe787e5);}[_0x29fc43(0x2df)]({ownerId:_0x1681bc,label:_0x47e60a,params:_0x24dabe}){const _0x2aaecf=_0x29fc43,{subscriptionLabel:_0xb83a34}=this['getSubscriptionLabel'](_0x47e60a,_0x1681bc),_0x5b7056=this[_0x2aaecf(0x352)](_0xb83a34);_0x5b7056&&_0x5b7056['update'](_0x1681bc,_0x24dabe);}[_0x29fc43(0x9c3)]({ownerId:_0x4b034a,label:_0x20143b,trackKinds:_0x5b2741,remainingTracks:_0x25a6a4}){const _0xdb2869=_0x29fc43,_0xe24c7f=_0x52a0aa(_0x47d14f['Incoming'],{'contentType':_0x47b47a[_0xdb2869(0x43d)][_0xdb2869(0x6d2)],'label':_0x20143b,'remoteId':_0x4b034a});this[_0xdb2869(0x3f3)](_0xe24c7f);const _0x41c55e=this['subscriptionRequests']['get'](_0xe24c7f);_0x41c55e&&(this['configs'][_0xdb2869(0x2f9)][_0xdb2869(0x1b1)](_0x41c55e),this['subscriptionRequests']['delete'](_0xe24c7f));const {parts:_0x153736,subscriptionLabel:_0x2c1056}=this[_0xdb2869(0x578)](_0x20143b,_0x4b034a),_0x20e61b=this['getMediaSubscription'](_0x2c1056);_0x20e61b&&(_0x20e61b['unsubscribe'](_0x4b034a,_0x25a6a4,_0x5b2741),0x0===_0x25a6a4&&this[_0xdb2869(0x88e)](_0x153736[_0xdb2869(0x12a)],_0x153736['contentType'],_0x153736[_0xdb2869(0x295)]));}['handleSubscriptionRestartNeedMediaStream'](_0x407e65,{label:_0x341505,ownerId:_0x3e7d4b,trackKinds:_0x1d1f87,streamId:_0x1b5184,params:_0x42c41b}){const _0x11f94c=_0x29fc43,_0x19dd1f=_0x52a0aa(_0x47d14f[_0x11f94c(0x67c)],{'contentType':_0x47b47a[_0x11f94c(0x43d)][_0x11f94c(0x6d2)],'label':_0x1b5184,'remoteId':_0x407e65}),_0x3e9817=this[_0x11f94c(0x66e)]['subscriptions']['get'](_0x19dd1f);if(!(_0x3e9817&&_0x3e9817 instanceof _0x2ea4e7))throw new _0x3335bf(_0x3335bf[_0x11f94c(0x4ee)]['SubscriptionRequestDoesNotExist'],{'label':_0x19dd1f,'ownerId':_0x3e7d4b});this[_0x11f94c(0x657)](_0x3e9817,_0x19dd1f),this[_0x11f94c(0x223)](_0x341505,_0x3e7d4b,_0x1d1f87,_0x42c41b);}[_0x29fc43(0x96b)](_0x1e1d87,_0x2b1ae2){const _0x56c690=_0x29fc43,{label:_0x3a4038,ownerId:_0x1b7073,trackKinds:_0xde0781,params:_0x20bf75}=_0x2b1ae2,_0x2abe39=_0x52a0aa(_0x47d14f[_0x56c690(0x67c)],{'contentType':_0x47b47a[_0x56c690(0x43d)]['Media'],'label':_0x3a4038,'remoteId':_0x1b7073});if(!this['subscriptionRequests'][_0x56c690(0x716)](_0x2abe39))throw new _0x3335bf(_0x3335bf[_0x56c690(0x4ee)]['SubscriptionRequestDoesNotExist'],{'label':_0x2abe39,'ownerId':_0x1b7073,'streamId':_0x2b1ae2[_0x56c690(0x397)],'requests':this['subscriptionRequests']});const _0x20a773=this[_0x56c690(0x8c8)][_0x56c690(0x2a2)](_0x2abe39);if(_0xde0781['length']===_0x20a773[_0x56c690(0x98a)]()[_0x56c690(0x4c5)]&&_0xde0781[_0x56c690(0x228)](_0x4377e4=>_0x20a773['getTracks']()['includes'](_0x4377e4)))try{const _0x2ae37a=_0x20a773['handleSubscriptionSystemEvents'](_0x1e1d87,_0x2b1ae2);if(!_0x2ae37a)return;this[_0x56c690(0x75e)](_0x2ae37a,_0x1b7073,_0x3a4038,_0x2abe39,_0xde0781);}catch(_0x19dc5c){return void this[_0x56c690(0x58e)](_0x3a4038,_0x1b7073,_0xde0781,_0x20bf75);}}[_0x29fc43(0x2c9)](_0x2249cd,{label:_0x43f658,ownerId:_0x1b62d9,trackKinds:_0xec08f5}){const _0x12b57d=_0x29fc43,_0x23e2d5=this[_0x12b57d(0x57f)][_0x12b57d(0x2f9)][_0x12b57d(0x2b3)](_0x1b62d9,_0x43f658);if(!_0x23e2d5)return;const _0x491f0a=_0x23e2d5[_0x12b57d(0x9e7)](),_0x285150=_0x23e2d5[_0x12b57d(0x9b1)]();_0x285150[_0x12b57d(0x21d)](_0x2dcd6e=>_0xec08f5['includes'](_0x2dcd6e))&&this['findNewMediaSubscription'](_0x2249cd,_0x43f658,_0x491f0a,_0x1b62d9,_0x285150);}[_0x29fc43(0x3c8)]({label:_0x393aac,providerId:_0x2d9c0a,ownerId:_0x56636c,streamId:_0x1d7c61,trackKinds:_0x991061}){const _0x40245d=_0x29fc43;this[_0x40245d(0x410)](_0x2d9c0a,_0x393aac,_0x1d7c61,_0x56636c,_0x991061);}[_0x29fc43(0x674)](_0x53963a){const _0x5973c1=_0x29fc43;for(const _0x17e02f of this['chosenAnswers'][_0x5973c1(0x347)]()){const {streamLabel:_0x4bb190,ownerId:_0x3de5a1,trackKinds:_0x242f83,params:_0x478521}=_0x17e02f;if(!_0x3de5a1||!_0x242f83||!_0x4bb190)return;this[_0x5973c1(0x6aa)]['push']({'label':_0x4bb190,'ownerId':_0x3de5a1,'trackKinds':_0x242f83,'params':_0x478521,'remoteId':_0x53963a});}}[_0x29fc43(0xa3d)](_0x62eef5){const _0x36b1a2=_0x29fc43;this[_0x36b1a2(0x66e)][_0x36b1a2(0x44a)]['forEach']((_0x25266e,_0x7c9b2b)=>{const _0x1ec0c5=_0x36b1a2;if(_0x7c9b2b[_0x1ec0c5(0x349)](_0x62eef5)){if(_0x25266e[_0x1ec0c5(0x9d6)][_0x1ec0c5(0x5f5)]()===_0x47b47a['ContentType'][_0x1ec0c5(0x6d2)]){const _0x158174=_0x25266e[_0x1ec0c5(0x9d6)];if(_0x158174['getSubscribedTracks']()['length']>0x0){const _0x2db92d={'type':_0x4d7c63[_0x1ec0c5(0x557)],'label':_0x158174[_0x1ec0c5(0x858)](),'ownerId':_0x158174[_0x1ec0c5(0x5a8)](),'trackKinds':_0x158174['getSubscribedTracks']()};return void this[_0x1ec0c5(0x2c9)](_0x62eef5,_0x2db92d);}}this[_0x1ec0c5(0x657)](_0x25266e,_0x7c9b2b);}});}['close'](){const _0x492408=_0x29fc43;this[_0x492408(0x66e)][_0x492408(0x44a)]['forEach'](this[_0x492408(0x657)][_0x492408(0x699)](this));}[_0x29fc43(0x75e)](_0x254a66,_0x59e207,_0x14935e,_0x276fe6,_0x1318f9){const _0x29b960=_0x29fc43,_0x1508f3=this[_0x29b960(0x57f)][_0x29b960(0x2f9)][_0x29b960(0x8e6)](_0x254a66[_0x29b960(0x45a)]),_0x1dd6a4=this[_0x29b960(0x57f)][_0x29b960(0x2f9)][_0x29b960(0x2b3)](_0x59e207,_0x14935e);this[_0x29b960(0x3f3)](_0x276fe6),this['subscriptionRequests'][_0x29b960(0x716)](_0x276fe6)&&(this[_0x29b960(0x57f)][_0x29b960(0x2f9)]['unregisterSystemSource'](this[_0x29b960(0x8c8)][_0x29b960(0x2a2)](_0x276fe6)),this[_0x29b960(0x8c8)][_0x29b960(0x5ef)](_0x276fe6)),this[_0x29b960(0x60b)](_0x254a66,_0x59e207,_0x14935e,_0x1dd6a4),_0x1dd6a4[_0x29b960(0x7cb)](_0x254a66[_0x29b960(0x397)]),_0x1dd6a4[_0x29b960(0x812)](_0x254a66[_0x29b960(0x45a)]);const _0x5c0fea=_0x2b6e4d(_0x1dd6a4,_0x1508f3),_0x4d3452=_0x52a0aa(_0x47d14f[_0x29b960(0x67c)],_0x5c0fea);this[_0x29b960(0x66e)]['subscriptions'][_0x29b960(0x716)](_0x4d3452)||this[_0x29b960(0x1c6)](_0x1508f3,_0x1dd6a4);const _0x53de21=this['maps'][_0x29b960(0x44a)]['get'](_0x4d3452);if(!(_0x53de21&&_0x53de21 instanceof _0x2ea4e7))throw new _0x3335bf(_0x3335bf['codes'][_0x29b960(0x2a1)],{'label':_0x276fe6,'ownerId':_0x59e207});_0xb63eee[_0x29b960(0x684)]('subscription',{'clusterId':this[_0x29b960(0x57f)][_0x29b960(0x93b)],'nodeId':this[_0x29b960(0x57f)]['localNode'][_0x29b960(0x994)](),'nodeType':this[_0x29b960(0x57f)]['localNode']['type'],'data':{'subscriptionLabel':_0x4d3452,'chosenAnswer':_0x254a66}}),this[_0x29b960(0x40c)]['set'](_0x4d3452,_0x254a66),_0x53de21[_0x29b960(0x75e)](_0x59e207,_0x1318f9,_0x254a66['params']);}[_0x29fc43(0x299)]({ownerId:_0x338d06,label:_0x3b22f8}){const _0x42ddac=_0x29fc43,_0xfa790=this['configs'][_0x42ddac(0x2f9)][_0x42ddac(0x2b3)](_0x338d06,_0x3b22f8),[_0x12e8ce,_0x3d1f42]=Array[_0x42ddac(0x8f7)](this[_0x42ddac(0x66e)][_0x42ddac(0x44a)]['entries']())['find'](([_0x12f8aa,_0x34db6d])=>-0x1!==_0x12f8aa[_0x42ddac(0x511)](_0xfa790['getInternalStreamId']()));return this['closeSubscription'](_0x3d1f42,_0x12e8ce);}[_0x29fc43(0x657)](_0x363cc9,_0x32b7f4){const _0x4069d5=_0x29fc43;this[_0x4069d5(0x57f)][_0x4069d5(0x2f9)]['unregisterSystemSource'](_0x363cc9),this[_0x4069d5(0x66e)][_0x4069d5(0x657)](_0x363cc9,_0x32b7f4);}[_0x29fc43(0x7ec)](_0x1edba0){const _0x1b3def=_0x29fc43;return _0x1edba0[_0x1b3def(0x899)]()['includes'](_0x47b47a[_0x1b3def(0x43d)][_0x1b3def(0x6d2)]);}[_0x29fc43(0x623)](_0x19619a){const _0x558232=_0x29fc43;return _0x19619a[_0x558232(0x5f5)]()===_0x47b47a[_0x558232(0x43d)]['Media'];}async[_0x29fc43(0x58e)](_0x43a8e1,_0x29e77b,_0x4624ed,_0x44f02b){const _0x27c804=_0x29fc43;await _0x16c57a[_0x27c804(0x73f)](0x3e8);const _0x363045=_0x52a0aa(_0x47d14f[_0x27c804(0x67c)],{'contentType':_0x47b47a[_0x27c804(0x43d)][_0x27c804(0x6d2)],'label':_0x43a8e1,'remoteId':_0x29e77b});this[_0x27c804(0x3f3)](_0x363045);const _0x227765=this[_0x27c804(0x8c8)][_0x27c804(0x2a2)](_0x363045);if(!_0x227765)throw new _0x3335bf(_0x3335bf['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x363045,'ownerId':_0x29e77b});const _0x87f9f8=this[_0x27c804(0x57f)][_0x27c804(0x2f9)]['getConnections'](_0x313a0e=>_0x313a0e[_0x27c804(0x65f)]()),_0x39c233=this[_0x27c804(0x57f)]['mediator'][_0x27c804(0x96a)](this[_0x27c804(0x57f)][_0x27c804(0xa8a)]['getId'](),_0x29e77b);_0x227765[_0x27c804(0x94c)](_0x87f9f8[_0x27c804(0x170)](_0x34bcf9=>_0x34bcf9['getRemoteId']()),_0x39c233);try{_0x227765[_0x27c804(0x17c)](this[_0x27c804(0x57f)][_0x27c804(0xa8a)][_0x27c804(0x994)](),_0x29e77b,_0x43a8e1,_0x4624ed,_0x44f02b),this[_0x27c804(0x396)](_0x43a8e1,_0x29e77b,_0x4624ed,_0x44f02b,_0x363045,_0x227765);}catch(_0x366eff){this[_0x27c804(0x6aa)][_0x27c804(0x9f9)]({'label':_0x43a8e1,'ownerId':_0x29e77b,'trackKinds':_0x4624ed,'params':_0x44f02b});}}['requestSubscription'](_0x159ab5,_0x3f3a7d,_0x14f959,_0x137b23){const _0x3a333a=_0x29fc43;this[_0x3a333a(0x6aa)][_0x3a333a(0x9f9)]({'label':_0x159ab5,'ownerId':_0x3f3a7d,'trackKinds':_0x14f959,'params':_0x137b23});}[_0x29fc43(0x35b)]({label:_0x19f6ee,ownerId:_0x4843d2,trackKinds:_0x3ef702,params:_0x2dff51,remoteId:_0x24d73e}){const _0x36874=_0x29fc43;if(!this[_0x36874(0x57f)][_0x36874(0x2f9)][_0x36874(0x2b3)](_0x4843d2,_0x19f6ee))return;if(!this[_0x36874(0x57f)][_0x36874(0x2f9)][_0x36874(0x2c2)]()['getRank']())throw new Error(_0x36874(0x404));if(_0x24d73e){const _0x2f3a4d=this['configs']['mediator'][_0x36874(0x301)]()[_0x36874(0x5a5)](_0x11b280=>_0x11b280['getId']()===_0x24d73e),_0x4df721=_0x2f3a4d?.[_0x36874(0x1b3)]();if(!_0x2f3a4d||!_0x4df721)throw new Error(_0x36874(0xad8));const _0x142dbd=this[_0x36874(0x57f)]['mediator']['getRemoteNodes']()[_0x36874(0x5a5)](_0x1173ad=>_0x1173ad[_0x36874(0x994)]()===_0x4843d2),_0x2adf3b=_0x142dbd?.[_0x36874(0x1b3)]();if(!_0x142dbd||!_0x2adf3b)throw new Error(_0x36874(0x386));const _0x4a8757=this[_0x36874(0x40c)]['get'](_0x19f6ee);if(_0x4a8757){const _0x761119=this[_0x36874(0x57f)][_0x36874(0x2f9)]['getRemoteNodes']()['find'](_0x598385=>_0x598385['getId']()===_0x4a8757['nodeId']),_0x107090=_0x761119?.[_0x36874(0x1b3)]();if(!_0x761119||!_0x107090)throw new Error(_0x36874(0x11f));if(Math['abs'](_0x107090-_0x2adf3b)<Math[_0x36874(0x2be)](_0x4df721-_0x2adf3b))return;}}const _0x39e428=this[_0x36874(0x57f)][_0x36874(0x2f9)][_0x36874(0x784)](_0x2ce8b4=>_0x2ce8b4['isConnected']()&&(!_0x24d73e||_0x2ce8b4[_0x36874(0x1d6)]()===_0x24d73e));if(!_0x39e428['length']||0x0===_0x39e428[_0x36874(0x4c5)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x478524=this[_0x36874(0x57f)][_0x36874(0x2f9)][_0x36874(0x96a)](this['configs'][_0x36874(0xa8a)][_0x36874(0x994)](),_0x4843d2),_0x243b0e=_0x52a0aa(_0x47d14f[_0x36874(0x67c)],{'contentType':_0x47b47a['ContentType'][_0x36874(0x6d2)],'label':_0x19f6ee,'remoteId':_0x4843d2});if(this[_0x36874(0x8c8)]['has'](_0x243b0e)){if(_0x24d73e)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x585374=this[_0x36874(0x8c8)][_0x36874(0x2a2)](_0x243b0e)['getTracks']();if(_0x585374[_0x36874(0x4c5)]===_0x3ef702[_0x36874(0x4c5)]&&_0x585374[_0x36874(0x228)](_0x21b1a1=>_0x3ef702['includes'](_0x21b1a1)))return;this[_0x36874(0x57f)][_0x36874(0x2f9)][_0x36874(0x1b1)](this[_0x36874(0x8c8)]['get'](_0x243b0e)),this['subscriptionRequests'][_0x36874(0x5ef)](_0x243b0e),_0x3ef702=Array['from'](new Set(_0x3ef702[_0x36874(0x759)](_0x585374))),this[_0x36874(0x3f3)](_0x243b0e);}const _0x272a7f=new _0xa4bcba(_0x39e428[_0x36874(0x170)](_0x3623dd=>_0x3623dd[_0x36874(0x1d6)]()),_0x478524,this[_0x36874(0x510)],_0x3ef702);this['configs'][_0x36874(0x2f9)][_0x36874(0x900)](_0x272a7f),this[_0x36874(0x8c8)][_0x36874(0x355)](_0x243b0e,_0x272a7f),_0x272a7f[_0x36874(0x17c)](this[_0x36874(0x57f)][_0x36874(0xa8a)]['getId'](),_0x4843d2,_0x19f6ee,_0x3ef702,_0x2dff51),this[_0x36874(0x396)](_0x19f6ee,_0x4843d2,_0x3ef702,_0x2dff51,_0x243b0e,_0x272a7f);}['clearSubscriptionRequestTimeout'](_0x5a1121){const _0x483dac=_0x29fc43;this[_0x483dac(0x87e)]['has'](_0x5a1121)&&(clearTimeout(this[_0x483dac(0x87e)]['get'](_0x5a1121)),this[_0x483dac(0x87e)][_0x483dac(0x5ef)](_0x5a1121));}[_0x29fc43(0x396)](_0x5f14d3,_0x14cefa,_0x19466c,_0x5b31b8,_0x384bb8,_0x4222ff){const _0x50493f=_0x29fc43;this['clearSubscriptionRequestTimeout'](_0x384bb8),this[_0x50493f(0x87e)][_0x50493f(0x355)](_0x384bb8,setTimeout(()=>{const _0x1373d6=_0x50493f;this[_0x1373d6(0x87e)]['delete'](_0x384bb8);try{const _0x2a85d0=_0x4222ff[_0x1373d6(0x235)]();this[_0x1373d6(0x75e)](_0x2a85d0,_0x14cefa,_0x5f14d3,_0x384bb8,_0x19466c);}catch(_0x1602df){this[_0x1373d6(0x58e)](_0x5f14d3,_0x14cefa,_0x19466c,_0x5b31b8);}},0x7d0));}['findNewMediaSubscription'](_0x45a5cd,_0x349519,_0x3853a9,_0x2fd3e5,_0x54e369){const _0x141954=_0x29fc43,{subscriptionLabel:_0x127ced}=this[_0x141954(0x578)](_0x349519,_0x2fd3e5),_0x4bd643=this['getMediaSubscription'](_0x127ced),_0x47df9a=_0x4bd643?.[_0x141954(0x7b6)];_0x4bd643&&(_0x4bd643[_0x141954(0x515)](_0x2fd3e5,0x0),this[_0x141954(0x88e)](_0x3853a9,_0x47b47a[_0x141954(0x43d)]['Media'],_0x45a5cd)),this[_0x141954(0x223)](_0x349519,_0x2fd3e5,_0x54e369,_0x47df9a);}[_0x29fc43(0x352)](_0xe93ba){const _0x7c9da6=_0x29fc43,_0x41071e=this['maps'][_0x7c9da6(0x44a)]['get'](_0xe93ba);if(_0x41071e){if(!(_0x41071e instanceof _0x2ea4e7))throw new _0x3335bf(_0x3335bf['codes'][_0x7c9da6(0x4cf)],{'label':_0xe93ba,'subscription':_0x41071e});return _0x41071e;}}[_0x29fc43(0x578)](_0x225cfc,_0x372a5d){const _0x5f563d=_0x29fc43,_0x1e96b2=this[_0x5f563d(0x25d)](_0x225cfc,_0x372a5d);return{'parts':_0x1e96b2,'subscriptionLabel':_0x52a0aa(_0x47d14f[_0x5f563d(0x67c)],_0x1e96b2)};}['getPartsForSubscriptionLabel'](_0x152d41,_0x2058dd){const _0x1008a7=_0x29fc43,_0x13507e=this[_0x1008a7(0x57f)][_0x1008a7(0x2f9)][_0x1008a7(0x2b3)](_0x2058dd,_0x152d41),_0xf39a8e=_0x13507e['getProviderId']();if(!_0xf39a8e)throw new _0x3335bf(_0x3335bf[_0x1008a7(0x4ee)][_0x1008a7(0x4de)],{'label':_0x152d41,'streamId':_0x13507e[_0x1008a7(0x9e7)](),'ownerId':_0x2058dd,'localId':this[_0x1008a7(0x57f)]['localNode'][_0x1008a7(0x994)]()});return{'contentType':_0x47b47a[_0x1008a7(0x43d)][_0x1008a7(0x6d2)],'label':_0x13507e[_0x1008a7(0x9e7)](),'remoteId':_0xf39a8e};}[_0x29fc43(0x60b)](_0x28337a,_0x2f5ac8,_0x1ba33f,_0x30ea29){const _0x1e1034=_0x29fc43,_0x42245f=_0x30ea29[_0x1e1034(0x84d)]();if(_0x42245f&&_0x42245f!==_0x28337a[_0x1e1034(0x45a)]){const {parts:_0x41f106,subscriptionLabel:_0x5a8900}=this[_0x1e1034(0x578)](_0x1ba33f,_0x2f5ac8),_0x5c88aa=this[_0x1e1034(0x352)](_0x5a8900);_0x5c88aa&&(_0x5c88aa[_0x1e1034(0x515)](_0x2f5ac8,0x0),this[_0x1e1034(0x88e)](_0x41f106['label'],_0x41f106[_0x1e1034(0x25a)],_0x41f106[_0x1e1034(0x295)]));}}}class _0x2aa736{[_0x29fc43(0x57f)];[_0x29fc43(0x55e)];['maps'];constructor(_0x2f0fe6,_0x5f45e4){const _0x3e7dbe=_0x29fc43;this[_0x3e7dbe(0x57f)]=_0x2f0fe6,this[_0x3e7dbe(0x55e)]=_0x5f45e4,this['maps']=new _0x1a04bf(({source:_0x142deb,destination:_0x337ec5})=>_0x2b6e4d(_0x142deb,_0x337ec5));}[_0x29fc43(0x1c6)](_0x406544,_0x11ca4c){const _0x78dd0e={'source':_0x406544,'destination':_0x11ca4c};this['maps']['createSubscription'](_0x47d14f['Outgoing'],_0x78dd0e);}[_0x29fc43(0x88e)](_0xb4f9ae,_0x102eba,_0x34b0c4=''){const _0x21f2c1=_0x29fc43,_0x17e0d5={'contentType':_0x102eba,'label':_0xb4f9ae,'remoteId':_0x34b0c4};this[_0x21f2c1(0x66e)][_0x21f2c1(0x88e)](_0x17e0d5,_0x47d14f[_0x21f2c1(0xa2f)]);}[_0x29fc43(0x286)](_0x58dcb8,_0x8c0003){const _0xc894d6=_0x29fc43;let _0x329df0;_0x329df0=_0x8c0003[_0xc894d6(0x8b3)]!==this['configs']['localNode'][_0xc894d6(0x994)]()?this[_0xc894d6(0x57f)][_0xc894d6(0x2f9)][_0xc894d6(0x2b3)](_0x8c0003[_0xc894d6(0x8b3)],_0x8c0003['label']):this[_0xc894d6(0x57f)][_0xc894d6(0x2f9)]['getLocalMediaStream'](_0x8c0003[_0xc894d6(0x12a)]);const _0x1b0103=_0x52a0aa(_0x47d14f[_0xc894d6(0xa2f)],{'contentType':_0x47b47a['ContentType']['Media'],'label':_0x329df0[_0xc894d6(0x40f)](),'remoteId':_0x58dcb8}),_0x427fd3=this[_0xc894d6(0x9e3)]();if(!this[_0xc894d6(0x66e)][_0xc894d6(0x44a)][_0xc894d6(0x716)](_0x1b0103)&&_0x427fd3>=this['maxOutgoingSubscriptions'])return{'type':_0x4d7c63[_0xc894d6(0x668)],'ownerId':_0x8c0003[_0xc894d6(0x8b3)],'label':_0x8c0003[_0xc894d6(0x12a)],'streamId':_0x329df0[_0xc894d6(0x40f)](),'trackKinds':_0x8c0003[_0xc894d6(0x3bd)],'params':_0x8c0003[_0xc894d6(0x7b6)]};_0x329df0 instanceof _0x4b660e&&!_0x329df0[_0xc894d6(0x7b0)](_0x8c0003[_0xc894d6(0x3bd)])&&_0x329df0[_0xc894d6(0x75e)](_0x8c0003[_0xc894d6(0x7b6)]),this[_0xc894d6(0x66e)][_0xc894d6(0x44a)][_0xc894d6(0x716)](_0x1b0103)||this['createSubscription'](_0x329df0[_0xc894d6(0x439)](_0x58dcb8),this[_0xc894d6(0x57f)][_0xc894d6(0x2f9)][_0xc894d6(0x8e6)](_0x58dcb8));}[_0x29fc43(0xa1b)](_0x5900a3,{label:_0xa0495a,ownerId:_0x40eeb0,remainingTracks:_0x174877}){const _0x1250fd=_0x29fc43;if(_0x174877>0x0)return;let _0x558cd1;_0x558cd1=_0x40eeb0!==this['configs'][_0x1250fd(0xa8a)][_0x1250fd(0x994)]()?this[_0x1250fd(0x57f)]['mediator'][_0x1250fd(0x2b3)](_0x40eeb0,_0xa0495a):this['configs'][_0x1250fd(0x2f9)]['getLocalMediaStream'](_0xa0495a);const _0x217c6b=_0x558cd1['getShareableStreamId'](),_0x4b2f31=_0x47b47a['ContentType'][_0x1250fd(0x6d2)];this['removeSubscription'](_0x217c6b,_0x4b2f31,_0x5900a3);}[_0x29fc43(0x9c3)](_0x27703c,{label:_0x4ae3d6,ownerId:_0x28667a,trackKinds:_0x191252}){const _0x24c1e6=_0x29fc43;if(_0x27703c!==_0x491349)return[];let _0x2f35e0=[];for(const _0x55bdfb of this[_0x24c1e6(0x66e)]['subscriptions']){const {source:_0x447f55,destination:_0x38c5c8}=_0x55bdfb[0x1];_0x447f55[_0x24c1e6(0x858)]()===_0x4ae3d6&&_0x447f55[_0x24c1e6(0x5a8)]()===_0x28667a&&_0x2f35e0[_0x24c1e6(0x9f9)]({'sourceId':this[_0x24c1e6(0x57f)][_0x24c1e6(0xa8a)]['getId'](),'destinationIds':[_0x38c5c8[_0x24c1e6(0x1d6)]()],'messageType':_0x158cb7[_0x24c1e6(0x4a6)],'content':{'type':_0x4d7c63[_0x24c1e6(0x557)],'label':_0x4ae3d6,'ownerId':_0x28667a,'trackKinds':_0x191252}});}return _0x2f35e0;}[_0x29fc43(0x7a9)](_0x3514df,_0x52f166){const _0x55bd17=_0x29fc43,{label:_0x45593b,ownerId:_0x803e47,trackKinds:_0x5ef0b3,params:_0x4d81d9}=_0x52f166,{hasTracks:_0x33259b,streamId:_0x172ea9,hasResolution:_0x514a78,distance:_0x1ce31c,subscriptionLabel:_0x545cb6}=this[_0x55bd17(0x9c6)](_0x3514df,_0x52f166);let _0x5463da=this[_0x55bd17(0x9e3)]()<this[_0x55bd17(0x55e)]&&(_0x33259b||_0x1ce31c>-0x1)?_0x4d7c63[_0x55bd17(0x440)]:_0x4d7c63[_0x55bd17(0x624)];const _0x47b30c=_0x1ce31c<0x0?0xa:_0x1ce31c;let _0x557106=_0x33259b?_0x514a78?_0x47b30c:_0x47b30c+0x0:_0x47b30c+0xa;return _0x545cb6&&this[_0x55bd17(0x66e)][_0x55bd17(0x44a)]['has'](_0x545cb6)&&(_0x33259b&&(_0x557106=0x0),_0x5463da=_0x4d7c63[_0x55bd17(0x440)]),{'type':_0x5463da,'cost':_0x557106,'distance':_0x1ce31c,'label':_0x45593b,'ownerId':_0x803e47,'streamId':_0x172ea9,'trackKinds':_0x5ef0b3,'params':_0x4d81d9};}[_0x29fc43(0x41c)](_0x20b0c7){const _0x82ed1e=_0x29fc43,{label:_0x6d2549,ownerId:_0x5127b9}=_0x20b0c7,_0x4bff99=this[_0x82ed1e(0x57f)][_0x82ed1e(0x2f9)][_0x82ed1e(0x2b3)](_0x5127b9,_0x6d2549);this['maps']['subscriptions'][_0x82ed1e(0x7f9)](_0x4ac24d=>{const _0x1aa2f7=_0x82ed1e;if(_0x4ac24d[_0x1aa2f7(0xacd)][_0x1aa2f7(0x9e7)]()===_0x4bff99[_0x1aa2f7(0x40f)]()){const _0x1c3108=_0x4ac24d['destination'];this['removeSubscription'](_0x4bff99[_0x1aa2f7(0x40f)](),_0x47b47a['ContentType']['Media'],_0x1c3108['getRemoteId']());}});}[_0x29fc43(0x40d)]({label:_0x3d2699}){const _0x227d6c=_0x29fc43,_0x4bcb65=this['configs'][_0x227d6c(0x2f9)]['getLocalMediaStream'](_0x3d2699);this[_0x227d6c(0x66e)][_0x227d6c(0x44a)][_0x227d6c(0x7f9)](_0x442d41=>{const _0x27619b=_0x227d6c;if(_0x442d41[_0x27619b(0xacd)][_0x27619b(0x9e7)]()===_0x4bcb65[_0x27619b(0x40f)]()){const _0x453cab=_0x442d41['destination'];this[_0x27619b(0x88e)](_0x4bcb65['getShareableStreamId'](),_0x47b47a[_0x27619b(0x43d)][_0x27619b(0x6d2)],_0x453cab[_0x27619b(0x1d6)]());}});}[_0x29fc43(0xa3d)](_0x52098f){const _0xf8b621=_0x29fc43;this[_0xf8b621(0x66e)][_0xf8b621(0xa3d)](_0x52098f);}[_0x29fc43(0xb1b)](){const _0x409036=_0x29fc43;this[_0x409036(0x66e)]['subscriptions'][_0x409036(0x7f9)](this[_0x409036(0x657)][_0x409036(0x699)](this));}[_0x29fc43(0x657)](_0x3045b7,_0x11a974){const _0x42a12b=_0x29fc43;this[_0x42a12b(0x66e)][_0x42a12b(0x657)](_0x3045b7,_0x11a974);}[_0x29fc43(0x9c6)](_0x4bac15,{label:_0x1359c4,ownerId:_0x7f92f2,trackKinds:_0x52de93,params:_0x434beb}){const _0x305601=_0x29fc43;if(_0x7f92f2!==this[_0x305601(0x57f)][_0x305601(0xa8a)][_0x305601(0x994)]()){const _0x33d259=this[_0x305601(0x57f)][_0x305601(0x2f9)][_0x305601(0x2b3)](_0x7f92f2,_0x1359c4);return _0x33d259&&_0x33d259['getProviderId']()!==_0x4bac15?{'hasTracks':_0x33d259[_0x305601(0x54e)](_0x52de93),'hasResolution':this['canProvideResolution'](_0x33d259[_0x305601(0x6b4)](),_0x434beb),'streamId':_0x33d259[_0x305601(0x40f)](),'distance':this[_0x305601(0x57f)]['mediator'][_0x305601(0x96a)](_0x4bac15,_0x7f92f2),'subscriptionLabel':_0x52a0aa(_0x47d14f[_0x305601(0xa2f)],{'contentType':_0x47b47a[_0x305601(0x43d)][_0x305601(0x6d2)],'label':_0x33d259[_0x305601(0x40f)](),'remoteId':_0x4bac15})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x2e07f5=this[_0x305601(0x57f)][_0x305601(0x2f9)][_0x305601(0x92b)](_0x1359c4);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x2e07f5[_0x305601(0x40f)](),'distance':0x0,'subscriptionLabel':_0x52a0aa(_0x47d14f[_0x305601(0xa2f)],{'contentType':_0x47b47a[_0x305601(0x43d)][_0x305601(0x6d2)],'label':_0x2e07f5[_0x305601(0x40f)](),'remoteId':_0x4bac15})};}[_0x29fc43(0x9e3)](){const _0x463da6=_0x29fc43;return Array['from'](this['maps'][_0x463da6(0x44a)][_0x463da6(0x32b)]())[_0x463da6(0x81c)](([_0x279851,{source:_0x4f1ad9}])=>_0x279851[_0x463da6(0xa8b)](_0x47d14f[_0x463da6(0xa2f)])&&_0x4f1ad9[_0x463da6(0x5f5)]()===_0x47b47a[_0x463da6(0x43d)][_0x463da6(0x6d2)])[_0x463da6(0x4c5)];}[_0x29fc43(0x906)](_0x5a17eb,_0x46a4bc){const _0x4cb0d9=_0x29fc43;if(!_0x46a4bc||!_0x46a4bc[_0x4cb0d9(0x41d)]||_0x4cb0d9(0x714)==typeof _0x46a4bc[_0x4cb0d9(0x41d)]||!_0x46a4bc['video'][_0x4cb0d9(0x6d5)])return!0x0;const {width:_0x21fa4a,height:_0x55424f}=_0x46a4bc[_0x4cb0d9(0x41d)][_0x4cb0d9(0x6d5)];return _0x5a17eb['width']>=_0x21fa4a&&_0x5a17eb[_0x4cb0d9(0x4b2)]>=_0x55424f;}}class _0x244060{[_0x29fc43(0x57f)];[_0x29fc43(0x55e)];[_0x29fc43(0x510)];[_0x29fc43(0x3aa)];[_0x29fc43(0x69f)];[_0x29fc43(0xb19)];constructor(_0x3b6b28,_0x1d2f38,_0x546c4d){const _0x4991e7=_0x29fc43;this['configs']=_0x3b6b28,this[_0x4991e7(0x55e)]=_0x1d2f38,this[_0x4991e7(0x510)]=_0x546c4d,this[_0x4991e7(0x57f)][_0x4991e7(0x2f9)][_0x4991e7(0x900)](this),this[_0x4991e7(0x69f)]=new _0x3dc7d(this[_0x4991e7(0x57f)],this[_0x4991e7(0x510)]),this[_0x4991e7(0xb19)]=new _0x2aa736(this[_0x4991e7(0x57f)],this[_0x4991e7(0x55e)]);}[_0x29fc43(0x911)](_0x4fba14){const _0x3a67a8=_0x29fc43;this[_0x3a67a8(0x3aa)]=_0x4fba14;}['unregisterSystemPublisher'](){const _0x195f0a=_0x29fc43;delete this[_0x195f0a(0x3aa)];}['close'](){const _0x73b0c6=_0x29fc43;this[_0x73b0c6(0x69f)][_0x73b0c6(0xb1b)](),this[_0x73b0c6(0xb19)][_0x73b0c6(0xb1b)](),this[_0x73b0c6(0x57f)][_0x73b0c6(0x2f9)][_0x73b0c6(0x1b1)](this);}[_0x29fc43(0x497)](_0x34a6a0,_0x91a30){const _0x3b1d7e=_0x29fc43;this['incomingManager'][_0x3b1d7e(0x1c6)](_0x34a6a0,_0x91a30);}['createOutgoingSubscription'](_0x3ba42d,_0x31a812){const _0x35f0cc=_0x29fc43;this[_0x35f0cc(0xb19)][_0x35f0cc(0x1c6)](_0x3ba42d,_0x31a812);}[_0x29fc43(0x1b0)](_0x5020dd,_0x3e6f3a,_0x5b46a4=''){const _0x1bb954=_0x29fc43;this['incomingManager'][_0x1bb954(0x88e)](_0x5020dd,_0x3e6f3a,_0x5b46a4);}[_0x29fc43(0x5ce)](_0x5b7f66,_0x2c741c,_0xf8be34=''){const _0x3365ad=_0x29fc43;try{this['outgoingManager'][_0x3365ad(0x88e)](_0x5b7f66,_0x2c741c,_0xf8be34);}catch(_0x245095){if(_0x245095 instanceof _0x3335bf&&_0x245095[_0x3365ad(0x840)]===_0x3335bf[_0x3365ad(0x4ee)][_0x3365ad(0x4cf)])return;}}[_0x29fc43(0x9c9)](_0x2b9425){const _0x15209c=_0x29fc43;switch(_0x2b9425[_0x15209c(0x88a)][_0x15209c(0xacf)]){case _0x4d7c63[_0x15209c(0x49e)]:this['handleSubscriptionSubscribeMediaStream'](_0x2b9425['sourceId'],_0x2b9425[_0x15209c(0x88a)]);break;case _0x4d7c63['UnsubscribeMediaStream']:this[_0x15209c(0xb19)][_0x15209c(0xa1b)](_0x2b9425[_0x15209c(0xad5)],_0x2b9425['content']);break;case _0x4d7c63[_0x15209c(0x4fe)]:this[_0x15209c(0x7a9)](_0x2b9425[_0x15209c(0xad5)],_0x2b9425[_0x15209c(0x88a)]);break;case _0x4d7c63[_0x15209c(0x668)]:this['incomingManager'][_0x15209c(0x585)](_0x2b9425['sourceId'],_0x2b9425[_0x15209c(0x88a)]);break;case _0x4d7c63['CanProvideMediaStream']:case _0x4d7c63['CannotProvideMediaStream']:this[_0x15209c(0x69f)][_0x15209c(0x96b)](_0x2b9425['sourceId'],_0x2b9425['content']);break;case _0x4d7c63[_0x15209c(0x557)]:this[_0x15209c(0x69f)][_0x15209c(0x2c9)](_0x2b9425[_0x15209c(0xad5)],_0x2b9425[_0x15209c(0x88a)]);}}[_0x29fc43(0x9f2)](_0x3bcfe5){const _0x1b85f5=_0x29fc43;switch(_0x3bcfe5['content'][_0x1b85f5(0xacf)]){case _0x49b388['UnpublishMediaStream']:this['incomingManager'][_0x1b85f5(0x41c)](_0x3bcfe5[_0x1b85f5(0x88a)]),this[_0x1b85f5(0xb19)]['handleContentUnpublishMediaStream'](_0x3bcfe5['content']);break;case _0x49b388[_0x1b85f5(0x49e)]:this['incomingManager'][_0x1b85f5(0x9cf)](_0x3bcfe5[_0x1b85f5(0x88a)]);break;case _0x49b388[_0x1b85f5(0x233)]:this[_0x1b85f5(0x69f)]['handleContentUpdateMediaStream'](_0x3bcfe5['content']);break;case _0x49b388[_0x1b85f5(0x638)]:this[_0x1b85f5(0x9c3)](_0x3bcfe5[_0x1b85f5(0xad5)],_0x3bcfe5[_0x1b85f5(0x88a)]);break;case _0x49b388[_0x1b85f5(0x82c)]:this[_0x1b85f5(0xb19)][_0x1b85f5(0x40d)](_0x3bcfe5[_0x1b85f5(0x88a)]);break;case _0x49b388[_0x1b85f5(0x893)]:this[_0x1b85f5(0xae5)](_0x3bcfe5[_0x1b85f5(0x88a)][_0x1b85f5(0x12a)],_0x47b47a[_0x1b85f5(0x43d)][_0x1b85f5(0x47a)]);break;case _0x49b388[_0x1b85f5(0x6b0)]:this[_0x1b85f5(0xae5)](_0x3bcfe5[_0x1b85f5(0x88a)][_0x1b85f5(0x12a)],_0x47b47a[_0x1b85f5(0x43d)]['ObjectStore']);break;case _0x49b388[_0x1b85f5(0x285)]:this['handleCloseContent'](_0x3bcfe5[_0x1b85f5(0x88a)]['label'],_0x47b47a[_0x1b85f5(0x43d)]['ExternalStorage']);break;case _0x49b388[_0x1b85f5(0x887)]:this[_0x1b85f5(0xae5)](_0x3bcfe5[_0x1b85f5(0x88a)][_0x1b85f5(0x12a)],_0x47b47a[_0x1b85f5(0x43d)][_0x1b85f5(0x844)]);break;case _0x49b388[_0x1b85f5(0x69d)]:this[_0x1b85f5(0xae5)](_0x3bcfe5[_0x1b85f5(0x88a)][_0x1b85f5(0x12a)],_0x47b47a['ContentType']['VectorDatabase']);break;case _0x49b388[_0x1b85f5(0x677)]:this[_0x1b85f5(0xae5)](_0x3bcfe5[_0x1b85f5(0x88a)][_0x1b85f5(0x12a)],_0x47b47a['ContentType'][_0x1b85f5(0x615)]);break;case _0x49b388[_0x1b85f5(0x18c)]:case _0x49b388[_0x1b85f5(0x7b9)]:this[_0x1b85f5(0xae5)](_0x3bcfe5[_0x1b85f5(0x88a)][_0x1b85f5(0x12a)],_0x47b47a[_0x1b85f5(0x43d)]['Job']);break;case _0x49b388['RemoteMediaStreamTrackFail']:this[_0x1b85f5(0x69f)][_0x1b85f5(0x3c8)](_0x3bcfe5[_0x1b85f5(0x88a)]);}}[_0x29fc43(0x127)]({content:_0x6321c}){_0x6321c['type']===_0x4ce2f2['NodeLeave']&&this['removeSubscriptionsForNode'](_0x6321c);}[_0x29fc43(0x23c)](_0x553f1e){const _0x331bb6=_0x29fc43;_0x553f1e[_0x331bb6(0x88a)][_0x331bb6(0xacf)]===_0x21f8c1['OptimizationConnectionSuccess']&&this[_0x331bb6(0x69f)][_0x331bb6(0x674)](_0x553f1e[_0x331bb6(0xad5)]);}[_0x29fc43(0x9c3)](_0x2b4611,_0x2e03bd){const _0x18789c=_0x29fc43;this[_0x18789c(0x69f)][_0x18789c(0x9c3)](_0x2e03bd),this[_0x18789c(0xb19)][_0x18789c(0x9c3)](_0x2b4611,_0x2e03bd)[_0x18789c(0x7f9)](_0x1b8e1f=>this[_0x18789c(0x3aa)]['publish'](_0x1b8e1f));}[_0x29fc43(0x286)](_0x13c4a5,_0xb9f6e3){const _0xa9c17f=_0x29fc43,_0x494196=this[_0xa9c17f(0xb19)][_0xa9c17f(0x286)](_0x13c4a5,_0xb9f6e3);if(_0x494196&&(this[_0xa9c17f(0x3aa)]['publish']({'sourceId':this['configs'][_0xa9c17f(0xa8a)][_0xa9c17f(0x994)](),'destinationIds':[_0x13c4a5],'messageType':_0x158cb7[_0xa9c17f(0x4a6)],'content':_0x494196}),_0x494196[_0xa9c17f(0xacf)]===_0x4d7c63['RestartNeedMediaStream']))throw new _0xa97582(_0xa9c17f(0x920));}[_0x29fc43(0x7a9)](_0x2e0434,_0x25722a){const _0x4085d9=_0x29fc43,_0x20e597=this[_0x4085d9(0xb19)][_0x4085d9(0x7a9)](_0x2e0434,_0x25722a);this[_0x4085d9(0x3aa)][_0x4085d9(0x289)]({'sourceId':this[_0x4085d9(0x57f)][_0x4085d9(0xa8a)]['getId'](),'destinationIds':[_0x2e0434],'messageType':_0x158cb7[_0x4085d9(0x4a6)],'content':_0x20e597});}[_0x29fc43(0xae5)](_0x1aaf7f,_0x14aebe){const _0x5af921=_0x29fc43;this[_0x5af921(0x1b0)](_0x1aaf7f,_0x14aebe),this[_0x5af921(0x5ce)](_0x1aaf7f,_0x14aebe);}[_0x29fc43(0xa3d)]({id:_0x360dff}){const _0x3d78f0=_0x29fc43;this[_0x3d78f0(0x69f)][_0x3d78f0(0xa3d)](_0x360dff),this[_0x3d78f0(0xb19)][_0x3d78f0(0xa3d)](_0x360dff);}}class _0x176851{[_0x29fc43(0x12a)];[_0x29fc43(0x8d2)]=_0x2d590d();constructor(){const _0x5d3fea=_0x29fc43;this[_0x5d3fea(0x12a)]=0x0;}[_0x29fc43(0x858)](){const _0xc250=_0x29fc43;return this[_0xc250(0x12a)];}[_0x29fc43(0x5f5)](){const _0x350ab6=_0x29fc43;return _0x47b47a[_0x350ab6(0x43d)]['Data'];}['registerSource'](_0xddf66){const _0x37a5ed=_0x29fc43;_0xddf66[_0x37a5ed(0x911)](this);}[_0x29fc43(0x9f8)](_0x32bfe4){const _0x55491c=_0x29fc43;_0x32bfe4[_0x55491c(0x3c7)]();}[_0x29fc43(0x289)](_0x286da3){const _0x2cfdd8=_0x29fc43;_0xb63eee[_0x2cfdd8(0x195)](_0x30994c['Events'],_0x2cfdd8(0x62d),_0x286da3[_0x2cfdd8(0xad5)],_0x286da3),this[_0x2cfdd8(0x8d2)][_0x2cfdd8(0x289)]({'topicLabel':this[_0x2cfdd8(0x12a)],'contentType':_0x47b47a[_0x2cfdd8(0x43d)][_0x2cfdd8(0xa7d)],'uuid':_0x286da3[_0x2cfdd8(0x5f0)]??(0x0,_0x3adee5['v4'])(),'recipients':_0x286da3[_0x2cfdd8(0x27c)]??[],..._0x286da3});}[_0x29fc43(0x75e)](_0x27600a){const _0x4125bb=_0x29fc43;return this['listener'][_0x4125bb(0x75e)](_0x27600a);}}class _0x504079{['options'];['ranges']=[];[_0x29fc43(0x15c)];[_0x29fc43(0x247)]=new Map();[_0x29fc43(0x9b3)]=_0x2d590d();constructor(_0x33d1d7){const _0x59024f=_0x29fc43;this[_0x59024f(0x936)]=_0x33d1d7,this[_0x59024f(0x15c)]=(this['options'][_0x59024f(0x255)]-0x2*this[_0x59024f(0x936)][_0x59024f(0x2e5)])/0x2,this[_0x59024f(0x13f)][_0x59024f(0x9f9)]({'start':0x1,'end':this[_0x59024f(0xad4)](0x1,0x1)-0x1});for(let _0x5ce16b=0x0;_0x5ce16b<this[_0x59024f(0x15c)];++_0x5ce16b)this[_0x59024f(0x13f)]['push']({'start':this[_0x59024f(0xad4)](0x1,_0x5ce16b+0x1),'end':this['getNextTargetRank'](0x1,_0x5ce16b+0x2)-0x1});}['getNextTargetRank'](_0x4c6ebb,_0x4ead2c=0x1){const _0x265e1b=_0x29fc43;let _0x849a76=this[_0x265e1b(0x936)]['maxDistance']-this[_0x265e1b(0x936)][_0x265e1b(0x2e5)],_0x5bd5fc=0x1;for(let _0x2d6d88=0x1;_0x2d6d88<_0x4ead2c;++_0x2d6d88)_0x849a76*=this[_0x265e1b(0x936)]['maxDistance']-this[_0x265e1b(0x936)][_0x265e1b(0x2e5)]-_0x2d6d88,_0x5bd5fc*=this[_0x265e1b(0x936)]['maxDistance']-this[_0x265e1b(0x936)][_0x265e1b(0x2e5)]-_0x2d6d88+0x1;return _0x849a76*this['options']['minConnections']+_0x4c6ebb-_0x5bd5fc;}[_0x29fc43(0x39b)](_0x38fe9e){const _0x3a9056=_0x29fc43;let _0x1c2cf8=0x0;for(;this[_0x3a9056(0x13f)][_0x1c2cf8][_0x3a9056(0x945)]<_0x38fe9e;)_0x1c2cf8+=0x1;return _0x1c2cf8;}['getMinConnections'](){const _0x5c69cc=_0x29fc43;return this[_0x5c69cc(0x936)][_0x5c69cc(0x2e5)];}['getMaxConnections'](){const _0x3914b3=_0x29fc43;return this[_0x3914b3(0x936)]['maxConnections'];}[_0x29fc43(0x928)](){const _0x57da48=_0x29fc43;return this[_0x57da48(0x936)][_0x57da48(0x510)];}[_0x29fc43(0x301)](){const _0x416cf4=_0x29fc43;return this[_0x416cf4(0x247)];}[_0x29fc43(0x9fe)](_0x5a8edf,_0x5189d5){const _0x30799b=_0x29fc43;this['remoteNodes']['set'](_0x5a8edf,_0x5189d5),this[_0x30799b(0x9b3)]['publish']();}[_0x29fc43(0x6e6)](_0x2135c9){const _0x52ffb9=_0x29fc43;this[_0x52ffb9(0x247)]['delete'](_0x2135c9),this[_0x52ffb9(0x9b3)][_0x52ffb9(0x289)]();}[_0x29fc43(0x486)](_0x4e8902){const _0x49abbd=_0x29fc43;return this[_0x49abbd(0x247)][_0x49abbd(0x716)](_0x4e8902);}[_0x29fc43(0x761)](_0x4f15de){const _0x5e9149=_0x29fc43;return this[_0x5e9149(0x247)][_0x5e9149(0x2a2)](_0x4f15de);}[_0x29fc43(0x4ad)](_0x4fa8c0,_0xfdd99a){const _0x3948f6=_0x29fc43,_0x4ac14a=this[_0x3948f6(0x761)](_0xfdd99a)?.[_0x3948f6(0x1b3)]()??0x0;return _0x4fa8c0[_0x3948f6(0x170)](_0x25947e=>this[_0x3948f6(0x761)](_0x25947e))[_0x3948f6(0x81c)](_0x1a3a0a=>void 0x0!==_0x1a3a0a)[_0x3948f6(0xb06)]((_0x11a513,_0x4f7040)=>Math['abs'](_0x4ac14a-(_0x11a513&&_0x11a513[_0x3948f6(0x1b3)]()||0x1/0x0))-Math[_0x3948f6(0x2be)](_0x4ac14a-(_0x4f7040&&_0x4f7040[_0x3948f6(0x1b3)]()||0x1/0x0)))[_0x3948f6(0x170)](_0x3bff40=>_0x3bff40['getId']());}[_0x29fc43(0x9e0)](_0x2dbd30){const _0x4756de=_0x29fc43;return this[_0x4756de(0x9b3)][_0x4756de(0x75e)](_0x2dbd30);}}class _0x3df746{[_0x29fc43(0x117)];['clusterId'];['authNode'];[_0x29fc43(0x67d)];['options'];[_0x29fc43(0x57f)];['clusterEventEmitter'];[_0x29fc43(0x8ff)];[_0x29fc43(0xa0e)];[_0x29fc43(0x1cd)];[_0x29fc43(0x1cf)];[_0x29fc43(0x5a0)];[_0x29fc43(0x3e0)];[_0x29fc43(0x61e)];[_0x29fc43(0x248)];[_0x29fc43(0x3aa)]=new _0x176851();[_0x29fc43(0x7b4)];[_0x29fc43(0xa8a)];constructor(_0x48967a,_0x41a56b,_0x141b6e,_0xfd3284,_0x20812a,_0xdcc401,_0x5915da){const _0x1da06b=_0x29fc43;switch(this['vendorId']=_0x48967a,this[_0x1da06b(0x93b)]=_0x41a56b,this[_0x1da06b(0x6ba)]=_0x141b6e,this[_0x1da06b(0x67d)]=_0xfd3284,this[_0x1da06b(0x936)]=_0x20812a,this[_0x1da06b(0x57f)]=_0xdcc401,this[_0x1da06b(0x5d3)]=_0x5915da,_0x141b6e['type']){case _0x47b47a['NodeType'][_0x1da06b(0x4af)]:this[_0x1da06b(0xa8a)]=new _0x3a8c09(_0x141b6e[_0x1da06b(0x994)](),_0x141b6e['getDisplayName'](),_0x141b6e['getEmail']());break;case _0x47b47a[_0x1da06b(0x394)]['Agent']:default:this[_0x1da06b(0xa8a)]=new _0x3d3347(_0x141b6e['getId']());}const _0x1cde66=this['getConfigs']();this[_0x1da06b(0x248)]=new _0x504079(this[_0x1da06b(0x936)]),this['contentManager']=new _0x16bbf5(_0x1cde66,this['options']),this[_0x1da06b(0xa0e)]=new _0x3e6e97(_0x1cde66,this['authService'],this[_0x1da06b(0x248)],this[_0x1da06b(0x57f)][_0x1da06b(0x676)],this[_0x1da06b(0x936)]),this[_0x1da06b(0x1cd)]=new _0x244060(_0x1cde66,this[_0x1da06b(0x936)][_0x1da06b(0x55e)],this['graphService'][_0x1da06b(0x928)]()),this[_0x1da06b(0x1cf)]=new _0x3115d9(_0x1cde66),this[_0x1da06b(0x5a0)]=new _0x125f48(_0x1cde66),this['remediationManager']=new _0x509388(_0x1cde66),this[_0x1da06b(0x61e)]=new _0x48f266(_0x1cde66,this[_0x1da06b(0x248)]),this['systemTopicUnsubscribe']=this[_0x1da06b(0x65d)]();}['open'](){const _0x1e56aa=_0x29fc43,_0x444f7a=this[_0x1e56aa(0x916)]();this[_0x1e56aa(0xa0e)]=new _0x3e6e97(_0x444f7a,this[_0x1e56aa(0x67d)],this['graphService'],this[_0x1e56aa(0x57f)]['iceServers'],this[_0x1e56aa(0x936)]),this['subscriptionManager']=new _0x244060(_0x444f7a,this['options'][_0x1e56aa(0x55e)],this['graphService'][_0x1e56aa(0x928)]()),this[_0x1e56aa(0x1cf)]=new _0x3115d9(_0x444f7a),this[_0x1e56aa(0x5a0)]=new _0x125f48(_0x444f7a),this[_0x1e56aa(0x3e0)]=new _0x509388(_0x444f7a),this[_0x1e56aa(0x61e)]=new _0x48f266(_0x444f7a,this[_0x1e56aa(0x248)]);const _0x188daa=this['connectionManager'][_0x1e56aa(0x567)]();this[_0x1e56aa(0x8ff)][_0x1e56aa(0xb16)]()[_0x1e56aa(0x7f9)](_0x46b3dc=>{const _0x393d2b=_0x1e56aa;this[_0x393d2b(0x1cd)]['createOutgoingSubscription'](_0x46b3dc,_0x188daa),this['subscriptionManager'][_0x393d2b(0x497)](_0x188daa,_0x46b3dc),_0x46b3dc['reset']();}),this['contentManager'][_0x1e56aa(0x843)]()['forEach'](_0x23ad30=>{const _0x337fab=_0x1e56aa;this[_0x337fab(0x1cd)][_0x337fab(0xaa5)](_0x23ad30,_0x188daa),this['subscriptionManager'][_0x337fab(0x497)](_0x188daa,_0x23ad30),_0x23ad30['reset'](),_0x23ad30[_0x337fab(0xb1e)]();}),this[_0x1e56aa(0x8ff)][_0x1e56aa(0x47b)]()['forEach'](_0x3aab72=>{const _0x58e099=_0x1e56aa;this['subscriptionManager'][_0x58e099(0xaa5)](_0x3aab72,_0x188daa),this[_0x58e099(0x1cd)][_0x58e099(0x497)](_0x188daa,_0x3aab72),_0x3aab72['reset'](),this[_0x58e099(0x5d2)](_0x3aab72);}),this[_0x1e56aa(0x8ff)][_0x1e56aa(0x5ad)]()['forEach'](_0x561ea7=>{const _0x453593=_0x1e56aa;this[_0x453593(0x1cd)][_0x453593(0xaa5)](_0x561ea7,_0x188daa),this['subscriptionManager'][_0x453593(0x497)](_0x188daa,_0x561ea7),_0x561ea7[_0x453593(0x94c)]();}),this['contentManager'][_0x1e56aa(0xaae)]()[_0x1e56aa(0x7f9)](_0x362e83=>{const _0x277784=_0x1e56aa;this[_0x277784(0x1cd)][_0x277784(0xaa5)](_0x362e83,_0x188daa),this[_0x277784(0x1cd)][_0x277784(0x497)](_0x188daa,_0x362e83),_0x362e83['reset']();}),this[_0x1e56aa(0x8ff)][_0x1e56aa(0x6ee)]()[_0x1e56aa(0x7f9)](_0x4d098b=>{const _0x4b3872=_0x1e56aa;this[_0x4b3872(0x1cd)]['createOutgoingSubscription'](_0x4d098b,_0x188daa),this[_0x4b3872(0x1cd)][_0x4b3872(0x497)](_0x188daa,_0x4d098b),_0x4d098b['reset']();}),this[_0x1e56aa(0x8ff)][_0x1e56aa(0x590)]()[_0x1e56aa(0x7f9)](_0x3fb0b3=>{const _0x141d85=_0x1e56aa;this[_0x141d85(0x1cd)][_0x141d85(0xaa5)](_0x3fb0b3,_0x188daa),this[_0x141d85(0x1cd)][_0x141d85(0x497)](_0x188daa,_0x3fb0b3),_0x3fb0b3['reset']();}),this[_0x1e56aa(0x7b4)]=this['initializeSystemTopic']();}[_0x29fc43(0x900)](_0x45d3fa){const _0x25e943=_0x29fc43;try{this[_0x25e943(0x3aa)]['registerSource'](_0x45d3fa);}catch(_0x5d1065){this[_0x25e943(0x4c8)](_0x5d1065,{});}}[_0x29fc43(0x1b1)](_0x1c8d78){const _0x23d400=_0x29fc43;try{this[_0x23d400(0x3aa)][_0x23d400(0x9f8)](_0x1c8d78);}catch(_0x14344e){this[_0x23d400(0x4c8)](_0x14344e,{});}}[_0x29fc43(0x27a)](_0x1ec8ab,_0xb1c964){const _0x53fdaf=_0x29fc43;return this[_0x53fdaf(0xa0e)][_0x53fdaf(0x27a)](_0x1ec8ab,_0xb1c964);}['getConnection'](_0x29067e){const _0x3f76ad=_0x29fc43;try{return this[_0x3f76ad(0xa0e)][_0x3f76ad(0x8e6)](_0x29067e);}catch(_0x58550b){throw this[_0x3f76ad(0x4c8)](_0x58550b,{});}}[_0x29fc43(0x784)](_0x1f1c2b){const _0x4a0db2=_0x29fc43;try{return this[_0x4a0db2(0xa0e)]['getConnections'](_0x1f1c2b);}catch(_0x2b33e4){throw this[_0x4a0db2(0x4c8)](_0x2b33e4,{});}}[_0x29fc43(0x2b3)](_0x454cb0,_0x31b42b){const _0x1a9b7f=_0x29fc43;try{return this[_0x1a9b7f(0x8ff)][_0x1a9b7f(0x974)](_0x453a20=>_0x453a20['getOwnerId']()===_0x454cb0&&_0x453a20[_0x1a9b7f(0x858)]()===_0x31b42b)[0x0];}catch(_0x53ee1f){throw this[_0x1a9b7f(0x4c8)](_0x53ee1f,{});}}['getLocalMediaStream'](_0x4d9d8f){const _0x49c29b=_0x29fc43;try{return this['contentManager'][_0x49c29b(0xa98)](_0x542290=>_0x542290['getLabel']()===_0x4d9d8f)[0x0];}catch(_0x1a6a8d){throw this[_0x49c29b(0x4c8)](_0x1a6a8d,{});}}[_0x29fc43(0x551)]=(..._0x3f1305)=>{const _0x2f13eb=_0x29fc43;try{return this['clusterEventEmitter']['emit'](..._0x3f1305);}catch(_0x25166d){throw this[_0x2f13eb(0x4c8)](_0x25166d,{});}};[_0x29fc43(0x6bd)](_0x3a7e11){const _0xe1aeb1=_0x29fc43;try{this[_0xe1aeb1(0x1cf)][_0xe1aeb1(0x932)](_0x3a7e11);}catch(_0x14e264){throw this[_0xe1aeb1(0x4c8)](_0x14e264,{});}}[_0x29fc43(0x9e6)](_0x4e08f7){const _0x13e007=_0x29fc43;try{this['statsManager'][_0x13e007(0x6fc)](_0x4e08f7);}catch(_0x432ecc){throw this[_0x13e007(0x4c8)](_0x432ecc,{});}}[_0x29fc43(0x870)](_0x3bb874){const _0x4da44a=_0x29fc43;return this[_0x4da44a(0xa0e)][_0x4da44a(0x870)](_0x3bb874);}async['initialize'](){const _0x42d92e=_0x29fc43;try{await this[_0x42d92e(0xa0e)][_0x42d92e(0x918)]();const _0x393b90=await this[_0x42d92e(0x61e)][_0x42d92e(0x7b1)]();for(const _0x37d403 of _0x393b90)this[_0x42d92e(0xa0e)]['createConnection'](_0x37d403);}catch(_0x1c401e){throw this[_0x42d92e(0x4c8)](_0x1c401e,{});}}[_0x29fc43(0xa33)](_0x50b3ee){const _0x26b5c9=_0x29fc43;this[_0x26b5c9(0xa8a)][_0x26b5c9(0xacf)]===_0x47b47a['NodeType'][_0x26b5c9(0x4af)]&&(this['localNode'][_0x26b5c9(0x977)](_0x50b3ee[_0x26b5c9(0x929)]()),this[_0x26b5c9(0xa8a)][_0x26b5c9(0x600)](_0x50b3ee['getDisplayName']()));}[_0x29fc43(0xb1b)]({force:_0x177a06=!0x1},_0x294496=!0x1){const _0x11651b=_0x29fc43;if(_0xb63eee[_0x11651b(0x55c)](_0x11651b(0x173),{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x11651b(0x994)](),'nodeType':this[_0x11651b(0xa8a)]['type']}),!_0x177a06&&this[_0x11651b(0xa0e)][_0x11651b(0xafd)]())throw new _0x27674c(_0x3d6c7a['ConnectionBufferNotEmpty'],_0x11651b(0xaee));_0xb63eee[_0x11651b(0x9d0)](),this[_0x11651b(0x7b4)](),this['remediationManager'][_0x11651b(0xb1b)](),this[_0x11651b(0x5a0)][_0x11651b(0xb1b)](),this[_0x11651b(0x1cf)]['close'](),this[_0x11651b(0x1cd)]['close'](),this[_0x11651b(0xa0e)][_0x11651b(0xb1b)](),this[_0x11651b(0x8ff)][_0x11651b(0xb1b)](_0x294496),this['nodeManager'][_0x11651b(0xb1b)]();}['openPubSubTopic'](_0x472a91){const _0x5d6db1=_0x29fc43;try{const _0x40b8da=this['contentManager']['createPubSubTopic'](_0x472a91),_0x20bc8d=this[_0x5d6db1(0xa0e)][_0x5d6db1(0x567)]();return this['subscriptionManager'][_0x5d6db1(0xaa5)](_0x40b8da,_0x20bc8d),this['subscriptionManager'][_0x5d6db1(0x497)](_0x20bc8d,_0x40b8da),_0x40b8da;}catch(_0x1bd3ca){throw this['handleError'](_0x1bd3ca,{});}}async[_0x29fc43(0xab0)](_0x4017e2,_0x508c77){const _0x3baa6f=_0x29fc43;try{const _0x5f5728=this[_0x3baa6f(0x8ff)][_0x3baa6f(0x21c)](_0x4017e2,this[_0x3baa6f(0x936)][_0x3baa6f(0x407)],_0x508c77),_0x369a94=this[_0x3baa6f(0xa0e)]['getConnectionGroup']();return this[_0x3baa6f(0x1cd)][_0x3baa6f(0xaa5)](_0x5f5728,_0x369a94),this[_0x3baa6f(0x1cd)]['createIncomingSubscription'](_0x369a94,_0x5f5728),await _0x5f5728[_0x3baa6f(0xb1e)](),_0x5f5728;}catch(_0x22c6d4){throw this[_0x3baa6f(0x4c8)](_0x22c6d4,{});}}async[_0x29fc43(0x3a6)](_0xb0d628,_0x24955b){const _0x1812e2=_0x29fc43;try{if(!this[_0x1812e2(0x936)]['externalStorageConnectors'])throw new _0x27674c(_0x3d6c7a[_0x1812e2(0x164)],_0x1812e2(0x8bb));if(!(this[_0x1812e2(0x6ba)]instanceof _0xbd252f))throw new _0x27674c(_0x3d6c7a[_0x1812e2(0x9da)],_0x1812e2(0x838));const _0x2df4b0=this[_0x1812e2(0x936)][_0x1812e2(0x8cd)][_0x1812e2(0x2a2)](_0x24955b);if(!_0x2df4b0)throw new _0x27674c(_0x3d6c7a[_0x1812e2(0x164)],_0x1812e2(0x8bb));const _0x3a3adc=this[_0x1812e2(0x8ff)][_0x1812e2(0x802)](_0xb0d628,_0x2df4b0),_0x51e3a1=this[_0x1812e2(0xa0e)][_0x1812e2(0x567)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x3a3adc,_0x51e3a1),this[_0x1812e2(0x1cd)][_0x1812e2(0x497)](_0x51e3a1,_0x3a3adc),await _0x3a3adc['open'](),_0x3a3adc;}catch(_0x617697){throw this[_0x1812e2(0x4c8)](_0x617697,{});}}async['openKeyValueDatabase'](_0x1b92f9,_0x40fac5,_0x3067f4){const _0x3db802=_0x29fc43;try{_0x3067f4=_0x3067f4||this[_0x3db802(0x936)][_0x3db802(0x706)];const _0x1e5ab=await this[_0x3db802(0x8ff)][_0x3db802(0xa1e)](_0x1b92f9,_0x40fac5,_0x3067f4),_0x150c5e=this[_0x3db802(0xa0e)][_0x3db802(0x567)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x1e5ab,_0x150c5e),this[_0x3db802(0x1cd)][_0x3db802(0x497)](_0x150c5e,_0x1e5ab),await _0x1e5ab[_0x3db802(0x98b)](),this['syncKeyValueDatabase'](_0x1e5ab),_0x1e5ab;}catch(_0x1bd1be){throw this[_0x3db802(0x4c8)](_0x1bd1be,{});}}async['openJobDispatcher'](_0x84f4cf){const _0x4287bd=_0x29fc43;try{const _0x1cb762=await this[_0x4287bd(0x8ff)][_0x4287bd(0xa3e)](_0x84f4cf,this[_0x4287bd(0x248)]),_0xa0fab2=this[_0x4287bd(0xa0e)][_0x4287bd(0x567)]();return this[_0x4287bd(0x1cd)][_0x4287bd(0xaa5)](_0x1cb762,_0xa0fab2),this['subscriptionManager'][_0x4287bd(0x497)](_0xa0fab2,_0x1cb762),_0x1cb762[_0x4287bd(0x98b)](),_0x1cb762;}catch(_0x4a91d0){throw this[_0x4287bd(0x4c8)](_0x4a91d0,{});}}async[_0x29fc43(0x33c)](_0x5ce4c7){const _0x5b6020=_0x29fc43;throw new Error(_0x5b6020(0x33a));}async[_0x29fc43(0x231)](_0x1a0dfa){const _0x21357c=_0x29fc43;try{const _0x351465=await this[_0x21357c(0x8ff)][_0x21357c(0xa9f)](_0x1a0dfa,this[_0x21357c(0x248)]),_0x4ed2f2=this[_0x21357c(0xa0e)][_0x21357c(0x567)]();return this[_0x21357c(0x1cd)][_0x21357c(0xaa5)](_0x351465,_0x4ed2f2),this[_0x21357c(0x1cd)]['createIncomingSubscription'](_0x4ed2f2,_0x351465),_0x351465[_0x21357c(0x98b)](),_0x351465;}catch(_0x1cd48b){throw console['error'](_0x1cd48b),this[_0x21357c(0x4c8)](_0x1cd48b,{});}}async[_0x29fc43(0x16a)](_0x9ceaee){const _0x400397=_0x29fc43;try{if(!(this[_0x400397(0x936)][_0x400397(0x80f)]&&this[_0x400397(0x936)]['documentParserConnector']&&this['options'][_0x400397(0x6a8)]&&this[_0x400397(0x936)][_0x400397(0x4dc)]))throw new _0x27674c(_0x3d6c7a[_0x400397(0xa21)],'Missing\x20AI\x20worker\x20connector');if(!this['configs']['openaiApiKey'])throw new _0x27674c(_0x3d6c7a[_0x400397(0x5f2)],_0x400397(0x8a1));const _0x4dd065=[];for(const [_0x520d01,_0x225157]of this[_0x400397(0x936)][_0x400397(0x80f)]){let _0x321d02;_0x520d01===_0x47b47a[_0x400397(0x5b2)][_0x400397(0x218)]&&(_0x321d02=this[_0x400397(0x57f)][_0x400397(0xb01)]),_0x520d01===_0x47b47a[_0x400397(0x5b2)][_0x400397(0x9cb)]&&(_0x321d02=this[_0x400397(0x57f)][_0x400397(0x4c9)]),_0x4dd065[_0x400397(0x9f9)](new _0x225157(_0x321d02));}const _0x3d55ab=new this['options'][(_0x400397(0x407))](_0x400397(0x553)),_0xb969fd=new this[(_0x400397(0x936))][(_0x400397(0x7a4))](),_0x5a7791=new this[(_0x400397(0x936))][(_0x400397(0x6a8))](this[_0x400397(0x57f)]['openaiApiKey']),_0x2e39dd=new this[(_0x400397(0x936))]['nlpLibraryConnector']();let _0x38a692,_0x1cff92,_0x3ef6a1,_0x23c3ac;if(this[_0x400397(0x936)]['searchConnector']){if(!this[_0x400397(0x57f)]['searchApiKey'])throw new _0x27674c(_0x3d6c7a[_0x400397(0x5f2)],'Missing\x20search\x20API\x20key');_0x38a692=new this[(_0x400397(0x936))][(_0x400397(0x5dd))](this[_0x400397(0x57f)][_0x400397(0x150)]);}if(this[_0x400397(0x936)][_0x400397(0x8cc)]){if(!this[_0x400397(0x57f)][_0x400397(0x948)])throw new _0x27674c(_0x3d6c7a[_0x400397(0x5f2)],'Missing\x20AI\x20search\x20API\x20key');_0x1cff92=new this[(_0x400397(0x936))][(_0x400397(0x8cc))](this[_0x400397(0x57f)][_0x400397(0x948)]);}if(this[_0x400397(0x936)][_0x400397(0x80e)]&&(_0x3ef6a1=new this[(_0x400397(0x936))]['queryFileConnector']()),this[_0x400397(0x936)][_0x400397(0x69e)]){if(!this[_0x400397(0x57f)]['ragApiKey'])throw new _0x27674c(_0x3d6c7a['ApiKeyMissing'],_0x400397(0x8d6));_0x23c3ac=new Map();for(const [_0x1f6beb,_0x5360e2]of this[_0x400397(0x936)][_0x400397(0x69e)])_0x23c3ac[_0x400397(0x355)](_0x1f6beb,new _0x5360e2(this[_0x400397(0x57f)]['ragApiKey']));}return await this[_0x400397(0x8ff)]['createGenerativeAIContextStandalone'](_0x9ceaee,_0x4dd065,_0x3d55ab,_0xb969fd,_0x5a7791,_0x2e39dd,_0x38a692,_0x1cff92,_0x3ef6a1,_0x23c3ac,this['configs'][_0x400397(0xb01)]);}catch(_0x285d1f){throw this['handleError'](_0x285d1f,{});}}async[_0x29fc43(0x9f3)](_0x586c17){const _0x42a680=_0x29fc43;try{if(!(this[_0x42a680(0x936)][_0x42a680(0x80f)]&&this[_0x42a680(0x936)][_0x42a680(0x7a4)]&&this['options'][_0x42a680(0x6a8)]&&this[_0x42a680(0x936)][_0x42a680(0x4dc)]))throw new _0x27674c(_0x3d6c7a[_0x42a680(0xa21)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x42a680(0x6ba)]instanceof _0xbd252f))throw new _0x27674c(_0x3d6c7a[_0x42a680(0x9da)],_0x42a680(0x838));if(!this['configs'][_0x42a680(0xb01)])throw new _0x27674c(_0x3d6c7a['ApiKeyMissing'],_0x42a680(0x8a1));const _0x3d6350=[];for(const [_0x177a9b,_0x22d4ba]of this[_0x42a680(0x936)][_0x42a680(0x80f)]){let _0x2adbf2;_0x177a9b===_0x47b47a[_0x42a680(0x5b2)][_0x42a680(0x218)]&&(_0x2adbf2=this[_0x42a680(0x57f)][_0x42a680(0xb01)]),_0x177a9b===_0x47b47a[_0x42a680(0x5b2)][_0x42a680(0x9cb)]&&(_0x2adbf2=this[_0x42a680(0x57f)][_0x42a680(0x4c9)]),_0x3d6350[_0x42a680(0x9f9)](new _0x22d4ba(_0x2adbf2));}const _0xe42b15=new this[(_0x42a680(0x936))][(_0x42a680(0x407))]('crewdle'),_0x2e7269=new this[(_0x42a680(0x936))]['documentParserConnector'](),_0x35d547=new this[(_0x42a680(0x936))][(_0x42a680(0x6a8))](this['configs']['openaiApiKey']),_0x1cdb77=new this[(_0x42a680(0x936))]['nlpLibraryConnector']();let _0x5111b8,_0x543228,_0x31cd4a,_0x7afc7e;if(this[_0x42a680(0x936)][_0x42a680(0x5dd)]){if(!this['configs']['searchApiKey'])throw new _0x27674c(_0x3d6c7a[_0x42a680(0x5f2)],_0x42a680(0x539));_0x5111b8=new this[(_0x42a680(0x936))][(_0x42a680(0x5dd))](this[_0x42a680(0x57f)][_0x42a680(0x150)]);}if(this['options'][_0x42a680(0x8cc)]){if(!this['configs'][_0x42a680(0x948)])throw new _0x27674c(_0x3d6c7a[_0x42a680(0x5f2)],_0x42a680(0x6d3));_0x543228=new this['options'][(_0x42a680(0x8cc))](this[_0x42a680(0x57f)][_0x42a680(0x948)]);}if(this[_0x42a680(0x936)][_0x42a680(0x80e)]&&(_0x31cd4a=new this[(_0x42a680(0x936))]['queryFileConnector']()),this[_0x42a680(0x936)][_0x42a680(0x69e)]){if(!this[_0x42a680(0x57f)][_0x42a680(0x6a0)])throw new _0x27674c(_0x3d6c7a[_0x42a680(0x5f2)],_0x42a680(0x8d6));_0x7afc7e=new Map();for(const [_0x361291,_0x5e24ce]of this[_0x42a680(0x936)][_0x42a680(0x69e)])_0x7afc7e[_0x42a680(0x355)](_0x361291,new _0x5e24ce(this[_0x42a680(0x57f)][_0x42a680(0x6a0)]));}const _0x4ac05c=await this[_0x42a680(0x8ff)][_0x42a680(0x415)](_0x586c17,this[_0x42a680(0x6ba)],_0x3d6350,_0xe42b15,_0x2e7269,_0x35d547,_0x1cdb77,_0x5111b8,_0x543228,_0x31cd4a,_0x7afc7e,this[_0x42a680(0x57f)][_0x42a680(0xb01)]),_0x399f1b=this[_0x42a680(0xa0e)][_0x42a680(0x567)]();this[_0x42a680(0x1cd)]['createOutgoingSubscription'](_0x4ac05c,_0x399f1b),this[_0x42a680(0x1cd)][_0x42a680(0x497)](_0x399f1b,_0x4ac05c);const _0x5ea793=this[_0x42a680(0x61e)][_0x42a680(0xa51)]();return await _0x4ac05c[_0x42a680(0x98b)](0x0===_0x5ea793[_0x42a680(0x4c5)]||void 0x0),_0x4ac05c;}catch(_0x26e315){throw this['handleError'](_0x26e315,{});}}[_0x29fc43(0x6fe)](_0x6e41af){const _0xbc8af6=_0x29fc43;try{if(!this[_0xbc8af6(0x936)][_0xbc8af6(0x1c2)])throw new _0x27674c(_0x3d6c7a['GraphDatabaseMissingConnector'],_0xbc8af6(0x8da));if(!(this[_0xbc8af6(0x6ba)]instanceof _0xbd252f))throw new _0x27674c(_0x3d6c7a['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x5374e5=this[_0xbc8af6(0x8ff)][_0xbc8af6(0xaf4)](_0x6e41af,this[_0xbc8af6(0x936)][_0xbc8af6(0x1c2)]),_0x5625f9=this[_0xbc8af6(0xa0e)][_0xbc8af6(0x567)]();return this[_0xbc8af6(0x1cd)][_0xbc8af6(0xaa5)](_0x5374e5,_0x5625f9),this[_0xbc8af6(0x1cd)]['createIncomingSubscription'](_0x5625f9,_0x5374e5),_0x5374e5;}catch(_0x338da5){throw this[_0xbc8af6(0x4c8)](_0x338da5,{});}}[_0x29fc43(0x27b)](_0x4a1cfc){const _0x241f40=_0x29fc43;try{if(!this['options'][_0x241f40(0x28e)])throw new _0x27674c(_0x3d6c7a[_0x241f40(0x3e3)],'Missing\x20vector\x20database\x20connector');if(!(this[_0x241f40(0x6ba)]instanceof _0xbd252f))throw new _0x27674c(_0x3d6c7a['NodeInvalidType'],_0x241f40(0x838));const _0x59d6b9=this[_0x241f40(0x8ff)][_0x241f40(0x6a7)](_0x4a1cfc,this[_0x241f40(0x936)]['vectorDatabaseConnector']),_0x42394f=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager'][_0x241f40(0xaa5)](_0x59d6b9,_0x42394f),this[_0x241f40(0x1cd)]['createIncomingSubscription'](_0x42394f,_0x59d6b9),_0x59d6b9;}catch(_0x2875f6){throw this[_0x241f40(0x4c8)](_0x2875f6,{});}}[_0x29fc43(0xb16)](_0x4a37ef){const _0x345f71=_0x29fc43;try{return this[_0x345f71(0x8ff)][_0x345f71(0xb16)](_0x4a37ef);}catch(_0x1d2e94){throw this[_0x345f71(0x4c8)](_0x1d2e94,{});}}[_0x29fc43(0x843)](_0x2bb99e){const _0xaa14c3=_0x29fc43;try{return this[_0xaa14c3(0x8ff)][_0xaa14c3(0x843)](_0x2bb99e);}catch(_0x4fe08e){throw this[_0xaa14c3(0x4c8)](_0x4fe08e,{});}}[_0x29fc43(0xaf1)](_0x3098a5){const _0x27cbd6=_0x29fc43;try{return this[_0x27cbd6(0x8ff)]['getExternalStorageConnections'](_0x3098a5);}catch(_0x20a40c){throw this[_0x27cbd6(0x4c8)](_0x20a40c,{});}}[_0x29fc43(0x47b)](_0x5c6bdc){const _0x1a8aad=_0x29fc43;try{return this[_0x1a8aad(0x8ff)]['getKeyValueDatabases'](_0x5c6bdc);}catch(_0x173f79){throw this[_0x1a8aad(0x4c8)](_0x173f79,{});}}[_0x29fc43(0x9d1)](_0x1b672f){const _0x250106=_0x29fc43;try{return this[_0x250106(0x8ff)][_0x250106(0x9d1)](_0x1b672f);}catch(_0x5c6720){throw this['handleError'](_0x5c6720,{});}}[_0x29fc43(0x232)](_0x3132e0){const _0x4774c3=_0x29fc43;try{return this['contentManager'][_0x4774c3(0x232)](_0x3132e0);}catch(_0x10176b){throw this[_0x4774c3(0x4c8)](_0x10176b,{});}}[_0x29fc43(0x188)](_0x12b5ab){const _0x17567b=_0x29fc43;try{return this[_0x17567b(0x8ff)][_0x17567b(0x188)](_0x12b5ab);}catch(_0x4d267b){throw this[_0x17567b(0x4c8)](_0x4d267b,{});}}[_0x29fc43(0x590)](_0x13cda5){const _0x4a8506=_0x29fc43;try{return this[_0x4a8506(0x8ff)][_0x4a8506(0x590)](_0x13cda5);}catch(_0x5d9a19){throw this[_0x4a8506(0x4c8)](_0x5d9a19,{});}}['createLocalMediaStream'](_0x1f354c,_0x345b2a){const _0x26c0c6=_0x29fc43;if(!this[_0x26c0c6(0x57f)][_0x26c0c6(0x282)][_0x26c0c6(0x3a7)](_0xb7b959[_0x26c0c6(0x133)]))throw new _0x27674c(_0x3d6c7a[_0x26c0c6(0x7eb)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x26c0c6(0x8ff)]['createLocalMediaStream'](_0x1f354c,_0x345b2a);}catch(_0x3e913f){throw this[_0x26c0c6(0x4c8)](_0x3e913f,{});}}['createLocalDynamicMediaStream'](_0x16d8e4,_0x5d8ca3){const _0x2198b2=_0x29fc43;if(!this[_0x2198b2(0x57f)]['features'][_0x2198b2(0x3a7)](_0xb7b959[_0x2198b2(0x133)]))throw new _0x27674c(_0x3d6c7a[_0x2198b2(0x7eb)],_0x2198b2(0x56c));try{return this[_0x2198b2(0x8ff)][_0x2198b2(0x545)](_0x16d8e4,_0x5d8ca3);}catch(_0x2d2a21){throw this[_0x2198b2(0x4c8)](_0x2d2a21,{});}}[_0x29fc43(0xa98)](_0x95b97e){const _0x587385=_0x29fc43;if(!this['configs'][_0x587385(0x282)][_0x587385(0x3a7)](_0xb7b959[_0x587385(0x133)]))throw new _0x27674c(_0x3d6c7a['FeatureNotEnabled'],_0x587385(0x56c));try{return this[_0x587385(0x8ff)][_0x587385(0xa98)](_0x95b97e);}catch(_0x5652ed){throw this[_0x587385(0x4c8)](_0x5652ed,{});}}[_0x29fc43(0x974)](_0x528da7){const _0x4e0b37=_0x29fc43;if(!this['configs'][_0x4e0b37(0x282)][_0x4e0b37(0x3a7)](_0xb7b959[_0x4e0b37(0x133)]))throw new _0x27674c(_0x3d6c7a[_0x4e0b37(0x7eb)],_0x4e0b37(0x56c));try{return this['contentManager'][_0x4e0b37(0x974)](_0x528da7);}catch(_0x26136c){throw this[_0x4e0b37(0x4c8)](_0x26136c,{});}}['getVectorDatabases'](_0x20ead1){const _0x3e737c=_0x29fc43;try{return this[_0x3e737c(0x8ff)]['getVectorDatabases'](_0x20ead1);}catch(_0x305de1){throw this['handleError'](_0x305de1,{});}}[_0x29fc43(0x96a)](_0x2933d3,_0x29e15a){const _0x2821ee=_0x29fc43;return this[_0x2821ee(0x61e)][_0x2821ee(0x96a)](_0x2933d3,_0x29e15a);}[_0x29fc43(0x2c2)](){const _0x243990=_0x29fc43;return this['nodeManager'][_0x243990(0x2c2)]();}[_0x29fc43(0x301)](_0x1033ba){const _0x54dc5c=_0x29fc43;try{return this['nodeManager']['getRemoteNodes'](_0x1033ba);}catch(_0x4f6a46){throw this[_0x54dc5c(0x4c8)](_0x4f6a46,{});}}[_0x29fc43(0x543)](){return this['connectionManager']['waitForArrayBufferSize']();}[_0x29fc43(0x2b4)](_0x3879fa){return this['nodeManager']['isNodeReady'](_0x3879fa);}async['handleSystemEvents'](_0x504b01){const _0x22ae19=_0x29fc43;try{if(_0xb63eee[_0x22ae19(0x195)](_0x30994c['Events'],'Orchestrator\x20handleSystemEvents',this['nodeManager']['getLocalId'](),_0x504b01),_0x4f5692(_0x504b01,this['nodeManager'][_0x22ae19(0x1e9)]()))return void this[_0x22ae19(0xa0e)][_0x22ae19(0x1fb)](_0x504b01);switch(_0x504b01[_0x22ae19(0x30c)]){case _0x158cb7['Content']:this['statsManager'][_0x22ae19(0x9f2)](_0x504b01),this[_0x22ae19(0x1cd)]['handleContentSystemEvents'](_0x504b01),this[_0x22ae19(0x8ff)][_0x22ae19(0x9f2)](_0x504b01);break;case _0x158cb7[_0x22ae19(0x746)]:this[_0x22ae19(0x1cd)][_0x22ae19(0x127)](_0x504b01),this[_0x22ae19(0xa0e)][_0x22ae19(0x127)](_0x504b01),this[_0x22ae19(0x8ff)]['handleNodeSystemEvents'](_0x504b01),this[_0x22ae19(0x61e)][_0x22ae19(0x127)](_0x504b01);break;case _0x158cb7[_0x22ae19(0x5b1)]:this[_0x22ae19(0x3e0)][_0x22ae19(0xa95)](_0x504b01);break;case _0x158cb7[_0x22ae19(0xa8c)]:this[_0x22ae19(0x3e0)]['handleRemediationSystemEvents'](_0x504b01);break;case _0x158cb7[_0x22ae19(0x269)]:this[_0x22ae19(0x5a0)][_0x22ae19(0x192)](_0x504b01);break;case _0x158cb7[_0x22ae19(0x4a6)]:_0x504b01[_0x22ae19(0x88a)]['type']!==_0x4d7c63[_0x22ae19(0x638)]?(this[_0x22ae19(0x1cd)][_0x22ae19(0x9c9)](_0x504b01),this[_0x22ae19(0x8ff)][_0x22ae19(0x9c9)](_0x504b01)):(this['contentManager'][_0x22ae19(0x9c9)](_0x504b01),this['subscriptionManager'][_0x22ae19(0x9c9)](_0x504b01));break;case _0x158cb7[_0x22ae19(0x5d6)]:await this['connectionManager'][_0x22ae19(0x23c)](_0x504b01),this[_0x22ae19(0x1cf)]['handlePeerConnectionSystemEvents'](_0x504b01),this['nodeManager'][_0x22ae19(0x23c)](_0x504b01),this[_0x22ae19(0x1cd)][_0x22ae19(0x23c)](_0x504b01);}}catch(_0x5e2fcf){throw _0xb63eee[_0x22ae19(0xa50)]('handleSystemEvents',_0x5e2fcf),this[_0x22ae19(0x4c8)](_0x5e2fcf,{});}}[_0x29fc43(0x4c8)](_0x3fdac5,_0x4720a7){const _0x3199cb=_0x29fc43;if(!(_0x3fdac5 instanceof _0xa97582)){if(_0x3fdac5 instanceof _0x27674c)throw _0x3fdac5;if(!(_0x3fdac5 instanceof Error))throw new _0x27674c(_0x3d6c7a['InternalSDKError'],_0x3199cb(0x721)+_0x3fdac5);if(!(_0x3fdac5 instanceof _0x3335bf))throw new _0x27674c(_0x3d6c7a[_0x3199cb(0x872)],_0x3199cb(0x35d)+_0x3fdac5['message']);switch(_0x3fdac5[_0x3199cb(0x840)]){case _0x3335bf[_0x3199cb(0x4ee)][_0x3199cb(0x7e3)]:case _0x3335bf[_0x3199cb(0x4ee)][_0x3199cb(0x7f5)]:case _0x3335bf[_0x3199cb(0x4ee)]['PeerConnectionInvalidDestination']:case _0x3335bf['codes'][_0x3199cb(0x61a)]:case _0x3335bf['codes'][_0x3199cb(0x4b1)]:case _0x3335bf[_0x3199cb(0x4ee)][_0x3199cb(0x350)]:case _0x3335bf[_0x3199cb(0x4ee)][_0x3199cb(0xab5)]:case _0x3335bf[_0x3199cb(0x4ee)]['InvalidSubscriber']:case _0x3335bf[_0x3199cb(0x4ee)][_0x3199cb(0x2a1)]:case _0x3335bf['codes'][_0x3199cb(0x122)]:case _0x3335bf[_0x3199cb(0x4ee)][_0x3199cb(0x6f4)]:case _0x3335bf['codes'][_0x3199cb(0x4cf)]:}throw _0xb63eee[_0x3199cb(0x3c9)](_0x3199cb(0xae3)+_0x3fdac5['message'],{'clusterId':this[_0x3199cb(0x93b)],'nodeId':this[_0x3199cb(0xa8a)][_0x3199cb(0x994)](),'nodeType':this[_0x3199cb(0xa8a)][_0x3199cb(0xacf)]},_0x3fdac5),new _0x27674c(_0x3d6c7a[_0x3199cb(0x872)],_0x3199cb(0x2ac)+_0x3fdac5[_0x3199cb(0x356)]);}}[_0x29fc43(0x916)](){const _0xe410f6=_0x29fc43;return{'mediator':this,'vendorId':this[_0xe410f6(0x117)],'clusterId':this[_0xe410f6(0x93b)],'localNode':this[_0xe410f6(0xa8a)]};}['initializeSystemTopic'](){const _0x3ca484=_0x29fc43;return this[_0x3ca484(0x3aa)]['subscribe'](_0x53083f=>{const _0x1d724a=_0x3ca484,_0x41b0fb=_0x5dc160(_0x53083f,this[_0x1d724a(0xa8a)]['getId']()),_0x177c96=_0x53083f[_0x1d724a(0x30c)]===_0x158cb7[_0x1d724a(0x269)]||_0x53083f['messageType']===_0x158cb7[_0x1d724a(0x5d6)]&&_0x53083f['content'][_0x1d724a(0xacf)]===_0x21f8c1[_0x1d724a(0x269)]?_0x30994c[_0x1d724a(0x991)]:_0x30994c['System'];_0xb63eee[_0x1d724a(0xa32)](_0x177c96,_0x53083f[_0x1d724a(0x5f0)]+_0x1d724a(0x902)+_0x41b0fb,_0x53083f),this[_0x1d724a(0x7bb)](_0x53083f)['catch'](_0x32d650=>{const _0x9e8900=_0x1d724a;console[_0x9e8900(0x3c9)](_0x32d650);});});}async['syncKeyValueDatabase'](_0x3c8930){const _0x8be9fd=_0x29fc43,{timingLogger:_0x2f2569,logger:_0x47d79f,logBeforeSync:_0x419b41,logAfterSync:_0x3d2d0d}=function(_0x3d830f,_0x2341c5){const _0x41fa1a=a0_0x424d;if(!_0xb63eee[_0x41fa1a(0x520)](_0x2341c5))return _0xb63eee[_0x41fa1a(0xa50)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x2341c5),{..._0x3abf77(_0x3d830f,_0x2341c5),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x5b34db,logger:_0x18a410}=_0x3abf77(_0x3d830f,_0x2341c5);let _0x2ac7c8=0x0;return _0x2ac7c8=Date[_0x41fa1a(0x653)](),{'syncStartTime':_0x2ac7c8,'timingLogger':_0x5b34db,'logger':_0x18a410,'logBeforeSync':()=>(_0x487612(_0x2341c5,_0x41fa1a(0x19b)),_0x5b34db[_0x41fa1a(0x653)]()),'logAfterSync':(_0x290dca,_0x38faec)=>{const _0x2c1caf=_0x41fa1a,_0x587dc4=Date[_0x2c1caf(0x653)]();_0x487612(_0x2341c5,_0x2c1caf(0xaf2)+_0x38faec);const _0x54dc4e=(_0x587dc4-_0x2ac7c8)/0x3e8,_0xc7b9a8=(_0x587dc4-_0x290dca)/0x3e8;_0xb63eee[_0x2c1caf(0x195)](_0x2341c5,_0x2c1caf(0x1e7),_0x3d830f,_0x2c1caf(0x280)+_0x54dc4e['toFixed'](0x2)+'\x20seconds',_0x2c1caf(0x967)+_0xc7b9a8['toFixed'](0x3)+_0x2c1caf(0x7a5),_0x2c1caf(0x9e5)+((_0x587dc4-_0x2ac7c8)/0x3e8-_0xc7b9a8)['toFixed'](0x2)+_0x2c1caf(0x7a5));}};}(_0x3c8930[_0x8be9fd(0x858)](),_0x30994c[_0x8be9fd(0x844)]);_0x47d79f[_0x8be9fd(0x195)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0x34b3b6=this[_0x8be9fd(0x61e)][_0x8be9fd(0xa51)]()[_0x8be9fd(0x4c5)]>0x0;if(_0x34b3b6){_0x47d79f['log'](_0x8be9fd(0xabb),()=>this[_0x8be9fd(0x61e)]['getAncestorIds']()),_0x2f2569[_0x8be9fd(0x507)](),await Promise[_0x8be9fd(0x252)](this['nodeManager']['getAncestorIds']()[_0x8be9fd(0x170)](async _0x325ab5=>await this['nodeManager'][_0x8be9fd(0x2b4)](_0x325ab5)))[_0x8be9fd(0x509)](_0x211d6e=>_0xb63eee[_0x8be9fd(0x55c)](_0x8be9fd(0x8fd),{'nodeId':this['localNode'][_0x8be9fd(0x994)](),'nodeType':this['localNode'][_0x8be9fd(0xacf)]}));const _0x1ec5f0=_0x47d79f[_0x8be9fd(0x6d1)](()=>this[_0x8be9fd(0x61e)]['getAncestorIds'](),[]);_0x2f2569[_0x8be9fd(0xac4)](_0x8be9fd(0x165)+_0x1ec5f0+'\x20were\x20ready\x20in');}_0x3d2d0d(_0x419b41(),await _0x3c8930['sync'](_0x34b3b6,async()=>{const _0x3010b4=_0x8be9fd;_0x2f2569[_0x3010b4(0x507)](),await this['nodeManager'][_0x3010b4(0x701)](),_0x2f2569['logWaitTime'](_0x3010b4(0x402)),_0x3c8930[_0x3010b4(0xb1e)](!0x0,()=>{const _0x565748=_0x3010b4;_0x47d79f[_0x565748(0x195)](_0x565748(0x1c5)),_0x3c8930[_0x565748(0xb1e)](!0x1);},!0x0);}));}}class _0x37d499{['vendorId'];[_0x29fc43(0x93b)];[_0x29fc43(0x6ba)];[_0x29fc43(0x444)];[_0x29fc43(0x267)];constructor(_0x548b1a,_0x18be29,_0x232788,_0x29ae3b,_0x53b486,_0x43d83d,_0x43dce1=new _0x55360d()){const _0x3570dd=_0x29fc43;this[_0x3570dd(0x117)]=_0x548b1a,this[_0x3570dd(0x93b)]=_0x18be29,this[_0x3570dd(0x6ba)]=_0x232788,this['eventEmitter']=_0x43dce1,this[_0x3570dd(0x267)]=new _0x3df746(this[_0x3570dd(0x117)],this[_0x3570dd(0x93b)],_0x232788,_0x29ae3b,_0x53b486,_0x43d83d,this);}async[_0x29fc43(0x98d)](){const _0x423e3a=_0x29fc43;await this['orchestrator'][_0x423e3a(0x918)](),this[_0x423e3a(0x6ba)]['type']===_0x47b47a[_0x423e3a(0x394)]['User']&&this['authNode'][_0x423e3a(0x9ea)](this[_0x423e3a(0x93b)],_0x389dce=>{const _0x1c6f11=_0x423e3a;this[_0x1c6f11(0x267)]['updateUser'](_0x389dce);});}[_0x29fc43(0x8a0)](_0x3a3d56={}){const _0x23f069=_0x29fc43;this['orchestrator'][_0x23f069(0xb1b)](_0x3a3d56),this[_0x23f069(0x6ba)]['type']===_0x47b47a['NodeType']['User']&&this['authNode'][_0x23f069(0x333)](this[_0x23f069(0x93b)]),this[_0x23f069(0x986)](_0x23f069(0xa29),void 0x0);}[_0x29fc43(0x49b)](_0x5285c3){const _0x22c6dc=_0x29fc43,_0x1a958f=this['orchestrator'][_0x22c6dc(0x49b)](_0x5285c3);return{'getName':_0x1a958f[_0x22c6dc(0x568)][_0x22c6dc(0x699)](_0x1a958f),'getOwnerId':_0x1a958f['getOwnerId'][_0x22c6dc(0x699)](_0x1a958f),'getContentType':_0x1a958f[_0x22c6dc(0x5f5)][_0x22c6dc(0x699)](_0x1a958f),'publish':_0x1a958f['publish'][_0x22c6dc(0x699)](_0x1a958f),'subscribe':_0x1a958f[_0x22c6dc(0x75e)][_0x22c6dc(0x699)](_0x1a958f),'unsubscribe':_0x1a958f['unsubscribe'][_0x22c6dc(0x699)](_0x1a958f),'close':_0x1a958f[_0x22c6dc(0xb1b)]['bind'](_0x1a958f)};}async['openObjectStoreBucket'](_0x2ca659,_0x394024){const _0x20199b=_0x29fc43,_0x70ba8e=await this[_0x20199b(0x267)][_0x20199b(0xab0)](_0x2ca659,_0x394024);return{'getName':_0x70ba8e[_0x20199b(0x568)][_0x20199b(0x699)](_0x70ba8e),'getOwnerId':_0x70ba8e[_0x20199b(0x5a8)]['bind'](_0x70ba8e),'getContentType':_0x70ba8e['getContentType'][_0x20199b(0x699)](_0x70ba8e),'publish':_0x70ba8e['publish'][_0x20199b(0x699)](_0x70ba8e),'unpublish':_0x70ba8e[_0x20199b(0x489)][_0x20199b(0x699)](_0x70ba8e),'get':_0x70ba8e[_0x20199b(0x2a2)]['bind'](_0x70ba8e),'list':_0x70ba8e[_0x20199b(0x536)][_0x20199b(0x699)](_0x70ba8e),'getSize':_0x70ba8e[_0x20199b(0xaa6)]['bind'](_0x70ba8e),'subscribe':_0x70ba8e[_0x20199b(0x75e)]['bind'](_0x70ba8e),'unsubscribe':_0x70ba8e[_0x20199b(0x515)]['bind'](_0x70ba8e),'close':_0x70ba8e[_0x20199b(0xb1b)][_0x20199b(0x699)](_0x70ba8e)};}async[_0x29fc43(0x3a6)](_0x273a66,_0x495593){const _0x959a0c=_0x29fc43,_0x1cef4c=await this['orchestrator']['openExternalStorageConnection'](_0x273a66,_0x495593);return{'getName':_0x1cef4c['getName'][_0x959a0c(0x699)](_0x1cef4c),'getOwnerId':_0x1cef4c[_0x959a0c(0x5a8)][_0x959a0c(0x699)](_0x1cef4c),'getContentType':_0x1cef4c[_0x959a0c(0x5f5)][_0x959a0c(0x699)](_0x1cef4c),'close':_0x1cef4c[_0x959a0c(0xb1b)]['bind'](_0x1cef4c),'get':_0x1cef4c[_0x959a0c(0x2a2)][_0x959a0c(0x699)](_0x1cef4c),'list':_0x1cef4c[_0x959a0c(0x536)][_0x959a0c(0x699)](_0x1cef4c),'subscribe':_0x1cef4c[_0x959a0c(0x75e)]['bind'](_0x1cef4c),'unsubscribe':_0x1cef4c['unsubscribe'][_0x959a0c(0x699)](_0x1cef4c)};}async['openKeyValueDatabase'](_0x34a42e,_0x15fbb0,_0x30c408){const _0x83b27a=_0x29fc43,_0x5dcecd=await this['orchestrator'][_0x83b27a(0x182)](_0x34a42e,_0x15fbb0,_0x30c408);return{'getName':_0x5dcecd['getName'][_0x83b27a(0x699)](_0x5dcecd),'getOwnerId':_0x5dcecd[_0x83b27a(0x5a8)][_0x83b27a(0x699)](_0x5dcecd),'getContentType':_0x5dcecd[_0x83b27a(0x5f5)][_0x83b27a(0x699)](_0x5dcecd),'getTable':_0x5dcecd[_0x83b27a(0x309)][_0x83b27a(0x699)](_0x5dcecd),'subscribe':_0x5dcecd[_0x83b27a(0x75e)][_0x83b27a(0x699)](_0x5dcecd),'unsubscribe':_0x5dcecd[_0x83b27a(0x515)][_0x83b27a(0x699)](_0x5dcecd),'close':_0x5dcecd[_0x83b27a(0xb1b)][_0x83b27a(0x699)](_0x5dcecd)};}async['openJobDispatcher'](_0x4f5aff){const _0x36159c=_0x29fc43,_0x239e29=await this[_0x36159c(0x267)]['openJobDispatcher'](_0x4f5aff);return{'getName':_0x239e29[_0x36159c(0x568)]['bind'](_0x239e29),'getOwnerId':_0x239e29[_0x36159c(0x5a8)][_0x36159c(0x699)](_0x239e29),'getContentType':_0x239e29[_0x36159c(0x5f5)][_0x36159c(0x699)](_0x239e29),'createJob':_0x239e29[_0x36159c(0xaf3)][_0x36159c(0x699)](_0x239e29),'getJob':_0x239e29[_0x36159c(0x502)][_0x36159c(0x699)](_0x239e29),'getJobs':_0x239e29['getJobs'][_0x36159c(0x699)](_0x239e29),'close':_0x239e29[_0x36159c(0xb1b)][_0x36159c(0x699)](_0x239e29)};}async[_0x29fc43(0x33c)](_0x45c54f){const _0xd28613=_0x29fc43,_0x368d5a=await this[_0xd28613(0x267)]['openJobWorker'](_0x45c54f);return{'close':_0x368d5a['close'][_0xd28613(0x699)](_0x368d5a)};}async[_0x29fc43(0x231)](_0x49de16){const _0x20ac15=_0x29fc43,_0x595ada=await this[_0x20ac15(0x267)]['openGenerativeAIContext'](_0x49de16);return{'createAIJob':_0x595ada[_0x20ac15(0x9e1)][_0x20ac15(0x699)](_0x595ada),'getDataBucketIds':_0x595ada[_0x20ac15(0x606)]['bind'](_0x595ada),'close':_0x595ada[_0x20ac15(0xb1b)][_0x20ac15(0x699)](_0x595ada)};}async[_0x29fc43(0x16a)](_0x365e88){const _0x4dd4d=_0x29fc43,_0x4e8293=await this[_0x4dd4d(0x267)][_0x4dd4d(0x16a)](_0x365e88);return{'createAIJob':_0x4e8293[_0x4dd4d(0x9e1)][_0x4dd4d(0x699)](_0x4e8293),'getDataBucketIds':_0x4e8293['getDataBucketIds'][_0x4dd4d(0x699)](_0x4e8293),'close':_0x4e8293[_0x4dd4d(0xb1b)]['bind'](_0x4e8293)};}async[_0x29fc43(0x9f3)](_0x2a757d){const _0x294d85=_0x29fc43,_0x2bd72e=await this[_0x294d85(0x267)][_0x294d85(0x9f3)](_0x2a757d);return{'close':_0x2bd72e[_0x294d85(0xb1b)][_0x294d85(0x699)](_0x2bd72e)};}[_0x29fc43(0x6fe)](_0x4473b4){const _0x4a58b1=_0x29fc43,_0xd904d0=this['orchestrator'][_0x4a58b1(0x6fe)](_0x4473b4);return{'getName':_0xd904d0['getName'][_0x4a58b1(0x699)](_0xd904d0),'getOwnerId':_0xd904d0[_0x4a58b1(0x5a8)]['bind'](_0xd904d0),'getContentType':_0xd904d0[_0x4a58b1(0x5f5)][_0x4a58b1(0x699)](_0xd904d0),'addNode':_0xd904d0[_0x4a58b1(0x613)][_0x4a58b1(0x699)](_0xd904d0),'addEdge':_0xd904d0[_0x4a58b1(0x65e)][_0x4a58b1(0x699)](_0xd904d0),'getContent':_0xd904d0[_0x4a58b1(0x886)][_0x4a58b1(0x699)](_0xd904d0),'remove':_0xd904d0[_0x4a58b1(0x3ee)]['bind'](_0xd904d0),'saveToDisk':_0xd904d0[_0x4a58b1(0x5d1)][_0x4a58b1(0x699)](_0xd904d0),'loadFromDisk':_0xd904d0[_0x4a58b1(0x4dd)]['bind'](_0xd904d0),'close':_0xd904d0[_0x4a58b1(0xb1b)]['bind'](_0xd904d0)};}['openVectorDatabase'](_0xeee439){const _0x322009=_0x29fc43,_0x5b8367=this[_0x322009(0x267)][_0x322009(0x27b)](_0xeee439);return{'getName':_0x5b8367[_0x322009(0x568)][_0x322009(0x699)](_0x5b8367),'getOwnerId':_0x5b8367[_0x322009(0x5a8)][_0x322009(0x699)](_0x5b8367),'getContentType':_0x5b8367[_0x322009(0x5f5)]['bind'](_0x5b8367),'search':_0x5b8367[_0x322009(0x907)]['bind'](_0x5b8367),'insert':_0x5b8367[_0x322009(0x37b)]['bind'](_0x5b8367),'remove':_0x5b8367['remove']['bind'](_0x5b8367),'saveToDisk':_0x5b8367[_0x322009(0x5d1)][_0x322009(0x699)](_0x5b8367),'loadFromDisk':_0x5b8367[_0x322009(0x4dd)][_0x322009(0x699)](_0x5b8367),'close':_0x5b8367[_0x322009(0xb1b)][_0x322009(0x699)](_0x5b8367)};}[_0x29fc43(0xb16)](_0x49d46c){const _0x191eb9=_0x29fc43;return this['orchestrator']['getPubSubTopics'](_0x49d46c)[_0x191eb9(0x170)](_0x98270=>({'getName':_0x98270[_0x191eb9(0x568)][_0x191eb9(0x699)](_0x98270),'getOwnerId':_0x98270[_0x191eb9(0x5a8)][_0x191eb9(0x699)](_0x98270),'getContentType':_0x98270[_0x191eb9(0x5f5)][_0x191eb9(0x699)](_0x98270),'publish':_0x98270[_0x191eb9(0x289)][_0x191eb9(0x699)](_0x98270),'subscribe':_0x98270[_0x191eb9(0x75e)][_0x191eb9(0x699)](_0x98270),'unsubscribe':_0x98270[_0x191eb9(0x515)]['bind'](_0x98270),'close':_0x98270[_0x191eb9(0xb1b)]['bind'](_0x98270)}));}[_0x29fc43(0x843)](_0x1154a0){const _0x213ff8=_0x29fc43;return this['orchestrator'][_0x213ff8(0x843)](_0x1154a0)['map'](_0x2ccecf=>({'getName':_0x2ccecf['getName'][_0x213ff8(0x699)](_0x2ccecf),'getOwnerId':_0x2ccecf[_0x213ff8(0x5a8)][_0x213ff8(0x699)](_0x2ccecf),'getContentType':_0x2ccecf[_0x213ff8(0x5f5)][_0x213ff8(0x699)](_0x2ccecf),'publish':_0x2ccecf['publish'][_0x213ff8(0x699)](_0x2ccecf),'unpublish':_0x2ccecf['unpublish']['bind'](_0x2ccecf),'get':_0x2ccecf[_0x213ff8(0x2a2)][_0x213ff8(0x699)](_0x2ccecf),'list':_0x2ccecf[_0x213ff8(0x536)][_0x213ff8(0x699)](_0x2ccecf),'getSize':_0x2ccecf['getSize'][_0x213ff8(0x699)](_0x2ccecf),'subscribe':_0x2ccecf[_0x213ff8(0x75e)][_0x213ff8(0x699)](_0x2ccecf),'unsubscribe':_0x2ccecf[_0x213ff8(0x515)]['bind'](_0x2ccecf),'close':_0x2ccecf[_0x213ff8(0xb1b)][_0x213ff8(0x699)](_0x2ccecf)}));}['getExternalStorageConnections'](_0x375b2f){const _0x289387=_0x29fc43;return this[_0x289387(0x267)][_0x289387(0xaf1)](_0x375b2f)[_0x289387(0x170)](_0x7fc2df=>({'getName':_0x7fc2df['getName'][_0x289387(0x699)](_0x7fc2df),'getOwnerId':_0x7fc2df[_0x289387(0x5a8)][_0x289387(0x699)](_0x7fc2df),'getContentType':_0x7fc2df[_0x289387(0x5f5)][_0x289387(0x699)](_0x7fc2df),'close':_0x7fc2df['close'][_0x289387(0x699)](_0x7fc2df),'get':_0x7fc2df[_0x289387(0x2a2)][_0x289387(0x699)](_0x7fc2df),'list':_0x7fc2df[_0x289387(0x536)][_0x289387(0x699)](_0x7fc2df),'subscribe':_0x7fc2df['subscribe'][_0x289387(0x699)](_0x7fc2df),'unsubscribe':_0x7fc2df[_0x289387(0x515)][_0x289387(0x699)](_0x7fc2df)}));}[_0x29fc43(0x47b)](_0xe776a){const _0x213bc8=_0x29fc43;return this[_0x213bc8(0x267)][_0x213bc8(0x47b)](_0xe776a)[_0x213bc8(0x170)](_0x8b3309=>({'getName':_0x8b3309[_0x213bc8(0x568)]['bind'](_0x8b3309),'getOwnerId':_0x8b3309[_0x213bc8(0x5a8)][_0x213bc8(0x699)](_0x8b3309),'getContentType':_0x8b3309[_0x213bc8(0x5f5)][_0x213bc8(0x699)](_0x8b3309),'getTable':_0x8b3309[_0x213bc8(0x309)][_0x213bc8(0x699)](_0x8b3309),'subscribe':_0x8b3309['subscribe'][_0x213bc8(0x699)](_0x8b3309),'unsubscribe':_0x8b3309[_0x213bc8(0x515)][_0x213bc8(0x699)](_0x8b3309),'close':_0x8b3309[_0x213bc8(0xb1b)][_0x213bc8(0x699)](_0x8b3309)}));}['getGenerativeAIContexts'](_0x232dd9){const _0x15288a=_0x29fc43;return this[_0x15288a(0x267)][_0x15288a(0x9d1)](_0x232dd9)[_0x15288a(0x170)](_0x22c1a8=>({'createAIJob':_0x22c1a8[_0x15288a(0x9e1)]['bind'](_0x22c1a8),'getDataBucketIds':_0x22c1a8['getDataBucketIds'][_0x15288a(0x699)](_0x22c1a8),'close':_0x22c1a8[_0x15288a(0xb1b)][_0x15288a(0x699)](_0x22c1a8)}));}[_0x29fc43(0x232)](_0x2d5c2e){const _0x1a7460=_0x29fc43;return this[_0x1a7460(0x267)][_0x1a7460(0x232)](_0x2d5c2e)[_0x1a7460(0x170)](_0x1e0f4b=>({'createAIJob':_0x1e0f4b[_0x1a7460(0x9e1)]['bind'](_0x1e0f4b),'getDataBucketIds':_0x1e0f4b[_0x1a7460(0x606)][_0x1a7460(0x699)](_0x1e0f4b),'close':_0x1e0f4b['close'][_0x1a7460(0x699)](_0x1e0f4b)}));}['getGenerativeAIWorkers'](_0x23115b){const _0x275dee=_0x29fc43;return this[_0x275dee(0x267)][_0x275dee(0x188)](_0x23115b)[_0x275dee(0x170)](_0x733309=>({'close':_0x733309[_0x275dee(0xb1b)][_0x275dee(0x699)](_0x733309)}));}[_0x29fc43(0x446)](_0x510a49,_0x264686){const _0x3006d6=_0x29fc43,_0x1d82f6=this['orchestrator'][_0x3006d6(0x403)](_0x510a49,_0x264686);return{'getLabel':_0x1d82f6[_0x3006d6(0x858)][_0x3006d6(0x699)](_0x1d82f6),'getOwnerId':_0x1d82f6[_0x3006d6(0x5a8)][_0x3006d6(0x699)](_0x1d82f6),'getContentType':_0x1d82f6['getContentType']['bind'](_0x1d82f6),'getMediaStream':_0x1d82f6['getMediaStream']['bind'](_0x1d82f6),'setPriority':_0x1d82f6[_0x3006d6(0x47f)][_0x3006d6(0x699)](_0x1d82f6),'unpublish':_0x1d82f6[_0x3006d6(0x489)][_0x3006d6(0x699)](_0x1d82f6)};}['publishLocalDynamicMediaStream'](_0x5734db,_0x14d816){const _0x46c331=_0x29fc43,_0xbf6823=this[_0x46c331(0x267)][_0x46c331(0x545)](_0x5734db,_0x14d816);return{'getLabel':_0xbf6823[_0x46c331(0x858)][_0x46c331(0x699)](_0xbf6823),'getOwnerId':_0xbf6823[_0x46c331(0x5a8)][_0x46c331(0x699)](_0xbf6823),'getContentType':_0xbf6823[_0x46c331(0x5f5)][_0x46c331(0x699)](_0xbf6823),'setPriority':_0xbf6823[_0x46c331(0x47f)]['bind'](_0xbf6823),'unpublish':_0xbf6823['unpublish'][_0x46c331(0x699)](_0xbf6823),'getMediaStream':_0xbf6823[_0x46c331(0x159)][_0x46c331(0x699)](_0xbf6823),'addTrack':_0xbf6823[_0x46c331(0x37e)][_0x46c331(0x699)](_0xbf6823),'removeTrack':_0xbf6823[_0x46c331(0x903)][_0x46c331(0x699)](_0xbf6823),'replaceTrack':_0xbf6823[_0x46c331(0x13c)][_0x46c331(0x699)](_0xbf6823),'setTransformations':_0xbf6823[_0x46c331(0x636)]['bind'](_0xbf6823)};}[_0x29fc43(0xa98)](_0x55ba8a){const _0x500007=_0x29fc43;return this[_0x500007(0x267)]['getLocalMediaStreams'](_0x55ba8a)[_0x500007(0x170)](_0x93731e=>({'getLabel':_0x93731e[_0x500007(0x858)]['bind'](_0x93731e),'getOwnerId':_0x93731e[_0x500007(0x5a8)]['bind'](_0x93731e),'getContentType':_0x93731e['getContentType']['bind'](_0x93731e),'getMediaStream':_0x93731e[_0x500007(0x159)][_0x500007(0x699)](_0x93731e),'setPriority':_0x93731e[_0x500007(0x47f)]['bind'](_0x93731e),'unpublish':_0x93731e[_0x500007(0x489)][_0x500007(0x699)](_0x93731e)}));}[_0x29fc43(0x974)](_0x35b645){const _0x21253b=_0x29fc43;return this['orchestrator'][_0x21253b(0x974)](_0x35b645)[_0x21253b(0x170)](_0x23db59=>({'getLabel':_0x23db59[_0x21253b(0x858)][_0x21253b(0x699)](_0x23db59),'getOwnerId':_0x23db59[_0x21253b(0x5a8)]['bind'](_0x23db59),'getContentType':_0x23db59[_0x21253b(0x5f5)][_0x21253b(0x699)](_0x23db59),'getMediaStream':_0x23db59['getMediaStream'][_0x21253b(0x699)](_0x23db59),'subscribe':_0x23db59[_0x21253b(0x75e)][_0x21253b(0x699)](_0x23db59),'unsubscribe':_0x23db59[_0x21253b(0x515)][_0x21253b(0x699)](_0x23db59),'getAvailableTrackKinds':_0x23db59[_0x21253b(0x956)][_0x21253b(0x699)](_0x23db59),'update':_0x23db59[_0x21253b(0x340)][_0x21253b(0x699)](_0x23db59),'onProviderChange':_0x23db59[_0x21253b(0x81e)]['bind'](_0x23db59)}));}[_0x29fc43(0x590)](_0x2c136b){const _0x5aee72=_0x29fc43;return this[_0x5aee72(0x267)]['getGraphDatabases'](_0x2c136b)[_0x5aee72(0x170)](_0x2c38c2=>({'getName':_0x2c38c2[_0x5aee72(0x568)]['bind'](_0x2c38c2),'getOwnerId':_0x2c38c2[_0x5aee72(0x5a8)][_0x5aee72(0x699)](_0x2c38c2),'getContentType':_0x2c38c2[_0x5aee72(0x5f5)][_0x5aee72(0x699)](_0x2c38c2),'addNode':_0x2c38c2[_0x5aee72(0x613)][_0x5aee72(0x699)](_0x2c38c2),'addEdge':_0x2c38c2[_0x5aee72(0x65e)][_0x5aee72(0x699)](_0x2c38c2),'getContent':_0x2c38c2[_0x5aee72(0x886)][_0x5aee72(0x699)](_0x2c38c2),'remove':_0x2c38c2[_0x5aee72(0x3ee)][_0x5aee72(0x699)](_0x2c38c2),'saveToDisk':_0x2c38c2['saveToDisk'][_0x5aee72(0x699)](_0x2c38c2),'loadFromDisk':_0x2c38c2[_0x5aee72(0x4dd)]['bind'](_0x2c38c2),'close':_0x2c38c2[_0x5aee72(0xb1b)][_0x5aee72(0x699)](_0x2c38c2)}));}[_0x29fc43(0x6ee)](_0x291e83){const _0x1c9eb1=_0x29fc43;return this['orchestrator'][_0x1c9eb1(0x6ee)](_0x291e83)[_0x1c9eb1(0x170)](_0x2db7a6=>({'getName':_0x2db7a6[_0x1c9eb1(0x568)][_0x1c9eb1(0x699)](_0x2db7a6),'getOwnerId':_0x2db7a6['getOwnerId'][_0x1c9eb1(0x699)](_0x2db7a6),'getContentType':_0x2db7a6['getContentType'][_0x1c9eb1(0x699)](_0x2db7a6),'search':_0x2db7a6[_0x1c9eb1(0x907)][_0x1c9eb1(0x699)](_0x2db7a6),'insert':_0x2db7a6['insert'][_0x1c9eb1(0x699)](_0x2db7a6),'remove':_0x2db7a6['remove'][_0x1c9eb1(0x699)](_0x2db7a6),'saveToDisk':_0x2db7a6[_0x1c9eb1(0x5d1)]['bind'](_0x2db7a6),'loadFromDisk':_0x2db7a6['loadFromDisk']['bind'](_0x2db7a6),'close':_0x2db7a6[_0x1c9eb1(0xb1b)][_0x1c9eb1(0x699)](_0x2db7a6)}));}[_0x29fc43(0x2c2)](){const _0x20825b=_0x29fc43,_0x3ee04d=this[_0x20825b(0x267)]['getLocalNode']();switch(_0x3ee04d[_0x20825b(0xacf)]){case _0x47b47a[_0x20825b(0x394)]['User']:return{'type':_0x47b47a[_0x20825b(0x394)][_0x20825b(0x4af)],'getId':_0x3ee04d[_0x20825b(0x994)][_0x20825b(0x699)](_0x3ee04d),'getDisplayName':_0x3ee04d[_0x20825b(0x13d)][_0x20825b(0x699)](_0x3ee04d),'getEmail':_0x3ee04d[_0x20825b(0x929)][_0x20825b(0x699)](_0x3ee04d),'getRemoteConnections':_0x3ee04d[_0x20825b(0x6e3)]['bind'](_0x3ee04d),'setDisplayName':_0x3ee04d['setDisplayName']['bind'](_0x3ee04d),'setEmail':_0x3ee04d[_0x20825b(0x977)]['bind'](_0x3ee04d)};case _0x47b47a[_0x20825b(0x394)][_0x20825b(0x48a)]:default:return{'type':_0x47b47a[_0x20825b(0x394)][_0x20825b(0x48a)],'getId':_0x3ee04d[_0x20825b(0x994)][_0x20825b(0x699)](_0x3ee04d),'getRemoteConnections':_0x3ee04d[_0x20825b(0x6e3)]['bind'](_0x3ee04d)};}}['getRemoteNodes'](_0x3156eb){const _0x525158=_0x29fc43;return this[_0x525158(0x267)][_0x525158(0x301)](_0x3156eb)[_0x525158(0x170)](_0x4cb053=>{const _0x2dc351=_0x525158;switch(_0x4cb053[_0x2dc351(0xacf)]){case _0x47b47a[_0x2dc351(0x394)][_0x2dc351(0x4af)]:return{'type':_0x47b47a['NodeType'][_0x2dc351(0x4af)],'getId':_0x4cb053[_0x2dc351(0x994)][_0x2dc351(0x699)](_0x4cb053),'getDisplayName':_0x4cb053[_0x2dc351(0x13d)][_0x2dc351(0x699)](_0x4cb053),'getEmail':_0x4cb053[_0x2dc351(0x929)]['bind'](_0x4cb053),'getRemoteConnections':_0x4cb053[_0x2dc351(0x6e3)][_0x2dc351(0x699)](_0x4cb053)};case _0x47b47a[_0x2dc351(0x394)][_0x2dc351(0x48a)]:return{'type':_0x47b47a[_0x2dc351(0x394)][_0x2dc351(0x48a)],'getId':_0x4cb053[_0x2dc351(0x994)][_0x2dc351(0x699)](_0x4cb053),'getRemoteConnections':_0x4cb053[_0x2dc351(0x6e3)][_0x2dc351(0x699)](_0x4cb053)};default:throw new _0x27674c(_0x3d6c7a[_0x2dc351(0x9da)],'Invalid\x20node\x20type');}});}['on']=(..._0x29b801)=>{const _0x47acf6=_0x29fc43;this[_0x47acf6(0x444)]['on'](..._0x29b801);};[_0x29fc43(0x986)]=(..._0x1bdaac)=>this[_0x29fc43(0x444)][_0x29fc43(0x986)](..._0x1bdaac);[_0x29fc43(0xac1)](..._0x5364d6){const _0x50c228=_0x29fc43;this[_0x50c228(0x444)][_0x50c228(0xac1)](..._0x5364d6);}}class _0x383e1a{['id'];[_0x29fc43(0x43e)];[_0x29fc43(0x542)];['type']=_0x47b47a[_0x29fc43(0x394)]['User'];[_0x29fc43(0x146)]=new Map();[_0x29fc43(0x278)]=_0x2d590d();constructor(_0x3d06d1,_0x5d6558,_0x2798ae){const _0x37fe70=_0x29fc43;this['id']=_0x3d06d1,this[_0x37fe70(0x43e)]=_0x5d6558,this[_0x37fe70(0x542)]=_0x2798ae;}['getId'](){return this['id'];}[_0x29fc43(0x13d)](){const _0x597515=_0x29fc43;return this[_0x597515(0x43e)];}[_0x29fc43(0x929)](){const _0x435fd4=_0x29fc43;return this[_0x435fd4(0x542)];}[_0x29fc43(0x600)](_0xeffce7){const _0x4e2f37=_0x29fc43;this[_0x4e2f37(0x43e)]!==_0xeffce7&&(this['displayName']=_0xeffce7,this[_0x4e2f37(0x278)][_0x4e2f37(0x289)](this));}[_0x29fc43(0x977)](_0x4df467){const _0x7add16=_0x29fc43;this[_0x7add16(0x542)]!==_0x4df467&&(this[_0x7add16(0x542)]=_0x4df467,this[_0x7add16(0x278)][_0x7add16(0x289)](this));}[_0x29fc43(0x9ea)](_0x1b1a34,_0x302d3f){const _0x15741a=_0x29fc43;if(this[_0x15741a(0x146)][_0x15741a(0x716)](_0x1b1a34))return;const _0x397423=this[_0x15741a(0x278)][_0x15741a(0x75e)](_0x302d3f);this['joinedClusters'][_0x15741a(0x355)](_0x1b1a34,_0x397423);}['unregisterCluster'](_0xcb06b2){const _0xdf09e3=_0x29fc43;if(!this[_0xdf09e3(0x146)][_0xdf09e3(0x716)](_0xcb06b2))return;const _0x182f5c=this[_0xdf09e3(0x146)][_0xdf09e3(0x2a2)](_0xcb06b2);_0x182f5c&&_0x182f5c(),this[_0xdf09e3(0x146)][_0xdf09e3(0x5ef)](_0xcb06b2);}}class _0x2231f0{['vendorId'];[_0x29fc43(0x5ca)];constructor(_0x451e89){const _0x5d9a6d=_0x29fc43;this[_0x5d9a6d(0x117)]=_0x451e89;}async['signInWithCredential'](_0x12f155){const _0x4e7405=_0x29fc43,_0x410747=await(0x0,_0x1b22e6[_0x4e7405(0x88b)])(_0x9824f6[_0x4e7405(0x640)](),_0x4e7405(0x16d))({'uid':'ccc'+this[_0x4e7405(0x117)]+_0x4e7405(0x922)+_0x12f155['id']}),_0x279ca6=await(0x0,_0x523e2c['signInWithCustomToken'])(_0x9824f6['getAuth'](),_0x410747[_0x4e7405(0x7d7)][_0x4e7405(0x38f)]);this[_0x4e7405(0x5ca)]=_0x279ca6[_0x4e7405(0x5ca)];}async[_0x29fc43(0xabc)](){const _0x56bb28=_0x29fc43;await(0x0,_0x523e2c[_0x56bb28(0xabc)])(_0x9824f6['getAuth']());}[_0x29fc43(0x971)](){const _0x496f31=_0x29fc43;return this[_0x496f31(0x5ca)]?.[_0x496f31(0x971)]()??Promise[_0x496f31(0x629)](_0x496f31(0x913));}}class _0xab8f6f{static [_0x29fc43(0x6c3)];[_0x29fc43(0x2f5)]=[];constructor(){}static[_0x29fc43(0x4f3)](){const _0xc4dd0d=_0x29fc43;return _0xab8f6f[_0xc4dd0d(0x6c3)]||(_0xab8f6f['instance']=new _0xab8f6f()),_0xab8f6f[_0xc4dd0d(0x6c3)];}['initialize'](){const _0x2d0fb4=_0x29fc43;this['checkWebRTC'](),this[_0x2d0fb4(0x364)](),this['checkScreenSharing'](),this[_0x2d0fb4(0x612)](),this['checkDeviceConfig'](),this[_0x2d0fb4(0x8bf)](),this[_0x2d0fb4(0x9d2)](),this[_0x2d0fb4(0x5e1)](),this[_0x2d0fb4(0x7ca)](),this[_0x2d0fb4(0x492)](),_0xb63eee['log'](_0x30994c[_0x2d0fb4(0x81d)],_0x2d0fb4(0x335),{'featureSupport':this['featureSupport']});}[_0x29fc43(0x5a3)](_0x183051){const _0x187e82=_0x29fc43,_0x3b200c=this[_0x187e82(0x2f5)][_0x187e82(0x5a5)](_0x365df9=>_0x365df9[_0x187e82(0x3dd)]===_0x183051);return!!_0x3b200c&&_0x3b200c['supported'];}[_0x29fc43(0x8f8)](_0x3db181){const _0x2a9fd9=_0x29fc43;_0xb63eee[_0x2a9fd9(0x684)](_0x2a9fd9(0x4e4),{'nodeId':_0x3db181['getId'](),'nodeType':_0x3db181['type'],'data':{'featureSupport':this[_0x2a9fd9(0x2f5)]}});}['checkWebRTC'](){const _0x4ea074=_0x29fc43,_0x1ef3f7=_0x200c96[_0x4ea074(0x1eb)];let _0x8aecfb=!0x1;_0x4ea074(0x249)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x4ea074(0x249)==typeof RTCSessionDescription?_0x8aecfb=!0x0:_0xb63eee[_0x4ea074(0x195)](_0x30994c[_0x4ea074(0x81d)],'Support:\x20'+_0x1ef3f7+_0x4ea074(0x774)),this['featureSupport']['push']({'name':_0x1ef3f7,'supported':_0x8aecfb});}[_0x29fc43(0x364)](){const _0x214e58=_0x29fc43,_0x49a75f=_0x200c96['MediaStream'];let _0x26be7c=!0x1;'function'==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x214e58(0x161)==typeof navigator&&_0x214e58(0x161)==typeof navigator[_0x214e58(0x59c)]&&_0x214e58(0x249)==typeof navigator[_0x214e58(0x59c)][_0x214e58(0x77f)]?_0x26be7c=!0x0:_0xb63eee[_0x214e58(0x195)](_0x30994c['Support'],_0x214e58(0x2c7)+_0x49a75f+_0x214e58(0x774)),this[_0x214e58(0x2f5)][_0x214e58(0x9f9)]({'name':_0x49a75f,'supported':_0x26be7c});}[_0x29fc43(0x427)](){const _0x2054d6=_0x29fc43,_0x63f45c=_0x200c96['ScreenSharing'];let _0x5d8dc5=!0x1;_0x2054d6(0x161)==typeof navigator&&_0x2054d6(0x161)==typeof navigator['mediaDevices']&&_0x2054d6(0x249)==typeof navigator[_0x2054d6(0x59c)][_0x2054d6(0x3e9)]?_0x5d8dc5=!0x0:_0xb63eee[_0x2054d6(0x195)](_0x30994c[_0x2054d6(0x81d)],_0x2054d6(0x2c7)+_0x63f45c+_0x2054d6(0x774)),this[_0x2054d6(0x2f5)][_0x2054d6(0x9f9)]({'name':_0x63f45c,'supported':_0x5d8dc5});}[_0x29fc43(0x612)](){const _0x4d40a1=_0x29fc43,_0x416392=_0x200c96[_0x4d40a1(0x743)];let _0x180f79=!0x1;_0x4d40a1(0x249)!=typeof AudioContext||_0x4d40a1(0x249)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x4d40a1(0x249)!=typeof MediaStreamAudioSourceNode?_0xb63eee[_0x4d40a1(0x195)](_0x30994c[_0x4d40a1(0x81d)],_0x4d40a1(0x2c7)+_0x416392+_0x4d40a1(0x774)):_0x180f79=!0x0,this[_0x4d40a1(0x2f5)][_0x4d40a1(0x9f9)]({'name':_0x416392,'supported':_0x180f79});}['checkDeviceConfig'](){const _0x235603=_0x29fc43,_0x28acd9=_0x200c96['DeviceConfig'];let _0x2fe4a3=!0x1;'object'==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x235603(0x249)==typeof navigator[_0x235603(0x59c)][_0x235603(0x9a2)]&&_0x235603(0x249)==typeof MediaDeviceInfo?_0x2fe4a3=!0x0:_0xb63eee[_0x235603(0x195)](_0x30994c[_0x235603(0x81d)],_0x235603(0x2c7)+_0x28acd9+_0x235603(0x774)),this[_0x235603(0x2f5)]['push']({'name':_0x28acd9,'supported':_0x2fe4a3});}[_0x29fc43(0x8bf)](){const _0x37ee07=_0x29fc43,_0x2d06e0=_0x200c96['AudioOutput'];let _0x101152=!0x1;_0x37ee07(0x161)==typeof document&&_0x37ee07(0x249)==typeof document[_0x37ee07(0x68b)](_0x37ee07(0x41d))[_0x37ee07(0xa13)]?_0x101152=!0x0:_0xb63eee[_0x37ee07(0x195)](_0x30994c['Support'],_0x37ee07(0x2c7)+_0x2d06e0+_0x37ee07(0x774)),this[_0x37ee07(0x2f5)][_0x37ee07(0x9f9)]({'name':_0x2d06e0,'supported':_0x101152});}async[_0x29fc43(0x9d2)](){const _0x1ee26e=_0x29fc43,_0x361321=_0x200c96[_0x1ee26e(0x3fd)];let _0x1eca96=!0x1;try{const _0x49058e=document['createElement'](_0x1ee26e(0x59e));if(MediaRecorder&&MediaSource&&_0x49058e['captureStream']){const _0x3ba71b=_0x49058e[_0x1ee26e(0xafb)](),_0x4ce6ea=new MediaRecorder(_0x3ba71b);_0x4ce6ea[_0x1ee26e(0x507)](),await new Promise(_0x786cf4=>setTimeout(_0x786cf4,0x7d0)),_0x4ce6ea['stop'](),_0x1eca96='inactive'===_0x4ce6ea[_0x1ee26e(0x4db)];}}catch(_0x47b5c2){_0xb63eee[_0x1ee26e(0x195)](_0x30994c['Support'],'Support:\x20'+_0x361321+_0x1ee26e(0xa4e),_0x47b5c2);}this[_0x1ee26e(0x2f5)][_0x1ee26e(0x9f9)]({'name':_0x361321,'supported':_0x1eca96}),_0x1eca96||_0xb63eee['log'](_0x30994c[_0x1ee26e(0x81d)],'Support:\x20'+_0x361321+'\x20not\x20supported');}[_0x29fc43(0x5e1)](){const _0x53b6a6=_0x29fc43,_0x264409=_0x200c96[_0x53b6a6(0x876)];let _0x2642fe=!0x1;try{document[_0x53b6a6(0x68b)](_0x53b6a6(0x59e))[_0x53b6a6(0xafb)]&&(_0x2642fe=!0x0);}catch(_0x481eda){_0xb63eee['log'](_0x30994c[_0x53b6a6(0x81d)],_0x53b6a6(0x2c7)+_0x264409+_0x53b6a6(0xa4e),_0x481eda);}this[_0x53b6a6(0x2f5)]['push']({'name':_0x264409,'supported':_0x2642fe}),_0x2642fe||_0xb63eee[_0x53b6a6(0x195)](_0x30994c[_0x53b6a6(0x81d)],_0x53b6a6(0x2c7)+_0x264409+_0x53b6a6(0x774));}[_0x29fc43(0x7ca)](){const _0x809f4d=_0x29fc43,_0x2a7237=_0x200c96[_0x809f4d(0x980)];let _0x48e4ff=!0x1;try{const _0x59ca2b=document['createElement']('canvas');WebGLRenderingContext&&_0x59ca2b['getContext'](_0x809f4d(0x97b))&&(_0x48e4ff=!0x0);}catch(_0x5c4a5e){_0xb63eee[_0x809f4d(0x195)](_0x30994c['Support'],_0x809f4d(0x2c7)+_0x2a7237+_0x809f4d(0xa4e),_0x5c4a5e);}this[_0x809f4d(0x2f5)][_0x809f4d(0x9f9)]({'name':_0x2a7237,'supported':_0x48e4ff}),_0x48e4ff||_0xb63eee[_0x809f4d(0x195)](_0x30994c[_0x809f4d(0x81d)],_0x809f4d(0x2c7)+_0x2a7237+_0x809f4d(0x774));}[_0x29fc43(0x492)](){const _0x49ed1f=_0x29fc43,_0x9eebf=_0x200c96[_0x49ed1f(0xaec)];let _0x201585=!0x1;_0x49ed1f(0x249)==typeof AudioContext?_0x201585=!0x0:_0xb63eee[_0x49ed1f(0x195)](_0x30994c[_0x49ed1f(0x81d)],_0x49ed1f(0x2c7)+_0x9eebf+_0x49ed1f(0x774)),this[_0x49ed1f(0x2f5)][_0x49ed1f(0x9f9)]({'name':_0x9eebf,'supported':_0x201585});}}const _0x482e91=_0xab8f6f[_0x29fc43(0x4f3)]();class _0x4fa125{static [_0x29fc43(0x6c3)];static [_0x29fc43(0x515)];static [_0x29fc43(0x800)];['authService'];[_0x29fc43(0x117)];[_0x29fc43(0x936)];['configs'];['clusters']=new Map();[_0x29fc43(0x8bc)];constructor(_0x49f6b6,_0x1ec4d1,_0x2f754f){const _0xbe3071=_0x29fc43;this[_0xbe3071(0x117)]=_0x49f6b6,this[_0xbe3071(0x57f)]=_0x1ec4d1,this[_0xbe3071(0x67d)]=new _0x2231f0(this[_0xbe3071(0x117)]),_0x482e91['initialize'](),this['options']={'audioContext':_0x2f754f?.[_0xbe3071(0x351)]??(_0x482e91['isFeatureSupported'](_0x200c96[_0xbe3071(0xaec)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x2f754f?.[_0xbe3071(0x55e)]??0x1,'minConnections':_0x2f754f?.[_0xbe3071(0x2e5)]??0x3,'maxConnections':_0x2f754f?.[_0xbe3071(0x255)]??(_0x2f754f?.[_0xbe3071(0x2e5)]&&0x4*_0x2f754f[_0xbe3071(0x2e5)])??0xc,'maxDistance':_0x2f754f?.[_0xbe3071(0x510)]??0xa,'maxFps':_0x2f754f?.[_0xbe3071(0x468)]??0x18,'maxBpp':_0x2f754f?.[_0xbe3071(0x336)]??0.12,'objectStoreConnector':_0x2f754f?.[_0xbe3071(0x407)]??_0x4aa8ac['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x2f754f?.[_0xbe3071(0x8cd)],'keyValueDatabaseConnector':_0x2f754f?.[_0xbe3071(0x706)]??_0x2fcff2['IDBDatabaseConnector'],'peerConnectionConnector':_0x2f754f?.['peerConnectionConnector']??_0x304bd8[_0xbe3071(0x2ab)],'generativeAIWorkerConnectors':_0x2f754f?.['generativeAIWorkerConnectors'],'vectorDatabaseConnector':_0x2f754f?.[_0xbe3071(0x28e)],'graphDatabaseConnector':_0x2f754f?.[_0xbe3071(0x1c2)],'documentParserConnector':_0x2f754f?.['documentParserConnector'],'fileConnector':_0x2f754f?.[_0xbe3071(0x6a8)],'nlpLibraryConnector':_0x2f754f?.[_0xbe3071(0x4dc)],'searchConnector':_0x2f754f?.[_0xbe3071(0x5dd)],'aiSearchConnector':_0x2f754f?.[_0xbe3071(0x8cc)],'queryFileConnector':_0x2f754f?.[_0xbe3071(0x80e)],'ragConnectors':_0x2f754f?.[_0xbe3071(0x69e)]},_0x2f754f?.[_0xbe3071(0x933)]&&this[_0xbe3071(0x936)][_0xbe3071(0x351)]&&_0x16c57a[_0xbe3071(0x7bd)](this[_0xbe3071(0x936)][_0xbe3071(0x351)]),_0xb63eee[_0xbe3071(0xb02)](this['vendorId']),_0x2f754f?.['loggingConnectors']&&_0xb63eee['setLoggingConnectors'](_0x2f754f[_0xbe3071(0xa05)]);}static async[_0x29fc43(0x4f3)](_0x197ec7,_0x2340b3,_0x11c17e,_0x1bd70f,_0x9d4ecf){const _0x64d35a=_0x29fc43;this[_0x64d35a(0x800)]=_0x11c17e;const _0x5236b1=await this[_0x64d35a(0xa9b)](_0x197ec7,_0x2340b3,_0x9d4ecf);return _0x4fa125[_0x64d35a(0x6c3)]||(_0x4fa125[_0x64d35a(0x6c3)]=new _0x4fa125(_0x197ec7,_0x5236b1,_0x1bd70f)),{'close':_0x4fa125[_0x64d35a(0x6c3)][_0x64d35a(0xb1b)]['bind'](_0x4fa125[_0x64d35a(0x6c3)]),'authenticateUser':_0x4fa125['instance'][_0x64d35a(0x71e)][_0x64d35a(0x699)](_0x4fa125[_0x64d35a(0x6c3)]),'authenticateAgent':_0x4fa125['instance'][_0x64d35a(0x650)][_0x64d35a(0x699)](_0x4fa125[_0x64d35a(0x6c3)]),'validateKey':_0x4fa125['instance']['validateKey'][_0x64d35a(0x699)](_0x4fa125[_0x64d35a(0x6c3)]),'joinCluster':_0x4fa125['instance']['joinCluster'][_0x64d35a(0x699)](_0x4fa125[_0x64d35a(0x6c3)])};}static async[_0x29fc43(0x50b)](){const _0x28272b=_0x29fc43;return _0x9824f6[_0x28272b(0x224)]();}static[_0x29fc43(0x54d)](){const _0x690f2f=_0x29fc43;return _0x3dbf37[_0x690f2f(0x54d)];}async[_0x29fc43(0xb1b)](_0x1580f8){const _0x129dea=_0x29fc43;this[_0x129dea(0x4d0)][_0x129dea(0x7f9)](_0x40be82=>{const _0x3e24b1=_0x129dea;_0x40be82[_0x3e24b1(0xac1)](),_0x40be82[_0x3e24b1(0x8a0)](_0x1580f8);}),this[_0x129dea(0x4d0)][_0x129dea(0x985)](),this[_0x129dea(0x936)][_0x129dea(0x351)]&&_0x16c57a['stopNoThrottlingHack'](),_0x4fa125[_0x129dea(0x515)]?.(),_0x4fa125['unsubscribe']=void 0x0,this['authContext']=void 0x0,await this[_0x129dea(0x67d)]['signOut'](),_0x4fa125['instance']=void 0x0;}static async[_0x29fc43(0xa9b)](_0x43107f,_0x5e110d,_0x495af0){const _0x50992c=_0x29fc43;if(!this[_0x50992c(0x800)])throw new _0x27674c(_0x3d6c7a['NodeTypeRequired'],_0x50992c(0x191));let _0x1d2326;try{_0x1d2326=await(0x0,_0x1b22e6[_0x50992c(0x88b)])(_0x9824f6[_0x50992c(0x640)](),_0x50992c(0x25f))({'vendorId':_0x43107f,'accessToken':_0x5e110d,'secretKey':_0x495af0});}catch(_0xd46e70){throw new _0x27674c(_0x3d6c7a[_0x50992c(0xae8)],_0x50992c(0x8af));}if(!this[_0x50992c(0x768)](_0x1d2326['data']))throw new _0x27674c(_0x3d6c7a[_0x50992c(0xae8)],'Invalid\x20credentials');const _0x44a53e=_0x1d2326[_0x50992c(0x7d7)];return _0x44a53e['features']||(_0x44a53e[_0x50992c(0x282)]=[]),this[_0x50992c(0x515)]||(this[_0x50992c(0x515)]=_0x16c57a[_0x50992c(0x875)](async()=>{const _0xf96635=_0x50992c;try{const _0x803ea=await this[_0xf96635(0xa9b)](_0x43107f,_0x5e110d,_0x495af0);this[_0xf96635(0x800)]===_0x47b47a[_0xf96635(0x394)]['Agent']&&(_0x803ea[_0xf96635(0x676)]=_0x803ea['iceServers'][_0xf96635(0x81c)](_0x5d938a=>_0x5d938a[_0xf96635(0xa41)][_0xf96635(0xa8b)](_0xf96635(0x6be)))),_0x44a53e[_0xf96635(0x676)]=_0x803ea[_0xf96635(0x676)];}catch(_0x2168d0){}},0x1b7740)),_0x44a53e;}async[_0x29fc43(0x71e)](_0x4a0b62){const _0xbd48e=_0x29fc43;if(_0x4fa125[_0xbd48e(0x800)]!==_0x47b47a['NodeType']['User'])throw new _0x27674c(_0x3d6c7a[_0xbd48e(0x9da)],_0xbd48e(0x1ef));await this[_0xbd48e(0x67d)][_0xbd48e(0xadf)](_0x4a0b62);const _0x51b6e1=new _0x383e1a(_0x4a0b62['id'],_0x4a0b62['displayName'],_0x4a0b62[_0xbd48e(0x542)]);return this[_0xbd48e(0x8bc)]={'node':_0x51b6e1},_0x482e91[_0xbd48e(0x8f8)](_0x51b6e1),{'type':_0x47b47a['NodeType'][_0xbd48e(0x4af)],'getId':_0x51b6e1[_0xbd48e(0x994)][_0xbd48e(0x699)](_0x51b6e1),'getDisplayName':_0x51b6e1[_0xbd48e(0x13d)][_0xbd48e(0x699)](_0x51b6e1),'getEmail':_0x51b6e1['getEmail']['bind'](_0x51b6e1),'setDisplayName':_0x51b6e1[_0xbd48e(0x600)]['bind'](_0x51b6e1),'setEmail':_0x51b6e1['setEmail'][_0xbd48e(0x699)](_0x51b6e1)};}async[_0x29fc43(0x650)](_0x84737e){const _0x24992c=_0x29fc43;if(_0x4fa125['mode']!==_0x47b47a['NodeType'][_0x24992c(0x48a)])throw new _0x27674c(_0x3d6c7a[_0x24992c(0x9da)],'Node\x20type\x20is\x20invalid');const {id:_0x30beea,groupId:_0x23c6cd}=_0x84737e,_0x404280=await(0x0,_0x4a79c7[_0x24992c(0x79a)])((0x0,_0x4a79c7['doc'])(_0x9824f6[_0x24992c(0xb00)](),_0x24992c(0xa81)+this[_0x24992c(0x117)]+_0x24992c(0x76e)+_0x23c6cd));if(!_0x404280[_0x24992c(0x8a4)]())throw new _0x27674c(_0x3d6c7a['NodeNotAuthenticated'],_0x24992c(0x817));const _0x37a0d2=_0x404280['data']();await this[_0x24992c(0x67d)]['signInWithCredential']({'id':_0x30beea});const _0x4791b9=new _0xbd252f(_0x30beea,_0x23c6cd,this['vendorId'],_0x37a0d2);return this[_0x24992c(0x8bc)]={'node':_0x4791b9},_0x482e91[_0x24992c(0x8f8)](_0x4791b9),this[_0x24992c(0x401)](_0x4791b9),{'type':_0x47b47a[_0x24992c(0x394)][_0x24992c(0x48a)],'getId':_0x4791b9[_0x24992c(0x994)][_0x24992c(0x699)](_0x4791b9),'onConfigurationChange':_0x4791b9['onConfigurationChange'][_0x24992c(0x699)](_0x4791b9),'setReportCapacity':_0x4791b9[_0x24992c(0x2cf)][_0x24992c(0x699)](_0x4791b9)};}async[_0x29fc43(0x495)](_0x7847c,_0x2de0cc){const _0x481c11=_0x29fc43,_0x412e90=await(0x0,_0x4a79c7[_0x481c11(0x79a)])((0x0,_0x4a79c7[_0x481c11(0x463)])(_0x9824f6[_0x481c11(0xb00)](),_0x481c11(0x6e7)+_0x7847c));if(!_0x412e90[_0x481c11(0x8a4)]()){const _0x4c1b6f=atob(_0x7847c)[_0x481c11(0x388)](':'),_0x1824e6=_0x4c1b6f[_0x481c11(0x3e5)](),_0x121f35=_0x4c1b6f[_0x481c11(0x98d)](':');if(!_0x1824e6||!_0x121f35)throw new _0x27674c(_0x3d6c7a[_0x481c11(0xae8)],'Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken');try{return await(0x0,_0x1b22e6['httpsCallable'])(_0x9824f6[_0x481c11(0x640)](),'sdkValidateAccess')({'vendorId':_0x1824e6,'accessToken':_0x121f35,'origin':_0x2de0cc}),_0x1824e6;}catch(_0x2149f5){throw new _0x27674c(_0x3d6c7a[_0x481c11(0xae8)],_0x481c11(0x926)+(_0x2149f5 instanceof Error?_0x2149f5[_0x481c11(0x356)]:'Unknown\x20error'));}}return _0x412e90[_0x481c11(0x7d7)]()['vendorId'];}async[_0x29fc43(0x8cf)](_0x107d5b,_0x581769){const _0x29b937=_0x29fc43;if(!this[_0x29b937(0x8bc)])throw new _0x27674c(_0x3d6c7a[_0x29b937(0x905)],_0x29b937(0x960));if(this[_0x29b937(0x8bc)]['node'][_0x29b937(0xacf)]!==_0x47b47a[_0x29b937(0x394)][_0x29b937(0x4af)])throw new _0x27674c(_0x3d6c7a[_0x29b937(0x3f5)],_0x29b937(0xad2));if(this[_0x29b937(0x4d0)][_0x29b937(0x716)](_0x107d5b))throw new _0x27674c(_0x3d6c7a['ClusterAlreadyJoined'],_0x29b937(0x7ce));const _0x20ae67=new _0x37d499(this['vendorId'],_0x107d5b,this['authContext'][_0x29b937(0x813)],this[_0x29b937(0x67d)],this[_0x29b937(0x936)],this['configs']);return!0x0!==_0x581769&&await _0x20ae67[_0x29b937(0x98d)](),this[_0x29b937(0x265)](_0x107d5b,_0x20ae67),_0xb63eee[_0x29b937(0x684)]('join-cluster',{'clusterId':_0x107d5b,'nodeId':this[_0x29b937(0x8bc)][_0x29b937(0x813)][_0x29b937(0x994)](),'nodeType':this[_0x29b937(0x8bc)][_0x29b937(0x813)][_0x29b937(0xacf)]}),{'leave':_0x20ae67[_0x29b937(0x8a0)][_0x29b937(0x699)](_0x20ae67),'getLocalNode':_0x20ae67[_0x29b937(0x2c2)]['bind'](_0x20ae67),'openPubSubTopic':_0x20ae67[_0x29b937(0x49b)][_0x29b937(0x699)](_0x20ae67),'openObjectStoreBucket':_0x20ae67[_0x29b937(0xab0)][_0x29b937(0x699)](_0x20ae67),'openExternalStorageConnection':_0x20ae67[_0x29b937(0x3a6)][_0x29b937(0x699)](_0x20ae67),'openKeyValueDatabase':_0x20ae67['openKeyValueDatabase'][_0x29b937(0x699)](_0x20ae67),'openGenerativeAIContext':_0x20ae67[_0x29b937(0x231)][_0x29b937(0x699)](_0x20ae67),'openGenerativeAIContextStandalone':_0x20ae67['openGenerativeAIContextStandalone'][_0x29b937(0x699)](_0x20ae67),'openGenerativeAIWorker':_0x20ae67[_0x29b937(0x9f3)][_0x29b937(0x699)](_0x20ae67),'openGraphDatabase':_0x20ae67[_0x29b937(0x6fe)]['bind'](_0x20ae67),'openVectorDatabase':_0x20ae67['openVectorDatabase'][_0x29b937(0x699)](_0x20ae67),'publishLocalMediaStream':_0x20ae67[_0x29b937(0x446)][_0x29b937(0x699)](_0x20ae67),'publishLocalDynamicMediaStream':_0x20ae67['publishLocalDynamicMediaStream'][_0x29b937(0x699)](_0x20ae67),'getPubSubTopics':_0x20ae67[_0x29b937(0xb16)]['bind'](_0x20ae67),'getObjectStoreBuckets':_0x20ae67['getObjectStoreBuckets'][_0x29b937(0x699)](_0x20ae67),'getExternalStorageConnections':_0x20ae67[_0x29b937(0xaf1)][_0x29b937(0x699)](_0x20ae67),'getKeyValueDatabases':_0x20ae67[_0x29b937(0x47b)]['bind'](_0x20ae67),'getGenerativeAIContexts':_0x20ae67[_0x29b937(0x9d1)][_0x29b937(0x699)](_0x20ae67),'getGenerativeAIContextsStandalone':_0x20ae67[_0x29b937(0x232)][_0x29b937(0x699)](_0x20ae67),'getGenerativeAIWorkers':_0x20ae67['getGenerativeAIWorkers'][_0x29b937(0x699)](_0x20ae67),'getGraphDatabases':_0x20ae67[_0x29b937(0x590)][_0x29b937(0x699)](_0x20ae67),'getVectorDatabases':_0x20ae67[_0x29b937(0x6ee)]['bind'](_0x20ae67),'getLocalMediaStreams':_0x20ae67['getLocalMediaStreams'][_0x29b937(0x699)](_0x20ae67),'getRemoteMediaStreams':_0x20ae67[_0x29b937(0x974)][_0x29b937(0x699)](_0x20ae67),'getRemoteNodes':_0x20ae67[_0x29b937(0x301)][_0x29b937(0x699)](_0x20ae67),'on':_0x20ae67['on'][_0x29b937(0x699)](_0x20ae67),'off':_0x20ae67['off'][_0x29b937(0x699)](_0x20ae67)};}async['connectAgent'](_0x5505e0){const _0x1bac23=_0x29fc43,_0x31d016=new _0x37d499(this[_0x1bac23(0x117)],_0x1bac23(0x553),_0x5505e0,this[_0x1bac23(0x67d)],this[_0x1bac23(0x936)],this[_0x1bac23(0x57f)]);await _0x31d016[_0x1bac23(0x98d)](),this[_0x1bac23(0x265)](_0x1bac23(0x553),_0x31d016),_0xb63eee['forceLog'](_0x1bac23(0x4b4),_0x1bac23(0x553)),await _0x31d016['openGenerativeAIWorker'](_0x1bac23(0x553)),_0xb63eee[_0x1bac23(0x9b4)](_0x1bac23(0x4ae),_0x1bac23(0x553));}[_0x29fc43(0x265)](_0xc14cf8,_0x5dd3d6){const _0x55c41a=_0x29fc43;this[_0x55c41a(0x4d0)]['set'](_0xc14cf8,_0x5dd3d6),_0x5dd3d6['on'](_0x55c41a(0xa29),()=>{const _0x1521fb=_0x55c41a;_0x5dd3d6[_0x1521fb(0xac1)](),this['clusters']['delete'](_0xc14cf8);});}static['isInternalSDKConfigs'](_0x40ff52){const _0x57e6dd=_0x29fc43;return void 0x0!==_0x40ff52[_0x57e6dd(0x676)];}}return _0x3d62f4;})())));