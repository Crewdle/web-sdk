function a0_0x259f(){const _0x5c9c29=['setupRenderElement','relations','Invalid\x20data\x20event.','jobs','stopConnection','discoveryUnsubscriber','setParams','.java','file-upload','object-storage-upload','setRemoteConnections','wait','URL\x20is\x20required','processDataChannelReport','ObjectStoreInvalidSyncMessage','Node\x20is\x20not\x20an\x20agent','object-storage','utf8','clearSubscriptionRequestTimeout','results','startHeartbeat','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','isIceCandidate','handleObjectDelete','UnsubscribeMediaStreamdiaStream','crewdle-sdk-logging-','isArray','JobWorkerCreationFailed','ExternalStorageInvalidPath','state','getAvailableTrackKinds','encode','checkExistingPendingFileContent','firebaseUnsubscriber','currentFrames','supported','confirmSynchronization','page','\x20after\x20','No\x20connections\x20available\x20to\x20send\x20message','onDisconnectHandler','remediationManager','sendBid','operations','threadId','handleSubscriptionRestartNeedMediaStream','Failed\x20to\x20send\x20job\x20','closed','lastClockUpdate','logDataSent','WorkflowTrace','links','destinationIds','threshold','vector-database-creation-failed','job-dispatcher-job-exists','receivers','PromptRating','waitForArrayBufferSize','Publish\x20the\x20transaction','getMilliseconds','ConnectionNoRetryQueue','signalingServer','.handlebars','processPendingSyncTransactions','batchQueue','\x0a\x0a`Executing\x20agent\x20','frames','values','versions','getJobDispatchers','all','Error\x20loading\x20external\x20content','add','getConnectionGroup','setInternalId','remoteMediaStreams','Incoming','Emitting\x20event\x20on\x20local\x20cluster','getWorkflowModels','msalGetAccessToken','receiverStreams','propn','setDoc','onClose','file-write','ingestBlocks','mmrRoot','RemoteAdd','connectionState','-leave','contentQueue','startsWith','Logger.getInstance','setOnTableWriteHandler','getAuth','syncedFileExists','shift','bufferedAmount','PayloadAction','openExternalStorageConnection','Database\x20not\x20open','addProblem','setCurrentVersion','ReceiverPeerConnection.onMessage','addCandidate','checkMediaRecording','retryQueues','getRoundTripTime','isMediaSource','framerate','grammar','Method\x20not\x20implemented.','Node','Model','documentPath','round','index','contentSize','invalid-data-chanel','generative-ai-label-conflict','chunks','Invalid\x20key\x20\x27','getSettings','externalStorageConnectors','OfficeParser','restartTimeout','signInWithCustomToken','getRank','JobStream','subscription-request-failed','blockId','fileSendingMap','.md','text/','incomingManager','removeRemoteConnection','.py','6080984nlKTJY','LoadKnowledgeFunction','getTotalBytes','evaluatePartialJob','send','graphql','handleContentUpdateMediaStream','handleRequestPayload','getSTVolatility','getStatus','handleNoAnswer','lastCapacityReport','From\x20','processAddContent','handleSystemEvents','Move','upgrade','pendingFilesRename','Subscription\x20request\x20does\x20not\x20exist.','generativeAIWorkerConnectors','Connected','Remote\x20connection\x20already\x20exists.','Audio','attributes','doc','job-dispatcher-invalid-job-type','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','registerRemoteNode','GenerativeAIContextInvalidPartialResult','authNode','_isReady','JobDispatcherCreationFailed','.xls','getExternalStorageConnection','senderBitrate','Opened\x20external\x20storage\x20connection','startTracing','system','Error\x20reading\x20file\x20chunk\x20after\x20','JobDispatcherDoesNotExist','GraphDatabaseCreationFailed','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','8730519tDZZIJ','stream','Reranker','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','clearWaitAnswer','ConnectionNotConnected','counter','getSubscriptionLabel','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','subscriptionRequests','\x20attributed\x20to\x20','getResolution','WordSplitter','unsubscribeListener','events','addPendingHandshakeCandidate','processJobStream','publishSystemMessage','debounceRebuildMMRWithTransaction','Method\x20not\x20supported','function','JobWorkerInvalidType','internalProcessJob','external-storage-connection-already-subscribed','AudioContext','.hs','remote-stream-missing-provider-id','setEncodingParameters','receiver-on-message','aiSearchConnector','createJobDispatcher','Error\x20resolving\x20readyPromises:','remoteId','deleteTransactionsForTable','Missing\x20transaction\x20id','key-value-database-invalid-value','sendTransactionsValue','problemType','unregisterDestination','IDBDatabaseConnector','Content','Node\x20not\x20authenticated','Data','Internal\x20SDK\x20error:\x20','distance','unregisterCluster','closeTopic','getLocalId','renderElement','pendingFilesTransactions','relation-extractor','\x27\x20in\x20table\x20\x27','nextNodeId','Invalid\x20peer\x20connection\x20event\x20destination.','limitToFirst','detail','graph-database','batchSize','resetConnection','removeSubscription','logSyncMetrics','commitBatch','pop','outgoingManager','audioContext','Debug','answer','connectionStateListener','Connection','KeyValueDatabaseStats','delete','getConnection','.json','content-unpublish-media','key','once','RemoteMediaStreamDoesNotExist','GenerativeAIEngineType','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','ObjectStoreNotSynced','getIsLoaded','external-storage-connectors-missing','NodeConnectionsUpdate','RemoteMediaStreamInvalidSubscriptionParams','senders','SubscribeMediaStream','Error\x20fetching\x20URL','NodeJoin','.info/serverTimeOffset','Setting\x20context\x20for\x20agent\x20block','handleSubscriptionMediaStreamUnavailable','Offline','crewdle-sdk-stg.appspot.com','getRemoteNode','receiverCurrentTimestamp','getApp','join-cluster','bitrate','validateLayout','publish','warning','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','File','exists','unregisterPublisherListener','senderCurrentTimestamp','mediaStream','signOut','authenticateAgent','object-store-cannot-write-transaction','component','Generative\x20AI\x20context\x20job\x20timeout.','senderStreams','GraphDatabaseAlreadyExists','ExternalStorageConnectionDoesNotExist','job-dispatcher-already-exists','external-storage','Workflow','getTrack','getShareableStream','\x20writes\x20from\x20','appsync-close','LocalMediaStreamTrackFail','isSync','retryDelay','buildQuery','removeRemoteStreamSubscription','Get','getFirestore','cachedRoot','AI\x20Service\x20already\x20exists','unregisterRemoteNode','getBuffer','handleNodeLeave','asObservable','getReport','topics','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','GenerativeAIWorkerCreationFailed','JobQueueService:\x20Job\x20completed','removeListener','getDataCollections','.swift','logs','slice','storageType','All','GenerativeAIContextAlreadyExists','processInboundReport','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','NeedRestart','.tsx','graphDatabases','PublishMediaStream','notifyClusterNodeUpdate','processTransactionPayload','collectSendersStats','processReceivedTransactions','Model\x20store\x20not\x20initialized','GraphDatabaseNameNotString','canRestartHandshake','systemTopicUnsubscribe','publishFile','executeAgent','accumulated','fromEntries','createBatchOperation','right','audio','NodeManager\x20-\x20NodeLeave','openGraphDatabase','path','sendChunked','file','/transactions/','ObjectStore','onSnapshot','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','resume','connectionGroup','\x0a\x0a`Executing\x20custom\x20skill\x20','maxThreshold','handleError','getPeakNode','1.0.14.0','Missing\x20AI\x20worker\x20connector','objectStorageBuckets','retry','handleSuccess','handleFileSync','createGraphDatabase','CrewdleConnectionGroup','owner','addAudioTrack','modelStore','JobWorker:\x20Sending\x20job\x20result','\x0a</uploaded-files>','getNumberOutgoingSubscriptions','Error\x20searching','failJob','getMaxConnections','CloseKeyValueDatabase','AppSync\x20client\x20not\x20ready','functions','ExternalStorageStats','ref','appendTransaction','connection-not-initialized','next','/resources/agent/items/','outgoingStreams','validateValue','createAIJob','handleOffer','\x20finalized.','NodeTypeRequired','unregisterSystemPublisher','deletePendingFile','audioDestination','createReceiverConnection','action','urls','LoadSkillFunction','getObjectStoreBuckets','getShareableStreamId','Media','senderTimeProcessing','Joined\x20cluster','remoteNodes','indexes','objectStoreId','Object\x20store\x20is\x20not\x20in\x20sync','Error\x20stringifying\x20object','asc','isValidMediaSubscriptionParams','getResolutionScale','removeSubscriptionsForNode','tokens','subscriptions','subscribe','ExternalStorage','Internal\x20error:\x20','Failed','addRemoteConnection','findIndex','handleNodeSystemEvents','JobStatus','publishFolder','registerSubscriber','dataTopics','timePerFrame','joinedClusters','Orchestrator\x20handleSystemEvents','Opened\x20graph\x20database','.txt','local-stream-does-not-exist','Index','ownerId','getTable','syncResolve','internal-sdk-error','ObjectKind','statsManager','getQuery','\x0a\x20===\x20Wait\x20Time:\x20','streamId','unregisterSystemSource','debug','User','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','instantiateTransactionTable','senderConnection','869522bdzpvd','0\x20B','subscribedTracks','isConnected','createGenerativeAIWorker','readyDebounce','workflow','KeyValueDatabasePeakNotFound','RequestAccepted','.xml','G-F7W8KXRKQB','SystemStats','writeFile','getOutgoingOptimizationConnections','createIncomingSubscription','jobDispatchers','compileStats','pubSubTopics','loggingConnectors','answers','observe','Invalid\x20data\x20channel.','notifyClusterNodeJoin','getInternalStreamId','setUpgradeTimeout','ENOENT','Cannot\x20publish\x20folder:\x20','clientHeight','rating','random','webgl','pub-sub-topic-already-exists','\x27\x20payload:','getGenerativeAIWorkers','getSenderTotalBytes','relevance','\x27\x20dabatase\x20id.','removeGraphDatabase','LocalMediaStreamDoesNotExist','.conf','openKeyValueDatabase','receiverPreviousBytes','onBufferedAmountLow','getJob','jitter','nodeManager','\x0a</','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','some','getContent','move','capacityReporter','queries','debounceLogTimeout','onHandshakeStateChange','handleSubscriptionUnsubscribeMediaStream','pathName','RoundTripTime','handshakeState','LocalReport','Invalid\x20version\x20\x27','\x20must\x20be\x20a\x20number','getTransactionByHash','en-US','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','ObjectStoreAlreadySubscribed','getGrammars','createRemoteMediaStream','getDocs','FolderMove','Attempt\x20','.xlsx','Entity','ConnectionNotinitialized','tableObserver','getDisplayMedia','\x0a\x20===\x20Total\x20Time:\x20','getPeaks','extendedRecipients','registerDestination','handleObjectMove','object','getEmail','app','publishMove','UnsubscribeMediaStream','checksum','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','removePubSubTopic','.js','Chosen\x20answer','disconnect','syncTransactions','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','searchConnector','notifyObjectStoreOfNodeLeave','Base\x20Peer\x20Connection','internalContext','startIndex','removeNode','canvas','KeyValueDatabaseTransactionTableNotInitialized','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','sendPeakTransactions','mediaDevices','handleContentUnpublishMediaStream','endpointUrl','every','GraphDatabase','NodeManager\x20-\x20PublishNodeLeave','Subject','getRemoteMediaStreams','Node\x20type\x20is\x20required','entries','checkDeviceConfig','pow','.doc','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','VectorDatabaseStats','params','checkScreenSharing','.vbs','createSubscription','Missing\x20remote\x20node\x20or\x20rank','VectorDatabase','GenerativeAIRatingStatus','CanProvideMediaStream','waitSendBuffer','jobQueue','GetContextQuery','Received\x20event\x20on\x20cluster','.cfg','Info','JobWorker:\x20Sending\x20job\x20bid','UnpublishMediaStream','updateLastTransactionId','inputType','syncTransactionsWritten','dbKey','comparePeaks','notifyJoin','contentQueueRunning','Error\x20committing\x20batch:','call','InternalSDKError','getEngineType','key-value-database-name-not-string','handleContentUnsubscribeMediaStream','Invalid\x20job\x20service\x20payload.','Setting\x20context\x20for\x20answer\x20block','job-dispatcher-does-not-exist','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','syncPendingFiles','maxConnections','onProviderChange','getPriority','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','registerCluster','missing-datachannel','contentType','High','performCalculation','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','Pending','getSize','supports','Skill','PubSubTopicAlreadySubscribed','streamLabel','ConnectionInvalidDataEvent','Restart\x20NeedMediaStream','mediaUnsubscribers','objectRequests','publishLocalMediaStream','Buffered\x20chunks\x20are\x20too\x20large','ObjectStorageUpload','Generative\x20AI\x20context\x20job\x20failed.','context','deleteRemoteNode','\x27\x20is\x20not\x20ready','handleNodeJoinNeedPublishedStream','Bitrate','ObjectStoreAlreadyExists','suspended','stopNoThrottlingHack','getSenderBitrate','InvalidPublisher','origin','timeoutCallback','clearWaitSuccess','SHA-1','custom-skill','createBatch','getTableConnector','connectionPool','ClosePubSubTopic','incrementVersion','getMediaStream','Disconnect','generateClient','6TZGgYc','vectors','GenerativeAIModelInputType','checkBackgrounds','api','createDataChannel','Error\x20closing\x20writable\x20stream','RequestFileSync','InvalidSubscription','Workflow\x20not\x20initialized','openJobWorker','bufferedChunks','MissingSystemTopic','\x20to\x20send\x20dispatcherJob\x20','Invalid\x20job\x20worker\x20type.','isComputingMMR','searchOnGoogle','database','\x20attempts:','CloseVectorDatabase','peer-connection','AiSearch','lastHeartbeat','sendReject','Receiving\x20\x27','clusterKey','Rejected','currentVersion','clusterEventEmitter','forEach','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','vector','providerId','start','publishSyncCompletedAfterWrites','\x20completed.','signInWithCredential','local-media-stream-already-exists','dataStores','Sender','dispatchEvent','PeerConnectionInvalidDestination','connectAgent','connect','\x20seconds','processLocalReport','Missing\x20answerer\x20id\x20on\x20request\x20answer','KeyValueDatabaseTransactionValueNotSet','roundTripTime','cluster','\x20to\x20generate\x20a\x20response.','Operations:','Apply\x20remediation','getEntities','warn','now','\x20with\x20\x27','getSupportedContentTypes','\x0a\x20===\x20Synchronization\x20Time:\x20','localId','Events','addVideoTrack','FinalOutput','undefined','indexOf','Database\x20does\x20not\x20exist','mediator','Parameter\x20','handleSubscribeMediaStream','buffer','google','debounceProcessRank','batch','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','signalingState','_ready','processContentSynchronized','isInternalLoggingConnector','debounceAppendLog','time','job-worker-creation-failed','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','ObjectStoreNameNotString','externalStorages','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Internal\x20SDK\x20Error:\x20',':\x20Object\x20store\x20is\x20not\x20in\x20sync','No\x20connector\x20found\x20for\x20model','setupListeners','IntermediateOutput','Downgrade','writeTransaction\x20-\x20transaction\x20already\x20exists','MediaStreamPriority','arrayBufferToObject','handleOutgoingSystemEvents','Received\x20ContentSynchronized\x20from\x20','isProduction','lastProcessRank','Offer','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','Unexpected\x20output\x20type','layout','sentence-splitter','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','trim','ConnectionState','Error\x20processing\x20ingest','northamerica-northeast1','localNode','createRemoteNode','subscriptionRequestsQueue','includes','publishSyncCompleted','getLocalNode','noun','SHA-256','CloseGraphDatabase','transactionTable','.jl','FolderCreate','providerListener','handlePeerConnectionSystemEvents','WorkflowInvalidBlockType','PromptFunctionParamsType','addIssue','getItem','Connection\x20not\x20connected.','maxBpp','collectReceiversStats','transactionsToSync','.ps1','1:519415702791:web:5dd39042f881cfde3251a2','updated','commit','RemoteMediaStreamTrackFail','totalEncodeTime','storeId','getGraphDatabase','Missing\x20vector\x20database\x20connector','Default','setupConnectionEvents','mmr','Unknown\x20skill\x20type','object-store-invalid-path','cluster-leave','pubsub','cpu.time_per_frame','1785086VlHNOn','enabledChannels','clusters/','CloseMediaStream','ExecuteCustomSkill','CrewdleReceiverConnection\x20ontrack','\x20already\x20exists','task','JobQueueService:\x20Error\x20running\x20job','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','StorageEventType','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','total','PeerConnection','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','accessToken','internal','openTrace','queryParameters','orchestrator','processContentAvailable','createObjectStoreBucket','graphService','Cannot\x20get\x20file:\x20','Signaling','ExecuteCode','handleSubscriptionProvideMediaStream','maxLayer','Additional\x20context:\x0a','.cs','clockSkew','.html','logRaw','parentId','handleContentRemoteMediaStreamTrackFail','removeRemoteNode','system-stats','KeyValueDatabaseDoesNotExist','ModelVector','findNewMediaSubscription','RemoteMediaStreamAlreadyExists','KeyValueDatabaseContentAvailable','processReceiverReport','.liquid','setTimestamp','handleChunkMessage','RemoteRemediation','KeyValueDatabaseSyncRequired','{\x20\x22status\x22:\x20\x22success\x22\x20}','data','interval','hasOwnProperty','keyValueDatabases','Bid','AgentSkill','Subscription','GenerativeAIContextJobAlreadyConsumed','agentId','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','addBidResponse','fileChunks','stringify','verb','listChanges','KeyValueDatabaseContentSynchronized','handleLocalTrackFailure','Stream\x20already\x20exists','workflow-invalid-block-type','/resources/generative-ai-agent/items','JobContext','invalid-access','.ini','QueryBuilderInvalidArgument','receiverBitrate','getSubscribedTracks','vector-database-already-exists','remove','getPubSubTopics','boolean','Processing','NodeNotAuthenticated','isFeatureSupported','getRoot','getGraphDatabases','responseTimeout','2761925XhSksA','Stats','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Retrieve','publishLocalDynamicMediaStream','Agent\x20output\x20is\x20not\x20a\x20string','agent','Remediation','waitSuccess','agentConfig','mediaTopics','peer-connection-invalid-destination','setLocalRank','addEventListener','onConnectionStateChange','clearUpgradeTimeout','removeVectorDatabase','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','PubSub\x20already\x20exists','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','Search\x20connector\x20not\x20set','publishTransaction','from','feedback','files','loadLocalContent','inputTokens','secheduleTime','debounceReady','SubscriptionRequestInProgress','jobObservers','getCurrentVersion','storage','object-store-invalid-sync-message','recomputeRoot','openPubSubTopic','object-store-invalid-state','RelationExtractor','priority','assign','handleOnMessage','onGatheringStateChange','More\x20content\x20available\x20on\x20page\x20','EntityExtractor','\x20created\x20and\x20dispatched.','Internal\x20unknown\x20error:\x20','internalRatePrompt','Invalid\x20index\x20in\x20table\x20\x27','getCurrentMaxLayer','getDisplayName','openedTraces','jobType','receiverPreviousTimestamp','queues','hasRemoteNode','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','key-value-database-table-name-reserved','authService','.erb','DeviceConfig','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','fps','ChunkSplitter','GenerativeAIContextJobFailed','peerConnectionConnector','engine','close','accumulateResult','take','answerJoin','mute','SearchGoogle','searchApiKey','currentBatch','Amplify','subscribeToLocalContent','.cpp','maxDepth','statsReport','NodeDoesNotExist','size','node-already-exist','createOffer','complete','loadEnabledChannels','\x20deleted.','handleFolderCreate','getWorkflowExternalStorageConnections','addNode','Node\x20type\x20is\x20invalid','Code\x20is\x20required','Initial\x20MMR\x20built\x20with','code','handleSubscriptionNeedMediaStream','length','getMediaSubscription','Received\x20content\x20available\x20from\x20node','targetId','request-accepted','clearHeartbeat','ExternalStorageConnectionAlreadySubscribed','connections','captureStream','stopTracing','isAvailable','RequestFileWrite','ExecuteAgent','computeHash','isJobAttribution','setConnectionType','removeLocalMediaStream','durationTime','Memory\x20Usage\x20at\x20','vectorDatabases','handleOptimizationConnectionSuccess','GraphSearch','323112rkwyyZ','messageBuffer','output','generativeAIContexts','Agent\x20block\x20is\x20missing\x20required\x20data','/resources/generative-ai-model/items','transactionsToAppend','Key-value\x20database\x20peak\x20not\x20found.','bucketId','isMediaDestination','VectorDatabaseDoesNotExist','appsync-no-destination','newPath','\x20-\x20','createKeyValueDatabase','dataBucketIds','listenerUnsubscribers','reduce','Generative\x20AI\x20context\x20job\x20already\x20consumed.','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','stats','RemoteConnectionExists','graph-database-creation-failed','ObjectStoreInvalidPath','LocalMediaStreamNoAudioContext','generative-ai-context-invalid-partial-result','evaluateBids','propagate','vector-database-does-not-exist','1.0.14','bind','FramePerSecond','removeContent','receiverUnsubscribers','connector','OutgoingMediaStreamNoTopic','fetchContentFromUrl','detectLocalIssues','configs','uid','Reranker\x20block\x20is\x20missing\x20required\x20data','cost','filter','processPendingHandshakeCandidates','Key-value\x20database\x20creation\x20failed.','retryCount','Attribution','KeyValueDatabaseTableDoesNotExist','JobWorkerDoesNotExist','endpoint','agent-config-changed','between','Error\x20retrieving\x20context','type','invalid-subscriber','relation','frameWidth','DatabaseEvent','floor','All\x20recipients\x20already\x20received','getWorkflow','pendingFilesSyncing','created','systemMessages','open','title','invalid-publisher','Missing\x20graph\x20database\x20connector','retryLimit','Hash\x20computation\x20failed,\x20retrying...','debugEnabled','debounceRebuildMMR','setTimeout','ratePrompt','get-content','Everyone\x20','getSubscriptionInfo','NodeInvalidType','Invalid\x20subscriber.','checkAudioVolume','muted','getLabel','createBufferSource','node-type-not-supported','filesSynced','createBuffer','setRemoteNode','getDoc','StreamReport','filteredDestinationIds','420235181083','Error\x20executing\x20agent','hasBufferedData','contentRequestSent','logLevel','Invalid\x20subscription.','waitAnswer','getMinConnections','media-stream','frameHeight','SubscriptionRequestFailed','bufferEvent','onTrack','load','internalProcessJobStream','connected','Error\x20loading\x20existing\x20content','clientStream','handleSubscriptionSystemEvents','tables','SenderPeerConnection\x20send','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','NeedMediaStream','Early\x20return:\x20','transactionQueue','leave','setupStatsCollection','openGenerativeAIContext','scheduleTime','logServiceEvent','createGain','setDisplayName','enabled','us-east-1','logMMRRebuild','collectStats','Model\x20not\x20found:\x20','AudioVideoDelay','cluster-already-joined','Warning','handleMissingSenders','sdkValidateAccess','.awk','generative-ai-context-job-already-consumed','handleRemoteTrackFailure','remote-media-stream-already-exists','user-join','chunksReceived','clusterId','joinedAt','SenderSendMessage','getIdToken','nodes','tableUnsubscriber','hasTable','true','timeSending','event','JobQueueService:\x20Running\x20job','MediaStream','gpu','FetchUrl','\x20new\x20transactions','removeEventListener','generative-ai-worker-already-exists','validateAccess','has','JobType','Key-value\x20database\x20transaction\x20value\x20not\x20set.','SubscriptionRequestNoAnswer','request-file-sync','issues','catch','Logging\x20not\x20enabled\x20for\x20channel\x20','models','Received\x20track','User\x20not\x20signed\x20in','concat','Could\x20not\x20open\x20trace','OutgoingSubscription','removeExternalStorageConnection','An\x20error\x20occurred','objectStoreConnector','data-collection','rank','\x20check\x20failed','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','append','addConnection','cores','remediation','setupTrackEndedListeners','external-storage-connection-does-not-exist','destroy','onRemoveTrack','packets','key-value-database-already-exists','Rating','join','getDataLogged','Low','WebRTC','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','KeyValueDatabaseInvalidValue','lastExecuted','\x20already\x20exists.','Relation','connectionType','updateJob','httpsCallable','rate','addRemoteNode','openJobDispatcher','retryCallback','temperature','Agent\x20group\x20not\x20found','openVectorDatabase','srcObject','Waiting','readyResolve','Agent','handleHandshake','Opened\x20object\x20store\x20bucket','SentenceSplitter','detectStreamIssues','clearConnectionTimeout','reportMetric','removeRemoteMediaStream','handleNodeJoin','.ex','sequence','Opened\x20model\x20store\x20bucket','saveToDisk','Knowledge\x20Cutoff\x20Date:\x20','engineType','Count','getAudioVideoDelay','.gguf','KeyValueDatabaseNameNotString','setBytes','resizeHandler','absolutePathName','Optimization','key-value-database-creation-failed','listenUnsubscriber','dataUnsubscribers','syncKeyValueDatabase','\x27:\x20missing\x20or\x20invalid\x20keyPath','maxDistance','createLocalMediaStream','Local\x20MediaStream\x20already\x20exists','.tpl','listener','previousFrames','GenerativeAIContextJobTimeout','clearSyncTimeout','Code','orderBy','missing-system-topic','functionsRegion','Model\x20not\x20found','knowledgeCutoffDate','getExternalStorageConnections','removeJobDispatcher','Error\x20initializing\x20logging\x20database\x20with\x20\x27','Restart','KeyValueDatabaseSendTransactions','docs','externalStorageConnections','InitialPrompt','getBid','requestSubscription','createLocalDynamicMediaStream','time_per_frame','cleanOldSubscription','workflow-does-not-exist','node-does-not-exist','minThreshold','Table\x20not\x20found','Loaded\x20from\x20disk','DataStream','signaling','.erl','handleJobAttribution','log','handleUpdateMediaStream','GenerativeAIContext\x20stream\x20error','contentRect','auth','getTransactionFromTableWriteEvent','onMessage','transactionHashMap','compareTransactions','setItem','handleUnsubscribeMediaStream','getBitrate','not-resolved','Invalid\x20where\x20clause','CREWDLE_WEB_SDK','drawImage','Logging\x20trace','off','subscription-request-in-progress','success','42870690FtihAf','thread-','Failed\x20to\x20get\x20file','getDTVolatility','iceServers','operator','removeOutgoingSubscription','logWaitTime','senderPreviousBytes','/resources/generative-ai-skill/items','loadExternalContent','\x20not\x20found.','transactionService','observer','processJob','handlePublishMediaStream','onNodeUpdate','Cannot\x20write\x20transaction.','removeConnection','av_delay','KeyValueDatabaseCreationFailed','calculateSize','setupResizeHandler','callback','graphDatabaseConnector','createConstantSource','value','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','logEvent','jobBids','name','getReceiverBitrate','Job','.clj','FileStatus','GenerativeAIContextJobMissingThreadId','handshakeCandidates','exports','createPendingFileWrite','region','graph-database-name-not-string','closeTrace','getInstance','Local\x20node\x20rank\x20is\x20not\x20set','match','json','ObjectStoreNotInSync','updateUser','minResolutionScale','long','.sql','knowledge','track','.kt','Error\x20closing\x20trace','nodeUpdate','ExternalStorageConnectionAlreadyExists','hashTransaction','Mistlet\x20capacity\x20report\x20not\x20set.','handleFileWrite','.twig','external-storage-invalid-path','internalDownloadDocument','isWhereValues','modelName','chosenAnswers','Internal\x20event\x20\x27','Handshake','NodeLeave','loggingCycle','firebase-connect','maxBitrate','object-store-already-subscribed','chunk','Problem','setupStatsReporting','ObjectStoreDoesNotExist','JobDispatcherJobNotFound','cluster-disconnect','bufferedAmountLowThreshold','serverTimestamp','commitType','cpu.fps','joinCluster','TimePerFrame','GenerativeAIWorker:\x20Models','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','Prompt','completed','@root','folder-create','sync','Job\x20service\x20creation\x20failed.','registeredListeners','ExternalStorageNameNotString','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','/resources/external-storage/items/','Core','return\x20this','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','Resolution','object-store-invalid-payload','tail','instance','handleFileRequestAnswer','RestartNeedMediaStream','groupId','startLoggingCycle','RetrieveTrace','autoplay','addReservedTables','isNodeReady','InvalidAccess','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','ClusterAlreadyJoined','KeyValueDatabaseIndexNotFound','RemoteMediaStreamMissingProviderId','`\x0a\x0a','audioSource','ai-search','word-splitter','left','getCoresFromCapacityReport','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','handleTransactionPayload','PubSubTopicNameNotString','external-storage-connection-already-exists','job-','pool','Add','<uploaded-files>','Before\x20Synchronization','oncloseTimeout','getKeyValueDatabases','DataStream\x20send','getSentences','messageListeners','loadFromDisk','job-dispatcher-observer-not-found','CloseObjectStoreBucket','/transactions','connectionTimeout','openObjectStoreBucket','MistletCapacityReportNotSet','error','FeatureNotEnabled','unpublish','logger','Connection\x20does\x20not\x20exist','createOutgoingSubscription','processList','findNextNodeId','timeReceiving','contextOutputVariable','DEBUG\x20-\x20','MediaStream\x20feature\x20not\x20enabled','checkAudioContext','nodeKey','handleContentSystemEvents','Ingest','Jitter','Search','GenerativeAIWorkerAlreadyExists','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','getVideoTracks','ancestors','object-store-name-not-string','Online','endpointMethod','logPropagateSystemEvent','offset','isPromiseResolved','debounceReadyTimeout','splitParts','ObjectStoreStats','maxOutgoingSubscriptions','appsync-connect-fail','Receiver\x20connection\x20is\x20not\x20initialized.','keyValueDatabaseConnector','\x20for\x20','Error\x20executing\x20code','handleSubscriptionSubscribeMediaStream','table','discoveryService','senderTotalMessages','where','getGenerativeAIContexts','notifyCluster','currentBytes','Error','combinePeaks','key-value-database-peak-not-found','set','Hub','nodeId','jobWorkers','PubSub','readyPromises','getEnabledChannels','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','searchOnPerplexity','collectTransactionsFromNode','createConnection','videoHeight','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','commitLevel','subscribeToExternalContent','headers','GraphDatabaseDoesNotExist','Remove','setDurationTime','get','handleIceCandidates','debounceStats','logStorage','nlpLibraryConnector','bytesSent','Error\x20writing\x20chunk\x20to\x20stream','clearRect','waitAsync','Failed\x20to\x20commit\x20batch\x20after\x20retries:','localMediaStreams','queueLength','Cluster\x20already\x20joined','registerSource','maxFps','NodeManager\x20-\x20ConnectionSuccess','sendRequest','topicLabel','ConnectionBufferNotEmpty','onDataChannel','createVectorDatabase','getVectorDatabases','createTopic','object-store-stream-does-not-exist','objectToArrayBuffer','Support','getConnectionType','uuid','message','processTransactionsToComputeMMR','asyncEndpointMethod','.dart','buildTableEvent','updatePropagationProperties','KeyValueDatabaseRequestPeakTransactions','everyone','Key-Value\x20Database\x20-\x20Sync\x20Completed','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','subject','clearOncloseTimeout','manageAncestor','CloseJobWorker','receiverTotalMessages','listenerUnsubscriber','request-file','onConfigurationChange','bid','checkMediaStream','connection-state','globalObject','contextInputVariable','transformations','recipients','clearRestartTimeout','connection-invalid-data-event','video','contentManager','PubSubTopicAlreadyExists','displayName','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','removeTrack','GraphDatabase\x20not\x20found','@context.','ExternalStorageConnectorsMissing','collection','gain','previousTimestamp','.css','getNextTargetRank','isLoaded','startTime','getMaxDistance','getCapacityReport','isOpened','job-worker-already-exists','54sfGcBq','\x20answer','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','previous','downgrade','lastTransactionId','::ï¿¿','updateDebounceTimeout','sendIceCandidates','user-update','onChildRemoved','Cannot\x20publish\x20payload:\x20','node-not-authenticated','features','Sending\x20\x27','2-digit','key-value-database-does-not-exist','amd','No\x20global\x20object\x20found','requestSubscriptionAction','replaceTrack','NodeAlreadyExist','setSubscriptionRequestTimeout','handleFileRequest','.vb','standalone','options','systemMessagesReceived','ContentType','.ejs','JobWorker:\x20Received\x20job','upgradeTimeout','GraphDatabaseStats','\x20must\x20be\x20a\x20valid\x20JSON\x20string','checkWebGL','startAt','setProviderId','syncContent','getRemoteMediaStream','ExternalStorageConnection\x20not\x20found','\x20MB','removeObjectStore','unregisterSource','DocumentParser','topic','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','Invalid\x20query','senderCurrentBytes','21a9d78dee97f487b','.docx','trackKinds','isOffer','Delete','getJobWorkers','Opened\x20pubsub\x20topic','externalStores','\x20does\x20not\x20exists','val','reportCapacity','GenerativeAIWorker:\x20Opened','bandwidth.rtt','sort','removeJobWorker','connection','subscriptionManager','lastRemediations','getDistance','getOwnerId','System','errorDetails','generative-ai-worker-model-sync-error','statsCollection','ObjectStoreCannotWriteTransaction','jobPhase','query','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','setInterval','createElement','\x20with\x20response:','NodeUpdate','onNodeDisconnect','chunk-splitter','isBidResponse','remoteConnections','isWhereValue','addTrack','local-media-stream-track-fail','authContext','AudioOutput','publishUserUpdate','string','searchEngineId','removeItem','IncomingSubscription','detectVideoIssues','\x20were\x20ready\x20in','notifyObjectStoreOfNodeJoin','split','Knowledge','\x0a\x20===\x20Current\x20MMR\x20Root','failed','availableTrackKinds','Backgrounds','Error\x20encountered\x20while\x20opening\x20database','KeyValueDatabase','candidate','Key-value\x20database\x20table\x20does\x20not\x20exist.','processReports','generative-ai-worker-missing-connector','Subscription\x20request\x20has\x20not\x20been\x20answered.','/transactions/lastTransaction','\x0a\x20\x20===\x20Total\x20Nodes:\x20','isReady','vector-database-name-not-string','/objectstores/','buildInitialMMR','searchInDataCollection','/nodes','closeConnection','shouldProcessTransaction','firestore','traceLevel','ranges','processRemoteInboundReport','parseDataCollectionBlocks','kind','send\x20error\x20on\x20','JobWorker:\x20Error\x20processing\x20job','getConfigs','replace','JobWorker:\x20Received\x20job\x20request','decodeJWT','orchestrator-close','eventListener','ObjectStorageBucket','appendTransactionAndUpdateHashMap','consumeBufferedEvents','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','MissingRemoteConnection','setRank','messages','Support:\x20','getEstimatedTimestamp','PubSubTopicDoesNotExist','logConnectionState','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','expectedTransactions','source','forceLog','limit','msalRefreshToken','firebase-disconnect','heartbeatUnsubscriber','search','CPUCycle','.vue','reset','getDataBucketIds','unshift','aiSearchApiKey','JobWorker:\x20Sending\x20job\x20reject','retryQueue','/resources/generative-ai-workflow/items/','clear','getTransactions','appsync-statechange','deleteObject','GetContextResult','receiverCurrentBytes','Queued','removeIncomingSubscription','orderByKey','object-store-not-in-sync','bytesReceived','\x0aAdditional\x20data:\x20','ConnectionGroup','No\x20async\x20endpoint\x20URL','bodyParameters','destination','Graph\x20database\x20creation\x20failed.','downloadDocument','getAgents','Disconnected','KeyValueDatabaseNotOpen','resolveReady','setReportCapacity','NodeTypeNotSupported','VectorDatabaseAlreadyExists','trace','appsync-connect','sendFile','connectionManager','String','syncFolder','Answer','instructions','Error\x20opening\x20trace','ObjectStorage','/stats','digest','tableLayout','registerPublisher','isFailedResponse','disconnectCallback','getVectorDatabase','overlap','key-value-database-table-not-found','Missing\x20owner\x20node\x20or\x20rank','padStart','GenerativeAIWorkerModelSyncError','splice','unregisterPublisher','getDatabase','List','remote-media-stream-invalid-subscription-params','initializeApp','insert','applyRemediation','processInboundReports','toString','incomingTopic','frameTime','getProviderId','/logs','onDisconnect','ModelText','object-store-not-synced','.rkt','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','getJobObservable','receiverTimeProcessing','VectorSearch','WebGL','isSyncing','handleContentCloseMediaStream','subscription','sendTransactionsValue\x20-\x20value\x20not\x20found','remainingTracks','GenerativeAIContextCreationFailed','contentMediator','AudioVolume','senderPreviousTimestamp','sendFileRequestPayload','sourceUrl','ccc','JobDispatcherJobExists','Jobs','getPacketsLostPerc','OptimizationConnectionSuccess','@id','Pool','JobDispatcherInvalidPayload','DataStream\x20onMessage','SenderPeerConnection.send','connection-no-retry-queue','onCandidate','removeTrackListeners','logDataReceived','getAudioTracks','messageType','then','detectAudioIssues','getLocalMediaStream','numeric','setStatus','KeyValueDatabaseTableNameReserved','manageBufferedChunks','PartialResult','setScheduleTime','ObjectStoreInvalidPayload','outputTokens','UpdateMediaStream','receiverConnection','DTVolatility','payload','framesDecoded','.info/connected','connection-not-connected','getContext','createMediaStreamSource','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','application/octet-stream','update','trackEndedListeners','.\x20Confirmation?\x20','hashPeakHashes','getPartsFromSubscription','key-value-database-transaction-value-not-set','CloseJobDispatcher','handleAnswer','createExternalStorageConnection','timesCalled','isJobRequest','key-value-database-table-does-not-exist','pipe','Cannot\x20find\x20External\x20Storage\x20connection:\x20','addMessage','statsReporting','initializeLoggingDatabase','element','evaluateBidsAndAttributeJob','push','evaluateProccessedJob','Cannot\x20get\x20size\x20of\x20path:\x20','streams','PubSubTopic\x20onMessage','blocks','SubscriptionRequestDoesNotExist','invalid-subscription','parameters','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','taskType','Cluster','isRunning','getPartsForSubscriptionLabel','.yaml','getId','missing-incoming-connection','lastUpdated','generativeAIWorkers','entity','batchTimeout','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','agent-skill','version','Invalid\x20credentials','answerContentAvailable','description','Sync\x20completed','Connection\x20already\x20exists','addCluster','GenerativeAIContextStats','list','getLayout','node-type-required','Subscription\x20request\x20failed.','getContentType','transactions','sender','available','createJob','Job\x20service\x20job\x20not\x20found.','messagesReceived','deployedVersion','getReceiverTotalBytes','currentTimestamp','crewdle-sdk-stg','processContentQueue','/capacities','test-page','pub-sub-topic-already-subscribed','WebScraper','rootComputationPromise','getRemoteConnections','completeSync','previousBytes','remote-inbound-rtp','Completed','New\x20MMR\x20Root:\x20','minConnections','/nodes/','subscription-request-does-not-exist','IngestTrace','snippet','publishNodeLeave','asyncEndpointUrl','minRelevance','Detection','1:420235181083:web:4eff6062bd845cb0748cbe','messagesSent','internalId','transactionIds','enumerateDevices','write','handleUnpublishMediaStream','getConnections','Error\x20processing\x20retrieve','trackChanges','.mustache','Job\x20Dispatcher\x20does\x20not\x20exist','toLowerCase','Vector\x20database\x20creation\x20failed.','rebuildMMR','DataChannel\x20buffer\x20is\x20full.','min','outputType','pub-sub-topic-name-not-string','clusters','childRemovedUnsubscriber','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','sampleRate','AITrace','email','Synced','InvalidSubscriber','history','asyncHeaders','modelId','Job\x20','unregisterSubscriber','job-dispatcher-invalid-payload','map','CloseExternalStorageConnection','Stats:\x20report','Outgoing','firstValueFrom','outbound-rtp','getFunctions','messageCallback','.pdf','checkAudioOutput','objectStores','onremovetrack','Invalid\x20node\x20type','width','mode','canChooseAnswer','nodesConnected','hashNodes','updateLastUpdated','estimatedPlayoutTimestamp','getBufferedAmount','startBidResponseHandling','retrieveBlocks','Job\x20with\x20id\x20','registerSystemPublisher','byteLength','getSkills','Context','DataChannel\x20is\x20not\x20open.','emit','getHash','logSupport','.tcl','resolutionScale','authenticateUser','optimizationLayers','FileWrite','pendingSyncTransactions','model','processRank','request','arrayBuffer','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','GenerativeAIWorkerStats','createSenderConnection','GenerativeAIWorker:\x20Opening','logInitialMMR','messageUnsubscriber','jobId','calculateArrayBufferSize','getInternalTrackParams','handleConnectionSuccess','hasMessage','reranker','FileDelete','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','handleProblem','prompt','isWhereBetween','registerSystemSource','job-dispatcher-creation-failed','Cannot\x20publish\x20move\x20operation:\x20','appsync-disconnect','getTotalNodes','videoWidth','Llamacpp','removeKeyValueDatabase','getTracks','handleNeedRestart','aws','packetsLost','Data\x20Sent','maxFramerate','processReport','ObjectStoreInvalidState','Recording','Job\x20Worker\x20does\x20not\x20exist','detectionManager','handleNodeDisconnect','moveObject','peakHeights','entities','LocalMediaStreamAlreadyExists','\x20must\x20be\x20a\x20string','PubSubTopicStats','pendingHandshakeCandidates','external-storage-name-not-string','processOutboundReports','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','Execute\x20the\x20agent\x20','.Total\x20pages\x20available:\x20','SyncComplete','cancel','closeSubscription','\x27\x20in\x20layout','outgoingTopic','processServiceReport','manageOptimization','Opened\x20logging\x20database','No\x20parameters\x20provided','getPubSubTopic','handshakeDebounce','mergeParts','Accepted','getClosestNodes','ended','JobWorker:\x20Received\x20job\x20attribution','setOnDisconnectHandler','setPriority','Number','Store\x20already\x20exists','Upgrade','connecting','prototype','trackCallback','support','answererId','detectProblems','content','JobWorker:\x20Sending\x20job\x20partial\x20result','InvalidDataChannel','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','end','trackListeners','syncTimeout','loggingDb','tracks','vector-database-missing-connector','KeyValueDatabaseAlreadyExists','Opened\x20vector\x20database','MediaStreamUnavailable','remediations','PubSubTopic\x20not\x20found','connectionConstructor','Start\x20Ingestion','\x20failed.\x20Retrying...','play','getAncestorIds','committed','JobDispatcherObserverNotFound','AppSync\x20publish','unsubscribeHandler','KeyValueDatabaseRequestTransactionsValue','node','vectorDatabaseConnector','key-value-database','getAncestors','isNeedRestart','Text','connectorConstructor','Query\x20is\x20required','dataChannel','logBatch','Missing\x20external\x20storage\x20connector','Transaction','endsWith','totalDecodeTime','VectorDatabaseNameNotString','systemTopic','resolve','getConnectionDestinations','ScreenSharing','isChannelEnabled','maxResolution','object-store-already-exists','.php','updateDebounce','handleRemediationSystemEvents','.sh','Receiver','generative-ai-context-does-not-exist','onUnregisterPublisher','handleStatsSystemEvents','GenerativeAILabelConflict','ReceiverOnMessage','sendStats','isSubscribed','KeyValueDatabaseInvalidQuery','Node\x20already\x20exists.','maxTokens','setSinkId','currentDistance','createAnswer','changesUnsubscriber','topK','tableName','maps','processOutboundReport','eventTarget','Success','FolderDelete','DataCollection','keys','shouldContinuePropagation','handleDetectionSystemEvents','defineProperty','resolution','abs','initializeSystemTopic','setTransformations','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','height','active','isReconnecting','Update','Received\x20','CustomSkill','.scala','setEmail','setLoggingConnectors','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','number','writeBatch','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','parse','\x0a\x20===\x20Total\x20Data\x20Received:\x20','problem','sourceVideo','Invalid\x20params','featureSupport','onloadeddata','issue','externalStorageConnectionIds','developers/','getObjectStoreBucket','WebScraperRaw','RemoteRemove','url','Vector','SyncKeyValueDatabase\x20-\x20Ancestors\x20','count','parseWorkflowBlocks','JobWorker:\x20Handling\x20job\x20attribution','isInternalSDKConfigs','isEqual','openGenerativeAIWorker','Today\x20Date:\x20','initialize','timestamp','.ppt','processSenderReport','writeTransaction','File\x20sending\x20interrupted','Database\x20Opened','totalNodes','\x27\x20reserved','skipEncryption','getOrResetPendingFileTimeout','OPFSObjectStoreConnector','sourceId','Stream\x20does\x20not\x20exist','reject','commitTrace','rejectReady','createPubSubTopic','subtle','head','prompts','max','crewdle-sdk.appspot.com','.j2','setReceiverTimestamp','ceil','getLocalMediaStreams','isPartialResultResponse','crewdle-sdk','.ts','.rb','checkSyncComplete','getModel','framesEncoded','NodeType','writes','clientWidth','.bat','loggingDatabaseConnector','waitConnected','label','setVendorId','removeTrackCallback','RequestFile','unsubscribeTrackEndedListener','user','packetsReceived','successNotified','STVolatility','statusText','FPS','addContent','removeTopic','web-scraper','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','crewdleSDKDisableLogging','job-dispatcher-job-not-found','createNewBatch','.ipynb','SearchPerplexity','hash','crewdle-sdk.firebaseapp.com','GenerativeAIModelOutputType','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','stop','processBatch','unsubscribe','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','sendAction','getWorkflowObjectStorageBuckets','FileMove','codes','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','transaction','addDoc','client','Early\x20return','Module','runTransaction','SystemTopic\x20publish','deleteFileChunks','WorkflowDoesNotExist','eventEmitter','isResultResponse','result','subscriptionRequestTimeouts','Cannot\x20publish\x20file:\x20','CannotProvideMediaStream','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','status','server','getRemoteId','toFixed','setPendingFileSyncingPayload','Rejected\x20answer','firebaseConfig','vendorId','pubsubTopics','createGenerativeAIContext','getName','remoteUnsubscriber','ready','ExternalStorageUpload','Local\x20stream\x20does\x20not\x20exist.','\x20-\x20Sending\x20propagation\x20(','.crewdle-last-transaction','text','generative-ai-context-already-exists','LoggingService:\x20logging\x20enabled\x20for','\x0a\x20===\x20Total\x20Nodes:','agent-join','timeoutValue','getRemoteNodes','graph-database-does-not-exist','handleDisconnect','VectorDatabaseMissingConnector','find','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getSimilarity','chooseAnswer','publishNodeJoin','subscribeToJobs','bufferedEvents','handleCloseContent','toStringTag','addBatchOperation','queryOrPrompt','\x20not\x20supported','VectorDatabaseCreationFailed','setIsLoaded','JobWorker:\x20Tracing\x20not\x20implemented','getModels','AppSync\x20subscribe','receiver','connection-buffer-not-empty','discover','remote-stream-does-not-exist','.go','text/plain','AppSync\x20connection\x20not\x20ready','Folder','checkWebRTC','reads','Database\x20already\x20exists','Unsupported\x20job\x20type','Request','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','/developers/','peaks','PubSubTopic\x20publish','documentParserConnector','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','key-value-database-not-open','Execute\x20skill\x20','setOnMessageHandler','ObjectStore\x20not\x20found','sendWithRetry','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Channel\x20\x27','Result'];a0_0x259f=function(){return _0x5c9c29;};return a0_0x259f();}function a0_0x5e71(_0x43f614,_0x2f1b6c){const _0x259fb6=a0_0x259f();return a0_0x5e71=function(_0x5e71e9,_0x4e7ac8){_0x5e71e9=_0x5e71e9-0x16b;let _0x1aa514=_0x259fb6[_0x5e71e9];return _0x1aa514;},a0_0x5e71(_0x43f614,_0x2f1b6c);}(function(_0x2be47d,_0x3fa06c){const _0x459e8d=a0_0x5e71,_0xfc610d=_0x2be47d();while(!![]){try{const _0x4fee36=-parseInt(_0x459e8d(0x341))/0x1+parseInt(_0x459e8d(0x1e6))/0x2+parseInt(_0x459e8d(0x64e))/0x3*(-parseInt(_0x459e8d(0x40a))/0x4)+parseInt(_0x459e8d(0x396))/0x5*(-parseInt(_0x459e8d(0x2ae))/0x6)+-parseInt(_0x459e8d(0xa20))/0x7+parseInt(_0x459e8d(0x9f6))/0x8+parseInt(_0x459e8d(0x530))/0x9;if(_0x4fee36===_0x3fa06c)break;else _0xfc610d['push'](_0xfc610d['shift']());}catch(_0x236f43){_0xfc610d['push'](_0xfc610d['shift']());}}}(a0_0x259f,0xe0832),!function(_0x2c3560,_0x13f83e){const _0x4f040e=a0_0x5e71;if(_0x4f040e(0x237)==typeof exports&&_0x4f040e(0x237)==typeof module)module[_0x4f040e(0x555)]=_0x13f83e();else{if(_0x4f040e(0xa34)==typeof define&&define[_0x4f040e(0x65f)])define([],_0x13f83e);else{var _0x5385ec=_0x13f83e();for(var _0x3b1e5a in _0x5385ec)(_0x4f040e(0x237)==typeof exports?exports:_0x2c3560)[_0x3b1e5a]=_0x5385ec[_0x3b1e5a];}}}(this,()=>((()=>{'use strict';const _0x178721=a0_0x5e71;var _0x4f7fa7={0x14d:(_0x4934ae,_0x4276db,_0x10ef12)=>{const _0x4d5b11=a0_0x5e71;_0x10ef12['d'](_0x4276db,{'O':()=>_0x282f36});const _0x282f36={'version':_0x4d5b11(0x18e),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x4d5b11(0x5d3),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x4d5b11(0x5ab),'projectId':_0x4d5b11(0x7a8),'storageBucket':_0x4d5b11(0xa7c),'appId':_0x4d5b11(0x331),'functionsRegion':_0x4d5b11(0x319)},'google':{'searchEngineId':_0x4d5b11(0x67e)},'aws':{'endpoint':_0x4d5b11(0xa85),'region':_0x4d5b11(0x485)}};},0x33b:(_0x17759b,_0x2d6b15,_0x4f01ae)=>{_0x4f01ae['d'](_0x2d6b15,{'O':()=>_0x332dc4});const _0x332dc4={};},0x3e6:(_0x29265c,_0x151906,_0x415b95)=>{const _0x24746f=a0_0x5e71;_0x415b95['d'](_0x151906,{'O':()=>_0x521de5});const _0x521de5={'version':_0x24746f(0x427),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x24746f(0x628),'authDomain':_0x24746f(0x909),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x24746f(0x8e8),'storageBucket':_0x24746f(0x8e2),'messagingSenderId':_0x24746f(0x464),'appId':_0x24746f(0x7be),'measurementId':_0x24746f(0x1f0)},'aws':{'endpoint':_0x24746f(0x1e3),'region':_0x24746f(0x485)}};},0x20:(_0x1051db,_0x5253db,_0x41f52e)=>{_0x41f52e['d'](_0x5253db,{'O':()=>_0x1ad2da});const _0x1ad2da={};}},_0xab8f54={};function _0x2e334f(_0x376da4){const _0x19fb61=a0_0x5e71;var _0x1b7676=_0xab8f54[_0x376da4];if(void 0x0!==_0x1b7676)return _0x1b7676[_0x19fb61(0x555)];var _0x2e469b=_0xab8f54[_0x376da4]={'exports':{}};return _0x4f7fa7[_0x376da4](_0x2e469b,_0x2e469b[_0x19fb61(0x555)],_0x2e334f),_0x2e469b[_0x19fb61(0x555)];}_0x2e334f['d']=(_0x50b55c,_0x5d64e3)=>{for(var _0x1e39d0 in _0x5d64e3)_0x2e334f['o'](_0x5d64e3,_0x1e39d0)&&!_0x2e334f['o'](_0x50b55c,_0x1e39d0)&&Object['defineProperty'](_0x50b55c,_0x1e39d0,{'enumerable':!0x0,'get':_0x5d64e3[_0x1e39d0]});},_0x2e334f['g']=(function(){const _0x162e1a=a0_0x5e71;if(_0x162e1a(0x237)==typeof globalThis)return globalThis;try{return this||new Function(_0x162e1a(0x592))();}catch(_0x49154a){if(_0x162e1a(0x237)==typeof window)return window;}}()),_0x2e334f['o']=(_0x24769e,_0x155f5c)=>Object[_0x178721(0x850)]['hasOwnProperty'][_0x178721(0x275)](_0x24769e,_0x155f5c),_0x2e334f['r']=_0x31cd8c=>{const _0x16b395=_0x178721;_0x16b395(0x2ed)!=typeof Symbol&&Symbol[_0x16b395(0x948)]&&Object[_0x16b395(0x8a2)](_0x31cd8c,Symbol[_0x16b395(0x948)],{'value':_0x16b395(0x919)}),Object['defineProperty'](_0x31cd8c,'__esModule',{'value':!0x0});};var _0x58f0d1,_0x512f56,_0x312d1f,_0xbd2d6d={};_0x2e334f['r'](_0xbd2d6d),_0x2e334f['d'](_0xbd2d6d,{'KeyValueDatabase':()=>_0x13a537,'LayoutBuilder':()=>_0x3bd611,'LoggingChannels':()=>_0x312d1f,'QueryBuilder':()=>_0x2a0c5f,'SDK':()=>_0x5132f0,'SDKClientErrorCodes':()=>_0x58f0d1,'TableBuilder':()=>_0x30de12,'logger':()=>_0x4826cd}),function(_0x3b6e84){const _0x314c61=_0x178721;_0x3b6e84[_0x314c61(0x615)]=_0x314c61(0x952),_0x3b6e84[_0x314c61(0x5a2)]=_0x314c61(0x48a),_0x3b6e84[_0x314c61(0x568)]=_0x314c61(0x5ae),_0x3b6e84[_0x314c61(0x3fa)]=_0x314c61(0xa37),_0x3b6e84[_0x314c61(0xa92)]=_0x314c61(0x4c0),_0x3b6e84[_0x314c61(0x642)]=_0x314c61(0xa71),_0x3b6e84[_0x314c61(0x988)]=_0x314c61(0x56d),_0x3b6e84[_0x314c61(0x58e)]=_0x314c61(0x835),_0x3b6e84[_0x314c61(0x5c1)]='feature-not-enabled',_0x3b6e84[_0x314c61(0xab3)]=_0x314c61(0x937),_0x3b6e84['GenerativeAIContextDoesNotExist']=_0x314c61(0x889),_0x3b6e84[_0x314c61(0x553)]='generative-ai-context-job-missing-thread-id',_0x3b6e84[_0x314c61(0x88c)]=_0x314c61(0x9e4),_0x3b6e84['GenerativeAIWorkerAlreadyExists']=_0x314c61(0x4a4),_0x3b6e84['GenerativeAIWorkerMissingConnector']=_0x314c61(0x6ba),_0x3b6e84[_0x314c61(0x71f)]=_0x314c61(0x694),_0x3b6e84['GraphDatabaseAlreadyExists']='graph-database-already-exists',_0x3b6e84[_0x314c61(0x600)]=_0x314c61(0x93d),_0x3b6e84['GraphDatabaseMissingConnector']='graph-database-missing-connector',_0x3b6e84[_0x314c61(0x175)]=_0x314c61(0x558),_0x3b6e84['JobDispatcherAlreadyExists']=_0x314c61(0xa93),_0x3b6e84[_0x314c61(0xa1d)]=_0x314c61(0x27c),_0x3b6e84[_0x314c61(0x743)]=_0x314c61(0x9a3),_0x3b6e84[_0x314c61(0x57d)]=_0x314c61(0x904),_0x3b6e84['JobDispatcherInvalidJobType']=_0x314c61(0xa0f),_0x3b6e84['JobWorkerAlreadyExists']=_0x314c61(0x64d),_0x3b6e84['JobWorkerDoesNotExist']='job-worker-does-not-exist',_0x3b6e84[_0x314c61(0x29c)]=_0x314c61(0x883),_0x3b6e84['ObjectStoreAlreadySubscribed']=_0x314c61(0x578),_0x3b6e84[_0x314c61(0x57c)]=_0x314c61(0x61a),_0x3b6e84[_0x314c61(0x300)]=_0x314c61(0x5d6),_0x3b6e84['ObjectStoreInvalidPayload']=_0x314c61(0x595),_0x3b6e84[_0x314c61(0x421)]=_0x314c61(0x33d),_0x3b6e84[_0x314c61(0x55e)]=_0x314c61(0x6fa),_0x3b6e84[_0x314c61(0x276)]=_0x314c61(0x1da),_0x3b6e84[_0x314c61(0x5a0)]=_0x314c61(0x387),_0x3b6e84['KeyValueDatabaseAlreadyExists']=_0x314c61(0x4c4),_0x3b6e84[_0x314c61(0x366)]=_0x314c61(0x65e),_0x3b6e84[_0x314c61(0x5a3)]='key-value-database-index-not-found',_0x3b6e84[_0x314c61(0x890)]='key-value-database-invalid-query',_0x3b6e84['KeyValueDatabaseInvalidValue']=_0x314c61(0xa43),_0x3b6e84[_0x314c61(0x4ee)]=_0x314c61(0x278),_0x3b6e84[_0x314c61(0x705)]=_0x314c61(0x964),_0x3b6e84['KeyValueDatabaseTableNameReserved']=_0x314c61(0x3ce),_0x3b6e84['KeyValueDatabaseTableNotFound']=_0x314c61(0x71c),_0x3b6e84['KeyValueDatabaseInvalidLayout']='key-value-database-invalid-layout',_0x3b6e84[_0x314c61(0x831)]=_0x314c61(0x2d3),_0x3b6e84[_0x314c61(0x422)]='local-media-stream-no-audio-context',_0x3b6e84[_0x314c61(0x63c)]=_0x314c61(0x205),_0x3b6e84[_0x314c61(0x6dd)]='pub-sub-topic-does-not-exist',_0x3b6e84[_0x314c61(0x5ad)]=_0x314c61(0x7d0),_0x3b6e84[_0x314c61(0x28d)]=_0x314c61(0x7ac),_0x3b6e84[_0x314c61(0x389)]='query-helper-invalid-argument',_0x3b6e84[_0x314c61(0x369)]=_0x314c61(0x491),_0x3b6e84[_0x314c61(0xa73)]=_0x314c61(0x724),_0x3b6e84[_0x314c61(0x3b3)]=_0x314c61(0x52e),_0x3b6e84[_0x314c61(0x391)]=_0x314c61(0x65a),_0x3b6e84[_0x314c61(0x457)]='node-invalid-type',_0x3b6e84[_0x314c61(0x708)]=_0x314c61(0x45d),_0x3b6e84['NodeTypeRequired']=_0x314c61(0x79c),_0x3b6e84[_0x314c61(0x709)]=_0x314c61(0x38c),_0x3b6e84[_0x314c61(0x414)]=_0x314c61(0x426),_0x3b6e84[_0x314c61(0x93f)]=_0x314c61(0x85e),_0x3b6e84['VectorDatabaseNameNotString']=_0x314c61(0x6bf);}(_0x58f0d1||(_0x58f0d1={}));class _0x1c9a4 extends Error{['code'];constructor(_0xbbb92b,_0x55da9b){const _0x321b1e=_0x178721;super(_0x55da9b),this[_0x321b1e(0x3f2)]=_0xbbb92b;}}!function(_0x5944ce){const _0x57ebe0=_0x178721;_0x5944ce['PubSub']=_0x57ebe0(0x33f),_0x5944ce[_0x57ebe0(0x713)]=_0x57ebe0(0x97c),_0x5944ce[_0x57ebe0(0x6b6)]=_0x57ebe0(0x870),_0x5944ce['VectorDatabase']='vector-database',_0x5944ce['GraphDatabase']=_0x57ebe0(0xa58),_0x5944ce[_0x57ebe0(0x1c6)]=_0x57ebe0(0xa94),_0x5944ce[_0x57ebe0(0x49f)]=_0x57ebe0(0x46c),_0x5944ce['GenerativeAIContext']='generative-ai';}(_0x512f56||(_0x512f56={})),function(_0xb2266f){const _0x103bce=_0x178721;_0xb2266f[_0x103bce(0xab2)]=_0x103bce(0x9b3),_0xb2266f[_0x103bce(0x339)]='default',_0xb2266f['Connection']='connection',_0xb2266f[_0x103bce(0x317)]=_0x103bce(0x633),_0xb2266f[_0x103bce(0x786)]=_0x103bce(0x2df),_0xb2266f['Content']=_0x103bce(0x855),_0xb2266f[_0x103bce(0x518)]='data-stream',_0xb2266f['Detection']='detection',_0xb2266f[_0x103bce(0x2ea)]=_0x103bce(0xa2e),_0xb2266f[_0x103bce(0x5ed)]='error',_0xb2266f['Jobs']=_0x103bce(0x96f),_0xb2266f[_0x103bce(0x6b6)]='key-value-database',_0xb2266f[_0x103bce(0x9dd)]=_0x103bce(0x86e),_0xb2266f[_0x103bce(0x748)]=_0x103bce(0x5b0),_0xb2266f[_0x103bce(0x5f4)]='pubsub',_0xb2266f[_0x103bce(0x88d)]=_0x103bce(0xa3c),_0xb2266f['Remediation']=_0x103bce(0x4be),_0xb2266f[_0x103bce(0x496)]='sender-send-message',_0xb2266f[_0x103bce(0x359)]=_0x103bce(0x519),_0xb2266f[_0x103bce(0x397)]='stats',_0xb2266f[_0x103bce(0x378)]='subscription',_0xb2266f[_0x103bce(0x61c)]=_0x103bce(0x852),_0xb2266f[_0x103bce(0x692)]=_0x103bce(0xa1b),_0xb2266f['SystemStats']=_0x103bce(0x365),_0xb2266f['TestPage']=_0x103bce(0x7ab),_0xb2266f[_0x103bce(0x34e)]=_0x103bce(0x2c2);}(_0x312d1f||(_0x312d1f={}));const _0x12ff66=require('@crewdle/web-sdk-types');class _0x2a0c5f{['query'];constructor(_0x63565d){const _0x5ad4f5=_0x178721;this['query']={'orderBy':{'key':_0x63565d,'direction':_0x5ad4f5(0x1bf)}};}static[_0x178721(0x9e1)](_0x351f0f){const _0x3b2acd=_0x178721;if(_0x3b2acd(0x6a8)!=typeof _0x351f0f||0x0===_0x351f0f[_0x3b2acd(0x3f4)])throw new _0x1c9a4(_0x58f0d1[_0x3b2acd(0x389)],_0x3b2acd(0xa1f));return new _0x2a0c5f(_0x351f0f);}static['validateQuery'](_0x4a975c){const _0x12d8e0=_0x178721;try{return _0x2a0c5f[_0x12d8e0(0xa9d)](_0x4a975c),!0x0;}catch(_0x471c7e){return!0x1;}}static['buildQuery'](_0xad5a08){const _0x39813b=_0x178721,_0x103192=_0x2a0c5f[_0x39813b(0x9e1)](_0xad5a08[_0x39813b(0x501)]?.[_0x39813b(0xa6a)]??_0xad5a08['where']?.[_0x39813b(0xa6a)]??'');if(_0xad5a08[_0x39813b(0x5e9)]){const _0xe3cf4f=_0xad5a08[_0x39813b(0x5e9)];if((_0x2a0c5f['isWhereValue'](_0xe3cf4f)||_0x2a0c5f[_0x39813b(0x56f)](_0xe3cf4f)||_0x2a0c5f[_0x39813b(0x819)](_0xe3cf4f))&&_0x103192[_0x39813b(0x5e9)](_0xe3cf4f[_0x39813b(0x535)],_0xe3cf4f[_0x39813b(0x54a)]),_0xad5a08[_0x39813b(0x501)]?.[_0x39813b(0xa6a)]&&_0xad5a08[_0x39813b(0x501)]?.['key']!==_0xad5a08[_0x39813b(0x5e9)]['key'])throw new _0x1c9a4(_0x58f0d1[_0x39813b(0x389)],_0x39813b(0x8b1));}return _0xad5a08[_0x39813b(0x501)]&&_0x103192[_0x39813b(0x501)](_0xad5a08[_0x39813b(0x501)]['direction']),_0xad5a08[_0x39813b(0x6e3)]&&_0x103192[_0x39813b(0x6e3)](_0xad5a08['limit']),_0xad5a08[_0x39813b(0x5da)]&&_0x103192[_0x39813b(0x5da)](_0xad5a08[_0x39813b(0x5da)]),_0x103192;}['getQuery'](){return{...this['query']};}[_0x178721(0x5e9)](_0x17f571,_0x4b8750){const _0xf22991=_0x178721,_0x34ac13={'key':this[_0xf22991(0x698)]['orderBy'][_0xf22991(0xa6a)],'operator':_0x17f571,'value':_0x4b8750};if(!_0x2a0c5f[_0xf22991(0x6a2)](_0x34ac13)&&!_0x2a0c5f[_0xf22991(0x56f)](_0x34ac13)&&!_0x2a0c5f[_0xf22991(0x819)](_0x34ac13))throw new _0x1c9a4(_0x58f0d1[_0xf22991(0x389)],_0xf22991(0x529));return this[_0xf22991(0x698)][_0xf22991(0x5e9)]=_0x34ac13,this;}[_0x178721(0x501)](_0x5b3367){const _0x13cf4a=_0x178721;if(_0x13cf4a(0x1bf)!==_0x5b3367&&'desc'!==_0x5b3367)throw new _0x1c9a4(_0x58f0d1[_0x13cf4a(0x389)],_0x13cf4a(0x963));return this[_0x13cf4a(0x698)]['orderBy']['direction']=_0x5b3367,this;}[_0x178721(0x6e3)](_0x1059ee){const _0x4b755a=_0x178721;if('number'!=typeof _0x1059ee||_0x1059ee<0x0)throw new _0x1c9a4(_0x58f0d1['QueryBuilderInvalidArgument'],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x4b755a(0x6e3)]=_0x1059ee,this;}[_0x178721(0x5da)](_0x5ed232){const _0x5c89a6=_0x178721;if(_0x5c89a6(0x8b2)!=typeof _0x5ed232||_0x5ed232<0x0)throw new _0x1c9a4(_0x58f0d1[_0x5c89a6(0x389)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query']['offset']=_0x5ed232,this;}static[_0x178721(0x6a2)](_0x51dbb3){const _0x102996=_0x178721;if(!(_0x51dbb3&&_0x102996(0x237)==typeof _0x51dbb3&&'operator'in _0x51dbb3&&_0x102996(0x54a)in _0x51dbb3))return!0x1;const {operator:_0x11658c,value:_0x5dd43c}=_0x51dbb3;return!(!['==','!=','>','<','<=','>=']['includes'](_0x11658c)||Array['isArray'](_0x5dd43c));}static['isWhereValues'](_0x3033a4){const _0xee32e0=_0x178721;if(!(_0x3033a4&&_0xee32e0(0x237)==typeof _0x3033a4&&_0xee32e0(0x535)in _0x3033a4&&_0xee32e0(0x54a)in _0x3033a4))return!0x1;const {operator:_0x3ae337,value:_0x91c343}=_0x3033a4;return!(!['in','not-in'][_0xee32e0(0x31d)](_0x3ae337)||!Array['isArray'](_0x91c343));}static[_0x178721(0x819)](_0x24be70){const _0x40021c=_0x178721;if(!(_0x24be70&&'object'==typeof _0x24be70&&_0x40021c(0x535)in _0x24be70&&_0x40021c(0x54a)in _0x24be70))return!0x1;const {operator:_0x42814a,value:_0xf90c60}=_0x24be70;return!(_0x40021c(0x43d)!==_0x42814a||!Array[_0x40021c(0x986)](_0xf90c60)||0x2!==_0xf90c60[_0x40021c(0x3f4)]);}}class _0x3bd611{[_0x178721(0x313)];constructor(_0x405ceb){const _0x2e0587=_0x178721;this[_0x2e0587(0x313)]={'tables':{},'version':_0x405ceb};}static['validateLayout'](_0x26152b){const _0xcdf6d=_0x178721;for(const _0x172ebf in _0x26152b){if('version'!==_0x172ebf&&_0xcdf6d(0x477)!==_0x172ebf)return[!0x1,_0xcdf6d(0x9e6)+_0x172ebf+_0xcdf6d(0x83d)];if(_0xcdf6d(0x477)===_0x172ebf)for(const _0xed48c2 in _0x26152b[_0xcdf6d(0x477)]){if('string'!=typeof _0xed48c2)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0xed48c2+'\x27'];for(const _0x2828de in _0x26152b[_0xcdf6d(0x477)][_0xed48c2]){if(_0xcdf6d(0x1bb)!==_0x2828de)return[!0x1,_0xcdf6d(0x9e6)+_0x2828de+_0xcdf6d(0xa53)+_0xed48c2+'\x27'];const _0x4861a2=_0x26152b[_0xcdf6d(0x477)][_0xed48c2][_0x2828de]??[];for(const _0x4dce3f of _0x4861a2)if(void 0x0===_0x4dce3f['keyPath']||_0xcdf6d(0x6a8)!=typeof _0x4dce3f['keyPath'])return[!0x1,_0xcdf6d(0x3c5)+_0xed48c2+_0xcdf6d(0x4f7)];}}else{if(_0xcdf6d(0x792)===_0x172ebf&&_0xcdf6d(0x8b2)!=typeof _0x26152b[_0x172ebf])return[!0x1,_0xcdf6d(0x222)+_0x26152b[_0x172ebf]+_0xcdf6d(0x3a9)];}}return[!0x0,'Valid\x20layout'];}static[_0x178721(0x313)](_0x32addc){const _0x54467b=_0x178721,_0x11ed3e=new _0x3bd611(_0x32addc);return _0x11ed3e[_0x54467b(0x313)][_0x54467b(0x792)]=_0x32addc,_0x11ed3e;}['table'](_0x333640){const _0x145446=_0x178721;return this['layout'][_0x145446(0x477)][_0x333640]={},new _0x30de12(this[_0x145446(0x313)][_0x145446(0x477)][_0x333640]);}[_0x178721(0x79b)](){const _0x53cb0d=_0x178721;return this[_0x53cb0d(0x313)];}}class _0x30de12{[_0x178721(0x716)];constructor(_0x58eb94){const _0x48bd19=_0x178721;this[_0x48bd19(0x716)]=_0x58eb94;}[_0x178721(0x9e1)](_0x4ef5e1){const _0x47e8ab=_0x178721;return this[_0x47e8ab(0x716)][_0x47e8ab(0x1bb)]=this[_0x47e8ab(0x716)][_0x47e8ab(0x1bb)]??[],this[_0x47e8ab(0x716)][_0x47e8ab(0x1bb)]['push']({'keyPath':_0x4ef5e1}),this;}}const _0x58a044=0x40000,_0x4af52e=0x3f800,_0x3c1ede=0x1388,_0x3b5945=_0x178721(0x935),_0x359361='.crewdle-pending',_0xc153e7='.crewdle-transactions',_0x103ffb='.crewdle-layout',_0x325d34=0xdbba0,_0x79eebc=_0x178721(0x4ed),_0x28b659=0x61a8,_0x34267d=0x7530,_0x5503f9=_0x178721(0x351);var _0x5cb5cd;!function(_0x58f7e6){const _0xb6b278=_0x178721;_0x58f7e6['ConnectionNotinitialized']=_0xb6b278(0x1a5),_0x58f7e6[_0xb6b278(0xa25)]=_0xb6b278(0x763),_0x58f7e6[_0xb6b278(0x9a9)]=_0xb6b278(0x74c),_0x58f7e6[_0xb6b278(0x28f)]=_0xb6b278(0x639),_0x58f7e6['GenerativeAIContextCreationFailed']='generative-ai-context-creation-failed',_0x58f7e6[_0xb6b278(0xa12)]=_0xb6b278(0x423),_0x58f7e6[_0xb6b278(0x379)]=_0xb6b278(0x48f),_0x58f7e6[_0xb6b278(0x3d5)]='generative-ai-context-job-failed',_0x58f7e6[_0xb6b278(0x4fe)]='generative-ai-context-job-timeout',_0x58f7e6[_0xb6b278(0xaaa)]='generative-ai-worker-creation-failed',_0x58f7e6[_0xb6b278(0xa1e)]=_0xb6b278(0x420),_0x58f7e6[_0xb6b278(0x857)]=_0xb6b278(0x9e3),_0x58f7e6[_0xb6b278(0x2a0)]=_0xb6b278(0x44c),_0x58f7e6[_0xb6b278(0x7d8)]=_0xb6b278(0x440),_0x58f7e6[_0xb6b278(0x2b6)]=_0xb6b278(0x782),_0x58f7e6[_0xb6b278(0xa15)]=_0xb6b278(0x81b),_0x58f7e6[_0xb6b278(0x749)]=_0xb6b278(0x7de),_0x58f7e6[_0xb6b278(0x57d)]=_0xb6b278(0x904),_0x58f7e6[_0xb6b278(0x86a)]=_0xb6b278(0x5ba),_0x58f7e6[_0xb6b278(0x987)]=_0xb6b278(0x2fe),_0x58f7e6[_0xb6b278(0xa35)]='job-worker-invalid-type',_0x58f7e6[_0xb6b278(0x544)]=_0xb6b278(0x4f3),_0x58f7e6[_0xb6b278(0x1ed)]=_0xb6b278(0x5ef),_0x58f7e6[_0xb6b278(0x439)]=_0xb6b278(0x773),_0x58f7e6['KeyValueDatabaseTransactionTableNotInitialized']='key-value-database-transaction-table-not-initialized',_0x58f7e6[_0xb6b278(0x2dd)]=_0xb6b278(0x76d),_0x58f7e6[_0xb6b278(0x20c)]=_0xb6b278(0x1d5),_0x58f7e6[_0xb6b278(0x6d8)]=_0xb6b278(0x78b),_0x58f7e6[_0xb6b278(0x2ba)]=_0xb6b278(0x502),_0x58f7e6[_0xb6b278(0x5bf)]='mistlet-capacity-report-not-set',_0x58f7e6[_0xb6b278(0x696)]=_0xb6b278(0xa8d),_0x58f7e6[_0xb6b278(0x829)]=_0xb6b278(0x3ba),_0x58f7e6[_0xb6b278(0x97a)]=_0xb6b278(0x3b7),_0x58f7e6['ObjectStoreNotSynced']=_0xb6b278(0x730),_0x58f7e6[_0xb6b278(0x42d)]='outgoing-stream-no-topic',_0x58f7e6[_0xb6b278(0xa6c)]=_0xb6b278(0x954),_0x58f7e6[_0xb6b278(0x5a4)]=_0xb6b278(0xa3a),_0x58f7e6[_0xb6b278(0x41f)]='remote-connection-exists',_0x58f7e6[_0xb6b278(0x781)]=_0xb6b278(0x7b7),_0x58f7e6[_0xb6b278(0x46e)]=_0xb6b278(0x9ee),_0x58f7e6[_0xb6b278(0x4a9)]='subscription-request-no-answer',_0x58f7e6[_0xb6b278(0x3e5)]=_0xb6b278(0x514),_0x58f7e6[_0xb6b278(0x663)]=_0xb6b278(0x3e7),_0x58f7e6['PeerConnectionInvalidDestination']=_0xb6b278(0x3a1),_0x58f7e6['VectorDatabaseCreationFailed']=_0xb6b278(0x9a2),_0x58f7e6[_0xb6b278(0x91d)]=_0xb6b278(0x513),_0x58f7e6['WorkflowInvalidBlockType']=_0xb6b278(0x384);}(_0x5cb5cd||(_0x5cb5cd={}));const _0x147acb=new Map([[_0x5cb5cd[_0x178721(0x22f)],'Connection\x20not\x20initialized.'],[_0x5cb5cd[_0x178721(0xa25)],_0x178721(0x32c)],[_0x5cb5cd[_0x178721(0x9a9)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x5cb5cd[_0x178721(0x28f)],_0x178721(0x96e)],[_0x5cb5cd[_0x178721(0x73c)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x5cb5cd[_0x178721(0xa12)],_0x178721(0x34f)],[_0x5cb5cd[_0x178721(0x379)],_0x178721(0x41c)],[_0x5cb5cd[_0x178721(0x3d5)],_0x178721(0x296)],[_0x5cb5cd[_0x178721(0x4fe)],_0x178721(0xa8f)],[_0x5cb5cd[_0x178721(0xaaa)],'AI\x20worker\x20creation\x20failed.'],[_0x5cb5cd[_0x178721(0xa1e)],_0x178721(0x701)],[_0x5cb5cd[_0x178721(0x857)],_0x178721(0x1fb)],[_0x5cb5cd[_0x178721(0x2a0)],'Invalid\x20publisher.'],[_0x5cb5cd[_0x178721(0x7d8)],_0x178721(0x458)],[_0x5cb5cd[_0x178721(0x2b6)],_0x178721(0x469)],[_0x5cb5cd['JobDispatcherCreationFailed'],_0x178721(0x58c)],[_0x5cb5cd[_0x178721(0x749)],_0x178721(0x27a)],[_0x5cb5cd['JobDispatcherJobNotFound'],_0x178721(0x7a3)],[_0x5cb5cd['JobDispatcherObserverNotFound'],'Job\x20service\x20observer\x20not\x20found.'],[_0x5cb5cd[_0x178721(0x987)],'Job\x20worker\x20creation\x20failed.'],[_0x5cb5cd['JobWorkerInvalidType'],_0x178721(0x2bc)],[_0x5cb5cd[_0x178721(0x544)],_0x178721(0x436)],[_0x5cb5cd[_0x178721(0x1ed)],_0x178721(0x411)],[_0x5cb5cd[_0x178721(0x439)],_0x178721(0x6b8)],[_0x5cb5cd[_0x178721(0x24b)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x5cb5cd[_0x178721(0x2dd)],_0x178721(0x4a8)],[_0x5cb5cd[_0x178721(0x20c)],_0x178721(0x933)],[_0x5cb5cd[_0x178721(0x6d8)],'Connection\x20does\x20not\x20exist.'],[_0x5cb5cd['MissingSystemTopic'],_0x178721(0x969)],[_0x5cb5cd[_0x178721(0x5bf)],_0x178721(0x56a)],[_0x5cb5cd['ObjectStoreCannotWriteTransaction'],_0x178721(0x541)],[_0x5cb5cd[_0x178721(0x97a)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x5cb5cd['ObjectStoreInvalidState'],'Invalid\x20object\x20store\x20state.'],[_0x5cb5cd['ObjectStoreNotSynced'],'Object\x20store\x20not\x20synced.'],[_0x5cb5cd['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x5cb5cd['RemoteMediaStreamDoesNotExist'],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x5cb5cd[_0x178721(0x5a4)],_0x178721(0x25b)],[_0x5cb5cd[_0x178721(0x41f)],_0x178721(0xa0b)],[_0x5cb5cd[_0x178721(0x781)],_0x178721(0xa08)],[_0x5cb5cd['SubscriptionRequestFailed'],_0x178721(0x79d)],[_0x5cb5cd[_0x178721(0x4a9)],_0x178721(0x6bb)],[_0x5cb5cd[_0x178721(0x3e5)],'Node\x20does\x20not\x20exist.'],[_0x5cb5cd['NodeAlreadyExist'],_0x178721(0x891)],[_0x5cb5cd['PeerConnectionInvalidDestination'],_0x178721(0xa55)],[_0x5cb5cd[_0x178721(0x94c)],_0x178721(0x7cb)],[_0x5cb5cd['WorkflowDoesNotExist'],'Workflow\x20does\x20not\x20exist.'],[_0x5cb5cd['WorkflowInvalidBlockType'],'Invalid\x20workflow\x20block\x20type.']]);class _0x5953b5 extends Error{['code'];static [_0x178721(0x913)]=_0x5cb5cd;[_0x178721(0x372)];constructor(_0x470841,_0x33a756){const _0x3ed597=_0x178721;super(_0x3ed597(0x303)+_0x470841+':\x20'+_0x147acb['get'](_0x470841)+_0x3ed597(0x6fc)+JSON[_0x3ed597(0x37e)](_0x33a756)),this[_0x3ed597(0x3f2)]=_0x470841,this[_0x3ed597(0x372)]=_0x33a756||{};}}var _0x4ef04d,_0x1d4f3b,_0x3d1aa7,_0x13d2f3,_0x471767,_0xaca8ae,_0x51ac98;!function(_0x47e299){const _0x554c53=_0x178721;_0x47e299[_0x47e299[_0x554c53(0x322)]=0x0]='CloseGraphDatabase',_0x47e299[_0x47e299['CloseJobDispatcher']=0x1]='CloseJobDispatcher',_0x47e299[_0x47e299[_0x554c53(0x62c)]=0x2]=_0x554c53(0x62c),_0x47e299[_0x47e299[_0x554c53(0x7e0)]=0x3]=_0x554c53(0x7e0),_0x47e299[_0x47e299[_0x554c53(0x19f)]=0x4]='CloseKeyValueDatabase',_0x47e299[_0x47e299['CloseMediaStream']=0x5]='CloseMediaStream',_0x47e299[_0x47e299[_0x554c53(0x5bb)]=0x6]='CloseObjectStoreBucket',_0x47e299[_0x47e299[_0x554c53(0x2a9)]=0x7]=_0x554c53(0x2a9),_0x47e299[_0x47e299[_0x554c53(0x2c1)]=0x8]=_0x554c53(0x2c1),_0x47e299[_0x47e299[_0x554c53(0x1a2)]=0x9]=_0x554c53(0x1a2),_0x47e299[_0x47e299[_0x554c53(0x799)]=0xa]=_0x554c53(0x799),_0x47e299[_0x47e299[_0x554c53(0x80a)]=0xb]=_0x554c53(0x80a),_0x47e299[_0x47e299[_0x554c53(0x66e)]=0xc]=_0x554c53(0x66e),_0x47e299[_0x47e299['KeyValueDatabaseContentAvailable']=0xd]=_0x554c53(0x36a),_0x47e299[_0x47e299[_0x554c53(0x381)]=0xe]=_0x554c53(0x381),_0x47e299[_0x47e299[_0x554c53(0x625)]=0xf]=_0x554c53(0x625),_0x47e299[_0x47e299['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x554c53(0x86d),_0x47e299[_0x47e299[_0x554c53(0x50a)]=0x11]=_0x554c53(0x50a),_0x47e299[_0x47e299[_0x554c53(0xa65)]=0x12]=_0x554c53(0xa65),_0x47e299[_0x47e299[_0x554c53(0x370)]=0x13]=_0x554c53(0x370),_0x47e299[_0x47e299[_0x554c53(0xa9a)]=0x14]='LocalMediaStreamTrackFail',_0x47e299[_0x47e299['ObjectStoreStats']=0x15]=_0x554c53(0x5de),_0x47e299[_0x47e299[_0x554c53(0x833)]=0x16]='PubSubTopicStats',_0x47e299[_0x47e299[_0x554c53(0x16f)]=0x17]=_0x554c53(0x16f),_0x47e299[_0x47e299['RemoteMediaStreamTrackFail']=0x18]=_0x554c53(0x334),_0x47e299[_0x47e299[_0x554c53(0xa75)]=0x19]=_0x554c53(0xa75),_0x47e299[_0x47e299[_0x554c53(0x26c)]=0x1a]=_0x554c53(0x26c),_0x47e299[_0x47e299[_0x554c53(0x23b)]=0x1b]=_0x554c53(0x23b),_0x47e299[_0x47e299[_0x554c53(0x75d)]=0x1c]=_0x554c53(0x75d),_0x47e299[_0x47e299[_0x554c53(0x25c)]=0x1d]=_0x554c53(0x25c);}(_0x4ef04d||(_0x4ef04d={})),function(_0x41d58e){const _0x118540=_0x178721;_0x41d58e['FileWrite']=_0x118540(0x9c1),_0x41d58e[_0x118540(0x325)]=_0x118540(0x58a),_0x41d58e[_0x118540(0x682)]='delete',_0x41d58e[_0x118540(0xa05)]=_0x118540(0x218),_0x41d58e[_0x118540(0x8f7)]=_0x118540(0x62f),_0x41d58e[_0x118540(0x1ee)]=_0x118540(0x3f8),_0x41d58e[_0x118540(0x2b5)]=_0x118540(0x4aa),_0x41d58e[_0x118540(0x3ff)]='request-file-write';}(_0x1d4f3b||(_0x1d4f3b={})),function(_0x40058a){const _0x506dbf=_0x178721;_0x40058a[_0x506dbf(0x95d)]=_0x506dbf(0x807),_0x40058a[_0x506dbf(0x879)]=_0x506dbf(0x915);}(_0x3d1aa7||(_0x3d1aa7={})),function(_0x3fce2b){const _0xa2b5e8=_0x178721;_0x3fce2b[_0xa2b5e8(0x5b1)]=_0xa2b5e8(0x9b5),_0x3fce2b[_0xa2b5e8(0x8ab)]=_0xa2b5e8(0x768),_0x3fce2b[_0xa2b5e8(0x682)]=_0xa2b5e8(0xa66);}(_0x13d2f3||(_0x13d2f3={})),function(_0x251136){const _0x2cfb21=_0x178721;_0x251136[_0x2cfb21(0xa9f)]='get',_0x251136[_0x2cfb21(0x723)]=_0x2cfb21(0x79a),_0x251136['Count']=_0x2cfb21(0x8c5);}(_0x471767||(_0x471767={})),function(_0x260237){const _0x2a35d2=_0x178721;_0x260237[_0x260237[_0x2a35d2(0x95d)]=0x0]=_0x2a35d2(0x95d),_0x260237[_0x260237[_0x2a35d2(0x376)]=0x1]=_0x2a35d2(0x376),_0x260237[_0x260237[_0x2a35d2(0x438)]=0x2]=_0x2a35d2(0x438),_0x260237[_0x260237[_0x2a35d2(0x759)]=0x3]=_0x2a35d2(0x759),_0x260237[_0x260237[_0x2a35d2(0x96b)]=0x4]=_0x2a35d2(0x96b),_0x260237[_0x260237[_0x2a35d2(0x1c8)]=0x5]='Failed';}(_0xaca8ae||(_0xaca8ae={})),function(_0x5ab03f){const _0x1a9e0e=_0x178721;_0x5ab03f[_0x5ab03f['PeerConnection']=0x0]=_0x1a9e0e(0x34e),_0x5ab03f[_0x5ab03f['Node']=0x1]=_0x1a9e0e(0x9dd),_0x5ab03f[_0x5ab03f[_0x1a9e0e(0xa48)]=0x2]=_0x1a9e0e(0xa48),_0x5ab03f[_0x5ab03f[_0x1a9e0e(0x378)]=0x3]=_0x1a9e0e(0x378),_0x5ab03f[_0x5ab03f['Stats']=0x4]=_0x1a9e0e(0x397),_0x5ab03f[_0x5ab03f['Detection']=0x5]=_0x1a9e0e(0x7bd),_0x5ab03f[_0x5ab03f[_0x1a9e0e(0x39d)]=0x6]=_0x1a9e0e(0x39d);}(_0x51ac98||(_0x51ac98={}));class _0x4898db{[_0x178721(0x196)];[_0x178721(0x8f4)];[_0x178721(0x87d)];constructor(_0x30af6c,_0xd377a){this['owner']=_0x30af6c,this['label']=_0xd377a;}['getLabel'](){const _0x111951=_0x178721;return this[_0x111951(0x8f4)];}[_0x178721(0x691)](){const _0x39ada3=_0x178721;return this[_0x39ada3(0x196)][_0x39ada3(0x78a)]();}[_0x178721(0x4c1)](){}['registerSystemPublisher'](_0x3e7de6){const _0x5f38c6=_0x178721;this[_0x5f38c6(0x87d)]=_0x3e7de6;}[_0x178721(0x1ae)](){delete this['systemTopic'];}}const _0x3d71d8=require('firebase/firestore');let _0x282f61=_0x2e334f(0x14d)['O'];function _0xc6ae5e(_0x2e3702){const _0x3c005c=_0x178721;return!(!_0x2e3702||_0x3c005c(0x237)!=typeof _0x2e3702||Array[_0x3c005c(0x986)](_0x2e3702));}_0x282f61=function _0x399f23(_0x3dd644,..._0x5a7ee5){const _0x94563b=_0x178721;if(!Array[_0x94563b(0x986)](_0x5a7ee5)||0x0===_0x5a7ee5[_0x94563b(0x3f4)])return _0x3dd644;const _0x5a7049=_0x5a7ee5[_0x94563b(0x9cd)]();if(_0xc6ae5e(_0x3dd644)&&_0xc6ae5e(_0x5a7049)){for(const _0x5b5673 in _0x5a7049)_0xc6ae5e(_0x5a7049[_0x5b5673])?(_0x3dd644[_0x5b5673]||Object['assign'](_0x3dd644,{[_0x5b5673]:{}}),_0x399f23(_0x3dd644[_0x5b5673],_0x5a7049[_0x5b5673])):Object[_0x94563b(0x3bd)](_0x3dd644,{[_0x5b5673]:_0x5a7049[_0x5b5673]});}return _0x399f23(_0x3dd644,..._0x5a7ee5);}(_0x282f61,_0x2e334f(0x3e6)['O']);const _0x551917=_0x282f61,_0x48ea7c=require('firebase/app'),_0x2800cb=require('firebase/auth'),_0xe83236=require('firebase/database'),_0x545836=require('firebase/functions'),_0x4848bd=require('uuid'),_0x51f30c=_0x178721(0x52a);class _0x123666{static [_0x178721(0x597)];['app'];[_0x178721(0x520)];['functions'];['database'];[_0x178721(0x6c6)];[_0x178721(0x35f)];['lastClockUpdate'];constructor(){this['getApp']();}static['getInstance'](){const _0x1322dd=_0x178721;return _0x123666[_0x1322dd(0x597)]||(_0x123666[_0x1322dd(0x597)]=new _0x123666()),_0x123666['instance'];}['getApp'](){const _0x240930=_0x178721;if(!this[_0x240930(0x239)]){let _0x198e43=_0x51f30c;_0x240930(0x2ed)!=typeof window&&(_0x198e43=_0x51f30c+'-'+(0x0,_0x4848bd['v4'])()),this['app']=(0x0,_0x48ea7c[_0x240930(0x725)])(_0x551917[_0x240930(0x92b)],''+_0x198e43);}return this[_0x240930(0x239)];}[_0x178721(0x9cb)](){const _0x2ac74c=_0x178721;return this[_0x2ac74c(0x520)]||(this[_0x2ac74c(0x520)]=(0x0,_0x2800cb[_0x2ac74c(0x9cb)])(this[_0x2ac74c(0xa7f)]())),this[_0x2ac74c(0x520)];}['getFunctions'](){const _0x486bb8=_0x178721;return this[_0x486bb8(0x1a1)]||(this[_0x486bb8(0x1a1)]=(0x0,_0x545836[_0x486bb8(0x7e5)])(this[_0x486bb8(0xa7f)](),_0x551917[_0x486bb8(0x92b)][_0x486bb8(0x503)])),this[_0x486bb8(0x1a1)];}['getDatabase'](){const _0x3098ef=_0x178721;return this[_0x3098ef(0x2bf)]||(this[_0x3098ef(0x2bf)]=(0x0,_0xe83236[_0x3098ef(0x722)])(this['getApp']())),this['database'];}[_0x178721(0xaa0)](){const _0x4faeb2=_0x178721;return this[_0x4faeb2(0x6c6)]||(this[_0x4faeb2(0x6c6)]=(0x0,_0x3d71d8[_0x4faeb2(0xaa0)])(this[_0x4faeb2(0xa7f)]())),this[_0x4faeb2(0x6c6)];}async[_0x178721(0x6dc)](){const _0x43ac1e=_0x178721;if(this[_0x43ac1e(0x35f)]&&this['lastClockUpdate']&&Date[_0x43ac1e(0x2e5)]()-this[_0x43ac1e(0x99c)]<0x493e0)return Date[_0x43ac1e(0x2e5)]()+this[_0x43ac1e(0x35f)];const _0x42b02c=this[_0x43ac1e(0x722)](),_0x355c23=(0x0,_0xe83236['ref'])(_0x42b02c,_0x43ac1e(0xa78));return new Promise(_0x684e58=>{(0x0,_0xe83236['onValue'])(_0x355c23,_0x4d40aa=>{const _0x4bd9f6=a0_0x5e71;(0x0,_0xe83236[_0x4bd9f6(0x52d)])(_0x355c23),this[_0x4bd9f6(0x35f)]=_0x4d40aa[_0x4bd9f6(0x687)](),this[_0x4bd9f6(0x99c)]=Date['now'](),_0x684e58(Date[_0x4bd9f6(0x2e5)]()+(this['clockSkew']??0x0));});});}}const _0x4a9fc2=_0x123666[_0x178721(0x55a)]();class _0x53fea8{static [_0x178721(0x597)];['enabledChannels']=[_0x312d1f[_0x178721(0x339)]];[_0x178721(0x450)]=!0x1;[_0x178721(0x1f8)];[_0x178721(0x92c)]='';[_0x178721(0x634)];[_0x178721(0x9ad)]=[];[_0x178721(0x3df)];['batchTimeout'];['retryLimit']=0xa;[_0x178721(0xa9c)]=0x1f4;[_0x178721(0xa59)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x473a2d=_0x178721;if(_0x473a2d(0x2ed)!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x2e334f['g'])throw new Error(_0x473a2d(0x660));this[_0x473a2d(0x634)]=_0x2e334f['g'];}this[_0x473a2d(0x3ea)](),this[_0x473a2d(0x634)]['crewdleSDKEnableLogging']=_0x2e0526=>{const _0x145b74=_0x473a2d;if(_0x2e0526===_0x312d1f[_0x145b74(0xab2)])return this[_0x145b74(0x342)]=Object[_0x145b74(0x89f)](_0x312d1f)['map'](_0x3afa26=>_0x312d1f[_0x3afa26]),void Object[_0x145b74(0x89f)](_0x312d1f)['forEach'](_0x43d1bf=>{const _0x30f7c2=_0x145b74,_0x3b95cb=_0x43d1bf;localStorage[_0x30f7c2(0x525)](_0x30f7c2(0x985)+_0x312d1f[_0x3b95cb],_0x30f7c2(0x49b));});this['enabledChannels'][_0x145b74(0x31d)](_0x2e0526)||(this[_0x145b74(0x342)]['push'](_0x2e0526),localStorage['setItem'](_0x145b74(0x985)+_0x2e0526,_0x145b74(0x49b)));},this[_0x473a2d(0x634)][_0x473a2d(0x903)]=_0x3e93b1=>{const _0xe83155=_0x473a2d;if(!_0x3e93b1||_0x3e93b1===_0x312d1f[_0xe83155(0xab2)])return this['enabledChannels']=[],void Object['keys'](_0x312d1f)[_0xe83155(0x2cb)](_0x34749b=>{const _0x50b3fd=_0xe83155,_0x4472fb=_0x34749b;localStorage['removeItem'](_0x50b3fd(0x985)+_0x312d1f[_0x4472fb]);});this[_0xe83155(0x342)][_0xe83155(0x31d)](_0x3e93b1)&&(this[_0xe83155(0x342)]=this[_0xe83155(0x342)][_0xe83155(0x434)](_0x45a245=>_0x45a245!==_0x3e93b1),localStorage[_0xe83155(0x6aa)](_0xe83155(0x985)+_0x3e93b1));},this[_0x473a2d(0x634)]['crewdleSDKLoggingChannels']=_0x312d1f;}static[_0x178721(0x55a)](){const _0x300883=_0x178721;try{return _0x53fea8[_0x300883(0x597)]||(_0x53fea8[_0x300883(0x597)]=new _0x53fea8()),_0x53fea8[_0x300883(0x597)];}catch(_0x2f063d){return console[_0x300883(0x5c0)](_0x300883(0x9c9),_0x2f063d),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x178721(0x8f5)](_0x362229){const _0x1abfcf=_0x178721;this['vendorId']=_0x362229,this[_0x1abfcf(0x9ad)]=[],this['currentBatch']=this[_0x1abfcf(0x905)](),this['batchTimeout']&&(clearTimeout(this[_0x1abfcf(0x78f)]),this[_0x1abfcf(0x78f)]=void 0x0);}[_0x178721(0x8b0)](_0x55dc89){const _0x2ca836=_0x178721;this[_0x2ca836(0x1f8)]=_0x55dc89;}['debug'](_0x1ee7ab,..._0x42b3fb){const _0x2f25af=_0x178721;this[_0x2f25af(0x450)]&&this[_0x2f25af(0x51c)](_0x312d1f[_0x2f25af(0x339)],_0x2f25af(0x5ca)+_0x1ee7ab,..._0x42b3fb);}['forceLog'](_0x5d9585,..._0x1e32db){const _0x99e89c=_0x178721;console[_0x99e89c(0x51c)](_0x5d9585,..._0x1e32db),this[_0x99e89c(0x1f8)]&&this['loggingConnectors']['forEach'](_0x53ba04=>{const _0x214c18=_0x99e89c;_0x53ba04[_0x214c18(0x51c)](_0x5d9585,{'vendorId':this[_0x214c18(0x92c)],'nodeId':'','nodeType':'','data':{..._0x1e32db}});});}[_0x178721(0x51c)](_0x5b46df,_0x667dc5,..._0xa24603){const _0x2316d5=_0x178721;_0x551917[_0x2316d5(0x30e)]||(this['enabledChannels']['includes'](_0x5b46df)&&console[_0x2316d5(0x51c)](_0x2316d5(0x96a)+_0x5b46df+'\x27\x0a',new Date()+'\x0a',_0x667dc5,..._0xa24603),this[_0x2316d5(0x1f8)]&&this[_0x2316d5(0x1f8)][_0x2316d5(0x2cb)](_0x5d8e8b=>{const _0x2f91ab=_0x2316d5;this[_0x2f91ab(0x2fb)](_0x5d8e8b)&&_0x5d8e8b[_0x2f91ab(0x5f6)]()['includes'](_0x5b46df)&&_0x5d8e8b[_0x2f91ab(0x51c)](_0x667dc5,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x5b46df,..._0xa24603}});}));}['logRaw'](_0x2e2735,_0x2efbd8,..._0x1c85f1){const _0x206f7d=_0x178721;_0x551917[_0x206f7d(0x30e)]||(this[_0x206f7d(0x342)]['includes'](_0x2e2735)&&console[_0x206f7d(0x51c)](_0x2efbd8,..._0x1c85f1),this['loggingConnectors']&&this[_0x206f7d(0x1f8)][_0x206f7d(0x2cb)](_0x34dd37=>{const _0x27a225=_0x206f7d;this[_0x27a225(0x2fb)](_0x34dd37)&&_0x34dd37[_0x27a225(0x5f6)]()[_0x27a225(0x31d)](_0x2e2735)&&_0x34dd37['log'](_0x2efbd8,{'vendorId':this[_0x27a225(0x92c)],'nodeId':'','nodeType':'','data':{'channel':_0x2e2735,..._0x1c85f1}});}));}[_0x178721(0x54c)](_0x340e5e,_0x5ba3f5){const _0x432fcd=_0x178721;if(!this[_0x432fcd(0x1f8)])return;const _0x1db529={'vendorId':this[_0x432fcd(0x92c)],..._0x5ba3f5};this['loggingConnectors']['forEach'](_0x1c0747=>{const _0x294a4f=_0x432fcd;_0x1c0747[_0x294a4f(0x51c)](_0x340e5e,_0x1db529);});}['logServiceEvent'](_0x3562e6,_0x2546c4){this['createBatchOperation'](_0x3562e6,_0x2546c4),this['logBatch']();}['logStorage'](_0x358636,_0x4ca111,_0x27d087){const _0x52830e=_0x178721;(0x0,_0x3d71d8[_0x52830e(0x9bf)])((0x0,_0x3d71d8[_0x52830e(0xa0e)])(_0x4a9fc2['getFirestore'](),_0x52830e(0x8be)+this[_0x52830e(0x92c)]+'/'+_0x358636+'/'+_0x4ca111),{'storage':_0x27d087,'timestamp':(0x0,_0x3d71d8[_0x52830e(0x580)])()});}[_0x178721(0x877)](){const _0x1f0a5f=_0x178721;this['currentBatch']&&(this[_0x1f0a5f(0x3df)][_0x1f0a5f(0xa26)]+=0x1,this[_0x1f0a5f(0x3df)]['counter']===this['batchSize']?this[_0x1f0a5f(0x90d)]():this[_0x1f0a5f(0x78f)]||(this[_0x1f0a5f(0x78f)]=this['globalObject'][_0x1f0a5f(0x452)](()=>this[_0x1f0a5f(0x90d)](),this[_0x1f0a5f(0x93b)])));}async[_0x178721(0x90d)](){const _0x4ea052=_0x178721;if(this[_0x4ea052(0x3df)]){for(this[_0x4ea052(0x9ad)][_0x4ea052(0x77b)](this['currentBatch']),this[_0x4ea052(0x3df)]=this['createNewBatch']();this[_0x4ea052(0x9ad)][_0x4ea052(0x3f4)]>0x0;){const _0x5537b3=this[_0x4ea052(0x9ad)][_0x4ea052(0x9cd)]();if(!await this[_0x4ea052(0xa5d)](_0x5537b3))break;}clearTimeout(this[_0x4ea052(0x78f)]),this[_0x4ea052(0x78f)]=void 0x0;}}['error'](_0x196b3e,_0x51efaa,..._0x39e74d){const _0x5d175=_0x178721;if(console[_0x5d175(0x5c0)](new Date(),_0x196b3e,_0x51efaa,..._0x39e74d),this[_0x5d175(0x1f8)]){const _0x219fd8={'vendorId':this[_0x5d175(0x92c)],..._0x51efaa};this['loggingConnectors'][_0x5d175(0x2cb)](_0x5252cc=>{const _0x5c32f5=_0x5d175;_0x5252cc[_0x5c32f5(0x5c0)](_0x196b3e,_0x219fd8);});}}['warning'](_0x41dfa2,_0x13f194,..._0x417a9e){const _0x1a3424=_0x178721;if(console[_0x1a3424(0x2e4)](new Date(),_0x41dfa2,_0x13f194,_0x417a9e),this[_0x1a3424(0x1f8)]){const _0xd6b1e={'vendorId':this[_0x1a3424(0x92c)],..._0x13f194};this[_0x1a3424(0x1f8)]['forEach'](_0x520c9e=>{const _0x33d939=_0x1a3424;_0x520c9e[_0x33d939(0x2e4)](_0x41dfa2,_0xd6b1e);});}}[_0x178721(0x881)](_0x2e071e){const _0x18151b=_0x178721;return this[_0x18151b(0x342)][_0x18151b(0x31d)](_0x2e071e);}async['commitBatch'](_0x2ce9ba,_0x4ee284=0x0){const _0x28c760=_0x178721;if(_0x2ce9ba[_0x28c760(0xa26)]>0x0)try{return await _0x2ce9ba[_0x28c760(0x2f6)][_0x28c760(0x333)](),!0x0;}catch(_0x362518){if(console[_0x28c760(0x5c0)](_0x28c760(0x274),_0x362518,_0x28c760(0x2e1),_0x2ce9ba[_0x28c760(0x997)]),!(_0x4ee284<this[_0x28c760(0x44e)])){const {nodeId:_0xf0fa2f='',nodeType:_0x46915a='',clusterId:_0x5d1b23=''}=_0x2ce9ba['operations'][0x0][_0x28c760(0x372)],_0x23fbb0={'nodeId':_0xf0fa2f,'nodeType':_0x46915a,'clusterId':_0x5d1b23,'data':{'operations':_0x2ce9ba[_0x28c760(0x997)],'error':_0x362518}};return this[_0x28c760(0x5c0)](_0x28c760(0x60c),_0x23fbb0),!0x1;}{const _0xdb033f=this[_0x28c760(0x2a6)](_0x2ce9ba[_0x28c760(0x997)]);setTimeout(()=>this[_0x28c760(0xa5d)](_0xdb033f,_0x4ee284+0x1),this['retryDelay']*Math[_0x28c760(0x259)](0x2,_0x4ee284));}}}[_0x178721(0x3ea)](){const _0x54b6c2=_0x178721;try{Object[_0x54b6c2(0x89f)](_0x312d1f)[_0x54b6c2(0x2cb)](_0x50811b=>{const _0x279476=_0x54b6c2,_0x3f2237=_0x50811b;localStorage[_0x279476(0x32b)](_0x279476(0x985)+_0x312d1f[_0x3f2237])&&(console[_0x279476(0x51c)](_0x279476(0x938),_0x312d1f[_0x3f2237]),this[_0x279476(0x342)]['push'](_0x312d1f[_0x3f2237]));});}catch(_0x1fb800){}}['isInternalLoggingConnector'](_0x34adab){const _0x38c24e=_0x178721;return void 0x0!==_0x34adab[_0x38c24e(0x5f6)];}['createNewBatch'](){const _0x3a6cc9=_0x178721;return{'batch':(0x0,_0x3d71d8[_0x3a6cc9(0x8b3)])(_0x4a9fc2[_0x3a6cc9(0xaa0)]()),'operations':[],'counter':0x0};}[_0x178721(0x2a6)](_0xa79e63){const _0xd9137d=_0x178721,_0x339b85=(0x0,_0x3d71d8['writeBatch'])(_0x4a9fc2[_0xd9137d(0xaa0)]());return _0xa79e63[_0xd9137d(0x2cb)](_0xa6ba33=>this[_0xd9137d(0x949)](_0x339b85,_0xa6ba33)),{'batch':_0x339b85,'operations':_0xa79e63,'counter':_0xa79e63[_0xd9137d(0x3f4)]};}[_0x178721(0x949)](_0x54267b,_0x18afca){const _0x2e8d67=_0x178721;switch(_0x18afca[_0x2e8d67(0x43f)]){case _0x2e8d67(0x5f0):_0x54267b[_0x2e8d67(0x5f0)](_0x18afca[_0x2e8d67(0x1a3)],_0x18afca[_0x2e8d67(0x372)]);break;case _0x2e8d67(0x768):_0x54267b[_0x2e8d67(0x768)](_0x18afca[_0x2e8d67(0x1a3)],_0x18afca['data']);break;case _0x2e8d67(0xa66):_0x54267b[_0x2e8d67(0xa66)](_0x18afca[_0x2e8d67(0x1a3)]);}}[_0x178721(0x17c)](_0x1de5c5,_0x16d7e7){const _0x4301f5=_0x178721;this['currentBatch']||(this[_0x4301f5(0x3df)]=this[_0x4301f5(0x905)]());const _0x4e34b2=(0x0,_0x3d71d8[_0x4301f5(0xa0e)])((0x0,_0x3d71d8[_0x4301f5(0x643)])(_0x4a9fc2[_0x4301f5(0xaa0)](),_0x4301f5(0x8be)+this[_0x4301f5(0x92c)]+_0x4301f5(0x72d))),_0x399f7e={..._0x16d7e7,'service':_0x1de5c5,'timestamp':(0x0,_0x3d71d8[_0x4301f5(0x580)])()},_0x33390={'type':_0x4301f5(0x5f0),'path':_0x4e34b2[_0x4301f5(0x181)],'ref':_0x4e34b2,'data':_0x399f7e};return this[_0x4301f5(0x3df)][_0x4301f5(0x997)]['push'](_0x33390),this[_0x4301f5(0x949)](this[_0x4301f5(0x3df)][_0x4301f5(0x2f6)],_0x33390),_0x4e34b2;}}const _0x4826cd=_0x53fea8[_0x178721(0x55a)]();function _0x484bb8(_0x423651,_0x3d03c7){return'/'===_0x423651?_0x423651+_0x3d03c7:_0x423651+'/'+_0x3d03c7;}function _0x58a8b7(_0x4ab225){const _0x284f07=_0x178721,_0x3e665b=function(_0x506aa1){const _0x33f2e2=a0_0x5e71;return _0x506aa1[_0x33f2e2(0x6af)]('/')['filter'](_0x23c1be=>_0x23c1be[_0x33f2e2(0x3f4)]>0x0);}(_0x4ab225),_0x7dbf75=_0x3e665b[_0x284f07(0xa5e)]()||'',_0x15f91f=_0x3e665b[_0x284f07(0x4c6)]('/');return[0x0===_0x15f91f[_0x284f07(0x3f4)]?'/':_0x15f91f,_0x7dbf75];}async function _0x40e47e(_0x29f163){const _0x1f04d8=_0x178721;let _0x8fb95e;const _0x65cded=_0x29f163[_0x1f04d8(0x3e6)]/0x100000;_0x8fb95e=_0x65cded<=0xa?0x1:_0x65cded<=0x64?0.5:_0x65cded<=0x1f4?0.1:0.05;const _0x17a431=Math[_0x1f04d8(0x8e5)](_0x29f163[_0x1f04d8(0x3e6)]/_0x58a044),_0x5247fe=Math[_0x1f04d8(0x8e5)](_0x17a431*_0x8fb95e);let _0x35288d=new Uint8Array();for(let _0x102eeb=0x0;_0x102eeb<_0x5247fe;_0x102eeb++){const _0x579414=Math[_0x1f04d8(0x444)](_0x102eeb/_0x5247fe*_0x29f163[_0x1f04d8(0x3e6)]);let _0x3c8f6a=_0x579414+_0x58a044;_0x3c8f6a>_0x29f163[_0x1f04d8(0x3e6)]&&(_0x3c8f6a=_0x29f163[_0x1f04d8(0x3e6)]);const _0x278b3b=_0x29f163[_0x1f04d8(0xab0)](_0x579414,_0x3c8f6a),_0x24f829=await _0x278b3b[_0x1f04d8(0x808)](),_0x2a85c7=new Uint8Array([..._0x35288d,...new Uint8Array(_0x24f829)]);_0x35288d=new Uint8Array(await crypto[_0x1f04d8(0x8de)][_0x1f04d8(0x715)](_0x1f04d8(0x321),_0x2a85c7));}return Array['from'](new Uint8Array(_0x35288d))['map'](_0x4c740c=>_0x4c740c[_0x1f04d8(0x729)](0x10)['padStart'](0x2,'0'))[_0x1f04d8(0x4c6)]('');}async function*_0x306cb4(_0x243974,_0x21c7ee=0x0,_0xdcf29e){const _0x5bba7a=_0x178721;let _0x24d683=_0x21c7ee*_0x4af52e,_0x22d2fa=_0x243974;for(;_0x24d683<_0x22d2fa[_0x5bba7a(0x3e6)];){let _0x2ac333=_0x24d683+_0x4af52e;_0x2ac333>_0x22d2fa['size']&&(_0x2ac333=_0x22d2fa[_0x5bba7a(0x3e6)]);let _0x233720=0x0;for(;_0x233720<0x14;)try{await _0xdcf29e?.();const _0x4d02b6=_0x22d2fa['slice'](_0x24d683,_0x2ac333,_0x5bba7a(0x767)),_0x3dc385=await _0x4d02b6[_0x5bba7a(0x808)]();yield _0x3dc385,_0x24d683=_0x2ac333,await new Promise(_0x1951ff=>setTimeout(_0x1951ff,0x0));break;}catch(_0x19cdd6){if(console[_0x5bba7a(0x5c0)](_0x5bba7a(0xa1c)+(_0x233720+0x1)+_0x5bba7a(0x2c0),_0x19cdd6),_0x233720++,_0x233720>0x14)throw _0x19cdd6;let _0x55a73a=0x3e8*Math[_0x5bba7a(0x259)](0x2,_0x233720);_0x55a73a>0x7530&&(_0x55a73a=0x7530),await new Promise(_0x4ad510=>setTimeout(_0x4ad510,_0x55a73a));}}}class _0x253fab extends _0x4898db{[_0x178721(0x83e)];[_0x178721(0x72a)];['fileChunks']=new Map();[_0x178721(0x7bf)]=0x0;[_0x178721(0x7a4)]=0x0;['bytesSent']=0x0;[_0x178721(0x6fb)]=0x0;constructor(_0x35dc4c,_0x47070b){super(_0x35dc4c,_0x47070b);}[_0x178721(0x45b)](){const _0x160120=_0x178721;return this[_0x160120(0x8f4)];}[_0x178721(0x92f)](){return this['label'];}[_0x178721(0x79e)](){const _0x19419e=_0x178721;return _0x12ff66[_0x19419e(0x66a)][_0x19419e(0xa4a)];}[_0x178721(0x1fd)](){return this['label'];}[_0x178721(0x717)](_0x2e02ec){const _0x530337=_0x178721;if(this[_0x530337(0x83e)])throw new _0x5953b5(_0x5953b5['codes']['InvalidPublisher'],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x530337(0x78a)]()+_0x530337(0x417)+this[_0x530337(0x8f4)],'topic':this[_0x530337(0x83e)]});this[_0x530337(0x83e)]=_0x2e02ec;}[_0x178721(0x1ce)](_0x3d0bf8){const _0x147029=_0x178721;if(this['incomingTopic'])throw new _0x5953b5(_0x5953b5[_0x147029(0x913)][_0x147029(0x7d8)],{'message':_0x147029(0x58f)+this[_0x147029(0x196)]['getId']()+_0x147029(0x417)+this[_0x147029(0x8f4)],'topic':this[_0x147029(0x72a)]});this['incomingTopic']=_0x3d0bf8;}[_0x178721(0x721)](){const _0x3c5ce8=_0x178721;delete this[_0x3c5ce8(0x83e)];}['unregisterSubscriber'](){const _0x346d96=_0x178721;delete this[_0x346d96(0x72a)];}async[_0x178721(0x9fa)](_0x2441af,_0x173d3f){const _0x206014=_0x178721;if(_0x4826cd[_0x206014(0x51c)](_0x312d1f[_0x206014(0x518)],_0x206014(0x5b6),this[_0x206014(0x196)][_0x206014(0x78a)](),_0x2441af,_0x173d3f),this['messagesSent']+=0x1,_0x2441af instanceof File){const _0x1d028e=await async function(_0x2cda58){const _0x24b449=[];for await(const _0x2b5150 of _0x306cb4(_0x2cda58))_0x24b449['push'](_0x2b5150);return _0x24b449;}(_0x2441af);return this[_0x206014(0x608)]+=_0x1d028e['reduce']((_0x4b98b9,_0x4be5e7)=>_0x4b98b9+_0x4be5e7[_0x206014(0x7f8)],0x0),void _0x1d028e[_0x206014(0x2cb)]((_0x53f635,_0x101039)=>{const _0x29455f=_0x206014;this['outgoingTopic'][_0x29455f(0xa83)]({'sourceId':this[_0x29455f(0x196)][_0x29455f(0x78a)](),'destinationIds':_0x173d3f,'propagate':!0x0,'contentType':_0x12ff66[_0x29455f(0x66a)][_0x29455f(0xa86)],'content':{'name':_0x2441af[_0x29455f(0x54e)],'type':_0x2441af['type'],'data':_0x53f635,'index':_0x101039,'total':_0x1d028e[_0x29455f(0x3f4)]}});});}this[_0x206014(0x608)]+=JSON[_0x206014(0x37e)](_0x2441af)[_0x206014(0x3f4)],this['outgoingTopic'][_0x206014(0xa83)]({'sourceId':this[_0x206014(0x196)]['getId'](),'destinationIds':_0x173d3f,'propagate':!0x0,'contentType':_0x12ff66[_0x206014(0x66a)][_0x206014(0xa4a)],'content':_0x2441af});}[_0x178721(0x522)](_0x932861){const _0x51bbf9=_0x178721;return this[_0x51bbf9(0x72a)][_0x51bbf9(0x1c5)](_0xd8eb55=>{const _0x3c4232=_0x51bbf9;switch(_0x4826cd[_0x3c4232(0x51c)](_0x312d1f[_0x3c4232(0x518)],_0x3c4232(0x74a),this[_0x3c4232(0x196)][_0x3c4232(0x78a)](),_0xd8eb55),_0xd8eb55['contentType']){case _0x12ff66['ContentType'][_0x3c4232(0xa4a)]:this[_0x3c4232(0x7a4)]+=0x1,this[_0x3c4232(0x6fb)]+=JSON['stringify'](_0xd8eb55[_0x3c4232(0x855)])[_0x3c4232(0x3f4)],_0x932861(_0xd8eb55[_0x3c4232(0x8d8)],_0xd8eb55[_0x3c4232(0x855)]);break;case _0x12ff66[_0x3c4232(0x66a)][_0x3c4232(0xa86)]:this[_0x3c4232(0x37d)]['has'](_0xd8eb55['content'][_0x3c4232(0x54e)])||this[_0x3c4232(0x37d)]['set'](_0xd8eb55[_0x3c4232(0x855)][_0x3c4232(0x54e)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x1d928b=this['fileChunks'][_0x3c4232(0x603)](_0xd8eb55['content']['name']);if(_0x1d928b['chunksReceived']+=0x1,_0x1d928b[_0x3c4232(0x6fb)]+=_0xd8eb55[_0x3c4232(0x855)][_0x3c4232(0x372)][_0x3c4232(0x7f8)],_0x1d928b['content']&&(_0x1d928b['content'][_0xd8eb55[_0x3c4232(0x855)][_0x3c4232(0x9e1)]]=_0xd8eb55[_0x3c4232(0x855)][_0x3c4232(0x372)]),this[_0x3c4232(0x37d)]['set'](_0xd8eb55['content'][_0x3c4232(0x54e)],_0x1d928b),_0x1d928b['chunksReceived']+0x1<_0xd8eb55[_0x3c4232(0x855)][_0x3c4232(0x34d)])return;this['messagesReceived']+=0x1,this[_0x3c4232(0x6fb)]+=_0x1d928b['bytesReceived'],_0x1d928b[_0x3c4232(0x855)]&&_0x932861(_0xd8eb55[_0x3c4232(0x8d8)],(_0x8cb11a=_0x1d928b[_0x3c4232(0x855)],_0x1dc228=_0xd8eb55[_0x3c4232(0x855)][_0x3c4232(0x54e)],_0x20171b=_0xd8eb55['content'][_0x3c4232(0x43f)],new File(_0x8cb11a,_0x1dc228,{'type':_0x20171b}))),this[_0x3c4232(0x37d)]['delete'](_0xd8eb55[_0x3c4232(0x855)][_0x3c4232(0x54e)]);}var _0x8cb11a,_0x1dc228,_0x20171b;});}}function _0x1e0d9a(){const _0x42f211=_0x178721;let _0xfeceb6=[];return{'subscribe':_0x204ae7=>(_0xfeceb6[_0x42f211(0x77b)](_0x204ae7),()=>{const _0x7e3b7d=_0x42f211;_0xfeceb6=_0xfeceb6[_0x7e3b7d(0x434)](_0x59ab49=>_0x59ab49!==_0x204ae7);}),'publish':_0x41b38e=>{const _0x2e1016=_0x42f211;_0xfeceb6[_0x2e1016(0x2cb)](_0x52b109=>_0x52b109(_0x41b38e));}};}function _0x5467bb(){let _0x25d9d2;return{'subscribe':_0x32fd97=>(_0x25d9d2=_0x32fd97,()=>{_0x25d9d2=void 0x0;}),'publish':_0x153190=>{_0x25d9d2&&_0x25d9d2(_0x153190);}};}class _0x1ab480{[_0x178721(0x42c)];[_0x178721(0x898)];[_0x178721(0x230)];['eventListener']=_0x5467bb();['listenerUnsubscriber'];constructor(_0x21500d,_0x5022df,_0x2c1b3e){const _0x39993e=_0x178721;this[_0x39993e(0x42c)]=_0x21500d,this[_0x39993e(0x898)]=_0x5022df,this['tableObserver']=_0x2c1b3e;}[_0x178721(0x4c1)](){const _0x5920d8=_0x178721;this[_0x5920d8(0x62e)]?.();}async[_0x178721(0x603)](_0x25a9c9){const _0x617185=_0x178721,_0x262726={'key':_0x25a9c9,'tableName':this[_0x617185(0x898)],'action':_0x471767[_0x617185(0xa9f)]};return this[_0x617185(0x230)][_0x617185(0xa83)](_0x262726),this['connector']['get'](_0x25a9c9);}async['set'](_0x15eb87,_0x49a339,_0x3cb264=!0x0){const _0x257931=_0x178721;this['validateValue'](_0x49a339);const _0x5e9283=await this[_0x257931(0x42c)]['get'](_0x15eb87),_0x3f6418=await this[_0x257931(0x42c)][_0x257931(0x5f0)](_0x15eb87,_0x49a339),_0x8b501a=_0x5e9283?_0x13d2f3['Update']:_0x13d2f3[_0x257931(0x5b1)];if(this['publish'](_0x8b501a,_0x3f6418),!_0x3cb264)return _0x3f6418;const _0x10c26d={'key':_0x15eb87,'tableName':this[_0x257931(0x898)],'action':_0x8b501a,'value':_0x3f6418};return this[_0x257931(0x230)]['publish'](_0x10c26d),_0x3f6418;}async['add'](_0x43339e){const _0x226ccc=_0x178721;this[_0x226ccc(0x1a9)](_0x43339e);const _0x5137ef=await this[_0x226ccc(0x42c)]['add'](_0x43339e),_0x5838b1={'key':_0x5137ef['id'],'tableName':this[_0x226ccc(0x898)],'action':_0x13d2f3[_0x226ccc(0x5b1)],'value':_0x5137ef};return this[_0x226ccc(0x230)][_0x226ccc(0xa83)](_0x5838b1),this[_0x226ccc(0xa83)](_0x5838b1[_0x226ccc(0x1b2)],_0x5137ef),_0x5137ef;}async['delete'](_0x513b10,_0x1b9070=!0x0){const _0x4637d8=_0x178721,_0x495f94=await this['connector'][_0x4637d8(0x603)](_0x513b10);if(!_0x495f94)return;await this[_0x4637d8(0x42c)][_0x4637d8(0xa66)](_0x513b10);const _0x3b690c=_0x13d2f3[_0x4637d8(0x682)];if(this[_0x4637d8(0xa83)](_0x3b690c,_0x495f94),!_0x1b9070)return;const _0x13f06c={'key':_0x513b10,'tableName':this[_0x4637d8(0x898)],'action':_0x3b690c,'value':_0x495f94};this['tableObserver'][_0x4637d8(0xa83)](_0x13f06c);}async[_0x178721(0x6f1)](){const _0x5c956d=_0x178721,_0x195aca=await this['list']();for(const _0x3117c9 of _0x195aca){const _0x2308cd=_0x13d2f3['Delete'];this[_0x5c956d(0xa83)](_0x2308cd,_0x3117c9);const _0x3c2e8c={'key':_0x3117c9['id'],'tableName':this[_0x5c956d(0x898)],'action':_0x2308cd,'value':_0x3117c9};this[_0x5c956d(0x230)]['publish'](_0x3c2e8c);}return this[_0x5c956d(0x42c)][_0x5c956d(0x6f1)]();}async[_0x178721(0x79a)](_0x43c4da){const _0x54ebbc=_0x178721,_0xebee70={'key':'','tableName':this[_0x54ebbc(0x898)],'action':_0x471767[_0x54ebbc(0x723)]};this[_0x54ebbc(0x230)][_0x54ebbc(0xa83)](_0xebee70);try{_0x43c4da&&(_0x43c4da=_0x43c4da instanceof _0x2a0c5f?_0x43c4da[_0x54ebbc(0x1dd)]():_0x2a0c5f['buildQuery'](_0x43c4da)['getQuery']());}catch(_0x59bda2){throw new _0x1c9a4(_0x58f0d1[_0x54ebbc(0x890)],_0x54ebbc(0x67c));}try{return await this[_0x54ebbc(0x42c)]['list'](_0x43c4da);}catch(_0x23011d){let _0x182537=_0x54ebbc(0x67c);throw _0x23011d instanceof Error&&(_0x182537=_0x23011d[_0x54ebbc(0x61f)]),new _0x1c9a4(_0x58f0d1[_0x54ebbc(0x890)],_0x182537);}}async[_0x178721(0x8c5)](_0x11908b){const _0x34ee23=_0x178721,_0x78ed68={'key':'','tableName':this[_0x34ee23(0x898)],'action':_0x471767['Count']};this[_0x34ee23(0x230)]['publish'](_0x78ed68);try{_0x11908b&&(_0x11908b=_0x11908b instanceof _0x2a0c5f?_0x11908b[_0x34ee23(0x1dd)]():_0x2a0c5f['buildQuery'](_0x11908b)['getQuery']());}catch(_0x3490c0){throw new _0x1c9a4(_0x58f0d1[_0x34ee23(0x890)],'Invalid\x20query');}try{return await this[_0x34ee23(0x42c)]['count'](_0x11908b);}catch(_0x1110ce){let _0x1d7594=_0x34ee23(0x67c);throw _0x1110ce instanceof Error&&(_0x1d7594=_0x1110ce[_0x34ee23(0x61f)]),new _0x1c9a4(_0x58f0d1[_0x34ee23(0x890)],_0x1d7594);}}['calculateSize'](){const _0x2f6915=_0x178721;return this[_0x2f6915(0x42c)]['calculateSize']();}[_0x178721(0x1c5)](_0x3b76ed){const _0x2b439c=_0x178721;this[_0x2b439c(0x62e)]=this[_0x2b439c(0x6d3)][_0x2b439c(0x1c5)](_0x3b76ed);}[_0x178721(0x90e)](){this['listenerUnsubscriber']?.();}[_0x178721(0xa83)](_0x34708d,_0x5c7a36){const _0x328555=_0x178721,_0x1222f8=this['buildTableEvent'](_0x34708d,_0x5c7a36);this['eventListener'][_0x328555(0xa83)](_0x1222f8);}[_0x178721(0x623)](_0x1bb94a,_0x4eae50){const _0x313878=_0x178721;let _0x4c31c6;switch(_0x1bb94a){case _0x13d2f3[_0x313878(0x5b1)]:_0x4c31c6='add';break;case _0x13d2f3['Update']:_0x4c31c6=_0x313878(0x768);break;case _0x13d2f3[_0x313878(0x682)]:_0x4c31c6=_0x313878(0xa66);}return{'action':_0x4c31c6,'value':_0x4eae50};}['validateValue'](_0x23a4f4){const _0x4e3579=_0x178721;if(_0x4e3579(0x237)!=typeof _0x23a4f4||null===_0x23a4f4)throw new _0x1c9a4(_0x58f0d1[_0x4e3579(0x4cb)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x1d4e7b in _0x23a4f4){const _0x4af55b=_0x23a4f4[_0x1d4e7b];if(_0x4e3579(0x237)!=typeof _0x4af55b||_0x4af55b instanceof Date){if(![_0x4e3579(0x6a8),'number',_0x4e3579(0x38f)][_0x4e3579(0x31d)](typeof _0x4af55b))throw new _0x1c9a4(_0x58f0d1[_0x4e3579(0x4cb)],'Invalid\x20value.\x20Property\x20\x27'+_0x1d4e7b+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this['validateValue'](_0x4af55b);}}}class _0x32bd35{['peaks']=[];[_0x178721(0x8d3)]=0x0;['transactionQueue']=[];[_0x178721(0x2bd)]=!0x1;['cachedRoot']=null;[_0x178721(0x7ae)]=null;[_0x178721(0x21b)];[_0x178721(0x4db)]=null;[_0x178721(0x5f5)]=[];[_0x178721(0x5dc)];[_0x178721(0x2f9)]=Promise['resolve']();[_0x178721(0x6e0)]=0x0;constructor(){}get['ready'](){return this['_ready'];}async[_0x178721(0x1a4)](_0xfdd760,_0x2e7d31=0x0){const _0x145b0d=_0x178721;this[_0x145b0d(0x4db)]||(this['_ready']=new Promise(_0x321d7d=>{const _0xf32f83=_0x145b0d;this[_0xf32f83(0x4db)]=_0x321d7d;}),this[_0x145b0d(0x6e0)]=_0x2e7d31);const _0x497eaf=Date[_0x145b0d(0x2e5)]();if(this[_0x145b0d(0x2bd)])return void this[_0x145b0d(0x47c)]['push'](_0xfdd760);this[_0x145b0d(0x2bd)]=!0x0;let _0x5bfb6d={'hash':await this[_0x145b0d(0x569)](_0xfdd760),'height':0x0};const _0x455f11=this[_0x145b0d(0x5ee)](_0x5bfb6d);this[_0x145b0d(0x5f5)]['push'](_0x455f11),await _0x455f11,this['totalNodes']+=0x1;const _0x2965af=this[_0x145b0d(0x47c)][_0x145b0d(0x3f4)];for(;this[_0x145b0d(0x47c)][_0x145b0d(0x3f4)]>0x0;){const _0x50f0a0=this['transactionQueue'][_0x145b0d(0x9cd)]();await this[_0x145b0d(0x1a4)](_0x50f0a0);}this['debounceReady'](),await this[_0x145b0d(0x931)],this[_0x145b0d(0x2fc)](_0x497eaf,_0x2965af);}async['getRoot'](){const _0x4e5013=_0x178721;return await this[_0x4e5013(0x2f9)],this[_0x4e5013(0x2bd)]?(this[_0x4e5013(0x7ae)]||(this[_0x4e5013(0x7ae)]=this[_0x4e5013(0x3b8)]()),await this['rootComputationPromise']):this['cachedRoot'];}[_0x178721(0x233)](){const _0x9cbbc1=_0x178721;return this[_0x9cbbc1(0x960)][_0x9cbbc1(0x7df)](({hash:_0x231e6f,height:_0x357ddb})=>({'hash':_0x231e6f,'height':_0x357ddb}));}[_0x178721(0x81e)](){const _0x1fce72=_0x178721;return this[_0x1fce72(0x8d3)];}[_0x178721(0x18d)](_0x33f26d){const _0x394ee7=_0x178721;return this['peaks'][_0x394ee7(0x940)](_0x12a09e=>_0x12a09e[_0x394ee7(0x8a8)]===_0x33f26d);}async[_0x178721(0x7f0)](_0x2b817e,_0x54580c){const _0x495cd7=_0x178721;return await this[_0x495cd7(0x401)](_0x2b817e+_0x54580c);}async[_0x178721(0x569)](_0x259309){const _0x430444=_0x178721;return await this[_0x430444(0x401)](JSON[_0x430444(0x37e)](_0x259309));}[_0x178721(0x271)](_0x45d23c){const _0xbd66d8=_0x178721,_0x363769=this['getPeaks'](),_0x54f632=[],_0x4598ad=[],_0x260c51=[];for(const _0x1e8a42 of _0x363769){const _0x3f0161=_0x45d23c[_0xbd66d8(0x940)](_0x5d73be=>_0x5d73be[_0xbd66d8(0x8a8)]===_0x1e8a42[_0xbd66d8(0x8a8)]);_0x3f0161?_0x1e8a42[_0xbd66d8(0x908)]!==_0x3f0161[_0xbd66d8(0x908)]&&_0x54f632[_0xbd66d8(0x77b)]({'height':_0x1e8a42['height'],'localPeak':_0x1e8a42,'remotePeak':_0x3f0161}):_0x4598ad['push'](_0x1e8a42);}for(const _0x896830 of _0x45d23c)_0x363769['find'](_0xe43b00=>_0xe43b00[_0xbd66d8(0x8a8)]===_0x896830[_0xbd66d8(0x8a8)])||_0x260c51[_0xbd66d8(0x77b)](_0x896830);return{'differingPeaks':_0x54f632,'peaksMissingInRemote':_0x4598ad,'peaksMissingInLocal':_0x260c51};}async['recomputeRoot'](){const _0x268e19=_0x178721;this[_0x268e19(0x2bd)]=!0x0;const _0x38ff2d=this[_0x268e19(0x960)]['map'](_0x3d7440=>_0x3d7440[_0x268e19(0x908)]);return this[_0x268e19(0xaa1)]=await this[_0x268e19(0x76b)](_0x38ff2d),this[_0x268e19(0x2bd)]=!0x1,this[_0x268e19(0x7ae)]=null,this[_0x268e19(0x3b2)](),this[_0x268e19(0xaa1)];}async[_0x178721(0x401)](_0x2ee530){const _0x2b6099=_0x178721;try{const _0x820dfa=new TextEncoder()[_0x2b6099(0x98b)](_0x2ee530),_0x42cacd=await crypto[_0x2b6099(0x8de)]['digest'](_0x2b6099(0x321),_0x820dfa);return Array['from'](new Uint8Array(_0x42cacd))[_0x2b6099(0x7df)](_0x2ea75d=>_0x2ea75d[_0x2b6099(0x729)](0x10)['padStart'](0x2,'0'))[_0x2b6099(0x4c6)]('');}catch(_0x24eb20){return console[_0x2b6099(0x5c0)](_0x2b6099(0x44f),_0x24eb20),this['computeHash'](_0x2ee530);}}async[_0x178721(0x76b)](_0x938356){return await this['computeHash'](_0x938356['join'](''));}async['combinePeaks'](_0x584901){const _0x3418d8=_0x178721;for(;this[_0x3418d8(0x960)]['length']>0x0&&this[_0x3418d8(0x960)][this[_0x3418d8(0x960)][_0x3418d8(0x3f4)]-0x1][_0x3418d8(0x8a8)]===_0x584901[_0x3418d8(0x8a8)];){const _0x166b6c=this[_0x3418d8(0x960)][_0x3418d8(0xa5e)]();_0x584901={'hash':await this[_0x3418d8(0x7f0)](_0x166b6c[_0x3418d8(0x908)],_0x584901[_0x3418d8(0x908)]),'left':_0x166b6c,'right':_0x584901,'height':_0x584901[_0x3418d8(0x8a8)]+0x1};}this[_0x3418d8(0x960)][_0x3418d8(0x77b)](_0x584901),await this[_0x3418d8(0x3b8)]();}[_0x178721(0x2fc)](_0x50d93e,_0x1391a0){const _0x62f3a5=_0x178721;if(!_0x4826cd[_0x62f3a5(0x881)](_0x312d1f[_0x62f3a5(0x6b6)]))return;this[_0x62f3a5(0x21b)]&&clearTimeout(this[_0x62f3a5(0x21b)]);const _0x250230=Date[_0x62f3a5(0x2e5)]();this[_0x62f3a5(0x21b)]=setTimeout(()=>_0x4826cd['log'](_0x312d1f[_0x62f3a5(0x6b6)],_0x62f3a5(0x837),this[_0x62f3a5(0xaa1)],_0x62f3a5(0x498),this[_0x62f3a5(0x81e)](),_0x62f3a5(0x60e),_0x1391a0,_0x62f3a5(0x2fd),_0x250230-_0x50d93e),0x7d0);}['debounceReady'](){const _0x5a1b17=_0x178721;this[_0x5a1b17(0x5dc)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x5a1b17(0x5dc)]=setTimeout(async()=>{const _0x5b3599=_0x5a1b17;try{const _0x1d5bbb=this[_0x5b3599(0x5f5)];if(this[_0x5b3599(0x5f5)]=[],await Promise['all'](_0x1d5bbb),this['expectedTransactions']-=_0x1d5bbb['length'],this[_0x5b3599(0x5f5)][_0x5b3599(0x3f4)]>0x0||this[_0x5b3599(0x6e0)]>0x0)return this[_0x5b3599(0x3b2)]();this[_0x5b3599(0x4db)]&&(this['readyResolve'](),this[_0x5b3599(0x4db)]=null),this[_0x5b3599(0x2f9)]=Promise['resolve'](),this[_0x5b3599(0x2bd)]=!0x1;}catch(_0x1d3c1e){console[_0x5b3599(0x5c0)](_0x5b3599(0xa3f),_0x1d3c1e);}},0xa);}}const _0xd785fc=[_0x178721(0x34e),_0x178721(0x9dd),_0x178721(0xa48),_0x178721(0x378),_0x178721(0x397),'Detection',_0x178721(0x39d)],_0x27a0a3=[['Offer',_0x178721(0x710),_0x178721(0x573),_0x178721(0x89c),'NeedRestart',_0x178721(0x509),_0x178721(0x2ac),_0x178721(0x397),_0x178721(0x746)],[_0x178721(0xa77),'NodeUpdate','NodeConnectionsUpdate','NodeLeave'],['CloseGraphDatabase',_0x178721(0x76e),'CloseJobWorker',_0x178721(0x7e0),_0x178721(0x19f),_0x178721(0x344),'CloseObjectStoreBucket','ClosePubSubTopic','CloseVectorDatabase',_0x178721(0x1a2),_0x178721(0x799),'GenerativeAIWorkerStats',_0x178721(0x66e),'KeyValueDatabaseContentAvailable',_0x178721(0x381),'KeyValueDatabaseRequestPeakTransactions',_0x178721(0x86d),_0x178721(0x50a),_0x178721(0xa65),_0x178721(0x370),_0x178721(0xa9a),_0x178721(0x5de),'PubSubTopicStats',_0x178721(0x16f),'RemoteMediaStreamTrackFail','SubscribeMediaStream','UnpublishMediaStream',_0x178721(0x23b),_0x178721(0x75d),_0x178721(0x25c)],['SubscribeMediaStream',_0x178721(0x75d),_0x178721(0x984),_0x178721(0x264),'CannotProvideMediaStream',_0x178721(0x861)],[_0x178721(0x462),_0x178721(0x221)],['Problem'],[_0x178721(0x39d),_0x178721(0x36f)]];function _0x156e98(_0x239a8f){const _0x5f1bae=_0x178721;return{..._0x239a8f,'systemMessageType':_0xd785fc[_0x239a8f[_0x5f1bae(0x751)]],'systemContentMessageType':_0x27a0a3[_0x239a8f['messageType']][_0x239a8f[_0x5f1bae(0x855)][_0x5f1bae(0x43f)]]};}const _0x222083={'hour':_0x178721(0x65d),'minute':_0x178721(0x65d),'second':_0x178721(0x65d)};function _0x240304(_0x1a5fa7,_0x5e2ecb){const _0x7bf850=_0x178721,_0x27b212=(function(){const _0x5b6c1c=a0_0x5e71,_0x42095c=new Date(),_0x481557=_0x42095c[_0x5b6c1c(0x9a8)](),_0x1535c7=_0x42095c['toLocaleDateString'](_0x5b6c1c(0x225),_0x222083)[_0x5b6c1c(0x55c)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x1535c7+'.'+(_0x481557>0x64?''+_0x481557:_0x481557>0xa?'0'+_0x481557:'00'+_0x481557);}()),{sourceId:_0x312344,destinationIds:_0x41df9e,systemMessageType:_0x171e59,systemContentMessageType:_0x50eb38}=_0x156e98(_0x1a5fa7);return _0x27b212+'\x20-\x20'+_0x5e2ecb+'\x20-\x20'+(_0x312344===_0x5e2ecb?_0x7bf850(0x65c)+_0x171e59+'\x27\x20to\x20'+(_0x41df9e?''+_0x41df9e:_0x7bf850(0x626)):_0x1a5fa7[_0x7bf850(0x8d8)]===_0x5503f9?_0x7bf850(0x572)+_0x171e59+'\x27':(_0x41df9e?'':_0x7bf850(0x455))+_0x7bf850(0x2c6)+_0x171e59+'\x27\x20from\x20'+_0x312344)+_0x7bf850(0x2e6)+_0x50eb38+_0x7bf850(0x206);}function _0x1bdffd(_0xdd50e6,_0x2e211a){const _0x4a5cfb=_0x178721;if(!_0x4826cd[_0x4a5cfb(0x881)](_0xdd50e6))return;if(_0x551917[_0x4a5cfb(0x30e)])return;if(_0x4a5cfb(0x2ed)==typeof process)return;const _0x1c4ad6=process['memoryUsage']();console[_0x4a5cfb(0x51c)](_0x4a5cfb(0x406)+_0x2e211a+':');for(const _0x27d104 in _0x1c4ad6)console[_0x4a5cfb(0x51c)]('\x20\x20'+_0x27d104+':\x20'+(_0x1c4ad6[_0x27d104]/0x400/0x400)['toFixed'](0x2)+_0x4a5cfb(0x676));}function _0x3f8eaa(_0x5f31ba,_0x30284d){const _0x5a0423=_0x178721;if(!_0x4826cd[_0x5a0423(0x881)](_0x30284d))return _0x4826cd[_0x5a0423(0x1e1)](_0x5a0423(0x4ad)+_0x30284d),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x2b849a,_0x1d0382)=>_0x1d0382}};let _0x30a5ab=0x0;return{'timingLogger':((()=>{const _0x2e9b62=_0x5a0423;let _0x154d88=Date[_0x2e9b62(0x2e5)]();return{'start':()=>{const _0x4f22ce=_0x2e9b62;_0x154d88=Date[_0x4f22ce(0x2e5)]();},'now':()=>Date[_0x2e9b62(0x2e5)](),'logWaitTime':_0x9e0b7e=>{const _0x26e3bf=_0x2e9b62;_0x30a5ab+=Date[_0x26e3bf(0x2e5)]()-_0x154d88,_0x4826cd[_0x26e3bf(0x51c)](_0x30284d,_0x9e0b7e,_0x30a5ab+'ms',_0x5f31ba);}};})()),'logger':{'log':(_0x230130,_0x246b3f=()=>{})=>{const _0xe05a77=_0x5a0423,_0x317b0c=_0x246b3f();_0x317b0c?_0x4826cd[_0xe05a77(0x51c)](_0x30284d,_0x230130,_0x317b0c,_0x5f31ba):_0x4826cd[_0xe05a77(0x51c)](_0x30284d,_0x230130,_0x5f31ba);},'performCalculation':(_0x13d983,_0xb5699f)=>_0x13d983()}};}function _0x44a2df(_0x580f87){const _0x384ed1=_0x178721;return _0x384ed1(0x2ed)==typeof Buffer?0x0:Buffer[_0x384ed1(0x7f8)](JSON[_0x384ed1(0x37e)](_0x580f87),_0x384ed1(0x97d));}function _0x3c9c22(_0x185d3c){const _0x9da115=_0x178721;if(0x0===_0x185d3c)return _0x9da115(0x1e7);const _0x5e7975=Math['floor'](Math[_0x9da115(0x51c)](_0x185d3c)/Math[_0x9da115(0x51c)](0x400));return parseFloat((_0x185d3c/Math['pow'](0x400,_0x5e7975))[_0x9da115(0x928)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x5e7975];}class _0x13a537 extends _0x253fab{['localNode'];[_0x178721(0x494)];['vendorId'];[_0x178721(0x59f)];['db'];[_0x178721(0x270)];[_0x178721(0x477)]=new Map();[_0x178721(0x230)];[_0x178721(0x323)];[_0x178721(0x499)];[_0x178721(0xa9b)];[_0x178721(0x1d9)];[_0x178721(0x32f)]=[];[_0x178721(0x2a2)]=()=>{};[_0x178721(0x85b)];[_0x178721(0x6d3)]=_0x5467bb();[_0x178721(0x62e)];[_0x178721(0x26f)]=[];[_0x178721(0x313)];[_0x178721(0x605)];[_0x178721(0x8ef)]=0x0;[_0x178721(0x95a)]=0x0;['contentRequestSent']=!0x1;['mmr']=new _0x32bd35();[_0x178721(0x523)]=new Map();[_0x178721(0x79f)]=[];[_0x178721(0x451)];['transactionsToAppend']=[];['loggingCycle'];constructor(_0x571054,_0x13a101,_0x550c6a,_0x44ba3e,_0x4e67d,_0x24f984,_0x1b452c){const _0x379980=_0x178721;if(_0x379980(0x6a8)!=typeof _0x13a101)throw new _0x1c9a4(_0x58f0d1['KeyValueDatabaseNameNotString'],_0x379980(0x8a7));if(super(_0x571054,_0x13a101),this['localNode']=_0x571054,this['clusterId']=_0x550c6a,this[_0x379980(0x92c)]=_0x44ba3e,this['isNodeReady']=_0x1b452c,this[_0x379980(0x270)]='ccc'+this[_0x379980(0x92c)]+_0x379980(0x742)+this[_0x379980(0x494)]+_0x379980(0x742)+this[_0x379980(0x8f4)],this[_0x379980(0x230)]=_0x5467bb(),this[_0x379980(0x575)]=function(_0x3946c4,_0x4148c5){const _0x26288e=_0x379980;if(!_0x4826cd[_0x26288e(0x881)](_0x4148c5))return _0x4826cd[_0x26288e(0x1e1)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x4148c5),{..._0x3f8eaa(_0x3946c4,_0x4148c5),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x26288e(0x1e7),'dataReceived':_0x26288e(0x1e7)})};const {timingLogger:_0x136331,logger:_0x506532}=_0x3f8eaa(_0x3946c4,_0x4148c5);let _0x350aaa=0x0,_0x131aab=0x0;return{'timingLogger':_0x136331,'logger':_0x506532,'logDataSent':(_0x45a805,_0x20a4fb=!0x1)=>{const _0x326d30=_0x26288e,_0xe87893=_0x44a2df(_0x45a805);return _0x20a4fb&&_0x4826cd['log'](_0x4148c5,_0x326d30(0x826),_0x3946c4,_0xe87893),_0x350aaa+=_0xe87893,_0xe87893;},'logDataReceived':(_0x1fba25,_0x6b513f=!0x1)=>{const _0x40c5b5=_0x26288e,_0x1d37b1=_0x44a2df(_0x1fba25);return _0x6b513f&&_0x4826cd[_0x40c5b5(0x51c)](_0x4148c5,'Data\x20Received',_0x3946c4,_0x1d37b1),_0x131aab+=_0x1d37b1,_0x1d37b1;},'getDataLogged':()=>({'dataSent':_0x3c9c22(_0x350aaa),'dataReceived':_0x3c9c22(_0x131aab)})};}(this[_0x379980(0x8f4)],_0x312d1f[_0x379980(0x6b6)]),this['isSync']=new Promise(_0x4f7a41=>{const _0x15b418=_0x379980;this[_0x15b418(0x1d9)]=_0x4f7a41;}),_0x4e67d instanceof _0x3bd611)this[_0x379980(0x313)]=_0x4e67d[_0x379980(0x79b)]();else{const [_0x1b4f52,_0x5c918b]=_0x3bd611[_0x379980(0xa82)](_0x4e67d);if(!_0x1b4f52)throw new _0x1c9a4(_0x58f0d1['KeyValueDatabaseInvalidLayout'],'Invalid\x20layout:\x20'+_0x5c918b);this[_0x379980(0x313)]=structuredClone(_0x4e67d);}this['addReservedTables'](this[_0x379980(0x313)]),this['db']=new _0x24f984(this[_0x379980(0x270)],this[_0x379980(0x313)]),this[_0x379980(0x88e)]();}async[_0x178721(0x794)](_0x127562,_0x57dcb3){const _0x4a74c0=_0x178721;if(_0x4826cd['log'](_0x312d1f[_0x4a74c0(0x6b6)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x4a74c0(0x8f4)]),!this[_0x4a74c0(0x323)])throw new _0x5953b5(_0x5953b5[_0x4a74c0(0x913)][_0x4a74c0(0x24b)]);if(await this[_0x4a74c0(0xa9b)],await this[_0x4a74c0(0x59f)](_0x127562),await this[_0x4a74c0(0x33b)][_0x4a74c0(0x393)]()===_0x57dcb3){const _0x2081c2={'sourceId':this[_0x4a74c0(0x31a)]['getId'](),'destinationIds':[_0x127562],'propagate':!0x0,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d['KeyValueDatabaseContentSynchronized'],'label':this[_0x4a74c0(0x8f4)],'mmrRoot':_0x57dcb3}};return this['loggingCycle'][_0x4a74c0(0x99d)](_0x2081c2),void this[_0x4a74c0(0x87d)][_0x4a74c0(0xa83)](_0x2081c2);}const _0x274b6e=this[_0x4a74c0(0x33b)][_0x4a74c0(0x233)](),_0x19c12c={'sourceId':this[_0x4a74c0(0x31a)]['getId'](),'destinationIds':[_0x127562],'propagate':!0x0,'messageType':_0x51ac98[_0x4a74c0(0xa48)],'content':{'type':_0x4ef04d[_0x4a74c0(0x36a)],'label':this[_0x4a74c0(0x8f4)],'peaks':_0x274b6e}};this[_0x4a74c0(0x575)]['logDataSent'](_0x19c12c),this['systemTopic'][_0x4a74c0(0xa83)](_0x19c12c);}async[_0x178721(0x2fa)](_0x30dfea,_0x494319){const _0x91c058=_0x178721,_0x73068d=await this[_0x91c058(0x33b)][_0x91c058(0x393)](),_0x282858=_0x73068d===_0x494319;if(_0x4826cd[_0x91c058(0x51c)](_0x312d1f[_0x91c058(0x6b6)],_0x91c058(0x30d)+_0x30dfea+_0x91c058(0x76a)+_0x282858,this[_0x91c058(0x8f4)]),_0x282858)return this['clearSyncTimeout'](),void this[_0x91c058(0x31e)]();_0x4826cd['log'](_0x312d1f['KeyValueDatabase'],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x73068d,_0x494319),_0x4826cd[_0x91c058(0xa84)](_0x91c058(0x3d2),{'nodeId':this[_0x91c058(0x31a)][_0x91c058(0x78a)](),'nodeType':this['localNode'][_0x91c058(0x43f)],'remoteId':_0x30dfea,'data':{'localMMRRoot':_0x73068d,'remoteMMRRoot':_0x494319}});const _0x12f198={'sourceId':this['localNode'][_0x91c058(0x78a)](),'messageType':_0x51ac98[_0x91c058(0xa48)],'propagate':!0x0,'content':{'type':_0x4ef04d['KeyValueDatabaseSyncRequired'],'label':this['label'],'mmrRoot':_0x73068d}};this[_0x91c058(0x87d)][_0x91c058(0xa83)](_0x12f198);}async[_0x178721(0x355)](_0x164379,_0x55bc56){const _0x429dd4=_0x178721;if(_0x4826cd['log'](_0x312d1f[_0x429dd4(0x6b6)],_0x429dd4(0x3f6),_0x164379,_0x429dd4(0x8f4),this[_0x429dd4(0x8f4)],_0x429dd4(0x960),_0x55bc56),this[_0x429dd4(0x467)])return;this[_0x429dd4(0x467)]=!0x0,this[_0x429dd4(0x4ff)]();const {differingPeaks:_0x50f97c,peaksMissingInLocal:_0x52acc8,peaksMissingInRemote:_0x29f73c}=this[_0x429dd4(0x33b)][_0x429dd4(0x271)](_0x55bc56);_0x4826cd[_0x429dd4(0x51c)](_0x312d1f[_0x429dd4(0x6b6)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0x50f97c,'peaksMissingInLocal':_0x52acc8,'peaksMissingInRemote':_0x29f73c});const _0x2a20aa={'sourceId':this['localNode'][_0x429dd4(0x78a)](),'destinationIds':[_0x164379],'propagate':!0x0,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d[_0x429dd4(0x625)],'label':this['label'],'peakHeights':_0x52acc8[_0x429dd4(0x7df)](_0x56d74e=>_0x56d74e[_0x429dd4(0x8a8)])['concat'](_0x50f97c[_0x429dd4(0x7df)](_0x56dcc3=>_0x56dcc3[_0x429dd4(0x8a8)]))}};if(this['systemTopic'][_0x429dd4(0xa83)](_0x2a20aa),_0x50f97c[_0x429dd4(0x3f4)]>0x0||_0x29f73c[_0x429dd4(0x3f4)]>0x0){const _0x869287=_0x29f73c['map'](_0x31b6b7=>_0x31b6b7[_0x429dd4(0x8a8)])[_0x429dd4(0x4b1)](_0x50f97c[_0x429dd4(0x7df)](_0x520c6d=>_0x520c6d['height']));await this[_0x429dd4(0x24d)](_0x164379,_0x869287,!0x0);}}async[_0x178721(0x24d)](_0x284a16,_0x13c0b9,_0x2159e2=!0x1){const _0x1a7c11=_0x178721;_0x4826cd[_0x1a7c11(0x51c)](_0x312d1f[_0x1a7c11(0x6b6)],_0x1a7c11(0x27d),this[_0x1a7c11(0x8f4)]);const _0x3689de=_0x13c0b9[_0x1a7c11(0x7df)](_0x430d1b=>this[_0x1a7c11(0x33b)][_0x1a7c11(0x18d)](_0x430d1b))[_0x1a7c11(0x434)](Boolean);if(!_0x3689de[_0x1a7c11(0x3f4)]||_0x13c0b9[_0x1a7c11(0x3f4)]!==_0x3689de['length'])throw new _0x5953b5(_0x5953b5[_0x1a7c11(0x913)]['KeyValueDatabasePeakNotFound'],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x13c0b9,'peaks':_0x3689de['map'](_0x4676a2=>_0x4676a2[_0x1a7c11(0x8a8)]),'nodeId':_0x284a16});const _0x2ab43a=[];for(const _0x28e281 of _0x3689de)this[_0x1a7c11(0x5f9)](_0x28e281,_0x2ab43a);const _0x588790=_0x2159e2?void 0x0:[_0x284a16],_0x89487e={'sourceId':this[_0x1a7c11(0x31a)]['getId'](),'destinationIds':_0x588790,'messageType':_0x51ac98[_0x1a7c11(0xa48)],'propagate':!0x0,'content':{'type':_0x4ef04d[_0x1a7c11(0x50a)],'label':this[_0x1a7c11(0x8f4)],'transactions':_0x2ab43a}};this[_0x1a7c11(0x575)][_0x1a7c11(0x99d)](_0x89487e),this[_0x1a7c11(0x87d)][_0x1a7c11(0xa83)](_0x89487e);}async[_0x178721(0x173)](_0xf83aea,_0x5f5220){const _0x34d443=_0x178721;_0x4826cd[_0x34d443(0x51c)](_0x312d1f['KeyValueDatabase'],_0x34d443(0x8ac)+_0x5f5220[_0x34d443(0x3f4)]+'\x20transactions\x20from\x20node\x20'+_0xf83aea+_0x34d443(0x417)+this['label']);for(const _0x5a0c87 of _0x5f5220){const _0x2c36cb=await this['transactionTable'][_0x34d443(0x603)](_0x5a0c87['id']);if(!(_0x2c36cb&&this[_0x34d443(0x524)](_0x2c36cb,_0x5a0c87)>=0x0)){if(_0x5a0c87[_0x34d443(0x1b2)]===_0x13d2f3[_0x34d443(0x682)]){const [_0x3a5eab,_0x1b4194]=_0x5a0c87['id']['split']('::'),_0x385048=this['getTable'](_0x3a5eab);await _0x385048['delete'](_0x1b4194);}else this[_0x34d443(0x32f)][_0x34d443(0x77b)](_0x5a0c87['id']);}}if(_0x4826cd[_0x34d443(0x51c)](_0x312d1f[_0x34d443(0x6b6)],'Found\x20'+this['transactionsToSync'][_0x34d443(0x3f4)]+_0x34d443(0x4a2),this[_0x34d443(0x8f4)]),this[_0x34d443(0x32f)][_0x34d443(0x3f4)]>0x0){const _0x557b58={'sourceId':this[_0x34d443(0x31a)][_0x34d443(0x78a)](),'destinationIds':[_0xf83aea],'messageType':_0x51ac98[_0x34d443(0xa48)],'propagate':!0x0,'content':{'type':_0x4ef04d[_0x34d443(0x86d)],'label':this[_0x34d443(0x8f4)],'transactionIds':this['transactionsToSync']}};this[_0x34d443(0x575)]['logDataSent'](_0x557b58),this['systemTopic'][_0x34d443(0xa83)](_0x557b58);}}[_0x178721(0x6ea)](){const _0x3f76e7=_0x178721;this[_0x3f76e7(0x88e)]();}[_0x178721(0x79e)](){const _0x50332f=_0x178721;return _0x12ff66['ContentType'][_0x50332f(0x6b6)];}[_0x178721(0x4c1)](){const _0x45d2f9=_0x178721;this['db'][_0x45d2f9(0x3d8)](),this[_0x45d2f9(0x499)]?.(),clearTimeout(this[_0x45d2f9(0x605)]),delete this[_0x45d2f9(0x605)],super[_0x45d2f9(0x4c1)]();}['close'](){const _0x52eeca=_0x178721;this[_0x52eeca(0x4ff)](),this['systemTopic'][_0x52eeca(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x52eeca(0xa48)],'content':{'type':_0x4ef04d[_0x52eeca(0x19f)],'label':this[_0x52eeca(0x8f4)]}});}['getTable'](_0x3e8378){const _0x25378d=_0x178721,_0x347663=this['tables']['get'](_0x3e8378);if(_0x347663)return _0x347663;try{if(!this['db'][_0x25378d(0x49a)](_0x3e8378))throw new _0x1c9a4(_0x58f0d1['KeyValueDatabaseTableNotFound'],_0x25378d(0x516));const _0x36e9d3=new _0x1ab480(this['db'][_0x25378d(0x2a7)](_0x3e8378),_0x3e8378,this[_0x25378d(0x230)]);return this[_0x25378d(0x477)][_0x25378d(0x5f0)](_0x3e8378,_0x36e9d3),{'get':_0x36e9d3['get'][_0x25378d(0x428)](_0x36e9d3),'set':_0x36e9d3[_0x25378d(0x5f0)][_0x25378d(0x428)](_0x36e9d3),'add':_0x36e9d3[_0x25378d(0x9b5)][_0x25378d(0x428)](_0x36e9d3),'delete':_0x36e9d3['delete'][_0x25378d(0x428)](_0x36e9d3),'clear':_0x36e9d3[_0x25378d(0x6f1)][_0x25378d(0x428)](_0x36e9d3),'list':_0x36e9d3[_0x25378d(0x79a)]['bind'](_0x36e9d3),'count':_0x36e9d3['count'][_0x25378d(0x428)](_0x36e9d3),'subscribe':_0x36e9d3[_0x25378d(0x1c5)]['bind'](_0x36e9d3),'unsubscribe':_0x36e9d3[_0x25378d(0x90e)][_0x25378d(0x428)](_0x36e9d3)};}catch(_0x563dac){if(_0x563dac instanceof _0x1c9a4)throw _0x563dac;throw new _0x1c9a4(_0x58f0d1[_0x25378d(0x705)],_0x25378d(0x9d1));}}[_0x178721(0x1c5)](_0x217cad){const _0x3aee1c=_0x178721;this[_0x3aee1c(0x62e)]=this['eventListener'][_0x3aee1c(0x1c5)](_0x217cad),this[_0x3aee1c(0x5db)](this[_0x3aee1c(0xa9b)])[_0x3aee1c(0x752)](_0x149069=>{const _0x5b2143=_0x3aee1c;_0x149069&&this[_0x5b2143(0x6d3)][_0x5b2143(0xa83)]({'event':_0x12ff66[_0x5b2143(0x443)][_0x5b2143(0x83a)]});});}['unsubscribe'](){const _0x431b30=_0x178721;this[_0x431b30(0x62e)]?.(),this[_0x431b30(0x62e)]=void 0x0;}async[_0x178721(0x44a)](){const _0x2db8b1=_0x178721;_0x1bdffd(_0x312d1f[_0x2db8b1(0x6b6)],_0x2db8b1(0x8d2));const _0x250b73=[_0xc153e7,_0x103ffb],_0x4d223e=[];try{await this['db'][_0x2db8b1(0x44a)]();const _0x26dc1b=this['db'][_0x2db8b1(0x2a7)](_0x103ffb),_0x3daaf5=await _0x26dc1b[_0x2db8b1(0x79a)](),{id:_0x16642e,layout:_0xa96f65}=_0x3daaf5[0x0]??{};if(_0xa96f65){for(const _0x4ea3cb in _0xa96f65)_0x250b73[_0x2db8b1(0x31d)](_0x4ea3cb)||this['db'][_0x2db8b1(0x49a)](_0x4ea3cb)||_0x4d223e[_0x2db8b1(0x77b)](_0x4ea3cb);await _0x26dc1b[_0x2db8b1(0x5f0)](_0x16642e,{'layout':this[_0x2db8b1(0x313)]});}else await _0x26dc1b[_0x2db8b1(0x9b5)]({'layout':this[_0x2db8b1(0x313)]});}catch(_0x46fc1d){throw new _0x1c9a4(_0x58f0d1['KeyValueDatabaseNotOpen'],_0x46fc1d[_0x2db8b1(0x61f)]||_0x2db8b1(0x6b5));}this[_0x2db8b1(0x1e4)](),await this[_0x2db8b1(0x6c1)](),this[_0x2db8b1(0x966)](),this[_0x2db8b1(0x9ca)](),_0x4d223e[_0x2db8b1(0x2cb)](_0x4f2b79=>this['deleteTransactionsForTable'](_0x4f2b79));}async[_0x178721(0x58b)](_0x3f7595,_0x1f1697=()=>{},_0x4dd0fb=!0x1){const _0x3c1164=_0x178721;if(!_0x3f7595)return setTimeout(()=>{const _0x9bee52=a0_0x5e71;this['clearSyncTimeout'](),this[_0x9bee52(0x31e)]();},0x0),!0x0;if(this[_0x3c1164(0x467)]=!0x1,this['timeoutCallback']=_0x1f1697,this[_0x3c1164(0x85b)]=setTimeout(_0x1f1697,0x7d0),!this[_0x3c1164(0x87d)])throw new _0x5953b5(_0x5953b5[_0x3c1164(0x913)][_0x3c1164(0x2ba)]);const _0x4321dc=await this['mmr'][_0x3c1164(0x393)](),_0x4b11f4={'sourceId':this[_0x3c1164(0x31a)][_0x3c1164(0x78a)](),'messageType':_0x51ac98['Content'],'propagate':_0x4dd0fb,'content':{'type':_0x4ef04d[_0x3c1164(0x370)],'label':this[_0x3c1164(0x8f4)],'mmrRoot':_0x4321dc}};return this['loggingCycle'][_0x3c1164(0x99d)](_0x4b11f4),this[_0x3c1164(0x87d)][_0x3c1164(0xa83)](_0x4b11f4),this['isSync'];}async[_0x178721(0xa44)](_0x1059d1,_0xc01c5c){const _0x431278=_0x178721;if(_0x4826cd[_0x431278(0x51c)](_0x312d1f[_0x431278(0x6b6)],_0x431278(0x699)+_0xc01c5c['length'],this[_0x431278(0x8f4)]),!this[_0x431278(0x323)])throw new _0x5953b5(_0x5953b5[_0x431278(0x913)][_0x431278(0x24b)]);for(const _0x22d149 of _0xc01c5c){const _0xa91595=await this['transactionTable'][_0x431278(0x603)](_0x22d149);if(!_0xa91595)continue;const [_0x285ee6,_0x3864a6]=_0x22d149[_0x431278(0x6af)]('::'),_0x3e9353=this[_0x431278(0x1d8)](_0x285ee6),_0x47a8d4=await _0x3e9353['get'](_0x3864a6);_0x47a8d4?(_0xa91595['value']=_0x47a8d4,this[_0x431278(0x9fa)](_0xa91595,[_0x1059d1])):_0x4826cd['warning'](_0x431278(0x73a),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x431278(0x31a)][_0x431278(0x43f)],'remoteId':_0x1059d1,'data':{'tableKeys':Object[_0x431278(0x89f)](this['tables']),'transactionId':_0x22d149,'transactions':this[_0x431278(0x32f)],'tableName':_0x285ee6,'key':_0x3864a6}});}}async[_0x178721(0x8d0)](_0x3fd0b9){const _0x3af20e=_0x178721;if(!this[_0x3af20e(0x323)])throw new _0x5953b5(_0x5953b5[_0x3af20e(0x913)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x476f18=await this[_0x3af20e(0x33b)][_0x3af20e(0x569)](_0x3fd0b9),_0x1f495c=this[_0x3af20e(0x523)][_0x3af20e(0x603)](_0x476f18);if(_0x1f495c&&this['compareTransactions'](_0x3fd0b9,_0x1f495c)<=0x0)return void _0x4826cd[_0x3af20e(0x51c)](_0x312d1f['KeyValueDatabase'],_0x3af20e(0x309),_0x3fd0b9);const _0x1b7884={..._0x3fd0b9};return delete _0x1b7884[_0x3af20e(0x54a)],this['debounceRebuildMMRWithTransaction'](_0x1b7884),await this[_0x3af20e(0x323)][_0x3af20e(0x5f0)](_0x3fd0b9['id'],_0x1b7884),_0x3fd0b9;}['compareTransactions'](_0x2eadc0,_0x77be3e){const _0x18c18e=_0x178721;return _0x2eadc0['timestamp']!==_0x77be3e['timestamp']?_0x2eadc0[_0x18c18e(0x8cd)]-_0x77be3e[_0x18c18e(0x8cd)]:_0x2eadc0['priority']-_0x77be3e[_0x18c18e(0x3bc)];}async[_0x178721(0x521)](_0x416970){const _0x382f37=_0x178721;if(!this[_0x382f37(0x323)])throw new _0x5953b5(_0x5953b5[_0x382f37(0x913)][_0x382f37(0x24b)]);const _0x4add75=_0x416970[_0x382f37(0x898)]+'::'+_0x416970[_0x382f37(0xa6a)],_0x3ceac7=await _0x4a9fc2[_0x382f37(0x6dc)](),_0x21a301={'id':_0x4add75,'priority':Math[_0x382f37(0x203)](),'timestamp':_0x3ceac7,'action':_0x416970[_0x382f37(0x1b2)]};if(await this[_0x382f37(0x8d0)](_0x21a301))return _0x21a301;}async[_0x178721(0xa41)](_0xd4ad13){const _0x565f53=_0x178721;if(!this[_0x565f53(0x323)])throw new _0x5953b5(_0x5953b5[_0x565f53(0x913)][_0x565f53(0x24b)]);const _0xeca085=_0x2a0c5f[_0x565f53(0x9e1)]('id')[_0x565f53(0x5e9)](_0x565f53(0x43d),[_0xd4ad13+'::',_0xd4ad13+_0x565f53(0x654)]),_0x17e340=await this[_0x565f53(0x323)]['list'](_0xeca085['getQuery']());for(const _0x1bea1d of _0x17e340)await this[_0x565f53(0x323)][_0x565f53(0xa66)](_0x1bea1d['id']);}['setOnMessageHandler'](){const _0x59de1c=_0x178721;this[_0x59de1c(0x522)](async(_0x5d649d,_0x29c33c)=>{const _0x549213=_0x59de1c;if(_0x29c33c instanceof File)return;if(this[_0x549213(0x575)][_0x549213(0x74f)](_0x29c33c),!await this[_0x549213(0x8d0)](_0x29c33c))return void this['checkSyncComplete'](_0x5d649d,_0x29c33c);if(!_0x29c33c[_0x549213(0x54a)])throw new _0x5953b5(_0x5953b5['codes'][_0x549213(0x2dd)]);const [_0x66cc8,_0x56bb21]=_0x29c33c['id'][_0x549213(0x6af)]('::'),_0x2875ab=this[_0x549213(0x1d8)](_0x66cc8);if(!_0x2875ab)throw new _0x5953b5(_0x5953b5[_0x549213(0x913)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x2875ab});let _0x527330=0x0;switch(_0x29c33c['action']){case _0x13d2f3[_0x549213(0x5b1)]:case _0x13d2f3[_0x549213(0x8ab)]:{const _0x2a3ee7=_0x2875ab[_0x549213(0x5f0)](_0x56bb21,_0x29c33c[_0x549213(0x54a)],!0x1);_0x527330=JSON[_0x549213(0x37e)](_0x29c33c['value'])['length'],this['transactionsToSync'][_0x549213(0x31d)](_0x29c33c['id'])&&this[_0x549213(0x26f)][_0x549213(0x77b)](_0x2a3ee7);break;}case _0x13d2f3['Delete']:{const _0x834fd0=_0x2875ab['delete'](_0x56bb21,!0x1);this[_0x549213(0x32f)][_0x549213(0x31d)](_0x29c33c['id'])&&this['syncTransactionsWritten'][_0x549213(0x77b)](_0x834fd0);break;}}_0x4826cd[_0x549213(0x481)](_0x512f56[_0x549213(0x6b6)],{'type':_0x549213(0x58b),'label':this[_0x549213(0x8f4)],'nodeId':this[_0x549213(0x31a)][_0x549213(0x78a)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'tableName':_0x66cc8,'key':_0x56bb21,'size':_0x527330}),this[_0x549213(0x8eb)](_0x5d649d,_0x29c33c);});}[_0x178721(0x9ca)](){const _0x565c76=_0x178721;this['tableUnsubscriber']=this[_0x565c76(0x230)]['subscribe'](async _0x5103b3=>{const _0x164a19=_0x565c76;let _0x5beacd=0x0;switch(_0x5103b3[_0x164a19(0x1b2)]){case _0x13d2f3[_0x164a19(0x5b1)]:case _0x13d2f3[_0x164a19(0x8ab)]:case _0x13d2f3[_0x164a19(0x682)]:{const _0x559b95=await this[_0x164a19(0x521)](_0x5103b3);if(!_0x559b95)return;_0x559b95[_0x164a19(0x54a)]=_0x5103b3[_0x164a19(0x54a)],this['send'](_0x559b95),_0x5beacd=JSON[_0x164a19(0x37e)](_0x5103b3[_0x164a19(0x54a)])[_0x164a19(0x3f4)],this['writes']+=0x1;break;}case _0x471767[_0x164a19(0xa9f)]:case _0x471767['List']:case _0x471767[_0x164a19(0x4eb)]:this[_0x164a19(0x95a)]+=0x1;}_0x4826cd[_0x164a19(0x481)](_0x512f56['KeyValueDatabase'],{'type':_0x5103b3[_0x164a19(0x1b2)],'label':this['label'],'nodeId':this[_0x164a19(0x31a)][_0x164a19(0x78a)](),'nodeType':this[_0x164a19(0x31a)]['type'],'clusterId':this['clusterId'],'tableName':_0x5103b3['tableName'],'key':_0x5103b3[_0x164a19(0xa6a)],'size':_0x5beacd}),this['sendStats']();});}['instantiateTransactionTable'](){const _0x23d318=_0x178721;this['db']&&(this[_0x23d318(0x323)]||(this[_0x23d318(0x323)]=this['db'][_0x23d318(0x2a7)](_0xc153e7)));}[_0x178721(0x4ff)](){const _0x417547=_0x178721;this[_0x417547(0x85b)]&&(clearTimeout(this[_0x417547(0x85b)]),delete this[_0x417547(0x85b)]);}async[_0x178721(0x31e)](){const _0x32eee4=_0x178721;await this[_0x32eee4(0x33b)][_0x32eee4(0x931)],this['logSyncMetrics'](),this[_0x32eee4(0x6d3)][_0x32eee4(0xa83)]({'event':_0x12ff66[_0x32eee4(0x443)][_0x32eee4(0x83a)]}),this[_0x32eee4(0x1d9)]?.(!0x0),delete this[_0x32eee4(0x1d9)],this['sendStats'](),_0x4826cd[_0x32eee4(0x51c)](_0x312d1f['KeyValueDatabase'],_0x32eee4(0x796),this[_0x32eee4(0x8f4)]);}async[_0x178721(0x2d0)](_0x2b62f4){const _0x55f92=_0x178721;await Promise['all'](this[_0x55f92(0x26f)]),_0x4826cd[_0x55f92(0x51c)](_0x312d1f['KeyValueDatabase'],'publishSyncCompletedAfterWrites\x20-\x20'+this[_0x55f92(0x26f)][_0x55f92(0x3f4)]+_0x55f92(0xa98)+_0x2b62f4+_0x55f92(0x2d1),this[_0x55f92(0x8f4)]),await this[_0x55f92(0x33b)][_0x55f92(0x931)],await this[_0x55f92(0x990)](_0x2b62f4),await this[_0x55f92(0x31e)]();}[_0x178721(0x8eb)](_0x1d97f7,_0x248551){const _0x39b566=_0x178721;this[_0x39b566(0x32f)]['includes'](_0x248551['id'])&&(this['clearSyncTimeout'](),this[_0x39b566(0x32f)]=this[_0x39b566(0x32f)]['filter'](_0x54df99=>_0x54df99!==_0x248551['id']),0x0!==this['transactionsToSync'][_0x39b566(0x3f4)]?this[_0x39b566(0x85b)]=setTimeout(this['timeoutCallback'],0x7d0):this[_0x39b566(0x2d0)](_0x1d97f7));}[_0x178721(0x88e)](){const _0x4bc43e=_0x178721;this['debounceStats']&&clearTimeout(this[_0x4bc43e(0x605)]),this[_0x4bc43e(0x605)]=setTimeout(async()=>{const _0x1f6f2e=_0x4bc43e;delete this['debounceStats'];let _0x4b30e1=0x0;for(const _0x5cb82f of this[_0x1f6f2e(0x477)][_0x1f6f2e(0x9b0)]())_0x4b30e1+=await _0x5cb82f[_0x1f6f2e(0x545)]();this[_0x1f6f2e(0x87d)][_0x1f6f2e(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x1f6f2e(0xa48)],'content':{'type':_0x4ef04d[_0x1f6f2e(0xa65)],'label':this[_0x1f6f2e(0x8f4)],'stats':{'timestamp':Date[_0x1f6f2e(0x2e5)](),'storage':_0x4b30e1,'messagesSent':this[_0x1f6f2e(0x7bf)],'messagesReceived':this[_0x1f6f2e(0x7a4)],'bytesSent':this[_0x1f6f2e(0x608)],'bytesReceived':this['bytesReceived'],'writes':this[_0x1f6f2e(0x8ef)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x4826cd[_0x1f6f2e(0x606)](_0x512f56['KeyValueDatabase'],_0x1f6f2e(0x742)+this[_0x1f6f2e(0x494)]+_0x1f6f2e(0x742)+this[_0x1f6f2e(0x8f4)],_0x4b30e1);},_0x3c1ede);}[_0x178721(0x59e)](_0x427eac){const _0x3685cc=_0x178721;if(_0x427eac[_0x3685cc(0x477)][_0xc153e7])throw new _0x1c9a4(_0x58f0d1['KeyValueDatabaseTableNameReserved'],_0x3685cc(0x23d)+_0xc153e7+_0x3685cc(0x8d4));if(_0x427eac[_0x3685cc(0x477)][_0x103ffb])throw new _0x1c9a4(_0x58f0d1[_0x3685cc(0x757)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x103ffb+_0x3685cc(0x8d4));_0x427eac[_0x3685cc(0x477)][_0xc153e7]={'indexes':[]},_0x427eac[_0x3685cc(0x477)][_0x103ffb]={'indexes':[]};}async[_0x178721(0x5db)](_0x15d1a0){const _0x1f2c35=_0x178721;return Promise['race']([_0x15d1a0,Promise[_0x1f2c35(0x87e)]('not-resolved')])['then'](_0x4a4c3c=>_0x1f2c35(0x528)!==_0x4a4c3c);}async['confirmSynchronization'](_0x515cd9){const _0x6ed88=_0x178721;await this[_0x6ed88(0x620)]();const _0xdf5223=await this[_0x6ed88(0x33b)]['getRoot'](),_0x453c25={'sourceId':this[_0x6ed88(0x31a)]['getId'](),'destinationIds':[_0x515cd9],'propagate':!0x0,'messageType':_0x51ac98[_0x6ed88(0xa48)],'content':{'type':_0x4ef04d[_0x6ed88(0x381)],'label':this[_0x6ed88(0x8f4)],'mmrRoot':_0xdf5223}};this[_0x6ed88(0x87d)][_0x6ed88(0xa83)](_0x453c25);}async[_0x178721(0x6c1)](){const _0x153dc7=_0x178721;if(!this['transactionTable'])throw new _0x5953b5(_0x5953b5[_0x153dc7(0x913)][_0x153dc7(0x24b)]);this[_0x153dc7(0x79f)]=await this[_0x153dc7(0x323)]['list'](),this[_0x153dc7(0x79f)][_0x153dc7(0x68b)](this['compareTransactions']),this[_0x153dc7(0x33b)]=new _0x32bd35(),this[_0x153dc7(0x523)]=new Map();for(const _0x4d3d83 of this[_0x153dc7(0x79f)])this[_0x153dc7(0x6d5)](_0x4d3d83,this[_0x153dc7(0x79f)][_0x153dc7(0x3f4)]);this[_0x153dc7(0x80d)]();}async[_0x178721(0x6d5)](_0xed8cdf,_0xd7a143){const _0x46b34f=_0x178721,_0x27f6de={..._0xed8cdf};delete _0x27f6de['value'],await this[_0x46b34f(0x33b)][_0x46b34f(0x1a4)](_0x27f6de,_0xd7a143);const _0x1d6663=await this[_0x46b34f(0x33b)][_0x46b34f(0x569)](_0x27f6de);this[_0x46b34f(0x523)][_0x46b34f(0x5f0)](_0x1d6663,_0xed8cdf);}[_0x178721(0x224)](_0x2aba8f){const _0x3cbdbe=_0x178721;return this[_0x3cbdbe(0x523)]['get'](_0x2aba8f);}[_0x178721(0x5f9)](_0x516461,_0x3c44df){const _0x4bf6c9=_0x178721;if(0x0!==_0x516461['height'])_0x516461['left']&&this[_0x4bf6c9(0x5f9)](_0x516461[_0x4bf6c9(0x5a9)],_0x3c44df),_0x516461[_0x4bf6c9(0x17d)]&&this[_0x4bf6c9(0x5f9)](_0x516461['right'],_0x3c44df);else{const _0x540b1a=this['getTransactionByHash'](_0x516461[_0x4bf6c9(0x908)]);_0x540b1a&&_0x3c44df['push'](_0x540b1a);}}async[_0x178721(0x7cc)](){const _0x36854d=_0x178721;this[_0x36854d(0x451)]&&(clearTimeout(this[_0x36854d(0x451)]),delete this[_0x36854d(0x451)],this[_0x36854d(0x410)][_0x36854d(0x3f4)]>0x0&&(this[_0x36854d(0x79f)][_0x36854d(0x77b)](...this['transactionsToAppend']['sort'](this[_0x36854d(0x524)])),this[_0x36854d(0x410)]=[]));const _0x1313e8=this['startLoggingCycle']();this[_0x36854d(0x33b)]=new _0x32bd35(),this[_0x36854d(0x523)][_0x36854d(0x6f1)](),this[_0x36854d(0x79f)]['sort'](this[_0x36854d(0x524)]);for(const _0x29f3c9 of this[_0x36854d(0x79f)])this[_0x36854d(0x6d5)](_0x29f3c9,this[_0x36854d(0x79f)][_0x36854d(0x3f4)]);await this[_0x36854d(0x33b)][_0x36854d(0x931)],this[_0x36854d(0x486)](_0x1313e8);}[_0x178721(0x59b)](){const _0x2049a0=_0x178721;return this[_0x2049a0(0x575)][_0x2049a0(0x5c3)][_0x2049a0(0x287)](async()=>{const _0x15f8a7=_0x2049a0,_0x327e8e=await this[_0x15f8a7(0x33b)][_0x15f8a7(0x393)]();return{'startTime':Date['now'](),'initialRoot':_0x327e8e};},Promise[_0x2049a0(0x87e)]({'startTime':0x0,'initialRoot':''}));}async[_0x178721(0x486)](_0x2cb234){const _0x1a5239=_0x178721;try{const {startTime:_0x976e0c,initialRoot:_0x520593}=await _0x2cb234,_0x4f7528=await this['mmr'][_0x1a5239(0x393)](),_0x13cd52=[_0x1a5239(0x2ff)+(_0x520593!==_0x4f7528),_0x1a5239(0x941)+_0x520593,_0x1a5239(0xaa9)+_0x4f7528,_0x1a5239(0x6bd)+this[_0x1a5239(0x33b)]['getTotalNodes'](),_0x1a5239(0x90b)+(Date[_0x1a5239(0x2e5)]()-_0x976e0c)+'\x20ms\x0a'][_0x1a5239(0x4c6)]('\x20');this[_0x1a5239(0x575)][_0x1a5239(0x5c3)][_0x1a5239(0x51c)]('',()=>_0x13cd52);}catch(_0x8a6640){console[_0x1a5239(0x5c0)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x8a6640);}}[_0x178721(0xa32)](_0x32adaf){const _0x427c29=_0x178721;this[_0x427c29(0x410)][_0x427c29(0x77b)](_0x32adaf),this[_0x427c29(0x451)]&&(clearTimeout(this[_0x427c29(0x451)]),delete this[_0x427c29(0x451)]),this[_0x427c29(0x451)]=setTimeout(()=>{const _0x13bbf9=_0x427c29;this[_0x13bbf9(0x620)]();},0x3e8);}async[_0x178721(0x620)](){const _0x4089c9=_0x178721;if(this[_0x4089c9(0x451)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x4089c9(0x451)]),0x0!==this[_0x4089c9(0x410)]['length']){if(0x0===this[_0x4089c9(0x79f)][_0x4089c9(0x3f4)])return this[_0x4089c9(0x79f)]=this[_0x4089c9(0x410)],this[_0x4089c9(0x410)]=[],await this[_0x4089c9(0x7cc)]();if(this[_0x4089c9(0x410)][_0x4089c9(0x68b)](this[_0x4089c9(0x524)]),this[_0x4089c9(0x524)](this['transactionsToAppend'][0x0],this[_0x4089c9(0x79f)][this['transactions'][_0x4089c9(0x3f4)]-0x1])>0x0){this[_0x4089c9(0x575)]['logger'][_0x4089c9(0x51c)]('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this['transactionsToAppend'][_0x4089c9(0x3f4)]+',\x20Transactions:\x20'+this[_0x4089c9(0x79f)][_0x4089c9(0x3f4)]);for(const _0x755868 of this[_0x4089c9(0x410)])this[_0x4089c9(0x79f)][_0x4089c9(0x77b)](_0x755868),this[_0x4089c9(0x6d5)](_0x755868,this[_0x4089c9(0x410)][_0x4089c9(0x3f4)]);return this['transactionsToAppend']=[],void this[_0x4089c9(0x575)][_0x4089c9(0x5c3)]['log'](_0x4089c9(0x858),async()=>_0x4089c9(0x7b4)+await this['mmr']['getRoot']()+',\x20Total\x20Nodes:'+this[_0x4089c9(0x33b)][_0x4089c9(0x81e)]());}this['loggingCycle']['logger'][_0x4089c9(0x51c)](_0x4089c9(0xa6e)+this['transactionsToAppend'][_0x4089c9(0x3f4)]+',\x20Transactions:\x20'+this[_0x4089c9(0x79f)][_0x4089c9(0x3f4)]),this[_0x4089c9(0x79f)]['push'](...this[_0x4089c9(0x410)]),this[_0x4089c9(0x410)]=[],this[_0x4089c9(0x7cc)]();}}async[_0x178721(0xa5c)](){const _0x38e373=_0x178721;if(!_0x4826cd[_0x38e373(0x881)](_0x312d1f[_0x38e373(0x6b6)]))return;await this[_0x38e373(0x33b)]['ready'];const {dataSent:_0x6785e,dataReceived:_0x3437f2}=this[_0x38e373(0x575)][_0x38e373(0x4c7)]();_0x4826cd['log'](_0x312d1f[_0x38e373(0x6b6)],_0x38e373(0x627),this[_0x38e373(0x8f4)],_0x38e373(0x5a1)+_0x6785e,_0x38e373(0x8b6)+_0x3437f2,_0x38e373(0x6b1),await this[_0x38e373(0x33b)][_0x38e373(0x393)](),_0x38e373(0x939),this[_0x38e373(0x33b)][_0x38e373(0x81e)]());}async[_0x178721(0x80d)](){const _0x8f5c14=_0x178721;if(!_0x4826cd['isChannelEnabled'](_0x312d1f[_0x8f5c14(0x6b6)]))return;const _0x519ee3=this['mmr']['getPeaks'](),_0x52f106=_0x519ee3[_0x8f5c14(0x7df)](_0x1c7dd8=>_0x1c7dd8[_0x8f5c14(0x8a8)]),_0x36c3cb=await this[_0x8f5c14(0x33b)][_0x8f5c14(0x393)]();_0x4826cd['log'](_0x312d1f[_0x8f5c14(0x6b6)],_0x8f5c14(0x3f1),this[_0x8f5c14(0x79f)][_0x8f5c14(0x3f4)],_0x8f5c14(0x79f),this['mmr'][_0x8f5c14(0x81e)](),_0x8f5c14(0x8d3),_0x519ee3[_0x8f5c14(0x3f4)],'peaks',_0x52f106,'root\x20hash:\x20',_0x36c3cb);}}const _0x34413d=require('@crewdle/mist-connector-opfs'),_0x538e8b=require('@crewdle/mist-connector-indexed-db'),_0x369d04=require('@crewdle/mist-connector-webrtc-browser'),_0x182a2a=0x1fc00000;var _0xa289e0,_0x36f35b,_0x26b257,_0x5a0536,_0x3beb2a,_0x19f484,_0x363119,_0x5365aa,_0x5693bb;!function(_0x27118a){const _0x3b82da=_0x178721;_0x27118a[_0x3b82da(0xa38)]=_0x3b82da(0xa38),_0x27118a['AudioOutput']=_0x3b82da(0x6a6),_0x27118a[_0x3b82da(0x73e)]=_0x3b82da(0x73e),_0x27118a[_0x3b82da(0x6b4)]=_0x3b82da(0x6b4),_0x27118a[_0x3b82da(0x3d1)]=_0x3b82da(0x3d1),_0x27118a[_0x3b82da(0x49f)]=_0x3b82da(0x49f),_0x27118a[_0x3b82da(0x82a)]=_0x3b82da(0x82a),_0x27118a[_0x3b82da(0x880)]=_0x3b82da(0x880),_0x27118a[_0x3b82da(0x736)]=_0x3b82da(0x736),_0x27118a['WebRTC']=_0x3b82da(0x4c9);}(_0xa289e0||(_0xa289e0={}));class _0x432a15{['registeredListeners'];['bufferedEvents'];[_0x178721(0x89b)];constructor(_0x156f4a=new Map(),_0x10d79d=new Map(),_0xf8464d=new EventTarget()){const _0x16a67c=_0x178721;this['registeredListeners']=_0x156f4a,this['bufferedEvents']=_0x10d79d,this[_0x16a67c(0x89b)]=_0xf8464d;}[_0x178721(0x7fc)]=(_0x7d9523,_0x7ea2a2)=>this[_0x178721(0x58d)]['has'](_0x7d9523)?(_0x4826cd['log'](_0x312d1f[_0x178721(0x2ea)],_0x178721(0x9ba),{'event':_0x7d9523,'data':_0x7ea2a2}),this['eventTarget'][_0x178721(0x2d6)](new CustomEvent(_0x7d9523,{'detail':_0x7ea2a2})),!0x0):(this['bufferEvent'](_0x7d9523,_0x7ea2a2),!0x1);['on']=(_0x2462c0,_0x22f0fb)=>{const _0x536b75=_0x178721,_0x607b5=_0x385732=>{const _0x5663e1=a0_0x5e71;_0x4826cd[_0x5663e1(0x51c)](_0x312d1f[_0x5663e1(0x2ea)],_0x5663e1(0x268),_0x385732['type'],_0x385732[_0x5663e1(0xa57)]),_0x22f0fb(_0x385732[_0x5663e1(0xa57)]);};return this['registeredListeners'][_0x536b75(0x5f0)](_0x2462c0,_0x607b5),this['eventTarget'][_0x536b75(0x3a3)](_0x2462c0,_0x607b5),_0x4826cd[_0x536b75(0x51c)](_0x312d1f[_0x536b75(0x786)],'Subscribing\x20to\x20an\x20event:\x20on',_0x2462c0,_0x22f0fb),this[_0x536b75(0x6d6)](_0x2462c0),this;};['off'](_0x176193){const _0x3c82d5=_0x178721;if(!_0x176193)return this['registeredListeners'][_0x3c82d5(0x2cb)]((_0x275da1,_0x1ffbe)=>{const _0x7e5ba=_0x3c82d5;this[_0x7e5ba(0x89b)][_0x7e5ba(0x4a3)](_0x1ffbe,_0x275da1);}),void this['registeredListeners'][_0x3c82d5(0x6f1)]();'string'==typeof _0x176193&&this['removeListener'](_0x176193),Array[_0x3c82d5(0x986)](_0x176193)&&_0x176193[_0x3c82d5(0x2cb)](_0x6de527=>{const _0x5bc0f4=_0x3c82d5;this[_0x5bc0f4(0xaac)](_0x6de527);});}['removeListener'](_0x5dcc7a){const _0x1fbef3=_0x178721,_0xd2892a=this[_0x1fbef3(0x58d)]['get'](_0x5dcc7a);_0xd2892a&&(this[_0x1fbef3(0x89b)][_0x1fbef3(0x4a3)](_0x5dcc7a,_0xd2892a),this[_0x1fbef3(0x58d)][_0x1fbef3(0xa66)](_0x5dcc7a));}[_0x178721(0x46f)](_0x583656,_0x2d91f1){const _0x1e807a=_0x178721;_0x4826cd[_0x1e807a(0x51c)](_0x312d1f[_0x1e807a(0x2ea)],'Buffering\x20event',{'event':_0x583656,'data':_0x2d91f1});const _0x5716ca=this['bufferedEvents'][_0x1e807a(0x603)](_0x583656)||[];this[_0x1e807a(0x946)]['set'](_0x583656,[..._0x5716ca,_0x2d91f1]);}[_0x178721(0x6d6)](_0x5e6255){const _0x57d93a=_0x178721,_0x8af43b=this[_0x57d93a(0x946)][_0x57d93a(0x603)](_0x5e6255);_0x8af43b&&(_0x8af43b[_0x57d93a(0x2cb)](_0x479d90=>{const _0x162241=_0x57d93a;_0x4826cd[_0x162241(0x51c)](_0x312d1f[_0x162241(0x2ea)],'Consuming\x20buffered\x20event',{'event':_0x5e6255,'data':_0x479d90}),this['eventTarget'][_0x162241(0x2d6)](new CustomEvent(_0x5e6255,{'detail':_0x479d90}));}),this[_0x57d93a(0x946)][_0x57d93a(0xa66)](_0x5e6255));}}class _0x454d90 extends Error{constructor(_0x5b4352){const _0xb3ce1a=_0x178721;super(_0xb3ce1a(0x47b)+_0x5b4352);}}!function(_0x112ee8){const _0x3990b8=_0x178721;_0x112ee8[_0x112ee8['Core']=0x0]=_0x3990b8(0x591),_0x112ee8[_0x112ee8[_0x3990b8(0x4f2)]=0x1]=_0x3990b8(0x4f2);}(_0x36f35b||(_0x36f35b={})),function(_0x578d31){const _0x52ef4a=_0x178721;_0x578d31[_0x578d31[_0x52ef4a(0x310)]=0x0]='Offer',_0x578d31[_0x578d31[_0x52ef4a(0x710)]=0x1]=_0x52ef4a(0x710),_0x578d31[_0x578d31['Handshake']=0x2]='Handshake',_0x578d31[_0x578d31['Success']=0x3]=_0x52ef4a(0x89c),_0x578d31[_0x578d31[_0x52ef4a(0x16c)]=0x4]=_0x52ef4a(0x16c),_0x578d31[_0x578d31['Restart']=0x5]='Restart',_0x578d31[_0x578d31['Disconnect']=0x6]=_0x52ef4a(0x2ac),_0x578d31[_0x578d31[_0x52ef4a(0x397)]=0x7]=_0x52ef4a(0x397),_0x578d31[_0x578d31[_0x52ef4a(0x746)]=0x8]='OptimizationConnectionSuccess';}(_0x26b257||(_0x26b257={})),function(_0x3bbb13){const _0x2510b3=_0x178721;_0x3bbb13[_0x3bbb13['Sender']=0x0]=_0x2510b3(0x2d5),_0x3bbb13[_0x3bbb13[_0x2510b3(0x888)]=0x1]=_0x2510b3(0x888);}(_0x5a0536||(_0x5a0536={})),function(_0x29e5e0){const _0x26d524=_0x178721;_0x29e5e0[_0x26d524(0x49f)]=_0x26d524(0x46c);}(_0x3beb2a||(_0x3beb2a={})),function(_0x14d975){const _0x224b77=_0x178721;_0x14d975[_0x14d975[_0x224b77(0xa77)]=0x0]=_0x224b77(0xa77),_0x14d975[_0x14d975[_0x224b77(0x69d)]=0x1]=_0x224b77(0x69d),_0x14d975[_0x14d975[_0x224b77(0xa72)]=0x2]='NodeConnectionsUpdate',_0x14d975[_0x14d975[_0x224b77(0x574)]=0x3]=_0x224b77(0x574);}(_0x19f484||(_0x19f484={})),function(_0x15d532){const _0x247e49=_0x178721;_0x15d532[_0x15d532['Remediation']=0x0]=_0x247e49(0x39d),_0x15d532[_0x15d532['RemoteRemediation']=0x1]=_0x247e49(0x36f);}(_0x363119||(_0x363119={})),function(_0x3c067c){const _0x748ebe=_0x178721;_0x3c067c[_0x748ebe(0x84e)]=_0x748ebe(0xa06),_0x3c067c[_0x748ebe(0x308)]=_0x748ebe(0x652);}(_0x5365aa||(_0x5365aa={})),function(_0xc69ce1){const _0x278252=_0x178721;_0xc69ce1[_0x278252(0x594)]='resolution',_0xc69ce1[_0x278252(0x29b)]=_0x278252(0xa81);}(_0x5693bb||(_0x5693bb={}));const _0x41d981=require('aws-amplify'),_0x2660d5=require('aws-amplify/utils'),_0xa5667d=require('@aws-amplify/api'),_0x29fb44=require('@aws-amplify/core');class _0x1b13b7{[_0x178721(0x494)];[_0x178721(0x31a)];['remoteId'];constructor(_0x55107d,_0x241a8f,_0x44f26e){const _0x3ce10c=_0x178721;this['clusterId']=_0x55107d,this[_0x3ce10c(0x31a)]=_0x241a8f,this[_0x3ce10c(0xa40)]=_0x44f26e;}[_0x178721(0xa4f)](){const _0x1ba341=_0x178721;return this[_0x1ba341(0x31a)]['getId']();}[_0x178721(0x927)](){const _0x3ff14b=_0x178721;return this[_0x3ff14b(0xa40)];}}var _0x5c2925,_0x57a142,_0x1fc827;function _0x325198(_0x304a2c,_0x5c32e8){return _0x304a2c['sourceId']===_0x5c32e8;}function _0x24ca09(_0x2d57ad,_0x1511d3){const _0x58782c=_0x178721;return _0x2d57ad[_0x58782c(0x9a0)]?.[_0x58782c(0x31d)](_0x1511d3)??function(_0x493d90){const _0x1f48bf=_0x58782c;return void 0x0===_0x493d90[_0x1f48bf(0x9a0)];}(_0x2d57ad);}function _0x482bf1(_0x472f20,{contentType:_0x1741d6,label:_0x56d905,remoteId:_0x56bdff}){return _0x472f20+'-'+_0x1741d6+'-'+_0x56d905+'-'+_0x56bdff;}function _0x54e9cc(_0x22b988,_0x90fd0b,_0x131973){return''+_0x22b988+_0x90fd0b+_0x131973;}function _0xe9cce6(_0x232f07){const _0x51aa47=_0x178721;return _0x232f07===_0x57a142['Incoming']?_0x51aa47(0x6ab):_0x51aa47(0x4b3);}function _0x1b95e6(_0x49497a,_0x407f15){const _0xd2dc1a=_0x178721;return{'label':_0x49497a[_0xd2dc1a(0x1fd)](),'contentType':_0x49497a[_0xd2dc1a(0x79e)](),'remoteId':_0x407f15[_0xd2dc1a(0x927)](),'supportsContentType':_0x407f15[_0xd2dc1a(0x2e7)]()[_0xd2dc1a(0x31d)](_0x49497a[_0xd2dc1a(0x79e)]())};}!function(_0x4bf138){const _0x7a5493=_0x178721;_0x4bf138[_0x4bf138[_0x7a5493(0x4da)]=0x0]=_0x7a5493(0x4da),_0x4bf138[_0x4bf138[_0x7a5493(0x846)]=0x1]=_0x7a5493(0x846),_0x4bf138[_0x4bf138[_0x7a5493(0x2c8)]=0x2]=_0x7a5493(0x2c8);}(_0x5c2925||(_0x5c2925={})),function(_0x2b7c23){const _0x2de193=_0x178721;_0x2b7c23[_0x2de193(0x9b9)]='in',_0x2b7c23[_0x2de193(0x7e2)]='out';}(_0x57a142||(_0x57a142={}));class _0x491b08{['callback'];['retryCallback'];constructor(_0x178bfc,_0x2094a2){const _0x597a12=_0x178721;this[_0x597a12(0x547)]=_0x178bfc,this[_0x597a12(0x4d5)]=_0x2094a2;}[_0x178721(0x275)](_0x3a54bd){const _0x45d44d=_0x178721;this[_0x45d44d(0x547)](_0x3a54bd);}async[_0x178721(0x977)](){const _0x5cf4cf=_0x178721;await this[_0x5cf4cf(0x4d5)]();}}class _0xaa2a0c{[_0x178721(0x547)];['retryCallback'];constructor(_0x6fc686,_0x4ec220){const _0x3ebe72=_0x178721;this[_0x3ebe72(0x547)]=_0x6fc686,this[_0x3ebe72(0x4d5)]=_0x4ec220;}async[_0x178721(0x275)](_0x26f2b2){const _0x408c21=_0x178721;await this[_0x408c21(0x547)](_0x26f2b2);}async[_0x178721(0x977)](){const _0x2d9cf6=_0x178721;await this[_0x2d9cf6(0x4d5)]();}}function _0x32bab4(_0x103bac=()=>{},_0x38cc05=()=>!0x1,_0x194dc7=()=>{}){let _0x2e7278,_0x19b6b2,_0x4b257d=0x0;return{get 'size'(){return _0x4b257d;},get 'head'(){return _0x2e7278;},get 'tail'(){return _0x19b6b2;},set 'head'(_0x68128d){_0x2e7278=_0x68128d;},set 'tail'(_0x4ed5a9){_0x19b6b2=_0x4ed5a9;},'push'(_0x2e7720,_0x20a814=!0x0){const _0x5b7600=a0_0x5e71,_0x2b4ad2={'value':_0x2e7720};_0x20a814&&_0x38cc05(_0x2b4ad2)?_0x103bac():(_0x19b6b2&&(_0x2b4ad2[_0x5b7600(0x651)]=_0x19b6b2,_0x19b6b2[_0x5b7600(0x1a6)]=_0x2b4ad2),_0x19b6b2=_0x2b4ad2,_0x2e7278||(_0x2e7278=_0x2b4ad2),_0x4b257d+=0x1,_0x20a814&&_0x103bac());},'pop'(){const _0x43afdd=a0_0x5e71;if(!_0x19b6b2)return;const _0x18b35a=_0x19b6b2['value'];return _0x19b6b2=_0x19b6b2[_0x43afdd(0x651)],_0x19b6b2&&delete _0x19b6b2[_0x43afdd(0x1a6)],_0x19b6b2||(_0x2e7278=void 0x0),_0x4b257d-=0x1,_0x18b35a;},'unshift'(_0x5455e1,_0x3611ea=!0x0){const _0x51a5f6=a0_0x5e71,_0x58c934={'value':_0x5455e1};_0x3611ea&&_0x38cc05(_0x58c934)?_0x103bac():(_0x2e7278&&(_0x2e7278[_0x51a5f6(0x651)]=_0x58c934,_0x58c934[_0x51a5f6(0x1a6)]=_0x2e7278),_0x2e7278=_0x58c934,_0x19b6b2||(_0x19b6b2=_0x58c934),_0x4b257d+=0x1,_0x3611ea&&_0x103bac());},'shift'(){const _0xd1a0=a0_0x5e71;if(!_0x2e7278)return;const _0x3b2c15=_0x2e7278['value'];return _0x2e7278=_0x2e7278[_0xd1a0(0x1a6)],_0x2e7278&&delete _0x2e7278[_0xd1a0(0x651)],_0x2e7278||(_0x19b6b2=void 0x0),_0x4b257d-=0x1,_0x3b2c15;},'clear'(){_0x194dc7(),_0x2e7278=void 0x0,_0x19b6b2=void 0x0,_0x4b257d=0x0;}};}function _0x3a4aeb(_0x5b96d9,_0x3e4b6a=!0x1,_0x778906=()=>{},_0x333daf=()=>!0x1,_0x5540ed=()=>{}){let _0x558cf8=!0x1;const _0x488fc4=_0x32bab4(async function(){const _0x44feea=a0_0x5e71;if(!_0x558cf8){for(_0x558cf8=!0x0;_0x488fc4[_0x44feea(0x8df)];){const _0x190a96=_0x488fc4[_0x44feea(0x9cd)]();if(_0x190a96)try{_0x5b96d9 instanceof _0x491b08&&_0x5b96d9[_0x44feea(0x275)](_0x190a96),_0x5b96d9 instanceof _0xaa2a0c&&await _0x5b96d9['call'](_0x190a96),_0x778906(_0x190a96);}catch(_0x4e391e){_0x3e4b6a?_0x488fc4[_0x44feea(0x77b)](_0x190a96,!0x1):_0x488fc4['unshift'](_0x190a96,!0x1),await _0x5b96d9['wait']();}}_0x558cf8=!0x1;}},_0x333daf,_0x5540ed);return _0x488fc4;}class _0x12d56f extends _0x1b13b7{['vendorId'];[_0x178721(0x3cf)];[_0x178721(0x9c5)]=_0xa5667d[_0x178721(0x317)][_0x178721(0x704)];['connectionStateListener']=_0x5467bb();[_0x178721(0x5b8)]=_0x1e0d9a();[_0x178721(0x739)];[_0x178721(0x4f4)];[_0x178721(0x6ef)]=_0x3a4aeb(new _0xaa2a0c(this[_0x178721(0x910)]['bind'](this),this[_0x178721(0x8f3)]['bind'](this)));[_0x178721(0x917)];constructor(_0x1c1ca2,_0x2b1edb,_0x38e3a3,_0x36c407,_0x4a9dde){const _0x17fac3=_0x178721;super(_0x2b1edb,_0x38e3a3,_0x36c407),this['vendorId']=_0x1c1ca2,this[_0x17fac3(0x3cf)]=_0x4a9dde;}async['connect'](){const _0x3a9681=_0x178721;try{const _0x1338a2={'getTokens':async()=>{const _0x50ae9c=a0_0x5e71,_0x40f713=await this[_0x50ae9c(0x3cf)][_0x50ae9c(0x497)]();return{'accessToken':(0x0,_0x29fb44[_0x50ae9c(0x6d1)])(_0x40f713),'idToken':(0x0,_0x29fb44[_0x50ae9c(0x6d1)])(_0x40f713)};}};_0x41d981[_0x3a9681(0x3e0)]['configure']({'API':{'GraphQL':{'endpoint':_0x551917[_0x3a9681(0x824)][_0x3a9681(0x43b)],'region':_0x551917[_0x3a9681(0x824)][_0x3a9681(0x557)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x1338a2}});const _0x594664=(0x0,_0xa5667d[_0x3a9681(0x2ad)])();this['client']=_0x594664,await this['subscribe'](),this[_0x3a9681(0x4f4)]=_0x2660d5[_0x3a9681(0x5f1)]['listen'](_0x3a9681(0x2b2),async({payload:_0x3dd9a5})=>{const _0x2e4aae=_0x3a9681;if(_0x3dd9a5[_0x2e4aae(0x49d)]===_0xa5667d['CONNECTION_STATE_CHANGE']){const _0x56c906=_0x3dd9a5[_0x2e4aae(0x372)];this[_0x2e4aae(0x9c5)]=_0x56c906[_0x2e4aae(0x9c5)],this['connectionStateListener'][_0x2e4aae(0xa83)](_0x56c906['connectionState']),this[_0x2e4aae(0x9c5)]===_0xa5667d[_0x2e4aae(0x317)][_0x2e4aae(0x704)]?(_0x4826cd[_0x2e4aae(0x5c0)](_0x2e4aae(0x81d),{'clusterId':this[_0x2e4aae(0x494)],'nodeId':this[_0x2e4aae(0xa4f)](),'nodeType':this[_0x2e4aae(0x31a)][_0x2e4aae(0x43f)]}),this[_0x2e4aae(0x3d8)](),this[_0x2e4aae(0x2d9)]()):this[_0x2e4aae(0x9c5)]===_0xa5667d['ConnectionState'][_0x2e4aae(0xa0a)]?_0x4826cd[_0x2e4aae(0xa84)](_0x2e4aae(0x70b),{'clusterId':this[_0x2e4aae(0x494)],'nodeId':this['getLocalId'](),'nodeType':this[_0x2e4aae(0x31a)][_0x2e4aae(0x43f)]}):_0x4826cd[_0x2e4aae(0xa84)](_0x2e4aae(0x6f3),{'clusterId':this[_0x2e4aae(0x494)],'nodeId':this['getLocalId'](),'nodeType':this[_0x2e4aae(0x31a)][_0x2e4aae(0x43f)],'data':{'state':_0x56c906[_0x2e4aae(0x9c5)]}});}});}catch(_0x4728e5){_0x4826cd[_0x3a9681(0x5c0)](_0x3a9681(0x5e0),{'clusterId':this[_0x3a9681(0x494)],'nodeId':this[_0x3a9681(0xa4f)](),'nodeType':this[_0x3a9681(0x31a)][_0x3a9681(0x43f)]});}}[_0x178721(0x3d8)](){const _0x2aac93=_0x178721;_0x4826cd[_0x2aac93(0xa84)](_0x2aac93(0xa99),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x2aac93(0x31a)][_0x2aac93(0x43f)]}),this[_0x2aac93(0x6ef)][_0x2aac93(0x6f1)](),this[_0x2aac93(0x4f4)]?.(),this['subscription']?.[_0x2aac93(0x90e)](),delete this[_0x2aac93(0x739)];}['isConnected'](){const _0x2a8239=_0x178721;return this['connectionState']===_0xa5667d[_0x2a8239(0x317)][_0x2a8239(0xa0a)];}[_0x178721(0x9fa)](_0x2aaa9a){const _0x44f8fe=_0x178721;this[_0x44f8fe(0x6ef)][_0x44f8fe(0x77b)](_0x2aaa9a);}[_0x178721(0x522)](_0x3856aa){const _0xd90c45=_0x178721;return this[_0xd90c45(0x5b8)]['subscribe'](_0x3856aa);}['getSupportedContentTypes'](){const _0x2be699=_0x178721;return[_0x12ff66[_0x2be699(0x66a)]['Data']];}async[_0x178721(0x8f3)](){const _0x4b740f=_0x178721;if(!this[_0x4b740f(0x1e9)]())return new Promise(_0x261c7d=>{const _0x438693=_0x4b740f,_0x376a7c=this[_0x438693(0xa63)]['subscribe'](_0x244a68=>{const _0x4d7f45=_0x438693;_0x244a68===_0xa5667d[_0x4d7f45(0x317)]['Connected']&&(_0x376a7c(),_0x261c7d());});});}async[_0x178721(0x910)](_0x378699){const _0x192ce8=_0x178721;if(this[_0x192ce8(0x9c5)]!==_0xa5667d[_0x192ce8(0x317)]['Connected'])throw new Error(_0x192ce8(0x957));_0x378699[_0x192ce8(0x9a0)]&&0x1===_0x378699[_0x192ce8(0x9a0)][_0x192ce8(0x3f4)]?await this[_0x192ce8(0xa83)](_0x378699[_0x192ce8(0x9a0)][0x0],JSON[_0x192ce8(0x37e)](_0x378699)):_0x4826cd['error'](_0x192ce8(0x415),{'clusterId':this[_0x192ce8(0x494)],'nodeId':this[_0x192ce8(0xa4f)](),'nodeType':this['localNode'][_0x192ce8(0x43f)]});}async[_0x178721(0xa83)](_0x2866b5,_0x5979c0){const _0x5eb4a8=_0x178721;if(!this[_0x5eb4a8(0x917)])throw new Error(_0x5eb4a8(0x1a0));_0x4826cd[_0x5eb4a8(0x51c)](_0x312d1f[_0x5eb4a8(0x359)],_0x5eb4a8(0x86b),this[_0x5eb4a8(0xa4f)](),_0x5979c0),await this[_0x5eb4a8(0x917)][_0x5eb4a8(0x9fb)]({'query':_0x5eb4a8(0x6df),'variables':{'name':await this[_0x5eb4a8(0x7fd)](_0x2866b5),'data':_0x5979c0}});}async[_0x178721(0x1c5)](){const _0x4619e2=_0x178721;if(this[_0x4619e2(0x739)])return;if(!this[_0x4619e2(0x917)])throw new Error(_0x4619e2(0x1a0));_0x4826cd['log'](_0x312d1f['Signaling'],_0x4619e2(0x950),this['getLocalId']());const _0x310247=await this['client'][_0x4619e2(0x9fb)]({'query':_0x4619e2(0x63e),'variables':{'name':await this[_0x4619e2(0x7fd)]()},'authToken':await this[_0x4619e2(0x3cf)]['getIdToken']()},{'Authorization':await this[_0x4619e2(0x3cf)][_0x4619e2(0x497)]()});this['subscription']=_0x310247[_0x4619e2(0x1c5)]({'next':({data:_0x45c8c2})=>{const _0x36fad4=_0x4619e2,_0x5e5d59=JSON[_0x36fad4(0x8b5)](_0x45c8c2[_0x36fad4(0x1c5)][_0x36fad4(0x372)]);!_0x325198(_0x5e5d59,this[_0x36fad4(0xa4f)]())&&_0x24ca09(_0x5e5d59,this[_0x36fad4(0xa4f)]())&&this[_0x36fad4(0x5b8)][_0x36fad4(0xa83)](_0x5e5d59);},'error':console[_0x4619e2(0x51c)]});}async[_0x178721(0x7fd)](_0x1992fc){const _0xfb2ac6=_0x178721,_0x16f640=await crypto[_0xfb2ac6(0x8de)][_0xfb2ac6(0x715)](_0xfb2ac6(0x2a4),new TextEncoder()[_0xfb2ac6(0x98b)](this[_0xfb2ac6(0x92c)]+'-'+this[_0xfb2ac6(0x494)]+'-'+(_0x1992fc??this['getLocalId']())));return Array[_0xfb2ac6(0x3ac)](new Uint8Array(_0x16f640))[_0xfb2ac6(0x7df)](_0x355a14=>_0x355a14[_0xfb2ac6(0x729)](0x10)[_0xfb2ac6(0x71e)](0x2,'0'))[_0xfb2ac6(0x4c6)]('');}}!function(_0x1b4bbf){const _0x810527=_0x178721;_0x1b4bbf[_0x1b4bbf[_0x810527(0x5b1)]=0x0]='Add',_0x1b4bbf[_0x1b4bbf[_0x810527(0x601)]=0x1]=_0x810527(0x601),_0x1b4bbf[_0x1b4bbf[_0x810527(0x8ab)]=0x2]=_0x810527(0x8ab),_0x1b4bbf[_0x1b4bbf['RemoteAdd']=0x3]=_0x810527(0x9c4),_0x1b4bbf[_0x1b4bbf[_0x810527(0x8c1)]=0x4]=_0x810527(0x8c1);}(_0x1fc827||(_0x1fc827={}));const _0x5d17fb='0',_0x34ea0a=_0x178721(0x579),_0x5a733a=_0x4af52e,_0x145ba7=0xbe800;class _0x106e95{[_0x178721(0x494)];[_0x178721(0x31a)];[_0x178721(0xa40)];[_0x178721(0x534)];[_0x178721(0x4cf)];[_0x178721(0x864)];[_0x178721(0x68d)];['dataChannel'];[_0x178721(0x2c9)]=0x1;['systemTopic'];['handshakeCandidates']=[];[_0x178721(0x834)]=[];[_0x178721(0x844)];constructor(_0x4df3b4,_0x1b5ff7,_0x2e3df9,_0xc305c,_0x446000,_0x44386c){const _0x53af37=_0x178721;this[_0x53af37(0x494)]=_0x4df3b4,this[_0x53af37(0x31a)]=_0x1b5ff7,this[_0x53af37(0xa40)]=_0x2e3df9,this['iceServers']=_0xc305c,this[_0x53af37(0x4cf)]=_0x446000,this[_0x53af37(0x864)]=_0x44386c,this[_0x53af37(0x68d)]=new this[(_0x53af37(0x864))]({'handshakeServers':this[_0x53af37(0x534)]}),this[_0x53af37(0x33a)]();}[_0x178721(0x3d8)](){const _0x2cc071=_0x178721;this[_0x2cc071(0x970)]();}[_0x178721(0x403)](_0x442fa5){const _0x2b2a4b=_0x178721;this[_0x2b2a4b(0x4cf)]=_0x442fa5;}async[_0x178721(0x4dd)](_0x4f40da,_0x2106b9){const _0xd7ca23=_0x178721;if(_0x2106b9===this[_0xd7ca23(0x2c9)])for(const _0x397028 of _0x4f40da){if(!this[_0xd7ca23(0x68d)]['canAddCandidates'])return this[_0xd7ca23(0xa2f)](_0x397028);try{await this['connection'][_0xd7ca23(0x9d5)](_0x397028);}catch(_0x14707f){this[_0xd7ca23(0xa2f)](_0x397028);}}}[_0x178721(0x1e9)](){const _0x405cb1=_0x178721;return this[_0x405cb1(0x6de)](),_0x405cb1(0x473)===this[_0x405cb1(0x68d)][_0x405cb1(0x9c5)]&&[_0x405cb1(0x473),_0x405cb1(0x588)][_0x405cb1(0x31d)](this[_0x405cb1(0x68d)][_0x405cb1(0x220)])&&_0x405cb1(0x99b)!==this[_0x405cb1(0x68d)][_0x405cb1(0x2f8)]&&_0x405cb1(0x44a)===this[_0x405cb1(0x876)]?.[_0x405cb1(0x989)];}[_0x178721(0x7f7)](_0x5a30db){const _0x3d8651=_0x178721;this[_0x3d8651(0x87d)]=_0x5a30db;}[_0x178721(0x1ae)](){const _0xff2f32=_0x178721;delete this[_0xff2f32(0x87d)];}[_0x178721(0xa5a)](_0x31adf5){const _0x193940=_0x178721;this[_0x193940(0x970)](),this[_0x193940(0x68d)]=new this[(_0x193940(0x864))]({'handshakeServers':this[_0x193940(0x534)]}),_0x31adf5?this[_0x193940(0x2c9)]=_0x31adf5:this[_0x193940(0x2c9)]+=0x1,this['setupConnectionEvents']();}['processPendingHandshakeCandidates'](){const _0x23438a=_0x178721;this[_0x23438a(0x834)][_0x23438a(0x2cb)](_0x31cbb7=>{const _0x14975f=_0x23438a;try{this[_0x14975f(0x68d)]['addCandidate'](_0x31cbb7);}catch(_0x26a48b){}}),this[_0x23438a(0x834)]=[];}[_0x178721(0xa31)](_0x417546,_0x29176d){const _0x44ab3b=_0x178721;if(!this[_0x44ab3b(0x87d)])throw new _0x5953b5(_0x5953b5[_0x44ab3b(0x913)][_0x44ab3b(0x2ba)],{'content':_0x417546});const _0x102105={'sourceId':this[_0x44ab3b(0x31a)][_0x44ab3b(0x78a)](),'destinationIds':[this[_0x44ab3b(0xa40)]],'propagate':this[_0x44ab3b(0x4cf)]!==_0x36f35b[_0x44ab3b(0x591)],'retry':this[_0x44ab3b(0x4cf)]!==_0x36f35b['Core'],'messageType':_0x51ac98[_0x44ab3b(0x34e)],'content':_0x417546};_0x29176d&&(_0x102105[_0x44ab3b(0x61e)]=_0x29176d),this['systemTopic'][_0x44ab3b(0xa83)](_0x102105);}[_0x178721(0x33a)](){const _0x43f4cf=_0x178721;this[_0x43f4cf(0x68d)][_0x43f4cf(0x3bf)]=()=>{const _0x40de91=_0x43f4cf;_0x40de91(0x3e9)===this[_0x40de91(0x68d)]['gatheringState']&&this[_0x40de91(0x554)][_0x40de91(0x3f4)]>0x0&&(this[_0x40de91(0x844)]&&clearTimeout(this[_0x40de91(0x844)]),this[_0x40de91(0x844)]=setTimeout(()=>{const _0xe3d155=_0x40de91;delete this['handshakeDebounce'],this[_0xe3d155(0x656)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x43f4cf(0x68d)]['onCandidate']=_0x339d4d=>{const _0xdd042e=_0x43f4cf;_0x339d4d[_0xdd042e(0x6b7)]&&this['handshakeCandidates'][_0xdd042e(0x77b)](_0x339d4d[_0xdd042e(0x6b7)]);};}[_0x178721(0x970)](){const _0x1489f2=_0x178721;clearTimeout(this['handshakeDebounce']),delete this[_0x1489f2(0x844)],this[_0x1489f2(0x554)]=[],this['pendingHandshakeCandidates']=[],this[_0x1489f2(0x876)]&&(this['dataChannel'][_0x1489f2(0x522)]=null,this[_0x1489f2(0x876)][_0x1489f2(0x9c0)]=null,this['dataChannel'][_0x1489f2(0x3d8)](),delete this['dataChannel']),this['connection'][_0x1489f2(0x3bf)]=null,this[_0x1489f2(0x68d)][_0x1489f2(0x74d)]=null,this['connection']['onHandshakeStateChange']=null,this[_0x1489f2(0x68d)][_0x1489f2(0x3a4)]=null,this['connection']['onTrack']=null,this[_0x1489f2(0x68d)][_0x1489f2(0x616)]=null,this[_0x1489f2(0x68d)][_0x1489f2(0x3d8)]();}[_0x178721(0xa2f)](_0x1a6a22){const _0xabdfbc=_0x178721;this[_0xabdfbc(0x834)][_0xabdfbc(0x77b)](_0x1a6a22);}[_0x178721(0x6de)](){const _0x423e05=_0x178721;_0x4826cd[_0x423e05(0x51c)](_0x312d1f['ConnectionState'],_0x423e05(0x246),{'localId':this[_0x423e05(0x31a)][_0x423e05(0x78a)](),'remoteId':this[_0x423e05(0xa40)],'connectionState':this['connection']['connectionState'],'handshakeState':this[_0x423e05(0x68d)]['handshakeState'],'signalingState':this['connection'][_0x423e05(0x2f8)],'dataChannelState':this[_0x423e05(0x876)]?.[_0x423e05(0x989)]});}}function _0x54508d(_0x9b53d8,_0x13d428){const _0x3b4450=_0x178721;_0x13d428[_0x3b4450(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x3b4450(0x34e)],'content':_0x9b53d8});}class _0x171578{static ['instance'];[_0x178721(0x783)]=[];[_0x178721(0x6e1)];constructor(){setInterval(()=>{const _0x1d3207=a0_0x5e71;this[_0x1d3207(0x783)][_0x1d3207(0x2cb)](_0x2a62cc=>{const _0x27a7d3=_0x1d3207;if(Date['now']()-_0x2a62cc[_0x27a7d3(0x4cc)]>_0x2a62cc['interval']){try{_0x2a62cc['callback']();}catch(_0x409905){}_0x2a62cc[_0x27a7d3(0x4cc)]=Date['now']();}});},0x64);}static[_0x178721(0x55a)](){const _0xa4cfd1=_0x178721;return _0x171578[_0xa4cfd1(0x597)]||(_0x171578[_0xa4cfd1(0x597)]=new _0x171578()),_0x171578['instance'];}['startNoThrottlingHack'](_0x6d6f72){const _0x14b5fb=_0x178721,_0x340e1f=this[_0x14b5fb(0x549)](_0x6d6f72),_0x4ecf72=_0x6d6f72[_0x14b5fb(0x482)]();_0x4ecf72&&_0x340e1f&&(_0x4ecf72[_0x14b5fb(0x644)]['value']=0.001,_0x340e1f['connect'](_0x4ecf72),_0x4ecf72[_0x14b5fb(0x2d9)](_0x6d6f72[_0x14b5fb(0x700)]),_0x340e1f[_0x14b5fb(0x2cf)]());}[_0x178721(0x29e)](){const _0x11ef53=_0x178721;this['source']&&(this['source'][_0x11ef53(0x90c)](),this[_0x11ef53(0x6e1)]['disconnect'](),this[_0x11ef53(0x6e1)]=void 0x0);}[_0x178721(0x977)](_0x9f9995){return new Promise(_0x46e88a=>{setTimeout(_0x46e88a,_0x9f9995);});}[_0x178721(0x69a)](_0xd7c07c,_0x7f4bf1){const _0x786db6=_0x178721;return this[_0x786db6(0x783)][_0x786db6(0x77b)]({'callback':_0xd7c07c,'interval':_0x7f4bf1,'lastExecuted':Date[_0x786db6(0x2e5)]()}),()=>{const _0x4d3385=_0x786db6;this['parameters']=this[_0x4d3385(0x783)]['filter'](_0x53a35e=>_0x53a35e['callback']!==_0xd7c07c);};}[_0x178721(0x549)](_0x43f5f5){const _0x2847cd=_0x178721;if(_0x43f5f5[_0x2847cd(0x549)])return _0x43f5f5[_0x2847cd(0x549)]();const _0x1b39c8=_0x43f5f5[_0x2847cd(0x45c)](),_0x4cd048=_0x43f5f5[_0x2847cd(0x45f)](0x1,0x1,_0x43f5f5[_0x2847cd(0x7d4)]);return _0x4cd048['getChannelData'](0x0)[0x0]=0xa,_0x1b39c8['buffer']=_0x4cd048,_0x1b39c8['loop']=!0x0,_0x1b39c8;}}const _0x387a0b=_0x171578[_0x178721(0x55a)]();class _0x1c0a09 extends _0x106e95{[_0x178721(0x7e6)]=_0x5467bb();['trackCallback']=_0x5467bb();['removeTrackCallback']=_0x5467bb();['receivers']=new Map();['chunks']=new Map();[_0x178721(0x39e)];[_0x178721(0x7a4)]=0x0;[_0x178721(0x669)]={'messages':{'total':0x0}};[_0x178721(0x6fb)]=0x0;[_0x178721(0x5c8)]=0x0;[_0x178721(0x575)]=_0x3f8eaa(_0x178721(0x9d4),_0x312d1f['ReceiverOnMessage']);[_0x178721(0x3d8)](){const _0x1e3f7a=_0x178721;this['clearWaitSuccess'](),this['receivers']['clear'](),super[_0x1e3f7a(0x3d8)]();}async[_0x178721(0x1ab)](_0x3fc1f7,_0x3fc91d){const _0xe74682=_0x178721;this[_0xe74682(0x2c9)]=_0x3fc91d,this[_0xe74682(0x2a3)]();const _0x1be78a=await this['connection'][_0xe74682(0x895)](_0x3fc1f7);this[_0xe74682(0x435)]();const _0x3f59dd=(0x0,_0x4848bd['v4'])();this[_0xe74682(0xa31)]({'type':_0x26b257[_0xe74682(0x710)],'answer':_0x1be78a,'version':_0x3fc91d,'connectionType':this[_0xe74682(0x4cf)]},_0x3f59dd),this[_0xe74682(0x4cf)]===_0x36f35b['Core']&&(this[_0xe74682(0x39e)]=_0x387a0b[_0xe74682(0x69a)](()=>{const _0x129850=_0xe74682;this[_0x129850(0xa31)]({'type':_0x26b257[_0x129850(0x710)],'answer':_0x1be78a,'version':_0x3fc91d,'connectionType':this['connectionType']},_0x3f59dd);},0x1388));}[_0x178721(0x192)](){const _0x1f33fe=_0x178721;this[_0x1f33fe(0x2a3)]();}['handleNeedRestart'](_0x5e0932){const _0x105ccd=_0x178721;this['resetConnection'](_0x5e0932),this[_0x105ccd(0xa31)]({'type':_0x26b257[_0x105ccd(0x509)]});}async[_0x178721(0x487)](){const _0x4f772b=_0x178721;this[_0x4f772b(0x87d)]&&(await this['connection'][_0x4f772b(0x32e)](this[_0x4f772b(0x9a4)],(_0x1dfaaa,_0x4964ad)=>{const _0x5f3a93=_0x4f772b;_0x54508d({'type':_0x26b257[_0x5f3a93(0x397)],'streamId':_0x4964ad,'nodeId':this[_0x5f3a93(0xa40)],'stats':_0x1dfaaa},this['systemTopic']);}),this[_0x4f772b(0x87d)]['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x4f772b(0x34e)],'content':{'type':_0x26b257[_0x4f772b(0x397)],'nodeId':this[_0x4f772b(0xa40)],'stats':{'origin':_0x5a0536[_0x4f772b(0x888)],'timestamp':Date['now'](),'messagesReceived':this[_0x4f772b(0x7a4)],'bytesReceived':this[_0x4f772b(0x6fb)],'timeReceiving':this[_0x4f772b(0x5c8)],'systemMessages':this[_0x4f772b(0x669)]}}}));}[_0x178721(0x522)](_0x5ebfb2){const _0x30ea96=_0x178721;return _0x551917['isProduction']?this[_0x30ea96(0x7e6)]['subscribe'](_0x5ebfb2):this[_0x30ea96(0x7e6)]['subscribe'](_0x395ae4=>{const _0x49d97c=_0x30ea96;0x0===_0x395ae4[_0x49d97c(0x614)]&&_0x395ae4[_0x49d97c(0x751)]===_0x51ac98[_0x49d97c(0xa48)]&&this[_0x49d97c(0x575)]['logger'][_0x49d97c(0x51c)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this[_0x49d97c(0xa40)],()=>_0x156e98(_0x395ae4)),_0x5ebfb2(_0x395ae4);});}[_0x178721(0x470)](_0xbb1728){const _0x5761b7=_0x178721;return this[_0x5761b7(0x851)][_0x5761b7(0x1c5)](({track:_0x3f7602,stream:_0x5e49f1})=>_0xbb1728(_0x3f7602,_0x5e49f1));}['onRemoveTrack'](_0x49f2e9){const _0x409ba5=_0x178721;return this[_0x409ba5(0x8f6)][_0x409ba5(0x1c5)](({track:_0x2b4791,stream:_0x11db20})=>_0x49f2e9(_0x2b4791,_0x11db20));}[_0x178721(0xa5a)](_0x54629c){this['clearWaitSuccess'](),this['receivers']['forEach'](_0x505a9f=>{_0x505a9f['clear']();}),super['resetConnection'](_0x54629c);}[_0x178721(0x656)](){const _0x334b0f=_0x178721;this[_0x334b0f(0xa31)]({'type':_0x26b257[_0x334b0f(0x573)],'candidates':this[_0x334b0f(0x554)],'origin':_0x5a0536[_0x334b0f(0x888)],'version':this['currentVersion'],'connectionType':this[_0x334b0f(0x4cf)]});}['setupConnectionEvents'](){const _0x422a31=_0x178721;super[_0x422a31(0x33a)](),this['connection'][_0x422a31(0x470)]=_0x3217e1=>{const _0x3a4ae1=_0x422a31;_0x4826cd[_0x3a4ae1(0x51c)](_0x312d1f[_0x3a4ae1(0xa64)],_0x3a4ae1(0x346),this['localNode']['getId'](),_0x3217e1),_0x3217e1['streams'][0x0][_0x3a4ae1(0x7ea)]=_0x348234=>{const _0x3fc29b=_0x3a4ae1;this[_0x3fc29b(0x9a4)][_0x3fc29b(0x603)](_0x3217e1['streams'][0x0]['id'])?.[_0x3fc29b(0xa66)](_0x348234['track']),0x0===this['receivers'][_0x3fc29b(0x603)](_0x3217e1['streams'][0x0]['id'])?.[_0x3fc29b(0x3e6)]&&this[_0x3fc29b(0x9a4)][_0x3fc29b(0xa66)](_0x3217e1[_0x3fc29b(0x77e)][0x0]['id']),this['removeTrackCallback'][_0x3fc29b(0xa83)]({'track':_0x348234[_0x3fc29b(0x564)],'stream':_0x3217e1['streams'][0x0]});},this[_0x3a4ae1(0x9a4)][_0x3a4ae1(0x4a6)](_0x3217e1[_0x3a4ae1(0x77e)][0x0]['id'])||this[_0x3a4ae1(0x9a4)][_0x3a4ae1(0x5f0)](_0x3217e1[_0x3a4ae1(0x77e)][0x0]['id'],new Set()),this[_0x3a4ae1(0x9a4)][_0x3a4ae1(0x603)](_0x3217e1[_0x3a4ae1(0x77e)][0x0]['id'])[_0x3a4ae1(0x9b5)](_0x3217e1[_0x3a4ae1(0x564)]),this[_0x3a4ae1(0x851)][_0x3a4ae1(0xa83)]({'track':_0x3217e1[_0x3a4ae1(0x564)],'stream':_0x3217e1[_0x3a4ae1(0x77e)][0x0]});},this['connection'][_0x422a31(0x616)]=_0x27ed93=>{const _0x4d9e9d=_0x422a31;this['dataChannel']=_0x27ed93['channel'],this[_0x4d9e9d(0x876)][_0x4d9e9d(0x522)]=_0x2584d9=>{const _0x121b6a=_0x4d9e9d;if(_0x2584d9[_0x121b6a(0x372)]!==_0x5d17fb)this[_0x121b6a(0x3be)](_0x2584d9[_0x121b6a(0x372)]);else{if(!this[_0x121b6a(0x876)])return void _0x4826cd[_0x121b6a(0x5c0)](_0x121b6a(0x284),{'clusterId':this[_0x121b6a(0x494)],'nodeId':this[_0x121b6a(0x31a)][_0x121b6a(0x78a)](),'nodeType':this[_0x121b6a(0x31a)][_0x121b6a(0x43f)],'remoteId':this[_0x121b6a(0xa40)],'data':{'connection':_0x121b6a(0x951)}});if(_0x121b6a(0x44a)!==this[_0x121b6a(0x876)]['state'])return;this[_0x121b6a(0x876)][_0x121b6a(0x9fa)]('1');}};};}['handleOnMessage'](_0x14f6ca){const _0x1d949b=_0x178721;if(_0x1d949b(0x6a8)==typeof _0x14f6ca&&_0x14f6ca[_0x1d949b(0x9c8)](_0x34ea0a))return this['messagesReceived']+=0x1,this[_0x1d949b(0x6fb)]+=_0x14f6ca[_0x1d949b(0x3f4)],this[_0x1d949b(0x36e)](_0x14f6ca);setTimeout(()=>{const _0x16b9ef=_0x1d949b,_0x3dde9f=Date[_0x16b9ef(0x2e5)]();let _0x4eedce;if((_0x14f6ca instanceof ArrayBuffer||_0x14f6ca[_0x16b9ef(0x3f4)]<=_0x5a733a)&&(this[_0x16b9ef(0x7a4)]+=0x1,this[_0x16b9ef(0x6fb)]+=_0x14f6ca instanceof ArrayBuffer?_0x14f6ca[_0x16b9ef(0x7f8)]:_0x14f6ca[_0x16b9ef(0x3f4)]),_0x14f6ca instanceof ArrayBuffer){const [_0x4c8067,_0xcf366d]=this[_0x16b9ef(0x5dd)](_0x14f6ca);_0x4eedce=_0x4c8067,_0x4eedce[_0x16b9ef(0x855)][_0x16b9ef(0x372)]=_0xcf366d;}else _0x4eedce=JSON[_0x16b9ef(0x8b5)](_0x14f6ca);if(0x0===_0x4eedce[_0x16b9ef(0x614)]){this[_0x16b9ef(0x669)][_0x16b9ef(0x6da)]['total']+=0x1;const {systemMessageType:_0x165c9f,systemContentMessageType:_0x25a795}=_0x156e98(_0x4eedce);this[_0x16b9ef(0x669)][_0x165c9f]||(this[_0x16b9ef(0x669)][_0x165c9f]={[_0x25a795]:0x0}),this[_0x16b9ef(0x669)][_0x165c9f][_0x25a795]||(this[_0x16b9ef(0x669)][_0x165c9f][_0x25a795]=0x0),this[_0x16b9ef(0x669)][_0x165c9f]['total']||(this[_0x16b9ef(0x669)][_0x165c9f][_0x16b9ef(0x34d)]=0x0),this[_0x16b9ef(0x669)][_0x165c9f][_0x25a795]+=0x1,this['systemMessagesReceived'][_0x165c9f][_0x16b9ef(0x34d)]+=0x1;}this[_0x16b9ef(0x7e6)][_0x16b9ef(0xa83)](_0x4eedce),this['timeReceiving']+=Date[_0x16b9ef(0x2e5)]()-_0x3dde9f;},0x0);}[_0x178721(0x36e)](_0x4dcc16){const _0x135be8=_0x178721,_0x33c81c=_0x4dcc16[_0x135be8(0x6af)](';'),_0x14d9eb=_0x33c81c[0x1],_0x292454=parseInt(_0x33c81c[0x2],0xa),_0x3f5aab=parseInt(_0x33c81c[0x3],0xa),_0x1adf1b=_0x4dcc16[_0x135be8(0x6cf)](_0x34ea0a+';'+_0x14d9eb+';'+_0x292454+';'+_0x3f5aab+';','');this[_0x135be8(0x9e5)][_0x135be8(0x4a6)](_0x14d9eb)||this[_0x135be8(0x9e5)][_0x135be8(0x5f0)](_0x14d9eb,[]);const _0x294181=this['chunks'][_0x135be8(0x603)](_0x14d9eb);_0x294181[_0x292454]=_0x1adf1b,_0x294181[_0x135be8(0x3f4)]===_0x3f5aab&&(this[_0x135be8(0x3be)](_0x294181['join']('')),this[_0x135be8(0x9e5)][_0x135be8(0xa66)](_0x14d9eb));}[_0x178721(0x2a3)](){this['waitSuccess']?.(),delete this['waitSuccess'];}[_0x178721(0x30b)](_0x4571ef){const _0xedac96=_0x178721,_0x1b8a43=new TextDecoder()['decode'](_0x4571ef);return JSON[_0xedac96(0x8b5)](_0x1b8a43);}[_0x178721(0x5dd)](_0x375594){const _0x2b9dca=_0x178721,_0x1ec2eb=new Uint8Array(_0x375594['slice'](0x0,0x4)),_0x470461=new Uint32Array(_0x1ec2eb[_0x2b9dca(0x2f3)])[0x0],_0x3633e1=new Uint8Array(_0x375594['slice'](0x4,0x4+_0x470461)),_0x279f6c=new Uint8Array(_0x375594[_0x2b9dca(0xab0)](0x4+_0x470461));return[this['arrayBufferToObject'](_0x3633e1[_0x2b9dca(0x2f3)]),_0x279f6c[_0x2b9dca(0x2f3)]];}}const _0x117670=0xc350;var _0x551358,_0x5ba570;!function(_0x38ac50){const _0x34ab16=_0x178721;_0x38ac50[_0x38ac50[_0x34ab16(0x286)]=0x0]=_0x34ab16(0x286),_0x38ac50[_0x38ac50['Medium']=0x1]='Medium',_0x38ac50[_0x38ac50['Low']=0x2]='Low';}(_0x551358||(_0x551358={}));class _0x570365 extends _0x106e95{[_0x178721(0x611)];[_0x178721(0x32d)];[_0x178721(0xa74)]=new Map();[_0x178721(0x6e6)];[_0x178721(0x46a)];[_0x178721(0x2c4)];[_0x178721(0x8aa)]=!0x1;[_0x178721(0x5bd)];[_0x178721(0x9ea)];[_0x178721(0x66d)];[_0x178721(0x6ef)]=function(e,t=_0x551358,s=!0x1){const _0x3a0ed5=_0x178721;let n=!0x1;const i=[];async function o(){const _0x5084c5=a0_0x5e71;if(!n){for(n=!0x0;i['some'](e=>e[_0x5084c5(0x8df)]);){let t,n=0x0;for(const [e,s]of i[_0x5084c5(0x257)]())if(t=s[_0x5084c5(0x9cd)](),n=e,t)break;if(t)try{if(e instanceof _0x491b08&&e[_0x5084c5(0x275)](t),e instanceof _0xaa2a0c&&await e[_0x5084c5(0x275)](t),i['slice'](-0x1)[_0x5084c5(0x216)](e=>e[_0x5084c5(0x8df)]))continue;const s=i[_0x5084c5(0x3f4)]-0x1;n===s&&i[s][_0x5084c5(0x8df)]&&await _0x387a0b['wait'](0x0);}catch(o){s?i[n][_0x5084c5(0x77b)](t,!0x1):i[n][_0x5084c5(0x6ec)](t,!0x1),await e[_0x5084c5(0x977)]();}}n=!0x1;}}return Object[_0x3a0ed5(0x9b0)](t)[_0x3a0ed5(0x2cb)](e=>{const _0xbfb44=_0x3a0ed5;_0xbfb44(0x6a8)!=typeof e&&(i[e]=_0x32bab4(o));}),{'queues':i};}(new _0x491b08(this[_0x178721(0x910)][_0x178721(0x428)](this),this[_0x178721(0x265)]['bind'](this)));[_0x178721(0x7bf)]=0x0;[_0x178721(0x608)]=0x0;['timeSending']=0x0;[_0x178721(0x2de)]=0x0;[_0x178721(0x5b4)];[_0x178721(0x575)]=_0x3f8eaa(_0x178721(0x74b),_0x312d1f[_0x178721(0x496)]);constructor(_0x39cbaf,_0x1f213e,_0x4efa03,_0x2977c1,_0x54409f,_0x257acc,_0x5520b1,_0x40342b){const _0x260702=_0x178721;super(_0x39cbaf,_0x1f213e,_0x4efa03,_0x2977c1,_0x54409f,_0x40342b),this[_0x260702(0x611)]=_0x257acc,this[_0x260702(0x32d)]=_0x5520b1;}['close'](){const _0x3f6402=_0x178721;this[_0x3f6402(0x3a5)](),this[_0x3f6402(0x3f9)](),delete this[_0x3f6402(0x2c4)],this['clearRestartTimeout'](),this[_0x3f6402(0x4e1)](),this[_0x3f6402(0xa24)](),this[_0x3f6402(0xa74)][_0x3f6402(0x6f1)](),this[_0x3f6402(0x8aa)]=!0x1,this[_0x3f6402(0x6ef)][_0x3f6402(0x3cb)][_0x3f6402(0x2cb)](_0x32975a=>_0x32975a[_0x3f6402(0x6f1)]()),this[_0x3f6402(0x62a)](),super[_0x3f6402(0x3d8)]();}['isConnected'](){const _0x1c0ef4=_0x178721;return!!this[_0x1c0ef4(0x2c4)]&&super['isConnected']()&&Date[_0x1c0ef4(0x2e5)]()-this[_0x1c0ef4(0x2c4)]<0x3a98;}async[_0x178721(0x487)](){const _0x4c7ec7=_0x178721;this[_0x4c7ec7(0x87d)]&&(await this[_0x4c7ec7(0x68d)][_0x4c7ec7(0x172)](this[_0x4c7ec7(0xa74)],(_0x58efb8,_0x596a9a)=>{const _0x5d9b77=_0x4c7ec7;_0x54508d({'type':_0x26b257[_0x5d9b77(0x397)],'streamId':_0x596a9a,'nodeId':this[_0x5d9b77(0xa40)],'stats':_0x58efb8},this[_0x5d9b77(0x87d)]);}),this[_0x4c7ec7(0x87d)][_0x4c7ec7(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98['PeerConnection'],'content':{'type':_0x26b257[_0x4c7ec7(0x397)],'nodeId':this[_0x4c7ec7(0xa40)],'stats':{'origin':_0x5a0536['Sender'],'timestamp':Date['now'](),'messagesSent':this[_0x4c7ec7(0x7bf)],'bytesSent':this['bytesSent'],'timeSending':this['timeSending'],'roundTripTime':this[_0x4c7ec7(0x2de)]}}}));}async[_0x178721(0x3e8)](_0x12a874){const _0x3131d5=_0x178721;_0x4826cd[_0x3131d5(0x51c)](_0x312d1f[_0x3131d5(0xa64)],'CrewdleSenderConnection\x20createOffer',this[_0x3131d5(0x31a)][_0x3131d5(0x78a)](),this[_0x3131d5(0xa40)]),this[_0x3131d5(0x638)](),this[_0x3131d5(0x4e1)](),this[_0x3131d5(0xa24)](),this[_0x3131d5(0x5bd)]=setTimeout(()=>{const _0x2db193=_0x3131d5;this[_0x2db193(0x93e)]();},0x7530),this[_0x3131d5(0x876)]||(this[_0x3131d5(0x876)]=this[_0x3131d5(0x68d)][_0x3131d5(0x2b3)](_0x3131d5(0x372)),this[_0x3131d5(0x876)][_0x3131d5(0x57f)]=_0x145ba7,this[_0x3131d5(0x876)][_0x3131d5(0x9c0)]=()=>{const _0x1f51e7=_0x3131d5;this[_0x1f51e7(0x5b4)]=setTimeout(()=>{const _0x11ba4c=_0x1f51e7;delete this['oncloseTimeout'],[_0x11ba4c(0x84f),_0x11ba4c(0x44a)][_0x11ba4c(0x31d)](this['dataChannel']?.[_0x11ba4c(0x989)]??'')||this[_0x11ba4c(0x93e)]();},0xfa);});const _0x33e865=await this[_0x3131d5(0x68d)][_0x3131d5(0x3e8)](_0x12a874);this[_0x3131d5(0x2c4)]||(this[_0x3131d5(0x2c4)]=Date['now']());const _0xedb844=(0x0,_0x4848bd['v4'])();this[_0x3131d5(0xa31)]({'type':_0x26b257['Offer'],'offer':_0x33e865,'version':this[_0x3131d5(0x2c9)],'connectionType':this[_0x3131d5(0x4cf)]},_0xedb844),this[_0x3131d5(0x4cf)]===_0x36f35b[_0x3131d5(0x591)]&&(this[_0x3131d5(0x46a)]=_0x387a0b['setInterval'](()=>{const _0x2418b9=_0x3131d5;this[_0x2418b9(0xa31)]({'type':_0x26b257[_0x2418b9(0x310)],'offer':_0x33e865,'version':this['currentVersion'],'connectionType':this['connectionType']},_0xedb844);},0x1388));}async[_0x178721(0x76f)](_0x23d72a,_0x229063){const _0x3ce847=_0x178721;if(_0x229063===this[_0x3ce847(0x2c9)]){this[_0x3ce847(0xa24)]();try{await this[_0x3ce847(0x68d)][_0x3ce847(0x76f)](_0x23d72a,this[_0x3ce847(0x3e8)][_0x3ce847(0x428)](this)),this['processPendingHandshakeCandidates'](),this['clearConnectionTimeout'](),this[_0x3ce847(0x980)]();}catch(_0x1397b7){this[_0x3ce847(0x93e)]();}}}[_0x178721(0x9fa)](_0x4b9ca0){const _0xe02e1d=_0x178721;if(!this[_0xe02e1d(0x876)])throw new _0x5953b5(_0x5953b5[_0xe02e1d(0x913)][_0xe02e1d(0x857)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this['localNode'][_0xe02e1d(0x78a)](),'remoteId':this['remoteId'],'eventMessage':_0x4b9ca0});if('open'!==this[_0xe02e1d(0x876)][_0xe02e1d(0x989)])throw new _0x5953b5(_0x5953b5[_0xe02e1d(0x913)][_0xe02e1d(0x857)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this['localNode'][_0xe02e1d(0x78a)](),'remoteId':this[_0xe02e1d(0xa40)],'eventMessage':_0x4b9ca0});let _0x18b2ca;if(_0x4b9ca0[_0xe02e1d(0x855)]['data']instanceof ArrayBuffer){const _0x171ca2=_0x4b9ca0[_0xe02e1d(0x855)][_0xe02e1d(0x372)];_0x4b9ca0={..._0x4b9ca0,'content':{..._0x4b9ca0[_0xe02e1d(0x855)],'data':void 0x0}},_0x18b2ca=this['mergeParts'](_0x4b9ca0,_0x171ca2);}else _0x18b2ca=JSON[_0xe02e1d(0x37e)](_0x4b9ca0);if('string'==typeof _0x18b2ca&&_0x18b2ca[_0xe02e1d(0x3f4)]>_0x5a733a)return this[_0xe02e1d(0x182)](_0x4b9ca0,_0x18b2ca);0x0===_0x4b9ca0[_0xe02e1d(0x614)]&&_0x4b9ca0['messageType']===_0x51ac98[_0xe02e1d(0xa48)]&&this[_0xe02e1d(0x575)][_0xe02e1d(0x5c3)][_0xe02e1d(0x287)](()=>_0x4826cd['log'](_0x312d1f[_0xe02e1d(0x496)],_0xe02e1d(0x478),this[_0xe02e1d(0xa40)],_0x156e98(_0x4b9ca0)),void 0x0);const _0x54c932=0x0===_0x4b9ca0['topicLabel']&&[_0x51ac98[_0xe02e1d(0x378)],_0x51ac98[_0xe02e1d(0x34e)]][_0xe02e1d(0x31d)](_0x4b9ca0[_0xe02e1d(0x751)])?_0x551358['High']:_0x4b9ca0 instanceof ArrayBuffer?_0x551358['Low']:_0x551358['Medium'];this[_0xe02e1d(0x968)](_0x18b2ca,_0x54c932);}[_0x178721(0x6a3)](_0x5ce469,_0x35122a,_0x451724,_0x90fe37){const _0x8cdd0f=_0x178721,_0x9cc142=(_0x2214f6=this[_0x8cdd0f(0x611)],_0x2899b7=this[_0x8cdd0f(0x32d)],Math[_0x8cdd0f(0x444)](0xe1000*_0x2214f6*_0x2899b7));var _0x2214f6,_0x2899b7;const _0x1d75e0=this[_0x8cdd0f(0xa74)][_0x8cdd0f(0x603)](_0x35122a['id'])||{'stream':_0x35122a,'priority':_0x451724,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x9cc142,'maxBitrate':_0x9cc142,'framerate':this[_0x8cdd0f(0x611)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x90fe37},_0x594697=_0x1d75e0[_0x8cdd0f(0x85d)][_0x5ce469[_0x8cdd0f(0x6cb)]]||{'track':_0x5ce469};if(_0x594697['sender']?(_0x594697[_0x8cdd0f(0x564)]=_0x5ce469,this[_0x8cdd0f(0x68d)][_0x8cdd0f(0x662)](_0x5ce469,_0x594697[_0x8cdd0f(0x7a0)])):_0x594697[_0x8cdd0f(0x7a0)]=this[_0x8cdd0f(0x68d)][_0x8cdd0f(0x6a3)](_0x5ce469,_0x35122a),_0x1d75e0[_0x8cdd0f(0x85d)][_0x5ce469[_0x8cdd0f(0x6cb)]]=_0x594697,_0x90fe37&&(_0x1d75e0['params']=_0x90fe37),_0x90fe37&&'video'===_0x90fe37[_0x8cdd0f(0x6cb)]&&_0x90fe37[_0x8cdd0f(0x8a3)]&&_0x90fe37[_0x8cdd0f(0x882)]&&(_0x1d75e0[_0x8cdd0f(0x800)]=this[_0x8cdd0f(0x1c1)](_0x90fe37['resolution'],_0x90fe37[_0x8cdd0f(0x882)]),_0x1d75e0[_0x8cdd0f(0x560)]=_0x1d75e0[_0x8cdd0f(0x800)],_0x1d75e0[_0x8cdd0f(0x85d)]['video']&&_0x1d75e0[_0x8cdd0f(0x85d)][_0x8cdd0f(0x63a)][_0x8cdd0f(0x7a0)])){const _0x5063ef=_0x1d75e0[_0x8cdd0f(0x85d)]['video'][_0x8cdd0f(0x7a0)];this[_0x8cdd0f(0x68d)]['setEncodingParameters'](_0x5063ef,Math[_0x8cdd0f(0x444)](0xa*_0x1d75e0[_0x8cdd0f(0x800)])/0xa,_0x1d75e0['framerate'],_0x1d75e0[_0x8cdd0f(0xa81)],_0x1d75e0[_0x8cdd0f(0x3bc)]);}this['senders']['set'](_0x35122a['id'],_0x1d75e0);}['setPriority'](_0x726db5,_0x45de2c){const _0x460024=_0x178721,_0x25e1f0=this[_0x460024(0xa74)][_0x460024(0x603)](_0x726db5['id']);if(_0x25e1f0&&_0x25e1f0[_0x460024(0x3bc)]!==_0x45de2c&&(_0x25e1f0[_0x460024(0x3bc)]=_0x45de2c,_0x25e1f0['tracks'][_0x460024(0x63a)]&&_0x25e1f0[_0x460024(0x85d)]['video'][_0x460024(0x7a0)])){const _0x5a7c2b=_0x25e1f0[_0x460024(0x85d)][_0x460024(0x63a)]['sender'];this[_0x460024(0x68d)][_0x460024(0xa3b)](_0x5a7c2b,Math['floor'](0xa*_0x25e1f0[_0x460024(0x800)])/0xa,_0x25e1f0[_0x460024(0x9da)],_0x25e1f0[_0x460024(0xa81)],_0x25e1f0[_0x460024(0x3bc)]);}}[_0x178721(0x972)](_0x5e6a1a,_0x1773e7){const _0x1f73f5=_0x178721,_0x1eaaf4=this[_0x1f73f5(0xa74)][_0x1f73f5(0x603)](_0x5e6a1a['id']);if(_0x1eaaf4){if(_0x1eaaf4[_0x1f73f5(0x25d)]=_0x1773e7,_0x1773e7&&_0x1f73f5(0x63a)===_0x1773e7[_0x1f73f5(0x6cb)]&&_0x1773e7[_0x1f73f5(0x8a3)]&&_0x1773e7[_0x1f73f5(0x882)]){if(_0x1eaaf4[_0x1f73f5(0x560)]=this[_0x1f73f5(0x1c1)](_0x1773e7['resolution'],_0x1773e7['maxResolution']),_0x1eaaf4['resolutionScale']<_0x1eaaf4[_0x1f73f5(0x560)]&&(_0x1eaaf4['resolutionScale']=_0x1eaaf4[_0x1f73f5(0x560)]),_0x1eaaf4[_0x1f73f5(0x85d)][_0x1f73f5(0x63a)]&&_0x1eaaf4[_0x1f73f5(0x85d)][_0x1f73f5(0x63a)]['sender']){const _0x19f186=_0x1eaaf4[_0x1f73f5(0x85d)][_0x1f73f5(0x63a)][_0x1f73f5(0x7a0)];this[_0x1f73f5(0x68d)]['setEncodingParameters'](_0x19f186,Math[_0x1f73f5(0x444)](0xa*_0x1eaaf4[_0x1f73f5(0x800)])/0xa,_0x1eaaf4[_0x1f73f5(0x9da)],_0x1eaaf4[_0x1f73f5(0xa81)],_0x1eaaf4['priority']);}this[_0x1f73f5(0x3a5)](),this[_0x1f73f5(0x1fe)]();}this[_0x1f73f5(0xa74)]['set'](_0x5e6a1a['id'],_0x1eaaf4);}}['removeTrack'](_0x13524c,_0x42fd6f){const _0xb150b0=_0x178721,_0x428a7e=this[_0xb150b0(0xa74)][_0xb150b0(0x603)](_0x42fd6f['id']);if(_0x428a7e){const _0x222940=_0x428a7e[_0xb150b0(0x85d)][_0x13524c[_0xb150b0(0x6cb)]];_0x222940&&(_0x222940[_0xb150b0(0x7a0)]&&this['connection'][_0xb150b0(0x63f)](_0x222940[_0xb150b0(0x7a0)]),_0x222940['track']=void 0x0);}}[_0x178721(0x727)](_0x5b8ade){const _0x3695f8=_0x178721;this['clearUpgradeTimeout']();const _0xfa3a9d=function(_0x175422,_0x45214b){const _0x34ee0d=a0_0x5e71;return _0x175422[_0x34ee0d(0x68b)]((_0x4119dc,_0x3c1c45)=>_0x45214b[_0x34ee0d(0x1b2)]===_0x5365aa['Downgrade']?_0x3c1c45[_0x34ee0d(0x3bc)]-_0x4119dc[_0x34ee0d(0x3bc)]:_0x4119dc[_0x34ee0d(0x3bc)]-_0x3c1c45[_0x34ee0d(0x3bc)])[_0x34ee0d(0x940)](_0x25d77c=>function(_0x124bff,_0x4509bc){const _0x1efb82=_0x34ee0d;if(_0x4509bc['action']===_0x5365aa[_0x1efb82(0x308)]){if(_0x4509bc[_0x1efb82(0xa8e)]===_0x5693bb[_0x1efb82(0x594)])return _0x124bff[_0x1efb82(0x800)]<0x4||_0x124bff[_0x1efb82(0x827)]>0xf;if(_0x4509bc['component']===_0x5693bb['Bitrate'])return _0x124bff[_0x1efb82(0x577)]>_0x117670;}return _0x124bff[_0x1efb82(0x800)]>_0x124bff['minResolutionScale']||_0x124bff[_0x1efb82(0x9da)]<_0x124bff['maxFramerate']||_0x124bff['bitrate']<_0x124bff[_0x1efb82(0x577)];}(_0x25d77c,_0x45214b));}(Array[_0x3695f8(0x3ac)](this[_0x3695f8(0xa74)][_0x3695f8(0x9b0)]()),_0x5b8ade);if(_0xfa3a9d&&(function(_0x51a478,_0x3295f5){const _0x8ad0b1=_0x3695f8;_0x51a478[_0x8ad0b1(0x85d)][_0x8ad0b1(0x63a)]&&_0x51a478['tracks']['video'][_0x8ad0b1(0x7a0)]&&(_0x51a478['resolutionScale']=function(_0x2f1c15,_0x53b282,_0x10708d){const _0x1aa356=_0x8ad0b1;switch(_0x10708d[_0x1aa356(0x1b2)]){case _0x5365aa[_0x1aa356(0x308)]:_0x10708d[_0x1aa356(0xa8e)]===_0x5693bb[_0x1aa356(0x594)]&&(_0x2f1c15+=0.5)>0x4&&(_0x2f1c15=0x4);break;case _0x5365aa['Upgrade']:(_0x2f1c15-=0.5)<_0x53b282&&(_0x2f1c15=_0x53b282);}return _0x2f1c15;}(_0x51a478[_0x8ad0b1(0x800)],_0x51a478[_0x8ad0b1(0x560)],_0x3295f5),_0x51a478[_0x8ad0b1(0x9da)]=function(_0x478990,_0x2b022c,_0x4ebe96){const _0x257da0=_0x8ad0b1;switch(_0x4ebe96['action']){case _0x5365aa[_0x257da0(0x308)]:_0x4ebe96['component']===_0x5693bb['Resolution']&&(_0x478990-=0x3)<0xf&&(_0x478990=0xf);break;case _0x5365aa['Upgrade']:(_0x478990+=0x3)>_0x2b022c&&(_0x478990=_0x2b022c);}return _0x478990;}(_0x51a478[_0x8ad0b1(0x9da)],_0x51a478[_0x8ad0b1(0x827)],_0x3295f5),_0x51a478[_0x8ad0b1(0xa81)]=function(_0x8e12a4,_0x266e12,_0x1df190){const _0x31187b=_0x8ad0b1;switch(_0x1df190[_0x31187b(0x1b2)]){case _0x5365aa[_0x31187b(0x308)]:_0x1df190[_0x31187b(0xa8e)]===_0x5693bb[_0x31187b(0x29b)]&&(_0x8e12a4*=0.75)<_0x117670&&(_0x8e12a4=_0x117670);break;case _0x5365aa['Upgrade']:(_0x8e12a4*=1.25)>_0x266e12&&(_0x8e12a4=_0x266e12);}return _0x8e12a4;}(_0x51a478['bitrate'],_0x51a478[_0x8ad0b1(0x577)],_0x3295f5));}(_0xfa3a9d,_0x5b8ade),_0xfa3a9d[_0x3695f8(0x85d)][_0x3695f8(0x63a)]&&_0xfa3a9d['tracks'][_0x3695f8(0x63a)][_0x3695f8(0x7a0)])){const _0x5bb8db=_0xfa3a9d['tracks'][_0x3695f8(0x63a)]['sender'];this[_0x3695f8(0x68d)][_0x3695f8(0xa3b)](_0x5bb8db,Math[_0x3695f8(0x444)](0xa*_0xfa3a9d[_0x3695f8(0x800)])/0xa,_0xfa3a9d['framerate'],_0xfa3a9d['bitrate'],_0xfa3a9d[_0x3695f8(0x3bc)]);}(_0xfa3a9d||_0x5b8ade[_0x3695f8(0x1b2)]===_0x5365aa[_0x3695f8(0x308)])&&this['setUpgradeTimeout']();}[_0x178721(0x810)](){const _0x2d577a=_0x178721;return this[_0x2d577a(0x6ef)][_0x2d577a(0x3cb)][_0x2d577a(0x41b)]((_0x4f1814,_0x398028)=>_0x4f1814+_0x398028['size'],0x0)*_0x4af52e;}[_0x178721(0x7f3)](){const _0x408202=_0x178721;return this[_0x408202(0x876)]?.[_0x408202(0x9ce)]??0x0;}['resetConnection'](){const _0x525055=_0x178721;super[_0x525055(0xa5a)](),this[_0x525055(0x62a)](),this[_0x525055(0xa24)](),this[_0x525055(0xa74)][_0x525055(0x2cb)](_0x45838c=>{const _0x3738a9=_0x525055;_0x45838c[_0x3738a9(0x85d)][_0x3738a9(0x63a)]&&(_0x45838c[_0x3738a9(0x85d)][_0x3738a9(0x63a)]['sender']=void 0x0),_0x45838c['tracks'][_0x3738a9(0x17e)]&&(_0x45838c[_0x3738a9(0x85d)][_0x3738a9(0x17e)][_0x3738a9(0x7a0)]=void 0x0);}),this[_0x525055(0x8aa)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x318e3d=>{const _0x4377c0=a0_0x5e71;if(!this[_0x4377c0(0x876)]||'open'!==this[_0x4377c0(0x876)][_0x4377c0(0x989)])return await _0x387a0b[_0x4377c0(0x977)](0x64),void _0x318e3d();this[_0x4377c0(0x876)][_0x4377c0(0x9ce)]<_0x145ba7?_0x318e3d():this[_0x4377c0(0x876)]['onBufferedAmountLow']=()=>{const _0x234edf=_0x4377c0;this[_0x234edf(0x876)]&&(this[_0x234edf(0x876)][_0x234edf(0x210)]=null),_0x318e3d();};});}['sendChunked'](_0x169602,_0x1b33ae){const _0xf40b8d=_0x178721,_0x1d8ba7=[];for(let _0x7dac8e=0x0;_0x7dac8e<_0x1b33ae[_0xf40b8d(0x3f4)];_0x7dac8e+=_0x5a733a)_0x1d8ba7['push'](_0x1b33ae[_0xf40b8d(0xab0)](_0x7dac8e,_0x7dac8e+_0x5a733a));for(const _0x5a6b29 of _0x1d8ba7)this['sendWithRetry'](_0x34ea0a+';'+_0x169602[_0xf40b8d(0x61e)]+';'+_0x1d8ba7[_0xf40b8d(0x2ee)](_0x5a6b29)+';'+_0x1d8ba7[_0xf40b8d(0x3f4)]+';'+_0x5a6b29,_0x551358[_0xf40b8d(0x4c8)]);}async[_0x178721(0x968)](_0x23eb02,_0x5ee0c5){const _0x12fad5=_0x178721;_0x23eb02===_0x5d17fb?this[_0x12fad5(0x6ef)][_0x12fad5(0x3cb)][_0x5ee0c5][_0x12fad5(0x8df)]?.[_0x12fad5(0x54a)]!==_0x5d17fb&&this[_0x12fad5(0x6ef)][_0x12fad5(0x3cb)][_0x5ee0c5][_0x12fad5(0x6ec)](_0x23eb02):this[_0x12fad5(0x6ef)][_0x12fad5(0x3cb)][_0x5ee0c5][_0x12fad5(0x77b)](_0x23eb02);}[_0x178721(0x910)](_0x5e5cee){const _0x520674=_0x178721;if(!this['dataChannel']||'open'!==this[_0x520674(0x876)]['state'])throw new Error(_0x520674(0x7fb));if(this[_0x520674(0x876)][_0x520674(0x9ce)]>=0xbe8000)throw new Error(_0x520674(0x7cd));const _0x4fb79d=Date[_0x520674(0x2e5)]();_0x5e5cee!==_0x5d17fb&&(this['messagesSent']+=0x1,this[_0x520674(0x608)]+=_0x5e5cee instanceof ArrayBuffer?_0x5e5cee[_0x520674(0x7f8)]:_0x5e5cee[_0x520674(0x3f4)]),ArrayBuffer,this[_0x520674(0x876)]['send'](_0x5e5cee),this['timeSending']+=Date['now']()-_0x4fb79d;}['startHeartbeat'](){const _0x384b59=_0x178721;this[_0x384b59(0x6e6)]&&this['clearHeartbeat']();let _0x1d0f7a=!0x0,_0x5b1b2f=Date[_0x384b59(0x2e5)]();this[_0x384b59(0x2c4)]=Date[_0x384b59(0x2e5)](),this[_0x384b59(0x876)][_0x384b59(0x522)]=_0x4c12a9=>{const _0x2f31f6=_0x384b59;'1'===_0x4c12a9['data']&&(this[_0x2f31f6(0x2de)]=Date[_0x2f31f6(0x2e5)]()-_0x5b1b2f,_0x1d0f7a&&this[_0x2f31f6(0xa31)]({'type':_0x26b257[_0x2f31f6(0x89c)]}),_0x1d0f7a=!0x1,this[_0x2f31f6(0x2c4)]=Date[_0x2f31f6(0x2e5)](),this['isReconnecting']&&(this['isReconnecting']=!0x1,this[_0x2f31f6(0x48c)]()));},this[_0x384b59(0x6e6)]=_0x387a0b['setInterval'](()=>{const _0x3b4f7f=_0x384b59;_0x5b1b2f=Date['now'](),this['sendWithRetry'](_0x5d17fb,_0x551358[_0x3b4f7f(0x286)]),Date[_0x3b4f7f(0x2e5)]()-this[_0x3b4f7f(0x2c4)]>(_0x1d0f7a?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x178721(0x48c)](){const _0x2eca4c=_0x178721;this[_0x2eca4c(0xa74)][_0x2eca4c(0x2cb)](_0x4acdaa=>{const _0x2374bb=_0x2eca4c;_0x4acdaa[_0x2374bb(0x85d)][_0x2374bb(0x63a)]&&_0x4acdaa[_0x2374bb(0x85d)][_0x2374bb(0x63a)][_0x2374bb(0x564)]&&!_0x4acdaa[_0x2374bb(0x85d)][_0x2374bb(0x63a)][_0x2374bb(0x7a0)]&&(_0x4acdaa[_0x2374bb(0x85d)]['video']['sender']=this[_0x2374bb(0x68d)]['addTrack'](_0x4acdaa[_0x2374bb(0x85d)][_0x2374bb(0x63a)]['track'],_0x4acdaa[_0x2374bb(0xa21)])),_0x4acdaa['tracks']['audio']&&_0x4acdaa['tracks'][_0x2374bb(0x17e)][_0x2374bb(0x564)]&&!_0x4acdaa['tracks']['audio'][_0x2374bb(0x7a0)]&&(_0x4acdaa[_0x2374bb(0x85d)][_0x2374bb(0x17e)]['sender']=this[_0x2374bb(0x68d)][_0x2374bb(0x6a3)](_0x4acdaa['tracks'][_0x2374bb(0x17e)][_0x2374bb(0x564)],_0x4acdaa[_0x2374bb(0xa21)]));});}[_0x178721(0x656)](){const _0x426cd8=_0x178721;this[_0x426cd8(0xa31)]({'type':_0x26b257['Handshake'],'candidates':this[_0x426cd8(0x554)],'origin':_0x5a0536[_0x426cd8(0x2d5)],'version':this[_0x426cd8(0x2c9)],'connectionType':this[_0x426cd8(0x4cf)]});}[_0x178721(0x33a)](){const _0x1faebe=_0x178721;super[_0x1faebe(0x33a)](),this['connection'][_0x1faebe(0x21c)]=()=>{const _0x168b16=_0x1faebe;if(_0x168b16(0x6b2)===this[_0x168b16(0x68d)][_0x168b16(0x220)]){_0x4826cd[_0x168b16(0x51c)](_0x312d1f[_0x168b16(0x317)],'iceConnectionState\x20failed',this['localNode'][_0x168b16(0x78a)](),this['remoteId']);try{if(this['connection'][_0x168b16(0x176)])return void this[_0x168b16(0x68d)]['restartHandshake']();}catch(_0x101e33){}this[_0x168b16(0x3e8)]({'handshakeRestart':!0x0});}},this[_0x1faebe(0x68d)]['onConnectionStateChange']=()=>{const _0x140d12=_0x1faebe;'disconnected'!==this[_0x140d12(0x68d)][_0x140d12(0x9c5)]&&_0x140d12(0x6b2)!==this[_0x140d12(0x68d)]['connectionState']||this[_0x140d12(0x93e)]();};}['handleDisconnect'](){const _0x2ae8ea=_0x178721;this[_0x2ae8ea(0x3f9)](),this['clearRestartTimeout'](),this[_0x2ae8ea(0x4e1)](),_0x4826cd[_0x2ae8ea(0xa84)](_0x2ae8ea(0x241),{'clusterId':this[_0x2ae8ea(0x494)],'nodeId':this[_0x2ae8ea(0x31a)][_0x2ae8ea(0x78a)](),'nodeType':this['localNode'][_0x2ae8ea(0x43f)],'remoteId':this[_0x2ae8ea(0xa40)],'data':{'connectionType':this[_0x2ae8ea(0x4cf)],'connectionState':this[_0x2ae8ea(0x68d)][_0x2ae8ea(0x9c5)],'iceConnectionState':this[_0x2ae8ea(0x68d)][_0x2ae8ea(0x220)],'signalingState':this['connection']['signalingState'],'readyState':this[_0x2ae8ea(0x876)]?.[_0x2ae8ea(0x989)]||'','lastHeartbeat':this[_0x2ae8ea(0x2c4)]?Date[_0x2ae8ea(0x2e5)]()-this[_0x2ae8ea(0x2c4)]:'','retryQueue':this['retryQueue']}}),(this[_0x2ae8ea(0x2c4)]&&Date[_0x2ae8ea(0x2e5)]()-this['lastHeartbeat']>0xea60)??0x1?this[_0x2ae8ea(0x87d)]['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x2ae8ea(0x31a)][_0x2ae8ea(0x78a)]()],'messageType':_0x51ac98['PeerConnection'],'content':{'type':_0x26b257[_0x2ae8ea(0x2ac)]}}):(this[_0x2ae8ea(0xa5a)](),this[_0x2ae8ea(0xa31)]({'type':_0x26b257[_0x2ae8ea(0x16c)],'version':this[_0x2ae8ea(0x2c9)],'connectionType':this[_0x2ae8ea(0x4cf)]}),this[_0x2ae8ea(0x9ea)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}['clearHeartbeat'](){const _0x322ba0=_0x178721;this[_0x322ba0(0x6e6)]?.(),delete this[_0x322ba0(0x6e6)];}[_0x178721(0x4e1)](){const _0x33a0d7=_0x178721;this[_0x33a0d7(0x5bd)]&&(clearTimeout(this['connectionTimeout']),delete this[_0x33a0d7(0x5bd)]);}[_0x178721(0x638)](){const _0x4b8720=_0x178721;this['restartTimeout']&&(clearTimeout(this[_0x4b8720(0x9ea)]),delete this[_0x4b8720(0x9ea)]);}[_0x178721(0x3a5)](){const _0x31d746=_0x178721;this[_0x31d746(0x66d)]&&(clearTimeout(this[_0x31d746(0x66d)]),delete this['upgradeTimeout']);}[_0x178721(0x1fe)](){const _0xb67ef=_0x178721;this[_0xb67ef(0x66d)]=setTimeout(()=>{const _0x4f562a=_0xb67ef;this[_0x4f562a(0x727)]({'type':_0x363119[_0x4f562a(0x39d)],'action':_0x5365aa[_0x4f562a(0x84e)]});},0x3a98);}[_0x178721(0x1c1)](_0x3a2881,_0x32291e){const _0x13bc32=_0x178721,_0x3e9532=Math[_0x13bc32(0x8e1)](_0x3a2881[_0x13bc32(0x7ec)]/_0x32291e['width'],_0x3a2881[_0x13bc32(0x8a8)]/_0x32291e[_0x13bc32(0x8a8)]);return Math[_0x13bc32(0x7ce)](Math[_0x13bc32(0x8e1)](_0x3e9532,0x1),0x4);}['clearWaitAnswer'](){const _0x39d693=_0x178721;this[_0x39d693(0x46a)]?.(),delete this['waitAnswer'];}[_0x178721(0x62a)](){const _0x2bc0fe=_0x178721;this[_0x2bc0fe(0x5b4)]&&(clearTimeout(this[_0x2bc0fe(0x5b4)]),delete this['oncloseTimeout']);}[_0x178721(0x61b)](_0x295a11){const _0x14b0ff=_0x178721,_0x4b8b59=JSON[_0x14b0ff(0x37e)](_0x295a11);return new TextEncoder()[_0x14b0ff(0x98b)](_0x4b8b59)['buffer'];}[_0x178721(0x845)](_0x50b13d,_0x46cda5){const _0x521133=_0x178721,_0x1978be=this[_0x521133(0x61b)](_0x50b13d),_0x395b10=new Uint8Array(0x4),_0x315960=new Uint8Array(_0x1978be),_0x43a448=new Uint8Array(_0x46cda5);_0x395b10[_0x521133(0x5f0)](new Uint8Array(new Uint32Array([_0x315960['length']])['buffer']));const _0x52618e=new Uint8Array(0x4+_0x315960[_0x521133(0x3f4)]+_0x43a448[_0x521133(0x3f4)]);return _0x52618e[_0x521133(0x5f0)](_0x395b10),_0x52618e[_0x521133(0x5f0)](_0x315960,0x4),_0x52618e[_0x521133(0x5f0)](_0x43a448,0x4+_0x315960[_0x521133(0x3f4)]),_0x52618e[_0x521133(0x2f3)];}}class _0x50df3e extends _0x1b13b7{[_0x178721(0x534)];['connectionType'];['maxFps'];[_0x178721(0x32d)];[_0x178721(0x864)];[_0x178721(0x1e5)];['receiverConnection'];[_0x178721(0x42b)]=[];[_0x178721(0x5b8)]=_0x1e0d9a();[_0x178721(0x85a)]=_0x1e0d9a();[_0x178721(0x74e)]=_0x1e0d9a();[_0x178721(0x41a)]=[];[_0x178721(0x87d)];[_0x178721(0x1cf)]=new Map();['dataUnsubscribers']=new Map();[_0x178721(0x3a0)]=new Map();['mediaUnsubscribers']=new Map();[_0x178721(0x8fb)]=!0x1;constructor(_0x1e3692,_0x54e361,_0x571ddf,_0x46b00c,_0x4232a2,_0x57001c,_0xa92abb,_0x1a4395){const _0x2d9b73=_0x178721;super(_0x1e3692,_0x54e361,_0x571ddf),this['iceServers']=_0x46b00c,this[_0x2d9b73(0x4cf)]=_0x4232a2,this[_0x2d9b73(0x611)]=_0x57001c,this[_0x2d9b73(0x32d)]=_0xa92abb,this[_0x2d9b73(0x864)]=_0x1a4395;}[_0x178721(0x717)](_0x529095){const _0x7ff938=_0x178721;switch(_0x529095[_0x7ff938(0x79e)]()){case _0x12ff66[_0x7ff938(0x66a)][_0x7ff938(0xa4a)]:case _0x12ff66[_0x7ff938(0x66a)]['PubSub']:case _0x12ff66[_0x7ff938(0x66a)][_0x7ff938(0x185)]:case _0x12ff66[_0x7ff938(0x66a)][_0x7ff938(0x6b6)]:case _0x12ff66[_0x7ff938(0x66a)]['Job']:case _0x12ff66[_0x7ff938(0x66a)][_0x7ff938(0x262)]:case _0x12ff66[_0x7ff938(0x66a)]['GraphDatabase']:case _0x12ff66[_0x7ff938(0x66a)]['ExternalStorage']:this['dataTopics']['set'](_0x529095[_0x7ff938(0x45b)](),_0x529095);break;case _0x12ff66[_0x7ff938(0x66a)][_0x7ff938(0x1b7)]:this[_0x7ff938(0x3a0)][_0x7ff938(0x5f0)](_0x529095['getLabel'](),_0x529095);}}['unregisterPublisher'](_0x46e5be){const _0x419bdb=_0x178721;switch(_0x46e5be['getContentType']()){case _0x12ff66['ContentType'][_0x419bdb(0xa4a)]:case _0x12ff66[_0x419bdb(0x66a)][_0x419bdb(0x5f4)]:case _0x12ff66['ContentType'][_0x419bdb(0x185)]:case _0x12ff66['ContentType'][_0x419bdb(0x6b6)]:case _0x12ff66[_0x419bdb(0x66a)]['Job']:case _0x12ff66['ContentType']['VectorDatabase']:case _0x12ff66[_0x419bdb(0x66a)][_0x419bdb(0x252)]:case _0x12ff66[_0x419bdb(0x66a)][_0x419bdb(0x1c6)]:this[_0x419bdb(0x1cf)][_0x419bdb(0xa66)](_0x46e5be[_0x419bdb(0x45b)]());break;case _0x12ff66['ContentType'][_0x419bdb(0x1b7)]:this[_0x419bdb(0x3a0)][_0x419bdb(0xa66)](_0x46e5be[_0x419bdb(0x45b)]());}}['registerSubscriber'](_0x20b5ec){const _0x2d05d3=_0x178721;switch(_0x20b5ec[_0x2d05d3(0x79e)]()){case _0x12ff66[_0x2d05d3(0x66a)][_0x2d05d3(0xa4a)]:case _0x12ff66[_0x2d05d3(0x66a)]['PubSub']:case _0x12ff66[_0x2d05d3(0x66a)][_0x2d05d3(0x185)]:case _0x12ff66['ContentType'][_0x2d05d3(0x6b6)]:case _0x12ff66[_0x2d05d3(0x66a)]['Job']:case _0x12ff66[_0x2d05d3(0x66a)][_0x2d05d3(0x262)]:case _0x12ff66[_0x2d05d3(0x66a)][_0x2d05d3(0x252)]:case _0x12ff66[_0x2d05d3(0x66a)][_0x2d05d3(0x1c6)]:{const _0x4f6fee=_0x20b5ec[_0x2d05d3(0x1c5)](_0x19eb82=>{const _0x4aef84=_0x2d05d3;_0x325198(_0x19eb82,this[_0x4aef84(0xa4f)]())&&_0x24ca09(_0x19eb82,this['remoteId'])&&this[_0x4aef84(0x9fa)](_0x19eb82);});this['dataUnsubscribers']['set'](_0x20b5ec[_0x2d05d3(0x45b)](),_0x4f6fee);break;}case _0x12ff66[_0x2d05d3(0x66a)][_0x2d05d3(0x1b7)]:{const _0x1402ca=_0x20b5ec['subscribe'](({content:_0x3b9243})=>{const _0x14c5be=_0x2d05d3;switch(_0x3b9243[_0x14c5be(0x1b2)]){case _0x1fc827[_0x14c5be(0x5b1)]:this['addTrack'](_0x3b9243[_0x14c5be(0x564)],_0x3b9243['stream'],_0x3b9243[_0x14c5be(0x3bc)],_0x3b9243[_0x14c5be(0x25d)]);break;case _0x1fc827[_0x14c5be(0x601)]:this[_0x14c5be(0x63f)](_0x3b9243[_0x14c5be(0x564)],_0x3b9243[_0x14c5be(0xa21)]);break;case _0x1fc827[_0x14c5be(0x8ab)]:_0x3b9243[_0x14c5be(0x3bc)]&&this[_0x14c5be(0x84b)](_0x3b9243[_0x14c5be(0xa21)],_0x3b9243[_0x14c5be(0x3bc)]),_0x3b9243[_0x14c5be(0x25d)]&&this[_0x14c5be(0x972)](_0x3b9243[_0x14c5be(0xa21)],_0x3b9243['params']);}});this[_0x2d05d3(0x291)][_0x2d05d3(0x5f0)](_0x20b5ec['getLabel'](),_0x1402ca);break;}}}[_0x178721(0x7dd)](_0xa45a1){const _0x14b849=_0x178721;switch(_0xa45a1['getContentType']()){case _0x12ff66[_0x14b849(0x66a)]['Data']:case _0x12ff66[_0x14b849(0x66a)][_0x14b849(0x5f4)]:case _0x12ff66[_0x14b849(0x66a)][_0x14b849(0x185)]:case _0x12ff66['ContentType'][_0x14b849(0x6b6)]:case _0x12ff66[_0x14b849(0x66a)][_0x14b849(0x550)]:case _0x12ff66[_0x14b849(0x66a)][_0x14b849(0x262)]:case _0x12ff66[_0x14b849(0x66a)][_0x14b849(0x252)]:case _0x12ff66['ContentType']['ExternalStorage']:this[_0x14b849(0x4f5)]['get'](_0xa45a1[_0x14b849(0x45b)]())?.(),this[_0x14b849(0x4f5)]['delete'](_0xa45a1[_0x14b849(0x45b)]());break;case _0x12ff66[_0x14b849(0x66a)][_0x14b849(0x1b7)]:this[_0x14b849(0x291)]['get'](_0xa45a1[_0x14b849(0x45b)]())?.(),this['mediaUnsubscribers'][_0x14b849(0xa66)](_0xa45a1[_0x14b849(0x45b)]());}}[_0x178721(0x2e7)](){const _0x3e4662=_0x178721;return[_0x12ff66[_0x3e4662(0x66a)]['Data'],_0x12ff66[_0x3e4662(0x66a)][_0x3e4662(0x1b7)],_0x12ff66['ContentType'][_0x3e4662(0x5f4)],_0x12ff66[_0x3e4662(0x66a)][_0x3e4662(0x185)],_0x12ff66['ContentType'][_0x3e4662(0x6b6)],_0x12ff66[_0x3e4662(0x66a)]['Job'],_0x12ff66['ContentType'][_0x3e4662(0x262)],_0x12ff66[_0x3e4662(0x66a)][_0x3e4662(0x252)],_0x12ff66[_0x3e4662(0x66a)][_0x3e4662(0x1c6)]];}[_0x178721(0x7f7)](_0x3fdc5d){this['systemTopic']=_0x3fdc5d;}[_0x178721(0x1ae)](){const _0x1dffdc=_0x178721;delete this[_0x1dffdc(0x87d)];}async[_0x178721(0x2d9)](){const _0xcb6c10=_0x178721;this[_0xcb6c10(0x306)](),await this[_0xcb6c10(0x3e8)]();}[_0x178721(0x3d8)](){const _0xaa811e=_0x178721;this['listenerUnsubscribers'][_0xaa811e(0x2cb)](_0x554f87=>_0x554f87()),this[_0xaa811e(0x41a)]=[],this[_0xaa811e(0x1e5)]?.['unregisterSystemPublisher'](),this[_0xaa811e(0x1e5)]?.[_0xaa811e(0x3d8)](),delete this['senderConnection'],this[_0xaa811e(0x42b)][_0xaa811e(0x2cb)](_0x7601b1=>_0x7601b1()),this[_0xaa811e(0x42b)]=[],this[_0xaa811e(0x75e)]?.[_0xaa811e(0x1ae)](),this[_0xaa811e(0x75e)]?.[_0xaa811e(0x3d8)](),delete this[_0xaa811e(0x75e)];}[_0x178721(0x1e9)](){const _0x43526f=_0x178721;return this['senderConnection']?.[_0x43526f(0x1e9)]()&&this['receiverConnection']?.[_0x43526f(0x1e9)]()||!0x1;}[_0x178721(0x9fa)](_0x1cb678){const _0x166bd9=_0x178721;if(!this[_0x166bd9(0x1e5)]||!this['isConnected']())throw new _0x5953b5(_0x5953b5[_0x166bd9(0x913)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x166bd9(0x1e5)]?.['isConnected'](),'receiverConnected':this[_0x166bd9(0x75e)]?.[_0x166bd9(0x1e9)](),'localId':this['getLocalId'](),'remoteId':this['remoteId'],'data':_0x1cb678});this[_0x166bd9(0x1e5)][_0x166bd9(0x9fa)](_0x1cb678);}[_0x178721(0x522)](_0x5bcd27){const _0x3aef47=_0x178721;return this[_0x3aef47(0x5b8)][_0x3aef47(0x1c5)](_0x5bcd27);}['onTrack'](_0x1b1273){const _0x542800=_0x178721;return this[_0x542800(0x85a)][_0x542800(0x1c5)](({track:_0x2e3bfd,stream:_0x439cba})=>_0x1b1273(_0x2e3bfd,_0x439cba));}[_0x178721(0x4c2)](_0xdabb03){const _0x31ba09=_0x178721;return this[_0x31ba09(0x74e)][_0x31ba09(0x1c5)](({track:_0x218025,stream:_0x64a431})=>_0xdabb03(_0x218025,_0x64a431));}[_0x178721(0x6a3)](_0xc270ff,_0x6d8b53,_0x1a832a,_0x4c3f0f){const _0x46c588=_0x178721;this[_0x46c588(0x1e5)]?.[_0x46c588(0x6a3)](_0xc270ff,_0x6d8b53,_0x1a832a,_0x4c3f0f);}[_0x178721(0x84b)](_0x3b72b8,_0x53ba8b){const _0x4a2975=_0x178721;this[_0x4a2975(0x1e5)]?.[_0x4a2975(0x84b)](_0x3b72b8,_0x53ba8b);}[_0x178721(0x972)](_0x1eb2f1,_0x3c970e){const _0x3d9b26=_0x178721;this[_0x3d9b26(0x1e5)]?.['setParams'](_0x1eb2f1,_0x3c970e);}[_0x178721(0x63f)](_0x22a652,_0x21f0c7){const _0x3c4be9=_0x178721;this[_0x3c4be9(0x1e5)]?.[_0x3c4be9(0x63f)](_0x22a652,_0x21f0c7);}async[_0x178721(0x327)](_0x149389){const _0xd087f8=_0x178721;_0x4826cd[_0xd087f8(0x51c)](_0x312d1f[_0xd087f8(0xa64)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0xd087f8(0xa4f)](),_0x149389);const {content:_0x1448a7}=_0x149389;switch(_0x1448a7[_0xd087f8(0x43f)]){case _0x26b257[_0xd087f8(0x310)]:await this[_0xd087f8(0x1ab)](_0x1448a7);break;case _0x26b257[_0xd087f8(0x710)]:await this[_0xd087f8(0x76f)](_0x1448a7);break;case _0x26b257[_0xd087f8(0x89c)]:this[_0xd087f8(0x192)]();break;case _0x26b257[_0xd087f8(0x573)]:await this[_0xd087f8(0x604)](_0x1448a7);break;case _0x26b257['NeedRestart']:this[_0xd087f8(0x823)](_0x1448a7);break;case _0x26b257[_0xd087f8(0x509)]:await this[_0xd087f8(0x3e8)]();}}[_0x178721(0x886)](_0x519f31){const _0x55f0d6=_0x178721;this['senderConnection']?.[_0x55f0d6(0x727)](_0x519f31[_0x55f0d6(0x855)]['data']);}[_0x178721(0x61d)](){const _0x460482=_0x178721;return this[_0x460482(0x4cf)];}[_0x178721(0x403)](_0x10c654){const _0x58214d=_0x178721;this[_0x58214d(0x4cf)]=_0x10c654,this[_0x58214d(0x1e5)]?.[_0x58214d(0x403)](_0x10c654),this['receiverConnection']?.[_0x58214d(0x403)](_0x10c654);}async['collectStats'](){const _0x1c6d5f=_0x178721;await this[_0x1c6d5f(0x1e5)]?.[_0x1c6d5f(0x487)](),await this[_0x1c6d5f(0x75e)]?.[_0x1c6d5f(0x487)]();}[_0x178721(0x810)](){const _0x2a608b=_0x178721;return this[_0x2a608b(0x1e5)]?.[_0x2a608b(0x810)]()??0x0;}['getBufferedAmount'](){const _0x18a8cf=_0x178721;return this['senderConnection']?.[_0x18a8cf(0x7f3)]()??0x0;}[_0x178721(0x306)](){const _0x29519d=_0x178721;this[_0x29519d(0x41a)][_0x29519d(0x77b)](this['onMessage'](_0x5ef424=>{const _0x717a19=_0x29519d;_0x24ca09(_0x5ef424,this[_0x717a19(0xa4f)]())&&0x0!==_0x5ef424[_0x717a19(0x614)]&&this[_0x717a19(0x1cf)][_0x717a19(0x603)](_0x5ef424[_0x717a19(0x614)])?.[_0x717a19(0xa83)](_0x5ef424);})),this['listenerUnsubscribers'][_0x29519d(0x77b)](this[_0x29519d(0x470)]((_0x163393,_0x434e79)=>{const _0x4e500c=_0x29519d,_0x497c85=_0x54e9cc(_0x12ff66[_0x4e500c(0x66a)][_0x4e500c(0x1b7)],_0x434e79['id'],this[_0x4e500c(0xa40)]);this[_0x4e500c(0x3a0)][_0x4e500c(0x603)](_0x497c85)?.[_0x4e500c(0xa83)]({'topicLabel':_0x497c85,'sourceId':this[_0x4e500c(0xa40)],'contentType':_0x12ff66['ContentType'][_0x4e500c(0x1b7)],'content':{'action':_0x1fc827[_0x4e500c(0x9c4)],'track':_0x163393,'stream':_0x434e79,'providerId':this[_0x4e500c(0xa40)]}});})),this[_0x29519d(0x41a)][_0x29519d(0x77b)](this[_0x29519d(0x4c2)]((_0x406444,_0x574a02)=>{const _0x333300=_0x29519d,_0x5d0477=_0x54e9cc(_0x12ff66['ContentType'][_0x333300(0x1b7)],_0x574a02['id'],this[_0x333300(0xa40)]);this['mediaTopics'][_0x333300(0x603)](_0x5d0477)?.[_0x333300(0xa83)]({'topicLabel':_0x5d0477,'sourceId':this[_0x333300(0xa40)],'contentType':_0x12ff66[_0x333300(0x66a)]['Media'],'content':{'action':_0x1fc827[_0x333300(0x8c1)],'track':_0x406444,'stream':_0x574a02,'providerId':this['remoteId']}});}));}[_0x178721(0x604)]({candidates:_0x25de2f,origin:_0x5eff3f,version:_0x3e144e}){const _0x51e20b=_0x178721;return _0x5eff3f===_0x5a0536[_0x51e20b(0x2d5)]?(this[_0x51e20b(0x75e)]||this[_0x51e20b(0x1b1)](),this[_0x51e20b(0x75e)][_0x51e20b(0x4dd)](_0x25de2f,_0x3e144e)):this[_0x51e20b(0x1e5)][_0x51e20b(0x4dd)](_0x25de2f,_0x3e144e);}async['createOffer'](){const _0x3993a1=_0x178721;this[_0x3993a1(0x1e5)]||this[_0x3993a1(0x80b)](),await this[_0x3993a1(0x1e5)][_0x3993a1(0x3e8)]();}async[_0x178721(0x1ab)]({offer:_0xcef562,version:_0x487b1f}){const _0x15025e=_0x178721;this[_0x15025e(0x75e)]||this[_0x15025e(0x1b1)](),await this[_0x15025e(0x75e)][_0x15025e(0x1ab)](_0xcef562,_0x487b1f);}async['handleAnswer']({answer:_0x3f6348,version:_0x34b899}){const _0x92bfe7=_0x178721;if(!this[_0x92bfe7(0x1e5)])throw new _0x5953b5(_0x5953b5[_0x92bfe7(0x913)][_0x92bfe7(0x22f)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x92bfe7(0xa4f)](),'remoteId':this['remoteId'],'answer':_0x3f6348});await this['senderConnection'][_0x92bfe7(0x76f)](_0x3f6348,_0x34b899);}[_0x178721(0x192)](){const _0x1f01cf=_0x178721;if(!this[_0x1f01cf(0x75e)])throw new _0x5953b5(_0x5953b5['codes'][_0x1f01cf(0x22f)],{'message':_0x1f01cf(0x5e1),'localId':this[_0x1f01cf(0xa4f)](),'remoteId':this['remoteId']});this['receiverConnection'][_0x1f01cf(0x192)](),this[_0x1f01cf(0x8fb)]||this['connectionType']!==_0x36f35b[_0x1f01cf(0x4f2)]||(this[_0x1f01cf(0x8fb)]=!0x0,this[_0x1f01cf(0x87d)]?.[_0x1f01cf(0xa83)]({'sourceId':this[_0x1f01cf(0xa40)],'destinationIds':[this[_0x1f01cf(0xa4f)]()],'messageType':_0x51ac98[_0x1f01cf(0x34e)],'content':{'type':_0x26b257[_0x1f01cf(0x746)]}}));}[_0x178721(0x823)](_0x33eb10){const _0x491eac=_0x178721;this[_0x491eac(0x75e)]||this['createReceiverConnection'](),this[_0x491eac(0x75e)]['handleNeedRestart'](_0x33eb10['version']);}[_0x178721(0x80b)](){const _0xb65d0=_0x178721;this[_0xb65d0(0x1e5)]=new _0x570365(this[_0xb65d0(0x494)],this[_0xb65d0(0x31a)],this[_0xb65d0(0xa40)],this[_0xb65d0(0x534)],this[_0xb65d0(0x4cf)],this['maxFps'],this[_0xb65d0(0x32d)],this['connectionConstructor']),this[_0xb65d0(0x1e5)]['registerSystemPublisher'](this[_0xb65d0(0x87d)]);}[_0x178721(0x1b1)](){const _0x21d179=_0x178721;this[_0x21d179(0x75e)]=new _0x1c0a09(this['clusterId'],this['localNode'],this[_0x21d179(0xa40)],this['iceServers'],this[_0x21d179(0x4cf)],this[_0x21d179(0x864)]),this[_0x21d179(0x75e)][_0x21d179(0x7f7)](this[_0x21d179(0x87d)]),this['receiverUnsubscribers'][_0x21d179(0x77b)](this['receiverConnection'][_0x21d179(0x522)](_0x384c66=>this[_0x21d179(0x5b8)]['publish'](_0x384c66))),this['receiverUnsubscribers'][_0x21d179(0x77b)](this[_0x21d179(0x75e)][_0x21d179(0x470)]((_0x4483b5,_0x114a29)=>this['trackListeners']['publish']({'track':_0x4483b5,'stream':_0x114a29}))),this['receiverUnsubscribers'][_0x21d179(0x77b)](this[_0x21d179(0x75e)][_0x21d179(0x4c2)]((_0x43a0af,_0x5288ac)=>this[_0x21d179(0x74e)][_0x21d179(0xa83)]({'track':_0x43a0af,'stream':_0x5288ac})));}}class _0x6e7e0{[_0x178721(0x2e9)];['messageBuffer'];[_0x178721(0x357)];['connections']=new Map();['messageListeners']=_0x1e0d9a();[_0x178721(0x80e)];[_0x178721(0x1cf)]=new Map();[_0x178721(0x4f5)]=new Map();[_0x178721(0x9d7)]=new Map();constructor(_0xfc84ba,_0x1674b9,_0x2e1143){const _0x67d9fd=_0x178721;this['localId']=_0xfc84ba,this[_0x67d9fd(0x40b)]=_0x1674b9,this[_0x67d9fd(0x357)]=_0x2e1143,this[_0x67d9fd(0x80e)]=this[_0x67d9fd(0x522)](_0x2ae60a=>{const _0x163ca0=_0x67d9fd;this[_0x163ca0(0x40b)][_0x163ca0(0x813)](_0x2ae60a[_0x163ca0(0x61e)])||(_0x24ca09(_0x2ae60a,this[_0x163ca0(0x2e9)])&&0x0!==_0x2ae60a[_0x163ca0(0x614)]&&(this[_0x163ca0(0x40b)][_0x163ca0(0x776)](_0x2ae60a[_0x163ca0(0x61e)]),this[_0x163ca0(0x1cf)][_0x163ca0(0x603)](_0x2ae60a[_0x163ca0(0x614)])?.[_0x163ca0(0xa83)](_0x2ae60a)),_0x2ae60a[_0x163ca0(0x425)]&&this[_0x163ca0(0x9fa)](_0x2ae60a));});}[_0x178721(0x3d8)](){const _0x35bbe7=_0x178721;this[_0x35bbe7(0x80e)]?.();}['addConnection'](_0x1db26a){const _0x242467=_0x178721,_0x3f4699=_0x1db26a[_0x242467(0x522)](_0x2616fc=>{const _0x4f99ab=_0x242467;this[_0x4f99ab(0x5b8)][_0x4f99ab(0xa83)](_0x2616fc);});this[_0x242467(0x3fb)]['set'](_0x1db26a,_0x3f4699),this['retryQueues'][_0x242467(0x5f0)](_0x1db26a[_0x242467(0x927)](),function(_0x4bf9f6,_0x177d0d=!0x1){let _0x1c2bd5=new Map();const _0xec00c7=_0x3a4aeb(_0x4bf9f6,_0x177d0d,function(_0x50d46c){const _0x429c63=a0_0x5e71;_0x216d6f(_0x50d46c)&&_0x1c2bd5[_0x429c63(0xa66)](_0x50d46c['sourceId']+'-'+(_0x50d46c[_0x429c63(0x9a0)]??[])+'-'+_0x50d46c[_0x429c63(0x751)]+'-'+_0x50d46c['content'][_0x429c63(0x43f)]);},function(_0x4253d6){return!!function(_0x84bfd){const _0x5824b0=a0_0x5e71,_0x2bcaf9=_0x84bfd[_0x5824b0(0x54a)];if(!_0x216d6f(_0x2bcaf9))return!0x1;const _0x3fa5ac=_0x2bcaf9['sourceId']+'-'+(_0x2bcaf9[_0x5824b0(0x9a0)]??[])+'-'+_0x2bcaf9[_0x5824b0(0x751)]+'-'+_0x2bcaf9[_0x5824b0(0x855)][_0x5824b0(0x43f)],_0x332707={'version':_0x2bcaf9['content'][_0x5824b0(0x792)],'element':_0x84bfd},_0x4d570e=_0x1c2bd5[_0x5824b0(0x603)](_0x3fa5ac);return _0x4d570e?(_0x4d570e[_0x5824b0(0x792)]>=_0x2bcaf9[_0x5824b0(0x855)][_0x5824b0(0x792)]||(_0x4d570e[_0x5824b0(0x779)]['previous']&&(_0x4d570e[_0x5824b0(0x779)][_0x5824b0(0x651)][_0x5824b0(0x1a6)]=_0x84bfd,_0x84bfd[_0x5824b0(0x651)]=_0x4d570e[_0x5824b0(0x779)][_0x5824b0(0x651)]),_0x4d570e['element'][_0x5824b0(0x1a6)]&&(_0x4d570e[_0x5824b0(0x779)][_0x5824b0(0x1a6)][_0x5824b0(0x651)]=_0x84bfd,_0x84bfd[_0x5824b0(0x1a6)]=_0x4d570e[_0x5824b0(0x779)][_0x5824b0(0x1a6)]),_0x4d570e[_0x5824b0(0x779)]===_0xec00c7['head']&&(_0xec00c7[_0x5824b0(0x8df)]=_0x84bfd),_0x4d570e[_0x5824b0(0x779)]===_0xec00c7[_0x5824b0(0x596)]&&(_0xec00c7['tail']=_0x84bfd),_0x1c2bd5[_0x5824b0(0x5f0)](_0x3fa5ac,_0x332707)),!0x0):(_0x1c2bd5[_0x5824b0(0x5f0)](_0x3fa5ac,_0x332707),!0x1);}(_0x4253d6);},function(){const _0x5a165e=a0_0x5e71;_0x1c2bd5[_0x5a165e(0x6f1)]();});function _0x216d6f(_0x505884){const _0x4cb021=a0_0x5e71;if(_0x505884&&_0x4cb021(0x237)==typeof _0x505884&&_0x505884[_0x4cb021(0x374)]('content')&&_0x505884[_0x4cb021(0x374)](_0x4cb021(0x751))&&_0x505884[_0x4cb021(0x374)](_0x4cb021(0x8d8))){const _0x29ac72=_0x505884;if(_0x29ac72[_0x4cb021(0x855)]&&'object'==typeof _0x29ac72[_0x4cb021(0x855)]&&_0x29ac72[_0x4cb021(0x855)][_0x4cb021(0x374)]('version')&&_0x29ac72[_0x4cb021(0x855)][_0x4cb021(0x374)](_0x4cb021(0x43f)))return!0x0;}return!0x1;}return _0xec00c7;}(new _0x491b08(_0x405fb0=>_0x1db26a['send'](_0x405fb0),()=>_0x387a0b[_0x242467(0x977)](0x64))));}[_0x178721(0x542)](_0x1294cf){const _0x4334aa=_0x178721;this[_0x4334aa(0x3fb)][_0x4334aa(0x603)](_0x1294cf)?.(),this[_0x4334aa(0x3fb)][_0x4334aa(0xa66)](_0x1294cf),this[_0x4334aa(0x9d7)][_0x4334aa(0x603)](_0x1294cf[_0x4334aa(0x927)]())?.['clear'](),this['retryQueues'][_0x4334aa(0xa66)](_0x1294cf[_0x4334aa(0x927)]());}[_0x178721(0x1e9)](_0x53c503){const _0x1b8478=_0x178721;return _0x4826cd[_0x1b8478(0x51c)](_0x312d1f[_0x1b8478(0x317)],_0x1b8478(0x6fd),this[_0x1b8478(0x2e9)],this[_0x1b8478(0x3fb)][_0x1b8478(0x89f)]()),0x0!==this[_0x1b8478(0x3fb)][_0x1b8478(0x3e6)]&&(Array[_0x1b8478(0x3ac)](this[_0x1b8478(0x3fb)]['keys']())[_0x1b8478(0x940)](_0x4187f9=>_0x4187f9[_0x1b8478(0x927)]()===_0x53c503)?.[_0x1b8478(0x1e9)]()??!0x1);}['registerPublisher'](_0x5625a3){const _0x53d84e=_0x178721;this[_0x53d84e(0x1cf)][_0x53d84e(0x5f0)](_0x5625a3[_0x53d84e(0x45b)](),_0x5625a3);}[_0x178721(0x721)](_0x2904e2){const _0x52f7e1=_0x178721;this['dataTopics'][_0x52f7e1(0xa66)](_0x2904e2['getLabel']());}['registerSubscriber'](_0x301ff4){const _0x17831c=_0x178721,_0x156d27=_0x301ff4[_0x17831c(0x1c5)](this[_0x17831c(0x9fa)][_0x17831c(0x428)](this));this[_0x17831c(0x4f5)][_0x17831c(0x5f0)](_0x301ff4[_0x17831c(0x45b)](),_0x156d27);}['unregisterSubscriber'](_0xf8aedf){const _0x49b7ad=_0x178721;this[_0x49b7ad(0x4f5)][_0x49b7ad(0x603)](_0xf8aedf[_0x49b7ad(0x45b)]())?.(),this[_0x49b7ad(0x4f5)][_0x49b7ad(0xa66)](_0xf8aedf[_0x49b7ad(0x45b)]());}['getSupportedContentTypes'](){const _0x314758=_0x178721;return[_0x12ff66['ContentType'][_0x314758(0xa4a)],_0x12ff66[_0x314758(0x66a)][_0x314758(0x5f4)],_0x12ff66[_0x314758(0x66a)][_0x314758(0x185)],_0x12ff66[_0x314758(0x66a)]['KeyValueDatabase'],_0x12ff66[_0x314758(0x66a)]['Job'],_0x12ff66[_0x314758(0x66a)][_0x314758(0x262)],_0x12ff66['ContentType'][_0x314758(0x252)],_0x12ff66[_0x314758(0x66a)][_0x314758(0x1c6)]];}[_0x178721(0x9fa)](_0x5e4e0e){const _0x3bad60=_0x178721;if(!0x1===_0x5e4e0e[_0x3bad60(0x191)]){if(_0x5e4e0e[_0x3bad60(0x425)]||!_0x5e4e0e['destinationIds']||0x1!==_0x5e4e0e[_0x3bad60(0x9a0)]['length'])throw new _0x5953b5(_0x5953b5['codes'][_0x3bad60(0x28f)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x3bad60(0x2e9)]});if(!this['isConnected'](_0x5e4e0e[_0x3bad60(0x9a0)][0x0]))throw new _0x454d90(_0x3bad60(0x34c));}const _0x36a12d=_0x5e4e0e[_0x3bad60(0x637)]??[];try{const {filteredDestinationIds:_0x563d6b,extendedRecipients:_0x5b9292}=this[_0x3bad60(0x624)](_0x5e4e0e,_0x36a12d);_0x5e4e0e[_0x3bad60(0x9a0)]=_0x563d6b,_0x5e4e0e[_0x3bad60(0x637)]=_0x5b9292;}catch(_0x1bcf7c){if(_0x1bcf7c instanceof _0x454d90)return void _0x4826cd[_0x3bad60(0x51c)](_0x312d1f['Connection'],_0x3bad60(0x195),_0x3bad60(0x918),_0x5e4e0e,_0x1bcf7c['message']);}const _0x492c9c=this[_0x3bad60(0x8a0)](_0x5e4e0e);this[_0x3bad60(0x5d9)](_0x5e4e0e,_0x492c9c),_0x5e4e0e['propagate']=_0x492c9c;const _0x425bf0=this['getConnectionDestinations'](_0x5e4e0e,_0x36a12d);for(const _0x1962a2 of _0x425bf0){const _0x1d3b24=this[_0x3bad60(0x9d7)][_0x3bad60(0x603)](_0x1962a2[_0x3bad60(0x927)]());if(!_0x1d3b24)throw new _0x5953b5(_0x5953b5[_0x3bad60(0x913)]['ConnectionNoRetryQueue'],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this['localId'],'remoteId':_0x1962a2[_0x3bad60(0x927)](),'data':_0x5e4e0e});_0x1d3b24['push'](_0x5e4e0e);}}[_0x178721(0x927)](){return'';}[_0x178721(0xa4f)](){const _0x379657=_0x178721;return this[_0x379657(0x2e9)];}[_0x178721(0x522)](_0x3f5003){const _0x414da9=_0x178721;return this[_0x414da9(0x5b8)]['subscribe'](_0x3f5003);}[_0x178721(0x624)](_0x2e7f1c,_0x2b9a04){const _0x4f8624=_0x178721,_0x15ad7={'filteredDestinationIds':_0x2e7f1c['destinationIds'],'extendedRecipients':_0x2e7f1c['recipients']};if(!_0x2e7f1c['propagate'])return _0x15ad7;const _0xc83b71=Array[_0x4f8624(0x3ac)](this['connections'][_0x4f8624(0x89f)]())[_0x4f8624(0x434)](_0x39570c=>_0x39570c[_0x4f8624(0x61d)]()===_0x36f35b[_0x4f8624(0x591)]||_0x39570c[_0x4f8624(0x1e9)]())[_0x4f8624(0x7df)](_0x1032bb=>_0x1032bb[_0x4f8624(0x927)]());if(_0xc83b71[_0x4f8624(0x41b)]((_0xe91d6b,_0x572286)=>_0xe91d6b&&_0x2e7f1c['recipients']['includes'](_0x572286),!0x0))throw new _0x454d90(_0x4f8624(0x445));if(_0x2e7f1c[_0x4f8624(0x9a0)]){const _0x1e59a2=_0x2e7f1c[_0x4f8624(0x9a0)][_0x4f8624(0x434)](_0x70e70=>_0x70e70!==this[_0x4f8624(0x2e9)]&&!_0x2e7f1c[_0x4f8624(0x637)][_0x4f8624(0x31d)](_0x70e70));if(0x0===_0x1e59a2[_0x4f8624(0x3f4)])throw new _0x454d90('No\x20destinationIds\x20left');_0x15ad7[_0x4f8624(0x463)]=_0x1e59a2;}return _0x15ad7[_0x4f8624(0x234)]=[...new Set([..._0x2b9a04,..._0xc83b71,this[_0x4f8624(0x2e9)]])],_0x15ad7;}['logPropagateSystemEvent'](_0x16a010,_0x2574ca=!0x1){const _0x4e2de5=_0x178721;if(0x0===_0x16a010[_0x4e2de5(0x614)]&&!_0x325198(_0x16a010,this[_0x4e2de5(0x2e9)])&&_0x16a010['propagate']){const _0x1a97ba=_0x240304(_0x16a010,this[_0x4e2de5(0x2e9)]);_0x4826cd[_0x4e2de5(0x361)](_0x312d1f[_0x4e2de5(0x692)],_0x16a010[_0x4e2de5(0x61e)]+_0x4e2de5(0x934)+_0x2574ca+')\x20'+_0x1a97ba,_0x16a010,_0x2574ca);}}[_0x178721(0x8a0)](_0x11f145){const _0x3a9a48=_0x178721;if(_0x11f145[_0x3a9a48(0x9a0)]&&_0x11f145['propagate']){const _0x4fd990=Array[_0x3a9a48(0x3ac)](this['connections']['keys']())[_0x3a9a48(0x434)](_0x3b4313=>_0x3b4313[_0x3a9a48(0x61d)]()===_0x36f35b[_0x3a9a48(0x591)]||_0x3b4313[_0x3a9a48(0x1e9)]())[_0x3a9a48(0x7df)](_0x2c59e2=>_0x2c59e2[_0x3a9a48(0x927)]());return!_0x11f145[_0x3a9a48(0x9a0)][_0x3a9a48(0x41b)]((_0x331a26,_0xa0688d)=>_0x331a26&&_0x4fd990[_0x3a9a48(0x31d)](_0xa0688d),!0x0);}return _0x11f145[_0x3a9a48(0x425)]??!0x1;}[_0x178721(0x87f)](_0x2e7454,_0x332bef){const _0x4a8c33=_0x178721;if(_0x2e7454['propagate']&&_0x2e7454[_0x4a8c33(0x9a0)]){const _0x5b4dd5=Array['from'](this['connections'][_0x4a8c33(0x89f)]())[_0x4a8c33(0x434)](_0x325d37=>_0x325d37[_0x4a8c33(0x61d)]()===_0x36f35b[_0x4a8c33(0x591)]||_0x325d37[_0x4a8c33(0x1e9)]())[_0x4a8c33(0x7df)](_0x473802=>_0x473802[_0x4a8c33(0x927)]()),_0x3228e5=new Set(),_0xeedc3a=_0x2e7454['sourceId']===this[_0x4a8c33(0x2e9)]?0x3:0x1;return _0x2e7454[_0x4a8c33(0x9a0)][_0x4a8c33(0x2cb)](_0x1c3aeb=>{const _0xa35c15=_0x4a8c33,_0x3c40d3=this[_0xa35c15(0x357)][_0xa35c15(0x847)](_0x5b4dd5,_0x1c3aeb);let _0x5db12b=0x0,_0x3972ab=0x0;_0x3c40d3['forEach'](_0x41222b=>{const _0x186ea2=_0xa35c15;if(_0x5db12b>=_0xeedc3a)return;const _0x20c674=Array[_0x186ea2(0x3ac)](this[_0x186ea2(0x3fb)][_0x186ea2(0x89f)]())[_0x186ea2(0x940)](_0x31a811=>_0x31a811[_0x186ea2(0x927)]()===_0x41222b);if(_0x20c674){if(_0x20c674['getConnectionType']()===_0x36f35b[_0x186ea2(0x591)]&&_0x3972ab>0x0)return void(_0x3972ab-=0x1);_0x3228e5['add'](_0x20c674),_0x20c674[_0x186ea2(0x61d)]()===_0x36f35b[_0x186ea2(0x4f2)]&&(_0x3972ab+=0x1),_0x5db12b+=0x1;}});}),Array['from'](_0x3228e5);}return Array[_0x4a8c33(0x3ac)](this['connections'][_0x4a8c33(0x89f)]())[_0x4a8c33(0x434)](_0x335fc3=>{const _0x3d02be=_0x4a8c33;return _0x28f711=_0x335fc3[_0x3d02be(0x927)](),!_0x332bef[_0x3d02be(0x31d)](_0x28f711)&&(_0x24ca09(_0x2e7454,_0x28f711)||_0x2e7454[_0x3d02be(0x425)])&&(!_0x2e7454['propagate']||_0x335fc3[_0x3d02be(0x1e9)]()||_0x335fc3[_0x3d02be(0x61d)]()===_0x36f35b[_0x3d02be(0x591)]);var _0x28f711;});}}class _0x4a5dfb{[_0x178721(0x2e9)];[_0x178721(0x40b)];[_0x178721(0x3fb)]=new Map();[_0x178721(0x87d)];constructor(_0x38f8ae,_0x47e6fd){const _0xc27ee6=_0x178721;this[_0xc27ee6(0x2e9)]=_0x38f8ae,this['messageBuffer']=_0x47e6fd;}[_0x178721(0x3d8)](){}[_0x178721(0x9fa)](_0x54b5bb){const _0x4702e6=_0x178721;for(const _0x53e1c5 of this[_0x4702e6(0x3fb)][_0x4702e6(0x89f)]())try{return void _0x53e1c5[_0x4702e6(0x9fa)]({'retry':!0x1,..._0x54b5bb});}catch(_0x3955f5){_0x3955f5 instanceof _0x454d90||_0x4826cd[_0x4702e6(0x51c)](_0x312d1f['Pool'],_0x4702e6(0x6cc)+_0x53e1c5,_0x3955f5,_0x54b5bb);}_0x4826cd[_0x4702e6(0x51c)](_0x312d1f[_0x4702e6(0x748)],_0x4702e6(0x993));}['addConnection'](_0x18ec39){const _0x4759b4=_0x178721,_0xb299b6=_0x18ec39['onMessage'](_0x3ef5cb=>{const _0x281eb5=a0_0x5e71;this[_0x281eb5(0x40b)][_0x281eb5(0x813)](_0x3ef5cb[_0x281eb5(0x61e)])||0x0===_0x3ef5cb[_0x281eb5(0x614)]&&(this[_0x281eb5(0x40b)][_0x281eb5(0x776)](_0x3ef5cb[_0x281eb5(0x61e)]),_0x24ca09(_0x3ef5cb,this['localId'])&&this[_0x281eb5(0x87d)]?.[_0x281eb5(0xa83)](_0x3ef5cb));});this[_0x4759b4(0x3fb)][_0x4759b4(0x5f0)](_0x18ec39,_0xb299b6);}[_0x178721(0x542)](_0x23c6d9){const _0x1c784f=_0x178721;this[_0x1c784f(0x3fb)]['get'](_0x23c6d9)?.(),this[_0x1c784f(0x3fb)][_0x1c784f(0xa66)](_0x23c6d9);}[_0x178721(0xa4f)](){const _0x28b768=_0x178721;return this[_0x28b768(0x2e9)];}[_0x178721(0x927)](){return'';}['getSupportedContentTypes'](){const _0x9295ba=_0x178721;return[_0x12ff66[_0x9295ba(0x66a)]['Data']];}['isConnected'](){const _0x54c502=_0x178721;throw new Error(_0x54c502(0x9dc));}[_0x178721(0x7f7)](_0xad663c){const _0x277024=_0x178721;this[_0x277024(0x87d)]=_0xad663c;}[_0x178721(0x1ae)](){const _0x2a4caf=_0x178721;delete this[_0x2a4caf(0x87d)];}}class _0x184ba9{[_0x178721(0x2f3)]=new Map();[_0x178721(0x86c)];constructor(){const _0x2b5b7e=_0x178721;this[_0x2b5b7e(0x86c)]=_0x387a0b[_0x2b5b7e(0x69a)](()=>{const _0xaa1ff7=_0x2b5b7e;for(const [_0x5562be,_0x5b66a7]of this['buffer']['entries']())Date[_0xaa1ff7(0x2e5)]()-_0x5b66a7>0x124f80&&this[_0xaa1ff7(0x2f3)][_0xaa1ff7(0xa66)](_0x5562be);},0x1d4c0);}[_0x178721(0x3d8)](){this['unsubscribeHandler']();}[_0x178721(0x776)](_0xc7fab4){const _0x1d0de1=_0x178721;this[_0x1d0de1(0x2f3)][_0x1d0de1(0x5f0)](_0xc7fab4,Date['now']());}['hasMessage'](_0x4692ac){const _0x103461=_0x178721;return this[_0x103461(0x2f3)][_0x103461(0x4a6)](_0x4692ac);}}class _0x5141e6{[_0x178721(0x430)];[_0x178721(0x3cf)];[_0x178721(0x534)];[_0x178721(0x668)];[_0x178721(0x3fb)]=new Map();[_0x178721(0x2a8)];[_0x178721(0x189)];['signalingServer'];[_0x178721(0x40b)];constructor(_0x305884,_0x49be16,_0x33d2e5,_0x570f2c,_0xa71cb1){const _0x3429f7=_0x178721;this[_0x3429f7(0x430)]=_0x305884,this[_0x3429f7(0x3cf)]=_0x49be16,this[_0x3429f7(0x534)]=_0x570f2c,this[_0x3429f7(0x668)]=_0xa71cb1,this[_0x3429f7(0x40b)]=new _0x184ba9(),this[_0x3429f7(0x189)]=new _0x6e7e0(this[_0x3429f7(0x430)][_0x3429f7(0x31a)][_0x3429f7(0x78a)](),this['messageBuffer'],_0x33d2e5),this['signalingServer']=new _0x12d56f(this[_0x3429f7(0x430)][_0x3429f7(0x92c)],this['configs']['clusterId'],this[_0x3429f7(0x430)][_0x3429f7(0x31a)],_0x3429f7(0x926),this['authService']),this['connectionPool']=new _0x4a5dfb(this[_0x3429f7(0x430)][_0x3429f7(0x31a)][_0x3429f7(0x78a)](),this[_0x3429f7(0x40b)]),this[_0x3429f7(0x2a8)][_0x3429f7(0x4bc)](this[_0x3429f7(0x189)]),this[_0x3429f7(0x2a8)][_0x3429f7(0x4bc)](this[_0x3429f7(0x9aa)]),this[_0x3429f7(0x430)][_0x3429f7(0x2f0)][_0x3429f7(0x81a)](this['connectionPool']);}[_0x178721(0x3d8)](){const _0x496f9d=_0x178721;this['messageBuffer'][_0x496f9d(0x3d8)](),this['connections'][_0x496f9d(0x2cb)]((_0x5dde74,_0x275177)=>this[_0x496f9d(0x6c4)](_0x275177)),this[_0x496f9d(0x430)]['mediator'][_0x496f9d(0x1e0)](this[_0x496f9d(0x2a8)]),this[_0x496f9d(0x2a8)]['removeConnection'](this[_0x496f9d(0x9aa)]),this[_0x496f9d(0x2a8)]['removeConnection'](this['connectionGroup']),this[_0x496f9d(0x2a8)][_0x496f9d(0x3d8)](),this['signalingServer'][_0x496f9d(0x3d8)](),this[_0x496f9d(0x189)][_0x496f9d(0x3d8)]();}async[_0x178721(0x8cc)](){const _0x3a2a95=_0x178721;await this[_0x3a2a95(0x9aa)]['connect']();}async[_0x178721(0x5fa)](_0xe4bd60,_0x31c23b=_0x36f35b[_0x178721(0x591)]){const _0x4d484b=_0x178721;if(this[_0x4d484b(0x3fb)][_0x4d484b(0x4a6)](_0xe4bd60)){if(this['connections'][_0x4d484b(0x603)](_0xe4bd60)?.[_0x4d484b(0x61d)]()===_0x36f35b[_0x4d484b(0x4f2)]&&_0x31c23b===_0x36f35b[_0x4d484b(0x591)])return void this[_0x4d484b(0x3fb)][_0x4d484b(0x603)](_0xe4bd60)?.['setConnectionType'](_0x36f35b[_0x4d484b(0x591)]);throw new _0x5953b5(_0x5953b5[_0x4d484b(0x913)][_0x4d484b(0x41f)],{'localId':this['configs'][_0x4d484b(0x31a)][_0x4d484b(0x78a)](),'remoteId':_0xe4bd60});}const _0x326e83=new _0x50df3e(this[_0x4d484b(0x430)][_0x4d484b(0x494)],this[_0x4d484b(0x430)][_0x4d484b(0x31a)],_0xe4bd60,this['iceServers'],_0x31c23b,this[_0x4d484b(0x668)][_0x4d484b(0x611)],this[_0x4d484b(0x668)][_0x4d484b(0x32d)],this['options'][_0x4d484b(0x3d6)]);this['connections']['set'](_0xe4bd60,_0x326e83),this[_0x4d484b(0x189)][_0x4d484b(0x4bc)](_0x326e83),this['configs'][_0x4d484b(0x2f0)][_0x4d484b(0x81a)](_0x326e83),this['configs'][_0x4d484b(0x2f0)][_0x4d484b(0xa11)](_0xe4bd60),await _0x326e83[_0x4d484b(0x2d9)]();}[_0x178721(0x9b6)](){const _0x42928b=_0x178721;return this[_0x42928b(0x189)];}[_0x178721(0xa67)](_0x3ee497){const _0x35fbba=_0x178721;if(!this['connections']['has'](_0x3ee497))throw new _0x5953b5(_0x5953b5['codes']['MissingRemoteConnection'],{'localId':this['configs'][_0x35fbba(0x31a)][_0x35fbba(0x78a)](),'remoteId':_0x3ee497});return this[_0x35fbba(0x3fb)]['get'](_0x3ee497);}['getConnections'](_0x415f29){const _0x4bf445=_0x178721,_0x2d7c8b=Array['from'](this['connections'][_0x4bf445(0x9b0)]());return _0x415f29?_0x2d7c8b[_0x4bf445(0x434)](_0x415f29):_0x2d7c8b;}async[_0x178721(0x487)](_0x295766){const _0x59d7be=_0x178721,_0x1f359a=this[_0x59d7be(0x3fb)][_0x59d7be(0x603)](_0x295766);_0x1f359a&&_0x1f359a[_0x59d7be(0x1e9)]()&&await _0x1f359a[_0x59d7be(0x487)]();}[_0x178721(0x30c)](_0x29c775){const _0xcd2162=_0x178721;if(_0x29c775[_0xcd2162(0x751)]!==_0x51ac98[_0xcd2162(0x34e)]||_0x29c775[_0xcd2162(0x425)])try{this[_0xcd2162(0x189)][_0xcd2162(0x9fa)](_0x29c775);}catch(_0x4af14f){if(_0x4af14f instanceof _0x454d90)return;throw _0x4af14f;}else this[_0xcd2162(0x2a8)][_0xcd2162(0x9fa)](_0x29c775);}async['handlePeerConnectionSystemEvents'](_0x4e8c24){const _0x1ac914=_0x178721;switch(_0x4e8c24[_0x1ac914(0x855)][_0x1ac914(0x43f)]){case _0x26b257[_0x1ac914(0x2ac)]:case _0x26b257[_0x1ac914(0x397)]:case _0x26b257[_0x1ac914(0x746)]:return;}if(!_0x4e8c24['destinationIds']||0x1!==_0x4e8c24[_0x1ac914(0x9a0)][_0x1ac914(0x3f4)])throw new _0x5953b5(_0x5953b5['codes'][_0x1ac914(0x2d7)],{'message':_0x1ac914(0x902),'event':_0x4e8c24});if(_0x4e8c24[_0x1ac914(0x9a0)][0x0]!==this[_0x1ac914(0x430)][_0x1ac914(0x31a)]['getId']())throw new _0x5953b5(_0x5953b5['codes']['PeerConnectionInvalidDestination'],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x4e8c24});if(!this[_0x1ac914(0x3fb)]['has'](_0x4e8c24[_0x1ac914(0x8d8)])){let _0xbca5ca=_0x36f35b['Core'];if(!(this[_0x1ac914(0x681)](_0x4e8c24[_0x1ac914(0x855)])||this[_0x1ac914(0x982)](_0x4e8c24[_0x1ac914(0x855)])||this[_0x1ac914(0x872)](_0x4e8c24[_0x1ac914(0x855)])))return;_0xbca5ca=_0x4e8c24[_0x1ac914(0x855)][_0x1ac914(0x4cf)],await this[_0x1ac914(0x5fa)](_0x4e8c24[_0x1ac914(0x8d8)],_0xbca5ca);}const _0x203fee=this[_0x1ac914(0x3fb)][_0x1ac914(0x603)](_0x4e8c24[_0x1ac914(0x8d8)]);await _0x203fee[_0x1ac914(0x327)](_0x4e8c24);}['handleRemediationSystemEvents'](_0x3a7e89){const _0x5e0dc7=_0x178721;if(_0x3a7e89[_0x5e0dc7(0x855)][_0x5e0dc7(0x43f)]===_0x363119[_0x5e0dc7(0x39d)]){if(_0x3a7e89['content']['targetId']===this[_0x5e0dc7(0x430)][_0x5e0dc7(0x31a)][_0x5e0dc7(0x78a)]())return void this[_0x5e0dc7(0x3fb)][_0x5e0dc7(0x2cb)](_0x576b68=>_0x576b68[_0x5e0dc7(0x886)](_0x3a7e89));this[_0x5e0dc7(0x3fb)][_0x5e0dc7(0x603)](_0x3a7e89[_0x5e0dc7(0x855)][_0x5e0dc7(0x3f7)])?.[_0x5e0dc7(0x886)](_0x3a7e89);}}[_0x178721(0x1cb)]({content:_0x3470ce}){const _0x2f70d3=_0x178721;_0x3470ce['type']===_0x19f484['NodeLeave']&&this[_0x2f70d3(0x6c4)](_0x3470ce['id']);}[_0x178721(0x9a6)](){const _0x1a8c0b=_0x178721,_0x10d552=Array[_0x1a8c0b(0x3ac)](this[_0x1a8c0b(0x3fb)][_0x1a8c0b(0x9b0)]())[_0x1a8c0b(0x41b)]((_0x27385e,_0x496645)=>_0x27385e+_0x496645[_0x1a8c0b(0x810)](),0x0);return _0x10d552<_0x182a2a?Promise[_0x1a8c0b(0x87e)](_0x10d552):new Promise(_0x2376f4=>{const _0x4b8ab3=setInterval(()=>{const _0xd050e1=a0_0x5e71,_0x21c523=Array['from'](this['connections'][_0xd050e1(0x9b0)]())[_0xd050e1(0x41b)]((_0x5946d7,_0x306743)=>_0x5946d7+_0x306743[_0xd050e1(0x810)](),0x0);_0x21c523<_0x182a2a&&(clearInterval(_0x4b8ab3),_0x2376f4(_0x21c523));},0x3e8);});}[_0x178721(0x466)](){const _0x4925fe=_0x178721;for(const _0x1cd4e3 of this['connections'][_0x4925fe(0x9b0)]())if(_0x1cd4e3[_0x4925fe(0x7f3)]()>0x0||_0x1cd4e3['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x178721(0x6c4)](_0x4128d0){const _0x1c5315=_0x178721,_0x8eee5c=this[_0x1c5315(0x3fb)][_0x1c5315(0x603)](_0x4128d0);_0x8eee5c&&(this['configs']['mediator'][_0x1c5315(0xaa3)](_0x4128d0),this[_0x1c5315(0x430)][_0x1c5315(0x2f0)][_0x1c5315(0x1e0)](_0x8eee5c),_0x8eee5c instanceof _0x50df3e&&this[_0x1c5315(0x189)][_0x1c5315(0x542)](_0x8eee5c),_0x8eee5c[_0x1c5315(0x3d8)](),this[_0x1c5315(0x3fb)][_0x1c5315(0xa66)](_0x4128d0));}[_0x178721(0x681)](_0x5cf05a){const _0x5ce891=_0x178721;return _0x5cf05a[_0x5ce891(0x43f)]===_0x26b257[_0x5ce891(0x310)];}[_0x178721(0x872)](_0x3c1b9b){const _0x10195e=_0x178721;return _0x3c1b9b[_0x10195e(0x43f)]===_0x26b257['NeedRestart'];}['isIceCandidate'](_0x105922){const _0x1b219a=_0x178721;return _0x105922[_0x1b219a(0x43f)]===_0x26b257[_0x1b219a(0x573)];}}!function(_0x1a7938){const _0x2a3bf8=_0x178721;_0x1a7938[_0x1a7938[_0x2a3bf8(0xa75)]=0x0]=_0x2a3bf8(0xa75),_0x1a7938[_0x1a7938[_0x2a3bf8(0x75d)]=0x1]=_0x2a3bf8(0x75d),_0x1a7938[_0x1a7938[_0x2a3bf8(0x23b)]=0x2]=_0x2a3bf8(0x23b),_0x1a7938[_0x1a7938[_0x2a3bf8(0x47a)]=0x3]=_0x2a3bf8(0x47a),_0x1a7938[_0x1a7938[_0x2a3bf8(0x599)]=0x4]=_0x2a3bf8(0x599),_0x1a7938[_0x1a7938[_0x2a3bf8(0x264)]=0x5]=_0x2a3bf8(0x264),_0x1a7938[_0x1a7938[_0x2a3bf8(0x923)]=0x6]=_0x2a3bf8(0x923),_0x1a7938[_0x1a7938['MediaStreamUnavailable']=0x7]=_0x2a3bf8(0x861);}(_0x5ba570||(_0x5ba570={}));class _0x1af9de extends _0x253fab{[_0x178721(0x31a)];[_0x178721(0x494)];['vendorId'];[_0x178721(0x874)];[_0x178721(0x605)];[_0x178721(0x95a)]=0x0;[_0x178721(0x42c)];[_0x178721(0x6d3)]=_0x1e0d9a();[_0x178721(0x41a)]=new Map();[_0x178721(0x896)];constructor(_0x4b4ec9,_0x344cc2,_0x4f6e2d,_0xf4018f,_0x391629){const _0x2c9385=_0x178721;if(_0x2c9385(0x6a8)!=typeof _0x344cc2)throw new _0x1c9a4(_0x58f0d1[_0x2c9385(0x58e)],_0x2c9385(0x5f7));super(_0x4b4ec9,_0x344cc2),this[_0x2c9385(0x31a)]=_0x4b4ec9,this[_0x2c9385(0x494)]=_0x4f6e2d,this[_0x2c9385(0x92c)]=_0xf4018f,this['connectorConstructor']=_0x391629,this[_0x2c9385(0x88e)]();}['destroy'](){const _0x5890f8=_0x178721;this['changesUnsubscriber']?.(),this['listenerUnsubscribers'][_0x5890f8(0x2cb)](_0x4d431e=>_0x4d431e()),clearTimeout(this['debounceStats']),delete this[_0x5890f8(0x605)],super[_0x5890f8(0x4c1)]();}[_0x178721(0x6ea)](){const _0x306dc2=_0x178721;this[_0x306dc2(0x88e)]();}[_0x178721(0x3d8)](){const _0xd5f2f=_0x178721;this[_0xd5f2f(0x87d)]['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d[_0xd5f2f(0x7e0)],'label':this[_0xd5f2f(0x8f4)]}});}[_0x178721(0x79e)](){const _0x3ccf95=_0x178721;return _0x12ff66[_0x3ccf95(0x66a)][_0x3ccf95(0x1c6)];}async[_0x178721(0x603)](_0x290335){const _0xce8309=_0x178721;if(!this['connector'])throw new _0x1c9a4(_0x58f0d1['ExternalStorageConnectorsMissing'],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x4826cd[_0xce8309(0x481)](_0x512f56[_0xce8309(0x1c6)],{'type':_0xce8309(0x603),'label':this[_0xce8309(0x8f4)],'nodeId':this[_0xce8309(0x31a)][_0xce8309(0x78a)](),'nodeType':this[_0xce8309(0x31a)]['type'],'clusterId':this[_0xce8309(0x494)],'path':_0x290335}),this[_0xce8309(0x95a)]+=0x1,this[_0xce8309(0x88e)]();try{return await this[_0xce8309(0x42c)]['get'](_0x290335);}catch(_0x146b70){throw new _0x1c9a4(_0x58f0d1['ExternalStorageInvalidPath'],_0xce8309(0x358)+_0x290335);}}async[_0x178721(0x79a)](_0x1b9b3a,_0x47a6dc){const _0xf3c5fd=_0x178721;if(!this[_0xf3c5fd(0x42c)])throw new _0x1c9a4(_0x58f0d1[_0xf3c5fd(0x642)],_0xf3c5fd(0x593));const {recursive:_0x1c2059=!0x1}=_0x47a6dc??{};_0x4826cd[_0xf3c5fd(0x481)](_0x512f56[_0xf3c5fd(0x1c6)],{'type':_0xf3c5fd(0x79a),'label':this[_0xf3c5fd(0x8f4)],'nodeId':this[_0xf3c5fd(0x31a)][_0xf3c5fd(0x78a)](),'nodeType':this[_0xf3c5fd(0x31a)][_0xf3c5fd(0x43f)],'clusterId':this[_0xf3c5fd(0x494)],'path':_0x1b9b3a}),this['reads']+=0x1,this[_0xf3c5fd(0x88e)]();try{return await this[_0xf3c5fd(0x42c)][_0xf3c5fd(0x79a)](_0x1b9b3a,_0x1c2059);}catch(_0x381d7c){throw new _0x1c9a4(_0x58f0d1[_0xf3c5fd(0x988)],'Cannot\x20list\x20directory:\x20'+_0x1b9b3a);}}[_0x178721(0x1c5)](_0xd91e5b,_0x494f6d){const _0x287846=_0x178721;if(this['listenerUnsubscribers'][_0x287846(0x4a6)](_0xd91e5b))throw new _0x1c9a4(_0x58f0d1[_0x287846(0x3fa)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x287846(0x41a)][_0x287846(0x5f0)](_0xd91e5b,this[_0x287846(0x6d3)]['subscribe'](_0x494f6d));}[_0x178721(0x90e)](_0x4409c9){const _0x107b4e=_0x178721;this[_0x107b4e(0x41a)][_0x107b4e(0x603)](_0x4409c9)?.(),this['listenerUnsubscribers'][_0x107b4e(0xa66)](_0x4409c9);}async[_0x178721(0x44a)](){const _0x384fd3=_0x178721,_0x2e164d=(await(0x0,_0x3d71d8['getDoc'])((0x0,_0x3d71d8['doc'])(_0x4a9fc2[_0x384fd3(0xaa0)](),_0x384fd3(0x95f)+this[_0x384fd3(0x92c)]+_0x384fd3(0x590)+this['label'])))['data']();if(!_0x2e164d)throw new _0x1c9a4(_0x58f0d1[_0x384fd3(0xa92)],_0x384fd3(0x775)+this[_0x384fd3(0x8f4)]);const {site:_0xbb0f7c,drive:_0x1c1175}=_0x2e164d,_0xd5a7dc=(await(0x0,_0x545836['httpsCallable'])(_0x4a9fc2['getFunctions'](),_0x384fd3(0x9bc))({'storageId':this[_0x384fd3(0x8f4)]}))[_0x384fd3(0x372)]['accessToken'];this['connector']=new this[(_0x384fd3(0x874))](_0xbb0f7c['id'],_0x1c1175['id'],_0xd5a7dc,async()=>(await(0x0,_0x545836['httpsCallable'])(_0x4a9fc2[_0x384fd3(0x7e5)](),_0x384fd3(0x6e4))({'storageId':this[_0x384fd3(0x8f4)]}))['data'][_0x384fd3(0x350)]),this[_0x384fd3(0x7c7)]();}['sendStats'](){const _0x58947c=_0x178721;this[_0x58947c(0x605)]&&clearTimeout(this[_0x58947c(0x605)]),this['debounceStats']=setTimeout(async()=>{const _0x56a42d=_0x58947c;delete this[_0x56a42d(0x605)],this[_0x56a42d(0x87d)]['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d[_0x56a42d(0x1a2)],'label':this[_0x56a42d(0x8f4)],'stats':{'timestamp':Date[_0x56a42d(0x2e5)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x56a42d(0x95a)],'prompts':0x0,'tokens':0x0}}});},_0x3c1ede);}async[_0x178721(0x7c7)](){const _0x95b0a2=_0x178721;await this[_0x95b0a2(0x42c)]?.[_0x95b0a2(0x380)](),this['changesUnsubscriber']=_0x387a0b[_0x95b0a2(0x69a)](async()=>{const _0x2d3787=_0x95b0a2;try{if(!this[_0x2d3787(0x42c)])return;const _0x14492b=await this[_0x2d3787(0x42c)][_0x2d3787(0x380)]();for(const _0x2fa545 of _0x14492b)this['eventListener'][_0x2d3787(0xa83)](_0x2fa545);}catch(_0x11c478){}},0x493e0);}}const _0x4c8d61=require('rxjs');class _0xe5f687 extends _0x253fab{[_0x178721(0x357)];[_0x178721(0x96f)]=new Map();[_0x178721(0x3b4)]=new Map();[_0x178721(0x54d)]=new Map();[_0x178721(0x86c)];constructor(_0xc7e740,_0x46d394,_0x309feb){super(_0xc7e740,_0x46d394),this['graphService']=_0x309feb;}[_0x178721(0x79e)](){const _0x51b49a=_0x178721;return _0x12ff66[_0x51b49a(0x66a)][_0x51b49a(0x550)];}['open'](){const _0x3526b4=_0x178721;this[_0x3526b4(0x86c)]=this[_0x3526b4(0x522)]((_0x5a1c31,_0x148840)=>{const _0x1ccc32=_0x3526b4;if(_0x4826cd['log'](_0x312d1f[_0x1ccc32(0x744)],'JobDispatcher:\x20Received\x20job',_0x5a1c31,_0x148840,this['graphService']['getRemoteNodes']()),!(_0x148840 instanceof File)){if(!_0x148840)throw new _0x5953b5(_0x5953b5[_0x1ccc32(0x913)]['JobDispatcherInvalidPayload']);return this[_0x1ccc32(0x6a0)](_0x148840)?this[_0x1ccc32(0x37c)](_0x5a1c31,_0x148840['id'],_0x148840):this[_0x1ccc32(0x8e7)](_0x148840)?(_0x4826cd['log'](_0x312d1f['Jobs'],_0x1ccc32(0x7dc)+_0x148840['id']+'\x20received\x20partial\x20result:',_0x148840['result']),void this[_0x1ccc32(0x9f9)](_0x148840['id'],_0x148840)):this[_0x1ccc32(0x91f)](_0x148840)?(_0x4826cd[_0x1ccc32(0x51c)](_0x312d1f[_0x1ccc32(0x744)],_0x1ccc32(0x7dc)+_0x148840['id']+'\x20received\x20result:',_0x148840[_0x1ccc32(0x920)]),void this['evaluateProccessedJob'](_0x148840['id'],_0x148840)):void(this['isFailedResponse'](_0x148840)&&this[_0x1ccc32(0x19d)](_0x148840['id'],_0x148840[_0x1ccc32(0x61f)]));}});}[_0x178721(0x6ea)](){const _0x28289b=_0x178721;this[_0x28289b(0x6f1)](),this[_0x28289b(0x44a)]();}[_0x178721(0x4c1)](){const _0x37e634=_0x178721;this[_0x37e634(0x6f1)](),super[_0x37e634(0x4c1)]();}[_0x178721(0x6f1)](){const _0x48caa5=_0x178721;this[_0x48caa5(0x96f)][_0x48caa5(0x6f1)](),this[_0x48caa5(0x86c)]&&this['unsubscribeHandler']();}[_0x178721(0x3d8)](){const _0x87ad0f=_0x178721;this[_0x87ad0f(0x87d)]?.[_0x87ad0f(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d[_0x87ad0f(0x76e)],'label':this['label']}});}async[_0x178721(0x7a2)](_0x1c52d4){const _0x1cf9d7=_0x178721,{id:_0x20deb9,parameters:_0x1a1481,jobType:_0x4f81be}=_0x1c52d4,_0x43b5bd={'id':_0x20deb9,'jobType':_0x4f81be,'parameters':_0x1a1481,'status':_0x12ff66['JobStatus'][_0x1cf9d7(0x289)],'created':new Date(),'updated':new Date()};if(this[_0x1cf9d7(0x96f)][_0x1cf9d7(0x4a6)](_0x43b5bd['id']))throw new _0x1c9a4(_0x58f0d1[_0x1cf9d7(0x743)],_0x1cf9d7(0x7f6)+_0x43b5bd['id']+_0x1cf9d7(0x4cd));_0x43b5bd[_0x1cf9d7(0x448)]=new Date(),_0x43b5bd['updated']=new Date();const _0x215668=new _0x4c8d61[(_0x1cf9d7(0x254))]();this[_0x1cf9d7(0x96f)][_0x1cf9d7(0x5f0)](_0x43b5bd['id'],_0x43b5bd),this['jobObservers']['set'](_0x43b5bd['id'],_0x215668);try{const _0xe07f65={'id':_0x43b5bd['id'],'jobPhase':_0xaca8ae[_0x1cf9d7(0x95d)],'jobType':_0x43b5bd[_0x1cf9d7(0x3c9)]},_0x3cc6e0=0x3;let _0x165dd4=0x0;const _0xac4a44=async()=>{const _0xb07721=_0x1cf9d7;_0x165dd4+=0x1;try{_0x4826cd[_0xb07721(0x51c)](_0x312d1f[_0xb07721(0x744)],'Job\x20'+_0x43b5bd['id']+'\x20sending\x20attempt\x20'+_0x165dd4+'.',this[_0xb07721(0x357)][_0xb07721(0x93c)]()),await this['send'](_0xe07f65),_0x43b5bd[_0xb07721(0x332)]=new Date(),this['jobs'][_0xb07721(0x5f0)](_0x43b5bd['id'],_0x43b5bd),this[_0xb07721(0x7f4)](_0x43b5bd['id']);}catch(_0x559094){_0x165dd4<_0x3cc6e0?(_0x4826cd[_0xb07721(0xa84)](_0xb07721(0x22c)+_0x165dd4+_0xb07721(0x2bb)+_0x43b5bd['id']+_0xb07721(0x866),{'nodeId':this[_0xb07721(0x196)][_0xb07721(0x78a)](),'nodeType':this['owner']['type'],'data':{'job':_0x43b5bd,'attempts':_0x165dd4,'maxRetries':_0x3cc6e0}}),setTimeout(_0xac4a44,0x3e8)):(_0x43b5bd[_0xb07721(0x925)]=_0x12ff66['JobStatus']['Failed'],_0x43b5bd[_0xb07721(0x332)]=new Date(),this[_0xb07721(0x96f)]['set'](_0x43b5bd['id'],_0x43b5bd),_0x4826cd['error'](_0xb07721(0x99a)+_0x43b5bd['id']+_0xb07721(0x992)+_0x3cc6e0+'\x20attempts:',{'nodeId':this['owner']['getId'](),'nodeType':this['owner']['type'],'data':{'job':_0x43b5bd,'attempts':_0x165dd4,'maxRetries':_0x3cc6e0,'error':_0x559094}}));}};_0xac4a44();const {id:_0x4e40e3}=_0x43b5bd;this[_0x1cf9d7(0x54c)](_0x1cf9d7(0x7dc)+_0x43b5bd['id']+_0x1cf9d7(0x3c2),{'jobId':_0x4e40e3}),_0x43b5bd[_0x1cf9d7(0x332)]=new Date();}catch(_0x677b08){_0x43b5bd['status']=_0x12ff66['JobStatus'][_0x1cf9d7(0x1c8)],_0x4826cd[_0x1cf9d7(0x5c0)](_0x1cf9d7(0x99a)+_0x43b5bd['id']+':',{'nodeId':this[_0x1cf9d7(0x196)][_0x1cf9d7(0x78a)](),'nodeType':this[_0x1cf9d7(0x196)][_0x1cf9d7(0x43f)],'data':{'job':_0x43b5bd,'error':_0x677b08}});}return _0x215668[_0x1cf9d7(0xaa6)]();}[_0x178721(0x211)](_0x457f52){const _0x2b39b5=_0x178721,_0x2b2cf1=this[_0x2b39b5(0x96f)][_0x2b39b5(0x603)](_0x457f52);if(!_0x2b2cf1)throw new _0x1c9a4(_0x58f0d1[_0x2b39b5(0x57d)],'Job\x20with\x20id\x20'+_0x457f52+_0x2b39b5(0x53b));return{'id':_0x2b2cf1['id'],'jobType':_0x2b2cf1[_0x2b39b5(0x3c9)],'status':_0x2b2cf1[_0x2b39b5(0x925)],'parameters':_0x2b2cf1[_0x2b39b5(0x783)]};}['getJobs'](){const _0xa9d724=_0x178721;return Array[_0xa9d724(0x3ac)](this[_0xa9d724(0x96f)][_0xa9d724(0x9b0)]())['map'](_0x483a9b=>this['getJob'](_0x483a9b['id']));}async[_0x178721(0x4d0)](_0x1a433b,_0x11d29f){const _0x19b251=_0x178721,_0x9b1cd0=this[_0x19b251(0x96f)][_0x19b251(0x603)](_0x1a433b);if(!_0x9b1cd0)throw new _0x1c9a4(_0x58f0d1[_0x19b251(0x57d)],'Job\x20with\x20id\x20'+_0x1a433b+_0x19b251(0x53b));_0x9b1cd0[_0x19b251(0x783)]=_0x11d29f,_0x9b1cd0['updated']=new Date(),this[_0x19b251(0x96f)][_0x19b251(0x5f0)](_0x1a433b,_0x9b1cd0);}async['deleteJob'](_0x1a9e3d){const _0x3bc086=_0x178721;if(!this['jobs'][_0x3bc086(0xa66)](_0x1a9e3d))throw new _0x1c9a4(_0x58f0d1[_0x3bc086(0x57d)],_0x3bc086(0x7f6)+_0x1a9e3d+_0x3bc086(0x53b));const _0x2bba0c=this[_0x3bc086(0x3b4)][_0x3bc086(0x603)](_0x1a9e3d);if(!_0x2bba0c)throw new _0x5953b5(_0x5953b5[_0x3bc086(0x913)][_0x3bc086(0x86a)]);_0x2bba0c['complete'](),this[_0x3bc086(0x3b4)]['delete'](_0x1a9e3d),_0x4826cd[_0x3bc086(0x51c)](_0x312d1f[_0x3bc086(0x744)],_0x3bc086(0x7dc)+_0x1a9e3d+_0x3bc086(0x3eb));}['addBidResponse'](_0x104cfe,_0x18de44,_0x11e8fa){const _0x5583f5=_0x178721,_0x2071ef=this[_0x5583f5(0x54d)]['get'](_0x18de44)??new Map();_0x2071ef[_0x5583f5(0x5f0)](_0x104cfe,[_0x11e8fa,Date[_0x5583f5(0x2e5)]()]),this[_0x5583f5(0x54d)][_0x5583f5(0x5f0)](_0x18de44,_0x2071ef),this[_0x5583f5(0x77a)](_0x18de44);}[_0x178721(0x7f4)](_0x3bf993){const _0x4e23d1=_0x178721,_0xc9eeda=this[_0x4e23d1(0x96f)][_0x4e23d1(0x603)](_0x3bf993);if(!_0xc9eeda)throw new _0x5953b5(_0x5953b5[_0x4e23d1(0x913)][_0x4e23d1(0x57d)]);const _0x49f485=setTimeout(()=>this[_0x4e23d1(0x77a)](_0x3bf993,!0x0),0xbb8);_0xc9eeda['responseTimeout']=_0x49f485,this[_0x4e23d1(0x96f)]['set'](_0xc9eeda['id'],_0xc9eeda);}[_0x178721(0x77a)](_0xd54f74,_0x4ffdb3=!0x1){const _0x22804a=_0x178721,_0x6b55f8=this[_0x22804a(0x357)][_0x22804a(0x93c)](),_0x3ab150=Array[_0x22804a(0x3ac)](_0x6b55f8['values']())[_0x22804a(0x434)](_0x585107=>_0x585107['type']===_0x12ff66[_0x22804a(0x8ee)][_0x22804a(0x4dc)]),_0x5c5d35=this[_0x22804a(0x54d)][_0x22804a(0x603)](_0xd54f74)??new Map();if(!_0x4ffdb3&&(!_0x5c5d35||_0x5c5d35[_0x22804a(0x3e6)]<_0x3ab150['length']))return;const _0x113db7=this[_0x22804a(0x96f)]['get'](_0xd54f74);if(!_0x113db7)throw new _0x5953b5(_0x5953b5[_0x22804a(0x913)][_0x22804a(0x57d)]);if(clearTimeout(_0x113db7[_0x22804a(0x395)]),_0x4826cd[_0x22804a(0x51c)](_0x312d1f['Jobs'],'Job\x20'+_0x113db7['id']+'\x20received\x20responses:',_0x5c5d35,this[_0x22804a(0x54d)]),!_0x5c5d35||0x0===_0x5c5d35[_0x22804a(0x3e6)]){_0x113db7[_0x22804a(0x925)]=_0x12ff66[_0x22804a(0x1cc)][_0x22804a(0x1c8)],_0x113db7['updated']=new Date(),_0x4826cd[_0x22804a(0x5c0)](_0x22804a(0x7dc)+_0x113db7['id']+_0x22804a(0x790),{'nodeId':this['owner'][_0x22804a(0x78a)](),'nodeType':this[_0x22804a(0x196)][_0x22804a(0x43f)],'data':{'job':_0x113db7,'responses':_0x5c5d35}});const _0x1a0d52=this['jobObservers'][_0x22804a(0x603)](_0xd54f74);if(!_0x1a0d52)throw new _0x5953b5(_0x5953b5[_0x22804a(0x913)][_0x22804a(0x86a)]);const _0xff9381=_0x22804a(0x90f),_0x3003a4={'id':_0x113db7['id'],'status':_0x113db7[_0x22804a(0x925)],'message':_0xff9381};return _0x1a0d52[_0x22804a(0x1a6)](_0x3003a4),_0x1a0d52['complete'](),this[_0x22804a(0x96f)]['set'](_0x113db7['id'],_0x113db7),void this['jobBids'][_0x22804a(0xa66)](_0xd54f74);}const {nodeId:_0x4429fb,response:_0x4a9766}=this[_0x22804a(0x424)](_0x113db7['id'],_0x5c5d35);_0x113db7[_0x22804a(0x925)]=_0x12ff66[_0x22804a(0x1cc)][_0x22804a(0x390)],_0x113db7['updated']=new Date(),_0x4826cd[_0x22804a(0x51c)](_0x312d1f[_0x22804a(0x744)],_0x22804a(0x7dc)+_0x113db7['id']+_0x22804a(0xa2a)+_0x4429fb+_0x22804a(0x69c),_0x4a9766);const _0x27e48a={'id':_0x113db7['id'],'jobType':_0x113db7['jobType'],'jobPhase':_0xaca8ae[_0x22804a(0x438)],'parameters':_0x113db7[_0x22804a(0x783)]};this[_0x22804a(0x9fa)](_0x27e48a,[_0x4429fb]),this[_0x22804a(0x96f)]['set'](_0x113db7['id'],_0x113db7),this['jobBids'][_0x22804a(0xa66)](_0xd54f74);}[_0x178721(0x424)](_0x4d86f0,_0x521e46){const _0x1aa321=_0x178721;let _0x1cf6c1;const _0x34d7eb=Array[_0x1aa321(0x3ac)](_0x521e46[_0x1aa321(0x257)]())[_0x1aa321(0x434)](([,[_0x40a750]])=>_0x40a750[_0x1aa321(0x7a1)]);if(_0x1cf6c1=_0x34d7eb['length']>0x0?Array[_0x1aa321(0x3ac)](_0x521e46['entries']())[_0x1aa321(0x68b)]((_0xb7e27c,_0x1c9304)=>_0x1c9304[0x1][0x0][_0x1aa321(0x631)]-_0xb7e27c[0x1][0x0]['bid']):Array[_0x1aa321(0x3ac)](_0x521e46[_0x1aa321(0x257)]())['sort']((_0x4c62f8,_0x30e065)=>_0x4c62f8[0x1][0x0][_0x1aa321(0x60e)]-_0x30e065[0x1][0x0]['queueLength']),0x1===_0x1cf6c1[_0x1aa321(0x3f4)])return{'nodeId':_0x1cf6c1[0x0][0x0],'response':_0x1cf6c1[0x0][0x1][0x0]};let _0x310b32;if(_0x310b32=_0x34d7eb['length']>0x0?(_0x1b8d72=>{const _0x455c02=_0x1aa321,_0x57e6da=_0x1b8d72[0x0][0x1][0x0]['bid'];return _0x1b8d72[_0x455c02(0x434)](([,[_0xa5beb3]])=>_0xa5beb3[_0x455c02(0x631)]===_0x57e6da);})(_0x1cf6c1):(_0x4294ef=>{const _0x56f33d=_0x1aa321,_0x1e93f1=_0x4294ef[0x0][0x1][0x0][_0x56f33d(0x60e)];return _0x4294ef[_0x56f33d(0x434)](([,[_0x192638]])=>_0x192638[_0x56f33d(0x60e)]===_0x1e93f1);})(_0x1cf6c1),0x1===_0x310b32['length'])return{'nodeId':_0x310b32[0x0][0x0],'response':_0x310b32[0x0][0x1][0x0]};const _0x4fa73a=this['jobs'][_0x1aa321(0x603)](_0x4d86f0);if(!_0x4fa73a)throw new _0x5953b5(_0x5953b5[_0x1aa321(0x913)][_0x1aa321(0x57d)]);const _0x54a095=_0x4fa73a[_0x1aa321(0x448)]['getTime'](),_0x56388a=_0x310b32[_0x1aa321(0x7df)](([_0x41c3dd,[,_0x5501e7]])=>({'nodeId':_0x41c3dd,'rtt':_0x5501e7-_0x54a095})),_0x2d2d83=Math[_0x1aa321(0x7ce)](..._0x56388a['map'](({rtt:_0x5f40d7})=>_0x5f40d7)),_0x4f9a16=_0x56388a['find'](({rtt:_0x5af0d9})=>_0x5af0d9===_0x2d2d83),[,[_0x43f76f]]=_0x310b32[_0x1aa321(0x940)](([_0xe9d37e])=>_0xe9d37e===_0x4f9a16[_0x1aa321(0x5f2)]);return{'nodeId':_0x4f9a16['nodeId'],'response':_0x43f76f};}[_0x178721(0x9f9)](_0x4a2a86,_0x174053){const _0x4bbd87=_0x178721,_0x4edd88=this[_0x4bbd87(0x96f)]['get'](_0x4a2a86);if(!_0x4edd88)throw new _0x5953b5(_0x5953b5[_0x4bbd87(0x913)]['JobDispatcherJobNotFound']);const _0x45698d=this[_0x4bbd87(0x3b4)][_0x4bbd87(0x603)](_0x4a2a86);if(!_0x45698d)throw new _0x5953b5(_0x5953b5[_0x4bbd87(0x913)]['JobDispatcherObserverNotFound']);const _0x53087a={'id':_0x4edd88['id'],'status':_0x12ff66['JobStatus']['Partial'],'result':_0x174053[_0x4bbd87(0x920)]};_0x45698d[_0x4bbd87(0x1a6)](_0x53087a);}[_0x178721(0x77c)](_0x283b05,_0x3e8cc8){const _0x54185b=_0x178721,_0x5d3756=this[_0x54185b(0x96f)][_0x54185b(0x603)](_0x283b05);if(!_0x5d3756)throw new _0x5953b5(_0x5953b5[_0x54185b(0x913)][_0x54185b(0x57d)]);const _0x23ede5=this[_0x54185b(0x3b4)]['get'](_0x283b05);if(!_0x23ede5)throw new _0x5953b5(_0x5953b5['codes'][_0x54185b(0x86a)]);_0x5d3756[_0x54185b(0x925)]=_0x12ff66[_0x54185b(0x1cc)]['Completed'];const _0x164e1c={'id':_0x5d3756['id'],'status':_0x5d3756[_0x54185b(0x925)],'result':_0x3e8cc8[_0x54185b(0x920)]};_0x23ede5[_0x54185b(0x1a6)](_0x164e1c),_0x23ede5[_0x54185b(0x3e9)](),this[_0x54185b(0x3b4)]['delete'](_0x283b05),this['logEvent'](_0x54185b(0x7dc)+_0x283b05+_0x54185b(0x1ac),{'jobId':_0x283b05});}[_0x178721(0x19d)](_0xaa6ee8,_0x22a9b9){const _0x283761=_0x178721,_0x2b7f35=this['jobs'][_0x283761(0x603)](_0xaa6ee8);if(!_0x2b7f35)throw new _0x5953b5(_0x5953b5[_0x283761(0x913)][_0x283761(0x57d)]);const _0x3f4223=this[_0x283761(0x3b4)][_0x283761(0x603)](_0xaa6ee8);if(!_0x3f4223)throw new _0x5953b5(_0x5953b5['codes']['JobDispatcherObserverNotFound']);_0x2b7f35['status']=_0x12ff66['JobStatus']['Failed'];const _0x2b95ab={'id':_0x2b7f35['id'],'status':_0x2b7f35['status'],'message':_0x22a9b9};_0x3f4223[_0x283761(0x1a6)](_0x2b95ab),_0x3f4223[_0x283761(0x3e9)](),this[_0x283761(0x3b4)][_0x283761(0xa66)](_0xaa6ee8),this[_0x283761(0x54c)](_0x283761(0x7dc)+_0xaa6ee8+'\x20failed.',{'jobId':_0xaa6ee8});}[_0x178721(0x54c)](_0x34fd55,{jobId:_0x3aa227}){const _0x21104b=_0x178721,_0x4e44ba={'jobId':_0x3aa227,'mistletIds':Array['from'](this[_0x21104b(0x357)]['getRemoteNodes']()[_0x21104b(0x9b0)]())['filter'](_0x5c9f07=>_0x5c9f07['type']===_0x12ff66[_0x21104b(0x8ee)]['Agent'])[_0x21104b(0x7df)](_0x4687ba=>_0x4687ba[_0x21104b(0x78a)]())};_0x4826cd[_0x21104b(0x54c)](_0x34fd55,{'nodeId':this[_0x21104b(0x691)](),'nodeType':this[_0x21104b(0x196)]['type'],'data':_0x4e44ba}),_0x4826cd[_0x21104b(0x51c)](_0x312d1f[_0x21104b(0x744)],_0x34fd55,_0x4e44ba);}[_0x178721(0x6a0)](_0x2ef95c){const _0x4ffa0a=_0x178721,{jobPhase:_0x51d511,available:_0x23ff52,bid:_0x480630}=_0x2ef95c;return _0x51d511===_0xaca8ae[_0x4ffa0a(0x376)]&&void 0x0!==_0x23ff52&&void 0x0!==_0x480630;}['isPartialResultResponse'](_0x747d39){const {jobPhase:_0x418fc3,result:_0x322218}=_0x747d39;return _0x418fc3===_0xaca8ae['PartialResult']&&void 0x0!==_0x322218;}[_0x178721(0x91f)](_0x1c60ed){const _0x28566c=_0x178721,{jobPhase:_0x594683,result:_0x449af8}=_0x1c60ed;return _0x594683===_0xaca8ae[_0x28566c(0x96b)]&&void 0x0!==_0x449af8;}[_0x178721(0x718)](_0x281e44){const _0x117119=_0x178721,{jobPhase:_0x397843,message:_0x212a9c}=_0x281e44;return _0x397843===_0xaca8ae[_0x117119(0x1c8)]&&void 0x0!==_0x212a9c&&_0x117119(0x6a8)==typeof _0x212a9c;}}var _0x101e8e,_0xdb7ade,_0x129c97,_0x330a3f;!function(_0x35241d){const _0xd78cb8=_0x178721;_0x35241d[_0xd78cb8(0x713)]=_0xd78cb8(0x97c),_0x35241d[_0xd78cb8(0x1c6)]=_0xd78cb8(0xa94);}(_0x101e8e||(_0x101e8e={})),function(_0x4cb1e1){const _0x3e2761=_0x178721;_0x4cb1e1[_0x3e2761(0x4dc)]='agent',_0x4cb1e1[_0x3e2761(0x377)]=_0x3e2761(0x791),_0x4cb1e1[_0x3e2761(0x8ad)]=_0x3e2761(0x2a5),_0x4cb1e1[_0x3e2761(0x89e)]=_0x3e2761(0x4b7),_0x4cb1e1[_0x3e2761(0x6b0)]='knowledge',_0x4cb1e1[_0x3e2761(0x587)]=_0x3e2761(0x818),_0x4cb1e1[_0x3e2761(0x710)]=_0x3e2761(0xa62),_0x4cb1e1[_0x3e2761(0x500)]=_0x3e2761(0x3f2),_0x4cb1e1['Search']=_0x3e2761(0x6e7),_0x4cb1e1[_0x3e2761(0x2c3)]=_0x3e2761(0x5a7),_0x4cb1e1[_0x3e2761(0x7ad)]=_0x3e2761(0x901),_0x4cb1e1[_0x3e2761(0x8c0)]='web-scraper-raw',_0x4cb1e1[_0x3e2761(0x3d4)]='chunk-splitter',_0x4cb1e1[_0x3e2761(0x4df)]=_0x3e2761(0x314),_0x4cb1e1[_0x3e2761(0xa2c)]=_0x3e2761(0x5a8),_0x4cb1e1['DocumentParser']='document-parser';}(_0xdb7ade||(_0xdb7ade={})),function(_0x473a5e){const _0x5b4ad2=_0x178721;_0x473a5e[_0x5b4ad2(0x295)]=_0x5b4ad2(0x975),_0x473a5e[_0x5b4ad2(0x932)]='external-storage-upload',_0x473a5e['DocumentParser']='document-parser',_0x473a5e[_0x5b4ad2(0x3d4)]=_0x5b4ad2(0x69f),_0x473a5e[_0x5b4ad2(0xa2c)]=_0x5b4ad2(0x5a8),_0x473a5e['SentenceSplitter']='sentence-splitter',_0x473a5e[_0x5b4ad2(0x3bb)]=_0x5b4ad2(0xa52),_0x473a5e['EntityExtractor']='entity-extractor',_0x473a5e['Reranker']=_0x5b4ad2(0x814),_0x473a5e[_0x5b4ad2(0x9de)]=_0x5b4ad2(0x805),_0x473a5e['Agent']=_0x5b4ad2(0x39c),_0x473a5e[_0x5b4ad2(0x6d4)]=_0x5b4ad2(0x97c),_0x473a5e[_0x5b4ad2(0x6b6)]=_0x5b4ad2(0x870),_0x473a5e[_0x5b4ad2(0x262)]='vector-database',_0x473a5e[_0x5b4ad2(0x252)]=_0x5b4ad2(0xa58),_0x473a5e[_0x5b4ad2(0x587)]=_0x5b4ad2(0x818),_0x473a5e[_0x5b4ad2(0x7fa)]=_0x5b4ad2(0x297);}(_0x129c97||(_0x129c97={})),function(_0x2be8fe){const _0x59b94b=_0x178721;_0x2be8fe[_0x59b94b(0xa86)]='file',_0x2be8fe['Text']=_0x59b94b(0x936),_0x2be8fe['Image']='image',_0x2be8fe[_0x59b94b(0xa0c)]='audio',_0x2be8fe[_0x59b94b(0xa4a)]=_0x59b94b(0x372),_0x2be8fe['Vector']=_0x59b94b(0x2cd),_0x2be8fe[_0x59b94b(0x22e)]=_0x59b94b(0x78e),_0x2be8fe['Relation']=_0x59b94b(0x441),_0x2be8fe['Search']='search',_0x2be8fe['Index']=_0x59b94b(0x9e1),_0x2be8fe[_0x59b94b(0x6b0)]=_0x59b94b(0x563),_0x2be8fe[_0x59b94b(0x28c)]='skill',_0x2be8fe[_0x59b94b(0x7fa)]=_0x59b94b(0x297),_0x2be8fe['Wait']=_0x59b94b(0x977);}(_0x330a3f||(_0x330a3f={}));class _0x5e90cf{static [_0x178721(0x597)];constructor(){}static[_0x178721(0x55a)](){const _0x3cfdfa=_0x178721;return _0x5e90cf[_0x3cfdfa(0x597)]||(_0x5e90cf['instance']=new _0x5e90cf()),_0x5e90cf[_0x3cfdfa(0x597)];}async['getWorkflow'](_0x56a03d,_0x19d13a){const _0x569388=_0x178721,_0x33ae7b=await(0x0,_0x3d71d8[_0x569388(0x461)])((0x0,_0x3d71d8[_0x569388(0xa0e)])(_0x4a9fc2['getFirestore'](),_0x569388(0x95f)+_0x56a03d+_0x569388(0x6f0)+_0x19d13a)),_0x13d368=await this[_0x569388(0x703)](_0x56a03d),_0x757a78=await this['getDataCollections'](_0x56a03d),_0x3ecfb9=await this[_0x569388(0x7f9)](_0x56a03d),_0x29d6a6=await this[_0x569388(0x94f)](_0x56a03d),_0xfcb276=await this[_0x569388(0x228)](_0x56a03d);if(!_0x33ae7b[_0x569388(0xa87)]())throw new _0x5953b5(_0x5953b5[_0x569388(0x913)]['WorkflowDoesNotExist']);return this['parseWorkflowDocument'](_0x33ae7b,_0x13d368,_0x757a78,_0x3ecfb9,_0x29d6a6,_0xfcb276);}['parseWorkflowDocument'](_0x34303a,_0xf10e1a,_0x49dff1,_0xaca188,_0xd65d90,_0x44320b){const _0x353efd=_0x178721,_0x50ca8f=_0x34303a[_0x353efd(0x372)]();if(!_0x50ca8f)throw new _0x5953b5(_0x5953b5[_0x353efd(0x913)]['WorkflowDoesNotExist']);const _0xf5a1c7=_0x50ca8f[_0x353efd(0x7a5)]&&_0x50ca8f[_0x353efd(0x9b1)]?_0x50ca8f[_0x353efd(0x9b1)][_0x50ca8f[_0x353efd(0x7a5)]-0x1]:_0x50ca8f,_0x16c311=this[_0x353efd(0x8c6)](_0xf5a1c7[_0x353efd(0x780)],_0xf10e1a,_0x49dff1,_0xaca188,_0x44320b);return{'id':_0x34303a['id'],'modelsBucketId':_0x50ca8f[_0x353efd(0x412)],'blocks':_0x16c311,'models':this[_0x353efd(0x9bb)](_0x16c311,_0xd65d90),'dataBucketIds':this[_0x353efd(0x911)](_0x16c311),'externalStorageConnectionIds':this[_0x353efd(0x3ed)](_0x16c311)};}[_0x178721(0x9bb)](_0x6ec659,_0x3689cf){const _0xb835ec=_0x178721,_0x414143=new Set();for(const _0x502c7e of _0x6ec659)if(_0x502c7e[_0xb835ec(0x43f)]!==_0xdb7ade[_0xb835ec(0x4dc)]&&_0x502c7e[_0xb835ec(0x43f)]!==_0xdb7ade[_0xb835ec(0x377)]||_0x414143[_0xb835ec(0x9b5)](_0x502c7e[_0xb835ec(0x7db)]),_0x502c7e[_0xb835ec(0x43f)]===_0xdb7ade[_0xb835ec(0x6b0)]||_0x502c7e[_0xb835ec(0x43f)]===_0xdb7ade[_0xb835ec(0x89e)]){for(const _0xa01e1e of[..._0x502c7e['ingestBlocks'],..._0x502c7e[_0xb835ec(0x7f5)]])_0xa01e1e['type']===_0x129c97[_0xb835ec(0x9de)]&&_0x414143['add'](_0xa01e1e['id']),_0xa01e1e[_0xb835ec(0x43f)]===_0x129c97[_0xb835ec(0x4dc)]&&_0x414143[_0xb835ec(0x9b5)](_0xa01e1e[_0xb835ec(0x7db)]);}return Array[_0xb835ec(0x3ac)](_0x414143)['map'](_0x55bc6d=>{const _0x33a965=_0xb835ec,{id:_0x2b9ee5,engineType:_0x18a93a,taskType:_0x110486,knowledgeCutoffDate:_0x50d6a8,inputType:_0x41d9c3,outputType:_0x575081,sourceUrl:_0x2ffc09}=_0x3689cf[_0x33a965(0x940)](_0x5b4212=>_0x5b4212['id']===_0x55bc6d);return{'id':_0x2b9ee5,'engineType':_0x18a93a,'taskType':_0x110486,'knowledgeCutoffDate':_0x50d6a8,'inputType':_0x41d9c3,'outputType':_0x575081,'sourceUrl':_0x2ffc09};});}['getWorkflowObjectStorageBuckets'](_0x4bf12c){const _0x2b4c22=_0x178721,_0x2b703a=new Set();for(const _0x1c42b6 of _0x4bf12c)switch(_0x1c42b6['type']){case _0xdb7ade[_0x2b4c22(0x6b0)]:case _0xdb7ade[_0x2b4c22(0x89e)]:for(const _0x3f9da5 of[..._0x1c42b6[_0x2b4c22(0x9c2)],..._0x1c42b6[_0x2b4c22(0x7f5)]])_0x3f9da5[_0x2b4c22(0x43f)]===_0x129c97[_0x2b4c22(0x295)]&&_0x2b703a[_0x2b4c22(0x9b5)](_0x3f9da5['id']);}return Array[_0x2b4c22(0x3ac)](_0x2b703a);}[_0x178721(0x3ed)](_0x1efedd){const _0x33c383=_0x178721,_0x4c22b7=new Set();for(const _0x5a10f5 of _0x1efedd)switch(_0x5a10f5[_0x33c383(0x43f)]){case _0xdb7ade[_0x33c383(0x6b0)]:case _0xdb7ade[_0x33c383(0x89e)]:for(const _0x2bdc6d of[..._0x5a10f5[_0x33c383(0x9c2)],..._0x5a10f5[_0x33c383(0x7f5)]])_0x2bdc6d[_0x33c383(0x43f)]===_0x129c97[_0x33c383(0x932)]&&_0x4c22b7['add'](_0x2bdc6d['id']);}return Array['from'](_0x4c22b7);}[_0x178721(0x8c6)](_0x5dd10b,_0x34bec5,_0x1a5c9e,_0x2f884c,_0x115cf9){const _0x4f4631=_0x178721;return _0x5dd10b[_0x4f4631(0x7df)](_0x124f07=>{const _0x27d97e=_0x4f4631;switch(_0x124f07['type']){case _0xdb7ade[_0x27d97e(0x4dc)]:case _0xdb7ade[_0x27d97e(0x377)]:const _0xdfeb75=_0x34bec5['find'](_0x234dc9=>_0x234dc9['id']===_0x124f07['id']);if(!_0xdfeb75)throw new _0x5953b5(_0x5953b5[_0x27d97e(0x913)][_0x27d97e(0x328)],{'block':_0x124f07});const _0xe58d28=_0x124f07[_0x27d97e(0x792)]&&_0xdfeb75[_0x27d97e(0x9b1)]?_0xdfeb75[_0x27d97e(0x9b1)][_0x124f07[_0x27d97e(0x792)]-0x1]:_0xdfeb75;return{'type':_0xdfeb75['type'],'id':_0xdfeb75['id'],'uid':_0x124f07[_0x27d97e(0x431)],'name':_0xe58d28[_0x27d97e(0x54e)],'description':_0xe58d28['description'],'instructions':_0xe58d28['instructions'],'contextOutputVariable':_0xe58d28['contextOutputVariable'],'contextInputVariable':_0xe58d28[_0x27d97e(0x635)],'grammar':['default',_0x27d97e(0x55d),'json_arr'][_0x27d97e(0x31d)](_0xe58d28[_0x27d97e(0x9db)])?_0xe58d28[_0x27d97e(0x9db)]:_0x115cf9[_0x27d97e(0x940)](_0x17e928=>_0x17e928['id']===_0xe58d28[_0x27d97e(0x9db)])[_0x27d97e(0x855)],'temperature':_0xe58d28[_0x27d97e(0x4d6)],'maxTokens':_0xe58d28['maxTokens'],'modelId':_0xe58d28[_0x27d97e(0x7db)],'links':_0x124f07[_0x27d97e(0x99f)],'version':_0x124f07[_0x27d97e(0x792)]};case _0xdb7ade['Knowledge']:case _0xdb7ade['DataCollection']:const _0x3f52fd=_0x1a5c9e['find'](_0x323d08=>_0x323d08['id']===_0x124f07['id']);if(!_0x3f52fd)throw new _0x5953b5(_0x5953b5['codes'][_0x27d97e(0x328)],{'block':_0x124f07});const _0x1d34f7=_0x124f07[_0x27d97e(0x792)]&&_0x3f52fd[_0x27d97e(0x9b1)]?_0x3f52fd['versions'][_0x124f07[_0x27d97e(0x792)]-0x1]:_0x3f52fd;return{'type':_0x124f07[_0x27d97e(0x43f)],'id':_0x3f52fd['id'],'uid':_0x124f07['uid'],'name':_0x1d34f7[_0x27d97e(0x54e)],'description':_0x1d34f7['description'],'ingestBlocks':this[_0x27d97e(0x6ca)](_0x1d34f7[_0x27d97e(0x9c2)],_0x34bec5),'retrieveBlocks':this[_0x27d97e(0x6ca)](_0x1d34f7[_0x27d97e(0x7f5)],_0x34bec5),'links':_0x124f07[_0x27d97e(0x99f)],'version':_0x124f07[_0x27d97e(0x792)]};case _0xdb7ade[_0x27d97e(0x8ad)]:const _0x441c4b=_0x2f884c['find'](_0x2e6e6c=>_0x2e6e6c['id']===_0x124f07['id']);if(!_0x441c4b)throw new _0x5953b5(_0x5953b5[_0x27d97e(0x913)]['WorkflowInvalidBlockType'],{'block':_0x124f07});return{'type':_0x124f07[_0x27d97e(0x43f)],'id':_0x441c4b['id'],'uid':_0x124f07[_0x27d97e(0x431)],'name':_0x441c4b[_0x27d97e(0x54e)],'description':_0x441c4b[_0x27d97e(0x795)],'parameters':_0x441c4b['parameters'],'endpointUrl':_0x441c4b[_0x27d97e(0x250)],'endpointMethod':_0x441c4b[_0x27d97e(0x5d8)],'headers':_0x441c4b[_0x27d97e(0x5ff)],'queryParameters':_0x441c4b[_0x27d97e(0x353)],'bodyParameters':_0x441c4b[_0x27d97e(0x6ff)],'contextOutputVariable':_0x441c4b['contextOutputVariable'],'waitAsync':_0x441c4b['waitAsync'],'asyncEndpointUrl':_0x441c4b[_0x27d97e(0x7bb)],'asyncEndpointMethod':_0x441c4b[_0x27d97e(0x621)],'asyncHeaders':_0x441c4b[_0x27d97e(0x7da)],'links':_0x124f07[_0x27d97e(0x99f)]};case _0xdb7ade[_0x27d97e(0x587)]:case _0xdb7ade[_0x27d97e(0x710)]:case _0xdb7ade[_0x27d97e(0x500)]:case _0xdb7ade['Search']:case _0xdb7ade[_0x27d97e(0x2c3)]:case _0xdb7ade[_0x27d97e(0x7ad)]:case _0xdb7ade[_0x27d97e(0x8c0)]:case _0xdb7ade[_0x27d97e(0x4df)]:case _0xdb7ade[_0x27d97e(0x679)]:return{'type':_0x124f07[_0x27d97e(0x43f)],'id':_0x124f07['id'],'uid':_0x124f07[_0x27d97e(0x431)],'links':_0x124f07['links']};case _0xdb7ade[_0x27d97e(0x3d4)]:case _0xdb7ade[_0x27d97e(0xa2c)]:return{'type':_0x124f07[_0x27d97e(0x43f)],'id':_0x124f07['id'],'uid':_0x124f07[_0x27d97e(0x431)],'links':_0x124f07[_0x27d97e(0x99f)],'attributes':_0x124f07[_0x27d97e(0xa0d)]};default:throw new _0x5953b5(_0x5953b5[_0x27d97e(0x913)][_0x27d97e(0x328)],{'block':_0x124f07});}});}['parseDataCollectionBlocks'](_0xc1708a,_0x5456f3){const _0x4ae75a=_0x178721;return _0xc1708a[_0x4ae75a(0x7df)](_0x5f5a65=>{const _0x3d218f=_0x4ae75a;switch(_0x5f5a65[_0x3d218f(0x43f)]){case _0x129c97[_0x3d218f(0x4dc)]:const _0x31e5e8=_0x5456f3[_0x3d218f(0x940)](_0x167290=>_0x167290['id']===_0x5f5a65['id']);if(!_0x31e5e8)throw new _0x5953b5(_0x5953b5['codes'][_0x3d218f(0x328)],{'block':_0x5f5a65});const _0x553013=_0x5f5a65['version']&&_0x31e5e8[_0x3d218f(0x9b1)]?_0x31e5e8[_0x3d218f(0x9b1)][_0x5f5a65[_0x3d218f(0x792)]-0x1]:_0x31e5e8;return{'type':_0x5f5a65[_0x3d218f(0x43f)],'id':_0x5f5a65['id'],'uid':_0x5f5a65[_0x3d218f(0x431)],'description':_0x553013[_0x3d218f(0x795)],'instructions':_0x553013[_0x3d218f(0x711)],'grammar':_0x553013['grammar'],'temperature':_0x553013[_0x3d218f(0x4d6)],'maxTokens':_0x553013['maxTokens'],'modelId':_0x553013[_0x3d218f(0x7db)],'links':_0x5f5a65[_0x3d218f(0x99f)],'version':_0x5f5a65[_0x3d218f(0x792)]};case _0x129c97[_0x3d218f(0x252)]:case _0x129c97[_0x3d218f(0x262)]:case _0x129c97[_0x3d218f(0xa2c)]:case _0x129c97[_0x3d218f(0x3d4)]:case _0x129c97[_0x3d218f(0x3c1)]:case _0x129c97['Reranker']:return{'type':_0x5f5a65['type'],'id':_0x5f5a65['id'],'uid':_0x5f5a65[_0x3d218f(0x431)],'links':_0x5f5a65[_0x3d218f(0x99f)],'attributes':_0x5f5a65[_0x3d218f(0xa0d)]};case _0x129c97[_0x3d218f(0x9de)]:case _0x129c97[_0x3d218f(0x6d4)]:case _0x129c97[_0x3d218f(0x6b6)]:case _0x129c97[_0x3d218f(0x3bb)]:case _0x129c97[_0x3d218f(0x679)]:case _0x129c97[_0x3d218f(0x4df)]:case _0x129c97[_0x3d218f(0x295)]:case _0x129c97['ExternalStorageUpload']:case _0x129c97[_0x3d218f(0x7fa)]:case _0x129c97[_0x3d218f(0x587)]:return{'type':_0x5f5a65[_0x3d218f(0x43f)],'id':_0x5f5a65['id'],'uid':_0x5f5a65[_0x3d218f(0x431)],'links':_0x5f5a65[_0x3d218f(0x99f)]};default:throw new _0x5953b5(_0x5953b5['codes'][_0x3d218f(0x328)],{'block':_0x5f5a65});}});}async[_0x178721(0x703)](_0x5956bd){const _0x5242a2=_0x178721;return(await(0x0,_0x3d71d8['getDocs'])((0x0,_0x3d71d8[_0x5242a2(0x643)])(_0x4a9fc2[_0x5242a2(0xaa0)](),_0x5242a2(0x95f)+_0x5956bd+_0x5242a2(0x385))))[_0x5242a2(0x50b)]['map'](_0x395a0f=>{const _0xf75dcd=_0x5242a2,_0x1b02db=_0x395a0f['data']();return{'type':_0xdb7ade[_0xf75dcd(0x4dc)],'id':_0x395a0f['id'],'name':_0x1b02db[_0xf75dcd(0x54e)],'description':_0x1b02db[_0xf75dcd(0x795)],'instructions':_0x1b02db[_0xf75dcd(0x711)],'contextOutputVariable':_0x1b02db[_0xf75dcd(0x5c9)],'contextInputVariable':_0x1b02db[_0xf75dcd(0x635)],'grammar':_0x1b02db['grammar']??'default','temperature':_0x1b02db[_0xf75dcd(0x4d6)],'maxTokens':_0x1b02db['maxTokens'],'modelId':_0x1b02db['modelId'],'versions':_0x1b02db[_0xf75dcd(0x9b1)]};});}async[_0x178721(0xaad)](_0x505738){const _0x1c4e14=_0x178721;return(await(0x0,_0x3d71d8[_0x1c4e14(0x22a)])((0x0,_0x3d71d8[_0x1c4e14(0x643)])(_0x4a9fc2[_0x1c4e14(0xaa0)](),_0x1c4e14(0x95f)+_0x505738+'/resources/generative-ai-collection/items')))['docs'][_0x1c4e14(0x7df)](_0x323556=>{const _0x1e79af=_0x1c4e14,_0x439ce0=_0x323556['data']();return{'type':_0xdb7ade[_0x1e79af(0x89e)],'id':_0x323556['id'],'name':_0x439ce0['name'],'description':_0x439ce0[_0x1e79af(0x795)],'ingestBlocks':_0x439ce0[_0x1e79af(0x9c2)],'retrieveBlocks':_0x439ce0['retrieveBlocks'],'versions':_0x439ce0[_0x1e79af(0x9b1)]};});}async['getSkills'](_0x282a0b){const _0x1c0e45=_0x178721;return(await(0x0,_0x3d71d8[_0x1c0e45(0x22a)])((0x0,_0x3d71d8[_0x1c0e45(0x643)])(_0x4a9fc2['getFirestore'](),_0x1c0e45(0x95f)+_0x282a0b+_0x1c0e45(0x539))))['docs'][_0x1c0e45(0x7df)](_0x338983=>{const _0x546500=_0x1c0e45,_0x231718=_0x338983[_0x546500(0x372)]();return{'type':_0xdb7ade[_0x546500(0x8ad)],'id':_0x338983['id'],'name':_0x231718[_0x546500(0x54e)],'description':_0x231718[_0x546500(0x795)],'parameters':_0x231718['parameters'],'endpointUrl':_0x231718[_0x546500(0x250)],'endpointMethod':_0x231718['endpointMethod'],'headers':_0x231718[_0x546500(0x5ff)],'queryParameters':_0x231718[_0x546500(0x353)],'bodyParameters':_0x231718[_0x546500(0x6ff)],'contextOutputVariable':_0x231718['contextOutputVariable'],'waitAsync':_0x231718[_0x546500(0x60b)]??!0x1,'asyncEndpointUrl':_0x231718[_0x546500(0x7bb)],'asyncEndpointMethod':_0x231718[_0x546500(0x621)],'asyncHeaders':_0x231718[_0x546500(0x7da)]};});}async['getGrammars'](_0x69b509){const _0x8132af=_0x178721;return(await(0x0,_0x3d71d8[_0x8132af(0x22a)])((0x0,_0x3d71d8[_0x8132af(0x643)])(_0x4a9fc2[_0x8132af(0xaa0)](),_0x8132af(0x95f)+_0x69b509+'/resources/generative-ai-grammar/items')))[_0x8132af(0x50b)][_0x8132af(0x7df)](_0x5d9a25=>{const _0x232926=_0x8132af,_0x3af4b3=_0x5d9a25[_0x232926(0x372)]();return{'id':_0x5d9a25['id'],'name':_0x3af4b3['name'],'description':_0x3af4b3['description'],'content':_0x3af4b3[_0x232926(0x855)]};});}async[_0x178721(0x94f)](_0x4749e8){const _0x12ec73=_0x178721;return(await(0x0,_0x3d71d8['getDocs'])((0x0,_0x3d71d8[_0x12ec73(0x643)])(_0x4a9fc2[_0x12ec73(0xaa0)](),'/developers/'+_0x4749e8+_0x12ec73(0x40f))))['docs'][_0x12ec73(0x7df)](_0x4e5f3d=>{const _0x5b2689=_0x12ec73,_0x33d8e1=_0x4e5f3d['data']();return{'id':_0x4e5f3d['id'],'modelName':_0x33d8e1[_0x5b2689(0x570)],'engineType':_0x33d8e1[_0x5b2689(0x3d7)],'taskType':_0x33d8e1[_0x5b2689(0x348)],'knowledgeCutoffDate':_0x33d8e1[_0x5b2689(0x505)],'inputType':_0x33d8e1[_0x5b2689(0x26e)]??_0x12ff66[_0x5b2689(0x2b0)]['Text'],'outputType':_0x33d8e1[_0x5b2689(0x7cf)]??_0x12ff66[_0x5b2689(0x90a)]['Text'],'sourceUrl':_0x33d8e1[_0x5b2689(0x8c2)]};});}}const _0x1099e5=_0x5e90cf[_0x178721(0x55a)]();class _0x139f09 extends _0xe5f687{[_0x178721(0x31a)];['vendorId'];[_0x178721(0x8e0)]=0x0;[_0x178721(0x1c3)]=0x0;[_0x178721(0x605)];constructor(_0xed4619,_0x47ca41,_0x308465,_0x3e5c8e){const _0x210662=_0x178721;super(_0xed4619,_0x47ca41,_0x3e5c8e),this[_0x210662(0x31a)]=_0xed4619,this[_0x210662(0x92c)]=_0x308465,this[_0x210662(0x88e)]();}[_0x178721(0x4c1)](){const _0x36a797=_0x178721;this[_0x36a797(0x605)]&&(clearTimeout(this[_0x36a797(0x605)]),delete this[_0x36a797(0x605)]),super[_0x36a797(0x4c1)]();}[_0x178721(0x6ea)](){const _0x4b909c=_0x178721;this[_0x4b909c(0x8e0)]=0x0,this[_0x4b909c(0x1c3)]=0x0,this[_0x4b909c(0x88e)](),super['reset']();}[_0x178721(0x1aa)](_0x18b793){const _0x426445=_0x178721,_0x51938e=_0x426445(0x5af)+(0x0,_0x4848bd['v4'])();switch(_0x18b793[_0x426445(0x43f)]){case _0x426445(0x818):let _0xfcd318=!0x1;const _0xdeaa2c=()=>{const _0x1c5da2=_0x426445;if(_0xfcd318)throw new _0x5953b5(_0x5953b5[_0x1c5da2(0x913)][_0x1c5da2(0x379)]);_0xfcd318=!0x0;},_0x540e69=()=>(_0xdeaa2c(),this[_0x426445(0x818)](_0x51938e,_0x18b793[_0x426445(0x818)],_0x18b793[_0x426445(0x668)])),_0x46c156=()=>(_0xdeaa2c(),this[_0x426445(0xa21)](_0x51938e,_0x18b793[_0x426445(0x818)],_0x18b793[_0x426445(0x668)]));return{'id':_0x51938e,'prompt':_0x18b793['prompt'],'options':_0x18b793[_0x426445(0x668)]??{'threadId':_0x426445(0x531)+(0x0,_0x4848bd['v4'])()},'run':_0x540e69,'stream':_0x46c156};case _0x426445(0x4d2):let _0x1513a3=!0x1;const _0x244333=()=>{const _0xe83be8=_0x426445;if(_0x1513a3)throw new _0x5953b5(_0x5953b5[_0xe83be8(0x913)][_0xe83be8(0x379)]);_0x1513a3=!0x0;},_0x2445e7=()=>(_0x244333(),this['internalRatePrompt'](_0x51938e,_0x18b793[_0x426445(0x202)],_0x18b793['jobId'],_0x18b793[_0x426445(0x668)]));if(!_0x18b793[_0x426445(0x668)]?.['threadId'])throw new _0x1c9a4(_0x58f0d1[_0x426445(0x553)],_0x426445(0x914));return{'id':_0x51938e,'rating':_0x18b793['rating'],'options':_0x18b793[_0x426445(0x668)]??{'threadId':'thread-'+(0x0,_0x4848bd['v4'])()},'rate':_0x2445e7};case _0x426445(0x702):let _0x46fe6f=!0x1;const _0x244967=()=>{const _0x170bab=_0x426445;if(_0x46fe6f)throw new _0x5953b5(_0x5953b5[_0x170bab(0x913)]['GenerativeAIContextJobAlreadyConsumed']);_0x46fe6f=!0x0;};return{'id':_0x51938e,'objectStoreId':'','documentPath':_0x18b793[_0x426445(0x9df)],'download':()=>(_0x244967(),this[_0x426445(0x56e)](_0x51938e,_0x18b793[_0x426445(0x1bc)],_0x18b793[_0x426445(0x9df)]))};}}async['ratePrompt'](_0x445b07){const _0xef43f2=_0x178721;return this[_0xef43f2(0x1aa)](_0x445b07)['rate']();}async['downloadDocument'](_0xb746d1){const _0x964ca5=_0x178721,_0x1d31e={'type':_0x964ca5(0x702),'objectStoreId':'','documentPath':_0xb746d1};return this['createAIJob'](_0x1d31e)['download']();}async[_0x178721(0x3c4)](_0x32b610,_0x76a6eb,_0x6c41fd,{threadId:_0x414585,feedback:_0x25bab0=''}){const _0x4aac07=_0x178721,_0x8ef7c3={'type':'rate','jobId':_0x6c41fd,'threadId':_0x414585,'rating':_0x76a6eb,'feedback':_0x25bab0},_0x367a99=await this['getJobObservable'](_0x32b610,_0x12ff66['JobType'][_0x4aac07(0x550)],_0x8ef7c3,{'threadId':_0x414585,'feedback':_0x25bab0});return new Promise((_0x5b16ef,_0x161ea4)=>{const _0x126797=_0x4aac07;let _0x4907f7;const _0x5096dd=_0x367a99[_0x126797(0x1c5)]({'next':_0x57d299=>{const _0x88b7d9=_0x126797;switch(_0x57d299[_0x88b7d9(0x925)]){case _0x12ff66[_0x88b7d9(0x1cc)][_0x88b7d9(0x7b3)]:clearTimeout(_0x4907f7),_0x5b16ef(_0x57d299[_0x88b7d9(0x920)]),_0x5096dd[_0x88b7d9(0x90e)]();break;case _0x12ff66['JobStatus']['Failed']:clearTimeout(_0x4907f7),_0x161ea4(new _0x5953b5(_0x5953b5['codes'][_0x88b7d9(0x3d5)],{'updatedJob':_0x57d299})),_0x5096dd[_0x88b7d9(0x90e)]();}},'error':_0x129eb4=>{const _0x520f84=_0x126797;clearTimeout(_0x4907f7),_0x161ea4(new _0x5953b5(_0x5953b5[_0x520f84(0x913)][_0x520f84(0x3d5)],{'err':_0x129eb4})),_0x5096dd[_0x520f84(0x90e)]();}});_0x4907f7=setTimeout(()=>{const _0x3ead93=_0x126797;_0x161ea4(new _0x5953b5(_0x5953b5[_0x3ead93(0x913)][_0x3ead93(0x4fe)])),_0x5096dd[_0x3ead93(0x90e)]();},_0x325d34);});}async['internalDownloadDocument'](_0x4f71a5,_0xc7dc03,_0x10fd00){const _0x2765bd=_0x178721,_0x358377={'type':_0x2765bd(0x702),'objectStoreId':_0xc7dc03,'documentPath':_0x10fd00,'threadId':'thread-'+(0x0,_0x4848bd['v4'])()},_0x3a524c=await this[_0x2765bd(0x733)](_0x4f71a5,_0x12ff66[_0x2765bd(0x4a7)][_0x2765bd(0x550)],_0x358377);return new Promise((_0x2550f3,_0xc47ef0)=>{const _0x1cd3eb=_0x2765bd;let _0x1f404d;const _0x7e1665=_0x3a524c[_0x1cd3eb(0x1c5)]({'next':_0x3f919a=>{const _0x169121=_0x1cd3eb;switch(_0x3f919a['status']){case _0x12ff66['JobStatus']['Completed']:clearTimeout(_0x1f404d),_0x2550f3(_0x3f919a[_0x169121(0x920)]),_0x7e1665[_0x169121(0x90e)]();break;case _0x12ff66[_0x169121(0x1cc)][_0x169121(0x1c8)]:clearTimeout(_0x1f404d),_0xc47ef0(new _0x5953b5(_0x5953b5[_0x169121(0x913)][_0x169121(0x3d5)],{'updatedJob':_0x3f919a})),_0x7e1665['unsubscribe']();}},'error':_0x23b65b=>{const _0x38193e=_0x1cd3eb;clearTimeout(_0x1f404d),_0xc47ef0(new _0x5953b5(_0x5953b5[_0x38193e(0x913)][_0x38193e(0x3d5)],{'err':_0x23b65b})),_0x7e1665['unsubscribe']();}});_0x1f404d=setTimeout(()=>{const _0x187dba=_0x1cd3eb;_0xc47ef0(new _0x5953b5(_0x5953b5['codes']['GenerativeAIContextJobTimeout'])),_0x7e1665[_0x187dba(0x90e)]();},_0x325d34);});}async[_0x178721(0x818)](_0x164c3f,_0xa37871,_0x26de55){const _0x1b988e=_0x178721,_0x44d1e6={'type':_0x1b988e(0x818),'prompt':_0xa37871,'threadId':_0x26de55?.[_0x1b988e(0x998)]??_0x1b988e(0x531)+(0x0,_0x4848bd['v4'])()},_0xfa1f06=await this[_0x1b988e(0x733)](_0x164c3f,_0x12ff66[_0x1b988e(0x4a7)][_0x1b988e(0x550)],_0x44d1e6,_0x26de55);return new Promise((_0x5ba2ce,_0x14ea76)=>{let _0x5a6cf7;const _0x5938ae=_0xfa1f06['subscribe']({'next':_0x34780a=>{const _0x3a1119=a0_0x5e71;switch(_0x34780a['status']){case _0x12ff66[_0x3a1119(0x1cc)]['Completed']:if(_0x3a1119(0x818)!==_0x34780a['result']['type'])return;const _0x5756b3=_0x34780a[_0x3a1119(0x920)]['inputTokens']??0x0;this[_0x3a1119(0x481)](_0xa37871,_0x5756b3),clearTimeout(_0x5a6cf7),_0x5ba2ce(_0x34780a['result']),_0x5938ae['unsubscribe'](),this[_0x3a1119(0x8e0)]+=0x1,this[_0x3a1119(0x1c3)]+=_0x5756b3,this['sendStats']();break;case _0x12ff66[_0x3a1119(0x1cc)][_0x3a1119(0x1c8)]:clearTimeout(_0x5a6cf7),_0x14ea76(new _0x5953b5(_0x5953b5['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x34780a})),_0x5938ae[_0x3a1119(0x90e)](),this[_0x3a1119(0x88e)]();}},'error':_0x2f1b2e=>{const _0x2ebc96=a0_0x5e71;clearTimeout(_0x5a6cf7),_0x14ea76(new _0x5953b5(_0x5953b5[_0x2ebc96(0x913)][_0x2ebc96(0x3d5)],{'err':_0x2f1b2e})),_0x5938ae[_0x2ebc96(0x90e)]();}});_0x5a6cf7=setTimeout(()=>{const _0x37ffad=a0_0x5e71;_0x14ea76(new _0x5953b5(_0x5953b5[_0x37ffad(0x913)]['GenerativeAIContextJobTimeout'])),_0x5938ae[_0x37ffad(0x90e)]();},_0x325d34);});}async*[_0x178721(0xa21)](_0x5c96fd,_0x2103cb,_0x5c459b){const _0x37d340=_0x178721,_0x153e7d={'type':_0x37d340(0x818),'prompt':_0x2103cb,'threadId':_0x5c459b?.[_0x37d340(0x998)]??_0x37d340(0x531)+(0x0,_0x4848bd['v4'])()},_0xd926e7=await this['getJobObservable'](_0x5c96fd,_0x12ff66[_0x37d340(0x4a7)][_0x37d340(0x9ed)],_0x153e7d,_0x5c459b);let _0x49fe42,_0x4e4abe,_0x572f67=!0x1,_0x1c530e=0x0;const _0x3eeda9=[],_0x2be3be=new Map();let _0x4f879e=null;const _0x148a63=()=>{_0x4f879e&&(_0x4f879e(),_0x4f879e=null);},_0x2d89a7=_0x29e977=>{const _0xe52b9d=_0x37d340;_0x572f67=!0x0,_0x148a63(),_0x4ae93f[_0xe52b9d(0x90e)](),_0x4e4abe=_0x29e977;},_0x4ae93f=_0xd926e7[_0x37d340(0x1c5)]({'next':_0x1b3f29=>{const _0x5dd54d=_0x37d340;switch(_0x1b3f29[_0x5dd54d(0x925)]){case _0x12ff66[_0x5dd54d(0x1cc)]['Partial']:if(_0x5dd54d(0x818)!==_0x1b3f29[_0x5dd54d(0x920)][_0x5dd54d(0x43f)])return;if(_0x1b3f29[_0x5dd54d(0x920)]&&void 0x0!==_0x1b3f29[_0x5dd54d(0x920)][_0x5dd54d(0x40c)]){if(void 0x0===_0x1b3f29[_0x5dd54d(0x920)]['index'])return void _0x2d89a7(_0x5953b5['codes']['GenerativeAIContextInvalidPartialResult']);_0x1c530e===_0x1b3f29['result'][_0x5dd54d(0x9e1)]?(_0x3eeda9[_0x5dd54d(0x77b)](_0x1b3f29[_0x5dd54d(0x920)]),_0x1c530e++,((()=>{const _0x29fd4f=_0x5dd54d;for(;_0x2be3be[_0x29fd4f(0x4a6)](_0x1c530e);)_0x3eeda9[_0x29fd4f(0x77b)](_0x2be3be[_0x29fd4f(0x603)](_0x3eeda9[_0x29fd4f(0x3f4)])),_0x2be3be[_0x29fd4f(0xa66)](_0x3eeda9[_0x29fd4f(0x3f4)]),_0x1c530e++;})()),_0x148a63(),_0x20fe9a()):_0x2be3be[_0x5dd54d(0x5f0)](_0x1b3f29[_0x5dd54d(0x920)][_0x5dd54d(0x9e1)],_0x1b3f29[_0x5dd54d(0x920)]);}break;case _0x12ff66['JobStatus'][_0x5dd54d(0x7b3)]:if('prompt'!==_0x1b3f29[_0x5dd54d(0x920)][_0x5dd54d(0x43f)])return;const _0x310700=_0x1b3f29[_0x5dd54d(0x920)][_0x5dd54d(0x3b0)]??0x0;this[_0x5dd54d(0x481)](_0x2103cb,_0x310700),clearTimeout(_0x49fe42),_0x2d89a7(),this['prompts']+=0x1,this[_0x5dd54d(0x1c3)]+=_0x310700,this[_0x5dd54d(0x88e)]();break;case _0x12ff66[_0x5dd54d(0x1cc)]['Failed']:clearTimeout(_0x49fe42),_0x2d89a7(_0x5953b5[_0x5dd54d(0x913)][_0x5dd54d(0x3d5)]),this[_0x5dd54d(0x88e)]();}},'error':_0x3b15da=>{const _0x1edbd3=_0x37d340;clearTimeout(_0x49fe42),_0x2d89a7(_0x5953b5[_0x1edbd3(0x913)][_0x1edbd3(0x3d5)]);}}),_0x3bab75=()=>{const _0x304090=_0x37d340;_0x2d89a7(_0x5953b5[_0x304090(0x913)][_0x304090(0x4fe)]);},_0x20fe9a=()=>{clearTimeout(_0x49fe42),_0x49fe42=setTimeout(_0x3bab75,_0x325d34);};for(_0x49fe42=setTimeout(_0x3bab75,_0x325d34);!_0x572f67||_0x3eeda9[_0x37d340(0x3f4)]>0x0;)_0x3eeda9['length']>0x0?yield _0x3eeda9['shift']():await new Promise(_0x15b39e=>_0x4f879e=_0x15b39e);if(_0x4e4abe)throw _0x4826cd[_0x37d340(0x5c0)](_0x37d340(0x51e),{'nodeId':this[_0x37d340(0x31a)][_0x37d340(0x78a)](),'nodeType':this['localNode'][_0x37d340(0x43f)]}),new _0x5953b5(_0x4e4abe);}async[_0x178721(0x6eb)](){const _0x2ca835=_0x178721;return(await _0x1099e5[_0x2ca835(0x446)](this[_0x2ca835(0x92c)],this['label']))[_0x2ca835(0x419)];}['logServiceEvent'](_0x354779,_0x28ec0b){const _0x3e1574=_0x178721,_0x2ea63d=this[_0x3e1574(0x8f4)],_0x1770f5=this[_0x3e1574(0x691)]();_0x4826cd['logServiceEvent'](_0x512f56['GenerativeAIContext'],{'topic':_0x2ea63d,'prompt':_0x354779,'type':'prompt','nodeId':_0x1770f5,'tokenCount':_0x28ec0b});}async[_0x178721(0x733)](_0x2ed6fa,_0xf0336f,_0x428935,_0x74135c={}){const _0x4f2daa=_0x178721;let _0xa7dcd4;switch(_0x428935[_0x4f2daa(0x43f)]){case _0x4f2daa(0x818):{const {threadId:_0x1afbfe}=_0x74135c;_0xa7dcd4={'id':_0x2ed6fa,'jobType':_0xf0336f,'parameters':{..._0x74135c,'type':_0x4f2daa(0x818),'prompt':_0x428935[_0x4f2daa(0x818)],'threadId':_0x1afbfe},'status':_0x12ff66[_0x4f2daa(0x1cc)][_0x4f2daa(0x289)]};break;}case _0x4f2daa(0x4d2):{const {threadId:_0x19a860}=_0x74135c;_0xa7dcd4={'id':_0x2ed6fa,'jobType':_0xf0336f,'parameters':{..._0x74135c,'type':'rate','jobId':_0x428935[_0x4f2daa(0x80f)],'rating':_0x428935[_0x4f2daa(0x202)],'feedback':_0x428935['feedback']??'','threadId':_0x19a860},'status':_0x12ff66[_0x4f2daa(0x1cc)][_0x4f2daa(0x289)]};break;}case _0x4f2daa(0x702):_0xa7dcd4={'id':_0x2ed6fa,'jobType':_0xf0336f,'parameters':{..._0x74135c,'type':'downloadDocument','objectStoreId':_0x428935[_0x4f2daa(0x1bc)],'documentPath':_0x428935[_0x4f2daa(0x9df)]},'status':_0x12ff66[_0x4f2daa(0x1cc)][_0x4f2daa(0x289)]};}return await this[_0x4f2daa(0x7a2)](_0xa7dcd4);}[_0x178721(0x88e)](){const _0x5caefb=_0x178721;this[_0x5caefb(0x605)]&&clearTimeout(this[_0x5caefb(0x605)]),this[_0x5caefb(0x605)]=setTimeout(async()=>{const _0x3c08c6=_0x5caefb;delete this[_0x3c08c6(0x605)],this[_0x3c08c6(0x87d)][_0x3c08c6(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x3c08c6(0xa48)],'content':{'type':_0x4ef04d['GenerativeAIContextStats'],'label':this['label'],'stats':{'timestamp':Date[_0x3c08c6(0x2e5)](),'storage':0x0,'messagesSent':this[_0x3c08c6(0x7bf)],'messagesReceived':this[_0x3c08c6(0x7a4)],'bytesSent':this[_0x3c08c6(0x608)],'bytesReceived':this[_0x3c08c6(0x6fb)],'writes':0x0,'reads':0x0,'prompts':this[_0x3c08c6(0x8e0)],'tokens':this[_0x3c08c6(0x1c3)]}}});},_0x3c1ede);}}var _0x40d4bb,_0x88059b,_0x4ddd58,_0x5bea9b,_0x30aa1d,_0x170237,_0x512f22,_0x1b38cf,_0x4324e0,_0x51509f,_0x461084;!function(_0x4f3fbc){const _0x4a9b0c=_0x178721;_0x4f3fbc[_0x4a9b0c(0x7d5)]=_0x4a9b0c(0x7d5),_0x4f3fbc[_0x4a9b0c(0x7b8)]=_0x4a9b0c(0x7b8),_0x4f3fbc[_0x4a9b0c(0x59c)]=_0x4a9b0c(0x59c),_0x4f3fbc[_0x4a9b0c(0x99e)]=_0x4a9b0c(0x99e);}(_0x40d4bb||(_0x40d4bb={})),function(_0x4d41a7){const _0x41993a=_0x178721;_0x4d41a7[_0x41993a(0x72f)]=_0x41993a(0x72f),_0x4d41a7[_0x41993a(0x367)]=_0x41993a(0x367),_0x4d41a7[_0x41993a(0x735)]=_0x41993a(0x735),_0x4d41a7['EntityExtractor']=_0x41993a(0x3c1),_0x4d41a7[_0x41993a(0x409)]='GraphSearch',_0x4d41a7['Reranker']=_0x41993a(0xa22);}(_0x88059b||(_0x88059b={})),function(_0x221454){const _0x37c85a=_0x178721;_0x221454[_0x221454[_0x37c85a(0xa61)]=0x0]=_0x37c85a(0xa61),_0x221454[_0x221454[_0x37c85a(0x26a)]=0x5]='Info',_0x221454[_0x221454[_0x37c85a(0x48b)]=0xa]=_0x37c85a(0x48b),_0x221454[_0x221454[_0x37c85a(0x5ed)]=0xf]=_0x37c85a(0x5ed);}(_0x4ddd58||(_0x4ddd58={})),function(_0x3fd900){const _0x32e2a6=_0x178721;_0x3fd900['Retrieve']=_0x32e2a6(0x399),_0x3fd900['Ingest']='Ingest',_0x3fd900['Knowledge']=_0x32e2a6(0x6b0),_0x3fd900[_0x32e2a6(0x28c)]='Skill',_0x3fd900[_0x32e2a6(0xa95)]=_0x32e2a6(0xa95),_0x3fd900[_0x32e2a6(0x550)]=_0x32e2a6(0x550),_0x3fd900[_0x32e2a6(0x386)]=_0x32e2a6(0x386),_0x3fd900['Rating']=_0x32e2a6(0x4c5);}(_0x5bea9b||(_0x5bea9b={})),function(_0x2f2633){const _0x2910d3=_0x178721;_0x2f2633[_0x2910d3(0x6f7)]='Queued',_0x2f2633[_0x2910d3(0x7b3)]=_0x2910d3(0x7b3);}(_0x30aa1d||(_0x30aa1d={})),function(_0x30a8c4){const _0x3c1923=_0x178721;_0x30a8c4[_0x3c1923(0x50d)]=_0x3c1923(0x50d),_0x30a8c4[_0x3c1923(0x307)]=_0x3c1923(0x307),_0x30a8c4[_0x3c1923(0x89e)]='DataCollection',_0x30a8c4[_0x3c1923(0x2ec)]='FinalOutput';}(_0x170237||(_0x170237={})),function(_0x11e490){const _0xef33b0=_0x178721;_0x11e490[_0xef33b0(0x3d4)]='ChunkSplitter',_0x11e490[_0xef33b0(0x679)]='DocumentParser',_0x11e490[_0xef33b0(0x3c1)]=_0xef33b0(0x3c1),_0x11e490['GraphDatabase']=_0xef33b0(0x252),_0x11e490[_0xef33b0(0x4dc)]=_0xef33b0(0x4dc),_0x11e490[_0xef33b0(0x72f)]=_0xef33b0(0x72f),_0x11e490['ModelVector']='ModelVector',_0x11e490[_0xef33b0(0x3bb)]=_0xef33b0(0x3bb),_0x11e490['SentenceSplitter']=_0xef33b0(0x4df),_0x11e490[_0xef33b0(0x262)]=_0xef33b0(0x262),_0x11e490['WordSplitter']=_0xef33b0(0xa2c);}(_0x512f22||(_0x512f22={})),function(_0x5d2a48){const _0x4e3f36=_0x178721;_0x5d2a48['GetContextQuery']=_0x4e3f36(0x267),_0x5d2a48[_0x4e3f36(0x6f5)]=_0x4e3f36(0x6f5);}(_0x1b38cf||(_0x1b38cf={})),function(_0x402cef){const _0x1262a5=_0x178721;_0x402cef[_0x1262a5(0x35a)]=_0x1262a5(0x35a),_0x402cef[_0x1262a5(0x4a1)]=_0x1262a5(0x4a1),_0x402cef[_0x1262a5(0x3dd)]='SearchGoogle',_0x402cef['SearchPerplexity']=_0x1262a5(0x907),_0x402cef[_0x1262a5(0x400)]=_0x1262a5(0x400),_0x402cef['ExecuteCustomSkill']=_0x1262a5(0x345);}(_0x4324e0||(_0x4324e0={})),function(_0x5440db){const _0x2bb5a4=_0x178721;_0x5440db[_0x2bb5a4(0x9f7)]='LoadKnowledgeFunction',_0x5440db[_0x2bb5a4(0x1b4)]=_0x2bb5a4(0x1b4);}(_0x51509f||(_0x51509f={})),function(_0x30c9d7){_0x30c9d7['PromptRating']='PromptRating';}(_0x461084||(_0x461084={}));class _0x2442f1{static [_0x178721(0x597)]=new _0x2442f1();[_0x178721(0x266)]=[];[_0x178721(0x787)]=!0x1;constructor(){}static['getInstance'](){const _0x17d6c6=_0x178721;return _0x2442f1[_0x17d6c6(0x597)];}get[_0x178721(0x3f4)](){const _0x2e7ed=_0x178721;return this[_0x2e7ed(0x266)]['length'];}['isAvailable'](){const _0x30db78=_0x178721;return!this[_0x30db78(0x787)];}[_0x178721(0x6f1)](_0x52239e){const _0x11a733=_0x178721;_0x52239e?this[_0x11a733(0x266)]=this[_0x11a733(0x266)][_0x11a733(0x434)](_0x1e3ff3=>_0x1e3ff3[_0x11a733(0x1d7)]!==_0x52239e):(this[_0x11a733(0x266)]=[],this[_0x11a733(0x787)]=!0x1);}[_0x178721(0x9b5)](_0x1ebacb,_0x3c544a){const _0x1e18f0=_0x178721;this[_0x1e18f0(0x266)][_0x1e18f0(0x77b)]({'callback':_0x3c544a,'ownerId':_0x1ebacb}),this['runJobQueue']();}async['runJobQueue'](){const _0xf19e=_0x178721;if(!this['isRunning']){for(this[_0xf19e(0x787)]=!0x0;this[_0xf19e(0x266)]['length']>0x0;){const _0x1fdf21=this[_0xf19e(0x266)][_0xf19e(0x9cd)]();if(_0x1fdf21)try{console[_0xf19e(0x2e4)](_0xf19e(0x49e)),await _0x1fdf21[_0xf19e(0x547)](),console[_0xf19e(0x2e4)](_0xf19e(0xaab));}catch(_0x510fc7){console[_0xf19e(0x5c0)](_0xf19e(0x349),_0x510fc7);}}this[_0xf19e(0x787)]=!0x1;}}}const _0x18bcfb=_0x2442f1['getInstance']();class _0x484abd extends _0x253fab{[_0x178721(0x219)];[_0x178721(0xa2d)];constructor(_0x52b318,_0x1c6c72,_0x5df309){const _0x27a91a=_0x178721;super(_0x52b318,_0x1c6c72),this[_0x27a91a(0x219)]=_0x5df309;}[_0x178721(0x79e)](){const _0x3a1d0b=_0x178721;return _0x12ff66['ContentType'][_0x3a1d0b(0x550)];}['open'](){const _0x47d23c=_0x178721;this[_0x47d23c(0x945)]();}['close'](){const _0x904c68=_0x178721;this[_0x904c68(0x87d)]?.[_0x904c68(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x904c68(0xa48)],'content':{'type':_0x4ef04d[_0x904c68(0x62c)],'label':this[_0x904c68(0x8f4)]}});}[_0x178721(0x6ea)](){const _0xc73bc8=_0x178721;this[_0xc73bc8(0xa2d)]?.(),delete this['unsubscribeListener'],this[_0xc73bc8(0x44a)]();}[_0x178721(0x4c1)](){const _0x26fe04=_0x178721;_0x18bcfb['clear'](this[_0x26fe04(0x8f4)]),this[_0x26fe04(0xa2d)]?.(),delete this[_0x26fe04(0xa2d)],super[_0x26fe04(0x4c1)]();}['isAvailable'](){const _0xcb2a72=_0x178721;return _0x18bcfb[_0xcb2a72(0x3fe)]();}[_0x178721(0x50e)](){return 0x1;}['compileStats'](_0x14cdee,_0x2d5ef4,_0x2ea920){}[_0x178721(0x3d9)](_0x1a18a3,_0x1c3f42){return _0x1a18a3;}[_0x178721(0xa1a)](_0x3e3779,_0x4136ee){const _0x12bb71=_0x178721;console[_0x12bb71(0x2e4)](_0x12bb71(0x94e));}['stopTracing'](_0x2a675a,_0x406d3e){const _0xb9bb5d=_0x178721;console[_0xb9bb5d(0x2e4)](_0xb9bb5d(0x94e));}[_0x178721(0x945)](){const _0x450ebd=_0x178721;this[_0x450ebd(0xa2d)]||(this[_0x450ebd(0xa2d)]=this['onMessage']((_0xd51b16,_0x1a363d)=>{const _0x5435bf=_0x450ebd;if(_0x4826cd[_0x5435bf(0x51c)](_0x312d1f[_0x5435bf(0x744)],_0x5435bf(0x66c),_0x1a363d),!(_0x1a363d instanceof File)){if(this[_0x5435bf(0x772)](_0x1a363d))_0x4826cd[_0x5435bf(0x51c)](_0x312d1f[_0x5435bf(0x744)],_0x5435bf(0x6d0),_0x1a363d),this[_0x5435bf(0x3fe)]()?this[_0x5435bf(0x996)](_0x1a363d['id'],_0x1a363d['jobType'],_0xd51b16):this[_0x5435bf(0x2c5)](_0x1a363d['id'],_0x1a363d[_0x5435bf(0x3c9)],_0xd51b16);else{if(this[_0x5435bf(0x402)](_0x1a363d)){_0x4826cd[_0x5435bf(0x51c)](_0x312d1f['Jobs'],_0x5435bf(0x849),_0x1a363d);const {id:_0x1e0c29,parameters:_0xe04ec}=_0x1a363d;this['startTracing'](_0x1e0c29,_0xe04ec),_0x18bcfb[_0x5435bf(0x9b5)](this[_0x5435bf(0x8f4)],()=>this[_0x5435bf(0x51b)](_0x1a363d['id'],_0x1a363d,_0xd51b16));}}}}));}[_0x178721(0x996)](_0x14457d,_0x2a7dc5,_0x33b306){const _0x1f98e8=_0x178721,_0x5d8dd9={'id':_0x14457d,'jobType':_0x2a7dc5,'jobPhase':_0xaca8ae[_0x1f98e8(0x376)],'available':!0x0,'queueLength':_0x18bcfb[_0x1f98e8(0x3f4)],'bid':this[_0x1f98e8(0x50e)]()};_0x4826cd[_0x1f98e8(0x51c)](_0x312d1f[_0x1f98e8(0x744)],_0x1f98e8(0x26b),_0x5d8dd9),this[_0x1f98e8(0x9fa)](_0x5d8dd9,[_0x33b306]);}['sendReject'](_0x307dc8,_0x4fc604,_0x194abc){const _0x17824e=_0x178721,_0x1e82de={'id':_0x307dc8,'jobType':_0x4fc604,'jobPhase':_0xaca8ae[_0x17824e(0x376)],'available':!0x1,'queueLength':_0x18bcfb[_0x17824e(0x3f4)],'bid':0x0};_0x4826cd[_0x17824e(0x51c)](_0x312d1f['Jobs'],_0x17824e(0x6ee),_0x1e82de),this[_0x17824e(0x9fa)](_0x1e82de,[_0x194abc]);}async[_0x178721(0x51b)](_0x1dec61,_0x2c85a3,_0x5809fa){const _0x5a2861=_0x178721;_0x4826cd[_0x5a2861(0x51c)](_0x312d1f[_0x5a2861(0x744)],_0x5a2861(0x8c7),_0x2c85a3);const _0x214cf7={'id':_0x1dec61,'jobType':_0x2c85a3[_0x5a2861(0x3c9)],'parameters':_0x2c85a3[_0x5a2861(0x783)]};try{switch(_0x2c85a3['jobType']){case _0x12ff66[_0x5a2861(0x4a7)][_0x5a2861(0x550)]:await this[_0x5a2861(0x53e)](_0x1dec61,_0x2c85a3,_0x214cf7,_0x5809fa);break;case _0x12ff66['JobType'][_0x5a2861(0x9ed)]:await this[_0x5a2861(0xa30)](_0x1dec61,_0x2c85a3,_0x214cf7,_0x5809fa);break;default:throw new Error(_0x5a2861(0x95c));}}catch(_0x42935d){_0x4826cd[_0x5a2861(0x5c0)](_0x5a2861(0x6cd),{'nodeId':this['owner'][_0x5a2861(0x78a)](),'nodeType':this[_0x5a2861(0x196)][_0x5a2861(0x43f)],'data':{'job':_0x214cf7}},_0x42935d);const _0xeec79b=_0x42935d instanceof Error?_0x42935d[_0x5a2861(0x61f)]:_0x5a2861(0x4b5),_0x441d23={'id':_0x1dec61,'jobType':_0x2c85a3[_0x5a2861(0x3c9)],'jobPhase':_0xaca8ae['Failed'],'message':_0xeec79b};await this[_0x5a2861(0x9fa)](_0x441d23,[_0x5809fa]);}}async['processJob'](_0x33f45a,_0x2ead5d,_0x5b768d,_0x41ec59){const _0x23353b=_0x178721,_0xecc93d=Date['now'](),_0x3c91fe=await this[_0x23353b(0xa36)](_0x33f45a,_0x5b768d[_0x23353b(0x783)]);this[_0x23353b(0x1f6)](_0x3c91fe,_0xecc93d,Date[_0x23353b(0x2e5)]());const _0x1cbc30={'id':_0x33f45a,'jobType':_0x2ead5d[_0x23353b(0x3c9)],'jobPhase':_0xaca8ae[_0x23353b(0x96b)],'result':_0x3c91fe};_0x4826cd[_0x23353b(0x51c)](_0x312d1f['Jobs'],_0x23353b(0x199),_0x1cbc30),await this[_0x23353b(0x9fa)](_0x1cbc30,[_0x41ec59]),this[_0x23353b(0x3fd)](_0x33f45a,_0x5b768d['parameters']);}async[_0x178721(0xa30)](_0x82977c,_0x47f666,_0x32b34d,_0x132f61){const _0x5100da=_0x178721,_0x315d6e=Date[_0x5100da(0x2e5)]();let _0x3da3c6=0x0,_0x32ae20={};for await(const _0x5f519f of this[_0x5100da(0x472)](_0x32b34d['id'],_0x32b34d['parameters'])){const _0x1e03d5={'id':_0x82977c,'jobType':_0x47f666['jobType'],'jobPhase':_0xaca8ae[_0x5100da(0x759)],'result':{..._0x5f519f,'index':_0x3da3c6}};_0x4826cd[_0x5100da(0x51c)](_0x312d1f[_0x5100da(0x744)],_0x5100da(0x856),_0x1e03d5),this[_0x5100da(0x9fa)](_0x1e03d5,[_0x132f61]),_0x32ae20=this[_0x5100da(0x3d9)](_0x32ae20,_0x5f519f),_0x3da3c6++;}this['compileStats'](_0x32ae20,_0x315d6e,Date[_0x5100da(0x2e5)]());const _0x1da6a5={'id':_0x82977c,'jobType':_0x47f666['jobType'],'jobPhase':_0xaca8ae[_0x5100da(0x96b)],'result':_0x32ae20};_0x4826cd[_0x5100da(0x51c)](_0x312d1f[_0x5100da(0x744)],_0x5100da(0x199),_0x1da6a5),await this[_0x5100da(0x9fa)](_0x1da6a5,[_0x132f61]),this[_0x5100da(0x3fd)](_0x82977c,_0x32b34d['parameters']);}['isJobRequest'](_0x2e7ee8){const _0x4bcb59=_0x178721;return _0x2e7ee8['jobPhase']===_0xaca8ae[_0x4bcb59(0x95d)];}['isJobAttribution'](_0x5d4ffa){const _0x6d8bf4=_0x178721;return _0x5d4ffa[_0x6d8bf4(0x697)]===_0xaca8ae['Attribution'];}}function _0x5ef62c(_0x5330d5,_0x31c2a8){return'logging-db-'+_0x5330d5+'-'+_0x31c2a8;}function _0x5ee01a(){const _0x11d09c=_0x178721,_0x4bfeec=_0x3bd611[_0x11d09c(0x313)](0x1);return _0x4bfeec[_0x11d09c(0x5e6)](_0x11d09c(0xaaf))['index']('id')['index'](_0x11d09c(0x80f))[_0x11d09c(0x9e1)](_0x11d09c(0x37a))['index'](_0x11d09c(0x998))[_0x11d09c(0x9e1)]('timestamp')[_0x11d09c(0x9e1)](_0x11d09c(0x4e6)),_0x4bfeec;}function _0x50b9ff(_0x5281dc){const _0x1e51ea=_0x178721;try{return JSON[_0x1e51ea(0x37e)](_0x5281dc);}catch(_0x4fac02){return _0x5281dc instanceof Error?_0x5281dc[_0x1e51ea(0x729)]():JSON[_0x1e51ea(0x37e)](_0x1e51ea(0x1be));}}class _0x44efd4{static ['instance'];['logLevel']=_0x4ddd58['Error'];[_0x178721(0x5fd)]=_0x4ddd58['Info'];['commitType']=_0x5bea9b[_0x178721(0x399)];[_0x178721(0x3c8)]={};static [_0x178721(0x55a)]=()=>(_0x44efd4[_0x178721(0x597)]||(_0x44efd4[_0x178721(0x597)]=new _0x44efd4()),_0x44efd4[_0x178721(0x597)]);[_0x178721(0x352)](_0x1d06a3,_0x2b8cd1,_0x1aa80f=!0x0){const _0x13420c=_0x178721;try{if(this['openedTraces'][_0x2b8cd1])throw new Error(_0x13420c(0x67b));const _0x3c2726={'sequence':0x0};if(this[_0x13420c(0x3c8)][_0x2b8cd1]=_0x3c2726,!_0x1d06a3)return!0x0;const _0x764721=function(_0x262795){return _0x262795['getTable']('logs');}(_0x1d06a3);return _0x3c2726[_0x13420c(0x2bf)]=_0x1d06a3,_0x3c2726[_0x13420c(0x5e6)]=_0x764721,!0x0;}catch(_0x45671f){return console['error'](_0x13420c(0x7d3)+_0x1aa80f,_0x45671f),!!_0x1aa80f&&(this[_0x13420c(0x559)](_0x2b8cd1),this['openTrace'](_0x1d06a3,_0x2b8cd1,!0x1));}}[_0x178721(0x70a)](_0x5773f3){const _0x3c1d67=_0x178721;try{const _0x192a1e=this[_0x3c1d67(0x3c8)][_0x5773f3[_0x3c1d67(0x80f)]];if(!_0x192a1e)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x5773f3['sequence']=_0x192a1e[_0x3c1d67(0x4e6)]++,_0x5773f3[_0x3c1d67(0x6c7)]>=this[_0x3c1d67(0x468)]&&console[_0x3c1d67(0x51c)](JSON[_0x3c1d67(0x37e)](_0x5773f3,null,0x2)),this[_0x3c1d67(0x8db)](_0x5773f3);}catch(_0x1fe840){console[_0x3c1d67(0x5c0)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x1fe840);}}['closeTrace'](_0x2e6326){const _0x454dc1=_0x178721;if(!_0x44efd4[_0x454dc1(0x597)])throw new Error(_0x454dc1(0x37b));if(!this[_0x454dc1(0x3c8)][_0x2e6326])throw new Error(_0x454dc1(0x4ca));delete this[_0x454dc1(0x3c8)][_0x2e6326];}['commitTrace'](_0x409cf0){const _0x4f5ab1=_0x178721;if(_0x409cf0[_0x4f5ab1(0x6c7)]<this[_0x4f5ab1(0x5fd)]&&_0x409cf0[_0x4f5ab1(0x3c9)]!==this[_0x4f5ab1(0x581)])return;if(!this[_0x4f5ab1(0x3c8)][_0x409cf0[_0x4f5ab1(0x80f)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x115f3b=this['openedTraces'][_0x409cf0[_0x4f5ab1(0x80f)]];if(!_0x115f3b[_0x4f5ab1(0x2bf)])throw new Error(_0x4f5ab1(0x6d7));if(!_0x115f3b[_0x4f5ab1(0x5e6)])throw new Error(_0x4f5ab1(0x981));try{const _0x5a1ed8=function(_0x3f9dfd){const _0x4daee1=_0x4f5ab1,_0x18bf86=[_0x4daee1(0x649),'timestamp',_0x4daee1(0x3c9),_0x4daee1(0x43f),_0x4daee1(0x80f),_0x4daee1(0x6c7),_0x4daee1(0x9ef),_0x4daee1(0x925),_0x4daee1(0x4e6),_0x4daee1(0x693)],_0x36f346={..._0x3f9dfd};for(const _0x52652d of _0x18bf86)delete _0x36f346[_0x52652d];return{'timestamp':_0x3f9dfd[_0x4daee1(0x8cd)],'jobType':_0x3f9dfd[_0x4daee1(0x3c9)],'type':_0x3f9dfd[_0x4daee1(0x43f)],'jobId':_0x3f9dfd[_0x4daee1(0x80f)],'agentId':_0x3f9dfd[_0x4daee1(0x37a)]??'','traceLevel':_0x3f9dfd[_0x4daee1(0x6c7)],'blockId':_0x3f9dfd[_0x4daee1(0x9ef)]??'','startTime':_0x3f9dfd['startTime'],'status':_0x3f9dfd[_0x4daee1(0x925)],'sequence':_0x3f9dfd[_0x4daee1(0x4e6)]??0x0,'errorDetails':_0x3f9dfd[_0x4daee1(0x693)]??'','metadata':_0x50b9ff(_0x36f346)};}(_0x409cf0),_0x28c34c=(0x0,_0x4848bd['v4'])();console['log'](_0x4f5ab1(0x52c),_0x5a1ed8[_0x4f5ab1(0x43f)]),_0x115f3b[_0x4f5ab1(0x5e6)]['set'](_0x28c34c,_0x5a1ed8);}catch(_0x2d3367){console[_0x4f5ab1(0x5c0)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x2d3367);}}}const _0x2f5394=_0x44efd4[_0x178721(0x55a)]();async function _0x2535ee(_0x51b28c,_0x476514,_0x2d0939,_0x4ef851,_0x4905ef){const _0x460f1d=_0x178721,_0x52e923=Date[_0x460f1d(0x2e5)](),_0xf90e5e=_0x4905ef[_0x460f1d(0x4ae)][_0x460f1d(0x940)](_0x530f6b=>_0x530f6b['id']===_0x2d0939[_0x460f1d(0x7db)]);if(!_0xf90e5e)throw new Error(_0x460f1d(0x504));const _0x2c298b=_0x4905ef[_0x460f1d(0xa09)][_0x460f1d(0x940)](_0x4ec218=>_0x4ec218[_0x460f1d(0x277)]()===_0xf90e5e[_0x460f1d(0x4ea)]);if(!_0x2c298b)throw new Error('No\x20connector\x20found\x20for\x20model');const _0xe90fec=[],_0x3434e5=(0x0,_0x4848bd['v4'])(),_0x2ffec3=await _0x2c298b[_0x460f1d(0x53e)]({'type':_0x460f1d(0x818),'prompt':_0x476514,'instructions':_0x2d0939[_0x460f1d(0x711)],'grammar':_0x2d0939[_0x460f1d(0x9db)],'temperature':_0x2d0939[_0x460f1d(0x4d6)],'maxTokens':_0x2d0939[_0x460f1d(0x892)],'threadId':_0x3434e5},{'model':_0xf90e5e});if(_0x460f1d(0x6a8)!=typeof _0x2ffec3[_0x460f1d(0x40c)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');if(_0x2f5394[_0x460f1d(0x70a)]({'jobType':_0x5bea9b[_0x460f1d(0x5cf)],'type':_0x512f22[_0x460f1d(0x4dc)],'jobId':_0x51b28c,'blockId':_0x2d0939['id'],'traceLevel':_0x4ddd58['Debug'],'timestamp':Date[_0x460f1d(0x2e5)](),'startTime':_0x52e923,'status':'success','agentId':_0x3434e5,'content':_0x476514,'instructions':_0x2d0939['instructions'],'result':_0x2ffec3['output']}),_0x2d0939[_0x460f1d(0x99f)]?.[_0x460f1d(0x216)](_0x8f0b6e=>_0x8f0b6e[_0x460f1d(0x43f)]===_0x330a3f[_0x460f1d(0x873)]))return _0xe90fec[_0x460f1d(0x77b)]({'content':_0x2ffec3[_0x460f1d(0x40c)],'start':0x0,'length':_0x2ffec3[_0x460f1d(0x40c)][_0x460f1d(0x3f4)]}),await _0x41afe1(_0x51b28c,_0xe90fec,_0x2d0939,_0x4ef851,_0x4905ef),void await _0x41afe1(_0x51b28c,_0x2ffec3[_0x460f1d(0x40c)],_0x2d0939,_0x4ef851,_0x4905ef);_0xe90fec[_0x460f1d(0x77b)]({'content':_0x2ffec3['output'],'start':0x0,'length':_0x476514['length']}),await _0x41afe1(_0x51b28c,_0xe90fec,_0x2d0939,_0x4ef851,_0x4905ef);}async function _0x33aa9d(_0x41ebfc,_0x291029,_0x1ef2a6,_0x2f6c2e,_0x33c6ce){const _0x5cdf7d=_0x178721,_0x419640=Date[_0x5cdf7d(0x2e5)]();let _0x156735=[];if(_0x291029 instanceof Array){for(const _0x103462 of _0x291029)_0x156735=_0x156735[_0x5cdf7d(0x4b1)](_0x24273f(_0x103462[_0x5cdf7d(0x855)],_0x1ef2a6,_0x103462[_0x5cdf7d(0x2cf)],_0x103462[_0x5cdf7d(0x3f4)]));}else _0x156735=_0x24273f(_0x291029,_0x1ef2a6);_0x2f5394[_0x5cdf7d(0x70a)]({'jobType':_0x5bea9b['Ingest'],'type':_0x512f22[_0x5cdf7d(0x3d4)],'traceLevel':_0x4ddd58[_0x5cdf7d(0xa61)],'jobId':_0x41ebfc,'blockId':_0x1ef2a6['id'],'startTime':_0x419640,'timestamp':Date['now'](),'status':_0x5cdf7d(0x52f),'totalChunks':_0x156735[_0x5cdf7d(0x3f4)],'chunkSize':_0x1ef2a6[_0x5cdf7d(0xa0d)][_0x5cdf7d(0x3e6)]}),await _0x41afe1(_0x41ebfc,_0x156735,_0x1ef2a6,_0x2f6c2e,_0x33c6ce);}function _0x24273f(_0x482d7a,_0x4f1f56,_0x29d843,_0x1e46a9){const _0x3ea715=_0x178721,_0x44003a=[];let _0x5d1685=0x0;for(let _0x1cad13=0x0;_0x1cad13<_0x482d7a[_0x3ea715(0x3f4)];_0x1cad13+=_0x4f1f56[_0x3ea715(0xa0d)][_0x3ea715(0x3e6)]){let _0xa276b2=_0x1cad13-_0x4f1f56['attributes'][_0x3ea715(0x71b)];_0xa276b2<0x0&&(_0xa276b2=0x0);let _0x5e3763=_0x1cad13+_0x4f1f56[_0x3ea715(0xa0d)][_0x3ea715(0x3e6)]+_0x4f1f56[_0x3ea715(0xa0d)][_0x3ea715(0x71b)];_0x5e3763>_0x482d7a[_0x3ea715(0x3f4)]&&(_0x5e3763=_0x482d7a[_0x3ea715(0x3f4)]);const _0x11494f=_0x482d7a['substring'](_0xa276b2,_0x5e3763);_0x44003a[_0x3ea715(0x77b)]({'content':_0x11494f,'start':_0x29d843??_0x5d1685,'length':_0x1e46a9??_0x11494f['length']}),_0x5d1685+=_0x11494f[_0x3ea715(0x3f4)];}return _0x44003a;}async function _0xc6f5e9(_0xb7d78a,_0x49b80e,_0x4bc5f4,_0x242850,_0x4122ad){const _0x1b25ac=_0x178721,_0x5aa143=Date[_0x1b25ac(0x2e5)]();let _0x171be3;if(_0x49b80e['file'][_0x1b25ac(0x43f)][_0x1b25ac(0x9c8)](_0x1b25ac(0x9f2))||_0x3bbddc(_0x49b80e[_0x1b25ac(0x183)][_0x1b25ac(0x54e)],_0x3f2b06))_0x171be3=await _0x49b80e[_0x1b25ac(0x183)][_0x1b25ac(0x936)]();else{if(!_0x4122ad[_0x1b25ac(0x962)][_0x1b25ac(0x28b)](_0x49b80e[_0x1b25ac(0x183)]))throw new Error(_0x1b25ac(0x34a)+_0x49b80e[_0x1b25ac(0x183)]['type']+_0x1b25ac(0x417)+_0x49b80e[_0x1b25ac(0x183)][_0x1b25ac(0x54e)]);_0x171be3=await _0x4122ad[_0x1b25ac(0x962)][_0x1b25ac(0x8b5)](_0x49b80e[_0x1b25ac(0x183)]);}_0x2f5394['trace']({'jobType':_0x5bea9b['Ingest'],'type':_0x512f22[_0x1b25ac(0x679)],'traceLevel':_0x4ddd58[_0x1b25ac(0xa61)],'blockId':_0x4bc5f4['id'],'jobId':_0xb7d78a,'startTime':_0x5aa143,'timestamp':Date['now'](),'status':_0x1b25ac(0x52f),'documentType':_0x49b80e[_0x1b25ac(0x183)][_0x1b25ac(0x43f)],'documentName':_0x49b80e[_0x1b25ac(0x183)][_0x1b25ac(0x54e)],'extractionMethod':_0x1b25ac(0x9e9)}),await _0x41afe1(_0xb7d78a,_0x171be3,_0x4bc5f4,_0x242850,_0x4122ad);}const _0x3f2b06=[_0x178721(0x23f),_0x178721(0x8e9),_0x178721(0x9f5),_0x178721(0xa68),_0x178721(0x1d4),_0x178721(0x360),_0x178721(0x646),_0x178721(0x1ef),_0x178721(0x9f1),'.yml',_0x178721(0x789),_0x178721(0x887),_0x178721(0x8f1),_0x178721(0x388),_0x178721(0x269),_0x178721(0x20d),_0x178721(0x562),_0x178721(0x8ea),_0x178721(0x884),_0x178721(0x973),'.c',_0x178721(0x3e2),_0x178721(0x35e),'.r',_0x178721(0x955),_0x178721(0xaae),_0x178721(0x8ae),_0x178721(0x565),'.rs',_0x178721(0x622),'.pl','.lua',_0x178721(0xa39),_0x178721(0x551),'.groovy',_0x178721(0x51a),_0x178721(0x4e5),'.exs',_0x178721(0x666),_0x178721(0x330),_0x178721(0x7ff),'.m',_0x178721(0x25f),_0x178721(0x48e),_0x178721(0x731),_0x178721(0x324),_0x178721(0x906),'.jsx',_0x178721(0x16d),_0x178721(0x6e9),_0x178721(0x3d0),'.jinja','.jinja2','.hbs',_0x178721(0x9ab),_0x178721(0x66b),'.pug',_0x178721(0x36c),_0x178721(0x7c8),_0x178721(0x4fb),_0x178721(0x56c),_0x178721(0x8e3),'.djt'];function _0x3bbddc(_0xb19f49,_0x1b23bb){const _0x30048c=_0x178721;return _0x1b23bb['includes']('.'+(_0xb19f49[_0x30048c(0x6af)]('.')[_0x30048c(0xa5e)]()?.[_0x30048c(0x7ca)]()||''));}async function _0x6f1974(_0x4c899c,_0x53c3a0,_0x15d8aa,_0x27b769,_0x1cbf9c){const _0x344581=_0x178721,_0x34a854=Date['now'](),_0x147e5a=new Set();let _0x39cf62=0x0;for(const _0x1b2578 of _0x53c3a0)_0x39cf62+=_0x1b2578['content'][_0x344581(0x3f4)],await _0x28e509(_0x1b2578['content'],_0x147e5a,_0x15d8aa,_0x1cbf9c['nlpLibraryConnector']);_0x2f5394[_0x344581(0x70a)]({'jobType':_0x5bea9b[_0x344581(0x5cf)],'type':_0x512f22['EntityExtractor'],'jobId':_0x4c899c,'blockId':_0x15d8aa['id'],'traceLevel':_0x4ddd58[_0x344581(0xa61)],'startTime':_0x34a854,'timestamp':Date[_0x344581(0x2e5)](),'status':_0x344581(0x52f),'contentLength':_0x39cf62,'totalChunks':_0x53c3a0 instanceof Array?_0x53c3a0[_0x344581(0x3f4)]:0x1,'entitiesExtracted':_0x147e5a,'totalEntities':_0x147e5a[_0x344581(0x3e6)]}),await _0x41afe1(_0x4c899c,_0x147e5a,_0x15d8aa,_0x27b769,_0x1cbf9c);}async function _0x28e509(_0x19fbee,_0x5a711e,_0x4e6719,_0x18bfc0){const _0x22b404=_0x178721,_0x23b206=await _0x18bfc0[_0x22b404(0x2e3)](_0x19fbee,{'ner':_0x4e6719[_0x22b404(0xa0d)]['ner'],'noun':_0x4e6719[_0x22b404(0xa0d)][_0x22b404(0x320)],'propn':_0x4e6719['attributes'][_0x22b404(0x9be)],'verb':_0x4e6719['attributes'][_0x22b404(0x37f)]});for(const _0x3f51cb of _0x23b206)_0x5a711e[_0x22b404(0x9b5)](_0x3f51cb);}function _0x13e402(_0x364045,_0x1adbc5,_0x4dfaa9,_0x1f0ec9,_0x317116){const _0x5677e1=_0x178721,_0x59ae73=Date[_0x5677e1(0x2e5)]();if(_0x4dfaa9['accumulated']||(_0x4dfaa9[_0x5677e1(0x17a)]={}),_0x5677e1(0x6a8)==typeof _0x1adbc5?_0x4dfaa9[_0x5677e1(0x17a)]['content']=_0x1adbc5:_0x1adbc5 instanceof Set?_0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x830)]=_0x1adbc5:_0x1adbc5 instanceof Map?_0x4dfaa9['accumulated'][_0x5677e1(0x96d)]=_0x1adbc5:_0x1adbc5 instanceof Array?_0x4dfaa9[_0x5677e1(0x17a)]['index']=_0x1adbc5:_0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x183)]=_0x1adbc5,_0x4dfaa9[_0x5677e1(0x771)]=_0x4dfaa9[_0x5677e1(0x771)]?_0x4dfaa9[_0x5677e1(0x771)]+0x1:0x1,_0x3f71a8(_0x4dfaa9,_0x1f0ec9)>_0x4dfaa9[_0x5677e1(0x771)])return;if(!(_0x4dfaa9[_0x5677e1(0x17a)]['entities']&&_0x4dfaa9['accumulated']['file']&&_0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x855)]&&_0x4dfaa9['accumulated'][_0x5677e1(0x9e1)]))throw new Error(_0x5677e1(0x816));let _0x5166ea=0x0;const _0x4ce647=_0x317116[_0x5677e1(0x73d)]['getGraphDatabase'](_0x4dfaa9['id']);for(const _0x320a3a of _0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x830)]){let _0x1ffa26=[];_0x1ffa26=_0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x9e1)]['filter'](_0x2107df=>_0x2107df[_0x5677e1(0x855)][_0x5677e1(0x31d)](_0x320a3a));try{_0x4ce647[_0x5677e1(0x3ee)](_0x4dfaa9['accumulated'][_0x5677e1(0x183)]['pathName'],_0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x855)],_0x1ffa26,_0x320a3a),_0x5166ea+=0x1;}catch(_0x59f1bd){}}if(_0x4dfaa9['accumulated'][_0x5677e1(0x96d)]){for(const [_0x5f55fb,_0x18737c]of _0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x96d)])for(const _0x5c9e55 of _0x18737c)try{_0x4ce647['addEdge'](_0x5f55fb,_0x5c9e55);}catch(_0xe1a727){}if(_0x4ce647['getIsLoaded']()){let _0x9d6410=''+(_0x317116['version']??0x1);for(const _0x40e086 of _0x1f0ec9)if(_0x40e086[_0x5677e1(0x43f)]===_0x129c97[_0x5677e1(0x4dc)]){_0x9d6410=_0x9d6410+'-'+(_0x40e086[_0x5677e1(0x792)]??0x1);break;}_0x4ce647['saveToDisk'](_0x9d6410);}_0x2f5394[_0x5677e1(0x70a)]({'jobType':_0x5bea9b['Ingest'],'type':_0x512f22[_0x5677e1(0x252)],'jobId':_0x364045,'blockId':_0x4dfaa9['id'],'status':_0x5677e1(0x52f),'startTime':_0x59ae73,'timestamp':Date['now'](),'traceLevel':_0x4ddd58[_0x5677e1(0xa61)],'nodesAdded':_0x5166ea,'entities':_0x4dfaa9[_0x5677e1(0x17a)]['entities'],'relations':_0x4dfaa9[_0x5677e1(0x17a)][_0x5677e1(0x96d)]});}}async function _0x17e091(_0x241b5a,_0x33d7b8,_0x3de806,_0x46cd9a,_0x170511){const _0x1d01cf=_0x178721,_0x388c82=_0x170511['models']['find'](_0x5f48fd=>_0x5f48fd['id']===_0x3de806['id']);if(!_0x388c82)throw new Error(_0x1d01cf(0x504));switch(_0x388c82[_0x1d01cf(0x7cf)]){case _0x12ff66[_0x1d01cf(0x90a)][_0x1d01cf(0x873)]:if('string'!=typeof _0x33d7b8)throw new Error(_0x1d01cf(0x3cd));await async function(_0x402fc5,_0xe0ee04,_0x453f2b,_0x49a0fb,_0xf556d8,_0x2bb797){const _0x3c54fa=_0x1d01cf,_0x33d6da=Date[_0x3c54fa(0x2e5)]();let _0xa78d3b;const _0x4a74a0=_0x2bb797[_0x3c54fa(0xa09)][_0x3c54fa(0x940)](_0x4d456c=>_0x4d456c['getEngineType']()===_0x453f2b['engineType']);if(!_0x4a74a0)throw new Error(_0x3c54fa(0x305));_0xa78d3b=await async function(_0x4e4644,_0xec97b7,_0x52fdda){const _0x573469=_0x3c54fa,_0x316857=await _0xec97b7[_0x573469(0x53e)]({'type':_0x573469(0x818),'prompt':_0x4e4644,'threadId':''},{'model':_0x52fdda});if(_0x316857[_0x573469(0x40c)]instanceof Array)throw new Error(_0x573469(0x809));return _0x316857[_0x573469(0x40c)];}(_0xe0ee04,_0x4a74a0,_0x453f2b),_0x2f5394[_0x3c54fa(0x70a)]({'jobType':_0x5bea9b[_0x3c54fa(0x5cf)],'type':_0x512f22['ModelText'],'jobId':_0x402fc5,'blockId':_0x49a0fb['id'],'traceLevel':_0x4ddd58['Debug'],'timestamp':Date[_0x3c54fa(0x2e5)](),'startTime':_0x33d6da,'status':_0x3c54fa(0x52f),'modelName':_0x453f2b['id'],'inputType':_0x453f2b[_0x3c54fa(0x26e)],'outputType':_0x453f2b[_0x3c54fa(0x7cf)],'content':_0xe0ee04,'results':_0xa78d3b}),await _0x41afe1(_0x402fc5,_0xa78d3b,_0x49a0fb,_0xf556d8,_0x2bb797);}(_0x241b5a,_0x33d7b8,_0x388c82,_0x3de806,_0x46cd9a,_0x170511);break;case _0x12ff66[_0x1d01cf(0x90a)][_0x1d01cf(0x8c3)]:if(!(_0x33d7b8 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x44443d,_0x37155d,_0x171b15,_0x1a099e,_0x863100,_0xe7f988){const _0x178a95=_0x1d01cf,_0x32178a=Date['now'](),_0x174fd6=[],_0x526d63=_0xe7f988[_0x178a95(0xa09)][_0x178a95(0x940)](_0xd21b61=>_0xd21b61['getEngineType']()===_0x171b15[_0x178a95(0x4ea)]);if(!_0x526d63)throw new Error(_0x178a95(0x305));for(const _0xb30357 of _0x37155d)_0x174fd6['push'](await _0x2938f8(_0xb30357,_0x526d63,_0x171b15));_0x2f5394[_0x178a95(0x70a)]({'jobType':_0x5bea9b['Ingest'],'type':_0x512f22[_0x178a95(0x367)],'jobId':_0x44443d,'blockId':_0x1a099e['id'],'traceLevel':_0x4ddd58[_0x178a95(0xa61)],'timestamp':Date[_0x178a95(0x2e5)](),'startTime':_0x32178a,'status':'success','modelName':_0x171b15['id'],'inputType':_0x171b15[_0x178a95(0x26e)],'outputType':_0x171b15[_0x178a95(0x7cf)],'totalVectors':_0x174fd6[_0x178a95(0x3f4)]}),await _0x41afe1(_0x44443d,_0x174fd6,_0x1a099e,_0x863100,_0xe7f988);}(_0x241b5a,_0x33d7b8,_0x388c82,_0x3de806,_0x46cd9a,_0x170511);}}async function _0x2938f8(_0x580eac,_0x4904f0,_0x204294){const _0x2a5bc2=_0x178721;return(await _0x4904f0[_0x2a5bc2(0x53e)]({'type':_0x2a5bc2(0x818),'prompt':_0x580eac['content'],'threadId':''},{'model':_0x204294}))[_0x2a5bc2(0x40c)];}async function _0x2f3ba3(_0xd6423b,_0x3e0284,_0x3ec088,_0x1913aa,_0x4ac8df){const _0x5cdc2c=_0x178721,_0x185dec=Date['now']();if(_0x3ec088[_0x5cdc2c(0x17a)]||(_0x3ec088[_0x5cdc2c(0x17a)]={}),_0x3e0284 instanceof Array?_0x3ec088[_0x5cdc2c(0x17a)][_0x5cdc2c(0x9e1)]=_0x3e0284:_0x3ec088[_0x5cdc2c(0x17a)][_0x5cdc2c(0x830)]=_0x3e0284,_0x3ec088[_0x5cdc2c(0x771)]=_0x3ec088[_0x5cdc2c(0x771)]?_0x3ec088[_0x5cdc2c(0x771)]+0x1:0x1,_0x3f71a8(_0x3ec088,_0x1913aa)>_0x3ec088[_0x5cdc2c(0x771)])return;if(!_0x3ec088[_0x5cdc2c(0x17a)][_0x5cdc2c(0x9e1)]||!_0x3ec088['accumulated'][_0x5cdc2c(0x830)])throw new Error(_0x5cdc2c(0x650));const _0xc61136=new Map();for(const _0x3e5449 of _0x3ec088[_0x5cdc2c(0x17a)][_0x5cdc2c(0x9e1)])_0x2571bc(_0x3e5449[_0x5cdc2c(0x855)],_0x3ec088[_0x5cdc2c(0x17a)][_0x5cdc2c(0x830)],_0xc61136);_0x2f5394[_0x5cdc2c(0x70a)]({'jobType':_0x5bea9b[_0x5cdc2c(0x5cf)],'type':_0x512f22[_0x5cdc2c(0x3bb)],'jobId':_0xd6423b,'blockId':_0x3ec088['id'],'traceLevel':_0x4ddd58['Debug'],'timestamp':Date[_0x5cdc2c(0x2e5)](),'startTime':_0x185dec,'status':_0x5cdc2c(0x52f),'entities':_0x3ec088[_0x5cdc2c(0x17a)]['entities'],'relations':_0xc61136,'totalRelationsExtracted':_0xc61136['size']}),await _0x41afe1(_0xd6423b,_0xc61136,_0x3ec088,_0x1913aa,_0x4ac8df);}function _0x2571bc(_0xeff834,_0x52dc3e,_0x2c3d51){const _0xbb61cb=_0x178721;for(const _0x249ebb of _0x52dc3e)for(const _0x4f178f of _0x52dc3e){if(_0x249ebb===_0x4f178f)continue;const _0x1d3300=_0xeff834[_0xbb61cb(0x2ee)](_0x249ebb),_0x1ae34c=_0xeff834[_0xbb61cb(0x2ee)](_0x4f178f);-0x1!==_0x1d3300&&-0x1!==_0x1ae34c&&(_0x2c3d51[_0xbb61cb(0x4a6)](_0x249ebb)||_0x2c3d51['set'](_0x249ebb,new Set()),_0x2c3d51[_0xbb61cb(0x603)](_0x249ebb)[_0xbb61cb(0x9b5)](_0x4f178f));}return _0x2c3d51;}async function _0x42c99e(_0x5e1e08,_0x3a053b,_0x5d0f1a,_0x30f4b0,_0x489990){const _0x410b06=_0x178721,_0x311b14=Date[_0x410b06(0x2e5)]();let _0x2523aa=[];if(_0x3a053b instanceof Array)for(const _0x4eebbe of _0x3a053b){const _0x47c595=await _0x489990['nlpLibraryConnector'][_0x410b06(0x5b7)](_0x4eebbe[_0x410b06(0x855)]);_0x2523aa=_0x2523aa['concat'](_0x47c595[_0x410b06(0x7df)](_0x31402b=>({'content':_0x31402b,'start':_0x4eebbe[_0x410b06(0x2cf)],'length':_0x4eebbe[_0x410b06(0x3f4)]})));}else _0x2523aa=(await _0x489990[_0x410b06(0x607)][_0x410b06(0x5b7)](_0x3a053b))['map'](_0x2a9cd5=>({'content':_0x2a9cd5,'start':_0x3a053b[_0x410b06(0x2ee)](_0x2a9cd5),'length':_0x2a9cd5[_0x410b06(0x3f4)]}));_0x2f5394[_0x410b06(0x70a)]({'jobType':_0x5bea9b[_0x410b06(0x5cf)],'type':_0x512f22['SentenceSplitter'],'jobId':_0x5e1e08,'blockId':_0x5d0f1a['id'],'traceLevel':_0x4ddd58['Debug'],'startTime':_0x311b14,'timestamp':Date['now'](),'status':_0x410b06(0x52f),'totalSentences':_0x2523aa['length'],'averageSentenceLength':_0x2523aa[_0x410b06(0x41b)]((_0x2377c3,_0x37e05a)=>_0x2377c3+_0x37e05a['length'],0x0)/_0x2523aa[_0x410b06(0x3f4)]}),await _0x41afe1(_0x5e1e08,_0x2523aa,_0x5d0f1a,_0x30f4b0,_0x489990);}function _0x463add(_0x161246,_0x30f0b9,_0x506386,_0x948036,_0x876917){const _0xff5f3c=_0x178721,_0x1987db=Date[_0xff5f3c(0x2e5)]();var _0x93392b;if(_0x506386['accumulated']||(_0x506386['accumulated']={}),_0x30f0b9 instanceof Array?(_0x93392b=_0x30f0b9)[0x0]instanceof Array&&'number'==typeof _0x93392b[0x0]?.[0x0]?_0x506386[_0xff5f3c(0x17a)][_0xff5f3c(0x2af)]=_0x30f0b9:_0x506386[_0xff5f3c(0x17a)][_0xff5f3c(0x9e1)]=_0x30f0b9:'string'==typeof _0x30f0b9?_0x506386[_0xff5f3c(0x17a)][_0xff5f3c(0x855)]=_0x30f0b9:_0x506386['accumulated'][_0xff5f3c(0x183)]=_0x30f0b9,_0x506386['timesCalled']=_0x506386[_0xff5f3c(0x771)]?_0x506386['timesCalled']+0x1:0x1,_0x3f71a8(_0x506386,_0x948036)>_0x506386['timesCalled'])return;if(!(_0x506386['accumulated']['content']&&_0x506386['accumulated']['index']&&_0x506386[_0xff5f3c(0x17a)]['vectors']&&_0x506386[_0xff5f3c(0x17a)][_0xff5f3c(0x183)]))throw new Error(_0xff5f3c(0x784));const _0x26bcc5=_0x876917[_0xff5f3c(0x73d)][_0xff5f3c(0x71a)](_0x506386['id']);if(_0x26bcc5[_0xff5f3c(0x726)](_0x506386['accumulated']['file'][_0xff5f3c(0x21e)],_0x506386[_0xff5f3c(0x17a)][_0xff5f3c(0x855)],_0x506386[_0xff5f3c(0x17a)][_0xff5f3c(0x9e1)],_0x506386[_0xff5f3c(0x17a)][_0xff5f3c(0x2af)]),_0x26bcc5[_0xff5f3c(0xa70)]()){let _0x3c25b9=''+(_0x876917[_0xff5f3c(0x792)]??0x1);for(const _0x27731f of _0x948036)_0x27731f['type']===_0x129c97[_0xff5f3c(0x4dc)]&&(_0x3c25b9=_0x3c25b9+'-'+(_0x27731f[_0xff5f3c(0x792)]??0x1));_0x26bcc5[_0xff5f3c(0x4e8)](_0x3c25b9);}_0x2f5394['trace']({'jobType':_0x5bea9b['Ingest'],'type':_0x512f22[_0xff5f3c(0x262)],'jobId':_0x161246,'blockId':_0x506386['id'],'traceLevel':_0x4ddd58['Debug'],'startTime':_0x1987db,'timestamp':Date[_0xff5f3c(0x2e5)](),'status':'success','databaseName':_0x26bcc5[_0xff5f3c(0x92f)](),'vectorsAdded':_0x506386['accumulated'][_0xff5f3c(0x2af)][_0xff5f3c(0x3f4)],'filePathName':_0x506386['accumulated'][_0xff5f3c(0x183)][_0xff5f3c(0x21e)]});}async function _0x205476(_0x3746e0,_0x17209f,_0x3dbac3,_0x70baef,_0xbddcd4){const _0x149155=_0x178721,_0x22c37d=Date['now']();let _0x3398bb=[];if(_0x17209f instanceof Array){for(const _0x304a51 of _0x17209f)_0x3398bb=_0x3398bb[_0x149155(0x4b1)](_0x5c649f(_0x304a51[_0x149155(0x855)],_0x3dbac3,_0x304a51[_0x149155(0x2cf)],_0x304a51['length']));}else _0x3398bb=_0x5c649f(_0x17209f,_0x3dbac3);_0x2f5394['trace']({'jobType':_0x5bea9b[_0x149155(0x5cf)],'type':_0x512f22[_0x149155(0xa2c)],'jobId':_0x3746e0,'traceLevel':_0x4ddd58[_0x149155(0xa61)],'blockId':_0x3dbac3['id'],'startTime':_0x22c37d,'timestamp':Date['now'](),'status':_0x149155(0x52f),'totalChunks':_0x3398bb['length'],'averageChunkLength':_0x3398bb[_0x149155(0x41b)]((_0x59b5ba,_0x393044)=>_0x59b5ba+_0x393044[_0x149155(0x3f4)],0x0)/_0x3398bb[_0x149155(0x3f4)]}),await _0x41afe1(_0x3746e0,_0x3398bb,_0x3dbac3,_0x70baef,_0xbddcd4);}function _0x5c649f(_0x4f9bac,_0x242697,_0x31796a,_0x3a64e5){const _0x18345b=_0x178721,_0x2e8a9f=[],_0x53d87c=_0x4f9bac[_0x18345b(0x6af)]('\x20');let _0x2ae851='',_0x3e1f2d=-0x1,_0x24ed32=0x0,_0x48c94e=0x0;for(const _0x110145 of _0x53d87c){if(_0x2ae851[_0x18345b(0x3f4)]+_0x110145['length']>_0x242697[_0x18345b(0xa0d)][_0x18345b(0x3e6)]){const _0x4bff73=_0x2ae851['length'];let _0x4310be=_0x3e1f2d,_0x2151b7='';for(;_0x4310be>=0x0&&_0x2151b7[_0x18345b(0x3f4)]+_0x53d87c[_0x4310be][_0x18345b(0x3f4)]<_0x242697[_0x18345b(0xa0d)]['overlap'];)_0x2151b7=_0x53d87c[_0x4310be]+'\x20'+_0x2151b7,_0x4310be--;let _0x289fdf=_0x24ed32,_0xa31a56='';for(;_0x289fdf<_0x53d87c[_0x18345b(0x3f4)]&&_0xa31a56[_0x18345b(0x3f4)]+_0x53d87c[_0x289fdf]['length']<_0x242697[_0x18345b(0xa0d)]['overlap'];)_0xa31a56+=_0x53d87c[_0x289fdf]+'\x20',_0x289fdf++;_0x2ae851=_0x2151b7+_0x2ae851+_0xa31a56,_0x2e8a9f[_0x18345b(0x77b)]({'content':_0x2ae851[_0x18345b(0x316)](),'start':_0x31796a??_0x48c94e,'length':_0x3a64e5??_0x2ae851['length']}),_0x2ae851='',_0x3e1f2d=_0x24ed32-0x1,_0x48c94e+=_0x4bff73;}_0x2ae851+=_0x110145+'\x20',_0x24ed32++;}if(_0x2ae851['length']>0x0){const _0x5e4cac=_0x2ae851[_0x18345b(0x3f4)];let _0x1a4b16=_0x3e1f2d,_0x2c35a8='';for(;_0x1a4b16>=0x0&&_0x2c35a8[_0x18345b(0x3f4)]+_0x53d87c[_0x1a4b16]['length']<_0x242697[_0x18345b(0xa0d)][_0x18345b(0x71b)];)_0x2c35a8=_0x53d87c[_0x1a4b16]+'\x20'+_0x2c35a8,_0x1a4b16--;_0x2ae851=_0x2c35a8+_0x2ae851,_0x2e8a9f[_0x18345b(0x77b)]({'content':_0x2ae851['trim'](),'start':_0x31796a??_0x48c94e,'length':_0x3a64e5??_0x5e4cac});}return _0x2e8a9f;}async function _0x41afe1(_0x37a42e,_0x192329,_0x309537,_0x468537,_0xce6a8a){const _0x126adb=_0x178721;for(const _0x58ed22 of _0x309537['links']||[]){const _0x398eaf=_0x468537[_0x126adb(0x940)](_0x389346=>_0x389346[_0x126adb(0x431)]===_0x58ed22['uid']);if(_0x398eaf)switch(_0x398eaf['type']){case _0x129c97[_0x126adb(0x4dc)]:_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x873)]&&'string'==typeof _0x192329&&await _0x2535ee(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97[_0x126adb(0x3d4)]:_0x58ed22[_0x126adb(0x43f)]===_0x330a3f['Text']&&_0x126adb(0x6a8)==typeof _0x192329&&await _0x33aa9d(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&await _0x33aa9d(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97[_0x126adb(0x679)]:_0x58ed22['type']===_0x330a3f['File']&&await _0xc6f5e9(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97[_0x126adb(0x3c1)]:_0x58ed22['type']===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&await _0x6f1974(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97['GraphDatabase']:_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x873)]&&_0x126adb(0x6a8)==typeof _0x192329&&_0x13e402(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&_0x13e402(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x22e)]&&_0x192329 instanceof Set&&_0x13e402(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x4ce)]&&_0x192329 instanceof Map&&_0x13e402(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22['type']===_0x330a3f['File']&&_0x13e402(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97[_0x126adb(0x9de)]:_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x873)]&&_0x126adb(0x6a8)==typeof _0x192329&&await _0x17e091(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&await _0x17e091(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97[_0x126adb(0x3bb)]:_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&await _0x2f3ba3(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f['Entity']&&_0x192329 instanceof Set&&await _0x2f3ba3(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97['SentenceSplitter']:_0x58ed22['type']===_0x330a3f[_0x126adb(0x873)]&&_0x126adb(0x6a8)==typeof _0x192329&&await _0x42c99e(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&await _0x42c99e(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97['VectorDatabase']:_0x58ed22[_0x126adb(0x43f)]===_0x330a3f['Text']&&_0x126adb(0x6a8)==typeof _0x192329&&_0x463add(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&_0x463add(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22['type']===_0x330a3f[_0x126adb(0x8c3)]&&_0x192329 instanceof Array&&_0x463add(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22[_0x126adb(0x43f)]===_0x330a3f[_0x126adb(0xa86)]&&_0x463add(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);break;case _0x129c97[_0x126adb(0xa2c)]:_0x58ed22['type']===_0x330a3f[_0x126adb(0x873)]&&'string'==typeof _0x192329&&await _0x205476(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a),_0x58ed22['type']===_0x330a3f[_0x126adb(0x1d6)]&&_0x192329 instanceof Array&&await _0x205476(_0x37a42e,_0x192329,_0x398eaf,_0x468537,_0xce6a8a);}}}function _0x3f71a8(_0x4fb9ea,_0x51fb94){const _0x28b4b0=_0x178721;return _0x51fb94['filter'](_0x3919df=>_0x3919df['links']?.['some'](_0x193a10=>_0x193a10['uid']===_0x4fb9ea['uid']))[_0x28b4b0(0x3f4)];}async function _0x224cd5(_0x5aa6c6,_0x1454a7,_0x2b7c33,_0x100de5,_0x5b5f81){const _0x1abf75=_0x178721;try{let _0x4ae59f;switch(_0x2b7c33[_0x1abf75(0x43f)]){case _0x129c97[_0x1abf75(0x295)]:const _0x2baf5a=_0x5b5f81[_0x1abf75(0x73d)][_0x1abf75(0x8bf)](_0x2b7c33['id']);_0x4ae59f=await _0x2baf5a['get'](_0x1454a7);break;case _0x129c97[_0x1abf75(0x932)]:const _0x2039a3=_0x5b5f81[_0x1abf75(0x73d)]['getExternalStorageConnection'](_0x2b7c33['id']);_0x4ae59f=await _0x2039a3['get'](_0x1454a7);}if(!_0x4ae59f)throw new Error(_0x1abf75(0x532));await _0x41afe1(_0x5aa6c6,{'file':_0x4ae59f,'pathName':_0x1454a7},_0x2b7c33,structuredClone(_0x100de5),_0x5b5f81);}catch(_0x2288be){console['error'](_0x1abf75(0x318),_0x2288be);}}const _0x2f8fd2=require('rxjs/operators');class _0x3d7d70{[_0x178721(0x629)];constructor(){const _0x19ca72=_0x178721;this['subject']=new _0x4c8d61[(_0x19ca72(0x254))]();}[_0x178721(0x7fc)](_0x454252){const _0x38d2ff=_0x178721;this['subject'][_0x38d2ff(0x1a6)](_0x454252);}async[_0x178721(0xa6b)](){const _0x18c126=_0x178721;return(0x0,_0x4c8d61[_0x18c126(0x7e3)])(this['subject'][_0x18c126(0x774)]((0x0,_0x2f8fd2[_0x18c126(0x3da)])(0x1)));}}async function _0x555665(_0x431b1d,_0x480a9d,_0x82bc39,_0x8276b4,_0xb8e04c,_0x3058d1,_0x186478){const _0x41690b=_0x178721,_0x5aaaf5=Date[_0x41690b(0x2e5)](),_0x581d0b=new Set();if(_0x82bc39 instanceof Array){for(const _0x4557da of _0x82bc39)await _0x30b4a5(_0x4557da['content'],_0xb8e04c,_0x581d0b,_0x186478[_0x41690b(0x607)]);}else await _0x30b4a5(_0x82bc39,_0xb8e04c,_0x581d0b,_0x186478[_0x41690b(0x607)]);_0x2f5394[_0x41690b(0x70a)]({'jobType':_0x5bea9b[_0x41690b(0x399)],'type':_0x88059b[_0x41690b(0x3c1)],'jobId':_0x431b1d,'threadId':_0x480a9d,'blockId':_0xb8e04c['id'],'traceLevel':_0x4ddd58['Debug'],'startTime':_0x5aaaf5,'timestamp':Date[_0x41690b(0x2e5)](),'status':_0x41690b(0x52f),'content':_0x82bc39,'entitiesExtracted':Array[_0x41690b(0x3ac)](_0x581d0b),'totalEntities':_0x581d0b[_0x41690b(0x3e6)]}),await _0x425489(_0x431b1d,_0x480a9d,_0x581d0b,_0x8276b4,_0xb8e04c,_0x3058d1,_0x186478);}async function _0x30b4a5(_0x5e101d,_0x76cf2,_0x32d9b1,_0xc82367){const _0x2684d7=_0x178721,_0x488226=await _0xc82367[_0x2684d7(0x2e3)](_0x5e101d,{'ner':_0x76cf2[_0x2684d7(0xa0d)]['ner'],'noun':_0x76cf2[_0x2684d7(0xa0d)][_0x2684d7(0x320)],'propn':_0x76cf2[_0x2684d7(0xa0d)]['propn'],'verb':_0x76cf2[_0x2684d7(0xa0d)][_0x2684d7(0x37f)]});for(const _0x2a6988 of _0x488226)_0x32d9b1[_0x2684d7(0x9b5)](_0x2a6988);}async function _0x18e738(_0x5f36fa,_0x27b30e,_0x4ad811,_0x5597b1,_0x52ab28,_0x2482f5,_0x51d8eb){const _0xb09721=_0x178721,_0x24d463=Date['now']();if(_0x52ab28['accumulated']||(_0x52ab28[_0xb09721(0x17a)]={}),_0x4ad811 instanceof Array?(_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x97f)]||(_0x52ab28[_0xb09721(0x17a)]['results']=[]),_0x52ab28[_0xb09721(0x17a)]['results'][_0xb09721(0x77b)](..._0x4ad811)):_0x4ad811 instanceof Set?_0x52ab28[_0xb09721(0x17a)]['entities']=_0x4ad811:_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x818)]=_0x4ad811,_0x52ab28[_0xb09721(0x771)]=_0x52ab28[_0xb09721(0x771)]?_0x52ab28[_0xb09721(0x771)]+0x1:0x1,_0x337cfd(_0x52ab28,_0x2482f5)>_0x52ab28['timesCalled'])return;if(!_0x52ab28[_0xb09721(0x17a)]['prompt']&&!_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x97f)]||!_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x830)])throw new Error(_0xb09721(0x816));const _0x47ed77=_0x51d8eb[_0xb09721(0x73d)]['getGraphDatabase'](_0x52ab28['id'])[_0xb09721(0x217)](Array[_0xb09721(0x3ac)](_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x830)]),_0x52ab28[_0xb09721(0xa0d)][_0xb09721(0x3e3)],_0x52ab28['attributes'][_0xb09721(0x9e2)]);let _0x23ef38=[];for(const _0xa2da93 in _0x47ed77){const _0xfa3419=_0x47ed77[_0xa2da93];for(const _0x18214f of _0xfa3419){let _0x633efe=0x0;if(_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x818)]&&(_0x633efe=await _0x51d8eb[_0xb09721(0x607)]['getSimilarity'](_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x818)],_0x18214f)),_0x52ab28[_0xb09721(0x17a)][_0xb09721(0x97f)]){for(const _0x132b39 of _0x52ab28['accumulated']['results'])_0x633efe=Math[_0xb09721(0x8e1)](_0x633efe,await _0x51d8eb[_0xb09721(0x607)][_0xb09721(0x942)](_0x132b39[_0xb09721(0x855)],_0x18214f));}_0x633efe<_0x52ab28[_0xb09721(0xa0d)][_0xb09721(0x7bc)]||_0x23ef38[_0xb09721(0x77b)]({'content':_0x18214f,'relevance':_0x633efe,'pathName':_0xa2da93});}}_0x23ef38=_0x23ef38[_0xb09721(0x68b)]((_0x366dfb,_0x4509a8)=>_0x4509a8[_0xb09721(0x209)]-_0x366dfb['relevance'])[_0xb09721(0xab0)](0x0,_0x52ab28[_0xb09721(0xa0d)]['topK']),_0x2f5394['trace']({'jobType':_0x5bea9b[_0xb09721(0x399)],'type':_0x88059b[_0xb09721(0x409)],'jobId':_0x5f36fa,'threadId':_0x27b30e,'blockId':_0x52ab28['id'],'traceLevel':_0x4ddd58[_0xb09721(0xa61)],'timestamp':Date[_0xb09721(0x2e5)](),'startTime':_0x24d463,'status':_0xb09721(0x52f),'content':_0x4ad811,'topResults':_0x23ef38,'numResults':_0x23ef38[_0xb09721(0x3f4)]}),await _0x425489(_0x5f36fa,_0x27b30e,_0x23ef38,_0x5597b1,_0x52ab28,_0x2482f5,_0x51d8eb);}async function _0x1836cb(_0x56d380,_0x13bcd6,_0x2da560,_0xffd8e8,_0x4cfbc9,_0x4efd39,_0x36570f){const _0x195958=_0x178721,_0x33834d=_0x36570f[_0x195958(0x4ae)][_0x195958(0x940)](_0x3fd61a=>_0x3fd61a['id']===_0x4cfbc9['id']);if(!_0x33834d)throw new Error(_0x195958(0x504));let _0x33e339='';switch(_0x33e339=_0x2da560 instanceof Array?_0x2da560[_0x195958(0x7df)](_0x3b986c=>_0x3b986c['content'])['join'](',\x20'):_0x2da560,_0x33834d[_0x195958(0x7cf)]){case _0x12ff66[_0x195958(0x90a)]['Text']:await async function(_0x2b4e62,_0x492f06,_0x503517,_0x4712ed,_0x385004,_0x222a7b,_0x39658d,_0x2f1258){const _0x19e36e=_0x195958,_0x5b6f76=Date[_0x19e36e(0x2e5)](),_0xe4fbd5=_0x2f1258[_0x19e36e(0xa09)][_0x19e36e(0x940)](_0x156c04=>_0x156c04[_0x19e36e(0x277)]()===_0x385004[_0x19e36e(0x4ea)]);if(!_0xe4fbd5)throw new Error(_0x19e36e(0x305));const _0x5da486=await async function(_0x380160,_0x42d166,_0x11730d,_0x593332,_0x220b73){const _0x1b5b2d=_0x19e36e,_0x48aa7f={'type':_0x1b5b2d(0x818),'prompt':_0x42d166,'threadId':_0x380160};_0x11730d[_0x1b5b2d(0x297)][_0x1b5b2d(0x3f4)]>0x0&&(_0x48aa7f[_0x1b5b2d(0x711)]=_0x1b5b2d(0x35d)+_0x11730d['context'][_0x1b5b2d(0x7df)](_0x1b1c7b=>'From\x20'+_0x1b1c7b[_0x1b5b2d(0x21e)]+':\x20'+_0x1b1c7b[_0x1b5b2d(0x855)])[_0x1b5b2d(0x4c6)]('\x0a'));const _0x254f97=await _0x593332['processJob'](_0x48aa7f,{'model':_0x220b73});if(_0x254f97[_0x1b5b2d(0x40c)]instanceof Array)throw new Error(_0x1b5b2d(0x312));return _0x11730d[_0x1b5b2d(0x3b0)]+=_0x254f97['inputTokens']??0x0,_0x11730d[_0x1b5b2d(0x75c)]+=_0x254f97[_0x1b5b2d(0x75c)]??0x0,_0x254f97[_0x1b5b2d(0x40c)];}(_0x492f06,_0x503517,_0x4712ed,_0xe4fbd5,_0x385004);_0x2f5394[_0x19e36e(0x70a)]({'jobType':_0x5bea9b[_0x19e36e(0x399)],'type':_0x88059b['ModelText'],'jobId':_0x2b4e62,'threadId':_0x492f06,'blockId':_0x222a7b['id'],'traceLevel':_0x4ddd58[_0x19e36e(0xa61)],'startTime':_0x5b6f76,'timestamp':Date['now'](),'status':_0x19e36e(0x52f),'modelName':_0x385004['id'],'content':_0x503517,'newPrompt':_0x5da486,'inputType':_0x385004[_0x19e36e(0x26e)],'outputType':_0x385004[_0x19e36e(0x7cf)]}),await _0x425489(_0x2b4e62,_0x492f06,_0x5da486,_0x4712ed,_0x222a7b,_0x39658d,_0x2f1258);}(_0x56d380,_0x13bcd6,_0x33e339,_0xffd8e8,_0x33834d,_0x4cfbc9,_0x4efd39,_0x36570f);break;case _0x12ff66[_0x195958(0x90a)][_0x195958(0x8c3)]:await async function(_0x380128,_0x4bbc9a,_0x568762,_0x36b32c,_0x15873b,_0x295863,_0x3886c2,_0x128809){const _0x99ca3a=_0x195958,_0x3ee5a3=Date[_0x99ca3a(0x2e5)](),_0x2f0143=_0x128809[_0x99ca3a(0xa09)][_0x99ca3a(0x940)](_0x30ee54=>_0x30ee54[_0x99ca3a(0x277)]()===_0x15873b[_0x99ca3a(0x4ea)]);if(!_0x2f0143)throw new Error(_0x99ca3a(0x305));const _0x1e6488=await async function(_0x3d218c,_0x555f29,_0x1f725e,_0x4c1d93){const _0x1b30ce=_0x99ca3a;return(await _0x1f725e[_0x1b30ce(0x53e)]({'type':_0x1b30ce(0x818),'prompt':_0x555f29,'threadId':_0x3d218c},{'model':_0x4c1d93}))[_0x1b30ce(0x40c)];}(_0x4bbc9a,_0x568762,_0x2f0143,_0x15873b);_0x2f5394[_0x99ca3a(0x70a)]({'jobType':_0x5bea9b[_0x99ca3a(0x399)],'type':_0x88059b[_0x99ca3a(0x367)],'jobId':_0x380128,'threadId':_0x4bbc9a,'blockId':_0x295863['id'],'traceLevel':_0x4ddd58[_0x99ca3a(0xa61)],'startTime':_0x3ee5a3,'timestamp':Date[_0x99ca3a(0x2e5)](),'status':_0x99ca3a(0x52f),'modelName':_0x15873b['id'],'content':_0x568762,'totalVectors':_0x1e6488[_0x99ca3a(0x3f4)]}),await _0x425489(_0x380128,_0x4bbc9a,_0x1e6488,_0x36b32c,_0x295863,_0x3886c2,_0x128809);}(_0x56d380,_0x13bcd6,_0x33e339,_0xffd8e8,_0x33834d,_0x4cfbc9,_0x4efd39,_0x36570f);}}async function _0x5a7023(_0x5bf348,_0x53ba26,_0x5bef47,_0x4a9c23,_0x2a5ff5,_0x22d7d8,_0x2bc991){const _0x27dc09=_0x178721,_0x709d87=Date[_0x27dc09(0x2e5)](),_0x3f8694=_0x2bc991['contentMediator'][_0x27dc09(0x71a)](_0x2a5ff5['id'])['search'](_0x5bef47,_0x2a5ff5[_0x27dc09(0xa0d)][_0x27dc09(0x897)],_0x2a5ff5[_0x27dc09(0xa0d)][_0x27dc09(0x7bc)],_0x2a5ff5[_0x27dc09(0xa0d)]['contentSize']);_0x2f5394[_0x27dc09(0x70a)]({'jobType':_0x5bea9b[_0x27dc09(0x399)],'type':_0x88059b[_0x27dc09(0x735)],'jobId':_0x5bf348,'threadId':_0x53ba26,'blockId':_0x2a5ff5['id'],'traceLevel':_0x4ddd58[_0x27dc09(0xa61)],'startTime':_0x709d87,'timestamp':Date[_0x27dc09(0x2e5)](),'status':_0x27dc09(0x52f),'topResults':_0x3f8694,'numResults':_0x3f8694['length']}),await _0x425489(_0x5bf348,_0x53ba26,_0x3f8694,_0x4a9c23,_0x2a5ff5,_0x22d7d8,_0x2bc991);}async function _0x32392c(_0x1b48ba,_0xbff6d9,_0x5f441f,_0x46a33d,_0x2c212f,_0x1380c2,_0x3dd77f){const _0x1c980f=_0x178721,_0x4596da=Date[_0x1c980f(0x2e5)]();if(_0x2c212f[_0x1c980f(0x17a)]||(_0x2c212f[_0x1c980f(0x17a)]={}),_0x5f441f instanceof Array?(_0x2c212f['accumulated'][_0x1c980f(0x97f)]||(_0x2c212f[_0x1c980f(0x17a)][_0x1c980f(0x97f)]=[]),_0x2c212f[_0x1c980f(0x17a)]['results']['push'](..._0x5f441f)):_0x2c212f['accumulated'][_0x1c980f(0x818)]=_0x5f441f,_0x2c212f[_0x1c980f(0x771)]=_0x2c212f['timesCalled']?_0x2c212f[_0x1c980f(0x771)]+0x1:0x1,_0x337cfd(_0x2c212f,_0x1380c2)>_0x2c212f[_0x1c980f(0x771)])return;if(!_0x2c212f[_0x1c980f(0x17a)][_0x1c980f(0x818)]||!_0x2c212f[_0x1c980f(0x17a)][_0x1c980f(0x97f)])throw new Error(_0x1c980f(0x432));for(const _0x3cb024 of _0x2c212f[_0x1c980f(0x17a)][_0x1c980f(0x97f)])_0x3cb024['relevance']=await _0x3dd77f['nlpLibraryConnector']['getSimilarity'](_0x2c212f['accumulated'][_0x1c980f(0x818)],_0x3cb024[_0x1c980f(0x855)]);const _0x62657d=_0x2c212f[_0x1c980f(0x17a)][_0x1c980f(0x97f)][_0x1c980f(0x434)](_0x44c276=>_0x44c276[_0x1c980f(0x209)]>_0x2c212f[_0x1c980f(0xa0d)][_0x1c980f(0x7bc)])['sort']((_0x3b4b38,_0x5edc81)=>_0x5edc81[_0x1c980f(0x209)]-_0x3b4b38['relevance'])['slice'](0x0,_0x2c212f['attributes']['topK']);_0x2f5394[_0x1c980f(0x70a)]({'jobType':_0x5bea9b[_0x1c980f(0x399)],'type':_0x88059b[_0x1c980f(0xa22)],'jobId':_0x1b48ba,'threadId':_0xbff6d9,'blockId':_0x2c212f['id'],'traceLevel':_0x4ddd58[_0x1c980f(0xa61)],'startTime':_0x4596da,'timestamp':Date[_0x1c980f(0x2e5)](),'status':'success','inputResults':_0x2c212f[_0x1c980f(0x17a)][_0x1c980f(0x97f)],'rerankedResults':_0x62657d}),await _0x425489(_0x1b48ba,_0xbff6d9,_0x62657d,_0x46a33d,_0x2c212f,_0x1380c2,_0x3dd77f);}async function _0x425489(_0x3786e2,_0x46853b,_0x196803,_0x4c460c,_0x287df5,_0x5ce0a8,_0x6f1a1f){const _0x174e74=_0x178721;for(const _0x4aa5ee of _0x287df5[_0x174e74(0x99f)]||[]){const _0x12d63e=_0x5ce0a8[_0x174e74(0x940)](_0x1dd351=>_0x1dd351[_0x174e74(0x431)]===_0x4aa5ee[_0x174e74(0x431)]);if(_0x12d63e)switch(_0x12d63e[_0x174e74(0x43f)]){case _0x129c97[_0x174e74(0x7fa)]:_0x4c460c[_0x174e74(0x297)][_0x174e74(0x77b)](..._0x196803);break;case _0x129c97['EntityExtractor']:await _0x555665(_0x3786e2,_0x46853b,_0x196803,_0x4c460c,_0x12d63e,_0x5ce0a8,_0x6f1a1f);break;case _0x129c97[_0x174e74(0x252)]:await _0x18e738(_0x3786e2,_0x46853b,_0x196803,_0x4c460c,_0x12d63e,_0x5ce0a8,_0x6f1a1f);break;case _0x129c97[_0x174e74(0x9de)]:await _0x1836cb(_0x3786e2,_0x46853b,_0x196803,_0x4c460c,_0x12d63e,_0x5ce0a8,_0x6f1a1f);break;case _0x129c97[_0x174e74(0xa22)]:await _0x32392c(_0x3786e2,_0x46853b,_0x196803,_0x4c460c,_0x12d63e,_0x5ce0a8,_0x6f1a1f);break;case _0x129c97[_0x174e74(0x262)]:await _0x5a7023(_0x3786e2,_0x46853b,_0x196803,_0x4c460c,_0x12d63e,_0x5ce0a8,_0x6f1a1f);}}}function _0x337cfd(_0x28848d,_0x3c60d1){const _0x1a1604=_0x178721;return _0x3c60d1['filter'](_0x35108f=>_0x35108f[_0x1a1604(0x99f)]?.[_0x1a1604(0x216)](_0x39966=>_0x39966[_0x1a1604(0x431)]===_0x28848d[_0x1a1604(0x431)]))[_0x1a1604(0x3f4)];}async function _0x153a2b(_0x1952e5,_0x1d94c5,_0x1c222f,_0x9b0271,_0x1c6dcd,_0x4d403b){const _0x26e7ae=_0x178721,_0x46216b={'type':_0x26e7ae(0x818),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x425489(_0x1952e5,_0x1d94c5,_0x1c222f,_0x46216b,_0x9b0271,structuredClone(_0x1c6dcd),_0x4d403b),_0x46216b['output']=_0x26e7ae(0x35d)+_0x46216b[_0x26e7ae(0x297)][_0x26e7ae(0x7df)](_0x69afc7=>_0x26e7ae(0xa02)+_0x69afc7['pathName']+':\x20'+_0x69afc7[_0x26e7ae(0x855)])[_0x26e7ae(0x4c6)]('\x0a');}catch(_0x5c9a7a){console[_0x26e7ae(0x5c0)](_0x26e7ae(0x7c6),_0x5c9a7a);}return _0x46216b;}function _0x3130eb(_0xbe4d13,_0x5beb95,_0x188216,_0x418f71,_0x4671ac,_0x49d466,_0x16b8ff,_0x3b4c73){const _0x292738=_0x178721,_0x550272=new Map(),_0x265e97=_0x49d466[_0x292738(0x434)](_0x24440f=>_0x24440f[_0x292738(0x99f)]?.[_0x292738(0x940)](_0x9303cd=>_0x9303cd[_0x292738(0x431)]===_0x4671ac['uid']&&(_0x9303cd[_0x292738(0x43f)]===_0x330a3f[_0x292738(0x6b0)]||_0x9303cd['type']===_0x330a3f[_0x292738(0x28c)])));for(const _0x2c2df1 of _0x265e97)_0x2c2df1[_0x292738(0x43f)]===_0xdb7ade['Knowledge']||_0x2c2df1[_0x292738(0x43f)]===_0xdb7ade[_0x292738(0x89e)]?_0x550272['set'](_0x292738(0x6c2)+_0x2c2df1['name']['replace'](/[^a-zA-Z]/g,''),_0x34a39f(_0xbe4d13,_0x5beb95,_0x188216,_0x418f71,_0x2c2df1,_0x16b8ff,_0x3b4c73)):_0x2c2df1[_0x292738(0x43f)]===_0xdb7ade[_0x292738(0x377)]||_0x2c2df1[_0x292738(0x43f)]===_0xdb7ade[_0x292738(0x4dc)]?_0x550272[_0x292738(0x5f0)](_0x292738(0x179)+_0x2c2df1[_0x292738(0x54e)][_0x292738(0x6cf)](/[^a-zA-Z]/g,''),_0xf2a3b0(_0xbe4d13,_0x5beb95,_0x188216,_0x418f71,_0x2c2df1,_0x49d466,_0x16b8ff,_0x3b4c73)):_0x2c2df1['type']===_0xdb7ade['CustomSkill']?_0x550272['set'](_0x2c2df1[_0x292738(0x54e)]['replace'](/[^a-zA-Z]/g,''),_0xa71278(_0xbe4d13,_0x5beb95,_0x188216,_0x2c2df1,_0x49d466,_0x3b4c73)):_0x550272[_0x292738(0x5f0)](_0x55d6b4(_0x2c2df1),_0x2c914d(_0xbe4d13,_0x5beb95,_0x188216,_0x2c2df1,_0x16b8ff,_0x3b4c73));return _0x550272;}function _0xf2a3b0(_0x402194,_0x4d95b1,_0x25a7d4,_0x417024,_0x163eb2,_0x302da7,_0x4eceeb,_0xd59f36){const _0xed1f91=_0x178721,_0x363dcd=_0xed1f91(0x838)+_0x163eb2['description']+_0xed1f91(0x2e0),_0x55d8c3={'prompt':{'type':_0x12ff66['PromptFunctionParamsType'][_0xed1f91(0x70e)]}};return _0x2f5394[_0xed1f91(0x70a)]({'jobType':_0x5bea9b[_0xed1f91(0x386)],'type':_0x51509f[_0xed1f91(0x1b4)],'jobId':_0x402194,'agentId':_0x4d95b1,'threadId':_0x25a7d4,'traceLevel':_0x4ddd58[_0xed1f91(0x26a)],'startTime':Date[_0xed1f91(0x2e5)](),'timestamp':Date[_0xed1f91(0x2e5)](),'status':_0xed1f91(0x52f),'function':_0x4324e0[_0xed1f91(0x400)],'params':_0x55d8c3,'functionDescription':_0x363dcd}),{'description':_0x363dcd,'params':_0x55d8c3,'callback':async _0x1216d8=>{const _0x1b177c=_0xed1f91,_0x5749aa=Date[_0x1b177c(0x2e5)]();try{if(_0xd59f36&&(await _0x387a0b[_0x1b177c(0x977)](0x1),_0xd59f36[_0x1b177c(0x7fc)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x163eb2[_0x1b177c(0x54e)]+_0x1b177c(0x5a5),'type':'prompt'})),_0x1b177c(0x6a8)!=typeof _0x1216d8?.[_0x1b177c(0x818)])throw new Error('Prompt\x20is\x20required');const _0x1360cb=_0x4eceeb[_0x1b177c(0x4ae)][_0x1b177c(0x940)](_0x5d51c0=>_0x5d51c0['id']===_0x163eb2[_0x1b177c(0x7db)]);if(!_0x1360cb)throw new Error(_0x1b177c(0x504));const _0x3745c3=_0x4eceeb[_0x1b177c(0xa09)]['find'](_0x1eea3d=>_0x1eea3d[_0x1b177c(0x277)]()===_0x1360cb[_0x1b177c(0x4ea)]);if(!_0x3745c3)throw new Error(_0x1b177c(0x305));const _0xa2f1c1=_0x163eb2[_0x1b177c(0x99f)]?.[_0x1b177c(0x216)](_0x30112b=>{const _0x5a9c28=_0x1b177c,_0x47b95f=_0x302da7[_0x5a9c28(0x940)](_0x41163b=>_0x41163b[_0x5a9c28(0x431)]===_0x30112b[_0x5a9c28(0x431)]);return!!_0x47b95f&&_0x30112b[_0x5a9c28(0x43f)]===_0x330a3f[_0x5a9c28(0x873)]&&_0x47b95f[_0x5a9c28(0x43f)]===_0xdb7ade[_0x5a9c28(0x710)];})??!0x1;let _0x2d5c14;if(_0xd59f36&&_0xa2f1c1?(await _0x387a0b[_0x1b177c(0x977)](0x1),_0xd59f36[_0x1b177c(0x7fc)]({'output':'\x0a\x0a','type':_0x1b177c(0x818)}),_0x2d5c14=await async function(_0x3c6bf6,_0x490072,_0x627f2e,_0x2b7e73,_0x443c07,_0x3a46af,_0x5c246a,_0x58dbad,_0x4a6248){const _0x24a09b=_0x1b177c;let _0x625264='';const _0x84c725=_0x4a6248[_0x24a09b(0x4ae)][_0x24a09b(0x940)](_0xe3f660=>_0xe3f660['id']===_0x3a46af[_0x24a09b(0x7db)]);if(!_0x84c725)throw new Error(_0x24a09b(0x504));const _0x40bbbd=_0x4a6248[_0x24a09b(0xa09)][_0x24a09b(0x940)](_0x5114e2=>_0x5114e2[_0x24a09b(0x277)]()===_0x84c725[_0x24a09b(0x4ea)]);if(!_0x40bbbd)throw new Error(_0x24a09b(0x305));for await(const _0x337af4 of _0x40bbbd[_0x24a09b(0xa30)]({'type':_0x24a09b(0x818),'prompt':_0x143d00(_0x2b7e73,_0x3a46af),'instructions':_0x3a74ad('',_0x3a46af,_0x84c725),'grammar':_0x3a46af[_0x24a09b(0x9db)],'temperature':_0x3a46af[_0x24a09b(0x4d6)],'maxTokens':_0x3a46af[_0x24a09b(0x892)],'functions':_0x3130eb(_0x3c6bf6,_0x490072,_0x627f2e,_0x443c07,_0x3a46af,_0x5c246a,_0x4a6248,_0x58dbad),'threadId':_0x627f2e},{'model':_0x84c725,'sequences':0x2}))_0x58dbad[_0x24a09b(0x7fc)](_0x337af4),_0x625264+=_0x337af4[_0x24a09b(0x40c)];return{'type':_0x24a09b(0x818),'output':_0x625264};}(_0x402194,_0x4d95b1,_0x25a7d4,_0x1216d8[_0x1b177c(0x818)],_0x417024,_0x163eb2,_0x302da7,_0xd59f36,_0x4eceeb),await _0x387a0b[_0x1b177c(0x977)](0x1),_0xd59f36[_0x1b177c(0x7fc)]({'output':'\x0a\x0a','type':_0x1b177c(0x818)})):_0x2d5c14=await _0x3745c3[_0x1b177c(0x53e)]({'type':_0x1b177c(0x818),'prompt':_0x143d00(_0x1216d8[_0x1b177c(0x818)],_0x163eb2),'instructions':_0x3a74ad('',_0x163eb2,_0x1360cb),'grammar':_0x163eb2[_0x1b177c(0x9db)],'temperature':_0x163eb2[_0x1b177c(0x4d6)],'maxTokens':_0x163eb2['maxTokens'],'functions':_0x3130eb(_0x402194,_0x4d95b1,_0x25a7d4,_0x417024,_0x163eb2,_0x302da7,_0x4eceeb,_0xd59f36),'threadId':_0x25a7d4},{'model':_0x1360cb,'sequences':0x2}),_0x1b177c(0x6a8)!=typeof _0x2d5c14['output'])throw new Error(_0x1b177c(0x39b));return _0x2f5394[_0x1b177c(0x70a)]({'jobType':_0x5bea9b[_0x1b177c(0x28c)],'type':_0x4324e0[_0x1b177c(0x400)],'jobId':_0x402194,'blockId':_0x163eb2['id'],'agentId':_0x4d95b1,'threadId':_0x25a7d4,'traceLevel':_0x4ddd58[_0x1b177c(0x26a)],'startTime':_0x5749aa,'timestamp':Date[_0x1b177c(0x2e5)](),'status':_0x1b177c(0x52f),'agentName':_0x163eb2[_0x1b177c(0x54e)],'prompt':_0x1216d8[_0x1b177c(0x818)],'instructions':_0x163eb2['instructions'],'result':_0x2d5c14[_0x1b177c(0x40c)],'inputTokens':0x0,'outputTokens':0x0}),_0x163eb2[_0x1b177c(0x99f)]?.['some'](_0x4f278a=>_0x4f278a[_0x1b177c(0x43f)]===_0x330a3f[_0x1b177c(0x7fa)])?(_0x57c645(_0x2d5c14[_0x1b177c(0x40c)],_0x163eb2,_0x302da7),'I\x20am\x20done'):_0x2d5c14[_0x1b177c(0x40c)];}catch(_0x5d9d1a){return console[_0x1b177c(0x5c0)](_0x5d9d1a),_0x2f5394[_0x1b177c(0x70a)]({'jobType':_0x5bea9b[_0x1b177c(0x28c)],'type':_0x4324e0[_0x1b177c(0x400)],'jobId':_0x402194,'blockId':_0x163eb2['id'],'agentId':_0x4d95b1,'threadId':_0x25a7d4,'traceLevel':_0x4ddd58[_0x1b177c(0x26a)],'startTime':_0x5749aa,'timestamp':Date[_0x1b177c(0x2e5)](),'status':_0x1b177c(0x5c0),'errorDetails':_0x22875b(_0x5d9d1a),'agentName':_0x163eb2[_0x1b177c(0x54e)],'prompt':_0x1216d8?.[_0x1b177c(0x818)]??'','instructions':_0x163eb2[_0x1b177c(0x711)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x5d9d1a instanceof Error?_0x5d9d1a[_0x1b177c(0x61f)]:_0x1b177c(0x465);}}};}function _0x34a39f(_0x20c299,_0x31be7c,_0x3c1b2a,_0x4d3d48,_0x57b1b5,_0x47cf4d,_0x5bdb07){const _0x3c08fa=_0x178721,_0x3bb6a7='Search\x20in\x20data\x20collection\x20'+_0x57b1b5[_0x3c08fa(0x795)]+_0x3c08fa(0xa28),_0x27b4a5={'queryOrPrompt':{'type':_0x12ff66[_0x3c08fa(0x329)][_0x3c08fa(0x70e)]}};return _0x2f5394['trace']({'jobType':_0x5bea9b['JobContext'],'type':_0x51509f[_0x3c08fa(0x9f7)],'jobId':_0x20c299,'agentId':_0x31be7c,'threadId':_0x3c1b2a,'blockId':_0x57b1b5['id'],'traceLevel':_0x4ddd58[_0x3c08fa(0x26a)],'startTime':Date['now'](),'timestamp':Date[_0x3c08fa(0x2e5)](),'status':'success','function':_0x1b38cf[_0x3c08fa(0x267)],'params':_0x27b4a5,'functionDescription':_0x3bb6a7}),{'description':_0x3bb6a7,'params':_0x27b4a5,'callback':async _0x5147b3=>{const _0x1b55f7=_0x3c08fa,_0x3c96b7=Date[_0x1b55f7(0x2e5)]();try{if(_0x5bdb07&&(await _0x387a0b[_0x1b55f7(0x977)](0x1),_0x5bdb07[_0x1b55f7(0x7fc)]({'output':_0x1b55f7(0x54b)+_0x57b1b5[_0x1b55f7(0x54e)]+_0x1b55f7(0x5e3)+_0x5147b3?.[_0x1b55f7(0x94a)]+'`\x0a\x0a','type':_0x1b55f7(0x818)})),'string'!=typeof _0x5147b3?.[_0x1b55f7(0x94a)])throw new Error('Query\x20is\x20required');const _0x5c765a=_0x57b1b5[_0x1b55f7(0x7f5)][_0x1b55f7(0x940)](_0x2c9d6d=>_0x2c9d6d[_0x1b55f7(0x43f)]===_0x129c97[_0x1b55f7(0x587)]),_0x20c406=await _0x153a2b(_0x20c299,_0x3c1b2a,_0x5147b3[_0x1b55f7(0x94a)],_0x5c765a,_0x57b1b5[_0x1b55f7(0x7f5)],_0x47cf4d);return _0x4d3d48[_0x1b55f7(0x297)]=Array[_0x1b55f7(0x3ac)](new Set([..._0x4d3d48[_0x1b55f7(0x297)],..._0x20c406[_0x1b55f7(0x297)]])),_0x2f5394['trace']({'jobType':_0x5bea9b[_0x1b55f7(0x6b0)],'type':_0x1b38cf[_0x1b55f7(0x6f5)],'jobId':_0x20c299,'blockId':_0x57b1b5['id'],'agentId':_0x31be7c,'threadId':_0x3c1b2a,'traceLevel':_0x4ddd58[_0x1b55f7(0x26a)],'startTime':_0x3c96b7,'timestamp':Date[_0x1b55f7(0x2e5)](),'status':'success','query':_0x5147b3[_0x1b55f7(0x94a)],'context':_0x20c406[_0x1b55f7(0x297)]??[],'inputTokens':_0x20c406[_0x1b55f7(0x3b0)]??0x0,'outputTokens':_0x20c406[_0x1b55f7(0x75c)]??0x0}),_0x20c406[_0x1b55f7(0x40c)];}catch(_0x2ecf70){return console['error'](_0x2ecf70),_0x2f5394[_0x1b55f7(0x70a)]({'jobType':_0x5bea9b[_0x1b55f7(0x6b0)],'type':_0x1b38cf['GetContextResult'],'jobId':_0x20c299,'blockId':_0x57b1b5['id'],'agentId':_0x31be7c,'threadId':_0x3c1b2a,'traceLevel':_0x4ddd58['Info'],'startTime':_0x3c96b7,'timestamp':Date['now'](),'status':'error','errorDetails':_0x22875b(_0x2ecf70),'query':_0x5147b3?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x2ecf70 instanceof Error?_0x2ecf70[_0x1b55f7(0x61f)]:_0x1b55f7(0x43e);}}};}function _0x55d6b4(_0x4327f1){const _0x522d2f=_0x178721;switch(_0x4327f1[_0x522d2f(0x43f)]){case _0xdb7ade[_0x522d2f(0x500)]:return'executeJavascriptCodeSnippet';case _0xdb7ade[_0x522d2f(0x5d1)]:return _0x522d2f(0x2be);case _0xdb7ade[_0x522d2f(0x2c3)]:return _0x522d2f(0x5f8);case _0xdb7ade[_0x522d2f(0x7ad)]:case _0xdb7ade['WebScraperRaw']:return _0x522d2f(0x42e);}throw new Error(_0x522d2f(0x33c));}function _0x2c914d(_0x4a35c5,_0x6e3cc9,_0x10bdef,_0x39ebb2,_0x48fd95,_0x25d0cc){const _0x5fde8d=_0x178721;switch(_0x39ebb2[_0x5fde8d(0x43f)]){case _0xdb7ade[_0x5fde8d(0x500)]:return function(_0x394249,_0x55f61d,_0x14c865,_0x1963f6,_0x1819c8){const _0x414f20=_0x5fde8d,_0x430e07='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x7cfb29={'code':{'type':_0x12ff66[_0x414f20(0x329)]['String']}};return _0x2f5394[_0x414f20(0x70a)]({'jobType':_0x5bea9b[_0x414f20(0x386)],'type':_0x51509f[_0x414f20(0x1b4)],'jobId':_0x394249,'agentId':_0x55f61d,'threadId':_0x14c865,'traceLevel':_0x4ddd58[_0x414f20(0x26a)],'startTime':Date[_0x414f20(0x2e5)](),'timestamp':Date[_0x414f20(0x2e5)](),'status':_0x414f20(0x52f),'function':_0x4324e0[_0x414f20(0x35a)],'params':_0x7cfb29,'functionDescription':_0x430e07}),{'description':_0x430e07,'params':_0x7cfb29,'callback':_0x281bee=>{const _0x57d9e7=_0x414f20,_0x34dffb=Date[_0x57d9e7(0x2e5)]();try{if(_0x1819c8&&_0x1819c8[_0x57d9e7(0x7fc)]({'output':_0x57d9e7(0x288),'type':_0x57d9e7(0x818)}),_0x57d9e7(0x6a8)!=typeof _0x281bee?.['code'])throw new Error(_0x57d9e7(0x3f0));const _0x5b0230=Function(''+_0x281bee?.[_0x57d9e7(0x3f2)])();let _0x46b311='';try{_0x46b311=JSON[_0x57d9e7(0x37e)](_0x5b0230);}catch{_0x46b311=_0x5b0230['toString']();}return _0x2f5394[_0x57d9e7(0x70a)]({'jobType':_0x5bea9b[_0x57d9e7(0x28c)],'type':_0x4324e0[_0x57d9e7(0x35a)],'agentId':_0x55f61d,'threadId':_0x14c865,'jobId':_0x394249,'blockId':_0x1963f6,'traceLevel':_0x4ddd58[_0x57d9e7(0x26a)],'startTime':_0x34dffb,'timestamp':Date[_0x57d9e7(0x2e5)](),'status':_0x57d9e7(0x52f),'code':_0x281bee[_0x57d9e7(0x3f2)],'result':_0x46b311}),_0x5b0230;}catch(_0x19abf7){return console[_0x57d9e7(0x5c0)](_0x19abf7),_0x2f5394['trace']({'jobType':_0x5bea9b[_0x57d9e7(0x28c)],'type':_0x4324e0[_0x57d9e7(0x35a)],'jobId':_0x394249,'blockId':_0x1963f6,'traceLevel':_0x4ddd58[_0x57d9e7(0x26a)],'startTime':_0x34dffb,'timestamp':Date[_0x57d9e7(0x2e5)](),'status':_0x57d9e7(0x5c0),'errorDetails':_0x22875b(_0x19abf7),'agentId':_0x55f61d,'threadId':_0x14c865,'code':_0x281bee?.[_0x57d9e7(0x3f2)]??'','result':_0x57d9e7(0x5e4)}),_0x19abf7 instanceof Error?_0x19abf7[_0x57d9e7(0x61f)]:_0x57d9e7(0x5e4);}}};}(_0x4a35c5,_0x6e3cc9,_0x10bdef,_0x39ebb2['id'],_0x25d0cc);case _0xdb7ade[_0x5fde8d(0x5d1)]:return function(_0x4c89a2,_0x573e92,_0x8d96b9,_0x2c1e6a,_0x12b3ae,_0x57ca6a,_0x127742){const _0x536674=_0x5fde8d,_0x54d9e5=_0x536674(0x398),_0x2fcddc={'query':{'type':_0x12ff66[_0x536674(0x329)][_0x536674(0x70e)]}};return _0x2f5394[_0x536674(0x70a)]({'jobType':_0x5bea9b[_0x536674(0x386)],'type':_0x51509f[_0x536674(0x1b4)],'jobId':_0x4c89a2,'agentId':_0x573e92,'threadId':_0x8d96b9,'traceLevel':_0x4ddd58[_0x536674(0x26a)],'startTime':Date[_0x536674(0x2e5)](),'timestamp':Date[_0x536674(0x2e5)](),'status':_0x536674(0x52f),'function':_0x4324e0['SearchGoogle'],'params':_0x2fcddc,'functionDescription':_0x54d9e5}),{'description':_0x54d9e5,'params':_0x2fcddc,'callback':async _0x42cf81=>{const _0x31ee1f=_0x536674,_0x2c4bb6=Date[_0x31ee1f(0x2e5)]();try{if(_0x127742&&(await _0x387a0b['wait'](0x1),_0x127742[_0x31ee1f(0x7fc)]({'output':_0x31ee1f(0x5fc)+_0x42cf81?.[_0x31ee1f(0x698)]+_0x31ee1f(0x5a5),'type':_0x31ee1f(0x818)})),!_0x57ca6a[_0x31ee1f(0x244)])throw new Error(_0x31ee1f(0x3aa));if(_0x31ee1f(0x6a8)!=typeof _0x42cf81?.['query'])throw new Error('Query\x20is\x20required');const _0x369bdc=await _0x57ca6a[_0x31ee1f(0x244)][_0x31ee1f(0x6e7)](_0x42cf81[_0x31ee1f(0x698)],_0x12b3ae,_0x551917[_0x31ee1f(0x2f4)][_0x31ee1f(0x6a9)]);let _0x1a5663='';for(const _0x3cc3b0 of _0x369bdc)_0x1a5663+=_0x3cc3b0[_0x31ee1f(0x44b)]+_0x31ee1f(0x417)+_0x3cc3b0[_0x31ee1f(0x8c2)]+'\x0a'+_0x3cc3b0[_0x31ee1f(0x7b9)]+'\x0a\x0a';return _0x2f5394['trace']({'jobType':_0x5bea9b['Skill'],'type':_0x4324e0[_0x31ee1f(0x3dd)],'jobId':_0x4c89a2,'agentId':_0x573e92,'threadId':_0x8d96b9,'blockId':_0x2c1e6a,'traceLevel':_0x4ddd58[_0x31ee1f(0x26a)],'startTime':_0x2c4bb6,'timestamp':Date[_0x31ee1f(0x2e5)](),'status':_0x31ee1f(0x52f),'query':_0x42cf81['query'],'results':_0x1a5663}),_0x1a5663;}catch(_0xcdc320){return console[_0x31ee1f(0x5c0)](_0xcdc320),_0x2f5394[_0x31ee1f(0x70a)]({'jobType':_0x5bea9b[_0x31ee1f(0x28c)],'type':_0x4324e0[_0x31ee1f(0x3dd)],'jobId':_0x4c89a2,'blockId':_0x2c1e6a,'traceLevel':_0x4ddd58[_0x31ee1f(0x26a)],'startTime':_0x2c4bb6,'timestamp':Date['now'](),'status':_0x31ee1f(0x5c0),'errorDetails':_0x22875b(_0xcdc320),'agentId':_0x573e92,'threadId':_0x8d96b9,'query':_0x42cf81?.['query']??'','results':_0x31ee1f(0x19c)}),_0xcdc320 instanceof Error?_0xcdc320[_0x31ee1f(0x61f)]:_0x31ee1f(0x19c);}}};}(_0x4a35c5,_0x6e3cc9,_0x10bdef,_0x39ebb2['id'],_0x48fd95[_0x5fde8d(0x3de)],_0x48fd95,_0x25d0cc);case _0xdb7ade[_0x5fde8d(0x2c3)]:return function(_0x5377a7,_0x53d959,_0x5e5d41,_0xbf0da0,_0x3c8f79,_0x54a2d9,_0x309764){const _0x1b5fa7=_0x5fde8d,_0x56d821=_0x1b5fa7(0x2f7),_0x223c95={'query':{'type':_0x12ff66[_0x1b5fa7(0x329)][_0x1b5fa7(0x70e)]}};return _0x2f5394[_0x1b5fa7(0x70a)]({'jobType':_0x5bea9b[_0x1b5fa7(0x386)],'type':_0x51509f[_0x1b5fa7(0x1b4)],'jobId':_0x5377a7,'agentId':_0x53d959,'threadId':_0x5e5d41,'traceLevel':_0x4ddd58[_0x1b5fa7(0x26a)],'startTime':Date['now'](),'timestamp':Date[_0x1b5fa7(0x2e5)](),'status':_0x1b5fa7(0x52f),'function':_0x4324e0[_0x1b5fa7(0x907)],'params':_0x223c95,'functionDescription':_0x56d821}),{'description':_0x56d821,'params':_0x223c95,'callback':async _0x293a69=>{const _0x56498f=_0x1b5fa7,_0x44752d=Date[_0x56498f(0x2e5)]();try{if(_0x309764&&(await _0x387a0b[_0x56498f(0x977)](0x1),_0x309764[_0x56498f(0x7fc)]({'output':_0x56498f(0x479)+_0x293a69?.[_0x56498f(0x698)]+_0x56498f(0x5a5),'type':_0x56498f(0x818)})),!_0x54a2d9[_0x56498f(0xa3d)])throw new Error('AI\x20Search\x20connector\x20not\x20set');if(_0x56498f(0x6a8)!=typeof _0x293a69?.['query'])throw new Error(_0x56498f(0x875));const _0x5463e7=await _0x54a2d9[_0x56498f(0xa3d)][_0x56498f(0x6e7)](_0x293a69['query'],_0x3c8f79);return _0x2f5394['trace']({'jobType':_0x5bea9b['Skill'],'type':_0x4324e0[_0x56498f(0x907)],'jobId':_0x5377a7,'agentId':_0x53d959,'threadId':_0x5e5d41,'blockId':_0xbf0da0,'traceLevel':_0x4ddd58['Info'],'startTime':_0x44752d,'timestamp':Date[_0x56498f(0x2e5)](),'status':_0x56498f(0x52f),'query':_0x293a69['query'],'results':_0x5463e7}),_0x5463e7;}catch(_0x5e3140){return console[_0x56498f(0x5c0)](_0x5e3140),_0x2f5394[_0x56498f(0x70a)]({'jobType':_0x5bea9b[_0x56498f(0x28c)],'type':_0x4324e0[_0x56498f(0x907)],'jobId':_0x5377a7,'blockId':_0xbf0da0,'traceLevel':_0x4ddd58[_0x56498f(0x26a)],'startTime':_0x44752d,'timestamp':Date['now'](),'status':_0x56498f(0x5c0),'errorDetails':_0x22875b(_0x5e3140),'agentId':_0x53d959,'threadId':_0x5e5d41,'query':_0x293a69?.['query']??'','results':_0x56498f(0x19c)}),_0x5e3140 instanceof Error?_0x5e3140[_0x56498f(0x61f)]:_0x56498f(0x19c);}}};}(_0x4a35c5,_0x6e3cc9,_0x10bdef,_0x39ebb2['id'],_0x48fd95['aiSearchApiKey'],_0x48fd95,_0x25d0cc);case _0xdb7ade[_0x5fde8d(0x7ad)]:return _0x288117(_0x4a35c5,_0x6e3cc9,_0x10bdef,_0x39ebb2['id'],_0x25d0cc);case _0xdb7ade[_0x5fde8d(0x8c0)]:return _0x288117(_0x4a35c5,_0x6e3cc9,_0x10bdef,_0x39ebb2['id'],_0x25d0cc,!0x1);}throw new Error(_0x5fde8d(0x33c));}function _0x288117(_0x5d894b,_0x467d31,_0x246a4b,_0x225257,_0x2a3fe7,_0xe2766f=!0x0){const _0x2dc370=_0x178721,_0x4780fc=_0x2dc370(0x924),_0x377cfc={'url':{'type':_0x12ff66[_0x2dc370(0x329)][_0x2dc370(0x70e)]},'page':{'type':_0x12ff66[_0x2dc370(0x329)][_0x2dc370(0x84c)]}};return _0x2f5394[_0x2dc370(0x70a)]({'jobType':_0x5bea9b['JobContext'],'type':_0x51509f[_0x2dc370(0x1b4)],'jobId':_0x5d894b,'agentId':_0x467d31,'threadId':_0x246a4b,'traceLevel':_0x4ddd58[_0x2dc370(0x26a)],'startTime':Date[_0x2dc370(0x2e5)](),'timestamp':Date[_0x2dc370(0x2e5)](),'status':_0x2dc370(0x52f),'function':_0x4324e0['FetchUrl'],'params':_0x377cfc,'functionDescription':_0x4780fc}),{'description':_0x4780fc,'params':_0x377cfc,'callback':async _0x152965=>{const _0x41cf99=_0x2dc370,_0x42cd5f=Date[_0x41cf99(0x2e5)]();try{if(_0x2a3fe7&&(await _0x387a0b[_0x41cf99(0x977)](0x1),_0x2a3fe7['emit']({'output':'\x0a\x0a`Fetching\x20content\x20from\x20URL\x20'+_0x152965?.[_0x41cf99(0x8c2)]+_0x41cf99(0x5a5),'type':_0x41cf99(0x818)})),_0x41cf99(0x6a8)!=typeof _0x152965?.[_0x41cf99(0x8c2)])throw new Error(_0x41cf99(0x978));const _0x1a9bd5=_0x152965['url'];if([_0x41cf99(0x7e7),_0x41cf99(0x25a),_0x41cf99(0x67f),_0x41cf99(0x8ce),'.pptx',_0x41cf99(0xa16),_0x41cf99(0x22d)]['some'](_0x5b2eb0=>_0x1a9bd5['endsWith'](_0x5b2eb0)))throw new Error(_0x41cf99(0x243));const _0x11e1b5=await fetch(_0x1a9bd5),_0x216206=await _0x11e1b5[_0x41cf99(0x936)]();let _0x27a0cc=_0x216206;if(_0xe2766f){const _0x568020=_0x216206[_0x41cf99(0x55c)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x8bf423=_0x568020?_0x568020[0x1]:_0x216206,_0x1e8797=_0x8bf423[_0x41cf99(0x6cf)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x41cf99(0x6cf)](/<br\s*\/?>/gi,'\x20')[_0x41cf99(0x6cf)](/&nbsp;/g,'\x20');_0x27a0cc=_0x1e8797[_0x41cf99(0x6cf)](/<\/?[^>]+(>|$)/g,'')[_0x41cf99(0x6cf)](/\s\s+/g,'\x20')[_0x41cf99(0x316)]();}const _0x5154b5=_0x41cf99(0x8b2)==typeof _0x152965['page']?_0x152965[_0x41cf99(0x991)]:0x1,_0x27f27e=Math[_0x41cf99(0x8e5)](_0x27a0cc[_0x41cf99(0x3f4)]/_0x28b659);return _0x27a0cc['length']>_0x28b659&&(_0x27a0cc=_0x27a0cc['substring']((_0x5154b5-0x1)*_0x28b659,(_0x5154b5-0x1)*_0x28b659+_0x28b659)+_0x41cf99(0x3c0)+(_0x5154b5+0x1)+_0x41cf99(0x839)+_0x27f27e+'.'),_0x2f5394[_0x41cf99(0x70a)]({'jobType':_0x5bea9b[_0x41cf99(0x28c)],'type':_0x4324e0[_0x41cf99(0x4a1)],'jobId':_0x5d894b,'agentId':_0x467d31,'threadId':_0x246a4b,'blockId':_0x225257,'traceLevel':_0x4ddd58['Info'],'startTime':_0x42cd5f,'timestamp':Date['now'](),'status':_0x11e1b5['ok']?'success':_0x41cf99(0x5c0),'url':_0x152965[_0x41cf99(0x8c2)],'page':_0x5154b5,'totalPages':_0x27f27e,'response':_0x27a0cc}),_0x27a0cc;}catch(_0x595fa0){console[_0x41cf99(0x5c0)](_0x595fa0);const _0x348209=_0x595fa0 instanceof Error?_0x595fa0[_0x41cf99(0x61f)]:'Error\x20fetching\x20URL';return _0x2f5394[_0x41cf99(0x70a)]({'jobType':_0x5bea9b[_0x41cf99(0x28c)],'type':_0x4324e0[_0x41cf99(0x4a1)],'jobId':_0x5d894b,'blockId':_0x225257,'threadId':_0x246a4b,'traceLevel':_0x4ddd58[_0x41cf99(0x26a)],'startTime':_0x42cd5f,'timestamp':Date[_0x41cf99(0x2e5)](),'agentId':_0x467d31,'status':_0x41cf99(0x5c0),'errorDetails':_0x22875b(_0x595fa0),'url':_0x152965?.['url']??'','page':0x0,'totalPages':0x0,'response':_0x348209}),_0x348209;}}};}function _0xa71278(_0x2a13e6,_0x3a3dad,_0x56a94c,_0x15a25d,_0x5b4caa,_0x45c630){const _0x568885=_0x178721,_0x5b149e={};for(const _0x17dff8 of _0x15a25d[_0x568885(0x783)])switch(_0x17dff8[_0x568885(0x43f)]){case _0x568885(0x6a8):case _0x568885(0x55d):_0x5b149e[_0x17dff8[_0x568885(0x54e)]]={'type':_0x12ff66['PromptFunctionParamsType']['String']};break;case'number':_0x5b149e[_0x17dff8[_0x568885(0x54e)]]={'type':_0x12ff66[_0x568885(0x329)][_0x568885(0x84c)]};break;case _0x568885(0x38f):_0x5b149e[_0x17dff8[_0x568885(0x54e)]]={'type':_0x12ff66[_0x568885(0x329)]['Boolean']};}return _0x2f5394[_0x568885(0x70a)]({'jobType':_0x5bea9b[_0x568885(0x386)],'type':_0x51509f[_0x568885(0x1b4)],'jobId':_0x2a13e6,'agentId':_0x3a3dad,'threadId':_0x56a94c,'traceLevel':_0x4ddd58[_0x568885(0x26a)],'startTime':Date[_0x568885(0x2e5)](),'timestamp':Date[_0x568885(0x2e5)](),'status':_0x568885(0x52f),'function':_0x4324e0[_0x568885(0x345)],'params':_0x5b149e,'functionDescription':_0x15a25d[_0x568885(0x795)]}),{'description':_0x568885(0x965)+_0x15a25d[_0x568885(0x795)],'params':_0x5b149e,'callback':async _0x25a871=>{const _0x58aa27=_0x568885,_0x11ad1e=Date[_0x58aa27(0x2e5)]();try{if(_0x45c630&&(await _0x387a0b['wait'](0x1),_0x45c630['emit']({'output':_0x58aa27(0x18a)+_0x15a25d[_0x58aa27(0x54e)]+_0x58aa27(0x5a5),'type':'prompt'})),!_0x25a871)throw new Error(_0x58aa27(0x842));for(const _0x519e8d of _0x15a25d[_0x58aa27(0x783)]){if(void 0x0===_0x25a871[_0x519e8d[_0x58aa27(0x54e)]])throw new Error(_0x58aa27(0x2f1)+_0x519e8d[_0x58aa27(0x54e)]+'\x20is\x20required');if(_0x58aa27(0x6a8)===_0x519e8d[_0x58aa27(0x43f)]&&_0x58aa27(0x6a8)!=typeof _0x25a871[_0x519e8d['name']])throw new Error('Parameter\x20'+_0x519e8d['name']+_0x58aa27(0x832));if(_0x58aa27(0x8b2)===_0x519e8d[_0x58aa27(0x43f)]&&'number'!=typeof _0x25a871[_0x519e8d[_0x58aa27(0x54e)]])throw new Error(_0x58aa27(0x2f1)+_0x519e8d[_0x58aa27(0x54e)]+_0x58aa27(0x223));if('boolean'===_0x519e8d[_0x58aa27(0x43f)]&&_0x58aa27(0x38f)!=typeof _0x25a871[_0x519e8d[_0x58aa27(0x54e)]])throw new Error(_0x58aa27(0x2f1)+_0x519e8d['name']+'\x20must\x20be\x20a\x20boolean');if(_0x58aa27(0x55d)===_0x519e8d[_0x58aa27(0x43f)]&&_0x58aa27(0x6a8)!=typeof _0x25a871[_0x519e8d[_0x58aa27(0x54e)]])throw new Error(_0x58aa27(0x2f1)+_0x519e8d['name']+'\x20must\x20be\x20a\x20string');if(_0x58aa27(0x55d)===_0x519e8d[_0x58aa27(0x43f)])try{_0x25a871[_0x519e8d[_0x58aa27(0x54e)]]=JSON[_0x58aa27(0x8b5)](_0x25a871[_0x519e8d[_0x58aa27(0x54e)]]);}catch{throw new Error(_0x58aa27(0x2f1)+_0x519e8d[_0x58aa27(0x54e)]+_0x58aa27(0x66f));}}const _0x334b95={};for(const _0x5b03c9 of _0x15a25d['headers']){let _0x4c845e=_0x5b03c9['value'];_0x4c845e[_0x58aa27(0x55c)](/\$[a-zA-Z0-9]+/)&&(_0x4c845e=_0x4c845e[_0x58aa27(0x6cf)](/\$[a-zA-Z0-9]+/g,_0x38c751=>{const _0x63efeb=_0x58aa27,_0x2f682b=_0x38c751[_0x63efeb(0xab0)](0x1);return _0x25a871[_0x2f682b];})),_0x334b95[_0x5b03c9[_0x58aa27(0x54e)]]=_0x4c845e;}const _0x1a8094=new URLSearchParams();for(const _0x4d3fbf of _0x15a25d[_0x58aa27(0x353)]){let _0x3f4e62=_0x4d3fbf[_0x58aa27(0x54a)];if('string'==typeof _0x3f4e62&&_0x3f4e62['startsWith']('$')){const _0x3ccf4d=_0x3f4e62[_0x58aa27(0xab0)](0x1);_0x3f4e62=_0x25a871[_0x3ccf4d];}if('string'==typeof _0x3f4e62&&_0x3f4e62[_0x58aa27(0x9c8)](_0x58aa27(0x641))){const _0x227288=_0x3f4e62['replace'](_0x58aa27(0x641),'');if(_0x15a25d[_0x58aa27(0x17a)],_0x3f4e62=_0x15a25d['accumulated']?.[_0x58aa27(0x297)]?.[_0x227288],_0x58aa27(0x6a8)==typeof _0x3f4e62&&_0x3f4e62[_0x58aa27(0x9c8)]('{')&&_0x3f4e62[_0x58aa27(0x87a)]('}'))try{_0x3f4e62=JSON['parse'](_0x3f4e62);}catch{}}'string'==typeof _0x3f4e62&&_0x3f4e62[_0x58aa27(0x9c8)]('[')&&_0x3f4e62[_0x58aa27(0x87a)](']')&&(_0x3f4e62=_0x3f4e62[_0x58aa27(0xab0)](0x1,-0x1)[_0x58aa27(0x6af)](',')),_0x1a8094[_0x58aa27(0x4bb)](_0x4d3fbf['name'],_0x3f4e62);}let _0x3bc82f=_0x15a25d[_0x58aa27(0x250)];_0x1a8094['size']>0x0&&(_0x3bc82f+='?'+_0x1a8094['toString']());let _0x1650bf={};for(const _0x4c3a37 of _0x15a25d[_0x58aa27(0x6ff)]){let _0x49b6e9=_0x4c3a37['value'];if(_0x58aa27(0x6a8)==typeof _0x49b6e9&&_0x49b6e9[_0x58aa27(0x9c8)]('$')){const _0x478a50=_0x49b6e9[_0x58aa27(0xab0)](0x1);_0x49b6e9=_0x25a871[_0x478a50];}if(_0x58aa27(0x6a8)==typeof _0x49b6e9&&_0x49b6e9[_0x58aa27(0x9c8)](_0x58aa27(0x641))){const _0x5a8692=_0x49b6e9['replace'](_0x58aa27(0x641),'');if(_0x49b6e9=_0x15a25d[_0x58aa27(0x17a)]?.['context']?.[_0x5a8692],'string'==typeof _0x49b6e9&&_0x49b6e9[_0x58aa27(0x9c8)]('{')&&_0x49b6e9[_0x58aa27(0x87a)]('}'))try{_0x49b6e9=JSON[_0x58aa27(0x8b5)](_0x49b6e9);}catch{}}if(_0x58aa27(0x6a8)==typeof _0x49b6e9&&_0x49b6e9[_0x58aa27(0x9c8)]('[')&&_0x49b6e9[_0x58aa27(0x87a)](']')&&(_0x49b6e9=_0x49b6e9[_0x58aa27(0xab0)](0x1,-0x1)[_0x58aa27(0x6af)](',')),_0x58aa27(0x589)===_0x4c3a37[_0x58aa27(0x54e)]){const _0xfc8a74=_0x49b6e9[_0x58aa27(0x55c)](/```html(.*)```/s);_0xfc8a74&&(_0x49b6e9=_0xfc8a74[0x1]),_0x49b6e9=_0x49b6e9[_0x58aa27(0x6cf)](/\n/g,''),_0x49b6e9=_0x49b6e9['replace'](/'/g,'\x22'),_0x1650bf=_0x49b6e9;break;}if(-0x1===_0x4c3a37[_0x58aa27(0x54e)]['indexOf']('.'))_0x1650bf[_0x4c3a37['name']]=_0x49b6e9;else{const [_0x34d3c2,_0x66e671]=_0x4c3a37[_0x58aa27(0x54e)][_0x58aa27(0x6af)]('.');_0x1650bf[_0x34d3c2]||(_0x1650bf[_0x34d3c2]={}),_0x1650bf[_0x34d3c2][_0x66e671]=_0x49b6e9;}}const _0x4d5a19=await fetch(_0x3bc82f,{'method':_0x15a25d['endpointMethod'],'headers':_0x334b95,'body':'string'==typeof _0x1650bf?_0x1650bf:JSON[_0x58aa27(0x37e)](_0x1650bf)});if(_0x4d5a19['ok']){let _0x2bf30d=await _0x4d5a19['json']();return _0x15a25d[_0x58aa27(0x60b)]&&(_0x2bf30d=await function(_0xf085ee,_0x246b36){return new Promise((_0x5aff9b,_0x2d53b5)=>{const _0x234f78=_0x387a0b['setInterval'](async()=>{const _0x1f0d9c=a0_0x5e71;try{if(!_0xf085ee[_0x1f0d9c(0x7bb)]||!_0xf085ee[_0x1f0d9c(0x621)])throw new Error(_0x1f0d9c(0x6fe));const _0x353b2b={};if(_0xf085ee['asyncHeaders']){for(const _0x24fb37 of _0xf085ee[_0x1f0d9c(0x7da)])_0x353b2b[_0x24fb37[_0x1f0d9c(0x54e)]]=_0x24fb37[_0x1f0d9c(0x54a)];}const _0x2e1039=_0xf085ee['asyncEndpointUrl']['replace'](_0x1f0d9c(0x747),_0x246b36),_0x56e7ad=await fetch(_0x2e1039,{'method':_0xf085ee['asyncEndpointMethod'],'headers':_0x353b2b});if(0xc8===_0x56e7ad[_0x1f0d9c(0x925)]){const _0x3a43db=await _0x56e7ad[_0x1f0d9c(0x55d)]();_0x234f78(),_0x5aff9b(_0x3a43db);}_0x56e7ad[_0x1f0d9c(0x925)]>=0x190&&(console['error'](_0x56e7ad[_0x1f0d9c(0x8fd)]),_0x234f78(),_0x2d53b5(new Error(_0x56e7ad[_0x1f0d9c(0x8fd)])));}catch(_0x4890b7){console[_0x1f0d9c(0x5c0)](_0x4890b7),_0x234f78(),_0x2d53b5(_0x4890b7);}},_0x34267d);});}(_0x15a25d,_0x2bf30d['id'])),_0x58aa27(0x6a8)!=typeof _0x2bf30d&&(_0x2bf30d=JSON[_0x58aa27(0x37e)](_0x2bf30d)),_0x2f5394['trace']({'jobType':_0x5bea9b[_0x58aa27(0x28c)],'type':_0x4324e0[_0x58aa27(0x345)],'jobId':_0x2a13e6,'agentId':_0x3a3dad,'threadId':_0x56a94c,'blockId':_0x15a25d['id'],'traceLevel':_0x4ddd58[_0x58aa27(0x26a)],'startTime':_0x11ad1e,'timestamp':Date['now'](),'status':_0x58aa27(0x52f),'skillName':_0x15a25d['name'],'params':_0x25a871,'result':_0x2bf30d}),_0x15a25d[_0x58aa27(0x99f)]?.['some'](_0x48f37d=>_0x48f37d[_0x58aa27(0x43f)]===_0x330a3f[_0x58aa27(0x7fa)])?(_0x57c645(_0x2bf30d,_0x15a25d,_0x5b4caa),_0x58aa27(0x371)):_0x2bf30d;}throw new Error(_0x4d5a19[_0x58aa27(0x8fd)]);}catch(_0x9c902e){console[_0x58aa27(0x5c0)](_0x9c902e);const _0x168612=_0x9c902e instanceof Error?_0x9c902e[_0x58aa27(0x61f)]:_0x58aa27(0xa76);return _0x2f5394[_0x58aa27(0x70a)]({'jobType':_0x5bea9b[_0x58aa27(0x28c)],'type':_0x4324e0['ExecuteCustomSkill'],'jobId':_0x2a13e6,'blockId':_0x15a25d['id'],'threadId':_0x56a94c,'traceLevel':_0x4ddd58[_0x58aa27(0x26a)],'startTime':_0x11ad1e,'timestamp':Date['now'](),'agentId':_0x3a3dad,'status':'error','skillName':_0x15a25d['name'],'params':_0x25a871??{},'result':_0x168612}),_0x168612;}}};}function _0x22875b(_0x232547){const _0x4a1266=_0x178721;try{return JSON[_0x4a1266(0x37e)](_0x232547);}catch(_0x2ce5a6){return _0x232547 instanceof Error?_0x232547[_0x4a1266(0x729)]():'Error\x20fetching\x20context';}}async function _0x24d011(_0x325028,_0x2b77a8,_0x28548e,_0x170eac,_0x13dc09,_0x5174bc,_0x12a051,_0x2cce17,_0x540fc5){const _0x1f3bd2=_0x178721;if(_0x5174bc[_0x1f3bd2(0x17a)]||(_0x5174bc[_0x1f3bd2(0x17a)]={}),_0x2b77a8===_0x330a3f['Text']&&_0x1f3bd2(0x6a8)==typeof _0x28548e&&(_0x5174bc[_0x1f3bd2(0x17a)][_0x1f3bd2(0x818)]=_0x28548e),_0x5174bc[_0x1f3bd2(0x771)]=_0x5174bc[_0x1f3bd2(0x771)]?_0x5174bc[_0x1f3bd2(0x771)]+0x1:0x1,_0xeeaa08(_0x5174bc,_0x12a051)>_0x5174bc[_0x1f3bd2(0x771)])return;if(_0x4826cd['forceLog']('Processing\x20agent\x20block:\x20'+_0x5174bc[_0x1f3bd2(0x54e)],_0x5174bc[_0x1f3bd2(0x771)]),!_0x5174bc[_0x1f3bd2(0x17a)][_0x1f3bd2(0x818)])throw new Error(_0x1f3bd2(0x3a7)+_0x5174bc[_0x1f3bd2(0x54e)]);const _0x39a4ec=_0x2cce17[_0x1f3bd2(0x4ae)][_0x1f3bd2(0x940)](_0x28d9ca=>_0x28d9ca['id']===_0x5174bc[_0x1f3bd2(0x7db)]);if(!_0x39a4ec)throw new Error(_0x1f3bd2(0x504));if(!_0x2cce17[_0x1f3bd2(0xa09)][_0x1f3bd2(0x940)](_0xb7149a=>_0xb7149a[_0x1f3bd2(0x277)]()===_0x39a4ec[_0x1f3bd2(0x4ea)]))throw new Error(_0x1f3bd2(0x305));_0x540fc5&&_0x540fc5[_0x1f3bd2(0x7fc)]({'output':_0x1f3bd2(0x9ae)+_0x5174bc[_0x1f3bd2(0x54e)]+_0x1f3bd2(0x5a5),'type':_0x1f3bd2(0x818)});const _0x4ad2cc=Date['now'](),_0x27a08e=(0x0,_0x4848bd['v4'])(),_0x518cb6=_0x540fc5?await async function(_0x585c34,_0x4d5bfd,_0x554819,_0x481fc7,_0x1ad7ec,_0x43a945,_0x226cd6,_0x3198dd){const _0x1d6793=_0x1f3bd2,_0x41fdb7=_0x3198dd['models'][_0x1d6793(0x940)](_0x30e861=>_0x30e861['id']===_0x1ad7ec[_0x1d6793(0x7db)]);if(!_0x41fdb7)throw new Error('Model\x20not\x20found');const _0xa6b328=_0x3198dd[_0x1d6793(0xa09)]['find'](_0x39d66d=>_0x39d66d['getEngineType']()===_0x41fdb7['engineType']);if(!_0xa6b328)throw new Error(_0x1d6793(0x305));if(!_0x1ad7ec[_0x1d6793(0x17a)]||!_0x1ad7ec['accumulated'][_0x1d6793(0x818)])throw new Error(_0x1d6793(0x40e));const _0x52a367={'type':_0x1d6793(0x818),'output':''};for await(const _0x5e2870 of _0xa6b328[_0x1d6793(0xa30)]({'type':_0x554819[_0x1d6793(0x43f)],'prompt':_0x143d00(_0x1ad7ec['accumulated'][_0x1d6793(0x818)],_0x1ad7ec),'instructions':_0x3a74ad(_0x554819[_0x1d6793(0x711)]??'',_0x1ad7ec,_0x41fdb7),'grammar':_0x1ad7ec[_0x1d6793(0x9db)],'temperature':_0x1ad7ec[_0x1d6793(0x4d6)],'maxTokens':_0x1ad7ec['maxTokens'],'history':_0x554819['history'],'functions':_0x3130eb(_0x585c34,_0x4d5bfd,_0x554819[_0x1d6793(0x998)],_0x481fc7,_0x1ad7ec,_0x43a945,_0x3198dd,_0x226cd6),'threadId':_0x554819[_0x1d6793(0x998)]},{'model':_0x41fdb7,'sequences':0x2}))_0x1ad7ec['links']&&_0x1ad7ec['links'][_0x1d6793(0x216)](_0x2a07da=>{const _0x551935=_0x1d6793,_0x3aad0b=_0x43a945[_0x551935(0x940)](_0x4814b2=>_0x4814b2[_0x551935(0x431)]===_0x2a07da['uid']);return!!_0x3aad0b&&_0x2a07da['type']===_0x330a3f[_0x551935(0x873)]&&_0x3aad0b['type']===_0xdb7ade['Answer'];})&&_0x226cd6['emit'](_0x5e2870),_0x1d6793(0x6a8)==typeof _0x52a367[_0x1d6793(0x40c)]&&_0x1d6793(0x6a8)==typeof _0x5e2870[_0x1d6793(0x40c)]&&(_0x52a367['output']+=_0x5e2870[_0x1d6793(0x40c)]),_0x52a367[_0x1d6793(0x3b0)]=_0x5e2870[_0x1d6793(0x3b0)],_0x52a367[_0x1d6793(0x75c)]=_0x5e2870[_0x1d6793(0x75c)];return _0x52a367;}(_0x325028,_0x27a08e,_0x170eac,_0x13dc09,_0x5174bc,_0x12a051,_0x540fc5,_0x2cce17):await async function(_0x451648,_0x28ea9a,_0x499f06,_0xb0ce45,_0x381b71,_0xb6fc98,_0x395f9d){const _0x42a7dd=_0x1f3bd2,_0x39356d=_0x395f9d[_0x42a7dd(0x4ae)][_0x42a7dd(0x940)](_0x1eab98=>_0x1eab98['id']===_0x381b71['modelId']);if(!_0x39356d)throw new Error(_0x42a7dd(0x504));const _0x267f5d=_0x395f9d['generativeAIWorkerConnectors']['find'](_0x27e409=>_0x27e409[_0x42a7dd(0x277)]()===_0x39356d[_0x42a7dd(0x4ea)]);if(!_0x267f5d)throw new Error(_0x42a7dd(0x305));if(!_0x381b71[_0x42a7dd(0x17a)]||!_0x381b71[_0x42a7dd(0x17a)][_0x42a7dd(0x818)])throw new Error(_0x42a7dd(0x40e));return _0x267f5d[_0x42a7dd(0x53e)]({'type':'prompt','prompt':_0x143d00(_0x381b71[_0x42a7dd(0x17a)]['prompt'],_0x381b71),'instructions':_0x3a74ad(_0x499f06[_0x42a7dd(0x711)]??'',_0x381b71,_0x39356d),'grammar':_0x381b71['grammar'],'temperature':_0x381b71[_0x42a7dd(0x4d6)],'maxTokens':_0x381b71['maxTokens'],'history':_0x499f06[_0x42a7dd(0x7d9)],'functions':_0x3130eb(_0x451648,_0x28ea9a,_0x499f06[_0x42a7dd(0x998)],_0xb0ce45,_0x381b71,_0xb6fc98,_0x395f9d),'threadId':_0x499f06[_0x42a7dd(0x998)]},{'model':_0x39356d,'sequences':0x2});}(_0x325028,_0x27a08e,_0x170eac,_0x13dc09,_0x5174bc,_0x12a051,_0x2cce17);if(_0x1f3bd2(0x6a8)!=typeof _0x518cb6['output'])throw new Error(_0x1f3bd2(0x39b));_0x13dc09[_0x1f3bd2(0x3b0)]+=_0x518cb6[_0x1f3bd2(0x3b0)]??0x0,_0x13dc09[_0x1f3bd2(0x75c)]+=_0x518cb6[_0x1f3bd2(0x75c)]??0x0,_0x2f5394['trace']({'jobType':_0x5bea9b[_0x1f3bd2(0xa95)],'type':_0x170237['IntermediateOutput'],'jobId':_0x325028,'agentId':_0x27a08e,'threadId':_0x170eac[_0x1f3bd2(0x998)],'traceLevel':_0x4ddd58[_0x1f3bd2(0x26a)],'startTime':_0x4ad2cc,'timestamp':Date['now'](),'blockId':_0x5174bc['id'],'status':_0x1f3bd2(0x52f),'output':_0x518cb6[_0x1f3bd2(0x40c)],'prompt':_0x5174bc['accumulated']['prompt'],'agentName':_0x5174bc[_0x1f3bd2(0x54e)],'history':[],'instructions':''+_0x5174bc['instructions']+(_0x170eac[_0x1f3bd2(0x711)]??''),'ragContext':_0x518cb6[_0x1f3bd2(0x297)]??[],'inputTokens':_0x518cb6[_0x1f3bd2(0x3b0)]??0x0,'outputTokens':_0x518cb6[_0x1f3bd2(0x75c)]??0x0}),_0x57c645(_0x518cb6[_0x1f3bd2(0x40c)],_0x5174bc,_0x12a051),await _0x53a92d(_0x325028,_0x518cb6['output'],_0x170eac,_0x13dc09,_0x5174bc,_0x12a051,_0x2cce17,_0x540fc5);}function _0x143d00(_0x4d6ce1,_0x561f18){const _0x456a8a=_0x178721;if(!_0x561f18['accumulated']||!_0x561f18['accumulated'][_0x456a8a(0x297)])return _0x4d6ce1;if(_0x561f18[_0x456a8a(0x17a)][_0x456a8a(0x297)])for(const _0x2c997f of Object[_0x456a8a(0x89f)](_0x561f18[_0x456a8a(0x17a)][_0x456a8a(0x297)])){const _0x3d7ac0=_0x561f18[_0x456a8a(0x17a)]['context'][_0x2c997f];_0x4d6ce1=_0x3d7ac0 instanceof Array?'Given\x20search\x20results\x20for\x20'+_0x2c997f+':\x0a\x0a'+_0x3d7ac0[_0x456a8a(0x7df)](_0x4bc75d=>'From\x20'+_0x4bc75d[_0x456a8a(0x21e)]+':\x20'+_0x4bc75d[_0x456a8a(0x855)])[_0x456a8a(0x4c6)]('\x0a\x0a')+'\x0a\x0a'+_0x4d6ce1:'Given\x20'+_0x2c997f+':\x20'+_0x3d7ac0+'\x0a\x0a'+_0x4d6ce1;}return _0x4d6ce1;}function _0x3a74ad(_0x578f6e,_0xd1109b,_0x35aa10){const _0x39fc49=_0x178721;let _0x1bb00b='';return _0x35aa10[_0x39fc49(0x505)]&&''!==_0x35aa10[_0x39fc49(0x505)]&&(_0x1bb00b=_0x39fc49(0x4e9)+_0x35aa10['knowledgeCutoffDate']+'\x0a\x0a'),_0x1bb00b=_0x1bb00b+_0x39fc49(0x8cb)+new Date()['toLocaleDateString'](void 0x0,{'weekday':_0x39fc49(0x561),'year':_0x39fc49(0x755),'month':_0x39fc49(0x561),'day':'numeric'})+'\x0a\x0a',''+_0x1bb00b+_0xd1109b[_0x39fc49(0x711)]+_0x578f6e;}function _0x45ec07(_0x144ae3,_0x347394,_0x367ca9){const _0x468753=_0x178721;_0x367ca9[_0x468753(0x17a)]||(_0x367ca9[_0x468753(0x17a)]={}),_0x367ca9[_0x468753(0x17a)][_0x468753(0x297)]||(_0x367ca9['accumulated'][_0x468753(0x297)]={});const _0x1dfb06=_0x367ca9[_0x468753(0x635)]?.[_0x468753(0x6af)](',');_0x1dfb06&&_0x1dfb06[_0x468753(0x31d)](_0x144ae3)&&(_0x367ca9['accumulated']['context'][_0x144ae3]=_0x347394);}function _0x4bbb17(_0x2fcb69,_0x1c2151,_0x2105cc,_0x5ce336){const _0x37a40f=_0x178721;_0x2fcb69===_0x330a3f[_0x37a40f(0x7fa)]&&(_0x5ce336[_0x37a40f(0x17a)]||(_0x5ce336['accumulated']={}),_0x5ce336[_0x37a40f(0x17a)]['context']||(_0x5ce336[_0x37a40f(0x17a)][_0x37a40f(0x297)]={}),_0x5ce336[_0x37a40f(0x17a)][_0x37a40f(0x297)][_0x1c2151]=_0x2105cc);}async function _0x665ec6(_0x49fb7a,_0x32cfcc,_0x1cec5f,_0x45277b,_0x3e3fe7,_0x30a3b2,_0x2ca465,_0x41fb5c){const _0x2eaba8=function(_0x583a3a,_0x1b1cb6){const _0x2ee224=a0_0x5e71,_0x2eb780=[];for(let _0x597433=0x0;_0x597433<_0x583a3a['length'];_0x597433+=_0x1b1cb6[_0x2ee224(0xa0d)][_0x2ee224(0x3e6)]){let _0x5f57da=_0x597433-_0x1b1cb6['attributes'][_0x2ee224(0x71b)];_0x5f57da<0x0&&(_0x5f57da=0x0);let _0x3e26cd=_0x597433+_0x1b1cb6[_0x2ee224(0xa0d)]['size']+_0x1b1cb6['attributes'][_0x2ee224(0x71b)];_0x3e26cd>_0x583a3a[_0x2ee224(0x3f4)]&&(_0x3e26cd=_0x583a3a['length']),length||(length=_0x597433+_0x1b1cb6[_0x2ee224(0xa0d)][_0x2ee224(0x3e6)],length>_0x583a3a[_0x2ee224(0x3f4)]&&(length=_0x583a3a['length'])),_0x2eb780[_0x2ee224(0x77b)](_0x583a3a['substring'](_0x5f57da,_0x3e26cd));}return _0x2eb780;}(_0x32cfcc,_0x3e3fe7);await _0x53a92d(_0x49fb7a,_0x2eaba8,_0x1cec5f,_0x45277b,_0x3e3fe7,_0x30a3b2,_0x2ca465,_0x41fb5c);}function _0x1a7a47(_0x3c4d7c,_0x18fde4,_0x5a2f68){const _0x47a06c=_0x178721;_0x5a2f68[_0x47a06c(0x17a)]||(_0x5a2f68[_0x47a06c(0x17a)]={}),_0x5a2f68[_0x47a06c(0x17a)]['context']||(_0x5a2f68['accumulated'][_0x47a06c(0x297)]={}),_0x5a2f68['accumulated']['context'][_0x3c4d7c]=_0x18fde4;}async function _0x2eba35(_0x52c9de,_0x497c98,_0x38d68c,_0x1a8f3f,_0x87e43d,_0x47e599,_0x2e9431,_0x4179f4){const _0x33bfda=_0x178721;if(_0x87e43d[_0x33bfda(0x17a)]||(_0x87e43d[_0x33bfda(0x17a)]={}),_0x87e43d[_0x33bfda(0x17a)][_0x33bfda(0x21a)]||(_0x87e43d[_0x33bfda(0x17a)][_0x33bfda(0x21a)]=[]),_0x497c98 instanceof Array?_0x87e43d['accumulated'][_0x33bfda(0x21a)][_0x33bfda(0x77b)](..._0x497c98):_0x87e43d[_0x33bfda(0x17a)][_0x33bfda(0x21a)]['push'](_0x497c98),_0x87e43d[_0x33bfda(0x771)]=_0x87e43d[_0x33bfda(0x771)]?_0x87e43d[_0x33bfda(0x771)]+0x1:0x1,_0xeeaa08(_0x87e43d,_0x47e599)>_0x87e43d[_0x33bfda(0x771)])return;if(0x0===_0x87e43d[_0x33bfda(0x17a)][_0x33bfda(0x21a)][_0x33bfda(0x3f4)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x37b6d9=[];const _0x51b46b=Date[_0x33bfda(0x2e5)]();try{let _0x32e2c3=0x0,_0x475ac0=0x0;for(const _0x206f3b of _0x87e43d[_0x33bfda(0x17a)]['queries']){const _0x2dc1c4=_0x87e43d[_0x33bfda(0x7f5)]['find'](_0x251e91=>_0x251e91['type']===_0x129c97[_0x33bfda(0x587)]),_0x276fa1=await _0x153a2b(_0x52c9de,_0x38d68c[_0x33bfda(0x998)],_0x206f3b,_0x2dc1c4,_0x87e43d['retrieveBlocks'],_0x2e9431);_0x37b6d9=Array[_0x33bfda(0x3ac)](new Set([..._0x37b6d9,..._0x276fa1[_0x33bfda(0x297)]])),_0x32e2c3+=_0x276fa1[_0x33bfda(0x3b0)]??0x0,_0x475ac0+=_0x276fa1[_0x33bfda(0x75c)]??0x0;}_0x1a8f3f[_0x33bfda(0x3b0)]+=_0x32e2c3,_0x1a8f3f[_0x33bfda(0x75c)]+=_0x475ac0,_0x1a8f3f[_0x33bfda(0x297)]=Array[_0x33bfda(0x3ac)](new Set([..._0x1a8f3f[_0x33bfda(0x297)],..._0x37b6d9])),_0x2f5394['trace']({'jobType':_0x5bea9b[_0x33bfda(0xa95)],'type':_0x170237[_0x33bfda(0x89e)],'jobId':_0x52c9de,'threadId':_0x38d68c[_0x33bfda(0x998)],'traceLevel':_0x4ddd58[_0x33bfda(0x26a)],'startTime':_0x51b46b,'timestamp':Date[_0x33bfda(0x2e5)](),'blockId':_0x87e43d['id'],'status':_0x33bfda(0x52f),'queries':_0x87e43d[_0x33bfda(0x17a)][_0x33bfda(0x21a)],'context':_0x37b6d9,'inputTokens':_0x32e2c3,'outputTokens':_0x475ac0});}catch(_0x5227a6){console[_0x33bfda(0x5c0)](_0x5227a6),_0x2f5394[_0x33bfda(0x70a)]({'jobType':_0x5bea9b['Workflow'],'type':_0x170237[_0x33bfda(0x89e)],'jobId':_0x52c9de,'threadId':_0x38d68c[_0x33bfda(0x998)],'traceLevel':_0x4ddd58[_0x33bfda(0x26a)],'startTime':_0x51b46b,'timestamp':Date[_0x33bfda(0x2e5)](),'blockId':_0x87e43d['id'],'status':'error','queries':_0x87e43d[_0x33bfda(0x17a)][_0x33bfda(0x21a)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x57c645(_0x37b6d9,_0x87e43d,_0x47e599),await _0x53a92d(_0x52c9de,_0x37b6d9,_0x38d68c,_0x1a8f3f,_0x87e43d,_0x47e599,_0x2e9431,_0x4179f4);}async function _0x2701da(_0x5e1efb,_0x3a2469,_0x193300,_0x3968d9,_0x3f1c4c,_0x48f82b,_0x2afc31,_0x5897bd){const _0x33ea18=_0x178721,_0x38dc06=await _0x2afc31[_0x33ea18(0x607)][_0x33ea18(0x5b7)](_0x3a2469);await _0x53a92d(_0x5e1efb,_0x38dc06,_0x193300,_0x3968d9,_0x3f1c4c,_0x48f82b,_0x2afc31,_0x5897bd);}async function _0x2f5b5c(_0x336905,_0x1d0202,_0x37f77b,_0x38273c,_0x5d8618,_0x3742a5,_0x4fd6e7,_0x3405e8){const _0x1e3fc1=function(_0x5e7b91,_0x595b80){const _0x4edeeb=a0_0x5e71,_0xa1e948=[],_0x2a81c3=_0x5e7b91['split']('\x20');let _0x3cfa5e='',_0x553f7c=0x0,_0xb1590d=0x0,_0x57a8ab=0x0;for(const _0x1749f7 of _0x2a81c3){if(_0x3cfa5e[_0x4edeeb(0x3f4)]+_0x1749f7[_0x4edeeb(0x3f4)]>_0x595b80[_0x4edeeb(0xa0d)][_0x4edeeb(0x3e6)]){let _0x518bab=_0x553f7c,_0x526e87='';for(;_0x518bab>=0x0&&_0x526e87[_0x4edeeb(0x3f4)]+_0x2a81c3[_0x518bab][_0x4edeeb(0x3f4)]<_0x595b80[_0x4edeeb(0xa0d)][_0x4edeeb(0x71b)];)_0x526e87=_0x2a81c3[_0x518bab]+'\x20'+_0x526e87,_0x518bab--;let _0x2b1304=_0xb1590d,_0x33b268='';for(;_0x2b1304<_0x2a81c3[_0x4edeeb(0x3f4)]&&_0x33b268[_0x4edeeb(0x3f4)]+_0x2a81c3[_0x2b1304]['length']<_0x595b80['attributes'][_0x4edeeb(0x71b)];)_0x33b268+=_0x2a81c3[_0x2b1304]+'\x20',_0x2b1304++;_0x3cfa5e=_0x526e87+_0x3cfa5e+_0x33b268,_0xa1e948[_0x4edeeb(0x77b)](_0x3cfa5e[_0x4edeeb(0x316)]()),_0x3cfa5e='',_0x553f7c=_0xb1590d;}_0x3cfa5e+=_0x1749f7+'\x20',_0xb1590d++,_0x57a8ab+=_0x1749f7[_0x4edeeb(0x3f4)]+0x1;}if(_0x3cfa5e[_0x4edeeb(0x3f4)]>0x0){let _0x543c2d=_0x553f7c,_0x26a96f='';for(;_0x543c2d>=0x0&&_0x26a96f[_0x4edeeb(0x3f4)]+_0x2a81c3[_0x543c2d][_0x4edeeb(0x3f4)]<_0x595b80[_0x4edeeb(0xa0d)][_0x4edeeb(0x71b)];)_0x26a96f=_0x2a81c3[_0x543c2d]+'\x20'+_0x26a96f,_0x543c2d--;_0x3cfa5e=_0x26a96f+_0x3cfa5e,_0xa1e948[_0x4edeeb(0x77b)](_0x3cfa5e[_0x4edeeb(0x316)]());}return _0xa1e948;}(_0x1d0202,_0x5d8618);await _0x53a92d(_0x336905,_0x1e3fc1,_0x37f77b,_0x38273c,_0x5d8618,_0x3742a5,_0x4fd6e7,_0x3405e8);}function _0x57c645(_0x4c0e90,_0x40d09b,_0x50e3e9,_0x327b4d){const _0x2fe7f3=_0x178721;if(_0x40d09b[_0x2fe7f3(0x99f)])for(const _0x4481bf of _0x40d09b[_0x2fe7f3(0x99f)]){if(_0x4481bf[_0x2fe7f3(0x43f)]!==_0x330a3f[_0x2fe7f3(0x7fa)])continue;const _0x326e51=_0x50e3e9['find'](_0x307eb0=>_0x307eb0[_0x2fe7f3(0x431)]===_0x4481bf[_0x2fe7f3(0x431)]);if(!_0x326e51)continue;let _0xc1bbec=_0x40d09b['id'];switch(_0x327b4d?_0xc1bbec=_0x327b4d:(_0x40d09b[_0x2fe7f3(0x43f)]===_0xdb7ade['DataCollection']&&(_0xc1bbec=_0x40d09b[_0x2fe7f3(0x54e)]),_0x40d09b[_0x2fe7f3(0x43f)]!==_0xdb7ade['Agent']&&_0x40d09b[_0x2fe7f3(0x43f)]!==_0xdb7ade['AgentSkill']&&_0x40d09b['type']!==_0xdb7ade['CustomSkill']||(_0xc1bbec=_0x40d09b[_0x2fe7f3(0x5c9)]??_0x40d09b[_0x2fe7f3(0x54e)])),_0x326e51[_0x2fe7f3(0x43f)]){case _0xdb7ade[_0x2fe7f3(0x4dc)]:_0x4826cd[_0x2fe7f3(0x6e2)](_0x2fe7f3(0xa79),_0x326e51[_0x2fe7f3(0x54e)],_0xc1bbec),_0x326e51[_0x2fe7f3(0x17a)]||(_0x326e51[_0x2fe7f3(0x17a)]={}),_0x326e51[_0x2fe7f3(0x17a)]['context']||(_0x326e51[_0x2fe7f3(0x17a)][_0x2fe7f3(0x297)]={});const _0x453556=_0x326e51[_0x2fe7f3(0x635)]?.[_0x2fe7f3(0x6af)](',');if(!(_0x453556&&_0x453556[_0x2fe7f3(0x31d)](_0xc1bbec)||_0x2fe7f3(0x974)===_0xc1bbec))return;_0x326e51[_0x2fe7f3(0x17a)][_0x2fe7f3(0x297)][_0xc1bbec]=_0x4c0e90;break;case _0xdb7ade[_0x2fe7f3(0x377)]:_0x4826cd[_0x2fe7f3(0x6e2)]('Setting\x20context\x20for\x20agent\x20skill\x20block',_0x326e51[_0x2fe7f3(0x54e)],_0xc1bbec),_0x45ec07(_0xc1bbec,_0x4c0e90,_0x326e51);break;case _0xdb7ade[_0x2fe7f3(0x710)]:_0x4826cd[_0x2fe7f3(0x6e2)](_0x2fe7f3(0x27b),_0xc1bbec),_0x4bbb17(_0x4481bf[_0x2fe7f3(0x43f)],_0xc1bbec,_0x4c0e90,_0x326e51);break;case _0xdb7ade['CustomSkill']:_0x4826cd['forceLog']('Setting\x20context\x20for\x20custom\x20skill\x20block',_0x326e51[_0x2fe7f3(0x54e)],_0xc1bbec),_0x1a7a47(_0xc1bbec,_0x4c0e90,_0x326e51);}}}async function _0x53a92d(_0x4e1d9c,_0xfdf49b,_0x1b3cc4,_0xb005ec,_0xcb699f,_0x2d5853,_0x2146f5,_0x55e8fc){const _0x1b3d94=_0x178721;if(await _0x387a0b[_0x1b3d94(0x977)](0x1),_0xcb699f[_0x1b3d94(0x99f)]){for(const _0x268480 of _0xcb699f[_0x1b3d94(0x99f)]){if(_0x268480['type']===_0x330a3f[_0x1b3d94(0x7fa)])continue;const _0x17138a=_0x2d5853[_0x1b3d94(0x940)](_0x201231=>_0x201231[_0x1b3d94(0x431)]===_0x268480[_0x1b3d94(0x431)]);if(_0x17138a)switch(_0x17138a[_0x1b3d94(0x43f)]){case _0xdb7ade['Agent']:await _0x24d011(_0x4e1d9c,_0x268480['type'],_0xfdf49b,_0x1b3cc4,_0xb005ec,_0x17138a,_0x2d5853,_0x2146f5,_0x55e8fc);break;case _0xdb7ade[_0x1b3d94(0x3d4)]:await _0x665ec6(_0x4e1d9c,_0xfdf49b,_0x1b3cc4,_0xb005ec,_0x17138a,_0x2d5853,_0x2146f5,_0x55e8fc);break;case _0xdb7ade[_0x1b3d94(0x89e)]:await _0x2eba35(_0x4e1d9c,_0xfdf49b,_0x1b3cc4,_0xb005ec,_0x17138a,_0x2d5853,_0x2146f5,_0x55e8fc);break;case _0xdb7ade['SentenceSplitter']:await _0x2701da(_0x4e1d9c,_0xfdf49b,_0x1b3cc4,_0xb005ec,_0x17138a,_0x2d5853,_0x2146f5,_0x55e8fc);break;case _0xdb7ade[_0x1b3d94(0xa2c)]:await _0x2f5b5c(_0x4e1d9c,_0xfdf49b,_0x1b3cc4,_0xb005ec,_0x17138a,_0x2d5853,_0x2146f5,_0x55e8fc);}}_0xcb699f[_0x1b3d94(0x43f)]===_0xdb7ade['Prompt']&&_0x55e8fc&&_0x55e8fc[_0x1b3d94(0x7fc)](void 0x0);}else _0xcb699f[_0x1b3d94(0x43f)]===_0xdb7ade[_0x1b3d94(0x587)]&&_0x55e8fc&&_0x55e8fc[_0x1b3d94(0x7fc)](void 0x0);}function _0xeeaa08(_0x1a85bf,_0x2fb6a4){const _0x37c96e=_0x178721;let _0x4b807d=0x0;for(const _0x5124d9 of _0x2fb6a4)for(const _0x2f7512 of _0x5124d9['links']??[])_0x2f7512[_0x37c96e(0x43f)]!==_0x330a3f['Context']&&_0x2f7512['type']!==_0x330a3f[_0x37c96e(0x6b0)]&&_0x2f7512[_0x37c96e(0x43f)]!==_0x330a3f['Skill']&&_0x2f7512[_0x37c96e(0x431)]===_0x1a85bf[_0x37c96e(0x431)]&&_0x4b807d++;return _0x4b807d;}async function _0x48e11e(_0x25d7e2,_0x152676,_0x1435d9,_0x44b335){const _0x52137f=_0x178721;if(0x0===_0x25d7e2['length'])return;let _0x36f806=_0x52137f(0x5b2);for(const _0x455fd0 of _0x25d7e2)if(_0x455fd0[_0x52137f(0x43f)][_0x52137f(0x9c8)](_0x52137f(0x9f2))||_0x3bbddc(_0x455fd0['name'],_0x3f2b06))_0x36f806+='\x0a<'+_0x455fd0[_0x52137f(0x54e)]+'>\x0a'+await _0x455fd0[_0x52137f(0x936)]()+_0x52137f(0x214)+_0x455fd0['name']+'>';else{if(!_0x44b335[_0x52137f(0x962)][_0x52137f(0x28b)](_0x455fd0))throw new Error(_0x52137f(0x34a)+_0x455fd0[_0x52137f(0x43f)]+'\x20-\x20'+_0x455fd0[_0x52137f(0x54e)]);_0x36f806+='\x0a<'+_0x455fd0['name']+'>\x0a'+await _0x44b335[_0x52137f(0x962)]['parse'](_0x455fd0)+_0x52137f(0x214)+_0x455fd0[_0x52137f(0x54e)]+'>';}_0x36f806+=_0x52137f(0x19a),_0x57c645(_0x36f806,_0x152676,_0x1435d9,'file-upload');}async function _0x1eb44d(_0x391764,_0x477484,_0x5e1faf,_0x4b9f21){const _0x7a2f0e=_0x178721;if(_0x391764[_0x7a2f0e(0x3ae)]&&_0x477484[_0x7a2f0e(0x99f)]){const _0x58564c=[];for(const _0x54715f of _0x391764[_0x7a2f0e(0x3ae)])_0x58564c['push'](_0x10b21a(_0x54715f));for(const _0x587471 of _0x477484[_0x7a2f0e(0x99f)])if(_0x7a2f0e(0x183)===_0x587471[_0x7a2f0e(0x43f)]){const _0x317483=_0x5e1faf[_0x7a2f0e(0x940)](_0x3ffbd0=>_0x3ffbd0['uid']===_0x587471[_0x7a2f0e(0x431)]);if(!_0x317483)continue;_0x317483['type']===_0xdb7ade['DocumentParser']&&await _0x48e11e(_0x58564c,_0x317483,_0x5e1faf,_0x4b9f21);}}}function _0x10b21a(_0x5806c6){const _0x215503=_0x178721,_0x431b00=atob(_0x5806c6[_0x215503(0x855)]),_0x15fe40=_0x431b00[_0x215503(0x3f4)],_0x2229c4=new ArrayBuffer(_0x15fe40),_0x4a9f41=new Uint8Array(_0x2229c4);for(let _0x471a02=0x0;_0x471a02<_0x15fe40;_0x471a02++)_0x4a9f41[_0x471a02]=_0x431b00['charCodeAt'](_0x471a02);return new File([_0x4a9f41],_0x5806c6['name'],{'type':_0x5806c6[_0x215503(0x43f)]});}class _0x4a4c61 extends _0x484abd{['localNode'];['vendorId'];[_0x178721(0x73d)];[_0x178721(0xa09)];['documentParserConnector'];['nlpLibraryConnector'];[_0x178721(0x3de)];['aiSearchApiKey'];['searchConnector'];[_0x178721(0xa3d)];[_0x178721(0x1ec)];[_0x178721(0x198)];[_0x178721(0x2d4)]=new Map();[_0x178721(0x685)]=new Map();[_0x178721(0x85c)];[_0x178721(0x4ae)]=new Map();['debounceStats'];[_0x178721(0x8e0)]=0x0;[_0x178721(0x1c3)]=0x0;[_0x178721(0x64c)]=!0x1;[_0x178721(0x9c7)]=[];[_0x178721(0x273)]=!0x1;constructor(_0x3fbb73,_0x2ca60a,_0x5035a7,_0x55460a,_0x491543,_0x457f97,_0x4d299d,_0x5a3e26,_0x5a7c5b,_0x1a7a61,_0x47cf54,_0x433f10){const _0x5dae12=_0x178721;super(_0x3fbb73,_0x2ca60a,_0x55460a),this[_0x5dae12(0x31a)]=_0x3fbb73,this[_0x5dae12(0x92c)]=_0x5035a7,this['contentMediator']=_0x491543,this[_0x5dae12(0xa09)]=_0x457f97,this[_0x5dae12(0x962)]=_0x4d299d,this[_0x5dae12(0x607)]=_0x5a3e26,this['searchApiKey']=_0x5a7c5b,this[_0x5dae12(0x6ed)]=_0x1a7a61,this[_0x5dae12(0x244)]=_0x47cf54,this[_0x5dae12(0xa3d)]=_0x433f10;}async['destroy'](){const _0x35ec78=_0x178721;for(const _0x27cd62 of this[_0x35ec78(0xa09)])await _0x27cd62[_0x35ec78(0x3d8)]();this[_0x35ec78(0x198)]?.['unsubscribe'](this[_0x35ec78(0x8f4)]),this[_0x35ec78(0x2d4)][_0x35ec78(0x2cb)](_0x3f121e=>_0x3f121e[_0x35ec78(0x90e)](this[_0x35ec78(0x8f4)])),this[_0x35ec78(0x605)]&&(clearTimeout(this[_0x35ec78(0x605)]),delete this[_0x35ec78(0x605)]),super[_0x35ec78(0x4c1)]();}async[_0x178721(0x44a)](_0xe6b40e=!0x1){const _0x13c2fd=_0x178721;if(this['isOpened'])super['open']();else{if(_0x4826cd[_0x13c2fd(0x6e2)](_0x13c2fd(0x80c),this[_0x13c2fd(0x8f4)]),this['workflow']=await _0x1099e5[_0x13c2fd(0x446)](this[_0x13c2fd(0x92c)],this['label']),this[_0x13c2fd(0x198)]=this[_0x13c2fd(0x73d)][_0x13c2fd(0x8bf)](this[_0x13c2fd(0x1ec)]['modelsBucketId']),!this[_0x13c2fd(0x198)])throw new Error(_0x13c2fd(0x174));this['initializeLoggingDatabase'](),_0x4826cd[_0x13c2fd(0x6e2)](_0x13c2fd(0x585),this[_0x13c2fd(0x1ec)]['models']);for(const _0x46a7b5 of this[_0x13c2fd(0x1ec)][_0x13c2fd(0x4ae)])try{let _0x56fc5f;_0x46a7b5['engineType']===_0x12ff66[_0x13c2fd(0xa6d)][_0x13c2fd(0x820)]&&(_0x56fc5f=await this[_0x13c2fd(0x8ec)]('/'+_0x46a7b5['id']+_0x79eebc)),this['models'][_0x13c2fd(0x5f0)](_0x46a7b5['id'],{'id':_0x46a7b5['id'],'engineType':_0x46a7b5[_0x13c2fd(0x4ea)],'taskType':_0x46a7b5['taskType'],'inputType':_0x46a7b5[_0x13c2fd(0x26e)],'outputType':_0x46a7b5['outputType'],'sourceUrl':_0x46a7b5[_0x13c2fd(0x741)],'pathName':_0x56fc5f});}catch(_0x3b5815){await this['modelStore'][_0x13c2fd(0xa83)]({'action':_0x12ff66['PayloadAction']['File'],'file':new File([''],''+_0x46a7b5['id']+_0x79eebc),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x46a7b5[_0x13c2fd(0x741)]}}),this[_0x13c2fd(0x4ae)][_0x13c2fd(0x5f0)](_0x46a7b5['id'],{'id':_0x46a7b5['id'],'engineType':_0x46a7b5[_0x13c2fd(0x4ea)],'taskType':_0x46a7b5[_0x13c2fd(0x785)],'inputType':_0x46a7b5[_0x13c2fd(0x26e)],'outputType':_0x46a7b5['outputType'],'sourceUrl':_0x46a7b5[_0x13c2fd(0x741)],'pathName':await this['getModel']('/'+_0x46a7b5['id']+_0x79eebc)});}try{for(const _0x5877bd of this[_0x13c2fd(0xa09)])await _0x5877bd[_0x13c2fd(0x8cc)](this[_0x13c2fd(0x8f4)],this['models']);}catch(_0x268666){return this['open'](_0xe6b40e);}for(const _0x2316ba of this['workflow']['dataBucketIds'])this[_0x13c2fd(0x2d4)][_0x13c2fd(0x5f0)](_0x2316ba,this['contentMediator']['getObjectStoreBucket'](_0x2316ba));await this[_0x13c2fd(0x3af)](),this['subscribeToLocalContent']();for(const _0x2c4199 of this[_0x13c2fd(0x1ec)][_0x13c2fd(0x8bd)])this[_0x13c2fd(0x685)][_0x13c2fd(0x5f0)](_0x2c4199,this[_0x13c2fd(0x73d)]['getExternalStorageConnection'](_0x2c4199));await this[_0x13c2fd(0x53a)](),this[_0x13c2fd(0x5fe)](),this[_0x13c2fd(0x64c)]=!0x0,this['sendStats'](),super[_0x13c2fd(0x44a)](),_0x4826cd[_0x13c2fd(0x6e2)](_0x13c2fd(0x689),this[_0x13c2fd(0x8f4)]);}}[_0x178721(0x6ea)](){const _0x7bb7b=_0x178721;this[_0x7bb7b(0x8e0)]=0x0,this[_0x7bb7b(0x1c3)]=0x0,this[_0x7bb7b(0x88e)](),super['reset']();}['getBid'](){const _0xb906f7=_0x178721;return this['sendStats'](),this[_0xb906f7(0x5aa)]();}['compileStats'](_0xffa957,_0x3089f9,_0x547e1c){const _0x145f4e=_0x178721,{outputTokens:_0x5da1c1=0x0,output:_0x28b7d0=''}=_0xffa957,_0x19a2fc=_0x5da1c1/((_0x547e1c-_0x3089f9)/0x3e8);this[_0x145f4e(0x8e0)]+=0x1,this[_0x145f4e(0x1c3)]+=_0x5da1c1,this[_0x145f4e(0x481)](_0x19a2fc,_0x5da1c1),this[_0x145f4e(0x88e)]();}[_0x178721(0x3d9)](_0xdce916,_0x5310f5){const _0x1182c8=_0x178721;return _0xdce916[_0x1182c8(0x40c)]=_0xdce916[_0x1182c8(0x40c)]??'',{'type':_0x1182c8(0x818),'output':_0x1182c8(0x6a8)==typeof _0xdce916[_0x1182c8(0x40c)]&&_0x1182c8(0x6a8)==typeof _0x5310f5[_0x1182c8(0x40c)]?_0xdce916[_0x1182c8(0x40c)]+_0x5310f5[_0x1182c8(0x40c)]:_0x5310f5['output'],'outputTokens':_0x5310f5['outputTokens']??_0xdce916['outputTokens'],'inputTokens':_0x5310f5[_0x1182c8(0x3b0)]??_0xdce916[_0x1182c8(0x3b0)]};}async[_0x178721(0xa36)](_0x184c0d,_0x760522){const _0xed52a5=_0x178721;if(this['workflow']=await _0x1099e5[_0xed52a5(0x446)](this[_0xed52a5(0x92c)],this[_0xed52a5(0x8f4)]),'prompt'===_0x760522[_0xed52a5(0x43f)]){const _0x4d5ca7=this['workflow'][_0xed52a5(0x780)][_0xed52a5(0x940)](_0xbaf29=>_0xbaf29[_0xed52a5(0x43f)]===_0xdb7ade['Prompt']),_0x2ec3df=await async function(_0x483e30,_0x3deaa1,_0xbea6e5,_0x1e401a,_0x1bd51e){const _0xd93d4a=_0xed52a5,_0x3d1ce4=(0x0,_0x4848bd['v4'])(),_0x4ea3b3=Date[_0xd93d4a(0x2e5)]();if(_0x2f5394[_0xd93d4a(0x70a)]({'jobType':_0x5bea9b[_0xd93d4a(0xa95)],'type':_0x170237['InitialPrompt'],'jobId':_0x483e30,'blockId':_0xbea6e5['id'],'agentId':_0x3d1ce4,'threadId':_0x3deaa1['threadId'],'traceLevel':_0x4ddd58[_0xd93d4a(0x26a)],'startTime':Date[_0xd93d4a(0x2e5)](),'timestamp':Date[_0xd93d4a(0x2e5)](),'status':_0xd93d4a(0x52f),'initialPrompt':_0x3deaa1[_0xd93d4a(0x818)]}),await _0x1eb44d(_0x3deaa1,_0xbea6e5,_0x1e401a,_0x1bd51e),_0x3deaa1[_0xd93d4a(0x247)]){for(const _0x3378b7 in _0x3deaa1[_0xd93d4a(0x247)])_0x57c645(_0x3deaa1['internalContext'][_0x3378b7],_0xbea6e5,_0x1e401a,_0x3378b7);}const _0x49f7cf={'type':_0x3deaa1[_0xd93d4a(0x43f)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x53a92d(_0x483e30,''+_0x3deaa1['prompt'],_0x3deaa1,_0x49f7cf,_0xbea6e5,_0x1e401a,_0x1bd51e);const {inputTokens:_0x41aa1b=0x0,outputTokens:_0x519ff8=0x0,context:_0xf67f74=[]}=_0x49f7cf;return _0x2f5394[_0xd93d4a(0x70a)]({'jobType':_0x5bea9b[_0xd93d4a(0xa95)],'type':_0x170237[_0xd93d4a(0x2ec)],'jobId':_0x483e30,'agentId':_0x3d1ce4,'threadId':_0x3deaa1['threadId'],'traceLevel':_0x4ddd58[_0xd93d4a(0x26a)],'startTime':_0x4ea3b3,'timestamp':Date[_0xd93d4a(0x2e5)](),'blockId':_0xbea6e5['id'],'status':_0xd93d4a(0x52f),'output':_0x49f7cf[_0xd93d4a(0x40c)]?.[_0xd93d4a(0x729)]()??'','prompt':_0x3deaa1[_0xd93d4a(0x818)],'agentName':'','history':_0x3deaa1[_0xd93d4a(0x7d9)]??[],'instructions':''+(_0x3deaa1[_0xd93d4a(0x711)]??''),'ragContext':_0xf67f74,'inputTokens':_0x41aa1b,'outputTokens':_0x519ff8}),{'type':_0x3deaa1[_0xd93d4a(0x43f)],'output':_0x49f7cf[_0xd93d4a(0x40c)],'context':_0x49f7cf[_0xd93d4a(0x297)],'internalContext':_0x1e401a[_0xd93d4a(0x940)](_0x29309b=>_0x29309b[_0xd93d4a(0x43f)]===_0xdb7ade[_0xd93d4a(0x710)])?.[_0xd93d4a(0x17a)]?.[_0xd93d4a(0x297)]??{},'inputTokens':_0x49f7cf['inputTokens']??0x0,'outputTokens':_0x49f7cf[_0xd93d4a(0x75c)]??0x0};}(_0x184c0d,_0x760522,_0x4d5ca7,this[_0xed52a5(0x1ec)][_0xed52a5(0x780)],{'documentParserConnector':this[_0xed52a5(0x962)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0xed52a5(0xa09)],'models':this['workflow'][_0xed52a5(0x4ae)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0xed52a5(0x3de)],'aiSearchApiKey':this[_0xed52a5(0x6ed)],'searchConnector':this[_0xed52a5(0x244)],'aiSearchConnector':this['aiSearchConnector']});return _0x2ec3df;}if(_0xed52a5(0x4d2)===_0x760522[_0xed52a5(0x43f)])return _0x2f5394[_0xed52a5(0x70a)]({'jobType':_0x5bea9b['Rating'],'type':_0x461084[_0xed52a5(0x9a5)],'jobId':_0x760522[_0xed52a5(0x80f)],'threadId':_0x760522[_0xed52a5(0x998)],'traceLevel':_0x4ddd58[_0xed52a5(0x26a)],'startTime':Date[_0xed52a5(0x2e5)](),'timestamp':Date[_0xed52a5(0x2e5)](),'status':'success','rating':_0x760522[_0xed52a5(0x202)],'feedback':_0x760522[_0xed52a5(0x3ad)]}),{'type':_0xed52a5(0x4d2),'status':_0x12ff66[_0xed52a5(0x263)][_0xed52a5(0x89c)]};if(_0xed52a5(0x702)===_0x760522[_0xed52a5(0x43f)]){let _0x227a65;const _0x2829a5=this[_0xed52a5(0x2d4)][_0xed52a5(0x89f)]();for(;!_0x227a65;){const _0x1f771e=_0x2829a5[_0xed52a5(0x1a6)]()[_0xed52a5(0x54a)];if(!_0x1f771e)throw new Error(_0xed52a5(0x311));_0x227a65=this[_0xed52a5(0x2d4)][_0xed52a5(0x603)](_0x1f771e);try{const _0x342ced=await _0x227a65['get'](_0x760522[_0xed52a5(0x9df)]);return{'type':_0xed52a5(0x702),'fileName':_0x342ced[_0xed52a5(0x54e)],'mimeType':_0x342ced[_0xed52a5(0x43f)],'document':await _0x342ced['arrayBuffer']()};}catch(_0x1f4b0e){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}throw new Error(_0xed52a5(0x95c));}async*['internalProcessJobStream'](_0x3fc525,_0x236901){const _0x1139bf=_0x178721;this[_0x1139bf(0x1ec)]=await _0x1099e5[_0x1139bf(0x446)](this['vendorId'],this['label']);const _0x22211a=this['workflow'][_0x1139bf(0x780)]['find'](_0x5463ae=>_0x5463ae[_0x1139bf(0x43f)]===_0xdb7ade[_0x1139bf(0x587)]);for await(const _0x274771 of async function*(_0x186420,_0x55ede7,_0x33ca21,_0x12857b,_0x3e46fc){const _0x2cbd03=_0x1139bf,_0x4ec6cb=(0x0,_0x4848bd['v4'])(),_0x369972=Date['now']();if(_0x2f5394['trace']({'jobType':_0x5bea9b['Workflow'],'type':_0x170237[_0x2cbd03(0x50d)],'jobId':_0x186420,'agentId':_0x4ec6cb,'threadId':_0x55ede7[_0x2cbd03(0x998)],'traceLevel':_0x4ddd58[_0x2cbd03(0x26a)],'startTime':Date[_0x2cbd03(0x2e5)](),'timestamp':Date[_0x2cbd03(0x2e5)](),'blockId':_0x33ca21['id'],'status':_0x2cbd03(0x52f),'initialPrompt':_0x55ede7['prompt']}),await _0x1eb44d(_0x55ede7,_0x33ca21,_0x12857b,_0x3e46fc),_0x55ede7['internalContext']){for(const _0x2e08c1 in _0x55ede7[_0x2cbd03(0x247)])_0x57c645(_0x55ede7[_0x2cbd03(0x247)][_0x2e08c1],_0x33ca21,_0x12857b,_0x2e08c1);}const _0x4351f6={'type':_0x55ede7['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x3fa657=new _0x3d7d70();_0x53a92d(_0x186420,''+_0x55ede7['prompt'],_0x55ede7,_0x4351f6,_0x33ca21,_0x12857b,_0x3e46fc,_0x3fa657);let _0x213b1b='',_0xa9edbd={'type':_0x55ede7[_0x2cbd03(0x43f)]};for(;;){const _0x451fe1=await _0x3fa657[_0x2cbd03(0xa6b)]();if(!_0x451fe1)break;_0x213b1b+=_0x451fe1[_0x2cbd03(0x40c)],_0xa9edbd={'type':_0x55ede7['type'],'output':_0x451fe1['output'],'context':_0x4351f6[_0x2cbd03(0x297)],'internalContext':{},'inputTokens':(_0x4351f6[_0x2cbd03(0x3b0)]??0x0)+(_0x451fe1[_0x2cbd03(0x3b0)]??0x0),'outputTokens':(_0x4351f6[_0x2cbd03(0x75c)]??0x0)+(_0x451fe1[_0x2cbd03(0x75c)]??0x0)},yield _0xa9edbd;}yield{..._0xa9edbd,'output':'','internalContext':_0x12857b[_0x2cbd03(0x940)](_0x22bf60=>_0x22bf60[_0x2cbd03(0x43f)]===_0xdb7ade['Answer'])?.[_0x2cbd03(0x17a)]?.[_0x2cbd03(0x297)]??{}};const {inputTokens:_0x5b4124=0x0,outputTokens:_0x388921=0x0,context:_0x265572=[]}=_0xa9edbd;_0x2f5394[_0x2cbd03(0x70a)]({'jobType':_0x5bea9b[_0x2cbd03(0xa95)],'type':_0x170237[_0x2cbd03(0x2ec)],'jobId':_0x186420,'agentId':_0x4ec6cb,'threadId':_0x55ede7[_0x2cbd03(0x998)],'traceLevel':_0x4ddd58[_0x2cbd03(0x26a)],'startTime':_0x369972,'timestamp':Date[_0x2cbd03(0x2e5)](),'blockId':_0x33ca21['id'],'status':_0x2cbd03(0x52f),'output':_0x213b1b,'prompt':_0x55ede7[_0x2cbd03(0x818)],'agentName':'','history':_0x55ede7['history']??[],'instructions':''+(_0x55ede7[_0x2cbd03(0x711)]??''),'ragContext':_0x265572,'inputTokens':_0x5b4124,'outputTokens':_0x388921});}(_0x3fc525,_0x236901,_0x22211a,this[_0x1139bf(0x1ec)]['blocks'],{'documentParserConnector':this[_0x1139bf(0x962)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1139bf(0xa09)],'models':this[_0x1139bf(0x1ec)]['models'],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x1139bf(0x3de)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0x1139bf(0x244)],'aiSearchConnector':this[_0x1139bf(0xa3d)]}))yield _0x274771;}[_0x178721(0xa1a)](_0x1e62f7,_0x595845){const _0x59233f=_0x178721;if(_0x59233f(0x4d2)===_0x595845['type'])return _0x1e62f7=_0x595845[_0x59233f(0x80f)],void this['openTrace'](_0x1e62f7);this[_0x59233f(0x352)](_0x1e62f7),_0x2f5394[_0x59233f(0x70a)]({'jobType':_0x5bea9b[_0x59233f(0x550)],'type':_0x30aa1d[_0x59233f(0x6f7)],'traceLevel':_0x4ddd58['Info'],'jobId':_0x1e62f7,'threadId':_0x595845[_0x59233f(0x998)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x59233f(0x52f)});}[_0x178721(0x3fd)](_0x353fdf,_0x4028e6){const _0xf3db7a=_0x178721;if(_0xf3db7a(0x4d2)===_0x4028e6[_0xf3db7a(0x43f)])return _0x353fdf=_0x4028e6[_0xf3db7a(0x80f)],void this['closeTrace'](_0x353fdf);_0x2f5394[_0xf3db7a(0x70a)]({'jobType':_0x5bea9b[_0xf3db7a(0x550)],'type':_0x30aa1d[_0xf3db7a(0x7b3)],'traceLevel':_0x4ddd58[_0xf3db7a(0x26a)],'jobId':_0x353fdf,'threadId':_0x4028e6[_0xf3db7a(0x998)],'startTime':Date['now'](),'timestamp':Date[_0xf3db7a(0x2e5)](),'status':_0xf3db7a(0x52f)}),this['closeTrace'](_0x353fdf);}async['getModel'](_0x58a5ba){const _0x2b4b77=_0x178721;if(!this[_0x2b4b77(0x198)])throw new Error(_0x2b4b77(0x174));const _0x3bbd64=await this['modelStore']['list']('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0xa9d645 of _0x3bbd64)if(_0xa9d645['kind']===_0x12ff66['ObjectKind'][_0x2b4b77(0xa86)]&&_0xa9d645[_0x2b4b77(0x21e)]===_0x58a5ba)return _0xa9d645[_0x2b4b77(0x4f1)]??_0xa9d645[_0x2b4b77(0x21e)];throw new Error(_0x2b4b77(0x488)+_0x58a5ba);}async[_0x178721(0x3af)](){const _0x56ce06=_0x178721;if(!this['workflow'])throw new Error(_0x56ce06(0x2b7));for(const _0x55aaea of this[_0x56ce06(0x2d4)][_0x56ce06(0x9b0)]())try{const _0x54f674=this[_0x56ce06(0x1ec)][_0x56ce06(0x780)][_0x56ce06(0x434)](_0x464fcb=>(_0x464fcb['type']===_0xdb7ade[_0x56ce06(0x89e)]||_0x464fcb[_0x56ce06(0x43f)]===_0xdb7ade[_0x56ce06(0x6b0)])&&_0x464fcb['ingestBlocks']?.[_0x56ce06(0x216)](_0x250a26=>_0x250a26['id']===_0x55aaea['getLabel']()));for(let _0x11266b=_0x54f674[_0x56ce06(0x3f4)]-0x1;_0x11266b>=0x0;_0x11266b--)for(const _0x14b538 of _0x54f674[_0x11266b]['ingestBlocks']??[])_0x14b538[_0x56ce06(0x43f)]===_0x129c97['VectorDatabase']&&this[_0x56ce06(0x73d)][_0x56ce06(0x71a)](_0x14b538['id'])['getIsLoaded']()&&_0x54f674[_0x56ce06(0x720)](_0x11266b,0x1),_0x14b538[_0x56ce06(0x43f)]===_0x129c97[_0x56ce06(0x252)]&&this[_0x56ce06(0x73d)][_0x56ce06(0x337)](_0x14b538['id'])['getIsLoaded']()&&_0x54f674[_0x56ce06(0x720)](_0x11266b,0x1);const _0x47af73=new Map();let _0x34df1e=!0x1;for(const _0x584800 of _0x54f674){let _0x16f675=''+(_0x584800[_0x56ce06(0x792)]??0x1);for(const _0xdea07b of _0x584800[_0x56ce06(0x9c2)]??[])_0xdea07b[_0x56ce06(0x43f)]===_0x129c97[_0x56ce06(0x4dc)]&&(_0x16f675=_0x16f675+'-'+(_0xdea07b[_0x56ce06(0x792)]??0x1));for(const _0x59018a of _0x584800[_0x56ce06(0x9c2)]??[])_0x59018a[_0x56ce06(0x43f)]===_0x129c97[_0x56ce06(0x262)]&&_0x47af73['set'](_0x59018a['id'],{'version':_0x16f675,'getDatabase':this[_0x56ce06(0x73d)][_0x56ce06(0x71a)][_0x56ce06(0x428)](this[_0x56ce06(0x73d)]),'block':_0x59018a}),_0x59018a['type']===_0x129c97[_0x56ce06(0x252)]&&_0x47af73[_0x56ce06(0x5f0)](_0x59018a['id'],{'version':_0x16f675,'getDatabase':this[_0x56ce06(0x73d)][_0x56ce06(0x337)][_0x56ce06(0x428)](this[_0x56ce06(0x73d)]),'block':_0x59018a});}for(const {getDatabase:_0xec3f92,block:_0x123f16,version:_0x41fc42}of _0x47af73[_0x56ce06(0x9b0)]())try{const _0x20849e=_0xec3f92(_0x123f16['id']);_0x20849e['loadFromDisk'](_0x41fc42),_0x20849e[_0x56ce06(0x94d)](!0x0),_0x34df1e=!0x0;}catch(_0x137c90){_0x34df1e=!0x1;break;}if(_0x4826cd[_0x56ce06(0x6e2)](_0x56ce06(0x517)),_0x34df1e)continue;_0x4826cd[_0x56ce06(0x6e2)](_0x56ce06(0x865));const _0x46dda2=await _0x55aaea[_0x56ce06(0x79a)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x56ce06(0x70f)](_0x101e8e[_0x56ce06(0x713)],_0x55aaea[_0x56ce06(0x92f)](),_0x46dda2);for(const {getDatabase:_0x28fbf0,block:_0x4e5f6e,version:_0x4116e3}of _0x47af73['values']()){const _0x50c2da=_0x28fbf0(_0x4e5f6e['id']);_0x50c2da[_0x56ce06(0x4e8)](_0x4116e3),_0x50c2da[_0x56ce06(0x94d)](!0x0);}}catch(_0x588391){_0x4826cd[_0x56ce06(0x5c0)](_0x56ce06(0x474),{'nodeId':this[_0x56ce06(0x31a)]['getId'](),'nodeType':this[_0x56ce06(0x31a)][_0x56ce06(0x43f)]});}}async[_0x178721(0x53a)](){const _0x152c77=_0x178721;for(const _0x2e27b1 of this[_0x152c77(0x685)]['values']())try{const _0x52e633=await _0x2e27b1[_0x152c77(0x79a)]('/',{'recursive':!0x0});await this[_0x152c77(0x70f)](_0x101e8e[_0x152c77(0x1c6)],_0x2e27b1[_0x152c77(0x92f)](),_0x52e633);}catch(_0x4afcb3){_0x4826cd[_0x152c77(0x5c0)](_0x152c77(0x9b4),{'nodeId':this[_0x152c77(0x31a)][_0x152c77(0x78a)](),'nodeType':this[_0x152c77(0x31a)][_0x152c77(0x43f)]});}}async['syncFolder'](_0x4c1ca9,_0x82af74,_0x215973){const _0x383f1a=_0x178721;for(const _0x5b3b35 of _0x215973){if(_0x5b3b35[_0x383f1a(0x6cb)]===_0x12ff66[_0x383f1a(0x1db)][_0x383f1a(0x958)]){if(!_0x5b3b35[_0x383f1a(0x257)]||0x0===_0x5b3b35[_0x383f1a(0x257)][_0x383f1a(0x3f4)])continue;await this[_0x383f1a(0x70f)](_0x4c1ca9,_0x82af74,_0x5b3b35[_0x383f1a(0x257)]);}_0x5b3b35['kind']===_0x12ff66[_0x383f1a(0x1db)][_0x383f1a(0xa86)]&&this[_0x383f1a(0x8ff)](_0x4c1ca9,_0x82af74,_0x5b3b35[_0x383f1a(0x21e)]);}return new Promise(_0x1d0e7a=>{const _0x536a82=_0x383f1a,_0x3bee69=_0x387a0b[_0x536a82(0x69a)](()=>{const _0x2d7616=_0x536a82;0x0===this[_0x2d7616(0x9c7)]['length']&&(_0x3bee69(),_0x1d0e7a());},0x1388);});}[_0x178721(0x3e1)](){const _0x2581af=_0x178721;for(const _0x545d75 of this[_0x2581af(0x2d4)]['values']())_0x545d75[_0x2581af(0x1c5)](this['label'],async _0x330477=>{const _0x5c32d6=_0x2581af;switch(_0x330477['event']){case _0x12ff66['StorageEventType']['FileWrite']:this['removeContent'](_0x101e8e[_0x5c32d6(0x713)],_0x545d75[_0x5c32d6(0x92f)](),_0x330477['payload'][_0x5c32d6(0x183)][_0x5c32d6(0x21e)]),this['addContent'](_0x101e8e[_0x5c32d6(0x713)],_0x545d75[_0x5c32d6(0x92f)](),_0x330477['payload'][_0x5c32d6(0x183)][_0x5c32d6(0x21e)]);break;case _0x12ff66[_0x5c32d6(0x34b)][_0x5c32d6(0x815)]:this[_0x5c32d6(0x42a)](_0x101e8e[_0x5c32d6(0x713)],_0x545d75[_0x5c32d6(0x92f)](),_0x330477[_0x5c32d6(0x760)][_0x5c32d6(0x21e)]);}});}['subscribeToExternalContent'](){const _0xe98b5b=_0x178721;for(const _0x3e96bf of this[_0xe98b5b(0x685)]['values']())_0x3e96bf[_0xe98b5b(0x1c5)](this['label'],async _0x177e39=>{const _0x9b3429=_0xe98b5b;switch(_0x177e39['event']){case _0x12ff66[_0x9b3429(0x34b)][_0x9b3429(0x803)]:this[_0x9b3429(0x42a)](_0x101e8e[_0x9b3429(0x1c6)],_0x3e96bf[_0x9b3429(0x92f)](),_0x177e39[_0x9b3429(0x760)]['file'][_0x9b3429(0x21e)]),this[_0x9b3429(0x8ff)](_0x101e8e['ExternalStorage'],_0x3e96bf[_0x9b3429(0x92f)](),_0x177e39['payload'][_0x9b3429(0x183)][_0x9b3429(0x21e)]);break;case _0x12ff66['StorageEventType'][_0x9b3429(0x815)]:this['removeContent'](_0x101e8e[_0x9b3429(0x1c6)],_0x3e96bf[_0x9b3429(0x92f)](),_0x177e39['payload'][_0x9b3429(0x21e)]);}});}['addContent'](_0x2b0c62,_0x332fdf,_0x5986f6){const _0x4fc9f3=_0x178721;this['contentQueue'][_0x4fc9f3(0x77b)]({'type':_0x4fc9f3(0x9b5),'storageType':_0x2b0c62,'storeId':_0x332fdf,'pathName':_0x5986f6}),this[_0x4fc9f3(0x7a9)]();}[_0x178721(0x42a)](_0x8abd5,_0x2c5436,_0x315ed0){const _0x309aee=_0x178721;this[_0x309aee(0x9c7)][_0x309aee(0x77b)]({'type':'remove','storageType':_0x8abd5,'storeId':_0x2c5436,'pathName':_0x315ed0}),this[_0x309aee(0x7a9)]();}async[_0x178721(0x7a9)](){const _0x2fa55c=_0x178721;if(!this[_0x2fa55c(0x273)]){try{this[_0x2fa55c(0x273)]=!0x0;const _0x1d578b=this[_0x2fa55c(0x9c7)][_0x2fa55c(0x9cd)]();if(!_0x1d578b)return;_0x2fa55c(0x9b5)===_0x1d578b['type']?await this[_0x2fa55c(0xa03)](_0x1d578b[_0x2fa55c(0xab1)],_0x1d578b['storeId'],_0x1d578b[_0x2fa55c(0x21e)]):this['processRemoveContent'](_0x1d578b[_0x2fa55c(0xab1)],_0x1d578b[_0x2fa55c(0x336)],_0x1d578b[_0x2fa55c(0x21e)]);}catch(_0x190c10){_0x4826cd[_0x2fa55c(0x5c0)]('Error\x20processing\x20content\x20queue',{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x2fa55c(0x31a)][_0x2fa55c(0x43f)]});}this[_0x2fa55c(0x273)]=!0x1,this['contentQueue'][_0x2fa55c(0x3f4)]>0x0&&this[_0x2fa55c(0x7a9)]();}}async['processAddContent'](_0x21206d,_0xdd9170,_0x2e31f6){const _0xe31585=_0x178721;if(_0x4826cd[_0xe31585(0x6e2)](_0xe31585(0x8ff),_0x21206d,_0xdd9170,_0x2e31f6),!this[_0xe31585(0x1ec)])throw new Error(_0xe31585(0x2b7));let _0x12c684;switch(_0x21206d){case _0x101e8e['ObjectStorage']:_0x12c684=_0x129c97['ObjectStorageUpload'];break;case _0x101e8e['ExternalStorage']:_0x12c684=_0x129c97[_0xe31585(0x932)];}if(!_0x12c684)return;const _0x40bdc5=this['workflow'][_0xe31585(0x780)][_0xe31585(0x434)](_0x3f156d=>_0x3f156d['type']===_0xdb7ade[_0xe31585(0x6b0)]||_0x3f156d[_0xe31585(0x43f)]===_0xdb7ade[_0xe31585(0x89e)]),_0x21e977=new Set(_0x40bdc5[_0xe31585(0x7df)](_0x149fdc=>_0x149fdc['id'])),_0x5a2366=_0x40bdc5[_0xe31585(0x434)](_0x36858c=>_0x36858c['ingestBlocks']?.[_0xe31585(0x216)](_0x35a887=>_0x35a887[_0xe31585(0x43f)]===_0x12c684&&_0x35a887['id']===_0xdd9170));for(const _0x3ba497 of _0x5a2366){if(!_0x21e977[_0xe31585(0x4a6)](_0x3ba497['id']))continue;_0x21e977[_0xe31585(0xa66)](_0x3ba497['id']);const _0x31e894=_0x3ba497['ingestBlocks']?.[_0xe31585(0x940)](_0x226275=>_0x226275[_0xe31585(0x43f)]===_0x12c684&&_0x226275['id']===_0xdd9170);_0x31e894&&_0x18bcfb[_0xe31585(0x9b5)](this[_0xe31585(0x8f4)],async()=>{const _0x4ef5af=_0xe31585,_0x1bb168=(0x0,_0x4848bd['v4'])();_0x2f5394[_0x4ef5af(0x352)](null,_0x1bb168),await _0x224cd5(_0x1bb168,_0x2e31f6,_0x31e894,_0x3ba497[_0x4ef5af(0x9c2)],{'documentParserConnector':this[_0x4ef5af(0x962)],'nlpLibraryConnector':this[_0x4ef5af(0x607)],'generativeAIWorkerConnectors':this[_0x4ef5af(0xa09)],'models':this[_0x4ef5af(0x1ec)]['models'],'contentMediator':this[_0x4ef5af(0x73d)],'searchApiKey':this[_0x4ef5af(0x3de)],'aiSearchApiKey':this[_0x4ef5af(0x6ed)],'version':_0x3ba497[_0x4ef5af(0x792)]??0x1}),_0x2f5394[_0x4ef5af(0x559)](_0x1bb168);});}this[_0xe31585(0x88e)]();}['processRemoveContent'](_0x9618b9,_0x44a9b0,_0x48744){const _0x1d5ad7=_0x178721;if(_0x4826cd['forceLog'](_0x1d5ad7(0x42a),_0x9618b9,_0x44a9b0,_0x48744),!this[_0x1d5ad7(0x1ec)])throw new Error(_0x1d5ad7(0x2b7));let _0x1d8c95;switch(_0x9618b9){case _0x101e8e['ObjectStorage']:_0x1d8c95=_0x129c97[_0x1d5ad7(0x295)];break;case _0x101e8e[_0x1d5ad7(0x1c6)]:_0x1d8c95=_0x129c97[_0x1d5ad7(0x932)];}if(!_0x1d8c95)return;const _0x5a7e78=this[_0x1d5ad7(0x1ec)][_0x1d5ad7(0x780)]['filter'](_0x2a3e37=>_0x2a3e37['type']===_0xdb7ade[_0x1d5ad7(0x6b0)]||_0x2a3e37['type']===_0xdb7ade[_0x1d5ad7(0x89e)]),_0xa4654d=new Set(_0x5a7e78['map'](_0x3bde13=>_0x3bde13['id'])),_0x4e87a3=_0x5a7e78[_0x1d5ad7(0x434)](_0x205db0=>_0x205db0[_0x1d5ad7(0x9c2)]?.[_0x1d5ad7(0x216)](_0x1971d5=>_0x1971d5[_0x1d5ad7(0x43f)]===_0x1d8c95&&_0x1971d5['id']===_0x44a9b0));for(const _0x3644d5 of _0x4e87a3){if(!_0xa4654d[_0x1d5ad7(0x4a6)](_0x3644d5['id']))continue;_0xa4654d[_0x1d5ad7(0xa66)](_0x3644d5['id']);let _0x56b5e8=''+(_0x3644d5[_0x1d5ad7(0x792)]??0x1);for(const _0x3ad0cd of _0x3644d5['ingestBlocks']??[])_0x3ad0cd[_0x1d5ad7(0x43f)]===_0x129c97[_0x1d5ad7(0x4dc)]&&(_0x56b5e8=_0x56b5e8+'-'+(_0x3ad0cd[_0x1d5ad7(0x792)]??0x1));for(const _0xb4a90e of _0x3644d5[_0x1d5ad7(0x9c2)]??[]){if(_0xb4a90e['type']===_0x129c97['VectorDatabase']){const _0x36ed03=this[_0x1d5ad7(0x73d)][_0x1d5ad7(0x71a)](_0xb4a90e['id']);_0x36ed03[_0x1d5ad7(0x38d)](_0x48744),_0x36ed03[_0x1d5ad7(0xa70)]()&&_0x36ed03[_0x1d5ad7(0x4e8)](_0x56b5e8);}if(_0xb4a90e[_0x1d5ad7(0x43f)]===_0x129c97[_0x1d5ad7(0x252)]){const _0x5598eb=this[_0x1d5ad7(0x73d)]['getGraphDatabase'](_0xb4a90e['id']);_0x5598eb[_0x1d5ad7(0x38d)](_0x48744),_0x5598eb[_0x1d5ad7(0xa70)]()&&_0x5598eb[_0x1d5ad7(0x4e8)](_0x56b5e8);}}}this[_0x1d5ad7(0x88e)]();}[_0x178721(0x5aa)](){const _0x48422f=_0x178721;try{return this[_0x48422f(0x219)][_0x48422f(0x64b)]()[_0x48422f(0x4a0)][_0x48422f(0x4bd)]*(0x1-this['capacityReporter'][_0x48422f(0x64b)]()[_0x48422f(0x4a0)][_0x48422f(0x471)]);}catch(_0x4ff77c){return _0x4826cd[_0x48422f(0x51c)](_0x312d1f[_0x48422f(0x744)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x4ff77c),0x0;}}['sendStats'](){const _0x3ebee4=_0x178721;this[_0x3ebee4(0x64c)]&&(this[_0x3ebee4(0x605)]&&clearTimeout(this[_0x3ebee4(0x605)]),this[_0x3ebee4(0x605)]=setTimeout(async()=>{const _0xf6fbec=_0x3ebee4;if(delete this[_0xf6fbec(0x605)],!this['modelStore'])return;let _0x157f9b=await this[_0xf6fbec(0x198)][_0xf6fbec(0x28a)]();for(const _0x25a974 of this[_0xf6fbec(0x2d4)]['values']())_0x157f9b+=await _0x25a974[_0xf6fbec(0x28a)]();this[_0xf6fbec(0x87d)][_0xf6fbec(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0xf6fbec(0xa48)],'content':{'type':_0x4ef04d[_0xf6fbec(0x80a)],'label':this['label'],'stats':{'timestamp':Date[_0xf6fbec(0x2e5)](),'storage':_0x157f9b,'messagesSent':this[_0xf6fbec(0x7bf)],'messagesReceived':this[_0xf6fbec(0x7a4)],'bytesSent':this[_0xf6fbec(0x608)],'bytesReceived':this[_0xf6fbec(0x6fb)],'writes':0x0,'reads':0x0,'prompts':this[_0xf6fbec(0x8e0)],'tokens':this[_0xf6fbec(0x1c3)]}}});},_0x3c1ede));}[_0x178721(0x481)](_0x2c9a83,_0x108aee){const _0x32c941=_0x178721,_0x926eab=this[_0x32c941(0x8f4)],_0x436b24=this['getOwnerId']();_0x4826cd[_0x32c941(0x481)](_0x512f56['GenerativeAIContext'],{'topic':_0x926eab,'type':'answer','nodeId':_0x436b24,'tokenCount':_0x108aee,'tokensPerSecond':_0x2c9a83});}['openTrace'](_0x24365f){const _0x2601b5=_0x178721;try{if(!this[_0x2601b5(0x1ec)])throw new Error('Workflow\x20not\x20initialized');if(!this['loggingDb'])throw new Error('Logging\x20database\x20not\x20initialized');if(!_0x2f5394[_0x2601b5(0x352)](this[_0x2601b5(0x85c)],_0x24365f))throw new Error(_0x2601b5(0x712));return _0x24365f;}catch(_0x1eac88){return console[_0x2601b5(0x5c0)](_0x2601b5(0x712),_0x1eac88),_0x2601b5(0x4b2);}}['closeTrace'](_0x571d14){const _0x4124d3=_0x178721;try{_0x2f5394[_0x4124d3(0x559)](_0x571d14);}catch(_0x25d264){console['error'](_0x4124d3(0x566),{'jobId':_0x571d14,'error':_0x25d264});}}async[_0x178721(0x778)](){return new Promise(_0x2367ce=>{const _0x248092=a0_0x5e71;try{const _0x545986=_0x5ef62c(this[_0x248092(0x92c)],this[_0x248092(0x8f4)]);this[_0x248092(0x85c)]=this['contentMediator']['getKeyValueDatabase'](_0x545986),this['loggingDb']['subscribe'](({event:_0x5c407d})=>{const _0x184950=_0x248092;_0x5c407d===_0x12ff66[_0x184950(0x443)]['SyncComplete']&&(this['loggingDb'][_0x184950(0x90e)](),_0x2367ce());});}catch(_0x4d016c){console[_0x248092(0x5c0)](_0x248092(0x508)+_0x5ef62c(this[_0x248092(0x92c)],this[_0x248092(0x8f4)])+_0x248092(0x20a),_0x4d016c),_0x2367ce();}});}}class _0x3498db extends _0x253fab{[_0x178721(0x31a)];[_0x178721(0x494)];['vendorId'];['db'];[_0x178721(0x605)];[_0x178721(0x8ef)]=0x0;[_0x178721(0x95a)]=0x0;[_0x178721(0x648)]=!0x1;constructor(_0xa6d28e,_0x221922,_0x2b7d2c,_0x317606,_0x401ad4){const _0x15e091=_0x178721;if('string'!=typeof _0x221922)throw new _0x1c9a4(_0x58f0d1[_0x15e091(0x175)],_0x15e091(0x95e));super(_0xa6d28e,_0x221922),this[_0x15e091(0x31a)]=_0xa6d28e,this['clusterId']=_0x2b7d2c,this[_0x15e091(0x92c)]=_0x317606;const _0x598862=_0x15e091(0x742)+this[_0x15e091(0x92c)]+_0x15e091(0x742)+this[_0x15e091(0x494)]+'ccc'+this[_0x15e091(0x8f4)];this['db']=new _0x401ad4(_0x598862),this[_0x15e091(0x88e)]();}[_0x178721(0xa70)](){const _0x5df885=_0x178721;return this[_0x5df885(0x648)];}[_0x178721(0x94d)](_0x358175){const _0x4ce2da=_0x178721;this[_0x4ce2da(0x648)]=_0x358175;}[_0x178721(0x4c1)](){const _0xedf302=_0x178721;clearTimeout(this[_0xedf302(0x605)]),delete this[_0xedf302(0x605)],super[_0xedf302(0x4c1)]();}[_0x178721(0x3d8)](){const _0x55e698=_0x178721;this['systemTopic'][_0x55e698(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x55e698(0xa48)],'content':{'type':_0x4ef04d[_0x55e698(0x322)],'label':this['label']}});}[_0x178721(0x79e)](){const _0x3fc4be=_0x178721;return _0x12ff66[_0x3fc4be(0x66a)]['GraphDatabase'];}['reset'](){const _0x136d75=_0x178721;this[_0x136d75(0x88e)]();}[_0x178721(0x3ee)](_0x528655,_0xc8d718,_0x158507,_0x54f966){const _0x25aa76=_0x178721;this['db']['addNode'](_0x528655,_0xc8d718,_0x158507,_0x54f966),this[_0x25aa76(0x8ef)]+=0x1,this[_0x25aa76(0x88e)]();}['addEdge'](_0x3c4cfe,_0x3cbbd3){const _0x3e29a2=_0x178721;this['db']['addEdge'](_0x3c4cfe,_0x3cbbd3),this[_0x3e29a2(0x8ef)]+=0x1,this[_0x3e29a2(0x88e)]();}[_0x178721(0x217)](_0x241e78,_0x4a89db,_0xcdcdbe){const _0x48af83=_0x178721,_0x26b7a2=this['db'][_0x48af83(0x217)](_0x241e78,_0x4a89db,_0xcdcdbe);return this[_0x48af83(0x95a)]+=0x1,_0x4826cd[_0x48af83(0x481)](_0x512f56[_0x48af83(0x252)],{'type':_0x48af83(0x454),'label':this['label'],'nodeId':this['localNode'][_0x48af83(0x78a)](),'nodeType':this[_0x48af83(0x31a)][_0x48af83(0x43f)],'clusterId':this[_0x48af83(0x494)],'size':0x0}),this['sendStats'](),_0x26b7a2;}[_0x178721(0x38d)](_0x1156ed){const _0x46cea4=_0x178721;this['db'][_0x46cea4(0x38d)](_0x1156ed),this['writes']+=0x1,this[_0x46cea4(0x88e)]();}[_0x178721(0x4e8)](_0x44de8c){const _0x53de28=_0x178721;this['db'][_0x53de28(0x4e8)](_0x44de8c);}[_0x178721(0x5b9)](_0x256e76){const _0x11a791=_0x178721;this['db'][_0x11a791(0x5b9)](_0x256e76);}[_0x178721(0x88e)](){const _0x17acf4=_0x178721;this[_0x17acf4(0x605)]&&clearTimeout(this[_0x17acf4(0x605)]),this[_0x17acf4(0x605)]=setTimeout(async()=>{const _0x1a5f4d=_0x17acf4;delete this['debounceStats'];const _0x817701=this['db'][_0x1a5f4d(0x28a)]();this['systemTopic'][_0x1a5f4d(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d[_0x1a5f4d(0x66e)],'label':this[_0x1a5f4d(0x8f4)],'stats':{'timestamp':Date[_0x1a5f4d(0x2e5)](),'storage':_0x817701,'messagesSent':this[_0x1a5f4d(0x7bf)],'messagesReceived':this[_0x1a5f4d(0x7a4)],'bytesSent':this[_0x1a5f4d(0x608)],'bytesReceived':this[_0x1a5f4d(0x6fb)],'writes':this['writes'],'reads':this[_0x1a5f4d(0x95a)],'prompts':0x0,'tokens':0x0}}}),_0x4826cd['logStorage'](_0x512f56['GraphDatabase'],_0x1a5f4d(0x742)+this[_0x1a5f4d(0x494)]+_0x1a5f4d(0x742)+this[_0x1a5f4d(0x8f4)],_0x817701);},_0x3c1ede);}}class _0x83c5c5 extends _0x4898db{[_0x178721(0xa8a)];constructor(_0x3556b1,_0x4b7848,_0x104842){const _0x20e519=_0x178721;super(_0x3556b1,_0x4b7848),this[_0x20e519(0xa8a)]=_0x104842;}[_0x178721(0x79e)](){const _0x33e038=_0x178721;return _0x12ff66[_0x33e038(0x66a)][_0x33e038(0x1b7)];}[_0x178721(0x2ab)](){const _0x5ade5c=_0x178721;return this[_0x5ade5c(0xa8a)];}['getInternalStreamId'](){const _0x14fe2e=_0x178721;return this[_0x14fe2e(0xa8a)]['id'];}}class _0x7ce4b2 extends _0x83c5c5{[_0x178721(0xa40)];['params'];['topic'];[_0x178721(0xa88)]=_0x5467bb();constructor(_0x3fe245,_0x35da01,_0x154db2,_0xf4bb07,_0x36e6ee){const _0x6e42bc=_0x178721;super(_0x3fe245,_0x35da01,_0x154db2),this[_0x6e42bc(0xa40)]=_0xf4bb07,this[_0x6e42bc(0x25d)]=_0x36e6ee;}[_0x178721(0x4c1)](){const _0x2a9c85=_0x178721;this['removeTrack'](_0x2a9c85(0x17e)),this[_0x2a9c85(0x63f)]('video'),super[_0x2a9c85(0x4c1)]();}[_0x178721(0x6a3)](_0x2dc3b0){const _0x19c828=_0x178721;if(!this[_0x19c828(0x67a)])throw new _0x5953b5(_0x5953b5[_0x19c828(0x913)][_0x19c828(0x42d)],{'label':this['label'],'ownerId':this[_0x19c828(0x196)][_0x19c828(0x78a)](),'remoteId':this[_0x19c828(0xa40)]});this[_0x19c828(0x67a)][_0x19c828(0xa83)]({'sourceId':this[_0x19c828(0x196)][_0x19c828(0x78a)](),'content':{'action':_0x1fc827[_0x19c828(0x5b1)],'track':_0x2dc3b0,'stream':this[_0x19c828(0xa8a)],'priority':_0x12ff66['MediaStreamPriority'][_0x19c828(0x339)],'params':this['getInternalTrackParams'](_0x2dc3b0[_0x19c828(0x6cb)],this['params'])}});}[_0x178721(0x63f)](_0x56c585){const _0x239dc0=_0x178721,_0x2b5185=this[_0x239dc0(0xa96)](_0x56c585);if(_0x2b5185){if(!this[_0x239dc0(0x67a)])return null;this['topic'][_0x239dc0(0xa83)]({'sourceId':this[_0x239dc0(0x196)][_0x239dc0(0x78a)](),'content':{'action':_0x1fc827[_0x239dc0(0x601)],'track':_0x2b5185,'stream':this[_0x239dc0(0xa8a)]}});}return _0x2b5185;}[_0x178721(0x84b)](_0x27e6c2){const _0x4b41ce=_0x178721;if(!this[_0x4b41ce(0x67a)])throw new _0x5953b5(_0x5953b5[_0x4b41ce(0x913)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x4b41ce(0x8f4)],'ownerId':this[_0x4b41ce(0x196)]['getId'](),'remoteId':this[_0x4b41ce(0xa40)]});this[_0x4b41ce(0x67a)][_0x4b41ce(0xa83)]({'sourceId':this[_0x4b41ce(0x196)][_0x4b41ce(0x78a)](),'content':{'action':_0x1fc827[_0x4b41ce(0x8ab)],'priority':_0x27e6c2,'stream':this[_0x4b41ce(0xa8a)]}});}[_0x178721(0x1c5)]({trackKinds:_0x1b257f,params:_0xfee77b},_0x374904){const _0x236130=_0x178721;if(!this['topic'])throw new _0x5953b5(_0x5953b5['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x236130(0x8f4)],'ownerId':this[_0x236130(0x196)][_0x236130(0x78a)](),'remoteId':this[_0x236130(0xa40)]});for(const _0x35d5ec of this['mediaStream'][_0x236130(0x822)]())_0x1b257f[_0x236130(0x31d)](_0x35d5ec[_0x236130(0x6cb)])&&this[_0x236130(0x67a)][_0x236130(0xa83)]({'sourceId':this['owner'][_0x236130(0x78a)](),'content':{'action':_0x1fc827[_0x236130(0x5b1)],'track':_0x35d5ec,'stream':this[_0x236130(0xa8a)],'priority':_0x374904,'params':this['getInternalTrackParams'](_0x35d5ec[_0x236130(0x6cb)],_0xfee77b)}});}[_0x178721(0x768)]({params:_0x3bd85f}){const _0x50ae03=_0x178721;if(!this[_0x50ae03(0x67a)])throw new _0x5953b5(_0x5953b5[_0x50ae03(0x913)][_0x50ae03(0x42d)],{'label':this['label'],'ownerId':this[_0x50ae03(0x196)][_0x50ae03(0x78a)](),'remoteId':this[_0x50ae03(0xa40)]});for(const _0x9b446c of this[_0x50ae03(0xa8a)][_0x50ae03(0x822)]())this['topic'][_0x50ae03(0xa83)]({'sourceId':this[_0x50ae03(0x196)][_0x50ae03(0x78a)](),'content':{'action':_0x1fc827['Update'],'stream':this[_0x50ae03(0xa8a)],'params':this['getInternalTrackParams'](_0x9b446c[_0x50ae03(0x6cb)],_0x3bd85f)}});}[_0x178721(0x90e)]({trackKinds:_0x4ce5cb}){const _0x3377af=_0x178721;if(this[_0x3377af(0x67a)]){for(const _0x1496af of this[_0x3377af(0xa8a)]['getTracks']())_0x4ce5cb[_0x3377af(0x31d)](_0x1496af[_0x3377af(0x6cb)])&&this['topic'][_0x3377af(0xa83)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x1fc827[_0x3377af(0x601)],'stream':this[_0x3377af(0xa8a)],'track':_0x1496af}});}}[_0x178721(0x717)](_0x1a0622){const _0x4b856f=_0x178721;this[_0x4b856f(0x67a)]=_0x1a0622;}[_0x178721(0x721)](_0x4eb41c){const _0xc08c9e=_0x178721;_0x4eb41c===this[_0xc08c9e(0x67a)]&&(delete this[_0xc08c9e(0x67a)],this[_0xc08c9e(0xa88)][_0xc08c9e(0xa83)]());}[_0x178721(0x88a)](_0x4daacf){return this['unregisterPublisherListener']['subscribe'](_0x4daacf);}[_0x178721(0xa96)](_0x32830a){const _0x5b6da8=_0x178721;return this[_0x5b6da8(0xa8a)]['getTracks']()['find'](_0x2c92b6=>_0x2c92b6[_0x5b6da8(0x6cb)]===_0x32830a)||null;}[_0x178721(0x811)](_0x368354,_0x15cf5e){const _0x15ed86=_0x178721;let _0x71466e;return _0x15ed86(0x63a)===_0x368354&&_0x15cf5e?.[_0x15ed86(0x63a)]&&'boolean'!=typeof _0x15cf5e[_0x15ed86(0x63a)]&&(_0x71466e={'kind':'video',..._0x15cf5e['video']},_0x71466e[_0x15ed86(0x8a3)]=this[_0x15ed86(0xa2b)]()),_0x15ed86(0x17e)===_0x368354&&_0x15cf5e?.[_0x15ed86(0x17e)]&&_0x15ed86(0x38f)!=typeof _0x15cf5e[_0x15ed86(0x17e)]&&(_0x71466e={'kind':_0x15ed86(0x17e),..._0x15cf5e['audio']}),_0x71466e;}['getResolution'](){const _0x4e84be=_0x178721;let _0x288cfd={'width':0x0,'height':0x0};const _0x84c60d=this['mediaStream'][_0x4e84be(0x5d4)]();if(_0x84c60d['length']>0x0){const _0x36ee1d=_0x84c60d[0x0][_0x4e84be(0x9e7)]();_0x36ee1d['width']&&_0x36ee1d[_0x4e84be(0x8a8)]&&(_0x288cfd={'width':_0x36ee1d[_0x4e84be(0x7ec)],'height':_0x36ee1d['height']});}return _0x288cfd;}}class _0x4d57ef extends _0x83c5c5{[_0x178721(0x494)];[_0x178721(0x3bc)]=_0x12ff66[_0x178721(0x30a)]['Default'];['trackEndedListeners']=new Map();[_0x178721(0x1a8)]=new Map();constructor(_0x3f771e,_0x27fffc,_0x10aed1,_0x592c9c){const _0xee9ad8=_0x178721;super(_0x3f771e,_0x27fffc,_0x10aed1 instanceof MediaStream?_0x10aed1:_0x10aed1[_0xee9ad8(0x4d9)]?_0x10aed1[_0xee9ad8(0x4d9)]:_0x10aed1['captureStream']()),this['clusterId']=_0x592c9c,this['mediaStream'][_0xee9ad8(0x822)]()[_0xee9ad8(0x2cb)](_0x44fae=>this[_0xee9ad8(0x4bf)](_0x44fae)),_0x4826cd[_0xee9ad8(0x481)](_0x512f56['MediaStream'],{'type':_0xee9ad8(0xa83),'label':this[_0xee9ad8(0x8f4)],'nodeId':this['owner'][_0xee9ad8(0x78a)](),'nodeType':this['owner'][_0xee9ad8(0x43f)],'clusterId':this[_0xee9ad8(0x494)],'streamId':this[_0xee9ad8(0x1fd)](),'trackKinds':this[_0xee9ad8(0xa8a)][_0xee9ad8(0x822)]()[_0xee9ad8(0x7df)](_0x2eedfb=>_0x2eedfb['kind'])});}[_0x178721(0x4c1)](){const _0x21c79a=_0x178721;this[_0x21c79a(0x1a8)][_0x21c79a(0x3e6)]>0x0&&(this[_0x21c79a(0x1a8)][_0x21c79a(0x2cb)](_0x54b563=>{const _0x39c7d8=_0x21c79a;_0x54b563[_0x39c7d8(0x1ae)](),_0x54b563['destroy']();}),this[_0x21c79a(0x1a8)]['clear']()),this[_0x21c79a(0x769)][_0x21c79a(0x2cb)](_0x1d0954=>_0x1d0954()),super[_0x21c79a(0x4c1)]();}[_0x178721(0xa83)](_0x3b6c09){const _0x5e5da1=_0x178721;this['systemTopic']['publish']({'sourceId':this[_0x5e5da1(0x196)]['getId'](),'destinationIds':_0x3b6c09?[_0x3b6c09]:void 0x0,'propagate':!0x0,'messageType':_0x51ac98[_0x5e5da1(0xa48)],'content':{'type':_0x4ef04d[_0x5e5da1(0x16f)],'ownerId':this['owner'][_0x5e5da1(0x78a)](),'label':this[_0x5e5da1(0x8f4)],'stream':{'streamId':this[_0x5e5da1(0x1fd)](),'availableTrackKinds':this[_0x5e5da1(0xa8a)]['getTracks']()[_0x5e5da1(0x7df)](_0x5db589=>_0x5db589[_0x5e5da1(0x6cb)])}}});}[_0x178721(0x5c2)](){const _0x73adaa=_0x178721;this[_0x73adaa(0x87d)][_0x73adaa(0xa83)]({'sourceId':this[_0x73adaa(0x196)][_0x73adaa(0x78a)](),'propagate':!0x0,'messageType':_0x51ac98[_0x73adaa(0xa48)],'content':{'type':_0x4ef04d[_0x73adaa(0x26c)],'ownerId':this[_0x73adaa(0x196)][_0x73adaa(0x78a)](),'label':this[_0x73adaa(0x8f4)]}}),this['systemTopic'][_0x73adaa(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x73adaa(0xa48)],'content':{'type':_0x4ef04d['CloseMediaStream'],'label':this[_0x73adaa(0x8f4)]}}),_0x4826cd[_0x73adaa(0x481)](_0x512f56[_0x73adaa(0x49f)],{'type':_0x73adaa(0x5c2),'label':this[_0x73adaa(0x8f4)],'nodeId':this['owner'][_0x73adaa(0x78a)](),'nodeType':this[_0x73adaa(0x196)][_0x73adaa(0x43f)],'clusterId':this['clusterId'],'streamId':this[_0x73adaa(0x1fd)]()});}[_0x178721(0x281)](){return this['priority'];}[_0x178721(0x84b)](_0x237bee){const _0x39dbf5=_0x178721;this[_0x39dbf5(0x3bc)]=_0x237bee,this['outgoingStreams']['forEach'](_0x2e29b4=>_0x2e29b4['setPriority'](_0x237bee));}[_0x178721(0xa97)](_0x146eb0,_0x3bc806){const _0x5b9af8=_0x178721;if(!this[_0x5b9af8(0x1a8)][_0x5b9af8(0x4a6)](_0x146eb0)){const _0x3e09fe=new _0x7ce4b2(this[_0x5b9af8(0x196)],this[_0x5b9af8(0x8f4)],this[_0x5b9af8(0xa8a)],_0x146eb0,_0x3bc806),_0x3ed866=_0x3e09fe['onUnregisterPublisher'](()=>{const _0xb5780=_0x5b9af8;_0x3ed866(),this[_0xb5780(0x1a8)][_0xb5780(0x603)](_0x146eb0)?.[_0xb5780(0x4c1)](),this[_0xb5780(0x1a8)][_0xb5780(0xa66)](_0x146eb0);});this['outgoingStreams'][_0x5b9af8(0x5f0)](_0x146eb0,_0x3e09fe),_0x3e09fe[_0x5b9af8(0x7f7)](this[_0x5b9af8(0x87d)]);}return this[_0x5b9af8(0x1a8)]['get'](_0x146eb0);}[_0x178721(0x1b6)](){return this['mediaStream']['id'];}[_0x178721(0x382)](_0x391577){const _0x31a8f5=_0x178721;this[_0x31a8f5(0x87d)][_0x31a8f5(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d['LocalMediaStreamTrackFail'],'label':this[_0x31a8f5(0x8f4)],'trackKinds':[_0x391577[_0x31a8f5(0x6cb)]]}});}[_0x178721(0x4bf)](_0x1cb6d8){const _0xcfa00=_0x178721,_0x367e87=()=>this[_0xcfa00(0x382)](_0x1cb6d8);_0x1cb6d8[_0xcfa00(0x3a3)](_0xcfa00(0x848),_0x367e87),_0x1cb6d8[_0xcfa00(0x3a3)](_0xcfa00(0x3dc),_0x367e87),this[_0xcfa00(0x769)]['set'](_0x1cb6d8['kind'],()=>{const _0x3a4229=_0xcfa00;_0x1cb6d8[_0x3a4229(0x4a3)](_0x3a4229(0x848),_0x367e87),_0x1cb6d8[_0x3a4229(0x4a3)](_0x3a4229(0x3dc),_0x367e87),this[_0x3a4229(0x769)]['delete'](_0x1cb6d8['kind']);});}}class _0x551d1c extends _0x4d57ef{[_0x178721(0xa60)];[_0x178721(0x636)]=[];[_0x178721(0x475)];[_0x178721(0x5a6)];[_0x178721(0x1b0)];['sourceVideo'];['canvas'];[_0x178721(0x297)];[_0x178721(0x373)];constructor(_0x59e1b9,_0x2a7360,_0x3ab404,_0x1a2fbb,_0x57a4de,_0x45950e){const _0x1f3029=_0x178721;if(super(_0x59e1b9,_0x2a7360,_0x3ab404,_0x45950e),this[_0x1f3029(0xa60)]=_0x57a4de,this[_0x1f3029(0x475)]=this['mediaStream'],this['sourceVideo']=document[_0x1f3029(0x69b)](_0x1f3029(0x63a)),this['sourceVideo'][_0x1f3029(0x59d)]=!0x0,this[_0x1f3029(0x8b8)][_0x1f3029(0x45a)]=!0x0,this['sourceVideo']['srcObject']=this[_0x1f3029(0x475)],this[_0x1f3029(0x8b8)]['load'](),this['sourceVideo'][_0x1f3029(0x8bb)]=()=>{const _0x25d123=_0x1f3029;this[_0x25d123(0x8b8)][_0x25d123(0x867)]();},this['canvas']=document[_0x1f3029(0x69b)](_0x1f3029(0x24a)),this['context']=this[_0x1f3029(0x24a)][_0x1f3029(0x764)]('2d'),this[_0x1f3029(0xa8a)]=this['canvas']['captureStream'](_0x1a2fbb),this['audioDestination']=this[_0x1f3029(0xa60)]['createMediaStreamDestination'](),this[_0x1f3029(0x475)][_0x1f3029(0x750)]()['length']>0x0){const _0x44c382=this['clientStream'][_0x1f3029(0x750)]()[0x0];this[_0x1f3029(0x5a6)]=this[_0x1f3029(0xa60)][_0x1f3029(0x765)](new MediaStream([_0x44c382])),this[_0x1f3029(0x5a6)][_0x1f3029(0x2d9)](this[_0x1f3029(0x1b0)]);}const _0x51e95b=this[_0x1f3029(0x1b0)]['stream']['getTracks']()[0x0];this[_0x1f3029(0xa8a)][_0x1f3029(0x6a3)](_0x51e95b),this[_0x1f3029(0x373)]=setInterval(()=>{const _0x113d5b=_0x1f3029;this[_0x113d5b(0x24a)]['width']=this[_0x113d5b(0x8b8)][_0x113d5b(0x81f)],this[_0x113d5b(0x24a)][_0x113d5b(0x8a8)]=this[_0x113d5b(0x8b8)][_0x113d5b(0x5fb)],this['sourceVideo'][_0x113d5b(0x81f)]?(0x0!==this[_0x113d5b(0x475)][_0x113d5b(0x5d4)]()[_0x113d5b(0x3f4)]&&this[_0x113d5b(0x475)][_0x113d5b(0x5d4)]()[0x0][_0x113d5b(0x484)]?this['mediaStream'][_0x113d5b(0x5d4)]()[0x0][_0x113d5b(0x484)]=!0x0:this['mediaStream'][_0x113d5b(0x5d4)]()[0x0][_0x113d5b(0x484)]=!0x1,0x0!==this[_0x113d5b(0x475)][_0x113d5b(0x750)]()[_0x113d5b(0x3f4)]&&this[_0x113d5b(0x475)][_0x113d5b(0x750)]()[0x0][_0x113d5b(0x484)]?this[_0x113d5b(0xa8a)][_0x113d5b(0x750)]()[0x0][_0x113d5b(0x484)]=!0x0:this['mediaStream'][_0x113d5b(0x750)]()[0x0][_0x113d5b(0x484)]=!0x1,this['context'][_0x113d5b(0x52b)](this[_0x113d5b(0x8b8)],0x0,0x0)):this[_0x113d5b(0x297)][_0x113d5b(0x60a)](0x0,0x0,this[_0x113d5b(0x24a)]['width'],this['canvas']['height']);},0x3e8/_0x1a2fbb);}[_0x178721(0x4c1)](){const _0x791c84=_0x178721;clearInterval(this[_0x791c84(0x373)]),this[_0x791c84(0x8b8)][_0x791c84(0x38d)](),this['canvas'][_0x791c84(0x38d)](),this[_0x791c84(0x5a6)]?.[_0x791c84(0x241)](),this['audioDestination'][_0x791c84(0x241)](),this[_0x791c84(0xa8a)]['getTracks']()[_0x791c84(0x2cb)](_0x6f6710=>{const _0x423c52=_0x791c84;_0x6f6710['stop'](),this[_0x423c52(0xa8a)][_0x423c52(0x63f)](_0x6f6710);}),super[_0x791c84(0x4c1)]();}[_0x178721(0x6a3)](_0x105baa){const _0x4d4bda=_0x178721,_0x3bf424=this[_0x4d4bda(0xa96)](_0x105baa['kind']);_0x3bf424&&this[_0x4d4bda(0x63f)](_0x3bf424),'audio'!==_0x105baa['kind']?(_0x4d4bda(0x63a)===_0x105baa[_0x4d4bda(0x6cb)]&&this[_0x4d4bda(0x2eb)](_0x105baa),this[_0x4d4bda(0x4bf)](_0x105baa)):this['addAudioTrack'](_0x105baa);}[_0x178721(0x63f)](_0x1bdcc9){const _0x321157=_0x178721,_0x22601f=this['getTrackFromParam'](_0x1bdcc9);return _0x22601f&&(_0x321157(0x17e)===_0x22601f['kind']&&(this[_0x321157(0x5a6)]?.[_0x321157(0x241)](),this['audioSource']=void 0x0),this[_0x321157(0x769)][_0x321157(0x603)](_0x22601f[_0x321157(0x6cb)])?.(),this['clientStream'][_0x321157(0x63f)](_0x22601f)),_0x22601f;}[_0x178721(0x662)](_0x1323d5){const _0x48f240=_0x178721;this[_0x48f240(0x63f)](_0x1323d5['kind']),this['addTrack'](_0x1323d5);}[_0x178721(0x8a6)](_0x272c04){const _0x3b53ae=_0x178721;this[_0x3b53ae(0x636)]=_0x272c04;}[_0x178721(0xa96)](_0x883f7e){const _0x483465=_0x178721;return this[_0x483465(0x475)][_0x483465(0x822)]()['find'](_0x3573d5=>_0x3573d5[_0x483465(0x6cb)]===_0x883f7e)||null;}['getTrackFromParam'](_0x34e0ab){const _0x2f95a5=_0x178721;return _0x2f95a5(0x6a8)==typeof _0x34e0ab?this[_0x2f95a5(0xa96)](_0x34e0ab):_0x34e0ab;}[_0x178721(0x197)](_0x472a5a){const _0xa0e183=_0x178721;_0xa0e183(0x29d)===this[_0xa0e183(0xa60)][_0xa0e183(0x989)]&&this[_0xa0e183(0xa60)][_0xa0e183(0x188)](),this[_0xa0e183(0x475)][_0xa0e183(0x6a3)](_0x472a5a),this[_0xa0e183(0x5a6)]=this[_0xa0e183(0xa60)][_0xa0e183(0x765)](this[_0xa0e183(0x475)]),this['audioSource'][_0xa0e183(0x2d9)](this[_0xa0e183(0x1b0)]);}[_0x178721(0x2eb)](_0x3f0e87){const _0x2476b8=_0x178721;this[_0x2476b8(0x475)]['addTrack'](_0x3f0e87),this[_0x2476b8(0x8b8)][_0x2476b8(0x471)]();}}class _0x50eee5 extends _0x4d57ef{}class _0x392138 extends _0x253fab{[_0x178721(0x31a)];[_0x178721(0x494)];['vendorId'];[_0x178721(0x53c)];[_0x178721(0x9a6)];[_0x178721(0x668)];[_0x178721(0x86c)];[_0x178721(0x653)];[_0x178721(0x804)]=new Map();[_0x178721(0x292)]=new Map();[_0x178721(0x447)]=new Map();[_0x178721(0xa51)]=new Map();[_0x178721(0xa07)]=new Map();[_0x178721(0x9f0)]=new Map();[_0x178721(0x4b6)];[_0x178721(0x6d3)]=_0x1e0d9a();[_0x178721(0x41a)]=new Map();['debounceStats'];[_0x178721(0x8ef)]=0x0;[_0x178721(0x95a)]=0x0;[_0x178721(0x673)]=!0x0;[_0x178721(0x737)]=!0x0;[_0x178721(0x45e)]=0x0;['nodesConnected']=0x0;constructor(_0x2f07a1,_0x365196,_0x5250f9,_0x46bbce,_0x28dcde,_0xb4c476,_0x247db5,_0x347ba9){const _0x87939f=_0x178721;if('string'!=typeof _0x365196)throw new _0x1c9a4(_0x58f0d1['ObjectStoreNameNotString'],_0x87939f(0x282));super(_0x2f07a1,_0x365196),this[_0x87939f(0x31a)]=_0x2f07a1,this['clusterId']=_0x5250f9,this['vendorId']=_0x46bbce,this[_0x87939f(0x53c)]=_0x28dcde,this[_0x87939f(0x9a6)]=_0x247db5,this[_0x87939f(0x668)]=_0x347ba9;const _0x303b91='ccc'+this['vendorId']+'ccc'+this[_0x87939f(0x494)]+'ccc'+_0x365196;this['objectStoreConnector']=new _0xb4c476(_0x303b91),this[_0x87939f(0x673)]=this['options']?.[_0x87939f(0x673)]??!0x0,this[_0x87939f(0x668)]?.[_0x87939f(0x667)]&&(this['syncContent']=!0x1),this[_0x87939f(0x88e)]();}[_0x178721(0x6ea)](){this['sendStats']();}['getContentType'](){const _0x356eda=_0x178721;return _0x12ff66[_0x356eda(0x66a)]['ObjectStore'];}async[_0x178721(0x58b)](){const _0x30fc28=_0x178721;this[_0x30fc28(0x737)]=!0x0;try{const _0xd1bab=await this[_0x30fc28(0x4b6)][_0x30fc28(0x603)](_0x3b5945),_0xb23a71=await _0xd1bab[_0x30fc28(0x936)]();this['lastTransactionId']=_0xb23a71;}catch(_0x5cba4f){}this[_0x30fc28(0x86c)]=this['onMessage'](async(_0x2cfd3c,_0x101d94)=>{const _0x13a8bd=_0x30fc28;if(!(_0x101d94 instanceof File))try{if(_0x101d94['payloadType']===_0x3d1aa7[_0x13a8bd(0x95d)])return void this[_0x13a8bd(0x9fd)](_0x101d94);this[_0x13a8bd(0x5ac)](_0x101d94);}catch(_0x28951c){if(_0x28951c instanceof _0x5953b5)throw _0x28951c;throw new _0x5953b5(_0x5953b5[_0x13a8bd(0x913)][_0x13a8bd(0x97a)],{'payload':_0x101d94});}}),await this['syncTransactions'](),this[_0x30fc28(0x673)]?await this[_0x30fc28(0x27e)]():this[_0x30fc28(0x7b0)](),this['sendStats']();}[_0x178721(0x4c1)](){const _0x450e3b=_0x178721;this[_0x450e3b(0x86c)]?.(),this[_0x450e3b(0x41a)][_0x450e3b(0x2cb)](_0x414033=>_0x414033()),this[_0x450e3b(0x41a)][_0x450e3b(0x6f1)](),clearTimeout(this[_0x450e3b(0x605)]),delete this['debounceStats'],super[_0x450e3b(0x4c1)]();}[_0x178721(0x3d8)](){const _0x4f92cf=_0x178721;this[_0x4f92cf(0x87d)]?.[_0x4f92cf(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98['Content'],'content':{'type':_0x4ef04d[_0x4f92cf(0x5bb)],'label':this[_0x4f92cf(0x8f4)]}});}[_0x178721(0x1c5)](_0x5e36c7,_0x586e26){const _0x359eef=_0x178721;if(this['listenerUnsubscribers']['has'](_0x5e36c7))throw new _0x1c9a4(_0x58f0d1[_0x359eef(0x227)],_0x359eef(0xa23));this['listenerUnsubscribers'][_0x359eef(0x5f0)](_0x5e36c7,this['eventListener'][_0x359eef(0x1c5)](_0x586e26)),this[_0x359eef(0x737)]||this[_0x359eef(0x6d3)]['publish']({'event':_0x12ff66[_0x359eef(0x34b)]['SyncComplete'],'payload':{'filesSynced':this[_0x359eef(0x45e)]}});}[_0x178721(0x90e)](_0x39b06d){const _0x4bcde1=_0x178721;this[_0x4bcde1(0x41a)][_0x4bcde1(0x603)](_0x39b06d)?.(),this['listenerUnsubscribers'][_0x4bcde1(0xa66)](_0x39b06d);}['publish'](_0x127c21){const _0xc49af0=_0x178721;switch(_0x127c21['action']){case _0x12ff66[_0xc49af0(0x9cf)][_0xc49af0(0xa86)]:return this[_0xc49af0(0x178)](_0x127c21[_0xc49af0(0x183)],_0x127c21[_0xc49af0(0x181)],_0x127c21['options']);case _0x12ff66[_0xc49af0(0x9cf)][_0xc49af0(0x958)]:return this[_0xc49af0(0x1cd)](_0x127c21[_0xc49af0(0x181)]);case _0x12ff66['PayloadAction'][_0xc49af0(0xa05)]:return this[_0xc49af0(0x23a)](_0x127c21['path'],_0x127c21[_0xc49af0(0x416)]);default:throw new _0x1c9a4(_0x58f0d1[_0xc49af0(0x75b)],_0xc49af0(0x659)+_0x127c21);}}async[_0x178721(0x5c2)](_0x44e2b2){const _0xee9436=_0x178721;try{const _0x1ea0e2=(0x0,_0x4848bd['v4'])(),_0x34ab40=this['lastTransactionId'],_0x3be72f={'payloadType':_0x3d1aa7[_0xee9436(0x879)],'action':_0x1d4f3b[_0xee9436(0x682)],'id':_0x1ea0e2,'parentId':_0x34ab40,'path':_0x44e2b2};await this[_0xee9436(0x3ab)](_0x3be72f);const _0x26b9f8=await this[_0xee9436(0x6f4)](_0x44e2b2);!0x0!==this['options']?.[_0xee9436(0x667)]&&await this['send'](_0x3be72f),_0x4826cd[_0xee9436(0x481)](_0x512f56[_0xee9436(0x713)],{'type':_0xee9436(0x5c2),'label':this[_0xee9436(0x8f4)],'nodeId':this[_0xee9436(0x31a)][_0xee9436(0x78a)](),'nodeType':this[_0xee9436(0x31a)][_0xee9436(0x43f)],'clusterId':this[_0xee9436(0x494)],'kind':_0x26b9f8,'path':_0x44e2b2}),this[_0xee9436(0x8ef)]+=0x1,this[_0xee9436(0x88e)]();}catch(_0x18741a){if(_0x18741a instanceof _0x5953b5)throw new _0x1c9a4(_0x58f0d1[_0xee9436(0x55e)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x44e2b2+_0xee9436(0x304));throw new _0x1c9a4(_0x58f0d1[_0xee9436(0x421)],'Cannot\x20unpublish\x20object:\x20'+_0x44e2b2);}}async[_0x178721(0x603)](_0x392def,_0x39ed5f){const _0x131d41=_0x178721;_0x4826cd[_0x131d41(0x481)](_0x512f56[_0x131d41(0x713)],{'type':_0x131d41(0x603),'label':this[_0x131d41(0x8f4)],'nodeId':this['localNode'][_0x131d41(0x78a)](),'nodeType':this[_0x131d41(0x31a)]['type'],'clusterId':this[_0x131d41(0x494)],'path':_0x392def}),this['reads']+=0x1,this[_0x131d41(0x88e)]();try{return await this[_0x131d41(0x4b6)][_0x131d41(0x603)](_0x392def,_0x39ed5f);}catch(_0x25dbb7){try{await this[_0x131d41(0x4b6)][_0x131d41(0x603)](_0x392def+_0x359361);}catch(_0x453056){throw new _0x1c9a4(_0x58f0d1[_0x131d41(0x421)],_0x131d41(0x358)+_0x392def);}throw new _0x1c9a4(_0x58f0d1['ObjectStoreNotInSync'],_0x131d41(0x1bd));}}async[_0x178721(0x79a)](_0x56e031,_0x5cf30a){const _0x193938=_0x178721,{recursive:_0x58d7a2=!0x1,includeSyncingFiles:_0x28e60c=!0x1}=_0x5cf30a??{};_0x4826cd[_0x193938(0x481)](_0x512f56[_0x193938(0x713)],{'type':'list','label':this['label'],'nodeId':this['localNode'][_0x193938(0x78a)](),'nodeType':this['localNode'][_0x193938(0x43f)],'clusterId':this[_0x193938(0x494)],'path':_0x56e031}),this['reads']+=0x1,this[_0x193938(0x88e)]();try{const _0x52d134=await this[_0x193938(0x4b6)][_0x193938(0x79a)](_0x56e031,_0x58d7a2);return this['processList'](_0x52d134,{'recursive':_0x58d7a2,'includeSyncingFiles':_0x28e60c});}catch(_0x1de118){throw new _0x1c9a4(_0x58f0d1[_0x193938(0x421)],'Cannot\x20list\x20directory:\x20'+_0x56e031);}}['handleNodeJoin'](_0xddb8be){const _0x5cf3ae=_0x178721;this[_0x5cf3ae(0x7ef)]+=0x1;for(const _0x26202e of this['objectRequests'][_0x5cf3ae(0x9b0)]())this[_0x5cf3ae(0x9fa)](_0x26202e,[_0xddb8be]);}[_0x178721(0xaa5)](_0x41b1cb){const _0x19057a=_0x178721;this[_0x19057a(0x7ef)]-=0x1;const _0xa3a07d=this[_0x19057a(0x447)][_0x19057a(0x603)](_0x41b1cb);if(_0xa3a07d){for(const [_0x1c862a,_0x5c2f19]of _0xa3a07d[_0x19057a(0x9b0)]())this[_0x19057a(0x740)](_0x1c862a,_0x5c2f19);this[_0x19057a(0x447)]['delete'](_0x41b1cb);}}async[_0x178721(0x28a)](_0x3cb162='/'){const _0x4d4e59=_0x178721;try{return await this[_0x4d4e59(0x4b6)]['calculateSize'](_0x3cb162);}catch(_0x466748){if(_0x466748 instanceof Error&&_0x466748[_0x4d4e59(0x61f)]['includes'](_0x4d4e59(0x1ff)))return 0x0;throw new _0x1c9a4(_0x58f0d1[_0x4d4e59(0x421)],_0x4d4e59(0x77d)+_0x3cb162);}}['completeSync'](){const _0x7eb2f3=_0x178721;this[_0x7eb2f3(0x737)]&&(this[_0x7eb2f3(0x737)]=!0x1,this['eventListener'][_0x7eb2f3(0xa83)]({'event':_0x12ff66[_0x7eb2f3(0x34b)][_0x7eb2f3(0x83a)],'payload':{'filesSynced':this[_0x7eb2f3(0x45e)]}}));}async[_0x178721(0x5c6)](_0x5caad5,{includeSyncingFiles:_0x548995=!0x1}){const _0x4d1acb=_0x178721,_0x475b2b=[];for(const _0x218645 of _0x5caad5)if(_0x218645['kind']!==_0x12ff66[_0x4d1acb(0x1db)]['Folder']){if(_0x218645[_0x4d1acb(0x54e)]!==_0x3b5945){if(_0x218645[_0x4d1acb(0x54e)][_0x4d1acb(0x87a)](_0x359361)){if(!_0x548995)continue;const _0x18da2f=_0x218645;if(_0x18da2f[_0x4d1acb(0x54e)]=_0x18da2f['name'][_0x4d1acb(0x6cf)](_0x359361,''),_0x18da2f['pathName']=_0x18da2f[_0x4d1acb(0x21e)][_0x4d1acb(0x6cf)](_0x359361,''),await this[_0x4d1acb(0x9cc)](_0x18da2f['pathName'])){_0x5caad5[_0x4d1acb(0x940)](_0x252efe=>_0x252efe[_0x4d1acb(0x21e)]===_0x18da2f['pathName'])['status']=_0x12ff66[_0x4d1acb(0x552)]['Syncing'];continue;}_0x18da2f[_0x4d1acb(0x925)]=_0x12ff66['FileStatus'][_0x4d1acb(0x289)];}_0x475b2b[_0x4d1acb(0x77b)](_0x218645);}}else _0x218645[_0x4d1acb(0x257)]=await this[_0x4d1acb(0x5c6)](_0x218645['entries']??[],{'includeSyncingFiles':_0x548995}),_0x475b2b[_0x4d1acb(0x77b)](_0x218645);return _0x475b2b;}async[_0x178721(0x178)](_0x467a55,_0x27a5a4,_0x3aad9b){const _0xa74cc6=_0x178721;try{const _0x5b0ac0=(0x0,_0x4848bd['v4'])(),_0x754752=await _0x40e47e(_0x467a55),_0x2042e5=_0x484bb8(_0x27a5a4??'/',_0x467a55[_0xa74cc6(0x54e)]);let _0x191720=!0x0;const _0x562760={'payloadType':_0x3d1aa7[_0xa74cc6(0x879)],'action':_0x1d4f3b[_0xa74cc6(0x803)],'id':_0x5b0ac0,'parentId':this[_0xa74cc6(0x653)],'answererId':this[_0xa74cc6(0x31a)]['getId'](),'name':_0x467a55[_0xa74cc6(0x54e)],'type':_0x467a55[_0xa74cc6(0x43f)],'path':_0x27a5a4??'/','skipEncryption':_0x3aad9b?.[_0xa74cc6(0x8d5)]??!0x1,'checksum':_0x754752};try{if(!_0x3aad9b?.['fetchUrl'])throw new Error(_0xa74cc6(0x9a7));const _0xa83f28=_0x2042e5+_0x359361;await this['objectStoreConnector'][_0xa74cc6(0x603)](_0xa83f28),_0x191720=!0x1,await this[_0xa74cc6(0x4b6)]['deleteObject'](_0xa83f28),this[_0xa74cc6(0x292)][_0xa74cc6(0xa66)](_0x2042e5);}catch(_0x57929b){await this[_0xa74cc6(0x3ab)](_0x562760);}if(this['syncContent']||this[_0xa74cc6(0x668)]?.[_0xa74cc6(0x667)]?await this[_0xa74cc6(0x1f2)](_0x467a55,_0x27a5a4,_0x3aad9b):await this['createPendingFileWrite'](_0x467a55[_0xa74cc6(0x54e)],_0x27a5a4??'/',{'checksum':_0x754752,'skipEncryption':_0x3aad9b?.['skipEncryption']??!0x1}),this['fileSendingMap'][_0xa74cc6(0x4a6)](_0x2042e5)){const [_0x37ed81,_0x1ea627]=this[_0xa74cc6(0x9f0)]['get'](_0x2042e5);this[_0xa74cc6(0x9f0)][_0xa74cc6(0x5f0)](_0x2042e5,[!0x0,_0x1ea627]);try{await _0x1ea627;}catch(_0x26ad34){}this[_0xa74cc6(0x9f0)][_0xa74cc6(0xa66)](_0x2042e5);}_0x191720&&this[_0xa74cc6(0x7ef)]>0x0&&!0x0!==this[_0xa74cc6(0x668)]?.[_0xa74cc6(0x667)]&&await this[_0xa74cc6(0x70c)](_0x467a55,_0x562760),_0x4826cd[_0xa74cc6(0x481)](_0x512f56[_0xa74cc6(0x713)],{'type':_0xa74cc6(0xa83),'label':this[_0xa74cc6(0x8f4)],'nodeId':this[_0xa74cc6(0x31a)][_0xa74cc6(0x78a)](),'nodeType':this[_0xa74cc6(0x31a)]['type'],'clusterId':this[_0xa74cc6(0x494)],'kind':_0x12ff66[_0xa74cc6(0x1db)][_0xa74cc6(0xa86)],'path':_0x27a5a4,'fileName':_0x467a55['name'],'fileType':_0x467a55[_0xa74cc6(0x43f)],'size':_0x467a55['size']}),this['writes']+=0x1,this[_0xa74cc6(0x88e)]();}catch(_0x48d62a){if(_0x48d62a instanceof _0x5953b5)throw new _0x1c9a4(_0x58f0d1[_0xa74cc6(0x55e)],_0xa74cc6(0x1bd));throw new _0x1c9a4(_0x58f0d1[_0xa74cc6(0x421)],_0xa74cc6(0x922)+_0x27a5a4+(_0x27a5a4?.[_0xa74cc6(0x87a)]('/')?'':'/')+_0x467a55[_0xa74cc6(0x54e)]);}}async[_0x178721(0x1cd)](_0x1aa4dd){const _0x35d8dc=_0x178721;try{const _0x56bb9e=(0x0,_0x4848bd['v4'])(),_0x4a8d0a=this[_0x35d8dc(0x653)],_0x14cbde={'payloadType':_0x3d1aa7[_0x35d8dc(0x879)],'action':_0x1d4f3b[_0x35d8dc(0x325)],'id':_0x56bb9e,'parentId':_0x4a8d0a,'path':_0x1aa4dd};await this[_0x35d8dc(0x3ab)](_0x14cbde),await this['objectStoreConnector']['createFolder'](_0x1aa4dd),!0x0!==this['options']?.[_0x35d8dc(0x667)]&&await this[_0x35d8dc(0x9fa)](_0x14cbde),_0x4826cd[_0x35d8dc(0x481)](_0x512f56['ObjectStorage'],{'type':'publish','label':this[_0x35d8dc(0x8f4)],'nodeId':this[_0x35d8dc(0x31a)][_0x35d8dc(0x78a)](),'nodeType':this[_0x35d8dc(0x31a)]['type'],'clusterId':this['clusterId'],'kind':_0x12ff66[_0x35d8dc(0x1db)]['Folder'],'path':_0x1aa4dd}),this[_0x35d8dc(0x8ef)]+=0x1,this['sendStats']();}catch(_0x3cfc7d){if(_0x3cfc7d instanceof _0x5953b5)throw new _0x1c9a4(_0x58f0d1[_0x35d8dc(0x55e)],_0x35d8dc(0x1bd));throw new _0x1c9a4(_0x58f0d1[_0x35d8dc(0x421)],_0x35d8dc(0x200)+_0x1aa4dd);}}async[_0x178721(0x23a)](_0x261398,_0x20cbce){const _0x43a169=_0x178721;try{const _0x4bcd8d=(0x0,_0x4848bd['v4'])(),_0x596395=this[_0x43a169(0x653)],_0xff3959={'payloadType':_0x3d1aa7[_0x43a169(0x879)],'action':_0x1d4f3b[_0x43a169(0xa05)],'id':_0x4bcd8d,'parentId':_0x596395,'path':_0x261398,'newPath':_0x20cbce};await this['publishTransaction'](_0xff3959);const _0x16168b=await this[_0x43a169(0x82e)](_0x261398,_0x20cbce);!0x0!==this[_0x43a169(0x668)]?.['standalone']&&await this[_0x43a169(0x9fa)](_0xff3959),_0x4826cd[_0x43a169(0x481)](_0x512f56['ObjectStorage'],{'type':_0x43a169(0x218),'label':this['label'],'nodeId':this[_0x43a169(0x31a)][_0x43a169(0x78a)](),'nodeType':this[_0x43a169(0x31a)][_0x43a169(0x43f)],'clusterId':this['clusterId'],'kind':_0x16168b,'path':_0x261398,'newPath':_0x20cbce}),this[_0x43a169(0x8ef)]+=0x1,this['sendStats']();}catch(_0x5e2925){if(_0x5e2925 instanceof _0x5953b5)throw new _0x1c9a4(_0x58f0d1[_0x43a169(0x55e)],_0x43a169(0x1bd));throw new _0x1c9a4(_0x58f0d1[_0x43a169(0x421)],_0x43a169(0x81c)+_0x261398);}}async['handleTransactionPayload'](_0x4070cb,_0x488d2e=!0x1){const _0x1f4ecb=_0x178721;if(this[_0x1f4ecb(0x653)]&&_0x4070cb[_0x1f4ecb(0x362)]!==this['lastTransactionId']&&_0x4070cb['id']!==this['lastTransactionId']){if(!_0x4070cb['parentId'])throw new _0x5953b5(_0x5953b5[_0x1f4ecb(0x913)][_0x1f4ecb(0x97a)]);this[_0x1f4ecb(0x804)][_0x1f4ecb(0x5f0)](_0x4070cb[_0x1f4ecb(0x362)],_0x4070cb);}else{try{await this[_0x1f4ecb(0x171)](_0x4070cb,_0x488d2e);}catch(_0x3f31df){}await this['updateLastTransactionId'](_0x4070cb['id']),await this[_0x1f4ecb(0x9ac)](_0x4070cb['id'],_0x488d2e);}}async['processTransactionPayload'](_0xf69080,_0x11e40d=!0x1){const _0xaaf6c8=_0x178721;switch(_0xf69080['action']){case _0x1d4f3b[_0xaaf6c8(0x803)]:await this[_0xaaf6c8(0x56b)](_0xf69080);break;case _0x1d4f3b[_0xaaf6c8(0x325)]:await this[_0xaaf6c8(0x3ec)](_0xf69080);break;case _0x1d4f3b[_0xaaf6c8(0xa05)]:await this[_0xaaf6c8(0x236)](_0xf69080,_0x11e40d);break;case _0x1d4f3b[_0xaaf6c8(0x682)]:await this[_0xaaf6c8(0x983)](_0xf69080,_0x11e40d);break;default:throw new _0x5953b5(_0x5953b5[_0xaaf6c8(0x913)]['ObjectStoreInvalidSyncMessage'],{'payload':_0xf69080});}}async[_0x178721(0x9ac)](_0x2dc2a0,_0x18153c=!0x1){const _0x1816c9=_0x178721;if(this['pendingSyncTransactions'][_0x1816c9(0x4a6)](_0x2dc2a0)){const _0x51f7b2=this['pendingSyncTransactions'][_0x1816c9(0x603)](_0x2dc2a0);this['pendingSyncTransactions'][_0x1816c9(0xa66)](_0x2dc2a0),await this[_0x1816c9(0x5ac)](_0x51f7b2,_0x18153c);}}async[_0x178721(0x9fd)](_0xf9496f){const _0x1cbed6=_0x178721;switch(_0xf9496f['action']){case _0x1d4f3b[_0x1cbed6(0x8f7)]:return this['handleFileRequest'](_0xf9496f);case _0x1d4f3b['RequestAccepted']:return this['handleFileRequestAnswer'](_0xf9496f);case _0x1d4f3b[_0x1cbed6(0x2b5)]:return this[_0x1cbed6(0x193)](_0xf9496f);case _0x1d4f3b['RequestFileWrite']:return this[_0x1cbed6(0x56b)](_0xf9496f);default:throw new _0x5953b5(_0x5953b5[_0x1cbed6(0x913)]['ObjectStoreInvalidSyncMessage'],{'payload':_0xf9496f});}}async[_0x178721(0x56b)](_0x4caad7,_0xea6d3d=0x0){const _0x368c31=_0x178721,_0x39b183=_0x484bb8(_0x4caad7['path'],_0x4caad7[_0x368c31(0x54e)]);if(!_0x4caad7[_0x368c31(0x372)]||void 0x0===_0x4caad7[_0x368c31(0x9e1)]||!_0x4caad7[_0x368c31(0x34d)])return this[_0x368c31(0x37d)]['delete'](_0x39b183),void await this[_0x368c31(0x556)](_0x4caad7[_0x368c31(0x54e)],_0x4caad7['path'],{'checksum':_0x4caad7['checksum'],'skipEncryption':_0x4caad7[_0x368c31(0x8d5)]});if(this['fileChunks'][_0x368c31(0x4a6)](_0x39b183)){const _0x57d0aa=this[_0x368c31(0x37d)]['get'](_0x39b183);_0x57d0aa[_0x368c31(0x23c)]!==_0x4caad7[_0x368c31(0x23c)]&&(_0x57d0aa[_0x368c31(0xa21)]?.[_0x368c31(0x3d8)](),this[_0x368c31(0x37d)][_0x368c31(0xa66)](_0x39b183));}if(!this['fileChunks'][_0x368c31(0x4a6)](_0x39b183)){try{await this[_0x368c31(0x4b6)][_0x368c31(0x6f4)](_0x39b183);}catch(_0x4e2221){}try{const _0x2271be=this[_0x368c31(0x673)]?await this[_0x368c31(0x4b6)]['createWritableStream'](_0x39b183,{'skipEncryption':_0x4caad7[_0x368c31(0x8d5)]}):void 0x0,_0x4011e4={'chunksReceived':_0x4caad7[_0x368c31(0x248)]??0x0,'bytesReceived':0x0,'stream':_0x2271be,'checksum':_0x4caad7[_0x368c31(0x23c)]};this[_0x368c31(0x37d)][_0x368c31(0x5f0)](_0x39b183,_0x4011e4),await this[_0x368c31(0x556)](_0x4caad7[_0x368c31(0x54e)],_0x4caad7[_0x368c31(0x181)],{'checksum':_0x4caad7[_0x368c31(0x23c)],'skipEncryption':_0x4caad7[_0x368c31(0x8d5)]});}catch(_0xc9dda){}}const _0x59aa5d=this['fileChunks']['get'](_0x39b183);if(_0x4caad7[_0x368c31(0x23c)]!==_0x59aa5d[_0x368c31(0x23c)])return;if(this['setPendingFileSyncingPayload'](_0x4caad7,_0x39b183),this[_0x368c31(0x673)]){if(!_0x59aa5d[_0x368c31(0xa21)])throw new _0x5953b5(_0x5953b5[_0x368c31(0x913)][_0x368c31(0x97a)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x573aec=_0x59aa5d[_0x368c31(0x493)];if(_0x4caad7[_0x368c31(0x9e1)]!==_0x573aec){if(_0x573aec>_0x4caad7[_0x368c31(0x9e1)])return;const _0x424747=2064.1259842519685;if(_0x4caad7[_0x368c31(0x9e1)]>_0x573aec+_0x424747)return;if(_0x59aa5d[_0x368c31(0x2b9)]||(_0x59aa5d[_0x368c31(0x2b9)]=[]),_0x59aa5d['bufferedChunks'][_0x368c31(0x3f4)]>8256.503937007874)throw this[_0x368c31(0x37d)][_0x368c31(0xa66)](_0x39b183),new _0x5953b5(_0x5953b5[_0x368c31(0x913)]['ObjectStoreInvalidSyncMessage'],{'message':_0x368c31(0x294)});return void _0x59aa5d[_0x368c31(0x2b9)][_0x368c31(0x77b)](_0x4caad7);}try{_0x59aa5d[_0x368c31(0x493)]+=0x1,_0x59aa5d[_0x368c31(0x6fb)]+=_0x4caad7['data'][_0x368c31(0x7f8)],await _0x59aa5d[_0x368c31(0xa21)][_0x368c31(0x7c3)](_0x4caad7[_0x368c31(0x372)]);}catch(_0x3ffed5){if(console[_0x368c31(0x5c0)](_0x368c31(0x609),_0x3ffed5),_0xea6d3d>0x3)throw this[_0x368c31(0x37d)][_0x368c31(0xa66)](_0x39b183),console[_0x368c31(0x5c0)](_0x368c31(0x24c),_0x3ffed5),new _0x5953b5(_0x5953b5[_0x368c31(0x913)][_0x368c31(0x97a)],{'message':_0x368c31(0x24c)});return this[_0x368c31(0x56b)](_0x4caad7,_0xea6d3d+0x1);}}try{await this[_0x368c31(0x758)](_0x59aa5d,_0x4caad7[_0x368c31(0x9e1)]+0x1);}catch(_0x56337c){throw this[_0x368c31(0x37d)][_0x368c31(0xa66)](_0x39b183),_0x56337c;}if(this[_0x368c31(0x37d)][_0x368c31(0x5f0)](_0x39b183,_0x59aa5d),_0x59aa5d['chunksReceived']<_0x4caad7['total'])return;await this[_0x368c31(0x91c)](_0x39b183),this[_0x368c31(0x673)]&&(await this[_0x368c31(0x1af)](_0x4caad7),_0x4826cd[_0x368c31(0x481)](_0x512f56['ObjectStorage'],{'type':_0x368c31(0x58b),'label':this[_0x368c31(0x8f4)],'nodeId':this[_0x368c31(0x31a)][_0x368c31(0x78a)](),'nodeType':this['localNode'][_0x368c31(0x43f)],'clusterId':this[_0x368c31(0x494)],'kind':_0x12ff66[_0x368c31(0x1db)][_0x368c31(0xa86)],'path':_0x4caad7[_0x368c31(0x181)],'fileName':_0x4caad7[_0x368c31(0x54e)],'fileType':_0x4caad7[_0x368c31(0x43f)],'size':_0x59aa5d[_0x368c31(0x6fb)]}));const _0x1a990f=this['pendingFilesTransactions']['get'](_0x4caad7[_0x368c31(0x181)])??[];for(const _0x14591f of _0x1a990f)await this[_0x368c31(0x171)](_0x14591f);this['pendingFilesTransactions'][_0x368c31(0xa66)](_0x4caad7[_0x368c31(0x181)]),this[_0x368c31(0x6d3)]['publish']({'event':_0x12ff66[_0x368c31(0x34b)][_0x368c31(0x803)],'payload':{'file':{'kind':_0x12ff66[_0x368c31(0x1db)][_0x368c31(0xa86)],'path':_0x4caad7[_0x368c31(0x181)],'type':_0x4caad7['type'],'size':_0x59aa5d[_0x368c31(0x6fb)],'name':_0x4caad7[_0x368c31(0x54e)],'pathName':_0x39b183,'status':this['syncContent']?_0x12ff66[_0x368c31(0x552)][_0x368c31(0x7d7)]:_0x12ff66[_0x368c31(0x552)][_0x368c31(0x289)]}}}),this['sendStats']();}async['manageBufferedChunks'](_0x420401,_0x3b23ba){const _0x1062bf=_0x178721,_0x26e455=_0x420401['stream'];let _0x11b7df=0x0;for(;_0x420401[_0x1062bf(0x2b9)]&&_0x420401['bufferedChunks'][_0x1062bf(0x3f4)]>0x0;){const _0x2cffa7=_0x420401['bufferedChunks'][_0x1062bf(0x940)](_0x27b0b1=>_0x27b0b1[_0x1062bf(0x9e1)]===_0x3b23ba+0x1);if(!_0x2cffa7)break;_0x420401[_0x1062bf(0x2b9)]=_0x420401[_0x1062bf(0x2b9)]['filter'](_0x3af6a5=>_0x3af6a5[_0x1062bf(0x9e1)]!==_0x3b23ba+0x1);try{await _0x26e455[_0x1062bf(0x7c3)](_0x2cffa7['data']),_0x3b23ba++;}catch(_0x5390a7){if(console['error'](_0x1062bf(0x8b4),_0x5390a7),_0x11b7df>0x3)throw console[_0x1062bf(0x5c0)](_0x1062bf(0xa10),_0x5390a7),new _0x5953b5(_0x5953b5['codes'][_0x1062bf(0x97a)],{'message':_0x1062bf(0xa10)});_0x11b7df++;continue;}_0x420401['chunksReceived']+=0x1,_0x420401[_0x1062bf(0x6fb)]+=_0x2cffa7[_0x1062bf(0x372)]['byteLength'];}}async[_0x178721(0x3ec)](_0xee9fa0){const _0x57c9b4=_0x178721;await this[_0x57c9b4(0x4b6)]['createFolder'](_0xee9fa0[_0x57c9b4(0x181)]);const [_0x562915,_0x44078d]=_0x58a8b7(_0xee9fa0['path']);this['eventListener'][_0x57c9b4(0xa83)]({'event':_0x12ff66[_0x57c9b4(0x34b)][_0x57c9b4(0x325)],'payload':{'folder':{'kind':_0x12ff66[_0x57c9b4(0x1db)][_0x57c9b4(0x958)],'name':_0x44078d,'path':_0x562915,'pathName':_0xee9fa0[_0x57c9b4(0x181)]}}});}async[_0x178721(0x983)](_0x27a4b9,_0x23dd56=!0x1){const _0x4fb6e1=_0x178721;if(!_0x23dd56&&!this[_0x4fb6e1(0x6c5)](_0x27a4b9))return;const _0x494522=await this['deleteObject'](_0x27a4b9['path']),[_0x29f516,_0x3fa660]=_0x58a8b7(_0x27a4b9[_0x4fb6e1(0x181)]);this[_0x4fb6e1(0x6d3)][_0x4fb6e1(0xa83)]({'event':_0x494522===_0x12ff66[_0x4fb6e1(0x1db)]['Folder']?_0x12ff66[_0x4fb6e1(0x34b)][_0x4fb6e1(0x89d)]:_0x12ff66[_0x4fb6e1(0x34b)]['FileDelete'],'payload':{'name':_0x3fa660,'path':_0x29f516,'pathName':_0x27a4b9['path']}}),this[_0x4fb6e1(0x88e)]();}async['handleObjectMove'](_0x4b056d,_0x186f54=!0x1){const _0x74d49a=_0x178721;if(!_0x186f54&&!this[_0x74d49a(0x6c5)](_0x4b056d))return this[_0x74d49a(0xa07)][_0x74d49a(0x5f0)](_0x4b056d['newPath'],this[_0x74d49a(0xa07)][_0x74d49a(0x603)](_0x4b056d[_0x74d49a(0x181)])??_0x4b056d[_0x74d49a(0x181)]),void this[_0x74d49a(0xa07)]['delete'](_0x4b056d['path']);this['pendingFilesRename'][_0x74d49a(0xa66)](_0x4b056d['path']);const _0x5df345=await this[_0x74d49a(0x4b6)]['moveObject'](_0x4b056d['path'],_0x4b056d[_0x74d49a(0x416)]),[_0x3ee963,_0x793887]=_0x58a8b7(_0x4b056d[_0x74d49a(0x181)]),[_0x577e4a,_0xee725e]=_0x58a8b7(_0x4b056d[_0x74d49a(0x416)]);this['eventListener']['publish']({'event':_0x5df345===_0x12ff66[_0x74d49a(0x1db)]['Folder']?_0x12ff66[_0x74d49a(0x34b)][_0x74d49a(0x22b)]:_0x12ff66['StorageEventType'][_0x74d49a(0x912)],'payload':{'name':_0xee725e,'path':_0x577e4a,'pathName':_0x4b056d[_0x74d49a(0x416)],'oldName':_0x793887,'oldPath':_0x3ee963,'oldPathName':_0x4b056d[_0x74d49a(0x181)]}}),this['sendStats']();}[_0x178721(0x6c5)](_0xbfeedb){const _0x181e30=_0x178721,_0x2e13a9=this[_0x181e30(0xa07)][_0x181e30(0x603)](_0xbfeedb[_0x181e30(0x181)])??_0xbfeedb[_0x181e30(0x181)];let _0x35c632=!0x1;for(const _0x3b20d4 of this[_0x181e30(0x37d)][_0x181e30(0x89f)]())if(_0x3b20d4[_0x181e30(0x9c8)](_0x2e13a9)){const _0x3da764=this[_0x181e30(0xa51)][_0x181e30(0x603)](_0x3b20d4)??[];_0x3da764[_0x181e30(0x77b)](_0xbfeedb),this[_0x181e30(0xa51)][_0x181e30(0x5f0)](_0x3b20d4,_0x3da764),_0x35c632=!0x0;}return!_0x35c632;}async[_0x178721(0x3ab)](_0x3700e2){const _0x2c776b=_0x178721;if(!this[_0x2c776b(0x668)]?.[_0x2c776b(0x667)]){if(!_0x3700e2['id'])throw new _0x5953b5(_0x5953b5[_0x2c776b(0x913)][_0x2c776b(0x97a)],{'message':_0x2c776b(0xa42)});if(_0x3700e2[_0x2c776b(0x362)]!==this[_0x2c776b(0x653)])throw new _0x5953b5(_0x5953b5[_0x2c776b(0x913)][_0x2c776b(0xa6f)]);await this[_0x2c776b(0x53c)][_0x2c776b(0x8d0)](_0x3700e2,this[_0x2c776b(0x8f4)]),await this[_0x2c776b(0x26d)](_0x3700e2['id']);}}async[_0x178721(0x26d)](_0x298b0a){const _0x29ae73=_0x178721;this[_0x29ae73(0x653)]=_0x298b0a;const _0x27c98f=new File([new Blob([this[_0x29ae73(0x653)]])],_0x3b5945,{'type':_0x29ae73(0x956)});await this['writeFile'](_0x27c98f,'/');}async[_0x178721(0x665)](_0x337de2){const _0xbbce=_0x178721;try{const _0x1e9395=await this['get'](_0x337de2[_0xbbce(0x181)]+'/'+_0x337de2[_0xbbce(0x54e)],{'skipEncryption':_0x337de2[_0xbbce(0x8d5)]}),_0x3b88bc=await _0x40e47e(_0x1e9395);if(''!==_0x337de2['checksum']&&_0x3b88bc!==_0x337de2[_0xbbce(0x23c)])return;_0x337de2[_0xbbce(0x853)]=this[_0xbbce(0x31a)]['getId'](),_0x337de2['action']=_0x1d4f3b[_0xbbce(0x1ee)],await this[_0xbbce(0x9fa)](_0x337de2,[_0x337de2[_0xbbce(0x8d8)]]);}catch(_0x57263a){}}async[_0x178721(0x598)](_0x55c578){const _0x39893c=_0x178721,_0x3ca3eb=_0x484bb8(_0x55c578['path'],_0x55c578[_0x39893c(0x54e)]);if(!this['objectRequests'][_0x39893c(0x4a6)](_0x3ca3eb))return;const _0x39b967=this[_0x39893c(0x292)][_0x39893c(0x603)](_0x3ca3eb);_0x39b967[_0x39893c(0x1b2)]=_0x1d4f3b['RequestFileSync'];const _0x503ff1=_0x55c578[_0x39893c(0x853)];if(!_0x503ff1)throw new _0x5953b5(_0x5953b5[_0x39893c(0x913)]['ObjectStoreInvalidSyncMessage'],{'message':_0x39893c(0x2dc)});if(this[_0x39893c(0x292)][_0x39893c(0xa66)](_0x3ca3eb),this[_0x39893c(0x447)][_0x39893c(0x4a6)](_0x503ff1)||this['pendingFilesSyncing']['set'](_0x503ff1,new Map()),this['pendingFilesSyncing'][_0x39893c(0x603)](_0x503ff1)[_0x39893c(0x5f0)](_0x3ca3eb,[_0x39b967,this[_0x39893c(0x8d6)](_0x503ff1,_0x3ca3eb)]),_0x39b967[_0x39893c(0x853)]=_0x503ff1,_0x39b967[_0x39893c(0x248)]=this[_0x39893c(0x37d)][_0x39893c(0x603)](_0x3ca3eb)?.[_0x39893c(0x493)]??0x0,0x0===_0x39b967[_0x39893c(0x248)])try{const [_0x265124,_0x3abd70]=await this['checkExistingPendingFileContent'](_0x55c578['name'],_0x55c578[_0x39893c(0x181)],_0x55c578[_0x39893c(0x23c)]);_0x265124&&(_0x39b967[_0x39893c(0x248)]=_0x3abd70);}catch(_0x48acc6){}this[_0x39893c(0x9fa)](_0x39b967,[_0x503ff1]);}async[_0x178721(0x193)](_0x48df36){const _0x4df831=_0x178721,_0x18e2a5=_0x484bb8(_0x48df36[_0x4df831(0x181)],_0x48df36[_0x4df831(0x54e)]),_0x53cc4d=await this[_0x4df831(0x603)](_0x18e2a5,{'skipEncryption':_0x48df36['skipEncryption']}),_0x1e5038={..._0x48df36,'answererId':this[_0x4df831(0x31a)][_0x4df831(0x78a)](),'action':_0x1d4f3b[_0x4df831(0x3ff)],'startIndex':_0x48df36[_0x4df831(0x248)]??0x0};await this[_0x4df831(0x70c)](_0x53cc4d,_0x1e5038,[_0x48df36[_0x4df831(0x8d8)]]);}async[_0x178721(0x70c)](_0x13bff5,_0xef9969,_0x202653){let _0x3ced0b,_0x4c933b;const _0x388a08=new Promise(async(_0x577a4c,_0x97897c)=>{_0x3ced0b=_0x577a4c,_0x4c933b=_0x97897c;});return((async()=>{const _0x3839ad=a0_0x5e71,_0xf47779=Math[_0x3839ad(0x8e5)](_0x13bff5[_0x3839ad(0x3e6)]/_0x4af52e);let _0x1427da=_0xef9969['startIndex']??0x0;const _0x1b46cd=_0x484bb8(_0xef9969[_0x3839ad(0x181)],_0xef9969[_0x3839ad(0x54e)]);this[_0x3839ad(0x9f0)][_0x3839ad(0x5f0)](_0x1b46cd,[!0x1,_0x388a08]);for await(const _0x4f89c8 of async function*(_0x465b42,_0x2b0dcb=0x0,_0x1c4d97){for await(const _0x9aa7aa of _0x306cb4(_0x465b42,_0x2b0dcb,_0x1c4d97))yield _0x9aa7aa;}(_0x13bff5,_0x1427da,this[_0x3839ad(0x9a6)])){const [_0x40fd11]=this[_0x3839ad(0x9f0)][_0x3839ad(0x603)](_0x1b46cd)??[];if(_0x40fd11)return this[_0x3839ad(0x9f0)][_0x3839ad(0xa66)](_0x1b46cd),void _0x4c933b(new Error(_0x3839ad(0x8d1)));if(this['pendingFilesTransactions'][_0x3839ad(0x4a6)](_0x1b46cd)){const _0x3b80a6=this[_0x3839ad(0xa51)][_0x3839ad(0x603)](_0x1b46cd);for(const _0x1aee87 of _0x3b80a6)if(_0x1aee87[_0x3839ad(0x1b2)]===_0x1d4f3b[_0x3839ad(0x803)]||_0x1aee87[_0x3839ad(0x1b2)]===_0x1d4f3b[_0x3839ad(0x682)])return;}const _0x136e22={..._0xef9969,'type':_0x13bff5[_0x3839ad(0x43f)],'data':_0x4f89c8,'index':_0x1427da,'total':_0xf47779};this[_0x3839ad(0x9fa)](_0x136e22,_0x202653),_0x1427da++;}const _0x442cbf=setInterval(async()=>{const _0x53c066=_0x3839ad;await this[_0x53c066(0x9a6)]()>0x0||(clearInterval(_0x442cbf),_0x3ced0b());});this['fileSendingMap'][_0x3839ad(0xa66)](_0x1b46cd);})()),_0x388a08;}async[_0x178721(0x1af)](_0x308664){const _0x3e4304=_0x178721;try{const _0x50ec62=_0x484bb8(_0x308664[_0x3e4304(0x181)],_0x308664[_0x3e4304(0x54e)]),_0x2d42c8=_0x50ec62+_0x359361;await this['deleteObject'](_0x2d42c8);const [,_0x25678d]=this[_0x3e4304(0x447)][_0x3e4304(0x603)](_0x308664['answererId'])?.[_0x3e4304(0x603)](_0x50ec62)??[];_0x25678d&&(clearTimeout(_0x25678d),this[_0x3e4304(0x447)]['get'](_0x308664[_0x3e4304(0x853)])['delete'](_0x50ec62));}catch(_0x267ddd){}0x0===this[_0x3e4304(0x447)][_0x3e4304(0x603)](_0x308664[_0x3e4304(0x853)])?.[_0x3e4304(0x3e6)]&&this[_0x3e4304(0x447)][_0x3e4304(0xa66)](_0x308664['answererId']),0x0===this[_0x3e4304(0x447)][_0x3e4304(0x3e6)]&&0x0===this[_0x3e4304(0x292)][_0x3e4304(0x3e6)]&&this[_0x3e4304(0x7b0)]();}async[_0x178721(0x242)](){const _0x30565c=_0x178721;try{const _0x3a71a9=await this['transactionService'][_0x30565c(0x6f2)](this[_0x30565c(0x8f4)],this[_0x30565c(0x653)]);for(const _0x30532a of _0x3a71a9)await this[_0x30565c(0x5ac)](_0x30532a,!0x0);}catch(_0x4d63de){if(_0x4d63de instanceof _0x5953b5&&_0x4d63de['code']===_0x5953b5['codes'][_0x30565c(0x829)]){await this[_0x30565c(0x4b6)][_0x30565c(0x6f4)](_0x3b5945),delete this[_0x30565c(0x653)];try{const _0x866a5a=await this[_0x30565c(0x4b6)]['list']('/',!0x1);for(const _0x1493d8 of _0x866a5a)await this[_0x30565c(0x4b6)][_0x30565c(0x6f4)](_0x1493d8['pathName']);}catch(_0x17cb2a){}return await this[_0x30565c(0x242)]();}throw _0x4d63de;}}async['syncPendingFiles'](){const _0x3b28c6=_0x178721,_0x404c52=await this[_0x3b28c6(0x79a)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x59d885=async _0x2452b7=>{const _0x2ae3cf=_0x3b28c6;for(const _0x102e43 of _0x2452b7){if(_0x102e43[_0x2ae3cf(0x6cb)]===_0x12ff66[_0x2ae3cf(0x1db)][_0x2ae3cf(0x958)]){_0x102e43['entries']&&_0x102e43['entries']['length']>0x0&&await _0x59d885(_0x102e43[_0x2ae3cf(0x257)]);continue;}if(_0x102e43[_0x2ae3cf(0x925)]!==_0x12ff66['FileStatus'][_0x2ae3cf(0x289)])continue;const _0x36fcba=await this[_0x2ae3cf(0x603)](_0x102e43[_0x2ae3cf(0x21e)]+_0x359361),_0x131bd3=JSON[_0x2ae3cf(0x8b5)](await _0x36fcba[_0x2ae3cf(0x936)]()),_0xc76583=_0x102e43[_0x2ae3cf(0x54e)][_0x2ae3cf(0x6cf)](_0x359361,''),_0x3059b9={'payloadType':_0x3d1aa7[_0x2ae3cf(0x95d)],'action':_0x1d4f3b[_0x2ae3cf(0x8f7)],'sourceId':this[_0x2ae3cf(0x31a)]['getId'](),'type':'','path':_0x102e43[_0x2ae3cf(0x181)],'name':_0xc76583,'checksum':_0x131bd3[_0x2ae3cf(0x23c)],'skipEncryption':_0x131bd3[_0x2ae3cf(0x8d5)]},_0x4c238e=_0x484bb8(_0x102e43['path'],_0xc76583);this[_0x2ae3cf(0x292)][_0x2ae3cf(0x5f0)](_0x4c238e,_0x3059b9);}};await _0x59d885(_0x404c52),0x0===this[_0x3b28c6(0x292)][_0x3b28c6(0x3e6)]&&0x0===this['pendingFilesSyncing'][_0x3b28c6(0x3e6)]&&this[_0x3b28c6(0x7b0)]();}async[_0x178721(0x556)](_0x1006f6,_0x2261f0,_0x3f7d82){const _0x40429a=_0x178721,_0x2e57bc=new File([new Blob([JSON[_0x40429a(0x37e)](_0x3f7d82)])],''+_0x1006f6+_0x359361,{'type':_0x40429a(0x956)});await this[_0x40429a(0x1f2)](_0x2e57bc,_0x2261f0);}async[_0x178721(0x98c)](_0x231239,_0x212324,_0x4a95a9){const _0x2199f2=_0x178721;try{const _0x52db7a=_0x484bb8(_0x212324,_0x231239),_0xee81c4=_0x52db7a+_0x359361,_0x427b5a=await this[_0x2199f2(0x4b6)][_0x2199f2(0x603)](_0xee81c4),{checksum:_0x48440e,skipEncryption:_0x98f4a0}=JSON[_0x2199f2(0x8b5)](await _0x427b5a[_0x2199f2(0x936)]()),_0x1c4c2e=(await this[_0x2199f2(0x4b6)][_0x2199f2(0x603)](_0x52db7a,{'skipEncryption':_0x98f4a0}))[_0x2199f2(0x3e6)];return _0x48440e===_0x4a95a9&&_0x1c4c2e%_0x4af52e==0x0?[!0x0,Math[_0x2199f2(0x9e0)](_0x1c4c2e/_0x4af52e)]:(await this['objectStoreConnector'][_0x2199f2(0x6f4)](_0x52db7a),[!0x1,0x0]);}catch(_0x34db87){return[!0x1,0x0];}}[_0x178721(0x8d6)](_0x7cd5d,_0x2ead2a){const _0x341368=_0x178721,[_0x72785a,_0x59fde2]=this[_0x341368(0x447)][_0x341368(0x603)](_0x7cd5d)?.['get'](_0x2ead2a)??[];return _0x59fde2&&clearTimeout(_0x59fde2),setTimeout(()=>{const _0x4695bd=_0x341368,[_0x419ded,_0x3df0dc]=this['pendingFilesSyncing']['get'](_0x7cd5d)['get'](_0x2ead2a);this[_0x4695bd(0x740)](_0x419ded,_0x3df0dc);},0x927c0);}async[_0x178721(0x740)](_0xc6b7ec,_0x4c8c38){const _0x2bb464=_0x178721;clearTimeout(_0x4c8c38),_0xc6b7ec['action']=_0x1d4f3b[_0x2bb464(0x8f7)],this[_0x2bb464(0x292)]['set'](_0x484bb8(_0xc6b7ec[_0x2bb464(0x181)],_0xc6b7ec['name']),_0xc6b7ec),this['send'](_0xc6b7ec);}[_0x178721(0x929)](_0x5ec23c,_0xbab8e4){const _0x1a02ae=_0x178721;if(!this[_0x1a02ae(0x673)])return;this[_0x1a02ae(0x447)][_0x1a02ae(0x4a6)](_0x5ec23c[_0x1a02ae(0x853)])||this[_0x1a02ae(0x447)][_0x1a02ae(0x5f0)](_0x5ec23c[_0x1a02ae(0x853)],new Map());const [_0x448549]=this[_0x1a02ae(0x447)]['get'](_0x5ec23c[_0x1a02ae(0x853)])[_0x1a02ae(0x603)](_0xbab8e4)??[{'payloadType':_0x3d1aa7[_0x1a02ae(0x95d)],'action':_0x1d4f3b[_0x1a02ae(0x8f7)],'sourceId':this[_0x1a02ae(0x31a)][_0x1a02ae(0x78a)](),'type':_0x5ec23c[_0x1a02ae(0x43f)],'name':_0x5ec23c[_0x1a02ae(0x54e)],'path':_0x5ec23c[_0x1a02ae(0x181)],'skipEncryption':_0x5ec23c[_0x1a02ae(0x8d5)],'checksum':_0x5ec23c[_0x1a02ae(0x23c)],'answererId':_0x5ec23c[_0x1a02ae(0x853)]}];this[_0x1a02ae(0x447)]['get'](_0x5ec23c['answererId'])[_0x1a02ae(0x5f0)](_0xbab8e4,[_0x448549,this['getOrResetPendingFileTimeout'](_0x5ec23c[_0x1a02ae(0x853)],_0xbab8e4)]);}async[_0x178721(0x1f2)](_0x4f06d4,_0x381bab,_0x3e642f){const _0x4aaa87=_0x178721;this[_0x4aaa87(0x737)]&&(this[_0x4aaa87(0x45e)]+=0x1),await this[_0x4aaa87(0x4b6)][_0x4aaa87(0x1f2)](_0x4f06d4,_0x381bab,_0x3e642f);}async['deleteObject'](_0x4e248e){const _0x77d5e7=_0x178721;try{const _0x5a4c43=await this[_0x77d5e7(0x4b6)][_0x77d5e7(0x6f4)](_0x4e248e);if(!_0x4e248e[_0x77d5e7(0x87a)](_0x359361))try{await this[_0x77d5e7(0x4b6)][_0x77d5e7(0x6f4)](_0x4e248e+_0x359361);}catch(_0x5c7fd9){}return this[_0x77d5e7(0x737)]&&_0x5a4c43===_0x12ff66[_0x77d5e7(0x1db)][_0x77d5e7(0xa86)]&&(this[_0x77d5e7(0x45e)]+=0x1),_0x5a4c43;}catch(_0x1d9958){return await this[_0x77d5e7(0x4b6)][_0x77d5e7(0x6f4)](_0x4e248e+_0x359361);}}async[_0x178721(0x82e)](_0x126d7a,_0x31435f){const _0x494700=_0x178721;try{const _0x34b464=await this[_0x494700(0x4b6)]['moveObject'](_0x126d7a,_0x31435f);if(!_0x126d7a['endsWith'](_0x359361))try{await this[_0x494700(0x4b6)][_0x494700(0x82e)](_0x126d7a+_0x359361,_0x31435f+_0x359361);}catch(_0x5624ba){}return _0x34b464;}catch(_0x1983fa){return await this[_0x494700(0x4b6)][_0x494700(0x82e)](_0x126d7a+_0x359361,_0x31435f+_0x359361);}}[_0x178721(0x88e)](){const _0x51c3a5=_0x178721;this[_0x51c3a5(0x605)]&&clearTimeout(this[_0x51c3a5(0x605)]),this[_0x51c3a5(0x605)]=setTimeout(async()=>{const _0x52e507=_0x51c3a5;delete this['debounceStats'];const _0x685934=await this[_0x52e507(0x4b6)][_0x52e507(0x545)]('/');this[_0x52e507(0x87d)]?.['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x52e507(0xa48)],'content':{'type':_0x4ef04d['ObjectStoreStats'],'label':this[_0x52e507(0x8f4)],'stats':{'timestamp':Date[_0x52e507(0x2e5)](),'storage':_0x685934,'messagesSent':this[_0x52e507(0x7bf)],'messagesReceived':this[_0x52e507(0x7a4)],'bytesSent':this[_0x52e507(0x608)],'bytesReceived':this[_0x52e507(0x6fb)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x4826cd[_0x52e507(0x606)](_0x512f56[_0x52e507(0x713)],'ccc'+this[_0x52e507(0x494)]+'ccc'+this[_0x52e507(0x8f4)],_0x685934);},_0x3c1ede);}async[_0x178721(0x9cc)](_0x107817){const _0x5994f9=_0x178721;try{return await this[_0x5994f9(0x603)](_0x107817),!0x0;}catch(_0x17e48f){return!0x1;}}async[_0x178721(0x91c)](_0x5b0bb9){const _0x5688dc=_0x178721;if(!this[_0x5688dc(0x37d)][_0x5688dc(0x4a6)](_0x5b0bb9))return;const _0x29d55d=this['fileChunks'][_0x5688dc(0x603)](_0x5b0bb9);if(_0x29d55d[_0x5688dc(0xa21)])try{await _0x29d55d[_0x5688dc(0xa21)][_0x5688dc(0x3d8)]();}catch(_0x3cc229){console['error'](_0x5688dc(0x2b4),_0x3cc229);}this['fileChunks'][_0x5688dc(0xa66)](_0x5b0bb9);}}class _0x534a50 extends _0x253fab{[_0x178721(0x31a)];[_0x178721(0x494)];[_0x178721(0x86c)]=new Map();['debounceStats'];constructor(_0x5107fc,_0x206aff,_0x44ccf6){const _0x584ba3=_0x178721;if(_0x584ba3(0x6a8)!=typeof _0x206aff)throw new _0x1c9a4(_0x58f0d1[_0x584ba3(0x5ad)],_0x584ba3(0x766));super(_0x5107fc,_0x206aff),this['localNode']=_0x5107fc,this[_0x584ba3(0x494)]=_0x44ccf6,this[_0x584ba3(0x88e)]();}['reset'](){const _0x16e91f=_0x178721;this[_0x16e91f(0x88e)]();}[_0x178721(0x79e)](){const _0x36e606=_0x178721;return _0x12ff66[_0x36e606(0x66a)][_0x36e606(0x5f4)];}[_0x178721(0xa83)](_0x5b525c,_0x5849ef){const _0x3fd766=_0x178721;_0x4826cd[_0x3fd766(0x51c)](_0x312d1f['PubSub'],_0x3fd766(0x961),this[_0x3fd766(0x31a)][_0x3fd766(0x78a)](),_0x5b525c,_0x5849ef),_0x4826cd[_0x3fd766(0x481)](_0x512f56[_0x3fd766(0x5f4)],{'type':_0x3fd766(0xa83),'label':this[_0x3fd766(0x8f4)],'nodeId':this[_0x3fd766(0x31a)][_0x3fd766(0x78a)](),'nodeType':this['localNode'][_0x3fd766(0x43f)],'clusterId':this[_0x3fd766(0x494)],'remoteIds':_0x5849ef??[],'contentType':_0x5b525c instanceof File?_0x12ff66[_0x3fd766(0x66a)][_0x3fd766(0xa86)]:_0x12ff66[_0x3fd766(0x66a)][_0x3fd766(0xa4a)],'size':_0x5b525c instanceof File?_0x5b525c[_0x3fd766(0x3e6)]:JSON[_0x3fd766(0x37e)](_0x5b525c)[_0x3fd766(0x3f4)]}),this[_0x3fd766(0x88e)](),this[_0x3fd766(0x9fa)](_0x5b525c,_0x5849ef);}['subscribe'](_0x52ee83,_0x4a26ff){const _0x40058c=_0x178721;if(this[_0x40058c(0x86c)][_0x40058c(0x4a6)](_0x52ee83))throw new _0x1c9a4(_0x58f0d1['PubSubTopicAlreadySubscribed'],_0x40058c(0x302));this[_0x40058c(0x86c)][_0x40058c(0x5f0)](_0x52ee83,this['onMessage']((_0x5b9a22,_0x346ae9)=>{const _0x19ba72=_0x40058c;_0x19ba72(0x372)===_0x52ee83&&_0x346ae9 instanceof File||!(_0x19ba72(0x183)!==_0x52ee83||_0x346ae9 instanceof File)||(_0x4826cd[_0x19ba72(0x51c)](_0x312d1f[_0x19ba72(0x5f4)],_0x19ba72(0x77f),this[_0x19ba72(0x31a)]['getId'](),_0x5b9a22,_0x346ae9),_0x4826cd[_0x19ba72(0x481)](_0x512f56['PubSub'],{'type':'subscribe','label':this[_0x19ba72(0x8f4)],'nodeId':this[_0x19ba72(0x31a)][_0x19ba72(0x78a)](),'nodeType':this[_0x19ba72(0x31a)][_0x19ba72(0x43f)],'clusterId':this[_0x19ba72(0x494)],'remoteId':_0x5b9a22,'contentType':_0x52ee83,'size':_0x346ae9 instanceof File?_0x346ae9[_0x19ba72(0x3e6)]:JSON[_0x19ba72(0x37e)](_0x346ae9)['length']}),this['sendStats'](),_0x4a26ff(_0x5b9a22,_0x346ae9));}));}[_0x178721(0x90e)](_0xbed599){const _0x47a0a5=_0x178721;this[_0x47a0a5(0x86c)]['get'](_0xbed599)?.(),this[_0x47a0a5(0x86c)][_0x47a0a5(0xa66)](_0xbed599);}[_0x178721(0x4c1)](){const _0x252607=_0x178721;this[_0x252607(0x86c)][_0x252607(0x2cb)](_0x4f9d9c=>_0x4f9d9c()),clearTimeout(this[_0x252607(0x605)]),delete this[_0x252607(0x605)],super[_0x252607(0x4c1)]();}[_0x178721(0x3d8)](){const _0x33e048=_0x178721;this['systemTopic']?.[_0x33e048(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x33e048(0xa48)],'content':{'type':_0x4ef04d[_0x33e048(0x2a9)],'label':this[_0x33e048(0x8f4)]}});}['sendStats'](){const _0x166734=_0x178721;this[_0x166734(0x605)]&&clearTimeout(this[_0x166734(0x605)]),this['debounceStats']=setTimeout(()=>{const _0x5761e7=_0x166734;this[_0x5761e7(0x87d)]?.[_0x5761e7(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x5761e7(0xa48)],'content':{'type':_0x4ef04d[_0x5761e7(0x833)],'label':this[_0x5761e7(0x8f4)],'stats':{'timestamp':Date[_0x5761e7(0x2e5)](),'storage':0x0,'messagesSent':this[_0x5761e7(0x7bf)],'messagesReceived':this[_0x5761e7(0x7a4)],'bytesSent':this[_0x5761e7(0x608)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x3c1ede);}}class _0x5ec9a3 extends _0x83c5c5{['localNode'];[_0x178721(0x7c0)];[_0x178721(0x6b3)];[_0x178721(0x494)];[_0x178721(0x86c)];['resizeHandler'];['updateDebounce'];[_0x178721(0x1a8)]=new Map();[_0x178721(0xa50)];[_0x178721(0x1e8)]=new Set();[_0x178721(0x2ce)];[_0x178721(0x326)]=_0x1e0d9a();[_0x178721(0x769)]=new Map();constructor(_0x4a66f5,_0x3c3e81,_0x2dada1,_0x506a68,_0x5d2629,_0x2ff6d9){const _0x20ba38=_0x178721;super(_0x3c3e81,_0x2dada1,new MediaStream()),this[_0x20ba38(0x31a)]=_0x4a66f5,this[_0x20ba38(0x7c0)]=_0x506a68,this['availableTrackKinds']=_0x5d2629,this[_0x20ba38(0x494)]=_0x2ff6d9,this[_0x20ba38(0xa8a)][_0x20ba38(0x822)]()['forEach'](_0x13989c=>this['setupTrackEndedListeners'](_0x13989c));}[_0x178721(0x4c1)](){const _0x1e43ad=_0x178721;this[_0x1e43ad(0x1a8)][_0x1e43ad(0x3e6)]>0x0&&(this[_0x1e43ad(0x1a8)][_0x1e43ad(0x2cb)](_0x4a9f49=>{const _0x4b5d72=_0x1e43ad;_0x4a9f49[_0x4b5d72(0x1ae)](),_0x4a9f49[_0x4b5d72(0x4c1)]();}),this[_0x1e43ad(0x1a8)][_0x1e43ad(0x6f1)]()),this[_0x1e43ad(0x769)][_0x1e43ad(0x2cb)](_0x488fc8=>_0x488fc8()),this[_0x1e43ad(0xa8a)][_0x1e43ad(0x822)]()['forEach'](_0x1a94bd=>this['mediaStream'][_0x1e43ad(0x63f)](_0x1a94bd)),this[_0x1e43ad(0x885)]&&(clearTimeout(this[_0x1e43ad(0x885)]),delete this[_0x1e43ad(0x885)]),this['resizeHandler']?.(),super[_0x1e43ad(0x4c1)]();}[_0x178721(0x1ce)](_0x8bf94e){const _0x23efb0=_0x178721;this[_0x23efb0(0x86c)]=_0x8bf94e[_0x23efb0(0x1c5)](({content:_0x157826})=>{const _0x5f239c=_0x23efb0;switch(_0x157826['action']){case _0x1fc827['RemoteAdd']:if(_0x4826cd[_0x5f239c(0x51c)](_0x312d1f[_0x5f239c(0x378)],_0x5f239c(0x4af),this[_0x5f239c(0x31a)][_0x5f239c(0x78a)](),this[_0x5f239c(0x2ce)]),_0x157826[_0x5f239c(0xa21)]['id']!==this['internalId']||_0x157826[_0x5f239c(0x2ce)]!==this['providerId'])return;this['removeTrack'](_0x157826['track'][_0x5f239c(0x6cb)]),this['mediaStream'][_0x5f239c(0x6a3)](_0x157826['track']);for(const [_0x5b227b,_0x150f4d]of this['outgoingStreams'][_0x5f239c(0x257)]())try{_0x150f4d[_0x5f239c(0x6a3)](_0x157826[_0x5f239c(0x564)]);}catch(_0x25d710){_0x150f4d[_0x5f239c(0x4c1)](),this[_0x5f239c(0x1a8)][_0x5f239c(0xa66)](_0x5b227b);}this['setupTrackEndedListeners'](_0x157826[_0x5f239c(0x564)]),this[_0x5f239c(0x96c)](),_0x5f239c(0x63a)===_0x157826[_0x5f239c(0x564)]['kind']&&this[_0x5f239c(0xa50)]&&(this['mediaStream'][_0x5f239c(0x8a9)]?setTimeout(()=>this[_0x5f239c(0xa50)]?.[_0x5f239c(0x867)](),0x0):setTimeout(()=>this[_0x5f239c(0xa50)]?.['load'](),0x0),this[_0x5f239c(0x546)]());break;case _0x1fc827[_0x5f239c(0x8c1)]:if(_0x157826['stream']['id']!==this[_0x5f239c(0x7c0)]||_0x157826[_0x5f239c(0x2ce)]!==this[_0x5f239c(0x2ce)])return;this['removeTrack'](_0x157826[_0x5f239c(0x564)][_0x5f239c(0x6cb)]),this['renderElement']&&_0x5f239c(0x63a)===_0x157826['track'][_0x5f239c(0x6cb)]&&(this[_0x5f239c(0x4f0)]?.(),this[_0x5f239c(0xa8a)][_0x5f239c(0x822)]()[_0x5f239c(0x3f4)]>0x0?this['renderElement'][_0x5f239c(0x471)]():this['renderElement'][_0x5f239c(0x4d9)]=null);}});}[_0x178721(0x7dd)](){const _0x59e529=_0x178721;this[_0x59e529(0x86c)]?.(),this[_0x59e529(0x769)][_0x59e529(0x2cb)](_0x46e05a=>_0x46e05a()),delete this[_0x59e529(0x86c)];}['getInternalStreamId'](){const _0x37ce2a=_0x178721;return this[_0x37ce2a(0x7c0)];}[_0x178721(0x9b7)](_0xd9e851){this['internalId']=_0xd9e851;}[_0x178721(0x98a)](){const _0x18e066=_0x178721;return this[_0x18e066(0x6b3)];}['hasTracks'](_0x2cfa43){const _0x28538e=_0x178721;for(const _0x2a0e78 of _0x2cfa43||this[_0x28538e(0x6b3)])if(!this[_0x28538e(0xa8a)][_0x28538e(0x822)]()[_0x28538e(0x940)](_0xe87628=>_0xe87628[_0x28538e(0x6cb)]===_0x2a0e78))return!0x1;return!0x0;}[_0x178721(0xa2b)](){const _0x55eba3=_0x178721;let _0x34bc38={'width':0x0,'height':0x0};const _0x6f6977=this[_0x55eba3(0xa8a)][_0x55eba3(0x5d4)]();if(_0x6f6977[_0x55eba3(0x3f4)]>0x0){const _0x47e1bb=_0x6f6977[0x0][_0x55eba3(0x9e7)]();_0x47e1bb[_0x55eba3(0x7ec)]&&_0x47e1bb[_0x55eba3(0x8a8)]&&(_0x34bc38={'width':_0x47e1bb[_0x55eba3(0x7ec)],'height':_0x47e1bb[_0x55eba3(0x8a8)]});}return _0x34bc38;}[_0x178721(0x88f)](_0x5532c2){const _0x2dd628=_0x178721;for(const _0x486e4a of _0x5532c2)if(!this[_0x2dd628(0x1e8)][_0x2dd628(0x4a6)](_0x486e4a))return!0x1;return!0x0;}['getShareableStream'](_0x4719b8,_0x20b5ce){const _0x4711c9=_0x178721;if(!this['outgoingStreams'][_0x4711c9(0x4a6)](_0x4719b8)){const _0x3fc3c9=new _0x7ce4b2(this[_0x4711c9(0x196)],this[_0x4711c9(0x8f4)],this[_0x4711c9(0xa8a)],_0x4719b8,_0x20b5ce),_0x264c46=_0x3fc3c9[_0x4711c9(0x88a)](()=>{const _0x231a7a=_0x4711c9;_0x264c46(),this[_0x231a7a(0x1a8)][_0x231a7a(0x603)](_0x4719b8)?.[_0x231a7a(0x4c1)](),this[_0x231a7a(0x1a8)]['delete'](_0x4719b8);});this[_0x4711c9(0x1a8)][_0x4711c9(0x5f0)](_0x4719b8,_0x3fc3c9),_0x3fc3c9[_0x4711c9(0x7f7)](this[_0x4711c9(0x87d)]);}return this['outgoingStreams'][_0x4711c9(0x603)](_0x4719b8);}[_0x178721(0x1b6)](){return this['mediaStream']['id'];}['getPriority'](){return _0x12ff66['MediaStreamPriority']['Default'];}[_0x178721(0x38b)](){const _0x2c107e=_0x178721;return Array[_0x2c107e(0x3ac)](this['subscribedTracks']);}[_0x178721(0x1c5)](_0x303d24){const _0x53563f=_0x178721;let _0x40ba00=[];if(_0x303d24){_0x53563f(0x237)!=typeof _0x303d24[_0x53563f(0x63a)]||_0x303d24[_0x53563f(0x63a)][_0x53563f(0xa50)]instanceof HTMLVideoElement||!this[_0x53563f(0xa50)]||(_0x303d24['video']={'renderElement':this[_0x53563f(0xa50)]});try{(0x0,_0x12ff66[_0x53563f(0x1c0)])(_0x303d24);}catch(_0xe3242f){throw new _0x1c9a4(_0x58f0d1[_0x53563f(0xa73)],_0x53563f(0x8b9));}_0x303d24[_0x53563f(0x63a)]&&(_0x40ba00[_0x53563f(0x77b)]('video'),'boolean'!=typeof _0x303d24[_0x53563f(0x63a)]&&_0x303d24[_0x53563f(0x63a)]['renderElement']&&(this[_0x53563f(0xa50)]=_0x303d24['video'][_0x53563f(0xa50)],_0x303d24[_0x53563f(0x63a)]['maxResolution']||(_0x303d24[_0x53563f(0x63a)][_0x53563f(0x882)]={'width':this[_0x53563f(0xa50)][_0x53563f(0x8f0)],'height':this[_0x53563f(0xa50)][_0x53563f(0x201)]}),delete _0x303d24[_0x53563f(0x63a)][_0x53563f(0xa50)])),_0x303d24[_0x53563f(0x17e)]&&_0x40ba00['push']('audio');}else _0x40ba00=this['getAvailableTrackKinds']();this[_0x53563f(0x88f)](_0x40ba00)||(_0x40ba00[_0x53563f(0x2cb)](_0x57c211=>this['subscribedTracks'][_0x53563f(0x9b5)](_0x57c211)),this[_0x53563f(0x87d)]['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x53563f(0xa48)],'content':{'type':_0x4ef04d[_0x53563f(0xa75)],'label':this[_0x53563f(0x8f4)],'ownerId':this['owner'][_0x53563f(0x78a)](),'trackKinds':_0x40ba00,'params':_0x303d24}}),_0x4826cd[_0x53563f(0x481)](_0x512f56[_0x53563f(0x49f)],{'type':'subscribe','label':this[_0x53563f(0x8f4)],'nodeId':this['localNode'][_0x53563f(0x78a)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x53563f(0x494)],'sourceId':this['owner']['getId'](),'streamId':this[_0x53563f(0x7c0)],'trackKinds':_0x40ba00}));}[_0x178721(0x768)](_0x2af292){const _0xdd2225=_0x178721;try{(0x0,_0x12ff66['isValidMediaSubscriptionParams'])(_0x2af292);}catch(_0x4b4bde){throw new _0x1c9a4(_0x58f0d1[_0xdd2225(0xa73)],'Invalid\x20params');}this['updateDebounce']&&clearTimeout(this[_0xdd2225(0x885)]),this['updateDebounce']=setTimeout(()=>{const _0x54d160=_0xdd2225;delete this[_0x54d160(0x885)],this[_0x54d160(0x87d)][_0x54d160(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x54d160(0xa48)],'content':{'type':_0x4ef04d['UpdateMediaStream'],'label':this['label'],'ownerId':this[_0x54d160(0x196)][_0x54d160(0x78a)](),'params':_0x2af292}});},0x1f4);}[_0x178721(0x90e)](_0x51ea19){const _0x586fed=_0x178721;_0x51ea19||(_0x51ea19=this['getAvailableTrackKinds']()),(_0x51ea19=Array[_0x586fed(0x986)](_0x51ea19)?_0x51ea19:[_0x51ea19])[_0x586fed(0x2cb)](_0x49a3d2=>this['subscribedTracks'][_0x586fed(0xa66)](_0x49a3d2)),this['systemTopic'][_0x586fed(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x586fed(0xa48)],'content':{'type':_0x4ef04d[_0x586fed(0x23b)],'label':this[_0x586fed(0x8f4)],'ownerId':this[_0x586fed(0x196)][_0x586fed(0x78a)](),'trackKinds':_0x51ea19,'remainingTracks':this[_0x586fed(0x1e8)][_0x586fed(0x3e6)]}});}[_0x178721(0x280)](_0x29a958){const _0x190097=_0x178721;return this[_0x190097(0x326)][_0x190097(0x1c5)](_0x29a958);}[_0x178721(0x72c)](){const _0x1e5c24=_0x178721;return this[_0x1e5c24(0x2ce)];}[_0x178721(0x672)](_0x50852c){const _0x2917b1=_0x178721;this[_0x2917b1(0x2ce)]!==_0x50852c&&(this['providerId']=_0x50852c,this[_0x2917b1(0x326)][_0x2917b1(0xa83)](_0x50852c));}['unsubscribeTrackEndedListener'](_0x479b12){const _0xf4a8f6=_0x178721;this[_0xf4a8f6(0x769)]['get'](_0x479b12)?.(),this[_0xf4a8f6(0x769)]['delete'](_0x479b12);}[_0x178721(0x63f)](_0x35da92){const _0x105103=_0x178721,_0x5c6ce0=this[_0x105103(0xa8a)][_0x105103(0x822)]()[_0x105103(0x940)](_0x3381c5=>_0x3381c5[_0x105103(0x6cb)]===_0x35da92);_0x5c6ce0&&(this['mediaStream'][_0x105103(0x63f)](_0x5c6ce0),this['outgoingStreams'][_0x105103(0x2cb)](_0x35c4e5=>_0x35c4e5[_0x105103(0x63f)](_0x35da92)),this[_0x105103(0x769)][_0x105103(0x603)](_0x35da92)?.());}[_0x178721(0x96c)](){const _0x117233=_0x178721;this[_0x117233(0xa50)]&&(this['renderElement'][_0x117233(0x4d9)]&&this[_0x117233(0xa50)][_0x117233(0x4d9)]===this['mediaStream']||(this['renderElement'][_0x117233(0x4d9)]=this[_0x117233(0xa8a)]));}[_0x178721(0x546)](){const _0xb9b008=_0x178721;if(this[_0xb9b008(0xa50)]&&!this['resizeHandler']&&_0xb9b008(0x2ed)!=typeof ResizeObserver){let _0x404f0a=this[_0xb9b008(0xa50)]['clientWidth'],_0x5da580=this['renderElement']['clientHeight'];const _0x3a0dc9=new ResizeObserver(_0x1a7b15=>{const _0x248ae4=_0xb9b008,{width:_0x4bfa61,height:_0x135f50}=_0x1a7b15[0x0][_0x248ae4(0x51f)];_0x404f0a===_0x4bfa61&&_0x5da580===_0x135f50||(_0x404f0a=Math[_0x248ae4(0x444)](_0x4bfa61),_0x5da580=Math[_0x248ae4(0x444)](_0x135f50),this['update']({'video':{'maxResolution':{'width':_0x4bfa61,'height':_0x135f50}}}));});_0x3a0dc9[_0xb9b008(0x1fa)](this['renderElement']),this[_0xb9b008(0x4f0)]=()=>_0x3a0dc9[_0xb9b008(0x241)]();}}[_0x178721(0x490)](_0x42e0bb){const _0x45256e=_0x178721,_0x3712d1=[];for(const _0x4c596b of this[_0x45256e(0x1e8)])this['removeTrack'](_0x4c596b),_0x3712d1[_0x45256e(0x77b)](_0x4c596b);this['providerId']&&this['systemTopic']['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x45256e(0xa48)],'content':{'type':_0x4ef04d['RemoteMediaStreamTrackFail'],'label':this['label'],'streamId':this['internalId'],'ownerId':this[_0x45256e(0x196)][_0x45256e(0x78a)](),'providerId':this[_0x45256e(0x2ce)],'trackKinds':_0x3712d1}});}[_0x178721(0x4bf)](_0x47d6ef){const _0x743572=_0x178721,_0x1d40f9=()=>this[_0x743572(0x490)](_0x47d6ef);_0x47d6ef[_0x743572(0x3a3)]('ended',_0x1d40f9),_0x47d6ef[_0x743572(0x3a3)]('mute',_0x1d40f9),this[_0x743572(0x769)][_0x743572(0x5f0)](_0x47d6ef[_0x743572(0x6cb)],()=>{const _0x4722e5=_0x743572;_0x47d6ef[_0x4722e5(0x4a3)]('ended',_0x1d40f9),_0x47d6ef['removeEventListener'](_0x4722e5(0x3dc),_0x1d40f9),this[_0x4722e5(0x769)]['delete'](_0x47d6ef['kind']);});}}class _0x17398c extends _0x253fab{['localNode'];['clusterId'];['vendorId'];['db'];[_0x178721(0x605)];['writes']=0x0;[_0x178721(0x95a)]=0x0;[_0x178721(0x648)]=!0x1;constructor(_0x1238f7,_0x465c57,_0x105b8c,_0x4f51a0,_0x50e60a){const _0x3d1cb5=_0x178721;if('string'!=typeof _0x465c57)throw new _0x1c9a4(_0x58f0d1[_0x3d1cb5(0x87c)],_0x3d1cb5(0x2cc));super(_0x1238f7,_0x465c57),this[_0x3d1cb5(0x31a)]=_0x1238f7,this['clusterId']=_0x105b8c,this[_0x3d1cb5(0x92c)]=_0x4f51a0;const _0x56b393=_0x3d1cb5(0x742)+this[_0x3d1cb5(0x92c)]+_0x3d1cb5(0x742)+this[_0x3d1cb5(0x494)]+'ccc'+this[_0x3d1cb5(0x8f4)];this['db']=new _0x50e60a(_0x56b393),this['sendStats']();}[_0x178721(0xa70)](){const _0x3ca301=_0x178721;return this[_0x3ca301(0x648)];}[_0x178721(0x94d)](_0x57c45a){this['isLoaded']=_0x57c45a;}[_0x178721(0x4c1)](){const _0x16a1ca=_0x178721;clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x16a1ca(0x4c1)]();}['close'](){const _0x3227a7=_0x178721;this[_0x3227a7(0x87d)][_0x3227a7(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x3227a7(0xa48)],'content':{'type':_0x4ef04d[_0x3227a7(0x2c1)],'label':this[_0x3227a7(0x8f4)]}});}[_0x178721(0x6ea)](){this['sendStats']();}[_0x178721(0x79e)](){const _0x470eae=_0x178721;return _0x12ff66[_0x470eae(0x66a)][_0x470eae(0x262)];}[_0x178721(0x6e7)](_0xa26f8,_0x473c5e,_0x2ffec8,_0x162312){const _0x456d9f=_0x178721,_0x5997e9=this['db'][_0x456d9f(0x6e7)](_0xa26f8,_0x473c5e,_0x2ffec8,_0x162312);return this[_0x456d9f(0x95a)]+=0x1,_0x4826cd[_0x456d9f(0x481)](_0x512f56['VectorDatabase'],{'type':_0x456d9f(0x6e7),'label':this[_0x456d9f(0x8f4)],'nodeId':this[_0x456d9f(0x31a)][_0x456d9f(0x78a)](),'nodeType':this[_0x456d9f(0x31a)][_0x456d9f(0x43f)],'clusterId':this[_0x456d9f(0x494)],'size':0x0}),this[_0x456d9f(0x88e)](),_0x5997e9;}[_0x178721(0x726)](_0x58f17e,_0x247d45,_0x92a612,_0x14f419){const _0x3c00e7=_0x178721;this['db']['insert'](_0x58f17e,_0x247d45,_0x92a612,_0x14f419),this[_0x3c00e7(0x8ef)]+=0x1,_0x4826cd['logServiceEvent'](_0x512f56[_0x3c00e7(0x262)],{'type':_0x3c00e7(0x726),'label':this[_0x3c00e7(0x8f4)],'nodeId':this['localNode'][_0x3c00e7(0x78a)](),'nodeType':this[_0x3c00e7(0x31a)][_0x3c00e7(0x43f)],'clusterId':this[_0x3c00e7(0x494)],'size':_0x14f419[_0x3c00e7(0x41b)]((_0x4e8a7a,_0x2e767a)=>_0x4e8a7a+_0x2e767a[_0x3c00e7(0x3f4)],0x0)}),this[_0x3c00e7(0x88e)]();}[_0x178721(0x38d)](_0xa62501){const _0x45f4a4=_0x178721;this['db'][_0x45f4a4(0x38d)](_0xa62501),this[_0x45f4a4(0x8ef)]+=0x1,_0x4826cd[_0x45f4a4(0x481)](_0x512f56['VectorDatabase'],{'type':_0x45f4a4(0x38d),'label':this[_0x45f4a4(0x8f4)],'nodeId':this[_0x45f4a4(0x31a)]['getId'](),'nodeType':this[_0x45f4a4(0x31a)][_0x45f4a4(0x43f)],'clusterId':this[_0x45f4a4(0x494)],'size':0x0}),this['sendStats']();}[_0x178721(0x4e8)](_0x2b11a0){const _0x2d78b9=_0x178721;this['db'][_0x2d78b9(0x4e8)](_0x2b11a0);}[_0x178721(0x5b9)](_0x32a248){const _0x50d61d=_0x178721;this['db'][_0x50d61d(0x5b9)](_0x32a248);}[_0x178721(0x88e)](){const _0xaaeec8=_0x178721;this['debounceStats']&&clearTimeout(this[_0xaaeec8(0x605)]),this['debounceStats']=setTimeout(async()=>{const _0x218dd2=_0xaaeec8;delete this[_0x218dd2(0x605)];const _0x59b8f7=this['db'][_0x218dd2(0xaa4)]()[_0x218dd2(0x7f8)];this[_0x218dd2(0x87d)][_0x218dd2(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x218dd2(0xa48)],'content':{'type':_0x4ef04d[_0x218dd2(0x25c)],'label':this[_0x218dd2(0x8f4)],'stats':{'timestamp':Date['now'](),'storage':_0x59b8f7,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x218dd2(0x608)],'bytesReceived':this[_0x218dd2(0x6fb)],'writes':this[_0x218dd2(0x8ef)],'reads':this[_0x218dd2(0x95a)],'prompts':0x0,'tokens':0x0}}}),_0x4826cd[_0x218dd2(0x606)](_0x512f56[_0x218dd2(0x262)],'ccc'+this['clusterId']+'ccc'+this[_0x218dd2(0x8f4)],_0x59b8f7);},_0x3c1ede);}}class _0x33c231{['id'];['remoteConnections'];['rank'];constructor(_0x13b08,_0x521b18=new Set(),_0x587356){const _0x15231b=_0x178721;this['id']=_0x13b08,this[_0x15231b(0x6a1)]=_0x521b18,this[_0x15231b(0x4b8)]=_0x587356;}[_0x178721(0x3d8)](){const _0xc0ad3d=_0x178721;this[_0xc0ad3d(0x4b8)]=void 0x0,this[_0xc0ad3d(0x6a1)][_0xc0ad3d(0x6f1)]();}[_0x178721(0x78a)](){return this['id'];}[_0x178721(0x9ec)](){const _0x2d2fc5=_0x178721;return this[_0x2d2fc5(0x4b8)];}['getRemoteConnections'](){const _0xf0435e=_0x178721;return this[_0xf0435e(0x6a1)];}}class _0x14f1d2 extends _0x33c231{['id'];[_0x178721(0x63d)];[_0x178721(0x7d6)];[_0x178721(0x6a1)];[_0x178721(0x4b8)];[_0x178721(0x43f)]=_0x12ff66[_0x178721(0x8ee)][_0x178721(0x1e2)];constructor(_0x7c28eb,_0x38da13,_0x6faba0,_0x42828c=new Set(),_0x4866b8){const _0x181d9d=_0x178721;super(_0x7c28eb,_0x42828c,_0x4866b8),this['id']=_0x7c28eb,this[_0x181d9d(0x63d)]=_0x38da13,this[_0x181d9d(0x7d6)]=_0x6faba0,this[_0x181d9d(0x6a1)]=_0x42828c,this[_0x181d9d(0x4b8)]=_0x4866b8;}['getDisplayName'](){const _0x3f9cba=_0x178721;return this[_0x3f9cba(0x63d)];}[_0x178721(0x238)](){return this['email'];}}class _0x5127ae{[_0x178721(0x92c)];[_0x178721(0x494)];['clusterKey'];constructor(_0x3232fa,_0x36caf3){const _0x1b6464=_0x178721;this['vendorId']=_0x3232fa,this['clusterId']=_0x36caf3,this[_0x1b6464(0x2c7)]='ccc'+this[_0x1b6464(0x92c)]+_0x1b6464(0x742)+this[_0x1b6464(0x494)];}async[_0x178721(0x8d0)](_0x2c40e2,_0x49eae4){const _0x5b3b84=_0x178721,_0x506f6d=(0x0,_0xe83236[_0x5b3b84(0x1a3)])(_0x4a9fc2[_0x5b3b84(0x722)](),_0x5b3b84(0x343)+this[_0x5b3b84(0x2c7)]+_0x5b3b84(0x6c0)+_0x49eae4+_0x5b3b84(0x184)+_0x2c40e2['id']),_0x38e8b6=(0x0,_0xe83236['onDisconnect'])(_0x506f6d);_0x38e8b6[_0x5b3b84(0x38d)](),_0x2c40e2[_0x5b3b84(0x362)]||delete _0x2c40e2[_0x5b3b84(0x362)];try{await(0x0,_0xe83236['set'])(_0x506f6d,_0x2c40e2);}catch(_0x5b844c){throw await _0x38e8b6[_0x5b3b84(0x83b)](),new _0x5953b5(_0x5953b5[_0x5b3b84(0x913)][_0x5b3b84(0x696)]);}if(!0x1===(await(0x0,_0xe83236[_0x5b3b84(0x91a)])((0x0,_0xe83236['ref'])(_0x4a9fc2[_0x5b3b84(0x722)](),'clusters/'+this[_0x5b3b84(0x2c7)]+_0x5b3b84(0x6c0)+_0x49eae4+_0x5b3b84(0x6bc)),_0x5f5849=>_0x5f5849?_0x5f5849===_0x2c40e2[_0x5b3b84(0x362)]?_0x2c40e2['id']:void 0x0:_0x2c40e2[_0x5b3b84(0x362)]?_0x2c40e2['parentId']:_0x2c40e2['id']))[_0x5b3b84(0x869)])throw await(0x0,_0xe83236[_0x5b3b84(0x38d)])(_0x506f6d),await _0x38e8b6[_0x5b3b84(0x83b)](),new _0x5953b5(_0x5953b5[_0x5b3b84(0x913)][_0x5b3b84(0xa6f)]);await _0x38e8b6['cancel']();}async['getTransactions'](_0x47c01f,_0x5158dc){const _0x43f5f3=_0x178721;let _0x120ec0=[];const _0x5f0e29=(0x0,_0xe83236[_0x43f5f3(0x1a3)])(_0x4a9fc2[_0x43f5f3(0x722)](),_0x43f5f3(0x343)+this[_0x43f5f3(0x2c7)]+_0x43f5f3(0x6c0)+_0x47c01f+_0x43f5f3(0x5bc));let _0x287169=await(0x0,_0xe83236['get'])((0x0,_0xe83236[_0x43f5f3(0x698)])(_0x5f0e29,(0x0,_0xe83236[_0x43f5f3(0xa56)])(0x65),(0x0,_0xe83236[_0x43f5f3(0x6f9)])()));if(!_0x287169[_0x43f5f3(0xa87)]()){if(void 0x0!==_0x5158dc)throw new _0x5953b5(_0x5953b5['codes'][_0x43f5f3(0x829)]);return _0x120ec0;}const _0x527739=_0x287169[_0x43f5f3(0x687)]();for(;Object[_0x43f5f3(0x89f)](_0x287169['val']())[_0x43f5f3(0x3f4)]>0x64;){const _0x3b2045=Object['keys'](_0x287169['val']()),_0x4bac3d=_0x3b2045[_0x3b2045[_0x43f5f3(0x3f4)]-0x1];_0x287169=await(0x0,_0xe83236[_0x43f5f3(0x603)])((0x0,_0xe83236[_0x43f5f3(0x698)])(_0x5f0e29,(0x0,_0xe83236['limitToFirst'])(0x65),(0x0,_0xe83236[_0x43f5f3(0x671)])(_0x4bac3d),(0x0,_0xe83236['orderByKey'])())),Object[_0x43f5f3(0x3bd)](_0x527739,_0x287169[_0x43f5f3(0x687)]());}if(_0x120ec0=Object[_0x43f5f3(0x9b0)](_0x527739)[_0x43f5f3(0x434)](_0x320f6c=>_0x43f5f3(0x6a8)!=typeof _0x320f6c),0x0===_0x120ec0[_0x43f5f3(0x3f4)]&&void 0x0!==_0x5158dc)throw new _0x5953b5(_0x5953b5['codes']['ObjectStoreInvalidState']);if(_0x120ec0['length']>0x0&&void 0x0!==_0x5158dc&&!_0x120ec0[_0x43f5f3(0x940)](_0x7f8ccf=>_0x7f8ccf['id']===_0x5158dc))throw new _0x5953b5(_0x5953b5['codes'][_0x43f5f3(0x829)]);const _0x7cb6a4=[];let _0x13f324=_0x120ec0[_0x43f5f3(0x940)](_0x3db27e=>_0x3db27e[_0x43f5f3(0x362)]===_0x5158dc);for(;_0x13f324;)_0x7cb6a4[_0x43f5f3(0x77b)](_0x13f324),_0x13f324=_0x120ec0[_0x43f5f3(0x940)](_0xfa43c5=>_0xfa43c5[_0x43f5f3(0x362)]===_0x13f324['id']);return _0x7cb6a4;}}class _0x308c9b{[_0x178721(0x430)];[_0x178721(0x668)];[_0x178721(0x3de)];['aiSearchApiKey'];[_0x178721(0x60d)]=new Map();[_0x178721(0x9b8)]=new Map();['pubSubTopics']=new Map();[_0x178721(0x7e9)]=new Map();['externalStorageConnections']=new Map();['keyValueDatabases']=new Map();['vectorDatabases']=new Map();[_0x178721(0x16e)]=new Map();['jobDispatchers']=new Map();[_0x178721(0x5f3)]=new Map();[_0x178721(0x53c)];constructor(_0x30715c,_0x356073,_0xd75b8,_0x1842c7){const _0x4fc498=_0x178721;this[_0x4fc498(0x430)]=_0x30715c,this[_0x4fc498(0x668)]=_0x356073,this['searchApiKey']=_0xd75b8,this[_0x4fc498(0x6ed)]=_0x1842c7,this[_0x4fc498(0x53c)]=new _0x5127ae(this[_0x4fc498(0x430)][_0x4fc498(0x92c)],this[_0x4fc498(0x430)][_0x4fc498(0x494)]);}[_0x178721(0x3d8)](_0x59551a=!0x1){const _0x21d141=_0x178721;this['remoteMediaStreams'][_0x21d141(0x2cb)]((_0x2b39f9,_0xe59400)=>{_0x2b39f9['forEach']((_0x319f48,_0x4b65ee)=>{const _0x11096f=a0_0x5e71;this[_0x11096f(0x4e3)](_0xe59400,_0x4b65ee);});}),_0x59551a||(_0x18bcfb[_0x21d141(0x6f1)](),this[_0x21d141(0x60d)][_0x21d141(0x2cb)]((_0x234885,_0x284fd8)=>{const _0x22462a=_0x21d141;this[_0x22462a(0x404)](_0x284fd8);}),this[_0x21d141(0x1f7)][_0x21d141(0x2cb)]((_0x5c4769,_0x1cd0e1)=>{const _0x486c72=_0x21d141;this[_0x486c72(0x23e)](_0x1cd0e1);}),this[_0x21d141(0x7e9)][_0x21d141(0x2cb)]((_0x1e487a,_0x396ad1)=>{this['removeObjectStore'](_0x396ad1);}),this[_0x21d141(0x50c)][_0x21d141(0x2cb)]((_0x1c19aa,_0x1c25d3)=>{const _0x51d486=_0x21d141;this[_0x51d486(0x4b4)](_0x1c25d3);}),this[_0x21d141(0x375)]['forEach']((_0x1cf25c,_0xf39d18)=>{this['removeKeyValueDatabase'](_0xf39d18);}),this['jobDispatchers'][_0x21d141(0x2cb)]((_0x170cd3,_0x9e228)=>{const _0x1f05fa=_0x21d141;this[_0x1f05fa(0x507)](_0x9e228);}),this['jobWorkers']['forEach']((_0x5a9180,_0x300911)=>{this['removeJobWorker'](_0x300911);}),this[_0x21d141(0x407)][_0x21d141(0x2cb)]((_0x319df1,_0x4e7bfa)=>{const _0x291003=_0x21d141;this[_0x291003(0x3a6)](_0x4e7bfa);}),this[_0x21d141(0x16e)][_0x21d141(0x2cb)]((_0x280d34,_0x18c7ac)=>{const _0x1efe9b=_0x21d141;this[_0x1efe9b(0x20b)](_0x18c7ac);}));}[_0x178721(0x356)](_0x29c07e,_0x8326,_0x3006fe){const _0x1cf559=_0x178721;if(this['objectStores'][_0x1cf559(0x4a6)](_0x29c07e))throw new _0x1c9a4(_0x58f0d1[_0x1cf559(0x29c)],_0x1cf559(0x84d));const _0x5f2f74=new _0x392138(this[_0x1cf559(0x430)]['localNode'],_0x29c07e,this[_0x1cf559(0x430)][_0x1cf559(0x494)],this[_0x1cf559(0x430)][_0x1cf559(0x92c)],this[_0x1cf559(0x53c)],_0x8326,()=>this[_0x1cf559(0x430)][_0x1cf559(0x2f0)][_0x1cf559(0x9a6)](),_0x3006fe);return this[_0x1cf559(0x7e9)][_0x1cf559(0x5f0)](_0x29c07e,_0x5f2f74),this[_0x1cf559(0x430)][_0x1cf559(0x2f0)][_0x1cf559(0x81a)](_0x5f2f74),_0x5f2f74;}[_0x178721(0x770)](_0x24ecf7,_0x28e55b){const _0x4b3f9d=_0x178721;if(this['objectStores'][_0x4b3f9d(0x4a6)](_0x24ecf7))throw new _0x1c9a4(_0x58f0d1[_0x4b3f9d(0x568)],_0x4b3f9d(0x797));const _0x22b762=new _0x1af9de(this['configs'][_0x4b3f9d(0x31a)],_0x24ecf7,this[_0x4b3f9d(0x430)]['clusterId'],this[_0x4b3f9d(0x430)][_0x4b3f9d(0x92c)],_0x28e55b);return this[_0x4b3f9d(0x50c)][_0x4b3f9d(0x5f0)](_0x24ecf7,_0x22b762),this[_0x4b3f9d(0x430)][_0x4b3f9d(0x2f0)][_0x4b3f9d(0x81a)](_0x22b762),_0x22b762;}async[_0x178721(0x418)](_0x4298ea,_0x101a9d,_0x2e2360){const _0x2564c6=_0x178721;if(this[_0x2564c6(0x375)][_0x2564c6(0x4a6)](_0x4298ea))throw new _0x1c9a4(_0x58f0d1[_0x2564c6(0x85f)],_0x2564c6(0x95b));try{const _0x3ce771=this[_0x2564c6(0x430)][_0x2564c6(0x2f0)][_0x2564c6(0x59f)][_0x2564c6(0x428)](this[_0x2564c6(0x430)]['mediator']),_0x591630=new _0x13a537(this[_0x2564c6(0x430)][_0x2564c6(0x31a)],_0x4298ea,this[_0x2564c6(0x430)]['clusterId'],this[_0x2564c6(0x430)]['vendorId'],_0x101a9d,_0x2e2360,_0x3ce771);return this[_0x2564c6(0x375)][_0x2564c6(0x5f0)](_0x4298ea,_0x591630),this[_0x2564c6(0x430)][_0x2564c6(0x2f0)][_0x2564c6(0x81a)](_0x591630),_0x591630;}catch(_0xcab18f){if(_0xcab18f instanceof _0x1c9a4)throw _0xcab18f;throw new _0x5953b5(_0x5953b5[_0x2564c6(0x913)][_0x2564c6(0x544)],{'label':_0x4298ea,'clusterId':this[_0x2564c6(0x430)]['clusterId'],'vendorId':this[_0x2564c6(0x430)]['vendorId']});}}async['createJobDispatcher'](_0x5b1411,_0x4b4de2){const _0x30b000=_0x178721;if(this[_0x30b000(0x1f5)][_0x30b000(0x4a6)](_0x5b1411))throw new _0x1c9a4(_0x58f0d1['JobDispatcherAlreadyExists'],'Job\x20Dispatcher\x20already\x20exists');try{const _0x124cfa=new _0xe5f687(this['configs']['localNode'],_0x5b1411,_0x4b4de2);return this[_0x30b000(0x1f5)][_0x30b000(0x5f0)](_0x5b1411,_0x124cfa),this[_0x30b000(0x430)]['mediator'][_0x30b000(0x81a)](_0x124cfa),_0x124cfa;}catch(_0x4a7e2d){if(_0x4a7e2d instanceof _0x1c9a4)throw _0x4a7e2d;throw new _0x5953b5(_0x5953b5[_0x30b000(0x913)][_0x30b000(0xa15)],{'label':_0x5b1411,'clusterId':this['configs'][_0x30b000(0x494)],'vendorId':this[_0x30b000(0x430)][_0x30b000(0x92c)]});}}async[_0x178721(0x92e)](_0x1335a3,_0x451d9b){const _0x42dcf7=_0x178721;if(this['jobDispatchers'][_0x42dcf7(0x4a6)](_0x1335a3))throw new _0x1c9a4(_0x58f0d1['GenerativeAIContextAlreadyExists'],_0x42dcf7(0xaa2));if(this[_0x42dcf7(0x5f3)][_0x42dcf7(0x4a6)](_0x1335a3))throw new _0x1c9a4(_0x58f0d1[_0x42dcf7(0x88c)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x1316b4=new _0x139f09(this[_0x42dcf7(0x430)][_0x42dcf7(0x31a)],_0x1335a3,this[_0x42dcf7(0x430)][_0x42dcf7(0x92c)],_0x451d9b);return this[_0x42dcf7(0x1f5)][_0x42dcf7(0x5f0)](_0x1335a3,_0x1316b4),this[_0x42dcf7(0x430)][_0x42dcf7(0x2f0)][_0x42dcf7(0x81a)](_0x1316b4),_0x1316b4;}catch(_0x1785d8){if(_0x1785d8 instanceof _0x1c9a4)throw _0x1785d8;throw new _0x5953b5(_0x5953b5['codes'][_0x42dcf7(0x73c)],{'label':_0x1335a3,'clusterId':this['configs'][_0x42dcf7(0x494)],'vendorId':this[_0x42dcf7(0x430)][_0x42dcf7(0x92c)]});}}async['createGenerativeAIWorker'](_0x10939f,_0x3a50f1,_0x5743a0,_0x50ffaa,_0x10316a,_0x359e1d,_0x1cc46d){const _0x5794a0=_0x178721;if(this['jobWorkers'][_0x5794a0(0x4a6)](_0x10939f))throw new _0x1c9a4(_0x58f0d1[_0x5794a0(0x5d2)],'AI\x20Worker\x20already\x20exists');if(this[_0x5794a0(0x1f5)][_0x5794a0(0x4a6)](_0x10939f))throw new _0x1c9a4(_0x58f0d1[_0x5794a0(0x88c)],_0x5794a0(0x187));try{const _0x406bd1=new _0x4a4c61(this[_0x5794a0(0x430)][_0x5794a0(0x31a)],_0x10939f,this[_0x5794a0(0x430)][_0x5794a0(0x92c)],_0x3a50f1,this,_0x5743a0,_0x50ffaa,_0x10316a,this[_0x5794a0(0x3de)],this['aiSearchApiKey'],_0x359e1d,_0x1cc46d);return this['jobWorkers'][_0x5794a0(0x5f0)](_0x10939f,_0x406bd1),this[_0x5794a0(0x430)][_0x5794a0(0x2f0)][_0x5794a0(0x81a)](_0x406bd1),_0x406bd1;}catch(_0x1b0177){if(_0x1b0177 instanceof _0x1c9a4)throw _0x1b0177;throw new _0x5953b5(_0x5953b5['codes']['GenerativeAIWorkerCreationFailed'],{'label':_0x10939f,'clusterId':this['configs'][_0x5794a0(0x494)],'vendorId':this[_0x5794a0(0x430)][_0x5794a0(0x92c)]});}}['createGraphDatabase'](_0x56cb1f,_0x4f43cd){const _0xe730f5=_0x178721;if(this[_0xe730f5(0x16e)][_0xe730f5(0x4a6)](_0x56cb1f))throw new _0x1c9a4(_0x58f0d1[_0xe730f5(0xa91)],_0xe730f5(0x95b));try{const _0x2bff35=new _0x3498db(this['configs']['localNode'],_0x56cb1f,this[_0xe730f5(0x430)][_0xe730f5(0x494)],this[_0xe730f5(0x430)][_0xe730f5(0x92c)],_0x4f43cd);return this[_0xe730f5(0x16e)]['set'](_0x56cb1f,_0x2bff35),this[_0xe730f5(0x430)][_0xe730f5(0x2f0)]['registerSystemSource'](_0x2bff35),_0x2bff35;}catch(_0x341df6){if(_0x341df6 instanceof _0x1c9a4)throw _0x341df6;throw new _0x5953b5(_0x5953b5['codes']['GraphDatabaseCreationFailed'],{'label':_0x56cb1f,'clusterId':this['configs'][_0xe730f5(0x494)],'vendorId':this['configs'][_0xe730f5(0x92c)]});}}[_0x178721(0x510)](_0x47f22b,_0x43a553){const _0x28f51f=_0x178721;if(this['localMediaStreams'][_0x28f51f(0x4a6)](_0x47f22b))throw new _0x1c9a4(_0x58f0d1[_0x28f51f(0x831)],_0x28f51f(0x4fa));if(!this[_0x28f51f(0x668)][_0x28f51f(0xa60)])throw new _0x1c9a4(_0x58f0d1[_0x28f51f(0x422)],'AudioContext\x20is\x20not\x20available');const _0x4e199e=new _0x551d1c(this[_0x28f51f(0x430)]['localNode'],_0x47f22b,_0x43a553,this[_0x28f51f(0x668)][_0x28f51f(0x611)],this['options'][_0x28f51f(0xa60)],this[_0x28f51f(0x430)][_0x28f51f(0x494)]);return this['localMediaStreams'][_0x28f51f(0x5f0)](_0x47f22b,_0x4e199e),this[_0x28f51f(0x430)][_0x28f51f(0x2f0)][_0x28f51f(0x81a)](_0x4e199e),_0x4e199e[_0x28f51f(0xa83)](),_0x4e199e;}[_0x178721(0x4f9)](_0x1c9174,_0x4b670b){const _0x2b58d9=_0x178721;if(this[_0x2b58d9(0x60d)]['has'](_0x1c9174))throw new _0x1c9a4(_0x58f0d1['LocalMediaStreamAlreadyExists'],_0x2b58d9(0x383));const _0x4a68fb=new _0x50eee5(this['configs'][_0x2b58d9(0x31a)],_0x1c9174,_0x4b670b,this[_0x2b58d9(0x430)]['clusterId']);return this['localMediaStreams'][_0x2b58d9(0x5f0)](_0x1c9174,_0x4a68fb),this[_0x2b58d9(0x430)][_0x2b58d9(0x2f0)][_0x2b58d9(0x81a)](_0x4a68fb),_0x4a68fb[_0x2b58d9(0xa83)](),_0x4a68fb;}['createPubSubTopic'](_0x1fc65d){const _0xe34108=_0x178721;if(this[_0xe34108(0x1f7)][_0xe34108(0x4a6)](_0x1fc65d))throw new _0x1c9a4(_0x58f0d1[_0xe34108(0x63c)],_0xe34108(0x3a8));const _0x9ebb24=new _0x534a50(this['configs'][_0xe34108(0x31a)],_0x1fc65d,this[_0xe34108(0x430)][_0xe34108(0x494)]);return this['pubSubTopics'][_0xe34108(0x5f0)](_0x1fc65d,_0x9ebb24),this[_0xe34108(0x430)][_0xe34108(0x2f0)]['registerSystemSource'](_0x9ebb24),_0x9ebb24;}[_0x178721(0x229)](_0x18ef03,_0x22f173,_0x4a637a,_0x180cec){const _0xe72de8=_0x178721;this[_0xe72de8(0x9b8)][_0xe72de8(0x4a6)](_0x18ef03)||this[_0xe72de8(0x9b8)][_0xe72de8(0x5f0)](_0x18ef03,new Map());const _0xbb7a27=this['remoteMediaStreams'][_0xe72de8(0x603)](_0x18ef03);if(_0xbb7a27[_0xe72de8(0x4a6)](_0x22f173))throw new _0x1c9a4(_0x58f0d1[_0xe72de8(0x369)],'Remote\x20MediaStream\x20already\x20exists');const _0x2db801=new _0x14f1d2(_0x18ef03,'',''),_0x4ae164=new _0x5ec9a3(this[_0xe72de8(0x430)]['localNode'],_0x2db801,_0x22f173,_0x4a637a,_0x180cec,this['configs'][_0xe72de8(0x494)]);return _0xbb7a27['set'](_0x22f173,_0x4ae164),this[_0xe72de8(0x430)][_0xe72de8(0x2f0)]['registerSystemSource'](_0x4ae164),_0x4ae164;}['createVectorDatabase'](_0x5ba3e0,_0x1115f2){const _0x28cb5d=_0x178721;if(this[_0x28cb5d(0x407)][_0x28cb5d(0x4a6)](_0x5ba3e0))throw new _0x1c9a4(_0x58f0d1[_0x28cb5d(0x709)],_0x28cb5d(0x95b));try{const _0x4b40a8=new _0x17398c(this[_0x28cb5d(0x430)]['localNode'],_0x5ba3e0,this[_0x28cb5d(0x430)][_0x28cb5d(0x494)],this[_0x28cb5d(0x430)]['vendorId'],_0x1115f2);return this[_0x28cb5d(0x407)][_0x28cb5d(0x5f0)](_0x5ba3e0,_0x4b40a8),this[_0x28cb5d(0x430)][_0x28cb5d(0x2f0)][_0x28cb5d(0x81a)](_0x4b40a8),_0x4b40a8;}catch(_0xda2f19){if(_0xda2f19 instanceof _0x1c9a4)throw _0xda2f19;throw new _0x5953b5(_0x5953b5[_0x28cb5d(0x913)]['VectorDatabaseCreationFailed'],{'label':_0x5ba3e0,'clusterId':this[_0x28cb5d(0x430)]['clusterId'],'vendorId':this[_0x28cb5d(0x430)]['vendorId']});}}['getObjectStoreBuckets'](_0x45d9c1){const _0x15432e=_0x178721,_0x3ad838=Array['from'](this[_0x15432e(0x7e9)]['values']());return _0x45d9c1?_0x3ad838[_0x15432e(0x434)](_0x45d9c1):_0x3ad838;}[_0x178721(0x506)](_0x5cb5ea){const _0x14998f=_0x178721,_0x5adee4=Array[_0x14998f(0x3ac)](this[_0x14998f(0x50c)]['values']());return _0x5cb5ea?_0x5adee4[_0x14998f(0x434)](_0x5cb5ea):_0x5adee4;}[_0x178721(0x5b5)](_0xe9f4ad){const _0x35c877=_0x178721,_0xd6cf34=Array['from'](this[_0x35c877(0x375)]['values']());return _0xe9f4ad?_0xd6cf34[_0x35c877(0x434)](_0xe9f4ad):_0xd6cf34;}[_0x178721(0x9b2)](_0x2684fc){const _0x6a35e2=_0x178721,_0x5aa917=Array['from'](this['jobDispatchers'][_0x6a35e2(0x9b0)]());return _0x2684fc?_0x5aa917[_0x6a35e2(0x434)](_0x2684fc):_0x5aa917;}[_0x178721(0x683)](_0x2f5694){const _0x529699=_0x178721,_0x51bfda=Array['from'](this[_0x529699(0x5f3)][_0x529699(0x9b0)]());return _0x2f5694?_0x51bfda[_0x529699(0x434)](_0x2f5694):_0x51bfda;}['getGenerativeAIContexts'](_0x45a6fa){const _0x43dde1=_0x178721,_0x3e74e2=Array[_0x43dde1(0x3ac)](this[_0x43dde1(0x1f5)]['values']())[_0x43dde1(0x434)](_0x396204=>_0x396204 instanceof _0x139f09);return _0x45a6fa?_0x3e74e2[_0x43dde1(0x434)](_0x45a6fa):_0x3e74e2;}[_0x178721(0x207)](_0x3484a9){const _0x1cb3f4=_0x178721,_0x3cca32=Array[_0x1cb3f4(0x3ac)](this[_0x1cb3f4(0x5f3)][_0x1cb3f4(0x9b0)]())[_0x1cb3f4(0x434)](_0x19fcb2=>_0x19fcb2 instanceof _0x4a4c61);return _0x3484a9?_0x3cca32[_0x1cb3f4(0x434)](_0x3484a9):_0x3cca32;}[_0x178721(0x394)](_0x59cc79){const _0x298419=_0x178721,_0x242be6=Array[_0x298419(0x3ac)](this['graphDatabases'][_0x298419(0x9b0)]());return _0x59cc79?_0x242be6[_0x298419(0x434)](_0x59cc79):_0x242be6;}[_0x178721(0x8e6)](_0x4db988){const _0x804219=_0x178721,_0x3b53f7=Array[_0x804219(0x3ac)](this[_0x804219(0x60d)]['values']());return _0x4db988?_0x3b53f7[_0x804219(0x434)](_0x4db988):_0x3b53f7;}[_0x178721(0x38e)](_0x3ebbf){const _0x302c96=_0x178721,_0x565ba5=Array[_0x302c96(0x3ac)](this[_0x302c96(0x1f7)]['values']());return _0x3ebbf?_0x565ba5['filter'](_0x3ebbf):_0x565ba5;}[_0x178721(0x255)](_0x34e800){const _0x329cb9=_0x178721,_0x576545=Array[_0x329cb9(0x3ac)](this['remoteMediaStreams'][_0x329cb9(0x9b0)]())[_0x329cb9(0x41b)]((_0x3ca972,_0x3e70d2)=>[..._0x3ca972,...Array[_0x329cb9(0x3ac)](_0x3e70d2[_0x329cb9(0x9b0)]())],[]);return _0x34e800?_0x576545[_0x329cb9(0x434)](_0x34e800):_0x576545;}[_0x178721(0x618)](_0x25224d){const _0x46902f=_0x178721,_0x610fdb=Array[_0x46902f(0x3ac)](this[_0x46902f(0x407)]['values']());return _0x25224d?_0x610fdb['filter'](_0x25224d):_0x610fdb;}[_0x178721(0x8bf)](_0x2beba5){const _0x548316=_0x178721,_0x1734a7=this['objectStores'][_0x548316(0x603)](_0x2beba5);if(!_0x1734a7)throw new _0x1c9a4(_0x58f0d1['ObjectStoreDoesNotExist'],_0x548316(0x967));return _0x1734a7;}[_0x178721(0xa17)](_0x5c5739){const _0x5a5ed8=_0x178721,_0x31ddbe=_0x5c5739['split']('-'),_0x2aea0e=this['externalStorageConnections']['get'](_0x31ddbe[0x1]);if(!_0x2aea0e)throw new _0x1c9a4(_0x58f0d1[_0x5a5ed8(0xa92)],_0x5a5ed8(0x675));return _0x2aea0e;}[_0x178721(0x337)](_0x58cbc8){const _0x69ab58=_0x178721,_0x2d5563=this[_0x69ab58(0x16e)]['get'](_0x58cbc8);if(!_0x2d5563)throw new _0x1c9a4(_0x58f0d1[_0x69ab58(0x600)],_0x69ab58(0x640));return _0x2d5563;}['getKeyValueDatabase'](_0x37b019){const _0x250f11=_0x178721,_0x3b8b04=this[_0x250f11(0x375)][_0x250f11(0x603)](_0x37b019);if(!_0x3b8b04)throw new _0x1c9a4(_0x58f0d1[_0x250f11(0x366)],'KeyValueDatabase\x20not\x20found');return _0x3b8b04;}[_0x178721(0x843)](_0x29bd06){const _0xb12b34=_0x178721,_0x42538a=this[_0xb12b34(0x1f7)][_0xb12b34(0x603)](_0x29bd06);if(!_0x42538a)throw new _0x1c9a4(_0x58f0d1[_0xb12b34(0x6dd)],_0xb12b34(0x863));return _0x42538a;}['getVectorDatabase'](_0x290a84){const _0x1e0167=_0x178721,_0x2d4616=this[_0x1e0167(0x407)]['get'](_0x290a84);if(!_0x2d4616)throw new _0x1c9a4(_0x58f0d1['VectorDatabaseDoesNotExist'],'VectorDatabase\x20not\x20found');return _0x2d4616;}[_0x178721(0x5ce)](_0x2ecb47){const _0x4d4c68=_0x178721;switch(_0x2ecb47[_0x4d4c68(0x855)]['type']){case _0x4ef04d[_0x4d4c68(0x16f)]:this[_0x4d4c68(0x53f)](_0x2ecb47['content']);break;case _0x4ef04d[_0x4d4c68(0x26c)]:this[_0x4d4c68(0x7c4)](_0x2ecb47[_0x4d4c68(0x855)]);break;case _0x4ef04d[_0x4d4c68(0x76e)]:this[_0x4d4c68(0x507)](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)]);break;case _0x4ef04d[_0x4d4c68(0x62c)]:this[_0x4d4c68(0x68c)](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)]);break;case _0x4ef04d[_0x4d4c68(0x344)]:this[_0x4d4c68(0x404)](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)]);break;case _0x4ef04d[_0x4d4c68(0x2a9)]:this['removePubSubTopic'](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)]);break;case _0x4ef04d[_0x4d4c68(0x5bb)]:this['removeObjectStore'](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)]);break;case _0x4ef04d['CloseExternalStorageConnection']:this[_0x4d4c68(0x4b4)](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)]);break;case _0x4ef04d[_0x4d4c68(0x19f)]:this['removeKeyValueDatabase'](_0x2ecb47[_0x4d4c68(0x855)]['label']);break;case _0x4ef04d[_0x4d4c68(0x2c1)]:this[_0x4d4c68(0x3a6)](_0x2ecb47['content'][_0x4d4c68(0x8f4)]);break;case _0x4ef04d[_0x4d4c68(0x322)]:this[_0x4d4c68(0x20b)](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)]);break;case _0x4ef04d[_0x4d4c68(0x23b)]:this[_0x4d4c68(0x279)](_0x2ecb47[_0x4d4c68(0x855)]);break;case _0x4ef04d[_0x4d4c68(0x370)]:this['keyValueDatabases'][_0x4d4c68(0x603)](_0x2ecb47['content']['label'])?.[_0x4d4c68(0x794)](_0x2ecb47[_0x4d4c68(0x8d8)],_0x2ecb47['content'][_0x4d4c68(0x9c3)]);break;case _0x4ef04d['KeyValueDatabaseContentSynchronized']:this['keyValueDatabases'][_0x4d4c68(0x603)](_0x2ecb47['content']['label'])?.[_0x4d4c68(0x2fa)](_0x2ecb47[_0x4d4c68(0x8d8)],_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x9c3)]);break;case _0x4ef04d[_0x4d4c68(0x36a)]:this[_0x4d4c68(0x375)][_0x4d4c68(0x603)](_0x2ecb47['content'][_0x4d4c68(0x8f4)])?.['processContentAvailable'](_0x2ecb47[_0x4d4c68(0x8d8)],_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x960)]);break;case _0x4ef04d[_0x4d4c68(0x625)]:this[_0x4d4c68(0x375)][_0x4d4c68(0x603)](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)])?.['sendPeakTransactions'](_0x2ecb47[_0x4d4c68(0x8d8)],_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x82f)]);break;case _0x4ef04d['KeyValueDatabaseRequestTransactionsValue']:this[_0x4d4c68(0x375)]['get'](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)])?.[_0x4d4c68(0xa44)](_0x2ecb47[_0x4d4c68(0x8d8)],_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x7c1)]);break;case _0x4ef04d[_0x4d4c68(0x50a)]:this[_0x4d4c68(0x375)]['get'](_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)])?.[_0x4d4c68(0x173)](_0x2ecb47[_0x4d4c68(0x8d8)],_0x2ecb47[_0x4d4c68(0x855)]['transactions']);break;case _0x4ef04d[_0x4d4c68(0xa9a)]:this[_0x4d4c68(0x430)][_0x4d4c68(0x2f0)][_0x4d4c68(0x5eb)](_0x4d4c68(0x6a4),{'label':_0x2ecb47[_0x4d4c68(0x855)][_0x4d4c68(0x8f4)],'trackKinds':_0x2ecb47['content'][_0x4d4c68(0x680)]});}}[_0x178721(0x1cb)]({content:_0x3d767e}){const _0x2f8b90=_0x178721;switch(_0x3d767e['type']){case _0x19f484[_0x2f8b90(0xa77)]:this[_0x2f8b90(0x29a)](_0x3d767e),this[_0x2f8b90(0x6ae)](_0x3d767e);break;case _0x19f484['NodeLeave']:this[_0x2f8b90(0xaa5)](_0x3d767e),this[_0x2f8b90(0x245)](_0x3d767e);}}[_0x178721(0x476)](_0x2b1460){const _0x2f155d=_0x178721;switch(_0x2b1460[_0x2f155d(0x855)]['type']){case _0x5ba570[_0x2f155d(0xa75)]:this[_0x2f155d(0x2f2)](_0x2b1460[_0x2f155d(0x8d8)],_0x2b1460[_0x2f155d(0x855)]);break;case _0x5ba570[_0x2f155d(0x75d)]:this[_0x2f155d(0x51d)](_0x2b1460[_0x2f155d(0x8d8)],_0x2b1460[_0x2f155d(0x855)]);break;case _0x5ba570[_0x2f155d(0x23b)]:this[_0x2f155d(0x526)](_0x2b1460['sourceId'],_0x2b1460[_0x2f155d(0x855)]);}}[_0x178721(0x279)](_0x186da0){const _0x471133=_0x178721;if(0x0===_0x186da0[_0x471133(0x73b)])this[_0x471133(0x9b8)][_0x471133(0x603)](_0x186da0[_0x471133(0x1d7)])?.[_0x471133(0x603)](_0x186da0[_0x471133(0x8f4)])?.[_0x471133(0x4c1)]();else{const _0x1a5155=this[_0x471133(0x9b8)][_0x471133(0x603)](_0x186da0[_0x471133(0x1d7)])?.[_0x471133(0x603)](_0x186da0['label']);if(!_0x1a5155)return;_0x186da0[_0x471133(0x680)]['forEach'](_0x410708=>_0x1a5155[_0x471133(0x8f8)](_0x410708));}}['handlePublishMediaStream'](_0x3917e7){const _0x382984=_0x178721,{label:_0x356b41,ownerId:_0x2769bc,stream:{streamId:_0x33245b,availableTrackKinds:_0x285a1f}}=_0x3917e7;if(this['remoteMediaStreams'][_0x382984(0x603)](_0x2769bc)?.[_0x382984(0x4a6)](_0x356b41))return void _0x4826cd[_0x382984(0x51c)](_0x312d1f[_0x382984(0xa48)],_0x382984(0x383),_0x33245b);const _0x1f21f9=this['createRemoteMediaStream'](_0x2769bc,_0x356b41,_0x33245b,_0x285a1f);this[_0x382984(0x430)]['mediator'][_0x382984(0x5eb)]('content-publish-media',{'ownerId':_0x2769bc,'stream':_0x1f21f9});}[_0x178721(0x7c4)]({ownerId:_0x21a1f8,label:_0x4aa573}){const _0xa0e1e=_0x178721;this[_0xa0e1e(0x4e3)](_0x21a1f8,_0x4aa573),this[_0xa0e1e(0x430)][_0xa0e1e(0x2f0)][_0xa0e1e(0x5eb)](_0xa0e1e(0xa69),{'ownerId':_0x21a1f8,'label':_0x4aa573});}[_0x178721(0x2f2)](_0x52dcef,_0xaa6751){const _0x533f8f=_0x178721,{ownerId:_0x3864a2,label:_0x225222}=_0xaa6751;let _0xb47e52;_0xb47e52=_0x3864a2!==this[_0x533f8f(0x430)][_0x533f8f(0x31a)][_0x533f8f(0x78a)]()?this[_0x533f8f(0x9b8)][_0x533f8f(0x603)](_0x3864a2)[_0x533f8f(0x603)](_0x225222):this[_0x533f8f(0x60d)][_0x533f8f(0x603)](_0x225222),_0xb47e52[_0x533f8f(0xa97)](_0x52dcef,_0xaa6751[_0x533f8f(0x25d)])[_0x533f8f(0x1c5)](_0xaa6751,_0xb47e52[_0x533f8f(0x281)]());}[_0x178721(0x51d)](_0x2a5550,_0x29d0ea){const _0x42552c=_0x178721,{ownerId:_0x242b08,label:_0x42451c}=_0x29d0ea;let _0x3bb45f;_0x3bb45f=_0x242b08!==this['configs'][_0x42552c(0x31a)][_0x42552c(0x78a)]()?this[_0x42552c(0x9b8)][_0x42552c(0x603)](_0x242b08)[_0x42552c(0x603)](_0x42451c):this[_0x42552c(0x60d)]['get'](_0x42451c),_0x3bb45f[_0x42552c(0xa97)](_0x2a5550,_0x29d0ea[_0x42552c(0x25d)])[_0x42552c(0x768)](_0x29d0ea);}['handleUnsubscribeMediaStream'](_0xc9ab86,_0x70f7e5){const _0x25085a=_0x178721,{ownerId:_0x56c617,label:_0x48dc04}=_0x70f7e5;let _0x53e141;_0x53e141=_0x56c617!==this['configs'][_0x25085a(0x31a)][_0x25085a(0x78a)]()?this[_0x25085a(0x9b8)]['get'](_0x56c617)[_0x25085a(0x603)](_0x48dc04):this['localMediaStreams']['get'](_0x48dc04),_0x53e141['getShareableStream'](_0xc9ab86)['unsubscribe'](_0x70f7e5);}[_0x178721(0x29a)]({id:_0x6b252c}){const _0x1512fd=_0x178721;this[_0x1512fd(0x8e6)]()[_0x1512fd(0x2cb)](_0x140f78=>{_0x140f78['publish'](_0x6b252c);});}['handleNodeLeave']({id:_0x444a5d}){const _0x4fb9b6=_0x178721;this[_0x4fb9b6(0x255)](_0x1b5091=>_0x1b5091[_0x4fb9b6(0x691)]()===_0x444a5d)[_0x4fb9b6(0x2cb)](_0x184ee6=>{const _0x44b5b4=_0x4fb9b6;this[_0x44b5b4(0x4e3)](_0x184ee6['getOwnerId'](),_0x184ee6[_0x44b5b4(0x45b)]());});}[_0x178721(0x6ae)]({id:_0x450f06}){const _0x5b4a49=_0x178721;this[_0x5b4a49(0x7e9)]['forEach'](_0xbe2a2d=>_0xbe2a2d[_0x5b4a49(0x4e4)](_0x450f06));}[_0x178721(0x245)]({id:_0x4a49f0}){const _0x315180=_0x178721;this[_0x315180(0x7e9)]['forEach'](_0x59ff04=>_0x59ff04[_0x315180(0xaa5)](_0x4a49f0));}['removeJobDispatcher'](_0x20a0ec){const _0x31baa2=_0x178721;if(!this[_0x31baa2(0x1f5)]['has'](_0x20a0ec))throw new _0x1c9a4(_0x58f0d1[_0x31baa2(0xa1d)],_0x31baa2(0x7c9));const _0x381d34=this[_0x31baa2(0x1f5)][_0x31baa2(0x603)](_0x20a0ec);this[_0x31baa2(0x1f5)][_0x31baa2(0xa66)](_0x20a0ec),_0x381d34[_0x31baa2(0x4c1)](),this[_0x31baa2(0x430)][_0x31baa2(0x2f0)][_0x31baa2(0x1e0)](_0x381d34);}['removeJobWorker'](_0x25fe99){const _0x5a49eb=_0x178721;if(!this[_0x5a49eb(0x5f3)][_0x5a49eb(0x4a6)](_0x25fe99))throw new _0x1c9a4(_0x58f0d1[_0x5a49eb(0x43a)],_0x5a49eb(0x82b));const _0x45c9b8=this[_0x5a49eb(0x5f3)][_0x5a49eb(0x603)](_0x25fe99);this[_0x5a49eb(0x5f3)][_0x5a49eb(0xa66)](_0x25fe99),_0x45c9b8['destroy'](),this[_0x5a49eb(0x430)][_0x5a49eb(0x2f0)][_0x5a49eb(0x1e0)](_0x45c9b8);}[_0x178721(0x677)](_0x47681f){const _0x3deeca=_0x178721;if(!this[_0x3deeca(0x7e9)][_0x3deeca(0x4a6)](_0x47681f))throw new _0x1c9a4(_0x58f0d1[_0x3deeca(0x57c)],_0x3deeca(0x8d9));const _0x2c075b=this[_0x3deeca(0x7e9)][_0x3deeca(0x603)](_0x47681f);this['objectStores'][_0x3deeca(0xa66)](_0x47681f),_0x2c075b[_0x3deeca(0x4c1)](),this[_0x3deeca(0x430)][_0x3deeca(0x2f0)]['unregisterSystemSource'](_0x2c075b);}[_0x178721(0x4b4)](_0x202b16){const _0x454ece=_0x178721;if(!this[_0x454ece(0x50c)][_0x454ece(0x4a6)](_0x202b16))throw new _0x1c9a4(_0x58f0d1[_0x454ece(0xa92)],_0x454ece(0x5c4));const _0x236a9b=this[_0x454ece(0x50c)][_0x454ece(0x603)](_0x202b16);this[_0x454ece(0x50c)][_0x454ece(0xa66)](_0x202b16),_0x236a9b[_0x454ece(0x4c1)](),this[_0x454ece(0x430)][_0x454ece(0x2f0)]['unregisterSystemSource'](_0x236a9b);}[_0x178721(0x23e)](_0x14d6bb){const _0x4cc313=_0x178721;if(!this[_0x4cc313(0x1f7)]['has'](_0x14d6bb))throw new _0x1c9a4(_0x58f0d1[_0x4cc313(0x6dd)],_0x4cc313(0x8d9));const _0x51f61d=this['pubSubTopics'][_0x4cc313(0x603)](_0x14d6bb);this[_0x4cc313(0x1f7)][_0x4cc313(0xa66)](_0x14d6bb),_0x51f61d[_0x4cc313(0x4c1)](),this[_0x4cc313(0x430)][_0x4cc313(0x2f0)]['unregisterSystemSource'](_0x51f61d);}[_0x178721(0x821)](_0x1fedd4){const _0x4e0892=_0x178721;if(!this[_0x4e0892(0x375)][_0x4e0892(0x4a6)](_0x1fedd4))throw new _0x1c9a4(_0x58f0d1[_0x4e0892(0x366)],_0x4e0892(0x2ef));const _0x1c4127=this[_0x4e0892(0x375)][_0x4e0892(0x603)](_0x1fedd4);this['keyValueDatabases'][_0x4e0892(0xa66)](_0x1fedd4),_0x1c4127[_0x4e0892(0x4c1)](),this[_0x4e0892(0x430)][_0x4e0892(0x2f0)][_0x4e0892(0x1e0)](_0x1c4127);}[_0x178721(0x3a6)](_0x55f5a4){const _0x2cabe5=_0x178721;if(!this['vectorDatabases'][_0x2cabe5(0x4a6)](_0x55f5a4))throw new _0x1c9a4(_0x58f0d1[_0x2cabe5(0x414)],_0x2cabe5(0x2ef));const _0x4cf7fd=this['vectorDatabases'][_0x2cabe5(0x603)](_0x55f5a4);this[_0x2cabe5(0x407)][_0x2cabe5(0xa66)](_0x55f5a4),_0x4cf7fd['destroy'](),this[_0x2cabe5(0x430)][_0x2cabe5(0x2f0)][_0x2cabe5(0x1e0)](_0x4cf7fd);}[_0x178721(0x20b)](_0x1ca631){const _0x48ae6e=_0x178721;if(!this[_0x48ae6e(0x16e)][_0x48ae6e(0x4a6)](_0x1ca631))throw new _0x1c9a4(_0x58f0d1[_0x48ae6e(0x600)],'Database\x20does\x20not\x20exist');const _0x39c68a=this[_0x48ae6e(0x16e)][_0x48ae6e(0x603)](_0x1ca631);this[_0x48ae6e(0x16e)][_0x48ae6e(0xa66)](_0x1ca631),_0x39c68a[_0x48ae6e(0x4c1)](),this[_0x48ae6e(0x430)]['mediator'][_0x48ae6e(0x1e0)](_0x39c68a);}['removeLocalMediaStream'](_0x12b12b){const _0x4ba828=_0x178721;if(!this[_0x4ba828(0x60d)][_0x4ba828(0x4a6)](_0x12b12b))throw new _0x5953b5(_0x5953b5[_0x4ba828(0x913)][_0x4ba828(0x20c)],{'label':_0x12b12b,'localId':this[_0x4ba828(0x430)]['localNode']['getId']()});const _0x34a22b=this['localMediaStreams'][_0x4ba828(0x603)](_0x12b12b);this[_0x4ba828(0x430)]['mediator']['unregisterSystemSource'](_0x34a22b),_0x34a22b[_0x4ba828(0x4c1)](),this[_0x4ba828(0x60d)]['delete'](_0x12b12b);}[_0x178721(0x4e3)](_0x484e86,_0x5ee671){const _0x4f6775=_0x178721;if(!this[_0x4f6775(0x9b8)][_0x4f6775(0x4a6)](_0x484e86))throw new _0x5953b5(_0x5953b5[_0x4f6775(0x913)][_0x4f6775(0x3e5)],{'nodeId':_0x484e86,'localId':this[_0x4f6775(0x430)][_0x4f6775(0x31a)][_0x4f6775(0x78a)]()});const _0x589b21=this[_0x4f6775(0x9b8)][_0x4f6775(0x603)](_0x484e86);if(!_0x589b21[_0x4f6775(0x4a6)](_0x5ee671))throw new _0x5953b5(_0x5953b5[_0x4f6775(0x913)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x484e86,'label':_0x5ee671,'localId':this[_0x4f6775(0x430)][_0x4f6775(0x31a)][_0x4f6775(0x78a)]()});const _0x3b85af=_0x589b21[_0x4f6775(0x603)](_0x5ee671);this[_0x4f6775(0x430)][_0x4f6775(0x2f0)][_0x4f6775(0x1e0)](_0x3b85af),_0x3b85af['destroy'](),_0x589b21[_0x4f6775(0xa66)](_0x5ee671);}}var _0x4a680b,_0x37a7f8,_0x5d7eb7;!function(_0x22fe2b){const _0x3793cd=_0x178721;_0x22fe2b[_0x3793cd(0x8fc)]='st_volatility',_0x22fe2b[_0x3793cd(0x75f)]='dt_volatility',_0x22fe2b['TimePerFrame']=_0x3793cd(0x511),_0x22fe2b[_0x3793cd(0x29b)]='bitrate',_0x22fe2b['Jitter']='jitter',_0x22fe2b['FramePerSecond']='fps',_0x22fe2b['RoundTripTime']='rtt',_0x22fe2b[_0x3793cd(0x489)]=_0x3793cd(0x543);}(_0x4a680b||(_0x4a680b={})),function(_0x5bc55b){const _0x706344=_0x178721;_0x5bc55b[_0x706344(0x6e8)]='cpu.cycle',_0x5bc55b[_0x706344(0x584)]=_0x706344(0x340),_0x5bc55b['AudioVideoDelay']='cpu.av_delay',_0x5bc55b['FramePerSecond']=_0x706344(0x582),_0x5bc55b[_0x706344(0x29b)]='bandwidth.bitrate',_0x5bc55b[_0x706344(0x5d0)]='bandwidth.jitter',_0x5bc55b['RoundTripTime']=_0x706344(0x68a);}(_0x37a7f8||(_0x37a7f8={})),function(_0xe62ddc){const _0x46c65f=_0x178721;_0xe62ddc[_0xe62ddc['Problem']=0x0]=_0x46c65f(0x57a);}(_0x5d7eb7||(_0x5d7eb7={}));const _0x3256e2=[{'type':_0x4a680b[_0x178721(0x8fc)],'reportMetric':_0x178154=>_0x178154[_0x178721(0x8fc)],'maxThreshold':2.5},{'type':_0x4a680b[_0x178721(0x75f)],'reportMetric':_0xc3473b=>_0xc3473b['DTVolatility'],'maxThreshold':0.5}],_0x35ceae=[{'type':_0x4a680b[_0x178721(0x584)],'reportMetric':_0x1c3fbf=>{const _0x7f6f39=_0x178721,_0x5a0192=0x3e8/_0x1c3fbf[_0x7f6f39(0x8fe)];return _0x1c3fbf[_0x7f6f39(0x1d0)]/_0x5a0192;},'maxThreshold':0.75},{'type':_0x4a680b[_0x178721(0x29b)],'reportMetric':_0xbcb325=>{const _0x11b899=_0x178721,_0x5cbaa8=_0xbcb325[_0x11b899(0x8fe)]*_0xbcb325[_0x11b899(0x442)]*_0xbcb325['frameHeight']*0.12;return _0xbcb325[_0x11b899(0xa81)]/_0x5cbaa8;},'minThreshold':0.25},{'type':_0x4a680b[_0x178721(0x5d0)],'reportMetric':_0x5ef671=>_0x5ef671[_0x178721(0x212)],'maxThreshold':0.6},{'type':_0x4a680b[_0x178721(0x429)],'reportMetric':_0x2b6698=>_0x2b6698['FPS'],'minThreshold':0xa}],_0x2845f7=[{'type':_0x4a680b[_0x178721(0x5d0)],'reportMetric':_0x1d7228=>_0x1d7228[_0x178721(0x212)],'maxThreshold':0.6}],_0x1119f1=[{'type':_0x4a680b[_0x178721(0x21f)],'reportMetric':_0x828998=>_0x828998[_0x178721(0x2de)],'maxThreshold':0x1/0x0}],_0x33a3aa=[{'type':_0x4a680b[_0x178721(0x489)],'reportMetric':_0x438eb9=>_0x438eb9['AudioVideoDelay'],'maxThreshold':0x12c}],_0x583505=[{'type':_0x37a7f8[_0x178721(0x6e8)],'issues':[{'type':_0x4a680b[_0x178721(0x8fc)],'threshold':0x5},{'type':_0x4a680b[_0x178721(0x75f)],'threshold':0x5}]},{'type':_0x37a7f8[_0x178721(0x584)],'issues':[{'type':_0x4a680b['TimePerFrame'],'threshold':0x3}]},{'type':_0x37a7f8[_0x178721(0x489)],'issues':[{'type':_0x4a680b[_0x178721(0x489)],'threshold':0x2}]},{'type':_0x37a7f8['FramePerSecond'],'issues':[{'type':_0x4a680b[_0x178721(0x429)],'threshold':0x3}]},{'type':_0x37a7f8[_0x178721(0x29b)],'issues':[{'type':_0x4a680b[_0x178721(0x29b)],'threshold':0x3}]},{'type':_0x37a7f8[_0x178721(0x5d0)],'issues':[{'type':_0x4a680b[_0x178721(0x5d0)],'threshold':0x3}]},{'type':_0x37a7f8['RoundTripTime'],'issues':[{'type':_0x4a680b[_0x178721(0x21f)],'threshold':0x3}]}];var _0x395235,_0x57380b;!function(_0xb94f50){const _0x2f507c=_0x178721;_0xb94f50[_0xb94f50[_0x2f507c(0x462)]=0x0]=_0x2f507c(0x462),_0xb94f50[_0xb94f50['LocalReport']=0x1]='LocalReport';}(_0x395235||(_0x395235={}));class _0x31ea16{[_0x178721(0x430)];['issues']=[];['systemTopic'];constructor(_0x460dc3){const _0x350f55=_0x178721;this[_0x350f55(0x430)]=_0x460dc3,this[_0x350f55(0x430)][_0x350f55(0x2f0)][_0x350f55(0x81a)](this);}[_0x178721(0x7f7)](_0x1ed8bb){const _0x5d7629=_0x178721;this[_0x5d7629(0x87d)]=_0x1ed8bb;}[_0x178721(0x1ae)](){const _0x3d6197=_0x178721;this[_0x3d6197(0x87d)]=void 0x0;}['close'](){const _0xae2c11=_0x178721;this[_0xae2c11(0x430)][_0xae2c11(0x2f0)][_0xae2c11(0x1e0)](this),this[_0xae2c11(0x4ab)]=[];}[_0x178721(0x88b)](_0x2965b5){const _0x4d3a7d=_0x178721;switch(_0x2965b5[_0x4d3a7d(0x855)][_0x4d3a7d(0x43f)]){case _0x395235['LocalReport']:this[_0x4d3a7d(0x42f)](_0x2965b5[_0x4d3a7d(0x855)][_0x4d3a7d(0x372)]);break;case _0x395235[_0x4d3a7d(0x462)]:this[_0x4d3a7d(0x4e0)](_0x2965b5[_0x4d3a7d(0x855)][_0x4d3a7d(0x372)]);}}[_0x178721(0x854)](_0x6004a1,_0x50aaba,_0x534f42,_0x19f624){const _0x1168e5=_0x178721,_0x47a190=_0x583505[_0x1168e5(0x940)](_0x4a9395=>_0x4a9395['issues'][_0x1168e5(0x216)](_0x3267d3=>_0x3267d3[_0x1168e5(0x43f)]===_0x6004a1));_0x19f624>=_0x47a190[_0x1168e5(0x4ab)][_0x1168e5(0x940)](_0x486c0b=>_0x486c0b[_0x1168e5(0x43f)]===_0x6004a1)[_0x1168e5(0x9a1)]&&(this[_0x1168e5(0x9d2)](_0x47a190['type'],_0x50aaba,_0x534f42),this[_0x1168e5(0x4ab)]=this[_0x1168e5(0x4ab)]['filter'](_0x2d390a=>!(_0x2d390a['type']===_0x6004a1&&_0x2d390a['nodeId']===_0x50aaba&&_0x2d390a['origin']===_0x534f42)));}['detectLocalIssues'](_0x372d37){const _0x32aff4=_0x178721;_0x3256e2[_0x32aff4(0x2cb)](_0xfd2038=>{const _0x21b782=_0x32aff4,_0x2ac4d0=_0xfd2038['reportMetric'](_0x372d37);_0xfd2038['maxThreshold']&&_0x2ac4d0>_0xfd2038[_0x21b782(0x18b)]&&this[_0x21b782(0x32a)](_0xfd2038[_0x21b782(0x43f)],this[_0x21b782(0x430)][_0x21b782(0x31a)][_0x21b782(0x78a)](),_0x5a0536[_0x21b782(0x2d5)],_0x2ac4d0),_0xfd2038['minThreshold']&&_0x2ac4d0<_0xfd2038[_0x21b782(0x515)]&&this['addIssue'](_0xfd2038['type'],this['configs']['localNode']['getId'](),_0x5a0536['Sender'],_0x2ac4d0);});}[_0x178721(0x4e0)](_0x1933fc){const _0x3f302e=_0x178721;let _0x51377d=[];switch(_0x1933fc[_0x3f302e(0x2a1)]){case _0x5a0536['Sender']:_0x51377d=_0x1119f1;break;case _0x5a0536[_0x3f302e(0x888)]:_0x51377d=_0x33a3aa;}_0x1933fc[_0x3f302e(0x63a)]&&this[_0x3f302e(0x6ac)](_0x1933fc[_0x3f302e(0x5f2)],_0x5a0536[_0x3f302e(0x2d5)],_0x1933fc[_0x3f302e(0x63a)]),_0x1933fc[_0x3f302e(0x17e)]&&this[_0x3f302e(0x753)](_0x1933fc['nodeId'],_0x5a0536[_0x3f302e(0x2d5)],_0x1933fc[_0x3f302e(0x17e)]),_0x51377d[_0x3f302e(0x2cb)](_0x46f893=>{const _0x306548=_0x3f302e,_0x3a7a17=_0x46f893[_0x306548(0x4e2)](_0x1933fc);_0x46f893[_0x306548(0x18b)]&&_0x3a7a17>_0x46f893[_0x306548(0x18b)]&&this[_0x306548(0x32a)](_0x46f893['type'],_0x1933fc[_0x306548(0x5f2)],_0x5a0536[_0x306548(0x2d5)],_0x3a7a17),_0x46f893[_0x306548(0x515)]&&_0x3a7a17<_0x46f893[_0x306548(0x515)]&&this[_0x306548(0x32a)](_0x46f893['type'],_0x1933fc[_0x306548(0x5f2)],_0x5a0536[_0x306548(0x2d5)],_0x3a7a17);});}['detectVideoIssues'](_0x2f1dcb,_0x1d07ed,_0x5ef854){const _0x5cb8ec=_0x178721;0x0!==_0x5ef854[_0x5cb8ec(0xa81)]&&_0x35ceae['forEach'](_0x221be1=>{const _0x5bd1cb=_0x5cb8ec,_0x33f8bc=_0x221be1[_0x5bd1cb(0x4e2)](_0x5ef854);_0x221be1[_0x5bd1cb(0x18b)]&&_0x33f8bc>_0x221be1[_0x5bd1cb(0x18b)]&&this['addIssue'](_0x221be1[_0x5bd1cb(0x43f)],_0x2f1dcb,_0x1d07ed,_0x33f8bc,_0x5bd1cb(0x63a)),_0x221be1[_0x5bd1cb(0x515)]&&_0x33f8bc<_0x221be1[_0x5bd1cb(0x515)]&&this['addIssue'](_0x221be1[_0x5bd1cb(0x43f)],_0x2f1dcb,_0x1d07ed,_0x33f8bc,'video');});}['detectAudioIssues'](_0x42a410,_0x1eab81,_0x414db6){const _0x464aca=_0x178721;0x0!==_0x414db6['bitrate']&&_0x2845f7[_0x464aca(0x2cb)](_0x4e267e=>{const _0x2a0717=_0x464aca,_0x248e4f=_0x4e267e[_0x2a0717(0x4e2)](_0x414db6);_0x4e267e['maxThreshold']&&_0x248e4f>_0x4e267e[_0x2a0717(0x18b)]&&this['addIssue'](_0x4e267e[_0x2a0717(0x43f)],_0x42a410,_0x1eab81,_0x248e4f,'audio'),_0x4e267e[_0x2a0717(0x515)]&&_0x248e4f<_0x4e267e[_0x2a0717(0x515)]&&this[_0x2a0717(0x32a)](_0x4e267e['type'],_0x42a410,_0x1eab81,_0x248e4f,_0x2a0717(0x17e));});}[_0x178721(0x32a)](_0x59d2e0,_0x4baf6b,_0x41dc9c,_0x549332,_0x599617){const _0x32e557=_0x178721;_0x4826cd[_0x32e557(0x51c)](_0x312d1f['Detection'],'Issue\x20detected:\x20'+_0x59d2e0,_0x59d2e0,_0x549332),_0x4826cd[_0x32e557(0x54c)](_0x32e557(0x8bc),{'clusterId':this[_0x32e557(0x430)][_0x32e557(0x494)],'nodeId':this[_0x32e557(0x430)][_0x32e557(0x31a)][_0x32e557(0x78a)](),'nodeType':this[_0x32e557(0x430)]['localNode'][_0x32e557(0x43f)],'remoteId':_0x4baf6b,'data':{'type':_0x59d2e0,'value':_0x549332,'kind':_0x599617}}),this[_0x32e557(0x4ab)]=this[_0x32e557(0x4ab)][_0x32e557(0x434)](_0x4d2337=>Date[_0x32e557(0x2e5)]()-_0x4d2337[_0x32e557(0x8cd)]<0x7530),this[_0x32e557(0x4ab)][_0x32e557(0x77b)]({'timestamp':Date[_0x32e557(0x2e5)](),'type':_0x59d2e0,'nodeId':_0x4baf6b,'origin':_0x41dc9c,'value':_0x549332,'kind':_0x599617});const _0x1f395a=this[_0x32e557(0x4ab)][_0x32e557(0x434)](_0x49beaf=>_0x49beaf['type']===_0x59d2e0&&_0x49beaf[_0x32e557(0x5f2)]===_0x4baf6b&&_0x49beaf[_0x32e557(0x2a1)]===_0x41dc9c)[_0x32e557(0x3f4)];this[_0x32e557(0x854)](_0x59d2e0,_0x4baf6b,_0x41dc9c,_0x1f395a);}[_0x178721(0x9d2)](_0x2333ee,_0x66db18,_0x34c6bf){const _0xe31458=_0x178721;_0x4826cd[_0xe31458(0x51c)](_0x312d1f['Detection'],'Problem\x20detected:\x20'+_0x2333ee),_0x4826cd[_0xe31458(0x54c)](_0xe31458(0x8b7),{'clusterId':this[_0xe31458(0x430)][_0xe31458(0x494)],'nodeId':this[_0xe31458(0x430)][_0xe31458(0x31a)]['getId'](),'nodeType':this[_0xe31458(0x430)][_0xe31458(0x31a)]['type'],'remoteId':_0x66db18,'data':{'type':_0x2333ee}}),this[_0xe31458(0x87d)]?.['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98['Detection'],'content':{'type':_0x5d7eb7['Problem'],'data':{'timestamp':Date[_0xe31458(0x2e5)](),'nodeId':_0x66db18,'origin':_0x5a0536[_0xe31458(0x2d5)],'type':_0x2333ee}}});}}class _0x5c8105 extends _0x33c231{[_0x178721(0x43f)]=_0x12ff66[_0x178721(0x8ee)][_0x178721(0x4dc)];}class _0x4d9ac1 extends _0x5c8105{[_0x178721(0x87d)];[_0x178721(0x2c9)]=Date[_0x178721(0x2e5)]();[_0x178721(0x655)];[_0x178721(0x78c)];[_0x178721(0x3d8)](){const _0x4659dd=_0x178721;this[_0x4659dd(0x655)]&&(clearTimeout(this[_0x4659dd(0x655)]),delete this[_0x4659dd(0x655)]),delete this[_0x4659dd(0x78c)],this[_0x4659dd(0x2c9)]=Date['now'](),super[_0x4659dd(0x3d8)]();}['registerSystemPublisher'](_0x2b7498){const _0x17eda4=_0x178721;this[_0x17eda4(0x87d)]=_0x2b7498;}[_0x178721(0x1ae)](){const _0x110979=_0x178721;delete this[_0x110979(0x87d)];}[_0x178721(0x3db)](_0x68b56c){const _0x3f6f0d=_0x178721;!this['updateDebounceTimeout']&&this[_0x3f6f0d(0x4b8)]&&this['systemTopic'][_0x3f6f0d(0xa83)]({'sourceId':this['id'],'destinationIds':[_0x68b56c],'propagate':!0x0,'messageType':_0x51ac98[_0x3f6f0d(0x9dd)],'content':{'type':_0x19f484['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x3f6f0d(0x43f)]},'rank':this[_0x3f6f0d(0x9ec)](),'remoteConnections':Array[_0x3f6f0d(0x3ac)](this[_0x3f6f0d(0x6a1)]),'version':this[_0x3f6f0d(0x2c9)]}});}[_0x178721(0x1c9)](_0x3e8606){const _0x3e7f0f=_0x178721;this['remoteConnections']['has'](_0x3e8606)||(this['remoteConnections'][_0x3e7f0f(0x9b5)](_0x3e8606),this[_0x3e7f0f(0x2aa)](),this[_0x3e7f0f(0x6a7)](!0x0));}[_0x178721(0x9f4)](_0x63b718){const _0x24d4e0=_0x178721;this[_0x24d4e0(0x6a1)][_0x24d4e0(0x4a6)](_0x63b718)&&(this[_0x24d4e0(0x6a1)][_0x24d4e0(0xa66)](_0x63b718),this[_0x24d4e0(0x2aa)](),this[_0x24d4e0(0x6a7)](!0x0));}[_0x178721(0x3b5)](){const _0x30dfac=_0x178721;return this[_0x30dfac(0x2c9)];}[_0x178721(0x6d9)](_0xf39ef6,_0x6781cf=!0x0){const _0x3887d5=_0x178721;this[_0x3887d5(0x4b8)]!==_0xf39ef6&&(this[_0x3887d5(0x4b8)]=_0xf39ef6,_0x6781cf&&(this['incrementVersion'](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x3486d5=_0x178721;this[_0x3486d5(0x2c9)]=Date[_0x3486d5(0x2e5)]();}[_0x178721(0x6a7)](_0x58f3e2=!0x1){const _0x390dff=_0x178721;if(this[_0x390dff(0x4b8)]){if(this[_0x390dff(0x78c)]||(this[_0x390dff(0x78c)]=Date['now']()),this['updateDebounceTimeout']){if(Date[_0x390dff(0x2e5)]()-this[_0x390dff(0x78c)]>0x2328)return;clearTimeout(this[_0x390dff(0x655)]);}this[_0x390dff(0x655)]=setTimeout(()=>{const _0x2c9c9c=_0x390dff;delete this['lastUpdated'],delete this[_0x2c9c9c(0x655)],this[_0x2c9c9c(0x87d)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x51ac98[_0x2c9c9c(0x9dd)],'content':{'type':_0x58f3e2?_0x19f484['NodeConnectionsUpdate']:_0x19f484[_0x2c9c9c(0x69d)],'id':this['id'],'metaData':{'type':this[_0x2c9c9c(0x43f)]},'rank':this[_0x2c9c9c(0x9ec)](),'remoteConnections':Array[_0x2c9c9c(0x3ac)](this[_0x2c9c9c(0x6a1)]),'version':this[_0x2c9c9c(0x2c9)]}});},0x3e8);}}}class _0x3ccb68 extends _0x14f1d2{[_0x178721(0x87d)];[_0x178721(0x2c9)]=Date[_0x178721(0x2e5)]();[_0x178721(0x655)];[_0x178721(0x78c)];['close'](){const _0x3adc25=_0x178721;this[_0x3adc25(0x655)]&&(clearTimeout(this[_0x3adc25(0x655)]),delete this[_0x3adc25(0x655)]),delete this[_0x3adc25(0x78c)],this['currentVersion']=Date[_0x3adc25(0x2e5)](),super[_0x3adc25(0x3d8)]();}[_0x178721(0x7f7)](_0x37112b){const _0x423f71=_0x178721;this[_0x423f71(0x87d)]=_0x37112b;}['unregisterSystemPublisher'](){const _0x132fbf=_0x178721;delete this[_0x132fbf(0x87d)];}[_0x178721(0x3db)](_0x267186){const _0x253cd8=_0x178721;!this[_0x253cd8(0x655)]&&this[_0x253cd8(0x4b8)]&&this[_0x253cd8(0x87d)][_0x253cd8(0xa83)]({'sourceId':this['id'],'destinationIds':[_0x267186],'propagate':!0x0,'messageType':_0x51ac98[_0x253cd8(0x9dd)],'content':{'type':_0x19f484['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x253cd8(0x3c7)](),'email':this[_0x253cd8(0x238)]()},'rank':this[_0x253cd8(0x9ec)](),'remoteConnections':Array['from'](this[_0x253cd8(0x6a1)]),'version':this[_0x253cd8(0x2c9)]}});}[_0x178721(0x1c9)](_0x3064ff){const _0x7ac992=_0x178721;this[_0x7ac992(0x6a1)][_0x7ac992(0x4a6)](_0x3064ff)||(this['remoteConnections'][_0x7ac992(0x9b5)](_0x3064ff),this['incrementVersion'](),this[_0x7ac992(0x6a7)](!0x0));}[_0x178721(0x9f4)](_0x10c35f){const _0x218088=_0x178721;this[_0x218088(0x6a1)][_0x218088(0x4a6)](_0x10c35f)&&(this[_0x218088(0x6a1)][_0x218088(0xa66)](_0x10c35f),this[_0x218088(0x2aa)](),this[_0x218088(0x6a7)](!0x0));}[_0x178721(0x3b5)](){return this['currentVersion'];}['setDisplayName'](_0x11c5e9){const _0x269bde=_0x178721;this[_0x269bde(0x63d)]!==_0x11c5e9&&(this[_0x269bde(0x63d)]=_0x11c5e9,this['incrementVersion'](),this[_0x269bde(0x6a7)]());}['setEmail'](_0x3d259f){const _0x283c21=_0x178721;this[_0x283c21(0x7d6)]!==_0x3d259f&&(this[_0x283c21(0x7d6)]=_0x3d259f,this[_0x283c21(0x2aa)](),this['publishUserUpdate']());}[_0x178721(0x6d9)](_0x3c55e7,_0x4e85bd=!0x0){const _0x54c7df=_0x178721;this['rank']!==_0x3c55e7&&(this[_0x54c7df(0x4b8)]=_0x3c55e7,_0x4e85bd&&(this[_0x54c7df(0x2aa)](),this[_0x54c7df(0x6a7)]()));}['incrementVersion'](){const _0x55e3a0=_0x178721;this[_0x55e3a0(0x2c9)]=Date[_0x55e3a0(0x2e5)]();}[_0x178721(0x6a7)](_0x357cdd=!0x1){const _0x186284=_0x178721;if(this['rank']){if(this[_0x186284(0x78c)]||(this[_0x186284(0x78c)]=Date['now']()),this['updateDebounceTimeout']){if(Date[_0x186284(0x2e5)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x186284(0x655)]);}this[_0x186284(0x655)]=setTimeout(()=>{const _0x175987=_0x186284;delete this[_0x175987(0x78c)],delete this[_0x175987(0x655)],this[_0x175987(0x87d)][_0x175987(0xa83)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x51ac98['Node'],'content':{'type':_0x357cdd?_0x19f484[_0x175987(0xa72)]:_0x19f484[_0x175987(0x69d)],'id':this['id'],'metaData':{'type':this[_0x175987(0x43f)],'displayName':this['getDisplayName'](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x175987(0x3ac)](this[_0x175987(0x6a1)]),'version':this[_0x175987(0x2c9)]}});},0x3e8);}}}class _0xc989ad{['id'];[_0x178721(0x59a)];[_0x178721(0x92c)];[_0x178721(0x39f)];[_0x178721(0x43f)]=_0x12ff66[_0x178721(0x8ee)][_0x178721(0x4dc)];['lastCapacityReport'];constructor(_0x1d5054,_0xa052db,_0x4f2ae9,_0x479215){const _0x317082=_0x178721;this['id']=_0x1d5054,this[_0x317082(0x59a)]=_0xa052db,this[_0x317082(0x92c)]=_0x4f2ae9,this['agentConfig']=_0x479215;}[_0x178721(0x78a)](){return this['id'];}[_0x178721(0x630)](_0x1cbddd){const _0x52fd8a=_0x178721,_0x429c1f=(0x0,_0x3d71d8[_0x52fd8a(0x186)])((0x0,_0x3d71d8[_0x52fd8a(0xa0e)])(_0x4a9fc2[_0x52fd8a(0xaa0)](),_0x52fd8a(0x8be)+this[_0x52fd8a(0x92c)]+'/resources/agent/items/'+this[_0x52fd8a(0x59a)]),_0x5bf280=>{const _0x5d4d3b=_0x52fd8a;if(_0x5bf280['exists']()){const _0x16eebd=_0x5bf280['data']();if(this[_0x5d4d3b(0x39f)][_0x5d4d3b(0x8cd)][_0x5d4d3b(0x8c9)](_0x16eebd[_0x5d4d3b(0x8cd)]))return;_0x4826cd[_0x5d4d3b(0x51c)](_0x312d1f['Node'],_0x5d4d3b(0x43c),{'agentId':this['id'],'groupId':this[_0x5d4d3b(0x59a)],'oldConfig':this[_0x5d4d3b(0x39f)],'newConfig':_0x16eebd}),this['agentConfig']=_0x16eebd,_0x1cbddd();}});return()=>_0x429c1f();}[_0x178721(0x707)](_0x328a40){const _0x26e4c8=_0x178721;return this[_0x26e4c8(0x688)](this[_0x26e4c8(0x59a)],_0x328a40),_0x387a0b[_0x26e4c8(0x69a)](()=>this[_0x26e4c8(0x688)](this[_0x26e4c8(0x59a)],_0x328a40),0x7530);}[_0x178721(0x64b)](){const _0x27cce1=_0x178721;if(!this[_0x27cce1(0xa01)])throw new _0x5953b5(_0x5953b5['codes'][_0x27cce1(0x5bf)]);return this[_0x27cce1(0xa01)];}async[_0x178721(0x688)](_0x1ea391,_0x4936c){const _0x5dd0b9=_0x178721,_0x3bcf89=await _0x4936c();this[_0x5dd0b9(0xa01)]=_0x3bcf89,await(0x0,_0x3d71d8[_0x5dd0b9(0x916)])((0x0,_0x3d71d8[_0x5dd0b9(0x643)])(_0x4a9fc2[_0x5dd0b9(0xaa0)](),_0x5dd0b9(0x8be)+this[_0x5dd0b9(0x92c)]+_0x5dd0b9(0x7aa)),{'agentId':this['id'],'groupId':_0x1ea391,'timestamp':(0x0,_0x3d71d8[_0x5dd0b9(0x580)])(),'capacity':_0x3bcf89});}}!function(_0x166125){const _0x1f2b3a=_0x178721;_0x166125[_0x166125['Online']=0x0]='Online',_0x166125[_0x166125[_0x1f2b3a(0xa7b)]=0x1]=_0x1f2b3a(0xa7b);}(_0x57380b||(_0x57380b={}));class _0xb52824 extends _0x5c8105{[_0x178721(0x2c9)];[_0x178721(0x925)]=_0x57380b['Online'];[_0x178721(0x78c)]=Date[_0x178721(0x2e5)]();constructor(_0x35b0ad,_0x30ac8e=new Set(),_0x2f86f4,_0x5f3fb3){const _0x16b324=_0x178721;super(_0x35b0ad,_0x30ac8e,_0x5f3fb3),this[_0x16b324(0x2c9)]=_0x2f86f4;}[_0x178721(0x3b5)](){return this['currentVersion'];}[_0x178721(0x9ff)](){const _0x4ed513=_0x178721;return this[_0x4ed513(0x925)];}['getLastUpdated'](){const _0x396564=_0x178721;return this[_0x396564(0x78c)];}[_0x178721(0x6d9)](_0x1958d9){const _0x1e3475=_0x178721;this[_0x1e3475(0x4b8)]!==_0x1958d9&&(this[_0x1e3475(0x4b8)]=_0x1958d9,this[_0x1e3475(0x7f1)]());}[_0x178721(0x976)](_0xafebec){const _0x249b03=_0x178721;let _0x2e228c=!0x1;for(const _0x3f61cb of this[_0x249b03(0x6a1)])_0xafebec[_0x249b03(0x31d)](_0x3f61cb)||(_0x2e228c=!0x0,this[_0x249b03(0x6a1)][_0x249b03(0xa66)](_0x3f61cb));for(const _0xb8fc0d of _0xafebec)this[_0x249b03(0x6a1)][_0x249b03(0x4a6)](_0xb8fc0d)||(_0x2e228c=!0x0,this[_0x249b03(0x6a1)][_0x249b03(0x9b5)](_0xb8fc0d));_0x2e228c&&this[_0x249b03(0x7f1)]();}['setCurrentVersion'](_0x118561){const _0x692cda=_0x178721;this[_0x692cda(0x2c9)]!==_0x118561&&(this['currentVersion']=_0x118561,this[_0x692cda(0x7f1)]());}['setStatus'](_0xd86ba6){const _0xb8066e=_0x178721;this[_0xb8066e(0x925)]!==_0xd86ba6&&(this[_0xb8066e(0x925)]=_0xd86ba6,this[_0xb8066e(0x7f1)](),_0xd86ba6===_0x57380b[_0xb8066e(0xa7b)]&&this[_0xb8066e(0x3d8)]());}['updateLastUpdated'](){const _0x270601=_0x178721;this['lastUpdated']=Date[_0x270601(0x2e5)]();}}class _0x29e727 extends _0x14f1d2{[_0x178721(0x2c9)];[_0x178721(0x925)]=_0x57380b[_0x178721(0x5d7)];[_0x178721(0x78c)]=Date[_0x178721(0x2e5)]();constructor(_0xc3013b,_0x4b32e6,_0x1614f5,_0x447014=new Set(),_0x237e51,_0xaf7a0f){const _0x5549e2=_0x178721;super(_0xc3013b,_0x4b32e6,_0x1614f5,_0x447014,_0xaf7a0f),this[_0x5549e2(0x2c9)]=_0x237e51;}[_0x178721(0x3b5)](){const _0x56d304=_0x178721;return this[_0x56d304(0x2c9)];}[_0x178721(0x9ff)](){const _0x2c3d1b=_0x178721;return this[_0x2c3d1b(0x925)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x178721(0x483)](_0x3d2b92){const _0x1638bf=_0x178721;this[_0x1638bf(0x63d)]!==_0x3d2b92&&(this[_0x1638bf(0x63d)]=_0x3d2b92,this[_0x1638bf(0x7f1)]());}[_0x178721(0x8af)](_0xd23758){const _0x1330a1=_0x178721;this[_0x1330a1(0x7d6)]!==_0xd23758&&(this[_0x1330a1(0x7d6)]=_0xd23758,this[_0x1330a1(0x7f1)]());}[_0x178721(0x6d9)](_0x3764a8){const _0x11229f=_0x178721;this[_0x11229f(0x4b8)]!==_0x3764a8&&(this['rank']=_0x3764a8,this[_0x11229f(0x7f1)]());}[_0x178721(0x976)](_0x192d2f){const _0xc1db98=_0x178721;let _0x8a1e28=!0x1;for(const _0xf7499a of this[_0xc1db98(0x6a1)])_0x192d2f[_0xc1db98(0x31d)](_0xf7499a)||(_0x8a1e28=!0x0,this['remoteConnections'][_0xc1db98(0xa66)](_0xf7499a));for(const _0x12356b of _0x192d2f)this[_0xc1db98(0x6a1)]['has'](_0x12356b)||(_0x8a1e28=!0x0,this[_0xc1db98(0x6a1)]['add'](_0x12356b));_0x8a1e28&&this[_0xc1db98(0x7f1)]();}['setCurrentVersion'](_0x3b4b02){const _0x181fb3=_0x178721;this[_0x181fb3(0x2c9)]!==_0x3b4b02&&(this[_0x181fb3(0x2c9)]=_0x3b4b02,this[_0x181fb3(0x7f1)]());}[_0x178721(0x756)](_0x5f1a6f){const _0x47c59d=_0x178721;this[_0x47c59d(0x925)]!==_0x5f1a6f&&(this[_0x47c59d(0x925)]=_0x5f1a6f,this['updateLastUpdated'](),_0x5f1a6f===_0x57380b['Offline']&&this[_0x47c59d(0x3d8)]());}[_0x178721(0x7f1)](){const _0x523d96=_0x178721;this[_0x523d96(0x78c)]=Date[_0x523d96(0x2e5)]();}}class _0x17b2d0{[_0x178721(0x92c)];[_0x178721(0x494)];[_0x178721(0x31a)];[_0x178721(0x7b5)];[_0x178721(0x719)]=_0x5467bb();[_0x178721(0x98d)];[_0x178721(0x7d2)];[_0x178721(0x994)];[_0x178721(0x473)]=!0x1;['clusterKey'];[_0x178721(0x5cd)];constructor(_0x3e442d,_0x4b3d3a,_0x4c5b2d,_0x56d5de){const _0x4781e2=_0x178721;this['vendorId']=_0x3e442d,this[_0x4781e2(0x494)]=_0x4b3d3a,this[_0x4781e2(0x31a)]=_0x4c5b2d,this[_0x4781e2(0x7b5)]=_0x56d5de,this[_0x4781e2(0x2c7)]=_0x4781e2(0x742)+this[_0x4781e2(0x92c)]+_0x4781e2(0x742)+this[_0x4781e2(0x494)],this[_0x4781e2(0x5cd)]=_0x4781e2(0x742)+this['vendorId']+_0x4781e2(0x742)+this[_0x4781e2(0x31a)][_0x4781e2(0x78a)](),this[_0x4781e2(0x98d)]=(0x0,_0xe83236['onValue'])((0x0,_0xe83236[_0x4781e2(0x1a3)])(_0x4a9fc2['getDatabase'](),_0x4781e2(0x762)),_0x433ada=>{const _0x1c0e54=_0x4781e2;!0x0!==_0x433ada[_0x1c0e54(0x687)]()?this[_0x1c0e54(0x473)]&&_0x4826cd[_0x1c0e54(0x5c0)](_0x1c0e54(0x6e5),{'clusterId':this[_0x1c0e54(0x494)],'nodeId':this['localNode'][_0x1c0e54(0x78a)](),'nodeType':this['localNode'][_0x1c0e54(0x43f)]}):(this[_0x1c0e54(0x473)]=!0x0,this[_0x1c0e54(0x84a)](),_0x4826cd[_0x1c0e54(0xa84)](_0x1c0e54(0x576),{'clusterId':this[_0x1c0e54(0x494)],'nodeId':this[_0x1c0e54(0x31a)][_0x1c0e54(0x78a)](),'nodeType':this['localNode'][_0x1c0e54(0x43f)]}));});}async[_0x178721(0x4c6)](){const _0x5644d5=_0x178721;await this[_0x5644d5(0x583)]();const _0x315bbc=await this[_0x5644d5(0x871)]();return this[_0x5644d5(0x7d2)]=(0x0,_0xe83236[_0x5644d5(0x658)])((0x0,_0xe83236[_0x5644d5(0x1a3)])(_0x4a9fc2['getDatabase'](),'clusters/'+this[_0x5644d5(0x2c7)]+_0x5644d5(0x6c3)),_0x1d0105=>{const _0x1326df=_0x5644d5,_0x26f1c9=_0x1d0105[_0x1326df(0xa6a)];if(!_0x26f1c9)return;const _0x162ce0=_0x26f1c9['replace'](_0x1326df(0x742)+this['vendorId']+'ccc','');this['disconnectCallback'][_0x1326df(0xa83)](_0x162ce0);}),_0x315bbc;}async['close'](){const _0x3d3116=_0x178721;this[_0x3d3116(0x7d2)]?.(),delete this['childRemovedUnsubscriber'],this[_0x3d3116(0x994)]?.['cancel'](),delete this[_0x3d3116(0x994)],this['firebaseUnsubscriber']?.(),delete this[_0x3d3116(0x98d)],await(0x0,_0xe83236[_0x3d3116(0x38d)])((0x0,_0xe83236[_0x3d3116(0x1a3)])(_0x4a9fc2[_0x3d3116(0x722)](),_0x3d3116(0x343)+this['clusterKey']+'/nodes/'+this[_0x3d3116(0x5cd)]));}[_0x178721(0x69e)](_0x5825e8){return this['disconnectCallback']['subscribe'](_0x5825e8);}async[_0x178721(0x871)](){const _0x5badd9=_0x178721,_0x564aea=[],_0x29870e=await(0x0,_0xe83236[_0x5badd9(0x603)])((0x0,_0xe83236['ref'])(_0x4a9fc2['getDatabase'](),_0x5badd9(0x343)+this[_0x5badd9(0x2c7)]+'/nodes')),_0x4fb48b=[];return _0x29870e[_0x5badd9(0x2cb)](_0x526235=>{const _0x95646b=_0x5badd9,_0x21f2c6=_0x526235['key']?.[_0x95646b(0x6cf)](_0x95646b(0x742)+this[_0x95646b(0x92c)]+_0x95646b(0x742),'');_0x4fb48b[_0x95646b(0x77b)]({'id':_0x21f2c6,'joinedAt':_0x526235[_0x95646b(0x687)]()[_0x95646b(0x495)],'priority':_0x526235[_0x95646b(0x687)]()[_0x95646b(0x3bc)]});}),_0x4fb48b[_0x5badd9(0x68b)]((_0x53065c,_0x973ab1)=>_0x53065c['joinedAt']===_0x973ab1[_0x5badd9(0x495)]?_0x53065c[_0x5badd9(0x3bc)]-_0x973ab1[_0x5badd9(0x3bc)]:_0x53065c[_0x5badd9(0x495)]-_0x973ab1[_0x5badd9(0x495)])[_0x5badd9(0x720)](_0x4fb48b[_0x5badd9(0x1ca)](_0x29808a=>_0x29808a['id']===this[_0x5badd9(0x31a)][_0x5badd9(0x78a)]())),_0x4fb48b[_0x5badd9(0x68b)]((_0x464178,_0x3dcf40)=>_0x3dcf40[_0x5badd9(0x495)]===_0x464178[_0x5badd9(0x495)]?_0x3dcf40[_0x5badd9(0x3bc)]-_0x464178[_0x5badd9(0x3bc)]:_0x3dcf40[_0x5badd9(0x495)]-_0x464178[_0x5badd9(0x495)])[_0x5badd9(0x2cb)](_0x232bf6=>{const _0x53a0ff=_0x5badd9;_0x564aea[_0x53a0ff(0x3f4)]>=this['minConnections']||_0x564aea[_0x53a0ff(0x77b)](_0x232bf6['id']);}),_0x4826cd[_0x5badd9(0x54c)](_0x5badd9(0x953),{'clusterId':this[_0x5badd9(0x494)],'nodeId':this['localNode'][_0x5badd9(0x78a)](),'nodeType':this[_0x5badd9(0x31a)]['type'],'data':{'ancestorIds':_0x564aea,'allNodes':_0x4fb48b}}),_0x564aea;}async['joinCluster'](){const _0x6c933e=_0x178721;await(0x0,_0xe83236[_0x6c933e(0x5f0)])((0x0,_0xe83236['ref'])(_0x4a9fc2[_0x6c933e(0x722)](),_0x6c933e(0x343)+this[_0x6c933e(0x2c7)]+_0x6c933e(0x7b6)+this['nodeKey']),{'joinedAt':(0x0,_0xe83236['serverTimestamp'])(),'priority':Math[_0x6c933e(0x203)]()});}['setOnDisconnectHandler'](){const _0x4c0269=_0x178721;this[_0x4c0269(0x994)]&&this[_0x4c0269(0x994)][_0x4c0269(0x83b)](),this[_0x4c0269(0x994)]=(0x0,_0xe83236[_0x4c0269(0x72e)])((0x0,_0xe83236[_0x4c0269(0x1a3)])(_0x4a9fc2[_0x4c0269(0x722)](),_0x4c0269(0x343)+this[_0x4c0269(0x2c7)]+_0x4c0269(0x7b6)+this[_0x4c0269(0x5cd)])),this['onDisconnectHandler']['remove']();}}class _0x2b1f22{[_0x178721(0x430)];[_0x178721(0x357)];[_0x178721(0x930)];[_0x178721(0x5e7)];[_0x178721(0x971)];[_0x178721(0x5d5)]=[];['systemTopic'];[_0x178721(0x802)]=new Map();[_0x178721(0x2f5)];[_0x178721(0x30f)];[_0x178721(0xa14)];['resolveReady'];[_0x178721(0x8dc)];['readyDebounce'];constructor(_0x12cbdb,_0x662aef){const _0x3f9795=_0x178721;this[_0x3f9795(0x430)]=_0x12cbdb,this[_0x3f9795(0x357)]=_0x662aef,this[_0x3f9795(0xa14)]=new Promise((_0x225dcf,_0x581e51)=>{const _0x954f0c=_0x3f9795;this[_0x954f0c(0x706)]=_0x225dcf,this[_0x954f0c(0x8dc)]=_0x581e51;}),this[_0x3f9795(0x5e7)]=new _0x17b2d0(this[_0x3f9795(0x430)][_0x3f9795(0x92c)],this[_0x3f9795(0x430)][_0x3f9795(0x494)],this[_0x3f9795(0x430)][_0x3f9795(0x31a)],this[_0x3f9795(0x357)][_0x3f9795(0x46b)]()),this[_0x3f9795(0x971)]=this[_0x3f9795(0x5e7)][_0x3f9795(0x69e)](this[_0x3f9795(0x82d)][_0x3f9795(0x428)](this)),this[_0x3f9795(0x430)]['mediator'][_0x3f9795(0x81a)](this[_0x3f9795(0x430)][_0x3f9795(0x31a)]),this[_0x3f9795(0x430)][_0x3f9795(0x2f0)][_0x3f9795(0x81a)](this),this[_0x3f9795(0x930)]=_0x387a0b[_0x3f9795(0x69a)](()=>{const _0x5ef55f=_0x3f9795,_0x523fe2=Date[_0x5ef55f(0x2e5)]();this[_0x5ef55f(0x357)][_0x5ef55f(0x93c)]()[_0x5ef55f(0x2cb)](_0x963428=>{const _0x529477=_0x5ef55f;_0x963428[_0x529477(0x9ff)]()===_0x57380b[_0x529477(0xa7b)]&&_0x963428['getLastUpdated']()<_0x523fe2-0x493e0&&this[_0x529477(0x357)]['deleteRemoteNode'](_0x963428[_0x529477(0x78a)]());});},0xea60);}async[_0x178721(0x6be)](){const _0x3763b6=_0x178721;return this[_0x3763b6(0xa14)];}async[_0x178721(0x59f)](_0x327640){return new Promise((_0x1c76e2,_0x485c81)=>{const _0x43e5ee=a0_0x5e71;let _0x2e535f;const _0x5caf9c=setTimeout(()=>{const _0x23ea04=a0_0x5e71;_0x2e535f?.(),_0x485c81(new Error('Node\x20\x27'+_0x327640+_0x23ea04(0x299)));},0x2710);if(this['graphService'][_0x43e5ee(0x3cc)](_0x327640))return clearTimeout(_0x5caf9c),void _0x1c76e2(!0x0);_0x2e535f=this['graphService'][_0x43e5ee(0x540)](()=>{const _0x19f926=_0x43e5ee;this[_0x19f926(0x357)][_0x19f926(0x3cc)](_0x327640)&&(clearTimeout(_0x5caf9c),_0x1c76e2(!0x0),_0x2e535f?.());});});}[_0x178721(0x7f7)](_0x32f109){const _0x5d88a0=_0x178721;this[_0x5d88a0(0x87d)]=_0x32f109;}[_0x178721(0x1ae)](){const _0x4e3e18=_0x178721;delete this[_0x4e3e18(0x87d)];}[_0x178721(0x3d8)](){const _0x439fd8=_0x178721;this['debounceProcessRank']&&(clearTimeout(this['debounceProcessRank']),delete this[_0x439fd8(0x2f5)]),delete this[_0x439fd8(0x30f)],this[_0x439fd8(0x430)][_0x439fd8(0x31a)][_0x439fd8(0x3d8)](),this[_0x439fd8(0x930)](),this[_0x439fd8(0x971)](),this['configs']['mediator'][_0x439fd8(0x1e0)](this[_0x439fd8(0x430)][_0x439fd8(0x31a)]),this[_0x439fd8(0x430)][_0x439fd8(0x2f0)]['unregisterSystemSource'](this),this[_0x439fd8(0x5e7)][_0x439fd8(0x3d8)]();}[_0x178721(0x868)](){return this['ancestors'];}[_0x178721(0xa4f)](){const _0x12a273=_0x178721;return this['configs'][_0x12a273(0x31a)]['getId']();}[_0x178721(0x31f)](){const _0x17aa7a=_0x178721;return this[_0x17aa7a(0x430)][_0x17aa7a(0x31a)];}['getRemoteNodes'](_0x6bee1c){const _0x3364b4=_0x178721,_0x2866c4=Array[_0x3364b4(0x3ac)](this[_0x3364b4(0x357)][_0x3364b4(0x93c)]()['values']())['filter'](_0x54808c=>_0x54808c[_0x3364b4(0x9ff)]()===_0x57380b[_0x3364b4(0x5d7)]);return _0x6bee1c?_0x2866c4[_0x3364b4(0x434)](_0x6bee1c):_0x2866c4;}async['discover'](){const _0x53698c=_0x178721;return this['ancestors']=await this[_0x53698c(0x5e7)][_0x53698c(0x4c6)](),this['ancestors'][_0x53698c(0x3f4)]<this[_0x53698c(0x357)][_0x53698c(0x46b)]()&&(this[_0x53698c(0x430)][_0x53698c(0x31a)][_0x53698c(0x6d9)](this[_0x53698c(0x5d5)][_0x53698c(0x3f4)]+0x1),this[_0x53698c(0x806)]()),this['ancestors'];}[_0x178721(0x690)](_0x2f911d,_0x1dc86f){const _0x3b4a79=_0x178721,_0x185c33=this[_0x3b4a79(0x430)][_0x3b4a79(0x31a)][_0x3b4a79(0x7af)](),_0x4ad1ad=new Set(_0x185c33),_0x407e24=Array['from'](_0x185c33)[_0x3b4a79(0x434)](_0x502a41=>_0x502a41!==_0x2f911d)[_0x3b4a79(0x7df)](_0x550101=>({'id':_0x550101,'distance':0x1}));for(;_0x407e24[_0x3b4a79(0x3f4)]>0x0;){const _0x168cd8=_0x407e24['shift']();if(!_0x168cd8)continue;if(_0x168cd8['id']===_0x1dc86f)return _0x168cd8['distance'];const _0x175e52=this[_0x3b4a79(0x357)][_0x3b4a79(0xa7d)](_0x168cd8['id']);_0x175e52&&_0x175e52[_0x3b4a79(0x9ff)]()!==_0x57380b['Offline']&&_0x175e52[_0x3b4a79(0x7af)]()[_0x3b4a79(0x2cb)](_0x225a8a=>{const _0x3a0c4e=_0x3b4a79;_0x4ad1ad[_0x3a0c4e(0x4a6)](_0x225a8a)||(_0x4ad1ad[_0x3a0c4e(0x9b5)](_0x225a8a),_0x407e24['push']({'id':_0x225a8a,'distance':_0x168cd8[_0x3a0c4e(0xa4c)]+0x1}));});}return-0x1;}[_0x178721(0x1cb)](_0x6eaf35){const _0x42a4ba=_0x178721;try{switch(_0x6eaf35['content'][_0x42a4ba(0x43f)]){case _0x19f484[_0x42a4ba(0x69d)]:case _0x19f484[_0x42a4ba(0xa72)]:this['handleNodeUpdate'](_0x6eaf35[_0x42a4ba(0x855)]),_0x4826cd[_0x42a4ba(0x51c)](_0x312d1f[_0x42a4ba(0x9dd)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x42a4ba(0x430)][_0x42a4ba(0x31a)][_0x42a4ba(0x78a)]()+',\x20'+_0x6eaf35[_0x42a4ba(0x8d8)]+'\x27',_0x6eaf35,_0x6eaf35['content']);break;case _0x19f484[_0x42a4ba(0x574)]:this[_0x42a4ba(0x249)](_0x6eaf35[_0x42a4ba(0x855)]['id']),_0x4826cd[_0x42a4ba(0x51c)](_0x312d1f[_0x42a4ba(0x9dd)],_0x42a4ba(0x17f),'\x27'+this[_0x42a4ba(0x430)][_0x42a4ba(0x31a)][_0x42a4ba(0x78a)]()+',\x20'+_0x6eaf35[_0x42a4ba(0x8d8)]+'\x27',_0x6eaf35,_0x6eaf35[_0x42a4ba(0x855)]);}}catch(_0x3089be){if(_0x3089be instanceof _0x454d90)return void _0x4826cd['log'](_0x312d1f['Node'],_0x3089be['message']);throw _0x3089be;}}['handlePeerConnectionSystemEvents'](_0x818fd4){const _0x1d7240=_0x178721;switch(_0x818fd4['content']['type']){case _0x26b257[_0x1d7240(0x89c)]:this[_0x1d7240(0x812)](_0x818fd4['sourceId']),_0x4826cd['log'](_0x312d1f['Node'],_0x1d7240(0x612),'\x27'+this[_0x1d7240(0x430)][_0x1d7240(0x31a)][_0x1d7240(0x78a)]()+',\x20'+_0x818fd4[_0x1d7240(0x8d8)]+'\x27',_0x818fd4,_0x818fd4[_0x1d7240(0x855)]);break;case _0x26b257[_0x1d7240(0x2ac)]:this[_0x1d7240(0x7ba)](_0x818fd4[_0x1d7240(0x8d8)]),_0x4826cd[_0x1d7240(0x51c)](_0x312d1f[_0x1d7240(0x9dd)],_0x1d7240(0x253),this[_0x1d7240(0x430)][_0x1d7240(0x31a)][_0x1d7240(0x78a)](),_0x818fd4,_0x818fd4[_0x1d7240(0x855)]);}}['handleNodeJoin'](_0x152049){const _0x1f8097=_0x178721;this['createRemoteNode'](_0x152049),this[_0x1f8097(0x272)](_0x152049);}[_0x178721(0x272)](_0x336231){const _0x1fec14=_0x178721;this[_0x1fec14(0x430)][_0x1fec14(0x31a)][_0x1fec14(0x3db)](_0x336231['id']),this[_0x1fec14(0x944)](_0x336231['id']),this[_0x1fec14(0x1fc)](_0x336231);}['handleNodeUpdate'](_0x1488bb){const _0x5b9b0f=_0x178721,{id:_0x4ab790,metaData:_0x3e095a,rank:_0x19dde3,remoteConnections:_0x1fb1f9,version:_0x22ac1c}=_0x1488bb,_0x281b5b=this[_0x5b9b0f(0x357)][_0x5b9b0f(0xa7d)](_0x4ab790);if(_0x281b5b){if(!(_0x22ac1c<=_0x281b5b[_0x5b9b0f(0x3b5)]())){if(_0x281b5b[_0x5b9b0f(0x976)](_0x1fb1f9),_0x281b5b[_0x5b9b0f(0x9d3)](_0x22ac1c),_0x281b5b[_0x5b9b0f(0x43f)]===_0x12ff66[_0x5b9b0f(0x8ee)][_0x5b9b0f(0x1e2)]&&_0x3e095a[_0x5b9b0f(0x43f)]===_0x12ff66['NodeType'][_0x5b9b0f(0x1e2)]&&(_0x281b5b[_0x5b9b0f(0x483)](_0x3e095a[_0x5b9b0f(0x63d)]),_0x281b5b[_0x5b9b0f(0x8af)](_0x3e095a[_0x5b9b0f(0x7d6)])),_0x19dde3&&_0x281b5b[_0x5b9b0f(0x6d9)](_0x19dde3),this['setLocalRank'](_0x4ab790,_0x19dde3),_0x281b5b[_0x5b9b0f(0x9ff)]()===_0x57380b[_0x5b9b0f(0xa7b)])return _0x281b5b[_0x5b9b0f(0x756)](_0x57380b[_0x5b9b0f(0x5d7)]),this[_0x5b9b0f(0x806)](),void this[_0x5b9b0f(0x272)](_0x1488bb);this[_0x5b9b0f(0x806)](),this[_0x5b9b0f(0x170)]({'id':_0x4ab790,'metaData':_0x3e095a,'remoteConnections':_0x1fb1f9,'version':_0x22ac1c});}}else this['handleNodeJoin'](_0x1488bb);}[_0x178721(0x3a2)](_0x4d16b8,_0x100e63){const _0x328c16=_0x178721;_0x100e63&&this[_0x328c16(0x5d5)][_0x328c16(0x31d)](_0x4d16b8)&&this[_0x328c16(0x430)]['localNode']['setRank'](_0x100e63+this[_0x328c16(0x5d5)][_0x328c16(0x2ee)](_0x4d16b8)+0x1);}[_0x178721(0x812)](_0x27d7c0){const _0x24ec5d=_0x178721;this[_0x24ec5d(0x430)][_0x24ec5d(0x31a)][_0x24ec5d(0x1c9)](_0x27d7c0);}[_0x178721(0x31b)]({id:_0x1c0636,metaData:_0x114bbb,rank:_0xb398c,remoteConnections:_0x59ce0a,version:_0x569f66}){const _0x92c2a=_0x178721;if(this[_0x92c2a(0x357)][_0x92c2a(0x3cc)](_0x1c0636))throw new _0x454d90(_0x92c2a(0x226)+_0x1c0636);switch(_0x114bbb[_0x92c2a(0x43f)]){case _0x12ff66[_0x92c2a(0x8ee)][_0x92c2a(0x1e2)]:const {displayName:_0x1d2196,email:_0x3ab19a}=_0x114bbb;this[_0x92c2a(0x357)][_0x92c2a(0x460)](_0x1c0636,new _0x29e727(_0x1c0636,_0x1d2196,_0x3ab19a,new Set(_0x59ce0a),_0x569f66,_0xb398c));break;case _0x12ff66[_0x92c2a(0x8ee)]['Agent']:this[_0x92c2a(0x357)][_0x92c2a(0x460)](_0x1c0636,new _0xb52824(_0x1c0636,new Set(_0x59ce0a),_0x569f66,_0xb398c));}const _0x52cb81=this['getRemoteNodes'](),_0x58fb8c=new Set(this['ancestors']);_0x52cb81['forEach'](_0x2733e0=>{const _0x2d8c28=_0x92c2a;_0x58fb8c[_0x2d8c28(0x4a6)](_0x2733e0['getId']())&&_0x58fb8c[_0x2d8c28(0xa66)](_0x2733e0[_0x2d8c28(0x78a)]());}),0x0===_0x58fb8c[_0x92c2a(0x3e6)]&&this[_0x92c2a(0x706)]&&(this[_0x92c2a(0x1eb)]&&clearTimeout(this[_0x92c2a(0x1eb)]),this[_0x92c2a(0x1eb)]=setTimeout(()=>{const _0x5e2983=_0x92c2a;this['resolveReady']?.(!0x0),delete this[_0x5e2983(0x706)],delete this[_0x5e2983(0x8dc)];},0x7d0)),this[_0x92c2a(0x3a2)](_0x1c0636,_0xb398c),this[_0x92c2a(0x806)]();}['publishNodeJoin'](_0x4f83c8){const _0x29c4d2=_0x178721;this['systemTopic'][_0x29c4d2(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98['Node'],'content':{'type':_0x19f484[_0x29c4d2(0xa77)],'id':_0x4f83c8}});}[_0x178721(0x7ba)](_0x3346d3){const _0x1f449c=_0x178721;this[_0x1f449c(0x87d)]?.[_0x1f449c(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x1f449c(0x9dd)],'content':{'type':_0x19f484[_0x1f449c(0x574)],'id':_0x3346d3}});}[_0x178721(0x82d)](_0x231b67){const _0x3f2832=_0x178721;if(_0x231b67===this[_0x3f2832(0x430)][_0x3f2832(0x31a)][_0x3f2832(0x78a)]())return this[_0x3f2832(0x430)][_0x3f2832(0x2f0)][_0x3f2832(0x5eb)](_0x3f2832(0x57e),{'id':_0x231b67}),this[_0x3f2832(0x430)]['mediator'][_0x3f2832(0x3d8)]({'force':!0x0},!0x0),this[_0x3f2832(0x430)][_0x3f2832(0x2f0)][_0x3f2832(0x44a)](),void this['configs'][_0x3f2832(0x2f0)]['initialize']();this[_0x3f2832(0x7ba)](_0x231b67);}[_0x178721(0x249)](_0x496a3a){const _0x41b935=_0x178721;this['ancestors'][_0x41b935(0x31d)](_0x496a3a)?this[_0x41b935(0x62b)](_0x496a3a):this[_0x41b935(0x430)][_0x41b935(0x31a)][_0x41b935(0x7af)]()[_0x41b935(0x4a6)](_0x496a3a)&&this[_0x41b935(0x840)](_0x496a3a),this[_0x41b935(0x430)][_0x41b935(0x31a)][_0x41b935(0x9f4)](_0x496a3a);const _0x4f724b=Array[_0x41b935(0x3ac)](this[_0x41b935(0x802)]['entries']())['find'](([,_0x53f30a])=>_0x53f30a==_0x53f30a);_0x4f724b&&this['optimizationLayers']['delete'](_0x4f724b[0x0]);const _0x4f1ec0=this['graphService'][_0x41b935(0xa7d)](_0x496a3a);if(!_0x4f1ec0)return;const _0x6eccec=_0x4f1ec0['getRank'](),_0x420088=this[_0x41b935(0x430)]['localNode']['getRank']();_0x420088&&_0x6eccec&&_0x6eccec<_0x420088&&this[_0x41b935(0x430)]['localNode'][_0x41b935(0x6d9)](_0x420088-0x1,!0x1),Array['from'](this[_0x41b935(0x357)][_0x41b935(0x93c)]()['values']())[_0x41b935(0x2cb)](_0x1f5b5e=>{const _0x5eeaa1=_0x41b935,_0x42fd29=_0x1f5b5e[_0x5eeaa1(0x9ec)]();_0x42fd29&&_0x6eccec&&_0x6eccec<_0x42fd29&&_0x1f5b5e['setRank'](_0x42fd29-0x1);}),_0x4f1ec0[_0x41b935(0x756)](_0x57380b[_0x41b935(0xa7b)]),this[_0x41b935(0x430)][_0x41b935(0x2f0)][_0x41b935(0x5eb)](_0x4f1ec0['type']+_0x41b935(0x9c6),{'id':_0x496a3a});}[_0x178721(0x1fc)]({id:_0x1bea24,metaData:_0x1203dd,remoteConnections:_0x3e1298}){const _0x5c89c7=_0x178721;switch(_0x1203dd[_0x5c89c7(0x43f)]){case _0x12ff66[_0x5c89c7(0x8ee)][_0x5c89c7(0x1e2)]:this[_0x5c89c7(0x430)][_0x5c89c7(0x2f0)][_0x5c89c7(0x5eb)](_0x5c89c7(0x492),{'id':_0x1bea24,'metaData':_0x1203dd,'remoteConnections':_0x3e1298});break;case _0x12ff66[_0x5c89c7(0x8ee)][_0x5c89c7(0x4dc)]:this[_0x5c89c7(0x430)][_0x5c89c7(0x2f0)][_0x5c89c7(0x5eb)](_0x5c89c7(0x93a),{'id':_0x1bea24,'metaData':_0x1203dd,'remoteConnections':_0x3e1298});}}[_0x178721(0x170)]({id:_0x28807f,metaData:_0x195ee0,remoteConnections:_0x352935}){const _0x3815a1=_0x178721;switch(_0x195ee0[_0x3815a1(0x43f)]){case _0x12ff66[_0x3815a1(0x8ee)][_0x3815a1(0x1e2)]:this['configs'][_0x3815a1(0x2f0)]['notifyCluster'](_0x3815a1(0x657),{'id':_0x28807f,'metaData':_0x195ee0,'remoteConnections':_0x352935});break;case _0x12ff66[_0x3815a1(0x8ee)][_0x3815a1(0x4dc)]:this['configs'][_0x3815a1(0x2f0)][_0x3815a1(0x5eb)]('agent-update',{'id':_0x28807f,'metaData':_0x195ee0,'remoteConnections':_0x352935});}}[_0x178721(0x806)](){const _0x575886=_0x178721;if(this['lastProcessRank']||(this['lastProcessRank']=Date[_0x575886(0x2e5)]()),this[_0x575886(0x2f5)]){if(Date[_0x575886(0x2e5)]()-this[_0x575886(0x30f)]>0x2328)return;clearTimeout(this[_0x575886(0x2f5)]);}this[_0x575886(0x2f5)]=setTimeout(async()=>{const _0x3ee3bc=_0x575886;delete this[_0x3ee3bc(0x30f)],delete this[_0x3ee3bc(0x2f5)];const _0x3f5988=this[_0x3ee3bc(0x430)][_0x3ee3bc(0x31a)][_0x3ee3bc(0x9ec)]();if(!_0x3f5988)return;const _0x190d80=this[_0x3ee3bc(0x357)][_0x3ee3bc(0x3c6)](this[_0x3ee3bc(0x357)]['getRemoteNodes']()['size']);if(this[_0x3ee3bc(0x802)][_0x3ee3bc(0x3e6)]>=_0x190d80)return;let _0x19859f=0x1;for(;this[_0x3ee3bc(0x430)][_0x3ee3bc(0x2f0)][_0x3ee3bc(0x7c5)]()['length']<this[_0x3ee3bc(0x357)][_0x3ee3bc(0x19e)]()&&_0x19859f<=_0x190d80;){if(this[_0x3ee3bc(0x802)][_0x3ee3bc(0x4a6)](_0x19859f)){_0x19859f+=0x1;continue;}const _0x40416e=this[_0x3ee3bc(0x357)]['getNextTargetRank'](_0x3f5988,_0x19859f),_0x554707=Array[_0x3ee3bc(0x3ac)](this[_0x3ee3bc(0x357)][_0x3ee3bc(0x93c)]()[_0x3ee3bc(0x9b0)]())['find'](_0x2a892a=>_0x2a892a[_0x3ee3bc(0x9ec)]()===_0x40416e&&_0x2a892a[_0x3ee3bc(0x9ff)]()===_0x57380b['Online']);if(_0x554707){try{await this[_0x3ee3bc(0x430)]['mediator'][_0x3ee3bc(0x5fa)](_0x554707[_0x3ee3bc(0x78a)](),_0x36f35b['Optimization']),this['optimizationLayers'][_0x3ee3bc(0x5f0)](_0x19859f,_0x554707[_0x3ee3bc(0x78a)]());}catch(_0x2225ba){if(!(_0x2225ba instanceof _0x5953b5&&_0x2225ba[_0x3ee3bc(0x3f2)]===_0x5953b5[_0x3ee3bc(0x913)][_0x3ee3bc(0x41f)]))throw _0x2225ba;_0x4826cd[_0x3ee3bc(0x51c)](_0x312d1f[_0x3ee3bc(0x9dd)],this[_0x3ee3bc(0x430)][_0x3ee3bc(0x31a)]['getId'](),_0x554707[_0x3ee3bc(0x78a)](),_0x2225ba[_0x3ee3bc(0x61f)]);}_0x19859f+=0x1;}else _0x19859f+=0x1;}},0x3e8);}async[_0x178721(0x62b)](_0x39ec51){const _0x3a2843=_0x178721;this[_0x3a2843(0x5d5)][_0x3a2843(0x720)](this[_0x3a2843(0x5d5)][_0x3a2843(0x2ee)](_0x39ec51),0x1);const _0x5259f7=await this[_0x3a2843(0x5e7)][_0x3a2843(0x871)]();for(const _0x458b35 of _0x5259f7)if(!this[_0x3a2843(0x5d5)][_0x3a2843(0x31d)](_0x458b35)){const _0x28e29f=Array['from'](this[_0x3a2843(0x802)][_0x3a2843(0x257)]())[_0x3a2843(0x940)](([,_0x4bc38f])=>_0x4bc38f===_0x458b35);_0x28e29f&&this[_0x3a2843(0x802)][_0x3a2843(0xa66)](_0x28e29f[0x0]),this['configs'][_0x3a2843(0x2f0)][_0x3a2843(0x5fa)](_0x458b35,_0x36f35b[_0x3a2843(0x591)]);}0x0===_0x5259f7['length']&&this['configs']['localNode']['setRank'](0x1),this['ancestors']=_0x5259f7;}async[_0x178721(0x840)](_0x1a08a9){const _0xffbccb=_0x178721,_0x59669c=this[_0xffbccb(0x430)][_0xffbccb(0x31a)][_0xffbccb(0x9ec)]();if(!_0x59669c)return;const _0x216e05=this[_0xffbccb(0x357)][_0xffbccb(0xa7d)](_0x1a08a9);if(!_0x216e05||_0x216e05[_0xffbccb(0x9ff)]()===_0x57380b[_0xffbccb(0xa7b)])return;const _0x5e7934=_0x216e05['getRank']();if(!_0x5e7934||_0x5e7934<_0x59669c)return;const _0x324812=this[_0xffbccb(0x1f3)](this[_0xffbccb(0x430)][_0xffbccb(0x31a)][_0xffbccb(0x7af)](),_0x59669c),_0x341975=this[_0xffbccb(0x1f3)](_0x216e05[_0xffbccb(0x7af)](),_0x5e7934)[_0x324812[_0xffbccb(0x1ca)](([_0x3d31cf])=>_0x3d31cf===_0x1a08a9)];if(!_0x341975||this[_0xffbccb(0x430)][_0xffbccb(0x31a)][_0xffbccb(0x7af)]()['has'](_0x341975[0x0]))return;const _0x15fab5=this[_0xffbccb(0x357)]['getRemoteNode'](_0x341975[0x0]);if(_0x15fab5&&_0x15fab5['getStatus']()!==_0x57380b[_0xffbccb(0xa7b)])try{await this['configs'][_0xffbccb(0x2f0)][_0xffbccb(0x5fa)](_0x341975[0x0],_0x36f35b[_0xffbccb(0x4f2)]);const _0x369060=Array['from'](this['optimizationLayers'][_0xffbccb(0x257)]())[_0xffbccb(0x940)](([,_0x68d53a])=>_0x68d53a===_0x1a08a9);_0x369060&&this[_0xffbccb(0x802)][_0xffbccb(0x5f0)](_0x369060[0x0],_0x341975[0x0]);}catch(_0x5c21c7){if(!(_0x5c21c7 instanceof _0x5953b5&&_0x5c21c7[_0xffbccb(0x3f2)]===_0x5953b5['codes']['RemoteConnectionExists']))throw _0x5c21c7;_0x4826cd[_0xffbccb(0x51c)](_0x312d1f[_0xffbccb(0x9dd)],this['configs']['localNode'][_0xffbccb(0x78a)](),_0x341975[0x0],_0x5c21c7['message']);}}[_0x178721(0x1f3)](_0x2de6b8,_0x35797e){const _0x522a9c=_0x178721;return Array[_0x522a9c(0x3ac)](_0x2de6b8)[_0x522a9c(0x41b)]((_0x165e74,_0x21f84b)=>{const _0xbacc7f=_0x522a9c,_0xbd57f0=this[_0xbacc7f(0x357)]['getRemoteNode'](_0x21f84b);if(!_0xbd57f0||_0xbd57f0['getStatus']()===_0x57380b[_0xbacc7f(0xa7b)])return _0x165e74;const _0x4d9aa0=_0xbd57f0[_0xbacc7f(0x9ec)]();if(!_0x4d9aa0)return _0x165e74;const _0x4d404d=_0x4d9aa0-_0x35797e;return _0x4d404d<=this['graphService'][_0xbacc7f(0x46b)]()||_0x165e74[_0xbacc7f(0x77b)]([_0x21f84b,_0x4d404d]),_0x165e74;},[])[_0x522a9c(0x68b)](([,_0x2bf063],[,_0x7652ec])=>_0x2bf063-_0x7652ec);}}const _0x3e8e6e=[{'problemType':_0x37a7f8[_0x178721(0x6e8)],'remediations':[{'type':_0x363119[_0x178721(0x39d)],'component':_0x5693bb['Resolution'],'action':_0x5365aa[_0x178721(0x308)]},{'type':_0x363119[_0x178721(0x36f)],'component':_0x5693bb[_0x178721(0x594)],'action':_0x5365aa[_0x178721(0x308)]}]},{'problemType':_0x37a7f8[_0x178721(0x584)],'remediations':[{'type':_0x363119[_0x178721(0x39d)],'component':_0x5693bb[_0x178721(0x594)],'action':_0x5365aa[_0x178721(0x308)]}]},{'problemType':_0x37a7f8[_0x178721(0x489)],'remediations':[{'type':_0x363119['Remediation'],'component':_0x5693bb[_0x178721(0x594)],'action':_0x5365aa[_0x178721(0x308)]}]},{'problemType':_0x37a7f8[_0x178721(0x429)],'remediations':[{'type':_0x363119['Remediation'],'component':_0x5693bb[_0x178721(0x594)],'action':_0x5365aa[_0x178721(0x308)]}]},{'problemType':_0x37a7f8[_0x178721(0x29b)],'remediations':[{'type':_0x363119[_0x178721(0x39d)],'component':_0x5693bb[_0x178721(0x29b)],'action':_0x5365aa['Downgrade']}]},{'problemType':_0x37a7f8[_0x178721(0x5d0)],'remediations':[{'type':_0x363119['Remediation'],'component':_0x5693bb['Bitrate'],'action':_0x5365aa[_0x178721(0x308)]}]},{'problemType':_0x37a7f8[_0x178721(0x21f)],'remediations':[{'type':_0x363119[_0x178721(0x39d)],'component':_0x5693bb[_0x178721(0x29b)],'action':_0x5365aa['Downgrade']}]}];class _0x30e80b{['configs'];[_0x178721(0x87d)];[_0x178721(0x68f)]=new Map();constructor(_0x3355a8){const _0x3a068d=_0x178721;this[_0x3a068d(0x430)]=_0x3355a8,this[_0x3a068d(0x430)][_0x3a068d(0x2f0)][_0x3a068d(0x81a)](this);}[_0x178721(0x3d8)](){const _0x443fba=_0x178721;this[_0x443fba(0x430)]['mediator']['unregisterSystemSource'](this);}[_0x178721(0x7f7)](_0x18cc86){const _0x32eefb=_0x178721;this[_0x32eefb(0x87d)]=_0x18cc86;}[_0x178721(0x1ae)](){const _0x379f50=_0x178721;delete this[_0x379f50(0x87d)];}['handleDetectionSystemEvents'](_0x4f624f){const _0x38185b=_0x178721;_0x4f624f[_0x38185b(0x855)][_0x38185b(0x43f)]===_0x5d7eb7['Problem']&&this[_0x38185b(0x817)](_0x4f624f[_0x38185b(0x855)][_0x38185b(0x372)]);}[_0x178721(0x886)](_0x5e8254){const _0x5e3f63=_0x178721;_0x5e8254[_0x5e3f63(0x855)][_0x5e3f63(0x43f)]===_0x363119['RemoteRemediation']&&this[_0x5e3f63(0x727)](_0x5e8254[_0x5e3f63(0x8d8)],{'type':_0x363119[_0x5e3f63(0x39d)],'component':_0x5e8254[_0x5e3f63(0x855)][_0x5e3f63(0x372)][_0x5e3f63(0xa8e)],'action':_0x5e8254[_0x5e3f63(0x855)][_0x5e3f63(0x372)]['action']});}[_0x178721(0x817)](_0x53b793){const _0x441987=_0x178721,_0x25b6ad=_0x3e8e6e[_0x441987(0x940)](_0x5996d0=>_0x5996d0[_0x441987(0xa45)]===_0x53b793[_0x441987(0x43f)]);_0x25b6ad[_0x441987(0x862)]?.['forEach'](_0x5f3806=>{const _0x4da1c1=_0x441987;this['applyRemediation'](_0x53b793['nodeId'],{'type':_0x53b793[_0x4da1c1(0x2a1)]===_0x5a0536[_0x4da1c1(0x2d5)]?_0x363119['Remediation']:_0x363119['RemoteRemediation'],'component':_0x5f3806[_0x4da1c1(0xa8e)],'action':_0x5f3806[_0x4da1c1(0x1b2)]});});}[_0x178721(0x727)](_0x39448a,_0xd2da08){const _0x5282bd=_0x178721;if(_0xd2da08[_0x5282bd(0x43f)]===_0x363119[_0x5282bd(0x39d)]){const _0x46bd0c=Date['now'](),_0x4e8ad3=this[_0x5282bd(0x68f)][_0x5282bd(0x603)](_0x39448a);if(_0x4e8ad3&&_0x46bd0c-_0x4e8ad3<0x1388)return;this[_0x5282bd(0x68f)][_0x5282bd(0x5f0)](_0x39448a,_0x46bd0c);}_0x4826cd[_0x5282bd(0x51c)](_0x312d1f[_0x5282bd(0x39d)],_0x5282bd(0x2e2),_0xd2da08),_0x4826cd[_0x5282bd(0x54c)](_0x5282bd(0x4be),{'clusterId':this[_0x5282bd(0x430)][_0x5282bd(0x494)],'nodeId':this[_0x5282bd(0x430)][_0x5282bd(0x31a)][_0x5282bd(0x78a)](),'nodeType':this[_0x5282bd(0x430)][_0x5282bd(0x31a)][_0x5282bd(0x43f)],'remoteId':_0x39448a,'data':{'type':_0xd2da08[_0x5282bd(0x43f)],'component':_0xd2da08[_0x5282bd(0xa8e)],'action':_0xd2da08[_0x5282bd(0x1b2)]}});let _0x874f01,_0x688b69=_0x5503f9;_0xd2da08[_0x5282bd(0x43f)]===_0x363119[_0x5282bd(0x36f)]&&(_0x688b69=this[_0x5282bd(0x430)][_0x5282bd(0x31a)][_0x5282bd(0x78a)](),_0x874f01=[_0x39448a]),this[_0x5282bd(0x87d)][_0x5282bd(0xa83)]({'sourceId':_0x688b69,'destinationIds':_0x874f01,'messageType':_0x51ac98['Remediation'],'content':{'type':_0xd2da08[_0x5282bd(0x43f)],'targetId':_0x39448a,'data':_0xd2da08}});}}const _0x1f1746=0x3e8,_0x4e108b=0x7530,_0x4f5884=_0x178721(0x7e4),_0x424897=_0x178721(0x7b2),_0x47ed7c='inbound-rtp',_0x5979b9=[_0x4f5884,_0x424897],_0x437463=[_0x47ed7c];class _0x245b1f{[_0x178721(0x2de)]=0x0;[_0x178721(0x7f2)]=0x0;[_0x178721(0x212)]=0x0;[_0x178721(0x825)]=0x0;[_0x178721(0x4c3)]=0x0;[_0x178721(0x7a7)]=0x0;['previousTimestamp']=0x0;[_0x178721(0x5ec)]=0x0;['previousBytes']=0x0;get[_0x178721(0xa81)](){const _0x2fa492=_0x178721;return this[_0x2fa492(0x7a7)]>0x0&&this[_0x2fa492(0x645)]>0x0&&Date[_0x2fa492(0x2e5)]()-this[_0x2fa492(0x7a7)]<_0x4e108b?(this[_0x2fa492(0x5ec)]-this[_0x2fa492(0x7b1)])/(this[_0x2fa492(0x7a7)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x178721(0x828)](_0x5bec23){const _0xaed966=_0x178721;switch(_0x5bec23[_0xaed966(0x43f)]){case _0x47ed7c:this[_0xaed966(0xab4)](_0x5bec23);break;case _0x4f5884:this[_0xaed966(0x89a)](_0x5bec23);break;case _0x424897:this[_0xaed966(0x6c9)](_0x5bec23);}}[_0x178721(0xaa7)](){const _0x523e53=_0x178721;return{'bitrate':this[_0x523e53(0xa81)],'packetsLostPerc':this[_0x523e53(0x745)](),'roundTripTime':this[_0x523e53(0x2de)],'jitter':this[_0x523e53(0x212)]};}[_0x178721(0xab4)](_0x2c17be){const _0x296258=_0x178721;this[_0x296258(0x4ef)](_0x2c17be[_0x296258(0x6fb)]),this[_0x296258(0x36d)](_0x2c17be[_0x296258(0x8cd)]),this[_0x296258(0x4c3)]=_0x2c17be[_0x296258(0x8fa)],this[_0x296258(0x825)]=_0x2c17be[_0x296258(0x825)],void 0x0!==_0x2c17be[_0x296258(0x212)]?this[_0x296258(0x212)]=_0x2c17be[_0x296258(0x212)]:this[_0x296258(0x212)]=0x0,void 0x0!==_0x2c17be[_0x296258(0x7f2)]?this[_0x296258(0x7f2)]=_0x2c17be[_0x296258(0x7f2)]:this[_0x296258(0x7f2)]=0x0;}[_0x178721(0x89a)](_0x320972){const _0x420a24=_0x178721;this[_0x420a24(0x4ef)](_0x320972[_0x420a24(0x608)]),this[_0x420a24(0x36d)](_0x320972[_0x420a24(0x8cd)]),this['packets']=_0x320972['packetsSent'];}[_0x178721(0x6c9)](_0x15ae3d){const _0x1336cf=_0x178721;this['roundTripTime']=0x3e8*_0x15ae3d[_0x1336cf(0x2de)],void 0x0!==_0x15ae3d['jitter']?this[_0x1336cf(0x212)]=_0x15ae3d[_0x1336cf(0x212)]:this['jitter']=0x0;}[_0x178721(0x745)](){return this['packets']>0x0?this['packetsLost']/this['packets']:0x0;}[_0x178721(0x36d)](_0x2f8e5f){const _0x36a687=_0x178721;_0x2f8e5f>this[_0x36a687(0x7a7)]&&(this['previousTimestamp']=this[_0x36a687(0x7a7)],this['currentTimestamp']=_0x2f8e5f);}['setBytes'](_0x43bde4){const _0x12462e=_0x178721;this[_0x12462e(0x7b1)]=this['currentBytes'],this[_0x12462e(0x5ec)]=_0x43bde4;}}class _0x3a9100 extends _0x245b1f{}class _0x1402a8 extends _0x245b1f{[_0x178721(0x72b)]=0x0;[_0x178721(0x442)]=0x0;['frameHeight']=0x0;['currentFrames']=0x0;['previousFrames']=0x0;get['fps'](){const _0xb0def=_0x178721;return this[_0xb0def(0x7a7)]>0x0&&this[_0xb0def(0x645)]>0x0&&Date[_0xb0def(0x2e5)]()-this['currentTimestamp']<_0x4e108b?(this['currentFrames']-this[_0xb0def(0x4fd)])/(this[_0xb0def(0x7a7)]-this[_0xb0def(0x645)])*0x3e8:0x0;}get[_0x178721(0x1d0)](){const _0x22107f=_0x178721;return this[_0x22107f(0x72b)]&&this[_0x22107f(0x98e)]&&this[_0x22107f(0x98e)]>0x0?this['frameTime']/this[_0x22107f(0x98e)]:0x0;}set[_0x178721(0x9af)](_0x233537){const _0x56bf27=_0x178721;this[_0x56bf27(0x4fd)]=this[_0x56bf27(0x98e)],this[_0x56bf27(0x98e)]=_0x233537;}[_0x178721(0xaa7)](){const _0x4cbd8f=_0x178721;return{...super['getReport'](),'FPS':this[_0x4cbd8f(0x3d3)],'timePerFrame':this[_0x4cbd8f(0x1d0)],'frameWidth':this[_0x4cbd8f(0x442)],'frameHeight':this[_0x4cbd8f(0x46d)]};}[_0x178721(0xab4)](_0xaffe9){const _0x47e296=_0x178721;super[_0x47e296(0xab4)](_0xaffe9),this['frameTime']=_0xaffe9[_0x47e296(0x87b)],this['frames']=_0xaffe9[_0x47e296(0x761)],this[_0x47e296(0x442)]=_0xaffe9[_0x47e296(0x442)],this['frameHeight']=_0xaffe9[_0x47e296(0x46d)];}[_0x178721(0x89a)](_0x22f5f6){const _0x187d46=_0x178721;super['processOutboundReport'](_0x22f5f6),this[_0x187d46(0x72b)]=_0x22f5f6[_0x187d46(0x335)],this[_0x187d46(0x9af)]=_0x22f5f6[_0x187d46(0x8ed)],this[_0x187d46(0x442)]=_0x22f5f6[_0x187d46(0x442)],this[_0x187d46(0x46d)]=_0x22f5f6[_0x187d46(0x46d)];}}class _0xfab114{[_0x178721(0x17e)]=new _0x3a9100();[_0x178721(0x63a)]=new _0x1402a8();get[_0x178721(0xa81)](){const _0x31d2ef=_0x178721;return this['audio'][_0x31d2ef(0xa81)]+this['video'][_0x31d2ef(0xa81)];}[_0x178721(0x6b9)](_0x11bca0){const _0x2dc218=_0x178721;return _0x11bca0[_0x2dc218(0x2cb)](_0x12ca94=>{const _0x1a0838=_0x2dc218;switch(_0x12ca94[_0x1a0838(0x6cb)]){case _0x1a0838(0x17e):this[_0x1a0838(0x17e)][_0x1a0838(0x828)](_0x12ca94);break;case _0x1a0838(0x63a):this[_0x1a0838(0x63a)][_0x1a0838(0x828)](_0x12ca94);}}),this['getReport']();}[_0x178721(0xaa7)](){const _0x599b8d=_0x178721;return{'audio':this['audio'][_0x599b8d(0xaa7)](),'video':this[_0x599b8d(0x63a)][_0x599b8d(0xaa7)](),'roundTripTime':this[_0x599b8d(0x9d8)](),'AudioVideoDelay':this[_0x599b8d(0x4ec)](),'bitrate':this['bitrate']};}[_0x178721(0x9d8)](){const _0x1e45c6=_0x178721;return Math['floor']((this[_0x1e45c6(0x17e)][_0x1e45c6(0x2de)]+this[_0x1e45c6(0x63a)][_0x1e45c6(0x2de)])/0x2);}['getAudioVideoDelay'](){const _0x223d3b=_0x178721;return this[_0x223d3b(0x17e)][_0x223d3b(0x7f2)]-this['video'][_0x223d3b(0x7f2)];}}class _0x51e31a{['senderCurrentTimestamp']=0x0;['senderPreviousTimestamp']=0x0;[_0x178721(0xa7e)]=0x0;[_0x178721(0x3ca)]=0x0;[_0x178721(0x67d)]=0x0;[_0x178721(0x538)]=0x0;[_0x178721(0x6f6)]=0x0;[_0x178721(0x20f)]=0x0;['senderTotalMessages']=0x0;['receiverTotalMessages']=0x0;[_0x178721(0x1b8)]=0x0;[_0x178721(0x734)]=0x0;[_0x178721(0x2de)]=0x0;get['bitrate'](){const _0x4617ca=_0x178721;return this[_0x4617ca(0xa18)]+this[_0x4617ca(0x38a)];}get[_0x178721(0xa18)](){const _0x217cab=_0x178721;return this['senderCurrentTimestamp']>0x0&&this[_0x217cab(0x73f)]>0x0&&Date[_0x217cab(0x2e5)]()-this[_0x217cab(0xa89)]<_0x4e108b?(this[_0x217cab(0x67d)]-this['senderPreviousBytes'])/(this['senderCurrentTimestamp']-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x477b23=_0x178721;return this[_0x477b23(0xa7e)]>0x0&&this[_0x477b23(0x3ca)]>0x0&&Date[_0x477b23(0x2e5)]()-this['receiverCurrentTimestamp']<_0x4e108b?(this[_0x477b23(0x6f6)]-this[_0x477b23(0x20f)])/(this[_0x477b23(0xa7e)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x108844){const _0xfa056a=_0x178721;switch(_0x108844[_0xfa056a(0x2a1)]){case _0x5a0536[_0xfa056a(0x2d5)]:this[_0xfa056a(0x8cf)](_0x108844);break;case _0x5a0536[_0xfa056a(0x888)]:this[_0xfa056a(0x36b)](_0x108844);}}[_0x178721(0xaa7)](){const _0x114d92=_0x178721;return{'bitrate':this[_0x114d92(0xa81)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x114d92(0x38a)],'totalBytes':this[_0x114d92(0x9f8)](),'senderTotalBytes':this[_0x114d92(0x208)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x114d92(0x5e8)]+this[_0x114d92(0x62d)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x114d92(0x734)],'senderTimeProcessing':this[_0x114d92(0x1b8)],'receiverTimeProcessing':this[_0x114d92(0x734)],'roundTripTime':this[_0x114d92(0x2de)]};}[_0x178721(0x9f8)](){const _0x4fb72a=_0x178721;return this[_0x4fb72a(0x67d)]+this[_0x4fb72a(0x6f6)];}[_0x178721(0x208)](){return this['senderCurrentBytes'];}[_0x178721(0x7a6)](){const _0x3e214e=_0x178721;return this[_0x3e214e(0x6f6)];}[_0x178721(0x8cf)](_0x28d9ae){const _0x43f64e=_0x178721;this['setSenderTimestamp'](_0x28d9ae[_0x43f64e(0x8cd)]),this[_0x43f64e(0x4ef)](_0x28d9ae[_0x43f64e(0x608)]),this[_0x43f64e(0x5e8)]=_0x28d9ae[_0x43f64e(0x7bf)],this[_0x43f64e(0x1b8)]=_0x28d9ae[_0x43f64e(0x49c)],this[_0x43f64e(0x2de)]=_0x28d9ae['roundTripTime'];}['processReceiverReport'](_0x344ac3){const _0x32fde8=_0x178721;this[_0x32fde8(0x8e4)](_0x344ac3[_0x32fde8(0x8cd)]),this['setReceiverBytes'](_0x344ac3[_0x32fde8(0x6fb)]),this[_0x32fde8(0x62d)]=_0x344ac3[_0x32fde8(0x7a4)],this[_0x32fde8(0x734)]=_0x344ac3[_0x32fde8(0x5c8)];}['setSenderTimestamp'](_0x3d2cc3){const _0x4fce81=_0x178721;_0x3d2cc3>this[_0x4fce81(0xa89)]&&(this[_0x4fce81(0x73f)]=this[_0x4fce81(0xa89)],this[_0x4fce81(0xa89)]=_0x3d2cc3);}[_0x178721(0x8e4)](_0x2d205d){const _0x2db73d=_0x178721;_0x2d205d>this[_0x2db73d(0xa7e)]&&(this['receiverPreviousTimestamp']=this[_0x2db73d(0xa7e)],this[_0x2db73d(0xa7e)]=_0x2d205d);}[_0x178721(0x4ef)](_0x59a82f){const _0x394324=_0x178721;this[_0x394324(0x538)]=this[_0x394324(0x67d)],this[_0x394324(0x67d)]=_0x59a82f;}['setReceiverBytes'](_0x302443){const _0x36491e=_0x178721;this[_0x36491e(0x20f)]=this[_0x36491e(0x6f6)],this[_0x36491e(0x6f6)]=_0x302443;}}class _0x41dc78{[_0x178721(0xa90)]=new Map();['receiverStreams']=new Map();['dataChannel']=new _0x51e31a();get['senderBitrate'](){const _0x283e12=_0x178721;let _0x520036=0x0;return this[_0x283e12(0xa90)][_0x283e12(0x2cb)](_0x578b3d=>{const _0x179a08=_0x283e12;_0x520036+=_0x578b3d[_0x179a08(0xa81)];}),_0x520036+=this[_0x283e12(0x876)][_0x283e12(0xa18)],_0x520036;}get[_0x178721(0x38a)](){const _0x34e991=_0x178721;let _0x2b431c=0x0;return this[_0x34e991(0x9bd)][_0x34e991(0x2cb)](_0xc87417=>{const _0x4a2c0d=_0x34e991;_0x2b431c+=_0xc87417[_0x4a2c0d(0xa81)];}),_0x2b431c+=this[_0x34e991(0x876)][_0x34e991(0x38a)],_0x2b431c;}get[_0x178721(0xa81)](){const _0x4ce61a=_0x178721;return this[_0x4ce61a(0xa18)]+this[_0x4ce61a(0x38a)];}[_0x178721(0x6b9)](_0x221b58,_0xacdb03){const _0x17c04f=_0x178721,_0x399fc3=[],_0x2faf37=[];return _0x221b58 instanceof Array?_0x221b58[_0x17c04f(0x2cb)](_0x121d3f=>{const _0xf26cd2=_0x17c04f;_0x121d3f[_0xf26cd2(0x2cb)](_0x3eaa7e=>{const _0x326c26=_0xf26cd2;_0x437463[_0x326c26(0x31d)](_0x3eaa7e[_0x326c26(0x43f)])&&_0x399fc3[_0x326c26(0x77b)](_0x3eaa7e),_0x5979b9[_0x326c26(0x31d)](_0x3eaa7e[_0x326c26(0x43f)])&&_0x2faf37[_0x326c26(0x77b)](_0x3eaa7e);});}):this['dataChannel'][_0x17c04f(0x828)](_0x221b58),_0x399fc3[_0x17c04f(0x3f4)]>0x0&&_0xacdb03?{...this[_0x17c04f(0x728)](_0xacdb03,_0x399fc3),'origin':_0x5a0536[_0x17c04f(0x888)],'streamId':_0xacdb03}:_0x2faf37[_0x17c04f(0x3f4)]>0x0&&_0xacdb03?{...this[_0x17c04f(0x836)](_0xacdb03,_0x2faf37),'origin':_0x5a0536[_0x17c04f(0x2d5)],'streamId':_0xacdb03}:void 0x0;}[_0x178721(0xaa7)](){const _0x12edb7=_0x178721,_0x40c2a1={};this[_0x12edb7(0xa90)][_0x12edb7(0x2cb)]((_0x3619ef,_0x5ceb68)=>{const _0x2af9a2=_0x12edb7;_0x40c2a1[_0x5ceb68]=_0x3619ef[_0x2af9a2(0xaa7)]();});const _0x2f08b0={};return this[_0x12edb7(0x9bd)][_0x12edb7(0x2cb)]((_0x2cc7c3,_0x1b1c69)=>{const _0x464bd1=_0x12edb7;_0x2f08b0[_0x1b1c69]=_0x2cc7c3[_0x464bd1(0xaa7)]();}),{'bitrate':this[_0x12edb7(0xa81)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x12edb7(0x38a)],'senderStreams':_0x40c2a1,'receiverStreams':_0x2f08b0,'dataChannel':this[_0x12edb7(0x876)]['getReport']()};}[_0x178721(0x728)](_0x42ffeb,_0x58e6f7){const _0x583fde=_0x178721;return this[_0x583fde(0x9bd)][_0x583fde(0x4a6)](_0x42ffeb)||this['receiverStreams']['set'](_0x42ffeb,new _0xfab114()),this[_0x583fde(0x9bd)]['get'](_0x42ffeb)['processReports'](_0x58e6f7);}['processOutboundReports'](_0x239ed0,_0x48948f){const _0x337ec3=_0x178721;return this['senderStreams'][_0x337ec3(0x4a6)](_0x239ed0)||this['senderStreams'][_0x337ec3(0x5f0)](_0x239ed0,new _0xfab114()),this[_0x337ec3(0xa90)][_0x337ec3(0x603)](_0x239ed0)['processReports'](_0x48948f);}}class _0x135963{['nodes']=new Map();[_0x178721(0x480)]=0x0;[_0x178721(0x405)]=0x0;[_0x178721(0x92d)]=new Map();[_0x178721(0x7e9)]=new Map();[_0x178721(0x375)]=new Map();['generativeAIContexts']=new Map();[_0x178721(0x78d)]=new Map();['vectorDatabases']=new Map();['graphDatabases']=new Map();[_0x178721(0x301)]=new Map();[_0x178721(0x5e8)]=new Map();[_0x178721(0x62d)]=new Map();['senderTimeProcessing']=new Map();[_0x178721(0x734)]=new Map();[_0x178721(0x449)]=new Map();[_0x178721(0x87d)];['getReport'](){const _0x2364b6=_0x178721,_0x11b4f6={};this['nodes'][_0x2364b6(0x2cb)]((_0xbabb74,_0x2f8a0b)=>{const _0x35997c=_0x2364b6;_0x11b4f6[_0x2f8a0b]=_0xbabb74[_0x35997c(0xaa7)]();});let _0x427ae3=0x0;this['senderTimeProcessing'][_0x2364b6(0x2cb)](_0x6b76a7=>{_0x427ae3+=_0x6b76a7;});let _0x208e01=0x0;this['receiverTimeProcessing']['forEach'](_0x12ca02=>{_0x208e01+=_0x12ca02;});const _0x3d38f5=_0x427ae3+_0x208e01;let _0x29fd78={'messages':{'total':0x0}};this[_0x2364b6(0x449)][_0x2364b6(0x2cb)](_0x2abd4d=>{const _0x5afa22=_0x2364b6;Object[_0x5afa22(0x89f)](_0x2abd4d)[_0x5afa22(0x2cb)](_0x4d5710=>{const _0x17014b=_0x5afa22;_0x29fd78[_0x4d5710]||(_0x29fd78[_0x4d5710]={}),Object[_0x17014b(0x89f)](_0x2abd4d[_0x4d5710])[_0x17014b(0x2cb)](_0x5e0237=>{_0x29fd78[_0x4d5710][_0x5e0237]||(_0x29fd78[_0x4d5710][_0x5e0237]=0x0),_0x29fd78[_0x4d5710][_0x5e0237]+=_0x2abd4d[_0x4d5710][_0x5e0237];});});});let _0x41e397=0x0,_0xc1a47b=0x0,_0x4cf554=0x0,_0x5d445c=0x0,_0x13f05b=0x0;return this['pubsubTopics']['forEach'](_0x25213a=>{const _0x289233=_0x2364b6;_0xc1a47b+=_0x25213a[_0x289233(0x7bf)],_0x4cf554+=_0x25213a[_0x289233(0x7a4)],_0x5d445c+=_0x25213a[_0x289233(0x608)],_0x13f05b+=_0x25213a[_0x289233(0x6fb)];}),this[_0x2364b6(0x7e9)][_0x2364b6(0x2cb)](_0x5ed2c2=>{const _0x25fe36=_0x2364b6;_0x41e397+=_0x5ed2c2[_0x25fe36(0x3b6)],_0xc1a47b+=_0x5ed2c2[_0x25fe36(0x7bf)],_0x4cf554+=_0x5ed2c2[_0x25fe36(0x7a4)],_0x5d445c+=_0x5ed2c2[_0x25fe36(0x608)],_0x13f05b+=_0x5ed2c2[_0x25fe36(0x6fb)];}),this[_0x2364b6(0x375)][_0x2364b6(0x2cb)](_0x39ec27=>{const _0x1ea250=_0x2364b6;_0x41e397+=_0x39ec27[_0x1ea250(0x3b6)],_0xc1a47b+=_0x39ec27['messagesSent'],_0x4cf554+=_0x39ec27['messagesReceived'],_0x5d445c+=_0x39ec27['bytesSent'],_0x13f05b+=_0x39ec27[_0x1ea250(0x6fb)];}),this[_0x2364b6(0x40d)][_0x2364b6(0x2cb)](_0xfc1df7=>{const _0xc6749a=_0x2364b6;_0x41e397+=_0xfc1df7[_0xc6749a(0x3b6)],_0xc1a47b+=_0xfc1df7[_0xc6749a(0x7bf)],_0x4cf554+=_0xfc1df7['messagesReceived'],_0x5d445c+=_0xfc1df7[_0xc6749a(0x608)],_0x13f05b+=_0xfc1df7[_0xc6749a(0x6fb)];}),this[_0x2364b6(0x78d)][_0x2364b6(0x2cb)](_0x1a5723=>{const _0x58661b=_0x2364b6;_0x41e397+=_0x1a5723[_0x58661b(0x3b6)],_0xc1a47b+=_0x1a5723['messagesSent'],_0x4cf554+=_0x1a5723[_0x58661b(0x7a4)],_0x5d445c+=_0x1a5723['bytesSent'],_0x13f05b+=_0x1a5723[_0x58661b(0x6fb)];}),this[_0x2364b6(0x407)][_0x2364b6(0x2cb)](_0x548ad7=>{const _0x2206a4=_0x2364b6;_0x41e397+=_0x548ad7[_0x2206a4(0x3b6)],_0xc1a47b+=_0x548ad7[_0x2206a4(0x7bf)],_0x4cf554+=_0x548ad7[_0x2206a4(0x7a4)],_0x5d445c+=_0x548ad7[_0x2206a4(0x608)],_0x13f05b+=_0x548ad7[_0x2206a4(0x6fb)];}),this[_0x2364b6(0x16e)][_0x2364b6(0x2cb)](_0x3c9c69=>{const _0x1400f4=_0x2364b6;_0x41e397+=_0x3c9c69['storage'],_0xc1a47b+=_0x3c9c69[_0x1400f4(0x7bf)],_0x4cf554+=_0x3c9c69[_0x1400f4(0x7a4)],_0x5d445c+=_0x3c9c69[_0x1400f4(0x608)],_0x13f05b+=_0x3c9c69['bytesReceived'];}),{'STVolatility':this[_0x2364b6(0x9fe)](),'DTVolatility':this[_0x2364b6(0x533)](),'bitrate':this[_0x2364b6(0x527)](),'senderBitrate':this[_0x2364b6(0x29f)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x41e397,'totalMessages':_0xc1a47b+_0x4cf554,'totalMessagesSent':_0xc1a47b,'totalMessagesReceived':_0x4cf554,'totalBytes':_0x5d445c+_0x13f05b,'totalBytesSent':_0x5d445c,'totalBytesReceived':_0x13f05b,'systemMessages':_0x29fd78,'timeProcessing':_0x3d38f5,'nodes':_0x11b4f6,'pubsubTopics':Object[_0x2364b6(0x17b)](this[_0x2364b6(0x92d)]),'objectStores':Object['fromEntries'](this[_0x2364b6(0x7e9)]),'keyValueDatabases':Object[_0x2364b6(0x17b)](this['keyValueDatabases']),'generativeAIContexts':Object[_0x2364b6(0x17b)](this[_0x2364b6(0x40d)]),'generativeAIWorkers':Object[_0x2364b6(0x17b)](this[_0x2364b6(0x78d)]),'vectorDatabases':Object['fromEntries'](this['vectorDatabases']),'graphDatabases':Object[_0x2364b6(0x17b)](this[_0x2364b6(0x16e)]),'externalStorages':Object['fromEntries'](this[_0x2364b6(0x301)])};}[_0x178721(0x4d3)](_0xd2e142){const _0x225526=_0x178721;this[_0x225526(0x498)]['set'](_0xd2e142,new _0x41dc78());}['removeRemoteNode'](_0x3e6dba){const _0x2c0fb4=_0x178721;this[_0x2c0fb4(0x498)][_0x2c0fb4(0xa66)](_0x3e6dba);}[_0x178721(0x6b9)](_0x34ce1c,_0x201efe,_0x2aee81){const _0x520a78=_0x178721;_0x201efe instanceof Array||this[_0x520a78(0x979)](_0x34ce1c,_0x201efe);const _0x4aa479=this[_0x520a78(0x498)][_0x520a78(0x603)](_0x34ce1c)?.[_0x520a78(0x6b9)](_0x201efe,_0x2aee81);_0x4aa479&&this['systemTopic'][_0x520a78(0xa83)]({'sourceId':_0x5503f9,'messageType':_0x51ac98[_0x520a78(0x397)],'content':{'type':_0x395235[_0x520a78(0x462)],'data':{..._0x4aa479,'nodeId':_0x34ce1c}}});}[_0x178721(0x2db)](_0x460e6f){const _0x2a55fe=_0x178721;this['setScheduleTime'](_0x460e6f[_0x2a55fe(0x3b1)]),this[_0x2a55fe(0x602)](_0x460e6f['durationTime']),this[_0x2a55fe(0x87d)]['publish']({'sourceId':_0x5503f9,'messageType':_0x51ac98['Stats'],'content':{'type':_0x395235[_0x2a55fe(0x221)],'data':{'STVolatility':this[_0x2a55fe(0x9fe)](),'DTVolatility':this[_0x2a55fe(0x533)]()}}});}['processServiceReport'](_0x4520e3,_0x58d0de,_0x251d92){const _0x4c3448=_0x178721;switch(_0x58d0de){case _0x4ef04d[_0x4c3448(0x833)]:this[_0x4c3448(0x92d)][_0x4c3448(0x5f0)](_0x4520e3,_0x251d92);break;case _0x4ef04d[_0x4c3448(0x5de)]:this[_0x4c3448(0x7e9)][_0x4c3448(0x5f0)](_0x4520e3,_0x251d92);break;case _0x4ef04d['KeyValueDatabaseStats']:this[_0x4c3448(0x375)][_0x4c3448(0x5f0)](_0x4520e3,_0x251d92);break;case _0x4ef04d[_0x4c3448(0x799)]:this[_0x4c3448(0x40d)][_0x4c3448(0x5f0)](_0x4520e3,_0x251d92);break;case _0x4ef04d[_0x4c3448(0x80a)]:this[_0x4c3448(0x78d)]['set'](_0x4520e3,_0x251d92);break;case _0x4ef04d[_0x4c3448(0x25c)]:this[_0x4c3448(0x407)]['set'](_0x4520e3,_0x251d92);break;case _0x4ef04d['GraphDatabaseStats']:this[_0x4c3448(0x16e)][_0x4c3448(0x5f0)](_0x4520e3,_0x251d92);break;case _0x4ef04d['ExternalStorageStats']:this[_0x4c3448(0x301)][_0x4c3448(0x5f0)](_0x4520e3,_0x251d92);}}[_0x178721(0x7f7)](_0x11bae1){const _0x445da3=_0x178721;this[_0x445da3(0x87d)]=_0x11bae1;}['unregisterSystemPublisher'](){const _0x25b8c5=_0x178721;delete this[_0x25b8c5(0x87d)];}[_0x178721(0x9fe)](){const _0x1e66ab=_0x178721;return this[_0x1e66ab(0x480)]>0x0&&this[_0x1e66ab(0x480)]-_0x1f1746>0x0?(this[_0x1e66ab(0x480)]-_0x1f1746)/_0x1f1746:0x0;}[_0x178721(0x533)](){const _0x5e8114=_0x178721;return this[_0x5e8114(0x405)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x5e8114(0x405)]-0x64)/0x64:0x0;}[_0x178721(0x29f)](){const _0x29af3f=_0x178721;let _0x44f934=0x0;return this[_0x29af3f(0x498)][_0x29af3f(0x2cb)](_0x59eb78=>{const _0x5ee170=_0x29af3f;_0x44f934+=_0x59eb78[_0x5ee170(0xa18)];}),_0x44f934;}[_0x178721(0x54f)](){const _0x5d1029=_0x178721;let _0x3ed092=0x0;return this['nodes'][_0x5d1029(0x2cb)](_0xf7c1f1=>{const _0x1b1aa5=_0x5d1029;_0x3ed092+=_0xf7c1f1[_0x1b1aa5(0x38a)];}),_0x3ed092;}[_0x178721(0x527)](){const _0x8bacd5=_0x178721;let _0x520f4a=0x0;return this[_0x8bacd5(0x498)][_0x8bacd5(0x2cb)](_0x44a49a=>{_0x520f4a+=_0x44a49a['bitrate'];}),_0x520f4a;}[_0x178721(0x75a)](_0x51329d){const _0x1302c1=_0x178721;this[_0x1302c1(0x480)]=_0x51329d;}['setDurationTime'](_0x33e578){const _0xcf3ccf=_0x178721;this[_0xcf3ccf(0x405)]=_0x33e578;}['processDataChannelReport'](_0x35c735,_0x44036f){const _0x4c2bf1=_0x178721;switch(_0x44036f[_0x4c2bf1(0x2a1)]){case _0x5a0536['Sender']:this[_0x4c2bf1(0x8cf)](_0x35c735,_0x44036f);break;case _0x5a0536[_0x4c2bf1(0x888)]:this[_0x4c2bf1(0x36b)](_0x35c735,_0x44036f);}}[_0x178721(0x8cf)](_0x414403,_0x2d2926){const _0x4449a1=_0x178721;this[_0x4449a1(0x5e8)][_0x4449a1(0x5f0)](_0x414403,_0x2d2926[_0x4449a1(0x7bf)]),this[_0x4449a1(0x1b8)][_0x4449a1(0x5f0)](_0x414403,_0x2d2926[_0x4449a1(0x49c)]);}[_0x178721(0x36b)](_0x440153,_0x14de98){const _0x224af5=_0x178721;this[_0x224af5(0x62d)]['set'](_0x440153,_0x14de98[_0x224af5(0x7a4)]),this[_0x224af5(0x734)]['set'](_0x440153,_0x14de98['timeReceiving']),this[_0x224af5(0x449)][_0x224af5(0x5f0)](_0x440153,_0x14de98[_0x224af5(0x449)]);}}class _0x4b6f37{[_0x178721(0x430)];[_0x178721(0x1ba)]=new Set();[_0x178721(0xa54)];[_0x178721(0x695)];[_0x178721(0x777)];[_0x178721(0x3e4)]=new _0x135963();constructor(_0x350f54){const _0x4daffc=_0x178721;this[_0x4daffc(0x430)]=_0x350f54,this[_0x4daffc(0x430)][_0x4daffc(0x2f0)][_0x4daffc(0x81a)](this[_0x4daffc(0x3e4)]),this[_0x4daffc(0x695)]=this['setupStatsCollection'](),this[_0x4daffc(0x777)]=this[_0x4daffc(0x57b)]();}[_0x178721(0x3d8)](){const _0x1cf2ff=_0x178721;this[_0x1cf2ff(0x430)]['mediator'][_0x1cf2ff(0x1e0)](this[_0x1cf2ff(0x3e4)]),this[_0x1cf2ff(0x777)](),this['statsCollection']();}[_0x178721(0x4d3)](_0x4c19a3){const _0x26fa71=_0x178721;this['remoteNodes'][_0x26fa71(0x9b5)](_0x4c19a3),this['statsReport'][_0x26fa71(0x4d3)](_0x4c19a3);}['removeRemoteNode'](_0x498edf){const _0x2ec76a=_0x178721;this[_0x2ec76a(0x1ba)][_0x2ec76a(0xa66)](_0x498edf),this[_0x2ec76a(0x3e4)]['removeRemoteNode'](_0x498edf);}['handlePeerConnectionSystemEvents'](_0x1a4510){const _0x12873b=_0x178721;if(_0x1a4510[_0x12873b(0x855)][_0x12873b(0x43f)]===_0x26b257[_0x12873b(0x397)]){const {nodeId:_0x53bfa1,streamId:_0x1c4aee,stats:_0x59e027}=_0x1a4510[_0x12873b(0x855)];this['statsReport']['processReports'](_0x53bfa1,_0x59e027,_0x1c4aee);}}['handleContentSystemEvents'](_0x262df3){const _0x795f03=_0x178721;switch(_0x262df3[_0x795f03(0x855)][_0x795f03(0x43f)]){case _0x4ef04d[_0x795f03(0x5de)]:case _0x4ef04d[_0x795f03(0xa65)]:case _0x4ef04d['PubSubTopicStats']:case _0x4ef04d[_0x795f03(0x799)]:case _0x4ef04d[_0x795f03(0x80a)]:case _0x4ef04d['VectorDatabaseStats']:case _0x4ef04d[_0x795f03(0x66e)]:case _0x4ef04d['ExternalStorageStats']:this[_0x795f03(0x3e4)][_0x795f03(0x83f)](_0x262df3[_0x795f03(0x855)][_0x795f03(0x8f4)],_0x262df3['content'][_0x795f03(0x43f)],_0x262df3[_0x795f03(0x855)][_0x795f03(0x41e)]);}}['setupStatsReporting'](){return _0x387a0b['setInterval'](()=>{const _0x46965e=a0_0x5e71,_0xa0dee6=this[_0x46965e(0x3e4)][_0x46965e(0xaa7)]();_0x4826cd[_0x46965e(0x51c)](_0x312d1f[_0x46965e(0x397)],_0x46965e(0x7e1),_0xa0dee6),(0x0,_0x3d71d8[_0x46965e(0x916)])((0x0,_0x3d71d8[_0x46965e(0x643)])(_0x4a9fc2[_0x46965e(0xaa0)](),_0x46965e(0x8be)+this[_0x46965e(0x430)][_0x46965e(0x92c)]+_0x46965e(0x714)),{'clusterId':this[_0x46965e(0x430)][_0x46965e(0x494)],'nodeId':this[_0x46965e(0x430)]['localNode']['getId'](),'nodeType':this['configs']['localNode'][_0x46965e(0x43f)],'timestamp':(0x0,_0x3d71d8['serverTimestamp'])(),'report':_0xa0dee6}),_0x4826cd[_0x46965e(0x54c)]('stats',{'clusterId':this['configs'][_0x46965e(0x494)],'nodeId':this[_0x46965e(0x430)]['localNode'][_0x46965e(0x78a)](),'nodeType':this[_0x46965e(0x430)][_0x46965e(0x31a)][_0x46965e(0x43f)],'data':{'report':_0xa0dee6}});},_0x4e108b);}[_0x178721(0x47e)](){const _0x49784c=_0x178721;let _0x16b792=!0x1,_0x21565f=Date[_0x49784c(0x2e5)]();return _0x387a0b[_0x49784c(0x69a)](async()=>{const _0x4af09c=_0x49784c;if(_0x16b792)return;if(_0x16b792=!0x0,0x0===this[_0x4af09c(0x1ba)]['size'])return delete this[_0x4af09c(0xa54)],void(_0x16b792=!0x1);const _0x36bb90=Date[_0x4af09c(0x2e5)]();this['findNextNodeId']();try{await this[_0x4af09c(0x430)][_0x4af09c(0x2f0)]['collectStats'](this[_0x4af09c(0xa54)]);}catch(_0x4f76df){}this['statsReport'][_0x4af09c(0x2db)]({'secheduleTime':_0x36bb90-_0x21565f,'durationTime':Date['now']()-_0x36bb90}),_0x21565f=_0x36bb90,_0x16b792=!0x1;},_0x1f1746);}[_0x178721(0x5c7)](){const _0x1c9583=_0x178721;let _0x8fea54,_0x1bb0dc=!0x1;this['nextNodeId']&&(this[_0x1c9583(0x1ba)]['has'](this[_0x1c9583(0xa54)])||delete this[_0x1c9583(0xa54)]);for(const _0x2cdcf7 of this[_0x1c9583(0x1ba)])if(_0x8fea54||(_0x8fea54=_0x2cdcf7),this[_0x1c9583(0xa54)]!==_0x2cdcf7){if(_0x1bb0dc)return void(this[_0x1c9583(0xa54)]=_0x2cdcf7);}else _0x1bb0dc=!0x0,delete this[_0x1c9583(0xa54)];this[_0x1c9583(0xa54)]||(this['nextNodeId']=_0x8fea54);}}class _0x1d83d8{[_0x178721(0x6e1)];['destination'];['systemTopic'];constructor(_0x431466,_0x364888){const _0x3cd9c0=_0x178721;this[_0x3cd9c0(0x6e1)]=_0x431466,this['destination']=_0x364888;}[_0x178721(0x7f7)](_0x4b4da6){const _0x4e531f=_0x178721;this[_0x4e531f(0x87d)]=_0x4b4da6;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0x3d063f extends _0x1d83d8{[_0x178721(0x6e1)];['destination'];[_0x178721(0x25d)];constructor(_0x4a375e,_0x575503,_0x2e88a8){const _0x89aab2=_0x178721;super(_0x4a375e,_0x575503),this[_0x89aab2(0x6e1)]=_0x4a375e,this[_0x89aab2(0x700)]=_0x575503,this[_0x89aab2(0x25d)]=_0x2e88a8;}['subscribe'](_0x5dd6d1,_0x17dc4a,_0x466ceb){const _0x2726f3=_0x178721;if(this[_0x2726f3(0x700)][_0x2726f3(0x79e)]()===_0x12ff66[_0x2726f3(0x66a)][_0x2726f3(0x1b7)]){const _0x1f8f5c={'type':_0x5ba570[_0x2726f3(0xa75)],'label':this[_0x2726f3(0x700)][_0x2726f3(0x45b)](),'ownerId':_0x5dd6d1,'trackKinds':_0x17dc4a??this[_0x2726f3(0x700)][_0x2726f3(0x98a)](),'params':_0x466ceb};this['systemTopic'][_0x2726f3(0xa83)]({'sourceId':this[_0x2726f3(0x6e1)][_0x2726f3(0xa4f)](),'destinationIds':[this[_0x2726f3(0x6e1)][_0x2726f3(0x927)]()],'messageType':_0x51ac98[_0x2726f3(0x378)],'content':_0x1f8f5c}),this[_0x2726f3(0x25d)]=_0x466ceb;}}[_0x178721(0x768)](_0x3aa7e1,_0x5f5550){const _0x3ca501=_0x178721;if(this[_0x3ca501(0x700)][_0x3ca501(0x79e)]()===_0x12ff66['ContentType'][_0x3ca501(0x1b7)]){const _0xd2f457={'type':_0x5ba570['UpdateMediaStream'],'label':this[_0x3ca501(0x700)]['getLabel'](),'ownerId':_0x3aa7e1,'params':_0x5f5550};this[_0x3ca501(0x87d)][_0x3ca501(0xa83)]({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0x3ca501(0x6e1)][_0x3ca501(0x927)]()],'messageType':_0x51ac98['Subscription'],'content':_0xd2f457}),this['params']=_0x5f5550;}}[_0x178721(0x90e)](_0x2f1766,_0x40064f,_0x20dfc4){const _0xe7eb44=_0x178721;if(this[_0xe7eb44(0x700)][_0xe7eb44(0x79e)]()===_0x12ff66['ContentType'][_0xe7eb44(0x1b7)]){const _0xb28aac={'type':_0x5ba570[_0xe7eb44(0x23b)],'label':this[_0xe7eb44(0x700)][_0xe7eb44(0x45b)](),'ownerId':_0x2f1766,'trackKinds':_0x20dfc4??this['destination'][_0xe7eb44(0x98a)](),'remainingTracks':_0x40064f};this[_0xe7eb44(0x87d)][_0xe7eb44(0xa83)]({'sourceId':this['source'][_0xe7eb44(0xa4f)](),'destinationIds':[this[_0xe7eb44(0x6e1)][_0xe7eb44(0x927)]()],'messageType':_0x51ac98['Subscription'],'content':_0xb28aac});}}}class _0x3c8b5d{['currentDistance'];[_0x178721(0x4f8)];['tracks'];[_0x178721(0x87d)];[_0x178721(0x1f9)]=new Set();['startTime']=Date['now']();[_0x178721(0x25d)];[_0x178721(0x437)]=0x0;constructor(_0x319402,_0x419413,_0x389539,_0x236411){const _0x483380=_0x178721;this[_0x483380(0x894)]=_0x419413,this[_0x483380(0x4f8)]=_0x389539,this['tracks']=_0x236411,_0x319402[_0x483380(0x2cb)](_0xe821c4=>{const _0x318c13=_0x483380;this['answers'][_0x318c13(0x9b5)]({'nodeId':_0xe821c4,'type':_0x5c2925[_0x318c13(0x4da)]});});}[_0x178721(0x822)](){return this['tracks'];}[_0x178721(0x7f7)](_0x33e58a){const _0x1b4f8c=_0x178721;this[_0x1b4f8c(0x87d)]=_0x33e58a;}[_0x178721(0x1ae)](){const _0x3df1a4=_0x178721;delete this[_0x3df1a4(0x87d)];}[_0x178721(0x6ea)](_0x43229f,_0x1fb6c2){const _0x2b1968=_0x178721;this[_0x2b1968(0x649)]=Date[_0x2b1968(0x2e5)](),this[_0x2b1968(0x1f9)][_0x2b1968(0x6f1)](),_0x43229f['forEach'](_0xd9fded=>{const _0x35af5f=_0x2b1968;this[_0x35af5f(0x1f9)][_0x35af5f(0x9b5)]({'nodeId':_0xd9fded,'type':_0x5c2925['Waiting']});}),this[_0x2b1968(0x437)]+=0x1,this[_0x2b1968(0x894)]=_0x1fb6c2;}[_0x178721(0x613)](_0x329695,_0x266974,_0x3cd587,_0x393e9,_0x155db3){const _0x5c5d3f=_0x178721;if(this[_0x5c5d3f(0x437)]>0xa)throw new _0x5953b5(_0x5953b5[_0x5c5d3f(0x913)][_0x5c5d3f(0x4a9)],{'answers':Array['from'](this[_0x5c5d3f(0x1f9)])[_0x5c5d3f(0x7df)](_0x1053f4=>({'nodeId':_0x1053f4['nodeId'],'type':_0x1053f4['type']}))});const _0x17f518=Array[_0x5c5d3f(0x3ac)](this['answers'])[_0x5c5d3f(0x7df)](_0xe49a56=>_0xe49a56['nodeId']);this[_0x5c5d3f(0x25d)]=_0x155db3,this[_0x5c5d3f(0x87d)][_0x5c5d3f(0xa83)]({'sourceId':_0x329695,'destinationIds':_0x17f518,'messageType':_0x51ac98[_0x5c5d3f(0x378)],'content':{'type':_0x5ba570[_0x5c5d3f(0x47a)],'label':_0x3cd587,'ownerId':_0x266974,'trackKinds':_0x393e9,'params':_0x155db3}}),_0x4826cd[_0x5c5d3f(0x51c)](_0x312d1f[_0x5c5d3f(0x378)],'Send\x20request',_0x329695,_0x17f518);}[_0x178721(0x476)](_0x2d24a6,_0x8d9271){const _0x42c89b=_0x178721;switch(_0x8d9271[_0x42c89b(0x43f)]){case _0x5ba570['CanProvideMediaStream']:{const _0x22d7d3=this[_0x42c89b(0x894)]>=_0x8d9271[_0x42c89b(0xa4c)]&&_0x8d9271['distance']<=this[_0x42c89b(0x4f8)],_0x2dbb00=Array[_0x42c89b(0x3ac)](this[_0x42c89b(0x1f9)])['find'](_0x3fb035=>_0x3fb035[_0x42c89b(0x5f2)]===_0x2d24a6);_0x2dbb00[_0x42c89b(0x43f)]=_0x22d7d3?_0x5c2925['Accepted']:_0x5c2925[_0x42c89b(0x2c8)],_0x2dbb00[_0x42c89b(0x433)]=_0x8d9271[_0x42c89b(0x433)],_0x2dbb00[_0x42c89b(0xa4c)]=_0x8d9271[_0x42c89b(0xa4c)],_0x2dbb00[_0x42c89b(0x1df)]=_0x8d9271[_0x42c89b(0x1df)],_0x2dbb00['roundTripTime']=Date[_0x42c89b(0x2e5)]()-this[_0x42c89b(0x649)],_0x2dbb00[_0x42c89b(0x25d)]=this[_0x42c89b(0x25d)],_0x2dbb00[_0x42c89b(0x1d7)]=_0x8d9271[_0x42c89b(0x1d7)],_0x2dbb00[_0x42c89b(0x680)]=_0x8d9271['trackKinds'],_0x2dbb00[_0x42c89b(0x28e)]=_0x8d9271[_0x42c89b(0x8f4)],_0x4826cd[_0x42c89b(0x51c)](_0x312d1f[_0x42c89b(0x378)],(_0x22d7d3?'Accepted':_0x42c89b(0x2c8))+_0x42c89b(0x64f),_0x2dbb00);break;}case _0x5ba570[_0x42c89b(0x923)]:{const _0x450d98=Array[_0x42c89b(0x3ac)](this[_0x42c89b(0x1f9)])[_0x42c89b(0x940)](_0x1dfe2b=>_0x1dfe2b[_0x42c89b(0x5f2)]===_0x2d24a6);_0x450d98[_0x42c89b(0x43f)]=_0x5c2925[_0x42c89b(0x2c8)],_0x4826cd['log'](_0x312d1f[_0x42c89b(0x378)],_0x42c89b(0x92a),_0x450d98);break;}}if(this[_0x42c89b(0x7ee)]())return this[_0x42c89b(0x943)]();}[_0x178721(0x943)](){const _0x345b5c=_0x178721,_0x2580e7=Array[_0x345b5c(0x3ac)](this[_0x345b5c(0x1f9)])[_0x345b5c(0x434)](_0x4aebaa=>_0x4aebaa[_0x345b5c(0x43f)]===_0x5c2925[_0x345b5c(0x846)])[_0x345b5c(0x68b)]((_0x140dbb,_0x47d43b)=>_0x140dbb[_0x345b5c(0x433)]===_0x47d43b['cost']?_0x140dbb[_0x345b5c(0x2de)]-_0x47d43b[_0x345b5c(0x2de)]:_0x140dbb[_0x345b5c(0x433)]-_0x47d43b[_0x345b5c(0x433)]);if(0x0===_0x2580e7['length'])throw new _0x5953b5(_0x5953b5[_0x345b5c(0x913)][_0x345b5c(0x4a9)],{'answers':Array[_0x345b5c(0x3ac)](this[_0x345b5c(0x1f9)])['map'](_0x50e227=>({'nodeId':_0x50e227[_0x345b5c(0x5f2)],'type':_0x50e227[_0x345b5c(0x43f)]}))});return _0x4826cd[_0x345b5c(0x51c)](_0x312d1f[_0x345b5c(0x378)],_0x345b5c(0x240),_0x2580e7[0x0],this[_0x345b5c(0x1f9)]),_0x2580e7[0x0];}[_0x178721(0x7ee)](){const _0x58985d=_0x178721;for(const _0x3c825a of this[_0x58985d(0x1f9)])if(_0x3c825a[_0x58985d(0x43f)]===_0x5c2925[_0x58985d(0x4da)])return!0x1;return!0x0;}}class _0x375558{[_0x178721(0x8f4)];[_0x178721(0x285)];[_0x178721(0x4fc)]=_0x1e0d9a();constructor(_0x5cbffd,_0x21e045){const _0x5668e4=_0x178721;this['label']=_0x5cbffd,this[_0x5668e4(0x285)]=_0x21e045;}['getLabel'](){const _0x24a3b7=_0x178721;return this[_0x24a3b7(0x8f4)];}['getContentType'](){return this['contentType'];}['registerSource'](_0x1fe40f){const _0x223e7f=_0x178721;_0x1fe40f[_0x223e7f(0x717)](this);}[_0x178721(0x235)](_0x1395f1){const _0x3c85a0=_0x178721;_0x1395f1[_0x3c85a0(0x1ce)](this);}[_0x178721(0xa83)](_0x3e51fc){const _0x172d74=_0x178721;this[_0x172d74(0x4fc)][_0x172d74(0xa83)]({'topicLabel':this[_0x172d74(0x8f4)],'contentType':this[_0x172d74(0x285)],'uuid':(0x0,_0x4848bd['v4'])(),'recipients':[],..._0x3e51fc});}['subscribe'](_0x6d660a){const _0x53a471=_0x178721;return this[_0x53a471(0x4fc)][_0x53a471(0x1c5)](_0x6d660a);}[_0x178721(0x678)](_0x39609e){_0x39609e['unregisterPublisher'](this);}[_0x178721(0xa46)](_0x246019){const _0x4b6fc9=_0x178721;_0x246019[_0x4b6fc9(0x7dd)](this);}}class _0x26e59d{[_0x178721(0x899)]={'topics':new Map(),'subscriptions':new Map()};[_0x178721(0x76c)];constructor(_0x3fe327){const _0x3f5e04=_0x178721;this[_0x3f5e04(0x76c)]=_0x3fe327;}get[_0x178721(0x1c4)](){const _0x358880=_0x178721;return this[_0x358880(0x899)][_0x358880(0x1c4)];}get['topics'](){const _0x19f2ed=_0x178721;return this['maps'][_0x19f2ed(0xaa8)];}['createSubscription'](_0x298481,_0x5f1ae6){const _0x577961=_0x178721,_0x2026df=this[_0x577961(0x76c)](_0x5f1ae6),_0x3f8344=_0xe9cce6(_0x298481);if(!_0x2026df['supportsContentType'])throw new _0x5953b5(_0x5953b5[_0x577961(0x913)]['InvalidSubscription'],{'message':_0x3f8344+':\x20'+_0x2026df[_0x577961(0xa40)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x2026df[_0x577961(0x285)],'subscriptionType':_0x298481,'subscription':_0x5f1ae6,'subscriptonParts':_0x2026df});const _0x3e3ab9=_0x482bf1(_0x298481,_0x2026df);if(this['maps']['subscriptions'][_0x577961(0x4a6)](_0x3e3ab9))throw new _0x5953b5(_0x5953b5['codes'][_0x577961(0x2b6)],{'message':_0x3f8344+':\x20'+_0x3e3ab9+_0x577961(0x347),'subscriptionType':_0x298481,'subscription':_0x5f1ae6,'subscriptonParts':_0x2026df});this[_0x577961(0x899)]['subscriptions']['set'](_0x3e3ab9,_0x5f1ae6),this['createTopic'](_0x2026df,_0x5f1ae6);}[_0x178721(0xa5b)](_0x6e08fb,_0x3128eb){const _0x4063bf=_0x178721,_0x41fabe=_0x482bf1(_0x3128eb,_0x6e08fb),_0x28e5c9=this[_0x4063bf(0x899)]['subscriptions'][_0x4063bf(0x603)](_0x41fabe);if(!_0x28e5c9)throw new _0x5953b5(_0x5953b5[_0x4063bf(0x913)]['InvalidSubscription'],{'message':_0xe9cce6(_0x3128eb)+':\x20'+_0x41fabe+_0x4063bf(0x686),'subscriptionType':_0x3128eb,'subscription':_0x28e5c9,'subscriptonParts':_0x6e08fb});this[_0x4063bf(0x83c)](_0x28e5c9,_0x41fabe,_0x6e08fb);}[_0x178721(0x83c)](_0x4debac,_0x137724,_0xd0dae7){const _0x5e4a7b=_0x178721;_0xd0dae7=_0xd0dae7||this[_0x5e4a7b(0x76c)](_0x4debac),this[_0x5e4a7b(0x899)][_0x5e4a7b(0x1c4)][_0x5e4a7b(0xa66)](_0x137724),this[_0x5e4a7b(0x900)](_0xd0dae7,_0x4debac);}[_0x178721(0x619)](_0x10dc57,{source:_0x311f14,destination:_0xaa78c}){const _0x4c0310=_0x178721,{contentType:_0x4884f2,label:_0x2ac5d6,remoteId:_0x3654ce}=_0x10dc57,_0x509826=_0x54e9cc(_0x4884f2,_0x2ac5d6,_0x3654ce),_0xbde918=new _0x375558(_0x509826,_0x4884f2);_0xbde918[_0x4c0310(0x610)](_0x311f14),_0xbde918[_0x4c0310(0x235)](_0xaa78c),this['maps']['topics'][_0x4c0310(0x5f0)](_0xbde918[_0x4c0310(0x45b)](),_0xbde918);}['removeTopic'](_0x29e3dd,_0x1d2de6){const _0x44ec9d=_0x178721,{contentType:_0x488471,label:_0x4654f5,remoteId:_0x2818ae}=_0x29e3dd,_0x75c794=_0x54e9cc(_0x488471,_0x4654f5,_0x2818ae),_0x208fcc=this['maps']['topics'][_0x44ec9d(0x603)](_0x75c794);_0x208fcc&&(this['closeTopic'](_0x208fcc,_0x1d2de6),this['maps']['topics'][_0x44ec9d(0xa66)](_0x75c794));}[_0x178721(0xa4e)](_0x1469ca,{source:_0x2e5d3a,destination:_0x3a93eb}){const _0x14f3ff=_0x178721;_0x1469ca['unregisterSource'](_0x2e5d3a),_0x1469ca[_0x14f3ff(0xa46)](_0x3a93eb);}['removeSubscriptionsForNode'](_0x39c600){const _0x3f3990=_0x178721;this[_0x3f3990(0x899)][_0x3f3990(0x1c4)][_0x3f3990(0x2cb)]((_0x5909e8,_0x486bad)=>{const _0x40f2f8=_0x3f3990;_0x486bad[_0x40f2f8(0x87a)](_0x39c600)&&this[_0x40f2f8(0x83c)](_0x5909e8,_0x486bad);});}}class _0x11f26d{[_0x178721(0x430)];[_0x178721(0x4f8)];[_0x178721(0xa29)]=new Map();[_0x178721(0x31c)]=_0x3a4aeb(new _0x491b08(this['requestSubscriptionAction'][_0x178721(0x428)](this),()=>_0x387a0b[_0x178721(0x977)](0x64)),!0x0);[_0x178721(0x921)]=new Map();[_0x178721(0x899)];['chosenAnswers']=new Map();constructor(_0x5bacfa,_0x2e346d){const _0x2eb4ba=_0x178721;this[_0x2eb4ba(0x430)]=_0x5bacfa,this[_0x2eb4ba(0x4f8)]=_0x2e346d,this[_0x2eb4ba(0x899)]=new _0x26e59d(({source:_0x2536d5,destination:_0x3e9b54})=>_0x1b95e6(_0x3e9b54,_0x2536d5));}[_0x178721(0x260)](_0x2dc071,_0x351244){const _0x179dc3=_0x178721,_0x34d46c=this[_0x179dc3(0x9d9)](_0x2dc071)&&this['isMediaDestination'](_0x351244)?new _0x3d063f(_0x2dc071,_0x351244):new _0x1d83d8(_0x2dc071,_0x351244);this['maps'][_0x179dc3(0x260)](_0x57a142[_0x179dc3(0x9b9)],_0x34d46c),this[_0x179dc3(0x430)][_0x179dc3(0x2f0)][_0x179dc3(0x81a)](_0x34d46c);}[_0x178721(0xa5b)](_0x5d3219,_0xde5692,_0x4955af=''){const _0xfb1548=_0x178721,_0x3cdee9={'contentType':_0xde5692,'label':_0x5d3219,'remoteId':_0x4955af},_0x54be3c=_0x482bf1(_0x57a142[_0xfb1548(0x9b9)],_0x3cdee9),_0x863f3d=this['maps']['subscriptions'][_0xfb1548(0x603)](_0x54be3c);_0x863f3d&&this[_0xfb1548(0x83c)](_0x863f3d,_0x54be3c);}[_0x178721(0x24f)](_0x405135){const _0x31cb55=_0x178721;this[_0x31cb55(0xa9e)](_0x405135);}['handleContentSubscribeMediaStream']({label:_0x57e99c,ownerId:_0x1c5256,trackKinds:_0x3c0c61,params:_0x17e5c9}){const _0xdc0266=_0x178721;this[_0xdc0266(0x50f)](_0x57e99c,_0x1c5256,_0x3c0c61,_0x17e5c9);}[_0x178721(0x9fc)]({ownerId:_0x3e58f9,label:_0x37c2f7,params:_0x1d46ab}){const _0x3c8c7e=_0x178721,{subscriptionLabel:_0x110956}=this['getSubscriptionLabel'](_0x37c2f7,_0x3e58f9),_0x2c81e3=this['getMediaSubscription'](_0x110956);_0x2c81e3&&_0x2c81e3[_0x3c8c7e(0x768)](_0x3e58f9,_0x1d46ab);}[_0x178721(0x279)]({ownerId:_0x13fe8c,label:_0x557386,trackKinds:_0x158ab2,remainingTracks:_0x1b89a2}){const _0x239b82=_0x178721,_0x14b5fa=_0x482bf1(_0x57a142['Incoming'],{'contentType':_0x12ff66[_0x239b82(0x66a)][_0x239b82(0x1b7)],'label':_0x557386,'remoteId':_0x13fe8c});this[_0x239b82(0x97e)](_0x14b5fa);const _0x953d4b=this[_0x239b82(0xa29)]['get'](_0x14b5fa);_0x953d4b&&(this[_0x239b82(0x430)][_0x239b82(0x2f0)][_0x239b82(0x1e0)](_0x953d4b),this[_0x239b82(0xa29)][_0x239b82(0xa66)](_0x14b5fa));const {parts:_0x1ea166,subscriptionLabel:_0x393aa1}=this[_0x239b82(0xa27)](_0x557386,_0x13fe8c),_0x3dca8a=this[_0x239b82(0x3f5)](_0x393aa1);_0x3dca8a&&(_0x3dca8a[_0x239b82(0x90e)](_0x13fe8c,_0x1b89a2,_0x158ab2),0x0===_0x1b89a2&&this[_0x239b82(0xa5b)](_0x1ea166['label'],_0x1ea166[_0x239b82(0x285)],_0x1ea166['remoteId']));}['handleSubscriptionRestartNeedMediaStream'](_0x2157c7,{label:_0xcc7366,ownerId:_0x354078,trackKinds:_0x37fe7e,streamId:_0x40200f,params:_0x27dd99}){const _0xbbc507=_0x178721,_0x32ddbb=_0x482bf1(_0x57a142[_0xbbc507(0x9b9)],{'contentType':_0x12ff66['ContentType'][_0xbbc507(0x1b7)],'label':_0x40200f,'remoteId':_0x2157c7}),_0x4c4de2=this['maps'][_0xbbc507(0x1c4)][_0xbbc507(0x603)](_0x32ddbb);if(!(_0x4c4de2&&_0x4c4de2 instanceof _0x3d063f))throw new _0x5953b5(_0x5953b5[_0xbbc507(0x913)][_0xbbc507(0x781)],{'label':_0x32ddbb,'ownerId':_0x354078});this[_0xbbc507(0x83c)](_0x4c4de2,_0x32ddbb),this[_0xbbc507(0x50f)](_0xcc7366,_0x354078,_0x37fe7e,_0x27dd99);}[_0x178721(0x35b)](_0x375387,_0x50ef12){const _0x16c0bf=_0x178721,{label:_0x4b5a9c,ownerId:_0x39a52f,trackKinds:_0x13c2f9,params:_0x24c4e5}=_0x50ef12,_0x217b59=_0x482bf1(_0x57a142[_0x16c0bf(0x9b9)],{'contentType':_0x12ff66[_0x16c0bf(0x66a)][_0x16c0bf(0x1b7)],'label':_0x4b5a9c,'remoteId':_0x39a52f});if(!this[_0x16c0bf(0xa29)][_0x16c0bf(0x4a6)](_0x217b59))throw new _0x5953b5(_0x5953b5[_0x16c0bf(0x913)][_0x16c0bf(0x781)],{'label':_0x217b59,'ownerId':_0x39a52f,'streamId':_0x50ef12[_0x16c0bf(0x1df)],'requests':this[_0x16c0bf(0xa29)]});const _0x4a5552=this['subscriptionRequests'][_0x16c0bf(0x603)](_0x217b59);if(_0x13c2f9[_0x16c0bf(0x3f4)]===_0x4a5552[_0x16c0bf(0x822)]()['length']&&_0x13c2f9[_0x16c0bf(0x251)](_0x50f477=>_0x4a5552[_0x16c0bf(0x822)]()['includes'](_0x50f477)))try{const _0x3476f0=_0x4a5552[_0x16c0bf(0x476)](_0x375387,_0x50ef12);if(!_0x3476f0)return;this[_0x16c0bf(0x1c5)](_0x3476f0,_0x39a52f,_0x4b5a9c,_0x217b59,_0x13c2f9);}catch(_0x2426bd){return void this[_0x16c0bf(0xa00)](_0x4b5a9c,_0x39a52f,_0x13c2f9,_0x24c4e5);}}['handleSubscriptionMediaStreamUnavailable'](_0x47c469,{label:_0x297adf,ownerId:_0x460eb3,trackKinds:_0x4ef526}){const _0xe33cef=_0x178721,_0x340486=this[_0xe33cef(0x430)][_0xe33cef(0x2f0)]['getRemoteMediaStream'](_0x460eb3,_0x297adf);if(!_0x340486)return;const _0x3ea461=_0x340486['getInternalStreamId'](),_0x280b65=_0x340486['getSubscribedTracks']();_0x280b65[_0xe33cef(0x216)](_0x18e5fe=>_0x4ef526[_0xe33cef(0x31d)](_0x18e5fe))&&this[_0xe33cef(0x368)](_0x47c469,_0x297adf,_0x3ea461,_0x460eb3,_0x280b65);}[_0x178721(0x363)]({label:_0x4d202d,providerId:_0x500ad0,ownerId:_0x170927,streamId:_0x26c193,trackKinds:_0x5d3adb}){const _0x47f0b4=_0x178721;this[_0x47f0b4(0x368)](_0x500ad0,_0x4d202d,_0x26c193,_0x170927,_0x5d3adb);}[_0x178721(0x408)](_0x3d7ccf){const _0x5b0628=_0x178721;for(const _0x1f2cae of this[_0x5b0628(0x571)]['values']()){const {streamLabel:_0x3d0984,ownerId:_0x1211b7,trackKinds:_0x69cda7,params:_0x32ff88}=_0x1f2cae;if(!_0x1211b7||!_0x69cda7||!_0x3d0984)return;this[_0x5b0628(0x31c)]['push']({'label':_0x3d0984,'ownerId':_0x1211b7,'trackKinds':_0x69cda7,'params':_0x32ff88,'remoteId':_0x3d7ccf});}}[_0x178721(0x1c2)](_0x5d783e){const _0x17b21d=_0x178721;this[_0x17b21d(0x899)][_0x17b21d(0x1c4)][_0x17b21d(0x2cb)]((_0x39e37e,_0xf6d7a)=>{const _0x1787c8=_0x17b21d;if(_0xf6d7a[_0x1787c8(0x87a)](_0x5d783e)){if(_0x39e37e[_0x1787c8(0x700)][_0x1787c8(0x79e)]()===_0x12ff66[_0x1787c8(0x66a)][_0x1787c8(0x1b7)]){const _0x2fd13c=_0x39e37e['destination'];if(_0x2fd13c['getSubscribedTracks']()[_0x1787c8(0x3f4)]>0x0){const _0x5ac158={'type':_0x5ba570[_0x1787c8(0x861)],'label':_0x2fd13c[_0x1787c8(0x45b)](),'ownerId':_0x2fd13c[_0x1787c8(0x691)](),'trackKinds':_0x2fd13c['getSubscribedTracks']()};return void this[_0x1787c8(0xa7a)](_0x5d783e,_0x5ac158);}}this[_0x1787c8(0x83c)](_0x39e37e,_0xf6d7a);}});}[_0x178721(0x3d8)](){const _0xffd6ce=_0x178721;this[_0xffd6ce(0x899)][_0xffd6ce(0x1c4)][_0xffd6ce(0x2cb)](this[_0xffd6ce(0x83c)]['bind'](this));}[_0x178721(0x1c5)](_0x107153,_0x426abc,_0x5977f2,_0x3e379b,_0x430317){const _0xc06464=_0x178721,_0x2e3b9c=this['configs'][_0xc06464(0x2f0)][_0xc06464(0xa67)](_0x107153[_0xc06464(0x5f2)]),_0x2ba951=this['configs'][_0xc06464(0x2f0)][_0xc06464(0x674)](_0x426abc,_0x5977f2);this[_0xc06464(0x97e)](_0x3e379b),this[_0xc06464(0xa29)]['has'](_0x3e379b)&&(this['configs']['mediator'][_0xc06464(0x1e0)](this[_0xc06464(0xa29)][_0xc06464(0x603)](_0x3e379b)),this[_0xc06464(0xa29)][_0xc06464(0xa66)](_0x3e379b)),this[_0xc06464(0x512)](_0x107153,_0x426abc,_0x5977f2,_0x2ba951),_0x2ba951[_0xc06464(0x9b7)](_0x107153[_0xc06464(0x1df)]),_0x2ba951[_0xc06464(0x672)](_0x107153['nodeId']);const _0x291866=_0x1b95e6(_0x2ba951,_0x2e3b9c),_0x29b835=_0x482bf1(_0x57a142[_0xc06464(0x9b9)],_0x291866);this['maps'][_0xc06464(0x1c4)][_0xc06464(0x4a6)](_0x29b835)||this[_0xc06464(0x260)](_0x2e3b9c,_0x2ba951);const _0x4831f0=this['maps'][_0xc06464(0x1c4)][_0xc06464(0x603)](_0x29b835);if(!(_0x4831f0&&_0x4831f0 instanceof _0x3d063f))throw new _0x5953b5(_0x5953b5[_0xc06464(0x913)]['SubscriptionRequestDoesNotExist'],{'label':_0x3e379b,'ownerId':_0x426abc});_0x4826cd[_0xc06464(0x54c)](_0xc06464(0x739),{'clusterId':this[_0xc06464(0x430)][_0xc06464(0x494)],'nodeId':this[_0xc06464(0x430)][_0xc06464(0x31a)][_0xc06464(0x78a)](),'nodeType':this[_0xc06464(0x430)][_0xc06464(0x31a)]['type'],'data':{'subscriptionLabel':_0x29b835,'chosenAnswer':_0x107153}}),this[_0xc06464(0x571)]['set'](_0x29b835,_0x107153),_0x4831f0[_0xc06464(0x1c5)](_0x426abc,_0x430317,_0x107153[_0xc06464(0x25d)]);}[_0x178721(0xa9e)]({ownerId:_0x380254,label:_0x39dd00}){const _0x346372=_0x178721,_0x4ac2fd=this['configs']['mediator'][_0x346372(0x674)](_0x380254,_0x39dd00),[_0x5cb55b,_0x40432c]=Array['from'](this[_0x346372(0x899)][_0x346372(0x1c4)][_0x346372(0x257)]())[_0x346372(0x940)](([_0x4ac597,_0x40b47a])=>-0x1!==_0x4ac597[_0x346372(0x2ee)](_0x4ac2fd['getInternalStreamId']()));return this[_0x346372(0x83c)](_0x40432c,_0x5cb55b);}[_0x178721(0x83c)](_0x5dd220,_0x229a0a){const _0x46cb85=_0x178721;this[_0x46cb85(0x430)][_0x46cb85(0x2f0)][_0x46cb85(0x1e0)](_0x5dd220),this[_0x46cb85(0x899)][_0x46cb85(0x83c)](_0x5dd220,_0x229a0a);}[_0x178721(0x9d9)](_0x42e386){const _0x15fd3c=_0x178721;return _0x42e386['getSupportedContentTypes']()['includes'](_0x12ff66[_0x15fd3c(0x66a)][_0x15fd3c(0x1b7)]);}[_0x178721(0x413)](_0x4a3b99){const _0x4df916=_0x178721;return _0x4a3b99[_0x4df916(0x79e)]()===_0x12ff66['ContentType'][_0x4df916(0x1b7)];}async[_0x178721(0xa00)](_0x4a5245,_0xa206a5,_0x26d771,_0x3ed985){const _0x288667=_0x178721;await _0x387a0b[_0x288667(0x977)](0x3e8);const _0x44fd34=_0x482bf1(_0x57a142['Incoming'],{'contentType':_0x12ff66['ContentType'][_0x288667(0x1b7)],'label':_0x4a5245,'remoteId':_0xa206a5});this[_0x288667(0x97e)](_0x44fd34);const _0x560c95=this[_0x288667(0xa29)]['get'](_0x44fd34);if(!_0x560c95)throw new _0x5953b5(_0x5953b5['codes'][_0x288667(0x781)],{'label':_0x44fd34,'ownerId':_0xa206a5});const _0x58c4b3=this['configs']['mediator'][_0x288667(0x7c5)](_0x39458e=>_0x39458e[_0x288667(0x1e9)]()),_0x15723f=this[_0x288667(0x430)]['mediator'][_0x288667(0x690)](this[_0x288667(0x430)][_0x288667(0x31a)][_0x288667(0x78a)](),_0xa206a5);_0x560c95[_0x288667(0x6ea)](_0x58c4b3[_0x288667(0x7df)](_0x257cbb=>_0x257cbb['getRemoteId']()),_0x15723f);try{_0x560c95[_0x288667(0x613)](this[_0x288667(0x430)][_0x288667(0x31a)][_0x288667(0x78a)](),_0xa206a5,_0x4a5245,_0x26d771,_0x3ed985),this['setSubscriptionRequestTimeout'](_0x4a5245,_0xa206a5,_0x26d771,_0x3ed985,_0x44fd34,_0x560c95);}catch(_0x43b041){this[_0x288667(0x31c)][_0x288667(0x77b)]({'label':_0x4a5245,'ownerId':_0xa206a5,'trackKinds':_0x26d771,'params':_0x3ed985});}}[_0x178721(0x50f)](_0x1f4b14,_0xcd0f59,_0x5e6374,_0x4cd487){const _0x58a799=_0x178721;this[_0x58a799(0x31c)][_0x58a799(0x77b)]({'label':_0x1f4b14,'ownerId':_0xcd0f59,'trackKinds':_0x5e6374,'params':_0x4cd487});}[_0x178721(0x661)]({label:_0x4741ad,ownerId:_0x4abb87,trackKinds:_0xad52ab,params:_0x2c6b83,remoteId:_0x595647}){const _0x36e0f8=_0x178721;if(!this['configs'][_0x36e0f8(0x2f0)]['getRemoteMediaStream'](_0x4abb87,_0x4741ad))return;if(!this[_0x36e0f8(0x430)][_0x36e0f8(0x2f0)]['getLocalNode']()[_0x36e0f8(0x9ec)]())throw new Error(_0x36e0f8(0x55b));if(_0x595647){const _0x31a857=this['configs'][_0x36e0f8(0x2f0)][_0x36e0f8(0x93c)]()[_0x36e0f8(0x940)](_0x35bb01=>_0x35bb01[_0x36e0f8(0x78a)]()===_0x595647),_0x28b080=_0x31a857?.[_0x36e0f8(0x9ec)]();if(!_0x31a857||!_0x28b080)throw new Error(_0x36e0f8(0x261));const _0x467b6d=this[_0x36e0f8(0x430)][_0x36e0f8(0x2f0)][_0x36e0f8(0x93c)]()[_0x36e0f8(0x940)](_0x29d208=>_0x29d208[_0x36e0f8(0x78a)]()===_0x4abb87),_0x208380=_0x467b6d?.[_0x36e0f8(0x9ec)]();if(!_0x467b6d||!_0x208380)throw new Error(_0x36e0f8(0x71d));const _0x248eb9=this[_0x36e0f8(0x571)][_0x36e0f8(0x603)](_0x4741ad);if(_0x248eb9){const _0x4fc16a=this[_0x36e0f8(0x430)][_0x36e0f8(0x2f0)][_0x36e0f8(0x93c)]()[_0x36e0f8(0x940)](_0x323ed1=>_0x323ed1[_0x36e0f8(0x78a)]()===_0x248eb9[_0x36e0f8(0x5f2)]),_0x3149ac=_0x4fc16a?.['getRank']();if(!_0x4fc16a||!_0x3149ac)throw new Error(_0x36e0f8(0x215));if(Math[_0x36e0f8(0x8a4)](_0x3149ac-_0x208380)<Math[_0x36e0f8(0x8a4)](_0x28b080-_0x208380))return;}}const _0x1484ee=this[_0x36e0f8(0x430)]['mediator'][_0x36e0f8(0x7c5)](_0x20db51=>_0x20db51[_0x36e0f8(0x1e9)]()&&(!_0x595647||_0x20db51[_0x36e0f8(0x927)]()===_0x595647));if(!_0x1484ee[_0x36e0f8(0x3f4)]||0x0===_0x1484ee[_0x36e0f8(0x3f4)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0xe609f5=this['configs']['mediator'][_0x36e0f8(0x690)](this['configs'][_0x36e0f8(0x31a)][_0x36e0f8(0x78a)](),_0x4abb87),_0x1d5654=_0x482bf1(_0x57a142[_0x36e0f8(0x9b9)],{'contentType':_0x12ff66[_0x36e0f8(0x66a)][_0x36e0f8(0x1b7)],'label':_0x4741ad,'remoteId':_0x4abb87});if(this[_0x36e0f8(0xa29)][_0x36e0f8(0x4a6)](_0x1d5654)){if(_0x595647)throw new Error(_0x36e0f8(0x4ba));const _0x423621=this['subscriptionRequests']['get'](_0x1d5654)[_0x36e0f8(0x822)]();if(_0x423621['length']===_0xad52ab['length']&&_0x423621[_0x36e0f8(0x251)](_0x1dd374=>_0xad52ab[_0x36e0f8(0x31d)](_0x1dd374)))return;this[_0x36e0f8(0x430)][_0x36e0f8(0x2f0)]['unregisterSystemSource'](this[_0x36e0f8(0xa29)][_0x36e0f8(0x603)](_0x1d5654)),this[_0x36e0f8(0xa29)]['delete'](_0x1d5654),_0xad52ab=Array['from'](new Set(_0xad52ab[_0x36e0f8(0x4b1)](_0x423621))),this['clearSubscriptionRequestTimeout'](_0x1d5654);}const _0x278ebf=new _0x3c8b5d(_0x1484ee['map'](_0x2effa4=>_0x2effa4[_0x36e0f8(0x927)]()),_0xe609f5,this[_0x36e0f8(0x4f8)],_0xad52ab);this[_0x36e0f8(0x430)][_0x36e0f8(0x2f0)][_0x36e0f8(0x81a)](_0x278ebf),this[_0x36e0f8(0xa29)]['set'](_0x1d5654,_0x278ebf),_0x278ebf[_0x36e0f8(0x613)](this['configs'][_0x36e0f8(0x31a)][_0x36e0f8(0x78a)](),_0x4abb87,_0x4741ad,_0xad52ab,_0x2c6b83),this[_0x36e0f8(0x664)](_0x4741ad,_0x4abb87,_0xad52ab,_0x2c6b83,_0x1d5654,_0x278ebf);}['clearSubscriptionRequestTimeout'](_0x1e0351){const _0x50fcc7=_0x178721;this['subscriptionRequestTimeouts']['has'](_0x1e0351)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x50fcc7(0x603)](_0x1e0351)),this[_0x50fcc7(0x921)]['delete'](_0x1e0351));}['setSubscriptionRequestTimeout'](_0x39d725,_0x1a421e,_0x28b21f,_0x41d17f,_0x429ed9,_0x2587b3){const _0x23c105=_0x178721;this['clearSubscriptionRequestTimeout'](_0x429ed9),this[_0x23c105(0x921)][_0x23c105(0x5f0)](_0x429ed9,setTimeout(()=>{const _0x2af0b7=_0x23c105;this[_0x2af0b7(0x921)][_0x2af0b7(0xa66)](_0x429ed9);try{const _0x2735e9=_0x2587b3[_0x2af0b7(0x943)]();this['subscribe'](_0x2735e9,_0x1a421e,_0x39d725,_0x429ed9,_0x28b21f);}catch(_0x3989a0){this['handleNoAnswer'](_0x39d725,_0x1a421e,_0x28b21f,_0x41d17f);}},0x7d0));}['findNewMediaSubscription'](_0x90f86,_0x51d96d,_0x15e909,_0x54b35c,_0x3805c4){const _0x4a58d1=_0x178721,{subscriptionLabel:_0xf41af4}=this[_0x4a58d1(0xa27)](_0x51d96d,_0x54b35c),_0x4e62db=this['getMediaSubscription'](_0xf41af4),_0x28d492=_0x4e62db?.[_0x4a58d1(0x25d)];_0x4e62db&&(_0x4e62db[_0x4a58d1(0x90e)](_0x54b35c,0x0),this[_0x4a58d1(0xa5b)](_0x15e909,_0x12ff66[_0x4a58d1(0x66a)]['Media'],_0x90f86)),this[_0x4a58d1(0x50f)](_0x51d96d,_0x54b35c,_0x3805c4,_0x28d492);}[_0x178721(0x3f5)](_0x557104){const _0x29b67f=_0x178721,_0xbbe872=this[_0x29b67f(0x899)][_0x29b67f(0x1c4)][_0x29b67f(0x603)](_0x557104);if(_0xbbe872){if(!(_0xbbe872 instanceof _0x3d063f))throw new _0x5953b5(_0x5953b5[_0x29b67f(0x913)][_0x29b67f(0x2b6)],{'label':_0x557104,'subscription':_0xbbe872});return _0xbbe872;}}[_0x178721(0xa27)](_0x29b9ab,_0x202b5c){const _0x5b5ef4=_0x178721,_0x2eb9ad=this[_0x5b5ef4(0x788)](_0x29b9ab,_0x202b5c);return{'parts':_0x2eb9ad,'subscriptionLabel':_0x482bf1(_0x57a142[_0x5b5ef4(0x9b9)],_0x2eb9ad)};}[_0x178721(0x788)](_0x7bbbb9,_0x18b14d){const _0x3eff2a=_0x178721,_0x53e156=this['configs']['mediator']['getRemoteMediaStream'](_0x18b14d,_0x7bbbb9),_0x175e6c=_0x53e156[_0x3eff2a(0x72c)]();if(!_0x175e6c)throw new _0x5953b5(_0x5953b5[_0x3eff2a(0x913)]['RemoteMediaStreamMissingProviderId'],{'label':_0x7bbbb9,'streamId':_0x53e156[_0x3eff2a(0x1fd)](),'ownerId':_0x18b14d,'localId':this[_0x3eff2a(0x430)][_0x3eff2a(0x31a)][_0x3eff2a(0x78a)]()});return{'contentType':_0x12ff66[_0x3eff2a(0x66a)][_0x3eff2a(0x1b7)],'label':_0x53e156[_0x3eff2a(0x1fd)](),'remoteId':_0x175e6c};}[_0x178721(0x512)](_0x8f1873,_0x3e5d61,_0x519b71,_0x245130){const _0x11644b=_0x178721,_0x1b1b4e=_0x245130[_0x11644b(0x72c)]();if(_0x1b1b4e&&_0x1b1b4e!==_0x8f1873[_0x11644b(0x5f2)]){const {parts:_0x4f6840,subscriptionLabel:_0x2d1232}=this[_0x11644b(0xa27)](_0x519b71,_0x3e5d61),_0x1987d0=this[_0x11644b(0x3f5)](_0x2d1232);_0x1987d0&&(_0x1987d0[_0x11644b(0x90e)](_0x3e5d61,0x0),this[_0x11644b(0xa5b)](_0x4f6840[_0x11644b(0x8f4)],_0x4f6840[_0x11644b(0x285)],_0x4f6840['remoteId']));}}}class _0x5783c1{[_0x178721(0x430)];[_0x178721(0x5df)];[_0x178721(0x899)];constructor(_0x1602fb,_0x2106a2){const _0x5c73f1=_0x178721;this[_0x5c73f1(0x430)]=_0x1602fb,this[_0x5c73f1(0x5df)]=_0x2106a2,this[_0x5c73f1(0x899)]=new _0x26e59d(({source:_0x57e1d3,destination:_0x594040})=>_0x1b95e6(_0x57e1d3,_0x594040));}[_0x178721(0x260)](_0x2ed4ae,_0x30fd85){const _0x5cf95a=_0x178721,_0x1e4957={'source':_0x2ed4ae,'destination':_0x30fd85};this['maps']['createSubscription'](_0x57a142[_0x5cf95a(0x7e2)],_0x1e4957);}[_0x178721(0xa5b)](_0x576f97,_0x23fe24,_0x484b21=''){const _0x5db822=_0x178721,_0x44f294={'contentType':_0x23fe24,'label':_0x576f97,'remoteId':_0x484b21};this[_0x5db822(0x899)]['removeSubscription'](_0x44f294,_0x57a142[_0x5db822(0x7e2)]);}['handleSubscriptionSubscribeMediaStream'](_0x140fb2,_0x45dcae){const _0x4ee0eb=_0x178721;let _0x14b627;_0x14b627=_0x45dcae[_0x4ee0eb(0x1d7)]!==this[_0x4ee0eb(0x430)][_0x4ee0eb(0x31a)]['getId']()?this[_0x4ee0eb(0x430)]['mediator'][_0x4ee0eb(0x674)](_0x45dcae['ownerId'],_0x45dcae[_0x4ee0eb(0x8f4)]):this[_0x4ee0eb(0x430)][_0x4ee0eb(0x2f0)][_0x4ee0eb(0x754)](_0x45dcae[_0x4ee0eb(0x8f4)]);const _0x3cb60d=_0x482bf1(_0x57a142[_0x4ee0eb(0x7e2)],{'contentType':_0x12ff66[_0x4ee0eb(0x66a)][_0x4ee0eb(0x1b7)],'label':_0x14b627[_0x4ee0eb(0x1b6)](),'remoteId':_0x140fb2}),_0xff9648=this[_0x4ee0eb(0x19b)]();if(!this['maps'][_0x4ee0eb(0x1c4)][_0x4ee0eb(0x4a6)](_0x3cb60d)&&_0xff9648>=this[_0x4ee0eb(0x5df)])return{'type':_0x5ba570['RestartNeedMediaStream'],'ownerId':_0x45dcae[_0x4ee0eb(0x1d7)],'label':_0x45dcae[_0x4ee0eb(0x8f4)],'streamId':_0x14b627[_0x4ee0eb(0x1b6)](),'trackKinds':_0x45dcae[_0x4ee0eb(0x680)],'params':_0x45dcae[_0x4ee0eb(0x25d)]};_0x14b627 instanceof _0x5ec9a3&&!_0x14b627[_0x4ee0eb(0x88f)](_0x45dcae['trackKinds'])&&_0x14b627['subscribe'](_0x45dcae[_0x4ee0eb(0x25d)]),this['maps'][_0x4ee0eb(0x1c4)][_0x4ee0eb(0x4a6)](_0x3cb60d)||this[_0x4ee0eb(0x260)](_0x14b627[_0x4ee0eb(0xa97)](_0x140fb2),this[_0x4ee0eb(0x430)][_0x4ee0eb(0x2f0)]['getConnection'](_0x140fb2));}['handleSubscriptionUnsubscribeMediaStream'](_0x15e153,{label:_0x42fecd,ownerId:_0x12e941,remainingTracks:_0x261c9f}){const _0x7ff21d=_0x178721;if(_0x261c9f>0x0)return;let _0xe1ec44;_0xe1ec44=_0x12e941!==this[_0x7ff21d(0x430)][_0x7ff21d(0x31a)]['getId']()?this[_0x7ff21d(0x430)][_0x7ff21d(0x2f0)][_0x7ff21d(0x674)](_0x12e941,_0x42fecd):this[_0x7ff21d(0x430)]['mediator'][_0x7ff21d(0x754)](_0x42fecd);const _0x492577=_0xe1ec44[_0x7ff21d(0x1b6)](),_0x3c0e27=_0x12ff66[_0x7ff21d(0x66a)]['Media'];this['removeSubscription'](_0x492577,_0x3c0e27,_0x15e153);}[_0x178721(0x279)](_0x558312,{label:_0x42dcb4,ownerId:_0x346c78,trackKinds:_0x14a672}){const _0x4c922f=_0x178721;if(_0x558312!==_0x5503f9)return[];let _0xa7e0ab=[];for(const _0x1ffde7 of this['maps']['subscriptions']){const {source:_0x4d2e7e,destination:_0x2d863f}=_0x1ffde7[0x1];_0x4d2e7e['getLabel']()===_0x42dcb4&&_0x4d2e7e[_0x4c922f(0x691)]()===_0x346c78&&_0xa7e0ab[_0x4c922f(0x77b)]({'sourceId':this['configs'][_0x4c922f(0x31a)]['getId'](),'destinationIds':[_0x2d863f[_0x4c922f(0x927)]()],'messageType':_0x51ac98['Subscription'],'content':{'type':_0x5ba570[_0x4c922f(0x861)],'label':_0x42dcb4,'ownerId':_0x346c78,'trackKinds':_0x14a672}});}return _0xa7e0ab;}[_0x178721(0x3f3)](_0x2702fb,_0xbccc57){const _0x6b10d5=_0x178721,{label:_0x5c2b59,ownerId:_0x34a2fb,trackKinds:_0x3353d5,params:_0x57871c}=_0xbccc57,{hasTracks:_0x347c7b,streamId:_0x42d95c,hasResolution:_0x53584e,distance:_0x253abf,subscriptionLabel:_0x4f1c12}=this[_0x6b10d5(0x456)](_0x2702fb,_0xbccc57);let _0x2bdc9e=this['getNumberOutgoingSubscriptions']()<this[_0x6b10d5(0x5df)]&&(_0x347c7b||_0x253abf>-0x1)?_0x5ba570[_0x6b10d5(0x264)]:_0x5ba570[_0x6b10d5(0x923)];const _0xc91111=_0x253abf<0x0?0xa:_0x253abf;let _0x44c15c=_0x347c7b?_0x53584e?_0xc91111:_0xc91111+0x0:_0xc91111+0xa;return _0x4f1c12&&this[_0x6b10d5(0x899)][_0x6b10d5(0x1c4)][_0x6b10d5(0x4a6)](_0x4f1c12)&&(_0x347c7b&&(_0x44c15c=0x0),_0x2bdc9e=_0x5ba570[_0x6b10d5(0x264)]),{'type':_0x2bdc9e,'cost':_0x44c15c,'distance':_0x253abf,'label':_0x5c2b59,'ownerId':_0x34a2fb,'streamId':_0x42d95c,'trackKinds':_0x3353d5,'params':_0x57871c};}[_0x178721(0x24f)](_0x302a00){const _0x25cc20=_0x178721,{label:_0x34a6ea,ownerId:_0x535809}=_0x302a00,_0x35e654=this[_0x25cc20(0x430)][_0x25cc20(0x2f0)]['getRemoteMediaStream'](_0x535809,_0x34a6ea);this['maps']['subscriptions'][_0x25cc20(0x2cb)](_0x3e4b44=>{const _0x36be89=_0x25cc20;if(_0x3e4b44['source']['getInternalStreamId']()===_0x35e654['getShareableStreamId']()){const _0x1ebc08=_0x3e4b44[_0x36be89(0x700)];this[_0x36be89(0xa5b)](_0x35e654['getShareableStreamId'](),_0x12ff66[_0x36be89(0x66a)]['Media'],_0x1ebc08[_0x36be89(0x927)]());}});}[_0x178721(0x738)]({label:_0x3ce8ef}){const _0x26b26a=_0x178721,_0x42d4c3=this[_0x26b26a(0x430)][_0x26b26a(0x2f0)][_0x26b26a(0x754)](_0x3ce8ef);this[_0x26b26a(0x899)][_0x26b26a(0x1c4)][_0x26b26a(0x2cb)](_0x56033c=>{const _0x65df3d=_0x26b26a;if(_0x56033c[_0x65df3d(0x6e1)][_0x65df3d(0x1fd)]()===_0x42d4c3['getShareableStreamId']()){const _0x214baf=_0x56033c['destination'];this[_0x65df3d(0xa5b)](_0x42d4c3['getShareableStreamId'](),_0x12ff66[_0x65df3d(0x66a)][_0x65df3d(0x1b7)],_0x214baf[_0x65df3d(0x927)]());}});}[_0x178721(0x1c2)](_0x26718c){const _0x401aa0=_0x178721;this[_0x401aa0(0x899)][_0x401aa0(0x1c2)](_0x26718c);}[_0x178721(0x3d8)](){const _0x55a389=_0x178721;this['maps'][_0x55a389(0x1c4)]['forEach'](this[_0x55a389(0x83c)][_0x55a389(0x428)](this));}[_0x178721(0x83c)](_0x2c816f,_0x28bba7){const _0x2ce2a8=_0x178721;this[_0x2ce2a8(0x899)][_0x2ce2a8(0x83c)](_0x2c816f,_0x28bba7);}[_0x178721(0x456)](_0x526211,{label:_0x4ec838,ownerId:_0x14b355,trackKinds:_0x41ed9e,params:_0x2d1e3f}){const _0x196779=_0x178721;if(_0x14b355!==this[_0x196779(0x430)]['localNode'][_0x196779(0x78a)]()){const _0x1933c6=this[_0x196779(0x430)][_0x196779(0x2f0)][_0x196779(0x674)](_0x14b355,_0x4ec838);return _0x1933c6&&_0x1933c6[_0x196779(0x72c)]()!==_0x526211?{'hasTracks':_0x1933c6['hasTracks'](_0x41ed9e),'hasResolution':this['canProvideResolution'](_0x1933c6[_0x196779(0xa2b)](),_0x2d1e3f),'streamId':_0x1933c6[_0x196779(0x1b6)](),'distance':this[_0x196779(0x430)][_0x196779(0x2f0)][_0x196779(0x690)](_0x526211,_0x14b355),'subscriptionLabel':_0x482bf1(_0x57a142['Outgoing'],{'contentType':_0x12ff66[_0x196779(0x66a)][_0x196779(0x1b7)],'label':_0x1933c6['getShareableStreamId'](),'remoteId':_0x526211})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x2194a7=this[_0x196779(0x430)][_0x196779(0x2f0)][_0x196779(0x754)](_0x4ec838);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x2194a7[_0x196779(0x1b6)](),'distance':0x0,'subscriptionLabel':_0x482bf1(_0x57a142[_0x196779(0x7e2)],{'contentType':_0x12ff66['ContentType']['Media'],'label':_0x2194a7[_0x196779(0x1b6)](),'remoteId':_0x526211})};}['getNumberOutgoingSubscriptions'](){const _0x2cf030=_0x178721;return Array[_0x2cf030(0x3ac)](this[_0x2cf030(0x899)]['subscriptions'][_0x2cf030(0x257)]())[_0x2cf030(0x434)](([_0x14d651,{source:_0x29aec1}])=>_0x14d651[_0x2cf030(0x9c8)](_0x57a142[_0x2cf030(0x7e2)])&&_0x29aec1[_0x2cf030(0x79e)]()===_0x12ff66[_0x2cf030(0x66a)][_0x2cf030(0x1b7)])[_0x2cf030(0x3f4)];}['canProvideResolution'](_0x13458b,_0x326747){const _0x2aa4a6=_0x178721;if(!_0x326747||!_0x326747[_0x2aa4a6(0x63a)]||_0x2aa4a6(0x38f)==typeof _0x326747[_0x2aa4a6(0x63a)]||!_0x326747['video'][_0x2aa4a6(0x882)])return!0x0;const {width:_0x32a98f,height:_0x2bbe81}=_0x326747['video']['maxResolution'];return _0x13458b[_0x2aa4a6(0x7ec)]>=_0x32a98f&&_0x13458b[_0x2aa4a6(0x8a8)]>=_0x2bbe81;}}class _0x376f39{[_0x178721(0x430)];[_0x178721(0x5df)];[_0x178721(0x4f8)];[_0x178721(0x87d)];[_0x178721(0x9f3)];['outgoingManager'];constructor(_0x1b1bf2,_0x248e06,_0x4cc7d7){const _0x5dc6e8=_0x178721;this[_0x5dc6e8(0x430)]=_0x1b1bf2,this[_0x5dc6e8(0x5df)]=_0x248e06,this[_0x5dc6e8(0x4f8)]=_0x4cc7d7,this['configs'][_0x5dc6e8(0x2f0)][_0x5dc6e8(0x81a)](this),this[_0x5dc6e8(0x9f3)]=new _0x11f26d(this[_0x5dc6e8(0x430)],this[_0x5dc6e8(0x4f8)]),this[_0x5dc6e8(0xa5f)]=new _0x5783c1(this['configs'],this[_0x5dc6e8(0x5df)]);}[_0x178721(0x7f7)](_0x3ddef3){const _0x594a0f=_0x178721;this[_0x594a0f(0x87d)]=_0x3ddef3;}[_0x178721(0x1ae)](){const _0x4f1927=_0x178721;delete this[_0x4f1927(0x87d)];}['close'](){const _0x5658c2=_0x178721;this[_0x5658c2(0x9f3)]['close'](),this[_0x5658c2(0xa5f)][_0x5658c2(0x3d8)](),this[_0x5658c2(0x430)]['mediator'][_0x5658c2(0x1e0)](this);}[_0x178721(0x1f4)](_0x3ee053,_0x4f3d69){const _0x598a33=_0x178721;this[_0x598a33(0x9f3)][_0x598a33(0x260)](_0x3ee053,_0x4f3d69);}[_0x178721(0x5c5)](_0x27aa71,_0x574f37){const _0x7fe544=_0x178721;this[_0x7fe544(0xa5f)][_0x7fe544(0x260)](_0x27aa71,_0x574f37);}[_0x178721(0x6f8)](_0x1b9a02,_0x482647,_0x4adce8=''){const _0x576403=_0x178721;this[_0x576403(0x9f3)][_0x576403(0xa5b)](_0x1b9a02,_0x482647,_0x4adce8);}[_0x178721(0x536)](_0x365306,_0x3a39ed,_0x3a2f3e=''){const _0x5334a6=_0x178721;try{this[_0x5334a6(0xa5f)][_0x5334a6(0xa5b)](_0x365306,_0x3a39ed,_0x3a2f3e);}catch(_0x79d312){if(_0x79d312 instanceof _0x5953b5&&_0x79d312[_0x5334a6(0x3f2)]===_0x5953b5['codes']['InvalidSubscription'])return;}}['handleSubscriptionSystemEvents'](_0x17657a){const _0x5abcaa=_0x178721;switch(_0x17657a[_0x5abcaa(0x855)][_0x5abcaa(0x43f)]){case _0x5ba570[_0x5abcaa(0xa75)]:this['handleSubscriptionSubscribeMediaStream'](_0x17657a[_0x5abcaa(0x8d8)],_0x17657a[_0x5abcaa(0x855)]);break;case _0x5ba570['UnsubscribeMediaStream']:this[_0x5abcaa(0xa5f)][_0x5abcaa(0x21d)](_0x17657a[_0x5abcaa(0x8d8)],_0x17657a[_0x5abcaa(0x855)]);break;case _0x5ba570['NeedMediaStream']:this['handleSubscriptionNeedMediaStream'](_0x17657a[_0x5abcaa(0x8d8)],_0x17657a[_0x5abcaa(0x855)]);break;case _0x5ba570['RestartNeedMediaStream']:this[_0x5abcaa(0x9f3)][_0x5abcaa(0x999)](_0x17657a[_0x5abcaa(0x8d8)],_0x17657a[_0x5abcaa(0x855)]);break;case _0x5ba570[_0x5abcaa(0x264)]:case _0x5ba570['CannotProvideMediaStream']:this[_0x5abcaa(0x9f3)][_0x5abcaa(0x35b)](_0x17657a[_0x5abcaa(0x8d8)],_0x17657a[_0x5abcaa(0x855)]);break;case _0x5ba570['MediaStreamUnavailable']:this[_0x5abcaa(0x9f3)][_0x5abcaa(0xa7a)](_0x17657a[_0x5abcaa(0x8d8)],_0x17657a[_0x5abcaa(0x855)]);}}[_0x178721(0x5ce)](_0x572c82){const _0x23648a=_0x178721;switch(_0x572c82[_0x23648a(0x855)]['type']){case _0x4ef04d['UnpublishMediaStream']:this[_0x23648a(0x9f3)][_0x23648a(0x24f)](_0x572c82['content']),this['outgoingManager'][_0x23648a(0x24f)](_0x572c82[_0x23648a(0x855)]);break;case _0x4ef04d[_0x23648a(0xa75)]:this['incomingManager']['handleContentSubscribeMediaStream'](_0x572c82[_0x23648a(0x855)]);break;case _0x4ef04d[_0x23648a(0x75d)]:this['incomingManager'][_0x23648a(0x9fc)](_0x572c82[_0x23648a(0x855)]);break;case _0x4ef04d[_0x23648a(0x23b)]:this['handleContentUnsubscribeMediaStream'](_0x572c82[_0x23648a(0x8d8)],_0x572c82['content']);break;case _0x4ef04d['CloseMediaStream']:this[_0x23648a(0xa5f)][_0x23648a(0x738)](_0x572c82[_0x23648a(0x855)]);break;case _0x4ef04d[_0x23648a(0x2a9)]:this[_0x23648a(0x947)](_0x572c82['content']['label'],_0x12ff66[_0x23648a(0x66a)][_0x23648a(0x5f4)]);break;case _0x4ef04d[_0x23648a(0x5bb)]:this[_0x23648a(0x947)](_0x572c82['content'][_0x23648a(0x8f4)],_0x12ff66[_0x23648a(0x66a)][_0x23648a(0x185)]);break;case _0x4ef04d['CloseExternalStorageConnection']:this[_0x23648a(0x947)](_0x572c82[_0x23648a(0x855)][_0x23648a(0x8f4)],_0x12ff66[_0x23648a(0x66a)][_0x23648a(0x1c6)]);break;case _0x4ef04d['CloseKeyValueDatabase']:this[_0x23648a(0x947)](_0x572c82[_0x23648a(0x855)][_0x23648a(0x8f4)],_0x12ff66[_0x23648a(0x66a)][_0x23648a(0x6b6)]);break;case _0x4ef04d['CloseVectorDatabase']:this[_0x23648a(0x947)](_0x572c82[_0x23648a(0x855)][_0x23648a(0x8f4)],_0x12ff66[_0x23648a(0x66a)][_0x23648a(0x262)]);break;case _0x4ef04d[_0x23648a(0x322)]:this[_0x23648a(0x947)](_0x572c82['content']['label'],_0x12ff66[_0x23648a(0x66a)][_0x23648a(0x252)]);break;case _0x4ef04d['CloseJobDispatcher']:case _0x4ef04d[_0x23648a(0x62c)]:this[_0x23648a(0x947)](_0x572c82[_0x23648a(0x855)][_0x23648a(0x8f4)],_0x12ff66[_0x23648a(0x66a)]['Job']);break;case _0x4ef04d[_0x23648a(0x334)]:this[_0x23648a(0x9f3)][_0x23648a(0x363)](_0x572c82[_0x23648a(0x855)]);}}[_0x178721(0x1cb)]({content:_0x431acc}){const _0x97eecb=_0x178721;_0x431acc[_0x97eecb(0x43f)]===_0x19f484[_0x97eecb(0x574)]&&this[_0x97eecb(0x1c2)](_0x431acc);}[_0x178721(0x327)](_0x2d1046){const _0x462ac7=_0x178721;_0x2d1046[_0x462ac7(0x855)][_0x462ac7(0x43f)]===_0x26b257['OptimizationConnectionSuccess']&&this[_0x462ac7(0x9f3)][_0x462ac7(0x408)](_0x2d1046['sourceId']);}[_0x178721(0x279)](_0x14c7d7,_0x32a925){const _0x243c75=_0x178721;this[_0x243c75(0x9f3)]['handleContentUnsubscribeMediaStream'](_0x32a925),this[_0x243c75(0xa5f)][_0x243c75(0x279)](_0x14c7d7,_0x32a925)[_0x243c75(0x2cb)](_0x287801=>this[_0x243c75(0x87d)][_0x243c75(0xa83)](_0x287801));}['handleSubscriptionSubscribeMediaStream'](_0x3458b8,_0x3e94c8){const _0x557be1=_0x178721,_0x230332=this['outgoingManager'][_0x557be1(0x5e5)](_0x3458b8,_0x3e94c8);if(_0x230332&&(this[_0x557be1(0x87d)][_0x557be1(0xa83)]({'sourceId':this[_0x557be1(0x430)][_0x557be1(0x31a)][_0x557be1(0x78a)](),'destinationIds':[_0x3458b8],'messageType':_0x51ac98[_0x557be1(0x378)],'content':_0x230332}),_0x230332[_0x557be1(0x43f)]===_0x5ba570[_0x557be1(0x599)]))throw new _0x454d90(_0x557be1(0x290));}[_0x178721(0x3f3)](_0x56826b,_0x48ed24){const _0x5b8854=_0x178721,_0x303dc3=this[_0x5b8854(0xa5f)][_0x5b8854(0x3f3)](_0x56826b,_0x48ed24);this[_0x5b8854(0x87d)][_0x5b8854(0xa83)]({'sourceId':this[_0x5b8854(0x430)][_0x5b8854(0x31a)][_0x5b8854(0x78a)](),'destinationIds':[_0x56826b],'messageType':_0x51ac98[_0x5b8854(0x378)],'content':_0x303dc3});}[_0x178721(0x947)](_0x548df9,_0x3d082d){const _0x2c91ba=_0x178721;this[_0x2c91ba(0x6f8)](_0x548df9,_0x3d082d),this[_0x2c91ba(0x536)](_0x548df9,_0x3d082d);}[_0x178721(0x1c2)]({id:_0x535394}){const _0x243a63=_0x178721;this['incomingManager'][_0x243a63(0x1c2)](_0x535394),this[_0x243a63(0xa5f)][_0x243a63(0x1c2)](_0x535394);}}class _0x452854{[_0x178721(0x8f4)];[_0x178721(0x4fc)]=_0x1e0d9a();constructor(){const _0x5c706e=_0x178721;this[_0x5c706e(0x8f4)]=0x0;}[_0x178721(0x45b)](){const _0x491680=_0x178721;return this[_0x491680(0x8f4)];}['getContentType'](){const _0x3ef03e=_0x178721;return _0x12ff66[_0x3ef03e(0x66a)][_0x3ef03e(0xa4a)];}[_0x178721(0x610)](_0x5c6a56){const _0x148574=_0x178721;_0x5c6a56[_0x148574(0x7f7)](this);}['unregisterSource'](_0x5363f4){const _0x8ebabe=_0x178721;_0x5363f4[_0x8ebabe(0x1ae)]();}[_0x178721(0xa83)](_0x2e46b6){const _0x4a6d28=_0x178721;_0x4826cd['log'](_0x312d1f['Events'],_0x4a6d28(0x91b),_0x2e46b6[_0x4a6d28(0x8d8)],_0x2e46b6),this[_0x4a6d28(0x4fc)]['publish']({'topicLabel':this[_0x4a6d28(0x8f4)],'contentType':_0x12ff66[_0x4a6d28(0x66a)]['Data'],'uuid':_0x2e46b6['uuid']??(0x0,_0x4848bd['v4'])(),'recipients':_0x2e46b6[_0x4a6d28(0x637)]??[],..._0x2e46b6});}['subscribe'](_0xba27c5){const _0x2fc194=_0x178721;return this[_0x2fc194(0x4fc)][_0x2fc194(0x1c5)](_0xba27c5);}}class _0x128158{[_0x178721(0x668)];['ranges']=[];[_0x178721(0x35c)];['remoteNodes']=new Map();[_0x178721(0x567)]=_0x1e0d9a();constructor(_0x5a18dd){const _0x133646=_0x178721;this[_0x133646(0x668)]=_0x5a18dd,this['maxLayer']=(this[_0x133646(0x668)][_0x133646(0x27f)]-0x2*this[_0x133646(0x668)]['minConnections'])/0x2,this[_0x133646(0x6c8)][_0x133646(0x77b)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x160a54=0x0;_0x160a54<this[_0x133646(0x35c)];++_0x160a54)this[_0x133646(0x6c8)][_0x133646(0x77b)]({'start':this['getNextTargetRank'](0x1,_0x160a54+0x1),'end':this['getNextTargetRank'](0x1,_0x160a54+0x2)-0x1});}[_0x178721(0x647)](_0x3675dd,_0x1e24f1=0x1){const _0x421448=_0x178721;let _0x115dc4=this['options'][_0x421448(0x4f8)]-this['options'][_0x421448(0x7b5)],_0x4c927c=0x1;for(let _0x5ef334=0x1;_0x5ef334<_0x1e24f1;++_0x5ef334)_0x115dc4*=this['options'][_0x421448(0x4f8)]-this['options'][_0x421448(0x7b5)]-_0x5ef334,_0x4c927c*=this[_0x421448(0x668)][_0x421448(0x4f8)]-this[_0x421448(0x668)]['minConnections']-_0x5ef334+0x1;return _0x115dc4*this[_0x421448(0x668)][_0x421448(0x7b5)]+_0x3675dd-_0x4c927c;}[_0x178721(0x3c6)](_0x3fe5b1){const _0x3b998e=_0x178721;let _0x1b4393=0x0;for(;this[_0x3b998e(0x6c8)][_0x1b4393][_0x3b998e(0x859)]<_0x3fe5b1;)_0x1b4393+=0x1;return _0x1b4393;}[_0x178721(0x46b)](){const _0x567de7=_0x178721;return this[_0x567de7(0x668)][_0x567de7(0x7b5)];}[_0x178721(0x19e)](){const _0x5625f4=_0x178721;return this[_0x5625f4(0x668)]['maxConnections'];}[_0x178721(0x64a)](){const _0xa4c5fa=_0x178721;return this[_0xa4c5fa(0x668)][_0xa4c5fa(0x4f8)];}['getRemoteNodes'](){const _0xdb44ef=_0x178721;return this[_0xdb44ef(0x1ba)];}[_0x178721(0x460)](_0x1994db,_0xa1eb18){const _0x383238=_0x178721;this['remoteNodes'][_0x383238(0x5f0)](_0x1994db,_0xa1eb18),this['nodeUpdate'][_0x383238(0xa83)]();}[_0x178721(0x298)](_0x573ce2){const _0x9d8374=_0x178721;this[_0x9d8374(0x1ba)][_0x9d8374(0xa66)](_0x573ce2),this[_0x9d8374(0x567)][_0x9d8374(0xa83)]();}[_0x178721(0x3cc)](_0x3525c7){const _0x4666be=_0x178721;return this[_0x4666be(0x1ba)][_0x4666be(0x4a6)](_0x3525c7);}[_0x178721(0xa7d)](_0x54f648){const _0x4b75a4=_0x178721;return this[_0x4b75a4(0x1ba)]['get'](_0x54f648);}['getClosestNodes'](_0xbb1ae3,_0x2687d8){const _0x948e99=_0x178721,_0x38e36f=this['getRemoteNode'](_0x2687d8)?.[_0x948e99(0x9ec)]()??0x0;return _0xbb1ae3[_0x948e99(0x7df)](_0x4d021a=>this[_0x948e99(0xa7d)](_0x4d021a))[_0x948e99(0x434)](_0x51582c=>void 0x0!==_0x51582c)[_0x948e99(0x68b)]((_0x21aed8,_0x3da203)=>Math[_0x948e99(0x8a4)](_0x38e36f-(_0x21aed8&&_0x21aed8['getRank']()||0x1/0x0))-Math['abs'](_0x38e36f-(_0x3da203&&_0x3da203[_0x948e99(0x9ec)]()||0x1/0x0)))[_0x948e99(0x7df)](_0x3ce9d4=>_0x3ce9d4[_0x948e99(0x78a)]());}['onNodeUpdate'](_0xdf3541){const _0x537864=_0x178721;return this[_0x537864(0x567)]['subscribe'](_0xdf3541);}}class _0x168e84{[_0x178721(0x92c)];[_0x178721(0x494)];[_0x178721(0xa13)];[_0x178721(0x3cf)];[_0x178721(0x668)];[_0x178721(0x430)];['clusterEventEmitter'];[_0x178721(0x63b)];[_0x178721(0x70d)];['subscriptionManager'];[_0x178721(0x1dc)];[_0x178721(0x82c)];[_0x178721(0x995)];[_0x178721(0x213)];[_0x178721(0x357)];[_0x178721(0x87d)]=new _0x452854();[_0x178721(0x177)];[_0x178721(0x31a)];constructor(_0x353c77,_0x1f3c9c,_0x45ec16,_0x362ad0,_0x2d2cae,_0x17f882,_0x3a9322){const _0x59fea3=_0x178721;switch(this[_0x59fea3(0x92c)]=_0x353c77,this[_0x59fea3(0x494)]=_0x1f3c9c,this[_0x59fea3(0xa13)]=_0x45ec16,this[_0x59fea3(0x3cf)]=_0x362ad0,this['options']=_0x2d2cae,this[_0x59fea3(0x430)]=_0x17f882,this[_0x59fea3(0x2ca)]=_0x3a9322,_0x45ec16[_0x59fea3(0x43f)]){case _0x12ff66[_0x59fea3(0x8ee)]['User']:this['localNode']=new _0x3ccb68(_0x45ec16[_0x59fea3(0x78a)](),_0x45ec16[_0x59fea3(0x3c7)](),_0x45ec16[_0x59fea3(0x238)]());break;case _0x12ff66[_0x59fea3(0x8ee)][_0x59fea3(0x4dc)]:default:this[_0x59fea3(0x31a)]=new _0x4d9ac1(_0x45ec16[_0x59fea3(0x78a)]());}const _0x430658=this[_0x59fea3(0x6ce)]();this[_0x59fea3(0x357)]=new _0x128158(this[_0x59fea3(0x668)]),this[_0x59fea3(0x63b)]=new _0x308c9b(_0x430658,this[_0x59fea3(0x668)],this[_0x59fea3(0x430)]['searchApiKey'],this[_0x59fea3(0x430)][_0x59fea3(0x6ed)]),this[_0x59fea3(0x70d)]=new _0x5141e6(_0x430658,this[_0x59fea3(0x3cf)],this['graphService'],this[_0x59fea3(0x430)][_0x59fea3(0x534)],this['options']),this['subscriptionManager']=new _0x376f39(_0x430658,this['options'][_0x59fea3(0x5df)],this[_0x59fea3(0x357)][_0x59fea3(0x64a)]()),this[_0x59fea3(0x1dc)]=new _0x4b6f37(_0x430658),this[_0x59fea3(0x82c)]=new _0x31ea16(_0x430658),this[_0x59fea3(0x995)]=new _0x30e80b(_0x430658),this[_0x59fea3(0x213)]=new _0x2b1f22(_0x430658,this[_0x59fea3(0x357)]),this[_0x59fea3(0x177)]=this[_0x59fea3(0x8a5)]();}['open'](){const _0x672215=_0x178721,_0x2e1298=this['getConfigs']();this[_0x672215(0x70d)]=new _0x5141e6(_0x2e1298,this[_0x672215(0x3cf)],this[_0x672215(0x357)],this['configs'][_0x672215(0x534)],this[_0x672215(0x668)]),this[_0x672215(0x68e)]=new _0x376f39(_0x2e1298,this[_0x672215(0x668)]['maxOutgoingSubscriptions'],this[_0x672215(0x357)]['getMaxDistance']()),this['statsManager']=new _0x4b6f37(_0x2e1298),this[_0x672215(0x82c)]=new _0x31ea16(_0x2e1298),this[_0x672215(0x995)]=new _0x30e80b(_0x2e1298),this['nodeManager']=new _0x2b1f22(_0x2e1298,this[_0x672215(0x357)]);const _0x537b38=this['connectionManager']['getConnectionGroup']();this[_0x672215(0x63b)][_0x672215(0x38e)]()[_0x672215(0x2cb)](_0x5ee32e=>{const _0x170ecc=_0x672215;this[_0x170ecc(0x68e)][_0x170ecc(0x5c5)](_0x5ee32e,_0x537b38),this[_0x170ecc(0x68e)][_0x170ecc(0x1f4)](_0x537b38,_0x5ee32e),_0x5ee32e[_0x170ecc(0x6ea)]();}),this[_0x672215(0x63b)]['getObjectStoreBuckets']()[_0x672215(0x2cb)](_0x4cfaec=>{const _0x377886=_0x672215;this[_0x377886(0x68e)][_0x377886(0x5c5)](_0x4cfaec,_0x537b38),this[_0x377886(0x68e)]['createIncomingSubscription'](_0x537b38,_0x4cfaec),_0x4cfaec[_0x377886(0x6ea)](),_0x4cfaec[_0x377886(0x58b)]();}),this[_0x672215(0x63b)][_0x672215(0x5b5)]()[_0x672215(0x2cb)](_0x176da0=>{const _0x594ba7=_0x672215;this[_0x594ba7(0x68e)][_0x594ba7(0x5c5)](_0x176da0,_0x537b38),this['subscriptionManager']['createIncomingSubscription'](_0x537b38,_0x176da0),_0x176da0[_0x594ba7(0x6ea)](),this['syncKeyValueDatabase'](_0x176da0);}),this[_0x672215(0x63b)]['getJobDispatchers']()[_0x672215(0x2cb)](_0x4b1185=>{const _0xf46e6d=_0x672215;this[_0xf46e6d(0x68e)][_0xf46e6d(0x5c5)](_0x4b1185,_0x537b38),this[_0xf46e6d(0x68e)][_0xf46e6d(0x1f4)](_0x537b38,_0x4b1185),_0x4b1185[_0xf46e6d(0x6ea)]();}),this['contentManager'][_0x672215(0x683)]()['forEach'](_0x50a121=>{const _0x545c5d=_0x672215;this['subscriptionManager'][_0x545c5d(0x5c5)](_0x50a121,_0x537b38),this[_0x545c5d(0x68e)][_0x545c5d(0x1f4)](_0x537b38,_0x50a121),_0x50a121[_0x545c5d(0x6ea)]();}),this['contentManager'][_0x672215(0x618)]()[_0x672215(0x2cb)](_0x1e4e45=>{const _0x2bd7aa=_0x672215;this[_0x2bd7aa(0x68e)][_0x2bd7aa(0x5c5)](_0x1e4e45,_0x537b38),this[_0x2bd7aa(0x68e)][_0x2bd7aa(0x1f4)](_0x537b38,_0x1e4e45),_0x1e4e45['reset']();}),this[_0x672215(0x63b)][_0x672215(0x394)]()[_0x672215(0x2cb)](_0x45b3eb=>{const _0x20fd0f=_0x672215;this[_0x20fd0f(0x68e)][_0x20fd0f(0x5c5)](_0x45b3eb,_0x537b38),this[_0x20fd0f(0x68e)]['createIncomingSubscription'](_0x537b38,_0x45b3eb),_0x45b3eb[_0x20fd0f(0x6ea)]();}),this[_0x672215(0x177)]=this['initializeSystemTopic']();}[_0x178721(0x81a)](_0x50b157){const _0x17966b=_0x178721;try{this[_0x17966b(0x87d)][_0x17966b(0x610)](_0x50b157);}catch(_0x21ef90){this[_0x17966b(0x18c)](_0x21ef90,{});}}[_0x178721(0x1e0)](_0x3f9476){const _0x1a2f43=_0x178721;try{this[_0x1a2f43(0x87d)][_0x1a2f43(0x678)](_0x3f9476);}catch(_0x1e48cb){this[_0x1a2f43(0x18c)](_0x1e48cb,{});}}[_0x178721(0x5fa)](_0x2fe872,_0x446372){const _0x1bff4f=_0x178721;return this[_0x1bff4f(0x70d)]['createConnection'](_0x2fe872,_0x446372);}[_0x178721(0xa67)](_0x31ab0f){const _0x4d0bdd=_0x178721;try{return this[_0x4d0bdd(0x70d)][_0x4d0bdd(0xa67)](_0x31ab0f);}catch(_0x42ccf9){throw this['handleError'](_0x42ccf9,{});}}[_0x178721(0x7c5)](_0x33b123){const _0x3a03d9=_0x178721;try{return this['connectionManager'][_0x3a03d9(0x7c5)](_0x33b123);}catch(_0x228919){throw this[_0x3a03d9(0x18c)](_0x228919,{});}}[_0x178721(0x674)](_0x136305,_0x32fe3e){const _0x4667ab=_0x178721;try{return this[_0x4667ab(0x63b)]['getRemoteMediaStreams'](_0x4aef90=>_0x4aef90[_0x4667ab(0x691)]()===_0x136305&&_0x4aef90['getLabel']()===_0x32fe3e)[0x0];}catch(_0x56f1a5){throw this[_0x4667ab(0x18c)](_0x56f1a5,{});}}[_0x178721(0x754)](_0x3fad65){const _0x10974e=_0x178721;try{return this['contentManager']['getLocalMediaStreams'](_0x33ee99=>_0x33ee99['getLabel']()===_0x3fad65)[0x0];}catch(_0x2ce78c){throw this[_0x10974e(0x18c)](_0x2ce78c,{});}}['notifyCluster']=(..._0x3979e5)=>{const _0x543909=_0x178721;try{return this[_0x543909(0x2ca)][_0x543909(0x7fc)](..._0x3979e5);}catch(_0x241ee3){throw this['handleError'](_0x241ee3,{});}};[_0x178721(0xa11)](_0xe9ab97){const _0x17296b=_0x178721;try{this[_0x17296b(0x1dc)][_0x17296b(0x4d3)](_0xe9ab97);}catch(_0x3bb4b1){throw this[_0x17296b(0x18c)](_0x3bb4b1,{});}}['unregisterRemoteNode'](_0x1f4c69){const _0x37e728=_0x178721;try{this[_0x37e728(0x1dc)][_0x37e728(0x364)](_0x1f4c69);}catch(_0x10d9a1){throw this[_0x37e728(0x18c)](_0x10d9a1,{});}}[_0x178721(0x487)](_0x5b2ac5){const _0x28ae4a=_0x178721;return this[_0x28ae4a(0x70d)][_0x28ae4a(0x487)](_0x5b2ac5);}async['initialize'](){const _0x13777b=_0x178721;try{await this[_0x13777b(0x70d)][_0x13777b(0x8cc)]();const _0x444415=await this['nodeManager']['discover']();for(const _0x44188a of _0x444415)this[_0x13777b(0x70d)][_0x13777b(0x5fa)](_0x44188a);}catch(_0x1489dc){throw this[_0x13777b(0x18c)](_0x1489dc,{});}}[_0x178721(0x55f)](_0x21dafa){const _0x20fbdb=_0x178721;this[_0x20fbdb(0x31a)][_0x20fbdb(0x43f)]===_0x12ff66['NodeType'][_0x20fbdb(0x1e2)]&&(this[_0x20fbdb(0x31a)][_0x20fbdb(0x8af)](_0x21dafa[_0x20fbdb(0x238)]()),this[_0x20fbdb(0x31a)][_0x20fbdb(0x483)](_0x21dafa[_0x20fbdb(0x3c7)]()));}['close']({force:_0x508eeb=!0x1},_0x418a7f=!0x1){const _0x55e67e=_0x178721;if(_0x4826cd[_0x55e67e(0xa84)](_0x55e67e(0x6d2),{'clusterId':this[_0x55e67e(0x494)],'nodeId':this[_0x55e67e(0x31a)]['getId'](),'nodeType':this[_0x55e67e(0x31a)][_0x55e67e(0x43f)]}),!_0x508eeb&&this[_0x55e67e(0x70d)]['hasBufferedData']())throw new _0x1c9a4(_0x58f0d1['ConnectionBufferNotEmpty'],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x4826cd[_0x55e67e(0x90d)](),this[_0x55e67e(0x177)](),this[_0x55e67e(0x995)][_0x55e67e(0x3d8)](),this[_0x55e67e(0x82c)]['close'](),this[_0x55e67e(0x1dc)]['close'](),this[_0x55e67e(0x68e)][_0x55e67e(0x3d8)](),this[_0x55e67e(0x70d)][_0x55e67e(0x3d8)](),this[_0x55e67e(0x63b)][_0x55e67e(0x3d8)](_0x418a7f),this[_0x55e67e(0x213)][_0x55e67e(0x3d8)]();}['openPubSubTopic'](_0x4d7494){const _0x128532=_0x178721;try{const _0x4f200f=this['contentManager'][_0x128532(0x8dd)](_0x4d7494),_0x68b318=this[_0x128532(0x70d)][_0x128532(0x9b6)]();return this[_0x128532(0x68e)][_0x128532(0x5c5)](_0x4f200f,_0x68b318),this['subscriptionManager'][_0x128532(0x1f4)](_0x68b318,_0x4f200f),_0x4f200f;}catch(_0x42a210){throw this[_0x128532(0x18c)](_0x42a210,{});}}async[_0x178721(0x5be)](_0x4d9a90,_0x5da0f9){const _0x4692a9=_0x178721;try{const _0x3678c2=this[_0x4692a9(0x63b)][_0x4692a9(0x356)](_0x4d9a90,this[_0x4692a9(0x668)][_0x4692a9(0x4b6)],_0x5da0f9),_0x451499=this['connectionManager'][_0x4692a9(0x9b6)]();return this[_0x4692a9(0x68e)][_0x4692a9(0x5c5)](_0x3678c2,_0x451499),this['subscriptionManager'][_0x4692a9(0x1f4)](_0x451499,_0x3678c2),await _0x3678c2[_0x4692a9(0x58b)](),_0x3678c2;}catch(_0x301c4a){throw this['handleError'](_0x301c4a,{});}}async[_0x178721(0x9d0)](_0x88fd4c,_0x18eeac){const _0xa633ac=_0x178721;try{if(!this['options'][_0xa633ac(0x9e8)])throw new _0x1c9a4(_0x58f0d1['ExternalStorageConnectorsMissing'],_0xa633ac(0x878));if(!(this[_0xa633ac(0xa13)]instanceof _0xc989ad))throw new _0x1c9a4(_0x58f0d1[_0xa633ac(0x457)],'Node\x20is\x20not\x20an\x20agent');const _0x49b46f=this[_0xa633ac(0x668)][_0xa633ac(0x9e8)][_0xa633ac(0x603)](_0x18eeac);if(!_0x49b46f)throw new _0x1c9a4(_0x58f0d1[_0xa633ac(0x642)],_0xa633ac(0x878));const _0x30a0a8=this[_0xa633ac(0x63b)][_0xa633ac(0x770)](_0x88fd4c,_0x49b46f),_0x44dce3=this[_0xa633ac(0x70d)][_0xa633ac(0x9b6)]();return this[_0xa633ac(0x68e)][_0xa633ac(0x5c5)](_0x30a0a8,_0x44dce3),this['subscriptionManager'][_0xa633ac(0x1f4)](_0x44dce3,_0x30a0a8),await _0x30a0a8[_0xa633ac(0x44a)](),_0x30a0a8;}catch(_0x5abcd1){throw this[_0xa633ac(0x18c)](_0x5abcd1,{});}}async['openKeyValueDatabase'](_0x213897,_0x2858e0,_0xb7b6a3){const _0x4f4d00=_0x178721;try{_0xb7b6a3=_0xb7b6a3||this['options'][_0x4f4d00(0x5e2)];const _0xf6b85=await this[_0x4f4d00(0x63b)][_0x4f4d00(0x418)](_0x213897,_0x2858e0,_0xb7b6a3),_0x2a0e07=this[_0x4f4d00(0x70d)][_0x4f4d00(0x9b6)]();return this['subscriptionManager'][_0x4f4d00(0x5c5)](_0xf6b85,_0x2a0e07),this[_0x4f4d00(0x68e)][_0x4f4d00(0x1f4)](_0x2a0e07,_0xf6b85),await _0xf6b85[_0x4f4d00(0x44a)](),this[_0x4f4d00(0x4f6)](_0xf6b85),_0xf6b85;}catch(_0x449739){throw this['handleError'](_0x449739,{});}}async[_0x178721(0x4d4)](_0x3ca63f){const _0x20cfd0=_0x178721;try{const _0x23bf66=await this['contentManager'][_0x20cfd0(0xa3e)](_0x3ca63f,this[_0x20cfd0(0x357)]),_0x9cb1c6=this[_0x20cfd0(0x70d)][_0x20cfd0(0x9b6)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x23bf66,_0x9cb1c6),this[_0x20cfd0(0x68e)][_0x20cfd0(0x1f4)](_0x9cb1c6,_0x23bf66),_0x23bf66[_0x20cfd0(0x44a)](),_0x23bf66;}catch(_0x47d189){throw this[_0x20cfd0(0x18c)](_0x47d189,{});}}async[_0x178721(0x2b8)](_0x43f9aa){const _0x583825=_0x178721;throw new Error(_0x583825(0xa33));}async[_0x178721(0x47f)](_0x483597){const _0x1b05a9=_0x178721;try{const _0x14296a=await this['contentManager'][_0x1b05a9(0x92e)](_0x483597,this[_0x1b05a9(0x357)]),_0x293e25=this[_0x1b05a9(0x70d)][_0x1b05a9(0x9b6)]();return this['subscriptionManager'][_0x1b05a9(0x5c5)](_0x14296a,_0x293e25),this[_0x1b05a9(0x68e)][_0x1b05a9(0x1f4)](_0x293e25,_0x14296a),_0x14296a['open'](),_0x14296a;}catch(_0x7639c8){throw console[_0x1b05a9(0x5c0)](_0x7639c8),this[_0x1b05a9(0x18c)](_0x7639c8,{});}}async[_0x178721(0x8ca)](_0x56ec7d){const _0x565f9f=_0x178721;try{if(!this[_0x565f9f(0x668)][_0x565f9f(0xa09)]||!this['options'][_0x565f9f(0x962)]||!this[_0x565f9f(0x668)][_0x565f9f(0x607)])throw new _0x1c9a4(_0x58f0d1['GenerativeAIWorkerMissingConnector'],_0x565f9f(0x18f));if(!(this[_0x565f9f(0xa13)]instanceof _0xc989ad))throw new _0x1c9a4(_0x58f0d1[_0x565f9f(0x457)],'Node\x20is\x20not\x20an\x20agent');const _0x45123f=[];for(const _0x378a5c of this[_0x565f9f(0x668)][_0x565f9f(0xa09)])_0x45123f[_0x565f9f(0x77b)](new _0x378a5c());const _0x15614d=new this[(_0x565f9f(0x668))][(_0x565f9f(0x962))](),_0x4657a0=new this['options'][(_0x565f9f(0x607))]();let _0x5e019f,_0x57bc1b;this[_0x565f9f(0x668)][_0x565f9f(0x244)]&&(_0x5e019f=new this[(_0x565f9f(0x668))][(_0x565f9f(0x244))]()),this['options'][_0x565f9f(0xa3d)]&&(_0x57bc1b=new this[(_0x565f9f(0x668))]['aiSearchConnector']());const _0x3b65e3=await this['contentManager'][_0x565f9f(0x1ea)](_0x56ec7d,this[_0x565f9f(0xa13)],_0x45123f,_0x15614d,_0x4657a0,_0x5e019f,_0x57bc1b),_0x4a10e5=this[_0x565f9f(0x70d)][_0x565f9f(0x9b6)]();this['subscriptionManager']['createOutgoingSubscription'](_0x3b65e3,_0x4a10e5),this[_0x565f9f(0x68e)][_0x565f9f(0x1f4)](_0x4a10e5,_0x3b65e3);const _0x44cdee=this['nodeManager']['getAncestorIds']();return await _0x3b65e3[_0x565f9f(0x44a)](0x0===_0x44cdee[_0x565f9f(0x3f4)]||void 0x0),_0x3b65e3;}catch(_0x4a1200){throw this['handleError'](_0x4a1200,{});}}['openGraphDatabase'](_0x8c9cff){const _0xd17d2d=_0x178721;try{if(!this[_0xd17d2d(0x668)][_0xd17d2d(0x548)])throw new _0x1c9a4(_0x58f0d1['GraphDatabaseMissingConnector'],_0xd17d2d(0x44d));if(!(this[_0xd17d2d(0xa13)]instanceof _0xc989ad))throw new _0x1c9a4(_0x58f0d1[_0xd17d2d(0x457)],_0xd17d2d(0x97b));const _0x26285f=this['contentManager'][_0xd17d2d(0x194)](_0x8c9cff,this['options'][_0xd17d2d(0x548)]),_0x1de00b=this[_0xd17d2d(0x70d)]['getConnectionGroup']();return this['subscriptionManager'][_0xd17d2d(0x5c5)](_0x26285f,_0x1de00b),this[_0xd17d2d(0x68e)][_0xd17d2d(0x1f4)](_0x1de00b,_0x26285f),_0x26285f;}catch(_0x470cb5){throw this['handleError'](_0x470cb5,{});}}[_0x178721(0x4d8)](_0x479489){const _0x112c3d=_0x178721;try{if(!this['options'][_0x112c3d(0x86f)])throw new _0x1c9a4(_0x58f0d1[_0x112c3d(0x93f)],_0x112c3d(0x338));if(!(this['authNode']instanceof _0xc989ad))throw new _0x1c9a4(_0x58f0d1['NodeInvalidType'],_0x112c3d(0x97b));const _0x29e50c=this[_0x112c3d(0x63b)][_0x112c3d(0x617)](_0x479489,this['options'][_0x112c3d(0x86f)]),_0x5e988f=this['connectionManager'][_0x112c3d(0x9b6)]();return this[_0x112c3d(0x68e)][_0x112c3d(0x5c5)](_0x29e50c,_0x5e988f),this[_0x112c3d(0x68e)][_0x112c3d(0x1f4)](_0x5e988f,_0x29e50c),_0x29e50c;}catch(_0x192b1a){throw this[_0x112c3d(0x18c)](_0x192b1a,{});}}[_0x178721(0x38e)](_0x4c161a){const _0x4f16b0=_0x178721;try{return this[_0x4f16b0(0x63b)]['getPubSubTopics'](_0x4c161a);}catch(_0x22bb90){throw this[_0x4f16b0(0x18c)](_0x22bb90,{});}}[_0x178721(0x1b5)](_0x30ffaa){const _0x161e77=_0x178721;try{return this[_0x161e77(0x63b)][_0x161e77(0x1b5)](_0x30ffaa);}catch(_0xe72277){throw this[_0x161e77(0x18c)](_0xe72277,{});}}[_0x178721(0x506)](_0x2a8ff4){const _0x467239=_0x178721;try{return this[_0x467239(0x63b)][_0x467239(0x506)](_0x2a8ff4);}catch(_0xcba254){throw this[_0x467239(0x18c)](_0xcba254,{});}}[_0x178721(0x5b5)](_0x2e6c13){const _0x1cc42d=_0x178721;try{return this[_0x1cc42d(0x63b)]['getKeyValueDatabases'](_0x2e6c13);}catch(_0x28d97a){throw this['handleError'](_0x28d97a,{});}}[_0x178721(0x5ea)](_0x3674d8){const _0x16989a=_0x178721;try{return this[_0x16989a(0x63b)][_0x16989a(0x5ea)](_0x3674d8);}catch(_0x4923e7){throw this[_0x16989a(0x18c)](_0x4923e7,{});}}['getGenerativeAIWorkers'](_0x20e4f3){const _0x1d63b8=_0x178721;try{return this['contentManager'][_0x1d63b8(0x207)](_0x20e4f3);}catch(_0x378dc7){throw this['handleError'](_0x378dc7,{});}}[_0x178721(0x394)](_0x656c62){const _0x3f72b5=_0x178721;try{return this[_0x3f72b5(0x63b)]['getGraphDatabases'](_0x656c62);}catch(_0x28cb33){throw this[_0x3f72b5(0x18c)](_0x28cb33,{});}}['createLocalMediaStream'](_0x578046,_0x410c21){const _0x1b906d=_0x178721;if(!this['configs'][_0x1b906d(0x65b)]['includes'](_0x3beb2a['MediaStream']))throw new _0x1c9a4(_0x58f0d1['FeatureNotEnabled'],_0x1b906d(0x5cb));try{return this[_0x1b906d(0x63b)][_0x1b906d(0x4f9)](_0x578046,_0x410c21);}catch(_0x56684c){throw this[_0x1b906d(0x18c)](_0x56684c,{});}}[_0x178721(0x510)](_0xc6dff6,_0x160ea5){const _0x58e533=_0x178721;if(!this[_0x58e533(0x430)][_0x58e533(0x65b)]['includes'](_0x3beb2a['MediaStream']))throw new _0x1c9a4(_0x58f0d1['FeatureNotEnabled'],_0x58e533(0x5cb));try{return this[_0x58e533(0x63b)][_0x58e533(0x510)](_0xc6dff6,_0x160ea5);}catch(_0x5e9ea6){throw this[_0x58e533(0x18c)](_0x5e9ea6,{});}}[_0x178721(0x8e6)](_0x3a1456){const _0xdda401=_0x178721;if(!this['configs'][_0xdda401(0x65b)][_0xdda401(0x31d)](_0x3beb2a[_0xdda401(0x49f)]))throw new _0x1c9a4(_0x58f0d1[_0xdda401(0x5c1)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0xdda401(0x8e6)](_0x3a1456);}catch(_0x5eaac5){throw this[_0xdda401(0x18c)](_0x5eaac5,{});}}[_0x178721(0x255)](_0x500932){const _0x162d1c=_0x178721;if(!this[_0x162d1c(0x430)][_0x162d1c(0x65b)][_0x162d1c(0x31d)](_0x3beb2a['MediaStream']))throw new _0x1c9a4(_0x58f0d1[_0x162d1c(0x5c1)],_0x162d1c(0x5cb));try{return this['contentManager']['getRemoteMediaStreams'](_0x500932);}catch(_0x25cda2){throw this[_0x162d1c(0x18c)](_0x25cda2,{});}}[_0x178721(0x618)](_0x67681f){const _0x18118c=_0x178721;try{return this[_0x18118c(0x63b)]['getVectorDatabases'](_0x67681f);}catch(_0x1bb7af){throw this[_0x18118c(0x18c)](_0x1bb7af,{});}}[_0x178721(0x690)](_0xc75eb1,_0x2b25aa){const _0x226139=_0x178721;return this[_0x226139(0x213)][_0x226139(0x690)](_0xc75eb1,_0x2b25aa);}['getLocalNode'](){const _0x502714=_0x178721;return this[_0x502714(0x213)][_0x502714(0x31f)]();}[_0x178721(0x93c)](_0x39e1d){const _0x16bb74=_0x178721;try{return this[_0x16bb74(0x213)][_0x16bb74(0x93c)](_0x39e1d);}catch(_0x223f86){throw this[_0x16bb74(0x18c)](_0x223f86,{});}}[_0x178721(0x9a6)](){const _0x904233=_0x178721;return this['connectionManager'][_0x904233(0x9a6)]();}[_0x178721(0x59f)](_0x471652){const _0x1e5138=_0x178721;return this['nodeManager'][_0x1e5138(0x59f)](_0x471652);}async['handleSystemEvents'](_0x207fdb){const _0x47138e=_0x178721;try{if(_0x4826cd[_0x47138e(0x51c)](_0x312d1f[_0x47138e(0x2ea)],_0x47138e(0x1d2),this[_0x47138e(0x213)][_0x47138e(0xa4f)](),_0x207fdb),_0x325198(_0x207fdb,this[_0x47138e(0x213)][_0x47138e(0xa4f)]()))return void this[_0x47138e(0x70d)][_0x47138e(0x30c)](_0x207fdb);switch(_0x207fdb[_0x47138e(0x751)]){case _0x51ac98[_0x47138e(0xa48)]:this[_0x47138e(0x1dc)][_0x47138e(0x5ce)](_0x207fdb),this[_0x47138e(0x68e)][_0x47138e(0x5ce)](_0x207fdb),this[_0x47138e(0x63b)][_0x47138e(0x5ce)](_0x207fdb);break;case _0x51ac98['Node']:this['subscriptionManager']['handleNodeSystemEvents'](_0x207fdb),this[_0x47138e(0x70d)][_0x47138e(0x1cb)](_0x207fdb),this[_0x47138e(0x63b)][_0x47138e(0x1cb)](_0x207fdb),this['nodeManager'][_0x47138e(0x1cb)](_0x207fdb);break;case _0x51ac98[_0x47138e(0x7bd)]:this[_0x47138e(0x995)][_0x47138e(0x8a1)](_0x207fdb);break;case _0x51ac98[_0x47138e(0x39d)]:this[_0x47138e(0x995)][_0x47138e(0x886)](_0x207fdb);break;case _0x51ac98[_0x47138e(0x397)]:this[_0x47138e(0x82c)][_0x47138e(0x88b)](_0x207fdb);break;case _0x51ac98[_0x47138e(0x378)]:_0x207fdb[_0x47138e(0x855)][_0x47138e(0x43f)]!==_0x5ba570[_0x47138e(0x23b)]?(this[_0x47138e(0x68e)][_0x47138e(0x476)](_0x207fdb),this[_0x47138e(0x63b)][_0x47138e(0x476)](_0x207fdb)):(this[_0x47138e(0x63b)]['handleSubscriptionSystemEvents'](_0x207fdb),this[_0x47138e(0x68e)][_0x47138e(0x476)](_0x207fdb));break;case _0x51ac98['PeerConnection']:await this['connectionManager'][_0x47138e(0x327)](_0x207fdb),this[_0x47138e(0x1dc)][_0x47138e(0x327)](_0x207fdb),this[_0x47138e(0x213)][_0x47138e(0x327)](_0x207fdb),this['subscriptionManager']['handlePeerConnectionSystemEvents'](_0x207fdb);}}catch(_0x574f0e){throw _0x4826cd[_0x47138e(0x1e1)](_0x47138e(0xa04),_0x574f0e),this[_0x47138e(0x18c)](_0x574f0e,{});}}['handleError'](_0x569535,_0x5e78f8){const _0x571faa=_0x178721;if(!(_0x569535 instanceof _0x454d90)){if(_0x569535 instanceof _0x1c9a4)throw _0x569535;if(!(_0x569535 instanceof Error))throw new _0x1c9a4(_0x58f0d1[_0x571faa(0x276)],_0x571faa(0x3c3)+_0x569535);if(!(_0x569535 instanceof _0x5953b5))throw new _0x1c9a4(_0x58f0d1['InternalSDKError'],_0x571faa(0x1c7)+_0x569535[_0x571faa(0x61f)]);switch(_0x569535[_0x571faa(0x3f2)]){case _0x5953b5['codes']['MissingSystemTopic']:case _0x5953b5[_0x571faa(0x913)]['MissingRemoteConnection']:case _0x5953b5['codes'][_0x571faa(0x2d7)]:case _0x5953b5[_0x571faa(0x913)][_0x571faa(0x22f)]:case _0x5953b5[_0x571faa(0x913)]['ConnectionNotConnected']:case _0x5953b5['codes'][_0x571faa(0x857)]:case _0x5953b5[_0x571faa(0x913)][_0x571faa(0x2a0)]:case _0x5953b5[_0x571faa(0x913)]['InvalidSubscriber']:case _0x5953b5['codes'][_0x571faa(0x781)]:case _0x5953b5[_0x571faa(0x913)][_0x571faa(0x46e)]:case _0x5953b5[_0x571faa(0x913)][_0x571faa(0x4a9)]:case _0x5953b5['codes'][_0x571faa(0x2b6)]:}throw _0x4826cd[_0x571faa(0x5c0)]('sdk-internal-error:\x20'+_0x569535[_0x571faa(0x61f)],{'clusterId':this['clusterId'],'nodeId':this[_0x571faa(0x31a)][_0x571faa(0x78a)](),'nodeType':this[_0x571faa(0x31a)][_0x571faa(0x43f)]},_0x569535),new _0x1c9a4(_0x58f0d1[_0x571faa(0x276)],_0x571faa(0xa4b)+_0x569535['message']);}}[_0x178721(0x6ce)](){const _0x2b24fa=_0x178721;return{'mediator':this,'vendorId':this[_0x2b24fa(0x92c)],'clusterId':this[_0x2b24fa(0x494)],'localNode':this[_0x2b24fa(0x31a)]};}['initializeSystemTopic'](){const _0x2a1b38=_0x178721;return this[_0x2a1b38(0x87d)][_0x2a1b38(0x1c5)](_0x4fb47b=>{const _0x429746=_0x2a1b38,_0x4bd8cc=_0x240304(_0x4fb47b,this[_0x429746(0x31a)]['getId']()),_0x5d8089=_0x4fb47b[_0x429746(0x751)]===_0x51ac98[_0x429746(0x397)]||_0x4fb47b[_0x429746(0x751)]===_0x51ac98[_0x429746(0x34e)]&&_0x4fb47b['content']['type']===_0x26b257['Stats']?_0x312d1f[_0x429746(0x1f1)]:_0x312d1f[_0x429746(0x692)];_0x4826cd[_0x429746(0x361)](_0x5d8089,_0x4fb47b['uuid']+_0x429746(0x417)+_0x4bd8cc,_0x4fb47b),this[_0x429746(0xa04)](_0x4fb47b)[_0x429746(0x4ac)](_0x12e8c9=>{const _0x58956e=_0x429746;console[_0x58956e(0x5c0)](_0x12e8c9);});});}async[_0x178721(0x4f6)](_0x5a5321){const _0x3fcc62=_0x178721,{timingLogger:_0x500411,logger:_0x305a23,logBeforeSync:_0x86d463,logAfterSync:_0x3d29b2}=function(_0x27d9e8,_0x7046c3){const _0x4b70d4=a0_0x5e71;if(!_0x4826cd[_0x4b70d4(0x881)](_0x7046c3))return _0x4826cd['debug'](_0x4b70d4(0x4ad)+_0x7046c3),{..._0x3f8eaa(_0x27d9e8,_0x7046c3),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x5e7dd3,logger:_0x4627a8}=_0x3f8eaa(_0x27d9e8,_0x7046c3);let _0x52f37c=0x0;return _0x52f37c=Date[_0x4b70d4(0x2e5)](),{'syncStartTime':_0x52f37c,'timingLogger':_0x5e7dd3,'logger':_0x4627a8,'logBeforeSync':()=>(_0x1bdffd(_0x7046c3,_0x4b70d4(0x5b3)),_0x5e7dd3[_0x4b70d4(0x2e5)]()),'logAfterSync':(_0x365361,_0x226878)=>{const _0x84c6db=_0x4b70d4,_0x4df8ec=Date[_0x84c6db(0x2e5)]();_0x1bdffd(_0x7046c3,_0x84c6db(0x732)+_0x226878);const _0x436098=(_0x4df8ec-_0x52f37c)/0x3e8,_0x835b78=(_0x4df8ec-_0x365361)/0x3e8;_0x4826cd['log'](_0x7046c3,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x27d9e8,_0x84c6db(0x232)+_0x436098[_0x84c6db(0x928)](0x2)+'\x20seconds',_0x84c6db(0x1de)+_0x835b78[_0x84c6db(0x928)](0x3)+_0x84c6db(0x2da),_0x84c6db(0x2e8)+((_0x4df8ec-_0x52f37c)/0x3e8-_0x835b78)['toFixed'](0x2)+_0x84c6db(0x2da));}};}(_0x5a5321[_0x3fcc62(0x45b)](),_0x312d1f[_0x3fcc62(0x6b6)]);_0x305a23['log']('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0x58048a=this[_0x3fcc62(0x213)][_0x3fcc62(0x868)]()[_0x3fcc62(0x3f4)]>0x0;if(_0x58048a){_0x305a23[_0x3fcc62(0x51c)](_0x3fcc62(0x586),()=>this[_0x3fcc62(0x213)][_0x3fcc62(0x868)]()),_0x500411[_0x3fcc62(0x2cf)](),await Promise[_0x3fcc62(0x9b3)](this[_0x3fcc62(0x213)][_0x3fcc62(0x868)]()['map'](async _0x5600a0=>await this[_0x3fcc62(0x213)][_0x3fcc62(0x59f)](_0x5600a0)))[_0x3fcc62(0x4ac)](_0x4d5922=>_0x4826cd[_0x3fcc62(0xa84)](_0x3fcc62(0x16b),{'nodeId':this[_0x3fcc62(0x31a)][_0x3fcc62(0x78a)](),'nodeType':this['localNode'][_0x3fcc62(0x43f)]}));const _0xc1dbb9=_0x305a23[_0x3fcc62(0x287)](()=>this['nodeManager'][_0x3fcc62(0x868)](),[]);_0x500411[_0x3fcc62(0x537)](_0x3fcc62(0x8c4)+_0xc1dbb9+_0x3fcc62(0x6ad));}_0x3d29b2(_0x86d463(),await _0x5a5321[_0x3fcc62(0x58b)](_0x58048a,async()=>{const _0x4d00f1=_0x3fcc62;_0x500411[_0x4d00f1(0x2cf)](),await this[_0x4d00f1(0x213)][_0x4d00f1(0x6be)](),_0x500411[_0x4d00f1(0x537)]('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x5a5321['sync'](!0x0,()=>{const _0x172536=_0x4d00f1;_0x305a23[_0x172536(0x51c)](_0x172536(0x41d)),_0x5a5321[_0x172536(0x58b)](!0x1);},!0x0);}));}}class _0x247e53{[_0x178721(0x92c)];[_0x178721(0x494)];[_0x178721(0xa13)];['eventEmitter'];[_0x178721(0x354)];constructor(_0x232f85,_0x25122b,_0x21546a,_0xb27649,_0x3b499e,_0x2218b7,_0x1bc8da=new _0x432a15()){const _0xa1dac3=_0x178721;this[_0xa1dac3(0x92c)]=_0x232f85,this[_0xa1dac3(0x494)]=_0x25122b,this[_0xa1dac3(0xa13)]=_0x21546a,this[_0xa1dac3(0x91e)]=_0x1bc8da,this['orchestrator']=new _0x168e84(this[_0xa1dac3(0x92c)],this[_0xa1dac3(0x494)],_0x21546a,_0xb27649,_0x3b499e,_0x2218b7,this);}async[_0x178721(0x4c6)](){const _0x102d67=_0x178721;await this[_0x102d67(0x354)][_0x102d67(0x8cc)](),this[_0x102d67(0xa13)][_0x102d67(0x43f)]===_0x12ff66[_0x102d67(0x8ee)][_0x102d67(0x1e2)]&&this[_0x102d67(0xa13)][_0x102d67(0x283)](this['clusterId'],_0x113ed=>{const _0x269702=_0x102d67;this[_0x269702(0x354)]['updateUser'](_0x113ed);});}[_0x178721(0x47d)](_0x1beb7c={}){const _0x4b6c36=_0x178721;this[_0x4b6c36(0x354)][_0x4b6c36(0x3d8)](_0x1beb7c),this[_0x4b6c36(0xa13)][_0x4b6c36(0x43f)]===_0x12ff66[_0x4b6c36(0x8ee)][_0x4b6c36(0x1e2)]&&this[_0x4b6c36(0xa13)][_0x4b6c36(0xa4d)](this[_0x4b6c36(0x494)]),this[_0x4b6c36(0x7fc)](_0x4b6c36(0x33e),void 0x0);}[_0x178721(0x3b9)](_0x344856){const _0x2ad1a8=_0x178721,_0x3c8f13=this[_0x2ad1a8(0x354)][_0x2ad1a8(0x3b9)](_0x344856);return{'getName':_0x3c8f13[_0x2ad1a8(0x92f)][_0x2ad1a8(0x428)](_0x3c8f13),'getOwnerId':_0x3c8f13[_0x2ad1a8(0x691)][_0x2ad1a8(0x428)](_0x3c8f13),'getContentType':_0x3c8f13['getContentType'][_0x2ad1a8(0x428)](_0x3c8f13),'publish':_0x3c8f13[_0x2ad1a8(0xa83)][_0x2ad1a8(0x428)](_0x3c8f13),'subscribe':_0x3c8f13['subscribe'][_0x2ad1a8(0x428)](_0x3c8f13),'unsubscribe':_0x3c8f13[_0x2ad1a8(0x90e)][_0x2ad1a8(0x428)](_0x3c8f13),'close':_0x3c8f13['close'][_0x2ad1a8(0x428)](_0x3c8f13)};}async[_0x178721(0x5be)](_0x385d1f,_0x2660b6){const _0x4ddd99=_0x178721,_0x38d1f4=await this[_0x4ddd99(0x354)][_0x4ddd99(0x5be)](_0x385d1f,_0x2660b6);return{'getName':_0x38d1f4[_0x4ddd99(0x92f)]['bind'](_0x38d1f4),'getOwnerId':_0x38d1f4[_0x4ddd99(0x691)][_0x4ddd99(0x428)](_0x38d1f4),'getContentType':_0x38d1f4[_0x4ddd99(0x79e)]['bind'](_0x38d1f4),'publish':_0x38d1f4['publish'][_0x4ddd99(0x428)](_0x38d1f4),'unpublish':_0x38d1f4['unpublish'][_0x4ddd99(0x428)](_0x38d1f4),'get':_0x38d1f4[_0x4ddd99(0x603)][_0x4ddd99(0x428)](_0x38d1f4),'list':_0x38d1f4[_0x4ddd99(0x79a)][_0x4ddd99(0x428)](_0x38d1f4),'getSize':_0x38d1f4[_0x4ddd99(0x28a)][_0x4ddd99(0x428)](_0x38d1f4),'subscribe':_0x38d1f4[_0x4ddd99(0x1c5)]['bind'](_0x38d1f4),'unsubscribe':_0x38d1f4[_0x4ddd99(0x90e)][_0x4ddd99(0x428)](_0x38d1f4),'close':_0x38d1f4['close']['bind'](_0x38d1f4)};}async['openExternalStorageConnection'](_0x4f2733,_0x1da489){const _0x7ac07d=_0x178721,_0x4590fb=await this[_0x7ac07d(0x354)][_0x7ac07d(0x9d0)](_0x4f2733,_0x1da489);return{'getName':_0x4590fb[_0x7ac07d(0x92f)]['bind'](_0x4590fb),'getOwnerId':_0x4590fb['getOwnerId'][_0x7ac07d(0x428)](_0x4590fb),'getContentType':_0x4590fb[_0x7ac07d(0x79e)][_0x7ac07d(0x428)](_0x4590fb),'close':_0x4590fb[_0x7ac07d(0x3d8)][_0x7ac07d(0x428)](_0x4590fb),'get':_0x4590fb[_0x7ac07d(0x603)][_0x7ac07d(0x428)](_0x4590fb),'list':_0x4590fb[_0x7ac07d(0x79a)][_0x7ac07d(0x428)](_0x4590fb),'subscribe':_0x4590fb[_0x7ac07d(0x1c5)][_0x7ac07d(0x428)](_0x4590fb),'unsubscribe':_0x4590fb[_0x7ac07d(0x90e)]['bind'](_0x4590fb)};}async[_0x178721(0x20e)](_0x590444,_0x3a9ba1,_0x177a1e){const _0x4bd624=_0x178721,_0x386b13=await this['orchestrator']['openKeyValueDatabase'](_0x590444,_0x3a9ba1,_0x177a1e);return{'getName':_0x386b13['getName'][_0x4bd624(0x428)](_0x386b13),'getOwnerId':_0x386b13[_0x4bd624(0x691)]['bind'](_0x386b13),'getContentType':_0x386b13[_0x4bd624(0x79e)]['bind'](_0x386b13),'getTable':_0x386b13['getTable'][_0x4bd624(0x428)](_0x386b13),'subscribe':_0x386b13[_0x4bd624(0x1c5)][_0x4bd624(0x428)](_0x386b13),'unsubscribe':_0x386b13['unsubscribe'][_0x4bd624(0x428)](_0x386b13),'close':_0x386b13[_0x4bd624(0x3d8)][_0x4bd624(0x428)](_0x386b13)};}async['openJobDispatcher'](_0x1b2d77){const _0x546ecc=_0x178721,_0xfa4caf=await this[_0x546ecc(0x354)][_0x546ecc(0x4d4)](_0x1b2d77);return{'getName':_0xfa4caf[_0x546ecc(0x92f)][_0x546ecc(0x428)](_0xfa4caf),'getOwnerId':_0xfa4caf['getOwnerId'][_0x546ecc(0x428)](_0xfa4caf),'getContentType':_0xfa4caf[_0x546ecc(0x79e)]['bind'](_0xfa4caf),'createJob':_0xfa4caf[_0x546ecc(0x7a2)][_0x546ecc(0x428)](_0xfa4caf),'getJob':_0xfa4caf[_0x546ecc(0x211)]['bind'](_0xfa4caf),'getJobs':_0xfa4caf['getJobs'][_0x546ecc(0x428)](_0xfa4caf),'close':_0xfa4caf[_0x546ecc(0x3d8)]['bind'](_0xfa4caf)};}async[_0x178721(0x2b8)](_0x231915){const _0x120742=_0x178721,_0x47d85d=await this[_0x120742(0x354)][_0x120742(0x2b8)](_0x231915);return{'close':_0x47d85d['close']['bind'](_0x47d85d)};}async[_0x178721(0x47f)](_0xed6886){const _0x3d20a2=_0x178721,_0x164061=await this[_0x3d20a2(0x354)][_0x3d20a2(0x47f)](_0xed6886);return{'createAIJob':_0x164061[_0x3d20a2(0x1aa)]['bind'](_0x164061),'ratePrompt':_0x164061[_0x3d20a2(0x453)][_0x3d20a2(0x428)](_0x164061),'downloadDocument':_0x164061[_0x3d20a2(0x702)]['bind'](_0x164061),'getDataBucketIds':_0x164061[_0x3d20a2(0x6eb)][_0x3d20a2(0x428)](_0x164061),'close':_0x164061[_0x3d20a2(0x3d8)][_0x3d20a2(0x428)](_0x164061)};}async[_0x178721(0x8ca)](_0x3b9f3c){const _0x1cabe0=_0x178721,_0x28065f=await this['orchestrator'][_0x1cabe0(0x8ca)](_0x3b9f3c);return{'close':_0x28065f[_0x1cabe0(0x3d8)][_0x1cabe0(0x428)](_0x28065f)};}[_0x178721(0x180)](_0x26cdac){const _0x1a35fd=_0x178721,_0xd89a1=this['orchestrator'][_0x1a35fd(0x180)](_0x26cdac);return{'getName':_0xd89a1['getName'][_0x1a35fd(0x428)](_0xd89a1),'getOwnerId':_0xd89a1[_0x1a35fd(0x691)][_0x1a35fd(0x428)](_0xd89a1),'getContentType':_0xd89a1[_0x1a35fd(0x79e)][_0x1a35fd(0x428)](_0xd89a1),'addNode':_0xd89a1[_0x1a35fd(0x3ee)][_0x1a35fd(0x428)](_0xd89a1),'addEdge':_0xd89a1['addEdge'][_0x1a35fd(0x428)](_0xd89a1),'getContent':_0xd89a1[_0x1a35fd(0x217)]['bind'](_0xd89a1),'remove':_0xd89a1[_0x1a35fd(0x38d)][_0x1a35fd(0x428)](_0xd89a1),'saveToDisk':_0xd89a1[_0x1a35fd(0x4e8)][_0x1a35fd(0x428)](_0xd89a1),'loadFromDisk':_0xd89a1[_0x1a35fd(0x5b9)][_0x1a35fd(0x428)](_0xd89a1),'close':_0xd89a1[_0x1a35fd(0x3d8)][_0x1a35fd(0x428)](_0xd89a1)};}['openVectorDatabase'](_0x3b46de){const _0x5a05c5=_0x178721,_0x26dbbf=this[_0x5a05c5(0x354)][_0x5a05c5(0x4d8)](_0x3b46de);return{'getName':_0x26dbbf[_0x5a05c5(0x92f)][_0x5a05c5(0x428)](_0x26dbbf),'getOwnerId':_0x26dbbf[_0x5a05c5(0x691)]['bind'](_0x26dbbf),'getContentType':_0x26dbbf[_0x5a05c5(0x79e)][_0x5a05c5(0x428)](_0x26dbbf),'search':_0x26dbbf['search'][_0x5a05c5(0x428)](_0x26dbbf),'insert':_0x26dbbf[_0x5a05c5(0x726)][_0x5a05c5(0x428)](_0x26dbbf),'remove':_0x26dbbf[_0x5a05c5(0x38d)][_0x5a05c5(0x428)](_0x26dbbf),'saveToDisk':_0x26dbbf['saveToDisk'][_0x5a05c5(0x428)](_0x26dbbf),'loadFromDisk':_0x26dbbf[_0x5a05c5(0x5b9)]['bind'](_0x26dbbf),'close':_0x26dbbf[_0x5a05c5(0x3d8)][_0x5a05c5(0x428)](_0x26dbbf)};}[_0x178721(0x38e)](_0x593a85){const _0x5afed3=_0x178721;return this['orchestrator'][_0x5afed3(0x38e)](_0x593a85)[_0x5afed3(0x7df)](_0x4f8470=>({'getName':_0x4f8470[_0x5afed3(0x92f)][_0x5afed3(0x428)](_0x4f8470),'getOwnerId':_0x4f8470[_0x5afed3(0x691)][_0x5afed3(0x428)](_0x4f8470),'getContentType':_0x4f8470[_0x5afed3(0x79e)][_0x5afed3(0x428)](_0x4f8470),'publish':_0x4f8470[_0x5afed3(0xa83)][_0x5afed3(0x428)](_0x4f8470),'subscribe':_0x4f8470[_0x5afed3(0x1c5)][_0x5afed3(0x428)](_0x4f8470),'unsubscribe':_0x4f8470[_0x5afed3(0x90e)][_0x5afed3(0x428)](_0x4f8470),'close':_0x4f8470[_0x5afed3(0x3d8)][_0x5afed3(0x428)](_0x4f8470)}));}[_0x178721(0x1b5)](_0x354073){const _0x95a5b2=_0x178721;return this[_0x95a5b2(0x354)][_0x95a5b2(0x1b5)](_0x354073)[_0x95a5b2(0x7df)](_0x1195a4=>({'getName':_0x1195a4[_0x95a5b2(0x92f)][_0x95a5b2(0x428)](_0x1195a4),'getOwnerId':_0x1195a4[_0x95a5b2(0x691)][_0x95a5b2(0x428)](_0x1195a4),'getContentType':_0x1195a4['getContentType'][_0x95a5b2(0x428)](_0x1195a4),'publish':_0x1195a4['publish']['bind'](_0x1195a4),'unpublish':_0x1195a4[_0x95a5b2(0x5c2)]['bind'](_0x1195a4),'get':_0x1195a4['get'][_0x95a5b2(0x428)](_0x1195a4),'list':_0x1195a4[_0x95a5b2(0x79a)][_0x95a5b2(0x428)](_0x1195a4),'getSize':_0x1195a4['getSize']['bind'](_0x1195a4),'subscribe':_0x1195a4[_0x95a5b2(0x1c5)]['bind'](_0x1195a4),'unsubscribe':_0x1195a4[_0x95a5b2(0x90e)][_0x95a5b2(0x428)](_0x1195a4),'close':_0x1195a4[_0x95a5b2(0x3d8)][_0x95a5b2(0x428)](_0x1195a4)}));}[_0x178721(0x506)](_0x5d86f9){const _0x90a85d=_0x178721;return this[_0x90a85d(0x354)][_0x90a85d(0x506)](_0x5d86f9)[_0x90a85d(0x7df)](_0xc8f589=>({'getName':_0xc8f589[_0x90a85d(0x92f)][_0x90a85d(0x428)](_0xc8f589),'getOwnerId':_0xc8f589[_0x90a85d(0x691)]['bind'](_0xc8f589),'getContentType':_0xc8f589[_0x90a85d(0x79e)]['bind'](_0xc8f589),'close':_0xc8f589[_0x90a85d(0x3d8)][_0x90a85d(0x428)](_0xc8f589),'get':_0xc8f589['get']['bind'](_0xc8f589),'list':_0xc8f589['list'][_0x90a85d(0x428)](_0xc8f589),'subscribe':_0xc8f589['subscribe']['bind'](_0xc8f589),'unsubscribe':_0xc8f589[_0x90a85d(0x90e)][_0x90a85d(0x428)](_0xc8f589)}));}[_0x178721(0x5b5)](_0x41d496){const _0xc2f410=_0x178721;return this[_0xc2f410(0x354)][_0xc2f410(0x5b5)](_0x41d496)[_0xc2f410(0x7df)](_0x58f460=>({'getName':_0x58f460['getName'][_0xc2f410(0x428)](_0x58f460),'getOwnerId':_0x58f460[_0xc2f410(0x691)][_0xc2f410(0x428)](_0x58f460),'getContentType':_0x58f460['getContentType'][_0xc2f410(0x428)](_0x58f460),'getTable':_0x58f460[_0xc2f410(0x1d8)][_0xc2f410(0x428)](_0x58f460),'subscribe':_0x58f460[_0xc2f410(0x1c5)][_0xc2f410(0x428)](_0x58f460),'unsubscribe':_0x58f460[_0xc2f410(0x90e)][_0xc2f410(0x428)](_0x58f460),'close':_0x58f460['close'][_0xc2f410(0x428)](_0x58f460)}));}[_0x178721(0x5ea)](_0x2d99ae){const _0x49d14b=_0x178721;return this[_0x49d14b(0x354)][_0x49d14b(0x5ea)](_0x2d99ae)[_0x49d14b(0x7df)](_0x4c3786=>({'createAIJob':_0x4c3786[_0x49d14b(0x1aa)][_0x49d14b(0x428)](_0x4c3786),'ratePrompt':_0x4c3786[_0x49d14b(0x453)][_0x49d14b(0x428)](_0x4c3786),'downloadDocument':_0x4c3786[_0x49d14b(0x702)][_0x49d14b(0x428)](_0x4c3786),'getDataBucketIds':_0x4c3786[_0x49d14b(0x6eb)][_0x49d14b(0x428)](_0x4c3786),'close':_0x4c3786[_0x49d14b(0x3d8)][_0x49d14b(0x428)](_0x4c3786)}));}[_0x178721(0x207)](_0x340696){const _0x408a07=_0x178721;return this[_0x408a07(0x354)][_0x408a07(0x207)](_0x340696)['map'](_0x2930b3=>({'close':_0x2930b3[_0x408a07(0x3d8)][_0x408a07(0x428)](_0x2930b3)}));}[_0x178721(0x293)](_0x5d87cf,_0xec6026){const _0x4a93c4=_0x178721,_0x206fea=this[_0x4a93c4(0x354)]['createLocalMediaStream'](_0x5d87cf,_0xec6026);return{'getLabel':_0x206fea[_0x4a93c4(0x45b)][_0x4a93c4(0x428)](_0x206fea),'getOwnerId':_0x206fea[_0x4a93c4(0x691)][_0x4a93c4(0x428)](_0x206fea),'getContentType':_0x206fea[_0x4a93c4(0x79e)]['bind'](_0x206fea),'getMediaStream':_0x206fea['getMediaStream'][_0x4a93c4(0x428)](_0x206fea),'setPriority':_0x206fea[_0x4a93c4(0x84b)][_0x4a93c4(0x428)](_0x206fea),'unpublish':_0x206fea['unpublish']['bind'](_0x206fea)};}[_0x178721(0x39a)](_0x5cd368,_0xed4485){const _0x3879ed=_0x178721,_0x4981a8=this[_0x3879ed(0x354)][_0x3879ed(0x510)](_0x5cd368,_0xed4485);return{'getLabel':_0x4981a8[_0x3879ed(0x45b)][_0x3879ed(0x428)](_0x4981a8),'getOwnerId':_0x4981a8[_0x3879ed(0x691)][_0x3879ed(0x428)](_0x4981a8),'getContentType':_0x4981a8[_0x3879ed(0x79e)][_0x3879ed(0x428)](_0x4981a8),'setPriority':_0x4981a8['setPriority'][_0x3879ed(0x428)](_0x4981a8),'unpublish':_0x4981a8[_0x3879ed(0x5c2)]['bind'](_0x4981a8),'getMediaStream':_0x4981a8['getMediaStream']['bind'](_0x4981a8),'addTrack':_0x4981a8[_0x3879ed(0x6a3)][_0x3879ed(0x428)](_0x4981a8),'removeTrack':_0x4981a8['removeTrack'][_0x3879ed(0x428)](_0x4981a8),'replaceTrack':_0x4981a8[_0x3879ed(0x662)]['bind'](_0x4981a8),'setTransformations':_0x4981a8[_0x3879ed(0x8a6)][_0x3879ed(0x428)](_0x4981a8)};}[_0x178721(0x8e6)](_0x50fc29){const _0x37aded=_0x178721;return this[_0x37aded(0x354)][_0x37aded(0x8e6)](_0x50fc29)['map'](_0x11a50d=>({'getLabel':_0x11a50d[_0x37aded(0x45b)][_0x37aded(0x428)](_0x11a50d),'getOwnerId':_0x11a50d[_0x37aded(0x691)][_0x37aded(0x428)](_0x11a50d),'getContentType':_0x11a50d[_0x37aded(0x79e)][_0x37aded(0x428)](_0x11a50d),'getMediaStream':_0x11a50d[_0x37aded(0x2ab)][_0x37aded(0x428)](_0x11a50d),'setPriority':_0x11a50d[_0x37aded(0x84b)][_0x37aded(0x428)](_0x11a50d),'unpublish':_0x11a50d['unpublish']['bind'](_0x11a50d)}));}[_0x178721(0x255)](_0x1642fa){const _0x4a3721=_0x178721;return this[_0x4a3721(0x354)][_0x4a3721(0x255)](_0x1642fa)[_0x4a3721(0x7df)](_0x4211e8=>({'getLabel':_0x4211e8['getLabel']['bind'](_0x4211e8),'getOwnerId':_0x4211e8[_0x4a3721(0x691)][_0x4a3721(0x428)](_0x4211e8),'getContentType':_0x4211e8[_0x4a3721(0x79e)][_0x4a3721(0x428)](_0x4211e8),'getMediaStream':_0x4211e8[_0x4a3721(0x2ab)][_0x4a3721(0x428)](_0x4211e8),'subscribe':_0x4211e8[_0x4a3721(0x1c5)][_0x4a3721(0x428)](_0x4211e8),'unsubscribe':_0x4211e8['unsubscribe'][_0x4a3721(0x428)](_0x4211e8),'getAvailableTrackKinds':_0x4211e8[_0x4a3721(0x98a)][_0x4a3721(0x428)](_0x4211e8),'update':_0x4211e8[_0x4a3721(0x768)]['bind'](_0x4211e8),'onProviderChange':_0x4211e8['onProviderChange'][_0x4a3721(0x428)](_0x4211e8)}));}[_0x178721(0x394)](_0x4bed14){const _0x4c025b=_0x178721;return this[_0x4c025b(0x354)]['getGraphDatabases'](_0x4bed14)[_0x4c025b(0x7df)](_0x563e24=>({'getName':_0x563e24[_0x4c025b(0x92f)][_0x4c025b(0x428)](_0x563e24),'getOwnerId':_0x563e24[_0x4c025b(0x691)][_0x4c025b(0x428)](_0x563e24),'getContentType':_0x563e24[_0x4c025b(0x79e)][_0x4c025b(0x428)](_0x563e24),'addNode':_0x563e24[_0x4c025b(0x3ee)][_0x4c025b(0x428)](_0x563e24),'addEdge':_0x563e24['addEdge'][_0x4c025b(0x428)](_0x563e24),'getContent':_0x563e24[_0x4c025b(0x217)][_0x4c025b(0x428)](_0x563e24),'remove':_0x563e24[_0x4c025b(0x38d)][_0x4c025b(0x428)](_0x563e24),'saveToDisk':_0x563e24[_0x4c025b(0x4e8)][_0x4c025b(0x428)](_0x563e24),'loadFromDisk':_0x563e24[_0x4c025b(0x5b9)][_0x4c025b(0x428)](_0x563e24),'close':_0x563e24[_0x4c025b(0x3d8)][_0x4c025b(0x428)](_0x563e24)}));}[_0x178721(0x618)](_0x1efd65){const _0x319962=_0x178721;return this[_0x319962(0x354)][_0x319962(0x618)](_0x1efd65)[_0x319962(0x7df)](_0x267412=>({'getName':_0x267412[_0x319962(0x92f)][_0x319962(0x428)](_0x267412),'getOwnerId':_0x267412[_0x319962(0x691)]['bind'](_0x267412),'getContentType':_0x267412[_0x319962(0x79e)][_0x319962(0x428)](_0x267412),'search':_0x267412[_0x319962(0x6e7)][_0x319962(0x428)](_0x267412),'insert':_0x267412['insert'][_0x319962(0x428)](_0x267412),'remove':_0x267412[_0x319962(0x38d)][_0x319962(0x428)](_0x267412),'saveToDisk':_0x267412['saveToDisk'][_0x319962(0x428)](_0x267412),'loadFromDisk':_0x267412[_0x319962(0x5b9)][_0x319962(0x428)](_0x267412),'close':_0x267412['close'][_0x319962(0x428)](_0x267412)}));}['getLocalNode'](){const _0xc7a62=_0x178721,_0x4ec9ea=this[_0xc7a62(0x354)][_0xc7a62(0x31f)]();switch(_0x4ec9ea['type']){case _0x12ff66['NodeType'][_0xc7a62(0x1e2)]:return{'type':_0x12ff66['NodeType'][_0xc7a62(0x1e2)],'getId':_0x4ec9ea[_0xc7a62(0x78a)][_0xc7a62(0x428)](_0x4ec9ea),'getDisplayName':_0x4ec9ea[_0xc7a62(0x3c7)][_0xc7a62(0x428)](_0x4ec9ea),'getEmail':_0x4ec9ea[_0xc7a62(0x238)][_0xc7a62(0x428)](_0x4ec9ea),'getRemoteConnections':_0x4ec9ea[_0xc7a62(0x7af)][_0xc7a62(0x428)](_0x4ec9ea),'setDisplayName':_0x4ec9ea['setDisplayName'][_0xc7a62(0x428)](_0x4ec9ea),'setEmail':_0x4ec9ea[_0xc7a62(0x8af)]['bind'](_0x4ec9ea)};case _0x12ff66[_0xc7a62(0x8ee)]['Agent']:default:return{'type':_0x12ff66['NodeType'][_0xc7a62(0x4dc)],'getId':_0x4ec9ea[_0xc7a62(0x78a)][_0xc7a62(0x428)](_0x4ec9ea),'getRemoteConnections':_0x4ec9ea[_0xc7a62(0x7af)][_0xc7a62(0x428)](_0x4ec9ea)};}}['getRemoteNodes'](_0x4f8dc6){const _0xfd2879=_0x178721;return this[_0xfd2879(0x354)][_0xfd2879(0x93c)](_0x4f8dc6)[_0xfd2879(0x7df)](_0x236ec2=>{const _0x156202=_0xfd2879;switch(_0x236ec2[_0x156202(0x43f)]){case _0x12ff66['NodeType'][_0x156202(0x1e2)]:return{'type':_0x12ff66[_0x156202(0x8ee)][_0x156202(0x1e2)],'getId':_0x236ec2[_0x156202(0x78a)]['bind'](_0x236ec2),'getDisplayName':_0x236ec2[_0x156202(0x3c7)][_0x156202(0x428)](_0x236ec2),'getEmail':_0x236ec2[_0x156202(0x238)][_0x156202(0x428)](_0x236ec2),'getRemoteConnections':_0x236ec2['getRemoteConnections'][_0x156202(0x428)](_0x236ec2)};case _0x12ff66[_0x156202(0x8ee)]['Agent']:return{'type':_0x12ff66[_0x156202(0x8ee)][_0x156202(0x4dc)],'getId':_0x236ec2[_0x156202(0x78a)][_0x156202(0x428)](_0x236ec2),'getRemoteConnections':_0x236ec2['getRemoteConnections'][_0x156202(0x428)](_0x236ec2)};default:throw new _0x1c9a4(_0x58f0d1[_0x156202(0x457)],_0x156202(0x7eb));}});}['on']=(..._0x3307bf)=>{this['eventEmitter']['on'](..._0x3307bf);};['emit']=(..._0xc2e525)=>this['eventEmitter'][_0x178721(0x7fc)](..._0xc2e525);['off'](..._0x50288c){this['eventEmitter']['off'](..._0x50288c);}}class _0x17f5e{['id'];[_0x178721(0x63d)];['email'];['type']=_0x12ff66['NodeType']['User'];[_0x178721(0x1d1)]=new Map();['observer']=_0x1e0d9a();constructor(_0x5c46af,_0x2c95f1,_0xa3bd4f){const _0x1d845b=_0x178721;this['id']=_0x5c46af,this['displayName']=_0x2c95f1,this[_0x1d845b(0x7d6)]=_0xa3bd4f;}['getId'](){return this['id'];}[_0x178721(0x3c7)](){const _0x3e5d8a=_0x178721;return this[_0x3e5d8a(0x63d)];}[_0x178721(0x238)](){const _0xb03e8b=_0x178721;return this[_0xb03e8b(0x7d6)];}[_0x178721(0x483)](_0x24f35a){const _0x4ddffd=_0x178721;this[_0x4ddffd(0x63d)]!==_0x24f35a&&(this[_0x4ddffd(0x63d)]=_0x24f35a,this['observer']['publish'](this));}['setEmail'](_0x24caee){const _0x14bc74=_0x178721;this[_0x14bc74(0x7d6)]!==_0x24caee&&(this[_0x14bc74(0x7d6)]=_0x24caee,this[_0x14bc74(0x53d)]['publish'](this));}[_0x178721(0x283)](_0xad50ad,_0x565281){const _0x4ea099=_0x178721;if(this[_0x4ea099(0x1d1)][_0x4ea099(0x4a6)](_0xad50ad))return;const _0x47886d=this[_0x4ea099(0x53d)][_0x4ea099(0x1c5)](_0x565281);this[_0x4ea099(0x1d1)][_0x4ea099(0x5f0)](_0xad50ad,_0x47886d);}[_0x178721(0xa4d)](_0x5b4518){const _0x57a0eb=_0x178721;if(!this['joinedClusters'][_0x57a0eb(0x4a6)](_0x5b4518))return;const _0x20522c=this['joinedClusters'][_0x57a0eb(0x603)](_0x5b4518);_0x20522c&&_0x20522c(),this[_0x57a0eb(0x1d1)][_0x57a0eb(0xa66)](_0x5b4518);}}class _0x29dab4{[_0x178721(0x92c)];[_0x178721(0x8f9)];constructor(_0x5e6b3){const _0x5b4965=_0x178721;this[_0x5b4965(0x92c)]=_0x5e6b3;}async[_0x178721(0x2d2)](_0x423868){const _0x199497=_0x178721,_0x4cfbf4=await(0x0,_0x545836[_0x199497(0x4d1)])(_0x4a9fc2[_0x199497(0x7e5)](),'sdkCreateToken')({'uid':_0x199497(0x742)+this[_0x199497(0x92c)]+_0x199497(0x742)+_0x423868['id']}),_0x5f4cd9=await(0x0,_0x2800cb[_0x199497(0x9eb)])(_0x4a9fc2[_0x199497(0x9cb)](),_0x4cfbf4[_0x199497(0x372)]['token']);this[_0x199497(0x8f9)]=_0x5f4cd9[_0x199497(0x8f9)];}async['signOut'](){const _0x322a49=_0x178721;await(0x0,_0x2800cb[_0x322a49(0xa8b)])(_0x4a9fc2[_0x322a49(0x9cb)]());}[_0x178721(0x497)](){const _0x2eb41d=_0x178721;return this['user']?.[_0x2eb41d(0x497)]()??Promise[_0x2eb41d(0x8da)](_0x2eb41d(0x4b0));}}class _0x4b08c2{static [_0x178721(0x597)];[_0x178721(0x8ba)]=[];constructor(){}static[_0x178721(0x55a)](){const _0x5a34dd=_0x178721;return _0x4b08c2['instance']||(_0x4b08c2[_0x5a34dd(0x597)]=new _0x4b08c2()),_0x4b08c2[_0x5a34dd(0x597)];}[_0x178721(0x8cc)](){const _0x5452f8=_0x178721;this[_0x5452f8(0x959)](),this[_0x5452f8(0x632)](),this['checkScreenSharing'](),this[_0x5452f8(0x459)](),this[_0x5452f8(0x258)](),this[_0x5452f8(0x7e8)](),this[_0x5452f8(0x9d6)](),this[_0x5452f8(0x2b1)](),this['checkWebGL'](),this[_0x5452f8(0x5cc)](),_0x4826cd[_0x5452f8(0x51c)](_0x312d1f[_0x5452f8(0x61c)],'Support:\x20current\x20config',{'featureSupport':this[_0x5452f8(0x8ba)]});}['isFeatureSupported'](_0x22ed4d){const _0x11d19a=_0x178721,_0x5d4c38=this[_0x11d19a(0x8ba)][_0x11d19a(0x940)](_0x76676b=>_0x76676b[_0x11d19a(0x54e)]===_0x22ed4d);return!!_0x5d4c38&&_0x5d4c38[_0x11d19a(0x98f)];}[_0x178721(0x7fe)](_0x4fcff5){const _0xf2159d=_0x178721;_0x4826cd[_0xf2159d(0x54c)](_0xf2159d(0x852),{'nodeId':_0x4fcff5[_0xf2159d(0x78a)](),'nodeType':_0x4fcff5[_0xf2159d(0x43f)],'data':{'featureSupport':this[_0xf2159d(0x8ba)]}});}[_0x178721(0x959)](){const _0x2079c8=_0x178721,_0x18daa4=_0xa289e0[_0x2079c8(0x4c9)];let _0x13934b=!0x1;_0x2079c8(0xa34)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x2079c8(0xa34)==typeof RTCSessionDescription?_0x13934b=!0x0:_0x4826cd[_0x2079c8(0x51c)](_0x312d1f[_0x2079c8(0x61c)],'Support:\x20'+_0x18daa4+_0x2079c8(0x94b)),this[_0x2079c8(0x8ba)][_0x2079c8(0x77b)]({'name':_0x18daa4,'supported':_0x13934b});}[_0x178721(0x632)](){const _0x2333fe=_0x178721,_0x176c4f=_0xa289e0['MediaStream'];let _0x25e905=!0x1;'function'==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x2333fe(0x237)==typeof navigator&&_0x2333fe(0x237)==typeof navigator['mediaDevices']&&_0x2333fe(0xa34)==typeof navigator[_0x2333fe(0x24e)]['getUserMedia']?_0x25e905=!0x0:_0x4826cd[_0x2333fe(0x51c)](_0x312d1f[_0x2333fe(0x61c)],_0x2333fe(0x6db)+_0x176c4f+_0x2333fe(0x94b)),this[_0x2333fe(0x8ba)][_0x2333fe(0x77b)]({'name':_0x176c4f,'supported':_0x25e905});}[_0x178721(0x25e)](){const _0x3dbca9=_0x178721,_0x1b2a57=_0xa289e0['ScreenSharing'];let _0x510d32=!0x1;_0x3dbca9(0x237)==typeof navigator&&_0x3dbca9(0x237)==typeof navigator[_0x3dbca9(0x24e)]&&_0x3dbca9(0xa34)==typeof navigator[_0x3dbca9(0x24e)][_0x3dbca9(0x231)]?_0x510d32=!0x0:_0x4826cd[_0x3dbca9(0x51c)](_0x312d1f[_0x3dbca9(0x61c)],_0x3dbca9(0x6db)+_0x1b2a57+'\x20not\x20supported'),this[_0x3dbca9(0x8ba)]['push']({'name':_0x1b2a57,'supported':_0x510d32});}['checkAudioVolume'](){const _0x147b19=_0x178721,_0x2489af=_0xa289e0[_0x147b19(0x73e)];let _0x55eb82=!0x1;_0x147b19(0xa34)!=typeof AudioContext||_0x147b19(0xa34)!=typeof ScriptProcessorNode&&_0x147b19(0xa34)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x4826cd['log'](_0x312d1f[_0x147b19(0x61c)],_0x147b19(0x6db)+_0x2489af+_0x147b19(0x94b)):_0x55eb82=!0x0,this['featureSupport']['push']({'name':_0x2489af,'supported':_0x55eb82});}['checkDeviceConfig'](){const _0xe77b64=_0x178721,_0x45f8b7=_0xa289e0[_0xe77b64(0x3d1)];let _0xbdc381=!0x1;_0xe77b64(0x237)==typeof navigator&&_0xe77b64(0x237)==typeof navigator[_0xe77b64(0x24e)]&&_0xe77b64(0xa34)==typeof navigator[_0xe77b64(0x24e)][_0xe77b64(0x7c2)]&&_0xe77b64(0xa34)==typeof MediaDeviceInfo?_0xbdc381=!0x0:_0x4826cd[_0xe77b64(0x51c)](_0x312d1f[_0xe77b64(0x61c)],'Support:\x20'+_0x45f8b7+'\x20not\x20supported'),this[_0xe77b64(0x8ba)][_0xe77b64(0x77b)]({'name':_0x45f8b7,'supported':_0xbdc381});}[_0x178721(0x7e8)](){const _0x35768c=_0x178721,_0x30d40a=_0xa289e0[_0x35768c(0x6a6)];let _0x11100d=!0x1;_0x35768c(0x237)==typeof document&&_0x35768c(0xa34)==typeof document[_0x35768c(0x69b)](_0x35768c(0x63a))[_0x35768c(0x893)]?_0x11100d=!0x0:_0x4826cd[_0x35768c(0x51c)](_0x312d1f[_0x35768c(0x61c)],_0x35768c(0x6db)+_0x30d40a+_0x35768c(0x94b)),this['featureSupport'][_0x35768c(0x77b)]({'name':_0x30d40a,'supported':_0x11100d});}async[_0x178721(0x9d6)](){const _0x198e1d=_0x178721,_0x5197a2=_0xa289e0[_0x198e1d(0x82a)];let _0xcc49ab=!0x1;try{const _0xdb16ee=document['createElement'](_0x198e1d(0x24a));if(MediaRecorder&&MediaSource&&_0xdb16ee[_0x198e1d(0x3fc)]){const _0x41cc88=_0xdb16ee[_0x198e1d(0x3fc)](),_0x1259ac=new MediaRecorder(_0x41cc88);_0x1259ac[_0x198e1d(0x2cf)](),await new Promise(_0x3e789a=>setTimeout(_0x3e789a,0x7d0)),_0x1259ac[_0x198e1d(0x90c)](),_0xcc49ab='inactive'===_0x1259ac[_0x198e1d(0x989)];}}catch(_0x420eee){_0x4826cd[_0x198e1d(0x51c)](_0x312d1f[_0x198e1d(0x61c)],_0x198e1d(0x6db)+_0x5197a2+'\x20check\x20failed',_0x420eee);}this[_0x198e1d(0x8ba)][_0x198e1d(0x77b)]({'name':_0x5197a2,'supported':_0xcc49ab}),_0xcc49ab||_0x4826cd[_0x198e1d(0x51c)](_0x312d1f[_0x198e1d(0x61c)],'Support:\x20'+_0x5197a2+_0x198e1d(0x94b));}[_0x178721(0x2b1)](){const _0x39c1c0=_0x178721,_0x9852a3=_0xa289e0[_0x39c1c0(0x6b4)];let _0x51cdd6=!0x1;try{document[_0x39c1c0(0x69b)](_0x39c1c0(0x24a))[_0x39c1c0(0x3fc)]&&(_0x51cdd6=!0x0);}catch(_0x7acb7b){_0x4826cd[_0x39c1c0(0x51c)](_0x312d1f[_0x39c1c0(0x61c)],_0x39c1c0(0x6db)+_0x9852a3+_0x39c1c0(0x4b9),_0x7acb7b);}this[_0x39c1c0(0x8ba)][_0x39c1c0(0x77b)]({'name':_0x9852a3,'supported':_0x51cdd6}),_0x51cdd6||_0x4826cd[_0x39c1c0(0x51c)](_0x312d1f[_0x39c1c0(0x61c)],_0x39c1c0(0x6db)+_0x9852a3+'\x20not\x20supported');}[_0x178721(0x670)](){const _0x3fe6a8=_0x178721,_0x3a65f5=_0xa289e0[_0x3fe6a8(0x736)];let _0x507246=!0x1;try{const _0x382729=document['createElement'](_0x3fe6a8(0x24a));WebGLRenderingContext&&_0x382729[_0x3fe6a8(0x764)](_0x3fe6a8(0x204))&&(_0x507246=!0x0);}catch(_0x40f90f){_0x4826cd[_0x3fe6a8(0x51c)](_0x312d1f[_0x3fe6a8(0x61c)],'Support:\x20'+_0x3a65f5+'\x20check\x20failed',_0x40f90f);}this['featureSupport']['push']({'name':_0x3a65f5,'supported':_0x507246}),_0x507246||_0x4826cd[_0x3fe6a8(0x51c)](_0x312d1f[_0x3fe6a8(0x61c)],_0x3fe6a8(0x6db)+_0x3a65f5+'\x20not\x20supported');}[_0x178721(0x5cc)](){const _0x2fb4d9=_0x178721,_0x172b91=_0xa289e0[_0x2fb4d9(0xa38)];let _0x4436d5=!0x1;_0x2fb4d9(0xa34)==typeof AudioContext?_0x4436d5=!0x0:_0x4826cd[_0x2fb4d9(0x51c)](_0x312d1f[_0x2fb4d9(0x61c)],_0x2fb4d9(0x6db)+_0x172b91+_0x2fb4d9(0x94b)),this[_0x2fb4d9(0x8ba)][_0x2fb4d9(0x77b)]({'name':_0x172b91,'supported':_0x4436d5});}}const _0x35e0c9=_0x4b08c2[_0x178721(0x55a)]();class _0x5132f0{static [_0x178721(0x597)];static [_0x178721(0x90e)];static [_0x178721(0x7ed)];[_0x178721(0x3cf)];[_0x178721(0x92c)];['options'];[_0x178721(0x430)];[_0x178721(0x7d1)]=new Map();[_0x178721(0x6a5)];constructor(_0x4fc199,_0x52c849,_0x23184c){const _0x25d81a=_0x178721;this[_0x25d81a(0x92c)]=_0x4fc199,this[_0x25d81a(0x430)]=_0x52c849,this[_0x25d81a(0x3cf)]=new _0x29dab4(this['vendorId']),_0x35e0c9[_0x25d81a(0x8cc)](),this[_0x25d81a(0x668)]={'audioContext':_0x23184c?.[_0x25d81a(0xa60)]??(_0x35e0c9[_0x25d81a(0x392)](_0xa289e0[_0x25d81a(0xa38)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x23184c?.[_0x25d81a(0x5df)]??0x1,'minConnections':_0x23184c?.[_0x25d81a(0x7b5)]??0x3,'maxConnections':_0x23184c?.[_0x25d81a(0x27f)]??(_0x23184c?.['minConnections']&&0x4*_0x23184c[_0x25d81a(0x7b5)])??0xc,'maxDistance':_0x23184c?.[_0x25d81a(0x4f8)]??0xa,'maxFps':_0x23184c?.['maxFps']??0x18,'maxBpp':_0x23184c?.['maxBpp']??0.12,'objectStoreConnector':_0x23184c?.[_0x25d81a(0x4b6)]??_0x34413d[_0x25d81a(0x8d7)],'externalStorageConnectors':_0x23184c?.[_0x25d81a(0x9e8)],'keyValueDatabaseConnector':_0x23184c?.[_0x25d81a(0x5e2)]??_0x538e8b[_0x25d81a(0xa47)],'loggingDatabaseConnector':_0x23184c?.[_0x25d81a(0x8f2)]??_0x538e8b[_0x25d81a(0xa47)],'peerConnectionConnector':_0x23184c?.[_0x25d81a(0x3d6)]??_0x369d04['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x23184c?.[_0x25d81a(0xa09)],'vectorDatabaseConnector':_0x23184c?.[_0x25d81a(0x86f)],'graphDatabaseConnector':_0x23184c?.[_0x25d81a(0x548)],'documentParserConnector':_0x23184c?.[_0x25d81a(0x962)],'nlpLibraryConnector':_0x23184c?.['nlpLibraryConnector'],'searchConnector':_0x23184c?.[_0x25d81a(0x244)],'aiSearchConnector':_0x23184c?.[_0x25d81a(0xa3d)]},_0x23184c?.['disableIntervalHack']&&this[_0x25d81a(0x668)][_0x25d81a(0xa60)]&&_0x387a0b['startNoThrottlingHack'](this[_0x25d81a(0x668)][_0x25d81a(0xa60)]),_0x4826cd[_0x25d81a(0x8f5)](this[_0x25d81a(0x92c)]),_0x23184c?.[_0x25d81a(0x1f8)]&&_0x4826cd['setLoggingConnectors'](_0x23184c[_0x25d81a(0x1f8)]);}static async[_0x178721(0x55a)](_0x26578c,_0x3862cc,_0x2b1029,_0x3678b2,_0x526733){const _0x7a3fbc=_0x178721;this[_0x7a3fbc(0x7ed)]=_0x2b1029;const _0x2680d8=await this[_0x7a3fbc(0x4a5)](_0x26578c,_0x3862cc,_0x526733);return _0x5132f0[_0x7a3fbc(0x597)]||(_0x5132f0[_0x7a3fbc(0x597)]=new _0x5132f0(_0x26578c,_0x2680d8,_0x3678b2)),{'close':_0x5132f0[_0x7a3fbc(0x597)][_0x7a3fbc(0x3d8)][_0x7a3fbc(0x428)](_0x5132f0['instance']),'authenticateUser':_0x5132f0[_0x7a3fbc(0x597)][_0x7a3fbc(0x801)][_0x7a3fbc(0x428)](_0x5132f0['instance']),'authenticateAgent':_0x5132f0[_0x7a3fbc(0x597)][_0x7a3fbc(0xa8c)][_0x7a3fbc(0x428)](_0x5132f0[_0x7a3fbc(0x597)]),'joinCluster':_0x5132f0[_0x7a3fbc(0x597)][_0x7a3fbc(0x583)][_0x7a3fbc(0x428)](_0x5132f0[_0x7a3fbc(0x597)])};}static async[_0x178721(0x8cd)](){const _0x551cf5=_0x178721;return _0x4a9fc2[_0x551cf5(0x6dc)]();}static[_0x178721(0x30e)](){return _0x551917['isProduction'];}async[_0x178721(0x3d8)](_0x232784){const _0x2f190b=_0x178721;this[_0x2f190b(0x7d1)]['forEach'](_0x2507df=>{const _0x2acc33=_0x2f190b;_0x2507df[_0x2acc33(0x52d)](),_0x2507df[_0x2acc33(0x47d)](_0x232784);}),this['clusters'][_0x2f190b(0x6f1)](),this[_0x2f190b(0x668)][_0x2f190b(0xa60)]&&_0x387a0b[_0x2f190b(0x29e)](),_0x5132f0['unsubscribe']?.(),_0x5132f0[_0x2f190b(0x90e)]=void 0x0,this['authContext']=void 0x0,await this[_0x2f190b(0x3cf)][_0x2f190b(0xa8b)](),_0x5132f0[_0x2f190b(0x597)]=void 0x0;}static async[_0x178721(0x4a5)](_0x42351a,_0x1b71f2,_0x415c6a){const _0xefecc4=_0x178721;if(!this['mode'])throw new _0x1c9a4(_0x58f0d1[_0xefecc4(0x1ad)],_0xefecc4(0x256));let _0x52fb8c;try{_0x52fb8c=await(0x0,_0x545836[_0xefecc4(0x4d1)])(_0x4a9fc2[_0xefecc4(0x7e5)](),_0xefecc4(0x48d))({'vendorId':_0x42351a,'accessToken':_0x1b71f2,'secretKey':_0x415c6a});}catch(_0x3d2f48){throw new _0x1c9a4(_0x58f0d1[_0xefecc4(0x5a0)],_0xefecc4(0x793));}if(!this[_0xefecc4(0x8c8)](_0x52fb8c[_0xefecc4(0x372)]))throw new _0x1c9a4(_0x58f0d1[_0xefecc4(0x5a0)],'Invalid\x20credentials');const _0x1c6d8a=_0x52fb8c[_0xefecc4(0x372)];return _0x1c6d8a[_0xefecc4(0x65b)]||(_0x1c6d8a[_0xefecc4(0x65b)]=[]),this[_0xefecc4(0x90e)]||(this[_0xefecc4(0x90e)]=_0x387a0b[_0xefecc4(0x69a)](async()=>{const _0x49fe45=_0xefecc4;try{const _0x3603bf=await this[_0x49fe45(0x4a5)](_0x42351a,_0x1b71f2,_0x415c6a);this[_0x49fe45(0x7ed)]===_0x12ff66[_0x49fe45(0x8ee)][_0x49fe45(0x4dc)]&&(_0x3603bf[_0x49fe45(0x534)]=_0x3603bf[_0x49fe45(0x534)][_0x49fe45(0x434)](_0x4acd24=>_0x4acd24[_0x49fe45(0x1b3)][_0x49fe45(0x9c8)]('stun:'))),_0x1c6d8a[_0x49fe45(0x534)]=_0x3603bf['iceServers'];}catch(_0x4c0e50){}},0x1b7740)),_0x1c6d8a;}async['authenticateUser'](_0x2cdeff){const _0x5f207f=_0x178721;if(_0x5132f0['mode']!==_0x12ff66['NodeType'][_0x5f207f(0x1e2)])throw new _0x1c9a4(_0x58f0d1[_0x5f207f(0x457)],_0x5f207f(0x3ef));await this[_0x5f207f(0x3cf)]['signInWithCredential'](_0x2cdeff);const _0x159148=new _0x17f5e(_0x2cdeff['id'],_0x2cdeff['displayName'],_0x2cdeff[_0x5f207f(0x7d6)]);return this[_0x5f207f(0x6a5)]={'node':_0x159148},_0x35e0c9[_0x5f207f(0x7fe)](_0x159148),{'type':_0x12ff66['NodeType']['User'],'getId':_0x159148[_0x5f207f(0x78a)]['bind'](_0x159148),'getDisplayName':_0x159148[_0x5f207f(0x3c7)][_0x5f207f(0x428)](_0x159148),'getEmail':_0x159148[_0x5f207f(0x238)][_0x5f207f(0x428)](_0x159148),'setDisplayName':_0x159148[_0x5f207f(0x483)][_0x5f207f(0x428)](_0x159148),'setEmail':_0x159148[_0x5f207f(0x8af)][_0x5f207f(0x428)](_0x159148)};}async['authenticateAgent'](_0x4a4981){const _0x48e26b=_0x178721;if(_0x5132f0['mode']!==_0x12ff66[_0x48e26b(0x8ee)]['Agent'])throw new _0x1c9a4(_0x58f0d1[_0x48e26b(0x457)],'Node\x20type\x20is\x20invalid');const {id:_0x5df8f2,groupId:_0x1d8034}=_0x4a4981,_0x1905a9=await(0x0,_0x3d71d8['getDoc'])((0x0,_0x3d71d8[_0x48e26b(0xa0e)])(_0x4a9fc2[_0x48e26b(0xaa0)](),_0x48e26b(0x8be)+this[_0x48e26b(0x92c)]+_0x48e26b(0x1a7)+_0x1d8034));if(!_0x1905a9['exists']())throw new _0x1c9a4(_0x58f0d1[_0x48e26b(0x391)],_0x48e26b(0x4d7));const _0x323d3d=_0x1905a9[_0x48e26b(0x372)]();await this['authService'][_0x48e26b(0x2d2)]({'id':_0x5df8f2});const _0x1ca1c8=new _0xc989ad(_0x5df8f2,_0x1d8034,this[_0x48e26b(0x92c)],_0x323d3d);return this[_0x48e26b(0x6a5)]={'node':_0x1ca1c8},_0x35e0c9['logSupport'](_0x1ca1c8),this[_0x48e26b(0x2d8)](_0x1ca1c8),{'type':_0x12ff66['NodeType'][_0x48e26b(0x4dc)],'getId':_0x1ca1c8['getId'][_0x48e26b(0x428)](_0x1ca1c8),'onConfigurationChange':_0x1ca1c8[_0x48e26b(0x630)][_0x48e26b(0x428)](_0x1ca1c8),'setReportCapacity':_0x1ca1c8[_0x48e26b(0x707)]['bind'](_0x1ca1c8)};}async[_0x178721(0x583)](_0x57f722){const _0x4d7eb0=_0x178721;if(!this['authContext'])throw new _0x1c9a4(_0x58f0d1[_0x4d7eb0(0x391)],_0x4d7eb0(0xa49));if(this['authContext'][_0x4d7eb0(0x86e)][_0x4d7eb0(0x43f)]!==_0x12ff66['NodeType'][_0x4d7eb0(0x1e2)])throw new _0x1c9a4(_0x58f0d1[_0x4d7eb0(0x708)],_0x4d7eb0(0x315));if(this[_0x4d7eb0(0x7d1)]['has'](_0x57f722))throw new _0x1c9a4(_0x58f0d1[_0x4d7eb0(0x5a2)],_0x4d7eb0(0x60f));const _0x2088d0=new _0x247e53(this[_0x4d7eb0(0x92c)],_0x57f722,this[_0x4d7eb0(0x6a5)][_0x4d7eb0(0x86e)],this['authService'],this[_0x4d7eb0(0x668)],this['configs']);return await _0x2088d0[_0x4d7eb0(0x4c6)](),this[_0x4d7eb0(0x798)](_0x57f722,_0x2088d0),_0x4826cd[_0x4d7eb0(0x54c)](_0x4d7eb0(0xa80),{'clusterId':_0x57f722,'nodeId':this[_0x4d7eb0(0x6a5)][_0x4d7eb0(0x86e)][_0x4d7eb0(0x78a)](),'nodeType':this['authContext'][_0x4d7eb0(0x86e)][_0x4d7eb0(0x43f)]}),{'leave':_0x2088d0[_0x4d7eb0(0x47d)][_0x4d7eb0(0x428)](_0x2088d0),'getLocalNode':_0x2088d0[_0x4d7eb0(0x31f)][_0x4d7eb0(0x428)](_0x2088d0),'openPubSubTopic':_0x2088d0[_0x4d7eb0(0x3b9)][_0x4d7eb0(0x428)](_0x2088d0),'openObjectStoreBucket':_0x2088d0['openObjectStoreBucket'][_0x4d7eb0(0x428)](_0x2088d0),'openExternalStorageConnection':_0x2088d0[_0x4d7eb0(0x9d0)]['bind'](_0x2088d0),'openKeyValueDatabase':_0x2088d0[_0x4d7eb0(0x20e)]['bind'](_0x2088d0),'openGenerativeAIContext':_0x2088d0[_0x4d7eb0(0x47f)][_0x4d7eb0(0x428)](_0x2088d0),'openGenerativeAIWorker':_0x2088d0['openGenerativeAIWorker'][_0x4d7eb0(0x428)](_0x2088d0),'openGraphDatabase':_0x2088d0[_0x4d7eb0(0x180)][_0x4d7eb0(0x428)](_0x2088d0),'openVectorDatabase':_0x2088d0[_0x4d7eb0(0x4d8)][_0x4d7eb0(0x428)](_0x2088d0),'publishLocalMediaStream':_0x2088d0[_0x4d7eb0(0x293)][_0x4d7eb0(0x428)](_0x2088d0),'publishLocalDynamicMediaStream':_0x2088d0[_0x4d7eb0(0x39a)][_0x4d7eb0(0x428)](_0x2088d0),'getPubSubTopics':_0x2088d0[_0x4d7eb0(0x38e)][_0x4d7eb0(0x428)](_0x2088d0),'getObjectStoreBuckets':_0x2088d0[_0x4d7eb0(0x1b5)]['bind'](_0x2088d0),'getExternalStorageConnections':_0x2088d0[_0x4d7eb0(0x506)]['bind'](_0x2088d0),'getKeyValueDatabases':_0x2088d0[_0x4d7eb0(0x5b5)]['bind'](_0x2088d0),'getGenerativeAIContexts':_0x2088d0[_0x4d7eb0(0x5ea)][_0x4d7eb0(0x428)](_0x2088d0),'getGenerativeAIWorkers':_0x2088d0[_0x4d7eb0(0x207)][_0x4d7eb0(0x428)](_0x2088d0),'getGraphDatabases':_0x2088d0[_0x4d7eb0(0x394)][_0x4d7eb0(0x428)](_0x2088d0),'getVectorDatabases':_0x2088d0[_0x4d7eb0(0x618)][_0x4d7eb0(0x428)](_0x2088d0),'getLocalMediaStreams':_0x2088d0['getLocalMediaStreams'][_0x4d7eb0(0x428)](_0x2088d0),'getRemoteMediaStreams':_0x2088d0[_0x4d7eb0(0x255)][_0x4d7eb0(0x428)](_0x2088d0),'getRemoteNodes':_0x2088d0[_0x4d7eb0(0x93c)][_0x4d7eb0(0x428)](_0x2088d0),'on':_0x2088d0['on']['bind'](_0x2088d0),'off':_0x2088d0['off'][_0x4d7eb0(0x428)](_0x2088d0)};}async[_0x178721(0x2d8)](_0x2dfaeb){const _0x5cc784=_0x178721;for(const _0x289a22 of _0x2dfaeb['agentConfig'][_0x5cc784(0x7d1)]){const _0x8c29f8=new _0x247e53(this[_0x5cc784(0x92c)],_0x289a22['id'],_0x2dfaeb,this[_0x5cc784(0x3cf)],this[_0x5cc784(0x668)],this[_0x5cc784(0x430)]);await _0x8c29f8[_0x5cc784(0x4c6)](),this[_0x5cc784(0x798)](_0x289a22['id'],_0x8c29f8),_0x4826cd['forceLog'](_0x5cc784(0x1b9),_0x289a22['id']);for(const _0x387b83 of _0x289a22[_0x5cc784(0x1f7)]??[])_0x8c29f8[_0x5cc784(0x3b9)](_0x387b83),_0x4826cd[_0x5cc784(0x6e2)](_0x5cc784(0x684),_0x387b83);for(const _0x34f133 of _0x289a22[_0x5cc784(0x190)]??[])await _0x8c29f8[_0x5cc784(0x5be)](_0x34f133),_0x4826cd['forceLog'](_0x5cc784(0x4de),_0x34f133);for(const _0x5ee564 of _0x289a22['modelStorageBuckets']??[])await _0x8c29f8[_0x5cc784(0x5be)](_0x5ee564,{'standalone':!0x0}),_0x4826cd['forceLog'](_0x5cc784(0x4e7),_0x5ee564);for(const _0x2deaa8 of _0x289a22[_0x5cc784(0x50c)]??[]){const _0x5f4770=_0x2deaa8[_0x5cc784(0x6af)]('-');await _0x8c29f8[_0x5cc784(0x9d0)](_0x5f4770[0x1],_0x5f4770[0x0]),_0x4826cd[_0x5cc784(0x6e2)](_0x5cc784(0xa19),_0x2deaa8);}for(const _0x31d63e of _0x289a22[_0x5cc784(0x375)]??[])await _0x8c29f8[_0x5cc784(0x20e)](_0x31d63e,{'version':0x1,'tables':{}}),_0x4826cd[_0x5cc784(0x6e2)]('Opened\x20key\x20value\x20database',_0x31d63e);for(const _0x45114b of _0x289a22[_0x5cc784(0x16e)]??[])_0x8c29f8['openGraphDatabase'](_0x45114b),_0x4826cd[_0x5cc784(0x6e2)](_0x5cc784(0x1d3),_0x45114b);for(const _0xf25247 of _0x289a22[_0x5cc784(0x407)]??[])_0x8c29f8['openVectorDatabase'](_0xf25247),_0x4826cd[_0x5cc784(0x6e2)](_0x5cc784(0x860),_0xf25247);for(const _0x2c85d4 of _0x289a22['generativeAIContexts']??[]){const _0x473d0d=_0x5ef62c(this[_0x5cc784(0x92c)],_0x2c85d4),_0xe718b1=_0x5ee01a(),_0x5e5af3=this['options'][_0x5cc784(0x8f2)]??this['options'][_0x5cc784(0x5e2)];await _0x8c29f8['openKeyValueDatabase'](_0x473d0d,_0xe718b1,_0x5e5af3),_0x4826cd['forceLog'](_0x5cc784(0x841),_0x473d0d),await _0x8c29f8[_0x5cc784(0x8ca)](_0x2c85d4),_0x4826cd[_0x5cc784(0x6e2)]('Opened\x20generative\x20AI\x20worker',_0x2c85d4);}}}['addCluster'](_0x127533,_0x437d2f){const _0x164de8=_0x178721;this[_0x164de8(0x7d1)][_0x164de8(0x5f0)](_0x127533,_0x437d2f),_0x437d2f['on'](_0x164de8(0x33e),()=>{const _0x3ef32a=_0x164de8;_0x437d2f[_0x3ef32a(0x52d)](),this[_0x3ef32a(0x7d1)]['delete'](_0x127533);});}static[_0x178721(0x8c8)](_0x3902af){const _0x5c9f20=_0x178721;return void 0x0!==_0x3902af[_0x5c9f20(0x534)];}}return _0xbd2d6d;})())));