function a0_0x16f6(){const _0x212420=['ObjectStoreNameNotString','JobType','setupRenderElement','SystemStats','count','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','onTrack','isFeatureSupported','isProduction','maxThreshold','\x27\x20payload:','dataTopics','appsync-statechange','successNotified','PubSubTopicStats','receiverBitrate','getResolution','batchQueue','bufferedEvents','upgrade','updateDebounceTimeout','getJobs','removeJobDispatcher','topic','IngestTrace','unregisterSource','updateLastTransactionId','LocalMediaStreamNoAudioContext','Entity','outputTokens','DataStream\x20send','Cannot\x20list\x20directory:\x20','messageUnsubscriber','callback','getJob','processLocalReport','getRank','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','commitBatch','validateAccess','parseWorkflowBlocks','framesEncoded','discover','subscribedTracks','mediaStream','FolderCreate','manageOptimization','Channel\x20\x27','setTransformations','registerSubscriber','10932vrCHXY','job-dispatcher-does-not-exist','getTableConnector','getObjectStoreBuckets','GraphDatabaseDoesNotExist','find','User\x20not\x20signed\x20in','KeyValueDatabase\x20not\x20found','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','agent-config-changed','TextModel','createIncomingSubscription','buildTableEvent','issues','web-scraper','currentFrames','stringify','source','Logger.getInstance','.md','ref','gain','KeyValueDatabaseTableDoesNotExist','updateDebounce','minResolutionScale','DataChannel\x20buffer\x20is\x20full.','entities','getIdToken','isPartialResultResponse','clearWaitAnswer','createLocalMediaStream','code','connectionState','\x20when\x20you\x20need\x20broad\x20or\x20contextual\x20data\x20to\x20inform\x20your\x20response.','sendChunked','bufferedAmountLowThreshold','CloseJobWorker','\x27\x20from\x20','messageBuffer','validateValue','region','No\x20connector\x20found\x20for\x20model','getClosestNodes','AudioVolume','checkScreenSharing','createGenerativeAIWorker','createPendingFileWrite','setOnMessageHandler','vector-database-name-not-string','accumulated','Code','reportMetric','GenerativeAIContextJobTimeout','setSinkId','removeKeyValueDatabase','Cannot\x20get\x20file:\x20','threshold','getAncestorIds','parse','Chosen\x20answer','outgoingStreams','generative-ai-label-conflict','asc','Partial','searchConnector','getCoresFromCapacityReport','RemoteMediaStreamDoesNotExist','streams','Internal\x20event\x20\x27','handleFileSync','streamId','receiverUnsubscribers','getRemoteNodes','time','getAuth','replace','Stats:\x20report','Invalid\x20object\x20store\x20state.','FileStatus','Error\x20searching','/transactions','cost','Emitting\x20event\x20on\x20local\x20cluster','listenerUnsubscriber','JobDispatcherJobNotFound','gpu','getId','LocalMediaStreamTrackFail','.yaml','handleNodeDisconnect','removeTrackCallback','/resources/generative-ai-agent/items','\x27\x20in\x20table\x20\x27','createElement','Support:\x20current\x20config','clearHeartbeat','checkAudioVolume','Skill','query','documentParserConnector','us-east-1','key-value-database-does-not-exist','localId','available','removeTrack','clearSubscriptionRequestTimeout','joinedAt','clientStream','subscriptionManager','prototype','DataStream','sendBid','\x20-\x20','cluster-leave','processPendingHandshakeCandidates','st_volatility','true','durationTime','RemoteMediaStreamMissingProviderId','createAnswer','isMediaSource','unregisterPublisherListener','onProviderChange','.handlebars','getShareableStreamId','direction','url','.dart','TimePerFrame','getTransactionFromTableWriteEvent','pendingSyncTransactions','JobWorkerAlreadyExists','AppSync\x20client\x20not\x20ready','AI\x20worker\x20creation\x20failed.','webgl','user-update','setRank','removeContent','document-parser','local-media-stream-already-exists','Detection','handleConnectionSuccess','answerJoin','2-digit','evaluateBidsAndAttributeJob','\x20not\x20found.','getTable','remoteId','vector-database-already-exists','contentMediator','handleNeedRestart','KeyValueDatabaseCreationFailed','internalProcessJob','clearUpgradeTimeout','pathName','publishLocalMediaStream','blocks','addMessage','globalObject','PubSubTopicAlreadySubscribed','newPath','Invalid\x20query','docs','request-file-sync','frameHeight','push','Pending','getRoundTripTime','call','bytesSent','getContentType','.py','oncloseTimeout','oidc','inputType','system-stats','receiverCurrentBytes','openPubSubTopic','from','InvalidDataChannel','next','Node\x20already\x20exists.','getTracks','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','queues','/developers/','maxFps','unregisterSystemPublisher','registerDestination','logBatch','object-store-invalid-state','fps','Buffered\x20chunks\x20are\x20too\x20large','signalingServer','agentConfig','Delete','objectStoreConnector','jitter','handleContentUpdateMediaStream','KeyValueDatabase','Invalid\x20peer\x20connection\x20event\x20destination.','syncTransactionsWritten','PayloadAction','Sending\x20\x27','vector-database-missing-connector','debounceProcessRank','Object\x20store\x20not\x20synced.','KeyValueDatabaseInvalidLayout','handleNodeJoinNeedPublishedStream','handleDetectionSystemEvents','retryCallback','MediaStream','.kt','notifyObjectStoreOfNodeJoin','ner','sendFileRequestPayload','applyRemediation','lastRemediations','JobWorker:\x20Sending\x20job\x20reject','closeTopic','options','DatabaseEvent','retrieveBlocks','connectionConstructor','video','wait','bytesReceived','orchestrator-close','publishTransaction','handleSubscribeMediaStream','handleNodeSystemEvents','key-value-database-table-does-not-exist','missing-datachannel','sdk-internal-error:\x20','/nodes/','https://crewdle-sdk-default-rtdb.firebaseio.com','getLocalMediaStream','handleIceCandidates','width','nodeId','\x20after\x20','handleNoAnswer','\x27\x20reserved','subscribeToContent','SubscriptionRequestDoesNotExist','syncFolder','request-file-write','findIndex','resolution','getConnection','maxBpp','checkMediaRecording','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','getBufferedAmount','getInstance','collectSendersStats','graph-database-creation-failed','waitAnswer','outgoing-stream-no-topic','getShareableStream','CanProvideMediaStream','UpdateMediaStream','handleDisconnect','text/','generativeAIWorkers','recipients','modelStore','syncedFileExists','setReceiverBytes','syncKeyValueDatabase','detail','crewdleSDKEnableLogging','sendAction','objectRequests','tail','Connection\x20does\x20not\x20exist.','connection-buffer-not-empty','getMinConnections','\x20created\x20and\x20dispatched.','offset','kind','Remove','.j2','maxLayer','createMediaStreamSource','getConnectionType','request-file','key-value-database-index-not-found','sdkValidateAccess','.mustache','abs','Node\x20not\x20authenticated','data-collection','functionsRegion','GenerativeAIContextInvalidPartialResult','timeSending','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','calculateArrayBufferSize','handleSubscriptionUnsubscribeMediaStream','outbound-rtp','\x27\x20to\x20','Time','SubscribeMediaStream','KeyValueDatabaseTableNotFound','JobWorker:\x20Sending\x20job\x20partial\x20result','handleUnsubscribeMediaStream','onMessage','AudioVideoDelay','listenerUnsubscribers','key-value-database-transaction-value-not-set','checkExistingPendingFileContent','receiverCurrentTimestamp','match','createWritableStream','graph-database-missing-connector','getWorkflowModels','loadExistingContent','operator','JobWorkerCreationFailed','Receiver','publishNodeJoin','Subscription','NodeNotAuthenticated','lastExecuted','decode','G-F7W8KXRKQB','isJobAttribution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20More\x20content\x20available\x20on\x20page\x20','handshakeCandidates','createGain','createSenderConnection','initializeSystemTopic','openGraphDatabase','invalid-access','VectorDatabaseAlreadyExists','limit','isSyncing','onDataChannel','firebaseUnsubscriber','createBatchOperation','currentBatch','node-invalid-type','relation-extractor','Move','publish','doc','systemMessagesReceived','publishFolder','Invalid\x20layout:\x20','waitForSyncComplete','WebRTCBrowserPeerConnectionConnector','createConstantSource','ObjectStorageBucket','key-value-database-invalid-layout','NodeJoin','RoundTripTime','RequestFileSync','job-worker-does-not-exist',':\x20Object\x20store\x20is\x20not\x20in\x20sync','secheduleTime','connections','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','queueLength','jobObservers','.hbs','autoplay','KeyValueDatabaseDoesNotExist','bandwidth.rtt','isReconnecting','shouldContinuePropagation','connection','email','internalId','.crewdle-transactions','arrayBuffer','peerConnectionConnector','Offline','mediaDevices','.crewdle-layout','getContent','restartTimeout','propagate','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','localMediaStreams','0.5.0','Recording','verb','event','connected','JobDispatcherCreationFailed','Invalid\x20job\x20service\x20payload.','GraphDatabaseNameNotString','mistlet-capacity-report-not-set','addAudioTrack','timestamp','sender','addConnection','unshift','isConnected','connectionManager','getLabel','detectProblems','721240LnlAmk','reject','lastUpdated','reads','entries','minThreshold','onDisconnectHandler','getMaxDistance','/resources/agent/items/','isInternalSDKConfigs','handleUpdateMediaStream','track','modelId','appsync-connect-fail','getRemoteMediaStreams','SystemTopic\x20publish','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','previousTimestamp','bind','slice','addTrack','job-worker-already-exists','frameTime','connection-not-connected','ingestBlocks','handleNodeUpdate','.jinja','senderBitrate','checkBackgrounds','checkAudioContext','ObjectStoreInvalidPayload','GenerativeAIContextStats','getRemoteId','updated','setupTrackEndedListeners','getEmail','Cannot\x20unpublish\x20object\x20at\x20','jobDispatchers','getBitrate','removeItem','connection-state','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Job\x20with\x20id\x20','PubSub\x20already\x20exists','FileWrite','fromEntries','getDataBucketIds','result','handleLocalTrackFailure','JobDispatcherJobExists','writes','getChannelData','getName','removeJobWorker','openObjectStoreBucket','notifyJoin','value','text','InvalidSubscription','targetId','/resources/generative-ai-model/items','tableName','Node\x20does\x20not\x20exist.','getInternalStreamId','unsubscribeListener','attributes','Job\x20','concat','setParams','AppSync\x20connection\x20not\x20ready','serverTimestamp','InitialPrompt','stats','getDisplayMedia','.cs','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','SubscriptionRequestNoAnswer','min','digest','toStringTag','missing-system-topic','engineType','.groovy','-leave','setDisplayName','warning','removeTopic','Issue\x20detected:\x20','model','Buffering\x20event','Internal\x20SDK\x20Error:\x20','KeyValueDatabaseIndexNotFound','Events','remote-media-stream-already-exists','handleChunkMessage','Code\x20is\x20required','detectStreamIssues','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','authenticateUser','AudioContext','tokens','calculateSize','request-accepted','.ejs','now','debugEnabled','data-stream','GraphDatabaseAlreadyExists','No\x20answer\x20block\x20found','getEngineType','timesCalled','fileSendingMap','nodes','requestSubscription','logPropagateSystemEvent','logStorage','Local\x20node\x20rank\x20is\x20not\x20set','Cannot\x20publish\x20move\x20operation:\x20','EmbeddingVectorization','remote-stream-does-not-exist','removeNode','bufferEvent','handleProblem','answer','handleUnpublishMediaStream','sendReject','chosenAnswers','.ex','Accepted','every','content-publish-media','\x27\x20in\x20layout','runTransaction','prompt','fetchUrl','supports','object-store-not-synced','isValidMediaSubscriptionParams','Signaling','operations','jobWorkers','instructions','CloseKeyValueDatabase','orderBy','notifyObjectStoreOfNodeLeave','amd','removeRemoteNode','getLocalId','unregisterDestination','.cpp','getStatus','Error\x20processing\x20ingest','isIceCandidate','startHeartbeat','.bat','collectStats','local-media-stream-track-fail','object-store-not-in-sync','retryQueues','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','WorkflowInvalidBlockType','layout','4609sASFoP','VectorDatabase\x20not\x20found','GraphDatabaseStats','handleStatsSystemEvents','mediaUnsubscribers','set','\x20finalized.','orderByKey','/resources/generative-ai-collection/items','Text','remoteUnsubscriber','processDataChannelReport','Unexpected\x20output\x20type','logSupport','writeFile','batchTimeout','padStart','KeyValueDatabaseAlreadyExists','inbound-rtp','parameters','index','warn','propn','page','contentSize','cores','KeyValueDatabaseInvalidValue','maxResolution','user','crewdle-sdk-logging-','framesDecoded','fileChunks','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','frameWidth','waitSuccess','keyValueDatabases','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','connector','connectionPool','object-store-name-not-string','sdkCreateToken','MediaStreamUnavailable','RemoteAdd','handleNodeLeave','failJob','isBidResponse','ContentType','title','pool','retryQueue','detectLocalIssues','Stream\x20already\x20exists','\x20attempts:','outgoingManager','delete','job-','handleOutgoingSystemEvents','createFolder','handleCloseContent','KeyValueDatabaseStats','publishSyncCompleted','JobWorker:\x20Received\x20job\x20request','toLocaleDateString','job-worker-invalid-type','processBatch','messageCallback','createRemoteMediaStream','file','pop','Update','minRelevance','Database\x20already\x20exists','appsync-disconnect','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','/stats','isRunning','objectStores','VectorDatabase','iceConnectionState\x20failed','subscribe','lastCapacityReport','clearSyncTimeout','peer-connection-invalid-destination','toLowerCase','Count','ancestors','onBufferedAmountLow','getConfigs','Downgrade','.ipynb','nodeKey','Internal\x20SDK\x20error:\x20','removeEventListener','setRemoteConnections','publishSystemMessage','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','isInternalLoggingConnector','writeBatch','isNeedRestart','Job','Image','job-dispatcher-creation-failed','21a9d78dee97f487b','workflow','\x0aAdditional\x20data:\x20','Writable\x20stream\x20is\x20missing','messagesReceived','getEnabledChannels','handshakeDebounce','authService','closeConnection','send','stop','childRemovedUnsubscriber','instance','audio','NodeManager\x20-\x20ConnectionSuccess','remainingTracks','bufferedChunks','audioContext','addIssue','Problem\x20detected:\x20','completeSync','Error\x20loading\x20existing\x20content','RetrieveTrace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clockSkew','Ingest','logConnectionState','AppSync\x20subscribe','Core','Model\x20not\x20found','subscription','out','handleObjectMove','data','openGenerativeAIContext','getPacketsLostPerc','chunk','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','CrewdleConnection\x20handlePeerConnectionSystemEvents','sendFile','getNumberOutgoingSubscriptions','list','GraphDatabase','All\x20recipients\x20already\x20received','PubSubTopicNameNotString','splice','iceServers','InvalidSubscriber','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','content','handleSubscriptionProvideMediaStream','VectorSearch','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','connectionGroup','path','deleteJob','Knowledge','insert','RequestSyncKeyValueDatabase','validateLayout','unregisterRemoteNode','NodeInvalidType','setVendorId','transactionIds','state','evaluateProccessedJob','Module','invalid-publisher','\x20not\x20supported','Llamacpp','incomingManager','getSize','createBatch','links','inputTokens','collection','addProblem','getAudioTracks','publishLocalDynamicMediaStream','deletePendingFile','ObjectStoreNotInSync','media-stream','failed','getProviderId','getGraphDatabases','244QbgWoz','nlpLibraryConnector','checkWebGL','sort','Prompt','Cluster','Remediation','unsubscribeHandler','generative-ai-worker-model-sync-error','handleContentRemoteMediaStreamTrackFail','outgoingTopic','createGenerativeAIContext','LocalMediaStreamDoesNotExist','Retrieve','clearWaitSuccess','currentDistance','Local\x20stream\x20does\x20not\x20exist.','statsReport','getNextTargetRank','generative-ai-worker-missing-connector','JobDispatcherAlreadyExists','firestore','addBatchOperation','clusters','crewdle-sdk','Agent','setDoc','previousFrames','debug','processTransactionPayload','processList','receiver','isMediaDestination','statsManager','RemoteMediaStreamTrackFail','compileStats','events','enabled','GenerativeAIContextAlreadyExists','origin','evaluatePartialJob','createNewBatch','.xml','High','processTransactionsDump','has','handleFileWrite','getDocs','receiverTimeProcessing','getRemoteMediaStream','mediaTopics','handleContentCloseMediaStream','handleJobAttribution','openJobDispatcher','loop','onloadeddata','waitSendBuffer','streamLabel','vector-database','setLocalRank','All','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','committed','resetConnection','publishSyncCompletedAfterWrites','ScreenSharing','bufferedAmount','crewdle-sdk-stg.appspot.com','taskType','connectAgent','Connection\x20not\x20initialized.','getHash','startIndex','heartbeatUnsubscriber','updateLastUpdated','frames','muted','update','graphql','graph-database','InternalSDKError','setProviderId','pub-sub-topic-already-subscribed','Invalid\x20data\x20event.','Disconnect','syncTransactions','all','clusterId','List','senders','.awk','firebase-disconnect','subtle','trackCallback','filter','/transactions/','storage','graphDatabaseConnector','jobs','From\x20','jobPhase','CloseGraphDatabase','onHandshakeStateChange','searchEngineId','signInWithCustomToken','open','eventTarget','generative-ai-context-job-timeout','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','owner','support','type','Content','clusterEventEmitter','key-value-database-creation-failed','crewdle-sdk-stg','Received\x20event\x20on\x20cluster','contentType','object-storage','values','Medium','.jinja2','CrewdleReceiverConnection\x20ontrack','handleSubscriptionSystemEvents','handleNodeJoin','object-store-invalid-sync-message','remote-inbound-rtp','handleContentSystemEvents','params','evaluateBids','createObjectStoreBucket','absolutePathName','.sql','processOutboundReport','api','1216662PZpQWe','\x20check\x20failed','clientHeight','tables','getEstimatedTimestamp','onRemoveTrack','map','CPUCycle','deleteTransactionsForTable','compareTransactions','providerId','setInternalId','systemTopic','groupId','getLocalMediaStreams','query-helper-invalid-argument','height','answererId','CrewdleConnectionGroup','initialize','Received\x20track','cluster','rank','.crewdle-last-transaction','stopConnection','STVolatility','removeOutgoingSubscription','\x20attributed\x20to\x20','\x20answer','chunk-splitter','some','models','getAvailableTrackKinds','JobQueueService:\x20Running\x20job','chunks','No\x20connections\x20available\x20to\x20send\x20message','trackEndedListeners','crewdle-sdk.firebaseapp.com','eventEmitter','northamerica-northeast1','Job\x20service\x20observer\x20not\x20found.','createLocalDynamicMediaStream','Support:\x20','mergeParts','RemoteMediaStreamAlreadyExists','getObjectStoreBucket','objectStorageBuckets','Completed','unsubscribeTrackEndedListener','JobWorkerInvalidType','local-stream-does-not-exist','graphDatabases','removeConnection','deleteObject','\x20failed.\x20Retrying...','removeSubscription','moveObject','cluster-disconnect','setPriority','getLastUpdated','peer-connection','Debug','findNextNodeId','mediator','functions','enabledChannels','description','discoveryService','ObjectStoreCannotWriteTransaction','dataChannel','GenerativeAIContext','leave','connectionStateListener','Answer','test-page','component','subscriptions','PubSub','stream','ObjectStore','processReport','DeviceConfig','Model','incrementVersion','RemoteConnectionExists','uuid','getRemoteNode','handleRemoteTrackFailure','GenerativeAIWorkerMissingConnector','instantiateTransactionTable','packets','answers','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','Folder','getSubscriptionLabel','Connection','Jitter','addEdge','cpu.av_delay','getApp','problemType','catch','byteLength','getDistance','startBidResponseHandling','checkAudioOutput','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','onDisconnect','detectAudioIssues','listen','Invalid\x20key\x20\x27','56097VHhdRl','cpu.cycle','.sh','ObjectStoreInvalidSyncMessage','getContext','folder-create','NodeManager\x20-\x20NodeLeave','handleSubscriptionSubscribeMediaStream','prompts','notifyCluster','GenerativeAIContextJobFailed','transactionService','createVectorDatabase','action','transformations','Error\x20closing\x20writable\x20stream','bitrate','InvalidAccess','Data\x20cluster\x20is\x20not\x20open.','batchSize','getReport','indexes','invalid-subscriber','Support','Error\x20writing\x20chunk\x20to\x20stream','max','av_delay','Success','RemoteRemediation','registeredListeners','Failed\x20to\x20commit\x20batch\x20after\x20retries:','closeSubscription','KeyValueDatabaseNotOpen','getDisplayName','setBytes','Amplify','getSubscribedTracks','Subscription\x20request\x20failed.','keyValueDatabaseConnector','addReservedTables','Subscription\x20request\x20has\x20not\x20been\x20answered.','retryDelay','.ps1','File\x20sending\x20interrupted','mute','receiverStreams','processRank','Invalid\x20where\x20clause','GraphDatabaseMissingConnector','jobQueue','subscriptionRequestTimeouts','limitToFirst','appsync-close','upgradeTimeout','createRemoteNode','rtt','maxOutgoingSubscriptions','lastProcessRank','packetsReceived','Data','.conf','receiverTotalMessages','responseTimeout','receiverPreviousTimestamp','object-store-cannot-write-transaction','getSupportedContentTypes','load','hasBufferedData','setRemoteNode','key-value-database-name-not-string','currentVersion','currentBytes','version','Offer','publishFile','payload','System','setEncodingParameters','relevance','getVideoTracks','createDataChannel','setSenderTimestamp','pendingFilesTransactions','Search','removeListener','Info','addContent','senderTimeProcessing','totalDecodeTime','statsReporting','processRemoteInboundReport','PeerConnection','sendWithRetry','destroy','Request','getTime','trace','Object\x20store\x20is\x20not\x20in\x20sync','Job\x20Dispatcher\x20already\x20exists','\x20does\x20not\x20support\x20content\x20type\x20','NodeConnectionsUpdate','ClosePubSubTopic','setupResizeHandler','key-value-database','app','generative-ai-context-already-exists','Get','senderCurrentBytes','notifyClusterNodeUpdate','Audio','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','signInWithCredential','ObjectStorageUpload','estimatedPlayoutTimestamp','sampleRate','toString','configs','remote-connection-exists','QueryBuilderInvalidArgument','runCode','FileDelete','MistletCapacityReportNotSet','distance','discoveryUnsubscriber','vector-database-does-not-exist','getOwnerId','getGenerativeAIWorkers','URL\x20is\x20required','deleteRemoteNode','isOpened','nodesConnected','165696HYwgKG','syncResolve','runJobQueue','getMediaSubscription','start','Synced','unregisterPublisher','Table\x20not\x20found','.tpl','waitConnected','generativeAIWorkerConnectors','GenerativeAIContext\x20stream\x20error','ObjectStoreDoesNotExist','add','isResultResponse','getQuery','WebRTC','httpsCallable','AI\x20Worker\x20already\x20exists','NeedRestart','\x20with\x20response:','CannotProvideMediaStream','getPubSubTopics','ceil','createGraphDatabase','lastTransactionId','StreamReport','request','processSenderReport','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','graph-database-name-not-string','transactionTable','keys','setEmail','Receiver\x20connection\x20is\x20not\x20initialized.','VectorDatabaseStats','tableUnsubscriber','Default','GenerativeAIWorkerStats','connectionTimeout','removeIncomingSubscription','Missing\x20remote\x20node\x20or\x20rank','removeGraphDatabase','getAgents','AppSync\x20publish','SubscriptionRequestFailed','\x20does\x20not\x20exists','nextNodeId','getModels','getSTVolatility','pubsub','features','getFirestore','maxFramerate','Cannot\x20write\x20transaction.','7570578luCDaN','move','.liquid','Connected','remove','registerSystemSource','subscription-request-does-not-exist','trim','getLayout','remote-media-stream-invalid-subscription-params','getConnectionDestinations','where','Query\x20is\x20required','publishMove','OfficeParser','Missing\x20vector\x20database\x20connector','RelationExtractor','graphService','createBuffer','destinationIds','onSnapshot','logRaw','clusterKey','gatheringState','createJob','object-store-stream-does-not-exist','.vb','getAncestors','asObservable','ChunkSplitter','DTVolatility','cancel','exists','handleSuccess','remediationManager','pub-sub-topic-already-exists','checkDeviceConfig','getSettings','Bid','ownerId','join','arrayBufferToObject','onClose','addRemoteConnection','requestSubscriptionAction','getOutgoingOptimizationConnections','JobQueueService:\x20Error\x20running\x20job','processReceiverReport','time_per_frame','getSentences','OPFSObjectStoreConnector','onGatheringStateChange','GenerativeAIContextCreationFailed','hasMessage','logServiceEvent','DocumentParser','counter','.djt','isSync','handleHandshake','findNextAncestor','420235181083','key','Invalid\x20data\x20channel.','dataStores','setOnTableWriteHandler','handleTransactionPayload','getReceiverTotalBytes','startsWith','processReports','getWorkflow','subscription-request-in-progress','system','clearOncloseTimeout','clusters/','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','resolutionScale','createPubSubTopic','chooseAnswer','getResolutionScale','syncContent','getCurrentVersion','reduce','cleanOldSubscription','MissingRemoteConnection','availableTrackKinds','addBidResponse','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','getGraphDatabase','Rejected\x20answer','object-store-already-subscribed','bid','codes','Job\x20service\x20creation\x20failed.','remediations','MediaStream\x20feature\x20not\x20enabled','overlap','resolve','removeObjectStore','jobType','Rejected','JobWorkerDoesNotExist','setupStatsReporting','\x20already\x20exists','.exs','messageListeners','Attribution','renderElement','registerSource','table','.rkt','setupListeners','audioSource','InvalidPublisher','getUserMedia','SyncComplete','supported','createOffer','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','JobStream','chunksReceived','JobDispatcherInvalidJobType','jobBids','writeTransaction','authContext','active','statsCollection','connection-not-initialized','end','2vthJop','KeyValueDatabaseInvalidQuery','getConnectionGroup','orchestrator','topics','470Hviicc','1:519415702791:web:5dd39042f881cfde3251a2','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','graph-database-already-exists','canAddCandidates','appsync-no-destination','sendRequest','split','sendIceCandidates','Retrieve\x20relevant\x20context\x20from\x20a\x20web\x20search\x20query\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Invalid\x20version\x20\x27','RestartNeedMediaStream','Workflow\x20does\x20not\x20exist.','Generative\x20AI\x20context\x20job\x20failed.','commit','srcObject','Unknown\x20skill\x20type','success','generateClient','handshakeState','Model\x20not\x20found:\x20','node-does-not-exist','.json','agent-update','pubsubTopics','NodeDoesNotExist','MissingSystemTopic','/nodes','generative-ai-context-invalid-partial-result','Key-value\x20database\x20table\x20does\x20not\x20exist.','object-storage-upload','ConnectionBufferNotEmpty','pub-sub-topic-name-not-string','setPendingFileSyncingPayload','ClusterAlreadyJoined','receivers','endsWith','onUnregisterPublisher','number','dt_volatility','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','VectorDatabaseDoesNotExist','listenUnsubscriber','getSimilarity','handleContentUnsubscribeMediaStream','authenticateAgent','token','handleOnMessage','ObjectStorage','NodeAlreadyExist','setTimestamp','timeReceiving','Outgoing','waitForArrayBufferSize','remoteNodes','Model\x20store\x20not\x20initialized','Problem','Jobs','getReceiverBitrate','maxDistance','manageAncestor','processPendingSyncTransactions','ObjectStoreStats','Job\x20Worker\x20already\x20exists','JobDispatcherDoesNotExist','getDTVolatility','addPendingHandshakeCandidate','DataCollection','JobWorker:\x20Received\x20job\x20attribution','UnsubscribeMediaStream','head','LocalReport','Error\x20fetching\x20URL','VectorDatabaseCreationFailed','startNoThrottlingHack','getAudioVideoDelay','dataBucketIds','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','/logs','created','getBuffer','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','splitParts','hasTracks','get-content','openVectorDatabase','dbKey','interval','processInboundReport','getVectorDatabases','tracks','setSubscriptionRequestTimeout','.pl','handleObjectDelete','includes','.html','ConnectionState','maxBitrate','sourceId','val','transactionsToSync','missing-incoming-connection','resizeHandler','setupConnectionEvents','resume','getGenerativeAIContexts','logLevel','GraphSearch','isOffer','KeyValueDatabaseTransactionTableNotInitialized','vendorId','remoteConnections','setInterval','vectorDatabases','senderConnection','message','removeVectorDatabase','removeLocalMediaStream','.go','clientWidth','displayName','Bitrate','pendingHandshakeCandidates','getRemoteConnections','timeoutCallback','canProvideResolution','clearConnectionTimeout','removeRemoteStreamSubscription','reset','disconnectCallback','sendTransactionsDump','nodeManager','startTime','Pool','Sender\x20connection\x20is\x20not\x20initialized.','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','default','senderTotalMessages','noun','isArray','get','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','setLoggingConnectors','JobDispatcherObserverNotFound','systemTopicUnsubscribe','suspended','logEvent','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','loggingConnectors','addEventListener','retryLimit','JobDispatcherInvalidPayload','Orchestrator\x20handleSystemEvents','indexOf','sendStats','getJobWorkers','getTrack','getJobDispatchers','client','internalProcessJobStream','Subject','FinalContext','openGenerativeAIWorker','GenerativeAIModelOutputType','onConnectionStateChange','Result','NodeTypeNotSupported','isSubscribed','collectReceiversStats','SubscriptionRequestInProgress','reranker','text/plain','.clj','syncTimeout','Waiting','\x20with\x20\x27','setReceiverTimestamp','reportCapacity','Missing\x20AI\x20worker\x20connector','snippet','Incoming','.ini','senderPreviousTimestamp','unregisterSystemSource','destination','Warning','packetsLost','tableLayout','crewdleSDKDisableLogging','isAvailable','invalid-subscription','forEach','processInboundReports','listener','firebase-connect','Stats','remoteMediaStreams','\x20-\x20Sending\x20propagation\x20(','close','encode','PublishMediaStream','removeTrackListeners','onCandidate','WordSplitter','node-type-not-supported','isWhereValues','replaceTrack','setupStatsCollection','off','Failed','database','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','Generative\x20AI\x20context\x20job\x20timeout.','DataStream\x20onMessage','FolderMove','generativeAIContexts','IncomingSubscription','defineProperty','debounceStats','getTotalBytes','messageType','authNode','getMediaStream','unregisterSubscriber','registerSystemPublisher','DEBUG\x20-\x20','output','getJobObservable','graph-database-does-not-exist','updatePropagationProperties','toLocaleString','traceLevel','AITrace','label','trackListeners','getSenderBitrate','optimizationLayers','User','complete','currentTimestamp','WebGL','createSubscription','messages','captureStream','tableObserver','status','KeyValueDatabaseTableNameReserved','Missing\x20owner\x20node\x20or\x20rank','ConnectionNotConnected','eventListener','7rLoZxB','Media','generative-ai-worker-already-exists','localNode','observer','PubSubTopic\x20publish','.rb','shouldProcessTransaction','key-value-database-table-not-found','connect','trackKinds','UnpublishMediaStream','Error','Vector','Sender','Add','transactions','Reranker','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','setScheduleTime','generative-ai-context-creation-failed','Cannot\x20publish\x20folder:\x20','crewdle-sdk.appspot.com','handleOffer','Stream\x20does\x20not\x20exist','ObjectStoreInvalidPath','CloseJobDispatcher','ConnectionInvalidDataEvent','addNode','parentId','Job\x20worker\x20creation\x20failed.','KeyValueDatabaseTransactionValueNotSet','roundTripTime','Context','SHA-256','setCurrentVersion','onValue','RemoteRemove','getWorkflowObjectStorageBuckets','endpoint','downgrade','handleAnswer','setItem','Remote\x20connection\x20already\x20exists.','\x20sending\x20attempt\x20','key-value-database-invalid-query','Low','removePubSubTopic','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','key-value-database-already-exists','GenerativeAIWorkerCreationFailed','RequestAccepted','issue','canvas','pubSubTopics','pendingFilesSyncing','unsubscribe','NeedMediaStream','NodeLeave','onremovetrack','task','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','unregisterCluster','temperature','crewdle-sdk-stg.firebaseapp.com','checkWebRTC','handleContentUnpublishMediaStream','log','auth','floor','object','Receiving\x20\x27','.info/connected','Vector\x20database\x20creation\x20failed.','WorkflowTrace','Invalid\x20value.\x20Property\x20\x27','checkSyncComplete','.erl','getCurrentMaxLayer','getMaxConnections','setDurationTime','assign','messagesSent','KeyValueDatabaseNameNotString','lastHeartbeat','sourceVideo','connectionType','handleSubscriptionNeedMediaStream','ObjectKind','connection-no-retry-queue','getPartsForSubscriptionLabel','IDBDatabaseConnector','JobWorker:\x20Handling\x20job\x20attribution','transaction','vectorDatabaseConnector','disconnect','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','ended','relations','Everyone\x20','FeatureNotEnabled','PeerConnectionInvalidDestination','setTimeout','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.','deleteFileChunks','ccc','syncPendingFiles','Unsupported\x20job\x20type','videoWidth','job-dispatcher-invalid-payload','NodeUpdate','buffer','error','timePerFrame','detection','getSubscriptionInfo','SendTransactionsDump','emit','candidate','Remote\x20stream\x20does\x20not\x20exist.','parseWorkflowDocument','getMilliseconds','Invalid\x20node\x20type','senderStreams','write','addCluster','updateUser','substring','Workflow\x20not\x20initialized','Failed\x20to\x20send\x20job\x20','getPubSubTopic','accumulateResult','getTransactions','send\x20error\x20on\x20','NodeType','OptimizationConnectionSuccess','clear','handleSubscriptionMediaStreamUnavailable','previous','getDoc','manageBufferedChunks','handlePeerConnectionSystemEvents','topK','objectToArrayBuffer','isWhereValue','pendingFilesRename','FPS','PubSubTopic\x20onMessage','ConnectionNotinitialized','createJobDispatcher','providerListener','Invalid\x20params','.jsx','PubSubTopicAlreadyExists','Optimization','StorageEventType','JobWorker:\x20Error\x20processing\x20job','getKeyValueDatabases','Restart','subscribeToJobs','setStatus','handleFileRequest','vectors','RequestTransactionsValue','random','openJobWorker','job-dispatcher-job-not-found','createJobWorker','SentenceSplitter','File','Retrieve\x20relevant\x20information\x20related\x20to\x20','setReportCapacity','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','GenerativeAIEngineType','clearRect','JobWorker:\x20Sending\x20job\x20result','EntityExtractor','JobWorker:\x20Received\x20job','startAt','Invalid\x20object\x20store\x20sync\x20message.','processServiceReport','framerate','Agent\x20output\x20is\x20not\x20a\x20string','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','CloseVectorDatabase','createConnection','internal-sdk-error','GenerativeAILabelConflict','restartHandshake','skill','registerCluster','getTrackFromParam','ObjectStoreNotSynced','local-media-stream-no-audio-context','round','removeRemoteConnection','appsync-connect','sentence-splitter','Internal\x20error:\x20','VectorDatabaseMissingConnector','CloseMediaStream','skipEncryption','bandwidth.bitrate','previousBytes','contentManager','Database\x20does\x20not\x20exist','getLocalNode','VectorDatabaseNameNotString','createReceiverConnection','Resolution','Node','capacityReporter','Backgrounds','WebScraper','length','RemoteMediaStreamInvalidSubscriptionParams','maps','observe','name','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','signalingState','getPartsFromSubscription','handleFolderCreate','uid','onConfigurationChange','TestPage','ConnectionNoRetryQueue','senderCurrentTimestamp','string','detectVideoIssues','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','sendTransactionsValue','processOutboundReports','retryCount','FramePerSecond','Key-value\x20database\x20transaction\x20value\x20not\x20set.','featureSupport','history','.gguf','processJob','joinCluster','searchApiKey','function','RequestFileWrite','boolean','aws','removeSubscriptionsForNode','audioDestination','maxTokens','openKeyValueDatabase','node','receiverPreviousBytes','relation','pow','removeRemoteMediaStream','processJobStream','size','keyPath','systemMessages','Error\x20committing\x20batch:','AudioOutput','shift','handleFileRequestAnswer','addRemoteNode','ObjectStore\x20not\x20found','undefined','getFunctions','hasRemoteNode','workflow-invalid-block-type','PubSubTopicDoesNotExist','exports','getPriority','Job\x20Worker\x20does\x20not\x20exist','context','priority','getConnections','onNodeDisconnect','getCapacityReport','isWhereBetween','createTopic','getOrResetPendingFileTimeout','addVideoTrack','getVectorDatabase','.scala','Transaction','agent-join','handleError','/objectstores/','subscriptionRequestsQueue','WorkflowDoesNotExist','getItem','object-store-invalid-path','scheduleTime','initializeApp','key-value-database-table-name-reserved','sync','results','getContextFrom','Invalid\x20subscriber.','addDoc','ObjectStoreAlreadyExists','handleRemediationSystemEvents','\x20failed.','\x20to\x20send\x20dispatcherJob\x20','Online','outputType','GenerativeAIModelInputType','setOnDisconnectHandler','decodeJWT','between','return\x20this','element','0.5.0.0','getDatabase','user-join','subscriptionRequests','Page\x20is\x20required','GraphDatabaseCreationFailed','buildQuery','.vue','stopNoThrottlingHack','171882uphseP','disconnected','ObjectStoreInvalidState','hasOwnProperty','Local\x20MediaStream\x20already\x20exists','LocalMediaStreamAlreadyExists','updateJob','createKeyValueDatabase','Upgrade','getSenderTotalBytes','maxConnections','cpu.fps','hasTable','CloseObjectStoreBucket','detectionManager','RequestFile','configure','setUpgradeTimeout','.yml','clearRestartTimeout','createOutgoingSubscription','entity-extractor','sourceUrl','MediaStreamPriority','workflow-does-not-exist','handleMissingSenders','total','JobStatus','unpublish','Key-value\x20database\x20creation\x20failed.','checksum','topicLabel','.jl','senderPreviousBytes','publishUserUpdate','OutgoingMediaStreamNoTopic','developers/','getInternalTrackParams','jobWorkerConnectors','notifyClusterNodeJoin','receiverConnection','isFailedResponse','PartialResult','joinedClusters','Invalid\x20value.\x20Must\x20be\x20an\x20object.','en-US','.tsx','minConnections','setConnectionType','completed','search','internal','dataUnsubscribers','Handshake','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','remote-stream-missing-provider-id','incomingTopic','handleRequestPayload','JobWorker:\x20Sending\x20job\x20bid','GenerativeAIWorkerAlreadyExists','registerPublisher','maxDepth','/transactions/lastTransaction','ranges'];a0_0x16f6=function(){return _0x212420;};return a0_0x16f6();}function a0_0x5322(_0x1e820d,_0x2dcccb){const _0x16f618=a0_0x16f6();return a0_0x5322=function(_0x532233,_0x337e26){_0x532233=_0x532233-0x9b;let _0x76a641=_0x16f618[_0x532233];return _0x76a641;},a0_0x5322(_0x1e820d,_0x2dcccb);}(function(_0x2dacce,_0x352637){const _0x447852=a0_0x5322,_0x629538=_0x2dacce();while(!![]){try{const _0x4d616b=-parseInt(_0x447852(0x4b7))/0x1*(-parseInt(_0x447852(0x30d))/0x2)+-parseInt(_0x447852(0x37c))/0x3*(-parseInt(_0x447852(0x286))/0x4)+parseInt(_0x447852(0x129))/0x5+-parseInt(_0x447852(0x436))/0x6+-parseInt(_0x447852(0x5b6))/0x7*(parseInt(_0x447852(0x3ff))/0x8)+parseInt(_0x447852(0x6f7))/0x9*(-parseInt(_0x447852(0x4bc))/0xa)+parseInt(_0x447852(0x1cb))/0xb*(parseInt(_0x447852(0x769))/0xc);if(_0x4d616b===_0x352637)break;else _0x629538['push'](_0x629538['shift']());}catch(_0x133754){_0x629538['push'](_0x629538['shift']());}}}(a0_0x16f6,0xabac9),!function(_0x49108a,_0x128554){const _0x44f8eb=a0_0x5322;if(_0x44f8eb(0x5fc)==typeof exports&&'object'==typeof module)module[_0x44f8eb(0x6c4)]=_0x128554();else{if(_0x44f8eb(0x6a8)==typeof define&&define[_0x44f8eb(0x1ba)])define([],_0x128554);else{var _0x3e4cbe=_0x128554();for(var _0x53b0e2 in _0x3e4cbe)('object'==typeof exports?exports:_0x49108a)[_0x53b0e2]=_0x3e4cbe[_0x53b0e2];}}}(this,()=>((()=>{'use strict';const _0x2d5ee2=a0_0x5322;var _0x39a1e3={0x14d:(_0x3d8cf3,_0x37b327,_0x40956d)=>{const _0x14ff55=a0_0x5322;_0x40956d['d'](_0x37b327,{'O':()=>_0x1dc125});const _0x1dc125={'version':_0x14ff55(0x6ee),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x14ff55(0x5f6),'databaseURL':_0x14ff55(0x50d),'projectId':_0x14ff55(0x2f9),'storageBucket':_0x14ff55(0x2c9),'appId':_0x14ff55(0x4bd),'functionsRegion':_0x14ff55(0x334)},'google':{'searchEngineId':_0x14ff55(0x231)},'aws':{'endpoint':_0x14ff55(0x22a),'region':_0x14ff55(0x7cd)}};},0x33b:(_0x2eeff1,_0x5194cf,_0x15af0b)=>{_0x15af0b['d'](_0x5194cf,{'O':()=>_0x5d896a});const _0x5d896a={};},0x3e6:(_0x445a1a,_0x278c6f,_0x5c2277)=>{const _0x34505a=a0_0x5322;_0x5c2277['d'](_0x278c6f,{'O':()=>_0x4e6483});const _0x4e6483={'version':_0x34505a(0x117),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x34505a(0x4ac),'authDomain':_0x34505a(0x332),'databaseURL':_0x34505a(0x854),'projectId':_0x34505a(0x29e),'storageBucket':_0x34505a(0x5cc),'messagingSenderId':_0x34505a(0x473),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x34505a(0xdc)},'aws':{'endpoint':_0x34505a(0x100),'region':_0x34505a(0x7cd)}};},0x20:(_0x38311d,_0x448b9b,_0x1190f1)=>{_0x1190f1['d'](_0x448b9b,{'O':()=>_0x1fbc54});const _0x1fbc54={};}},_0x29f097={};function _0x39d0a7(_0x3b62e7){const _0x575138=a0_0x5322;var _0x1c7299=_0x29f097[_0x3b62e7];if(void 0x0!==_0x1c7299)return _0x1c7299[_0x575138(0x6c4)];var _0x3b2720=_0x29f097[_0x3b62e7]={'exports':{}};return _0x39a1e3[_0x3b62e7](_0x3b2720,_0x3b2720[_0x575138(0x6c4)],_0x39d0a7),_0x3b2720[_0x575138(0x6c4)];}_0x39d0a7['d']=(_0x84e7ea,_0x230035)=>{for(var _0x4339eb in _0x230035)_0x39d0a7['o'](_0x230035,_0x4339eb)&&!_0x39d0a7['o'](_0x84e7ea,_0x4339eb)&&Object['defineProperty'](_0x84e7ea,_0x4339eb,{'enumerable':!0x0,'get':_0x230035[_0x4339eb]});},_0x39d0a7['g']=(function(){const _0x4431cc=a0_0x5322;if(_0x4431cc(0x5fc)==typeof globalThis)return globalThis;try{return this||new Function(_0x4431cc(0x6ec))();}catch(_0x161c65){if('object'==typeof window)return window;}}()),_0x39d0a7['o']=(_0x191338,_0x1385ae)=>Object[_0x2d5ee2(0x7d6)]['hasOwnProperty']['call'](_0x191338,_0x1385ae),_0x39d0a7['r']=_0x4736bf=>{const _0x2934de=_0x2d5ee2;_0x2934de(0x6bf)!=typeof Symbol&&Symbol[_0x2934de(0x178)]&&Object[_0x2934de(0x595)](_0x4736bf,Symbol['toStringTag'],{'value':_0x2934de(0x273)}),Object[_0x2934de(0x595)](_0x4736bf,'__esModule',{'value':!0x0});};var _0x11ce35,_0x1077b6,_0x27d952,_0x34b47b={};_0x39d0a7['r'](_0x34b47b),_0x39d0a7['d'](_0x34b47b,{'KeyValueDatabase':()=>_0x31de72,'LayoutBuilder':()=>_0x2d3cf9,'LoggingChannels':()=>_0x27d952,'QueryBuilder':()=>_0x3adf1d,'SDK':()=>_0x48373a,'SDKClientErrorCodes':()=>_0x11ce35,'TableBuilder':()=>_0x5a27c9,'logger':()=>_0x4b7920}),function(_0x1b782e){const _0x2849b8=_0x2d5ee2;_0x1b782e[_0x2849b8(0x4db)]=_0x2849b8(0xab),_0x1b782e[_0x2849b8(0x4de)]='cluster-already-joined',_0x1b782e[_0x2849b8(0x61a)]='feature-not-enabled',_0x1b782e[_0x2849b8(0x2ac)]=_0x2849b8(0x3e5),_0x1b782e['GenerativeAIContextDoesNotExist']='generative-ai-context-does-not-exist',_0x1b782e[_0x2849b8(0x671)]=_0x2849b8(0x7a6),_0x1b782e[_0x2849b8(0x732)]=_0x2849b8(0x5b8),_0x1b782e[_0x2849b8(0x365)]=_0x2849b8(0x299),_0x1b782e['GenerativeAIWorkerModelSyncError']=_0x2849b8(0x28e),_0x1b782e[_0x2849b8(0x194)]=_0x2849b8(0x4bf),_0x1b782e[_0x2849b8(0x76d)]=_0x2849b8(0x5a0),_0x1b782e[_0x2849b8(0x3ac)]=_0x2849b8(0xd1),_0x1b782e[_0x2849b8(0x11e)]=_0x2849b8(0x41d),_0x1b782e[_0x2849b8(0x29a)]='job-dispatcher-already-exists',_0x1b782e[_0x2849b8(0x4fc)]=_0x2849b8(0x76a),_0x1b782e[_0x2849b8(0x15a)]='job-dispatcher-job-exists',_0x1b782e[_0x2849b8(0x7bd)]=_0x2849b8(0x65c),_0x1b782e[_0x2849b8(0x4af)]='job-dispatcher-invalid-job-type',_0x1b782e[_0x2849b8(0x7ec)]=_0x2849b8(0x13e),_0x1b782e[_0x2849b8(0x49b)]=_0x2849b8(0xfc),_0x1b782e[_0x2849b8(0x6e2)]='object-store-already-exists',_0x1b782e['ObjectStoreAlreadySubscribed']=_0x2849b8(0x490),_0x1b782e[_0x2849b8(0x40b)]=_0x2849b8(0x44f),_0x1b782e['ObjectStoreNameNotString']=_0x2849b8(0x1f2),_0x1b782e['ObjectStoreInvalidPayload']='object-store-invalid-payload',_0x1b782e[_0x2849b8(0x5cf)]=_0x2849b8(0x6d9),_0x1b782e[_0x2849b8(0x281)]=_0x2849b8(0x1c6),_0x1b782e[_0x2849b8(0x2d6)]=_0x2849b8(0x670),_0x1b782e[_0x2849b8(0x38d)]=_0x2849b8(0xe4),_0x1b782e[_0x2849b8(0x1dc)]=_0x2849b8(0x5e7),_0x1b782e[_0x2849b8(0x105)]=_0x2849b8(0x7ce),_0x1b782e[_0x2849b8(0x184)]=_0x2849b8(0xb6),_0x1b782e[_0x2849b8(0x4b8)]=_0x2849b8(0x5e3),_0x1b782e['KeyValueDatabaseInvalidValue']='key-value-database-invalid-value',_0x1b782e[_0x2849b8(0x609)]=_0x2849b8(0x3c1),_0x1b782e[_0x2849b8(0x39c)]='key-value-database-not-open',_0x1b782e[_0x2849b8(0x5b2)]=_0x2849b8(0x6dc),_0x1b782e[_0x2849b8(0xc6)]=_0x2849b8(0x5be),_0x1b782e[_0x2849b8(0x838)]=_0x2849b8(0xf8),_0x1b782e[_0x2849b8(0x6fc)]=_0x2849b8(0x7f4),_0x1b782e[_0x2849b8(0x752)]=_0x2849b8(0x677),_0x1b782e['PubSubTopicAlreadyExists']=_0x2849b8(0x459),_0x1b782e[_0x2849b8(0x6c3)]='pub-sub-topic-does-not-exist',_0x1b782e[_0x2849b8(0x25d)]=_0x2849b8(0x4dc),_0x1b782e[_0x2849b8(0x808)]=_0x2849b8(0x2d8),_0x1b782e[_0x2849b8(0x3f2)]=_0x2849b8(0x31c),_0x1b782e['RemoteMediaStreamAlreadyExists']=_0x2849b8(0x186),_0x1b782e['RemoteMediaStreamInvalidSubscriptionParams']=_0x2849b8(0x43f),_0x1b782e[_0x2849b8(0x565)]=_0x2849b8(0x47d),_0x1b782e[_0x2849b8(0xd9)]='node-not-authenticated',_0x1b782e[_0x2849b8(0x26e)]=_0x2849b8(0xec),_0x1b782e[_0x2849b8(0x562)]=_0x2849b8(0x588),_0x1b782e[_0x2849b8(0xe5)]=_0x2849b8(0x7fd),_0x1b782e[_0x2849b8(0x4e5)]=_0x2849b8(0x3f8),_0x1b782e[_0x2849b8(0x67d)]=_0x2849b8(0x835),_0x1b782e[_0x2849b8(0x685)]=_0x2849b8(0x799);}(_0x11ce35||(_0x11ce35={}));class _0x21720d extends Error{[_0x2d5ee2(0x788)];constructor(_0x1b60ca,_0x163d9f){const _0x31f1a2=_0x2d5ee2;super(_0x163d9f),this[_0x31f1a2(0x788)]=_0x1b60ca;}}!function(_0x4753f6){const _0x56d9d2=_0x2d5ee2;_0x4753f6[_0x56d9d2(0x35a)]=_0x56d9d2(0x431),_0x4753f6[_0x56d9d2(0x4ec)]='object-storage',_0x4753f6[_0x56d9d2(0x830)]='key-value-database',_0x4753f6['VectorDatabase']=_0x56d9d2(0x2c0),_0x4753f6[_0x56d9d2(0x25b)]='graph-database',_0x4753f6['MediaStream']=_0x56d9d2(0x282),_0x4753f6[_0x56d9d2(0x353)]='generative-ai';}(_0x1077b6||(_0x1077b6={})),function(_0x8e00b3){const _0x134d0b=_0x2d5ee2;_0x8e00b3[_0x134d0b(0x2c2)]=_0x134d0b(0x2dc),_0x8e00b3['Default']=_0x134d0b(0x544),_0x8e00b3['Connection']=_0x134d0b(0x109),_0x8e00b3[_0x134d0b(0x51c)]=_0x134d0b(0x151),_0x8e00b3['Cluster']=_0x134d0b(0x322),_0x8e00b3[_0x134d0b(0x2f6)]=_0x134d0b(0x262),_0x8e00b3[_0x134d0b(0x7d7)]=_0x134d0b(0x193),_0x8e00b3['Detection']=_0x134d0b(0x628),_0x8e00b3['Events']=_0x134d0b(0x2aa),_0x8e00b3[_0x134d0b(0x5c2)]=_0x134d0b(0x626),_0x8e00b3['Jobs']='jobs',_0x8e00b3[_0x134d0b(0x688)]=_0x134d0b(0x6b0),_0x8e00b3['Pool']=_0x134d0b(0x1fb),_0x8e00b3[_0x134d0b(0x35a)]=_0x134d0b(0x431),_0x8e00b3['Remediation']='remediation',_0x8e00b3[_0x134d0b(0x1b3)]='signaling',_0x8e00b3[_0x134d0b(0x57f)]='stats',_0x8e00b3['Subscription']=_0x134d0b(0x24f),_0x8e00b3[_0x134d0b(0x393)]=_0x134d0b(0x2f4),_0x8e00b3['System']=_0x134d0b(0x47e),_0x8e00b3[_0x134d0b(0x73a)]=_0x134d0b(0x818),_0x8e00b3[_0x134d0b(0x697)]=_0x134d0b(0x357),_0x8e00b3[_0x134d0b(0x3d7)]=_0x134d0b(0x349);}(_0x27d952||(_0x27d952={}));const _0x3f2cd3=require('@crewdle/web-sdk-types');class _0x3adf1d{[_0x2d5ee2(0x7cb)];constructor(_0x1fe2ae){const _0x10a6dc=_0x2d5ee2;this[_0x10a6dc(0x7cb)]={'orderBy':{'key':_0x1fe2ae,'direction':'asc'}};}static[_0x2d5ee2(0x1df)](_0x17ac83){const _0x3746e1=_0x2d5ee2;if('string'!=typeof _0x17ac83||0x0===_0x17ac83[_0x3746e1(0x68c)])throw new _0x21720d(_0x11ce35[_0x3746e1(0x3f2)],_0x3746e1(0x377));return new _0x3adf1d(_0x17ac83);}static['validateQuery'](_0xa9eee0){const _0x1e86ee=_0x2d5ee2;try{return _0x3adf1d[_0x1e86ee(0x6f4)](_0xa9eee0),!0x0;}catch(_0x2ba5ba){return!0x1;}}static[_0x2d5ee2(0x6f4)](_0x32e4c5){const _0x355b83=_0x2d5ee2,_0x464767=_0x3adf1d[_0x355b83(0x1df)](_0x32e4c5['orderBy']?.[_0x355b83(0x474)]??_0x32e4c5[_0x355b83(0x441)]?.['key']??'');if(_0x32e4c5[_0x355b83(0x441)]){const _0x572003=_0x32e4c5[_0x355b83(0x441)];if((_0x3adf1d['isWhereValue'](_0x572003)||_0x3adf1d[_0x355b83(0x589)](_0x572003)||_0x3adf1d[_0x355b83(0x6cc)](_0x572003))&&_0x464767[_0x355b83(0x441)](_0x572003[_0x355b83(0xd4)],_0x572003[_0x355b83(0x161)]),_0x32e4c5[_0x355b83(0x1b8)]?.[_0x355b83(0x474)]&&_0x32e4c5[_0x355b83(0x1b8)]?.['key']!==_0x32e4c5[_0x355b83(0x441)]['key'])throw new _0x21720d(_0x11ce35['QueryBuilderInvalidArgument'],_0x355b83(0x4e4));}return _0x32e4c5[_0x355b83(0x1b8)]&&_0x464767[_0x355b83(0x1b8)](_0x32e4c5['orderBy']['direction']),_0x32e4c5['limit']&&_0x464767[_0x355b83(0xe6)](_0x32e4c5[_0x355b83(0xe6)]),_0x32e4c5['offset']&&_0x464767[_0x355b83(0xae)](_0x32e4c5[_0x355b83(0xae)]),_0x464767;}[_0x2d5ee2(0x40e)](){const _0x56c7bb=_0x2d5ee2;return{...this[_0x56c7bb(0x7cb)]};}[_0x2d5ee2(0x441)](_0x3bd64b,_0x210bcb){const _0x4631b7=_0x2d5ee2,_0x3af82a={'key':this['query'][_0x4631b7(0x1b8)][_0x4631b7(0x474)],'operator':_0x3bd64b,'value':_0x210bcb};if(!_0x3adf1d[_0x4631b7(0x646)](_0x3af82a)&&!_0x3adf1d['isWhereValues'](_0x3af82a)&&!_0x3adf1d['isWhereBetween'](_0x3af82a))throw new _0x21720d(_0x11ce35[_0x4631b7(0x3f2)],_0x4631b7(0x3ab));return this[_0x4631b7(0x7cb)][_0x4631b7(0x441)]=_0x3af82a,this;}['orderBy'](_0x38aa1e){const _0x1e6124=_0x2d5ee2;if(_0x1e6124(0x7a7)!==_0x38aa1e&&'desc'!==_0x38aa1e)throw new _0x21720d(_0x11ce35[_0x1e6124(0x3f2)],_0x1e6124(0x54f));return this[_0x1e6124(0x7cb)]['orderBy'][_0x1e6124(0x7e6)]=_0x38aa1e,this;}[_0x2d5ee2(0xe6)](_0x46f376){const _0x1836c8=_0x2d5ee2;if('number'!=typeof _0x46f376||_0x46f376<0x0)throw new _0x21720d(_0x11ce35[_0x1836c8(0x3f2)],_0x1836c8(0x543));return this[_0x1836c8(0x7cb)]['limit']=_0x46f376,this;}['offset'](_0x4e9185){const _0x251349=_0x2d5ee2;if(_0x251349(0x4e2)!=typeof _0x4e9185||_0x4e9185<0x0)throw new _0x21720d(_0x11ce35[_0x251349(0x3f2)],_0x251349(0x5e6));return this[_0x251349(0x7cb)]['offset']=_0x4e9185,this;}static['isWhereValue'](_0x2e44df){const _0x494564=_0x2d5ee2;if(!(_0x2e44df&&_0x494564(0x5fc)==typeof _0x2e44df&&_0x494564(0xd4)in _0x2e44df&&'value'in _0x2e44df))return!0x1;const {operator:_0x30da91,value:_0x3797a9}=_0x2e44df;return!(!['==','!=','>','<','<=','>='][_0x494564(0x51a)](_0x30da91)||Array[_0x494564(0x547)](_0x3797a9));}static['isWhereValues'](_0x1f6e3a){const _0xb0505e=_0x2d5ee2;if(!(_0x1f6e3a&&_0xb0505e(0x5fc)==typeof _0x1f6e3a&&_0xb0505e(0xd4)in _0x1f6e3a&&_0xb0505e(0x161)in _0x1f6e3a))return!0x1;const {operator:_0x1dd4d0,value:_0x6e9074}=_0x1f6e3a;return!(!['in','not-in'][_0xb0505e(0x51a)](_0x1dd4d0)||!Array[_0xb0505e(0x547)](_0x6e9074));}static[_0x2d5ee2(0x6cc)](_0xa13117){const _0x171c88=_0x2d5ee2;if(!(_0xa13117&&'object'==typeof _0xa13117&&_0x171c88(0xd4)in _0xa13117&&_0x171c88(0x161)in _0xa13117))return!0x1;const {operator:_0x539274,value:_0x4d4e31}=_0xa13117;return!(_0x171c88(0x6eb)!==_0x539274||!Array[_0x171c88(0x547)](_0x4d4e31)||0x2!==_0x4d4e31[_0x171c88(0x68c)]);}}class _0x2d3cf9{['layout'];constructor(_0x4491e8){const _0x1f42df=_0x2d5ee2;this[_0x1f42df(0x1ca)]={'tables':{},'version':_0x4491e8};}static['validateLayout'](_0x3fcb3e){const _0x30b39c=_0x2d5ee2;for(const _0x42a3c2 in _0x3fcb3e){if(_0x30b39c(0x3c4)!==_0x42a3c2&&_0x30b39c(0x310)!==_0x42a3c2)return[!0x1,_0x30b39c(0x37b)+_0x42a3c2+_0x30b39c(0x1ac)];if(_0x30b39c(0x310)===_0x42a3c2)for(const _0x800ae in _0x3fcb3e['tables']){if(_0x30b39c(0x69a)!=typeof _0x800ae)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x800ae+'\x27'];for(const _0x1fa957 in _0x3fcb3e[_0x30b39c(0x310)][_0x800ae]){if(_0x30b39c(0x391)!==_0x1fa957)return[!0x1,_0x30b39c(0x37b)+_0x1fa957+_0x30b39c(0x7c5)+_0x800ae+'\x27'];const _0x4f39e0=_0x3fcb3e['tables'][_0x800ae][_0x1fa957]??[];for(const _0x5db43b of _0x4f39e0)if(void 0x0===_0x5db43b['keyPath']||_0x30b39c(0x69a)!=typeof _0x5db43b[_0x30b39c(0x6b7)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x800ae+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if('version'===_0x42a3c2&&_0x30b39c(0x4e2)!=typeof _0x3fcb3e[_0x42a3c2])return[!0x1,_0x30b39c(0x4c6)+_0x3fcb3e[_0x42a3c2]+_0x30b39c(0x662)];}}return[!0x0,'Valid\x20layout'];}static['layout'](_0x5d6520){const _0x4999e1=_0x2d5ee2,_0x19e0ae=new _0x2d3cf9(_0x5d6520);return _0x19e0ae[_0x4999e1(0x1ca)][_0x4999e1(0x3c4)]=_0x5d6520,_0x19e0ae;}[_0x2d5ee2(0x4a3)](_0x2a914b){const _0x55acce=_0x2d5ee2;return this[_0x55acce(0x1ca)][_0x55acce(0x310)][_0x2a914b]={},new _0x5a27c9(this[_0x55acce(0x1ca)][_0x55acce(0x310)][_0x2a914b]);}[_0x2d5ee2(0x43e)](){const _0x146861=_0x2d5ee2;return this[_0x146861(0x1ca)];}}class _0x5a27c9{['tableLayout'];constructor(_0x55141c){const _0x1694a7=_0x2d5ee2;this[_0x1694a7(0x577)]=_0x55141c;}['index'](_0x14c31f){const _0x56adf9=_0x2d5ee2;return this[_0x56adf9(0x577)]['indexes']=this['tableLayout']['indexes']??[],this[_0x56adf9(0x577)][_0x56adf9(0x391)][_0x56adf9(0x80e)]({'keyPath':_0x14c31f}),this;}}const _0x352292=0x40000,_0x4fdd0e=0x3f800,_0x5c72f1=_0x2d5ee2(0x324),_0x8e1064='.crewdle-pending',_0x420d46=_0x2d5ee2(0x10c),_0x3b6078=_0x2d5ee2(0x111),_0x3d3ebb=0x7530,_0x2c6d09=0x493e0,_0x509c69=_0x2d5ee2(0x6a4),_0x1c831d=0x61a8,_0x1e8ab6=_0x2d5ee2(0x72a);var _0x3f85e1;!function(_0x2a9e89){const _0x57f45f=_0x2d5ee2;_0x2a9e89[_0x57f45f(0x64a)]=_0x57f45f(0x4b5),_0x2a9e89[_0x57f45f(0x5b4)]=_0x57f45f(0x140),_0x2a9e89[_0x57f45f(0x698)]=_0x57f45f(0x60f),_0x2a9e89[_0x57f45f(0x5d1)]='connection-invalid-data-event',_0x2a9e89[_0x57f45f(0x46a)]=_0x57f45f(0x5ca),_0x2a9e89[_0x57f45f(0x386)]='generative-ai-context-job-failed',_0x2a9e89[_0x57f45f(0x79d)]=_0x57f45f(0x2f1),_0x2a9e89[_0x57f45f(0xbd)]=_0x57f45f(0x4d8),_0x2a9e89[_0x57f45f(0x5e8)]='generative-ai-worker-creation-failed',_0x2a9e89[_0x57f45f(0x6f3)]=_0x57f45f(0x869),_0x2a9e89['InvalidDataChannel']='invalid-data-chanel',_0x2a9e89[_0x57f45f(0x4a7)]=_0x57f45f(0x274),_0x2a9e89[_0x57f45f(0x260)]=_0x57f45f(0x392),_0x2a9e89[_0x57f45f(0x163)]=_0x57f45f(0x57a),_0x2a9e89[_0x57f45f(0x11c)]=_0x57f45f(0x230),_0x2a9e89[_0x57f45f(0x553)]=_0x57f45f(0x623),_0x2a9e89[_0x57f45f(0x7bd)]='job-dispatcher-job-not-found',_0x2a9e89[_0x57f45f(0x54b)]='job-dispatcher-observer-not-found',_0x2a9e89[_0x57f45f(0xd5)]='job-worker-creation-failed',_0x2a9e89[_0x57f45f(0x33e)]=_0x57f45f(0x20a),_0x2a9e89['KeyValueDatabaseCreationFailed']=_0x57f45f(0x2f8),_0x2a9e89[_0x57f45f(0x77f)]=_0x57f45f(0x850),_0x2a9e89[_0x57f45f(0x529)]='key-value-database-transaction-table-not-initialized',_0x2a9e89[_0x57f45f(0x5d5)]=_0x57f45f(0xcc),_0x2a9e89[_0x57f45f(0x292)]=_0x57f45f(0x33f),_0x2a9e89[_0x57f45f(0x48a)]=_0x57f45f(0x521),_0x2a9e89[_0x57f45f(0x4d6)]=_0x57f45f(0x179),_0x2a9e89['MistletCapacityReportNotSet']=_0x57f45f(0x11f),_0x2a9e89[_0x57f45f(0x351)]=_0x57f45f(0x3bc),_0x2a9e89[_0x57f45f(0x6f9)]=_0x57f45f(0x827),_0x2a9e89[_0x57f45f(0x37f)]=_0x57f45f(0x303),_0x2a9e89[_0x57f45f(0x676)]=_0x57f45f(0x1b1),_0x2a9e89['OutgoingMediaStreamNoTopic']=_0x57f45f(0x86b),_0x2a9e89[_0x57f45f(0x7ab)]=_0x57f45f(0x1a0),_0x2a9e89[_0x57f45f(0x7df)]=_0x57f45f(0x72e),_0x2a9e89[_0x57f45f(0x361)]=_0x57f45f(0x3f1),_0x2a9e89[_0x57f45f(0x85d)]=_0x57f45f(0x43c),_0x2a9e89['SubscriptionRequestFailed']='subscription-request-failed',_0x2a9e89[_0x57f45f(0x175)]='subscription-request-no-answer',_0x2a9e89[_0x57f45f(0x4d5)]=_0x57f45f(0x4d1),_0x2a9e89[_0x57f45f(0x4ed)]='node-already-exist',_0x2a9e89[_0x57f45f(0x61b)]=_0x57f45f(0x21d),_0x2a9e89['VectorDatabaseCreationFailed']='vector-database-creation-failed',_0x2a9e89[_0x57f45f(0x6d7)]=_0x57f45f(0x70f),_0x2a9e89[_0x57f45f(0x1c9)]=_0x57f45f(0x6c2);}(_0x3f85e1||(_0x3f85e1={}));const _0x2c2067=new Map([[_0x3f85e1[_0x2d5ee2(0x64a)],_0x2d5ee2(0x2cc)],[_0x3f85e1[_0x2d5ee2(0x5b4)],'Connection\x20not\x20connected.'],[_0x3f85e1[_0x2d5ee2(0x698)],_0x2d5ee2(0x1c8)],[_0x3f85e1[_0x2d5ee2(0x5d1)],_0x2d5ee2(0x2d9)],[_0x3f85e1['GenerativeAIContextCreationFailed'],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x3f85e1[_0x2d5ee2(0x386)],_0x2d5ee2(0x4c9)],[_0x3f85e1[_0x2d5ee2(0x79d)],_0x2d5ee2(0x590)],[_0x3f85e1[_0x2d5ee2(0xbd)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x3f85e1[_0x2d5ee2(0x5e8)],_0x2d5ee2(0x7ee)],[_0x3f85e1[_0x2d5ee2(0x6f3)],'Graph\x20database\x20creation\x20failed.'],[_0x3f85e1[_0x2d5ee2(0x81c)],_0x2d5ee2(0x475)],[_0x3f85e1['InvalidPublisher'],'Invalid\x20publisher.'],[_0x3f85e1[_0x2d5ee2(0x260)],_0x2d5ee2(0x6e0)],[_0x3f85e1[_0x2d5ee2(0x163)],'Invalid\x20subscription.'],[_0x3f85e1[_0x2d5ee2(0x11c)],_0x2d5ee2(0x493)],[_0x3f85e1[_0x2d5ee2(0x553)],_0x2d5ee2(0x11d)],[_0x3f85e1[_0x2d5ee2(0x7bd)],'Job\x20service\x20job\x20not\x20found.'],[_0x3f85e1['JobDispatcherObserverNotFound'],_0x2d5ee2(0x335)],[_0x3f85e1[_0x2d5ee2(0xd5)],_0x2d5ee2(0x5d4)],[_0x3f85e1[_0x2d5ee2(0x33e)],'Invalid\x20job\x20worker\x20type.'],[_0x3f85e1[_0x2d5ee2(0x800)],_0x2d5ee2(0x714)],[_0x3f85e1[_0x2d5ee2(0x77f)],_0x2d5ee2(0x4d9)],[_0x3f85e1[_0x2d5ee2(0x529)],_0x2d5ee2(0x2c3)],[_0x3f85e1[_0x2d5ee2(0x5d5)],_0x2d5ee2(0x6a1)],[_0x3f85e1[_0x2d5ee2(0x292)],_0x2d5ee2(0x296)],[_0x3f85e1[_0x2d5ee2(0x48a)],_0x2d5ee2(0xaa)],[_0x3f85e1[_0x2d5ee2(0x4d6)],_0x2d5ee2(0x152)],[_0x3f85e1[_0x2d5ee2(0x3f5)],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x3f85e1[_0x2d5ee2(0x351)],_0x2d5ee2(0x435)],[_0x3f85e1[_0x2d5ee2(0x37f)],_0x2d5ee2(0x669)],[_0x3f85e1[_0x2d5ee2(0x6f9)],_0x2d5ee2(0x7b6)],[_0x3f85e1[_0x2d5ee2(0x676)],_0x2d5ee2(0x837)],[_0x3f85e1[_0x2d5ee2(0x71a)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x3f85e1['RemoteMediaStreamDoesNotExist'],_0x2d5ee2(0x62d)],[_0x3f85e1[_0x2d5ee2(0x7df)],_0x2d5ee2(0x3ea)],[_0x3f85e1['RemoteConnectionExists'],_0x2d5ee2(0x5e1)],[_0x3f85e1[_0x2d5ee2(0x85d)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x3f85e1[_0x2d5ee2(0x42c)],_0x2d5ee2(0x3a1)],[_0x3f85e1[_0x2d5ee2(0x175)],_0x2d5ee2(0x3a4)],[_0x3f85e1[_0x2d5ee2(0x4d5)],_0x2d5ee2(0x167)],[_0x3f85e1[_0x2d5ee2(0x4ed)],_0x2d5ee2(0x81e)],[_0x3f85e1[_0x2d5ee2(0x61b)],_0x2d5ee2(0x831)],[_0x3f85e1[_0x2d5ee2(0x505)],_0x2d5ee2(0x5ff)],[_0x3f85e1[_0x2d5ee2(0x6d7)],_0x2d5ee2(0x4c8)],[_0x3f85e1[_0x2d5ee2(0x1c9)],'Invalid\x20workflow\x20block\x20type.']]);class _0x177832 extends Error{[_0x2d5ee2(0x788)];static [_0x2d5ee2(0x492)]=_0x3f85e1;['data'];constructor(_0x240996,_0x1f9c68){const _0x2675ad=_0x2d5ee2;super(_0x2675ad(0x183)+_0x240996+':\x20'+_0x2c2067[_0x2675ad(0x548)](_0x240996)+_0x2675ad(0x233)+JSON[_0x2675ad(0x779)](_0x1f9c68)),this[_0x2675ad(0x788)]=_0x240996,this[_0x2675ad(0x252)]=_0x1f9c68||{};}}var _0xdecfb9,_0xb4a8b4,_0x38bfc8,_0x53d193,_0x3e0b5b,_0x400ff3,_0xa1c806;!function(_0x41b0bc){const _0x8cbb9c=_0x2d5ee2;_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x584)]=0x0]=_0x8cbb9c(0x584),_0x41b0bc[_0x41b0bc['UnpublishMediaStream']=0x1]=_0x8cbb9c(0x5c1),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0xc5)]=0x2]='SubscribeMediaStream',_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x9c)]=0x3]='UpdateMediaStream',_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x501)]=0x4]=_0x8cbb9c(0x501),_0x41b0bc[_0x41b0bc['CloseJobDispatcher']=0x5]=_0x8cbb9c(0x5d0),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x78d)]=0x6]=_0x8cbb9c(0x78d),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x704)]=0x7]=_0x8cbb9c(0x704),_0x41b0bc[_0x41b0bc['CloseKeyValueDatabase']=0x8]=_0x8cbb9c(0x1b7),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x3e1)]=0x9]=_0x8cbb9c(0x3e1),_0x41b0bc[_0x41b0bc['CloseMediaStream']=0xa]='CloseMediaStream',_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x66e)]=0xb]=_0x8cbb9c(0x66e),_0x41b0bc[_0x41b0bc['CloseGraphDatabase']=0xc]='CloseGraphDatabase',_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x7c0)]=0xd]=_0x8cbb9c(0x7c0),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x2a8)]=0xe]=_0x8cbb9c(0x2a8),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x26b)]=0xf]=_0x8cbb9c(0x26b),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x62a)]=0x10]='SendTransactionsDump',_0x41b0bc[_0x41b0bc['RequestTransactionsValue']=0x11]=_0x8cbb9c(0x659),_0x41b0bc[_0x41b0bc['PubSubTopicStats']=0x12]=_0x8cbb9c(0x745),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x4fa)]=0x13]=_0x8cbb9c(0x4fa),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x206)]=0x14]=_0x8cbb9c(0x206),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x148)]=0x15]='GenerativeAIContextStats',_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x425)]=0x16]=_0x8cbb9c(0x425),_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x422)]=0x17]='VectorDatabaseStats',_0x41b0bc[_0x41b0bc[_0x8cbb9c(0x1cd)]=0x18]=_0x8cbb9c(0x1cd);}(_0xdecfb9||(_0xdecfb9={})),function(_0xb2701f){const _0x1d7a8e=_0x2d5ee2;_0xb2701f['FileWrite']='file-write',_0xb2701f['FolderCreate']=_0x1d7a8e(0x381),_0xb2701f['Delete']=_0x1d7a8e(0x201),_0xb2701f[_0x1d7a8e(0xee)]=_0x1d7a8e(0x437),_0xb2701f[_0x1d7a8e(0x706)]=_0x1d7a8e(0xb5),_0xb2701f['RequestAccepted']=_0x1d7a8e(0x18f),_0xb2701f['RequestFileSync']=_0x1d7a8e(0x80c),_0xb2701f[_0x1d7a8e(0x6a9)]=_0x1d7a8e(0x85f);}(_0xb4a8b4||(_0xb4a8b4={})),function(_0x3208da){const _0x4f33f9=_0x2d5ee2;_0x3208da[_0x4f33f9(0x3da)]=_0x4f33f9(0x41a),_0x3208da[_0x4f33f9(0x6d2)]=_0x4f33f9(0x613);}(_0x38bfc8||(_0x38bfc8={})),function(_0x13a4d1){const _0x4f9656=_0x2d5ee2;_0x13a4d1[_0x4f9656(0x5c5)]=_0x4f9656(0x40c),_0x13a4d1['Update']=_0x4f9656(0x2d3),_0x13a4d1[_0x4f9656(0x82c)]=_0x4f9656(0x201);}(_0x53d193||(_0x53d193={})),function(_0x9b638b){const _0x5d43db=_0x2d5ee2;_0x9b638b[_0x5d43db(0x3e6)]=_0x5d43db(0x548),_0x9b638b['List']=_0x5d43db(0x25a),_0x9b638b[_0x5d43db(0x21f)]=_0x5d43db(0x73b);}(_0x3e0b5b||(_0x3e0b5b={})),function(_0x43e1a2){const _0xdde777=_0x2d5ee2;_0x43e1a2[_0x43e1a2['Request']=0x0]=_0xdde777(0x3da),_0x43e1a2[_0x43e1a2[_0xdde777(0x45c)]=0x1]=_0xdde777(0x45c),_0x43e1a2[_0x43e1a2[_0xdde777(0x4a0)]=0x2]=_0xdde777(0x4a0),_0x43e1a2[_0x43e1a2[_0xdde777(0x721)]=0x3]=_0xdde777(0x721),_0x43e1a2[_0x43e1a2['Result']=0x4]=_0xdde777(0x561),_0x43e1a2[_0x43e1a2[_0xdde777(0x58d)]=0x5]=_0xdde777(0x58d);}(_0x400ff3||(_0x400ff3={})),function(_0x43a1aa){const _0x571ab0=_0x2d5ee2;_0x43a1aa[_0x43a1aa[_0x571ab0(0x3d7)]=0x0]='PeerConnection',_0x43a1aa[_0x43a1aa[_0x571ab0(0x688)]=0x1]='Node',_0x43a1aa[_0x43a1aa['Content']=0x2]=_0x571ab0(0x2f6),_0x43a1aa[_0x43a1aa[_0x571ab0(0xd8)]=0x3]=_0x571ab0(0xd8),_0x43a1aa[_0x43a1aa[_0x571ab0(0x57f)]=0x4]='Stats',_0x43a1aa[_0x43a1aa[_0x571ab0(0x7f5)]=0x5]=_0x571ab0(0x7f5),_0x43a1aa[_0x43a1aa[_0x571ab0(0x28c)]=0x6]=_0x571ab0(0x28c);}(_0xa1c806||(_0xa1c806={}));class _0xfa5373{[_0x2d5ee2(0x2f3)];[_0x2d5ee2(0x5a5)];[_0x2d5ee2(0x319)];constructor(_0x50a7b0,_0xced588){const _0x484cca=_0x2d5ee2;this['owner']=_0x50a7b0,this[_0x484cca(0x5a5)]=_0xced588;}[_0x2d5ee2(0x127)](){const _0x38c2d9=_0x2d5ee2;return this[_0x38c2d9(0x5a5)];}[_0x2d5ee2(0x3f9)](){const _0x461ed1=_0x2d5ee2;return this[_0x461ed1(0x2f3)][_0x461ed1(0x7bf)]();}['destroy'](){}[_0x2d5ee2(0x59c)](_0x2eedf4){const _0x14e93f=_0x2d5ee2;this[_0x14e93f(0x319)]=_0x2eedf4;}[_0x2d5ee2(0x824)](){const _0x41705f=_0x2d5ee2;delete this[_0x41705f(0x319)];}}const _0x1f204c=require('firebase/firestore');let _0x3f7c76=_0x39d0a7(0x14d)['O'];function _0x19b8be(_0x155f67){const _0x551d84=_0x2d5ee2;return!(!_0x155f67||_0x551d84(0x5fc)!=typeof _0x155f67||Array[_0x551d84(0x547)](_0x155f67));}_0x3f7c76=function _0x499987(_0x4b794b,..._0x4d99d9){const _0x39d235=_0x2d5ee2;if(!Array[_0x39d235(0x547)](_0x4d99d9)||0x0===_0x4d99d9[_0x39d235(0x68c)])return _0x4b794b;const _0x116bb7=_0x4d99d9[_0x39d235(0x6bb)]();if(_0x19b8be(_0x4b794b)&&_0x19b8be(_0x116bb7)){for(const _0x56f918 in _0x116bb7)_0x19b8be(_0x116bb7[_0x56f918])?(_0x4b794b[_0x56f918]||Object[_0x39d235(0x607)](_0x4b794b,{[_0x56f918]:{}}),_0x499987(_0x4b794b[_0x56f918],_0x116bb7[_0x56f918])):Object[_0x39d235(0x607)](_0x4b794b,{[_0x56f918]:_0x116bb7[_0x56f918]});}return _0x499987(_0x4b794b,..._0x4d99d9);}(_0x3f7c76,_0x39d0a7(0x3e6)['O']);const _0x3b7010=_0x3f7c76,_0x16a188=require('firebase/app'),_0x23a16d=require('firebase/auth'),_0x1a8a22=require('firebase/database'),_0x221148=require('firebase/functions'),_0x53f5fa=require('uuid'),_0x226e72='CREWDLE_WEB_SDK';class _0x49dab9{static [_0x2d5ee2(0x23d)];[_0x2d5ee2(0x3e4)];[_0x2d5ee2(0x5fa)];[_0x2d5ee2(0x34d)];[_0x2d5ee2(0x58e)];[_0x2d5ee2(0x29b)];[_0x2d5ee2(0x249)];constructor(){const _0x24a0f6=_0x2d5ee2;this[_0x24a0f6(0x370)]();}static['getInstance'](){const _0x575817=_0x2d5ee2;return _0x49dab9['instance']||(_0x49dab9['instance']=new _0x49dab9()),_0x49dab9[_0x575817(0x23d)];}[_0x2d5ee2(0x370)](){const _0x384ae5=_0x2d5ee2;if(!this['app']){let _0x22a95d=_0x226e72;_0x384ae5(0x6bf)!=typeof window&&(_0x22a95d=_0x226e72+'-'+(0x0,_0x53f5fa['v4'])()),this[_0x384ae5(0x3e4)]=(0x0,_0x16a188[_0x384ae5(0x6db)])(_0x3b7010['firebaseConfig'],''+_0x22a95d);}return this[_0x384ae5(0x3e4)];}[_0x2d5ee2(0x7b3)](){const _0x2dd4ff=_0x2d5ee2;return this[_0x2dd4ff(0x5fa)]||(this['auth']=(0x0,_0x23a16d[_0x2dd4ff(0x7b3)])(this[_0x2dd4ff(0x370)]())),this[_0x2dd4ff(0x5fa)];}[_0x2d5ee2(0x6c0)](){const _0xba59c9=_0x2d5ee2;return this['functions']||(this[_0xba59c9(0x34d)]=(0x0,_0x221148[_0xba59c9(0x6c0)])(this[_0xba59c9(0x370)](),_0x3b7010['firebaseConfig'][_0xba59c9(0xbc)])),this[_0xba59c9(0x34d)];}[_0x2d5ee2(0x6ef)](){const _0x5ac612=_0x2d5ee2;return this[_0x5ac612(0x58e)]||(this[_0x5ac612(0x58e)]=(0x0,_0x1a8a22[_0x5ac612(0x6ef)])(this[_0x5ac612(0x370)]())),this[_0x5ac612(0x58e)];}[_0x2d5ee2(0x433)](){const _0x2dd228=_0x2d5ee2;return this[_0x2dd228(0x29b)]||(this['firestore']=(0x0,_0x1f204c[_0x2dd228(0x433)])(this[_0x2dd228(0x370)]())),this['firestore'];}async['getEstimatedTimestamp'](){const _0x572773=_0x2d5ee2;if(this[_0x572773(0x249)])return Date['now']()+this[_0x572773(0x249)];const _0x493396=this[_0x572773(0x6ef)](),_0x2fe5f4=(0x0,_0x1a8a22['ref'])(_0x493396,_0x572773(0x5fe)),_0x47b28f=(0x0,_0x1a8a22[_0x572773(0x5da)])(_0x2fe5f4,_0x14c240=>{!0x1===_0x14c240['val']()&&(_0x47b28f(),delete this['clockSkew']);}),_0x4b632f=(0x0,_0x1a8a22['ref'])(_0x493396,'.info/serverTimeOffset');return new Promise(_0x4eda8a=>{const _0x1cf7a3=_0x572773;(0x0,_0x1a8a22[_0x1cf7a3(0x5da)])(_0x4b632f,_0x2f2403=>{const _0x48fd78=_0x1cf7a3;(0x0,_0x1a8a22[_0x48fd78(0x58c)])(_0x4b632f),this[_0x48fd78(0x249)]=_0x2f2403[_0x48fd78(0x51f)](),_0x4eda8a(Date[_0x48fd78(0x191)]()+(this[_0x48fd78(0x249)]??0x0));});});}}const _0x5b16bc=_0x49dab9['getInstance']();class _0xe8ddbf{static [_0x2d5ee2(0x23d)];['enabledChannels']=[_0x27d952[_0x2d5ee2(0x424)]];[_0x2d5ee2(0x192)]=!0x0;[_0x2d5ee2(0x550)];[_0x2d5ee2(0x52a)]='';[_0x2d5ee2(0x807)];['batchQueue']=[];[_0x2d5ee2(0xeb)];[_0x2d5ee2(0x1da)];[_0x2d5ee2(0x552)]=0xa;['retryDelay']=0x1f4;[_0x2d5ee2(0x38f)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x2c7e8e=_0x2d5ee2;if('undefined'!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x39d0a7['g'])throw new Error('No\x20global\x20object\x20found');this[_0x2c7e8e(0x807)]=_0x39d0a7['g'];}this['loadEnabledChannels'](),this[_0x2c7e8e(0x807)][_0x2c7e8e(0xa6)]=_0x5bfc46=>{const _0x2fe9a0=_0x2c7e8e;if(_0x5bfc46===_0x27d952[_0x2fe9a0(0x2c2)])return this[_0x2fe9a0(0x34e)]=Object['keys'](_0x27d952)[_0x2fe9a0(0x313)](_0x2953d0=>_0x27d952[_0x2953d0]),void Object[_0x2fe9a0(0x41f)](_0x27d952)[_0x2fe9a0(0x57b)](_0x2e2ce8=>{const _0x53fa52=_0x2fe9a0,_0x5e5b7e=_0x2e2ce8;localStorage['setItem'](_0x53fa52(0x1e8)+_0x27d952[_0x5e5b7e],'true');});this['enabledChannels'][_0x2fe9a0(0x51a)](_0x5bfc46)||(this['enabledChannels']['push'](_0x5bfc46),localStorage[_0x2fe9a0(0x5e0)](_0x2fe9a0(0x1e8)+_0x5bfc46,_0x2fe9a0(0x7dd)));},this[_0x2c7e8e(0x807)][_0x2c7e8e(0x578)]=_0x120113=>{const _0x54f09a=_0x2c7e8e;if(!_0x120113||_0x120113===_0x27d952[_0x54f09a(0x2c2)])return this[_0x54f09a(0x34e)]=[],void Object[_0x54f09a(0x41f)](_0x27d952)[_0x54f09a(0x57b)](_0x397cfb=>{const _0x507c9d=_0x54f09a,_0x5c6420=_0x397cfb;localStorage[_0x507c9d(0x150)](_0x507c9d(0x1e8)+_0x27d952[_0x5c6420]);});this[_0x54f09a(0x34e)][_0x54f09a(0x51a)](_0x120113)&&(this[_0x54f09a(0x34e)]=this[_0x54f09a(0x34e)][_0x54f09a(0x2e4)](_0x267d5f=>_0x267d5f!==_0x120113),localStorage[_0x54f09a(0x150)](_0x54f09a(0x1e8)+_0x120113));},this[_0x2c7e8e(0x807)]['crewdleSDKLoggingChannels']=_0x27d952;}static[_0x2d5ee2(0x867)](){const _0x3fbd62=_0x2d5ee2;try{return _0xe8ddbf[_0x3fbd62(0x23d)]||(_0xe8ddbf[_0x3fbd62(0x23d)]=new _0xe8ddbf()),_0xe8ddbf['instance'];}catch(_0x295d0f){return console[_0x3fbd62(0x626)](_0x3fbd62(0x77b),_0x295d0f),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x2d5ee2(0x26f)](_0x1ec9b0){const _0x3a81a0=_0x2d5ee2;this[_0x3a81a0(0x52a)]=_0x1ec9b0,this[_0x3a81a0(0x748)]=[],this[_0x3a81a0(0xeb)]=this[_0x3a81a0(0x2af)](),this[_0x3a81a0(0x1da)]&&(clearTimeout(this[_0x3a81a0(0x1da)]),this['batchTimeout']=void 0x0);}[_0x2d5ee2(0x54a)](_0x50201f){const _0x17ad75=_0x2d5ee2;this[_0x17ad75(0x550)]=_0x50201f;}[_0x2d5ee2(0x2a2)](_0x3afc8f,..._0x57e9d6){const _0x34f1ec=_0x2d5ee2;this[_0x34f1ec(0x192)]&&this[_0x34f1ec(0x5f9)](_0x27d952[_0x34f1ec(0x424)],_0x34f1ec(0x59d)+_0x3afc8f,..._0x57e9d6);}['log'](_0x3f59ff,_0x318e28,..._0x5a9bfa){const _0x11ddfc=_0x2d5ee2;_0x3b7010[_0x11ddfc(0x73f)]||(this[_0x11ddfc(0x34e)][_0x11ddfc(0x51a)](_0x3f59ff)&&console[_0x11ddfc(0x5f9)](_0x11ddfc(0x766)+_0x3f59ff+'\x27\x0a',new Date()+'\x0a',_0x318e28,..._0x5a9bfa),this[_0x11ddfc(0x550)]&&this[_0x11ddfc(0x550)][_0x11ddfc(0x57b)](_0x2e97b2=>{const _0xcafce8=_0x11ddfc;this[_0xcafce8(0x22b)](_0x2e97b2)&&_0x2e97b2['getEnabledChannels']()['includes'](_0x3f59ff)&&_0x2e97b2['log'](_0x318e28,{'vendorId':this[_0xcafce8(0x52a)],'nodeId':'','nodeType':'','data':{'channel':_0x3f59ff,..._0x5a9bfa}});}));}[_0x2d5ee2(0x44b)](_0x4270c6,_0x2e6e8b,..._0x155d0e){const _0x52119f=_0x2d5ee2;_0x3b7010['isProduction']||(this[_0x52119f(0x34e)]['includes'](_0x4270c6)&&console[_0x52119f(0x5f9)](_0x2e6e8b,..._0x155d0e),this['loggingConnectors']&&this['loggingConnectors'][_0x52119f(0x57b)](_0x59914b=>{const _0x3b8150=_0x52119f;this[_0x3b8150(0x22b)](_0x59914b)&&_0x59914b['getEnabledChannels']()['includes'](_0x4270c6)&&_0x59914b[_0x3b8150(0x5f9)](_0x2e6e8b,{'vendorId':this[_0x3b8150(0x52a)],'nodeId':'','nodeType':'','data':{'channel':_0x4270c6,..._0x155d0e}});}));}[_0x2d5ee2(0x54e)](_0x15a3e1,_0x1bb9f1){const _0x17933b=_0x2d5ee2;if(!this[_0x17933b(0x550)])return;const _0x20b691={'vendorId':this[_0x17933b(0x52a)],..._0x1bb9f1};this['loggingConnectors'][_0x17933b(0x57b)](_0x2546aa=>{const _0x2b11e4=_0x17933b;_0x2546aa[_0x2b11e4(0x5f9)](_0x15a3e1,_0x20b691);});}[_0x2d5ee2(0x46c)](_0x4bde22,_0x432b9c){this['createBatchOperation'](_0x4bde22,_0x432b9c),this['logBatch']();}['logStorage'](_0x2e894f,_0x313f3a,_0x345308){const _0x3cad5e=_0x2d5ee2;(0x0,_0x1f204c[_0x3cad5e(0x2a0)])((0x0,_0x1f204c[_0x3cad5e(0xf0)])(_0x5b16bc['getFirestore'](),_0x3cad5e(0x71b)+this[_0x3cad5e(0x52a)]+'/'+_0x2e894f+'/'+_0x313f3a),{'storage':_0x345308,'timestamp':(0x0,_0x1f204c['serverTimestamp'])()});}[_0x2d5ee2(0x826)](){const _0x43b53e=_0x2d5ee2;this['currentBatch']&&(this['currentBatch'][_0x43b53e(0x46e)]+=0x1,this[_0x43b53e(0xeb)][_0x43b53e(0x46e)]===this[_0x43b53e(0x38f)]?this[_0x43b53e(0x20b)]():this['batchTimeout']||(this[_0x43b53e(0x1da)]=this[_0x43b53e(0x807)][_0x43b53e(0x61c)](()=>this[_0x43b53e(0x20b)](),this['timeoutValue'])));}async['processBatch'](){const _0x2d7f20=_0x2d5ee2;if(this[_0x2d7f20(0xeb)]){for(this[_0x2d7f20(0x748)]['push'](this['currentBatch']),this['currentBatch']=this[_0x2d7f20(0x2af)]();this[_0x2d7f20(0x748)][_0x2d7f20(0x68c)]>0x0;){const _0x4fe3a7=this[_0x2d7f20(0x748)]['shift']();if(!await this['commitBatch'](_0x4fe3a7))break;}clearTimeout(this[_0x2d7f20(0x1da)]),this[_0x2d7f20(0x1da)]=void 0x0;}}[_0x2d5ee2(0x626)](_0x20ed6d,_0x10bd66,..._0x1462dc){const _0x21821b=_0x2d5ee2;if(console[_0x21821b(0x626)](new Date(),_0x20ed6d,_0x10bd66,..._0x1462dc),this[_0x21821b(0x550)]){const _0x1fb26c={'vendorId':this[_0x21821b(0x52a)],..._0x10bd66};this[_0x21821b(0x550)][_0x21821b(0x57b)](_0x3044aa=>{_0x3044aa['error'](_0x20ed6d,_0x1fb26c);});}}[_0x2d5ee2(0x17e)](_0x27dca6,_0x55940c,..._0x50141f){const _0x1d804a=_0x2d5ee2;if(console[_0x1d804a(0x1e0)](new Date(),_0x27dca6,_0x55940c,_0x50141f),this[_0x1d804a(0x550)]){const _0x1c2eaa={'vendorId':this['vendorId'],..._0x55940c};this[_0x1d804a(0x550)]['forEach'](_0xc699f5=>{const _0x301dc8=_0x1d804a;_0xc699f5[_0x301dc8(0x1e0)](_0x27dca6,_0x1c2eaa);});}}['isChannelEnabled'](_0x1ebe34){const _0xb6cc0a=_0x2d5ee2;return this[_0xb6cc0a(0x34e)][_0xb6cc0a(0x51a)](_0x1ebe34);}async[_0x2d5ee2(0x75d)](_0x4e8937,_0x59f2ee=0x0){const _0x59b06d=_0x2d5ee2;if(_0x4e8937[_0x59b06d(0x46e)]>0x0)try{return await _0x4e8937['batch'][_0x59b06d(0x4ca)](),!0x0;}catch(_0x3c77a4){if(console[_0x59b06d(0x626)](_0x59b06d(0x6b9),_0x3c77a4,'Operations:',_0x4e8937['operations']),!(_0x59f2ee<this['retryLimit'])){const {nodeId:_0x34675f='',nodeType:_0x27442a='',clusterId:_0x41c837=''}=_0x4e8937[_0x59b06d(0x1b4)][0x0][_0x59b06d(0x252)],_0xdf6d4e={'nodeId':_0x34675f,'nodeType':_0x27442a,'clusterId':_0x41c837,'data':{'operations':_0x4e8937['operations'],'error':_0x3c77a4}};return this[_0x59b06d(0x626)](_0x59b06d(0x39a),_0xdf6d4e),!0x1;}{const _0x2a89ff=this[_0x59b06d(0x279)](_0x4e8937[_0x59b06d(0x1b4)]);setTimeout(()=>this['commitBatch'](_0x2a89ff,_0x59f2ee+0x1),this[_0x59b06d(0x3a5)]*Math[_0x59b06d(0x6b3)](0x2,_0x59f2ee));}}}['loadEnabledChannels'](){const _0x5b7885=_0x2d5ee2;try{Object[_0x5b7885(0x41f)](_0x27d952)['forEach'](_0x12c960=>{const _0x3398b3=_0x5b7885,_0x59f8ca=_0x12c960;localStorage[_0x3398b3(0x6d8)]('crewdle-sdk-logging-'+_0x27d952[_0x59f8ca])&&(console[_0x3398b3(0x5f9)]('LoggingService:\x20logging\x20enabled\x20for',_0x27d952[_0x59f8ca]),this[_0x3398b3(0x34e)][_0x3398b3(0x80e)](_0x27d952[_0x59f8ca]));});}catch(_0x5ef669){}}[_0x2d5ee2(0x22b)](_0x23fd0d){const _0xdec262=_0x2d5ee2;return void 0x0!==_0x23fd0d[_0xdec262(0x236)];}[_0x2d5ee2(0x2af)](){const _0x4fd689=_0x2d5ee2;return{'batch':(0x0,_0x1f204c[_0x4fd689(0x22c)])(_0x5b16bc[_0x4fd689(0x433)]()),'operations':[],'counter':0x0};}[_0x2d5ee2(0x279)](_0x3d7f9e){const _0x479d83=_0x2d5ee2,_0x43f58e=(0x0,_0x1f204c[_0x479d83(0x22c)])(_0x5b16bc[_0x479d83(0x433)]());return _0x3d7f9e[_0x479d83(0x57b)](_0x130732=>this[_0x479d83(0x29c)](_0x43f58e,_0x130732)),{'batch':_0x43f58e,'operations':_0x3d7f9e,'counter':_0x3d7f9e[_0x479d83(0x68c)]};}[_0x2d5ee2(0x29c)](_0x5ebd13,_0x1b7828){const _0xe5f931=_0x2d5ee2;switch(_0x1b7828['type']){case _0xe5f931(0x1d0):_0x5ebd13[_0xe5f931(0x1d0)](_0x1b7828[_0xe5f931(0x77d)],_0x1b7828['data']);break;case _0xe5f931(0x2d3):_0x5ebd13[_0xe5f931(0x2d3)](_0x1b7828[_0xe5f931(0x77d)],_0x1b7828['data']);break;case _0xe5f931(0x201):_0x5ebd13[_0xe5f931(0x201)](_0x1b7828[_0xe5f931(0x77d)]);}}[_0x2d5ee2(0xea)](_0xd64e3d,_0xfaaa1a){const _0x55182a=_0x2d5ee2;this[_0x55182a(0xeb)]||(this[_0x55182a(0xeb)]=this[_0x55182a(0x2af)]());const _0x480709=(0x0,_0x1f204c[_0x55182a(0xf0)])((0x0,_0x1f204c[_0x55182a(0x27c)])(_0x5b16bc[_0x55182a(0x433)](),_0x55182a(0x71b)+this[_0x55182a(0x52a)]+_0x55182a(0x50a))),_0x37ac2={..._0xfaaa1a,'service':_0xd64e3d,'timestamp':(0x0,_0x1f204c[_0x55182a(0x16f)])()},_0xbdd316={'type':'set','path':_0x480709[_0x55182a(0x267)],'ref':_0x480709,'data':_0x37ac2};return this[_0x55182a(0xeb)][_0x55182a(0x1b4)][_0x55182a(0x80e)](_0xbdd316),this['addBatchOperation'](this['currentBatch']['batch'],_0xbdd316),_0x480709;}}const _0x4b7920=_0xe8ddbf[_0x2d5ee2(0x867)]();function _0x41fdca(_0x2f5386,_0x4268fd){return'/'===_0x2f5386?_0x2f5386+_0x4268fd:_0x2f5386+'/'+_0x4268fd;}function _0x21845f(_0x434302){const _0x3a2ade=_0x2d5ee2,_0x3bb25e=function(_0x5b156b){const _0x3a3fbd=a0_0x5322;return _0x5b156b[_0x3a3fbd(0x4c3)]('/')[_0x3a3fbd(0x2e4)](_0x524ca1=>_0x524ca1[_0x3a3fbd(0x68c)]>0x0);}(_0x434302),_0xd1f783=_0x3bb25e[_0x3a2ade(0x20f)]()||'',_0x30d29d=_0x3bb25e['join']('/');return[0x0===_0x30d29d[_0x3a2ade(0x68c)]?'/':_0x30d29d,_0xd1f783];}async function _0x4f7ea1(_0x17d275){const _0x455739=_0x2d5ee2;let _0xc425b5;const _0xfec082=_0x17d275['size']/0x100000;_0xc425b5=_0xfec082<=0xa?0x1:_0xfec082<=0x64?0.5:_0xfec082<=0x1f4?0.1:0.05;const _0x33473d=Math[_0x455739(0x416)](_0x17d275[_0x455739(0x6b6)]/_0x352292),_0x962ac0=Math['ceil'](_0x33473d*_0xc425b5);let _0x1f70f8=new Uint8Array();for(let _0x1cf6ee=0x0;_0x1cf6ee<_0x962ac0;_0x1cf6ee++){const _0x25ac3d=Math['floor'](_0x1cf6ee/_0x962ac0*_0x17d275[_0x455739(0x6b6)]);let _0x51d98f=_0x25ac3d+_0x352292;_0x51d98f>_0x17d275[_0x455739(0x6b6)]&&(_0x51d98f=_0x17d275[_0x455739(0x6b6)]);const _0x2856a8=_0x17d275[_0x455739(0x13c)](_0x25ac3d,_0x51d98f),_0x50b0fb=await _0x2856a8['arrayBuffer'](),_0x3aa3f4=new Uint8Array([..._0x1f70f8,...new Uint8Array(_0x50b0fb)]);_0x1f70f8=new Uint8Array(await crypto[_0x455739(0x2e2)][_0x455739(0x177)](_0x455739(0x5d8),_0x3aa3f4));}return Array[_0x455739(0x81b)](new Uint8Array(_0x1f70f8))['map'](_0x32410c=>_0x32410c['toString'](0x10)[_0x455739(0x1db)](0x2,'0'))[_0x455739(0x45e)]('');}async function*_0x3083e0(_0x140da9,_0xdc3724=0x0,_0x4657a5){const _0x2471f1=_0x2d5ee2;let _0x1075f3=_0xdc3724*_0x4fdd0e,_0x570261=_0x140da9;for(;_0x1075f3<_0x570261[_0x2471f1(0x6b6)];){let _0x22a4ca=_0x1075f3+_0x4fdd0e;_0x22a4ca>_0x570261[_0x2471f1(0x6b6)]&&(_0x22a4ca=_0x570261[_0x2471f1(0x6b6)]);let _0x28488f=0x0;for(;_0x28488f<0x14;)try{await _0x4657a5?.();const _0x24e137=_0x570261['slice'](_0x1075f3,_0x22a4ca,'application/octet-stream'),_0x5ab543=await _0x24e137[_0x2471f1(0x10d)]();yield _0x5ab543,_0x1075f3=_0x22a4ca,await new Promise(_0x41005d=>setTimeout(_0x41005d,0x0));break;}catch(_0x523670){if(console['error']('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x28488f+0x1)+_0x2471f1(0x1ff),_0x523670),_0x28488f++,_0x28488f>0x14)throw _0x523670;let _0x14c2eb=0x3e8*Math[_0x2471f1(0x6b3)](0x2,_0x28488f);_0x14c2eb>0x7530&&(_0x14c2eb=0x7530),await new Promise(_0x3aa74f=>setTimeout(_0x3aa74f,_0x14c2eb));}}}class _0x4ba786 extends _0xfa5373{[_0x2d5ee2(0x290)];[_0x2d5ee2(0x72f)];['fileChunks']=new Map();['messagesSent']=0x0;['messagesReceived']=0x0;[_0x2d5ee2(0x812)]=0x0;[_0x2d5ee2(0x84b)]=0x0;constructor(_0x391932,_0x10d8fb){super(_0x391932,_0x10d8fb);}[_0x2d5ee2(0x127)](){const _0x4590b5=_0x2d5ee2;return this[_0x4590b5(0x5a5)];}[_0x2d5ee2(0x15d)](){return this['label'];}['getContentType'](){const _0x12bf6f=_0x2d5ee2;return _0x3f2cd3[_0x12bf6f(0x1f9)][_0x12bf6f(0x3b7)];}[_0x2d5ee2(0x168)](){const _0x4540fb=_0x2d5ee2;return this[_0x4540fb(0x5a5)];}[_0x2d5ee2(0x733)](_0x3cf8ef){const _0x16b200=_0x2d5ee2;if(this['outgoingTopic'])throw new _0x177832(_0x177832['codes'][_0x16b200(0x4a7)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x16b200(0x2f3)][_0x16b200(0x7bf)]()+_0x16b200(0x7d9)+this[_0x16b200(0x5a5)],'topic':this[_0x16b200(0x290)]});this[_0x16b200(0x290)]=_0x3cf8ef;}[_0x2d5ee2(0x768)](_0x154b03){const _0xc24760=_0x2d5ee2;if(this[_0xc24760(0x72f)])throw new _0x177832(_0x177832[_0xc24760(0x492)][_0xc24760(0x260)],{'message':_0xc24760(0x214)+this[_0xc24760(0x2f3)]['getId']()+'\x20-\x20'+this[_0xc24760(0x5a5)],'topic':this[_0xc24760(0x72f)]});this['incomingTopic']=_0x154b03;}[_0x2d5ee2(0x405)](){delete this['outgoingTopic'];}[_0x2d5ee2(0x59b)](){delete this['incomingTopic'];}async[_0x2d5ee2(0x23a)](_0x15512e,_0x475dde){const _0x192c08=_0x2d5ee2;if(_0x4b7920[_0x192c08(0x5f9)](_0x27d952[_0x192c08(0x7d7)],_0x192c08(0x755),this['owner']['getId'](),_0x15512e,_0x475dde),this[_0x192c08(0x608)]+=0x1,_0x15512e instanceof File){const _0x147cbc=await async function(_0x26a3c2){const _0x51816d=_0x192c08,_0x2a184b=[];for await(const _0x146139 of _0x3083e0(_0x26a3c2))_0x2a184b[_0x51816d(0x80e)](_0x146139);return _0x2a184b;}(_0x15512e);return this[_0x192c08(0x812)]+=_0x147cbc[_0x192c08(0x488)]((_0x2c56b0,_0x52a8e9)=>_0x2c56b0+_0x52a8e9[_0x192c08(0x373)],0x0),void _0x147cbc[_0x192c08(0x57b)]((_0x2c0a39,_0x1644d4)=>{const _0x57218d=_0x192c08;this[_0x57218d(0x290)][_0x57218d(0xef)]({'sourceId':this[_0x57218d(0x2f3)][_0x57218d(0x7bf)](),'destinationIds':_0x475dde,'propagate':!0x0,'contentType':_0x3f2cd3['ContentType'][_0x57218d(0x65f)],'content':{'name':_0x15512e[_0x57218d(0x690)],'type':_0x15512e[_0x57218d(0x2f5)],'data':_0x2c0a39,'index':_0x1644d4,'total':_0x147cbc[_0x57218d(0x68c)]}});});}this[_0x192c08(0x812)]+=JSON[_0x192c08(0x779)](_0x15512e)['length'],this['outgoingTopic'][_0x192c08(0xef)]({'sourceId':this[_0x192c08(0x2f3)][_0x192c08(0x7bf)](),'destinationIds':_0x475dde,'propagate':!0x0,'contentType':_0x3f2cd3[_0x192c08(0x1f9)][_0x192c08(0x3b7)],'content':_0x15512e});}[_0x2d5ee2(0xc9)](_0x50462b){const _0x10c8d2=_0x2d5ee2;return this[_0x10c8d2(0x72f)][_0x10c8d2(0x21a)](_0x3f56bc=>{const _0x28cf70=_0x10c8d2;switch(_0x4b7920[_0x28cf70(0x5f9)](_0x27d952[_0x28cf70(0x7d7)],_0x28cf70(0x591),this[_0x28cf70(0x2f3)][_0x28cf70(0x7bf)](),_0x3f56bc),_0x3f56bc[_0x28cf70(0x2fb)]){case _0x3f2cd3[_0x28cf70(0x1f9)][_0x28cf70(0x3b7)]:this[_0x28cf70(0x235)]+=0x1,this[_0x28cf70(0x84b)]+=JSON['stringify'](_0x3f56bc[_0x28cf70(0x262)])['length'],_0x50462b(_0x3f56bc[_0x28cf70(0x51e)],_0x3f56bc[_0x28cf70(0x262)]);break;case _0x3f2cd3['ContentType'][_0x28cf70(0x65f)]:this['fileChunks'][_0x28cf70(0x2b3)](_0x3f56bc['content'][_0x28cf70(0x690)])||this[_0x28cf70(0x1ea)][_0x28cf70(0x1d0)](_0x3f56bc['content']['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5b854a=this[_0x28cf70(0x1ea)][_0x28cf70(0x548)](_0x3f56bc[_0x28cf70(0x262)][_0x28cf70(0x690)]);if(_0x5b854a['chunksReceived']+=0x1,_0x5b854a[_0x28cf70(0x84b)]+=_0x3f56bc['content'][_0x28cf70(0x252)][_0x28cf70(0x373)],_0x5b854a[_0x28cf70(0x262)]&&(_0x5b854a['content'][_0x3f56bc['content'][_0x28cf70(0x1df)]]=_0x3f56bc['content'][_0x28cf70(0x252)]),this['fileChunks'][_0x28cf70(0x1d0)](_0x3f56bc[_0x28cf70(0x262)][_0x28cf70(0x690)],_0x5b854a),_0x5b854a['chunksReceived']+0x1<_0x3f56bc[_0x28cf70(0x262)]['total'])return;this[_0x28cf70(0x235)]+=0x1,this[_0x28cf70(0x84b)]+=_0x5b854a[_0x28cf70(0x84b)],_0x5b854a[_0x28cf70(0x262)]&&_0x50462b(_0x3f56bc[_0x28cf70(0x51e)],(_0x30b7cf=_0x5b854a[_0x28cf70(0x262)],_0x8341b1=_0x3f56bc['content']['name'],_0x4de5b3=_0x3f56bc[_0x28cf70(0x262)][_0x28cf70(0x2f5)],new File(_0x30b7cf,_0x8341b1,{'type':_0x4de5b3}))),this['fileChunks'][_0x28cf70(0x201)](_0x3f56bc['content']['name']);}var _0x30b7cf,_0x8341b1,_0x4de5b3;});}}function _0x368dbe(){const _0x1ae281=_0x2d5ee2;let _0x57f530=[];return{'subscribe':_0x3d2359=>(_0x57f530[_0x1ae281(0x80e)](_0x3d2359),()=>{_0x57f530=_0x57f530['filter'](_0x20373c=>_0x20373c!==_0x3d2359);}),'publish':_0x3ff718=>{const _0x268feb=_0x1ae281;_0x57f530[_0x268feb(0x57b)](_0x5dd01f=>_0x5dd01f(_0x3ff718));}};}function _0x2428fd(){let _0xe8b63;return{'subscribe':_0x14d8f0=>(_0xe8b63=_0x14d8f0,()=>{_0xe8b63=void 0x0;}),'publish':_0x333f93=>{_0xe8b63&&_0xe8b63(_0x333f93);}};}class _0x1a4b0b{[_0x2d5ee2(0x1f0)];[_0x2d5ee2(0x166)];['tableObserver'];[_0x2d5ee2(0x5b5)]=_0x2428fd();[_0x2d5ee2(0x7bc)];constructor(_0x20b9af,_0x28375f,_0x3a436d){const _0x4766e6=_0x2d5ee2;this[_0x4766e6(0x1f0)]=_0x20b9af,this[_0x4766e6(0x166)]=_0x28375f,this[_0x4766e6(0x5b0)]=_0x3a436d;}[_0x2d5ee2(0x3d9)](){const _0x4a804f=_0x2d5ee2;this[_0x4a804f(0x7bc)]?.();}async['get'](_0x2effed){const _0x585b27=_0x2d5ee2,_0x41055f={'key':_0x2effed,'tableName':this['tableName'],'action':_0x3e0b5b['Get']};return this[_0x585b27(0x5b0)][_0x585b27(0xef)](_0x41055f),this['connector']['get'](_0x2effed);}async[_0x2d5ee2(0x1d0)](_0x51b877,_0x4e33cc,_0x192a18=!0x0){const _0x1d2526=_0x2d5ee2;this[_0x1d2526(0x790)](_0x4e33cc);const _0x4d85c1=await this[_0x1d2526(0x1f0)]['get'](_0x51b877),_0xccb687=await this[_0x1d2526(0x1f0)]['set'](_0x51b877,_0x4e33cc),_0x358709=_0x4d85c1?_0x53d193['Update']:_0x53d193[_0x1d2526(0x5c5)];if(this[_0x1d2526(0xef)](_0x358709,_0xccb687),!_0x192a18)return _0xccb687;const _0x1ab62e={'key':_0x51b877,'tableName':this[_0x1d2526(0x166)],'action':_0x358709,'value':_0xccb687};return this[_0x1d2526(0x5b0)]['publish'](_0x1ab62e),_0xccb687;}async[_0x2d5ee2(0x40c)](_0x26d2fe){const _0x130970=_0x2d5ee2;this['validateValue'](_0x26d2fe);const _0x14bd55=await this[_0x130970(0x1f0)][_0x130970(0x40c)](_0x26d2fe),_0x57da30={'key':_0x14bd55['id'],'tableName':this[_0x130970(0x166)],'action':_0x53d193['Add'],'value':_0x14bd55};return this[_0x130970(0x5b0)][_0x130970(0xef)](_0x57da30),this['publish'](_0x57da30[_0x130970(0x389)],_0x14bd55),_0x14bd55;}async['delete'](_0x35828e,_0x300ac0=!0x0){const _0x537641=_0x2d5ee2,_0x2d3b38=await this['connector'][_0x537641(0x548)](_0x35828e);if(!_0x2d3b38)return;await this[_0x537641(0x1f0)][_0x537641(0x201)](_0x35828e);const _0x3bb2bd=_0x53d193[_0x537641(0x82c)];if(this[_0x537641(0xef)](_0x3bb2bd,_0x2d3b38),!_0x300ac0)return;const _0x41993e={'key':_0x35828e,'tableName':this[_0x537641(0x166)],'action':_0x3bb2bd,'value':_0x2d3b38};this['tableObserver'][_0x537641(0xef)](_0x41993e);}async[_0x2d5ee2(0x63e)](){const _0x510a08=_0x2d5ee2,_0x55c296=await this['list']();for(const _0x2818d3 of _0x55c296){const _0x14a336=_0x53d193[_0x510a08(0x82c)];this[_0x510a08(0xef)](_0x14a336,_0x2818d3);const _0x2d8bdc={'key':_0x2818d3['id'],'tableName':this[_0x510a08(0x166)],'action':_0x14a336,'value':_0x2818d3};this[_0x510a08(0x5b0)]['publish'](_0x2d8bdc);}return this[_0x510a08(0x1f0)][_0x510a08(0x63e)]();}async[_0x2d5ee2(0x25a)](_0x176836){const _0x3dc409=_0x2d5ee2,_0x51b0e3={'key':'','tableName':this[_0x3dc409(0x166)],'action':_0x3e0b5b[_0x3dc409(0x2de)]};this[_0x3dc409(0x5b0)]['publish'](_0x51b0e3);try{_0x176836&&(_0x176836=_0x176836 instanceof _0x3adf1d?_0x176836[_0x3dc409(0x40e)]():_0x3adf1d[_0x3dc409(0x6f4)](_0x176836)[_0x3dc409(0x40e)]());}catch(_0x2bf1cf){throw new _0x21720d(_0x11ce35[_0x3dc409(0x4b8)],'Invalid\x20query');}try{return await this['connector'][_0x3dc409(0x25a)](_0x176836);}catch(_0xc52bfa){let _0x5d847e=_0x3dc409(0x80a);throw _0xc52bfa instanceof Error&&(_0x5d847e=_0xc52bfa['message']),new _0x21720d(_0x11ce35[_0x3dc409(0x4b8)],_0x5d847e);}}async['count'](_0x4df456){const _0x3a55b4=_0x2d5ee2,_0x4bf9fe={'key':'','tableName':this['tableName'],'action':_0x3e0b5b[_0x3a55b4(0x21f)]};this[_0x3a55b4(0x5b0)][_0x3a55b4(0xef)](_0x4bf9fe);try{_0x4df456&&(_0x4df456=_0x4df456 instanceof _0x3adf1d?_0x4df456[_0x3a55b4(0x40e)]():_0x3adf1d[_0x3a55b4(0x6f4)](_0x4df456)['getQuery']());}catch(_0x21800b){throw new _0x21720d(_0x11ce35[_0x3a55b4(0x4b8)],_0x3a55b4(0x80a));}try{return await this['connector'][_0x3a55b4(0x73b)](_0x4df456);}catch(_0x107d37){let _0x257e01=_0x3a55b4(0x80a);throw _0x107d37 instanceof Error&&(_0x257e01=_0x107d37[_0x3a55b4(0x52f)]),new _0x21720d(_0x11ce35[_0x3a55b4(0x4b8)],_0x257e01);}}[_0x2d5ee2(0x18e)](){const _0x391879=_0x2d5ee2;return this[_0x391879(0x1f0)][_0x391879(0x18e)]();}[_0x2d5ee2(0x21a)](_0x2ac860){const _0x1ba780=_0x2d5ee2;this['listenerUnsubscriber']=this[_0x1ba780(0x5b5)][_0x1ba780(0x21a)](_0x2ac860);}[_0x2d5ee2(0x5ee)](){this['listenerUnsubscriber']?.();}[_0x2d5ee2(0xef)](_0x278636,_0x33a519){const _0x3b562f=_0x2d5ee2,_0x56b351=this[_0x3b562f(0x775)](_0x278636,_0x33a519);this[_0x3b562f(0x5b5)][_0x3b562f(0xef)](_0x56b351);}['buildTableEvent'](_0x4fa8a9,_0x21aa19){const _0x468d1c=_0x2d5ee2;let _0xb213d8;switch(_0x4fa8a9){case _0x53d193[_0x468d1c(0x5c5)]:_0xb213d8=_0x468d1c(0x40c);break;case _0x53d193[_0x468d1c(0x210)]:_0xb213d8=_0x468d1c(0x2d3);break;case _0x53d193['Delete']:_0xb213d8=_0x468d1c(0x201);}return{'action':_0xb213d8,'value':_0x21aa19};}[_0x2d5ee2(0x790)](_0x186857){const _0x384c4c=_0x2d5ee2;if(_0x384c4c(0x5fc)!=typeof _0x186857||null===_0x186857)throw new _0x21720d(_0x11ce35[_0x384c4c(0x1e5)],_0x384c4c(0x723));for(const _0x45cf39 in _0x186857){const _0x4de060=_0x186857[_0x45cf39];if(_0x384c4c(0x5fc)!=typeof _0x4de060||_0x4de060 instanceof Date){if(!['string','number',_0x384c4c(0x6aa)][_0x384c4c(0x51a)](typeof _0x4de060))throw new _0x21720d(_0x11ce35[_0x384c4c(0x1e5)],_0x384c4c(0x601)+_0x45cf39+_0x384c4c(0x865));}else this[_0x384c4c(0x790)](_0x4de060);}}}class _0x31de72 extends _0x4ba786{[_0x2d5ee2(0x5b9)];['clusterId'];[_0x2d5ee2(0x52a)];['db'];[_0x2d5ee2(0x512)];[_0x2d5ee2(0x310)]=new Map();[_0x2d5ee2(0x5b0)];['transactionTable'];[_0x2d5ee2(0x423)];[_0x2d5ee2(0x470)];[_0x2d5ee2(0x400)];[_0x2d5ee2(0x520)]=[];[_0x2d5ee2(0x538)]=()=>{};[_0x2d5ee2(0x569)];['eventListener']=_0x2428fd();[_0x2d5ee2(0x7bc)];[_0x2d5ee2(0x832)]=[];[_0x2d5ee2(0x1ca)];[_0x2d5ee2(0x596)];[_0x2d5ee2(0x15b)]=0x0;[_0x2d5ee2(0x12c)]=0x0;constructor(_0x3a55b5,_0x49cf2e,_0x3633c0,_0x59f5f2,_0x19774d,_0x4094c6){const _0x3100cc=_0x2d5ee2;if(_0x3100cc(0x69a)!=typeof _0x49cf2e)throw new _0x21720d(_0x11ce35[_0x3100cc(0x609)],_0x3100cc(0x48d));if(super(_0x3a55b5,_0x49cf2e),this[_0x3100cc(0x5b9)]=_0x3a55b5,this[_0x3100cc(0x2dd)]=_0x3633c0,this[_0x3100cc(0x52a)]=_0x59f5f2,this[_0x3100cc(0x512)]=_0x3100cc(0x61f)+this[_0x3100cc(0x52a)]+'ccc'+this[_0x3100cc(0x2dd)]+_0x3100cc(0x61f)+this['label'],this[_0x3100cc(0x5b0)]=_0x2428fd(),this['isSync']=new Promise(_0x46db8e=>{const _0x3cce75=_0x3100cc;this[_0x3cce75(0x400)]=_0x46db8e;}),_0x19774d instanceof _0x2d3cf9)this[_0x3100cc(0x1ca)]=_0x19774d['getLayout']();else{const [_0x492c72,_0x5df3ee]=_0x2d3cf9[_0x3100cc(0x26c)](_0x19774d);if(!_0x492c72)throw new _0x21720d(_0x11ce35[_0x3100cc(0x838)],_0x3100cc(0xf3)+_0x5df3ee);this['layout']=_0x19774d;}this[_0x3100cc(0x3a3)](this['layout']),this['db']=new _0x4094c6(this['dbKey'],this[_0x3100cc(0x1ca)]),this[_0x3100cc(0x556)]();}[_0x2d5ee2(0x53c)](){const _0x17cb01=_0x2d5ee2;this[_0x17cb01(0x556)]();}[_0x2d5ee2(0x813)](){const _0x4278ad=_0x2d5ee2;return _0x3f2cd3[_0x4278ad(0x1f9)][_0x4278ad(0x830)];}[_0x2d5ee2(0x3d9)](){const _0x16d916=_0x2d5ee2;this['db'][_0x16d916(0x582)](),this[_0x16d916(0x423)]?.(),clearTimeout(this[_0x16d916(0x596)]),delete this['debounceStats'],super[_0x16d916(0x3d9)]();}['close'](){const _0xcba119=_0x2d5ee2;this[_0xcba119(0x319)][_0xcba119(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806['Content'],'content':{'type':_0xdecfb9[_0xcba119(0x1b7)],'label':this[_0xcba119(0x5a5)]}});}['getTable'](_0xec665e){const _0x17e51a=_0x2d5ee2,_0x17bb08=this[_0x17e51a(0x310)][_0x17e51a(0x548)](_0xec665e);if(_0x17bb08)return _0x17bb08;try{if(!this['db'][_0x17e51a(0x703)](_0xec665e))throw new _0x21720d(_0x11ce35['KeyValueDatabaseTableNotFound'],_0x17e51a(0x406));const _0x21f527=new _0x1a4b0b(this['db'][_0x17e51a(0x76b)](_0xec665e),_0xec665e,this[_0x17e51a(0x5b0)]);return this[_0x17e51a(0x310)][_0x17e51a(0x1d0)](_0xec665e,_0x21f527),{'get':_0x21f527['get'][_0x17e51a(0x13b)](_0x21f527),'set':_0x21f527['set']['bind'](_0x21f527),'add':_0x21f527[_0x17e51a(0x40c)]['bind'](_0x21f527),'delete':_0x21f527[_0x17e51a(0x201)][_0x17e51a(0x13b)](_0x21f527),'clear':_0x21f527['clear'][_0x17e51a(0x13b)](_0x21f527),'list':_0x21f527[_0x17e51a(0x25a)][_0x17e51a(0x13b)](_0x21f527),'count':_0x21f527['count'][_0x17e51a(0x13b)](_0x21f527),'subscribe':_0x21f527[_0x17e51a(0x21a)]['bind'](_0x21f527),'unsubscribe':_0x21f527[_0x17e51a(0x5ee)][_0x17e51a(0x13b)](_0x21f527)};}catch(_0x1aadbd){throw new _0x21720d(_0x11ce35[_0x17e51a(0x39c)],'Database\x20not\x20open');}}[_0x2d5ee2(0x21a)](_0x3bcf96){const _0x59d2b4=_0x2d5ee2;this[_0x59d2b4(0x7bc)]=this[_0x59d2b4(0x5b5)][_0x59d2b4(0x21a)](_0x3bcf96);}['unsubscribe'](){this['listenerUnsubscriber']?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x2d5ee2(0x2ef)](){const _0x347df7=_0x2d5ee2,_0x225c6c=[_0x420d46,_0x3b6078],_0x47f912=[];try{await this['db'][_0x347df7(0x2ef)]();const _0x3735e9=this['db'][_0x347df7(0x76b)](_0x3b6078),_0x2ece7e=await _0x3735e9[_0x347df7(0x25a)](),{id:_0x367f31,layout:_0x27fb66}=_0x2ece7e[0x0]??{};if(_0x27fb66){for(const _0x289d45 in _0x27fb66)_0x225c6c[_0x347df7(0x51a)](_0x289d45)||this['db'][_0x347df7(0x703)](_0x289d45)||_0x47f912[_0x347df7(0x80e)](_0x289d45);_0x3735e9[_0x347df7(0x1d0)](_0x367f31,{'layout':this[_0x347df7(0x1ca)]});}else _0x3735e9[_0x347df7(0x40c)]({'layout':this[_0x347df7(0x1ca)]});}catch(_0x1e623f){throw new _0x21720d(_0x11ce35['KeyValueDatabaseNotOpen'],_0x1e623f[_0x347df7(0x52f)]||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x347df7(0x366)](),this['setOnMessageHandler'](),this[_0x347df7(0x477)](),_0x47f912[_0x347df7(0x57b)](_0x84aabf=>this['deleteTransactionsForTable'](_0x84aabf));}async[_0x2d5ee2(0x6dd)](_0x568a52,_0x95a99f){const _0xa06398=_0x2d5ee2;_0x568a52?(this['timeoutCallback']=_0x95a99f,this['syncTimeout']=setTimeout(_0x95a99f,_0x3d3ebb),this['systemTopic'][_0xa06398(0xef)]({'sourceId':this[_0xa06398(0x5b9)][_0xa06398(0x7bf)](),'destinationIds':[_0x568a52],'messageType':_0xa1c806[_0xa06398(0x2f6)],'content':{'type':_0xdecfb9['RequestSyncKeyValueDatabase'],'label':this[_0xa06398(0x5a5)]}}),await this[_0xa06398(0x470)]):setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0);}async[_0x2d5ee2(0x53e)](_0x17dc4d){const _0x3e28cc=_0x2d5ee2;if(!this['transactionTable'])throw new _0x177832(_0x177832['codes'][_0x3e28cc(0x529)]);await this[_0x3e28cc(0x470)];const _0x1cfaf8=await this[_0x3e28cc(0x41e)][_0x3e28cc(0x25a)]();this[_0x3e28cc(0x319)]['publish']({'sourceId':this[_0x3e28cc(0x5b9)][_0x3e28cc(0x7bf)](),'destinationIds':[_0x17dc4d],'messageType':_0xa1c806[_0x3e28cc(0x2f6)],'content':{'type':_0xdecfb9['SendTransactionsDump'],'label':this[_0x3e28cc(0x5a5)],'transactions':_0x1cfaf8}});}async['processTransactionsDump'](_0x5a0449,_0x463844){const _0x51a82f=_0x2d5ee2;if(!this[_0x51a82f(0x41e)])throw new _0x177832(_0x177832[_0x51a82f(0x492)][_0x51a82f(0x529)]);this[_0x51a82f(0x21c)]();const _0x58261d=await this['transactionTable'][_0x51a82f(0x25a)]();for(const _0x1780a9 of _0x58261d){const _0x44fde2=_0x463844[_0x51a82f(0x76e)](_0x4de111=>_0x4de111['id']===_0x1780a9['id']);if(_0x44fde2&&this['compareTransactions'](_0x1780a9,_0x44fde2)<=0x0)continue;const [_0x54058b,_0x50e31e]=_0x1780a9['id']['split']('::'),_0x2d5823=this['tables']['get'](_0x54058b),_0x2c0198=await _0x2d5823?.['get'](_0x50e31e);_0x1780a9['value']=_0x2c0198,this[_0x51a82f(0x23a)](_0x1780a9);}for(const _0x1bc1ef of _0x463844){const _0x5a15ab=await this[_0x51a82f(0x41e)][_0x51a82f(0x548)](_0x1bc1ef['id']);if(!(_0x5a15ab&&this[_0x51a82f(0x316)](_0x1bc1ef,_0x5a15ab)<=0x0)){if(_0x1bc1ef[_0x51a82f(0x389)]===_0x53d193[_0x51a82f(0x82c)]){const [_0x367c69,_0x4b6707]=_0x1bc1ef['id'][_0x51a82f(0x4c3)]('::'),_0x20e6a1=this['tables'][_0x51a82f(0x548)](_0x367c69);await _0x20e6a1?.[_0x51a82f(0x201)](_0x4b6707,!0x1);}else this[_0x51a82f(0x520)][_0x51a82f(0x80e)](_0x1bc1ef['id']);}}if(0x0===this[_0x51a82f(0x520)]['length'])return this[_0x51a82f(0x21c)](),void this[_0x51a82f(0x207)]();this[_0x51a82f(0x569)]=setTimeout(this[_0x51a82f(0x538)],_0x3d3ebb),this[_0x51a82f(0x319)][_0x51a82f(0xef)]({'sourceId':this[_0x51a82f(0x5b9)][_0x51a82f(0x7bf)](),'destinationIds':[_0x5a0449],'messageType':_0xa1c806[_0x51a82f(0x2f6)],'content':{'type':_0xdecfb9[_0x51a82f(0x659)],'label':this[_0x51a82f(0x5a5)],'transactionIds':this[_0x51a82f(0x520)]}});}async[_0x2d5ee2(0x69d)](_0x3a4a73,_0x31dee9){const _0x1ca56c=_0x2d5ee2;if(!this[_0x1ca56c(0x41e)])throw new _0x177832(_0x177832[_0x1ca56c(0x492)][_0x1ca56c(0x529)]);for(const _0x48175a of _0x31dee9){const _0x1c6549=await this[_0x1ca56c(0x41e)][_0x1ca56c(0x548)](_0x48175a);if(!_0x1c6549)continue;const [_0x3491c7,_0x59ab03]=_0x48175a['split']('::'),_0x4dea40=this['tables'][_0x1ca56c(0x548)](_0x3491c7),_0x193e35=await _0x4dea40?.[_0x1ca56c(0x548)](_0x59ab03);_0x1c6549[_0x1ca56c(0x161)]=_0x193e35,this[_0x1ca56c(0x23a)](_0x1c6549,[_0x3a4a73]);}}async[_0x2d5ee2(0x4b1)](_0x32aa31){const _0x5431df=_0x2d5ee2;if(!this['transactionTable'])throw new _0x177832(_0x177832[_0x5431df(0x492)][_0x5431df(0x529)]);const _0x16d9cf=await this[_0x5431df(0x41e)][_0x5431df(0x548)](_0x32aa31['id']);if(_0x16d9cf&&this[_0x5431df(0x316)](_0x32aa31,_0x16d9cf)<=0x0)return;const _0x220ed0={..._0x32aa31};return delete _0x220ed0[_0x5431df(0x161)],await this['transactionTable'][_0x5431df(0x1d0)](_0x32aa31['id'],_0x220ed0),_0x32aa31;}['compareTransactions'](_0xf45dae,_0x36417b){const _0x23b57a=_0x2d5ee2;return _0xf45dae[_0x23b57a(0x121)]<_0x36417b[_0x23b57a(0x121)]?-0x1:_0xf45dae[_0x23b57a(0x121)]>_0x36417b[_0x23b57a(0x121)]?0x1:_0xf45dae[_0x23b57a(0x6c8)]-_0x36417b['priority'];}async[_0x2d5ee2(0x7ea)](_0x1d84df){const _0x53d4c1=_0x2d5ee2;if(!this[_0x53d4c1(0x41e)])throw new _0x177832(_0x177832['codes'][_0x53d4c1(0x529)]);const _0x35675e=_0x1d84df[_0x53d4c1(0x166)]+'::'+_0x1d84df[_0x53d4c1(0x474)],_0x4157ad=await _0x5b16bc[_0x53d4c1(0x311)](),_0x2d0488={'id':_0x35675e,'priority':Math[_0x53d4c1(0x65a)](),'timestamp':_0x4157ad,'action':_0x1d84df[_0x53d4c1(0x389)]};if(await this[_0x53d4c1(0x4b1)](_0x2d0488))return _0x2d0488;}async[_0x2d5ee2(0x315)](_0x24e691){const _0x7c258c=_0x2d5ee2;if(!this[_0x7c258c(0x41e)])throw new _0x177832(_0x177832[_0x7c258c(0x492)][_0x7c258c(0x529)]);const _0x13c365=_0x3adf1d['index']('id')[_0x7c258c(0x441)](_0x7c258c(0x6eb),[_0x24e691+'::',_0x24e691+'::￿']),_0x56d354=await this[_0x7c258c(0x41e)][_0x7c258c(0x25a)](_0x13c365[_0x7c258c(0x40e)]());for(const _0x34a6dc of _0x56d354)await this['transactionTable']['delete'](_0x34a6dc['id']);}[_0x2d5ee2(0x798)](){this['onMessage'](async(_0x34705f,_0xcfee27)=>{const _0x5083e8=a0_0x5322;if(_0xcfee27 instanceof File)return;if(!await this['writeTransaction'](_0xcfee27))return void this['checkSyncComplete'](_0xcfee27);if(!_0xcfee27[_0x5083e8(0x161)])throw new _0x177832(_0x177832[_0x5083e8(0x492)][_0x5083e8(0x5d5)]);const [_0xe72346,_0x1fb27e]=_0xcfee27['id'][_0x5083e8(0x4c3)]('::'),_0x195588=this[_0x5083e8(0x310)][_0x5083e8(0x548)](_0xe72346);if(!_0x195588)throw new _0x177832(_0x177832[_0x5083e8(0x492)][_0x5083e8(0x77f)],{'table':_0x195588});let _0x420ef9=0x0;switch(_0xcfee27['action']){case _0x53d193[_0x5083e8(0x5c5)]:case _0x53d193[_0x5083e8(0x210)]:{const _0x5e0fbc=_0x195588[_0x5083e8(0x1d0)](_0x1fb27e,_0xcfee27[_0x5083e8(0x161)],!0x1);_0x420ef9=JSON[_0x5083e8(0x779)](_0xcfee27[_0x5083e8(0x161)])[_0x5083e8(0x68c)],this[_0x5083e8(0x520)]['includes'](_0xcfee27['id'])&&this[_0x5083e8(0x832)][_0x5083e8(0x80e)](_0x5e0fbc);break;}case _0x53d193[_0x5083e8(0x82c)]:{const _0x3a4962=_0x195588[_0x5083e8(0x201)](_0x1fb27e,!0x1);this[_0x5083e8(0x520)][_0x5083e8(0x51a)](_0xcfee27['id'])&&this[_0x5083e8(0x832)][_0x5083e8(0x80e)](_0x3a4962);break;}}_0x4b7920[_0x5083e8(0x46c)](_0x1077b6[_0x5083e8(0x830)],{'type':_0x5083e8(0x6dd),'label':this[_0x5083e8(0x5a5)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5083e8(0x5b9)][_0x5083e8(0x2f5)],'clusterId':this[_0x5083e8(0x2dd)],'tableName':_0xe72346,'key':_0x1fb27e,'size':_0x420ef9}),this[_0x5083e8(0x602)](_0xcfee27);});}[_0x2d5ee2(0x477)](){const _0x268d44=_0x2d5ee2;this[_0x268d44(0x423)]=this[_0x268d44(0x5b0)][_0x268d44(0x21a)](async _0x1507a4=>{const _0x7bdfa3=_0x268d44;let _0x49a05e=0x0;switch(_0x1507a4[_0x7bdfa3(0x389)]){case _0x53d193[_0x7bdfa3(0x5c5)]:case _0x53d193[_0x7bdfa3(0x210)]:case _0x53d193[_0x7bdfa3(0x82c)]:{const _0xfb3f66=await this['getTransactionFromTableWriteEvent'](_0x1507a4);if(!_0xfb3f66)return;_0xfb3f66[_0x7bdfa3(0x161)]=_0x1507a4[_0x7bdfa3(0x161)],this[_0x7bdfa3(0x23a)](_0xfb3f66),_0x49a05e=JSON[_0x7bdfa3(0x779)](_0x1507a4[_0x7bdfa3(0x161)])[_0x7bdfa3(0x68c)],this[_0x7bdfa3(0x15b)]+=0x1;break;}case _0x3e0b5b[_0x7bdfa3(0x3e6)]:case _0x3e0b5b['List']:case _0x3e0b5b[_0x7bdfa3(0x21f)]:this['reads']+=0x1;}_0x4b7920['logServiceEvent'](_0x1077b6[_0x7bdfa3(0x830)],{'type':_0x1507a4['action'],'label':this[_0x7bdfa3(0x5a5)],'nodeId':this[_0x7bdfa3(0x5b9)][_0x7bdfa3(0x7bf)](),'nodeType':this[_0x7bdfa3(0x5b9)]['type'],'clusterId':this[_0x7bdfa3(0x2dd)],'tableName':_0x1507a4[_0x7bdfa3(0x166)],'key':_0x1507a4[_0x7bdfa3(0x474)],'size':_0x49a05e}),this[_0x7bdfa3(0x556)]();});}[_0x2d5ee2(0x366)](){const _0x32bf96=_0x2d5ee2;this['db']&&(this['transactionTable']||(this[_0x32bf96(0x41e)]=this['db'][_0x32bf96(0x76b)](_0x420d46)));}[_0x2d5ee2(0x21c)](){const _0x5c80f0=_0x2d5ee2;this[_0x5c80f0(0x569)]&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}[_0x2d5ee2(0x207)](){const _0x2ff26b=_0x2d5ee2;this[_0x2ff26b(0x5b5)][_0x2ff26b(0xef)]({'event':_0x3f2cd3[_0x2ff26b(0x846)]['SyncComplete']}),this['syncResolve']?.(!0x0),delete this[_0x2ff26b(0x400)],this[_0x2ff26b(0x556)]();}async[_0x2d5ee2(0x2c6)](){const _0x25279a=_0x2d5ee2;await Promise[_0x25279a(0x2dc)](this[_0x25279a(0x832)]),this[_0x25279a(0x207)]();}['checkSyncComplete'](_0x4b42dc){const _0x4ced90=_0x2d5ee2;this[_0x4ced90(0x520)][_0x4ced90(0x51a)](_0x4b42dc['id'])&&(this[_0x4ced90(0x21c)](),this[_0x4ced90(0x520)]=this[_0x4ced90(0x520)][_0x4ced90(0x2e4)](_0x4886e4=>_0x4886e4!==_0x4b42dc['id']),0x0!==this[_0x4ced90(0x520)][_0x4ced90(0x68c)]?this[_0x4ced90(0x569)]=setTimeout(this[_0x4ced90(0x538)],_0x3d3ebb):this[_0x4ced90(0x2c6)]());}[_0x2d5ee2(0x556)](){const _0x3f0a26=_0x2d5ee2;this[_0x3f0a26(0x596)]&&clearTimeout(this[_0x3f0a26(0x596)]),this[_0x3f0a26(0x596)]=setTimeout(async()=>{const _0x85b318=_0x3f0a26;delete this[_0x85b318(0x596)];let _0x12415d=0x0;for(const _0x228d9e of this[_0x85b318(0x310)]['values']())_0x12415d+=await _0x228d9e[_0x85b318(0x18e)]();this[_0x85b318(0x319)][_0x85b318(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x85b318(0x2f6)],'content':{'type':_0xdecfb9[_0x85b318(0x206)],'label':this[_0x85b318(0x5a5)],'stats':{'timestamp':Date[_0x85b318(0x191)](),'storage':_0x12415d,'messagesSent':this[_0x85b318(0x608)],'messagesReceived':this[_0x85b318(0x235)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x85b318(0x84b)],'writes':this[_0x85b318(0x15b)],'reads':this[_0x85b318(0x12c)],'prompts':0x0,'tokens':0x0}}}),_0x4b7920[_0x85b318(0x19c)](_0x1077b6['KeyValueDatabase'],_0x85b318(0x61f)+this[_0x85b318(0x2dd)]+_0x85b318(0x61f)+this[_0x85b318(0x5a5)],_0x12415d);},0x1388);}[_0x2d5ee2(0x3a3)](_0x2f44ab){const _0x588902=_0x2d5ee2;if(_0x2f44ab['tables'][_0x420d46])throw new _0x21720d(_0x11ce35[_0x588902(0x5b2)],_0x588902(0x771)+_0x420d46+'\x27\x20reserved');if(_0x2f44ab[_0x588902(0x310)][_0x3b6078])throw new _0x21720d(_0x11ce35[_0x588902(0x5b2)],_0x588902(0x771)+_0x3b6078+_0x588902(0x85b));_0x2f44ab[_0x588902(0x310)][_0x420d46]={'indexes':[]},_0x2f44ab[_0x588902(0x310)][_0x3b6078]={'indexes':[]};}}const _0x17c9c9=require('@crewdle/mist-connector-opfs'),_0x2d0970=require('@crewdle/mist-connector-indexed-db'),_0x31833d=require('@crewdle/mist-connector-webrtc-browser'),_0x3501da=0x1fc00000;var _0x931929,_0x5497ef,_0x274822,_0xf7c085,_0x2a4e6e,_0x3ace80,_0x35a44e,_0x34f061,_0x43e09e;!function(_0x2b3651){const _0x3b077c=_0x2d5ee2;_0x2b3651['AudioContext']=_0x3b077c(0x18c),_0x2b3651['AudioOutput']=_0x3b077c(0x6ba),_0x2b3651[_0x3b077c(0x794)]=_0x3b077c(0x794),_0x2b3651[_0x3b077c(0x68a)]=_0x3b077c(0x68a),_0x2b3651[_0x3b077c(0x35e)]=_0x3b077c(0x35e),_0x2b3651['MediaStream']=_0x3b077c(0x83c),_0x2b3651[_0x3b077c(0x118)]=_0x3b077c(0x118),_0x2b3651[_0x3b077c(0x2c7)]=_0x3b077c(0x2c7),_0x2b3651[_0x3b077c(0x5ac)]='WebGL',_0x2b3651['WebRTC']=_0x3b077c(0x40f);}(_0x931929||(_0x931929={}));class _0x3173eb{[_0x2d5ee2(0x399)];[_0x2d5ee2(0x749)];[_0x2d5ee2(0x2f0)];constructor(_0x5dae6a=new Map(),_0x3d115c=new Map(),_0x2de62d=new EventTarget()){const _0x3dd7e9=_0x2d5ee2;this[_0x3dd7e9(0x399)]=_0x5dae6a,this[_0x3dd7e9(0x749)]=_0x3d115c,this[_0x3dd7e9(0x2f0)]=_0x2de62d;}[_0x2d5ee2(0x62b)]=(_0x4a3303,_0x4b5739)=>this[_0x2d5ee2(0x399)][_0x2d5ee2(0x2b3)](_0x4a3303)?(_0x4b7920[_0x2d5ee2(0x5f9)](_0x27d952['Events'],_0x2d5ee2(0x7bb),{'event':_0x4a3303,'data':_0x4b5739}),this[_0x2d5ee2(0x2f0)]['dispatchEvent'](new CustomEvent(_0x4a3303,{'detail':_0x4b5739})),!0x0):(this[_0x2d5ee2(0x1a2)](_0x4a3303,_0x4b5739),!0x1);['on']=(_0x2fe887,_0x456f8a)=>{const _0x4b1e97=_0x2d5ee2,_0x4f283d=_0x360b7d=>{const _0x2e0109=a0_0x5322;_0x4b7920[_0x2e0109(0x5f9)](_0x27d952[_0x2e0109(0x185)],_0x2e0109(0x2fa),_0x360b7d[_0x2e0109(0x2f5)],_0x360b7d[_0x2e0109(0xa5)]),_0x456f8a(_0x360b7d[_0x2e0109(0xa5)]);};return this[_0x4b1e97(0x399)][_0x4b1e97(0x1d0)](_0x2fe887,_0x4f283d),this['eventTarget'][_0x4b1e97(0x551)](_0x2fe887,_0x4f283d),_0x4b7920['log'](_0x27d952[_0x4b1e97(0x28b)],'Subscribing\x20to\x20an\x20event:\x20on',_0x2fe887,_0x456f8a),this['consumeBufferedEvents'](_0x2fe887),this;};[_0x2d5ee2(0x58c)](_0x3e3f1b){const _0x43d1df=_0x2d5ee2;if(!_0x3e3f1b)return this[_0x43d1df(0x399)][_0x43d1df(0x57b)]((_0x230993,_0x13290e)=>{const _0x5265f9=_0x43d1df;this['eventTarget'][_0x5265f9(0x227)](_0x13290e,_0x230993);}),void this['registeredListeners'][_0x43d1df(0x63e)]();_0x43d1df(0x69a)==typeof _0x3e3f1b&&this[_0x43d1df(0x3d0)](_0x3e3f1b),Array[_0x43d1df(0x547)](_0x3e3f1b)&&_0x3e3f1b['forEach'](_0x54dfef=>{const _0xcb481e=_0x43d1df;this[_0xcb481e(0x3d0)](_0x54dfef);});}[_0x2d5ee2(0x3d0)](_0x221721){const _0x113044=_0x2d5ee2,_0xd32e71=this[_0x113044(0x399)][_0x113044(0x548)](_0x221721);_0xd32e71&&(this['eventTarget']['removeEventListener'](_0x221721,_0xd32e71),this['registeredListeners']['delete'](_0x221721));}[_0x2d5ee2(0x1a2)](_0x119d7c,_0x3043e4){const _0x48747c=_0x2d5ee2;_0x4b7920['log'](_0x27d952[_0x48747c(0x185)],_0x48747c(0x182),{'event':_0x119d7c,'data':_0x3043e4});const _0x587b15=this['bufferedEvents']['get'](_0x119d7c)||[];this[_0x48747c(0x749)][_0x48747c(0x1d0)](_0x119d7c,[..._0x587b15,_0x3043e4]);}['consumeBufferedEvents'](_0x308caf){const _0x3f7932=_0x2d5ee2,_0x2cc250=this['bufferedEvents'][_0x3f7932(0x548)](_0x308caf);_0x2cc250&&(_0x2cc250[_0x3f7932(0x57b)](_0x186e98=>{const _0x261d15=_0x3f7932;_0x4b7920['log'](_0x27d952[_0x261d15(0x185)],'Consuming\x20buffered\x20event',{'event':_0x308caf,'data':_0x186e98}),this[_0x261d15(0x2f0)]['dispatchEvent'](new CustomEvent(_0x308caf,{'detail':_0x186e98}));}),this['bufferedEvents'][_0x3f7932(0x201)](_0x308caf));}}class _0x35d823 extends Error{constructor(_0x2602c1){super('Early\x20return:\x20'+_0x2602c1);}}!function(_0x216327){const _0x3b99c6=_0x2d5ee2;_0x216327[_0x216327[_0x3b99c6(0x24d)]=0x0]=_0x3b99c6(0x24d),_0x216327[_0x216327[_0x3b99c6(0x650)]=0x1]=_0x3b99c6(0x650);}(_0x5497ef||(_0x5497ef={})),function(_0x5012c8){const _0xf59346=_0x2d5ee2;_0x5012c8[_0x5012c8[_0xf59346(0x3c5)]=0x0]='Offer',_0x5012c8[_0x5012c8[_0xf59346(0x356)]=0x1]=_0xf59346(0x356),_0x5012c8[_0x5012c8['Handshake']=0x2]=_0xf59346(0x72c),_0x5012c8[_0x5012c8[_0xf59346(0x397)]=0x3]=_0xf59346(0x397),_0x5012c8[_0x5012c8[_0xf59346(0x412)]=0x4]=_0xf59346(0x412),_0x5012c8[_0x5012c8['Restart']=0x5]=_0xf59346(0x654),_0x5012c8[_0x5012c8[_0xf59346(0x2da)]=0x6]=_0xf59346(0x2da),_0x5012c8[_0x5012c8[_0xf59346(0x57f)]=0x7]=_0xf59346(0x57f),_0x5012c8[_0x5012c8[_0xf59346(0x63d)]=0x8]=_0xf59346(0x63d);}(_0x274822||(_0x274822={})),function(_0x2b6a1d){const _0x4b9b35=_0x2d5ee2;_0x2b6a1d[_0x2b6a1d[_0x4b9b35(0x5c4)]=0x0]=_0x4b9b35(0x5c4),_0x2b6a1d[_0x2b6a1d['Receiver']=0x1]='Receiver';}(_0xf7c085||(_0xf7c085={})),function(_0x247aaa){const _0x3ff9fd=_0x2d5ee2;_0x247aaa[_0x3ff9fd(0x83c)]='media-stream';}(_0x2a4e6e||(_0x2a4e6e={})),function(_0x343fa4){const _0x1345e1=_0x2d5ee2;_0x343fa4[_0x343fa4[_0x1345e1(0xf9)]=0x0]='NodeJoin',_0x343fa4[_0x343fa4[_0x1345e1(0x624)]=0x1]=_0x1345e1(0x624),_0x343fa4[_0x343fa4[_0x1345e1(0x3e0)]=0x2]='NodeConnectionsUpdate',_0x343fa4[_0x343fa4[_0x1345e1(0x5f0)]=0x3]=_0x1345e1(0x5f0);}(_0x3ace80||(_0x3ace80={})),function(_0x321ff2){const _0x3ce507=_0x2d5ee2;_0x321ff2[_0x321ff2[_0x3ce507(0x28c)]=0x0]='Remediation',_0x321ff2[_0x321ff2['RemoteRemediation']=0x1]=_0x3ce507(0x398);}(_0x35a44e||(_0x35a44e={})),function(_0x53b06b){const _0xe6be5e=_0x2d5ee2;_0x53b06b[_0xe6be5e(0x6ff)]=_0xe6be5e(0x74a),_0x53b06b[_0xe6be5e(0x223)]=_0xe6be5e(0x5de);}(_0x34f061||(_0x34f061={})),function(_0x194a63){const _0x2817b3=_0x2d5ee2;_0x194a63['Resolution']=_0x2817b3(0x861),_0x194a63[_0x2817b3(0x535)]=_0x2817b3(0x38c);}(_0x43e09e||(_0x43e09e={}));const _0x4019bf=require('aws-amplify'),_0x413c1c=require('aws-amplify/utils'),_0x5973d2=require('@aws-amplify/api'),_0x3eea69=require('@aws-amplify/core');class _0x30b57e{[_0x2d5ee2(0x2dd)];[_0x2d5ee2(0x5b9)];[_0x2d5ee2(0x7fc)];constructor(_0x5bfc73,_0x200ac3,_0x25cff6){const _0x44d116=_0x2d5ee2;this[_0x44d116(0x2dd)]=_0x5bfc73,this[_0x44d116(0x5b9)]=_0x200ac3,this[_0x44d116(0x7fc)]=_0x25cff6;}[_0x2d5ee2(0x1bc)](){const _0x4ca5f1=_0x2d5ee2;return this[_0x4ca5f1(0x5b9)][_0x4ca5f1(0x7bf)]();}[_0x2d5ee2(0x149)](){const _0x409178=_0x2d5ee2;return this[_0x409178(0x7fc)];}}var _0x4fde6e,_0x26d73b,_0x16347b;function _0x379291(_0x5f1022,_0x10ff28){const _0x5034af=_0x2d5ee2;return _0x5f1022[_0x5034af(0x51e)]===_0x10ff28;}function _0x10c135(_0x13ec65,_0x4c8121){return _0x13ec65['destinationIds']?.['includes'](_0x4c8121)??function(_0x88f5ff){const _0x254f34=a0_0x5322;return void 0x0===_0x88f5ff[_0x254f34(0x449)];}(_0x13ec65);}function _0x3b023c(_0x3997dc,{contentType:_0x154cd6,label:_0x1c0ee9,remoteId:_0x265021}){return _0x3997dc+'-'+_0x154cd6+'-'+_0x1c0ee9+'-'+_0x265021;}function _0x2a6e2(_0x29f756,_0x16f587,_0x45eb9a){return''+_0x29f756+_0x16f587+_0x45eb9a;}function _0xaaf596(_0x4add29){const _0x3ac04a=_0x2d5ee2;return _0x4add29===_0x26d73b[_0x3ac04a(0x570)]?_0x3ac04a(0x594):'OutgoingSubscription';}function _0x49d23f(_0x1f7d0e,_0x32c6fa){const _0x4e2a54=_0x2d5ee2;return{'label':_0x1f7d0e[_0x4e2a54(0x168)](),'contentType':_0x1f7d0e[_0x4e2a54(0x813)](),'remoteId':_0x32c6fa[_0x4e2a54(0x149)](),'supportsContentType':_0x32c6fa[_0x4e2a54(0x3bd)]()[_0x4e2a54(0x51a)](_0x1f7d0e['getContentType']())};}!function(_0x5abf90){const _0x1d5273=_0x2d5ee2;_0x5abf90[_0x5abf90[_0x1d5273(0x56a)]=0x0]='Waiting',_0x5abf90[_0x5abf90[_0x1d5273(0x1a9)]=0x1]=_0x1d5273(0x1a9),_0x5abf90[_0x5abf90[_0x1d5273(0x49a)]=0x2]=_0x1d5273(0x49a);}(_0x4fde6e||(_0x4fde6e={})),function(_0x59a1d1){const _0x5d01af=_0x2d5ee2;_0x59a1d1['Incoming']='in',_0x59a1d1['Outgoing']=_0x5d01af(0x250);}(_0x26d73b||(_0x26d73b={}));class _0x2cf9e1{[_0x2d5ee2(0x758)];[_0x2d5ee2(0x83b)];constructor(_0x3de881,_0x1e42ca){const _0x2f2132=_0x2d5ee2;this[_0x2f2132(0x758)]=_0x3de881,this[_0x2f2132(0x83b)]=_0x1e42ca;}['call'](_0x14366c){const _0x3b3813=_0x2d5ee2;this[_0x3b3813(0x758)](_0x14366c);}async['wait'](){const _0x18ae6f=_0x2d5ee2;await this[_0x18ae6f(0x83b)]();}}class _0x3e1d9d{[_0x2d5ee2(0x758)];[_0x2d5ee2(0x83b)];constructor(_0x15026d,_0x120196){const _0x2015f3=_0x2d5ee2;this[_0x2015f3(0x758)]=_0x15026d,this[_0x2015f3(0x83b)]=_0x120196;}async[_0x2d5ee2(0x811)](_0x4fb451){const _0xdec719=_0x2d5ee2;await this[_0xdec719(0x758)](_0x4fb451);}async[_0x2d5ee2(0x84a)](){await this['retryCallback']();}}function _0x3660bb(_0x299cf9=()=>{},_0x4629ad=()=>!0x1,_0x4ebc39=()=>{}){let _0x26a974,_0x5d1d1d,_0x56fed3=0x0;return{get 'size'(){return _0x56fed3;},get 'head'(){return _0x26a974;},get 'tail'(){return _0x5d1d1d;},set 'head'(_0xb12c88){_0x26a974=_0xb12c88;},set 'tail'(_0x76e2ae){_0x5d1d1d=_0x76e2ae;},'push'(_0x28ef0d,_0x588aba=!0x0){const _0x4edd49=a0_0x5322,_0x22d4a5={'value':_0x28ef0d};_0x588aba&&_0x4629ad(_0x22d4a5)?_0x299cf9():(_0x5d1d1d&&(_0x22d4a5[_0x4edd49(0x640)]=_0x5d1d1d,_0x5d1d1d['next']=_0x22d4a5),_0x5d1d1d=_0x22d4a5,_0x26a974||(_0x26a974=_0x22d4a5),_0x56fed3+=0x1,_0x588aba&&_0x299cf9());},'pop'(){const _0x250a81=a0_0x5322;if(!_0x5d1d1d)return;const _0xf34fd5=_0x5d1d1d['value'];return _0x5d1d1d=_0x5d1d1d[_0x250a81(0x640)],_0x5d1d1d&&delete _0x5d1d1d['next'],_0x5d1d1d||(_0x26a974=void 0x0),_0x56fed3-=0x1,_0xf34fd5;},'unshift'(_0x367ad7,_0x58a0e8=!0x0){const _0x29bf04=a0_0x5322,_0x3c08f0={'value':_0x367ad7};_0x58a0e8&&_0x4629ad(_0x3c08f0)?_0x299cf9():(_0x26a974&&(_0x26a974[_0x29bf04(0x640)]=_0x3c08f0,_0x3c08f0['next']=_0x26a974),_0x26a974=_0x3c08f0,_0x5d1d1d||(_0x5d1d1d=_0x3c08f0),_0x56fed3+=0x1,_0x58a0e8&&_0x299cf9());},'shift'(){const _0x2ecb1f=a0_0x5322;if(!_0x26a974)return;const _0x2101c9=_0x26a974[_0x2ecb1f(0x161)];return _0x26a974=_0x26a974[_0x2ecb1f(0x81d)],_0x26a974&&delete _0x26a974[_0x2ecb1f(0x640)],_0x26a974||(_0x5d1d1d=void 0x0),_0x56fed3-=0x1,_0x2101c9;},'clear'(){_0x4ebc39(),_0x26a974=void 0x0,_0x5d1d1d=void 0x0,_0x56fed3=0x0;}};}function _0x39f446(_0x3d739c,_0x44456a=!0x1,_0xa22041=()=>{},_0x176598=()=>!0x1,_0x5a4092=()=>{}){let _0x2841c4=!0x1;const _0x813ed2=_0x3660bb(async function(){const _0x437145=a0_0x5322;if(!_0x2841c4){for(_0x2841c4=!0x0;_0x813ed2['head'];){const _0x57e1bb=_0x813ed2[_0x437145(0x6bb)]();if(_0x57e1bb)try{_0x3d739c instanceof _0x2cf9e1&&_0x3d739c['call'](_0x57e1bb),_0x3d739c instanceof _0x3e1d9d&&await _0x3d739c['call'](_0x57e1bb),_0xa22041(_0x57e1bb);}catch(_0x2a111b){_0x44456a?_0x813ed2[_0x437145(0x80e)](_0x57e1bb,!0x1):_0x813ed2[_0x437145(0x124)](_0x57e1bb,!0x1),await _0x3d739c[_0x437145(0x84a)]();}}_0x2841c4=!0x1;}},_0x176598,_0x5a4092);return _0x813ed2;}class _0x5ea135 extends _0x30b57e{[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x238)];['connectionState']=_0x5973d2[_0x2d5ee2(0x51c)]['Disconnected'];[_0x2d5ee2(0x355)]=_0x2428fd();[_0x2d5ee2(0x49f)]=_0x368dbe();[_0x2d5ee2(0x24f)];[_0x2d5ee2(0x4e6)];['retryQueue']=_0x39f446(new _0x3e1d9d(this['sendAction'][_0x2d5ee2(0x13b)](this),this['waitConnected'][_0x2d5ee2(0x13b)](this)));[_0x2d5ee2(0x55a)];constructor(_0x4199bf,_0x318da5,_0x35c6da,_0x58d0d1,_0x313c2c){const _0x53e7cc=_0x2d5ee2;super(_0x318da5,_0x35c6da,_0x58d0d1),this[_0x53e7cc(0x52a)]=_0x4199bf,this['authService']=_0x313c2c;}async[_0x2d5ee2(0x5bf)](){const _0x936cb0=_0x2d5ee2;try{const _0x5cfa8e={'getTokens':async()=>{const _0x1bd94b=a0_0x5322,_0x69a269=await this[_0x1bd94b(0x238)][_0x1bd94b(0x784)]();return{'accessToken':(0x0,_0x3eea69['decodeJWT'])(_0x69a269),'idToken':(0x0,_0x3eea69[_0x1bd94b(0x6ea)])(_0x69a269)};}};_0x4019bf[_0x936cb0(0x39f)][_0x936cb0(0x707)]({'API':{'GraphQL':{'endpoint':_0x3b7010[_0x936cb0(0x6ab)][_0x936cb0(0x5dd)],'region':_0x3b7010['aws'][_0x936cb0(0x791)],'defaultAuthMode':_0x936cb0(0x816)}}},{'Auth':{'tokenProvider':_0x5cfa8e}}),this[_0x936cb0(0x55a)]=(0x0,_0x5973d2[_0x936cb0(0x4ce)])(),await this[_0x936cb0(0x21a)](),this[_0x936cb0(0x4e6)]=_0x413c1c['Hub'][_0x936cb0(0x37a)](_0x936cb0(0x30c),async({payload:_0x498b10})=>{const _0x3d189f=_0x936cb0;if(_0x498b10[_0x3d189f(0x11a)]===_0x5973d2['CONNECTION_STATE_CHANGE']){const _0x48ea4e=_0x498b10['data'];this['connectionState']=_0x48ea4e[_0x3d189f(0x789)],this[_0x3d189f(0x355)][_0x3d189f(0xef)](_0x48ea4e[_0x3d189f(0x789)]),this[_0x3d189f(0x789)]===_0x5973d2['ConnectionState']['Disconnected']?(_0x4b7920['error'](_0x3d189f(0x213),{'clusterId':this[_0x3d189f(0x2dd)],'nodeId':this[_0x3d189f(0x1bc)](),'nodeType':this[_0x3d189f(0x5b9)][_0x3d189f(0x2f5)]}),this[_0x3d189f(0x582)](),this[_0x3d189f(0x5bf)]()):this['connectionState']===_0x5973d2['ConnectionState'][_0x3d189f(0x439)]?_0x4b7920[_0x3d189f(0x17e)](_0x3d189f(0x67a),{'clusterId':this[_0x3d189f(0x2dd)],'nodeId':this['getLocalId'](),'nodeType':this[_0x3d189f(0x5b9)]['type']}):_0x4b7920[_0x3d189f(0x17e)](_0x3d189f(0x743),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x3d189f(0x5b9)][_0x3d189f(0x2f5)],'data':{'state':_0x48ea4e[_0x3d189f(0x789)]}});}});}catch(_0x2c3382){_0x4b7920[_0x936cb0(0x626)](_0x936cb0(0x136),{'clusterId':this[_0x936cb0(0x2dd)],'nodeId':this[_0x936cb0(0x1bc)](),'nodeType':this[_0x936cb0(0x5b9)]['type']});}}[_0x2d5ee2(0x582)](){const _0xfc16f=_0x2d5ee2;_0x4b7920[_0xfc16f(0x17e)](_0xfc16f(0x3b0),{'clusterId':this[_0xfc16f(0x2dd)],'nodeId':this[_0xfc16f(0x1bc)](),'nodeType':this[_0xfc16f(0x5b9)][_0xfc16f(0x2f5)]}),this['retryQueue'][_0xfc16f(0x63e)](),this['listenUnsubscriber']?.(),this['subscription']?.[_0xfc16f(0x5ee)](),delete this['subscription'];}[_0x2d5ee2(0x125)](){const _0x58b25e=_0x2d5ee2;return this['connectionState']===_0x5973d2[_0x58b25e(0x51c)][_0x58b25e(0x439)];}[_0x2d5ee2(0x23a)](_0x11a94d){const _0x4af883=_0x2d5ee2;this[_0x4af883(0x1fc)][_0x4af883(0x80e)](_0x11a94d);}[_0x2d5ee2(0xc9)](_0x149107){const _0x356b0b=_0x2d5ee2;return this['messageListeners'][_0x356b0b(0x21a)](_0x149107);}['getSupportedContentTypes'](){const _0x29da78=_0x2d5ee2;return[_0x3f2cd3[_0x29da78(0x1f9)][_0x29da78(0x3b7)]];}async[_0x2d5ee2(0x408)](){const _0x4c4433=_0x2d5ee2;if(!this[_0x4c4433(0x125)]())return new Promise(_0x4d26d8=>{const _0x3f5057=_0x4c4433,_0xc47829=this[_0x3f5057(0x355)]['subscribe'](_0x5d5e74=>{const _0x3a837d=_0x3f5057;_0x5d5e74===_0x5973d2[_0x3a837d(0x51c)][_0x3a837d(0x439)]&&(_0xc47829(),_0x4d26d8());});});}async['sendAction'](_0x246e25){const _0x3e5f1a=_0x2d5ee2;if(this['connectionState']!==_0x5973d2['ConnectionState'][_0x3e5f1a(0x439)])throw new Error(_0x3e5f1a(0x16e));_0x246e25['destinationIds']&&0x1===_0x246e25[_0x3e5f1a(0x449)]['length']?await this[_0x3e5f1a(0xef)](_0x246e25[_0x3e5f1a(0x449)][0x0],JSON[_0x3e5f1a(0x779)](_0x246e25)):_0x4b7920[_0x3e5f1a(0x626)](_0x3e5f1a(0x4c1),{'clusterId':this[_0x3e5f1a(0x2dd)],'nodeId':this[_0x3e5f1a(0x1bc)](),'nodeType':this['localNode'][_0x3e5f1a(0x2f5)]});}async[_0x2d5ee2(0xef)](_0x2ab733,_0x2d6456){const _0x1ad446=_0x2d5ee2;if(!this[_0x1ad446(0x55a)])throw new Error('AppSync\x20client\x20not\x20ready');_0x4b7920[_0x1ad446(0x5f9)](_0x27d952[_0x1ad446(0x1b3)],_0x1ad446(0x42b),this[_0x1ad446(0x1bc)](),_0x2d6456),await this[_0x1ad446(0x55a)][_0x1ad446(0x2d4)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x1ad446(0x2cd)](_0x2ab733),'data':_0x2d6456}});}async[_0x2d5ee2(0x21a)](){const _0x4592e3=_0x2d5ee2;if(this['subscription'])return;if(!this[_0x4592e3(0x55a)])throw new Error(_0x4592e3(0x7ed));_0x4b7920[_0x4592e3(0x5f9)](_0x27d952[_0x4592e3(0x1b3)],_0x4592e3(0x24c),this[_0x4592e3(0x1bc)]());const _0x27832f=await this[_0x4592e3(0x55a)][_0x4592e3(0x2d4)]({'query':_0x4592e3(0x509),'variables':{'name':await this['getHash']()},'authToken':await this[_0x4592e3(0x238)]['getIdToken']()},{'Authorization':await this['authService'][_0x4592e3(0x784)]()});this[_0x4592e3(0x24f)]=_0x27832f[_0x4592e3(0x21a)]({'next':({data:_0xb1645b})=>{const _0x558850=_0x4592e3,_0xaa7e78=JSON[_0x558850(0x7a3)](_0xb1645b['subscribe'][_0x558850(0x252)]);!_0x379291(_0xaa7e78,this['getLocalId']())&&_0x10c135(_0xaa7e78,this['getLocalId']())&&this[_0x558850(0x49f)][_0x558850(0xef)](_0xaa7e78);},'error':console[_0x4592e3(0x5f9)]});}async[_0x2d5ee2(0x2cd)](_0x5f07fd){const _0x315ef4=_0x2d5ee2,_0x28cdb4=await crypto[_0x315ef4(0x2e2)][_0x315ef4(0x177)]('SHA-1',new TextEncoder()['encode'](this[_0x315ef4(0x52a)]+'-'+this[_0x315ef4(0x2dd)]+'-'+(_0x5f07fd??this[_0x315ef4(0x1bc)]())));return Array['from'](new Uint8Array(_0x28cdb4))[_0x315ef4(0x313)](_0x1b6ea7=>_0x1b6ea7[_0x315ef4(0x3ef)](0x10)['padStart'](0x2,'0'))[_0x315ef4(0x45e)]('');}}!function(_0x20e7ff){const _0x360a65=_0x2d5ee2;_0x20e7ff[_0x20e7ff[_0x360a65(0x5c5)]=0x0]=_0x360a65(0x5c5),_0x20e7ff[_0x20e7ff['Remove']=0x1]=_0x360a65(0xb0),_0x20e7ff[_0x20e7ff['Update']=0x2]='Update',_0x20e7ff[_0x20e7ff[_0x360a65(0x1f5)]=0x3]='RemoteAdd',_0x20e7ff[_0x20e7ff[_0x360a65(0x5db)]=0x4]=_0x360a65(0x5db);}(_0x16347b||(_0x16347b={}));const _0x40d226='0',_0x598e54=_0x2d5ee2(0x255),_0x2d495b=_0x4fdd0e,_0x6fa343=0xbe800;class _0x1586ca{[_0x2d5ee2(0x2dd)];['localNode'];[_0x2d5ee2(0x7fc)];['iceServers'];[_0x2d5ee2(0x60c)];['connectionConstructor'];[_0x2d5ee2(0x109)];[_0x2d5ee2(0x352)];['currentVersion']=0x1;[_0x2d5ee2(0x319)];['handshakeCandidates']=[];[_0x2d5ee2(0x536)]=[];[_0x2d5ee2(0x237)];constructor(_0x121d31,_0x74bbb9,_0x144280,_0x3f9504,_0x2d7728,_0x3b6ace){const _0x1db516=_0x2d5ee2;this['clusterId']=_0x121d31,this[_0x1db516(0x5b9)]=_0x74bbb9,this[_0x1db516(0x7fc)]=_0x144280,this['iceServers']=_0x3f9504,this[_0x1db516(0x60c)]=_0x2d7728,this[_0x1db516(0x848)]=_0x3b6ace,this[_0x1db516(0x109)]=new this['connectionConstructor']({'handshakeServers':this[_0x1db516(0x25f)]}),this[_0x1db516(0x523)]();}['close'](){const _0x58dbd4=_0x2d5ee2;this[_0x58dbd4(0x325)]();}['setConnectionType'](_0x2cc8d2){const _0x359b5a=_0x2d5ee2;this[_0x359b5a(0x60c)]=_0x2cc8d2;}async[_0x2d5ee2(0x471)](_0x12597f,_0x28021d){const _0x1fe093=_0x2d5ee2;if(_0x28021d===this[_0x1fe093(0x3c2)])for(const _0x2ee4bc of _0x12597f){if(!this[_0x1fe093(0x109)][_0x1fe093(0x4c0)])return this[_0x1fe093(0x4fe)](_0x2ee4bc);try{await this['connection']['addCandidate'](_0x2ee4bc);}catch(_0x5182f7){this['addPendingHandshakeCandidate'](_0x2ee4bc);}}}[_0x2d5ee2(0x125)](){const _0xaae7f7=_0x2d5ee2;return this[_0xaae7f7(0x24b)](),_0xaae7f7(0x11b)===this[_0xaae7f7(0x109)]['connectionState']&&[_0xaae7f7(0x11b),_0xaae7f7(0x728)][_0xaae7f7(0x51a)](this[_0xaae7f7(0x109)]['handshakeState'])&&'closed'!==this['connection'][_0xaae7f7(0x692)]&&'open'===this[_0xaae7f7(0x352)]?.[_0xaae7f7(0x271)];}['registerSystemPublisher'](_0x24954a){this['systemTopic']=_0x24954a;}[_0x2d5ee2(0x824)](){const _0x436a7e=_0x2d5ee2;delete this[_0x436a7e(0x319)];}['resetConnection'](_0x417d3b){const _0x17c1ba=_0x2d5ee2;this['stopConnection'](),this[_0x17c1ba(0x109)]=new this[(_0x17c1ba(0x848))]({'handshakeServers':this[_0x17c1ba(0x25f)]}),_0x417d3b?this[_0x17c1ba(0x3c2)]=_0x417d3b:this['currentVersion']+=0x1,this[_0x17c1ba(0x523)]();}['processPendingHandshakeCandidates'](){const _0x5c300c=_0x2d5ee2;this[_0x5c300c(0x536)][_0x5c300c(0x57b)](_0x226d9c=>{const _0x4740d8=_0x5c300c;try{this[_0x4740d8(0x109)]['addCandidate'](_0x226d9c);}catch(_0x52f4f1){}}),this[_0x5c300c(0x536)]=[];}[_0x2d5ee2(0x229)](_0x391798,_0x5c5f15){const _0x547f26=_0x2d5ee2;if(!this[_0x547f26(0x319)])throw new _0x177832(_0x177832['codes'][_0x547f26(0x4d6)],{'content':_0x391798});const _0x586b9e={'sourceId':this['localNode'][_0x547f26(0x7bf)](),'destinationIds':[this['remoteId']],'propagate':this[_0x547f26(0x60c)]!==_0x5497ef[_0x547f26(0x24d)],'retry':this[_0x547f26(0x60c)]!==_0x5497ef[_0x547f26(0x24d)],'messageType':_0xa1c806['PeerConnection'],'content':_0x391798};_0x5c5f15&&(_0x586b9e['uuid']=_0x5c5f15),this[_0x547f26(0x319)][_0x547f26(0xef)](_0x586b9e);}['setupConnectionEvents'](){const _0x58d02e=_0x2d5ee2;this[_0x58d02e(0x109)][_0x58d02e(0x469)]=()=>{const _0x5798d2=_0x58d02e;'complete'===this[_0x5798d2(0x109)][_0x5798d2(0x44d)]&&this[_0x5798d2(0xdf)][_0x5798d2(0x68c)]>0x0&&(this[_0x5798d2(0x237)]&&clearTimeout(this['handshakeDebounce']),this[_0x5798d2(0x237)]=setTimeout(()=>{const _0x258fab=_0x5798d2;delete this[_0x258fab(0x237)],this[_0x258fab(0x4c4)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x58d02e(0x109)][_0x58d02e(0x586)]=_0x16ea7a=>{const _0x214ff3=_0x58d02e;_0x16ea7a[_0x214ff3(0x62c)]&&this['handshakeCandidates'][_0x214ff3(0x80e)](_0x16ea7a['candidate']);};}[_0x2d5ee2(0x325)](){const _0x394732=_0x2d5ee2;clearTimeout(this[_0x394732(0x237)]),delete this['handshakeDebounce'],this[_0x394732(0xdf)]=[],this[_0x394732(0x536)]=[],this[_0x394732(0x352)]&&(this['dataChannel'][_0x394732(0xc9)]=null,this[_0x394732(0x352)][_0x394732(0x460)]=null,this[_0x394732(0x352)][_0x394732(0x582)](),delete this[_0x394732(0x352)]),this[_0x394732(0x109)]['onGatheringStateChange']=null,this[_0x394732(0x109)][_0x394732(0x586)]=null,this[_0x394732(0x109)][_0x394732(0x2ec)]=null,this[_0x394732(0x109)]['onConnectionStateChange']=null,this[_0x394732(0x109)]['onTrack']=null,this[_0x394732(0x109)][_0x394732(0xe8)]=null,this[_0x394732(0x109)][_0x394732(0x582)]();}[_0x2d5ee2(0x4fe)](_0x49dab0){const _0x47e923=_0x2d5ee2;this[_0x47e923(0x536)]['push'](_0x49dab0);}['logConnectionState'](){const _0x2ca398=_0x2d5ee2;_0x4b7920[_0x2ca398(0x5f9)](_0x27d952['ConnectionState'],'Base\x20Peer\x20Connection',{'localId':this[_0x2ca398(0x5b9)][_0x2ca398(0x7bf)](),'remoteId':this['remoteId'],'connectionState':this[_0x2ca398(0x109)][_0x2ca398(0x789)],'handshakeState':this[_0x2ca398(0x109)]['handshakeState'],'signalingState':this[_0x2ca398(0x109)][_0x2ca398(0x692)],'dataChannelState':this['dataChannel']?.[_0x2ca398(0x271)]});}}function _0x1e85d0(_0x4fd30e,_0x579be7){const _0x55d79a=_0x2d5ee2;_0x579be7[_0x55d79a(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x55d79a(0x3d7)],'content':_0x4fd30e});}class _0x441c62{static [_0x2d5ee2(0x23d)];['parameters']=[];[_0x2d5ee2(0x77a)];constructor(){setInterval(()=>{const _0x301ee2=a0_0x5322;this[_0x301ee2(0x1de)][_0x301ee2(0x57b)](_0xfb34d9=>{const _0x4e1eba=_0x301ee2;if(Date[_0x4e1eba(0x191)]()-_0xfb34d9[_0x4e1eba(0xda)]>_0xfb34d9[_0x4e1eba(0x513)]){try{_0xfb34d9[_0x4e1eba(0x758)]();}catch(_0x2b53a6){}_0xfb34d9[_0x4e1eba(0xda)]=Date[_0x4e1eba(0x191)]();}});},0x64);}static[_0x2d5ee2(0x867)](){return _0x441c62['instance']||(_0x441c62['instance']=new _0x441c62()),_0x441c62['instance'];}[_0x2d5ee2(0x506)](_0x4164bf){const _0x1bfd38=_0x2d5ee2,_0x269428=this['createConstantSource'](_0x4164bf),_0x564370=_0x4164bf[_0x1bfd38(0xe0)]();_0x564370&&_0x269428&&(_0x564370[_0x1bfd38(0x77e)]['value']=0.001,_0x269428[_0x1bfd38(0x5bf)](_0x564370),_0x564370['connect'](_0x4164bf[_0x1bfd38(0x574)]),_0x269428['start']());}['stopNoThrottlingHack'](){const _0x156543=_0x2d5ee2;this['source']&&(this[_0x156543(0x77a)][_0x156543(0x23b)](),this[_0x156543(0x77a)][_0x156543(0x615)](),this[_0x156543(0x77a)]=void 0x0);}['wait'](_0x2c8f7e){return new Promise(_0x1b0fc1=>{setTimeout(_0x1b0fc1,_0x2c8f7e);});}[_0x2d5ee2(0x52c)](_0xef1463,_0x3c513a){const _0x322974=_0x2d5ee2;return this[_0x322974(0x1de)][_0x322974(0x80e)]({'callback':_0xef1463,'interval':_0x3c513a,'lastExecuted':Date[_0x322974(0x191)]()}),()=>{const _0x47b62f=_0x322974;this[_0x47b62f(0x1de)]=this[_0x47b62f(0x1de)][_0x47b62f(0x2e4)](_0x5025f6=>_0x5025f6['callback']!==_0xef1463);};}[_0x2d5ee2(0xf6)](_0x50cee6){const _0x2efa9c=_0x2d5ee2;if(_0x50cee6[_0x2efa9c(0xf6)])return _0x50cee6[_0x2efa9c(0xf6)]();const _0x5e446d=_0x50cee6['createBufferSource'](),_0x3367a6=_0x50cee6[_0x2efa9c(0x448)](0x1,0x1,_0x50cee6[_0x2efa9c(0x3ee)]);return _0x3367a6[_0x2efa9c(0x15c)](0x0)[0x0]=0xa,_0x5e446d[_0x2efa9c(0x625)]=_0x3367a6,_0x5e446d[_0x2efa9c(0x2bc)]=!0x0,_0x5e446d;}}const _0x4faffa=_0x441c62['getInstance'](),_0x1ef63f=[_0x2d5ee2(0x3d7),_0x2d5ee2(0x688),'Content',_0x2d5ee2(0xd8),_0x2d5ee2(0x57f),_0x2d5ee2(0x7f5),_0x2d5ee2(0x28c)],_0x3af28d=[[_0x2d5ee2(0x3c5),_0x2d5ee2(0x356),_0x2d5ee2(0x72c),_0x2d5ee2(0x397),'NeedRestart',_0x2d5ee2(0x654),_0x2d5ee2(0x2da),_0x2d5ee2(0x57f),_0x2d5ee2(0x63d)],['NodeJoin',_0x2d5ee2(0x624),'NodeConnectionsUpdate',_0x2d5ee2(0x5f0)],[_0x2d5ee2(0x584),_0x2d5ee2(0x5c1),_0x2d5ee2(0xc5),_0x2d5ee2(0x9c),_0x2d5ee2(0x501),'CloseJobDispatcher',_0x2d5ee2(0x78d),_0x2d5ee2(0x704),_0x2d5ee2(0x1b7),'ClosePubSubTopic',_0x2d5ee2(0x67e),_0x2d5ee2(0x66e),_0x2d5ee2(0x2eb),_0x2d5ee2(0x7c0),_0x2d5ee2(0x2a8),'RequestSyncKeyValueDatabase','SendTransactionsDump',_0x2d5ee2(0x659),_0x2d5ee2(0x745),_0x2d5ee2(0x4fa),'KeyValueDatabaseStats',_0x2d5ee2(0x148),'GenerativeAIWorkerStats',_0x2d5ee2(0x422),_0x2d5ee2(0x1cd)],[_0x2d5ee2(0xc5),_0x2d5ee2(0x9c),_0x2d5ee2(0x501),_0x2d5ee2(0x5ef),'RestartNeedMediaStream',_0x2d5ee2(0x9b),_0x2d5ee2(0x414),_0x2d5ee2(0x1f4)],[_0x2d5ee2(0x419),_0x2d5ee2(0x503)],[_0x2d5ee2(0x4f4)],[_0x2d5ee2(0x28c),_0x2d5ee2(0x398)]];function _0x2aa3a5(_0x72c90f){const _0x5062d0=_0x2d5ee2;return{..._0x72c90f,'systemMessageType':_0x1ef63f[_0x72c90f[_0x5062d0(0x598)]],'systemContentMessageType':_0x3af28d[_0x72c90f[_0x5062d0(0x598)]][_0x72c90f[_0x5062d0(0x262)]['type']]};}const _0x2783cc={'hour':'2-digit','minute':_0x2d5ee2(0x7f8),'second':_0x2d5ee2(0x7f8)};function _0x206b96(_0x4f28b5,_0x124b0e){const _0x100aa3=_0x2d5ee2,_0x375133=(function(){const _0x321d28=a0_0x5322,_0x42f33a=new Date(),_0x5893c2=_0x42f33a[_0x321d28(0x62f)](),_0x32fc3c=_0x42f33a[_0x321d28(0x209)](_0x321d28(0x724),_0x2783cc)[_0x321d28(0xcf)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x32fc3c+'.'+(_0x5893c2>0x64?''+_0x5893c2:_0x5893c2>0xa?'0'+_0x5893c2:'00'+_0x5893c2);}()),{sourceId:_0x33b5fa,destinationIds:_0x58e911,systemMessageType:_0x4562c2,systemContentMessageType:_0x4a2c5f}=_0x2aa3a5(_0x4f28b5);return _0x375133+_0x100aa3(0x7d9)+_0x124b0e+_0x100aa3(0x7d9)+(_0x33b5fa===_0x124b0e?_0x100aa3(0x834)+_0x4562c2+_0x100aa3(0xc3)+(_0x58e911?''+_0x58e911:'everyone'):_0x4f28b5[_0x100aa3(0x51e)]===_0x1e8ab6?_0x100aa3(0x7ad)+_0x4562c2+'\x27':(_0x58e911?'':_0x100aa3(0x619))+_0x100aa3(0x5fd)+_0x4562c2+_0x100aa3(0x78e)+_0x33b5fa)+_0x100aa3(0x56b)+_0x4a2c5f+_0x100aa3(0x741);}class _0x515f1c extends _0x1586ca{[_0x2d5ee2(0x20c)]=_0x2428fd();[_0x2d5ee2(0x2e3)]=_0x2428fd();[_0x2d5ee2(0x7c3)]=_0x2428fd();['receivers']=new Map();[_0x2d5ee2(0x32f)]=new Map();['waitSuccess'];[_0x2d5ee2(0x235)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x2d5ee2(0x84b)]=0x0;[_0x2d5ee2(0x4ef)]=0x0;[_0x2d5ee2(0x582)](){const _0xc7f45=_0x2d5ee2;this[_0xc7f45(0x294)](),this['receivers'][_0xc7f45(0x63e)](),super[_0xc7f45(0x582)]();}async[_0x2d5ee2(0x5cd)](_0x4e66e2,_0x9c3ca7){const _0x17b53a=_0x2d5ee2;this[_0x17b53a(0x3c2)]=_0x9c3ca7,this[_0x17b53a(0x294)]();const _0x5758c9=await this[_0x17b53a(0x109)][_0x17b53a(0x7e0)](_0x4e66e2);this[_0x17b53a(0x7db)]();const _0x840213=(0x0,_0x53f5fa['v4'])();this[_0x17b53a(0x229)]({'type':_0x274822['Answer'],'answer':_0x5758c9,'version':_0x9c3ca7,'connectionType':this[_0x17b53a(0x60c)]},_0x840213),this[_0x17b53a(0x60c)]===_0x5497ef['Core']&&(this[_0x17b53a(0x1ed)]=_0x4faffa[_0x17b53a(0x52c)](()=>{const _0x5d39a5=_0x17b53a;this[_0x5d39a5(0x229)]({'type':_0x274822['Answer'],'answer':_0x5758c9,'version':_0x9c3ca7,'connectionType':this[_0x5d39a5(0x60c)]},_0x840213);},0x1388));}[_0x2d5ee2(0x457)](){const _0x14bdd5=_0x2d5ee2;this[_0x14bdd5(0x294)]();}[_0x2d5ee2(0x7ff)](_0x49a700){const _0xd6f83f=_0x2d5ee2;this[_0xd6f83f(0x2c5)](_0x49a700),this[_0xd6f83f(0x229)]({'type':_0x274822[_0xd6f83f(0x654)]});}async[_0x2d5ee2(0x1c4)](){const _0x5e01c1=_0x2d5ee2;this['systemTopic']&&(await this[_0x5e01c1(0x109)][_0x5e01c1(0x564)](this[_0x5e01c1(0x4df)],(_0x35500e,_0x3db218)=>{const _0x4fbf10=_0x5e01c1;_0x1e85d0({'type':_0x274822[_0x4fbf10(0x57f)],'streamId':_0x3db218,'nodeId':this[_0x4fbf10(0x7fc)],'stats':_0x35500e},this[_0x4fbf10(0x319)]);}),this[_0x5e01c1(0x319)][_0x5e01c1(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x5e01c1(0x3d7)],'content':{'type':_0x274822['Stats'],'nodeId':this[_0x5e01c1(0x7fc)],'stats':{'origin':_0xf7c085['Receiver'],'timestamp':Date[_0x5e01c1(0x191)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x5e01c1(0x84b)],'timeReceiving':this[_0x5e01c1(0x4ef)],'systemMessages':this[_0x5e01c1(0xf1)]}}}));}[_0x2d5ee2(0xc9)](_0xab0d18){const _0x1d2d42=_0x2d5ee2;return this[_0x1d2d42(0x20c)][_0x1d2d42(0x21a)](_0xab0d18);}[_0x2d5ee2(0x73d)](_0x232c0c){const _0x58c8a1=_0x2d5ee2;return this['trackCallback'][_0x58c8a1(0x21a)](({track:_0x1b638e,stream:_0x53c6c0})=>_0x232c0c(_0x1b638e,_0x53c6c0));}[_0x2d5ee2(0x312)](_0x324a8e){const _0x46cbe9=_0x2d5ee2;return this[_0x46cbe9(0x7c3)][_0x46cbe9(0x21a)](({track:_0x5595aa,stream:_0x12bfdc})=>_0x324a8e(_0x5595aa,_0x12bfdc));}[_0x2d5ee2(0x2c5)](_0x1bc169){const _0x104d96=_0x2d5ee2;this[_0x104d96(0x294)](),this['receivers'][_0x104d96(0x57b)](_0x49c9fb=>{_0x49c9fb['clear']();}),super[_0x104d96(0x2c5)](_0x1bc169);}[_0x2d5ee2(0x4c4)](){const _0x535a41=_0x2d5ee2;this['publishSystemMessage']({'type':_0x274822[_0x535a41(0x72c)],'candidates':this[_0x535a41(0xdf)],'origin':_0xf7c085[_0x535a41(0xd6)],'version':this[_0x535a41(0x3c2)],'connectionType':this[_0x535a41(0x60c)]});}[_0x2d5ee2(0x523)](){const _0xabbb21=_0x2d5ee2;super[_0xabbb21(0x523)](),this['connection'][_0xabbb21(0x73d)]=_0x314278=>{const _0x412043=_0xabbb21;_0x4b7920[_0x412043(0x5f9)](_0x27d952[_0x412043(0x36c)],_0x412043(0x300),this[_0x412043(0x5b9)][_0x412043(0x7bf)](),_0x314278),_0x314278[_0x412043(0x7ac)][0x0][_0x412043(0x5f1)]=_0x21fd60=>{const _0x43e5f1=_0x412043;this['receivers']['get'](_0x314278[_0x43e5f1(0x7ac)][0x0]['id'])?.['delete'](_0x21fd60['track']),0x0===this[_0x43e5f1(0x4df)][_0x43e5f1(0x548)](_0x314278[_0x43e5f1(0x7ac)][0x0]['id'])?.[_0x43e5f1(0x6b6)]&&this[_0x43e5f1(0x4df)]['delete'](_0x314278[_0x43e5f1(0x7ac)][0x0]['id']),this[_0x43e5f1(0x7c3)][_0x43e5f1(0xef)]({'track':_0x21fd60[_0x43e5f1(0x134)],'stream':_0x314278['streams'][0x0]});},this[_0x412043(0x4df)]['has'](_0x314278[_0x412043(0x7ac)][0x0]['id'])||this[_0x412043(0x4df)]['set'](_0x314278[_0x412043(0x7ac)][0x0]['id'],new Set()),this[_0x412043(0x4df)][_0x412043(0x548)](_0x314278[_0x412043(0x7ac)][0x0]['id'])[_0x412043(0x40c)](_0x314278['track']),this[_0x412043(0x2e3)][_0x412043(0xef)]({'track':_0x314278[_0x412043(0x134)],'stream':_0x314278['streams'][0x0]});},this['connection']['onDataChannel']=_0xa3c2af=>{const _0x12e71c=_0xabbb21;this[_0x12e71c(0x352)]=_0xa3c2af['channel'],this['dataChannel'][_0x12e71c(0xc9)]=_0x1cc444=>{const _0x447da5=_0x12e71c;if(_0x1cc444[_0x447da5(0x252)]!==_0x40d226)this[_0x447da5(0x4eb)](_0x1cc444['data']);else{if(!this['dataChannel'])return void _0x4b7920[_0x447da5(0x626)](_0x447da5(0x851),{'clusterId':this[_0x447da5(0x2dd)],'nodeId':this['localNode'][_0x447da5(0x7bf)](),'nodeType':this['localNode']['type'],'remoteId':this[_0x447da5(0x7fc)],'data':{'connection':_0x447da5(0x2a5)}});if('open'!==this['dataChannel'][_0x447da5(0x271)])return;this[_0x447da5(0x352)][_0x447da5(0x23a)]('1');}};};}[_0x2d5ee2(0x4eb)](_0x3504be){const _0x32f570=_0x2d5ee2;if('string'==typeof _0x3504be&&_0x3504be[_0x32f570(0x47a)](_0x598e54))return this[_0x32f570(0x235)]+=0x1,this[_0x32f570(0x84b)]+=_0x3504be[_0x32f570(0x68c)],this[_0x32f570(0x187)](_0x3504be);setTimeout(()=>{const _0x13bed7=_0x32f570,_0x55f443=Date[_0x13bed7(0x191)]();let _0x5dc64e;if((_0x3504be instanceof ArrayBuffer||_0x3504be[_0x13bed7(0x68c)]<=_0x2d495b)&&(this[_0x13bed7(0x235)]+=0x1,this[_0x13bed7(0x84b)]+=_0x3504be instanceof ArrayBuffer?_0x3504be[_0x13bed7(0x373)]:_0x3504be[_0x13bed7(0x68c)]),_0x3504be instanceof ArrayBuffer){const [_0x3c2134,_0x379bbe]=this[_0x13bed7(0x50e)](_0x3504be);_0x5dc64e=_0x3c2134,_0x5dc64e[_0x13bed7(0x262)][_0x13bed7(0x252)]=_0x379bbe;}else _0x5dc64e=JSON['parse'](_0x3504be);if(0x0===_0x5dc64e[_0x13bed7(0x716)]){this[_0x13bed7(0xf1)][_0x13bed7(0x5ae)][_0x13bed7(0x711)]+=0x1;const {systemMessageType:_0x221c51,systemContentMessageType:_0x43b2f7}=_0x2aa3a5(_0x5dc64e);this[_0x13bed7(0xf1)][_0x221c51]||(this[_0x13bed7(0xf1)][_0x221c51]={[_0x43b2f7]:0x0}),this['systemMessagesReceived'][_0x221c51][_0x43b2f7]||(this[_0x13bed7(0xf1)][_0x221c51][_0x43b2f7]=0x0),this[_0x13bed7(0xf1)][_0x221c51][_0x13bed7(0x711)]||(this[_0x13bed7(0xf1)][_0x221c51][_0x13bed7(0x711)]=0x0),this[_0x13bed7(0xf1)][_0x221c51][_0x43b2f7]+=0x1,this['systemMessagesReceived'][_0x221c51][_0x13bed7(0x711)]+=0x1;}this['messageCallback'][_0x13bed7(0xef)](_0x5dc64e),this[_0x13bed7(0x4ef)]+=Date['now']()-_0x55f443;},0x0);}[_0x2d5ee2(0x187)](_0x3ac198){const _0x17ec92=_0x2d5ee2,_0x1b47d2=_0x3ac198[_0x17ec92(0x4c3)](';'),_0x139cba=_0x1b47d2[0x1],_0x40a3fa=parseInt(_0x1b47d2[0x2],0xa),_0x559c14=parseInt(_0x1b47d2[0x3],0xa),_0x1629c7=_0x3ac198[_0x17ec92(0x7b4)](_0x598e54+';'+_0x139cba+';'+_0x40a3fa+';'+_0x559c14+';','');this[_0x17ec92(0x32f)][_0x17ec92(0x2b3)](_0x139cba)||this[_0x17ec92(0x32f)][_0x17ec92(0x1d0)](_0x139cba,[]);const _0x24f5b2=this[_0x17ec92(0x32f)][_0x17ec92(0x548)](_0x139cba);_0x24f5b2[_0x40a3fa]=_0x1629c7,_0x24f5b2['length']===_0x559c14&&(this[_0x17ec92(0x4eb)](_0x24f5b2[_0x17ec92(0x45e)]('')),this[_0x17ec92(0x32f)][_0x17ec92(0x201)](_0x139cba));}[_0x2d5ee2(0x294)](){const _0x67302f=_0x2d5ee2;this['waitSuccess']?.(),delete this[_0x67302f(0x1ed)];}[_0x2d5ee2(0x45f)](_0x48553f){const _0x27fed2=_0x2d5ee2,_0x247f51=new TextDecoder()[_0x27fed2(0xdb)](_0x48553f);return JSON['parse'](_0x247f51);}['splitParts'](_0x27f585){const _0x22ff15=_0x2d5ee2,_0x23ecc2=new Uint8Array(_0x27f585[_0x22ff15(0x13c)](0x0,0x4)),_0x569190=new Uint32Array(_0x23ecc2[_0x22ff15(0x625)])[0x0],_0x3399f6=new Uint8Array(_0x27f585[_0x22ff15(0x13c)](0x4,0x4+_0x569190)),_0x363fb6=new Uint8Array(_0x27f585['slice'](0x4+_0x569190));return[this[_0x22ff15(0x45f)](_0x3399f6[_0x22ff15(0x625)]),_0x363fb6['buffer']];}}const _0x25b26c=0xc350;var _0x226b6,_0x119828;!function(_0x169ce4){const _0x52a747=_0x2d5ee2;_0x169ce4[_0x169ce4[_0x52a747(0x2b1)]=0x0]='High',_0x169ce4[_0x169ce4['Medium']=0x1]=_0x52a747(0x2fe),_0x169ce4[_0x169ce4[_0x52a747(0x5e4)]=0x2]=_0x52a747(0x5e4);}(_0x226b6||(_0x226b6={}));class _0x5f08ff extends _0x1586ca{['maxFps'];[_0x2d5ee2(0x863)];['senders']=new Map();['heartbeatUnsubscriber'];[_0x2d5ee2(0x86a)];[_0x2d5ee2(0x60a)];[_0x2d5ee2(0x107)]=!0x1;[_0x2d5ee2(0x426)];['restartTimeout'];[_0x2d5ee2(0x3b1)];[_0x2d5ee2(0x1fc)]=function(e,t=_0x226b6,s=!0x1){const _0x5278af=_0x2d5ee2;let i=!0x1;const n=[];async function o(){const _0xda22ed=a0_0x5322;if(!i){for(i=!0x0;n[_0xda22ed(0x32b)](e=>e[_0xda22ed(0x502)]);){let t,i=0x0;for(const [e,s]of n['entries']())if(t=s[_0xda22ed(0x6bb)](),i=e,t)break;if(t)try{if(e instanceof _0x2cf9e1&&e[_0xda22ed(0x811)](t),e instanceof _0x3e1d9d&&await e['call'](t),n[_0xda22ed(0x13c)](-0x1)[_0xda22ed(0x32b)](e=>e[_0xda22ed(0x502)]))continue;const s=n[_0xda22ed(0x68c)]-0x1;i===s&&n[s]['head']&&await _0x4faffa['wait'](0x0);}catch(o){s?n[i][_0xda22ed(0x80e)](t,!0x1):n[i][_0xda22ed(0x124)](t,!0x1),await e['wait']();}}i=!0x1;}}return Object[_0x5278af(0x2fd)](t)['forEach'](e=>{'string'!=typeof e&&(n[e]=_0x3660bb(o));}),{'queues':n};}(new _0x2cf9e1(this['sendAction'][_0x2d5ee2(0x13b)](this),this['waitSendBuffer'][_0x2d5ee2(0x13b)](this)));[_0x2d5ee2(0x608)]=0x0;[_0x2d5ee2(0x812)]=0x0;[_0x2d5ee2(0xbe)]=0x0;[_0x2d5ee2(0x5d6)]=0x0;['oncloseTimeout'];constructor(_0x52b79d,_0x51644c,_0x5177a4,_0x20a178,_0x48cf2e,_0x5ce53a,_0x34b60c,_0x31e08e){const _0x3eaf5c=_0x2d5ee2;super(_0x52b79d,_0x51644c,_0x5177a4,_0x20a178,_0x48cf2e,_0x31e08e),this['maxFps']=_0x5ce53a,this[_0x3eaf5c(0x863)]=_0x34b60c;}[_0x2d5ee2(0x582)](){const _0x1f5da1=_0x2d5ee2;this[_0x1f5da1(0x802)](),this['clearHeartbeat'](),delete this['lastHeartbeat'],this[_0x1f5da1(0x70a)](),this[_0x1f5da1(0x53a)](),this[_0x1f5da1(0x786)](),this[_0x1f5da1(0x2df)]['clear'](),this[_0x1f5da1(0x107)]=!0x1,this[_0x1f5da1(0x1fc)][_0x1f5da1(0x821)]['forEach'](_0x3e12bf=>_0x3e12bf[_0x1f5da1(0x63e)]()),this['clearOncloseTimeout'](),super['close']();}[_0x2d5ee2(0x125)](){const _0x13147d=_0x2d5ee2;return!!this[_0x13147d(0x60a)]&&super[_0x13147d(0x125)]()&&Date[_0x13147d(0x191)]()-this['lastHeartbeat']<0x3a98;}async[_0x2d5ee2(0x1c4)](){const _0x1ed3e0=_0x2d5ee2;this[_0x1ed3e0(0x319)]&&(await this[_0x1ed3e0(0x109)][_0x1ed3e0(0x868)](this[_0x1ed3e0(0x2df)],(_0x54634b,_0x689852)=>{const _0x1a1176=_0x1ed3e0;_0x1e85d0({'type':_0x274822['Stats'],'streamId':_0x689852,'nodeId':this[_0x1a1176(0x7fc)],'stats':_0x54634b},this['systemTopic']);}),this[_0x1ed3e0(0x319)]['publish']({'sourceId':_0x1e8ab6,'messageType':_0xa1c806['PeerConnection'],'content':{'type':_0x274822[_0x1ed3e0(0x57f)],'nodeId':this[_0x1ed3e0(0x7fc)],'stats':{'origin':_0xf7c085[_0x1ed3e0(0x5c4)],'timestamp':Date[_0x1ed3e0(0x191)](),'messagesSent':this[_0x1ed3e0(0x608)],'bytesSent':this[_0x1ed3e0(0x812)],'timeSending':this[_0x1ed3e0(0xbe)],'roundTripTime':this['roundTripTime']}}}));}async[_0x2d5ee2(0x4ab)](_0x5f330a){const _0x383615=_0x2d5ee2;_0x4b7920[_0x383615(0x5f9)](_0x27d952[_0x383615(0x36c)],'CrewdleSenderConnection\x20createOffer',this[_0x383615(0x5b9)][_0x383615(0x7bf)](),this[_0x383615(0x7fc)]),this[_0x383615(0x70a)](),this[_0x383615(0x53a)](),this['clearWaitAnswer'](),this[_0x383615(0x426)]=setTimeout(()=>{const _0x738331=_0x383615;this[_0x738331(0x9d)]();},0x7530),this[_0x383615(0x352)]||(this[_0x383615(0x352)]=this[_0x383615(0x109)][_0x383615(0x3cc)]('data'),this[_0x383615(0x352)][_0x383615(0x78c)]=_0x6fa343,this[_0x383615(0x352)][_0x383615(0x460)]=()=>{const _0x435896=_0x383615;this[_0x435896(0x815)]=setTimeout(()=>{const _0x51ccfe=_0x435896;delete this[_0x51ccfe(0x815)],['connecting',_0x51ccfe(0x2ef)][_0x51ccfe(0x51a)](this[_0x51ccfe(0x352)]?.[_0x51ccfe(0x271)]??'')||this[_0x51ccfe(0x9d)]();},0xfa);});const _0x5b1b61=await this[_0x383615(0x109)][_0x383615(0x4ab)](_0x5f330a);this[_0x383615(0x60a)]||(this[_0x383615(0x60a)]=Date[_0x383615(0x191)]());const _0x5ec27b=(0x0,_0x53f5fa['v4'])();this[_0x383615(0x229)]({'type':_0x274822['Offer'],'offer':_0x5b1b61,'version':this[_0x383615(0x3c2)],'connectionType':this[_0x383615(0x60c)]},_0x5ec27b),this['connectionType']===_0x5497ef[_0x383615(0x24d)]&&(this[_0x383615(0x86a)]=_0x4faffa[_0x383615(0x52c)](()=>{const _0x371a1b=_0x383615;this[_0x371a1b(0x229)]({'type':_0x274822[_0x371a1b(0x3c5)],'offer':_0x5b1b61,'version':this[_0x371a1b(0x3c2)],'connectionType':this['connectionType']},_0x5ec27b);},0x1388));}async[_0x2d5ee2(0x5df)](_0x119ddb,_0x1dce77){const _0x4e5dc3=_0x2d5ee2;if(_0x1dce77===this[_0x4e5dc3(0x3c2)]){this['clearWaitAnswer']();try{await this['connection'][_0x4e5dc3(0x5df)](_0x119ddb,this[_0x4e5dc3(0x4ab)][_0x4e5dc3(0x13b)](this)),this[_0x4e5dc3(0x7db)](),this[_0x4e5dc3(0x53a)](),this[_0x4e5dc3(0x1c2)]();}catch(_0x2d73ff){this[_0x4e5dc3(0x9d)]();}}}[_0x2d5ee2(0x23a)](_0x4a74df){const _0x2d944e=_0x2d5ee2;if(!this['dataChannel'])throw new _0x177832(_0x177832['codes']['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x2d944e(0x5b9)][_0x2d944e(0x7bf)](),'remoteId':this[_0x2d944e(0x7fc)],'eventMessage':_0x4a74df});if('open'!==this['dataChannel'][_0x2d944e(0x271)])throw new _0x177832(_0x177832['codes']['InvalidDataChannel'],{'message':_0x2d944e(0x38e),'localId':this['localNode'][_0x2d944e(0x7bf)](),'remoteId':this[_0x2d944e(0x7fc)],'eventMessage':_0x4a74df});let _0x4c6e5f;if(_0x4a74df[_0x2d944e(0x262)][_0x2d944e(0x252)]instanceof ArrayBuffer){const _0x3ac142=_0x4a74df[_0x2d944e(0x262)]['data'];_0x4a74df={..._0x4a74df,'content':{..._0x4a74df['content'],'data':void 0x0}},_0x4c6e5f=this[_0x2d944e(0x338)](_0x4a74df,_0x3ac142);}else _0x4c6e5f=JSON[_0x2d944e(0x779)](_0x4a74df);if(_0x2d944e(0x69a)==typeof _0x4c6e5f&&_0x4c6e5f['length']>_0x2d495b)return this[_0x2d944e(0x78b)](_0x4a74df,_0x4c6e5f);const _0x2309b0=0x0===_0x4a74df['topicLabel']&&[_0xa1c806['Subscription'],_0xa1c806[_0x2d944e(0x3d7)]][_0x2d944e(0x51a)](_0x4a74df[_0x2d944e(0x598)])?_0x226b6['High']:_0x4a74df instanceof ArrayBuffer?_0x226b6[_0x2d944e(0x5e4)]:_0x226b6['Medium'];this[_0x2d944e(0x3d8)](_0x4c6e5f,_0x2309b0);}['addTrack'](_0x8ba760,_0x466990,_0x5c374b,_0x10cd73){const _0x3d3e97=_0x2d5ee2,_0x5896fd=(_0x314aa9=this['maxFps'],_0x31cbec=this[_0x3d3e97(0x863)],Math[_0x3d3e97(0x5fb)](0xe1000*_0x314aa9*_0x31cbec));var _0x314aa9,_0x31cbec;const _0x1ebd25=this[_0x3d3e97(0x2df)][_0x3d3e97(0x548)](_0x466990['id'])||{'stream':_0x466990,'priority':_0x5c374b,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x5896fd,'maxBitrate':_0x5896fd,'framerate':this[_0x3d3e97(0x823)],'maxFramerate':this[_0x3d3e97(0x823)],'tracks':{},'params':_0x10cd73},_0x227354=_0x1ebd25['tracks'][_0x8ba760[_0x3d3e97(0xaf)]]||{'track':_0x8ba760};if(_0x227354[_0x3d3e97(0x122)]?(_0x227354[_0x3d3e97(0x134)]=_0x8ba760,this['connection'][_0x3d3e97(0x58a)](_0x8ba760,_0x227354[_0x3d3e97(0x122)])):_0x227354[_0x3d3e97(0x122)]=this['connection'][_0x3d3e97(0x13d)](_0x8ba760,_0x466990),_0x1ebd25[_0x3d3e97(0x516)][_0x8ba760[_0x3d3e97(0xaf)]]=_0x227354,_0x10cd73&&(_0x1ebd25[_0x3d3e97(0x306)]=_0x10cd73),_0x10cd73&&_0x3d3e97(0x849)===_0x10cd73[_0x3d3e97(0xaf)]&&_0x10cd73[_0x3d3e97(0x861)]&&_0x10cd73['maxResolution']&&(_0x1ebd25[_0x3d3e97(0x482)]=this[_0x3d3e97(0x485)](_0x10cd73[_0x3d3e97(0x861)],_0x10cd73['maxResolution']),_0x1ebd25[_0x3d3e97(0x781)]=_0x1ebd25[_0x3d3e97(0x482)],_0x1ebd25[_0x3d3e97(0x516)][_0x3d3e97(0x849)]&&_0x1ebd25[_0x3d3e97(0x516)][_0x3d3e97(0x849)]['sender'])){const _0xc3c14=_0x1ebd25[_0x3d3e97(0x516)][_0x3d3e97(0x849)][_0x3d3e97(0x122)];this[_0x3d3e97(0x109)][_0x3d3e97(0x3c9)](_0xc3c14,Math['floor'](0xa*_0x1ebd25[_0x3d3e97(0x482)])/0xa,_0x1ebd25[_0x3d3e97(0x66b)],_0x1ebd25['bitrate'],_0x1ebd25[_0x3d3e97(0x6c8)]);}this[_0x3d3e97(0x2df)][_0x3d3e97(0x1d0)](_0x466990['id'],_0x1ebd25);}[_0x2d5ee2(0x347)](_0x3a2a23,_0x4ea988){const _0x14acfe=_0x2d5ee2,_0x53951f=this[_0x14acfe(0x2df)][_0x14acfe(0x548)](_0x3a2a23['id']);if(_0x53951f&&_0x53951f[_0x14acfe(0x6c8)]!==_0x4ea988&&(_0x53951f[_0x14acfe(0x6c8)]=_0x4ea988,_0x53951f[_0x14acfe(0x516)][_0x14acfe(0x849)]&&_0x53951f[_0x14acfe(0x516)][_0x14acfe(0x849)]['sender'])){const _0x2f636d=_0x53951f[_0x14acfe(0x516)][_0x14acfe(0x849)][_0x14acfe(0x122)];this[_0x14acfe(0x109)]['setEncodingParameters'](_0x2f636d,Math[_0x14acfe(0x5fb)](0xa*_0x53951f[_0x14acfe(0x482)])/0xa,_0x53951f[_0x14acfe(0x66b)],_0x53951f['bitrate'],_0x53951f[_0x14acfe(0x6c8)]);}}[_0x2d5ee2(0x16d)](_0x451e91,_0x40f0d3){const _0x2abcea=_0x2d5ee2,_0x40612e=this[_0x2abcea(0x2df)][_0x2abcea(0x548)](_0x451e91['id']);if(_0x40612e){if(_0x40612e[_0x2abcea(0x306)]=_0x40f0d3,_0x40f0d3&&_0x2abcea(0x849)===_0x40f0d3['kind']&&_0x40f0d3[_0x2abcea(0x861)]&&_0x40f0d3[_0x2abcea(0x1e6)]){if(_0x40612e[_0x2abcea(0x781)]=this[_0x2abcea(0x485)](_0x40f0d3['resolution'],_0x40f0d3[_0x2abcea(0x1e6)]),_0x40612e[_0x2abcea(0x482)]<_0x40612e[_0x2abcea(0x781)]&&(_0x40612e[_0x2abcea(0x482)]=_0x40612e['minResolutionScale']),_0x40612e[_0x2abcea(0x516)]['video']&&_0x40612e[_0x2abcea(0x516)][_0x2abcea(0x849)][_0x2abcea(0x122)]){const _0x5f4574=_0x40612e[_0x2abcea(0x516)][_0x2abcea(0x849)][_0x2abcea(0x122)];this[_0x2abcea(0x109)]['setEncodingParameters'](_0x5f4574,Math[_0x2abcea(0x5fb)](0xa*_0x40612e[_0x2abcea(0x482)])/0xa,_0x40612e[_0x2abcea(0x66b)],_0x40612e['bitrate'],_0x40612e[_0x2abcea(0x6c8)]);}this[_0x2abcea(0x802)](),this[_0x2abcea(0x708)]();}this[_0x2abcea(0x2df)]['set'](_0x451e91['id'],_0x40612e);}}[_0x2d5ee2(0x7d1)](_0x209d2b,_0x438f0a){const _0xc20c0a=_0x2d5ee2,_0x369b97=this['senders'][_0xc20c0a(0x548)](_0x438f0a['id']);if(_0x369b97){const _0x85922a=_0x369b97[_0xc20c0a(0x516)][_0x209d2b[_0xc20c0a(0xaf)]];_0x85922a&&(_0x85922a[_0xc20c0a(0x122)]&&this[_0xc20c0a(0x109)][_0xc20c0a(0x7d1)](_0x85922a[_0xc20c0a(0x122)]),_0x85922a[_0xc20c0a(0x134)]=void 0x0);}}[_0x2d5ee2(0x841)](_0x66e326){const _0x37841f=_0x2d5ee2;this[_0x37841f(0x802)]();const _0x15050d=function(_0x9e9bba,_0x4f9b78){const _0x377e24=_0x37841f;return _0x9e9bba['sort']((_0xd8731b,_0x3d8a83)=>_0x4f9b78[_0x377e24(0x389)]===_0x34f061[_0x377e24(0x223)]?_0x3d8a83[_0x377e24(0x6c8)]-_0xd8731b[_0x377e24(0x6c8)]:_0xd8731b[_0x377e24(0x6c8)]-_0x3d8a83['priority'])[_0x377e24(0x76e)](_0x42a5f1=>function(_0x3f1ebf,_0x4982ce){const _0x22d300=_0x377e24;if(_0x4982ce['action']===_0x34f061[_0x22d300(0x223)]){if(_0x4982ce['component']===_0x43e09e[_0x22d300(0x687)])return _0x3f1ebf[_0x22d300(0x482)]<0x4||_0x3f1ebf[_0x22d300(0x434)]>0xf;if(_0x4982ce[_0x22d300(0x358)]===_0x43e09e[_0x22d300(0x535)])return _0x3f1ebf['maxBitrate']>_0x25b26c;}return _0x3f1ebf[_0x22d300(0x482)]>_0x3f1ebf[_0x22d300(0x781)]||_0x3f1ebf[_0x22d300(0x66b)]<_0x3f1ebf['maxFramerate']||_0x3f1ebf[_0x22d300(0x38c)]<_0x3f1ebf[_0x22d300(0x51d)];}(_0x42a5f1,_0x4f9b78));}(Array[_0x37841f(0x81b)](this[_0x37841f(0x2df)][_0x37841f(0x2fd)]()),_0x66e326);if(_0x15050d&&(function(_0x4939aa,_0x1a0c5b){const _0x1ca76c=_0x37841f;_0x4939aa[_0x1ca76c(0x516)][_0x1ca76c(0x849)]&&_0x4939aa[_0x1ca76c(0x516)][_0x1ca76c(0x849)][_0x1ca76c(0x122)]&&(_0x4939aa[_0x1ca76c(0x482)]=function(_0x1a1705,_0x3efc7c,_0x321661){const _0x5a6d16=_0x1ca76c;switch(_0x321661['action']){case _0x34f061[_0x5a6d16(0x223)]:_0x321661['component']===_0x43e09e['Resolution']&&(_0x1a1705+=0.5)>0x4&&(_0x1a1705=0x4);break;case _0x34f061[_0x5a6d16(0x6ff)]:(_0x1a1705-=0.5)<_0x3efc7c&&(_0x1a1705=_0x3efc7c);}return _0x1a1705;}(_0x4939aa[_0x1ca76c(0x482)],_0x4939aa[_0x1ca76c(0x781)],_0x1a0c5b),_0x4939aa['framerate']=function(_0x138e60,_0x114ddd,_0xb9c506){const _0x487116=_0x1ca76c;switch(_0xb9c506[_0x487116(0x389)]){case _0x34f061[_0x487116(0x223)]:_0xb9c506[_0x487116(0x358)]===_0x43e09e['Resolution']&&(_0x138e60-=0x3)<0xf&&(_0x138e60=0xf);break;case _0x34f061[_0x487116(0x6ff)]:(_0x138e60+=0x3)>_0x114ddd&&(_0x138e60=_0x114ddd);}return _0x138e60;}(_0x4939aa[_0x1ca76c(0x66b)],_0x4939aa['maxFramerate'],_0x1a0c5b),_0x4939aa[_0x1ca76c(0x38c)]=function(_0xc45772,_0x88ea99,_0x355839){const _0xe4754e=_0x1ca76c;switch(_0x355839['action']){case _0x34f061[_0xe4754e(0x223)]:_0x355839['component']===_0x43e09e[_0xe4754e(0x535)]&&(_0xc45772*=0.75)<_0x25b26c&&(_0xc45772=_0x25b26c);break;case _0x34f061['Upgrade']:(_0xc45772*=1.25)>_0x88ea99&&(_0xc45772=_0x88ea99);}return _0xc45772;}(_0x4939aa['bitrate'],_0x4939aa[_0x1ca76c(0x51d)],_0x1a0c5b));}(_0x15050d,_0x66e326),_0x15050d[_0x37841f(0x516)][_0x37841f(0x849)]&&_0x15050d[_0x37841f(0x516)][_0x37841f(0x849)][_0x37841f(0x122)])){const _0x1104d0=_0x15050d['tracks'][_0x37841f(0x849)][_0x37841f(0x122)];this[_0x37841f(0x109)][_0x37841f(0x3c9)](_0x1104d0,Math['floor'](0xa*_0x15050d[_0x37841f(0x482)])/0xa,_0x15050d[_0x37841f(0x66b)],_0x15050d[_0x37841f(0x38c)],_0x15050d[_0x37841f(0x6c8)]);}(_0x15050d||_0x66e326['action']===_0x34f061[_0x37841f(0x223)])&&this[_0x37841f(0x708)]();}['calculateArrayBufferSize'](){const _0x40b0ca=_0x2d5ee2;return this[_0x40b0ca(0x1fc)][_0x40b0ca(0x821)][_0x40b0ca(0x488)]((_0x1aeaf4,_0x247eb8)=>_0x1aeaf4+_0x247eb8[_0x40b0ca(0x6b6)],0x0)*_0x4fdd0e;}['getBufferedAmount'](){const _0x3b75d1=_0x2d5ee2;return this[_0x3b75d1(0x352)]?.[_0x3b75d1(0x2c8)]??0x0;}['resetConnection'](){const _0x23b1aa=_0x2d5ee2;super[_0x23b1aa(0x2c5)](),this[_0x23b1aa(0x47f)](),this[_0x23b1aa(0x786)](),this[_0x23b1aa(0x2df)][_0x23b1aa(0x57b)](_0x5ad091=>{const _0x1c6cb6=_0x23b1aa;_0x5ad091[_0x1c6cb6(0x516)]['video']&&(_0x5ad091[_0x1c6cb6(0x516)][_0x1c6cb6(0x849)][_0x1c6cb6(0x122)]=void 0x0),_0x5ad091[_0x1c6cb6(0x516)][_0x1c6cb6(0x23e)]&&(_0x5ad091[_0x1c6cb6(0x516)]['audio']['sender']=void 0x0);}),this[_0x23b1aa(0x107)]=!0x0;}async[_0x2d5ee2(0x2be)](){return new Promise(async _0x2a351e=>{const _0x133cbd=a0_0x5322;if(!this[_0x133cbd(0x352)]||_0x133cbd(0x2ef)!==this[_0x133cbd(0x352)][_0x133cbd(0x271)])return await _0x4faffa[_0x133cbd(0x84a)](0x64),void _0x2a351e();this['dataChannel'][_0x133cbd(0x2c8)]<_0x6fa343?_0x2a351e():this['dataChannel'][_0x133cbd(0x221)]=()=>{const _0x56b56e=_0x133cbd;this[_0x56b56e(0x352)]&&(this[_0x56b56e(0x352)][_0x56b56e(0x221)]=null),_0x2a351e();};});}[_0x2d5ee2(0x78b)](_0x34bc1c,_0x5068fd){const _0x55b27a=_0x2d5ee2,_0x1983ad=[];for(let _0x439434=0x0;_0x439434<_0x5068fd[_0x55b27a(0x68c)];_0x439434+=_0x2d495b)_0x1983ad[_0x55b27a(0x80e)](_0x5068fd[_0x55b27a(0x13c)](_0x439434,_0x439434+_0x2d495b));for(const _0x1932cb of _0x1983ad)this[_0x55b27a(0x3d8)](_0x598e54+';'+_0x34bc1c[_0x55b27a(0x362)]+';'+_0x1983ad[_0x55b27a(0x555)](_0x1932cb)+';'+_0x1983ad[_0x55b27a(0x68c)]+';'+_0x1932cb,_0x226b6[_0x55b27a(0x5e4)]);}async[_0x2d5ee2(0x3d8)](_0x32702d,_0x2421bb){const _0x1bb5db=_0x2d5ee2;_0x32702d===_0x40d226?this[_0x1bb5db(0x1fc)][_0x1bb5db(0x821)][_0x2421bb]['head']?.[_0x1bb5db(0x161)]!==_0x40d226&&this[_0x1bb5db(0x1fc)]['queues'][_0x2421bb][_0x1bb5db(0x124)](_0x32702d):this[_0x1bb5db(0x1fc)][_0x1bb5db(0x821)][_0x2421bb][_0x1bb5db(0x80e)](_0x32702d);}[_0x2d5ee2(0xa7)](_0x566796){const _0x5e5009=_0x2d5ee2;if(!this[_0x5e5009(0x352)]||_0x5e5009(0x2ef)!==this['dataChannel'][_0x5e5009(0x271)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this['dataChannel'][_0x5e5009(0x2c8)]>=0xbe8000)throw new Error(_0x5e5009(0x782));const _0x245050=Date[_0x5e5009(0x191)]();_0x566796!==_0x40d226&&(this[_0x5e5009(0x608)]+=0x1,this[_0x5e5009(0x812)]+=_0x566796 instanceof ArrayBuffer?_0x566796[_0x5e5009(0x373)]:_0x566796['length']),ArrayBuffer,this[_0x5e5009(0x352)][_0x5e5009(0x23a)](_0x566796),this[_0x5e5009(0xbe)]+=Date[_0x5e5009(0x191)]()-_0x245050;}[_0x2d5ee2(0x1c2)](){const _0x32b834=_0x2d5ee2;this[_0x32b834(0x2cf)]&&this['clearHeartbeat']();let _0x3b0420=!0x0,_0x360066=Date[_0x32b834(0x191)]();this[_0x32b834(0x60a)]=Date['now'](),this[_0x32b834(0x352)][_0x32b834(0xc9)]=_0x4a334e=>{const _0x14b842=_0x32b834;'1'===_0x4a334e[_0x14b842(0x252)]&&(this['roundTripTime']=Date[_0x14b842(0x191)]()-_0x360066,_0x3b0420&&this[_0x14b842(0x229)]({'type':_0x274822[_0x14b842(0x397)]}),_0x3b0420=!0x1,this['lastHeartbeat']=Date[_0x14b842(0x191)](),this['isReconnecting']&&(this[_0x14b842(0x107)]=!0x1,this[_0x14b842(0x710)]()));},this['heartbeatUnsubscriber']=_0x4faffa[_0x32b834(0x52c)](()=>{const _0xa84805=_0x32b834;_0x360066=Date[_0xa84805(0x191)](),this['sendWithRetry'](_0x40d226,_0x226b6[_0xa84805(0x2b1)]),Date[_0xa84805(0x191)]()-this[_0xa84805(0x60a)]>(_0x3b0420?0x15f90:0x3a98)&&this[_0xa84805(0x9d)]();},0xbb8);}[_0x2d5ee2(0x710)](){const _0xbca79b=_0x2d5ee2;this[_0xbca79b(0x2df)]['forEach'](_0x259364=>{const _0x13db3d=_0xbca79b;_0x259364[_0x13db3d(0x516)]['video']&&_0x259364[_0x13db3d(0x516)][_0x13db3d(0x849)][_0x13db3d(0x134)]&&!_0x259364[_0x13db3d(0x516)][_0x13db3d(0x849)]['sender']&&(_0x259364['tracks'][_0x13db3d(0x849)][_0x13db3d(0x122)]=this[_0x13db3d(0x109)]['addTrack'](_0x259364[_0x13db3d(0x516)][_0x13db3d(0x849)]['track'],_0x259364[_0x13db3d(0x35b)])),_0x259364[_0x13db3d(0x516)][_0x13db3d(0x23e)]&&_0x259364[_0x13db3d(0x516)][_0x13db3d(0x23e)]['track']&&!_0x259364[_0x13db3d(0x516)][_0x13db3d(0x23e)][_0x13db3d(0x122)]&&(_0x259364[_0x13db3d(0x516)][_0x13db3d(0x23e)][_0x13db3d(0x122)]=this[_0x13db3d(0x109)][_0x13db3d(0x13d)](_0x259364[_0x13db3d(0x516)][_0x13db3d(0x23e)]['track'],_0x259364[_0x13db3d(0x35b)]));});}[_0x2d5ee2(0x4c4)](){const _0x599530=_0x2d5ee2;this[_0x599530(0x229)]({'type':_0x274822[_0x599530(0x72c)],'candidates':this[_0x599530(0xdf)],'origin':_0xf7c085[_0x599530(0x5c4)],'version':this[_0x599530(0x3c2)],'connectionType':this['connectionType']});}['setupConnectionEvents'](){const _0x397574=_0x2d5ee2;super['setupConnectionEvents'](),this['connection']['onHandshakeStateChange']=()=>{const _0x3637e4=a0_0x5322;if(_0x3637e4(0x283)===this['connection']['handshakeState']){_0x4b7920[_0x3637e4(0x5f9)](_0x27d952[_0x3637e4(0x51c)],_0x3637e4(0x219),this[_0x3637e4(0x5b9)][_0x3637e4(0x7bf)](),this[_0x3637e4(0x7fc)]);try{if(this[_0x3637e4(0x109)]['canRestartHandshake'])return void this[_0x3637e4(0x109)][_0x3637e4(0x672)]();}catch(_0x11dc34){}this[_0x3637e4(0x4ab)]({'handshakeRestart':!0x0});}},this[_0x397574(0x109)][_0x397574(0x560)]=()=>{const _0x2cd728=_0x397574;_0x2cd728(0x6f8)!==this[_0x2cd728(0x109)][_0x2cd728(0x789)]&&_0x2cd728(0x283)!==this['connection'][_0x2cd728(0x789)]||this[_0x2cd728(0x9d)]();};}[_0x2d5ee2(0x9d)](){const _0x5cf2e9=_0x2d5ee2;this[_0x5cf2e9(0x7c8)](),this['clearRestartTimeout'](),this[_0x5cf2e9(0x53a)](),_0x4b7920[_0x5cf2e9(0x17e)](_0x5cf2e9(0x615),{'clusterId':this['clusterId'],'nodeId':this[_0x5cf2e9(0x5b9)][_0x5cf2e9(0x7bf)](),'nodeType':this['localNode'][_0x5cf2e9(0x2f5)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x5cf2e9(0x60c)],'connectionState':this[_0x5cf2e9(0x109)][_0x5cf2e9(0x789)],'iceConnectionState':this['connection'][_0x5cf2e9(0x4cf)],'signalingState':this[_0x5cf2e9(0x109)][_0x5cf2e9(0x692)],'readyState':this[_0x5cf2e9(0x352)]?.['state']||'','lastHeartbeat':this[_0x5cf2e9(0x60a)]?Date[_0x5cf2e9(0x191)]()-this[_0x5cf2e9(0x60a)]:'','retryQueue':this['retryQueue']}}),(this['lastHeartbeat']&&Date[_0x5cf2e9(0x191)]()-this[_0x5cf2e9(0x60a)]>0xea60)??0x1?this['systemTopic']['publish']({'sourceId':this[_0x5cf2e9(0x7fc)],'destinationIds':[this['localNode'][_0x5cf2e9(0x7bf)]()],'messageType':_0xa1c806['PeerConnection'],'content':{'type':_0x274822[_0x5cf2e9(0x2da)]}}):(this['resetConnection'](),this[_0x5cf2e9(0x229)]({'type':_0x274822['NeedRestart'],'version':this[_0x5cf2e9(0x3c2)],'connectionType':this['connectionType']}),this[_0x5cf2e9(0x113)]=setTimeout(()=>{const _0x5e6e83=_0x5cf2e9;this[_0x5e6e83(0x9d)]();},0x7530));}[_0x2d5ee2(0x7c8)](){const _0x39c62a=_0x2d5ee2;this['heartbeatUnsubscriber']?.(),delete this[_0x39c62a(0x2cf)];}[_0x2d5ee2(0x53a)](){const _0x44f3bd=_0x2d5ee2;this[_0x44f3bd(0x426)]&&(clearTimeout(this['connectionTimeout']),delete this['connectionTimeout']);}['clearRestartTimeout'](){const _0x4eace0=_0x2d5ee2;this[_0x4eace0(0x113)]&&(clearTimeout(this[_0x4eace0(0x113)]),delete this[_0x4eace0(0x113)]);}['clearUpgradeTimeout'](){const _0x446173=_0x2d5ee2;this['upgradeTimeout']&&(clearTimeout(this[_0x446173(0x3b1)]),delete this[_0x446173(0x3b1)]);}['setUpgradeTimeout'](){const _0x7bda37=_0x2d5ee2;this[_0x7bda37(0x3b1)]=setTimeout(()=>{const _0x36afdd=_0x7bda37;this['applyRemediation']({'type':_0x35a44e[_0x36afdd(0x28c)],'action':_0x34f061['Upgrade']});},0x3a98);}['getResolutionScale'](_0x4d4880,_0x304fde){const _0x32ecc4=_0x2d5ee2,_0x5d8fcf=Math[_0x32ecc4(0x395)](_0x4d4880[_0x32ecc4(0x857)]/_0x304fde[_0x32ecc4(0x857)],_0x4d4880[_0x32ecc4(0x31d)]/_0x304fde['height']);return Math[_0x32ecc4(0x176)](Math[_0x32ecc4(0x395)](_0x5d8fcf,0x1),0x4);}[_0x2d5ee2(0x786)](){const _0x39d312=_0x2d5ee2;this[_0x39d312(0x86a)]?.(),delete this['waitAnswer'];}['clearOncloseTimeout'](){const _0x5c1a63=_0x2d5ee2;this[_0x5c1a63(0x815)]&&(clearTimeout(this[_0x5c1a63(0x815)]),delete this[_0x5c1a63(0x815)]);}['objectToArrayBuffer'](_0x215f10){const _0x49ae0d=_0x2d5ee2,_0x376a1b=JSON['stringify'](_0x215f10);return new TextEncoder()[_0x49ae0d(0x583)](_0x376a1b)['buffer'];}[_0x2d5ee2(0x338)](_0x1a801f,_0x266156){const _0x476456=_0x2d5ee2,_0x1553ab=this[_0x476456(0x645)](_0x1a801f),_0x95b2ae=new Uint8Array(0x4),_0x18ad9a=new Uint8Array(_0x1553ab),_0x120ca9=new Uint8Array(_0x266156);_0x95b2ae['set'](new Uint8Array(new Uint32Array([_0x18ad9a['length']])[_0x476456(0x625)]));const _0x1dc0fc=new Uint8Array(0x4+_0x18ad9a[_0x476456(0x68c)]+_0x120ca9[_0x476456(0x68c)]);return _0x1dc0fc[_0x476456(0x1d0)](_0x95b2ae),_0x1dc0fc[_0x476456(0x1d0)](_0x18ad9a,0x4),_0x1dc0fc['set'](_0x120ca9,0x4+_0x18ad9a['length']),_0x1dc0fc[_0x476456(0x625)];}}class _0x2669d0 extends _0x30b57e{['iceServers'];[_0x2d5ee2(0x60c)];['maxFps'];[_0x2d5ee2(0x863)];[_0x2d5ee2(0x848)];['senderConnection'];[_0x2d5ee2(0x71f)];['receiverUnsubscribers']=[];[_0x2d5ee2(0x49f)]=_0x368dbe();['trackListeners']=_0x368dbe();[_0x2d5ee2(0x585)]=_0x368dbe();[_0x2d5ee2(0xcb)]=[];[_0x2d5ee2(0x319)];[_0x2d5ee2(0x742)]=new Map();[_0x2d5ee2(0x72b)]=new Map();[_0x2d5ee2(0x2b8)]=new Map();[_0x2d5ee2(0x1cf)]=new Map();['successNotified']=!0x1;constructor(_0x2f962f,_0x44b60b,_0x31c40d,_0x569810,_0x1cf583,_0x50ca61,_0x7b459,_0x1355c5){const _0x4cd1e1=_0x2d5ee2;super(_0x2f962f,_0x44b60b,_0x31c40d),this[_0x4cd1e1(0x25f)]=_0x569810,this[_0x4cd1e1(0x60c)]=_0x1cf583,this[_0x4cd1e1(0x823)]=_0x50ca61,this['maxBpp']=_0x7b459,this[_0x4cd1e1(0x848)]=_0x1355c5;}['registerPublisher'](_0x50831b){const _0x47f806=_0x2d5ee2;switch(_0x50831b[_0x47f806(0x813)]()){case _0x3f2cd3[_0x47f806(0x1f9)][_0x47f806(0x3b7)]:case _0x3f2cd3[_0x47f806(0x1f9)][_0x47f806(0x35a)]:case _0x3f2cd3[_0x47f806(0x1f9)][_0x47f806(0x35c)]:case _0x3f2cd3['ContentType']['KeyValueDatabase']:case _0x3f2cd3[_0x47f806(0x1f9)][_0x47f806(0x22e)]:case _0x3f2cd3['ContentType'][_0x47f806(0x218)]:case _0x3f2cd3[_0x47f806(0x1f9)][_0x47f806(0x25b)]:this['dataTopics'][_0x47f806(0x1d0)](_0x50831b['getLabel'](),_0x50831b);break;case _0x3f2cd3[_0x47f806(0x1f9)][_0x47f806(0x5b7)]:this[_0x47f806(0x2b8)][_0x47f806(0x1d0)](_0x50831b['getLabel'](),_0x50831b);}}[_0x2d5ee2(0x405)](_0x215c21){const _0x44089f=_0x2d5ee2;switch(_0x215c21[_0x44089f(0x813)]()){case _0x3f2cd3['ContentType'][_0x44089f(0x3b7)]:case _0x3f2cd3[_0x44089f(0x1f9)][_0x44089f(0x35a)]:case _0x3f2cd3[_0x44089f(0x1f9)][_0x44089f(0x35c)]:case _0x3f2cd3['ContentType']['KeyValueDatabase']:case _0x3f2cd3['ContentType']['Job']:case _0x3f2cd3[_0x44089f(0x1f9)][_0x44089f(0x218)]:case _0x3f2cd3[_0x44089f(0x1f9)][_0x44089f(0x25b)]:this[_0x44089f(0x742)][_0x44089f(0x201)](_0x215c21[_0x44089f(0x127)]());break;case _0x3f2cd3[_0x44089f(0x1f9)][_0x44089f(0x5b7)]:this['mediaTopics'][_0x44089f(0x201)](_0x215c21[_0x44089f(0x127)]());}}[_0x2d5ee2(0x768)](_0x3643cf){const _0x42ac2d=_0x2d5ee2;switch(_0x3643cf[_0x42ac2d(0x813)]()){case _0x3f2cd3[_0x42ac2d(0x1f9)][_0x42ac2d(0x3b7)]:case _0x3f2cd3['ContentType'][_0x42ac2d(0x35a)]:case _0x3f2cd3[_0x42ac2d(0x1f9)][_0x42ac2d(0x35c)]:case _0x3f2cd3[_0x42ac2d(0x1f9)]['KeyValueDatabase']:case _0x3f2cd3[_0x42ac2d(0x1f9)][_0x42ac2d(0x22e)]:case _0x3f2cd3['ContentType'][_0x42ac2d(0x218)]:case _0x3f2cd3[_0x42ac2d(0x1f9)]['GraphDatabase']:{const _0x3fe239=_0x3643cf[_0x42ac2d(0x21a)](_0x44ab49=>{const _0x1d680e=_0x42ac2d;_0x379291(_0x44ab49,this[_0x1d680e(0x1bc)]())&&_0x10c135(_0x44ab49,this[_0x1d680e(0x7fc)])&&this[_0x1d680e(0x23a)](_0x44ab49);});this[_0x42ac2d(0x72b)]['set'](_0x3643cf['getLabel'](),_0x3fe239);break;}case _0x3f2cd3['ContentType'][_0x42ac2d(0x5b7)]:{const _0x1c9fec=_0x3643cf['subscribe'](({content:_0x140560})=>{const _0x46fbbd=_0x42ac2d;switch(_0x140560['action']){case _0x16347b[_0x46fbbd(0x5c5)]:this[_0x46fbbd(0x13d)](_0x140560[_0x46fbbd(0x134)],_0x140560[_0x46fbbd(0x35b)],_0x140560[_0x46fbbd(0x6c8)],_0x140560['params']);break;case _0x16347b[_0x46fbbd(0xb0)]:this['removeTrack'](_0x140560[_0x46fbbd(0x134)],_0x140560[_0x46fbbd(0x35b)]);break;case _0x16347b[_0x46fbbd(0x210)]:_0x140560[_0x46fbbd(0x6c8)]&&this[_0x46fbbd(0x347)](_0x140560['stream'],_0x140560[_0x46fbbd(0x6c8)]),_0x140560[_0x46fbbd(0x306)]&&this[_0x46fbbd(0x16d)](_0x140560['stream'],_0x140560[_0x46fbbd(0x306)]);}});this[_0x42ac2d(0x1cf)][_0x42ac2d(0x1d0)](_0x3643cf[_0x42ac2d(0x127)](),_0x1c9fec);break;}}}[_0x2d5ee2(0x59b)](_0x3b715f){const _0x689dd5=_0x2d5ee2;switch(_0x3b715f[_0x689dd5(0x813)]()){case _0x3f2cd3['ContentType']['Data']:case _0x3f2cd3[_0x689dd5(0x1f9)][_0x689dd5(0x35a)]:case _0x3f2cd3[_0x689dd5(0x1f9)]['ObjectStore']:case _0x3f2cd3[_0x689dd5(0x1f9)]['KeyValueDatabase']:case _0x3f2cd3[_0x689dd5(0x1f9)][_0x689dd5(0x22e)]:case _0x3f2cd3[_0x689dd5(0x1f9)][_0x689dd5(0x218)]:case _0x3f2cd3[_0x689dd5(0x1f9)]['GraphDatabase']:this[_0x689dd5(0x72b)]['get'](_0x3b715f['getLabel']())?.(),this['dataUnsubscribers'][_0x689dd5(0x201)](_0x3b715f['getLabel']());break;case _0x3f2cd3[_0x689dd5(0x1f9)][_0x689dd5(0x5b7)]:this[_0x689dd5(0x1cf)][_0x689dd5(0x548)](_0x3b715f[_0x689dd5(0x127)]())?.(),this['mediaUnsubscribers']['delete'](_0x3b715f['getLabel']());}}[_0x2d5ee2(0x3bd)](){const _0x4def80=_0x2d5ee2;return[_0x3f2cd3['ContentType'][_0x4def80(0x3b7)],_0x3f2cd3[_0x4def80(0x1f9)][_0x4def80(0x5b7)],_0x3f2cd3[_0x4def80(0x1f9)]['PubSub'],_0x3f2cd3[_0x4def80(0x1f9)][_0x4def80(0x35c)],_0x3f2cd3[_0x4def80(0x1f9)][_0x4def80(0x830)],_0x3f2cd3[_0x4def80(0x1f9)]['Job'],_0x3f2cd3[_0x4def80(0x1f9)][_0x4def80(0x218)],_0x3f2cd3[_0x4def80(0x1f9)][_0x4def80(0x25b)]];}[_0x2d5ee2(0x59c)](_0x4dbf5e){this['systemTopic']=_0x4dbf5e;}['unregisterSystemPublisher'](){const _0x1d32ce=_0x2d5ee2;delete this[_0x1d32ce(0x319)];}async[_0x2d5ee2(0x5bf)](){const _0x3abe30=_0x2d5ee2;this['setupListeners'](),await this[_0x3abe30(0x4ab)]();}['close'](){const _0x3f3d2f=_0x2d5ee2;this[_0x3f3d2f(0xcb)][_0x3f3d2f(0x57b)](_0x2ea25f=>_0x2ea25f()),this['listenerUnsubscribers']=[],this[_0x3f3d2f(0x52e)]?.[_0x3f3d2f(0x824)](),this['senderConnection']?.[_0x3f3d2f(0x582)](),delete this['senderConnection'],this[_0x3f3d2f(0x7b0)][_0x3f3d2f(0x57b)](_0x53b124=>_0x53b124()),this[_0x3f3d2f(0x7b0)]=[],this[_0x3f3d2f(0x71f)]?.['unregisterSystemPublisher'](),this[_0x3f3d2f(0x71f)]?.[_0x3f3d2f(0x582)](),delete this[_0x3f3d2f(0x71f)];}[_0x2d5ee2(0x125)](){const _0x235d2f=_0x2d5ee2;return this[_0x235d2f(0x52e)]?.[_0x235d2f(0x125)]()&&this[_0x235d2f(0x71f)]?.[_0x235d2f(0x125)]()||!0x1;}[_0x2d5ee2(0x23a)](_0x4ac7a4){const _0x54ea4f=_0x2d5ee2;if(!this[_0x54ea4f(0x52e)]||!this[_0x54ea4f(0x125)]())throw new _0x177832(_0x177832[_0x54ea4f(0x492)][_0x54ea4f(0x64a)],{'message':_0x54ea4f(0x265),'senderConnected':this[_0x54ea4f(0x52e)]?.['isConnected'](),'receiverConnected':this['receiverConnection']?.[_0x54ea4f(0x125)](),'localId':this[_0x54ea4f(0x1bc)](),'remoteId':this[_0x54ea4f(0x7fc)],'data':_0x4ac7a4});this[_0x54ea4f(0x52e)][_0x54ea4f(0x23a)](_0x4ac7a4);}['onMessage'](_0x351eb9){const _0x317f1e=_0x2d5ee2;return this[_0x317f1e(0x49f)][_0x317f1e(0x21a)](_0x351eb9);}[_0x2d5ee2(0x73d)](_0x1f77b6){const _0x2db754=_0x2d5ee2;return this[_0x2db754(0x5a6)][_0x2db754(0x21a)](({track:_0x5083e3,stream:_0x4f4a58})=>_0x1f77b6(_0x5083e3,_0x4f4a58));}[_0x2d5ee2(0x312)](_0x45f17c){const _0x38aea5=_0x2d5ee2;return this[_0x38aea5(0x585)][_0x38aea5(0x21a)](({track:_0x50b282,stream:_0x5a34f6})=>_0x45f17c(_0x50b282,_0x5a34f6));}[_0x2d5ee2(0x13d)](_0x5034c9,_0x56c017,_0x5f57c7,_0x35ae87){const _0xfd8673=_0x2d5ee2;this[_0xfd8673(0x52e)]?.[_0xfd8673(0x13d)](_0x5034c9,_0x56c017,_0x5f57c7,_0x35ae87);}[_0x2d5ee2(0x347)](_0x4336f2,_0x3e15ab){const _0x19017b=_0x2d5ee2;this[_0x19017b(0x52e)]?.[_0x19017b(0x347)](_0x4336f2,_0x3e15ab);}[_0x2d5ee2(0x16d)](_0xa6e63,_0x349250){const _0xa042bd=_0x2d5ee2;this[_0xa042bd(0x52e)]?.[_0xa042bd(0x16d)](_0xa6e63,_0x349250);}[_0x2d5ee2(0x7d1)](_0xd4f940,_0x2b5699){const _0x33dfd0=_0x2d5ee2;this[_0x33dfd0(0x52e)]?.[_0x33dfd0(0x7d1)](_0xd4f940,_0x2b5699);}async[_0x2d5ee2(0x643)](_0x3cbb73){const _0x40e5be=_0x2d5ee2;_0x4b7920[_0x40e5be(0x5f9)](_0x27d952[_0x40e5be(0x36c)],_0x40e5be(0x257),this[_0x40e5be(0x1bc)](),_0x3cbb73);const {content:_0x4ef131}=_0x3cbb73;switch(_0x4ef131[_0x40e5be(0x2f5)]){case _0x274822[_0x40e5be(0x3c5)]:await this[_0x40e5be(0x5cd)](_0x4ef131);break;case _0x274822[_0x40e5be(0x356)]:await this[_0x40e5be(0x5df)](_0x4ef131);break;case _0x274822['Success']:this[_0x40e5be(0x457)]();break;case _0x274822[_0x40e5be(0x72c)]:await this[_0x40e5be(0x856)](_0x4ef131);break;case _0x274822['NeedRestart']:this[_0x40e5be(0x7ff)](_0x4ef131);break;case _0x274822[_0x40e5be(0x654)]:await this[_0x40e5be(0x4ab)]();}}['handleRemediationSystemEvents'](_0x2a4777){const _0x5d2174=_0x2d5ee2;this[_0x5d2174(0x52e)]?.[_0x5d2174(0x841)](_0x2a4777[_0x5d2174(0x262)][_0x5d2174(0x252)]);}['getConnectionType'](){const _0x286649=_0x2d5ee2;return this[_0x286649(0x60c)];}['setConnectionType'](_0x14722e){const _0x367ee7=_0x2d5ee2;this[_0x367ee7(0x60c)]=_0x14722e,this[_0x367ee7(0x52e)]?.[_0x367ee7(0x727)](_0x14722e),this['receiverConnection']?.['setConnectionType'](_0x14722e);}async[_0x2d5ee2(0x1c4)](){const _0x39aa7c=_0x2d5ee2;await this[_0x39aa7c(0x52e)]?.[_0x39aa7c(0x1c4)](),await this[_0x39aa7c(0x71f)]?.[_0x39aa7c(0x1c4)]();}['calculateArrayBufferSize'](){const _0x5d3232=_0x2d5ee2;return this['senderConnection']?.[_0x5d3232(0xc0)]()??0x0;}[_0x2d5ee2(0x866)](){const _0x276e62=_0x2d5ee2;return this[_0x276e62(0x52e)]?.[_0x276e62(0x866)]()??0x0;}[_0x2d5ee2(0x4a5)](){const _0x5aa53c=_0x2d5ee2;this[_0x5aa53c(0xcb)][_0x5aa53c(0x80e)](this[_0x5aa53c(0xc9)](_0x1f4b1e=>{const _0x2fc9f6=_0x5aa53c;_0x10c135(_0x1f4b1e,this[_0x2fc9f6(0x1bc)]())&&0x0!==_0x1f4b1e[_0x2fc9f6(0x716)]&&this[_0x2fc9f6(0x742)][_0x2fc9f6(0x548)](_0x1f4b1e[_0x2fc9f6(0x716)])?.[_0x2fc9f6(0xef)](_0x1f4b1e);})),this[_0x5aa53c(0xcb)][_0x5aa53c(0x80e)](this[_0x5aa53c(0x73d)]((_0x25cbcd,_0x48f0ac)=>{const _0x155cc5=_0x5aa53c,_0x30fd62=_0x2a6e2(_0x3f2cd3[_0x155cc5(0x1f9)]['Media'],_0x48f0ac['id'],this['remoteId']);this[_0x155cc5(0x2b8)][_0x155cc5(0x548)](_0x30fd62)?.[_0x155cc5(0xef)]({'topicLabel':_0x30fd62,'sourceId':this[_0x155cc5(0x7fc)],'contentType':_0x3f2cd3[_0x155cc5(0x1f9)][_0x155cc5(0x5b7)],'content':{'action':_0x16347b[_0x155cc5(0x1f5)],'track':_0x25cbcd,'stream':_0x48f0ac,'providerId':this[_0x155cc5(0x7fc)]}});})),this['listenerUnsubscribers'][_0x5aa53c(0x80e)](this['onRemoveTrack']((_0x1aa034,_0x584501)=>{const _0x11aff5=_0x5aa53c,_0x57258b=_0x2a6e2(_0x3f2cd3[_0x11aff5(0x1f9)]['Media'],_0x584501['id'],this['remoteId']);this[_0x11aff5(0x2b8)][_0x11aff5(0x548)](_0x57258b)?.['publish']({'topicLabel':_0x57258b,'sourceId':this[_0x11aff5(0x7fc)],'contentType':_0x3f2cd3['ContentType'][_0x11aff5(0x5b7)],'content':{'action':_0x16347b[_0x11aff5(0x5db)],'track':_0x1aa034,'stream':_0x584501,'providerId':this[_0x11aff5(0x7fc)]}});}));}[_0x2d5ee2(0x856)]({candidates:_0x496d98,origin:_0x3b954b,version:_0x4112fd}){const _0x3cd51a=_0x2d5ee2;return _0x3b954b===_0xf7c085[_0x3cd51a(0x5c4)]?(this[_0x3cd51a(0x71f)]||this[_0x3cd51a(0x686)](),this[_0x3cd51a(0x71f)][_0x3cd51a(0x471)](_0x496d98,_0x4112fd)):this[_0x3cd51a(0x52e)]['handleHandshake'](_0x496d98,_0x4112fd);}async['createOffer'](){const _0x356ca7=_0x2d5ee2;this[_0x356ca7(0x52e)]||this[_0x356ca7(0xe1)](),await this[_0x356ca7(0x52e)][_0x356ca7(0x4ab)]();}async['handleOffer']({offer:_0x24c405,version:_0x5947b3}){const _0x528713=_0x2d5ee2;this[_0x528713(0x71f)]||this[_0x528713(0x686)](),await this['receiverConnection']['handleOffer'](_0x24c405,_0x5947b3);}async['handleAnswer']({answer:_0x44eb10,version:_0x5607b6}){const _0x231809=_0x2d5ee2;if(!this[_0x231809(0x52e)])throw new _0x177832(_0x177832['codes']['ConnectionNotinitialized'],{'message':_0x231809(0x542),'localId':this[_0x231809(0x1bc)](),'remoteId':this[_0x231809(0x7fc)],'answer':_0x44eb10});await this[_0x231809(0x52e)][_0x231809(0x5df)](_0x44eb10,_0x5607b6);}[_0x2d5ee2(0x457)](){const _0x17fa66=_0x2d5ee2;if(!this[_0x17fa66(0x71f)])throw new _0x177832(_0x177832['codes'][_0x17fa66(0x64a)],{'message':_0x17fa66(0x421),'localId':this[_0x17fa66(0x1bc)](),'remoteId':this['remoteId']});this['receiverConnection'][_0x17fa66(0x457)](),this[_0x17fa66(0x744)]||this[_0x17fa66(0x60c)]!==_0x5497ef[_0x17fa66(0x650)]||(this[_0x17fa66(0x744)]=!0x0,this[_0x17fa66(0x319)]?.[_0x17fa66(0xef)]({'sourceId':this[_0x17fa66(0x7fc)],'destinationIds':[this[_0x17fa66(0x1bc)]()],'messageType':_0xa1c806[_0x17fa66(0x3d7)],'content':{'type':_0x274822[_0x17fa66(0x63d)]}}));}['handleNeedRestart'](_0x37f2d4){const _0xd10ef3=_0x2d5ee2;this[_0xd10ef3(0x71f)]||this[_0xd10ef3(0x686)](),this[_0xd10ef3(0x71f)]['handleNeedRestart'](_0x37f2d4['version']);}['createSenderConnection'](){const _0xa59958=_0x2d5ee2;this[_0xa59958(0x52e)]=new _0x5f08ff(this['clusterId'],this['localNode'],this['remoteId'],this['iceServers'],this[_0xa59958(0x60c)],this[_0xa59958(0x823)],this[_0xa59958(0x863)],this[_0xa59958(0x848)]),this[_0xa59958(0x52e)][_0xa59958(0x59c)](this[_0xa59958(0x319)]);}['createReceiverConnection'](){const _0x5d861b=_0x2d5ee2;this[_0x5d861b(0x71f)]=new _0x515f1c(this[_0x5d861b(0x2dd)],this[_0x5d861b(0x5b9)],this[_0x5d861b(0x7fc)],this['iceServers'],this[_0x5d861b(0x60c)],this[_0x5d861b(0x848)]),this[_0x5d861b(0x71f)][_0x5d861b(0x59c)](this['systemTopic']),this[_0x5d861b(0x7b0)][_0x5d861b(0x80e)](this['receiverConnection'][_0x5d861b(0xc9)](_0x36aeed=>this[_0x5d861b(0x49f)][_0x5d861b(0xef)](_0x36aeed))),this[_0x5d861b(0x7b0)][_0x5d861b(0x80e)](this[_0x5d861b(0x71f)]['onTrack']((_0x230c23,_0x2ba13f)=>this[_0x5d861b(0x5a6)][_0x5d861b(0xef)]({'track':_0x230c23,'stream':_0x2ba13f}))),this[_0x5d861b(0x7b0)][_0x5d861b(0x80e)](this[_0x5d861b(0x71f)][_0x5d861b(0x312)]((_0x37a3ec,_0x1d8ceb)=>this['removeTrackListeners'][_0x5d861b(0xef)]({'track':_0x37a3ec,'stream':_0x1d8ceb})));}}class _0x409aa4{['localId'];['messageBuffer'];['graphService'];['connections']=new Map();[_0x2d5ee2(0x49f)]=_0x368dbe();[_0x2d5ee2(0x757)];[_0x2d5ee2(0x742)]=new Map();['dataUnsubscribers']=new Map();['retryQueues']=new Map();constructor(_0x3d6dfe,_0x32b465,_0x557ad2){const _0x5a0db5=_0x2d5ee2;this[_0x5a0db5(0x7cf)]=_0x3d6dfe,this[_0x5a0db5(0x78f)]=_0x32b465,this['graphService']=_0x557ad2,this[_0x5a0db5(0x757)]=this[_0x5a0db5(0xc9)](_0x5b1f72=>{const _0x5bdec5=_0x5a0db5;this[_0x5bdec5(0x78f)][_0x5bdec5(0x46b)](_0x5b1f72[_0x5bdec5(0x362)])||(_0x10c135(_0x5b1f72,this[_0x5bdec5(0x7cf)])&&0x0!==_0x5b1f72[_0x5bdec5(0x716)]&&(this[_0x5bdec5(0x78f)][_0x5bdec5(0x806)](_0x5b1f72[_0x5bdec5(0x362)]),this[_0x5bdec5(0x742)][_0x5bdec5(0x548)](_0x5b1f72[_0x5bdec5(0x716)])?.['publish'](_0x5b1f72)),_0x5b1f72['propagate']&&this[_0x5bdec5(0x23a)](_0x5b1f72));});}[_0x2d5ee2(0x582)](){const _0x53e075=_0x2d5ee2;this[_0x53e075(0x757)]?.();}['addConnection'](_0x3b33ed){const _0x362d46=_0x2d5ee2,_0x3b15e6=_0x3b33ed[_0x362d46(0xc9)](_0x47844e=>{const _0x84abbc=_0x362d46;this[_0x84abbc(0x49f)][_0x84abbc(0xef)](_0x47844e);});this[_0x362d46(0xff)][_0x362d46(0x1d0)](_0x3b33ed,_0x3b15e6),this[_0x362d46(0x1c7)][_0x362d46(0x1d0)](_0x3b33ed[_0x362d46(0x149)](),function(_0x4c00a6,_0x41721d=!0x1){let _0x1a845e=new Map();const _0x1397da=_0x39f446(_0x4c00a6,_0x41721d,function(_0x181658){const _0x59f036=a0_0x5322;_0x5712d7(_0x181658)&&_0x1a845e[_0x59f036(0x201)](_0x181658[_0x59f036(0x51e)]+'-'+(_0x181658[_0x59f036(0x449)]??[])+'-'+_0x181658[_0x59f036(0x598)]+'-'+_0x181658[_0x59f036(0x262)][_0x59f036(0x2f5)]);},function(_0x72884b){return!!function(_0x48e947){const _0x2f5165=a0_0x5322,_0x1d87f3=_0x48e947[_0x2f5165(0x161)];if(!_0x5712d7(_0x1d87f3))return!0x1;const _0x2434e6=_0x1d87f3[_0x2f5165(0x51e)]+'-'+(_0x1d87f3[_0x2f5165(0x449)]??[])+'-'+_0x1d87f3[_0x2f5165(0x598)]+'-'+_0x1d87f3[_0x2f5165(0x262)]['type'],_0x50c82a={'version':_0x1d87f3[_0x2f5165(0x262)]['version'],'element':_0x48e947},_0x59d80f=_0x1a845e['get'](_0x2434e6);return _0x59d80f?(_0x59d80f['version']>=_0x1d87f3[_0x2f5165(0x262)][_0x2f5165(0x3c4)]||(_0x59d80f[_0x2f5165(0x6ed)][_0x2f5165(0x640)]&&(_0x59d80f[_0x2f5165(0x6ed)]['previous'][_0x2f5165(0x81d)]=_0x48e947,_0x48e947[_0x2f5165(0x640)]=_0x59d80f[_0x2f5165(0x6ed)][_0x2f5165(0x640)]),_0x59d80f[_0x2f5165(0x6ed)][_0x2f5165(0x81d)]&&(_0x59d80f[_0x2f5165(0x6ed)]['next'][_0x2f5165(0x640)]=_0x48e947,_0x48e947[_0x2f5165(0x81d)]=_0x59d80f[_0x2f5165(0x6ed)]['next']),_0x59d80f[_0x2f5165(0x6ed)]===_0x1397da[_0x2f5165(0x502)]&&(_0x1397da[_0x2f5165(0x502)]=_0x48e947),_0x59d80f['element']===_0x1397da[_0x2f5165(0xa9)]&&(_0x1397da[_0x2f5165(0xa9)]=_0x48e947),_0x1a845e[_0x2f5165(0x1d0)](_0x2434e6,_0x50c82a)),!0x0):(_0x1a845e[_0x2f5165(0x1d0)](_0x2434e6,_0x50c82a),!0x1);}(_0x72884b);},function(){const _0xbcd699=a0_0x5322;_0x1a845e[_0xbcd699(0x63e)]();});function _0x5712d7(_0x2d1c63){const _0x1b63e5=a0_0x5322;if(_0x2d1c63&&'object'==typeof _0x2d1c63&&_0x2d1c63[_0x1b63e5(0x6fa)](_0x1b63e5(0x262))&&_0x2d1c63[_0x1b63e5(0x6fa)](_0x1b63e5(0x598))&&_0x2d1c63[_0x1b63e5(0x6fa)](_0x1b63e5(0x51e))){const _0x19204e=_0x2d1c63;if(_0x19204e[_0x1b63e5(0x262)]&&_0x1b63e5(0x5fc)==typeof _0x19204e[_0x1b63e5(0x262)]&&_0x19204e[_0x1b63e5(0x262)][_0x1b63e5(0x6fa)](_0x1b63e5(0x3c4))&&_0x19204e[_0x1b63e5(0x262)]['hasOwnProperty'](_0x1b63e5(0x2f5)))return!0x0;}return!0x1;}return _0x1397da;}(new _0x2cf9e1(_0x45b476=>_0x3b33ed[_0x362d46(0x23a)](_0x45b476),()=>_0x4faffa[_0x362d46(0x84a)](0x64))));}['removeConnection'](_0x27687c){const _0xc86ede=_0x2d5ee2;this['connections'][_0xc86ede(0x548)](_0x27687c)?.(),this[_0xc86ede(0xff)]['delete'](_0x27687c),this[_0xc86ede(0x1c7)]['get'](_0x27687c[_0xc86ede(0x149)]())?.[_0xc86ede(0x63e)](),this['retryQueues'][_0xc86ede(0x201)](_0x27687c['getRemoteId']());}['isConnected'](_0x1c98e5){const _0x404112=_0x2d5ee2;return _0x4b7920[_0x404112(0x5f9)](_0x27d952[_0x404112(0x51c)],'ConnectionGroup',this[_0x404112(0x7cf)],this[_0x404112(0xff)]['keys']()),0x0!==this[_0x404112(0xff)][_0x404112(0x6b6)]&&(Array[_0x404112(0x81b)](this[_0x404112(0xff)][_0x404112(0x41f)]())[_0x404112(0x76e)](_0x370ae4=>_0x370ae4['getRemoteId']()===_0x1c98e5)?.[_0x404112(0x125)]()??!0x1);}[_0x2d5ee2(0x733)](_0x12f043){const _0x210571=_0x2d5ee2;this[_0x210571(0x742)]['set'](_0x12f043[_0x210571(0x127)](),_0x12f043);}[_0x2d5ee2(0x405)](_0x4c9eff){const _0x3a7080=_0x2d5ee2;this['dataTopics'][_0x3a7080(0x201)](_0x4c9eff[_0x3a7080(0x127)]());}[_0x2d5ee2(0x768)](_0x557936){const _0x3d6c87=_0x2d5ee2,_0x10aea7=_0x557936['subscribe'](this[_0x3d6c87(0x23a)][_0x3d6c87(0x13b)](this));this[_0x3d6c87(0x72b)][_0x3d6c87(0x1d0)](_0x557936[_0x3d6c87(0x127)](),_0x10aea7);}[_0x2d5ee2(0x59b)](_0x1c2ca6){const _0x461e41=_0x2d5ee2;this[_0x461e41(0x72b)][_0x461e41(0x548)](_0x1c2ca6[_0x461e41(0x127)]())?.(),this[_0x461e41(0x72b)][_0x461e41(0x201)](_0x1c2ca6[_0x461e41(0x127)]());}['getSupportedContentTypes'](){const _0x4716ec=_0x2d5ee2;return[_0x3f2cd3[_0x4716ec(0x1f9)][_0x4716ec(0x3b7)],_0x3f2cd3['ContentType'][_0x4716ec(0x35a)],_0x3f2cd3[_0x4716ec(0x1f9)][_0x4716ec(0x35c)],_0x3f2cd3['ContentType'][_0x4716ec(0x830)],_0x3f2cd3[_0x4716ec(0x1f9)][_0x4716ec(0x22e)],_0x3f2cd3[_0x4716ec(0x1f9)]['VectorDatabase'],_0x3f2cd3['ContentType'][_0x4716ec(0x25b)]];}[_0x2d5ee2(0x23a)](_0x444a43){const _0x332201=_0x2d5ee2;if(!0x1===_0x444a43['retry']){if(_0x444a43['propagate']||!_0x444a43[_0x332201(0x449)]||0x1!==_0x444a43[_0x332201(0x449)][_0x332201(0x68c)])throw new _0x177832(_0x177832[_0x332201(0x492)][_0x332201(0x5d1)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x332201(0x7cf)]});if(!this['isConnected'](_0x444a43[_0x332201(0x449)][0x0]))throw new _0x35d823(_0x332201(0x481));}const _0x3d0316=_0x444a43[_0x332201(0xa0)]??[];try{const {filteredDestinationIds:_0x3ea368,extendedRecipients:_0x20df9d}=this[_0x332201(0x5a1)](_0x444a43,_0x3d0316);_0x444a43[_0x332201(0x449)]=_0x3ea368,_0x444a43[_0x332201(0xa0)]=_0x20df9d;}catch(_0x32bb37){if(_0x32bb37 instanceof _0x35d823)return void _0x4b7920[_0x332201(0x5f9)](_0x27d952[_0x332201(0x36c)],_0x332201(0x31f),'Early\x20return',_0x444a43,_0x32bb37['message']);}const _0xe977da=this[_0x332201(0x108)](_0x444a43);this[_0x332201(0x19b)](_0x444a43,_0xe977da),_0x444a43[_0x332201(0x114)]=_0xe977da;const _0x58780d=this[_0x332201(0x440)](_0x444a43,_0x3d0316);for(const _0x5c056d of _0x58780d){const _0x4f0a63=this[_0x332201(0x1c7)]['get'](_0x5c056d[_0x332201(0x149)]());if(!_0x4f0a63)throw new _0x177832(_0x177832[_0x332201(0x492)][_0x332201(0x698)],{'message':_0x332201(0x1ef),'localId':this[_0x332201(0x7cf)],'remoteId':_0x5c056d[_0x332201(0x149)](),'data':_0x444a43});_0x4f0a63['push'](_0x444a43);}}[_0x2d5ee2(0x149)](){return'';}[_0x2d5ee2(0x1bc)](){const _0x16c9db=_0x2d5ee2;return this[_0x16c9db(0x7cf)];}[_0x2d5ee2(0xc9)](_0x286aed){const _0x3c4035=_0x2d5ee2;return this[_0x3c4035(0x49f)][_0x3c4035(0x21a)](_0x286aed);}[_0x2d5ee2(0x5a1)](_0xa5049b,_0x212bee){const _0x3e4382=_0x2d5ee2,_0xa1b2b={'filteredDestinationIds':_0xa5049b[_0x3e4382(0x449)],'extendedRecipients':_0xa5049b[_0x3e4382(0xa0)]};if(!_0xa5049b[_0x3e4382(0x114)])return _0xa1b2b;const _0x4d593d=Array[_0x3e4382(0x81b)](this[_0x3e4382(0xff)][_0x3e4382(0x41f)]())[_0x3e4382(0x2e4)](_0x2e5090=>_0x2e5090['getConnectionType']()===_0x5497ef['Core']||_0x2e5090[_0x3e4382(0x125)]())['map'](_0x4af049=>_0x4af049[_0x3e4382(0x149)]());if(_0x4d593d[_0x3e4382(0x488)]((_0x4b7507,_0x4e582e)=>_0x4b7507&&_0xa5049b['recipients'][_0x3e4382(0x51a)](_0x4e582e),!0x0))throw new _0x35d823(_0x3e4382(0x25c));if(_0xa5049b[_0x3e4382(0x449)]){const _0x502e94=_0xa5049b['destinationIds']['filter'](_0xe2cf43=>_0xe2cf43!==this[_0x3e4382(0x7cf)]&&!_0xa5049b[_0x3e4382(0xa0)]['includes'](_0xe2cf43));if(0x0===_0x502e94['length'])throw new _0x35d823('No\x20destinationIds\x20left');_0xa1b2b['filteredDestinationIds']=_0x502e94;}return _0xa1b2b['extendedRecipients']=[...new Set([..._0x212bee,..._0x4d593d,this[_0x3e4382(0x7cf)]])],_0xa1b2b;}[_0x2d5ee2(0x19b)](_0x28d46f,_0x5a2042=!0x1){const _0x4849b1=_0x2d5ee2;if(0x0===_0x28d46f[_0x4849b1(0x716)]&&!_0x379291(_0x28d46f,this[_0x4849b1(0x7cf)])&&_0x28d46f[_0x4849b1(0x114)]){const _0x1c5c49=_0x206b96(_0x28d46f,this[_0x4849b1(0x7cf)]);_0x4b7920['logRaw'](_0x27d952[_0x4849b1(0x3c8)],_0x28d46f[_0x4849b1(0x362)]+_0x4849b1(0x581)+_0x5a2042+')\x20'+_0x1c5c49,_0x28d46f,_0x5a2042);}}[_0x2d5ee2(0x108)](_0x11e0c7){const _0x33882e=_0x2d5ee2;if(_0x11e0c7[_0x33882e(0x449)]&&_0x11e0c7[_0x33882e(0x114)]){const _0x321434=Array[_0x33882e(0x81b)](this['connections'][_0x33882e(0x41f)]())[_0x33882e(0x2e4)](_0x8cd7b2=>_0x8cd7b2[_0x33882e(0xb4)]()===_0x5497ef[_0x33882e(0x24d)]||_0x8cd7b2[_0x33882e(0x125)]())[_0x33882e(0x313)](_0x5173b3=>_0x5173b3[_0x33882e(0x149)]());return!_0x11e0c7['destinationIds'][_0x33882e(0x488)]((_0x435b4d,_0x3f9d68)=>_0x435b4d&&_0x321434[_0x33882e(0x51a)](_0x3f9d68),!0x0);}return _0x11e0c7[_0x33882e(0x114)]??!0x1;}['getConnectionDestinations'](_0x326d38,_0x26bc74){const _0xe3db16=_0x2d5ee2;if(_0x326d38['propagate']&&_0x326d38[_0xe3db16(0x449)]){const _0x293caf=Array[_0xe3db16(0x81b)](this['connections']['keys']())[_0xe3db16(0x2e4)](_0x1ac626=>_0x1ac626[_0xe3db16(0xb4)]()===_0x5497ef['Core']||_0x1ac626[_0xe3db16(0x125)]())[_0xe3db16(0x313)](_0x2b715f=>_0x2b715f[_0xe3db16(0x149)]()),_0x1bb89b=new Set(),_0x3cf058=_0x326d38[_0xe3db16(0x51e)]===this[_0xe3db16(0x7cf)]?0x3:0x1;return _0x326d38[_0xe3db16(0x449)][_0xe3db16(0x57b)](_0x27bc3b=>{const _0x2a85e6=_0xe3db16,_0x394f5e=this[_0x2a85e6(0x447)][_0x2a85e6(0x793)](_0x293caf,_0x27bc3b);let _0x4516a9=0x0,_0x411272=0x0;_0x394f5e[_0x2a85e6(0x57b)](_0x7aead5=>{const _0x3949e8=_0x2a85e6;if(_0x4516a9>=_0x3cf058)return;const _0x1b61fa=Array['from'](this[_0x3949e8(0xff)]['keys']())[_0x3949e8(0x76e)](_0x20d378=>_0x20d378[_0x3949e8(0x149)]()===_0x7aead5);if(_0x1b61fa){if(_0x1b61fa[_0x3949e8(0xb4)]()===_0x5497ef[_0x3949e8(0x24d)]&&_0x411272>0x0)return void(_0x411272-=0x1);_0x1bb89b['add'](_0x1b61fa),_0x1b61fa[_0x3949e8(0xb4)]()===_0x5497ef[_0x3949e8(0x650)]&&(_0x411272+=0x1),_0x4516a9+=0x1;}});}),Array[_0xe3db16(0x81b)](_0x1bb89b);}return Array[_0xe3db16(0x81b)](this['connections'][_0xe3db16(0x41f)]())[_0xe3db16(0x2e4)](_0x14ebab=>{const _0x3cdb95=_0xe3db16;return _0xd88dba=_0x14ebab['getRemoteId'](),!_0x26bc74[_0x3cdb95(0x51a)](_0xd88dba)&&(_0x10c135(_0x326d38,_0xd88dba)||_0x326d38[_0x3cdb95(0x114)])&&(!_0x326d38[_0x3cdb95(0x114)]||_0x14ebab[_0x3cdb95(0x125)]()||_0x14ebab[_0x3cdb95(0xb4)]()===_0x5497ef[_0x3cdb95(0x24d)]);var _0xd88dba;});}}class _0x84dfbe{[_0x2d5ee2(0x7cf)];[_0x2d5ee2(0x78f)];[_0x2d5ee2(0xff)]=new Map();[_0x2d5ee2(0x319)];constructor(_0x122510,_0x540375){const _0x2fe7f2=_0x2d5ee2;this[_0x2fe7f2(0x7cf)]=_0x122510,this[_0x2fe7f2(0x78f)]=_0x540375;}['close'](){}['send'](_0x1d5878){const _0x3665c9=_0x2d5ee2;for(const _0x35bd3c of this[_0x3665c9(0xff)][_0x3665c9(0x41f)]())try{return void _0x35bd3c[_0x3665c9(0x23a)]({'retry':!0x1,..._0x1d5878});}catch(_0x22e6cd){_0x22e6cd instanceof _0x35d823||_0x4b7920[_0x3665c9(0x5f9)](_0x27d952[_0x3665c9(0x541)],_0x3665c9(0x63b)+_0x35bd3c,_0x22e6cd,_0x1d5878);}_0x4b7920[_0x3665c9(0x5f9)](_0x27d952['Pool'],_0x3665c9(0x330));}[_0x2d5ee2(0x123)](_0x4b9cc0){const _0x4d74c5=_0x2d5ee2,_0x10dd47=_0x4b9cc0[_0x4d74c5(0xc9)](_0x38a980=>{const _0x4b5764=_0x4d74c5;this[_0x4b5764(0x78f)][_0x4b5764(0x46b)](_0x38a980[_0x4b5764(0x362)])||0x0===_0x38a980[_0x4b5764(0x716)]&&(this['messageBuffer'][_0x4b5764(0x806)](_0x38a980[_0x4b5764(0x362)]),_0x10c135(_0x38a980,this[_0x4b5764(0x7cf)])&&this[_0x4b5764(0x319)]?.['publish'](_0x38a980));});this[_0x4d74c5(0xff)]['set'](_0x4b9cc0,_0x10dd47);}[_0x2d5ee2(0x341)](_0x1d085e){const _0xdc2065=_0x2d5ee2;this['connections'][_0xdc2065(0x548)](_0x1d085e)?.(),this['connections'][_0xdc2065(0x201)](_0x1d085e);}[_0x2d5ee2(0x1bc)](){const _0x8643e9=_0x2d5ee2;return this[_0x8643e9(0x7cf)];}[_0x2d5ee2(0x149)](){return'';}[_0x2d5ee2(0x3bd)](){const _0x55f753=_0x2d5ee2;return[_0x3f2cd3[_0x55f753(0x1f9)][_0x55f753(0x3b7)]];}[_0x2d5ee2(0x125)](){throw new Error('Method\x20not\x20implemented.');}['registerSystemPublisher'](_0x17e12d){const _0x2335b8=_0x2d5ee2;this[_0x2335b8(0x319)]=_0x17e12d;}['unregisterSystemPublisher'](){const _0xc8dcc4=_0x2d5ee2;delete this[_0xc8dcc4(0x319)];}}class _0x14a0a6{[_0x2d5ee2(0x625)]=new Map();[_0x2d5ee2(0x28d)];constructor(){const _0x5e24ec=_0x2d5ee2;this[_0x5e24ec(0x28d)]=_0x4faffa['setInterval'](()=>{const _0x156f0c=_0x5e24ec;for(const [_0x58089a,_0x42b592]of this['buffer']['entries']())Date[_0x156f0c(0x191)]()-_0x42b592>0x124f80&&this[_0x156f0c(0x625)][_0x156f0c(0x201)](_0x58089a);},0x1d4c0);}[_0x2d5ee2(0x582)](){const _0x427d32=_0x2d5ee2;this[_0x427d32(0x28d)]();}['addMessage'](_0x25acc8){const _0x4896d9=_0x2d5ee2;this[_0x4896d9(0x625)][_0x4896d9(0x1d0)](_0x25acc8,Date[_0x4896d9(0x191)]());}[_0x2d5ee2(0x46b)](_0x15cb13){const _0x30cbcd=_0x2d5ee2;return this['buffer'][_0x30cbcd(0x2b3)](_0x15cb13);}}class _0x163b61{['configs'];['authService'];[_0x2d5ee2(0x25f)];[_0x2d5ee2(0x845)];['connections']=new Map();[_0x2d5ee2(0x1f1)];['connectionGroup'];[_0x2d5ee2(0x82a)];['messageBuffer'];constructor(_0x434604,_0x5d20f8,_0xd2cfba,_0x943e9b,_0x2bd82a){const _0x3885f9=_0x2d5ee2;this[_0x3885f9(0x3f0)]=_0x434604,this['authService']=_0x5d20f8,this[_0x3885f9(0x25f)]=_0x943e9b,this[_0x3885f9(0x845)]=_0x2bd82a,this[_0x3885f9(0x78f)]=new _0x14a0a6(),this['connectionGroup']=new _0x409aa4(this['configs'][_0x3885f9(0x5b9)][_0x3885f9(0x7bf)](),this[_0x3885f9(0x78f)],_0xd2cfba),this['signalingServer']=new _0x5ea135(this[_0x3885f9(0x3f0)][_0x3885f9(0x52a)],this[_0x3885f9(0x3f0)][_0x3885f9(0x2dd)],this[_0x3885f9(0x3f0)][_0x3885f9(0x5b9)],'server',this[_0x3885f9(0x238)]),this[_0x3885f9(0x1f1)]=new _0x84dfbe(this['configs'][_0x3885f9(0x5b9)][_0x3885f9(0x7bf)](),this['messageBuffer']),this['connectionPool'][_0x3885f9(0x123)](this[_0x3885f9(0x266)]),this[_0x3885f9(0x1f1)][_0x3885f9(0x123)](this['signalingServer']),this[_0x3885f9(0x3f0)]['mediator'][_0x3885f9(0x43b)](this[_0x3885f9(0x1f1)]);}[_0x2d5ee2(0x582)](){const _0x36c6b3=_0x2d5ee2;this[_0x36c6b3(0x78f)][_0x36c6b3(0x582)](),this[_0x36c6b3(0xff)]['forEach']((_0x5c6321,_0x135d30)=>this[_0x36c6b3(0x239)](_0x135d30)),this[_0x36c6b3(0x3f0)][_0x36c6b3(0x34c)][_0x36c6b3(0x573)](this['connectionPool']),this[_0x36c6b3(0x1f1)][_0x36c6b3(0x341)](this['signalingServer']),this['connectionPool'][_0x36c6b3(0x341)](this[_0x36c6b3(0x266)]),this['connectionPool'][_0x36c6b3(0x582)](),this[_0x36c6b3(0x82a)][_0x36c6b3(0x582)](),this[_0x36c6b3(0x266)]['close']();}async['initialize'](){const _0xb24260=_0x2d5ee2;await this[_0xb24260(0x82a)]['connect']();}async[_0x2d5ee2(0x66f)](_0xf10ba5,_0x15ba7e=_0x5497ef[_0x2d5ee2(0x24d)]){const _0x464087=_0x2d5ee2;if(this[_0x464087(0xff)][_0x464087(0x2b3)](_0xf10ba5)){if(this['connections'][_0x464087(0x548)](_0xf10ba5)?.[_0x464087(0xb4)]()===_0x5497ef[_0x464087(0x650)]&&_0x15ba7e===_0x5497ef[_0x464087(0x24d)])return void this[_0x464087(0xff)][_0x464087(0x548)](_0xf10ba5)?.[_0x464087(0x727)](_0x5497ef[_0x464087(0x24d)]);throw new _0x177832(_0x177832[_0x464087(0x492)][_0x464087(0x361)],{'localId':this['configs'][_0x464087(0x5b9)][_0x464087(0x7bf)](),'remoteId':_0xf10ba5});}const _0x5c830d=new _0x2669d0(this[_0x464087(0x3f0)]['clusterId'],this[_0x464087(0x3f0)][_0x464087(0x5b9)],_0xf10ba5,this[_0x464087(0x25f)],_0x15ba7e,this[_0x464087(0x845)][_0x464087(0x823)],this[_0x464087(0x845)][_0x464087(0x863)],this[_0x464087(0x845)][_0x464087(0x10e)]);this[_0x464087(0xff)][_0x464087(0x1d0)](_0xf10ba5,_0x5c830d),this[_0x464087(0x266)][_0x464087(0x123)](_0x5c830d),this['configs'][_0x464087(0x34c)][_0x464087(0x43b)](_0x5c830d),this[_0x464087(0x3f0)]['mediator']['registerRemoteNode'](_0xf10ba5),await _0x5c830d[_0x464087(0x5bf)]();}[_0x2d5ee2(0x4b9)](){const _0x40184c=_0x2d5ee2;return this[_0x40184c(0x266)];}['getConnection'](_0x4bc704){const _0x127154=_0x2d5ee2;if(!this[_0x127154(0xff)][_0x127154(0x2b3)](_0x4bc704))throw new _0x177832(_0x177832[_0x127154(0x492)][_0x127154(0x48a)],{'localId':this[_0x127154(0x3f0)]['localNode']['getId'](),'remoteId':_0x4bc704});return this[_0x127154(0xff)][_0x127154(0x548)](_0x4bc704);}['getConnections'](_0x5f3bdb){const _0x5d9f00=_0x2d5ee2,_0x20fe2c=Array[_0x5d9f00(0x81b)](this[_0x5d9f00(0xff)][_0x5d9f00(0x2fd)]());return _0x5f3bdb?_0x20fe2c['filter'](_0x5f3bdb):_0x20fe2c;}async[_0x2d5ee2(0x1c4)](_0x21e9fe){const _0x202087=_0x2d5ee2,_0x27ff48=this[_0x202087(0xff)][_0x202087(0x548)](_0x21e9fe);_0x27ff48&&_0x27ff48[_0x202087(0x125)]()&&await _0x27ff48['collectStats']();}[_0x2d5ee2(0x203)](_0x3396f1){const _0x1647b2=_0x2d5ee2;if(_0x3396f1[_0x1647b2(0x598)]!==_0xa1c806['PeerConnection']||_0x3396f1[_0x1647b2(0x114)])try{this[_0x1647b2(0x266)][_0x1647b2(0x23a)](_0x3396f1);}catch(_0x3eda5f){if(_0x3eda5f instanceof _0x35d823)return;throw _0x3eda5f;}else this[_0x1647b2(0x1f1)][_0x1647b2(0x23a)](_0x3396f1);}async['handlePeerConnectionSystemEvents'](_0x266298){const _0x1a752d=_0x2d5ee2;switch(_0x266298['content'][_0x1a752d(0x2f5)]){case _0x274822[_0x1a752d(0x2da)]:case _0x274822['Stats']:case _0x274822[_0x1a752d(0x63d)]:return;}if(!_0x266298[_0x1a752d(0x449)]||0x1!==_0x266298['destinationIds'][_0x1a752d(0x68c)])throw new _0x177832(_0x177832[_0x1a752d(0x492)][_0x1a752d(0x61b)],{'message':_0x1a752d(0x139),'event':_0x266298});if(_0x266298['destinationIds'][0x0]!==this[_0x1a752d(0x3f0)][_0x1a752d(0x5b9)][_0x1a752d(0x7bf)]())throw new _0x177832(_0x177832[_0x1a752d(0x492)]['PeerConnectionInvalidDestination'],{'message':_0x1a752d(0x72d),'event':_0x266298});if(!this[_0x1a752d(0xff)]['has'](_0x266298[_0x1a752d(0x51e)])){let _0xb9cec6=_0x5497ef[_0x1a752d(0x24d)];if(!(this['isOffer'](_0x266298[_0x1a752d(0x262)])||this['isIceCandidate'](_0x266298[_0x1a752d(0x262)])||this['isNeedRestart'](_0x266298['content'])))return;_0xb9cec6=_0x266298['content']['connectionType'],await this[_0x1a752d(0x66f)](_0x266298[_0x1a752d(0x51e)],_0xb9cec6);}const _0x219d98=this[_0x1a752d(0xff)][_0x1a752d(0x548)](_0x266298['sourceId']);await _0x219d98['handlePeerConnectionSystemEvents'](_0x266298);}['handleRemediationSystemEvents'](_0x196c20){const _0x2c6f13=_0x2d5ee2;if(_0x196c20[_0x2c6f13(0x262)][_0x2c6f13(0x2f5)]===_0x35a44e[_0x2c6f13(0x28c)]){if(_0x196c20['content'][_0x2c6f13(0x164)]===this[_0x2c6f13(0x3f0)][_0x2c6f13(0x5b9)][_0x2c6f13(0x7bf)]())return void this[_0x2c6f13(0xff)][_0x2c6f13(0x57b)](_0x515e19=>_0x515e19['handleRemediationSystemEvents'](_0x196c20));this[_0x2c6f13(0xff)][_0x2c6f13(0x548)](_0x196c20[_0x2c6f13(0x262)][_0x2c6f13(0x164)])?.[_0x2c6f13(0x6e3)](_0x196c20);}}['handleNodeSystemEvents']({content:_0x506f52}){const _0x187f4d=_0x2d5ee2;_0x506f52[_0x187f4d(0x2f5)]===_0x3ace80[_0x187f4d(0x5f0)]&&this[_0x187f4d(0x239)](_0x506f52['id']);}[_0x2d5ee2(0x4f1)](){const _0x4f6ef3=_0x2d5ee2,_0x5b7a0a=Array[_0x4f6ef3(0x81b)](this[_0x4f6ef3(0xff)][_0x4f6ef3(0x2fd)]())['reduce']((_0x1d9c8f,_0x301fc9)=>_0x1d9c8f+_0x301fc9[_0x4f6ef3(0xc0)](),0x0);return _0x5b7a0a<_0x3501da?Promise[_0x4f6ef3(0x497)](_0x5b7a0a):new Promise(_0x456f35=>{const _0x5efef9=setInterval(()=>{const _0x110a1c=a0_0x5322,_0x5219a8=Array[_0x110a1c(0x81b)](this[_0x110a1c(0xff)][_0x110a1c(0x2fd)]())[_0x110a1c(0x488)]((_0x29633f,_0x46d4cc)=>_0x29633f+_0x46d4cc[_0x110a1c(0xc0)](),0x0);_0x5219a8<_0x3501da&&(clearInterval(_0x5efef9),_0x456f35(_0x5219a8));},0x3e8);});}['hasBufferedData'](){const _0x3707d3=_0x2d5ee2;for(const _0x78c69b of this[_0x3707d3(0xff)][_0x3707d3(0x2fd)]())if(_0x78c69b[_0x3707d3(0x866)]()>0x0||_0x78c69b[_0x3707d3(0xc0)]()>0x0)return!0x0;return!0x1;}[_0x2d5ee2(0x239)](_0x44658e){const _0x2964d3=_0x2d5ee2,_0x4166d7=this[_0x2964d3(0xff)][_0x2964d3(0x548)](_0x44658e);_0x4166d7&&(this[_0x2964d3(0x3f0)][_0x2964d3(0x34c)][_0x2964d3(0x26d)](_0x44658e),this[_0x2964d3(0x3f0)]['mediator'][_0x2964d3(0x573)](_0x4166d7),_0x4166d7 instanceof _0x2669d0&&this[_0x2964d3(0x266)][_0x2964d3(0x341)](_0x4166d7),_0x4166d7[_0x2964d3(0x582)](),this[_0x2964d3(0xff)][_0x2964d3(0x201)](_0x44658e));}[_0x2d5ee2(0x528)](_0x14b08a){const _0x499b2a=_0x2d5ee2;return _0x14b08a[_0x499b2a(0x2f5)]===_0x274822[_0x499b2a(0x3c5)];}[_0x2d5ee2(0x22d)](_0x5280be){const _0x2149d2=_0x2d5ee2;return _0x5280be[_0x2149d2(0x2f5)]===_0x274822['NeedRestart'];}[_0x2d5ee2(0x1c1)](_0x252147){const _0x39c53a=_0x2d5ee2;return _0x252147[_0x39c53a(0x2f5)]===_0x274822['Handshake'];}}!function(_0x5f1b3c){const _0x2b3f2b=_0x2d5ee2;_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0xc5)]=0x0]=_0x2b3f2b(0xc5),_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0x9c)]=0x1]=_0x2b3f2b(0x9c),_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0x501)]=0x2]=_0x2b3f2b(0x501),_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0x5ef)]=0x3]=_0x2b3f2b(0x5ef),_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0x4c7)]=0x4]=_0x2b3f2b(0x4c7),_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0x9b)]=0x5]=_0x2b3f2b(0x9b),_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0x414)]=0x6]=_0x2b3f2b(0x414),_0x5f1b3c[_0x5f1b3c[_0x2b3f2b(0x1f4)]=0x7]=_0x2b3f2b(0x1f4);}(_0x119828||(_0x119828={}));const _0x3b510c=require('rxjs');class _0x3def1a extends _0x4ba786{[_0x2d5ee2(0x447)];[_0x2d5ee2(0x2e8)]=new Map();[_0x2d5ee2(0x102)]=new Map();[_0x2d5ee2(0x4b0)]=new Map();['unsubscribeHandler'];constructor(_0x27d7de,_0x1cfbd3,_0x2276eb){const _0xbd8901=_0x2d5ee2;super(_0x27d7de,_0x1cfbd3),this[_0xbd8901(0x447)]=_0x2276eb;}[_0x2d5ee2(0x813)](){const _0x3fed66=_0x2d5ee2;return _0x3f2cd3[_0x3fed66(0x1f9)][_0x3fed66(0x22e)];}[_0x2d5ee2(0x2ef)](){this['unsubscribeHandler']=this['onMessage']((_0x5b18f1,_0x24132c)=>{const _0xb72545=a0_0x5322;if(_0x4b7920['log'](_0x27d952[_0xb72545(0x4f5)],'JobDispatcher:\x20Received\x20job',_0x5b18f1,_0x24132c,this[_0xb72545(0x447)][_0xb72545(0x7b1)]()),!(_0x24132c instanceof File)){if(!_0x24132c)throw new _0x177832(_0x177832['codes'][_0xb72545(0x553)]);return this[_0xb72545(0x1f8)](_0x24132c)?this['addBidResponse'](_0x5b18f1,_0x24132c['id'],_0x24132c):this[_0xb72545(0x785)](_0x24132c)?(_0x4b7920[_0xb72545(0x5f9)](_0x27d952[_0xb72545(0x4f5)],_0xb72545(0x16b)+_0x24132c['id']+'\x20received\x20partial\x20result:',_0x24132c[_0xb72545(0x158)]),void this[_0xb72545(0x2ae)](_0x24132c['id'],_0x24132c)):this[_0xb72545(0x40d)](_0x24132c)?(_0x4b7920[_0xb72545(0x5f9)](_0x27d952[_0xb72545(0x4f5)],_0xb72545(0x16b)+_0x24132c['id']+'\x20received\x20result:',_0x24132c[_0xb72545(0x158)]),void this['evaluateProccessedJob'](_0x24132c['id'],_0x24132c)):void(this[_0xb72545(0x720)](_0x24132c)&&this['failJob'](_0x24132c['id'],_0x24132c[_0xb72545(0x52f)]));}});}[_0x2d5ee2(0x53c)](){const _0x4a4136=_0x2d5ee2;this[_0x4a4136(0x63e)](),this['open']();}[_0x2d5ee2(0x3d9)](){const _0x1f0b7e=_0x2d5ee2;this[_0x1f0b7e(0x63e)](),super['destroy']();}[_0x2d5ee2(0x63e)](){const _0x39ce41=_0x2d5ee2;this[_0x39ce41(0x2e8)][_0x39ce41(0x63e)](),this[_0x39ce41(0x28d)]&&this['unsubscribeHandler']();}[_0x2d5ee2(0x582)](){const _0x102d46=_0x2d5ee2;this['systemTopic']?.[_0x102d46(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x102d46(0x2f6)],'content':{'type':_0xdecfb9[_0x102d46(0x5d0)],'label':this['label']}});}async[_0x2d5ee2(0x44e)](_0x2da613){const _0x14b605=_0x2d5ee2,{id:_0x2aa786,parameters:_0x5581a1,jobType:_0x5e845a}=_0x2da613,_0x4449ec={'id':_0x2aa786,'jobType':_0x5e845a,'parameters':_0x5581a1,'status':_0x3f2cd3['JobStatus'][_0x14b605(0x80f)],'created':new Date(),'updated':new Date()};if(this[_0x14b605(0x2e8)][_0x14b605(0x2b3)](_0x4449ec['id']))throw new _0x21720d(_0x11ce35[_0x14b605(0x15a)],_0x14b605(0x153)+_0x4449ec['id']+'\x20already\x20exists.');_0x4449ec[_0x14b605(0x50b)]=new Date(),_0x4449ec['updated']=new Date();const _0x2020b0=new _0x3b510c[(_0x14b605(0x55c))]();this[_0x14b605(0x2e8)][_0x14b605(0x1d0)](_0x4449ec['id'],_0x4449ec),this['jobObservers'][_0x14b605(0x1d0)](_0x4449ec['id'],_0x2020b0);try{const _0xb3e585={'id':_0x4449ec['id'],'jobPhase':_0x400ff3[_0x14b605(0x3da)],'jobType':_0x4449ec[_0x14b605(0x499)]},_0x392e5a=0x3;let _0xf9b361=0x0;const _0x493a14=async()=>{const _0x554dce=_0x14b605;_0xf9b361+=0x1;try{_0x4b7920['log'](_0x27d952[_0x554dce(0x4f5)],'Job\x20'+_0x4449ec['id']+_0x554dce(0x5e2)+_0xf9b361+'.',this[_0x554dce(0x447)][_0x554dce(0x7b1)]()),await this['send'](_0xb3e585),_0x4449ec[_0x554dce(0x14a)]=new Date(),this[_0x554dce(0x2e8)]['set'](_0x4449ec['id'],_0x4449ec),this[_0x554dce(0x375)](_0x4449ec['id']);}catch(_0x4b7844){_0xf9b361<_0x392e5a?(_0x4b7920[_0x554dce(0x17e)]('Attempt\x20'+_0xf9b361+_0x554dce(0x6e5)+_0x4449ec['id']+_0x554dce(0x343),{'nodeId':this[_0x554dce(0x2f3)][_0x554dce(0x7bf)](),'nodeType':this['owner'][_0x554dce(0x2f5)],'data':{'job':_0x4449ec,'attempts':_0xf9b361,'maxRetries':_0x392e5a}}),setTimeout(_0x493a14,0x3e8)):(_0x4449ec['status']=_0x3f2cd3['JobStatus'][_0x554dce(0x58d)],_0x4449ec[_0x554dce(0x14a)]=new Date(),this[_0x554dce(0x2e8)]['set'](_0x4449ec['id'],_0x4449ec),_0x4b7920[_0x554dce(0x626)](_0x554dce(0x637)+_0x4449ec['id']+_0x554dce(0x859)+_0x392e5a+_0x554dce(0x1ff),{'nodeId':this[_0x554dce(0x2f3)][_0x554dce(0x7bf)](),'nodeType':this[_0x554dce(0x2f3)][_0x554dce(0x2f5)],'data':{'job':_0x4449ec,'attempts':_0xf9b361,'maxRetries':_0x392e5a,'error':_0x4b7844}}));}};_0x493a14();const {id:_0x54fb7f}=_0x4449ec;this[_0x14b605(0x54e)](_0x14b605(0x16b)+_0x4449ec['id']+_0x14b605(0xad),{'jobId':_0x54fb7f}),_0x4449ec[_0x14b605(0x14a)]=new Date();}catch(_0x16f030){_0x4449ec[_0x14b605(0x5b1)]=_0x3f2cd3['JobStatus'][_0x14b605(0x58d)],_0x4b7920['error'](_0x14b605(0x637)+_0x4449ec['id']+':',{'nodeId':this[_0x14b605(0x2f3)]['getId'](),'nodeType':this[_0x14b605(0x2f3)][_0x14b605(0x2f5)],'data':{'job':_0x4449ec,'error':_0x16f030}});}return _0x2020b0[_0x14b605(0x452)]();}[_0x2d5ee2(0x759)](_0x2ddd94){const _0x7ef55a=_0x2d5ee2,_0x3e7554=this[_0x7ef55a(0x2e8)][_0x7ef55a(0x548)](_0x2ddd94);if(!_0x3e7554)throw new _0x21720d(_0x11ce35['JobDispatcherJobNotFound'],_0x7ef55a(0x153)+_0x2ddd94+'\x20not\x20found.');return{'id':_0x3e7554['id'],'jobType':_0x3e7554[_0x7ef55a(0x499)],'status':_0x3e7554['status'],'parameters':_0x3e7554[_0x7ef55a(0x1de)]};}[_0x2d5ee2(0x74c)](){const _0x2bc643=_0x2d5ee2;return Array[_0x2bc643(0x81b)](this[_0x2bc643(0x2e8)][_0x2bc643(0x2fd)]())[_0x2bc643(0x313)](_0xa0c34e=>this['getJob'](_0xa0c34e['id']));}async[_0x2d5ee2(0x6fd)](_0x8dace,_0x49ac33){const _0x298966=_0x2d5ee2,_0x9d1b70=this[_0x298966(0x2e8)][_0x298966(0x548)](_0x8dace);if(!_0x9d1b70)throw new _0x21720d(_0x11ce35[_0x298966(0x7bd)],_0x298966(0x153)+_0x8dace+'\x20not\x20found.');_0x9d1b70[_0x298966(0x1de)]=_0x49ac33,_0x9d1b70[_0x298966(0x14a)]=new Date(),this['jobs'][_0x298966(0x1d0)](_0x8dace,_0x9d1b70);}async[_0x2d5ee2(0x268)](_0x5d737b){const _0x1207c0=_0x2d5ee2;if(!this['jobs'][_0x1207c0(0x201)](_0x5d737b))throw new _0x21720d(_0x11ce35[_0x1207c0(0x7bd)],_0x1207c0(0x153)+_0x5d737b+_0x1207c0(0x7fa));const _0x41f308=this[_0x1207c0(0x102)][_0x1207c0(0x548)](_0x5d737b);if(!_0x41f308)throw new _0x177832(_0x177832[_0x1207c0(0x492)][_0x1207c0(0x54b)]);_0x41f308['complete'](),this[_0x1207c0(0x102)][_0x1207c0(0x201)](_0x5d737b),_0x4b7920[_0x1207c0(0x5f9)](_0x27d952['Jobs'],_0x1207c0(0x16b)+_0x5d737b+'\x20deleted.');}[_0x2d5ee2(0x48c)](_0x353338,_0x334ba7,_0x9adfac){const _0x389f70=_0x2d5ee2,_0x4302bd=this[_0x389f70(0x4b0)][_0x389f70(0x548)](_0x334ba7)??new Map();_0x4302bd[_0x389f70(0x1d0)](_0x353338,[_0x9adfac,Date[_0x389f70(0x191)]()]),this[_0x389f70(0x4b0)][_0x389f70(0x1d0)](_0x334ba7,_0x4302bd),this[_0x389f70(0x7f9)](_0x334ba7);}[_0x2d5ee2(0x375)](_0x57bd12){const _0x2c4ef0=_0x2d5ee2,_0x13def4=this[_0x2c4ef0(0x2e8)][_0x2c4ef0(0x548)](_0x57bd12);if(!_0x13def4)throw new _0x177832(_0x177832['codes'][_0x2c4ef0(0x7bd)]);const _0x274493=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x57bd12,!0x0),0xbb8);_0x13def4[_0x2c4ef0(0x3ba)]=_0x274493,this[_0x2c4ef0(0x2e8)]['set'](_0x13def4['id'],_0x13def4);}[_0x2d5ee2(0x7f9)](_0x50ce7d,_0x49fd4d=!0x1){const _0x6fab91=_0x2d5ee2,_0x3c24b3=this[_0x6fab91(0x447)]['getRemoteNodes'](),_0x6ef6fa=Array[_0x6fab91(0x81b)](_0x3c24b3[_0x6fab91(0x2fd)]())['filter'](_0x388d66=>_0x388d66[_0x6fab91(0x2f5)]===_0x3f2cd3[_0x6fab91(0x63c)][_0x6fab91(0x29f)]),_0x29280c=this[_0x6fab91(0x4b0)][_0x6fab91(0x548)](_0x50ce7d)??new Map();if(!_0x49fd4d&&(!_0x29280c||_0x29280c[_0x6fab91(0x6b6)]<_0x6ef6fa[_0x6fab91(0x68c)]))return;const _0x2dc4cf=this[_0x6fab91(0x2e8)][_0x6fab91(0x548)](_0x50ce7d);if(!_0x2dc4cf)throw new _0x177832(_0x177832['codes'][_0x6fab91(0x7bd)]);if(clearTimeout(_0x2dc4cf[_0x6fab91(0x3ba)]),_0x4b7920[_0x6fab91(0x5f9)](_0x27d952[_0x6fab91(0x4f5)],_0x6fab91(0x16b)+_0x2dc4cf['id']+'\x20received\x20responses:',_0x29280c,this['jobBids']),!_0x29280c||0x0===_0x29280c[_0x6fab91(0x6b6)]){_0x2dc4cf[_0x6fab91(0x5b1)]=_0x3f2cd3[_0x6fab91(0x712)][_0x6fab91(0x58d)],_0x2dc4cf['updated']=new Date(),_0x4b7920[_0x6fab91(0x626)](_0x6fab91(0x16b)+_0x2dc4cf['id']+_0x6fab91(0xbf),{'nodeId':this[_0x6fab91(0x2f3)][_0x6fab91(0x7bf)](),'nodeType':this[_0x6fab91(0x2f3)][_0x6fab91(0x2f5)],'data':{'job':_0x2dc4cf,'responses':_0x29280c}});const _0x446904=this[_0x6fab91(0x102)]['get'](_0x50ce7d);if(!_0x446904)throw new _0x177832(_0x177832[_0x6fab91(0x492)][_0x6fab91(0x54b)]);const _0x11658c='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x1dc6eb={'id':_0x2dc4cf['id'],'status':_0x2dc4cf[_0x6fab91(0x5b1)],'message':_0x11658c};return _0x446904[_0x6fab91(0x81d)](_0x1dc6eb),_0x446904[_0x6fab91(0x5aa)](),this[_0x6fab91(0x2e8)][_0x6fab91(0x1d0)](_0x2dc4cf['id'],_0x2dc4cf),void this[_0x6fab91(0x4b0)]['delete'](_0x50ce7d);}const {nodeId:_0x1c90d3,response:_0x146a67}=this['evaluateBids'](_0x2dc4cf['id'],_0x29280c);_0x2dc4cf[_0x6fab91(0x5b1)]=_0x3f2cd3[_0x6fab91(0x712)]['Processing'],_0x2dc4cf[_0x6fab91(0x14a)]=new Date(),_0x4b7920[_0x6fab91(0x5f9)](_0x27d952['Jobs'],_0x6fab91(0x16b)+_0x2dc4cf['id']+_0x6fab91(0x328)+_0x1c90d3+_0x6fab91(0x413),_0x146a67);const _0x33c6b2={'id':_0x2dc4cf['id'],'jobType':_0x2dc4cf[_0x6fab91(0x499)],'jobPhase':_0x400ff3[_0x6fab91(0x4a0)],'parameters':_0x2dc4cf[_0x6fab91(0x1de)]};this[_0x6fab91(0x23a)](_0x33c6b2,[_0x1c90d3]),this[_0x6fab91(0x2e8)][_0x6fab91(0x1d0)](_0x2dc4cf['id'],_0x2dc4cf),this[_0x6fab91(0x4b0)][_0x6fab91(0x201)](_0x50ce7d);}[_0x2d5ee2(0x307)](_0x3affbf,_0x22a2ab){const _0x15aeea=_0x2d5ee2;let _0x43dd9c;const _0x65eb2=Array[_0x15aeea(0x81b)](_0x22a2ab[_0x15aeea(0x12d)]())[_0x15aeea(0x2e4)](([,[_0x4e50ec]])=>_0x4e50ec[_0x15aeea(0x7d0)]);if(_0x43dd9c=_0x65eb2['length']>0x0?Array[_0x15aeea(0x81b)](_0x22a2ab[_0x15aeea(0x12d)]())['sort']((_0x4eba17,_0xb1bb99)=>_0xb1bb99[0x1][0x0][_0x15aeea(0x491)]-_0x4eba17[0x1][0x0][_0x15aeea(0x491)]):Array[_0x15aeea(0x81b)](_0x22a2ab[_0x15aeea(0x12d)]())[_0x15aeea(0x289)]((_0x1866fb,_0x4681c1)=>_0x1866fb[0x1][0x0][_0x15aeea(0x101)]-_0x4681c1[0x1][0x0][_0x15aeea(0x101)]),0x1===_0x43dd9c[_0x15aeea(0x68c)])return{'nodeId':_0x43dd9c[0x0][0x0],'response':_0x43dd9c[0x0][0x1][0x0]};let _0x863be4;if(_0x863be4=_0x65eb2[_0x15aeea(0x68c)]>0x0?(_0x1ad5ae=>{const _0x51ad7c=_0x15aeea,_0x4e0ff8=_0x1ad5ae[0x0][0x1][0x0][_0x51ad7c(0x491)];return _0x1ad5ae[_0x51ad7c(0x2e4)](([,[_0x2008b0]])=>_0x2008b0['bid']===_0x4e0ff8);})(_0x43dd9c):(_0x1243c2=>{const _0x2c185c=_0x15aeea,_0x77144d=_0x1243c2[0x0][0x1][0x0][_0x2c185c(0x101)];return _0x1243c2[_0x2c185c(0x2e4)](([,[_0x4e5687]])=>_0x4e5687[_0x2c185c(0x101)]===_0x77144d);})(_0x43dd9c),0x1===_0x863be4[_0x15aeea(0x68c)])return{'nodeId':_0x863be4[0x0][0x0],'response':_0x863be4[0x0][0x1][0x0]};const _0x51a753=this[_0x15aeea(0x2e8)][_0x15aeea(0x548)](_0x3affbf);if(!_0x51a753)throw new _0x177832(_0x177832['codes'][_0x15aeea(0x7bd)]);const _0x65a285=_0x51a753[_0x15aeea(0x50b)][_0x15aeea(0x3db)](),_0x47416f=_0x863be4[_0x15aeea(0x313)](([_0x35891c,[,_0xa7502a]])=>({'nodeId':_0x35891c,'rtt':_0xa7502a-_0x65a285})),_0x26c350=Math[_0x15aeea(0x176)](..._0x47416f[_0x15aeea(0x313)](({rtt:_0x5a3853})=>_0x5a3853)),_0x16df97=_0x47416f['find'](({rtt:_0x449c61})=>_0x449c61===_0x26c350),[,[_0x310eb5]]=_0x863be4[_0x15aeea(0x76e)](([_0x4a5d77])=>_0x4a5d77===_0x16df97[_0x15aeea(0x858)]);return{'nodeId':_0x16df97['nodeId'],'response':_0x310eb5};}[_0x2d5ee2(0x2ae)](_0x390613,_0x5d27f9){const _0x46aa50=_0x2d5ee2,_0x4e8b45=this[_0x46aa50(0x2e8)]['get'](_0x390613);if(!_0x4e8b45)throw new _0x177832(_0x177832[_0x46aa50(0x492)]['JobDispatcherJobNotFound']);const _0x89c316=this[_0x46aa50(0x102)]['get'](_0x390613);if(!_0x89c316)throw new _0x177832(_0x177832[_0x46aa50(0x492)][_0x46aa50(0x54b)]);const _0x4b51f4={'id':_0x4e8b45['id'],'status':_0x3f2cd3[_0x46aa50(0x712)]['Partial'],'result':_0x5d27f9['result']};_0x89c316[_0x46aa50(0x81d)](_0x4b51f4);}[_0x2d5ee2(0x272)](_0x328124,_0x1b93cb){const _0x5f084b=_0x2d5ee2,_0x3322fc=this['jobs']['get'](_0x328124);if(!_0x3322fc)throw new _0x177832(_0x177832[_0x5f084b(0x492)][_0x5f084b(0x7bd)]);const _0x128bfb=this['jobObservers'][_0x5f084b(0x548)](_0x328124);if(!_0x128bfb)throw new _0x177832(_0x177832[_0x5f084b(0x492)][_0x5f084b(0x54b)]);_0x3322fc[_0x5f084b(0x5b1)]=_0x3f2cd3[_0x5f084b(0x712)][_0x5f084b(0x33c)];const _0x5df070={'id':_0x3322fc['id'],'status':_0x3322fc[_0x5f084b(0x5b1)],'result':_0x1b93cb[_0x5f084b(0x158)]};_0x128bfb[_0x5f084b(0x81d)](_0x5df070),_0x128bfb[_0x5f084b(0x5aa)](),this['jobObservers']['delete'](_0x328124),this['logEvent'](_0x5f084b(0x16b)+_0x328124+_0x5f084b(0x1d1),{'jobId':_0x328124});}[_0x2d5ee2(0x1f7)](_0x1d5791,_0x59e6a3){const _0x1e11c5=_0x2d5ee2,_0x2d91b2=this[_0x1e11c5(0x2e8)][_0x1e11c5(0x548)](_0x1d5791);if(!_0x2d91b2)throw new _0x177832(_0x177832['codes'][_0x1e11c5(0x7bd)]);const _0x29083e=this[_0x1e11c5(0x102)][_0x1e11c5(0x548)](_0x1d5791);if(!_0x29083e)throw new _0x177832(_0x177832['codes'][_0x1e11c5(0x54b)]);_0x2d91b2[_0x1e11c5(0x5b1)]=_0x3f2cd3[_0x1e11c5(0x712)][_0x1e11c5(0x58d)];const _0x240cce={'id':_0x2d91b2['id'],'status':_0x2d91b2[_0x1e11c5(0x5b1)],'message':_0x59e6a3};_0x29083e[_0x1e11c5(0x81d)](_0x240cce),_0x29083e[_0x1e11c5(0x5aa)](),this[_0x1e11c5(0x102)]['delete'](_0x1d5791),this[_0x1e11c5(0x54e)](_0x1e11c5(0x16b)+_0x1d5791+_0x1e11c5(0x6e4),{'jobId':_0x1d5791});}['logEvent'](_0x572e04,{jobId:_0x5af817}){const _0x2f748d=_0x2d5ee2,_0x24a292={'jobId':_0x5af817,'mistletIds':Array[_0x2f748d(0x81b)](this['graphService'][_0x2f748d(0x7b1)]()[_0x2f748d(0x2fd)]())[_0x2f748d(0x2e4)](_0x3dd67a=>_0x3dd67a[_0x2f748d(0x2f5)]===_0x3f2cd3['NodeType'][_0x2f748d(0x29f)])[_0x2f748d(0x313)](_0x340b1f=>_0x340b1f[_0x2f748d(0x7bf)]())};_0x4b7920[_0x2f748d(0x54e)](_0x572e04,{'nodeId':this[_0x2f748d(0x3f9)](),'nodeType':this['owner'][_0x2f748d(0x2f5)],'data':_0x24a292}),_0x4b7920[_0x2f748d(0x5f9)](_0x27d952[_0x2f748d(0x4f5)],_0x572e04,_0x24a292);}['isBidResponse'](_0x1ac703){const _0x867f9f=_0x2d5ee2,{jobPhase:_0x5bf326,available:_0x42cc21,bid:_0x1cddaa}=_0x1ac703;return _0x5bf326===_0x400ff3[_0x867f9f(0x45c)]&&void 0x0!==_0x42cc21&&void 0x0!==_0x1cddaa;}[_0x2d5ee2(0x785)](_0x2737e8){const {jobPhase:_0x4642b4,result:_0x2e423c}=_0x2737e8;return _0x4642b4===_0x400ff3['PartialResult']&&void 0x0!==_0x2e423c;}[_0x2d5ee2(0x40d)](_0x15aee7){const _0x566558=_0x2d5ee2,{jobPhase:_0x4f90c0,result:_0xb94eb4}=_0x15aee7;return _0x4f90c0===_0x400ff3[_0x566558(0x561)]&&void 0x0!==_0xb94eb4;}[_0x2d5ee2(0x720)](_0x23f73b){const _0x82fbe0=_0x2d5ee2,{jobPhase:_0x4ac13f,message:_0x2dec85}=_0x23f73b;return _0x4ac13f===_0x400ff3[_0x82fbe0(0x58d)]&&void 0x0!==_0x2dec85&&_0x82fbe0(0x69a)==typeof _0x2dec85;}}var _0x210b2c,_0x256765,_0x4f65f6;!function(_0x360c06){const _0xc63332=_0x2d5ee2;_0x360c06[_0xc63332(0x29f)]='agent',_0x360c06[_0xc63332(0x4ff)]=_0xc63332(0xbb),_0x360c06['Prompt']='prompt',_0x360c06['Answer']=_0xc63332(0x1a4),_0x360c06[_0xc63332(0xc4)]=_0xc63332(0x7b2),_0x360c06[_0xc63332(0x79b)]=_0xc63332(0x788),_0x360c06[_0xc63332(0x3cf)]='search',_0x360c06[_0xc63332(0x68b)]=_0xc63332(0x777);}(_0x210b2c||(_0x210b2c={})),function(_0x54b9a1){const _0x28635e=_0x2d5ee2;_0x54b9a1[_0x28635e(0x3ec)]=_0x28635e(0x4da),_0x54b9a1[_0x28635e(0x46d)]=_0x28635e(0x7f3),_0x54b9a1[_0x28635e(0x453)]=_0x28635e(0x32a),_0x54b9a1['WordSplitter']='word-splitter',_0x54b9a1[_0x28635e(0x65e)]=_0x28635e(0x67b),_0x54b9a1[_0x28635e(0x446)]=_0x28635e(0xed),_0x54b9a1[_0x28635e(0x666)]=_0x28635e(0x70c),_0x54b9a1[_0x28635e(0x5c7)]=_0x28635e(0x566),_0x54b9a1[_0x28635e(0x35f)]=_0x28635e(0x181),_0x54b9a1[_0x28635e(0xf7)]=_0x28635e(0x2fc),_0x54b9a1[_0x28635e(0x830)]=_0x28635e(0x3e3),_0x54b9a1['VectorDatabase']=_0x28635e(0x2c0),_0x54b9a1[_0x28635e(0x25b)]=_0x28635e(0x2d5),_0x54b9a1[_0x28635e(0x28a)]=_0x28635e(0x1ae),_0x54b9a1['Context']=_0x28635e(0x6c7);}(_0x256765||(_0x256765={})),function(_0xd656cd){const _0x58bf58=_0x2d5ee2;_0xd656cd[_0x58bf58(0x65f)]='file',_0xd656cd['Text']=_0x58bf58(0x162),_0xd656cd[_0x58bf58(0x22f)]='image',_0xd656cd[_0x58bf58(0x3e9)]='audio',_0xd656cd[_0x58bf58(0x3b7)]='data',_0xd656cd[_0x58bf58(0x5c3)]='vector',_0xd656cd[_0x58bf58(0x753)]='entity',_0xd656cd['Relation']=_0x58bf58(0x6b2),_0xd656cd[_0x58bf58(0x3cf)]=_0x58bf58(0x729),_0xd656cd['Index']=_0x58bf58(0x1df),_0xd656cd[_0x58bf58(0x269)]='knowledge',_0xd656cd[_0x58bf58(0x7ca)]=_0x58bf58(0x673);}(_0x4f65f6||(_0x4f65f6={}));class _0x3e39f3{static ['instance'];constructor(){}static[_0x2d5ee2(0x867)](){const _0x1d7788=_0x2d5ee2;return _0x3e39f3[_0x1d7788(0x23d)]||(_0x3e39f3['instance']=new _0x3e39f3()),_0x3e39f3['instance'];}async['getWorkflow'](_0x16671d,_0xa99e66){const _0x40f67d=_0x2d5ee2,_0x599c7f=await(0x0,_0x1f204c['getDoc'])((0x0,_0x1f204c[_0x40f67d(0xf0)])(_0x5b16bc[_0x40f67d(0x433)](),_0x40f67d(0x822)+_0x16671d+'/resources/generative-ai-workflow/items/'+_0xa99e66)),_0x4ef14e=await this[_0x40f67d(0x42a)](_0x16671d),_0x5a220a=await this['getDataCollections'](_0x16671d),_0x4d6503=await this['getModels'](_0x16671d);if(!_0x599c7f['exists']())throw new _0x177832(_0x177832[_0x40f67d(0x492)][_0x40f67d(0x6d7)]);return this[_0x40f67d(0x62e)](_0x599c7f,_0x4ef14e,_0x5a220a,_0x4d6503);}['parseWorkflowDocument'](_0x2aae1f,_0x4b1365,_0x231808,_0x3428dd){const _0x3486d7=_0x2d5ee2,_0x2fbf43=_0x2aae1f['data']();if(!_0x2fbf43)throw new _0x177832(_0x177832['codes'][_0x3486d7(0x6d7)]);const _0x129803=this[_0x3486d7(0x75f)](_0x2fbf43[_0x3486d7(0x805)],_0x4b1365,_0x231808);return{'id':_0x2aae1f['id'],'modelsBucketId':_0x2fbf43['bucketId'],'blocks':_0x129803,'models':this['getWorkflowModels'](_0x129803,_0x3428dd),'dataBucketIds':this[_0x3486d7(0x5dc)](_0x129803)};}[_0x2d5ee2(0xd2)](_0x3ce562,_0x1ec594){const _0x189f3d=_0x2d5ee2,_0x55c8a1=new Set();for(const _0x5c84a7 of _0x3ce562)if(_0x5c84a7['type']===_0x210b2c[_0x189f3d(0x29f)]&&_0x55c8a1[_0x189f3d(0x40c)](_0x5c84a7[_0x189f3d(0x135)]),_0x5c84a7[_0x189f3d(0x2f5)]===_0x210b2c[_0x189f3d(0x4ff)]){for(const _0x57bd64 of[..._0x5c84a7[_0x189f3d(0x141)],..._0x5c84a7[_0x189f3d(0x847)]])_0x57bd64[_0x189f3d(0x2f5)]===_0x256765[_0x189f3d(0x35f)]&&_0x55c8a1[_0x189f3d(0x40c)](_0x57bd64['id']);}return Array[_0x189f3d(0x81b)](_0x55c8a1)['map'](_0x247d52=>{const _0x4e1898=_0x189f3d,{id:_0x18bc17,engineType:_0x28f528,taskType:_0x3909c3,inputType:_0x2a957a,outputType:_0x453e3a,sourceUrl:_0x4552d8}=_0x1ec594[_0x4e1898(0x76e)](_0x15eb2a=>_0x15eb2a['id']===_0x247d52);return{'id':_0x18bc17,'engineType':_0x28f528,'taskType':_0x3909c3,'inputType':_0x2a957a,'outputType':_0x453e3a,'sourceUrl':_0x4552d8};});}[_0x2d5ee2(0x5dc)](_0x1a22c2){const _0x336f68=_0x2d5ee2,_0x10a7ad=new Set();for(const _0x248831 of _0x1a22c2)if(_0x248831['type']===_0x210b2c[_0x336f68(0x4ff)]){for(const _0x16c49f of[..._0x248831[_0x336f68(0x141)],..._0x248831[_0x336f68(0x847)]])_0x16c49f[_0x336f68(0x2f5)]===_0x256765[_0x336f68(0x3ec)]&&_0x10a7ad[_0x336f68(0x40c)](_0x16c49f['id']);}return Array[_0x336f68(0x81b)](_0x10a7ad);}[_0x2d5ee2(0x75f)](_0x435568,_0x2cd10c,_0x37849b){const _0x1ef3f3=_0x2d5ee2;return _0x435568[_0x1ef3f3(0x313)](_0x271fb4=>{const _0x2548f6=_0x1ef3f3;switch(_0x271fb4[_0x2548f6(0x2f5)]){case _0x210b2c[_0x2548f6(0x29f)]:const _0x5c897c=_0x2cd10c[_0x2548f6(0x76e)](_0x398083=>_0x398083['id']===_0x271fb4['id']);if(!_0x5c897c)throw new _0x177832(_0x177832['codes'][_0x2548f6(0x1c9)],{'block':_0x271fb4});return{'type':_0x5c897c['type'],'id':_0x5c897c['id'],'uid':_0x271fb4[_0x2548f6(0x695)],'instructions':_0x5c897c[_0x2548f6(0x1b6)],'temperature':_0x5c897c['temperature'],'maxTokens':_0x5c897c[_0x2548f6(0x6ae)],'modelId':_0x5c897c[_0x2548f6(0x135)],'links':_0x271fb4['links']};case _0x210b2c[_0x2548f6(0x4ff)]:const _0x88a0d8=_0x37849b[_0x2548f6(0x76e)](_0x52d3b0=>_0x52d3b0['id']===_0x271fb4['id']);if(!_0x88a0d8)throw new _0x177832(_0x177832[_0x2548f6(0x492)][_0x2548f6(0x1c9)],{'block':_0x271fb4});return{'type':_0x88a0d8[_0x2548f6(0x2f5)],'id':_0x88a0d8['id'],'uid':_0x271fb4[_0x2548f6(0x695)],'description':_0x88a0d8[_0x2548f6(0x34f)],'ingestBlocks':_0x88a0d8[_0x2548f6(0x141)],'retrieveBlocks':_0x88a0d8['retrieveBlocks'],'links':_0x271fb4['links']};case _0x210b2c['Prompt']:return{'type':_0x210b2c[_0x2548f6(0x28a)],'id':_0x271fb4['id'],'uid':_0x271fb4[_0x2548f6(0x695)],'links':_0x271fb4[_0x2548f6(0x27a)]};case _0x210b2c[_0x2548f6(0x356)]:return{'type':_0x210b2c[_0x2548f6(0x356)],'id':_0x271fb4['id'],'uid':_0x271fb4[_0x2548f6(0x695)],'links':_0x271fb4['links']};case _0x210b2c[_0x2548f6(0xc4)]:return{'type':_0x210b2c[_0x2548f6(0xc4)],'id':_0x271fb4['id'],'uid':_0x271fb4[_0x2548f6(0x695)],'links':_0x271fb4[_0x2548f6(0x27a)]};case _0x210b2c[_0x2548f6(0x79b)]:return{'type':_0x210b2c[_0x2548f6(0x79b)],'id':_0x271fb4['id'],'uid':_0x271fb4[_0x2548f6(0x695)],'links':_0x271fb4[_0x2548f6(0x27a)]};case _0x210b2c['Search']:return{'type':_0x210b2c['Search'],'id':_0x271fb4['id'],'uid':_0x271fb4['uid'],'links':_0x271fb4['links']};case _0x210b2c[_0x2548f6(0x68b)]:return{'type':_0x210b2c['WebScraper'],'id':_0x271fb4['id'],'uid':_0x271fb4[_0x2548f6(0x695)],'links':_0x271fb4[_0x2548f6(0x27a)]};default:throw new _0x177832(_0x177832[_0x2548f6(0x492)]['WorkflowInvalidBlockType'],{'block':_0x271fb4});}});}async[_0x2d5ee2(0x42a)](_0x4563a6){const _0x85e58e=_0x2d5ee2;return(await(0x0,_0x1f204c[_0x85e58e(0x2b5)])((0x0,_0x1f204c[_0x85e58e(0x27c)])(_0x5b16bc[_0x85e58e(0x433)](),_0x85e58e(0x822)+_0x4563a6+_0x85e58e(0x7c4))))[_0x85e58e(0x80b)]['map'](_0x530c4e=>{const _0x2d4e28=_0x85e58e,_0x18e74e=_0x530c4e[_0x2d4e28(0x252)]();return{'type':_0x210b2c[_0x2d4e28(0x29f)],'id':_0x530c4e['id'],'instructions':_0x18e74e[_0x2d4e28(0x1b6)],'temperature':_0x18e74e[_0x2d4e28(0x5f5)],'maxTokens':_0x18e74e[_0x2d4e28(0x6ae)],'modelId':_0x18e74e[_0x2d4e28(0x135)]};});}async['getDataCollections'](_0xd399e1){const _0x459be2=_0x2d5ee2;return(await(0x0,_0x1f204c[_0x459be2(0x2b5)])((0x0,_0x1f204c[_0x459be2(0x27c)])(_0x5b16bc['getFirestore'](),_0x459be2(0x822)+_0xd399e1+_0x459be2(0x1d3))))[_0x459be2(0x80b)][_0x459be2(0x313)](_0x1e88d7=>{const _0x5865e8=_0x459be2,_0x15eaeb=_0x1e88d7[_0x5865e8(0x252)]();return{'type':_0x210b2c[_0x5865e8(0x4ff)],'id':_0x1e88d7['id'],'description':_0x15eaeb[_0x5865e8(0x34f)],'ingestBlocks':_0x15eaeb['ingestBlocks'],'retrieveBlocks':_0x15eaeb[_0x5865e8(0x847)]};});}async[_0x2d5ee2(0x42f)](_0x5d2831){const _0x52d004=_0x2d5ee2;return(await(0x0,_0x1f204c[_0x52d004(0x2b5)])((0x0,_0x1f204c['collection'])(_0x5b16bc['getFirestore'](),'/developers/'+_0x5d2831+_0x52d004(0x165))))['docs'][_0x52d004(0x313)](_0x486063=>{const _0x5da7d1=_0x52d004,_0x3d612d=_0x486063[_0x5da7d1(0x252)]();return{'id':_0x486063['id'],'modelName':_0x3d612d['modelName'],'engineType':_0x3d612d['engine'],'taskType':_0x3d612d[_0x5da7d1(0x5f2)],'inputType':_0x3d612d[_0x5da7d1(0x817)]??_0x3f2cd3[_0x5da7d1(0x6e8)][_0x5da7d1(0x1d4)],'outputType':_0x3d612d['outputType']??_0x3f2cd3[_0x5da7d1(0x55f)]['Text'],'sourceUrl':_0x3d612d['url']};});}}const _0xdec173=_0x3e39f3[_0x2d5ee2(0x867)]();class _0x421534 extends _0x3def1a{[_0x2d5ee2(0x5b9)];[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x384)]=0x0;[_0x2d5ee2(0x18d)]=0x0;[_0x2d5ee2(0x596)];constructor(_0x45d4df,_0x22c4d9,_0xfcec48,_0xd01144){const _0x42fa9b=_0x2d5ee2;super(_0x45d4df,_0x22c4d9,_0xd01144),this[_0x42fa9b(0x5b9)]=_0x45d4df,this[_0x42fa9b(0x52a)]=_0xfcec48,this[_0x42fa9b(0x556)]();}['destroy'](){const _0x283597=_0x2d5ee2;this['debounceStats']&&(clearTimeout(this[_0x283597(0x596)]),delete this['debounceStats']),super[_0x283597(0x3d9)]();}[_0x2d5ee2(0x53c)](){const _0x148c27=_0x2d5ee2;this[_0x148c27(0x384)]=0x0,this[_0x148c27(0x18d)]=0x0,this['sendStats'](),super[_0x148c27(0x53c)]();}async[_0x2d5ee2(0x1ae)](_0x18d74c,_0xf83016){const _0x490b59=_0x2d5ee2,_0x54a48f=await this[_0x490b59(0x59f)](_0x18d74c,_0x3f2cd3[_0x490b59(0x738)][_0x490b59(0x22e)],_0xf83016);return new Promise((_0x1b58c6,_0x1fef27)=>{const _0x58f3c1=_0x490b59;let _0x4bf59a;const _0x59cbbf=_0x54a48f[_0x58f3c1(0x21a)]({'next':_0x190558=>{const _0x1e4a78=_0x58f3c1;switch(_0x190558[_0x1e4a78(0x5b1)]){case _0x3f2cd3['JobStatus']['Completed']:const _0x58fef9=_0x190558[_0x1e4a78(0x158)][_0x1e4a78(0x27b)]??0x0;this['logServiceEvent'](_0x18d74c,_0x58fef9),clearTimeout(_0x4bf59a),_0x1b58c6(_0x190558['result']),_0x59cbbf[_0x1e4a78(0x5ee)](),this[_0x1e4a78(0x384)]+=0x1,this[_0x1e4a78(0x18d)]+=_0x58fef9,this['sendStats']();break;case _0x3f2cd3[_0x1e4a78(0x712)]['Failed']:clearTimeout(_0x4bf59a),_0x1fef27(new _0x177832(_0x177832[_0x1e4a78(0x492)][_0x1e4a78(0x386)],{'updatedJob':_0x190558})),_0x59cbbf['unsubscribe'](),this[_0x1e4a78(0x556)]();}},'error':_0x395f9a=>{const _0x44eb4a=_0x58f3c1;clearTimeout(_0x4bf59a),_0x1fef27(new _0x177832(_0x177832[_0x44eb4a(0x492)][_0x44eb4a(0x386)],{'err':_0x395f9a})),_0x59cbbf[_0x44eb4a(0x5ee)]();}});_0x4bf59a=setTimeout(()=>{const _0x54f0af=_0x58f3c1;_0x1fef27(new _0x177832(_0x177832[_0x54f0af(0x492)]['GenerativeAIContextJobTimeout'])),_0x59cbbf[_0x54f0af(0x5ee)]();},_0x2c6d09);});}async*['stream'](_0xd21036,_0x1621bd){const _0x233b52=_0x2d5ee2,_0x53efe4=await this[_0x233b52(0x59f)](_0xd21036,_0x3f2cd3[_0x233b52(0x738)]['JobStream'],_0x1621bd);let _0x12e5a4,_0x5f52ec,_0x46f57e=!0x1,_0xffae95=0x0;const _0x181712=[],_0x2408f4=new Map();let _0x5666fd=null;const _0x27064c=()=>{_0x5666fd&&(_0x5666fd(),_0x5666fd=null);},_0x11149f=_0x438756=>{const _0x2d89b2=_0x233b52;_0x46f57e=!0x0,_0x27064c(),_0x4026ef[_0x2d89b2(0x5ee)](),_0x5f52ec=_0x438756;},_0x4026ef=_0x53efe4[_0x233b52(0x21a)]({'next':_0x5478ef=>{const _0x4d5e7f=_0x233b52;switch(_0x5478ef[_0x4d5e7f(0x5b1)]){case _0x3f2cd3['JobStatus'][_0x4d5e7f(0x7a8)]:if(_0x5478ef[_0x4d5e7f(0x158)]&&void 0x0!==_0x5478ef['result'][_0x4d5e7f(0x59e)]){if(void 0x0===_0x5478ef['result'][_0x4d5e7f(0x1df)])return void _0x11149f(_0x177832[_0x4d5e7f(0x492)][_0x4d5e7f(0xbd)]);_0xffae95===_0x5478ef['result']['index']?(_0x181712[_0x4d5e7f(0x80e)](_0x5478ef[_0x4d5e7f(0x158)]),_0xffae95++,((()=>{const _0x40615c=_0x4d5e7f;for(;_0x2408f4['has'](_0xffae95);)_0x181712[_0x40615c(0x80e)](_0x2408f4['get'](_0x181712[_0x40615c(0x68c)])),_0x2408f4['delete'](_0x181712[_0x40615c(0x68c)]),_0xffae95++;})()),_0x27064c(),_0x159b60()):_0x2408f4['set'](_0x5478ef[_0x4d5e7f(0x158)][_0x4d5e7f(0x1df)],_0x5478ef[_0x4d5e7f(0x158)]);}break;case _0x3f2cd3[_0x4d5e7f(0x712)][_0x4d5e7f(0x33c)]:const _0x1729d3=_0x5478ef[_0x4d5e7f(0x158)][_0x4d5e7f(0x27b)]??0x0;this['logServiceEvent'](_0xd21036,_0x1729d3),clearTimeout(_0x12e5a4),_0x11149f(),this['prompts']+=0x1,this[_0x4d5e7f(0x18d)]+=_0x1729d3,this[_0x4d5e7f(0x556)]();break;case _0x3f2cd3[_0x4d5e7f(0x712)]['Failed']:clearTimeout(_0x12e5a4),_0x11149f(_0x177832['codes'][_0x4d5e7f(0x386)]),this['sendStats']();}},'error':_0x2ed1f4=>{clearTimeout(_0x12e5a4),_0x11149f(_0x177832['codes']['GenerativeAIContextJobFailed']);}}),_0x51a472=()=>{const _0x1c1b56=_0x233b52;_0x11149f(_0x177832[_0x1c1b56(0x492)]['GenerativeAIContextJobTimeout']);},_0x159b60=()=>{clearTimeout(_0x12e5a4),_0x12e5a4=setTimeout(_0x51a472,_0x2c6d09);};for(_0x12e5a4=setTimeout(_0x51a472,_0x2c6d09);!_0x46f57e||_0x181712[_0x233b52(0x68c)]>0x0;)_0x181712[_0x233b52(0x68c)]>0x0?yield _0x181712['shift']():await new Promise(_0x2823fd=>_0x5666fd=_0x2823fd);if(_0x5f52ec)throw _0x4b7920[_0x233b52(0x626)](_0x233b52(0x40a),{'nodeId':this[_0x233b52(0x5b9)][_0x233b52(0x7bf)](),'nodeType':this[_0x233b52(0x5b9)]['type']}),new _0x177832(_0x5f52ec);}async[_0x2d5ee2(0x157)](){const _0x1e4838=_0x2d5ee2;return(await _0xdec173[_0x1e4838(0x47c)](this[_0x1e4838(0x52a)],this[_0x1e4838(0x5a5)]))['dataBucketIds'];}[_0x2d5ee2(0x46c)](_0xcb99c7,_0x846334){const _0x10bfe5=_0x2d5ee2,_0x12a1d9=this['label'],_0x171057=this['getOwnerId']();_0x4b7920[_0x10bfe5(0x46c)](_0x1077b6['GenerativeAIContext'],{'topic':_0x12a1d9,'prompt':_0xcb99c7,'type':_0x10bfe5(0x1ae),'nodeId':_0x171057,'tokenCount':_0x846334});}async[_0x2d5ee2(0x59f)](_0xe1cf1a,_0x70424f,_0x426fdb={}){const _0x57ec71=_0x2d5ee2,_0x15c4f0={'id':_0x57ec71(0x202)+(0x0,_0x53f5fa['v4'])(),'jobType':_0x70424f,'parameters':{'prompt':_0xe1cf1a,..._0x426fdb},'status':_0x3f2cd3[_0x57ec71(0x712)][_0x57ec71(0x80f)]};return await this[_0x57ec71(0x44e)](_0x15c4f0);}[_0x2d5ee2(0x556)](){const _0x124123=_0x2d5ee2;this[_0x124123(0x596)]&&clearTimeout(this[_0x124123(0x596)]),this[_0x124123(0x596)]=setTimeout(async()=>{const _0x2a5a72=_0x124123;delete this[_0x2a5a72(0x596)],this['systemTopic'][_0x2a5a72(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x2a5a72(0x2f6)],'content':{'type':_0xdecfb9[_0x2a5a72(0x148)],'label':this[_0x2a5a72(0x5a5)],'stats':{'timestamp':Date[_0x2a5a72(0x191)](),'storage':0x0,'messagesSent':this[_0x2a5a72(0x608)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x2a5a72(0x812)],'bytesReceived':this[_0x2a5a72(0x84b)],'writes':0x0,'reads':0x0,'prompts':this[_0x2a5a72(0x384)],'tokens':this[_0x2a5a72(0x18d)]}}});},0x1388);}}class _0x2d9b74{static [_0x2d5ee2(0x23d)];[_0x2d5ee2(0x3ad)]=[];[_0x2d5ee2(0x216)]=!0x1;constructor(){}static[_0x2d5ee2(0x867)](){const _0x4e6c0f=_0x2d5ee2;return _0x2d9b74[_0x4e6c0f(0x23d)]||(_0x2d9b74[_0x4e6c0f(0x23d)]=new _0x2d9b74()),_0x2d9b74[_0x4e6c0f(0x23d)];}get[_0x2d5ee2(0x68c)](){const _0x5e3424=_0x2d5ee2;return this[_0x5e3424(0x3ad)][_0x5e3424(0x68c)];}[_0x2d5ee2(0x579)](){const _0x5a6ff8=_0x2d5ee2;return!this[_0x5a6ff8(0x216)];}[_0x2d5ee2(0x63e)](_0x157998){const _0x323c82=_0x2d5ee2;_0x157998?this[_0x323c82(0x3ad)]=this['jobQueue'][_0x323c82(0x2e4)](_0x543906=>_0x543906[_0x323c82(0x45d)]!==_0x157998):(this[_0x323c82(0x3ad)]=[],this['isRunning']=!0x1);}[_0x2d5ee2(0x40c)](_0x39b661,_0x1d9980){const _0x1d9aa2=_0x2d5ee2;this[_0x1d9aa2(0x3ad)][_0x1d9aa2(0x80e)]({'callback':_0x1d9980,'ownerId':_0x39b661}),this[_0x1d9aa2(0x401)]();}async[_0x2d5ee2(0x401)](){const _0x7fef8b=_0x2d5ee2;if(!this[_0x7fef8b(0x216)]){for(this[_0x7fef8b(0x216)]=!0x0;this['jobQueue'][_0x7fef8b(0x68c)]>0x0;){const _0x3aaa8c=this[_0x7fef8b(0x3ad)]['shift']();if(_0x3aaa8c)try{console[_0x7fef8b(0x1e0)](_0x7fef8b(0x32e)),await _0x3aaa8c[_0x7fef8b(0x758)]();}catch(_0x1385e3){console[_0x7fef8b(0x626)](_0x7fef8b(0x464),_0x1385e3);}}this['isRunning']=!0x1;}}}const _0x4cde32=_0x2d9b74[_0x2d5ee2(0x867)]();class _0x638db extends _0x4ba786{[_0x2d5ee2(0x689)];[_0x2d5ee2(0x71d)];[_0x2d5ee2(0x169)];constructor(_0x468421,_0x5baa63,_0x3caf17,_0x4922ae){const _0x136459=_0x2d5ee2;super(_0x468421,_0x5baa63),this[_0x136459(0x689)]=_0x3caf17,this[_0x136459(0x71d)]=_0x4922ae;}[_0x2d5ee2(0x813)](){return _0x3f2cd3['ContentType']['Job'];}[_0x2d5ee2(0x2ef)](){const _0x3fba2e=_0x2d5ee2;this[_0x3fba2e(0x655)]();}[_0x2d5ee2(0x582)](){const _0x11fc2e=_0x2d5ee2;this['systemTopic']?.[_0x11fc2e(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x11fc2e(0x2f6)],'content':{'type':_0xdecfb9['CloseJobWorker'],'label':this[_0x11fc2e(0x5a5)]}});}[_0x2d5ee2(0x53c)](){const _0x5ac0b0=_0x2d5ee2;this[_0x5ac0b0(0x169)]?.(),delete this[_0x5ac0b0(0x169)],this[_0x5ac0b0(0x2ef)]();}[_0x2d5ee2(0x3d9)](){const _0x45f8d9=_0x2d5ee2;_0x4cde32[_0x45f8d9(0x63e)](this[_0x45f8d9(0x5a5)]),this[_0x45f8d9(0x169)]?.(),delete this[_0x45f8d9(0x169)],super['destroy']();}['isAvailable'](){const _0x39e568=_0x2d5ee2;return _0x4cde32[_0x39e568(0x579)]();}['getBid'](){return 0x1;}[_0x2d5ee2(0x2a9)](_0xe56ef5,_0x4b7b01,_0x41211b){}['accumulateResult'](_0x5138f1,_0x37d1e9){return _0x5138f1;}[_0x2d5ee2(0x801)](_0x414f77){return this['jobWorkerConnectors'][0x0]['processJob'](_0x414f77,{});}['internalProcessJobStream'](_0x3f99ec){const _0x1b78d5=_0x2d5ee2;return this[_0x1b78d5(0x71d)][0x0]['processJobStream'](_0x3f99ec,{});}[_0x2d5ee2(0x655)](){const _0x35834d=_0x2d5ee2;this[_0x35834d(0x169)]||(this[_0x35834d(0x169)]=this[_0x35834d(0xc9)]((_0x4c902a,_0x9d9b95)=>{const _0x592b38=_0x35834d;_0x4b7920[_0x592b38(0x5f9)](_0x27d952[_0x592b38(0x4f5)],_0x592b38(0x667),_0x9d9b95),_0x9d9b95 instanceof File||(this['isJobRequest'](_0x9d9b95)?(_0x4b7920[_0x592b38(0x5f9)](_0x27d952['Jobs'],_0x592b38(0x208),_0x9d9b95),this['isAvailable']()?this[_0x592b38(0x7d8)](_0x9d9b95['id'],_0x9d9b95[_0x592b38(0x499)],_0x4c902a):this[_0x592b38(0x1a6)](_0x9d9b95['id'],_0x9d9b95[_0x592b38(0x499)],_0x4c902a)):this[_0x592b38(0xdd)](_0x9d9b95)&&(_0x4b7920[_0x592b38(0x5f9)](_0x27d952[_0x592b38(0x4f5)],_0x592b38(0x500),_0x9d9b95),_0x4cde32[_0x592b38(0x40c)](this[_0x592b38(0x5a5)],()=>this['handleJobAttribution'](_0x9d9b95['id'],_0x9d9b95,_0x4c902a))));}));}[_0x2d5ee2(0x7d8)](_0x4b20a2,_0x4cec46,_0x43f283){const _0x32b95d=_0x2d5ee2,_0x6d6654={'id':_0x4b20a2,'jobType':_0x4cec46,'jobPhase':_0x400ff3[_0x32b95d(0x45c)],'available':!0x0,'queueLength':_0x4cde32[_0x32b95d(0x68c)],'bid':this['getBid']()};_0x4b7920[_0x32b95d(0x5f9)](_0x27d952['Jobs'],_0x32b95d(0x731),_0x6d6654),this['send'](_0x6d6654,[_0x43f283]);}[_0x2d5ee2(0x1a6)](_0xfd435a,_0x204e9a,_0x365ff5){const _0x5f52a9=_0x2d5ee2,_0x3ed437={'id':_0xfd435a,'jobType':_0x204e9a,'jobPhase':_0x400ff3['Bid'],'available':!0x1,'queueLength':_0x4cde32[_0x5f52a9(0x68c)],'bid':0x0};_0x4b7920[_0x5f52a9(0x5f9)](_0x27d952[_0x5f52a9(0x4f5)],_0x5f52a9(0x843),_0x3ed437),this[_0x5f52a9(0x23a)](_0x3ed437,[_0x365ff5]);}async[_0x2d5ee2(0x2ba)](_0x4dcb26,_0x4b06b9,_0x306058){const _0x262f12=_0x2d5ee2;_0x4b7920['log'](_0x27d952[_0x262f12(0x4f5)],_0x262f12(0x612),_0x4b06b9);const _0x2e6b2e={'id':_0x4dcb26,'jobType':_0x4b06b9[_0x262f12(0x499)],'parameters':_0x4b06b9[_0x262f12(0x1de)]};try{switch(_0x4b06b9[_0x262f12(0x499)]){case _0x3f2cd3['JobType']['Job']:await this['processJob'](_0x4dcb26,_0x4b06b9,_0x2e6b2e,_0x306058);break;case _0x3f2cd3['JobType'][_0x262f12(0x4ad)]:await this[_0x262f12(0x6b5)](_0x4dcb26,_0x4b06b9,_0x2e6b2e,_0x306058);break;default:throw new Error(_0x262f12(0x621));}}catch(_0x1389ea){_0x4b7920['error'](_0x262f12(0x652),{'nodeId':this[_0x262f12(0x2f3)][_0x262f12(0x7bf)](),'nodeType':this['owner']['type'],'data':{'job':_0x2e6b2e}},_0x1389ea);const _0x903080=_0x1389ea instanceof Error?_0x1389ea[_0x262f12(0x52f)]:'An\x20error\x20occurred',_0x374764={'id':_0x4dcb26,'jobType':_0x4b06b9[_0x262f12(0x499)],'jobPhase':_0x400ff3[_0x262f12(0x58d)],'message':_0x903080};await this[_0x262f12(0x23a)](_0x374764,[_0x306058]);}}async[_0x2d5ee2(0x6a5)](_0x42ffdb,_0x14d403,_0x35aaab,_0x3720bd){const _0x42d77c=_0x2d5ee2,_0x4f253d=Date['now'](),_0x1c3a4c=await this[_0x42d77c(0x801)](_0x35aaab[_0x42d77c(0x1de)]);this['compileStats'](_0x1c3a4c,_0x4f253d,Date[_0x42d77c(0x191)]());const _0x5e3b82={'id':_0x42ffdb,'jobType':_0x14d403[_0x42d77c(0x499)],'jobPhase':_0x400ff3[_0x42d77c(0x561)],'result':_0x1c3a4c};_0x4b7920[_0x42d77c(0x5f9)](_0x27d952[_0x42d77c(0x4f5)],_0x42d77c(0x665),_0x5e3b82),await this['send'](_0x5e3b82,[_0x3720bd]);}async[_0x2d5ee2(0x6b5)](_0x2e21f9,_0x2f2be4,_0x5eb54b,_0x2cf90c){const _0x1b4ca4=_0x2d5ee2,_0x4e9c1b=Date[_0x1b4ca4(0x191)]();let _0x59c6ab=0x0,_0xd82e7e={};for await(const _0x5b4c54 of this[_0x1b4ca4(0x55b)](_0x5eb54b[_0x1b4ca4(0x1de)])){const _0x27d62f={'id':_0x2e21f9,'jobType':_0x2f2be4[_0x1b4ca4(0x499)],'jobPhase':_0x400ff3[_0x1b4ca4(0x721)],'result':{..._0x5b4c54,'index':_0x59c6ab}};_0x4b7920[_0x1b4ca4(0x5f9)](_0x27d952['Jobs'],_0x1b4ca4(0xc7),_0x27d62f),this[_0x1b4ca4(0x23a)](_0x27d62f,[_0x2cf90c]),_0xd82e7e=this['accumulateResult'](_0xd82e7e,_0x5b4c54),_0x59c6ab++;}this[_0x1b4ca4(0x2a9)](_0xd82e7e,_0x4e9c1b,Date[_0x1b4ca4(0x191)]());const _0x195c82={'id':_0x2e21f9,'jobType':_0x2f2be4[_0x1b4ca4(0x499)],'jobPhase':_0x400ff3['Result'],'result':_0xd82e7e};_0x4b7920['log'](_0x27d952[_0x1b4ca4(0x4f5)],'JobWorker:\x20Sending\x20job\x20result',_0x195c82),await this[_0x1b4ca4(0x23a)](_0x195c82,[_0x2cf90c]);}['isJobRequest'](_0x274f31){const _0x3b361d=_0x2d5ee2;return _0x274f31[_0x3b361d(0x2ea)]===_0x400ff3[_0x3b361d(0x3da)];}[_0x2d5ee2(0xdd)](_0x2348e4){const _0xe6c40e=_0x2d5ee2;return _0x2348e4[_0xe6c40e(0x2ea)]===_0x400ff3[_0xe6c40e(0x4a0)];}}var _0x2a0059,_0xf4c749,_0x311bd6,_0x1fbbd9,_0x41f356;!function(_0x1a3fa7){const _0x2b1bfd=_0x2d5ee2;_0x1a3fa7[_0x2b1bfd(0x5a4)]='AITrace',_0x1a3fa7['IngestTrace']=_0x2b1bfd(0x74f),_0x1a3fa7[_0x2b1bfd(0x247)]='RetrieveTrace',_0x1a3fa7[_0x2b1bfd(0x600)]='WorkflowTrace';}(_0x2a0059||(_0x2a0059={})),function(_0x27a964){const _0xef3159=_0x2d5ee2;_0x27a964['InitialPrompt']=_0xef3159(0x170),_0x27a964[_0xef3159(0x19f)]=_0xef3159(0x19f),_0x27a964[_0xef3159(0x773)]=_0xef3159(0x773),_0x27a964['VectorSearch']='VectorSearch',_0x27a964['EntityExtractor']=_0xef3159(0x666),_0x27a964['GraphSearch']=_0xef3159(0x527),_0x27a964[_0xef3159(0x5c7)]=_0xef3159(0x5c7),_0x27a964['FinalContext']=_0xef3159(0x55d);}(_0xf4c749||(_0xf4c749={})),function(_0x1c50df){const _0x280fc0=_0x2d5ee2;_0x1c50df[_0x1c50df[_0x280fc0(0x34a)]=0x0]='Debug',_0x1c50df[_0x1c50df['Info']=0x5]=_0x280fc0(0x3d1),_0x1c50df[_0x1c50df[_0x280fc0(0x575)]=0xa]=_0x280fc0(0x575),_0x1c50df[_0x1c50df[_0x280fc0(0x5c2)]=0xf]='Error';}(_0x311bd6||(_0x311bd6={})),function(_0x4b5ebe){const _0x8f105c=_0x2d5ee2;_0x4b5ebe[_0x8f105c(0x293)]=_0x8f105c(0x293),_0x4b5ebe[_0x8f105c(0x24a)]='Ingest',_0x4b5ebe['Workflow']='Workflow';}(_0x1fbbd9||(_0x1fbbd9={})),function(_0x510e68){const _0x34f6bc=_0x2d5ee2;_0x510e68[_0x34f6bc(0x453)]='ChunkSplitter',_0x510e68[_0x34f6bc(0x46d)]=_0x34f6bc(0x46d),_0x510e68['EntityExtractor']=_0x34f6bc(0x666),_0x510e68['GraphDatabase']=_0x34f6bc(0x25b),_0x510e68[_0x34f6bc(0x35f)]=_0x34f6bc(0x35f),_0x510e68[_0x34f6bc(0x446)]=_0x34f6bc(0x446),_0x510e68[_0x34f6bc(0x65e)]=_0x34f6bc(0x65e),_0x510e68[_0x34f6bc(0x218)]=_0x34f6bc(0x218),_0x510e68['WordSplitter']=_0x34f6bc(0x587);}(_0x41f356||(_0x41f356={}));class _0x2f3328{static ['instance'];[_0x2d5ee2(0x526)]=_0x311bd6[_0x2d5ee2(0x5c2)];static [_0x2d5ee2(0x867)]=()=>(_0x2f3328[_0x2d5ee2(0x23d)]||(_0x2f3328['instance']=new _0x2f3328()),_0x2f3328[_0x2d5ee2(0x23d)]);[_0x2d5ee2(0x3dc)](_0xd1847){const _0x20abc0=_0x2d5ee2;_0xd1847[_0x20abc0(0x5a3)]<this[_0x20abc0(0x526)]||console['log'](JSON[_0x20abc0(0x779)](_0xd1847,null,0x2));}}const _0xf504c5=_0x2f3328[_0x2d5ee2(0x867)]();async function _0x23c649(_0x4ba29b,_0x8c0d7b,_0x1dd3cc,_0x4bbf5b,_0x13afa7){const _0x316669=_0x2d5ee2;let _0x38f193=[];if(_0x8c0d7b instanceof Array){for(const _0x2ac682 of _0x8c0d7b)_0x38f193=_0x38f193[_0x316669(0x16c)](_0x5ddbe5(_0x2ac682[_0x316669(0x262)],_0x1dd3cc,_0x2ac682[_0x316669(0x403)],_0x2ac682[_0x316669(0x68c)]));}else _0x38f193=_0x5ddbe5(_0x8c0d7b,_0x1dd3cc);_0xf504c5[_0x316669(0x3dc)]({'jobType':_0x1fbbd9[_0x316669(0x24a)],'type':_0x41f356[_0x316669(0x453)],'traceLevel':_0x311bd6[_0x316669(0x34a)],'jobId':_0x4ba29b,'blockId':_0x1dd3cc['id'],'traceId':(0x0,_0x53f5fa['v4'])(),'timestamp':Date[_0x316669(0x191)](),'status':_0x316669(0x4cd),'totalChunks':_0x38f193[_0x316669(0x68c)],'chunkSize':_0x1dd3cc[_0x316669(0x16a)][_0x316669(0x6b6)]}),await _0x1c1347(_0x4ba29b,_0x38f193,_0x1dd3cc,_0x4bbf5b,_0x13afa7);}function _0x5ddbe5(_0x47bcdf,_0x285661,_0x5610e5,_0x343211){const _0x2b94ef=_0x2d5ee2,_0x488808=[];for(let _0x499fee=0x0;_0x499fee<_0x47bcdf[_0x2b94ef(0x68c)];_0x499fee+=_0x285661[_0x2b94ef(0x16a)][_0x2b94ef(0x6b6)]){_0x5610e5||(_0x5610e5=_0x499fee);let _0x4f2fa3=_0x499fee-_0x285661['attributes'][_0x2b94ef(0x496)];_0x4f2fa3<0x0&&(_0x4f2fa3=0x0);let _0x1c5962=_0x499fee+_0x285661[_0x2b94ef(0x16a)]['size']+_0x285661[_0x2b94ef(0x16a)]['overlap'];_0x1c5962>_0x47bcdf[_0x2b94ef(0x68c)]&&(_0x1c5962=_0x47bcdf[_0x2b94ef(0x68c)]),_0x343211||(_0x343211=_0x499fee+_0x285661['attributes'][_0x2b94ef(0x6b6)])>_0x47bcdf['length']&&(_0x343211=_0x47bcdf['length']),_0x488808[_0x2b94ef(0x80e)]({'content':_0x47bcdf[_0x2b94ef(0x635)](_0x4f2fa3,_0x1c5962),'start':_0x5610e5,'length':_0x343211});}return _0x488808;}async function _0x12e12f(_0x5c4e46,_0x11d274,_0x288a48,_0x104763,_0x26ffb1){const _0xde481c=_0x2d5ee2;let _0x2930bf;if(_0x11d274[_0xde481c(0x20e)]['type'][_0xde481c(0x47a)](_0xde481c(0x9e))||(_0x5bb6b0=_0x11d274[_0xde481c(0x20e)]['name'],_0xf20776[_0xde481c(0x51a)]('.'+(_0x5bb6b0[_0xde481c(0x4c3)]('.')[_0xde481c(0x20f)]()?.[_0xde481c(0x21e)]()||''))))_0x2930bf=await _0x11d274[_0xde481c(0x20e)]['text']();else{if(!_0x26ffb1['documentParserConnector'][_0xde481c(0x1b0)](_0x11d274[_0xde481c(0x20e)]))throw new Error(_0xde481c(0x58f)+_0x11d274[_0xde481c(0x20e)][_0xde481c(0x2f5)]+'\x20-\x20'+_0x11d274[_0xde481c(0x20e)][_0xde481c(0x690)]);_0x2930bf=await _0x26ffb1[_0xde481c(0x7cc)][_0xde481c(0x7a3)](_0x11d274['file']);}var _0x5bb6b0;_0xf504c5[_0xde481c(0x3dc)]({'jobType':_0x1fbbd9[_0xde481c(0x24a)],'type':_0x41f356[_0xde481c(0x46d)],'traceLevel':_0x311bd6['Debug'],'blockId':_0x288a48['id'],'jobId':_0x5c4e46,'traceId':(0x0,_0x53f5fa['v4'])(),'timestamp':Date[_0xde481c(0x191)](),'status':_0xde481c(0x4cd),'documentType':_0x11d274[_0xde481c(0x20e)][_0xde481c(0x2f5)],'documentName':_0x11d274['file'][_0xde481c(0x690)],'extractionMethod':_0xde481c(0x444)}),await _0x1c1347(_0x5c4e46,_0x2930bf,_0x288a48,_0x104763,_0x26ffb1);}const _0xf20776=['.js','.ts',_0x2d5ee2(0x814),_0x2d5ee2(0x4d2),'.txt',_0x2d5ee2(0x51b),'.css',_0x2d5ee2(0x2b0),_0x2d5ee2(0x77c),_0x2d5ee2(0x709),_0x2d5ee2(0x7c1),_0x2d5ee2(0x37e),_0x2d5ee2(0x1c3),_0x2d5ee2(0x571),'.cfg',_0x2d5ee2(0x3b8),_0x2d5ee2(0x30a),_0x2d5ee2(0x5bc),'.php','.java','.c',_0x2d5ee2(0x1be),_0x2d5ee2(0x173),'.r',_0x2d5ee2(0x532),'.swift',_0x2d5ee2(0x6d1),_0x2d5ee2(0x83d),'.rs',_0x2d5ee2(0x7e8),_0x2d5ee2(0x518),'.lua','.hs',_0x2d5ee2(0x568),_0x2d5ee2(0x17b),_0x2d5ee2(0x603),_0x2d5ee2(0x1a8),_0x2d5ee2(0x49e),_0x2d5ee2(0x450),_0x2d5ee2(0x3a6),'.tcl','.m','.vbs',_0x2d5ee2(0x2e0),_0x2d5ee2(0x4a4),_0x2d5ee2(0x717),_0x2d5ee2(0x224),_0x2d5ee2(0x64e),_0x2d5ee2(0x725),_0x2d5ee2(0x6f5),'.erb',_0x2d5ee2(0x143),_0x2d5ee2(0x2ff),_0x2d5ee2(0x103),_0x2d5ee2(0x7e4),_0x2d5ee2(0x190),'.pug',_0x2d5ee2(0x438),_0x2d5ee2(0xb8),_0x2d5ee2(0x407),'.twig',_0x2d5ee2(0xb1),_0x2d5ee2(0x46f)];async function _0x2ff181(_0x511e86,_0x528d52,_0x34afab,_0x91d3b7,_0x3484bc){const _0x265223=_0x2d5ee2,_0x2d8466=new Set();for(const _0xbb1227 of _0x528d52)await _0xa6841b(_0xbb1227[_0x265223(0x262)],_0x2d8466,_0x34afab,_0x3484bc[_0x265223(0x287)]);_0xf504c5['trace']({'jobType':_0x1fbbd9[_0x265223(0x24a)],'type':_0x41f356['EntityExtractor'],'jobId':_0x511e86,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x265223(0x34a)],'timestamp':Date[_0x265223(0x191)](),'blockId':_0x34afab['id'],'status':_0x265223(0x4cd),'content':_0x528d52[_0x265223(0x313)](_0x36a736=>_0x36a736[_0x265223(0x262)])['join']('\x20'),'entitiesExtracted':_0x2d8466,'totalEntities':_0x2d8466['size']}),await _0x1c1347(_0x511e86,_0x2d8466,_0x34afab,_0x91d3b7,_0x3484bc);}async function _0xa6841b(_0x1f0cc2,_0x4c723d,_0xfdf818,_0x38868b){const _0x40a5f2=_0x2d5ee2,_0xce711a=await _0x38868b['getEntities'](_0x1f0cc2,{'ner':_0xfdf818[_0x40a5f2(0x16a)][_0x40a5f2(0x83f)],'noun':_0xfdf818[_0x40a5f2(0x16a)][_0x40a5f2(0x546)],'propn':_0xfdf818[_0x40a5f2(0x16a)][_0x40a5f2(0x1e1)],'verb':_0xfdf818['attributes'][_0x40a5f2(0x119)]});for(const _0x319568 of _0xce711a)_0x4c723d[_0x40a5f2(0x40c)](_0x319568);}function _0x5d5aef(_0x14559e,_0x12ebb6,_0x3ac476,_0x3c6287,_0x49eba4){const _0x1e0bb7=_0x2d5ee2;if(_0x3ac476[_0x1e0bb7(0x79a)]||(_0x3ac476[_0x1e0bb7(0x79a)]={}),_0x1e0bb7(0x69a)==typeof _0x12ebb6?_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x262)]=_0x12ebb6:_0x12ebb6 instanceof Set?_0x3ac476[_0x1e0bb7(0x79a)]['entities']=_0x12ebb6:_0x12ebb6 instanceof Map?_0x3ac476['accumulated'][_0x1e0bb7(0x618)]=_0x12ebb6:_0x12ebb6 instanceof Array?_0x3ac476['accumulated']['index']=_0x12ebb6:_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x20e)]=_0x12ebb6,_0x3ac476[_0x1e0bb7(0x197)]=_0x3ac476[_0x1e0bb7(0x197)]?_0x3ac476[_0x1e0bb7(0x197)]+0x1:0x1,_0x119b58(_0x3ac476,_0x3c6287)>_0x3ac476[_0x1e0bb7(0x197)])return;if(!(_0x3ac476['accumulated']['entities']&&_0x3ac476[_0x1e0bb7(0x79a)]['file']&&_0x3ac476[_0x1e0bb7(0x79a)]['content']&&_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x1df)]))throw new Error(_0x1e0bb7(0x616));const _0x28758b=_0x49eba4['contentMediator'][_0x1e0bb7(0x48e)](_0x3ac476['id']);for(const _0x4dc5e9 of _0x3ac476['accumulated'][_0x1e0bb7(0x783)]){let _0x3ccf23=[];_0x3ccf23=_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x1df)][_0x1e0bb7(0x2e4)](_0x5d9189=>_0x5d9189[_0x1e0bb7(0x262)][_0x1e0bb7(0x51a)](_0x4dc5e9));try{_0x28758b['addNode'](_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x20e)][_0x1e0bb7(0x803)],_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x262)],_0x3ccf23,_0x4dc5e9);}catch(_0x6cbcfd){}}if(_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x618)]){for(const [_0x29be42,_0x5204d9]of _0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x618)])for(const _0x1a50f6 of _0x5204d9)try{_0x28758b[_0x1e0bb7(0x36e)](_0x29be42,_0x1a50f6);}catch(_0x5e9b6f){}_0xf504c5[_0x1e0bb7(0x3dc)]({'jobType':_0x1fbbd9[_0x1e0bb7(0x24a)],'type':_0x41f356[_0x1e0bb7(0x25b)],'jobId':_0x14559e,'blockId':_0x3ac476['id'],'status':_0x1e0bb7(0x4cd),'timestamp':Date[_0x1e0bb7(0x191)](),'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6['Debug'],'content':_0x3ac476[_0x1e0bb7(0x79a)]['content'],'entities':_0x3ac476[_0x1e0bb7(0x79a)][_0x1e0bb7(0x783)],'relations':_0x3ac476['accumulated']['relations']});}}async function _0x1b0eeb(_0x2d0267,_0x5da281,_0x4cf8ad,_0x315fad,_0x5a0004){const _0x3193d4=_0x2d5ee2,_0x53d887=_0x5a0004[_0x3193d4(0x32c)][_0x3193d4(0x76e)](_0x1a9319=>_0x1a9319['id']===_0x4cf8ad['id']);if(!_0x53d887)throw new Error(_0x3193d4(0x24e));switch(_0x53d887[_0x3193d4(0x6e7)]){case _0x3f2cd3[_0x3193d4(0x55f)][_0x3193d4(0x1d4)]:if(_0x3193d4(0x69a)!=typeof _0x5da281)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x4cf3a1,_0x55e280,_0x37edf7,_0x127596,_0x109b7a,_0x2cddcb){const _0x4afa2b=_0x3193d4;let _0x4db8db;const _0x1d6972=_0x2cddcb[_0x4afa2b(0x409)]['find'](_0x5d81ff=>_0x5d81ff['getEngineType']()===_0x37edf7[_0x4afa2b(0x17a)]);if(!_0x1d6972)throw new Error(_0x4afa2b(0x792));_0x4db8db=await async function(_0x139f0e,_0x16c327,_0x17e7f8){const _0x2a6a79=_0x4afa2b,_0xe6f401=await _0x16c327[_0x2a6a79(0x6a5)]({'prompt':_0x139f0e},{'model':_0x17e7f8});if(_0xe6f401[_0x2a6a79(0x59e)]instanceof Array)throw new Error(_0x2a6a79(0x66d));return _0xe6f401[_0x2a6a79(0x59e)];}(_0x55e280,_0x1d6972,_0x37edf7),_0xf504c5['trace']({'jobType':_0x1fbbd9[_0x4afa2b(0x24a)],'type':_0x41f356[_0x4afa2b(0x35f)],'jobId':_0x4cf3a1,'blockId':_0x127596['id'],'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x4afa2b(0x34a)],'timestamp':Date['now'](),'status':_0x4afa2b(0x4cd),'modelName':_0x37edf7['id'],'inputType':_0x37edf7[_0x4afa2b(0x817)],'outputType':_0x37edf7[_0x4afa2b(0x6e7)],'content':_0x55e280,'results':_0x4db8db}),await _0x1c1347(_0x4cf3a1,_0x4db8db,_0x127596,_0x109b7a,_0x2cddcb);}(_0x2d0267,_0x5da281,_0x53d887,_0x4cf8ad,_0x315fad,_0x5a0004);break;case _0x3f2cd3['GenerativeAIModelOutputType'][_0x3193d4(0x5c3)]:if(!(_0x5da281 instanceof Array))throw new Error(_0x3193d4(0x69c));await async function(_0x1e91e6,_0xb0f863,_0x129c9a,_0x4373e1,_0x1e23a4,_0x3f0c3b){const _0x318896=_0x3193d4,_0x390a55=[],_0x326e6d=_0x3f0c3b[_0x318896(0x409)][_0x318896(0x76e)](_0x39ef8c=>_0x39ef8c[_0x318896(0x196)]()===_0x129c9a[_0x318896(0x17a)]);if(!_0x326e6d)throw new Error(_0x318896(0x792));for(const _0x156092 of _0xb0f863)_0x390a55[_0x318896(0x80e)](await _0x2ec037(_0x156092,_0x326e6d,_0x129c9a));await _0x1c1347(_0x1e91e6,_0x390a55,_0x4373e1,_0x1e23a4,_0x3f0c3b);}(_0x2d0267,_0x5da281,_0x53d887,_0x4cf8ad,_0x315fad,_0x5a0004);}}async function _0x2ec037(_0x40f2ee,_0x4a47fd,_0xf8a9d9){const _0x57c780=_0x2d5ee2;return(await _0x4a47fd['processJob']({'prompt':_0x40f2ee[_0x57c780(0x262)]},{'model':_0xf8a9d9}))[_0x57c780(0x59e)];}async function _0x52541a(_0x1d43c2,_0x299843,_0x2de6b8,_0x267478,_0x34220d){const _0x2a2743=_0x2d5ee2;if(_0x2de6b8['accumulated']||(_0x2de6b8[_0x2a2743(0x79a)]={}),_0x299843 instanceof Array?_0x2de6b8[_0x2a2743(0x79a)]['index']=_0x299843:_0x2de6b8[_0x2a2743(0x79a)][_0x2a2743(0x783)]=_0x299843,_0x2de6b8['timesCalled']=_0x2de6b8[_0x2a2743(0x197)]?_0x2de6b8[_0x2a2743(0x197)]+0x1:0x1,_0x119b58(_0x2de6b8,_0x267478)>_0x2de6b8[_0x2a2743(0x197)])return;if(!_0x2de6b8[_0x2a2743(0x79a)][_0x2a2743(0x1df)]||!_0x2de6b8['accumulated'][_0x2a2743(0x783)])throw new Error(_0x2a2743(0x5f3));const _0x312073=new Map();for(const _0x37f8a2 of _0x2de6b8[_0x2a2743(0x79a)][_0x2a2743(0x1df)])_0xf47377(_0x37f8a2[_0x2a2743(0x262)],_0x2de6b8[_0x2a2743(0x79a)]['entities'],_0x312073);_0xf504c5['trace']({'jobType':_0x1fbbd9['Ingest'],'type':_0x41f356[_0x2a2743(0x446)],'jobId':_0x1d43c2,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x2a2743(0x34a)],'blockId':_0x2de6b8['id'],'timestamp':Date[_0x2a2743(0x191)](),'status':_0x2a2743(0x4cd),'content':_0x2de6b8[_0x2a2743(0x79a)]['index']['map'](_0x37e473=>_0x37e473[_0x2a2743(0x262)])['join']('\x20'),'entities':_0x2de6b8[_0x2a2743(0x79a)][_0x2a2743(0x783)],'relations':_0x312073,'totalRelations':_0x312073[_0x2a2743(0x6b6)]}),await _0x1c1347(_0x1d43c2,_0x312073,_0x2de6b8,_0x267478,_0x34220d);}function _0xf47377(_0x45b6e9,_0x53655e,_0x1629c1){const _0x1d4087=_0x2d5ee2;for(const _0x228023 of _0x53655e)for(const _0x58bb86 of _0x53655e){if(_0x228023===_0x58bb86)continue;const _0x190598=_0x45b6e9[_0x1d4087(0x555)](_0x228023),_0x5db68f=_0x45b6e9[_0x1d4087(0x555)](_0x58bb86);-0x1!==_0x190598&&-0x1!==_0x5db68f&&(_0x1629c1[_0x1d4087(0x2b3)](_0x228023)||_0x1629c1[_0x1d4087(0x1d0)](_0x228023,new Set()),_0x1629c1['get'](_0x228023)['add'](_0x58bb86));}}async function _0x3538f0(_0x3c7c5a,_0x4877af,_0x238aa3,_0x204d6a,_0x4b5c96){const _0x3a8383=_0x2d5ee2;let _0xa39710=[];if(_0x4877af instanceof Array)for(const _0x4cf0a6 of _0x4877af){const _0x4326f7=await _0x4b5c96[_0x3a8383(0x287)][_0x3a8383(0x467)](_0x4cf0a6['content']);_0xa39710=_0xa39710[_0x3a8383(0x16c)](_0x4326f7[_0x3a8383(0x313)](_0x44e6a3=>({'content':_0x44e6a3,'start':_0x4cf0a6['start'],'length':_0x4cf0a6[_0x3a8383(0x68c)]})));}else _0xa39710=(await _0x4b5c96['nlpLibraryConnector'][_0x3a8383(0x467)](_0x4877af))['map'](_0x5b4c18=>({'content':_0x5b4c18,'start':_0x4877af[_0x3a8383(0x555)](_0x5b4c18),'length':_0x5b4c18[_0x3a8383(0x68c)]}));_0xf504c5[_0x3a8383(0x3dc)]({'jobType':_0x1fbbd9[_0x3a8383(0x24a)],'type':_0x41f356[_0x3a8383(0x65e)],'jobId':_0x3c7c5a,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x3a8383(0x34a)],'blockId':_0x238aa3['id'],'timestamp':Date['now'](),'status':'success','totalSentences':_0xa39710[_0x3a8383(0x68c)],'averageSentenceLength':_0xa39710[_0x3a8383(0x488)]((_0x560585,_0x5a2ff9)=>_0x560585+_0x5a2ff9[_0x3a8383(0x68c)],0x0)/_0xa39710['length']}),await _0x1c1347(_0x3c7c5a,_0xa39710,_0x238aa3,_0x204d6a,_0x4b5c96);}function _0x3d1e05(_0xa73275,_0x186756,_0x5294ec,_0x23d333,_0x552e6f){const _0x3b73ed=_0x2d5ee2;var _0x2e8363;if(_0x5294ec[_0x3b73ed(0x79a)]||(_0x5294ec[_0x3b73ed(0x79a)]={}),_0x186756 instanceof Array?(_0x2e8363=_0x186756)[0x0]instanceof Array&&_0x3b73ed(0x4e2)==typeof _0x2e8363[0x0]?.[0x0]?_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x658)]=_0x186756:_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x1df)]=_0x186756:_0x3b73ed(0x69a)==typeof _0x186756?_0x5294ec[_0x3b73ed(0x79a)]['content']=_0x186756:_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x20e)]=_0x186756,_0x5294ec[_0x3b73ed(0x197)]=_0x5294ec[_0x3b73ed(0x197)]?_0x5294ec[_0x3b73ed(0x197)]+0x1:0x1,!(_0x119b58(_0x5294ec,_0x23d333)>_0x5294ec[_0x3b73ed(0x197)])){if(!(_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x262)]&&_0x5294ec[_0x3b73ed(0x79a)]['index']&&_0x5294ec[_0x3b73ed(0x79a)]['vectors']&&_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x20e)]))throw new Error(_0x3b73ed(0x115));_0x552e6f[_0x3b73ed(0x7fe)][_0x3b73ed(0x6d0)](_0x5294ec['id'])[_0x3b73ed(0x26a)](_0x5294ec['accumulated'][_0x3b73ed(0x20e)]['pathName'],_0x5294ec['accumulated'][_0x3b73ed(0x262)],_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x1df)],_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x658)]),_0xf504c5['trace']({'jobType':_0x1fbbd9[_0x3b73ed(0x24a)],'type':_0x41f356[_0x3b73ed(0x218)],'jobId':_0xa73275,'blockId':_0x5294ec['id'],'status':'success','timestamp':Date[_0x3b73ed(0x191)](),'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x3b73ed(0x34a)],'content':_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x262)],'vectors':_0x5294ec['accumulated'][_0x3b73ed(0x658)],'filePathName':_0x5294ec[_0x3b73ed(0x79a)][_0x3b73ed(0x20e)][_0x3b73ed(0x803)]});}}async function _0x922667(_0x164c42,_0xab7b17,_0x27a37a,_0x5de35c,_0x47a2ca){const _0x2d2d1b=_0x2d5ee2;let _0x3a8dc8=[];if(_0xab7b17 instanceof Array){for(const _0x4bff73 of _0xab7b17)_0x3a8dc8=_0x3a8dc8[_0x2d2d1b(0x16c)](_0x29375c(_0x4bff73[_0x2d2d1b(0x262)],_0x27a37a,_0x4bff73['start'],_0x4bff73[_0x2d2d1b(0x68c)]));}else _0x3a8dc8=_0x29375c(_0xab7b17,_0x27a37a);_0xf504c5[_0x2d2d1b(0x3dc)]({'jobType':_0x1fbbd9['Ingest'],'type':_0x41f356[_0x2d2d1b(0x587)],'jobId':_0x164c42,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x2d2d1b(0x34a)],'blockId':_0x27a37a['id'],'timestamp':Date['now'](),'status':_0x2d2d1b(0x4cd),'totalChunks':_0x3a8dc8[_0x2d2d1b(0x68c)],'averageChunkLength':_0x3a8dc8['reduce']((_0x532f8e,_0x25a7e9)=>_0x532f8e+_0x25a7e9[_0x2d2d1b(0x68c)],0x0)/_0x3a8dc8[_0x2d2d1b(0x68c)]}),await _0x1c1347(_0x164c42,_0x3a8dc8,_0x27a37a,_0x5de35c,_0x47a2ca);}function _0x29375c(_0x2f13a8,_0x4daa05,_0x34834f,_0x511156){const _0x9bfbd5=_0x2d5ee2,_0x5b009a=[],_0x3c745b=_0x2f13a8[_0x9bfbd5(0x4c3)]('\x20');let _0x327ae='',_0x1ba3a9=0x0,_0x5e2fce=0x0,_0x29a0f9=0x0;for(const _0xe1afb2 of _0x3c745b){if(_0x327ae[_0x9bfbd5(0x68c)]+_0xe1afb2[_0x9bfbd5(0x68c)]>_0x4daa05[_0x9bfbd5(0x16a)]['size']){let _0x5a8e27=_0x1ba3a9,_0x27a630='';for(;_0x5a8e27>=0x0&&_0x27a630['length']+_0x3c745b[_0x5a8e27][_0x9bfbd5(0x68c)]<_0x4daa05[_0x9bfbd5(0x16a)][_0x9bfbd5(0x496)];)_0x27a630=_0x3c745b[_0x5a8e27]+'\x20'+_0x27a630,_0x5a8e27--;let _0x495149=_0x5e2fce,_0x412304='';for(;_0x495149<_0x3c745b[_0x9bfbd5(0x68c)]&&_0x412304[_0x9bfbd5(0x68c)]+_0x3c745b[_0x495149]['length']<_0x4daa05[_0x9bfbd5(0x16a)]['overlap'];)_0x412304+=_0x3c745b[_0x495149]+'\x20',_0x495149++;_0x327ae=_0x27a630+_0x327ae+_0x412304,_0x5b009a[_0x9bfbd5(0x80e)]({'content':_0x327ae[_0x9bfbd5(0x43d)](),'start':_0x34834f??_0x29a0f9,'length':_0x511156??_0x327ae[_0x9bfbd5(0x68c)]}),_0x327ae='',_0x1ba3a9=_0x5e2fce;}_0x327ae+=_0xe1afb2+'\x20',_0x5e2fce++,_0x29a0f9+=_0xe1afb2['length']+0x1;}if(_0x327ae[_0x9bfbd5(0x68c)]>0x0){let _0x55b882=_0x1ba3a9,_0x287b3e='';for(;_0x55b882>=0x0&&_0x287b3e[_0x9bfbd5(0x68c)]+_0x3c745b[_0x55b882]['length']<_0x4daa05[_0x9bfbd5(0x16a)]['overlap'];)_0x287b3e=_0x3c745b[_0x55b882]+'\x20'+_0x287b3e,_0x55b882--;_0x327ae=_0x287b3e+_0x327ae,_0x5b009a[_0x9bfbd5(0x80e)]({'content':_0x327ae[_0x9bfbd5(0x43d)](),'start':_0x34834f??_0x29a0f9,'length':_0x511156??_0x327ae[_0x9bfbd5(0x68c)]});}return _0x5b009a;}async function _0x1c1347(_0x7ebfea,_0x3c9e07,_0x1396fe,_0x3f99f1,_0x129128){const _0x59e588=_0x2d5ee2;for(const _0x5813c9 of _0x1396fe['links']||[]){const _0x59fc26=_0x3f99f1['find'](_0x251e43=>_0x251e43[_0x59e588(0x695)]===_0x5813c9[_0x59e588(0x695)]);if(_0x59fc26)switch(_0x59fc26[_0x59e588(0x2f5)]){case _0x256765[_0x59e588(0x453)]:await _0x23c649(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765[_0x59e588(0x46d)]:await _0x12e12f(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765['EntityExtractor']:await _0x2ff181(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765[_0x59e588(0x25b)]:_0x5d5aef(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765[_0x59e588(0x35f)]:await _0x1b0eeb(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765['RelationExtractor']:await _0x52541a(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765[_0x59e588(0x65e)]:await _0x3538f0(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765[_0x59e588(0x218)]:_0x3d1e05(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);break;case _0x256765['WordSplitter']:await _0x922667(_0x7ebfea,_0x3c9e07,_0x59fc26,_0x3f99f1,_0x129128);}}}function _0x119b58(_0xe9a765,_0x44db88){const _0x2431a2=_0x2d5ee2;return _0x44db88[_0x2431a2(0x2e4)](_0x587ac3=>_0x587ac3[_0x2431a2(0x27a)]?.[_0x2431a2(0x32b)](_0x103546=>_0x103546[_0x2431a2(0x695)]===_0xe9a765[_0x2431a2(0x695)]))['length'];}async function _0x26d391(_0x3f46ac,_0x4d0289,_0x3be9b1,_0x29aa5a,_0x39d4b9){const _0x19950d=_0x2d5ee2;try{const _0x348a57=_0x39d4b9['contentMediator'][_0x19950d(0x33a)](_0x3be9b1['id']),_0x31043f=await _0x348a57['get'](_0x4d0289);await _0x1c1347(_0x3f46ac,{'file':_0x31043f,'pathName':_0x4d0289},_0x3be9b1,structuredClone(_0x29aa5a),_0x39d4b9);}catch(_0x4fd08a){console[_0x19950d(0x626)](_0x19950d(0x1c0),_0x4fd08a);}}async function _0x3cf4bb(_0x184c6d,_0x4d4cec,_0x4d84e4,_0x34b577,_0x1fd4a9,_0x493092){const _0x4210b4=_0x2d5ee2,_0x216fa3=new Set();if(_0x4d4cec instanceof Array){for(const _0x5481c8 of _0x4d4cec)await _0x2a82fa(_0x5481c8['content'],_0x34b577,_0x216fa3,_0x493092[_0x4210b4(0x287)]);}else await _0x2a82fa(_0x4d4cec,_0x34b577,_0x216fa3,_0x493092[_0x4210b4(0x287)]);_0xf504c5[_0x4210b4(0x3dc)]({'jobType':_0x1fbbd9[_0x4210b4(0x293)],'type':_0xf4c749[_0x4210b4(0x666)],'jobId':_0x184c6d,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6['Debug'],'timestamp':Date[_0x4210b4(0x191)](),'blockId':_0x34b577['id'],'status':_0x4210b4(0x4cd),'content':_0x4d4cec,'entitiesExtracted':_0x216fa3,'totalEntities':_0x216fa3[_0x4210b4(0x6b6)]}),await _0x5d4304(_0x184c6d,_0x216fa3,_0x4d84e4,_0x34b577,_0x1fd4a9,_0x493092);}async function _0x2a82fa(_0x591a24,_0xfcb7c5,_0x1a4ad3,_0x34f541){const _0x1effaf=_0x2d5ee2,_0x4ee0ae=await _0x34f541['getEntities'](_0x591a24,{'ner':_0xfcb7c5[_0x1effaf(0x16a)]['ner'],'noun':_0xfcb7c5[_0x1effaf(0x16a)][_0x1effaf(0x546)],'propn':_0xfcb7c5[_0x1effaf(0x16a)][_0x1effaf(0x1e1)],'verb':_0xfcb7c5[_0x1effaf(0x16a)][_0x1effaf(0x119)]});for(const _0x3bd852 of _0x4ee0ae)_0x1a4ad3[_0x1effaf(0x40c)](_0x3bd852);}async function _0x571ced(_0x9fbba1,_0x5b8a65,_0x25cf58,_0x34878c,_0x3d57e4,_0x21cf46){const _0x26eec4=_0x2d5ee2;if(_0x34878c['accumulated']||(_0x34878c[_0x26eec4(0x79a)]={}),_0x5b8a65 instanceof Array?(_0x34878c[_0x26eec4(0x79a)][_0x26eec4(0x6de)]||(_0x34878c[_0x26eec4(0x79a)][_0x26eec4(0x6de)]=[]),_0x34878c[_0x26eec4(0x79a)]['results'][_0x26eec4(0x80e)](..._0x5b8a65)):_0x5b8a65 instanceof Set?_0x34878c['accumulated']['entities']=_0x5b8a65:_0x34878c['accumulated'][_0x26eec4(0x1ae)]=_0x5b8a65,_0x34878c[_0x26eec4(0x197)]=_0x34878c['timesCalled']?_0x34878c['timesCalled']+0x1:0x1,_0x126c88(_0x34878c,_0x3d57e4)>_0x34878c[_0x26eec4(0x197)])return;if(!_0x34878c[_0x26eec4(0x79a)][_0x26eec4(0x1ae)]&&!_0x34878c[_0x26eec4(0x79a)][_0x26eec4(0x6de)]||!_0x34878c['accumulated'][_0x26eec4(0x783)])throw new Error(_0x26eec4(0x616));const _0x35fa60=_0x21cf46[_0x26eec4(0x7fe)][_0x26eec4(0x48e)](_0x34878c['id'])[_0x26eec4(0x112)](Array[_0x26eec4(0x81b)](_0x34878c[_0x26eec4(0x79a)][_0x26eec4(0x783)]),_0x34878c[_0x26eec4(0x16a)][_0x26eec4(0x734)],_0x34878c['attributes']['contentSize']);let _0x38b6e2=[];for(const _0x556b79 in _0x35fa60){const _0x5dd7d8=_0x35fa60[_0x556b79];for(const _0x3fec7a of _0x5dd7d8){let _0x523e58=0x0;if(_0x34878c['accumulated'][_0x26eec4(0x1ae)]&&(_0x523e58=await _0x21cf46['nlpLibraryConnector'][_0x26eec4(0x4e7)](_0x34878c['accumulated']['prompt'],_0x3fec7a)),_0x34878c[_0x26eec4(0x79a)]['results']){for(const _0x4dd976 of _0x34878c[_0x26eec4(0x79a)][_0x26eec4(0x6de)])_0x523e58=Math[_0x26eec4(0x395)](_0x523e58,await _0x21cf46[_0x26eec4(0x287)][_0x26eec4(0x4e7)](_0x4dd976['content'],_0x3fec7a));}_0x523e58<_0x34878c['attributes']['minRelevance']||_0x38b6e2['push']({'content':_0x3fec7a,'relevance':_0x523e58,'pathName':_0x556b79});}}_0x38b6e2=_0x38b6e2[_0x26eec4(0x289)]((_0x3e472c,_0x916a77)=>_0x916a77[_0x26eec4(0x3ca)]-_0x3e472c['relevance'])['slice'](0x0,_0x34878c[_0x26eec4(0x16a)][_0x26eec4(0x644)]),_0xf504c5[_0x26eec4(0x3dc)]({'jobType':_0x1fbbd9[_0x26eec4(0x293)],'type':_0xf4c749['GraphSearch'],'jobId':_0x9fbba1,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x26eec4(0x34a)],'timestamp':Date[_0x26eec4(0x191)](),'blockId':_0x34878c['id'],'status':_0x26eec4(0x4cd),'content':_0x5b8a65,'topResults':_0x38b6e2,'numResults':_0x38b6e2[_0x26eec4(0x68c)]}),await _0x5d4304(_0x9fbba1,_0x38b6e2,_0x25cf58,_0x34878c,_0x3d57e4,_0x21cf46);}async function _0x30c9c6(_0x3c1172,_0x572846,_0x21cc9d,_0x2829f6,_0x148cfc,_0x3961a7){const _0x4db2e5=_0x2d5ee2,_0xb954a7=_0x3961a7[_0x4db2e5(0x32c)][_0x4db2e5(0x76e)](_0x38c73d=>_0x38c73d['id']===_0x2829f6['id']);if(!_0xb954a7)throw new Error(_0x4db2e5(0x24e));let _0x18de87='';switch(_0x18de87=_0x572846 instanceof Array?_0x572846['map'](_0x1bc429=>_0x1bc429[_0x4db2e5(0x262)])[_0x4db2e5(0x45e)](',\x20'):_0x572846,_0xb954a7[_0x4db2e5(0x6e7)]){case _0x3f2cd3[_0x4db2e5(0x55f)][_0x4db2e5(0x1d4)]:await async function(_0x27471f,_0x1b4dd3,_0x3790ab,_0x466883,_0x186f8e,_0x42fcdd,_0x2a66a8){const _0x249a1c=_0x4db2e5,_0x17e71a=_0x2a66a8[_0x249a1c(0x409)]['find'](_0x4e90d5=>_0x4e90d5[_0x249a1c(0x196)]()===_0x466883['engineType']);if(!_0x17e71a)throw new Error(_0x249a1c(0x792));const _0x1a2a5c=await async function(_0x41e76f,_0x300140,_0x31e8cd,_0x2e65ef){const _0x485109=_0x249a1c,_0x3c851d={'prompt':_0x41e76f};_0x300140[_0x485109(0x6c7)][_0x485109(0x68c)]>0x0&&(_0x3c851d[_0x485109(0x1b6)]='Additional\x20context:\x0a'+_0x300140[_0x485109(0x6c7)]['map'](_0x34a744=>_0x485109(0x2e9)+_0x34a744[_0x485109(0x803)]+':\x20'+_0x34a744[_0x485109(0x262)])[_0x485109(0x45e)]('\x0a'));const _0xf3896d=await _0x31e8cd[_0x485109(0x6a5)](_0x3c851d,{'model':_0x2e65ef});if(_0xf3896d[_0x485109(0x59e)]instanceof Array)throw new Error(_0x485109(0x1d7));return _0x300140['inputTokens']+=_0xf3896d[_0x485109(0x27b)]??0x0,_0x300140[_0x485109(0x754)]+=_0xf3896d[_0x485109(0x754)]??0x0,_0xf3896d[_0x485109(0x59e)];}(_0x1b4dd3,_0x3790ab,_0x17e71a,_0x466883);_0xf504c5[_0x249a1c(0x3dc)]({'jobType':_0x1fbbd9['Retrieve'],'type':_0xf4c749[_0x249a1c(0x773)],'jobId':_0x27471f,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x249a1c(0x34a)],'timestamp':Date[_0x249a1c(0x191)](),'blockId':_0x186f8e['id'],'status':'success','modelName':_0x466883['id'],'content':_0x1b4dd3,'newPrompt':_0x1a2a5c,'inputType':_0x466883['inputType'],'outputType':_0x466883['outputType']}),await _0x5d4304(_0x27471f,_0x1a2a5c,_0x3790ab,_0x186f8e,_0x42fcdd,_0x2a66a8);}(_0x3c1172,_0x18de87,_0x21cc9d,_0xb954a7,_0x2829f6,_0x148cfc,_0x3961a7);break;case _0x3f2cd3[_0x4db2e5(0x55f)][_0x4db2e5(0x5c3)]:await async function(_0x30527a,_0x9af59b,_0x5f1218,_0x131353,_0x3ecba8,_0x4bbe76,_0x4d60d8){const _0x5c68f3=_0x4db2e5,_0x515bf3=_0x4d60d8[_0x5c68f3(0x409)]['find'](_0x29a5c6=>_0x29a5c6[_0x5c68f3(0x196)]()===_0x131353[_0x5c68f3(0x17a)]);if(!_0x515bf3)throw new Error(_0x5c68f3(0x792));const _0x3294d7=await async function(_0xedb60d,_0x4764d3,_0x18ec5f){const _0x535eb6=_0x5c68f3;return(await _0x4764d3[_0x535eb6(0x6a5)]({'prompt':_0xedb60d},{'model':_0x18ec5f}))[_0x535eb6(0x59e)];}(_0x9af59b,_0x515bf3,_0x131353);await _0x5d4304(_0x30527a,_0x3294d7,_0x5f1218,_0x3ecba8,_0x4bbe76,_0x4d60d8);}(_0x3c1172,_0x18de87,_0x21cc9d,_0xb954a7,_0x2829f6,_0x148cfc,_0x3961a7);}}async function _0xa51a63(_0x1fc505,_0x4f4563,_0x531008,_0x8bf888,_0x2f036e,_0x969616){const _0x523554=_0x2d5ee2,_0x569fb5=_0x969616[_0x523554(0x7fe)][_0x523554(0x6d0)](_0x8bf888['id'])[_0x523554(0x729)](_0x4f4563,_0x8bf888[_0x523554(0x16a)][_0x523554(0x644)],_0x8bf888[_0x523554(0x16a)][_0x523554(0x211)],_0x8bf888['attributes'][_0x523554(0x1e3)]);_0xf504c5[_0x523554(0x3dc)]({'jobType':_0x1fbbd9[_0x523554(0x293)],'type':_0xf4c749[_0x523554(0x264)],'jobId':_0x1fc505,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x523554(0x34a)],'timestamp':Date[_0x523554(0x191)](),'blockId':_0x8bf888['id'],'status':'success','topResults':_0x569fb5,'numResults':_0x569fb5[_0x523554(0x68c)]}),await _0x5d4304(_0x1fc505,_0x569fb5,_0x531008,_0x8bf888,_0x2f036e,_0x969616);}async function _0x1b6445(_0x51322a,_0x150e52,_0x5df601,_0x4dc1de,_0x49ae1c,_0xa00567){const _0x46dc7c=_0x2d5ee2;if(_0x4dc1de[_0x46dc7c(0x79a)]||(_0x4dc1de[_0x46dc7c(0x79a)]={}),_0x150e52 instanceof Array?(_0x4dc1de['accumulated'][_0x46dc7c(0x6de)]||(_0x4dc1de[_0x46dc7c(0x79a)][_0x46dc7c(0x6de)]=[]),_0x4dc1de[_0x46dc7c(0x79a)][_0x46dc7c(0x6de)][_0x46dc7c(0x80e)](..._0x150e52)):_0x4dc1de[_0x46dc7c(0x79a)][_0x46dc7c(0x1ae)]=_0x150e52,_0x4dc1de['timesCalled']=_0x4dc1de[_0x46dc7c(0x197)]?_0x4dc1de[_0x46dc7c(0x197)]+0x1:0x1,_0x126c88(_0x4dc1de,_0x49ae1c)>_0x4dc1de[_0x46dc7c(0x197)])return;if(!_0x4dc1de[_0x46dc7c(0x79a)][_0x46dc7c(0x1ae)]||!_0x4dc1de['accumulated']['results'])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x1ce181 of _0x4dc1de[_0x46dc7c(0x79a)][_0x46dc7c(0x6de)])_0x1ce181[_0x46dc7c(0x3ca)]=await _0xa00567['nlpLibraryConnector'][_0x46dc7c(0x4e7)](_0x4dc1de['accumulated']['prompt'],_0x1ce181[_0x46dc7c(0x262)]);const _0x2526ec=_0x4dc1de[_0x46dc7c(0x79a)][_0x46dc7c(0x6de)][_0x46dc7c(0x2e4)](_0x55a2ef=>_0x55a2ef['relevance']>_0x4dc1de[_0x46dc7c(0x16a)][_0x46dc7c(0x211)])['sort']((_0x23a97e,_0x1379c3)=>_0x1379c3[_0x46dc7c(0x3ca)]-_0x23a97e['relevance'])['slice'](0x0,_0x4dc1de[_0x46dc7c(0x16a)][_0x46dc7c(0x644)]);_0xf504c5[_0x46dc7c(0x3dc)]({'jobType':_0x1fbbd9['Retrieve'],'type':_0xf4c749[_0x46dc7c(0x5c7)],'jobId':_0x51322a,'traceId':(0x0,_0x53f5fa['v4'])(),'traceLevel':_0x311bd6[_0x46dc7c(0x34a)],'timestamp':Date[_0x46dc7c(0x191)](),'blockId':_0x4dc1de['id'],'status':_0x46dc7c(0x4cd),'inputResults':_0x4dc1de[_0x46dc7c(0x79a)][_0x46dc7c(0x6de)],'rerankedResults':_0x2526ec}),await _0x5d4304(_0x51322a,_0x2526ec,_0x5df601,_0x4dc1de,_0x49ae1c,_0xa00567);}async function _0x5d4304(_0x217562,_0x31e7e8,_0x42d11c,_0x15433f,_0x51e960,_0x43a10c){const _0x57cfe4=_0x2d5ee2;for(const _0x57b1da of _0x15433f[_0x57cfe4(0x27a)]||[]){const _0x436205=_0x51e960['find'](_0x72d383=>_0x72d383[_0x57cfe4(0x695)]===_0x57b1da['uid']);if(_0x436205)switch(_0x436205[_0x57cfe4(0x2f5)]){case _0x256765[_0x57cfe4(0x5d7)]:_0x42d11c[_0x57cfe4(0x6c7)][_0x57cfe4(0x80e)](..._0x31e7e8);break;case _0x256765[_0x57cfe4(0x666)]:await _0x3cf4bb(_0x217562,_0x31e7e8,_0x42d11c,_0x436205,_0x51e960,_0x43a10c);break;case _0x256765[_0x57cfe4(0x25b)]:await _0x571ced(_0x217562,_0x31e7e8,_0x42d11c,_0x436205,_0x51e960,_0x43a10c);break;case _0x256765[_0x57cfe4(0x35f)]:await _0x30c9c6(_0x217562,_0x31e7e8,_0x42d11c,_0x436205,_0x51e960,_0x43a10c);break;case _0x256765['Reranker']:await _0x1b6445(_0x217562,_0x31e7e8,_0x42d11c,_0x436205,_0x51e960,_0x43a10c);break;case _0x256765[_0x57cfe4(0x218)]:await _0xa51a63(_0x217562,_0x31e7e8,_0x42d11c,_0x436205,_0x51e960,_0x43a10c);}}}function _0x126c88(_0x46f86d,_0x335fe5){const _0x5a6cff=_0x2d5ee2;return _0x335fe5[_0x5a6cff(0x2e4)](_0x3dd25c=>_0x3dd25c[_0x5a6cff(0x27a)]?.['some'](_0x10245c=>_0x10245c[_0x5a6cff(0x695)]===_0x46f86d[_0x5a6cff(0x695)]))[_0x5a6cff(0x68c)];}function _0x3bf6bf(_0x414ebc,_0x1eb43b,_0x1411cb,_0x1da4db){const _0x28aad7=_0x2d5ee2,_0x68cd49=new Map(),_0xbb720b=_0x1411cb[_0x28aad7(0x2e4)](_0x572eee=>_0x572eee[_0x28aad7(0x27a)]?.[_0x28aad7(0x76e)](_0x54053a=>_0x54053a['uid']===_0x1eb43b[_0x28aad7(0x695)]&&(_0x54053a[_0x28aad7(0x2f5)]===_0x4f65f6[_0x28aad7(0x269)]||_0x54053a[_0x28aad7(0x2f5)]===_0x4f65f6[_0x28aad7(0x7ca)])));for(const _0x3c74f6 of _0xbb720b)_0x3c74f6['type']===_0x210b2c[_0x28aad7(0x4ff)]?_0x68cd49[_0x28aad7(0x1d0)](_0x28aad7(0x6df)+_0x3c74f6['id'],_0x5077c8(_0x414ebc,_0x3c74f6,_0x1da4db)):_0x68cd49[_0x28aad7(0x1d0)](_0x4e407a(_0x3c74f6),_0x3dea58(_0x3c74f6,_0x1da4db));return _0x68cd49;}function _0x5077c8(_0x2e1e35,_0x544fec,_0x3a95a9){const _0x507bb2=_0x2d5ee2;return{'description':_0x507bb2(0x660)+_0x544fec[_0x507bb2(0x34f)]+_0x507bb2(0x78a),'params':{'query':{'type':_0x507bb2(0x69a)}},'callback':async _0x1625cf=>{const _0x4a7718=_0x507bb2;if('string'!=typeof _0x1625cf?.[_0x4a7718(0x7cb)])return'Query\x20is\x20required';try{const _0x55b622=(0x0,_0x53f5fa['v4'])(),_0x4e1851=_0x544fec[_0x4a7718(0x847)][_0x4a7718(0x76e)](_0x493022=>_0x493022[_0x4a7718(0x2f5)]===_0x256765[_0x4a7718(0x28a)]),_0x44b445=await async function(_0xd924d7,_0x43600e,_0x476d03,_0x2179da,_0x5ab2f1){const _0x59ab1b=_0x4a7718,_0xcf2b63={'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x5d4304(_0xd924d7,_0x43600e,_0xcf2b63,_0x476d03,structuredClone(_0x2179da),_0x5ab2f1),_0xcf2b63[_0x59ab1b(0x59e)]='Additional\x20context:\x0a'+_0xcf2b63[_0x59ab1b(0x6c7)][_0x59ab1b(0x313)](_0x3361ae=>'From\x20'+_0x3361ae['pathName']+':\x20'+_0x3361ae[_0x59ab1b(0x262)])[_0x59ab1b(0x45e)]('\x0a');}catch(_0x22e7bb){console[_0x59ab1b(0x626)]('Error\x20processing\x20retrieve',_0x22e7bb);}return _0xcf2b63;}(_0x55b622,_0x1625cf['query'],_0x4e1851,_0x544fec[_0x4a7718(0x847)],_0x3a95a9);return _0x2e1e35['context']=Array['from'](new Set([..._0x2e1e35[_0x4a7718(0x6c7)],..._0x44b445[_0x4a7718(0x6c7)]])),_0x2e1e35[_0x4a7718(0x27b)]+=_0x44b445[_0x4a7718(0x27b)]??0x0,_0x2e1e35[_0x4a7718(0x754)]+=_0x44b445[_0x4a7718(0x754)]??0x0,_0x44b445['output'];}catch(_0x2e849d){return console[_0x4a7718(0x626)](_0x2e849d),'Error\x20retrieving\x20context';}}};}function _0x4e407a(_0x4d216e){const _0x5d76e2=_0x2d5ee2;switch(_0x4d216e['type']){case _0x210b2c[_0x5d76e2(0xc4)]:return'getDate';case _0x210b2c[_0x5d76e2(0x79b)]:return _0x5d76e2(0x3f3);case _0x210b2c[_0x5d76e2(0x3cf)]:return _0x5d76e2(0x729);case _0x210b2c['WebScraper']:return _0x5d76e2(0x1af);}throw new Error('Unknown\x20skill\x20type');}function _0x3dea58(_0x30fd35,_0x244080){const _0x583d1c=_0x2d5ee2;switch(_0x30fd35['type']){case _0x210b2c['Time']:return{'description':'Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','callback':()=>new Date()[_0x583d1c(0x5a2)]()};case _0x210b2c['Code']:return{'description':_0x583d1c(0x61d),'params':{'code':{'type':_0x583d1c(0x69a)}},'callback':_0x41f4a7=>{const _0x5b18f7=_0x583d1c;if(_0x5b18f7(0x69a)!=typeof _0x41f4a7?.['code'])return _0x5b18f7(0x188);try{return Function(''+_0x41f4a7?.[_0x5b18f7(0x788)])();}catch(_0x56ebde){return console['error'](_0x56ebde),'Error\x20executing\x20code';}}};case _0x210b2c[_0x583d1c(0x3cf)]:return function(_0x2846c5,_0x84f0be){const _0x35af94=_0x583d1c;return{'description':_0x35af94(0x4c5),'params':{'query':{'type':'string'}},'callback':async _0x29d389=>{const _0xca406e=_0x35af94;if(!_0x84f0be['searchConnector'])return'Search\x20connector\x20not\x20found';if('string'!=typeof _0x29d389?.[_0xca406e(0x7cb)])return _0xca406e(0x442);try{const _0x30660b=await _0x84f0be[_0xca406e(0x7a9)]['search'](_0x29d389[_0xca406e(0x7cb)],_0x2846c5,_0x3b7010['google'][_0xca406e(0x2ed)]);let _0x2e36a1='';for(const _0x2aaff8 of _0x30660b)_0x2e36a1+=_0x2aaff8[_0xca406e(0x1fa)]+_0xca406e(0x7d9)+_0x2aaff8[_0xca406e(0x7e7)]+'\x0a'+_0x2aaff8[_0xca406e(0x56f)]+'\x0a\x0a';return _0x2e36a1;}catch(_0x3fd971){return console[_0xca406e(0x626)](_0x3fd971),_0xca406e(0x7b8);}}};}(_0x244080['searchApiKey'],_0x244080);case _0x210b2c[_0x583d1c(0x68b)]:return{'description':_0x583d1c(0x820),'params':{'url':{'type':_0x583d1c(0x69a)},'page':{'type':'number'}},'callback':async _0xe64098=>{const _0x21036d=_0x583d1c;if(_0x21036d(0x69a)!=typeof _0xe64098?.[_0x21036d(0x7e7)])return _0x21036d(0x3fb);try{const _0x37ec79=await fetch(_0xe64098[_0x21036d(0x7e7)]),_0x5cd2d4=await _0x37ec79[_0x21036d(0x162)](),_0x293740=_0x5cd2d4[_0x21036d(0xcf)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0xac1d8c=(_0x293740?_0x293740[0x1]:_0x5cd2d4)[_0x21036d(0x7b4)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')['replace'](/<br\s*\/?>/gi,'\x20'),_0x3b78b7=_0xac1d8c[_0x21036d(0x7b4)](/&nbsp;/g,'\x20')[_0x21036d(0x7b4)](/<\/?[^>]+(>|$)/g,'')[_0x21036d(0x7b4)](/\s\s+/g,'\x20')[_0x21036d(0x43d)]();return _0x3b78b7[_0x21036d(0x68c)]>_0x1c831d?'number'!=typeof _0xe64098?.[_0x21036d(0x1e2)]?_0x21036d(0x6f2):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b78b7[_0x21036d(0x635)]((_0xe64098[_0x21036d(0x1e2)]-0x1)*_0x1c831d,_0x1c831d)+_0x21036d(0xde)+(_0xe64098[_0x21036d(0x1e2)]+0x1)+_0x21036d(0x248):_0x3b78b7;}catch(_0x5ed62d){return console[_0x21036d(0x626)](_0x5ed62d),_0x21036d(0x504);}}};}throw new Error(_0x583d1c(0x4cc));}async function _0x5c7df5(_0x4973c8,_0x3ddd27,_0x3d46c1,_0x5dd18c,_0x5e36de){const _0x2dd2b1=_0x2d5ee2;for(const _0x2edefa of _0x3d46c1['links']||[]){const _0x3ff46e=_0x5dd18c['find'](_0x36d317=>_0x36d317[_0x2dd2b1(0x695)]===_0x2edefa[_0x2dd2b1(0x695)]);if(_0x3ff46e&&_0x3ff46e['type']===_0x210b2c['Answer'])return _0x3d46c1;}const _0x11b0c2=_0x5e36de[_0x2dd2b1(0x32c)][_0x2dd2b1(0x76e)](_0x494f50=>_0x494f50['id']===_0x3d46c1[_0x2dd2b1(0x135)]);if(!_0x11b0c2)throw new Error(_0x2dd2b1(0x24e));const _0x575a16=_0x5e36de['generativeAIWorkerConnectors']['find'](_0x5dc5f2=>_0x5dc5f2[_0x2dd2b1(0x196)]()===_0x11b0c2[_0x2dd2b1(0x17a)]);if(!_0x575a16)throw new Error(_0x2dd2b1(0x792));const _0x3d176f=await _0x575a16[_0x2dd2b1(0x6a5)]({'prompt':_0x4973c8['prompt'],'instructions':''+_0x3d46c1[_0x2dd2b1(0x1b6)]+(_0x4973c8[_0x2dd2b1(0x1b6)]??''),'temperature':_0x3d46c1[_0x2dd2b1(0x5f5)],'maxTokens':_0x3d46c1['maxTokens'],'history':_0x4973c8['history'],'functions':_0x3bf6bf(_0x3ddd27,_0x3d46c1,_0x5dd18c,_0x5e36de)},{'model':_0x11b0c2});if(_0x2dd2b1(0x69a)!=typeof _0x3d176f[_0x2dd2b1(0x59e)])throw new Error(_0x2dd2b1(0x66c));return _0x4973c8[_0x2dd2b1(0x1ae)]=_0x3d176f[_0x2dd2b1(0x59e)],_0x3ddd27[_0x2dd2b1(0x27b)]+=_0x3d176f['inputTokens']??0x0,_0x3ddd27[_0x2dd2b1(0x754)]+=_0x3d176f[_0x2dd2b1(0x754)]??0x0,_0x106ed2(_0x4973c8,_0x3ddd27,_0x3d46c1,_0x5dd18c,_0x5e36de);}async function _0x106ed2(_0x484e17,_0x31536b,_0x12d107,_0x2c67ac,_0x23ec59){const _0x3d3b03=_0x2d5ee2;for(const _0x5a1969 of _0x12d107[_0x3d3b03(0x27a)]||[]){const _0x4928f7=_0x2c67ac[_0x3d3b03(0x76e)](_0x1b48d8=>_0x1b48d8[_0x3d3b03(0x695)]===_0x5a1969[_0x3d3b03(0x695)]);if(_0x4928f7&&_0x4928f7[_0x3d3b03(0x2f5)]===_0x210b2c['Agent'])return _0x5c7df5(_0x484e17,_0x31536b,_0x4928f7,_0x2c67ac,_0x23ec59);}throw new Error(_0x3d3b03(0x195));}class _0x162c47 extends _0x638db{[_0x2d5ee2(0x5b9)];[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x7fe)];[_0x2d5ee2(0x409)];[_0x2d5ee2(0x7cc)];[_0x2d5ee2(0x287)];[_0x2d5ee2(0x6a7)];[_0x2d5ee2(0x7a9)];[_0x2d5ee2(0x232)];[_0x2d5ee2(0xa1)];['dataStores']=new Map();['models']=new Map();[_0x2d5ee2(0x596)];[_0x2d5ee2(0x384)]=0x0;[_0x2d5ee2(0x18d)]=0x0;[_0x2d5ee2(0x3fd)]=!0x1;constructor(_0x44883b,_0x579bb8,_0x526538,_0x2bf629,_0x5b1191,_0x1a808c,_0x58f80b,_0x6805da,_0xcec022,_0x24be78){const _0x13a4a5=_0x2d5ee2;super(_0x44883b,_0x579bb8,_0x2bf629,_0x1a808c),this['localNode']=_0x44883b,this[_0x13a4a5(0x52a)]=_0x526538,this[_0x13a4a5(0x7fe)]=_0x5b1191,this['generativeAIWorkerConnectors']=_0x1a808c,this[_0x13a4a5(0x7cc)]=_0x58f80b,this[_0x13a4a5(0x287)]=_0x6805da,this['searchApiKey']=_0xcec022,this[_0x13a4a5(0x7a9)]=_0x24be78;}async['destroy'](){const _0x59e38d=_0x2d5ee2;for(const _0x5dcd85 of this[_0x59e38d(0x409)])await _0x5dcd85[_0x59e38d(0x582)]();this['modelStore']?.[_0x59e38d(0x5ee)](this[_0x59e38d(0x5a5)]),this[_0x59e38d(0x476)][_0x59e38d(0x57b)](_0xd3b02f=>_0xd3b02f[_0x59e38d(0x5ee)](this[_0x59e38d(0x5a5)])),this[_0x59e38d(0x596)]&&(clearTimeout(this['debounceStats']),delete this[_0x59e38d(0x596)]),super[_0x59e38d(0x3d9)]();}async[_0x2d5ee2(0x2ef)](_0x11217c=!0x1){const _0xc65761=_0x2d5ee2;if(this['isOpened'])super[_0xc65761(0x2ef)]();else{if(this['workflow']=await _0xdec173['getWorkflow'](this[_0xc65761(0x52a)],this['label']),this[_0xc65761(0xa1)]=this[_0xc65761(0x7fe)]['getObjectStoreBucket'](this[_0xc65761(0x232)]['modelsBucketId']),!this['modelStore'])throw new Error('Model\x20store\x20not\x20initialized');_0x11217c||await this[_0xc65761(0xf4)](this[_0xc65761(0xa1)]);for(const _0x6e0959 of this['workflow'][_0xc65761(0x32c)])try{let _0x5224c4;_0x6e0959[_0xc65761(0x17a)]===_0x3f2cd3[_0xc65761(0x663)][_0xc65761(0x276)]&&(_0x5224c4=await this['getModel']('/'+_0x6e0959['id']+_0x509c69)),this['models'][_0xc65761(0x1d0)](_0x6e0959['id'],{'id':_0x6e0959['id'],'engineType':_0x6e0959['engineType'],'taskType':_0x6e0959[_0xc65761(0x2ca)],'inputType':_0x6e0959[_0xc65761(0x817)],'outputType':_0x6e0959[_0xc65761(0x6e7)],'sourceUrl':_0x6e0959['sourceUrl'],'pathName':_0x5224c4});}catch(_0x45290b){await this[_0xc65761(0xa1)][_0xc65761(0xef)]({'action':_0x3f2cd3[_0xc65761(0x833)][_0xc65761(0x65f)],'file':new File([''],''+_0x6e0959['id']+_0x509c69),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x6e0959[_0xc65761(0x70d)]}}),this['models']['set'](_0x6e0959['id'],{'id':_0x6e0959['id'],'engineType':_0x6e0959[_0xc65761(0x17a)],'taskType':_0x6e0959[_0xc65761(0x2ca)],'inputType':_0x6e0959[_0xc65761(0x817)],'outputType':_0x6e0959[_0xc65761(0x6e7)],'sourceUrl':_0x6e0959[_0xc65761(0x70d)],'pathName':await this['getModel']('/'+_0x6e0959['id']+_0x509c69)});}for(const _0x282d4b of this[_0xc65761(0x409)])await _0x282d4b[_0xc65761(0x320)](this[_0xc65761(0x5a5)],this[_0xc65761(0x32c)]);for(const _0x1e9253 of this[_0xc65761(0x232)][_0xc65761(0x508)])this['dataStores'][_0xc65761(0x1d0)](_0x1e9253,this[_0xc65761(0x7fe)][_0xc65761(0x33a)](_0x1e9253));await this[_0xc65761(0xd3)](_0x11217c),this['subscribeToContent'](),this['sendStats'](),this[_0xc65761(0x3fd)]=!0x0,super[_0xc65761(0x2ef)]();}}[_0x2d5ee2(0x53c)](){const _0x22021a=_0x2d5ee2;this['prompts']=0x0,this['tokens']=0x0,this[_0x22021a(0x556)](),super[_0x22021a(0x53c)]();}['getBid'](){const _0x16acd4=_0x2d5ee2;return this['sendStats'](),this[_0x16acd4(0x7aa)]();}[_0x2d5ee2(0x2a9)](_0x27804b,_0xf90593,_0x1d8000){const _0x15e68d=_0x2d5ee2,{outputTokens:_0x1d943c=0x0,output:_0x1c6d87=''}=_0x27804b,_0x5a1868=_0x1d943c/((_0x1d8000-_0xf90593)/0x3e8);this['prompts']+=0x1,this[_0x15e68d(0x18d)]+=_0x1d943c,this[_0x15e68d(0x46c)](_0x1c6d87,_0x5a1868,_0x1d943c),this[_0x15e68d(0x556)]();}[_0x2d5ee2(0x639)](_0x49235e,_0x557f38){const _0x515404=_0x2d5ee2;return _0x49235e[_0x515404(0x59e)]=_0x49235e['output']??'',{'output':_0x515404(0x69a)==typeof _0x49235e[_0x515404(0x59e)]&&_0x515404(0x69a)==typeof _0x557f38[_0x515404(0x59e)]?_0x49235e[_0x515404(0x59e)]+_0x557f38['output']:_0x557f38['output'],'outputTokens':_0x557f38[_0x515404(0x754)]??_0x49235e[_0x515404(0x754)],'inputTokens':_0x557f38['inputTokens']??_0x49235e[_0x515404(0x27b)]};}async[_0x2d5ee2(0x801)](_0x3b8022){const _0x437971=_0x2d5ee2;if(!this['workflow'])throw new Error(_0x437971(0x636));const _0x168d8c=this[_0x437971(0x232)][_0x437971(0x805)]['find'](_0x259cfb=>_0x259cfb[_0x437971(0x2f5)]===_0x210b2c[_0x437971(0x28a)]),_0x2258ad=await async function(_0x55c1ee,_0x5cf03a,_0x4f3f7f,_0x810116){const _0xa3c935=_0x437971,_0x2c8325={'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x1212d5=await _0x106ed2(_0x55c1ee,_0x2c8325,_0x5cf03a,_0x4f3f7f,_0x810116),_0x290fd0=_0x810116['models']['find'](_0xe2217b=>_0xe2217b['id']===_0x1212d5['modelId']);if(!_0x290fd0)throw new Error('Model\x20not\x20found');const _0x15ef8a=_0x810116['generativeAIWorkerConnectors']['find'](_0x475e38=>_0x475e38[_0xa3c935(0x196)]()===_0x290fd0['engineType']);if(!_0x15ef8a)throw new Error(_0xa3c935(0x792));const _0xf0060d=await _0x15ef8a[_0xa3c935(0x6a5)]({'prompt':_0x55c1ee[_0xa3c935(0x1ae)],'instructions':''+_0x1212d5['instructions']+(_0x55c1ee[_0xa3c935(0x1b6)]??''),'temperature':_0x1212d5[_0xa3c935(0x5f5)],'maxTokens':_0x1212d5[_0xa3c935(0x6ae)],'history':_0x55c1ee[_0xa3c935(0x6a3)],'functions':_0x3bf6bf(_0x2c8325,_0x1212d5,_0x4f3f7f,_0x810116)},{'model':_0x290fd0});return{'output':_0xf0060d[_0xa3c935(0x59e)],'context':_0x2c8325[_0xa3c935(0x6c7)],'inputTokens':(_0x2c8325[_0xa3c935(0x27b)]??0x0)+(_0xf0060d[_0xa3c935(0x27b)]??0x0),'outputTokens':(_0x2c8325[_0xa3c935(0x754)]??0x0)+(_0xf0060d[_0xa3c935(0x754)]??0x0)};}(_0x3b8022,_0x168d8c,this[_0x437971(0x232)][_0x437971(0x805)],{'documentParserConnector':this[_0x437971(0x7cc)],'nlpLibraryConnector':this[_0x437971(0x287)],'generativeAIWorkerConnectors':this[_0x437971(0x409)],'models':this[_0x437971(0x232)][_0x437971(0x32c)],'contentMediator':this[_0x437971(0x7fe)],'searchApiKey':this[_0x437971(0x6a7)],'searchConnector':this[_0x437971(0x7a9)]});return _0x2258ad;}async*[_0x2d5ee2(0x55b)](_0x522d61){const _0x344d1=_0x2d5ee2;if(!this['workflow'])throw new Error('Workflow\x20not\x20initialized');const _0x38c3d8=this[_0x344d1(0x232)][_0x344d1(0x805)][_0x344d1(0x76e)](_0x34805c=>_0x34805c[_0x344d1(0x2f5)]===_0x210b2c[_0x344d1(0x28a)]);for await(const _0x195e03 of async function*(_0x566806,_0x3cd428,_0x3d886a,_0x4323e2){const _0x430c0a=_0x344d1,_0x31f97b={'context':[],'inputTokens':0x0,'outputTokens':0x0},_0xe74e1f=await _0x106ed2(_0x566806,_0x31f97b,_0x3cd428,_0x3d886a,_0x4323e2),_0x18a00f=_0x4323e2[_0x430c0a(0x32c)][_0x430c0a(0x76e)](_0x369431=>_0x369431['id']===_0xe74e1f[_0x430c0a(0x135)]);if(!_0x18a00f)throw new Error(_0x430c0a(0x24e));const _0x575499=_0x4323e2[_0x430c0a(0x409)][_0x430c0a(0x76e)](_0x796de4=>_0x796de4['getEngineType']()===_0x18a00f[_0x430c0a(0x17a)]);if(!_0x575499)throw new Error('No\x20connector\x20found\x20for\x20model');for await(const _0x221d2a of _0x575499[_0x430c0a(0x6b5)]({'prompt':_0x566806[_0x430c0a(0x1ae)],'instructions':''+_0xe74e1f[_0x430c0a(0x1b6)]+(_0x566806[_0x430c0a(0x1b6)]??''),'temperature':_0xe74e1f[_0x430c0a(0x5f5)],'maxTokens':_0xe74e1f[_0x430c0a(0x6ae)],'history':_0x566806['history'],'functions':_0x3bf6bf(_0x31f97b,_0xe74e1f,_0x3d886a,_0x4323e2)},{'model':_0x18a00f}))yield{'output':_0x221d2a[_0x430c0a(0x59e)],'context':_0x31f97b[_0x430c0a(0x6c7)],'inputTokens':(_0x31f97b[_0x430c0a(0x27b)]??0x0)+(_0x221d2a[_0x430c0a(0x27b)]??0x0),'outputTokens':(_0x31f97b[_0x430c0a(0x754)]??0x0)+(_0x221d2a[_0x430c0a(0x754)]??0x0)};}(_0x522d61,_0x38c3d8,this[_0x344d1(0x232)][_0x344d1(0x805)],{'documentParserConnector':this[_0x344d1(0x7cc)],'nlpLibraryConnector':this[_0x344d1(0x287)],'generativeAIWorkerConnectors':this[_0x344d1(0x409)],'models':this[_0x344d1(0x232)][_0x344d1(0x32c)],'contentMediator':this['contentMediator'],'searchApiKey':this['searchApiKey'],'searchConnector':this[_0x344d1(0x7a9)]}))yield _0x195e03;}async['waitForSyncComplete'](_0x41fbf8){await new Promise(_0x163e23=>{const _0x39574c=a0_0x5322;_0x41fbf8['subscribe'](this[_0x39574c(0x5a5)],async _0x510fc2=>{const _0x177edf=_0x39574c;_0x510fc2[_0x177edf(0x11a)]===_0x3f2cd3[_0x177edf(0x651)][_0x177edf(0x4a9)]&&(_0x41fbf8[_0x177edf(0x5ee)](this[_0x177edf(0x5a5)]),_0x163e23());});});}async['getModel'](_0x510cb1){const _0x5a7b2f=_0x2d5ee2;if(!this[_0x5a7b2f(0xa1)])throw new Error(_0x5a7b2f(0x4f3));const _0x463c15=await this[_0x5a7b2f(0xa1)]['list']('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x30fd19 of _0x463c15)if(_0x30fd19[_0x5a7b2f(0xaf)]===_0x3f2cd3[_0x5a7b2f(0x60e)][_0x5a7b2f(0x65f)]&&_0x30fd19[_0x5a7b2f(0x803)]===_0x510cb1)return _0x30fd19[_0x5a7b2f(0x309)]??_0x30fd19[_0x5a7b2f(0x803)];throw new Error(_0x5a7b2f(0x4d0)+_0x510cb1);}async[_0x2d5ee2(0xd3)](_0x93657d){const _0xfdef07=_0x2d5ee2;for(const _0x6c40df of this[_0xfdef07(0x476)]['values']())try{_0x93657d||await this[_0xfdef07(0xf4)](_0x6c40df);const _0x4dfa63=await _0x6c40df[_0xfdef07(0x25a)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0xfdef07(0x85e)](_0x6c40df[_0xfdef07(0x15d)](),_0x4dfa63);}catch(_0x6586c6){_0x4b7920[_0xfdef07(0x626)](_0xfdef07(0x246),{'nodeId':this['localNode'][_0xfdef07(0x7bf)](),'nodeType':this[_0xfdef07(0x5b9)][_0xfdef07(0x2f5)]});}}async['syncFolder'](_0x346756,_0x5bea01){const _0x2f3fc3=_0x2d5ee2;for(const _0x58dbf0 of _0x5bea01){if(_0x58dbf0['kind']===_0x3f2cd3['ObjectKind']['Folder']){if(!_0x58dbf0['entries']||0x0===_0x58dbf0[_0x2f3fc3(0x12d)]['length'])continue;await this[_0x2f3fc3(0x85e)](_0x346756,_0x58dbf0['entries']);}_0x58dbf0[_0x2f3fc3(0xaf)]===_0x3f2cd3['ObjectKind']['File']&&await this[_0x2f3fc3(0x3d2)](_0x346756,_0x58dbf0[_0x2f3fc3(0x803)]);}}[_0x2d5ee2(0x85c)](){const _0x551f51=_0x2d5ee2;for(const _0x2484e4 of this[_0x551f51(0x476)][_0x551f51(0x2fd)]())_0x2484e4['subscribe'](this[_0x551f51(0x5a5)],async _0x5e5cbb=>{const _0x17f032=_0x551f51;switch(_0x5e5cbb['event']){case _0x3f2cd3[_0x17f032(0x651)]['FileWrite']:await this[_0x17f032(0x3d2)](_0x2484e4[_0x17f032(0x15d)](),_0x5e5cbb[_0x17f032(0x3c7)][_0x17f032(0x20e)][_0x17f032(0x803)]);break;case _0x3f2cd3[_0x17f032(0x651)][_0x17f032(0x3f4)]:this[_0x17f032(0x7f2)](_0x2484e4['getName'](),_0x5e5cbb['payload'][_0x17f032(0x690)]);}});}async[_0x2d5ee2(0x3d2)](_0x18a4ef,_0x188818){const _0x4752ec=_0x2d5ee2;if(!this[_0x4752ec(0x232)])throw new Error(_0x4752ec(0x636));const _0x1e13fd=this[_0x4752ec(0x232)][_0x4752ec(0x805)][_0x4752ec(0x2e4)](_0x4859ba=>_0x4859ba[_0x4752ec(0x2f5)]===_0x210b2c[_0x4752ec(0x4ff)])[_0x4752ec(0x2e4)](_0x3a3490=>_0x3a3490[_0x4752ec(0x141)][_0x4752ec(0x32b)](_0x40822f=>_0x40822f['type']===_0x256765[_0x4752ec(0x3ec)]&&_0x40822f['id']===_0x18a4ef));for(const _0x258f4e of _0x1e13fd){const _0x5226c5=_0x258f4e[_0x4752ec(0x141)][_0x4752ec(0x76e)](_0x27f09c=>_0x27f09c['type']===_0x256765[_0x4752ec(0x3ec)]&&_0x27f09c['id']===_0x18a4ef);if(!_0x5226c5)continue;const _0x4fff73=(0x0,_0x53f5fa['v4'])();await _0x26d391(_0x4fff73,_0x188818,_0x5226c5,_0x258f4e[_0x4752ec(0x141)],{'documentParserConnector':this[_0x4752ec(0x7cc)],'nlpLibraryConnector':this[_0x4752ec(0x287)],'generativeAIWorkerConnectors':this[_0x4752ec(0x409)],'models':this[_0x4752ec(0x232)]['models'],'contentMediator':this[_0x4752ec(0x7fe)],'searchApiKey':this[_0x4752ec(0x6a7)]});}this[_0x4752ec(0x556)]();}[_0x2d5ee2(0x7f2)](_0x3574e3,_0x447e93){const _0x364ccc=_0x2d5ee2;if(!this[_0x364ccc(0x232)])throw new Error('Workflow\x20not\x20initialized');const _0x46cb73=this['workflow'][_0x364ccc(0x805)][_0x364ccc(0x2e4)](_0x1af23f=>_0x1af23f['type']===_0x210b2c[_0x364ccc(0x4ff)])[_0x364ccc(0x76e)](_0x344a75=>_0x344a75[_0x364ccc(0x141)]['some'](_0x430584=>_0x430584['id']===_0x3574e3));for(const _0x5a6d01 of _0x46cb73?.[_0x364ccc(0x141)]??[])_0x5a6d01[_0x364ccc(0x2f5)]===_0x256765[_0x364ccc(0x218)]&&this[_0x364ccc(0x7fe)][_0x364ccc(0x6d0)](_0x5a6d01['id'])[_0x364ccc(0x43a)](_0x447e93);this[_0x364ccc(0x556)]();}[_0x2d5ee2(0x7aa)](){const _0x5dfb5f=_0x2d5ee2;try{return this[_0x5dfb5f(0x689)]['getCapacityReport']()[_0x5dfb5f(0x7be)][_0x5dfb5f(0x1e4)]*(0x1-this['capacityReporter'][_0x5dfb5f(0x6cb)]()['gpu'][_0x5dfb5f(0x3be)]);}catch(_0x88b2b2){return _0x4b7920[_0x5dfb5f(0x5f9)](_0x27d952[_0x5dfb5f(0x4f5)],_0x5dfb5f(0x2f2),_0x88b2b2),0x0;}}['sendStats'](){const _0x220ed4=_0x2d5ee2;this[_0x220ed4(0x596)]&&clearTimeout(this[_0x220ed4(0x596)]),this[_0x220ed4(0x596)]=setTimeout(async()=>{const _0x300ab7=_0x220ed4;if(delete this[_0x300ab7(0x596)],!this['modelStore'])return;let _0xfcfc6f=await this[_0x300ab7(0xa1)][_0x300ab7(0x278)]();for(const _0x422bfc of this[_0x300ab7(0x476)]['values']())_0xfcfc6f+=await _0x422bfc[_0x300ab7(0x278)]();this['systemTopic'][_0x300ab7(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x300ab7(0x2f6)],'content':{'type':_0xdecfb9['GenerativeAIWorkerStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0xfcfc6f,'messagesSent':this[_0x300ab7(0x608)],'messagesReceived':this[_0x300ab7(0x235)],'bytesSent':this[_0x300ab7(0x812)],'bytesReceived':this[_0x300ab7(0x84b)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},0x1388);}[_0x2d5ee2(0x46c)](_0x28896d,_0x4f57fc,_0x2311bb){const _0x1e4958=_0x2d5ee2,_0x354eea=this[_0x1e4958(0x5a5)],_0x2f1dad=this[_0x1e4958(0x3f9)]();_0x4b7920['logServiceEvent'](_0x1077b6[_0x1e4958(0x353)],{'topic':_0x354eea,'type':_0x1e4958(0x1a4),'nodeId':_0x2f1dad,'output':_0x28896d,'tokenCount':_0x2311bb,'tokensPerSecond':_0x4f57fc});}}class _0x4458d0 extends _0x4ba786{['localNode'];[_0x2d5ee2(0x2dd)];['db'];[_0x2d5ee2(0x596)];[_0x2d5ee2(0x15b)]=0x0;['reads']=0x0;constructor(_0x383548,_0x27c08b,_0x43f778,_0x59fc2b){const _0x249ae6=_0x2d5ee2;if(_0x249ae6(0x69a)!=typeof _0x27c08b)throw new _0x21720d(_0x11ce35[_0x249ae6(0x11e)],_0x249ae6(0x256));super(_0x383548,_0x27c08b),this['localNode']=_0x383548,this['clusterId']=_0x43f778,this['db']=new _0x59fc2b(),this[_0x249ae6(0x556)]();}['destroy'](){const _0x47b91d=_0x2d5ee2;clearTimeout(this[_0x47b91d(0x596)]),delete this[_0x47b91d(0x596)],super[_0x47b91d(0x3d9)]();}[_0x2d5ee2(0x582)](){const _0x4e4a24=_0x2d5ee2;this[_0x4e4a24(0x319)][_0x4e4a24(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x4e4a24(0x2f6)],'content':{'type':_0xdecfb9[_0x4e4a24(0x2eb)],'label':this[_0x4e4a24(0x5a5)]}});}['getContentType'](){const _0x4e3985=_0x2d5ee2;return _0x3f2cd3['ContentType'][_0x4e3985(0x25b)];}[_0x2d5ee2(0x53c)](){const _0xc8d01b=_0x2d5ee2;this[_0xc8d01b(0x556)]();}[_0x2d5ee2(0x5d2)](_0x555890,_0x4a035d,_0xed2b41,_0x2898dd){const _0x25f3df=_0x2d5ee2;this['db'][_0x25f3df(0x5d2)](_0x555890,_0x4a035d,_0xed2b41,_0x2898dd),this[_0x25f3df(0x15b)]+=0x1,this[_0x25f3df(0x556)]();}[_0x2d5ee2(0x36e)](_0x370652,_0x56470c){const _0x1b809e=_0x2d5ee2;this['db']['addEdge'](_0x370652,_0x56470c),this[_0x1b809e(0x15b)]+=0x1,this[_0x1b809e(0x556)]();}[_0x2d5ee2(0x112)](_0xadb5bd,_0x3724d2,_0x199c9b){const _0x372e1b=_0x2d5ee2,_0x38e378=this['db'][_0x372e1b(0x112)](_0xadb5bd,_0x3724d2,_0x199c9b);return this[_0x372e1b(0x12c)]+=0x1,_0x4b7920[_0x372e1b(0x46c)](_0x1077b6[_0x372e1b(0x25b)],{'type':_0x372e1b(0x510),'label':this[_0x372e1b(0x5a5)],'nodeId':this[_0x372e1b(0x5b9)][_0x372e1b(0x7bf)](),'nodeType':this[_0x372e1b(0x5b9)][_0x372e1b(0x2f5)],'clusterId':this[_0x372e1b(0x2dd)],'size':0x0}),this[_0x372e1b(0x556)](),_0x38e378;}[_0x2d5ee2(0x556)](){const _0x2ec2ee=_0x2d5ee2;this[_0x2ec2ee(0x596)]&&clearTimeout(this[_0x2ec2ee(0x596)]),this[_0x2ec2ee(0x596)]=setTimeout(async()=>{const _0x4d83ad=_0x2ec2ee;delete this[_0x4d83ad(0x596)];const _0x119d5a=this['db'][_0x4d83ad(0x278)]();this[_0x4d83ad(0x319)][_0x4d83ad(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806['Content'],'content':{'type':_0xdecfb9[_0x4d83ad(0x1cd)],'label':this[_0x4d83ad(0x5a5)],'stats':{'timestamp':Date[_0x4d83ad(0x191)](),'storage':_0x119d5a,'messagesSent':this[_0x4d83ad(0x608)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x4d83ad(0x812)],'bytesReceived':this[_0x4d83ad(0x84b)],'writes':this['writes'],'reads':this[_0x4d83ad(0x12c)],'prompts':0x0,'tokens':0x0}}}),_0x4b7920[_0x4d83ad(0x19c)](_0x1077b6['GraphDatabase'],_0x4d83ad(0x61f)+this[_0x4d83ad(0x2dd)]+'ccc'+this[_0x4d83ad(0x5a5)],_0x119d5a);},0x1388);}}class _0xcd1971 extends _0xfa5373{['mediaStream'];constructor(_0x1e32f1,_0x3e7db8,_0x3087ab){const _0x551370=_0x2d5ee2;super(_0x1e32f1,_0x3e7db8),this[_0x551370(0x763)]=_0x3087ab;}[_0x2d5ee2(0x813)](){const _0x562d5f=_0x2d5ee2;return _0x3f2cd3[_0x562d5f(0x1f9)][_0x562d5f(0x5b7)];}['getMediaStream'](){const _0x55005a=_0x2d5ee2;return this[_0x55005a(0x763)];}[_0x2d5ee2(0x168)](){const _0x141143=_0x2d5ee2;return this[_0x141143(0x763)]['id'];}}class _0xdef7b9 extends _0xcd1971{['remoteId'];[_0x2d5ee2(0x306)];[_0x2d5ee2(0x74e)];[_0x2d5ee2(0x7e2)]=_0x2428fd();constructor(_0x6b3e93,_0x3486c7,_0x2200d9,_0x34679e,_0x33bf7d){const _0x495ede=_0x2d5ee2;super(_0x6b3e93,_0x3486c7,_0x2200d9),this[_0x495ede(0x7fc)]=_0x34679e,this[_0x495ede(0x306)]=_0x33bf7d;}[_0x2d5ee2(0x3d9)](){const _0x14d80d=_0x2d5ee2;this['removeTrack'](_0x14d80d(0x23e)),this[_0x14d80d(0x7d1)](_0x14d80d(0x849)),super['destroy']();}[_0x2d5ee2(0x13d)](_0x24d4d2){const _0x571def=_0x2d5ee2;if(!this['topic'])throw new _0x177832(_0x177832[_0x571def(0x492)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x571def(0x5a5)],'ownerId':this['owner'][_0x571def(0x7bf)](),'remoteId':this['remoteId']});this[_0x571def(0x74e)][_0x571def(0xef)]({'sourceId':this[_0x571def(0x2f3)][_0x571def(0x7bf)](),'content':{'action':_0x16347b[_0x571def(0x5c5)],'track':_0x24d4d2,'stream':this[_0x571def(0x763)],'priority':_0x3f2cd3[_0x571def(0x70e)][_0x571def(0x424)],'params':this[_0x571def(0x71c)](_0x24d4d2[_0x571def(0xaf)],this['params'])}});}[_0x2d5ee2(0x7d1)](_0xf1fe9f){const _0xdecabb=_0x2d5ee2,_0x312ee2=this[_0xdecabb(0x558)](_0xf1fe9f);if(_0x312ee2){if(!this['topic'])return null;this[_0xdecabb(0x74e)][_0xdecabb(0xef)]({'sourceId':this[_0xdecabb(0x2f3)][_0xdecabb(0x7bf)](),'content':{'action':_0x16347b[_0xdecabb(0xb0)],'track':_0x312ee2,'stream':this[_0xdecabb(0x763)]}});}return _0x312ee2;}[_0x2d5ee2(0x347)](_0x456569){const _0x14dfb0=_0x2d5ee2;if(!this[_0x14dfb0(0x74e)])throw new _0x177832(_0x177832[_0x14dfb0(0x492)][_0x14dfb0(0x71a)],{'label':this[_0x14dfb0(0x5a5)],'ownerId':this[_0x14dfb0(0x2f3)][_0x14dfb0(0x7bf)](),'remoteId':this['remoteId']});this['topic']['publish']({'sourceId':this[_0x14dfb0(0x2f3)][_0x14dfb0(0x7bf)](),'content':{'action':_0x16347b['Update'],'priority':_0x456569,'stream':this[_0x14dfb0(0x763)]}});}[_0x2d5ee2(0x21a)]({trackKinds:_0x550078,params:_0x4bc0a9},_0x19a016){const _0x3944f3=_0x2d5ee2;if(!this[_0x3944f3(0x74e)])throw new _0x177832(_0x177832[_0x3944f3(0x492)][_0x3944f3(0x71a)],{'label':this[_0x3944f3(0x5a5)],'ownerId':this['owner'][_0x3944f3(0x7bf)](),'remoteId':this[_0x3944f3(0x7fc)]});for(const _0x361777 of this['mediaStream']['getTracks']())_0x550078[_0x3944f3(0x51a)](_0x361777[_0x3944f3(0xaf)])&&this[_0x3944f3(0x74e)][_0x3944f3(0xef)]({'sourceId':this['owner'][_0x3944f3(0x7bf)](),'content':{'action':_0x16347b[_0x3944f3(0x5c5)],'track':_0x361777,'stream':this[_0x3944f3(0x763)],'priority':_0x19a016,'params':this[_0x3944f3(0x71c)](_0x361777[_0x3944f3(0xaf)],_0x4bc0a9)}});}['update']({params:_0x170d36}){const _0x1570e3=_0x2d5ee2;if(!this[_0x1570e3(0x74e)])throw new _0x177832(_0x177832[_0x1570e3(0x492)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x1570e3(0x5a5)],'ownerId':this[_0x1570e3(0x2f3)][_0x1570e3(0x7bf)](),'remoteId':this[_0x1570e3(0x7fc)]});for(const _0x25058d of this[_0x1570e3(0x763)][_0x1570e3(0x81f)]())this[_0x1570e3(0x74e)]['publish']({'sourceId':this[_0x1570e3(0x2f3)][_0x1570e3(0x7bf)](),'content':{'action':_0x16347b[_0x1570e3(0x210)],'stream':this[_0x1570e3(0x763)],'params':this[_0x1570e3(0x71c)](_0x25058d[_0x1570e3(0xaf)],_0x170d36)}});}[_0x2d5ee2(0x5ee)]({trackKinds:_0x100c5b}){const _0x4ffb06=_0x2d5ee2;if(this[_0x4ffb06(0x74e)]){for(const _0x39d5d7 of this['mediaStream'][_0x4ffb06(0x81f)]())_0x100c5b[_0x4ffb06(0x51a)](_0x39d5d7[_0x4ffb06(0xaf)])&&this[_0x4ffb06(0x74e)][_0x4ffb06(0xef)]({'sourceId':this['owner'][_0x4ffb06(0x7bf)](),'content':{'action':_0x16347b['Remove'],'stream':this['mediaStream'],'track':_0x39d5d7}});}}[_0x2d5ee2(0x733)](_0x21fcb5){const _0xe7eab2=_0x2d5ee2;this[_0xe7eab2(0x74e)]=_0x21fcb5;}[_0x2d5ee2(0x405)](_0x349ed9){const _0x468c5f=_0x2d5ee2;_0x349ed9===this[_0x468c5f(0x74e)]&&(delete this[_0x468c5f(0x74e)],this[_0x468c5f(0x7e2)][_0x468c5f(0xef)]());}[_0x2d5ee2(0x4e1)](_0x225b35){const _0x39e42a=_0x2d5ee2;return this[_0x39e42a(0x7e2)][_0x39e42a(0x21a)](_0x225b35);}[_0x2d5ee2(0x558)](_0xdbd5ab){const _0x53dcd1=_0x2d5ee2;return this['mediaStream']['getTracks']()['find'](_0x56b732=>_0x56b732[_0x53dcd1(0xaf)]===_0xdbd5ab)||null;}[_0x2d5ee2(0x71c)](_0xf453c4,_0x5197b2){const _0x4dd409=_0x2d5ee2;let _0x43d659;return _0x4dd409(0x849)===_0xf453c4&&_0x5197b2?.[_0x4dd409(0x849)]&&_0x4dd409(0x6aa)!=typeof _0x5197b2[_0x4dd409(0x849)]&&(_0x43d659={'kind':_0x4dd409(0x849),..._0x5197b2[_0x4dd409(0x849)]},_0x43d659[_0x4dd409(0x861)]=this[_0x4dd409(0x747)]()),_0x4dd409(0x23e)===_0xf453c4&&_0x5197b2?.['audio']&&_0x4dd409(0x6aa)!=typeof _0x5197b2[_0x4dd409(0x23e)]&&(_0x43d659={'kind':'audio',..._0x5197b2[_0x4dd409(0x23e)]}),_0x43d659;}[_0x2d5ee2(0x747)](){const _0x3b08f6=_0x2d5ee2;let _0x2f0848={'width':0x0,'height':0x0};const _0x44d4e=this['mediaStream']['getVideoTracks']();if(_0x44d4e[_0x3b08f6(0x68c)]>0x0){const _0x48f8d8=_0x44d4e[0x0][_0x3b08f6(0x45b)]();_0x48f8d8[_0x3b08f6(0x857)]&&_0x48f8d8[_0x3b08f6(0x31d)]&&(_0x2f0848={'width':_0x48f8d8[_0x3b08f6(0x857)],'height':_0x48f8d8[_0x3b08f6(0x31d)]});}return _0x2f0848;}}class _0x33db71 extends _0xcd1971{[_0x2d5ee2(0x2dd)];['priority']=_0x3f2cd3[_0x2d5ee2(0x70e)]['Default'];[_0x2d5ee2(0x331)]=new Map();[_0x2d5ee2(0x7a5)]=new Map();constructor(_0x54bfd8,_0x4e4cf0,_0x4e08ef,_0x3252ad){const _0x64d014=_0x2d5ee2;super(_0x54bfd8,_0x4e4cf0,_0x4e08ef instanceof MediaStream?_0x4e08ef:_0x4e08ef[_0x64d014(0x4cb)]?_0x4e08ef[_0x64d014(0x4cb)]:_0x4e08ef[_0x64d014(0x5af)]()),this[_0x64d014(0x2dd)]=_0x3252ad,this['mediaStream'][_0x64d014(0x81f)]()[_0x64d014(0x57b)](_0x404b3b=>this[_0x64d014(0x14b)](_0x404b3b)),_0x4b7920[_0x64d014(0x46c)](_0x1077b6['MediaStream'],{'type':_0x64d014(0xef),'label':this[_0x64d014(0x5a5)],'nodeId':this[_0x64d014(0x2f3)]['getId'](),'nodeType':this[_0x64d014(0x2f3)][_0x64d014(0x2f5)],'clusterId':this[_0x64d014(0x2dd)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x64d014(0x763)][_0x64d014(0x81f)]()[_0x64d014(0x313)](_0x3acd6b=>_0x3acd6b['kind'])});}[_0x2d5ee2(0x3d9)](){const _0x430071=_0x2d5ee2;this[_0x430071(0x7a5)][_0x430071(0x6b6)]>0x0&&(this[_0x430071(0x7a5)]['forEach'](_0x3b3919=>{const _0x2a28b1=_0x430071;_0x3b3919[_0x2a28b1(0x824)](),_0x3b3919[_0x2a28b1(0x3d9)]();}),this[_0x430071(0x7a5)][_0x430071(0x63e)]()),this[_0x430071(0x331)][_0x430071(0x57b)](_0x79612d=>_0x79612d()),super['destroy']();}[_0x2d5ee2(0xef)](_0x5d4404){const _0x13074c=_0x2d5ee2;this[_0x13074c(0x319)]['publish']({'sourceId':this['owner'][_0x13074c(0x7bf)](),'destinationIds':_0x5d4404?[_0x5d4404]:void 0x0,'propagate':!0x0,'messageType':_0xa1c806[_0x13074c(0x2f6)],'content':{'type':_0xdecfb9[_0x13074c(0x584)],'ownerId':this[_0x13074c(0x2f3)][_0x13074c(0x7bf)](),'label':this[_0x13074c(0x5a5)],'stream':{'streamId':this[_0x13074c(0x168)](),'availableTrackKinds':this['mediaStream'][_0x13074c(0x81f)]()[_0x13074c(0x313)](_0x29d4db=>_0x29d4db[_0x13074c(0xaf)])}}});}['unpublish'](){const _0x1a2674=_0x2d5ee2;this[_0x1a2674(0x319)][_0x1a2674(0xef)]({'sourceId':this[_0x1a2674(0x2f3)][_0x1a2674(0x7bf)](),'propagate':!0x0,'messageType':_0xa1c806['Content'],'content':{'type':_0xdecfb9['UnpublishMediaStream'],'ownerId':this[_0x1a2674(0x2f3)][_0x1a2674(0x7bf)](),'label':this[_0x1a2674(0x5a5)]}}),this['systemTopic'][_0x1a2674(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x1a2674(0x2f6)],'content':{'type':_0xdecfb9[_0x1a2674(0x67e)],'label':this['label']}}),_0x4b7920[_0x1a2674(0x46c)](_0x1077b6[_0x1a2674(0x83c)],{'type':_0x1a2674(0x713),'label':this[_0x1a2674(0x5a5)],'nodeId':this[_0x1a2674(0x2f3)]['getId'](),'nodeType':this[_0x1a2674(0x2f3)][_0x1a2674(0x2f5)],'clusterId':this[_0x1a2674(0x2dd)],'streamId':this[_0x1a2674(0x168)]()});}[_0x2d5ee2(0x6c5)](){return this['priority'];}[_0x2d5ee2(0x347)](_0x3fa7cd){const _0x5c9e7b=_0x2d5ee2;this[_0x5c9e7b(0x6c8)]=_0x3fa7cd,this[_0x5c9e7b(0x7a5)][_0x5c9e7b(0x57b)](_0x4e7c4f=>_0x4e7c4f[_0x5c9e7b(0x347)](_0x3fa7cd));}[_0x2d5ee2(0x86c)](_0x332656,_0x1e1d01){const _0x39ba5c=_0x2d5ee2;if(!this[_0x39ba5c(0x7a5)][_0x39ba5c(0x2b3)](_0x332656)){const _0x373659=new _0xdef7b9(this['owner'],this[_0x39ba5c(0x5a5)],this[_0x39ba5c(0x763)],_0x332656,_0x1e1d01),_0x3fa430=_0x373659['onUnregisterPublisher'](()=>{const _0xda9042=_0x39ba5c;_0x3fa430(),this[_0xda9042(0x7a5)][_0xda9042(0x548)](_0x332656)?.[_0xda9042(0x3d9)](),this[_0xda9042(0x7a5)]['delete'](_0x332656);});this['outgoingStreams']['set'](_0x332656,_0x373659),_0x373659['registerSystemPublisher'](this['systemTopic']);}return this[_0x39ba5c(0x7a5)][_0x39ba5c(0x548)](_0x332656);}[_0x2d5ee2(0x7e5)](){return this['mediaStream']['id'];}[_0x2d5ee2(0x159)](_0x3b9ae8){const _0x214663=_0x2d5ee2;this[_0x214663(0x319)][_0x214663(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x214663(0x2f6)],'content':{'type':_0xdecfb9[_0x214663(0x7c0)],'label':this[_0x214663(0x5a5)],'trackKinds':[_0x3b9ae8['kind']]}});}[_0x2d5ee2(0x14b)](_0x5b1494){const _0x532a9c=_0x2d5ee2,_0xea905c=()=>this[_0x532a9c(0x159)](_0x5b1494);_0x5b1494[_0x532a9c(0x551)]('ended',_0xea905c),_0x5b1494['addEventListener'](_0x532a9c(0x3a8),_0xea905c),this[_0x532a9c(0x331)][_0x532a9c(0x1d0)](_0x5b1494[_0x532a9c(0xaf)],()=>{const _0x3fe1bb=_0x532a9c;_0x5b1494[_0x3fe1bb(0x227)](_0x3fe1bb(0x617),_0xea905c),_0x5b1494[_0x3fe1bb(0x227)](_0x3fe1bb(0x3a8),_0xea905c),this['trackEndedListeners'][_0x3fe1bb(0x201)](_0x5b1494[_0x3fe1bb(0xaf)]);});}}class _0xa8e8ee extends _0x33db71{[_0x2d5ee2(0x242)];[_0x2d5ee2(0x38a)]=[];[_0x2d5ee2(0x7d4)];[_0x2d5ee2(0x4a6)];[_0x2d5ee2(0x6ad)];[_0x2d5ee2(0x60b)];[_0x2d5ee2(0x5eb)];[_0x2d5ee2(0x6c7)];[_0x2d5ee2(0x513)];constructor(_0x191a06,_0xe1ae29,_0x446f90,_0x47a090,_0x372dad,_0x50163e){const _0x1d3880=_0x2d5ee2;if(super(_0x191a06,_0xe1ae29,_0x446f90,_0x50163e),this[_0x1d3880(0x242)]=_0x372dad,this[_0x1d3880(0x7d4)]=this['mediaStream'],this[_0x1d3880(0x60b)]=document['createElement'](_0x1d3880(0x849)),this[_0x1d3880(0x60b)][_0x1d3880(0x104)]=!0x0,this[_0x1d3880(0x60b)][_0x1d3880(0x2d2)]=!0x0,this[_0x1d3880(0x60b)]['srcObject']=this[_0x1d3880(0x7d4)],this[_0x1d3880(0x60b)][_0x1d3880(0x3be)](),this[_0x1d3880(0x60b)][_0x1d3880(0x2bd)]=()=>{this['sourceVideo']['play']();},this[_0x1d3880(0x5eb)]=document[_0x1d3880(0x7c6)](_0x1d3880(0x5eb)),this[_0x1d3880(0x6c7)]=this[_0x1d3880(0x5eb)][_0x1d3880(0x380)]('2d'),this['mediaStream']=this['canvas'][_0x1d3880(0x5af)](_0x47a090),this[_0x1d3880(0x6ad)]=this['audioContext']['createMediaStreamDestination'](),this['clientStream'][_0x1d3880(0x27e)]()['length']>0x0){const _0x3f3feb=this['clientStream']['getAudioTracks']()[0x0];this[_0x1d3880(0x4a6)]=this[_0x1d3880(0x242)][_0x1d3880(0xb3)](new MediaStream([_0x3f3feb])),this['audioSource'][_0x1d3880(0x5bf)](this[_0x1d3880(0x6ad)]);}const _0xb5cce0=this[_0x1d3880(0x6ad)][_0x1d3880(0x35b)]['getTracks']()[0x0];this[_0x1d3880(0x763)][_0x1d3880(0x13d)](_0xb5cce0),this[_0x1d3880(0x513)]=setInterval(()=>{const _0x364648=_0x1d3880;this['canvas'][_0x364648(0x857)]=this[_0x364648(0x60b)]['videoWidth'],this[_0x364648(0x5eb)][_0x364648(0x31d)]=this[_0x364648(0x60b)]['videoHeight'],this[_0x364648(0x60b)][_0x364648(0x622)]?(0x0!==this[_0x364648(0x7d4)][_0x364648(0x3cb)]()[_0x364648(0x68c)]&&this[_0x364648(0x7d4)][_0x364648(0x3cb)]()[0x0][_0x364648(0x2ab)]?this[_0x364648(0x763)]['getVideoTracks']()[0x0]['enabled']=!0x0:this[_0x364648(0x763)]['getVideoTracks']()[0x0][_0x364648(0x2ab)]=!0x1,0x0!==this[_0x364648(0x7d4)][_0x364648(0x27e)]()['length']&&this['clientStream'][_0x364648(0x27e)]()[0x0][_0x364648(0x2ab)]?this['mediaStream'][_0x364648(0x27e)]()[0x0][_0x364648(0x2ab)]=!0x0:this['mediaStream'][_0x364648(0x27e)]()[0x0]['enabled']=!0x1,this[_0x364648(0x6c7)]['drawImage'](this[_0x364648(0x60b)],0x0,0x0)):this[_0x364648(0x6c7)][_0x364648(0x664)](0x0,0x0,this[_0x364648(0x5eb)][_0x364648(0x857)],this[_0x364648(0x5eb)][_0x364648(0x31d)]);},0x3e8/_0x47a090);}[_0x2d5ee2(0x3d9)](){const _0x4ca6da=_0x2d5ee2;clearInterval(this[_0x4ca6da(0x513)]),this[_0x4ca6da(0x60b)][_0x4ca6da(0x43a)](),this[_0x4ca6da(0x5eb)][_0x4ca6da(0x43a)](),this[_0x4ca6da(0x4a6)]?.[_0x4ca6da(0x615)](),this['audioDestination']['disconnect'](),this[_0x4ca6da(0x763)]['getTracks']()[_0x4ca6da(0x57b)](_0x24d0da=>{const _0x410770=_0x4ca6da;_0x24d0da[_0x410770(0x23b)](),this[_0x410770(0x763)][_0x410770(0x7d1)](_0x24d0da);}),super[_0x4ca6da(0x3d9)]();}[_0x2d5ee2(0x13d)](_0x47f79b){const _0x2ad5e4=_0x2d5ee2,_0x2d4ee9=this[_0x2ad5e4(0x558)](_0x47f79b[_0x2ad5e4(0xaf)]);_0x2d4ee9&&this[_0x2ad5e4(0x7d1)](_0x2d4ee9),_0x2ad5e4(0x23e)!==_0x47f79b[_0x2ad5e4(0xaf)]?(_0x2ad5e4(0x849)===_0x47f79b[_0x2ad5e4(0xaf)]&&this[_0x2ad5e4(0x6cf)](_0x47f79b),this[_0x2ad5e4(0x14b)](_0x47f79b)):this['addAudioTrack'](_0x47f79b);}[_0x2d5ee2(0x7d1)](_0x1ce350){const _0x376484=_0x2d5ee2,_0x510de0=this[_0x376484(0x675)](_0x1ce350);return _0x510de0&&(_0x376484(0x23e)===_0x510de0[_0x376484(0xaf)]&&(this[_0x376484(0x4a6)]?.[_0x376484(0x615)](),this[_0x376484(0x4a6)]=void 0x0),this[_0x376484(0x331)][_0x376484(0x548)](_0x510de0[_0x376484(0xaf)])?.(),this[_0x376484(0x7d4)]['removeTrack'](_0x510de0)),_0x510de0;}[_0x2d5ee2(0x58a)](_0x55f60d){const _0xe66734=_0x2d5ee2;this[_0xe66734(0x7d1)](_0x55f60d[_0xe66734(0xaf)]),this[_0xe66734(0x13d)](_0x55f60d);}[_0x2d5ee2(0x767)](_0x34f7f6){const _0x542c5a=_0x2d5ee2;this[_0x542c5a(0x38a)]=_0x34f7f6;}[_0x2d5ee2(0x558)](_0x3dd56d){const _0x1d0c15=_0x2d5ee2;return this[_0x1d0c15(0x7d4)]['getTracks']()[_0x1d0c15(0x76e)](_0x445e07=>_0x445e07[_0x1d0c15(0xaf)]===_0x3dd56d)||null;}[_0x2d5ee2(0x675)](_0x29b1f1){const _0xc9c5fc=_0x2d5ee2;return'string'==typeof _0x29b1f1?this[_0xc9c5fc(0x558)](_0x29b1f1):_0x29b1f1;}[_0x2d5ee2(0x120)](_0x240b89){const _0x1b7ec8=_0x2d5ee2;_0x1b7ec8(0x54d)===this[_0x1b7ec8(0x242)][_0x1b7ec8(0x271)]&&this[_0x1b7ec8(0x242)][_0x1b7ec8(0x524)](),this[_0x1b7ec8(0x7d4)][_0x1b7ec8(0x13d)](_0x240b89),this[_0x1b7ec8(0x4a6)]=this[_0x1b7ec8(0x242)][_0x1b7ec8(0xb3)](this[_0x1b7ec8(0x7d4)]),this[_0x1b7ec8(0x4a6)][_0x1b7ec8(0x5bf)](this[_0x1b7ec8(0x6ad)]);}[_0x2d5ee2(0x6cf)](_0x1713a8){const _0x16bdcb=_0x2d5ee2;this['clientStream'][_0x16bdcb(0x13d)](_0x1713a8),this[_0x16bdcb(0x60b)][_0x16bdcb(0x3be)]();}}class _0x5714cf extends _0x33db71{}class _0x5bab1b extends _0x4ba786{['localNode'];[_0x2d5ee2(0x2dd)];[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x387)];[_0x2d5ee2(0x4f1)];['unsubscribeHandler'];[_0x2d5ee2(0x418)];[_0x2d5ee2(0x7eb)]=new Map();[_0x2d5ee2(0xa8)]=new Map();[_0x2d5ee2(0x5ed)]=new Map();[_0x2d5ee2(0x3ce)]=new Map();[_0x2d5ee2(0x647)]=new Map();[_0x2d5ee2(0x198)]=new Map();['objectStoreConnector'];[_0x2d5ee2(0x5b5)]=_0x368dbe();[_0x2d5ee2(0xcb)]=new Map();[_0x2d5ee2(0x596)];[_0x2d5ee2(0x15b)]=0x0;['reads']=0x0;['syncContent']=!0x0;[_0x2d5ee2(0xe7)]=!0x0;[_0x2d5ee2(0x3fe)]=0x0;constructor(_0x2bb405,_0x17aeb2,_0xb237a7,_0x4f47a7,_0x58abc1,_0x4ab8c5,_0xd28116){const _0x5ecf12=_0x2d5ee2;if(_0x5ecf12(0x69a)!=typeof _0x17aeb2)throw new _0x21720d(_0x11ce35[_0x5ecf12(0x737)],_0x5ecf12(0x1eb));super(_0x2bb405,_0x17aeb2),this['localNode']=_0x2bb405,this[_0x5ecf12(0x2dd)]=_0xb237a7,this[_0x5ecf12(0x52a)]=_0x4f47a7,this[_0x5ecf12(0x387)]=_0x58abc1,this[_0x5ecf12(0x4f1)]=_0xd28116;const _0x356820=_0x5ecf12(0x61f)+this[_0x5ecf12(0x52a)]+_0x5ecf12(0x61f)+this[_0x5ecf12(0x2dd)]+'ccc'+_0x17aeb2;this[_0x5ecf12(0x82d)]=new _0x4ab8c5(_0x356820),this[_0x5ecf12(0x556)]();}[_0x2d5ee2(0x53c)](){const _0x1ae99a=_0x2d5ee2;this[_0x1ae99a(0x556)]();}['getContentType'](){return _0x3f2cd3['ContentType']['ObjectStore'];}async[_0x2d5ee2(0x6dd)](_0x5e1290){const _0x596ef7=_0x2d5ee2;void 0x0!==_0x5e1290&&(this[_0x596ef7(0x486)]=_0x5e1290),this[_0x596ef7(0xe7)]=!0x0;try{const _0x4293b5=await this[_0x596ef7(0x82d)][_0x596ef7(0x548)](_0x5c72f1),_0xd5a781=await _0x4293b5['text']();this[_0x596ef7(0x418)]=_0xd5a781;}catch(_0x4a7b24){}this['unsubscribeHandler']=this['onMessage'](async(_0xcadfc2,_0x314933)=>{const _0x37428d=_0x596ef7;if(!(_0x314933 instanceof File))try{if(_0x314933['payloadType']===_0x38bfc8[_0x37428d(0x3da)])return void this[_0x37428d(0x730)](_0x314933);this[_0x37428d(0x478)](_0x314933);}catch(_0x1cbc8d){if(_0x1cbc8d instanceof _0x177832)throw _0x1cbc8d;throw new _0x177832(_0x177832['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x314933});}}),await this[_0x596ef7(0x2db)](),this['syncContent']?await this['syncPendingFiles']():this[_0x596ef7(0x245)](),this[_0x596ef7(0x556)]();}[_0x2d5ee2(0x3d9)](){const _0x3becaf=_0x2d5ee2;this[_0x3becaf(0x28d)]?.(),clearTimeout(this[_0x3becaf(0x596)]),delete this[_0x3becaf(0x596)],super[_0x3becaf(0x3d9)]();}[_0x2d5ee2(0x582)](){const _0x277e45=_0x2d5ee2;this['systemTopic']?.['publish']({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x277e45(0x2f6)],'content':{'type':_0xdecfb9[_0x277e45(0x704)],'label':this[_0x277e45(0x5a5)]}});}[_0x2d5ee2(0x21a)](_0x35aa4a,_0x5d97ef){const _0x4024df=_0x2d5ee2;if(this[_0x4024df(0xcb)][_0x4024df(0x2b3)](_0x35aa4a))throw new _0x21720d(_0x11ce35['ObjectStoreAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x4024df(0xcb)][_0x4024df(0x1d0)](_0x35aa4a,this[_0x4024df(0x5b5)][_0x4024df(0x21a)](_0x5d97ef)),this['isSyncing']||this[_0x4024df(0x5b5)][_0x4024df(0xef)]({'event':_0x3f2cd3[_0x4024df(0x651)]['SyncComplete'],'payload':null});}['unsubscribe'](_0xce9753){const _0x3b1086=_0x2d5ee2;this[_0x3b1086(0xcb)][_0x3b1086(0x548)](_0xce9753)?.(),this[_0x3b1086(0xcb)]['delete'](_0xce9753);}['publish'](_0xc10f7){const _0x298f99=_0x2d5ee2;switch(_0xc10f7['action']){case _0x3f2cd3['PayloadAction'][_0x298f99(0x65f)]:return this['publishFile'](_0xc10f7[_0x298f99(0x20e)],_0xc10f7[_0x298f99(0x267)],_0xc10f7[_0x298f99(0x845)]);case _0x3f2cd3[_0x298f99(0x833)][_0x298f99(0x36a)]:return this[_0x298f99(0xf2)](_0xc10f7[_0x298f99(0x267)]);case _0x3f2cd3[_0x298f99(0x833)][_0x298f99(0xee)]:return this[_0x298f99(0x443)](_0xc10f7[_0x298f99(0x267)],_0xc10f7[_0x298f99(0x809)]);default:throw new _0x21720d(_0x11ce35[_0x298f99(0x147)],'Cannot\x20publish\x20payload:\x20'+_0xc10f7);}}async[_0x2d5ee2(0x713)](_0x18bfb6){const _0x18cf96=_0x2d5ee2;try{const _0x51b7fa=(0x0,_0x53f5fa['v4'])(),_0x1c1dac=this[_0x18cf96(0x418)],_0x3deabe={'payloadType':_0x38bfc8['Transaction'],'action':_0xb4a8b4[_0x18cf96(0x82c)],'id':_0x51b7fa,'parentId':_0x1c1dac,'path':_0x18bfb6};await this[_0x18cf96(0x84d)](_0x3deabe);const _0x2dd525=await this[_0x18cf96(0x342)](_0x18bfb6);await this['send'](_0x3deabe),_0x4b7920[_0x18cf96(0x46c)](_0x1077b6['ObjectStorage'],{'type':_0x18cf96(0x713),'label':this[_0x18cf96(0x5a5)],'nodeId':this['localNode'][_0x18cf96(0x7bf)](),'nodeType':this[_0x18cf96(0x5b9)]['type'],'clusterId':this['clusterId'],'kind':_0x2dd525,'path':_0x18bfb6}),this[_0x18cf96(0x15b)]+=0x1,this[_0x18cf96(0x556)]();}catch(_0x4a2411){if(_0x4a2411 instanceof _0x177832)throw new _0x21720d(_0x11ce35[_0x18cf96(0x281)],_0x18cf96(0x14d)+_0x18bfb6+_0x18cf96(0xfd));throw new _0x21720d(_0x11ce35[_0x18cf96(0x5cf)],'Cannot\x20unpublish\x20object:\x20'+_0x18bfb6);}}async['get'](_0x4354a1,_0x12a46e){const _0x2310c1=_0x2d5ee2;_0x4b7920[_0x2310c1(0x46c)](_0x1077b6[_0x2310c1(0x4ec)],{'type':'get','label':this[_0x2310c1(0x5a5)],'nodeId':this[_0x2310c1(0x5b9)][_0x2310c1(0x7bf)](),'nodeType':this[_0x2310c1(0x5b9)][_0x2310c1(0x2f5)],'clusterId':this['clusterId'],'path':_0x4354a1}),this[_0x2310c1(0x12c)]+=0x1,this[_0x2310c1(0x556)]();try{return await this[_0x2310c1(0x82d)][_0x2310c1(0x548)](_0x4354a1,_0x12a46e);}catch(_0x4eb022){try{await this[_0x2310c1(0x82d)][_0x2310c1(0x548)](_0x4354a1+_0x8e1064);}catch(_0x155d79){throw new _0x21720d(_0x11ce35[_0x2310c1(0x5cf)],_0x2310c1(0x7a0)+_0x4354a1);}throw new _0x21720d(_0x11ce35[_0x2310c1(0x281)],_0x2310c1(0x3dd));}}async['list'](_0x5197b6,_0x3bb1a6){const _0x5ec2e1=_0x2d5ee2,{recursive:_0x2e2258=!0x1,includeSyncingFiles:_0x31fdbd=!0x1}=_0x3bb1a6??{};_0x4b7920[_0x5ec2e1(0x46c)](_0x1077b6[_0x5ec2e1(0x4ec)],{'type':_0x5ec2e1(0x25a),'label':this[_0x5ec2e1(0x5a5)],'nodeId':this['localNode'][_0x5ec2e1(0x7bf)](),'nodeType':this[_0x5ec2e1(0x5b9)][_0x5ec2e1(0x2f5)],'clusterId':this[_0x5ec2e1(0x2dd)],'path':_0x5197b6}),this[_0x5ec2e1(0x12c)]+=0x1,this[_0x5ec2e1(0x556)]();try{const _0x4820ee=await this[_0x5ec2e1(0x82d)][_0x5ec2e1(0x25a)](_0x5197b6,_0x2e2258);return this[_0x5ec2e1(0x2a4)](_0x4820ee,{'recursive':_0x2e2258,'includeSyncingFiles':_0x31fdbd});}catch(_0x45ad7f){throw new _0x21720d(_0x11ce35[_0x5ec2e1(0x5cf)],_0x5ec2e1(0x756)+_0x5197b6);}}[_0x2d5ee2(0x302)](_0x119ceb){const _0x2368ac=_0x2d5ee2;this[_0x2368ac(0x3fe)]+=0x1;for(const _0x4efb4a of this[_0x2368ac(0xa8)]['values']())this['send'](_0x4efb4a,[_0x119ceb]);}[_0x2d5ee2(0x1f6)](_0x1b7a32){const _0x2c55b0=_0x2d5ee2;this[_0x2c55b0(0x3fe)]-=0x1;const _0x44fd6d=this[_0x2c55b0(0x5ed)]['get'](_0x1b7a32);if(_0x44fd6d){for(const [_0x1b8bef,_0x5296e3]of _0x44fd6d[_0x2c55b0(0x2fd)]())this[_0x2c55b0(0x840)](_0x1b8bef,_0x5296e3);this['pendingFilesSyncing'][_0x2c55b0(0x201)](_0x1b7a32);}}async[_0x2d5ee2(0x278)](_0x16ee71='/'){const _0x58f40c=_0x2d5ee2;try{return await this['objectStoreConnector']['calculateSize'](_0x16ee71);}catch(_0x2c907c){if(_0x2c907c instanceof Error&&_0x2c907c['message'][_0x58f40c(0x51a)]('ENOENT'))return 0x0;throw new _0x21720d(_0x11ce35[_0x58f40c(0x5cf)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x16ee71);}}[_0x2d5ee2(0x245)](){const _0x20ff55=_0x2d5ee2;this[_0x20ff55(0xe7)]&&(this[_0x20ff55(0xe7)]=!0x1,this[_0x20ff55(0x5b5)]['publish']({'event':_0x3f2cd3[_0x20ff55(0x651)][_0x20ff55(0x4a9)],'payload':null}));}async['processList'](_0x4f7b2e,{includeSyncingFiles:_0x273c21=!0x1}){const _0x5918b0=_0x2d5ee2,_0x3d6d7c=[];for(const _0x498bd0 of _0x4f7b2e)if(_0x498bd0[_0x5918b0(0xaf)]!==_0x3f2cd3['ObjectKind']['Folder']){if(_0x498bd0[_0x5918b0(0x690)]!==_0x5c72f1){if(_0x498bd0['name'][_0x5918b0(0x4e0)](_0x8e1064)){if(!_0x273c21)continue;const _0x1093bd=_0x498bd0;if(_0x1093bd['name']=_0x1093bd[_0x5918b0(0x690)]['replace'](_0x8e1064,''),_0x1093bd[_0x5918b0(0x803)]=_0x1093bd[_0x5918b0(0x803)][_0x5918b0(0x7b4)](_0x8e1064,''),await this[_0x5918b0(0xa2)](_0x1093bd[_0x5918b0(0x803)])){_0x4f7b2e[_0x5918b0(0x76e)](_0x56906c=>_0x56906c[_0x5918b0(0x803)]===_0x1093bd['pathName'])[_0x5918b0(0x5b1)]=_0x3f2cd3[_0x5918b0(0x7b7)]['Syncing'];continue;}_0x1093bd[_0x5918b0(0x5b1)]=_0x3f2cd3['FileStatus'][_0x5918b0(0x80f)];}_0x3d6d7c[_0x5918b0(0x80e)](_0x498bd0);}}else _0x498bd0[_0x5918b0(0x12d)]=await this[_0x5918b0(0x2a4)](_0x498bd0['entries']??[],{'includeSyncingFiles':_0x273c21}),_0x3d6d7c[_0x5918b0(0x80e)](_0x498bd0);return _0x3d6d7c;}async[_0x2d5ee2(0x3c6)](_0x5f118c,_0x20fd2b,_0x2cc633){const _0x26db36=_0x2d5ee2;try{const _0x51d250=(0x0,_0x53f5fa['v4'])(),_0x450982=await _0x4f7ea1(_0x5f118c),_0x4ddd28=_0x41fdca(_0x20fd2b??'/',_0x5f118c[_0x26db36(0x690)]);let _0x3c4baf=!0x0;const _0x2bbc07={'payloadType':_0x38bfc8[_0x26db36(0x6d2)],'action':_0xb4a8b4[_0x26db36(0x155)],'id':_0x51d250,'parentId':this['lastTransactionId'],'answererId':this[_0x26db36(0x5b9)][_0x26db36(0x7bf)](),'name':_0x5f118c[_0x26db36(0x690)],'type':_0x5f118c[_0x26db36(0x2f5)],'path':_0x20fd2b??'/','skipEncryption':_0x2cc633?.[_0x26db36(0x67f)]??!0x1,'checksum':_0x450982};try{const _0x3008ad=_0x4ddd28+_0x8e1064;await this[_0x26db36(0x82d)][_0x26db36(0x548)](_0x3008ad),_0x3c4baf=!0x1,await this['objectStoreConnector']['deleteObject'](_0x3008ad),this[_0x26db36(0xa8)][_0x26db36(0x201)](_0x4ddd28);}catch(_0x42c72e){await this[_0x26db36(0x84d)](_0x2bbc07);}if(this[_0x26db36(0x486)]?await this[_0x26db36(0x1d9)](_0x5f118c,_0x20fd2b,_0x2cc633):await this[_0x26db36(0x797)](_0x5f118c[_0x26db36(0x690)],_0x20fd2b??'/',{'checksum':_0x450982,'skipEncryption':_0x2cc633?.[_0x26db36(0x67f)]??!0x1}),this[_0x26db36(0x198)][_0x26db36(0x2b3)](_0x4ddd28)){const [_0x1eda61,_0x29f57d]=this[_0x26db36(0x198)][_0x26db36(0x548)](_0x4ddd28);this[_0x26db36(0x198)][_0x26db36(0x1d0)](_0x4ddd28,[!0x0,_0x29f57d]);try{await _0x29f57d;}catch(_0xff8a71){}this[_0x26db36(0x198)][_0x26db36(0x201)](_0x4ddd28);}_0x3c4baf&&this['nodesConnected']>0x0&&await this[_0x26db36(0x258)](_0x5f118c,_0x2bbc07),_0x4b7920[_0x26db36(0x46c)](_0x1077b6[_0x26db36(0x4ec)],{'type':_0x26db36(0xef),'label':this[_0x26db36(0x5a5)],'nodeId':this[_0x26db36(0x5b9)][_0x26db36(0x7bf)](),'nodeType':this[_0x26db36(0x5b9)][_0x26db36(0x2f5)],'clusterId':this[_0x26db36(0x2dd)],'kind':_0x3f2cd3[_0x26db36(0x60e)][_0x26db36(0x65f)],'path':_0x20fd2b,'fileName':_0x5f118c[_0x26db36(0x690)],'fileType':_0x5f118c['type'],'size':_0x5f118c[_0x26db36(0x6b6)]}),this['writes']+=0x1,this[_0x26db36(0x556)]();}catch(_0x15041e){if(_0x15041e instanceof _0x177832)throw new _0x21720d(_0x11ce35['ObjectStoreNotInSync'],_0x26db36(0x3dd));throw new _0x21720d(_0x11ce35[_0x26db36(0x5cf)],'Cannot\x20publish\x20file:\x20'+_0x20fd2b+(_0x20fd2b?.[_0x26db36(0x4e0)]('/')?'':'/')+_0x5f118c['name']);}}async[_0x2d5ee2(0xf2)](_0x24fe04){const _0xdc82a5=_0x2d5ee2;try{const _0x1ec87d=(0x0,_0x53f5fa['v4'])(),_0x542896=this[_0xdc82a5(0x418)],_0x4b624a={'payloadType':_0x38bfc8[_0xdc82a5(0x6d2)],'action':_0xb4a8b4[_0xdc82a5(0x764)],'id':_0x1ec87d,'parentId':_0x542896,'path':_0x24fe04};await this[_0xdc82a5(0x84d)](_0x4b624a),await this['objectStoreConnector'][_0xdc82a5(0x204)](_0x24fe04),await this[_0xdc82a5(0x23a)](_0x4b624a),_0x4b7920[_0xdc82a5(0x46c)](_0x1077b6[_0xdc82a5(0x4ec)],{'type':_0xdc82a5(0xef),'label':this['label'],'nodeId':this[_0xdc82a5(0x5b9)][_0xdc82a5(0x7bf)](),'nodeType':this[_0xdc82a5(0x5b9)][_0xdc82a5(0x2f5)],'clusterId':this[_0xdc82a5(0x2dd)],'kind':_0x3f2cd3[_0xdc82a5(0x60e)][_0xdc82a5(0x36a)],'path':_0x24fe04}),this[_0xdc82a5(0x15b)]+=0x1,this[_0xdc82a5(0x556)]();}catch(_0xe70b9b){if(_0xe70b9b instanceof _0x177832)throw new _0x21720d(_0x11ce35[_0xdc82a5(0x281)],_0xdc82a5(0x3dd));throw new _0x21720d(_0x11ce35['ObjectStoreInvalidPath'],_0xdc82a5(0x5cb)+_0x24fe04);}}async[_0x2d5ee2(0x443)](_0x14f0c7,_0x5e8776){const _0x126848=_0x2d5ee2;try{const _0xf9fce0=(0x0,_0x53f5fa['v4'])(),_0x26f48a=this[_0x126848(0x418)],_0x552401={'payloadType':_0x38bfc8[_0x126848(0x6d2)],'action':_0xb4a8b4['Move'],'id':_0xf9fce0,'parentId':_0x26f48a,'path':_0x14f0c7,'newPath':_0x5e8776};await this[_0x126848(0x84d)](_0x552401);const _0x58d217=await this['moveObject'](_0x14f0c7,_0x5e8776);await this[_0x126848(0x23a)](_0x552401),_0x4b7920[_0x126848(0x46c)](_0x1077b6[_0x126848(0x4ec)],{'type':_0x126848(0x437),'label':this[_0x126848(0x5a5)],'nodeId':this[_0x126848(0x5b9)][_0x126848(0x7bf)](),'nodeType':this[_0x126848(0x5b9)][_0x126848(0x2f5)],'clusterId':this[_0x126848(0x2dd)],'kind':_0x58d217,'path':_0x14f0c7,'newPath':_0x5e8776}),this['writes']+=0x1,this[_0x126848(0x556)]();}catch(_0x479c8c){if(_0x479c8c instanceof _0x177832)throw new _0x21720d(_0x11ce35[_0x126848(0x281)],_0x126848(0x3dd));throw new _0x21720d(_0x11ce35[_0x126848(0x5cf)],_0x126848(0x19e)+_0x14f0c7);}}async[_0x2d5ee2(0x478)](_0x45c00d,_0x32ca31=!0x1){const _0x828e7f=_0x2d5ee2;if(this['lastTransactionId']&&_0x45c00d[_0x828e7f(0x5d3)]!==this['lastTransactionId']&&_0x45c00d['id']!==this[_0x828e7f(0x418)]){if(!_0x45c00d['parentId'])throw new _0x177832(_0x177832[_0x828e7f(0x492)][_0x828e7f(0x37f)]);this[_0x828e7f(0x7eb)]['set'](_0x45c00d[_0x828e7f(0x5d3)],_0x45c00d);}else{try{await this[_0x828e7f(0x2a3)](_0x45c00d,_0x32ca31);}catch(_0x4fd84a){}await this[_0x828e7f(0x751)](_0x45c00d['id']),await this[_0x828e7f(0x4f9)](_0x45c00d['id'],_0x32ca31);}}async[_0x2d5ee2(0x2a3)](_0x275a98,_0x2e8caf=!0x1){const _0x367409=_0x2d5ee2;switch(_0x275a98[_0x367409(0x389)]){case _0xb4a8b4[_0x367409(0x155)]:await this[_0x367409(0x2b4)](_0x275a98);break;case _0xb4a8b4[_0x367409(0x764)]:await this[_0x367409(0x694)](_0x275a98);break;case _0xb4a8b4['Move']:await this['handleObjectMove'](_0x275a98,_0x2e8caf);break;case _0xb4a8b4[_0x367409(0x82c)]:await this[_0x367409(0x519)](_0x275a98,_0x2e8caf);break;default:throw new _0x177832(_0x177832[_0x367409(0x492)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x275a98});}}async['processPendingSyncTransactions'](_0x401071,_0x3b5e5a=!0x1){const _0x15e8cc=_0x2d5ee2;if(this[_0x15e8cc(0x7eb)][_0x15e8cc(0x2b3)](_0x401071)){const _0x256af2=this[_0x15e8cc(0x7eb)]['get'](_0x401071);this[_0x15e8cc(0x7eb)][_0x15e8cc(0x201)](_0x401071),await this['handleTransactionPayload'](_0x256af2,_0x3b5e5a);}}async[_0x2d5ee2(0x730)](_0x422b95){const _0x5f561c=_0x2d5ee2;switch(_0x422b95[_0x5f561c(0x389)]){case _0xb4a8b4[_0x5f561c(0x706)]:return this['handleFileRequest'](_0x422b95);case _0xb4a8b4[_0x5f561c(0x5e9)]:return this[_0x5f561c(0x6bc)](_0x422b95);case _0xb4a8b4[_0x5f561c(0xfb)]:return this['handleFileSync'](_0x422b95);case _0xb4a8b4['RequestFileWrite']:return this['handleFileWrite'](_0x422b95);default:throw new _0x177832(_0x177832[_0x5f561c(0x492)][_0x5f561c(0x37f)],{'payload':_0x422b95});}}async[_0x2d5ee2(0x2b4)](_0x4e8676,_0x4f6da6=0x0){const _0x36a3e7=_0x2d5ee2,_0x2d8b3f=_0x41fdca(_0x4e8676[_0x36a3e7(0x267)],_0x4e8676['name']);if(!_0x4e8676[_0x36a3e7(0x252)]||void 0x0===_0x4e8676[_0x36a3e7(0x1df)]||!_0x4e8676[_0x36a3e7(0x711)])return this[_0x36a3e7(0x1ea)][_0x36a3e7(0x201)](_0x2d8b3f),void await this['createPendingFileWrite'](_0x4e8676[_0x36a3e7(0x690)],_0x4e8676['path'],{'checksum':_0x4e8676[_0x36a3e7(0x715)],'skipEncryption':_0x4e8676[_0x36a3e7(0x67f)]});if(this['fileChunks'][_0x36a3e7(0x2b3)](_0x2d8b3f)){const _0x3778c3=this[_0x36a3e7(0x1ea)][_0x36a3e7(0x548)](_0x2d8b3f);_0x3778c3['checksum']!==_0x4e8676[_0x36a3e7(0x715)]&&(_0x3778c3[_0x36a3e7(0x35b)]?.[_0x36a3e7(0x582)](),this['fileChunks'][_0x36a3e7(0x201)](_0x2d8b3f));}if(!this['fileChunks'][_0x36a3e7(0x2b3)](_0x2d8b3f)){try{await this[_0x36a3e7(0x82d)][_0x36a3e7(0x342)](_0x2d8b3f);}catch(_0x228630){}try{const _0x2e11e1=this[_0x36a3e7(0x486)]?await this['objectStoreConnector'][_0x36a3e7(0xd0)](_0x2d8b3f,{'skipEncryption':_0x4e8676['skipEncryption']}):void 0x0,_0x45a5ef={'chunksReceived':_0x4e8676[_0x36a3e7(0x2ce)]??0x0,'bytesReceived':0x0,'stream':_0x2e11e1,'checksum':_0x4e8676[_0x36a3e7(0x715)]};this[_0x36a3e7(0x1ea)][_0x36a3e7(0x1d0)](_0x2d8b3f,_0x45a5ef),await this[_0x36a3e7(0x797)](_0x4e8676[_0x36a3e7(0x690)],_0x4e8676[_0x36a3e7(0x267)],{'checksum':_0x4e8676[_0x36a3e7(0x715)],'skipEncryption':_0x4e8676['skipEncryption']});}catch(_0xba6ff3){}}const _0x35903c=this['fileChunks'][_0x36a3e7(0x548)](_0x2d8b3f);if(_0x4e8676[_0x36a3e7(0x715)]!==_0x35903c[_0x36a3e7(0x715)])return;if(this[_0x36a3e7(0x4dd)](_0x4e8676,_0x2d8b3f),this[_0x36a3e7(0x486)]){if(!_0x35903c['stream'])throw new _0x177832(_0x177832[_0x36a3e7(0x492)][_0x36a3e7(0x37f)],{'message':_0x36a3e7(0x234)});let _0x146913=_0x35903c[_0x36a3e7(0x4ae)];if(_0x4e8676[_0x36a3e7(0x1df)]!==_0x146913){if(_0x146913>_0x4e8676['index'])return;const _0x47ef87=2064.1259842519685;if(_0x4e8676['index']>_0x146913+_0x47ef87)return;if(_0x35903c[_0x36a3e7(0x241)]||(_0x35903c[_0x36a3e7(0x241)]=[]),_0x35903c[_0x36a3e7(0x241)][_0x36a3e7(0x68c)]>8256.503937007874)throw this[_0x36a3e7(0x1ea)][_0x36a3e7(0x201)](_0x2d8b3f),new _0x177832(_0x177832[_0x36a3e7(0x492)]['ObjectStoreInvalidSyncMessage'],{'message':_0x36a3e7(0x829)});return void _0x35903c[_0x36a3e7(0x241)][_0x36a3e7(0x80e)](_0x4e8676);}try{_0x35903c[_0x36a3e7(0x4ae)]+=0x1,_0x35903c[_0x36a3e7(0x84b)]+=_0x4e8676[_0x36a3e7(0x252)][_0x36a3e7(0x373)],await _0x35903c['stream'][_0x36a3e7(0x632)](_0x4e8676[_0x36a3e7(0x252)]);}catch(_0x301d79){if(console['error'](_0x36a3e7(0x394),_0x301d79),_0x4f6da6>0x3)throw this[_0x36a3e7(0x1ea)][_0x36a3e7(0x201)](_0x2d8b3f),console[_0x36a3e7(0x626)](_0x36a3e7(0x41c),_0x301d79),new _0x177832(_0x177832[_0x36a3e7(0x492)]['ObjectStoreInvalidSyncMessage'],{'message':_0x36a3e7(0x41c)});return this[_0x36a3e7(0x2b4)](_0x4e8676,_0x4f6da6+0x1);}}try{await this[_0x36a3e7(0x642)](_0x35903c,_0x4e8676[_0x36a3e7(0x1df)]+0x1);}catch(_0x9212df){throw this['fileChunks']['delete'](_0x2d8b3f),_0x9212df;}if(this[_0x36a3e7(0x1ea)]['set'](_0x2d8b3f,_0x35903c),_0x35903c[_0x36a3e7(0x4ae)]<_0x4e8676[_0x36a3e7(0x711)])return;await this[_0x36a3e7(0x61e)](_0x2d8b3f),this[_0x36a3e7(0x486)]&&(await this[_0x36a3e7(0x280)](_0x4e8676),_0x4b7920[_0x36a3e7(0x46c)](_0x1077b6[_0x36a3e7(0x4ec)],{'type':_0x36a3e7(0x6dd),'label':this[_0x36a3e7(0x5a5)],'nodeId':this[_0x36a3e7(0x5b9)][_0x36a3e7(0x7bf)](),'nodeType':this[_0x36a3e7(0x5b9)][_0x36a3e7(0x2f5)],'clusterId':this[_0x36a3e7(0x2dd)],'kind':_0x3f2cd3['ObjectKind'][_0x36a3e7(0x65f)],'path':_0x4e8676[_0x36a3e7(0x267)],'fileName':_0x4e8676[_0x36a3e7(0x690)],'fileType':_0x4e8676[_0x36a3e7(0x2f5)],'size':_0x35903c[_0x36a3e7(0x84b)]}));const _0x533599=this[_0x36a3e7(0x3ce)]['get'](_0x4e8676[_0x36a3e7(0x267)])??[];for(const _0x4ca900 of _0x533599)await this[_0x36a3e7(0x2a3)](_0x4ca900);this['pendingFilesTransactions'][_0x36a3e7(0x201)](_0x4e8676[_0x36a3e7(0x267)]),this[_0x36a3e7(0x5b5)][_0x36a3e7(0xef)]({'event':_0x3f2cd3[_0x36a3e7(0x651)][_0x36a3e7(0x155)],'payload':{'file':{'kind':_0x3f2cd3[_0x36a3e7(0x60e)][_0x36a3e7(0x65f)],'path':_0x4e8676[_0x36a3e7(0x267)],'type':_0x4e8676['type'],'size':_0x35903c[_0x36a3e7(0x84b)],'name':_0x4e8676[_0x36a3e7(0x690)],'pathName':_0x2d8b3f,'status':this['syncContent']?_0x3f2cd3[_0x36a3e7(0x7b7)][_0x36a3e7(0x404)]:_0x3f2cd3['FileStatus']['Pending']}}}),this[_0x36a3e7(0x556)]();}async[_0x2d5ee2(0x642)](_0x419972,_0x5caa7e){const _0x3bb7c7=_0x2d5ee2,_0x25db88=_0x419972['stream'];let _0x45a345=0x0;for(;_0x419972['bufferedChunks']&&_0x419972['bufferedChunks'][_0x3bb7c7(0x68c)]>0x0;){const _0x513658=_0x419972[_0x3bb7c7(0x241)][_0x3bb7c7(0x76e)](_0x388430=>_0x388430[_0x3bb7c7(0x1df)]===_0x5caa7e+0x1);if(!_0x513658)break;_0x419972[_0x3bb7c7(0x241)]=_0x419972[_0x3bb7c7(0x241)][_0x3bb7c7(0x2e4)](_0x43df9c=>_0x43df9c[_0x3bb7c7(0x1df)]!==_0x5caa7e+0x1);try{await _0x25db88[_0x3bb7c7(0x632)](_0x513658[_0x3bb7c7(0x252)]),_0x5caa7e++;}catch(_0x3f1769){if(console[_0x3bb7c7(0x626)](_0x3bb7c7(0x73c),_0x3f1769),_0x45a345>0x3)throw console[_0x3bb7c7(0x626)](_0x3bb7c7(0x369),_0x3f1769),new _0x177832(_0x177832['codes'][_0x3bb7c7(0x37f)],{'message':_0x3bb7c7(0x369)});_0x45a345++;continue;}_0x419972[_0x3bb7c7(0x4ae)]+=0x1,_0x419972['bytesReceived']+=_0x513658[_0x3bb7c7(0x252)]['byteLength'];}}async[_0x2d5ee2(0x694)](_0x2b1b85){const _0x3f28cf=_0x2d5ee2;await this[_0x3f28cf(0x82d)][_0x3f28cf(0x204)](_0x2b1b85['path']);const [_0xbc29dc,_0x452dd5]=_0x21845f(_0x2b1b85[_0x3f28cf(0x267)]);this[_0x3f28cf(0x5b5)][_0x3f28cf(0xef)]({'event':_0x3f2cd3[_0x3f28cf(0x651)][_0x3f28cf(0x764)],'payload':{'folder':{'kind':_0x3f2cd3[_0x3f28cf(0x60e)][_0x3f28cf(0x36a)],'name':_0x452dd5,'path':_0xbc29dc,'pathName':_0x2b1b85['path']}}});}async[_0x2d5ee2(0x519)](_0x2c2e3a,_0x235b1d=!0x1){const _0x500720=_0x2d5ee2;if(!_0x235b1d&&!this[_0x500720(0x5bd)](_0x2c2e3a))return;const _0x49fe24=await this[_0x500720(0x342)](_0x2c2e3a[_0x500720(0x267)]),[_0x5710ca,_0x10f4bc]=_0x21845f(_0x2c2e3a[_0x500720(0x267)]);this['eventListener'][_0x500720(0xef)]({'event':_0x49fe24===_0x3f2cd3['ObjectKind'][_0x500720(0x36a)]?_0x3f2cd3[_0x500720(0x651)]['FolderDelete']:_0x3f2cd3[_0x500720(0x651)][_0x500720(0x3f4)],'payload':{'name':_0x10f4bc,'path':_0x5710ca,'pathName':_0x2c2e3a[_0x500720(0x267)]}}),this[_0x500720(0x556)]();}async[_0x2d5ee2(0x251)](_0x2adfdf,_0x69aad8=!0x1){const _0x4e2cb7=_0x2d5ee2;if(!_0x69aad8&&!this[_0x4e2cb7(0x5bd)](_0x2adfdf))return this['pendingFilesRename']['set'](_0x2adfdf[_0x4e2cb7(0x809)],this[_0x4e2cb7(0x647)][_0x4e2cb7(0x548)](_0x2adfdf[_0x4e2cb7(0x267)])??_0x2adfdf[_0x4e2cb7(0x267)]),void this['pendingFilesRename'][_0x4e2cb7(0x201)](_0x2adfdf[_0x4e2cb7(0x267)]);this['pendingFilesRename'][_0x4e2cb7(0x201)](_0x2adfdf['path']);const _0x42b3e7=await this[_0x4e2cb7(0x82d)]['moveObject'](_0x2adfdf[_0x4e2cb7(0x267)],_0x2adfdf[_0x4e2cb7(0x809)]),[_0x4178df,_0x12f2d9]=_0x21845f(_0x2adfdf[_0x4e2cb7(0x267)]),[_0x36a8c1,_0x16edf5]=_0x21845f(_0x2adfdf['newPath']);this[_0x4e2cb7(0x5b5)][_0x4e2cb7(0xef)]({'event':_0x42b3e7===_0x3f2cd3['ObjectKind'][_0x4e2cb7(0x36a)]?_0x3f2cd3['StorageEventType'][_0x4e2cb7(0x592)]:_0x3f2cd3[_0x4e2cb7(0x651)]['FileMove'],'payload':{'name':_0x16edf5,'path':_0x36a8c1,'pathName':_0x2adfdf[_0x4e2cb7(0x809)],'oldName':_0x12f2d9,'oldPath':_0x4178df,'oldPathName':_0x2adfdf[_0x4e2cb7(0x267)]}}),this[_0x4e2cb7(0x556)]();}['shouldProcessTransaction'](_0x94de1e){const _0x5dfdc8=_0x2d5ee2,_0xbddfb3=this[_0x5dfdc8(0x647)][_0x5dfdc8(0x548)](_0x94de1e['path'])??_0x94de1e[_0x5dfdc8(0x267)];let _0x18e217=!0x1;for(const _0x20f635 of this['fileChunks'][_0x5dfdc8(0x41f)]())if(_0x20f635[_0x5dfdc8(0x47a)](_0xbddfb3)){const _0x3f1d08=this['pendingFilesTransactions']['get'](_0x20f635)??[];_0x3f1d08['push'](_0x94de1e),this[_0x5dfdc8(0x3ce)][_0x5dfdc8(0x1d0)](_0x20f635,_0x3f1d08),_0x18e217=!0x0;}return!_0x18e217;}async[_0x2d5ee2(0x84d)](_0x40300f){const _0x407b58=_0x2d5ee2;if(!_0x40300f['id'])throw new _0x177832(_0x177832['codes']['ObjectStoreInvalidSyncMessage'],{'message':'Missing\x20transaction\x20id'});if(_0x40300f[_0x407b58(0x5d3)]!==this['lastTransactionId'])throw new _0x177832(_0x177832[_0x407b58(0x492)]['ObjectStoreNotSynced']);await this['transactionService'][_0x407b58(0x4b1)](_0x40300f,this[_0x407b58(0x5a5)]),await this[_0x407b58(0x751)](_0x40300f['id']);}async[_0x2d5ee2(0x751)](_0x3904d4){const _0x5b41c2=_0x2d5ee2;this[_0x5b41c2(0x418)]=_0x3904d4;const _0x2b1ab5=new File([new Blob([this[_0x5b41c2(0x418)]])],_0x5c72f1,{'type':_0x5b41c2(0x567)});await this['writeFile'](_0x2b1ab5,'/');}async[_0x2d5ee2(0x657)](_0x5bb575){const _0x17d194=_0x2d5ee2;try{const _0x379abe=await this[_0x17d194(0x548)](_0x5bb575[_0x17d194(0x267)]+'/'+_0x5bb575['name'],{'skipEncryption':_0x5bb575[_0x17d194(0x67f)]}),_0x179ae4=await _0x4f7ea1(_0x379abe);if(''!==_0x5bb575[_0x17d194(0x715)]&&_0x179ae4!==_0x5bb575['checksum'])return;_0x5bb575[_0x17d194(0x31e)]=this[_0x17d194(0x5b9)][_0x17d194(0x7bf)](),_0x5bb575[_0x17d194(0x389)]=_0xb4a8b4[_0x17d194(0x5e9)],await this['send'](_0x5bb575,[_0x5bb575[_0x17d194(0x51e)]]);}catch(_0xd984d4){}}async['handleFileRequestAnswer'](_0x300f85){const _0x9ce626=_0x2d5ee2,_0x5c34a6=_0x41fdca(_0x300f85['path'],_0x300f85[_0x9ce626(0x690)]);if(!this[_0x9ce626(0xa8)][_0x9ce626(0x2b3)](_0x5c34a6))return;const _0x39aa35=this[_0x9ce626(0xa8)][_0x9ce626(0x548)](_0x5c34a6);_0x39aa35[_0x9ce626(0x389)]=_0xb4a8b4[_0x9ce626(0xfb)];const _0x26b285=_0x300f85[_0x9ce626(0x31e)];if(!_0x26b285)throw new _0x177832(_0x177832[_0x9ce626(0x492)][_0x9ce626(0x37f)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x9ce626(0xa8)][_0x9ce626(0x201)](_0x5c34a6),this['pendingFilesSyncing'][_0x9ce626(0x2b3)](_0x26b285)||this[_0x9ce626(0x5ed)][_0x9ce626(0x1d0)](_0x26b285,new Map()),this[_0x9ce626(0x5ed)][_0x9ce626(0x548)](_0x26b285)['set'](_0x5c34a6,[_0x39aa35,this[_0x9ce626(0x6ce)](_0x26b285,_0x5c34a6)]),_0x39aa35[_0x9ce626(0x31e)]=_0x26b285,_0x39aa35[_0x9ce626(0x2ce)]=this['fileChunks'][_0x9ce626(0x548)](_0x5c34a6)?.['chunksReceived']??0x0,0x0===_0x39aa35[_0x9ce626(0x2ce)])try{const [_0x6ce792,_0x2a83b2]=await this[_0x9ce626(0xcd)](_0x300f85[_0x9ce626(0x690)],_0x300f85[_0x9ce626(0x267)],_0x300f85[_0x9ce626(0x715)]);_0x6ce792&&(_0x39aa35[_0x9ce626(0x2ce)]=_0x2a83b2);}catch(_0x4a3397){}this[_0x9ce626(0x23a)](_0x39aa35,[_0x26b285]);}async[_0x2d5ee2(0x7ae)](_0x5d2a9e){const _0x6e1ab7=_0x2d5ee2,_0x4fdf35=_0x41fdca(_0x5d2a9e[_0x6e1ab7(0x267)],_0x5d2a9e[_0x6e1ab7(0x690)]),_0x1844e9=await this[_0x6e1ab7(0x548)](_0x4fdf35,{'skipEncryption':_0x5d2a9e['skipEncryption']}),_0xec4f3={..._0x5d2a9e,'answererId':this[_0x6e1ab7(0x5b9)][_0x6e1ab7(0x7bf)](),'action':_0xb4a8b4[_0x6e1ab7(0x6a9)],'startIndex':_0x5d2a9e[_0x6e1ab7(0x2ce)]??0x0};await this[_0x6e1ab7(0x258)](_0x1844e9,_0xec4f3,[_0x5d2a9e[_0x6e1ab7(0x51e)]]);}async['sendFile'](_0x177156,_0x1e807a,_0x180ed7){let _0x5c8e91,_0x24416c;const _0x1cf3e5=new Promise(async(_0x326117,_0x3b2f93)=>{_0x5c8e91=_0x326117,_0x24416c=_0x3b2f93;});return((async()=>{const _0x54b89c=a0_0x5322,_0x3b01c3=Math[_0x54b89c(0x416)](_0x177156[_0x54b89c(0x6b6)]/_0x4fdd0e);let _0x3feb78=_0x1e807a[_0x54b89c(0x2ce)]??0x0;const _0x56a431=_0x41fdca(_0x1e807a[_0x54b89c(0x267)],_0x1e807a[_0x54b89c(0x690)]);this[_0x54b89c(0x198)][_0x54b89c(0x1d0)](_0x56a431,[!0x1,_0x1cf3e5]);for await(const _0x3ce733 of async function*(_0x3acee3,_0x8244c4=0x0,_0x4ac028){for await(const _0x52e17d of _0x3083e0(_0x3acee3,_0x8244c4,_0x4ac028))yield _0x52e17d;}(_0x177156,_0x3feb78,this[_0x54b89c(0x4f1)])){const [_0x14b4da]=this[_0x54b89c(0x198)][_0x54b89c(0x548)](_0x56a431)??[];if(_0x14b4da)return this['fileSendingMap'][_0x54b89c(0x201)](_0x56a431),void _0x24416c(new Error(_0x54b89c(0x3a7)));if(this[_0x54b89c(0x3ce)]['has'](_0x56a431)){const _0x845d89=this[_0x54b89c(0x3ce)]['get'](_0x56a431);for(const _0x1d6300 of _0x845d89)if(_0x1d6300[_0x54b89c(0x389)]===_0xb4a8b4['FileWrite']||_0x1d6300['action']===_0xb4a8b4[_0x54b89c(0x82c)])return;}const _0x1de5e7={..._0x1e807a,'type':_0x177156[_0x54b89c(0x2f5)],'data':_0x3ce733,'index':_0x3feb78,'total':_0x3b01c3};this[_0x54b89c(0x23a)](_0x1de5e7,_0x180ed7),_0x3feb78++;}const _0x31b2b8=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x31b2b8),_0x5c8e91());});this[_0x54b89c(0x198)][_0x54b89c(0x201)](_0x56a431);})()),_0x1cf3e5;}async[_0x2d5ee2(0x280)](_0x492c1){const _0x285093=_0x2d5ee2;try{const _0x31684e=_0x41fdca(_0x492c1['path'],_0x492c1[_0x285093(0x690)]),_0x182d8b=_0x31684e+_0x8e1064;await this[_0x285093(0x342)](_0x182d8b);const [,_0x329264]=this[_0x285093(0x5ed)][_0x285093(0x548)](_0x492c1[_0x285093(0x31e)])?.[_0x285093(0x548)](_0x31684e)??[];_0x329264&&(clearTimeout(_0x329264),this['pendingFilesSyncing']['get'](_0x492c1[_0x285093(0x31e)])['delete'](_0x31684e));}catch(_0x5994b1){}0x0===this[_0x285093(0x5ed)]['get'](_0x492c1['answererId'])?.[_0x285093(0x6b6)]&&this[_0x285093(0x5ed)]['delete'](_0x492c1[_0x285093(0x31e)]),0x0===this[_0x285093(0x5ed)]['size']&&0x0===this['objectRequests'][_0x285093(0x6b6)]&&this[_0x285093(0x245)]();}async[_0x2d5ee2(0x2db)](){const _0x268a99=_0x2d5ee2;try{const _0x14e989=await this[_0x268a99(0x387)][_0x268a99(0x63a)](this[_0x268a99(0x5a5)],this[_0x268a99(0x418)]);for(const _0x5ff9aa of _0x14e989)await this[_0x268a99(0x478)](_0x5ff9aa,!0x0);}catch(_0x593bb6){if(_0x593bb6 instanceof _0x177832&&_0x593bb6[_0x268a99(0x788)]===_0x177832[_0x268a99(0x492)][_0x268a99(0x6f9)]){await this[_0x268a99(0x82d)]['deleteObject'](_0x5c72f1),delete this[_0x268a99(0x418)];try{const _0x4c1ca5=await this[_0x268a99(0x82d)][_0x268a99(0x25a)]('/',!0x1);for(const _0x172e90 of _0x4c1ca5)await this['objectStoreConnector']['deleteObject'](_0x172e90[_0x268a99(0x803)]);}catch(_0x3125d2){}return await this[_0x268a99(0x2db)]();}throw _0x593bb6;}}async[_0x2d5ee2(0x620)](){const _0x4c4753=_0x2d5ee2,_0x4cf33f=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x310699=async _0x2afce2=>{const _0x5d6d4b=a0_0x5322;for(const _0xda2d8a of _0x2afce2){if(_0xda2d8a[_0x5d6d4b(0xaf)]===_0x3f2cd3['ObjectKind'][_0x5d6d4b(0x36a)]){_0xda2d8a[_0x5d6d4b(0x12d)]&&_0xda2d8a[_0x5d6d4b(0x12d)][_0x5d6d4b(0x68c)]>0x0&&await _0x310699(_0xda2d8a[_0x5d6d4b(0x12d)]);continue;}if(_0xda2d8a[_0x5d6d4b(0x5b1)]!==_0x3f2cd3[_0x5d6d4b(0x7b7)][_0x5d6d4b(0x80f)])continue;const _0x24933e=await this[_0x5d6d4b(0x548)](_0xda2d8a[_0x5d6d4b(0x803)]+_0x8e1064),_0x462bb0=JSON['parse'](await _0x24933e['text']()),_0x58ee0c=_0xda2d8a['name']['replace'](_0x8e1064,''),_0x16d863={'payloadType':_0x38bfc8[_0x5d6d4b(0x3da)],'action':_0xb4a8b4[_0x5d6d4b(0x706)],'sourceId':this[_0x5d6d4b(0x5b9)]['getId'](),'type':'','path':_0xda2d8a[_0x5d6d4b(0x267)],'name':_0x58ee0c,'checksum':_0x462bb0['checksum'],'skipEncryption':_0x462bb0[_0x5d6d4b(0x67f)]},_0x1fa8f8=_0x41fdca(_0xda2d8a[_0x5d6d4b(0x267)],_0x58ee0c);this[_0x5d6d4b(0xa8)][_0x5d6d4b(0x1d0)](_0x1fa8f8,_0x16d863);}};await _0x310699(_0x4cf33f),0x0===this['objectRequests'][_0x4c4753(0x6b6)]&&0x0===this[_0x4c4753(0x5ed)][_0x4c4753(0x6b6)]&&this[_0x4c4753(0x245)]();}async[_0x2d5ee2(0x797)](_0x262839,_0x37e979,_0x2937bd){const _0x54d1a0=_0x2d5ee2,_0xe1ec87=new File([new Blob([JSON[_0x54d1a0(0x779)](_0x2937bd)])],''+_0x262839+_0x8e1064,{'type':_0x54d1a0(0x567)});await this['writeFile'](_0xe1ec87,_0x37e979);}async[_0x2d5ee2(0xcd)](_0x275219,_0x15b83f,_0x2730cf){const _0x441c00=_0x2d5ee2;try{const _0x388ff2=_0x41fdca(_0x15b83f,_0x275219),_0x4d6366=_0x388ff2+_0x8e1064,_0x23ee8e=await this[_0x441c00(0x82d)][_0x441c00(0x548)](_0x4d6366),{checksum:_0x55ae50,skipEncryption:_0x5be607}=JSON[_0x441c00(0x7a3)](await _0x23ee8e[_0x441c00(0x162)]()),_0x553f4=(await this[_0x441c00(0x82d)][_0x441c00(0x548)](_0x388ff2,{'skipEncryption':_0x5be607}))[_0x441c00(0x6b6)];return _0x55ae50===_0x2730cf&&_0x553f4%_0x4fdd0e==0x0?[!0x0,Math[_0x441c00(0x678)](_0x553f4/_0x4fdd0e)]:(await this[_0x441c00(0x82d)][_0x441c00(0x342)](_0x388ff2),[!0x1,0x0]);}catch(_0x261e68){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x527e23,_0x2efd8e){const _0xacc119=_0x2d5ee2,[_0x5858fc,_0x43597d]=this['pendingFilesSyncing'][_0xacc119(0x548)](_0x527e23)?.[_0xacc119(0x548)](_0x2efd8e)??[];return _0x43597d&&clearTimeout(_0x43597d),setTimeout(()=>{const _0x5c2112=_0xacc119,[_0x111be2,_0x4c58cc]=this['pendingFilesSyncing'][_0x5c2112(0x548)](_0x527e23)[_0x5c2112(0x548)](_0x2efd8e);this['sendFileRequestPayload'](_0x111be2,_0x4c58cc);},0x927c0);}async[_0x2d5ee2(0x840)](_0x40708b,_0x50de04){const _0x98ff6a=_0x2d5ee2;clearTimeout(_0x50de04),_0x40708b['action']=_0xb4a8b4['RequestFile'],this[_0x98ff6a(0xa8)][_0x98ff6a(0x1d0)](_0x41fdca(_0x40708b[_0x98ff6a(0x267)],_0x40708b['name']),_0x40708b),this['send'](_0x40708b);}[_0x2d5ee2(0x4dd)](_0x58a586,_0x26f99e){const _0x41170c=_0x2d5ee2;if(!this[_0x41170c(0x486)])return;this[_0x41170c(0x5ed)][_0x41170c(0x2b3)](_0x58a586[_0x41170c(0x31e)])||this[_0x41170c(0x5ed)][_0x41170c(0x1d0)](_0x58a586['answererId'],new Map());const [_0x4e19cd]=this[_0x41170c(0x5ed)][_0x41170c(0x548)](_0x58a586['answererId'])[_0x41170c(0x548)](_0x26f99e)??[{'payloadType':_0x38bfc8[_0x41170c(0x3da)],'action':_0xb4a8b4['RequestFile'],'sourceId':this['localNode'][_0x41170c(0x7bf)](),'type':_0x58a586['type'],'name':_0x58a586['name'],'path':_0x58a586[_0x41170c(0x267)],'skipEncryption':_0x58a586['skipEncryption'],'checksum':_0x58a586[_0x41170c(0x715)],'answererId':_0x58a586['answererId']}];this['pendingFilesSyncing'][_0x41170c(0x548)](_0x58a586[_0x41170c(0x31e)])[_0x41170c(0x1d0)](_0x26f99e,[_0x4e19cd,this[_0x41170c(0x6ce)](_0x58a586[_0x41170c(0x31e)],_0x26f99e)]);}async[_0x2d5ee2(0x1d9)](_0x3591ec,_0x3d32fa,_0x706c77){const _0x2e986b=_0x2d5ee2;await this[_0x2e986b(0x82d)][_0x2e986b(0x1d9)](_0x3591ec,_0x3d32fa,_0x706c77);}async[_0x2d5ee2(0x342)](_0x441c3d){const _0x36e615=_0x2d5ee2;try{const _0x54e8a6=await this['objectStoreConnector'][_0x36e615(0x342)](_0x441c3d);if(!_0x441c3d[_0x36e615(0x4e0)](_0x8e1064))try{await this[_0x36e615(0x82d)][_0x36e615(0x342)](_0x441c3d+_0x8e1064);}catch(_0x10eb94){}return _0x54e8a6;}catch(_0x2b0650){return await this[_0x36e615(0x82d)]['deleteObject'](_0x441c3d+_0x8e1064);}}async[_0x2d5ee2(0x345)](_0x229e41,_0x2c0119){const _0x30c5be=_0x2d5ee2;try{const _0x1a6d79=await this[_0x30c5be(0x82d)][_0x30c5be(0x345)](_0x229e41,_0x2c0119);if(!_0x229e41[_0x30c5be(0x4e0)](_0x8e1064))try{await this[_0x30c5be(0x82d)][_0x30c5be(0x345)](_0x229e41+_0x8e1064,_0x2c0119+_0x8e1064);}catch(_0x59de45){}return _0x1a6d79;}catch(_0x2d4baa){return await this[_0x30c5be(0x82d)][_0x30c5be(0x345)](_0x229e41+_0x8e1064,_0x2c0119+_0x8e1064);}}[_0x2d5ee2(0x556)](){const _0x4d6cca=_0x2d5ee2;this[_0x4d6cca(0x596)]&&clearTimeout(this[_0x4d6cca(0x596)]),this[_0x4d6cca(0x596)]=setTimeout(async()=>{const _0x1fdda2=_0x4d6cca;delete this[_0x1fdda2(0x596)];const _0x513238=await this[_0x1fdda2(0x82d)]['calculateSize']('/');this[_0x1fdda2(0x319)]?.[_0x1fdda2(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x1fdda2(0x2f6)],'content':{'type':_0xdecfb9[_0x1fdda2(0x4fa)],'label':this[_0x1fdda2(0x5a5)],'stats':{'timestamp':Date[_0x1fdda2(0x191)](),'storage':_0x513238,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x1fdda2(0x812)],'bytesReceived':this[_0x1fdda2(0x84b)],'writes':this[_0x1fdda2(0x15b)],'reads':this[_0x1fdda2(0x12c)],'prompts':0x0,'tokens':0x0}}}),this[_0x1fdda2(0x486)]&&_0x4b7920['logStorage'](_0x1077b6[_0x1fdda2(0x4ec)],_0x1fdda2(0x61f)+this[_0x1fdda2(0x2dd)]+_0x1fdda2(0x61f)+this[_0x1fdda2(0x5a5)],_0x513238);},0x1388);}async[_0x2d5ee2(0xa2)](_0x77678d){try{return await this['get'](_0x77678d),!0x0;}catch(_0xba8230){return!0x1;}}async[_0x2d5ee2(0x61e)](_0x4be682){const _0x46b3cc=_0x2d5ee2;if(!this[_0x46b3cc(0x1ea)][_0x46b3cc(0x2b3)](_0x4be682))return;const _0x3ddba6=this[_0x46b3cc(0x1ea)][_0x46b3cc(0x548)](_0x4be682);if(_0x3ddba6[_0x46b3cc(0x35b)])try{await _0x3ddba6['stream'][_0x46b3cc(0x582)]();}catch(_0x4a266e){console[_0x46b3cc(0x626)](_0x46b3cc(0x38b),_0x4a266e);}this['fileChunks'][_0x46b3cc(0x201)](_0x4be682);}}class _0x4e0f9d extends _0x4ba786{['localNode'];[_0x2d5ee2(0x2dd)];[_0x2d5ee2(0x28d)]=new Map();[_0x2d5ee2(0x596)];constructor(_0x3f66da,_0x15b7d2,_0x4f96df){const _0x273d18=_0x2d5ee2;if(_0x273d18(0x69a)!=typeof _0x15b7d2)throw new _0x21720d(_0x11ce35['PubSubTopicNameNotString'],_0x273d18(0x261));super(_0x3f66da,_0x15b7d2),this['localNode']=_0x3f66da,this['clusterId']=_0x4f96df,this[_0x273d18(0x556)]();}['reset'](){const _0x36dd00=_0x2d5ee2;this[_0x36dd00(0x556)]();}[_0x2d5ee2(0x813)](){const _0x314e0b=_0x2d5ee2;return _0x3f2cd3[_0x314e0b(0x1f9)][_0x314e0b(0x35a)];}['publish'](_0x17d836,_0x1823fd){const _0x3a7c0a=_0x2d5ee2;_0x4b7920[_0x3a7c0a(0x5f9)](_0x27d952[_0x3a7c0a(0x35a)],_0x3a7c0a(0x5bb),this[_0x3a7c0a(0x5b9)][_0x3a7c0a(0x7bf)](),_0x17d836,_0x1823fd),_0x4b7920[_0x3a7c0a(0x46c)](_0x1077b6[_0x3a7c0a(0x35a)],{'type':'publish','label':this['label'],'nodeId':this[_0x3a7c0a(0x5b9)][_0x3a7c0a(0x7bf)](),'nodeType':this[_0x3a7c0a(0x5b9)]['type'],'clusterId':this[_0x3a7c0a(0x2dd)],'remoteIds':_0x1823fd??[],'contentType':_0x17d836 instanceof File?_0x3f2cd3[_0x3a7c0a(0x1f9)][_0x3a7c0a(0x65f)]:_0x3f2cd3[_0x3a7c0a(0x1f9)][_0x3a7c0a(0x3b7)],'size':_0x17d836 instanceof File?_0x17d836[_0x3a7c0a(0x6b6)]:JSON[_0x3a7c0a(0x779)](_0x17d836)[_0x3a7c0a(0x68c)]}),this[_0x3a7c0a(0x556)](),this['send'](_0x17d836,_0x1823fd);}[_0x2d5ee2(0x21a)](_0xce541,_0x1dc48e){const _0x53b208=_0x2d5ee2;if(this[_0x53b208(0x28d)][_0x53b208(0x2b3)](_0xce541))throw new _0x21720d(_0x11ce35[_0x53b208(0x808)],_0x53b208(0x18a));this[_0x53b208(0x28d)][_0x53b208(0x1d0)](_0xce541,this['onMessage']((_0x5e2047,_0x59e55c)=>{const _0x2f6712=_0x53b208;_0x2f6712(0x252)===_0xce541&&_0x59e55c instanceof File||!('file'!==_0xce541||_0x59e55c instanceof File)||(_0x4b7920[_0x2f6712(0x5f9)](_0x27d952[_0x2f6712(0x35a)],_0x2f6712(0x649),this[_0x2f6712(0x5b9)]['getId'](),_0x5e2047,_0x59e55c),_0x4b7920[_0x2f6712(0x46c)](_0x1077b6[_0x2f6712(0x35a)],{'type':'subscribe','label':this['label'],'nodeId':this['localNode'][_0x2f6712(0x7bf)](),'nodeType':this[_0x2f6712(0x5b9)][_0x2f6712(0x2f5)],'clusterId':this[_0x2f6712(0x2dd)],'remoteId':_0x5e2047,'contentType':_0xce541,'size':_0x59e55c instanceof File?_0x59e55c[_0x2f6712(0x6b6)]:JSON[_0x2f6712(0x779)](_0x59e55c)[_0x2f6712(0x68c)]}),this[_0x2f6712(0x556)](),_0x1dc48e(_0x5e2047,_0x59e55c));}));}[_0x2d5ee2(0x5ee)](_0x4a5182){const _0x1cde85=_0x2d5ee2;this['unsubscribeHandler'][_0x1cde85(0x548)](_0x4a5182)?.(),this[_0x1cde85(0x28d)][_0x1cde85(0x201)](_0x4a5182);}[_0x2d5ee2(0x3d9)](){const _0x20a7f9=_0x2d5ee2;this['unsubscribeHandler'][_0x20a7f9(0x57b)](_0x1e9f39=>_0x1e9f39()),clearTimeout(this[_0x20a7f9(0x596)]),delete this[_0x20a7f9(0x596)],super['destroy']();}[_0x2d5ee2(0x582)](){const _0x4c2ed6=_0x2d5ee2;this[_0x4c2ed6(0x319)]?.[_0x4c2ed6(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x4c2ed6(0x2f6)],'content':{'type':_0xdecfb9[_0x4c2ed6(0x3e1)],'label':this[_0x4c2ed6(0x5a5)]}});}[_0x2d5ee2(0x556)](){const _0x7bd644=_0x2d5ee2;this[_0x7bd644(0x596)]&&clearTimeout(this[_0x7bd644(0x596)]),this['debounceStats']=setTimeout(()=>{const _0x3d74a2=_0x7bd644;this[_0x3d74a2(0x319)]?.['publish']({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x3d74a2(0x2f6)],'content':{'type':_0xdecfb9['PubSubTopicStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x3d74a2(0x608)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x3d74a2(0x84b)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},0x1388);}}class _0x425c0b extends _0xcd1971{[_0x2d5ee2(0x5b9)];[_0x2d5ee2(0x10b)];[_0x2d5ee2(0x48b)];[_0x2d5ee2(0x2dd)];[_0x2d5ee2(0x28d)];[_0x2d5ee2(0x522)];['updateDebounce'];['outgoingStreams']=new Map();[_0x2d5ee2(0x4a1)];[_0x2d5ee2(0x762)]=new Set();[_0x2d5ee2(0x317)];[_0x2d5ee2(0x64c)]=_0x368dbe();['trackEndedListeners']=new Map();constructor(_0x17b1fd,_0x1a8f98,_0xa85425,_0xc54ca3,_0xdd3d5b,_0x12c817){const _0x249227=_0x2d5ee2;super(_0x1a8f98,_0xa85425,new MediaStream()),this['localNode']=_0x17b1fd,this[_0x249227(0x10b)]=_0xc54ca3,this[_0x249227(0x48b)]=_0xdd3d5b,this[_0x249227(0x2dd)]=_0x12c817,this['mediaStream']['getTracks']()[_0x249227(0x57b)](_0x52fb57=>this[_0x249227(0x14b)](_0x52fb57));}['destroy'](){const _0x28973d=_0x2d5ee2;this[_0x28973d(0x7a5)][_0x28973d(0x6b6)]>0x0&&(this['outgoingStreams'][_0x28973d(0x57b)](_0xf36d00=>{const _0x575bf2=_0x28973d;_0xf36d00['unregisterSystemPublisher'](),_0xf36d00[_0x575bf2(0x3d9)]();}),this['outgoingStreams']['clear']()),this[_0x28973d(0x331)][_0x28973d(0x57b)](_0x7f7814=>_0x7f7814()),this[_0x28973d(0x763)]['getTracks']()[_0x28973d(0x57b)](_0x49d023=>this[_0x28973d(0x763)][_0x28973d(0x7d1)](_0x49d023)),this[_0x28973d(0x780)]&&(clearTimeout(this[_0x28973d(0x780)]),delete this['updateDebounce']),this[_0x28973d(0x522)]?.(),super[_0x28973d(0x3d9)]();}[_0x2d5ee2(0x768)](_0x35c501){const _0x5e41c7=_0x2d5ee2;this[_0x5e41c7(0x28d)]=_0x35c501['subscribe'](({content:_0x1a53fc})=>{const _0x30c894=_0x5e41c7;switch(_0x1a53fc[_0x30c894(0x389)]){case _0x16347b[_0x30c894(0x1f5)]:if(_0x4b7920['log'](_0x27d952['Subscription'],_0x30c894(0x321),this[_0x30c894(0x5b9)][_0x30c894(0x7bf)](),this[_0x30c894(0x317)]),_0x1a53fc[_0x30c894(0x35b)]['id']!==this['internalId']||_0x1a53fc['providerId']!==this[_0x30c894(0x317)])return;this[_0x30c894(0x7d1)](_0x1a53fc[_0x30c894(0x134)]['kind']),this[_0x30c894(0x763)][_0x30c894(0x13d)](_0x1a53fc[_0x30c894(0x134)]);for(const [_0x2e0303,_0x58ce41]of this[_0x30c894(0x7a5)][_0x30c894(0x12d)]())try{_0x58ce41[_0x30c894(0x13d)](_0x1a53fc[_0x30c894(0x134)]);}catch(_0x1c8532){_0x58ce41[_0x30c894(0x3d9)](),this[_0x30c894(0x7a5)]['delete'](_0x2e0303);}this[_0x30c894(0x14b)](_0x1a53fc['track']),this[_0x30c894(0x739)](),_0x30c894(0x849)===_0x1a53fc[_0x30c894(0x134)]['kind']&&this['renderElement']&&(this['mediaStream'][_0x30c894(0x4b3)]?setTimeout(()=>this['renderElement']?.['play'](),0x0):setTimeout(()=>this[_0x30c894(0x4a1)]?.[_0x30c894(0x3be)](),0x0),this['setupResizeHandler']());break;case _0x16347b[_0x30c894(0x5db)]:if(_0x1a53fc[_0x30c894(0x35b)]['id']!==this[_0x30c894(0x10b)]||_0x1a53fc[_0x30c894(0x317)]!==this['providerId'])return;this[_0x30c894(0x7d1)](_0x1a53fc[_0x30c894(0x134)][_0x30c894(0xaf)]),this['renderElement']&&_0x30c894(0x849)===_0x1a53fc[_0x30c894(0x134)][_0x30c894(0xaf)]&&(this[_0x30c894(0x522)]?.(),this[_0x30c894(0x763)][_0x30c894(0x81f)]()[_0x30c894(0x68c)]>0x0?this[_0x30c894(0x4a1)][_0x30c894(0x3be)]():this[_0x30c894(0x4a1)]['srcObject']=null);}});}[_0x2d5ee2(0x59b)](){const _0x2a9d5d=_0x2d5ee2;this[_0x2a9d5d(0x28d)]?.(),this[_0x2a9d5d(0x331)][_0x2a9d5d(0x57b)](_0x4f3078=>_0x4f3078()),delete this['unsubscribeHandler'];}[_0x2d5ee2(0x168)](){const _0x5c005d=_0x2d5ee2;return this[_0x5c005d(0x10b)];}[_0x2d5ee2(0x318)](_0x5aea36){this['internalId']=_0x5aea36;}[_0x2d5ee2(0x32d)](){return this['availableTrackKinds'];}[_0x2d5ee2(0x50f)](_0x2f6130){const _0x5074b7=_0x2d5ee2;for(const _0x572397 of _0x2f6130||this[_0x5074b7(0x48b)])if(!this[_0x5074b7(0x763)]['getTracks']()[_0x5074b7(0x76e)](_0x2b3ee5=>_0x2b3ee5[_0x5074b7(0xaf)]===_0x572397))return!0x1;return!0x0;}[_0x2d5ee2(0x747)](){const _0x4d32ee=_0x2d5ee2;let _0x242e7d={'width':0x0,'height':0x0};const _0x48d9d5=this[_0x4d32ee(0x763)]['getVideoTracks']();if(_0x48d9d5['length']>0x0){const _0x497e40=_0x48d9d5[0x0][_0x4d32ee(0x45b)]();_0x497e40[_0x4d32ee(0x857)]&&_0x497e40[_0x4d32ee(0x31d)]&&(_0x242e7d={'width':_0x497e40['width'],'height':_0x497e40[_0x4d32ee(0x31d)]});}return _0x242e7d;}[_0x2d5ee2(0x563)](_0x4b4db3){const _0x2a9550=_0x2d5ee2;for(const _0x512186 of _0x4b4db3)if(!this[_0x2a9550(0x762)][_0x2a9550(0x2b3)](_0x512186))return!0x1;return!0x0;}[_0x2d5ee2(0x86c)](_0x970720,_0x32d54d){const _0x3f87f8=_0x2d5ee2;if(!this[_0x3f87f8(0x7a5)][_0x3f87f8(0x2b3)](_0x970720)){const _0x38f742=new _0xdef7b9(this[_0x3f87f8(0x2f3)],this[_0x3f87f8(0x5a5)],this[_0x3f87f8(0x763)],_0x970720,_0x32d54d),_0x43b77=_0x38f742['onUnregisterPublisher'](()=>{const _0x264d06=_0x3f87f8;_0x43b77(),this['outgoingStreams'][_0x264d06(0x548)](_0x970720)?.[_0x264d06(0x3d9)](),this[_0x264d06(0x7a5)][_0x264d06(0x201)](_0x970720);});this[_0x3f87f8(0x7a5)][_0x3f87f8(0x1d0)](_0x970720,_0x38f742),_0x38f742[_0x3f87f8(0x59c)](this[_0x3f87f8(0x319)]);}return this[_0x3f87f8(0x7a5)][_0x3f87f8(0x548)](_0x970720);}[_0x2d5ee2(0x7e5)](){const _0x2f682b=_0x2d5ee2;return this[_0x2f682b(0x763)]['id'];}['getPriority'](){const _0x32847b=_0x2d5ee2;return _0x3f2cd3[_0x32847b(0x70e)][_0x32847b(0x424)];}['getSubscribedTracks'](){const _0x4210da=_0x2d5ee2;return Array['from'](this[_0x4210da(0x762)]);}[_0x2d5ee2(0x21a)](_0x2447d3){const _0x25e179=_0x2d5ee2;let _0x559198=[];if(_0x2447d3){_0x25e179(0x5fc)!=typeof _0x2447d3[_0x25e179(0x849)]||_0x2447d3['video'][_0x25e179(0x4a1)]instanceof HTMLVideoElement||!this[_0x25e179(0x4a1)]||(_0x2447d3[_0x25e179(0x849)]={'renderElement':this[_0x25e179(0x4a1)]});try{(0x0,_0x3f2cd3[_0x25e179(0x1b2)])(_0x2447d3);}catch(_0x76c8bd){throw new _0x21720d(_0x11ce35[_0x25e179(0x68d)],'Invalid\x20params');}_0x2447d3['video']&&(_0x559198['push'](_0x25e179(0x849)),_0x25e179(0x6aa)!=typeof _0x2447d3[_0x25e179(0x849)]&&_0x2447d3['video'][_0x25e179(0x4a1)]&&(this[_0x25e179(0x4a1)]=_0x2447d3[_0x25e179(0x849)][_0x25e179(0x4a1)],_0x2447d3['video'][_0x25e179(0x1e6)]||(_0x2447d3[_0x25e179(0x849)][_0x25e179(0x1e6)]={'width':this[_0x25e179(0x4a1)]['clientWidth'],'height':this[_0x25e179(0x4a1)]['clientHeight']}),delete _0x2447d3[_0x25e179(0x849)][_0x25e179(0x4a1)])),_0x2447d3['audio']&&_0x559198[_0x25e179(0x80e)](_0x25e179(0x23e));}else _0x559198=this['getAvailableTrackKinds']();this[_0x25e179(0x563)](_0x559198)||(_0x559198['forEach'](_0x1680b=>this['subscribedTracks'][_0x25e179(0x40c)](_0x1680b)),this[_0x25e179(0x319)][_0x25e179(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x25e179(0x2f6)],'content':{'type':_0xdecfb9['SubscribeMediaStream'],'label':this[_0x25e179(0x5a5)],'ownerId':this[_0x25e179(0x2f3)][_0x25e179(0x7bf)](),'trackKinds':_0x559198,'params':_0x2447d3}}),_0x4b7920['logServiceEvent'](_0x1077b6['MediaStream'],{'type':_0x25e179(0x21a),'label':this[_0x25e179(0x5a5)],'nodeId':this[_0x25e179(0x5b9)][_0x25e179(0x7bf)](),'nodeType':this[_0x25e179(0x5b9)]['type'],'clusterId':this['clusterId'],'sourceId':this[_0x25e179(0x2f3)]['getId'](),'streamId':this[_0x25e179(0x10b)],'trackKinds':_0x559198}));}[_0x2d5ee2(0x2d3)](_0x40da5c){const _0x2ba2a0=_0x2d5ee2;try{(0x0,_0x3f2cd3[_0x2ba2a0(0x1b2)])(_0x40da5c);}catch(_0x1516ff){throw new _0x21720d(_0x11ce35[_0x2ba2a0(0x68d)],_0x2ba2a0(0x64d));}this[_0x2ba2a0(0x780)]&&clearTimeout(this[_0x2ba2a0(0x780)]),this[_0x2ba2a0(0x780)]=setTimeout(()=>{const _0xbcc52a=_0x2ba2a0;delete this['updateDebounce'],this[_0xbcc52a(0x319)]['publish']({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0xbcc52a(0x2f6)],'content':{'type':_0xdecfb9[_0xbcc52a(0x9c)],'label':this[_0xbcc52a(0x5a5)],'ownerId':this[_0xbcc52a(0x2f3)][_0xbcc52a(0x7bf)](),'params':_0x40da5c}});},0x1f4);}[_0x2d5ee2(0x5ee)](_0x302365){const _0x43de60=_0x2d5ee2;_0x302365||(_0x302365=this[_0x43de60(0x32d)]()),(_0x302365=Array[_0x43de60(0x547)](_0x302365)?_0x302365:[_0x302365])['forEach'](_0x296a40=>this[_0x43de60(0x762)]['delete'](_0x296a40)),this[_0x43de60(0x319)]['publish']({'sourceId':_0x1e8ab6,'messageType':_0xa1c806['Content'],'content':{'type':_0xdecfb9[_0x43de60(0x501)],'label':this[_0x43de60(0x5a5)],'ownerId':this[_0x43de60(0x2f3)][_0x43de60(0x7bf)](),'trackKinds':_0x302365,'remainingTracks':this[_0x43de60(0x762)][_0x43de60(0x6b6)]}});}[_0x2d5ee2(0x7e3)](_0x3a75de){const _0x16c2f3=_0x2d5ee2;return this[_0x16c2f3(0x64c)][_0x16c2f3(0x21a)](_0x3a75de);}[_0x2d5ee2(0x284)](){return this['providerId'];}[_0x2d5ee2(0x2d7)](_0x95253e){const _0xe204d7=_0x2d5ee2;this['providerId']!==_0x95253e&&(this[_0xe204d7(0x317)]=_0x95253e,this[_0xe204d7(0x64c)][_0xe204d7(0xef)](_0x95253e));}['unsubscribeTrackEndedListener'](_0x5be66c){const _0x397ae6=_0x2d5ee2;this['trackEndedListeners'][_0x397ae6(0x548)](_0x5be66c)?.(),this[_0x397ae6(0x331)][_0x397ae6(0x201)](_0x5be66c);}['removeTrack'](_0xa4c61f){const _0x17b7f1=_0x2d5ee2,_0x412d47=this[_0x17b7f1(0x763)]['getTracks']()[_0x17b7f1(0x76e)](_0x5deaac=>_0x5deaac[_0x17b7f1(0xaf)]===_0xa4c61f);_0x412d47&&(this['mediaStream'][_0x17b7f1(0x7d1)](_0x412d47),this[_0x17b7f1(0x7a5)][_0x17b7f1(0x57b)](_0x2dc803=>_0x2dc803[_0x17b7f1(0x7d1)](_0xa4c61f)),this[_0x17b7f1(0x331)][_0x17b7f1(0x548)](_0xa4c61f)?.());}[_0x2d5ee2(0x739)](){const _0x3bb1c8=_0x2d5ee2;this['renderElement']&&(this[_0x3bb1c8(0x4a1)][_0x3bb1c8(0x4cb)]&&this['renderElement'][_0x3bb1c8(0x4cb)]===this['mediaStream']||(this[_0x3bb1c8(0x4a1)][_0x3bb1c8(0x4cb)]=this['mediaStream']));}[_0x2d5ee2(0x3e2)](){const _0x39e252=_0x2d5ee2;if(this[_0x39e252(0x4a1)]&&!this['resizeHandler']&&_0x39e252(0x6bf)!=typeof ResizeObserver){let _0x394821=this['renderElement'][_0x39e252(0x533)],_0x41680b=this[_0x39e252(0x4a1)][_0x39e252(0x30f)];const _0x1eec87=new ResizeObserver(_0x5980f9=>{const _0xdfb7b2=_0x39e252,{width:_0x1513c5,height:_0x13108e}=_0x5980f9[0x0]['contentRect'];_0x394821===_0x1513c5&&_0x41680b===_0x13108e||(_0x394821=Math[_0xdfb7b2(0x5fb)](_0x1513c5),_0x41680b=Math[_0xdfb7b2(0x5fb)](_0x13108e),this['update']({'video':{'maxResolution':{'width':_0x1513c5,'height':_0x13108e}}}));});_0x1eec87[_0x39e252(0x68f)](this[_0x39e252(0x4a1)]),this['resizeHandler']=()=>_0x1eec87['disconnect']();}}[_0x2d5ee2(0x364)](_0x52a21a){const _0x79d04a=_0x2d5ee2,_0x19a9ba=[];for(const _0x22c929 of this['subscribedTracks'])this[_0x79d04a(0x7d1)](_0x22c929),_0x19a9ba[_0x79d04a(0x80e)](_0x22c929);this[_0x79d04a(0x317)]&&this[_0x79d04a(0x319)][_0x79d04a(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x79d04a(0x2f6)],'content':{'type':_0xdecfb9[_0x79d04a(0x2a8)],'label':this[_0x79d04a(0x5a5)],'streamId':this['internalId'],'ownerId':this[_0x79d04a(0x2f3)][_0x79d04a(0x7bf)](),'providerId':this[_0x79d04a(0x317)],'trackKinds':_0x19a9ba}});}[_0x2d5ee2(0x14b)](_0x1db367){const _0x2eff55=_0x2d5ee2,_0x111abc=()=>this['handleRemoteTrackFailure'](_0x1db367);_0x1db367[_0x2eff55(0x551)](_0x2eff55(0x617),_0x111abc),_0x1db367['addEventListener']('mute',_0x111abc),this['trackEndedListeners'][_0x2eff55(0x1d0)](_0x1db367['kind'],()=>{const _0x4e3326=_0x2eff55;_0x1db367[_0x4e3326(0x227)](_0x4e3326(0x617),_0x111abc),_0x1db367[_0x4e3326(0x227)](_0x4e3326(0x3a8),_0x111abc),this[_0x4e3326(0x331)][_0x4e3326(0x201)](_0x1db367['kind']);});}}class _0x4a713b extends _0x4ba786{[_0x2d5ee2(0x5b9)];[_0x2d5ee2(0x2dd)];['db'];[_0x2d5ee2(0x596)];[_0x2d5ee2(0x15b)]=0x0;[_0x2d5ee2(0x12c)]=0x0;constructor(_0x510354,_0x53f339,_0x4bdd1f,_0x4d9dab){const _0x12233a=_0x2d5ee2;if('string'!=typeof _0x53f339)throw new _0x21720d(_0x11ce35[_0x12233a(0x685)],_0x12233a(0x4be));super(_0x510354,_0x53f339),this['localNode']=_0x510354,this['clusterId']=_0x4bdd1f,this['db']=new _0x4d9dab(),this[_0x12233a(0x556)]();}[_0x2d5ee2(0x3d9)](){const _0x595019=_0x2d5ee2;clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x595019(0x3d9)]();}[_0x2d5ee2(0x582)](){const _0x101847=_0x2d5ee2;this[_0x101847(0x319)][_0x101847(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806['Content'],'content':{'type':_0xdecfb9['CloseVectorDatabase'],'label':this[_0x101847(0x5a5)]}});}['reset'](){const _0x49a63d=_0x2d5ee2;this[_0x49a63d(0x556)]();}['getContentType'](){return _0x3f2cd3['ContentType']['VectorDatabase'];}['search'](_0xa8a972,_0x3cb63b,_0x4bdbfa,_0x50178c){const _0x40f36a=_0x2d5ee2,_0x2a2b85=this['db'][_0x40f36a(0x729)](_0xa8a972,_0x3cb63b,_0x4bdbfa,_0x50178c);return this[_0x40f36a(0x12c)]+=0x1,_0x4b7920[_0x40f36a(0x46c)](_0x1077b6[_0x40f36a(0x218)],{'type':_0x40f36a(0x729),'label':this['label'],'nodeId':this[_0x40f36a(0x5b9)][_0x40f36a(0x7bf)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x40f36a(0x2dd)],'size':0x0}),this['sendStats'](),_0x2a2b85;}[_0x2d5ee2(0x26a)](_0x4566f3,_0xa59a9d,_0x15a6f1,_0x149f42){const _0x444a3e=_0x2d5ee2;this['db'][_0x444a3e(0x26a)](_0x4566f3,_0xa59a9d,_0x15a6f1,_0x149f42),this[_0x444a3e(0x15b)]+=0x1,_0x4b7920[_0x444a3e(0x46c)](_0x1077b6[_0x444a3e(0x218)],{'type':_0x444a3e(0x26a),'label':this[_0x444a3e(0x5a5)],'nodeId':this[_0x444a3e(0x5b9)]['getId'](),'nodeType':this[_0x444a3e(0x5b9)][_0x444a3e(0x2f5)],'clusterId':this['clusterId'],'size':_0x149f42['reduce']((_0x3c31ae,_0x3468bd)=>_0x3c31ae+_0x3468bd[_0x444a3e(0x68c)],0x0)}),this[_0x444a3e(0x556)]();}[_0x2d5ee2(0x43a)](_0x183305){const _0x17c111=_0x2d5ee2;this['db']['remove'](_0x183305),this[_0x17c111(0x15b)]+=0x1,_0x4b7920[_0x17c111(0x46c)](_0x1077b6[_0x17c111(0x218)],{'type':_0x17c111(0x43a),'label':this['label'],'nodeId':this[_0x17c111(0x5b9)][_0x17c111(0x7bf)](),'nodeType':this['localNode'][_0x17c111(0x2f5)],'clusterId':this[_0x17c111(0x2dd)],'size':0x0}),this[_0x17c111(0x556)]();}[_0x2d5ee2(0x556)](){const _0x5ec067=_0x2d5ee2;this[_0x5ec067(0x596)]&&clearTimeout(this[_0x5ec067(0x596)]),this[_0x5ec067(0x596)]=setTimeout(async()=>{const _0x755ec=_0x5ec067;delete this[_0x755ec(0x596)];const _0x415d5a=this['db'][_0x755ec(0x50c)]()[_0x755ec(0x373)];this[_0x755ec(0x319)][_0x755ec(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x755ec(0x2f6)],'content':{'type':_0xdecfb9[_0x755ec(0x422)],'label':this[_0x755ec(0x5a5)],'stats':{'timestamp':Date['now'](),'storage':_0x415d5a,'messagesSent':this[_0x755ec(0x608)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x755ec(0x812)],'bytesReceived':this[_0x755ec(0x84b)],'writes':this[_0x755ec(0x15b)],'reads':this[_0x755ec(0x12c)],'prompts':0x0,'tokens':0x0}}}),_0x4b7920[_0x755ec(0x19c)](_0x1077b6['VectorDatabase'],_0x755ec(0x61f)+this[_0x755ec(0x2dd)]+'ccc'+this[_0x755ec(0x5a5)],_0x415d5a);},0x1388);}}class _0x566c7a{['id'];[_0x2d5ee2(0x52b)];[_0x2d5ee2(0x323)];constructor(_0x56c7e0,_0x56a3a7=new Set(),_0x5359f5){const _0x2e8b01=_0x2d5ee2;this['id']=_0x56c7e0,this[_0x2e8b01(0x52b)]=_0x56a3a7,this['rank']=_0x5359f5;}[_0x2d5ee2(0x582)](){const _0x228f0c=_0x2d5ee2;this['rank']=void 0x0,this[_0x228f0c(0x52b)]['clear']();}[_0x2d5ee2(0x7bf)](){return this['id'];}['getRank'](){const _0x1b7cef=_0x2d5ee2;return this[_0x1b7cef(0x323)];}[_0x2d5ee2(0x537)](){const _0xad6b40=_0x2d5ee2;return this[_0xad6b40(0x52b)];}}class _0x29791d extends _0x566c7a{['id'];[_0x2d5ee2(0x534)];[_0x2d5ee2(0x10a)];[_0x2d5ee2(0x52b)];['rank'];['type']=_0x3f2cd3['NodeType']['User'];constructor(_0x2f118f,_0x46f4a7,_0x15420c,_0x5ef0ed=new Set(),_0x1e3d0b){const _0x22e0a4=_0x2d5ee2;super(_0x2f118f,_0x5ef0ed,_0x1e3d0b),this['id']=_0x2f118f,this[_0x22e0a4(0x534)]=_0x46f4a7,this[_0x22e0a4(0x10a)]=_0x15420c,this[_0x22e0a4(0x52b)]=_0x5ef0ed,this['rank']=_0x1e3d0b;}[_0x2d5ee2(0x39d)](){const _0xac8474=_0x2d5ee2;return this[_0xac8474(0x534)];}[_0x2d5ee2(0x14c)](){const _0x4aabc1=_0x2d5ee2;return this[_0x4aabc1(0x10a)];}}class _0x3cc677{[_0x2d5ee2(0x52a)];['clusterId'];[_0x2d5ee2(0x44c)];constructor(_0x1d7f25,_0x3a859b){const _0x434c58=_0x2d5ee2;this['vendorId']=_0x1d7f25,this[_0x434c58(0x2dd)]=_0x3a859b,this[_0x434c58(0x44c)]=_0x434c58(0x61f)+this[_0x434c58(0x52a)]+'ccc'+this['clusterId'];}async[_0x2d5ee2(0x4b1)](_0xc4ed64,_0x59e5ec){const _0x5d2661=_0x2d5ee2,_0x18d95f=(0x0,_0x1a8a22['ref'])(_0x5b16bc[_0x5d2661(0x6ef)](),_0x5d2661(0x480)+this[_0x5d2661(0x44c)]+_0x5d2661(0x6d5)+_0x59e5ec+_0x5d2661(0x2e5)+_0xc4ed64['id']),_0x443051=(0x0,_0x1a8a22['onDisconnect'])(_0x18d95f);_0x443051[_0x5d2661(0x43a)](),_0xc4ed64['parentId']||delete _0xc4ed64['parentId'];try{await(0x0,_0x1a8a22[_0x5d2661(0x1d0)])(_0x18d95f,_0xc4ed64);}catch(_0x853ff0){throw await _0x443051[_0x5d2661(0x455)](),new _0x177832(_0x177832[_0x5d2661(0x492)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x1a8a22[_0x5d2661(0x1ad)])((0x0,_0x1a8a22[_0x5d2661(0x77d)])(_0x5b16bc[_0x5d2661(0x6ef)](),_0x5d2661(0x480)+this[_0x5d2661(0x44c)]+_0x5d2661(0x6d5)+_0x59e5ec+_0x5d2661(0x735)),_0x4c5cf6=>_0x4c5cf6?_0x4c5cf6===_0xc4ed64[_0x5d2661(0x5d3)]?_0xc4ed64['id']:void 0x0:_0xc4ed64[_0x5d2661(0x5d3)]?_0xc4ed64[_0x5d2661(0x5d3)]:_0xc4ed64['id']))[_0x5d2661(0x2c4)])throw await(0x0,_0x1a8a22[_0x5d2661(0x43a)])(_0x18d95f),await _0x443051['cancel'](),new _0x177832(_0x177832[_0x5d2661(0x492)][_0x5d2661(0x676)]);await _0x443051['cancel']();}async[_0x2d5ee2(0x63a)](_0x45258a,_0x4d8d94){const _0x48d567=_0x2d5ee2;let _0x1814f8=[];const _0xbc0afc=(0x0,_0x1a8a22[_0x48d567(0x77d)])(_0x5b16bc[_0x48d567(0x6ef)](),'clusters/'+this[_0x48d567(0x44c)]+_0x48d567(0x6d5)+_0x45258a+_0x48d567(0x7b9));let _0x1c01d8=await(0x0,_0x1a8a22[_0x48d567(0x548)])((0x0,_0x1a8a22[_0x48d567(0x7cb)])(_0xbc0afc,(0x0,_0x1a8a22[_0x48d567(0x3af)])(0x65),(0x0,_0x1a8a22[_0x48d567(0x1d2)])()));if(!_0x1c01d8[_0x48d567(0x456)]()){if(void 0x0!==_0x4d8d94)throw new _0x177832(_0x177832[_0x48d567(0x492)][_0x48d567(0x6f9)]);return _0x1814f8;}const _0x25c535=_0x1c01d8['val']();for(;Object['keys'](_0x1c01d8[_0x48d567(0x51f)]())['length']>0x64;){const _0x36f904=Object[_0x48d567(0x41f)](_0x1c01d8[_0x48d567(0x51f)]()),_0x3c10d8=_0x36f904[_0x36f904['length']-0x1];_0x1c01d8=await(0x0,_0x1a8a22[_0x48d567(0x548)])((0x0,_0x1a8a22[_0x48d567(0x7cb)])(_0xbc0afc,(0x0,_0x1a8a22[_0x48d567(0x3af)])(0x65),(0x0,_0x1a8a22[_0x48d567(0x668)])(_0x3c10d8),(0x0,_0x1a8a22['orderByKey'])())),Object[_0x48d567(0x607)](_0x25c535,_0x1c01d8[_0x48d567(0x51f)]());}if(_0x1814f8=Object[_0x48d567(0x2fd)](_0x25c535)[_0x48d567(0x2e4)](_0x512e9d=>_0x48d567(0x69a)!=typeof _0x512e9d),0x0===_0x1814f8[_0x48d567(0x68c)]&&void 0x0!==_0x4d8d94)throw new _0x177832(_0x177832[_0x48d567(0x492)][_0x48d567(0x6f9)]);if(_0x1814f8[_0x48d567(0x68c)]>0x0&&void 0x0!==_0x4d8d94&&!_0x1814f8['find'](_0xf2badc=>_0xf2badc['id']===_0x4d8d94))throw new _0x177832(_0x177832[_0x48d567(0x492)][_0x48d567(0x6f9)]);const _0x2af3c4=[];let _0x354666=_0x1814f8['find'](_0x4bac0a=>_0x4bac0a[_0x48d567(0x5d3)]===_0x4d8d94);for(;_0x354666;)_0x2af3c4['push'](_0x354666),_0x354666=_0x1814f8['find'](_0x47ef8a=>_0x47ef8a['parentId']===_0x354666['id']);return _0x2af3c4;}}class _0x471eb4{[_0x2d5ee2(0x3f0)];[_0x2d5ee2(0x845)];[_0x2d5ee2(0x6a7)];['localMediaStreams']=new Map();[_0x2d5ee2(0x580)]=new Map();[_0x2d5ee2(0x5ec)]=new Map();[_0x2d5ee2(0x217)]=new Map();[_0x2d5ee2(0x1ee)]=new Map();[_0x2d5ee2(0x52d)]=new Map();['graphDatabases']=new Map();[_0x2d5ee2(0x14e)]=new Map();['jobWorkers']=new Map();[_0x2d5ee2(0x387)];constructor(_0x5529a3,_0x5a7420,_0x5527b5){const _0x29f51e=_0x2d5ee2;this['configs']=_0x5529a3,this[_0x29f51e(0x845)]=_0x5a7420,this[_0x29f51e(0x6a7)]=_0x5527b5,this['transactionService']=new _0x3cc677(this[_0x29f51e(0x3f0)]['vendorId'],this['configs'][_0x29f51e(0x2dd)]);}[_0x2d5ee2(0x582)](_0xab5565=!0x1){const _0x54cf2f=_0x2d5ee2;this[_0x54cf2f(0x580)][_0x54cf2f(0x57b)]((_0x33ffdb,_0x5073a2)=>{const _0x50a546=_0x54cf2f;_0x33ffdb[_0x50a546(0x57b)]((_0x22234f,_0x406ae2)=>{const _0xc35094=_0x50a546;this[_0xc35094(0x6b4)](_0x5073a2,_0x406ae2);});}),_0xab5565||(_0x4cde32['clear'](),this[_0x54cf2f(0x116)]['forEach']((_0x19f9f8,_0x3847af)=>{const _0x569a94=_0x54cf2f;this[_0x569a94(0x531)](_0x3847af);}),this['pubSubTopics'][_0x54cf2f(0x57b)]((_0x5b7bd3,_0x3bd6b9)=>{const _0x15a35c=_0x54cf2f;this[_0x15a35c(0x5e5)](_0x3bd6b9);}),this[_0x54cf2f(0x217)]['forEach']((_0x8bd120,_0x3937e0)=>{const _0x3e6052=_0x54cf2f;this[_0x3e6052(0x498)](_0x3937e0);}),this[_0x54cf2f(0x1ee)]['forEach']((_0x42a9bd,_0x1c049c)=>{const _0x34b2f6=_0x54cf2f;this[_0x34b2f6(0x79f)](_0x1c049c);}),this[_0x54cf2f(0x14e)][_0x54cf2f(0x57b)]((_0x432ba1,_0x19249b)=>{const _0x3ecc7e=_0x54cf2f;this[_0x3ecc7e(0x74d)](_0x19249b);}),this[_0x54cf2f(0x1b5)]['forEach']((_0x2a8cc0,_0x4a9235)=>{this['removeJobWorker'](_0x4a9235);}),this[_0x54cf2f(0x52d)][_0x54cf2f(0x57b)]((_0x5b665d,_0x55534d)=>{const _0x2d356d=_0x54cf2f;this[_0x2d356d(0x530)](_0x55534d);}),this['graphDatabases'][_0x54cf2f(0x57b)]((_0xeb2a7c,_0x40e262)=>{const _0x510db4=_0x54cf2f;this[_0x510db4(0x429)](_0x40e262);}));}[_0x2d5ee2(0x308)](_0x2577cb,_0xa55a8b){const _0x440cb8=_0x2d5ee2;if(this[_0x440cb8(0x217)][_0x440cb8(0x2b3)](_0x2577cb))throw new _0x21720d(_0x11ce35[_0x440cb8(0x6e2)],'Store\x20already\x20exists');const _0x32b573=new _0x5bab1b(this[_0x440cb8(0x3f0)]['localNode'],_0x2577cb,this[_0x440cb8(0x3f0)][_0x440cb8(0x2dd)],this['configs'][_0x440cb8(0x52a)],this[_0x440cb8(0x387)],_0xa55a8b,()=>this[_0x440cb8(0x3f0)][_0x440cb8(0x34c)][_0x440cb8(0x4f1)]());return this[_0x440cb8(0x217)]['set'](_0x2577cb,_0x32b573),this['configs']['mediator']['registerSystemSource'](_0x32b573),_0x32b573;}async[_0x2d5ee2(0x6fe)](_0x36658a,_0x4aac73,_0x54b9fa){const _0x4e62e2=_0x2d5ee2;if(this[_0x4e62e2(0x1ee)][_0x4e62e2(0x2b3)](_0x36658a))throw new _0x21720d(_0x11ce35[_0x4e62e2(0x1dc)],_0x4e62e2(0x212));try{const _0x33bebd=new _0x31de72(this[_0x4e62e2(0x3f0)][_0x4e62e2(0x5b9)],_0x36658a,this[_0x4e62e2(0x3f0)]['clusterId'],this['configs']['vendorId'],_0x4aac73,_0x54b9fa);return this['keyValueDatabases']['set'](_0x36658a,_0x33bebd),this[_0x4e62e2(0x3f0)][_0x4e62e2(0x34c)]['registerSystemSource'](_0x33bebd),_0x33bebd;}catch(_0xf63e06){if(_0xf63e06 instanceof _0x21720d)throw _0xf63e06;throw new _0x177832(_0x177832[_0x4e62e2(0x492)]['KeyValueDatabaseCreationFailed'],{'label':_0x36658a,'clusterId':this['configs'][_0x4e62e2(0x2dd)],'vendorId':this[_0x4e62e2(0x3f0)]['vendorId']});}}async[_0x2d5ee2(0x64b)](_0x463c02,_0x21736d){const _0x26c416=_0x2d5ee2;if(this[_0x26c416(0x14e)][_0x26c416(0x2b3)](_0x463c02))throw new _0x21720d(_0x11ce35[_0x26c416(0x29a)],_0x26c416(0x3de));try{const _0x596374=new _0x3def1a(this[_0x26c416(0x3f0)][_0x26c416(0x5b9)],_0x463c02,_0x21736d);return this[_0x26c416(0x14e)][_0x26c416(0x1d0)](_0x463c02,_0x596374),this[_0x26c416(0x3f0)][_0x26c416(0x34c)][_0x26c416(0x43b)](_0x596374),_0x596374;}catch(_0x2c3ab2){if(_0x2c3ab2 instanceof _0x21720d)throw _0x2c3ab2;throw new _0x177832(_0x177832[_0x26c416(0x492)][_0x26c416(0x11c)],{'label':_0x463c02,'clusterId':this[_0x26c416(0x3f0)][_0x26c416(0x2dd)],'vendorId':this[_0x26c416(0x3f0)][_0x26c416(0x52a)]});}}async[_0x2d5ee2(0x65d)](_0x1afffa,_0x5a636f,_0x1f044b){const _0x4228fe=_0x2d5ee2;if(this['jobWorkers']['has'](_0x1afffa))throw new _0x21720d(_0x11ce35[_0x4228fe(0x7ec)],_0x4228fe(0x4fb));try{const _0x2aa851=new _0x638db(this['configs'][_0x4228fe(0x5b9)],_0x1afffa,_0x5a636f,[_0x1f044b]);return this[_0x4228fe(0x1b5)][_0x4228fe(0x1d0)](_0x1afffa,_0x2aa851),this[_0x4228fe(0x3f0)]['mediator'][_0x4228fe(0x43b)](_0x2aa851),_0x2aa851;}catch(_0x25a387){if(_0x25a387 instanceof _0x21720d)throw _0x25a387;throw new _0x177832(_0x177832[_0x4228fe(0x492)][_0x4228fe(0xd5)],{'label':_0x1afffa,'clusterId':this[_0x4228fe(0x3f0)][_0x4228fe(0x2dd)],'vendorId':this['configs'][_0x4228fe(0x52a)]});}}async[_0x2d5ee2(0x291)](_0x1232ec,_0x352aa9){const _0x5d39eb=_0x2d5ee2;if(this['jobDispatchers'][_0x5d39eb(0x2b3)](_0x1232ec))throw new _0x21720d(_0x11ce35[_0x5d39eb(0x2ac)],'AI\x20Service\x20already\x20exists');if(this['jobWorkers'][_0x5d39eb(0x2b3)](_0x1232ec))throw new _0x21720d(_0x11ce35[_0x5d39eb(0x671)],_0x5d39eb(0x691));try{const _0x43659f=new _0x421534(this[_0x5d39eb(0x3f0)]['localNode'],_0x1232ec,this['configs'][_0x5d39eb(0x52a)],_0x352aa9);return this[_0x5d39eb(0x14e)]['set'](_0x1232ec,_0x43659f),this[_0x5d39eb(0x3f0)][_0x5d39eb(0x34c)][_0x5d39eb(0x43b)](_0x43659f),_0x43659f;}catch(_0x4265d0){if(_0x4265d0 instanceof _0x21720d)throw _0x4265d0;throw new _0x177832(_0x177832[_0x5d39eb(0x492)][_0x5d39eb(0x46a)],{'label':_0x1232ec,'clusterId':this['configs'][_0x5d39eb(0x2dd)],'vendorId':this[_0x5d39eb(0x3f0)][_0x5d39eb(0x52a)]});}}async[_0x2d5ee2(0x796)](_0x52811d,_0x1db537,_0x11db79,_0x426105,_0x108c4e,_0x1a4930){const _0x5269ca=_0x2d5ee2;if(this[_0x5269ca(0x1b5)][_0x5269ca(0x2b3)](_0x52811d))throw new _0x21720d(_0x11ce35[_0x5269ca(0x732)],_0x5269ca(0x411));if(this['jobDispatchers'][_0x5269ca(0x2b3)](_0x52811d))throw new _0x21720d(_0x11ce35['GenerativeAILabelConflict'],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x47e008=new _0x162c47(this['configs']['localNode'],_0x52811d,this[_0x5269ca(0x3f0)][_0x5269ca(0x52a)],_0x1db537,this,_0x11db79,_0x426105,_0x108c4e,this[_0x5269ca(0x6a7)],_0x1a4930);return this[_0x5269ca(0x1b5)]['set'](_0x52811d,_0x47e008),this['configs']['mediator'][_0x5269ca(0x43b)](_0x47e008),_0x47e008;}catch(_0x22f649){if(_0x22f649 instanceof _0x21720d)throw _0x22f649;throw new _0x177832(_0x177832[_0x5269ca(0x492)][_0x5269ca(0x5e8)],{'label':_0x52811d,'clusterId':this['configs'][_0x5269ca(0x2dd)],'vendorId':this[_0x5269ca(0x3f0)][_0x5269ca(0x52a)]});}}[_0x2d5ee2(0x417)](_0x2bd0c5,_0x3a3984){const _0x47e0ce=_0x2d5ee2;if(this['graphDatabases'][_0x47e0ce(0x2b3)](_0x2bd0c5))throw new _0x21720d(_0x11ce35['GraphDatabaseAlreadyExists'],_0x47e0ce(0x212));try{const _0x508e33=new _0x4458d0(this['configs'][_0x47e0ce(0x5b9)],_0x2bd0c5,this[_0x47e0ce(0x3f0)][_0x47e0ce(0x2dd)],_0x3a3984);return this['graphDatabases']['set'](_0x2bd0c5,_0x508e33),this[_0x47e0ce(0x3f0)][_0x47e0ce(0x34c)][_0x47e0ce(0x43b)](_0x508e33),_0x508e33;}catch(_0x46dc6c){if(_0x46dc6c instanceof _0x21720d)throw _0x46dc6c;throw new _0x177832(_0x177832['codes'][_0x47e0ce(0x6f3)],{'label':_0x2bd0c5,'clusterId':this['configs'][_0x47e0ce(0x2dd)],'vendorId':this[_0x47e0ce(0x3f0)]['vendorId']});}}[_0x2d5ee2(0x336)](_0x4780e2,_0x4641ae){const _0x698c09=_0x2d5ee2;if(this['localMediaStreams'][_0x698c09(0x2b3)](_0x4780e2))throw new _0x21720d(_0x11ce35['LocalMediaStreamAlreadyExists'],_0x698c09(0x6fb));if(!this[_0x698c09(0x845)][_0x698c09(0x242)])throw new _0x21720d(_0x11ce35[_0x698c09(0x752)],'AudioContext\x20is\x20not\x20available');const _0x507a1d=new _0xa8e8ee(this['configs'][_0x698c09(0x5b9)],_0x4780e2,_0x4641ae,this[_0x698c09(0x845)][_0x698c09(0x823)],this['options'][_0x698c09(0x242)],this['configs'][_0x698c09(0x2dd)]);return this[_0x698c09(0x116)][_0x698c09(0x1d0)](_0x4780e2,_0x507a1d),this[_0x698c09(0x3f0)][_0x698c09(0x34c)][_0x698c09(0x43b)](_0x507a1d),_0x507a1d[_0x698c09(0xef)](),_0x507a1d;}[_0x2d5ee2(0x787)](_0x588304,_0xf6e49e){const _0x41d71f=_0x2d5ee2;if(this['localMediaStreams'][_0x41d71f(0x2b3)](_0x588304))throw new _0x21720d(_0x11ce35[_0x41d71f(0x6fc)],_0x41d71f(0x1fe));const _0x2bfde6=new _0x5714cf(this[_0x41d71f(0x3f0)][_0x41d71f(0x5b9)],_0x588304,_0xf6e49e,this[_0x41d71f(0x3f0)]['clusterId']);return this[_0x41d71f(0x116)]['set'](_0x588304,_0x2bfde6),this[_0x41d71f(0x3f0)][_0x41d71f(0x34c)][_0x41d71f(0x43b)](_0x2bfde6),_0x2bfde6['publish'](),_0x2bfde6;}['createPubSubTopic'](_0x45d74e){const _0x270829=_0x2d5ee2;if(this['pubSubTopics']['has'](_0x45d74e))throw new _0x21720d(_0x11ce35[_0x270829(0x64f)],_0x270829(0x154));const _0x5a90fd=new _0x4e0f9d(this[_0x270829(0x3f0)][_0x270829(0x5b9)],_0x45d74e,this[_0x270829(0x3f0)][_0x270829(0x2dd)]);return this[_0x270829(0x5ec)][_0x270829(0x1d0)](_0x45d74e,_0x5a90fd),this[_0x270829(0x3f0)][_0x270829(0x34c)][_0x270829(0x43b)](_0x5a90fd),_0x5a90fd;}['createRemoteMediaStream'](_0xf6296d,_0x4a87b3,_0x50d1c1,_0x31d9e5){const _0x1d5a2c=_0x2d5ee2;this['remoteMediaStreams'][_0x1d5a2c(0x2b3)](_0xf6296d)||this[_0x1d5a2c(0x580)]['set'](_0xf6296d,new Map());const _0x26285f=this[_0x1d5a2c(0x580)][_0x1d5a2c(0x548)](_0xf6296d);if(_0x26285f[_0x1d5a2c(0x2b3)](_0x4a87b3))throw new _0x21720d(_0x11ce35[_0x1d5a2c(0x339)],'Remote\x20MediaStream\x20already\x20exists');const _0x18e270=new _0x29791d(_0xf6296d,'',''),_0x4c0581=new _0x425c0b(this[_0x1d5a2c(0x3f0)][_0x1d5a2c(0x5b9)],_0x18e270,_0x4a87b3,_0x50d1c1,_0x31d9e5,this[_0x1d5a2c(0x3f0)]['clusterId']);return _0x26285f[_0x1d5a2c(0x1d0)](_0x4a87b3,_0x4c0581),this[_0x1d5a2c(0x3f0)][_0x1d5a2c(0x34c)]['registerSystemSource'](_0x4c0581),_0x4c0581;}[_0x2d5ee2(0x388)](_0x439193,_0x3604e6){const _0x493f14=_0x2d5ee2;if(this[_0x493f14(0x52d)][_0x493f14(0x2b3)](_0x439193))throw new _0x21720d(_0x11ce35[_0x493f14(0xe5)],_0x493f14(0x212));try{const _0x528451=new _0x4a713b(this[_0x493f14(0x3f0)]['localNode'],_0x439193,this[_0x493f14(0x3f0)]['clusterId'],_0x3604e6);return this['vectorDatabases'][_0x493f14(0x1d0)](_0x439193,_0x528451),this[_0x493f14(0x3f0)][_0x493f14(0x34c)][_0x493f14(0x43b)](_0x528451),_0x528451;}catch(_0x3e41e4){if(_0x3e41e4 instanceof _0x21720d)throw _0x3e41e4;throw new _0x177832(_0x177832[_0x493f14(0x492)]['VectorDatabaseCreationFailed'],{'label':_0x439193,'clusterId':this['configs'][_0x493f14(0x2dd)],'vendorId':this['configs']['vendorId']});}}[_0x2d5ee2(0x76c)](_0x1b6d48){const _0x409448=_0x2d5ee2,_0x4fb316=Array[_0x409448(0x81b)](this[_0x409448(0x217)][_0x409448(0x2fd)]());return _0x1b6d48?_0x4fb316[_0x409448(0x2e4)](_0x1b6d48):_0x4fb316;}[_0x2d5ee2(0x653)](_0x182e30){const _0x357cac=_0x2d5ee2,_0x4c926d=Array[_0x357cac(0x81b)](this['keyValueDatabases']['values']());return _0x182e30?_0x4c926d[_0x357cac(0x2e4)](_0x182e30):_0x4c926d;}[_0x2d5ee2(0x559)](_0x2eb4b3){const _0x319515=_0x2d5ee2,_0x539be7=Array[_0x319515(0x81b)](this[_0x319515(0x14e)][_0x319515(0x2fd)]());return _0x2eb4b3?_0x539be7[_0x319515(0x2e4)](_0x2eb4b3):_0x539be7;}[_0x2d5ee2(0x557)](_0x5b9b53){const _0x333a91=_0x2d5ee2,_0x4860a8=Array[_0x333a91(0x81b)](this[_0x333a91(0x1b5)][_0x333a91(0x2fd)]());return _0x5b9b53?_0x4860a8[_0x333a91(0x2e4)](_0x5b9b53):_0x4860a8;}[_0x2d5ee2(0x525)](_0x15a718){const _0x337160=_0x2d5ee2,_0x59fb19=Array[_0x337160(0x81b)](this[_0x337160(0x14e)]['values']())[_0x337160(0x2e4)](_0x9081a7=>_0x9081a7 instanceof _0x421534);return _0x15a718?_0x59fb19[_0x337160(0x2e4)](_0x15a718):_0x59fb19;}[_0x2d5ee2(0x3fa)](_0x580deb){const _0x2914af=_0x2d5ee2,_0x1adbb0=Array['from'](this[_0x2914af(0x1b5)][_0x2914af(0x2fd)]())[_0x2914af(0x2e4)](_0x2487f9=>_0x2487f9 instanceof _0x162c47);return _0x580deb?_0x1adbb0['filter'](_0x580deb):_0x1adbb0;}[_0x2d5ee2(0x285)](_0x581b2a){const _0x220240=_0x2d5ee2,_0x89b4db=Array['from'](this[_0x220240(0x340)][_0x220240(0x2fd)]());return _0x581b2a?_0x89b4db['filter'](_0x581b2a):_0x89b4db;}[_0x2d5ee2(0x31b)](_0x225e8f){const _0x4d5590=_0x2d5ee2,_0x3bd610=Array['from'](this[_0x4d5590(0x116)][_0x4d5590(0x2fd)]());return _0x225e8f?_0x3bd610[_0x4d5590(0x2e4)](_0x225e8f):_0x3bd610;}[_0x2d5ee2(0x415)](_0x38e540){const _0x3a7ca7=_0x2d5ee2,_0x3177af=Array['from'](this[_0x3a7ca7(0x5ec)][_0x3a7ca7(0x2fd)]());return _0x38e540?_0x3177af['filter'](_0x38e540):_0x3177af;}[_0x2d5ee2(0x137)](_0x5539a7){const _0x54ab1a=_0x2d5ee2,_0x157559=Array[_0x54ab1a(0x81b)](this[_0x54ab1a(0x580)]['values']())[_0x54ab1a(0x488)]((_0x569792,_0x236396)=>[..._0x569792,...Array[_0x54ab1a(0x81b)](_0x236396[_0x54ab1a(0x2fd)]())],[]);return _0x5539a7?_0x157559[_0x54ab1a(0x2e4)](_0x5539a7):_0x157559;}[_0x2d5ee2(0x515)](_0x4cc22f){const _0x849487=_0x2d5ee2,_0x5d0148=Array[_0x849487(0x81b)](this[_0x849487(0x52d)][_0x849487(0x2fd)]());return _0x4cc22f?_0x5d0148[_0x849487(0x2e4)](_0x4cc22f):_0x5d0148;}['getObjectStoreBucket'](_0xa70eeb){const _0x31f9a2=_0x2d5ee2,_0x39bf3f=this['objectStores']['get'](_0xa70eeb);if(!_0x39bf3f)throw new _0x21720d(_0x11ce35[_0x31f9a2(0x40b)],_0x31f9a2(0x6be));return _0x39bf3f;}['getGraphDatabase'](_0xf0dcbd){const _0x2390bb=_0x2d5ee2,_0x355bf9=this[_0x2390bb(0x340)][_0x2390bb(0x548)](_0xf0dcbd);if(!_0x355bf9)throw new _0x21720d(_0x11ce35[_0x2390bb(0x76d)],'GraphDatabase\x20not\x20found');return _0x355bf9;}['getKeyValueDatabase'](_0x7c9517){const _0x54da8b=_0x2d5ee2,_0xa9ef2e=this[_0x54da8b(0x1ee)][_0x54da8b(0x548)](_0x7c9517);if(!_0xa9ef2e)throw new _0x21720d(_0x11ce35[_0x54da8b(0x105)],_0x54da8b(0x770));return _0xa9ef2e;}[_0x2d5ee2(0x638)](_0x563c44){const _0xa80385=_0x2d5ee2,_0x8c71e3=this['pubSubTopics'][_0xa80385(0x548)](_0x563c44);if(!_0x8c71e3)throw new _0x21720d(_0x11ce35['PubSubTopicDoesNotExist'],'PubSubTopic\x20not\x20found');return _0x8c71e3;}[_0x2d5ee2(0x6d0)](_0x3f36aa){const _0xcf2f7a=_0x2d5ee2,_0x6c451b=this[_0xcf2f7a(0x52d)][_0xcf2f7a(0x548)](_0x3f36aa);if(!_0x6c451b)throw new _0x21720d(_0x11ce35[_0xcf2f7a(0x4e5)],_0xcf2f7a(0x1cc));return _0x6c451b;}[_0x2d5ee2(0x305)](_0x48774a){const _0x4e7cbe=_0x2d5ee2;switch(_0x48774a['content'][_0x4e7cbe(0x2f5)]){case _0xdecfb9[_0x4e7cbe(0x584)]:this['handlePublishMediaStream'](_0x48774a[_0x4e7cbe(0x262)]);break;case _0xdecfb9[_0x4e7cbe(0x5c1)]:this[_0x4e7cbe(0x1a5)](_0x48774a[_0x4e7cbe(0x262)]);break;case _0xdecfb9[_0x4e7cbe(0x5d0)]:this[_0x4e7cbe(0x74d)](_0x48774a[_0x4e7cbe(0x262)]['label']);break;case _0xdecfb9[_0x4e7cbe(0x78d)]:this['removeJobWorker'](_0x48774a[_0x4e7cbe(0x262)][_0x4e7cbe(0x5a5)]);break;case _0xdecfb9[_0x4e7cbe(0x67e)]:this[_0x4e7cbe(0x531)](_0x48774a['content'][_0x4e7cbe(0x5a5)]);break;case _0xdecfb9[_0x4e7cbe(0x3e1)]:this[_0x4e7cbe(0x5e5)](_0x48774a[_0x4e7cbe(0x262)][_0x4e7cbe(0x5a5)]);break;case _0xdecfb9[_0x4e7cbe(0x704)]:this['removeObjectStore'](_0x48774a[_0x4e7cbe(0x262)]['label']);break;case _0xdecfb9[_0x4e7cbe(0x1b7)]:this[_0x4e7cbe(0x79f)](_0x48774a['content']['label']);break;case _0xdecfb9[_0x4e7cbe(0x66e)]:this[_0x4e7cbe(0x530)](_0x48774a[_0x4e7cbe(0x262)][_0x4e7cbe(0x5a5)]);break;case _0xdecfb9[_0x4e7cbe(0x2eb)]:this['removeGraphDatabase'](_0x48774a['content'][_0x4e7cbe(0x5a5)]);break;case _0xdecfb9[_0x4e7cbe(0x501)]:this[_0x4e7cbe(0x4e8)](_0x48774a['content']);break;case _0xdecfb9[_0x4e7cbe(0x26b)]:this[_0x4e7cbe(0x1ee)][_0x4e7cbe(0x548)](_0x48774a[_0x4e7cbe(0x262)]['label'])?.['sendTransactionsDump'](_0x48774a[_0x4e7cbe(0x51e)]);break;case _0xdecfb9[_0x4e7cbe(0x62a)]:this[_0x4e7cbe(0x1ee)][_0x4e7cbe(0x548)](_0x48774a[_0x4e7cbe(0x262)][_0x4e7cbe(0x5a5)])?.[_0x4e7cbe(0x2b2)](_0x48774a[_0x4e7cbe(0x51e)],_0x48774a[_0x4e7cbe(0x262)][_0x4e7cbe(0x5c6)]);break;case _0xdecfb9[_0x4e7cbe(0x659)]:this['keyValueDatabases'][_0x4e7cbe(0x548)](_0x48774a[_0x4e7cbe(0x262)]['label'])?.[_0x4e7cbe(0x69d)](_0x48774a['sourceId'],_0x48774a['content'][_0x4e7cbe(0x270)]);break;case _0xdecfb9[_0x4e7cbe(0x7c0)]:this[_0x4e7cbe(0x3f0)][_0x4e7cbe(0x34c)][_0x4e7cbe(0x385)](_0x4e7cbe(0x1c5),{'label':_0x48774a[_0x4e7cbe(0x262)][_0x4e7cbe(0x5a5)],'trackKinds':_0x48774a['content']['trackKinds']});}}['handleNodeSystemEvents']({content:_0x479e69}){const _0x14b4ac=_0x2d5ee2;switch(_0x479e69[_0x14b4ac(0x2f5)]){case _0x3ace80[_0x14b4ac(0xf9)]:this[_0x14b4ac(0x839)](_0x479e69),this['notifyObjectStoreOfNodeJoin'](_0x479e69);break;case _0x3ace80[_0x14b4ac(0x5f0)]:this[_0x14b4ac(0x1f6)](_0x479e69),this['notifyObjectStoreOfNodeLeave'](_0x479e69);}}['handleSubscriptionSystemEvents'](_0xe09361){const _0x22ffce=_0x2d5ee2;switch(_0xe09361[_0x22ffce(0x262)][_0x22ffce(0x2f5)]){case _0x119828['SubscribeMediaStream']:this[_0x22ffce(0x84e)](_0xe09361[_0x22ffce(0x51e)],_0xe09361['content']);break;case _0x119828[_0x22ffce(0x9c)]:this['handleUpdateMediaStream'](_0xe09361[_0x22ffce(0x51e)],_0xe09361[_0x22ffce(0x262)]);break;case _0x119828[_0x22ffce(0x501)]:this['handleUnsubscribeMediaStream'](_0xe09361[_0x22ffce(0x51e)],_0xe09361[_0x22ffce(0x262)]);}}[_0x2d5ee2(0x4e8)](_0x2f5711){const _0x414b44=_0x2d5ee2;if(0x0===_0x2f5711[_0x414b44(0x240)])this['remoteMediaStreams'][_0x414b44(0x548)](_0x2f5711[_0x414b44(0x45d)])?.[_0x414b44(0x548)](_0x2f5711['label'])?.[_0x414b44(0x3d9)]();else{const _0x2208dd=this[_0x414b44(0x580)][_0x414b44(0x548)](_0x2f5711['ownerId'])?.[_0x414b44(0x548)](_0x2f5711[_0x414b44(0x5a5)]);if(!_0x2208dd)return;_0x2f5711[_0x414b44(0x5c0)][_0x414b44(0x57b)](_0x1f461d=>_0x2208dd[_0x414b44(0x33d)](_0x1f461d));}}['handlePublishMediaStream'](_0x272942){const _0x343ea5=_0x2d5ee2,{label:_0x49cf3e,ownerId:_0x33f960,stream:{streamId:_0x2c7496,availableTrackKinds:_0x1f24fd}}=_0x272942;if(this[_0x343ea5(0x580)][_0x343ea5(0x548)](_0x33f960)?.[_0x343ea5(0x2b3)](_0x49cf3e))return void _0x4b7920[_0x343ea5(0x5f9)](_0x27d952[_0x343ea5(0x2f6)],_0x343ea5(0x1fe),_0x2c7496);const _0x435d4a=this[_0x343ea5(0x20d)](_0x33f960,_0x49cf3e,_0x2c7496,_0x1f24fd);this['configs'][_0x343ea5(0x34c)][_0x343ea5(0x385)](_0x343ea5(0x1ab),{'ownerId':_0x33f960,'stream':_0x435d4a});}['handleUnpublishMediaStream']({ownerId:_0x3edde7,label:_0x155eaa}){const _0x136d3e=_0x2d5ee2;this[_0x136d3e(0x6b4)](_0x3edde7,_0x155eaa),this[_0x136d3e(0x3f0)][_0x136d3e(0x34c)]['notifyCluster']('content-unpublish-media',{'ownerId':_0x3edde7,'label':_0x155eaa});}[_0x2d5ee2(0x84e)](_0x5b9fd3,_0x55c52b){const _0x3f1d4a=_0x2d5ee2,{ownerId:_0x18b13e,label:_0x53156d}=_0x55c52b;let _0x1557ed;_0x1557ed=_0x18b13e!==this[_0x3f1d4a(0x3f0)][_0x3f1d4a(0x5b9)]['getId']()?this['remoteMediaStreams'][_0x3f1d4a(0x548)](_0x18b13e)['get'](_0x53156d):this[_0x3f1d4a(0x116)][_0x3f1d4a(0x548)](_0x53156d),_0x1557ed[_0x3f1d4a(0x86c)](_0x5b9fd3,_0x55c52b[_0x3f1d4a(0x306)])[_0x3f1d4a(0x21a)](_0x55c52b,_0x1557ed['getPriority']());}[_0x2d5ee2(0x133)](_0x5ce05f,_0x413ba9){const _0x27c61a=_0x2d5ee2,{ownerId:_0x20b88d,label:_0x55241e}=_0x413ba9;let _0x3ce54d;_0x3ce54d=_0x20b88d!==this['configs'][_0x27c61a(0x5b9)][_0x27c61a(0x7bf)]()?this[_0x27c61a(0x580)][_0x27c61a(0x548)](_0x20b88d)[_0x27c61a(0x548)](_0x55241e):this[_0x27c61a(0x116)][_0x27c61a(0x548)](_0x55241e),_0x3ce54d[_0x27c61a(0x86c)](_0x5ce05f,_0x413ba9[_0x27c61a(0x306)])['update'](_0x413ba9);}[_0x2d5ee2(0xc8)](_0x29780f,_0x5a3f54){const _0xe7842b=_0x2d5ee2,{ownerId:_0x22eed7,label:_0x33b589}=_0x5a3f54;let _0x2d1347;_0x2d1347=_0x22eed7!==this[_0xe7842b(0x3f0)]['localNode'][_0xe7842b(0x7bf)]()?this[_0xe7842b(0x580)]['get'](_0x22eed7)[_0xe7842b(0x548)](_0x33b589):this['localMediaStreams'][_0xe7842b(0x548)](_0x33b589),_0x2d1347['getShareableStream'](_0x29780f)[_0xe7842b(0x5ee)](_0x5a3f54);}[_0x2d5ee2(0x839)]({id:_0x17c835}){const _0xe97eb5=_0x2d5ee2;this[_0xe97eb5(0x31b)]()['forEach'](_0x297e48=>{const _0x3e6939=_0xe97eb5;_0x297e48[_0x3e6939(0xef)](_0x17c835);});}['handleNodeLeave']({id:_0xc5f828}){const _0x205e31=_0x2d5ee2;this['getRemoteMediaStreams'](_0x370a1b=>_0x370a1b[_0x205e31(0x3f9)]()===_0xc5f828)['forEach'](_0x420a76=>{const _0x377cd0=_0x205e31;this[_0x377cd0(0x6b4)](_0x420a76['getOwnerId'](),_0x420a76['getLabel']());});}[_0x2d5ee2(0x83e)]({id:_0x29589f}){this['objectStores']['forEach'](_0x289af9=>_0x289af9['handleNodeJoin'](_0x29589f));}[_0x2d5ee2(0x1b9)]({id:_0x5ea1d4}){const _0x22842e=_0x2d5ee2;this['objectStores'][_0x22842e(0x57b)](_0x199f69=>_0x199f69[_0x22842e(0x1f6)](_0x5ea1d4));}[_0x2d5ee2(0x74d)](_0x47a9bd){const _0x73dcb7=_0x2d5ee2;if(!this[_0x73dcb7(0x14e)][_0x73dcb7(0x2b3)](_0x47a9bd))throw new _0x21720d(_0x11ce35[_0x73dcb7(0x4fc)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x32cd95=this[_0x73dcb7(0x14e)]['get'](_0x47a9bd);this[_0x73dcb7(0x14e)][_0x73dcb7(0x201)](_0x47a9bd),_0x32cd95[_0x73dcb7(0x3d9)](),this[_0x73dcb7(0x3f0)]['mediator'][_0x73dcb7(0x573)](_0x32cd95);}[_0x2d5ee2(0x15e)](_0x2cbe19){const _0x49735d=_0x2d5ee2;if(!this[_0x49735d(0x1b5)][_0x49735d(0x2b3)](_0x2cbe19))throw new _0x21720d(_0x11ce35[_0x49735d(0x49b)],_0x49735d(0x6c6));const _0x5b544c=this[_0x49735d(0x1b5)][_0x49735d(0x548)](_0x2cbe19);this[_0x49735d(0x1b5)][_0x49735d(0x201)](_0x2cbe19),_0x5b544c['destroy'](),this['configs'][_0x49735d(0x34c)][_0x49735d(0x573)](_0x5b544c);}[_0x2d5ee2(0x498)](_0x251bdb){const _0x5c0606=_0x2d5ee2;if(!this[_0x5c0606(0x217)]['has'](_0x251bdb))throw new _0x21720d(_0x11ce35['ObjectStoreDoesNotExist'],'Stream\x20does\x20not\x20exist');const _0x567456=this['objectStores'][_0x5c0606(0x548)](_0x251bdb);this[_0x5c0606(0x217)][_0x5c0606(0x201)](_0x251bdb),_0x567456[_0x5c0606(0x3d9)](),this[_0x5c0606(0x3f0)][_0x5c0606(0x34c)]['unregisterSystemSource'](_0x567456);}[_0x2d5ee2(0x5e5)](_0x2d2a23){const _0x44988d=_0x2d5ee2;if(!this[_0x44988d(0x5ec)][_0x44988d(0x2b3)](_0x2d2a23))throw new _0x21720d(_0x11ce35['PubSubTopicDoesNotExist'],_0x44988d(0x5ce));const _0xef9f67=this[_0x44988d(0x5ec)]['get'](_0x2d2a23);this[_0x44988d(0x5ec)][_0x44988d(0x201)](_0x2d2a23),_0xef9f67[_0x44988d(0x3d9)](),this['configs']['mediator'][_0x44988d(0x573)](_0xef9f67);}[_0x2d5ee2(0x79f)](_0x1942e4){const _0x337943=_0x2d5ee2;if(!this[_0x337943(0x1ee)][_0x337943(0x2b3)](_0x1942e4))throw new _0x21720d(_0x11ce35[_0x337943(0x105)],_0x337943(0x683));const _0xa63b08=this[_0x337943(0x1ee)]['get'](_0x1942e4);this[_0x337943(0x1ee)][_0x337943(0x201)](_0x1942e4),_0xa63b08[_0x337943(0x3d9)](),this['configs'][_0x337943(0x34c)]['unregisterSystemSource'](_0xa63b08);}['removeVectorDatabase'](_0x1ac16f){const _0x5c7c82=_0x2d5ee2;if(!this[_0x5c7c82(0x52d)][_0x5c7c82(0x2b3)](_0x1ac16f))throw new _0x21720d(_0x11ce35[_0x5c7c82(0x4e5)],_0x5c7c82(0x683));const _0x192a01=this[_0x5c7c82(0x52d)]['get'](_0x1ac16f);this[_0x5c7c82(0x52d)][_0x5c7c82(0x201)](_0x1ac16f),_0x192a01[_0x5c7c82(0x3d9)](),this[_0x5c7c82(0x3f0)][_0x5c7c82(0x34c)][_0x5c7c82(0x573)](_0x192a01);}[_0x2d5ee2(0x429)](_0x4bc3c6){const _0x56a51d=_0x2d5ee2;if(!this[_0x56a51d(0x340)][_0x56a51d(0x2b3)](_0x4bc3c6))throw new _0x21720d(_0x11ce35[_0x56a51d(0x76d)],_0x56a51d(0x683));const _0x35e719=this['graphDatabases'][_0x56a51d(0x548)](_0x4bc3c6);this[_0x56a51d(0x340)][_0x56a51d(0x201)](_0x4bc3c6),_0x35e719[_0x56a51d(0x3d9)](),this['configs'][_0x56a51d(0x34c)]['unregisterSystemSource'](_0x35e719);}[_0x2d5ee2(0x531)](_0xf3df17){const _0x5bbe35=_0x2d5ee2;if(!this['localMediaStreams'][_0x5bbe35(0x2b3)](_0xf3df17))throw new _0x177832(_0x177832[_0x5bbe35(0x492)][_0x5bbe35(0x292)],{'label':_0xf3df17,'localId':this[_0x5bbe35(0x3f0)][_0x5bbe35(0x5b9)][_0x5bbe35(0x7bf)]()});const _0x535532=this['localMediaStreams']['get'](_0xf3df17);this[_0x5bbe35(0x3f0)][_0x5bbe35(0x34c)][_0x5bbe35(0x573)](_0x535532),_0x535532[_0x5bbe35(0x3d9)](),this[_0x5bbe35(0x116)][_0x5bbe35(0x201)](_0xf3df17);}[_0x2d5ee2(0x6b4)](_0x37fd87,_0x343b80){const _0x287787=_0x2d5ee2;if(!this[_0x287787(0x580)][_0x287787(0x2b3)](_0x37fd87))throw new _0x177832(_0x177832['codes'][_0x287787(0x4d5)],{'nodeId':_0x37fd87,'localId':this[_0x287787(0x3f0)][_0x287787(0x5b9)][_0x287787(0x7bf)]()});const _0xdf7fe5=this[_0x287787(0x580)][_0x287787(0x548)](_0x37fd87);if(!_0xdf7fe5['has'](_0x343b80))throw new _0x177832(_0x177832[_0x287787(0x492)][_0x287787(0x7ab)],{'nodeId':_0x37fd87,'label':_0x343b80,'localId':this['configs'][_0x287787(0x5b9)][_0x287787(0x7bf)]()});const _0x268e72=_0xdf7fe5[_0x287787(0x548)](_0x343b80);this[_0x287787(0x3f0)][_0x287787(0x34c)][_0x287787(0x573)](_0x268e72),_0x268e72[_0x287787(0x3d9)](),_0xdf7fe5[_0x287787(0x201)](_0x343b80);}}var _0x141b56,_0x4feb70,_0x39eae4;!function(_0x870334){const _0x191963=_0x2d5ee2;_0x870334[_0x191963(0x326)]=_0x191963(0x7dc),_0x870334[_0x191963(0x454)]=_0x191963(0x4e3),_0x870334[_0x191963(0x7e9)]=_0x191963(0x466),_0x870334[_0x191963(0x535)]=_0x191963(0x38c),_0x870334['Jitter']=_0x191963(0x82e),_0x870334[_0x191963(0x6a0)]='fps',_0x870334[_0x191963(0xfa)]=_0x191963(0x3b3),_0x870334[_0x191963(0xca)]=_0x191963(0x396);}(_0x141b56||(_0x141b56={})),function(_0x51fe97){const _0x1ad9a3=_0x2d5ee2;_0x51fe97[_0x1ad9a3(0x314)]=_0x1ad9a3(0x37d),_0x51fe97[_0x1ad9a3(0x7e9)]='cpu.time_per_frame',_0x51fe97[_0x1ad9a3(0xca)]=_0x1ad9a3(0x36f),_0x51fe97[_0x1ad9a3(0x6a0)]=_0x1ad9a3(0x702),_0x51fe97['Bitrate']=_0x1ad9a3(0x680),_0x51fe97[_0x1ad9a3(0x36d)]='bandwidth.jitter',_0x51fe97[_0x1ad9a3(0xfa)]=_0x1ad9a3(0x106);}(_0x4feb70||(_0x4feb70={})),function(_0xb0f0bd){const _0x869635=_0x2d5ee2;_0xb0f0bd[_0xb0f0bd[_0x869635(0x4f4)]=0x0]=_0x869635(0x4f4);}(_0x39eae4||(_0x39eae4={}));const _0x1795e2=[{'type':_0x141b56[_0x2d5ee2(0x326)],'reportMetric':_0x2be8d4=>_0x2be8d4['STVolatility'],'maxThreshold':2.5},{'type':_0x141b56[_0x2d5ee2(0x454)],'reportMetric':_0x17131=>_0x17131[_0x2d5ee2(0x454)],'maxThreshold':0.5}],_0x5034f0=[{'type':_0x141b56[_0x2d5ee2(0x7e9)],'reportMetric':_0x43c86d=>{const _0x2e5d47=_0x2d5ee2,_0x31e12c=0x3e8/_0x43c86d['FPS'];return _0x43c86d[_0x2e5d47(0x627)]/_0x31e12c;},'maxThreshold':0.75},{'type':_0x141b56[_0x2d5ee2(0x535)],'reportMetric':_0x56e0d5=>{const _0x285f25=_0x2d5ee2,_0x4e1736=_0x56e0d5[_0x285f25(0x648)]*_0x56e0d5['frameWidth']*_0x56e0d5[_0x285f25(0x80d)]*0.12;return _0x56e0d5['bitrate']/_0x4e1736;},'minThreshold':0.25},{'type':_0x141b56[_0x2d5ee2(0x36d)],'reportMetric':_0x4c9bf9=>_0x4c9bf9[_0x2d5ee2(0x82e)],'maxThreshold':0.6},{'type':_0x141b56[_0x2d5ee2(0x6a0)],'reportMetric':_0x122b52=>_0x122b52[_0x2d5ee2(0x648)],'minThreshold':0xa}],_0x4520ee=[{'type':_0x141b56[_0x2d5ee2(0x36d)],'reportMetric':_0x1e73bb=>_0x1e73bb[_0x2d5ee2(0x82e)],'maxThreshold':0.6}],_0x2499cb=[{'type':_0x141b56['RoundTripTime'],'reportMetric':_0x2fae66=>_0x2fae66[_0x2d5ee2(0x5d6)],'maxThreshold':0x1/0x0}],_0x565e1f=[{'type':_0x141b56[_0x2d5ee2(0xca)],'reportMetric':_0x212260=>_0x212260[_0x2d5ee2(0xca)],'maxThreshold':0x12c}],_0x1cdf9d=[{'type':_0x4feb70[_0x2d5ee2(0x314)],'issues':[{'type':_0x141b56[_0x2d5ee2(0x326)],'threshold':0x5},{'type':_0x141b56['DTVolatility'],'threshold':0x5}]},{'type':_0x4feb70[_0x2d5ee2(0x7e9)],'issues':[{'type':_0x141b56[_0x2d5ee2(0x7e9)],'threshold':0x3}]},{'type':_0x4feb70[_0x2d5ee2(0xca)],'issues':[{'type':_0x141b56[_0x2d5ee2(0xca)],'threshold':0x2}]},{'type':_0x4feb70[_0x2d5ee2(0x6a0)],'issues':[{'type':_0x141b56['FramePerSecond'],'threshold':0x3}]},{'type':_0x4feb70[_0x2d5ee2(0x535)],'issues':[{'type':_0x141b56[_0x2d5ee2(0x535)],'threshold':0x3}]},{'type':_0x4feb70[_0x2d5ee2(0x36d)],'issues':[{'type':_0x141b56[_0x2d5ee2(0x36d)],'threshold':0x3}]},{'type':_0x4feb70[_0x2d5ee2(0xfa)],'issues':[{'type':_0x141b56[_0x2d5ee2(0xfa)],'threshold':0x3}]}];var _0x116d42,_0x18c3e3;!function(_0x2e2624){const _0x311832=_0x2d5ee2;_0x2e2624[_0x2e2624['StreamReport']=0x0]=_0x311832(0x419),_0x2e2624[_0x2e2624[_0x311832(0x503)]=0x1]=_0x311832(0x503);}(_0x116d42||(_0x116d42={}));class _0x5a7f2f{['configs'];[_0x2d5ee2(0x776)]=[];[_0x2d5ee2(0x319)];constructor(_0x35b0ab){const _0x2dbe9f=_0x2d5ee2;this[_0x2dbe9f(0x3f0)]=_0x35b0ab,this['configs'][_0x2dbe9f(0x34c)][_0x2dbe9f(0x43b)](this);}['registerSystemPublisher'](_0x349cd5){const _0x13a468=_0x2d5ee2;this[_0x13a468(0x319)]=_0x349cd5;}[_0x2d5ee2(0x824)](){const _0x13858b=_0x2d5ee2;this[_0x13858b(0x319)]=void 0x0;}[_0x2d5ee2(0x582)](){const _0x2bf4e0=_0x2d5ee2;this['configs'][_0x2bf4e0(0x34c)]['unregisterSystemSource'](this),this['issues']=[];}[_0x2d5ee2(0x1ce)](_0x410970){const _0x506656=_0x2d5ee2;switch(_0x410970[_0x506656(0x262)][_0x506656(0x2f5)]){case _0x116d42[_0x506656(0x503)]:this[_0x506656(0x1fd)](_0x410970[_0x506656(0x262)][_0x506656(0x252)]);break;case _0x116d42[_0x506656(0x419)]:this[_0x506656(0x189)](_0x410970['content'][_0x506656(0x252)]);}}[_0x2d5ee2(0x128)](_0x16e723,_0x385738,_0x5dc619,_0x2666af){const _0x4f9347=_0x2d5ee2,_0x2fe2e8=_0x1cdf9d[_0x4f9347(0x76e)](_0x5c682b=>_0x5c682b[_0x4f9347(0x776)][_0x4f9347(0x32b)](_0x527599=>_0x527599['type']===_0x16e723));_0x2666af>=_0x2fe2e8[_0x4f9347(0x776)]['find'](_0x4d2e81=>_0x4d2e81[_0x4f9347(0x2f5)]===_0x16e723)[_0x4f9347(0x7a1)]&&(this[_0x4f9347(0x27d)](_0x2fe2e8[_0x4f9347(0x2f5)],_0x385738,_0x5dc619),this[_0x4f9347(0x776)]=this['issues']['filter'](_0x9209d7=>!(_0x9209d7[_0x4f9347(0x2f5)]===_0x16e723&&_0x9209d7[_0x4f9347(0x858)]===_0x385738&&_0x9209d7[_0x4f9347(0x2ad)]===_0x5dc619)));}['detectLocalIssues'](_0x7c4bd3){const _0x30adba=_0x2d5ee2;_0x1795e2[_0x30adba(0x57b)](_0x14f76e=>{const _0x16d7a1=_0x30adba,_0x127414=_0x14f76e[_0x16d7a1(0x79c)](_0x7c4bd3);_0x14f76e[_0x16d7a1(0x740)]&&_0x127414>_0x14f76e['maxThreshold']&&this[_0x16d7a1(0x243)](_0x14f76e['type'],this[_0x16d7a1(0x3f0)][_0x16d7a1(0x5b9)][_0x16d7a1(0x7bf)](),_0xf7c085[_0x16d7a1(0x5c4)],_0x127414),_0x14f76e[_0x16d7a1(0x12e)]&&_0x127414<_0x14f76e[_0x16d7a1(0x12e)]&&this[_0x16d7a1(0x243)](_0x14f76e['type'],this[_0x16d7a1(0x3f0)][_0x16d7a1(0x5b9)]['getId'](),_0xf7c085[_0x16d7a1(0x5c4)],_0x127414);});}[_0x2d5ee2(0x189)](_0x22de7d){const _0x4478f1=_0x2d5ee2;let _0x3bc3c3=[];switch(_0x22de7d[_0x4478f1(0x2ad)]){case _0xf7c085[_0x4478f1(0x5c4)]:_0x3bc3c3=_0x2499cb;break;case _0xf7c085['Receiver']:_0x3bc3c3=_0x565e1f;}_0x22de7d[_0x4478f1(0x849)]&&this[_0x4478f1(0x69b)](_0x22de7d['nodeId'],_0xf7c085[_0x4478f1(0x5c4)],_0x22de7d[_0x4478f1(0x849)]),_0x22de7d[_0x4478f1(0x23e)]&&this[_0x4478f1(0x379)](_0x22de7d[_0x4478f1(0x858)],_0xf7c085[_0x4478f1(0x5c4)],_0x22de7d[_0x4478f1(0x23e)]),_0x3bc3c3[_0x4478f1(0x57b)](_0x343a56=>{const _0x247ddf=_0x4478f1,_0x20c0da=_0x343a56['reportMetric'](_0x22de7d);_0x343a56[_0x247ddf(0x740)]&&_0x20c0da>_0x343a56['maxThreshold']&&this[_0x247ddf(0x243)](_0x343a56[_0x247ddf(0x2f5)],_0x22de7d['nodeId'],_0xf7c085['Sender'],_0x20c0da),_0x343a56[_0x247ddf(0x12e)]&&_0x20c0da<_0x343a56[_0x247ddf(0x12e)]&&this[_0x247ddf(0x243)](_0x343a56['type'],_0x22de7d['nodeId'],_0xf7c085[_0x247ddf(0x5c4)],_0x20c0da);});}[_0x2d5ee2(0x69b)](_0x1bcc49,_0x556718,_0x2132a1){const _0x2d7390=_0x2d5ee2;0x0!==_0x2132a1[_0x2d7390(0x38c)]&&_0x5034f0['forEach'](_0x58f3a2=>{const _0xf2e06f=_0x2d7390,_0x270b38=_0x58f3a2['reportMetric'](_0x2132a1);_0x58f3a2[_0xf2e06f(0x740)]&&_0x270b38>_0x58f3a2['maxThreshold']&&this[_0xf2e06f(0x243)](_0x58f3a2[_0xf2e06f(0x2f5)],_0x1bcc49,_0x556718,_0x270b38,_0xf2e06f(0x849)),_0x58f3a2[_0xf2e06f(0x12e)]&&_0x270b38<_0x58f3a2[_0xf2e06f(0x12e)]&&this['addIssue'](_0x58f3a2[_0xf2e06f(0x2f5)],_0x1bcc49,_0x556718,_0x270b38,_0xf2e06f(0x849));});}[_0x2d5ee2(0x379)](_0x5c7dc3,_0x4ce656,_0x17f70e){const _0x5a5d54=_0x2d5ee2;0x0!==_0x17f70e['bitrate']&&_0x4520ee[_0x5a5d54(0x57b)](_0x256c45=>{const _0x31eafb=_0x5a5d54,_0x3c614c=_0x256c45[_0x31eafb(0x79c)](_0x17f70e);_0x256c45['maxThreshold']&&_0x3c614c>_0x256c45[_0x31eafb(0x740)]&&this[_0x31eafb(0x243)](_0x256c45['type'],_0x5c7dc3,_0x4ce656,_0x3c614c,'audio'),_0x256c45['minThreshold']&&_0x3c614c<_0x256c45[_0x31eafb(0x12e)]&&this[_0x31eafb(0x243)](_0x256c45['type'],_0x5c7dc3,_0x4ce656,_0x3c614c,_0x31eafb(0x23e));});}['addIssue'](_0x3b3d2f,_0x43f5b0,_0x15371f,_0x51673b,_0x24c213){const _0x1fbeb2=_0x2d5ee2;_0x4b7920[_0x1fbeb2(0x5f9)](_0x27d952[_0x1fbeb2(0x7f5)],_0x1fbeb2(0x180)+_0x3b3d2f,_0x3b3d2f,_0x51673b),_0x4b7920[_0x1fbeb2(0x54e)](_0x1fbeb2(0x5ea),{'clusterId':this[_0x1fbeb2(0x3f0)][_0x1fbeb2(0x2dd)],'nodeId':this[_0x1fbeb2(0x3f0)][_0x1fbeb2(0x5b9)]['getId'](),'nodeType':this[_0x1fbeb2(0x3f0)]['localNode'][_0x1fbeb2(0x2f5)],'remoteId':_0x43f5b0,'data':{'type':_0x3b3d2f,'value':_0x51673b,'kind':_0x24c213}}),this[_0x1fbeb2(0x776)]=this['issues'][_0x1fbeb2(0x2e4)](_0x48ccac=>Date[_0x1fbeb2(0x191)]()-_0x48ccac['timestamp']<0x7530),this['issues'][_0x1fbeb2(0x80e)]({'timestamp':Date['now'](),'type':_0x3b3d2f,'nodeId':_0x43f5b0,'origin':_0x15371f,'value':_0x51673b,'kind':_0x24c213});const _0x4131f7=this[_0x1fbeb2(0x776)]['filter'](_0x5e3deb=>_0x5e3deb[_0x1fbeb2(0x2f5)]===_0x3b3d2f&&_0x5e3deb[_0x1fbeb2(0x858)]===_0x43f5b0&&_0x5e3deb['origin']===_0x15371f)['length'];this[_0x1fbeb2(0x128)](_0x3b3d2f,_0x43f5b0,_0x15371f,_0x4131f7);}[_0x2d5ee2(0x27d)](_0x5b3b79,_0x23b679,_0xc977ec){const _0x51d0c3=_0x2d5ee2;_0x4b7920[_0x51d0c3(0x5f9)](_0x27d952[_0x51d0c3(0x7f5)],_0x51d0c3(0x244)+_0x5b3b79),_0x4b7920[_0x51d0c3(0x54e)]('problem',{'clusterId':this[_0x51d0c3(0x3f0)][_0x51d0c3(0x2dd)],'nodeId':this[_0x51d0c3(0x3f0)][_0x51d0c3(0x5b9)][_0x51d0c3(0x7bf)](),'nodeType':this[_0x51d0c3(0x3f0)][_0x51d0c3(0x5b9)][_0x51d0c3(0x2f5)],'remoteId':_0x23b679,'data':{'type':_0x5b3b79}}),this[_0x51d0c3(0x319)]?.[_0x51d0c3(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x51d0c3(0x7f5)],'content':{'type':_0x39eae4[_0x51d0c3(0x4f4)],'data':{'timestamp':Date[_0x51d0c3(0x191)](),'nodeId':_0x23b679,'origin':_0xf7c085['Sender'],'type':_0x5b3b79}}});}}class _0xcd412b extends _0x566c7a{['type']=_0x3f2cd3['NodeType'][_0x2d5ee2(0x29f)];}class _0x5611ed extends _0xcd412b{[_0x2d5ee2(0x319)];[_0x2d5ee2(0x3c2)]=Date[_0x2d5ee2(0x191)]();[_0x2d5ee2(0x74b)];[_0x2d5ee2(0x12b)];[_0x2d5ee2(0x582)](){const _0x29199a=_0x2d5ee2;this['updateDebounceTimeout']&&(clearTimeout(this[_0x29199a(0x74b)]),delete this[_0x29199a(0x74b)]),delete this[_0x29199a(0x12b)],this['currentVersion']=Date['now'](),super[_0x29199a(0x582)]();}[_0x2d5ee2(0x59c)](_0x59cfa8){const _0x4718b6=_0x2d5ee2;this[_0x4718b6(0x319)]=_0x59cfa8;}['unregisterSystemPublisher'](){const _0x2b7d13=_0x2d5ee2;delete this[_0x2b7d13(0x319)];}[_0x2d5ee2(0x7f7)](_0x4459e7){const _0x4fae75=_0x2d5ee2;!this[_0x4fae75(0x74b)]&&this[_0x4fae75(0x323)]&&this[_0x4fae75(0x319)]['publish']({'sourceId':this['id'],'destinationIds':[_0x4459e7],'propagate':!0x0,'messageType':_0xa1c806['Node'],'content':{'type':_0x3ace80['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x4fae75(0x75b)](),'remoteConnections':Array[_0x4fae75(0x81b)](this['remoteConnections']),'version':this['currentVersion']}});}[_0x2d5ee2(0x461)](_0x5d12ca){const _0x2f86ab=_0x2d5ee2;this[_0x2f86ab(0x52b)][_0x2f86ab(0x2b3)](_0x5d12ca)||(this[_0x2f86ab(0x52b)][_0x2f86ab(0x40c)](_0x5d12ca),this['incrementVersion'](),this[_0x2f86ab(0x719)](!0x0));}[_0x2d5ee2(0x679)](_0x2703aa){const _0x4c6d91=_0x2d5ee2;this[_0x4c6d91(0x52b)]['has'](_0x2703aa)&&(this[_0x4c6d91(0x52b)][_0x4c6d91(0x201)](_0x2703aa),this[_0x4c6d91(0x360)](),this[_0x4c6d91(0x719)](!0x0));}[_0x2d5ee2(0x487)](){const _0x5055e2=_0x2d5ee2;return this[_0x5055e2(0x3c2)];}[_0x2d5ee2(0x7f1)](_0x3d3842,_0x153dd2=!0x0){const _0x461242=_0x2d5ee2;this[_0x461242(0x323)]!==_0x3d3842&&(this[_0x461242(0x323)]=_0x3d3842,_0x153dd2&&(this['incrementVersion'](),this[_0x461242(0x719)]()));}[_0x2d5ee2(0x360)](){const _0x55f5c2=_0x2d5ee2;this[_0x55f5c2(0x3c2)]=Date[_0x55f5c2(0x191)]();}[_0x2d5ee2(0x719)](_0x1009a7=!0x1){const _0x4d4d30=_0x2d5ee2;if(this[_0x4d4d30(0x323)]){if(this[_0x4d4d30(0x12b)]||(this[_0x4d4d30(0x12b)]=Date['now']()),this['updateDebounceTimeout']){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x4d4d30(0x74b)]);}this[_0x4d4d30(0x74b)]=setTimeout(()=>{const _0xe14c66=_0x4d4d30;delete this[_0xe14c66(0x12b)],delete this[_0xe14c66(0x74b)],this['systemTopic'][_0xe14c66(0xef)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0xa1c806[_0xe14c66(0x688)],'content':{'type':_0x1009a7?_0x3ace80[_0xe14c66(0x3e0)]:_0x3ace80['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0xe14c66(0x2f5)]},'rank':this[_0xe14c66(0x75b)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0xe14c66(0x3c2)]}});},0x3e8);}}}class _0x20390a extends _0x29791d{[_0x2d5ee2(0x319)];['currentVersion']=Date['now']();['updateDebounceTimeout'];[_0x2d5ee2(0x12b)];[_0x2d5ee2(0x582)](){const _0x59f46f=_0x2d5ee2;this[_0x59f46f(0x74b)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x59f46f(0x74b)]),delete this[_0x59f46f(0x12b)],this[_0x59f46f(0x3c2)]=Date[_0x59f46f(0x191)](),super['close']();}[_0x2d5ee2(0x59c)](_0x34be90){this['systemTopic']=_0x34be90;}[_0x2d5ee2(0x824)](){const _0xe02454=_0x2d5ee2;delete this[_0xe02454(0x319)];}['answerJoin'](_0x3a404e){const _0x33934d=_0x2d5ee2;!this[_0x33934d(0x74b)]&&this['rank']&&this[_0x33934d(0x319)][_0x33934d(0xef)]({'sourceId':this['id'],'destinationIds':[_0x3a404e],'propagate':!0x0,'messageType':_0xa1c806[_0x33934d(0x688)],'content':{'type':_0x3ace80[_0x33934d(0x624)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x33934d(0x39d)](),'email':this['getEmail']()},'rank':this[_0x33934d(0x75b)](),'remoteConnections':Array[_0x33934d(0x81b)](this[_0x33934d(0x52b)]),'version':this[_0x33934d(0x3c2)]}});}[_0x2d5ee2(0x461)](_0x4ddeb9){const _0x576d19=_0x2d5ee2;this[_0x576d19(0x52b)]['has'](_0x4ddeb9)||(this[_0x576d19(0x52b)]['add'](_0x4ddeb9),this[_0x576d19(0x360)](),this[_0x576d19(0x719)](!0x0));}[_0x2d5ee2(0x679)](_0x571aa8){const _0x3ec877=_0x2d5ee2;this[_0x3ec877(0x52b)][_0x3ec877(0x2b3)](_0x571aa8)&&(this['remoteConnections'][_0x3ec877(0x201)](_0x571aa8),this[_0x3ec877(0x360)](),this[_0x3ec877(0x719)](!0x0));}[_0x2d5ee2(0x487)](){return this['currentVersion'];}[_0x2d5ee2(0x17d)](_0x525d4b){const _0x26290f=_0x2d5ee2;this[_0x26290f(0x534)]!==_0x525d4b&&(this['displayName']=_0x525d4b,this[_0x26290f(0x360)](),this[_0x26290f(0x719)]());}[_0x2d5ee2(0x420)](_0xfb77e7){const _0x361f4e=_0x2d5ee2;this[_0x361f4e(0x10a)]!==_0xfb77e7&&(this[_0x361f4e(0x10a)]=_0xfb77e7,this[_0x361f4e(0x360)](),this[_0x361f4e(0x719)]());}[_0x2d5ee2(0x7f1)](_0x39f8c4,_0x5cc68c=!0x0){const _0x513ae1=_0x2d5ee2;this[_0x513ae1(0x323)]!==_0x39f8c4&&(this[_0x513ae1(0x323)]=_0x39f8c4,_0x5cc68c&&(this[_0x513ae1(0x360)](),this['publishUserUpdate']()));}[_0x2d5ee2(0x360)](){const _0x459c17=_0x2d5ee2;this['currentVersion']=Date[_0x459c17(0x191)]();}[_0x2d5ee2(0x719)](_0x2a8b9c=!0x1){const _0x20e10d=_0x2d5ee2;if(this['rank']){if(this[_0x20e10d(0x12b)]||(this[_0x20e10d(0x12b)]=Date['now']()),this[_0x20e10d(0x74b)]){if(Date[_0x20e10d(0x191)]()-this[_0x20e10d(0x12b)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x20e10d(0x74b)]=setTimeout(()=>{const _0x1e76c1=_0x20e10d;delete this[_0x1e76c1(0x12b)],delete this[_0x1e76c1(0x74b)],this[_0x1e76c1(0x319)][_0x1e76c1(0xef)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0xa1c806[_0x1e76c1(0x688)],'content':{'type':_0x2a8b9c?_0x3ace80[_0x1e76c1(0x3e0)]:_0x3ace80[_0x1e76c1(0x624)],'id':this['id'],'metaData':{'type':this[_0x1e76c1(0x2f5)],'displayName':this[_0x1e76c1(0x39d)](),'email':this[_0x1e76c1(0x14c)]()},'rank':this[_0x1e76c1(0x75b)](),'remoteConnections':Array[_0x1e76c1(0x81b)](this[_0x1e76c1(0x52b)]),'version':this[_0x1e76c1(0x3c2)]}});},0x3e8);}}}class _0x557c46{['id'];[_0x2d5ee2(0x31a)];[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x82b)];[_0x2d5ee2(0x2f5)]=_0x3f2cd3[_0x2d5ee2(0x63c)][_0x2d5ee2(0x29f)];['lastCapacityReport'];constructor(_0x347968,_0x4cd3d8,_0x5f3dab,_0x345291){const _0x29c644=_0x2d5ee2;this['id']=_0x347968,this[_0x29c644(0x31a)]=_0x4cd3d8,this[_0x29c644(0x52a)]=_0x5f3dab,this[_0x29c644(0x82b)]=_0x345291;}[_0x2d5ee2(0x7bf)](){return this['id'];}[_0x2d5ee2(0x696)](_0x40aa5c){const _0x2a5cd8=_0x2d5ee2,_0x440968=(0x0,_0x1f204c[_0x2a5cd8(0x44a)])((0x0,_0x1f204c[_0x2a5cd8(0xf0)])(_0x5b16bc[_0x2a5cd8(0x433)](),'developers/'+this[_0x2a5cd8(0x52a)]+'/resources/agent/items/'+this['groupId']),_0x655ce6=>{const _0x5a0b8b=_0x2a5cd8;if(_0x655ce6[_0x5a0b8b(0x456)]()){const _0x2406a4=_0x655ce6[_0x5a0b8b(0x252)]();if(this[_0x5a0b8b(0x82b)]['timestamp']['isEqual'](_0x2406a4['timestamp']))return;_0x4b7920['log'](_0x27d952[_0x5a0b8b(0x688)],_0x5a0b8b(0x772),{'agentId':this['id'],'groupId':this[_0x5a0b8b(0x31a)],'oldConfig':this[_0x5a0b8b(0x82b)],'newConfig':_0x2406a4}),this['agentConfig']=_0x2406a4,_0x40aa5c();}});return()=>_0x440968();}[_0x2d5ee2(0x661)](_0xd25aa1){const _0x413efc=_0x2d5ee2;return this[_0x413efc(0x56d)](this[_0x413efc(0x31a)],_0xd25aa1),_0x4faffa[_0x413efc(0x52c)](()=>this['reportCapacity'](this[_0x413efc(0x31a)],_0xd25aa1),0x7530);}[_0x2d5ee2(0x6cb)](){const _0x46a0ec=_0x2d5ee2;if(!this['lastCapacityReport'])throw new _0x177832(_0x177832[_0x46a0ec(0x492)]['MistletCapacityReportNotSet']);return this['lastCapacityReport'];}async[_0x2d5ee2(0x56d)](_0x23cf47,_0x59b1db){const _0x2bfee7=_0x2d5ee2,_0x145e3d=await _0x59b1db();this[_0x2bfee7(0x21b)]=_0x145e3d,await(0x0,_0x1f204c['addDoc'])((0x0,_0x1f204c[_0x2bfee7(0x27c)])(_0x5b16bc['getFirestore'](),'developers/'+this[_0x2bfee7(0x52a)]+'/capacities'),{'agentId':this['id'],'groupId':_0x23cf47,'timestamp':(0x0,_0x1f204c[_0x2bfee7(0x16f)])(),'capacity':_0x145e3d});}}!function(_0x30be94){const _0x344a81=_0x2d5ee2;_0x30be94[_0x30be94[_0x344a81(0x6e6)]=0x0]='Online',_0x30be94[_0x30be94['Offline']=0x1]=_0x344a81(0x10f);}(_0x18c3e3||(_0x18c3e3={}));class _0x1070d7 extends _0xcd412b{[_0x2d5ee2(0x3c2)];[_0x2d5ee2(0x5b1)]=_0x18c3e3[_0x2d5ee2(0x6e6)];[_0x2d5ee2(0x12b)]=Date[_0x2d5ee2(0x191)]();constructor(_0x2d1c4d,_0x5a07b9=new Set(),_0x30b134,_0x31d172){const _0x350978=_0x2d5ee2;super(_0x2d1c4d,_0x5a07b9,_0x31d172),this[_0x350978(0x3c2)]=_0x30b134;}['getCurrentVersion'](){const _0x167cc3=_0x2d5ee2;return this[_0x167cc3(0x3c2)];}[_0x2d5ee2(0x1bf)](){const _0x3a815a=_0x2d5ee2;return this[_0x3a815a(0x5b1)];}['getLastUpdated'](){const _0x10ed63=_0x2d5ee2;return this[_0x10ed63(0x12b)];}[_0x2d5ee2(0x7f1)](_0xa7588e){this['rank']!==_0xa7588e&&(this['rank']=_0xa7588e,this['updateLastUpdated']());}[_0x2d5ee2(0x228)](_0x36b6f9){const _0x55a25c=_0x2d5ee2;let _0x4a88d2=!0x1;for(const _0x1df070 of this[_0x55a25c(0x52b)])_0x36b6f9['includes'](_0x1df070)||(_0x4a88d2=!0x0,this[_0x55a25c(0x52b)][_0x55a25c(0x201)](_0x1df070));for(const _0x2e2d3f of _0x36b6f9)this[_0x55a25c(0x52b)][_0x55a25c(0x2b3)](_0x2e2d3f)||(_0x4a88d2=!0x0,this[_0x55a25c(0x52b)][_0x55a25c(0x40c)](_0x2e2d3f));_0x4a88d2&&this[_0x55a25c(0x2d0)]();}['setCurrentVersion'](_0x121ecf){const _0x54bea2=_0x2d5ee2;this[_0x54bea2(0x3c2)]!==_0x121ecf&&(this['currentVersion']=_0x121ecf,this[_0x54bea2(0x2d0)]());}[_0x2d5ee2(0x656)](_0x5ce1c1){const _0x2528ae=_0x2d5ee2;this[_0x2528ae(0x5b1)]!==_0x5ce1c1&&(this[_0x2528ae(0x5b1)]=_0x5ce1c1,this['updateLastUpdated'](),_0x5ce1c1===_0x18c3e3[_0x2528ae(0x10f)]&&this[_0x2528ae(0x582)]());}[_0x2d5ee2(0x2d0)](){const _0x573c6c=_0x2d5ee2;this[_0x573c6c(0x12b)]=Date['now']();}}class _0x3805f5 extends _0x29791d{['currentVersion'];['status']=_0x18c3e3[_0x2d5ee2(0x6e6)];[_0x2d5ee2(0x12b)]=Date[_0x2d5ee2(0x191)]();constructor(_0x2ca660,_0x46e14b,_0x2436d7,_0x2de4a4=new Set(),_0x543de7,_0x5e13a2){const _0x4b9373=_0x2d5ee2;super(_0x2ca660,_0x46e14b,_0x2436d7,_0x2de4a4,_0x5e13a2),this[_0x4b9373(0x3c2)]=_0x543de7;}[_0x2d5ee2(0x487)](){const _0x1c7d1e=_0x2d5ee2;return this[_0x1c7d1e(0x3c2)];}[_0x2d5ee2(0x1bf)](){const _0x55a823=_0x2d5ee2;return this[_0x55a823(0x5b1)];}[_0x2d5ee2(0x348)](){const _0x3a31c3=_0x2d5ee2;return this[_0x3a31c3(0x12b)];}[_0x2d5ee2(0x17d)](_0xcc998f){const _0x573437=_0x2d5ee2;this[_0x573437(0x534)]!==_0xcc998f&&(this['displayName']=_0xcc998f,this[_0x573437(0x2d0)]());}[_0x2d5ee2(0x420)](_0x2b6395){const _0x4d8f67=_0x2d5ee2;this[_0x4d8f67(0x10a)]!==_0x2b6395&&(this[_0x4d8f67(0x10a)]=_0x2b6395,this['updateLastUpdated']());}[_0x2d5ee2(0x7f1)](_0x2e0394){const _0x5770ef=_0x2d5ee2;this[_0x5770ef(0x323)]!==_0x2e0394&&(this['rank']=_0x2e0394,this[_0x5770ef(0x2d0)]());}['setRemoteConnections'](_0xbd1998){const _0x4f31a4=_0x2d5ee2;let _0x324e86=!0x1;for(const _0x55f2e6 of this[_0x4f31a4(0x52b)])_0xbd1998[_0x4f31a4(0x51a)](_0x55f2e6)||(_0x324e86=!0x0,this[_0x4f31a4(0x52b)]['delete'](_0x55f2e6));for(const _0xc92ef of _0xbd1998)this[_0x4f31a4(0x52b)]['has'](_0xc92ef)||(_0x324e86=!0x0,this[_0x4f31a4(0x52b)][_0x4f31a4(0x40c)](_0xc92ef));_0x324e86&&this[_0x4f31a4(0x2d0)]();}[_0x2d5ee2(0x5d9)](_0x3aa620){const _0x4b5d78=_0x2d5ee2;this['currentVersion']!==_0x3aa620&&(this['currentVersion']=_0x3aa620,this[_0x4b5d78(0x2d0)]());}['setStatus'](_0x4df9de){const _0x720378=_0x2d5ee2;this[_0x720378(0x5b1)]!==_0x4df9de&&(this['status']=_0x4df9de,this[_0x720378(0x2d0)](),_0x4df9de===_0x18c3e3[_0x720378(0x10f)]&&this[_0x720378(0x582)]());}['updateLastUpdated'](){const _0x503d4a=_0x2d5ee2;this['lastUpdated']=Date[_0x503d4a(0x191)]();}}class _0x305d9e{[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x2dd)];['localNode'];[_0x2d5ee2(0x726)];[_0x2d5ee2(0x53d)]=_0x2428fd();[_0x2d5ee2(0xe9)];[_0x2d5ee2(0x23c)];[_0x2d5ee2(0x12f)];['connected']=!0x1;[_0x2d5ee2(0x44c)];[_0x2d5ee2(0x225)];constructor(_0x3e8695,_0x5e676d,_0x226065,_0x582e9b){const _0x1307f9=_0x2d5ee2;this[_0x1307f9(0x52a)]=_0x3e8695,this[_0x1307f9(0x2dd)]=_0x5e676d,this[_0x1307f9(0x5b9)]=_0x226065,this[_0x1307f9(0x726)]=_0x582e9b,this['clusterKey']=_0x1307f9(0x61f)+this[_0x1307f9(0x52a)]+_0x1307f9(0x61f)+this[_0x1307f9(0x2dd)],this[_0x1307f9(0x225)]='ccc'+this[_0x1307f9(0x52a)]+_0x1307f9(0x61f)+this[_0x1307f9(0x5b9)]['getId'](),this[_0x1307f9(0xe9)]=(0x0,_0x1a8a22[_0x1307f9(0x5da)])((0x0,_0x1a8a22[_0x1307f9(0x77d)])(_0x5b16bc[_0x1307f9(0x6ef)](),'.info/connected'),_0x155c45=>{const _0x41bb2c=_0x1307f9;!0x0!==_0x155c45[_0x41bb2c(0x51f)]()?this[_0x41bb2c(0x11b)]&&_0x4b7920[_0x41bb2c(0x626)](_0x41bb2c(0x2e1),{'clusterId':this[_0x41bb2c(0x2dd)],'nodeId':this[_0x41bb2c(0x5b9)][_0x41bb2c(0x7bf)](),'nodeType':this[_0x41bb2c(0x5b9)]['type']}):(this[_0x41bb2c(0x11b)]=!0x0,this[_0x41bb2c(0x6e9)](),_0x4b7920[_0x41bb2c(0x17e)](_0x41bb2c(0x57e),{'clusterId':this[_0x41bb2c(0x2dd)],'nodeId':this[_0x41bb2c(0x5b9)][_0x41bb2c(0x7bf)](),'nodeType':this[_0x41bb2c(0x5b9)]['type']}));});}async[_0x2d5ee2(0x45e)](){const _0x433391=_0x2d5ee2;await this[_0x433391(0x6a6)]();const _0x4e2eed=await this[_0x433391(0x451)]();return this[_0x433391(0x23c)]=(0x0,_0x1a8a22['onChildRemoved'])((0x0,_0x1a8a22[_0x433391(0x77d)])(_0x5b16bc[_0x433391(0x6ef)](),_0x433391(0x480)+this[_0x433391(0x44c)]+_0x433391(0x4d7)),_0x33a8dd=>{const _0x45047a=_0x433391,_0x22ab49=_0x33a8dd[_0x45047a(0x474)];if(!_0x22ab49)return;const _0x409f1=_0x22ab49[_0x45047a(0x7b4)]('ccc'+this[_0x45047a(0x52a)]+_0x45047a(0x61f),'');this[_0x45047a(0x53d)][_0x45047a(0xef)](_0x409f1);}),_0x4e2eed;}async['close'](){const _0x1c3e21=_0x2d5ee2;this[_0x1c3e21(0x23c)]?.(),delete this[_0x1c3e21(0x23c)],this[_0x1c3e21(0x12f)]?.['cancel'](),delete this['onDisconnectHandler'],this[_0x1c3e21(0xe9)]?.(),delete this[_0x1c3e21(0xe9)],await(0x0,_0x1a8a22[_0x1c3e21(0x43a)])((0x0,_0x1a8a22['ref'])(_0x5b16bc[_0x1c3e21(0x6ef)](),_0x1c3e21(0x480)+this[_0x1c3e21(0x44c)]+_0x1c3e21(0x853)+this[_0x1c3e21(0x225)]));}[_0x2d5ee2(0x6ca)](_0x58e3bc){const _0x20be0f=_0x2d5ee2;return this[_0x20be0f(0x53d)]['subscribe'](_0x58e3bc);}async[_0x2d5ee2(0x451)](){const _0x179ac9=_0x2d5ee2,_0x23e007=[],_0x30f3b3=await(0x0,_0x1a8a22[_0x179ac9(0x548)])((0x0,_0x1a8a22[_0x179ac9(0x77d)])(_0x5b16bc[_0x179ac9(0x6ef)](),_0x179ac9(0x480)+this[_0x179ac9(0x44c)]+'/nodes')),_0x27c25c=[];return _0x30f3b3[_0x179ac9(0x57b)](_0x54241a=>{const _0x4f32c0=_0x179ac9,_0x51a02a=_0x54241a[_0x4f32c0(0x474)]?.[_0x4f32c0(0x7b4)](_0x4f32c0(0x61f)+this['vendorId']+_0x4f32c0(0x61f),'');_0x27c25c[_0x4f32c0(0x80e)]({'id':_0x51a02a,'joinedAt':_0x54241a[_0x4f32c0(0x51f)]()[_0x4f32c0(0x7d3)],'priority':_0x54241a['val']()['priority']});}),_0x27c25c['sort']((_0x520fb6,_0x269357)=>_0x520fb6[_0x179ac9(0x7d3)]===_0x269357['joinedAt']?_0x520fb6['priority']-_0x269357[_0x179ac9(0x6c8)]:_0x520fb6[_0x179ac9(0x7d3)]-_0x269357[_0x179ac9(0x7d3)])[_0x179ac9(0x25e)](_0x27c25c[_0x179ac9(0x860)](_0x3bee2e=>_0x3bee2e['id']===this[_0x179ac9(0x5b9)]['getId']())),_0x27c25c[_0x179ac9(0x289)]((_0x13df05,_0x3fe11c)=>_0x3fe11c['joinedAt']===_0x13df05['joinedAt']?_0x3fe11c[_0x179ac9(0x6c8)]-_0x13df05[_0x179ac9(0x6c8)]:_0x3fe11c['joinedAt']-_0x13df05[_0x179ac9(0x7d3)])['forEach'](_0x22847c=>{const _0x4fcba3=_0x179ac9;_0x23e007['length']>=this[_0x4fcba3(0x726)]||_0x23e007[_0x4fcba3(0x80e)](_0x22847c['id']);}),_0x4b7920[_0x179ac9(0x54e)](_0x179ac9(0x761),{'clusterId':this[_0x179ac9(0x2dd)],'nodeId':this[_0x179ac9(0x5b9)][_0x179ac9(0x7bf)](),'nodeType':this[_0x179ac9(0x5b9)][_0x179ac9(0x2f5)],'data':{'ancestorIds':_0x23e007,'allNodes':_0x27c25c}}),_0x23e007;}async[_0x2d5ee2(0x6a6)](){const _0x45251b=_0x2d5ee2;await(0x0,_0x1a8a22['set'])((0x0,_0x1a8a22['ref'])(_0x5b16bc[_0x45251b(0x6ef)](),_0x45251b(0x480)+this[_0x45251b(0x44c)]+_0x45251b(0x853)+this[_0x45251b(0x225)]),{'joinedAt':(0x0,_0x1a8a22[_0x45251b(0x16f)])(),'priority':Math[_0x45251b(0x65a)]()});}['setOnDisconnectHandler'](){const _0x4a590c=_0x2d5ee2;this['onDisconnectHandler']&&this[_0x4a590c(0x12f)][_0x4a590c(0x455)](),this['onDisconnectHandler']=(0x0,_0x1a8a22[_0x4a590c(0x378)])((0x0,_0x1a8a22[_0x4a590c(0x77d)])(_0x5b16bc[_0x4a590c(0x6ef)](),_0x4a590c(0x480)+this['clusterKey']+'/nodes/'+this[_0x4a590c(0x225)])),this[_0x4a590c(0x12f)][_0x4a590c(0x43a)]();}}class _0x3aae30{['configs'];[_0x2d5ee2(0x447)];[_0x2d5ee2(0x1d5)];[_0x2d5ee2(0x350)];['discoveryUnsubscriber'];[_0x2d5ee2(0x220)]=[];['systemTopic'];[_0x2d5ee2(0x5a8)]=new Map();[_0x2d5ee2(0x836)];[_0x2d5ee2(0x3b5)];constructor(_0x4d4cf4,_0x47ed4b){const _0x56659f=_0x2d5ee2;this[_0x56659f(0x3f0)]=_0x4d4cf4,this['graphService']=_0x47ed4b,this[_0x56659f(0x350)]=new _0x305d9e(this[_0x56659f(0x3f0)][_0x56659f(0x52a)],this[_0x56659f(0x3f0)][_0x56659f(0x2dd)],this[_0x56659f(0x3f0)][_0x56659f(0x5b9)],this[_0x56659f(0x447)]['getMinConnections']()),this[_0x56659f(0x3f7)]=this[_0x56659f(0x350)][_0x56659f(0x6ca)](this[_0x56659f(0x7c2)]['bind'](this)),this['configs'][_0x56659f(0x34c)]['registerSystemSource'](this[_0x56659f(0x3f0)][_0x56659f(0x5b9)]),this['configs'][_0x56659f(0x34c)][_0x56659f(0x43b)](this),this[_0x56659f(0x1d5)]=_0x4faffa[_0x56659f(0x52c)](()=>{const _0x14a991=_0x56659f,_0xe8f57f=Date['now']();this[_0x14a991(0x447)][_0x14a991(0x7b1)]()[_0x14a991(0x57b)](_0x4cd968=>{const _0x2b0e5b=_0x14a991;_0x4cd968[_0x2b0e5b(0x1bf)]()===_0x18c3e3[_0x2b0e5b(0x10f)]&&_0x4cd968[_0x2b0e5b(0x348)]()<_0xe8f57f-0x493e0&&this[_0x2b0e5b(0x447)][_0x2b0e5b(0x3fc)](_0x4cd968[_0x2b0e5b(0x7bf)]());});},0xea60);}[_0x2d5ee2(0x59c)](_0xc701ee){const _0x42e777=_0x2d5ee2;this[_0x42e777(0x319)]=_0xc701ee;}[_0x2d5ee2(0x824)](){const _0x4197c1=_0x2d5ee2;delete this[_0x4197c1(0x319)];}[_0x2d5ee2(0x582)](){const _0x41f854=_0x2d5ee2;this['debounceProcessRank']&&(clearTimeout(this[_0x41f854(0x836)]),delete this[_0x41f854(0x836)]),delete this['lastProcessRank'],this['configs'][_0x41f854(0x5b9)]['close'](),this[_0x41f854(0x1d5)](),this['discoveryUnsubscriber'](),this[_0x41f854(0x3f0)][_0x41f854(0x34c)][_0x41f854(0x573)](this[_0x41f854(0x3f0)]['localNode']),this['configs']['mediator'][_0x41f854(0x573)](this),this[_0x41f854(0x350)]['close']();}[_0x2d5ee2(0x7a2)](){const _0xd46c8d=_0x2d5ee2;return this[_0xd46c8d(0x220)];}[_0x2d5ee2(0x1bc)](){const _0x56ef49=_0x2d5ee2;return this[_0x56ef49(0x3f0)]['localNode'][_0x56ef49(0x7bf)]();}[_0x2d5ee2(0x684)](){const _0x1cd43d=_0x2d5ee2;return this[_0x1cd43d(0x3f0)][_0x1cd43d(0x5b9)];}[_0x2d5ee2(0x7b1)](_0x14c75b){const _0x2b7a27=_0x2d5ee2,_0x5ddb08=Array[_0x2b7a27(0x81b)](this[_0x2b7a27(0x447)][_0x2b7a27(0x7b1)]()['values']())[_0x2b7a27(0x2e4)](_0x213f50=>_0x213f50[_0x2b7a27(0x1bf)]()===_0x18c3e3[_0x2b7a27(0x6e6)]);return _0x14c75b?_0x5ddb08[_0x2b7a27(0x2e4)](_0x14c75b):_0x5ddb08;}async[_0x2d5ee2(0x761)](){const _0x433c8c=_0x2d5ee2;return this['ancestors']=await this[_0x433c8c(0x350)][_0x433c8c(0x45e)](),this[_0x433c8c(0x220)]['length']<this[_0x433c8c(0x447)]['getMinConnections']()&&(this['configs'][_0x433c8c(0x5b9)]['setRank'](this[_0x433c8c(0x220)][_0x433c8c(0x68c)]+0x1),this[_0x433c8c(0x3aa)]()),this[_0x433c8c(0x220)];}[_0x2d5ee2(0x374)](_0xe58b9e,_0x11ff84){const _0x476cee=_0x2d5ee2,_0xeb7b2f=this[_0x476cee(0x3f0)][_0x476cee(0x5b9)]['getRemoteConnections'](),_0x4bcf83=new Set(_0xeb7b2f),_0xbb91e9=Array[_0x476cee(0x81b)](_0xeb7b2f)[_0x476cee(0x2e4)](_0x32f6f0=>_0x32f6f0!==_0xe58b9e)['map'](_0x370300=>({'id':_0x370300,'distance':0x1}));for(;_0xbb91e9['length']>0x0;){const _0x1fada0=_0xbb91e9[_0x476cee(0x6bb)]();if(!_0x1fada0)continue;if(_0x1fada0['id']===_0x11ff84)return _0x1fada0[_0x476cee(0x3f6)];const _0x2d34f9=this[_0x476cee(0x447)][_0x476cee(0x363)](_0x1fada0['id']);_0x2d34f9&&_0x2d34f9['getStatus']()!==_0x18c3e3['Offline']&&_0x2d34f9[_0x476cee(0x537)]()[_0x476cee(0x57b)](_0x123f1c=>{const _0xba3e4c=_0x476cee;_0x4bcf83[_0xba3e4c(0x2b3)](_0x123f1c)||(_0x4bcf83[_0xba3e4c(0x40c)](_0x123f1c),_0xbb91e9['push']({'id':_0x123f1c,'distance':_0x1fada0[_0xba3e4c(0x3f6)]+0x1}));});}return-0x1;}[_0x2d5ee2(0x84f)](_0xb55010){const _0x271de4=_0x2d5ee2;try{switch(_0xb55010[_0x271de4(0x262)]['type']){case _0x3ace80['NodeUpdate']:case _0x3ace80[_0x271de4(0x3e0)]:this[_0x271de4(0x142)](_0xb55010[_0x271de4(0x262)]),_0x4b7920['log'](_0x27d952[_0x271de4(0x688)],'NodeManager\x20-\x20NodeUpdate','\x27'+this['configs'][_0x271de4(0x5b9)][_0x271de4(0x7bf)]()+',\x20'+_0xb55010[_0x271de4(0x51e)]+'\x27',_0xb55010,_0xb55010['content']);break;case _0x3ace80[_0x271de4(0x5f0)]:this[_0x271de4(0x1a1)](_0xb55010[_0x271de4(0x262)]['id']),_0x4b7920['log'](_0x27d952[_0x271de4(0x688)],_0x271de4(0x382),'\x27'+this['configs'][_0x271de4(0x5b9)][_0x271de4(0x7bf)]()+',\x20'+_0xb55010[_0x271de4(0x51e)]+'\x27',_0xb55010,_0xb55010['content']);}}catch(_0x558c6c){if(_0x558c6c instanceof _0x35d823)return void _0x4b7920[_0x271de4(0x5f9)](_0x27d952[_0x271de4(0x688)],_0x558c6c['message']);throw _0x558c6c;}}[_0x2d5ee2(0x643)](_0x59ad68){const _0x41b040=_0x2d5ee2;switch(_0x59ad68[_0x41b040(0x262)][_0x41b040(0x2f5)]){case _0x274822['Success']:this[_0x41b040(0x7f6)](_0x59ad68[_0x41b040(0x51e)]),_0x4b7920[_0x41b040(0x5f9)](_0x27d952[_0x41b040(0x688)],_0x41b040(0x23f),'\x27'+this[_0x41b040(0x3f0)]['localNode'][_0x41b040(0x7bf)]()+',\x20'+_0x59ad68['sourceId']+'\x27',_0x59ad68,_0x59ad68[_0x41b040(0x262)]);break;case _0x274822[_0x41b040(0x2da)]:this['publishNodeLeave'](_0x59ad68[_0x41b040(0x51e)]),_0x4b7920[_0x41b040(0x5f9)](_0x27d952[_0x41b040(0x688)],'NodeManager\x20-\x20PublishNodeLeave',this['configs'][_0x41b040(0x5b9)][_0x41b040(0x7bf)](),_0x59ad68,_0x59ad68[_0x41b040(0x262)]);}}[_0x2d5ee2(0x302)](_0x536094){const _0x1dd1f1=_0x2d5ee2;this[_0x1dd1f1(0x3b2)](_0x536094),this[_0x1dd1f1(0x160)](_0x536094);}[_0x2d5ee2(0x160)](_0x27cc3e){const _0x22092f=_0x2d5ee2;this[_0x22092f(0x3f0)][_0x22092f(0x5b9)][_0x22092f(0x7f7)](_0x27cc3e['id']),this[_0x22092f(0xd7)](_0x27cc3e['id']),this['notifyClusterNodeJoin'](_0x27cc3e);}[_0x2d5ee2(0x142)](_0x2c5147){const _0x5bbf2c=_0x2d5ee2,{id:_0x81d1d1,metaData:_0x45187b,rank:_0x1527dc,remoteConnections:_0x137663,version:_0x3ef29f}=_0x2c5147,_0x55dee3=this[_0x5bbf2c(0x447)][_0x5bbf2c(0x363)](_0x81d1d1);if(_0x55dee3){if(!(_0x3ef29f<=_0x55dee3[_0x5bbf2c(0x487)]())){if(_0x55dee3[_0x5bbf2c(0x228)](_0x137663),_0x55dee3['setCurrentVersion'](_0x3ef29f),_0x55dee3[_0x5bbf2c(0x2f5)]===_0x3f2cd3[_0x5bbf2c(0x63c)]['User']&&_0x45187b[_0x5bbf2c(0x2f5)]===_0x3f2cd3[_0x5bbf2c(0x63c)][_0x5bbf2c(0x5a9)]&&(_0x55dee3[_0x5bbf2c(0x17d)](_0x45187b[_0x5bbf2c(0x534)]),_0x55dee3[_0x5bbf2c(0x420)](_0x45187b[_0x5bbf2c(0x10a)])),_0x1527dc&&_0x55dee3['setRank'](_0x1527dc),this['setLocalRank'](_0x81d1d1,_0x1527dc),_0x55dee3[_0x5bbf2c(0x1bf)]()===_0x18c3e3[_0x5bbf2c(0x10f)])return _0x55dee3['setStatus'](_0x18c3e3[_0x5bbf2c(0x6e6)]),this[_0x5bbf2c(0x3aa)](),void this[_0x5bbf2c(0x160)](_0x2c5147);this[_0x5bbf2c(0x3aa)](),this[_0x5bbf2c(0x3e8)]({'id':_0x81d1d1,'metaData':_0x45187b,'remoteConnections':_0x137663,'version':_0x3ef29f});}}else this['handleNodeJoin'](_0x2c5147);}[_0x2d5ee2(0x2c1)](_0x4c8033,_0x23b718){const _0x35c9fa=_0x2d5ee2;_0x23b718&&this[_0x35c9fa(0x220)]['includes'](_0x4c8033)&&this[_0x35c9fa(0x3f0)]['localNode']['setRank'](_0x23b718+this[_0x35c9fa(0x220)]['indexOf'](_0x4c8033)+0x1);}['handleConnectionSuccess'](_0x3eebc7){const _0x3744a5=_0x2d5ee2;this[_0x3744a5(0x3f0)][_0x3744a5(0x5b9)][_0x3744a5(0x461)](_0x3eebc7);}[_0x2d5ee2(0x3b2)]({id:_0x312da5,metaData:_0x47368e,rank:_0x2b164a,remoteConnections:_0x43c133,version:_0x16fd5b}){const _0x37f9ec=_0x2d5ee2;if(this['graphService'][_0x37f9ec(0x6c1)](_0x312da5))throw new _0x35d823(_0x37f9ec(0x549)+_0x312da5);switch(_0x47368e['type']){case _0x3f2cd3['NodeType']['User']:const {displayName:_0xc1f7f1,email:_0x3ba307}=_0x47368e;this[_0x37f9ec(0x447)][_0x37f9ec(0x3c0)](_0x312da5,new _0x3805f5(_0x312da5,_0xc1f7f1,_0x3ba307,new Set(_0x43c133),_0x16fd5b,_0x2b164a));break;case _0x3f2cd3[_0x37f9ec(0x63c)]['Agent']:this[_0x37f9ec(0x447)][_0x37f9ec(0x3c0)](_0x312da5,new _0x1070d7(_0x312da5,new Set(_0x43c133),_0x16fd5b,_0x2b164a));}this[_0x37f9ec(0x2c1)](_0x312da5,_0x2b164a),this[_0x37f9ec(0x3aa)]();}[_0x2d5ee2(0xd7)](_0x5ccd90){const _0x2261a4=_0x2d5ee2;this[_0x2261a4(0x319)][_0x2261a4(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x2261a4(0x688)],'content':{'type':_0x3ace80[_0x2261a4(0xf9)],'id':_0x5ccd90}});}['publishNodeLeave'](_0x4aeac3){const _0x230065=_0x2d5ee2;this[_0x230065(0x319)]?.[_0x230065(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x230065(0x688)],'content':{'type':_0x3ace80[_0x230065(0x5f0)],'id':_0x4aeac3}});}[_0x2d5ee2(0x7c2)](_0x51d390){const _0x1b94cf=_0x2d5ee2;if(_0x51d390===this[_0x1b94cf(0x3f0)][_0x1b94cf(0x5b9)][_0x1b94cf(0x7bf)]())return this[_0x1b94cf(0x3f0)][_0x1b94cf(0x34c)][_0x1b94cf(0x385)](_0x1b94cf(0x346),{'id':_0x51d390}),this['configs'][_0x1b94cf(0x34c)][_0x1b94cf(0x582)]({'force':!0x0},!0x0),this[_0x1b94cf(0x3f0)][_0x1b94cf(0x34c)][_0x1b94cf(0x2ef)](),void this['configs'][_0x1b94cf(0x34c)][_0x1b94cf(0x320)]();this['publishNodeLeave'](_0x51d390);}[_0x2d5ee2(0x1a1)](_0x4e98e4){const _0x2995db=_0x2d5ee2;this[_0x2995db(0x220)]['includes'](_0x4e98e4)?this[_0x2995db(0x4f8)](_0x4e98e4):this[_0x2995db(0x3f0)]['localNode'][_0x2995db(0x537)]()[_0x2995db(0x2b3)](_0x4e98e4)&&this[_0x2995db(0x765)](_0x4e98e4),this[_0x2995db(0x3f0)][_0x2995db(0x5b9)][_0x2995db(0x679)](_0x4e98e4);const _0x1ee7fa=Array[_0x2995db(0x81b)](this[_0x2995db(0x5a8)][_0x2995db(0x12d)]())[_0x2995db(0x76e)](([,_0x790558])=>_0x790558==_0x790558);_0x1ee7fa&&this[_0x2995db(0x5a8)][_0x2995db(0x201)](_0x1ee7fa[0x0]);const _0x189101=this[_0x2995db(0x447)][_0x2995db(0x363)](_0x4e98e4);if(!_0x189101)return;const _0x112afc=_0x189101[_0x2995db(0x75b)](),_0x570a0a=this['configs'][_0x2995db(0x5b9)][_0x2995db(0x75b)]();_0x570a0a&&_0x112afc&&_0x112afc<_0x570a0a&&this[_0x2995db(0x3f0)][_0x2995db(0x5b9)][_0x2995db(0x7f1)](_0x570a0a-0x1,!0x1),Array[_0x2995db(0x81b)](this[_0x2995db(0x447)]['getRemoteNodes']()['values']())['forEach'](_0x3210e1=>{const _0x3e7b99=_0x2995db,_0x2d3a34=_0x3210e1[_0x3e7b99(0x75b)]();_0x2d3a34&&_0x112afc&&_0x112afc<_0x2d3a34&&_0x3210e1['setRank'](_0x2d3a34-0x1);}),_0x189101[_0x2995db(0x656)](_0x18c3e3['Offline']),this[_0x2995db(0x3f0)][_0x2995db(0x34c)][_0x2995db(0x385)](_0x189101[_0x2995db(0x2f5)]+_0x2995db(0x17c),{'id':_0x4e98e4});}[_0x2d5ee2(0x71e)]({id:_0x2221e7,metaData:_0x5acf3b,remoteConnections:_0x540295}){const _0x2ef207=_0x2d5ee2;switch(_0x5acf3b[_0x2ef207(0x2f5)]){case _0x3f2cd3[_0x2ef207(0x63c)]['User']:this['configs'][_0x2ef207(0x34c)]['notifyCluster'](_0x2ef207(0x6f0),{'id':_0x2221e7,'metaData':_0x5acf3b,'remoteConnections':_0x540295});break;case _0x3f2cd3[_0x2ef207(0x63c)]['Agent']:this[_0x2ef207(0x3f0)][_0x2ef207(0x34c)]['notifyCluster'](_0x2ef207(0x6d3),{'id':_0x2221e7,'metaData':_0x5acf3b,'remoteConnections':_0x540295});}}[_0x2d5ee2(0x3e8)]({id:_0x36877a,metaData:_0x2aa14f,remoteConnections:_0x27cc81}){const _0x26450b=_0x2d5ee2;switch(_0x2aa14f[_0x26450b(0x2f5)]){case _0x3f2cd3['NodeType'][_0x26450b(0x5a9)]:this['configs'][_0x26450b(0x34c)][_0x26450b(0x385)](_0x26450b(0x7f0),{'id':_0x36877a,'metaData':_0x2aa14f,'remoteConnections':_0x27cc81});break;case _0x3f2cd3[_0x26450b(0x63c)][_0x26450b(0x29f)]:this[_0x26450b(0x3f0)][_0x26450b(0x34c)][_0x26450b(0x385)](_0x26450b(0x4d3),{'id':_0x36877a,'metaData':_0x2aa14f,'remoteConnections':_0x27cc81});}}[_0x2d5ee2(0x3aa)](){const _0x4928f5=_0x2d5ee2;if(this['lastProcessRank']||(this[_0x4928f5(0x3b5)]=Date[_0x4928f5(0x191)]()),this[_0x4928f5(0x836)]){if(Date[_0x4928f5(0x191)]()-this[_0x4928f5(0x3b5)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x4928f5(0x836)]=setTimeout(async()=>{const _0x1be1d2=_0x4928f5;delete this['lastProcessRank'],delete this['debounceProcessRank'];const _0x355eed=this[_0x1be1d2(0x3f0)][_0x1be1d2(0x5b9)]['getRank']();if(!_0x355eed)return;const _0x45aa37=this[_0x1be1d2(0x447)][_0x1be1d2(0x604)](this[_0x1be1d2(0x447)][_0x1be1d2(0x7b1)]()[_0x1be1d2(0x6b6)]);if(this[_0x1be1d2(0x5a8)][_0x1be1d2(0x6b6)]>=_0x45aa37)return;let _0xc48685=0x1;for(;this['configs'][_0x1be1d2(0x34c)][_0x1be1d2(0x6c9)]()[_0x1be1d2(0x68c)]<this[_0x1be1d2(0x447)][_0x1be1d2(0x605)]()&&_0xc48685<=_0x45aa37;){if(this[_0x1be1d2(0x5a8)][_0x1be1d2(0x2b3)](_0xc48685)){_0xc48685+=0x1;continue;}const _0x4d45c8=this[_0x1be1d2(0x447)][_0x1be1d2(0x298)](_0x355eed,_0xc48685),_0x5d8082=Array['from'](this[_0x1be1d2(0x447)][_0x1be1d2(0x7b1)]()[_0x1be1d2(0x2fd)]())[_0x1be1d2(0x76e)](_0x574cc7=>_0x574cc7[_0x1be1d2(0x75b)]()===_0x4d45c8&&_0x574cc7[_0x1be1d2(0x1bf)]()===_0x18c3e3[_0x1be1d2(0x6e6)]);if(_0x5d8082){try{await this[_0x1be1d2(0x3f0)][_0x1be1d2(0x34c)][_0x1be1d2(0x66f)](_0x5d8082[_0x1be1d2(0x7bf)](),_0x5497ef[_0x1be1d2(0x650)]),this['optimizationLayers']['set'](_0xc48685,_0x5d8082[_0x1be1d2(0x7bf)]());}catch(_0x315f77){if(!(_0x315f77 instanceof _0x177832&&_0x315f77[_0x1be1d2(0x788)]===_0x177832[_0x1be1d2(0x492)]['RemoteConnectionExists']))throw _0x315f77;_0x4b7920[_0x1be1d2(0x5f9)](_0x27d952[_0x1be1d2(0x688)],this[_0x1be1d2(0x3f0)]['localNode'][_0x1be1d2(0x7bf)](),_0x5d8082['getId'](),_0x315f77['message']);}_0xc48685+=0x1;}else _0xc48685+=0x1;}},0x3e8);}async[_0x2d5ee2(0x4f8)](_0x58ef33){const _0x30c01b=_0x2d5ee2;this['ancestors'][_0x30c01b(0x25e)](this[_0x30c01b(0x220)]['indexOf'](_0x58ef33),0x1);const _0xaee317=await this[_0x30c01b(0x350)]['getAncestors']();for(const _0x27a3f7 of _0xaee317)if(!this[_0x30c01b(0x220)]['includes'](_0x27a3f7)){const _0x388ca7=Array[_0x30c01b(0x81b)](this[_0x30c01b(0x5a8)][_0x30c01b(0x12d)]())[_0x30c01b(0x76e)](([,_0x4a3420])=>_0x4a3420===_0x27a3f7);_0x388ca7&&this[_0x30c01b(0x5a8)]['delete'](_0x388ca7[0x0]),this['configs']['mediator'][_0x30c01b(0x66f)](_0x27a3f7,_0x5497ef['Core']);}0x0===_0xaee317[_0x30c01b(0x68c)]&&this[_0x30c01b(0x3f0)]['localNode'][_0x30c01b(0x7f1)](0x1),this[_0x30c01b(0x220)]=_0xaee317;}async[_0x2d5ee2(0x765)](_0x2733c4){const _0x44a0f9=_0x2d5ee2,_0x37d16d=this[_0x44a0f9(0x3f0)][_0x44a0f9(0x5b9)]['getRank']();if(!_0x37d16d)return;const _0x17d1d2=this[_0x44a0f9(0x447)][_0x44a0f9(0x363)](_0x2733c4);if(!_0x17d1d2||_0x17d1d2[_0x44a0f9(0x1bf)]()===_0x18c3e3[_0x44a0f9(0x10f)])return;const _0x3ecffa=_0x17d1d2[_0x44a0f9(0x75b)]();if(!_0x3ecffa||_0x3ecffa<_0x37d16d)return;const _0xbdd8e7=this[_0x44a0f9(0x463)](this[_0x44a0f9(0x3f0)][_0x44a0f9(0x5b9)][_0x44a0f9(0x537)](),_0x37d16d),_0x2e6a6c=this[_0x44a0f9(0x463)](_0x17d1d2[_0x44a0f9(0x537)](),_0x3ecffa)[_0xbdd8e7[_0x44a0f9(0x860)](([_0x29fdfd])=>_0x29fdfd===_0x2733c4)];if(!_0x2e6a6c||this[_0x44a0f9(0x3f0)][_0x44a0f9(0x5b9)]['getRemoteConnections']()['has'](_0x2e6a6c[0x0]))return;const _0x37caba=this[_0x44a0f9(0x447)][_0x44a0f9(0x363)](_0x2e6a6c[0x0]);if(_0x37caba&&_0x37caba[_0x44a0f9(0x1bf)]()!==_0x18c3e3[_0x44a0f9(0x10f)])try{await this[_0x44a0f9(0x3f0)][_0x44a0f9(0x34c)]['createConnection'](_0x2e6a6c[0x0],_0x5497ef[_0x44a0f9(0x650)]);const _0x4740a5=Array['from'](this['optimizationLayers']['entries']())[_0x44a0f9(0x76e)](([,_0x1ba760])=>_0x1ba760===_0x2733c4);_0x4740a5&&this[_0x44a0f9(0x5a8)][_0x44a0f9(0x1d0)](_0x4740a5[0x0],_0x2e6a6c[0x0]);}catch(_0x20c2a7){if(!(_0x20c2a7 instanceof _0x177832&&_0x20c2a7['code']===_0x177832[_0x44a0f9(0x492)][_0x44a0f9(0x361)]))throw _0x20c2a7;_0x4b7920['log'](_0x27d952[_0x44a0f9(0x688)],this[_0x44a0f9(0x3f0)][_0x44a0f9(0x5b9)][_0x44a0f9(0x7bf)](),_0x2e6a6c[0x0],_0x20c2a7[_0x44a0f9(0x52f)]);}}['getOutgoingOptimizationConnections'](_0x8e0b9a,_0x48f97e){const _0x11946d=_0x2d5ee2;return Array[_0x11946d(0x81b)](_0x8e0b9a)['reduce']((_0x51f344,_0x516e22)=>{const _0x4b9a2e=_0x11946d,_0x4e3ae8=this['graphService']['getRemoteNode'](_0x516e22);if(!_0x4e3ae8||_0x4e3ae8[_0x4b9a2e(0x1bf)]()===_0x18c3e3[_0x4b9a2e(0x10f)])return _0x51f344;const _0xc11751=_0x4e3ae8['getRank']();if(!_0xc11751)return _0x51f344;const _0x437848=_0xc11751-_0x48f97e;return _0x437848<=this['graphService']['getMinConnections']()||_0x51f344[_0x4b9a2e(0x80e)]([_0x516e22,_0x437848]),_0x51f344;},[])[_0x11946d(0x289)](([,_0x1485b6],[,_0x5a9692])=>_0x1485b6-_0x5a9692);}}const _0xbab2b4=[{'problemType':_0x4feb70[_0x2d5ee2(0x314)],'remediations':[{'type':_0x35a44e[_0x2d5ee2(0x28c)],'component':_0x43e09e['Resolution'],'action':_0x34f061['Downgrade']},{'type':_0x35a44e[_0x2d5ee2(0x398)],'component':_0x43e09e[_0x2d5ee2(0x687)],'action':_0x34f061['Downgrade']}]},{'problemType':_0x4feb70[_0x2d5ee2(0x7e9)],'remediations':[{'type':_0x35a44e[_0x2d5ee2(0x28c)],'component':_0x43e09e[_0x2d5ee2(0x687)],'action':_0x34f061['Downgrade']}]},{'problemType':_0x4feb70[_0x2d5ee2(0xca)],'remediations':[{'type':_0x35a44e[_0x2d5ee2(0x28c)],'component':_0x43e09e[_0x2d5ee2(0x687)],'action':_0x34f061[_0x2d5ee2(0x223)]}]},{'problemType':_0x4feb70[_0x2d5ee2(0x6a0)],'remediations':[{'type':_0x35a44e[_0x2d5ee2(0x28c)],'component':_0x43e09e[_0x2d5ee2(0x687)],'action':_0x34f061['Downgrade']}]},{'problemType':_0x4feb70[_0x2d5ee2(0x535)],'remediations':[{'type':_0x35a44e[_0x2d5ee2(0x28c)],'component':_0x43e09e[_0x2d5ee2(0x535)],'action':_0x34f061['Downgrade']}]},{'problemType':_0x4feb70[_0x2d5ee2(0x36d)],'remediations':[{'type':_0x35a44e[_0x2d5ee2(0x28c)],'component':_0x43e09e[_0x2d5ee2(0x535)],'action':_0x34f061[_0x2d5ee2(0x223)]}]},{'problemType':_0x4feb70[_0x2d5ee2(0xfa)],'remediations':[{'type':_0x35a44e['Remediation'],'component':_0x43e09e['Bitrate'],'action':_0x34f061[_0x2d5ee2(0x223)]}]}];class _0x495a72{[_0x2d5ee2(0x3f0)];['systemTopic'];['lastRemediations']=new Map();constructor(_0x3b537a){const _0x48012f=_0x2d5ee2;this[_0x48012f(0x3f0)]=_0x3b537a,this['configs'][_0x48012f(0x34c)][_0x48012f(0x43b)](this);}[_0x2d5ee2(0x582)](){const _0x5a1dde=_0x2d5ee2;this[_0x5a1dde(0x3f0)][_0x5a1dde(0x34c)][_0x5a1dde(0x573)](this);}[_0x2d5ee2(0x59c)](_0x2bf130){this['systemTopic']=_0x2bf130;}[_0x2d5ee2(0x824)](){const _0x11fb87=_0x2d5ee2;delete this[_0x11fb87(0x319)];}[_0x2d5ee2(0x83a)](_0x1f35ec){const _0x159d01=_0x2d5ee2;_0x1f35ec[_0x159d01(0x262)][_0x159d01(0x2f5)]===_0x39eae4[_0x159d01(0x4f4)]&&this[_0x159d01(0x1a3)](_0x1f35ec[_0x159d01(0x262)][_0x159d01(0x252)]);}[_0x2d5ee2(0x6e3)](_0x410902){const _0x192894=_0x2d5ee2;_0x410902[_0x192894(0x262)][_0x192894(0x2f5)]===_0x35a44e[_0x192894(0x398)]&&this[_0x192894(0x841)](_0x410902['sourceId'],{'type':_0x35a44e[_0x192894(0x28c)],'component':_0x410902[_0x192894(0x262)]['data'][_0x192894(0x358)],'action':_0x410902[_0x192894(0x262)][_0x192894(0x252)][_0x192894(0x389)]});}[_0x2d5ee2(0x1a3)](_0x48770b){const _0x466cd2=_0x2d5ee2,_0x411b24=_0xbab2b4[_0x466cd2(0x76e)](_0x5308b6=>_0x5308b6[_0x466cd2(0x371)]===_0x48770b[_0x466cd2(0x2f5)]);_0x411b24[_0x466cd2(0x494)]?.[_0x466cd2(0x57b)](_0x3c09d1=>{const _0x6b155e=_0x466cd2;this['applyRemediation'](_0x48770b['nodeId'],{'type':_0x48770b[_0x6b155e(0x2ad)]===_0xf7c085[_0x6b155e(0x5c4)]?_0x35a44e[_0x6b155e(0x28c)]:_0x35a44e[_0x6b155e(0x398)],'component':_0x3c09d1['component'],'action':_0x3c09d1[_0x6b155e(0x389)]});});}[_0x2d5ee2(0x841)](_0x53d3c8,_0x187605){const _0x3f8c10=_0x2d5ee2;if(_0x187605[_0x3f8c10(0x2f5)]===_0x35a44e[_0x3f8c10(0x28c)]){const _0xef936a=Date['now'](),_0x36a40e=this[_0x3f8c10(0x842)][_0x3f8c10(0x548)](_0x53d3c8);if(_0x36a40e&&_0xef936a-_0x36a40e<0x1388)return;this[_0x3f8c10(0x842)][_0x3f8c10(0x1d0)](_0x53d3c8,_0xef936a);}_0x4b7920[_0x3f8c10(0x5f9)](_0x27d952['Remediation'],'Apply\x20remediation',_0x187605),_0x4b7920['logEvent']('remediation',{'clusterId':this[_0x3f8c10(0x3f0)][_0x3f8c10(0x2dd)],'nodeId':this[_0x3f8c10(0x3f0)][_0x3f8c10(0x5b9)][_0x3f8c10(0x7bf)](),'nodeType':this[_0x3f8c10(0x3f0)]['localNode'][_0x3f8c10(0x2f5)],'remoteId':_0x53d3c8,'data':{'type':_0x187605[_0x3f8c10(0x2f5)],'component':_0x187605[_0x3f8c10(0x358)],'action':_0x187605[_0x3f8c10(0x389)]}});let _0x2771a9,_0x1c1f9e=_0x1e8ab6;_0x187605[_0x3f8c10(0x2f5)]===_0x35a44e[_0x3f8c10(0x398)]&&(_0x1c1f9e=this[_0x3f8c10(0x3f0)][_0x3f8c10(0x5b9)]['getId'](),_0x2771a9=[_0x53d3c8]),this['systemTopic']['publish']({'sourceId':_0x1c1f9e,'destinationIds':_0x2771a9,'messageType':_0xa1c806[_0x3f8c10(0x28c)],'content':{'type':_0x187605[_0x3f8c10(0x2f5)],'targetId':_0x53d3c8,'data':_0x187605}});}}const _0x1e9b07=0x3e8,_0x1285eb=0x7530,_0x4617f1=_0x2d5ee2(0xc2),_0x585702=_0x2d5ee2(0x304),_0x323b86=_0x2d5ee2(0x1dd),_0x1f7f6d=[_0x4617f1,_0x585702],_0x144c7e=[_0x323b86];class _0x2b9409{[_0x2d5ee2(0x5d6)]=0x0;[_0x2d5ee2(0x3ed)]=0x0;['jitter']=0x0;[_0x2d5ee2(0x576)]=0x0;[_0x2d5ee2(0x367)]=0x0;[_0x2d5ee2(0x5ab)]=0x0;['previousTimestamp']=0x0;[_0x2d5ee2(0x3c3)]=0x0;[_0x2d5ee2(0x681)]=0x0;get[_0x2d5ee2(0x38c)](){const _0x1c489c=_0x2d5ee2;return this[_0x1c489c(0x5ab)]>0x0&&this[_0x1c489c(0x13a)]>0x0&&Date[_0x1c489c(0x191)]()-this[_0x1c489c(0x5ab)]<_0x1285eb?(this[_0x1c489c(0x3c3)]-this[_0x1c489c(0x681)])/(this['currentTimestamp']-this[_0x1c489c(0x13a)])*0x8*0x3e8:0x0;}[_0x2d5ee2(0x35d)](_0x3fec97){const _0x19e1de=_0x2d5ee2;switch(_0x3fec97[_0x19e1de(0x2f5)]){case _0x323b86:this[_0x19e1de(0x514)](_0x3fec97);break;case _0x4617f1:this[_0x19e1de(0x30b)](_0x3fec97);break;case _0x585702:this['processRemoteInboundReport'](_0x3fec97);}}[_0x2d5ee2(0x390)](){const _0xc046ed=_0x2d5ee2;return{'bitrate':this[_0xc046ed(0x38c)],'packetsLostPerc':this[_0xc046ed(0x254)](),'roundTripTime':this[_0xc046ed(0x5d6)],'jitter':this[_0xc046ed(0x82e)]};}[_0x2d5ee2(0x514)](_0x23b80f){const _0x476482=_0x2d5ee2;this[_0x476482(0x39e)](_0x23b80f[_0x476482(0x84b)]),this[_0x476482(0x4ee)](_0x23b80f[_0x476482(0x121)]),this['packets']=_0x23b80f[_0x476482(0x3b6)],this['packetsLost']=_0x23b80f[_0x476482(0x576)],void 0x0!==_0x23b80f['jitter']?this[_0x476482(0x82e)]=_0x23b80f['jitter']:this['jitter']=0x0,void 0x0!==_0x23b80f['estimatedPlayoutTimestamp']?this['estimatedPlayoutTimestamp']=_0x23b80f[_0x476482(0x3ed)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x2d5ee2(0x30b)](_0x2cd1da){const _0xabcc3f=_0x2d5ee2;this[_0xabcc3f(0x39e)](_0x2cd1da[_0xabcc3f(0x812)]),this[_0xabcc3f(0x4ee)](_0x2cd1da[_0xabcc3f(0x121)]),this['packets']=_0x2cd1da['packetsSent'];}[_0x2d5ee2(0x3d6)](_0xa845d3){const _0xe4b731=_0x2d5ee2;this[_0xe4b731(0x5d6)]=0x3e8*_0xa845d3[_0xe4b731(0x5d6)],void 0x0!==_0xa845d3['jitter']?this['jitter']=_0xa845d3[_0xe4b731(0x82e)]:this['jitter']=0x0;}[_0x2d5ee2(0x254)](){const _0x199e87=_0x2d5ee2;return this['packets']>0x0?this[_0x199e87(0x576)]/this[_0x199e87(0x367)]:0x0;}[_0x2d5ee2(0x4ee)](_0xb3d342){const _0x492f13=_0x2d5ee2;_0xb3d342>this['currentTimestamp']&&(this[_0x492f13(0x13a)]=this['currentTimestamp'],this['currentTimestamp']=_0xb3d342);}[_0x2d5ee2(0x39e)](_0x1d874f){const _0x2d03fe=_0x2d5ee2;this[_0x2d03fe(0x681)]=this[_0x2d03fe(0x3c3)],this[_0x2d03fe(0x3c3)]=_0x1d874f;}}class _0x1209de extends _0x2b9409{}class _0x8e8d7a extends _0x2b9409{['frameTime']=0x0;['frameWidth']=0x0;[_0x2d5ee2(0x80d)]=0x0;[_0x2d5ee2(0x778)]=0x0;[_0x2d5ee2(0x2a1)]=0x0;get['fps'](){const _0x44333a=_0x2d5ee2;return this[_0x44333a(0x5ab)]>0x0&&this[_0x44333a(0x13a)]>0x0&&Date['now']()-this[_0x44333a(0x5ab)]<_0x1285eb?(this['currentFrames']-this[_0x44333a(0x2a1)])/(this[_0x44333a(0x5ab)]-this[_0x44333a(0x13a)])*0x3e8:0x0;}get[_0x2d5ee2(0x627)](){const _0x1f4ece=_0x2d5ee2;return this['frameTime']&&this[_0x1f4ece(0x778)]&&this[_0x1f4ece(0x778)]>0x0?this[_0x1f4ece(0x13f)]/this[_0x1f4ece(0x778)]:0x0;}set['frames'](_0x5dc9a7){const _0x57b77c=_0x2d5ee2;this[_0x57b77c(0x2a1)]=this['currentFrames'],this['currentFrames']=_0x5dc9a7;}[_0x2d5ee2(0x390)](){const _0x5e1fa2=_0x2d5ee2;return{...super[_0x5e1fa2(0x390)](),'FPS':this[_0x5e1fa2(0x828)],'timePerFrame':this[_0x5e1fa2(0x627)],'frameWidth':this['frameWidth'],'frameHeight':this[_0x5e1fa2(0x80d)]};}[_0x2d5ee2(0x514)](_0x11902c){const _0x49930d=_0x2d5ee2;super[_0x49930d(0x514)](_0x11902c),this['frameTime']=_0x11902c[_0x49930d(0x3d4)],this['frames']=_0x11902c[_0x49930d(0x1e9)],this[_0x49930d(0x1ec)]=_0x11902c[_0x49930d(0x1ec)],this[_0x49930d(0x80d)]=_0x11902c['frameHeight'];}[_0x2d5ee2(0x30b)](_0x32dd42){const _0xe63c9e=_0x2d5ee2;super[_0xe63c9e(0x30b)](_0x32dd42),this[_0xe63c9e(0x13f)]=_0x32dd42['totalEncodeTime'],this[_0xe63c9e(0x2d1)]=_0x32dd42[_0xe63c9e(0x760)],this[_0xe63c9e(0x1ec)]=_0x32dd42['frameWidth'],this['frameHeight']=_0x32dd42[_0xe63c9e(0x80d)];}}class _0x2dac63{['audio']=new _0x1209de();[_0x2d5ee2(0x849)]=new _0x8e8d7a();get[_0x2d5ee2(0x38c)](){const _0x457632=_0x2d5ee2;return this[_0x457632(0x23e)][_0x457632(0x38c)]+this['video'][_0x457632(0x38c)];}[_0x2d5ee2(0x47b)](_0x25a65c){const _0x5a6154=_0x2d5ee2;return _0x25a65c[_0x5a6154(0x57b)](_0x107c89=>{const _0x375a70=_0x5a6154;switch(_0x107c89[_0x375a70(0xaf)]){case _0x375a70(0x23e):this[_0x375a70(0x23e)][_0x375a70(0x35d)](_0x107c89);break;case _0x375a70(0x849):this[_0x375a70(0x849)][_0x375a70(0x35d)](_0x107c89);}}),this['getReport']();}[_0x2d5ee2(0x390)](){const _0x336d85=_0x2d5ee2;return{'audio':this['audio']['getReport'](),'video':this['video'][_0x336d85(0x390)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x336d85(0x507)](),'bitrate':this[_0x336d85(0x38c)]};}[_0x2d5ee2(0x810)](){const _0x56068b=_0x2d5ee2;return Math[_0x56068b(0x5fb)]((this[_0x56068b(0x23e)][_0x56068b(0x5d6)]+this[_0x56068b(0x849)][_0x56068b(0x5d6)])/0x2);}[_0x2d5ee2(0x507)](){const _0x5bc06e=_0x2d5ee2;return this[_0x5bc06e(0x23e)][_0x5bc06e(0x3ed)]-this[_0x5bc06e(0x849)][_0x5bc06e(0x3ed)];}}class _0x354a36{[_0x2d5ee2(0x699)]=0x0;[_0x2d5ee2(0x572)]=0x0;['receiverCurrentTimestamp']=0x0;['receiverPreviousTimestamp']=0x0;['senderCurrentBytes']=0x0;[_0x2d5ee2(0x718)]=0x0;[_0x2d5ee2(0x819)]=0x0;['receiverPreviousBytes']=0x0;[_0x2d5ee2(0x545)]=0x0;['receiverTotalMessages']=0x0;[_0x2d5ee2(0x3d3)]=0x0;['receiverTimeProcessing']=0x0;[_0x2d5ee2(0x5d6)]=0x0;get[_0x2d5ee2(0x38c)](){const _0x4b03cc=_0x2d5ee2;return this[_0x4b03cc(0x144)]+this['receiverBitrate'];}get[_0x2d5ee2(0x144)](){const _0x3cd69e=_0x2d5ee2;return this[_0x3cd69e(0x699)]>0x0&&this[_0x3cd69e(0x572)]>0x0&&Date[_0x3cd69e(0x191)]()-this['senderCurrentTimestamp']<_0x1285eb?(this[_0x3cd69e(0x3e7)]-this[_0x3cd69e(0x718)])/(this[_0x3cd69e(0x699)]-this[_0x3cd69e(0x572)])*0x8*0x3e8:0x0;}get[_0x2d5ee2(0x746)](){const _0x859be4=_0x2d5ee2;return this[_0x859be4(0xce)]>0x0&&this[_0x859be4(0x3bb)]>0x0&&Date[_0x859be4(0x191)]()-this[_0x859be4(0xce)]<_0x1285eb?(this[_0x859be4(0x819)]-this[_0x859be4(0x6b1)])/(this['receiverCurrentTimestamp']-this[_0x859be4(0x3bb)])*0x8*0x3e8:0x0;}[_0x2d5ee2(0x35d)](_0x3c82df){const _0x46795f=_0x2d5ee2;switch(_0x3c82df[_0x46795f(0x2ad)]){case _0xf7c085['Sender']:this[_0x46795f(0x41b)](_0x3c82df);break;case _0xf7c085[_0x46795f(0xd6)]:this['processReceiverReport'](_0x3c82df);}}[_0x2d5ee2(0x390)](){const _0x46624c=_0x2d5ee2;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x46624c(0x144)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x46624c(0x597)](),'senderTotalBytes':this[_0x46624c(0x700)](),'receiverTotalBytes':this[_0x46624c(0x479)](),'totalMessages':this[_0x46624c(0x545)]+this[_0x46624c(0x3b9)],'senderTotalMessages':this[_0x46624c(0x545)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x46624c(0x2b6)],'senderTimeProcessing':this[_0x46624c(0x3d3)],'receiverTimeProcessing':this[_0x46624c(0x2b6)],'roundTripTime':this[_0x46624c(0x5d6)]};}['getTotalBytes'](){const _0x1af17c=_0x2d5ee2;return this['senderCurrentBytes']+this[_0x1af17c(0x819)];}[_0x2d5ee2(0x700)](){const _0x43f09f=_0x2d5ee2;return this[_0x43f09f(0x3e7)];}['getReceiverTotalBytes'](){const _0x550ef4=_0x2d5ee2;return this[_0x550ef4(0x819)];}[_0x2d5ee2(0x41b)](_0x5b43d1){const _0x43854f=_0x2d5ee2;this[_0x43854f(0x3cd)](_0x5b43d1[_0x43854f(0x121)]),this[_0x43854f(0x39e)](_0x5b43d1[_0x43854f(0x812)]),this['senderTotalMessages']=_0x5b43d1['messagesSent'],this[_0x43854f(0x3d3)]=_0x5b43d1['timeSending'],this['roundTripTime']=_0x5b43d1[_0x43854f(0x5d6)];}[_0x2d5ee2(0x465)](_0x576d5f){const _0xa95adf=_0x2d5ee2;this[_0xa95adf(0x56c)](_0x576d5f[_0xa95adf(0x121)]),this['setReceiverBytes'](_0x576d5f[_0xa95adf(0x84b)]),this[_0xa95adf(0x3b9)]=_0x576d5f[_0xa95adf(0x235)],this[_0xa95adf(0x2b6)]=_0x576d5f[_0xa95adf(0x4ef)];}['setSenderTimestamp'](_0x53be47){const _0x337471=_0x2d5ee2;_0x53be47>this[_0x337471(0x699)]&&(this['senderPreviousTimestamp']=this[_0x337471(0x699)],this[_0x337471(0x699)]=_0x53be47);}[_0x2d5ee2(0x56c)](_0x5e380a){const _0x108bbc=_0x2d5ee2;_0x5e380a>this[_0x108bbc(0xce)]&&(this[_0x108bbc(0x3bb)]=this[_0x108bbc(0xce)],this[_0x108bbc(0xce)]=_0x5e380a);}[_0x2d5ee2(0x39e)](_0x374da5){const _0x106d7e=_0x2d5ee2;this['senderPreviousBytes']=this['senderCurrentBytes'],this[_0x106d7e(0x3e7)]=_0x374da5;}[_0x2d5ee2(0xa3)](_0x52b393){const _0x3a30bf=_0x2d5ee2;this[_0x3a30bf(0x6b1)]=this[_0x3a30bf(0x819)],this['receiverCurrentBytes']=_0x52b393;}}class _0x2d279d{[_0x2d5ee2(0x631)]=new Map();[_0x2d5ee2(0x3a9)]=new Map();['dataChannel']=new _0x354a36();get[_0x2d5ee2(0x144)](){const _0x437337=_0x2d5ee2;let _0x554ebc=0x0;return this[_0x437337(0x631)]['forEach'](_0x364bfc=>{const _0x2f3fc0=_0x437337;_0x554ebc+=_0x364bfc[_0x2f3fc0(0x38c)];}),_0x554ebc+=this[_0x437337(0x352)][_0x437337(0x144)],_0x554ebc;}get[_0x2d5ee2(0x746)](){const _0x11809a=_0x2d5ee2;let _0x2124d0=0x0;return this[_0x11809a(0x3a9)]['forEach'](_0x2c8a96=>{_0x2124d0+=_0x2c8a96['bitrate'];}),_0x2124d0+=this[_0x11809a(0x352)][_0x11809a(0x746)],_0x2124d0;}get[_0x2d5ee2(0x38c)](){const _0x57460e=_0x2d5ee2;return this[_0x57460e(0x144)]+this['receiverBitrate'];}[_0x2d5ee2(0x47b)](_0x3b78a2,_0x50ee7a){const _0x333b55=_0x2d5ee2,_0x12020a=[],_0x3cada0=[];return _0x3b78a2 instanceof Array?_0x3b78a2[_0x333b55(0x57b)](_0x223cc1=>{const _0x4be3da=_0x333b55;_0x223cc1[_0x4be3da(0x57b)](_0x4ba48c=>{const _0x5337d0=_0x4be3da;_0x144c7e['includes'](_0x4ba48c[_0x5337d0(0x2f5)])&&_0x12020a[_0x5337d0(0x80e)](_0x4ba48c),_0x1f7f6d[_0x5337d0(0x51a)](_0x4ba48c[_0x5337d0(0x2f5)])&&_0x3cada0[_0x5337d0(0x80e)](_0x4ba48c);});}):this['dataChannel']['processReport'](_0x3b78a2),_0x12020a[_0x333b55(0x68c)]>0x0&&_0x50ee7a?{...this[_0x333b55(0x57c)](_0x50ee7a,_0x12020a),'origin':_0xf7c085[_0x333b55(0xd6)],'streamId':_0x50ee7a}:_0x3cada0[_0x333b55(0x68c)]>0x0&&_0x50ee7a?{...this[_0x333b55(0x69e)](_0x50ee7a,_0x3cada0),'origin':_0xf7c085[_0x333b55(0x5c4)],'streamId':_0x50ee7a}:void 0x0;}[_0x2d5ee2(0x390)](){const _0x3115c8=_0x2d5ee2,_0x19ef9f={};this[_0x3115c8(0x631)][_0x3115c8(0x57b)]((_0xf7287d,_0x2117db)=>{const _0x3fa21f=_0x3115c8;_0x19ef9f[_0x2117db]=_0xf7287d[_0x3fa21f(0x390)]();});const _0x2df83a={};return this[_0x3115c8(0x3a9)][_0x3115c8(0x57b)]((_0x351e13,_0x2ae5df)=>{const _0x5eb20b=_0x3115c8;_0x2df83a[_0x2ae5df]=_0x351e13[_0x5eb20b(0x390)]();}),{'bitrate':this['bitrate'],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x3115c8(0x746)],'senderStreams':_0x19ef9f,'receiverStreams':_0x2df83a,'dataChannel':this[_0x3115c8(0x352)][_0x3115c8(0x390)]()};}[_0x2d5ee2(0x57c)](_0x489b2f,_0x834946){const _0x806945=_0x2d5ee2;return this[_0x806945(0x3a9)][_0x806945(0x2b3)](_0x489b2f)||this[_0x806945(0x3a9)][_0x806945(0x1d0)](_0x489b2f,new _0x2dac63()),this['receiverStreams'][_0x806945(0x548)](_0x489b2f)[_0x806945(0x47b)](_0x834946);}[_0x2d5ee2(0x69e)](_0x3fdcae,_0x48a644){const _0xf31a00=_0x2d5ee2;return this['senderStreams'][_0xf31a00(0x2b3)](_0x3fdcae)||this[_0xf31a00(0x631)][_0xf31a00(0x1d0)](_0x3fdcae,new _0x2dac63()),this[_0xf31a00(0x631)][_0xf31a00(0x548)](_0x3fdcae)[_0xf31a00(0x47b)](_0x48a644);}}class _0x1c15cd{[_0x2d5ee2(0x199)]=new Map();[_0x2d5ee2(0x6da)]=0x0;[_0x2d5ee2(0x7de)]=0x0;[_0x2d5ee2(0x4d4)]=new Map();['objectStores']=new Map();[_0x2d5ee2(0x1ee)]=new Map();['generativeAIContexts']=new Map();[_0x2d5ee2(0x9f)]=new Map();['vectorDatabases']=new Map();[_0x2d5ee2(0x340)]=new Map();['senderTotalMessages']=new Map();[_0x2d5ee2(0x3b9)]=new Map();['senderTimeProcessing']=new Map();[_0x2d5ee2(0x2b6)]=new Map();[_0x2d5ee2(0x6b8)]=new Map();[_0x2d5ee2(0x319)];[_0x2d5ee2(0x390)](){const _0x4363a2=_0x2d5ee2,_0x10104b={};this['nodes']['forEach']((_0x5f2258,_0x5e9680)=>{const _0x36987b=a0_0x5322;_0x10104b[_0x5e9680]=_0x5f2258[_0x36987b(0x390)]();});let _0x12bd84=0x0;this[_0x4363a2(0x3d3)][_0x4363a2(0x57b)](_0x25424e=>{_0x12bd84+=_0x25424e;});let _0x585fcf=0x0;this['receiverTimeProcessing']['forEach'](_0x5bbb88=>{_0x585fcf+=_0x5bbb88;});const _0x56a734=_0x12bd84+_0x585fcf;let _0x3815ff={'messages':{'total':0x0}};this[_0x4363a2(0x6b8)][_0x4363a2(0x57b)](_0xafc269=>{const _0x5edcad=_0x4363a2;Object[_0x5edcad(0x41f)](_0xafc269)[_0x5edcad(0x57b)](_0x3d03bb=>{const _0x2509a9=_0x5edcad;_0x3815ff[_0x3d03bb]||(_0x3815ff[_0x3d03bb]={}),Object[_0x2509a9(0x41f)](_0xafc269[_0x3d03bb])[_0x2509a9(0x57b)](_0x421621=>{_0x3815ff[_0x3d03bb][_0x421621]||(_0x3815ff[_0x3d03bb][_0x421621]=0x0),_0x3815ff[_0x3d03bb][_0x421621]+=_0xafc269[_0x3d03bb][_0x421621];});});});let _0x2c94e7=0x0,_0x2cdbe0=0x0,_0x574a15=0x0,_0x114082=0x0,_0x34fbbc=0x0;return this[_0x4363a2(0x4d4)][_0x4363a2(0x57b)](_0x2733d9=>{const _0x12697c=_0x4363a2;_0x2cdbe0+=_0x2733d9[_0x12697c(0x608)],_0x574a15+=_0x2733d9[_0x12697c(0x235)],_0x114082+=_0x2733d9['bytesSent'],_0x34fbbc+=_0x2733d9[_0x12697c(0x84b)];}),this[_0x4363a2(0x217)][_0x4363a2(0x57b)](_0x2abd97=>{const _0x2ee308=_0x4363a2;_0x2c94e7+=_0x2abd97[_0x2ee308(0x2e6)],_0x2cdbe0+=_0x2abd97[_0x2ee308(0x608)],_0x574a15+=_0x2abd97[_0x2ee308(0x235)],_0x114082+=_0x2abd97['bytesSent'],_0x34fbbc+=_0x2abd97[_0x2ee308(0x84b)];}),this[_0x4363a2(0x1ee)][_0x4363a2(0x57b)](_0x128b99=>{const _0x570941=_0x4363a2;_0x2c94e7+=_0x128b99[_0x570941(0x2e6)],_0x2cdbe0+=_0x128b99['messagesSent'],_0x574a15+=_0x128b99[_0x570941(0x235)],_0x114082+=_0x128b99[_0x570941(0x812)],_0x34fbbc+=_0x128b99[_0x570941(0x84b)];}),this[_0x4363a2(0x593)][_0x4363a2(0x57b)](_0x1af9c2=>{const _0x36af55=_0x4363a2;_0x2c94e7+=_0x1af9c2[_0x36af55(0x2e6)],_0x2cdbe0+=_0x1af9c2['messagesSent'],_0x574a15+=_0x1af9c2[_0x36af55(0x235)],_0x114082+=_0x1af9c2['bytesSent'],_0x34fbbc+=_0x1af9c2[_0x36af55(0x84b)];}),this[_0x4363a2(0x9f)][_0x4363a2(0x57b)](_0x36df77=>{const _0x9e9e73=_0x4363a2;_0x2c94e7+=_0x36df77[_0x9e9e73(0x2e6)],_0x2cdbe0+=_0x36df77[_0x9e9e73(0x608)],_0x574a15+=_0x36df77[_0x9e9e73(0x235)],_0x114082+=_0x36df77[_0x9e9e73(0x812)],_0x34fbbc+=_0x36df77['bytesReceived'];}),this[_0x4363a2(0x52d)]['forEach'](_0x3469a4=>{const _0xc5acdc=_0x4363a2;_0x2c94e7+=_0x3469a4[_0xc5acdc(0x2e6)],_0x2cdbe0+=_0x3469a4[_0xc5acdc(0x608)],_0x574a15+=_0x3469a4['messagesReceived'],_0x114082+=_0x3469a4[_0xc5acdc(0x812)],_0x34fbbc+=_0x3469a4[_0xc5acdc(0x84b)];}),this['graphDatabases'][_0x4363a2(0x57b)](_0x3ec7cb=>{const _0x5a485d=_0x4363a2;_0x2c94e7+=_0x3ec7cb[_0x5a485d(0x2e6)],_0x2cdbe0+=_0x3ec7cb[_0x5a485d(0x608)],_0x574a15+=_0x3ec7cb[_0x5a485d(0x235)],_0x114082+=_0x3ec7cb[_0x5a485d(0x812)],_0x34fbbc+=_0x3ec7cb[_0x5a485d(0x84b)];}),{'STVolatility':this[_0x4363a2(0x430)](),'DTVolatility':this[_0x4363a2(0x4fd)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x4363a2(0x5a7)](),'receiverBitrate':this[_0x4363a2(0x4f6)](),'totalStorageSize':_0x2c94e7,'totalMessages':_0x2cdbe0+_0x574a15,'totalMessagesSent':_0x2cdbe0,'totalMessagesReceived':_0x574a15,'totalBytes':_0x114082+_0x34fbbc,'totalBytesSent':_0x114082,'totalBytesReceived':_0x34fbbc,'systemMessages':_0x3815ff,'timeProcessing':_0x56a734,'nodes':_0x10104b,'pubsubTopics':Object[_0x4363a2(0x156)](this[_0x4363a2(0x4d4)]),'objectStores':Object['fromEntries'](this[_0x4363a2(0x217)]),'keyValueDatabases':Object['fromEntries'](this[_0x4363a2(0x1ee)]),'generativeAIContexts':Object[_0x4363a2(0x156)](this[_0x4363a2(0x593)]),'generativeAIWorkers':Object[_0x4363a2(0x156)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x4363a2(0x156)](this[_0x4363a2(0x52d)]),'graphDatabases':Object[_0x4363a2(0x156)](this[_0x4363a2(0x340)])};}['addRemoteNode'](_0x1803a6){const _0x36cc38=_0x2d5ee2;this[_0x36cc38(0x199)][_0x36cc38(0x1d0)](_0x1803a6,new _0x2d279d());}[_0x2d5ee2(0x1bb)](_0x19bd35){const _0x567d42=_0x2d5ee2;this[_0x567d42(0x199)][_0x567d42(0x201)](_0x19bd35);}[_0x2d5ee2(0x47b)](_0x339b7c,_0x2a2764,_0x7903f3){const _0x3288f3=_0x2d5ee2;_0x2a2764 instanceof Array||this[_0x3288f3(0x1d6)](_0x339b7c,_0x2a2764);const _0x44c8c7=this['nodes'][_0x3288f3(0x548)](_0x339b7c)?.[_0x3288f3(0x47b)](_0x2a2764,_0x7903f3);_0x44c8c7&&this[_0x3288f3(0x319)][_0x3288f3(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x3288f3(0x57f)],'content':{'type':_0x116d42[_0x3288f3(0x419)],'data':{..._0x44c8c7,'nodeId':_0x339b7c}}});}[_0x2d5ee2(0x75a)](_0x4aa5d6){const _0x5432be=_0x2d5ee2;this['setScheduleTime'](_0x4aa5d6[_0x5432be(0xfe)]),this[_0x5432be(0x606)](_0x4aa5d6[_0x5432be(0x7de)]),this[_0x5432be(0x319)][_0x5432be(0xef)]({'sourceId':_0x1e8ab6,'messageType':_0xa1c806[_0x5432be(0x57f)],'content':{'type':_0x116d42[_0x5432be(0x503)],'data':{'STVolatility':this[_0x5432be(0x430)](),'DTVolatility':this[_0x5432be(0x4fd)]()}}});}['processServiceReport'](_0x33147e,_0x2b0d98,_0x365db4){const _0x5ea9d4=_0x2d5ee2;switch(_0x2b0d98){case _0xdecfb9['PubSubTopicStats']:this[_0x5ea9d4(0x4d4)][_0x5ea9d4(0x1d0)](_0x33147e,_0x365db4);break;case _0xdecfb9[_0x5ea9d4(0x4fa)]:this[_0x5ea9d4(0x217)][_0x5ea9d4(0x1d0)](_0x33147e,_0x365db4);break;case _0xdecfb9[_0x5ea9d4(0x206)]:this[_0x5ea9d4(0x1ee)][_0x5ea9d4(0x1d0)](_0x33147e,_0x365db4);break;case _0xdecfb9['GenerativeAIContextStats']:this['generativeAIContexts'][_0x5ea9d4(0x1d0)](_0x33147e,_0x365db4);break;case _0xdecfb9[_0x5ea9d4(0x425)]:this[_0x5ea9d4(0x9f)][_0x5ea9d4(0x1d0)](_0x33147e,_0x365db4);break;case _0xdecfb9[_0x5ea9d4(0x422)]:this[_0x5ea9d4(0x52d)][_0x5ea9d4(0x1d0)](_0x33147e,_0x365db4);break;case _0xdecfb9['GraphDatabaseStats']:this['graphDatabases']['set'](_0x33147e,_0x365db4);}}['registerSystemPublisher'](_0xa09123){this['systemTopic']=_0xa09123;}['unregisterSystemPublisher'](){const _0x4f8bd2=_0x2d5ee2;delete this[_0x4f8bd2(0x319)];}[_0x2d5ee2(0x430)](){const _0x2faebb=_0x2d5ee2;return this['scheduleTime']>0x0&&this[_0x2faebb(0x6da)]-_0x1e9b07>0x0?(this[_0x2faebb(0x6da)]-_0x1e9b07)/_0x1e9b07:0x0;}['getDTVolatility'](){const _0x517767=_0x2d5ee2;return this['durationTime']>0x0&&this[_0x517767(0x7de)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x2d5ee2(0x5a7)](){const _0x56955d=_0x2d5ee2;let _0x200954=0x0;return this[_0x56955d(0x199)][_0x56955d(0x57b)](_0x4464fe=>{_0x200954+=_0x4464fe['senderBitrate'];}),_0x200954;}[_0x2d5ee2(0x4f6)](){const _0x43c791=_0x2d5ee2;let _0xe00687=0x0;return this[_0x43c791(0x199)]['forEach'](_0x5e0fe1=>{const _0x56b21d=_0x43c791;_0xe00687+=_0x5e0fe1[_0x56b21d(0x746)];}),_0xe00687;}[_0x2d5ee2(0x14f)](){const _0x57425f=_0x2d5ee2;let _0x1b2e03=0x0;return this[_0x57425f(0x199)]['forEach'](_0x230248=>{const _0x54cfe2=_0x57425f;_0x1b2e03+=_0x230248[_0x54cfe2(0x38c)];}),_0x1b2e03;}[_0x2d5ee2(0x5c9)](_0x525122){const _0x50cf9a=_0x2d5ee2;this[_0x50cf9a(0x6da)]=_0x525122;}[_0x2d5ee2(0x606)](_0x45ba88){const _0x373806=_0x2d5ee2;this[_0x373806(0x7de)]=_0x45ba88;}[_0x2d5ee2(0x1d6)](_0x51ceb8,_0x25f481){const _0x3b8686=_0x2d5ee2;switch(_0x25f481[_0x3b8686(0x2ad)]){case _0xf7c085['Sender']:this['processSenderReport'](_0x51ceb8,_0x25f481);break;case _0xf7c085[_0x3b8686(0xd6)]:this[_0x3b8686(0x465)](_0x51ceb8,_0x25f481);}}['processSenderReport'](_0x1a206e,_0xc41d72){const _0xbd44ac=_0x2d5ee2;this['senderTotalMessages'][_0xbd44ac(0x1d0)](_0x1a206e,_0xc41d72[_0xbd44ac(0x608)]),this['senderTimeProcessing']['set'](_0x1a206e,_0xc41d72[_0xbd44ac(0xbe)]);}[_0x2d5ee2(0x465)](_0x1ef0ba,_0xc39d70){const _0x5dcae5=_0x2d5ee2;this[_0x5dcae5(0x3b9)][_0x5dcae5(0x1d0)](_0x1ef0ba,_0xc39d70[_0x5dcae5(0x235)]),this[_0x5dcae5(0x2b6)][_0x5dcae5(0x1d0)](_0x1ef0ba,_0xc39d70[_0x5dcae5(0x4ef)]),this[_0x5dcae5(0x6b8)][_0x5dcae5(0x1d0)](_0x1ef0ba,_0xc39d70[_0x5dcae5(0x6b8)]);}}class _0x4579c5{[_0x2d5ee2(0x3f0)];[_0x2d5ee2(0x4f2)]=new Set();[_0x2d5ee2(0x42e)];['statsCollection'];[_0x2d5ee2(0x3d5)];[_0x2d5ee2(0x297)]=new _0x1c15cd();constructor(_0x41f995){const _0x3ab34a=_0x2d5ee2;this[_0x3ab34a(0x3f0)]=_0x41f995,this[_0x3ab34a(0x3f0)][_0x3ab34a(0x34c)]['registerSystemSource'](this['statsReport']),this[_0x3ab34a(0x4b4)]=this['setupStatsCollection'](),this[_0x3ab34a(0x3d5)]=this[_0x3ab34a(0x49c)]();}['close'](){const _0x6a4d49=_0x2d5ee2;this[_0x6a4d49(0x3f0)][_0x6a4d49(0x34c)]['unregisterSystemSource'](this['statsReport']),this['statsReporting'](),this[_0x6a4d49(0x4b4)]();}[_0x2d5ee2(0x6bd)](_0x21193e){const _0x1ca9f9=_0x2d5ee2;this[_0x1ca9f9(0x4f2)][_0x1ca9f9(0x40c)](_0x21193e),this[_0x1ca9f9(0x297)][_0x1ca9f9(0x6bd)](_0x21193e);}[_0x2d5ee2(0x1bb)](_0x42f449){const _0x8d2d3a=_0x2d5ee2;this[_0x8d2d3a(0x4f2)][_0x8d2d3a(0x201)](_0x42f449),this[_0x8d2d3a(0x297)]['removeRemoteNode'](_0x42f449);}['handlePeerConnectionSystemEvents'](_0x5d11c7){const _0xa99115=_0x2d5ee2;if(_0x5d11c7[_0xa99115(0x262)][_0xa99115(0x2f5)]===_0x274822[_0xa99115(0x57f)]){const {nodeId:_0x534e39,streamId:_0x360e16,stats:_0x444963}=_0x5d11c7[_0xa99115(0x262)];this[_0xa99115(0x297)][_0xa99115(0x47b)](_0x534e39,_0x444963,_0x360e16);}}[_0x2d5ee2(0x305)](_0x40d484){const _0x4b3c6c=_0x2d5ee2;switch(_0x40d484[_0x4b3c6c(0x262)][_0x4b3c6c(0x2f5)]){case _0xdecfb9['ObjectStoreStats']:case _0xdecfb9['KeyValueDatabaseStats']:case _0xdecfb9[_0x4b3c6c(0x745)]:case _0xdecfb9[_0x4b3c6c(0x148)]:case _0xdecfb9['GenerativeAIWorkerStats']:case _0xdecfb9[_0x4b3c6c(0x422)]:case _0xdecfb9[_0x4b3c6c(0x1cd)]:this[_0x4b3c6c(0x297)][_0x4b3c6c(0x66a)](_0x40d484[_0x4b3c6c(0x262)][_0x4b3c6c(0x5a5)],_0x40d484['content'][_0x4b3c6c(0x2f5)],_0x40d484[_0x4b3c6c(0x262)][_0x4b3c6c(0x171)]);}}[_0x2d5ee2(0x49c)](){const _0x3b68bf=_0x2d5ee2;return _0x4faffa[_0x3b68bf(0x52c)](()=>{const _0x1e14bf=_0x3b68bf,_0x477c75=this[_0x1e14bf(0x297)][_0x1e14bf(0x390)]();_0x4b7920[_0x1e14bf(0x5f9)](_0x27d952[_0x1e14bf(0x57f)],_0x1e14bf(0x7b5),_0x477c75),(0x0,_0x1f204c[_0x1e14bf(0x6e1)])((0x0,_0x1f204c['collection'])(_0x5b16bc[_0x1e14bf(0x433)](),'developers/'+this[_0x1e14bf(0x3f0)]['vendorId']+_0x1e14bf(0x215)),{'clusterId':this[_0x1e14bf(0x3f0)]['clusterId'],'nodeId':this[_0x1e14bf(0x3f0)][_0x1e14bf(0x5b9)][_0x1e14bf(0x7bf)](),'nodeType':this[_0x1e14bf(0x3f0)]['localNode']['type'],'timestamp':(0x0,_0x1f204c['serverTimestamp'])(),'report':_0x477c75}),_0x4b7920['logEvent'](_0x1e14bf(0x171),{'clusterId':this[_0x1e14bf(0x3f0)][_0x1e14bf(0x2dd)],'nodeId':this[_0x1e14bf(0x3f0)]['localNode']['getId'](),'nodeType':this[_0x1e14bf(0x3f0)][_0x1e14bf(0x5b9)][_0x1e14bf(0x2f5)],'data':{'report':_0x477c75}});},_0x1285eb);}[_0x2d5ee2(0x58b)](){const _0x185ee4=_0x2d5ee2;let _0x1c72ba=!0x1,_0x569beb=Date[_0x185ee4(0x191)]();return _0x4faffa[_0x185ee4(0x52c)](async()=>{const _0x54d5d8=_0x185ee4;if(_0x1c72ba)return;if(_0x1c72ba=!0x0,0x0===this[_0x54d5d8(0x4f2)][_0x54d5d8(0x6b6)])return delete this[_0x54d5d8(0x42e)],void(_0x1c72ba=!0x1);const _0x30a526=Date[_0x54d5d8(0x191)]();this[_0x54d5d8(0x34b)]();try{await this[_0x54d5d8(0x3f0)][_0x54d5d8(0x34c)][_0x54d5d8(0x1c4)](this[_0x54d5d8(0x42e)]);}catch(_0x3caea4){}this[_0x54d5d8(0x297)][_0x54d5d8(0x75a)]({'secheduleTime':_0x30a526-_0x569beb,'durationTime':Date['now']()-_0x30a526}),_0x569beb=_0x30a526,_0x1c72ba=!0x1;},_0x1e9b07);}[_0x2d5ee2(0x34b)](){const _0x2999ad=_0x2d5ee2;let _0x4416f1,_0xa4bd3f=!0x1;this[_0x2999ad(0x42e)]&&(this[_0x2999ad(0x4f2)][_0x2999ad(0x2b3)](this[_0x2999ad(0x42e)])||delete this[_0x2999ad(0x42e)]);for(const _0x5a20f3 of this[_0x2999ad(0x4f2)])if(_0x4416f1||(_0x4416f1=_0x5a20f3),this[_0x2999ad(0x42e)]!==_0x5a20f3){if(_0xa4bd3f)return void(this[_0x2999ad(0x42e)]=_0x5a20f3);}else _0xa4bd3f=!0x0,delete this[_0x2999ad(0x42e)];this['nextNodeId']||(this[_0x2999ad(0x42e)]=_0x4416f1);}}class _0x40ff5a{[_0x2d5ee2(0x77a)];[_0x2d5ee2(0x574)];[_0x2d5ee2(0x319)];constructor(_0x475fa4,_0x1a960c){const _0x83d83e=_0x2d5ee2;this[_0x83d83e(0x77a)]=_0x475fa4,this[_0x83d83e(0x574)]=_0x1a960c;}['registerSystemPublisher'](_0x2472fe){this['systemTopic']=_0x2472fe;}[_0x2d5ee2(0x824)](){const _0x33947e=_0x2d5ee2;delete this[_0x33947e(0x319)];}}class _0x1c930a extends _0x40ff5a{[_0x2d5ee2(0x77a)];[_0x2d5ee2(0x574)];[_0x2d5ee2(0x306)];constructor(_0x3fba5e,_0x4804a8,_0x3eefb2){const _0x178d97=_0x2d5ee2;super(_0x3fba5e,_0x4804a8),this[_0x178d97(0x77a)]=_0x3fba5e,this['destination']=_0x4804a8,this['params']=_0x3eefb2;}[_0x2d5ee2(0x21a)](_0x33e7ef,_0x25816b,_0x30d7bf){const _0x55bf5e=_0x2d5ee2;if(this['destination'][_0x55bf5e(0x813)]()===_0x3f2cd3[_0x55bf5e(0x1f9)][_0x55bf5e(0x5b7)]){const _0x507d1d={'type':_0x119828[_0x55bf5e(0xc5)],'label':this[_0x55bf5e(0x574)][_0x55bf5e(0x127)](),'ownerId':_0x33e7ef,'trackKinds':_0x25816b??this['destination']['getAvailableTrackKinds'](),'params':_0x30d7bf};this['systemTopic'][_0x55bf5e(0xef)]({'sourceId':this[_0x55bf5e(0x77a)][_0x55bf5e(0x1bc)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0xa1c806[_0x55bf5e(0xd8)],'content':_0x507d1d}),this['params']=_0x30d7bf;}}[_0x2d5ee2(0x2d3)](_0x259913,_0x3d8914){const _0x1e0dd8=_0x2d5ee2;if(this[_0x1e0dd8(0x574)]['getContentType']()===_0x3f2cd3['ContentType'][_0x1e0dd8(0x5b7)]){const _0x28cd1f={'type':_0x119828[_0x1e0dd8(0x9c)],'label':this[_0x1e0dd8(0x574)]['getLabel'](),'ownerId':_0x259913,'params':_0x3d8914};this[_0x1e0dd8(0x319)][_0x1e0dd8(0xef)]({'sourceId':this[_0x1e0dd8(0x77a)][_0x1e0dd8(0x1bc)](),'destinationIds':[this[_0x1e0dd8(0x77a)][_0x1e0dd8(0x149)]()],'messageType':_0xa1c806['Subscription'],'content':_0x28cd1f}),this[_0x1e0dd8(0x306)]=_0x3d8914;}}[_0x2d5ee2(0x5ee)](_0x3a50be,_0x15a605,_0x51405d){const _0x520967=_0x2d5ee2;if(this[_0x520967(0x574)][_0x520967(0x813)]()===_0x3f2cd3[_0x520967(0x1f9)]['Media']){const _0x5e8926={'type':_0x119828[_0x520967(0x501)],'label':this[_0x520967(0x574)][_0x520967(0x127)](),'ownerId':_0x3a50be,'trackKinds':_0x51405d??this[_0x520967(0x574)][_0x520967(0x32d)](),'remainingTracks':_0x15a605};this['systemTopic'][_0x520967(0xef)]({'sourceId':this[_0x520967(0x77a)][_0x520967(0x1bc)](),'destinationIds':[this[_0x520967(0x77a)][_0x520967(0x149)]()],'messageType':_0xa1c806[_0x520967(0xd8)],'content':_0x5e8926});}}}class _0x404a93{[_0x2d5ee2(0x295)];[_0x2d5ee2(0x4f7)];['tracks'];[_0x2d5ee2(0x319)];[_0x2d5ee2(0x368)]=new Set();['startTime']=Date[_0x2d5ee2(0x191)]();[_0x2d5ee2(0x306)];[_0x2d5ee2(0x69f)]=0x0;constructor(_0xd96427,_0x5602bf,_0x411ff0,_0x3d5544){const _0x2bc273=_0x2d5ee2;this['currentDistance']=_0x5602bf,this[_0x2bc273(0x4f7)]=_0x411ff0,this[_0x2bc273(0x516)]=_0x3d5544,_0xd96427[_0x2bc273(0x57b)](_0xe12c22=>{const _0x50bb8a=_0x2bc273;this['answers'][_0x50bb8a(0x40c)]({'nodeId':_0xe12c22,'type':_0x4fde6e[_0x50bb8a(0x56a)]});});}[_0x2d5ee2(0x81f)](){const _0x292485=_0x2d5ee2;return this[_0x292485(0x516)];}[_0x2d5ee2(0x59c)](_0x568cfc){const _0x471e36=_0x2d5ee2;this[_0x471e36(0x319)]=_0x568cfc;}[_0x2d5ee2(0x824)](){const _0x4ce5da=_0x2d5ee2;delete this[_0x4ce5da(0x319)];}['reset'](_0x22350d,_0xae332b){const _0x5448e6=_0x2d5ee2;this[_0x5448e6(0x540)]=Date[_0x5448e6(0x191)](),this[_0x5448e6(0x368)][_0x5448e6(0x63e)](),_0x22350d[_0x5448e6(0x57b)](_0x4bf16f=>{const _0x2b70e6=_0x5448e6;this[_0x2b70e6(0x368)]['add']({'nodeId':_0x4bf16f,'type':_0x4fde6e['Waiting']});}),this[_0x5448e6(0x69f)]+=0x1,this['currentDistance']=_0xae332b;}[_0x2d5ee2(0x4c2)](_0x4e101d,_0x578ef7,_0x10e631,_0x23c68e,_0x1f474f){const _0x1bc239=_0x2d5ee2;if(this[_0x1bc239(0x69f)]>0xa)throw new _0x177832(_0x177832[_0x1bc239(0x492)][_0x1bc239(0x175)],{'answers':Array[_0x1bc239(0x81b)](this[_0x1bc239(0x368)])[_0x1bc239(0x313)](_0x21dcf9=>({'nodeId':_0x21dcf9[_0x1bc239(0x858)],'type':_0x21dcf9[_0x1bc239(0x2f5)]}))});const _0x22fe58=Array[_0x1bc239(0x81b)](this['answers'])[_0x1bc239(0x313)](_0x5894cc=>_0x5894cc['nodeId']);this[_0x1bc239(0x306)]=_0x1f474f,this[_0x1bc239(0x319)][_0x1bc239(0xef)]({'sourceId':_0x4e101d,'destinationIds':_0x22fe58,'messageType':_0xa1c806[_0x1bc239(0xd8)],'content':{'type':_0x119828[_0x1bc239(0x5ef)],'label':_0x10e631,'ownerId':_0x578ef7,'trackKinds':_0x23c68e,'params':_0x1f474f}}),_0x4b7920[_0x1bc239(0x5f9)](_0x27d952[_0x1bc239(0xd8)],'Send\x20request',_0x4e101d,_0x22fe58);}[_0x2d5ee2(0x301)](_0x5f3e29,_0x108749){const _0x4e11e5=_0x2d5ee2;switch(_0x108749[_0x4e11e5(0x2f5)]){case _0x119828[_0x4e11e5(0x9b)]:{const _0x580601=this[_0x4e11e5(0x295)]>=_0x108749[_0x4e11e5(0x3f6)]&&_0x108749['distance']<=this[_0x4e11e5(0x4f7)],_0x495bba=Array['from'](this['answers'])[_0x4e11e5(0x76e)](_0x301ff7=>_0x301ff7[_0x4e11e5(0x858)]===_0x5f3e29);_0x495bba[_0x4e11e5(0x2f5)]=_0x580601?_0x4fde6e['Accepted']:_0x4fde6e[_0x4e11e5(0x49a)],_0x495bba[_0x4e11e5(0x7ba)]=_0x108749['cost'],_0x495bba[_0x4e11e5(0x3f6)]=_0x108749[_0x4e11e5(0x3f6)],_0x495bba['streamId']=_0x108749[_0x4e11e5(0x7af)],_0x495bba[_0x4e11e5(0x5d6)]=Date[_0x4e11e5(0x191)]()-this[_0x4e11e5(0x540)],_0x495bba['params']=this[_0x4e11e5(0x306)],_0x495bba['ownerId']=_0x108749[_0x4e11e5(0x45d)],_0x495bba[_0x4e11e5(0x5c0)]=_0x108749[_0x4e11e5(0x5c0)],_0x495bba[_0x4e11e5(0x2bf)]=_0x108749['label'],_0x4b7920['log'](_0x27d952[_0x4e11e5(0xd8)],(_0x580601?_0x4e11e5(0x1a9):_0x4e11e5(0x49a))+_0x4e11e5(0x329),_0x495bba);break;}case _0x119828[_0x4e11e5(0x414)]:{const _0x537e3d=Array[_0x4e11e5(0x81b)](this[_0x4e11e5(0x368)])[_0x4e11e5(0x76e)](_0x4b90d7=>_0x4b90d7[_0x4e11e5(0x858)]===_0x5f3e29);_0x537e3d[_0x4e11e5(0x2f5)]=_0x4fde6e[_0x4e11e5(0x49a)],_0x4b7920[_0x4e11e5(0x5f9)](_0x27d952[_0x4e11e5(0xd8)],_0x4e11e5(0x48f),_0x537e3d);break;}}if(this['canChooseAnswer']())return this[_0x4e11e5(0x484)]();}[_0x2d5ee2(0x484)](){const _0xcff729=_0x2d5ee2,_0x526712=Array['from'](this['answers'])[_0xcff729(0x2e4)](_0x199eea=>_0x199eea[_0xcff729(0x2f5)]===_0x4fde6e[_0xcff729(0x1a9)])[_0xcff729(0x289)]((_0x4cc38b,_0x19b591)=>_0x4cc38b[_0xcff729(0x7ba)]===_0x19b591[_0xcff729(0x7ba)]?_0x4cc38b['roundTripTime']-_0x19b591['roundTripTime']:_0x4cc38b[_0xcff729(0x7ba)]-_0x19b591['cost']);if(0x0===_0x526712[_0xcff729(0x68c)])throw new _0x177832(_0x177832[_0xcff729(0x492)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0xcff729(0x81b)](this[_0xcff729(0x368)])['map'](_0x5352bc=>({'nodeId':_0x5352bc[_0xcff729(0x858)],'type':_0x5352bc[_0xcff729(0x2f5)]}))});return _0x4b7920[_0xcff729(0x5f9)](_0x27d952[_0xcff729(0xd8)],_0xcff729(0x7a4),_0x526712[0x0],this['answers']),_0x526712[0x0];}['canChooseAnswer'](){const _0x38ad8e=_0x2d5ee2;for(const _0x491cbb of this[_0x38ad8e(0x368)])if(_0x491cbb[_0x38ad8e(0x2f5)]===_0x4fde6e['Waiting'])return!0x1;return!0x0;}}class _0x2b299e{['label'];['contentType'];[_0x2d5ee2(0x57d)]=_0x368dbe();constructor(_0x289e50,_0x50185a){const _0x482e1d=_0x2d5ee2;this['label']=_0x289e50,this[_0x482e1d(0x2fb)]=_0x50185a;}[_0x2d5ee2(0x127)](){const _0x574fa2=_0x2d5ee2;return this[_0x574fa2(0x5a5)];}[_0x2d5ee2(0x813)](){const _0x57079e=_0x2d5ee2;return this[_0x57079e(0x2fb)];}[_0x2d5ee2(0x4a2)](_0x5b077f){const _0x30fb25=_0x2d5ee2;_0x5b077f[_0x30fb25(0x733)](this);}['registerDestination'](_0x51e032){_0x51e032['registerSubscriber'](this);}[_0x2d5ee2(0xef)](_0xa07d08){const _0x2a8f46=_0x2d5ee2;this[_0x2a8f46(0x57d)]['publish']({'topicLabel':this[_0x2a8f46(0x5a5)],'contentType':this[_0x2a8f46(0x2fb)],'uuid':(0x0,_0x53f5fa['v4'])(),'recipients':[],..._0xa07d08});}[_0x2d5ee2(0x21a)](_0x1fc5ec){const _0x1d5d5b=_0x2d5ee2;return this[_0x1d5d5b(0x57d)][_0x1d5d5b(0x21a)](_0x1fc5ec);}[_0x2d5ee2(0x750)](_0x4e559d){_0x4e559d['unregisterPublisher'](this);}['unregisterDestination'](_0x116af3){const _0x202ab7=_0x2d5ee2;_0x116af3[_0x202ab7(0x59b)](this);}}class _0x57eec7{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x2d5ee2(0x693)];constructor(_0x429f1e){const _0x1d9c57=_0x2d5ee2;this[_0x1d9c57(0x693)]=_0x429f1e;}get[_0x2d5ee2(0x359)](){const _0x3b764d=_0x2d5ee2;return this['maps'][_0x3b764d(0x359)];}get[_0x2d5ee2(0x4bb)](){return this['maps']['topics'];}[_0x2d5ee2(0x5ad)](_0x1405d6,_0x364115){const _0x4fc998=_0x2d5ee2,_0x149275=this['getPartsFromSubscription'](_0x364115),_0x368047=_0xaaf596(_0x1405d6);if(!_0x149275['supportsContentType'])throw new _0x177832(_0x177832[_0x4fc998(0x492)]['InvalidSubscription'],{'message':_0x368047+':\x20'+_0x149275[_0x4fc998(0x7fc)]+_0x4fc998(0x3df)+_0x149275[_0x4fc998(0x2fb)],'subscriptionType':_0x1405d6,'subscription':_0x364115,'subscriptonParts':_0x149275});const _0x56e58d=_0x3b023c(_0x1405d6,_0x149275);if(this[_0x4fc998(0x68e)][_0x4fc998(0x359)]['has'](_0x56e58d))throw new _0x177832(_0x177832['codes'][_0x4fc998(0x163)],{'message':_0x368047+':\x20'+_0x56e58d+_0x4fc998(0x49d),'subscriptionType':_0x1405d6,'subscription':_0x364115,'subscriptonParts':_0x149275});this['maps'][_0x4fc998(0x359)][_0x4fc998(0x1d0)](_0x56e58d,_0x364115),this[_0x4fc998(0x6cd)](_0x149275,_0x364115);}['removeSubscription'](_0x2794d6,_0x60d140){const _0x3c8ade=_0x2d5ee2,_0x5f35f8=_0x3b023c(_0x60d140,_0x2794d6),_0x2e44d4=this[_0x3c8ade(0x68e)][_0x3c8ade(0x359)][_0x3c8ade(0x548)](_0x5f35f8);if(!_0x2e44d4)throw new _0x177832(_0x177832[_0x3c8ade(0x492)]['InvalidSubscription'],{'message':_0xaaf596(_0x60d140)+':\x20'+_0x5f35f8+_0x3c8ade(0x42d),'subscriptionType':_0x60d140,'subscription':_0x2e44d4,'subscriptonParts':_0x2794d6});this[_0x3c8ade(0x39b)](_0x2e44d4,_0x5f35f8,_0x2794d6);}[_0x2d5ee2(0x39b)](_0x39fbe3,_0x43a2f2,_0x13896f){const _0x22f34c=_0x2d5ee2;_0x13896f=_0x13896f||this['getPartsFromSubscription'](_0x39fbe3),this[_0x22f34c(0x68e)][_0x22f34c(0x359)][_0x22f34c(0x201)](_0x43a2f2),this[_0x22f34c(0x17f)](_0x13896f,_0x39fbe3);}[_0x2d5ee2(0x6cd)](_0x12035d,{source:_0x214db,destination:_0x226da0}){const _0x2e3c66=_0x2d5ee2,{contentType:_0x279ac7,label:_0x1de265,remoteId:_0x3affa1}=_0x12035d,_0x5417ad=_0x2a6e2(_0x279ac7,_0x1de265,_0x3affa1),_0x528c24=new _0x2b299e(_0x5417ad,_0x279ac7);_0x528c24[_0x2e3c66(0x4a2)](_0x214db),_0x528c24[_0x2e3c66(0x825)](_0x226da0),this['maps'][_0x2e3c66(0x4bb)][_0x2e3c66(0x1d0)](_0x528c24[_0x2e3c66(0x127)](),_0x528c24);}[_0x2d5ee2(0x17f)](_0x1d231b,_0x36e566){const _0x1858df=_0x2d5ee2,{contentType:_0x287b2d,label:_0x4c32c0,remoteId:_0x43a5dc}=_0x1d231b,_0x37a3fb=_0x2a6e2(_0x287b2d,_0x4c32c0,_0x43a5dc),_0x21b75c=this[_0x1858df(0x68e)]['topics']['get'](_0x37a3fb);_0x21b75c&&(this[_0x1858df(0x844)](_0x21b75c,_0x36e566),this[_0x1858df(0x68e)][_0x1858df(0x4bb)]['delete'](_0x37a3fb));}[_0x2d5ee2(0x844)](_0x662685,{source:_0x1d6f8a,destination:_0x59d686}){const _0x478ac4=_0x2d5ee2;_0x662685[_0x478ac4(0x750)](_0x1d6f8a),_0x662685[_0x478ac4(0x1bd)](_0x59d686);}[_0x2d5ee2(0x6ac)](_0x38d480){const _0x2d014f=_0x2d5ee2;this[_0x2d014f(0x68e)][_0x2d014f(0x359)][_0x2d014f(0x57b)]((_0x1e6c35,_0x25ec54)=>{const _0x2621e3=_0x2d014f;_0x25ec54[_0x2621e3(0x4e0)](_0x38d480)&&this['closeSubscription'](_0x1e6c35,_0x25ec54);});}}class _0x505acd{[_0x2d5ee2(0x3f0)];[_0x2d5ee2(0x4f7)];['subscriptionRequests']=new Map();[_0x2d5ee2(0x6d6)]=_0x39f446(new _0x2cf9e1(this[_0x2d5ee2(0x462)][_0x2d5ee2(0x13b)](this),()=>_0x4faffa[_0x2d5ee2(0x84a)](0x64)),!0x0);[_0x2d5ee2(0x3ae)]=new Map();[_0x2d5ee2(0x68e)];[_0x2d5ee2(0x1a7)]=new Map();constructor(_0xf3f12d,_0x154a41){const _0x5d98e8=_0x2d5ee2;this[_0x5d98e8(0x3f0)]=_0xf3f12d,this[_0x5d98e8(0x4f7)]=_0x154a41,this[_0x5d98e8(0x68e)]=new _0x57eec7(({source:_0x11666b,destination:_0x1bba25})=>_0x49d23f(_0x1bba25,_0x11666b));}[_0x2d5ee2(0x5ad)](_0x50d277,_0x21f508){const _0x12cd89=_0x2d5ee2,_0x1ebc2d=this[_0x12cd89(0x7e1)](_0x50d277)&&this[_0x12cd89(0x2a6)](_0x21f508)?new _0x1c930a(_0x50d277,_0x21f508):new _0x40ff5a(_0x50d277,_0x21f508);this['maps'][_0x12cd89(0x5ad)](_0x26d73b[_0x12cd89(0x570)],_0x1ebc2d),this[_0x12cd89(0x3f0)][_0x12cd89(0x34c)][_0x12cd89(0x43b)](_0x1ebc2d);}['removeSubscription'](_0x5a9ecc,_0x31dc0b,_0x361fa9=''){const _0x19e62a=_0x2d5ee2,_0x4e06b2={'contentType':_0x31dc0b,'label':_0x5a9ecc,'remoteId':_0x361fa9},_0x3c0ac9=_0x3b023c(_0x26d73b[_0x19e62a(0x570)],_0x4e06b2),_0xb4c4e=this[_0x19e62a(0x68e)][_0x19e62a(0x359)]['get'](_0x3c0ac9);_0xb4c4e&&this[_0x19e62a(0x39b)](_0xb4c4e,_0x3c0ac9);}[_0x2d5ee2(0x5f8)](_0x1ea12c){const _0xf0cf96=_0x2d5ee2;this[_0xf0cf96(0x53b)](_0x1ea12c);}['handleContentSubscribeMediaStream']({label:_0x304773,ownerId:_0x185483,trackKinds:_0x2fa041,params:_0x2fb02e}){const _0x496323=_0x2d5ee2;this[_0x496323(0x19a)](_0x304773,_0x185483,_0x2fa041,_0x2fb02e);}[_0x2d5ee2(0x82f)]({ownerId:_0xdfb8a8,label:_0x931859,params:_0x1dae32}){const _0x48b013=_0x2d5ee2,{subscriptionLabel:_0x3bfaae}=this['getSubscriptionLabel'](_0x931859,_0xdfb8a8),_0x5b4dab=this['getMediaSubscription'](_0x3bfaae);_0x5b4dab&&_0x5b4dab[_0x48b013(0x2d3)](_0xdfb8a8,_0x1dae32);}[_0x2d5ee2(0x4e8)]({ownerId:_0x4a7940,label:_0x1ff764,trackKinds:_0x4d58a1,remainingTracks:_0x56766c}){const _0x383051=_0x2d5ee2,_0x5125c7=_0x3b023c(_0x26d73b[_0x383051(0x570)],{'contentType':_0x3f2cd3[_0x383051(0x1f9)][_0x383051(0x5b7)],'label':_0x1ff764,'remoteId':_0x4a7940});this[_0x383051(0x7d2)](_0x5125c7);const _0x11104f=this['subscriptionRequests'][_0x383051(0x548)](_0x5125c7);_0x11104f&&(this[_0x383051(0x3f0)][_0x383051(0x34c)]['unregisterSystemSource'](_0x11104f),this[_0x383051(0x6f1)]['delete'](_0x5125c7));const {parts:_0x36f648,subscriptionLabel:_0x3fcf23}=this['getSubscriptionLabel'](_0x1ff764,_0x4a7940),_0x4cab7b=this[_0x383051(0x402)](_0x3fcf23);_0x4cab7b&&(_0x4cab7b['unsubscribe'](_0x4a7940,_0x56766c,_0x4d58a1),0x0===_0x56766c&&this[_0x383051(0x344)](_0x36f648['label'],_0x36f648['contentType'],_0x36f648[_0x383051(0x7fc)]));}['handleSubscriptionRestartNeedMediaStream'](_0x5f3444,{label:_0x44025b,ownerId:_0x263447,trackKinds:_0x4c3758,streamId:_0x1c5950,params:_0x23e60e}){const _0x1fd893=_0x2d5ee2,_0x371f11=_0x3b023c(_0x26d73b['Incoming'],{'contentType':_0x3f2cd3[_0x1fd893(0x1f9)][_0x1fd893(0x5b7)],'label':_0x1c5950,'remoteId':_0x5f3444}),_0xf04cfd=this['maps']['subscriptions'][_0x1fd893(0x548)](_0x371f11);if(!(_0xf04cfd&&_0xf04cfd instanceof _0x1c930a))throw new _0x177832(_0x177832['codes'][_0x1fd893(0x85d)],{'label':_0x371f11,'ownerId':_0x263447});this[_0x1fd893(0x39b)](_0xf04cfd,_0x371f11),this[_0x1fd893(0x19a)](_0x44025b,_0x263447,_0x4c3758,_0x23e60e);}[_0x2d5ee2(0x263)](_0x525e94,_0x447c4a){const _0x3cecb1=_0x2d5ee2,{label:_0x5a4220,ownerId:_0x22bcf9,trackKinds:_0xaa994d,params:_0x226232}=_0x447c4a,_0x53e0c9=_0x3b023c(_0x26d73b[_0x3cecb1(0x570)],{'contentType':_0x3f2cd3[_0x3cecb1(0x1f9)][_0x3cecb1(0x5b7)],'label':_0x5a4220,'remoteId':_0x22bcf9});if(!this[_0x3cecb1(0x6f1)]['has'](_0x53e0c9))throw new _0x177832(_0x177832[_0x3cecb1(0x492)][_0x3cecb1(0x85d)],{'label':_0x53e0c9,'ownerId':_0x22bcf9,'streamId':_0x447c4a[_0x3cecb1(0x7af)],'requests':this[_0x3cecb1(0x6f1)]});const _0xbfbf13=this[_0x3cecb1(0x6f1)]['get'](_0x53e0c9);if(_0xaa994d['length']===_0xbfbf13[_0x3cecb1(0x81f)]()[_0x3cecb1(0x68c)]&&_0xaa994d['every'](_0x22994e=>_0xbfbf13[_0x3cecb1(0x81f)]()[_0x3cecb1(0x51a)](_0x22994e)))try{const _0x3d8e4e=_0xbfbf13[_0x3cecb1(0x301)](_0x525e94,_0x447c4a);if(!_0x3d8e4e)return;this[_0x3cecb1(0x21a)](_0x3d8e4e,_0x22bcf9,_0x5a4220,_0x53e0c9,_0xaa994d);}catch(_0x9f2b30){return void this[_0x3cecb1(0x85a)](_0x5a4220,_0x22bcf9,_0xaa994d,_0x226232);}}[_0x2d5ee2(0x63f)](_0x183dab,{label:_0x574ef3,ownerId:_0x2aa056,trackKinds:_0x16ee37}){const _0x16a95f=_0x2d5ee2,_0x5d2a51=this['configs'][_0x16a95f(0x34c)]['getRemoteMediaStream'](_0x2aa056,_0x574ef3);if(!_0x5d2a51)return;const _0x3e27ff=_0x5d2a51[_0x16a95f(0x168)](),_0x260e90=_0x5d2a51[_0x16a95f(0x3a0)]();_0x260e90[_0x16a95f(0x32b)](_0x5d50c2=>_0x16ee37[_0x16a95f(0x51a)](_0x5d50c2))&&this['findNewMediaSubscription'](_0x183dab,_0x574ef3,_0x3e27ff,_0x2aa056,_0x260e90);}[_0x2d5ee2(0x28f)]({label:_0x532b1f,providerId:_0x5b8149,ownerId:_0x43b609,streamId:_0x33f3c9,trackKinds:_0x39ae02}){this['findNewMediaSubscription'](_0x5b8149,_0x532b1f,_0x33f3c9,_0x43b609,_0x39ae02);}['handleOptimizationConnectionSuccess'](_0x164ca3){const _0x48e3ab=_0x2d5ee2;for(const _0x3ae16f of this[_0x48e3ab(0x1a7)][_0x48e3ab(0x2fd)]()){const {streamLabel:_0x25f1ee,ownerId:_0x89523f,trackKinds:_0x34921a,params:_0x268070}=_0x3ae16f;if(!_0x89523f||!_0x34921a||!_0x25f1ee)return;this[_0x48e3ab(0x6d6)]['push']({'label':_0x25f1ee,'ownerId':_0x89523f,'trackKinds':_0x34921a,'params':_0x268070,'remoteId':_0x164ca3});}}['removeSubscriptionsForNode'](_0x29633c){const _0x99fe31=_0x2d5ee2;this[_0x99fe31(0x68e)][_0x99fe31(0x359)][_0x99fe31(0x57b)]((_0x4bf33f,_0x2579f3)=>{const _0x79ac92=_0x99fe31;if(_0x2579f3[_0x79ac92(0x4e0)](_0x29633c)){if(_0x4bf33f[_0x79ac92(0x574)][_0x79ac92(0x813)]()===_0x3f2cd3[_0x79ac92(0x1f9)][_0x79ac92(0x5b7)]){const _0x27ea33=_0x4bf33f['destination'];if(_0x27ea33[_0x79ac92(0x3a0)]()[_0x79ac92(0x68c)]>0x0){const _0x40ce63={'type':_0x119828['MediaStreamUnavailable'],'label':_0x27ea33[_0x79ac92(0x127)](),'ownerId':_0x27ea33['getOwnerId'](),'trackKinds':_0x27ea33[_0x79ac92(0x3a0)]()};return void this[_0x79ac92(0x63f)](_0x29633c,_0x40ce63);}}this[_0x79ac92(0x39b)](_0x4bf33f,_0x2579f3);}});}[_0x2d5ee2(0x582)](){const _0x431238=_0x2d5ee2;this[_0x431238(0x68e)][_0x431238(0x359)]['forEach'](this[_0x431238(0x39b)][_0x431238(0x13b)](this));}['subscribe'](_0x4d9d02,_0x36f09a,_0x11e708,_0x44713a,_0x515f15){const _0x23bac0=_0x2d5ee2,_0x3c9588=this[_0x23bac0(0x3f0)][_0x23bac0(0x34c)][_0x23bac0(0x862)](_0x4d9d02[_0x23bac0(0x858)]),_0x52d295=this[_0x23bac0(0x3f0)][_0x23bac0(0x34c)][_0x23bac0(0x2b7)](_0x36f09a,_0x11e708);this[_0x23bac0(0x7d2)](_0x44713a),this[_0x23bac0(0x6f1)][_0x23bac0(0x2b3)](_0x44713a)&&(this['configs'][_0x23bac0(0x34c)][_0x23bac0(0x573)](this[_0x23bac0(0x6f1)][_0x23bac0(0x548)](_0x44713a)),this[_0x23bac0(0x6f1)][_0x23bac0(0x201)](_0x44713a)),this[_0x23bac0(0x489)](_0x4d9d02,_0x36f09a,_0x11e708,_0x52d295),_0x52d295[_0x23bac0(0x318)](_0x4d9d02[_0x23bac0(0x7af)]),_0x52d295['setProviderId'](_0x4d9d02[_0x23bac0(0x858)]);const _0x5d71d0=_0x49d23f(_0x52d295,_0x3c9588),_0x2e768f=_0x3b023c(_0x26d73b[_0x23bac0(0x570)],_0x5d71d0);this[_0x23bac0(0x68e)]['subscriptions']['has'](_0x2e768f)||this[_0x23bac0(0x5ad)](_0x3c9588,_0x52d295);const _0x33470d=this[_0x23bac0(0x68e)][_0x23bac0(0x359)][_0x23bac0(0x548)](_0x2e768f);if(!(_0x33470d&&_0x33470d instanceof _0x1c930a))throw new _0x177832(_0x177832[_0x23bac0(0x492)][_0x23bac0(0x85d)],{'label':_0x44713a,'ownerId':_0x36f09a});_0x4b7920[_0x23bac0(0x54e)](_0x23bac0(0x24f),{'clusterId':this[_0x23bac0(0x3f0)][_0x23bac0(0x2dd)],'nodeId':this[_0x23bac0(0x3f0)]['localNode'][_0x23bac0(0x7bf)](),'nodeType':this[_0x23bac0(0x3f0)][_0x23bac0(0x5b9)][_0x23bac0(0x2f5)],'data':{'subscriptionLabel':_0x2e768f,'chosenAnswer':_0x4d9d02}}),this[_0x23bac0(0x1a7)]['set'](_0x2e768f,_0x4d9d02),_0x33470d[_0x23bac0(0x21a)](_0x36f09a,_0x515f15,_0x4d9d02[_0x23bac0(0x306)]);}[_0x2d5ee2(0x53b)]({ownerId:_0x369540,label:_0xcb361d}){const _0x47c5e4=_0x2d5ee2,_0x1653c4=this['configs'][_0x47c5e4(0x34c)]['getRemoteMediaStream'](_0x369540,_0xcb361d),[_0x107c35,_0x3a731f]=Array[_0x47c5e4(0x81b)](this['maps'][_0x47c5e4(0x359)][_0x47c5e4(0x12d)]())['find'](([_0x9f9d8,_0x10bafe])=>-0x1!==_0x9f9d8['indexOf'](_0x1653c4['getInternalStreamId']()));return this[_0x47c5e4(0x39b)](_0x3a731f,_0x107c35);}[_0x2d5ee2(0x39b)](_0x3fe706,_0x511139){const _0x2b3177=_0x2d5ee2;this[_0x2b3177(0x3f0)][_0x2b3177(0x34c)][_0x2b3177(0x573)](_0x3fe706),this[_0x2b3177(0x68e)][_0x2b3177(0x39b)](_0x3fe706,_0x511139);}[_0x2d5ee2(0x7e1)](_0xf89a70){const _0x515f11=_0x2d5ee2;return _0xf89a70['getSupportedContentTypes']()[_0x515f11(0x51a)](_0x3f2cd3[_0x515f11(0x1f9)][_0x515f11(0x5b7)]);}[_0x2d5ee2(0x2a6)](_0x36aee9){return _0x36aee9['getContentType']()===_0x3f2cd3['ContentType']['Media'];}async[_0x2d5ee2(0x85a)](_0x4d11d8,_0x913b69,_0x3e097f,_0x25f434){const _0x4c3d23=_0x2d5ee2;await _0x4faffa[_0x4c3d23(0x84a)](0x3e8);const _0x4d318e=_0x3b023c(_0x26d73b[_0x4c3d23(0x570)],{'contentType':_0x3f2cd3[_0x4c3d23(0x1f9)][_0x4c3d23(0x5b7)],'label':_0x4d11d8,'remoteId':_0x913b69});this['clearSubscriptionRequestTimeout'](_0x4d318e);const _0x3e4aa7=this[_0x4c3d23(0x6f1)][_0x4c3d23(0x548)](_0x4d318e);if(!_0x3e4aa7)throw new _0x177832(_0x177832[_0x4c3d23(0x492)]['SubscriptionRequestDoesNotExist'],{'label':_0x4d318e,'ownerId':_0x913b69});const _0x3619dd=this[_0x4c3d23(0x3f0)]['mediator'][_0x4c3d23(0x6c9)](_0x19667f=>_0x19667f[_0x4c3d23(0x125)]()),_0x34c00e=this[_0x4c3d23(0x3f0)][_0x4c3d23(0x34c)][_0x4c3d23(0x374)](this['configs'][_0x4c3d23(0x5b9)][_0x4c3d23(0x7bf)](),_0x913b69);_0x3e4aa7['reset'](_0x3619dd['map'](_0x1da74d=>_0x1da74d[_0x4c3d23(0x149)]()),_0x34c00e);try{_0x3e4aa7[_0x4c3d23(0x4c2)](this[_0x4c3d23(0x3f0)][_0x4c3d23(0x5b9)][_0x4c3d23(0x7bf)](),_0x913b69,_0x4d11d8,_0x3e097f,_0x25f434),this[_0x4c3d23(0x517)](_0x4d11d8,_0x913b69,_0x3e097f,_0x25f434,_0x4d318e,_0x3e4aa7);}catch(_0x34e892){this[_0x4c3d23(0x6d6)][_0x4c3d23(0x80e)]({'label':_0x4d11d8,'ownerId':_0x913b69,'trackKinds':_0x3e097f,'params':_0x25f434});}}['requestSubscription'](_0x36b513,_0x596b82,_0x576dbf,_0x33e45a){const _0x15477c=_0x2d5ee2;this[_0x15477c(0x6d6)][_0x15477c(0x80e)]({'label':_0x36b513,'ownerId':_0x596b82,'trackKinds':_0x576dbf,'params':_0x33e45a});}[_0x2d5ee2(0x462)]({label:_0x5a01f7,ownerId:_0x3331f1,trackKinds:_0x21d066,params:_0x2cec99,remoteId:_0x30279d}){const _0x8f6ebc=_0x2d5ee2;if(!this[_0x8f6ebc(0x3f0)][_0x8f6ebc(0x34c)][_0x8f6ebc(0x2b7)](_0x3331f1,_0x5a01f7))return;if(!this[_0x8f6ebc(0x3f0)][_0x8f6ebc(0x34c)][_0x8f6ebc(0x684)]()['getRank']())throw new Error(_0x8f6ebc(0x19d));if(_0x30279d){const _0x1e8ed9=this[_0x8f6ebc(0x3f0)]['mediator']['getRemoteNodes']()[_0x8f6ebc(0x76e)](_0x2dadc2=>_0x2dadc2[_0x8f6ebc(0x7bf)]()===_0x30279d),_0x115ba7=_0x1e8ed9?.[_0x8f6ebc(0x75b)]();if(!_0x1e8ed9||!_0x115ba7)throw new Error(_0x8f6ebc(0x428));const _0x48f6a2=this['configs'][_0x8f6ebc(0x34c)][_0x8f6ebc(0x7b1)]()[_0x8f6ebc(0x76e)](_0x4e5a8b=>_0x4e5a8b['getId']()===_0x3331f1),_0x39f988=_0x48f6a2?.['getRank']();if(!_0x48f6a2||!_0x39f988)throw new Error(_0x8f6ebc(0x5b3));const _0x5b862f=this[_0x8f6ebc(0x1a7)][_0x8f6ebc(0x548)](_0x5a01f7);if(_0x5b862f){const _0xd8c00e=this[_0x8f6ebc(0x3f0)][_0x8f6ebc(0x34c)][_0x8f6ebc(0x7b1)]()[_0x8f6ebc(0x76e)](_0x1be466=>_0x1be466[_0x8f6ebc(0x7bf)]()===_0x5b862f[_0x8f6ebc(0x858)]),_0x941bcd=_0xd8c00e?.[_0x8f6ebc(0x75b)]();if(!_0xd8c00e||!_0x941bcd)throw new Error(_0x8f6ebc(0x5c8));if(Math[_0x8f6ebc(0xb9)](_0x941bcd-_0x39f988)<Math['abs'](_0x115ba7-_0x39f988))return;}}const _0x3d8781=this[_0x8f6ebc(0x3f0)][_0x8f6ebc(0x34c)][_0x8f6ebc(0x6c9)](_0x2955d1=>_0x2955d1[_0x8f6ebc(0x125)]()&&(!_0x30279d||_0x2955d1[_0x8f6ebc(0x149)]()===_0x30279d));if(!_0x3d8781['length']||0x0===_0x3d8781['length'])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x512f7e=this['configs'][_0x8f6ebc(0x34c)][_0x8f6ebc(0x374)](this[_0x8f6ebc(0x3f0)][_0x8f6ebc(0x5b9)]['getId'](),_0x3331f1),_0x381041=_0x3b023c(_0x26d73b[_0x8f6ebc(0x570)],{'contentType':_0x3f2cd3['ContentType']['Media'],'label':_0x5a01f7,'remoteId':_0x3331f1});if(this[_0x8f6ebc(0x6f1)][_0x8f6ebc(0x2b3)](_0x381041)){if(_0x30279d)throw new Error(_0x8f6ebc(0x174));const _0xd9ce3f=this[_0x8f6ebc(0x6f1)][_0x8f6ebc(0x548)](_0x381041)[_0x8f6ebc(0x81f)]();if(_0xd9ce3f[_0x8f6ebc(0x68c)]===_0x21d066[_0x8f6ebc(0x68c)]&&_0xd9ce3f[_0x8f6ebc(0x1aa)](_0x4a9562=>_0x21d066['includes'](_0x4a9562)))return;this[_0x8f6ebc(0x3f0)][_0x8f6ebc(0x34c)][_0x8f6ebc(0x573)](this[_0x8f6ebc(0x6f1)][_0x8f6ebc(0x548)](_0x381041)),this[_0x8f6ebc(0x6f1)]['delete'](_0x381041),_0x21d066=Array['from'](new Set(_0x21d066[_0x8f6ebc(0x16c)](_0xd9ce3f))),this[_0x8f6ebc(0x7d2)](_0x381041);}const _0x29b1c8=new _0x404a93(_0x3d8781[_0x8f6ebc(0x313)](_0x331a56=>_0x331a56[_0x8f6ebc(0x149)]()),_0x512f7e,this[_0x8f6ebc(0x4f7)],_0x21d066);this['configs'][_0x8f6ebc(0x34c)][_0x8f6ebc(0x43b)](_0x29b1c8),this['subscriptionRequests'][_0x8f6ebc(0x1d0)](_0x381041,_0x29b1c8),_0x29b1c8[_0x8f6ebc(0x4c2)](this['configs'][_0x8f6ebc(0x5b9)][_0x8f6ebc(0x7bf)](),_0x3331f1,_0x5a01f7,_0x21d066,_0x2cec99),this[_0x8f6ebc(0x517)](_0x5a01f7,_0x3331f1,_0x21d066,_0x2cec99,_0x381041,_0x29b1c8);}[_0x2d5ee2(0x7d2)](_0x5c7265){const _0xddfd0a=_0x2d5ee2;this[_0xddfd0a(0x3ae)][_0xddfd0a(0x2b3)](_0x5c7265)&&(clearTimeout(this[_0xddfd0a(0x3ae)][_0xddfd0a(0x548)](_0x5c7265)),this[_0xddfd0a(0x3ae)][_0xddfd0a(0x201)](_0x5c7265));}[_0x2d5ee2(0x517)](_0x61392e,_0xe81811,_0x40fb1e,_0xcc9123,_0x4a3375,_0x947f76){const _0x413bf9=_0x2d5ee2;this[_0x413bf9(0x7d2)](_0x4a3375),this[_0x413bf9(0x3ae)]['set'](_0x4a3375,setTimeout(()=>{const _0x2cbb6d=_0x413bf9;this[_0x2cbb6d(0x3ae)][_0x2cbb6d(0x201)](_0x4a3375);try{const _0x3ce240=_0x947f76[_0x2cbb6d(0x484)]();this[_0x2cbb6d(0x21a)](_0x3ce240,_0xe81811,_0x61392e,_0x4a3375,_0x40fb1e);}catch(_0x1bba24){this[_0x2cbb6d(0x85a)](_0x61392e,_0xe81811,_0x40fb1e,_0xcc9123);}},0x7d0));}['findNewMediaSubscription'](_0x3a1abe,_0x4442e0,_0x4cbd75,_0x367c38,_0x547d96){const _0x2fb3b9=_0x2d5ee2,{subscriptionLabel:_0x51d771}=this[_0x2fb3b9(0x36b)](_0x4442e0,_0x367c38),_0x42d921=this[_0x2fb3b9(0x402)](_0x51d771),_0x4344ff=_0x42d921?.[_0x2fb3b9(0x306)];_0x42d921&&(_0x42d921['unsubscribe'](_0x367c38,0x0),this[_0x2fb3b9(0x344)](_0x4cbd75,_0x3f2cd3[_0x2fb3b9(0x1f9)][_0x2fb3b9(0x5b7)],_0x3a1abe)),this['requestSubscription'](_0x4442e0,_0x367c38,_0x547d96,_0x4344ff);}[_0x2d5ee2(0x402)](_0x3eeb98){const _0x21ce3f=_0x2d5ee2,_0x3a9893=this[_0x21ce3f(0x68e)][_0x21ce3f(0x359)]['get'](_0x3eeb98);if(_0x3a9893){if(!(_0x3a9893 instanceof _0x1c930a))throw new _0x177832(_0x177832[_0x21ce3f(0x492)]['InvalidSubscription'],{'label':_0x3eeb98,'subscription':_0x3a9893});return _0x3a9893;}}['getSubscriptionLabel'](_0x567e9d,_0x54c710){const _0xd3e3c1=_0x2d5ee2,_0x4b1716=this[_0xd3e3c1(0x610)](_0x567e9d,_0x54c710);return{'parts':_0x4b1716,'subscriptionLabel':_0x3b023c(_0x26d73b[_0xd3e3c1(0x570)],_0x4b1716)};}[_0x2d5ee2(0x610)](_0x24c58f,_0x172e70){const _0x2f0181=_0x2d5ee2,_0x140c0e=this[_0x2f0181(0x3f0)][_0x2f0181(0x34c)][_0x2f0181(0x2b7)](_0x172e70,_0x24c58f),_0x4708c=_0x140c0e['getProviderId']();if(!_0x4708c)throw new _0x177832(_0x177832[_0x2f0181(0x492)][_0x2f0181(0x7df)],{'label':_0x24c58f,'streamId':_0x140c0e[_0x2f0181(0x168)](),'ownerId':_0x172e70,'localId':this['configs']['localNode'][_0x2f0181(0x7bf)]()});return{'contentType':_0x3f2cd3[_0x2f0181(0x1f9)]['Media'],'label':_0x140c0e[_0x2f0181(0x168)](),'remoteId':_0x4708c};}[_0x2d5ee2(0x489)](_0x379881,_0x293ef0,_0x20f93a,_0x391d61){const _0x2ff6cc=_0x2d5ee2,_0x57ac67=_0x391d61[_0x2ff6cc(0x284)]();if(_0x57ac67&&_0x57ac67!==_0x379881[_0x2ff6cc(0x858)]){const {parts:_0x48dc75,subscriptionLabel:_0x262a37}=this['getSubscriptionLabel'](_0x20f93a,_0x293ef0),_0x16dd63=this[_0x2ff6cc(0x402)](_0x262a37);_0x16dd63&&(_0x16dd63[_0x2ff6cc(0x5ee)](_0x293ef0,0x0),this[_0x2ff6cc(0x344)](_0x48dc75[_0x2ff6cc(0x5a5)],_0x48dc75[_0x2ff6cc(0x2fb)],_0x48dc75['remoteId']));}}}class _0x414af4{[_0x2d5ee2(0x3f0)];[_0x2d5ee2(0x3b4)];[_0x2d5ee2(0x68e)];constructor(_0x5a910c,_0x1ed4c7){const _0x3f396f=_0x2d5ee2;this[_0x3f396f(0x3f0)]=_0x5a910c,this['maxOutgoingSubscriptions']=_0x1ed4c7,this[_0x3f396f(0x68e)]=new _0x57eec7(({source:_0x5f4c6b,destination:_0x2626a5})=>_0x49d23f(_0x5f4c6b,_0x2626a5));}[_0x2d5ee2(0x5ad)](_0xdbb531,_0x4c86a0){const _0x43cdd3=_0x2d5ee2,_0x463349={'source':_0xdbb531,'destination':_0x4c86a0};this[_0x43cdd3(0x68e)]['createSubscription'](_0x26d73b[_0x43cdd3(0x4f0)],_0x463349);}[_0x2d5ee2(0x344)](_0x2fb71b,_0x23b759,_0x416543=''){const _0x14ff3f=_0x2d5ee2,_0x4087ce={'contentType':_0x23b759,'label':_0x2fb71b,'remoteId':_0x416543};this[_0x14ff3f(0x68e)]['removeSubscription'](_0x4087ce,_0x26d73b[_0x14ff3f(0x4f0)]);}[_0x2d5ee2(0x383)](_0x4e160d,_0xae2047){const _0x38ee08=_0x2d5ee2;let _0x47408c;_0x47408c=_0xae2047['ownerId']!==this['configs'][_0x38ee08(0x5b9)][_0x38ee08(0x7bf)]()?this[_0x38ee08(0x3f0)][_0x38ee08(0x34c)][_0x38ee08(0x2b7)](_0xae2047['ownerId'],_0xae2047[_0x38ee08(0x5a5)]):this[_0x38ee08(0x3f0)]['mediator'][_0x38ee08(0x855)](_0xae2047[_0x38ee08(0x5a5)]);const _0x51a72d=_0x3b023c(_0x26d73b[_0x38ee08(0x4f0)],{'contentType':_0x3f2cd3[_0x38ee08(0x1f9)][_0x38ee08(0x5b7)],'label':_0x47408c[_0x38ee08(0x7e5)](),'remoteId':_0x4e160d}),_0x2f78ce=this[_0x38ee08(0x259)]();if(!this[_0x38ee08(0x68e)][_0x38ee08(0x359)][_0x38ee08(0x2b3)](_0x51a72d)&&_0x2f78ce>=this[_0x38ee08(0x3b4)])return{'type':_0x119828[_0x38ee08(0x4c7)],'ownerId':_0xae2047['ownerId'],'label':_0xae2047[_0x38ee08(0x5a5)],'streamId':_0x47408c['getShareableStreamId'](),'trackKinds':_0xae2047[_0x38ee08(0x5c0)],'params':_0xae2047[_0x38ee08(0x306)]};_0x47408c instanceof _0x425c0b&&!_0x47408c[_0x38ee08(0x563)](_0xae2047[_0x38ee08(0x5c0)])&&_0x47408c[_0x38ee08(0x21a)](_0xae2047[_0x38ee08(0x306)]),this['maps'][_0x38ee08(0x359)]['has'](_0x51a72d)||this[_0x38ee08(0x5ad)](_0x47408c[_0x38ee08(0x86c)](_0x4e160d),this[_0x38ee08(0x3f0)]['mediator'][_0x38ee08(0x862)](_0x4e160d));}[_0x2d5ee2(0xc1)](_0x228828,{label:_0x409a39,ownerId:_0x244e10,remainingTracks:_0x7260}){const _0xb0f525=_0x2d5ee2;if(_0x7260>0x0)return;let _0x525167;_0x525167=_0x244e10!==this['configs'][_0xb0f525(0x5b9)][_0xb0f525(0x7bf)]()?this['configs'][_0xb0f525(0x34c)][_0xb0f525(0x2b7)](_0x244e10,_0x409a39):this[_0xb0f525(0x3f0)][_0xb0f525(0x34c)][_0xb0f525(0x855)](_0x409a39);const _0x666839=_0x525167[_0xb0f525(0x7e5)](),_0x311ff4=_0x3f2cd3[_0xb0f525(0x1f9)]['Media'];this['removeSubscription'](_0x666839,_0x311ff4,_0x228828);}[_0x2d5ee2(0x4e8)](_0x122548,{label:_0x393f03,ownerId:_0x1dfb27,trackKinds:_0x64d8ac}){const _0x5003c5=_0x2d5ee2;if(_0x122548!==_0x1e8ab6)return[];let _0x298cfe=[];for(const _0x211dbe of this[_0x5003c5(0x68e)]['subscriptions']){const {source:_0x37ddc0,destination:_0x5311b2}=_0x211dbe[0x1];_0x37ddc0[_0x5003c5(0x127)]()===_0x393f03&&_0x37ddc0[_0x5003c5(0x3f9)]()===_0x1dfb27&&_0x298cfe[_0x5003c5(0x80e)]({'sourceId':this[_0x5003c5(0x3f0)][_0x5003c5(0x5b9)][_0x5003c5(0x7bf)](),'destinationIds':[_0x5311b2[_0x5003c5(0x149)]()],'messageType':_0xa1c806[_0x5003c5(0xd8)],'content':{'type':_0x119828[_0x5003c5(0x1f4)],'label':_0x393f03,'ownerId':_0x1dfb27,'trackKinds':_0x64d8ac}});}return _0x298cfe;}['handleSubscriptionNeedMediaStream'](_0x31b676,_0x74ef25){const _0x41c8bf=_0x2d5ee2,{label:_0x486fff,ownerId:_0x5b9066,trackKinds:_0x274fad,params:_0x1c21b9}=_0x74ef25,{hasTracks:_0x1c338c,streamId:_0x5c3ce0,hasResolution:_0x1970c9,distance:_0x3f2bba,subscriptionLabel:_0x575b3f}=this[_0x41c8bf(0x629)](_0x31b676,_0x74ef25);let _0x59c893=this[_0x41c8bf(0x259)]()<this['maxOutgoingSubscriptions']&&(_0x1c338c||_0x3f2bba>-0x1)?_0x119828[_0x41c8bf(0x9b)]:_0x119828[_0x41c8bf(0x414)];const _0x95dd33=_0x3f2bba<0x0?0xa:_0x3f2bba;let _0x5ca4f4=_0x1c338c?_0x1970c9?_0x95dd33:_0x95dd33+0x0:_0x95dd33+0xa;return _0x575b3f&&this['maps']['subscriptions'][_0x41c8bf(0x2b3)](_0x575b3f)&&(_0x1c338c&&(_0x5ca4f4=0x0),_0x59c893=_0x119828['CanProvideMediaStream']),{'type':_0x59c893,'cost':_0x5ca4f4,'distance':_0x3f2bba,'label':_0x486fff,'ownerId':_0x5b9066,'streamId':_0x5c3ce0,'trackKinds':_0x274fad,'params':_0x1c21b9};}[_0x2d5ee2(0x5f8)](_0x2288a5){const _0x24647d=_0x2d5ee2,{label:_0x46e72c,ownerId:_0x5ca9d0}=_0x2288a5,_0x1f568a=this[_0x24647d(0x3f0)][_0x24647d(0x34c)][_0x24647d(0x2b7)](_0x5ca9d0,_0x46e72c);this['maps'][_0x24647d(0x359)][_0x24647d(0x57b)](_0x263e6e=>{const _0x463ecf=_0x24647d;if(_0x263e6e[_0x463ecf(0x77a)][_0x463ecf(0x168)]()===_0x1f568a[_0x463ecf(0x7e5)]()){const _0x502b22=_0x263e6e[_0x463ecf(0x574)];this[_0x463ecf(0x344)](_0x1f568a[_0x463ecf(0x7e5)](),_0x3f2cd3[_0x463ecf(0x1f9)][_0x463ecf(0x5b7)],_0x502b22[_0x463ecf(0x149)]());}});}[_0x2d5ee2(0x2b9)]({label:_0x3751d3}){const _0x4d2041=_0x2d5ee2,_0xef0268=this[_0x4d2041(0x3f0)]['mediator'][_0x4d2041(0x855)](_0x3751d3);this[_0x4d2041(0x68e)][_0x4d2041(0x359)][_0x4d2041(0x57b)](_0x4b969a=>{const _0x2a9571=_0x4d2041;if(_0x4b969a['source'][_0x2a9571(0x168)]()===_0xef0268[_0x2a9571(0x7e5)]()){const _0x2d5054=_0x4b969a['destination'];this[_0x2a9571(0x344)](_0xef0268[_0x2a9571(0x7e5)](),_0x3f2cd3[_0x2a9571(0x1f9)][_0x2a9571(0x5b7)],_0x2d5054[_0x2a9571(0x149)]());}});}['removeSubscriptionsForNode'](_0x140163){const _0x31a08a=_0x2d5ee2;this[_0x31a08a(0x68e)][_0x31a08a(0x6ac)](_0x140163);}[_0x2d5ee2(0x582)](){const _0x3ea677=_0x2d5ee2;this['maps'][_0x3ea677(0x359)][_0x3ea677(0x57b)](this[_0x3ea677(0x39b)][_0x3ea677(0x13b)](this));}[_0x2d5ee2(0x39b)](_0x5c1021,_0x474e8b){const _0x2423cc=_0x2d5ee2;this[_0x2423cc(0x68e)][_0x2423cc(0x39b)](_0x5c1021,_0x474e8b);}[_0x2d5ee2(0x629)](_0x615b29,{label:_0x2d3924,ownerId:_0x4bc319,trackKinds:_0x282fd3,params:_0x26454f}){const _0xa31fb=_0x2d5ee2;if(_0x4bc319!==this['configs']['localNode'][_0xa31fb(0x7bf)]()){const _0x4e622d=this[_0xa31fb(0x3f0)][_0xa31fb(0x34c)][_0xa31fb(0x2b7)](_0x4bc319,_0x2d3924);return _0x4e622d&&_0x4e622d['getProviderId']()!==_0x615b29?{'hasTracks':_0x4e622d['hasTracks'](_0x282fd3),'hasResolution':this['canProvideResolution'](_0x4e622d[_0xa31fb(0x747)](),_0x26454f),'streamId':_0x4e622d[_0xa31fb(0x7e5)](),'distance':this[_0xa31fb(0x3f0)]['mediator']['getDistance'](_0x615b29,_0x4bc319),'subscriptionLabel':_0x3b023c(_0x26d73b['Outgoing'],{'contentType':_0x3f2cd3[_0xa31fb(0x1f9)][_0xa31fb(0x5b7)],'label':_0x4e622d[_0xa31fb(0x7e5)](),'remoteId':_0x615b29})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x305cd1=this['configs'][_0xa31fb(0x34c)][_0xa31fb(0x855)](_0x2d3924);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x305cd1[_0xa31fb(0x7e5)](),'distance':0x0,'subscriptionLabel':_0x3b023c(_0x26d73b[_0xa31fb(0x4f0)],{'contentType':_0x3f2cd3[_0xa31fb(0x1f9)]['Media'],'label':_0x305cd1['getShareableStreamId'](),'remoteId':_0x615b29})};}[_0x2d5ee2(0x259)](){const _0x263a0c=_0x2d5ee2;return Array['from'](this[_0x263a0c(0x68e)][_0x263a0c(0x359)]['entries']())[_0x263a0c(0x2e4)](([_0x3e2ae6,{source:_0x4facd9}])=>_0x3e2ae6[_0x263a0c(0x47a)](_0x26d73b[_0x263a0c(0x4f0)])&&_0x4facd9[_0x263a0c(0x813)]()===_0x3f2cd3[_0x263a0c(0x1f9)][_0x263a0c(0x5b7)])[_0x263a0c(0x68c)];}[_0x2d5ee2(0x539)](_0x5f0004,_0x189dcf){const _0x3c42ca=_0x2d5ee2;if(!_0x189dcf||!_0x189dcf[_0x3c42ca(0x849)]||'boolean'==typeof _0x189dcf[_0x3c42ca(0x849)]||!_0x189dcf['video']['maxResolution'])return!0x0;const {width:_0x16e3fb,height:_0x5d0566}=_0x189dcf[_0x3c42ca(0x849)][_0x3c42ca(0x1e6)];return _0x5f0004[_0x3c42ca(0x857)]>=_0x16e3fb&&_0x5f0004[_0x3c42ca(0x31d)]>=_0x5d0566;}}class _0x1e5073{[_0x2d5ee2(0x3f0)];[_0x2d5ee2(0x3b4)];[_0x2d5ee2(0x4f7)];['systemTopic'];[_0x2d5ee2(0x277)];[_0x2d5ee2(0x200)];constructor(_0x2bc8bc,_0x5bbe06,_0x5071fd){const _0x485f70=_0x2d5ee2;this[_0x485f70(0x3f0)]=_0x2bc8bc,this[_0x485f70(0x3b4)]=_0x5bbe06,this['maxDistance']=_0x5071fd,this[_0x485f70(0x3f0)][_0x485f70(0x34c)][_0x485f70(0x43b)](this),this[_0x485f70(0x277)]=new _0x505acd(this[_0x485f70(0x3f0)],this[_0x485f70(0x4f7)]),this[_0x485f70(0x200)]=new _0x414af4(this['configs'],this[_0x485f70(0x3b4)]);}[_0x2d5ee2(0x59c)](_0x121ba8){const _0x378ef9=_0x2d5ee2;this[_0x378ef9(0x319)]=_0x121ba8;}[_0x2d5ee2(0x824)](){delete this['systemTopic'];}[_0x2d5ee2(0x582)](){const _0x3d8a6a=_0x2d5ee2;this[_0x3d8a6a(0x277)][_0x3d8a6a(0x582)](),this['outgoingManager']['close'](),this[_0x3d8a6a(0x3f0)][_0x3d8a6a(0x34c)][_0x3d8a6a(0x573)](this);}[_0x2d5ee2(0x774)](_0x54cae0,_0x3c1663){const _0x570e10=_0x2d5ee2;this[_0x570e10(0x277)][_0x570e10(0x5ad)](_0x54cae0,_0x3c1663);}['createOutgoingSubscription'](_0xda5bfa,_0x4085d6){const _0x1d9c47=_0x2d5ee2;this[_0x1d9c47(0x200)][_0x1d9c47(0x5ad)](_0xda5bfa,_0x4085d6);}['removeIncomingSubscription'](_0x265daf,_0x570ced,_0x217931=''){const _0x588210=_0x2d5ee2;this[_0x588210(0x277)][_0x588210(0x344)](_0x265daf,_0x570ced,_0x217931);}[_0x2d5ee2(0x327)](_0x5815e5,_0x55c4a8,_0x31e65c=''){const _0x4bd1fd=_0x2d5ee2;try{this[_0x4bd1fd(0x200)][_0x4bd1fd(0x344)](_0x5815e5,_0x55c4a8,_0x31e65c);}catch(_0x289153){if(_0x289153 instanceof _0x177832&&_0x289153[_0x4bd1fd(0x788)]===_0x177832[_0x4bd1fd(0x492)][_0x4bd1fd(0x163)])return;}}[_0x2d5ee2(0x301)](_0xedbb80){const _0xfd03f5=_0x2d5ee2;switch(_0xedbb80[_0xfd03f5(0x262)][_0xfd03f5(0x2f5)]){case _0x119828[_0xfd03f5(0xc5)]:this['handleSubscriptionSubscribeMediaStream'](_0xedbb80[_0xfd03f5(0x51e)],_0xedbb80[_0xfd03f5(0x262)]);break;case _0x119828['UnsubscribeMediaStream']:this['outgoingManager']['handleSubscriptionUnsubscribeMediaStream'](_0xedbb80[_0xfd03f5(0x51e)],_0xedbb80[_0xfd03f5(0x262)]);break;case _0x119828['NeedMediaStream']:this[_0xfd03f5(0x60d)](_0xedbb80[_0xfd03f5(0x51e)],_0xedbb80['content']);break;case _0x119828[_0xfd03f5(0x4c7)]:this[_0xfd03f5(0x277)]['handleSubscriptionRestartNeedMediaStream'](_0xedbb80['sourceId'],_0xedbb80['content']);break;case _0x119828[_0xfd03f5(0x9b)]:case _0x119828[_0xfd03f5(0x414)]:this[_0xfd03f5(0x277)]['handleSubscriptionProvideMediaStream'](_0xedbb80[_0xfd03f5(0x51e)],_0xedbb80[_0xfd03f5(0x262)]);break;case _0x119828['MediaStreamUnavailable']:this[_0xfd03f5(0x277)]['handleSubscriptionMediaStreamUnavailable'](_0xedbb80[_0xfd03f5(0x51e)],_0xedbb80['content']);}}[_0x2d5ee2(0x305)](_0xd4a802){const _0x32dccf=_0x2d5ee2;switch(_0xd4a802[_0x32dccf(0x262)][_0x32dccf(0x2f5)]){case _0xdecfb9['UnpublishMediaStream']:this[_0x32dccf(0x277)]['handleContentUnpublishMediaStream'](_0xd4a802['content']),this[_0x32dccf(0x200)][_0x32dccf(0x5f8)](_0xd4a802[_0x32dccf(0x262)]);break;case _0xdecfb9[_0x32dccf(0xc5)]:this[_0x32dccf(0x277)]['handleContentSubscribeMediaStream'](_0xd4a802[_0x32dccf(0x262)]);break;case _0xdecfb9[_0x32dccf(0x9c)]:this[_0x32dccf(0x277)][_0x32dccf(0x82f)](_0xd4a802[_0x32dccf(0x262)]);break;case _0xdecfb9[_0x32dccf(0x501)]:this[_0x32dccf(0x4e8)](_0xd4a802[_0x32dccf(0x51e)],_0xd4a802['content']);break;case _0xdecfb9[_0x32dccf(0x67e)]:this['outgoingManager'][_0x32dccf(0x2b9)](_0xd4a802[_0x32dccf(0x262)]);break;case _0xdecfb9[_0x32dccf(0x3e1)]:this[_0x32dccf(0x205)](_0xd4a802[_0x32dccf(0x262)]['label'],_0x3f2cd3[_0x32dccf(0x1f9)][_0x32dccf(0x35a)]);break;case _0xdecfb9[_0x32dccf(0x704)]:this[_0x32dccf(0x205)](_0xd4a802['content'][_0x32dccf(0x5a5)],_0x3f2cd3[_0x32dccf(0x1f9)]['ObjectStore']);break;case _0xdecfb9[_0x32dccf(0x1b7)]:this[_0x32dccf(0x205)](_0xd4a802[_0x32dccf(0x262)][_0x32dccf(0x5a5)],_0x3f2cd3[_0x32dccf(0x1f9)][_0x32dccf(0x830)]);break;case _0xdecfb9[_0x32dccf(0x66e)]:this[_0x32dccf(0x205)](_0xd4a802['content']['label'],_0x3f2cd3[_0x32dccf(0x1f9)][_0x32dccf(0x218)]);break;case _0xdecfb9[_0x32dccf(0x2eb)]:this[_0x32dccf(0x205)](_0xd4a802['content'][_0x32dccf(0x5a5)],_0x3f2cd3[_0x32dccf(0x1f9)][_0x32dccf(0x25b)]);break;case _0xdecfb9['CloseJobDispatcher']:case _0xdecfb9[_0x32dccf(0x78d)]:this[_0x32dccf(0x205)](_0xd4a802[_0x32dccf(0x262)]['label'],_0x3f2cd3[_0x32dccf(0x1f9)][_0x32dccf(0x22e)]);break;case _0xdecfb9[_0x32dccf(0x2a8)]:this[_0x32dccf(0x277)][_0x32dccf(0x28f)](_0xd4a802['content']);}}[_0x2d5ee2(0x84f)]({content:_0x11542a}){const _0x3e3924=_0x2d5ee2;_0x11542a[_0x3e3924(0x2f5)]===_0x3ace80[_0x3e3924(0x5f0)]&&this[_0x3e3924(0x6ac)](_0x11542a);}['handlePeerConnectionSystemEvents'](_0x33a2cd){const _0x5697bb=_0x2d5ee2;_0x33a2cd[_0x5697bb(0x262)]['type']===_0x274822[_0x5697bb(0x63d)]&&this[_0x5697bb(0x277)]['handleOptimizationConnectionSuccess'](_0x33a2cd[_0x5697bb(0x51e)]);}[_0x2d5ee2(0x4e8)](_0x3dee23,_0xca6fa0){const _0x180e97=_0x2d5ee2;this[_0x180e97(0x277)][_0x180e97(0x4e8)](_0xca6fa0),this[_0x180e97(0x200)][_0x180e97(0x4e8)](_0x3dee23,_0xca6fa0)[_0x180e97(0x57b)](_0x1f57c3=>this['systemTopic'][_0x180e97(0xef)](_0x1f57c3));}[_0x2d5ee2(0x383)](_0xe9dfb2,_0x12f3e5){const _0x43eb76=_0x2d5ee2,_0x4d11f2=this[_0x43eb76(0x200)]['handleSubscriptionSubscribeMediaStream'](_0xe9dfb2,_0x12f3e5);if(_0x4d11f2&&(this[_0x43eb76(0x319)]['publish']({'sourceId':this[_0x43eb76(0x3f0)][_0x43eb76(0x5b9)][_0x43eb76(0x7bf)](),'destinationIds':[_0xe9dfb2],'messageType':_0xa1c806[_0x43eb76(0xd8)],'content':_0x4d11f2}),_0x4d11f2[_0x43eb76(0x2f5)]===_0x119828[_0x43eb76(0x4c7)]))throw new _0x35d823('Restart\x20NeedMediaStream');}[_0x2d5ee2(0x60d)](_0x414ffa,_0x53df8b){const _0x350d2a=_0x2d5ee2,_0x2ebb96=this[_0x350d2a(0x200)][_0x350d2a(0x60d)](_0x414ffa,_0x53df8b);this[_0x350d2a(0x319)]['publish']({'sourceId':this['configs'][_0x350d2a(0x5b9)]['getId'](),'destinationIds':[_0x414ffa],'messageType':_0xa1c806[_0x350d2a(0xd8)],'content':_0x2ebb96});}[_0x2d5ee2(0x205)](_0x18de51,_0x449b78){const _0x277a35=_0x2d5ee2;this[_0x277a35(0x427)](_0x18de51,_0x449b78),this['removeOutgoingSubscription'](_0x18de51,_0x449b78);}[_0x2d5ee2(0x6ac)]({id:_0x39f733}){const _0x490a0c=_0x2d5ee2;this[_0x490a0c(0x277)]['removeSubscriptionsForNode'](_0x39f733),this[_0x490a0c(0x200)][_0x490a0c(0x6ac)](_0x39f733);}}class _0x37f9a0{['label'];[_0x2d5ee2(0x57d)]=_0x368dbe();constructor(){this['label']=0x0;}[_0x2d5ee2(0x127)](){const _0x4aef20=_0x2d5ee2;return this[_0x4aef20(0x5a5)];}[_0x2d5ee2(0x813)](){const _0x24f498=_0x2d5ee2;return _0x3f2cd3[_0x24f498(0x1f9)][_0x24f498(0x3b7)];}[_0x2d5ee2(0x4a2)](_0x13a06d){const _0x31129e=_0x2d5ee2;_0x13a06d[_0x31129e(0x59c)](this);}[_0x2d5ee2(0x750)](_0x49785f){const _0x4680cd=_0x2d5ee2;_0x49785f[_0x4680cd(0x824)]();}['publish'](_0x4e4485){const _0x1a016e=_0x2d5ee2;_0x4b7920['log'](_0x27d952[_0x1a016e(0x185)],_0x1a016e(0x138),_0x4e4485[_0x1a016e(0x51e)],_0x4e4485),this['listener']['publish']({'topicLabel':this[_0x1a016e(0x5a5)],'contentType':_0x3f2cd3[_0x1a016e(0x1f9)][_0x1a016e(0x3b7)],'uuid':_0x4e4485['uuid']??(0x0,_0x53f5fa['v4'])(),'recipients':_0x4e4485[_0x1a016e(0xa0)]??[],..._0x4e4485});}[_0x2d5ee2(0x21a)](_0x272f10){const _0x163a53=_0x2d5ee2;return this[_0x163a53(0x57d)][_0x163a53(0x21a)](_0x272f10);}}class _0x43efbd{[_0x2d5ee2(0x845)];[_0x2d5ee2(0x736)]=[];['maxLayer'];['remoteNodes']=new Map();constructor(_0x238930){const _0x48c24b=_0x2d5ee2;this['options']=_0x238930,this['maxLayer']=(this[_0x48c24b(0x845)][_0x48c24b(0x701)]-0x2*this[_0x48c24b(0x845)][_0x48c24b(0x726)])/0x2,this[_0x48c24b(0x736)][_0x48c24b(0x80e)]({'start':0x1,'end':this[_0x48c24b(0x298)](0x1,0x1)-0x1});for(let _0x4d18b1=0x0;_0x4d18b1<this[_0x48c24b(0xb2)];++_0x4d18b1)this[_0x48c24b(0x736)][_0x48c24b(0x80e)]({'start':this[_0x48c24b(0x298)](0x1,_0x4d18b1+0x1),'end':this['getNextTargetRank'](0x1,_0x4d18b1+0x2)-0x1});}[_0x2d5ee2(0x298)](_0x59b46e,_0x4c9163=0x1){const _0x9d4416=_0x2d5ee2;let _0x5c7b0e=this[_0x9d4416(0x845)][_0x9d4416(0x4f7)]-this[_0x9d4416(0x845)]['minConnections'],_0x17180e=0x1;for(let _0x374748=0x1;_0x374748<_0x4c9163;++_0x374748)_0x5c7b0e*=this['options'][_0x9d4416(0x4f7)]-this[_0x9d4416(0x845)]['minConnections']-_0x374748,_0x17180e*=this['options']['maxDistance']-this[_0x9d4416(0x845)][_0x9d4416(0x726)]-_0x374748+0x1;return _0x5c7b0e*this['options'][_0x9d4416(0x726)]+_0x59b46e-_0x17180e;}[_0x2d5ee2(0x604)](_0x5135ed){const _0x52cbfe=_0x2d5ee2;let _0x2b73f4=0x0;for(;this['ranges'][_0x2b73f4][_0x52cbfe(0x4b6)]<_0x5135ed;)_0x2b73f4+=0x1;return _0x2b73f4;}[_0x2d5ee2(0xac)](){const _0x123812=_0x2d5ee2;return this['options'][_0x123812(0x726)];}['getMaxConnections'](){const _0x39f4dd=_0x2d5ee2;return this[_0x39f4dd(0x845)][_0x39f4dd(0x701)];}['getMaxDistance'](){const _0x4df38a=_0x2d5ee2;return this[_0x4df38a(0x845)][_0x4df38a(0x4f7)];}[_0x2d5ee2(0x7b1)](){return this['remoteNodes'];}[_0x2d5ee2(0x3c0)](_0x4efdd0,_0x4bd375){const _0x4dee28=_0x2d5ee2;this['remoteNodes'][_0x4dee28(0x1d0)](_0x4efdd0,_0x4bd375);}['hasRemoteNode'](_0x294a38){const _0x3ab0a2=_0x2d5ee2;return this['remoteNodes'][_0x3ab0a2(0x2b3)](_0x294a38);}[_0x2d5ee2(0x363)](_0x545c13){const _0x2b3eb6=_0x2d5ee2;return this[_0x2b3eb6(0x4f2)]['get'](_0x545c13);}[_0x2d5ee2(0x3fc)](_0x1dab27){const _0x14561d=_0x2d5ee2;this['remoteNodes'][_0x14561d(0x201)](_0x1dab27);}['getClosestNodes'](_0x599925,_0x154249){const _0xce80c1=_0x2d5ee2,_0x2a58b8=this[_0xce80c1(0x363)](_0x154249)?.['getRank']()??0x0;return _0x599925[_0xce80c1(0x313)](_0xf6939d=>this[_0xce80c1(0x363)](_0xf6939d))[_0xce80c1(0x2e4)](_0x2b8d5c=>void 0x0!==_0x2b8d5c)['sort']((_0x75afbf,_0x3ebc87)=>Math['abs'](_0x2a58b8-(_0x75afbf&&_0x75afbf[_0xce80c1(0x75b)]()||0x1/0x0))-Math['abs'](_0x2a58b8-(_0x3ebc87&&_0x3ebc87['getRank']()||0x1/0x0)))[_0xce80c1(0x313)](_0x8b0ac5=>_0x8b0ac5[_0xce80c1(0x7bf)]());}}class _0x56ff2b{[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x2dd)];[_0x2d5ee2(0x599)];[_0x2d5ee2(0x238)];['options'];[_0x2d5ee2(0x3f0)];['clusterEventEmitter'];[_0x2d5ee2(0x682)];[_0x2d5ee2(0x126)];[_0x2d5ee2(0x7d5)];['statsManager'];[_0x2d5ee2(0x705)];[_0x2d5ee2(0x458)];[_0x2d5ee2(0x53f)];[_0x2d5ee2(0x447)];[_0x2d5ee2(0x319)]=new _0x37f9a0();[_0x2d5ee2(0x54c)];[_0x2d5ee2(0x5b9)];constructor(_0x2a3f85,_0x5d7341,_0x54c3f0,_0x208a53,_0x5a496d,_0x107e84,_0x260c12){const _0x318efa=_0x2d5ee2;switch(this[_0x318efa(0x52a)]=_0x2a3f85,this['clusterId']=_0x5d7341,this['authNode']=_0x54c3f0,this[_0x318efa(0x238)]=_0x208a53,this[_0x318efa(0x845)]=_0x5a496d,this[_0x318efa(0x3f0)]=_0x107e84,this['clusterEventEmitter']=_0x260c12,_0x54c3f0[_0x318efa(0x2f5)]){case _0x3f2cd3[_0x318efa(0x63c)]['User']:this[_0x318efa(0x5b9)]=new _0x20390a(_0x54c3f0['getId'](),_0x54c3f0['getDisplayName'](),_0x54c3f0[_0x318efa(0x14c)]());break;case _0x3f2cd3[_0x318efa(0x63c)]['Agent']:default:this[_0x318efa(0x5b9)]=new _0x5611ed(_0x54c3f0[_0x318efa(0x7bf)]());}const _0x141f42=this[_0x318efa(0x222)]();this[_0x318efa(0x447)]=new _0x43efbd(this['options']),this[_0x318efa(0x682)]=new _0x471eb4(_0x141f42,this[_0x318efa(0x845)],this[_0x318efa(0x3f0)]['searchApiKey']),this[_0x318efa(0x126)]=new _0x163b61(_0x141f42,this[_0x318efa(0x238)],this['graphService'],this[_0x318efa(0x3f0)]['iceServers'],this[_0x318efa(0x845)]),this[_0x318efa(0x7d5)]=new _0x1e5073(_0x141f42,this[_0x318efa(0x845)][_0x318efa(0x3b4)],this[_0x318efa(0x447)][_0x318efa(0x130)]()),this[_0x318efa(0x2a7)]=new _0x4579c5(_0x141f42),this[_0x318efa(0x705)]=new _0x5a7f2f(_0x141f42),this[_0x318efa(0x458)]=new _0x495a72(_0x141f42),this[_0x318efa(0x53f)]=new _0x3aae30(_0x141f42,this[_0x318efa(0x447)]),this[_0x318efa(0x54c)]=this[_0x318efa(0xe2)]();}['open'](){const _0xf243b3=_0x2d5ee2,_0x125e85=this[_0xf243b3(0x222)]();this['connectionManager']=new _0x163b61(_0x125e85,this['authService'],this[_0xf243b3(0x447)],this[_0xf243b3(0x3f0)][_0xf243b3(0x25f)],this[_0xf243b3(0x845)]),this[_0xf243b3(0x7d5)]=new _0x1e5073(_0x125e85,this['options'][_0xf243b3(0x3b4)],this[_0xf243b3(0x447)][_0xf243b3(0x130)]()),this[_0xf243b3(0x2a7)]=new _0x4579c5(_0x125e85),this[_0xf243b3(0x705)]=new _0x5a7f2f(_0x125e85),this[_0xf243b3(0x458)]=new _0x495a72(_0x125e85),this[_0xf243b3(0x53f)]=new _0x3aae30(_0x125e85,this[_0xf243b3(0x447)]);const _0x247240=this[_0xf243b3(0x126)][_0xf243b3(0x4b9)]();this[_0xf243b3(0x682)][_0xf243b3(0x415)]()[_0xf243b3(0x57b)](_0x56f7c1=>{const _0x29d113=_0xf243b3;this[_0x29d113(0x7d5)][_0x29d113(0x70b)](_0x56f7c1,_0x247240),this[_0x29d113(0x7d5)]['createIncomingSubscription'](_0x247240,_0x56f7c1),_0x56f7c1[_0x29d113(0x53c)]();}),this[_0xf243b3(0x682)][_0xf243b3(0x76c)]()[_0xf243b3(0x57b)](_0x4140cf=>{const _0x53a57d=_0xf243b3;this[_0x53a57d(0x7d5)][_0x53a57d(0x70b)](_0x4140cf,_0x247240),this[_0x53a57d(0x7d5)][_0x53a57d(0x774)](_0x247240,_0x4140cf),_0x4140cf['reset'](),_0x4140cf[_0x53a57d(0x6dd)]();}),this[_0xf243b3(0x682)][_0xf243b3(0x653)]()[_0xf243b3(0x57b)](_0x785dfb=>{const _0xa8bfa7=_0xf243b3;this[_0xa8bfa7(0x7d5)][_0xa8bfa7(0x70b)](_0x785dfb,_0x247240),this['subscriptionManager'][_0xa8bfa7(0x774)](_0x247240,_0x785dfb),_0x785dfb[_0xa8bfa7(0x53c)](),this[_0xa8bfa7(0xa4)](_0x785dfb);}),this[_0xf243b3(0x682)][_0xf243b3(0x559)]()[_0xf243b3(0x57b)](_0x20e65b=>{const _0x3bf018=_0xf243b3;this['subscriptionManager'][_0x3bf018(0x70b)](_0x20e65b,_0x247240),this[_0x3bf018(0x7d5)][_0x3bf018(0x774)](_0x247240,_0x20e65b),_0x20e65b[_0x3bf018(0x53c)]();}),this[_0xf243b3(0x682)][_0xf243b3(0x557)]()[_0xf243b3(0x57b)](_0xeb40ea=>{const _0x3722b6=_0xf243b3;this[_0x3722b6(0x7d5)][_0x3722b6(0x70b)](_0xeb40ea,_0x247240),this['subscriptionManager'][_0x3722b6(0x774)](_0x247240,_0xeb40ea),_0xeb40ea[_0x3722b6(0x53c)]();}),this['contentManager']['getVectorDatabases']()['forEach'](_0x3ea63d=>{const _0x5501e8=_0xf243b3;this['subscriptionManager']['createOutgoingSubscription'](_0x3ea63d,_0x247240),this[_0x5501e8(0x7d5)]['createIncomingSubscription'](_0x247240,_0x3ea63d),_0x3ea63d[_0x5501e8(0x53c)]();}),this[_0xf243b3(0x682)][_0xf243b3(0x285)]()[_0xf243b3(0x57b)](_0x420570=>{const _0xa754ec=_0xf243b3;this[_0xa754ec(0x7d5)]['createOutgoingSubscription'](_0x420570,_0x247240),this['subscriptionManager'][_0xa754ec(0x774)](_0x247240,_0x420570),_0x420570[_0xa754ec(0x53c)]();}),this['systemTopicUnsubscribe']=this[_0xf243b3(0xe2)]();}[_0x2d5ee2(0x43b)](_0x4224b9){const _0x51a190=_0x2d5ee2;try{this['systemTopic'][_0x51a190(0x4a2)](_0x4224b9);}catch(_0x37950c){this[_0x51a190(0x6d4)](_0x37950c,{});}}[_0x2d5ee2(0x573)](_0x4815a5){const _0x54868d=_0x2d5ee2;try{this[_0x54868d(0x319)][_0x54868d(0x750)](_0x4815a5);}catch(_0x4c5b44){this['handleError'](_0x4c5b44,{});}}[_0x2d5ee2(0x66f)](_0x4f82b1,_0x343a73){const _0x939ad9=_0x2d5ee2;return this[_0x939ad9(0x126)][_0x939ad9(0x66f)](_0x4f82b1,_0x343a73);}[_0x2d5ee2(0x862)](_0x28f9b4){const _0x129f14=_0x2d5ee2;try{return this[_0x129f14(0x126)][_0x129f14(0x862)](_0x28f9b4);}catch(_0x8ff093){throw this[_0x129f14(0x6d4)](_0x8ff093,{});}}[_0x2d5ee2(0x6c9)](_0xd531c7){const _0x5a199f=_0x2d5ee2;try{return this[_0x5a199f(0x126)][_0x5a199f(0x6c9)](_0xd531c7);}catch(_0x5af3da){throw this[_0x5a199f(0x6d4)](_0x5af3da,{});}}[_0x2d5ee2(0x2b7)](_0x450070,_0x2c8a09){const _0x550edd=_0x2d5ee2;try{return this[_0x550edd(0x682)][_0x550edd(0x137)](_0x49374f=>_0x49374f[_0x550edd(0x3f9)]()===_0x450070&&_0x49374f[_0x550edd(0x127)]()===_0x2c8a09)[0x0];}catch(_0x4359dc){throw this[_0x550edd(0x6d4)](_0x4359dc,{});}}['getLocalMediaStream'](_0x2d3a1d){const _0x5711a7=_0x2d5ee2;try{return this[_0x5711a7(0x682)][_0x5711a7(0x31b)](_0x290263=>_0x290263[_0x5711a7(0x127)]()===_0x2d3a1d)[0x0];}catch(_0x505e8c){throw this[_0x5711a7(0x6d4)](_0x505e8c,{});}}[_0x2d5ee2(0x385)]=(..._0x1acd4a)=>{const _0x32ef21=_0x2d5ee2;try{return this[_0x32ef21(0x2f7)][_0x32ef21(0x62b)](..._0x1acd4a);}catch(_0x118774){throw this['handleError'](_0x118774,{});}};['registerRemoteNode'](_0x2b2022){const _0x3d1646=_0x2d5ee2;try{this['statsManager']['addRemoteNode'](_0x2b2022);}catch(_0x1c1ba6){throw this[_0x3d1646(0x6d4)](_0x1c1ba6,{});}}['unregisterRemoteNode'](_0x3192df){const _0x24736d=_0x2d5ee2;try{this[_0x24736d(0x2a7)]['removeRemoteNode'](_0x3192df);}catch(_0xcf3b8c){throw this['handleError'](_0xcf3b8c,{});}}[_0x2d5ee2(0x1c4)](_0x246de7){const _0x264d92=_0x2d5ee2;return this[_0x264d92(0x126)][_0x264d92(0x1c4)](_0x246de7);}async[_0x2d5ee2(0x320)](){const _0x453ebb=_0x2d5ee2;try{await this[_0x453ebb(0x126)][_0x453ebb(0x320)]();const _0xbb55c9=await this[_0x453ebb(0x53f)][_0x453ebb(0x761)]();for(const _0x57b7f9 of _0xbb55c9)this[_0x453ebb(0x126)]['createConnection'](_0x57b7f9);}catch(_0x2cf000){throw this[_0x453ebb(0x6d4)](_0x2cf000,{});}}[_0x2d5ee2(0x634)](_0x22ed6d){const _0x3e192a=_0x2d5ee2;this[_0x3e192a(0x5b9)]['type']===_0x3f2cd3[_0x3e192a(0x63c)]['User']&&(this[_0x3e192a(0x5b9)]['setEmail'](_0x22ed6d[_0x3e192a(0x14c)]()),this[_0x3e192a(0x5b9)]['setDisplayName'](_0x22ed6d[_0x3e192a(0x39d)]()));}[_0x2d5ee2(0x582)]({force:_0x2256f2=!0x1},_0x3abe2e=!0x1){const _0xf0e328=_0x2d5ee2;if(_0x4b7920[_0xf0e328(0x17e)](_0xf0e328(0x84c),{'clusterId':this[_0xf0e328(0x2dd)],'nodeId':this[_0xf0e328(0x5b9)]['getId'](),'nodeType':this[_0xf0e328(0x5b9)][_0xf0e328(0x2f5)]}),!_0x2256f2&&this[_0xf0e328(0x126)][_0xf0e328(0x3bf)]())throw new _0x21720d(_0x11ce35[_0xf0e328(0x4db)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x4b7920[_0xf0e328(0x20b)](),this[_0xf0e328(0x54c)](),this['remediationManager'][_0xf0e328(0x582)](),this[_0xf0e328(0x705)][_0xf0e328(0x582)](),this['statsManager'][_0xf0e328(0x582)](),this['subscriptionManager'][_0xf0e328(0x582)](),this[_0xf0e328(0x126)]['close'](),this['contentManager'][_0xf0e328(0x582)](_0x3abe2e),this[_0xf0e328(0x53f)][_0xf0e328(0x582)]();}[_0x2d5ee2(0x81a)](_0x8ca4d3){const _0x2e7924=_0x2d5ee2;try{const _0x2c79c3=this['contentManager'][_0x2e7924(0x483)](_0x8ca4d3),_0x467b6a=this['connectionManager']['getConnectionGroup']();return this[_0x2e7924(0x7d5)]['createOutgoingSubscription'](_0x2c79c3,_0x467b6a),this[_0x2e7924(0x7d5)]['createIncomingSubscription'](_0x467b6a,_0x2c79c3),_0x2c79c3;}catch(_0x1ae970){throw this[_0x2e7924(0x6d4)](_0x1ae970,{});}}async[_0x2d5ee2(0x15f)](_0x221ed2,_0x416692){const _0x52b997=_0x2d5ee2;try{const _0x40f7b6=this[_0x52b997(0x682)][_0x52b997(0x308)](_0x221ed2,this[_0x52b997(0x845)]['objectStoreConnector']),_0x10bccc=this[_0x52b997(0x126)][_0x52b997(0x4b9)]();return this[_0x52b997(0x7d5)]['createOutgoingSubscription'](_0x40f7b6,_0x10bccc),this[_0x52b997(0x7d5)]['createIncomingSubscription'](_0x10bccc,_0x40f7b6),await _0x40f7b6[_0x52b997(0x6dd)](_0x416692?.[_0x52b997(0x486)]??!0x0),_0x40f7b6;}catch(_0x15acc5){throw this[_0x52b997(0x6d4)](_0x15acc5,{});}}async[_0x2d5ee2(0x6af)](_0x436c20,_0x19c0b1){const _0x95c62e=_0x2d5ee2;try{const _0x36a0ef=await this['contentManager'][_0x95c62e(0x6fe)](_0x436c20,_0x19c0b1,this['options'][_0x95c62e(0x3a2)]),_0x2b8ca2=this['connectionManager'][_0x95c62e(0x4b9)]();return this['subscriptionManager'][_0x95c62e(0x70b)](_0x36a0ef,_0x2b8ca2),this[_0x95c62e(0x7d5)][_0x95c62e(0x774)](_0x2b8ca2,_0x36a0ef),await _0x36a0ef['open'](),this['syncKeyValueDatabase'](_0x36a0ef),_0x36a0ef;}catch(_0x47462d){throw this[_0x95c62e(0x6d4)](_0x47462d,{});}}async[_0x2d5ee2(0x2bb)](_0x223c05){const _0x49558c=_0x2d5ee2;try{const _0xbb535c=await this[_0x49558c(0x682)][_0x49558c(0x64b)](_0x223c05,this['graphService']),_0x41bbeb=this[_0x49558c(0x126)]['getConnectionGroup']();return this[_0x49558c(0x7d5)][_0x49558c(0x70b)](_0xbb535c,_0x41bbeb),this['subscriptionManager']['createIncomingSubscription'](_0x41bbeb,_0xbb535c),_0xbb535c[_0x49558c(0x2ef)](),_0xbb535c;}catch(_0x4c71f7){throw this[_0x49558c(0x6d4)](_0x4c71f7,{});}}async[_0x2d5ee2(0x65b)](_0x2cb4d4){throw new Error('Method\x20not\x20supported');}async[_0x2d5ee2(0x253)](_0x4e8ba4){const _0x35c80b=_0x2d5ee2;try{const _0x42478f=await this['contentManager'][_0x35c80b(0x291)](_0x4e8ba4,this['graphService']),_0x23e0ba=this['connectionManager'][_0x35c80b(0x4b9)]();return this[_0x35c80b(0x7d5)]['createOutgoingSubscription'](_0x42478f,_0x23e0ba),this['subscriptionManager'][_0x35c80b(0x774)](_0x23e0ba,_0x42478f),_0x42478f[_0x35c80b(0x2ef)](),_0x42478f;}catch(_0x578daa){throw console[_0x35c80b(0x626)](_0x578daa),this[_0x35c80b(0x6d4)](_0x578daa,{});}}async['openGenerativeAIWorker'](_0x543483){const _0x39579a=_0x2d5ee2;try{if(!this['options']['generativeAIWorkerConnectors']||!this[_0x39579a(0x845)][_0x39579a(0x7cc)]||!this[_0x39579a(0x845)][_0x39579a(0x287)])throw new _0x21720d(_0x11ce35[_0x39579a(0x365)],_0x39579a(0x56e));if(!(this[_0x39579a(0x599)]instanceof _0x557c46))throw new _0x21720d(_0x11ce35[_0x39579a(0x26e)],'Node\x20is\x20not\x20an\x20agent');const _0x136e3e=[];for(const _0x22ac2e of this[_0x39579a(0x845)][_0x39579a(0x409)])_0x136e3e[_0x39579a(0x80e)](new _0x22ac2e());const _0x5cb1b7=new this[(_0x39579a(0x845))][(_0x39579a(0x7cc))](),_0x3583ae=new this['options']['nlpLibraryConnector']();let _0x31c2a7;this[_0x39579a(0x845)][_0x39579a(0x7a9)]&&(_0x31c2a7=new this[(_0x39579a(0x845))][(_0x39579a(0x7a9))]());const _0x31020e=await this['contentManager'][_0x39579a(0x796)](_0x543483,this[_0x39579a(0x599)],_0x136e3e,_0x5cb1b7,_0x3583ae,_0x31c2a7),_0x52722f=this[_0x39579a(0x126)][_0x39579a(0x4b9)]();this[_0x39579a(0x7d5)][_0x39579a(0x70b)](_0x31020e,_0x52722f),this[_0x39579a(0x7d5)][_0x39579a(0x774)](_0x52722f,_0x31020e);const _0x238b29=this[_0x39579a(0x53f)][_0x39579a(0x7a2)]();return _0x31020e[_0x39579a(0x2ef)](0x0===_0x238b29[_0x39579a(0x68c)]||void 0x0),_0x31020e;}catch(_0x25a434){throw this[_0x39579a(0x6d4)](_0x25a434,{});}}['openGraphDatabase'](_0x56d473){const _0x82005e=_0x2d5ee2;try{if(!this[_0x82005e(0x845)]['graphDatabaseConnector'])throw new _0x21720d(_0x11ce35[_0x82005e(0x3ac)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x82005e(0x599)]instanceof _0x557c46))throw new _0x21720d(_0x11ce35[_0x82005e(0x26e)],'Node\x20is\x20not\x20an\x20agent');const _0x99ce5f=this['contentManager'][_0x82005e(0x417)](_0x56d473,this[_0x82005e(0x845)]['graphDatabaseConnector']),_0x2282fe=this['connectionManager'][_0x82005e(0x4b9)]();return this['subscriptionManager'][_0x82005e(0x70b)](_0x99ce5f,_0x2282fe),this[_0x82005e(0x7d5)][_0x82005e(0x774)](_0x2282fe,_0x99ce5f),_0x99ce5f;}catch(_0x12f633){throw this[_0x82005e(0x6d4)](_0x12f633,{});}}['openVectorDatabase'](_0x48a1f1){const _0x15fa5e=_0x2d5ee2;try{if(!this[_0x15fa5e(0x845)][_0x15fa5e(0x614)])throw new _0x21720d(_0x11ce35[_0x15fa5e(0x67d)],_0x15fa5e(0x445));if(!(this[_0x15fa5e(0x599)]instanceof _0x557c46))throw new _0x21720d(_0x11ce35['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x401817=this[_0x15fa5e(0x682)]['createVectorDatabase'](_0x48a1f1,this[_0x15fa5e(0x845)][_0x15fa5e(0x614)]),_0x4d5dd1=this[_0x15fa5e(0x126)][_0x15fa5e(0x4b9)]();return this[_0x15fa5e(0x7d5)]['createOutgoingSubscription'](_0x401817,_0x4d5dd1),this['subscriptionManager'][_0x15fa5e(0x774)](_0x4d5dd1,_0x401817),_0x401817;}catch(_0x51e57c){throw this['handleError'](_0x51e57c,{});}}['getPubSubTopics'](_0x1364eb){const _0x58be76=_0x2d5ee2;try{return this['contentManager'][_0x58be76(0x415)](_0x1364eb);}catch(_0x1b3416){throw this[_0x58be76(0x6d4)](_0x1b3416,{});}}[_0x2d5ee2(0x76c)](_0x409e33){const _0x1d3a40=_0x2d5ee2;try{return this[_0x1d3a40(0x682)][_0x1d3a40(0x76c)](_0x409e33);}catch(_0x38b6b0){throw this[_0x1d3a40(0x6d4)](_0x38b6b0,{});}}[_0x2d5ee2(0x653)](_0x3e89a6){const _0x2246f4=_0x2d5ee2;try{return this[_0x2246f4(0x682)][_0x2246f4(0x653)](_0x3e89a6);}catch(_0xbb40c9){throw this[_0x2246f4(0x6d4)](_0xbb40c9,{});}}[_0x2d5ee2(0x525)](_0x51e0a8){try{return this['contentManager']['getGenerativeAIContexts'](_0x51e0a8);}catch(_0x4c3882){throw this['handleError'](_0x4c3882,{});}}[_0x2d5ee2(0x3fa)](_0x291bc9){const _0x587d06=_0x2d5ee2;try{return this[_0x587d06(0x682)]['getGenerativeAIWorkers'](_0x291bc9);}catch(_0x2ce540){throw this[_0x587d06(0x6d4)](_0x2ce540,{});}}[_0x2d5ee2(0x285)](_0x43b1ad){const _0x51a444=_0x2d5ee2;try{return this[_0x51a444(0x682)]['getGraphDatabases'](_0x43b1ad);}catch(_0x3f7916){throw this['handleError'](_0x3f7916,{});}}['createLocalMediaStream'](_0x1e05f1,_0x5ed644){const _0x4e59f2=_0x2d5ee2;if(!this['configs'][_0x4e59f2(0x432)][_0x4e59f2(0x51a)](_0x2a4e6e[_0x4e59f2(0x83c)]))throw new _0x21720d(_0x11ce35[_0x4e59f2(0x61a)],_0x4e59f2(0x495));try{return this[_0x4e59f2(0x682)]['createLocalMediaStream'](_0x1e05f1,_0x5ed644);}catch(_0x143c6a){throw this[_0x4e59f2(0x6d4)](_0x143c6a,{});}}[_0x2d5ee2(0x336)](_0x3c04d3,_0x3ca6a4){const _0x4b73f9=_0x2d5ee2;if(!this['configs'][_0x4b73f9(0x432)][_0x4b73f9(0x51a)](_0x2a4e6e[_0x4b73f9(0x83c)]))throw new _0x21720d(_0x11ce35['FeatureNotEnabled'],_0x4b73f9(0x495));try{return this[_0x4b73f9(0x682)][_0x4b73f9(0x336)](_0x3c04d3,_0x3ca6a4);}catch(_0x3462fd){throw this['handleError'](_0x3462fd,{});}}['getLocalMediaStreams'](_0x224d2a){const _0x2dd1f5=_0x2d5ee2;if(!this[_0x2dd1f5(0x3f0)][_0x2dd1f5(0x432)]['includes'](_0x2a4e6e[_0x2dd1f5(0x83c)]))throw new _0x21720d(_0x11ce35['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x2dd1f5(0x682)][_0x2dd1f5(0x31b)](_0x224d2a);}catch(_0x403757){throw this['handleError'](_0x403757,{});}}[_0x2d5ee2(0x137)](_0x5a37ee){const _0x929365=_0x2d5ee2;if(!this[_0x929365(0x3f0)][_0x929365(0x432)][_0x929365(0x51a)](_0x2a4e6e['MediaStream']))throw new _0x21720d(_0x11ce35[_0x929365(0x61a)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x929365(0x682)]['getRemoteMediaStreams'](_0x5a37ee);}catch(_0x241db4){throw this[_0x929365(0x6d4)](_0x241db4,{});}}[_0x2d5ee2(0x515)](_0x5a597f){const _0x33dadb=_0x2d5ee2;try{return this[_0x33dadb(0x682)][_0x33dadb(0x515)](_0x5a597f);}catch(_0x1f88c7){throw this[_0x33dadb(0x6d4)](_0x1f88c7,{});}}[_0x2d5ee2(0x374)](_0x30c7fe,_0xa2f1c9){const _0x403290=_0x2d5ee2;return this['nodeManager'][_0x403290(0x374)](_0x30c7fe,_0xa2f1c9);}[_0x2d5ee2(0x684)](){return this['nodeManager']['getLocalNode']();}[_0x2d5ee2(0x7b1)](_0x28e568){const _0x4d01f1=_0x2d5ee2;try{return this['nodeManager']['getRemoteNodes'](_0x28e568);}catch(_0xea1b6c){throw this[_0x4d01f1(0x6d4)](_0xea1b6c,{});}}[_0x2d5ee2(0x4f1)](){const _0x1369cc=_0x2d5ee2;return this[_0x1369cc(0x126)][_0x1369cc(0x4f1)]();}async['handleSystemEvents'](_0x35d5fe){const _0xc2edfd=_0x2d5ee2;try{if(_0x4b7920[_0xc2edfd(0x5f9)](_0x27d952[_0xc2edfd(0x185)],_0xc2edfd(0x554),this['nodeManager'][_0xc2edfd(0x1bc)](),_0x35d5fe),_0x379291(_0x35d5fe,this[_0xc2edfd(0x53f)]['getLocalId']()))return void this[_0xc2edfd(0x126)][_0xc2edfd(0x203)](_0x35d5fe);switch(_0x35d5fe['messageType']){case _0xa1c806[_0xc2edfd(0x2f6)]:this['statsManager']['handleContentSystemEvents'](_0x35d5fe),this[_0xc2edfd(0x7d5)][_0xc2edfd(0x305)](_0x35d5fe),this[_0xc2edfd(0x682)][_0xc2edfd(0x305)](_0x35d5fe);break;case _0xa1c806[_0xc2edfd(0x688)]:this[_0xc2edfd(0x7d5)][_0xc2edfd(0x84f)](_0x35d5fe),this[_0xc2edfd(0x126)]['handleNodeSystemEvents'](_0x35d5fe),this['contentManager']['handleNodeSystemEvents'](_0x35d5fe),this[_0xc2edfd(0x53f)]['handleNodeSystemEvents'](_0x35d5fe);break;case _0xa1c806[_0xc2edfd(0x7f5)]:this[_0xc2edfd(0x458)][_0xc2edfd(0x83a)](_0x35d5fe);break;case _0xa1c806[_0xc2edfd(0x28c)]:this[_0xc2edfd(0x458)]['handleRemediationSystemEvents'](_0x35d5fe);break;case _0xa1c806[_0xc2edfd(0x57f)]:this[_0xc2edfd(0x705)][_0xc2edfd(0x1ce)](_0x35d5fe);break;case _0xa1c806[_0xc2edfd(0xd8)]:_0x35d5fe[_0xc2edfd(0x262)][_0xc2edfd(0x2f5)]!==_0x119828[_0xc2edfd(0x501)]?(this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x35d5fe),this[_0xc2edfd(0x682)]['handleSubscriptionSystemEvents'](_0x35d5fe)):(this['contentManager'][_0xc2edfd(0x301)](_0x35d5fe),this[_0xc2edfd(0x7d5)][_0xc2edfd(0x301)](_0x35d5fe));break;case _0xa1c806['PeerConnection']:await this[_0xc2edfd(0x126)]['handlePeerConnectionSystemEvents'](_0x35d5fe),this[_0xc2edfd(0x2a7)][_0xc2edfd(0x643)](_0x35d5fe),this[_0xc2edfd(0x53f)]['handlePeerConnectionSystemEvents'](_0x35d5fe),this[_0xc2edfd(0x7d5)]['handlePeerConnectionSystemEvents'](_0x35d5fe);}}catch(_0x3e0a8b){throw this[_0xc2edfd(0x6d4)](_0x3e0a8b,{});}}['handleError'](_0x4b1427,_0x354b89){const _0x40ab3c=_0x2d5ee2;if(!(_0x4b1427 instanceof _0x35d823)){if(_0x4b1427 instanceof _0x21720d)throw _0x4b1427;if(!(_0x4b1427 instanceof Error))throw new _0x21720d(_0x11ce35[_0x40ab3c(0x2d6)],'Internal\x20unknown\x20error:\x20'+_0x4b1427);if(!(_0x4b1427 instanceof _0x177832))throw new _0x21720d(_0x11ce35[_0x40ab3c(0x2d6)],_0x40ab3c(0x67c)+_0x4b1427[_0x40ab3c(0x52f)]);switch(_0x4b1427[_0x40ab3c(0x788)]){case _0x177832[_0x40ab3c(0x492)]['MissingSystemTopic']:case _0x177832[_0x40ab3c(0x492)][_0x40ab3c(0x48a)]:case _0x177832[_0x40ab3c(0x492)][_0x40ab3c(0x61b)]:case _0x177832[_0x40ab3c(0x492)]['ConnectionNotinitialized']:case _0x177832[_0x40ab3c(0x492)]['ConnectionNotConnected']:case _0x177832['codes']['InvalidDataChannel']:case _0x177832[_0x40ab3c(0x492)][_0x40ab3c(0x4a7)]:case _0x177832[_0x40ab3c(0x492)][_0x40ab3c(0x260)]:case _0x177832[_0x40ab3c(0x492)][_0x40ab3c(0x85d)]:case _0x177832[_0x40ab3c(0x492)][_0x40ab3c(0x42c)]:case _0x177832[_0x40ab3c(0x492)][_0x40ab3c(0x175)]:case _0x177832[_0x40ab3c(0x492)]['InvalidSubscription']:}throw _0x4b7920[_0x40ab3c(0x626)](_0x40ab3c(0x852)+_0x4b1427[_0x40ab3c(0x52f)],{'clusterId':this[_0x40ab3c(0x2dd)],'nodeId':this['localNode'][_0x40ab3c(0x7bf)](),'nodeType':this[_0x40ab3c(0x5b9)][_0x40ab3c(0x2f5)]},_0x4b1427),new _0x21720d(_0x11ce35['InternalSDKError'],_0x40ab3c(0x226)+_0x4b1427[_0x40ab3c(0x52f)]);}}[_0x2d5ee2(0x222)](){const _0x569fa9=_0x2d5ee2;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x569fa9(0x2dd)],'localNode':this[_0x569fa9(0x5b9)]};}[_0x2d5ee2(0xe2)](){const _0x471dcf=_0x2d5ee2;return this[_0x471dcf(0x319)]['subscribe'](_0x2c0a49=>{const _0x4e360f=_0x471dcf,_0x1db194=_0x206b96(_0x2c0a49,this['localNode'][_0x4e360f(0x7bf)]()),_0x93ce17=_0x2c0a49[_0x4e360f(0x598)]===_0xa1c806[_0x4e360f(0x57f)]||_0x2c0a49[_0x4e360f(0x598)]===_0xa1c806[_0x4e360f(0x3d7)]&&_0x2c0a49[_0x4e360f(0x262)][_0x4e360f(0x2f5)]===_0x274822[_0x4e360f(0x57f)]?_0x27d952[_0x4e360f(0x73a)]:_0x27d952['System'];_0x4b7920[_0x4e360f(0x44b)](_0x93ce17,_0x2c0a49[_0x4e360f(0x362)]+_0x4e360f(0x7d9)+_0x1db194,_0x2c0a49),this['handleSystemEvents'](_0x2c0a49)[_0x4e360f(0x372)](_0x354618=>{const _0x45d329=_0x4e360f;console[_0x45d329(0x626)](_0x354618);});});}async[_0x2d5ee2(0xa4)](_0x3c0252,_0x25ed21){const _0x28b963=_0x2d5ee2;_0x25ed21=this[_0x28b963(0x472)](_0x25ed21),await _0x3c0252[_0x28b963(0x6dd)](_0x25ed21,()=>this[_0x28b963(0xa4)](_0x3c0252,_0x25ed21));}[_0x2d5ee2(0x472)](_0x595bcc){const _0x1ede3a=_0x2d5ee2,_0x335911=this['nodeManager'][_0x1ede3a(0x7a2)]();if(!_0x595bcc)return _0x335911[0x0];const _0x1487e7=_0x335911['findIndex'](_0xb443f3=>_0x595bcc===_0xb443f3),_0x432a8d=_0x335911[_0x1487e7+0x1];return _0x335911[_0x1ede3a(0x68c)]>0x0&&!_0x432a8d?_0x335911[0x0]:_0x432a8d;}}class _0xe12eca{['vendorId'];['clusterId'];[_0x2d5ee2(0x599)];[_0x2d5ee2(0x333)];[_0x2d5ee2(0x4ba)];constructor(_0x512354,_0xd9906b,_0x5677ea,_0x37f309,_0x40ed6e,_0x43675d,_0x28d3ee=new _0x3173eb()){const _0x3caabd=_0x2d5ee2;this[_0x3caabd(0x52a)]=_0x512354,this['clusterId']=_0xd9906b,this[_0x3caabd(0x599)]=_0x5677ea,this[_0x3caabd(0x333)]=_0x28d3ee,this[_0x3caabd(0x4ba)]=new _0x56ff2b(this[_0x3caabd(0x52a)],this[_0x3caabd(0x2dd)],_0x5677ea,_0x37f309,_0x40ed6e,_0x43675d,this);}async[_0x2d5ee2(0x45e)](){const _0x553af8=_0x2d5ee2;await this[_0x553af8(0x4ba)][_0x553af8(0x320)](),this[_0x553af8(0x599)][_0x553af8(0x2f5)]===_0x3f2cd3[_0x553af8(0x63c)][_0x553af8(0x5a9)]&&this[_0x553af8(0x599)][_0x553af8(0x674)](this[_0x553af8(0x2dd)],_0x108a22=>{const _0x2e8318=_0x553af8;this[_0x2e8318(0x4ba)]['updateUser'](_0x108a22);});}[_0x2d5ee2(0x354)](_0x30dedd={}){const _0x2566eb=_0x2d5ee2;this[_0x2566eb(0x4ba)][_0x2566eb(0x582)](_0x30dedd),this[_0x2566eb(0x599)]['type']===_0x3f2cd3[_0x2566eb(0x63c)][_0x2566eb(0x5a9)]&&this[_0x2566eb(0x599)][_0x2566eb(0x5f4)](this[_0x2566eb(0x2dd)]),this[_0x2566eb(0x62b)](_0x2566eb(0x7da),void 0x0);}['openPubSubTopic'](_0xd8dcc3){const _0x40c924=_0x2d5ee2,_0x518af8=this[_0x40c924(0x4ba)][_0x40c924(0x81a)](_0xd8dcc3);return{'getName':_0x518af8[_0x40c924(0x15d)][_0x40c924(0x13b)](_0x518af8),'getOwnerId':_0x518af8['getOwnerId']['bind'](_0x518af8),'getContentType':_0x518af8[_0x40c924(0x813)]['bind'](_0x518af8),'publish':_0x518af8[_0x40c924(0xef)][_0x40c924(0x13b)](_0x518af8),'subscribe':_0x518af8[_0x40c924(0x21a)][_0x40c924(0x13b)](_0x518af8),'unsubscribe':_0x518af8['unsubscribe'][_0x40c924(0x13b)](_0x518af8),'close':_0x518af8['close'][_0x40c924(0x13b)](_0x518af8)};}async[_0x2d5ee2(0x15f)](_0x3e0343,_0x51a1f4){const _0x5c9ea3=_0x2d5ee2,_0x2015d6=await this[_0x5c9ea3(0x4ba)][_0x5c9ea3(0x15f)](_0x3e0343,_0x51a1f4);return{'getName':_0x2015d6[_0x5c9ea3(0x15d)][_0x5c9ea3(0x13b)](_0x2015d6),'getOwnerId':_0x2015d6[_0x5c9ea3(0x3f9)][_0x5c9ea3(0x13b)](_0x2015d6),'getContentType':_0x2015d6[_0x5c9ea3(0x813)][_0x5c9ea3(0x13b)](_0x2015d6),'publish':_0x2015d6[_0x5c9ea3(0xef)]['bind'](_0x2015d6),'unpublish':_0x2015d6['unpublish'][_0x5c9ea3(0x13b)](_0x2015d6),'get':_0x2015d6[_0x5c9ea3(0x548)][_0x5c9ea3(0x13b)](_0x2015d6),'list':_0x2015d6[_0x5c9ea3(0x25a)][_0x5c9ea3(0x13b)](_0x2015d6),'getSize':_0x2015d6['getSize'][_0x5c9ea3(0x13b)](_0x2015d6),'subscribe':_0x2015d6[_0x5c9ea3(0x21a)]['bind'](_0x2015d6),'unsubscribe':_0x2015d6['unsubscribe'][_0x5c9ea3(0x13b)](_0x2015d6),'close':_0x2015d6[_0x5c9ea3(0x582)]['bind'](_0x2015d6)};}async[_0x2d5ee2(0x6af)](_0x41eac1,_0x4799df){const _0x55dea9=_0x2d5ee2,_0x42f780=await this[_0x55dea9(0x4ba)][_0x55dea9(0x6af)](_0x41eac1,_0x4799df);return{'getName':_0x42f780['getName'][_0x55dea9(0x13b)](_0x42f780),'getOwnerId':_0x42f780[_0x55dea9(0x3f9)][_0x55dea9(0x13b)](_0x42f780),'getContentType':_0x42f780[_0x55dea9(0x813)]['bind'](_0x42f780),'getTable':_0x42f780[_0x55dea9(0x7fb)][_0x55dea9(0x13b)](_0x42f780),'subscribe':_0x42f780['subscribe'][_0x55dea9(0x13b)](_0x42f780),'unsubscribe':_0x42f780['unsubscribe']['bind'](_0x42f780),'close':_0x42f780[_0x55dea9(0x582)][_0x55dea9(0x13b)](_0x42f780)};}async[_0x2d5ee2(0x2bb)](_0x215be2){const _0x30f271=_0x2d5ee2,_0x3229fd=await this['orchestrator'][_0x30f271(0x2bb)](_0x215be2);return{'getName':_0x3229fd['getName']['bind'](_0x3229fd),'getOwnerId':_0x3229fd[_0x30f271(0x3f9)][_0x30f271(0x13b)](_0x3229fd),'getContentType':_0x3229fd[_0x30f271(0x813)]['bind'](_0x3229fd),'createJob':_0x3229fd[_0x30f271(0x44e)][_0x30f271(0x13b)](_0x3229fd),'getJob':_0x3229fd[_0x30f271(0x759)]['bind'](_0x3229fd),'getJobs':_0x3229fd['getJobs'][_0x30f271(0x13b)](_0x3229fd),'close':_0x3229fd[_0x30f271(0x582)]['bind'](_0x3229fd)};}async[_0x2d5ee2(0x65b)](_0xe30772){const _0x197568=_0x2d5ee2,_0x381b43=await this['orchestrator'][_0x197568(0x65b)](_0xe30772);return{'close':_0x381b43[_0x197568(0x582)]['bind'](_0x381b43)};}async['openGenerativeAIContext'](_0x4fb053){const _0xf34edc=_0x2d5ee2,_0x467935=await this[_0xf34edc(0x4ba)][_0xf34edc(0x253)](_0x4fb053);return{'prompt':_0x467935['prompt'][_0xf34edc(0x13b)](_0x467935),'stream':_0x467935[_0xf34edc(0x35b)][_0xf34edc(0x13b)](_0x467935),'getDataBucketIds':_0x467935[_0xf34edc(0x157)][_0xf34edc(0x13b)](_0x467935),'close':_0x467935[_0xf34edc(0x582)][_0xf34edc(0x13b)](_0x467935)};}async[_0x2d5ee2(0x55e)](_0x61058b){const _0x106533=_0x2d5ee2,_0x31dcef=await this[_0x106533(0x4ba)]['openGenerativeAIWorker'](_0x61058b);return{'close':_0x31dcef[_0x106533(0x582)]['bind'](_0x31dcef)};}[_0x2d5ee2(0xe3)](_0xf9bd25){const _0x57ba0e=_0x2d5ee2,_0x201289=this[_0x57ba0e(0x4ba)][_0x57ba0e(0xe3)](_0xf9bd25);return{'getName':_0x201289['getName'][_0x57ba0e(0x13b)](_0x201289),'getOwnerId':_0x201289['getOwnerId'][_0x57ba0e(0x13b)](_0x201289),'getContentType':_0x201289[_0x57ba0e(0x813)]['bind'](_0x201289),'addNode':_0x201289[_0x57ba0e(0x5d2)]['bind'](_0x201289),'addEdge':_0x201289[_0x57ba0e(0x36e)][_0x57ba0e(0x13b)](_0x201289),'getContent':_0x201289['getContent'][_0x57ba0e(0x13b)](_0x201289),'close':_0x201289[_0x57ba0e(0x582)][_0x57ba0e(0x13b)](_0x201289)};}[_0x2d5ee2(0x511)](_0x29421c){const _0xb50329=_0x2d5ee2,_0x3ae4f2=this[_0xb50329(0x4ba)]['openVectorDatabase'](_0x29421c);return{'getName':_0x3ae4f2[_0xb50329(0x15d)]['bind'](_0x3ae4f2),'getOwnerId':_0x3ae4f2['getOwnerId'][_0xb50329(0x13b)](_0x3ae4f2),'getContentType':_0x3ae4f2['getContentType'][_0xb50329(0x13b)](_0x3ae4f2),'search':_0x3ae4f2[_0xb50329(0x729)][_0xb50329(0x13b)](_0x3ae4f2),'insert':_0x3ae4f2[_0xb50329(0x26a)][_0xb50329(0x13b)](_0x3ae4f2),'remove':_0x3ae4f2[_0xb50329(0x43a)]['bind'](_0x3ae4f2),'close':_0x3ae4f2[_0xb50329(0x582)][_0xb50329(0x13b)](_0x3ae4f2)};}[_0x2d5ee2(0x415)](_0x5406db){const _0x40128d=_0x2d5ee2;return this[_0x40128d(0x4ba)][_0x40128d(0x415)](_0x5406db)[_0x40128d(0x313)](_0x1758ca=>({'getName':_0x1758ca[_0x40128d(0x15d)][_0x40128d(0x13b)](_0x1758ca),'getOwnerId':_0x1758ca[_0x40128d(0x3f9)][_0x40128d(0x13b)](_0x1758ca),'getContentType':_0x1758ca[_0x40128d(0x813)][_0x40128d(0x13b)](_0x1758ca),'publish':_0x1758ca[_0x40128d(0xef)][_0x40128d(0x13b)](_0x1758ca),'subscribe':_0x1758ca[_0x40128d(0x21a)][_0x40128d(0x13b)](_0x1758ca),'unsubscribe':_0x1758ca[_0x40128d(0x5ee)][_0x40128d(0x13b)](_0x1758ca),'close':_0x1758ca[_0x40128d(0x582)][_0x40128d(0x13b)](_0x1758ca)}));}[_0x2d5ee2(0x76c)](_0x3e125c){const _0x552226=_0x2d5ee2;return this['orchestrator'][_0x552226(0x76c)](_0x3e125c)[_0x552226(0x313)](_0x51d0c4=>({'getName':_0x51d0c4[_0x552226(0x15d)][_0x552226(0x13b)](_0x51d0c4),'getOwnerId':_0x51d0c4[_0x552226(0x3f9)][_0x552226(0x13b)](_0x51d0c4),'getContentType':_0x51d0c4[_0x552226(0x813)][_0x552226(0x13b)](_0x51d0c4),'publish':_0x51d0c4['publish']['bind'](_0x51d0c4),'unpublish':_0x51d0c4[_0x552226(0x713)]['bind'](_0x51d0c4),'get':_0x51d0c4[_0x552226(0x548)][_0x552226(0x13b)](_0x51d0c4),'list':_0x51d0c4[_0x552226(0x25a)][_0x552226(0x13b)](_0x51d0c4),'getSize':_0x51d0c4[_0x552226(0x278)][_0x552226(0x13b)](_0x51d0c4),'subscribe':_0x51d0c4[_0x552226(0x21a)][_0x552226(0x13b)](_0x51d0c4),'unsubscribe':_0x51d0c4['unsubscribe'][_0x552226(0x13b)](_0x51d0c4),'close':_0x51d0c4[_0x552226(0x582)][_0x552226(0x13b)](_0x51d0c4)}));}[_0x2d5ee2(0x653)](_0x76a90e){const _0x52c2c3=_0x2d5ee2;return this[_0x52c2c3(0x4ba)]['getKeyValueDatabases'](_0x76a90e)[_0x52c2c3(0x313)](_0x235c4f=>({'getName':_0x235c4f[_0x52c2c3(0x15d)]['bind'](_0x235c4f),'getOwnerId':_0x235c4f[_0x52c2c3(0x3f9)][_0x52c2c3(0x13b)](_0x235c4f),'getContentType':_0x235c4f[_0x52c2c3(0x813)][_0x52c2c3(0x13b)](_0x235c4f),'getTable':_0x235c4f['getTable'][_0x52c2c3(0x13b)](_0x235c4f),'subscribe':_0x235c4f[_0x52c2c3(0x21a)][_0x52c2c3(0x13b)](_0x235c4f),'unsubscribe':_0x235c4f[_0x52c2c3(0x5ee)][_0x52c2c3(0x13b)](_0x235c4f),'close':_0x235c4f['close'][_0x52c2c3(0x13b)](_0x235c4f)}));}[_0x2d5ee2(0x525)](_0x549f06){const _0x5f5b9b=_0x2d5ee2;return this[_0x5f5b9b(0x4ba)][_0x5f5b9b(0x525)](_0x549f06)['map'](_0x243e3=>({'prompt':_0x243e3[_0x5f5b9b(0x1ae)][_0x5f5b9b(0x13b)](_0x243e3),'stream':_0x243e3[_0x5f5b9b(0x35b)]['bind'](_0x243e3),'getDataBucketIds':_0x243e3[_0x5f5b9b(0x157)][_0x5f5b9b(0x13b)](_0x243e3),'close':_0x243e3[_0x5f5b9b(0x582)][_0x5f5b9b(0x13b)](_0x243e3)}));}[_0x2d5ee2(0x3fa)](_0x50f5c0){const _0x22ffff=_0x2d5ee2;return this['orchestrator']['getGenerativeAIWorkers'](_0x50f5c0)[_0x22ffff(0x313)](_0x16f966=>({'close':_0x16f966[_0x22ffff(0x582)][_0x22ffff(0x13b)](_0x16f966)}));}['publishLocalMediaStream'](_0x319441,_0x4a7b73){const _0x17dc2f=_0x2d5ee2,_0x14acf3=this[_0x17dc2f(0x4ba)]['createLocalMediaStream'](_0x319441,_0x4a7b73);return{'getLabel':_0x14acf3['getLabel']['bind'](_0x14acf3),'getOwnerId':_0x14acf3['getOwnerId'][_0x17dc2f(0x13b)](_0x14acf3),'getContentType':_0x14acf3['getContentType'][_0x17dc2f(0x13b)](_0x14acf3),'getMediaStream':_0x14acf3[_0x17dc2f(0x59a)][_0x17dc2f(0x13b)](_0x14acf3),'setPriority':_0x14acf3[_0x17dc2f(0x347)][_0x17dc2f(0x13b)](_0x14acf3),'unpublish':_0x14acf3[_0x17dc2f(0x713)][_0x17dc2f(0x13b)](_0x14acf3)};}[_0x2d5ee2(0x27f)](_0x1d18be,_0x18bbff){const _0x27ebeb=_0x2d5ee2,_0x36da09=this['orchestrator'][_0x27ebeb(0x336)](_0x1d18be,_0x18bbff);return{'getLabel':_0x36da09[_0x27ebeb(0x127)][_0x27ebeb(0x13b)](_0x36da09),'getOwnerId':_0x36da09['getOwnerId'][_0x27ebeb(0x13b)](_0x36da09),'getContentType':_0x36da09[_0x27ebeb(0x813)]['bind'](_0x36da09),'setPriority':_0x36da09[_0x27ebeb(0x347)]['bind'](_0x36da09),'unpublish':_0x36da09[_0x27ebeb(0x713)]['bind'](_0x36da09),'getMediaStream':_0x36da09[_0x27ebeb(0x59a)]['bind'](_0x36da09),'addTrack':_0x36da09['addTrack'][_0x27ebeb(0x13b)](_0x36da09),'removeTrack':_0x36da09[_0x27ebeb(0x7d1)]['bind'](_0x36da09),'replaceTrack':_0x36da09[_0x27ebeb(0x58a)][_0x27ebeb(0x13b)](_0x36da09),'setTransformations':_0x36da09[_0x27ebeb(0x767)]['bind'](_0x36da09)};}[_0x2d5ee2(0x31b)](_0x5527e){const _0x4d28e6=_0x2d5ee2;return this[_0x4d28e6(0x4ba)]['getLocalMediaStreams'](_0x5527e)['map'](_0x2dfea3=>({'getLabel':_0x2dfea3[_0x4d28e6(0x127)]['bind'](_0x2dfea3),'getOwnerId':_0x2dfea3['getOwnerId'][_0x4d28e6(0x13b)](_0x2dfea3),'getContentType':_0x2dfea3['getContentType']['bind'](_0x2dfea3),'getMediaStream':_0x2dfea3[_0x4d28e6(0x59a)][_0x4d28e6(0x13b)](_0x2dfea3),'setPriority':_0x2dfea3[_0x4d28e6(0x347)][_0x4d28e6(0x13b)](_0x2dfea3),'unpublish':_0x2dfea3[_0x4d28e6(0x713)][_0x4d28e6(0x13b)](_0x2dfea3)}));}[_0x2d5ee2(0x137)](_0x5bad3c){const _0x3b936a=_0x2d5ee2;return this[_0x3b936a(0x4ba)][_0x3b936a(0x137)](_0x5bad3c)[_0x3b936a(0x313)](_0x170b3b=>({'getLabel':_0x170b3b[_0x3b936a(0x127)]['bind'](_0x170b3b),'getOwnerId':_0x170b3b[_0x3b936a(0x3f9)][_0x3b936a(0x13b)](_0x170b3b),'getContentType':_0x170b3b[_0x3b936a(0x813)][_0x3b936a(0x13b)](_0x170b3b),'getMediaStream':_0x170b3b[_0x3b936a(0x59a)][_0x3b936a(0x13b)](_0x170b3b),'subscribe':_0x170b3b['subscribe'][_0x3b936a(0x13b)](_0x170b3b),'unsubscribe':_0x170b3b[_0x3b936a(0x5ee)][_0x3b936a(0x13b)](_0x170b3b),'getAvailableTrackKinds':_0x170b3b[_0x3b936a(0x32d)][_0x3b936a(0x13b)](_0x170b3b),'update':_0x170b3b[_0x3b936a(0x2d3)]['bind'](_0x170b3b),'onProviderChange':_0x170b3b[_0x3b936a(0x7e3)][_0x3b936a(0x13b)](_0x170b3b)}));}[_0x2d5ee2(0x285)](_0x325f96){const _0x112d68=_0x2d5ee2;return this[_0x112d68(0x4ba)]['getGraphDatabases'](_0x325f96)[_0x112d68(0x313)](_0x16d3d0=>({'getName':_0x16d3d0[_0x112d68(0x15d)]['bind'](_0x16d3d0),'getOwnerId':_0x16d3d0[_0x112d68(0x3f9)][_0x112d68(0x13b)](_0x16d3d0),'getContentType':_0x16d3d0[_0x112d68(0x813)]['bind'](_0x16d3d0),'addNode':_0x16d3d0[_0x112d68(0x5d2)][_0x112d68(0x13b)](_0x16d3d0),'addEdge':_0x16d3d0['addEdge'][_0x112d68(0x13b)](_0x16d3d0),'getContent':_0x16d3d0[_0x112d68(0x112)][_0x112d68(0x13b)](_0x16d3d0),'close':_0x16d3d0[_0x112d68(0x582)][_0x112d68(0x13b)](_0x16d3d0)}));}[_0x2d5ee2(0x515)](_0x405aa8){const _0x1d30ce=_0x2d5ee2;return this[_0x1d30ce(0x4ba)][_0x1d30ce(0x515)](_0x405aa8)[_0x1d30ce(0x313)](_0x10f326=>({'getName':_0x10f326[_0x1d30ce(0x15d)][_0x1d30ce(0x13b)](_0x10f326),'getOwnerId':_0x10f326[_0x1d30ce(0x3f9)][_0x1d30ce(0x13b)](_0x10f326),'getContentType':_0x10f326[_0x1d30ce(0x813)][_0x1d30ce(0x13b)](_0x10f326),'search':_0x10f326['search'][_0x1d30ce(0x13b)](_0x10f326),'insert':_0x10f326[_0x1d30ce(0x26a)][_0x1d30ce(0x13b)](_0x10f326),'remove':_0x10f326['remove'][_0x1d30ce(0x13b)](_0x10f326),'close':_0x10f326[_0x1d30ce(0x582)][_0x1d30ce(0x13b)](_0x10f326)}));}['getLocalNode'](){const _0x23b3ba=_0x2d5ee2,_0x423825=this[_0x23b3ba(0x4ba)][_0x23b3ba(0x684)]();switch(_0x423825[_0x23b3ba(0x2f5)]){case _0x3f2cd3[_0x23b3ba(0x63c)]['User']:return{'type':_0x3f2cd3['NodeType'][_0x23b3ba(0x5a9)],'getId':_0x423825['getId'][_0x23b3ba(0x13b)](_0x423825),'getDisplayName':_0x423825['getDisplayName'][_0x23b3ba(0x13b)](_0x423825),'getEmail':_0x423825['getEmail']['bind'](_0x423825),'getRemoteConnections':_0x423825[_0x23b3ba(0x537)][_0x23b3ba(0x13b)](_0x423825),'setDisplayName':_0x423825[_0x23b3ba(0x17d)][_0x23b3ba(0x13b)](_0x423825),'setEmail':_0x423825[_0x23b3ba(0x420)][_0x23b3ba(0x13b)](_0x423825)};case _0x3f2cd3[_0x23b3ba(0x63c)][_0x23b3ba(0x29f)]:default:return{'type':_0x3f2cd3[_0x23b3ba(0x63c)]['Agent'],'getId':_0x423825[_0x23b3ba(0x7bf)][_0x23b3ba(0x13b)](_0x423825),'getRemoteConnections':_0x423825[_0x23b3ba(0x537)][_0x23b3ba(0x13b)](_0x423825)};}}[_0x2d5ee2(0x7b1)](_0x18727a){const _0x135ec3=_0x2d5ee2;return this[_0x135ec3(0x4ba)][_0x135ec3(0x7b1)](_0x18727a)['map'](_0x7a331d=>{const _0x8f4fee=_0x135ec3;switch(_0x7a331d[_0x8f4fee(0x2f5)]){case _0x3f2cd3[_0x8f4fee(0x63c)][_0x8f4fee(0x5a9)]:return{'type':_0x3f2cd3[_0x8f4fee(0x63c)][_0x8f4fee(0x5a9)],'getId':_0x7a331d[_0x8f4fee(0x7bf)]['bind'](_0x7a331d),'getDisplayName':_0x7a331d[_0x8f4fee(0x39d)]['bind'](_0x7a331d),'getEmail':_0x7a331d['getEmail'][_0x8f4fee(0x13b)](_0x7a331d),'getRemoteConnections':_0x7a331d['getRemoteConnections'][_0x8f4fee(0x13b)](_0x7a331d)};case _0x3f2cd3[_0x8f4fee(0x63c)]['Agent']:return{'type':_0x3f2cd3[_0x8f4fee(0x63c)]['Agent'],'getId':_0x7a331d[_0x8f4fee(0x7bf)][_0x8f4fee(0x13b)](_0x7a331d),'getRemoteConnections':_0x7a331d['getRemoteConnections'][_0x8f4fee(0x13b)](_0x7a331d)};default:throw new _0x21720d(_0x11ce35['NodeInvalidType'],_0x8f4fee(0x630));}});}['on']=(..._0x2a8d19)=>{const _0x721418=_0x2d5ee2;this[_0x721418(0x333)]['on'](..._0x2a8d19);};[_0x2d5ee2(0x62b)]=(..._0x199b1c)=>this[_0x2d5ee2(0x333)][_0x2d5ee2(0x62b)](..._0x199b1c);[_0x2d5ee2(0x58c)](..._0xdad465){const _0x229a1b=_0x2d5ee2;this[_0x229a1b(0x333)][_0x229a1b(0x58c)](..._0xdad465);}}class _0x375df9{['id'];[_0x2d5ee2(0x534)];[_0x2d5ee2(0x10a)];[_0x2d5ee2(0x2f5)]=_0x3f2cd3[_0x2d5ee2(0x63c)][_0x2d5ee2(0x5a9)];[_0x2d5ee2(0x722)]=new Map();[_0x2d5ee2(0x5ba)]=_0x368dbe();constructor(_0x92faba,_0x24bb60,_0x1e7223){const _0x12daa6=_0x2d5ee2;this['id']=_0x92faba,this[_0x12daa6(0x534)]=_0x24bb60,this[_0x12daa6(0x10a)]=_0x1e7223;}[_0x2d5ee2(0x7bf)](){return this['id'];}[_0x2d5ee2(0x39d)](){const _0x49e7ac=_0x2d5ee2;return this[_0x49e7ac(0x534)];}[_0x2d5ee2(0x14c)](){const _0x2b7e0d=_0x2d5ee2;return this[_0x2b7e0d(0x10a)];}[_0x2d5ee2(0x17d)](_0x3f8f0a){const _0x3a606b=_0x2d5ee2;this[_0x3a606b(0x534)]!==_0x3f8f0a&&(this[_0x3a606b(0x534)]=_0x3f8f0a,this[_0x3a606b(0x5ba)][_0x3a606b(0xef)](this));}['setEmail'](_0x4ad1a7){const _0x3f13b5=_0x2d5ee2;this[_0x3f13b5(0x10a)]!==_0x4ad1a7&&(this[_0x3f13b5(0x10a)]=_0x4ad1a7,this[_0x3f13b5(0x5ba)][_0x3f13b5(0xef)](this));}[_0x2d5ee2(0x674)](_0x4857fd,_0xf6cbd8){const _0x592da3=_0x2d5ee2;if(this[_0x592da3(0x722)][_0x592da3(0x2b3)](_0x4857fd))return;const _0x1591af=this[_0x592da3(0x5ba)][_0x592da3(0x21a)](_0xf6cbd8);this[_0x592da3(0x722)][_0x592da3(0x1d0)](_0x4857fd,_0x1591af);}[_0x2d5ee2(0x5f4)](_0x530b8d){const _0x237447=_0x2d5ee2;if(!this['joinedClusters'][_0x237447(0x2b3)](_0x530b8d))return;const _0x45f3e6=this[_0x237447(0x722)][_0x237447(0x548)](_0x530b8d);_0x45f3e6&&_0x45f3e6(),this['joinedClusters'][_0x237447(0x201)](_0x530b8d);}}class _0x42dc79{[_0x2d5ee2(0x52a)];['user'];constructor(_0x5895dc){const _0x2e9468=_0x2d5ee2;this[_0x2e9468(0x52a)]=_0x5895dc;}async[_0x2d5ee2(0x3eb)](_0x13187f){const _0x47920d=_0x2d5ee2,_0x53c282=await(0x0,_0x221148[_0x47920d(0x410)])(_0x5b16bc[_0x47920d(0x6c0)](),_0x47920d(0x1f3))({'uid':_0x47920d(0x61f)+this[_0x47920d(0x52a)]+_0x47920d(0x61f)+_0x13187f['id']}),_0x4c16d1=await(0x0,_0x23a16d[_0x47920d(0x2ee)])(_0x5b16bc['getAuth'](),_0x53c282['data'][_0x47920d(0x4ea)]);this[_0x47920d(0x1e7)]=_0x4c16d1[_0x47920d(0x1e7)];}async['signOut'](){const _0x4cceb9=_0x2d5ee2;await(0x0,_0x23a16d['signOut'])(_0x5b16bc[_0x4cceb9(0x7b3)]());}[_0x2d5ee2(0x784)](){const _0x1123de=_0x2d5ee2;return this['user']?.[_0x1123de(0x784)]()??Promise[_0x1123de(0x12a)](_0x1123de(0x76f));}}class _0x46a390{static ['instance'];['featureSupport']=[];constructor(){}static['getInstance'](){const _0x242a77=_0x2d5ee2;return _0x46a390['instance']||(_0x46a390[_0x242a77(0x23d)]=new _0x46a390()),_0x46a390[_0x242a77(0x23d)];}[_0x2d5ee2(0x320)](){const _0x3bec25=_0x2d5ee2;this[_0x3bec25(0x5f7)](),this['checkMediaStream'](),this[_0x3bec25(0x795)](),this[_0x3bec25(0x7c9)](),this[_0x3bec25(0x45a)](),this[_0x3bec25(0x376)](),this[_0x3bec25(0x864)](),this[_0x3bec25(0x145)](),this[_0x3bec25(0x288)](),this[_0x3bec25(0x146)](),_0x4b7920[_0x3bec25(0x5f9)](_0x27d952[_0x3bec25(0x393)],_0x3bec25(0x7c7),{'featureSupport':this[_0x3bec25(0x6a2)]});}[_0x2d5ee2(0x73e)](_0x5f4d2e){const _0x2b054a=_0x2d5ee2,_0x2c9e52=this[_0x2b054a(0x6a2)]['find'](_0x5baf50=>_0x5baf50[_0x2b054a(0x690)]===_0x5f4d2e);return!!_0x2c9e52&&_0x2c9e52[_0x2b054a(0x4aa)];}[_0x2d5ee2(0x1d8)](_0x1e5ce3){const _0xf8e838=_0x2d5ee2;_0x4b7920['logEvent']('support',{'nodeId':_0x1e5ce3['getId'](),'nodeType':_0x1e5ce3[_0xf8e838(0x2f5)],'data':{'featureSupport':this[_0xf8e838(0x6a2)]}});}[_0x2d5ee2(0x5f7)](){const _0x4e043e=_0x2d5ee2,_0x54fecb=_0x931929[_0x4e043e(0x40f)];let _0x2a4545=!0x1;_0x4e043e(0x6a8)==typeof RTCPeerConnection&&_0x4e043e(0x6a8)==typeof RTCIceCandidate&&_0x4e043e(0x6a8)==typeof RTCSessionDescription?_0x2a4545=!0x0:_0x4b7920[_0x4e043e(0x5f9)](_0x27d952[_0x4e043e(0x393)],_0x4e043e(0x337)+_0x54fecb+_0x4e043e(0x275)),this[_0x4e043e(0x6a2)][_0x4e043e(0x80e)]({'name':_0x54fecb,'supported':_0x2a4545});}['checkMediaStream'](){const _0x2967c0=_0x2d5ee2,_0x59af0e=_0x931929[_0x2967c0(0x83c)];let _0x5ea01d=!0x1;_0x2967c0(0x6a8)==typeof MediaStream&&_0x2967c0(0x6a8)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x2967c0(0x5fc)==typeof navigator[_0x2967c0(0x110)]&&_0x2967c0(0x6a8)==typeof navigator['mediaDevices'][_0x2967c0(0x4a8)]?_0x5ea01d=!0x0:_0x4b7920[_0x2967c0(0x5f9)](_0x27d952[_0x2967c0(0x393)],_0x2967c0(0x337)+_0x59af0e+_0x2967c0(0x275)),this[_0x2967c0(0x6a2)][_0x2967c0(0x80e)]({'name':_0x59af0e,'supported':_0x5ea01d});}[_0x2d5ee2(0x795)](){const _0x53e8c7=_0x2d5ee2,_0x5b5994=_0x931929[_0x53e8c7(0x2c7)];let _0x4748f7=!0x1;_0x53e8c7(0x5fc)==typeof navigator&&_0x53e8c7(0x5fc)==typeof navigator[_0x53e8c7(0x110)]&&_0x53e8c7(0x6a8)==typeof navigator[_0x53e8c7(0x110)][_0x53e8c7(0x172)]?_0x4748f7=!0x0:_0x4b7920[_0x53e8c7(0x5f9)](_0x27d952[_0x53e8c7(0x393)],_0x53e8c7(0x337)+_0x5b5994+_0x53e8c7(0x275)),this[_0x53e8c7(0x6a2)][_0x53e8c7(0x80e)]({'name':_0x5b5994,'supported':_0x4748f7});}[_0x2d5ee2(0x7c9)](){const _0x26c3cc=_0x2d5ee2,_0x6e61b7=_0x931929['AudioVolume'];let _0x13de3a=!0x1;_0x26c3cc(0x6a8)!=typeof AudioContext||_0x26c3cc(0x6a8)!=typeof ScriptProcessorNode&&_0x26c3cc(0x6a8)!=typeof AudioWorkletNode||_0x26c3cc(0x6a8)!=typeof MediaStreamAudioSourceNode?_0x4b7920['log'](_0x27d952[_0x26c3cc(0x393)],_0x26c3cc(0x337)+_0x6e61b7+_0x26c3cc(0x275)):_0x13de3a=!0x0,this[_0x26c3cc(0x6a2)][_0x26c3cc(0x80e)]({'name':_0x6e61b7,'supported':_0x13de3a});}['checkDeviceConfig'](){const _0xe7e550=_0x2d5ee2,_0x146e40=_0x931929[_0xe7e550(0x35e)];let _0x3da8ea=!0x1;_0xe7e550(0x5fc)==typeof navigator&&_0xe7e550(0x5fc)==typeof navigator[_0xe7e550(0x110)]&&_0xe7e550(0x6a8)==typeof navigator['mediaDevices']['enumerateDevices']&&_0xe7e550(0x6a8)==typeof MediaDeviceInfo?_0x3da8ea=!0x0:_0x4b7920[_0xe7e550(0x5f9)](_0x27d952[_0xe7e550(0x393)],_0xe7e550(0x337)+_0x146e40+_0xe7e550(0x275)),this[_0xe7e550(0x6a2)][_0xe7e550(0x80e)]({'name':_0x146e40,'supported':_0x3da8ea});}[_0x2d5ee2(0x376)](){const _0x15465f=_0x2d5ee2,_0x278bf1=_0x931929[_0x15465f(0x6ba)];let _0x13733f=!0x1;'object'==typeof document&&_0x15465f(0x6a8)==typeof document[_0x15465f(0x7c6)](_0x15465f(0x849))[_0x15465f(0x79e)]?_0x13733f=!0x0:_0x4b7920[_0x15465f(0x5f9)](_0x27d952['Support'],_0x15465f(0x337)+_0x278bf1+_0x15465f(0x275)),this[_0x15465f(0x6a2)][_0x15465f(0x80e)]({'name':_0x278bf1,'supported':_0x13733f});}async[_0x2d5ee2(0x864)](){const _0x4b7d9d=_0x2d5ee2,_0x3ba7a3=_0x931929[_0x4b7d9d(0x118)];let _0x49fac6=!0x1;try{const _0x5b3b4c=document['createElement']('canvas');if(MediaRecorder&&MediaSource&&_0x5b3b4c[_0x4b7d9d(0x5af)]){const _0x413be1=_0x5b3b4c[_0x4b7d9d(0x5af)](),_0x46c172=new MediaRecorder(_0x413be1);_0x46c172[_0x4b7d9d(0x403)](),await new Promise(_0x5c134c=>setTimeout(_0x5c134c,0x7d0)),_0x46c172[_0x4b7d9d(0x23b)](),_0x49fac6='inactive'===_0x46c172[_0x4b7d9d(0x271)];}}catch(_0x12928d){_0x4b7920[_0x4b7d9d(0x5f9)](_0x27d952['Support'],_0x4b7d9d(0x337)+_0x3ba7a3+'\x20check\x20failed',_0x12928d);}this[_0x4b7d9d(0x6a2)][_0x4b7d9d(0x80e)]({'name':_0x3ba7a3,'supported':_0x49fac6}),_0x49fac6||_0x4b7920[_0x4b7d9d(0x5f9)](_0x27d952[_0x4b7d9d(0x393)],_0x4b7d9d(0x337)+_0x3ba7a3+'\x20not\x20supported');}[_0x2d5ee2(0x145)](){const _0x4dad4c=_0x2d5ee2,_0x5e381d=_0x931929['Backgrounds'];let _0x54d773=!0x1;try{document[_0x4dad4c(0x7c6)](_0x4dad4c(0x5eb))['captureStream']&&(_0x54d773=!0x0);}catch(_0x36dfc5){_0x4b7920[_0x4dad4c(0x5f9)](_0x27d952['Support'],_0x4dad4c(0x337)+_0x5e381d+_0x4dad4c(0x30e),_0x36dfc5);}this['featureSupport'][_0x4dad4c(0x80e)]({'name':_0x5e381d,'supported':_0x54d773}),_0x54d773||_0x4b7920[_0x4dad4c(0x5f9)](_0x27d952['Support'],_0x4dad4c(0x337)+_0x5e381d+_0x4dad4c(0x275));}[_0x2d5ee2(0x288)](){const _0x5f2ca3=_0x2d5ee2,_0x4a6fac=_0x931929[_0x5f2ca3(0x5ac)];let _0x24bad1=!0x1;try{const _0x5b158e=document[_0x5f2ca3(0x7c6)]('canvas');WebGLRenderingContext&&_0x5b158e['getContext'](_0x5f2ca3(0x7ef))&&(_0x24bad1=!0x0);}catch(_0x87249a){_0x4b7920['log'](_0x27d952['Support'],_0x5f2ca3(0x337)+_0x4a6fac+_0x5f2ca3(0x30e),_0x87249a);}this['featureSupport']['push']({'name':_0x4a6fac,'supported':_0x24bad1}),_0x24bad1||_0x4b7920[_0x5f2ca3(0x5f9)](_0x27d952[_0x5f2ca3(0x393)],_0x5f2ca3(0x337)+_0x4a6fac+'\x20not\x20supported');}['checkAudioContext'](){const _0x566b7b=_0x2d5ee2,_0x3d4477=_0x931929[_0x566b7b(0x18c)];let _0x50dc5f=!0x1;_0x566b7b(0x6a8)==typeof AudioContext?_0x50dc5f=!0x0:_0x4b7920[_0x566b7b(0x5f9)](_0x27d952['Support'],_0x566b7b(0x337)+_0x3d4477+_0x566b7b(0x275)),this[_0x566b7b(0x6a2)][_0x566b7b(0x80e)]({'name':_0x3d4477,'supported':_0x50dc5f});}}const _0x27c894=_0x46a390[_0x2d5ee2(0x867)]();class _0x48373a{static [_0x2d5ee2(0x23d)];static ['unsubscribe'];[_0x2d5ee2(0x238)];[_0x2d5ee2(0x52a)];[_0x2d5ee2(0x845)];[_0x2d5ee2(0x3f0)];[_0x2d5ee2(0x29d)]=new Map();[_0x2d5ee2(0x4b2)];constructor(_0x11b44e,_0x3bf5d3,_0x4939d6){const _0x229ab1=_0x2d5ee2;this[_0x229ab1(0x52a)]=_0x11b44e,this['configs']=_0x3bf5d3,this['authService']=new _0x42dc79(this[_0x229ab1(0x52a)]),_0x27c894[_0x229ab1(0x320)](),this[_0x229ab1(0x845)]={'audioContext':_0x4939d6?.[_0x229ab1(0x242)]??(_0x27c894[_0x229ab1(0x73e)](_0x931929['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x4939d6?.[_0x229ab1(0x3b4)]??0x1,'minConnections':_0x4939d6?.[_0x229ab1(0x726)]??0x3,'maxConnections':_0x4939d6?.[_0x229ab1(0x701)]??(_0x4939d6?.[_0x229ab1(0x726)]&&0x4*_0x4939d6[_0x229ab1(0x726)])??0xc,'maxDistance':_0x4939d6?.[_0x229ab1(0x4f7)]??0xa,'maxFps':_0x4939d6?.[_0x229ab1(0x823)]??0x18,'maxBpp':_0x4939d6?.[_0x229ab1(0x863)]??0.12,'objectStoreConnector':_0x4939d6?.[_0x229ab1(0x82d)]??_0x17c9c9[_0x229ab1(0x468)],'keyValueDatabaseConnector':_0x4939d6?.[_0x229ab1(0x3a2)]??_0x2d0970[_0x229ab1(0x611)],'peerConnectionConnector':_0x4939d6?.[_0x229ab1(0x10e)]??_0x31833d[_0x229ab1(0xf5)],'generativeAIWorkerConnectors':_0x4939d6?.[_0x229ab1(0x409)],'vectorDatabaseConnector':_0x4939d6?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x4939d6?.[_0x229ab1(0x2e7)],'documentParserConnector':_0x4939d6?.[_0x229ab1(0x7cc)],'nlpLibraryConnector':_0x4939d6?.[_0x229ab1(0x287)],'searchConnector':_0x4939d6?.['searchConnector']},_0x4939d6?.['disableIntervalHack']&&this[_0x229ab1(0x845)][_0x229ab1(0x242)]&&_0x4faffa[_0x229ab1(0x506)](this['options'][_0x229ab1(0x242)]),_0x4b7920[_0x229ab1(0x26f)](this[_0x229ab1(0x52a)]),_0x4939d6?.['loggingConnectors']&&_0x4b7920[_0x229ab1(0x54a)](_0x4939d6[_0x229ab1(0x550)]);}static async[_0x2d5ee2(0x867)](_0x555583,_0x16e598,_0x362bfe,_0x4712ed){const _0x147417=_0x2d5ee2,_0x1e2c74=await this[_0x147417(0x75e)](_0x555583,_0x16e598,_0x4712ed);return _0x48373a[_0x147417(0x23d)]||(_0x48373a[_0x147417(0x23d)]=new _0x48373a(_0x555583,_0x1e2c74,_0x362bfe)),{'close':_0x48373a[_0x147417(0x23d)]['close'][_0x147417(0x13b)](_0x48373a[_0x147417(0x23d)]),'authenticateUser':_0x48373a[_0x147417(0x23d)][_0x147417(0x18b)]['bind'](_0x48373a[_0x147417(0x23d)]),'authenticateAgent':_0x48373a[_0x147417(0x23d)]['authenticateAgent'][_0x147417(0x13b)](_0x48373a['instance']),'joinCluster':_0x48373a[_0x147417(0x23d)][_0x147417(0x6a6)][_0x147417(0x13b)](_0x48373a[_0x147417(0x23d)])};}static async[_0x2d5ee2(0x121)](){const _0x14b7db=_0x2d5ee2;return _0x5b16bc[_0x14b7db(0x311)]();}static[_0x2d5ee2(0x73f)](){return _0x3b7010['isProduction'];}async['close'](_0x5567fa){const _0x2a02ee=_0x2d5ee2;this[_0x2a02ee(0x29d)][_0x2a02ee(0x57b)](_0x8ab6d0=>{const _0x350ca2=_0x2a02ee;_0x8ab6d0[_0x350ca2(0x58c)](),_0x8ab6d0[_0x350ca2(0x354)](_0x5567fa);}),this[_0x2a02ee(0x29d)]['clear'](),this[_0x2a02ee(0x845)][_0x2a02ee(0x242)]&&_0x4faffa[_0x2a02ee(0x6f6)](),_0x48373a['unsubscribe']?.(),_0x48373a['unsubscribe']=void 0x0,this[_0x2a02ee(0x4b2)]=void 0x0,await this[_0x2a02ee(0x238)]['signOut'](),_0x48373a[_0x2a02ee(0x23d)]=void 0x0;}static async[_0x2d5ee2(0x75e)](_0x5945f4,_0x3f2dc6,_0x403133){const _0x161840=_0x2d5ee2;let _0x46ea1e;try{_0x46ea1e=await(0x0,_0x221148['httpsCallable'])(_0x5b16bc[_0x161840(0x6c0)](),_0x161840(0xb7))({'vendorId':_0x5945f4,'accessToken':_0x3f2dc6,'secretKey':_0x403133});}catch(_0x3583bb){throw new _0x21720d(_0x11ce35['InvalidAccess'],'Invalid\x20credentials');}if(!this[_0x161840(0x132)](_0x46ea1e[_0x161840(0x252)]))throw new _0x21720d(_0x11ce35[_0x161840(0x38d)],'Invalid\x20credentials');const _0x3b96a0=_0x46ea1e[_0x161840(0x252)];return _0x3b96a0[_0x161840(0x432)]||(_0x3b96a0[_0x161840(0x432)]=[]),this['unsubscribe']||(this[_0x161840(0x5ee)]=_0x4faffa[_0x161840(0x52c)](async()=>{const _0x1dbcaf=_0x161840;try{const _0x53ac0b=await this[_0x1dbcaf(0x75e)](_0x5945f4,_0x3f2dc6,_0x403133);_0x3b96a0[_0x1dbcaf(0x25f)]=_0x53ac0b['iceServers'];}catch(_0xdd5444){}},0x1b7740)),_0x3b96a0;}async[_0x2d5ee2(0x18b)](_0x5e1094){const _0x27f494=_0x2d5ee2;await this[_0x27f494(0x238)][_0x27f494(0x3eb)](_0x5e1094);const _0x4e01be=new _0x375df9(_0x5e1094['id'],_0x5e1094['displayName'],_0x5e1094[_0x27f494(0x10a)]);return this[_0x27f494(0x4b2)]={'node':_0x4e01be},_0x27c894[_0x27f494(0x1d8)](_0x4e01be),{'type':_0x3f2cd3['NodeType']['User'],'getId':_0x4e01be[_0x27f494(0x7bf)][_0x27f494(0x13b)](_0x4e01be),'getDisplayName':_0x4e01be[_0x27f494(0x39d)][_0x27f494(0x13b)](_0x4e01be),'getEmail':_0x4e01be['getEmail'][_0x27f494(0x13b)](_0x4e01be),'setDisplayName':_0x4e01be[_0x27f494(0x17d)]['bind'](_0x4e01be),'setEmail':_0x4e01be[_0x27f494(0x420)][_0x27f494(0x13b)](_0x4e01be)};}async[_0x2d5ee2(0x4e9)](_0x486c4b){const _0x533d31=_0x2d5ee2,{id:_0x372819,groupId:_0x5bcf6b}=_0x486c4b,_0x940fdc=await(0x0,_0x1f204c[_0x533d31(0x641)])((0x0,_0x1f204c[_0x533d31(0xf0)])(_0x5b16bc[_0x533d31(0x433)](),_0x533d31(0x71b)+this[_0x533d31(0x52a)]+_0x533d31(0x131)+_0x5bcf6b));if(!_0x940fdc[_0x533d31(0x456)]())throw new _0x21720d(_0x11ce35[_0x533d31(0xd9)],'Agent\x20group\x20not\x20found');const _0x1854c8=_0x940fdc['data']();await this[_0x533d31(0x238)][_0x533d31(0x3eb)]({'id':_0x372819});const _0x528b3e=new _0x557c46(_0x372819,_0x5bcf6b,this[_0x533d31(0x52a)],_0x1854c8);return this['authContext']={'node':_0x528b3e},_0x27c894[_0x533d31(0x1d8)](_0x528b3e),await this[_0x533d31(0x2cb)](_0x528b3e),{'type':_0x3f2cd3[_0x533d31(0x63c)][_0x533d31(0x29f)],'getId':_0x528b3e['getId'][_0x533d31(0x13b)](_0x528b3e),'onConfigurationChange':_0x528b3e['onConfigurationChange'][_0x533d31(0x13b)](_0x528b3e),'setReportCapacity':_0x528b3e[_0x533d31(0x661)][_0x533d31(0x13b)](_0x528b3e)};}async[_0x2d5ee2(0x6a6)](_0x23aa5b){const _0x1efcbb=_0x2d5ee2;if(!this[_0x1efcbb(0x4b2)])throw new _0x21720d(_0x11ce35['NodeNotAuthenticated'],_0x1efcbb(0xba));if(this[_0x1efcbb(0x4b2)][_0x1efcbb(0x6b0)]['type']!==_0x3f2cd3[_0x1efcbb(0x63c)]['User'])throw new _0x21720d(_0x11ce35[_0x1efcbb(0x562)],_0x1efcbb(0x75c));if(this[_0x1efcbb(0x29d)]['has'](_0x23aa5b))throw new _0x21720d(_0x11ce35['ClusterAlreadyJoined'],'Cluster\x20already\x20joined');const _0x2178a2=new _0xe12eca(this[_0x1efcbb(0x52a)],_0x23aa5b,this['authContext'][_0x1efcbb(0x6b0)],this[_0x1efcbb(0x238)],this[_0x1efcbb(0x845)],this[_0x1efcbb(0x3f0)]);return await _0x2178a2[_0x1efcbb(0x45e)](),this['addCluster'](_0x23aa5b,_0x2178a2),_0x4b7920[_0x1efcbb(0x54e)]('join-cluster',{'clusterId':_0x23aa5b,'nodeId':this[_0x1efcbb(0x4b2)]['node']['getId'](),'nodeType':this[_0x1efcbb(0x4b2)][_0x1efcbb(0x6b0)][_0x1efcbb(0x2f5)]}),{'leave':_0x2178a2[_0x1efcbb(0x354)][_0x1efcbb(0x13b)](_0x2178a2),'getLocalNode':_0x2178a2[_0x1efcbb(0x684)]['bind'](_0x2178a2),'openPubSubTopic':_0x2178a2[_0x1efcbb(0x81a)][_0x1efcbb(0x13b)](_0x2178a2),'openObjectStoreBucket':_0x2178a2[_0x1efcbb(0x15f)][_0x1efcbb(0x13b)](_0x2178a2),'openKeyValueDatabase':_0x2178a2[_0x1efcbb(0x6af)][_0x1efcbb(0x13b)](_0x2178a2),'openGenerativeAIContext':_0x2178a2[_0x1efcbb(0x253)][_0x1efcbb(0x13b)](_0x2178a2),'openGenerativeAIWorker':_0x2178a2[_0x1efcbb(0x55e)][_0x1efcbb(0x13b)](_0x2178a2),'openGraphDatabase':_0x2178a2[_0x1efcbb(0xe3)][_0x1efcbb(0x13b)](_0x2178a2),'openVectorDatabase':_0x2178a2[_0x1efcbb(0x511)][_0x1efcbb(0x13b)](_0x2178a2),'publishLocalMediaStream':_0x2178a2[_0x1efcbb(0x804)][_0x1efcbb(0x13b)](_0x2178a2),'publishLocalDynamicMediaStream':_0x2178a2[_0x1efcbb(0x27f)][_0x1efcbb(0x13b)](_0x2178a2),'getPubSubTopics':_0x2178a2[_0x1efcbb(0x415)][_0x1efcbb(0x13b)](_0x2178a2),'getObjectStoreBuckets':_0x2178a2[_0x1efcbb(0x76c)][_0x1efcbb(0x13b)](_0x2178a2),'getKeyValueDatabases':_0x2178a2['getKeyValueDatabases'][_0x1efcbb(0x13b)](_0x2178a2),'getGenerativeAIContexts':_0x2178a2[_0x1efcbb(0x525)]['bind'](_0x2178a2),'getGenerativeAIWorkers':_0x2178a2['getGenerativeAIWorkers'][_0x1efcbb(0x13b)](_0x2178a2),'getGraphDatabases':_0x2178a2[_0x1efcbb(0x285)][_0x1efcbb(0x13b)](_0x2178a2),'getVectorDatabases':_0x2178a2[_0x1efcbb(0x515)]['bind'](_0x2178a2),'getLocalMediaStreams':_0x2178a2['getLocalMediaStreams']['bind'](_0x2178a2),'getRemoteMediaStreams':_0x2178a2[_0x1efcbb(0x137)]['bind'](_0x2178a2),'getRemoteNodes':_0x2178a2[_0x1efcbb(0x7b1)][_0x1efcbb(0x13b)](_0x2178a2),'on':_0x2178a2['on'][_0x1efcbb(0x13b)](_0x2178a2),'off':_0x2178a2[_0x1efcbb(0x58c)][_0x1efcbb(0x13b)](_0x2178a2)};}async[_0x2d5ee2(0x2cb)](_0x2bd47b){const _0x58c861=_0x2d5ee2;for(const _0x43c037 of _0x2bd47b[_0x58c861(0x82b)][_0x58c861(0x29d)]){const _0xee0724=new _0xe12eca(this[_0x58c861(0x52a)],_0x43c037['id'],_0x2bd47b,this[_0x58c861(0x238)],this[_0x58c861(0x845)],this[_0x58c861(0x3f0)]);await _0xee0724['join'](),this[_0x58c861(0x633)](_0x43c037['id'],_0xee0724);for(const _0x5e24d4 of _0x43c037[_0x58c861(0x5ec)]??[])_0xee0724['openPubSubTopic'](_0x5e24d4);for(const _0x11e230 of _0x43c037[_0x58c861(0x33b)]??[])await _0xee0724[_0x58c861(0x15f)](_0x11e230);for(const _0x1e469f of _0x43c037[_0x58c861(0x1ee)]??[])await _0xee0724['openKeyValueDatabase'](_0x1e469f,{'version':0x1,'tables':{}});for(const _0x44402b of _0x43c037[_0x58c861(0x340)]??[])_0xee0724['openGraphDatabase'](_0x44402b);for(const _0x301d8b of _0x43c037[_0x58c861(0x52d)]??[])_0xee0724[_0x58c861(0x511)](_0x301d8b);for(const _0xa7249e of _0x43c037[_0x58c861(0x593)]??[])await _0xee0724[_0x58c861(0x55e)](_0xa7249e);console['warn']('Agent\x20connected\x20to\x20cluster',_0x43c037['id']);}}[_0x2d5ee2(0x633)](_0x23d8ef,_0x467adb){const _0x182be5=_0x2d5ee2;this[_0x182be5(0x29d)][_0x182be5(0x1d0)](_0x23d8ef,_0x467adb),_0x467adb['on'](_0x182be5(0x7da),()=>{const _0x5bb7c1=_0x182be5;_0x467adb[_0x5bb7c1(0x58c)](),this[_0x5bb7c1(0x29d)]['delete'](_0x23d8ef);});}static[_0x2d5ee2(0x132)](_0x4999ae){return void 0x0!==_0x4999ae['iceServers'];}}return _0x34b47b;})())));