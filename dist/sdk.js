(function(_0x587566,_0x131023){const _0x3d2228=a0_0x38d9,_0x26ab12=_0x587566();while(!![]){try{const _0x3943c9=-parseInt(_0x3d2228(0x900))/0x1+-parseInt(_0x3d2228(0x424))/0x2*(-parseInt(_0x3d2228(0x94c))/0x3)+parseInt(_0x3d2228(0x7dd))/0x4+-parseInt(_0x3d2228(0x542))/0x5*(-parseInt(_0x3d2228(0x461))/0x6)+parseInt(_0x3d2228(0x7b7))/0x7*(parseInt(_0x3d2228(0xa91))/0x8)+parseInt(_0x3d2228(0x7af))/0x9*(parseInt(_0x3d2228(0x335))/0xa)+parseInt(_0x3d2228(0x30f))/0xb*(-parseInt(_0x3d2228(0x91e))/0xc);if(_0x3943c9===_0x131023)break;else _0x26ab12['push'](_0x26ab12['shift']());}catch(_0x37a292){_0x26ab12['push'](_0x26ab12['shift']());}}}(a0_0x3ff3,0xc2274),!function(_0x5403df,_0x263dd2){const _0x4a5984=a0_0x38d9;if(_0x4a5984(0x72f)==typeof exports&&_0x4a5984(0x72f)==typeof module)module[_0x4a5984(0xa36)]=_0x263dd2();else{if(_0x4a5984(0x744)==typeof define&&define[_0x4a5984(0x47b)])define([],_0x263dd2);else{var _0xb43f38=_0x263dd2();for(var _0x457dac in _0xb43f38)(_0x4a5984(0x72f)==typeof exports?exports:_0x5403df)[_0x457dac]=_0xb43f38[_0x457dac];}}}(this,()=>((()=>{'use strict';const _0x3149ab=a0_0x38d9;var _0x32e71f={0x14d:(_0xb9f8e,_0x73af79,_0x4d6d73)=>{const _0x105e2f=a0_0x38d9;_0x4d6d73['d'](_0x73af79,{'O':()=>_0xe8007d});const _0xe8007d={'version':_0x105e2f(0xa9c),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x105e2f(0x90b),'authDomain':_0x105e2f(0x73b),'databaseURL':_0x105e2f(0x1cf),'projectId':_0x105e2f(0x4ef),'storageBucket':_0x105e2f(0xa3c),'appId':_0x105e2f(0x1b8),'functionsRegion':_0x105e2f(0x7ee)},'apiUrl':_0x105e2f(0x7e4),'google':{'searchEngineId':_0x105e2f(0x750)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':'us-east-1'}};},0x33b:(_0x822910,_0x510acc,_0x35a7e5)=>{_0x35a7e5['d'](_0x510acc,{'O':()=>_0x5097c7});const _0x5097c7={};},0x3e6:(_0x3d8bc7,_0x1f3a91,_0x4c32aa)=>{const _0x5b2a0d=a0_0x38d9;_0x4c32aa['d'](_0x1f3a91,{'O':()=>_0x4487a4});const _0x4487a4={'version':'1.0.35','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5b2a0d(0xa2d),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x5b2a0d(0x2f8),'projectId':_0x5b2a0d(0x137),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':'420235181083','appId':_0x5b2a0d(0x3a3),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x5b2a0d(0xa28),'aws':{'endpoint':_0x5b2a0d(0x3c7),'region':_0x5b2a0d(0x2d6)}};},0x20:(_0x44d789,_0xfb9bc4,_0x2c6add)=>{_0x2c6add['d'](_0xfb9bc4,{'O':()=>_0x1e6906});const _0x1e6906={};}},_0x56d40d={};function _0x103e2e(_0x665e89){const _0x17a421=a0_0x38d9;var _0x5bb0c1=_0x56d40d[_0x665e89];if(void 0x0!==_0x5bb0c1)return _0x5bb0c1['exports'];var _0x7c0185=_0x56d40d[_0x665e89]={'exports':{}};return _0x32e71f[_0x665e89](_0x7c0185,_0x7c0185[_0x17a421(0xa36)],_0x103e2e),_0x7c0185[_0x17a421(0xa36)];}_0x103e2e['d']=(_0x5df064,_0x5d29a4)=>{for(var _0x3c5da8 in _0x5d29a4)_0x103e2e['o'](_0x5d29a4,_0x3c5da8)&&!_0x103e2e['o'](_0x5df064,_0x3c5da8)&&Object['defineProperty'](_0x5df064,_0x3c5da8,{'enumerable':!0x0,'get':_0x5d29a4[_0x3c5da8]});},_0x103e2e['g']=(function(){const _0x2882d6=a0_0x38d9;if(_0x2882d6(0x72f)==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0xeec411){if(_0x2882d6(0x72f)==typeof window)return window;}}()),_0x103e2e['o']=(_0x4f91b9,_0x2606b2)=>Object['prototype'][_0x3149ab(0x828)][_0x3149ab(0x935)](_0x4f91b9,_0x2606b2),_0x103e2e['r']=_0x14d521=>{const _0x5f08a0=_0x3149ab;_0x5f08a0(0x882)!=typeof Symbol&&Symbol[_0x5f08a0(0x7b9)]&&Object['defineProperty'](_0x14d521,Symbol[_0x5f08a0(0x7b9)],{'value':_0x5f08a0(0xa2c)}),Object['defineProperty'](_0x14d521,_0x5f08a0(0x80f),{'value':!0x0});};var _0x3cba44,_0x3ce5a1,_0x44d495,_0x5dc81b={};_0x103e2e['r'](_0x5dc81b),_0x103e2e['d'](_0x5dc81b,{'KeyValueDatabase':()=>_0xa93ecc,'LayoutBuilder':()=>_0x207631,'LoggingChannels':()=>_0x44d495,'QueryBuilder':()=>_0x533af2,'SDK':()=>_0x327a67,'SDKClientErrorCodes':()=>_0x3cba44,'TableBuilder':()=>_0x1a1aeb,'logger':()=>_0x5b2279}),function(_0x59b5be){const _0x32e19f=_0x3149ab;_0x59b5be[_0x32e19f(0x1b6)]=_0x32e19f(0x129),_0x59b5be['ConnectionBufferNotEmpty']=_0x32e19f(0x5f9),_0x59b5be[_0x32e19f(0x3ed)]='cluster-already-joined',_0x59b5be[_0x32e19f(0x147)]=_0x32e19f(0x3f1),_0x59b5be[_0x32e19f(0x7e5)]=_0x32e19f(0xa84),_0x59b5be[_0x32e19f(0x445)]='external-storage-connection-does-not-exist',_0x59b5be['ExternalStorageConnectorsMissing']=_0x32e19f(0xa0d),_0x59b5be['ExternalStorageInvalidPath']=_0x32e19f(0x77e),_0x59b5be[_0x32e19f(0x2be)]=_0x32e19f(0x1c0),_0x59b5be[_0x32e19f(0x8ca)]='feature-not-enabled',_0x59b5be[_0x32e19f(0x877)]=_0x32e19f(0x6cd),_0x59b5be[_0x32e19f(0x648)]=_0x32e19f(0x585),_0x59b5be[_0x32e19f(0x8da)]=_0x32e19f(0x201),_0x59b5be['GenerativeAIContextJobInvalidType']=_0x32e19f(0x138),_0x59b5be[_0x32e19f(0x9cf)]=_0x32e19f(0x4ce),_0x59b5be[_0x32e19f(0x2bf)]=_0x32e19f(0x6f0),_0x59b5be[_0x32e19f(0x19f)]=_0x32e19f(0x578),_0x59b5be['GenerativeAIWorkerModelSyncError']=_0x32e19f(0x539),_0x59b5be[_0x32e19f(0x9e2)]=_0x32e19f(0x718),_0x59b5be[_0x32e19f(0x8f8)]=_0x32e19f(0x987),_0x59b5be[_0x32e19f(0x306)]=_0x32e19f(0x2fd),_0x59b5be[_0x32e19f(0x2d7)]='graph-database-name-not-string',_0x59b5be[_0x32e19f(0x992)]=_0x32e19f(0x70a),_0x59b5be[_0x32e19f(0x46e)]=_0x32e19f(0x202),_0x59b5be[_0x32e19f(0x246)]=_0x32e19f(0x239),_0x59b5be[_0x32e19f(0x82e)]=_0x32e19f(0x894),_0x59b5be['JobDispatcherInvalidJobType']=_0x32e19f(0x140),_0x59b5be[_0x32e19f(0xac0)]='job-worker-already-exists',_0x59b5be['JobWorkerDoesNotExist']=_0x32e19f(0x18e),_0x59b5be[_0x32e19f(0x448)]='object-store-already-exists',_0x59b5be[_0x32e19f(0x2e8)]='object-store-already-subscribed',_0x59b5be[_0x32e19f(0x477)]=_0x32e19f(0xacd),_0x59b5be[_0x32e19f(0x25e)]=_0x32e19f(0x78d),_0x59b5be['ObjectStoreInvalidPayload']=_0x32e19f(0x169),_0x59b5be[_0x32e19f(0x68d)]='object-store-invalid-path',_0x59b5be[_0x32e19f(0x7ce)]=_0x32e19f(0x5ef),_0x59b5be['InternalSDKError']=_0x32e19f(0xabc),_0x59b5be[_0x32e19f(0x283)]=_0x32e19f(0x480),_0x59b5be[_0x32e19f(0x1db)]='key-value-database-already-exists',_0x59b5be['KeyValueDatabaseDoesNotExist']=_0x32e19f(0x21a),_0x59b5be[_0x32e19f(0x988)]=_0x32e19f(0x956),_0x59b5be[_0x32e19f(0x7f2)]=_0x32e19f(0x711),_0x59b5be[_0x32e19f(0x61a)]=_0x32e19f(0xac7),_0x59b5be['KeyValueDatabaseNameNotString']='key-value-database-name-not-string',_0x59b5be[_0x32e19f(0x365)]='key-value-database-not-open',_0x59b5be['KeyValueDatabaseTableNameReserved']='key-value-database-table-name-reserved',_0x59b5be['KeyValueDatabaseTableNotFound']=_0x32e19f(0x150),_0x59b5be[_0x32e19f(0x88e)]='key-value-database-invalid-layout',_0x59b5be[_0x32e19f(0x7fb)]=_0x32e19f(0x1c4),_0x59b5be[_0x32e19f(0xaaa)]='local-media-stream-no-audio-context',_0x59b5be[_0x32e19f(0x60f)]=_0x32e19f(0x6e0),_0x59b5be['PubSubTopicDoesNotExist']='pub-sub-topic-does-not-exist',_0x59b5be[_0x32e19f(0x37f)]=_0x32e19f(0x858),_0x59b5be[_0x32e19f(0x527)]=_0x32e19f(0x33b),_0x59b5be[_0x32e19f(0x26f)]='query-helper-invalid-argument',_0x59b5be[_0x32e19f(0x3cd)]='remote-media-stream-already-exists',_0x59b5be[_0x32e19f(0x893)]=_0x32e19f(0x7aa),_0x59b5be[_0x32e19f(0x3ea)]=_0x32e19f(0x827),_0x59b5be['NodeNotAuthenticated']=_0x32e19f(0x3e0),_0x59b5be['NodeInvalidType']='node-invalid-type',_0x59b5be[_0x32e19f(0xa1b)]=_0x32e19f(0x1e4),_0x59b5be[_0x32e19f(0x158)]='node-type-required',_0x59b5be[_0x32e19f(0x417)]=_0x32e19f(0xa37),_0x59b5be['VectorDatabaseDoesNotExist']=_0x32e19f(0x970),_0x59b5be['VectorDatabaseMissingConnector']='vector-database-missing-connector',_0x59b5be[_0x32e19f(0x330)]=_0x32e19f(0xaef);}(_0x3cba44||(_0x3cba44={}));class _0xab88d9 extends Error{['code'];constructor(_0x52609e,_0xf3b634){const _0x1f4ff1=_0x3149ab;super(_0xf3b634),this[_0x1f4ff1(0x634)]=_0x52609e;}}!function(_0x235f86){const _0x382cfb=_0x3149ab;_0x235f86[_0x382cfb(0x293)]=_0x382cfb(0x642),_0x235f86[_0x382cfb(0x25a)]=_0x382cfb(0x5cb),_0x235f86[_0x382cfb(0x327)]=_0x382cfb(0x2f7),_0x235f86[_0x382cfb(0x4a4)]=_0x382cfb(0x32f),_0x235f86[_0x382cfb(0x22d)]=_0x382cfb(0x42f),_0x235f86[_0x382cfb(0x393)]=_0x382cfb(0x331),_0x235f86[_0x382cfb(0x7b4)]=_0x382cfb(0x1b0),_0x235f86[_0x382cfb(0xa92)]=_0x382cfb(0x58a);}(_0x3ce5a1||(_0x3ce5a1={})),function(_0x35aa81){const _0x1fdc4c=_0x3149ab;_0x35aa81['All']=_0x1fdc4c(0x2e1),_0x35aa81[_0x1fdc4c(0x594)]=_0x1fdc4c(0x823),_0x35aa81[_0x1fdc4c(0x3ca)]=_0x1fdc4c(0x986),_0x35aa81['ConnectionState']=_0x1fdc4c(0x14d),_0x35aa81[_0x1fdc4c(0x87b)]=_0x1fdc4c(0x214),_0x35aa81[_0x1fdc4c(0x620)]=_0x1fdc4c(0x130),_0x35aa81[_0x1fdc4c(0x50a)]=_0x1fdc4c(0xa85),_0x35aa81[_0x1fdc4c(0x953)]='detection',_0x35aa81[_0x1fdc4c(0x572)]=_0x1fdc4c(0x40a),_0x35aa81[_0x1fdc4c(0x15e)]=_0x1fdc4c(0x1be),_0x35aa81['Jobs']=_0x1fdc4c(0x324),_0x35aa81[_0x1fdc4c(0x327)]=_0x1fdc4c(0x2f7),_0x35aa81[_0x1fdc4c(0x4d2)]=_0x1fdc4c(0x4c5),_0x35aa81[_0x1fdc4c(0x964)]=_0x1fdc4c(0x258),_0x35aa81[_0x1fdc4c(0x293)]=_0x1fdc4c(0x642),_0x35aa81[_0x1fdc4c(0x5c9)]=_0x1fdc4c(0x671),_0x35aa81[_0x1fdc4c(0x698)]=_0x1fdc4c(0x881),_0x35aa81[_0x1fdc4c(0x198)]='sender-send-message',_0x35aa81[_0x1fdc4c(0x86c)]=_0x1fdc4c(0xa4b),_0x35aa81['Stats']='stats',_0x35aa81[_0x1fdc4c(0xa65)]=_0x1fdc4c(0x9c1),_0x35aa81[_0x1fdc4c(0xa77)]='support',_0x35aa81[_0x1fdc4c(0x8b3)]='system',_0x35aa81[_0x1fdc4c(0xa67)]=_0x1fdc4c(0x107),_0x35aa81[_0x1fdc4c(0x440)]='test-page',_0x35aa81[_0x1fdc4c(0x5d8)]='peer-connection';}(_0x44d495||(_0x44d495={}));const _0x3a4c7c=require('@crewdle/web-sdk-types');class _0x533af2{['query'];constructor(_0x322cd1){const _0x21d0e7=_0x3149ab;this[_0x21d0e7(0x8db)]={'orderBy':{'key':_0x322cd1,'direction':_0x21d0e7(0x63c)}};}static[_0x3149ab(0x270)](_0x2a16b9){const _0x1c04d1=_0x3149ab;if('string'!=typeof _0x2a16b9||0x0===_0x2a16b9[_0x1c04d1(0x878)])throw new _0xab88d9(_0x3cba44[_0x1c04d1(0x26f)],_0x1c04d1(0x197));return new _0x533af2(_0x2a16b9);}static[_0x3149ab(0x332)](_0x3846f3){const _0x2ffe4f=_0x3149ab;try{return _0x533af2[_0x2ffe4f(0xa73)](_0x3846f3),!0x0;}catch(_0xe9059e){return!0x1;}}static[_0x3149ab(0xa73)](_0x4d3743){const _0x1055e3=_0x3149ab,_0x2470c7=_0x533af2['index'](_0x4d3743[_0x1055e3(0x5fb)]?.[_0x1055e3(0x510)]??_0x4d3743[_0x1055e3(0x6b7)]?.[_0x1055e3(0x510)]??'');if(_0x4d3743[_0x1055e3(0x6b7)]){const _0x52e602=_0x4d3743[_0x1055e3(0x6b7)];if((_0x533af2[_0x1055e3(0x797)](_0x52e602)||_0x533af2['isWhereValues'](_0x52e602)||_0x533af2[_0x1055e3(0x8df)](_0x52e602))&&_0x2470c7[_0x1055e3(0x6b7)](_0x52e602['operator'],_0x52e602[_0x1055e3(0x687)]),_0x4d3743[_0x1055e3(0x5fb)]?.['key']&&_0x4d3743[_0x1055e3(0x5fb)]?.[_0x1055e3(0x510)]!==_0x4d3743['where'][_0x1055e3(0x510)])throw new _0xab88d9(_0x3cba44[_0x1055e3(0x26f)],_0x1055e3(0x9f7));}return _0x4d3743[_0x1055e3(0x5fb)]&&_0x2470c7['orderBy'](_0x4d3743['orderBy']['direction']),_0x4d3743[_0x1055e3(0x162)]&&_0x2470c7[_0x1055e3(0x162)](_0x4d3743[_0x1055e3(0x162)]),_0x4d3743[_0x1055e3(0xae5)]&&_0x2470c7[_0x1055e3(0xae5)](_0x4d3743[_0x1055e3(0xae5)]),_0x2470c7;}[_0x3149ab(0x1e1)](){const _0x48f18e=_0x3149ab;return{...this[_0x48f18e(0x8db)]};}[_0x3149ab(0x6b7)](_0x3c69e7,_0x331c26){const _0x2f2fa7=_0x3149ab,_0x2e5cc7={'key':this[_0x2f2fa7(0x8db)]['orderBy'][_0x2f2fa7(0x510)],'operator':_0x3c69e7,'value':_0x331c26};if(!_0x533af2[_0x2f2fa7(0x797)](_0x2e5cc7)&&!_0x533af2[_0x2f2fa7(0x449)](_0x2e5cc7)&&!_0x533af2[_0x2f2fa7(0x8df)](_0x2e5cc7))throw new _0xab88d9(_0x3cba44[_0x2f2fa7(0x26f)],_0x2f2fa7(0x432));return this[_0x2f2fa7(0x8db)]['where']=_0x2e5cc7,this;}[_0x3149ab(0x5fb)](_0x3ada31){const _0x285dbc=_0x3149ab;if(_0x285dbc(0x63c)!==_0x3ada31&&_0x285dbc(0x852)!==_0x3ada31)throw new _0xab88d9(_0x3cba44[_0x285dbc(0x26f)],_0x285dbc(0x4c2));return this['query'][_0x285dbc(0x5fb)][_0x285dbc(0x4b0)]=_0x3ada31,this;}['limit'](_0x9ad2a7){const _0xa0c463=_0x3149ab;if(_0xa0c463(0x15c)!=typeof _0x9ad2a7||_0x9ad2a7<0x0)throw new _0xab88d9(_0x3cba44[_0xa0c463(0x26f)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0xa0c463(0x8db)][_0xa0c463(0x162)]=_0x9ad2a7,this;}['offset'](_0x1a0fff){const _0x303982=_0x3149ab;if('number'!=typeof _0x1a0fff||_0x1a0fff<0x0)throw new _0xab88d9(_0x3cba44[_0x303982(0x26f)],_0x303982(0x47d));return this[_0x303982(0x8db)][_0x303982(0xae5)]=_0x1a0fff,this;}static[_0x3149ab(0x797)](_0x1b8ef4){const _0x3b2a80=_0x3149ab;if(!(_0x1b8ef4&&_0x3b2a80(0x72f)==typeof _0x1b8ef4&&_0x3b2a80(0x777)in _0x1b8ef4&&'value'in _0x1b8ef4))return!0x1;const {operator:_0x412c98,value:_0x573e97}=_0x1b8ef4;return!(!['==','!=','>','<','<=','>='][_0x3b2a80(0x24c)](_0x412c98)||Array[_0x3b2a80(0x7f0)](_0x573e97));}static[_0x3149ab(0x449)](_0xe9839e){const _0x3dce56=_0x3149ab;if(!(_0xe9839e&&'object'==typeof _0xe9839e&&_0x3dce56(0x777)in _0xe9839e&&_0x3dce56(0x687)in _0xe9839e))return!0x1;const {operator:_0x341aa3,value:_0xabc38}=_0xe9839e;return!(!['in',_0x3dce56(0x5e3)]['includes'](_0x341aa3)||!Array[_0x3dce56(0x7f0)](_0xabc38));}static[_0x3149ab(0x8df)](_0x13a34a){const _0x165ccd=_0x3149ab;if(!(_0x13a34a&&'object'==typeof _0x13a34a&&_0x165ccd(0x777)in _0x13a34a&&'value'in _0x13a34a))return!0x1;const {operator:_0x12a70c,value:_0x5aa08f}=_0x13a34a;return!(_0x165ccd(0x8b9)!==_0x12a70c||!Array[_0x165ccd(0x7f0)](_0x5aa08f)||0x2!==_0x5aa08f[_0x165ccd(0x878)]);}}class _0x207631{['layout'];constructor(_0x585161){this['layout']={'tables':{},'version':_0x585161};}static[_0x3149ab(0x813)](_0x37fe46){const _0x2f0775=_0x3149ab;for(const _0x2e6394 in _0x37fe46){if(_0x2f0775(0xa66)!==_0x2e6394&&_0x2f0775(0x2a2)!==_0x2e6394)return[!0x1,_0x2f0775(0x23f)+_0x2e6394+'\x27\x20in\x20layout'];if(_0x2f0775(0x2a2)===_0x2e6394)for(const _0x487ee1 in _0x37fe46['tables']){if(_0x2f0775(0x657)!=typeof _0x487ee1)return[!0x1,_0x2f0775(0x2c3)+_0x487ee1+'\x27'];for(const _0x45b04d in _0x37fe46[_0x2f0775(0x2a2)][_0x487ee1]){if(_0x2f0775(0x300)!==_0x45b04d)return[!0x1,_0x2f0775(0x23f)+_0x45b04d+'\x27\x20in\x20table\x20\x27'+_0x487ee1+'\x27'];const _0x6132ae=_0x37fe46[_0x2f0775(0x2a2)][_0x487ee1][_0x45b04d]??[];for(const _0x11b8d1 of _0x6132ae)if(void 0x0===_0x11b8d1[_0x2f0775(0x41f)]||_0x2f0775(0x657)!=typeof _0x11b8d1[_0x2f0775(0x41f)])return[!0x1,_0x2f0775(0x7ab)+_0x487ee1+_0x2f0775(0x49d)];}}else{if('version'===_0x2e6394&&_0x2f0775(0x15c)!=typeof _0x37fe46[_0x2e6394])return[!0x1,_0x2f0775(0xa81)+_0x37fe46[_0x2e6394]+_0x2f0775(0x751)];}}return[!0x0,'Valid\x20layout'];}static['layout'](_0x5c7139){const _0x177621=_0x3149ab,_0x411f29=new _0x207631(_0x5c7139);return _0x411f29[_0x177621(0x24d)][_0x177621(0xa66)]=_0x5c7139,_0x411f29;}[_0x3149ab(0x4e8)](_0x14e258){const _0x2104b8=_0x3149ab;return this[_0x2104b8(0x24d)]['tables'][_0x14e258]={},new _0x1a1aeb(this[_0x2104b8(0x24d)][_0x2104b8(0x2a2)][_0x14e258]);}[_0x3149ab(0x3de)](){const _0x5c1761=_0x3149ab;return this[_0x5c1761(0x24d)];}}class _0x1a1aeb{[_0x3149ab(0x936)];constructor(_0x4d07a4){const _0x5a94cf=_0x3149ab;this[_0x5a94cf(0x936)]=_0x4d07a4;}[_0x3149ab(0x270)](_0x5707bc){const _0x3b10b4=_0x3149ab;return this[_0x3b10b4(0x936)]['indexes']=this['tableLayout'][_0x3b10b4(0x300)]??[],this[_0x3b10b4(0x936)]['indexes']['push']({'keyPath':_0x5707bc}),this;}}const _0xfb4ebc=0x40000,_0x2eb4f7=0x20000,_0x271d7b=0x1388,_0x4d77ed=_0x3149ab(0x492),_0x1b609c=_0x3149ab(0x28a),_0x2b1a76='.crewdle-transactions',_0x380b8f=_0x3149ab(0x643),_0x400c25=0xdbba0,_0x55cda3=0x61a8,_0x120f23=_0x3149ab(0x60a);var _0x1bd7fa;!function(_0x5b0c46){const _0x519a94=_0x3149ab;_0x5b0c46[_0x519a94(0x76c)]=_0x519a94(0x812),_0x5b0c46['ConnectionNotConnected']=_0x519a94(0x6c7),_0x5b0c46[_0x519a94(0x76f)]=_0x519a94(0x899),_0x5b0c46[_0x519a94(0x920)]=_0x519a94(0x1fd),_0x5b0c46[_0x519a94(0x5b3)]=_0x519a94(0x21b),_0x5b0c46[_0x519a94(0x1b4)]=_0x519a94(0x42d),_0x5b0c46['GenerativeAIContextInvalidPartialResult']=_0x519a94(0x775),_0x5b0c46['GenerativeAIContextJobAlreadyConsumed']=_0x519a94(0x4d7),_0x5b0c46[_0x519a94(0x168)]=_0x519a94(0x452),_0x5b0c46['GenerativeAIContextJobTimeout']=_0x519a94(0x46f),_0x5b0c46['GenerativeAIWorkerCreationFailed']=_0x519a94(0x7d5),_0x5b0c46[_0x519a94(0x5a2)]=_0x519a94(0x962),_0x5b0c46[_0x519a94(0x5ec)]=_0x519a94(0x674),_0x5b0c46[_0x519a94(0x3fb)]=_0x519a94(0x1b7),_0x5b0c46[_0x519a94(0x803)]='invalid-subscriber',_0x5b0c46['InvalidSubscription']='invalid-subscription',_0x5b0c46[_0x519a94(0x88a)]=_0x519a94(0x2f6),_0x5b0c46[_0x519a94(0x4b7)]=_0x519a94(0x5d9),_0x5b0c46[_0x519a94(0x82e)]=_0x519a94(0x894),_0x5b0c46['JobDispatcherObserverNotFound']=_0x519a94(0xa94),_0x5b0c46[_0x519a94(0x792)]=_0x519a94(0x967),_0x5b0c46[_0x519a94(0x6de)]=_0x519a94(0x715),_0x5b0c46[_0x519a94(0x960)]=_0x519a94(0x44c),_0x5b0c46[_0x519a94(0x73c)]='key-value-database-peak-not-found',_0x5b0c46[_0x519a94(0x3d6)]=_0x519a94(0x989),_0x5b0c46[_0x519a94(0x3c2)]=_0x519a94(0x8a7),_0x5b0c46[_0x519a94(0x4b5)]=_0x519a94(0x605),_0x5b0c46[_0x519a94(0xa25)]=_0x519a94(0x961),_0x5b0c46[_0x519a94(0xa7b)]=_0x519a94(0xa22),_0x5b0c46['MissingSystemTopic']=_0x519a94(0x4c7),_0x5b0c46[_0x519a94(0xa09)]='mistlet-capacity-report-not-set',_0x5b0c46[_0x519a94(0x981)]=_0x519a94(0x806),_0x5b0c46['ObjectStoreInvalidState']=_0x519a94(0x930),_0x5b0c46[_0x519a94(0x193)]=_0x519a94(0x72b),_0x5b0c46['ObjectStoreNotSynced']=_0x519a94(0xa96),_0x5b0c46[_0x519a94(0xa1c)]=_0x519a94(0x7fd),_0x5b0c46[_0x519a94(0x4c3)]='remote-stream-does-not-exist',_0x5b0c46['RemoteMediaStreamMissingProviderId']='remote-stream-missing-provider-id',_0x5b0c46[_0x519a94(0x9a5)]=_0x519a94(0x40c),_0x5b0c46[_0x519a94(0x94f)]='subscription-request-does-not-exist',_0x5b0c46[_0x519a94(0x49b)]='subscription-request-failed',_0x5b0c46['SubscriptionRequestNoAnswer']=_0x519a94(0x113),_0x5b0c46[_0x519a94(0x404)]=_0x519a94(0x9b6),_0x5b0c46[_0x519a94(0xa26)]=_0x519a94(0x854),_0x5b0c46[_0x519a94(0x4bf)]=_0x519a94(0x87e),_0x5b0c46[_0x519a94(0x494)]=_0x519a94(0x857),_0x5b0c46['WorkflowDoesNotExist']=_0x519a94(0x311),_0x5b0c46[_0x519a94(0x4ab)]=_0x519a94(0x651);}(_0x1bd7fa||(_0x1bd7fa={}));const _0x2cfe21=new Map([[_0x1bd7fa[_0x3149ab(0x76c)],_0x3149ab(0x5fc)],[_0x1bd7fa[_0x3149ab(0x2da)],_0x3149ab(0x308)],[_0x1bd7fa[_0x3149ab(0x76f)],_0x3149ab(0x83d)],[_0x1bd7fa[_0x3149ab(0x920)],'Invalid\x20data\x20event.'],[_0x1bd7fa[_0x3149ab(0x5b3)],'Data\x20collection\x20does\x20not\x20exist.'],[_0x1bd7fa['GenerativeAIContextCreationFailed'],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x1bd7fa[_0x3149ab(0x3f6)],_0x3149ab(0x3eb)],[_0x1bd7fa['GenerativeAIContextJobAlreadyConsumed'],_0x3149ab(0x6e3)],[_0x1bd7fa[_0x3149ab(0x168)],_0x3149ab(0x3d5)],[_0x1bd7fa['GenerativeAIContextJobTimeout'],_0x3149ab(0x574)],[_0x1bd7fa['GenerativeAIWorkerCreationFailed'],_0x3149ab(0x117)],[_0x1bd7fa[_0x3149ab(0x5a2)],_0x3149ab(0x2d8)],[_0x1bd7fa['InvalidDataChannel'],_0x3149ab(0x544)],[_0x1bd7fa[_0x3149ab(0x3fb)],'Invalid\x20publisher.'],[_0x1bd7fa[_0x3149ab(0x803)],_0x3149ab(0x6cf)],[_0x1bd7fa[_0x3149ab(0x71a)],_0x3149ab(0x57d)],[_0x1bd7fa[_0x3149ab(0x88a)],_0x3149ab(0x405)],[_0x1bd7fa[_0x3149ab(0x4b7)],_0x3149ab(0x78c)],[_0x1bd7fa['JobDispatcherJobNotFound'],'Job\x20service\x20job\x20not\x20found.'],[_0x1bd7fa[_0x3149ab(0x4d1)],'Job\x20service\x20observer\x20not\x20found.'],[_0x1bd7fa[_0x3149ab(0x792)],_0x3149ab(0x59f)],[_0x1bd7fa[_0x3149ab(0x6de)],_0x3149ab(0x7ac)],[_0x1bd7fa[_0x3149ab(0x960)],_0x3149ab(0x9fe)],[_0x1bd7fa[_0x3149ab(0x73c)],_0x3149ab(0x464)],[_0x1bd7fa['KeyValueDatabaseTableDoesNotExist'],_0x3149ab(0xab1)],[_0x1bd7fa['KeyValueDatabaseTransactionTableNotInitialized'],_0x3149ab(0x957)],[_0x1bd7fa[_0x3149ab(0x4b5)],'Key-value\x20database\x20transaction\x20value\x20not\x20set.'],[_0x1bd7fa[_0x3149ab(0xa25)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x1bd7fa[_0x3149ab(0xa7b)],_0x3149ab(0x1dd)],[_0x1bd7fa['MissingSystemTopic'],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x1bd7fa[_0x3149ab(0xa09)],_0x3149ab(0x612)],[_0x1bd7fa[_0x3149ab(0x981)],'Cannot\x20write\x20transaction.'],[_0x1bd7fa['ObjectStoreInvalidSyncMessage'],_0x3149ab(0x571)],[_0x1bd7fa['ObjectStoreInvalidState'],_0x3149ab(0x192)],[_0x1bd7fa[_0x3149ab(0x9bf)],_0x3149ab(0x849)],[_0x1bd7fa[_0x3149ab(0xa1c)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x1bd7fa[_0x3149ab(0x4c3)],_0x3149ab(0x8a8)],[_0x1bd7fa[_0x3149ab(0x802)],_0x3149ab(0x24e)],[_0x1bd7fa[_0x3149ab(0x9a5)],_0x3149ab(0x990)],[_0x1bd7fa[_0x3149ab(0x94f)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x1bd7fa[_0x3149ab(0x49b)],_0x3149ab(0x923)],[_0x1bd7fa[_0x3149ab(0x4cb)],_0x3149ab(0x100)],[_0x1bd7fa[_0x3149ab(0x404)],_0x3149ab(0x5e0)],[_0x1bd7fa[_0x3149ab(0xa26)],_0x3149ab(0x9d4)],[_0x1bd7fa[_0x3149ab(0x4bf)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x1bd7fa[_0x3149ab(0x494)],_0x3149ab(0x5cf)],[_0x1bd7fa[_0x3149ab(0x2e3)],_0x3149ab(0x5ff)],[_0x1bd7fa[_0x3149ab(0x4ab)],'Invalid\x20workflow\x20block\x20type.']]);class _0x224ab2 extends Error{[_0x3149ab(0x634)];static [_0x3149ab(0x8b5)]=_0x1bd7fa;[_0x3149ab(0x9b8)];constructor(_0x11f84b,_0x2f86e1){const _0xa8dfb9=_0x3149ab;super(_0xa8dfb9(0x904)+_0x11f84b+':\x20'+_0x2cfe21[_0xa8dfb9(0x524)](_0x11f84b)+'\x0aAdditional\x20data:\x20'+JSON['stringify'](_0x2f86e1)),this[_0xa8dfb9(0x634)]=_0x11f84b,this['data']=_0x2f86e1||{};}}var _0x253ba5,_0xf8eda,_0x106414,_0x2dcdd6,_0x4363d1,_0x4dc193,_0x23b53c;!function(_0x3b396c){const _0x39fdeb=_0x3149ab;_0x3b396c[_0x3b396c['CloseGraphDatabase']=0x0]=_0x39fdeb(0x1bd),_0x3b396c[_0x3b396c[_0x39fdeb(0x5b4)]=0x1]=_0x39fdeb(0x5b4),_0x3b396c[_0x3b396c[_0x39fdeb(0x314)]=0x2]=_0x39fdeb(0x314),_0x3b396c[_0x3b396c[_0x39fdeb(0x7ff)]=0x3]=_0x39fdeb(0x7ff),_0x3b396c[_0x3b396c[_0x39fdeb(0x868)]=0x4]=_0x39fdeb(0x868),_0x3b396c[_0x3b396c[_0x39fdeb(0x455)]=0x5]=_0x39fdeb(0x455),_0x3b396c[_0x3b396c[_0x39fdeb(0x28b)]=0x6]=_0x39fdeb(0x28b),_0x3b396c[_0x3b396c[_0x39fdeb(0x495)]=0x7]=_0x39fdeb(0x495),_0x3b396c[_0x3b396c[_0x39fdeb(0x8aa)]=0x8]=_0x39fdeb(0x8aa),_0x3b396c[_0x3b396c[_0x39fdeb(0x7f1)]=0x9]='ExternalStorageStats',_0x3b396c[_0x3b396c[_0x39fdeb(0xa64)]=0xa]=_0x39fdeb(0xa64),_0x3b396c[_0x3b396c['GenerativeAIWorkerStats']=0xb]='GenerativeAIWorkerStats',_0x3b396c[_0x3b396c['GraphDatabaseStats']=0xc]=_0x39fdeb(0x5d6),_0x3b396c[_0x3b396c[_0x39fdeb(0x42e)]=0xd]=_0x39fdeb(0x42e),_0x3b396c[_0x3b396c[_0x39fdeb(0x363)]=0xe]='KeyValueDatabaseContentSynchronized',_0x3b396c[_0x3b396c['KeyValueDatabaseRequestPeakTransactions']=0xf]=_0x39fdeb(0x8c9),_0x3b396c[_0x3b396c['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x39fdeb(0x767),_0x3b396c[_0x3b396c[_0x39fdeb(0x931)]=0x11]='KeyValueDatabaseSendTransactions',_0x3b396c[_0x3b396c['KeyValueDatabaseStats']=0x12]='KeyValueDatabaseStats',_0x3b396c[_0x3b396c[_0x39fdeb(0x521)]=0x13]=_0x39fdeb(0x521),_0x3b396c[_0x3b396c[_0x39fdeb(0x28e)]=0x14]=_0x39fdeb(0x28e),_0x3b396c[_0x3b396c[_0x39fdeb(0x326)]=0x15]=_0x39fdeb(0x326),_0x3b396c[_0x3b396c[_0x39fdeb(0x443)]=0x16]='PubSubTopicStats',_0x3b396c[_0x3b396c[_0x39fdeb(0x471)]=0x17]='PublishMediaStream',_0x3b396c[_0x3b396c['RemoteMediaStreamTrackFail']=0x18]='RemoteMediaStreamTrackFail',_0x3b396c[_0x3b396c[_0x39fdeb(0x752)]=0x19]='SubscribeMediaStream',_0x3b396c[_0x3b396c[_0x39fdeb(0x704)]=0x1a]='UnpublishMediaStream',_0x3b396c[_0x3b396c[_0x39fdeb(0xae8)]=0x1b]=_0x39fdeb(0xae8),_0x3b396c[_0x3b396c['UpdateMediaStream']=0x1c]='UpdateMediaStream',_0x3b396c[_0x3b396c[_0x39fdeb(0x219)]=0x1d]=_0x39fdeb(0x219);}(_0x253ba5||(_0x253ba5={})),function(_0xdf07b0){const _0x40450f=_0x3149ab;_0xdf07b0['FileWrite']='file-write',_0xdf07b0['FolderCreate']=_0x40450f(0x3a2),_0xdf07b0[_0x40450f(0x867)]=_0x40450f(0x979),_0xdf07b0['Move']='move',_0xdf07b0['RequestFile']=_0x40450f(0x8b6),_0xdf07b0['RequestAccepted']='request-accepted',_0xdf07b0[_0x40450f(0x18a)]='request-file-sync',_0xdf07b0['RequestFileWrite']=_0x40450f(0xaec);}(_0xf8eda||(_0xf8eda={})),function(_0x37ca2d){const _0x27b164=_0x3149ab;_0x37ca2d[_0x27b164(0x497)]=_0x27b164(0x146),_0x37ca2d['Transaction']=_0x27b164(0x48d);}(_0x106414||(_0x106414={})),function(_0x558d70){const _0xa2a82e=_0x3149ab;_0x558d70[_0xa2a82e(0x4e2)]='add',_0x558d70['Update']=_0xa2a82e(0x54d),_0x558d70[_0xa2a82e(0x867)]='delete';}(_0x2dcdd6||(_0x2dcdd6={})),function(_0x5534f1){const _0xaa7df3=_0x3149ab;_0x5534f1['Get']=_0xaa7df3(0x524),_0x5534f1[_0xaa7df3(0xa89)]=_0xaa7df3(0x253),_0x5534f1['Count']=_0xaa7df3(0x124);}(_0x4363d1||(_0x4363d1={})),function(_0x344d0f){const _0x5225e1=_0x3149ab;_0x344d0f[_0x344d0f['Request']=0x0]=_0x5225e1(0x497),_0x344d0f[_0x344d0f['Bid']=0x1]=_0x5225e1(0x15b),_0x344d0f[_0x344d0f['Attribution']=0x2]=_0x5225e1(0x74d),_0x344d0f[_0x344d0f[_0x5225e1(0x4e7)]=0x3]=_0x5225e1(0x4e7),_0x344d0f[_0x344d0f['Result']=0x4]=_0x5225e1(0x64e),_0x344d0f[_0x344d0f['Failed']=0x5]=_0x5225e1(0x5bc);}(_0x4dc193||(_0x4dc193={})),function(_0x4873b8){const _0x16044b=_0x3149ab;_0x4873b8[_0x4873b8[_0x16044b(0x5d8)]=0x0]='PeerConnection',_0x4873b8[_0x4873b8[_0x16044b(0x4d2)]=0x1]=_0x16044b(0x4d2),_0x4873b8[_0x4873b8[_0x16044b(0x620)]=0x2]='Content',_0x4873b8[_0x4873b8[_0x16044b(0xa65)]=0x3]=_0x16044b(0xa65),_0x4873b8[_0x4873b8['Stats']=0x4]='Stats',_0x4873b8[_0x4873b8[_0x16044b(0x953)]=0x5]=_0x16044b(0x953),_0x4873b8[_0x4873b8[_0x16044b(0x698)]=0x6]=_0x16044b(0x698);}(_0x23b53c||(_0x23b53c={}));class _0x5e2d59{[_0x3149ab(0x67c)];[_0x3149ab(0x3a4)];[_0x3149ab(0x364)];constructor(_0x51a160,_0x59cc74){const _0x4a7984=_0x3149ab;this[_0x4a7984(0x67c)]=_0x51a160,this[_0x4a7984(0x3a4)]=_0x59cc74;}[_0x3149ab(0x8e1)](){const _0x5821f3=_0x3149ab;return this[_0x5821f3(0x3a4)];}['getOwnerId'](){const _0x4d154c=_0x3149ab;return this[_0x4d154c(0x67c)]['getId']();}[_0x3149ab(0x2cb)](){}['registerSystemPublisher'](_0x43d76d){const _0x34b2fb=_0x3149ab;this[_0x34b2fb(0x364)]=_0x43d76d;}[_0x3149ab(0x8bd)](){const _0x73f22a=_0x3149ab;delete this[_0x73f22a(0x364)];}}const _0x48a8fe=require('firebase/firestore');let _0x2ca569=_0x103e2e(0x14d)['O'];function _0x40bd84(_0x2f0d6d){const _0x5e0c94=_0x3149ab;return!(!_0x2f0d6d||_0x5e0c94(0x72f)!=typeof _0x2f0d6d||Array[_0x5e0c94(0x7f0)](_0x2f0d6d));}_0x2ca569=function _0x3f427b(_0x11e194,..._0x7894b){const _0x48df6e=_0x3149ab;if(!Array['isArray'](_0x7894b)||0x0===_0x7894b[_0x48df6e(0x878)])return _0x11e194;const _0x4afd6a=_0x7894b['shift']();if(_0x40bd84(_0x11e194)&&_0x40bd84(_0x4afd6a)){for(const _0x54494e in _0x4afd6a)_0x40bd84(_0x4afd6a[_0x54494e])?(_0x11e194[_0x54494e]||Object['assign'](_0x11e194,{[_0x54494e]:{}}),_0x3f427b(_0x11e194[_0x54494e],_0x4afd6a[_0x54494e])):Object[_0x48df6e(0x268)](_0x11e194,{[_0x54494e]:_0x4afd6a[_0x54494e]});}return _0x3f427b(_0x11e194,..._0x7894b);}(_0x2ca569,_0x103e2e(0x3e6)['O']);const _0x2bdaff=_0x2ca569,_0x5c39e1=require('firebase/app'),_0x15de28=require('firebase/auth'),_0x232529=require('firebase/database'),_0x3ff2c6=require('firebase/functions'),_0x19ce97=require('uuid'),_0x2a9492=_0x3149ab(0x8e0);class _0x149010{static [_0x3149ab(0x663)];[_0x3149ab(0xa24)];[_0x3149ab(0x9fa)];[_0x3149ab(0xa31)];['database'];[_0x3149ab(0x726)];[_0x3149ab(0x6e2)];[_0x3149ab(0xa9b)];constructor(){const _0x1e3075=_0x3149ab;this[_0x1e3075(0x892)]();}static[_0x3149ab(0x24f)](){const _0x3d5cae=_0x3149ab;return _0x149010[_0x3d5cae(0x663)]||(_0x149010[_0x3d5cae(0x663)]=new _0x149010()),_0x149010['instance'];}[_0x3149ab(0x892)](){const _0x1aed1a=_0x3149ab;if(!this['app']){let _0x523dd6=_0x2a9492;_0x1aed1a(0x882)!=typeof window&&(_0x523dd6=_0x2a9492+'-'+(0x0,_0x19ce97['v4'])()),this[_0x1aed1a(0xa24)]=(0x0,_0x5c39e1['initializeApp'])(_0x2bdaff[_0x1aed1a(0x8bc)],''+_0x523dd6);}return this[_0x1aed1a(0xa24)];}[_0x3149ab(0x3aa)](){const _0x4357dd=_0x3149ab;return this['auth']||(this['auth']=(0x0,_0x15de28['getAuth'])(this[_0x4357dd(0x892)]())),this[_0x4357dd(0x9fa)];}[_0x3149ab(0xa17)](){const _0x40c62b=_0x3149ab;return this[_0x40c62b(0xa31)]||(this[_0x40c62b(0xa31)]=(0x0,_0x3ff2c6[_0x40c62b(0xa17)])(this['getApp'](),_0x2bdaff[_0x40c62b(0x8bc)][_0x40c62b(0x205)])),this[_0x40c62b(0xa31)];}['getDatabase'](){const _0x510ac1=_0x3149ab;return this[_0x510ac1(0x4c4)]||(this['database']=(0x0,_0x232529[_0x510ac1(0x7f4)])(this[_0x510ac1(0x892)]())),this[_0x510ac1(0x4c4)];}['getFirestore'](){const _0x494c26=_0x3149ab;return this['firestore']||(this[_0x494c26(0x726)]=(0x0,_0x48a8fe[_0x494c26(0x721)])(this['getApp']())),this['firestore'];}async['getEstimatedTimestamp'](){const _0x826c86=_0x3149ab;if(this['clockSkew']&&this['lastClockUpdate']&&Date[_0x826c86(0x3fe)]()-this[_0x826c86(0xa9b)]<0x493e0)return Date['now']()+this[_0x826c86(0x6e2)];const _0x33fff9=this[_0x826c86(0x7f4)](),_0x2d0f86=(0x0,_0x232529['ref'])(_0x33fff9,_0x826c86(0x9bc));return new Promise(_0x55b3fd=>{const _0x1b5fc2=_0x826c86;(0x0,_0x232529[_0x1b5fc2(0x490)])(_0x2d0f86,_0xdc5995=>{const _0x636be4=_0x1b5fc2;(0x0,_0x232529[_0x636be4(0x456)])(_0x2d0f86),this[_0x636be4(0x6e2)]=_0xdc5995[_0x636be4(0x58b)](),this[_0x636be4(0xa9b)]=Date[_0x636be4(0x3fe)](),_0x55b3fd(Date[_0x636be4(0x3fe)]()+(this[_0x636be4(0x6e2)]??0x0));});});}}const _0x52f3ef=_0x149010[_0x3149ab(0x24f)]();class _0x4e736e{static ['instance'];['enabledChannels']=[_0x44d495[_0x3149ab(0x594)]];['debugEnabled']=!0x1;['loggingConnectors'];[_0x3149ab(0x164)]='';[_0x3149ab(0x29a)];[_0x3149ab(0x2d4)]=[];[_0x3149ab(0x6fa)];[_0x3149ab(0x30d)];[_0x3149ab(0x9c0)]=0xa;[_0x3149ab(0x86b)]=0x1f4;[_0x3149ab(0x573)]=0x1c2;[_0x3149ab(0x252)]=0x3e8;constructor(){const _0xbedded=_0x3149ab;if('undefined'!=typeof window)this[_0xbedded(0x29a)]=window;else{if(void 0x0===_0x103e2e['g'])throw new Error('No\x20global\x20object\x20found');this['globalObject']=_0x103e2e['g'];}this['loadEnabledChannels'](),this['globalObject'][_0xbedded(0x82a)]=_0x5670bb=>{const _0x3f796d=_0xbedded;if(_0x5670bb===_0x44d495['All'])return this[_0x3f796d(0x9af)]=Object['keys'](_0x44d495)['map'](_0x1a4aec=>_0x44d495[_0x1a4aec]),void Object[_0x3f796d(0x6d7)](_0x44d495)[_0x3f796d(0x1d0)](_0x17fa9a=>{const _0x32989e=_0x3f796d,_0x383924=_0x17fa9a;localStorage['setItem'](_0x32989e(0x504)+_0x44d495[_0x383924],_0x32989e(0x9d8));});this[_0x3f796d(0x9af)][_0x3f796d(0x24c)](_0x5670bb)||(this[_0x3f796d(0x9af)]['push'](_0x5670bb),localStorage['setItem']('crewdle-sdk-logging-'+_0x5670bb,'true'));},this[_0xbedded(0x29a)][_0xbedded(0x952)]=_0x1ebe14=>{const _0x13dfb5=_0xbedded;if(!_0x1ebe14||_0x1ebe14===_0x44d495['All'])return this['enabledChannels']=[],void Object['keys'](_0x44d495)[_0x13dfb5(0x1d0)](_0x427d29=>{const _0x30b24f=_0x13dfb5,_0x353f32=_0x427d29;localStorage['removeItem'](_0x30b24f(0x504)+_0x44d495[_0x353f32]);});this['enabledChannels'][_0x13dfb5(0x24c)](_0x1ebe14)&&(this[_0x13dfb5(0x9af)]=this[_0x13dfb5(0x9af)][_0x13dfb5(0x683)](_0x5e7dc2=>_0x5e7dc2!==_0x1ebe14),localStorage[_0x13dfb5(0x81f)](_0x13dfb5(0x504)+_0x1ebe14));},this[_0xbedded(0x29a)][_0xbedded(0x469)]=_0x44d495;}static[_0x3149ab(0x24f)](){const _0x3d4562=_0x3149ab;try{return _0x4e736e['instance']||(_0x4e736e[_0x3d4562(0x663)]=new _0x4e736e()),_0x4e736e[_0x3d4562(0x663)];}catch(_0x2993b0){return console[_0x3d4562(0x1be)](_0x3d4562(0x6ba),_0x2993b0),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x2ab100){const _0x3d520d=_0x3149ab;this['vendorId']=_0x2ab100,this[_0x3d520d(0x2d4)]=[],this[_0x3d520d(0x6fa)]=this['createNewBatch'](),this[_0x3d520d(0x30d)]&&(clearTimeout(this['batchTimeout']),this[_0x3d520d(0x30d)]=void 0x0);}['setLoggingConnectors'](_0x275bcf){this['loggingConnectors']=_0x275bcf;}[_0x3149ab(0x691)](_0x27a3d5,..._0xde2314){const _0x497829=_0x3149ab;this[_0x497829(0x133)]&&this[_0x497829(0x66c)](_0x44d495[_0x497829(0x594)],_0x497829(0xad8)+_0x27a3d5,..._0xde2314);}[_0x3149ab(0x7b6)](_0x688a7,..._0x2ea572){const _0x3d99d5=_0x3149ab;console[_0x3d99d5(0x66c)](_0x688a7,..._0x2ea572),this['loggingConnectors']&&this[_0x3d99d5(0xae0)][_0x3d99d5(0x1d0)](_0x21b15a=>{_0x21b15a['log'](_0x688a7,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x2ea572}});});}['log'](_0x5df6de,_0x53bb2d,..._0x5d7b12){const _0xb77039=_0x3149ab;_0x2bdaff[_0xb77039(0x939)]||(this[_0xb77039(0x9af)][_0xb77039(0x24c)](_0x5df6de)&&console[_0xb77039(0x66c)](_0xb77039(0x160)+_0x5df6de+'\x27\x0a',new Date()+'\x0a',_0x53bb2d,..._0x5d7b12),this[_0xb77039(0xae0)]&&this['loggingConnectors'][_0xb77039(0x1d0)](_0x1532d4=>{const _0x3114c8=_0xb77039;this[_0x3114c8(0x4b3)](_0x1532d4)&&_0x1532d4[_0x3114c8(0x63e)]()['includes'](_0x5df6de)&&_0x1532d4[_0x3114c8(0x66c)](_0x53bb2d,{'vendorId':this[_0x3114c8(0x164)],'nodeId':'','nodeType':'','data':{'channel':_0x5df6de,..._0x5d7b12}});}));}[_0x3149ab(0xabd)](_0x48dd78,_0x516c45,..._0x295311){const _0x33501d=_0x3149ab;_0x2bdaff[_0x33501d(0x939)]||(this[_0x33501d(0x9af)][_0x33501d(0x24c)](_0x48dd78)&&console[_0x33501d(0x66c)](_0x516c45,..._0x295311),this[_0x33501d(0xae0)]&&this[_0x33501d(0xae0)][_0x33501d(0x1d0)](_0x3e3dfe=>{const _0x2d70e6=_0x33501d;this[_0x2d70e6(0x4b3)](_0x3e3dfe)&&_0x3e3dfe['getEnabledChannels']()[_0x2d70e6(0x24c)](_0x48dd78)&&_0x3e3dfe['log'](_0x516c45,{'vendorId':this[_0x2d70e6(0x164)],'nodeId':'','nodeType':'','data':{'channel':_0x48dd78,..._0x295311}});}));}[_0x3149ab(0x4fb)](_0x4c1ab3,_0x56bf40){const _0x3074c0=_0x3149ab;if(!this[_0x3074c0(0xae0)])return;const _0x4233f1={'vendorId':this[_0x3074c0(0x164)],..._0x56bf40};this[_0x3074c0(0xae0)][_0x3074c0(0x1d0)](_0x526fd8=>{_0x526fd8['log'](_0x4c1ab3,_0x4233f1);});}['logServiceEvent'](_0x4aff8b,_0x4fa73e){const _0x3b959f=_0x3149ab;this[_0x3b959f(0x45c)](_0x4aff8b,_0x4fa73e),this[_0x3b959f(0x9a8)]();}[_0x3149ab(0xab2)](_0x235d15,_0x299cb1,_0x3b7c8b){const _0x162013=_0x3149ab;(0x0,_0x48a8fe['setDoc'])((0x0,_0x48a8fe[_0x162013(0x6d4)])(_0x52f3ef[_0x162013(0x721)](),'developers/'+this[_0x162013(0x164)]+'/'+_0x235d15+'/'+_0x299cb1),{'storage':_0x3b7c8b,'timestamp':(0x0,_0x48a8fe[_0x162013(0x199)])()});}[_0x3149ab(0x9a8)](){const _0x1b2e8b=_0x3149ab;this[_0x1b2e8b(0x6fa)]&&(this['currentBatch'][_0x1b2e8b(0x5a6)]+=0x1,this['currentBatch'][_0x1b2e8b(0x5a6)]===this[_0x1b2e8b(0x573)]?this[_0x1b2e8b(0x996)]():this['batchTimeout']||(this[_0x1b2e8b(0x30d)]=this['globalObject']['setTimeout'](()=>this[_0x1b2e8b(0x996)](),this[_0x1b2e8b(0x252)])));}async[_0x3149ab(0x996)](){const _0x4b37df=_0x3149ab;if(this[_0x4b37df(0x6fa)]){for(this[_0x4b37df(0x2d4)]['push'](this['currentBatch']),this[_0x4b37df(0x6fa)]=this[_0x4b37df(0x216)]();this['batchQueue'][_0x4b37df(0x878)]>0x0;){const _0x309b3a=this[_0x4b37df(0x2d4)]['shift']();if(!await this[_0x4b37df(0x533)](_0x309b3a))break;}clearTimeout(this[_0x4b37df(0x30d)]),this['batchTimeout']=void 0x0;}}[_0x3149ab(0x1be)](_0x18be70,_0x3014ab,..._0x191469){const _0x118751=_0x3149ab;if(console[_0x118751(0x1be)](new Date(),_0x18be70,_0x3014ab,..._0x191469),this[_0x118751(0xae0)]){const _0x36f7c6={'vendorId':this[_0x118751(0x164)],..._0x3014ab};this[_0x118751(0xae0)]['forEach'](_0x506ec0=>{const _0x4b6baa=_0x118751;_0x506ec0[_0x4b6baa(0x1be)](_0x18be70,_0x36f7c6);});}}[_0x3149ab(0x22c)](_0x4a30de,_0x5f243f,..._0x49a330){const _0xe8fbd1=_0x3149ab;if(console['warn'](new Date(),_0x4a30de,_0x5f243f,_0x49a330),this[_0xe8fbd1(0xae0)]){const _0x785834={'vendorId':this['vendorId'],..._0x5f243f};this[_0xe8fbd1(0xae0)][_0xe8fbd1(0x1d0)](_0x2d5609=>{_0x2d5609['warn'](_0x4a30de,_0x785834);});}}[_0x3149ab(0x85d)](_0x2a25ff){const _0x167967=_0x3149ab;return this[_0x167967(0x9af)]['includes'](_0x2a25ff);}async[_0x3149ab(0x533)](_0x3dc526,_0x99dade=0x0){const _0x2d17f1=_0x3149ab;if(_0x3dc526[_0x2d17f1(0x5a6)]>0x0)try{return await _0x3dc526['batch'][_0x2d17f1(0xa83)](),!0x0;}catch(_0x32a92b){if(console[_0x2d17f1(0x1be)](_0x2d17f1(0x97d),_0x32a92b,'Operations:',_0x3dc526['operations']),!(_0x99dade<this[_0x2d17f1(0x9c0)])){const {nodeId:_0x4719ae='',nodeType:_0x3ce5e0='',clusterId:_0x25d962=''}=_0x3dc526[_0x2d17f1(0x22e)][0x0][_0x2d17f1(0x9b8)],_0x13c520={'nodeId':_0x4719ae,'nodeType':_0x3ce5e0,'clusterId':_0x25d962,'data':{'operations':_0x3dc526[_0x2d17f1(0x22e)],'error':_0x32a92b}};return this[_0x2d17f1(0x1be)](_0x2d17f1(0x553),_0x13c520),!0x1;}{const _0x39c88a=this[_0x2d17f1(0x929)](_0x3dc526[_0x2d17f1(0x22e)]);setTimeout(()=>this[_0x2d17f1(0x533)](_0x39c88a,_0x99dade+0x1),this[_0x2d17f1(0x86b)]*Math[_0x2d17f1(0x5d2)](0x2,_0x99dade));}}}[_0x3149ab(0x54a)](){const _0x5b3c13=_0x3149ab;try{Object[_0x5b3c13(0x6d7)](_0x44d495)[_0x5b3c13(0x1d0)](_0x851603=>{const _0xc8f055=_0x5b3c13,_0x3ec3fa=_0x851603;localStorage[_0xc8f055(0x6c0)](_0xc8f055(0x504)+_0x44d495[_0x3ec3fa])&&(console['log'](_0xc8f055(0x46a),_0x44d495[_0x3ec3fa]),this[_0xc8f055(0x9af)]['push'](_0x44d495[_0x3ec3fa]));});}catch(_0x35fe3b){}}[_0x3149ab(0x4b3)](_0x6ca492){const _0x525edb=_0x3149ab;return void 0x0!==_0x6ca492[_0x525edb(0x63e)];}[_0x3149ab(0x216)](){return{'batch':(0x0,_0x48a8fe['writeBatch'])(_0x52f3ef['getFirestore']()),'operations':[],'counter':0x0};}['createBatch'](_0x452dcf){const _0x52e523=_0x3149ab,_0x1c25ce=(0x0,_0x48a8fe[_0x52e523(0x58e)])(_0x52f3ef[_0x52e523(0x721)]());return _0x452dcf[_0x52e523(0x1d0)](_0x53333d=>this[_0x52e523(0x266)](_0x1c25ce,_0x53333d)),{'batch':_0x1c25ce,'operations':_0x452dcf,'counter':_0x452dcf[_0x52e523(0x878)]};}[_0x3149ab(0x266)](_0x342111,_0x1bc21a){const _0x14d3c0=_0x3149ab;switch(_0x1bc21a[_0x14d3c0(0x16c)]){case _0x14d3c0(0x491):_0x342111[_0x14d3c0(0x491)](_0x1bc21a[_0x14d3c0(0x747)],_0x1bc21a[_0x14d3c0(0x9b8)]);break;case _0x14d3c0(0x54d):_0x342111[_0x14d3c0(0x54d)](_0x1bc21a[_0x14d3c0(0x747)],_0x1bc21a[_0x14d3c0(0x9b8)]);break;case'delete':_0x342111[_0x14d3c0(0x979)](_0x1bc21a[_0x14d3c0(0x747)]);}}['createBatchOperation'](_0x4c668e,_0x16791d){const _0x415b99=_0x3149ab;this[_0x415b99(0x6fa)]||(this['currentBatch']=this['createNewBatch']());const _0x47fa54=(0x0,_0x48a8fe['doc'])((0x0,_0x48a8fe[_0x415b99(0x9f5)])(_0x52f3ef[_0x415b99(0x721)](),'developers/'+this[_0x415b99(0x164)]+'/logs')),_0x3bddc8={..._0x16791d,'service':_0x4c668e,'timestamp':(0x0,_0x48a8fe[_0x415b99(0x199)])()},_0x5d4488={'type':_0x415b99(0x491),'path':_0x47fa54[_0x415b99(0xa21)],'ref':_0x47fa54,'data':_0x3bddc8};return this[_0x415b99(0x6fa)][_0x415b99(0x22e)][_0x415b99(0x7e8)](_0x5d4488),this[_0x415b99(0x266)](this[_0x415b99(0x6fa)][_0x415b99(0x17a)],_0x5d4488),_0x47fa54;}}const _0x5b2279=_0x4e736e['getInstance']();function _0x521380(_0xfd9094,_0x1a8f50){return'/'===_0xfd9094?_0xfd9094+_0x1a8f50:_0xfd9094+'/'+_0x1a8f50;}function _0x2576b2(_0x3f8df3){const _0xfa5d4d=_0x3149ab,_0x19de23=function(_0x1a223b){const _0x23d6ad=a0_0x38d9;return _0x1a223b[_0x23d6ad(0x91d)]('/')[_0x23d6ad(0x683)](_0x19b3b7=>_0x19b3b7['length']>0x0);}(_0x3f8df3),_0x6d7c9e=_0x19de23[_0xfa5d4d(0x97b)]()||'',_0x11b5a2=_0x19de23[_0xfa5d4d(0x16a)]('/');return[0x0===_0x11b5a2[_0xfa5d4d(0x878)]?'/':_0x11b5a2,_0x6d7c9e];}async function _0x468d16(_0x3a0ddc){const _0x3f7526=_0x3149ab;let _0x137891;const _0x101541=_0x3a0ddc[_0x3f7526(0x1fa)]/0x100000;_0x137891=_0x101541<=0xa?0x1:_0x101541<=0x64?0.5:_0x101541<=0x1f4?0.1:0.05;const _0x56753b=Math[_0x3f7526(0xa15)](_0x3a0ddc[_0x3f7526(0x1fa)]/_0xfb4ebc),_0x398dda=Math['ceil'](_0x56753b*_0x137891);let _0x253407=new Uint8Array();for(let _0x476d53=0x0;_0x476d53<_0x398dda;_0x476d53++){const _0xc2ff=Math['floor'](_0x476d53/_0x398dda*_0x3a0ddc[_0x3f7526(0x1fa)]);let _0x5a11aa=_0xc2ff+_0xfb4ebc;_0x5a11aa>_0x3a0ddc[_0x3f7526(0x1fa)]&&(_0x5a11aa=_0x3a0ddc[_0x3f7526(0x1fa)]);const _0x55bb03=_0x3a0ddc['slice'](_0xc2ff,_0x5a11aa),_0x10da96=await _0x55bb03['arrayBuffer'](),_0x18ead7=new Uint8Array([..._0x253407,...new Uint8Array(_0x10da96)]);_0x253407=new Uint8Array(await crypto['subtle'][_0x3f7526(0x49c)](_0x3f7526(0x3b4),_0x18ead7));}return Array[_0x3f7526(0x271)](new Uint8Array(_0x253407))[_0x3f7526(0x323)](_0x36da73=>_0x36da73[_0x3f7526(0x50d)](0x10)['padStart'](0x2,'0'))[_0x3f7526(0x16a)]('');}async function*_0x58ac08(_0x4c9fdc,_0x360e62=0x0,_0x4e7716){const _0x83605a=_0x3149ab;let _0x121999=_0x360e62*_0x2eb4f7,_0x41be02=_0x4c9fdc;for(;_0x121999<_0x41be02[_0x83605a(0x1fa)];){let _0x2dcd99=_0x121999+_0x2eb4f7;_0x2dcd99>_0x41be02['size']&&(_0x2dcd99=_0x41be02['size']);let _0x491ea6=0x0;for(;_0x491ea6<0x14;)try{await _0x4e7716?.();const _0x12d761=_0x41be02[_0x83605a(0x83b)](_0x121999,_0x2dcd99,_0x83605a(0x37c)),_0x5e5b62=await _0x12d761[_0x83605a(0x551)]();yield _0x5e5b62,_0x121999=_0x2dcd99,await new Promise(_0x1d2af2=>setTimeout(_0x1d2af2,0x0));break;}catch(_0x401386){if(console['error'](_0x83605a(0x705)+(_0x491ea6+0x1)+_0x83605a(0x3b7),_0x401386),_0x491ea6++,_0x491ea6>0x14)throw _0x401386;let _0x5a45f7=0x3e8*Math[_0x83605a(0x5d2)](0x2,_0x491ea6);_0x5a45f7>0x7530&&(_0x5a45f7=0x7530),await new Promise(_0x426e02=>setTimeout(_0x426e02,_0x5a45f7));}}}class _0x2e9fe0 extends _0x5e2d59{[_0x3149ab(0x3c8)];[_0x3149ab(0x1f7)];['fileChunks']=new Map();['messagesSent']=0x0;['messagesReceived']=0x0;['bytesSent']=0x0;[_0x3149ab(0x4f8)]=0x0;constructor(_0x241438,_0x5d06d8){super(_0x241438,_0x5d06d8);}[_0x3149ab(0x8e1)](){const _0x6517a4=_0x3149ab;return this[_0x6517a4(0x3a4)];}['getName'](){const _0x5523a0=_0x3149ab;return this[_0x5523a0(0x3a4)];}[_0x3149ab(0x941)](){const _0x1f4517=_0x3149ab;return _0x3a4c7c[_0x1f4517(0x346)][_0x1f4517(0x719)];}[_0x3149ab(0x529)](){const _0x5e745b=_0x3149ab;return this[_0x5e745b(0x3a4)];}[_0x3149ab(0x586)](_0x158be8){const _0x35d4f1=_0x3149ab;if(this[_0x35d4f1(0x3c8)])throw new _0x224ab2(_0x224ab2[_0x35d4f1(0x8b5)][_0x35d4f1(0x3fb)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x35d4f1(0x394)]()+_0x35d4f1(0x95d)+this['label'],'topic':this[_0x35d4f1(0x3c8)]});this[_0x35d4f1(0x3c8)]=_0x158be8;}[_0x3149ab(0xa5d)](_0x11a6fe){const _0xb3f570=_0x3149ab;if(this[_0xb3f570(0x1f7)])throw new _0x224ab2(_0x224ab2[_0xb3f570(0x8b5)][_0xb3f570(0x803)],{'message':_0xb3f570(0x670)+this[_0xb3f570(0x67c)]['getId']()+_0xb3f570(0x95d)+this[_0xb3f570(0x3a4)],'topic':this[_0xb3f570(0x1f7)]});this[_0xb3f570(0x1f7)]=_0x11a6fe;}['unregisterPublisher'](){const _0x52ccab=_0x3149ab;delete this[_0x52ccab(0x3c8)];}[_0x3149ab(0x761)](){delete this['incomingTopic'];}async[_0x3149ab(0x7f3)](_0x76ea3e,_0x1b476a){const _0x584dd6=_0x3149ab;if(_0x5b2279[_0x584dd6(0x66c)](_0x44d495['DataStream'],_0x584dd6(0x9d9),this['owner'][_0x584dd6(0x394)](),_0x76ea3e,_0x1b476a),this['messagesSent']+=0x1,_0x76ea3e instanceof File){const _0x6988b4=await async function(_0x14c637){const _0x1a7330=_0x584dd6,_0x3c5db3=[];for await(const _0x1b409d of _0x58ac08(_0x14c637))_0x3c5db3[_0x1a7330(0x7e8)](_0x1b409d);return _0x3c5db3;}(_0x76ea3e);return this[_0x584dd6(0x37d)]+=_0x6988b4[_0x584dd6(0x399)]((_0x761452,_0x49a692)=>_0x761452+_0x49a692[_0x584dd6(0x352)],0x0),void _0x6988b4[_0x584dd6(0x1d0)]((_0x59dade,_0x208788)=>{const _0x3820d5=_0x584dd6;this['outgoingTopic'][_0x3820d5(0x415)]({'sourceId':this[_0x3820d5(0x67c)]['getId'](),'destinationIds':_0x1b476a,'propagate':!0x0,'contentType':_0x3a4c7c[_0x3820d5(0x346)][_0x3820d5(0x6a9)],'content':{'name':_0x76ea3e[_0x3820d5(0x662)],'type':_0x76ea3e[_0x3820d5(0x16c)],'data':_0x59dade,'index':_0x208788,'total':_0x6988b4['length']}});});}this[_0x584dd6(0x37d)]+=JSON[_0x584dd6(0x31d)](_0x76ea3e)[_0x584dd6(0x878)],this[_0x584dd6(0x3c8)][_0x584dd6(0x415)]({'sourceId':this['owner'][_0x584dd6(0x394)](),'destinationIds':_0x1b476a,'propagate':!0x0,'contentType':_0x3a4c7c[_0x584dd6(0x346)]['Data'],'content':_0x76ea3e});}[_0x3149ab(0x64c)](_0x3170ee){const _0x112f4e=_0x3149ab;return this[_0x112f4e(0x1f7)][_0x112f4e(0x438)](_0x4e30da=>{const _0x3e937d=_0x112f4e;switch(_0x5b2279['log'](_0x44d495[_0x3e937d(0x50a)],_0x3e937d(0x746),this[_0x3e937d(0x67c)][_0x3e937d(0x394)](),_0x4e30da),_0x4e30da[_0x3e937d(0x1ea)]){case _0x3a4c7c[_0x3e937d(0x346)][_0x3e937d(0x719)]:this[_0x3e937d(0xa86)]+=0x1,this[_0x3e937d(0x4f8)]+=JSON[_0x3e937d(0x31d)](_0x4e30da['content'])['length'],_0x3170ee(_0x4e30da[_0x3e937d(0x61f)],_0x4e30da['content']);break;case _0x3a4c7c[_0x3e937d(0x346)][_0x3e937d(0x6a9)]:this[_0x3e937d(0x9f8)]['has'](_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x662)])||this[_0x3e937d(0x9f8)][_0x3e937d(0x491)](_0x4e30da[_0x3e937d(0x130)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x28a964=this[_0x3e937d(0x9f8)]['get'](_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x662)]);if(_0x28a964[_0x3e937d(0x8ac)]+=0x1,_0x28a964[_0x3e937d(0x4f8)]+=_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x9b8)][_0x3e937d(0x352)],_0x28a964['content']&&(_0x28a964[_0x3e937d(0x130)][_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x270)]]=_0x4e30da[_0x3e937d(0x130)]['data']),this['fileChunks'][_0x3e937d(0x491)](_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x662)],_0x28a964),_0x28a964[_0x3e937d(0x8ac)]+0x1<_0x4e30da['content']['total'])return;this[_0x3e937d(0xa86)]+=0x1,this[_0x3e937d(0x4f8)]+=_0x28a964[_0x3e937d(0x4f8)],_0x28a964['content']&&_0x3170ee(_0x4e30da[_0x3e937d(0x61f)],(_0xb8c9e3=_0x28a964[_0x3e937d(0x130)],_0x3a60e0=_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x662)],_0x49620f=_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x16c)],new File(_0xb8c9e3,_0x3a60e0,{'type':_0x49620f}))),this[_0x3e937d(0x9f8)]['delete'](_0x4e30da[_0x3e937d(0x130)][_0x3e937d(0x662)]);}var _0xb8c9e3,_0x3a60e0,_0x49620f;});}}function _0x269228(){const _0xb43322=_0x3149ab;let _0x5aa6d1=[];return{'subscribe':_0x513226=>(_0x5aa6d1[_0xb43322(0x7e8)](_0x513226),()=>{const _0x3509ff=_0xb43322;_0x5aa6d1=_0x5aa6d1[_0x3509ff(0x683)](_0x39bdb8=>_0x39bdb8!==_0x513226);}),'publish':_0x2ac70e=>{const _0xad0247=_0xb43322;_0x5aa6d1[_0xad0247(0x1d0)](_0x5bb411=>_0x5bb411(_0x2ac70e));}};}function _0xc97be1(){let _0x1a30ab;return{'subscribe':_0x33cefe=>(_0x1a30ab=_0x33cefe,()=>{_0x1a30ab=void 0x0;}),'publish':_0x4acb61=>{_0x1a30ab&&_0x1a30ab(_0x4acb61);}};}class _0x556475{['connector'];[_0x3149ab(0xabf)];['tableObserver'];[_0x3149ab(0x622)]=_0xc97be1();[_0x3149ab(0x809)];constructor(_0x28a3ed,_0x5cddce,_0x313929){const _0x14ca0f=_0x3149ab;this['connector']=_0x28a3ed,this[_0x14ca0f(0xabf)]=_0x5cddce,this[_0x14ca0f(0x6e8)]=_0x313929;}[_0x3149ab(0x2cb)](){const _0x1fc5bf=_0x3149ab;this[_0x1fc5bf(0x809)]?.();}async['get'](_0x24c896){const _0xa06bca=_0x3149ab,_0x38891c={'key':_0x24c896,'tableName':this[_0xa06bca(0xabf)],'action':_0x4363d1[_0xa06bca(0x54f)]};return this['tableObserver'][_0xa06bca(0x415)](_0x38891c),this[_0xa06bca(0x675)]['get'](_0x24c896);}async['set'](_0x1b0096,_0x1c8d27,_0x4a8d50=!0x0){const _0x577e96=_0x3149ab;this[_0x577e96(0x3bd)](_0x1c8d27);const _0x323191=await this[_0x577e96(0x675)][_0x577e96(0x524)](_0x1b0096),_0x3b654a=await this[_0x577e96(0x675)][_0x577e96(0x491)](_0x1b0096,_0x1c8d27),_0x288389=_0x323191?_0x2dcdd6[_0x577e96(0x89f)]:_0x2dcdd6[_0x577e96(0x4e2)];if(this[_0x577e96(0x415)](_0x288389,_0x3b654a),!_0x4a8d50)return _0x3b654a;const _0x2fa150={'key':_0x1b0096,'tableName':this[_0x577e96(0xabf)],'action':_0x288389,'value':_0x3b654a};return this[_0x577e96(0x6e8)]['publish'](_0x2fa150),_0x3b654a;}async[_0x3149ab(0x638)](_0x2dff2d){const _0x7d9db1=_0x3149ab;this['validateValue'](_0x2dff2d);const _0xc5cc68=await this[_0x7d9db1(0x675)][_0x7d9db1(0x638)](_0x2dff2d),_0x55f730={'key':_0xc5cc68['id'],'tableName':this[_0x7d9db1(0xabf)],'action':_0x2dcdd6[_0x7d9db1(0x4e2)],'value':_0xc5cc68};return this[_0x7d9db1(0x6e8)][_0x7d9db1(0x415)](_0x55f730),this['publish'](_0x55f730['action'],_0xc5cc68),_0xc5cc68;}async[_0x3149ab(0x979)](_0x2fa14a,_0x420a18=!0x0){const _0x385a2c=_0x3149ab,_0x553025=await this[_0x385a2c(0x675)][_0x385a2c(0x524)](_0x2fa14a);if(!_0x553025)return;await this[_0x385a2c(0x675)][_0x385a2c(0x979)](_0x2fa14a);const _0x3c996c=_0x2dcdd6[_0x385a2c(0x867)];if(this[_0x385a2c(0x415)](_0x3c996c,_0x553025),!_0x420a18)return;const _0x43ed3b={'key':_0x2fa14a,'tableName':this[_0x385a2c(0xabf)],'action':_0x3c996c,'value':_0x553025};this['tableObserver'][_0x385a2c(0x415)](_0x43ed3b);}async['clear'](){const _0x55bc0b=_0x3149ab,_0x3883fe=await this[_0x55bc0b(0x253)]();for(const _0x5b8922 of _0x3883fe){const _0x24e1fd=_0x2dcdd6['Delete'];this['publish'](_0x24e1fd,_0x5b8922);const _0x3722e8={'key':_0x5b8922['id'],'tableName':this[_0x55bc0b(0xabf)],'action':_0x24e1fd,'value':_0x5b8922};this[_0x55bc0b(0x6e8)]['publish'](_0x3722e8);}return this[_0x55bc0b(0x675)][_0x55bc0b(0x876)]();}async[_0x3149ab(0x253)](_0x522628){const _0x4f1dff=_0x3149ab,_0x3259bc={'key':'','tableName':this[_0x4f1dff(0xabf)],'action':_0x4363d1[_0x4f1dff(0xa89)]};this[_0x4f1dff(0x6e8)][_0x4f1dff(0x415)](_0x3259bc);try{_0x522628&&(_0x522628=_0x522628 instanceof _0x533af2?_0x522628['getQuery']():_0x533af2[_0x4f1dff(0xa73)](_0x522628)['getQuery']());}catch(_0x64cb9f){throw new _0xab88d9(_0x3cba44[_0x4f1dff(0x7f2)],'Invalid\x20query');}try{return await this[_0x4f1dff(0x675)][_0x4f1dff(0x253)](_0x522628);}catch(_0x3f8a62){let _0xfcb21d='Invalid\x20query';throw _0x3f8a62 instanceof Error&&(_0xfcb21d=_0x3f8a62[_0x4f1dff(0x948)]),new _0xab88d9(_0x3cba44['KeyValueDatabaseInvalidQuery'],_0xfcb21d);}}async['count'](_0x2d711d){const _0x43a3be=_0x3149ab,_0x310807={'key':'','tableName':this[_0x43a3be(0xabf)],'action':_0x4363d1[_0x43a3be(0x528)]};this[_0x43a3be(0x6e8)]['publish'](_0x310807);try{_0x2d711d&&(_0x2d711d=_0x2d711d instanceof _0x533af2?_0x2d711d[_0x43a3be(0x1e1)]():_0x533af2[_0x43a3be(0xa73)](_0x2d711d)[_0x43a3be(0x1e1)]());}catch(_0x55c523){throw new _0xab88d9(_0x3cba44[_0x43a3be(0x7f2)],_0x43a3be(0x8b1));}try{return await this[_0x43a3be(0x675)][_0x43a3be(0x124)](_0x2d711d);}catch(_0x5ce314){let _0xb145f=_0x43a3be(0x8b1);throw _0x5ce314 instanceof Error&&(_0xb145f=_0x5ce314['message']),new _0xab88d9(_0x3cba44[_0x43a3be(0x7f2)],_0xb145f);}}[_0x3149ab(0x425)](){const _0x323cb9=_0x3149ab;return this[_0x323cb9(0x675)]['calculateSize']();}[_0x3149ab(0x438)](_0x51da95){const _0x533324=_0x3149ab;this[_0x533324(0x809)]=this[_0x533324(0x622)][_0x533324(0x438)](_0x51da95);}['unsubscribe'](){const _0x4469c2=_0x3149ab;this[_0x4469c2(0x809)]?.();}[_0x3149ab(0x415)](_0x40cde7,_0x15905e){const _0x1c25dd=_0x3149ab,_0x433f5e=this[_0x1c25dd(0x62d)](_0x40cde7,_0x15905e);this[_0x1c25dd(0x622)][_0x1c25dd(0x415)](_0x433f5e);}['buildTableEvent'](_0x32f7ec,_0x4ffbd4){const _0x5a2eff=_0x3149ab;let _0x4da68d;switch(_0x32f7ec){case _0x2dcdd6['Add']:_0x4da68d=_0x5a2eff(0x638);break;case _0x2dcdd6[_0x5a2eff(0x89f)]:_0x4da68d=_0x5a2eff(0x54d);break;case _0x2dcdd6['Delete']:_0x4da68d='delete';}return{'action':_0x4da68d,'value':_0x4ffbd4};}[_0x3149ab(0x3bd)](_0xd9b824){const _0x309974=_0x3149ab;if(_0x309974(0x72f)!=typeof _0xd9b824||null===_0xd9b824)throw new _0xab88d9(_0x3cba44[_0x309974(0x61a)],_0x309974(0x1f8));for(const _0x77008 in _0xd9b824){const _0x4be8e3=_0xd9b824[_0x77008];if(_0x309974(0x72f)!=typeof _0x4be8e3||_0x4be8e3 instanceof Date){if(![_0x309974(0x657),_0x309974(0x15c),_0x309974(0x769)][_0x309974(0x24c)](typeof _0x4be8e3))throw new _0xab88d9(_0x3cba44[_0x309974(0x61a)],_0x309974(0xa20)+_0x77008+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this['validateValue'](_0x4be8e3);}}}class _0x2c79bc{[_0x3149ab(0x98c)]=[];['totalNodes']=0x0;['transactionQueue']=[];[_0x3149ab(0x408)]=!0x1;[_0x3149ab(0x203)]=null;[_0x3149ab(0x4e5)]=null;[_0x3149ab(0xa11)];[_0x3149ab(0x596)]=null;[_0x3149ab(0x212)]=[];[_0x3149ab(0xaac)];[_0x3149ab(0x593)]=Promise[_0x3149ab(0x591)]();['expectedTransactions']=0x0;constructor(){}get[_0x3149ab(0x116)](){return this['_ready'];}async[_0x3149ab(0x907)](_0x2f8f2e,_0x8ea1fa=0x0){const _0x3797ae=_0x3149ab;this[_0x3797ae(0x596)]||(this[_0x3797ae(0x593)]=new Promise(_0xbaf5cd=>{this['readyResolve']=_0xbaf5cd;}),this['expectedTransactions']=_0x8ea1fa);const _0xf208b8=Date[_0x3797ae(0x3fe)]();if(this[_0x3797ae(0x408)])return void this[_0x3797ae(0x1b9)][_0x3797ae(0x7e8)](_0x2f8f2e);this['isComputingMMR']=!0x0;let _0xd7d6b5={'hash':await this[_0x3797ae(0x869)](_0x2f8f2e),'height':0x0};const _0x229c37=this[_0x3797ae(0x8be)](_0xd7d6b5);this[_0x3797ae(0x212)][_0x3797ae(0x7e8)](_0x229c37),await _0x229c37,this[_0x3797ae(0x4cd)]+=0x1;const _0x1746ec=this[_0x3797ae(0x1b9)][_0x3797ae(0x878)];for(;this[_0x3797ae(0x1b9)][_0x3797ae(0x878)]>0x0;){const _0x1868d0=this[_0x3797ae(0x1b9)][_0x3797ae(0xa7d)]();await this[_0x3797ae(0x907)](_0x1868d0);}this[_0x3797ae(0x6f2)](),await this[_0x3797ae(0x116)],this[_0x3797ae(0x1bc)](_0xf208b8,_0x1746ec);}async['getRoot'](){const _0xc4ed8a=_0x3149ab;return await this[_0xc4ed8a(0x593)],this[_0xc4ed8a(0x408)]?(this[_0xc4ed8a(0x4e5)]||(this['rootComputationPromise']=this['recomputeRoot']()),await this[_0xc4ed8a(0x4e5)]):this['cachedRoot'];}[_0x3149ab(0x9e7)](){const _0x59d943=_0x3149ab;return this[_0x59d943(0x98c)]['map'](({hash:_0x3d42c5,height:_0x170a7b})=>({'hash':_0x3d42c5,'height':_0x170a7b}));}[_0x3149ab(0x6fd)](){return this['totalNodes'];}['getPeakNode'](_0x1ea57a){const _0x4bb13f=_0x3149ab;return this['peaks'][_0x4bb13f(0x8e4)](_0x5f3d0d=>_0x5f3d0d[_0x4bb13f(0x103)]===_0x1ea57a);}async['hashNodes'](_0x467371,_0x3f31df){const _0x363cd6=_0x3149ab;return await this[_0x363cd6(0x34f)](_0x467371+_0x3f31df);}async[_0x3149ab(0x869)](_0x1265b2){const _0x439cb3=_0x3149ab;return await this[_0x439cb3(0x34f)](JSON[_0x439cb3(0x31d)](_0x1265b2));}[_0x3149ab(0x9f3)](_0x4ec454){const _0x49a2ad=_0x3149ab,_0x2beb7e=this[_0x49a2ad(0x9e7)](),_0x101277=[],_0x4216ae=[],_0x88488f=[];for(const _0x2a480c of _0x2beb7e){const _0x4b93cb=_0x4ec454[_0x49a2ad(0x8e4)](_0x17b413=>_0x17b413['height']===_0x2a480c[_0x49a2ad(0x103)]);_0x4b93cb?_0x2a480c[_0x49a2ad(0x94e)]!==_0x4b93cb['hash']&&_0x101277[_0x49a2ad(0x7e8)]({'height':_0x2a480c[_0x49a2ad(0x103)],'localPeak':_0x2a480c,'remotePeak':_0x4b93cb}):_0x4216ae[_0x49a2ad(0x7e8)](_0x2a480c);}for(const _0x5aea23 of _0x4ec454)_0x2beb7e[_0x49a2ad(0x8e4)](_0x80e1d3=>_0x80e1d3[_0x49a2ad(0x103)]===_0x5aea23[_0x49a2ad(0x103)])||_0x88488f[_0x49a2ad(0x7e8)](_0x5aea23);return{'differingPeaks':_0x101277,'peaksMissingInRemote':_0x4216ae,'peaksMissingInLocal':_0x88488f};}async['recomputeRoot'](){const _0x1a6d06=_0x3149ab;this[_0x1a6d06(0x408)]=!0x0;const _0x48ee1b=this[_0x1a6d06(0x98c)][_0x1a6d06(0x323)](_0x4b5754=>_0x4b5754[_0x1a6d06(0x94e)]);return this[_0x1a6d06(0x203)]=await this[_0x1a6d06(0x532)](_0x48ee1b),this[_0x1a6d06(0x408)]=!0x1,this[_0x1a6d06(0x4e5)]=null,this[_0x1a6d06(0x6f2)](),this[_0x1a6d06(0x203)];}async[_0x3149ab(0x34f)](_0x4e8801){const _0x33f605=_0x3149ab;try{const _0x24704e=new TextEncoder()['encode'](_0x4e8801),_0x546e72=await crypto[_0x33f605(0x51e)]['digest'](_0x33f605(0x3b4),_0x24704e);return Array['from'](new Uint8Array(_0x546e72))[_0x33f605(0x323)](_0x431dc2=>_0x431dc2[_0x33f605(0x50d)](0x10)[_0x33f605(0x756)](0x2,'0'))[_0x33f605(0x16a)]('');}catch(_0x42284b){return console[_0x33f605(0x1be)]('Hash\x20computation\x20failed,\x20retrying...',_0x42284b),this[_0x33f605(0x34f)](_0x4e8801);}}async[_0x3149ab(0x532)](_0x215b4e){const _0x48a055=_0x3149ab;return await this[_0x48a055(0x34f)](_0x215b4e['join'](''));}async[_0x3149ab(0x8be)](_0x31d835){const _0x48c7b6=_0x3149ab;for(;this[_0x48c7b6(0x98c)][_0x48c7b6(0x878)]>0x0&&this[_0x48c7b6(0x98c)][this['peaks'][_0x48c7b6(0x878)]-0x1][_0x48c7b6(0x103)]===_0x31d835['height'];){const _0x34a8d6=this[_0x48c7b6(0x98c)][_0x48c7b6(0x97b)]();_0x31d835={'hash':await this[_0x48c7b6(0x5fa)](_0x34a8d6[_0x48c7b6(0x94e)],_0x31d835[_0x48c7b6(0x94e)]),'left':_0x34a8d6,'right':_0x31d835,'height':_0x31d835[_0x48c7b6(0x103)]+0x1};}this[_0x48c7b6(0x98c)][_0x48c7b6(0x7e8)](_0x31d835),await this[_0x48c7b6(0x2ea)]();}[_0x3149ab(0x1bc)](_0x3b62af,_0x18989b){const _0x1891cb=_0x3149ab;if(!_0x5b2279[_0x1891cb(0x85d)](_0x44d495[_0x1891cb(0x327)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x1891cb(0xa11)]);const _0x5e2800=Date['now']();this['debounceLogTimeout']=setTimeout(()=>_0x5b2279[_0x1891cb(0x66c)](_0x44d495[_0x1891cb(0x327)],_0x1891cb(0xab0),this[_0x1891cb(0x203)],_0x1891cb(0x259),this['getTotalNodes'](),'queueLength',_0x18989b,_0x1891cb(0x732),_0x5e2800-_0x3b62af),0x7d0);}[_0x3149ab(0x6f2)](){const _0x6ee2e=_0x3149ab;this[_0x6ee2e(0xaac)]&&clearTimeout(this['debounceReadyTimeout']),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x11fc59=_0x6ee2e;try{const _0x66969d=this[_0x11fc59(0x212)];if(this[_0x11fc59(0x212)]=[],await Promise[_0x11fc59(0x2e1)](_0x66969d),this[_0x11fc59(0x5f4)]-=_0x66969d[_0x11fc59(0x878)],this[_0x11fc59(0x212)][_0x11fc59(0x878)]>0x0||this[_0x11fc59(0x5f4)]>0x0)return this['debounceReady']();this[_0x11fc59(0x596)]&&(this['readyResolve'](),this[_0x11fc59(0x596)]=null),this[_0x11fc59(0x593)]=Promise[_0x11fc59(0x591)](),this['isComputingMMR']=!0x1;}catch(_0x343f54){console[_0x11fc59(0x1be)](_0x11fc59(0x84d),_0x343f54);}},0xa);}}const _0x409167=[_0x3149ab(0x5d8),'Node',_0x3149ab(0x620),_0x3149ab(0xa65),_0x3149ab(0x843),_0x3149ab(0x953),_0x3149ab(0x698)],_0x5db20f=[[_0x3149ab(0x272),_0x3149ab(0xa38),_0x3149ab(0x692),_0x3149ab(0x5bb),_0x3149ab(0x9b4),'Restart',_0x3149ab(0x17d),_0x3149ab(0x843),_0x3149ab(0x74b)],['NodeJoin','NodeUpdate',_0x3149ab(0x5f3),_0x3149ab(0x7f8)],[_0x3149ab(0x1bd),_0x3149ab(0x5b4),_0x3149ab(0x314),_0x3149ab(0x7ff),'CloseKeyValueDatabase','CloseMediaStream',_0x3149ab(0x28b),_0x3149ab(0x495),_0x3149ab(0x8aa),_0x3149ab(0x7f1),_0x3149ab(0xa64),_0x3149ab(0x1a7),_0x3149ab(0x5d6),_0x3149ab(0x42e),_0x3149ab(0x363),_0x3149ab(0x8c9),_0x3149ab(0x767),_0x3149ab(0x931),_0x3149ab(0x609),'KeyValueDatabaseSyncRequired',_0x3149ab(0x28e),_0x3149ab(0x326),_0x3149ab(0x443),_0x3149ab(0x471),_0x3149ab(0x2ce),_0x3149ab(0x752),_0x3149ab(0x704),_0x3149ab(0xae8),'UpdateMediaStream','VectorDatabaseStats'],[_0x3149ab(0x752),_0x3149ab(0x56b),'UnsubscribeMediaStreamdiaStream',_0x3149ab(0x474),_0x3149ab(0x5a9),_0x3149ab(0x8f3)],[_0x3149ab(0x6a1),_0x3149ab(0x975)],[_0x3149ab(0x840)],[_0x3149ab(0x698),_0x3149ab(0x5da)]];function _0x5ed8eb(_0x34b625){const _0x43cf6f=_0x3149ab;return{..._0x34b625,'systemMessageType':_0x409167[_0x34b625[_0x43cf6f(0x782)]],'systemContentMessageType':_0x5db20f[_0x34b625[_0x43cf6f(0x782)]][_0x34b625[_0x43cf6f(0x130)]['type']]};}const _0x54068a={'hour':_0x3149ab(0x7b0),'minute':_0x3149ab(0x7b0),'second':_0x3149ab(0x7b0)};function _0x23e30c(_0x1fee91,_0x2741dc){const _0x4e4e60=_0x3149ab,_0x97e41b=(function(){const _0x2ad9f3=a0_0x38d9,_0x2a83b5=new Date(),_0x35a2c3=_0x2a83b5[_0x2ad9f3(0x68e)](),_0x113063=_0x2a83b5['toLocaleDateString'](_0x2ad9f3(0x5b7),_0x54068a)[_0x2ad9f3(0xa56)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x113063+'.'+(_0x35a2c3>0x64?''+_0x35a2c3:_0x35a2c3>0xa?'0'+_0x35a2c3:'00'+_0x35a2c3);}()),{sourceId:_0x120415,destinationIds:_0x18ad95,systemMessageType:_0x347ad8,systemContentMessageType:_0xdd2c64}=_0x5ed8eb(_0x1fee91);return _0x97e41b+_0x4e4e60(0x95d)+_0x2741dc+_0x4e4e60(0x95d)+(_0x120415===_0x2741dc?_0x4e4e60(0x392)+_0x347ad8+_0x4e4e60(0x7e1)+(_0x18ad95?''+_0x18ad95:_0x4e4e60(0x5d3)):_0x1fee91[_0x4e4e60(0x61f)]===_0x120f23?'Internal\x20event\x20\x27'+_0x347ad8+'\x27':(_0x18ad95?'':_0x4e4e60(0x431))+_0x4e4e60(0x91f)+_0x347ad8+'\x27\x20from\x20'+_0x120415)+_0x4e4e60(0x5ac)+_0xdd2c64+'\x27\x20payload:';}function _0x528621(_0xea8237,_0x58654d){const _0x1c670=_0x3149ab;if(!_0x5b2279['isChannelEnabled'](_0xea8237))return;if(_0x2bdaff['isProduction'])return;if(_0x1c670(0x882)==typeof process)return;const _0x376f4b=process['memoryUsage']();console[_0x1c670(0x66c)]('Memory\x20Usage\x20at\x20'+_0x58654d+':');for(const _0x42bf1 in _0x376f4b)console['log']('\x20\x20'+_0x42bf1+':\x20'+(_0x376f4b[_0x42bf1]/0x400/0x400)['toFixed'](0x2)+_0x1c670(0x355));}function _0x74eb90(_0x45419d,_0x334779){const _0x280d0a=_0x3149ab;if(!_0x5b2279[_0x280d0a(0x85d)](_0x334779))return _0x5b2279[_0x280d0a(0x691)](_0x280d0a(0x723)+_0x334779),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x30bd6a,_0x3dec44)=>_0x3dec44}};let _0x363f10=0x0;return{'timingLogger':((()=>{const _0x46ca7b=_0x280d0a;let _0x4e24c6=Date['now']();return{'start':()=>{_0x4e24c6=Date['now']();},'now':()=>Date[_0x46ca7b(0x3fe)](),'logWaitTime':_0x149475=>{const _0x53b342=_0x46ca7b;_0x363f10+=Date[_0x53b342(0x3fe)]()-_0x4e24c6,_0x5b2279[_0x53b342(0x66c)](_0x334779,_0x149475,_0x363f10+'ms',_0x45419d);}};})()),'logger':{'log':(_0x18e9e4,_0x323c92=()=>{})=>{const _0x2c14ad=_0x280d0a,_0x57e0b1=_0x323c92();_0x57e0b1?_0x5b2279[_0x2c14ad(0x66c)](_0x334779,_0x18e9e4,_0x57e0b1,_0x45419d):_0x5b2279[_0x2c14ad(0x66c)](_0x334779,_0x18e9e4,_0x45419d);},'performCalculation':(_0x15eeb7,_0x4ac226)=>_0x15eeb7()}};}function _0x30ef81(_0x2af33d){return'undefined'==typeof Buffer?0x0:Buffer['byteLength'](JSON['stringify'](_0x2af33d),'utf8');}function _0x1f0ea2(_0x4c277b){const _0x4987f4=_0x3149ab;if(0x0===_0x4c277b)return _0x4987f4(0x251);const _0x5cd532=Math[_0x4987f4(0x735)](Math[_0x4987f4(0x66c)](_0x4c277b)/Math[_0x4987f4(0x66c)](0x400));return parseFloat((_0x4c277b/Math[_0x4987f4(0x5d2)](0x400,_0x5cd532))[_0x4987f4(0x409)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x5cd532];}class _0xa93ecc extends _0x2e9fe0{['localNode'];[_0x3149ab(0x8ae)];[_0x3149ab(0x164)];[_0x3149ab(0xa5a)];['db'];[_0x3149ab(0x16b)];[_0x3149ab(0x2a2)]=new Map();[_0x3149ab(0x6e8)];[_0x3149ab(0x1e8)];['tableUnsubscriber'];[_0x3149ab(0x940)];[_0x3149ab(0x2e4)];[_0x3149ab(0x2a5)]=[];[_0x3149ab(0x298)]=()=>{};[_0x3149ab(0x3c6)];[_0x3149ab(0x622)]=_0xc97be1();[_0x3149ab(0x809)];[_0x3149ab(0xa8e)]=[];['layout'];[_0x3149ab(0x264)];[_0x3149ab(0x531)]=0x0;[_0x3149ab(0x369)]=0x0;[_0x3149ab(0x837)]=!0x1;[_0x3149ab(0x8cb)]=new _0x2c79bc();[_0x3149ab(0x866)]=new Map();[_0x3149ab(0x3cc)]=[];[_0x3149ab(0xa4d)];[_0x3149ab(0x41d)]=[];[_0x3149ab(0x3f0)];constructor(_0x4e4ef1,_0x3cd913,_0x117c16,_0x60504a,_0x428315,_0x305713,_0x3175b9){const _0x48a04b=_0x3149ab;if(_0x48a04b(0x657)!=typeof _0x3cd913)throw new _0xab88d9(_0x3cba44[_0x48a04b(0x57e)],_0x48a04b(0x29c));if(super(_0x4e4ef1,_0x3cd913),this[_0x48a04b(0x9ba)]=_0x4e4ef1,this[_0x48a04b(0x8ae)]=_0x117c16,this[_0x48a04b(0x164)]=_0x60504a,this[_0x48a04b(0xa5a)]=_0x3175b9,this[_0x48a04b(0x16b)]=_0x48a04b(0x2ca)+this[_0x48a04b(0x164)]+_0x48a04b(0x2ca)+this[_0x48a04b(0x8ae)]+'ccc'+this[_0x48a04b(0x3a4)],this[_0x48a04b(0x6e8)]=_0xc97be1(),this['loggingCycle']=function(_0xaca213,_0x2e5306){const _0x3758e6=_0x48a04b;if(!_0x5b2279[_0x3758e6(0x85d)](_0x2e5306))return _0x5b2279['debug'](_0x3758e6(0x723)+_0x2e5306),{..._0x74eb90(_0xaca213,_0x2e5306),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x3758e6(0x251),'dataReceived':_0x3758e6(0x251)})};const {timingLogger:_0x400411,logger:_0x386268}=_0x74eb90(_0xaca213,_0x2e5306);let _0x7fc483=0x0,_0x1c0926=0x0;return{'timingLogger':_0x400411,'logger':_0x386268,'logDataSent':(_0x3061f7,_0x180c10=!0x1)=>{const _0x2aa392=_0x3758e6,_0x1eec5b=_0x30ef81(_0x3061f7);return _0x180c10&&_0x5b2279[_0x2aa392(0x66c)](_0x2e5306,_0x2aa392(0x39d),_0xaca213,_0x1eec5b),_0x7fc483+=_0x1eec5b,_0x1eec5b;},'logDataReceived':(_0x21d558,_0x42d261=!0x1)=>{const _0x5cf584=_0x3758e6,_0x13e9e6=_0x30ef81(_0x21d558);return _0x42d261&&_0x5b2279[_0x5cf584(0x66c)](_0x2e5306,_0x5cf584(0x134),_0xaca213,_0x13e9e6),_0x1c0926+=_0x13e9e6,_0x13e9e6;},'getDataLogged':()=>({'dataSent':_0x1f0ea2(_0x7fc483),'dataReceived':_0x1f0ea2(_0x1c0926)})};}(this[_0x48a04b(0x3a4)],_0x44d495['KeyValueDatabase']),this[_0x48a04b(0x940)]=new Promise(_0x22964c=>{const _0x248cdb=_0x48a04b;this[_0x248cdb(0x2e4)]=_0x22964c;}),_0x428315 instanceof _0x207631)this[_0x48a04b(0x24d)]=_0x428315[_0x48a04b(0x3de)]();else{const [_0x27c08d,_0x21830a]=_0x207631[_0x48a04b(0x813)](_0x428315);if(!_0x27c08d)throw new _0xab88d9(_0x3cba44[_0x48a04b(0x88e)],'Invalid\x20layout:\x20'+_0x21830a);this['layout']=structuredClone(_0x428315);}this[_0x48a04b(0x110)](this[_0x48a04b(0x24d)]),this['db']=new _0x305713(this['dbKey'],this[_0x48a04b(0x24d)]),this[_0x48a04b(0x39c)]();}async[_0x3149ab(0x5f0)](_0x1cb028,_0x3e4e10){const _0x4cbebc=_0x3149ab;if(_0x5b2279[_0x4cbebc(0x66c)](_0x44d495[_0x4cbebc(0x327)],_0x4cbebc(0x200),this[_0x4cbebc(0x3a4)]),!this[_0x4cbebc(0x1e8)])throw new _0x224ab2(_0x224ab2[_0x4cbebc(0x8b5)][_0x4cbebc(0x3c2)]);if(await this[_0x4cbebc(0x940)],await this['isNodeReady'](_0x1cb028),await this[_0x4cbebc(0x8cb)][_0x4cbebc(0x96b)]()===_0x3e4e10){const _0x2a761f={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x1cb028],'propagate':!0x0,'messageType':_0x23b53c[_0x4cbebc(0x620)],'content':{'type':_0x253ba5['KeyValueDatabaseContentSynchronized'],'label':this['label'],'mmrRoot':_0x3e4e10}};return this[_0x4cbebc(0x3f0)]['logDataSent'](_0x2a761f),void this[_0x4cbebc(0x364)][_0x4cbebc(0x415)](_0x2a761f);}const _0x58f557=this['mmr']['getPeaks'](),_0x1e2601={'sourceId':this[_0x4cbebc(0x9ba)]['getId'](),'destinationIds':[_0x1cb028],'propagate':!0x0,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0x4cbebc(0x42e)],'label':this[_0x4cbebc(0x3a4)],'peaks':_0x58f557}};this[_0x4cbebc(0x3f0)]['logDataSent'](_0x1e2601),this[_0x4cbebc(0x364)][_0x4cbebc(0x415)](_0x1e2601);}async[_0x3149ab(0x5ab)](_0x36f82d,_0x236ef7){const _0xff192=_0x3149ab,_0x30a4fd=await this[_0xff192(0x8cb)][_0xff192(0x96b)](),_0x49acbf=_0x30a4fd===_0x236ef7;if(_0x5b2279[_0xff192(0x66c)](_0x44d495['KeyValueDatabase'],_0xff192(0x89e)+_0x36f82d+_0xff192(0x2e6)+_0x49acbf,this[_0xff192(0x3a4)]),_0x49acbf)return this[_0xff192(0x8d5)](),void this[_0xff192(0x7e0)]();_0x5b2279[_0xff192(0x66c)](_0x44d495['KeyValueDatabase'],_0xff192(0xaea),_0x30a4fd,_0x236ef7),_0x5b2279[_0xff192(0x22c)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0xff192(0x9ba)][_0xff192(0x394)](),'nodeType':this[_0xff192(0x9ba)][_0xff192(0x16c)],'remoteId':_0x36f82d,'data':{'localMMRRoot':_0x30a4fd,'remoteMMRRoot':_0x236ef7}});const _0x1c6540={'sourceId':this[_0xff192(0x9ba)][_0xff192(0x394)](),'messageType':_0x23b53c[_0xff192(0x620)],'propagate':!0x0,'content':{'type':_0x253ba5[_0xff192(0x521)],'label':this[_0xff192(0x3a4)],'mmrRoot':_0x30a4fd}};this[_0xff192(0x364)][_0xff192(0x415)](_0x1c6540);}async[_0x3149ab(0x421)](_0x1d2be3,_0x5539c0){const _0x56271c=_0x3149ab;if(_0x5b2279[_0x56271c(0x66c)](_0x44d495[_0x56271c(0x327)],_0x56271c(0x567),_0x1d2be3,'label',this[_0x56271c(0x3a4)],'peaks',_0x5539c0),this['contentRequestSent'])return;this['contentRequestSent']=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x56820b,peaksMissingInLocal:_0x326e16,peaksMissingInRemote:_0x5d889a}=this[_0x56271c(0x8cb)][_0x56271c(0x9f3)](_0x5539c0);_0x5b2279[_0x56271c(0x66c)](_0x44d495['KeyValueDatabase'],_0x56271c(0x35a),{'differingPeaks':_0x56820b,'peaksMissingInLocal':_0x326e16,'peaksMissingInRemote':_0x5d889a});const _0xe81e15={'sourceId':this[_0x56271c(0x9ba)][_0x56271c(0x394)](),'destinationIds':[_0x1d2be3],'propagate':!0x0,'messageType':_0x23b53c[_0x56271c(0x620)],'content':{'type':_0x253ba5[_0x56271c(0x8c9)],'label':this[_0x56271c(0x3a4)],'peakHeights':_0x326e16[_0x56271c(0x323)](_0x2a2af7=>_0x2a2af7[_0x56271c(0x103)])[_0x56271c(0x58f)](_0x56820b['map'](_0x4a4254=>_0x4a4254[_0x56271c(0x103)]))}};if(this[_0x56271c(0x364)][_0x56271c(0x415)](_0xe81e15),_0x56820b[_0x56271c(0x878)]>0x0||_0x5d889a[_0x56271c(0x878)]>0x0){const _0x227c2d=_0x5d889a['map'](_0x4fa8d9=>_0x4fa8d9[_0x56271c(0x103)])['concat'](_0x56820b[_0x56271c(0x323)](_0x3454be=>_0x3454be[_0x56271c(0x103)]));await this[_0x56271c(0x4a1)](_0x1d2be3,_0x227c2d,!0x0);}}async[_0x3149ab(0x4a1)](_0x2ccdf1,_0x4e4302,_0x26baef=!0x1){const _0x1a0d17=_0x3149ab;_0x5b2279['log'](_0x44d495[_0x1a0d17(0x327)],_0x1a0d17(0x79d),this[_0x1a0d17(0x3a4)]);const _0x11afa2=_0x4e4302[_0x1a0d17(0x323)](_0x251b3a=>this[_0x1a0d17(0x8cb)][_0x1a0d17(0x7ec)](_0x251b3a))[_0x1a0d17(0x683)](Boolean);if(!_0x11afa2[_0x1a0d17(0x878)]||_0x4e4302['length']!==_0x11afa2['length'])throw new _0x224ab2(_0x224ab2[_0x1a0d17(0x8b5)]['KeyValueDatabasePeakNotFound'],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x4e4302,'peaks':_0x11afa2[_0x1a0d17(0x323)](_0x6ab26d=>_0x6ab26d[_0x1a0d17(0x103)]),'nodeId':_0x2ccdf1});const _0x1977c6=[];for(const _0x55e33a of _0x11afa2)this[_0x1a0d17(0x3ba)](_0x55e33a,_0x1977c6);const _0x2fbdd7=_0x26baef?void 0x0:[_0x2ccdf1],_0x3144bc={'sourceId':this[_0x1a0d17(0x9ba)]['getId'](),'destinationIds':_0x2fbdd7,'messageType':_0x23b53c['Content'],'propagate':!0x0,'content':{'type':_0x253ba5[_0x1a0d17(0x931)],'label':this[_0x1a0d17(0x3a4)],'transactions':_0x1977c6}};this['loggingCycle'][_0x1a0d17(0x5a1)](_0x3144bc),this[_0x1a0d17(0x364)][_0x1a0d17(0x415)](_0x3144bc);}async['processReceivedTransactions'](_0x3f10a5,_0x1ac4bc){const _0xdb5ba7=_0x3149ab;_0x5b2279['log'](_0x44d495[_0xdb5ba7(0x327)],_0xdb5ba7(0x96a)+_0x1ac4bc[_0xdb5ba7(0x878)]+_0xdb5ba7(0xa04)+_0x3f10a5+_0xdb5ba7(0x95d)+this[_0xdb5ba7(0x3a4)]);for(const _0x4a51f3 of _0x1ac4bc){const _0x8f9178=await this[_0xdb5ba7(0x1e8)][_0xdb5ba7(0x524)](_0x4a51f3['id']);if(!(_0x8f9178&&this[_0xdb5ba7(0x1d4)](_0x8f9178,_0x4a51f3)>=0x0)){if(_0x4a51f3[_0xdb5ba7(0x9f6)]===_0x2dcdd6[_0xdb5ba7(0x867)]){const [_0x5186bd,_0x675ac5]=_0x4a51f3['id']['split']('::'),_0x2574a3=this[_0xdb5ba7(0x78e)](_0x5186bd);await _0x2574a3[_0xdb5ba7(0x979)](_0x675ac5);}else this[_0xdb5ba7(0x2a5)][_0xdb5ba7(0x7e8)](_0x4a51f3['id']);}}if(_0x5b2279['log'](_0x44d495['KeyValueDatabase'],_0xdb5ba7(0x9e0)+this[_0xdb5ba7(0x2a5)][_0xdb5ba7(0x878)]+'\x20new\x20transactions',this[_0xdb5ba7(0x3a4)]),this[_0xdb5ba7(0x2a5)][_0xdb5ba7(0x878)]>0x0){const _0x46b454={'sourceId':this['localNode'][_0xdb5ba7(0x394)](),'destinationIds':[_0x3f10a5],'messageType':_0x23b53c[_0xdb5ba7(0x620)],'propagate':!0x0,'content':{'type':_0x253ba5[_0xdb5ba7(0x767)],'label':this['label'],'transactionIds':this['transactionsToSync']}};this[_0xdb5ba7(0x3f0)][_0xdb5ba7(0x5a1)](_0x46b454),this['systemTopic'][_0xdb5ba7(0x415)](_0x46b454);}}[_0x3149ab(0x626)](){const _0x43e80b=_0x3149ab;this[_0x43e80b(0x39c)]();}['getContentType'](){const _0x14c34c=_0x3149ab;return _0x3a4c7c[_0x14c34c(0x346)][_0x14c34c(0x327)];}[_0x3149ab(0x2cb)](){const _0x256700=_0x3149ab;this['db'][_0x256700(0x11b)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x256700(0x264)]),delete this[_0x256700(0x264)],super[_0x256700(0x2cb)]();}['close'](){const _0x5a24a1=_0x3149ab;this['clearSyncTimeout'](),this[_0x5a24a1(0x364)][_0x5a24a1(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x5a24a1(0x620)],'content':{'type':_0x253ba5[_0x5a24a1(0x868)],'label':this[_0x5a24a1(0x3a4)]}});}['getTable'](_0x3d407c){const _0x219a1a=_0x3149ab,_0x28c75f=this['tables']['get'](_0x3d407c);if(_0x28c75f)return _0x28c75f;try{if(!this['db']['hasTable'](_0x3d407c))throw new _0xab88d9(_0x3cba44['KeyValueDatabaseTableNotFound'],_0x219a1a(0xa72));const _0x2d1a8e=new _0x556475(this['db'][_0x219a1a(0x7a8)](_0x3d407c),_0x3d407c,this[_0x219a1a(0x6e8)]);return this[_0x219a1a(0x2a2)][_0x219a1a(0x491)](_0x3d407c,_0x2d1a8e),{'get':_0x2d1a8e[_0x219a1a(0x524)]['bind'](_0x2d1a8e),'set':_0x2d1a8e['set']['bind'](_0x2d1a8e),'add':_0x2d1a8e[_0x219a1a(0x638)]['bind'](_0x2d1a8e),'delete':_0x2d1a8e[_0x219a1a(0x979)]['bind'](_0x2d1a8e),'clear':_0x2d1a8e['clear'][_0x219a1a(0x26b)](_0x2d1a8e),'list':_0x2d1a8e['list'][_0x219a1a(0x26b)](_0x2d1a8e),'count':_0x2d1a8e[_0x219a1a(0x124)]['bind'](_0x2d1a8e),'subscribe':_0x2d1a8e[_0x219a1a(0x438)][_0x219a1a(0x26b)](_0x2d1a8e),'unsubscribe':_0x2d1a8e[_0x219a1a(0x3e9)][_0x219a1a(0x26b)](_0x2d1a8e)};}catch(_0x1d8f93){if(_0x1d8f93 instanceof _0xab88d9)throw _0x1d8f93;throw new _0xab88d9(_0x3cba44[_0x219a1a(0x365)],_0x219a1a(0x3ef));}}['subscribe'](_0x578445){const _0x342c4d=_0x3149ab;this[_0x342c4d(0x809)]=this[_0x342c4d(0x622)]['subscribe'](_0x578445),this[_0x342c4d(0x479)](this[_0x342c4d(0x940)])[_0x342c4d(0x225)](_0x2551f8=>{const _0x56ff14=_0x342c4d;_0x2551f8&&this[_0x56ff14(0x622)]['publish']({'event':_0x3a4c7c[_0x56ff14(0x601)][_0x56ff14(0x7d0)]});});}['unsubscribe'](){const _0x371310=_0x3149ab;this[_0x371310(0x809)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x3149ab(0x2d5)](){const _0x218913=_0x3149ab;_0x528621(_0x44d495[_0x218913(0x327)],'Database\x20Opened');const _0xa2f8f7=[_0x2b1a76,_0x380b8f],_0x172662=[];try{await this['db'][_0x218913(0x2d5)]();const _0x21fe55=this['db'][_0x218913(0x7a8)](_0x380b8f),_0x34a7dc=await _0x21fe55[_0x218913(0x253)](),{id:_0x474814,layout:_0x4ffe33}=_0x34a7dc[0x0]??{};if(_0x4ffe33){for(const _0x7fdbad in _0x4ffe33)_0xa2f8f7[_0x218913(0x24c)](_0x7fdbad)||this['db'][_0x218913(0xa8d)](_0x7fdbad)||_0x172662['push'](_0x7fdbad);await _0x21fe55[_0x218913(0x491)](_0x474814,{'layout':this[_0x218913(0x24d)]});}else await _0x21fe55[_0x218913(0x638)]({'layout':this[_0x218913(0x24d)]});}catch(_0x23bcd3){throw new _0xab88d9(_0x3cba44[_0x218913(0x365)],_0x23bcd3[_0x218913(0x948)]||_0x218913(0x3f4));}this[_0x218913(0x798)](),await this[_0x218913(0x47e)](),this['setOnMessageHandler'](),this['setOnTableWriteHandler'](),_0x172662[_0x218913(0x1d0)](_0x43429b=>this[_0x218913(0x2b2)](_0x43429b));}async[_0x3149ab(0x6bf)](_0x39b1ef,_0x339f88=()=>{},_0x529fb4=!0x1){const _0x1a8f3a=_0x3149ab;if(!_0x39b1ef)return setTimeout(()=>{const _0x1aa9cb=a0_0x38d9;this[_0x1aa9cb(0x8d5)](),this[_0x1aa9cb(0x7e0)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x1a8f3a(0x298)]=_0x339f88,this[_0x1a8f3a(0x3c6)]=setTimeout(_0x339f88,0x7d0),!this[_0x1a8f3a(0x364)])throw new _0x224ab2(_0x224ab2[_0x1a8f3a(0x8b5)][_0x1a8f3a(0x7e2)]);const _0x41bd6e=await this[_0x1a8f3a(0x8cb)]['getRoot'](),_0x54d491={'sourceId':this['localNode'][_0x1a8f3a(0x394)](),'messageType':_0x23b53c[_0x1a8f3a(0x620)],'propagate':_0x529fb4,'content':{'type':_0x253ba5['KeyValueDatabaseSyncRequired'],'label':this[_0x1a8f3a(0x3a4)],'mmrRoot':_0x41bd6e}};return this['loggingCycle'][_0x1a8f3a(0x5a1)](_0x54d491),this['systemTopic'][_0x1a8f3a(0x415)](_0x54d491),this[_0x1a8f3a(0x940)];}async[_0x3149ab(0x44a)](_0x3bceea,_0x594666){const _0xe21293=_0x3149ab;if(_0x5b2279[_0xe21293(0x66c)](_0x44d495[_0xe21293(0x327)],_0xe21293(0x2a6)+_0x594666[_0xe21293(0x878)],this[_0xe21293(0x3a4)]),!this[_0xe21293(0x1e8)])throw new _0x224ab2(_0x224ab2[_0xe21293(0x8b5)][_0xe21293(0x3c2)]);for(const _0x3e0eb4 of _0x594666){const _0x17a5b1=await this[_0xe21293(0x1e8)][_0xe21293(0x524)](_0x3e0eb4);if(!_0x17a5b1)continue;const [_0x26732a,_0x2e42d5]=_0x3e0eb4[_0xe21293(0x91d)]('::'),_0x1c5b5b=this[_0xe21293(0x78e)](_0x26732a),_0x14c6bf=await _0x1c5b5b['get'](_0x2e42d5);_0x14c6bf?(_0x17a5b1[_0xe21293(0x687)]=_0x14c6bf,this[_0xe21293(0x7f3)](_0x17a5b1,[_0x3bceea])):_0x5b2279[_0xe21293(0x22c)](_0xe21293(0x693),{'nodeId':this['localNode'][_0xe21293(0x394)](),'nodeType':this[_0xe21293(0x9ba)][_0xe21293(0x16c)],'remoteId':_0x3bceea,'data':{'tableKeys':Object[_0xe21293(0x6d7)](this[_0xe21293(0x2a2)]),'transactionId':_0x3e0eb4,'transactions':this[_0xe21293(0x2a5)],'tableName':_0x26732a,'key':_0x2e42d5}});}}async[_0x3149ab(0x63f)](_0x12e44a){const _0x54f260=_0x3149ab;if(!this[_0x54f260(0x1e8)])throw new _0x224ab2(_0x224ab2[_0x54f260(0x8b5)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2130a8=await this[_0x54f260(0x8cb)][_0x54f260(0x869)](_0x12e44a),_0x308930=this['transactionHashMap'][_0x54f260(0x524)](_0x2130a8);if(_0x308930&&this[_0x54f260(0x1d4)](_0x12e44a,_0x308930)<=0x0)return void _0x5b2279[_0x54f260(0x66c)](_0x44d495[_0x54f260(0x327)],_0x54f260(0x9d0),_0x12e44a);const _0x36ba53={..._0x12e44a};return delete _0x36ba53[_0x54f260(0x687)],this[_0x54f260(0x8d1)](_0x36ba53),await this[_0x54f260(0x1e8)][_0x54f260(0x491)](_0x12e44a['id'],_0x36ba53),_0x12e44a;}[_0x3149ab(0x1d4)](_0x2e8e50,_0x9198f5){const _0x117616=_0x3149ab;return _0x2e8e50[_0x117616(0x412)]!==_0x9198f5[_0x117616(0x412)]?_0x2e8e50[_0x117616(0x412)]-_0x9198f5[_0x117616(0x412)]:_0x2e8e50['priority']-_0x9198f5[_0x117616(0x804)];}async['getTransactionFromTableWriteEvent'](_0x1a04c8){const _0x4a3c6a=_0x3149ab;if(!this['transactionTable'])throw new _0x224ab2(_0x224ab2['codes'][_0x4a3c6a(0x3c2)]);const _0x8a0c02=_0x1a04c8[_0x4a3c6a(0xabf)]+'::'+_0x1a04c8[_0x4a3c6a(0x510)],_0x2cdb4d=await _0x52f3ef[_0x4a3c6a(0x95b)](),_0x18c63d={'id':_0x8a0c02,'priority':Math[_0x4a3c6a(0x115)](),'timestamp':_0x2cdb4d,'action':_0x1a04c8[_0x4a3c6a(0x9f6)]};if(await this['writeTransaction'](_0x18c63d))return _0x18c63d;}async['deleteTransactionsForTable'](_0x269218){const _0x434dc3=_0x3149ab;if(!this[_0x434dc3(0x1e8)])throw new _0x224ab2(_0x224ab2[_0x434dc3(0x8b5)][_0x434dc3(0x3c2)]);const _0x4e7efa=_0x533af2[_0x434dc3(0x270)]('id')[_0x434dc3(0x6b7)](_0x434dc3(0x8b9),[_0x269218+'::',_0x269218+_0x434dc3(0x2bc)]),_0x251214=await this[_0x434dc3(0x1e8)][_0x434dc3(0x253)](_0x4e7efa[_0x434dc3(0x1e1)]());for(const _0x13f444 of _0x251214)await this[_0x434dc3(0x1e8)]['delete'](_0x13f444['id']);}[_0x3149ab(0x70c)](){const _0x5ea2c0=_0x3149ab;this[_0x5ea2c0(0x64c)](async(_0x4664b4,_0x1c99ff)=>{const _0x1f1d3f=_0x5ea2c0;if(_0x1c99ff instanceof File)return;if(this[_0x1f1d3f(0x3f0)]['logDataReceived'](_0x1c99ff),!await this[_0x1f1d3f(0x63f)](_0x1c99ff))return void this[_0x1f1d3f(0x765)](_0x4664b4,_0x1c99ff);if(!_0x1c99ff[_0x1f1d3f(0x687)])throw new _0x224ab2(_0x224ab2[_0x1f1d3f(0x8b5)][_0x1f1d3f(0x4b5)]);const [_0x295d18,_0x31a15f]=_0x1c99ff['id'][_0x1f1d3f(0x91d)]('::'),_0xc88804=this['getTable'](_0x295d18);if(!_0xc88804)throw new _0x224ab2(_0x224ab2[_0x1f1d3f(0x8b5)][_0x1f1d3f(0x3d6)],{'table':_0xc88804});let _0xcac675=0x0;switch(_0x1c99ff[_0x1f1d3f(0x9f6)]){case _0x2dcdd6['Add']:case _0x2dcdd6['Update']:{const _0x1234bd=_0xc88804[_0x1f1d3f(0x491)](_0x31a15f,_0x1c99ff[_0x1f1d3f(0x687)],!0x1);_0xcac675=JSON[_0x1f1d3f(0x31d)](_0x1c99ff[_0x1f1d3f(0x687)])[_0x1f1d3f(0x878)],this[_0x1f1d3f(0x2a5)][_0x1f1d3f(0x24c)](_0x1c99ff['id'])&&this[_0x1f1d3f(0xa8e)]['push'](_0x1234bd);break;}case _0x2dcdd6['Delete']:{const _0x15f1c4=_0xc88804[_0x1f1d3f(0x979)](_0x31a15f,!0x1);this[_0x1f1d3f(0x2a5)]['includes'](_0x1c99ff['id'])&&this['syncTransactionsWritten'][_0x1f1d3f(0x7e8)](_0x15f1c4);break;}}_0x5b2279[_0x1f1d3f(0x995)](_0x3ce5a1[_0x1f1d3f(0x327)],{'type':'sync','label':this[_0x1f1d3f(0x3a4)],'nodeId':this[_0x1f1d3f(0x9ba)][_0x1f1d3f(0x394)](),'nodeType':this[_0x1f1d3f(0x9ba)][_0x1f1d3f(0x16c)],'clusterId':this['clusterId'],'tableName':_0x295d18,'key':_0x31a15f,'size':_0xcac675}),this[_0x1f1d3f(0x765)](_0x4664b4,_0x1c99ff);});}[_0x3149ab(0x4d8)](){const _0xd4368c=_0x3149ab;this[_0xd4368c(0x2b6)]=this[_0xd4368c(0x6e8)][_0xd4368c(0x438)](async _0x5b9f6e=>{const _0x1acfab=_0xd4368c;let _0x5d2cf9=0x0;switch(_0x5b9f6e[_0x1acfab(0x9f6)]){case _0x2dcdd6[_0x1acfab(0x4e2)]:case _0x2dcdd6['Update']:case _0x2dcdd6[_0x1acfab(0x867)]:{const _0x1ef823=await this['getTransactionFromTableWriteEvent'](_0x5b9f6e);if(!_0x1ef823)return;_0x1ef823[_0x1acfab(0x687)]=_0x5b9f6e[_0x1acfab(0x687)],this[_0x1acfab(0x7f3)](_0x1ef823),_0x5d2cf9=JSON[_0x1acfab(0x31d)](_0x5b9f6e['value'])[_0x1acfab(0x878)],this['writes']+=0x1;break;}case _0x4363d1[_0x1acfab(0x54f)]:case _0x4363d1['List']:case _0x4363d1[_0x1acfab(0x528)]:this[_0x1acfab(0x369)]+=0x1;}_0x5b2279['logServiceEvent'](_0x3ce5a1['KeyValueDatabase'],{'type':_0x5b9f6e[_0x1acfab(0x9f6)],'label':this[_0x1acfab(0x3a4)],'nodeId':this['localNode'][_0x1acfab(0x394)](),'nodeType':this[_0x1acfab(0x9ba)][_0x1acfab(0x16c)],'clusterId':this[_0x1acfab(0x8ae)],'tableName':_0x5b9f6e[_0x1acfab(0xabf)],'key':_0x5b9f6e[_0x1acfab(0x510)],'size':_0x5d2cf9}),this['sendStats']();});}[_0x3149ab(0x798)](){const _0x5d5d09=_0x3149ab;this['db']&&(this[_0x5d5d09(0x1e8)]||(this[_0x5d5d09(0x1e8)]=this['db'][_0x5d5d09(0x7a8)](_0x2b1a76)));}[_0x3149ab(0x8d5)](){const _0x3bc7aa=_0x3149ab;this[_0x3bc7aa(0x3c6)]&&(clearTimeout(this[_0x3bc7aa(0x3c6)]),delete this['syncTimeout']);}async[_0x3149ab(0x7e0)](){const _0xb8ad03=_0x3149ab;await this[_0xb8ad03(0x8cb)][_0xb8ad03(0x116)],this['logSyncMetrics'](),this[_0xb8ad03(0x622)][_0xb8ad03(0x415)]({'event':_0x3a4c7c[_0xb8ad03(0x601)]['SyncComplete']}),this[_0xb8ad03(0x2e4)]?.(!0x0),delete this[_0xb8ad03(0x2e4)],this[_0xb8ad03(0x39c)](),_0x5b2279[_0xb8ad03(0x66c)](_0x44d495[_0xb8ad03(0x327)],'Sync\x20completed',this[_0xb8ad03(0x3a4)]);}async['publishSyncCompletedAfterWrites'](_0x208d89){const _0xb2d899=_0x3149ab;await Promise[_0xb2d899(0x2e1)](this['syncTransactionsWritten']),_0x5b2279[_0xb2d899(0x66c)](_0x44d495['KeyValueDatabase'],_0xb2d899(0x6d0)+this[_0xb2d899(0xa8e)][_0xb2d899(0x878)]+_0xb2d899(0x89d)+_0x208d89+_0xb2d899(0x841),this['label']),await this[_0xb2d899(0x8cb)]['ready'],await this[_0xb2d899(0x9bb)](_0x208d89),await this['publishSyncCompleted']();}[_0x3149ab(0x765)](_0x53bb92,_0x516611){const _0x3be391=_0x3149ab;this[_0x3be391(0x2a5)][_0x3be391(0x24c)](_0x516611['id'])&&(this[_0x3be391(0x8d5)](),this[_0x3be391(0x2a5)]=this['transactionsToSync'][_0x3be391(0x683)](_0x1dcbf9=>_0x1dcbf9!==_0x516611['id']),0x0!==this[_0x3be391(0x2a5)][_0x3be391(0x878)]?this[_0x3be391(0x3c6)]=setTimeout(this[_0x3be391(0x298)],0x7d0):this[_0x3be391(0x701)](_0x53bb92));}['sendStats'](){const _0x2d88ca=_0x3149ab;this['debounceStats']&&clearTimeout(this[_0x2d88ca(0x264)]),this[_0x2d88ca(0x264)]=setTimeout(async()=>{const _0x133353=_0x2d88ca;delete this[_0x133353(0x264)];let _0x2926be=0x0;for(const _0x10944f of this['tables'][_0x133353(0x6da)]())_0x2926be+=await _0x10944f[_0x133353(0x425)]();this[_0x133353(0x364)]['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x133353(0x620)],'content':{'type':_0x253ba5[_0x133353(0x609)],'label':this[_0x133353(0x3a4)],'stats':{'timestamp':Date[_0x133353(0x3fe)](),'storage':_0x2926be,'messagesSent':this[_0x133353(0x781)],'messagesReceived':this[_0x133353(0xa86)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x133353(0x4f8)],'writes':this['writes'],'reads':this[_0x133353(0x369)],'prompts':0x0,'tokens':0x0}}}),_0x5b2279[_0x133353(0xab2)](_0x3ce5a1['KeyValueDatabase'],_0x133353(0x2ca)+this[_0x133353(0x8ae)]+_0x133353(0x2ca)+this['label'],_0x2926be);},_0x271d7b);}[_0x3149ab(0x110)](_0x1bfb0a){const _0x5817f4=_0x3149ab;if(_0x1bfb0a['tables'][_0x2b1a76])throw new _0xab88d9(_0x3cba44[_0x5817f4(0x564)],_0x5817f4(0x67a)+_0x2b1a76+'\x27\x20reserved');if(_0x1bfb0a[_0x5817f4(0x2a2)][_0x380b8f])throw new _0xab88d9(_0x3cba44[_0x5817f4(0x564)],_0x5817f4(0x67a)+_0x380b8f+_0x5817f4(0x3fa));_0x1bfb0a[_0x5817f4(0x2a2)][_0x2b1a76]={'indexes':[]},_0x1bfb0a[_0x5817f4(0x2a2)][_0x380b8f]={'indexes':[]};}async[_0x3149ab(0x479)](_0x2e06fb){const _0x26bcdd=_0x3149ab;return Promise[_0x26bcdd(0x395)]([_0x2e06fb,Promise['resolve'](_0x26bcdd(0x132))])[_0x26bcdd(0x225)](_0x58e18c=>_0x26bcdd(0x132)!==_0x58e18c);}async[_0x3149ab(0x9bb)](_0x412964){const _0x45f1a2=_0x3149ab;await this[_0x45f1a2(0x316)]();const _0x1cec14=await this[_0x45f1a2(0x8cb)][_0x45f1a2(0x96b)](),_0x347aeb={'sourceId':this[_0x45f1a2(0x9ba)][_0x45f1a2(0x394)](),'destinationIds':[_0x412964],'propagate':!0x0,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0x45f1a2(0x363)],'label':this[_0x45f1a2(0x3a4)],'mmrRoot':_0x1cec14}};this[_0x45f1a2(0x364)]['publish'](_0x347aeb);}async[_0x3149ab(0x47e)](){const _0x4ecfed=_0x3149ab;if(!this[_0x4ecfed(0x1e8)])throw new _0x224ab2(_0x224ab2[_0x4ecfed(0x8b5)][_0x4ecfed(0x3c2)]);this['transactions']=await this[_0x4ecfed(0x1e8)]['list'](),this[_0x4ecfed(0x3cc)][_0x4ecfed(0x69d)](this[_0x4ecfed(0x1d4)]),this['mmr']=new _0x2c79bc(),this['transactionHashMap']=new Map();for(const _0x2bff45 of this[_0x4ecfed(0x3cc)])this[_0x4ecfed(0x257)](_0x2bff45,this[_0x4ecfed(0x3cc)][_0x4ecfed(0x878)]);this['logInitialMMR']();}async[_0x3149ab(0x257)](_0x49f246,_0x28b899){const _0x58dfd9=_0x3149ab,_0x52ef8c={..._0x49f246};delete _0x52ef8c[_0x58dfd9(0x687)],await this['mmr']['appendTransaction'](_0x52ef8c,_0x28b899);const _0x2b312b=await this[_0x58dfd9(0x8cb)][_0x58dfd9(0x869)](_0x52ef8c);this['transactionHashMap'][_0x58dfd9(0x491)](_0x2b312b,_0x49f246);}[_0x3149ab(0x5f2)](_0x2c5637){const _0x5d27a8=_0x3149ab;return this[_0x5d27a8(0x866)][_0x5d27a8(0x524)](_0x2c5637);}['collectTransactionsFromNode'](_0x5287db,_0x569aa6){const _0x2a455e=_0x3149ab;if(0x0!==_0x5287db['height'])_0x5287db[_0x2a455e(0x9eb)]&&this['collectTransactionsFromNode'](_0x5287db[_0x2a455e(0x9eb)],_0x569aa6),_0x5287db['right']&&this[_0x2a455e(0x3ba)](_0x5287db['right'],_0x569aa6);else{const _0x155060=this[_0x2a455e(0x5f2)](_0x5287db[_0x2a455e(0x94e)]);_0x155060&&_0x569aa6[_0x2a455e(0x7e8)](_0x155060);}}async[_0x3149ab(0x575)](){const _0x1588e8=_0x3149ab;this[_0x1588e8(0xa4d)]&&(clearTimeout(this[_0x1588e8(0xa4d)]),delete this[_0x1588e8(0xa4d)],this[_0x1588e8(0x41d)][_0x1588e8(0x878)]>0x0&&(this[_0x1588e8(0x3cc)][_0x1588e8(0x7e8)](...this[_0x1588e8(0x41d)][_0x1588e8(0x69d)](this[_0x1588e8(0x1d4)])),this[_0x1588e8(0x41d)]=[]));const _0x38c14e=this[_0x1588e8(0x736)]();this['mmr']=new _0x2c79bc(),this[_0x1588e8(0x866)][_0x1588e8(0x876)](),this[_0x1588e8(0x3cc)][_0x1588e8(0x69d)](this[_0x1588e8(0x1d4)]);for(const _0x197b12 of this[_0x1588e8(0x3cc)])this[_0x1588e8(0x257)](_0x197b12,this[_0x1588e8(0x3cc)][_0x1588e8(0x878)]);await this['mmr']['ready'],this['logMMRRebuild'](_0x38c14e);}[_0x3149ab(0x736)](){const _0x15f079=_0x3149ab;return this[_0x15f079(0x3f0)]['logger'][_0x15f079(0x9ad)](async()=>{const _0x1942b1=_0x15f079,_0x1eaa9e=await this[_0x1942b1(0x8cb)][_0x1942b1(0x96b)]();return{'startTime':Date[_0x1942b1(0x3fe)](),'initialRoot':_0x1eaa9e};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async[_0x3149ab(0x10d)](_0x1432ae){const _0x37cebd=_0x3149ab;try{const {startTime:_0x3e47ee,initialRoot:_0x462b14}=await _0x1432ae,_0x249adb=await this[_0x37cebd(0x8cb)]['getRoot'](),_0x11ea2b=[_0x37cebd(0xa0c)+(_0x462b14!==_0x249adb),'\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20'+_0x462b14,_0x37cebd(0x7e7)+_0x249adb,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0x37cebd(0x8cb)][_0x37cebd(0x6fd)](),_0x37cebd(0x65d)+(Date[_0x37cebd(0x3fe)]()-_0x3e47ee)+_0x37cebd(0x86f)][_0x37cebd(0x16a)]('\x20');this[_0x37cebd(0x3f0)][_0x37cebd(0x1da)][_0x37cebd(0x66c)]('',()=>_0x11ea2b);}catch(_0x11c630){console[_0x37cebd(0x1be)](_0x37cebd(0x6d6),_0x11c630);}}[_0x3149ab(0x8d1)](_0x1fc456){const _0x5ce0e8=_0x3149ab;this['transactionsToAppend'][_0x5ce0e8(0x7e8)](_0x1fc456),this[_0x5ce0e8(0xa4d)]&&(clearTimeout(this[_0x5ce0e8(0xa4d)]),delete this[_0x5ce0e8(0xa4d)]),this[_0x5ce0e8(0xa4d)]=setTimeout(()=>{const _0x32336b=_0x5ce0e8;this[_0x32336b(0x316)]();},0x3e8);}async[_0x3149ab(0x316)](){const _0x24df7b=_0x3149ab;if(this[_0x24df7b(0xa4d)]&&(clearTimeout(this[_0x24df7b(0xa4d)]),delete this[_0x24df7b(0xa4d)]),0x0!==this[_0x24df7b(0x41d)][_0x24df7b(0x878)]){if(0x0===this[_0x24df7b(0x3cc)][_0x24df7b(0x878)])return this['transactions']=this[_0x24df7b(0x41d)],this['transactionsToAppend']=[],await this['rebuildMMR']();if(this[_0x24df7b(0x41d)][_0x24df7b(0x69d)](this['compareTransactions']),this[_0x24df7b(0x1d4)](this['transactionsToAppend'][0x0],this['transactions'][this[_0x24df7b(0x3cc)][_0x24df7b(0x878)]-0x1])>0x0){this[_0x24df7b(0x3f0)][_0x24df7b(0x1da)]['log'](_0x24df7b(0x42c)+this[_0x24df7b(0x41d)][_0x24df7b(0x878)]+_0x24df7b(0x972)+this[_0x24df7b(0x3cc)][_0x24df7b(0x878)]);for(const _0x202324 of this['transactionsToAppend'])this[_0x24df7b(0x3cc)]['push'](_0x202324),this[_0x24df7b(0x257)](_0x202324,this[_0x24df7b(0x41d)]['length']);return this['transactionsToAppend']=[],void this[_0x24df7b(0x3f0)][_0x24df7b(0x1da)][_0x24df7b(0x66c)]('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0x24df7b(0x84c)+await this[_0x24df7b(0x8cb)][_0x24df7b(0x96b)]()+_0x24df7b(0x64f)+this[_0x24df7b(0x8cb)][_0x24df7b(0x6fd)]());}this[_0x24df7b(0x3f0)][_0x24df7b(0x1da)]['log'](_0x24df7b(0x724)+this['transactionsToAppend'][_0x24df7b(0x878)]+_0x24df7b(0x972)+this[_0x24df7b(0x3cc)][_0x24df7b(0x878)]),this[_0x24df7b(0x3cc)][_0x24df7b(0x7e8)](...this[_0x24df7b(0x41d)]),this['transactionsToAppend']=[],this[_0x24df7b(0x575)]();}}async[_0x3149ab(0x262)](){const _0x50bad0=_0x3149ab;if(!_0x5b2279[_0x50bad0(0x85d)](_0x44d495['KeyValueDatabase']))return;await this['mmr'][_0x50bad0(0x116)];const {dataSent:_0x5cda23,dataReceived:_0x575f3d}=this[_0x50bad0(0x3f0)][_0x50bad0(0x8d6)]();_0x5b2279['log'](_0x44d495[_0x50bad0(0x327)],_0x50bad0(0x82b),this['label'],_0x50bad0(0x4fc)+_0x5cda23,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x575f3d,_0x50bad0(0x274),await this[_0x50bad0(0x8cb)][_0x50bad0(0x96b)](),_0x50bad0(0x8dc),this[_0x50bad0(0x8cb)][_0x50bad0(0x6fd)]());}async[_0x3149ab(0x72c)](){const _0x53a577=_0x3149ab;if(!_0x5b2279['isChannelEnabled'](_0x44d495[_0x53a577(0x327)]))return;const _0x3cb045=this[_0x53a577(0x8cb)][_0x53a577(0x9e7)](),_0xc130f6=_0x3cb045[_0x53a577(0x323)](_0x3d83f5=>_0x3d83f5[_0x53a577(0x103)]),_0x176d41=await this['mmr'][_0x53a577(0x96b)]();_0x5b2279[_0x53a577(0x66c)](_0x44d495[_0x53a577(0x327)],_0x53a577(0x36f),this[_0x53a577(0x3cc)][_0x53a577(0x878)],_0x53a577(0x3cc),this[_0x53a577(0x8cb)]['getTotalNodes'](),'totalNodes',_0x3cb045[_0x53a577(0x878)],_0x53a577(0x98c),_0xc130f6,_0x53a577(0x728),_0x176d41);}}const _0x3372cf=require('@crewdle/mist-connector-opfs'),_0x133803=require('@crewdle/mist-connector-indexed-db'),_0x5d0f81=require('@crewdle/mist-connector-webrtc-browser'),_0x3c4129=0x10000000;var _0x28455d,_0x1ae943,_0x2d0fa6,_0x182ae0,_0x19abbf,_0x27b120,_0x518845,_0x30ed0e,_0x39f626;!function(_0x2724d5){const _0x2a3a8b=_0x3149ab;_0x2724d5[_0x2a3a8b(0x68f)]='AudioContext',_0x2724d5[_0x2a3a8b(0x557)]=_0x2a3a8b(0x557),_0x2724d5[_0x2a3a8b(0x1c6)]=_0x2a3a8b(0x1c6),_0x2724d5['Backgrounds']=_0x2a3a8b(0xa52),_0x2724d5['DeviceConfig']=_0x2a3a8b(0x33c),_0x2724d5[_0x2a3a8b(0x7b4)]=_0x2a3a8b(0x7b4),_0x2724d5[_0x2a3a8b(0x7c8)]='Recording',_0x2724d5[_0x2a3a8b(0x83f)]=_0x2a3a8b(0x83f),_0x2724d5[_0x2a3a8b(0xac4)]='WebGL',_0x2724d5['WebRTC']=_0x2a3a8b(0x47f);}(_0x28455d||(_0x28455d={}));class _0x2cd8e9{['registeredListeners'];['bufferedEvents'];[_0x3149ab(0x2af)];constructor(_0x2ab962=new Map(),_0x4df975=new Map(),_0x2f255f=new EventTarget()){const _0x1cb295=_0x3149ab;this[_0x1cb295(0x937)]=_0x2ab962,this['bufferedEvents']=_0x4df975,this[_0x1cb295(0x2af)]=_0x2f255f;}[_0x3149ab(0x6ad)]=(_0x4016ff,_0x405ea2)=>this[_0x3149ab(0x937)][_0x3149ab(0x2a7)](_0x4016ff)?(_0x5b2279['log'](_0x44d495[_0x3149ab(0x572)],_0x3149ab(0x616),{'event':_0x4016ff,'data':_0x405ea2}),this[_0x3149ab(0x2af)][_0x3149ab(0x6ef)](new CustomEvent(_0x4016ff,{'detail':_0x405ea2})),!0x0):(this[_0x3149ab(0x1ed)](_0x4016ff,_0x405ea2),!0x1);['on']=(_0x16cac4,_0x3f413d)=>{const _0x258108=_0x3149ab,_0x4dc6b3=_0x2dead9=>{const _0x9c9c45=a0_0x38d9;_0x5b2279[_0x9c9c45(0x66c)](_0x44d495[_0x9c9c45(0x572)],_0x9c9c45(0x8f0),_0x2dead9[_0x9c9c45(0x16c)],_0x2dead9['detail']),_0x3f413d(_0x2dead9[_0x9c9c45(0x8e9)]);};return this[_0x258108(0x937)][_0x258108(0x491)](_0x16cac4,_0x4dc6b3),this[_0x258108(0x2af)]['addEventListener'](_0x16cac4,_0x4dc6b3),_0x5b2279[_0x258108(0x66c)](_0x44d495[_0x258108(0x87b)],_0x258108(0x722),_0x16cac4,_0x3f413d),this[_0x258108(0x4d9)](_0x16cac4),this;};['off'](_0x348a94){const _0x23d491=_0x3149ab;if(!_0x348a94)return this[_0x23d491(0x937)][_0x23d491(0x1d0)]((_0x14f319,_0x3d942b)=>{const _0x53ad17=_0x23d491;this['eventTarget'][_0x53ad17(0x636)](_0x3d942b,_0x14f319);}),void this[_0x23d491(0x937)]['clear']();_0x23d491(0x657)==typeof _0x348a94&&this[_0x23d491(0x64d)](_0x348a94),Array[_0x23d491(0x7f0)](_0x348a94)&&_0x348a94[_0x23d491(0x1d0)](_0x574a8b=>{const _0x25fa8f=_0x23d491;this[_0x25fa8f(0x64d)](_0x574a8b);});}[_0x3149ab(0x64d)](_0x1f1d19){const _0x354b6d=_0x3149ab,_0x5ab38e=this[_0x354b6d(0x937)]['get'](_0x1f1d19);_0x5ab38e&&(this[_0x354b6d(0x2af)][_0x354b6d(0x636)](_0x1f1d19,_0x5ab38e),this[_0x354b6d(0x937)]['delete'](_0x1f1d19));}[_0x3149ab(0x1ed)](_0x578ef8,_0x42d6f2){const _0x2833c2=_0x3149ab;_0x5b2279[_0x2833c2(0x66c)](_0x44d495[_0x2833c2(0x572)],_0x2833c2(0x407),{'event':_0x578ef8,'data':_0x42d6f2});const _0x3595a0=this[_0x2833c2(0x9de)][_0x2833c2(0x524)](_0x578ef8)||[];this[_0x2833c2(0x9de)]['set'](_0x578ef8,[..._0x3595a0,_0x42d6f2]);}['consumeBufferedEvents'](_0x5c6e7b){const _0x33d86b=_0x3149ab,_0x3f3968=this['bufferedEvents']['get'](_0x5c6e7b);_0x3f3968&&(_0x3f3968[_0x33d86b(0x1d0)](_0x1369b9=>{const _0x20ff7a=_0x33d86b;_0x5b2279[_0x20ff7a(0x66c)](_0x44d495[_0x20ff7a(0x572)],'Consuming\x20buffered\x20event',{'event':_0x5c6e7b,'data':_0x1369b9}),this[_0x20ff7a(0x2af)][_0x20ff7a(0x6ef)](new CustomEvent(_0x5c6e7b,{'detail':_0x1369b9}));}),this[_0x33d86b(0x9de)][_0x33d86b(0x979)](_0x5c6e7b));}}class _0x530d99 extends Error{constructor(_0x318625){super('Early\x20return:\x20'+_0x318625);}}!function(_0x44711e){const _0xaf6a47=_0x3149ab;_0x44711e[_0x44711e[_0xaf6a47(0x2d0)]=0x0]='Core',_0x44711e[_0x44711e['Optimization']=0x1]=_0xaf6a47(0x185);}(_0x1ae943||(_0x1ae943={})),function(_0x372b02){const _0x5ad6d2=_0x3149ab;_0x372b02[_0x372b02['Offer']=0x0]=_0x5ad6d2(0x272),_0x372b02[_0x372b02[_0x5ad6d2(0xa38)]=0x1]='Answer',_0x372b02[_0x372b02[_0x5ad6d2(0x692)]=0x2]='Handshake',_0x372b02[_0x372b02[_0x5ad6d2(0x5bb)]=0x3]='Success',_0x372b02[_0x372b02[_0x5ad6d2(0x9b4)]=0x4]=_0x5ad6d2(0x9b4),_0x372b02[_0x372b02['Restart']=0x5]=_0x5ad6d2(0x367),_0x372b02[_0x372b02[_0x5ad6d2(0x17d)]=0x6]=_0x5ad6d2(0x17d),_0x372b02[_0x372b02[_0x5ad6d2(0x843)]=0x7]='Stats',_0x372b02[_0x372b02[_0x5ad6d2(0x74b)]=0x8]=_0x5ad6d2(0x74b);}(_0x2d0fa6||(_0x2d0fa6={})),function(_0x5e7849){const _0x28a4f0=_0x3149ab;_0x5e7849[_0x5e7849[_0x28a4f0(0x457)]=0x0]='Sender',_0x5e7849[_0x5e7849[_0x28a4f0(0x1aa)]=0x1]=_0x28a4f0(0x1aa);}(_0x182ae0||(_0x182ae0={})),function(_0x34f8f0){const _0xe49bad=_0x3149ab;_0x34f8f0[_0xe49bad(0x7b4)]='media-stream';}(_0x19abbf||(_0x19abbf={})),function(_0x10eb9a){const _0x556d18=_0x3149ab;_0x10eb9a[_0x10eb9a[_0x556d18(0x850)]=0x0]='NodeJoin',_0x10eb9a[_0x10eb9a[_0x556d18(0x51c)]=0x1]=_0x556d18(0x51c),_0x10eb9a[_0x10eb9a[_0x556d18(0x5f3)]=0x2]=_0x556d18(0x5f3),_0x10eb9a[_0x10eb9a[_0x556d18(0x7f8)]=0x3]=_0x556d18(0x7f8);}(_0x27b120||(_0x27b120={})),function(_0x36624a){const _0x39c139=_0x3149ab;_0x36624a[_0x36624a[_0x39c139(0x698)]=0x0]=_0x39c139(0x698),_0x36624a[_0x36624a[_0x39c139(0x5da)]=0x1]='RemoteRemediation';}(_0x518845||(_0x518845={})),function(_0x1576ac){const _0x45ef55=_0x3149ab;_0x1576ac[_0x45ef55(0x45b)]='upgrade',_0x1576ac[_0x45ef55(0x61b)]=_0x45ef55(0x6ca);}(_0x30ed0e||(_0x30ed0e={})),function(_0x106168){const _0x3963fc=_0x3149ab;_0x106168[_0x3963fc(0x808)]=_0x3963fc(0x81a),_0x106168[_0x3963fc(0x968)]=_0x3963fc(0x1cd);}(_0x39f626||(_0x39f626={}));const _0x487c2f=require('aws-amplify'),_0x54c264=require('aws-amplify/utils'),_0x72eaac=require('@aws-amplify/api'),_0x313449=require('@aws-amplify/core');class _0x68adb4{['clusterId'];[_0x3149ab(0x9ba)];['remoteId'];constructor(_0x1a400b,_0x1a40b3,_0xa45353){const _0x73120e=_0x3149ab;this[_0x73120e(0x8ae)]=_0x1a400b,this[_0x73120e(0x9ba)]=_0x1a40b3,this[_0x73120e(0x8b4)]=_0xa45353;}[_0x3149ab(0x720)](){const _0x1a44a3=_0x3149ab;return this[_0x1a44a3(0x9ba)][_0x1a44a3(0x394)]();}['getRemoteId'](){return this['remoteId'];}}var _0x4285a6,_0x4f07c1,_0x583eef;function _0x114893(_0x42c25c,_0x562834){const _0x22d80a=_0x3149ab;return _0x42c25c[_0x22d80a(0x61f)]===_0x562834;}function _0x6564fc(_0x3400a2,_0x10fd4f){const _0x3a46bc=_0x3149ab;return _0x3400a2[_0x3a46bc(0x249)]?.['includes'](_0x10fd4f)??function(_0x1d5c06){const _0x34e6cb=_0x3a46bc;return void 0x0===_0x1d5c06[_0x34e6cb(0x249)];}(_0x3400a2);}function _0x18934f(_0x4cbcc3,{contentType:_0x55f7e4,label:_0xccbd40,remoteId:_0x49fe5d}){return _0x4cbcc3+'-'+_0x55f7e4+'-'+_0xccbd40+'-'+_0x49fe5d;}function _0xc210b8(_0x27495a,_0x2f5b7a,_0x314bc3){return''+_0x27495a+_0x2f5b7a+_0x314bc3;}function _0x31346d(_0x289a44){const _0x5c4bbb=_0x3149ab;return _0x289a44===_0x4f07c1[_0x5c4bbb(0x31a)]?'IncomingSubscription':'OutgoingSubscription';}function _0x1ce67a(_0x4c7520,_0x4e4220){const _0x1b7381=_0x3149ab;return{'label':_0x4c7520[_0x1b7381(0x529)](),'contentType':_0x4c7520[_0x1b7381(0x941)](),'remoteId':_0x4e4220[_0x1b7381(0xa57)](),'supportsContentType':_0x4e4220[_0x1b7381(0x4e1)]()[_0x1b7381(0x24c)](_0x4c7520[_0x1b7381(0x941)]())};}!function(_0x152ab3){const _0x4964d4=_0x3149ab;_0x152ab3[_0x152ab3['Waiting']=0x0]=_0x4964d4(0x334),_0x152ab3[_0x152ab3[_0x4964d4(0x655)]=0x1]='Accepted',_0x152ab3[_0x152ab3[_0x4964d4(0xa14)]=0x2]=_0x4964d4(0xa14);}(_0x4285a6||(_0x4285a6={})),function(_0x5c5589){const _0x50633d=_0x3149ab;_0x5c5589[_0x50633d(0x31a)]='in',_0x5c5589[_0x50633d(0x709)]='out';}(_0x4f07c1||(_0x4f07c1={}));class _0x269071{[_0x3149ab(0x141)];[_0x3149ab(0xa3f)];constructor(_0x304d79,_0x218a02){const _0x16f4c4=_0x3149ab;this[_0x16f4c4(0x141)]=_0x304d79,this['retryCallback']=_0x218a02;}[_0x3149ab(0x935)](_0x581a40){this['callback'](_0x581a40);}async[_0x3149ab(0x1a0)](){await this['retryCallback']();}}class _0x169efa{['callback'];[_0x3149ab(0xa3f)];constructor(_0x69838,_0x4fdc28){const _0xacb226=_0x3149ab;this[_0xacb226(0x141)]=_0x69838,this[_0xacb226(0xa3f)]=_0x4fdc28;}async[_0x3149ab(0x935)](_0x379c37){const _0x2289ed=_0x3149ab;await this[_0x2289ed(0x141)](_0x379c37);}async[_0x3149ab(0x1a0)](){const _0x568d06=_0x3149ab;await this[_0x568d06(0xa3f)]();}}function _0x461dfd(_0x3c95e1=()=>{},_0x5c966b=()=>!0x1,_0x5bb190=()=>{}){let _0x51b667,_0x28fadb,_0x4d389a=0x0;return{get 'size'(){return _0x4d389a;},get 'head'(){return _0x51b667;},get 'tail'(){return _0x28fadb;},set 'head'(_0x12ea78){_0x51b667=_0x12ea78;},set 'tail'(_0x39ccf8){_0x28fadb=_0x39ccf8;},'push'(_0x5a5503,_0x5618bc=!0x0){const _0x36a5cc=a0_0x38d9,_0x2504ab={'value':_0x5a5503};_0x5618bc&&_0x5c966b(_0x2504ab)?_0x3c95e1():(_0x28fadb&&(_0x2504ab[_0x36a5cc(0x14e)]=_0x28fadb,_0x28fadb['next']=_0x2504ab),_0x28fadb=_0x2504ab,_0x51b667||(_0x51b667=_0x2504ab),_0x4d389a+=0x1,_0x5618bc&&_0x3c95e1());},'pop'(){const _0x32b609=a0_0x38d9;if(!_0x28fadb)return;const _0x53d6f7=_0x28fadb[_0x32b609(0x687)];return _0x28fadb=_0x28fadb[_0x32b609(0x14e)],_0x28fadb&&delete _0x28fadb['next'],_0x28fadb||(_0x51b667=void 0x0),_0x4d389a-=0x1,_0x53d6f7;},'unshift'(_0x535923,_0xfa6734=!0x0){const _0x5de24b={'value':_0x535923};_0xfa6734&&_0x5c966b(_0x5de24b)?_0x3c95e1():(_0x51b667&&(_0x51b667['previous']=_0x5de24b,_0x5de24b['next']=_0x51b667),_0x51b667=_0x5de24b,_0x28fadb||(_0x28fadb=_0x5de24b),_0x4d389a+=0x1,_0xfa6734&&_0x3c95e1());},'shift'(){if(!_0x51b667)return;const _0x233751=_0x51b667['value'];return _0x51b667=_0x51b667['next'],_0x51b667&&delete _0x51b667['previous'],_0x51b667||(_0x28fadb=void 0x0),_0x4d389a-=0x1,_0x233751;},'clear'(){_0x5bb190(),_0x51b667=void 0x0,_0x28fadb=void 0x0,_0x4d389a=0x0;}};}function _0x2e2141(_0x497062,_0x162bcc=!0x1,_0x50031b=()=>{},_0x1d936c=()=>!0x1,_0x4b34fc=()=>{}){let _0xef27bd=!0x1;const _0x27266e=_0x461dfd(async function(){const _0x28d833=a0_0x38d9;if(!_0xef27bd){for(_0xef27bd=!0x0;_0x27266e[_0x28d833(0x8b0)];){const _0x16c619=_0x27266e[_0x28d833(0xa7d)]();if(_0x16c619)try{_0x497062 instanceof _0x269071&&_0x497062[_0x28d833(0x935)](_0x16c619),_0x497062 instanceof _0x169efa&&await _0x497062[_0x28d833(0x935)](_0x16c619),_0x50031b(_0x16c619);}catch(_0x1bc2f5){_0x162bcc?_0x27266e['push'](_0x16c619,!0x1):_0x27266e[_0x28d833(0xaa6)](_0x16c619,!0x1),await _0x497062[_0x28d833(0x1a0)]();}}_0xef27bd=!0x1;}},_0x1d936c,_0x4b34fc);return _0x27266e;}class _0x31eb0b extends _0x68adb4{[_0x3149ab(0x164)];[_0x3149ab(0x56e)];[_0x3149ab(0x488)]=_0x72eaac[_0x3149ab(0x966)]['Disconnected'];[_0x3149ab(0x93e)]=_0xc97be1();[_0x3149ab(0x360)]=_0x269228();[_0x3149ab(0x9c1)];['listenUnsubscriber'];[_0x3149ab(0x384)]=_0x2e2141(new _0x169efa(this[_0x3149ab(0x794)][_0x3149ab(0x26b)](this),this[_0x3149ab(0xa60)][_0x3149ab(0x26b)](this)));[_0x3149ab(0x566)];constructor(_0x5af18c,_0x39bc78,_0x2cca3e,_0x457b0d,_0x7cdba0){const _0x54e218=_0x3149ab;super(_0x39bc78,_0x2cca3e,_0x457b0d),this[_0x54e218(0x164)]=_0x5af18c,this['authService']=_0x7cdba0;}async[_0x3149ab(0x50c)](){const _0x395de8=_0x3149ab;try{const _0x58763d={'getTokens':async()=>{const _0x2e7735=a0_0x38d9,_0x364171=await this[_0x2e7735(0x56e)][_0x2e7735(0x9ee)]();return{'accessToken':(0x0,_0x313449[_0x2e7735(0x954)])(_0x364171),'idToken':(0x0,_0x313449[_0x2e7735(0x954)])(_0x364171)};}};_0x487c2f[_0x395de8(0x3d9)][_0x395de8(0x547)]({'API':{'GraphQL':{'endpoint':_0x2bdaff[_0x395de8(0x522)]['endpoint'],'region':_0x2bdaff[_0x395de8(0x522)][_0x395de8(0x87c)],'defaultAuthMode':_0x395de8(0x72e)}}},{'Auth':{'tokenProvider':_0x58763d}});const _0x1be1ef=(0x0,_0x72eaac[_0x395de8(0x3e2)])();this[_0x395de8(0x566)]=_0x1be1ef,await this[_0x395de8(0x438)](),this[_0x395de8(0x2ed)]=_0x54c264[_0x395de8(0xae6)][_0x395de8(0x737)](_0x395de8(0x9b7),async({payload:_0x5e4572})=>{const _0x526212=_0x395de8;if(_0x5e4572[_0x526212(0x46c)]===_0x72eaac[_0x526212(0x555)]){const _0x37211a=_0x5e4572[_0x526212(0x9b8)];this[_0x526212(0x488)]=_0x37211a['connectionState'],this[_0x526212(0x93e)]['publish'](_0x37211a[_0x526212(0x488)]),this[_0x526212(0x488)]===_0x72eaac[_0x526212(0x966)][_0x526212(0xaed)]?(_0x5b2279[_0x526212(0x1be)](_0x526212(0xff),{'clusterId':this['clusterId'],'nodeId':this[_0x526212(0x720)](),'nodeType':this['localNode'][_0x526212(0x16c)]}),this[_0x526212(0x11b)](),this[_0x526212(0x50c)]()):this[_0x526212(0x488)]===_0x72eaac[_0x526212(0x966)][_0x526212(0x5dc)]?_0x5b2279[_0x526212(0x22c)](_0x526212(0x742),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x526212(0x9ba)][_0x526212(0x16c)]}):_0x5b2279[_0x526212(0x22c)](_0x526212(0x558),{'clusterId':this[_0x526212(0x8ae)],'nodeId':this[_0x526212(0x720)](),'nodeType':this[_0x526212(0x9ba)]['type'],'data':{'state':_0x37211a['connectionState']}});}});}catch(_0x403a86){_0x5b2279['error'](_0x395de8(0x845),{'clusterId':this[_0x395de8(0x8ae)],'nodeId':this[_0x395de8(0x720)](),'nodeType':this[_0x395de8(0x9ba)][_0x395de8(0x16c)]});}}['close'](){const _0x223b53=_0x3149ab;_0x5b2279['warning'](_0x223b53(0x9a9),{'clusterId':this[_0x223b53(0x8ae)],'nodeId':this['getLocalId'](),'nodeType':this[_0x223b53(0x9ba)][_0x223b53(0x16c)]}),this[_0x223b53(0x384)][_0x223b53(0x876)](),this[_0x223b53(0x2ed)]?.(),this[_0x223b53(0x9c1)]?.[_0x223b53(0x3e9)](),delete this[_0x223b53(0x9c1)];}[_0x3149ab(0x8cc)](){const _0x180548=_0x3149ab;return this[_0x180548(0x488)]===_0x72eaac['ConnectionState'][_0x180548(0x5dc)];}[_0x3149ab(0x7f3)](_0x19289c){const _0x6944d5=_0x3149ab;this['retryQueue'][_0x6944d5(0x7e8)](_0x19289c);}['onMessage'](_0x5d4c44){const _0x53c1df=_0x3149ab;return this[_0x53c1df(0x360)][_0x53c1df(0x438)](_0x5d4c44);}[_0x3149ab(0x4e1)](){const _0x3414ab=_0x3149ab;return[_0x3a4c7c[_0x3414ab(0x346)]['Data']];}async['waitConnected'](){if(!this['isConnected']())return new Promise(_0x660bf1=>{const _0x4114b0=a0_0x38d9,_0x3fc661=this[_0x4114b0(0x93e)][_0x4114b0(0x438)](_0x255bec=>{const _0x3d8d11=_0x4114b0;_0x255bec===_0x72eaac['ConnectionState'][_0x3d8d11(0x5dc)]&&(_0x3fc661(),_0x660bf1());});});}async[_0x3149ab(0x794)](_0x3035bd){const _0x3bc672=_0x3149ab;if(this[_0x3bc672(0x488)]!==_0x72eaac['ConnectionState'][_0x3bc672(0x5dc)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x3035bd['destinationIds']&&0x1===_0x3035bd[_0x3bc672(0x249)][_0x3bc672(0x878)]?await this['publish'](_0x3035bd[_0x3bc672(0x249)][0x0],JSON[_0x3bc672(0x31d)](_0x3035bd)):_0x5b2279[_0x3bc672(0x1be)](_0x3bc672(0x310),{'clusterId':this['clusterId'],'nodeId':this[_0x3bc672(0x720)](),'nodeType':this[_0x3bc672(0x9ba)]['type']});}async[_0x3149ab(0x415)](_0xa7ca41,_0x4321c4){const _0x5699e9=_0x3149ab;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x5b2279[_0x5699e9(0x66c)](_0x44d495[_0x5699e9(0x86c)],_0x5699e9(0x9a2),this['getLocalId'](),_0x4321c4),await this['client'][_0x5699e9(0x79f)]({'query':_0x5699e9(0xa55),'variables':{'name':await this[_0x5699e9(0x7d6)](_0xa7ca41),'data':_0x4321c4}});}async[_0x3149ab(0x438)](){const _0x3a34b6=_0x3149ab;if(this['subscription'])return;if(!this[_0x3a34b6(0x566)])throw new Error(_0x3a34b6(0x97a));_0x5b2279[_0x3a34b6(0x66c)](_0x44d495[_0x3a34b6(0x86c)],_0x3a34b6(0x62e),this[_0x3a34b6(0x720)]());const _0xcc08f8=await this[_0x3a34b6(0x566)][_0x3a34b6(0x79f)]({'query':_0x3a34b6(0x226),'variables':{'name':await this[_0x3a34b6(0x7d6)]()},'authToken':await this[_0x3a34b6(0x56e)]['getIdToken']()},{'Authorization':await this['authService'][_0x3a34b6(0x9ee)]()});this[_0x3a34b6(0x9c1)]=_0xcc08f8[_0x3a34b6(0x438)]({'next':({data:_0x274038})=>{const _0x52777a=_0x3a34b6,_0xfa91a4=JSON[_0x52777a(0x39a)](_0x274038[_0x52777a(0x438)][_0x52777a(0x9b8)]);!_0x114893(_0xfa91a4,this[_0x52777a(0x720)]())&&_0x6564fc(_0xfa91a4,this[_0x52777a(0x720)]())&&this[_0x52777a(0x360)][_0x52777a(0x415)](_0xfa91a4);},'error':console[_0x3a34b6(0x66c)]});}async['getHash'](_0x53cdf){const _0x5dd1cc=_0x3149ab,_0x3f8d21=await crypto[_0x5dd1cc(0x51e)]['digest'](_0x5dd1cc(0x62c),new TextEncoder()[_0x5dd1cc(0x501)](this[_0x5dd1cc(0x164)]+'-'+this[_0x5dd1cc(0x8ae)]+'-'+(_0x53cdf??this[_0x5dd1cc(0x720)]())));return Array['from'](new Uint8Array(_0x3f8d21))['map'](_0x4cab79=>_0x4cab79[_0x5dd1cc(0x50d)](0x10)[_0x5dd1cc(0x756)](0x2,'0'))[_0x5dd1cc(0x16a)]('');}}!function(_0x4c2f5f){const _0x22f8b9=_0x3149ab;_0x4c2f5f[_0x4c2f5f[_0x22f8b9(0x4e2)]=0x0]=_0x22f8b9(0x4e2),_0x4c2f5f[_0x4c2f5f['Remove']=0x1]=_0x22f8b9(0x231),_0x4c2f5f[_0x4c2f5f['Update']=0x2]=_0x22f8b9(0x89f),_0x4c2f5f[_0x4c2f5f['RemoteAdd']=0x3]=_0x22f8b9(0x500),_0x4c2f5f[_0x4c2f5f[_0x22f8b9(0x5ca)]=0x4]=_0x22f8b9(0x5ca);}(_0x583eef||(_0x583eef={}));const _0x26b813='0',_0x2dca6d='chunk',_0x4f55cb=_0x2eb4f7,_0x115a7d=0x60000;class _0xa8233{[_0x3149ab(0x8ae)];[_0x3149ab(0x9ba)];['remoteId'];[_0x3149ab(0x8d2)];[_0x3149ab(0x5db)];[_0x3149ab(0x928)];[_0x3149ab(0x986)];[_0x3149ab(0x8cf)];[_0x3149ab(0x4f4)]=0x1;['systemTopic'];[_0x3149ab(0x652)]=[];[_0x3149ab(0x114)]=[];[_0x3149ab(0x814)];constructor(_0x2d0146,_0x7f80d1,_0x2167fd,_0x406f82,_0x39fe3e,_0x547ad0){const _0x4213db=_0x3149ab;this[_0x4213db(0x8ae)]=_0x2d0146,this[_0x4213db(0x9ba)]=_0x7f80d1,this[_0x4213db(0x8b4)]=_0x2167fd,this[_0x4213db(0x8d2)]=_0x406f82,this[_0x4213db(0x5db)]=_0x39fe3e,this['connectionConstructor']=_0x547ad0,this[_0x4213db(0x986)]=new this[(_0x4213db(0x928))]({'handshakeServers':this[_0x4213db(0x8d2)]}),this[_0x4213db(0x71c)]();}['close'](){this['stopConnection']();}[_0x3149ab(0xa78)](_0x4eee59){const _0x39cfef=_0x3149ab;this[_0x39cfef(0x5db)]=_0x4eee59;}async[_0x3149ab(0x4b1)](_0xa49529,_0x34b6a0){const _0x2b82da=_0x3149ab;if(_0x34b6a0===this[_0x2b82da(0x4f4)])for(const _0xd76584 of _0xa49529){if(!this[_0x2b82da(0x986)][_0x2b82da(0x650)])return this[_0x2b82da(0x1a1)](_0xd76584);try{await this[_0x2b82da(0x986)][_0x2b82da(0x6d1)](_0xd76584);}catch(_0x3bb26c){this[_0x2b82da(0x1a1)](_0xd76584);}}}['isConnected'](){const _0x1f846c=_0x3149ab;return this[_0x1f846c(0x10c)](),_0x1f846c(0x713)===this['connection'][_0x1f846c(0x488)]&&[_0x1f846c(0x713),'completed'][_0x1f846c(0x24c)](this['connection'][_0x1f846c(0x7f9)])&&'closed'!==this[_0x1f846c(0x986)]['signalingState']&&_0x1f846c(0x2d5)===this[_0x1f846c(0x8cf)]?.['state'];}['registerSystemPublisher'](_0x330a42){const _0x32062d=_0x3149ab;this[_0x32062d(0x364)]=_0x330a42;}[_0x3149ab(0x8bd)](){delete this['systemTopic'];}[_0x3149ab(0x92a)](_0xfe37cb){const _0x27d0fe=_0x3149ab;this['stopConnection'](),this[_0x27d0fe(0x986)]=new this['connectionConstructor']({'handshakeServers':this[_0x27d0fe(0x8d2)]}),_0xfe37cb?this[_0x27d0fe(0x4f4)]=_0xfe37cb:this['currentVersion']+=0x1,this[_0x27d0fe(0x71c)]();}[_0x3149ab(0x6c2)](){const _0x8f87d2=_0x3149ab;this[_0x8f87d2(0x114)][_0x8f87d2(0x1d0)](_0x2f501c=>{const _0x5c1b59=_0x8f87d2;try{this[_0x5c1b59(0x986)][_0x5c1b59(0x6d1)](_0x2f501c);}catch(_0x55b9ec){}}),this[_0x8f87d2(0x114)]=[];}[_0x3149ab(0x228)](_0x3796a8,_0x4e820f){const _0x16bf1d=_0x3149ab;if(!this[_0x16bf1d(0x364)])throw new _0x224ab2(_0x224ab2['codes'][_0x16bf1d(0x7e2)],{'content':_0x3796a8});const _0x4cdbc5={'sourceId':this[_0x16bf1d(0x9ba)][_0x16bf1d(0x394)](),'destinationIds':[this[_0x16bf1d(0x8b4)]],'propagate':this['connectionType']!==_0x1ae943[_0x16bf1d(0x2d0)],'retry':this[_0x16bf1d(0x5db)]!==_0x1ae943['Core'],'messageType':_0x23b53c[_0x16bf1d(0x5d8)],'content':_0x3796a8};_0x4e820f&&(_0x4cdbc5[_0x16bf1d(0x7ae)]=_0x4e820f),this[_0x16bf1d(0x364)]['publish'](_0x4cdbc5);}[_0x3149ab(0x71c)](){const _0x599d16=_0x3149ab;this[_0x599d16(0x986)][_0x599d16(0x62b)]=()=>{const _0x342ad1=_0x599d16;_0x342ad1(0x3a5)===this['connection'][_0x342ad1(0x32d)]&&this[_0x342ad1(0x652)][_0x342ad1(0x878)]>0x0&&(this[_0x342ad1(0x814)]&&clearTimeout(this[_0x342ad1(0x814)]),this[_0x342ad1(0x814)]=setTimeout(()=>{const _0x495bde=_0x342ad1;delete this['handshakeDebounce'],this[_0x495bde(0x11d)](),this[_0x495bde(0x652)]=[];},0x1f4));},this[_0x599d16(0x986)][_0x599d16(0x159)]=_0x3c9ce2=>{const _0x47d15f=_0x599d16;_0x3c9ce2[_0x47d15f(0x1ce)]&&this[_0x47d15f(0x652)][_0x47d15f(0x7e8)](_0x3c9ce2[_0x47d15f(0x1ce)]);};}[_0x3149ab(0x86d)](){const _0x33e03b=_0x3149ab;clearTimeout(this[_0x33e03b(0x814)]),delete this[_0x33e03b(0x814)],this[_0x33e03b(0x652)]=[],this['pendingHandshakeCandidates']=[],this[_0x33e03b(0x8cf)]&&(this[_0x33e03b(0x8cf)][_0x33e03b(0x64c)]=null,this['dataChannel'][_0x33e03b(0x451)]=null,this[_0x33e03b(0x8cf)][_0x33e03b(0x11b)](),delete this[_0x33e03b(0x8cf)]),this['connection']['onGatheringStateChange']=null,this[_0x33e03b(0x986)][_0x33e03b(0x159)]=null,this[_0x33e03b(0x986)][_0x33e03b(0x78b)]=null,this[_0x33e03b(0x986)][_0x33e03b(0x295)]=null,this[_0x33e03b(0x986)]['onTrack']=null,this['connection'][_0x33e03b(0x4df)]=null,this[_0x33e03b(0x986)][_0x33e03b(0x11b)]();}[_0x3149ab(0x1a1)](_0x52df7d){const _0x3da6b1=_0x3149ab;this[_0x3da6b1(0x114)][_0x3da6b1(0x7e8)](_0x52df7d);}[_0x3149ab(0x10c)](){const _0x38fe50=_0x3149ab;_0x5b2279['log'](_0x44d495[_0x38fe50(0x966)],'Base\x20Peer\x20Connection',{'localId':this[_0x38fe50(0x9ba)][_0x38fe50(0x394)](),'remoteId':this['remoteId'],'connectionState':this[_0x38fe50(0x986)][_0x38fe50(0x488)],'handshakeState':this[_0x38fe50(0x986)][_0x38fe50(0x7f9)],'signalingState':this[_0x38fe50(0x986)][_0x38fe50(0x729)],'dataChannelState':this[_0x38fe50(0x8cf)]?.[_0x38fe50(0x911)]});}}function _0xc182b2(_0x441af9,_0x31a81c){const _0x677cb=_0x3149ab;_0x31a81c[_0x677cb(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x677cb(0x5d8)],'content':_0x441af9});}class _0x8ed084{static [_0x3149ab(0x663)];[_0x3149ab(0x7a5)]=[];[_0x3149ab(0xa01)];constructor(){setInterval(()=>{const _0x3d71a5=a0_0x38d9;this[_0x3d71a5(0x7a5)][_0x3d71a5(0x1d0)](_0x4a392d=>{const _0x899c7f=_0x3d71a5;if(Date[_0x899c7f(0x3fe)]()-_0x4a392d[_0x899c7f(0xad4)]>_0x4a392d[_0x899c7f(0x5b6)]){try{_0x4a392d[_0x899c7f(0x141)]();}catch(_0x4c959f){}_0x4a392d[_0x899c7f(0xad4)]=Date['now']();}});},0x64);}static[_0x3149ab(0x24f)](){const _0xbb445b=_0x3149ab;return _0x8ed084[_0xbb445b(0x663)]||(_0x8ed084[_0xbb445b(0x663)]=new _0x8ed084()),_0x8ed084[_0xbb445b(0x663)];}[_0x3149ab(0x29d)](_0x330661){const _0x169e48=_0x3149ab,_0x41d780=this[_0x169e48(0x633)](_0x330661),_0x32b3d0=_0x330661[_0x169e48(0x910)]();_0x32b3d0&&_0x41d780&&(_0x32b3d0[_0x169e48(0x5e2)]['value']=0.001,_0x41d780['connect'](_0x32b3d0),_0x32b3d0[_0x169e48(0x50c)](_0x330661['destination']),_0x41d780[_0x169e48(0xa08)]());}['stopNoThrottlingHack'](){const _0x3441b9=_0x3149ab;this[_0x3441b9(0xa01)]&&(this['source'][_0x3441b9(0x6f8)](),this[_0x3441b9(0xa01)]['disconnect'](),this[_0x3441b9(0xa01)]=void 0x0);}['wait'](_0x3c8259){return new Promise(_0x4f585d=>{setTimeout(_0x4f585d,_0x3c8259);});}[_0x3149ab(0x589)](_0x585a10,_0x5d5d38){const _0x4673b1=_0x3149ab;return this[_0x4673b1(0x7a5)][_0x4673b1(0x7e8)]({'callback':_0x585a10,'interval':_0x5d5d38,'lastExecuted':Date[_0x4673b1(0x3fe)]()}),()=>{const _0x1080af=_0x4673b1;this[_0x1080af(0x7a5)]=this[_0x1080af(0x7a5)][_0x1080af(0x683)](_0xdd3a02=>_0xdd3a02[_0x1080af(0x141)]!==_0x585a10);};}[_0x3149ab(0x633)](_0x77c466){const _0x54c411=_0x3149ab;if(_0x77c466['createConstantSource'])return _0x77c466[_0x54c411(0x633)]();const _0x46cf3f=_0x77c466[_0x54c411(0x333)](),_0x530bb3=_0x77c466[_0x54c411(0x536)](0x1,0x1,_0x77c466[_0x54c411(0xa5b)]);return _0x530bb3[_0x54c411(0x5be)](0x0)[0x0]=0xa,_0x46cf3f[_0x54c411(0x4a9)]=_0x530bb3,_0x46cf3f[_0x54c411(0x74a)]=!0x0,_0x46cf3f;}}const _0x39ab67=_0x8ed084[_0x3149ab(0x24f)]();class _0x290834 extends _0xa8233{[_0x3149ab(0x759)]=_0xc97be1();[_0x3149ab(0x309)]=_0xc97be1();[_0x3149ab(0x758)]=_0xc97be1();['receivers']=new Map();[_0x3149ab(0x9db)]=new Map();[_0x3149ab(0x294)];[_0x3149ab(0xa86)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x3149ab(0x844)]=0x0;[_0x3149ab(0x3f0)]=_0x74eb90(_0x3149ab(0x92b),_0x44d495[_0x3149ab(0x5c9)]);[_0x3149ab(0x11b)](){const _0x2a417a=_0x3149ab;this['clearWaitSuccess'](),this[_0x2a417a(0x38b)]['clear'](),super[_0x2a417a(0x11b)]();}async[_0x3149ab(0x42b)](_0x545944,_0x247808){const _0x441f22=_0x3149ab;this['currentVersion']=_0x247808,this['clearWaitSuccess']();const _0x33d1e0=await this[_0x441f22(0x986)]['createAnswer'](_0x545944);this[_0x441f22(0x6c2)]();const _0x472a14=(0x0,_0x19ce97['v4'])();this[_0x441f22(0x228)]({'type':_0x2d0fa6[_0x441f22(0xa38)],'answer':_0x33d1e0,'version':_0x247808,'connectionType':this[_0x441f22(0x5db)]},_0x472a14),this['connectionType']===_0x1ae943[_0x441f22(0x2d0)]&&(this[_0x441f22(0x294)]=_0x39ab67[_0x441f22(0x589)](()=>{const _0x507ad7=_0x441f22;this[_0x507ad7(0x228)]({'type':_0x2d0fa6[_0x507ad7(0xa38)],'answer':_0x33d1e0,'version':_0x247808,'connectionType':this[_0x507ad7(0x5db)]},_0x472a14);},0x1388));}[_0x3149ab(0x63a)](){const _0x52e313=_0x3149ab;this[_0x52e313(0x7f5)]();}[_0x3149ab(0x772)](_0xb1b8ff){const _0x530185=_0x3149ab;this[_0x530185(0x92a)](_0xb1b8ff),this[_0x530185(0x228)]({'type':_0x2d0fa6['Restart']});}async[_0x3149ab(0x403)](){const _0x4b3aee=_0x3149ab;this['systemTopic']&&(await this[_0x4b3aee(0x986)][_0x4b3aee(0xa69)](this['receivers'],(_0x2b4ee9,_0x459295)=>{const _0x424ef0=_0x4b3aee;_0xc182b2({'type':_0x2d0fa6['Stats'],'streamId':_0x459295,'nodeId':this[_0x424ef0(0x8b4)],'stats':_0x2b4ee9},this[_0x424ef0(0x364)]);}),this[_0x4b3aee(0x364)][_0x4b3aee(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c['PeerConnection'],'content':{'type':_0x2d0fa6['Stats'],'nodeId':this[_0x4b3aee(0x8b4)],'stats':{'origin':_0x182ae0['Receiver'],'timestamp':Date['now'](),'messagesReceived':this[_0x4b3aee(0xa86)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x4b3aee(0x844)],'systemMessages':this[_0x4b3aee(0x21d)]}}}));}[_0x3149ab(0x64c)](_0x23d98a){const _0x16c6af=_0x3149ab;return _0x2bdaff[_0x16c6af(0x939)]?this[_0x16c6af(0x759)][_0x16c6af(0x438)](_0x23d98a):this['messageCallback'][_0x16c6af(0x438)](_0x10a085=>{const _0x42c008=_0x16c6af;0x0===_0x10a085[_0x42c008(0x9e9)]&&_0x10a085[_0x42c008(0x782)]===_0x23b53c[_0x42c008(0x620)]&&this[_0x42c008(0x3f0)][_0x42c008(0x1da)][_0x42c008(0x66c)](_0x42c008(0x15a)+this[_0x42c008(0x8b4)],()=>_0x5ed8eb(_0x10a085)),_0x23d98a(_0x10a085);});}['onTrack'](_0x110890){const _0x2d4998=_0x3149ab;return this[_0x2d4998(0x309)][_0x2d4998(0x438)](({track:_0x55bc60,stream:_0x237c3c})=>_0x110890(_0x55bc60,_0x237c3c));}[_0x3149ab(0x44e)](_0x479dc1){const _0x4a4933=_0x3149ab;return this['removeTrackCallback'][_0x4a4933(0x438)](({track:_0x27e87f,stream:_0x343d82})=>_0x479dc1(_0x27e87f,_0x343d82));}[_0x3149ab(0x92a)](_0x1935ec){const _0x52a492=_0x3149ab;this[_0x52a492(0x7f5)](),this[_0x52a492(0x38b)][_0x52a492(0x1d0)](_0x4c0b14=>{const _0x25ac33=_0x52a492;_0x4c0b14[_0x25ac33(0x876)]();}),super['resetConnection'](_0x1935ec);}[_0x3149ab(0x11d)](){const _0x2ac3a=_0x3149ab;this[_0x2ac3a(0x228)]({'type':_0x2d0fa6[_0x2ac3a(0x692)],'candidates':this['handshakeCandidates'],'origin':_0x182ae0['Receiver'],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0x3149ab(0x71c)](){const _0x98ff74=_0x3149ab;super[_0x98ff74(0x71c)](),this[_0x98ff74(0x986)][_0x98ff74(0x20e)]=_0x198922=>{const _0x3ff291=_0x98ff74;_0x5b2279[_0x3ff291(0x66c)](_0x44d495['Connection'],_0x3ff291(0x664),this['localNode'][_0x3ff291(0x394)](),_0x198922),_0x198922[_0x3ff291(0x668)][0x0]['onremovetrack']=_0x3c399f=>{const _0x451aac=_0x3ff291;this[_0x451aac(0x38b)]['get'](_0x198922[_0x451aac(0x668)][0x0]['id'])?.[_0x451aac(0x979)](_0x3c399f[_0x451aac(0x611)]),0x0===this[_0x451aac(0x38b)][_0x451aac(0x524)](_0x198922[_0x451aac(0x668)][0x0]['id'])?.[_0x451aac(0x1fa)]&&this[_0x451aac(0x38b)][_0x451aac(0x979)](_0x198922[_0x451aac(0x668)][0x0]['id']),this[_0x451aac(0x758)][_0x451aac(0x415)]({'track':_0x3c399f['track'],'stream':_0x198922[_0x451aac(0x668)][0x0]});},this['receivers'][_0x3ff291(0x2a7)](_0x198922['streams'][0x0]['id'])||this[_0x3ff291(0x38b)][_0x3ff291(0x491)](_0x198922[_0x3ff291(0x668)][0x0]['id'],new Set()),this[_0x3ff291(0x38b)][_0x3ff291(0x524)](_0x198922[_0x3ff291(0x668)][0x0]['id'])['add'](_0x198922[_0x3ff291(0x611)]),this[_0x3ff291(0x309)]['publish']({'track':_0x198922[_0x3ff291(0x611)],'stream':_0x198922[_0x3ff291(0x668)][0x0]});},this[_0x98ff74(0x986)][_0x98ff74(0x4df)]=_0x2e2f3f=>{const _0x5a7f8d=_0x98ff74;this['dataChannel']=_0x2e2f3f[_0x5a7f8d(0x738)],this[_0x5a7f8d(0x8cf)][_0x5a7f8d(0x64c)]=_0x5bfe55=>{const _0x19fd9d=_0x5a7f8d;if(_0x5bfe55['data']!==_0x26b813)this[_0x19fd9d(0x217)](_0x5bfe55['data']);else{if(!this[_0x19fd9d(0x8cf)])return void _0x5b2279[_0x19fd9d(0x1be)]('missing-datachannel',{'clusterId':this[_0x19fd9d(0x8ae)],'nodeId':this[_0x19fd9d(0x9ba)][_0x19fd9d(0x394)](),'nodeType':this[_0x19fd9d(0x9ba)][_0x19fd9d(0x16c)],'remoteId':this[_0x19fd9d(0x8b4)],'data':{'connection':_0x19fd9d(0x2ff)}});if(_0x19fd9d(0x2d5)!==this[_0x19fd9d(0x8cf)][_0x19fd9d(0x911)])return;this['dataChannel']['send']('1');}};};}[_0x3149ab(0x217)](_0x11238e){const _0x1b3b81=_0x3149ab;if(_0x1b3b81(0x657)==typeof _0x11238e&&_0x11238e[_0x1b3b81(0xa2f)](_0x2dca6d))return this[_0x1b3b81(0xa86)]+=0x1,this[_0x1b3b81(0x4f8)]+=_0x11238e[_0x1b3b81(0x878)],this[_0x1b3b81(0x96d)](_0x11238e);setTimeout(()=>{const _0x1cedc3=_0x1b3b81,_0x145c98=Date[_0x1cedc3(0x3fe)]();let _0xe6f167;if((_0x11238e instanceof ArrayBuffer||_0x11238e[_0x1cedc3(0x878)]<=_0x4f55cb)&&(this[_0x1cedc3(0xa86)]+=0x1,this['bytesReceived']+=_0x11238e instanceof ArrayBuffer?_0x11238e[_0x1cedc3(0x352)]:_0x11238e['length']),_0x11238e instanceof ArrayBuffer){const [_0xee4d17,_0x50cf80]=this['splitParts'](_0x11238e);_0xe6f167=_0xee4d17,_0xe6f167[_0x1cedc3(0x130)][_0x1cedc3(0x9b8)]=_0x50cf80;}else _0xe6f167=JSON[_0x1cedc3(0x39a)](_0x11238e);if(0x0===_0xe6f167[_0x1cedc3(0x9e9)]){this[_0x1cedc3(0x21d)]['messages']['total']+=0x1;const {systemMessageType:_0x2be80b,systemContentMessageType:_0x267d30}=_0x5ed8eb(_0xe6f167);this[_0x1cedc3(0x21d)][_0x2be80b]||(this[_0x1cedc3(0x21d)][_0x2be80b]={[_0x267d30]:0x0}),this[_0x1cedc3(0x21d)][_0x2be80b][_0x267d30]||(this[_0x1cedc3(0x21d)][_0x2be80b][_0x267d30]=0x0),this[_0x1cedc3(0x21d)][_0x2be80b][_0x1cedc3(0x8fb)]||(this['systemMessagesReceived'][_0x2be80b][_0x1cedc3(0x8fb)]=0x0),this['systemMessagesReceived'][_0x2be80b][_0x267d30]+=0x1,this[_0x1cedc3(0x21d)][_0x2be80b][_0x1cedc3(0x8fb)]+=0x1;}this[_0x1cedc3(0x759)][_0x1cedc3(0x415)](_0xe6f167),this[_0x1cedc3(0x844)]+=Date[_0x1cedc3(0x3fe)]()-_0x145c98;},0x0);}[_0x3149ab(0x96d)](_0x1980f1){const _0x1596f2=_0x3149ab,_0x545d1d=_0x1980f1['split'](';'),_0x4d9d80=_0x545d1d[0x1],_0xe85a72=parseInt(_0x545d1d[0x2],0xa),_0x299e1c=parseInt(_0x545d1d[0x3],0xa),_0x5a89c7=_0x1980f1[_0x1596f2(0xabe)](_0x2dca6d+';'+_0x4d9d80+';'+_0xe85a72+';'+_0x299e1c+';','');this[_0x1596f2(0x9db)][_0x1596f2(0x2a7)](_0x4d9d80)||this[_0x1596f2(0x9db)][_0x1596f2(0x491)](_0x4d9d80,[]);const _0x5486f7=this[_0x1596f2(0x9db)]['get'](_0x4d9d80);_0x5486f7[_0xe85a72]=_0x5a89c7,_0x5486f7['length']===_0x299e1c&&(this[_0x1596f2(0x217)](_0x5486f7[_0x1596f2(0x16a)]('')),this[_0x1596f2(0x9db)][_0x1596f2(0x979)](_0x4d9d80));}[_0x3149ab(0x7f5)](){const _0x4ca1e5=_0x3149ab;this[_0x4ca1e5(0x294)]?.(),delete this[_0x4ca1e5(0x294)];}[_0x3149ab(0x8ba)](_0x906849){const _0x290290=_0x3149ab,_0x3b5e85=new TextDecoder()[_0x290290(0x4f6)](_0x906849);return JSON[_0x290290(0x39a)](_0x3b5e85);}[_0x3149ab(0x906)](_0x1b4c24){const _0xdaa6=_0x3149ab,_0x28c20c=new Uint8Array(_0x1b4c24[_0xdaa6(0x83b)](0x0,0x4)),_0x4f447b=new Uint32Array(_0x28c20c[_0xdaa6(0x4a9)])[0x0],_0x572e46=new Uint8Array(_0x1b4c24['slice'](0x4,0x4+_0x4f447b)),_0x2890a3=new Uint8Array(_0x1b4c24[_0xdaa6(0x83b)](0x4+_0x4f447b));return[this[_0xdaa6(0x8ba)](_0x572e46[_0xdaa6(0x4a9)]),_0x2890a3[_0xdaa6(0x4a9)]];}}const _0x31c335=0xc350;var _0x3b1894,_0x5af822;!function(_0x311a29){const _0x7a4348=_0x3149ab;_0x311a29[_0x311a29['High']=0x0]=_0x7a4348(0x27b),_0x311a29[_0x311a29[_0x7a4348(0x32e)]=0x1]=_0x7a4348(0x32e),_0x311a29[_0x311a29[_0x7a4348(0xa90)]=0x2]='Low';}(_0x3b1894||(_0x3b1894={}));class _0x64b04b extends _0xa8233{[_0x3149ab(0x8d7)];['maxBpp'];[_0x3149ab(0x2f9)]=new Map();[_0x3149ab(0x9ab)];['waitAnswer'];[_0x3149ab(0x891)];['isReconnecting']=!0x1;['connectionTimeout'];[_0x3149ab(0x1d7)];[_0x3149ab(0x80c)];[_0x3149ab(0x384)]=function(e,t=_0x3b1894,s=!0x1){const _0x4f84c2=_0x3149ab;let n=!0x1;const i=[];async function o(){const _0x3029d0=a0_0x38d9;if(!n){for(n=!0x0;i['some'](e=>e[_0x3029d0(0x8b0)]);){let t,n=0x0;for(const [e,s]of i[_0x3029d0(0x2ac)]())if(t=s[_0x3029d0(0xa7d)](),n=e,t)break;if(t)try{if(e instanceof _0x269071&&e[_0x3029d0(0x935)](t),e instanceof _0x169efa&&await e[_0x3029d0(0x935)](t),i[_0x3029d0(0x83b)](-0x1)[_0x3029d0(0x3da)](e=>e[_0x3029d0(0x8b0)]))continue;const s=i[_0x3029d0(0x878)]-0x1;n===s&&i[s][_0x3029d0(0x8b0)]&&await _0x39ab67[_0x3029d0(0x1a0)](0x0);}catch(o){s?i[n][_0x3029d0(0x7e8)](t,!0x1):i[n][_0x3029d0(0xaa6)](t,!0x1),await e[_0x3029d0(0x1a0)]();}}n=!0x1;}}return Object[_0x4f84c2(0x6da)](t)[_0x4f84c2(0x1d0)](e=>{const _0x41d5ed=_0x4f84c2;_0x41d5ed(0x657)!=typeof e&&(i[e]=_0x461dfd(o));}),{'queues':i};}(new _0x269071(this[_0x3149ab(0x794)][_0x3149ab(0x26b)](this),this[_0x3149ab(0x106)][_0x3149ab(0x26b)](this)));[_0x3149ab(0x781)]=0x0;['bytesSent']=0x0;[_0x3149ab(0x9a6)]=0x0;['roundTripTime']=0x0;[_0x3149ab(0x99c)];['loggingCycle']=_0x74eb90(_0x3149ab(0x67d),_0x44d495[_0x3149ab(0x198)]);constructor(_0x366d7f,_0x158bd6,_0x58c6e7,_0x3c154d,_0x5a6e14,_0x261743,_0x563cf4,_0x1b10d7){const _0x44aae3=_0x3149ab;super(_0x366d7f,_0x158bd6,_0x58c6e7,_0x3c154d,_0x5a6e14,_0x1b10d7),this[_0x44aae3(0x8d7)]=_0x261743,this[_0x44aae3(0x1d5)]=_0x563cf4;}[_0x3149ab(0x11b)](){const _0x2b1e03=_0x3149ab;this[_0x2b1e03(0x40f)](),this['clearHeartbeat'](),delete this[_0x2b1e03(0x891)],this[_0x2b1e03(0x93b)](),this['clearConnectionTimeout'](),this[_0x2b1e03(0x105)](),this[_0x2b1e03(0x2f9)]['clear'](),this[_0x2b1e03(0x51d)]=!0x1,this[_0x2b1e03(0x384)][_0x2b1e03(0x6d2)][_0x2b1e03(0x1d0)](_0x35219b=>_0x35219b[_0x2b1e03(0x876)]()),this[_0x2b1e03(0x2e0)](),super['close']();}[_0x3149ab(0x8cc)](){const _0x159716=_0x3149ab;return!!this[_0x159716(0x891)]&&super[_0x159716(0x8cc)]()&&Date[_0x159716(0x3fe)]()-this[_0x159716(0x891)]<0x3a98;}async[_0x3149ab(0x403)](){const _0x2a3867=_0x3149ab;this[_0x2a3867(0x364)]&&(await this[_0x2a3867(0x986)]['collectSendersStats'](this[_0x2a3867(0x2f9)],(_0x3bf4f7,_0x4cd570)=>{const _0x3425b0=_0x2a3867;_0xc182b2({'type':_0x2d0fa6[_0x3425b0(0x843)],'streamId':_0x4cd570,'nodeId':this[_0x3425b0(0x8b4)],'stats':_0x3bf4f7},this[_0x3425b0(0x364)]);}),this['systemTopic']['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x2a3867(0x5d8)],'content':{'type':_0x2d0fa6['Stats'],'nodeId':this[_0x2a3867(0x8b4)],'stats':{'origin':_0x182ae0[_0x2a3867(0x457)],'timestamp':Date[_0x2a3867(0x3fe)](),'messagesSent':this[_0x2a3867(0x781)],'bytesSent':this[_0x2a3867(0x37d)],'timeSending':this['timeSending'],'roundTripTime':this[_0x2a3867(0xa50)]}}}));}async[_0x3149ab(0x1d2)](_0x4db006){const _0xc91d98=_0x3149ab;_0x5b2279['log'](_0x44d495[_0xc91d98(0x3ca)],_0xc91d98(0x7eb),this[_0xc91d98(0x9ba)][_0xc91d98(0x394)](),this[_0xc91d98(0x8b4)]),this[_0xc91d98(0x93b)](),this[_0xc91d98(0x379)](),this[_0xc91d98(0x105)](),this[_0xc91d98(0x2b3)]=setTimeout(()=>{const _0x1bd2b6=_0xc91d98;this[_0x1bd2b6(0x7c6)]();},0x7530),this['dataChannel']||(this[_0xc91d98(0x8cf)]=this[_0xc91d98(0x986)]['createDataChannel'](_0xc91d98(0x9b8)),this[_0xc91d98(0x8cf)][_0xc91d98(0x518)]=_0x115a7d,this[_0xc91d98(0x8cf)][_0xc91d98(0x451)]=()=>{const _0x3b9804=_0xc91d98;this[_0x3b9804(0x99c)]=setTimeout(()=>{const _0x5e082f=_0x3b9804;delete this[_0x5e082f(0x99c)],['connecting',_0x5e082f(0x2d5)]['includes'](this[_0x5e082f(0x8cf)]?.['state']??'')||this[_0x5e082f(0x7c6)]();},0xfa);});const _0x47120a=await this['connection'][_0xc91d98(0x1d2)](_0x4db006);this['lastHeartbeat']||(this[_0xc91d98(0x891)]=Date[_0xc91d98(0x3fe)]());const _0x3d2d35=(0x0,_0x19ce97['v4'])();this[_0xc91d98(0x228)]({'type':_0x2d0fa6[_0xc91d98(0x272)],'offer':_0x47120a,'version':this[_0xc91d98(0x4f4)],'connectionType':this['connectionType']},_0x3d2d35),this['connectionType']===_0x1ae943['Core']&&(this[_0xc91d98(0xae7)]=_0x39ab67['setInterval'](()=>{const _0x4693e0=_0xc91d98;this['publishSystemMessage']({'type':_0x2d0fa6[_0x4693e0(0x272)],'offer':_0x47120a,'version':this[_0x4693e0(0x4f4)],'connectionType':this[_0x4693e0(0x5db)]},_0x3d2d35);},0x1388));}async['handleAnswer'](_0x235373,_0x4fec88){const _0x24083a=_0x3149ab;if(_0x4fec88===this['currentVersion']){this[_0x24083a(0x105)]();try{await this[_0x24083a(0x986)][_0x24083a(0x70d)](_0x235373,this[_0x24083a(0x1d2)][_0x24083a(0x26b)](this)),this[_0x24083a(0x6c2)](),this['clearConnectionTimeout'](),this[_0x24083a(0xa5f)]();}catch(_0x1b5fb9){this[_0x24083a(0x7c6)]();}}}[_0x3149ab(0x7f3)](_0x1e36dc){const _0xf8586a=_0x3149ab;if(!this[_0xf8586a(0x8cf)])throw new _0x224ab2(_0x224ab2['codes'][_0xf8586a(0x5ec)],{'message':_0xf8586a(0x5b1),'localId':this[_0xf8586a(0x9ba)]['getId'](),'remoteId':this[_0xf8586a(0x8b4)],'eventMessage':_0x1e36dc});if(_0xf8586a(0x2d5)!==this[_0xf8586a(0x8cf)][_0xf8586a(0x911)])throw new _0x224ab2(_0x224ab2['codes'][_0xf8586a(0x5ec)],{'message':_0xf8586a(0x7cb),'localId':this[_0xf8586a(0x9ba)][_0xf8586a(0x394)](),'remoteId':this['remoteId'],'eventMessage':_0x1e36dc});let _0x49a0d0;if(_0x1e36dc[_0xf8586a(0x130)][_0xf8586a(0x9b8)]instanceof ArrayBuffer){const _0x3967f0=_0x1e36dc[_0xf8586a(0x130)][_0xf8586a(0x9b8)];_0x1e36dc={..._0x1e36dc,'content':{..._0x1e36dc[_0xf8586a(0x130)],'data':void 0x0}},_0x49a0d0=this[_0xf8586a(0x4fe)](_0x1e36dc,_0x3967f0);}else _0x49a0d0=JSON['stringify'](_0x1e36dc);if(_0xf8586a(0x657)==typeof _0x49a0d0&&_0x49a0d0[_0xf8586a(0x878)]>_0x4f55cb)return void this[_0xf8586a(0x9a4)](_0x1e36dc,_0x49a0d0);0x0===_0x1e36dc['topicLabel']&&_0x1e36dc[_0xf8586a(0x782)]===_0x23b53c[_0xf8586a(0x620)]&&this[_0xf8586a(0x3f0)][_0xf8586a(0x1da)][_0xf8586a(0x9ad)](()=>_0x5b2279['log'](_0x44d495[_0xf8586a(0x198)],_0xf8586a(0x75d),this[_0xf8586a(0x8b4)],_0x5ed8eb(_0x1e36dc)),void 0x0);const _0xf48307=0x0===_0x1e36dc[_0xf8586a(0x9e9)]&&[_0x23b53c['Subscription'],_0x23b53c[_0xf8586a(0x5d8)]][_0xf8586a(0x24c)](_0x1e36dc[_0xf8586a(0x782)])?_0x3b1894['High']:_0x1e36dc instanceof ArrayBuffer?_0x3b1894[_0xf8586a(0xa90)]:_0x3b1894['Medium'];this[_0xf8586a(0x839)](_0x49a0d0,_0xf48307);}['addTrack'](_0x326e95,_0x1b7028,_0x28eb3,_0x23448f){const _0x38b343=_0x3149ab,_0x885a90=(_0x5628bf=this[_0x38b343(0x8d7)],_0x1659c0=this[_0x38b343(0x1d5)],Math[_0x38b343(0x735)](0xe1000*_0x5628bf*_0x1659c0));var _0x5628bf,_0x1659c0;const _0x26cc5a=this[_0x38b343(0x2f9)][_0x38b343(0x524)](_0x1b7028['id'])||{'stream':_0x1b7028,'priority':_0x28eb3,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x885a90,'maxBitrate':_0x885a90,'framerate':this[_0x38b343(0x8d7)],'maxFramerate':this[_0x38b343(0x8d7)],'tracks':{},'params':_0x23448f},_0x445fb4=_0x26cc5a[_0x38b343(0xa6e)][_0x326e95['kind']]||{'track':_0x326e95};if(_0x445fb4[_0x38b343(0x18f)]?(_0x445fb4[_0x38b343(0x611)]=_0x326e95,this[_0x38b343(0x986)]['replaceTrack'](_0x326e95,_0x445fb4['sender'])):_0x445fb4[_0x38b343(0x18f)]=this[_0x38b343(0x986)][_0x38b343(0x35f)](_0x326e95,_0x1b7028),_0x26cc5a['tracks'][_0x326e95[_0x38b343(0x60e)]]=_0x445fb4,_0x23448f&&(_0x26cc5a[_0x38b343(0x48b)]=_0x23448f),_0x23448f&&'video'===_0x23448f[_0x38b343(0x60e)]&&_0x23448f[_0x38b343(0x81a)]&&_0x23448f[_0x38b343(0x64b)]&&(_0x26cc5a[_0x38b343(0x914)]=this[_0x38b343(0x413)](_0x23448f[_0x38b343(0x81a)],_0x23448f['maxResolution']),_0x26cc5a[_0x38b343(0x48f)]=_0x26cc5a['resolutionScale'],_0x26cc5a['tracks']['video']&&_0x26cc5a[_0x38b343(0xa6e)][_0x38b343(0x717)]['sender'])){const _0x3309a9=_0x26cc5a[_0x38b343(0xa6e)][_0x38b343(0x717)][_0x38b343(0x18f)];this[_0x38b343(0x986)][_0x38b343(0x6b0)](_0x3309a9,Math[_0x38b343(0x735)](0xa*_0x26cc5a[_0x38b343(0x914)])/0xa,_0x26cc5a[_0x38b343(0x795)],_0x26cc5a[_0x38b343(0x1cd)],_0x26cc5a[_0x38b343(0x804)]);}this['senders'][_0x38b343(0x491)](_0x1b7028['id'],_0x26cc5a);}[_0x3149ab(0x362)](_0x3391b,_0x4a72bc){const _0x185f3a=_0x3149ab,_0x50f5f2=this[_0x185f3a(0x2f9)][_0x185f3a(0x524)](_0x3391b['id']);if(_0x50f5f2&&_0x50f5f2[_0x185f3a(0x804)]!==_0x4a72bc&&(_0x50f5f2[_0x185f3a(0x804)]=_0x4a72bc,_0x50f5f2[_0x185f3a(0xa6e)][_0x185f3a(0x717)]&&_0x50f5f2[_0x185f3a(0xa6e)][_0x185f3a(0x717)][_0x185f3a(0x18f)])){const _0x4abe3b=_0x50f5f2['tracks'][_0x185f3a(0x717)][_0x185f3a(0x18f)];this[_0x185f3a(0x986)]['setEncodingParameters'](_0x4abe3b,Math[_0x185f3a(0x735)](0xa*_0x50f5f2[_0x185f3a(0x914)])/0xa,_0x50f5f2[_0x185f3a(0x795)],_0x50f5f2[_0x185f3a(0x1cd)],_0x50f5f2['priority']);}}['setParams'](_0x3887aa,_0x11686f){const _0x115a13=_0x3149ab,_0x32f926=this[_0x115a13(0x2f9)][_0x115a13(0x524)](_0x3887aa['id']);if(_0x32f926){if(_0x32f926[_0x115a13(0x48b)]=_0x11686f,_0x11686f&&_0x115a13(0x717)===_0x11686f[_0x115a13(0x60e)]&&_0x11686f[_0x115a13(0x81a)]&&_0x11686f[_0x115a13(0x64b)]){if(_0x32f926[_0x115a13(0x48f)]=this[_0x115a13(0x413)](_0x11686f[_0x115a13(0x81a)],_0x11686f['maxResolution']),_0x32f926[_0x115a13(0x914)]<_0x32f926['minResolutionScale']&&(_0x32f926[_0x115a13(0x914)]=_0x32f926[_0x115a13(0x48f)]),_0x32f926['tracks'][_0x115a13(0x717)]&&_0x32f926[_0x115a13(0xa6e)][_0x115a13(0x717)][_0x115a13(0x18f)]){const _0x2ab534=_0x32f926['tracks'][_0x115a13(0x717)][_0x115a13(0x18f)];this[_0x115a13(0x986)][_0x115a13(0x6b0)](_0x2ab534,Math['floor'](0xa*_0x32f926[_0x115a13(0x914)])/0xa,_0x32f926[_0x115a13(0x795)],_0x32f926[_0x115a13(0x1cd)],_0x32f926[_0x115a13(0x804)]);}this[_0x115a13(0x40f)](),this[_0x115a13(0x9ed)]();}this[_0x115a13(0x2f9)]['set'](_0x3887aa['id'],_0x32f926);}}['removeTrack'](_0xa4d1dc,_0x51ddea){const _0x590834=_0x3149ab,_0x77f136=this[_0x590834(0x2f9)][_0x590834(0x524)](_0x51ddea['id']);if(_0x77f136){const _0x17db24=_0x77f136['tracks'][_0xa4d1dc[_0x590834(0x60e)]];_0x17db24&&(_0x17db24[_0x590834(0x18f)]&&this[_0x590834(0x986)]['removeTrack'](_0x17db24[_0x590834(0x18f)]),_0x17db24[_0x590834(0x611)]=void 0x0);}}['applyRemediation'](_0x3099de){const _0x5bda65=_0x3149ab;this[_0x5bda65(0x40f)]();const _0x531082=function(_0x5099d8,_0x6e8518){const _0x27493e=_0x5bda65;return _0x5099d8[_0x27493e(0x69d)]((_0x2c181e,_0x2a6ee4)=>_0x6e8518[_0x27493e(0x9f6)]===_0x30ed0e[_0x27493e(0x61b)]?_0x2a6ee4[_0x27493e(0x804)]-_0x2c181e[_0x27493e(0x804)]:_0x2c181e[_0x27493e(0x804)]-_0x2a6ee4[_0x27493e(0x804)])['find'](_0x43a871=>function(_0x509ec9,_0x594e09){const _0x198c8c=_0x27493e;if(_0x594e09[_0x198c8c(0x9f6)]===_0x30ed0e[_0x198c8c(0x61b)]){if(_0x594e09[_0x198c8c(0x98e)]===_0x39f626[_0x198c8c(0x808)])return _0x509ec9[_0x198c8c(0x914)]<0x4||_0x509ec9[_0x198c8c(0x653)]>0xf;if(_0x594e09[_0x198c8c(0x98e)]===_0x39f626[_0x198c8c(0x968)])return _0x509ec9[_0x198c8c(0x618)]>_0x31c335;}return _0x509ec9['resolutionScale']>_0x509ec9['minResolutionScale']||_0x509ec9[_0x198c8c(0x795)]<_0x509ec9[_0x198c8c(0x653)]||_0x509ec9[_0x198c8c(0x1cd)]<_0x509ec9[_0x198c8c(0x618)];}(_0x43a871,_0x6e8518));}(Array[_0x5bda65(0x271)](this[_0x5bda65(0x2f9)][_0x5bda65(0x6da)]()),_0x3099de);if(_0x531082&&(function(_0x103f1a,_0x4ae5ea){const _0x57813b=_0x5bda65;_0x103f1a['tracks']['video']&&_0x103f1a[_0x57813b(0xa6e)][_0x57813b(0x717)][_0x57813b(0x18f)]&&(_0x103f1a[_0x57813b(0x914)]=function(_0x4bb002,_0x4345f5,_0x25e2d8){const _0x1e1adc=_0x57813b;switch(_0x25e2d8[_0x1e1adc(0x9f6)]){case _0x30ed0e[_0x1e1adc(0x61b)]:_0x25e2d8[_0x1e1adc(0x98e)]===_0x39f626[_0x1e1adc(0x808)]&&(_0x4bb002+=0.5)>0x4&&(_0x4bb002=0x4);break;case _0x30ed0e[_0x1e1adc(0x45b)]:(_0x4bb002-=0.5)<_0x4345f5&&(_0x4bb002=_0x4345f5);}return _0x4bb002;}(_0x103f1a[_0x57813b(0x914)],_0x103f1a[_0x57813b(0x48f)],_0x4ae5ea),_0x103f1a[_0x57813b(0x795)]=function(_0x3d459d,_0x3bce1f,_0x206bb9){const _0x67ed7a=_0x57813b;switch(_0x206bb9[_0x67ed7a(0x9f6)]){case _0x30ed0e[_0x67ed7a(0x61b)]:_0x206bb9[_0x67ed7a(0x98e)]===_0x39f626[_0x67ed7a(0x808)]&&(_0x3d459d-=0x3)<0xf&&(_0x3d459d=0xf);break;case _0x30ed0e[_0x67ed7a(0x45b)]:(_0x3d459d+=0x3)>_0x3bce1f&&(_0x3d459d=_0x3bce1f);}return _0x3d459d;}(_0x103f1a['framerate'],_0x103f1a[_0x57813b(0x653)],_0x4ae5ea),_0x103f1a[_0x57813b(0x1cd)]=function(_0x48c271,_0x27f3c6,_0x35fff2){const _0x3077dd=_0x57813b;switch(_0x35fff2[_0x3077dd(0x9f6)]){case _0x30ed0e['Downgrade']:_0x35fff2[_0x3077dd(0x98e)]===_0x39f626[_0x3077dd(0x968)]&&(_0x48c271*=0.75)<_0x31c335&&(_0x48c271=_0x31c335);break;case _0x30ed0e[_0x3077dd(0x45b)]:(_0x48c271*=1.25)>_0x27f3c6&&(_0x48c271=_0x27f3c6);}return _0x48c271;}(_0x103f1a[_0x57813b(0x1cd)],_0x103f1a['maxBitrate'],_0x4ae5ea));}(_0x531082,_0x3099de),_0x531082[_0x5bda65(0xa6e)][_0x5bda65(0x717)]&&_0x531082[_0x5bda65(0xa6e)]['video'][_0x5bda65(0x18f)])){const _0x15664c=_0x531082[_0x5bda65(0xa6e)][_0x5bda65(0x717)][_0x5bda65(0x18f)];this[_0x5bda65(0x986)][_0x5bda65(0x6b0)](_0x15664c,Math[_0x5bda65(0x735)](0xa*_0x531082['resolutionScale'])/0xa,_0x531082[_0x5bda65(0x795)],_0x531082[_0x5bda65(0x1cd)],_0x531082[_0x5bda65(0x804)]);}(_0x531082||_0x3099de['action']===_0x30ed0e[_0x5bda65(0x61b)])&&this[_0x5bda65(0x9ed)]();}[_0x3149ab(0x88f)](){const _0x596c9d=_0x3149ab;return this[_0x596c9d(0x384)][_0x596c9d(0x6d2)][_0x596c9d(0x399)]((_0x8cda74,_0x5e1385)=>_0x8cda74+_0x5e1385[_0x596c9d(0x1fa)],0x0)*_0x2eb4f7;}[_0x3149ab(0x261)](){const _0x37e49e=_0x3149ab;return this[_0x37e49e(0x8cf)]?.['bufferedAmount']??0x0;}[_0x3149ab(0x92a)](){const _0x5aa56c=_0x3149ab;super[_0x5aa56c(0x92a)](),this[_0x5aa56c(0x2e0)](),this[_0x5aa56c(0x105)](),this[_0x5aa56c(0x2f9)]['forEach'](_0x158855=>{const _0x3aab8a=_0x5aa56c;_0x158855['tracks'][_0x3aab8a(0x717)]&&(_0x158855[_0x3aab8a(0xa6e)]['video'][_0x3aab8a(0x18f)]=void 0x0),_0x158855['tracks'][_0x3aab8a(0x354)]&&(_0x158855[_0x3aab8a(0xa6e)]['audio']['sender']=void 0x0);}),this[_0x5aa56c(0x51d)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x5c3f4c=>{const _0x446b94=a0_0x38d9;if(!this[_0x446b94(0x8cf)]||_0x446b94(0x2d5)!==this[_0x446b94(0x8cf)][_0x446b94(0x911)])return await _0x39ab67[_0x446b94(0x1a0)](0x64),void _0x5c3f4c();this[_0x446b94(0x8cf)][_0x446b94(0x3d3)]<_0x115a7d?_0x5c3f4c():this[_0x446b94(0x8cf)][_0x446b94(0x144)]=()=>{const _0x498f80=_0x446b94;this[_0x498f80(0x8cf)]&&(this['dataChannel'][_0x498f80(0x144)]=null),_0x5c3f4c();};});}async[_0x3149ab(0x9a4)](_0x3d6f9c,_0x101c1d){const _0x27668e=_0x3149ab,_0x1bc60d=[];for(let _0x53f3ff=0x0;_0x53f3ff<_0x101c1d[_0x27668e(0x878)];_0x53f3ff+=_0x4f55cb)_0x1bc60d['push'](_0x101c1d[_0x27668e(0x83b)](_0x53f3ff,_0x53f3ff+_0x4f55cb));for(const _0x23dc46 of _0x1bc60d){for(;this[_0x27668e(0x384)]['queues'][_0x3b1894[_0x27668e(0xa90)]][_0x27668e(0x1fa)]>0x1;)await _0x39ab67[_0x27668e(0x1a0)](0x64);this[_0x27668e(0x839)](_0x2dca6d+';'+_0x3d6f9c['uuid']+';'+_0x1bc60d[_0x27668e(0x9b2)](_0x23dc46)+';'+_0x1bc60d[_0x27668e(0x878)]+';'+_0x23dc46,_0x3b1894[_0x27668e(0xa90)]);}}async['sendWithRetry'](_0xb22dce,_0x32a6c9){const _0x4cac08=_0x3149ab;_0xb22dce===_0x26b813?this['retryQueue'][_0x4cac08(0x6d2)][_0x32a6c9][_0x4cac08(0x8b0)]?.[_0x4cac08(0x687)]!==_0x26b813&&this[_0x4cac08(0x384)][_0x4cac08(0x6d2)][_0x32a6c9][_0x4cac08(0xaa6)](_0xb22dce):this[_0x4cac08(0x384)][_0x4cac08(0x6d2)][_0x32a6c9][_0x4cac08(0x7e8)](_0xb22dce);}[_0x3149ab(0x794)](_0x323622){const _0x41c2d9=_0x3149ab;if(!this[_0x41c2d9(0x8cf)]||'open'!==this['dataChannel']['state'])throw new Error(_0x41c2d9(0x829));if(this[_0x41c2d9(0x8cf)]['bufferedAmount']>=0x600000)throw new Error(_0x41c2d9(0x8ee));const _0x138371=Date[_0x41c2d9(0x3fe)]();_0x323622!==_0x26b813&&(this[_0x41c2d9(0x781)]+=0x1,this[_0x41c2d9(0x37d)]+=_0x323622 instanceof ArrayBuffer?_0x323622[_0x41c2d9(0x352)]:_0x323622['length']);try{ArrayBuffer,this['dataChannel'][_0x41c2d9(0x7f3)](_0x323622);}catch(_0xce28a3){throw console['error'](_0x41c2d9(0x696),_0xce28a3),_0xce28a3;}this[_0x41c2d9(0x9a6)]+=Date[_0x41c2d9(0x3fe)]()-_0x138371;}['startHeartbeat'](){const _0x36f61a=_0x3149ab;this[_0x36f61a(0x9ab)]&&this[_0x36f61a(0x4c0)]();let _0x5cfb6c=!0x0,_0x1b7e9f=Date['now']();this[_0x36f61a(0x891)]=Date[_0x36f61a(0x3fe)](),this[_0x36f61a(0x8cf)][_0x36f61a(0x64c)]=_0x326ed6=>{const _0x29fbd2=_0x36f61a;'1'===_0x326ed6[_0x29fbd2(0x9b8)]&&(this[_0x29fbd2(0xa50)]=Date['now']()-_0x1b7e9f,_0x5cfb6c&&this[_0x29fbd2(0x228)]({'type':_0x2d0fa6[_0x29fbd2(0x5bb)]}),_0x5cfb6c=!0x1,this[_0x29fbd2(0x891)]=Date[_0x29fbd2(0x3fe)](),this[_0x29fbd2(0x51d)]&&(this[_0x29fbd2(0x51d)]=!0x1,this[_0x29fbd2(0x189)]()));},this[_0x36f61a(0x9ab)]=_0x39ab67['setInterval'](()=>{const _0x3fc9ba=_0x36f61a;_0x1b7e9f=Date[_0x3fc9ba(0x3fe)](),this['sendWithRetry'](_0x26b813,_0x3b1894[_0x3fc9ba(0x27b)]),Date[_0x3fc9ba(0x3fe)]()-this[_0x3fc9ba(0x891)]>(_0x5cfb6c?0x15f90:0x3a98)&&this[_0x3fc9ba(0x7c6)]();},0xbb8);}[_0x3149ab(0x189)](){this['senders']['forEach'](_0x3396e4=>{const _0x5456a4=a0_0x38d9;_0x3396e4[_0x5456a4(0xa6e)][_0x5456a4(0x717)]&&_0x3396e4['tracks']['video'][_0x5456a4(0x611)]&&!_0x3396e4[_0x5456a4(0xa6e)][_0x5456a4(0x717)][_0x5456a4(0x18f)]&&(_0x3396e4[_0x5456a4(0xa6e)]['video'][_0x5456a4(0x18f)]=this[_0x5456a4(0x986)]['addTrack'](_0x3396e4[_0x5456a4(0xa6e)][_0x5456a4(0x717)][_0x5456a4(0x611)],_0x3396e4[_0x5456a4(0x46b)])),_0x3396e4['tracks'][_0x5456a4(0x354)]&&_0x3396e4[_0x5456a4(0xa6e)][_0x5456a4(0x354)]['track']&&!_0x3396e4[_0x5456a4(0xa6e)][_0x5456a4(0x354)][_0x5456a4(0x18f)]&&(_0x3396e4[_0x5456a4(0xa6e)][_0x5456a4(0x354)][_0x5456a4(0x18f)]=this['connection']['addTrack'](_0x3396e4[_0x5456a4(0xa6e)][_0x5456a4(0x354)][_0x5456a4(0x611)],_0x3396e4[_0x5456a4(0x46b)]));});}[_0x3149ab(0x11d)](){const _0x3cff9a=_0x3149ab;this[_0x3cff9a(0x228)]({'type':_0x2d0fa6[_0x3cff9a(0x692)],'candidates':this['handshakeCandidates'],'origin':_0x182ae0['Sender'],'version':this[_0x3cff9a(0x4f4)],'connectionType':this[_0x3cff9a(0x5db)]});}['setupConnectionEvents'](){const _0x272bd3=_0x3149ab;super['setupConnectionEvents'](),this[_0x272bd3(0x986)][_0x272bd3(0x78b)]=()=>{const _0x3eea2e=_0x272bd3;if(_0x3eea2e(0x3a8)===this[_0x3eea2e(0x986)][_0x3eea2e(0x7f9)]){_0x5b2279[_0x3eea2e(0x66c)](_0x44d495[_0x3eea2e(0x966)],'iceConnectionState\x20failed',this['localNode'][_0x3eea2e(0x394)](),this['remoteId']);try{if(this['connection'][_0x3eea2e(0x7c1)])return void this[_0x3eea2e(0x986)]['restartHandshake']();}catch(_0x5b2d9f){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x272bd3(0x986)]['onConnectionStateChange']=()=>{const _0x5228fb=_0x272bd3;_0x5228fb(0x65c)!==this[_0x5228fb(0x986)][_0x5228fb(0x488)]&&_0x5228fb(0x3a8)!==this[_0x5228fb(0x986)][_0x5228fb(0x488)]||this[_0x5228fb(0x7c6)]();};}[_0x3149ab(0x7c6)](){const _0x27d742=_0x3149ab;this[_0x27d742(0x4c0)](),this[_0x27d742(0x93b)](),this[_0x27d742(0x379)](),_0x5b2279['warning']('disconnect',{'clusterId':this[_0x27d742(0x8ae)],'nodeId':this[_0x27d742(0x9ba)][_0x27d742(0x394)](),'nodeType':this[_0x27d742(0x9ba)][_0x27d742(0x16c)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x27d742(0x5db)],'connectionState':this['connection'][_0x27d742(0x488)],'iceConnectionState':this['connection'][_0x27d742(0x7f9)],'signalingState':this[_0x27d742(0x986)][_0x27d742(0x729)],'readyState':this[_0x27d742(0x8cf)]?.[_0x27d742(0x911)]||'','lastHeartbeat':this[_0x27d742(0x891)]?Date[_0x27d742(0x3fe)]()-this[_0x27d742(0x891)]:'','retryQueue':this[_0x27d742(0x384)]}}),(this[_0x27d742(0x891)]&&Date[_0x27d742(0x3fe)]()-this[_0x27d742(0x891)]>0xea60)??0x1?this['systemTopic']['publish']({'sourceId':this[_0x27d742(0x8b4)],'destinationIds':[this['localNode'][_0x27d742(0x394)]()],'messageType':_0x23b53c['PeerConnection'],'content':{'type':_0x2d0fa6['Disconnect']}}):(this['resetConnection'](),this[_0x27d742(0x228)]({'type':_0x2d0fa6['NeedRestart'],'version':this[_0x27d742(0x4f4)],'connectionType':this[_0x27d742(0x5db)]}),this[_0x27d742(0x1d7)]=setTimeout(()=>{const _0x56ad21=_0x27d742;this[_0x56ad21(0x7c6)]();},0x7530));}[_0x3149ab(0x4c0)](){const _0x5ca1cb=_0x3149ab;this[_0x5ca1cb(0x9ab)]?.(),delete this['heartbeatUnsubscriber'];}['clearConnectionTimeout'](){const _0x18af55=_0x3149ab;this[_0x18af55(0x2b3)]&&(clearTimeout(this['connectionTimeout']),delete this[_0x18af55(0x2b3)]);}['clearRestartTimeout'](){const _0x21da27=_0x3149ab;this[_0x21da27(0x1d7)]&&(clearTimeout(this['restartTimeout']),delete this[_0x21da27(0x1d7)]);}['clearUpgradeTimeout'](){const _0x1049c5=_0x3149ab;this[_0x1049c5(0x80c)]&&(clearTimeout(this[_0x1049c5(0x80c)]),delete this[_0x1049c5(0x80c)]);}[_0x3149ab(0x9ed)](){const _0x50dd4a=_0x3149ab;this[_0x50dd4a(0x80c)]=setTimeout(()=>{const _0x401b31=_0x50dd4a;this[_0x401b31(0x859)]({'type':_0x518845[_0x401b31(0x698)],'action':_0x30ed0e['Upgrade']});},0x3a98);}[_0x3149ab(0x413)](_0x45199e,_0x256d95){const _0x5a28f5=_0x3149ab,_0x3de45a=Math[_0x5a28f5(0x3e5)](_0x45199e['width']/_0x256d95[_0x5a28f5(0x44f)],_0x45199e[_0x5a28f5(0x103)]/_0x256d95[_0x5a28f5(0x103)]);return Math[_0x5a28f5(0x34c)](Math[_0x5a28f5(0x3e5)](_0x3de45a,0x1),0x4);}[_0x3149ab(0x105)](){const _0x555bd3=_0x3149ab;this[_0x555bd3(0xae7)]?.(),delete this[_0x555bd3(0xae7)];}['clearOncloseTimeout'](){const _0x2058c2=_0x3149ab;this['oncloseTimeout']&&(clearTimeout(this['oncloseTimeout']),delete this[_0x2058c2(0x99c)]);}[_0x3149ab(0x8e8)](_0x71c95d){const _0x5dffa4=_0x3149ab,_0xaa6dfb=JSON[_0x5dffa4(0x31d)](_0x71c95d);return new TextEncoder()[_0x5dffa4(0x501)](_0xaa6dfb)[_0x5dffa4(0x4a9)];}[_0x3149ab(0x4fe)](_0x5404ad,_0x1759f5){const _0x15f337=_0x3149ab,_0x5afcad=this[_0x15f337(0x8e8)](_0x5404ad),_0x1a7e0f=new Uint8Array(0x4),_0x60025=new Uint8Array(_0x5afcad),_0x4e83c8=new Uint8Array(_0x1759f5);_0x1a7e0f[_0x15f337(0x491)](new Uint8Array(new Uint32Array([_0x60025[_0x15f337(0x878)]])[_0x15f337(0x4a9)]));const _0x25e436=new Uint8Array(0x4+_0x60025[_0x15f337(0x878)]+_0x4e83c8[_0x15f337(0x878)]);return _0x25e436['set'](_0x1a7e0f),_0x25e436[_0x15f337(0x491)](_0x60025,0x4),_0x25e436[_0x15f337(0x491)](_0x4e83c8,0x4+_0x60025[_0x15f337(0x878)]),_0x25e436[_0x15f337(0x4a9)];}}class _0x1e16d3 extends _0x68adb4{['iceServers'];[_0x3149ab(0x5db)];['maxFps'];['maxBpp'];[_0x3149ab(0x928)];['senderConnection'];['receiverConnection'];[_0x3149ab(0x8a9)]=[];['messageListeners']=_0x269228();[_0x3149ab(0x82d)]=_0x269228();[_0x3149ab(0xa63)]=_0x269228();[_0x3149ab(0x32c)]=[];['systemTopic'];[_0x3149ab(0x2f0)]=new Map();[_0x3149ab(0x8de)]=new Map();[_0x3149ab(0xa27)]=new Map();['mediaUnsubscribers']=new Map();[_0x3149ab(0x8c0)]=!0x1;constructor(_0x541f0d,_0x11f104,_0x3095c0,_0x332f17,_0x1dd872,_0x36e722,_0xe0aa1d,_0x3c78a0){const _0x937bc6=_0x3149ab;super(_0x541f0d,_0x11f104,_0x3095c0),this['iceServers']=_0x332f17,this[_0x937bc6(0x5db)]=_0x1dd872,this[_0x937bc6(0x8d7)]=_0x36e722,this[_0x937bc6(0x1d5)]=_0xe0aa1d,this[_0x937bc6(0x928)]=_0x3c78a0;}[_0x3149ab(0x586)](_0x2a04ff){const _0x1076ba=_0x3149ab;switch(_0x2a04ff['getContentType']()){case _0x3a4c7c['ContentType']['Data']:case _0x3a4c7c[_0x1076ba(0x346)][_0x1076ba(0x293)]:case _0x3a4c7c[_0x1076ba(0x346)][_0x1076ba(0xa93)]:case _0x3a4c7c[_0x1076ba(0x346)]['KeyValueDatabase']:case _0x3a4c7c[_0x1076ba(0x346)]['Job']:case _0x3a4c7c['ContentType'][_0x1076ba(0x4a4)]:case _0x3a4c7c[_0x1076ba(0x346)]['GraphDatabase']:case _0x3a4c7c['ContentType'][_0x1076ba(0x393)]:this['dataTopics'][_0x1076ba(0x491)](_0x2a04ff[_0x1076ba(0x8e1)](),_0x2a04ff);break;case _0x3a4c7c[_0x1076ba(0x346)][_0x1076ba(0x1a2)]:this[_0x1076ba(0xa27)][_0x1076ba(0x491)](_0x2a04ff[_0x1076ba(0x8e1)](),_0x2a04ff);}}[_0x3149ab(0x534)](_0x317a8f){const _0x44b0be=_0x3149ab;switch(_0x317a8f['getContentType']()){case _0x3a4c7c[_0x44b0be(0x346)][_0x44b0be(0x719)]:case _0x3a4c7c[_0x44b0be(0x346)][_0x44b0be(0x293)]:case _0x3a4c7c['ContentType'][_0x44b0be(0xa93)]:case _0x3a4c7c[_0x44b0be(0x346)][_0x44b0be(0x327)]:case _0x3a4c7c[_0x44b0be(0x346)][_0x44b0be(0x6b5)]:case _0x3a4c7c[_0x44b0be(0x346)][_0x44b0be(0x4a4)]:case _0x3a4c7c['ContentType'][_0x44b0be(0x22d)]:case _0x3a4c7c[_0x44b0be(0x346)][_0x44b0be(0x393)]:this[_0x44b0be(0x2f0)][_0x44b0be(0x979)](_0x317a8f['getLabel']());break;case _0x3a4c7c['ContentType'][_0x44b0be(0x1a2)]:this[_0x44b0be(0xa27)][_0x44b0be(0x979)](_0x317a8f[_0x44b0be(0x8e1)]());}}[_0x3149ab(0xa5d)](_0x2eb255){const _0x13eb4b=_0x3149ab;switch(_0x2eb255[_0x13eb4b(0x941)]()){case _0x3a4c7c[_0x13eb4b(0x346)]['Data']:case _0x3a4c7c[_0x13eb4b(0x346)][_0x13eb4b(0x293)]:case _0x3a4c7c[_0x13eb4b(0x346)][_0x13eb4b(0xa93)]:case _0x3a4c7c[_0x13eb4b(0x346)][_0x13eb4b(0x327)]:case _0x3a4c7c[_0x13eb4b(0x346)][_0x13eb4b(0x6b5)]:case _0x3a4c7c[_0x13eb4b(0x346)][_0x13eb4b(0x4a4)]:case _0x3a4c7c[_0x13eb4b(0x346)][_0x13eb4b(0x22d)]:case _0x3a4c7c['ContentType'][_0x13eb4b(0x393)]:{const _0x48ed78=_0x2eb255[_0x13eb4b(0x438)](_0x1a3135=>{const _0x4c1d61=_0x13eb4b;_0x114893(_0x1a3135,this[_0x4c1d61(0x720)]())&&_0x6564fc(_0x1a3135,this['remoteId'])&&this['send'](_0x1a3135);});this[_0x13eb4b(0x8de)]['set'](_0x2eb255[_0x13eb4b(0x8e1)](),_0x48ed78);break;}case _0x3a4c7c[_0x13eb4b(0x346)][_0x13eb4b(0x1a2)]:{const _0x47b0d5=_0x2eb255[_0x13eb4b(0x438)](({content:_0x453f8f})=>{const _0x735aab=_0x13eb4b;switch(_0x453f8f['action']){case _0x583eef[_0x735aab(0x4e2)]:this[_0x735aab(0x35f)](_0x453f8f[_0x735aab(0x611)],_0x453f8f['stream'],_0x453f8f['priority'],_0x453f8f[_0x735aab(0x48b)]);break;case _0x583eef[_0x735aab(0x231)]:this[_0x735aab(0x60d)](_0x453f8f[_0x735aab(0x611)],_0x453f8f[_0x735aab(0x46b)]);break;case _0x583eef['Update']:_0x453f8f[_0x735aab(0x804)]&&this['setPriority'](_0x453f8f[_0x735aab(0x46b)],_0x453f8f[_0x735aab(0x804)]),_0x453f8f[_0x735aab(0x48b)]&&this[_0x735aab(0x3a0)](_0x453f8f[_0x735aab(0x46b)],_0x453f8f['params']);}});this[_0x13eb4b(0x460)][_0x13eb4b(0x491)](_0x2eb255[_0x13eb4b(0x8e1)](),_0x47b0d5);break;}}}[_0x3149ab(0x761)](_0x13a3cc){const _0x328893=_0x3149ab;switch(_0x13a3cc[_0x328893(0x941)]()){case _0x3a4c7c[_0x328893(0x346)][_0x328893(0x719)]:case _0x3a4c7c[_0x328893(0x346)][_0x328893(0x293)]:case _0x3a4c7c[_0x328893(0x346)]['ObjectStore']:case _0x3a4c7c['ContentType'][_0x328893(0x327)]:case _0x3a4c7c[_0x328893(0x346)][_0x328893(0x6b5)]:case _0x3a4c7c[_0x328893(0x346)]['VectorDatabase']:case _0x3a4c7c[_0x328893(0x346)][_0x328893(0x22d)]:case _0x3a4c7c[_0x328893(0x346)][_0x328893(0x393)]:this[_0x328893(0x8de)]['get'](_0x13a3cc[_0x328893(0x8e1)]())?.(),this['dataUnsubscribers']['delete'](_0x13a3cc[_0x328893(0x8e1)]());break;case _0x3a4c7c[_0x328893(0x346)][_0x328893(0x1a2)]:this['mediaUnsubscribers'][_0x328893(0x524)](_0x13a3cc[_0x328893(0x8e1)]())?.(),this['mediaUnsubscribers'][_0x328893(0x979)](_0x13a3cc[_0x328893(0x8e1)]());}}[_0x3149ab(0x4e1)](){const _0x18d70a=_0x3149ab;return[_0x3a4c7c['ContentType'][_0x18d70a(0x719)],_0x3a4c7c[_0x18d70a(0x346)][_0x18d70a(0x1a2)],_0x3a4c7c[_0x18d70a(0x346)][_0x18d70a(0x293)],_0x3a4c7c[_0x18d70a(0x346)]['ObjectStore'],_0x3a4c7c[_0x18d70a(0x346)]['KeyValueDatabase'],_0x3a4c7c[_0x18d70a(0x346)][_0x18d70a(0x6b5)],_0x3a4c7c[_0x18d70a(0x346)][_0x18d70a(0x4a4)],_0x3a4c7c[_0x18d70a(0x346)][_0x18d70a(0x22d)],_0x3a4c7c[_0x18d70a(0x346)][_0x18d70a(0x393)]];}[_0x3149ab(0x9cd)](_0x148269){const _0x57b6a7=_0x3149ab;this[_0x57b6a7(0x364)]=_0x148269;}[_0x3149ab(0x8bd)](){const _0x1d68d2=_0x3149ab;delete this[_0x1d68d2(0x364)];}async['connect'](){const _0x11afb4=_0x3149ab;this['setupListeners'](),await this[_0x11afb4(0x1d2)]();}[_0x3149ab(0x11b)](){const _0x29dff3=_0x3149ab;this[_0x29dff3(0x32c)][_0x29dff3(0x1d0)](_0x3735a8=>_0x3735a8()),this['listenerUnsubscribers']=[],this[_0x29dff3(0x52e)]?.[_0x29dff3(0x8bd)](),this[_0x29dff3(0x52e)]?.['close'](),delete this['senderConnection'],this['receiverUnsubscribers'][_0x29dff3(0x1d0)](_0x5a88f9=>_0x5a88f9()),this[_0x29dff3(0x8a9)]=[],this['receiverConnection']?.[_0x29dff3(0x8bd)](),this[_0x29dff3(0x1af)]?.[_0x29dff3(0x11b)](),delete this[_0x29dff3(0x1af)];}[_0x3149ab(0x8cc)](){const _0x2c2f62=_0x3149ab;return this[_0x2c2f62(0x52e)]?.[_0x2c2f62(0x8cc)]()&&this[_0x2c2f62(0x1af)]?.[_0x2c2f62(0x8cc)]()||!0x1;}[_0x3149ab(0x7f3)](_0x336de7){const _0x54ecd9=_0x3149ab;if(!this[_0x54ecd9(0x52e)]||!this['isConnected']())throw new _0x224ab2(_0x224ab2[_0x54ecd9(0x8b5)]['ConnectionNotinitialized'],{'message':_0x54ecd9(0x53f),'senderConnected':this[_0x54ecd9(0x52e)]?.[_0x54ecd9(0x8cc)](),'receiverConnected':this[_0x54ecd9(0x1af)]?.[_0x54ecd9(0x8cc)](),'localId':this[_0x54ecd9(0x720)](),'remoteId':this[_0x54ecd9(0x8b4)],'data':_0x336de7});this['senderConnection'][_0x54ecd9(0x7f3)](_0x336de7);}['onMessage'](_0xd79284){const _0x155c57=_0x3149ab;return this[_0x155c57(0x360)]['subscribe'](_0xd79284);}[_0x3149ab(0x20e)](_0x27bb7f){const _0x5a7165=_0x3149ab;return this[_0x5a7165(0x82d)]['subscribe'](({track:_0x29afd2,stream:_0x181a49})=>_0x27bb7f(_0x29afd2,_0x181a49));}['onRemoveTrack'](_0x2a429c){const _0x3f6409=_0x3149ab;return this[_0x3f6409(0xa63)][_0x3f6409(0x438)](({track:_0x3946ac,stream:_0x57f25d})=>_0x2a429c(_0x3946ac,_0x57f25d));}[_0x3149ab(0x35f)](_0x18112e,_0x366103,_0x2714cf,_0x553641){const _0x2c0b25=_0x3149ab;this[_0x2c0b25(0x52e)]?.[_0x2c0b25(0x35f)](_0x18112e,_0x366103,_0x2714cf,_0x553641);}[_0x3149ab(0x362)](_0x222ae3,_0x3066d7){const _0x4e7a25=_0x3149ab;this[_0x4e7a25(0x52e)]?.[_0x4e7a25(0x362)](_0x222ae3,_0x3066d7);}['setParams'](_0x15ee8b,_0x480289){const _0x25da1d=_0x3149ab;this[_0x25da1d(0x52e)]?.[_0x25da1d(0x3a0)](_0x15ee8b,_0x480289);}['removeTrack'](_0x5de9f7,_0x3569c){const _0x3894e8=_0x3149ab;this['senderConnection']?.[_0x3894e8(0x60d)](_0x5de9f7,_0x3569c);}async[_0x3149ab(0x3a1)](_0x23fb05){const _0x39cc1c=_0x3149ab;_0x5b2279['log'](_0x44d495[_0x39cc1c(0x3ca)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0x39cc1c(0x720)](),_0x23fb05);const {content:_0x4a45d0}=_0x23fb05;switch(_0x4a45d0[_0x39cc1c(0x16c)]){case _0x2d0fa6[_0x39cc1c(0x272)]:await this[_0x39cc1c(0x42b)](_0x4a45d0);break;case _0x2d0fa6[_0x39cc1c(0xa38)]:await this[_0x39cc1c(0x70d)](_0x4a45d0);break;case _0x2d0fa6[_0x39cc1c(0x5bb)]:this['handleSuccess']();break;case _0x2d0fa6[_0x39cc1c(0x692)]:await this['handleIceCandidates'](_0x4a45d0);break;case _0x2d0fa6['NeedRestart']:this[_0x39cc1c(0x772)](_0x4a45d0);break;case _0x2d0fa6[_0x39cc1c(0x367)]:await this[_0x39cc1c(0x1d2)]();}}[_0x3149ab(0x4db)](_0x3cbb19){const _0x1b7dbd=_0x3149ab;this[_0x1b7dbd(0x52e)]?.[_0x1b7dbd(0x859)](_0x3cbb19[_0x1b7dbd(0x130)][_0x1b7dbd(0x9b8)]);}[_0x3149ab(0x7ca)](){return this['connectionType'];}[_0x3149ab(0xa78)](_0x17a948){const _0x1ffa5d=_0x3149ab;this['connectionType']=_0x17a948,this[_0x1ffa5d(0x52e)]?.[_0x1ffa5d(0xa78)](_0x17a948),this[_0x1ffa5d(0x1af)]?.[_0x1ffa5d(0xa78)](_0x17a948);}async[_0x3149ab(0x403)](){await this['senderConnection']?.['collectStats'](),await this['receiverConnection']?.['collectStats']();}[_0x3149ab(0x88f)](){const _0x2918e7=_0x3149ab;return this[_0x2918e7(0x52e)]?.[_0x2918e7(0x88f)]()??0x0;}[_0x3149ab(0x261)](){const _0x223b92=_0x3149ab;return this['senderConnection']?.[_0x223b92(0x261)]()??0x0;}[_0x3149ab(0x9a0)](){const _0x251f4d=_0x3149ab;this[_0x251f4d(0x32c)]['push'](this[_0x251f4d(0x64c)](_0x36865c=>{const _0x4e95e3=_0x251f4d;_0x6564fc(_0x36865c,this[_0x4e95e3(0x720)]())&&0x0!==_0x36865c[_0x4e95e3(0x9e9)]&&this['dataTopics'][_0x4e95e3(0x524)](_0x36865c[_0x4e95e3(0x9e9)])?.[_0x4e95e3(0x415)](_0x36865c);})),this[_0x251f4d(0x32c)][_0x251f4d(0x7e8)](this[_0x251f4d(0x20e)]((_0x607902,_0xb75957)=>{const _0x2414d6=_0x251f4d,_0x46dd69=_0xc210b8(_0x3a4c7c['ContentType'][_0x2414d6(0x1a2)],_0xb75957['id'],this[_0x2414d6(0x8b4)]);this['mediaTopics'][_0x2414d6(0x524)](_0x46dd69)?.[_0x2414d6(0x415)]({'topicLabel':_0x46dd69,'sourceId':this[_0x2414d6(0x8b4)],'contentType':_0x3a4c7c[_0x2414d6(0x346)]['Media'],'content':{'action':_0x583eef[_0x2414d6(0x500)],'track':_0x607902,'stream':_0xb75957,'providerId':this[_0x2414d6(0x8b4)]}});})),this[_0x251f4d(0x32c)][_0x251f4d(0x7e8)](this[_0x251f4d(0x44e)]((_0x2dc086,_0x1de3f2)=>{const _0x4ada19=_0x251f4d,_0x306f48=_0xc210b8(_0x3a4c7c[_0x4ada19(0x346)][_0x4ada19(0x1a2)],_0x1de3f2['id'],this['remoteId']);this[_0x4ada19(0xa27)][_0x4ada19(0x524)](_0x306f48)?.[_0x4ada19(0x415)]({'topicLabel':_0x306f48,'sourceId':this[_0x4ada19(0x8b4)],'contentType':_0x3a4c7c[_0x4ada19(0x346)][_0x4ada19(0x1a2)],'content':{'action':_0x583eef['RemoteRemove'],'track':_0x2dc086,'stream':_0x1de3f2,'providerId':this[_0x4ada19(0x8b4)]}});}));}[_0x3149ab(0x796)]({candidates:_0x9355f8,origin:_0x123654,version:_0x2a6b30}){const _0x3a7f9f=_0x3149ab;return _0x123654===_0x182ae0[_0x3a7f9f(0x457)]?(this[_0x3a7f9f(0x1af)]||this[_0x3a7f9f(0x3cb)](),this['receiverConnection'][_0x3a7f9f(0x4b1)](_0x9355f8,_0x2a6b30)):this['senderConnection'][_0x3a7f9f(0x4b1)](_0x9355f8,_0x2a6b30);}async[_0x3149ab(0x1d2)](){const _0xed15c8=_0x3149ab;this[_0xed15c8(0x52e)]||this['createSenderConnection'](),await this[_0xed15c8(0x52e)][_0xed15c8(0x1d2)]();}async[_0x3149ab(0x42b)]({offer:_0x18486a,version:_0x35209b}){const _0x426f3e=_0x3149ab;this[_0x426f3e(0x1af)]||this[_0x426f3e(0x3cb)](),await this[_0x426f3e(0x1af)][_0x426f3e(0x42b)](_0x18486a,_0x35209b);}async[_0x3149ab(0x70d)]({answer:_0x32fca0,version:_0x3e814e}){const _0x1c6982=_0x3149ab;if(!this['senderConnection'])throw new _0x224ab2(_0x224ab2['codes'][_0x1c6982(0x76c)],{'message':_0x1c6982(0xa3a),'localId':this['getLocalId'](),'remoteId':this[_0x1c6982(0x8b4)],'answer':_0x32fca0});await this['senderConnection']['handleAnswer'](_0x32fca0,_0x3e814e);}[_0x3149ab(0x63a)](){const _0x447903=_0x3149ab;if(!this[_0x447903(0x1af)])throw new _0x224ab2(_0x224ab2[_0x447903(0x8b5)][_0x447903(0x76c)],{'message':_0x447903(0x376),'localId':this[_0x447903(0x720)](),'remoteId':this[_0x447903(0x8b4)]});this[_0x447903(0x1af)][_0x447903(0x63a)](),this[_0x447903(0x8c0)]||this[_0x447903(0x5db)]!==_0x1ae943[_0x447903(0x185)]||(this[_0x447903(0x8c0)]=!0x0,this[_0x447903(0x364)]?.['publish']({'sourceId':this[_0x447903(0x8b4)],'destinationIds':[this[_0x447903(0x720)]()],'messageType':_0x23b53c[_0x447903(0x5d8)],'content':{'type':_0x2d0fa6[_0x447903(0x74b)]}}));}[_0x3149ab(0x772)](_0x5f5079){const _0x17dda5=_0x3149ab;this[_0x17dda5(0x1af)]||this['createReceiverConnection'](),this['receiverConnection'][_0x17dda5(0x772)](_0x5f5079[_0x17dda5(0xa66)]);}[_0x3149ab(0xa88)](){const _0xf7e2da=_0x3149ab;this[_0xf7e2da(0x52e)]=new _0x64b04b(this[_0xf7e2da(0x8ae)],this[_0xf7e2da(0x9ba)],this['remoteId'],this[_0xf7e2da(0x8d2)],this[_0xf7e2da(0x5db)],this[_0xf7e2da(0x8d7)],this[_0xf7e2da(0x1d5)],this[_0xf7e2da(0x928)]),this['senderConnection'][_0xf7e2da(0x9cd)](this[_0xf7e2da(0x364)]);}[_0x3149ab(0x3cb)](){const _0x440143=_0x3149ab;this[_0x440143(0x1af)]=new _0x290834(this[_0x440143(0x8ae)],this[_0x440143(0x9ba)],this['remoteId'],this[_0x440143(0x8d2)],this[_0x440143(0x5db)],this[_0x440143(0x928)]),this[_0x440143(0x1af)]['registerSystemPublisher'](this[_0x440143(0x364)]),this[_0x440143(0x8a9)]['push'](this[_0x440143(0x1af)][_0x440143(0x64c)](_0x3304e4=>this[_0x440143(0x360)][_0x440143(0x415)](_0x3304e4))),this[_0x440143(0x8a9)][_0x440143(0x7e8)](this[_0x440143(0x1af)][_0x440143(0x20e)]((_0xe6a9b6,_0x1177c4)=>this['trackListeners'][_0x440143(0x415)]({'track':_0xe6a9b6,'stream':_0x1177c4}))),this['receiverUnsubscribers']['push'](this[_0x440143(0x1af)][_0x440143(0x44e)]((_0x47f8a4,_0x158e86)=>this[_0x440143(0xa63)][_0x440143(0x415)]({'track':_0x47f8a4,'stream':_0x158e86})));}}class _0x13cf10{[_0x3149ab(0x3b2)];[_0x3149ab(0x624)];['graphService'];['connections']=new Map();['messageListeners']=_0x269228();[_0x3149ab(0x6b2)];['dataTopics']=new Map();[_0x3149ab(0x8de)]=new Map();[_0x3149ab(0x66d)]=new Map();constructor(_0xf06b48,_0x43b1ea,_0x4011fa){const _0x3ee297=_0x3149ab;this[_0x3ee297(0x3b2)]=_0xf06b48,this[_0x3ee297(0x624)]=_0x43b1ea,this['graphService']=_0x4011fa,this[_0x3ee297(0x6b2)]=this[_0x3ee297(0x64c)](_0x1cbe68=>{const _0xeb3365=_0x3ee297;this[_0xeb3365(0x624)]['hasMessage'](_0x1cbe68[_0xeb3365(0x7ae)])||(_0x6564fc(_0x1cbe68,this[_0xeb3365(0x3b2)])&&0x0!==_0x1cbe68[_0xeb3365(0x9e9)]&&(this[_0xeb3365(0x624)][_0xeb3365(0xa8a)](_0x1cbe68[_0xeb3365(0x7ae)]),this[_0xeb3365(0x2f0)]['get'](_0x1cbe68[_0xeb3365(0x9e9)])?.['publish'](_0x1cbe68)),_0x1cbe68[_0xeb3365(0x92e)]&&this['send'](_0x1cbe68));});}[_0x3149ab(0x11b)](){const _0x318c96=_0x3149ab;this[_0x318c96(0x6b2)]?.();}[_0x3149ab(0x77b)](_0x193185){const _0x4c09c1=_0x3149ab,_0x131be2=_0x193185[_0x4c09c1(0x64c)](_0x449ab8=>{const _0x3c72cd=_0x4c09c1;this[_0x3c72cd(0x360)]['publish'](_0x449ab8);});this[_0x4c09c1(0x597)][_0x4c09c1(0x491)](_0x193185,_0x131be2),this[_0x4c09c1(0x66d)]['set'](_0x193185[_0x4c09c1(0xa57)](),function(_0x53f5b3,_0x5ca523=!0x1){let _0x18c998=new Map();const _0x5be3c3=_0x2e2141(_0x53f5b3,_0x5ca523,function(_0x353244){const _0x26ce30=a0_0x38d9;_0x498226(_0x353244)&&_0x18c998[_0x26ce30(0x979)](_0x353244[_0x26ce30(0x61f)]+'-'+(_0x353244[_0x26ce30(0x249)]??[])+'-'+_0x353244[_0x26ce30(0x782)]+'-'+_0x353244[_0x26ce30(0x130)]['type']);},function(_0x1f6cf2){return!!function(_0x2bd7ef){const _0x4c8a54=a0_0x38d9,_0x3fee63=_0x2bd7ef[_0x4c8a54(0x687)];if(!_0x498226(_0x3fee63))return!0x1;const _0x51fb14=_0x3fee63[_0x4c8a54(0x61f)]+'-'+(_0x3fee63[_0x4c8a54(0x249)]??[])+'-'+_0x3fee63['messageType']+'-'+_0x3fee63['content']['type'],_0x5b9edb={'version':_0x3fee63[_0x4c8a54(0x130)][_0x4c8a54(0xa66)],'element':_0x2bd7ef},_0x15c4ef=_0x18c998[_0x4c8a54(0x524)](_0x51fb14);return _0x15c4ef?(_0x15c4ef[_0x4c8a54(0xa66)]>=_0x3fee63[_0x4c8a54(0x130)][_0x4c8a54(0xa66)]||(_0x15c4ef['element'][_0x4c8a54(0x14e)]&&(_0x15c4ef[_0x4c8a54(0x5ee)]['previous'][_0x4c8a54(0x978)]=_0x2bd7ef,_0x2bd7ef['previous']=_0x15c4ef[_0x4c8a54(0x5ee)][_0x4c8a54(0x14e)]),_0x15c4ef[_0x4c8a54(0x5ee)][_0x4c8a54(0x978)]&&(_0x15c4ef[_0x4c8a54(0x5ee)][_0x4c8a54(0x978)][_0x4c8a54(0x14e)]=_0x2bd7ef,_0x2bd7ef[_0x4c8a54(0x978)]=_0x15c4ef['element']['next']),_0x15c4ef[_0x4c8a54(0x5ee)]===_0x5be3c3['head']&&(_0x5be3c3['head']=_0x2bd7ef),_0x15c4ef[_0x4c8a54(0x5ee)]===_0x5be3c3['tail']&&(_0x5be3c3[_0x4c8a54(0x285)]=_0x2bd7ef),_0x18c998['set'](_0x51fb14,_0x5b9edb)),!0x0):(_0x18c998['set'](_0x51fb14,_0x5b9edb),!0x1);}(_0x1f6cf2);},function(){_0x18c998['clear']();});function _0x498226(_0x11d807){const _0x1a22a1=a0_0x38d9;if(_0x11d807&&_0x1a22a1(0x72f)==typeof _0x11d807&&_0x11d807['hasOwnProperty'](_0x1a22a1(0x130))&&_0x11d807[_0x1a22a1(0x828)](_0x1a22a1(0x782))&&_0x11d807[_0x1a22a1(0x828)](_0x1a22a1(0x61f))){const _0x483a23=_0x11d807;if(_0x483a23[_0x1a22a1(0x130)]&&_0x1a22a1(0x72f)==typeof _0x483a23[_0x1a22a1(0x130)]&&_0x483a23['content'][_0x1a22a1(0x828)](_0x1a22a1(0xa66))&&_0x483a23[_0x1a22a1(0x130)][_0x1a22a1(0x828)]('type'))return!0x0;}return!0x1;}return _0x5be3c3;}(new _0x269071(_0x481dc8=>_0x193185[_0x4c09c1(0x7f3)](_0x481dc8),()=>_0x39ab67[_0x4c09c1(0x1a0)](0x64))));}['removeConnection'](_0x51d3ea){const _0x13a636=_0x3149ab;this[_0x13a636(0x597)][_0x13a636(0x524)](_0x51d3ea)?.(),this[_0x13a636(0x597)][_0x13a636(0x979)](_0x51d3ea),this[_0x13a636(0x66d)][_0x13a636(0x524)](_0x51d3ea[_0x13a636(0xa57)]())?.['clear'](),this[_0x13a636(0x66d)][_0x13a636(0x979)](_0x51d3ea[_0x13a636(0xa57)]());}[_0x3149ab(0x8cc)](_0xb75713){const _0x830735=_0x3149ab;return _0x5b2279['log'](_0x44d495[_0x830735(0x966)],_0x830735(0x3ab),this['localId'],this[_0x830735(0x597)][_0x830735(0x6d7)]()),0x0!==this[_0x830735(0x597)][_0x830735(0x1fa)]&&(Array[_0x830735(0x271)](this['connections'][_0x830735(0x6d7)]())[_0x830735(0x8e4)](_0x46775a=>_0x46775a['getRemoteId']()===_0xb75713)?.['isConnected']()??!0x1);}['registerPublisher'](_0x3f367f){const _0x2de5ac=_0x3149ab;this['dataTopics'][_0x2de5ac(0x491)](_0x3f367f[_0x2de5ac(0x8e1)](),_0x3f367f);}['unregisterPublisher'](_0x14d212){const _0x34429c=_0x3149ab;this['dataTopics'][_0x34429c(0x979)](_0x14d212['getLabel']());}['registerSubscriber'](_0x4072f9){const _0x1395b1=_0x3149ab,_0x31fe15=_0x4072f9['subscribe'](this['send'][_0x1395b1(0x26b)](this));this['dataUnsubscribers'][_0x1395b1(0x491)](_0x4072f9[_0x1395b1(0x8e1)](),_0x31fe15);}[_0x3149ab(0x761)](_0x1f65c2){const _0x408e19=_0x3149ab;this[_0x408e19(0x8de)][_0x408e19(0x524)](_0x1f65c2[_0x408e19(0x8e1)]())?.(),this['dataUnsubscribers']['delete'](_0x1f65c2[_0x408e19(0x8e1)]());}[_0x3149ab(0x4e1)](){const _0x351f26=_0x3149ab;return[_0x3a4c7c[_0x351f26(0x346)][_0x351f26(0x719)],_0x3a4c7c['ContentType'][_0x351f26(0x293)],_0x3a4c7c[_0x351f26(0x346)][_0x351f26(0xa93)],_0x3a4c7c['ContentType'][_0x351f26(0x327)],_0x3a4c7c[_0x351f26(0x346)]['Job'],_0x3a4c7c[_0x351f26(0x346)][_0x351f26(0x4a4)],_0x3a4c7c['ContentType'][_0x351f26(0x22d)],_0x3a4c7c[_0x351f26(0x346)]['ExternalStorage']];}[_0x3149ab(0x7f3)](_0x2a0be3){const _0x13613e=_0x3149ab;if(!0x1===_0x2a0be3['retry']){if(_0x2a0be3[_0x13613e(0x92e)]||!_0x2a0be3[_0x13613e(0x249)]||0x1!==_0x2a0be3[_0x13613e(0x249)][_0x13613e(0x878)])throw new _0x224ab2(_0x224ab2[_0x13613e(0x8b5)][_0x13613e(0x920)],{'message':_0x13613e(0x4da),'localId':this[_0x13613e(0x3b2)]});if(!this[_0x13613e(0x8cc)](_0x2a0be3[_0x13613e(0x249)][0x0]))throw new _0x530d99(_0x13613e(0x8a4));}const _0x41088a=_0x2a0be3['recipients']??[];try{const {filteredDestinationIds:_0x5d09ce,extendedRecipients:_0x2b3af1}=this['updatePropagationProperties'](_0x2a0be3,_0x41088a);_0x2a0be3[_0x13613e(0x249)]=_0x5d09ce,_0x2a0be3['recipients']=_0x2b3af1;}catch(_0x2c7b92){if(_0x2c7b92 instanceof _0x530d99)return void _0x5b2279[_0x13613e(0x66c)](_0x44d495['Connection'],_0x13613e(0x838),_0x13613e(0x28d),_0x2a0be3,_0x2c7b92[_0x13613e(0x948)]);}const _0x2db758=this[_0x13613e(0x84f)](_0x2a0be3);this[_0x13613e(0x181)](_0x2a0be3,_0x2db758),_0x2a0be3[_0x13613e(0x92e)]=_0x2db758;const _0x301eb5=this['getConnectionDestinations'](_0x2a0be3,_0x41088a);for(const _0x39cdb4 of _0x301eb5){const _0x502bf0=this[_0x13613e(0x66d)][_0x13613e(0x524)](_0x39cdb4[_0x13613e(0xa57)]());if(!_0x502bf0)throw new _0x224ab2(_0x224ab2['codes'][_0x13613e(0x76f)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x13613e(0x3b2)],'remoteId':_0x39cdb4['getRemoteId'](),'data':_0x2a0be3});_0x502bf0[_0x13613e(0x7e8)](_0x2a0be3);}}[_0x3149ab(0xa57)](){return'';}[_0x3149ab(0x720)](){const _0x599e2d=_0x3149ab;return this[_0x599e2d(0x3b2)];}[_0x3149ab(0x64c)](_0x124696){const _0x1f346a=_0x3149ab;return this[_0x1f346a(0x360)][_0x1f346a(0x438)](_0x124696);}['updatePropagationProperties'](_0x13a31a,_0x5c56a4){const _0x3513a5=_0x3149ab,_0x4a13a2={'filteredDestinationIds':_0x13a31a[_0x3513a5(0x249)],'extendedRecipients':_0x13a31a[_0x3513a5(0x6cb)]};if(!_0x13a31a[_0x3513a5(0x92e)])return _0x4a13a2;const _0x2aa6e2=Array[_0x3513a5(0x271)](this[_0x3513a5(0x597)][_0x3513a5(0x6d7)]())['filter'](_0x5eb891=>_0x5eb891[_0x3513a5(0x7ca)]()===_0x1ae943[_0x3513a5(0x2d0)]||_0x5eb891[_0x3513a5(0x8cc)]())[_0x3513a5(0x323)](_0x2024a8=>_0x2024a8['getRemoteId']());if(_0x2aa6e2[_0x3513a5(0x399)]((_0x772fd7,_0x4246e4)=>_0x772fd7&&_0x13a31a[_0x3513a5(0x6cb)]['includes'](_0x4246e4),!0x0))throw new _0x530d99(_0x3513a5(0x453));if(_0x13a31a['destinationIds']){const _0x2281bb=_0x13a31a[_0x3513a5(0x249)][_0x3513a5(0x683)](_0x2e25b5=>_0x2e25b5!==this[_0x3513a5(0x3b2)]&&!_0x13a31a['recipients']['includes'](_0x2e25b5));if(0x0===_0x2281bb[_0x3513a5(0x878)])throw new _0x530d99(_0x3513a5(0x7d8));_0x4a13a2['filteredDestinationIds']=_0x2281bb;}return _0x4a13a2[_0x3513a5(0x401)]=[...new Set([..._0x5c56a4,..._0x2aa6e2,this[_0x3513a5(0x3b2)]])],_0x4a13a2;}[_0x3149ab(0x181)](_0x393593,_0x438513=!0x1){const _0x3d6da6=_0x3149ab;if(0x0===_0x393593['topicLabel']&&!_0x114893(_0x393593,this['localId'])&&_0x393593[_0x3d6da6(0x92e)]){const _0x276e74=_0x23e30c(_0x393593,this[_0x3d6da6(0x3b2)]);_0x5b2279['logRaw'](_0x44d495[_0x3d6da6(0x8b3)],_0x393593[_0x3d6da6(0x7ae)]+_0x3d6da6(0x753)+_0x438513+')\x20'+_0x276e74,_0x393593,_0x438513);}}[_0x3149ab(0x84f)](_0x4a2a2c){const _0x1f8e91=_0x3149ab;if(_0x4a2a2c[_0x1f8e91(0x249)]&&_0x4a2a2c[_0x1f8e91(0x92e)]){const _0x54b6f3=Array[_0x1f8e91(0x271)](this[_0x1f8e91(0x597)][_0x1f8e91(0x6d7)]())['filter'](_0x13d8e9=>_0x13d8e9[_0x1f8e91(0x7ca)]()===_0x1ae943[_0x1f8e91(0x2d0)]||_0x13d8e9[_0x1f8e91(0x8cc)]())[_0x1f8e91(0x323)](_0x126858=>_0x126858[_0x1f8e91(0xa57)]());return!_0x4a2a2c['destinationIds'][_0x1f8e91(0x399)]((_0x9c245d,_0x27a914)=>_0x9c245d&&_0x54b6f3['includes'](_0x27a914),!0x0);}return _0x4a2a2c[_0x1f8e91(0x92e)]??!0x1;}[_0x3149ab(0x434)](_0x1867f2,_0x747110){const _0x5cc52e=_0x3149ab;if(_0x1867f2[_0x5cc52e(0x92e)]&&_0x1867f2[_0x5cc52e(0x249)]){const _0x1d8c29=Array[_0x5cc52e(0x271)](this[_0x5cc52e(0x597)]['keys']())[_0x5cc52e(0x683)](_0x509944=>_0x509944['getConnectionType']()===_0x1ae943[_0x5cc52e(0x2d0)]||_0x509944['isConnected']())[_0x5cc52e(0x323)](_0x12b8ec=>_0x12b8ec['getRemoteId']()),_0x1e4fad=new Set(),_0x5ce004=_0x1867f2[_0x5cc52e(0x61f)]===this['localId']?0x3:0x1;return _0x1867f2[_0x5cc52e(0x249)][_0x5cc52e(0x1d0)](_0x3e75cf=>{const _0x5d2f7d=_0x5cc52e,_0x278b27=this[_0x5d2f7d(0x288)][_0x5d2f7d(0x245)](_0x1d8c29,_0x3e75cf);let _0x50fb74=0x0,_0x30830a=0x0;_0x278b27[_0x5d2f7d(0x1d0)](_0x50d548=>{const _0x1692cf=_0x5d2f7d;if(_0x50fb74>=_0x5ce004)return;const _0x5c7882=Array[_0x1692cf(0x271)](this[_0x1692cf(0x597)][_0x1692cf(0x6d7)]())[_0x1692cf(0x8e4)](_0x3b6fe3=>_0x3b6fe3[_0x1692cf(0xa57)]()===_0x50d548);if(_0x5c7882){if(_0x5c7882['getConnectionType']()===_0x1ae943['Core']&&_0x30830a>0x0)return void(_0x30830a-=0x1);_0x1e4fad['add'](_0x5c7882),_0x5c7882[_0x1692cf(0x7ca)]()===_0x1ae943[_0x1692cf(0x185)]&&(_0x30830a+=0x1),_0x50fb74+=0x1;}});}),Array['from'](_0x1e4fad);}return Array[_0x5cc52e(0x271)](this[_0x5cc52e(0x597)][_0x5cc52e(0x6d7)]())[_0x5cc52e(0x683)](_0x33aad1=>{const _0x1542b0=_0x5cc52e;return _0xcd1827=_0x33aad1[_0x1542b0(0xa57)](),!_0x747110[_0x1542b0(0x24c)](_0xcd1827)&&(_0x6564fc(_0x1867f2,_0xcd1827)||_0x1867f2[_0x1542b0(0x92e)])&&(!_0x1867f2[_0x1542b0(0x92e)]||_0x33aad1[_0x1542b0(0x8cc)]()||_0x33aad1[_0x1542b0(0x7ca)]()===_0x1ae943[_0x1542b0(0x2d0)]);var _0xcd1827;});}}class _0x472858{[_0x3149ab(0x3b2)];[_0x3149ab(0x624)];[_0x3149ab(0x597)]=new Map();['systemTopic'];constructor(_0x7e6eb4,_0x522b98){const _0x4b84f5=_0x3149ab;this[_0x4b84f5(0x3b2)]=_0x7e6eb4,this[_0x4b84f5(0x624)]=_0x522b98;}['close'](){}[_0x3149ab(0x7f3)](_0x11f9ad){const _0x4dec6c=_0x3149ab;for(const _0x408f3d of this['connections'][_0x4dec6c(0x6d7)]())try{return void _0x408f3d['send']({'retry':!0x1,..._0x11f9ad});}catch(_0x26e394){_0x26e394 instanceof _0x530d99||_0x5b2279[_0x4dec6c(0x66c)](_0x44d495[_0x4dec6c(0x964)],'send\x20error\x20on\x20'+_0x408f3d,_0x26e394,_0x11f9ad);}_0x5b2279[_0x4dec6c(0x66c)](_0x44d495[_0x4dec6c(0x964)],_0x4dec6c(0xaa2));}[_0x3149ab(0x77b)](_0x2da2f6){const _0x714c2b=_0x3149ab,_0x3162bb=_0x2da2f6[_0x714c2b(0x64c)](_0x46f3b5=>{const _0x118c24=_0x714c2b;this[_0x118c24(0x624)][_0x118c24(0x5d5)](_0x46f3b5[_0x118c24(0x7ae)])||0x0===_0x46f3b5[_0x118c24(0x9e9)]&&(this[_0x118c24(0x624)][_0x118c24(0xa8a)](_0x46f3b5[_0x118c24(0x7ae)]),_0x6564fc(_0x46f3b5,this[_0x118c24(0x3b2)])&&this['systemTopic']?.[_0x118c24(0x415)](_0x46f3b5));});this[_0x714c2b(0x597)][_0x714c2b(0x491)](_0x2da2f6,_0x3162bb);}[_0x3149ab(0x889)](_0x5dcd38){const _0x771755=_0x3149ab;this[_0x771755(0x597)][_0x771755(0x524)](_0x5dcd38)?.(),this[_0x771755(0x597)][_0x771755(0x979)](_0x5dcd38);}[_0x3149ab(0x720)](){return this['localId'];}['getRemoteId'](){return'';}[_0x3149ab(0x4e1)](){const _0x25b822=_0x3149ab;return[_0x3a4c7c['ContentType'][_0x25b822(0x719)]];}[_0x3149ab(0x8cc)](){const _0x228f58=_0x3149ab;throw new Error(_0x228f58(0x3e6));}[_0x3149ab(0x9cd)](_0x154508){const _0x426cf1=_0x3149ab;this[_0x426cf1(0x364)]=_0x154508;}['unregisterSystemPublisher'](){const _0x245976=_0x3149ab;delete this[_0x245976(0x364)];}}class _0x257ffd{[_0x3149ab(0x4a9)]=new Map();[_0x3149ab(0x4bc)];constructor(){const _0x2afeea=_0x3149ab;this[_0x2afeea(0x4bc)]=_0x39ab67[_0x2afeea(0x589)](()=>{const _0x3c2b7c=_0x2afeea;for(const [_0x4b016a,_0x48ac65]of this['buffer'][_0x3c2b7c(0x2ac)]())Date[_0x3c2b7c(0x3fe)]()-_0x48ac65>0x124f80&&this[_0x3c2b7c(0x4a9)][_0x3c2b7c(0x979)](_0x4b016a);},0x1d4c0);}[_0x3149ab(0x11b)](){const _0x17daf1=_0x3149ab;this[_0x17daf1(0x4bc)]();}[_0x3149ab(0xa8a)](_0x28ca37){const _0x692a0b=_0x3149ab;this[_0x692a0b(0x4a9)][_0x692a0b(0x491)](_0x28ca37,Date[_0x692a0b(0x3fe)]());}[_0x3149ab(0x5d5)](_0x46b363){const _0x5a8d9a=_0x3149ab;return this[_0x5a8d9a(0x4a9)][_0x5a8d9a(0x2a7)](_0x46b363);}}class _0x31a78f{[_0x3149ab(0x5a0)];[_0x3149ab(0x56e)];[_0x3149ab(0x8d2)];[_0x3149ab(0x818)];['connections']=new Map();['connectionPool'];['connectionGroup'];[_0x3149ab(0x71f)];[_0x3149ab(0x624)];constructor(_0x5675b3,_0x27e70d,_0x319de5,_0x15af63,_0x518c0a){const _0xbfdfbf=_0x3149ab;this[_0xbfdfbf(0x5a0)]=_0x5675b3,this[_0xbfdfbf(0x56e)]=_0x27e70d,this['iceServers']=_0x15af63,this['options']=_0x518c0a,this[_0xbfdfbf(0x624)]=new _0x257ffd(),this[_0xbfdfbf(0x79a)]=new _0x13cf10(this['configs'][_0xbfdfbf(0x9ba)][_0xbfdfbf(0x394)](),this['messageBuffer'],_0x319de5),this['signalingServer']=new _0x31eb0b(this[_0xbfdfbf(0x5a0)][_0xbfdfbf(0x164)],this[_0xbfdfbf(0x5a0)][_0xbfdfbf(0x8ae)],this['configs'][_0xbfdfbf(0x9ba)],_0xbfdfbf(0x8f9),this['authService']),this[_0xbfdfbf(0x902)]=new _0x472858(this[_0xbfdfbf(0x5a0)]['localNode'][_0xbfdfbf(0x394)](),this['messageBuffer']),this[_0xbfdfbf(0x902)][_0xbfdfbf(0x77b)](this[_0xbfdfbf(0x79a)]),this['connectionPool'][_0xbfdfbf(0x77b)](this[_0xbfdfbf(0x71f)]),this['configs'][_0xbfdfbf(0x8f7)]['registerSystemSource'](this[_0xbfdfbf(0x902)]);}['close'](){const _0x1ee09b=_0x3149ab;this['messageBuffer'][_0x1ee09b(0x11b)](),this['connections']['forEach']((_0x3364c4,_0x288740)=>this['closeConnection'](_0x288740)),this[_0x1ee09b(0x5a0)]['mediator'][_0x1ee09b(0x41a)](this[_0x1ee09b(0x902)]),this['connectionPool']['removeConnection'](this[_0x1ee09b(0x71f)]),this[_0x1ee09b(0x902)][_0x1ee09b(0x889)](this['connectionGroup']),this[_0x1ee09b(0x902)]['close'](),this[_0x1ee09b(0x71f)]['close'](),this[_0x1ee09b(0x79a)][_0x1ee09b(0x11b)]();}async[_0x3149ab(0x481)](){const _0x29e903=_0x3149ab;await this['signalingServer'][_0x29e903(0x50c)]();}async[_0x3149ab(0x1ab)](_0x4f3eca,_0x4859be=_0x1ae943[_0x3149ab(0x2d0)]){const _0x32a546=_0x3149ab;if(this[_0x32a546(0x597)][_0x32a546(0x2a7)](_0x4f3eca)){if(this[_0x32a546(0x597)][_0x32a546(0x524)](_0x4f3eca)?.['getConnectionType']()===_0x1ae943[_0x32a546(0x185)]&&_0x4859be===_0x1ae943[_0x32a546(0x2d0)])return void this[_0x32a546(0x597)][_0x32a546(0x524)](_0x4f3eca)?.[_0x32a546(0xa78)](_0x1ae943[_0x32a546(0x2d0)]);throw new _0x224ab2(_0x224ab2[_0x32a546(0x8b5)][_0x32a546(0x9a5)],{'localId':this[_0x32a546(0x5a0)][_0x32a546(0x9ba)]['getId'](),'remoteId':_0x4f3eca});}const _0x34095a=new _0x1e16d3(this['configs'][_0x32a546(0x8ae)],this[_0x32a546(0x5a0)][_0x32a546(0x9ba)],_0x4f3eca,this[_0x32a546(0x8d2)],_0x4859be,this['options'][_0x32a546(0x8d7)],this[_0x32a546(0x818)][_0x32a546(0x1d5)],this[_0x32a546(0x818)][_0x32a546(0x39f)]);this['connections'][_0x32a546(0x491)](_0x4f3eca,_0x34095a),this['connectionGroup'][_0x32a546(0x77b)](_0x34095a),this['configs'][_0x32a546(0x8f7)]['registerSystemSource'](_0x34095a),this['configs'][_0x32a546(0x8f7)][_0x32a546(0x14f)](_0x4f3eca),await _0x34095a[_0x32a546(0x50c)]();}[_0x3149ab(0x4de)](){const _0x3f2ce6=_0x3149ab;return this[_0x3f2ce6(0x79a)];}[_0x3149ab(0x5c3)](_0x4a2d3a){const _0x1fc123=_0x3149ab;if(!this[_0x1fc123(0x597)]['has'](_0x4a2d3a))throw new _0x224ab2(_0x224ab2[_0x1fc123(0x8b5)][_0x1fc123(0xa7b)],{'localId':this[_0x1fc123(0x5a0)][_0x1fc123(0x9ba)][_0x1fc123(0x394)](),'remoteId':_0x4a2d3a});return this[_0x1fc123(0x597)][_0x1fc123(0x524)](_0x4a2d3a);}['getConnections'](_0x3e45cb){const _0x2abd7b=_0x3149ab,_0x25e48f=Array[_0x2abd7b(0x271)](this[_0x2abd7b(0x597)][_0x2abd7b(0x6da)]());return _0x3e45cb?_0x25e48f[_0x2abd7b(0x683)](_0x3e45cb):_0x25e48f;}async[_0x3149ab(0x403)](_0x523a0a){const _0x35b4a6=_0x3149ab,_0x5d9af9=this['connections'][_0x35b4a6(0x524)](_0x523a0a);_0x5d9af9&&_0x5d9af9[_0x35b4a6(0x8cc)]()&&await _0x5d9af9['collectStats']();}[_0x3149ab(0x5d0)](_0x374c1b){const _0xfcf703=_0x3149ab;if(_0x374c1b[_0xfcf703(0x782)]!==_0x23b53c[_0xfcf703(0x5d8)]||_0x374c1b['propagate'])try{this['connectionGroup']['send'](_0x374c1b);}catch(_0x5b72f0){if(_0x5b72f0 instanceof _0x530d99)return;throw _0x5b72f0;}else this['connectionPool'][_0xfcf703(0x7f3)](_0x374c1b);}async[_0x3149ab(0x3a1)](_0x446f4b){const _0x5c3d18=_0x3149ab;switch(_0x446f4b[_0x5c3d18(0x130)][_0x5c3d18(0x16c)]){case _0x2d0fa6[_0x5c3d18(0x17d)]:case _0x2d0fa6[_0x5c3d18(0x843)]:case _0x2d0fa6[_0x5c3d18(0x74b)]:return;}if(!_0x446f4b[_0x5c3d18(0x249)]||0x1!==_0x446f4b[_0x5c3d18(0x249)][_0x5c3d18(0x878)])throw new _0x224ab2(_0x224ab2[_0x5c3d18(0x8b5)][_0x5c3d18(0x4bf)],{'message':_0x5c3d18(0x710),'event':_0x446f4b});if(_0x446f4b['destinationIds'][0x0]!==this[_0x5c3d18(0x5a0)][_0x5c3d18(0x9ba)][_0x5c3d18(0x394)]())throw new _0x224ab2(_0x224ab2[_0x5c3d18(0x8b5)]['PeerConnectionInvalidDestination'],{'message':_0x5c3d18(0x3ac),'event':_0x446f4b});if(!this[_0x5c3d18(0x597)][_0x5c3d18(0x2a7)](_0x446f4b['sourceId'])){let _0x19630e=_0x1ae943[_0x5c3d18(0x2d0)];if(!(this[_0x5c3d18(0xa82)](_0x446f4b[_0x5c3d18(0x130)])||this[_0x5c3d18(0x8b2)](_0x446f4b[_0x5c3d18(0x130)])||this[_0x5c3d18(0x297)](_0x446f4b['content'])))return;_0x19630e=_0x446f4b[_0x5c3d18(0x130)][_0x5c3d18(0x5db)],await this[_0x5c3d18(0x1ab)](_0x446f4b['sourceId'],_0x19630e);}const _0x11c90e=this[_0x5c3d18(0x597)][_0x5c3d18(0x524)](_0x446f4b[_0x5c3d18(0x61f)]);await _0x11c90e[_0x5c3d18(0x3a1)](_0x446f4b);}[_0x3149ab(0x4db)](_0x511514){const _0x1373e4=_0x3149ab;if(_0x511514[_0x1373e4(0x130)][_0x1373e4(0x16c)]===_0x518845[_0x1373e4(0x698)]){if(_0x511514[_0x1373e4(0x130)][_0x1373e4(0x731)]===this[_0x1373e4(0x5a0)][_0x1373e4(0x9ba)][_0x1373e4(0x394)]())return void this['connections']['forEach'](_0x57bd7b=>_0x57bd7b['handleRemediationSystemEvents'](_0x511514));this[_0x1373e4(0x597)][_0x1373e4(0x524)](_0x511514[_0x1373e4(0x130)]['targetId'])?.[_0x1373e4(0x4db)](_0x511514);}}[_0x3149ab(0x513)]({content:_0x57a268}){const _0x561bb5=_0x3149ab;_0x57a268[_0x561bb5(0x16c)]===_0x27b120['NodeLeave']&&this[_0x561bb5(0x69a)](_0x57a268['id']);}[_0x3149ab(0x9c9)](){const _0x150b34=_0x3149ab,_0x26979a=Array[_0x150b34(0x271)](this['connections'][_0x150b34(0x6da)]())[_0x150b34(0x399)]((_0x4153f9,_0x3602d6)=>_0x4153f9+_0x3602d6[_0x150b34(0x88f)](),0x0);return _0x26979a<_0x3c4129?Promise[_0x150b34(0x591)](_0x26979a):new Promise(_0x553fd0=>{const _0x5adc8=setInterval(()=>{const _0x35b7ce=a0_0x38d9,_0x3c27d9=Array[_0x35b7ce(0x271)](this[_0x35b7ce(0x597)][_0x35b7ce(0x6da)]())[_0x35b7ce(0x399)]((_0x1ca65d,_0x2ff839)=>_0x1ca65d+_0x2ff839[_0x35b7ce(0x88f)](),0x0);_0x3c27d9<_0x3c4129&&(clearInterval(_0x5adc8),_0x553fd0(_0x3c27d9));},0x3e8);});}['hasBufferedData'](){const _0x563d75=_0x3149ab;for(const _0x47a0d8 of this[_0x563d75(0x597)][_0x563d75(0x6da)]())if(_0x47a0d8['getBufferedAmount']()>0x0||_0x47a0d8['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x3149ab(0x69a)](_0x2a48cb){const _0x29b50d=_0x3149ab,_0x1a8ded=this[_0x29b50d(0x597)][_0x29b50d(0x524)](_0x2a48cb);_0x1a8ded&&(this[_0x29b50d(0x5a0)][_0x29b50d(0x8f7)][_0x29b50d(0xa9e)](_0x2a48cb),this[_0x29b50d(0x5a0)]['mediator'][_0x29b50d(0x41a)](_0x1a8ded),_0x1a8ded instanceof _0x1e16d3&&this[_0x29b50d(0x79a)][_0x29b50d(0x889)](_0x1a8ded),_0x1a8ded[_0x29b50d(0x11b)](),this[_0x29b50d(0x597)][_0x29b50d(0x979)](_0x2a48cb));}[_0x3149ab(0xa82)](_0x118a18){const _0x175c80=_0x3149ab;return _0x118a18[_0x175c80(0x16c)]===_0x2d0fa6[_0x175c80(0x272)];}[_0x3149ab(0x297)](_0x246d8b){const _0x5d4c16=_0x3149ab;return _0x246d8b[_0x5d4c16(0x16c)]===_0x2d0fa6[_0x5d4c16(0x9b4)];}['isIceCandidate'](_0x181c06){const _0x3fbb09=_0x3149ab;return _0x181c06[_0x3fbb09(0x16c)]===_0x2d0fa6['Handshake'];}}!function(_0x1e688e){const _0x2ab702=_0x3149ab;_0x1e688e[_0x1e688e[_0x2ab702(0x752)]=0x0]=_0x2ab702(0x752),_0x1e688e[_0x1e688e['UpdateMediaStream']=0x1]=_0x2ab702(0x56b),_0x1e688e[_0x1e688e['UnsubscribeMediaStream']=0x2]=_0x2ab702(0xae8),_0x1e688e[_0x1e688e[_0x2ab702(0x6d5)]=0x3]=_0x2ab702(0x6d5),_0x1e688e[_0x1e688e[_0x2ab702(0x101)]=0x4]=_0x2ab702(0x101),_0x1e688e[_0x1e688e[_0x2ab702(0x474)]=0x5]=_0x2ab702(0x474),_0x1e688e[_0x1e688e[_0x2ab702(0x5a9)]=0x6]=_0x2ab702(0x5a9),_0x1e688e[_0x1e688e[_0x2ab702(0x8f3)]=0x7]=_0x2ab702(0x8f3);}(_0x5af822||(_0x5af822={}));class _0x447066 extends _0x2e9fe0{['localNode'];[_0x3149ab(0x8ae)];[_0x3149ab(0x164)];['connectorConstructor'];['debounceStats'];[_0x3149ab(0x369)]=0x0;['connector'];[_0x3149ab(0x622)]=_0x269228();[_0x3149ab(0x32c)]=new Map();[_0x3149ab(0x6c5)];constructor(_0x4cb70a,_0x2643c1,_0x4fc6e5,_0x9a6dd1,_0x4430ee){const _0x4940f9=_0x3149ab;if(_0x4940f9(0x657)!=typeof _0x2643c1)throw new _0xab88d9(_0x3cba44[_0x4940f9(0x2be)],_0x4940f9(0xaca));super(_0x4cb70a,_0x2643c1),this[_0x4940f9(0x9ba)]=_0x4cb70a,this[_0x4940f9(0x8ae)]=_0x4fc6e5,this[_0x4940f9(0x164)]=_0x9a6dd1,this[_0x4940f9(0x65f)]=_0x4430ee,this[_0x4940f9(0x39c)]();}[_0x3149ab(0x2cb)](){const _0x2a140d=_0x3149ab;this[_0x2a140d(0x6c5)]?.(),this['listenerUnsubscribers'][_0x2a140d(0x1d0)](_0x114fc1=>_0x114fc1()),clearTimeout(this[_0x2a140d(0x264)]),delete this['debounceStats'],super[_0x2a140d(0x2cb)]();}[_0x3149ab(0x626)](){const _0x27a0bf=_0x3149ab;this[_0x27a0bf(0x39c)]();}['close'](){const _0x5e2e76=_0x3149ab;this[_0x5e2e76(0x364)][_0x5e2e76(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x5e2e76(0x620)],'content':{'type':_0x253ba5['CloseExternalStorageConnection'],'label':this['label']}});}[_0x3149ab(0x941)](){return _0x3a4c7c['ContentType']['ExternalStorage'];}async[_0x3149ab(0x524)](_0x16e57c){const _0x5404ef=_0x3149ab;if(!this[_0x5404ef(0x675)])throw new _0xab88d9(_0x3cba44[_0x5404ef(0x99a)],_0x5404ef(0x9ea));_0x5b2279[_0x5404ef(0x995)](_0x3ce5a1[_0x5404ef(0x393)],{'type':'get','label':this[_0x5404ef(0x3a4)],'nodeId':this[_0x5404ef(0x9ba)]['getId'](),'nodeType':this[_0x5404ef(0x9ba)][_0x5404ef(0x16c)],'clusterId':this['clusterId'],'path':_0x16e57c}),this['reads']+=0x1,this[_0x5404ef(0x39c)]();try{return await this['connector']['get'](_0x16e57c);}catch(_0x265315){throw new _0xab88d9(_0x3cba44[_0x5404ef(0x5d7)],'Cannot\x20get\x20file:\x20'+_0x16e57c);}}async[_0x3149ab(0x253)](_0x1fb35f,_0x3861e0){const _0x235404=_0x3149ab;if(!this[_0x235404(0x675)])throw new _0xab88d9(_0x3cba44[_0x235404(0x99a)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x44f923=!0x1}=_0x3861e0??{};_0x5b2279[_0x235404(0x995)](_0x3ce5a1[_0x235404(0x393)],{'type':_0x235404(0x253),'label':this[_0x235404(0x3a4)],'nodeId':this[_0x235404(0x9ba)][_0x235404(0x394)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x235404(0x8ae)],'path':_0x1fb35f}),this[_0x235404(0x369)]+=0x1,this[_0x235404(0x39c)]();try{return await this[_0x235404(0x675)]['list'](_0x1fb35f,_0x44f923);}catch(_0x5a57ab){throw new _0xab88d9(_0x3cba44['ExternalStorageInvalidPath'],_0x235404(0x95f)+_0x1fb35f);}}[_0x3149ab(0x438)](_0x4c968d,_0x1629cb){const _0x4b2f26=_0x3149ab;if(this[_0x4b2f26(0x32c)][_0x4b2f26(0x2a7)](_0x4c968d))throw new _0xab88d9(_0x3cba44['ExternalStorageConnectionAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x4b2f26(0x32c)]['set'](_0x4c968d,this[_0x4b2f26(0x622)][_0x4b2f26(0x438)](_0x1629cb));}['unsubscribe'](_0x1eaba2){const _0x36f7d9=_0x3149ab;this['listenerUnsubscribers'][_0x36f7d9(0x524)](_0x1eaba2)?.(),this['listenerUnsubscribers'][_0x36f7d9(0x979)](_0x1eaba2);}async[_0x3149ab(0x2d5)](){const _0x3fb593=_0x3149ab,_0x3c6492=(await(0x0,_0x48a8fe[_0x3fb593(0x43d)])((0x0,_0x48a8fe[_0x3fb593(0x6d4)])(_0x52f3ef[_0x3fb593(0x721)](),'/developers/'+this[_0x3fb593(0x164)]+_0x3fb593(0x27d)+this['label'])))['data']();if(!_0x3c6492)throw new _0xab88d9(_0x3cba44['ExternalStorageConnectionDoesNotExist'],_0x3fb593(0x52f)+this[_0x3fb593(0x3a4)]);const {site:_0x2a499c,drive:_0x136ce4}=_0x3c6492,_0x57a850=(await(0x0,_0x3ff2c6[_0x3fb593(0x13b)])(_0x52f3ef[_0x3fb593(0xa17)](),_0x3fb593(0x52d))({'storageId':this['label']}))[_0x3fb593(0x9b8)][_0x3fb593(0x209)];this[_0x3fb593(0x675)]=new this[(_0x3fb593(0x65f))](_0x2a499c['id'],_0x136ce4['id'],_0x57a850,async()=>(await(0x0,_0x3ff2c6[_0x3fb593(0x13b)])(_0x52f3ef[_0x3fb593(0xa17)](),_0x3fb593(0x37a))({'storageId':this[_0x3fb593(0x3a4)]}))[_0x3fb593(0x9b8)][_0x3fb593(0x209)]),this[_0x3fb593(0xa71)]();}[_0x3149ab(0x39c)](){const _0x33c9f8=_0x3149ab;this[_0x33c9f8(0x264)]&&clearTimeout(this['debounceStats']),this[_0x33c9f8(0x264)]=setTimeout(async()=>{const _0x2d77eb=_0x33c9f8;delete this[_0x2d77eb(0x264)],this[_0x2d77eb(0x364)][_0x2d77eb(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0x2d77eb(0x7f1)],'label':this['label'],'stats':{'timestamp':Date[_0x2d77eb(0x3fe)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x271d7b);}async['trackChanges'](){const _0x494334=_0x3149ab;await this['connector']?.['listChanges'](),this[_0x494334(0x6c5)]=_0x39ab67[_0x494334(0x589)](async()=>{const _0x4483ce=_0x494334;try{if(!this['connector'])return;const _0x4c983c=await this[_0x4483ce(0x675)][_0x4483ce(0x391)]();for(const _0x44dcaa of _0x4c983c)this[_0x4483ce(0x622)]['publish'](_0x44dcaa);}catch(_0x867146){}},0x493e0);}}const _0x300620=require('rxjs');class _0x5d5f33 extends _0x2e9fe0{['graphService'];['jobs']=new Map();[_0x3149ab(0x40e)]=new Map();['jobBids']=new Map();[_0x3149ab(0x4bc)];constructor(_0x285c71,_0x3fc502,_0x48abeb){const _0x4ffaa3=_0x3149ab;super(_0x285c71,_0x3fc502),this[_0x4ffaa3(0x288)]=_0x48abeb;}[_0x3149ab(0x941)](){const _0x48fdb8=_0x3149ab;return _0x3a4c7c[_0x48fdb8(0x346)][_0x48fdb8(0x6b5)];}[_0x3149ab(0x2d5)](){const _0x78b9e2=_0x3149ab;this['unsubscribeHandler']=this[_0x78b9e2(0x64c)]((_0x56b652,_0x4159d1)=>{const _0x567384=_0x78b9e2;if(_0x5b2279['log'](_0x44d495[_0x567384(0x152)],_0x567384(0x985),_0x56b652,_0x4159d1,this['graphService'][_0x567384(0x88d)]()),!(_0x4159d1 instanceof File)){if(!_0x4159d1)throw new _0x224ab2(_0x224ab2[_0x567384(0x8b5)][_0x567384(0x4b7)]);return this[_0x567384(0x870)](_0x4159d1)?this[_0x567384(0x486)](_0x56b652,_0x4159d1['id'],_0x4159d1):this[_0x567384(0x349)](_0x4159d1)?(_0x5b2279[_0x567384(0x66c)](_0x44d495[_0x567384(0x152)],_0x567384(0x2fb)+_0x4159d1['id']+'\x20received\x20partial\x20result:',_0x4159d1['result']),void this[_0x567384(0x540)](_0x4159d1['id'],_0x4159d1)):this[_0x567384(0x8ef)](_0x4159d1)?(_0x5b2279[_0x567384(0x66c)](_0x44d495['Jobs'],_0x567384(0x2fb)+_0x4159d1['id']+'\x20received\x20result:',_0x4159d1[_0x567384(0x712)]),void this[_0x567384(0x59d)](_0x4159d1['id'],_0x4159d1)):void(this[_0x567384(0x8b7)](_0x4159d1)&&this[_0x567384(0x29b)](_0x4159d1['id'],_0x4159d1[_0x567384(0x948)]));}});}[_0x3149ab(0x626)](){const _0x326a0d=_0x3149ab;this[_0x326a0d(0x876)](),this[_0x326a0d(0x2d5)]();}[_0x3149ab(0x2cb)](){const _0x166555=_0x3149ab;this[_0x166555(0x876)](),super[_0x166555(0x2cb)]();}[_0x3149ab(0x876)](){const _0x3a71aa=_0x3149ab;this['jobs']['clear'](),this[_0x3a71aa(0x4bc)]&&this[_0x3a71aa(0x4bc)]();}[_0x3149ab(0x11b)](){const _0x586b1f=_0x3149ab;this[_0x586b1f(0x364)]?.['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0x586b1f(0x5b4)],'label':this[_0x586b1f(0x3a4)]}});}async[_0x3149ab(0x7bb)](_0x252d22){const _0x160909=_0x3149ab,{id:_0x42a3eb,parameters:_0xa30159,jobType:_0x2f1afd}=_0x252d22,_0x238d62={'id':_0x42a3eb,'jobType':_0x2f1afd,'parameters':_0xa30159,'status':_0x3a4c7c['JobStatus'][_0x160909(0x1bb)],'created':new Date(),'updated':new Date()};if(this[_0x160909(0x324)][_0x160909(0x2a7)](_0x238d62['id']))throw new _0xab88d9(_0x3cba44[_0x160909(0x246)],'Job\x20with\x20id\x20'+_0x238d62['id']+'\x20already\x20exists.');_0x238d62[_0x160909(0x1f0)]=new Date(),_0x238d62['updated']=new Date();const _0x5bba4a=new _0x300620[(_0x160909(0x57b))]();this[_0x160909(0x324)][_0x160909(0x491)](_0x238d62['id'],_0x238d62),this[_0x160909(0x40e)][_0x160909(0x491)](_0x238d62['id'],_0x5bba4a);try{const _0x408bfe={'id':_0x238d62['id'],'jobPhase':_0x4dc193[_0x160909(0x497)],'jobType':_0x238d62[_0x160909(0x51a)]},_0x1191ca=0x3;let _0x456ef7=0x0;const _0x2f32c0=async()=>{const _0x133ad0=_0x160909;_0x456ef7+=0x1;try{_0x5b2279[_0x133ad0(0x66c)](_0x44d495[_0x133ad0(0x152)],'Job\x20'+_0x238d62['id']+_0x133ad0(0x329)+_0x456ef7+'.',this['graphService'][_0x133ad0(0x88d)]()),await this[_0x133ad0(0x7f3)](_0x408bfe),_0x238d62[_0x133ad0(0x2b8)]=new Date(),this[_0x133ad0(0x324)]['set'](_0x238d62['id'],_0x238d62),this[_0x133ad0(0x340)](_0x238d62['id']);}catch(_0x44255c){_0x456ef7<_0x1191ca?(_0x5b2279['warning'](_0x133ad0(0x8fc)+_0x456ef7+'\x20to\x20send\x20dispatcherJob\x20'+_0x238d62['id']+_0x133ad0(0x21e),{'nodeId':this['owner']['getId'](),'nodeType':this[_0x133ad0(0x67c)][_0x133ad0(0x16c)],'data':{'job':_0x238d62,'attempts':_0x456ef7,'maxRetries':_0x1191ca}}),setTimeout(_0x2f32c0,0x3e8)):(_0x238d62[_0x133ad0(0x27a)]=_0x3a4c7c[_0x133ad0(0x450)][_0x133ad0(0x5bc)],_0x238d62['updated']=new Date(),this[_0x133ad0(0x324)][_0x133ad0(0x491)](_0x238d62['id'],_0x238d62),_0x5b2279['error'](_0x133ad0(0xa4f)+_0x238d62['id']+_0x133ad0(0x2a8)+_0x1191ca+'\x20attempts:',{'nodeId':this['owner'][_0x133ad0(0x394)](),'nodeType':this[_0x133ad0(0x67c)][_0x133ad0(0x16c)],'data':{'job':_0x238d62,'attempts':_0x456ef7,'maxRetries':_0x1191ca,'error':_0x44255c}}));}};_0x2f32c0();const {id:_0x2d5017}=_0x238d62;this[_0x160909(0x4fb)]('Job\x20'+_0x238d62['id']+_0x160909(0x76b),{'jobId':_0x2d5017}),_0x238d62[_0x160909(0x2b8)]=new Date();}catch(_0x5b0f11){_0x238d62['status']=_0x3a4c7c['JobStatus'][_0x160909(0x5bc)],_0x5b2279[_0x160909(0x1be)]('Failed\x20to\x20send\x20job\x20'+_0x238d62['id']+':',{'nodeId':this[_0x160909(0x67c)][_0x160909(0x394)](),'nodeType':this[_0x160909(0x67c)][_0x160909(0x16c)],'data':{'job':_0x238d62,'error':_0x5b0f11}});}return _0x5bba4a[_0x160909(0xa7c)]();}[_0x3149ab(0x6be)](_0x2dadb6){const _0x3c26a0=_0x3149ab,_0x59cf67=this[_0x3c26a0(0x324)][_0x3c26a0(0x524)](_0x2dadb6);if(!_0x59cf67)throw new _0xab88d9(_0x3cba44['JobDispatcherJobNotFound'],_0x3c26a0(0xaab)+_0x2dadb6+_0x3c26a0(0x23e));return{'id':_0x59cf67['id'],'jobType':_0x59cf67[_0x3c26a0(0x51a)],'status':_0x59cf67['status'],'parameters':_0x59cf67['parameters']};}[_0x3149ab(0x880)](){const _0x437a95=_0x3149ab;return Array['from'](this['jobs']['values']())[_0x437a95(0x323)](_0x1bc4d7=>this[_0x437a95(0x6be)](_0x1bc4d7['id']));}async[_0x3149ab(0x4f5)](_0x1be209,_0x5f03d2){const _0x16848e=_0x3149ab,_0x546abd=this['jobs']['get'](_0x1be209);if(!_0x546abd)throw new _0xab88d9(_0x3cba44[_0x16848e(0x82e)],_0x16848e(0xaab)+_0x1be209+_0x16848e(0x23e));_0x546abd[_0x16848e(0x7a5)]=_0x5f03d2,_0x546abd[_0x16848e(0x2b8)]=new Date(),this[_0x16848e(0x324)][_0x16848e(0x491)](_0x1be209,_0x546abd);}async[_0x3149ab(0x60b)](_0x217c8a){const _0x4dc7e5=_0x3149ab;if(!this[_0x4dc7e5(0x324)][_0x4dc7e5(0x979)](_0x217c8a))throw new _0xab88d9(_0x3cba44[_0x4dc7e5(0x82e)],'Job\x20with\x20id\x20'+_0x217c8a+'\x20not\x20found.');const _0x2c1303=this['jobObservers']['get'](_0x217c8a);if(!_0x2c1303)throw new _0x224ab2(_0x224ab2[_0x4dc7e5(0x8b5)][_0x4dc7e5(0x4d1)]);_0x2c1303[_0x4dc7e5(0x3a5)](),this['jobObservers'][_0x4dc7e5(0x979)](_0x217c8a),_0x5b2279[_0x4dc7e5(0x66c)](_0x44d495['Jobs'],_0x4dc7e5(0x2fb)+_0x217c8a+'\x20deleted.');}['addBidResponse'](_0x19f24e,_0x4a648f,_0x19c6a2){const _0x140ad4=_0x3149ab,_0x3d67b8=this[_0x140ad4(0x7d1)]['get'](_0x4a648f)??new Map();_0x3d67b8[_0x140ad4(0x491)](_0x19f24e,[_0x19c6a2,Date[_0x140ad4(0x3fe)]()]),this['jobBids']['set'](_0x4a648f,_0x3d67b8),this['evaluateBidsAndAttributeJob'](_0x4a648f);}[_0x3149ab(0x340)](_0x4bc6fa){const _0x83e98c=_0x3149ab,_0x50e414=this[_0x83e98c(0x324)]['get'](_0x4bc6fa);if(!_0x50e414)throw new _0x224ab2(_0x224ab2[_0x83e98c(0x8b5)]['JobDispatcherJobNotFound']);const _0x449480=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x4bc6fa,!0x0),0xbb8);_0x50e414[_0x83e98c(0x918)]=_0x449480,this['jobs'][_0x83e98c(0x491)](_0x50e414['id'],_0x50e414);}[_0x3149ab(0x6fe)](_0x2bf13f,_0x2cbc09=!0x1){const _0x5cc2b5=_0x3149ab,_0x3a647c=this[_0x5cc2b5(0x288)]['getRemoteNodes'](),_0x3deba1=Array[_0x5cc2b5(0x271)](_0x3a647c['values']())['filter'](_0x3aafa5=>_0x3aafa5[_0x5cc2b5(0x16c)]===_0x3a4c7c['NodeType'][_0x5cc2b5(0x1cb)]),_0x1afebd=this[_0x5cc2b5(0x7d1)][_0x5cc2b5(0x524)](_0x2bf13f)??new Map();if(!_0x2cbc09&&(!_0x1afebd||_0x1afebd[_0x5cc2b5(0x1fa)]<_0x3deba1[_0x5cc2b5(0x878)]))return;const _0x350f19=this['jobs']['get'](_0x2bf13f);if(!_0x350f19)throw new _0x224ab2(_0x224ab2[_0x5cc2b5(0x8b5)][_0x5cc2b5(0x82e)]);if(clearTimeout(_0x350f19[_0x5cc2b5(0x918)]),_0x5b2279[_0x5cc2b5(0x66c)](_0x44d495[_0x5cc2b5(0x152)],'Job\x20'+_0x350f19['id']+_0x5cc2b5(0x475),_0x1afebd,this[_0x5cc2b5(0x7d1)]),!_0x1afebd||0x0===_0x1afebd['size']){_0x350f19[_0x5cc2b5(0x27a)]=_0x3a4c7c[_0x5cc2b5(0x450)][_0x5cc2b5(0x5bc)],_0x350f19[_0x5cc2b5(0x2b8)]=new Date(),_0x5b2279[_0x5cc2b5(0x1be)](_0x5cc2b5(0x2fb)+_0x350f19['id']+_0x5cc2b5(0x12c),{'nodeId':this[_0x5cc2b5(0x67c)][_0x5cc2b5(0x394)](),'nodeType':this[_0x5cc2b5(0x67c)][_0x5cc2b5(0x16c)],'data':{'job':_0x350f19,'responses':_0x1afebd}});const _0x9b14db=this[_0x5cc2b5(0x40e)][_0x5cc2b5(0x524)](_0x2bf13f);if(!_0x9b14db)throw new _0x224ab2(_0x224ab2['codes'][_0x5cc2b5(0x4d1)]);const _0x58f7ec=_0x5cc2b5(0x3b0),_0x23fa94={'id':_0x350f19['id'],'status':_0x350f19[_0x5cc2b5(0x27a)],'message':_0x58f7ec};return _0x9b14db[_0x5cc2b5(0x978)](_0x23fa94),_0x9b14db[_0x5cc2b5(0x3a5)](),this['jobs']['set'](_0x350f19['id'],_0x350f19),void this[_0x5cc2b5(0x7d1)][_0x5cc2b5(0x979)](_0x2bf13f);}const {nodeId:_0x2af34a,response:_0x323289}=this[_0x5cc2b5(0x27e)](_0x350f19['id'],_0x1afebd);_0x350f19[_0x5cc2b5(0x27a)]=_0x3a4c7c['JobStatus'][_0x5cc2b5(0x3ad)],_0x350f19['updated']=new Date(),_0x5b2279[_0x5cc2b5(0x66c)](_0x44d495[_0x5cc2b5(0x152)],_0x5cc2b5(0x2fb)+_0x350f19['id']+_0x5cc2b5(0x3b8)+_0x2af34a+_0x5cc2b5(0x439),_0x323289);const _0x17e326={'id':_0x350f19['id'],'jobType':_0x350f19[_0x5cc2b5(0x51a)],'jobPhase':_0x4dc193[_0x5cc2b5(0x74d)],'parameters':_0x350f19[_0x5cc2b5(0x7a5)]};this[_0x5cc2b5(0x7f3)](_0x17e326,[_0x2af34a]),this[_0x5cc2b5(0x324)][_0x5cc2b5(0x491)](_0x350f19['id'],_0x350f19),this[_0x5cc2b5(0x7d1)][_0x5cc2b5(0x979)](_0x2bf13f);}[_0x3149ab(0x27e)](_0x208a88,_0x514a62){const _0x312262=_0x3149ab;let _0x59a030;const _0x2589cc=Array['from'](_0x514a62[_0x312262(0x2ac)]())[_0x312262(0x683)](([,[_0x5b69b1]])=>_0x5b69b1[_0x312262(0x4a0)]);if(_0x59a030=_0x2589cc[_0x312262(0x878)]>0x0?Array['from'](_0x514a62[_0x312262(0x2ac)]())[_0x312262(0x69d)]((_0x40dcfc,_0xdac8b9)=>_0xdac8b9[0x1][0x0][_0x312262(0x87f)]-_0x40dcfc[0x1][0x0][_0x312262(0x87f)]):Array[_0x312262(0x271)](_0x514a62[_0x312262(0x2ac)]())[_0x312262(0x69d)]((_0xb9b040,_0x80c019)=>_0xb9b040[0x1][0x0][_0x312262(0xa98)]-_0x80c019[0x1][0x0][_0x312262(0xa98)]),0x1===_0x59a030[_0x312262(0x878)])return{'nodeId':_0x59a030[0x0][0x0],'response':_0x59a030[0x0][0x1][0x0]};let _0x5c757e;if(_0x5c757e=_0x2589cc[_0x312262(0x878)]>0x0?(_0xc1b23e=>{const _0x176634=_0x312262,_0x64f111=_0xc1b23e[0x0][0x1][0x0][_0x176634(0x87f)];return _0xc1b23e[_0x176634(0x683)](([,[_0xf5e693]])=>_0xf5e693['bid']===_0x64f111);})(_0x59a030):(_0xe91adb=>{const _0x451dc9=_0x312262,_0x2e6545=_0xe91adb[0x0][0x1][0x0]['queueLength'];return _0xe91adb[_0x451dc9(0x683)](([,[_0x3db6cc]])=>_0x3db6cc[_0x451dc9(0xa98)]===_0x2e6545);})(_0x59a030),0x1===_0x5c757e['length'])return{'nodeId':_0x5c757e[0x0][0x0],'response':_0x5c757e[0x0][0x1][0x0]};const _0x4a54e5=this[_0x312262(0x324)]['get'](_0x208a88);if(!_0x4a54e5)throw new _0x224ab2(_0x224ab2[_0x312262(0x8b5)]['JobDispatcherJobNotFound']);const _0x3daeb2=_0x4a54e5[_0x312262(0x1f0)]['getTime'](),_0x1e0515=_0x5c757e['map'](([_0x5960f7,[,_0x27ea49]])=>({'nodeId':_0x5960f7,'rtt':_0x27ea49-_0x3daeb2})),_0x28f539=Math[_0x312262(0x34c)](..._0x1e0515[_0x312262(0x323)](({rtt:_0x440e80})=>_0x440e80)),_0x5e64e6=_0x1e0515[_0x312262(0x8e4)](({rtt:_0x4aff14})=>_0x4aff14===_0x28f539),[,[_0xbc087d]]=_0x5c757e['find'](([_0x2f9a9b])=>_0x2f9a9b===_0x5e64e6[_0x312262(0x3d7)]);return{'nodeId':_0x5e64e6[_0x312262(0x3d7)],'response':_0xbc087d};}[_0x3149ab(0x540)](_0x1f5c0b,_0x3761f5){const _0xb7b57b=_0x3149ab,_0x36fbc6=this[_0xb7b57b(0x324)][_0xb7b57b(0x524)](_0x1f5c0b);if(!_0x36fbc6)throw new _0x224ab2(_0x224ab2[_0xb7b57b(0x8b5)][_0xb7b57b(0x82e)]);const _0x6afa14=this['jobObservers'][_0xb7b57b(0x524)](_0x1f5c0b);if(!_0x6afa14)throw new _0x224ab2(_0x224ab2[_0xb7b57b(0x8b5)][_0xb7b57b(0x4d1)]);const _0x6fa97b={'id':_0x36fbc6['id'],'status':_0x3a4c7c[_0xb7b57b(0x450)][_0xb7b57b(0x248)],'result':_0x3761f5[_0xb7b57b(0x712)]};_0x6afa14[_0xb7b57b(0x978)](_0x6fa97b);}[_0x3149ab(0x59d)](_0x39a687,_0x2aecd2){const _0x411dcc=_0x3149ab,_0x1518cf=this['jobs'][_0x411dcc(0x524)](_0x39a687);if(!_0x1518cf)throw new _0x224ab2(_0x224ab2[_0x411dcc(0x8b5)][_0x411dcc(0x82e)]);const _0xd0ca54=this[_0x411dcc(0x40e)][_0x411dcc(0x524)](_0x39a687);if(!_0xd0ca54)throw new _0x224ab2(_0x224ab2[_0x411dcc(0x8b5)][_0x411dcc(0x4d1)]);_0x1518cf['status']=_0x3a4c7c[_0x411dcc(0x450)][_0x411dcc(0x2d3)];const _0x1fdb50={'id':_0x1518cf['id'],'status':_0x1518cf[_0x411dcc(0x27a)],'result':_0x2aecd2['result']};_0xd0ca54[_0x411dcc(0x978)](_0x1fdb50),_0xd0ca54[_0x411dcc(0x3a5)](),this[_0x411dcc(0x40e)][_0x411dcc(0x979)](_0x39a687),this[_0x411dcc(0x4fb)](_0x411dcc(0x2fb)+_0x39a687+'\x20finalized.',{'jobId':_0x39a687});}[_0x3149ab(0x29b)](_0x2de3bb,_0x51d8c2){const _0x383721=_0x3149ab,_0x115216=this['jobs'][_0x383721(0x524)](_0x2de3bb);if(!_0x115216)throw new _0x224ab2(_0x224ab2[_0x383721(0x8b5)][_0x383721(0x82e)]);const _0x3b16a8=this['jobObservers']['get'](_0x2de3bb);if(!_0x3b16a8)throw new _0x224ab2(_0x224ab2[_0x383721(0x8b5)]['JobDispatcherObserverNotFound']);_0x115216[_0x383721(0x27a)]=_0x3a4c7c[_0x383721(0x450)][_0x383721(0x5bc)];const _0xa6925d={'id':_0x115216['id'],'status':_0x115216[_0x383721(0x27a)],'message':_0x51d8c2};_0x3b16a8['next'](_0xa6925d),_0x3b16a8['complete'](),this[_0x383721(0x40e)][_0x383721(0x979)](_0x2de3bb),this['logEvent'](_0x383721(0x2fb)+_0x2de3bb+_0x383721(0x950),{'jobId':_0x2de3bb});}['logEvent'](_0x21d883,{jobId:_0x2406a8}){const _0x1b3b7b=_0x3149ab,_0x44498c={'jobId':_0x2406a8,'mistletIds':Array[_0x1b3b7b(0x271)](this[_0x1b3b7b(0x288)][_0x1b3b7b(0x88d)]()['values']())[_0x1b3b7b(0x683)](_0x3f0758=>_0x3f0758['type']===_0x3a4c7c[_0x1b3b7b(0x4eb)][_0x1b3b7b(0x1cb)])[_0x1b3b7b(0x323)](_0x10738f=>_0x10738f[_0x1b3b7b(0x394)]())};_0x5b2279[_0x1b3b7b(0x4fb)](_0x21d883,{'nodeId':this[_0x1b3b7b(0x84a)](),'nodeType':this['owner'][_0x1b3b7b(0x16c)],'data':_0x44498c}),_0x5b2279['log'](_0x44d495[_0x1b3b7b(0x152)],_0x21d883,_0x44498c);}[_0x3149ab(0x870)](_0x26c09a){const _0x106bdc=_0x3149ab,{jobPhase:_0x5ba7b6,available:_0x121a4a,bid:_0x433247}=_0x26c09a;return _0x5ba7b6===_0x4dc193[_0x106bdc(0x15b)]&&void 0x0!==_0x121a4a&&void 0x0!==_0x433247;}[_0x3149ab(0x349)](_0x35ab5d){const {jobPhase:_0x584e49,result:_0xa9ec79}=_0x35ab5d;return _0x584e49===_0x4dc193['PartialResult']&&void 0x0!==_0xa9ec79;}[_0x3149ab(0x8ef)](_0x2f71ad){const _0x2891c5=_0x3149ab,{jobPhase:_0x53696f,result:_0x3a30a9}=_0x2f71ad;return _0x53696f===_0x4dc193[_0x2891c5(0x64e)]&&void 0x0!==_0x3a30a9;}[_0x3149ab(0x8b7)](_0x4de328){const _0x1d3440=_0x3149ab,{jobPhase:_0x1329cd,message:_0x4dad45}=_0x4de328;return _0x1329cd===_0x4dc193[_0x1d3440(0x5bc)]&&void 0x0!==_0x4dad45&&_0x1d3440(0x657)==typeof _0x4dad45;}}var _0x5d6852,_0x557158,_0x2a2e74,_0x4b98fc,_0xac7fe7;!function(_0x432409){const _0x23baf6=_0x3149ab;_0x432409[_0x23baf6(0x25a)]=_0x23baf6(0x5cb),_0x432409[_0x23baf6(0x393)]=_0x23baf6(0x331);}(_0x5d6852||(_0x5d6852={})),function(_0x18a475){const _0x4b9a25=_0x3149ab;_0x18a475['Agent']=_0x4b9a25(0x998),_0x18a475[_0x4b9a25(0x7b2)]=_0x4b9a25(0x4b2),_0x18a475[_0x4b9a25(0x3dd)]=_0x4b9a25(0x4a8),_0x18a475[_0x4b9a25(0x350)]=_0x4b9a25(0x161),_0x18a475[_0x4b9a25(0x582)]=_0x4b9a25(0x93d),_0x18a475[_0x4b9a25(0x1ee)]=_0x4b9a25(0x422),_0x18a475[_0x4b9a25(0x61d)]='prompt',_0x18a475[_0x4b9a25(0xa38)]='answer',_0x18a475[_0x4b9a25(0xab9)]=_0x4b9a25(0x634),_0x18a475[_0x4b9a25(0x36b)]='form-skill',_0x18a475[_0x4b9a25(0x4d4)]=_0x4b9a25(0x5e9),_0x18a475['AiSearch']=_0x4b9a25(0x3bb),_0x18a475['WebScraper']=_0x4b9a25(0x853),_0x18a475[_0x4b9a25(0x426)]='web-scraper-raw',_0x18a475[_0x4b9a25(0x275)]=_0x4b9a25(0x92d),_0x18a475['WriteFile']='write-file',_0x18a475[_0x4b9a25(0x9ce)]=_0x4b9a25(0x1fc),_0x18a475[_0x4b9a25(0xa5c)]=_0x4b9a25(0x776),_0x18a475[_0x4b9a25(0x1b2)]=_0x4b9a25(0x6c4),_0x18a475[_0x4b9a25(0x714)]=_0x4b9a25(0x60c),_0x18a475['InputAudioStream']='input-audio-stream',_0x18a475[_0x4b9a25(0x171)]=_0x4b9a25(0x6a5),_0x18a475[_0x4b9a25(0x48c)]=_0x4b9a25(0x40d);}(_0x557158||(_0x557158={})),function(_0x2bc024){const _0xd27de9=_0x3149ab;_0x2bc024['ObjectStorageUpload']=_0xd27de9(0x8fa),_0x2bc024[_0xd27de9(0x289)]='external-storage-upload',_0x2bc024[_0xd27de9(0x714)]=_0xd27de9(0x60c),_0x2bc024[_0xd27de9(0x9ce)]='chunk-splitter',_0x2bc024[_0xd27de9(0x1b2)]=_0xd27de9(0x6c4),_0x2bc024[_0xd27de9(0xa5c)]=_0xd27de9(0x776),_0x2bc024['RelationExtractor']=_0xd27de9(0x427),_0x2bc024[_0xd27de9(0x11e)]=_0xd27de9(0x75b),_0x2bc024[_0xd27de9(0x7d9)]=_0xd27de9(0x47c),_0x2bc024['Model']=_0xd27de9(0x903),_0x2bc024[_0xd27de9(0x1cb)]=_0xd27de9(0x998),_0x2bc024['ObjectStorageBucket']='object-storage',_0x2bc024[_0xd27de9(0x327)]=_0xd27de9(0x2f7),_0x2bc024['VectorDatabase']=_0xd27de9(0x32f),_0x2bc024['GraphDatabase']='graph-database',_0x2bc024[_0xd27de9(0x61d)]=_0xd27de9(0xa0b),_0x2bc024['Context']=_0xd27de9(0x32b),_0x2bc024['Upload']='upload',_0x2bc024[_0xd27de9(0x8c3)]='embed';}(_0x2a2e74||(_0x2a2e74={})),function(_0x234ce6){const _0x54aab2=_0x3149ab;_0x234ce6[_0x54aab2(0x6a9)]=_0x54aab2(0x543),_0x234ce6['Text']=_0x54aab2(0xa7a),_0x234ce6[_0x54aab2(0x458)]=_0x54aab2(0x873),_0x234ce6[_0x54aab2(0x7a3)]=_0x54aab2(0x354),_0x234ce6[_0x54aab2(0x719)]='data',_0x234ce6[_0x54aab2(0x371)]=_0x54aab2(0x824),_0x234ce6['Entity']=_0x54aab2(0x8d8),_0x234ce6[_0x54aab2(0x2bb)]=_0x54aab2(0xa70),_0x234ce6[_0x54aab2(0x4d4)]='search',_0x234ce6[_0x54aab2(0x1d8)]=_0x54aab2(0x270),_0x234ce6['Tool']=_0x54aab2(0x4c1),_0x234ce6[_0x54aab2(0x188)]=_0x54aab2(0x32b),_0x234ce6[_0x54aab2(0x9b5)]=_0x54aab2(0x1a0),_0x234ce6[_0x54aab2(0x5f5)]='wait-true',_0x234ce6[_0x54aab2(0xace)]=_0x54aab2(0x8c8);}(_0x4b98fc||(_0x4b98fc={})),function(_0x27e545){const _0x1f4e76=_0x3149ab;_0x27e545['Shared']='shared',_0x27e545[_0x1f4e76(0x33a)]=_0x1f4e76(0x322),_0x27e545[_0x1f4e76(0x15f)]='dedicated';}(_0xac7fe7||(_0xac7fe7={}));const _0x1c80f4=[{'type':_0x557158['Router'],'id':_0x3149ab(0x508),'name':_0x3149ab(0x292),'description':_0x3149ab(0xa76),'modelId':'gpt-4o-mini','instructions':_0x3149ab(0x791),'grammar':_0x3149ab(0x774),'temperature':0x0,'maxTokens':0x64}],_0x1bb1fb=[{'type':_0x557158[_0x3149ab(0x1cb)],'id':'blank-agent','name':_0x3149ab(0x18d),'description':'','modelId':'gpt-4o-mini','instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158['Agent'],'id':_0x3149ab(0x1f2),'name':'Generic\x20AI\x20Agent','description':_0x3149ab(0x7ad),'modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0x52a),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x8f1),'name':'Search\x20Agent','description':_0x3149ab(0x607),'modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0x48a),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x4ad),'name':'Feedback\x20Agent','description':'Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','modelId':_0x3149ab(0x5c2),'instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x30c),'name':_0x3149ab(0x3c1),'description':_0x3149ab(0x50f),'modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0x25b),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x52c),'name':_0x3149ab(0x771),'description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':'gpt-4o-mini','instructions':_0x3149ab(0x3af),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x389),'name':_0x3149ab(0x6ac),'description':'Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0x118),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x8a2),'name':_0x3149ab(0x8fd),'description':_0x3149ab(0xa4e),'modelId':'gpt-4o-mini','instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158['Agent'],'id':_0x3149ab(0x73d),'name':_0x3149ab(0x4ea),'description':'Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','modelId':'gpt-4o-mini','instructions':_0x3149ab(0x576),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x933),'name':_0x3149ab(0x7a0),'description':_0x3149ab(0x8eb),'modelId':'gpt-4o-mini','instructions':_0x3149ab(0xa6d),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x537),'name':_0x3149ab(0x483),'description':'Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0xa75),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x557158[_0x3149ab(0x1cb)],'id':_0x3149ab(0x8f6),'name':_0x3149ab(0x9d1),'description':_0x3149ab(0x183),'modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0x2a4),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3149ab(0x194),'name':_0x3149ab(0x179),'description':_0x3149ab(0x165),'modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0x99e),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x3149ab(0x2f1),'name':_0x3149ab(0x74c),'description':'Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','modelId':_0x3149ab(0x5c2),'instructions':_0x3149ab(0xa2b),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'document-agent','name':_0x3149ab(0x8c5),'description':_0x3149ab(0x5eb),'modelId':'gpt-4o-mini','instructions':_0x3149ab(0x4b4),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x2954b6{static [_0x3149ab(0x663)];constructor(){}static['getInstance'](){const _0x1dec4b=_0x3149ab;return _0x2954b6[_0x1dec4b(0x663)]||(_0x2954b6[_0x1dec4b(0x663)]=new _0x2954b6()),_0x2954b6[_0x1dec4b(0x663)];}async[_0x3149ab(0x883)](_0x2837a2,_0x3efc9f){const _0x3b3345=_0x3149ab,_0x3ce15c=await(0x0,_0x48a8fe[_0x3b3345(0x43d)])((0x0,_0x48a8fe['doc'])(_0x52f3ef[_0x3b3345(0x721)](),_0x3b3345(0xa99)+_0x2837a2+_0x3b3345(0x14c)+_0x3efc9f)),_0x7d94ab=await this[_0x3b3345(0x433)](_0x2837a2),_0x5d1e06=await this[_0x3b3345(0x4bd)](_0x2837a2),_0x320129=await this[_0x3b3345(0x909)](_0x2837a2);if(!_0x3ce15c[_0x3b3345(0x7a4)]())throw new _0x224ab2(_0x224ab2[_0x3b3345(0x8b5)][_0x3b3345(0x2e3)]);return this[_0x3b3345(0x58d)](_0x3ce15c,_0x7d94ab,_0x5d1e06,_0x320129);}async[_0x3149ab(0x909)](_0x19f144){const _0x523cab=_0x3149ab;return(await(0x0,_0x48a8fe[_0x523cab(0x606)])((0x0,_0x48a8fe[_0x523cab(0x9f5)])(_0x52f3ef[_0x523cab(0x721)](),_0x523cab(0xa99)+_0x19f144+_0x523cab(0x9c5))))[_0x523cab(0x5c6)][_0x523cab(0x323)](_0x3d87db=>{const _0x4884f0=_0x523cab,_0x44f97a=_0x3d87db[_0x4884f0(0x9b8)]();return{'type':_0x557158['DataCollection'],'id':_0x3d87db['id'],'name':_0x44f97a['name'],'description':_0x44f97a[_0x4884f0(0x971)],'storageType':_0x44f97a[_0x4884f0(0x955)]??_0x3a4c7c[_0x4884f0(0x25f)][_0x4884f0(0x91a)],'hosting':_0x44f97a['hosting']??_0xac7fe7[_0x4884f0(0x15f)],'modelId':_0x44f97a[_0x4884f0(0x549)]??'text-embedding-3-small','ingestBlocks':_0x44f97a[_0x4884f0(0x905)],'retrieveBlocks':_0x44f97a[_0x4884f0(0x2a1)]};});}async['getDataCollection'](_0x1ad4ce,_0xab7268){const _0x580401=_0x3149ab,_0x228871=await(0x0,_0x48a8fe[_0x580401(0x43d)])((0x0,_0x48a8fe['doc'])(_0x52f3ef['getFirestore'](),_0x580401(0xa99)+_0x1ad4ce+_0x580401(0x6fb)+_0xab7268)),_0x583d6b=await this['getAgents'](_0x1ad4ce),_0xfb97d9=_0x228871[_0x580401(0x9b8)]();if(!_0xfb97d9)throw new _0x224ab2(_0x224ab2[_0x580401(0x8b5)]['DataCollectionDoesNotExist']);return{'type':_0x557158[_0x580401(0x582)],'id':_0xab7268,'uid':_0xab7268,'name':_0xfb97d9[_0x580401(0x662)],'description':_0xfb97d9['description'],'storageType':_0xfb97d9[_0x580401(0x955)]??_0x3a4c7c[_0x580401(0x25f)][_0x580401(0x91a)],'hosting':_0xfb97d9[_0x580401(0x842)]??_0xac7fe7['Dedicated'],'modelId':_0xfb97d9[_0x580401(0x549)]??_0x580401(0x4f1),'ingestBlocks':this['parseDataCollectionBlocks'](_0xfb97d9[_0x580401(0x905)],_0x583d6b),'retrieveBlocks':this[_0x580401(0x654)](_0xfb97d9[_0x580401(0x2a1)],_0x583d6b),'links':[]};}['parseWorkflowDocument'](_0x7b5f06,_0x13a90b,_0x5ea4e7,_0x186752){const _0x48285f=_0x3149ab,_0xe551f3=_0x7b5f06[_0x48285f(0x9b8)]();if(!_0xe551f3)throw new _0x224ab2(_0x224ab2[_0x48285f(0x8b5)][_0x48285f(0x2e3)]);const _0x1c110c=this[_0x48285f(0x1c9)](_0xe551f3[_0x48285f(0x301)],_0x13a90b,_0x5ea4e7,_0x186752);return{'id':_0x7b5f06['id'],'name':_0xe551f3[_0x48285f(0x662)],'description':_0xe551f3[_0x48285f(0x971)],'blocks':_0x1c110c,'dataBucketIds':this[_0x48285f(0x13e)](_0x1c110c),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x1c110c),'initialPrompt':_0xe551f3[_0x48285f(0x286)]};}[_0x3149ab(0x13e)](_0x3481f5){const _0x16a230=_0x3149ab,_0x3192da=new Set();for(const _0x4863a3 of _0x3481f5)switch(_0x4863a3['type']){case _0x557158[_0x16a230(0x1ee)]:case _0x557158[_0x16a230(0x582)]:for(const _0x2e62af of[..._0x4863a3[_0x16a230(0x905)],..._0x4863a3['retrieveBlocks']])_0x2e62af[_0x16a230(0x16c)]===_0x2a2e74[_0x16a230(0x2f2)]&&_0x3192da[_0x16a230(0x638)](_0x2e62af['id']);}return Array[_0x16a230(0x271)](_0x3192da);}['getWorkflowExternalStorageConnections'](_0x4af1ed){const _0x418f46=_0x3149ab,_0x2d9344=new Set();for(const _0x1a5898 of _0x4af1ed)switch(_0x1a5898[_0x418f46(0x16c)]){case _0x557158['Knowledge']:case _0x557158[_0x418f46(0x582)]:for(const _0x446a32 of[..._0x1a5898[_0x418f46(0x905)],..._0x1a5898['retrieveBlocks']])_0x446a32[_0x418f46(0x16c)]===_0x2a2e74[_0x418f46(0x289)]&&_0x2d9344[_0x418f46(0x638)](_0x446a32['id']);}return Array['from'](_0x2d9344);}['parseWorkflowBlocks'](_0x10d5eb,_0x28bf3a,_0x2d96d,_0x306a44){const _0xc9f8cf=_0x3149ab;return _0x10d5eb[_0xc9f8cf(0x323)](_0x1a8dd6=>{const _0x260dd7=_0xc9f8cf;switch(_0x1a8dd6[_0x260dd7(0x16c)]){case _0x557158[_0x260dd7(0x1cb)]:case _0x557158[_0x260dd7(0x7b2)]:case _0x557158['Router']:const _0x220ba0=_0x28bf3a['find'](_0x2db972=>_0x2db972['id']===_0x1a8dd6['id']);if(!_0x220ba0)throw new _0x224ab2(_0x224ab2['codes'][_0x260dd7(0x4ab)],{'block':_0x1a8dd6});return{'type':_0x557158[_0x260dd7(0x1cb)],'id':_0x220ba0['id'],'uid':_0x1a8dd6[_0x260dd7(0x232)],'name':_0x220ba0['name'],'description':_0x220ba0[_0x260dd7(0x971)],'instructions':(_0x220ba0[_0x260dd7(0x381)]+'\x0a\x0a'+(_0x1a8dd6[_0x260dd7(0x998)]?.[_0x260dd7(0x36d)]??''))['trim'](),'contextOutputVariable':_0x1a8dd6[_0x260dd7(0x998)]?.[_0x260dd7(0x2dc)],'contextInputVariable':_0x1a8dd6['agent']?.[_0x260dd7(0x328)],'reasoning':_0x1a8dd6[_0x260dd7(0x998)]?.[_0x260dd7(0x299)]??!0x1,'grammar':_0x1a8dd6[_0x260dd7(0x998)]?.[_0x260dd7(0x875)]??_0x260dd7(0x823),'temperature':_0x1a8dd6[_0x260dd7(0x998)]?.[_0x260dd7(0x9d3)]??0.5,'maxTokens':_0x1a8dd6['agent']?.[_0x260dd7(0x686)]??0x1f4,'modelId':_0x1a8dd6['agent']?.[_0x260dd7(0x549)]??_0x260dd7(0x5c2),'links':_0x1a8dd6[_0x260dd7(0x342)]};case _0x557158[_0x260dd7(0x1ee)]:case _0x557158[_0x260dd7(0x582)]:const _0x5401a5=_0x306a44['find'](_0x3ec438=>_0x3ec438['id']===_0x1a8dd6['id']);if(!_0x5401a5)throw new _0x224ab2(_0x224ab2['codes']['WorkflowInvalidBlockType'],{'block':_0x1a8dd6});return{'type':_0x1a8dd6[_0x260dd7(0x16c)],'id':_0x5401a5['id'],'uid':_0x1a8dd6[_0x260dd7(0x232)],'name':_0x5401a5[_0x260dd7(0x662)],'description':_0x5401a5[_0x260dd7(0x971)],'ingestBlocks':this[_0x260dd7(0x654)](_0x5401a5[_0x260dd7(0x905)],_0x28bf3a),'retrieveBlocks':this[_0x260dd7(0x654)](_0x5401a5[_0x260dd7(0x2a1)],_0x28bf3a),'links':_0x1a8dd6[_0x260dd7(0x342)]};case _0x557158['CustomSkill']:return{'type':_0x1a8dd6['type'],'id':_0x1a8dd6['id'],'uid':_0x1a8dd6['uid'],'name':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x662)],'description':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x971)],'parameters':_0x1a8dd6['tool'][_0x260dd7(0x7a5)],'endpointUrl':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x526)],'endpointMethod':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x1ad)],'headers':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0xa12)],'queryParameters':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x577)],'bodyParameters':_0x1a8dd6[_0x260dd7(0x4c1)]['bodyParameters'],'contextOutputVariable':_0x1a8dd6[_0x260dd7(0x4c1)]['contextOutputVariable'],'links':_0x1a8dd6[_0x260dd7(0x342)]};case _0x557158[_0x260dd7(0x36b)]:return{'type':_0x1a8dd6['type'],'id':_0x1a8dd6['id'],'uid':_0x1a8dd6[_0x260dd7(0x232)],'name':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x662)],'description':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x971)],'questions':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0xa18)][_0x260dd7(0x323)](_0x222d8f=>({'id':_0x222d8f['id'],'question':_0x222d8f[_0x260dd7(0x662)],'validation':_0x222d8f[_0x260dd7(0x687)],'required':_0x260dd7(0x9d8)===_0x222d8f[_0x260dd7(0x6ff)],'format':_0x222d8f[_0x260dd7(0x338)]})),'contextOutputVariable':_0x1a8dd6['tool'][_0x260dd7(0x2dc)],'links':_0x1a8dd6[_0x260dd7(0x342)]};case _0x557158[_0x260dd7(0x84e)]:return{'type':_0x1a8dd6['type'],'id':_0x1a8dd6['id'],'uid':_0x1a8dd6[_0x260dd7(0x232)],'modelId':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x549)]??_0x260dd7(0x39b),'links':_0x1a8dd6['links']};case _0x557158[_0x260dd7(0x48c)]:const _0x3f41cc=_0x2d96d[_0x260dd7(0x8e4)](_0x2d8b07=>_0x2d8b07['id']===_0x1a8dd6['id']);if(!_0x3f41cc)throw new _0x224ab2(_0x224ab2[_0x260dd7(0x8b5)][_0x260dd7(0x4ab)],{'block':_0x1a8dd6});return{'type':_0x1a8dd6['type'],'id':_0x1a8dd6['id'],'uid':_0x1a8dd6[_0x260dd7(0x232)],'name':_0x3f41cc['name'],'description':_0x3f41cc['description'],'workflowId':_0x3f41cc['id'],'async':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x153)],'contextOutputVariable':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x2dc)],'contextInputVariable':_0x1a8dd6[_0x260dd7(0x4c1)][_0x260dd7(0x328)],'links':_0x1a8dd6[_0x260dd7(0x342)]};case _0x557158['Prompt']:case _0x557158[_0x260dd7(0x3ee)]:case _0x557158[_0x260dd7(0xa38)]:case _0x557158[_0x260dd7(0x171)]:case _0x557158['Code']:case _0x557158[_0x260dd7(0x4d4)]:case _0x557158[_0x260dd7(0x9d7)]:case _0x557158[_0x260dd7(0x426)]:case _0x557158['QueryFile']:case _0x557158[_0x260dd7(0x602)]:case _0x557158[_0x260dd7(0xa5c)]:case _0x557158[_0x260dd7(0x714)]:return{'type':_0x1a8dd6[_0x260dd7(0x16c)],'id':_0x1a8dd6['id'],'uid':_0x1a8dd6['uid'],'links':_0x1a8dd6[_0x260dd7(0x342)]};case _0x557158[_0x260dd7(0x9ce)]:case _0x557158[_0x260dd7(0x1b2)]:return{'type':_0x1a8dd6[_0x260dd7(0x16c)],'id':_0x1a8dd6['id'],'uid':_0x1a8dd6[_0x260dd7(0x232)],'links':_0x1a8dd6['links'],'attributes':_0x1a8dd6['attributes']};default:throw new _0x224ab2(_0x224ab2[_0x260dd7(0x8b5)]['WorkflowInvalidBlockType'],{'block':_0x1a8dd6});}});}[_0x3149ab(0x654)](_0x555803,_0x3784cb){return _0x555803?_0x555803['map'](_0x42b068=>{const _0x484d72=a0_0x38d9;switch(_0x42b068[_0x484d72(0x16c)]){case _0x2a2e74['Agent']:const _0x1657ac=_0x3784cb[_0x484d72(0x8e4)](_0x4cac9c=>_0x4cac9c['id']===_0x42b068['id']);if(!_0x1657ac)throw new _0x224ab2(_0x224ab2[_0x484d72(0x8b5)][_0x484d72(0x4ab)],{'block':_0x42b068});return{'type':_0x42b068[_0x484d72(0x16c)],'id':_0x42b068['id'],'uid':_0x42b068[_0x484d72(0x232)],'description':_0x1657ac['description'],'instructions':(_0x1657ac['instructions']+'\x0a\x0a'+(_0x42b068[_0x484d72(0x998)]?.[_0x484d72(0x36d)]??''))[_0x484d72(0x9b3)](),'contextOutputVariable':_0x42b068[_0x484d72(0x998)]?.['contextOutputVariable'],'contextInputVariable':_0x42b068['agent']?.[_0x484d72(0x328)],'reasoning':_0x42b068[_0x484d72(0x998)]?.[_0x484d72(0x299)]??!0x1,'grammar':_0x42b068[_0x484d72(0x998)]?.['grammar']??_0x484d72(0x823),'temperature':_0x42b068[_0x484d72(0x998)]?.['temperature']??0.5,'maxTokens':_0x42b068[_0x484d72(0x998)]?.['maxTokens']??0x1f4,'modelId':_0x42b068[_0x484d72(0x998)]?.[_0x484d72(0x549)]??_0x484d72(0x5c2),'links':_0x42b068[_0x484d72(0x342)]};case _0x2a2e74[_0x484d72(0x22d)]:case _0x2a2e74['VectorDatabase']:case _0x2a2e74[_0x484d72(0x1b2)]:case _0x2a2e74[_0x484d72(0x9ce)]:case _0x2a2e74['EntityExtractor']:case _0x2a2e74[_0x484d72(0x7d9)]:return{'type':_0x42b068[_0x484d72(0x16c)],'id':_0x42b068['id'],'uid':_0x42b068['uid'],'links':_0x42b068[_0x484d72(0x342)],'attributes':_0x42b068[_0x484d72(0x1d6)]};case _0x2a2e74['Model']:case _0x2a2e74['ObjectStorageBucket']:case _0x2a2e74[_0x484d72(0x327)]:case _0x2a2e74[_0x484d72(0x8a0)]:case _0x2a2e74[_0x484d72(0x714)]:case _0x2a2e74['SentenceSplitter']:case _0x2a2e74[_0x484d72(0x2f2)]:case _0x2a2e74[_0x484d72(0x289)]:case _0x2a2e74[_0x484d72(0x188)]:case _0x2a2e74[_0x484d72(0x61d)]:case _0x2a2e74[_0x484d72(0x79b)]:case _0x2a2e74[_0x484d72(0x8c3)]:return{'type':_0x42b068['type'],'id':_0x42b068['id'],'uid':_0x42b068[_0x484d72(0x232)],'links':_0x42b068['links']};default:throw new _0x224ab2(_0x224ab2['codes'][_0x484d72(0x4ab)],{'block':_0x42b068});}}):[];}async[_0x3149ab(0x433)](_0x18048c){const _0x38e924=_0x3149ab,_0x1054d1=(await(0x0,_0x48a8fe[_0x38e924(0x606)])((0x0,_0x48a8fe['collection'])(_0x52f3ef[_0x38e924(0x721)](),'/developers/'+_0x18048c+_0x38e924(0x9c8))))['docs']['map'](_0x935c13=>{const _0x36c69e=_0x38e924,_0x114a7a=_0x935c13[_0x36c69e(0x9b8)]();return{'type':_0x557158[_0x36c69e(0x1cb)],'id':_0x935c13['id'],'name':_0x114a7a['name'],'description':_0x114a7a[_0x36c69e(0x971)],'instructions':_0x114a7a[_0x36c69e(0x381)]};});return _0x1054d1[_0x38e924(0x7e8)](..._0x1c80f4),_0x1054d1['push'](..._0x1bb1fb),_0x1054d1;}async[_0x3149ab(0x4bd)](_0x237ddb){const _0x12a812=_0x3149ab;return(await(0x0,_0x48a8fe[_0x12a812(0x606)])((0x0,_0x48a8fe[_0x12a812(0x9f5)])(_0x52f3ef['getFirestore'](),'/developers/'+_0x237ddb+_0x12a812(0x550))))['docs'][_0x12a812(0x323)](_0x470b5d=>{const _0xdc3f9c=_0x12a812,_0x458e6c=_0x470b5d[_0xdc3f9c(0x9b8)]();return{'id':_0x470b5d['id'],'name':_0x458e6c[_0xdc3f9c(0x662)],'description':_0x458e6c[_0xdc3f9c(0x971)]};});}}const _0x1888a1=_0x2954b6[_0x3149ab(0x24f)]();class _0x19be32 extends _0x5d5f33{['localNode'];[_0x3149ab(0x164)];['prompts']=0x0;[_0x3149ab(0x926)]=0x0;['debounceStats'];constructor(_0x39cc40,_0x507789,_0x4a35a8,_0x2fea06){const _0x2c52d8=_0x3149ab;super(_0x39cc40,_0x507789,_0x2fea06),this[_0x2c52d8(0x9ba)]=_0x39cc40,this['vendorId']=_0x4a35a8,this[_0x2c52d8(0x39c)]();}[_0x3149ab(0x2cb)](){const _0x1977fd=_0x3149ab;this[_0x1977fd(0x264)]&&(clearTimeout(this[_0x1977fd(0x264)]),delete this[_0x1977fd(0x264)]),super[_0x1977fd(0x2cb)]();}[_0x3149ab(0x626)](){const _0x3e1de2=_0x3149ab;this['prompts']=0x0,this[_0x3e1de2(0x926)]=0x0,this[_0x3e1de2(0x39c)](),super[_0x3e1de2(0x626)]();}['createAIJob'](_0xb294df){const _0x48563a=_0x3149ab,_0x1d9a34=_0x48563a(0x2d2)+(0x0,_0x19ce97['v4'])();switch(_0xb294df[_0x48563a(0x16c)]){case'collection-create':{let _0x46f0b2=!0x1;const _0x1511ff=()=>{const _0x3559cd=_0x48563a;if(_0x46f0b2)throw new _0x224ab2(_0x224ab2[_0x3559cd(0x8b5)]['GenerativeAIContextJobAlreadyConsumed']);_0x46f0b2=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x1511ff(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0x1f1):{let _0x5cdc9e=!0x1;const _0x2ec321=()=>{const _0x5bdf10=_0x48563a;if(_0x5cdc9e)throw new _0x224ab2(_0x224ab2[_0x5bdf10(0x8b5)][_0x5bdf10(0x848)]);_0x5cdc9e=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x2ec321(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0x579):{let _0x52fb22=!0x1;const _0x410017=()=>{const _0x258db0=_0x48563a;if(_0x52fb22)throw new _0x224ab2(_0x224ab2[_0x258db0(0x8b5)][_0x258db0(0x848)]);_0x52fb22=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x410017(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0xab3):{let _0x3baab4=!0x1;const _0x5d7eca=()=>{const _0x4b2baa=_0x48563a;if(_0x3baab4)throw new _0x224ab2(_0x224ab2['codes'][_0x4b2baa(0x848)]);_0x3baab4=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x5d7eca(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0x6e1):{let _0x4a2afe=!0x1;const _0x17a884=()=>{const _0x504910=_0x48563a;if(_0x4a2afe)throw new _0x224ab2(_0x224ab2[_0x504910(0x8b5)][_0x504910(0x848)]);_0x4a2afe=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x17a884(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case'file-ingest':{let _0xc73b94=!0x1;const _0x287f22=()=>{const _0x2205a5=_0x48563a;if(_0xc73b94)throw new _0x224ab2(_0x224ab2[_0x2205a5(0x8b5)][_0x2205a5(0x848)]);_0xc73b94=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x287f22(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0x640):{let _0x596f22=!0x1;const _0x23f873=()=>{const _0x125e97=_0x48563a;if(_0x596f22)throw new _0x224ab2(_0x224ab2[_0x125e97(0x8b5)][_0x125e97(0x848)]);_0x596f22=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x23f873(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case'rate':{let _0x2f7d24=!0x1;const _0x4cef6c=()=>{const _0x149153=_0x48563a;if(_0x2f7d24)throw new _0x224ab2(_0x224ab2['codes'][_0x149153(0x848)]);_0x2f7d24=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x4cef6c(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0x396):{let _0x1210c=!0x1;const _0x43c39f=()=>{const _0x29006e=_0x48563a;if(_0x1210c)throw new _0x224ab2(_0x224ab2[_0x29006e(0x8b5)][_0x29006e(0x848)]);_0x1210c=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x43c39f(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0x1e6):{let _0x5d347e=!0x1;const _0x5e9413=()=>{const _0x183157=_0x48563a;if(_0x5d347e)throw new _0x224ab2(_0x224ab2[_0x183157(0x8b5)]['GenerativeAIContextJobAlreadyConsumed']);_0x5d347e=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0x5e9413(),this[_0x48563a(0x94d)](_0x1d9a34,_0xb294df))};}case _0x48563a(0x40b):{let _0x4a8266=!0x1;const _0xda14dc=()=>{const _0x237b2f=_0x48563a;if(_0x4a8266)throw new _0x224ab2(_0x224ab2[_0x237b2f(0x8b5)][_0x237b2f(0x848)]);_0x4a8266=!0x0;};return{'id':_0x1d9a34,..._0xb294df,'run':()=>(_0xda14dc(),this['internalJob'](_0x1d9a34,_0xb294df))};}case _0x48563a(0x1a9):case _0x48563a(0xa0b):let _0x4ed8c8=!0x1;const _0x14297c=()=>{const _0x57062c=_0x48563a;if(_0x4ed8c8)throw new _0x224ab2(_0x224ab2[_0x57062c(0x8b5)]['GenerativeAIContextJobAlreadyConsumed']);_0x4ed8c8=!0x0;},_0xb08e15=()=>(_0x14297c(),this[_0x48563a(0x669)](_0x1d9a34,_0xb294df)),_0x123f1a=()=>(_0x14297c(),this[_0x48563a(0x46b)](_0x1d9a34,_0xb294df));return{'id':_0x1d9a34,'options':{'threadId':'thread-'+(0x0,_0x19ce97['v4'])()},..._0xb294df,'run':_0xb08e15,'stream':_0x123f1a};default:throw new Error('Invalid\x20job\x20type');}}async[_0x3149ab(0x94d)](_0x3272be,_0x277af8){const _0x1d74c6=_0x3149ab;if('inference'===_0x277af8[_0x1d74c6(0x16c)]||_0x1d74c6(0xa0b)===_0x277af8[_0x1d74c6(0x16c)])throw new _0xab88d9(_0x3cba44[_0x1d74c6(0x319)],'Invalid\x20job\x20type');const _0x346c82={'threadId':_0x1d74c6(0x946)+(0x0,_0x19ce97['v4'])(),..._0x277af8},_0x1b4e01=await this[_0x1d74c6(0x548)](_0x3272be,_0x3a4c7c[_0x1d74c6(0x2bd)][_0x1d74c6(0x6b5)],_0x346c82);return new Promise((_0x177a3b,_0x402493)=>{const _0x2e3c07=_0x1d74c6;let _0x4634d8;const _0x566f95=_0x1b4e01[_0x2e3c07(0x438)]({'next':_0x5906d5=>{const _0x31c32e=_0x2e3c07;switch(_0x5906d5[_0x31c32e(0x27a)]){case _0x3a4c7c[_0x31c32e(0x450)][_0x31c32e(0x2d3)]:clearTimeout(_0x4634d8),_0x177a3b(_0x5906d5['result']),_0x566f95[_0x31c32e(0x3e9)]();break;case _0x3a4c7c[_0x31c32e(0x450)][_0x31c32e(0x5bc)]:clearTimeout(_0x4634d8),_0x402493(new _0x224ab2(_0x224ab2[_0x31c32e(0x8b5)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x5906d5})),_0x566f95['unsubscribe']();}},'error':_0x48d887=>{const _0x1eb570=_0x2e3c07;clearTimeout(_0x4634d8),_0x402493(new _0x224ab2(_0x224ab2[_0x1eb570(0x8b5)]['GenerativeAIContextJobFailed'],{'err':_0x48d887})),_0x566f95[_0x1eb570(0x3e9)]();}});_0x4634d8=setTimeout(()=>{const _0x31ece3=_0x2e3c07;_0x402493(new _0x224ab2(_0x224ab2['codes']['GenerativeAIContextJobTimeout'])),_0x566f95[_0x31ece3(0x3e9)]();},_0x400c25);});}async['run'](_0x36c056,_0x298e10){const _0x209b71=_0x3149ab,_0x39cab6=await this['getJobObservable'](_0x36c056,_0x3a4c7c[_0x209b71(0x2bd)][_0x209b71(0x6b5)],_0x298e10);return new Promise((_0x33d593,_0x60a5d6)=>{const _0x41cc92=_0x209b71;let _0x13521b;const _0x182b61=_0x39cab6[_0x41cc92(0x438)]({'next':_0x1a7ad7=>{const _0x21e6a7=_0x41cc92;switch(_0x1a7ad7['status']){case _0x3a4c7c['JobStatus'][_0x21e6a7(0x2d3)]:if(_0x21e6a7(0xa0b)!==_0x1a7ad7[_0x21e6a7(0x712)][_0x21e6a7(0x16c)])return;const _0x36b69c=_0x1a7ad7[_0x21e6a7(0x712)][_0x21e6a7(0x4f7)]??0x0;this[_0x21e6a7(0x995)](_0x298e10['prompt'],_0x36b69c),clearTimeout(_0x13521b),_0x33d593(_0x1a7ad7[_0x21e6a7(0x712)]),_0x182b61[_0x21e6a7(0x3e9)](),this['prompts']+=0x1,this[_0x21e6a7(0x926)]+=_0x36b69c,this[_0x21e6a7(0x39c)]();break;case _0x3a4c7c[_0x21e6a7(0x450)]['Failed']:clearTimeout(_0x13521b),_0x60a5d6(new _0x224ab2(_0x224ab2[_0x21e6a7(0x8b5)][_0x21e6a7(0x168)],{'updatedJob':_0x1a7ad7})),_0x182b61[_0x21e6a7(0x3e9)](),this[_0x21e6a7(0x39c)]();}},'error':_0x546f5c=>{const _0x2eab70=_0x41cc92;clearTimeout(_0x13521b),_0x60a5d6(new _0x224ab2(_0x224ab2['codes'][_0x2eab70(0x168)],{'err':_0x546f5c})),_0x182b61['unsubscribe']();}});_0x13521b=setTimeout(()=>{const _0xfb0739=_0x41cc92;_0x60a5d6(new _0x224ab2(_0x224ab2['codes'][_0xfb0739(0x1ac)])),_0x182b61['unsubscribe']();},_0x400c25);});}async*[_0x3149ab(0x46b)](_0x56a72d,_0x21b281){const _0x19d8d1=_0x3149ab,_0x424831=await this[_0x19d8d1(0x548)](_0x56a72d,_0x3a4c7c[_0x19d8d1(0x2bd)][_0x19d8d1(0xa74)],_0x21b281);let _0x554179,_0x59d7dd,_0x4e7640=!0x1,_0x463fbf=0x0;const _0x40f615=[],_0xe82836=new Map();let _0x43f2c8=null;const _0x5637ee=()=>{_0x43f2c8&&(_0x43f2c8(),_0x43f2c8=null);},_0x55e47=_0x4976f7=>{_0x4e7640=!0x0,_0x5637ee(),_0x1a0ede['unsubscribe'](),_0x59d7dd=_0x4976f7;},_0x1a0ede=_0x424831['subscribe']({'next':async _0x43170f=>{const _0x2ac37e=_0x19d8d1;switch(_0x43170f[_0x2ac37e(0x27a)]){case _0x3a4c7c[_0x2ac37e(0x450)][_0x2ac37e(0x248)]:if('prompt'!==_0x43170f[_0x2ac37e(0x712)]['type'])return;if(void 0x0!==_0x43170f['result'][_0x2ac37e(0x949)]){if(void 0x0===_0x43170f[_0x2ac37e(0x712)]['index'])return void _0x55e47(_0x224ab2[_0x2ac37e(0x8b5)][_0x2ac37e(0x3f6)]);_0x463fbf===_0x43170f[_0x2ac37e(0x712)][_0x2ac37e(0x270)]?(_0x40f615[_0x2ac37e(0x7e8)](_0x43170f['result']),_0x463fbf++,((()=>{const _0x5bcdac=_0x2ac37e;for(;_0xe82836[_0x5bcdac(0x2a7)](_0x463fbf);)_0x40f615['push'](_0xe82836[_0x5bcdac(0x524)](_0x40f615[_0x5bcdac(0x878)])),_0xe82836['delete'](_0x40f615[_0x5bcdac(0x878)]),_0x463fbf++;})()),_0x5637ee(),_0x4e4efe()):_0xe82836[_0x2ac37e(0x491)](_0x43170f['result']['index'],_0x43170f[_0x2ac37e(0x712)]);}break;case _0x3a4c7c[_0x2ac37e(0x450)]['Completed']:if('prompt'!==_0x43170f['result'][_0x2ac37e(0x16c)])return;for(;_0x463fbf!==_0x43170f['result']['index'];)await _0x39ab67['wait'](0x3e8);const _0x532efa=_0x43170f[_0x2ac37e(0x712)]['inputTokens']??0x0;this['logServiceEvent'](_0x21b281['prompt'],_0x532efa),clearTimeout(_0x554179),_0x55e47(),this[_0x2ac37e(0x273)]+=0x1,this[_0x2ac37e(0x926)]+=_0x532efa,this['sendStats']();break;case _0x3a4c7c[_0x2ac37e(0x450)][_0x2ac37e(0x5bc)]:clearTimeout(_0x554179),_0x55e47(_0x224ab2[_0x2ac37e(0x8b5)][_0x2ac37e(0x168)]),this[_0x2ac37e(0x39c)]();}},'error':_0x46c4ac=>{const _0x4d706a=_0x19d8d1;clearTimeout(_0x554179),_0x55e47(_0x224ab2[_0x4d706a(0x8b5)][_0x4d706a(0x168)]);}}),_0x5b836b=()=>{const _0x50b661=_0x19d8d1;_0x55e47(_0x224ab2[_0x50b661(0x8b5)][_0x50b661(0x1ac)]);},_0x4e4efe=()=>{clearTimeout(_0x554179),_0x554179=setTimeout(_0x5b836b,_0x400c25);};for(_0x554179=setTimeout(_0x5b836b,_0x400c25);!_0x4e7640||_0x40f615[_0x19d8d1(0x878)]>0x0;)_0x40f615[_0x19d8d1(0x878)]>0x0?yield _0x40f615[_0x19d8d1(0xa7d)]():await new Promise(_0x43a257=>_0x43f2c8=_0x43a257);if(_0x59d7dd)throw _0x5b2279[_0x19d8d1(0x1be)](_0x19d8d1(0x12e),{'nodeId':this[_0x19d8d1(0x9ba)][_0x19d8d1(0x394)](),'nodeType':this['localNode']['type']}),new _0x224ab2(_0x59d7dd);}async[_0x3149ab(0x4cf)](){const _0x2ba792=_0x3149ab;return(await _0x1888a1[_0x2ba792(0x883)](this['vendorId'],this[_0x2ba792(0x3a4)]))['dataBucketIds'];}[_0x3149ab(0x995)](_0x10b7d4,_0x587975){const _0x547b30=_0x3149ab,_0xb85f12=this[_0x547b30(0x3a4)],_0x4ed544=this[_0x547b30(0x84a)]();_0x5b2279[_0x547b30(0x995)](_0x3ce5a1['GenerativeAIContext'],{'topic':_0xb85f12,'prompt':_0x10b7d4,'type':_0x547b30(0xa0b),'nodeId':_0x4ed544,'tokenCount':_0x587975});}async[_0x3149ab(0x548)](_0x58474a,_0x4fb0bc,_0xea7faa,_0x560034={}){const _0x28d7eb=_0x3149ab;let _0x1d6c4;switch(_0xea7faa[_0x28d7eb(0x16c)]){case _0x28d7eb(0x29f):case _0x28d7eb(0x1f1):case _0x28d7eb(0x579):case _0x28d7eb(0x40b):case _0x28d7eb(0xab3):case _0x28d7eb(0x6e1):case _0x28d7eb(0x470):case'file-list':case _0x28d7eb(0x1a9):case _0x28d7eb(0xa0b):case _0x28d7eb(0x554):case _0x28d7eb(0x396):case'tool-call':_0x1d6c4={'id':_0x58474a,'jobType':_0x4fb0bc,'parameters':{..._0x560034,..._0xea7faa},'status':_0x3a4c7c[_0x28d7eb(0x450)][_0x28d7eb(0x1bb)]};break;default:throw new Error(_0x28d7eb(0x7d2));}return await this[_0x28d7eb(0x7bb)](_0x1d6c4);}[_0x3149ab(0x39c)](){const _0x937ae6=_0x3149ab;this[_0x937ae6(0x264)]&&clearTimeout(this[_0x937ae6(0x264)]),this[_0x937ae6(0x264)]=setTimeout(async()=>{const _0x145cd5=_0x937ae6;delete this['debounceStats'],this[_0x145cd5(0x364)]['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x145cd5(0x620)],'content':{'type':_0x253ba5[_0x145cd5(0xa64)],'label':this[_0x145cd5(0x3a4)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x145cd5(0x781)],'messagesReceived':this[_0x145cd5(0xa86)],'bytesSent':this[_0x145cd5(0x37d)],'bytesReceived':this[_0x145cd5(0x4f8)],'writes':0x0,'reads':0x0,'prompts':this[_0x145cd5(0x273)],'tokens':this[_0x145cd5(0x926)]}}});},_0x271d7b);}}var _0xc76fb1,_0x42fc4a,_0x1bdf60,_0x58c5b6,_0x31f650,_0x196bee,_0x13ff2d,_0x314383,_0x5f422b,_0x22e6ca,_0x4af5e4;!function(_0x247d30){const _0x42e23a=_0x3149ab;_0x247d30[_0x42e23a(0x787)]=_0x42e23a(0x787),_0x247d30[_0x42e23a(0x695)]=_0x42e23a(0x695),_0x247d30[_0x42e23a(0x8f4)]=_0x42e23a(0x8f4),_0x247d30[_0x42e23a(0x4b9)]=_0x42e23a(0x4b9);}(_0xc76fb1||(_0xc76fb1={})),function(_0x1f4759){const _0x12ad2f=_0x3149ab;_0x1f4759['ModelText']=_0x12ad2f(0x7a6),_0x1f4759[_0x12ad2f(0x277)]=_0x12ad2f(0x277),_0x1f4759[_0x12ad2f(0x8bb)]='VectorSearch',_0x1f4759[_0x12ad2f(0x11e)]='EntityExtractor',_0x1f4759[_0x12ad2f(0x175)]='GraphSearch',_0x1f4759['Reranker']=_0x12ad2f(0x7d9);}(_0x42fc4a||(_0x42fc4a={})),function(_0x471c0e){const _0x2e80ff=_0x3149ab;_0x471c0e[_0x471c0e[_0x2e80ff(0x690)]=0x0]=_0x2e80ff(0x690),_0x471c0e[_0x471c0e[_0x2e80ff(0x944)]=0x5]=_0x2e80ff(0x944),_0x471c0e[_0x471c0e[_0x2e80ff(0x917)]=0xa]=_0x2e80ff(0x917),_0x471c0e[_0x471c0e[_0x2e80ff(0x15e)]=0xf]=_0x2e80ff(0x15e);}(_0x1bdf60||(_0x1bdf60={})),function(_0xbcdb31){const _0x275920=_0x3149ab;_0xbcdb31['Retrieve']=_0x275920(0x2e7),_0xbcdb31['Ingest']=_0x275920(0x9c3),_0xbcdb31[_0x275920(0x1ee)]='Knowledge',_0xbcdb31[_0x275920(0x320)]=_0x275920(0x320),_0xbcdb31[_0x275920(0x5ba)]=_0x275920(0x5ba),_0xbcdb31[_0x275920(0x6b5)]=_0x275920(0x6b5),_0xbcdb31[_0x275920(0x423)]=_0x275920(0x423),_0xbcdb31[_0x275920(0x71d)]=_0x275920(0x71d);}(_0x58c5b6||(_0x58c5b6={})),function(_0x599196){const _0x2ae17d=_0x3149ab;_0x599196[_0x2ae17d(0x83a)]=_0x2ae17d(0x83a),_0x599196[_0x2ae17d(0x2d3)]=_0x2ae17d(0x2d3);}(_0x31f650||(_0x31f650={})),function(_0x3ca646){const _0x3ec232=_0x3149ab;_0x3ca646['InitialPrompt']=_0x3ec232(0x43b),_0x3ca646['IntermediateOutput']='IntermediateOutput',_0x3ca646[_0x3ec232(0x582)]='DataCollection',_0x3ca646[_0x3ec232(0x5aa)]=_0x3ec232(0x5aa);}(_0x196bee||(_0x196bee={})),function(_0x57d702){const _0x281edc=_0x3149ab;_0x57d702[_0x281edc(0x9ce)]=_0x281edc(0x9ce),_0x57d702[_0x281edc(0x714)]=_0x281edc(0x714),_0x57d702[_0x281edc(0x11e)]=_0x281edc(0x11e),_0x57d702[_0x281edc(0x22d)]=_0x281edc(0x22d),_0x57d702[_0x281edc(0x1cb)]=_0x281edc(0x1cb),_0x57d702['ModelText']=_0x281edc(0x7a6),_0x57d702[_0x281edc(0x277)]=_0x281edc(0x277),_0x57d702[_0x281edc(0x8a0)]='RelationExtractor',_0x57d702['SentenceSplitter']=_0x281edc(0xa5c),_0x57d702[_0x281edc(0x4a4)]=_0x281edc(0x4a4),_0x57d702[_0x281edc(0x1b2)]=_0x281edc(0x1b2);}(_0x13ff2d||(_0x13ff2d={})),function(_0x39489a){const _0xb076a9=_0x3149ab;_0x39489a[_0xb076a9(0x336)]=_0xb076a9(0x336),_0x39489a[_0xb076a9(0x94b)]=_0xb076a9(0x94b);}(_0x314383||(_0x314383={})),function(_0x1a3f6b){const _0x4d9443=_0x3149ab;_0x1a3f6b['ExecuteCode']=_0x4d9443(0x502),_0x1a3f6b[_0x4d9443(0x991)]=_0x4d9443(0x991),_0x1a3f6b[_0x4d9443(0x965)]=_0x4d9443(0x965),_0x1a3f6b['SearchPerplexity']=_0x4d9443(0x525),_0x1a3f6b[_0x4d9443(0x7ea)]=_0x4d9443(0x7ea),_0x1a3f6b[_0x4d9443(0xa97)]=_0x4d9443(0xa97),_0x1a3f6b['QueryFile']=_0x4d9443(0x275),_0x1a3f6b['WriteFile']='WriteFile',_0x1a3f6b[_0x4d9443(0x980)]=_0x4d9443(0x980),_0x1a3f6b['FormGetQuestion']='FormGetQuestion',_0x1a3f6b[_0x4d9443(0xae1)]=_0x4d9443(0xae1),_0x1a3f6b[_0x4d9443(0x784)]='FormSubmitForm';}(_0x5f422b||(_0x5f422b={})),function(_0x53424b){const _0x487505=_0x3149ab;_0x53424b[_0x487505(0x560)]=_0x487505(0x560),_0x53424b[_0x487505(0x444)]=_0x487505(0x444);}(_0x22e6ca||(_0x22e6ca={})),function(_0xdcf354){const _0x1c3b24=_0x3149ab;_0xdcf354[_0x1c3b24(0x87d)]=_0x1c3b24(0x87d);}(_0x4af5e4||(_0x4af5e4={}));class _0x271882{static ['instance']=new _0x271882();[_0x3149ab(0xa3e)]=[];[_0x3149ab(0x157)]=!0x1;constructor(){}static[_0x3149ab(0x24f)](){return _0x271882['instance'];}get[_0x3149ab(0x878)](){return this['jobQueue']['length'];}[_0x3149ab(0x69f)](){const _0x5adba8=_0x3149ab;return!this[_0x5adba8(0x157)];}[_0x3149ab(0x876)](_0x27ea7a){const _0x33576c=_0x3149ab;_0x27ea7a?this['jobQueue']=this[_0x33576c(0xa3e)][_0x33576c(0x683)](_0x2f9bd4=>_0x2f9bd4['ownerId']!==_0x27ea7a):(this['jobQueue']=[],this['isRunning']=!0x1);}[_0x3149ab(0x638)](_0x280144,_0x187079){const _0x153dc7=_0x3149ab;this[_0x153dc7(0xa3e)]['push']({'callback':_0x187079,'ownerId':_0x280144}),this[_0x153dc7(0x688)]();}async[_0x3149ab(0x688)](){const _0x129536=_0x3149ab;if(!this['isRunning']){for(this['isRunning']=!0x0;this[_0x129536(0xa3e)][_0x129536(0x878)]>0x0;){const _0x3ccfcb=this['jobQueue'][_0x129536(0xa7d)]();if(_0x3ccfcb)try{console[_0x129536(0x700)](_0x129536(0x51f)),await _0x3ccfcb['callback'](),console[_0x129536(0x700)]('JobQueueService:\x20Job\x20completed');}catch(_0x3278fe){console[_0x129536(0x1be)](_0x129536(0x2fc),_0x3278fe);}}this[_0x129536(0x157)]=!0x1;}}}const _0x12cc0f=_0x271882[_0x3149ab(0x24f)]();class _0x19675e extends _0x2e9fe0{[_0x3149ab(0x52b)];[_0x3149ab(0x66e)];constructor(_0x143e77,_0x25b766,_0xa80e63){const _0x1a7c45=_0x3149ab;super(_0x143e77,_0x25b766),this[_0x1a7c45(0x52b)]=_0xa80e63;}[_0x3149ab(0x941)](){const _0xe32793=_0x3149ab;return _0x3a4c7c[_0xe32793(0x346)][_0xe32793(0x6b5)];}[_0x3149ab(0x2d5)](){const _0x1e22d0=_0x3149ab;this[_0x1e22d0(0x879)]();}['close'](){const _0x3cd083=_0x3149ab;this[_0x3cd083(0x364)]?.[_0x3cd083(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0x3cd083(0x314)],'label':this[_0x3cd083(0x3a4)]}});}['reset'](){const _0x473bab=_0x3149ab;this[_0x473bab(0x66e)]?.(),delete this[_0x473bab(0x66e)],this[_0x473bab(0x2d5)]();}['destroy'](){const _0x33792a=_0x3149ab;_0x12cc0f['clear'](this[_0x33792a(0x3a4)]),this['unsubscribeListener']?.(),delete this[_0x33792a(0x66e)],super['destroy']();}[_0x3149ab(0x69f)](){const _0x14d49f=_0x3149ab;return _0x12cc0f[_0x14d49f(0x69f)]();}['getBid'](){return 0x1;}['compileStats'](_0x4b14f1,_0x43554a,_0x5c45ea){}['accumulateResult'](_0x56b0dc,_0x4157f0){return _0x56b0dc;}async['startTracing'](_0x109b19,_0xc3d29f){const _0x3b513c=_0x3149ab;console[_0x3b513c(0x700)](_0x3b513c(0x139));}async[_0x3149ab(0x6f7)](_0x239322,_0x206fc6){const _0x207d82=_0x3149ab;console[_0x207d82(0x700)](_0x207d82(0x139));}[_0x3149ab(0x879)](){const _0x525f00=_0x3149ab;this[_0x525f00(0x66e)]||(this['unsubscribeListener']=this[_0x525f00(0x64c)](async(_0x1025da,_0x2903b2)=>{const _0x2852f0=_0x525f00;if(_0x5b2279[_0x2852f0(0x66c)](_0x44d495[_0x2852f0(0x152)],'JobWorker:\x20Received\x20job',_0x2903b2),!(_0x2903b2 instanceof File)){if(this[_0x2852f0(0x7bd)](_0x2903b2))_0x5b2279['log'](_0x44d495['Jobs'],'JobWorker:\x20Received\x20job\x20request',_0x2903b2),this[_0x2852f0(0x69f)]()?this['sendBid'](_0x2903b2['id'],_0x2903b2[_0x2852f0(0x51a)],_0x1025da):this['sendReject'](_0x2903b2['id'],_0x2903b2[_0x2852f0(0x51a)],_0x1025da);else{if(this[_0x2852f0(0x6dd)](_0x2903b2)){_0x5b2279[_0x2852f0(0x66c)](_0x44d495[_0x2852f0(0x152)],_0x2852f0(0x172),_0x2903b2);const {id:_0x5161cd,parameters:_0x22c8c8}=_0x2903b2;await this[_0x2852f0(0x284)](_0x5161cd,_0x22c8c8),this['handleJobAttribution'](_0x2903b2['id'],_0x2903b2,_0x1025da);}}}}));}[_0x3149ab(0x4ba)](_0x1d2a5d,_0x54ddce,_0x77d8c0){const _0x5380c5=_0x3149ab,_0x4694a1={'id':_0x1d2a5d,'jobType':_0x54ddce,'jobPhase':_0x4dc193[_0x5380c5(0x15b)],'available':!0x0,'queueLength':_0x12cc0f[_0x5380c5(0x878)],'bid':this[_0x5380c5(0x8d3)]()};_0x5b2279[_0x5380c5(0x66c)](_0x44d495[_0x5380c5(0x152)],_0x5380c5(0xa7f),_0x4694a1),this[_0x5380c5(0x7f3)](_0x4694a1,[_0x77d8c0]);}[_0x3149ab(0x580)](_0xffd70f,_0x1d7bc8,_0x271bf0){const _0x267c97=_0x3149ab,_0x3cc8a9={'id':_0xffd70f,'jobType':_0x1d7bc8,'jobPhase':_0x4dc193[_0x267c97(0x15b)],'available':!0x1,'queueLength':_0x12cc0f[_0x267c97(0x878)],'bid':0x0};_0x5b2279[_0x267c97(0x66c)](_0x44d495['Jobs'],_0x267c97(0xa9d),_0x3cc8a9),this['send'](_0x3cc8a9,[_0x271bf0]);}async[_0x3149ab(0x3dc)](_0x264c9c,_0x3b2999,_0x2686aa){const _0x313838=_0x3149ab;_0x5b2279[_0x313838(0x66c)](_0x44d495[_0x313838(0x152)],_0x313838(0x685),_0x3b2999);const _0x5ac2e5={'id':_0x264c9c,'jobType':_0x3b2999['jobType'],'parameters':_0x3b2999[_0x313838(0x7a5)]};try{switch(_0x3b2999[_0x313838(0x51a)]){case _0x3a4c7c[_0x313838(0x2bd)][_0x313838(0x6b5)]:await this[_0x313838(0x3f5)](_0x264c9c,_0x3b2999,_0x5ac2e5,_0x2686aa);break;case _0x3a4c7c[_0x313838(0x2bd)][_0x313838(0xa74)]:await this[_0x313838(0x8ff)](_0x264c9c,_0x3b2999,_0x5ac2e5,_0x2686aa);break;default:throw new Error(_0x313838(0xabb));}}catch(_0x278262){_0x5b2279['error'](_0x313838(0x895),{'nodeId':this[_0x313838(0x67c)][_0x313838(0x394)](),'nodeType':this[_0x313838(0x67c)][_0x313838(0x16c)],'data':{'job':_0x5ac2e5}},_0x278262);const _0xb779b6=_0x278262 instanceof Error?_0x278262[_0x313838(0x948)]:'An\x20error\x20occurred',_0x1f887b={'id':_0x264c9c,'jobType':_0x3b2999[_0x313838(0x51a)],'jobPhase':_0x4dc193[_0x313838(0x5bc)],'message':_0xb779b6};await this[_0x313838(0x7f3)](_0x1f887b,[_0x2686aa]);}}async[_0x3149ab(0x3f5)](_0x1f184e,_0x83213f,_0x3cb727,_0x25e031){const _0x2d2f61=_0x3149ab,_0x252bd3=Date['now'](),_0x41ee59=await this[_0x2d2f61(0x358)](_0x1f184e,_0x3cb727[_0x2d2f61(0x7a5)]);this[_0x2d2f61(0x43a)](_0x41ee59,_0x252bd3,Date[_0x2d2f61(0x3fe)]());const _0x49dcd1={'id':_0x1f184e,'jobType':_0x83213f[_0x2d2f61(0x51a)],'jobPhase':_0x4dc193[_0x2d2f61(0x64e)],'result':_0x41ee59};_0x5b2279['log'](_0x44d495[_0x2d2f61(0x152)],'JobWorker:\x20Sending\x20job\x20result',_0x49dcd1),await this[_0x2d2f61(0x7f3)](_0x49dcd1,[_0x25e031]),await this['stopTracing'](_0x1f184e,_0x3cb727[_0x2d2f61(0x7a5)]);}async['processJobStream'](_0x577ee0,_0x34282a,_0x28d403,_0x8d1927){const _0x3d5f74=_0x3149ab,_0x2d1a0a=Date[_0x3d5f74(0x3fe)]();let _0x27253d=0x0,_0x2bea1f={};for await(const _0x4bd654 of this['internalProcessJobStream'](_0x28d403['id'],_0x28d403[_0x3d5f74(0x7a5)])){const _0x2414c9={'id':_0x577ee0,'jobType':_0x34282a[_0x3d5f74(0x51a)],'jobPhase':_0x4dc193[_0x3d5f74(0x4e7)],'result':{..._0x4bd654,'index':_0x27253d}};_0x5b2279[_0x3d5f74(0x66c)](_0x44d495['Jobs'],_0x3d5f74(0x357),_0x2414c9),this[_0x3d5f74(0x7f3)](_0x2414c9,[_0x8d1927]),_0x2bea1f=this['accumulateResult'](_0x2bea1f,_0x4bd654),_0x27253d++;}this[_0x3d5f74(0x43a)](_0x2bea1f,_0x2d1a0a,Date['now']());const _0x3a9110={'id':_0x577ee0,'jobType':_0x34282a[_0x3d5f74(0x51a)],'jobPhase':_0x4dc193[_0x3d5f74(0x64e)],'result':{..._0x2bea1f,'index':_0x27253d}};_0x5b2279['log'](_0x44d495['Jobs'],_0x3d5f74(0x8c6),_0x3a9110),await this[_0x3d5f74(0x7f3)](_0x3a9110,[_0x8d1927]),await this[_0x3d5f74(0x6f7)](_0x577ee0,_0x28d403['parameters']);}[_0x3149ab(0x7bd)](_0x5679e5){const _0x176208=_0x3149ab;return _0x5679e5[_0x176208(0x762)]===_0x4dc193[_0x176208(0x497)];}[_0x3149ab(0x6dd)](_0x1bf6da){const _0x437f91=_0x3149ab;return _0x1bf6da[_0x437f91(0x762)]===_0x4dc193[_0x437f91(0x74d)];}}const _0x149ec0=require('rxjs/operators');class _0x1b0b8b{[_0x3149ab(0x8af)];constructor(){const _0x2307d9=_0x3149ab;this[_0x2307d9(0x8af)]=new _0x300620['Subject']();}['emit'](_0x3fdc0a){const _0x284682=_0x3149ab;this[_0x284682(0x8af)][_0x284682(0x978)](_0x3fdc0a);}async[_0x3149ab(0x96e)](){const _0xa6fb74=_0x3149ab;return(0x0,_0x300620[_0xa6fb74(0x9ff)])(this[_0xa6fb74(0x8af)][_0xa6fb74(0xa87)]((0x0,_0x149ec0[_0xa6fb74(0x5ce)])(0x1)));}}function _0x21ab86(_0x298926){const _0x454f61=_0x3149ab;try{return JSON[_0x454f61(0x31d)](_0x298926);}catch(_0x47ab0d){return _0x298926 instanceof Error?_0x298926[_0x454f61(0x50d)]():JSON[_0x454f61(0x31d)](_0x454f61(0x1e3));}}class _0x2cafd7{static [_0x3149ab(0x663)];['logLevel']=_0x1bdf60[_0x3149ab(0x15e)];['commitLevel']=_0x1bdf60[_0x3149ab(0x944)];[_0x3149ab(0x22a)]=_0x58c5b6[_0x3149ab(0x2e7)];['openedTraces']={};static [_0x3149ab(0x24f)]=()=>(_0x2cafd7[_0x3149ab(0x663)]||(_0x2cafd7[_0x3149ab(0x663)]=new _0x2cafd7()),_0x2cafd7['instance']);async[_0x3149ab(0x279)](_0x527a65,_0x5b9bef,_0x37bf41,_0x2022f4){const _0x1fdd25=_0x3149ab;try{if(this[_0x1fdd25(0x4ec)][_0x5b9bef])return!0x0;const _0x570ec0={'vendorId':_0x527a65,'workflowId':_0x37bf41,'sequence':0x0};if(this[_0x1fdd25(0x4ec)][_0x5b9bef]=_0x570ec0,!_0x2022f4||!_0x37bf41)return!0x0;const _0x11c292=(0x0,_0x48a8fe['doc'])(_0x52f3ef[_0x1fdd25(0x721)](),_0x1fdd25(0x5dd)+_0x527a65+_0x1fdd25(0x27f)+_0x37bf41+_0x1fdd25(0x55f),_0x5b9bef);return(await(0x0,_0x48a8fe[_0x1fdd25(0x43d)])(_0x11c292))[_0x1fdd25(0x7a4)]()||await(0x0,_0x48a8fe[_0x1fdd25(0xa4c)])(_0x11c292,{'threadId':_0x2022f4,'startTime':(0x0,_0x48a8fe[_0x1fdd25(0x199)])()}),!0x0;}catch(_0x5d7536){return console[_0x1fdd25(0x1be)](_0x1fdd25(0x699),_0x5d7536),!0x1;}}async[_0x3149ab(0x70e)](_0x1b17d5){const _0x25b9b8=_0x3149ab;try{const _0x1b3ee9=this[_0x25b9b8(0x4ec)][_0x1b17d5['jobId']];if(!_0x1b3ee9)throw new Error(_0x25b9b8(0x317));_0x1b17d5[_0x25b9b8(0x8e6)]=_0x1b3ee9[_0x25b9b8(0x8e6)]++,_0x1b17d5[_0x25b9b8(0x418)]>=this[_0x25b9b8(0x647)]&&console['log'](JSON[_0x25b9b8(0x31d)](_0x1b17d5,null,0x2)),await this[_0x25b9b8(0x291)](_0x1b17d5);}catch(_0x2859a0){console[_0x25b9b8(0x1be)](_0x25b9b8(0x7be),_0x2859a0);}}async[_0x3149ab(0x66b)](_0x2368c1,_0x52b507){const _0x158fd3=_0x3149ab;if(!_0x2cafd7[_0x158fd3(0x663)])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this['openedTraces'][_0x2368c1])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');if(_0x52b507&&this[_0x158fd3(0x4ec)][_0x2368c1]['workflowId'])try{await(0x0,_0x48a8fe[_0x158fd3(0xa4c)])((0x0,_0x48a8fe[_0x158fd3(0x6d4)])(_0x52f3ef[_0x158fd3(0x721)](),_0x158fd3(0x5dd)+this[_0x158fd3(0x4ec)][_0x2368c1]['vendorId']+_0x158fd3(0x27f)+this['openedTraces'][_0x2368c1][_0x158fd3(0x85c)]+_0x158fd3(0x55f),_0x2368c1),{'endTime':(0x0,_0x48a8fe[_0x158fd3(0x199)])()},{'merge':!0x0}),this[_0x158fd3(0x247)](_0x2368c1);}catch(_0xc7570b){console[_0x158fd3(0x1be)](_0x158fd3(0x694),_0xc7570b);}else this[_0x158fd3(0x247)](_0x2368c1);}[_0x3149ab(0x247)](_0x5b2df6){setTimeout(()=>{const _0x164302=a0_0x38d9;delete this[_0x164302(0x4ec)][_0x5b2df6];},0x1b7740);}async[_0x3149ab(0x291)](_0x5eb309){const _0x18c57a=_0x3149ab;if(_0x5eb309[_0x18c57a(0x418)]<this[_0x18c57a(0xade)]&&_0x5eb309['jobType']!==this['commitType'])return;if(!this[_0x18c57a(0x4ec)][_0x5eb309['jobId']])throw new Error(_0x18c57a(0x7b5));const _0x134e3d=this[_0x18c57a(0x4ec)][_0x5eb309['jobId']];try{const _0x4b009b=function(_0x426b24){const _0x146ee0=_0x18c57a,_0x5c8c98=[_0x146ee0(0x269),_0x146ee0(0x412),_0x146ee0(0x51a),_0x146ee0(0x16c),_0x146ee0(0x28c),'traceLevel',_0x146ee0(0x498),_0x146ee0(0x27a),_0x146ee0(0x8e6),_0x146ee0(0x8ad)],_0x4e9b5f={..._0x426b24};for(const _0x57afcf of _0x5c8c98)delete _0x4e9b5f[_0x57afcf];return{'timestamp':_0x426b24[_0x146ee0(0x412)],'jobType':_0x426b24[_0x146ee0(0x51a)],'type':_0x426b24[_0x146ee0(0x16c)],'jobId':_0x426b24[_0x146ee0(0x28c)],'agentId':_0x426b24['agentId']??'','traceLevel':_0x426b24[_0x146ee0(0x418)],'blockId':_0x426b24['blockId']??'','startTime':_0x426b24[_0x146ee0(0x269)],'status':_0x426b24['status'],'sequence':_0x426b24[_0x146ee0(0x8e6)]??0x0,'errorDetails':_0x426b24[_0x146ee0(0x8ad)]??'','metadata':_0x21ab86(_0x4e9b5f)};}(_0x5eb309),_0x5a6098=(0x0,_0x19ce97['v4'])();console[_0x18c57a(0x66c)](_0x18c57a(0x637),_0x4b009b[_0x18c57a(0x16c)]),await(0x0,_0x48a8fe[_0x18c57a(0xa4c)])((0x0,_0x48a8fe[_0x18c57a(0x6d4)])(_0x52f3ef[_0x18c57a(0x721)](),_0x18c57a(0x5dd)+_0x134e3d[_0x18c57a(0x164)]+_0x18c57a(0x27f)+_0x134e3d[_0x18c57a(0x85c)]+'/jobs/'+_0x5eb309[_0x18c57a(0x28c)]+_0x18c57a(0x888),_0x5a6098),_0x4b009b),_0x5eb309[_0x18c57a(0x16c)]===_0x4af5e4[_0x18c57a(0x87d)]&&await(0x0,_0x48a8fe[_0x18c57a(0xa4c)])((0x0,_0x48a8fe[_0x18c57a(0x6d4)])(_0x52f3ef['getFirestore'](),'developers/'+_0x134e3d['vendorId']+_0x18c57a(0x27f)+_0x134e3d['workflowId']+'/jobs',_0x5eb309[_0x18c57a(0x28c)]),{'rating':_0x5eb309['rating']},{'merge':!0x0});}catch(_0x21d1a1){console['error'](_0x18c57a(0x8cd),_0x21d1a1);}}}const _0x59d769=_0x2cafd7[_0x3149ab(0x24f)]();async function _0x3ac56a(_0x478bd1,_0x46d9fe,_0x38ba94,_0x278e03,_0x3001fd,_0x372bb1,_0x4e704f,_0x1bb863){const _0x4d9a7a=function(_0x5df64f,_0x2de16a){const _0x81c40=a0_0x38d9,_0x11374e=[];for(let _0x4a023b=0x0;_0x4a023b<_0x5df64f[_0x81c40(0x878)];_0x4a023b+=_0x2de16a[_0x81c40(0x1d6)][_0x81c40(0x1fa)]){let _0x5e2a7f=_0x4a023b-_0x2de16a[_0x81c40(0x1d6)][_0x81c40(0x820)];_0x5e2a7f<0x0&&(_0x5e2a7f=0x0);let _0x32f9cc=_0x4a023b+_0x2de16a['attributes'][_0x81c40(0x1fa)]+_0x2de16a[_0x81c40(0x1d6)]['overlap'];_0x32f9cc>_0x5df64f[_0x81c40(0x878)]&&(_0x32f9cc=_0x5df64f[_0x81c40(0x878)]),length||(length=_0x4a023b+_0x2de16a[_0x81c40(0x1d6)][_0x81c40(0x1fa)],length>_0x5df64f[_0x81c40(0x878)]&&(length=_0x5df64f['length'])),_0x11374e[_0x81c40(0x7e8)](_0x5df64f[_0x81c40(0x170)](_0x5e2a7f,_0x32f9cc));}return _0x11374e;}(_0x46d9fe,_0x3001fd);await _0x15fb28(_0x478bd1,_0x4d9a7a,_0x38ba94,_0x278e03,_0x3001fd,_0x372bb1,_0x4e704f,_0x1bb863);}async function _0x3e8a40(_0xbd713b,_0x2f8c0a,_0x3eff08,_0x4ac83c,_0x48dcd8,_0x3ceea3,_0x265fb7,_0xab51ce){const _0x550092=_0x3149ab;if(_0x48dcd8[_0x550092(0xaa3)]||(_0x48dcd8[_0x550092(0xaa3)]={}),_0x48dcd8[_0x550092(0xaa3)][_0x550092(0x2fa)]||(_0x48dcd8[_0x550092(0xaa3)]['queries']=[]),_0x2f8c0a instanceof Array?_0x48dcd8[_0x550092(0xaa3)][_0x550092(0x2fa)][_0x550092(0x7e8)](..._0x2f8c0a):_0x48dcd8['accumulated'][_0x550092(0x2fa)]['push'](_0x2f8c0a),_0x48dcd8[_0x550092(0x53d)]=_0x48dcd8['timesCalled']?_0x48dcd8['timesCalled']+0x1:0x1,_0x501bb5(_0x48dcd8,_0x3ceea3)>_0x48dcd8[_0x550092(0x53d)])return;if(0x0===_0x48dcd8[_0x550092(0xaa3)][_0x550092(0x2fa)][_0x550092(0x878)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x596df9=[];const _0x1673d2=Date[_0x550092(0x3fe)]();try{let _0x535baa=0x0,_0x2dcf53=0x0;for(const _0x4028ed of _0x48dcd8[_0x550092(0xaa3)][_0x550092(0x2fa)]){const _0x4c07b0=await fetch(_0x2bdaff[_0x550092(0x406)]+_0x550092(0x156)+_0x48dcd8['id']+_0x550092(0x3bf),{'method':_0x550092(0x4cc),'headers':{'Content-Type':_0x550092(0x6a8),'x-vendor-id':_0x3eff08[_0x550092(0x164)]},'body':JSON[_0x550092(0x31d)]({'query':_0x4028ed})}),_0x17a501=((await _0x4c07b0[_0x550092(0x603)]())[_0x550092(0x9b8)]??[])['map'](_0x87c3bd=>({'pathName':_0x87c3bd[_0x550092(0x15d)],'relevance':_0x87c3bd[_0x550092(0x2e9)],'content':_0x87c3bd[_0x550092(0x130)][_0x550092(0xa7a)]}));_0x596df9=Array[_0x550092(0x271)](new Set([..._0x596df9,..._0x17a501])),_0x535baa+=_0x17a501[_0x550092(0x4f7)]??0x0,_0x2dcf53+=_0x17a501[_0x550092(0x206)]??0x0;}_0x4ac83c[_0x550092(0x4f7)]+=_0x535baa,_0x4ac83c[_0x550092(0x206)]+=_0x2dcf53,_0x4ac83c[_0x550092(0x32b)]=Array[_0x550092(0x271)](new Set([..._0x4ac83c[_0x550092(0x32b)],..._0x596df9])),await _0x59d769[_0x550092(0x70e)]({'jobType':_0x58c5b6[_0x550092(0x5ba)],'type':_0x196bee[_0x550092(0x582)],'jobId':_0xbd713b,'threadId':_0x3eff08[_0x550092(0xaaf)],'traceLevel':_0x1bdf60[_0x550092(0x944)],'startTime':_0x1673d2,'timestamp':Date[_0x550092(0x3fe)](),'blockId':_0x48dcd8['id'],'status':_0x550092(0xae9),'queries':_0x48dcd8[_0x550092(0xaa3)]['queries'],'context':_0x596df9,'inputTokens':_0x535baa,'outputTokens':_0x2dcf53});}catch(_0x298e45){console['error'](_0x298e45),await _0x59d769[_0x550092(0x70e)]({'jobType':_0x58c5b6[_0x550092(0x5ba)],'type':_0x196bee[_0x550092(0x582)],'jobId':_0xbd713b,'threadId':_0x3eff08[_0x550092(0xaaf)],'traceLevel':_0x1bdf60[_0x550092(0x944)],'startTime':_0x1673d2,'timestamp':Date[_0x550092(0x3fe)](),'blockId':_0x48dcd8['id'],'status':'error','queries':_0x48dcd8[_0x550092(0xaa3)][_0x550092(0x2fa)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x15fb28(_0xbd713b,'',_0x3eff08,_0x4ac83c,_0x48dcd8,_0x3ceea3,_0x265fb7,_0xab51ce);}async function _0x34dabd(_0x2bd810,_0x42760f,_0x38a190,_0x3e4763,_0x52fbc1,_0x5f278b,_0x25107f,_0xd6d431){const _0x549780=_0x3149ab,_0x2b9be8=await _0x25107f[_0x549780(0x1de)][_0x549780(0x610)](_0x42760f);await _0x15fb28(_0x2bd810,_0x2b9be8,_0x38a190,_0x3e4763,_0x52fbc1,_0x5f278b,_0x25107f,_0xd6d431);}async function _0x3fe165(_0xc7fafd,_0x3925b6,_0x1dae79,_0x3be5af,_0x43be6b,_0xa6e855,_0x4758c3,_0x1b0180){const _0x150a25=function(_0x5d2377,_0x44bbb3){const _0x24e34d=a0_0x38d9,_0x4e9671=[],_0x426455=_0x5d2377[_0x24e34d(0x91d)]('\x20');let _0x441a25='',_0x276692=0x0,_0x35f2e1=0x0,_0x3fee2a=0x0;for(const _0x44156a of _0x426455){if(_0x441a25['length']+_0x44156a['length']>_0x44bbb3[_0x24e34d(0x1d6)]['size']){let _0x4f773a=_0x276692,_0x878b1b='';for(;_0x4f773a>=0x0&&_0x878b1b[_0x24e34d(0x878)]+_0x426455[_0x4f773a]['length']<_0x44bbb3['attributes'][_0x24e34d(0x820)];)_0x878b1b=_0x426455[_0x4f773a]+'\x20'+_0x878b1b,_0x4f773a--;let _0x1826e6=_0x35f2e1,_0x96fcca='';for(;_0x1826e6<_0x426455[_0x24e34d(0x878)]&&_0x96fcca['length']+_0x426455[_0x1826e6]['length']<_0x44bbb3[_0x24e34d(0x1d6)][_0x24e34d(0x820)];)_0x96fcca+=_0x426455[_0x1826e6]+'\x20',_0x1826e6++;_0x441a25=_0x878b1b+_0x441a25+_0x96fcca,_0x4e9671[_0x24e34d(0x7e8)](_0x441a25[_0x24e34d(0x9b3)]()),_0x441a25='',_0x276692=_0x35f2e1;}_0x441a25+=_0x44156a+'\x20',_0x35f2e1++,_0x3fee2a+=_0x44156a['length']+0x1;}if(_0x441a25[_0x24e34d(0x878)]>0x0){let _0xaf6f4f=_0x276692,_0x599834='';for(;_0xaf6f4f>=0x0&&_0x599834[_0x24e34d(0x878)]+_0x426455[_0xaf6f4f][_0x24e34d(0x878)]<_0x44bbb3[_0x24e34d(0x1d6)]['overlap'];)_0x599834=_0x426455[_0xaf6f4f]+'\x20'+_0x599834,_0xaf6f4f--;_0x441a25=_0x599834+_0x441a25,_0x4e9671[_0x24e34d(0x7e8)](_0x441a25[_0x24e34d(0x9b3)]());}return _0x4e9671;}(_0x3925b6,_0x43be6b);await _0x15fb28(_0xc7fafd,_0x150a25,_0x1dae79,_0x3be5af,_0x43be6b,_0xa6e855,_0x4758c3,_0x1b0180);}async function _0x15fb28(_0x687995,_0x2a6d9b,_0x261056,_0x562079,_0x4acab0,_0x129b9e,_0xcfce2c,_0xc8aab3){const _0x103acd=_0x3149ab;if(await _0x39ab67[_0x103acd(0x1a0)](0x1),_0x4acab0[_0x103acd(0x342)]){for(const _0x38af0a of _0x4acab0['links']){if(_0x38af0a[_0x103acd(0x16c)]===_0x4b98fc[_0x103acd(0x188)])continue;const _0x3040cb=_0x129b9e[_0x103acd(0x8e4)](_0x403d10=>_0x403d10['uid']===_0x38af0a['uid']);if(_0x3040cb)switch(_0x3040cb[_0x103acd(0x16c)]){case _0x557158[_0x103acd(0x1cb)]:_0x38af0a[_0x103acd(0x16c)]!==_0x4b98fc[_0x103acd(0x6a6)]&&_0x38af0a['type']!==_0x4b98fc[_0x103acd(0x9b5)]||_0x103acd(0x657)!=typeof _0x2a6d9b||await _0x45477a(_0x687995,_0x38af0a[_0x103acd(0x16c)],_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3),_0x38af0a[_0x103acd(0x16c)]===_0x4b98fc[_0x103acd(0x5f5)]&&_0x103acd(0x9d8)===_0x2a6d9b&&await _0x45477a(_0x687995,_0x38af0a[_0x103acd(0x16c)],_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3),_0x38af0a[_0x103acd(0x16c)]===_0x4b98fc['WaitFalse']&&_0x103acd(0x37e)===_0x2a6d9b&&await _0x45477a(_0x687995,_0x38af0a[_0x103acd(0x16c)],_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3);break;case _0x557158[_0x103acd(0x9ce)]:_0x38af0a['type']===_0x4b98fc[_0x103acd(0x6a6)]&&_0x103acd(0x657)==typeof _0x2a6d9b&&await _0x3ac56a(_0x687995,_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3);break;case _0x557158['DataCollection']:_0x38af0a[_0x103acd(0x16c)]===_0x4b98fc[_0x103acd(0x6a6)]&&_0x103acd(0x657)==typeof _0x2a6d9b&&await _0x3e8a40(_0x687995,_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3),_0x38af0a[_0x103acd(0x16c)]===_0x4b98fc['Text']&&_0x2a6d9b instanceof Array&&await _0x3e8a40(_0x687995,_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3);break;case _0x557158[_0x103acd(0xa5c)]:_0x38af0a[_0x103acd(0x16c)]===_0x4b98fc[_0x103acd(0x6a6)]&&_0x103acd(0x657)==typeof _0x2a6d9b&&await _0x34dabd(_0x687995,_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3);break;case _0x557158['WordSplitter']:_0x38af0a[_0x103acd(0x16c)]===_0x4b98fc['Text']&&_0x103acd(0x657)==typeof _0x2a6d9b&&await _0x3fe165(_0x687995,_0x2a6d9b,_0x261056,_0x562079,_0x3040cb,_0x129b9e,_0xcfce2c,_0xc8aab3);}}_0x4acab0[_0x103acd(0x16c)]===_0x557158[_0x103acd(0x61d)]&&_0xc8aab3&&_0xc8aab3[_0x103acd(0x6ad)](void 0x0);}else _0x4acab0[_0x103acd(0x16c)]===_0x557158[_0x103acd(0x61d)]&&_0xc8aab3&&_0xc8aab3[_0x103acd(0x6ad)](void 0x0);}function _0x501bb5(_0x22aa3f,_0xd9a375){const _0x4a37ea=_0x3149ab;let _0x188bbf=0x0;for(const _0x4e7e03 of _0xd9a375)for(const _0x355c64 of _0x4e7e03['links']??[])_0x355c64[_0x4a37ea(0x16c)]!==_0x4b98fc[_0x4a37ea(0x188)]&&_0x355c64[_0x4a37ea(0x16c)]!==_0x4b98fc[_0x4a37ea(0x872)]&&_0x355c64[_0x4a37ea(0x232)]===_0x22aa3f[_0x4a37ea(0x232)]&&_0x188bbf++;return _0x188bbf;}function _0x4f1d27(_0xd5476,_0x286e81){const _0x16844d=_0x3149ab,_0x30c803={'type':_0xd5476[_0x16844d(0x16c)],'name':_0xd5476['name']??'','description':_0xd5476['description']??'','parameters':_0xd5476[_0x16844d(0x7a5)]??[],'headers':_0xd5476[_0x16844d(0xa12)]??[],'queryParameters':_0xd5476[_0x16844d(0x577)]??[],'bodyParameters':_0xd5476[_0x16844d(0x974)]??[],'endpointUrl':_0xd5476['endpointUrl']??'','endpointMethod':_0xd5476[_0x16844d(0x1ad)]??'','contextInputVariable':_0xd5476[_0x16844d(0x328)]??'','contextOutputVariable':_0xd5476['contextOutputVariable']??'','modelId':_0xd5476['modelId']??'','workflowId':_0xd5476[_0x16844d(0x85c)]??'','async':_0xd5476['async']??!0x1,'instructions':_0xd5476[_0x16844d(0x381)]??'','maxTokens':_0xd5476[_0x16844d(0x686)]??0x0,'temperature':_0xd5476[_0x16844d(0x9d3)]??0x0,'grammar':_0xd5476['grammar']??_0x16844d(0x823),'collectionId':_0xd5476[_0x16844d(0x16c)]===_0x557158[_0x16844d(0x582)]||_0xd5476[_0x16844d(0x16c)]===_0x557158[_0x16844d(0x1ee)]?_0xd5476['id']:'','shouldEmit':_0xd5476[_0x16844d(0x342)]?.[_0x16844d(0x3da)](_0x3e6788=>_0x3e6788[_0x16844d(0x16c)]===_0x4b98fc[_0x16844d(0x6a6)]&&_0x286e81[_0x16844d(0x8e4)](_0x369c93=>_0x369c93[_0x16844d(0x232)]===_0x3e6788['uid'])?.[_0x16844d(0x16c)]===_0x557158['Answer'])??!0x1};if(_0xd5476[_0x16844d(0x16c)]===_0x557158['FormSkill'])return[{..._0x30c803,'type':_0x3a4c7c['GenerativeAIInferenceToolType'][_0x16844d(0xa53)],'questions':_0xd5476[_0x16844d(0xa18)]??[]},{..._0x30c803,'type':_0x3a4c7c['GenerativeAIInferenceToolType'][_0x16844d(0x631)],'questions':_0xd5476[_0x16844d(0xa18)]??[]},{..._0x30c803,'type':_0x3a4c7c[_0x16844d(0x6a2)]['FormSkillSubmitForm'],'questions':_0xd5476[_0x16844d(0xa18)]??[]}];if(_0xd5476['type']===_0x557158[_0x16844d(0x1cb)]||_0xd5476[_0x16844d(0x16c)]===_0x557158[_0x16844d(0x7b2)]||_0xd5476[_0x16844d(0x16c)]===_0x557158[_0x16844d(0x3dd)]){const _0x5b7332=_0x286e81[_0x16844d(0x683)](_0x345a96=>_0x345a96[_0x16844d(0x342)]?.[_0x16844d(0x3da)](_0x4e647c=>_0x4e647c[_0x16844d(0x232)]===_0xd5476[_0x16844d(0x232)]&&_0x4e647c[_0x16844d(0x16c)]===_0x4b98fc[_0x16844d(0x872)]));if(_0x5b7332[_0x16844d(0x878)]>0x0)return{..._0x30c803,'tools':_0x5b7332[_0x16844d(0x287)](_0x12e20c=>_0x4f1d27(_0x12e20c,_0x286e81))};}return _0x30c803;}async function _0x45477a(_0x365cb3,_0x935cf6,_0x3900eb,_0x3da55c,_0x5e13c2,_0x5bb694,_0x1e4985,_0x2e54bf,_0x47e8af){const _0x53582d=_0x3149ab;if(_0x5bb694[_0x53582d(0xaa3)]||(_0x5bb694[_0x53582d(0xaa3)]={}),_0x935cf6===_0x4b98fc[_0x53582d(0x6a6)]&&'string'==typeof _0x3900eb&&(_0x5bb694[_0x53582d(0xaa3)][_0x53582d(0xa0b)]||(_0x5bb694['accumulated'][_0x53582d(0xa0b)]=[]),_0x5bb694[_0x53582d(0xaa3)][_0x53582d(0xa0b)][_0x53582d(0x7e8)](_0x3900eb)),_0x5bb694['timesCalled']=_0x5bb694['timesCalled']?_0x5bb694[_0x53582d(0x53d)]+0x1:0x1,_0x501bb5(_0x5bb694,_0x1e4985)>_0x5bb694[_0x53582d(0x53d)])return;if(_0x5b2279[_0x53582d(0x7b6)]('Processing\x20agent\x20block:\x20'+_0x5bb694['name'],_0x5bb694[_0x53582d(0x53d)]),!_0x5bb694['accumulated'][_0x53582d(0xa0b)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x5bb694[_0x53582d(0x662)]);const _0x1cd6f5=_0x2e54bf[_0x53582d(0x1a3)][_0x53582d(0x8e4)](_0x25385b=>_0x25385b['id']===_0x5bb694[_0x53582d(0x549)]);if(!_0x1cd6f5)throw new Error(_0x53582d(0x5b2)+_0x5bb694[_0x53582d(0x549)]);const _0x15221b=Date['now'](),_0x353146=(0x0,_0x19ce97['v4'])();let _0x1208a1='',_0x57cc9c=0x0,_0x2ae9df=0x0;const _0x3c1bd2=[],_0x59ba2a=function(_0x42e9d4,_0x4f8bcb,_0xfc1e5e){const _0x3172b8=_0x53582d;if(_0xfc1e5e[_0x3172b8(0x328)]){const _0x558922=_0xfc1e5e['contextInputVariable']['split'](',');for(const _0x11bd6d of _0x558922)_0x3172b8(0x7f6)!==_0x11bd6d&&_0x4f8bcb['internalContext']?.[_0x11bd6d]&&(_0x42e9d4='<'+_0x11bd6d+'>'+_0x4f8bcb[_0x3172b8(0x111)][_0x11bd6d]+'</'+_0x11bd6d+_0x3172b8(0x167)+_0x42e9d4);}return _0x42e9d4;}(_0x5bb694[_0x53582d(0xaa3)][_0x53582d(0xa0b)][_0x53582d(0x16a)]('\x0a\x0a'),_0x5e13c2,_0x5bb694);let _0x3b665b=_0x59ba2a;const _0x3746ad=_0x5bb694[_0x53582d(0x328)]?.[_0x53582d(0x91d)](',');if(_0x5e13c2[_0x53582d(0x111)]?.[_0x53582d(0x7f6)]&&_0x3746ad?.[_0x53582d(0x24c)](_0x53582d(0x7f6))){const _0x403c7e=_0x5e13c2[_0x53582d(0x111)][_0x53582d(0x7f6)]['split'](',');_0x3b665b=[];for(const _0x221f67 of _0x403c7e)_0x3b665b['push']({'type':'file','file':{'file_id':_0x221f67}});_0x3b665b[_0x53582d(0x7e8)]({'type':'text','text':_0x59ba2a});}_0x3c1bd2[_0x53582d(0x7e8)]({'role':'system','content':_0x297bba(_0x3da55c[_0x53582d(0x381)]??'',_0x5bb694,_0x1cd6f5)}),_0x3c1bd2[_0x53582d(0x7e8)](..._0x3da55c[_0x53582d(0x233)]?.[_0x53582d(0x323)](_0x28499c=>({'role':_0x28499c[_0x53582d(0xa01)]===_0x3a4c7c[_0x53582d(0x242)]['Human']?_0x53582d(0x442):_0x53582d(0x441),'content':_0x28499c[_0x53582d(0x948)]}))??[]),_0x3c1bd2[_0x53582d(0x7e8)]({'role':_0x53582d(0x442),'content':_0x3b665b});const _0x202ab8=_0x1e4985[_0x53582d(0x683)](_0x199ec5=>_0x199ec5['links']?.[_0x53582d(0x3da)](_0x5e9bd4=>_0x5e9bd4[_0x53582d(0x232)]===_0x5bb694[_0x53582d(0x232)]&&_0x5e9bd4[_0x53582d(0x16c)]===_0x4b98fc['Tool']))[_0x53582d(0x287)](_0x2a0020=>_0x4f1d27(_0x2a0020,_0x1e4985));if(_0x47e8af){const _0x455847=_0x5bb694['links']?.[_0x53582d(0x3da)](_0x108ad6=>_0x108ad6[_0x53582d(0x16c)]===_0x4b98fc[_0x53582d(0x6a6)]&&_0x1e4985[_0x53582d(0x8e4)](_0x5107f8=>_0x5107f8[_0x53582d(0x232)]===_0x108ad6['uid'])?.[_0x53582d(0x16c)]===_0x557158['Answer'])??!0x1,_0xf56fe2=await fetch(_0x2bdaff['apiUrl']+_0x53582d(0x80a),{'method':'POST','headers':{'Accept':_0x53582d(0x240),'Content-Type':'application/json','x-vendor-id':_0x3da55c[_0x53582d(0x164)]},'body':JSON['stringify']({'model':_0x5bb694['modelId'],'messages':_0x3c1bd2,'max_completion_tokens':_0x5bb694['maxTokens'],'temperature':_0x5bb694[_0x53582d(0x9d3)],'metadata':{'threadId':_0x3da55c[_0x53582d(0xaaf)],'agentId':_0x353146,'jobId':_0x365cb3,'workflowId':_0x3da55c[_0x53582d(0x85c)],'context':_0x5e13c2[_0x53582d(0x111)]??{}},'structured_output':_0x5bb694[_0x53582d(0x875)],'tools':_0x202ab8,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0xf56fe2['ok']||!_0xf56fe2[_0x53582d(0x7b3)])throw new Error(_0x53582d(0x42a));const _0x17db2f=_0xf56fe2[_0x53582d(0x7b3)][_0x53582d(0x386)](),_0x4ceab5=new TextDecoder();for(;;){const {value:_0x3282d5,done:_0x22d38b}=await _0x17db2f[_0x53582d(0x4ed)]();if(_0x22d38b)break;const _0x12980e=_0x4ceab5[_0x53582d(0x4f6)](_0x3282d5,{'stream':!0x0});if(_0x53582d(0x19b)===_0x12980e)break;const _0xde4f9f=_0x149786(_0x12980e);for(const _0x1e0234 of _0xde4f9f)_0x1e0234[_0x53582d(0x834)]&&_0x1e0234['choices'][0x0]&&(_0x455847&&(_0x47e8af[_0x53582d(0x6ad)]({'output':_0x1e0234['choices'][0x0][_0x53582d(0x6b3)][_0x53582d(0x130)],'type':'prompt'}),await _0x39ab67[_0x53582d(0x1a0)](0x1)),_0x1208a1+=_0x1e0234[_0x53582d(0x834)][0x0][_0x53582d(0x6b3)]['content']??'',_0x57cc9c=_0x1e0234[_0x53582d(0x3c3)]?.[_0x53582d(0xa9a)]??0x0,_0x2ae9df=_0x1e0234[_0x53582d(0x3c3)]?.[_0x53582d(0x6b6)]??0x0,_0x5e13c2[_0x53582d(0x111)]={..._0x5e13c2[_0x53582d(0x111)],..._0x1e0234[_0x53582d(0x32b)]});}_0x5e13c2[_0x53582d(0x206)]=(_0x5e13c2[_0x53582d(0x206)]??0x0)+_0x2ae9df,_0x5e13c2[_0x53582d(0x4f7)]=(_0x5e13c2[_0x53582d(0x4f7)]??0x0)+_0x57cc9c,_0x455847||_0x47e8af['emit']({'output':'','type':_0x53582d(0xa0b)});}else{const _0x205696=await fetch(_0x2bdaff['apiUrl']+_0x53582d(0x80a),{'method':_0x53582d(0x4cc),'headers':{'Content-Type':_0x53582d(0x6a8),'x-vendor-id':_0x3da55c[_0x53582d(0x164)]},'body':JSON[_0x53582d(0x31d)]({'model':_0x5bb694['modelId'],'messages':_0x3c1bd2,'max_completion_tokens':_0x5bb694['maxTokens'],'temperature':_0x5bb694[_0x53582d(0x9d3)],'metadata':{'threadId':_0x3da55c['threadId'],'agentId':_0x353146,'jobId':_0x365cb3,'workflowId':_0x3da55c[_0x53582d(0x85c)],'context':_0x5e13c2[_0x53582d(0x111)]??{}},'structured_output':_0x5bb694[_0x53582d(0x875)],'tools':_0x202ab8})}),_0xf40402=await _0x205696[_0x53582d(0x603)]();_0x1208a1=_0xf40402[_0x53582d(0x834)][0x0][_0x53582d(0x948)]['content'],_0x57cc9c=_0xf40402[_0x53582d(0x3c3)]['prompt_tokens'],_0x2ae9df=_0xf40402['usage'][_0x53582d(0x6b6)],_0x5e13c2[_0x53582d(0x949)]=_0x1208a1,_0x5e13c2[_0x53582d(0x111)]={..._0x5e13c2[_0x53582d(0x111)],..._0xf40402[_0x53582d(0x32b)]},_0x5e13c2[_0x53582d(0x206)]=(_0x5e13c2[_0x53582d(0x206)]??0x0)+_0x2ae9df,_0x5e13c2[_0x53582d(0x4f7)]=(_0x5e13c2[_0x53582d(0x4f7)]??0x0)+_0x57cc9c;}if(_0x5bb694[_0x53582d(0x2dc)]&&(_0x5e13c2[_0x53582d(0x111)]||(_0x5e13c2[_0x53582d(0x111)]={}),_0x5e13c2[_0x53582d(0x111)][_0x5bb694[_0x53582d(0x2dc)]]=_0x1208a1),await _0x59d769[_0x53582d(0x70e)]({'jobType':_0x58c5b6[_0x53582d(0x5ba)],'type':_0x196bee[_0x53582d(0x1b3)],'jobId':_0x365cb3,'agentId':_0x353146,'threadId':_0x3da55c[_0x53582d(0xaaf)],'traceLevel':_0x1bdf60[_0x53582d(0x944)],'startTime':_0x15221b,'timestamp':Date[_0x53582d(0x3fe)](),'blockId':_0x5bb694['id'],'status':_0x53582d(0xae9),'output':_0x1208a1,'prompt':_0x59ba2a,'agentName':_0x5bb694[_0x53582d(0x662)],'history':[],'instructions':''+_0x5bb694[_0x53582d(0x381)]+(_0x3da55c[_0x53582d(0x381)]??''),'ragContext':[],'inputTokens':_0x57cc9c??0x0,'outputTokens':_0x2ae9df??0x0}),_0x53582d(0x774)===_0x5bb694[_0x53582d(0x875)])try{_0x1208a1=JSON[_0x53582d(0x39a)](_0x1208a1)[_0x53582d(0x4e4)]?_0x53582d(0x9d8):_0x53582d(0x37e);}catch(_0x4ad73f){console[_0x53582d(0x1be)](_0x53582d(0x562),_0x1208a1),_0x1208a1='false';}await _0x15fb28(_0x365cb3,_0x1208a1,_0x3da55c,_0x5e13c2,_0x5bb694,_0x1e4985,_0x2e54bf,_0x47e8af);}function _0x297bba(_0xe79e6d,_0x1d1a78,_0x5a3afe){const _0x11821b=_0x3149ab;let _0x268167='';return _0x5a3afe[_0x11821b(0x178)]&&''!==_0x5a3afe[_0x11821b(0x178)]&&(_0x268167='Knowledge\x20Cutoff\x20Date:\x20'+_0x5a3afe['knowledgeCutoffDate']+'\x0a\x0a'),_0x268167=_0x268167+_0x11821b(0x788)+new Date()[_0x11821b(0x6a4)](void 0x0,{'weekday':_0x11821b(0x863),'year':_0x11821b(0x1e0),'month':_0x11821b(0x863),'day':_0x11821b(0x1e0)})+'\x0a\x0a',''+_0x268167+_0x1d1a78['instructions']+_0xe79e6d;}function _0x149786(_0xdef6ac){const _0x3ee6cc=_0x3149ab;return _0xdef6ac['split'](_0x3ee6cc(0x43e))[_0x3ee6cc(0x323)](_0x2ebb64=>_0x2ebb64[_0x3ee6cc(0xabe)]('data:\x20','')[_0x3ee6cc(0x9b3)]())['filter'](_0x50dafc=>''!==_0x50dafc)[_0x3ee6cc(0x323)](_0xe1d645=>{const _0x17493a=_0x3ee6cc;if(_0x17493a(0x4a3)===_0xe1d645)return null;try{return JSON[_0x17493a(0x39a)](_0xe1d645);}catch(_0xe76345){return console[_0x17493a(0x1be)]('Invalid\x20JSON:',_0xe1d645),null;}})[_0x3ee6cc(0x683)](_0x4fb9e3=>null!==_0x4fb9e3);}async function _0x4c5450(_0x2f96d0,_0x286f32,_0x146a00,_0x74ebb0,_0x25ab0a,_0x1ccd7f,_0x10c802){const _0x533515=_0x3149ab,_0x32c685=_0x533515(0x739)+_0x25ab0a[_0x533515(0x971)]+_0x533515(0x6ab),_0x3eef31={'prompt':{'type':_0x3a4c7c[_0x533515(0x428)][_0x533515(0x345)]}};return await _0x59d769[_0x533515(0x70e)]({'jobType':_0x58c5b6[_0x533515(0x423)],'type':_0x22e6ca['LoadSkillFunction'],'jobId':_0x2f96d0,'agentId':_0x286f32,'threadId':_0x146a00['threadId'],'traceLevel':_0x1bdf60[_0x533515(0x944)],'startTime':Date['now'](),'timestamp':Date[_0x533515(0x3fe)](),'status':_0x533515(0xae9),'function':_0x5f422b[_0x533515(0x7ea)],'params':_0x3eef31,'functionDescription':_0x32c685}),{'description':_0x32c685,'params':_0x3eef31,'callback':async _0x5105bd=>_0x3775d8(_0x146a00[_0x533515(0x164)],_0x25ab0a,_0x1ccd7f,_0x5105bd,_0x74ebb0,_0x2f96d0,_0x286f32,_0x146a00[_0x533515(0xaaf)],_0x10c802)};}async function _0x3775d8(_0x1871fa,_0x49cb7f,_0x29823b,_0xb42143,_0x5cc0cf,_0x936ad8,_0x3ec33b,_0x1b95e2,_0xa803e6){const _0x2320d7=_0x3149ab,_0x17578f=Date[_0x2320d7(0x3fe)]();try{if('string'!=typeof _0xb42143?.[_0x2320d7(0xa0b)])throw new Error(_0x2320d7(0x8a1));if(!_0x29823b[_0x2320d7(0x1a3)][_0x2320d7(0x8e4)](_0x368149=>_0x368149['id']===_0x49cb7f['modelId']))throw new Error(_0x2320d7(0x85a));let _0x30ede2='',_0x3630db=[];if(_0x49cb7f[_0x2320d7(0x381)]&&_0x3630db[_0x2320d7(0x7e8)]({'role':_0x2320d7(0x506),'content':_0x49cb7f[_0x2320d7(0x381)]}),_0x3630db['push']({'role':'user','content':_0xb42143[_0x2320d7(0xa0b)]}),_0xa803e6&&_0x49cb7f[_0x2320d7(0x224)]){const _0x101c5c=await fetch(_0x2bdaff[_0x2320d7(0x406)]+_0x2320d7(0x80a),{'method':'POST','headers':{'Accept':_0x2320d7(0x240),'Content-Type':'application/json','x-vendor-id':_0x1871fa},'body':JSON[_0x2320d7(0x31d)]({'model':_0x49cb7f['modelId'],'messages':_0x3630db,'max_completion_tokens':_0x49cb7f[_0x2320d7(0x686)],'temperature':_0x49cb7f[_0x2320d7(0x9d3)],'tools':_0x49cb7f['tools'],'structured_output':_0x49cb7f[_0x2320d7(0x875)],'metadata':{'threadId':_0x1b95e2,'jobId':_0x936ad8,'agentId':_0x3ec33b,'context':_0x5cc0cf?.[_0x2320d7(0x111)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x101c5c['ok']||!_0x101c5c[_0x2320d7(0x7b3)])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x582bec=_0x101c5c[_0x2320d7(0x7b3)][_0x2320d7(0x386)](),_0x3f2ee1=new TextDecoder();let _0x504192=0x0,_0x35fb49=0x0,_0x4b0e2e='';for(;;){const {value:_0x5771f1,done:_0x324815}=await _0x582bec[_0x2320d7(0x4ed)]();if(_0x324815)break;const _0x3feaf3=_0x3f2ee1['decode'](_0x5771f1,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x3feaf3)break;const _0x5aa2b1=_0x149786(_0x3feaf3);for(const _0x12a278 of _0x5aa2b1)_0x12a278[_0x2320d7(0x834)]&&_0x12a278[_0x2320d7(0x834)][0x0]&&(_0x4b0e2e+=_0x12a278[_0x2320d7(0x834)][0x0][_0x2320d7(0x6b3)][_0x2320d7(0x130)],_0x504192+=_0x12a278[_0x2320d7(0x3c3)]?.[_0x2320d7(0x57f)]??0x0,_0x35fb49+=_0x12a278[_0x2320d7(0x3c3)]?.[_0x2320d7(0x93c)]??0x0,_0x5cc0cf&&(_0x5cc0cf['internalContext']={..._0x5cc0cf[_0x2320d7(0x111)],..._0x12a278[_0x2320d7(0x32b)]}),_0xa803e6[_0x2320d7(0x6ad)]({'output':_0x12a278[_0x2320d7(0x834)][0x0][_0x2320d7(0x6b3)][_0x2320d7(0x130)],'type':_0x2320d7(0xa0b)}),await _0x39ab67[_0x2320d7(0x1a0)](0x1));}_0x5cc0cf&&(_0x5cc0cf[_0x2320d7(0x206)]=(_0x5cc0cf[_0x2320d7(0x206)]??0x0)+_0x35fb49,_0x5cc0cf[_0x2320d7(0x4f7)]=(_0x5cc0cf[_0x2320d7(0x4f7)]??0x0)+_0x504192,_0x49cb7f[_0x2320d7(0x2dc)]&&(_0x5cc0cf[_0x2320d7(0x111)]||(_0x5cc0cf[_0x2320d7(0x111)]={}),_0x5cc0cf[_0x2320d7(0x111)][_0x49cb7f[_0x2320d7(0x2dc)]]=_0x4b0e2e)),_0xa803e6[_0x2320d7(0x6ad)]({'output':'\x0a\x0a','type':_0x2320d7(0xa0b)}),await _0x39ab67['wait'](0x1),_0x30ede2=_0x2320d7(0x4e6);}else{const _0xd33574=await fetch(_0x2bdaff[_0x2320d7(0x406)]+'/chat/completions',{'method':_0x2320d7(0x4cc),'headers':{'Content-Type':_0x2320d7(0x6a8),'x-vendor-id':_0x1871fa},'body':JSON[_0x2320d7(0x31d)]({'model':_0x49cb7f[_0x2320d7(0x549)],'messages':_0x3630db,'max_completion_tokens':_0x49cb7f['maxTokens'],'temperature':_0x49cb7f[_0x2320d7(0x9d3)],'tools':_0x49cb7f[_0x2320d7(0x2c4)],'structured_output':_0x49cb7f[_0x2320d7(0x875)],'metadata':{'threadId':_0x1b95e2,'jobId':_0x936ad8,'agentId':_0x3ec33b,'context':_0x5cc0cf?.[_0x2320d7(0x111)]??{}}})}),_0x5dcec3=await _0xd33574['json']();_0x30ede2=_0x5dcec3[_0x2320d7(0x834)][0x0][_0x2320d7(0x948)][_0x2320d7(0x130)],_0x5cc0cf&&(_0x5cc0cf['internalContext']={..._0x5cc0cf[_0x2320d7(0x111)],..._0x5dcec3[_0x2320d7(0x32b)]},_0x5cc0cf[_0x2320d7(0x206)]=(_0x5cc0cf['outputTokens']??0x0)+_0x5dcec3[_0x2320d7(0x3c3)]['completion_tokens'],_0x5cc0cf[_0x2320d7(0x4f7)]=(_0x5cc0cf['inputTokens']??0x0)+_0x5dcec3[_0x2320d7(0x3c3)][_0x2320d7(0xa9a)],_0x49cb7f['contextOutputVariable']&&(_0x5cc0cf[_0x2320d7(0x111)]||(_0x5cc0cf[_0x2320d7(0x111)]={}),_0x5cc0cf[_0x2320d7(0x111)][_0x49cb7f[_0x2320d7(0x2dc)]]=_0x30ede2));}if(_0x2320d7(0x657)!=typeof _0x30ede2)throw new Error(_0x2320d7(0x174));return _0x936ad8&&_0x3ec33b&&_0x1b95e2&&await _0x59d769[_0x2320d7(0x70e)]({'jobType':_0x58c5b6[_0x2320d7(0x320)],'type':_0x5f422b['ExecuteAgent'],'jobId':_0x936ad8,'blockId':_0x2320d7(0x998),'agentId':_0x3ec33b,'threadId':_0x1b95e2,'traceLevel':_0x1bdf60[_0x2320d7(0x944)],'startTime':_0x17578f,'timestamp':Date[_0x2320d7(0x3fe)](),'status':_0x2320d7(0xae9),'agentName':_0x49cb7f[_0x2320d7(0x662)],'prompt':_0xb42143[_0x2320d7(0xa0b)],'instructions':_0x49cb7f['instructions']??'','result':_0x30ede2,'inputTokens':0x0,'outputTokens':0x0}),_0x30ede2;}catch(_0x23c391){return console[_0x2320d7(0x1be)](_0x23c391),_0x936ad8&&_0x3ec33b&&_0x1b95e2&&await _0x59d769[_0x2320d7(0x70e)]({'jobType':_0x58c5b6['Skill'],'type':_0x5f422b['ExecuteAgent'],'jobId':_0x936ad8,'blockId':'agent','agentId':_0x3ec33b,'threadId':_0x1b95e2,'traceLevel':_0x1bdf60[_0x2320d7(0x944)],'startTime':_0x17578f,'timestamp':Date['now'](),'status':_0x2320d7(0x1be),'errorDetails':_0xe328c1(_0x23c391),'agentName':_0x49cb7f[_0x2320d7(0x662)],'prompt':_0xb42143?.['prompt']??'','instructions':_0x49cb7f[_0x2320d7(0x381)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x23c391 instanceof Error?_0x23c391[_0x2320d7(0x948)]:_0x2320d7(0x5c7);}}async function _0x2b3e10(_0xe7deb6,_0x4f33ff,_0x21d0af,_0x180c53,_0x33c64b,_0x211224){const _0xf59c9a=_0x3149ab,_0x425f45=Date[_0xf59c9a(0x3fe)]();try{if(!_0x4f33ff[_0xf59c9a(0x927)])throw new Error(_0xf59c9a(0x487));if(!_0xe7deb6[_0xf59c9a(0x549)])throw new Error('Model\x20ID\x20is\x20required');if(_0xf59c9a(0x657)!=typeof _0x21d0af?.[_0xf59c9a(0x8db)])throw new Error(_0xf59c9a(0x23c));const _0x401317=await _0x4f33ff[_0xf59c9a(0x927)][_0xf59c9a(0x5e9)](_0x21d0af[_0xf59c9a(0x8db)],_0xe7deb6[_0xf59c9a(0x549)]);return _0x180c53&&_0x33c64b&&_0x211224&&await _0x59d769[_0xf59c9a(0x70e)]({'jobType':_0x58c5b6[_0xf59c9a(0x320)],'type':_0x5f422b['SearchPerplexity'],'jobId':_0x180c53,'agentId':_0x33c64b,'threadId':_0x211224,'blockId':_0xf59c9a(0x3bb),'traceLevel':_0x1bdf60[_0xf59c9a(0x944)],'startTime':_0x425f45,'timestamp':Date[_0xf59c9a(0x3fe)](),'status':_0xf59c9a(0xae9),'query':_0x21d0af[_0xf59c9a(0x8db)],'results':_0x401317}),_0x401317;}catch(_0x4c3222){return console[_0xf59c9a(0x1be)](_0x4c3222),_0x180c53&&_0x33c64b&&_0x211224&&await _0x59d769[_0xf59c9a(0x70e)]({'jobType':_0x58c5b6[_0xf59c9a(0x320)],'type':_0x5f422b[_0xf59c9a(0x525)],'jobId':_0x180c53,'blockId':_0xf59c9a(0x3bb),'traceLevel':_0x1bdf60[_0xf59c9a(0x944)],'startTime':_0x425f45,'timestamp':Date[_0xf59c9a(0x3fe)](),'status':'error','errorDetails':_0xe328c1(_0x4c3222),'agentId':_0x33c64b,'threadId':_0x211224,'query':_0x21d0af?.[_0xf59c9a(0x8db)]??'','results':_0xf59c9a(0x436)}),_0x4c3222 instanceof Error?_0x4c3222[_0xf59c9a(0x948)]:_0xf59c9a(0x436);}}async function _0x2090fb(_0x58027,_0x2ab3f4,_0x56a954,_0x3465b1){const _0x363a16=_0x3149ab,_0x4a0a1c=Date['now']();try{if(_0x363a16(0x657)!=typeof _0x58027?.[_0x363a16(0x634)])throw new Error(_0x363a16(0x97e));const _0x465fc8=Function(''+_0x58027?.[_0x363a16(0x634)])();let _0x1aaf88='';try{_0x1aaf88=JSON[_0x363a16(0x31d)](_0x465fc8);}catch{_0x1aaf88=_0x465fc8[_0x363a16(0x50d)]();}return _0x2ab3f4&&_0x56a954&&_0x3465b1&&await _0x59d769[_0x363a16(0x70e)]({'jobType':_0x58c5b6[_0x363a16(0x320)],'type':_0x5f422b[_0x363a16(0x502)],'agentId':_0x56a954,'threadId':_0x3465b1,'jobId':_0x2ab3f4,'blockId':_0x363a16(0x634),'traceLevel':_0x1bdf60[_0x363a16(0x944)],'startTime':_0x4a0a1c,'timestamp':Date[_0x363a16(0x3fe)](),'status':'success','code':_0x58027[_0x363a16(0x634)],'result':_0x1aaf88}),_0x465fc8;}catch(_0x5a4a92){return console['error'](_0x5a4a92),_0x2ab3f4&&_0x56a954&&_0x3465b1&&await _0x59d769[_0x363a16(0x70e)]({'jobType':_0x58c5b6[_0x363a16(0x320)],'type':_0x5f422b['ExecuteCode'],'jobId':_0x2ab3f4,'blockId':'code','traceLevel':_0x1bdf60[_0x363a16(0x944)],'startTime':_0x4a0a1c,'timestamp':Date['now'](),'status':_0x363a16(0x1be),'errorDetails':_0xe328c1(_0x5a4a92),'agentId':_0x56a954,'threadId':_0x3465b1,'code':_0x58027?.[_0x363a16(0x634)]??'','result':_0x363a16(0x280)}),_0x5a4a92 instanceof Error?_0x5a4a92[_0x363a16(0x948)]:_0x363a16(0x280);}}async function _0x320879(_0x321543,_0x4191ad,_0x2d31bf,_0x3e51f0,_0x1e3cc8){const _0x10977f=_0x3149ab,_0x55fab4=_0x10977f(0x86a)+_0x1e3cc8['description']+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x51d400={'queryOrPrompt':{'type':_0x3a4c7c['PromptFunctionParamsType']['String']}};return await _0x59d769[_0x10977f(0x70e)]({'jobType':_0x58c5b6['JobContext'],'type':_0x22e6ca['LoadKnowledgeFunction'],'jobId':_0x321543,'agentId':_0x4191ad,'threadId':_0x2d31bf[_0x10977f(0xaaf)],'blockId':_0x10977f(0x93d),'traceLevel':_0x1bdf60[_0x10977f(0x944)],'startTime':Date[_0x10977f(0x3fe)](),'timestamp':Date['now'](),'status':_0x10977f(0xae9),'function':_0x314383['GetContextQuery'],'params':_0x51d400,'functionDescription':_0x55fab4}),{'description':_0x55fab4,'params':_0x51d400,'callback':async _0x450df9=>_0x400974(_0x2d31bf[_0x10977f(0x164)],_0x1e3cc8,_0x450df9,_0x3e51f0,_0x321543,_0x4191ad,_0x2d31bf[_0x10977f(0xaaf)])};}async function _0x400974(_0x56992a,_0x4843a2,_0x1ea50f,_0x1ce828,_0x2148c8,_0x5c2b39,_0x306438){const _0x2b49a8=_0x3149ab,_0x3b8ba2=Date[_0x2b49a8(0x3fe)]();try{if('string'!=typeof _0x1ea50f?.[_0x2b49a8(0x679)])throw new Error(_0x2b49a8(0x23c));const _0x1e5caa=await fetch(_0x2bdaff[_0x2b49a8(0x406)]+_0x2b49a8(0x156)+_0x4843a2[_0x2b49a8(0x5e4)]+_0x2b49a8(0x3bf),{'method':_0x2b49a8(0x4cc),'headers':{'Content-Type':_0x2b49a8(0x6a8),'x-vendor-id':_0x56992a},'body':JSON['stringify']({'query':_0x1ea50f['queryOrPrompt']})}),_0x552cf0=((await _0x1e5caa[_0x2b49a8(0x603)]())['data']??[])[_0x2b49a8(0x323)](_0x523b37=>({'pathName':_0x523b37[_0x2b49a8(0x15d)],'relevance':_0x523b37[_0x2b49a8(0x2e9)],'content':_0x523b37[_0x2b49a8(0x130)][_0x2b49a8(0xa7a)]}));return _0x1ce828&&(_0x1ce828[_0x2b49a8(0x32b)]=Array['from'](new Set([..._0x1ce828['context']??[],..._0x552cf0]))),_0x2148c8&&_0x5c2b39&&_0x306438&&await _0x59d769[_0x2b49a8(0x70e)]({'jobType':_0x58c5b6[_0x2b49a8(0x1ee)],'type':_0x314383[_0x2b49a8(0x94b)],'jobId':_0x2148c8,'blockId':_0x2b49a8(0x93d),'agentId':_0x5c2b39,'threadId':_0x306438,'traceLevel':_0x1bdf60['Info'],'startTime':_0x3b8ba2,'timestamp':Date[_0x2b49a8(0x3fe)](),'status':_0x2b49a8(0xae9),'query':_0x1ea50f[_0x2b49a8(0x679)],'context':_0x552cf0??[],'inputTokens':0x0,'outputTokens':0x0}),_0x552cf0[_0x2b49a8(0x399)]((_0x1803bc,_0x421a30)=>_0x1803bc+'\x0a'+_0x421a30[_0x2b49a8(0x130)],'');}catch(_0x35b5f6){return console[_0x2b49a8(0x1be)](_0x35b5f6),_0x2148c8&&_0x5c2b39&&_0x306438&&await _0x59d769['trace']({'jobType':_0x58c5b6[_0x2b49a8(0x1ee)],'type':_0x314383[_0x2b49a8(0x94b)],'jobId':_0x2148c8,'blockId':_0x2b49a8(0x93d),'agentId':_0x5c2b39,'threadId':_0x306438,'traceLevel':_0x1bdf60[_0x2b49a8(0x944)],'startTime':_0x3b8ba2,'timestamp':Date['now'](),'status':'error','errorDetails':_0xe328c1(_0x35b5f6),'query':_0x1ea50f?.[_0x2b49a8(0x679)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x35b5f6 instanceof Error?_0x35b5f6[_0x2b49a8(0x948)]:_0x2b49a8(0x951);}}async function _0x17d2b1(_0x28c78b,_0x5c6cef,_0x2743e0,_0x592edd,_0x110990){const _0x50baad=_0x3149ab,_0x55612f={};for(const _0x2fdb80 of _0x110990[_0x50baad(0x7a5)]??[])switch(_0x2fdb80[_0x50baad(0x16c)]){case _0x50baad(0x657):case _0x50baad(0x603):_0x55612f[_0x2fdb80[_0x50baad(0x662)]]={'type':_0x3a4c7c[_0x50baad(0x428)][_0x50baad(0x345)]};break;case _0x50baad(0x15c):_0x55612f[_0x2fdb80[_0x50baad(0x662)]]={'type':_0x3a4c7c[_0x50baad(0x428)][_0x50baad(0x590)]};break;case _0x50baad(0x769):_0x55612f[_0x2fdb80[_0x50baad(0x662)]]={'type':_0x3a4c7c[_0x50baad(0x428)][_0x50baad(0x7d4)]};}return await _0x59d769['trace']({'jobType':_0x58c5b6[_0x50baad(0x423)],'type':_0x22e6ca[_0x50baad(0x444)],'jobId':_0x28c78b,'agentId':_0x5c6cef,'threadId':_0x2743e0,'traceLevel':_0x1bdf60[_0x50baad(0x944)],'startTime':Date[_0x50baad(0x3fe)](),'timestamp':Date[_0x50baad(0x3fe)](),'status':_0x50baad(0xae9),'function':_0x5f422b[_0x50baad(0xa97)],'params':_0x55612f,'functionDescription':_0x110990[_0x50baad(0x971)]??''}),{'description':_0x50baad(0x35d)+_0x110990[_0x50baad(0x971)],'params':_0x55612f,'callback':async _0x346ae7=>_0x434c55(_0x110990,_0x346ae7,_0x592edd,_0x28c78b,_0x5c6cef,_0x2743e0)};}async function _0x434c55(_0x13a91b,_0x261739,_0xccd1c8,_0x3d66a8,_0x59834f,_0x5e59f9){const _0x2e8d32=_0x3149ab,_0x40a27c=Date[_0x2e8d32(0x3fe)]();try{if(!_0x261739)throw new Error(_0x2e8d32(0xab7));for(const _0x21c658 of _0x13a91b['parameters']??[]){if(void 0x0===_0x261739[_0x21c658[_0x2e8d32(0x662)]])throw new Error(_0x2e8d32(0x6e4)+_0x21c658[_0x2e8d32(0x662)]+_0x2e8d32(0x4bb));if(_0x2e8d32(0x657)===_0x21c658[_0x2e8d32(0x16c)]&&_0x2e8d32(0x657)!=typeof _0x261739[_0x21c658[_0x2e8d32(0x662)]])throw new Error(_0x2e8d32(0x6e4)+_0x21c658[_0x2e8d32(0x662)]+_0x2e8d32(0x8e2));if(_0x2e8d32(0x15c)===_0x21c658[_0x2e8d32(0x16c)]&&_0x2e8d32(0x15c)!=typeof _0x261739[_0x21c658[_0x2e8d32(0x662)]])throw new Error(_0x2e8d32(0x6e4)+_0x21c658[_0x2e8d32(0x662)]+'\x20must\x20be\x20a\x20number');if(_0x2e8d32(0x769)===_0x21c658[_0x2e8d32(0x16c)]&&_0x2e8d32(0x769)!=typeof _0x261739[_0x21c658[_0x2e8d32(0x662)]])throw new Error(_0x2e8d32(0x6e4)+_0x21c658['name']+'\x20must\x20be\x20a\x20boolean');if(_0x2e8d32(0x603)===_0x21c658[_0x2e8d32(0x16c)]&&_0x2e8d32(0x657)!=typeof _0x261739[_0x21c658[_0x2e8d32(0x662)]])throw new Error(_0x2e8d32(0x6e4)+_0x21c658['name']+_0x2e8d32(0x8e2));if(_0x2e8d32(0x603)===_0x21c658[_0x2e8d32(0x16c)])try{_0x261739[_0x21c658['name']]=JSON['parse'](_0x261739[_0x21c658[_0x2e8d32(0x662)]]);}catch{throw new Error(_0x2e8d32(0x6e4)+_0x21c658['name']+_0x2e8d32(0x2e2));}}const _0x5bf8c3={};for(const _0x42f358 of _0x13a91b['headers']??[]){let _0x477b39=_0x42f358['value'];_0x477b39[_0x2e8d32(0xa56)](/\$[a-zA-Z0-9]+/)&&(_0x477b39=_0x477b39[_0x2e8d32(0xabe)](/\$[a-zA-Z0-9]+/g,_0x3f7fb9=>{const _0x43bcf0=_0x3f7fb9['slice'](0x1);return _0x261739[_0x43bcf0];})),_0x5bf8c3[_0x42f358[_0x2e8d32(0x662)]]=_0x477b39;}const _0x2b9a1a=new URLSearchParams();for(const _0x4c7fbd of _0x13a91b['queryParameters']??[]){let _0x582427=_0x4c7fbd[_0x2e8d32(0x687)];if(_0x2e8d32(0x657)==typeof _0x582427&&_0x582427[_0x2e8d32(0xa2f)]('$')){const _0x18a304=_0x582427['slice'](0x1);_0x582427=_0x261739[_0x18a304];}if(_0x2e8d32(0x657)==typeof _0x582427&&_0x582427[_0x2e8d32(0xa2f)]('@context.')){const _0x1c5552=_0x582427['replace'](_0x2e8d32(0x36a),'');if(_0x582427=_0xccd1c8?.['internalContext']?.[_0x1c5552],_0x2e8d32(0x657)==typeof _0x582427&&_0x582427['startsWith']('{')&&_0x582427[_0x2e8d32(0x9d2)]('}'))try{_0x582427=JSON[_0x2e8d32(0x39a)](_0x582427);}catch{}}_0x2e8d32(0x657)==typeof _0x582427&&_0x582427['startsWith']('[')&&_0x582427[_0x2e8d32(0x9d2)](']')&&(_0x582427=JSON['parse'](_0x582427)),_0x2b9a1a['append'](_0x4c7fbd[_0x2e8d32(0x662)],_0x582427);}let _0x18a7be,_0x28d3f0=_0x13a91b[_0x2e8d32(0x526)]??'';_0x2b9a1a['size']>0x0&&(_0x28d3f0+='?'+_0x2b9a1a[_0x2e8d32(0x50d)]());for(const _0x3e4cc3 of _0x13a91b[_0x2e8d32(0x974)]??[]){void 0x0===_0x18a7be&&(_0x18a7be={});let _0x1aeaf5=_0x3e4cc3[_0x2e8d32(0x687)];if(_0x2e8d32(0x657)==typeof _0x1aeaf5&&_0x1aeaf5['startsWith']('$')){const _0x1cdcc7=_0x1aeaf5['slice'](0x1);_0x1aeaf5=_0x261739[_0x1cdcc7];}if(_0x2e8d32(0x657)==typeof _0x1aeaf5&&_0x1aeaf5['startsWith']('@context.')){const _0x596dab=_0x1aeaf5[_0x2e8d32(0xabe)]('@context.','');if(_0x1aeaf5=_0xccd1c8?.['internalContext']?.[_0x596dab],_0x2e8d32(0x657)==typeof _0x1aeaf5&&_0x1aeaf5['startsWith']('{')&&_0x1aeaf5[_0x2e8d32(0x9d2)]('}'))try{_0x1aeaf5=JSON[_0x2e8d32(0x39a)](_0x1aeaf5);}catch{}}if('string'==typeof _0x1aeaf5&&_0x1aeaf5[_0x2e8d32(0xa2f)]('[')&&_0x1aeaf5['endsWith'](']')&&(_0x1aeaf5=JSON[_0x2e8d32(0x39a)](_0x1aeaf5)),'@root'===_0x3e4cc3[_0x2e8d32(0x662)]){const _0x18d534=_0x1aeaf5[_0x2e8d32(0xa56)](/```html(.*)```/s);_0x18d534&&(_0x1aeaf5=_0x18d534[0x1]),_0x1aeaf5=_0x1aeaf5['replace'](/\n/g,''),_0x1aeaf5=_0x1aeaf5[_0x2e8d32(0xabe)](/'/g,'\x22'),_0x18a7be=_0x1aeaf5;break;}if(-0x1===_0x3e4cc3['name'][_0x2e8d32(0x9b2)]('.'))_0x18a7be[_0x3e4cc3[_0x2e8d32(0x662)]]=_0x1aeaf5;else{const [_0x475207,_0x99c2d3]=_0x3e4cc3[_0x2e8d32(0x662)][_0x2e8d32(0x91d)]('.');_0x18a7be[_0x475207]||(_0x18a7be[_0x475207]={}),_0x18a7be[_0x475207][_0x99c2d3]=_0x1aeaf5;}}console[_0x2e8d32(0x66c)](_0x2e8d32(0x625)+_0x13a91b[_0x2e8d32(0x662)]+_0x2e8d32(0x472)+JSON[_0x2e8d32(0x31d)](_0x18a7be));const _0x32ffba=await fetch(_0x28d3f0,{'method':_0x13a91b[_0x2e8d32(0x1ad)],'headers':_0x5bf8c3,'body':void 0x0===_0x18a7be?void 0x0:_0x2e8d32(0x657)==typeof _0x18a7be?_0x18a7be:JSON[_0x2e8d32(0x31d)](_0x18a7be)});if(_0x32ffba['ok']){let _0x21b1a9=await _0x32ffba[_0x2e8d32(0x603)]();return _0x2e8d32(0x657)!=typeof _0x21b1a9&&(_0x21b1a9=JSON[_0x2e8d32(0x31d)](_0x21b1a9)),_0x3d66a8&&_0x59834f&&_0x5e59f9&&await _0x59d769[_0x2e8d32(0x70e)]({'jobType':_0x58c5b6[_0x2e8d32(0x320)],'type':_0x5f422b[_0x2e8d32(0xa97)],'jobId':_0x3d66a8,'agentId':_0x59834f,'threadId':_0x5e59f9,'blockId':_0x2e8d32(0x161),'traceLevel':_0x1bdf60[_0x2e8d32(0x944)],'startTime':_0x40a27c,'timestamp':Date[_0x2e8d32(0x3fe)](),'status':_0x2e8d32(0xae9),'skillName':_0x13a91b[_0x2e8d32(0x662)],'params':_0x261739,'result':_0x21b1a9}),_0xccd1c8&&_0x13a91b[_0x2e8d32(0x2dc)]&&''!==_0x13a91b[_0x2e8d32(0x2dc)]&&(_0xccd1c8[_0x2e8d32(0x111)]||(_0xccd1c8[_0x2e8d32(0x111)]={}),_0xccd1c8[_0x2e8d32(0x111)][_0x13a91b[_0x2e8d32(0x2dc)]]=_0x21b1a9),_0x21b1a9;}throw new Error(_0x32ffba[_0x2e8d32(0x123)]);}catch(_0x491134){console[_0x2e8d32(0x1be)](_0x491134);const _0xe97eff=_0x491134 instanceof Error?_0x491134[_0x2e8d32(0x948)]:'Error\x20fetching\x20URL';return _0x3d66a8&&_0x59834f&&_0x5e59f9&&await _0x59d769['trace']({'jobType':_0x58c5b6['Skill'],'type':_0x5f422b[_0x2e8d32(0xa97)],'jobId':_0x3d66a8,'blockId':_0x2e8d32(0x161),'threadId':_0x5e59f9,'traceLevel':_0x1bdf60[_0x2e8d32(0x944)],'startTime':_0x40a27c,'timestamp':Date[_0x2e8d32(0x3fe)](),'agentId':_0x59834f,'status':'error','skillName':_0x13a91b[_0x2e8d32(0x662)],'params':_0x261739??{},'result':_0xe97eff}),_0xe97eff;}}async function _0x39c007(_0x7291db,_0x457853,_0x3dc42a,_0x2670a2=!0x0){const _0x1a5f24=_0x3149ab,_0xf3ac25=_0x1a5f24(0x6c9),_0x74926d={'url':{'type':_0x3a4c7c[_0x1a5f24(0x428)][_0x1a5f24(0x345)]},'page':{'type':_0x3a4c7c[_0x1a5f24(0x428)][_0x1a5f24(0x590)]}};return await _0x59d769['trace']({'jobType':_0x58c5b6['JobContext'],'type':_0x22e6ca['LoadSkillFunction'],'jobId':_0x7291db,'agentId':_0x457853,'threadId':_0x3dc42a,'traceLevel':_0x1bdf60[_0x1a5f24(0x944)],'startTime':Date[_0x1a5f24(0x3fe)](),'timestamp':Date[_0x1a5f24(0x3fe)](),'status':'success','function':_0x5f422b[_0x1a5f24(0x991)],'params':_0x74926d,'functionDescription':_0xf3ac25}),{'description':_0xf3ac25,'params':_0x74926d,'callback':async _0x2627b3=>_0x5e8cec(_0x2627b3,_0x2670a2,_0x7291db,_0x457853,_0x3dc42a)};}async function _0x5e8cec(_0x316236,_0x5403fc=!0x0,_0x19b775,_0x3f4fd3,_0x59a0f8){const _0x517d9f=_0x3149ab,_0x58d4a4=Date['now']();try{if(_0x517d9f(0x657)!=typeof _0x316236?.['url'])throw new Error(_0x517d9f(0x220));const _0x4bd6bf=_0x316236[_0x517d9f(0x6c1)];if([_0x517d9f(0x80b),_0x517d9f(0x833),_0x517d9f(0x1ca),_0x517d9f(0x4d5),'.pptx',_0x517d9f(0x5c8),'.xlsx'][_0x517d9f(0x3da)](_0x52c3f9=>_0x4bd6bf[_0x517d9f(0x9d2)](_0x52c3f9)))throw new Error(_0x517d9f(0x375));const _0x513330=await fetch(_0x4bd6bf),_0x2b592b=await _0x513330['text']();let _0x58146b=_0x2b592b;if(_0x5403fc){const _0x4c5a8c=_0x2b592b[_0x517d9f(0xa56)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0xfd17b2=_0x4c5a8c?_0x4c5a8c[0x1]:_0x2b592b,_0x48a137=_0xfd17b2['replace'](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')['replace'](/<br\s*\/?>/gi,'\x20')[_0x517d9f(0xabe)](/&nbsp;/g,'\x20');_0x58146b=_0x48a137[_0x517d9f(0xabe)](/<\/?[^>]+(>|$)/g,'')[_0x517d9f(0xabe)](/\s\s+/g,'\x20')[_0x517d9f(0x9b3)]();}const _0x449621='number'==typeof _0x316236[_0x517d9f(0x50b)]?_0x316236[_0x517d9f(0x50b)]:0x1,_0x196357=Math[_0x517d9f(0xa15)](_0x58146b[_0x517d9f(0x878)]/_0x55cda3);return _0x58146b['length']>_0x55cda3&&(_0x58146b=_0x58146b[_0x517d9f(0x170)]((_0x449621-0x1)*_0x55cda3,(_0x449621-0x1)*_0x55cda3+_0x55cda3)+'More\x20content\x20available\x20on\x20page\x20'+(_0x449621+0x1)+'.Total\x20pages\x20available:\x20'+_0x196357+'.'),_0x19b775&&_0x3f4fd3&&_0x59a0f8&&await _0x59d769['trace']({'jobType':_0x58c5b6['Skill'],'type':_0x5f422b[_0x517d9f(0x991)],'jobId':_0x19b775,'agentId':_0x3f4fd3,'threadId':_0x59a0f8,'blockId':_0x517d9f(0x7fe),'traceLevel':_0x1bdf60['Info'],'startTime':_0x58d4a4,'timestamp':Date['now'](),'status':_0x513330['ok']?'success':_0x517d9f(0x1be),'url':_0x316236['url'],'page':_0x449621,'totalPages':_0x196357,'response':_0x58146b}),_0x58146b;}catch(_0x135d3f){console[_0x517d9f(0x1be)](_0x135d3f);const _0x3d0cbe=_0x135d3f instanceof Error?_0x135d3f['message']:_0x517d9f(0x5b0);return _0x19b775&&_0x3f4fd3&&_0x59a0f8&&await _0x59d769['trace']({'jobType':_0x58c5b6[_0x517d9f(0x320)],'type':_0x5f422b['FetchUrl'],'jobId':_0x19b775,'blockId':_0x517d9f(0x7fe),'threadId':_0x59a0f8,'traceLevel':_0x1bdf60[_0x517d9f(0x944)],'startTime':_0x58d4a4,'timestamp':Date[_0x517d9f(0x3fe)](),'agentId':_0x3f4fd3,'status':'error','errorDetails':_0xe328c1(_0x135d3f),'url':_0x316236?.['url']??'','page':0x0,'totalPages':0x0,'response':_0x3d0cbe}),_0x3d0cbe;}}async function _0x202c23(_0x5c9033,_0x181703,_0x44580e,_0x2177e9,_0x550a5f){const _0x405261=_0x3149ab,_0x5f00a9=Date['now']();try{if(!_0x5c9033[_0x405261(0x6ed)])throw new Error('Search\x20connector\x20not\x20set');if('string'!=typeof _0x181703?.[_0x405261(0x8db)])throw new Error('Query\x20is\x20required');const _0x4d2208=await _0x5c9033[_0x405261(0x6ed)][_0x405261(0x5e9)](_0x181703[_0x405261(0x8db)],_0x2bdaff[_0x405261(0x173)]['searchEngineId']);let _0x560d39='';for(const _0xb11e8e of _0x4d2208)_0x560d39+=_0xb11e8e[_0x405261(0x6d9)]+_0x405261(0x95d)+_0xb11e8e['url']+'\x0a'+_0xb11e8e[_0x405261(0x229)]+'\x0a\x0a';return _0x44580e&&_0x2177e9&&_0x550a5f&&await _0x59d769[_0x405261(0x70e)]({'jobType':_0x58c5b6['Skill'],'type':_0x5f422b[_0x405261(0x965)],'jobId':_0x44580e,'agentId':_0x2177e9,'threadId':_0x550a5f,'blockId':'search','traceLevel':_0x1bdf60[_0x405261(0x944)],'startTime':_0x5f00a9,'timestamp':Date['now'](),'status':_0x405261(0xae9),'query':_0x181703['query'],'results':_0x560d39}),_0x560d39;}catch(_0x267c2e){return console['error'](_0x267c2e),_0x44580e&&_0x2177e9&&_0x550a5f&&await _0x59d769[_0x405261(0x70e)]({'jobType':_0x58c5b6[_0x405261(0x320)],'type':_0x5f422b[_0x405261(0x965)],'jobId':_0x44580e,'blockId':_0x405261(0x5e9),'traceLevel':_0x1bdf60['Info'],'startTime':_0x5f00a9,'timestamp':Date[_0x405261(0x3fe)](),'status':'error','errorDetails':_0xe328c1(_0x267c2e),'agentId':_0x2177e9,'threadId':_0x550a5f,'query':_0x181703?.[_0x405261(0x8db)]??'','results':'Error\x20searching'}),_0x267c2e instanceof Error?_0x267c2e['message']:'Error\x20searching';}}async function _0x4cf920(_0x132685,_0x548ef7,_0x53f9eb,_0x434279,_0x91ad7e,_0x2836d5){const _0x5e72aa=_0x3149ab,_0x351e89=_0x5e72aa(0x90d)+_0x91ad7e['description']+'\x20to\x20generate\x20a\x20response.',_0x45d4ac={'prompt':{'type':_0x3a4c7c[_0x5e72aa(0x428)][_0x5e72aa(0x345)]}};return await _0x59d769[_0x5e72aa(0x70e)]({'jobType':_0x58c5b6[_0x5e72aa(0x423)],'type':_0x22e6ca['LoadSkillFunction'],'jobId':_0x132685,'agentId':_0x548ef7,'threadId':_0x53f9eb[_0x5e72aa(0xaaf)],'traceLevel':_0x1bdf60[_0x5e72aa(0x944)],'startTime':Date[_0x5e72aa(0x3fe)](),'timestamp':Date['now'](),'status':_0x5e72aa(0xae9),'function':_0x5f422b[_0x5e72aa(0x980)],'params':_0x45d4ac,'functionDescription':_0x351e89}),{'description':_0x351e89,'params':_0x45d4ac,'callback':async _0x380884=>_0x50691f(_0x53f9eb['vendorId'],_0x91ad7e,_0x380884,_0x434279,_0x132685,_0x548ef7,_0x53f9eb[_0x5e72aa(0xaaf)],_0x2836d5)};}async function _0x50691f(_0x3d20e1,_0x269de6,_0x53ce1a,_0x2bfa93,_0x1c933a,_0x23476e,_0x28e8a9,_0x4f99a4){const _0x3218be=_0x3149ab,_0x4cd1d1=Date[_0x3218be(0x3fe)]();try{if('string'!=typeof _0x53ce1a?.[_0x3218be(0xa0b)])throw new Error(_0x3218be(0x8a1));let _0x3c0ef3='';const _0x3a5896=_0x269de6[_0x3218be(0x328)]?.['split'](',')??[];let _0x31b12c=_0x53ce1a[_0x3218be(0xa0b)];for(const _0x521b68 of _0x3a5896){const _0x2c685e=_0x2bfa93?.[_0x3218be(0x111)]?.[_0x521b68];_0x2c685e&&(_0x31b12c='<'+_0x521b68+'>\x0a'+_0x2c685e+'\x0a</'+_0x521b68+_0x3218be(0x167)+_0x31b12c);}let _0x2df42d=[{'role':'user','content':_0x31b12c}];if(_0x4f99a4&&_0x269de6[_0x3218be(0x224)]){const _0x1f144b=await fetch(_0x2bdaff[_0x3218be(0x406)]+_0x3218be(0x27f)+_0x269de6[_0x3218be(0x85c)]+'/chat/completions',{'method':_0x3218be(0x4cc),'headers':{'Accept':_0x3218be(0x240),'Content-Type':_0x3218be(0x6a8),'x-vendor-id':_0x3d20e1},'body':JSON[_0x3218be(0x31d)]({'model':_0x269de6[_0x3218be(0x549)],'messages':_0x2df42d,'max_completion_tokens':_0x269de6[_0x3218be(0x686)],'temperature':_0x269de6['temperature'],'tools':_0x269de6[_0x3218be(0x2c4)],'structured_output':_0x269de6[_0x3218be(0x875)],'metadata':{'threadId':_0x28e8a9,'jobId':_0x1c933a,'agentId':_0x23476e,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x1f144b['ok']||!_0x1f144b[_0x3218be(0x7b3)])throw new Error(_0x3218be(0x42a));const _0xbd17c1=_0x1f144b[_0x3218be(0x7b3)][_0x3218be(0x386)](),_0x2e96bf=new TextDecoder();let _0x50c9fc=0x0,_0x2752cc=0x0,_0x17d411='';for(;;){const {value:_0x2f353f,done:_0x24063e}=await _0xbd17c1[_0x3218be(0x4ed)]();if(_0x24063e)break;const _0x39d864=_0x2e96bf[_0x3218be(0x4f6)](_0x2f353f,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x39d864)break;const _0xc89a45=_0x149786(_0x39d864);for(const _0x3d0f0c of _0xc89a45)_0x3d0f0c[_0x3218be(0x834)]&&_0x3d0f0c[_0x3218be(0x834)][0x0]&&(_0x17d411+=_0x3d0f0c[_0x3218be(0x834)][0x0][_0x3218be(0x6b3)][_0x3218be(0x130)],_0x50c9fc+=_0x3d0f0c[_0x3218be(0x3c3)]?.[_0x3218be(0x57f)]??0x0,_0x2752cc+=_0x3d0f0c[_0x3218be(0x3c3)]?.[_0x3218be(0x93c)]??0x0,_0x2bfa93&&(_0x2bfa93[_0x3218be(0x111)]={..._0x2bfa93['internalContext'],..._0x3d0f0c[_0x3218be(0x32b)]}),_0x4f99a4[_0x3218be(0x6ad)]({'output':_0x3d0f0c[_0x3218be(0x834)][0x0][_0x3218be(0x6b3)][_0x3218be(0x130)],'type':'prompt'}),await _0x39ab67[_0x3218be(0x1a0)](0x1));}_0x2bfa93&&(_0x2bfa93[_0x3218be(0x206)]=(_0x2bfa93[_0x3218be(0x206)]??0x0)+_0x2752cc,_0x2bfa93[_0x3218be(0x4f7)]=(_0x2bfa93['inputTokens']??0x0)+_0x50c9fc,_0x269de6[_0x3218be(0x2dc)]&&(_0x2bfa93[_0x3218be(0x111)]||(_0x2bfa93[_0x3218be(0x111)]={}),_0x2bfa93[_0x3218be(0x111)][_0x269de6[_0x3218be(0x2dc)]]=_0x17d411)),_0x4f99a4[_0x3218be(0x6ad)]({'output':'\x0a\x0a','type':_0x3218be(0xa0b)}),await _0x39ab67[_0x3218be(0x1a0)](0x1),_0x3c0ef3=_0x3218be(0x4e6);}else{const _0x464fbe=fetch(_0x2bdaff[_0x3218be(0x406)]+_0x3218be(0x27f)+_0x269de6[_0x3218be(0x85c)]+_0x3218be(0x80a),{'method':_0x3218be(0x4cc),'headers':{'Content-Type':_0x3218be(0x6a8),'x-vendor-id':_0x3d20e1},'body':JSON[_0x3218be(0x31d)]({'model':_0x269de6['modelId'],'messages':_0x2df42d,'max_completion_tokens':_0x269de6['maxTokens'],'temperature':_0x269de6[_0x3218be(0x9d3)],'tools':_0x269de6[_0x3218be(0x2c4)],'structured_output':_0x269de6[_0x3218be(0x875)],'metadata':{'threadId':_0x28e8a9,'jobId':_0x1c933a,'agentId':_0x23476e,'context':{}}})});if(_0x269de6['async'])return _0x3218be(0x4e6);const _0x5e7ec5=await _0x464fbe,_0x456d81=await _0x5e7ec5['json']();_0x3c0ef3=_0x456d81[_0x3218be(0x834)][0x0]['message'][_0x3218be(0x130)],_0x2bfa93&&(_0x2bfa93[_0x3218be(0x111)]={..._0x2bfa93[_0x3218be(0x111)],..._0x456d81[_0x3218be(0x32b)]},_0x2bfa93[_0x3218be(0x206)]=(_0x2bfa93[_0x3218be(0x206)]??0x0)+_0x456d81[_0x3218be(0x3c3)][_0x3218be(0x6b6)],_0x2bfa93[_0x3218be(0x4f7)]=(_0x2bfa93[_0x3218be(0x4f7)]??0x0)+_0x456d81['usage'][_0x3218be(0xa9a)],_0x269de6['contextOutputVariable']&&(_0x2bfa93['internalContext']||(_0x2bfa93[_0x3218be(0x111)]={}),_0x2bfa93['internalContext'][_0x269de6[_0x3218be(0x2dc)]]=_0x3c0ef3));}if(_0x3218be(0x657)!=typeof _0x3c0ef3)throw new Error(_0x3218be(0x3db));return _0x1c933a&&_0x23476e&&_0x28e8a9&&await _0x59d769['trace']({'jobType':_0x58c5b6['Skill'],'type':_0x5f422b[_0x3218be(0x980)],'jobId':_0x1c933a,'blockId':'workflow','agentId':_0x23476e,'threadId':_0x28e8a9,'traceLevel':_0x1bdf60['Info'],'startTime':_0x4cd1d1,'timestamp':Date[_0x3218be(0x3fe)](),'status':_0x3218be(0xae9),'workflowName':_0x269de6[_0x3218be(0x662)],'prompt':_0x53ce1a[_0x3218be(0xa0b)],'result':_0x3c0ef3,'inputTokens':0x0,'outputTokens':0x0}),_0x3c0ef3;}catch(_0xa7c43e){if(console['error'](_0xa7c43e),_0x1c933a&&_0x23476e&&_0x28e8a9&&await _0x59d769['trace']({'jobType':_0x58c5b6[_0x3218be(0x320)],'type':_0x5f422b[_0x3218be(0x980)],'jobId':_0x1c933a,'blockId':_0x3218be(0x296),'agentId':_0x23476e,'threadId':_0x28e8a9,'traceLevel':_0x1bdf60[_0x3218be(0x944)],'startTime':_0x4cd1d1,'timestamp':Date[_0x3218be(0x3fe)](),'status':_0x3218be(0x1be),'errorDetails':_0xe328c1(_0xa7c43e),'workflowName':_0x269de6[_0x3218be(0x662)],'prompt':_0x53ce1a?.[_0x3218be(0xa0b)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0xa7c43e instanceof Error)throw _0xa7c43e;throw new Error(_0x3218be(0x800));}}async function _0x4be02a(_0x2ae725,_0x56bc33,_0x12a99d,_0x20dc4b,_0x568852){const _0x50a098=_0x3149ab;return await _0x59d769[_0x50a098(0x70e)]({'jobType':_0x58c5b6[_0x50a098(0x423)],'type':_0x22e6ca[_0x50a098(0x444)],'jobId':_0x2ae725,'agentId':_0x56bc33,'threadId':_0x12a99d,'traceLevel':_0x1bdf60[_0x50a098(0x944)],'startTime':Date[_0x50a098(0x3fe)](),'timestamp':Date[_0x50a098(0x3fe)](),'status':_0x50a098(0xae9),'function':_0x5f422b[_0x50a098(0x66f)],'params':{},'functionDescription':_0x50a098(0x6d8)}),{'description':_0x50a098(0x6d8),'params':{},'callback':async()=>_0x46a137(_0x568852,_0x20dc4b,_0x2ae725,_0x56bc33,_0x12a99d)};}async function _0x46a137(_0x1659df,_0x566177,_0xc91d30,_0x5451cb,_0x5b8047){const _0x34b882=_0x3149ab,_0x18e5f1=Date[_0x34b882(0x3fe)]();let _0x11a832=_0x1659df[_0x34b882(0x662)][_0x34b882(0xabe)](/[^a-zA-Z]/g,'');_0x11a832[_0x34b882(0xa2f)](_0x34b882(0x67f))&&(_0x11a832=_0x11a832[_0x34b882(0xabe)](_0x34b882(0x67f),''));const _0x3be6f2=_0x34b882(0x8c1)+_0x11a832;let _0x57cd3b=0x0;_0x566177&&(_0x57cd3b=parseInt(_0x566177[_0x34b882(0x111)]?.[_0x3be6f2]??'0'));const _0x2023df=_0x1659df[_0x34b882(0xa18)]||[];if(_0x57cd3b>=_0x2023df[_0x34b882(0x878)])return JSON[_0x34b882(0x31d)]({'error':_0x34b882(0x484)});const _0x1c0a5d=_0x2023df[_0x57cd3b];return _0xc91d30&&_0x5451cb&&_0x5b8047&&await _0x59d769['trace']({'jobType':_0x58c5b6['Skill'],'type':_0x5f422b[_0x34b882(0x66f)],'jobId':_0xc91d30,'agentId':_0x5451cb,'threadId':_0x5b8047,'blockId':'form-skill-get-question','traceLevel':_0x1bdf60[_0x34b882(0x944)],'startTime':_0x18e5f1,'timestamp':Date[_0x34b882(0x3fe)](),'status':_0x34b882(0xae9),'question':_0x1c0a5d[_0x34b882(0xa40)],'currentQuestionIndex':_0x57cd3b,'questions':_0x2023df[_0x34b882(0x323)](_0x12a835=>_0x12a835[_0x34b882(0xa40)])}),JSON[_0x34b882(0x31d)]({'id':_0x1c0a5d['id'],'question':_0x1c0a5d[_0x34b882(0xa40)],'validation':_0x1c0a5d[_0x34b882(0xab8)],'required':_0x1c0a5d[_0x34b882(0x6ff)],'format':_0x1c0a5d['format'],'action':_0x34b882(0x6af)});}async function _0x35eab4(_0x514f74,_0x5aedd4,_0x4b8d8c,_0x4e143d,_0x2df655){const _0x143ddc=_0x3149ab;return await _0x59d769['trace']({'jobType':_0x58c5b6[_0x143ddc(0x423)],'type':_0x22e6ca[_0x143ddc(0x444)],'jobId':_0x514f74,'agentId':_0x5aedd4,'threadId':_0x4b8d8c,'traceLevel':_0x1bdf60[_0x143ddc(0x944)],'startTime':Date[_0x143ddc(0x3fe)](),'timestamp':Date[_0x143ddc(0x3fe)](),'status':'success','function':_0x5f422b['FormSetAnswer'],'params':{},'functionDescription':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.'}),{'description':_0x143ddc(0x76e),'params':{'id':{'type':_0x3a4c7c['PromptFunctionParamsType'][_0x143ddc(0x345)]},'answer':{'type':_0x3a4c7c[_0x143ddc(0x428)][_0x143ddc(0x345)]}},'callback':async _0x2cb52c=>_0x14c043(_0x2df655,_0x2cb52c,_0x4e143d,_0x514f74,_0x5aedd4,_0x4b8d8c)};}async function _0x14c043(_0x1be054,_0x5c26d7,_0x45d59a,_0x2159e0,_0x2e06fd,_0x1a2668){const _0x2a6be0=_0x3149ab,_0x14cdfe=Date[_0x2a6be0(0x3fe)]();let _0x28fd99=_0x1be054[_0x2a6be0(0x662)][_0x2a6be0(0xabe)](/[^a-zA-Z]/g,'');_0x28fd99[_0x2a6be0(0xa2f)](_0x2a6be0(0x3e1))&&(_0x28fd99=_0x28fd99[_0x2a6be0(0xabe)](_0x2a6be0(0x3e1),''));const _0x195508=_0x2a6be0(0x8c1)+_0x28fd99,_0x29b605=_0x1be054['questions']||[];let _0x133c66=0x0;if(_0x45d59a&&(_0x133c66=parseInt(_0x45d59a['internalContext']?.[_0x195508]??'0')),!_0x5c26d7?.['id']||'string'!=typeof _0x5c26d7['id'])return JSON['stringify']({'error':_0x2a6be0(0xa0e)});const _0x289ab2=_0x29b605[_0x2a6be0(0x8e4)](_0x4f767b=>_0x4f767b['id']===_0x5c26d7['id']);if(!_0x289ab2)return JSON[_0x2a6be0(0x31d)]({'error':_0x2a6be0(0x9ca)});if(!_0x5c26d7?.[_0x2a6be0(0x943)]||'string'!=typeof _0x5c26d7[_0x2a6be0(0x943)])return JSON['stringify']({'error':_0x2a6be0(0x3d0)});if(_0x45d59a){_0x45d59a['internalContext']||(_0x45d59a[_0x2a6be0(0x111)]={});const _0x2647fc='answer-'+_0x28fd99,_0xcd517d=_0x2647fc+'-'+_0x5c26d7['id'];_0x45d59a[_0x2a6be0(0x111)][_0xcd517d]=_0x5c26d7[_0x2a6be0(0x943)];let _0x23ac38=!0x1;for(let _0x518aaa=0x0;_0x518aaa<_0x29b605['length'];_0x518aaa++){const _0xba6284=_0x45d59a[_0x2a6be0(0x111)]?.[_0x2647fc+'-'+_0x29b605[_0x518aaa]['id']];if(_0x518aaa!==_0x133c66&&!_0xba6284){_0x133c66=_0x518aaa,_0x23ac38=!0x0;break;}}_0x23ac38||_0x133c66++,_0x45d59a[_0x2a6be0(0x111)][_0x195508]=_0x133c66[_0x2a6be0(0x50d)]();}return _0x2159e0&&_0x2e06fd&&_0x1a2668&&await _0x59d769[_0x2a6be0(0x70e)]({'jobType':_0x58c5b6[_0x2a6be0(0x320)],'type':_0x5f422b[_0x2a6be0(0xae1)],'jobId':_0x2159e0,'agentId':_0x2e06fd,'threadId':_0x1a2668,'blockId':_0x2a6be0(0x5d1),'traceLevel':_0x1bdf60[_0x2a6be0(0x944)],'startTime':_0x14cdfe,'timestamp':Date['now'](),'status':_0x2a6be0(0xae9),'question':_0x289ab2[_0x2a6be0(0xa40)],'answer':_0x5c26d7[_0x2a6be0(0x943)],'currentQuestionIndex':_0x133c66,'questions':_0x29b605['map'](_0x2b4fd5=>_0x2b4fd5[_0x2a6be0(0xa40)])}),JSON[_0x2a6be0(0x31d)]({'success':_0x2a6be0(0xac9)});}async function _0x31a6b2(_0x44fc74,_0x143e0e,_0x30072a,_0x50e68c,_0x4b2143){const _0x5ab906=_0x3149ab,_0x1affbd='Submit\x20the\x20form.';return await _0x59d769[_0x5ab906(0x70e)]({'jobType':_0x58c5b6[_0x5ab906(0x423)],'type':_0x22e6ca[_0x5ab906(0x444)],'jobId':_0x44fc74,'agentId':_0x143e0e,'threadId':_0x30072a,'traceLevel':_0x1bdf60[_0x5ab906(0x944)],'startTime':Date[_0x5ab906(0x3fe)](),'timestamp':Date[_0x5ab906(0x3fe)](),'status':_0x5ab906(0xae9),'function':_0x5f422b[_0x5ab906(0x784)],'params':{},'functionDescription':_0x1affbd}),{'description':_0x1affbd,'params':{},'callback':async()=>_0x5873bb(_0x4b2143,_0x50e68c,_0x44fc74,_0x143e0e,_0x30072a)};}async function _0x5873bb(_0xc8c17c,_0x26eb82,_0x2cb9e9,_0x533377,_0x272730){const _0x1aa6f3=_0x3149ab;let _0x1976e1=_0xc8c17c[_0x1aa6f3(0x662)][_0x1aa6f3(0xabe)](/[^a-zA-Z]/g,'');_0x1976e1[_0x1aa6f3(0xa2f)](_0x1aa6f3(0x27c))&&(_0x1976e1=_0x1976e1[_0x1aa6f3(0xabe)](_0x1aa6f3(0x27c),''));const _0x51569a=_0xc8c17c[_0x1aa6f3(0xa18)]||[],_0x5c1985={};if(!_0x26eb82)return JSON[_0x1aa6f3(0x31d)]({'error':_0x1aa6f3(0x983)});for(let _0x36de28=0x0;_0x36de28<_0x51569a['length'];_0x36de28++){const _0x1c5ec2=_0x26eb82[_0x1aa6f3(0x111)]?.['answer-'+_0x1976e1+'-'+_0x51569a[_0x36de28]['id']];if(_0x51569a[_0x36de28]['required']&&!_0x1c5ec2)return JSON[_0x1aa6f3(0x31d)]({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});_0x5c1985[_0x51569a[_0x36de28]['id']]=_0x1c5ec2;}return _0x26eb82&&_0xc8c17c['contextOutputVariable']&&(_0x26eb82[_0x1aa6f3(0x111)]||(_0x26eb82[_0x1aa6f3(0x111)]={}),_0x26eb82[_0x1aa6f3(0x111)][_0xc8c17c[_0x1aa6f3(0x2dc)]]=JSON[_0x1aa6f3(0x31d)](_0x5c1985)),_0x2cb9e9&&_0x533377&&_0x272730&&await _0x59d769[_0x1aa6f3(0x70e)]({'jobType':_0x58c5b6[_0x1aa6f3(0x320)],'type':_0x5f422b[_0x1aa6f3(0x784)],'jobId':_0x2cb9e9,'agentId':_0x533377,'threadId':_0x272730,'blockId':_0x1aa6f3(0x98a),'traceLevel':_0x1bdf60[_0x1aa6f3(0x944)],'startTime':Date[_0x1aa6f3(0x3fe)](),'timestamp':Date[_0x1aa6f3(0x3fe)](),'status':_0x1aa6f3(0xae9),'answers':_0x5c1985}),JSON[_0x1aa6f3(0x31d)]({'success':!0x0});}async function _0x5d47e0(_0x4c9591,_0x2cbdbb,_0x1d8842,_0x5b1f23,_0x4b1536,_0x17621c,_0x1a74c1){const _0x1ad1b4=_0x3149ab,_0x5c4bd6=new Map();for(const _0x5cc168 of _0x4b1536)_0x5cc168[_0x1ad1b4(0x16c)]===_0x3a4c7c[_0x1ad1b4(0x6a2)][_0x1ad1b4(0x1ee)]||_0x5cc168['type']===_0x3a4c7c['GenerativeAIInferenceToolType'][_0x1ad1b4(0x582)]?_0x5c4bd6[_0x1ad1b4(0x491)](_0x1ad1b4(0x95c)+_0x5cc168[_0x1ad1b4(0x662)][_0x1ad1b4(0xabe)](/[^a-zA-Z]/g,''),await _0x320879(_0x4c9591,_0x2cbdbb,_0x1d8842,_0x5b1f23,_0x5cc168)):_0x5cc168[_0x1ad1b4(0x16c)]===_0x3a4c7c[_0x1ad1b4(0x6a2)][_0x1ad1b4(0x7b2)]||_0x5cc168['type']===_0x3a4c7c['GenerativeAIInferenceToolType']['Agent']?_0x5c4bd6[_0x1ad1b4(0x491)]('executeAgent'+_0x5cc168[_0x1ad1b4(0x662)][_0x1ad1b4(0xabe)](/[^a-zA-Z]/g,''),await _0x4c5450(_0x4c9591,_0x2cbdbb,_0x1d8842,_0x5b1f23,_0x5cc168,_0x17621c,_0x1a74c1)):_0x5cc168[_0x1ad1b4(0x16c)]===_0x3a4c7c[_0x1ad1b4(0x6a2)]['WorkflowTool']?_0x5c4bd6['set'](_0x1ad1b4(0x3fc)+_0x5cc168[_0x1ad1b4(0x662)][_0x1ad1b4(0xabe)](/[^a-zA-Z]/g,''),await _0x4cf920(_0x4c9591,_0x2cbdbb,_0x1d8842,_0x5b1f23,_0x5cc168,_0x1a74c1)):_0x5cc168[_0x1ad1b4(0x16c)]===_0x3a4c7c['GenerativeAIInferenceToolType'][_0x1ad1b4(0x350)]?_0x5c4bd6[_0x1ad1b4(0x491)](_0x5cc168[_0x1ad1b4(0x662)][_0x1ad1b4(0xabe)](/[^a-zA-Z]/g,''),await _0x17d2b1(_0x4c9591,_0x2cbdbb,_0x1d8842['threadId'],_0x5b1f23,_0x5cc168)):_0x5cc168[_0x1ad1b4(0x16c)]===_0x3a4c7c[_0x1ad1b4(0x6a2)]['FormSkillGetQuestion']?_0x5c4bd6[_0x1ad1b4(0x491)](_0x1ad1b4(0x67f)+_0x5cc168[_0x1ad1b4(0x662)][_0x1ad1b4(0xabe)](/[^a-zA-Z]/g,''),await _0x4be02a(_0x4c9591,_0x2cbdbb,_0x1d8842[_0x1ad1b4(0xaaf)],_0x5b1f23,_0x5cc168)):_0x5cc168[_0x1ad1b4(0x16c)]===_0x3a4c7c[_0x1ad1b4(0x6a2)][_0x1ad1b4(0x631)]?_0x5c4bd6[_0x1ad1b4(0x491)](_0x1ad1b4(0x3e1)+_0x5cc168[_0x1ad1b4(0x662)][_0x1ad1b4(0xabe)](/[^a-zA-Z]/g,''),await _0x35eab4(_0x4c9591,_0x2cbdbb,_0x1d8842[_0x1ad1b4(0xaaf)],_0x5b1f23,_0x5cc168)):_0x5cc168[_0x1ad1b4(0x16c)]===_0x3a4c7c[_0x1ad1b4(0x6a2)]['FormSkillSubmitForm']?_0x5c4bd6[_0x1ad1b4(0x491)](_0x1ad1b4(0x27c)+_0x5cc168[_0x1ad1b4(0x662)][_0x1ad1b4(0xabe)](/[^a-zA-Z]/g,''),await _0x31a6b2(_0x4c9591,_0x2cbdbb,_0x1d8842[_0x1ad1b4(0xaaf)],_0x5b1f23,_0x5cc168)):_0x5c4bd6[_0x1ad1b4(0x491)](_0x350d51(_0x5cc168),await _0x3def80(_0x4c9591,_0x2cbdbb,_0x1d8842['threadId'],_0x5b1f23,_0x5cc168,_0x17621c));return _0x5c4bd6;}function _0x350d51(_0x23444d){const _0x194974=_0x3149ab;switch(_0x23444d[_0x194974(0x16c)]){case _0x3a4c7c['GenerativeAIInferenceToolType']['AISearch']:return _0x194974(0x276);case _0x3a4c7c[_0x194974(0x6a2)]['Code']:return'executeJavascriptCodeSnippet';case _0x3a4c7c[_0x194974(0x6a2)][_0x194974(0x275)]:return'queryFile';case _0x3a4c7c[_0x194974(0x6a2)][_0x194974(0x4d4)]:return _0x194974(0x196);case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x194974(0x9d7)]:case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x194974(0x426)]:return _0x194974(0x887);case _0x3a4c7c[_0x194974(0x6a2)][_0x194974(0x602)]:return _0x194974(0xa30);}throw new Error(_0x194974(0x656));}async function _0x3def80(_0x1dfed6,_0x11e481,_0x301775,_0x588f20,_0x2cd331,_0x46a0cd){const _0x132edd=_0x3149ab;switch(_0x2cd331[_0x132edd(0x16c)]){case _0x3a4c7c['GenerativeAIInferenceToolType']['AISearch']:return async function(_0x1ee764,_0x5bc235,_0x2e5974,_0x4a2d15,_0x15ad65){const _0x251f47=_0x132edd,_0x141740=_0x251f47(0x28f),_0x5dd915={'query':{'type':_0x3a4c7c['PromptFunctionParamsType']['String']}};return await _0x59d769[_0x251f47(0x70e)]({'jobType':_0x58c5b6['JobContext'],'type':_0x22e6ca[_0x251f47(0x444)],'jobId':_0x1ee764,'agentId':_0x5bc235,'threadId':_0x2e5974,'traceLevel':_0x1bdf60['Info'],'startTime':Date[_0x251f47(0x3fe)](),'timestamp':Date['now'](),'status':_0x251f47(0xae9),'function':_0x5f422b[_0x251f47(0x525)],'params':_0x5dd915,'functionDescription':_0x141740}),{'description':_0x141740,'params':_0x5dd915,'callback':async _0xd7428d=>_0x2b3e10(_0x4a2d15,_0x15ad65,_0xd7428d,_0x1ee764,_0x5bc235,_0x2e5974)};}(_0x1dfed6,_0x11e481,_0x301775,_0x2cd331,_0x46a0cd);case _0x3a4c7c[_0x132edd(0x6a2)]['Code']:return async function(_0x351bdb,_0x2d6326,_0x185e2e){const _0x55324a=_0x132edd,_0x5c393d=_0x55324a(0x9d5),_0x189451={'code':{'type':_0x3a4c7c['PromptFunctionParamsType']['String']}};return await _0x59d769[_0x55324a(0x70e)]({'jobType':_0x58c5b6[_0x55324a(0x423)],'type':_0x22e6ca[_0x55324a(0x444)],'jobId':_0x351bdb,'agentId':_0x2d6326,'threadId':_0x185e2e,'traceLevel':_0x1bdf60[_0x55324a(0x944)],'startTime':Date['now'](),'timestamp':Date[_0x55324a(0x3fe)](),'status':_0x55324a(0xae9),'function':_0x5f422b['ExecuteCode'],'params':_0x189451,'functionDescription':_0x5c393d}),{'description':_0x5c393d,'params':_0x189451,'callback':async _0x3a8fcb=>_0x2090fb(_0x3a8fcb,_0x351bdb,_0x2d6326,_0x185e2e)};}(_0x1dfed6,_0x11e481,_0x301775);case _0x3a4c7c[_0x132edd(0x6a2)][_0x132edd(0x275)]:return async function(_0x2f8e4a,_0x2719cc,_0x5a9975,_0x4aa953,_0x531f56){const _0x210989=_0x132edd,_0x5e308a=[',',';','\x09','|',':'],_0x437437=['\x22','\x27'];let _0x25ecbf='';if(_0x210989(0x748)===_0x4aa953[_0x210989(0x111)]?.['file.type']&&_0x4aa953['internalContext']?.[_0x210989(0x672)]&&(_0x25ecbf=_0x4aa953[_0x210989(0x111)]['file.content']),''===_0x25ecbf)throw new Error(_0x210989(0x530));const _0x1ddcf7=_0x25ecbf[_0x210989(0x91d)]('\x0a')[0x0];let _0x23ee03=null,_0xcff1ad=null,_0x504fe4=0x0;for(const _0x58131b of _0x5e308a){const _0x31555b=(_0x1ddcf7[_0x210989(0xa56)](new RegExp('\x5c'+_0x58131b,'g'))||[])['length'];_0x31555b>_0x504fe4&&(_0x504fe4=_0x31555b,_0x23ee03=_0x58131b);}_0x23ee03||(_0x23ee03=','),_0x504fe4=0x0;for(const _0x344c7e of _0x437437){const _0x52b579=(_0x1ddcf7[_0x210989(0xa56)](new RegExp('\x5c'+_0x344c7e,'g'))||[])[_0x210989(0x878)];_0x52b579>_0x504fe4&&(_0x504fe4=_0x52b579,_0xcff1ad=_0x344c7e);}_0xcff1ad||(_0xcff1ad='\x22');const _0x18a1bf=_0x210989(0x57c)+_0x1ddcf7[_0x210989(0x91d)](_0x23ee03)[_0x210989(0x16a)](',\x20'),_0x4dc5ae={'query':{'type':_0x3a4c7c[_0x210989(0x428)][_0x210989(0x345)]}};return await _0x59d769[_0x210989(0x70e)]({'jobType':_0x58c5b6['JobContext'],'type':_0x22e6ca[_0x210989(0x444)],'jobId':_0x2f8e4a,'agentId':_0x2719cc,'threadId':_0x5a9975,'traceLevel':_0x1bdf60[_0x210989(0x944)],'startTime':Date['now'](),'timestamp':Date[_0x210989(0x3fe)](),'status':'success','function':_0x5f422b['QueryFile'],'params':_0x4dc5ae,'functionDescription':_0x18a1bf}),{'description':_0x18a1bf,'params':_0x4dc5ae,'callback':async _0x509591=>{const _0x2fe884=_0x210989,_0x505a42=Date[_0x2fe884(0x3fe)]();try{if(!_0x531f56[_0x2fe884(0x7bc)])throw new Error(_0x2fe884(0x68b));if(_0x2fe884(0x657)!=typeof _0x509591?.[_0x2fe884(0x8db)])throw new Error(_0x2fe884(0x23c));if(!_0x509591['query'][_0x2fe884(0x24c)](_0x2fe884(0x5a5)))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0x5acd17=await _0x531f56[_0x2fe884(0x7bc)][_0x2fe884(0x321)](_0x25ecbf,_0x509591[_0x2fe884(0x8db)],{'headers':!0x0,'quote':_0xcff1ad,'separator':_0x23ee03});await _0x59d769['trace']({'jobType':_0x58c5b6[_0x2fe884(0x320)],'type':_0x5f422b[_0x2fe884(0x275)],'jobId':_0x2f8e4a,'agentId':_0x2719cc,'threadId':_0x5a9975,'blockId':_0x2fe884(0x92d),'traceLevel':_0x1bdf60[_0x2fe884(0x944)],'startTime':_0x505a42,'timestamp':Date[_0x2fe884(0x3fe)](),'status':_0x2fe884(0xae9),'query':_0x509591['query'],'results':_0x5acd17[_0x2fe884(0x170)](0x0,0x3e8)});const _0x167c9b=JSON[_0x2fe884(0x39a)](_0x5acd17);let _0x119fab='';if(_0x167c9b[_0x2fe884(0x878)]>0x0){const _0x43b50c=Object[_0x2fe884(0x6d7)](_0x167c9b[0x0]);_0x119fab=_0x43b50c[_0x2fe884(0x323)](_0x3ee6fe=>'\x22'+_0x3ee6fe+'\x22')[_0x2fe884(0x16a)](',')+'\x0a';for(const _0x296c48 of _0x167c9b)_0x119fab+=_0x43b50c[_0x2fe884(0x323)](_0x3608b4=>'\x22'+_0x296c48[_0x3608b4]+'\x22')['join'](',')+'\x0a';}return _0x4aa953['internalContext']||(_0x4aa953[_0x2fe884(0x111)]={}),_0x4aa953[_0x2fe884(0x111)][_0x2fe884(0x672)]=_0x119fab,_0x4aa953[_0x2fe884(0x111)]['file.type']=_0x2fe884(0x748),_0x5acd17[_0x2fe884(0x170)](0x0,0x3e8);}catch(_0x4e2483){return console[_0x2fe884(0x1be)](_0x4e2483),await _0x59d769[_0x2fe884(0x70e)]({'jobType':_0x58c5b6[_0x2fe884(0x320)],'type':_0x5f422b[_0x2fe884(0x275)],'jobId':_0x2f8e4a,'blockId':_0x2fe884(0x92d),'traceLevel':_0x1bdf60[_0x2fe884(0x944)],'startTime':_0x505a42,'timestamp':Date[_0x2fe884(0x3fe)](),'status':_0x2fe884(0x1be),'errorDetails':_0xe328c1(_0x4e2483),'agentId':_0x2719cc,'threadId':_0x5a9975,'query':_0x509591?.['query']??'','results':_0x2fe884(0x436)}),_0x4e2483 instanceof Error?_0x4e2483['message']:_0x2fe884(0xab5);}}};}(_0x1dfed6,_0x11e481,_0x301775,_0x588f20,_0x46a0cd);case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x132edd(0x4d4)]:return async function(_0x4ea479,_0x1ebc45,_0x59e142,_0x5adc16){const _0x12b0ac=_0x132edd,_0x53449d='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x6c45cc={'query':{'type':_0x3a4c7c['PromptFunctionParamsType'][_0x12b0ac(0x345)]}};return await _0x59d769[_0x12b0ac(0x70e)]({'jobType':_0x58c5b6['JobContext'],'type':_0x22e6ca['LoadSkillFunction'],'jobId':_0x4ea479,'agentId':_0x1ebc45,'threadId':_0x59e142,'traceLevel':_0x1bdf60[_0x12b0ac(0x944)],'startTime':Date['now'](),'timestamp':Date[_0x12b0ac(0x3fe)](),'status':_0x12b0ac(0xae9),'function':_0x5f422b[_0x12b0ac(0x965)],'params':_0x6c45cc,'functionDescription':_0x53449d}),{'description':_0x53449d,'params':_0x6c45cc,'callback':async _0x4569e8=>_0x202c23(_0x5adc16,_0x4569e8,_0x4ea479,_0x1ebc45,_0x59e142)};}(_0x1dfed6,_0x11e481,_0x301775,_0x46a0cd);case _0x3a4c7c[_0x132edd(0x6a2)]['WebScraper']:return _0x39c007(_0x1dfed6,_0x11e481,_0x301775);case _0x3a4c7c[_0x132edd(0x6a2)][_0x132edd(0x426)]:return _0x39c007(_0x1dfed6,_0x11e481,_0x301775,!0x1);case _0x3a4c7c[_0x132edd(0x6a2)]['WriteFile']:return async function(_0x4e59e3,_0x375f38,_0x2ec7ad,_0x44eda3){const _0x24bfd5=_0x132edd,_0xe9fc78='Write\x20text\x20data\x20to\x20a\x20file.',_0x15bc7b={'text':{'type':_0x3a4c7c[_0x24bfd5(0x428)][_0x24bfd5(0x345)]}};return await _0x59d769[_0x24bfd5(0x70e)]({'jobType':_0x58c5b6[_0x24bfd5(0x423)],'type':_0x22e6ca[_0x24bfd5(0x444)],'jobId':_0x4e59e3,'agentId':_0x375f38,'threadId':_0x2ec7ad,'traceLevel':_0x1bdf60['Info'],'startTime':Date[_0x24bfd5(0x3fe)](),'timestamp':Date[_0x24bfd5(0x3fe)](),'status':_0x24bfd5(0xae9),'function':_0x5f422b['WriteFile'],'params':_0x15bc7b,'functionDescription':_0xe9fc78}),{'description':_0xe9fc78,'params':_0x15bc7b,'callback':async _0x4be0e5=>{const _0x49ec23=_0x24bfd5,_0x3709f1=Date[_0x49ec23(0x3fe)]();try{if(_0x49ec23(0x657)!=typeof _0x4be0e5?.[_0x49ec23(0xa7a)])throw new Error(_0x49ec23(0x4f2));return await _0x59d769['trace']({'jobType':_0x58c5b6[_0x49ec23(0x320)],'type':_0x5f422b[_0x49ec23(0x602)],'jobId':_0x4e59e3,'agentId':_0x375f38,'threadId':_0x2ec7ad,'blockId':_0x49ec23(0x613),'traceLevel':_0x1bdf60[_0x49ec23(0x944)],'startTime':_0x3709f1,'timestamp':Date[_0x49ec23(0x3fe)](),'status':_0x49ec23(0xae9),'content':_0x4be0e5[_0x49ec23(0xa7a)]}),_0x44eda3[_0x49ec23(0x111)]||(_0x44eda3[_0x49ec23(0x111)]={}),_0x44eda3[_0x49ec23(0x111)][_0x49ec23(0x672)]=_0x4be0e5[_0x49ec23(0xa7a)],_0x44eda3[_0x49ec23(0x111)][_0x49ec23(0xa05)]=_0x49ec23(0x89b),_0x49ec23(0x7da);}catch(_0x4372e6){return console[_0x49ec23(0x1be)](_0x4372e6),await _0x59d769[_0x49ec23(0x70e)]({'jobType':_0x58c5b6[_0x49ec23(0x320)],'type':_0x5f422b[_0x49ec23(0x602)],'jobId':_0x4e59e3,'blockId':_0x49ec23(0x613),'traceLevel':_0x1bdf60[_0x49ec23(0x944)],'startTime':_0x3709f1,'timestamp':Date[_0x49ec23(0x3fe)](),'status':_0x49ec23(0x1be),'errorDetails':_0xe328c1(_0x4372e6),'agentId':_0x375f38,'threadId':_0x2ec7ad,'content':_0x49ec23(0x657)==typeof _0x4be0e5?.[_0x49ec23(0xa7a)]?_0x4be0e5[_0x49ec23(0xa7a)]:''}),_0x4372e6 instanceof Error?_0x4372e6[_0x49ec23(0x948)]:'Error\x20writing\x20file';}}};}(_0x1dfed6,_0x11e481,_0x301775,_0x588f20);}throw new Error(_0x132edd(0x656));}function _0xe328c1(_0x495ea8){const _0x30477f=_0x3149ab;try{return JSON[_0x30477f(0x31d)](_0x495ea8);}catch(_0x2ee0a4){return _0x495ea8 instanceof Error?_0x495ea8[_0x30477f(0x50d)]():_0x30477f(0x59b);}}async function _0x2d38fb(_0x304a88,_0x453e42,_0x95a82d,_0x5d7018,_0x4e3ff9,_0x4a9eb6){const _0x391e81=_0x3149ab,_0x34618f=Date[_0x391e81(0x3fe)]();if(!_0x4a9eb6[_0x391e81(0x1a3)][_0x391e81(0x8e4)](_0x250f0c=>_0x250f0c['id']===_0x5d7018[_0x391e81(0x549)]))throw new Error(_0x391e81(0x85a));const _0x23c279=(0x0,_0x19ce97['v4'])(),_0x4a1594=[];_0x4a1594['push']({'role':_0x391e81(0x506),'content':_0x5d7018['instructions']}),_0x4a1594[_0x391e81(0x7e8)]({'role':_0x391e81(0x442),'content':_0x95a82d});const _0xbcb59=await fetch(_0x2bdaff[_0x391e81(0x406)]+_0x391e81(0x80a),{'method':_0x391e81(0x4cc),'headers':{'Content-Type':_0x391e81(0x6a8),'x-vendor-id':_0x304a88},'body':JSON['stringify']({'model':_0x5d7018[_0x391e81(0x549)],'messages':_0x4a1594,'max_completion_tokens':_0x5d7018[_0x391e81(0x686)],'temperature':_0x5d7018[_0x391e81(0x9d3)],'threadId':_0x23c279})}),_0x1e2dd5=(await _0xbcb59[_0x391e81(0x603)]())[_0x391e81(0x834)][0x0][_0x391e81(0x948)]['content'];await _0x59d769[_0x391e81(0x70e)]({'jobType':_0x58c5b6[_0x391e81(0x9c3)],'type':_0x13ff2d[_0x391e81(0x1cb)],'jobId':_0x453e42,'blockId':_0x5d7018['id'],'traceLevel':_0x1bdf60[_0x391e81(0x690)],'timestamp':Date[_0x391e81(0x3fe)](),'startTime':_0x34618f,'status':_0x391e81(0xae9),'agentId':_0x23c279,'content':_0x95a82d,'instructions':_0x5d7018[_0x391e81(0x381)],'result':_0x1e2dd5});const _0x2c2780=[];if(_0x5d7018[_0x391e81(0x342)]?.[_0x391e81(0x3da)](_0x36caa8=>_0x36caa8[_0x391e81(0x16c)]===_0x4b98fc[_0x391e81(0x6a6)]))return _0x2c2780[_0x391e81(0x7e8)]({'content':_0x1e2dd5,'start':0x0,'length':_0x1e2dd5[_0x391e81(0x878)]}),await _0x3e513c(_0x304a88,_0x453e42,_0x2c2780,_0x5d7018,_0x4e3ff9,_0x4a9eb6),void await _0x3e513c(_0x304a88,_0x453e42,_0x1e2dd5,_0x5d7018,_0x4e3ff9,_0x4a9eb6);_0x2c2780['push']({'content':_0x1e2dd5,'start':0x0,'length':_0x95a82d[_0x391e81(0x878)]}),await _0x3e513c(_0x304a88,_0x453e42,_0x2c2780,_0x5d7018,_0x4e3ff9,_0x4a9eb6);}async function _0x271e59(_0x5b1faf,_0x5e6800,_0x384a03,_0x1ba085,_0x5ded1d,_0x3c9eed){const _0x4690ac=_0x3149ab,_0x57ad9c=Date['now']();let _0x38bef4=[];if(_0x384a03 instanceof Array)for(const _0x408df2 of _0x384a03){if('string'!=typeof _0x408df2[_0x4690ac(0x130)])throw new Error(_0x4690ac(0x38e));_0x38bef4=_0x38bef4[_0x4690ac(0x58f)](_0x33e219(_0x408df2[_0x4690ac(0x130)],_0x1ba085,_0x408df2['start'],_0x408df2['length']));}else _0x38bef4=_0x33e219(_0x384a03,_0x1ba085);await _0x59d769['trace']({'jobType':_0x58c5b6[_0x4690ac(0x9c3)],'type':_0x13ff2d[_0x4690ac(0x9ce)],'traceLevel':_0x1bdf60[_0x4690ac(0x690)],'jobId':_0x5e6800,'blockId':_0x1ba085['id'],'startTime':_0x57ad9c,'timestamp':Date[_0x4690ac(0x3fe)](),'status':_0x4690ac(0xae9),'totalChunks':_0x38bef4['length'],'chunkSize':_0x1ba085['attributes'][_0x4690ac(0x1fa)]}),await _0x3e513c(_0x5b1faf,_0x5e6800,_0x38bef4,_0x1ba085,_0x5ded1d,_0x3c9eed);}function _0x33e219(_0x4c01db,_0x236fde,_0x5753c1,_0xc6431f){const _0x431341=_0x3149ab,_0x543406=[];for(let _0x392806=0x0;_0x392806<_0x4c01db[_0x431341(0x878)];_0x392806+=_0x236fde[_0x431341(0x1d6)][_0x431341(0x1fa)]){let _0x565ff6=_0x392806-_0x236fde[_0x431341(0x1d6)][_0x431341(0x820)];_0x565ff6<0x0&&(_0x565ff6=0x0);let _0x280df0=_0x392806+_0x236fde[_0x431341(0x1d6)][_0x431341(0x1fa)]+_0x236fde[_0x431341(0x1d6)][_0x431341(0x820)];_0x280df0>_0x4c01db[_0x431341(0x878)]&&(_0x280df0=_0x4c01db[_0x431341(0x878)]);const _0x29b3b2=_0x4c01db['substring'](_0x565ff6,_0x280df0);_0x543406[_0x431341(0x7e8)]({'content':_0x29b3b2,'start':_0x5753c1??_0x392806,'length':_0xc6431f??(_0x392806+_0x236fde['attributes'][_0x431341(0x1fa)]>_0x4c01db['length']?_0x4c01db[_0x431341(0x878)]-_0x392806:_0x236fde[_0x431341(0x1d6)][_0x431341(0x1fa)])});}return _0x543406;}async function _0x591d83(_0x1a8223,_0x3ab3c7,_0x2f69fd,_0x1de483,_0xfbd563,_0x418f08){const _0x4c905b=_0x3149ab,_0x262dfc=Date['now']();let _0x110e14;if(_0x2f69fd['file'][_0x4c905b(0x16c)][_0x4c905b(0xa2f)]('text/')||_0xa3600(_0x2f69fd[_0x4c905b(0x543)][_0x4c905b(0x662)],_0x2a96fb))_0x110e14=await _0x2f69fd[_0x4c905b(0x543)][_0x4c905b(0xa7a)]();else{if(!_0x418f08[_0x4c905b(0x447)][_0x4c905b(0x811)](_0x2f69fd['file']))throw new Error(_0x4c905b(0x49f)+_0x2f69fd[_0x4c905b(0x543)]['type']+'\x20-\x20'+_0x2f69fd['file'][_0x4c905b(0x662)]);_0x110e14=await _0x418f08[_0x4c905b(0x447)][_0x4c905b(0x39a)](_0x2f69fd['file']);}await _0x59d769[_0x4c905b(0x70e)]({'jobType':_0x58c5b6[_0x4c905b(0x9c3)],'type':_0x13ff2d[_0x4c905b(0x714)],'traceLevel':_0x1bdf60[_0x4c905b(0x690)],'blockId':_0x1de483['id'],'jobId':_0x3ab3c7,'startTime':_0x262dfc,'timestamp':Date[_0x4c905b(0x3fe)](),'status':_0x4c905b(0xae9),'documentType':_0x2f69fd[_0x4c905b(0x543)][_0x4c905b(0x16c)],'documentName':_0x2f69fd[_0x4c905b(0x543)][_0x4c905b(0x662)],'extractionMethod':_0x4c905b(0xa54)}),await _0x3e513c(_0x1a8223,_0x3ab3c7,_0x110e14,_0x1de483,_0xfbd563,_0x418f08);const _0x58cd78=[{'content':_0x110e14,'start':0x0,'length':_0x110e14['length']}];await _0x3e513c(_0x1a8223,_0x3ab3c7,_0x58cd78,_0x1de483,_0xfbd563,_0x418f08);}const _0x2a96fb=[_0x3149ab(0x4ae),_0x3149ab(0x1ba),_0x3149ab(0xa2a),'.json','.txt','.html',_0x3149ab(0x8c7),_0x3149ab(0x649),'.md',_0x3149ab(0x99d),_0x3149ab(0x210),'.sh',_0x3149ab(0x997),_0x3149ab(0x359),_0x3149ab(0x3a6),'.conf',_0x3149ab(0x55b),_0x3149ab(0x493),_0x3149ab(0xa6b),_0x3149ab(0x778),'.c',_0x3149ab(0x856),_0x3149ab(0x26c),'.r',_0x3149ab(0x9df),_0x3149ab(0x6e5),_0x3149ab(0xadf),'.kt','.rs',_0x3149ab(0x411),_0x3149ab(0x208),_0x3149ab(0x789),_0x3149ab(0x26d),'.clj',_0x3149ab(0xaeb),'.erl','.ex',_0x3149ab(0xad9),'.vb',_0x3149ab(0x83e),'.tcl','.m',_0x3149ab(0xa29),_0x3149ab(0x2ee),_0x3149ab(0x6aa),_0x3149ab(0x51b),_0x3149ab(0x3df),'.jsx',_0x3149ab(0x963),_0x3149ab(0x4d3),_0x3149ab(0xa34),'.jinja','.jinja2',_0x3149ab(0x4d6),_0x3149ab(0x667),_0x3149ab(0x77f),_0x3149ab(0x660),_0x3149ab(0x26a),_0x3149ab(0x482),_0x3149ab(0x85e),_0x3149ab(0x915),'.j2',_0x3149ab(0x8f5)];function _0xa3600(_0x3e5951,_0x274248){const _0x5478d6=_0x3149ab;return _0x274248[_0x5478d6(0x24c)]('.'+(_0x3e5951[_0x5478d6(0x91d)]('.')[_0x5478d6(0x97b)]()?.['toLowerCase']()||''));}async function _0x11395b(_0x3ec978,_0x25a883,_0x21912e,_0x3b313e,_0x40e8c7,_0x1637a4){const _0x1ceb36=_0x3149ab,_0xcaa469=Date[_0x1ceb36(0x3fe)](),_0x1b1198=new Set();let _0x57a08c=0x0;for(const _0xfd972f of _0x21912e){if(_0x1ceb36(0x657)!=typeof _0xfd972f[_0x1ceb36(0x130)])throw new Error(_0x1ceb36(0x38e));_0x57a08c+=_0xfd972f[_0x1ceb36(0x130)]['length'],await _0x46e2b8(_0xfd972f[_0x1ceb36(0x130)],_0x1b1198,_0x3b313e,_0x1637a4[_0x1ceb36(0x1de)]);}await _0x59d769[_0x1ceb36(0x70e)]({'jobType':_0x58c5b6[_0x1ceb36(0x9c3)],'type':_0x13ff2d[_0x1ceb36(0x11e)],'jobId':_0x25a883,'blockId':_0x3b313e['id'],'traceLevel':_0x1bdf60['Debug'],'startTime':_0xcaa469,'timestamp':Date[_0x1ceb36(0x3fe)](),'status':_0x1ceb36(0xae9),'contentLength':_0x57a08c,'totalChunks':_0x21912e instanceof Array?_0x21912e[_0x1ceb36(0x878)]:0x1,'entitiesExtracted':_0x1b1198,'totalEntities':_0x1b1198['size']}),await _0x3e513c(_0x3ec978,_0x25a883,_0x1b1198,_0x3b313e,_0x40e8c7,_0x1637a4);}async function _0x46e2b8(_0x545337,_0x5f0797,_0x4d123a,_0x35de37){const _0xe19d47=_0x3149ab,_0x10e3cf=await _0x35de37[_0xe19d47(0x3d2)](_0x545337,{'ner':_0x4d123a['attributes'][_0xe19d47(0x6bd)],'noun':_0x4d123a[_0xe19d47(0x1d6)]['noun'],'propn':_0x4d123a[_0xe19d47(0x1d6)][_0xe19d47(0x565)],'verb':_0x4d123a['attributes']['verb']});for(const _0x1092b6 of _0x10e3cf)_0x5f0797[_0xe19d47(0x638)](_0x1092b6);}async function _0x48baf4(_0x3b20b0,_0x20919c,_0x17b9fd,_0x3dbfe0,_0x106b5c){const _0x43c64f=_0x3149ab,_0x580bf2=Date[_0x43c64f(0x3fe)]();if(_0x17b9fd['accumulated']||(_0x17b9fd[_0x43c64f(0xaa3)]={}),_0x43c64f(0x657)==typeof _0x20919c?_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x130)]=_0x20919c:_0x20919c instanceof Set?_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x908)]=_0x20919c:_0x20919c instanceof Map?_0x17b9fd[_0x43c64f(0xaa3)]['relations']=_0x20919c:_0x20919c instanceof Array?_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x270)]=_0x20919c:_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x543)]=_0x20919c,_0x17b9fd[_0x43c64f(0x53d)]=_0x17b9fd[_0x43c64f(0x53d)]?_0x17b9fd['timesCalled']+0x1:0x1,_0x1c4fdc(_0x17b9fd,_0x3dbfe0[_0x43c64f(0x905)])>_0x17b9fd['timesCalled'])return;if(!(_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x908)]&&_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x543)]&&_0x17b9fd[_0x43c64f(0xaa3)]['content']&&_0x17b9fd['accumulated'][_0x43c64f(0x270)]))throw new Error(_0x43c64f(0x947));let _0x1f76f3=0x0;const _0x41f3b0=_0x106b5c[_0x43c64f(0x6e7)][_0x43c64f(0x644)](_0x17b9fd['id']);for(const _0x2157c0 of _0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x908)]){let _0x527a7f=[];_0x527a7f=_0x17b9fd[_0x43c64f(0xaa3)]['index'][_0x43c64f(0x683)](_0xc6e1c6=>'string'==typeof _0xc6e1c6['content']&&_0xc6e1c6[_0x43c64f(0x130)][_0x43c64f(0x24c)](_0x2157c0));try{_0x41f3b0[_0x43c64f(0x1e5)](_0x17b9fd['accumulated']['file'][_0x43c64f(0x4dd)],_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x130)],_0x527a7f,_0x2157c0),_0x1f76f3+=0x1;}catch(_0x4128f7){}}if(_0x17b9fd['accumulated'][_0x43c64f(0x5f6)]){for(const [_0x49e7ef,_0x246ee5]of _0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x5f6)])for(const _0x4cfb2a of _0x246ee5)try{_0x41f3b0[_0x43c64f(0x10b)](_0x49e7ef,_0x4cfb2a);}catch(_0x27ce65){}await _0x59d769[_0x43c64f(0x70e)]({'jobType':_0x58c5b6[_0x43c64f(0x9c3)],'type':_0x13ff2d[_0x43c64f(0x22d)],'jobId':_0x3b20b0,'blockId':_0x17b9fd['id'],'status':'success','startTime':_0x580bf2,'timestamp':Date[_0x43c64f(0x3fe)](),'traceLevel':_0x1bdf60[_0x43c64f(0x690)],'nodesAdded':_0x1f76f3,'entities':_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x908)],'relations':_0x17b9fd[_0x43c64f(0xaa3)][_0x43c64f(0x5f6)]});}}async function _0x58cdad(_0x245e61,_0x235fb8,_0x586644,_0x2166c9,_0x28e987,_0x582556){const _0x39d321=_0x3149ab,_0x52b23a=_0x582556[_0x39d321(0x1a3)][_0x39d321(0x8e4)](_0x527a56=>_0x527a56['id']===_0x2166c9['id']);if(!_0x52b23a)throw new Error(_0x39d321(0x85a));switch(_0x52b23a[_0x39d321(0x9a3)]){case _0x3a4c7c[_0x39d321(0x468)][_0x39d321(0x6a6)]:if(_0x39d321(0x657)!=typeof _0x586644)throw new Error(_0x39d321(0x9e1));await async function(_0x28334c,_0x4d0524,_0x50acfc,_0x1460fa,_0xd1c577,_0x1f998c,_0x5c37f6){const _0x1dd00c=_0x39d321,_0x25c651=Date[_0x1dd00c(0x3fe)]();let _0xf2dfb2;const _0x1c93b6=await fetch(_0x2bdaff['apiUrl']+_0x1dd00c(0x80a),{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0x28334c},'body':JSON[_0x1dd00c(0x31d)]({'messages':[{'role':'user','content':_0x50acfc}],'model':_0x1460fa['id']})});_0xf2dfb2=(await _0x1c93b6[_0x1dd00c(0x603)]())[_0x1dd00c(0x834)][0x0][_0x1dd00c(0x948)][_0x1dd00c(0x130)],await _0x59d769[_0x1dd00c(0x70e)]({'jobType':_0x58c5b6[_0x1dd00c(0x9c3)],'type':_0x13ff2d['ModelText'],'jobId':_0x4d0524,'blockId':_0xd1c577['id'],'traceLevel':_0x1bdf60[_0x1dd00c(0x690)],'timestamp':Date[_0x1dd00c(0x3fe)](),'startTime':_0x25c651,'status':_0x1dd00c(0xae9),'modelName':_0x1460fa['id'],'inputType':_0x1460fa[_0x1dd00c(0x82c)],'outputType':_0x1460fa[_0x1dd00c(0x9a3)],'content':_0x50acfc,'results':_0xf2dfb2}),await _0x3e513c(_0x28334c,_0x4d0524,_0xf2dfb2,_0xd1c577,_0x1f998c,_0x5c37f6);}(_0x245e61,_0x235fb8,_0x586644,_0x52b23a,_0x2166c9,_0x28e987,_0x582556);break;case _0x3a4c7c[_0x39d321(0x468)]['Vector']:if(!(_0x586644 instanceof Array))throw new Error(_0x39d321(0x9e6));await async function(_0xb14042,_0x35c615,_0x1d64ba,_0xcd63a5,_0x52a4a5,_0xdd74b9,_0x468a08){const _0x133a0b=_0x39d321,_0x4e3925=Date['now'](),_0xf77f33=await fetch(_0x2bdaff['apiUrl']+_0x133a0b(0x55c),{'method':_0x133a0b(0x4cc),'headers':{'Content-Type':_0x133a0b(0x6a8),'x-vendor-id':_0xb14042},'body':JSON[_0x133a0b(0x31d)]({'input':_0x1d64ba[_0x133a0b(0x323)](_0x558262=>_0x558262['content']),'model':_0xcd63a5['id']})}),_0x51caf0=(await _0xf77f33['json']())[_0x133a0b(0x9b8)][_0x133a0b(0x323)](_0x49c897=>_0x49c897[_0x133a0b(0x148)]);await _0x59d769['trace']({'jobType':_0x58c5b6[_0x133a0b(0x9c3)],'type':_0x13ff2d[_0x133a0b(0x277)],'jobId':_0x35c615,'blockId':_0x52a4a5['id'],'traceLevel':_0x1bdf60[_0x133a0b(0x690)],'timestamp':Date['now'](),'startTime':_0x4e3925,'status':_0x133a0b(0xae9),'modelName':_0xcd63a5['id'],'inputType':_0xcd63a5[_0x133a0b(0x82c)],'outputType':_0xcd63a5[_0x133a0b(0x9a3)],'totalVectors':_0x51caf0['length']}),await _0x3e513c(_0xb14042,_0x35c615,_0x51caf0,_0x52a4a5,_0xdd74b9,_0x468a08);}(_0x245e61,_0x235fb8,_0x586644,_0x52b23a,_0x2166c9,_0x28e987,_0x582556);}}async function _0x211a89(_0x47482a,_0x429fdb,_0x3f1beb,_0x1755b0,_0x280328,_0x515ced){const _0x30cf10=_0x3149ab,_0x188fd3=Date[_0x30cf10(0x3fe)]();if(_0x1755b0[_0x30cf10(0xaa3)]||(_0x1755b0[_0x30cf10(0xaa3)]={}),_0x3f1beb instanceof Array?_0x1755b0[_0x30cf10(0xaa3)][_0x30cf10(0x270)]=_0x3f1beb:_0x1755b0[_0x30cf10(0xaa3)][_0x30cf10(0x908)]=_0x3f1beb,_0x1755b0['timesCalled']=_0x1755b0[_0x30cf10(0x53d)]?_0x1755b0[_0x30cf10(0x53d)]+0x1:0x1,_0x1c4fdc(_0x1755b0,_0x280328[_0x30cf10(0x905)])>_0x1755b0[_0x30cf10(0x53d)])return;if(!_0x1755b0[_0x30cf10(0xaa3)][_0x30cf10(0x270)]||!_0x1755b0[_0x30cf10(0xaa3)][_0x30cf10(0x908)])throw new Error(_0x30cf10(0x13a));const _0x317ac6=new Map();for(const _0xffa6c4 of _0x1755b0[_0x30cf10(0xaa3)][_0x30cf10(0x270)]){if(_0x30cf10(0x657)!=typeof _0xffa6c4[_0x30cf10(0x130)])throw new Error(_0x30cf10(0x38e));_0x95077c(_0xffa6c4[_0x30cf10(0x130)],_0x1755b0[_0x30cf10(0xaa3)][_0x30cf10(0x908)],_0x317ac6);}await _0x59d769[_0x30cf10(0x70e)]({'jobType':_0x58c5b6[_0x30cf10(0x9c3)],'type':_0x13ff2d[_0x30cf10(0x8a0)],'jobId':_0x429fdb,'blockId':_0x1755b0['id'],'traceLevel':_0x1bdf60[_0x30cf10(0x690)],'timestamp':Date['now'](),'startTime':_0x188fd3,'status':_0x30cf10(0xae9),'entities':_0x1755b0[_0x30cf10(0xaa3)][_0x30cf10(0x908)],'relations':_0x317ac6,'totalRelationsExtracted':_0x317ac6[_0x30cf10(0x1fa)]}),await _0x3e513c(_0x47482a,_0x429fdb,_0x317ac6,_0x1755b0,_0x280328,_0x515ced);}function _0x95077c(_0x21706c,_0x373266,_0x3ae9f5){const _0x365f14=_0x3149ab;for(const _0x35af35 of _0x373266)for(const _0xa9d911 of _0x373266){if(_0x35af35===_0xa9d911)continue;const _0x318503=_0x21706c[_0x365f14(0x9b2)](_0x35af35),_0x1f52c6=_0x21706c[_0x365f14(0x9b2)](_0xa9d911);-0x1!==_0x318503&&-0x1!==_0x1f52c6&&(_0x3ae9f5[_0x365f14(0x2a7)](_0x35af35)||_0x3ae9f5['set'](_0x35af35,new Set()),_0x3ae9f5[_0x365f14(0x524)](_0x35af35)[_0x365f14(0x638)](_0xa9d911));}return _0x3ae9f5;}async function _0x4544a1(_0x35ae88,_0x14ae8a,_0xed61d6,_0x1a8e8b,_0x4e9d16,_0x319583){const _0x4a6fce=_0x3149ab,_0x24ebe5=Date['now']();let _0x261185=[];if(_0xed61d6 instanceof Array)for(const _0x422b95 of _0xed61d6){if(_0x4a6fce(0x657)!=typeof _0x422b95['content'])throw new Error(_0x4a6fce(0x38e));const _0x3547a4=await _0x319583[_0x4a6fce(0x1de)]['getSentences'](_0x422b95[_0x4a6fce(0x130)]);_0x261185=_0x261185[_0x4a6fce(0x58f)](_0x3547a4['map'](_0x26b8b4=>({'content':_0x26b8b4,'start':_0x422b95[_0x4a6fce(0xa08)],'length':_0x422b95[_0x4a6fce(0x878)]})));}else _0x261185=(await _0x319583[_0x4a6fce(0x1de)][_0x4a6fce(0x610)](_0xed61d6))[_0x4a6fce(0x323)](_0x162fef=>({'content':_0x162fef,'start':_0xed61d6['indexOf'](_0x162fef),'length':_0x162fef[_0x4a6fce(0x878)]}));await _0x59d769['trace']({'jobType':_0x58c5b6[_0x4a6fce(0x9c3)],'type':_0x13ff2d['SentenceSplitter'],'jobId':_0x14ae8a,'blockId':_0x1a8e8b['id'],'traceLevel':_0x1bdf60[_0x4a6fce(0x690)],'startTime':_0x24ebe5,'timestamp':Date[_0x4a6fce(0x3fe)](),'status':_0x4a6fce(0xae9),'totalSentences':_0x261185[_0x4a6fce(0x878)],'averageSentenceLength':_0x261185[_0x4a6fce(0x399)]((_0xeb97d2,_0x27f012)=>_0xeb97d2+_0x27f012[_0x4a6fce(0x878)],0x0)/_0x261185['length']}),await _0x3e513c(_0x35ae88,_0x14ae8a,_0x261185,_0x1a8e8b,_0x4e9d16,_0x319583);}async function _0x928c05(_0x503f12,_0x28830a,_0x2a31fe){const _0x754e1=_0x3149ab;if(0x0===_0x503f12['length'])return;const _0x5c421d=_0x28830a[_0x754e1(0x111)]?.[_0x754e1(0x7f6)]?_0x28830a['internalContext']['files'][_0x754e1(0x91d)](','):[];for(const _0x3afea5 of _0x503f12){const _0xb1285f=await _0x2a31fe[_0x754e1(0x204)][_0x754e1(0xa30)](_0x3afea5);_0x5c421d[_0x754e1(0x7e8)](_0xb1285f);}_0x28830a['internalContext']||(_0x28830a[_0x754e1(0x111)]={}),_0x28830a['internalContext']['files']=_0x5c421d['join'](',');}async function _0x4da6ae(_0x251b35,_0x47a40d,_0x10cb71,_0x4e4caa,_0x23032e){const _0x70023b=_0x3149ab;if(_0x251b35[_0x70023b(0x7f6)]&&_0x10cb71[_0x70023b(0x342)]){const _0x378131=[];for(const _0x4cec44 of _0x251b35[_0x70023b(0x7f6)])_0x378131['push'](_0x2a8713(_0x4cec44));for(const _0x235f2f of _0x10cb71[_0x70023b(0x342)])if('file'===_0x235f2f['type']){const _0xb0d80c=_0x4e4caa[_0x70023b(0x8e4)](_0x57e144=>_0x57e144[_0x70023b(0x232)]===_0x235f2f[_0x70023b(0x232)]);if(!_0xb0d80c)continue;_0xb0d80c[_0x70023b(0x16c)]===_0x557158[_0x70023b(0x714)]&&await _0x928c05(_0x378131,_0x47a40d,_0x23032e);}}}function _0x2a8713(_0x33cc83){const _0x3807da=_0x3149ab,_0x35f008=Uint8Array['from'](Buffer[_0x3807da(0x271)](_0x33cc83[_0x3807da(0x130)],'base64')),_0x1ca4d2=new Blob([_0x35f008],{'type':_0x33cc83['type']});return new File([_0x1ca4d2],_0x33cc83['name'],{'type':_0x33cc83[_0x3807da(0x16c)]});}function _0x5be415(_0x4b53b8,_0x5b4b6d){const _0x1d22df=_0x3149ab;switch(_0x5b4b6d[_0x1d22df(0x842)]){case _0xac7fe7[_0x1d22df(0x48e)]:return _0x1d22df(0x5d4);case _0xac7fe7[_0x1d22df(0x33a)]:return _0x4b53b8;case _0xac7fe7[_0x1d22df(0x15f)]:default:return _0x5b4b6d['id'];}}async function _0x227338(_0x5157db,_0x4b6b05,_0x4219b4,_0x41270b,_0x4c6112,_0x42f0d6){const _0xf26ef3=_0x3149ab,_0x2caa18=Date[_0xf26ef3(0x3fe)]();var _0x508b6a;if(_0x41270b[_0xf26ef3(0xaa3)]||(_0x41270b[_0xf26ef3(0xaa3)]={}),_0x4219b4 instanceof Array?(_0x508b6a=_0x4219b4)[0x0]instanceof Array&&_0xf26ef3(0x15c)==typeof _0x508b6a[0x0]?.[0x0]?_0x41270b['accumulated'][_0xf26ef3(0x55d)]=_0x4219b4:_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x270)]=_0x4219b4:'string'==typeof _0x4219b4?_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x130)]=_0x4219b4:_0x41270b['accumulated']['file']=_0x4219b4,_0x41270b[_0xf26ef3(0x53d)]=_0x41270b['timesCalled']?_0x41270b['timesCalled']+0x1:0x1,!(_0x1c4fdc(_0x41270b,_0x4c6112[_0xf26ef3(0x905)])>_0x41270b[_0xf26ef3(0x53d)])){if(_0xf26ef3(0x32f)===_0x41270b['id']){if(!_0x41270b[_0xf26ef3(0xaa3)]['index']||!_0x41270b[_0xf26ef3(0xaa3)]['vectors']||!_0x41270b['accumulated']['file'])throw new Error(_0xf26ef3(0x24b));if(!_0x42f0d6['ragConnector'])throw new Error('RAG\x20connector\x20is\x20not\x20available');const _0x17b987=[];for(let _0x595a0e=0x0;_0x595a0e<_0x41270b[_0xf26ef3(0xaa3)]['index'][_0xf26ef3(0x878)];_0x595a0e++){const _0x3eb8b9=_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x55d)][_0x595a0e],_0x1f34ba=_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x270)][_0x595a0e];_0x17b987[_0xf26ef3(0x7e8)]({'content':_0x3eb8b9,'start':_0x1f34ba[_0xf26ef3(0xa08)],'length':_0x1f34ba[_0xf26ef3(0x878)]});}const _0x149c61=_0x5be415(_0x5157db,_0x4c6112);await _0x42f0d6[_0xf26ef3(0x46d)][_0xf26ef3(0x2a0)](_0x149c61,_0x4c6112['id'],_0x41270b[_0xf26ef3(0xaa3)]['file'][_0xf26ef3(0x4dd)],_0x17b987);}else{if(!(_0x41270b['accumulated']['content']&&_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x270)]&&_0x41270b['accumulated']['vectors']&&_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x543)]))throw new Error(_0xf26ef3(0x24b));const _0x327490=_0x42f0d6[_0xf26ef3(0x6e7)][_0xf26ef3(0x267)](_0x41270b['id']);_0x327490['insert'](_0x41270b['accumulated']['file'][_0xf26ef3(0x4dd)],_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x130)],_0x41270b['accumulated'][_0xf26ef3(0x270)],_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x55d)]),await _0x59d769[_0xf26ef3(0x70e)]({'jobType':_0x58c5b6['Ingest'],'type':_0x13ff2d[_0xf26ef3(0x4a4)],'jobId':_0x4b6b05,'blockId':_0x41270b['id'],'traceLevel':_0x1bdf60[_0xf26ef3(0x690)],'startTime':_0x2caa18,'timestamp':Date[_0xf26ef3(0x3fe)](),'status':'success','databaseName':_0x327490['getName'](),'vectorsAdded':_0x41270b['accumulated'][_0xf26ef3(0x55d)][_0xf26ef3(0x878)],'filePathName':_0x41270b[_0xf26ef3(0xaa3)][_0xf26ef3(0x543)][_0xf26ef3(0x4dd)]});}}}async function _0x5ff763(_0x3199a8,_0x2eea9c,_0x4c7df8,_0x1bddb0,_0x14a6f6,_0x2de975){const _0x1bf622=_0x3149ab,_0xb27cc6=Date[_0x1bf622(0x3fe)]();let _0x310d46=[];if(_0x4c7df8 instanceof Array)for(const _0x31fede of _0x4c7df8){if(_0x1bf622(0x657)!=typeof _0x31fede['content'])throw new Error(_0x1bf622(0x38e));_0x310d46=_0x310d46[_0x1bf622(0x58f)](_0x9c7ed(_0x31fede[_0x1bf622(0x130)],_0x1bddb0,_0x31fede[_0x1bf622(0xa08)],_0x31fede['length']));}else _0x310d46=_0x9c7ed(_0x4c7df8,_0x1bddb0);await _0x59d769[_0x1bf622(0x70e)]({'jobType':_0x58c5b6[_0x1bf622(0x9c3)],'type':_0x13ff2d['WordSplitter'],'jobId':_0x2eea9c,'traceLevel':_0x1bdf60['Debug'],'blockId':_0x1bddb0['id'],'startTime':_0xb27cc6,'timestamp':Date[_0x1bf622(0x3fe)](),'status':_0x1bf622(0xae9),'totalChunks':_0x310d46['length'],'averageChunkLength':_0x310d46[_0x1bf622(0x399)]((_0x1ffdbe,_0x58e4dc)=>_0x1ffdbe+_0x58e4dc[_0x1bf622(0x878)],0x0)/_0x310d46['length']}),await _0x3e513c(_0x3199a8,_0x2eea9c,_0x310d46,_0x1bddb0,_0x14a6f6,_0x2de975);}function _0x9c7ed(_0xb7be8,_0x1298bd,_0x4d5c33,_0x481225){const _0x1b51fa=_0x3149ab,_0x29d0f9=[],_0x5005bd=_0xb7be8['split']('\x20');let _0x4d1631='',_0x421172=-0x1,_0x595eba=0x0,_0x1ef368=0x0;for(const _0x548a89 of _0x5005bd){if(_0x4d1631[_0x1b51fa(0x878)]+_0x548a89[_0x1b51fa(0x878)]>_0x1298bd[_0x1b51fa(0x1d6)]['size']){const _0x484a51=_0x4d1631['length'];let _0xc143d4=_0x421172,_0x47af16='';for(;_0xc143d4>=0x0&&_0x47af16[_0x1b51fa(0x878)]+_0x5005bd[_0xc143d4][_0x1b51fa(0x878)]<_0x1298bd[_0x1b51fa(0x1d6)][_0x1b51fa(0x820)];)_0x47af16=_0x5005bd[_0xc143d4]+'\x20'+_0x47af16,_0xc143d4--;let _0x26ce4a=_0x595eba,_0x38a32f='';for(;_0x26ce4a<_0x5005bd[_0x1b51fa(0x878)]&&_0x38a32f['length']+_0x5005bd[_0x26ce4a][_0x1b51fa(0x878)]<_0x1298bd[_0x1b51fa(0x1d6)]['overlap'];)_0x38a32f+=_0x5005bd[_0x26ce4a]+'\x20',_0x26ce4a++;_0x4d1631=_0x47af16+_0x4d1631+_0x38a32f,_0x29d0f9[_0x1b51fa(0x7e8)]({'content':_0x4d1631[_0x1b51fa(0x9b3)](),'start':_0x4d5c33??_0x1ef368,'length':_0x481225??_0x484a51}),_0x4d1631='',_0x421172=_0x595eba-0x1,_0x1ef368+=_0x484a51;}_0x4d1631+=_0x548a89+'\x20',_0x595eba++;}if(_0x4d1631[_0x1b51fa(0x878)]>0x0){const _0x476ec3=_0x4d1631[_0x1b51fa(0x878)];let _0x253d74=_0x421172,_0x2a987d='';for(;_0x253d74>=0x0&&_0x2a987d[_0x1b51fa(0x878)]+_0x5005bd[_0x253d74][_0x1b51fa(0x878)]<_0x1298bd['attributes'][_0x1b51fa(0x820)];)_0x2a987d=_0x5005bd[_0x253d74]+'\x20'+_0x2a987d,_0x253d74--;_0x4d1631=_0x2a987d+_0x4d1631,_0x29d0f9[_0x1b51fa(0x7e8)]({'content':_0x4d1631[_0x1b51fa(0x9b3)](),'start':_0x4d5c33??_0x1ef368,'length':_0x481225??_0x476ec3});}return _0x29d0f9;}async function _0x3e513c(_0x430b7d,_0x1116ef,_0x389296,_0x5ec351,_0x471791,_0x397415){const _0x450c55=_0x3149ab;for(const _0x4b2768 of _0x5ec351[_0x450c55(0x342)]||[]){const _0x53fb9c=_0x471791['ingestBlocks'][_0x450c55(0x8e4)](_0x4c44b5=>_0x4c44b5[_0x450c55(0x232)]===_0x4b2768[_0x450c55(0x232)]);if(_0x53fb9c)switch(_0x53fb9c['type']){case _0x2a2e74[_0x450c55(0x1cb)]:_0x4b2768['type']===_0x4b98fc[_0x450c55(0x6a6)]&&_0x450c55(0x657)==typeof _0x389296&&await _0x2d38fb(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74[_0x450c55(0x9ce)]:_0x4b2768['type']===_0x4b98fc[_0x450c55(0x6a6)]&&_0x450c55(0x657)==typeof _0x389296&&await _0x271e59(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array&&await _0x271e59(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74['DocumentParser']:_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x6a9)]&&await _0x591d83(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74[_0x450c55(0x8c3)]:if(_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array){if(!_0x471791[_0x450c55(0x549)])throw new Error(_0x450c55(0x2b1));const _0x46ec7d={'type':_0x2a2e74[_0x450c55(0x9c7)],'id':_0x471791['modelId'],'uid':(0x0,_0x19ce97['v4'])(),'links':_0x53fb9c[_0x450c55(0x342)]};await _0x58cdad(_0x430b7d,_0x1116ef,_0x389296,_0x46ec7d,_0x471791,_0x397415);}break;case _0x2a2e74[_0x450c55(0x11e)]:_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array&&await _0x11395b(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74[_0x450c55(0x22d)]:_0x4b2768['type']===_0x4b98fc[_0x450c55(0x6a6)]&&'string'==typeof _0x389296&&await _0x48baf4(_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array&&await _0x48baf4(_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768['type']===_0x4b98fc[_0x450c55(0x3f7)]&&_0x389296 instanceof Set&&await _0x48baf4(_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x2bb)]&&_0x389296 instanceof Map&&await _0x48baf4(_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x6a9)]&&await _0x48baf4(_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74[_0x450c55(0x9c7)]:_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x6a6)]&&_0x450c55(0x657)==typeof _0x389296&&await _0x58cdad(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array&&await _0x58cdad(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74[_0x450c55(0x8a0)]:_0x4b2768['type']===_0x4b98fc['Index']&&_0x389296 instanceof Array&&await _0x211a89(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x3f7)]&&_0x389296 instanceof Set&&await _0x211a89(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74['SentenceSplitter']:_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc['Text']&&_0x450c55(0x657)==typeof _0x389296&&await _0x4544a1(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array&&await _0x4544a1(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74[_0x450c55(0x4a4)]:_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc['Text']&&_0x450c55(0x657)==typeof _0x389296&&await _0x227338(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768['type']===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array&&await _0x227338(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768['type']===_0x4b98fc[_0x450c55(0x371)]&&_0x389296 instanceof Array&&await _0x227338(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x6a9)]&&await _0x227338(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);break;case _0x2a2e74[_0x450c55(0x1b2)]:_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x6a6)]&&_0x450c55(0x657)==typeof _0x389296&&await _0x5ff763(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415),_0x4b2768[_0x450c55(0x16c)]===_0x4b98fc[_0x450c55(0x1d8)]&&_0x389296 instanceof Array&&await _0x5ff763(_0x430b7d,_0x1116ef,_0x389296,_0x53fb9c,_0x471791,_0x397415);}}}function _0x1c4fdc(_0x4a8b12,_0x3deb27){const _0xa909af=_0x3149ab;return _0x3deb27[_0xa909af(0x683)](_0x182f7b=>_0x182f7b['links']?.[_0xa909af(0x3da)](_0x2fc805=>_0x2fc805[_0xa909af(0x232)]===_0x4a8b12['uid']))[_0xa909af(0x878)];}async function _0x3bf4ac(_0x152e70,_0x1c256e,_0x2ed40c,_0x49c3bf,_0x29b7c4,_0x98bf2e,_0x12277a,_0x3b3cd9){const _0x5bd747=_0x3149ab,_0x2cd0c2=Date['now'](),_0x57df3d=new Set();if(_0x49c3bf instanceof Array){for(const _0x3f4621 of _0x49c3bf)await _0x59fdd2(_0x3f4621[_0x5bd747(0x130)],_0x98bf2e,_0x57df3d,_0x3b3cd9[_0x5bd747(0x1de)]);}else await _0x59fdd2(_0x49c3bf,_0x98bf2e,_0x57df3d,_0x3b3cd9[_0x5bd747(0x1de)]);await _0x59d769['trace']({'jobType':_0x58c5b6[_0x5bd747(0x2e7)],'type':_0x42fc4a[_0x5bd747(0x11e)],'jobId':_0x1c256e,'threadId':_0x2ed40c,'blockId':_0x98bf2e['id'],'traceLevel':_0x1bdf60['Debug'],'startTime':_0x2cd0c2,'timestamp':Date[_0x5bd747(0x3fe)](),'status':_0x5bd747(0xae9),'content':_0x49c3bf,'entitiesExtracted':Array[_0x5bd747(0x271)](_0x57df3d),'totalEntities':_0x57df3d[_0x5bd747(0x1fa)]}),await _0x49ee25(_0x152e70,_0x1c256e,_0x2ed40c,_0x57df3d,_0x29b7c4,_0x98bf2e,_0x12277a,_0x3b3cd9);}async function _0x59fdd2(_0x1d3a84,_0x1d292e,_0x585110,_0x13f1ba){const _0x26c976=_0x3149ab,_0x88ed15=await _0x13f1ba[_0x26c976(0x3d2)](_0x1d3a84,{'ner':_0x1d292e['attributes'][_0x26c976(0x6bd)],'noun':_0x1d292e['attributes'][_0x26c976(0x4a7)],'propn':_0x1d292e[_0x26c976(0x1d6)][_0x26c976(0x565)],'verb':_0x1d292e[_0x26c976(0x1d6)][_0x26c976(0x49a)]});for(const _0x2a4c5e of _0x88ed15)_0x585110['add'](_0x2a4c5e);}async function _0x1d32d7(_0x56e74b,_0x642dd9,_0x5b1ae6,_0x5cd59e,_0x5c4b5d,_0x2fcd8a,_0x439fd9,_0x231f3b){const _0x44d892=_0x3149ab,_0x11e2b2=Date[_0x44d892(0x3fe)]();if(_0x2fcd8a[_0x44d892(0xaa3)]||(_0x2fcd8a['accumulated']={}),_0x5cd59e instanceof Array?(_0x2fcd8a[_0x44d892(0xaa3)][_0x44d892(0x604)]||(_0x2fcd8a[_0x44d892(0xaa3)][_0x44d892(0x604)]=[]),_0x2fcd8a[_0x44d892(0xaa3)][_0x44d892(0x604)]['push'](..._0x5cd59e)):_0x5cd59e instanceof Set?_0x2fcd8a[_0x44d892(0xaa3)][_0x44d892(0x908)]=_0x5cd59e:_0x2fcd8a[_0x44d892(0xaa3)]['prompt']=_0x5cd59e,_0x2fcd8a[_0x44d892(0x53d)]=_0x2fcd8a[_0x44d892(0x53d)]?_0x2fcd8a[_0x44d892(0x53d)]+0x1:0x1,_0x3e8d38(_0x2fcd8a,_0x439fd9['retrieveBlocks'])>_0x2fcd8a['timesCalled'])return;if(!_0x2fcd8a['accumulated'][_0x44d892(0xa0b)]&&!_0x2fcd8a['accumulated'][_0x44d892(0x604)]||!_0x2fcd8a[_0x44d892(0xaa3)]['entities'])throw new Error(_0x44d892(0x947));const _0x214727=_0x231f3b[_0x44d892(0x6e7)][_0x44d892(0x644)](_0x2fcd8a['id'])[_0x44d892(0xa1e)](Array[_0x44d892(0x271)](_0x2fcd8a['accumulated'][_0x44d892(0x908)]),_0x2fcd8a[_0x44d892(0x1d6)][_0x44d892(0x959)],_0x2fcd8a[_0x44d892(0x1d6)]['contentSize']);let _0x18311b=[];for(const _0x11a258 in _0x214727){const _0x5c41bb=_0x214727[_0x11a258];for(const _0x2444c0 of _0x5c41bb){let _0x1d5720=0x0;if(_0x2fcd8a[_0x44d892(0xaa3)][_0x44d892(0xa0b)]&&(_0x1d5720=await _0x231f3b['nlpLibraryConnector']['getSimilarity'](_0x2fcd8a['accumulated']['prompt'],_0x2444c0)),_0x2fcd8a[_0x44d892(0xaa3)]['results']){for(const _0x4aadc8 of _0x2fcd8a[_0x44d892(0xaa3)][_0x44d892(0x604)])_0x1d5720=Math[_0x44d892(0x3e5)](_0x1d5720,await _0x231f3b['nlpLibraryConnector'][_0x44d892(0x307)](_0x4aadc8['content'],_0x2444c0));}_0x1d5720<_0x2fcd8a[_0x44d892(0x1d6)]['minRelevance']||_0x18311b[_0x44d892(0x7e8)]({'content':_0x2444c0,'relevance':_0x1d5720,'pathName':_0x11a258});}}_0x18311b=_0x18311b['sort']((_0x536fa9,_0x55fe6f)=>_0x55fe6f[_0x44d892(0x846)]-_0x536fa9[_0x44d892(0x846)])[_0x44d892(0x83b)](0x0,_0x2fcd8a[_0x44d892(0x1d6)][_0x44d892(0x8e7)]),await _0x59d769[_0x44d892(0x70e)]({'jobType':_0x58c5b6[_0x44d892(0x2e7)],'type':_0x42fc4a['GraphSearch'],'jobId':_0x642dd9,'threadId':_0x5b1ae6,'blockId':_0x2fcd8a['id'],'traceLevel':_0x1bdf60[_0x44d892(0x690)],'timestamp':Date[_0x44d892(0x3fe)](),'startTime':_0x11e2b2,'status':_0x44d892(0xae9),'content':_0x5cd59e,'topResults':_0x18311b,'numResults':_0x18311b[_0x44d892(0x878)]}),await _0x49ee25(_0x56e74b,_0x642dd9,_0x5b1ae6,_0x18311b,_0x5c4b5d,_0x2fcd8a,_0x439fd9,_0x231f3b);}async function _0x536bcf(_0x2e6566,_0x33105f,_0x998dcf,_0x5c3187,_0x3d1e31,_0x2ff5ef,_0x57cf48,_0xa4bc2e){const _0x3b344f=_0x3149ab,_0x1032bc=_0xa4bc2e[_0x3b344f(0x1a3)][_0x3b344f(0x8e4)](_0x4055c2=>_0x4055c2['id']===_0x2ff5ef['id']);if(!_0x1032bc)throw new Error(_0x3b344f(0x85a));let _0x19b3c3='';switch(_0x19b3c3=_0x5c3187 instanceof Array?_0x5c3187[_0x3b344f(0x323)](_0x197ad5=>_0x197ad5['content'])['join'](',\x20'):_0x5c3187,_0x1032bc[_0x3b344f(0x9a3)]){case _0x3a4c7c[_0x3b344f(0x468)][_0x3b344f(0x6a6)]:await async function(_0x158c1c,_0x12dd05,_0x29a198,_0x2bd332,_0x54ae25,_0x3d9f86,_0x1a6486,_0x4db9ce,_0x49db20){const _0x596bc0=_0x3b344f,_0x1df9ea=Date[_0x596bc0(0x3fe)](),_0x398a1d=await fetch(_0x2bdaff['apiUrl']+_0x596bc0(0x80a),{'method':_0x596bc0(0x4cc),'headers':{'Content-Type':_0x596bc0(0x6a8),'x-vendor-id':_0x158c1c},'body':JSON[_0x596bc0(0x31d)]({'messages':[{'role':_0x596bc0(0x442),'content':_0x2bd332}],'model':_0x3d9f86['id']})}),_0x5d039b=(await _0x398a1d[_0x596bc0(0x603)]())['choices'][0x0][_0x596bc0(0x948)][_0x596bc0(0x130)];await _0x59d769[_0x596bc0(0x70e)]({'jobType':_0x58c5b6[_0x596bc0(0x2e7)],'type':_0x42fc4a[_0x596bc0(0x7a6)],'jobId':_0x12dd05,'threadId':_0x29a198,'blockId':_0x1a6486['id'],'traceLevel':_0x1bdf60[_0x596bc0(0x690)],'startTime':_0x1df9ea,'timestamp':Date[_0x596bc0(0x3fe)](),'status':'success','modelName':_0x3d9f86['id'],'content':_0x2bd332,'newPrompt':_0x5d039b,'inputType':_0x3d9f86[_0x596bc0(0x82c)],'outputType':_0x3d9f86[_0x596bc0(0x9a3)]}),await _0x49ee25(_0x158c1c,_0x12dd05,_0x29a198,_0x5d039b,_0x54ae25,_0x1a6486,_0x4db9ce,_0x49db20);}(_0x2e6566,_0x33105f,_0x998dcf,_0x19b3c3,_0x3d1e31,_0x1032bc,_0x2ff5ef,_0x57cf48,_0xa4bc2e);break;case _0x3a4c7c[_0x3b344f(0x468)][_0x3b344f(0x371)]:await async function(_0x326710,_0xed9579,_0x2e25d7,_0x1ac472,_0x573f78,_0x210f75,_0x365ca1,_0x409c4d,_0x1a170a){const _0x2dc286=_0x3b344f,_0x55c84e=Date[_0x2dc286(0x3fe)](),_0x4739aa=await fetch(_0x2bdaff[_0x2dc286(0x406)]+_0x2dc286(0x55c),{'method':_0x2dc286(0x4cc),'headers':{'Content-Type':'application/json','x-vendor-id':_0x326710},'body':JSON['stringify']({'input':_0x1ac472,'model':_0x210f75['id']})}),_0x1417a8=(await _0x4739aa['json']())[_0x2dc286(0x9b8)][0x0]['embedding'];await _0x59d769['trace']({'jobType':_0x58c5b6['Retrieve'],'type':_0x42fc4a[_0x2dc286(0x277)],'jobId':_0xed9579,'threadId':_0x2e25d7,'blockId':_0x365ca1['id'],'traceLevel':_0x1bdf60[_0x2dc286(0x690)],'startTime':_0x55c84e,'timestamp':Date[_0x2dc286(0x3fe)](),'status':_0x2dc286(0xae9),'modelName':_0x210f75['id'],'content':_0x1ac472,'totalVectors':_0x1417a8[_0x2dc286(0x878)]}),await _0x49ee25(_0x326710,_0xed9579,_0x2e25d7,_0x1417a8,_0x573f78,_0x365ca1,_0x409c4d,_0x1a170a);}(_0x2e6566,_0x33105f,_0x998dcf,_0x19b3c3,_0x3d1e31,_0x1032bc,_0x2ff5ef,_0x57cf48,_0xa4bc2e);}}async function _0x138563(_0x2fabf6,_0x3851b4,_0x598e76,_0x462640,_0xc798c,_0xa1cb61,_0x1c402c,_0x3d941a){const _0x3a5da8=_0x3149ab,_0x378f59=Date[_0x3a5da8(0x3fe)]();if(_0xa1cb61[_0x3a5da8(0xaa3)]||(_0xa1cb61[_0x3a5da8(0xaa3)]={}),_0x462640 instanceof Array?(_0xa1cb61[_0x3a5da8(0xaa3)][_0x3a5da8(0x604)]||(_0xa1cb61[_0x3a5da8(0xaa3)][_0x3a5da8(0x604)]=[]),_0xa1cb61['accumulated']['results'][_0x3a5da8(0x7e8)](..._0x462640)):_0xa1cb61[_0x3a5da8(0xaa3)]['prompt']=_0x462640,_0xa1cb61['timesCalled']=_0xa1cb61[_0x3a5da8(0x53d)]?_0xa1cb61[_0x3a5da8(0x53d)]+0x1:0x1,_0x3e8d38(_0xa1cb61,_0x1c402c[_0x3a5da8(0x2a1)])>_0xa1cb61[_0x3a5da8(0x53d)])return;if(!_0xa1cb61[_0x3a5da8(0xaa3)][_0x3a5da8(0xa0b)]||!_0xa1cb61[_0x3a5da8(0xaa3)][_0x3a5da8(0x604)])throw new Error(_0x3a5da8(0x8c4));for(const _0x4777e3 of _0xa1cb61[_0x3a5da8(0xaa3)][_0x3a5da8(0x604)])_0x4777e3[_0x3a5da8(0x846)]=await _0x3d941a[_0x3a5da8(0x1de)][_0x3a5da8(0x307)](_0xa1cb61[_0x3a5da8(0xaa3)][_0x3a5da8(0xa0b)],_0x4777e3[_0x3a5da8(0x130)]);const _0x5dcf8a=_0xa1cb61[_0x3a5da8(0xaa3)][_0x3a5da8(0x604)]['filter'](_0x3d86a=>_0x3d86a['relevance']>_0xa1cb61[_0x3a5da8(0x1d6)][_0x3a5da8(0x9e4)])[_0x3a5da8(0x69d)]((_0x41b4dc,_0x3b3398)=>_0x3b3398[_0x3a5da8(0x846)]-_0x41b4dc[_0x3a5da8(0x846)])[_0x3a5da8(0x83b)](0x0,_0xa1cb61[_0x3a5da8(0x1d6)]['topK']);await _0x59d769[_0x3a5da8(0x70e)]({'jobType':_0x58c5b6[_0x3a5da8(0x2e7)],'type':_0x42fc4a[_0x3a5da8(0x7d9)],'jobId':_0x3851b4,'threadId':_0x598e76,'blockId':_0xa1cb61['id'],'traceLevel':_0x1bdf60[_0x3a5da8(0x690)],'startTime':_0x378f59,'timestamp':Date[_0x3a5da8(0x3fe)](),'status':_0x3a5da8(0xae9),'inputResults':_0xa1cb61['accumulated'][_0x3a5da8(0x604)],'rerankedResults':_0x5dcf8a}),await _0x49ee25(_0x2fabf6,_0x3851b4,_0x598e76,_0x5dcf8a,_0xc798c,_0xa1cb61,_0x1c402c,_0x3d941a);}async function _0x46371f(_0x1e68f7,_0x4cf9f1,_0x5486c9,_0x5e6b2c,_0x544f60,_0x9b1a19,_0x558560,_0x249093){const _0xf9626d=_0x3149ab,_0x4a270c=Date[_0xf9626d(0x3fe)]();if(_0x9b1a19[_0xf9626d(0xaa3)]||(_0x9b1a19[_0xf9626d(0xaa3)]={}),_0x5e6b2c instanceof Array?_0x9b1a19[_0xf9626d(0xaa3)][_0xf9626d(0x824)]=_0x5e6b2c:_0x9b1a19[_0xf9626d(0xaa3)][_0xf9626d(0x130)]=_0x5e6b2c,_0x9b1a19['timesCalled']=_0x9b1a19['timesCalled']?_0x9b1a19[_0xf9626d(0x53d)]+0x1:0x1,!(_0x3e8d38(_0x9b1a19,_0x558560[_0xf9626d(0x2a1)])>_0x9b1a19[_0xf9626d(0x53d)])){if(_0xf9626d(0x32f)===_0x9b1a19['id']){if(!_0x9b1a19[_0xf9626d(0xaa3)][_0xf9626d(0x824)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');if(!_0x249093[_0xf9626d(0x46d)])throw new Error(_0xf9626d(0x9f2));const _0x449db1=_0x5be415(_0x1e68f7,_0x558560);let _0x2ee41b=await _0x249093[_0xf9626d(0x46d)]?.[_0xf9626d(0x2c7)](_0x449db1,_0x558560['id'],_0x9b1a19[_0xf9626d(0xaa3)]['vector'],_0x9b1a19[_0xf9626d(0x1d6)][_0xf9626d(0x8e7)]);_0x2ee41b=_0x2ee41b[_0xf9626d(0x683)](_0x337485=>_0x337485[_0xf9626d(0x846)]>_0x9b1a19[_0xf9626d(0x1d6)][_0xf9626d(0x9e4)])||[];const _0x16c31c=[];for(const _0x58c869 of _0x2ee41b){if(!_0x249093[_0xf9626d(0x1c2)])throw new Error(_0xf9626d(0x684));if(void 0x0===_0x58c869[_0xf9626d(0xa08)]||void 0x0===_0x58c869[_0xf9626d(0x878)])throw new Error('Missing\x20index');const _0x2f0b06=await _0x249093[_0xf9626d(0x1c2)][_0xf9626d(0x524)](_0x58c869[_0xf9626d(0x4dd)]);let _0x5407a9='';if(_0x2f0b06[_0xf9626d(0x16c)][_0xf9626d(0xa2f)]('text/')||_0xa3600(_0x2f0b06['name'],_0x2a96fb))_0x5407a9=await _0x2f0b06[_0xf9626d(0xa7a)]();else{if(!_0x249093['documentParserConnector'][_0xf9626d(0x811)](_0x2f0b06))throw new Error(_0xf9626d(0x49f)+_0x2f0b06[_0xf9626d(0x16c)]+'\x20-\x20'+_0x2f0b06[_0xf9626d(0x662)]);_0x5407a9=await _0x249093['documentParserConnector'][_0xf9626d(0x39a)](_0x2f0b06);}_0x16c31c[_0xf9626d(0x7e8)]({'pathName':_0x58c869['pathName'],'content':_0x5407a9[_0xf9626d(0x170)](_0x58c869[_0xf9626d(0xa08)],_0x58c869['start']+_0x58c869['length']),'relevance':_0x58c869[_0xf9626d(0x846)]});}await _0x49ee25(_0x1e68f7,_0x4cf9f1,_0x5486c9,_0x16c31c,_0x544f60,_0x9b1a19,_0x558560,_0x249093);}else{if(!_0x9b1a19[_0xf9626d(0xaa3)][_0xf9626d(0x824)]||!_0x9b1a19[_0xf9626d(0xaa3)][_0xf9626d(0x130)])throw new Error(_0xf9626d(0x24b));const _0x349889=await _0x249093[_0xf9626d(0x1de)][_0xf9626d(0x3d2)](_0x9b1a19[_0xf9626d(0xaa3)][_0xf9626d(0x130)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x48a22d=_0x249093[_0xf9626d(0x6e7)][_0xf9626d(0x267)](_0x9b1a19['id'])[_0xf9626d(0x5e9)](_0x349889,_0x9b1a19['accumulated']['vector'],_0x9b1a19[_0xf9626d(0x1d6)][_0xf9626d(0x8e7)],_0x9b1a19[_0xf9626d(0x1d6)]['minRelevance'],_0x9b1a19['attributes'][_0xf9626d(0x4ac)]);await _0x59d769[_0xf9626d(0x70e)]({'jobType':_0x58c5b6[_0xf9626d(0x2e7)],'type':_0x42fc4a[_0xf9626d(0x8bb)],'jobId':_0x4cf9f1,'threadId':_0x5486c9,'blockId':_0x9b1a19['id'],'traceLevel':_0x1bdf60[_0xf9626d(0x690)],'startTime':_0x4a270c,'timestamp':Date['now'](),'status':_0xf9626d(0xae9),'topResults':_0x48a22d,'numResults':_0x48a22d[_0xf9626d(0x878)]}),await _0x49ee25(_0x1e68f7,_0x4cf9f1,_0x5486c9,_0x48a22d,_0x544f60,_0x9b1a19,_0x558560,_0x249093);}}}async function _0x49ee25(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x20345a,_0x5bbc9c,_0x3d877d){const _0x50a9d3=_0x3149ab;for(const _0x2b78f5 of _0x20345a['links']||[]){const _0x3fb8f4=_0x5bbc9c['retrieveBlocks'][_0x50a9d3(0x8e4)](_0x141dc5=>_0x141dc5['uid']===_0x2b78f5[_0x50a9d3(0x232)]);if(_0x3fb8f4)switch(_0x3fb8f4['type']){case _0x2a2e74[_0x50a9d3(0x188)]:_0x2b78f5['type']===_0x4b98fc[_0x50a9d3(0x4d4)]&&_0x4a4daa instanceof Array&&_0x2ea3ee[_0x50a9d3(0x32b)]['push'](..._0x4a4daa);break;case _0x2a2e74[_0x50a9d3(0x8c3)]:if(_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc['Text']&&_0x50a9d3(0x657)==typeof _0x4a4daa){if(!_0x5bbc9c[_0x50a9d3(0x549)])throw new Error('Model\x20ID\x20is\x20required\x20for\x20Embed\x20block');const _0xdbe9b1={'type':_0x2a2e74['Model'],'id':_0x5bbc9c[_0x50a9d3(0x549)],'uid':(0x0,_0x19ce97['v4'])(),'links':_0x3fb8f4['links']};await _0x536bcf(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0xdbe9b1,_0x5bbc9c,_0x3d877d);}break;case _0x2a2e74[_0x50a9d3(0x11e)]:_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x6a6)]&&_0x50a9d3(0x657)==typeof _0x4a4daa&&await _0x3bf4ac(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d),_0x2b78f5['type']===_0x4b98fc[_0x50a9d3(0x4d4)]&&_0x4a4daa instanceof Array&&await _0x3bf4ac(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d);break;case _0x2a2e74[_0x50a9d3(0x22d)]:_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x6a6)]&&_0x50a9d3(0x657)==typeof _0x4a4daa&&await _0x1d32d7(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d),_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x4d4)]&&_0x4a4daa instanceof Array&&await _0x1d32d7(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d),_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x3f7)]&&_0x4a4daa instanceof Set&&await _0x1d32d7(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d);break;case _0x2a2e74['Model']:_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x6a6)]&&'string'==typeof _0x4a4daa&&await _0x536bcf(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d),_0x2b78f5['type']===_0x4b98fc[_0x50a9d3(0x4d4)]&&_0x4a4daa instanceof Array&&await _0x536bcf(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d);break;case _0x2a2e74[_0x50a9d3(0x7d9)]:_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc['Text']&&_0x50a9d3(0x657)==typeof _0x4a4daa&&await _0x138563(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d),_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x4d4)]&&_0x4a4daa instanceof Array&&await _0x138563(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d);break;case _0x2a2e74['VectorDatabase']:_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x6a6)]&&'string'==typeof _0x4a4daa&&await _0x46371f(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d),_0x2b78f5[_0x50a9d3(0x16c)]===_0x4b98fc[_0x50a9d3(0x371)]&&_0x4a4daa instanceof Array&&await _0x46371f(_0x5209a1,_0x38742d,_0x4b6cf6,_0x4a4daa,_0x2ea3ee,_0x3fb8f4,_0x5bbc9c,_0x3d877d);}}}function _0x3e8d38(_0x49e89b,_0x11b9ea){const _0x452d42=_0x3149ab;return _0x11b9ea[_0x452d42(0x683)](_0x22f5a7=>_0x22f5a7[_0x452d42(0x342)]?.[_0x452d42(0x3da)](_0x213bef=>_0x213bef[_0x452d42(0x232)]===_0x49e89b[_0x452d42(0x232)]))[_0x452d42(0x878)];}class _0x239f79 extends _0x19675e{[_0x3149ab(0x6e7)];[_0x3149ab(0x8e5)];['objectStoreConnector'];[_0x3149ab(0x447)];[_0x3149ab(0x204)];[_0x3149ab(0x1de)];[_0x3149ab(0x6ed)];[_0x3149ab(0x927)];[_0x3149ab(0x7bc)];['ragConnectors'];['openAIKey'];[_0x3149ab(0x65e)]=new Map();[_0x3149ab(0x1a3)]=new Map();[_0x3149ab(0x264)];[_0x3149ab(0x273)]=0x0;[_0x3149ab(0x926)]=0x0;[_0x3149ab(0x942)]=!0x1;constructor(_0x6f8600,_0x167c58,_0x566ee4,_0x31fa5f,_0x2049f9,_0x21a372,_0x79b4ea,_0x42b93f,_0x1dba20,_0x58ca4e,_0x3bf83f,_0x8dcbf8,_0x683350,_0x24542d){const _0x5b4a35=_0x3149ab;super(_0x6f8600,_0x167c58,_0x566ee4),this[_0x5b4a35(0x6e7)]=_0x31fa5f,this[_0x5b4a35(0x8e5)]=_0x2049f9,this[_0x5b4a35(0x1c2)]=_0x21a372,this['documentParserConnector']=_0x79b4ea,this[_0x5b4a35(0x204)]=_0x42b93f,this['nlpLibraryConnector']=_0x1dba20,this[_0x5b4a35(0x6ed)]=_0x58ca4e,this[_0x5b4a35(0x927)]=_0x3bf83f,this[_0x5b4a35(0x7bc)]=_0x8dcbf8,this[_0x5b4a35(0xac6)]=_0x683350,this['openAIKey']=_0x24542d;}async[_0x3149ab(0x2cb)](){const _0xe63437=_0x3149ab;for(const _0x380550 of this[_0xe63437(0x8e5)])await _0x380550[_0xe63437(0x11b)]();this[_0xe63437(0x65e)][_0xe63437(0x1d0)](_0x38f750=>_0x38f750[_0xe63437(0x3e9)](this[_0xe63437(0x3a4)])),this[_0xe63437(0x264)]&&(clearTimeout(this[_0xe63437(0x264)]),delete this[_0xe63437(0x264)]),super['destroy']();}async[_0x3149ab(0x2d5)](_0x4b4423=!0x1){const _0x12ede6=_0x3149ab;if(this[_0x12ede6(0x942)])super[_0x12ede6(0x2d5)]();else{_0x5b2279[_0x12ede6(0x7b6)](_0x12ede6(0x600),this['label']),this[_0x12ede6(0x1a3)]['set'](_0x12ede6(0x98d),{'id':_0x12ede6(0x98d),'engineType':_0x3a4c7c['GenerativeAIEngineType'][_0x12ede6(0x916)],'taskType':_0x3a4c7c['GenerativeAITaskType'][_0x12ede6(0x112)],'inputType':_0x3a4c7c['GenerativeAIModelInputType'][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c['GenerativeAIModelOutputType']['Vector'],'sourceUrl':_0x12ede6(0x33e)}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)](_0x12ede6(0x4f1),{'id':_0x12ede6(0x4f1),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0xa02)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x112)],'inputType':_0x3a4c7c[_0x12ede6(0x934)][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x371)],'sourceUrl':''}),this['models']['set'](_0x12ede6(0x99f),{'id':_0x12ede6(0x99f),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0xa02)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x112)],'inputType':_0x3a4c7c[_0x12ede6(0x934)][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)]['Vector'],'sourceUrl':''}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)](_0x12ede6(0x1ff),{'id':_0x12ede6(0x1ff),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0x916)],'taskType':_0x3a4c7c['GenerativeAITaskType']['TextGeneration'],'inputType':_0x3a4c7c[_0x12ede6(0x934)][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':_0x12ede6(0x9e8),'sourceUrl':_0x12ede6(0x41c)}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)](_0x12ede6(0x81c),{'id':_0x12ede6(0x81c),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)]['Llamacpp'],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c[_0x12ede6(0x934)][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':_0x12ede6(0x9e8),'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)]('phi-4-14b',{'id':_0x12ede6(0x4fd),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0x916)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c[_0x12ede6(0x934)]['Text'],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':'June\x202024','sourceUrl':_0x12ede6(0xa1d)}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)](_0x12ede6(0x7a9),{'id':_0x12ede6(0x7a9),'engineType':_0x3a4c7c['GenerativeAIEngineType'][_0x12ede6(0xa02)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c[_0x12ede6(0x934)][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':_0x12ede6(0x7d3),'sourceUrl':''}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)](_0x12ede6(0x5c2),{'id':'gpt-4o-mini','engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0xa02)],'taskType':_0x3a4c7c['GenerativeAITaskType'][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c['GenerativeAIModelInputType'][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)]['Text'],'knowledgeCutoffDate':_0x12ede6(0x7d3),'sourceUrl':''}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)]('o1',{'id':'o1','engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0xa02)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)]['TextGeneration'],'inputType':_0x3a4c7c[_0x12ede6(0x934)][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}),this[_0x12ede6(0x1a3)]['set'](_0x12ede6(0x3cf),{'id':_0x12ede6(0x3cf),'engineType':_0x3a4c7c['GenerativeAIEngineType'][_0x12ede6(0xa02)],'taskType':_0x3a4c7c['GenerativeAITaskType']['TextGeneration'],'inputType':_0x3a4c7c[_0x12ede6(0x934)][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)]['Text'],'knowledgeCutoffDate':_0x12ede6(0x7d3),'sourceUrl':''}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)]('claude-3-7-sonnet-latest',{'id':_0x12ede6(0x1df),'engineType':_0x3a4c7c['GenerativeAIEngineType'][_0x12ede6(0x9dd)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c[_0x12ede6(0x934)]['Text'],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':'November\x202024','sourceUrl':''}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)]('claude-3-5-haiku-latest',{'id':_0x12ede6(0x1b1),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0x9dd)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c['GenerativeAIModelInputType'][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':_0x12ede6(0xa5e),'sourceUrl':''}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)](_0x12ede6(0x5f1),{'id':_0x12ede6(0x5f1),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0x9dd)],'taskType':_0x3a4c7c['GenerativeAITaskType'][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c['GenerativeAIModelInputType'][_0x12ede6(0x6a6)],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':_0x12ede6(0x8a6),'sourceUrl':''}),this[_0x12ede6(0x1a3)][_0x12ede6(0x491)](_0x12ede6(0xa2e),{'id':_0x12ede6(0xa2e),'engineType':_0x3a4c7c[_0x12ede6(0x5b5)][_0x12ede6(0x9dd)],'taskType':_0x3a4c7c[_0x12ede6(0x16d)][_0x12ede6(0x2cc)],'inputType':_0x3a4c7c['GenerativeAIModelInputType']['Text'],'outputType':_0x3a4c7c[_0x12ede6(0x468)][_0x12ede6(0x6a6)],'knowledgeCutoffDate':_0x12ede6(0x5cc),'sourceUrl':''});try{for(const _0x435de6 of this[_0x12ede6(0x8e5)])await _0x435de6[_0x12ede6(0x481)](this[_0x12ede6(0x3a4)],this['models']);}catch(_0x4051e1){return this[_0x12ede6(0x2d5)](_0x4b4423);}this[_0x12ede6(0x942)]=!0x0,this[_0x12ede6(0x39c)](),super[_0x12ede6(0x2d5)](),_0x5b2279['forceLog'](_0x12ede6(0x8d4),this[_0x12ede6(0x3a4)]);}}[_0x3149ab(0x626)](){const _0xadebad=_0x3149ab;this[_0xadebad(0x273)]=0x0,this[_0xadebad(0x926)]=0x0,this['sendStats'](),super[_0xadebad(0x626)]();}[_0x3149ab(0x8d3)](){const _0x31500f=_0x3149ab;return this[_0x31500f(0x39c)](),this[_0x31500f(0x67b)]();}[_0x3149ab(0x43a)](_0x1ca407,_0x1a0a9f,_0x450a8f){const _0xd32899=_0x3149ab,{outputTokens:_0x27b3e0=0x0,output:_0x170ac2=''}=_0x1ca407,_0x31a320=_0x27b3e0/((_0x450a8f-_0x1a0a9f)/0x3e8);this[_0xd32899(0x273)]+=0x1,this[_0xd32899(0x926)]+=_0x27b3e0,this[_0xd32899(0x995)](_0x31a320,_0x27b3e0),this[_0xd32899(0x39c)]();}[_0x3149ab(0x71e)](_0x59d984,_0xdd3005){const _0xd8eeb4=_0x3149ab;return _0x59d984['output']=_0x59d984[_0xd8eeb4(0x949)]??'',{'type':_0xd8eeb4(0xa0b),'output':'string'==typeof _0x59d984[_0xd8eeb4(0x949)]&&_0xd8eeb4(0x657)==typeof _0xdd3005[_0xd8eeb4(0x949)]?_0x59d984['output']+_0xdd3005[_0xd8eeb4(0x949)]:_0xdd3005[_0xd8eeb4(0x949)],'outputTokens':_0xdd3005[_0xd8eeb4(0x206)]??_0x59d984[_0xd8eeb4(0x206)],'inputTokens':_0xdd3005[_0xd8eeb4(0x4f7)]??_0x59d984[_0xd8eeb4(0x4f7)]};}async['internalProcessJob'](_0x2cbdd5,_0xc64ecd){const _0x4867f8=_0x3149ab;if('prompt'===_0xc64ecd[_0x4867f8(0x16c)]){const _0x18abb3=await _0x1888a1[_0x4867f8(0x883)](_0xc64ecd[_0x4867f8(0x164)],_0xc64ecd['workflowId']),_0x63aac5=_0x18abb3[_0x4867f8(0x301)]['find'](_0x5202aa=>_0x5202aa[_0x4867f8(0x16c)]===_0x557158[_0x4867f8(0x61d)]),_0x13a5f3=await async function(_0x4e7fdc,_0x12cf04,_0x2bdb52,_0x40a93e,_0x24a806){const _0x5b0ca0=_0x4867f8,_0x20be6b=_0x12cf04[_0x5b0ca0(0x154)]??(0x0,_0x19ce97['v4'])(),_0x2f2f6d=Date['now']();await _0x59d769['trace']({'jobType':_0x58c5b6[_0x5b0ca0(0x5ba)],'type':_0x196bee['InitialPrompt'],'jobId':_0x4e7fdc,'blockId':_0x2bdb52['id'],'agentId':_0x20be6b,'threadId':_0x12cf04['threadId'],'traceLevel':_0x1bdf60[_0x5b0ca0(0x944)],'startTime':Date[_0x5b0ca0(0x3fe)](),'timestamp':Date['now'](),'status':'success','initialPrompt':_0x12cf04[_0x5b0ca0(0xa0b)]});const _0x3521e9={'type':_0x5b0ca0(0xa0b),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x12cf04['internalContext']&&(_0x3521e9['internalContext']=_0x12cf04['internalContext']),await _0x4da6ae(_0x12cf04,_0x3521e9,_0x2bdb52,_0x40a93e,_0x24a806),await _0x15fb28(_0x4e7fdc,''+_0x12cf04[_0x5b0ca0(0xa0b)],_0x12cf04,_0x3521e9,_0x2bdb52,_0x40a93e,_0x24a806);const {inputTokens:_0x420c11=0x0,outputTokens:_0xe297df=0x0,context:_0x468bac=[]}=_0x3521e9;await _0x59d769[_0x5b0ca0(0x70e)]({'jobType':_0x58c5b6[_0x5b0ca0(0x5ba)],'type':_0x196bee[_0x5b0ca0(0x5aa)],'jobId':_0x4e7fdc,'agentId':_0x20be6b,'threadId':_0x12cf04[_0x5b0ca0(0xaaf)],'traceLevel':_0x1bdf60[_0x5b0ca0(0x944)],'startTime':_0x2f2f6d,'timestamp':Date[_0x5b0ca0(0x3fe)](),'blockId':_0x2bdb52['id'],'status':'success','output':_0x3521e9[_0x5b0ca0(0x949)]?.[_0x5b0ca0(0x50d)]()??'','prompt':_0x12cf04[_0x5b0ca0(0xa0b)],'agentName':'','history':_0x12cf04[_0x5b0ca0(0x233)]??[],'instructions':''+(_0x12cf04['instructions']??''),'ragContext':_0x468bac,'inputTokens':_0x420c11,'outputTokens':_0xe297df});const _0x2eca61=_0x40a93e[_0x5b0ca0(0x8e4)](_0xfb6409=>_0xfb6409[_0x5b0ca0(0x16c)]===_0x557158[_0x5b0ca0(0xa38)]);return{'type':_0x5b0ca0(0xa0b),'output':_0x3521e9[_0x5b0ca0(0x949)],'context':_0x3521e9['context'],'internalContext':_0x3521e9[_0x5b0ca0(0x111)],'resultFile':await _0x2eca61?.['accumulated']?.[_0x5b0ca0(0x543)]?.[_0x5b0ca0(0xa7a)]()??void 0x0,'inputTokens':_0x3521e9[_0x5b0ca0(0x4f7)]??0x0,'outputTokens':_0x3521e9['outputTokens']??0x0};}(_0xc64ecd[_0x4867f8(0x28c)]??_0x2cbdd5,_0xc64ecd,_0x63aac5,_0x18abb3['blocks'],{'documentParserConnector':this[_0x4867f8(0x447)],'fileConnector':this[_0x4867f8(0x204)],'nlpLibraryConnector':this[_0x4867f8(0x1de)],'generativeAIWorkerConnectors':this[_0x4867f8(0x8e5)],'models':Array['from'](this['models'][_0x4867f8(0x6da)]()),'contentMediator':this[_0x4867f8(0x6e7)],'searchConnector':this[_0x4867f8(0x6ed)],'aiSearchConnector':this[_0x4867f8(0x927)],'queryFileConnector':this[_0x4867f8(0x7bc)]});return _0x13a5f3;}if(_0x4867f8(0x40b)===_0xc64ecd[_0x4867f8(0x16c)])return await async function(_0x25b4a8,_0xef6236){const _0x1fedf0=_0x4867f8,_0x5c9615=await async function(_0x448498,_0x447649){const _0x2c65c8=a0_0x38d9,_0x3f89bb=_0x447649[_0x2c65c8(0x1a3)][_0x2c65c8(0x8e4)](_0x1cc3e1=>_0x1cc3e1['id']===_0x448498[_0x2c65c8(0x903)]);if(!_0x3f89bb)throw new Error('Model\x20not\x20found');const _0x29193a=_0x447649[_0x2c65c8(0x8e5)][_0x2c65c8(0x8e4)](_0x42d018=>_0x42d018[_0x2c65c8(0x6b4)]()===_0x3f89bb['engineType']);if(!_0x29193a)throw new Error('No\x20connector\x20found\x20for\x20model');return _0x29193a['processJob']({'type':_0x2c65c8(0xa0b),'prompt':_0x448498['text'],'threadId':_0x448498['threadId']},{'model':_0x3f89bb,'sequences':0x1});}(_0x25b4a8,_0xef6236);return{'type':'prompt','output':_0x5c9615[_0x1fedf0(0x949)],'inputTokens':_0x5c9615[_0x1fedf0(0x4f7)]??0x0,'outputTokens':_0x5c9615['outputTokens']??0x0};}(_0xc64ecd,{'documentParserConnector':this[_0x4867f8(0x447)],'fileConnector':this[_0x4867f8(0x204)],'nlpLibraryConnector':this[_0x4867f8(0x1de)],'generativeAIWorkerConnectors':this[_0x4867f8(0x8e5)],'models':Array[_0x4867f8(0x271)](this['models'][_0x4867f8(0x6da)]()),'contentMediator':this[_0x4867f8(0x6e7)],'searchConnector':this[_0x4867f8(0x6ed)],'aiSearchConnector':this[_0x4867f8(0x927)],'queryFileConnector':this[_0x4867f8(0x7bc)]});if(_0x4867f8(0x1a9)===_0xc64ecd['type'])return await async function(_0x11ff14,_0x10b924,_0x73a3c8){const _0x2b4324=_0x4867f8,_0xbc077b=_0x10b924[_0x2b4324(0x154)]??(0x0,_0x19ce97['v4'])(),_0x3a9d4b={'type':_0x2b4324(0xa0b),'context':[],'internalContext':_0x10b924['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0xe4ac7f=await async function(_0x884b0f,_0x26cc44,_0x4f45c2,_0xe1eea1,_0x285854){const _0x359b05=_0x2b4324,_0x20ecb9=_0x285854['models'][_0x359b05(0x8e4)](_0x381729=>_0x381729['id']===_0x4f45c2[_0x359b05(0x903)]);if(!_0x20ecb9)throw new Error(_0x359b05(0x85a));const _0x4cf4fc=_0x285854[_0x359b05(0x8e5)][_0x359b05(0x8e4)](_0x43faa9=>_0x43faa9['getEngineType']()===_0x20ecb9[_0x359b05(0x614)]);if(!_0x4cf4fc)throw new Error(_0x359b05(0x496));const _0xcee0ef=await _0x5d47e0(_0x884b0f,_0x26cc44,_0x4f45c2,_0xe1eea1,_0x4f45c2['tools']??[],_0x285854);return _0x4cf4fc[_0x359b05(0x3f5)]({'type':_0x359b05(0xa0b),'prompt':_0x4f45c2[_0x359b05(0xa0b)],'instructions':_0x4f45c2[_0x359b05(0x381)],'reasoning':_0x4f45c2[_0x359b05(0x299)],'grammar':_0x4f45c2[_0x359b05(0x875)],'temperature':_0x4f45c2[_0x359b05(0x9d3)],'maxTokens':_0x4f45c2['maxTokens'],'history':_0x4f45c2[_0x359b05(0x233)],'functions':_0xcee0ef,'threadId':_0x4f45c2[_0x359b05(0xaaf)]},{'model':_0x20ecb9,'sequences':Array[_0x359b05(0x271)](_0xcee0ef[_0x359b05(0x6d7)]())[_0x359b05(0x3da)](_0x547462=>_0x547462[_0x359b05(0xa2f)]('executeAgent'))?0x2:0x1});}(_0x11ff14,_0xbc077b,_0x10b924,_0x3a9d4b,_0x73a3c8);return{'type':_0x2b4324(0xa0b),'output':_0xe4ac7f[_0x2b4324(0x949)],'context':_0x3a9d4b[_0x2b4324(0x32b)],'internalContext':_0x3a9d4b['internalContext']??{},'inputTokens':_0xe4ac7f[_0x2b4324(0x4f7)]??0x0,'outputTokens':_0xe4ac7f['outputTokens']??0x0};}(_0xc64ecd[_0x4867f8(0x28c)]??_0x2cbdd5,_0xc64ecd,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x4867f8(0x204)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4867f8(0x8e5)],'models':Array['from'](this['models'][_0x4867f8(0x6da)]()),'contentMediator':this[_0x4867f8(0x6e7)],'searchConnector':this[_0x4867f8(0x6ed)],'aiSearchConnector':this[_0x4867f8(0x927)],'queryFileConnector':this[_0x4867f8(0x7bc)]});if(_0x4867f8(0x554)===_0xc64ecd['type'])return await _0x59d769[_0x4867f8(0x70e)]({'jobType':_0x58c5b6[_0x4867f8(0x71d)],'type':_0x4af5e4['PromptRating'],'jobId':_0xc64ecd[_0x4867f8(0x28c)],'threadId':_0xc64ecd[_0x4867f8(0xaaf)],'traceLevel':_0x1bdf60[_0x4867f8(0x944)],'startTime':Date[_0x4867f8(0x3fe)](),'timestamp':Date[_0x4867f8(0x3fe)](),'status':_0x4867f8(0xae9),'rating':_0xc64ecd[_0x4867f8(0x53b)],'feedback':_0xc64ecd[_0x4867f8(0x7c7)]}),{'type':_0x4867f8(0x554),'status':_0x3a4c7c[_0x4867f8(0x234)][_0x4867f8(0x5bb)]};if('tool-call'===_0xc64ecd[_0x4867f8(0x16c)]){const _0x1384b1=await async function(_0x396c73,_0xce36eb){const _0x9aec85=_0x4867f8;let _0x357977='',_0x5d8048={'type':'prompt','internalContext':_0x396c73[_0x9aec85(0x111)]??{}};switch(_0x396c73['tool'][_0x9aec85(0x16c)]){case _0x3a4c7c[_0x9aec85(0x6a2)]['Agent']:case _0x3a4c7c[_0x9aec85(0x6a2)][_0x9aec85(0x7b2)]:_0x357977=await _0x3775d8(_0x396c73[_0x9aec85(0x164)],_0x396c73['tool'],_0xce36eb,_0x396c73[_0x9aec85(0x446)],_0x5d8048);break;case _0x3a4c7c[_0x9aec85(0x6a2)][_0x9aec85(0x2ab)]:_0x357977=await _0x2b3e10(_0x396c73[_0x9aec85(0x4c1)],_0xce36eb,_0x396c73[_0x9aec85(0x446)]);break;case _0x3a4c7c[_0x9aec85(0x6a2)][_0x9aec85(0xab9)]:_0x357977=await _0x2090fb(_0x396c73[_0x9aec85(0x446)]);break;case _0x3a4c7c[_0x9aec85(0x6a2)][_0x9aec85(0x582)]:case _0x3a4c7c[_0x9aec85(0x6a2)]['Knowledge']:_0x357977=await _0x400974(_0x396c73[_0x9aec85(0x164)],_0x396c73[_0x9aec85(0x4c1)],_0x396c73[_0x9aec85(0x446)],_0x5d8048);break;case _0x3a4c7c[_0x9aec85(0x6a2)]['CustomSkill']:_0x357977=await _0x434c55(_0x396c73[_0x9aec85(0x4c1)],_0x396c73['arguments'],_0x5d8048);break;case _0x3a4c7c['GenerativeAIInferenceToolType']['WebScraper']:_0x357977=await _0x5e8cec(_0x396c73[_0x9aec85(0x446)]);break;case _0x3a4c7c[_0x9aec85(0x6a2)][_0x9aec85(0x426)]:_0x357977=await _0x5e8cec(_0x396c73['arguments'],!0x1);break;case _0x3a4c7c[_0x9aec85(0x6a2)][_0x9aec85(0x4d4)]:_0x357977=await _0x202c23(_0xce36eb,_0x396c73[_0x9aec85(0x446)]);break;case _0x3a4c7c[_0x9aec85(0x6a2)]['FormSkillGetQuestion']:_0x357977=await _0x46a137(_0x396c73[_0x9aec85(0x4c1)],_0x5d8048);break;case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x9aec85(0x631)]:_0x357977=await _0x14c043(_0x396c73[_0x9aec85(0x4c1)],_0x396c73[_0x9aec85(0x446)],_0x5d8048);break;case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x9aec85(0x13f)]:_0x357977=await _0x5873bb(_0x396c73[_0x9aec85(0x4c1)],_0x5d8048);break;case _0x3a4c7c[_0x9aec85(0x6a2)][_0x9aec85(0x48c)]:_0x396c73[_0x9aec85(0x4c1)][_0x9aec85(0x153)]?_0x357977=await _0x50691f(_0x396c73['vendorId'],_0x396c73['tool'],_0x396c73[_0x9aec85(0x446)],_0x5d8048):(_0x50691f(_0x396c73['vendorId'],_0x396c73[_0x9aec85(0x4c1)],_0x396c73[_0x9aec85(0x446)],_0x5d8048),_0x357977=_0x9aec85(0x4e6));}return{'type':_0x9aec85(0x1e6),'output':_0x357977,'internalContext':_0x5d8048[_0x9aec85(0x111)]??{}};}(_0xc64ecd,{'documentParserConnector':this[_0x4867f8(0x447)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4867f8(0x8e5)],'models':Array[_0x4867f8(0x271)](this['models'][_0x4867f8(0x6da)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x4867f8(0x927)],'queryFileConnector':this[_0x4867f8(0x7bc)]});return _0x1384b1;}if(_0x4867f8(0x396)===_0xc64ecd['type']){const _0x2a248c=await _0x1888a1['getWorkflow'](_0xc64ecd[_0x4867f8(0x164)],_0xc64ecd['workflowId']),_0x1fa1a6=_0x2a248c['blocks'][_0x4867f8(0x8e4)](_0x4e173f=>_0x4e173f['type']===_0x557158[_0x4867f8(0x1cb)]),_0x10f9b8=_0x2a248c[_0x4867f8(0x301)][_0x4867f8(0x683)](_0x5ba9b3=>_0x5ba9b3[_0x4867f8(0x342)]?.[_0x4867f8(0x3da)](_0x57d160=>_0x57d160[_0x4867f8(0x16c)]===_0x4b98fc[_0x4867f8(0x872)]&&_0x57d160['uid']===_0x1fa1a6[_0x4867f8(0x232)]))[_0x4867f8(0x287)](_0x73d5cd=>_0x4f1d27(_0x73d5cd,_0x2a248c['blocks']));return{'type':_0x4867f8(0x396),'apiKey':this[_0x4867f8(0x8bf)],'modelId':_0x1fa1a6[_0x4867f8(0x549)],'instructions':_0x1fa1a6[_0x4867f8(0x381)],'temperature':_0x1fa1a6[_0x4867f8(0x9d3)],'maxTokens':_0x1fa1a6[_0x4867f8(0x686)],'initialPrompt':_0x2a248c['initialPrompt'],'tools':_0x10f9b8['map'](_0x574dc4=>({..._0x574dc4,'name':this[_0x4867f8(0x104)](_0x574dc4),'description':this[_0x4867f8(0x419)](_0x574dc4),'parameters':this['getToolParams'](_0x574dc4)}))};}if(_0x4867f8(0xab3)===_0xc64ecd[_0x4867f8(0x16c)]){const {vendorId:_0x581a53,collectionId:_0x4161c3,fileId:_0x89de26}=_0xc64ecd,_0xf4c4a1=await _0x1888a1[_0x4867f8(0xad2)](_0x581a53,_0x4161c3),_0x19da1f=this[_0x4867f8(0xac6)]?.[_0x4867f8(0x524)](_0xf4c4a1[_0x4867f8(0x955)]);if(!_0x19da1f)throw new Error(_0x4867f8(0x387));const _0x3fc641=_0x5be415(_0x581a53,_0xf4c4a1);if(_0xf4c4a1[_0x4867f8(0x955)]===_0x3a4c7c[_0x4867f8(0x25f)][_0x4867f8(0x8c2)])try{await _0x19da1f[_0x4867f8(0x1a8)](_0x3fc641,_0x4161c3,'/'+_0x581a53+'/'+_0x4161c3+'/'+_0x89de26),await this[_0x4867f8(0x1c2)]['deleteObject']('/'+_0x581a53+'/'+_0x4161c3+'/'+_0x89de26);}catch(_0x5cf728){_0x5b2279['error'](_0x4867f8(0x4fa),_0x5cf728);}else try{await _0x19da1f[_0x4867f8(0x1a8)](_0x3fc641,_0x4161c3,_0x89de26);}catch(_0x21c640){_0x5b2279[_0x4867f8(0x1be)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x21c640);}return{'type':'file-delete'};}if(_0x4867f8(0x6e1)===_0xc64ecd[_0x4867f8(0x16c)]){let _0x3a70c6;const _0x209fb6=this[_0x4867f8(0x65e)][_0x4867f8(0x6d7)]();for(;!_0x3a70c6;){const _0x761217=_0x209fb6[_0x4867f8(0x978)]()[_0x4867f8(0x687)];if(!_0x761217)throw new Error(_0x4867f8(0x587));_0x3a70c6=this[_0x4867f8(0x65e)][_0x4867f8(0x524)](_0x761217);try{const _0x352d0c=await _0x3a70c6[_0x4867f8(0x524)](_0xc64ecd['documentPath']);return{'type':'file-download','fileName':_0x352d0c[_0x4867f8(0x662)],'mimeType':_0x352d0c[_0x4867f8(0x16c)],'document':await _0x352d0c[_0x4867f8(0x551)]()};}catch(_0x187517){continue;}}throw new Error(_0x4867f8(0x587));}if(_0x4867f8(0x470)===_0xc64ecd[_0x4867f8(0x16c)]){const {vendorId:_0x4834e6,collectionId:_0x2f2e64,fileName:_0x4c8887,content:_0x38ebe1}=_0xc64ecd,_0x326d5a=await _0x1888a1[_0x4867f8(0xad2)](_0x4834e6,_0x2f2e64);if(_0x326d5a[_0x4867f8(0x955)]!==_0x3a4c7c[_0x4867f8(0x25f)][_0x4867f8(0x8c2)]){const _0x1200dc=this['ragConnectors']?.[_0x4867f8(0x524)](_0x326d5a['storageType']);if(!_0x1200dc)throw new Error(_0x4867f8(0x387));const _0xc6c0c6=_0x5be415(_0x4834e6,_0x326d5a);return await _0x1200dc[_0x4867f8(0x2a0)](_0xc6c0c6,_0x2f2e64,_0x4c8887,_0x38ebe1),{'type':'file-ingest'};}const _0x53f0a0=_0x326d5a['ingestBlocks']?.['find'](_0x13f492=>_0x13f492[_0x4867f8(0x16c)]===_0x2a2e74[_0x4867f8(0x79b)]);if(!_0x53f0a0)throw new Error(_0x4867f8(0x1c5));const _0x60457d=(0x0,_0x19ce97['v4'])();return _0x59d769['openTrace'](_0x4834e6,_0x60457d),await async function(_0x44e681,_0x5ed312,_0x35c3ad,_0x4d2f39,_0x3288b8,_0x48b181,_0x16b8e5){const _0x4170e5=_0x4867f8;try{let _0x2e76e2;switch(_0x3288b8[_0x4170e5(0x16c)]){case _0x2a2e74[_0x4170e5(0x2f2)]:const _0x3a1112=_0x16b8e5[_0x4170e5(0x6e7)][_0x4170e5(0xab4)](_0x3288b8['id']);_0x2e76e2=await _0x3a1112[_0x4170e5(0x524)](_0x35c3ad);break;case _0x2a2e74[_0x4170e5(0x289)]:const _0x1bca47=_0x16b8e5[_0x4170e5(0x6e7)]['getExternalStorageConnection'](_0x3288b8['id']);_0x2e76e2=await _0x1bca47[_0x4170e5(0x524)](_0x35c3ad);case _0x2a2e74[_0x4170e5(0x79b)]:const _0x1411ac=_0x35c3ad[_0x4170e5(0x91d)]('/')[_0x4170e5(0x97b)]();if(!_0x1411ac)throw new Error(_0x4170e5(0x166));const _0x3fe0d5=_0x35c3ad[_0x4170e5(0xabe)](_0x1411ac,''),_0x47b1b8=Buffer['from'](_0x4d2f39,'base64');if(_0x2e76e2=new File([_0x47b1b8],_0x1411ac),!_0x16b8e5[_0x4170e5(0x1c2)])throw new Error(_0x4170e5(0x741));await _0x16b8e5[_0x4170e5(0x1c2)]['writeFile'](_0x2e76e2,_0x3fe0d5);}if(!_0x2e76e2)throw new Error('Failed\x20to\x20get\x20file');await _0x3e513c(_0x44e681,_0x5ed312,{'file':_0x2e76e2,'pathName':_0x35c3ad},_0x3288b8,structuredClone(_0x48b181),_0x16b8e5);}catch(_0x3e5b9e){console['error'](_0x4170e5(0x9ae),_0x3e5b9e);}}(_0xc64ecd['vendorId'],_0x60457d,'/'+_0x4834e6+'/'+_0x2f2e64+'/'+_0x4c8887,_0x38ebe1,_0x53f0a0,_0x326d5a,{'objectStoreConnector':this[_0x4867f8(0x1c2)],'ragConnector':this[_0x4867f8(0xac6)]?.[_0x4867f8(0x524)](_0x3a4c7c[_0x4867f8(0x25f)]['Crewdle']),'documentParserConnector':this[_0x4867f8(0x447)],'fileConnector':this[_0x4867f8(0x204)],'nlpLibraryConnector':this[_0x4867f8(0x1de)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x4867f8(0x271)](this[_0x4867f8(0x1a3)][_0x4867f8(0x6da)]()),'contentMediator':this[_0x4867f8(0x6e7)]}),_0x59d769[_0x4867f8(0x66b)](_0x60457d),{'type':_0x4867f8(0x470)};}if(_0x4867f8(0x640)===_0xc64ecd['type']){const {vendorId:_0x268e27,collectionId:_0x3fb6e4}=_0xc64ecd,_0x2b34f6=await _0x1888a1['getDataCollection'](_0x268e27,_0x3fb6e4);if(_0x2b34f6[_0x4867f8(0x955)]!==_0x3a4c7c[_0x4867f8(0x25f)]['Crewdle']){const _0x5eb9d5=this['ragConnectors']?.[_0x4867f8(0x524)](_0x2b34f6['storageType']);if(!_0x5eb9d5)throw new Error('No\x20RAG\x20connector\x20available');const _0x2a14ef=_0x5be415(_0x268e27,_0x2b34f6);return{'type':_0x4867f8(0x640),'files':await _0x5eb9d5[_0x4867f8(0x459)](_0x2a14ef,_0x3fb6e4)};}try{return{'type':'file-list','files':(await this[_0x4867f8(0x1c2)][_0x4867f8(0x253)]('/'+_0x268e27+'/'+_0x3fb6e4,!0x1))[_0x4867f8(0x323)](_0x3e0034=>({'name':_0x3e0034[_0x4867f8(0x662)],'id':_0x3e0034['name'],'status':_0x4867f8(0x116)}))};}catch(_0x5e2888){return{'type':_0x4867f8(0x640),'files':[]};}}if(_0x4867f8(0x29f)===_0xc64ecd[_0x4867f8(0x16c)]){const {vendorId:_0x8527eb,collectionId:_0x13195d}=_0xc64ecd,_0xcca02b=await _0x1888a1[_0x4867f8(0xad2)](_0x8527eb,_0x13195d),_0x4d8c2f=this['ragConnectors']?.['get'](_0xcca02b[_0x4867f8(0x955)]);if(!_0x4d8c2f)return{'type':_0x4867f8(0x29f)};const _0x2bf1ec=_0x5be415(_0x8527eb,_0xcca02b);return await _0x4d8c2f[_0x4867f8(0x11f)](_0x2bf1ec,_0x13195d),{'type':_0x4867f8(0x29f)};}if(_0x4867f8(0x1f1)===_0xc64ecd[_0x4867f8(0x16c)]){const {vendorId:_0x44cb01,collectionId:_0x4bedc4}=_0xc64ecd,_0x4acc4b=await _0x1888a1['getDataCollection'](_0x44cb01,_0x4bedc4),_0x28a119=this[_0x4867f8(0xac6)]?.[_0x4867f8(0x524)](_0x4acc4b['storageType']);if(!_0x28a119)return{'type':_0x4867f8(0x1f1)};const _0xae760=_0x5be415(_0x44cb01,_0x4acc4b);let _0x5b7ca7=!0x1;if(_0x4acc4b[_0x4867f8(0x842)]===_0xac7fe7[_0x4867f8(0x15f)]&&(_0x5b7ca7=!0x0),_0x4acc4b[_0x4867f8(0x842)]===_0xac7fe7['Account']){_0x5b7ca7=!0x0;const _0x596ab4=await _0x1888a1['getDataCollections'](_0x44cb01);for(const _0x4e0c1a of _0x596ab4)if(_0x4e0c1a['storageType']===_0x4acc4b[_0x4867f8(0x955)]&&_0x4e0c1a[_0x4867f8(0x842)]===_0xac7fe7['Account']&&_0x4e0c1a['id']!==_0x4acc4b['id']){_0x5b7ca7=!0x1;break;}}try{await _0x28a119[_0x4867f8(0x8fe)](_0xae760,_0x4bedc4,_0x5b7ca7);}catch(_0x5a1acc){_0x5b2279[_0x4867f8(0x1be)](_0x4867f8(0x215),_0x5a1acc);}return{'type':_0x4867f8(0x1f1)};}if('collection-query'===_0xc64ecd[_0x4867f8(0x16c)]){const {query:_0x4ce603,vendorId:_0x36f9d1,collectionId:_0x5f4bac}=_0xc64ecd,_0x59802c=await _0x1888a1['getDataCollection'](_0x36f9d1,_0x5f4bac);if(_0x59802c[_0x4867f8(0x955)]!==_0x3a4c7c[_0x4867f8(0x25f)]['Crewdle']){const _0x3d2024=this[_0x4867f8(0xac6)]?.[_0x4867f8(0x524)](_0x59802c[_0x4867f8(0x955)]);if(!_0x3d2024)throw new Error(_0x4867f8(0x387));const _0xe5f15=_0x5be415(_0x36f9d1,_0x59802c);return{'type':'collection-query','results':await _0x3d2024[_0x4867f8(0x2c7)](_0xe5f15,_0x5f4bac,_0x4ce603,0x1)};}const _0x5be710=_0x59802c[_0x4867f8(0x2a1)]?.[_0x4867f8(0x8e4)](_0x4f5a2c=>_0x4f5a2c[_0x4867f8(0x16c)]===_0x2a2e74[_0x4867f8(0x61d)]),_0x11af01=await async function(_0x421f6b,_0x492d1f,_0x2a18e5,_0x36385e,_0x4abb4,_0x8fc8bb,_0x39cce1){const _0x579eba=_0x4867f8,_0x31c7f7={'type':_0x579eba(0xa0b),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x107954;await _0x49ee25(_0x421f6b,_0x492d1f,'',_0x36385e,_0x31c7f7,_0x4abb4,structuredClone(_0x8fc8bb),_0x39cce1),_0x31c7f7[_0x579eba(0x32b)][_0x579eba(0x399)]((_0x260d76,_0x325237)=>_0x260d76+_0x325237[_0x579eba(0x130)]['length'],0x0)>_0x55cda3&&(_0x107954=Math[_0x579eba(0x735)](_0x55cda3/_0x31c7f7[_0x579eba(0x32b)]['length'])),_0x31c7f7[_0x579eba(0x949)]=_0x579eba(0x303)+_0x31c7f7[_0x579eba(0x32b)][_0x579eba(0x323)](_0x147e42=>_0x579eba(0x6a0)+_0x147e42['pathName']+':\x20'+_0x147e42[_0x579eba(0x130)][_0x579eba(0x170)](0x0,_0x107954))[_0x579eba(0x16a)]('\x0a');}catch(_0x7611b7){console[_0x579eba(0x1be)](_0x579eba(0xa6c),_0x7611b7);}return _0x31c7f7;}(_0xc64ecd[_0x4867f8(0x164)],_0x2cbdd5,0x0,_0x4ce603,_0x5be710,_0x59802c,{'objectStoreConnector':this[_0x4867f8(0x1c2)],'ragConnector':this[_0x4867f8(0xac6)]?.[_0x4867f8(0x524)](_0x3a4c7c[_0x4867f8(0x25f)][_0x4867f8(0x8c2)]),'documentParserConnector':this[_0x4867f8(0x447)],'fileConnector':this[_0x4867f8(0x204)],'nlpLibraryConnector':this[_0x4867f8(0x1de)],'generativeAIWorkerConnectors':this[_0x4867f8(0x8e5)],'models':Array[_0x4867f8(0x271)](this[_0x4867f8(0x1a3)][_0x4867f8(0x6da)]()),'contentMediator':this[_0x4867f8(0x6e7)],'searchConnector':this[_0x4867f8(0x6ed)],'aiSearchConnector':this[_0x4867f8(0x927)],'queryFileConnector':this[_0x4867f8(0x7bc)]});return{'type':'collection-query','results':_0x11af01[_0x4867f8(0x32b)]??[]};}throw new Error(_0x4867f8(0xabb));}async*[_0x3149ab(0x2ad)](_0x30dedd,_0x265250){const _0x13ae51=_0x3149ab;if(_0x13ae51(0xa0b)===_0x265250[_0x13ae51(0x16c)]){const _0x2ed714=await _0x1888a1[_0x13ae51(0x883)](_0x265250[_0x13ae51(0x164)],_0x265250['workflowId']),_0x4259b8=_0x2ed714[_0x13ae51(0x301)][_0x13ae51(0x8e4)](_0x596935=>_0x596935[_0x13ae51(0x16c)]===_0x557158['Prompt']);for await(const _0x4add74 of async function*(_0x23f58b,_0x656baf,_0x2dc338,_0xc94e5b,_0x10949c){const _0x68aee6=_0x13ae51,_0x3a8496=_0x656baf[_0x68aee6(0x154)]??(0x0,_0x19ce97['v4'])(),_0x4413ba=Date[_0x68aee6(0x3fe)]();await _0x59d769[_0x68aee6(0x70e)]({'jobType':_0x58c5b6[_0x68aee6(0x5ba)],'type':_0x196bee[_0x68aee6(0x43b)],'jobId':_0x23f58b,'agentId':_0x3a8496,'threadId':_0x656baf[_0x68aee6(0xaaf)],'traceLevel':_0x1bdf60['Info'],'startTime':Date[_0x68aee6(0x3fe)](),'timestamp':Date[_0x68aee6(0x3fe)](),'blockId':_0x2dc338['id'],'status':_0x68aee6(0xae9),'initialPrompt':_0x656baf[_0x68aee6(0xa0b)]});const _0x3bc7d1={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x656baf['internalContext']&&(_0x3bc7d1[_0x68aee6(0x111)]=_0x656baf['internalContext']);const _0x41c25d=new _0x1b0b8b();await _0x4da6ae(_0x656baf,_0x3bc7d1,_0x2dc338,_0xc94e5b,_0x10949c),_0x15fb28(_0x23f58b,''+_0x656baf[_0x68aee6(0xa0b)],_0x656baf,_0x3bc7d1,_0x2dc338,_0xc94e5b,_0x10949c,_0x41c25d);let _0x1516d7='',_0x5d35a5={'type':_0x68aee6(0xa0b)};for(;;){const _0x2e9d05=await _0x41c25d['once']();if(!_0x2e9d05)break;_0x1516d7+=_0x2e9d05['output'],_0x5d35a5={'type':_0x68aee6(0xa0b),'output':_0x2e9d05[_0x68aee6(0x949)],'context':_0x3bc7d1[_0x68aee6(0x32b)],'resultFile':void 0x0,'inputTokens':(_0x3bc7d1[_0x68aee6(0x4f7)]??0x0)+(_0x2e9d05['inputTokens']??0x0),'outputTokens':(_0x3bc7d1[_0x68aee6(0x206)]??0x0)+(_0x2e9d05[_0x68aee6(0x206)]??0x0)},yield _0x5d35a5;}const _0x5ec903=_0xc94e5b['find'](_0x3a8698=>_0x3a8698[_0x68aee6(0x16c)]===_0x557158[_0x68aee6(0xa38)]);yield{..._0x5d35a5,'output':'','internalContext':_0x3bc7d1[_0x68aee6(0x111)],'resultFile':await _0x5ec903?.['accumulated']?.[_0x68aee6(0x543)]?.[_0x68aee6(0xa7a)]()??void 0x0};const {inputTokens:_0x5bddc2=0x0,outputTokens:_0x22ee5d=0x0,context:_0x3a20ac=[]}=_0x5d35a5;await _0x59d769[_0x68aee6(0x70e)]({'jobType':_0x58c5b6[_0x68aee6(0x5ba)],'type':_0x196bee[_0x68aee6(0x5aa)],'jobId':_0x23f58b,'agentId':_0x3a8496,'threadId':_0x656baf['threadId'],'traceLevel':_0x1bdf60[_0x68aee6(0x944)],'startTime':_0x4413ba,'timestamp':Date[_0x68aee6(0x3fe)](),'blockId':_0x2dc338['id'],'status':'success','output':_0x1516d7,'prompt':_0x656baf[_0x68aee6(0xa0b)],'agentName':'','history':_0x656baf[_0x68aee6(0x233)]??[],'instructions':''+(_0x656baf[_0x68aee6(0x381)]??''),'ragContext':_0x3a20ac,'inputTokens':_0x5bddc2,'outputTokens':_0x22ee5d});}(_0x265250[_0x13ae51(0x28c)]??_0x30dedd,_0x265250,_0x4259b8,_0x2ed714[_0x13ae51(0x301)],{'documentParserConnector':this[_0x13ae51(0x447)],'fileConnector':this[_0x13ae51(0x204)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x13ae51(0x271)](this[_0x13ae51(0x1a3)][_0x13ae51(0x6da)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x13ae51(0x6ed)],'aiSearchConnector':this[_0x13ae51(0x927)],'queryFileConnector':this['queryFileConnector']}))yield _0x4add74;}if('inference'===_0x265250['type']){for await(const _0x2bed39 of async function*(_0x4a4bab,_0x4d3b20,_0x1a24db){const _0x57edcd=_0x13ae51,_0x50c304=_0x4d3b20[_0x57edcd(0x154)]??(0x0,_0x19ce97['v4'])(),_0xccc897={'type':'prompt','context':[],'internalContext':_0x4d3b20[_0x57edcd(0x111)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x31af7f=new _0x1b0b8b();!async function(_0x34893c,_0xeb051d,_0x4cedad,_0x3c30c5,_0x4abecb,_0x712791){const _0x2d6e72=_0x57edcd,_0x4d1878=_0x712791[_0x2d6e72(0x1a3)][_0x2d6e72(0x8e4)](_0x26e259=>_0x26e259['id']===_0x4cedad[_0x2d6e72(0x903)]);if(!_0x4d1878)throw new Error(_0x2d6e72(0x85a));const _0xbbb6da=_0x712791[_0x2d6e72(0x8e5)]['find'](_0xd1a60f=>_0xd1a60f[_0x2d6e72(0x6b4)]()===_0x4d1878[_0x2d6e72(0x614)]);if(!_0xbbb6da)throw new Error(_0x2d6e72(0x496));const _0x2aaa04={'type':_0x2d6e72(0xa0b),'output':''},_0x43061b=await _0x5d47e0(_0x34893c,_0xeb051d,_0x4cedad,_0x3c30c5,_0x4cedad['tools']??[],_0x712791,_0x4abecb);for await(const _0x5a4d70 of _0xbbb6da['processJobStream']({'type':_0x2d6e72(0xa0b),'prompt':_0x4cedad['prompt'],'instructions':_0x4cedad[_0x2d6e72(0x381)],'reasoning':_0x4cedad['reasoning'],'grammar':_0x4cedad[_0x2d6e72(0x875)],'temperature':_0x4cedad[_0x2d6e72(0x9d3)],'maxTokens':_0x4cedad[_0x2d6e72(0x686)],'history':_0x4cedad[_0x2d6e72(0x233)],'functions':_0x43061b,'threadId':_0x4cedad[_0x2d6e72(0xaaf)]},{'model':_0x4d1878,'sequences':Array[_0x2d6e72(0x271)](_0x43061b[_0x2d6e72(0x6d7)]())[_0x2d6e72(0x3da)](_0x21bcdd=>_0x21bcdd[_0x2d6e72(0xa2f)](_0x2d6e72(0x9b1)))?0x2:0x1}))_0x4abecb[_0x2d6e72(0x6ad)](_0x5a4d70),_0x2d6e72(0x657)==typeof _0x2aaa04[_0x2d6e72(0x949)]&&_0x2d6e72(0x657)==typeof _0x5a4d70[_0x2d6e72(0x949)]&&(_0x2aaa04['output']+=_0x5a4d70[_0x2d6e72(0x949)]),_0x2aaa04[_0x2d6e72(0x4f7)]=_0x5a4d70[_0x2d6e72(0x4f7)],_0x2aaa04[_0x2d6e72(0x206)]=_0x5a4d70[_0x2d6e72(0x206)];await _0x39ab67['wait'](0x1),_0x4abecb[_0x2d6e72(0x6ad)](void 0x0);}(_0x4a4bab,_0x50c304,_0x4d3b20,_0xccc897,_0x31af7f,_0x1a24db);let _0x4f0d6b='',_0x3899fd={'type':_0x57edcd(0xa0b)};for(;;){const _0x4cd043=await _0x31af7f[_0x57edcd(0x96e)]();if(!_0x4cd043)break;_0x4f0d6b+=_0x4cd043[_0x57edcd(0x949)],_0x3899fd={'type':'prompt','output':_0x4cd043[_0x57edcd(0x949)],'context':_0xccc897['context'],'internalContext':{},'inputTokens':(_0xccc897[_0x57edcd(0x4f7)]??0x0)+(_0x4cd043[_0x57edcd(0x4f7)]??0x0),'outputTokens':(_0xccc897[_0x57edcd(0x206)]??0x0)+(_0x4cd043[_0x57edcd(0x206)]??0x0)},yield _0x3899fd;}yield{..._0x3899fd,'output':'','internalContext':_0xccc897['internalContext']??{}};}(_0x265250[_0x13ae51(0x28c)]??_0x30dedd,_0x265250,{'documentParserConnector':this[_0x13ae51(0x447)],'fileConnector':this[_0x13ae51(0x204)],'nlpLibraryConnector':this[_0x13ae51(0x1de)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0x13ae51(0x1a3)][_0x13ae51(0x6da)]()),'contentMediator':this[_0x13ae51(0x6e7)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x13ae51(0x7bc)]}))yield _0x2bed39;}}async[_0x3149ab(0x284)](_0x131568,_0x16dd22){const _0x3daa8c=_0x3149ab;if(_0x3daa8c(0x554)===_0x16dd22[_0x3daa8c(0x16c)])return _0x131568=_0x16dd22[_0x3daa8c(0x28c)],void await this[_0x3daa8c(0x279)](_0x131568,_0x16dd22[_0x3daa8c(0x164)],_0x16dd22['workflowId']);_0x3daa8c(0xa0b)!==_0x16dd22[_0x3daa8c(0x16c)]&&_0x3daa8c(0x1a9)!==_0x16dd22[_0x3daa8c(0x16c)]||!_0x16dd22[_0x3daa8c(0x28c)]||(_0x131568=_0x16dd22[_0x3daa8c(0x28c)]),await this['openTrace'](_0x131568,_0x16dd22['vendorId'],_0x16dd22[_0x3daa8c(0x85c)],_0x16dd22['threadId']),await _0x59d769[_0x3daa8c(0x70e)]({'jobType':_0x58c5b6[_0x3daa8c(0x6b5)],'type':_0x31f650[_0x3daa8c(0x83a)],'traceLevel':_0x1bdf60[_0x3daa8c(0x944)],'jobId':_0x131568,'threadId':_0x16dd22['threadId'],'startTime':Date[_0x3daa8c(0x3fe)](),'timestamp':Date[_0x3daa8c(0x3fe)](),'status':_0x3daa8c(0xae9)});}async[_0x3149ab(0x6f7)](_0x87a655,_0x4a1de5){const _0x4a5c0d=_0x3149ab;if(_0x4a5c0d(0x554)===_0x4a1de5['type'])return _0x87a655=_0x4a1de5[_0x4a5c0d(0x28c)],void await this[_0x4a5c0d(0x66b)](_0x87a655);'prompt'!==_0x4a1de5[_0x4a5c0d(0x16c)]&&_0x4a5c0d(0x1a9)!==_0x4a1de5['type']||!_0x4a1de5[_0x4a5c0d(0x28c)]||(_0x87a655=_0x4a1de5[_0x4a5c0d(0x28c)]),await _0x59d769[_0x4a5c0d(0x70e)]({'jobType':_0x58c5b6['Job'],'type':_0x31f650[_0x4a5c0d(0x2d3)],'traceLevel':_0x1bdf60[_0x4a5c0d(0x944)],'jobId':_0x87a655,'threadId':_0x4a1de5[_0x4a5c0d(0xaaf)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x4a5c0d(0xae9)}),await this['closeTrace'](_0x87a655,_0x4a1de5[_0x4a5c0d(0xaaf)]);}['getToolName'](_0x1bfeb6){const _0x51b986=_0x3149ab;switch(_0x1bfeb6['type']){case _0x557158[_0x51b986(0x1cb)]:case _0x557158[_0x51b986(0x7b2)]:return _0x51b986(0x9b1)+_0x1bfeb6[_0x51b986(0x662)][_0x51b986(0xabe)](/[^a-zA-Z]/g,'');case _0x557158[_0x51b986(0x48c)]:return'executeWorkflow'+_0x1bfeb6[_0x51b986(0x662)][_0x51b986(0xabe)](/[^a-zA-Z]/g,'');case _0x557158['DataCollection']:case _0x557158[_0x51b986(0x1ee)]:return _0x51b986(0x95c)+_0x1bfeb6[_0x51b986(0x662)][_0x51b986(0xabe)](/[^a-zA-Z]/g,'');case _0x557158[_0x51b986(0x350)]:return _0x1bfeb6[_0x51b986(0x662)]['replace'](/[^a-zA-Z]/g,'');case _0x557158[_0x51b986(0x84e)]:return _0x51b986(0x276);case _0x557158['Code']:return _0x51b986(0x825);case _0x557158[_0x51b986(0x4d4)]:return _0x51b986(0x196);case _0x557158[_0x51b986(0x9d7)]:case _0x557158['WebScraperRaw']:return'fetchContentFromUrl';case _0x3a4c7c[_0x51b986(0x6a2)][_0x51b986(0xa53)]:return'getQuestion'+_0x1bfeb6[_0x51b986(0x662)][_0x51b986(0xabe)](/[^a-zA-Z]/g,'');case _0x3a4c7c['GenerativeAIInferenceToolType']['FormSkillSetAnswer']:return _0x51b986(0x3e1)+_0x1bfeb6['name']['replace'](/[^a-zA-Z]/g,'');case _0x3a4c7c[_0x51b986(0x6a2)][_0x51b986(0x13f)]:return _0x51b986(0x27c)+_0x1bfeb6[_0x51b986(0x662)][_0x51b986(0xabe)](/[^a-zA-Z]/g,'');default:return'';}}[_0x3149ab(0x419)](_0x1440fc){const _0x189967=_0x3149ab;switch(_0x1440fc['type']){case _0x557158['Agent']:case _0x557158['AgentSkill']:return _0x189967(0x739)+_0x1440fc[_0x189967(0x971)]+'\x20to\x20generate\x20a\x20response.';case _0x557158[_0x189967(0x48c)]:return'Execute\x20the\x20workflow\x20'+_0x1440fc[_0x189967(0x971)]+_0x189967(0x6ab);case _0x557158['DataCollection']:case _0x557158['Knowledge']:return'Search\x20in\x20data\x20collection\x20'+_0x1440fc[_0x189967(0x971)]+_0x189967(0x467);case _0x557158[_0x189967(0x350)]:return _0x189967(0x35d)+_0x1440fc['description'];case _0x557158[_0x189967(0x84e)]:return _0x189967(0x28f);case _0x557158['Code']:return _0x189967(0x9d5);case _0x557158['Search']:return _0x189967(0x7df);case _0x557158[_0x189967(0x9d7)]:case _0x557158[_0x189967(0x426)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x189967(0xa53)]:return'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.';case _0x3a4c7c[_0x189967(0x6a2)][_0x189967(0x631)]:return _0x189967(0x76e);case _0x3a4c7c[_0x189967(0x6a2)]['FormSkillSubmitForm']:return _0x189967(0x9c4);default:return'';}}[_0x3149ab(0x88b)](_0x39c779){const _0x528c4b=_0x3149ab;switch(_0x39c779[_0x528c4b(0x16c)]){case _0x557158[_0x528c4b(0x1cb)]:case _0x557158[_0x528c4b(0x7b2)]:case _0x557158[_0x528c4b(0x48c)]:return[{'name':_0x528c4b(0xa0b),'type':_0x528c4b(0x657)}];case _0x557158['DataCollection']:case _0x557158['Knowledge']:return[{'name':_0x528c4b(0x679),'type':_0x528c4b(0x657)}];case _0x557158[_0x528c4b(0x350)]:return _0x39c779[_0x528c4b(0x7a5)][_0x528c4b(0x323)](_0xdddc6a=>({'name':_0xdddc6a[_0x528c4b(0x662)],'type':_0xdddc6a[_0x528c4b(0x16c)]??'string'}))??[];case _0x557158['AiSearch']:return[{'name':_0x528c4b(0x8db),'type':_0x528c4b(0x657)}];case _0x557158[_0x528c4b(0xab9)]:return[{'name':_0x528c4b(0x634),'type':_0x528c4b(0x657)}];case _0x557158[_0x528c4b(0x4d4)]:return[{'name':_0x528c4b(0x8db),'type':_0x528c4b(0x657)}];case _0x557158[_0x528c4b(0x9d7)]:case _0x557158[_0x528c4b(0x426)]:return[{'name':_0x528c4b(0x6c1),'type':_0x528c4b(0x657)},{'name':_0x528c4b(0x50b),'type':_0x528c4b(0x15c)}];case _0x3a4c7c[_0x528c4b(0x6a2)][_0x528c4b(0xa53)]:return[];case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x528c4b(0x631)]:return[{'name':'id','type':_0x528c4b(0x657)},{'name':_0x528c4b(0x943),'type':_0x528c4b(0x657)}];case _0x3a4c7c['GenerativeAIInferenceToolType'][_0x528c4b(0x13f)]:default:return[];}}['getCoresFromCapacityReport'](){const _0x3173de=_0x3149ab;try{return this[_0x3173de(0x52b)][_0x3173de(0x57a)]()[_0x3173de(0x191)][_0x3173de(0x689)]*(0x1-this[_0x3173de(0x52b)][_0x3173de(0x57a)]()[_0x3173de(0x191)]['load']);}catch(_0x33c8f3){return _0x5b2279[_0x3173de(0x66c)](_0x44d495[_0x3173de(0x152)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x33c8f3),0x0;}}['sendStats'](){const _0x5856df=_0x3149ab;this[_0x5856df(0x942)]&&(this['debounceStats']&&clearTimeout(this[_0x5856df(0x264)]),this[_0x5856df(0x264)]=setTimeout(async()=>{const _0x1cf33b=_0x5856df;delete this['debounceStats'];let _0x3a35c2=0x0;for(const _0x451bfb of this[_0x1cf33b(0x65e)][_0x1cf33b(0x6da)]())_0x3a35c2+=await _0x451bfb['getSize']();this[_0x1cf33b(0x364)][_0x1cf33b(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x1cf33b(0x620)],'content':{'type':_0x253ba5['GenerativeAIWorkerStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x3a35c2,'messagesSent':this[_0x1cf33b(0x781)],'messagesReceived':this[_0x1cf33b(0xa86)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x1cf33b(0x273)],'tokens':this[_0x1cf33b(0x926)]}}});},_0x271d7b));}['logServiceEvent'](_0x429957,_0xbce4de){const _0x3c2921=_0x3149ab,_0x879bca=this[_0x3c2921(0x3a4)],_0x57589d=this[_0x3c2921(0x84a)]();_0x5b2279[_0x3c2921(0x995)](_0x3ce5a1[_0x3c2921(0xa92)],{'topic':_0x879bca,'type':_0x3c2921(0x943),'nodeId':_0x57589d,'tokenCount':_0xbce4de,'tokensPerSecond':_0x429957});}async[_0x3149ab(0x279)](_0x3ea6c7,_0x24389d,_0x53fc3f,_0xaa0040){const _0x4bf055=_0x3149ab;try{if(!await _0x59d769['openTrace'](_0x24389d,_0x3ea6c7,_0x53fc3f,_0xaa0040))throw new Error('Error\x20opening\x20trace');return _0x3ea6c7;}catch(_0x4bec3f){return console[_0x4bf055(0x1be)](_0x4bf055(0x6dc),_0x4bec3f),'Could\x20not\x20open\x20trace';}}async['closeTrace'](_0x59ff92,_0x5f23e7){const _0x4fd383=_0x3149ab;try{await _0x59d769[_0x4fd383(0x66b)](_0x59ff92,_0x5f23e7);}catch(_0x400f5c){console[_0x4fd383(0x1be)](_0x4fd383(0x65a),{'jobId':_0x59ff92,'error':_0x400f5c});}}}class _0xa4f684 extends _0x2e9fe0{['localNode'];['clusterId'];[_0x3149ab(0x164)];['db'];[_0x3149ab(0x264)];[_0x3149ab(0x531)]=0x0;['reads']=0x0;[_0x3149ab(0x6c3)]=!0x1;constructor(_0x4cca8e,_0x11807f,_0x462699,_0x5748a8,_0x223b5a){const _0xb05e11=_0x3149ab;if('string'!=typeof _0x11807f)throw new _0xab88d9(_0x3cba44[_0xb05e11(0x2d7)],_0xb05e11(0x221));super(_0x4cca8e,_0x11807f),this['localNode']=_0x4cca8e,this['clusterId']=_0x462699,this[_0xb05e11(0x164)]=_0x5748a8;const _0xb6ce37=_0xb05e11(0x2ca)+this[_0xb05e11(0x164)]+_0xb05e11(0x2ca)+this['clusterId']+_0xb05e11(0x2ca)+this['label'];this['db']=new _0x223b5a(_0xb6ce37),this[_0xb05e11(0x39c)]();}[_0x3149ab(0x89a)](){const _0x37b2f4=_0x3149ab;return this[_0x37b2f4(0x6c3)];}[_0x3149ab(0xa19)](_0x5e94b1){const _0x5641d6=_0x3149ab;this[_0x5641d6(0x6c3)]=_0x5e94b1;}[_0x3149ab(0x2cb)](){const _0x5cd4ea=_0x3149ab;clearTimeout(this[_0x5cd4ea(0x264)]),delete this[_0x5cd4ea(0x264)],super[_0x5cd4ea(0x2cb)]();}['close'](){const _0x50f828=_0x3149ab;this[_0x50f828(0x364)]['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x50f828(0x620)],'content':{'type':_0x253ba5[_0x50f828(0x1bd)],'label':this['label']}});}[_0x3149ab(0x941)](){const _0x5293e8=_0x3149ab;return _0x3a4c7c[_0x5293e8(0x346)][_0x5293e8(0x22d)];}['reset'](){const _0x520f02=_0x3149ab;this[_0x520f02(0x39c)]();}['addNode'](_0x55aa63,_0x33f2df,_0x2339d1,_0x435170){const _0x26b7a0=_0x3149ab;this['db'][_0x26b7a0(0x1e5)](_0x55aa63,_0x33f2df,_0x2339d1,_0x435170),this['writes']+=0x1,this[_0x26b7a0(0x39c)]();}[_0x3149ab(0x10b)](_0x548c14,_0x2cf6a9){const _0x2e5097=_0x3149ab;this['db'][_0x2e5097(0x10b)](_0x548c14,_0x2cf6a9),this[_0x2e5097(0x531)]+=0x1,this[_0x2e5097(0x39c)]();}[_0x3149ab(0xa1e)](_0x28163d,_0x25f57a,_0x118edc){const _0x1626c9=_0x3149ab,_0x2eab33=this['db'][_0x1626c9(0xa1e)](_0x28163d,_0x25f57a,_0x118edc);return this[_0x1626c9(0x369)]+=0x1,_0x5b2279[_0x1626c9(0x995)](_0x3ce5a1['GraphDatabase'],{'type':_0x1626c9(0x88c),'label':this['label'],'nodeId':this[_0x1626c9(0x9ba)][_0x1626c9(0x394)](),'nodeType':this['localNode'][_0x1626c9(0x16c)],'clusterId':this[_0x1626c9(0x8ae)],'size':0x0}),this[_0x1626c9(0x39c)](),_0x2eab33;}[_0x3149ab(0x31c)](_0x19edeb){const _0x35f77c=_0x3149ab;this['db'][_0x35f77c(0x31c)](_0x19edeb),this[_0x35f77c(0x531)]+=0x1,this[_0x35f77c(0x39c)]();}[_0x3149ab(0x17b)](_0x481b7a){const _0x4dcb78=_0x3149ab;this['db'][_0x4dcb78(0x17b)](_0x481b7a);}['loadFromDisk'](_0x4c25f6){const _0x3e9c64=_0x3149ab;this['db'][_0x3e9c64(0x617)](_0x4c25f6);}[_0x3149ab(0x39c)](){const _0x1ea812=_0x3149ab;this['debounceStats']&&clearTimeout(this[_0x1ea812(0x264)]),this['debounceStats']=setTimeout(async()=>{const _0x2ede69=_0x1ea812;delete this[_0x2ede69(0x264)];const _0x435dff=this['db'][_0x2ede69(0x535)]();this[_0x2ede69(0x364)][_0x2ede69(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x2ede69(0x620)],'content':{'type':_0x253ba5[_0x2ede69(0x5d6)],'label':this[_0x2ede69(0x3a4)],'stats':{'timestamp':Date['now'](),'storage':_0x435dff,'messagesSent':this[_0x2ede69(0x781)],'messagesReceived':this[_0x2ede69(0xa86)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x2ede69(0x4f8)],'writes':this[_0x2ede69(0x531)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x5b2279[_0x2ede69(0xab2)](_0x3ce5a1[_0x2ede69(0x22d)],_0x2ede69(0x2ca)+this[_0x2ede69(0x8ae)]+_0x2ede69(0x2ca)+this['label'],_0x435dff);},_0x271d7b);}}class _0x4e3792 extends _0x5e2d59{['mediaStream'];constructor(_0x50fad2,_0x5a660d,_0x3fd881){super(_0x50fad2,_0x5a660d),this['mediaStream']=_0x3fd881;}[_0x3149ab(0x941)](){const _0xf9731a=_0x3149ab;return _0x3a4c7c[_0xf9731a(0x346)][_0xf9731a(0x1a2)];}[_0x3149ab(0x414)](){const _0x253ae3=_0x3149ab;return this[_0x253ae3(0x398)];}[_0x3149ab(0x529)](){const _0x2eee7d=_0x3149ab;return this[_0x2eee7d(0x398)]['id'];}}class _0x187263 extends _0x4e3792{['remoteId'];['params'];[_0x3149ab(0x38f)];[_0x3149ab(0x822)]=_0xc97be1();constructor(_0xde3dce,_0x496d76,_0x352658,_0x24bc6c,_0x395074){super(_0xde3dce,_0x496d76,_0x352658),this['remoteId']=_0x24bc6c,this['params']=_0x395074;}[_0x3149ab(0x2cb)](){const _0x37bc02=_0x3149ab;this[_0x37bc02(0x60d)](_0x37bc02(0x354)),this[_0x37bc02(0x60d)]('video'),super[_0x37bc02(0x2cb)]();}[_0x3149ab(0x35f)](_0x535646){const _0x5b6dbb=_0x3149ab;if(!this['topic'])throw new _0x224ab2(_0x224ab2[_0x5b6dbb(0x8b5)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x5b6dbb(0x3a4)],'ownerId':this[_0x5b6dbb(0x67c)][_0x5b6dbb(0x394)](),'remoteId':this['remoteId']});this[_0x5b6dbb(0x38f)][_0x5b6dbb(0x415)]({'sourceId':this[_0x5b6dbb(0x67c)][_0x5b6dbb(0x394)](),'content':{'action':_0x583eef[_0x5b6dbb(0x4e2)],'track':_0x535646,'stream':this[_0x5b6dbb(0x398)],'priority':_0x3a4c7c[_0x5b6dbb(0x901)][_0x5b6dbb(0x594)],'params':this[_0x5b6dbb(0x68c)](_0x535646[_0x5b6dbb(0x60e)],this[_0x5b6dbb(0x48b)])}});}[_0x3149ab(0x60d)](_0x27f040){const _0x3eae2a=_0x3149ab,_0x2d46c2=this[_0x3eae2a(0x1f4)](_0x27f040);if(_0x2d46c2){if(!this[_0x3eae2a(0x38f)])return null;this[_0x3eae2a(0x38f)][_0x3eae2a(0x415)]({'sourceId':this[_0x3eae2a(0x67c)][_0x3eae2a(0x394)](),'content':{'action':_0x583eef[_0x3eae2a(0x231)],'track':_0x2d46c2,'stream':this[_0x3eae2a(0x398)]}});}return _0x2d46c2;}[_0x3149ab(0x362)](_0x23e508){const _0x353e91=_0x3149ab;if(!this[_0x353e91(0x38f)])throw new _0x224ab2(_0x224ab2[_0x353e91(0x8b5)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x353e91(0x3a4)],'ownerId':this['owner'][_0x353e91(0x394)](),'remoteId':this[_0x353e91(0x8b4)]});this[_0x353e91(0x38f)][_0x353e91(0x415)]({'sourceId':this['owner'][_0x353e91(0x394)](),'content':{'action':_0x583eef[_0x353e91(0x89f)],'priority':_0x23e508,'stream':this[_0x353e91(0x398)]}});}['subscribe']({trackKinds:_0x16e160,params:_0x5b535d},_0x17a111){const _0x5aec30=_0x3149ab;if(!this['topic'])throw new _0x224ab2(_0x224ab2[_0x5aec30(0x8b5)][_0x5aec30(0xa1c)],{'label':this[_0x5aec30(0x3a4)],'ownerId':this['owner'][_0x5aec30(0x394)](),'remoteId':this[_0x5aec30(0x8b4)]});for(const _0x52656d of this['mediaStream']['getTracks']())_0x16e160[_0x5aec30(0x24c)](_0x52656d[_0x5aec30(0x60e)])&&this[_0x5aec30(0x38f)][_0x5aec30(0x415)]({'sourceId':this['owner'][_0x5aec30(0x394)](),'content':{'action':_0x583eef['Add'],'track':_0x52656d,'stream':this[_0x5aec30(0x398)],'priority':_0x17a111,'params':this[_0x5aec30(0x68c)](_0x52656d[_0x5aec30(0x60e)],_0x5b535d)}});}[_0x3149ab(0x54d)]({params:_0x4e459b}){const _0x185366=_0x3149ab;if(!this[_0x185366(0x38f)])throw new _0x224ab2(_0x224ab2['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x185366(0x3a4)],'ownerId':this[_0x185366(0x67c)][_0x185366(0x394)](),'remoteId':this[_0x185366(0x8b4)]});for(const _0x994aa1 of this[_0x185366(0x398)][_0x185366(0x4a5)]())this['topic'][_0x185366(0x415)]({'sourceId':this[_0x185366(0x67c)][_0x185366(0x394)](),'content':{'action':_0x583eef[_0x185366(0x89f)],'stream':this[_0x185366(0x398)],'params':this[_0x185366(0x68c)](_0x994aa1[_0x185366(0x60e)],_0x4e459b)}});}['unsubscribe']({trackKinds:_0x4201b1}){const _0x476ac2=_0x3149ab;if(this[_0x476ac2(0x38f)]){for(const _0x4bf23c of this[_0x476ac2(0x398)][_0x476ac2(0x4a5)]())_0x4201b1[_0x476ac2(0x24c)](_0x4bf23c['kind'])&&this['topic'][_0x476ac2(0x415)]({'sourceId':this['owner']['getId'](),'content':{'action':_0x583eef['Remove'],'stream':this['mediaStream'],'track':_0x4bf23c}});}}[_0x3149ab(0x586)](_0x1c1677){this['topic']=_0x1c1677;}[_0x3149ab(0x534)](_0x3fd238){const _0x210962=_0x3149ab;_0x3fd238===this[_0x210962(0x38f)]&&(delete this['topic'],this[_0x210962(0x822)]['publish']());}['onUnregisterPublisher'](_0x15f70b){const _0x4b75c1=_0x3149ab;return this['unregisterPublisherListener'][_0x4b75c1(0x438)](_0x15f70b);}['getTrack'](_0x417bb9){const _0x4e646a=_0x3149ab;return this[_0x4e646a(0x398)][_0x4e646a(0x4a5)]()[_0x4e646a(0x8e4)](_0x74ade8=>_0x74ade8['kind']===_0x417bb9)||null;}['getInternalTrackParams'](_0x4a4bdb,_0x58e53d){const _0x2f44df=_0x3149ab;let _0x53c379;return _0x2f44df(0x717)===_0x4a4bdb&&_0x58e53d?.['video']&&_0x2f44df(0x769)!=typeof _0x58e53d[_0x2f44df(0x717)]&&(_0x53c379={'kind':_0x2f44df(0x717),..._0x58e53d[_0x2f44df(0x717)]},_0x53c379[_0x2f44df(0x81a)]=this[_0x2f44df(0x1c7)]()),_0x2f44df(0x354)===_0x4a4bdb&&_0x58e53d?.[_0x2f44df(0x354)]&&'boolean'!=typeof _0x58e53d[_0x2f44df(0x354)]&&(_0x53c379={'kind':_0x2f44df(0x354),..._0x58e53d['audio']}),_0x53c379;}[_0x3149ab(0x1c7)](){const _0x172469=_0x3149ab;let _0x423baf={'width':0x0,'height':0x0};const _0x4724ed=this[_0x172469(0x398)]['getVideoTracks']();if(_0x4724ed[_0x172469(0x878)]>0x0){const _0x28f224=_0x4724ed[0x0]['getSettings']();_0x28f224['width']&&_0x28f224[_0x172469(0x103)]&&(_0x423baf={'width':_0x28f224[_0x172469(0x44f)],'height':_0x28f224[_0x172469(0x103)]});}return _0x423baf;}}class _0x29ba45 extends _0x4e3792{[_0x3149ab(0x8ae)];[_0x3149ab(0x804)]=_0x3a4c7c[_0x3149ab(0x901)]['Default'];[_0x3149ab(0x4e3)]=new Map();[_0x3149ab(0x630)]=new Map();constructor(_0x341524,_0xf0c005,_0x10307a,_0x22f1e0){const _0x1d7737=_0x3149ab;super(_0x341524,_0xf0c005,_0x10307a instanceof MediaStream?_0x10307a:_0x10307a[_0x1d7737(0x90a)]?_0x10307a[_0x1d7737(0x90a)]:_0x10307a[_0x1d7737(0x5ed)]()),this['clusterId']=_0x22f1e0,this[_0x1d7737(0x398)][_0x1d7737(0x4a5)]()[_0x1d7737(0x1d0)](_0xa09ec3=>this[_0x1d7737(0x265)](_0xa09ec3)),_0x5b2279['logServiceEvent'](_0x3ce5a1[_0x1d7737(0x7b4)],{'type':'publish','label':this[_0x1d7737(0x3a4)],'nodeId':this['owner'][_0x1d7737(0x394)](),'nodeType':this[_0x1d7737(0x67c)][_0x1d7737(0x16c)],'clusterId':this[_0x1d7737(0x8ae)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x1d7737(0x398)][_0x1d7737(0x4a5)]()[_0x1d7737(0x323)](_0x1a9cca=>_0x1a9cca[_0x1d7737(0x60e)])});}[_0x3149ab(0x2cb)](){const _0x46ee84=_0x3149ab;this[_0x46ee84(0x630)][_0x46ee84(0x1fa)]>0x0&&(this[_0x46ee84(0x630)]['forEach'](_0x470ffb=>{_0x470ffb['unregisterSystemPublisher'](),_0x470ffb['destroy']();}),this[_0x46ee84(0x630)][_0x46ee84(0x876)]()),this[_0x46ee84(0x4e3)][_0x46ee84(0x1d0)](_0x3c2d25=>_0x3c2d25()),super[_0x46ee84(0x2cb)]();}[_0x3149ab(0x415)](_0x5f1380){const _0x2c25db=_0x3149ab;this['systemTopic'][_0x2c25db(0x415)]({'sourceId':this[_0x2c25db(0x67c)][_0x2c25db(0x394)](),'destinationIds':_0x5f1380?[_0x5f1380]:void 0x0,'propagate':!0x0,'messageType':_0x23b53c[_0x2c25db(0x620)],'content':{'type':_0x253ba5[_0x2c25db(0x471)],'ownerId':this[_0x2c25db(0x67c)][_0x2c25db(0x394)](),'label':this[_0x2c25db(0x3a4)],'stream':{'streamId':this[_0x2c25db(0x529)](),'availableTrackKinds':this['mediaStream'][_0x2c25db(0x4a5)]()[_0x2c25db(0x323)](_0xf2a93c=>_0xf2a93c[_0x2c25db(0x60e)])}}});}[_0x3149ab(0x102)](){const _0x4b36db=_0x3149ab;this[_0x4b36db(0x364)]['publish']({'sourceId':this[_0x4b36db(0x67c)][_0x4b36db(0x394)](),'propagate':!0x0,'messageType':_0x23b53c[_0x4b36db(0x620)],'content':{'type':_0x253ba5[_0x4b36db(0x704)],'ownerId':this[_0x4b36db(0x67c)][_0x4b36db(0x394)](),'label':this[_0x4b36db(0x3a4)]}}),this['systemTopic'][_0x4b36db(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x4b36db(0x620)],'content':{'type':_0x253ba5['CloseMediaStream'],'label':this['label']}}),_0x5b2279[_0x4b36db(0x995)](_0x3ce5a1[_0x4b36db(0x7b4)],{'type':_0x4b36db(0x102),'label':this[_0x4b36db(0x3a4)],'nodeId':this['owner']['getId'](),'nodeType':this[_0x4b36db(0x67c)][_0x4b36db(0x16c)],'clusterId':this[_0x4b36db(0x8ae)],'streamId':this[_0x4b36db(0x529)]()});}[_0x3149ab(0x9cb)](){return this['priority'];}[_0x3149ab(0x362)](_0x1f2917){const _0x4c1623=_0x3149ab;this[_0x4c1623(0x804)]=_0x1f2917,this[_0x4c1623(0x630)][_0x4c1623(0x1d0)](_0x1a7145=>_0x1a7145[_0x4c1623(0x362)](_0x1f2917));}[_0x3149ab(0xaad)](_0x431b3d,_0x30d9aa){const _0x406927=_0x3149ab;if(!this[_0x406927(0x630)][_0x406927(0x2a7)](_0x431b3d)){const _0x218a5b=new _0x187263(this[_0x406927(0x67c)],this[_0x406927(0x3a4)],this[_0x406927(0x398)],_0x431b3d,_0x30d9aa),_0x3a0220=_0x218a5b[_0x406927(0x6c6)](()=>{const _0x2198c4=_0x406927;_0x3a0220(),this[_0x2198c4(0x630)][_0x2198c4(0x524)](_0x431b3d)?.[_0x2198c4(0x2cb)](),this['outgoingStreams'][_0x2198c4(0x979)](_0x431b3d);});this[_0x406927(0x630)]['set'](_0x431b3d,_0x218a5b),_0x218a5b[_0x406927(0x9cd)](this['systemTopic']);}return this[_0x406927(0x630)][_0x406927(0x524)](_0x431b3d);}[_0x3149ab(0x583)](){return this['mediaStream']['id'];}['handleLocalTrackFailure'](_0x344d6a){const _0x2cb2da=_0x3149ab;this[_0x2cb2da(0x364)][_0x2cb2da(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x2cb2da(0x620)],'content':{'type':_0x253ba5[_0x2cb2da(0x28e)],'label':this[_0x2cb2da(0x3a4)],'trackKinds':[_0x344d6a[_0x2cb2da(0x60e)]]}});}['setupTrackEndedListeners'](_0x2842a6){const _0x136a11=_0x3149ab,_0x5be797=()=>this[_0x136a11(0xa6a)](_0x2842a6);_0x2842a6[_0x136a11(0x31f)]('ended',_0x5be797),_0x2842a6[_0x136a11(0x31f)]('mute',_0x5be797),this[_0x136a11(0x4e3)]['set'](_0x2842a6['kind'],()=>{const _0xa0fc46=_0x136a11;_0x2842a6['removeEventListener'](_0xa0fc46(0x632),_0x5be797),_0x2842a6[_0xa0fc46(0x636)]('mute',_0x5be797),this[_0xa0fc46(0x4e3)]['delete'](_0x2842a6[_0xa0fc46(0x60e)]);});}}class _0xc22f7a extends _0x29ba45{[_0x3149ab(0x93a)];['transformations']=[];[_0x3149ab(0x897)];[_0x3149ab(0x312)];[_0x3149ab(0x14a)];[_0x3149ab(0x75e)];[_0x3149ab(0x74f)];['context'];[_0x3149ab(0x5b6)];constructor(_0x224715,_0x160205,_0x4c91df,_0x461bcc,_0x34231f,_0x290076){const _0x1f06cd=_0x3149ab;if(super(_0x224715,_0x160205,_0x4c91df,_0x290076),this[_0x1f06cd(0x93a)]=_0x34231f,this[_0x1f06cd(0x897)]=this['mediaStream'],this[_0x1f06cd(0x75e)]=document[_0x1f06cd(0xad5)](_0x1f06cd(0x717)),this[_0x1f06cd(0x75e)][_0x1f06cd(0x861)]=!0x0,this['sourceVideo']['muted']=!0x0,this[_0x1f06cd(0x75e)]['srcObject']=this[_0x1f06cd(0x897)],this[_0x1f06cd(0x75e)][_0x1f06cd(0x958)](),this['sourceVideo'][_0x1f06cd(0x9c6)]=()=>{const _0x304a0f=_0x1f06cd;this[_0x304a0f(0x75e)][_0x304a0f(0x56d)]();},this['canvas']=document[_0x1f06cd(0xad5)](_0x1f06cd(0x74f)),this[_0x1f06cd(0x32b)]=this['canvas'][_0x1f06cd(0x73f)]('2d'),this[_0x1f06cd(0x398)]=this['canvas']['captureStream'](_0x461bcc),this[_0x1f06cd(0x14a)]=this[_0x1f06cd(0x93a)][_0x1f06cd(0x706)](),this[_0x1f06cd(0x897)][_0x1f06cd(0x6bc)]()['length']>0x0){const _0x123ee1=this[_0x1f06cd(0x897)][_0x1f06cd(0x6bc)]()[0x0];this[_0x1f06cd(0x312)]=this['audioContext'][_0x1f06cd(0x702)](new MediaStream([_0x123ee1])),this[_0x1f06cd(0x312)][_0x1f06cd(0x50c)](this[_0x1f06cd(0x14a)]);}const _0x14997f=this[_0x1f06cd(0x14a)]['stream'][_0x1f06cd(0x4a5)]()[0x0];this[_0x1f06cd(0x398)][_0x1f06cd(0x35f)](_0x14997f),this['interval']=setInterval(()=>{const _0x159729=_0x1f06cd;this[_0x159729(0x74f)]['width']=this[_0x159729(0x75e)][_0x159729(0xaa8)],this[_0x159729(0x74f)][_0x159729(0x103)]=this['sourceVideo'][_0x159729(0x2f5)],this[_0x159729(0x75e)]['videoWidth']?(0x0!==this[_0x159729(0x897)][_0x159729(0x4f9)]()[_0x159729(0x878)]&&this[_0x159729(0x897)][_0x159729(0x4f9)]()[0x0]['enabled']?this[_0x159729(0x398)][_0x159729(0x4f9)]()[0x0][_0x159729(0x5a8)]=!0x0:this[_0x159729(0x398)]['getVideoTracks']()[0x0][_0x159729(0x5a8)]=!0x1,0x0!==this[_0x159729(0x897)]['getAudioTracks']()[_0x159729(0x878)]&&this['clientStream'][_0x159729(0x6bc)]()[0x0][_0x159729(0x5a8)]?this[_0x159729(0x398)][_0x159729(0x6bc)]()[0x0][_0x159729(0x5a8)]=!0x0:this[_0x159729(0x398)][_0x159729(0x6bc)]()[0x0][_0x159729(0x5a8)]=!0x1,this['context'][_0x159729(0x1bf)](this[_0x159729(0x75e)],0x0,0x0)):this['context'][_0x159729(0x5e1)](0x0,0x0,this[_0x159729(0x74f)][_0x159729(0x44f)],this[_0x159729(0x74f)][_0x159729(0x103)]);},0x3e8/_0x461bcc);}[_0x3149ab(0x2cb)](){const _0x422447=_0x3149ab;clearInterval(this['interval']),this['sourceVideo']['remove'](),this[_0x422447(0x74f)][_0x422447(0x31c)](),this['audioSource']?.[_0x422447(0x70f)](),this[_0x422447(0x14a)]['disconnect'](),this[_0x422447(0x398)][_0x422447(0x4a5)]()[_0x422447(0x1d0)](_0x28ec34=>{const _0x10ee79=_0x422447;_0x28ec34[_0x10ee79(0x6f8)](),this['mediaStream'][_0x10ee79(0x60d)](_0x28ec34);}),super['destroy']();}['addTrack'](_0x428415){const _0x3a8ab7=_0x3149ab,_0x2549f4=this[_0x3a8ab7(0x1f4)](_0x428415['kind']);_0x2549f4&&this[_0x3a8ab7(0x60d)](_0x2549f4),_0x3a8ab7(0x354)!==_0x428415[_0x3a8ab7(0x60e)]?(_0x3a8ab7(0x717)===_0x428415[_0x3a8ab7(0x60e)]&&this[_0x3a8ab7(0x99b)](_0x428415),this[_0x3a8ab7(0x265)](_0x428415)):this[_0x3a8ab7(0x3d8)](_0x428415);}[_0x3149ab(0x60d)](_0x1f5052){const _0x253349=_0x3149ab,_0x3181df=this[_0x253349(0x8b8)](_0x1f5052);return _0x3181df&&(_0x253349(0x354)===_0x3181df[_0x253349(0x60e)]&&(this[_0x253349(0x312)]?.[_0x253349(0x70f)](),this[_0x253349(0x312)]=void 0x0),this[_0x253349(0x4e3)][_0x253349(0x524)](_0x3181df['kind'])?.(),this[_0x253349(0x897)][_0x253349(0x60d)](_0x3181df)),_0x3181df;}['replaceTrack'](_0xe5feff){const _0x14deee=_0x3149ab;this[_0x14deee(0x60d)](_0xe5feff[_0x14deee(0x60e)]),this[_0x14deee(0x35f)](_0xe5feff);}[_0x3149ab(0x476)](_0x384d43){const _0x48c9cf=_0x3149ab;this[_0x48c9cf(0x2ae)]=_0x384d43;}[_0x3149ab(0x1f4)](_0x2acdc5){const _0x362912=_0x3149ab;return this['clientStream'][_0x362912(0x4a5)]()[_0x362912(0x8e4)](_0x15a0ae=>_0x15a0ae[_0x362912(0x60e)]===_0x2acdc5)||null;}['getTrackFromParam'](_0x495f43){const _0x60cdb8=_0x3149ab;return _0x60cdb8(0x657)==typeof _0x495f43?this[_0x60cdb8(0x1f4)](_0x495f43):_0x495f43;}['addAudioTrack'](_0x5af8d5){const _0x1b3637=_0x3149ab;_0x1b3637(0x623)===this[_0x1b3637(0x93a)][_0x1b3637(0x911)]&&this[_0x1b3637(0x93a)]['resume'](),this['clientStream'][_0x1b3637(0x35f)](_0x5af8d5),this['audioSource']=this[_0x1b3637(0x93a)][_0x1b3637(0x702)](this[_0x1b3637(0x897)]),this[_0x1b3637(0x312)][_0x1b3637(0x50c)](this[_0x1b3637(0x14a)]);}[_0x3149ab(0x99b)](_0x4a7c5f){const _0x7ba7ed=_0x3149ab;this['clientStream'][_0x7ba7ed(0x35f)](_0x4a7c5f),this[_0x7ba7ed(0x75e)]['load']();}}class _0x436225 extends _0x29ba45{}class _0x305f13 extends _0x2e9fe0{[_0x3149ab(0x9ba)];[_0x3149ab(0x8ae)];[_0x3149ab(0x164)];[_0x3149ab(0x515)];['waitForArrayBufferSize'];[_0x3149ab(0x818)];[_0x3149ab(0x4bc)];['lastTransactionId'];['pendingSyncTransactions']=new Map();[_0x3149ab(0x135)]=new Map();['pendingFilesSyncing']=new Map();[_0x3149ab(0x34e)]=new Map();[_0x3149ab(0x6ee)]=new Map();[_0x3149ab(0x6f9)]=new Map();['objectStoreConnector'];[_0x3149ab(0x622)]=_0x269228();[_0x3149ab(0x32c)]=new Map();['debounceStats'];[_0x3149ab(0x531)]=0x0;['reads']=0x0;['syncContent']=!0x0;[_0x3149ab(0x1e9)]=!0x0;[_0x3149ab(0x81e)]=0x0;[_0x3149ab(0x790)]=0x0;constructor(_0x5da6ec,_0x2f090e,_0x425889,_0x4c39c2,_0x126668,_0x9e21e8,_0x4732d5,_0x415446){const _0x26cea6=_0x3149ab;if(_0x26cea6(0x657)!=typeof _0x2f090e)throw new _0xab88d9(_0x3cba44['ObjectStoreNameNotString'],_0x26cea6(0x584));super(_0x5da6ec,_0x2f090e),this[_0x26cea6(0x9ba)]=_0x5da6ec,this['clusterId']=_0x425889,this[_0x26cea6(0x164)]=_0x4c39c2,this['transactionService']=_0x126668,this['waitForArrayBufferSize']=_0x4732d5,this[_0x26cea6(0x818)]=_0x415446;const _0x24de1c='ccc'+this[_0x26cea6(0x164)]+_0x26cea6(0x2ca)+this[_0x26cea6(0x8ae)]+'ccc'+_0x2f090e;this['objectStoreConnector']=new _0x9e21e8(_0x24de1c),this[_0x26cea6(0x512)]=this['options']?.[_0x26cea6(0x512)]??!0x0,this[_0x26cea6(0x818)]?.[_0x26cea6(0xadb)]&&(this[_0x26cea6(0x512)]=!0x1),this[_0x26cea6(0x39c)]();}[_0x3149ab(0x626)](){this['sendStats']();}[_0x3149ab(0x941)](){const _0x321711=_0x3149ab;return _0x3a4c7c['ContentType'][_0x321711(0xa93)];}async[_0x3149ab(0x6bf)](){const _0x252b56=_0x3149ab;this[_0x252b56(0x1e9)]=!0x0;try{const _0x4e52cd=await this[_0x252b56(0x1c2)][_0x252b56(0x524)](_0x4d77ed),_0x39c2eb=await _0x4e52cd[_0x252b56(0xa7a)]();this[_0x252b56(0x244)]=_0x39c2eb;}catch(_0x52baf3){}this[_0x252b56(0x4bc)]=this[_0x252b56(0x64c)](async(_0x5022c9,_0x34f17d)=>{const _0x4816c1=_0x252b56;if(!(_0x34f17d instanceof File))try{if(_0x34f17d['payloadType']===_0x106414['Request'])return void this[_0x4816c1(0x993)](_0x34f17d);this[_0x4816c1(0x5ea)](_0x34f17d);}catch(_0x4da08f){if(_0x4da08f instanceof _0x224ab2)throw _0x4da08f;throw new _0x224ab2(_0x224ab2[_0x4816c1(0x8b5)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x34f17d});}}),await this['syncTransactions'](),this[_0x252b56(0x512)]?await this[_0x252b56(0x125)]():this[_0x252b56(0x6db)](),this[_0x252b56(0x39c)]();}['destroy'](){const _0x10de10=_0x3149ab;this[_0x10de10(0x4bc)]?.(),this['listenerUnsubscribers']['forEach'](_0x50e5e1=>_0x50e5e1()),this['listenerUnsubscribers'][_0x10de10(0x876)](),clearTimeout(this[_0x10de10(0x264)]),delete this['debounceStats'],super[_0x10de10(0x2cb)]();}[_0x3149ab(0x11b)](){const _0x4b7e2e=_0x3149ab;this[_0x4b7e2e(0x364)]?.['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5['CloseObjectStoreBucket'],'label':this[_0x4b7e2e(0x3a4)]}});}['subscribe'](_0x1153b5,_0x405aee){const _0x3a6095=_0x3149ab;if(this[_0x3a6095(0x32c)][_0x3a6095(0x2a7)](_0x1153b5))throw new _0xab88d9(_0x3cba44['ObjectStoreAlreadySubscribed'],_0x3a6095(0x9ef));this['listenerUnsubscribers'][_0x3a6095(0x491)](_0x1153b5,this['eventListener']['subscribe'](_0x405aee)),this['isSyncing']||this[_0x3a6095(0x622)]['publish']({'event':_0x3a4c7c[_0x3a6095(0x511)][_0x3a6095(0x7d0)],'payload':{'filesSynced':this['filesSynced']}});}[_0x3149ab(0x3e9)](_0x3c407b){const _0xc9f85e=_0x3149ab;this[_0xc9f85e(0x32c)][_0xc9f85e(0x524)](_0x3c407b)?.(),this[_0xc9f85e(0x32c)][_0xc9f85e(0x979)](_0x3c407b);}['publish'](_0x49d4ff){const _0x1b5de2=_0x3149ab;switch(_0x49d4ff['action']){case _0x3a4c7c[_0x1b5de2(0x98f)]['File']:return this['publishFile'](_0x49d4ff[_0x1b5de2(0x543)],_0x49d4ff['path'],_0x49d4ff['options']);case _0x3a4c7c[_0x1b5de2(0x98f)][_0x1b5de2(0x754)]:return this[_0x1b5de2(0x373)](_0x49d4ff[_0x1b5de2(0xa21)]);case _0x3a4c7c[_0x1b5de2(0x98f)][_0x1b5de2(0x832)]:return this[_0x1b5de2(0x91c)](_0x49d4ff[_0x1b5de2(0xa21)],_0x49d4ff[_0x1b5de2(0x615)]);default:throw new _0xab88d9(_0x3cba44[_0x1b5de2(0x416)],_0x1b5de2(0xac8)+_0x49d4ff);}}async['unpublish'](_0xc54dad){const _0x1921e1=_0x3149ab;try{const _0x948fd5=(0x0,_0x19ce97['v4'])(),_0x1b717c=this[_0x1921e1(0x244)],_0x14c1ee={'payloadType':_0x106414[_0x1921e1(0xad0)],'action':_0xf8eda['Delete'],'id':_0x948fd5,'parentId':_0x1b717c,'path':_0xc54dad};await this['publishTransaction'](_0x14c1ee);const _0x4ce5ef=await this[_0x1921e1(0x16f)](_0xc54dad);!0x0!==this['options']?.['standalone']&&await this[_0x1921e1(0x7f3)](_0x14c1ee),_0x5b2279[_0x1921e1(0x995)](_0x3ce5a1[_0x1921e1(0x25a)],{'type':_0x1921e1(0x102),'label':this['label'],'nodeId':this[_0x1921e1(0x9ba)][_0x1921e1(0x394)](),'nodeType':this[_0x1921e1(0x9ba)]['type'],'clusterId':this[_0x1921e1(0x8ae)],'kind':_0x4ce5ef,'path':_0xc54dad}),this['writes']+=0x1,this[_0x1921e1(0x39c)]();}catch(_0x3a449d){if(_0x3a449d instanceof _0x224ab2)throw new _0xab88d9(_0x3cba44[_0x1921e1(0x7ce)],_0x1921e1(0x5c0)+_0xc54dad+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0xab88d9(_0x3cba44['ObjectStoreInvalidPath'],_0x1921e1(0x9bd)+_0xc54dad);}}async[_0x3149ab(0x524)](_0xbca314,_0x2bac7a){const _0x4f0254=_0x3149ab;_0x5b2279[_0x4f0254(0x995)](_0x3ce5a1[_0x4f0254(0x25a)],{'type':'get','label':this['label'],'nodeId':this[_0x4f0254(0x9ba)]['getId'](),'nodeType':this[_0x4f0254(0x9ba)][_0x4f0254(0x16c)],'clusterId':this['clusterId'],'path':_0xbca314}),this[_0x4f0254(0x369)]+=0x1,this[_0x4f0254(0x39c)]();try{return await this[_0x4f0254(0x1c2)][_0x4f0254(0x524)](_0xbca314,_0x2bac7a);}catch(_0x13029c){try{await this['objectStoreConnector']['get'](_0xbca314+_0x1b609c);}catch(_0x3e7d72){throw new _0xab88d9(_0x3cba44[_0x4f0254(0x68d)],_0x4f0254(0x9ac)+_0xbca314);}throw new _0xab88d9(_0x3cba44[_0x4f0254(0x7ce)],_0x4f0254(0x5b8));}}async[_0x3149ab(0x253)](_0x33010b,_0x47ae21){const _0x26bd99=_0x3149ab,{recursive:_0x2caf28=!0x1,includeSyncingFiles:_0x4d125d=!0x1}=_0x47ae21??{};_0x5b2279[_0x26bd99(0x995)](_0x3ce5a1[_0x26bd99(0x25a)],{'type':'list','label':this[_0x26bd99(0x3a4)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x26bd99(0x16c)],'clusterId':this[_0x26bd99(0x8ae)],'path':_0x33010b}),this[_0x26bd99(0x369)]+=0x1,this[_0x26bd99(0x39c)]();try{const _0x2d89a3=await this[_0x26bd99(0x1c2)][_0x26bd99(0x253)](_0x33010b,_0x2caf28);return this['processList'](_0x2d89a3,{'recursive':_0x2caf28,'includeSyncingFiles':_0x4d125d});}catch(_0x46241d){throw new _0xab88d9(_0x3cba44[_0x26bd99(0x68d)],_0x26bd99(0x95f)+_0x33010b);}}[_0x3149ab(0x62a)](_0x4aa6c4){const _0x3a2c21=_0x3149ab;this['nodesConnected']+=0x1;for(const _0x4c5489 of this[_0x3a2c21(0x135)][_0x3a2c21(0x6da)]())this['send'](_0x4c5489,[_0x4aa6c4]);}[_0x3149ab(0x187)](_0x14d017){const _0x49dbea=_0x3149ab;this[_0x49dbea(0x790)]-=0x1;const _0x802a30=this[_0x49dbea(0x2f4)]['get'](_0x14d017);if(_0x802a30){for(const [_0x598772,_0x26c693]of _0x802a30['values']())this[_0x49dbea(0x20d)](_0x598772,_0x26c693);this[_0x49dbea(0x2f4)][_0x49dbea(0x979)](_0x14d017);}}async[_0x3149ab(0x535)](_0x6b162d='/'){const _0x6de6e9=_0x3149ab;try{return await this[_0x6de6e9(0x1c2)][_0x6de6e9(0x425)](_0x6b162d);}catch(_0x111678){if(_0x111678 instanceof Error&&_0x111678[_0x6de6e9(0x948)]['includes'](_0x6de6e9(0x26e)))return 0x0;throw new _0xab88d9(_0x3cba44[_0x6de6e9(0x68d)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x6b162d);}}[_0x3149ab(0x6db)](){const _0x1819b0=_0x3149ab;this[_0x1819b0(0x1e9)]&&(this[_0x1819b0(0x1e9)]=!0x1,this[_0x1819b0(0x622)]['publish']({'event':_0x3a4c7c[_0x1819b0(0x511)][_0x1819b0(0x7d0)],'payload':{'filesSynced':this[_0x1819b0(0x81e)]}}));}async[_0x3149ab(0x499)](_0x121e84,{includeSyncingFiles:_0x443527=!0x1}){const _0x2bd4c0=_0x3149ab,_0x3be4dd=[];for(const _0x2516c8 of _0x121e84)if(_0x2516c8[_0x2bd4c0(0x60e)]!==_0x3a4c7c[_0x2bd4c0(0x465)][_0x2bd4c0(0x754)]){if(_0x2516c8[_0x2bd4c0(0x662)]!==_0x4d77ed){if(_0x2516c8[_0x2bd4c0(0x662)][_0x2bd4c0(0x9d2)](_0x1b609c)){if(!_0x443527)continue;const _0x36045f=_0x2516c8;if(_0x36045f[_0x2bd4c0(0x662)]=_0x36045f[_0x2bd4c0(0x662)][_0x2bd4c0(0xabe)](_0x1b609c,''),_0x36045f[_0x2bd4c0(0x4dd)]=_0x36045f[_0x2bd4c0(0x4dd)][_0x2bd4c0(0xabe)](_0x1b609c,''),await this[_0x2bd4c0(0x69e)](_0x36045f[_0x2bd4c0(0x4dd)])){_0x121e84[_0x2bd4c0(0x8e4)](_0x427a57=>_0x427a57[_0x2bd4c0(0x4dd)]===_0x36045f['pathName'])[_0x2bd4c0(0x27a)]=_0x3a4c7c[_0x2bd4c0(0x3e3)]['Syncing'];continue;}_0x36045f[_0x2bd4c0(0x27a)]=_0x3a4c7c['FileStatus'][_0x2bd4c0(0x1bb)];}_0x3be4dd[_0x2bd4c0(0x7e8)](_0x2516c8);}}else _0x2516c8[_0x2bd4c0(0x2ac)]=await this[_0x2bd4c0(0x499)](_0x2516c8[_0x2bd4c0(0x2ac)]??[],{'includeSyncingFiles':_0x443527}),_0x3be4dd[_0x2bd4c0(0x7e8)](_0x2516c8);return _0x3be4dd;}async[_0x3149ab(0x896)](_0x2094e7,_0x445a2b,_0x12d454){const _0x44a142=_0x3149ab;try{const _0x2f2fc7=(0x0,_0x19ce97['v4'])(),_0x58540a=await _0x468d16(_0x2094e7),_0x3f96bb=_0x521380(_0x445a2b??'/',_0x2094e7['name']);let _0x2566d0=!0x0;const _0x2c5065={'payloadType':_0x106414[_0x44a142(0xad0)],'action':_0xf8eda[_0x44a142(0x2a3)],'id':_0x2f2fc7,'parentId':this[_0x44a142(0x244)],'answererId':this[_0x44a142(0x9ba)][_0x44a142(0x394)](),'name':_0x2094e7[_0x44a142(0x662)],'type':_0x2094e7[_0x44a142(0x16c)],'path':_0x445a2b??'/','skipEncryption':_0x12d454?.[_0x44a142(0x122)]??!0x1,'checksum':_0x58540a};try{if(!_0x12d454?.[_0x44a142(0x519)])throw new Error(_0x44a142(0x2c1));const _0x5a1224=_0x3f96bb+_0x1b609c;await this[_0x44a142(0x1c2)]['get'](_0x5a1224),_0x2566d0=!0x1,await this['objectStoreConnector'][_0x44a142(0x16f)](_0x5a1224),this['objectRequests'][_0x44a142(0x979)](_0x3f96bb);}catch(_0x9c2156){await this[_0x44a142(0x34b)](_0x2c5065);}if(this[_0x44a142(0x512)]||this[_0x44a142(0x818)]?.[_0x44a142(0xadb)]?await this[_0x44a142(0xa30)](_0x2094e7,_0x445a2b,_0x12d454):await this[_0x44a142(0x855)](_0x2094e7[_0x44a142(0x662)],_0x445a2b??'/',{'checksum':_0x58540a,'skipEncryption':_0x12d454?.['skipEncryption']??!0x1}),this[_0x44a142(0x6f9)][_0x44a142(0x2a7)](_0x3f96bb)){const [_0x1d8f5f,_0x41ede0]=this[_0x44a142(0x6f9)][_0x44a142(0x524)](_0x3f96bb);this['fileSendingMap'][_0x44a142(0x491)](_0x3f96bb,[!0x0,_0x41ede0]);try{await _0x41ede0;}catch(_0x191958){}this[_0x44a142(0x6f9)][_0x44a142(0x979)](_0x3f96bb);}_0x2566d0&&this[_0x44a142(0x790)]>0x0&&!0x0!==this['options']?.[_0x44a142(0xadb)]&&await this[_0x44a142(0x745)](_0x2094e7,_0x2c5065),_0x5b2279[_0x44a142(0x995)](_0x3ce5a1[_0x44a142(0x25a)],{'type':_0x44a142(0x415),'label':this[_0x44a142(0x3a4)],'nodeId':this[_0x44a142(0x9ba)][_0x44a142(0x394)](),'nodeType':this['localNode'][_0x44a142(0x16c)],'clusterId':this[_0x44a142(0x8ae)],'kind':_0x3a4c7c['ObjectKind'][_0x44a142(0x6a9)],'path':_0x445a2b,'fileName':_0x2094e7[_0x44a142(0x662)],'fileType':_0x2094e7[_0x44a142(0x16c)],'size':_0x2094e7['size']}),this[_0x44a142(0x531)]+=0x1,this[_0x44a142(0x39c)]();}catch(_0x4796be){if(_0x4796be instanceof _0x224ab2)throw new _0xab88d9(_0x3cba44[_0x44a142(0x7ce)],_0x44a142(0x5b8));throw new _0xab88d9(_0x3cba44[_0x44a142(0x68d)],_0x44a142(0x4b6)+_0x445a2b+(_0x445a2b?.['endsWith']('/')?'':'/')+_0x2094e7[_0x44a142(0x662)]);}}async[_0x3149ab(0x373)](_0x38fdc7){const _0x277f77=_0x3149ab;try{const _0x3417e4=(0x0,_0x19ce97['v4'])(),_0x2804a1=this[_0x277f77(0x244)],_0x1711b0={'payloadType':_0x106414[_0x277f77(0xad0)],'action':_0xf8eda['FolderCreate'],'id':_0x3417e4,'parentId':_0x2804a1,'path':_0x38fdc7};await this['publishTransaction'](_0x1711b0),await this[_0x277f77(0x1c2)][_0x277f77(0x621)](_0x38fdc7),!0x0!==this[_0x277f77(0x818)]?.[_0x277f77(0xadb)]&&await this['send'](_0x1711b0),_0x5b2279[_0x277f77(0x995)](_0x3ce5a1[_0x277f77(0x25a)],{'type':_0x277f77(0x415),'label':this[_0x277f77(0x3a4)],'nodeId':this[_0x277f77(0x9ba)][_0x277f77(0x394)](),'nodeType':this['localNode'][_0x277f77(0x16c)],'clusterId':this['clusterId'],'kind':_0x3a4c7c['ObjectKind'][_0x277f77(0x754)],'path':_0x38fdc7}),this[_0x277f77(0x531)]+=0x1,this[_0x277f77(0x39c)]();}catch(_0x51066c){if(_0x51066c instanceof _0x224ab2)throw new _0xab88d9(_0x3cba44[_0x277f77(0x7ce)],_0x277f77(0x5b8));throw new _0xab88d9(_0x3cba44[_0x277f77(0x68d)],_0x277f77(0x1ef)+_0x38fdc7);}}async[_0x3149ab(0x91c)](_0x4f2dcc,_0x3ff16a){const _0x576c41=_0x3149ab;try{const _0x510b47=(0x0,_0x19ce97['v4'])(),_0x552de5=this[_0x576c41(0x244)],_0x4b8796={'payloadType':_0x106414['Transaction'],'action':_0xf8eda['Move'],'id':_0x510b47,'parentId':_0x552de5,'path':_0x4f2dcc,'newPath':_0x3ff16a};await this['publishTransaction'](_0x4b8796);const _0x3c97f4=await this['moveObject'](_0x4f2dcc,_0x3ff16a);!0x0!==this['options']?.[_0x576c41(0xadb)]&&await this[_0x576c41(0x7f3)](_0x4b8796),_0x5b2279[_0x576c41(0x995)](_0x3ce5a1[_0x576c41(0x25a)],{'type':_0x576c41(0x69c),'label':this[_0x576c41(0x3a4)],'nodeId':this[_0x576c41(0x9ba)][_0x576c41(0x394)](),'nodeType':this[_0x576c41(0x9ba)][_0x576c41(0x16c)],'clusterId':this[_0x576c41(0x8ae)],'kind':_0x3c97f4,'path':_0x4f2dcc,'newPath':_0x3ff16a}),this['writes']+=0x1,this[_0x576c41(0x39c)]();}catch(_0x471840){if(_0x471840 instanceof _0x224ab2)throw new _0xab88d9(_0x3cba44[_0x576c41(0x7ce)],_0x576c41(0x5b8));throw new _0xab88d9(_0x3cba44[_0x576c41(0x68d)],_0x576c41(0x5e6)+_0x4f2dcc);}}async[_0x3149ab(0x5ea)](_0x4f48be,_0x6f20df=!0x1){const _0x48cc7d=_0x3149ab;if(this[_0x48cc7d(0x244)]&&_0x4f48be[_0x48cc7d(0x6df)]!==this['lastTransactionId']&&_0x4f48be['id']!==this[_0x48cc7d(0x244)]){if(!_0x4f48be[_0x48cc7d(0x6df)])throw new _0x224ab2(_0x224ab2[_0x48cc7d(0x8b5)][_0x48cc7d(0x193)]);this[_0x48cc7d(0x3e4)][_0x48cc7d(0x491)](_0x4f48be[_0x48cc7d(0x6df)],_0x4f48be);}else{try{await this[_0x48cc7d(0x703)](_0x4f48be,_0x6f20df);}catch(_0x2f29d3){}await this[_0x48cc7d(0x4e0)](_0x4f48be['id']),await this[_0x48cc7d(0x473)](_0x4f48be['id'],_0x6f20df);}}async[_0x3149ab(0x703)](_0x5d27ff,_0x5cc3bb=!0x1){const _0x39fbda=_0x3149ab;switch(_0x5d27ff[_0x39fbda(0x9f6)]){case _0xf8eda[_0x39fbda(0x2a3)]:await this['handleFileWrite'](_0x5d27ff);break;case _0xf8eda[_0x39fbda(0x7b8)]:await this['handleFolderCreate'](_0x5d27ff);break;case _0xf8eda['Move']:await this[_0x39fbda(0x36e)](_0x5d27ff,_0x5cc3bb);break;case _0xf8eda[_0x39fbda(0x867)]:await this[_0x39fbda(0x786)](_0x5d27ff,_0x5cc3bb);break;default:throw new _0x224ab2(_0x224ab2['codes'][_0x39fbda(0x193)],{'payload':_0x5d27ff});}}async[_0x3149ab(0x473)](_0x340fc4,_0x1eb970=!0x1){const _0x25effe=_0x3149ab;if(this[_0x25effe(0x3e4)][_0x25effe(0x2a7)](_0x340fc4)){const _0x246b44=this[_0x25effe(0x3e4)]['get'](_0x340fc4);this[_0x25effe(0x3e4)][_0x25effe(0x979)](_0x340fc4),await this[_0x25effe(0x5ea)](_0x246b44,_0x1eb970);}}async[_0x3149ab(0x993)](_0x2c9f57){const _0x4673ad=_0x3149ab;switch(_0x2c9f57[_0x4673ad(0x9f6)]){case _0xf8eda[_0x4673ad(0x23d)]:return this[_0x4673ad(0x570)](_0x2c9f57);case _0xf8eda[_0x4673ad(0xa8b)]:return this['handleFileRequestAnswer'](_0x2c9f57);case _0xf8eda[_0x4673ad(0x18a)]:return this[_0x4673ad(0x35e)](_0x2c9f57);case _0xf8eda[_0x4673ad(0xad7)]:return this[_0x4673ad(0x932)](_0x2c9f57);default:throw new _0x224ab2(_0x224ab2['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x2c9f57});}}async['handleFileWrite'](_0x578194,_0x12aa63=0x0){const _0x140cf3=_0x3149ab,_0x3d6455=_0x521380(_0x578194['path'],_0x578194['name']);if(!_0x578194['data']||void 0x0===_0x578194[_0x140cf3(0x270)]||!_0x578194[_0x140cf3(0x8fb)])return this[_0x140cf3(0x9f8)][_0x140cf3(0x979)](_0x3d6455),void await this[_0x140cf3(0x855)](_0x578194[_0x140cf3(0x662)],_0x578194[_0x140cf3(0xa21)],{'checksum':_0x578194[_0x140cf3(0xa35)],'skipEncryption':_0x578194[_0x140cf3(0x122)]});if(this[_0x140cf3(0x9f8)][_0x140cf3(0x2a7)](_0x3d6455)){const _0x11c408=this[_0x140cf3(0x9f8)][_0x140cf3(0x524)](_0x3d6455);_0x11c408[_0x140cf3(0xa35)]!==_0x578194[_0x140cf3(0xa35)]&&(_0x11c408[_0x140cf3(0x46b)]?.[_0x140cf3(0x11b)](),this['fileChunks'][_0x140cf3(0x979)](_0x3d6455));}if(!this[_0x140cf3(0x9f8)][_0x140cf3(0x2a7)](_0x3d6455)){try{await this['objectStoreConnector'][_0x140cf3(0x16f)](_0x3d6455);}catch(_0x515ee9){}try{const _0x125d71=this['syncContent']?await this[_0x140cf3(0x1c2)][_0x140cf3(0xa7e)](_0x3d6455,{'skipEncryption':_0x578194[_0x140cf3(0x122)]}):void 0x0,_0x474b33={'chunksReceived':_0x578194[_0x140cf3(0x238)]??0x0,'bytesReceived':0x0,'stream':_0x125d71,'checksum':_0x578194[_0x140cf3(0xa35)]};this['fileChunks'][_0x140cf3(0x491)](_0x3d6455,_0x474b33),await this['createPendingFileWrite'](_0x578194['name'],_0x578194['path'],{'checksum':_0x578194['checksum'],'skipEncryption':_0x578194['skipEncryption']});}catch(_0x3ecad0){}}const _0x29ea54=this[_0x140cf3(0x9f8)][_0x140cf3(0x524)](_0x3d6455);if(_0x578194[_0x140cf3(0xa35)]!==_0x29ea54[_0x140cf3(0xa35)])return;if(this[_0x140cf3(0xa1f)](_0x578194,_0x3d6455),this[_0x140cf3(0x512)]){if(!_0x29ea54[_0x140cf3(0x46b)])throw new _0x224ab2(_0x224ab2[_0x140cf3(0x8b5)]['ObjectStoreInvalidSyncMessage'],{'message':_0x140cf3(0x864)});let _0x4ddbff=_0x29ea54['chunksReceived'];if(_0x578194[_0x140cf3(0x270)]!==_0x4ddbff){if(_0x4ddbff>_0x578194['index'])return;const _0x51b7ed=0x1000;if(_0x578194[_0x140cf3(0x270)]>_0x4ddbff+_0x51b7ed)return;if(_0x29ea54[_0x140cf3(0x23b)]||(_0x29ea54['bufferedChunks']=[]),_0x29ea54[_0x140cf3(0x23b)][_0x140cf3(0x878)]>0x4000)throw this['fileChunks']['delete'](_0x3d6455),new _0x224ab2(_0x224ab2[_0x140cf3(0x8b5)]['ObjectStoreInvalidSyncMessage'],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x29ea54['bufferedChunks'][_0x140cf3(0x7e8)](_0x578194);}try{_0x29ea54[_0x140cf3(0x8ac)]+=0x1,_0x29ea54['bytesReceived']+=_0x578194[_0x140cf3(0x9b8)][_0x140cf3(0x352)],await _0x29ea54[_0x140cf3(0x46b)][_0x140cf3(0x462)](_0x578194['data']);}catch(_0x366e2){if(console[_0x140cf3(0x1be)](_0x140cf3(0x749),_0x366e2),_0x12aa63>0x3)throw this['fileChunks'][_0x140cf3(0x979)](_0x3d6455),console[_0x140cf3(0x1be)](_0x140cf3(0x67e),_0x366e2),new _0x224ab2(_0x224ab2[_0x140cf3(0x8b5)][_0x140cf3(0x193)],{'message':_0x140cf3(0x67e)});return this[_0x140cf3(0x932)](_0x578194,_0x12aa63+0x1);}}try{await this[_0x140cf3(0x8d0)](_0x29ea54,_0x578194[_0x140cf3(0x270)]+0x1);}catch(_0x3b955){throw this['fileChunks']['delete'](_0x3d6455),_0x3b955;}if(this[_0x140cf3(0x9f8)][_0x140cf3(0x491)](_0x3d6455,_0x29ea54),_0x29ea54[_0x140cf3(0x8ac)]<_0x578194[_0x140cf3(0x8fb)])return;await this[_0x140cf3(0x598)](_0x3d6455),this[_0x140cf3(0x512)]&&(await this[_0x140cf3(0x3b5)](_0x578194),_0x5b2279[_0x140cf3(0x995)](_0x3ce5a1[_0x140cf3(0x25a)],{'type':_0x140cf3(0x6bf),'label':this[_0x140cf3(0x3a4)],'nodeId':this['localNode'][_0x140cf3(0x394)](),'nodeType':this[_0x140cf3(0x9ba)]['type'],'clusterId':this[_0x140cf3(0x8ae)],'kind':_0x3a4c7c[_0x140cf3(0x465)][_0x140cf3(0x6a9)],'path':_0x578194['path'],'fileName':_0x578194[_0x140cf3(0x662)],'fileType':_0x578194[_0x140cf3(0x16c)],'size':_0x29ea54[_0x140cf3(0x4f8)]}));const _0x1982dd=this[_0x140cf3(0x34e)][_0x140cf3(0x524)](_0x578194[_0x140cf3(0xa21)])??[];for(const _0x22ab65 of _0x1982dd)await this['processTransactionPayload'](_0x22ab65);this[_0x140cf3(0x34e)][_0x140cf3(0x979)](_0x578194['path']),this['eventListener'][_0x140cf3(0x415)]({'event':_0x3a4c7c[_0x140cf3(0x511)][_0x140cf3(0x2a3)],'payload':{'file':{'kind':_0x3a4c7c['ObjectKind'][_0x140cf3(0x6a9)],'path':_0x578194[_0x140cf3(0xa21)],'type':_0x578194[_0x140cf3(0x16c)],'size':_0x29ea54[_0x140cf3(0x4f8)],'name':_0x578194[_0x140cf3(0x662)],'pathName':_0x3d6455,'status':this[_0x140cf3(0x512)]?_0x3a4c7c[_0x140cf3(0x3e3)][_0x140cf3(0xad6)]:_0x3a4c7c[_0x140cf3(0x3e3)][_0x140cf3(0x1bb)]}}}),this[_0x140cf3(0x39c)]();}async[_0x3149ab(0x8d0)](_0x3fc1a9,_0x2e2b42){const _0x5e96c7=_0x3149ab,_0x4cf42a=_0x3fc1a9[_0x5e96c7(0x46b)];let _0x23685e=0x0;for(;_0x3fc1a9['bufferedChunks']&&_0x3fc1a9[_0x5e96c7(0x23b)]['length']>0x0;){const _0xd67241=_0x3fc1a9[_0x5e96c7(0x23b)][_0x5e96c7(0x8e4)](_0x52f623=>_0x52f623['index']===_0x2e2b42+0x1);if(!_0xd67241)break;_0x3fc1a9[_0x5e96c7(0x23b)]=_0x3fc1a9[_0x5e96c7(0x23b)]['filter'](_0x45edf7=>_0x45edf7['index']!==_0x2e2b42+0x1);try{await _0x4cf42a[_0x5e96c7(0x462)](_0xd67241[_0x5e96c7(0x9b8)]),_0x2e2b42++;}catch(_0x238a7f){if(console[_0x5e96c7(0x1be)](_0x5e96c7(0x1d1),_0x238a7f),_0x23685e>0x3)throw console[_0x5e96c7(0x1be)](_0x5e96c7(0x5e7),_0x238a7f),new _0x224ab2(_0x224ab2[_0x5e96c7(0x8b5)][_0x5e96c7(0x193)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x23685e++;continue;}_0x3fc1a9[_0x5e96c7(0x8ac)]+=0x1,_0x3fc1a9[_0x5e96c7(0x4f8)]+=_0xd67241[_0x5e96c7(0x9b8)][_0x5e96c7(0x352)];}}async[_0x3149ab(0x63b)](_0x570e71){const _0x11972a=_0x3149ab;await this[_0x11972a(0x1c2)]['createFolder'](_0x570e71['path']);const [_0x4a3de3,_0x2e161d]=_0x2576b2(_0x570e71['path']);this[_0x11972a(0x622)][_0x11972a(0x415)]({'event':_0x3a4c7c['StorageEventType'][_0x11972a(0x7b8)],'payload':{'folder':{'kind':_0x3a4c7c[_0x11972a(0x465)][_0x11972a(0x754)],'name':_0x2e161d,'path':_0x4a3de3,'pathName':_0x570e71[_0x11972a(0xa21)]}}});}async[_0x3149ab(0x786)](_0x8efaea,_0x429e6b=!0x1){const _0x556167=_0x3149ab;if(!_0x429e6b&&!this['shouldProcessTransaction'](_0x8efaea))return;const _0x54530d=await this[_0x556167(0x16f)](_0x8efaea['path']),[_0xc6b477,_0x19541d]=_0x2576b2(_0x8efaea[_0x556167(0xa21)]);this[_0x556167(0x622)][_0x556167(0x415)]({'event':_0x54530d===_0x3a4c7c[_0x556167(0x465)][_0x556167(0x754)]?_0x3a4c7c[_0x556167(0x511)]['FolderDelete']:_0x3a4c7c['StorageEventType'][_0x556167(0x5fe)],'payload':{'name':_0x19541d,'path':_0xc6b477,'pathName':_0x8efaea[_0x556167(0xa21)]}}),this['sendStats']();}async['handleObjectMove'](_0x170933,_0x16c574=!0x1){const _0x540ded=_0x3149ab;if(!_0x16c574&&!this['shouldProcessTransaction'](_0x170933))return this[_0x540ded(0x6ee)][_0x540ded(0x491)](_0x170933[_0x540ded(0x615)],this[_0x540ded(0x6ee)][_0x540ded(0x524)](_0x170933[_0x540ded(0xa21)])??_0x170933['path']),void this[_0x540ded(0x6ee)]['delete'](_0x170933[_0x540ded(0xa21)]);this['pendingFilesRename'][_0x540ded(0x979)](_0x170933[_0x540ded(0xa21)]);const _0x46b6a3=await this[_0x540ded(0x1c2)][_0x540ded(0x6e6)](_0x170933[_0x540ded(0xa21)],_0x170933['newPath']),[_0x460398,_0xa06bb]=_0x2576b2(_0x170933[_0x540ded(0xa21)]),[_0x5706cd,_0x57df2b]=_0x2576b2(_0x170933[_0x540ded(0x615)]);this[_0x540ded(0x622)][_0x540ded(0x415)]({'event':_0x46b6a3===_0x3a4c7c[_0x540ded(0x465)][_0x540ded(0x754)]?_0x3a4c7c['StorageEventType']['FolderMove']:_0x3a4c7c[_0x540ded(0x511)][_0x540ded(0x368)],'payload':{'name':_0x57df2b,'path':_0x5706cd,'pathName':_0x170933[_0x540ded(0x615)],'oldName':_0xa06bb,'oldPath':_0x460398,'oldPathName':_0x170933[_0x540ded(0xa21)]}}),this[_0x540ded(0x39c)]();}['shouldProcessTransaction'](_0x4c4bf3){const _0x39b70c=_0x3149ab,_0x1f22ab=this['pendingFilesRename'][_0x39b70c(0x524)](_0x4c4bf3['path'])??_0x4c4bf3[_0x39b70c(0xa21)];let _0x34d403=!0x1;for(const _0x290322 of this[_0x39b70c(0x9f8)]['keys']())if(_0x290322['startsWith'](_0x1f22ab)){const _0x1111d3=this[_0x39b70c(0x34e)]['get'](_0x290322)??[];_0x1111d3[_0x39b70c(0x7e8)](_0x4c4bf3),this['pendingFilesTransactions'][_0x39b70c(0x491)](_0x290322,_0x1111d3),_0x34d403=!0x0;}return!_0x34d403;}async[_0x3149ab(0x34b)](_0x1c78f2){const _0x42ab92=_0x3149ab;if(!this[_0x42ab92(0x818)]?.[_0x42ab92(0xadb)]){if(!_0x1c78f2['id'])throw new _0x224ab2(_0x224ab2[_0x42ab92(0x8b5)]['ObjectStoreInvalidSyncMessage'],{'message':_0x42ab92(0x2b0)});if(_0x1c78f2[_0x42ab92(0x6df)]!==this[_0x42ab92(0x244)])throw new _0x224ab2(_0x224ab2[_0x42ab92(0x8b5)][_0x42ab92(0x9bf)]);await this['transactionService']['writeTransaction'](_0x1c78f2,this[_0x42ab92(0x3a4)]),await this[_0x42ab92(0x4e0)](_0x1c78f2['id']);}}async[_0x3149ab(0x4e0)](_0x7d8393){const _0xbfa4c0=_0x3149ab;this[_0xbfa4c0(0x244)]=_0x7d8393;const _0x29002c=new File([new Blob([this[_0xbfa4c0(0x244)]])],_0x4d77ed,{'type':_0xbfa4c0(0x89b)});await this[_0xbfa4c0(0xa30)](_0x29002c,'/');}async['handleFileRequest'](_0x1a05a3){const _0x15e987=_0x3149ab;try{const _0x388e09=await this[_0x15e987(0x524)](_0x1a05a3[_0x15e987(0xa21)]+'/'+_0x1a05a3['name'],{'skipEncryption':_0x1a05a3[_0x15e987(0x122)]}),_0x4757a3=await _0x468d16(_0x388e09);if(''!==_0x1a05a3['checksum']&&_0x4757a3!==_0x1a05a3[_0x15e987(0xa35)])return;_0x1a05a3[_0x15e987(0x91b)]=this['localNode'][_0x15e987(0x394)](),_0x1a05a3[_0x15e987(0x9f6)]=_0xf8eda['RequestAccepted'],await this[_0x15e987(0x7f3)](_0x1a05a3,[_0x1a05a3[_0x15e987(0x61f)]]);}catch(_0x261423){}}async[_0x3149ab(0xa6f)](_0x559b03){const _0x56256e=_0x3149ab,_0x5bd22a=_0x521380(_0x559b03['path'],_0x559b03[_0x56256e(0x662)]);if(!this['objectRequests']['has'](_0x5bd22a))return;const _0x5b016d=this[_0x56256e(0x135)][_0x56256e(0x524)](_0x5bd22a);_0x5b016d['action']=_0xf8eda[_0x56256e(0x18a)];const _0x24d722=_0x559b03[_0x56256e(0x91b)];if(!_0x24d722)throw new _0x224ab2(_0x224ab2[_0x56256e(0x8b5)]['ObjectStoreInvalidSyncMessage'],{'message':_0x56256e(0x9a7)});if(this[_0x56256e(0x135)][_0x56256e(0x979)](_0x5bd22a),this['pendingFilesSyncing'][_0x56256e(0x2a7)](_0x24d722)||this['pendingFilesSyncing'][_0x56256e(0x491)](_0x24d722,new Map()),this[_0x56256e(0x2f4)][_0x56256e(0x524)](_0x24d722)[_0x56256e(0x491)](_0x5bd22a,[_0x5b016d,this[_0x56256e(0x628)](_0x24d722,_0x5bd22a)]),_0x5b016d[_0x56256e(0x91b)]=_0x24d722,_0x5b016d[_0x56256e(0x238)]=this[_0x56256e(0x9f8)][_0x56256e(0x524)](_0x5bd22a)?.[_0x56256e(0x8ac)]??0x0,0x0===_0x5b016d['startIndex'])try{const [_0x2b9228,_0x24b207]=await this[_0x56256e(0x9be)](_0x559b03[_0x56256e(0x662)],_0x559b03[_0x56256e(0xa21)],_0x559b03[_0x56256e(0xa35)]);_0x2b9228&&(_0x5b016d[_0x56256e(0x238)]=_0x24b207);}catch(_0x195fae){}this[_0x56256e(0x7f3)](_0x5b016d,[_0x24d722]);}async[_0x3149ab(0x35e)](_0x578b6d){const _0x24f7bb=_0x3149ab,_0x1961fa=_0x521380(_0x578b6d['path'],_0x578b6d['name']),_0x3cde9a=await this[_0x24f7bb(0x524)](_0x1961fa,{'skipEncryption':_0x578b6d[_0x24f7bb(0x122)]}),_0x26e97a={..._0x578b6d,'answererId':this[_0x24f7bb(0x9ba)][_0x24f7bb(0x394)](),'action':_0xf8eda['RequestFileWrite'],'startIndex':_0x578b6d[_0x24f7bb(0x238)]??0x0};await this[_0x24f7bb(0x745)](_0x3cde9a,_0x26e97a,[_0x578b6d[_0x24f7bb(0x61f)]]);}async[_0x3149ab(0x745)](_0x25d9ea,_0x244661,_0x439550){let _0x5c64d9,_0x278824;const _0x1a2431=new Promise(async(_0x2b4192,_0x22b7f1)=>{_0x5c64d9=_0x2b4192,_0x278824=_0x22b7f1;});return((async()=>{const _0x231a0f=a0_0x38d9,_0x5c1991=Math[_0x231a0f(0xa15)](_0x25d9ea['size']/_0x2eb4f7);let _0x2c48ed=_0x244661[_0x231a0f(0x238)]??0x0;const _0x51b918=_0x521380(_0x244661[_0x231a0f(0xa21)],_0x244661[_0x231a0f(0x662)]);this['fileSendingMap']['set'](_0x51b918,[!0x1,_0x1a2431]);for await(const _0x7bd582 of async function*(_0xfa4bc1,_0x5da862=0x0,_0x4240e0){for await(const _0x422d18 of _0x58ac08(_0xfa4bc1,_0x5da862,_0x4240e0))yield _0x422d18;}(_0x25d9ea,_0x2c48ed,this[_0x231a0f(0x9c9)])){const [_0x23f52b]=this['fileSendingMap'][_0x231a0f(0x524)](_0x51b918)??[];if(_0x23f52b)return this['fileSendingMap']['delete'](_0x51b918),void _0x278824(new Error(_0x231a0f(0x61e)));if(this[_0x231a0f(0x34e)]['has'](_0x51b918)){const _0x7d0691=this['pendingFilesTransactions'][_0x231a0f(0x524)](_0x51b918);for(const _0x4d709a of _0x7d0691)if(_0x4d709a[_0x231a0f(0x9f6)]===_0xf8eda[_0x231a0f(0x2a3)]||_0x4d709a[_0x231a0f(0x9f6)]===_0xf8eda[_0x231a0f(0x867)])return;}const _0x29ac8d={..._0x244661,'type':_0x25d9ea['type'],'data':_0x7bd582,'index':_0x2c48ed,'total':_0x5c1991};this['send'](_0x29ac8d,_0x439550),_0x2c48ed++;}const _0xfdfb3d=setInterval(async()=>{const _0x2b71ed=_0x231a0f;await this[_0x2b71ed(0x9c9)]()>0x0||(clearInterval(_0xfdfb3d),_0x5c64d9());});this[_0x231a0f(0x6f9)][_0x231a0f(0x979)](_0x51b918);})()),_0x1a2431;}async[_0x3149ab(0x3b5)](_0x42be08){const _0x20c8c3=_0x3149ab;try{const _0x4263c4=_0x521380(_0x42be08[_0x20c8c3(0xa21)],_0x42be08[_0x20c8c3(0x662)]),_0x2574e1=_0x4263c4+_0x1b609c;await this[_0x20c8c3(0x16f)](_0x2574e1);const [,_0x3d8b68]=this[_0x20c8c3(0x2f4)][_0x20c8c3(0x524)](_0x42be08[_0x20c8c3(0x91b)])?.[_0x20c8c3(0x524)](_0x4263c4)??[];_0x3d8b68&&(clearTimeout(_0x3d8b68),this['pendingFilesSyncing'][_0x20c8c3(0x524)](_0x42be08[_0x20c8c3(0x91b)])[_0x20c8c3(0x979)](_0x4263c4));}catch(_0x256d35){}0x0===this[_0x20c8c3(0x2f4)][_0x20c8c3(0x524)](_0x42be08[_0x20c8c3(0x91b)])?.['size']&&this[_0x20c8c3(0x2f4)][_0x20c8c3(0x979)](_0x42be08['answererId']),0x0===this[_0x20c8c3(0x2f4)][_0x20c8c3(0x1fa)]&&0x0===this[_0x20c8c3(0x135)][_0x20c8c3(0x1fa)]&&this[_0x20c8c3(0x6db)]();}async[_0x3149ab(0x182)](){const _0x19cd2b=_0x3149ab;try{const _0x4e2e54=await this[_0x19cd2b(0x515)]['getTransactions'](this[_0x19cd2b(0x3a4)],this['lastTransactionId']);for(const _0x59344b of _0x4e2e54)await this[_0x19cd2b(0x5ea)](_0x59344b,!0x0);}catch(_0x387874){if(_0x387874 instanceof _0x224ab2&&_0x387874[_0x19cd2b(0x634)]===_0x224ab2[_0x19cd2b(0x8b5)][_0x19cd2b(0x374)]){await this[_0x19cd2b(0x1c2)][_0x19cd2b(0x16f)](_0x4d77ed),delete this[_0x19cd2b(0x244)];try{const _0x1953be=await this[_0x19cd2b(0x1c2)][_0x19cd2b(0x253)]('/',!0x1);for(const _0x370d06 of _0x1953be)await this[_0x19cd2b(0x1c2)][_0x19cd2b(0x16f)](_0x370d06[_0x19cd2b(0x4dd)]);}catch(_0x421787){}return await this['syncTransactions']();}throw _0x387874;}}async[_0x3149ab(0x125)](){const _0x4d32f6=_0x3149ab,_0x551465=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0xcdc423=async _0x3e6250=>{const _0x5a3057=a0_0x38d9;for(const _0x2662b8 of _0x3e6250){if(_0x2662b8[_0x5a3057(0x60e)]===_0x3a4c7c['ObjectKind'][_0x5a3057(0x754)]){_0x2662b8[_0x5a3057(0x2ac)]&&_0x2662b8[_0x5a3057(0x2ac)]['length']>0x0&&await _0xcdc423(_0x2662b8['entries']);continue;}if(_0x2662b8[_0x5a3057(0x27a)]!==_0x3a4c7c[_0x5a3057(0x3e3)][_0x5a3057(0x1bb)])continue;const _0x2daa71=await this[_0x5a3057(0x524)](_0x2662b8[_0x5a3057(0x4dd)]+_0x1b609c),_0x2bee41=JSON['parse'](await _0x2daa71[_0x5a3057(0xa7a)]()),_0x3ec6dc=_0x2662b8[_0x5a3057(0x662)][_0x5a3057(0xabe)](_0x1b609c,''),_0x438ca1={'payloadType':_0x106414[_0x5a3057(0x497)],'action':_0xf8eda[_0x5a3057(0x23d)],'sourceId':this[_0x5a3057(0x9ba)]['getId'](),'type':'','path':_0x2662b8['path'],'name':_0x3ec6dc,'checksum':_0x2bee41[_0x5a3057(0xa35)],'skipEncryption':_0x2bee41[_0x5a3057(0x122)]},_0x38bb95=_0x521380(_0x2662b8[_0x5a3057(0xa21)],_0x3ec6dc);this[_0x5a3057(0x135)]['set'](_0x38bb95,_0x438ca1);}};await _0xcdc423(_0x551465),0x0===this[_0x4d32f6(0x135)]['size']&&0x0===this[_0x4d32f6(0x2f4)][_0x4d32f6(0x1fa)]&&this[_0x4d32f6(0x6db)]();}async[_0x3149ab(0x855)](_0x4370d9,_0x2eb033,_0x279ef2){const _0x48cb2d=_0x3149ab,_0x5e3f88=new File([new Blob([JSON[_0x48cb2d(0x31d)](_0x279ef2)])],''+_0x4370d9+_0x1b609c,{'type':_0x48cb2d(0x89b)});await this[_0x48cb2d(0xa30)](_0x5e3f88,_0x2eb033);}async['checkExistingPendingFileContent'](_0x4a789d,_0x4e0211,_0x27e6e6){const _0x10071e=_0x3149ab;try{const _0x13f58d=_0x521380(_0x4e0211,_0x4a789d),_0x4ed2bd=_0x13f58d+_0x1b609c,_0x5e25f6=await this[_0x10071e(0x1c2)][_0x10071e(0x524)](_0x4ed2bd),{checksum:_0x5a67e1,skipEncryption:_0x4e74a2}=JSON['parse'](await _0x5e25f6[_0x10071e(0xa7a)]()),_0x3194de=(await this[_0x10071e(0x1c2)]['get'](_0x13f58d,{'skipEncryption':_0x4e74a2}))[_0x10071e(0x1fa)];return _0x5a67e1===_0x27e6e6&&_0x3194de%_0x2eb4f7==0x0?[!0x0,Math[_0x10071e(0x1c8)](_0x3194de/_0x2eb4f7)]:(await this[_0x10071e(0x1c2)][_0x10071e(0x16f)](_0x13f58d),[!0x1,0x0]);}catch(_0x59277f){return[!0x1,0x0];}}[_0x3149ab(0x628)](_0x141141,_0x38c301){const _0x254bf8=_0x3149ab,[_0x2ebb13,_0x406824]=this[_0x254bf8(0x2f4)][_0x254bf8(0x524)](_0x141141)?.['get'](_0x38c301)??[];return _0x406824&&clearTimeout(_0x406824),setTimeout(()=>{const _0x3873e6=_0x254bf8,[_0x121c61,_0x53df1a]=this['pendingFilesSyncing'][_0x3873e6(0x524)](_0x141141)['get'](_0x38c301);this[_0x3873e6(0x20d)](_0x121c61,_0x53df1a);},0x927c0);}async['sendFileRequestPayload'](_0x5bb167,_0x2ef3dc){const _0x5f18c4=_0x3149ab;clearTimeout(_0x2ef3dc),_0x5bb167[_0x5f18c4(0x9f6)]=_0xf8eda['RequestFile'],this[_0x5f18c4(0x135)][_0x5f18c4(0x491)](_0x521380(_0x5bb167[_0x5f18c4(0xa21)],_0x5bb167[_0x5f18c4(0x662)]),_0x5bb167),this[_0x5f18c4(0x7f3)](_0x5bb167);}[_0x3149ab(0xa1f)](_0x34bf98,_0x23bfd8){const _0x135e3f=_0x3149ab;if(!this[_0x135e3f(0x512)])return;this[_0x135e3f(0x2f4)][_0x135e3f(0x2a7)](_0x34bf98[_0x135e3f(0x91b)])||this['pendingFilesSyncing'][_0x135e3f(0x491)](_0x34bf98[_0x135e3f(0x91b)],new Map());const [_0x24730d]=this[_0x135e3f(0x2f4)][_0x135e3f(0x524)](_0x34bf98[_0x135e3f(0x91b)])[_0x135e3f(0x524)](_0x23bfd8)??[{'payloadType':_0x106414['Request'],'action':_0xf8eda[_0x135e3f(0x23d)],'sourceId':this['localNode'][_0x135e3f(0x394)](),'type':_0x34bf98['type'],'name':_0x34bf98['name'],'path':_0x34bf98[_0x135e3f(0xa21)],'skipEncryption':_0x34bf98[_0x135e3f(0x122)],'checksum':_0x34bf98[_0x135e3f(0xa35)],'answererId':_0x34bf98[_0x135e3f(0x91b)]}];this[_0x135e3f(0x2f4)][_0x135e3f(0x524)](_0x34bf98[_0x135e3f(0x91b)])[_0x135e3f(0x491)](_0x23bfd8,[_0x24730d,this[_0x135e3f(0x628)](_0x34bf98[_0x135e3f(0x91b)],_0x23bfd8)]);}async[_0x3149ab(0xa30)](_0x4d51c4,_0x2bbb01,_0x2e728c){const _0xb17d3b=_0x3149ab;this['isSyncing']&&(this[_0xb17d3b(0x81e)]+=0x1),await this[_0xb17d3b(0x1c2)][_0xb17d3b(0xa30)](_0x4d51c4,_0x2bbb01,_0x2e728c);}async[_0x3149ab(0x16f)](_0x203daf){const _0x388ab3=_0x3149ab;try{const _0x47f1e6=await this[_0x388ab3(0x1c2)]['deleteObject'](_0x203daf);if(!_0x203daf[_0x388ab3(0x9d2)](_0x1b609c))try{await this['objectStoreConnector'][_0x388ab3(0x16f)](_0x203daf+_0x1b609c);}catch(_0x27b2df){}return this[_0x388ab3(0x1e9)]&&_0x47f1e6===_0x3a4c7c[_0x388ab3(0x465)][_0x388ab3(0x6a9)]&&(this[_0x388ab3(0x81e)]+=0x1),_0x47f1e6;}catch(_0x3a59d7){return await this[_0x388ab3(0x1c2)][_0x388ab3(0x16f)](_0x203daf+_0x1b609c);}}async[_0x3149ab(0x6e6)](_0x4535e7,_0x22dbce){const _0x12be75=_0x3149ab;try{const _0xa748af=await this['objectStoreConnector']['moveObject'](_0x4535e7,_0x22dbce);if(!_0x4535e7[_0x12be75(0x9d2)](_0x1b609c))try{await this[_0x12be75(0x1c2)][_0x12be75(0x6e6)](_0x4535e7+_0x1b609c,_0x22dbce+_0x1b609c);}catch(_0x1021fb){}return _0xa748af;}catch(_0x188aa3){return await this[_0x12be75(0x1c2)][_0x12be75(0x6e6)](_0x4535e7+_0x1b609c,_0x22dbce+_0x1b609c);}}[_0x3149ab(0x39c)](){const _0x3eb6c5=_0x3149ab;this['debounceStats']&&clearTimeout(this[_0x3eb6c5(0x264)]),this['debounceStats']=setTimeout(async()=>{const _0x2d8013=_0x3eb6c5;delete this[_0x2d8013(0x264)];const _0x3d98cb=await this[_0x2d8013(0x1c2)][_0x2d8013(0x425)]('/');this[_0x2d8013(0x364)]?.['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x2d8013(0x620)],'content':{'type':_0x253ba5[_0x2d8013(0x326)],'label':this[_0x2d8013(0x3a4)],'stats':{'timestamp':Date['now'](),'storage':_0x3d98cb,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x2d8013(0xa86)],'bytesSent':this[_0x2d8013(0x37d)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x2d8013(0x369)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x5b2279['logStorage'](_0x3ce5a1['ObjectStorage'],_0x2d8013(0x2ca)+this[_0x2d8013(0x8ae)]+_0x2d8013(0x2ca)+this['label'],_0x3d98cb);},_0x271d7b);}async['syncedFileExists'](_0x9390a3){const _0x1d5f87=_0x3149ab;try{return await this[_0x1d5f87(0x524)](_0x9390a3),!0x0;}catch(_0x560a7d){return!0x1;}}async['deleteFileChunks'](_0x2914ef){const _0x281cde=_0x3149ab;if(!this[_0x281cde(0x9f8)]['has'](_0x2914ef))return;const _0x3a0863=this['fileChunks'][_0x281cde(0x524)](_0x2914ef);if(_0x3a0863['stream'])try{await _0x3a0863['stream'][_0x281cde(0x11b)]();}catch(_0x2ce1e0){console[_0x281cde(0x1be)]('Error\x20closing\x20writable\x20stream',_0x2ce1e0);}this[_0x281cde(0x9f8)][_0x281cde(0x979)](_0x2914ef);}}class _0x1393d3 extends _0x2e9fe0{[_0x3149ab(0x9ba)];['clusterId'];[_0x3149ab(0x4bc)]=new Map();[_0x3149ab(0x264)];constructor(_0x19bd40,_0xfd562a,_0x2cdbd4){const _0x143f7f=_0x3149ab;if(_0x143f7f(0x657)!=typeof _0xfd562a)throw new _0xab88d9(_0x3cba44['PubSubTopicNameNotString'],_0x143f7f(0x10f));super(_0x19bd40,_0xfd562a),this[_0x143f7f(0x9ba)]=_0x19bd40,this['clusterId']=_0x2cdbd4,this['sendStats']();}['reset'](){const _0x5c5482=_0x3149ab;this[_0x5c5482(0x39c)]();}[_0x3149ab(0x941)](){const _0x5cb092=_0x3149ab;return _0x3a4c7c[_0x5cb092(0x346)][_0x5cb092(0x293)];}['publish'](_0x5d102,_0xd46dd1){const _0x58fdb7=_0x3149ab;_0x5b2279['log'](_0x44d495[_0x58fdb7(0x293)],_0x58fdb7(0x76a),this[_0x58fdb7(0x9ba)][_0x58fdb7(0x394)](),_0x5d102,_0xd46dd1),_0x5b2279[_0x58fdb7(0x995)](_0x3ce5a1[_0x58fdb7(0x293)],{'type':_0x58fdb7(0x415),'label':this[_0x58fdb7(0x3a4)],'nodeId':this[_0x58fdb7(0x9ba)][_0x58fdb7(0x394)](),'nodeType':this['localNode'][_0x58fdb7(0x16c)],'clusterId':this[_0x58fdb7(0x8ae)],'remoteIds':_0xd46dd1??[],'contentType':_0x5d102 instanceof File?_0x3a4c7c[_0x58fdb7(0x346)][_0x58fdb7(0x6a9)]:_0x3a4c7c[_0x58fdb7(0x346)]['Data'],'size':_0x5d102 instanceof File?_0x5d102[_0x58fdb7(0x1fa)]:JSON[_0x58fdb7(0x31d)](_0x5d102)[_0x58fdb7(0x878)]}),this[_0x58fdb7(0x39c)](),this[_0x58fdb7(0x7f3)](_0x5d102,_0xd46dd1);}[_0x3149ab(0x438)](_0x1e5372,_0x1455a8){const _0x599609=_0x3149ab;if(this[_0x599609(0x4bc)][_0x599609(0x2a7)](_0x1e5372))throw new _0xab88d9(_0x3cba44['PubSubTopicAlreadySubscribed'],_0x599609(0x6ae));this[_0x599609(0x4bc)][_0x599609(0x491)](_0x1e5372,this[_0x599609(0x64c)]((_0x389f5e,_0x4c7419)=>{const _0x530a14=_0x599609;_0x530a14(0x9b8)===_0x1e5372&&_0x4c7419 instanceof File||!(_0x530a14(0x543)!==_0x1e5372||_0x4c7419 instanceof File)||(_0x5b2279['log'](_0x44d495[_0x530a14(0x293)],_0x530a14(0x725),this['localNode'][_0x530a14(0x394)](),_0x389f5e,_0x4c7419),_0x5b2279['logServiceEvent'](_0x3ce5a1[_0x530a14(0x293)],{'type':_0x530a14(0x438),'label':this['label'],'nodeId':this[_0x530a14(0x9ba)][_0x530a14(0x394)](),'nodeType':this[_0x530a14(0x9ba)]['type'],'clusterId':this[_0x530a14(0x8ae)],'remoteId':_0x389f5e,'contentType':_0x1e5372,'size':_0x4c7419 instanceof File?_0x4c7419[_0x530a14(0x1fa)]:JSON[_0x530a14(0x31d)](_0x4c7419)[_0x530a14(0x878)]}),this[_0x530a14(0x39c)](),_0x1455a8(_0x389f5e,_0x4c7419));}));}[_0x3149ab(0x3e9)](_0x5253da){const _0x387d17=_0x3149ab;this['unsubscribeHandler'][_0x387d17(0x524)](_0x5253da)?.(),this['unsubscribeHandler'][_0x387d17(0x979)](_0x5253da);}['destroy'](){const _0x47b328=_0x3149ab;this[_0x47b328(0x4bc)][_0x47b328(0x1d0)](_0x52fc1b=>_0x52fc1b()),clearTimeout(this[_0x47b328(0x264)]),delete this[_0x47b328(0x264)],super[_0x47b328(0x2cb)]();}['close'](){const _0x25bddd=_0x3149ab;this[_0x25bddd(0x364)]?.['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x25bddd(0x620)],'content':{'type':_0x253ba5[_0x25bddd(0x495)],'label':this[_0x25bddd(0x3a4)]}});}[_0x3149ab(0x39c)](){const _0x2b99ae=_0x3149ab;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x2b99ae(0x264)]=setTimeout(()=>{const _0x517aed=_0x2b99ae;this[_0x517aed(0x364)]?.[_0x517aed(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x517aed(0x620)],'content':{'type':_0x253ba5[_0x517aed(0x443)],'label':this['label'],'stats':{'timestamp':Date[_0x517aed(0x3fe)](),'storage':0x0,'messagesSent':this[_0x517aed(0x781)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x517aed(0x37d)],'bytesReceived':this[_0x517aed(0x4f8)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x271d7b);}}class _0x6bdcf4 extends _0x4e3792{[_0x3149ab(0x9ba)];[_0x3149ab(0x2b4)];[_0x3149ab(0x5a7)];[_0x3149ab(0x8ae)];[_0x3149ab(0x4bc)];[_0x3149ab(0x3f2)];[_0x3149ab(0xa41)];[_0x3149ab(0x630)]=new Map();[_0x3149ab(0x835)];[_0x3149ab(0xae4)]=new Set();['providerId'];[_0x3149ab(0x80e)]=_0x269228();['trackEndedListeners']=new Map();constructor(_0x47f6de,_0x457654,_0x343178,_0x23f3fb,_0x2de6ae,_0x56f1c6){const _0x117a1d=_0x3149ab;super(_0x457654,_0x343178,new MediaStream()),this[_0x117a1d(0x9ba)]=_0x47f6de,this[_0x117a1d(0x2b4)]=_0x23f3fb,this['availableTrackKinds']=_0x2de6ae,this['clusterId']=_0x56f1c6,this[_0x117a1d(0x398)]['getTracks']()['forEach'](_0x76aece=>this[_0x117a1d(0x265)](_0x76aece));}[_0x3149ab(0x2cb)](){const _0x43d026=_0x3149ab;this['outgoingStreams'][_0x43d026(0x1fa)]>0x0&&(this['outgoingStreams'][_0x43d026(0x1d0)](_0x41de59=>{const _0x5184d8=_0x43d026;_0x41de59[_0x5184d8(0x8bd)](),_0x41de59[_0x5184d8(0x2cb)]();}),this[_0x43d026(0x630)][_0x43d026(0x876)]()),this['trackEndedListeners'][_0x43d026(0x1d0)](_0x55da5d=>_0x55da5d()),this[_0x43d026(0x398)][_0x43d026(0x4a5)]()[_0x43d026(0x1d0)](_0x2be73b=>this['mediaStream'][_0x43d026(0x60d)](_0x2be73b)),this['updateDebounce']&&(clearTimeout(this[_0x43d026(0xa41)]),delete this['updateDebounce']),this[_0x43d026(0x3f2)]?.(),super['destroy']();}[_0x3149ab(0xa5d)](_0x1c4aef){const _0x50a836=_0x3149ab;this[_0x50a836(0x4bc)]=_0x1c4aef[_0x50a836(0x438)](({content:_0x29f41f})=>{const _0xa1ecd6=_0x50a836;switch(_0x29f41f['action']){case _0x583eef[_0xa1ecd6(0x500)]:if(_0x5b2279[_0xa1ecd6(0x66c)](_0x44d495[_0xa1ecd6(0xa65)],_0xa1ecd6(0x8ed),this[_0xa1ecd6(0x9ba)][_0xa1ecd6(0x394)](),this[_0xa1ecd6(0x831)]),_0x29f41f[_0xa1ecd6(0x46b)]['id']!==this[_0xa1ecd6(0x2b4)]||_0x29f41f[_0xa1ecd6(0x831)]!==this[_0xa1ecd6(0x831)])return;this[_0xa1ecd6(0x60d)](_0x29f41f[_0xa1ecd6(0x611)][_0xa1ecd6(0x60e)]),this['mediaStream'][_0xa1ecd6(0x35f)](_0x29f41f[_0xa1ecd6(0x611)]);for(const [_0x2151ee,_0x2bbfb4]of this[_0xa1ecd6(0x630)][_0xa1ecd6(0x2ac)]())try{_0x2bbfb4[_0xa1ecd6(0x35f)](_0x29f41f['track']);}catch(_0x43fefa){_0x2bbfb4[_0xa1ecd6(0x2cb)](),this['outgoingStreams']['delete'](_0x2151ee);}this[_0xa1ecd6(0x265)](_0x29f41f['track']),this[_0xa1ecd6(0x5ad)](),_0xa1ecd6(0x717)===_0x29f41f[_0xa1ecd6(0x611)]['kind']&&this[_0xa1ecd6(0x835)]&&(this[_0xa1ecd6(0x398)]['active']?setTimeout(()=>this[_0xa1ecd6(0x835)]?.[_0xa1ecd6(0x56d)](),0x0):setTimeout(()=>this[_0xa1ecd6(0x835)]?.['load'](),0x0),this[_0xa1ecd6(0x437)]());break;case _0x583eef['RemoteRemove']:if(_0x29f41f[_0xa1ecd6(0x46b)]['id']!==this['internalId']||_0x29f41f['providerId']!==this[_0xa1ecd6(0x831)])return;this[_0xa1ecd6(0x60d)](_0x29f41f[_0xa1ecd6(0x611)][_0xa1ecd6(0x60e)]),this[_0xa1ecd6(0x835)]&&_0xa1ecd6(0x717)===_0x29f41f[_0xa1ecd6(0x611)]['kind']&&(this[_0xa1ecd6(0x3f2)]?.(),this[_0xa1ecd6(0x398)][_0xa1ecd6(0x4a5)]()[_0xa1ecd6(0x878)]>0x0?this['renderElement']['load']():this[_0xa1ecd6(0x835)][_0xa1ecd6(0x90a)]=null);}});}[_0x3149ab(0x761)](){const _0x241b61=_0x3149ab;this['unsubscribeHandler']?.(),this[_0x241b61(0x4e3)][_0x241b61(0x1d0)](_0x440ccb=>_0x440ccb()),delete this[_0x241b61(0x4bc)];}['getInternalStreamId'](){return this['internalId'];}['setInternalId'](_0x30939c){this['internalId']=_0x30939c;}[_0x3149ab(0x1eb)](){return this['availableTrackKinds'];}[_0x3149ab(0x871)](_0x4d6eee){const _0x17ef31=_0x3149ab;for(const _0x227b56 of _0x4d6eee||this[_0x17ef31(0x5a7)])if(!this[_0x17ef31(0x398)][_0x17ef31(0x4a5)]()['find'](_0x3b675d=>_0x3b675d[_0x17ef31(0x60e)]===_0x227b56))return!0x1;return!0x0;}[_0x3149ab(0x1c7)](){const _0x518fe9=_0x3149ab;let _0x42e485={'width':0x0,'height':0x0};const _0x599807=this[_0x518fe9(0x398)][_0x518fe9(0x4f9)]();if(_0x599807[_0x518fe9(0x878)]>0x0){const _0x11f562=_0x599807[0x0][_0x518fe9(0x801)]();_0x11f562[_0x518fe9(0x44f)]&&_0x11f562[_0x518fe9(0x103)]&&(_0x42e485={'width':_0x11f562['width'],'height':_0x11f562['height']});}return _0x42e485;}[_0x3149ab(0x969)](_0x32a473){const _0x5bcbe1=_0x3149ab;for(const _0x881bcc of _0x32a473)if(!this[_0x5bcbe1(0xae4)][_0x5bcbe1(0x2a7)](_0x881bcc))return!0x1;return!0x0;}[_0x3149ab(0xaad)](_0x593adf,_0x38175b){const _0x2c5259=_0x3149ab;if(!this[_0x2c5259(0x630)][_0x2c5259(0x2a7)](_0x593adf)){const _0x3e6589=new _0x187263(this[_0x2c5259(0x67c)],this[_0x2c5259(0x3a4)],this[_0x2c5259(0x398)],_0x593adf,_0x38175b),_0xcdf439=_0x3e6589[_0x2c5259(0x6c6)](()=>{const _0x1fb841=_0x2c5259;_0xcdf439(),this[_0x1fb841(0x630)][_0x1fb841(0x524)](_0x593adf)?.['destroy'](),this['outgoingStreams'][_0x1fb841(0x979)](_0x593adf);});this[_0x2c5259(0x630)][_0x2c5259(0x491)](_0x593adf,_0x3e6589),_0x3e6589[_0x2c5259(0x9cd)](this['systemTopic']);}return this[_0x2c5259(0x630)][_0x2c5259(0x524)](_0x593adf);}[_0x3149ab(0x583)](){const _0xf92b55=_0x3149ab;return this[_0xf92b55(0x398)]['id'];}[_0x3149ab(0x9cb)](){const _0x48ea43=_0x3149ab;return _0x3a4c7c[_0x48ea43(0x901)][_0x48ea43(0x594)];}[_0x3149ab(0x6f4)](){const _0x53c62f=_0x3149ab;return Array[_0x53c62f(0x271)](this[_0x53c62f(0xae4)]);}[_0x3149ab(0x438)](_0x53326c){const _0x75f30e=_0x3149ab;let _0x3f9230=[];if(_0x53326c){'object'!=typeof _0x53326c[_0x75f30e(0x717)]||_0x53326c[_0x75f30e(0x717)]['renderElement']instanceof HTMLVideoElement||!this[_0x75f30e(0x835)]||(_0x53326c['video']={'renderElement':this[_0x75f30e(0x835)]});try{(0x0,_0x3a4c7c[_0x75f30e(0x661)])(_0x53326c);}catch(_0x1c4cd7){throw new _0xab88d9(_0x3cba44[_0x75f30e(0x893)],_0x75f30e(0x32a));}_0x53326c[_0x75f30e(0x717)]&&(_0x3f9230[_0x75f30e(0x7e8)](_0x75f30e(0x717)),_0x75f30e(0x769)!=typeof _0x53326c['video']&&_0x53326c[_0x75f30e(0x717)]['renderElement']&&(this[_0x75f30e(0x835)]=_0x53326c[_0x75f30e(0x717)]['renderElement'],_0x53326c[_0x75f30e(0x717)]['maxResolution']||(_0x53326c['video']['maxResolution']={'width':this[_0x75f30e(0x835)][_0x75f30e(0x4be)],'height':this[_0x75f30e(0x835)][_0x75f30e(0x207)]}),delete _0x53326c[_0x75f30e(0x717)][_0x75f30e(0x835)])),_0x53326c['audio']&&_0x3f9230['push'](_0x75f30e(0x354));}else _0x3f9230=this[_0x75f30e(0x1eb)]();this[_0x75f30e(0x969)](_0x3f9230)||(_0x3f9230[_0x75f30e(0x1d0)](_0x1e72ac=>this[_0x75f30e(0xae4)][_0x75f30e(0x638)](_0x1e72ac)),this['systemTopic'][_0x75f30e(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0x75f30e(0x752)],'label':this['label'],'ownerId':this['owner'][_0x75f30e(0x394)](),'trackKinds':_0x3f9230,'params':_0x53326c}}),_0x5b2279['logServiceEvent'](_0x3ce5a1[_0x75f30e(0x7b4)],{'type':_0x75f30e(0x438),'label':this[_0x75f30e(0x3a4)],'nodeId':this[_0x75f30e(0x9ba)][_0x75f30e(0x394)](),'nodeType':this[_0x75f30e(0x9ba)]['type'],'clusterId':this[_0x75f30e(0x8ae)],'sourceId':this[_0x75f30e(0x67c)][_0x75f30e(0x394)](),'streamId':this[_0x75f30e(0x2b4)],'trackKinds':_0x3f9230}));}[_0x3149ab(0x54d)](_0x525639){const _0x1df208=_0x3149ab;try{(0x0,_0x3a4c7c[_0x1df208(0x661)])(_0x525639);}catch(_0x2bab0a){throw new _0xab88d9(_0x3cba44['RemoteMediaStreamInvalidSubscriptionParams'],_0x1df208(0x32a));}this['updateDebounce']&&clearTimeout(this[_0x1df208(0xa41)]),this[_0x1df208(0xa41)]=setTimeout(()=>{const _0xe5c550=_0x1df208;delete this['updateDebounce'],this[_0xe5c550(0x364)]['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0xe5c550(0x56b)],'label':this['label'],'ownerId':this[_0xe5c550(0x67c)][_0xe5c550(0x394)](),'params':_0x525639}});},0x1f4);}[_0x3149ab(0x3e9)](_0x26cd07){const _0x3c6318=_0x3149ab;_0x26cd07||(_0x26cd07=this[_0x3c6318(0x1eb)]()),(_0x26cd07=Array[_0x3c6318(0x7f0)](_0x26cd07)?_0x26cd07:[_0x26cd07])[_0x3c6318(0x1d0)](_0x5b9786=>this['subscribedTracks'][_0x3c6318(0x979)](_0x5b9786)),this[_0x3c6318(0x364)][_0x3c6318(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5[_0x3c6318(0xae8)],'label':this[_0x3c6318(0x3a4)],'ownerId':this[_0x3c6318(0x67c)]['getId'](),'trackKinds':_0x26cd07,'remainingTracks':this[_0x3c6318(0xae4)][_0x3c6318(0x1fa)]}});}[_0x3149ab(0x5c4)](_0x182f8e){const _0x441d31=_0x3149ab;return this[_0x441d31(0x80e)][_0x441d31(0x438)](_0x182f8e);}[_0x3149ab(0x7a2)](){const _0x4fd51b=_0x3149ab;return this[_0x4fd51b(0x831)];}[_0x3149ab(0xaa5)](_0x3b75f6){const _0x2bca53=_0x3149ab;this[_0x2bca53(0x831)]!==_0x3b75f6&&(this['providerId']=_0x3b75f6,this[_0x2bca53(0x80e)][_0x2bca53(0x415)](_0x3b75f6));}[_0x3149ab(0x821)](_0x368c7e){const _0x511dd2=_0x3149ab;this['trackEndedListeners']['get'](_0x368c7e)?.(),this['trackEndedListeners'][_0x511dd2(0x979)](_0x368c7e);}[_0x3149ab(0x60d)](_0x3b8a87){const _0x2a2a49=_0x3149ab,_0xda635f=this[_0x2a2a49(0x398)][_0x2a2a49(0x4a5)]()['find'](_0x42d089=>_0x42d089['kind']===_0x3b8a87);_0xda635f&&(this[_0x2a2a49(0x398)][_0x2a2a49(0x60d)](_0xda635f),this[_0x2a2a49(0x630)][_0x2a2a49(0x1d0)](_0x4964ff=>_0x4964ff[_0x2a2a49(0x60d)](_0x3b8a87)),this['trackEndedListeners']['get'](_0x3b8a87)?.());}[_0x3149ab(0x5ad)](){const _0x44d3fd=_0x3149ab;this[_0x44d3fd(0x835)]&&(this[_0x44d3fd(0x835)]['srcObject']&&this['renderElement'][_0x44d3fd(0x90a)]===this[_0x44d3fd(0x398)]||(this[_0x44d3fd(0x835)][_0x44d3fd(0x90a)]=this['mediaStream']));}['setupResizeHandler'](){const _0x4544a2=_0x3149ab;if(this[_0x4544a2(0x835)]&&!this['resizeHandler']&&'undefined'!=typeof ResizeObserver){let _0x27c07a=this[_0x4544a2(0x835)]['clientWidth'],_0x39c3de=this[_0x4544a2(0x835)][_0x4544a2(0x207)];const _0x20a9b4=new ResizeObserver(_0x4afb99=>{const _0x4bcb8c=_0x4544a2,{width:_0x50aa3e,height:_0x11ef46}=_0x4afb99[0x0][_0x4bcb8c(0x6b8)];_0x27c07a===_0x50aa3e&&_0x39c3de===_0x11ef46||(_0x27c07a=Math['floor'](_0x50aa3e),_0x39c3de=Math[_0x4bcb8c(0x735)](_0x11ef46),this[_0x4bcb8c(0x54d)]({'video':{'maxResolution':{'width':_0x50aa3e,'height':_0x11ef46}}}));});_0x20a9b4['observe'](this[_0x4544a2(0x835)]),this[_0x4544a2(0x3f2)]=()=>_0x20a9b4[_0x4544a2(0x70f)]();}}[_0x3149ab(0xfe)](_0x4c3328){const _0x3509fc=_0x3149ab,_0x392b3e=[];for(const _0x5199b4 of this['subscribedTracks'])this['removeTrack'](_0x5199b4),_0x392b3e[_0x3509fc(0x7e8)](_0x5199b4);this[_0x3509fc(0x831)]&&this[_0x3509fc(0x364)]['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x3509fc(0x620)],'content':{'type':_0x253ba5[_0x3509fc(0x2ce)],'label':this[_0x3509fc(0x3a4)],'streamId':this[_0x3509fc(0x2b4)],'ownerId':this[_0x3509fc(0x67c)][_0x3509fc(0x394)](),'providerId':this[_0x3509fc(0x831)],'trackKinds':_0x392b3e}});}['setupTrackEndedListeners'](_0x45c3a1){const _0x31b35b=_0x3149ab,_0x3a6d4a=()=>this[_0x31b35b(0xfe)](_0x45c3a1);_0x45c3a1[_0x31b35b(0x31f)]('ended',_0x3a6d4a),_0x45c3a1[_0x31b35b(0x31f)]('mute',_0x3a6d4a),this['trackEndedListeners'][_0x31b35b(0x491)](_0x45c3a1[_0x31b35b(0x60e)],()=>{const _0x111e76=_0x31b35b;_0x45c3a1[_0x111e76(0x636)](_0x111e76(0x632),_0x3a6d4a),_0x45c3a1[_0x111e76(0x636)]('mute',_0x3a6d4a),this[_0x111e76(0x4e3)][_0x111e76(0x979)](_0x45c3a1['kind']);});}}class _0x29d9a0 extends _0x2e9fe0{[_0x3149ab(0x9ba)];[_0x3149ab(0x8ae)];[_0x3149ab(0x164)];['db'];[_0x3149ab(0x264)];['writes']=0x0;[_0x3149ab(0x369)]=0x0;[_0x3149ab(0x6c3)]=!0x1;constructor(_0x241ba3,_0x26aa2c,_0x20ae3e,_0x2668b2,_0x2cce0d){const _0x224762=_0x3149ab;if(_0x224762(0x657)!=typeof _0x26aa2c)throw new _0xab88d9(_0x3cba44['VectorDatabaseNameNotString'],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x241ba3,_0x26aa2c),this[_0x224762(0x9ba)]=_0x241ba3,this['clusterId']=_0x20ae3e,this[_0x224762(0x164)]=_0x2668b2;const _0x4ac5d9=_0x224762(0x2ca)+this['vendorId']+'ccc'+this[_0x224762(0x8ae)]+_0x224762(0x2ca)+this[_0x224762(0x3a4)];this['db']=new _0x2cce0d(_0x4ac5d9),this[_0x224762(0x39c)]();}[_0x3149ab(0x89a)](){const _0x4378f6=_0x3149ab;return this[_0x4378f6(0x6c3)];}[_0x3149ab(0xa19)](_0x4a0e34){this['isLoaded']=_0x4a0e34;}['destroy'](){const _0x5c7da5=_0x3149ab;clearTimeout(this[_0x5c7da5(0x264)]),delete this['debounceStats'],super[_0x5c7da5(0x2cb)]();}['close'](){const _0x535e4c=_0x3149ab;this[_0x535e4c(0x364)][_0x535e4c(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c['Content'],'content':{'type':_0x253ba5['CloseVectorDatabase'],'label':this[_0x535e4c(0x3a4)]}});}[_0x3149ab(0x626)](){const _0x1c2618=_0x3149ab;this[_0x1c2618(0x39c)]();}[_0x3149ab(0x941)](){const _0x59d597=_0x3149ab;return _0x3a4c7c[_0x59d597(0x346)]['VectorDatabase'];}[_0x3149ab(0x5e9)](_0x4452e7,_0x5d879e,_0x549c3c,_0x3f048f,_0x2f906c){const _0x8e4b0a=_0x3149ab,_0x3e2648=this['db'][_0x8e4b0a(0x5e9)](_0x4452e7,_0x5d879e,_0x549c3c,_0x3f048f,_0x2f906c);return this['reads']+=0x1,_0x5b2279[_0x8e4b0a(0x995)](_0x3ce5a1['VectorDatabase'],{'type':_0x8e4b0a(0x5e9),'label':this[_0x8e4b0a(0x3a4)],'nodeId':this[_0x8e4b0a(0x9ba)]['getId'](),'nodeType':this[_0x8e4b0a(0x9ba)][_0x8e4b0a(0x16c)],'clusterId':this[_0x8e4b0a(0x8ae)],'size':0x0}),this[_0x8e4b0a(0x39c)](),_0x3e2648;}[_0x3149ab(0x8ce)](_0x42bd17,_0x2798c2,_0x5979ce,_0x5e10b2){const _0x59d40b=_0x3149ab;this['db'][_0x59d40b(0x8ce)](_0x42bd17,_0x2798c2,_0x5979ce,_0x5e10b2),this[_0x59d40b(0x531)]+=0x1,_0x5b2279[_0x59d40b(0x995)](_0x3ce5a1['VectorDatabase'],{'type':_0x59d40b(0x8ce),'label':this['label'],'nodeId':this[_0x59d40b(0x9ba)][_0x59d40b(0x394)](),'nodeType':this['localNode'][_0x59d40b(0x16c)],'clusterId':this[_0x59d40b(0x8ae)],'size':_0x5e10b2[_0x59d40b(0x399)]((_0x5a2f07,_0x25bc2b)=>_0x5a2f07+_0x25bc2b[_0x59d40b(0x878)],0x0)}),this['sendStats']();}[_0x3149ab(0x31c)](_0x5d3148){const _0x540332=_0x3149ab;this['db'][_0x540332(0x31c)](_0x5d3148),this['writes']+=0x1,_0x5b2279[_0x540332(0x995)](_0x3ce5a1[_0x540332(0x4a4)],{'type':'remove','label':this['label'],'nodeId':this[_0x540332(0x9ba)][_0x540332(0x394)](),'nodeType':this[_0x540332(0x9ba)][_0x540332(0x16c)],'clusterId':this[_0x540332(0x8ae)],'size':0x0}),this[_0x540332(0x39c)]();}[_0x3149ab(0x17b)](_0x531bb3){const _0x4bf993=_0x3149ab;this['db'][_0x4bf993(0x17b)](_0x531bb3);}[_0x3149ab(0x617)](_0x4ecb2d){const _0x38f9c3=_0x3149ab;this['db'][_0x38f9c3(0x617)](_0x4ecb2d);}['sendStats'](){const _0x4575f5=_0x3149ab;this[_0x4575f5(0x264)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x5219fe=_0x4575f5;delete this['debounceStats'];const _0x587190=this['db'][_0x5219fe(0x82f)]()[_0x5219fe(0x352)];this[_0x5219fe(0x364)][_0x5219fe(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x5219fe(0x620)],'content':{'type':_0x253ba5[_0x5219fe(0x219)],'label':this['label'],'stats':{'timestamp':Date[_0x5219fe(0x3fe)](),'storage':_0x587190,'messagesSent':this[_0x5219fe(0x781)],'messagesReceived':this[_0x5219fe(0xa86)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x5219fe(0x4f8)],'writes':this[_0x5219fe(0x531)],'reads':this[_0x5219fe(0x369)],'prompts':0x0,'tokens':0x0}}}),_0x5b2279[_0x5219fe(0xab2)](_0x3ce5a1[_0x5219fe(0x4a4)],_0x5219fe(0x2ca)+this[_0x5219fe(0x8ae)]+_0x5219fe(0x2ca)+this['label'],_0x587190);},_0x271d7b);}}class _0x601f7d{['id'];['remoteConnections'];[_0x3149ab(0x4b8)];constructor(_0x3fabfa,_0x494324=new Set(),_0x533d0b){const _0x5af17c=_0x3149ab;this['id']=_0x3fabfa,this[_0x5af17c(0x2d9)]=_0x494324,this[_0x5af17c(0x4b8)]=_0x533d0b;}[_0x3149ab(0x11b)](){const _0x5e3bb9=_0x3149ab;this[_0x5e3bb9(0x4b8)]=void 0x0,this[_0x5e3bb9(0x2d9)][_0x5e3bb9(0x876)]();}[_0x3149ab(0x394)](){return this['id'];}['getRank'](){const _0x450293=_0x3149ab;return this[_0x450293(0x4b8)];}['getRemoteConnections'](){const _0x51d23e=_0x3149ab;return this[_0x51d23e(0x2d9)];}}class _0x1b4d0f extends _0x601f7d{['id'];[_0x3149ab(0x10a)];[_0x3149ab(0x50e)];['remoteConnections'];[_0x3149ab(0x4b8)];[_0x3149ab(0x16c)]=_0x3a4c7c[_0x3149ab(0x4eb)][_0x3149ab(0x128)];constructor(_0x441cd3,_0x140a72,_0x85a20e,_0x4d7ed3=new Set(),_0x3956d8){const _0x4bd87a=_0x3149ab;super(_0x441cd3,_0x4d7ed3,_0x3956d8),this['id']=_0x441cd3,this[_0x4bd87a(0x10a)]=_0x140a72,this['email']=_0x85a20e,this[_0x4bd87a(0x2d9)]=_0x4d7ed3,this['rank']=_0x3956d8;}['getDisplayName'](){const _0x296ce0=_0x3149ab;return this[_0x296ce0(0x10a)];}[_0x3149ab(0x973)](){const _0x17b561=_0x3149ab;return this[_0x17b561(0x50e)];}}class _0x45d373{[_0x3149ab(0x164)];[_0x3149ab(0x8ae)];[_0x3149ab(0x98b)];constructor(_0x203dc5,_0x19f430){const _0x48da30=_0x3149ab;this[_0x48da30(0x164)]=_0x203dc5,this[_0x48da30(0x8ae)]=_0x19f430,this['clusterKey']=_0x48da30(0x2ca)+this[_0x48da30(0x164)]+_0x48da30(0x2ca)+this[_0x48da30(0x8ae)];}async[_0x3149ab(0x63f)](_0x333b2a,_0x391a87){const _0x3797df=_0x3149ab,_0x331264=(0x0,_0x232529['ref'])(_0x52f3ef[_0x3797df(0x7f4)](),_0x3797df(0x3b1)+this[_0x3797df(0x98b)]+'/objectstores/'+_0x391a87+_0x3797df(0xac1)+_0x333b2a['id']),_0x9ac76d=(0x0,_0x232529[_0x3797df(0x11a)])(_0x331264);_0x9ac76d[_0x3797df(0x31c)](),_0x333b2a[_0x3797df(0x6df)]||delete _0x333b2a[_0x3797df(0x6df)];try{await(0x0,_0x232529[_0x3797df(0x491)])(_0x331264,_0x333b2a);}catch(_0x3c2197){throw await _0x9ac76d[_0x3797df(0x6f6)](),new _0x224ab2(_0x224ab2[_0x3797df(0x8b5)][_0x3797df(0x981)]);}if(!0x1===(await(0x0,_0x232529[_0x3797df(0x397)])((0x0,_0x232529['ref'])(_0x52f3ef[_0x3797df(0x7f4)](),'clusters/'+this[_0x3797df(0x98b)]+'/objectstores/'+_0x391a87+'/transactions/lastTransaction'),_0x273de2=>_0x273de2?_0x273de2===_0x333b2a['parentId']?_0x333b2a['id']:void 0x0:_0x333b2a['parentId']?_0x333b2a[_0x3797df(0x6df)]:_0x333b2a['id']))[_0x3797df(0x430)])throw await(0x0,_0x232529[_0x3797df(0x31c)])(_0x331264),await _0x9ac76d[_0x3797df(0x6f6)](),new _0x224ab2(_0x224ab2[_0x3797df(0x8b5)][_0x3797df(0x9bf)]);await _0x9ac76d[_0x3797df(0x6f6)]();}async[_0x3149ab(0xa58)](_0x7d2c03,_0xcb0fb1){const _0x2e5b8d=_0x3149ab;let _0x188f86=[];const _0x172d3e=(0x0,_0x232529['ref'])(_0x52f3ef[_0x2e5b8d(0x7f4)](),'clusters/'+this['clusterKey']+_0x2e5b8d(0x639)+_0x7d2c03+_0x2e5b8d(0x39e));let _0x762feb=await(0x0,_0x232529[_0x2e5b8d(0x524)])((0x0,_0x232529[_0x2e5b8d(0x8db)])(_0x172d3e,(0x0,_0x232529['limitToFirst'])(0x65),(0x0,_0x232529[_0x2e5b8d(0x9cc)])()));if(!_0x762feb[_0x2e5b8d(0x7a4)]()){if(void 0x0!==_0xcb0fb1)throw new _0x224ab2(_0x224ab2[_0x2e5b8d(0x8b5)][_0x2e5b8d(0x374)]);return _0x188f86;}const _0x3c49cd=_0x762feb[_0x2e5b8d(0x58b)]();for(;Object[_0x2e5b8d(0x6d7)](_0x762feb[_0x2e5b8d(0x58b)]())[_0x2e5b8d(0x878)]>0x64;){const _0x44abb5=Object[_0x2e5b8d(0x6d7)](_0x762feb['val']()),_0x191f0c=_0x44abb5[_0x44abb5[_0x2e5b8d(0x878)]-0x1];_0x762feb=await(0x0,_0x232529[_0x2e5b8d(0x524)])((0x0,_0x232529[_0x2e5b8d(0x8db)])(_0x172d3e,(0x0,_0x232529[_0x2e5b8d(0x19c)])(0x65),(0x0,_0x232529[_0x2e5b8d(0x120)])(_0x191f0c),(0x0,_0x232529[_0x2e5b8d(0x9cc)])())),Object['assign'](_0x3c49cd,_0x762feb[_0x2e5b8d(0x58b)]());}if(_0x188f86=Object[_0x2e5b8d(0x6da)](_0x3c49cd)['filter'](_0x1d5505=>'string'!=typeof _0x1d5505),0x0===_0x188f86[_0x2e5b8d(0x878)]&&void 0x0!==_0xcb0fb1)throw new _0x224ab2(_0x224ab2['codes'][_0x2e5b8d(0x374)]);if(_0x188f86[_0x2e5b8d(0x878)]>0x0&&void 0x0!==_0xcb0fb1&&!_0x188f86[_0x2e5b8d(0x8e4)](_0xa9cbb=>_0xa9cbb['id']===_0xcb0fb1))throw new _0x224ab2(_0x224ab2[_0x2e5b8d(0x8b5)][_0x2e5b8d(0x374)]);const _0x42abc8=[];let _0x24f2a3=_0x188f86[_0x2e5b8d(0x8e4)](_0x533847=>_0x533847[_0x2e5b8d(0x6df)]===_0xcb0fb1);for(;_0x24f2a3;)_0x42abc8[_0x2e5b8d(0x7e8)](_0x24f2a3),_0x24f2a3=_0x188f86[_0x2e5b8d(0x8e4)](_0x21bd0d=>_0x21bd0d[_0x2e5b8d(0x6df)]===_0x24f2a3['id']);return _0x42abc8;}}class _0x2e771e{[_0x3149ab(0x5a0)];[_0x3149ab(0x818)];[_0x3149ab(0x2b9)]=new Map();['remoteMediaStreams']=new Map();[_0x3149ab(0x4ff)]=new Map();[_0x3149ab(0x35c)]=new Map();[_0x3149ab(0x64a)]=new Map();[_0x3149ab(0x177)]=new Map();[_0x3149ab(0x454)]=new Map();[_0x3149ab(0x6a3)]=new Map();[_0x3149ab(0x136)]=new Map();['jobWorkers']=new Map();[_0x3149ab(0x515)];constructor(_0x58433e,_0x98b1fc){const _0xfda7ca=_0x3149ab;this[_0xfda7ca(0x5a0)]=_0x58433e,this[_0xfda7ca(0x818)]=_0x98b1fc,this[_0xfda7ca(0x515)]=new _0x45d373(this[_0xfda7ca(0x5a0)][_0xfda7ca(0x164)],this['configs']['clusterId']);}['close'](_0x22d67b=!0x1){const _0x51532f=_0x3149ab;this[_0x51532f(0x21f)][_0x51532f(0x1d0)]((_0x3fef25,_0x38e4db)=>{const _0x596d92=_0x51532f;_0x3fef25[_0x596d92(0x1d0)]((_0xa4d915,_0x4492e9)=>{const _0x202671=_0x596d92;this[_0x202671(0x10e)](_0x38e4db,_0x4492e9);});}),_0x22d67b||(_0x12cc0f[_0x51532f(0x876)](),this[_0x51532f(0x2b9)][_0x51532f(0x1d0)]((_0x5e1a06,_0x2445a3)=>{const _0x2f5f6c=_0x51532f;this[_0x2f5f6c(0x75a)](_0x2445a3);}),this[_0x51532f(0x4ff)]['forEach']((_0x2c2f6e,_0x2f8e17)=>{this['removePubSubTopic'](_0x2f8e17);}),this[_0x51532f(0x35c)][_0x51532f(0x1d0)]((_0x20f16d,_0x25f631)=>{this['removeObjectStore'](_0x25f631);}),this[_0x51532f(0x64a)]['forEach']((_0x2a8fcd,_0x327885)=>{const _0x195c62=_0x51532f;this[_0x195c62(0x243)](_0x327885);}),this[_0x51532f(0x177)][_0x51532f(0x1d0)]((_0x5b6ffa,_0x22fe0a)=>{const _0x35d706=_0x51532f;this[_0x35d706(0x3e7)](_0x22fe0a);}),this[_0x51532f(0x136)][_0x51532f(0x1d0)]((_0xd411b0,_0x213b42)=>{this['removeJobDispatcher'](_0x213b42);}),this[_0x51532f(0x885)][_0x51532f(0x1d0)]((_0x4f6516,_0x464e8d)=>{this['removeJobWorker'](_0x464e8d);}),this[_0x51532f(0x454)]['forEach']((_0x280af3,_0x992255)=>{const _0x538446=_0x51532f;this[_0x538446(0xa23)](_0x992255);}),this[_0x51532f(0x6a3)][_0x51532f(0x1d0)]((_0x337dca,_0xdc655e)=>{const _0xc371e4=_0x51532f;this[_0xc371e4(0x36c)](_0xdc655e);}));}[_0x3149ab(0x4a6)](_0x2ab8e3,_0x171f16,_0x5ee100){const _0x355c02=_0x3149ab;if(this[_0x355c02(0x35c)]['has'](_0x2ab8e3))throw new _0xab88d9(_0x3cba44[_0x355c02(0x448)],'Store\x20already\x20exists');const _0x44d132=new _0x305f13(this[_0x355c02(0x5a0)][_0x355c02(0x9ba)],_0x2ab8e3,this[_0x355c02(0x5a0)][_0x355c02(0x8ae)],this[_0x355c02(0x5a0)][_0x355c02(0x164)],this['transactionService'],_0x171f16,()=>this[_0x355c02(0x5a0)][_0x355c02(0x8f7)]['waitForArrayBufferSize'](),_0x5ee100);return this[_0x355c02(0x35c)][_0x355c02(0x491)](_0x2ab8e3,_0x44d132),this['configs']['mediator'][_0x355c02(0xa68)](_0x44d132),_0x44d132;}[_0x3149ab(0x1d9)](_0x1deef9,_0x2578d2){const _0x2f098d=_0x3149ab;if(this['objectStores'][_0x2f098d(0x2a7)](_0x1deef9))throw new _0xab88d9(_0x3cba44[_0x2f098d(0x147)],_0x2f098d(0x325));const _0x2bb130=new _0x447066(this[_0x2f098d(0x5a0)][_0x2f098d(0x9ba)],_0x1deef9,this[_0x2f098d(0x5a0)][_0x2f098d(0x8ae)],this['configs']['vendorId'],_0x2578d2);return this[_0x2f098d(0x64a)][_0x2f098d(0x491)](_0x1deef9,_0x2bb130),this['configs'][_0x2f098d(0x8f7)][_0x2f098d(0xa68)](_0x2bb130),_0x2bb130;}async['createKeyValueDatabase'](_0x5ab124,_0x428ee9,_0x2ade4a){const _0x527466=_0x3149ab;if(this[_0x527466(0x177)]['has'](_0x5ab124))throw new _0xab88d9(_0x3cba44['KeyValueDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x2edfd7=this[_0x527466(0x5a0)][_0x527466(0x8f7)][_0x527466(0xa5a)]['bind'](this[_0x527466(0x5a0)][_0x527466(0x8f7)]),_0x51d9a8=new _0xa93ecc(this[_0x527466(0x5a0)][_0x527466(0x9ba)],_0x5ab124,this[_0x527466(0x5a0)][_0x527466(0x8ae)],this[_0x527466(0x5a0)][_0x527466(0x164)],_0x428ee9,_0x2ade4a,_0x2edfd7);return this[_0x527466(0x177)][_0x527466(0x491)](_0x5ab124,_0x51d9a8),this[_0x527466(0x5a0)][_0x527466(0x8f7)][_0x527466(0xa68)](_0x51d9a8),_0x51d9a8;}catch(_0x28fd2f){if(_0x28fd2f instanceof _0xab88d9)throw _0x28fd2f;throw new _0x224ab2(_0x224ab2[_0x527466(0x8b5)]['KeyValueDatabaseCreationFailed'],{'label':_0x5ab124,'clusterId':this[_0x527466(0x5a0)][_0x527466(0x8ae)],'vendorId':this[_0x527466(0x5a0)][_0x527466(0x164)]});}}async[_0x3149ab(0x4ca)](_0x179f15,_0x278268){const _0x30ce75=_0x3149ab;if(this['jobDispatchers']['has'](_0x179f15))throw new _0xab88d9(_0x3cba44[_0x30ce75(0x992)],_0x30ce75(0x33d));try{const _0x586a83=new _0x5d5f33(this[_0x30ce75(0x5a0)]['localNode'],_0x179f15,_0x278268);return this[_0x30ce75(0x136)][_0x30ce75(0x491)](_0x179f15,_0x586a83),this['configs']['mediator'][_0x30ce75(0xa68)](_0x586a83),_0x586a83;}catch(_0x166f33){if(_0x166f33 instanceof _0xab88d9)throw _0x166f33;throw new _0x224ab2(_0x224ab2[_0x30ce75(0x8b5)][_0x30ce75(0x88a)],{'label':_0x179f15,'clusterId':this[_0x30ce75(0x5a0)][_0x30ce75(0x8ae)],'vendorId':this[_0x30ce75(0x5a0)][_0x30ce75(0x164)]});}}async[_0x3149ab(0x85f)](_0x241ebf,_0x46a301){const _0x3af63f=_0x3149ab;if(this[_0x3af63f(0x136)][_0x3af63f(0x2a7)](_0x241ebf))throw new _0xab88d9(_0x3cba44['GenerativeAIContextAlreadyExists'],_0x3af63f(0x3a7));if(this[_0x3af63f(0x885)][_0x3af63f(0x2a7)](_0x241ebf))throw new _0xab88d9(_0x3cba44[_0x3af63f(0x9cf)],_0x3af63f(0xa46));try{const _0x5c1ef7=new _0x19be32(this[_0x3af63f(0x5a0)][_0x3af63f(0x9ba)],_0x241ebf,this[_0x3af63f(0x5a0)]['vendorId'],_0x46a301);return this[_0x3af63f(0x136)]['set'](_0x241ebf,_0x5c1ef7),this[_0x3af63f(0x5a0)][_0x3af63f(0x8f7)][_0x3af63f(0xa68)](_0x5c1ef7),_0x5c1ef7;}catch(_0x255c10){if(_0x255c10 instanceof _0xab88d9)throw _0x255c10;throw new _0x224ab2(_0x224ab2[_0x3af63f(0x8b5)]['GenerativeAIContextCreationFailed'],{'label':_0x241ebf,'clusterId':this[_0x3af63f(0x5a0)][_0x3af63f(0x8ae)],'vendorId':this[_0x3af63f(0x5a0)][_0x3af63f(0x164)]});}}async[_0x3149ab(0x890)](_0x37db1c,_0x19d1cc,_0x2d2a09,_0x55135f,_0x246676,_0x45496b,_0x390768,_0x1226da,_0x19d5d5,_0x5bb283,_0x58d302,_0x513063){const _0x429832=_0x3149ab;if(this['jobWorkers']['has'](_0x37db1c))throw new _0xab88d9(_0x3cba44['GenerativeAIWorkerAlreadyExists'],'AI\x20Worker\x20already\x20exists');if(this[_0x429832(0x136)][_0x429832(0x2a7)](_0x37db1c))throw new _0xab88d9(_0x3cba44[_0x429832(0x9cf)],_0x429832(0xa46));try{const _0x5b9fcf=new _0x239f79(this[_0x429832(0x5a0)][_0x429832(0x9ba)],_0x37db1c,_0x19d1cc,this,_0x2d2a09,_0x55135f,_0x246676,_0x45496b,_0x390768,_0x1226da,_0x19d5d5,_0x5bb283,_0x58d302,_0x513063);return this[_0x429832(0x885)][_0x429832(0x491)](_0x37db1c,_0x5b9fcf),this['configs'][_0x429832(0x8f7)]['registerSystemSource'](_0x5b9fcf),_0x5b9fcf;}catch(_0x30232a){if(_0x30232a instanceof _0xab88d9)throw _0x30232a;throw new _0x224ab2(_0x224ab2['codes'][_0x429832(0x8a5)],{'label':_0x37db1c,'clusterId':this[_0x429832(0x5a0)][_0x429832(0x8ae)],'vendorId':this['configs'][_0x429832(0x164)]});}}['createGraphDatabase'](_0x561610,_0x2fb8c5){const _0x44238c=_0x3149ab;if(this['graphDatabases'][_0x44238c(0x2a7)](_0x561610))throw new _0xab88d9(_0x3cba44['GraphDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0xe97db0=new _0xa4f684(this[_0x44238c(0x5a0)][_0x44238c(0x9ba)],_0x561610,this[_0x44238c(0x5a0)]['clusterId'],this[_0x44238c(0x5a0)][_0x44238c(0x164)],_0x2fb8c5);return this[_0x44238c(0x6a3)][_0x44238c(0x491)](_0x561610,_0xe97db0),this['configs']['mediator'][_0x44238c(0xa68)](_0xe97db0),_0xe97db0;}catch(_0x51324c){if(_0x51324c instanceof _0xab88d9)throw _0x51324c;throw new _0x224ab2(_0x224ab2[_0x44238c(0x8b5)][_0x44238c(0x5a2)],{'label':_0x561610,'clusterId':this[_0x44238c(0x5a0)][_0x44238c(0x8ae)],'vendorId':this[_0x44238c(0x5a0)][_0x44238c(0x164)]});}}['createLocalDynamicMediaStream'](_0x36628c,_0x21beff){const _0x333a57=_0x3149ab;if(this['localMediaStreams'][_0x333a57(0x2a7)](_0x36628c))throw new _0xab88d9(_0x3cba44[_0x333a57(0x7fb)],_0x333a57(0x919));if(!this[_0x333a57(0x818)][_0x333a57(0x93a)])throw new _0xab88d9(_0x3cba44[_0x333a57(0xaaa)],_0x333a57(0x925));const _0x187708=new _0xc22f7a(this[_0x333a57(0x5a0)][_0x333a57(0x9ba)],_0x36628c,_0x21beff,this['options']['maxFps'],this[_0x333a57(0x818)][_0x333a57(0x93a)],this[_0x333a57(0x5a0)][_0x333a57(0x8ae)]);return this[_0x333a57(0x2b9)][_0x333a57(0x491)](_0x36628c,_0x187708),this['configs'][_0x333a57(0x8f7)][_0x333a57(0xa68)](_0x187708),_0x187708[_0x333a57(0x415)](),_0x187708;}[_0x3149ab(0x3c0)](_0x4d14ee,_0x73225b){const _0x5b2e4d=_0x3149ab;if(this['localMediaStreams'][_0x5b2e4d(0x2a7)](_0x4d14ee))throw new _0xab88d9(_0x3cba44['LocalMediaStreamAlreadyExists'],_0x5b2e4d(0x4c6));const _0x513bc4=new _0x436225(this[_0x5b2e4d(0x5a0)][_0x5b2e4d(0x9ba)],_0x4d14ee,_0x73225b,this[_0x5b2e4d(0x5a0)]['clusterId']);return this[_0x5b2e4d(0x2b9)][_0x5b2e4d(0x491)](_0x4d14ee,_0x513bc4),this[_0x5b2e4d(0x5a0)][_0x5b2e4d(0x8f7)][_0x5b2e4d(0xa68)](_0x513bc4),_0x513bc4[_0x5b2e4d(0x415)](),_0x513bc4;}[_0x3149ab(0x5b9)](_0x914b64){const _0x341379=_0x3149ab;if(this[_0x341379(0x4ff)][_0x341379(0x2a7)](_0x914b64))throw new _0xab88d9(_0x3cba44['PubSubTopicAlreadyExists'],_0x341379(0x420));const _0xa6aa65=new _0x1393d3(this[_0x341379(0x5a0)][_0x341379(0x9ba)],_0x914b64,this[_0x341379(0x5a0)][_0x341379(0x8ae)]);return this[_0x341379(0x4ff)][_0x341379(0x491)](_0x914b64,_0xa6aa65),this[_0x341379(0x5a0)]['mediator'][_0x341379(0xa68)](_0xa6aa65),_0xa6aa65;}[_0x3149ab(0x779)](_0x5a6375,_0x4f0770,_0x43499e,_0x96deda){const _0x45748f=_0x3149ab;this[_0x45748f(0x21f)][_0x45748f(0x2a7)](_0x5a6375)||this[_0x45748f(0x21f)][_0x45748f(0x491)](_0x5a6375,new Map());const _0x4b15e2=this['remoteMediaStreams'][_0x45748f(0x524)](_0x5a6375);if(_0x4b15e2['has'](_0x4f0770))throw new _0xab88d9(_0x3cba44['RemoteMediaStreamAlreadyExists'],_0x45748f(0xa95));const _0xdacae7=new _0x1b4d0f(_0x5a6375,'',''),_0xd2968e=new _0x6bdcf4(this[_0x45748f(0x5a0)][_0x45748f(0x9ba)],_0xdacae7,_0x4f0770,_0x43499e,_0x96deda,this[_0x45748f(0x5a0)]['clusterId']);return _0x4b15e2[_0x45748f(0x491)](_0x4f0770,_0xd2968e),this[_0x45748f(0x5a0)][_0x45748f(0x8f7)]['registerSystemSource'](_0xd2968e),_0xd2968e;}[_0x3149ab(0x1f3)](_0x59f283,_0x182194){const _0x3f1ba4=_0x3149ab;if(this[_0x3f1ba4(0x454)]['has'](_0x59f283))throw new _0xab88d9(_0x3cba44[_0x3f1ba4(0x417)],'Database\x20already\x20exists');try{const _0x4e5506=new _0x29d9a0(this[_0x3f1ba4(0x5a0)][_0x3f1ba4(0x9ba)],_0x59f283,this[_0x3f1ba4(0x5a0)]['clusterId'],this['configs'][_0x3f1ba4(0x164)],_0x182194);return this[_0x3f1ba4(0x454)]['set'](_0x59f283,_0x4e5506),this[_0x3f1ba4(0x5a0)]['mediator'][_0x3f1ba4(0xa68)](_0x4e5506),_0x4e5506;}catch(_0x4cd8ae){if(_0x4cd8ae instanceof _0xab88d9)throw _0x4cd8ae;throw new _0x224ab2(_0x224ab2[_0x3f1ba4(0x8b5)]['VectorDatabaseCreationFailed'],{'label':_0x59f283,'clusterId':this[_0x3f1ba4(0x5a0)][_0x3f1ba4(0x8ae)],'vendorId':this['configs'][_0x3f1ba4(0x164)]});}}[_0x3149ab(0x237)](_0x316d96){const _0x1a5427=_0x3149ab,_0x51ec8b=Array[_0x1a5427(0x271)](this[_0x1a5427(0x35c)][_0x1a5427(0x6da)]());return _0x316d96?_0x51ec8b[_0x1a5427(0x683)](_0x316d96):_0x51ec8b;}[_0x3149ab(0x6fc)](_0x113c7f){const _0x1b4313=_0x3149ab,_0x418f87=Array[_0x1b4313(0x271)](this[_0x1b4313(0x64a)][_0x1b4313(0x6da)]());return _0x113c7f?_0x418f87[_0x1b4313(0x683)](_0x113c7f):_0x418f87;}[_0x3149ab(0x343)](_0x171e04){const _0x54fd0e=_0x3149ab,_0x39f0f6=Array[_0x54fd0e(0x271)](this[_0x54fd0e(0x177)][_0x54fd0e(0x6da)]());return _0x171e04?_0x39f0f6[_0x54fd0e(0x683)](_0x171e04):_0x39f0f6;}[_0x3149ab(0x763)](_0x4027a1){const _0xee5cef=_0x3149ab,_0x142e4f=Array['from'](this[_0xee5cef(0x136)][_0xee5cef(0x6da)]());return _0x4027a1?_0x142e4f[_0xee5cef(0x683)](_0x4027a1):_0x142e4f;}[_0x3149ab(0x677)](_0x23e375){const _0x590952=_0x3149ab,_0x876292=Array['from'](this[_0x590952(0x885)]['values']());return _0x23e375?_0x876292[_0x590952(0x683)](_0x23e375):_0x876292;}[_0x3149ab(0x388)](_0x5748c6){const _0x50dbc3=_0x3149ab,_0x55b5c6=Array['from'](this['jobDispatchers'][_0x50dbc3(0x6da)]())[_0x50dbc3(0x683)](_0x5e3a34=>_0x5e3a34 instanceof _0x19be32);return _0x5748c6?_0x55b5c6['filter'](_0x5748c6):_0x55b5c6;}['getGenerativeAIWorkers'](_0x25f2c0){const _0x4bc919=_0x3149ab,_0x4bf9c7=Array['from'](this[_0x4bc919(0x885)]['values']())[_0x4bc919(0x683)](_0x4a62c3=>_0x4a62c3 instanceof _0x239f79);return _0x25f2c0?_0x4bf9c7['filter'](_0x25f2c0):_0x4bf9c7;}[_0x3149ab(0x676)](_0x515953){const _0x46f86f=_0x3149ab,_0x2eda8d=Array[_0x46f86f(0x271)](this[_0x46f86f(0x6a3)]['values']());return _0x515953?_0x2eda8d[_0x46f86f(0x683)](_0x515953):_0x2eda8d;}[_0x3149ab(0x503)](_0x506da2){const _0x512887=_0x3149ab,_0x3755e6=Array[_0x512887(0x271)](this[_0x512887(0x2b9)][_0x512887(0x6da)]());return _0x506da2?_0x3755e6[_0x512887(0x683)](_0x506da2):_0x3755e6;}[_0x3149ab(0x1b5)](_0x38118d){const _0x2831ef=_0x3149ab,_0x2ff97a=Array[_0x2831ef(0x271)](this['pubSubTopics'][_0x2831ef(0x6da)]());return _0x38118d?_0x2ff97a[_0x2831ef(0x683)](_0x38118d):_0x2ff97a;}[_0x3149ab(0x62f)](_0x2f4d3a){const _0x46a3b7=_0x3149ab,_0x1ad27c=Array['from'](this[_0x46a3b7(0x21f)][_0x46a3b7(0x6da)]())[_0x46a3b7(0x399)]((_0x2039da,_0x237e16)=>[..._0x2039da,...Array[_0x46a3b7(0x271)](_0x237e16[_0x46a3b7(0x6da)]())],[]);return _0x2f4d3a?_0x1ad27c[_0x46a3b7(0x683)](_0x2f4d3a):_0x1ad27c;}['getVectorDatabases'](_0xd55261){const _0x203d73=_0x3149ab,_0x4d5b4f=Array[_0x203d73(0x271)](this['vectorDatabases'][_0x203d73(0x6da)]());return _0xd55261?_0x4d5b4f[_0x203d73(0x683)](_0xd55261):_0x4d5b4f;}[_0x3149ab(0xab4)](_0x435d07){const _0x5cb67d=_0x3149ab,_0x28a171=this['objectStores'][_0x5cb67d(0x524)](_0x435d07);if(!_0x28a171)throw new _0xab88d9(_0x3cba44['ObjectStoreDoesNotExist'],'ObjectStore\x20not\x20found');return _0x28a171;}[_0x3149ab(0x3a9)](_0x540da0){const _0x348d63=_0x3149ab,_0x570114=_0x540da0[_0x348d63(0x91d)]('-'),_0x4386c6=this[_0x348d63(0x64a)][_0x348d63(0x524)](_0x570114[0x1]);if(!_0x4386c6)throw new _0xab88d9(_0x3cba44['ExternalStorageConnectionDoesNotExist'],_0x348d63(0x304));return _0x4386c6;}['getGraphDatabase'](_0x1e73ef){const _0x4c54ca=_0x3149ab,_0xfaf503=this[_0x4c54ca(0x6a3)]['get'](_0x1e73ef);if(!_0xfaf503)throw new _0xab88d9(_0x3cba44[_0x4c54ca(0x8f8)],'GraphDatabase\x20not\x20found');return _0xfaf503;}[_0x3149ab(0x9f0)](_0x56e269){const _0x30a5a6=_0x3149ab,_0x48713e=this[_0x30a5a6(0x177)][_0x30a5a6(0x524)](_0x56e269);if(!_0x48713e)throw new _0xab88d9(_0x3cba44[_0x30a5a6(0x666)],_0x30a5a6(0x6bb));return _0x48713e;}[_0x3149ab(0x810)](_0x1709f3){const _0x315710=_0x3149ab,_0x53ead7=this[_0x315710(0x4ff)][_0x315710(0x524)](_0x1709f3);if(!_0x53ead7)throw new _0xab88d9(_0x3cba44[_0x315710(0x66a)],_0x315710(0x13d));return _0x53ead7;}[_0x3149ab(0x267)](_0x295c5f){const _0x507581=_0x3149ab,_0x39923a=this[_0x507581(0x454)][_0x507581(0x524)](_0x295c5f);if(!_0x39923a)throw new _0xab88d9(_0x3cba44[_0x507581(0xa62)],_0x507581(0x385));return _0x39923a;}[_0x3149ab(0x3bc)](_0x53621d){const _0x19a9f3=_0x3149ab;switch(_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x16c)]){case _0x253ba5[_0x19a9f3(0x471)]:this[_0x19a9f3(0x7cd)](_0x53621d[_0x19a9f3(0x130)]);break;case _0x253ba5[_0x19a9f3(0x704)]:this['handleUnpublishMediaStream'](_0x53621d[_0x19a9f3(0x130)]);break;case _0x253ba5[_0x19a9f3(0x5b4)]:this[_0x19a9f3(0x7a7)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5['CloseJobWorker']:this[_0x19a9f3(0x12b)](_0x53621d[_0x19a9f3(0x130)]['label']);break;case _0x253ba5[_0x19a9f3(0x455)]:this[_0x19a9f3(0x75a)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5[_0x19a9f3(0x495)]:this[_0x19a9f3(0x227)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5[_0x19a9f3(0x28b)]:this[_0x19a9f3(0x1ae)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5[_0x19a9f3(0x7ff)]:this[_0x19a9f3(0x243)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5[_0x19a9f3(0x868)]:this[_0x19a9f3(0x3e7)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5['CloseVectorDatabase']:this[_0x19a9f3(0xa23)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5[_0x19a9f3(0x1bd)]:this[_0x19a9f3(0x36c)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)]);break;case _0x253ba5['UnsubscribeMediaStream']:this[_0x19a9f3(0xae2)](_0x53621d[_0x19a9f3(0x130)]);break;case _0x253ba5[_0x19a9f3(0x521)]:this[_0x19a9f3(0x177)][_0x19a9f3(0x524)](_0x53621d[_0x19a9f3(0x130)]['label'])?.['answerContentAvailable'](_0x53621d[_0x19a9f3(0x61f)],_0x53621d['content'][_0x19a9f3(0x976)]);break;case _0x253ba5[_0x19a9f3(0x363)]:this[_0x19a9f3(0x177)]['get'](_0x53621d['content'][_0x19a9f3(0x3a4)])?.[_0x19a9f3(0x5ab)](_0x53621d[_0x19a9f3(0x61f)],_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x976)]);break;case _0x253ba5[_0x19a9f3(0x42e)]:this[_0x19a9f3(0x177)][_0x19a9f3(0x524)](_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)])?.[_0x19a9f3(0x421)](_0x53621d[_0x19a9f3(0x61f)],_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x98c)]);break;case _0x253ba5['KeyValueDatabaseRequestPeakTransactions']:this[_0x19a9f3(0x177)]['get'](_0x53621d['content']['label'])?.[_0x19a9f3(0x4a1)](_0x53621d['sourceId'],_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x1f5)]);break;case _0x253ba5[_0x19a9f3(0x767)]:this[_0x19a9f3(0x177)][_0x19a9f3(0x524)](_0x53621d[_0x19a9f3(0x130)]['label'])?.['sendTransactionsValue'](_0x53621d['sourceId'],_0x53621d[_0x19a9f3(0x130)]['transactionIds']);break;case _0x253ba5['KeyValueDatabaseSendTransactions']:this[_0x19a9f3(0x177)]['get'](_0x53621d[_0x19a9f3(0x130)]['label'])?.[_0x19a9f3(0x2a9)](_0x53621d['sourceId'],_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3cc)]);break;case _0x253ba5[_0x19a9f3(0x28e)]:this[_0x19a9f3(0x5a0)][_0x19a9f3(0x8f7)][_0x19a9f3(0x131)]('local-media-stream-track-fail',{'label':_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x3a4)],'trackKinds':_0x53621d[_0x19a9f3(0x130)][_0x19a9f3(0x7fc)]});}}[_0x3149ab(0x513)]({content:_0x3f2e67}){const _0x3c039b=_0x3149ab;switch(_0x3f2e67[_0x3c039b(0x16c)]){case _0x27b120['NodeJoin']:this[_0x3c039b(0xaa4)](_0x3f2e67),this[_0x3c039b(0x1f9)](_0x3f2e67);break;case _0x27b120[_0x3c039b(0x7f8)]:this[_0x3c039b(0x187)](_0x3f2e67),this[_0x3c039b(0x588)](_0x3f2e67);}}[_0x3149ab(0x7c4)](_0x1cea75){const _0x89a201=_0x3149ab;switch(_0x1cea75['content']['type']){case _0x5af822['SubscribeMediaStream']:this[_0x89a201(0x5a3)](_0x1cea75[_0x89a201(0x61f)],_0x1cea75[_0x89a201(0x130)]);break;case _0x5af822['UpdateMediaStream']:this['handleUpdateMediaStream'](_0x1cea75[_0x89a201(0x61f)],_0x1cea75[_0x89a201(0x130)]);break;case _0x5af822[_0x89a201(0xae8)]:this[_0x89a201(0x520)](_0x1cea75[_0x89a201(0x61f)],_0x1cea75[_0x89a201(0x130)]);}}[_0x3149ab(0xae2)](_0x5f49d9){const _0x460231=_0x3149ab;if(0x0===_0x5f49d9[_0x460231(0x7c3)])this[_0x460231(0x21f)][_0x460231(0x524)](_0x5f49d9['ownerId'])?.[_0x460231(0x524)](_0x5f49d9['label'])?.[_0x460231(0x2cb)]();else{const _0x30bb43=this[_0x460231(0x21f)]['get'](_0x5f49d9[_0x460231(0x3fd)])?.[_0x460231(0x524)](_0x5f49d9['label']);if(!_0x30bb43)return;_0x5f49d9[_0x460231(0x7fc)][_0x460231(0x1d0)](_0x4ff4d7=>_0x30bb43['unsubscribeTrackEndedListener'](_0x4ff4d7));}}[_0x3149ab(0x7cd)](_0x3cb879){const _0x3cc222=_0x3149ab,{label:_0xc370ae,ownerId:_0x3987c6,stream:{streamId:_0x3d82ca,availableTrackKinds:_0x4209e3}}=_0x3cb879;if(this[_0x3cc222(0x21f)][_0x3cc222(0x524)](_0x3987c6)?.[_0x3cc222(0x2a7)](_0xc370ae))return void _0x5b2279['log'](_0x44d495['Content'],_0x3cc222(0x4c6),_0x3d82ca);const _0x10e216=this[_0x3cc222(0x779)](_0x3987c6,_0xc370ae,_0x3d82ca,_0x4209e3);this[_0x3cc222(0x5a0)]['mediator']['notifyCluster'](_0x3cc222(0x230),{'ownerId':_0x3987c6,'stream':_0x10e216});}[_0x3149ab(0x1a6)]({ownerId:_0x2fd772,label:_0x208dc6}){const _0x5c9c3b=_0x3149ab;this[_0x5c9c3b(0x10e)](_0x2fd772,_0x208dc6),this[_0x5c9c3b(0x5a0)][_0x5c9c3b(0x8f7)][_0x5c9c3b(0x131)](_0x5c9c3b(0x5cd),{'ownerId':_0x2fd772,'label':_0x208dc6});}[_0x3149ab(0x5a3)](_0x83a25b,_0x4ee748){const _0x249150=_0x3149ab,{ownerId:_0x44aaa5,label:_0x56284c}=_0x4ee748;let _0x2e117e;_0x2e117e=_0x44aaa5!==this[_0x249150(0x5a0)][_0x249150(0x9ba)][_0x249150(0x394)]()?this['remoteMediaStreams']['get'](_0x44aaa5)['get'](_0x56284c):this[_0x249150(0x2b9)][_0x249150(0x524)](_0x56284c),_0x2e117e[_0x249150(0xaad)](_0x83a25b,_0x4ee748[_0x249150(0x48b)])[_0x249150(0x438)](_0x4ee748,_0x2e117e[_0x249150(0x9cb)]());}[_0x3149ab(0x400)](_0x3d0138,_0x2a0014){const _0x23550f=_0x3149ab,{ownerId:_0x39532e,label:_0xeea29a}=_0x2a0014;let _0xf5cc2a;_0xf5cc2a=_0x39532e!==this[_0x23550f(0x5a0)]['localNode'][_0x23550f(0x394)]()?this[_0x23550f(0x21f)][_0x23550f(0x524)](_0x39532e)[_0x23550f(0x524)](_0xeea29a):this[_0x23550f(0x2b9)]['get'](_0xeea29a),_0xf5cc2a[_0x23550f(0xaad)](_0x3d0138,_0x2a0014[_0x23550f(0x48b)])[_0x23550f(0x54d)](_0x2a0014);}[_0x3149ab(0x520)](_0x219e68,_0x3b561a){const _0x45bca6=_0x3149ab,{ownerId:_0x20fd40,label:_0x24f845}=_0x3b561a;let _0x35769c;_0x35769c=_0x20fd40!==this[_0x45bca6(0x5a0)][_0x45bca6(0x9ba)][_0x45bca6(0x394)]()?this[_0x45bca6(0x21f)][_0x45bca6(0x524)](_0x20fd40)[_0x45bca6(0x524)](_0x24f845):this[_0x45bca6(0x2b9)]['get'](_0x24f845),_0x35769c['getShareableStream'](_0x219e68)['unsubscribe'](_0x3b561a);}[_0x3149ab(0xaa4)]({id:_0x3b8e20}){const _0x5999bf=_0x3149ab;this[_0x5999bf(0x503)]()['forEach'](_0xa640cd=>{const _0x51bee9=_0x5999bf;_0xa640cd[_0x51bee9(0x415)](_0x3b8e20);});}['handleNodeLeave']({id:_0x3492d7}){const _0x11af7a=_0x3149ab;this['getRemoteMediaStreams'](_0x2b4736=>_0x2b4736[_0x11af7a(0x84a)]()===_0x3492d7)[_0x11af7a(0x1d0)](_0x33e77e=>{const _0x5c4eae=_0x11af7a;this['removeRemoteMediaStream'](_0x33e77e[_0x5c4eae(0x84a)](),_0x33e77e['getLabel']());});}[_0x3149ab(0x1f9)]({id:_0x486984}){const _0x29ad2d=_0x3149ab;this[_0x29ad2d(0x35c)][_0x29ad2d(0x1d0)](_0x497531=>_0x497531['handleNodeJoin'](_0x486984));}[_0x3149ab(0x588)]({id:_0x1724a9}){const _0x3a040e=_0x3149ab;this[_0x3a040e(0x35c)][_0x3a040e(0x1d0)](_0x400f42=>_0x400f42[_0x3a040e(0x187)](_0x1724a9));}[_0x3149ab(0x7a7)](_0x429e74){const _0x29ae3e=_0x3149ab;if(!this[_0x29ae3e(0x136)][_0x29ae3e(0x2a7)](_0x429e74))throw new _0xab88d9(_0x3cba44['JobDispatcherDoesNotExist'],_0x29ae3e(0x922));const _0x3a6b90=this[_0x29ae3e(0x136)][_0x29ae3e(0x524)](_0x429e74);this[_0x29ae3e(0x136)]['delete'](_0x429e74),_0x3a6b90[_0x29ae3e(0x2cb)](),this[_0x29ae3e(0x5a0)][_0x29ae3e(0x8f7)][_0x29ae3e(0x41a)](_0x3a6b90);}[_0x3149ab(0x12b)](_0x11f594){const _0x200658=_0x3149ab;if(!this[_0x200658(0x885)][_0x200658(0x2a7)](_0x11f594))throw new _0xab88d9(_0x3cba44[_0x200658(0x740)],'Job\x20Worker\x20does\x20not\x20exist');const _0x53dc06=this['jobWorkers'][_0x200658(0x524)](_0x11f594);this['jobWorkers'][_0x200658(0x979)](_0x11f594),_0x53dc06[_0x200658(0x2cb)](),this['configs'][_0x200658(0x8f7)][_0x200658(0x41a)](_0x53dc06);}[_0x3149ab(0x1ae)](_0x5eac30){const _0x2b5694=_0x3149ab;if(!this[_0x2b5694(0x35c)][_0x2b5694(0x2a7)](_0x5eac30))throw new _0xab88d9(_0x3cba44[_0x2b5694(0x477)],'Stream\x20does\x20not\x20exist');const _0x49bdba=this['objectStores'][_0x2b5694(0x524)](_0x5eac30);this[_0x2b5694(0x35c)][_0x2b5694(0x979)](_0x5eac30),_0x49bdba[_0x2b5694(0x2cb)](),this[_0x2b5694(0x5a0)][_0x2b5694(0x8f7)][_0x2b5694(0x41a)](_0x49bdba);}[_0x3149ab(0x243)](_0x331deb){const _0x18db8d=_0x3149ab;if(!this[_0x18db8d(0x64a)][_0x18db8d(0x2a7)](_0x331deb))throw new _0xab88d9(_0x3cba44['ExternalStorageConnectionDoesNotExist'],_0x18db8d(0x58c));const _0x353dfb=this[_0x18db8d(0x64a)][_0x18db8d(0x524)](_0x331deb);this[_0x18db8d(0x64a)][_0x18db8d(0x979)](_0x331deb),_0x353dfb['destroy'](),this[_0x18db8d(0x5a0)]['mediator'][_0x18db8d(0x41a)](_0x353dfb);}['removePubSubTopic'](_0x4dfdc3){const _0x554781=_0x3149ab;if(!this[_0x554781(0x4ff)][_0x554781(0x2a7)](_0x4dfdc3))throw new _0xab88d9(_0x3cba44['PubSubTopicDoesNotExist'],'Stream\x20does\x20not\x20exist');const _0x45a03c=this['pubSubTopics'][_0x554781(0x524)](_0x4dfdc3);this[_0x554781(0x4ff)]['delete'](_0x4dfdc3),_0x45a03c[_0x554781(0x2cb)](),this[_0x554781(0x5a0)][_0x554781(0x8f7)][_0x554781(0x41a)](_0x45a03c);}[_0x3149ab(0x3e7)](_0x5b4c4e){const _0x27bbda=_0x3149ab;if(!this['keyValueDatabases'][_0x27bbda(0x2a7)](_0x5b4c4e))throw new _0xab88d9(_0x3cba44[_0x27bbda(0x666)],'Database\x20does\x20not\x20exist');const _0x3f36ad=this[_0x27bbda(0x177)][_0x27bbda(0x524)](_0x5b4c4e);this[_0x27bbda(0x177)][_0x27bbda(0x979)](_0x5b4c4e),_0x3f36ad[_0x27bbda(0x2cb)](),this['configs'][_0x27bbda(0x8f7)][_0x27bbda(0x41a)](_0x3f36ad);}[_0x3149ab(0xa23)](_0x501a21){const _0x4779c8=_0x3149ab;if(!this[_0x4779c8(0x454)][_0x4779c8(0x2a7)](_0x501a21))throw new _0xab88d9(_0x3cba44[_0x4779c8(0xa62)],'Database\x20does\x20not\x20exist');const _0x3145d2=this['vectorDatabases'][_0x4779c8(0x524)](_0x501a21);this['vectorDatabases'][_0x4779c8(0x979)](_0x501a21),_0x3145d2[_0x4779c8(0x2cb)](),this[_0x4779c8(0x5a0)][_0x4779c8(0x8f7)][_0x4779c8(0x41a)](_0x3145d2);}['removeGraphDatabase'](_0x57adf1){const _0x5ecefd=_0x3149ab;if(!this[_0x5ecefd(0x6a3)][_0x5ecefd(0x2a7)](_0x57adf1))throw new _0xab88d9(_0x3cba44['GraphDatabaseDoesNotExist'],_0x5ecefd(0x59e));const _0x1595c4=this[_0x5ecefd(0x6a3)][_0x5ecefd(0x524)](_0x57adf1);this['graphDatabases'][_0x5ecefd(0x979)](_0x57adf1),_0x1595c4[_0x5ecefd(0x2cb)](),this[_0x5ecefd(0x5a0)][_0x5ecefd(0x8f7)][_0x5ecefd(0x41a)](_0x1595c4);}[_0x3149ab(0x75a)](_0x5ee66a){const _0x1d8c01=_0x3149ab;if(!this[_0x1d8c01(0x2b9)][_0x1d8c01(0x2a7)](_0x5ee66a))throw new _0x224ab2(_0x224ab2[_0x1d8c01(0x8b5)][_0x1d8c01(0xa25)],{'label':_0x5ee66a,'localId':this[_0x1d8c01(0x5a0)][_0x1d8c01(0x9ba)][_0x1d8c01(0x394)]()});const _0x428399=this[_0x1d8c01(0x2b9)][_0x1d8c01(0x524)](_0x5ee66a);this['configs']['mediator'][_0x1d8c01(0x41a)](_0x428399),_0x428399[_0x1d8c01(0x2cb)](),this[_0x1d8c01(0x2b9)][_0x1d8c01(0x979)](_0x5ee66a);}[_0x3149ab(0x10e)](_0x4a645d,_0xc5fa16){const _0x53e85d=_0x3149ab;if(!this[_0x53e85d(0x21f)][_0x53e85d(0x2a7)](_0x4a645d))throw new _0x224ab2(_0x224ab2[_0x53e85d(0x8b5)][_0x53e85d(0x404)],{'nodeId':_0x4a645d,'localId':this['configs'][_0x53e85d(0x9ba)][_0x53e85d(0x394)]()});const _0x35709b=this['remoteMediaStreams'][_0x53e85d(0x524)](_0x4a645d);if(!_0x35709b['has'](_0xc5fa16))throw new _0x224ab2(_0x224ab2[_0x53e85d(0x8b5)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x4a645d,'label':_0xc5fa16,'localId':this['configs'][_0x53e85d(0x9ba)][_0x53e85d(0x394)]()});const _0x3f40c5=_0x35709b['get'](_0xc5fa16);this[_0x53e85d(0x5a0)]['mediator'][_0x53e85d(0x41a)](_0x3f40c5),_0x3f40c5[_0x53e85d(0x2cb)](),_0x35709b[_0x53e85d(0x979)](_0xc5fa16);}}var _0x1c2453,_0x4cf366,_0x29435e;!function(_0x5f2558){const _0x38657d=_0x3149ab;_0x5f2558[_0x38657d(0x370)]='st_volatility',_0x5f2558[_0x38657d(0x53a)]=_0x38657d(0x2cf),_0x5f2558[_0x38657d(0x5fd)]=_0x38657d(0x2c9),_0x5f2558[_0x38657d(0x968)]=_0x38657d(0x1cd),_0x5f2558[_0x38657d(0x5a4)]=_0x38657d(0x361),_0x5f2558[_0x38657d(0x12a)]=_0x38657d(0x938),_0x5f2558[_0x38657d(0xad1)]=_0x38657d(0x9aa),_0x5f2558['AudioVideoDelay']=_0x38657d(0x149);}(_0x1c2453||(_0x1c2453={})),function(_0x48ce06){const _0x183205=_0x3149ab;_0x48ce06[_0x183205(0x38a)]=_0x183205(0x2aa),_0x48ce06[_0x183205(0x5fd)]=_0x183205(0x658),_0x48ce06['AudioVideoDelay']=_0x183205(0x281),_0x48ce06[_0x183205(0x12a)]=_0x183205(0x730),_0x48ce06[_0x183205(0x968)]=_0x183205(0x3f9),_0x48ce06[_0x183205(0x5a4)]=_0x183205(0x6ea),_0x48ce06['RoundTripTime']=_0x183205(0x254);}(_0x4cf366||(_0x4cf366={})),function(_0x3909ee){const _0x40d151=_0x3149ab;_0x3909ee[_0x3909ee[_0x40d151(0x840)]=0x0]=_0x40d151(0x840);}(_0x29435e||(_0x29435e={}));const _0x504957=[{'type':_0x1c2453[_0x3149ab(0x370)],'reportMetric':_0x1460bc=>_0x1460bc[_0x3149ab(0x370)],'maxThreshold':2.5},{'type':_0x1c2453[_0x3149ab(0x53a)],'reportMetric':_0x5d9a3c=>_0x5d9a3c[_0x3149ab(0x53a)],'maxThreshold':0.5}],_0x294c6d=[{'type':_0x1c2453[_0x3149ab(0x5fd)],'reportMetric':_0x5cabb4=>{const _0x1cacc3=_0x3149ab,_0x534fcb=0x3e8/_0x5cabb4[_0x1cacc3(0x222)];return _0x5cabb4[_0x1cacc3(0x6f1)]/_0x534fcb;},'maxThreshold':0.75},{'type':_0x1c2453['Bitrate'],'reportMetric':_0x344f8a=>{const _0xcfa095=_0x3149ab,_0x261677=_0x344f8a['FPS']*_0x344f8a[_0xcfa095(0x509)]*_0x344f8a[_0xcfa095(0x12f)]*0.12;return _0x344f8a[_0xcfa095(0x1cd)]/_0x261677;},'minThreshold':0.25},{'type':_0x1c2453[_0x3149ab(0x5a4)],'reportMetric':_0x4233e0=>_0x4233e0[_0x3149ab(0x361)],'maxThreshold':0.6},{'type':_0x1c2453[_0x3149ab(0x12a)],'reportMetric':_0x2b0d3d=>_0x2b0d3d[_0x3149ab(0x222)],'minThreshold':0xa}],_0x5c68c2=[{'type':_0x1c2453[_0x3149ab(0x5a4)],'reportMetric':_0x4806ca=>_0x4806ca[_0x3149ab(0x361)],'maxThreshold':0.6}],_0x12a527=[{'type':_0x1c2453['RoundTripTime'],'reportMetric':_0x548140=>_0x548140[_0x3149ab(0xa50)],'maxThreshold':0x1/0x0}],_0x121469=[{'type':_0x1c2453[_0x3149ab(0x9da)],'reportMetric':_0x2ca55d=>_0x2ca55d[_0x3149ab(0x9da)],'maxThreshold':0x12c}],_0x17a0da=[{'type':_0x4cf366[_0x3149ab(0x38a)],'issues':[{'type':_0x1c2453[_0x3149ab(0x370)],'threshold':0x5},{'type':_0x1c2453[_0x3149ab(0x53a)],'threshold':0x5}]},{'type':_0x4cf366[_0x3149ab(0x5fd)],'issues':[{'type':_0x1c2453[_0x3149ab(0x5fd)],'threshold':0x3}]},{'type':_0x4cf366[_0x3149ab(0x9da)],'issues':[{'type':_0x1c2453[_0x3149ab(0x9da)],'threshold':0x2}]},{'type':_0x4cf366[_0x3149ab(0x12a)],'issues':[{'type':_0x1c2453[_0x3149ab(0x12a)],'threshold':0x3}]},{'type':_0x4cf366[_0x3149ab(0x968)],'issues':[{'type':_0x1c2453[_0x3149ab(0x968)],'threshold':0x3}]},{'type':_0x4cf366[_0x3149ab(0x5a4)],'issues':[{'type':_0x1c2453['Jitter'],'threshold':0x3}]},{'type':_0x4cf366['RoundTripTime'],'issues':[{'type':_0x1c2453[_0x3149ab(0xad1)],'threshold':0x3}]}];var _0x452410,_0x25652b;!function(_0x58f126){const _0xbbb661=_0x3149ab;_0x58f126[_0x58f126[_0xbbb661(0x6a1)]=0x0]='StreamReport',_0x58f126[_0x58f126[_0xbbb661(0x975)]=0x1]=_0xbbb661(0x975);}(_0x452410||(_0x452410={}));class _0x2ae16c{[_0x3149ab(0x5a0)];[_0x3149ab(0x851)]=[];[_0x3149ab(0x364)];constructor(_0xc39873){const _0x97dae5=_0x3149ab;this[_0x97dae5(0x5a0)]=_0xc39873,this['configs'][_0x97dae5(0x8f7)][_0x97dae5(0xa68)](this);}[_0x3149ab(0x9cd)](_0x44a95e){const _0x4c6ebf=_0x3149ab;this[_0x4c6ebf(0x364)]=_0x44a95e;}[_0x3149ab(0x8bd)](){const _0x3e7bec=_0x3149ab;this[_0x3e7bec(0x364)]=void 0x0;}[_0x3149ab(0x11b)](){const _0x974472=_0x3149ab;this[_0x974472(0x5a0)][_0x974472(0x8f7)][_0x974472(0x41a)](this),this['issues']=[];}[_0x3149ab(0x76d)](_0x288479){const _0x54b148=_0x3149ab;switch(_0x288479[_0x54b148(0x130)][_0x54b148(0x16c)]){case _0x452410['LocalReport']:this['detectLocalIssues'](_0x288479['content'][_0x54b148(0x9b8)]);break;case _0x452410[_0x54b148(0x6a1)]:this['detectStreamIssues'](_0x288479[_0x54b148(0x130)][_0x54b148(0x9b8)]);}}[_0x3149ab(0x886)](_0x4a8175,_0x31a1f2,_0x1d1fd8,_0x1b95e1){const _0x3af973=_0x3149ab,_0x4b0c16=_0x17a0da[_0x3af973(0x8e4)](_0x460785=>_0x460785[_0x3af973(0x851)]['some'](_0x48dae8=>_0x48dae8[_0x3af973(0x16c)]===_0x4a8175));_0x1b95e1>=_0x4b0c16['issues'][_0x3af973(0x8e4)](_0x3b94c7=>_0x3b94c7[_0x3af973(0x16c)]===_0x4a8175)[_0x3af973(0x912)]&&(this[_0x3af973(0xaa0)](_0x4b0c16[_0x3af973(0x16c)],_0x31a1f2,_0x1d1fd8),this[_0x3af973(0x851)]=this[_0x3af973(0x851)][_0x3af973(0x683)](_0x28a74e=>!(_0x28a74e[_0x3af973(0x16c)]===_0x4a8175&&_0x28a74e[_0x3af973(0x3d7)]===_0x31a1f2&&_0x28a74e[_0x3af973(0x77c)]===_0x1d1fd8)));}[_0x3149ab(0x54c)](_0x357f55){const _0x4da4ce=_0x3149ab;_0x504957[_0x4da4ce(0x1d0)](_0x43f17f=>{const _0x33869b=_0x4da4ce,_0x36772c=_0x43f17f[_0x33869b(0x213)](_0x357f55);_0x43f17f[_0x33869b(0x11c)]&&_0x36772c>_0x43f17f[_0x33869b(0x11c)]&&this[_0x33869b(0x1a4)](_0x43f17f['type'],this[_0x33869b(0x5a0)][_0x33869b(0x9ba)][_0x33869b(0x394)](),_0x182ae0[_0x33869b(0x457)],_0x36772c),_0x43f17f[_0x33869b(0x16e)]&&_0x36772c<_0x43f17f[_0x33869b(0x16e)]&&this['addIssue'](_0x43f17f['type'],this[_0x33869b(0x5a0)][_0x33869b(0x9ba)]['getId'](),_0x182ae0[_0x33869b(0x457)],_0x36772c);});}['detectStreamIssues'](_0x588a7d){const _0x517654=_0x3149ab;let _0x184d46=[];switch(_0x588a7d[_0x517654(0x77c)]){case _0x182ae0['Sender']:_0x184d46=_0x12a527;break;case _0x182ae0['Receiver']:_0x184d46=_0x121469;}_0x588a7d[_0x517654(0x717)]&&this[_0x517654(0x5e8)](_0x588a7d[_0x517654(0x3d7)],_0x182ae0[_0x517654(0x457)],_0x588a7d['video']),_0x588a7d[_0x517654(0x354)]&&this[_0x517654(0x25d)](_0x588a7d[_0x517654(0x3d7)],_0x182ae0['Sender'],_0x588a7d[_0x517654(0x354)]),_0x184d46[_0x517654(0x1d0)](_0x3d94bc=>{const _0x31fac1=_0x517654,_0x46d0d7=_0x3d94bc[_0x31fac1(0x213)](_0x588a7d);_0x3d94bc[_0x31fac1(0x11c)]&&_0x46d0d7>_0x3d94bc[_0x31fac1(0x11c)]&&this['addIssue'](_0x3d94bc[_0x31fac1(0x16c)],_0x588a7d['nodeId'],_0x182ae0[_0x31fac1(0x457)],_0x46d0d7),_0x3d94bc[_0x31fac1(0x16e)]&&_0x46d0d7<_0x3d94bc[_0x31fac1(0x16e)]&&this[_0x31fac1(0x1a4)](_0x3d94bc['type'],_0x588a7d['nodeId'],_0x182ae0[_0x31fac1(0x457)],_0x46d0d7);});}[_0x3149ab(0x5e8)](_0x219848,_0x3ad47a,_0x43494f){const _0x337deb=_0x3149ab;0x0!==_0x43494f[_0x337deb(0x1cd)]&&_0x294c6d['forEach'](_0x1a2f4b=>{const _0x548fde=_0x337deb,_0x24c7f1=_0x1a2f4b['reportMetric'](_0x43494f);_0x1a2f4b['maxThreshold']&&_0x24c7f1>_0x1a2f4b['maxThreshold']&&this[_0x548fde(0x1a4)](_0x1a2f4b[_0x548fde(0x16c)],_0x219848,_0x3ad47a,_0x24c7f1,_0x548fde(0x717)),_0x1a2f4b[_0x548fde(0x16e)]&&_0x24c7f1<_0x1a2f4b[_0x548fde(0x16e)]&&this[_0x548fde(0x1a4)](_0x1a2f4b[_0x548fde(0x16c)],_0x219848,_0x3ad47a,_0x24c7f1,'video');});}[_0x3149ab(0x25d)](_0x35238f,_0x52e939,_0x4e01da){const _0x55a452=_0x3149ab;0x0!==_0x4e01da[_0x55a452(0x1cd)]&&_0x5c68c2[_0x55a452(0x1d0)](_0x53c2ce=>{const _0x1cc863=_0x55a452,_0x30e423=_0x53c2ce[_0x1cc863(0x213)](_0x4e01da);_0x53c2ce[_0x1cc863(0x11c)]&&_0x30e423>_0x53c2ce['maxThreshold']&&this[_0x1cc863(0x1a4)](_0x53c2ce['type'],_0x35238f,_0x52e939,_0x30e423,_0x1cc863(0x354)),_0x53c2ce[_0x1cc863(0x16e)]&&_0x30e423<_0x53c2ce[_0x1cc863(0x16e)]&&this[_0x1cc863(0x1a4)](_0x53c2ce[_0x1cc863(0x16c)],_0x35238f,_0x52e939,_0x30e423,_0x1cc863(0x354));});}[_0x3149ab(0x1a4)](_0x3233a9,_0x42b80c,_0x1be66e,_0x43a8b4,_0xc7e20e){const _0x106511=_0x3149ab;_0x5b2279['log'](_0x44d495[_0x106511(0x953)],_0x106511(0x87a)+_0x3233a9,_0x3233a9,_0x43a8b4),_0x5b2279['logEvent']('issue',{'clusterId':this[_0x106511(0x5a0)][_0x106511(0x8ae)],'nodeId':this[_0x106511(0x5a0)][_0x106511(0x9ba)]['getId'](),'nodeType':this[_0x106511(0x5a0)][_0x106511(0x9ba)][_0x106511(0x16c)],'remoteId':_0x42b80c,'data':{'type':_0x3233a9,'value':_0x43a8b4,'kind':_0xc7e20e}}),this[_0x106511(0x851)]=this[_0x106511(0x851)][_0x106511(0x683)](_0x26d77c=>Date[_0x106511(0x3fe)]()-_0x26d77c[_0x106511(0x412)]<0x7530),this['issues'][_0x106511(0x7e8)]({'timestamp':Date[_0x106511(0x3fe)](),'type':_0x3233a9,'nodeId':_0x42b80c,'origin':_0x1be66e,'value':_0x43a8b4,'kind':_0xc7e20e});const _0x290811=this['issues'][_0x106511(0x683)](_0x4f802f=>_0x4f802f[_0x106511(0x16c)]===_0x3233a9&&_0x4f802f['nodeId']===_0x42b80c&&_0x4f802f[_0x106511(0x77c)]===_0x1be66e)[_0x106511(0x878)];this[_0x106511(0x886)](_0x3233a9,_0x42b80c,_0x1be66e,_0x290811);}[_0x3149ab(0xaa0)](_0x339e58,_0x4dcd5f,_0x5828bc){const _0x4652c0=_0x3149ab;_0x5b2279[_0x4652c0(0x66c)](_0x44d495[_0x4652c0(0x953)],_0x4652c0(0x516)+_0x339e58),_0x5b2279[_0x4652c0(0x4fb)]('problem',{'clusterId':this[_0x4652c0(0x5a0)][_0x4652c0(0x8ae)],'nodeId':this[_0x4652c0(0x5a0)][_0x4652c0(0x9ba)][_0x4652c0(0x394)](),'nodeType':this[_0x4652c0(0x5a0)][_0x4652c0(0x9ba)][_0x4652c0(0x16c)],'remoteId':_0x4dcd5f,'data':{'type':_0x339e58}}),this[_0x4652c0(0x364)]?.[_0x4652c0(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x4652c0(0x953)],'content':{'type':_0x29435e[_0x4652c0(0x840)],'data':{'timestamp':Date[_0x4652c0(0x3fe)](),'nodeId':_0x4dcd5f,'origin':_0x182ae0[_0x4652c0(0x457)],'type':_0x339e58}}});}}class _0x2caccb extends _0x601f7d{['type']=_0x3a4c7c[_0x3149ab(0x4eb)][_0x3149ab(0x1cb)];}class _0x4aa766 extends _0x2caccb{[_0x3149ab(0x364)];['currentVersion']=Date[_0x3149ab(0x3fe)]();[_0x3149ab(0x20f)];[_0x3149ab(0x994)];[_0x3149ab(0x11b)](){const _0x54246d=_0x3149ab;this[_0x54246d(0x20f)]&&(clearTimeout(this[_0x54246d(0x20f)]),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x54246d(0x4f4)]=Date['now'](),super[_0x54246d(0x11b)]();}[_0x3149ab(0x9cd)](_0x3dc852){const _0x4fa2dd=_0x3149ab;this[_0x4fa2dd(0x364)]=_0x3dc852;}['unregisterSystemPublisher'](){const _0x46c953=_0x3149ab;delete this[_0x46c953(0x364)];}[_0x3149ab(0x318)](_0x59fc25){const _0x512d73=_0x3149ab;!this[_0x512d73(0x20f)]&&this[_0x512d73(0x4b8)]&&this[_0x512d73(0x364)][_0x512d73(0x415)]({'sourceId':this['id'],'destinationIds':[_0x59fc25],'propagate':!0x0,'messageType':_0x23b53c[_0x512d73(0x4d2)],'content':{'type':_0x27b120['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x512d73(0x16c)]},'rank':this['getRank'](),'remoteConnections':Array[_0x512d73(0x271)](this[_0x512d73(0x2d9)]),'version':this[_0x512d73(0x4f4)]}});}['addRemoteConnection'](_0x20768b){const _0x18a160=_0x3149ab;this['remoteConnections'][_0x18a160(0x2a7)](_0x20768b)||(this[_0x18a160(0x2d9)]['add'](_0x20768b),this[_0x18a160(0x75c)](),this[_0x18a160(0x34d)](!0x0));}[_0x3149ab(0x30b)](_0x287f41){const _0x10db9d=_0x3149ab;this[_0x10db9d(0x2d9)][_0x10db9d(0x2a7)](_0x287f41)&&(this['remoteConnections'][_0x10db9d(0x979)](_0x287f41),this[_0x10db9d(0x75c)](),this[_0x10db9d(0x34d)](!0x0));}[_0x3149ab(0x6b1)](){const _0x990bc8=_0x3149ab;return this[_0x990bc8(0x4f4)];}[_0x3149ab(0x9ec)](_0x29ba6d,_0x16d700=!0x0){this['rank']!==_0x29ba6d&&(this['rank']=_0x29ba6d,_0x16d700&&(this['incrementVersion'](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x4a5ca4=_0x3149ab;this[_0x4a5ca4(0x4f4)]=Date[_0x4a5ca4(0x3fe)]();}[_0x3149ab(0x34d)](_0x3b3134=!0x1){const _0x17e00c=_0x3149ab;if(this[_0x17e00c(0x4b8)]){if(this[_0x17e00c(0x994)]||(this['lastUpdated']=Date[_0x17e00c(0x3fe)]()),this[_0x17e00c(0x20f)]){if(Date['now']()-this[_0x17e00c(0x994)]>0x2328)return;clearTimeout(this[_0x17e00c(0x20f)]);}this[_0x17e00c(0x20f)]=setTimeout(()=>{const _0x4a4068=_0x17e00c;delete this[_0x4a4068(0x994)],delete this[_0x4a4068(0x20f)],this[_0x4a4068(0x364)][_0x4a4068(0x415)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x23b53c[_0x4a4068(0x4d2)],'content':{'type':_0x3b3134?_0x27b120['NodeConnectionsUpdate']:_0x27b120['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4a4068(0x16c)]},'rank':this[_0x4a4068(0x21c)](),'remoteConnections':Array[_0x4a4068(0x271)](this[_0x4a4068(0x2d9)]),'version':this[_0x4a4068(0x4f4)]}});},0x3e8);}}}class _0x348396 extends _0x1b4d0f{[_0x3149ab(0x364)];[_0x3149ab(0x4f4)]=Date[_0x3149ab(0x3fe)]();['updateDebounceTimeout'];[_0x3149ab(0x994)];[_0x3149ab(0x11b)](){const _0x38b39c=_0x3149ab;this[_0x38b39c(0x20f)]&&(clearTimeout(this[_0x38b39c(0x20f)]),delete this[_0x38b39c(0x20f)]),delete this[_0x38b39c(0x994)],this[_0x38b39c(0x4f4)]=Date[_0x38b39c(0x3fe)](),super[_0x38b39c(0x11b)]();}['registerSystemPublisher'](_0x23437c){const _0x259c5d=_0x3149ab;this[_0x259c5d(0x364)]=_0x23437c;}[_0x3149ab(0x8bd)](){const _0x209bda=_0x3149ab;delete this[_0x209bda(0x364)];}['answerJoin'](_0x183b2b){const _0x5164b9=_0x3149ab;!this['updateDebounceTimeout']&&this[_0x5164b9(0x4b8)]&&this['systemTopic'][_0x5164b9(0x415)]({'sourceId':this['id'],'destinationIds':[_0x183b2b],'propagate':!0x0,'messageType':_0x23b53c[_0x5164b9(0x4d2)],'content':{'type':_0x27b120[_0x5164b9(0x51c)],'id':this['id'],'metaData':{'type':this[_0x5164b9(0x16c)],'displayName':this[_0x5164b9(0x4c9)](),'email':this[_0x5164b9(0x973)]()},'rank':this[_0x5164b9(0x21c)](),'remoteConnections':Array[_0x5164b9(0x271)](this[_0x5164b9(0x2d9)]),'version':this['currentVersion']}});}[_0x3149ab(0x218)](_0x3ef871){const _0x5be802=_0x3149ab;this[_0x5be802(0x2d9)][_0x5be802(0x2a7)](_0x3ef871)||(this[_0x5be802(0x2d9)][_0x5be802(0x638)](_0x3ef871),this['incrementVersion'](),this[_0x5be802(0x34d)](!0x0));}['removeRemoteConnection'](_0x45a692){const _0x474724=_0x3149ab;this['remoteConnections']['has'](_0x45a692)&&(this['remoteConnections'][_0x474724(0x979)](_0x45a692),this[_0x474724(0x75c)](),this['publishUserUpdate'](!0x0));}[_0x3149ab(0x6b1)](){const _0x54e7ca=_0x3149ab;return this[_0x54e7ca(0x4f4)];}['setDisplayName'](_0x5a8fd2){const _0x5636dd=_0x3149ab;this[_0x5636dd(0x10a)]!==_0x5a8fd2&&(this['displayName']=_0x5a8fd2,this[_0x5636dd(0x75c)](),this[_0x5636dd(0x34d)]());}[_0x3149ab(0x2f3)](_0x444d5e){const _0x36503a=_0x3149ab;this[_0x36503a(0x50e)]!==_0x444d5e&&(this[_0x36503a(0x50e)]=_0x444d5e,this[_0x36503a(0x75c)](),this['publishUserUpdate']());}[_0x3149ab(0x9ec)](_0x4d4c46,_0x127cbf=!0x0){const _0x554c39=_0x3149ab;this[_0x554c39(0x4b8)]!==_0x4d4c46&&(this[_0x554c39(0x4b8)]=_0x4d4c46,_0x127cbf&&(this[_0x554c39(0x75c)](),this[_0x554c39(0x34d)]()));}['incrementVersion'](){const _0x5890dd=_0x3149ab;this[_0x5890dd(0x4f4)]=Date[_0x5890dd(0x3fe)]();}['publishUserUpdate'](_0x476576=!0x1){const _0x4200fb=_0x3149ab;if(this[_0x4200fb(0x4b8)]){if(this[_0x4200fb(0x994)]||(this[_0x4200fb(0x994)]=Date[_0x4200fb(0x3fe)]()),this['updateDebounceTimeout']){if(Date[_0x4200fb(0x3fe)]()-this[_0x4200fb(0x994)]>0x2328)return;clearTimeout(this[_0x4200fb(0x20f)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x1f165c=_0x4200fb;delete this['lastUpdated'],delete this[_0x1f165c(0x20f)],this[_0x1f165c(0x364)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x23b53c[_0x1f165c(0x4d2)],'content':{'type':_0x476576?_0x27b120[_0x1f165c(0x5f3)]:_0x27b120[_0x1f165c(0x51c)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this[_0x1f165c(0x973)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x1f165c(0x271)](this[_0x1f165c(0x2d9)]),'version':this[_0x1f165c(0x4f4)]}});},0x3e8);}}}class _0x465612{['id'];[_0x3149ab(0x30a)];[_0x3149ab(0x164)];[_0x3149ab(0x59a)];[_0x3149ab(0x16c)]=_0x3a4c7c[_0x3149ab(0x4eb)][_0x3149ab(0x1cb)];[_0x3149ab(0x61c)];constructor(_0x571fcb,_0x1d7837,_0x4ccf2a,_0x39be03){const _0x2c57ef=_0x3149ab;this['id']=_0x571fcb,this['groupId']=_0x1d7837,this[_0x2c57ef(0x164)]=_0x4ccf2a,this[_0x2c57ef(0x59a)]=_0x39be03;}[_0x3149ab(0x394)](){return this['id'];}[_0x3149ab(0x9c2)](_0x33a641){const _0x4ee43f=_0x3149ab,_0x43957e=(0x0,_0x48a8fe['onSnapshot'])((0x0,_0x48a8fe[_0x4ee43f(0x6d4)])(_0x52f3ef[_0x4ee43f(0x721)](),_0x4ee43f(0x5dd)+this[_0x4ee43f(0x164)]+'/resources/agent/items/'+this['groupId']),_0x17a894=>{const _0x5f50d1=_0x4ee43f;if(_0x17a894['exists']()){const _0x8d49dd=_0x17a894[_0x5f50d1(0x9b8)]();if(this[_0x5f50d1(0x59a)][_0x5f50d1(0x412)][_0x5f50d1(0x235)](_0x8d49dd[_0x5f50d1(0x412)]))return;_0x5b2279['log'](_0x44d495[_0x5f50d1(0x4d2)],_0x5f50d1(0x23a),{'agentId':this['id'],'groupId':this[_0x5f50d1(0x30a)],'oldConfig':this[_0x5f50d1(0x59a)],'newConfig':_0x8d49dd}),this[_0x5f50d1(0x59a)]=_0x8d49dd,_0x33a641();}});return()=>_0x43957e();}[_0x3149ab(0x97c)](_0x220e34){const _0x2414a2=_0x3149ab;return this[_0x2414a2(0xaa9)](this['groupId'],_0x220e34),_0x39ab67[_0x2414a2(0x589)](()=>this[_0x2414a2(0xaa9)](this['groupId'],_0x220e34),0x7530);}[_0x3149ab(0x57a)](){const _0x222cc0=_0x3149ab;if(!this[_0x222cc0(0x61c)])throw new _0x224ab2(_0x224ab2[_0x222cc0(0x8b5)][_0x222cc0(0xa09)]);return this[_0x222cc0(0x61c)];}async['reportCapacity'](_0x4c9d30,_0x2f2849){const _0x29daba=_0x3149ab,_0x1cd52a=await _0x2f2849();this[_0x29daba(0x61c)]=_0x1cd52a,await(0x0,_0x48a8fe[_0x29daba(0x34a)])((0x0,_0x48a8fe['collection'])(_0x52f3ef['getFirestore'](),_0x29daba(0x5dd)+this[_0x29daba(0x164)]+_0x29daba(0x2c5)),{'agentId':this['id'],'groupId':_0x4c9d30,'timestamp':(0x0,_0x48a8fe[_0x29daba(0x199)])(),'capacity':_0x1cd52a});}}!function(_0x27bae8){const _0x4c268b=_0x3149ab;_0x27bae8[_0x27bae8[_0x4c268b(0x4f3)]=0x0]=_0x4c268b(0x4f3),_0x27bae8[_0x27bae8[_0x4c268b(0x805)]=0x1]='Offline';}(_0x25652b||(_0x25652b={}));class _0xa54453 extends _0x2caccb{[_0x3149ab(0x4f4)];['status']=_0x25652b[_0x3149ab(0x4f3)];[_0x3149ab(0x994)]=Date[_0x3149ab(0x3fe)]();constructor(_0x2fdb9c,_0x174cd6=new Set(),_0x289cb0,_0x4efb02){const _0x4772e6=_0x3149ab;super(_0x2fdb9c,_0x174cd6,_0x4efb02),this[_0x4772e6(0x4f4)]=_0x289cb0;}[_0x3149ab(0x6b1)](){const _0x388467=_0x3149ab;return this[_0x388467(0x4f4)];}['getStatus'](){const _0x480320=_0x3149ab;return this[_0x480320(0x27a)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x3149ab(0x9ec)](_0x248da0){const _0x9788bd=_0x3149ab;this[_0x9788bd(0x4b8)]!==_0x248da0&&(this['rank']=_0x248da0,this[_0x9788bd(0x44d)]());}['setRemoteConnections'](_0x187cc3){const _0x511070=_0x3149ab;let _0x4db861=!0x1;for(const _0x175507 of this['remoteConnections'])_0x187cc3['includes'](_0x175507)||(_0x4db861=!0x0,this[_0x511070(0x2d9)][_0x511070(0x979)](_0x175507));for(const _0x5056ef of _0x187cc3)this[_0x511070(0x2d9)][_0x511070(0x2a7)](_0x5056ef)||(_0x4db861=!0x0,this[_0x511070(0x2d9)][_0x511070(0x638)](_0x5056ef));_0x4db861&&this['updateLastUpdated']();}[_0x3149ab(0x807)](_0x27aafa){const _0x49bc85=_0x3149ab;this[_0x49bc85(0x4f4)]!==_0x27aafa&&(this['currentVersion']=_0x27aafa,this[_0x49bc85(0x44d)]());}[_0x3149ab(0x4e9)](_0xbbfd90){const _0x58d081=_0x3149ab;this[_0x58d081(0x27a)]!==_0xbbfd90&&(this['status']=_0xbbfd90,this[_0x58d081(0x44d)](),_0xbbfd90===_0x25652b['Offline']&&this[_0x58d081(0x11b)]());}[_0x3149ab(0x44d)](){const _0x22fbc3=_0x3149ab;this[_0x22fbc3(0x994)]=Date['now']();}}class _0x26a2da extends _0x1b4d0f{['currentVersion'];[_0x3149ab(0x27a)]=_0x25652b[_0x3149ab(0x4f3)];[_0x3149ab(0x994)]=Date[_0x3149ab(0x3fe)]();constructor(_0x2d590b,_0x10885a,_0x113351,_0x827b15=new Set(),_0x3342c3,_0x2482ac){const _0x57e1a7=_0x3149ab;super(_0x2d590b,_0x10885a,_0x113351,_0x827b15,_0x2482ac),this[_0x57e1a7(0x4f4)]=_0x3342c3;}[_0x3149ab(0x6b1)](){return this['currentVersion'];}['getStatus'](){const _0x1a4d23=_0x3149ab;return this[_0x1a4d23(0x27a)];}[_0x3149ab(0x552)](){const _0x2d3c85=_0x3149ab;return this[_0x2d3c85(0x994)];}[_0x3149ab(0x830)](_0x3539d9){const _0x11563a=_0x3149ab;this[_0x11563a(0x10a)]!==_0x3539d9&&(this[_0x11563a(0x10a)]=_0x3539d9,this[_0x11563a(0x44d)]());}[_0x3149ab(0x2f3)](_0x366080){const _0x2afbff=_0x3149ab;this['email']!==_0x366080&&(this['email']=_0x366080,this[_0x2afbff(0x44d)]());}['setRank'](_0x516b3b){const _0x35815b=_0x3149ab;this[_0x35815b(0x4b8)]!==_0x516b3b&&(this[_0x35815b(0x4b8)]=_0x516b3b,this[_0x35815b(0x44d)]());}[_0x3149ab(0x347)](_0x4c2eb9){const _0x3b6ad6=_0x3149ab;let _0x12304a=!0x1;for(const _0x2bd7e6 of this[_0x3b6ad6(0x2d9)])_0x4c2eb9['includes'](_0x2bd7e6)||(_0x12304a=!0x0,this['remoteConnections'][_0x3b6ad6(0x979)](_0x2bd7e6));for(const _0x427d56 of _0x4c2eb9)this[_0x3b6ad6(0x2d9)][_0x3b6ad6(0x2a7)](_0x427d56)||(_0x12304a=!0x0,this[_0x3b6ad6(0x2d9)][_0x3b6ad6(0x638)](_0x427d56));_0x12304a&&this[_0x3b6ad6(0x44d)]();}[_0x3149ab(0x807)](_0x516165){const _0x16edef=_0x3149ab;this['currentVersion']!==_0x516165&&(this[_0x16edef(0x4f4)]=_0x516165,this[_0x16edef(0x44d)]());}[_0x3149ab(0x4e9)](_0xbc79e0){const _0x2ce259=_0x3149ab;this[_0x2ce259(0x27a)]!==_0xbc79e0&&(this['status']=_0xbc79e0,this['updateLastUpdated'](),_0xbc79e0===_0x25652b[_0x2ce259(0x805)]&&this[_0x2ce259(0x11b)]());}[_0x3149ab(0x44d)](){const _0x500c14=_0x3149ab;this[_0x500c14(0x994)]=Date[_0x500c14(0x3fe)]();}}class _0xc039f0{[_0x3149ab(0x164)];['clusterId'];[_0x3149ab(0x9ba)];[_0x3149ab(0xa39)];[_0x3149ab(0xa0a)]=_0xc97be1();[_0x3149ab(0x8dd)];['childRemovedUnsubscriber'];[_0x3149ab(0x815)];[_0x3149ab(0x713)]=!0x1;['clusterKey'];[_0x3149ab(0x78a)];constructor(_0x38fee4,_0x7ab7fb,_0x2d5568,_0x4ab1aa){const _0xe281f8=_0x3149ab;this[_0xe281f8(0x164)]=_0x38fee4,this[_0xe281f8(0x8ae)]=_0x7ab7fb,this[_0xe281f8(0x9ba)]=_0x2d5568,this['minConnections']=_0x4ab1aa,this[_0xe281f8(0x98b)]='ccc'+this[_0xe281f8(0x164)]+_0xe281f8(0x2ca)+this['clusterId'],this[_0xe281f8(0x78a)]='ccc'+this['vendorId']+_0xe281f8(0x2ca)+this[_0xe281f8(0x9ba)][_0xe281f8(0x394)](),this['firebaseUnsubscriber']=(0x0,_0x232529[_0xe281f8(0x490)])((0x0,_0x232529[_0xe281f8(0x747)])(_0x52f3ef['getDatabase'](),_0xe281f8(0x2cd)),_0x492101=>{const _0x36e88d=_0xe281f8;!0x0!==_0x492101[_0x36e88d(0x58b)]()?this[_0x36e88d(0x713)]&&_0x5b2279['error'](_0x36e88d(0x151),{'clusterId':this['clusterId'],'nodeId':this[_0x36e88d(0x9ba)][_0x36e88d(0x394)](),'nodeType':this[_0x36e88d(0x9ba)][_0x36e88d(0x16c)]}):(this['connected']=!0x0,this[_0x36e88d(0xa9f)](),_0x5b2279['warning'](_0x36e88d(0x7cc),{'clusterId':this[_0x36e88d(0x8ae)],'nodeId':this[_0x36e88d(0x9ba)][_0x36e88d(0x394)](),'nodeType':this[_0x36e88d(0x9ba)]['type']}));});}async[_0x3149ab(0x16a)](){const _0x1a819=_0x3149ab;await this[_0x1a819(0x9a1)]();const _0x4b21b2=await this['getAncestors']();return this[_0x1a819(0x836)]=(0x0,_0x232529['onChildRemoved'])((0x0,_0x232529[_0x1a819(0x747)])(_0x52f3ef[_0x1a819(0x7f4)](),'clusters/'+this[_0x1a819(0x98b)]+_0x1a819(0x8a3)),_0x228b92=>{const _0x3cac7e=_0x1a819,_0x46f826=_0x228b92['key'];if(!_0x46f826)return;const _0x3576d8=_0x46f826[_0x3cac7e(0xabe)](_0x3cac7e(0x2ca)+this[_0x3cac7e(0x164)]+_0x3cac7e(0x2ca),'');this[_0x3cac7e(0xa0a)]['publish'](_0x3576d8);}),_0x4b21b2;}async[_0x3149ab(0x11b)](){const _0x2eddaa=_0x3149ab;this[_0x2eddaa(0x836)]?.(),delete this[_0x2eddaa(0x836)],this[_0x2eddaa(0x815)]?.[_0x2eddaa(0x6f6)](),delete this[_0x2eddaa(0x815)],this['firebaseUnsubscriber']?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x232529['remove'])((0x0,_0x232529[_0x2eddaa(0x747)])(_0x52f3ef[_0x2eddaa(0x7f4)](),_0x2eddaa(0x3b1)+this[_0x2eddaa(0x98b)]+_0x2eddaa(0x757)+this[_0x2eddaa(0x78a)]));}[_0x3149ab(0x90c)](_0x52fe17){const _0x531a4d=_0x3149ab;return this[_0x531a4d(0xa0a)][_0x531a4d(0x438)](_0x52fe17);}async[_0x3149ab(0x6c8)](){const _0x3bd56d=_0x3149ab,_0x23969b=[],_0x5da1b0=await(0x0,_0x232529[_0x3bd56d(0x524)])((0x0,_0x232529['ref'])(_0x52f3ef[_0x3bd56d(0x7f4)](),'clusters/'+this[_0x3bd56d(0x98b)]+_0x3bd56d(0x8a3))),_0x64773a=[];return _0x5da1b0[_0x3bd56d(0x1d0)](_0x4a201d=>{const _0x29b626=_0x3bd56d,_0x1d5b2c=_0x4a201d[_0x29b626(0x510)]?.[_0x29b626(0xabe)](_0x29b626(0x2ca)+this[_0x29b626(0x164)]+_0x29b626(0x2ca),'');_0x64773a['push']({'id':_0x1d5b2c,'joinedAt':_0x4a201d['val']()[_0x29b626(0x37b)],'priority':_0x4a201d['val']()[_0x29b626(0x804)]});}),_0x64773a[_0x3bd56d(0x69d)]((_0x27167e,_0x51c580)=>_0x27167e[_0x3bd56d(0x37b)]===_0x51c580[_0x3bd56d(0x37b)]?_0x27167e[_0x3bd56d(0x804)]-_0x51c580['priority']:_0x27167e[_0x3bd56d(0x37b)]-_0x51c580['joinedAt'])[_0x3bd56d(0x29e)](_0x64773a[_0x3bd56d(0x514)](_0x382d45=>_0x382d45['id']===this[_0x3bd56d(0x9ba)][_0x3bd56d(0x394)]())),_0x64773a[_0x3bd56d(0x69d)]((_0x5ab393,_0x109e57)=>_0x109e57['joinedAt']===_0x5ab393[_0x3bd56d(0x37b)]?_0x109e57[_0x3bd56d(0x804)]-_0x5ab393['priority']:_0x109e57[_0x3bd56d(0x37b)]-_0x5ab393[_0x3bd56d(0x37b)])[_0x3bd56d(0x1d0)](_0x37b685=>{const _0x392ede=_0x3bd56d;_0x23969b[_0x392ede(0x878)]>=this[_0x392ede(0xa39)]||_0x23969b[_0x392ede(0x7e8)](_0x37b685['id']);}),_0x5b2279['logEvent'](_0x3bd56d(0x38d),{'clusterId':this[_0x3bd56d(0x8ae)],'nodeId':this[_0x3bd56d(0x9ba)]['getId'](),'nodeType':this[_0x3bd56d(0x9ba)]['type'],'data':{'ancestorIds':_0x23969b,'allNodes':_0x64773a}}),_0x23969b;}async[_0x3149ab(0x9a1)](){const _0x4fcaae=_0x3149ab;await(0x0,_0x232529[_0x4fcaae(0x491)])((0x0,_0x232529['ref'])(_0x52f3ef['getDatabase'](),_0x4fcaae(0x3b1)+this[_0x4fcaae(0x98b)]+_0x4fcaae(0x757)+this[_0x4fcaae(0x78a)]),{'joinedAt':(0x0,_0x232529[_0x4fcaae(0x199)])(),'priority':Math[_0x4fcaae(0x115)]()});}['setOnDisconnectHandler'](){const _0x236f60=_0x3149ab;this[_0x236f60(0x815)]&&this[_0x236f60(0x815)][_0x236f60(0x6f6)](),this[_0x236f60(0x815)]=(0x0,_0x232529[_0x236f60(0x11a)])((0x0,_0x232529[_0x236f60(0x747)])(_0x52f3ef[_0x236f60(0x7f4)](),_0x236f60(0x3b1)+this['clusterKey']+'/nodes/'+this[_0x236f60(0x78a)])),this[_0x236f60(0x815)][_0x236f60(0x31c)]();}}class _0x49efca{[_0x3149ab(0x5a0)];[_0x3149ab(0x288)];['remoteUnsubscriber'];[_0x3149ab(0x85b)];[_0x3149ab(0x344)];[_0x3149ab(0x65b)]=[];['systemTopic'];[_0x3149ab(0xa80)]=new Map();[_0x3149ab(0x313)];[_0x3149ab(0x80d)];[_0x3149ab(0xa16)];[_0x3149ab(0xa47)];[_0x3149ab(0x546)];[_0x3149ab(0x659)];constructor(_0x4cce49,_0x359df1){const _0x344942=_0x3149ab;this[_0x344942(0x5a0)]=_0x4cce49,this['graphService']=_0x359df1,this[_0x344942(0xa16)]=new Promise((_0x1ed784,_0x20f79e)=>{const _0x542d2d=_0x344942;this['resolveReady']=_0x1ed784,this[_0x542d2d(0x546)]=_0x20f79e;}),this['discoveryService']=new _0xc039f0(this[_0x344942(0x5a0)][_0x344942(0x164)],this['configs'][_0x344942(0x8ae)],this['configs']['localNode'],this['graphService'][_0x344942(0x79c)]()),this['discoveryUnsubscriber']=this[_0x344942(0x85b)][_0x344942(0x90c)](this[_0x344942(0x2e5)][_0x344942(0x26b)](this)),this['configs']['mediator'][_0x344942(0xa68)](this[_0x344942(0x5a0)][_0x344942(0x9ba)]),this[_0x344942(0x5a0)][_0x344942(0x8f7)][_0x344942(0xa68)](this),this[_0x344942(0x351)]=_0x39ab67[_0x344942(0x589)](()=>{const _0x306a59=_0x344942,_0x3633a7=Date[_0x306a59(0x3fe)]();this[_0x306a59(0x288)]['getRemoteNodes']()[_0x306a59(0x1d0)](_0xdf0023=>{const _0x286ce8=_0x306a59;_0xdf0023[_0x286ce8(0x727)]()===_0x25652b[_0x286ce8(0x805)]&&_0xdf0023[_0x286ce8(0x552)]()<_0x3633a7-0x493e0&&this[_0x286ce8(0x288)][_0x286ce8(0x5bf)](_0xdf0023['getId']());});},0xea60);}async['isReady'](){const _0x217abf=_0x3149ab;return this[_0x217abf(0xa16)];}async['isNodeReady'](_0x41b660){return new Promise((_0x2800d9,_0x2d3460)=>{const _0x1ed409=a0_0x38d9;let _0x334d11;const _0x5d41e3=setTimeout(()=>{const _0x167773=a0_0x38d9;_0x334d11?.(),_0x2d3460(new Error('Node\x20\x27'+_0x41b660+_0x167773(0x1fb)));},0x2710);if(this[_0x1ed409(0x288)][_0x1ed409(0x70b)](_0x41b660))return clearTimeout(_0x5d41e3),void _0x2800d9(!0x0);_0x334d11=this[_0x1ed409(0x288)][_0x1ed409(0x315)](()=>{const _0x40c4a5=_0x1ed409;this['graphService'][_0x40c4a5(0x70b)](_0x41b660)&&(clearTimeout(_0x5d41e3),_0x2800d9(!0x0),_0x334d11?.());});});}[_0x3149ab(0x9cd)](_0x3b9306){const _0x1cf41f=_0x3149ab;this[_0x1cf41f(0x364)]=_0x3b9306;}[_0x3149ab(0x8bd)](){const _0xd1d80f=_0x3149ab;delete this[_0xd1d80f(0x364)];}[_0x3149ab(0x11b)](){const _0x20c874=_0x3149ab;this[_0x20c874(0x313)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x20c874(0x313)]),delete this[_0x20c874(0x80d)],this[_0x20c874(0x5a0)]['localNode'][_0x20c874(0x11b)](),this[_0x20c874(0x351)](),this[_0x20c874(0x344)](),this[_0x20c874(0x5a0)][_0x20c874(0x8f7)][_0x20c874(0x41a)](this['configs']['localNode']),this['configs'][_0x20c874(0x8f7)][_0x20c874(0x41a)](this),this['discoveryService'][_0x20c874(0x11b)]();}['getAncestorIds'](){const _0x5a97e8=_0x3149ab;return this[_0x5a97e8(0x65b)];}[_0x3149ab(0x720)](){const _0x26c754=_0x3149ab;return this[_0x26c754(0x5a0)][_0x26c754(0x9ba)][_0x26c754(0x394)]();}[_0x3149ab(0xad3)](){const _0x2b6995=_0x3149ab;return this[_0x2b6995(0x5a0)]['localNode'];}[_0x3149ab(0x88d)](_0x473d49){const _0x241a0d=_0x3149ab,_0x4c8de7=Array['from'](this[_0x241a0d(0x288)][_0x241a0d(0x88d)]()[_0x241a0d(0x6da)]())[_0x241a0d(0x683)](_0x1822b8=>_0x1822b8['getStatus']()===_0x25652b[_0x241a0d(0x4f3)]);return _0x473d49?_0x4c8de7[_0x241a0d(0x683)](_0x473d49):_0x4c8de7;}async[_0x3149ab(0x38d)](){const _0x855c30=_0x3149ab;return this[_0x855c30(0x65b)]=await this[_0x855c30(0x85b)][_0x855c30(0x16a)](),this[_0x855c30(0x65b)][_0x855c30(0x878)]<this[_0x855c30(0x288)][_0x855c30(0x79c)]()&&(this[_0x855c30(0x5a0)][_0x855c30(0x9ba)][_0x855c30(0x9ec)](this['ancestors']['length']+0x1),this[_0x855c30(0x561)]()),this[_0x855c30(0x65b)];}[_0x3149ab(0xac3)](_0x25f70a,_0x59ff80){const _0x2e50af=_0x3149ab,_0x32a5d8=this[_0x2e50af(0x5a0)]['localNode'][_0x2e50af(0x49e)](),_0x2f6c64=new Set(_0x32a5d8),_0x335214=Array[_0x2e50af(0x271)](_0x32a5d8)[_0x2e50af(0x683)](_0x5d2f1f=>_0x5d2f1f!==_0x25f70a)[_0x2e50af(0x323)](_0x5ee032=>({'id':_0x5ee032,'distance':0x1}));for(;_0x335214[_0x2e50af(0x878)]>0x0;){const _0x3eddbb=_0x335214[_0x2e50af(0xa7d)]();if(!_0x3eddbb)continue;if(_0x3eddbb['id']===_0x59ff80)return _0x3eddbb['distance'];const _0x5a6a2f=this[_0x2e50af(0x288)][_0x2e50af(0x142)](_0x3eddbb['id']);_0x5a6a2f&&_0x5a6a2f['getStatus']()!==_0x25652b['Offline']&&_0x5a6a2f[_0x2e50af(0x49e)]()['forEach'](_0x331dbc=>{const _0x44c031=_0x2e50af;_0x2f6c64['has'](_0x331dbc)||(_0x2f6c64['add'](_0x331dbc),_0x335214[_0x44c031(0x7e8)]({'id':_0x331dbc,'distance':_0x3eddbb['distance']+0x1}));});}return-0x1;}[_0x3149ab(0x513)](_0x4085c4){const _0x2e0a38=_0x3149ab;try{switch(_0x4085c4[_0x2e0a38(0x130)][_0x2e0a38(0x16c)]){case _0x27b120[_0x2e0a38(0x51c)]:case _0x27b120[_0x2e0a38(0x5f3)]:this[_0x2e0a38(0xaba)](_0x4085c4['content']),_0x5b2279[_0x2e0a38(0x66c)](_0x44d495[_0x2e0a38(0x4d2)],_0x2e0a38(0xa45),'\x27'+this['configs']['localNode'][_0x2e0a38(0x394)]()+',\x20'+_0x4085c4['sourceId']+'\x27',_0x4085c4,_0x4085c4[_0x2e0a38(0x130)]);break;case _0x27b120['NodeLeave']:this[_0x2e0a38(0xa44)](_0x4085c4[_0x2e0a38(0x130)]['id']),_0x5b2279[_0x2e0a38(0x66c)](_0x44d495[_0x2e0a38(0x4d2)],_0x2e0a38(0x556),'\x27'+this[_0x2e0a38(0x5a0)][_0x2e0a38(0x9ba)][_0x2e0a38(0x394)]()+',\x20'+_0x4085c4['sourceId']+'\x27',_0x4085c4,_0x4085c4[_0x2e0a38(0x130)]);}}catch(_0x37736d){if(_0x37736d instanceof _0x530d99)return void _0x5b2279[_0x2e0a38(0x66c)](_0x44d495[_0x2e0a38(0x4d2)],_0x37736d['message']);throw _0x37736d;}}[_0x3149ab(0x3a1)](_0x31dd11){const _0x556f6d=_0x3149ab;switch(_0x31dd11[_0x556f6d(0x130)][_0x556f6d(0x16c)]){case _0x2d0fa6[_0x556f6d(0x5bb)]:this[_0x556f6d(0xa8c)](_0x31dd11[_0x556f6d(0x61f)]),_0x5b2279['log'](_0x44d495[_0x556f6d(0x4d2)],_0x556f6d(0x56f),'\x27'+this[_0x556f6d(0x5a0)][_0x556f6d(0x9ba)][_0x556f6d(0x394)]()+',\x20'+_0x31dd11['sourceId']+'\x27',_0x31dd11,_0x31dd11['content']);break;case _0x2d0fa6['Disconnect']:this[_0x556f6d(0x53c)](_0x31dd11['sourceId']),_0x5b2279[_0x556f6d(0x66c)](_0x44d495[_0x556f6d(0x4d2)],'NodeManager\x20-\x20PublishNodeLeave',this[_0x556f6d(0x5a0)][_0x556f6d(0x9ba)][_0x556f6d(0x394)](),_0x31dd11,_0x31dd11[_0x556f6d(0x130)]);}}[_0x3149ab(0x62a)](_0x3e8e74){const _0x5c6517=_0x3149ab;this[_0x5c6517(0x7ed)](_0x3e8e74),this['notifyJoin'](_0x3e8e74);}[_0x3149ab(0x7b1)](_0x151ae4){const _0x1f9261=_0x3149ab;this[_0x1f9261(0x5a0)]['localNode'][_0x1f9261(0x318)](_0x151ae4['id']),this['publishNodeJoin'](_0x151ae4['id']),this[_0x1f9261(0x6f3)](_0x151ae4);}[_0x3149ab(0xaba)](_0x52a31d){const _0x4a86a4=_0x3149ab,{id:_0x38a168,metaData:_0x231fd6,rank:_0x42694a,remoteConnections:_0x1a50d7,version:_0x59799a}=_0x52a31d,_0x58981d=this[_0x4a86a4(0x288)][_0x4a86a4(0x142)](_0x38a168);if(_0x58981d){if(!(_0x59799a<=_0x58981d[_0x4a86a4(0x6b1)]())){if(_0x58981d[_0x4a86a4(0x347)](_0x1a50d7),_0x58981d[_0x4a86a4(0x807)](_0x59799a),_0x58981d['type']===_0x3a4c7c[_0x4a86a4(0x4eb)][_0x4a86a4(0x128)]&&_0x231fd6[_0x4a86a4(0x16c)]===_0x3a4c7c[_0x4a86a4(0x4eb)][_0x4a86a4(0x128)]&&(_0x58981d[_0x4a86a4(0x830)](_0x231fd6[_0x4a86a4(0x10a)]),_0x58981d['setEmail'](_0x231fd6[_0x4a86a4(0x50e)])),_0x42694a&&_0x58981d[_0x4a86a4(0x9ec)](_0x42694a),this[_0x4a86a4(0x353)](_0x38a168,_0x42694a),_0x58981d[_0x4a86a4(0x727)]()===_0x25652b[_0x4a86a4(0x805)])return _0x58981d[_0x4a86a4(0x4e9)](_0x25652b[_0x4a86a4(0x4f3)]),this['processRank'](),void this[_0x4a86a4(0x7b1)](_0x52a31d);this[_0x4a86a4(0x561)](),this[_0x4a86a4(0xae3)]({'id':_0x38a168,'metaData':_0x231fd6,'remoteConnections':_0x1a50d7,'version':_0x59799a});}}else this[_0x4a86a4(0x62a)](_0x52a31d);}['setLocalRank'](_0x3b3900,_0x50fa59){const _0x17450f=_0x3149ab;_0x50fa59&&this['ancestors'][_0x17450f(0x24c)](_0x3b3900)&&this[_0x17450f(0x5a0)][_0x17450f(0x9ba)][_0x17450f(0x9ec)](_0x50fa59+this[_0x17450f(0x65b)][_0x17450f(0x9b2)](_0x3b3900)+0x1);}[_0x3149ab(0xa8c)](_0xd38f58){const _0x6cfaea=_0x3149ab;this[_0x6cfaea(0x5a0)][_0x6cfaea(0x9ba)][_0x6cfaea(0x218)](_0xd38f58);}['createRemoteNode']({id:_0x1ab429,metaData:_0x55f6a7,rank:_0xf757c1,remoteConnections:_0x2d7922,version:_0x4e9b5d}){const _0x254988=_0x3149ab;if(this[_0x254988(0x288)][_0x254988(0x70b)](_0x1ab429))throw new _0x530d99(_0x254988(0x7de)+_0x1ab429);switch(_0x55f6a7['type']){case _0x3a4c7c[_0x254988(0x4eb)][_0x254988(0x128)]:const {displayName:_0x4deb02,email:_0x19075c}=_0x55f6a7;this[_0x254988(0x288)][_0x254988(0x435)](_0x1ab429,new _0x26a2da(_0x1ab429,_0x4deb02,_0x19075c,new Set(_0x2d7922),_0x4e9b5d,_0xf757c1));break;case _0x3a4c7c['NodeType'][_0x254988(0x1cb)]:this[_0x254988(0x288)][_0x254988(0x435)](_0x1ab429,new _0xa54453(_0x1ab429,new Set(_0x2d7922),_0x4e9b5d,_0xf757c1));}const _0x5a5dba=this[_0x254988(0x88d)](),_0x4cb553=new Set(this[_0x254988(0x65b)]);_0x5a5dba[_0x254988(0x1d0)](_0xecf1bf=>{const _0x3fa42f=_0x254988;_0x4cb553['has'](_0xecf1bf[_0x3fa42f(0x394)]())&&_0x4cb553['delete'](_0xecf1bf[_0x3fa42f(0x394)]());}),0x0===_0x4cb553[_0x254988(0x1fa)]&&this[_0x254988(0xa47)]&&(this[_0x254988(0x659)]&&clearTimeout(this[_0x254988(0x659)]),this[_0x254988(0x659)]=setTimeout(()=>{const _0x31009c=_0x254988;this[_0x31009c(0xa47)]?.(!0x0),delete this[_0x31009c(0xa47)],delete this['rejectReady'];},0x7d0)),this[_0x254988(0x353)](_0x1ab429,_0xf757c1),this[_0x254988(0x561)]();}[_0x3149ab(0x816)](_0x1ee020){const _0x5ba3f8=_0x3149ab;this[_0x5ba3f8(0x364)][_0x5ba3f8(0x415)]({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x5ba3f8(0x4d2)],'content':{'type':_0x27b120['NodeJoin'],'id':_0x1ee020}});}[_0x3149ab(0x53c)](_0x24be73){const _0x15aed6=_0x3149ab;this[_0x15aed6(0x364)]?.['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x15aed6(0x4d2)],'content':{'type':_0x27b120['NodeLeave'],'id':_0x24be73}});}[_0x3149ab(0x2e5)](_0x1f1cd3){const _0x3d5440=_0x3149ab;if(_0x1f1cd3===this['configs'][_0x3d5440(0x9ba)]['getId']())return this[_0x3d5440(0x5a0)][_0x3d5440(0x8f7)][_0x3d5440(0x131)](_0x3d5440(0x2c6),{'id':_0x1f1cd3}),this['configs']['mediator'][_0x3d5440(0x11b)]({'force':!0x0},!0x0),this[_0x3d5440(0x5a0)]['mediator']['open'](),void this[_0x3d5440(0x5a0)][_0x3d5440(0x8f7)][_0x3d5440(0x481)]();this[_0x3d5440(0x53c)](_0x1f1cd3);}[_0x3149ab(0xa44)](_0x48225b){const _0x21f69b=_0x3149ab;this[_0x21f69b(0x65b)][_0x21f69b(0x24c)](_0x48225b)?this[_0x21f69b(0x7ba)](_0x48225b):this[_0x21f69b(0x5a0)][_0x21f69b(0x9ba)]['getRemoteConnections']()[_0x21f69b(0x2a7)](_0x48225b)&&this[_0x21f69b(0x22f)](_0x48225b),this[_0x21f69b(0x5a0)][_0x21f69b(0x9ba)][_0x21f69b(0x30b)](_0x48225b);const _0x5b2629=Array['from'](this[_0x21f69b(0xa80)][_0x21f69b(0x2ac)]())[_0x21f69b(0x8e4)](([,_0x549a2b])=>_0x549a2b==_0x549a2b);_0x5b2629&&this['optimizationLayers']['delete'](_0x5b2629[0x0]);const _0x35170f=this[_0x21f69b(0x288)][_0x21f69b(0x142)](_0x48225b);if(!_0x35170f)return;const _0x1dbee0=_0x35170f[_0x21f69b(0x21c)](),_0x129731=this['configs'][_0x21f69b(0x9ba)][_0x21f69b(0x21c)]();_0x129731&&_0x1dbee0&&_0x1dbee0<_0x129731&&this[_0x21f69b(0x5a0)]['localNode'][_0x21f69b(0x9ec)](_0x129731-0x1,!0x1),Array['from'](this[_0x21f69b(0x288)][_0x21f69b(0x88d)]()[_0x21f69b(0x6da)]())[_0x21f69b(0x1d0)](_0x1706b4=>{const _0x28e2a0=_0x21f69b,_0x34a362=_0x1706b4[_0x28e2a0(0x21c)]();_0x34a362&&_0x1dbee0&&_0x1dbee0<_0x34a362&&_0x1706b4[_0x28e2a0(0x9ec)](_0x34a362-0x1);}),_0x35170f['setStatus'](_0x25652b[_0x21f69b(0x805)]),this[_0x21f69b(0x5a0)][_0x21f69b(0x8f7)][_0x21f69b(0x131)](_0x35170f['type']+_0x21f69b(0x24a),{'id':_0x48225b});}[_0x3149ab(0x6f3)]({id:_0xc80a2e,metaData:_0x194b54,remoteConnections:_0x378cbc}){const _0x14afa3=_0x3149ab;switch(_0x194b54[_0x14afa3(0x16c)]){case _0x3a4c7c['NodeType'][_0x14afa3(0x128)]:this[_0x14afa3(0x5a0)][_0x14afa3(0x8f7)][_0x14afa3(0x131)]('user-join',{'id':_0xc80a2e,'metaData':_0x194b54,'remoteConnections':_0x378cbc});break;case _0x3a4c7c['NodeType'][_0x14afa3(0x1cb)]:this[_0x14afa3(0x5a0)]['mediator'][_0x14afa3(0x131)](_0x14afa3(0xa48),{'id':_0xc80a2e,'metaData':_0x194b54,'remoteConnections':_0x378cbc});}}['notifyClusterNodeUpdate']({id:_0x54ba3a,metaData:_0x557ca5,remoteConnections:_0x39a2c5}){const _0x2491d1=_0x3149ab;switch(_0x557ca5[_0x2491d1(0x16c)]){case _0x3a4c7c['NodeType'][_0x2491d1(0x128)]:this['configs'][_0x2491d1(0x8f7)]['notifyCluster'](_0x2491d1(0x126),{'id':_0x54ba3a,'metaData':_0x557ca5,'remoteConnections':_0x39a2c5});break;case _0x3a4c7c[_0x2491d1(0x4eb)]['Agent']:this[_0x2491d1(0x5a0)][_0x2491d1(0x8f7)][_0x2491d1(0x131)](_0x2491d1(0x7e6),{'id':_0x54ba3a,'metaData':_0x557ca5,'remoteConnections':_0x39a2c5});}}[_0x3149ab(0x561)](){const _0x3e4118=_0x3149ab;if(this[_0x3e4118(0x80d)]||(this[_0x3e4118(0x80d)]=Date[_0x3e4118(0x3fe)]()),this['debounceProcessRank']){if(Date[_0x3e4118(0x3fe)]()-this[_0x3e4118(0x80d)]>0x2328)return;clearTimeout(this[_0x3e4118(0x313)]);}this[_0x3e4118(0x313)]=setTimeout(async()=>{const _0x53a16b=_0x3e4118;delete this[_0x53a16b(0x80d)],delete this[_0x53a16b(0x313)];const _0x4165e1=this['configs'][_0x53a16b(0x9ba)][_0x53a16b(0x21c)]();if(!_0x4165e1)return;const _0xd56290=this[_0x53a16b(0x288)][_0x53a16b(0x3c5)](this['graphService'][_0x53a16b(0x88d)]()[_0x53a16b(0x1fa)]);if(this[_0x53a16b(0xa80)][_0x53a16b(0x1fa)]>=_0xd56290)return;let _0x58fc8b=0x1;for(;this[_0x53a16b(0x5a0)][_0x53a16b(0x8f7)][_0x53a16b(0x646)]()['length']<this[_0x53a16b(0x288)][_0x53a16b(0x707)]()&&_0x58fc8b<=_0xd56290;){if(this[_0x53a16b(0xa80)][_0x53a16b(0x2a7)](_0x58fc8b)){_0x58fc8b+=0x1;continue;}const _0x33fcff=this[_0x53a16b(0x288)]['getNextTargetRank'](_0x4165e1,_0x58fc8b),_0x4df6af=Array[_0x53a16b(0x271)](this[_0x53a16b(0x288)][_0x53a16b(0x88d)]()[_0x53a16b(0x6da)]())[_0x53a16b(0x8e4)](_0x4c189a=>_0x4c189a[_0x53a16b(0x21c)]()===_0x33fcff&&_0x4c189a[_0x53a16b(0x727)]()===_0x25652b['Online']);if(_0x4df6af){try{await this[_0x53a16b(0x5a0)]['mediator'][_0x53a16b(0x1ab)](_0x4df6af[_0x53a16b(0x394)](),_0x1ae943[_0x53a16b(0x185)]),this['optimizationLayers'][_0x53a16b(0x491)](_0x58fc8b,_0x4df6af[_0x53a16b(0x394)]());}catch(_0x4430bb){if(!(_0x4430bb instanceof _0x224ab2&&_0x4430bb[_0x53a16b(0x634)]===_0x224ab2[_0x53a16b(0x8b5)]['RemoteConnectionExists']))throw _0x4430bb;_0x5b2279[_0x53a16b(0x66c)](_0x44d495[_0x53a16b(0x4d2)],this[_0x53a16b(0x5a0)]['localNode'][_0x53a16b(0x394)](),_0x4df6af[_0x53a16b(0x394)](),_0x4430bb[_0x53a16b(0x948)]);}_0x58fc8b+=0x1;}else _0x58fc8b+=0x1;}},0x3e8);}async[_0x3149ab(0x7ba)](_0x4d6dfa){const _0x55a24f=_0x3149ab;this[_0x55a24f(0x65b)][_0x55a24f(0x29e)](this[_0x55a24f(0x65b)][_0x55a24f(0x9b2)](_0x4d6dfa),0x1);const _0x47c71e=await this[_0x55a24f(0x85b)]['getAncestors']();for(const _0x1da510 of _0x47c71e)if(!this[_0x55a24f(0x65b)][_0x55a24f(0x24c)](_0x1da510)){const _0x3565e8=Array['from'](this['optimizationLayers'][_0x55a24f(0x2ac)]())[_0x55a24f(0x8e4)](([,_0x320485])=>_0x320485===_0x1da510);_0x3565e8&&this['optimizationLayers'][_0x55a24f(0x979)](_0x3565e8[0x0]),this[_0x55a24f(0x5a0)][_0x55a24f(0x8f7)][_0x55a24f(0x1ab)](_0x1da510,_0x1ae943['Core']);}0x0===_0x47c71e[_0x55a24f(0x878)]&&this[_0x55a24f(0x5a0)][_0x55a24f(0x9ba)][_0x55a24f(0x9ec)](0x1),this[_0x55a24f(0x65b)]=_0x47c71e;}async[_0x3149ab(0x22f)](_0xdf7209){const _0x4598e5=_0x3149ab,_0x414384=this['configs'][_0x4598e5(0x9ba)][_0x4598e5(0x21c)]();if(!_0x414384)return;const _0x345eb4=this[_0x4598e5(0x288)]['getRemoteNode'](_0xdf7209);if(!_0x345eb4||_0x345eb4['getStatus']()===_0x25652b[_0x4598e5(0x805)])return;const _0xd6a2cd=_0x345eb4[_0x4598e5(0x21c)]();if(!_0xd6a2cd||_0xd6a2cd<_0x414384)return;const _0x26c054=this['getOutgoingOptimizationConnections'](this['configs'][_0x4598e5(0x9ba)]['getRemoteConnections'](),_0x414384),_0x673760=this[_0x4598e5(0x4f0)](_0x345eb4['getRemoteConnections'](),_0xd6a2cd)[_0x26c054['findIndex'](([_0xc20668])=>_0xc20668===_0xdf7209)];if(!_0x673760||this[_0x4598e5(0x5a0)][_0x4598e5(0x9ba)]['getRemoteConnections']()[_0x4598e5(0x2a7)](_0x673760[0x0]))return;const _0x39db43=this['graphService'][_0x4598e5(0x142)](_0x673760[0x0]);if(_0x39db43&&_0x39db43[_0x4598e5(0x727)]()!==_0x25652b['Offline'])try{await this[_0x4598e5(0x5a0)][_0x4598e5(0x8f7)][_0x4598e5(0x1ab)](_0x673760[0x0],_0x1ae943[_0x4598e5(0x185)]);const _0x1c230c=Array['from'](this[_0x4598e5(0xa80)][_0x4598e5(0x2ac)]())[_0x4598e5(0x8e4)](([,_0x1c95c8])=>_0x1c95c8===_0xdf7209);_0x1c230c&&this['optimizationLayers'][_0x4598e5(0x491)](_0x1c230c[0x0],_0x673760[0x0]);}catch(_0x5f2b42){if(!(_0x5f2b42 instanceof _0x224ab2&&_0x5f2b42[_0x4598e5(0x634)]===_0x224ab2[_0x4598e5(0x8b5)]['RemoteConnectionExists']))throw _0x5f2b42;_0x5b2279[_0x4598e5(0x66c)](_0x44d495[_0x4598e5(0x4d2)],this[_0x4598e5(0x5a0)]['localNode'][_0x4598e5(0x394)](),_0x673760[0x0],_0x5f2b42[_0x4598e5(0x948)]);}}[_0x3149ab(0x4f0)](_0x3da068,_0x12aab1){const _0x593985=_0x3149ab;return Array['from'](_0x3da068)[_0x593985(0x399)]((_0x1e6e11,_0x233e96)=>{const _0x5aaa89=_0x593985,_0x3cfe0f=this[_0x5aaa89(0x288)]['getRemoteNode'](_0x233e96);if(!_0x3cfe0f||_0x3cfe0f[_0x5aaa89(0x727)]()===_0x25652b[_0x5aaa89(0x805)])return _0x1e6e11;const _0x2c099d=_0x3cfe0f[_0x5aaa89(0x21c)]();if(!_0x2c099d)return _0x1e6e11;const _0x4992f6=_0x2c099d-_0x12aab1;return _0x4992f6<=this[_0x5aaa89(0x288)]['getMinConnections']()||_0x1e6e11[_0x5aaa89(0x7e8)]([_0x233e96,_0x4992f6]),_0x1e6e11;},[])[_0x593985(0x69d)](([,_0x343e0f],[,_0x32e37b])=>_0x343e0f-_0x32e37b);}}const _0x97f0d2=[{'problemType':_0x4cf366[_0x3149ab(0x38a)],'remediations':[{'type':_0x518845[_0x3149ab(0x698)],'component':_0x39f626[_0x3149ab(0x808)],'action':_0x30ed0e[_0x3149ab(0x61b)]},{'type':_0x518845[_0x3149ab(0x5da)],'component':_0x39f626['Resolution'],'action':_0x30ed0e['Downgrade']}]},{'problemType':_0x4cf366[_0x3149ab(0x5fd)],'remediations':[{'type':_0x518845[_0x3149ab(0x698)],'component':_0x39f626[_0x3149ab(0x808)],'action':_0x30ed0e[_0x3149ab(0x61b)]}]},{'problemType':_0x4cf366['AudioVideoDelay'],'remediations':[{'type':_0x518845[_0x3149ab(0x698)],'component':_0x39f626[_0x3149ab(0x808)],'action':_0x30ed0e['Downgrade']}]},{'problemType':_0x4cf366[_0x3149ab(0x12a)],'remediations':[{'type':_0x518845[_0x3149ab(0x698)],'component':_0x39f626[_0x3149ab(0x808)],'action':_0x30ed0e[_0x3149ab(0x61b)]}]},{'problemType':_0x4cf366[_0x3149ab(0x968)],'remediations':[{'type':_0x518845[_0x3149ab(0x698)],'component':_0x39f626[_0x3149ab(0x968)],'action':_0x30ed0e[_0x3149ab(0x61b)]}]},{'problemType':_0x4cf366[_0x3149ab(0x5a4)],'remediations':[{'type':_0x518845[_0x3149ab(0x698)],'component':_0x39f626[_0x3149ab(0x968)],'action':_0x30ed0e[_0x3149ab(0x61b)]}]},{'problemType':_0x4cf366[_0x3149ab(0xad1)],'remediations':[{'type':_0x518845['Remediation'],'component':_0x39f626[_0x3149ab(0x968)],'action':_0x30ed0e['Downgrade']}]}];class _0x2cba69{[_0x3149ab(0x5a0)];[_0x3149ab(0x364)];[_0x3149ab(0x30e)]=new Map();constructor(_0x467ded){const _0x1edafa=_0x3149ab;this[_0x1edafa(0x5a0)]=_0x467ded,this['configs'][_0x1edafa(0x8f7)][_0x1edafa(0xa68)](this);}[_0x3149ab(0x11b)](){const _0x19284e=_0x3149ab;this[_0x19284e(0x5a0)]['mediator'][_0x19284e(0x41a)](this);}[_0x3149ab(0x9cd)](_0x37987b){const _0x471463=_0x3149ab;this[_0x471463(0x364)]=_0x37987b;}['unregisterSystemPublisher'](){const _0x31f70e=_0x3149ab;delete this[_0x31f70e(0x364)];}['handleDetectionSystemEvents'](_0x5fa2e4){const _0x1bf387=_0x3149ab;_0x5fa2e4[_0x1bf387(0x130)][_0x1bf387(0x16c)]===_0x29435e[_0x1bf387(0x840)]&&this[_0x1bf387(0x339)](_0x5fa2e4[_0x1bf387(0x130)][_0x1bf387(0x9b8)]);}[_0x3149ab(0x4db)](_0x2dbcbe){const _0x5c8119=_0x3149ab;_0x2dbcbe[_0x5c8119(0x130)][_0x5c8119(0x16c)]===_0x518845[_0x5c8119(0x5da)]&&this['applyRemediation'](_0x2dbcbe['sourceId'],{'type':_0x518845[_0x5c8119(0x698)],'component':_0x2dbcbe['content'][_0x5c8119(0x9b8)][_0x5c8119(0x98e)],'action':_0x2dbcbe[_0x5c8119(0x130)][_0x5c8119(0x9b8)]['action']});}[_0x3149ab(0x339)](_0x4bc3be){const _0x45b488=_0x3149ab,_0x21f0ed=_0x97f0d2[_0x45b488(0x8e4)](_0x122422=>_0x122422[_0x45b488(0x7a1)]===_0x4bc3be[_0x45b488(0x16c)]);_0x21f0ed[_0x45b488(0x81b)]?.[_0x45b488(0x1d0)](_0x2df1bf=>{const _0x6978e2=_0x45b488;this[_0x6978e2(0x859)](_0x4bc3be[_0x6978e2(0x3d7)],{'type':_0x4bc3be[_0x6978e2(0x77c)]===_0x182ae0[_0x6978e2(0x457)]?_0x518845[_0x6978e2(0x698)]:_0x518845[_0x6978e2(0x5da)],'component':_0x2df1bf[_0x6978e2(0x98e)],'action':_0x2df1bf[_0x6978e2(0x9f6)]});});}[_0x3149ab(0x859)](_0x1d1c01,_0x6b812d){const _0xe52601=_0x3149ab;if(_0x6b812d[_0xe52601(0x16c)]===_0x518845['Remediation']){const _0x38782d=Date[_0xe52601(0x3fe)](),_0x2bb47d=this[_0xe52601(0x30e)][_0xe52601(0x524)](_0x1d1c01);if(_0x2bb47d&&_0x38782d-_0x2bb47d<0x1388)return;this[_0xe52601(0x30e)]['set'](_0x1d1c01,_0x38782d);}_0x5b2279[_0xe52601(0x66c)](_0x44d495[_0xe52601(0x698)],_0xe52601(0xacb),_0x6b812d),_0x5b2279[_0xe52601(0x4fb)](_0xe52601(0x881),{'clusterId':this['configs'][_0xe52601(0x8ae)],'nodeId':this['configs'][_0xe52601(0x9ba)][_0xe52601(0x394)](),'nodeType':this[_0xe52601(0x5a0)]['localNode'][_0xe52601(0x16c)],'remoteId':_0x1d1c01,'data':{'type':_0x6b812d[_0xe52601(0x16c)],'component':_0x6b812d['component'],'action':_0x6b812d[_0xe52601(0x9f6)]}});let _0x457b18,_0x35bed0=_0x120f23;_0x6b812d['type']===_0x518845['RemoteRemediation']&&(_0x35bed0=this[_0xe52601(0x5a0)][_0xe52601(0x9ba)][_0xe52601(0x394)](),_0x457b18=[_0x1d1c01]),this[_0xe52601(0x364)]['publish']({'sourceId':_0x35bed0,'destinationIds':_0x457b18,'messageType':_0x23b53c[_0xe52601(0x698)],'content':{'type':_0x6b812d[_0xe52601(0x16c)],'targetId':_0x1d1c01,'data':_0x6b812d}});}}const _0x4ac5e6=0x3e8,_0x1bb65e=0x7530,_0x27ea94='outbound-rtp',_0x3a5f73='remote-inbound-rtp',_0x6a2109=_0x3149ab(0x3e8),_0xed28b2=[_0x27ea94,_0x3a5f73],_0xb03606=[_0x6a2109];class _0x4f53c5{[_0x3149ab(0xa50)]=0x0;[_0x3149ab(0x73a)]=0x0;[_0x3149ab(0x361)]=0x0;[_0x3149ab(0x799)]=0x0;[_0x3149ab(0x3ff)]=0x0;[_0x3149ab(0x5ae)]=0x0;['previousTimestamp']=0x0;[_0x3149ab(0x19e)]=0x0;[_0x3149ab(0x186)]=0x0;get[_0x3149ab(0x1cd)](){const _0x2aa893=_0x3149ab;return this['currentTimestamp']>0x0&&this[_0x2aa893(0x378)]>0x0&&Date[_0x2aa893(0x3fe)]()-this[_0x2aa893(0x5ae)]<_0x1bb65e?(this['currentBytes']-this['previousBytes'])/(this[_0x2aa893(0x5ae)]-this[_0x2aa893(0x378)])*0x8*0x3e8:0x0;}['processReport'](_0x5bd94b){const _0x49ca62=_0x3149ab;switch(_0x5bd94b[_0x49ca62(0x16c)]){case _0x6a2109:this[_0x49ca62(0x592)](_0x5bd94b);break;case _0x27ea94:this[_0x49ca62(0x45a)](_0x5bd94b);break;case _0x3a5f73:this[_0x49ca62(0x366)](_0x5bd94b);}}[_0x3149ab(0x95e)](){const _0xb2e25a=_0x3149ab;return{'bitrate':this[_0xb2e25a(0x1cd)],'packetsLostPerc':this[_0xb2e25a(0x3f3)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0xb2e25a(0x361)]};}['processInboundReport'](_0x36c37b){const _0x298946=_0x3149ab;this[_0x298946(0x4aa)](_0x36c37b[_0x298946(0x4f8)]),this[_0x298946(0x4d0)](_0x36c37b[_0x298946(0x412)]),this['packets']=_0x36c37b['packetsReceived'],this[_0x298946(0x799)]=_0x36c37b[_0x298946(0x799)],void 0x0!==_0x36c37b[_0x298946(0x361)]?this[_0x298946(0x361)]=_0x36c37b[_0x298946(0x361)]:this[_0x298946(0x361)]=0x0,void 0x0!==_0x36c37b[_0x298946(0x73a)]?this[_0x298946(0x73a)]=_0x36c37b[_0x298946(0x73a)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x3149ab(0x45a)](_0x32890c){const _0x32dfe8=_0x3149ab;this[_0x32dfe8(0x4aa)](_0x32890c[_0x32dfe8(0x37d)]),this[_0x32dfe8(0x4d0)](_0x32890c['timestamp']),this[_0x32dfe8(0x3ff)]=_0x32890c[_0x32dfe8(0x1e2)];}['processRemoteInboundReport'](_0x30fe5d){const _0x30d0f8=_0x3149ab;this[_0x30d0f8(0xa50)]=0x3e8*_0x30fe5d[_0x30d0f8(0xa50)],void 0x0!==_0x30fe5d[_0x30d0f8(0x361)]?this['jitter']=_0x30fe5d[_0x30d0f8(0x361)]:this[_0x30d0f8(0x361)]=0x0;}[_0x3149ab(0x3f3)](){const _0x14eac9=_0x3149ab;return this[_0x14eac9(0x3ff)]>0x0?this[_0x14eac9(0x799)]/this[_0x14eac9(0x3ff)]:0x0;}[_0x3149ab(0x4d0)](_0x536e04){const _0x1bd313=_0x3149ab;_0x536e04>this[_0x1bd313(0x5ae)]&&(this[_0x1bd313(0x378)]=this[_0x1bd313(0x5ae)],this[_0x1bd313(0x5ae)]=_0x536e04);}[_0x3149ab(0x4aa)](_0x1dae93){const _0x380ba1=_0x3149ab;this[_0x380ba1(0x186)]=this[_0x380ba1(0x19e)],this[_0x380ba1(0x19e)]=_0x1dae93;}}class _0x3a18cf extends _0x4f53c5{}class _0xb7fddf extends _0x4f53c5{[_0x3149ab(0x7c9)]=0x0;[_0x3149ab(0x509)]=0x0;[_0x3149ab(0x12f)]=0x0;[_0x3149ab(0x56a)]=0x0;[_0x3149ab(0x489)]=0x0;get[_0x3149ab(0x938)](){const _0x3ba1fe=_0x3149ab;return this[_0x3ba1fe(0x5ae)]>0x0&&this[_0x3ba1fe(0x378)]>0x0&&Date[_0x3ba1fe(0x3fe)]()-this[_0x3ba1fe(0x5ae)]<_0x1bb65e?(this[_0x3ba1fe(0x56a)]-this[_0x3ba1fe(0x489)])/(this[_0x3ba1fe(0x5ae)]-this[_0x3ba1fe(0x378)])*0x3e8:0x0;}get[_0x3149ab(0x6f1)](){const _0x11ef72=_0x3149ab;return this['frameTime']&&this[_0x11ef72(0x56a)]&&this['currentFrames']>0x0?this[_0x11ef72(0x7c9)]/this[_0x11ef72(0x56a)]:0x0;}set[_0x3149ab(0x2ec)](_0x587c59){const _0x233e93=_0x3149ab;this[_0x233e93(0x489)]=this['currentFrames'],this['currentFrames']=_0x587c59;}[_0x3149ab(0x95e)](){const _0x9f936e=_0x3149ab;return{...super[_0x9f936e(0x95e)](),'FPS':this[_0x9f936e(0x938)],'timePerFrame':this[_0x9f936e(0x6f1)],'frameWidth':this[_0x9f936e(0x509)],'frameHeight':this[_0x9f936e(0x12f)]};}['processInboundReport'](_0x227d44){const _0x395316=_0x3149ab;super['processInboundReport'](_0x227d44),this[_0x395316(0x7c9)]=_0x227d44[_0x395316(0x236)],this['frames']=_0x227d44[_0x395316(0x305)],this[_0x395316(0x509)]=_0x227d44[_0x395316(0x509)],this[_0x395316(0x12f)]=_0x227d44[_0x395316(0x12f)];}[_0x3149ab(0x45a)](_0x3a9730){const _0x49e595=_0x3149ab;super[_0x49e595(0x45a)](_0x3a9730),this['frameTime']=_0x3a9730[_0x49e595(0x773)],this[_0x49e595(0x2ec)]=_0x3a9730[_0x49e595(0x184)],this[_0x49e595(0x509)]=_0x3a9730[_0x49e595(0x509)],this[_0x49e595(0x12f)]=_0x3a9730['frameHeight'];}}class _0x19684c{[_0x3149ab(0x354)]=new _0x3a18cf();[_0x3149ab(0x717)]=new _0xb7fddf();get[_0x3149ab(0x1cd)](){const _0x8f9584=_0x3149ab;return this[_0x8f9584(0x354)][_0x8f9584(0x1cd)]+this[_0x8f9584(0x717)][_0x8f9584(0x1cd)];}[_0x3149ab(0x865)](_0x22265d){const _0x2a1585=_0x3149ab;return _0x22265d[_0x2a1585(0x1d0)](_0x4a59ca=>{const _0x1b841c=_0x2a1585;switch(_0x4a59ca['kind']){case _0x1b841c(0x354):this[_0x1b841c(0x354)][_0x1b841c(0x7c0)](_0x4a59ca);break;case _0x1b841c(0x717):this['video'][_0x1b841c(0x7c0)](_0x4a59ca);}}),this[_0x2a1585(0x95e)]();}[_0x3149ab(0x95e)](){const _0x1d0eab=_0x3149ab;return{'audio':this['audio'][_0x1d0eab(0x95e)](),'video':this[_0x1d0eab(0x717)][_0x1d0eab(0x95e)](),'roundTripTime':this[_0x1d0eab(0x9fd)](),'AudioVideoDelay':this[_0x1d0eab(0x13c)](),'bitrate':this[_0x1d0eab(0x1cd)]};}[_0x3149ab(0x9fd)](){const _0x5a7752=_0x3149ab;return Math[_0x5a7752(0x735)]((this['audio'][_0x5a7752(0xa50)]+this['video'][_0x5a7752(0xa50)])/0x2);}[_0x3149ab(0x13c)](){const _0x3782aa=_0x3149ab;return this[_0x3782aa(0x354)][_0x3782aa(0x73a)]-this[_0x3782aa(0x717)][_0x3782aa(0x73a)];}}class _0x3b362e{[_0x3149ab(0x63d)]=0x0;[_0x3149ab(0xa8f)]=0x0;[_0x3149ab(0xacf)]=0x0;[_0x3149ab(0x1c1)]=0x0;['senderCurrentBytes']=0x0;['senderPreviousBytes']=0x0;[_0x3149ab(0x619)]=0x0;[_0x3149ab(0x383)]=0x0;[_0x3149ab(0x8f2)]=0x0;['receiverTotalMessages']=0x0;[_0x3149ab(0x68a)]=0x0;['receiverTimeProcessing']=0x0;[_0x3149ab(0xa50)]=0x0;get['bitrate'](){const _0x4a4c2b=_0x3149ab;return this[_0x4a4c2b(0x93f)]+this[_0x4a4c2b(0x645)];}get[_0x3149ab(0x93f)](){const _0x20b164=_0x3149ab;return this[_0x20b164(0x63d)]>0x0&&this[_0x20b164(0xa8f)]>0x0&&Date['now']()-this['senderCurrentTimestamp']<_0x1bb65e?(this[_0x20b164(0x3c4)]-this['senderPreviousBytes'])/(this[_0x20b164(0x63d)]-this[_0x20b164(0xa8f)])*0x8*0x3e8:0x0;}get[_0x3149ab(0x645)](){const _0x155e9e=_0x3149ab;return this[_0x155e9e(0xacf)]>0x0&&this[_0x155e9e(0x1c1)]>0x0&&Date['now']()-this['receiverCurrentTimestamp']<_0x1bb65e?(this[_0x155e9e(0x619)]-this['receiverPreviousBytes'])/(this['receiverCurrentTimestamp']-this[_0x155e9e(0x1c1)])*0x8*0x3e8:0x0;}[_0x3149ab(0x7c0)](_0x42769c){const _0x24fb46=_0x3149ab;switch(_0x42769c[_0x24fb46(0x77c)]){case _0x182ae0[_0x24fb46(0x457)]:this[_0x24fb46(0xadc)](_0x42769c);break;case _0x182ae0['Receiver']:this[_0x24fb46(0x4ee)](_0x42769c);}}[_0x3149ab(0x95e)](){const _0x556ad4=_0x3149ab;return{'bitrate':this[_0x556ad4(0x1cd)],'senderBitrate':this[_0x556ad4(0x93f)],'receiverBitrate':this[_0x556ad4(0x645)],'totalBytes':this[_0x556ad4(0x755)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0x556ad4(0x770)](),'totalMessages':this[_0x556ad4(0x8f2)]+this[_0x556ad4(0x862)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x556ad4(0x862)],'timeProcessing':this['senderTimeProcessing']+this[_0x556ad4(0x38c)],'senderTimeProcessing':this[_0x556ad4(0x68a)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this['roundTripTime']};}[_0x3149ab(0x755)](){const _0x256b13=_0x3149ab;return this['senderCurrentBytes']+this[_0x256b13(0x619)];}[_0x3149ab(0x12d)](){const _0x33b3b1=_0x3149ab;return this[_0x33b3b1(0x3c4)];}[_0x3149ab(0x770)](){const _0x5a0531=_0x3149ab;return this[_0x5a0531(0x619)];}[_0x3149ab(0xadc)](_0x129fd9){const _0x27c5b8=_0x3149ab;this[_0x27c5b8(0x59c)](_0x129fd9[_0x27c5b8(0x412)]),this[_0x27c5b8(0x4aa)](_0x129fd9[_0x27c5b8(0x37d)]),this[_0x27c5b8(0x8f2)]=_0x129fd9['messagesSent'],this[_0x27c5b8(0x68a)]=_0x129fd9[_0x27c5b8(0x9a6)],this[_0x27c5b8(0xa50)]=_0x129fd9[_0x27c5b8(0xa50)];}[_0x3149ab(0x4ee)](_0x2bfae0){const _0x2ac0cd=_0x3149ab;this[_0x2ac0cd(0x3b3)](_0x2bfae0[_0x2ac0cd(0x412)]),this[_0x2ac0cd(0x90e)](_0x2bfae0[_0x2ac0cd(0x4f8)]),this['receiverTotalMessages']=_0x2bfae0['messagesReceived'],this[_0x2ac0cd(0x38c)]=_0x2bfae0[_0x2ac0cd(0x844)];}['setSenderTimestamp'](_0x58f404){const _0x277427=_0x3149ab;_0x58f404>this['senderCurrentTimestamp']&&(this[_0x277427(0xa8f)]=this[_0x277427(0x63d)],this[_0x277427(0x63d)]=_0x58f404);}['setReceiverTimestamp'](_0x31f105){const _0x141388=_0x3149ab;_0x31f105>this[_0x141388(0xacf)]&&(this['receiverPreviousTimestamp']=this[_0x141388(0xacf)],this[_0x141388(0xacf)]=_0x31f105);}[_0x3149ab(0x4aa)](_0x3873da){const _0x1b5767=_0x3149ab;this[_0x1b5767(0x429)]=this[_0x1b5767(0x3c4)],this[_0x1b5767(0x3c4)]=_0x3873da;}['setReceiverBytes'](_0x45aaa6){const _0x4f8194=_0x3149ab;this['receiverPreviousBytes']=this[_0x4f8194(0x619)],this[_0x4f8194(0x619)]=_0x45aaa6;}}class _0x58aafd{[_0x3149ab(0x121)]=new Map();[_0x3149ab(0x3c9)]=new Map();['dataChannel']=new _0x3b362e();get[_0x3149ab(0x93f)](){const _0xb14591=_0x3149ab;let _0x3a2229=0x0;return this[_0xb14591(0x121)][_0xb14591(0x1d0)](_0x5899d5=>{const _0x409e27=_0xb14591;_0x3a2229+=_0x5899d5[_0x409e27(0x1cd)];}),_0x3a2229+=this[_0xb14591(0x8cf)][_0xb14591(0x93f)],_0x3a2229;}get['receiverBitrate'](){const _0x1ee496=_0x3149ab;let _0x82aada=0x0;return this['receiverStreams'][_0x1ee496(0x1d0)](_0x554aa2=>{const _0x3095c2=_0x1ee496;_0x82aada+=_0x554aa2[_0x3095c2(0x1cd)];}),_0x82aada+=this[_0x1ee496(0x8cf)][_0x1ee496(0x645)],_0x82aada;}get['bitrate'](){const _0x3e3e03=_0x3149ab;return this['senderBitrate']+this[_0x3e3e03(0x645)];}[_0x3149ab(0x865)](_0x3fd32f,_0x45832a){const _0x4fd3b4=_0x3149ab,_0xddffe=[],_0x49f372=[];return _0x3fd32f instanceof Array?_0x3fd32f[_0x4fd3b4(0x1d0)](_0xb71161=>{const _0x59346a=_0x4fd3b4;_0xb71161[_0x59346a(0x1d0)](_0x3e304c=>{const _0x2ef8c6=_0x59346a;_0xb03606['includes'](_0x3e304c[_0x2ef8c6(0x16c)])&&_0xddffe[_0x2ef8c6(0x7e8)](_0x3e304c),_0xed28b2[_0x2ef8c6(0x24c)](_0x3e304c[_0x2ef8c6(0x16c)])&&_0x49f372[_0x2ef8c6(0x7e8)](_0x3e304c);});}):this[_0x4fd3b4(0x8cf)][_0x4fd3b4(0x7c0)](_0x3fd32f),_0xddffe[_0x4fd3b4(0x878)]>0x0&&_0x45832a?{...this[_0x4fd3b4(0x54b)](_0x45832a,_0xddffe),'origin':_0x182ae0[_0x4fd3b4(0x1aa)],'streamId':_0x45832a}:_0x49f372[_0x4fd3b4(0x878)]>0x0&&_0x45832a?{...this['processOutboundReports'](_0x45832a,_0x49f372),'origin':_0x182ae0[_0x4fd3b4(0x457)],'streamId':_0x45832a}:void 0x0;}[_0x3149ab(0x95e)](){const _0x626a18=_0x3149ab,_0xb4174d={};this[_0x626a18(0x121)]['forEach']((_0x57ef78,_0x10d5d8)=>{const _0x1247a1=_0x626a18;_0xb4174d[_0x10d5d8]=_0x57ef78[_0x1247a1(0x95e)]();});const _0x261244={};return this[_0x626a18(0x3c9)][_0x626a18(0x1d0)]((_0x6ca226,_0x2ab4c6)=>{const _0x4e8b60=_0x626a18;_0x261244[_0x2ab4c6]=_0x6ca226[_0x4e8b60(0x95e)]();}),{'bitrate':this['bitrate'],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x626a18(0x645)],'senderStreams':_0xb4174d,'receiverStreams':_0x261244,'dataChannel':this[_0x626a18(0x8cf)][_0x626a18(0x95e)]()};}[_0x3149ab(0x54b)](_0x46c7b9,_0x3f11a8){const _0x550c81=_0x3149ab;return this['receiverStreams'][_0x550c81(0x2a7)](_0x46c7b9)||this[_0x550c81(0x3c9)]['set'](_0x46c7b9,new _0x19684c()),this[_0x550c81(0x3c9)]['get'](_0x46c7b9)['processReports'](_0x3f11a8);}[_0x3149ab(0x92f)](_0x235062,_0x3a7136){const _0x4ff520=_0x3149ab;return this[_0x4ff520(0x121)]['has'](_0x235062)||this[_0x4ff520(0x121)]['set'](_0x235062,new _0x19684c()),this[_0x4ff520(0x121)][_0x4ff520(0x524)](_0x235062)[_0x4ff520(0x865)](_0x3a7136);}}class _0x5ca1e0{['nodes']=new Map();[_0x3149ab(0x505)]=0x0;['durationTime']=0x0;[_0x3149ab(0xacc)]=new Map();[_0x3149ab(0x35c)]=new Map();[_0x3149ab(0x177)]=new Map();[_0x3149ab(0x263)]=new Map();[_0x3149ab(0x5e5)]=new Map();[_0x3149ab(0x454)]=new Map();[_0x3149ab(0x6a3)]=new Map();[_0x3149ab(0x2ef)]=new Map();['senderTotalMessages']=new Map();['receiverTotalMessages']=new Map();[_0x3149ab(0x68a)]=new Map();[_0x3149ab(0x38c)]=new Map();['systemMessages']=new Map();['systemTopic'];[_0x3149ab(0x95e)](){const _0x36717d=_0x3149ab,_0x3a388a={};this['nodes']['forEach']((_0x46c89d,_0x4f2445)=>{_0x3a388a[_0x4f2445]=_0x46c89d['getReport']();});let _0x592d65=0x0;this[_0x36717d(0x68a)][_0x36717d(0x1d0)](_0x513ee0=>{_0x592d65+=_0x513ee0;});let _0x260223=0x0;this[_0x36717d(0x38c)][_0x36717d(0x1d0)](_0x62b0cb=>{_0x260223+=_0x62b0cb;});const _0x4f73e2=_0x592d65+_0x260223;let _0xc57fb2={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x227ba8=>{const _0x37db32=_0x36717d;Object[_0x37db32(0x6d7)](_0x227ba8)[_0x37db32(0x1d0)](_0x653d97=>{const _0x3c7ebb=_0x37db32;_0xc57fb2[_0x653d97]||(_0xc57fb2[_0x653d97]={}),Object[_0x3c7ebb(0x6d7)](_0x227ba8[_0x653d97])[_0x3c7ebb(0x1d0)](_0x312ca5=>{_0xc57fb2[_0x653d97][_0x312ca5]||(_0xc57fb2[_0x653d97][_0x312ca5]=0x0),_0xc57fb2[_0x653d97][_0x312ca5]+=_0x227ba8[_0x653d97][_0x312ca5];});});});let _0x2b23e3=0x0,_0x3d1cf0=0x0,_0x46808c=0x0,_0x41790a=0x0,_0xa063d8=0x0;return this[_0x36717d(0xacc)][_0x36717d(0x1d0)](_0x25888b=>{const _0x43be27=_0x36717d;_0x3d1cf0+=_0x25888b[_0x43be27(0x781)],_0x46808c+=_0x25888b['messagesReceived'],_0x41790a+=_0x25888b[_0x43be27(0x37d)],_0xa063d8+=_0x25888b[_0x43be27(0x4f8)];}),this['objectStores'][_0x36717d(0x1d0)](_0xf8bb40=>{const _0x1c3368=_0x36717d;_0x2b23e3+=_0xf8bb40[_0x1c3368(0x1c3)],_0x3d1cf0+=_0xf8bb40[_0x1c3368(0x781)],_0x46808c+=_0xf8bb40['messagesReceived'],_0x41790a+=_0xf8bb40[_0x1c3368(0x37d)],_0xa063d8+=_0xf8bb40[_0x1c3368(0x4f8)];}),this['keyValueDatabases'][_0x36717d(0x1d0)](_0x4b6fc3=>{const _0x1c8f4a=_0x36717d;_0x2b23e3+=_0x4b6fc3['storage'],_0x3d1cf0+=_0x4b6fc3[_0x1c8f4a(0x781)],_0x46808c+=_0x4b6fc3[_0x1c8f4a(0xa86)],_0x41790a+=_0x4b6fc3[_0x1c8f4a(0x37d)],_0xa063d8+=_0x4b6fc3[_0x1c8f4a(0x4f8)];}),this['generativeAIContexts'][_0x36717d(0x1d0)](_0x237fb5=>{const _0x62cc95=_0x36717d;_0x2b23e3+=_0x237fb5[_0x62cc95(0x1c3)],_0x3d1cf0+=_0x237fb5[_0x62cc95(0x781)],_0x46808c+=_0x237fb5['messagesReceived'],_0x41790a+=_0x237fb5[_0x62cc95(0x37d)],_0xa063d8+=_0x237fb5[_0x62cc95(0x4f8)];}),this[_0x36717d(0x5e5)][_0x36717d(0x1d0)](_0x1b7681=>{const _0x4567b9=_0x36717d;_0x2b23e3+=_0x1b7681[_0x4567b9(0x1c3)],_0x3d1cf0+=_0x1b7681[_0x4567b9(0x781)],_0x46808c+=_0x1b7681[_0x4567b9(0xa86)],_0x41790a+=_0x1b7681[_0x4567b9(0x37d)],_0xa063d8+=_0x1b7681['bytesReceived'];}),this[_0x36717d(0x454)][_0x36717d(0x1d0)](_0x5a7f78=>{const _0x413192=_0x36717d;_0x2b23e3+=_0x5a7f78[_0x413192(0x1c3)],_0x3d1cf0+=_0x5a7f78['messagesSent'],_0x46808c+=_0x5a7f78[_0x413192(0xa86)],_0x41790a+=_0x5a7f78['bytesSent'],_0xa063d8+=_0x5a7f78[_0x413192(0x4f8)];}),this[_0x36717d(0x6a3)][_0x36717d(0x1d0)](_0x440f4c=>{const _0x548db0=_0x36717d;_0x2b23e3+=_0x440f4c[_0x548db0(0x1c3)],_0x3d1cf0+=_0x440f4c[_0x548db0(0x781)],_0x46808c+=_0x440f4c[_0x548db0(0xa86)],_0x41790a+=_0x440f4c[_0x548db0(0x37d)],_0xa063d8+=_0x440f4c[_0x548db0(0x4f8)];}),{'STVolatility':this[_0x36717d(0x356)](),'DTVolatility':this[_0x36717d(0x3b6)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x36717d(0xaa7)](),'receiverBitrate':this[_0x36717d(0x84b)](),'totalStorageSize':_0x2b23e3,'totalMessages':_0x3d1cf0+_0x46808c,'totalMessagesSent':_0x3d1cf0,'totalMessagesReceived':_0x46808c,'totalBytes':_0x41790a+_0xa063d8,'totalBytesSent':_0x41790a,'totalBytesReceived':_0xa063d8,'systemMessages':_0xc57fb2,'timeProcessing':_0x4f73e2,'nodes':_0x3a388a,'pubsubTopics':Object[_0x36717d(0x6d3)](this[_0x36717d(0xacc)]),'objectStores':Object[_0x36717d(0x6d3)](this[_0x36717d(0x35c)]),'keyValueDatabases':Object[_0x36717d(0x6d3)](this[_0x36717d(0x177)]),'generativeAIContexts':Object[_0x36717d(0x6d3)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x36717d(0x6d3)](this[_0x36717d(0x5e5)]),'vectorDatabases':Object[_0x36717d(0x6d3)](this['vectorDatabases']),'graphDatabases':Object[_0x36717d(0x6d3)](this[_0x36717d(0x6a3)]),'externalStorages':Object[_0x36717d(0x6d3)](this[_0x36717d(0x2ef)])};}[_0x3149ab(0x697)](_0x4460b0){const _0x2ed961=_0x3149ab;this[_0x2ed961(0x259)][_0x2ed961(0x491)](_0x4460b0,new _0x58aafd());}['removeRemoteNode'](_0x4ede5d){const _0x2c9288=_0x3149ab;this[_0x2c9288(0x259)][_0x2c9288(0x979)](_0x4ede5d);}[_0x3149ab(0x865)](_0x50dd43,_0x264052,_0x451ced){const _0x50fd21=_0x3149ab;_0x264052 instanceof Array||this[_0x50fd21(0x768)](_0x50dd43,_0x264052);const _0x36b4f1=this['nodes'][_0x50fd21(0x524)](_0x50dd43)?.[_0x50fd21(0x865)](_0x264052,_0x451ced);_0x36b4f1&&this[_0x50fd21(0x364)]['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x50fd21(0x843)],'content':{'type':_0x452410[_0x50fd21(0x6a1)],'data':{..._0x36b4f1,'nodeId':_0x50dd43}}});}[_0x3149ab(0x20b)](_0x227b6f){const _0x53cc82=_0x3149ab;this['setScheduleTime'](_0x227b6f[_0x53cc82(0x3be)]),this[_0x53cc82(0x241)](_0x227b6f['durationTime']),this[_0x53cc82(0x364)]['publish']({'sourceId':_0x120f23,'messageType':_0x23b53c[_0x53cc82(0x843)],'content':{'type':_0x452410[_0x53cc82(0x975)],'data':{'STVolatility':this[_0x53cc82(0x356)](),'DTVolatility':this[_0x53cc82(0x3b6)]()}}});}[_0x3149ab(0x2ba)](_0x54c5c1,_0x55ea59,_0x565bff){const _0x17c003=_0x3149ab;switch(_0x55ea59){case _0x253ba5[_0x17c003(0x443)]:this[_0x17c003(0xacc)][_0x17c003(0x491)](_0x54c5c1,_0x565bff);break;case _0x253ba5[_0x17c003(0x326)]:this[_0x17c003(0x35c)]['set'](_0x54c5c1,_0x565bff);break;case _0x253ba5[_0x17c003(0x609)]:this[_0x17c003(0x177)][_0x17c003(0x491)](_0x54c5c1,_0x565bff);break;case _0x253ba5[_0x17c003(0xa64)]:this['generativeAIContexts'][_0x17c003(0x491)](_0x54c5c1,_0x565bff);break;case _0x253ba5[_0x17c003(0x1a7)]:this[_0x17c003(0x5e5)][_0x17c003(0x491)](_0x54c5c1,_0x565bff);break;case _0x253ba5[_0x17c003(0x219)]:this['vectorDatabases'][_0x17c003(0x491)](_0x54c5c1,_0x565bff);break;case _0x253ba5[_0x17c003(0x5d6)]:this[_0x17c003(0x6a3)]['set'](_0x54c5c1,_0x565bff);break;case _0x253ba5[_0x17c003(0x7f1)]:this[_0x17c003(0x2ef)][_0x17c003(0x491)](_0x54c5c1,_0x565bff);}}[_0x3149ab(0x9cd)](_0x45891b){const _0x3d46ec=_0x3149ab;this[_0x3d46ec(0x364)]=_0x45891b;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x3149ab(0x356)](){const _0x32d711=_0x3149ab;return this[_0x32d711(0x505)]>0x0&&this[_0x32d711(0x505)]-_0x4ac5e6>0x0?(this[_0x32d711(0x505)]-_0x4ac5e6)/_0x4ac5e6:0x0;}['getDTVolatility'](){const _0x56fa83=_0x3149ab;return this['durationTime']>0x0&&this['durationTime']-0x64>0x0?(this[_0x56fa83(0xa1a)]-0x64)/0x64:0x0;}[_0x3149ab(0xaa7)](){const _0x2e8a1c=_0x3149ab;let _0xc1103c=0x0;return this[_0x2e8a1c(0x259)][_0x2e8a1c(0x1d0)](_0x23b861=>{const _0x26cd42=_0x2e8a1c;_0xc1103c+=_0x23b861[_0x26cd42(0x93f)];}),_0xc1103c;}[_0x3149ab(0x84b)](){const _0x5747c1=_0x3149ab;let _0x57519c=0x0;return this[_0x5747c1(0x259)]['forEach'](_0x2507ef=>{_0x57519c+=_0x2507ef['receiverBitrate'];}),_0x57519c;}[_0x3149ab(0x402)](){const _0x26e9e9=_0x3149ab;let _0x4fbd1b=0x0;return this[_0x26e9e9(0x259)][_0x26e9e9(0x1d0)](_0x42e9ae=>{const _0x530eaf=_0x26e9e9;_0x4fbd1b+=_0x42e9ae[_0x530eaf(0x1cd)];}),_0x4fbd1b;}[_0x3149ab(0x563)](_0x2e663c){this['scheduleTime']=_0x2e663c;}[_0x3149ab(0x241)](_0x2634f1){const _0x4e5a3c=_0x3149ab;this[_0x4e5a3c(0xa1a)]=_0x2634f1;}['processDataChannelReport'](_0xb374ba,_0x1d4149){const _0x10ac0a=_0x3149ab;switch(_0x1d4149[_0x10ac0a(0x77c)]){case _0x182ae0['Sender']:this[_0x10ac0a(0xadc)](_0xb374ba,_0x1d4149);break;case _0x182ae0[_0x10ac0a(0x1aa)]:this['processReceiverReport'](_0xb374ba,_0x1d4149);}}[_0x3149ab(0xadc)](_0x209c34,_0x59f825){const _0x27c071=_0x3149ab;this[_0x27c071(0x8f2)][_0x27c071(0x491)](_0x209c34,_0x59f825[_0x27c071(0x781)]),this[_0x27c071(0x68a)][_0x27c071(0x491)](_0x209c34,_0x59f825[_0x27c071(0x9a6)]);}['processReceiverReport'](_0xbe308b,_0x5a8976){const _0x207f84=_0x3149ab;this[_0x207f84(0x862)][_0x207f84(0x491)](_0xbe308b,_0x5a8976[_0x207f84(0xa86)]),this[_0x207f84(0x38c)][_0x207f84(0x491)](_0xbe308b,_0x5a8976['timeReceiving']),this[_0x207f84(0x2db)][_0x207f84(0x491)](_0xbe308b,_0x5a8976['systemMessages']);}}class _0x3caeb9{[_0x3149ab(0x5a0)];['remoteNodes']=new Set();[_0x3149ab(0x1f6)];[_0x3149ab(0x2eb)];[_0x3149ab(0x538)];[_0x3149ab(0x83c)]=new _0x5ca1e0();constructor(_0x3db624){const _0x1cb06d=_0x3149ab;this[_0x1cb06d(0x5a0)]=_0x3db624,this[_0x1cb06d(0x5a0)][_0x1cb06d(0x8f7)][_0x1cb06d(0xa68)](this[_0x1cb06d(0x83c)]),this[_0x1cb06d(0x2eb)]=this['setupStatsCollection'](),this[_0x1cb06d(0x538)]=this[_0x1cb06d(0x1ec)]();}['close'](){const _0x1b7579=_0x3149ab;this[_0x1b7579(0x5a0)]['mediator'][_0x1b7579(0x41a)](this[_0x1b7579(0x83c)]),this['statsReporting'](),this[_0x1b7579(0x2eb)]();}['addRemoteNode'](_0x4b844b){const _0xf046ae=_0x3149ab;this['remoteNodes'][_0xf046ae(0x638)](_0x4b844b),this[_0xf046ae(0x83c)][_0xf046ae(0x697)](_0x4b844b);}[_0x3149ab(0x884)](_0x5aa7d9){const _0x27b138=_0x3149ab;this['remoteNodes'][_0x27b138(0x979)](_0x5aa7d9),this[_0x27b138(0x83c)][_0x27b138(0x884)](_0x5aa7d9);}['handlePeerConnectionSystemEvents'](_0x13e9a9){const _0x375b9e=_0x3149ab;if(_0x13e9a9['content']['type']===_0x2d0fa6[_0x375b9e(0x843)]){const {nodeId:_0x3c1289,streamId:_0x1dcc14,stats:_0x502320}=_0x13e9a9['content'];this['statsReport'][_0x375b9e(0x865)](_0x3c1289,_0x502320,_0x1dcc14);}}['handleContentSystemEvents'](_0x4ca0d1){const _0x120893=_0x3149ab;switch(_0x4ca0d1['content'][_0x120893(0x16c)]){case _0x253ba5['ObjectStoreStats']:case _0x253ba5['KeyValueDatabaseStats']:case _0x253ba5[_0x120893(0x443)]:case _0x253ba5[_0x120893(0xa64)]:case _0x253ba5['GenerativeAIWorkerStats']:case _0x253ba5[_0x120893(0x219)]:case _0x253ba5['GraphDatabaseStats']:case _0x253ba5[_0x120893(0x7f1)]:this['statsReport'][_0x120893(0x2ba)](_0x4ca0d1[_0x120893(0x130)][_0x120893(0x3a4)],_0x4ca0d1[_0x120893(0x130)][_0x120893(0x16c)],_0x4ca0d1['content'][_0x120893(0x826)]);}}[_0x3149ab(0x1ec)](){const _0x5f3769=_0x3149ab;return _0x39ab67[_0x5f3769(0x589)](()=>{const _0x1f0e86=_0x5f3769,_0x33109d=this[_0x1f0e86(0x83c)][_0x1f0e86(0x95e)]();_0x5b2279[_0x1f0e86(0x66c)](_0x44d495[_0x1f0e86(0x843)],_0x1f0e86(0x6ce),_0x33109d),(0x0,_0x48a8fe[_0x1f0e86(0x34a)])((0x0,_0x48a8fe['collection'])(_0x52f3ef[_0x1f0e86(0x721)](),'developers/'+this[_0x1f0e86(0x5a0)][_0x1f0e86(0x164)]+_0x1f0e86(0x41e)),{'clusterId':this[_0x1f0e86(0x5a0)][_0x1f0e86(0x8ae)],'nodeId':this[_0x1f0e86(0x5a0)][_0x1f0e86(0x9ba)][_0x1f0e86(0x394)](),'nodeType':this[_0x1f0e86(0x5a0)][_0x1f0e86(0x9ba)]['type'],'timestamp':(0x0,_0x48a8fe['serverTimestamp'])(),'report':_0x33109d}),_0x5b2279['logEvent'](_0x1f0e86(0x826),{'clusterId':this[_0x1f0e86(0x5a0)]['clusterId'],'nodeId':this[_0x1f0e86(0x5a0)]['localNode'][_0x1f0e86(0x394)](),'nodeType':this['configs']['localNode']['type'],'data':{'report':_0x33109d}});},_0x1bb65e);}[_0x3149ab(0x8ec)](){const _0x5c2377=_0x3149ab;let _0x3a4cdb=!0x1,_0xf6d408=Date[_0x5c2377(0x3fe)]();return _0x39ab67[_0x5c2377(0x589)](async()=>{const _0x3f1108=_0x5c2377;if(_0x3a4cdb)return;if(_0x3a4cdb=!0x0,0x0===this[_0x3f1108(0x819)][_0x3f1108(0x1fa)])return delete this[_0x3f1108(0x1f6)],void(_0x3a4cdb=!0x1);const _0x5d10d7=Date[_0x3f1108(0x3fe)]();this[_0x3f1108(0x302)]();try{await this[_0x3f1108(0x5a0)][_0x3f1108(0x8f7)][_0x3f1108(0x403)](this[_0x3f1108(0x1f6)]);}catch(_0x59c211){}this[_0x3f1108(0x83c)][_0x3f1108(0x20b)]({'secheduleTime':_0x5d10d7-_0xf6d408,'durationTime':Date[_0x3f1108(0x3fe)]()-_0x5d10d7}),_0xf6d408=_0x5d10d7,_0x3a4cdb=!0x1;},_0x4ac5e6);}['findNextNodeId'](){const _0x2349f9=_0x3149ab;let _0x30e511,_0x18413c=!0x1;this[_0x2349f9(0x1f6)]&&(this[_0x2349f9(0x819)][_0x2349f9(0x2a7)](this[_0x2349f9(0x1f6)])||delete this[_0x2349f9(0x1f6)]);for(const _0x544ae7 of this[_0x2349f9(0x819)])if(_0x30e511||(_0x30e511=_0x544ae7),this[_0x2349f9(0x1f6)]!==_0x544ae7){if(_0x18413c)return void(this[_0x2349f9(0x1f6)]=_0x544ae7);}else _0x18413c=!0x0,delete this['nextNodeId'];this[_0x2349f9(0x1f6)]||(this['nextNodeId']=_0x30e511);}}class _0xd6750e{[_0x3149ab(0xa01)];[_0x3149ab(0xa49)];[_0x3149ab(0x364)];constructor(_0x4f93c3,_0x5794ed){const _0x26e06f=_0x3149ab;this['source']=_0x4f93c3,this[_0x26e06f(0xa49)]=_0x5794ed;}[_0x3149ab(0x9cd)](_0x33dca4){const _0x15f52d=_0x3149ab;this[_0x15f52d(0x364)]=_0x33dca4;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0x534e0b extends _0xd6750e{['source'];['destination'];[_0x3149ab(0x48b)];constructor(_0x58e5ff,_0x102eaa,_0x6f4e73){const _0xc55672=_0x3149ab;super(_0x58e5ff,_0x102eaa),this[_0xc55672(0xa01)]=_0x58e5ff,this[_0xc55672(0xa49)]=_0x102eaa,this[_0xc55672(0x48b)]=_0x6f4e73;}[_0x3149ab(0x438)](_0x250ffe,_0x16fa10,_0x1f0db9){const _0x3aa1df=_0x3149ab;if(this[_0x3aa1df(0xa49)][_0x3aa1df(0x941)]()===_0x3a4c7c[_0x3aa1df(0x346)][_0x3aa1df(0x1a2)]){const _0x122d5a={'type':_0x5af822[_0x3aa1df(0x752)],'label':this[_0x3aa1df(0xa49)][_0x3aa1df(0x8e1)](),'ownerId':_0x250ffe,'trackKinds':_0x16fa10??this['destination'][_0x3aa1df(0x1eb)](),'params':_0x1f0db9};this[_0x3aa1df(0x364)][_0x3aa1df(0x415)]({'sourceId':this[_0x3aa1df(0xa01)][_0x3aa1df(0x720)](),'destinationIds':[this[_0x3aa1df(0xa01)][_0x3aa1df(0xa57)]()],'messageType':_0x23b53c[_0x3aa1df(0xa65)],'content':_0x122d5a}),this[_0x3aa1df(0x48b)]=_0x1f0db9;}}[_0x3149ab(0x54d)](_0x19d7f8,_0x320be6){const _0x883557=_0x3149ab;if(this[_0x883557(0xa49)][_0x883557(0x941)]()===_0x3a4c7c[_0x883557(0x346)][_0x883557(0x1a2)]){const _0xc74350={'type':_0x5af822[_0x883557(0x56b)],'label':this['destination'][_0x883557(0x8e1)](),'ownerId':_0x19d7f8,'params':_0x320be6};this['systemTopic'][_0x883557(0x415)]({'sourceId':this[_0x883557(0xa01)][_0x883557(0x720)](),'destinationIds':[this['source'][_0x883557(0xa57)]()],'messageType':_0x23b53c[_0x883557(0xa65)],'content':_0xc74350}),this[_0x883557(0x48b)]=_0x320be6;}}[_0x3149ab(0x3e9)](_0x7f5b5e,_0xe47d54,_0x4c2d75){const _0x3ecea0=_0x3149ab;if(this['destination'][_0x3ecea0(0x941)]()===_0x3a4c7c[_0x3ecea0(0x346)]['Media']){const _0x59130d={'type':_0x5af822[_0x3ecea0(0xae8)],'label':this[_0x3ecea0(0xa49)]['getLabel'](),'ownerId':_0x7f5b5e,'trackKinds':_0x4c2d75??this[_0x3ecea0(0xa49)][_0x3ecea0(0x1eb)](),'remainingTracks':_0xe47d54};this['systemTopic'][_0x3ecea0(0x415)]({'sourceId':this['source'][_0x3ecea0(0x720)](),'destinationIds':[this[_0x3ecea0(0xa01)]['getRemoteId']()],'messageType':_0x23b53c[_0x3ecea0(0xa65)],'content':_0x59130d});}}}class _0x51ee8b{[_0x3149ab(0x523)];['maxDistance'];[_0x3149ab(0xa6e)];[_0x3149ab(0x364)];[_0x3149ab(0x5c1)]=new Set();['startTime']=Date['now']();[_0x3149ab(0x48b)];[_0x3149ab(0x463)]=0x0;constructor(_0x47ea10,_0x2fd61b,_0x2b0697,_0x32f555){const _0x5897e6=_0x3149ab;this[_0x5897e6(0x523)]=_0x2fd61b,this[_0x5897e6(0x708)]=_0x2b0697,this['tracks']=_0x32f555,_0x47ea10[_0x5897e6(0x1d0)](_0xba2013=>{const _0x27954b=_0x5897e6;this['answers'][_0x27954b(0x638)]({'nodeId':_0xba2013,'type':_0x4285a6['Waiting']});});}[_0x3149ab(0x4a5)](){return this['tracks'];}[_0x3149ab(0x9cd)](_0x49fbc8){const _0x558d2c=_0x3149ab;this[_0x558d2c(0x364)]=_0x49fbc8;}[_0x3149ab(0x8bd)](){delete this['systemTopic'];}[_0x3149ab(0x626)](_0x21da12,_0x152436){const _0x224716=_0x3149ab;this['startTime']=Date['now'](),this[_0x224716(0x5c1)][_0x224716(0x876)](),_0x21da12[_0x224716(0x1d0)](_0x1eb030=>{const _0x1ae1e8=_0x224716;this[_0x1ae1e8(0x5c1)][_0x1ae1e8(0x638)]({'nodeId':_0x1eb030,'type':_0x4285a6[_0x1ae1e8(0x334)]});}),this[_0x224716(0x463)]+=0x1,this['currentDistance']=_0x152436;}[_0x3149ab(0x94a)](_0x124fca,_0x5f0af9,_0x2d4476,_0x59a4e3,_0x11cf87){const _0xc7ffe4=_0x3149ab;if(this[_0xc7ffe4(0x463)]>0xa)throw new _0x224ab2(_0x224ab2['codes']['SubscriptionRequestNoAnswer'],{'answers':Array[_0xc7ffe4(0x271)](this[_0xc7ffe4(0x5c1)])[_0xc7ffe4(0x323)](_0x5eceb4=>({'nodeId':_0x5eceb4[_0xc7ffe4(0x3d7)],'type':_0x5eceb4[_0xc7ffe4(0x16c)]}))});const _0x480c1d=Array[_0xc7ffe4(0x271)](this[_0xc7ffe4(0x5c1)])['map'](_0x561184=>_0x561184['nodeId']);this['params']=_0x11cf87,this[_0xc7ffe4(0x364)][_0xc7ffe4(0x415)]({'sourceId':_0x124fca,'destinationIds':_0x480c1d,'messageType':_0x23b53c['Subscription'],'content':{'type':_0x5af822['NeedMediaStream'],'label':_0x2d4476,'ownerId':_0x5f0af9,'trackKinds':_0x59a4e3,'params':_0x11cf87}}),_0x5b2279[_0xc7ffe4(0x66c)](_0x44d495[_0xc7ffe4(0xa65)],_0xc7ffe4(0xaee),_0x124fca,_0x480c1d);}[_0x3149ab(0x7c4)](_0x20e001,_0x3274ef){const _0x316e5b=_0x3149ab;switch(_0x3274ef['type']){case _0x5af822['CanProvideMediaStream']:{const _0x492b13=this['currentDistance']>=_0x3274ef['distance']&&_0x3274ef[_0x316e5b(0x1e7)]<=this[_0x316e5b(0x708)],_0x8d8ccc=Array['from'](this[_0x316e5b(0x5c1)])[_0x316e5b(0x8e4)](_0x232900=>_0x232900[_0x316e5b(0x3d7)]===_0x20e001);_0x8d8ccc[_0x316e5b(0x16c)]=_0x492b13?_0x4285a6[_0x316e5b(0x655)]:_0x4285a6[_0x316e5b(0xa14)],_0x8d8ccc[_0x316e5b(0xa79)]=_0x3274ef[_0x316e5b(0xa79)],_0x8d8ccc[_0x316e5b(0x1e7)]=_0x3274ef[_0x316e5b(0x1e7)],_0x8d8ccc[_0x316e5b(0x4dc)]=_0x3274ef[_0x316e5b(0x4dc)],_0x8d8ccc[_0x316e5b(0xa50)]=Date[_0x316e5b(0x3fe)]()-this[_0x316e5b(0x269)],_0x8d8ccc['params']=this[_0x316e5b(0x48b)],_0x8d8ccc['ownerId']=_0x3274ef[_0x316e5b(0x3fd)],_0x8d8ccc[_0x316e5b(0x7fc)]=_0x3274ef[_0x316e5b(0x7fc)],_0x8d8ccc[_0x316e5b(0x20c)]=_0x3274ef['label'],_0x5b2279[_0x316e5b(0x66c)](_0x44d495[_0x316e5b(0xa65)],(_0x492b13?_0x316e5b(0x655):_0x316e5b(0xa14))+_0x316e5b(0x466),_0x8d8ccc);break;}case _0x5af822['CannotProvideMediaStream']:{const _0x34402d=Array[_0x316e5b(0x271)](this[_0x316e5b(0x5c1)])[_0x316e5b(0x8e4)](_0x5e3cc5=>_0x5e3cc5[_0x316e5b(0x3d7)]===_0x20e001);_0x34402d[_0x316e5b(0x16c)]=_0x4285a6['Rejected'],_0x5b2279[_0x316e5b(0x66c)](_0x44d495['Subscription'],'Rejected\x20answer',_0x34402d);break;}}if(this[_0x316e5b(0x599)]())return this[_0x316e5b(0x7f7)]();}['chooseAnswer'](){const _0x2e836a=_0x3149ab,_0x5c2067=Array[_0x2e836a(0x271)](this[_0x2e836a(0x5c1)])[_0x2e836a(0x683)](_0x5052c8=>_0x5052c8[_0x2e836a(0x16c)]===_0x4285a6['Accepted'])[_0x2e836a(0x69d)]((_0x57501a,_0x14707e)=>_0x57501a['cost']===_0x14707e[_0x2e836a(0xa79)]?_0x57501a[_0x2e836a(0xa50)]-_0x14707e[_0x2e836a(0xa50)]:_0x57501a['cost']-_0x14707e[_0x2e836a(0xa79)]);if(0x0===_0x5c2067[_0x2e836a(0x878)])throw new _0x224ab2(_0x224ab2[_0x2e836a(0x8b5)]['SubscriptionRequestNoAnswer'],{'answers':Array['from'](this[_0x2e836a(0x5c1)])[_0x2e836a(0x323)](_0x2bf48a=>({'nodeId':_0x2bf48a[_0x2e836a(0x3d7)],'type':_0x2bf48a[_0x2e836a(0x16c)]}))});return _0x5b2279[_0x2e836a(0x66c)](_0x44d495[_0x2e836a(0xa65)],_0x2e836a(0x77a),_0x5c2067[0x0],this['answers']),_0x5c2067[0x0];}['canChooseAnswer'](){const _0x3ecb22=_0x3149ab;for(const _0x5b6d5d of this['answers'])if(_0x5b6d5d[_0x3ecb22(0x16c)]===_0x4285a6[_0x3ecb22(0x334)])return!0x1;return!0x0;}}class _0x3d7b73{['label'];['contentType'];['listener']=_0x269228();constructor(_0x1a04f9,_0xe399fa){const _0x115969=_0x3149ab;this[_0x115969(0x3a4)]=_0x1a04f9,this[_0x115969(0x1ea)]=_0xe399fa;}[_0x3149ab(0x8e1)](){return this['label'];}['getContentType'](){const _0x48e3ee=_0x3149ab;return this[_0x48e3ee(0x1ea)];}['registerSource'](_0x176962){const _0x4a8317=_0x3149ab;_0x176962[_0x4a8317(0x586)](this);}[_0x3149ab(0x999)](_0x4f065d){_0x4f065d['registerSubscriber'](this);}[_0x3149ab(0x415)](_0x139e7e){const _0x56382e=_0x3149ab;this[_0x56382e(0x90f)][_0x56382e(0x415)]({'topicLabel':this[_0x56382e(0x3a4)],'contentType':this['contentType'],'uuid':(0x0,_0x19ce97['v4'])(),'recipients':[],..._0x139e7e});}['subscribe'](_0x4d9612){const _0x4bcd32=_0x3149ab;return this[_0x4bcd32(0x90f)][_0x4bcd32(0x438)](_0x4d9612);}[_0x3149ab(0x780)](_0x518065){const _0x4c3b0c=_0x3149ab;_0x518065[_0x4c3b0c(0x534)](this);}['unregisterDestination'](_0x2ce86b){const _0x47391a=_0x3149ab;_0x2ce86b[_0x47391a(0x761)](this);}}class _0x342dd3{[_0x3149ab(0x860)]={'topics':new Map(),'subscriptions':new Map()};[_0x3149ab(0x18b)];constructor(_0x3b608e){const _0x45384b=_0x3149ab;this[_0x45384b(0x18b)]=_0x3b608e;}get[_0x3149ab(0x9d6)](){const _0x420070=_0x3149ab;return this[_0x420070(0x860)][_0x420070(0x9d6)];}get[_0x3149ab(0x119)](){const _0x5e540c=_0x3149ab;return this['maps'][_0x5e540c(0x119)];}[_0x3149ab(0x641)](_0x9c6b93,_0x3a7063){const _0x1fc7a5=_0x3149ab,_0x901c38=this[_0x1fc7a5(0x18b)](_0x3a7063),_0x10d757=_0x31346d(_0x9c6b93);if(!_0x901c38[_0x1fc7a5(0x163)])throw new _0x224ab2(_0x224ab2[_0x1fc7a5(0x8b5)][_0x1fc7a5(0x71a)],{'message':_0x10d757+':\x20'+_0x901c38[_0x1fc7a5(0x8b4)]+_0x1fc7a5(0x7cf)+_0x901c38[_0x1fc7a5(0x1ea)],'subscriptionType':_0x9c6b93,'subscription':_0x3a7063,'subscriptonParts':_0x901c38});const _0x562529=_0x18934f(_0x9c6b93,_0x901c38);if(this[_0x1fc7a5(0x860)][_0x1fc7a5(0x9d6)][_0x1fc7a5(0x2a7)](_0x562529))throw new _0x224ab2(_0x224ab2[_0x1fc7a5(0x8b5)][_0x1fc7a5(0x71a)],{'message':_0x10d757+':\x20'+_0x562529+_0x1fc7a5(0x92c),'subscriptionType':_0x9c6b93,'subscription':_0x3a7063,'subscriptonParts':_0x901c38});this[_0x1fc7a5(0x860)][_0x1fc7a5(0x9d6)][_0x1fc7a5(0x491)](_0x562529,_0x3a7063),this['createTopic'](_0x901c38,_0x3a7063);}[_0x3149ab(0x20a)](_0x157b08,_0x837fee){const _0x591411=_0x3149ab,_0x3ecd89=_0x18934f(_0x837fee,_0x157b08),_0x34f2a1=this[_0x591411(0x860)][_0x591411(0x9d6)][_0x591411(0x524)](_0x3ecd89);if(!_0x34f2a1)throw new _0x224ab2(_0x224ab2[_0x591411(0x8b5)][_0x591411(0x71a)],{'message':_0x31346d(_0x837fee)+':\x20'+_0x3ecd89+_0x591411(0x766),'subscriptionType':_0x837fee,'subscription':_0x34f2a1,'subscriptonParts':_0x157b08});this[_0x591411(0x79e)](_0x34f2a1,_0x3ecd89,_0x157b08);}[_0x3149ab(0x79e)](_0x27282c,_0x556173,_0x51b635){const _0x15c80f=_0x3149ab;_0x51b635=_0x51b635||this['getPartsFromSubscription'](_0x27282c),this[_0x15c80f(0x860)][_0x15c80f(0x9d6)][_0x15c80f(0x979)](_0x556173),this[_0x15c80f(0x35b)](_0x51b635,_0x27282c);}[_0x3149ab(0x874)](_0xb14498,{source:_0x7731c8,destination:_0x1a7347}){const _0x10be74=_0x3149ab,{contentType:_0x256dc2,label:_0x1359ff,remoteId:_0xf0a3b4}=_0xb14498,_0x99fb89=_0xc210b8(_0x256dc2,_0x1359ff,_0xf0a3b4),_0x319466=new _0x3d7b73(_0x99fb89,_0x256dc2);_0x319466[_0x10be74(0x72d)](_0x7731c8),_0x319466['registerDestination'](_0x1a7347),this['maps']['topics'][_0x10be74(0x491)](_0x319466[_0x10be74(0x8e1)](),_0x319466);}[_0x3149ab(0x35b)](_0x510a15,_0x100b48){const _0x4f1e86=_0x3149ab,{contentType:_0x11c922,label:_0x9f24e7,remoteId:_0x286648}=_0x510a15,_0x5a7d96=_0xc210b8(_0x11c922,_0x9f24e7,_0x286648),_0x2c9bb7=this[_0x4f1e86(0x860)][_0x4f1e86(0x119)]['get'](_0x5a7d96);_0x2c9bb7&&(this[_0x4f1e86(0x7dc)](_0x2c9bb7,_0x100b48),this[_0x4f1e86(0x860)][_0x4f1e86(0x119)][_0x4f1e86(0x979)](_0x5a7d96));}[_0x3149ab(0x7dc)](_0x29d39f,{source:_0x16aa7c,destination:_0xfc578a}){const _0x1bdcea=_0x3149ab;_0x29d39f[_0x1bdcea(0x780)](_0x16aa7c),_0x29d39f[_0x1bdcea(0xac5)](_0xfc578a);}[_0x3149ab(0x3b9)](_0x21cd32){const _0x305f8f=_0x3149ab;this['maps'][_0x305f8f(0x9d6)][_0x305f8f(0x1d0)]((_0x23b89e,_0x2354c7)=>{const _0x58c238=_0x305f8f;_0x2354c7[_0x58c238(0x9d2)](_0x21cd32)&&this[_0x58c238(0x79e)](_0x23b89e,_0x2354c7);});}}class _0x10858c{[_0x3149ab(0x5a0)];[_0x3149ab(0x708)];[_0x3149ab(0xa0f)]=new Map();[_0x3149ab(0x5af)]=_0x2e2141(new _0x269071(this[_0x3149ab(0x256)][_0x3149ab(0x26b)](this),()=>_0x39ab67[_0x3149ab(0x1a0)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();[_0x3149ab(0x860)];[_0x3149ab(0x9fb)]=new Map();constructor(_0x3c54f4,_0x56d651){const _0x4228ca=_0x3149ab;this['configs']=_0x3c54f4,this[_0x4228ca(0x708)]=_0x56d651,this[_0x4228ca(0x860)]=new _0x342dd3(({source:_0x4b3890,destination:_0x1fc673})=>_0x1ce67a(_0x1fc673,_0x4b3890));}['createSubscription'](_0x1be1a3,_0x4f52be){const _0x28796c=_0x3149ab,_0x560621=this[_0x28796c(0x3f8)](_0x1be1a3)&&this['isMediaDestination'](_0x4f52be)?new _0x534e0b(_0x1be1a3,_0x4f52be):new _0xd6750e(_0x1be1a3,_0x4f52be);this['maps'][_0x28796c(0x641)](_0x4f07c1['Incoming'],_0x560621),this[_0x28796c(0x5a0)][_0x28796c(0x8f7)]['registerSystemSource'](_0x560621);}[_0x3149ab(0x20a)](_0x68bc38,_0x2d7e56,_0x23e09d=''){const _0x59b143=_0x3149ab,_0x3fa317={'contentType':_0x2d7e56,'label':_0x68bc38,'remoteId':_0x23e09d},_0x51e3d4=_0x18934f(_0x4f07c1[_0x59b143(0x31a)],_0x3fa317),_0xf4aad9=this['maps'][_0x59b143(0x9d6)][_0x59b143(0x524)](_0x51e3d4);_0xf4aad9&&this[_0x59b143(0x79e)](_0xf4aad9,_0x51e3d4);}[_0x3149ab(0x764)](_0x5a4459){const _0x1866f3=_0x3149ab;this[_0x1866f3(0x6f5)](_0x5a4459);}[_0x3149ab(0x5c5)]({label:_0x3e3582,ownerId:_0x5e3643,trackKinds:_0x44034b,params:_0x3c7c48}){const _0x3c0daf=_0x3149ab;this[_0x3c0daf(0x74e)](_0x3e3582,_0x5e3643,_0x44034b,_0x3c7c48);}['handleContentUpdateMediaStream']({ownerId:_0x59a538,label:_0x8d8f3c,params:_0x51a060}){const _0x158fa7=_0x3149ab,{subscriptionLabel:_0xa24293}=this[_0x158fa7(0x44b)](_0x8d8f3c,_0x59a538),_0x4aa650=this['getMediaSubscription'](_0xa24293);_0x4aa650&&_0x4aa650['update'](_0x59a538,_0x51a060);}[_0x3149ab(0xae2)]({ownerId:_0x449fc9,label:_0x4be12c,trackKinds:_0x31b357,remainingTracks:_0x429235}){const _0x590071=_0x3149ab,_0x313943=_0x18934f(_0x4f07c1[_0x590071(0x31a)],{'contentType':_0x3a4c7c[_0x590071(0x346)][_0x590071(0x1a2)],'label':_0x4be12c,'remoteId':_0x449fc9});this[_0x590071(0x382)](_0x313943);const _0x119696=this[_0x590071(0xa0f)][_0x590071(0x524)](_0x313943);_0x119696&&(this[_0x590071(0x5a0)][_0x590071(0x8f7)][_0x590071(0x41a)](_0x119696),this['subscriptionRequests'][_0x590071(0x979)](_0x313943));const {parts:_0x2cb85a,subscriptionLabel:_0x9e000e}=this[_0x590071(0x44b)](_0x4be12c,_0x449fc9),_0x2b34fc=this[_0x590071(0x7d7)](_0x9e000e);_0x2b34fc&&(_0x2b34fc[_0x590071(0x3e9)](_0x449fc9,_0x429235,_0x31b357),0x0===_0x429235&&this[_0x590071(0x20a)](_0x2cb85a['label'],_0x2cb85a[_0x590071(0x1ea)],_0x2cb85a[_0x590071(0x8b4)]));}[_0x3149ab(0x568)](_0x129471,{label:_0x127b91,ownerId:_0x88b20e,trackKinds:_0x47c33b,streamId:_0x376960,params:_0x22751f}){const _0x198e34=_0x3149ab,_0x9169a0=_0x18934f(_0x4f07c1[_0x198e34(0x31a)],{'contentType':_0x3a4c7c[_0x198e34(0x346)]['Media'],'label':_0x376960,'remoteId':_0x129471}),_0x372c14=this[_0x198e34(0x860)][_0x198e34(0x9d6)][_0x198e34(0x524)](_0x9169a0);if(!(_0x372c14&&_0x372c14 instanceof _0x534e0b))throw new _0x224ab2(_0x224ab2['codes'][_0x198e34(0x94f)],{'label':_0x9169a0,'ownerId':_0x88b20e});this['closeSubscription'](_0x372c14,_0x9169a0),this[_0x198e34(0x74e)](_0x127b91,_0x88b20e,_0x47c33b,_0x22751f);}[_0x3149ab(0x33f)](_0x16d018,_0x1156f1){const _0x256063=_0x3149ab,{label:_0x21ee9b,ownerId:_0x2b99ed,trackKinds:_0x103e73,params:_0x28b4e8}=_0x1156f1,_0x33eec4=_0x18934f(_0x4f07c1[_0x256063(0x31a)],{'contentType':_0x3a4c7c[_0x256063(0x346)][_0x256063(0x1a2)],'label':_0x21ee9b,'remoteId':_0x2b99ed});if(!this[_0x256063(0xa0f)][_0x256063(0x2a7)](_0x33eec4))throw new _0x224ab2(_0x224ab2[_0x256063(0x8b5)][_0x256063(0x94f)],{'label':_0x33eec4,'ownerId':_0x2b99ed,'streamId':_0x1156f1[_0x256063(0x4dc)],'requests':this[_0x256063(0xa0f)]});const _0x1337f4=this['subscriptionRequests']['get'](_0x33eec4);if(_0x103e73[_0x256063(0x878)]===_0x1337f4[_0x256063(0x4a5)]()[_0x256063(0x878)]&&_0x103e73[_0x256063(0xa61)](_0x4de637=>_0x1337f4['getTracks']()['includes'](_0x4de637)))try{const _0x1c3757=_0x1337f4[_0x256063(0x7c4)](_0x16d018,_0x1156f1);if(!_0x1c3757)return;this['subscribe'](_0x1c3757,_0x2b99ed,_0x21ee9b,_0x33eec4,_0x103e73);}catch(_0x471ced){return void this['handleNoAnswer'](_0x21ee9b,_0x2b99ed,_0x103e73,_0x28b4e8);}}['handleSubscriptionMediaStreamUnavailable'](_0x1d05be,{label:_0x292b72,ownerId:_0x1f9620,trackKinds:_0x10e8c3}){const _0x111bf6=_0x3149ab,_0x1cdec5=this[_0x111bf6(0x5a0)]['mediator']['getRemoteMediaStream'](_0x1f9620,_0x292b72);if(!_0x1cdec5)return;const _0x207950=_0x1cdec5[_0x111bf6(0x529)](),_0x93be12=_0x1cdec5['getSubscribedTracks']();_0x93be12[_0x111bf6(0x3da)](_0x380ba0=>_0x10e8c3[_0x111bf6(0x24c)](_0x380ba0))&&this[_0x111bf6(0x760)](_0x1d05be,_0x292b72,_0x207950,_0x1f9620,_0x93be12);}[_0x3149ab(0x176)]({label:_0x53adfc,providerId:_0x211fc,ownerId:_0x5de40b,streamId:_0x275d8c,trackKinds:_0x43e639}){const _0x238a7e=_0x3149ab;this[_0x238a7e(0x760)](_0x211fc,_0x53adfc,_0x275d8c,_0x5de40b,_0x43e639);}[_0x3149ab(0x977)](_0x6ecb7f){const _0x36647a=_0x3149ab;for(const _0x38e928 of this[_0x36647a(0x9fb)][_0x36647a(0x6da)]()){const {streamLabel:_0x183d5e,ownerId:_0x18f626,trackKinds:_0x443d6f,params:_0x4feebf}=_0x38e928;if(!_0x18f626||!_0x443d6f||!_0x183d5e)return;this[_0x36647a(0x5af)]['push']({'label':_0x183d5e,'ownerId':_0x18f626,'trackKinds':_0x443d6f,'params':_0x4feebf,'remoteId':_0x6ecb7f});}}['removeSubscriptionsForNode'](_0x4f75eb){const _0x2810bf=_0x3149ab;this[_0x2810bf(0x860)][_0x2810bf(0x9d6)][_0x2810bf(0x1d0)]((_0x38c442,_0x5074f7)=>{const _0x47df87=_0x2810bf;if(_0x5074f7[_0x47df87(0x9d2)](_0x4f75eb)){if(_0x38c442['destination'][_0x47df87(0x941)]()===_0x3a4c7c['ContentType']['Media']){const _0x1a33dd=_0x38c442[_0x47df87(0xa49)];if(_0x1a33dd['getSubscribedTracks']()[_0x47df87(0x878)]>0x0){const _0x1d4e0c={'type':_0x5af822[_0x47df87(0x8f3)],'label':_0x1a33dd[_0x47df87(0x8e1)](),'ownerId':_0x1a33dd[_0x47df87(0x84a)](),'trackKinds':_0x1a33dd['getSubscribedTracks']()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x4f75eb,_0x1d4e0c);}}this[_0x47df87(0x79e)](_0x38c442,_0x5074f7);}});}[_0x3149ab(0x11b)](){const _0x57768e=_0x3149ab;this[_0x57768e(0x860)]['subscriptions'][_0x57768e(0x1d0)](this[_0x57768e(0x79e)][_0x57768e(0x26b)](this));}[_0x3149ab(0x438)](_0x78857c,_0x18d838,_0x6e91,_0x4e20c0,_0x28c05b){const _0x39b4d9=_0x3149ab,_0xf18268=this[_0x39b4d9(0x5a0)][_0x39b4d9(0x8f7)]['getConnection'](_0x78857c[_0x39b4d9(0x3d7)]),_0x2c9b06=this[_0x39b4d9(0x5a0)][_0x39b4d9(0x8f7)][_0x39b4d9(0x6a7)](_0x18d838,_0x6e91);this['clearSubscriptionRequestTimeout'](_0x4e20c0),this[_0x39b4d9(0xa0f)][_0x39b4d9(0x2a7)](_0x4e20c0)&&(this[_0x39b4d9(0x5a0)][_0x39b4d9(0x8f7)][_0x39b4d9(0x41a)](this['subscriptionRequests']['get'](_0x4e20c0)),this['subscriptionRequests'][_0x39b4d9(0x979)](_0x4e20c0)),this['cleanOldSubscription'](_0x78857c,_0x18d838,_0x6e91,_0x2c9b06),_0x2c9b06[_0x39b4d9(0x680)](_0x78857c[_0x39b4d9(0x4dc)]),_0x2c9b06[_0x39b4d9(0xaa5)](_0x78857c[_0x39b4d9(0x3d7)]);const _0x4f2ebf=_0x1ce67a(_0x2c9b06,_0xf18268),_0x220bc2=_0x18934f(_0x4f07c1['Incoming'],_0x4f2ebf);this[_0x39b4d9(0x860)]['subscriptions'][_0x39b4d9(0x2a7)](_0x220bc2)||this[_0x39b4d9(0x641)](_0xf18268,_0x2c9b06);const _0x4d6b8b=this['maps'][_0x39b4d9(0x9d6)][_0x39b4d9(0x524)](_0x220bc2);if(!(_0x4d6b8b&&_0x4d6b8b instanceof _0x534e0b))throw new _0x224ab2(_0x224ab2[_0x39b4d9(0x8b5)][_0x39b4d9(0x94f)],{'label':_0x4e20c0,'ownerId':_0x18d838});_0x5b2279[_0x39b4d9(0x4fb)](_0x39b4d9(0x9c1),{'clusterId':this['configs'][_0x39b4d9(0x8ae)],'nodeId':this[_0x39b4d9(0x5a0)][_0x39b4d9(0x9ba)][_0x39b4d9(0x394)](),'nodeType':this['configs'][_0x39b4d9(0x9ba)][_0x39b4d9(0x16c)],'data':{'subscriptionLabel':_0x220bc2,'chosenAnswer':_0x78857c}}),this[_0x39b4d9(0x9fb)][_0x39b4d9(0x491)](_0x220bc2,_0x78857c),_0x4d6b8b[_0x39b4d9(0x438)](_0x18d838,_0x28c05b,_0x78857c[_0x39b4d9(0x48b)]);}[_0x3149ab(0x6f5)]({ownerId:_0x386164,label:_0x46d07c}){const _0x381020=_0x3149ab,_0x1bb645=this[_0x381020(0x5a0)][_0x381020(0x8f7)][_0x381020(0x6a7)](_0x386164,_0x46d07c),[_0x39d6d7,_0x48d430]=Array[_0x381020(0x271)](this[_0x381020(0x860)][_0x381020(0x9d6)][_0x381020(0x2ac)]())['find'](([_0x5e6c83,_0x3c43c4])=>-0x1!==_0x5e6c83[_0x381020(0x9b2)](_0x1bb645[_0x381020(0x529)]()));return this[_0x381020(0x79e)](_0x48d430,_0x39d6d7);}[_0x3149ab(0x79e)](_0x2545ab,_0x33655b){const _0x48caf5=_0x3149ab;this['configs'][_0x48caf5(0x8f7)][_0x48caf5(0x41a)](_0x2545ab),this[_0x48caf5(0x860)][_0x48caf5(0x79e)](_0x2545ab,_0x33655b);}[_0x3149ab(0x3f8)](_0x7db285){const _0x1bc9d0=_0x3149ab;return _0x7db285['getSupportedContentTypes']()[_0x1bc9d0(0x24c)](_0x3a4c7c['ContentType'][_0x1bc9d0(0x1a2)]);}[_0x3149ab(0x81d)](_0x33582b){const _0x2049de=_0x3149ab;return _0x33582b[_0x2049de(0x941)]()===_0x3a4c7c[_0x2049de(0x346)][_0x2049de(0x1a2)];}async[_0x3149ab(0x31b)](_0x4dace2,_0xa057df,_0x36f56d,_0x4e1f2c){const _0x23c17e=_0x3149ab;await _0x39ab67['wait'](0x3e8);const _0x4b69c6=_0x18934f(_0x4f07c1['Incoming'],{'contentType':_0x3a4c7c['ContentType'][_0x23c17e(0x1a2)],'label':_0x4dace2,'remoteId':_0xa057df});this['clearSubscriptionRequestTimeout'](_0x4b69c6);const _0x3423c7=this[_0x23c17e(0xa0f)]['get'](_0x4b69c6);if(!_0x3423c7)throw new _0x224ab2(_0x224ab2[_0x23c17e(0x8b5)]['SubscriptionRequestDoesNotExist'],{'label':_0x4b69c6,'ownerId':_0xa057df});const _0x38f768=this[_0x23c17e(0x5a0)][_0x23c17e(0x8f7)]['getConnections'](_0x2709c6=>_0x2709c6[_0x23c17e(0x8cc)]()),_0x4f7cf8=this['configs']['mediator']['getDistance'](this[_0x23c17e(0x5a0)][_0x23c17e(0x9ba)]['getId'](),_0xa057df);_0x3423c7[_0x23c17e(0x626)](_0x38f768[_0x23c17e(0x323)](_0x2d22dd=>_0x2d22dd[_0x23c17e(0xa57)]()),_0x4f7cf8);try{_0x3423c7['sendRequest'](this[_0x23c17e(0x5a0)][_0x23c17e(0x9ba)]['getId'](),_0xa057df,_0x4dace2,_0x36f56d,_0x4e1f2c),this[_0x23c17e(0x89c)](_0x4dace2,_0xa057df,_0x36f56d,_0x4e1f2c,_0x4b69c6,_0x3423c7);}catch(_0x55f4f7){this[_0x23c17e(0x5af)][_0x23c17e(0x7e8)]({'label':_0x4dace2,'ownerId':_0xa057df,'trackKinds':_0x36f56d,'params':_0x4e1f2c});}}[_0x3149ab(0x74e)](_0x460970,_0x1dcc3b,_0x27524d,_0x4c7e46){const _0x3a2b3b=_0x3149ab;this[_0x3a2b3b(0x5af)][_0x3a2b3b(0x7e8)]({'label':_0x460970,'ownerId':_0x1dcc3b,'trackKinds':_0x27524d,'params':_0x4c7e46});}[_0x3149ab(0x256)]({label:_0x1004fe,ownerId:_0x147af7,trackKinds:_0x390134,params:_0x198354,remoteId:_0x246e02}){const _0x2fcca8=_0x3149ab;if(!this[_0x2fcca8(0x5a0)][_0x2fcca8(0x8f7)][_0x2fcca8(0x6a7)](_0x147af7,_0x1004fe))return;if(!this[_0x2fcca8(0x5a0)]['mediator'][_0x2fcca8(0xad3)]()[_0x2fcca8(0x21c)]())throw new Error(_0x2fcca8(0x6eb));if(_0x246e02){const _0x50e308=this[_0x2fcca8(0x5a0)]['mediator'][_0x2fcca8(0x88d)]()[_0x2fcca8(0x8e4)](_0x120a35=>_0x120a35[_0x2fcca8(0x394)]()===_0x246e02),_0xf5038=_0x50e308?.[_0x2fcca8(0x21c)]();if(!_0x50e308||!_0xf5038)throw new Error(_0x2fcca8(0xa06));const _0x2ccf5d=this['configs'][_0x2fcca8(0x8f7)][_0x2fcca8(0x88d)]()[_0x2fcca8(0x8e4)](_0x58c6c3=>_0x58c6c3[_0x2fcca8(0x394)]()===_0x147af7),_0x34aa46=_0x2ccf5d?.['getRank']();if(!_0x2ccf5d||!_0x34aa46)throw new Error(_0x2fcca8(0x377));const _0x5437ef=this[_0x2fcca8(0x9fb)][_0x2fcca8(0x524)](_0x1004fe);if(_0x5437ef){const _0x18787b=this[_0x2fcca8(0x5a0)]['mediator'][_0x2fcca8(0x88d)]()[_0x2fcca8(0x8e4)](_0x1376c2=>_0x1376c2[_0x2fcca8(0x394)]()===_0x5437ef[_0x2fcca8(0x3d7)]),_0x4e79e3=_0x18787b?.['getRank']();if(!_0x18787b||!_0x4e79e3)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0x2fcca8(0x681)](_0x4e79e3-_0x34aa46)<Math[_0x2fcca8(0x681)](_0xf5038-_0x34aa46))return;}}const _0x2826e4=this['configs'][_0x2fcca8(0x8f7)]['getConnections'](_0x29e6f9=>_0x29e6f9['isConnected']()&&(!_0x246e02||_0x29e6f9['getRemoteId']()===_0x246e02));if(!_0x2826e4['length']||0x0===_0x2826e4['length'])throw new Error(_0x2fcca8(0x608));const _0x1e1587=this['configs']['mediator'][_0x2fcca8(0xac3)](this[_0x2fcca8(0x5a0)][_0x2fcca8(0x9ba)][_0x2fcca8(0x394)](),_0x147af7),_0x47f4d5=_0x18934f(_0x4f07c1[_0x2fcca8(0x31a)],{'contentType':_0x3a4c7c[_0x2fcca8(0x346)]['Media'],'label':_0x1004fe,'remoteId':_0x147af7});if(this['subscriptionRequests'][_0x2fcca8(0x2a7)](_0x47f4d5)){if(_0x246e02)throw new Error(_0x2fcca8(0x348));const _0x2e52bb=this[_0x2fcca8(0xa0f)][_0x2fcca8(0x524)](_0x47f4d5)[_0x2fcca8(0x4a5)]();if(_0x2e52bb[_0x2fcca8(0x878)]===_0x390134[_0x2fcca8(0x878)]&&_0x2e52bb[_0x2fcca8(0xa61)](_0x2715c4=>_0x390134[_0x2fcca8(0x24c)](_0x2715c4)))return;this[_0x2fcca8(0x5a0)][_0x2fcca8(0x8f7)]['unregisterSystemSource'](this['subscriptionRequests'][_0x2fcca8(0x524)](_0x47f4d5)),this['subscriptionRequests'][_0x2fcca8(0x979)](_0x47f4d5),_0x390134=Array[_0x2fcca8(0x271)](new Set(_0x390134[_0x2fcca8(0x58f)](_0x2e52bb))),this[_0x2fcca8(0x382)](_0x47f4d5);}const _0x57bcf8=new _0x51ee8b(_0x2826e4[_0x2fcca8(0x323)](_0x2a8f4f=>_0x2a8f4f[_0x2fcca8(0xa57)]()),_0x1e1587,this[_0x2fcca8(0x708)],_0x390134);this[_0x2fcca8(0x5a0)][_0x2fcca8(0x8f7)][_0x2fcca8(0xa68)](_0x57bcf8),this['subscriptionRequests']['set'](_0x47f4d5,_0x57bcf8),_0x57bcf8[_0x2fcca8(0x94a)](this[_0x2fcca8(0x5a0)][_0x2fcca8(0x9ba)][_0x2fcca8(0x394)](),_0x147af7,_0x1004fe,_0x390134,_0x198354),this['setSubscriptionRequestTimeout'](_0x1004fe,_0x147af7,_0x390134,_0x198354,_0x47f4d5,_0x57bcf8);}['clearSubscriptionRequestTimeout'](_0x4ebcff){const _0x29cf13=_0x3149ab;this[_0x29cf13(0x478)]['has'](_0x4ebcff)&&(clearTimeout(this['subscriptionRequestTimeouts']['get'](_0x4ebcff)),this[_0x29cf13(0x478)][_0x29cf13(0x979)](_0x4ebcff));}[_0x3149ab(0x89c)](_0x2daa86,_0x5c00c5,_0x152785,_0x38a25a,_0x36b4b6,_0x41aca4){const _0xd07980=_0x3149ab;this['clearSubscriptionRequestTimeout'](_0x36b4b6),this[_0xd07980(0x478)][_0xd07980(0x491)](_0x36b4b6,setTimeout(()=>{const _0x1c133f=_0xd07980;this[_0x1c133f(0x478)][_0x1c133f(0x979)](_0x36b4b6);try{const _0x39fe1e=_0x41aca4[_0x1c133f(0x7f7)]();this[_0x1c133f(0x438)](_0x39fe1e,_0x5c00c5,_0x2daa86,_0x36b4b6,_0x152785);}catch(_0x3d9ed7){this[_0x1c133f(0x31b)](_0x2daa86,_0x5c00c5,_0x152785,_0x38a25a);}},0x7d0));}['findNewMediaSubscription'](_0x1a8687,_0x2cfe2c,_0x1a76a1,_0x13ccb6,_0x45bece){const _0x450fe4=_0x3149ab,{subscriptionLabel:_0x3c5823}=this[_0x450fe4(0x44b)](_0x2cfe2c,_0x13ccb6),_0x4c3675=this[_0x450fe4(0x7d7)](_0x3c5823),_0x3869a5=_0x4c3675?.[_0x450fe4(0x48b)];_0x4c3675&&(_0x4c3675[_0x450fe4(0x3e9)](_0x13ccb6,0x0),this['removeSubscription'](_0x1a76a1,_0x3a4c7c[_0x450fe4(0x346)][_0x450fe4(0x1a2)],_0x1a8687)),this[_0x450fe4(0x74e)](_0x2cfe2c,_0x13ccb6,_0x45bece,_0x3869a5);}[_0x3149ab(0x7d7)](_0x132dc0){const _0x4d8a40=_0x3149ab,_0x880d10=this['maps'][_0x4d8a40(0x9d6)][_0x4d8a40(0x524)](_0x132dc0);if(_0x880d10){if(!(_0x880d10 instanceof _0x534e0b))throw new _0x224ab2(_0x224ab2[_0x4d8a40(0x8b5)]['InvalidSubscription'],{'label':_0x132dc0,'subscription':_0x880d10});return _0x880d10;}}['getSubscriptionLabel'](_0xe364b6,_0x3ea4c2){const _0x556afd=_0x3149ab,_0x3aca77=this[_0x556afd(0x18c)](_0xe364b6,_0x3ea4c2);return{'parts':_0x3aca77,'subscriptionLabel':_0x18934f(_0x4f07c1[_0x556afd(0x31a)],_0x3aca77)};}['getPartsForSubscriptionLabel'](_0x4d1d9f,_0x1e5db0){const _0x203ab0=_0x3149ab,_0x725a6b=this['configs'][_0x203ab0(0x8f7)][_0x203ab0(0x6a7)](_0x1e5db0,_0x4d1d9f),_0x498ac6=_0x725a6b[_0x203ab0(0x7a2)]();if(!_0x498ac6)throw new _0x224ab2(_0x224ab2[_0x203ab0(0x8b5)][_0x203ab0(0x802)],{'label':_0x4d1d9f,'streamId':_0x725a6b['getInternalStreamId'](),'ownerId':_0x1e5db0,'localId':this[_0x203ab0(0x5a0)]['localNode'][_0x203ab0(0x394)]()});return{'contentType':_0x3a4c7c[_0x203ab0(0x346)][_0x203ab0(0x1a2)],'label':_0x725a6b[_0x203ab0(0x529)](),'remoteId':_0x498ac6};}[_0x3149ab(0x6e9)](_0x2c5675,_0x5c3056,_0x4489bf,_0xe91350){const _0x1a5f9b=_0x3149ab,_0x29a61a=_0xe91350[_0x1a5f9b(0x7a2)]();if(_0x29a61a&&_0x29a61a!==_0x2c5675[_0x1a5f9b(0x3d7)]){const {parts:_0x585848,subscriptionLabel:_0x2be1ba}=this[_0x1a5f9b(0x44b)](_0x4489bf,_0x5c3056),_0x164916=this[_0x1a5f9b(0x7d7)](_0x2be1ba);_0x164916&&(_0x164916[_0x1a5f9b(0x3e9)](_0x5c3056,0x0),this[_0x1a5f9b(0x20a)](_0x585848[_0x1a5f9b(0x3a4)],_0x585848[_0x1a5f9b(0x1ea)],_0x585848[_0x1a5f9b(0x8b4)]));}}}class _0x3e28ec{[_0x3149ab(0x5a0)];[_0x3149ab(0x9b9)];[_0x3149ab(0x860)];constructor(_0x3c734c,_0x3fd2da){const _0x406f60=_0x3149ab;this[_0x406f60(0x5a0)]=_0x3c734c,this[_0x406f60(0x9b9)]=_0x3fd2da,this[_0x406f60(0x860)]=new _0x342dd3(({source:_0x1e05ad,destination:_0x2b35fc})=>_0x1ce67a(_0x1e05ad,_0x2b35fc));}[_0x3149ab(0x641)](_0x4709ec,_0x3a1fde){const _0x4f170f=_0x3149ab,_0x31c815={'source':_0x4709ec,'destination':_0x3a1fde};this[_0x4f170f(0x860)]['createSubscription'](_0x4f07c1[_0x4f170f(0x709)],_0x31c815);}[_0x3149ab(0x20a)](_0x56a2e1,_0x23d620,_0x527109=''){const _0x139813=_0x3149ab,_0xa8e4df={'contentType':_0x23d620,'label':_0x56a2e1,'remoteId':_0x527109};this['maps'][_0x139813(0x20a)](_0xa8e4df,_0x4f07c1['Outgoing']);}[_0x3149ab(0x9f4)](_0x1d986d,_0x382bf3){const _0x1dde7c=_0x3149ab;let _0x77b1b1;_0x77b1b1=_0x382bf3[_0x1dde7c(0x3fd)]!==this[_0x1dde7c(0x5a0)]['localNode'][_0x1dde7c(0x394)]()?this['configs'][_0x1dde7c(0x8f7)][_0x1dde7c(0x6a7)](_0x382bf3[_0x1dde7c(0x3fd)],_0x382bf3[_0x1dde7c(0x3a4)]):this['configs'][_0x1dde7c(0x8f7)][_0x1dde7c(0x9b0)](_0x382bf3[_0x1dde7c(0x3a4)]);const _0x3a738c=_0x18934f(_0x4f07c1[_0x1dde7c(0x709)],{'contentType':_0x3a4c7c[_0x1dde7c(0x346)][_0x1dde7c(0x1a2)],'label':_0x77b1b1[_0x1dde7c(0x583)](),'remoteId':_0x1d986d}),_0x6b4374=this[_0x1dde7c(0xa07)]();if(!this['maps'][_0x1dde7c(0x9d6)][_0x1dde7c(0x2a7)](_0x3a738c)&&_0x6b4374>=this['maxOutgoingSubscriptions'])return{'type':_0x5af822[_0x1dde7c(0x101)],'ownerId':_0x382bf3[_0x1dde7c(0x3fd)],'label':_0x382bf3['label'],'streamId':_0x77b1b1[_0x1dde7c(0x583)](),'trackKinds':_0x382bf3['trackKinds'],'params':_0x382bf3[_0x1dde7c(0x48b)]};_0x77b1b1 instanceof _0x6bdcf4&&!_0x77b1b1[_0x1dde7c(0x969)](_0x382bf3[_0x1dde7c(0x7fc)])&&_0x77b1b1[_0x1dde7c(0x438)](_0x382bf3[_0x1dde7c(0x48b)]),this[_0x1dde7c(0x860)][_0x1dde7c(0x9d6)][_0x1dde7c(0x2a7)](_0x3a738c)||this[_0x1dde7c(0x641)](_0x77b1b1[_0x1dde7c(0xaad)](_0x1d986d),this['configs'][_0x1dde7c(0x8f7)][_0x1dde7c(0x5c3)](_0x1d986d));}[_0x3149ab(0x55a)](_0x5a93c7,{label:_0x3ca80e,ownerId:_0x29fa61,remainingTracks:_0x4bfd99}){const _0x2d8b97=_0x3149ab;if(_0x4bfd99>0x0)return;let _0x50f795;_0x50f795=_0x29fa61!==this[_0x2d8b97(0x5a0)]['localNode'][_0x2d8b97(0x394)]()?this[_0x2d8b97(0x5a0)][_0x2d8b97(0x8f7)][_0x2d8b97(0x6a7)](_0x29fa61,_0x3ca80e):this[_0x2d8b97(0x5a0)][_0x2d8b97(0x8f7)][_0x2d8b97(0x9b0)](_0x3ca80e);const _0x2ddcdb=_0x50f795[_0x2d8b97(0x583)](),_0x3063a7=_0x3a4c7c[_0x2d8b97(0x346)][_0x2d8b97(0x1a2)];this[_0x2d8b97(0x20a)](_0x2ddcdb,_0x3063a7,_0x5a93c7);}[_0x3149ab(0xae2)](_0x479b38,{label:_0x1c816f,ownerId:_0x198174,trackKinds:_0x408d41}){const _0x592be3=_0x3149ab;if(_0x479b38!==_0x120f23)return[];let _0x6b2220=[];for(const _0x5e5e7b of this['maps'][_0x592be3(0x9d6)]){const {source:_0x4e04dd,destination:_0x5e3fef}=_0x5e5e7b[0x1];_0x4e04dd[_0x592be3(0x8e1)]()===_0x1c816f&&_0x4e04dd[_0x592be3(0x84a)]()===_0x198174&&_0x6b2220[_0x592be3(0x7e8)]({'sourceId':this[_0x592be3(0x5a0)][_0x592be3(0x9ba)][_0x592be3(0x394)](),'destinationIds':[_0x5e3fef[_0x592be3(0xa57)]()],'messageType':_0x23b53c[_0x592be3(0xa65)],'content':{'type':_0x5af822[_0x592be3(0x8f3)],'label':_0x1c816f,'ownerId':_0x198174,'trackKinds':_0x408d41}});}return _0x6b2220;}[_0x3149ab(0x2b5)](_0x3469e1,_0x1a4e3b){const _0x5374b0=_0x3149ab,{label:_0x55980a,ownerId:_0x207124,trackKinds:_0x404de3,params:_0x4a2946}=_0x1a4e3b,{hasTracks:_0x1dd9a4,streamId:_0x4fc24c,hasResolution:_0x3c5c21,distance:_0x32f65a,subscriptionLabel:_0x3c9870}=this[_0x5374b0(0x2c8)](_0x3469e1,_0x1a4e3b);let _0x499b8d=this[_0x5374b0(0xa07)]()<this[_0x5374b0(0x9b9)]&&(_0x1dd9a4||_0x32f65a>-0x1)?_0x5af822[_0x5374b0(0x474)]:_0x5af822[_0x5374b0(0x5a9)];const _0x10deb8=_0x32f65a<0x0?0xa:_0x32f65a;let _0x31cf09=_0x1dd9a4?_0x3c5c21?_0x10deb8:_0x10deb8+0x0:_0x10deb8+0xa;return _0x3c9870&&this[_0x5374b0(0x860)][_0x5374b0(0x9d6)][_0x5374b0(0x2a7)](_0x3c9870)&&(_0x1dd9a4&&(_0x31cf09=0x0),_0x499b8d=_0x5af822[_0x5374b0(0x474)]),{'type':_0x499b8d,'cost':_0x31cf09,'distance':_0x32f65a,'label':_0x55980a,'ownerId':_0x207124,'streamId':_0x4fc24c,'trackKinds':_0x404de3,'params':_0x4a2946};}[_0x3149ab(0x764)](_0xde567b){const _0x500372=_0x3149ab,{label:_0x31bf60,ownerId:_0x9cc004}=_0xde567b,_0x566971=this[_0x500372(0x5a0)][_0x500372(0x8f7)]['getRemoteMediaStream'](_0x9cc004,_0x31bf60);this[_0x500372(0x860)][_0x500372(0x9d6)][_0x500372(0x1d0)](_0x4e0907=>{const _0x52ef97=_0x500372;if(_0x4e0907[_0x52ef97(0xa01)][_0x52ef97(0x529)]()===_0x566971['getShareableStreamId']()){const _0x522992=_0x4e0907['destination'];this[_0x52ef97(0x20a)](_0x566971[_0x52ef97(0x583)](),_0x3a4c7c[_0x52ef97(0x346)]['Media'],_0x522992[_0x52ef97(0xa57)]());}});}[_0x3149ab(0x43c)]({label:_0x3cebb0}){const _0x5099ab=_0x3149ab,_0x1d56e4=this[_0x5099ab(0x5a0)][_0x5099ab(0x8f7)][_0x5099ab(0x9b0)](_0x3cebb0);this['maps']['subscriptions']['forEach'](_0x2436d0=>{const _0x1a6e3e=_0x5099ab;if(_0x2436d0[_0x1a6e3e(0xa01)]['getInternalStreamId']()===_0x1d56e4[_0x1a6e3e(0x583)]()){const _0x28774b=_0x2436d0['destination'];this[_0x1a6e3e(0x20a)](_0x1d56e4[_0x1a6e3e(0x583)](),_0x3a4c7c[_0x1a6e3e(0x346)][_0x1a6e3e(0x1a2)],_0x28774b[_0x1a6e3e(0xa57)]());}});}['removeSubscriptionsForNode'](_0x334394){const _0x3dccc7=_0x3149ab;this[_0x3dccc7(0x860)]['removeSubscriptionsForNode'](_0x334394);}[_0x3149ab(0x11b)](){const _0x58b608=_0x3149ab;this[_0x58b608(0x860)][_0x58b608(0x9d6)][_0x58b608(0x1d0)](this['closeSubscription']['bind'](this));}[_0x3149ab(0x79e)](_0x3477d5,_0x2b98c5){const _0x4ab846=_0x3149ab;this[_0x4ab846(0x860)][_0x4ab846(0x79e)](_0x3477d5,_0x2b98c5);}[_0x3149ab(0x2c8)](_0x46d9f6,{label:_0x450be3,ownerId:_0xc02181,trackKinds:_0x4d7696,params:_0x4d361e}){const _0x598fdf=_0x3149ab;if(_0xc02181!==this[_0x598fdf(0x5a0)][_0x598fdf(0x9ba)][_0x598fdf(0x394)]()){const _0x225102=this[_0x598fdf(0x5a0)][_0x598fdf(0x8f7)]['getRemoteMediaStream'](_0xc02181,_0x450be3);return _0x225102&&_0x225102[_0x598fdf(0x7a2)]()!==_0x46d9f6?{'hasTracks':_0x225102[_0x598fdf(0x871)](_0x4d7696),'hasResolution':this['canProvideResolution'](_0x225102['getResolution'](),_0x4d361e),'streamId':_0x225102[_0x598fdf(0x583)](),'distance':this['configs'][_0x598fdf(0x8f7)][_0x598fdf(0xac3)](_0x46d9f6,_0xc02181),'subscriptionLabel':_0x18934f(_0x4f07c1[_0x598fdf(0x709)],{'contentType':_0x3a4c7c['ContentType']['Media'],'label':_0x225102['getShareableStreamId'](),'remoteId':_0x46d9f6})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x1cc2c4=this[_0x598fdf(0x5a0)][_0x598fdf(0x8f7)][_0x598fdf(0x9b0)](_0x450be3);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x1cc2c4[_0x598fdf(0x583)](),'distance':0x0,'subscriptionLabel':_0x18934f(_0x4f07c1[_0x598fdf(0x709)],{'contentType':_0x3a4c7c[_0x598fdf(0x346)][_0x598fdf(0x1a2)],'label':_0x1cc2c4['getShareableStreamId'](),'remoteId':_0x46d9f6})};}[_0x3149ab(0xa07)](){const _0x238281=_0x3149ab;return Array[_0x238281(0x271)](this[_0x238281(0x860)][_0x238281(0x9d6)]['entries']())[_0x238281(0x683)](([_0x1e719e,{source:_0x5f595b}])=>_0x1e719e[_0x238281(0xa2f)](_0x4f07c1[_0x238281(0x709)])&&_0x5f595b['getContentType']()===_0x3a4c7c[_0x238281(0x346)][_0x238281(0x1a2)])[_0x238281(0x878)];}['canProvideResolution'](_0x44a922,_0x3f3124){const _0x4c5d4d=_0x3149ab;if(!_0x3f3124||!_0x3f3124[_0x4c5d4d(0x717)]||_0x4c5d4d(0x769)==typeof _0x3f3124[_0x4c5d4d(0x717)]||!_0x3f3124['video'][_0x4c5d4d(0x64b)])return!0x0;const {width:_0x13e206,height:_0x40aac1}=_0x3f3124[_0x4c5d4d(0x717)][_0x4c5d4d(0x64b)];return _0x44a922[_0x4c5d4d(0x44f)]>=_0x13e206&&_0x44a922[_0x4c5d4d(0x103)]>=_0x40aac1;}}class _0x4b652b{[_0x3149ab(0x5a0)];[_0x3149ab(0x9b9)];['maxDistance'];[_0x3149ab(0x364)];[_0x3149ab(0x75f)];[_0x3149ab(0x260)];constructor(_0x635272,_0x486d54,_0x248146){const _0x930b52=_0x3149ab;this['configs']=_0x635272,this[_0x930b52(0x9b9)]=_0x486d54,this[_0x930b52(0x708)]=_0x248146,this[_0x930b52(0x5a0)][_0x930b52(0x8f7)][_0x930b52(0xa68)](this),this[_0x930b52(0x75f)]=new _0x10858c(this[_0x930b52(0x5a0)],this[_0x930b52(0x708)]),this[_0x930b52(0x260)]=new _0x3e28ec(this[_0x930b52(0x5a0)],this[_0x930b52(0x9b9)]);}[_0x3149ab(0x9cd)](_0x331422){const _0x4ac2d2=_0x3149ab;this[_0x4ac2d2(0x364)]=_0x331422;}[_0x3149ab(0x8bd)](){const _0x3d8b46=_0x3149ab;delete this[_0x3d8b46(0x364)];}[_0x3149ab(0x11b)](){const _0x914e82=_0x3149ab;this[_0x914e82(0x75f)]['close'](),this[_0x914e82(0x260)]['close'](),this[_0x914e82(0x5a0)][_0x914e82(0x8f7)][_0x914e82(0x41a)](this);}[_0x3149ab(0x8e3)](_0x36f8ef,_0x20452e){const _0x238828=_0x3149ab;this[_0x238828(0x75f)]['createSubscription'](_0x36f8ef,_0x20452e);}[_0x3149ab(0x19d)](_0x24faa2,_0x5f31f0){const _0x44102a=_0x3149ab;this[_0x44102a(0x260)][_0x44102a(0x641)](_0x24faa2,_0x5f31f0);}['removeIncomingSubscription'](_0x5b296a,_0x27b163,_0x1fcdb6=''){const _0x151f59=_0x3149ab;this[_0x151f59(0x75f)][_0x151f59(0x20a)](_0x5b296a,_0x27b163,_0x1fcdb6);}['removeOutgoingSubscription'](_0x4fb04e,_0x1a6119,_0x3e8ddc=''){const _0x57963e=_0x3149ab;try{this[_0x57963e(0x260)][_0x57963e(0x20a)](_0x4fb04e,_0x1a6119,_0x3e8ddc);}catch(_0x18ce22){if(_0x18ce22 instanceof _0x224ab2&&_0x18ce22[_0x57963e(0x634)]===_0x224ab2[_0x57963e(0x8b5)][_0x57963e(0x71a)])return;}}['handleSubscriptionSystemEvents'](_0x472a04){const _0x422438=_0x3149ab;switch(_0x472a04['content']['type']){case _0x5af822[_0x422438(0x752)]:this[_0x422438(0x9f4)](_0x472a04[_0x422438(0x61f)],_0x472a04[_0x422438(0x130)]);break;case _0x5af822[_0x422438(0xae8)]:this[_0x422438(0x260)]['handleSubscriptionUnsubscribeMediaStream'](_0x472a04['sourceId'],_0x472a04[_0x422438(0x130)]);break;case _0x5af822[_0x422438(0x6d5)]:this[_0x422438(0x2b5)](_0x472a04[_0x422438(0x61f)],_0x472a04[_0x422438(0x130)]);break;case _0x5af822['RestartNeedMediaStream']:this[_0x422438(0x75f)][_0x422438(0x568)](_0x472a04[_0x422438(0x61f)],_0x472a04[_0x422438(0x130)]);break;case _0x5af822[_0x422438(0x474)]:case _0x5af822['CannotProvideMediaStream']:this[_0x422438(0x75f)]['handleSubscriptionProvideMediaStream'](_0x472a04[_0x422438(0x61f)],_0x472a04['content']);break;case _0x5af822[_0x422438(0x8f3)]:this[_0x422438(0x75f)]['handleSubscriptionMediaStreamUnavailable'](_0x472a04[_0x422438(0x61f)],_0x472a04[_0x422438(0x130)]);}}[_0x3149ab(0x3bc)](_0x322ad5){const _0x34e598=_0x3149ab;switch(_0x322ad5[_0x34e598(0x130)][_0x34e598(0x16c)]){case _0x253ba5[_0x34e598(0x704)]:this['incomingManager'][_0x34e598(0x764)](_0x322ad5['content']),this[_0x34e598(0x260)]['handleContentUnpublishMediaStream'](_0x322ad5[_0x34e598(0x130)]);break;case _0x253ba5['SubscribeMediaStream']:this['incomingManager'][_0x34e598(0x5c5)](_0x322ad5[_0x34e598(0x130)]);break;case _0x253ba5['UpdateMediaStream']:this[_0x34e598(0x75f)][_0x34e598(0x9e3)](_0x322ad5[_0x34e598(0x130)]);break;case _0x253ba5['UnsubscribeMediaStream']:this[_0x34e598(0xae2)](_0x322ad5['sourceId'],_0x322ad5[_0x34e598(0x130)]);break;case _0x253ba5[_0x34e598(0x455)]:this[_0x34e598(0x260)][_0x34e598(0x43c)](_0x322ad5[_0x34e598(0x130)]);break;case _0x253ba5[_0x34e598(0x495)]:this[_0x34e598(0x143)](_0x322ad5['content'][_0x34e598(0x3a4)],_0x3a4c7c[_0x34e598(0x346)][_0x34e598(0x293)]);break;case _0x253ba5[_0x34e598(0x28b)]:this[_0x34e598(0x143)](_0x322ad5['content'][_0x34e598(0x3a4)],_0x3a4c7c[_0x34e598(0x346)]['ObjectStore']);break;case _0x253ba5[_0x34e598(0x7ff)]:this['handleCloseContent'](_0x322ad5['content'][_0x34e598(0x3a4)],_0x3a4c7c[_0x34e598(0x346)][_0x34e598(0x393)]);break;case _0x253ba5['CloseKeyValueDatabase']:this['handleCloseContent'](_0x322ad5[_0x34e598(0x130)]['label'],_0x3a4c7c[_0x34e598(0x346)][_0x34e598(0x327)]);break;case _0x253ba5[_0x34e598(0x8aa)]:this[_0x34e598(0x143)](_0x322ad5['content']['label'],_0x3a4c7c[_0x34e598(0x346)][_0x34e598(0x4a4)]);break;case _0x253ba5[_0x34e598(0x1bd)]:this['handleCloseContent'](_0x322ad5['content']['label'],_0x3a4c7c[_0x34e598(0x346)][_0x34e598(0x22d)]);break;case _0x253ba5[_0x34e598(0x5b4)]:case _0x253ba5[_0x34e598(0x314)]:this[_0x34e598(0x143)](_0x322ad5['content'][_0x34e598(0x3a4)],_0x3a4c7c[_0x34e598(0x346)]['Job']);break;case _0x253ba5[_0x34e598(0x2ce)]:this['incomingManager'][_0x34e598(0x176)](_0x322ad5[_0x34e598(0x130)]);}}[_0x3149ab(0x513)]({content:_0x57b7c2}){const _0x9b8321=_0x3149ab;_0x57b7c2[_0x9b8321(0x16c)]===_0x27b120['NodeLeave']&&this[_0x9b8321(0x3b9)](_0x57b7c2);}[_0x3149ab(0x3a1)](_0x5bc920){const _0x47a288=_0x3149ab;_0x5bc920[_0x47a288(0x130)][_0x47a288(0x16c)]===_0x2d0fa6[_0x47a288(0x74b)]&&this[_0x47a288(0x75f)][_0x47a288(0x977)](_0x5bc920[_0x47a288(0x61f)]);}[_0x3149ab(0xae2)](_0x4ea89e,_0x5e81b0){const _0x419705=_0x3149ab;this[_0x419705(0x75f)][_0x419705(0xae2)](_0x5e81b0),this[_0x419705(0x260)][_0x419705(0xae2)](_0x4ea89e,_0x5e81b0)[_0x419705(0x1d0)](_0x507bae=>this[_0x419705(0x364)]['publish'](_0x507bae));}[_0x3149ab(0x9f4)](_0x5bb34a,_0x14b762){const _0x49e1aa=_0x3149ab,_0x30f84e=this['outgoingManager'][_0x49e1aa(0x9f4)](_0x5bb34a,_0x14b762);if(_0x30f84e&&(this['systemTopic'][_0x49e1aa(0x415)]({'sourceId':this['configs'][_0x49e1aa(0x9ba)][_0x49e1aa(0x394)](),'destinationIds':[_0x5bb34a],'messageType':_0x23b53c[_0x49e1aa(0xa65)],'content':_0x30f84e}),_0x30f84e['type']===_0x5af822[_0x49e1aa(0x101)]))throw new _0x530d99(_0x49e1aa(0x7c2));}[_0x3149ab(0x2b5)](_0x58d337,_0x4177dd){const _0x2d2338=_0x3149ab,_0x1653b8=this[_0x2d2338(0x260)][_0x2d2338(0x2b5)](_0x58d337,_0x4177dd);this[_0x2d2338(0x364)][_0x2d2338(0x415)]({'sourceId':this['configs'][_0x2d2338(0x9ba)]['getId'](),'destinationIds':[_0x58d337],'messageType':_0x23b53c[_0x2d2338(0xa65)],'content':_0x1653b8});}[_0x3149ab(0x143)](_0x305bb8,_0x4a7b50){const _0x353cc2=_0x3149ab;this[_0x353cc2(0x545)](_0x305bb8,_0x4a7b50),this['removeOutgoingSubscription'](_0x305bb8,_0x4a7b50);}['removeSubscriptionsForNode']({id:_0x4d9378}){const _0x355509=_0x3149ab;this[_0x355509(0x75f)]['removeSubscriptionsForNode'](_0x4d9378),this[_0x355509(0x260)]['removeSubscriptionsForNode'](_0x4d9378);}}class _0x3ff1c9{['label'];[_0x3149ab(0x90f)]=_0x269228();constructor(){const _0x421a07=_0x3149ab;this[_0x421a07(0x3a4)]=0x0;}[_0x3149ab(0x8e1)](){const _0x4594b3=_0x3149ab;return this[_0x4594b3(0x3a4)];}[_0x3149ab(0x941)](){const _0x5392f4=_0x3149ab;return _0x3a4c7c[_0x5392f4(0x346)]['Data'];}[_0x3149ab(0x72d)](_0x3afec5){const _0x149287=_0x3149ab;_0x3afec5[_0x149287(0x9cd)](this);}['unregisterSource'](_0x41dc47){const _0x3af936=_0x3149ab;_0x41dc47[_0x3af936(0x8bd)]();}[_0x3149ab(0x415)](_0x574944){const _0x56963b=_0x3149ab;_0x5b2279[_0x56963b(0x66c)](_0x44d495[_0x56963b(0x572)],_0x56963b(0x54e),_0x574944[_0x56963b(0x61f)],_0x574944),this[_0x56963b(0x90f)][_0x56963b(0x415)]({'topicLabel':this[_0x56963b(0x3a4)],'contentType':_0x3a4c7c[_0x56963b(0x346)][_0x56963b(0x719)],'uuid':_0x574944[_0x56963b(0x7ae)]??(0x0,_0x19ce97['v4'])(),'recipients':_0x574944[_0x56963b(0x6cb)]??[],..._0x574944});}[_0x3149ab(0x438)](_0x1e974c){const _0x48a142=_0x3149ab;return this[_0x48a142(0x90f)][_0x48a142(0x438)](_0x1e974c);}}class _0x367d7a{['options'];[_0x3149ab(0x73e)]=[];['maxLayer'];['remoteNodes']=new Map();[_0x3149ab(0x3d4)]=_0x269228();constructor(_0x104f5f){const _0x386d1f=_0x3149ab;this[_0x386d1f(0x818)]=_0x104f5f,this[_0x386d1f(0x109)]=(this[_0x386d1f(0x818)]['maxConnections']-0x2*this['options'][_0x386d1f(0xa39)])/0x2,this['ranges'][_0x386d1f(0x7e8)]({'start':0x1,'end':this[_0x386d1f(0x913)](0x1,0x1)-0x1});for(let _0x50f296=0x0;_0x50f296<this[_0x386d1f(0x109)];++_0x50f296)this[_0x386d1f(0x73e)]['push']({'start':this['getNextTargetRank'](0x1,_0x50f296+0x1),'end':this['getNextTargetRank'](0x1,_0x50f296+0x2)-0x1});}[_0x3149ab(0x913)](_0x5bc838,_0x11b028=0x1){const _0x306ef1=_0x3149ab;let _0x3b590d=this['options'][_0x306ef1(0x708)]-this[_0x306ef1(0x818)]['minConnections'],_0x2f6e80=0x1;for(let _0x700bfd=0x1;_0x700bfd<_0x11b028;++_0x700bfd)_0x3b590d*=this[_0x306ef1(0x818)][_0x306ef1(0x708)]-this['options'][_0x306ef1(0xa39)]-_0x700bfd,_0x2f6e80*=this['options'][_0x306ef1(0x708)]-this[_0x306ef1(0x818)][_0x306ef1(0xa39)]-_0x700bfd+0x1;return _0x3b590d*this[_0x306ef1(0x818)]['minConnections']+_0x5bc838-_0x2f6e80;}[_0x3149ab(0x3c5)](_0x3e8473){const _0xbb62a8=_0x3149ab;let _0x1a9498=0x0;for(;this['ranges'][_0x1a9498][_0xbb62a8(0x924)]<_0x3e8473;)_0x1a9498+=0x1;return _0x1a9498;}[_0x3149ab(0x79c)](){const _0x4d84ba=_0x3149ab;return this['options'][_0x4d84ba(0xa39)];}[_0x3149ab(0x707)](){const _0x1192ce=_0x3149ab;return this['options'][_0x1192ce(0x95a)];}[_0x3149ab(0x380)](){const _0x57a2e4=_0x3149ab;return this[_0x57a2e4(0x818)][_0x57a2e4(0x708)];}[_0x3149ab(0x88d)](){return this['remoteNodes'];}[_0x3149ab(0x435)](_0x5e2cc0,_0x453a62){const _0x5f0f5a=_0x3149ab;this[_0x5f0f5a(0x819)][_0x5f0f5a(0x491)](_0x5e2cc0,_0x453a62),this[_0x5f0f5a(0x3d4)]['publish']();}[_0x3149ab(0x5bf)](_0x22a7f4){const _0x1c548=_0x3149ab;this[_0x1c548(0x819)][_0x1c548(0x979)](_0x22a7f4),this[_0x1c548(0x3d4)][_0x1c548(0x415)]();}[_0x3149ab(0x70b)](_0x3889ad){const _0x482bc5=_0x3149ab;return this['remoteNodes'][_0x482bc5(0x2a7)](_0x3889ad);}['getRemoteNode'](_0x201a62){const _0x8a4e1e=_0x3149ab;return this[_0x8a4e1e(0x819)]['get'](_0x201a62);}[_0x3149ab(0x245)](_0x4b880c,_0x19c7e5){const _0x5bfeab=_0x3149ab,_0x632adf=this[_0x5bfeab(0x142)](_0x19c7e5)?.[_0x5bfeab(0x21c)]()??0x0;return _0x4b880c[_0x5bfeab(0x323)](_0x2b31de=>this[_0x5bfeab(0x142)](_0x2b31de))[_0x5bfeab(0x683)](_0x1d867e=>void 0x0!==_0x1d867e)['sort']((_0x400ffb,_0x47b024)=>Math[_0x5bfeab(0x681)](_0x632adf-(_0x400ffb&&_0x400ffb[_0x5bfeab(0x21c)]()||0x1/0x0))-Math[_0x5bfeab(0x681)](_0x632adf-(_0x47b024&&_0x47b024[_0x5bfeab(0x21c)]()||0x1/0x0)))[_0x5bfeab(0x323)](_0x1e8e2c=>_0x1e8e2c['getId']());}[_0x3149ab(0x315)](_0x7d09ea){return this['nodeUpdate']['subscribe'](_0x7d09ea);}}class _0x5be727{[_0x3149ab(0x164)];['clusterId'];['authNode'];['authService'];['options'];['configs'];[_0x3149ab(0x145)];[_0x3149ab(0x45e)];[_0x3149ab(0x2fe)];[_0x3149ab(0x17c)];['statsManager'];[_0x3149ab(0x2d1)];[_0x3149ab(0x250)];[_0x3149ab(0x390)];['graphService'];[_0x3149ab(0x364)]=new _0x3ff1c9();['systemTopicUnsubscribe'];['localNode'];constructor(_0xa9d160,_0x40f106,_0x2d01fb,_0x508dcc,_0x30dc34,_0x49d139,_0x350a2b){const _0x25b214=_0x3149ab;switch(this[_0x25b214(0x164)]=_0xa9d160,this['clusterId']=_0x40f106,this[_0x25b214(0x559)]=_0x2d01fb,this['authService']=_0x508dcc,this[_0x25b214(0x818)]=_0x30dc34,this[_0x25b214(0x5a0)]=_0x49d139,this[_0x25b214(0x145)]=_0x350a2b,_0x2d01fb[_0x25b214(0x16c)]){case _0x3a4c7c[_0x25b214(0x4eb)][_0x25b214(0x128)]:this['localNode']=new _0x348396(_0x2d01fb[_0x25b214(0x394)](),_0x2d01fb[_0x25b214(0x4c9)](),_0x2d01fb[_0x25b214(0x973)]());break;case _0x3a4c7c[_0x25b214(0x4eb)][_0x25b214(0x1cb)]:default:this['localNode']=new _0x4aa766(_0x2d01fb[_0x25b214(0x394)]());}const _0x4bd5cd=this[_0x25b214(0x7c5)]();this[_0x25b214(0x288)]=new _0x367d7a(this[_0x25b214(0x818)]),this[_0x25b214(0x45e)]=new _0x2e771e(_0x4bd5cd,this['options']),this['connectionManager']=new _0x31a78f(_0x4bd5cd,this[_0x25b214(0x56e)],this[_0x25b214(0x288)],this['configs'][_0x25b214(0x8d2)],this[_0x25b214(0x818)]),this[_0x25b214(0x17c)]=new _0x4b652b(_0x4bd5cd,this[_0x25b214(0x818)][_0x25b214(0x9b9)],this[_0x25b214(0x288)][_0x25b214(0x380)]()),this[_0x25b214(0x45d)]=new _0x3caeb9(_0x4bd5cd),this[_0x25b214(0x2d1)]=new _0x2ae16c(_0x4bd5cd),this[_0x25b214(0x250)]=new _0x2cba69(_0x4bd5cd),this['nodeManager']=new _0x49efca(_0x4bd5cd,this['graphService']),this[_0x25b214(0x9e5)]=this['initializeSystemTopic']();}['open'](){const _0x1e858d=_0x3149ab,_0x16c717=this[_0x1e858d(0x7c5)]();this[_0x1e858d(0x2fe)]=new _0x31a78f(_0x16c717,this[_0x1e858d(0x56e)],this[_0x1e858d(0x288)],this[_0x1e858d(0x5a0)][_0x1e858d(0x8d2)],this[_0x1e858d(0x818)]),this[_0x1e858d(0x17c)]=new _0x4b652b(_0x16c717,this['options']['maxOutgoingSubscriptions'],this[_0x1e858d(0x288)]['getMaxDistance']()),this['statsManager']=new _0x3caeb9(_0x16c717),this['detectionManager']=new _0x2ae16c(_0x16c717),this[_0x1e858d(0x250)]=new _0x2cba69(_0x16c717),this[_0x1e858d(0x390)]=new _0x49efca(_0x16c717,this['graphService']);const _0x3f4aa=this[_0x1e858d(0x2fe)][_0x1e858d(0x4de)]();this[_0x1e858d(0x45e)][_0x1e858d(0x1b5)]()[_0x1e858d(0x1d0)](_0x459f1e=>{const _0x50d4=_0x1e858d;this[_0x50d4(0x17c)][_0x50d4(0x19d)](_0x459f1e,_0x3f4aa),this[_0x50d4(0x17c)][_0x50d4(0x8e3)](_0x3f4aa,_0x459f1e),_0x459f1e[_0x50d4(0x626)]();}),this[_0x1e858d(0x45e)][_0x1e858d(0x237)]()[_0x1e858d(0x1d0)](_0x4157df=>{const _0x20a9aa=_0x1e858d;this[_0x20a9aa(0x17c)][_0x20a9aa(0x19d)](_0x4157df,_0x3f4aa),this[_0x20a9aa(0x17c)][_0x20a9aa(0x8e3)](_0x3f4aa,_0x4157df),_0x4157df['reset'](),_0x4157df[_0x20a9aa(0x6bf)]();}),this[_0x1e858d(0x45e)]['getKeyValueDatabases']()[_0x1e858d(0x1d0)](_0x5048ed=>{const _0x50c98f=_0x1e858d;this[_0x50c98f(0x17c)]['createOutgoingSubscription'](_0x5048ed,_0x3f4aa),this[_0x50c98f(0x17c)][_0x50c98f(0x8e3)](_0x3f4aa,_0x5048ed),_0x5048ed[_0x50c98f(0x626)](),this[_0x50c98f(0x78f)](_0x5048ed);}),this[_0x1e858d(0x45e)][_0x1e858d(0x763)]()['forEach'](_0x39b1b5=>{const _0x341cb1=_0x1e858d;this[_0x341cb1(0x17c)][_0x341cb1(0x19d)](_0x39b1b5,_0x3f4aa),this[_0x341cb1(0x17c)][_0x341cb1(0x8e3)](_0x3f4aa,_0x39b1b5),_0x39b1b5['reset']();}),this[_0x1e858d(0x45e)]['getJobWorkers']()[_0x1e858d(0x1d0)](_0x150b4d=>{const _0x5deba1=_0x1e858d;this[_0x5deba1(0x17c)][_0x5deba1(0x19d)](_0x150b4d,_0x3f4aa),this['subscriptionManager'][_0x5deba1(0x8e3)](_0x3f4aa,_0x150b4d),_0x150b4d[_0x5deba1(0x626)]();}),this[_0x1e858d(0x45e)][_0x1e858d(0x9f9)]()['forEach'](_0x11a628=>{const _0x3b5f93=_0x1e858d;this[_0x3b5f93(0x17c)][_0x3b5f93(0x19d)](_0x11a628,_0x3f4aa),this[_0x3b5f93(0x17c)]['createIncomingSubscription'](_0x3f4aa,_0x11a628),_0x11a628[_0x3b5f93(0x626)]();}),this[_0x1e858d(0x45e)]['getGraphDatabases']()[_0x1e858d(0x1d0)](_0x10e827=>{const _0x5e3410=_0x1e858d;this['subscriptionManager'][_0x5e3410(0x19d)](_0x10e827,_0x3f4aa),this[_0x5e3410(0x17c)][_0x5e3410(0x8e3)](_0x3f4aa,_0x10e827),_0x10e827[_0x5e3410(0x626)]();}),this['systemTopicUnsubscribe']=this[_0x1e858d(0x945)]();}[_0x3149ab(0xa68)](_0x2674ea){const _0xf72b3f=_0x3149ab;try{this['systemTopic'][_0xf72b3f(0x72d)](_0x2674ea);}catch(_0x473121){this[_0xf72b3f(0x595)](_0x473121,{});}}[_0x3149ab(0x41a)](_0xaf1272){const _0x24acb4=_0x3149ab;try{this[_0x24acb4(0x364)][_0x24acb4(0x780)](_0xaf1272);}catch(_0xffa41b){this['handleError'](_0xffa41b,{});}}[_0x3149ab(0x1ab)](_0x26e8b5,_0x3829d2){const _0x185825=_0x3149ab;return this[_0x185825(0x2fe)][_0x185825(0x1ab)](_0x26e8b5,_0x3829d2);}[_0x3149ab(0x5c3)](_0x386f3b){const _0x47f93e=_0x3149ab;try{return this['connectionManager'][_0x47f93e(0x5c3)](_0x386f3b);}catch(_0x2c4ad9){throw this[_0x47f93e(0x595)](_0x2c4ad9,{});}}[_0x3149ab(0x646)](_0x525d8d){const _0x110395=_0x3149ab;try{return this[_0x110395(0x2fe)][_0x110395(0x646)](_0x525d8d);}catch(_0x393796){throw this[_0x110395(0x595)](_0x393796,{});}}[_0x3149ab(0x6a7)](_0x12bb84,_0x1468f9){const _0x24f129=_0x3149ab;try{return this['contentManager']['getRemoteMediaStreams'](_0x3fd49c=>_0x3fd49c[_0x24f129(0x84a)]()===_0x12bb84&&_0x3fd49c[_0x24f129(0x8e1)]()===_0x1468f9)[0x0];}catch(_0x8890ba){throw this['handleError'](_0x8890ba,{});}}[_0x3149ab(0x9b0)](_0x4973ec){const _0x525f5c=_0x3149ab;try{return this[_0x525f5c(0x45e)][_0x525f5c(0x503)](_0x27826a=>_0x27826a[_0x525f5c(0x8e1)]()===_0x4973ec)[0x0];}catch(_0x1d59e9){throw this[_0x525f5c(0x595)](_0x1d59e9,{});}}['notifyCluster']=(..._0xbc8314)=>{const _0x13a851=_0x3149ab;try{return this[_0x13a851(0x145)][_0x13a851(0x6ad)](..._0xbc8314);}catch(_0x35b7c2){throw this[_0x13a851(0x595)](_0x35b7c2,{});}};[_0x3149ab(0x14f)](_0x7e2b7a){const _0x40abdc=_0x3149ab;try{this[_0x40abdc(0x45d)]['addRemoteNode'](_0x7e2b7a);}catch(_0x2d2e5a){throw this[_0x40abdc(0x595)](_0x2d2e5a,{});}}[_0x3149ab(0xa9e)](_0x33f845){const _0x449937=_0x3149ab;try{this[_0x449937(0x45d)][_0x449937(0x884)](_0x33f845);}catch(_0x40ba17){throw this[_0x449937(0x595)](_0x40ba17,{});}}[_0x3149ab(0x403)](_0x24fe6d){const _0x3bde86=_0x3149ab;return this[_0x3bde86(0x2fe)]['collectStats'](_0x24fe6d);}async[_0x3149ab(0x481)](){const _0x5c08ec=_0x3149ab;try{await this['connectionManager'][_0x5c08ec(0x481)]();const _0x1879b1=await this[_0x5c08ec(0x390)][_0x5c08ec(0x38d)]();for(const _0x408b99 of _0x1879b1)this[_0x5c08ec(0x2fe)][_0x5c08ec(0x1ab)](_0x408b99);}catch(_0x59f599){throw this['handleError'](_0x59f599,{});}}[_0x3149ab(0xa32)](_0x502ae6){const _0x219b91=_0x3149ab;this[_0x219b91(0x9ba)][_0x219b91(0x16c)]===_0x3a4c7c[_0x219b91(0x4eb)][_0x219b91(0x128)]&&(this[_0x219b91(0x9ba)][_0x219b91(0x2f3)](_0x502ae6[_0x219b91(0x973)]()),this[_0x219b91(0x9ba)][_0x219b91(0x830)](_0x502ae6['getDisplayName']()));}[_0x3149ab(0x11b)]({force:_0x2b36ec=!0x1},_0x4dc378=!0x1){const _0xe995c8=_0x3149ab;if(_0x5b2279[_0xe995c8(0x22c)](_0xe995c8(0x485),{'clusterId':this[_0xe995c8(0x8ae)],'nodeId':this[_0xe995c8(0x9ba)]['getId'](),'nodeType':this['localNode'][_0xe995c8(0x16c)]}),!_0x2b36ec&&this[_0xe995c8(0x2fe)]['hasBufferedData']())throw new _0xab88d9(_0x3cba44[_0xe995c8(0x9dc)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x5b2279[_0xe995c8(0x996)](),this['systemTopicUnsubscribe'](),this[_0xe995c8(0x250)][_0xe995c8(0x11b)](),this[_0xe995c8(0x2d1)]['close'](),this['statsManager']['close'](),this['subscriptionManager'][_0xe995c8(0x11b)](),this[_0xe995c8(0x2fe)][_0xe995c8(0x11b)](),this[_0xe995c8(0x45e)]['close'](_0x4dc378),this[_0xe995c8(0x390)][_0xe995c8(0x11b)]();}[_0x3149ab(0x1fe)](_0x5cd8db){const _0x35bc89=_0x3149ab;try{const _0x4fbf45=this[_0x35bc89(0x45e)][_0x35bc89(0x5b9)](_0x5cd8db),_0x2946e8=this['connectionManager'][_0x35bc89(0x4de)]();return this[_0x35bc89(0x17c)][_0x35bc89(0x19d)](_0x4fbf45,_0x2946e8),this[_0x35bc89(0x17c)]['createIncomingSubscription'](_0x2946e8,_0x4fbf45),_0x4fbf45;}catch(_0x5716a9){throw this[_0x35bc89(0x595)](_0x5716a9,{});}}async[_0x3149ab(0x743)](_0x58d597,_0x1ca837){const _0x48c52b=_0x3149ab;try{const _0xde5b02=this[_0x48c52b(0x45e)][_0x48c52b(0x4a6)](_0x58d597,this[_0x48c52b(0x818)]['objectStoreConnector'],_0x1ca837),_0x214a7d=this['connectionManager'][_0x48c52b(0x4de)]();return this[_0x48c52b(0x17c)]['createOutgoingSubscription'](_0xde5b02,_0x214a7d),this[_0x48c52b(0x17c)][_0x48c52b(0x8e3)](_0x214a7d,_0xde5b02),await _0xde5b02['sync'](),_0xde5b02;}catch(_0x116574){throw this[_0x48c52b(0x595)](_0x116574,{});}}async[_0x3149ab(0x507)](_0x35934d,_0x1f8ac2){const _0xf2c10a=_0x3149ab;try{if(!this[_0xf2c10a(0x818)][_0xf2c10a(0x2de)])throw new _0xab88d9(_0x3cba44[_0xf2c10a(0x99a)],_0xf2c10a(0x716));if(!(this[_0xf2c10a(0x559)]instanceof _0x465612))throw new _0xab88d9(_0x3cba44['NodeInvalidType'],_0xf2c10a(0xa03));const _0x77e34=this[_0xf2c10a(0x818)]['externalStorageConnectors'][_0xf2c10a(0x524)](_0x1f8ac2);if(!_0x77e34)throw new _0xab88d9(_0x3cba44[_0xf2c10a(0x99a)],_0xf2c10a(0x716));const _0xff542a=this[_0xf2c10a(0x45e)]['createExternalStorageConnection'](_0x35934d,_0x77e34),_0xd753ef=this[_0xf2c10a(0x2fe)][_0xf2c10a(0x4de)]();return this[_0xf2c10a(0x17c)]['createOutgoingSubscription'](_0xff542a,_0xd753ef),this[_0xf2c10a(0x17c)][_0xf2c10a(0x8e3)](_0xd753ef,_0xff542a),await _0xff542a[_0xf2c10a(0x2d5)](),_0xff542a;}catch(_0x19dadc){throw this['handleError'](_0x19dadc,{});}}async[_0x3149ab(0x71b)](_0x452b78,_0x3e2135,_0x41ae5d){const _0xb30937=_0x3149ab;try{_0x41ae5d=_0x41ae5d||this[_0xb30937(0x818)][_0xb30937(0x53e)];const _0x10bb72=await this['contentManager']['createKeyValueDatabase'](_0x452b78,_0x3e2135,_0x41ae5d),_0x461b99=this['connectionManager'][_0xb30937(0x4de)]();return this[_0xb30937(0x17c)][_0xb30937(0x19d)](_0x10bb72,_0x461b99),this[_0xb30937(0x17c)]['createIncomingSubscription'](_0x461b99,_0x10bb72),await _0x10bb72['open'](),this[_0xb30937(0x78f)](_0x10bb72),_0x10bb72;}catch(_0x324713){throw this[_0xb30937(0x595)](_0x324713,{});}}async[_0x3149ab(0x17f)](_0x20dba8){const _0x2a33=_0x3149ab;try{const _0x4935cb=await this['contentManager']['createJobDispatcher'](_0x20dba8,this[_0x2a33(0x288)]),_0x147771=this[_0x2a33(0x2fe)][_0x2a33(0x4de)]();return this['subscriptionManager'][_0x2a33(0x19d)](_0x4935cb,_0x147771),this[_0x2a33(0x17c)][_0x2a33(0x8e3)](_0x147771,_0x4935cb),_0x4935cb[_0x2a33(0x2d5)](),_0x4935cb;}catch(_0x48fce5){throw this['handleError'](_0x48fce5,{});}}async[_0x3149ab(0x982)](_0x479de4){const _0x573589=_0x3149ab;throw new Error(_0x573589(0x127));}async[_0x3149ab(0xa51)](_0x314fb6){const _0x168794=_0x3149ab;try{const _0x2b42bd=await this[_0x168794(0x45e)][_0x168794(0x85f)](_0x314fb6,this[_0x168794(0x288)]),_0x4ec6b0=this[_0x168794(0x2fe)][_0x168794(0x4de)]();return this[_0x168794(0x17c)][_0x168794(0x19d)](_0x2b42bd,_0x4ec6b0),this[_0x168794(0x17c)][_0x168794(0x8e3)](_0x4ec6b0,_0x2b42bd),_0x2b42bd[_0x168794(0x2d5)](),_0x2b42bd;}catch(_0x21e73f){throw console['error'](_0x21e73f),this['handleError'](_0x21e73f,{});}}async[_0x3149ab(0x847)](_0x1406de){const _0x5d7313=_0x3149ab;try{if(!(this[_0x5d7313(0x818)][_0x5d7313(0x8e5)]&&this[_0x5d7313(0x818)]['documentParserConnector']&&this[_0x5d7313(0x818)]['fileConnector']&&this[_0x5d7313(0x818)][_0x5d7313(0x1de)]))throw new _0xab88d9(_0x3cba44[_0x5d7313(0x19f)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x5d7313(0x559)]instanceof _0x465612))throw new _0xab88d9(_0x3cba44[_0x5d7313(0x2c2)],_0x5d7313(0xa03));if(!this[_0x5d7313(0x5a0)][_0x5d7313(0xab6)])throw new _0xab88d9(_0x3cba44['ApiKeyMissing'],_0x5d7313(0xa10));const _0x332874=[];for(const [_0x262b12,_0x1bf425]of this[_0x5d7313(0x818)][_0x5d7313(0x8e5)]){let _0x5004c0;_0x262b12===_0x3a4c7c[_0x5d7313(0x5b5)][_0x5d7313(0xa02)]&&(_0x5004c0=this[_0x5d7313(0x5a0)][_0x5d7313(0xab6)]),_0x262b12===_0x3a4c7c['GenerativeAIEngineType'][_0x5d7313(0x9dd)]&&(_0x5004c0=this[_0x5d7313(0x5a0)][_0x5d7313(0x1d3)]),_0x332874['push'](new _0x1bf425(_0x5004c0));}const _0x2a0ba1=new this['options']['objectStoreConnector'](_0x5d7313(0x5d4)),_0x468fcb=new this[(_0x5d7313(0x818))][(_0x5d7313(0x447))](),_0x1fdcf8=new this[(_0x5d7313(0x818))][(_0x5d7313(0x204))](this['configs']['openaiApiKey']),_0x3247be=new this[(_0x5d7313(0x818))]['nlpLibraryConnector']();let _0x379e62,_0x3c587b,_0x5b83c7,_0x1c2872;if(this[_0x5d7313(0x818)][_0x5d7313(0x6ed)]){if(!this[_0x5d7313(0x5a0)][_0x5d7313(0x1dc)])throw new _0xab88d9(_0x3cba44['ApiKeyMissing'],_0x5d7313(0x223));_0x379e62=new this[(_0x5d7313(0x818))]['searchConnector'](this[_0x5d7313(0x5a0)][_0x5d7313(0x1dc)]);}if(this[_0x5d7313(0x818)]['aiSearchConnector']){if(!this[_0x5d7313(0x5a0)]['aiSearchApiKey'])throw new _0xab88d9(_0x3cba44[_0x5d7313(0x1b6)],'Missing\x20AI\x20search\x20API\x20key');_0x3c587b=new this[(_0x5d7313(0x818))]['aiSearchConnector'](this[_0x5d7313(0x5a0)]['aiSearchApiKey']);}if(this[_0x5d7313(0x818)][_0x5d7313(0x7bc)]&&(_0x5b83c7=new this[(_0x5d7313(0x818))][(_0x5d7313(0x7bc))]()),this[_0x5d7313(0x818)][_0x5d7313(0xac6)]){if(!this[_0x5d7313(0x5a0)][_0x5d7313(0x7e3)])throw new _0xab88d9(_0x3cba44[_0x5d7313(0x1b6)],_0x5d7313(0x6b9));_0x1c2872=new Map();for(const [_0x319019,_0x55a5e5]of this[_0x5d7313(0x818)][_0x5d7313(0xac6)])_0x1c2872['set'](_0x319019,new _0x55a5e5(this[_0x5d7313(0x5a0)][_0x5d7313(0x7e3)]));}const _0x2f6bc3=await this[_0x5d7313(0x45e)][_0x5d7313(0x890)](_0x1406de,this[_0x5d7313(0x559)],_0x332874,_0x2a0ba1,_0x468fcb,_0x1fdcf8,_0x3247be,_0x379e62,_0x3c587b,_0x5b83c7,_0x1c2872,this[_0x5d7313(0x5a0)]['openaiApiKey']),_0x2feb38=this['connectionManager'][_0x5d7313(0x4de)]();this[_0x5d7313(0x17c)][_0x5d7313(0x19d)](_0x2f6bc3,_0x2feb38),this['subscriptionManager']['createIncomingSubscription'](_0x2feb38,_0x2f6bc3);const _0x4c31d7=this[_0x5d7313(0x390)][_0x5d7313(0x1cc)]();return await _0x2f6bc3['open'](0x0===_0x4c31d7['length']||void 0x0),_0x2f6bc3;}catch(_0x3cd03a){throw this[_0x5d7313(0x595)](_0x3cd03a,{});}}[_0x3149ab(0x5bd)](_0x562e64){const _0x2180c0=_0x3149ab;try{if(!this[_0x2180c0(0x818)][_0x2180c0(0x3ae)])throw new _0xab88d9(_0x3cba44[_0x2180c0(0x306)],_0x2180c0(0x682));if(!(this[_0x2180c0(0x559)]instanceof _0x465612))throw new _0xab88d9(_0x3cba44[_0x2180c0(0x2c2)],'Node\x20is\x20not\x20an\x20agent');const _0x414b4a=this[_0x2180c0(0x45e)]['createGraphDatabase'](_0x562e64,this[_0x2180c0(0x818)][_0x2180c0(0x3ae)]),_0x354774=this['connectionManager'][_0x2180c0(0x4de)]();return this[_0x2180c0(0x17c)]['createOutgoingSubscription'](_0x414b4a,_0x354774),this['subscriptionManager'][_0x2180c0(0x8e3)](_0x354774,_0x414b4a),_0x414b4a;}catch(_0x34f512){throw this['handleError'](_0x34f512,{});}}[_0x3149ab(0x921)](_0x235bd0){const _0x5c3e49=_0x3149ab;try{if(!this[_0x5c3e49(0x818)][_0x5c3e49(0x673)])throw new _0xab88d9(_0x3cba44['VectorDatabaseMissingConnector'],'Missing\x20vector\x20database\x20connector');if(!(this[_0x5c3e49(0x559)]instanceof _0x465612))throw new _0xab88d9(_0x3cba44[_0x5c3e49(0x2c2)],_0x5c3e49(0xa03));const _0xe74460=this[_0x5c3e49(0x45e)][_0x5c3e49(0x1f3)](_0x235bd0,this[_0x5c3e49(0x818)][_0x5c3e49(0x673)]),_0x57f18e=this[_0x5c3e49(0x2fe)][_0x5c3e49(0x4de)]();return this['subscriptionManager'][_0x5c3e49(0x19d)](_0xe74460,_0x57f18e),this[_0x5c3e49(0x17c)][_0x5c3e49(0x8e3)](_0x57f18e,_0xe74460),_0xe74460;}catch(_0x5abd7b){throw this['handleError'](_0x5abd7b,{});}}[_0x3149ab(0x1b5)](_0x750c47){const _0x5d9fc4=_0x3149ab;try{return this[_0x5d9fc4(0x45e)][_0x5d9fc4(0x1b5)](_0x750c47);}catch(_0xa28ec0){throw this[_0x5d9fc4(0x595)](_0xa28ec0,{});}}[_0x3149ab(0x237)](_0x1f64fe){const _0x24ec4a=_0x3149ab;try{return this[_0x24ec4a(0x45e)][_0x24ec4a(0x237)](_0x1f64fe);}catch(_0x2f2a1f){throw this[_0x24ec4a(0x595)](_0x2f2a1f,{});}}[_0x3149ab(0x6fc)](_0x2b7b79){const _0x4db934=_0x3149ab;try{return this[_0x4db934(0x45e)][_0x4db934(0x6fc)](_0x2b7b79);}catch(_0x2f7e88){throw this[_0x4db934(0x595)](_0x2f7e88,{});}}['getKeyValueDatabases'](_0x1e906d){const _0x1aa343=_0x3149ab;try{return this['contentManager']['getKeyValueDatabases'](_0x1e906d);}catch(_0x96141){throw this[_0x1aa343(0x595)](_0x96141,{});}}[_0x3149ab(0x388)](_0x2680b1){const _0x1aad38=_0x3149ab;try{return this[_0x1aad38(0x45e)]['getGenerativeAIContexts'](_0x2680b1);}catch(_0x27d129){throw this[_0x1aad38(0x595)](_0x27d129,{});}}[_0x3149ab(0x96c)](_0x11a0b2){const _0x48389d=_0x3149ab;try{return this['contentManager'][_0x48389d(0x96c)](_0x11a0b2);}catch(_0x510a49){throw this[_0x48389d(0x595)](_0x510a49,{});}}['getGraphDatabases'](_0x23a570){const _0x1252a6=_0x3149ab;try{return this[_0x1252a6(0x45e)][_0x1252a6(0x676)](_0x23a570);}catch(_0x3994de){throw this['handleError'](_0x3994de,{});}}[_0x3149ab(0x3c0)](_0x8e56f8,_0x50f8fd){const _0x130f54=_0x3149ab;if(!this[_0x130f54(0x5a0)]['features']['includes'](_0x19abbf[_0x130f54(0x7b4)]))throw new _0xab88d9(_0x3cba44[_0x130f54(0x8ca)],_0x130f54(0xa42));try{return this[_0x130f54(0x45e)][_0x130f54(0x3c0)](_0x8e56f8,_0x50f8fd);}catch(_0x2578bd){throw this['handleError'](_0x2578bd,{});}}[_0x3149ab(0x817)](_0x5fe583,_0x5110c5){const _0x1f3322=_0x3149ab;if(!this[_0x1f3322(0x5a0)][_0x1f3322(0x190)][_0x1f3322(0x24c)](_0x19abbf[_0x1f3322(0x7b4)]))throw new _0xab88d9(_0x3cba44[_0x1f3322(0x8ca)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x1f3322(0x45e)][_0x1f3322(0x817)](_0x5fe583,_0x5110c5);}catch(_0x4363c9){throw this[_0x1f3322(0x595)](_0x4363c9,{});}}[_0x3149ab(0x503)](_0x385df3){const _0x1d6af2=_0x3149ab;if(!this[_0x1d6af2(0x5a0)][_0x1d6af2(0x190)][_0x1d6af2(0x24c)](_0x19abbf[_0x1d6af2(0x7b4)]))throw new _0xab88d9(_0x3cba44[_0x1d6af2(0x8ca)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x1d6af2(0x45e)][_0x1d6af2(0x503)](_0x385df3);}catch(_0xaf8f){throw this[_0x1d6af2(0x595)](_0xaf8f,{});}}[_0x3149ab(0x62f)](_0x1a21be){const _0x48bdf0=_0x3149ab;if(!this[_0x48bdf0(0x5a0)][_0x48bdf0(0x190)]['includes'](_0x19abbf['MediaStream']))throw new _0xab88d9(_0x3cba44[_0x48bdf0(0x8ca)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x48bdf0(0x45e)]['getRemoteMediaStreams'](_0x1a21be);}catch(_0x264956){throw this[_0x48bdf0(0x595)](_0x264956,{});}}[_0x3149ab(0x9f9)](_0xc6809d){const _0x52089e=_0x3149ab;try{return this[_0x52089e(0x45e)][_0x52089e(0x9f9)](_0xc6809d);}catch(_0x26c1a2){throw this[_0x52089e(0x595)](_0x26c1a2,{});}}[_0x3149ab(0xac3)](_0x114e8c,_0x3ea789){const _0x1ac7cb=_0x3149ab;return this['nodeManager'][_0x1ac7cb(0xac3)](_0x114e8c,_0x3ea789);}['getLocalNode'](){const _0x400d3f=_0x3149ab;return this['nodeManager'][_0x400d3f(0xad3)]();}[_0x3149ab(0x88d)](_0x1eb797){const _0x33cc69=_0x3149ab;try{return this['nodeManager'][_0x33cc69(0x88d)](_0x1eb797);}catch(_0x5394b6){throw this[_0x33cc69(0x595)](_0x5394b6,{});}}['waitForArrayBufferSize'](){const _0x2ed88f=_0x3149ab;return this[_0x2ed88f(0x2fe)][_0x2ed88f(0x9c9)]();}[_0x3149ab(0xa5a)](_0x5ad777){const _0x515411=_0x3149ab;return this['nodeManager'][_0x515411(0xa5a)](_0x5ad777);}async[_0x3149ab(0x3ec)](_0x31a7b5){const _0x540385=_0x3149ab;try{if(_0x5b2279['log'](_0x44d495['Events'],'Orchestrator\x20handleSystemEvents',this[_0x540385(0x390)][_0x540385(0x720)](),_0x31a7b5),_0x114893(_0x31a7b5,this[_0x540385(0x390)]['getLocalId']()))return void this[_0x540385(0x2fe)][_0x540385(0x5d0)](_0x31a7b5);switch(_0x31a7b5[_0x540385(0x782)]){case _0x23b53c[_0x540385(0x620)]:this[_0x540385(0x45d)][_0x540385(0x3bc)](_0x31a7b5),this[_0x540385(0x17c)][_0x540385(0x3bc)](_0x31a7b5),this['contentManager'][_0x540385(0x3bc)](_0x31a7b5);break;case _0x23b53c['Node']:this[_0x540385(0x17c)][_0x540385(0x513)](_0x31a7b5),this[_0x540385(0x2fe)][_0x540385(0x513)](_0x31a7b5),this['contentManager'][_0x540385(0x513)](_0x31a7b5),this['nodeManager'][_0x540385(0x513)](_0x31a7b5);break;case _0x23b53c[_0x540385(0x953)]:this[_0x540385(0x250)]['handleDetectionSystemEvents'](_0x31a7b5);break;case _0x23b53c[_0x540385(0x698)]:this[_0x540385(0x250)][_0x540385(0x4db)](_0x31a7b5);break;case _0x23b53c[_0x540385(0x843)]:this['detectionManager']['handleStatsSystemEvents'](_0x31a7b5);break;case _0x23b53c[_0x540385(0xa65)]:_0x31a7b5['content']['type']!==_0x5af822[_0x540385(0xae8)]?(this[_0x540385(0x17c)][_0x540385(0x7c4)](_0x31a7b5),this[_0x540385(0x45e)]['handleSubscriptionSystemEvents'](_0x31a7b5)):(this[_0x540385(0x45e)][_0x540385(0x7c4)](_0x31a7b5),this[_0x540385(0x17c)][_0x540385(0x7c4)](_0x31a7b5));break;case _0x23b53c[_0x540385(0x5d8)]:await this[_0x540385(0x2fe)][_0x540385(0x3a1)](_0x31a7b5),this[_0x540385(0x45d)][_0x540385(0x3a1)](_0x31a7b5),this[_0x540385(0x390)][_0x540385(0x3a1)](_0x31a7b5),this['subscriptionManager']['handlePeerConnectionSystemEvents'](_0x31a7b5);}}catch(_0x211914){throw _0x5b2279[_0x540385(0x691)](_0x540385(0x3ec),_0x211914),this['handleError'](_0x211914,{});}}['handleError'](_0x37e360,_0x1f88b1){const _0x3edf46=_0x3149ab;if(!(_0x37e360 instanceof _0x530d99)){if(_0x37e360 instanceof _0xab88d9)throw _0x37e360;if(!(_0x37e360 instanceof Error))throw new _0xab88d9(_0x3cba44[_0x3edf46(0x733)],_0x3edf46(0x372)+_0x37e360);if(!(_0x37e360 instanceof _0x224ab2))throw new _0xab88d9(_0x3cba44['InternalSDKError'],'Internal\x20error:\x20'+_0x37e360[_0x3edf46(0x948)]);switch(_0x37e360[_0x3edf46(0x634)]){case _0x224ab2[_0x3edf46(0x8b5)]['MissingSystemTopic']:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0xa7b)]:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0x4bf)]:case _0x224ab2[_0x3edf46(0x8b5)]['ConnectionNotinitialized']:case _0x224ab2[_0x3edf46(0x8b5)]['ConnectionNotConnected']:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0x5ec)]:case _0x224ab2[_0x3edf46(0x8b5)]['InvalidPublisher']:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0x803)]:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0x94f)]:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0x49b)]:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0x4cb)]:case _0x224ab2[_0x3edf46(0x8b5)][_0x3edf46(0x71a)]:}throw _0x5b2279[_0x3edf46(0x1be)](_0x3edf46(0x5f7)+_0x37e360['message'],{'clusterId':this[_0x3edf46(0x8ae)],'nodeId':this[_0x3edf46(0x9ba)][_0x3edf46(0x394)](),'nodeType':this[_0x3edf46(0x9ba)][_0x3edf46(0x16c)]},_0x37e360),new _0xab88d9(_0x3cba44[_0x3edf46(0x733)],_0x3edf46(0x108)+_0x37e360[_0x3edf46(0x948)]);}}[_0x3149ab(0x7c5)](){const _0x233c4a=_0x3149ab;return{'mediator':this,'vendorId':this[_0x233c4a(0x164)],'clusterId':this[_0x233c4a(0x8ae)],'localNode':this[_0x233c4a(0x9ba)]};}[_0x3149ab(0x945)](){const _0x4c77b4=_0x3149ab;return this[_0x4c77b4(0x364)][_0x4c77b4(0x438)](_0x2552a0=>{const _0x5ea98c=_0x4c77b4,_0xc77219=_0x23e30c(_0x2552a0,this[_0x5ea98c(0x9ba)][_0x5ea98c(0x394)]()),_0x5ebc27=_0x2552a0[_0x5ea98c(0x782)]===_0x23b53c[_0x5ea98c(0x843)]||_0x2552a0[_0x5ea98c(0x782)]===_0x23b53c[_0x5ea98c(0x5d8)]&&_0x2552a0[_0x5ea98c(0x130)]['type']===_0x2d0fa6['Stats']?_0x44d495['SystemStats']:_0x44d495['System'];_0x5b2279[_0x5ea98c(0xabd)](_0x5ebc27,_0x2552a0[_0x5ea98c(0x7ae)]+'\x20-\x20'+_0xc77219,_0x2552a0),this[_0x5ea98c(0x3ec)](_0x2552a0)['catch'](_0xb37df9=>{const _0x357bf4=_0x5ea98c;console[_0x357bf4(0x1be)](_0xb37df9);});});}async[_0x3149ab(0x78f)](_0x5afb6c){const _0x595afa=_0x3149ab,{timingLogger:_0x303bc2,logger:_0x2d8626,logBeforeSync:_0x33fbfd,logAfterSync:_0x55a45e}=function(_0x3579c9,_0x1c8fc5){const _0x2e4666=a0_0x38d9;if(!_0x5b2279['isChannelEnabled'](_0x1c8fc5))return _0x5b2279[_0x2e4666(0x691)](_0x2e4666(0x723)+_0x1c8fc5),{..._0x74eb90(_0x3579c9,_0x1c8fc5),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x6c20a4,logger:_0x1dbfe6}=_0x74eb90(_0x3579c9,_0x1c8fc5);let _0x19c368=0x0;return _0x19c368=Date['now'](),{'syncStartTime':_0x19c368,'timingLogger':_0x6c20a4,'logger':_0x1dbfe6,'logBeforeSync':()=>(_0x528621(_0x1c8fc5,_0x2e4666(0x9fc)),_0x6c20a4[_0x2e4666(0x3fe)]()),'logAfterSync':(_0x2f12d6,_0x108ed1)=>{const _0x1e396c=_0x2e4666,_0x39305b=Date[_0x1e396c(0x3fe)]();_0x528621(_0x1c8fc5,_0x1e396c(0x569)+_0x108ed1);const _0x5c6ffb=(_0x39305b-_0x19c368)/0x3e8,_0x4368ed=(_0x39305b-_0x2f12d6)/0x3e8;_0x5b2279[_0x1e396c(0x66c)](_0x1c8fc5,_0x1e396c(0x211),_0x3579c9,_0x1e396c(0x898)+_0x5c6ffb['toFixed'](0x2)+_0x1e396c(0x282),_0x1e396c(0x43f)+_0x4368ed[_0x1e396c(0x409)](0x3)+_0x1e396c(0x282),_0x1e396c(0x8ea)+((_0x39305b-_0x19c368)/0x3e8-_0x4368ed)['toFixed'](0x2)+_0x1e396c(0x282));}};}(_0x5afb6c[_0x595afa(0x8e1)](),_0x44d495[_0x595afa(0x327)]);_0x2d8626[_0x595afa(0x66c)](_0x595afa(0xa13));const _0x5363c0=this[_0x595afa(0x390)]['getAncestorIds']()['length']>0x0;if(_0x5363c0){_0x2d8626[_0x595afa(0x66c)](_0x595afa(0x341),()=>this[_0x595afa(0x390)][_0x595afa(0x1cc)]()),_0x303bc2[_0x595afa(0xa08)](),await Promise['all'](this[_0x595afa(0x390)][_0x595afa(0x1cc)]()[_0x595afa(0x323)](async _0x5a5cd5=>await this['nodeManager']['isNodeReady'](_0x5a5cd5)))[_0x595afa(0x6ec)](_0xb04ec6=>_0x5b2279[_0x595afa(0x22c)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.',{'nodeId':this[_0x595afa(0x9ba)]['getId'](),'nodeType':this[_0x595afa(0x9ba)][_0x595afa(0x16c)]}));const _0x11f193=_0x2d8626['performCalculation'](()=>this[_0x595afa(0x390)][_0x595afa(0x1cc)](),[]);_0x303bc2[_0x595afa(0x9f1)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x11f193+'\x20were\x20ready\x20in');}_0x55a45e(_0x33fbfd(),await _0x5afb6c['sync'](_0x5363c0,async()=>{const _0x4804a8=_0x595afa;_0x303bc2[_0x4804a8(0xa08)](),await this[_0x4804a8(0x390)][_0x4804a8(0x19a)](),_0x303bc2[_0x4804a8(0x9f1)](_0x4804a8(0x541)),_0x5afb6c[_0x4804a8(0x6bf)](!0x0,()=>{const _0x2cd2b3=_0x4804a8;_0x2d8626['log'](_0x2cd2b3(0x6cc)),_0x5afb6c[_0x2cd2b3(0x6bf)](!0x1);},!0x0);}));}}class _0x21bcb1{['vendorId'];[_0x3149ab(0x8ae)];[_0x3149ab(0x559)];['eventEmitter'];['orchestrator'];constructor(_0xe41170,_0xe07513,_0x21cff4,_0x280561,_0x477245,_0x274330,_0x51b227=new _0x2cd8e9()){const _0x5b9f33=_0x3149ab;this[_0x5b9f33(0x164)]=_0xe41170,this[_0x5b9f33(0x8ae)]=_0xe07513,this[_0x5b9f33(0x559)]=_0x21cff4,this[_0x5b9f33(0x1a5)]=_0x51b227,this['orchestrator']=new _0x5be727(this[_0x5b9f33(0x164)],this[_0x5b9f33(0x8ae)],_0x21cff4,_0x280561,_0x477245,_0x274330,this);}async['join'](){const _0x2af9b0=_0x3149ab;await this[_0x2af9b0(0xa43)][_0x2af9b0(0x481)](),this[_0x2af9b0(0x559)][_0x2af9b0(0x16c)]===_0x3a4c7c['NodeType'][_0x2af9b0(0x128)]&&this[_0x2af9b0(0x559)]['registerCluster'](this['clusterId'],_0x523445=>{const _0x412916=_0x2af9b0;this['orchestrator'][_0x412916(0xa32)](_0x523445);});}['leave'](_0x517953={}){const _0x5e676b=_0x3149ab;this['orchestrator'][_0x5e676b(0x11b)](_0x517953),this[_0x5e676b(0x559)]['type']===_0x3a4c7c[_0x5e676b(0x4eb)][_0x5e676b(0x128)]&&this['authNode'][_0x5e676b(0x4a2)](this[_0x5e676b(0x8ae)]),this[_0x5e676b(0x6ad)](_0x5e676b(0x290),void 0x0);}[_0x3149ab(0x1fe)](_0x53060c){const _0x8c7874=_0x3149ab,_0x3181e4=this[_0x8c7874(0xa43)][_0x8c7874(0x1fe)](_0x53060c);return{'getName':_0x3181e4[_0x8c7874(0x195)][_0x8c7874(0x26b)](_0x3181e4),'getOwnerId':_0x3181e4[_0x8c7874(0x84a)][_0x8c7874(0x26b)](_0x3181e4),'getContentType':_0x3181e4[_0x8c7874(0x941)]['bind'](_0x3181e4),'publish':_0x3181e4[_0x8c7874(0x415)][_0x8c7874(0x26b)](_0x3181e4),'subscribe':_0x3181e4['subscribe']['bind'](_0x3181e4),'unsubscribe':_0x3181e4[_0x8c7874(0x3e9)][_0x8c7874(0x26b)](_0x3181e4),'close':_0x3181e4[_0x8c7874(0x11b)][_0x8c7874(0x26b)](_0x3181e4)};}async[_0x3149ab(0x743)](_0x25d798,_0x203d40){const _0x33e9e1=_0x3149ab,_0xf64bb7=await this[_0x33e9e1(0xa43)]['openObjectStoreBucket'](_0x25d798,_0x203d40);return{'getName':_0xf64bb7[_0x33e9e1(0x195)][_0x33e9e1(0x26b)](_0xf64bb7),'getOwnerId':_0xf64bb7['getOwnerId'][_0x33e9e1(0x26b)](_0xf64bb7),'getContentType':_0xf64bb7[_0x33e9e1(0x941)]['bind'](_0xf64bb7),'publish':_0xf64bb7['publish'][_0x33e9e1(0x26b)](_0xf64bb7),'unpublish':_0xf64bb7['unpublish'][_0x33e9e1(0x26b)](_0xf64bb7),'get':_0xf64bb7[_0x33e9e1(0x524)][_0x33e9e1(0x26b)](_0xf64bb7),'list':_0xf64bb7[_0x33e9e1(0x253)][_0x33e9e1(0x26b)](_0xf64bb7),'getSize':_0xf64bb7['getSize']['bind'](_0xf64bb7),'subscribe':_0xf64bb7[_0x33e9e1(0x438)][_0x33e9e1(0x26b)](_0xf64bb7),'unsubscribe':_0xf64bb7['unsubscribe'][_0x33e9e1(0x26b)](_0xf64bb7),'close':_0xf64bb7[_0x33e9e1(0x11b)][_0x33e9e1(0x26b)](_0xf64bb7)};}async[_0x3149ab(0x507)](_0x35778d,_0x3c4412){const _0x1b068f=_0x3149ab,_0x2e7cc7=await this['orchestrator'][_0x1b068f(0x507)](_0x35778d,_0x3c4412);return{'getName':_0x2e7cc7[_0x1b068f(0x195)][_0x1b068f(0x26b)](_0x2e7cc7),'getOwnerId':_0x2e7cc7[_0x1b068f(0x84a)][_0x1b068f(0x26b)](_0x2e7cc7),'getContentType':_0x2e7cc7['getContentType'][_0x1b068f(0x26b)](_0x2e7cc7),'close':_0x2e7cc7[_0x1b068f(0x11b)]['bind'](_0x2e7cc7),'get':_0x2e7cc7['get'][_0x1b068f(0x26b)](_0x2e7cc7),'list':_0x2e7cc7[_0x1b068f(0x253)]['bind'](_0x2e7cc7),'subscribe':_0x2e7cc7[_0x1b068f(0x438)]['bind'](_0x2e7cc7),'unsubscribe':_0x2e7cc7[_0x1b068f(0x3e9)][_0x1b068f(0x26b)](_0x2e7cc7)};}async[_0x3149ab(0x71b)](_0x370a80,_0xbc803e,_0x4ec20b){const _0x17b760=_0x3149ab,_0x45ab8c=await this[_0x17b760(0xa43)][_0x17b760(0x71b)](_0x370a80,_0xbc803e,_0x4ec20b);return{'getName':_0x45ab8c[_0x17b760(0x195)]['bind'](_0x45ab8c),'getOwnerId':_0x45ab8c[_0x17b760(0x84a)][_0x17b760(0x26b)](_0x45ab8c),'getContentType':_0x45ab8c[_0x17b760(0x941)][_0x17b760(0x26b)](_0x45ab8c),'getTable':_0x45ab8c[_0x17b760(0x78e)][_0x17b760(0x26b)](_0x45ab8c),'subscribe':_0x45ab8c['subscribe']['bind'](_0x45ab8c),'unsubscribe':_0x45ab8c[_0x17b760(0x3e9)]['bind'](_0x45ab8c),'close':_0x45ab8c['close'][_0x17b760(0x26b)](_0x45ab8c)};}async[_0x3149ab(0x17f)](_0x4746d6){const _0x3c2b76=_0x3149ab,_0x508ab1=await this[_0x3c2b76(0xa43)][_0x3c2b76(0x17f)](_0x4746d6);return{'getName':_0x508ab1[_0x3c2b76(0x195)]['bind'](_0x508ab1),'getOwnerId':_0x508ab1['getOwnerId'][_0x3c2b76(0x26b)](_0x508ab1),'getContentType':_0x508ab1[_0x3c2b76(0x941)][_0x3c2b76(0x26b)](_0x508ab1),'createJob':_0x508ab1[_0x3c2b76(0x7bb)][_0x3c2b76(0x26b)](_0x508ab1),'getJob':_0x508ab1[_0x3c2b76(0x6be)][_0x3c2b76(0x26b)](_0x508ab1),'getJobs':_0x508ab1[_0x3c2b76(0x880)][_0x3c2b76(0x26b)](_0x508ab1),'close':_0x508ab1[_0x3c2b76(0x11b)][_0x3c2b76(0x26b)](_0x508ab1)};}async[_0x3149ab(0x982)](_0x4e99d2){const _0x5ef23c=_0x3149ab,_0x593849=await this['orchestrator']['openJobWorker'](_0x4e99d2);return{'close':_0x593849[_0x5ef23c(0x11b)][_0x5ef23c(0x26b)](_0x593849)};}async[_0x3149ab(0xa51)](_0x16587d){const _0x4fbeef=_0x3149ab,_0x5469ad=await this[_0x4fbeef(0xa43)]['openGenerativeAIContext'](_0x16587d);return{'createAIJob':_0x5469ad[_0x4fbeef(0x635)][_0x4fbeef(0x26b)](_0x5469ad),'getDataBucketIds':_0x5469ad['getDataBucketIds'][_0x4fbeef(0x26b)](_0x5469ad),'close':_0x5469ad[_0x4fbeef(0x11b)][_0x4fbeef(0x26b)](_0x5469ad)};}async[_0x3149ab(0x847)](_0xd11189){const _0x34ad7e=_0x3149ab,_0x10ef82=await this[_0x34ad7e(0xa43)][_0x34ad7e(0x847)](_0xd11189);return{'close':_0x10ef82[_0x34ad7e(0x11b)]['bind'](_0x10ef82)};}[_0x3149ab(0x5bd)](_0xedabf2){const _0x482ace=_0x3149ab,_0x4d2ce7=this[_0x482ace(0xa43)]['openGraphDatabase'](_0xedabf2);return{'getName':_0x4d2ce7[_0x482ace(0x195)]['bind'](_0x4d2ce7),'getOwnerId':_0x4d2ce7['getOwnerId'][_0x482ace(0x26b)](_0x4d2ce7),'getContentType':_0x4d2ce7[_0x482ace(0x941)][_0x482ace(0x26b)](_0x4d2ce7),'addNode':_0x4d2ce7['addNode'][_0x482ace(0x26b)](_0x4d2ce7),'addEdge':_0x4d2ce7[_0x482ace(0x10b)][_0x482ace(0x26b)](_0x4d2ce7),'getContent':_0x4d2ce7['getContent']['bind'](_0x4d2ce7),'remove':_0x4d2ce7[_0x482ace(0x31c)][_0x482ace(0x26b)](_0x4d2ce7),'saveToDisk':_0x4d2ce7[_0x482ace(0x17b)][_0x482ace(0x26b)](_0x4d2ce7),'loadFromDisk':_0x4d2ce7[_0x482ace(0x617)][_0x482ace(0x26b)](_0x4d2ce7),'close':_0x4d2ce7[_0x482ace(0x11b)]['bind'](_0x4d2ce7)};}['openVectorDatabase'](_0x20cacb){const _0x4e5883=_0x3149ab,_0x3de4be=this[_0x4e5883(0xa43)]['openVectorDatabase'](_0x20cacb);return{'getName':_0x3de4be[_0x4e5883(0x195)]['bind'](_0x3de4be),'getOwnerId':_0x3de4be[_0x4e5883(0x84a)]['bind'](_0x3de4be),'getContentType':_0x3de4be[_0x4e5883(0x941)][_0x4e5883(0x26b)](_0x3de4be),'search':_0x3de4be[_0x4e5883(0x5e9)][_0x4e5883(0x26b)](_0x3de4be),'insert':_0x3de4be[_0x4e5883(0x8ce)]['bind'](_0x3de4be),'remove':_0x3de4be[_0x4e5883(0x31c)][_0x4e5883(0x26b)](_0x3de4be),'saveToDisk':_0x3de4be[_0x4e5883(0x17b)][_0x4e5883(0x26b)](_0x3de4be),'loadFromDisk':_0x3de4be[_0x4e5883(0x617)][_0x4e5883(0x26b)](_0x3de4be),'close':_0x3de4be['close'][_0x4e5883(0x26b)](_0x3de4be)};}['getPubSubTopics'](_0x449815){const _0x4d85a9=_0x3149ab;return this[_0x4d85a9(0xa43)]['getPubSubTopics'](_0x449815)['map'](_0x3408e1=>({'getName':_0x3408e1[_0x4d85a9(0x195)][_0x4d85a9(0x26b)](_0x3408e1),'getOwnerId':_0x3408e1[_0x4d85a9(0x84a)][_0x4d85a9(0x26b)](_0x3408e1),'getContentType':_0x3408e1[_0x4d85a9(0x941)][_0x4d85a9(0x26b)](_0x3408e1),'publish':_0x3408e1[_0x4d85a9(0x415)][_0x4d85a9(0x26b)](_0x3408e1),'subscribe':_0x3408e1[_0x4d85a9(0x438)][_0x4d85a9(0x26b)](_0x3408e1),'unsubscribe':_0x3408e1[_0x4d85a9(0x3e9)]['bind'](_0x3408e1),'close':_0x3408e1[_0x4d85a9(0x11b)][_0x4d85a9(0x26b)](_0x3408e1)}));}[_0x3149ab(0x237)](_0x1ff23f){const _0x80deb5=_0x3149ab;return this[_0x80deb5(0xa43)][_0x80deb5(0x237)](_0x1ff23f)[_0x80deb5(0x323)](_0x51bae7=>({'getName':_0x51bae7[_0x80deb5(0x195)]['bind'](_0x51bae7),'getOwnerId':_0x51bae7[_0x80deb5(0x84a)][_0x80deb5(0x26b)](_0x51bae7),'getContentType':_0x51bae7[_0x80deb5(0x941)][_0x80deb5(0x26b)](_0x51bae7),'publish':_0x51bae7['publish']['bind'](_0x51bae7),'unpublish':_0x51bae7[_0x80deb5(0x102)][_0x80deb5(0x26b)](_0x51bae7),'get':_0x51bae7[_0x80deb5(0x524)][_0x80deb5(0x26b)](_0x51bae7),'list':_0x51bae7[_0x80deb5(0x253)][_0x80deb5(0x26b)](_0x51bae7),'getSize':_0x51bae7[_0x80deb5(0x535)][_0x80deb5(0x26b)](_0x51bae7),'subscribe':_0x51bae7['subscribe'][_0x80deb5(0x26b)](_0x51bae7),'unsubscribe':_0x51bae7['unsubscribe'][_0x80deb5(0x26b)](_0x51bae7),'close':_0x51bae7[_0x80deb5(0x11b)][_0x80deb5(0x26b)](_0x51bae7)}));}[_0x3149ab(0x6fc)](_0x3e4522){const _0x8f8219=_0x3149ab;return this[_0x8f8219(0xa43)][_0x8f8219(0x6fc)](_0x3e4522)['map'](_0xcc1723=>({'getName':_0xcc1723[_0x8f8219(0x195)][_0x8f8219(0x26b)](_0xcc1723),'getOwnerId':_0xcc1723['getOwnerId'][_0x8f8219(0x26b)](_0xcc1723),'getContentType':_0xcc1723[_0x8f8219(0x941)][_0x8f8219(0x26b)](_0xcc1723),'close':_0xcc1723[_0x8f8219(0x11b)][_0x8f8219(0x26b)](_0xcc1723),'get':_0xcc1723[_0x8f8219(0x524)]['bind'](_0xcc1723),'list':_0xcc1723[_0x8f8219(0x253)][_0x8f8219(0x26b)](_0xcc1723),'subscribe':_0xcc1723['subscribe']['bind'](_0xcc1723),'unsubscribe':_0xcc1723[_0x8f8219(0x3e9)][_0x8f8219(0x26b)](_0xcc1723)}));}[_0x3149ab(0x343)](_0x2fe381){const _0x4b9de9=_0x3149ab;return this[_0x4b9de9(0xa43)]['getKeyValueDatabases'](_0x2fe381)[_0x4b9de9(0x323)](_0x51c477=>({'getName':_0x51c477[_0x4b9de9(0x195)]['bind'](_0x51c477),'getOwnerId':_0x51c477[_0x4b9de9(0x84a)][_0x4b9de9(0x26b)](_0x51c477),'getContentType':_0x51c477['getContentType'][_0x4b9de9(0x26b)](_0x51c477),'getTable':_0x51c477['getTable']['bind'](_0x51c477),'subscribe':_0x51c477[_0x4b9de9(0x438)][_0x4b9de9(0x26b)](_0x51c477),'unsubscribe':_0x51c477[_0x4b9de9(0x3e9)][_0x4b9de9(0x26b)](_0x51c477),'close':_0x51c477['close'][_0x4b9de9(0x26b)](_0x51c477)}));}[_0x3149ab(0x388)](_0x9a702a){const _0x1d4fdc=_0x3149ab;return this['orchestrator']['getGenerativeAIContexts'](_0x9a702a)[_0x1d4fdc(0x323)](_0x5576a5=>({'createAIJob':_0x5576a5['createAIJob'][_0x1d4fdc(0x26b)](_0x5576a5),'getDataBucketIds':_0x5576a5['getDataBucketIds']['bind'](_0x5576a5),'close':_0x5576a5[_0x1d4fdc(0x11b)][_0x1d4fdc(0x26b)](_0x5576a5)}));}[_0x3149ab(0x96c)](_0x5a4d24){const _0x4d4a58=_0x3149ab;return this['orchestrator'][_0x4d4a58(0x96c)](_0x5a4d24)[_0x4d4a58(0x323)](_0x16e75e=>({'close':_0x16e75e[_0x4d4a58(0x11b)]['bind'](_0x16e75e)}));}['publishLocalMediaStream'](_0x2941a6,_0x5754da){const _0x4e7f4f=_0x3149ab,_0x479b1b=this['orchestrator']['createLocalMediaStream'](_0x2941a6,_0x5754da);return{'getLabel':_0x479b1b[_0x4e7f4f(0x8e1)][_0x4e7f4f(0x26b)](_0x479b1b),'getOwnerId':_0x479b1b['getOwnerId'][_0x4e7f4f(0x26b)](_0x479b1b),'getContentType':_0x479b1b[_0x4e7f4f(0x941)]['bind'](_0x479b1b),'getMediaStream':_0x479b1b['getMediaStream'][_0x4e7f4f(0x26b)](_0x479b1b),'setPriority':_0x479b1b[_0x4e7f4f(0x362)]['bind'](_0x479b1b),'unpublish':_0x479b1b[_0x4e7f4f(0x102)]['bind'](_0x479b1b)};}[_0x3149ab(0x77d)](_0xe9f142,_0x2fe0ea){const _0x381ac7=_0x3149ab,_0x4d20d4=this[_0x381ac7(0xa43)][_0x381ac7(0x817)](_0xe9f142,_0x2fe0ea);return{'getLabel':_0x4d20d4[_0x381ac7(0x8e1)]['bind'](_0x4d20d4),'getOwnerId':_0x4d20d4[_0x381ac7(0x84a)][_0x381ac7(0x26b)](_0x4d20d4),'getContentType':_0x4d20d4[_0x381ac7(0x941)][_0x381ac7(0x26b)](_0x4d20d4),'setPriority':_0x4d20d4[_0x381ac7(0x362)][_0x381ac7(0x26b)](_0x4d20d4),'unpublish':_0x4d20d4[_0x381ac7(0x102)][_0x381ac7(0x26b)](_0x4d20d4),'getMediaStream':_0x4d20d4[_0x381ac7(0x414)][_0x381ac7(0x26b)](_0x4d20d4),'addTrack':_0x4d20d4[_0x381ac7(0x35f)][_0x381ac7(0x26b)](_0x4d20d4),'removeTrack':_0x4d20d4['removeTrack'][_0x381ac7(0x26b)](_0x4d20d4),'replaceTrack':_0x4d20d4[_0x381ac7(0x180)][_0x381ac7(0x26b)](_0x4d20d4),'setTransformations':_0x4d20d4[_0x381ac7(0x476)][_0x381ac7(0x26b)](_0x4d20d4)};}[_0x3149ab(0x503)](_0xa793af){const _0x402b3d=_0x3149ab;return this['orchestrator'][_0x402b3d(0x503)](_0xa793af)['map'](_0x475db4=>({'getLabel':_0x475db4[_0x402b3d(0x8e1)][_0x402b3d(0x26b)](_0x475db4),'getOwnerId':_0x475db4['getOwnerId']['bind'](_0x475db4),'getContentType':_0x475db4[_0x402b3d(0x941)]['bind'](_0x475db4),'getMediaStream':_0x475db4[_0x402b3d(0x414)][_0x402b3d(0x26b)](_0x475db4),'setPriority':_0x475db4[_0x402b3d(0x362)]['bind'](_0x475db4),'unpublish':_0x475db4['unpublish']['bind'](_0x475db4)}));}[_0x3149ab(0x62f)](_0x3880af){const _0x276064=_0x3149ab;return this['orchestrator'][_0x276064(0x62f)](_0x3880af)[_0x276064(0x323)](_0x12a9e5=>({'getLabel':_0x12a9e5[_0x276064(0x8e1)][_0x276064(0x26b)](_0x12a9e5),'getOwnerId':_0x12a9e5[_0x276064(0x84a)][_0x276064(0x26b)](_0x12a9e5),'getContentType':_0x12a9e5[_0x276064(0x941)][_0x276064(0x26b)](_0x12a9e5),'getMediaStream':_0x12a9e5['getMediaStream'][_0x276064(0x26b)](_0x12a9e5),'subscribe':_0x12a9e5[_0x276064(0x438)]['bind'](_0x12a9e5),'unsubscribe':_0x12a9e5[_0x276064(0x3e9)][_0x276064(0x26b)](_0x12a9e5),'getAvailableTrackKinds':_0x12a9e5[_0x276064(0x1eb)][_0x276064(0x26b)](_0x12a9e5),'update':_0x12a9e5['update'][_0x276064(0x26b)](_0x12a9e5),'onProviderChange':_0x12a9e5[_0x276064(0x5c4)][_0x276064(0x26b)](_0x12a9e5)}));}['getGraphDatabases'](_0x48d301){const _0x4667f5=_0x3149ab;return this[_0x4667f5(0xa43)][_0x4667f5(0x676)](_0x48d301)[_0x4667f5(0x323)](_0x121de2=>({'getName':_0x121de2[_0x4667f5(0x195)][_0x4667f5(0x26b)](_0x121de2),'getOwnerId':_0x121de2[_0x4667f5(0x84a)][_0x4667f5(0x26b)](_0x121de2),'getContentType':_0x121de2[_0x4667f5(0x941)]['bind'](_0x121de2),'addNode':_0x121de2[_0x4667f5(0x1e5)][_0x4667f5(0x26b)](_0x121de2),'addEdge':_0x121de2[_0x4667f5(0x10b)][_0x4667f5(0x26b)](_0x121de2),'getContent':_0x121de2['getContent'][_0x4667f5(0x26b)](_0x121de2),'remove':_0x121de2['remove'][_0x4667f5(0x26b)](_0x121de2),'saveToDisk':_0x121de2[_0x4667f5(0x17b)][_0x4667f5(0x26b)](_0x121de2),'loadFromDisk':_0x121de2[_0x4667f5(0x617)][_0x4667f5(0x26b)](_0x121de2),'close':_0x121de2[_0x4667f5(0x11b)][_0x4667f5(0x26b)](_0x121de2)}));}[_0x3149ab(0x9f9)](_0x2af917){const _0x1c7333=_0x3149ab;return this[_0x1c7333(0xa43)][_0x1c7333(0x9f9)](_0x2af917)[_0x1c7333(0x323)](_0x2f00c1=>({'getName':_0x2f00c1['getName'][_0x1c7333(0x26b)](_0x2f00c1),'getOwnerId':_0x2f00c1[_0x1c7333(0x84a)][_0x1c7333(0x26b)](_0x2f00c1),'getContentType':_0x2f00c1[_0x1c7333(0x941)][_0x1c7333(0x26b)](_0x2f00c1),'search':_0x2f00c1['search']['bind'](_0x2f00c1),'insert':_0x2f00c1[_0x1c7333(0x8ce)][_0x1c7333(0x26b)](_0x2f00c1),'remove':_0x2f00c1['remove'][_0x1c7333(0x26b)](_0x2f00c1),'saveToDisk':_0x2f00c1['saveToDisk'][_0x1c7333(0x26b)](_0x2f00c1),'loadFromDisk':_0x2f00c1[_0x1c7333(0x617)][_0x1c7333(0x26b)](_0x2f00c1),'close':_0x2f00c1[_0x1c7333(0x11b)][_0x1c7333(0x26b)](_0x2f00c1)}));}['getLocalNode'](){const _0x51b72c=_0x3149ab,_0x127e60=this[_0x51b72c(0xa43)][_0x51b72c(0xad3)]();switch(_0x127e60[_0x51b72c(0x16c)]){case _0x3a4c7c[_0x51b72c(0x4eb)][_0x51b72c(0x128)]:return{'type':_0x3a4c7c[_0x51b72c(0x4eb)]['User'],'getId':_0x127e60['getId'][_0x51b72c(0x26b)](_0x127e60),'getDisplayName':_0x127e60['getDisplayName'][_0x51b72c(0x26b)](_0x127e60),'getEmail':_0x127e60['getEmail'][_0x51b72c(0x26b)](_0x127e60),'getRemoteConnections':_0x127e60['getRemoteConnections']['bind'](_0x127e60),'setDisplayName':_0x127e60['setDisplayName'][_0x51b72c(0x26b)](_0x127e60),'setEmail':_0x127e60[_0x51b72c(0x2f3)][_0x51b72c(0x26b)](_0x127e60)};case _0x3a4c7c[_0x51b72c(0x4eb)]['Agent']:default:return{'type':_0x3a4c7c['NodeType']['Agent'],'getId':_0x127e60[_0x51b72c(0x394)][_0x51b72c(0x26b)](_0x127e60),'getRemoteConnections':_0x127e60[_0x51b72c(0x49e)][_0x51b72c(0x26b)](_0x127e60)};}}[_0x3149ab(0x88d)](_0x34e1dd){const _0x101469=_0x3149ab;return this[_0x101469(0xa43)]['getRemoteNodes'](_0x34e1dd)[_0x101469(0x323)](_0x181eaf=>{const _0x9869a0=_0x101469;switch(_0x181eaf['type']){case _0x3a4c7c[_0x9869a0(0x4eb)][_0x9869a0(0x128)]:return{'type':_0x3a4c7c[_0x9869a0(0x4eb)]['User'],'getId':_0x181eaf[_0x9869a0(0x394)][_0x9869a0(0x26b)](_0x181eaf),'getDisplayName':_0x181eaf[_0x9869a0(0x4c9)]['bind'](_0x181eaf),'getEmail':_0x181eaf[_0x9869a0(0x973)][_0x9869a0(0x26b)](_0x181eaf),'getRemoteConnections':_0x181eaf['getRemoteConnections'][_0x9869a0(0x26b)](_0x181eaf)};case _0x3a4c7c[_0x9869a0(0x4eb)]['Agent']:return{'type':_0x3a4c7c[_0x9869a0(0x4eb)]['Agent'],'getId':_0x181eaf[_0x9869a0(0x394)][_0x9869a0(0x26b)](_0x181eaf),'getRemoteConnections':_0x181eaf[_0x9869a0(0x49e)][_0x9869a0(0x26b)](_0x181eaf)};default:throw new _0xab88d9(_0x3cba44[_0x9869a0(0x2c2)],_0x9869a0(0x7e9));}});}['on']=(..._0x53d369)=>{const _0x44fdc1=_0x3149ab;this[_0x44fdc1(0x1a5)]['on'](..._0x53d369);};[_0x3149ab(0x6ad)]=(..._0x2d5b54)=>this[_0x3149ab(0x1a5)][_0x3149ab(0x6ad)](..._0x2d5b54);[_0x3149ab(0x456)](..._0x2019ee){this['eventEmitter']['off'](..._0x2019ee);}}class _0x1b5a1a{['id'];['displayName'];[_0x3149ab(0x50e)];[_0x3149ab(0x16c)]=_0x3a4c7c[_0x3149ab(0x4eb)][_0x3149ab(0x128)];[_0x3149ab(0x45f)]=new Map();['observer']=_0x269228();constructor(_0x1c17ce,_0x4072bf,_0xee998f){const _0x4757da=_0x3149ab;this['id']=_0x1c17ce,this['displayName']=_0x4072bf,this[_0x4757da(0x50e)]=_0xee998f;}[_0x3149ab(0x394)](){return this['id'];}[_0x3149ab(0x4c9)](){const _0x531ac0=_0x3149ab;return this[_0x531ac0(0x10a)];}['getEmail'](){const _0x577b5a=_0x3149ab;return this[_0x577b5a(0x50e)];}[_0x3149ab(0x830)](_0x5d6f10){const _0x3b34b5=_0x3149ab;this['displayName']!==_0x5d6f10&&(this[_0x3b34b5(0x10a)]=_0x5d6f10,this['observer'][_0x3b34b5(0x415)](this));}['setEmail'](_0x2548ad){const _0x54e781=_0x3149ab;this['email']!==_0x2548ad&&(this[_0x54e781(0x50e)]=_0x2548ad,this[_0x54e781(0x8ab)][_0x54e781(0x415)](this));}['registerCluster'](_0x47a1bf,_0x18118b){const _0x15a1a6=_0x3149ab;if(this[_0x15a1a6(0x45f)][_0x15a1a6(0x2a7)](_0x47a1bf))return;const _0x1e3a31=this['observer']['subscribe'](_0x18118b);this['joinedClusters']['set'](_0x47a1bf,_0x1e3a31);}[_0x3149ab(0x4a2)](_0xb4754e){const _0x119bf2=_0x3149ab;if(!this['joinedClusters'][_0x119bf2(0x2a7)](_0xb4754e))return;const _0x23cc48=this[_0x119bf2(0x45f)]['get'](_0xb4754e);_0x23cc48&&_0x23cc48(),this[_0x119bf2(0x45f)][_0x119bf2(0x979)](_0xb4754e);}}class _0x566ab1{[_0x3149ab(0x164)];[_0x3149ab(0x442)];constructor(_0x133e42){const _0x359f6e=_0x3149ab;this[_0x359f6e(0x164)]=_0x133e42;}async[_0x3149ab(0x678)](_0x2ec3dd){const _0x46e67a=_0x3149ab,_0x93be96=await(0x0,_0x3ff2c6[_0x46e67a(0x13b)])(_0x52f3ef['getFunctions'](),_0x46e67a(0x8d9))({'uid':'ccc'+this[_0x46e67a(0x164)]+_0x46e67a(0x2ca)+_0x2ec3dd['id']}),_0x36cefe=await(0x0,_0x15de28[_0x46e67a(0x3d1)])(_0x52f3ef[_0x46e67a(0x3aa)](),_0x93be96[_0x46e67a(0x9b8)][_0x46e67a(0x97f)]);this['user']=_0x36cefe['user'];}async[_0x3149ab(0x55e)](){const _0x21332a=_0x3149ab;await(0x0,_0x15de28['signOut'])(_0x52f3ef[_0x21332a(0x3aa)]());}[_0x3149ab(0x9ee)](){const _0x477185=_0x3149ab;return this[_0x477185(0x442)]?.[_0x477185(0x9ee)]()??Promise[_0x477185(0x517)](_0x477185(0xac2));}}class _0xe37175{static ['instance'];[_0x3149ab(0x984)]=[];constructor(){}static['getInstance'](){const _0x5d5cad=_0x3149ab;return _0xe37175[_0x5d5cad(0x663)]||(_0xe37175[_0x5d5cad(0x663)]=new _0xe37175()),_0xe37175[_0x5d5cad(0x663)];}[_0x3149ab(0x481)](){const _0x24e74f=_0x3149ab;this[_0x24e74f(0x96f)](),this['checkMediaStream'](),this[_0x24e74f(0x41b)](),this[_0x24e74f(0x627)](),this[_0x24e74f(0x56c)](),this['checkAudioOutput'](),this[_0x24e74f(0x2df)](),this['checkBackgrounds'](),this[_0x24e74f(0xaa1)](),this[_0x24e74f(0x7fa)](),_0x5b2279[_0x24e74f(0x66c)](_0x44d495[_0x24e74f(0xa77)],'Support:\x20current\x20config',{'featureSupport':this[_0x24e74f(0x984)]});}[_0x3149ab(0x47a)](_0x5e664d){const _0x6bc66c=_0x3149ab,_0x15049e=this[_0x6bc66c(0x984)]['find'](_0x2712ee=>_0x2712ee[_0x6bc66c(0x662)]===_0x5e664d);return!!_0x15049e&&_0x15049e[_0x6bc66c(0x665)];}[_0x3149ab(0x3ce)](_0x562f83){const _0x2f558f=_0x3149ab;_0x5b2279['logEvent']('support',{'nodeId':_0x562f83[_0x2f558f(0x394)](),'nodeType':_0x562f83['type'],'data':{'featureSupport':this[_0x2f558f(0x984)]}});}[_0x3149ab(0x96f)](){const _0x4f2dc0=_0x3149ab,_0x353ff4=_0x28455d[_0x4f2dc0(0x47f)];let _0x57b6c4=!0x1;_0x4f2dc0(0x744)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x4f2dc0(0x744)==typeof RTCSessionDescription?_0x57b6c4=!0x0:_0x5b2279[_0x4f2dc0(0x66c)](_0x44d495['Support'],_0x4f2dc0(0x2c0)+_0x353ff4+_0x4f2dc0(0xaae)),this['featureSupport']['push']({'name':_0x353ff4,'supported':_0x57b6c4});}['checkMediaStream'](){const _0x19ac01=_0x3149ab,_0x57843e=_0x28455d[_0x19ac01(0x7b4)];let _0x1060bf=!0x1;_0x19ac01(0x744)==typeof MediaStream&&_0x19ac01(0x744)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x19ac01(0x72f)==typeof navigator[_0x19ac01(0x86e)]&&_0x19ac01(0x744)==typeof navigator[_0x19ac01(0x86e)][_0x19ac01(0x22b)]?_0x1060bf=!0x0:_0x5b2279[_0x19ac01(0x66c)](_0x44d495[_0x19ac01(0xa77)],_0x19ac01(0x2c0)+_0x57843e+_0x19ac01(0xaae)),this['featureSupport'][_0x19ac01(0x7e8)]({'name':_0x57843e,'supported':_0x1060bf});}[_0x3149ab(0x41b)](){const _0x474c6f=_0x3149ab,_0x85328=_0x28455d[_0x474c6f(0x83f)];let _0x2212b4=!0x1;_0x474c6f(0x72f)==typeof navigator&&_0x474c6f(0x72f)==typeof navigator['mediaDevices']&&_0x474c6f(0x744)==typeof navigator['mediaDevices']['getDisplayMedia']?_0x2212b4=!0x0:_0x5b2279[_0x474c6f(0x66c)](_0x44d495['Support'],_0x474c6f(0x2c0)+_0x85328+_0x474c6f(0xaae)),this['featureSupport']['push']({'name':_0x85328,'supported':_0x2212b4});}[_0x3149ab(0x627)](){const _0x33f694=_0x3149ab,_0x32e03c=_0x28455d[_0x33f694(0x1c6)];let _0x570f28=!0x1;_0x33f694(0x744)!=typeof AudioContext||_0x33f694(0x744)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x33f694(0x744)!=typeof MediaStreamAudioSourceNode?_0x5b2279[_0x33f694(0x66c)](_0x44d495[_0x33f694(0xa77)],'Support:\x20'+_0x32e03c+_0x33f694(0xaae)):_0x570f28=!0x0,this[_0x33f694(0x984)][_0x33f694(0x7e8)]({'name':_0x32e03c,'supported':_0x570f28});}['checkDeviceConfig'](){const _0x3b6f85=_0x3149ab,_0x3c655d=_0x28455d[_0x3b6f85(0x33c)];let _0x2fb1c5=!0x1;_0x3b6f85(0x72f)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x3b6f85(0x744)==typeof navigator[_0x3b6f85(0x86e)][_0x3b6f85(0x629)]&&_0x3b6f85(0x744)==typeof MediaDeviceInfo?_0x2fb1c5=!0x0:_0x5b2279[_0x3b6f85(0x66c)](_0x44d495[_0x3b6f85(0xa77)],'Support:\x20'+_0x3c655d+_0x3b6f85(0xaae)),this[_0x3b6f85(0x984)][_0x3b6f85(0x7e8)]({'name':_0x3c655d,'supported':_0x2fb1c5});}[_0x3149ab(0x14b)](){const _0x4075b1=_0x3149ab,_0x5619f3=_0x28455d[_0x4075b1(0x557)];let _0x3ff425=!0x1;_0x4075b1(0x72f)==typeof document&&_0x4075b1(0x744)==typeof document[_0x4075b1(0xad5)](_0x4075b1(0x717))[_0x4075b1(0xa4a)]?_0x3ff425=!0x0:_0x5b2279[_0x4075b1(0x66c)](_0x44d495[_0x4075b1(0xa77)],_0x4075b1(0x2c0)+_0x5619f3+_0x4075b1(0xaae)),this[_0x4075b1(0x984)][_0x4075b1(0x7e8)]({'name':_0x5619f3,'supported':_0x3ff425});}async[_0x3149ab(0x2df)](){const _0x4d12d2=_0x3149ab,_0x33400b=_0x28455d[_0x4d12d2(0x7c8)];let _0x1dbffb=!0x1;try{const _0x18ddfc=document[_0x4d12d2(0xad5)](_0x4d12d2(0x74f));if(MediaRecorder&&MediaSource&&_0x18ddfc[_0x4d12d2(0x5ed)]){const _0x3e0c5f=_0x18ddfc[_0x4d12d2(0x5ed)](),_0x250b3a=new MediaRecorder(_0x3e0c5f);_0x250b3a['start'](),await new Promise(_0x48abd7=>setTimeout(_0x48abd7,0x7d0)),_0x250b3a['stop'](),_0x1dbffb=_0x4d12d2(0xa33)===_0x250b3a['state'];}}catch(_0x270237){_0x5b2279[_0x4d12d2(0x66c)](_0x44d495[_0x4d12d2(0xa77)],_0x4d12d2(0x2c0)+_0x33400b+_0x4d12d2(0xa59),_0x270237);}this[_0x4d12d2(0x984)][_0x4d12d2(0x7e8)]({'name':_0x33400b,'supported':_0x1dbffb}),_0x1dbffb||_0x5b2279[_0x4d12d2(0x66c)](_0x44d495[_0x4d12d2(0xa77)],_0x4d12d2(0x2c0)+_0x33400b+'\x20not\x20supported');}[_0x3149ab(0x581)](){const _0x38fa9f=_0x3149ab,_0x3be7fc=_0x28455d[_0x38fa9f(0xa52)];let _0x27db0d=!0x1;try{document[_0x38fa9f(0xad5)](_0x38fa9f(0x74f))[_0x38fa9f(0x5ed)]&&(_0x27db0d=!0x0);}catch(_0xa50840){_0x5b2279[_0x38fa9f(0x66c)](_0x44d495['Support'],_0x38fa9f(0x2c0)+_0x3be7fc+'\x20check\x20failed',_0xa50840);}this[_0x38fa9f(0x984)][_0x38fa9f(0x7e8)]({'name':_0x3be7fc,'supported':_0x27db0d}),_0x27db0d||_0x5b2279[_0x38fa9f(0x66c)](_0x44d495[_0x38fa9f(0xa77)],_0x38fa9f(0x2c0)+_0x3be7fc+_0x38fa9f(0xaae));}[_0x3149ab(0xaa1)](){const _0x625254=_0x3149ab,_0x492e2a=_0x28455d['WebGL'];let _0x69b9e2=!0x1;try{const _0x323007=document['createElement'](_0x625254(0x74f));WebGLRenderingContext&&_0x323007[_0x625254(0x73f)](_0x625254(0x5f8))&&(_0x69b9e2=!0x0);}catch(_0x394aed){_0x5b2279[_0x625254(0x66c)](_0x44d495['Support'],'Support:\x20'+_0x492e2a+_0x625254(0xa59),_0x394aed);}this[_0x625254(0x984)][_0x625254(0x7e8)]({'name':_0x492e2a,'supported':_0x69b9e2}),_0x69b9e2||_0x5b2279[_0x625254(0x66c)](_0x44d495[_0x625254(0xa77)],_0x625254(0x2c0)+_0x492e2a+_0x625254(0xaae));}[_0x3149ab(0x7fa)](){const _0x115da5=_0x3149ab,_0x1f01ed=_0x28455d['AudioContext'];let _0x1eb401=!0x1;_0x115da5(0x744)==typeof AudioContext?_0x1eb401=!0x0:_0x5b2279['log'](_0x44d495[_0x115da5(0xa77)],_0x115da5(0x2c0)+_0x1f01ed+'\x20not\x20supported'),this[_0x115da5(0x984)][_0x115da5(0x7e8)]({'name':_0x1f01ed,'supported':_0x1eb401});}}const _0x5105c4=_0xe37175[_0x3149ab(0x24f)]();class _0x327a67{static [_0x3149ab(0x663)];static [_0x3149ab(0x3e9)];static [_0x3149ab(0x155)];[_0x3149ab(0x56e)];[_0x3149ab(0x164)];['options'];[_0x3149ab(0x5a0)];['clusters']=new Map();[_0x3149ab(0x5df)];constructor(_0x3a5ebe,_0x32a485,_0x127b0b){const _0x3775f1=_0x3149ab;this[_0x3775f1(0x164)]=_0x3a5ebe,this['configs']=_0x32a485,this[_0x3775f1(0x56e)]=new _0x566ab1(this[_0x3775f1(0x164)]),_0x5105c4[_0x3775f1(0x481)](),this[_0x3775f1(0x818)]={'audioContext':_0x127b0b?.[_0x3775f1(0x93a)]??(_0x5105c4[_0x3775f1(0x47a)](_0x28455d[_0x3775f1(0x68f)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x127b0b?.[_0x3775f1(0x9b9)]??0x1,'minConnections':_0x127b0b?.[_0x3775f1(0xa39)]??0x3,'maxConnections':_0x127b0b?.[_0x3775f1(0x95a)]??(_0x127b0b?.[_0x3775f1(0xa39)]&&0x4*_0x127b0b[_0x3775f1(0xa39)])??0xc,'maxDistance':_0x127b0b?.['maxDistance']??0xa,'maxFps':_0x127b0b?.[_0x3775f1(0x8d7)]??0x18,'maxBpp':_0x127b0b?.['maxBpp']??0.12,'objectStoreConnector':_0x127b0b?.[_0x3775f1(0x1c2)]??_0x3372cf[_0x3775f1(0xaf0)],'externalStorageConnectors':_0x127b0b?.[_0x3775f1(0x2de)],'keyValueDatabaseConnector':_0x127b0b?.[_0x3775f1(0x53e)]??_0x133803[_0x3775f1(0x4c8)],'peerConnectionConnector':_0x127b0b?.[_0x3775f1(0x39f)]??_0x5d0f81[_0x3775f1(0xa3d)],'generativeAIWorkerConnectors':_0x127b0b?.[_0x3775f1(0x8e5)],'vectorDatabaseConnector':_0x127b0b?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x127b0b?.[_0x3775f1(0x3ae)],'documentParserConnector':_0x127b0b?.[_0x3775f1(0x447)],'fileConnector':_0x127b0b?.[_0x3775f1(0x204)],'nlpLibraryConnector':_0x127b0b?.['nlpLibraryConnector'],'searchConnector':_0x127b0b?.['searchConnector'],'aiSearchConnector':_0x127b0b?.[_0x3775f1(0x927)],'queryFileConnector':_0x127b0b?.[_0x3775f1(0x7bc)],'ragConnectors':_0x127b0b?.['ragConnectors']},_0x127b0b?.[_0x3775f1(0x785)]&&this[_0x3775f1(0x818)][_0x3775f1(0x93a)]&&_0x39ab67[_0x3775f1(0x29d)](this['options'][_0x3775f1(0x93a)]),_0x5b2279['setVendorId'](this['vendorId']),_0x127b0b?.['loggingConnectors']&&_0x5b2279['setLoggingConnectors'](_0x127b0b[_0x3775f1(0xae0)]);}static async['getInstance'](_0x2ed091,_0x215693,_0x402ea7,_0x28c5f1,_0x544650){const _0x420c04=_0x3149ab;this[_0x420c04(0x155)]=_0x402ea7;const _0x15f85b=await this[_0x420c04(0x72a)](_0x2ed091,_0x215693,_0x544650);return _0x327a67[_0x420c04(0x663)]||(_0x327a67[_0x420c04(0x663)]=new _0x327a67(_0x2ed091,_0x15f85b,_0x28c5f1)),{'close':_0x327a67['instance'][_0x420c04(0x11b)][_0x420c04(0x26b)](_0x327a67[_0x420c04(0x663)]),'authenticateUser':_0x327a67['instance'][_0x420c04(0x410)]['bind'](_0x327a67[_0x420c04(0x663)]),'authenticateAgent':_0x327a67[_0x420c04(0x663)][_0x420c04(0xa3b)]['bind'](_0x327a67['instance']),'validateKey':_0x327a67['instance'][_0x420c04(0x793)]['bind'](_0x327a67[_0x420c04(0x663)]),'joinCluster':_0x327a67[_0x420c04(0x663)][_0x420c04(0x9a1)][_0x420c04(0x26b)](_0x327a67[_0x420c04(0x663)])};}static async['timestamp'](){return _0x52f3ef['getEstimatedTimestamp']();}static[_0x3149ab(0x939)](){const _0x684b37=_0x3149ab;return _0x2bdaff[_0x684b37(0x939)];}async[_0x3149ab(0x11b)](_0x46ec78){const _0x39e6c5=_0x3149ab;this[_0x39e6c5(0xa00)]['forEach'](_0xa6cbd5=>{const _0x212544=_0x39e6c5;_0xa6cbd5[_0x212544(0x456)](),_0xa6cbd5[_0x212544(0x2b7)](_0x46ec78);}),this[_0x39e6c5(0xa00)][_0x39e6c5(0x876)](),this[_0x39e6c5(0x818)][_0x39e6c5(0x93a)]&&_0x39ab67[_0x39e6c5(0x278)](),_0x327a67[_0x39e6c5(0x3e9)]?.(),_0x327a67[_0x39e6c5(0x3e9)]=void 0x0,this['authContext']=void 0x0,await this['authService'][_0x39e6c5(0x55e)](),_0x327a67[_0x39e6c5(0x663)]=void 0x0;}static async['validateAccess'](_0x313888,_0x410f2e,_0x27dc3d){const _0x175fd8=_0x3149ab;if(!this['mode'])throw new _0xab88d9(_0x3cba44['NodeTypeRequired'],'Node\x20type\x20is\x20required');let _0x4ef3aa;try{_0x4ef3aa=await(0x0,_0x3ff2c6[_0x175fd8(0x13b)])(_0x52f3ef['getFunctions'](),_0x175fd8(0x337))({'vendorId':_0x313888,'accessToken':_0x410f2e,'secretKey':_0x27dc3d});}catch(_0x54c618){throw new _0xab88d9(_0x3cba44[_0x175fd8(0x283)],'Invalid\x20credentials');}if(!this[_0x175fd8(0x5de)](_0x4ef3aa['data']))throw new _0xab88d9(_0x3cba44[_0x175fd8(0x283)],_0x175fd8(0x31e));const _0x3798b9=_0x4ef3aa[_0x175fd8(0x9b8)];return _0x3798b9[_0x175fd8(0x190)]||(_0x3798b9[_0x175fd8(0x190)]=[]),this['unsubscribe']||(this[_0x175fd8(0x3e9)]=_0x39ab67[_0x175fd8(0x589)](async()=>{const _0x30f8de=_0x175fd8;try{const _0x44af29=await this[_0x30f8de(0x72a)](_0x313888,_0x410f2e,_0x27dc3d);this[_0x30f8de(0x155)]===_0x3a4c7c[_0x30f8de(0x4eb)]['Agent']&&(_0x44af29['iceServers']=_0x44af29['iceServers'][_0x30f8de(0x683)](_0x5cfa0d=>_0x5cfa0d[_0x30f8de(0x734)]['startsWith'](_0x30f8de(0x4af)))),_0x3798b9[_0x30f8de(0x8d2)]=_0x44af29['iceServers'];}catch(_0x5e4022){}},0x1b7740)),_0x3798b9;}async['authenticateUser'](_0xe3713d){const _0x427dfc=_0x3149ab;if(_0x327a67[_0x427dfc(0x155)]!==_0x3a4c7c[_0x427dfc(0x4eb)][_0x427dfc(0x128)])throw new _0xab88d9(_0x3cba44['NodeInvalidType'],_0x427dfc(0x7ef));await this[_0x427dfc(0x56e)]['signInWithCredential'](_0xe3713d);const _0x4858c8=new _0x1b5a1a(_0xe3713d['id'],_0xe3713d[_0x427dfc(0x10a)],_0xe3713d['email']);return this[_0x427dfc(0x5df)]={'node':_0x4858c8},_0x5105c4['logSupport'](_0x4858c8),{'type':_0x3a4c7c[_0x427dfc(0x4eb)][_0x427dfc(0x128)],'getId':_0x4858c8[_0x427dfc(0x394)][_0x427dfc(0x26b)](_0x4858c8),'getDisplayName':_0x4858c8[_0x427dfc(0x4c9)][_0x427dfc(0x26b)](_0x4858c8),'getEmail':_0x4858c8[_0x427dfc(0x973)][_0x427dfc(0x26b)](_0x4858c8),'setDisplayName':_0x4858c8[_0x427dfc(0x830)]['bind'](_0x4858c8),'setEmail':_0x4858c8['setEmail'][_0x427dfc(0x26b)](_0x4858c8)};}async[_0x3149ab(0xa3b)](_0x5d0dcf){const _0x5d7385=_0x3149ab;if(_0x327a67[_0x5d7385(0x155)]!==_0x3a4c7c[_0x5d7385(0x4eb)][_0x5d7385(0x1cb)])throw new _0xab88d9(_0x3cba44[_0x5d7385(0x2c2)],_0x5d7385(0x7ef));const {id:_0x5129b6,groupId:_0x4badc1}=_0x5d0dcf,_0x3c1114=await(0x0,_0x48a8fe[_0x5d7385(0x43d)])((0x0,_0x48a8fe[_0x5d7385(0x6d4)])(_0x52f3ef[_0x5d7385(0x721)](),_0x5d7385(0x5dd)+this[_0x5d7385(0x164)]+'/resources/agent/items/'+_0x4badc1));if(!_0x3c1114[_0x5d7385(0x7a4)]())throw new _0xab88d9(_0x3cba44[_0x5d7385(0x25c)],_0x5d7385(0x17e));const _0x4e55aa=_0x3c1114[_0x5d7385(0x9b8)]();await this['authService'][_0x5d7385(0x678)]({'id':_0x5129b6});const _0xf94654=new _0x465612(_0x5129b6,_0x4badc1,this[_0x5d7385(0x164)],_0x4e55aa);return this[_0x5d7385(0x5df)]={'node':_0xf94654},_0x5105c4[_0x5d7385(0x3ce)](_0xf94654),this['connectAgent'](_0xf94654),{'type':_0x3a4c7c[_0x5d7385(0x4eb)][_0x5d7385(0x1cb)],'getId':_0xf94654['getId'][_0x5d7385(0x26b)](_0xf94654),'onConfigurationChange':_0xf94654[_0x5d7385(0x9c2)]['bind'](_0xf94654),'setReportCapacity':_0xf94654['setReportCapacity']['bind'](_0xf94654)};}async[_0x3149ab(0x793)](_0x4c12f6,_0x48176a){const _0x53aa8c=_0x3149ab,_0x19f4bc=await(0x0,_0x48a8fe[_0x53aa8c(0x43d)])((0x0,_0x48a8fe['doc'])(_0x52f3ef[_0x53aa8c(0x721)](),_0x53aa8c(0x7db)+_0x4c12f6));if(!_0x19f4bc[_0x53aa8c(0x7a4)]()){const _0x132812=atob(_0x4c12f6)['split'](':'),_0x217202=_0x132812[_0x53aa8c(0xa7d)](),_0xd28bbe=_0x132812[_0x53aa8c(0x16a)](':');if(!_0x217202||!_0xd28bbe)throw new _0xab88d9(_0x3cba44[_0x53aa8c(0x283)],_0x53aa8c(0x69b));try{return await(0x0,_0x3ff2c6[_0x53aa8c(0x13b)])(_0x52f3ef['getFunctions'](),_0x53aa8c(0x337))({'vendorId':_0x217202,'accessToken':_0xd28bbe,'origin':_0x48176a}),_0x217202;}catch(_0x3b8090){throw new _0xab88d9(_0x3cba44[_0x53aa8c(0x283)],_0x53aa8c(0x69b));}}return _0x19f4bc[_0x53aa8c(0x9b8)]()[_0x53aa8c(0x164)];}async[_0x3149ab(0x9a1)](_0x42708e){const _0x25e37c=_0x3149ab;if(!this[_0x25e37c(0x5df)])throw new _0xab88d9(_0x3cba44[_0x25e37c(0x25c)],'Node\x20not\x20authenticated');if(this[_0x25e37c(0x5df)][_0x25e37c(0x4c5)][_0x25e37c(0x16c)]!==_0x3a4c7c[_0x25e37c(0x4eb)][_0x25e37c(0x128)])throw new _0xab88d9(_0x3cba44[_0x25e37c(0xa1b)],_0x25e37c(0x783));if(this[_0x25e37c(0xa00)]['has'](_0x42708e))throw new _0xab88d9(_0x3cba44[_0x25e37c(0x3ed)],_0x25e37c(0x7bf));const _0x5b97de=new _0x21bcb1(this[_0x25e37c(0x164)],_0x42708e,this[_0x25e37c(0x5df)][_0x25e37c(0x4c5)],this['authService'],this[_0x25e37c(0x818)],this[_0x25e37c(0x5a0)]);return await _0x5b97de[_0x25e37c(0x16a)](),this[_0x25e37c(0x2dd)](_0x42708e,_0x5b97de),_0x5b2279[_0x25e37c(0x4fb)](_0x25e37c(0xada),{'clusterId':_0x42708e,'nodeId':this[_0x25e37c(0x5df)][_0x25e37c(0x4c5)][_0x25e37c(0x394)](),'nodeType':this['authContext']['node'][_0x25e37c(0x16c)]}),{'leave':_0x5b97de[_0x25e37c(0x2b7)][_0x25e37c(0x26b)](_0x5b97de),'getLocalNode':_0x5b97de[_0x25e37c(0xad3)][_0x25e37c(0x26b)](_0x5b97de),'openPubSubTopic':_0x5b97de[_0x25e37c(0x1fe)]['bind'](_0x5b97de),'openObjectStoreBucket':_0x5b97de['openObjectStoreBucket'][_0x25e37c(0x26b)](_0x5b97de),'openExternalStorageConnection':_0x5b97de['openExternalStorageConnection'][_0x25e37c(0x26b)](_0x5b97de),'openKeyValueDatabase':_0x5b97de[_0x25e37c(0x71b)][_0x25e37c(0x26b)](_0x5b97de),'openGenerativeAIContext':_0x5b97de[_0x25e37c(0xa51)][_0x25e37c(0x26b)](_0x5b97de),'openGenerativeAIWorker':_0x5b97de[_0x25e37c(0x847)][_0x25e37c(0x26b)](_0x5b97de),'openGraphDatabase':_0x5b97de[_0x25e37c(0x5bd)][_0x25e37c(0x26b)](_0x5b97de),'openVectorDatabase':_0x5b97de['openVectorDatabase'][_0x25e37c(0x26b)](_0x5b97de),'publishLocalMediaStream':_0x5b97de[_0x25e37c(0xadd)][_0x25e37c(0x26b)](_0x5b97de),'publishLocalDynamicMediaStream':_0x5b97de['publishLocalDynamicMediaStream'][_0x25e37c(0x26b)](_0x5b97de),'getPubSubTopics':_0x5b97de[_0x25e37c(0x1b5)][_0x25e37c(0x26b)](_0x5b97de),'getObjectStoreBuckets':_0x5b97de['getObjectStoreBuckets'][_0x25e37c(0x26b)](_0x5b97de),'getExternalStorageConnections':_0x5b97de[_0x25e37c(0x6fc)][_0x25e37c(0x26b)](_0x5b97de),'getKeyValueDatabases':_0x5b97de[_0x25e37c(0x343)]['bind'](_0x5b97de),'getGenerativeAIContexts':_0x5b97de[_0x25e37c(0x388)][_0x25e37c(0x26b)](_0x5b97de),'getGenerativeAIWorkers':_0x5b97de[_0x25e37c(0x96c)][_0x25e37c(0x26b)](_0x5b97de),'getGraphDatabases':_0x5b97de['getGraphDatabases'][_0x25e37c(0x26b)](_0x5b97de),'getVectorDatabases':_0x5b97de[_0x25e37c(0x9f9)]['bind'](_0x5b97de),'getLocalMediaStreams':_0x5b97de[_0x25e37c(0x503)]['bind'](_0x5b97de),'getRemoteMediaStreams':_0x5b97de[_0x25e37c(0x62f)][_0x25e37c(0x26b)](_0x5b97de),'getRemoteNodes':_0x5b97de[_0x25e37c(0x88d)][_0x25e37c(0x26b)](_0x5b97de),'on':_0x5b97de['on'][_0x25e37c(0x26b)](_0x5b97de),'off':_0x5b97de[_0x25e37c(0x456)][_0x25e37c(0x26b)](_0x5b97de)};}async['connectAgent'](_0x132ae0){const _0x494ca8=_0x3149ab,_0x19f126=new _0x21bcb1(this[_0x494ca8(0x164)],_0x494ca8(0x5d4),_0x132ae0,this[_0x494ca8(0x56e)],this[_0x494ca8(0x818)],this[_0x494ca8(0x5a0)]);await _0x19f126[_0x494ca8(0x16a)](),this[_0x494ca8(0x2dd)](_0x494ca8(0x5d4),_0x19f126),_0x5b2279[_0x494ca8(0x7b6)]('Joined\x20cluster','crewdle'),await _0x19f126[_0x494ca8(0x847)](_0x494ca8(0x5d4)),_0x5b2279['forceLog'](_0x494ca8(0x255),'crewdle');}['addCluster'](_0x1d3b36,_0x3cd859){const _0x540bbc=_0x3149ab;this[_0x540bbc(0xa00)]['set'](_0x1d3b36,_0x3cd859),_0x3cd859['on'](_0x540bbc(0x290),()=>{const _0x29ddb7=_0x540bbc;_0x3cd859[_0x29ddb7(0x456)](),this['clusters']['delete'](_0x1d3b36);});}static['isInternalSDKConfigs'](_0x3c1452){const _0xddfd51=_0x3149ab;return void 0x0!==_0x3c1452[_0xddfd51(0x8d2)];}}return _0x5dc81b;})())));function a0_0x38d9(_0x28de1b,_0x23b5a2){const _0x3ff320=a0_0x3ff3();return a0_0x38d9=function(_0x38d901,_0xf6d1a){_0x38d901=_0x38d901-0xfe;let _0xdf6483=_0x3ff320[_0x38d901];return _0xdf6483;},a0_0x38d9(_0x28de1b,_0x23b5a2);}function a0_0x3ff3(){const _0x2d0518=['timeSending','Missing\x20answerer\x20id\x20on\x20request\x20answer','logBatch','appsync-close','rtt','heartbeatUnsubscriber','Cannot\x20get\x20file:\x20','performCalculation','Error\x20processing\x20ingest','enabledChannels','getLocalMediaStream','executeAgent','indexOf','trim','NeedRestart','Wait','node-does-not-exist','api','data','maxOutgoingSubscriptions','localNode','confirmSynchronization','.info/serverTimeOffset','Cannot\x20unpublish\x20object:\x20','checkExistingPendingFileContent','ObjectStoreNotSynced','retryLimit','subscription','onConfigurationChange','Ingest','Submit\x20the\x20form.','/resources/generative-ai-collection/items','onloadeddata','Model','/resources/generative-ai-agent/items','waitForArrayBufferSize','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','getPriority','orderByKey','registerSystemPublisher','ChunkSplitter','GenerativeAILabelConflict','writeTransaction\x20-\x20transaction\x20already\x20exists','Copywriter\x20Agent','endsWith','temperature','Node\x20already\x20exists.','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','subscriptions','WebScraper','true','DataStream\x20send','AudioVideoDelay','chunks','ConnectionBufferNotEmpty','Anthropic','bufferedEvents','.go','Found\x20','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','GraphDatabaseAlreadyExists','handleContentUpdateMediaStream','minRelevance','systemTopicUnsubscribe','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','getPeaks','December\x202023','topicLabel','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','left','setRank','setUpgradeTimeout','getIdToken','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','getKeyValueDatabase','logWaitTime','RAG\x20connector\x20is\x20not\x20available','comparePeaks','handleSubscriptionSubscribeMediaStream','collection','action','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','fileChunks','getVectorDatabases','auth','chosenAnswers','Before\x20Synchronization','getRoundTripTime','Key-value\x20database\x20creation\x20failed.','firstValueFrom','clusters','source','OpenAI','Node\x20is\x20not\x20an\x20agent','\x20transactions\x20from\x20node\x20','file.type','Missing\x20remote\x20node\x20or\x20rank','getNumberOutgoingSubscriptions','start','MistletCapacityReportNotSet','disconnectCallback','prompt','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','external-storage-connectors-missing','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','subscriptionRequests','Missing\x20OpenAI\x20API\x20key','debounceLogTimeout','headers','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','Rejected','ceil','_isReady','getFunctions','questions','setIsLoaded','durationTime','NodeTypeNotSupported','OutgoingMediaStreamNoTopic','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','getContent','setPendingFileSyncingPayload','Invalid\x20value.\x20Property\x20\x27','path','missing-incoming-connection','removeVectorDatabase','app','LocalMediaStreamDoesNotExist','NodeAlreadyExist','mediaTopics','https://api.crewdle.ai','.vbs','.py','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','Module','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','claude-3-opus-latest','startsWith','writeFile','functions','updateUser','inactive','.erb','checksum','exports','vector-database-already-exists','Answer','minConnections','Sender\x20connection\x20is\x20not\x20initialized.','authenticateAgent','crewdle-sdk-stg.appspot.com','WebRTCBrowserPeerConnectionConnector','jobQueue','retryCallback','question','updateDebounce','MediaStream\x20feature\x20not\x20enabled','orchestrator','removeNode','NodeManager\x20-\x20NodeUpdate','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','resolveReady','agent-join','destination','setSinkId','signaling','setDoc','debounceRebuildMMR','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','Failed\x20to\x20send\x20job\x20','roundTripTime','openGenerativeAIContext','Backgrounds','FormSkillGetQuestion','OfficeParser','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','match','getRemoteId','getTransactions','\x20check\x20failed','isNodeReady','sampleRate','SentenceSplitter','registerSubscriber','April\x202024','startHeartbeat','waitConnected','every','VectorDatabaseDoesNotExist','removeTrackListeners','GenerativeAIContextStats','Subscription','version','SystemStats','registerSystemSource','collectReceiversStats','handleLocalTrackFailure','.php','Error\x20processing\x20retrieve','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','tracks','handleFileRequestAnswer','relation','trackChanges','Table\x20not\x20found','buildQuery','JobStream','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','Support','setConnectionType','cost','text','MissingRemoteConnection','asObservable','shift','createWritableStream','JobWorker:\x20Sending\x20job\x20bid','optimizationLayers','Invalid\x20version\x20\x27','isOffer','commit','external-storage-connection-already-subscribed','data-stream','messagesReceived','pipe','createSenderConnection','List','addMessage','RequestAccepted','handleConnectionSuccess','hasTable','syncTransactionsWritten','senderPreviousTimestamp','Low','1189736bCAnEh','GenerativeAIContext','ObjectStore','job-dispatcher-observer-not-found','Remote\x20MediaStream\x20already\x20exists','object-store-not-synced','ExecuteCustomSkill','queueLength','/developers/','prompt_tokens','lastClockUpdate','1.0.35.0','JobWorker:\x20Sending\x20job\x20reject','unregisterRemoteNode','setOnDisconnectHandler','addProblem','checkWebGL','No\x20connections\x20available\x20to\x20send\x20message','accumulated','handleNodeJoinNeedPublishedStream','setProviderId','unshift','getSenderBitrate','videoWidth','reportCapacity','LocalMediaStreamNoAudioContext','Job\x20with\x20id\x20','debounceReadyTimeout','getShareableStream','\x20not\x20supported','threadId','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','Key-value\x20database\x20table\x20does\x20not\x20exist.','logStorage','file-delete','getObjectStoreBucket','Error\x20querying\x20file','openaiApiKey','No\x20parameters\x20provided','validation','Code','handleNodeUpdate','Unsupported\x20job\x20type','internal-sdk-error','logRaw','replace','tableName','JobWorkerAlreadyExists','/transactions/','User\x20not\x20signed\x20in','getDistance','WebGL','unregisterDestination','ragConnectors','key-value-database-invalid-value','Cannot\x20publish\x20payload:\x20','Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','Apply\x20remediation','pubsubTopics','object-store-stream-does-not-exist','WaitFalse','receiverCurrentTimestamp','Transaction','RoundTripTime','getDataCollection','getLocalNode','lastExecuted','createElement','Synced','RequestFileWrite','DEBUG\x20-\x20','.exs','join-cluster','standalone','processSenderReport','publishLocalMediaStream','commitLevel','.scala','loggingConnectors','FormSetAnswer','handleContentUnsubscribeMediaStream','notifyClusterNodeUpdate','subscribedTracks','offset','Hub','waitAnswer','UnsubscribeMediaStream','success','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','.groovy','request-file-write','Disconnected','Send\x20request','vector-database-name-not-string','OPFSObjectStoreConnector','handleRemoteTrackFailure','appsync-disconnect','Subscription\x20request\x20has\x20not\x20been\x20answered.','RestartNeedMediaStream','unpublish','height','getToolName','clearWaitAnswer','waitSendBuffer','system-stats','Internal\x20SDK\x20error:\x20','maxLayer','displayName','addEdge','logConnectionState','logMMRRebuild','removeRemoteMediaStream','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','addReservedTables','internalContext','Embeddings','subscription-request-no-answer','pendingHandshakeCandidates','random','ready','AI\x20worker\x20creation\x20failed.','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','topics','onDisconnect','close','maxThreshold','sendIceCandidates','EntityExtractor','createCollection','startAt','senderStreams','skipEncryption','statusText','count','syncPendingFiles','user-update','Method\x20not\x20supported','User','api-key-missing','FramePerSecond','removeJobWorker','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','getSenderTotalBytes','GenerativeAIContext\x20stream\x20error','frameHeight','content','notifyCluster','not-resolved','debugEnabled','Data\x20Received','objectRequests','jobDispatchers','crewdle-sdk','generative-ai-context-job-invalid-type','JobWorker:\x20Tracing\x20not\x20implemented','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','httpsCallable','getAudioVideoDelay','PubSubTopic\x20not\x20found','getWorkflowObjectStorageBuckets','FormSkillSubmitForm','job-dispatcher-invalid-job-type','callback','getRemoteNode','handleCloseContent','onBufferedAmountLow','clusterEventEmitter','request','ExternalStorageConnectionAlreadyExists','embedding','av_delay','audioDestination','checkAudioOutput','/resources/generative-ai-workflow/items/','connection-state','previous','registerRemoteNode','key-value-database-table-not-found','firebase-disconnect','Jobs','async','agentId','mode','/vector_stores/','isRunning','NodeTypeRequired','onCandidate','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','Bid','number','filename','Error','Dedicated','Channel\x20\x27','custom-skill','limit','supportsContentType','vendorId','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','Failed\x20to\x20get\x20filename','>\x0a\x0a','GenerativeAIContextJobFailed','object-store-invalid-payload','join','dbKey','type','GenerativeAITaskType','minThreshold','deleteObject','substring','OutputAudioStream','JobWorker:\x20Received\x20job\x20attribution','google','Agent\x20output\x20is\x20not\x20a\x20string','GraphSearch','handleContentRemoteMediaStreamTrackFail','keyValueDatabases','knowledgeCutoffDate','Coordinator\x20Agent','batch','saveToDisk','subscriptionManager','Disconnect','Agent\x20group\x20not\x20found','openJobDispatcher','replaceTrack','logPropagateSystemEvent','syncTransactions','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','framesEncoded','Optimization','previousBytes','handleNodeLeave','Context','handleMissingSenders','RequestFileSync','getPartsFromSubscription','getPartsForSubscriptionLabel','Blank\x20Agent','job-worker-does-not-exist','sender','features','gpu','Invalid\x20object\x20store\x20state.','ObjectStoreInvalidSyncMessage','coordinator-agent','getName','searchOnGoogle','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','SenderSendMessage','serverTimestamp','isReady','data:\x20[DONE]\x0a\x0a','limitToFirst','createOutgoingSubscription','currentBytes','GenerativeAIWorkerMissingConnector','wait','addPendingHandshakeCandidate','Media','models','addIssue','eventEmitter','handleUnpublishMediaStream','GenerativeAIWorkerStats','deleteFile','inference','Receiver','createConnection','GenerativeAIContextJobTimeout','endpointMethod','removeObjectStore','receiverConnection','media-stream','claude-3-5-haiku-latest','WordSplitter','IntermediateOutput','GenerativeAIContextCreationFailed','getPubSubTopics','ApiKeyMissing','invalid-publisher','1:519415702791:web:5dd39042f881cfde3251a2','transactionQueue','.ts','Pending','debounceAppendLog','CloseGraphDatabase','error','drawImage','external-storage-name-not-string','receiverPreviousTimestamp','objectStoreConnector','storage','local-media-stream-already-exists','No\x20start\x20block\x20found','AudioVolume','getResolution','round','parseWorkflowBlocks','.docx','Agent','getAncestorIds','bitrate','candidate','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','forEach','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','createOffer','anthropicApiKey','compareTransactions','maxBpp','attributes','restartTimeout','Index','createExternalStorageConnection','logger','KeyValueDatabaseAlreadyExists','searchApiKey','Connection\x20does\x20not\x20exist.','nlpLibraryConnector','claude-3-7-sonnet-latest','numeric','getQuery','packetsSent','Error\x20stringifying\x20object','node-type-not-supported','addNode','tool-call','distance','transactionTable','isSyncing','contentType','getAvailableTrackKinds','setupStatsReporting','bufferEvent','Knowledge','Cannot\x20publish\x20folder:\x20','created','collection-delete','generic-agent','createVectorDatabase','getTrack','peakHeights','nextNodeId','incomingTopic','Invalid\x20value.\x20Must\x20be\x20an\x20object.','notifyObjectStoreOfNodeJoin','size','\x27\x20is\x20not\x20ready','chunk-splitter','connection-invalid-data-event','openPubSubTopic','llama-3.1-8b','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','generative-ai-context-job-missing-thread-id','job-dispatcher-does-not-exist','cachedRoot','fileConnector','functionsRegion','outputTokens','clientHeight','.pl','accessToken','removeSubscription','processLocalReport','streamLabel','sendFileRequestPayload','onTrack','updateDebounceTimeout','.yaml','KeyValueDatabase\x20-\x20Sync\x20completed','readyPromises','reportMetric','cluster','GenerativeAIWorker:\x20CollectionDelete\x20failed','createNewBatch','handleOnMessage','addRemoteConnection','VectorDatabaseStats','key-value-database-does-not-exist','data-collection-does-not-exist','getRank','systemMessagesReceived','\x20failed.\x20Retrying...','remoteMediaStreams','URL\x20is\x20required','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','FPS','Missing\x20search\x20API\x20key','shouldEmit','then','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','removePubSubTopic','publishSystemMessage','snippet','commitType','getUserMedia','warning','GraphDatabase','operations','manageOptimization','content-publish-media','Remove','uid','history','GenerativeAIRatingStatus','isEqual','totalDecodeTime','getObjectStoreBuckets','startIndex','job-dispatcher-job-exists','agent-config-changed','bufferedChunks','Query\x20is\x20required','RequestFile','\x20not\x20found.','Invalid\x20key\x20\x27','text/event-stream','setDurationTime','PromptSource','removeExternalStorageConnection','lastTransactionId','getClosestNodes','JobDispatcherJobExists','setForDeletion','Partial','destinationIds','-leave','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','includes','layout','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','getInstance','remediationManager','0\x20B','timeoutValue','list','bandwidth.rtt','Opened\x20generative\x20AI\x20worker','requestSubscriptionAction','appendTransactionAndUpdateHashMap','pool','nodes','ObjectStorage','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','NodeNotAuthenticated','detectAudioIssues','ObjectStoreNameNotString','GenerativeAIRagType','outgoingManager','getBufferedAmount','logSyncMetrics','generativeAIContexts','debounceStats','setupTrackEndedListeners','addBatchOperation','getVectorDatabase','assign','startTime','.liquid','bind','.cs','.hs','ENOENT','QueryBuilderInvalidArgument','index','from','Offer','prompts','\x0a\x20===\x20Current\x20MMR\x20Root','QueryFile','searchOnPerplexity','ModelVector','stopNoThrottlingHack','openTrace','status','High','submitForm','/resources/external-storage/items/','evaluateBids','/workflows/','Error\x20executing\x20code','cpu.av_delay','\x20seconds','InvalidAccess','startTracing','tail','initialPrompt','flatMap','graphService','ExternalStorageUpload','.crewdle-pending','CloseObjectStoreBucket','jobId','Early\x20return','LocalMediaStreamTrackFail','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','cluster-leave','commitTrace','Conditional\x20Router','PubSub','waitSuccess','onConnectionStateChange','workflow','isNeedRestart','timeoutCallback','reasoning','globalObject','failJob','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','startNoThrottlingHack','splice','collection-create','ingestFile','retrieveBlocks','tables','FileWrite','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','transactionsToSync','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','has','\x20after\x20','processReceivedTransactions','cpu.cycle','AISearch','entries','internalProcessJobStream','transformations','eventTarget','Missing\x20transaction\x20id','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','deleteTransactionsForTable','connectionTimeout','internalId','handleSubscriptionNeedMediaStream','tableUnsubscriber','leave','updated','localMediaStreams','processServiceReport','Relation','::￿','JobType','ExternalStorageNameNotString','GenerativeAIWorkerAlreadyExists','Support:\x20','Publish\x20the\x20transaction','NodeInvalidType','Invalid\x20table\x20name\x20\x27','tools','/capacities','cluster-disconnect','queryCollection','getSubscriptionInfo','time_per_frame','ccc','destroy','TextGeneration','.info/connected','RemoteMediaStreamTrackFail','dt_volatility','Core','detectionManager','job-','Completed','batchQueue','open','us-east-1','GraphDatabaseNameNotString','Graph\x20database\x20creation\x20failed.','remoteConnections','ConnectionNotConnected','systemMessages','contextOutputVariable','addCluster','externalStorageConnectors','checkMediaRecording','clearOncloseTimeout','all','\x20must\x20be\x20a\x20valid\x20JSON\x20string','WorkflowDoesNotExist','syncResolve','handleNodeDisconnect','.\x20Confirmation?\x20','Retrieve','ObjectStoreAlreadySubscribed','score','recomputeRoot','statsCollection','frames','listenUnsubscriber','.awk','externalStorages','dataTopics','interview-agent','ObjectStorageUpload','setEmail','pendingFilesSyncing','videoHeight','job-dispatcher-creation-failed','key-value-database','https://crewdle-sdk-default-rtdb.firebaseio.com','senders','queries','Job\x20','JobQueueService:\x20Error\x20running\x20job','graph-database-missing-connector','connectionManager','receiver','indexes','blocks','findNextNodeId','Additional\x20context:\x0a','ExternalStorageConnection\x20not\x20found','framesDecoded','GraphDatabaseMissingConnector','getSimilarity','Connection\x20not\x20connected.','trackCallback','groupId','removeRemoteConnection','learn-agent','batchTimeout','lastRemediations','2929377vRRdfv','appsync-no-destination','workflow-does-not-exist','audioSource','debounceProcessRank','CloseJobWorker','onNodeUpdate','processTransactionsToComputeMMR','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','answerJoin','GenerativeAIContextJobInvalidType','Incoming','handleNoAnswer','remove','stringify','Invalid\x20credentials','addEventListener','Skill','executeQuery','account','map','jobs','Connection\x20already\x20exists','ObjectStoreStats','KeyValueDatabase','contextInputVariable','\x20sending\x20attempt\x20','Invalid\x20params','context','listenerUnsubscribers','gatheringState','Medium','vector-database','VectorDatabaseNameNotString','external-storage','validateQuery','createBufferSource','Waiting','384310bWTJpd','GetContextQuery','sdkValidateAccess','format','handleProblem','Account','pub-sub-topic-already-subscribed','DeviceConfig','Job\x20Dispatcher\x20already\x20exists','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','handleSubscriptionProvideMediaStream','startBidResponseHandling','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','links','getKeyValueDatabases','discoveryUnsubscriber','String','ContentType','setRemoteConnections','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','isPartialResultResponse','addDoc','publishTransaction','min','publishUserUpdate','pendingFilesTransactions','computeHash','CustomSkill','remoteUnsubscriber','byteLength','setLocalRank','audio','\x20MB','getSTVolatility','JobWorker:\x20Sending\x20job\x20partial\x20result','internalProcessJob','.ini','processContentAvailable\x20-\x20Peak\x20comparison:','removeTopic','objectStores','Execute\x20skill\x20','handleFileSync','addTrack','messageListeners','jitter','setPriority','KeyValueDatabaseContentSynchronized','systemTopic','KeyValueDatabaseNotOpen','processRemoteInboundReport','Restart','FileMove','reads','@context.','FormSkill','removeGraphDatabase','additionnalInstructions','handleObjectMove','Initial\x20MMR\x20built\x20with','STVolatility','Vector','Internal\x20unknown\x20error:\x20','publishFolder','ObjectStoreInvalidState','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','Receiver\x20connection\x20is\x20not\x20initialized.','Missing\x20owner\x20node\x20or\x20rank','previousTimestamp','clearConnectionTimeout','msalRefreshToken','joinedAt','application/octet-stream','bytesSent','false','PubSubTopicNameNotString','getMaxDistance','instructions','clearSubscriptionRequestTimeout','receiverPreviousBytes','retryQueue','VectorDatabase\x20not\x20found','getReader','No\x20RAG\x20connector\x20available','getGenerativeAIContexts','competitive-agent','CPUCycle','receivers','receiverTimeProcessing','discover','Invalid\x20content\x20type','topic','nodeManager','listChanges','Sending\x20\x27','ExternalStorage','getId','race','realtime-session-create','runTransaction','mediaStream','reduce','parse','sonar','sendStats','Data\x20Sent','/transactions','peerConnectionConnector','setParams','handlePeerConnectionSystemEvents','folder-create','1:420235181083:web:4eff6062bd845cb0748cbe','label','complete','.cfg','AI\x20Service\x20already\x20exists','failed','getExternalStorageConnection','getAuth','ConnectionGroup','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','Processing','graphDatabaseConnector','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','clusters/','localId','setReceiverTimestamp','SHA-256','deletePendingFile','getDTVolatility','\x20attempts:','\x20attributed\x20to\x20','removeSubscriptionsForNode','collectTransactionsFromNode','ai-search','handleContentSystemEvents','validateValue','secheduleTime','/search','createLocalMediaStream','Learning\x20Agent','KeyValueDatabaseTransactionTableNotInitialized','usage','senderCurrentBytes','getCurrentMaxLayer','syncTimeout','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','outgoingTopic','receiverStreams','Connection','createReceiverConnection','transactions','RemoteMediaStreamAlreadyExists','logSupport','o3-mini','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','signInWithCustomToken','getEntities','bufferedAmount','nodeUpdate','Generative\x20AI\x20context\x20job\x20failed.','KeyValueDatabaseTableDoesNotExist','nodeId','addAudioTrack','Amplify','some','Workflow\x20output\x20is\x20not\x20a\x20string','handleJobAttribution','Router','getLayout','.ipynb','node-not-authenticated','setAnswer','generateClient','FileStatus','pendingSyncTransactions','max','Method\x20not\x20implemented.','removeKeyValueDatabase','inbound-rtp','unsubscribe','SubscriptionRequestInProgress','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','handleSystemEvents','ClusterAlreadyJoined','InputAudioStream','Database\x20not\x20open','loggingCycle','external-storage-connection-already-exists','resizeHandler','getPacketsLostPerc','Error\x20encountered\x20while\x20opening\x20database','processJob','GenerativeAIContextInvalidPartialResult','Entity','isMediaSource','bandwidth.bitrate','\x27\x20reserved','InvalidPublisher','executeWorkflow','ownerId','now','packets','handleUpdateMediaStream','extendedRecipients','getBitrate','collectStats','NodeDoesNotExist','Job\x20service\x20creation\x20failed.','apiUrl','Buffering\x20event','isComputingMMR','toFixed','events','embed','remote-connection-exists','workflow-tool','jobObservers','clearUpgradeTimeout','authenticateUser','.dart','timestamp','getResolutionScale','getMediaStream','publish','ObjectStoreInvalidPayload','VectorDatabaseAlreadyExists','traceLevel','getToolDescription','unregisterSystemSource','checkScreenSharing','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','transactionsToAppend','/stats','keyPath','PubSub\x20already\x20exists','processContentAvailable','knowledge','JobContext','698mdGgYF','calculateSize','WebScraperRaw','relation-extractor','PromptFunctionParamsType','senderPreviousBytes','ReadableStream\x20is\x20not\x20supported','handleOffer','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','generative-ai-context-creation-failed','KeyValueDatabaseContentAvailable','graph-database','committed','Everyone\x20','Invalid\x20where\x20clause','getAgents','getConnectionDestinations','setRemoteNode','Error\x20searching','setupResizeHandler','subscribe','\x20with\x20response:','compileStats','InitialPrompt','handleContentCloseMediaStream','getDoc','\x0a\x0adata:\x20','\x0a\x20===\x20Wait\x20Time:\x20','TestPage','assistant','user','PubSubTopicStats','LoadSkillFunction','ExternalStorageConnectionDoesNotExist','arguments','documentParserConnector','ObjectStoreAlreadyExists','isWhereValues','sendTransactionsValue','getSubscriptionLabel','key-value-database-creation-failed','updateLastUpdated','onRemoveTrack','width','JobStatus','onClose','generative-ai-context-job-failed','All\x20recipients\x20already\x20received','vectorDatabases','CloseMediaStream','off','Sender','Image','listFiles','processOutboundReport','Upgrade','createBatchOperation','statsManager','contentManager','joinedClusters','mediaUnsubscribers','7567602OTXcxh','write','retryCount','Key-value\x20database\x20peak\x20not\x20found.','ObjectKind','\x20answer','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','GenerativeAIModelOutputType','crewdleSDKLoggingChannels','LoggingService:\x20logging\x20enabled\x20for','stream','event','ragConnector','JobDispatcherDoesNotExist','generative-ai-context-job-timeout','file-ingest','PublishMediaStream','\x20with\x20','processPendingSyncTransactions','CanProvideMediaStream','\x20received\x20responses:','setTransformations','ObjectStoreDoesNotExist','subscriptionRequestTimeouts','isPromiseResolved','isFeatureSupported','amd','reranker','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','buildInitialMMR','WebRTC','invalid-access','initialize','.mustache','Trend\x20Spotter','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','orchestrator-close','addBidResponse','AI\x20Search\x20connector\x20not\x20set','connectionState','previousFrames','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','params','WorkflowTool','transaction','Shared','minResolutionScale','onValue','set','.crewdle-last-transaction','.rb','VectorDatabaseCreationFailed','ClosePubSubTopic','No\x20connector\x20found\x20for\x20model','Request','blockId','processList','verb','SubscriptionRequestFailed','digest','\x27:\x20missing\x20or\x20invalid\x20keyPath','getRemoteConnections','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','available','sendPeakTransactions','unregisterCluster','[DONE]','VectorDatabase','getTracks','createObjectStoreBucket','noun','router','buffer','setBytes','WorkflowInvalidBlockType','contentSize','feedback-agent','.js','stun:','direction','handleHandshake','agent-skill','isInternalLoggingConnector','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','KeyValueDatabaseTransactionValueNotSet','Cannot\x20publish\x20file:\x20','JobDispatcherInvalidPayload','rank','WorkflowTrace','sendBid','\x20is\x20required','unsubscribeHandler','getWorkflows','clientWidth','PeerConnectionInvalidDestination','clearHeartbeat','tool','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','RemoteMediaStreamDoesNotExist','database','node','Stream\x20already\x20exists','missing-system-topic','IDBDatabaseConnector','getDisplayName','createJobDispatcher','SubscriptionRequestNoAnswer','POST','totalNodes','generative-ai-label-conflict','getDataBucketIds','setTimestamp','JobDispatcherObserverNotFound','Node','.vue','Search','.ppt','.hbs','generative-ai-context-job-already-consumed','setOnTableWriteHandler','consumeBufferedEvents','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','handleRemediationSystemEvents','streamId','pathName','getConnectionGroup','onDataChannel','updateLastTransactionId','getSupportedContentTypes','Add','trackEndedListeners','condition_result','rootComputationPromise','I\x20have\x20finished\x20executing\x20my\x20task.','PartialResult','table','setStatus','Summary\x20Generator','NodeType','openedTraces','read','processReceiverReport','crewdle-sdk-stg','getOutgoingOptimizationConnections','text-embedding-3-small','Text\x20is\x20required','Online','currentVersion','updateJob','decode','inputTokens','bytesReceived','getVideoTracks','GenerativeAIWorker:\x20FileDelete\x20failed','logEvent','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','phi-4-14b','mergeParts','pubSubTopics','RemoteAdd','encode','ExecuteCode','getLocalMediaStreams','crewdle-sdk-logging-','scheduleTime','system','openExternalStorageConnection','if-else-router','frameWidth','DataStream','page','connect','toString','email','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','key','StorageEventType','syncContent','handleNodeSystemEvents','findIndex','transactionService','Problem\x20detected:\x20','reject','bufferedAmountLowThreshold','fetchUrl','jobType','.jl','NodeUpdate','isReconnecting','subtle','JobQueueService:\x20Running\x20job','handleUnsubscribeMediaStream','KeyValueDatabaseSyncRequired','aws','currentDistance','get','SearchPerplexity','endpointUrl','PubSubTopicAlreadySubscribed','Count','getInternalStreamId','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','capacityReporter','query-generator','msalGetAccessToken','senderConnection','Cannot\x20find\x20External\x20Storage\x20connection:\x20','No\x20file\x20content\x20found','writes','hashPeakHashes','commitBatch','unregisterPublisher','getSize','createBuffer','trend-spotter','statsReporting','generative-ai-worker-model-sync-error','DTVolatility','rating','publishNodeLeave','timesCalled','keyValueDatabaseConnector','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','evaluatePartialJob','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','5rtMjRo','file','Invalid\x20data\x20channel.','removeIncomingSubscription','rejectReady','configure','getJobObservable','modelId','loadEnabledChannels','processInboundReports','detectLocalIssues','update','SystemTopic\x20publish','Get','/resources/generative-ai-workflow/items','arrayBuffer','getLastUpdated','Failed\x20to\x20commit\x20batch\x20after\x20retries:','rate','CONNECTION_STATE_CHANGE','NodeManager\x20-\x20NodeLeave','AudioOutput','appsync-statechange','authNode','handleSubscriptionUnsubscribeMediaStream','.sql','/embeddings','vectors','signOut','/jobs','LoadKnowledgeFunction','processRank','Error\x20parsing\x20JSON:','setScheduleTime','KeyValueDatabaseTableNameReserved','propn','client','Received\x20content\x20available\x20from\x20node','handleSubscriptionRestartNeedMediaStream','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','currentFrames','UpdateMediaStream','checkDeviceConfig','play','authService','NodeManager\x20-\x20ConnectionSuccess','handleFileRequest','Invalid\x20object\x20store\x20sync\x20message.','Events','batchSize','Generative\x20AI\x20context\x20job\x20timeout.','rebuildMMR','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','queryParameters','generative-ai-worker-missing-connector','collection-query','getCapacityReport','Subject','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','Invalid\x20subscription.','KeyValueDatabaseNameNotString','input_tokens','sendReject','checkBackgrounds','DataCollection','getShareableStreamId','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','generative-ai-context-does-not-exist','registerPublisher','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','notifyObjectStoreOfNodeLeave','setInterval','generative-ai','val','Connection\x20does\x20not\x20exist','parseWorkflowDocument','writeBatch','concat','Number','resolve','processInboundReport','_ready','Default','handleError','readyResolve','connections','deleteFileChunks','canChooseAnswer','agentConfig','Error\x20fetching\x20context','setSenderTimestamp','evaluateProccessedJob','Database\x20does\x20not\x20exist','Job\x20worker\x20creation\x20failed.','configs','logDataSent','GraphDatabaseCreationFailed','handleSubscribeMediaStream','Jitter','FROM\x20file','counter','availableTrackKinds','enabled','CannotProvideMediaStream','FinalOutput','processContentSynchronized','\x20with\x20\x27','setupRenderElement','currentTimestamp','subscriptionRequestsQueue','Error\x20fetching\x20URL','DataChannel\x20is\x20not\x20initialized.','Model\x20not\x20found\x20','DataCollectionDoesNotExist','CloseJobDispatcher','GenerativeAIEngineType','interval','en-US','Object\x20store\x20is\x20not\x20in\x20sync','createPubSubTopic','Workflow','Success','Failed','openGraphDatabase','getChannelData','deleteRemoteNode','Cannot\x20unpublish\x20object\x20at\x20','answers','gpt-4o-mini','getConnection','onProviderChange','handleContentSubscribeMediaStream','docs','Error\x20executing\x20agent','.xls','ReceiverOnMessage','RemoteRemove','object-storage','August\x202023','content-unpublish-media','take','Vector\x20database\x20creation\x20failed.','handleOutgoingSystemEvents','form-skill-set-answer','pow','everyone','crewdle','hasMessage','GraphDatabaseStats','ExternalStorageInvalidPath','PeerConnection','job-dispatcher-invalid-payload','RemoteRemediation','connectionType','Connected','developers/','isInternalSDKConfigs','authContext','Node\x20does\x20not\x20exist.','clearRect','gain','not-in','collectionId','generativeAIWorkers','Cannot\x20publish\x20move\x20operation:\x20','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','detectVideoIssues','search','handleTransactionPayload','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','InvalidDataChannel','captureStream','element','object-store-not-in-sync','answerContentAvailable','claude-3-5-sonnet-latest','getTransactionByHash','NodeConnectionsUpdate','expectedTransactions','WaitTrue','relations','sdk-internal-error:\x20','webgl','connection-buffer-not-empty','hashNodes','orderBy','Connection\x20not\x20initialized.','TimePerFrame','FileDelete','Workflow\x20does\x20not\x20exist.','GenerativeAIWorker:\x20Opening','DatabaseEvent','WriteFile','json','results','key-value-database-transaction-value-not-set','getDocs','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','KeyValueDatabaseStats','internal','deleteJob','document-parser','removeTrack','kind','PubSubTopicAlreadyExists','getSentences','track','Mistlet\x20capacity\x20report\x20not\x20set.','write-file','engineType','newPath','Emitting\x20event\x20on\x20local\x20cluster','loadFromDisk','maxBitrate','receiverCurrentBytes','KeyValueDatabaseInvalidValue','Downgrade','lastCapacityReport','Prompt','File\x20sending\x20interrupted','sourceId','Content','createFolder','eventListener','suspended','messageBuffer','Executing\x20custom\x20skill:\x20','reset','checkAudioVolume','getOrResetPendingFileTimeout','enumerateDevices','handleNodeJoin','onGatheringStateChange','SHA-1','buildTableEvent','AppSync\x20subscribe','getRemoteMediaStreams','outgoingStreams','FormSkillSetAnswer','ended','createConstantSource','code','createAIJob','removeEventListener','Logging\x20trace','add','/objectstores/','handleSuccess','handleFolderCreate','asc','senderCurrentTimestamp','getEnabledChannels','writeTransaction','file-list','createSubscription','pubsub','.crewdle-layout','getGraphDatabase','receiverBitrate','getConnections','logLevel','GenerativeAIContextDoesNotExist','.xml','externalStorageConnections','maxResolution','onMessage','removeListener','Result',',\x20Total\x20Nodes:','canAddCandidates','workflow-invalid-block-type','handshakeCandidates','maxFramerate','parseDataCollectionBlocks','Accepted','Unknown\x20skill\x20type','string','cpu.time_per_frame','readyDebounce','Error\x20closing\x20trace','ancestors','disconnected','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','dataStores','connectorConstructor','.pug','isValidMediaSubscriptionParams','name','instance','CrewdleReceiverConnection\x20ontrack','supported','KeyValueDatabaseDoesNotExist','.handlebars','streams','run','PubSubTopicDoesNotExist','closeTrace','log','retryQueues','unsubscribeListener','FormGetQuestion','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','receiver-on-message','file.content','vectorDatabaseConnector','invalid-data-chanel','connector','getGraphDatabases','getJobWorkers','signInWithCredential','queryOrPrompt','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','getCoresFromCapacityReport','owner','SenderPeerConnection.send','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','getQuestion','setInternalId','abs','Missing\x20graph\x20database\x20connector','filter','Object\x20store\x20connector\x20is\x20not\x20available','JobWorker:\x20Handling\x20job\x20attribution','maxTokens','value','runJobQueue','cores','senderTimeProcessing','Query\x20file\x20connector\x20not\x20set','getInternalTrackParams','ObjectStoreInvalidPath','getMilliseconds','AudioContext','Debug','debug','Handshake','sendTransactionsValue\x20-\x20value\x20not\x20found','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','IngestTrace','DataChannel\x20send\x20error','addRemoteNode','Remediation','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','closeConnection','Invalid\x20key','move','sort','syncedFileExists','isAvailable','From\x20','StreamReport','GenerativeAIInferenceToolType','graphDatabases','toLocaleDateString','output-audio-stream','Text','getRemoteMediaStream','application/json','File','.rkt','\x20to\x20generate\x20a\x20response.','Competitive\x20Analysis\x20Agent','emit','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','setEncodingParameters','getCurrentVersion','messageUnsubscriber','delta','getEngineType','Job','completion_tokens','where','contentRect','Missing\x20RAG\x20API\x20key','Logger.getInstance','KeyValueDatabase\x20not\x20found','getAudioTracks','ner','getJob','sync','getItem','url','processPendingHandshakeCandidates','isLoaded','word-splitter','changesUnsubscriber','onUnregisterPublisher','connection-not-connected','getAncestors','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','downgrade','recipients','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','generative-ai-context-already-exists','Stats:\x20report','Invalid\x20subscriber.','publishSyncCompletedAfterWrites\x20-\x20','addCandidate','queues','fromEntries','doc','NeedMediaStream','Error\x20during\x20MMR\x20rebuild\x20logging:','keys','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','title','values','completeSync','Error\x20opening\x20trace','isJobAttribution','JobWorkerInvalidType','parentId','pub-sub-topic-already-exists','file-download','clockSkew','Generative\x20AI\x20context\x20job\x20already\x20consumed.','Parameter\x20','.swift','moveObject','contentMediator','tableObserver','cleanOldSubscription','bandwidth.jitter','Local\x20node\x20rank\x20is\x20not\x20set','catch','searchConnector','pendingFilesRename','dispatchEvent','generative-ai-worker-already-exists','timePerFrame','debounceReady','notifyClusterNodeJoin','getSubscribedTracks','removeRemoteStreamSubscription','cancel','stopTracing','stop','fileSendingMap','currentBatch','/resources/generative-ai-collection/items/','getExternalStorageConnections','getTotalNodes','evaluateBidsAndAttributeJob','required','warn','publishSyncCompletedAfterWrites','createMediaStreamSource','processTransactionPayload','UnpublishMediaStream','Error\x20reading\x20file\x20chunk\x20after\x20','createMediaStreamDestination','getMaxConnections','maxDistance','Outgoing','job-dispatcher-already-exists','hasRemoteNode','setOnMessageHandler','handleAnswer','trace','disconnect','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','key-value-database-invalid-query','result','connected','DocumentParser','job-worker-invalid-type','Missing\x20external\x20storage\x20connector','video','graph-database-already-exists','Data','InvalidSubscription','openKeyValueDatabase','setupConnectionEvents','Rating','accumulateResult','signalingServer','getLocalId','getFirestore','Subscribing\x20to\x20an\x20event:\x20on','Logging\x20not\x20enabled\x20for\x20channel\x20','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','PubSubTopic\x20onMessage','firestore','getStatus','root\x20hash:\x20','signalingState','validateAccess','object-store-invalid-sync-message','logInitialMMR','registerSource','oidc','object','cpu.fps','targetId','time','InternalSDKError','urls','floor','startLoggingCycle','listen','channel','Execute\x20the\x20agent\x20','estimatedPlayoutTimestamp','crewdle-sdk-stg.firebaseapp.com','KeyValueDatabasePeakNotFound','summary-generator','ranges','getContext','JobWorkerDoesNotExist','FS\x20connector\x20is\x20not\x20available','appsync-connect','openObjectStoreBucket','function','sendFile','DataStream\x20onMessage','ref','text/csv','Error\x20writing\x20chunk\x20to\x20stream','loop','OptimizationConnectionSuccess','Interviewer\x20Agent','Attribution','requestSubscription','canvas','21a9d78dee97f487b','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','SubscribeMediaStream','\x20-\x20Sending\x20propagation\x20(','Folder','getTotalBytes','padStart','/nodes/','removeTrackCallback','messageCallback','removeLocalMediaStream','entity-extractor','incrementVersion','SenderPeerConnection\x20send','sourceVideo','incomingManager','findNewMediaSubscription','unregisterSubscriber','jobPhase','getJobDispatchers','handleContentUnpublishMediaStream','checkSyncComplete','\x20does\x20not\x20exists','KeyValueDatabaseRequestTransactionsValue','processDataChannelReport','boolean','PubSubTopic\x20publish','\x20created\x20and\x20dispatched.','ConnectionNotinitialized','handleStatsSystemEvents','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','ConnectionNoRetryQueue','getReceiverTotalBytes','Query\x20Generator','handleNeedRestart','totalEncodeTime','if_else','generative-ai-context-invalid-partial-result','sentence-splitter','operator','.java','createRemoteMediaStream','Chosen\x20answer','addConnection','origin','publishLocalDynamicMediaStream','external-storage-invalid-path','.ejs','unregisterSource','messagesSent','messageType','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','FormSubmitForm','disableIntervalHack','handleObjectDelete','AITrace','Today\x20Date:\x20','.lua','nodeKey','onHandshakeStateChange','Invalid\x20job\x20service\x20payload.','object-store-name-not-string','getTable','syncKeyValueDatabase','nodesConnected','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','JobWorkerCreationFailed','validateKey','sendAction','framerate','handleIceCandidates','isWhereValue','instantiateTransactionTable','packetsLost','connectionGroup','Upload','getMinConnections','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','closeSubscription','graphql','Archival\x20Search\x20Agent','problemType','getProviderId','Audio','exists','parameters','ModelText','removeJobDispatcher','getTableConnector','gpt-4o','remote-media-stream-invalid-subscription-params','Invalid\x20index\x20in\x20table\x20\x27','Invalid\x20job\x20worker\x20type.','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','uuid','54knOlrv','2-digit','notifyJoin','AgentSkill','body','MediaStream','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','forceLog','28YJQFvp','FolderCreate','toStringTag','manageAncestor','createJob','queryFileConnector','isJobRequest','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','Cluster\x20already\x20joined','processReport','canRestartHandshake','Restart\x20NeedMediaStream','remainingTracks','handleSubscriptionSystemEvents','getConfigs','handleDisconnect','feedback','Recording','frameTime','getConnectionType','Data\x20cluster\x20is\x20not\x20open.','firebase-connect','handlePublishMediaStream','ObjectStoreNotInSync','\x20does\x20not\x20support\x20content\x20type\x20','SyncComplete','jobBids','Invalid\x20job\x20type','October\x202023','Boolean','generative-ai-worker-creation-failed','getHash','getMediaSubscription','No\x20destinationIds\x20left','Reranker','Done','apikeys/','closeTopic','776796YzPVbW','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','publishSyncCompleted','\x27\x20to\x20','MissingSystemTopic','ragApiKey','https://api.stg.crewdle.ai','ExternalStorageConnectionAlreadySubscribed','agent-update','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','push','Invalid\x20node\x20type','ExecuteAgent','CrewdleSenderConnection\x20createOffer','getPeakNode','createRemoteNode','northamerica-northeast1','Node\x20type\x20is\x20invalid','isArray','ExternalStorageStats','KeyValueDatabaseInvalidQuery','send','getDatabase','clearWaitSuccess','files','chooseAnswer','NodeLeave','handshakeState','checkAudioContext','LocalMediaStreamAlreadyExists','trackKinds','outgoing-stream-no-topic','fetch-url','CloseExternalStorageConnection','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','getSettings','RemoteMediaStreamMissingProviderId','InvalidSubscriber','priority','Offline','object-store-cannot-write-transaction','setCurrentVersion','Resolution','listenerUnsubscriber','/chat/completions','.pdf','upgradeTimeout','lastProcessRank','providerListener','__esModule','getPubSubTopic','supports','connection-not-initialized','validateLayout','handshakeDebounce','onDisconnectHandler','publishNodeJoin','createLocalDynamicMediaStream','options','remoteNodes','resolution','remediations','llama-3.2-3b','isMediaDestination','filesSynced','removeItem','overlap','unsubscribeTrackEndedListener','unregisterPublisherListener','default','vector','executeJavascriptCodeSnippet','stats','subscription-request-in-progress','hasOwnProperty','DataChannel\x20is\x20not\x20open.','crewdleSDKEnableLogging','Key-Value\x20Database\x20-\x20Sync\x20Completed','inputType','trackListeners','JobDispatcherJobNotFound','getBuffer','setDisplayName','providerId','Move','.doc','choices','renderElement','childRemovedUnsubscriber','contentRequestSent','CrewdleConnectionGroup','sendWithRetry','Queued','slice','statsReport','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','.ps1','ScreenSharing','Problem','\x20completed.','hosting','Stats','timeReceiving','appsync-connect-fail','relevance','openGenerativeAIWorker','GenerativeAIContextJobAlreadyConsumed','Object\x20store\x20not\x20synced.','getOwnerId','getReceiverBitrate','New\x20MMR\x20Root:\x20','Error\x20resolving\x20readyPromises:','AiSearch','shouldContinuePropagation','NodeJoin','issues','desc','web-scraper','node-already-exist','createPendingFileWrite','.cpp','vector-database-creation-failed','pub-sub-topic-name-not-string','applyRemediation','Model\x20not\x20found','discoveryService','workflowId','isChannelEnabled','.tpl','createGenerativeAIContext','maps','autoplay','receiverTotalMessages','long','Writable\x20stream\x20is\x20missing','processReports','transactionHashMap','Delete','CloseKeyValueDatabase','hashTransaction','Search\x20in\x20data\x20collection\x20','retryDelay','Signaling','stopConnection','mediaDevices','\x20ms\x0a','isBidResponse','hasTracks','Tool','image','createTopic','grammar','clear','GenerativeAIContextAlreadyExists','length','subscribeToJobs','Issue\x20detected:\x20','Cluster','region','PromptRating','peer-connection-invalid-destination','bid','getJobs','remediation','undefined','getWorkflow','removeRemoteNode','jobWorkers','detectProblems','fetchContentFromUrl','/traces','removeConnection','JobDispatcherCreationFailed','getToolParams','get-content','getRemoteNodes','KeyValueDatabaseInvalidLayout','calculateArrayBufferSize','createGenerativeAIWorker','lastHeartbeat','getApp','RemoteMediaStreamInvalidSubscriptionParams','job-dispatcher-job-not-found','JobWorker:\x20Error\x20processing\x20job','publishFile','clientStream','\x0a\x20===\x20Total\x20Time:\x20','connection-no-retry-queue','getIsLoaded','text/plain','setSubscriptionRequestTimeout','\x20writes\x20from\x20','Received\x20ContentSynchronized\x20from\x20','Update','RelationExtractor','Prompt\x20is\x20required','strategizing-agent','/nodes','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','GenerativeAIWorkerCreationFailed','July\x202024','key-value-database-transaction-table-not-initialized','Remote\x20stream\x20does\x20not\x20exist.','receiverUnsubscribers','CloseVectorDatabase','observer','chunksReceived','errorDetails','clusterId','subject','head','Invalid\x20query','isIceCandidate','System','remoteId','codes','request-file','isFailedResponse','getTrackFromParam','between','arrayBufferToObject','VectorSearch','firebaseConfig','unregisterSystemPublisher','combinePeaks','openAIKey','successNotified','question-','Crewdle','Embed','Reranker\x20block\x20is\x20missing\x20required\x20data','Document\x20Agent','JobWorker:\x20Sending\x20job\x20result','.css','wait-false','KeyValueDatabaseRequestPeakTransactions','FeatureNotEnabled','mmr','isConnected','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','insert','dataChannel','manageBufferedChunks','debounceRebuildMMRWithTransaction','iceServers','getBid','GenerativeAIWorker:\x20Opened','clearSyncTimeout','getDataLogged','maxFps','entity','sdkCreateToken','GenerativeAIContextJobMissingThreadId','query','\x0a\x20===\x20Total\x20Nodes:','firebaseUnsubscriber','dataUnsubscribers','isWhereBetween','CREWDLE_WEB_SDK','getLabel','\x20must\x20be\x20a\x20string','createIncomingSubscription','find','generativeAIWorkerConnectors','sequence','topK','objectToArrayBuffer','detail','\x0a\x20===\x20Synchronization\x20Time:\x20','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','setupStatsCollection','Received\x20track','DataChannel\x20buffer\x20is\x20full.','isResultResponse','Received\x20event\x20on\x20cluster','search-agent','senderTotalMessages','MediaStreamUnavailable','RetrieveTrace','.djt','copywriter-agent','mediator','GraphDatabaseDoesNotExist','server','object-storage-upload','total','Attempt\x20','Strategizing\x20Agent','deleteCollection','processJobStream','1403613XIkNXN','MediaStreamPriority','connectionPool','model','Internal\x20SDK\x20Error:\x20','ingestBlocks','splitParts','appendTransaction','entities','getDataCollections','srcObject','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','onNodeDisconnect','Execute\x20the\x20workflow\x20','setReceiverBytes','listener','createGain','state','threshold','getNextTargetRank','resolutionScale','.twig','Llamacpp','Warning','responseTimeout','Local\x20MediaStream\x20already\x20exists','Pinecone','answererId','publishMove','split','24fewaiN','Receiving\x20\x27','ConnectionInvalidDataEvent','openVectorDatabase','Job\x20Dispatcher\x20does\x20not\x20exist','Subscription\x20request\x20failed.','end','AudioContext\x20is\x20not\x20available','tokens','aiSearchConnector','connectionConstructor','createBatch','resetConnection','ReceiverPeerConnection.onMessage','\x20already\x20exists','query-file','propagate','processOutboundReports','object-store-invalid-state','KeyValueDatabaseSendTransactions','handleFileWrite','archival-search','GenerativeAIModelInputType','call','tableLayout','registeredListeners','fps','isProduction','audioContext','clearRestartTimeout','output_tokens','data-collection','connectionStateListener','senderBitrate','isSync','getContentType','isOpened','answer','Info','initializeSystemTopic','thread-','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','message','output','sendRequest','GetContextResult','3873DRGMaP','internalJob','hash','SubscriptionRequestDoesNotExist','\x20failed.','Error\x20retrieving\x20context','crewdleSDKDisableLogging','Detection','decodeJWT','storageType','key-value-database-index-not-found','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','load','maxDepth','maxConnections','getEstimatedTimestamp','searchInDataCollection','\x20-\x20','getReport','Cannot\x20list\x20directory:\x20','KeyValueDatabaseCreationFailed','local-stream-does-not-exist','graph-database-creation-failed','.tsx','Pool','SearchGoogle','ConnectionState','job-worker-creation-failed','Bitrate','isSubscribed','Received\x20','getRoot','getGenerativeAIWorkers','handleChunkMessage','once','checkWebRTC','vector-database-does-not-exist','description',',\x20Transactions:\x20','getEmail','bodyParameters','LocalReport','mmrRoot','handleOptimizationConnectionSuccess','next','delete','AppSync\x20client\x20not\x20ready','pop','setReportCapacity','Error\x20committing\x20batch:','Code\x20is\x20required','token','ExecuteWorkflow','ObjectStoreCannotWriteTransaction','openJobWorker','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','featureSupport','JobDispatcher:\x20Received\x20job','connection','graph-database-does-not-exist','KeyValueDatabaseIndexNotFound','key-value-database-table-does-not-exist','form-skill-submit-form','clusterKey','peaks','all-minilm-l12-v2','component','PayloadAction','Remote\x20connection\x20already\x20exists.','FetchUrl','JobDispatcherAlreadyExists','handleRequestPayload','lastUpdated','logServiceEvent','processBatch','.bat','agent','registerDestination','ExternalStorageConnectorsMissing','addVideoTrack','oncloseTimeout','.yml','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','text-embedding-3-large','setupListeners','joinCluster','AppSync\x20publish','outputType','sendChunked','RemoteConnectionExists'];a0_0x3ff3=function(){return _0x2d0518;};return a0_0x3ff3();}